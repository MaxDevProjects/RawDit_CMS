<!DOCTYPE html>
<html lang="{{ site.site.locale | default('fr_FR') | replace('_', '-') }}">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>{{ pageSeo.title or page.title }} · {{ site.site.name }}</title>
  {% if pageSeo.description or site.site.description %}
    <meta name="description" content="{{ pageSeo.description or site.site.description }}" />
  {% endif %}
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family={{ theme.fonts.display | replace(' ', '+') }}:wght@500;700&family={{ theme.fonts.body | replace(' ', '+') }}:wght@400;500&display=swap" rel="stylesheet" />
  <script src="/assets/js/main.js" defer></script>
  <style>
    :root {
      --color-primary: {{ theme.colors.primary }};
      --color-secondary: {{ theme.colors.secondary }};
      --color-text: {{ theme.colors.text }};
      --color-background: {{ theme.colors.background }};
      --radius-sm: {{ theme.radius.small }};
      --radius-md: {{ theme.radius.medium }};
      --radius-lg: {{ theme.radius.large }};
      color-scheme: light;
    }

    *, *::before, *::after {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: '{{ theme.fonts.body }}', system-ui, sans-serif;
      color: var(--color-text);
      background: var(--color-background);
      line-height: 1.6;
    }

    a {
      color: var(--color-primary);
    }

    a:hover {
      color: var(--color-secondary);
    }

    .wrapper {
      max-width: 1100px;
      margin: 0 auto;
      padding: 0 1.5rem 4rem;
    }

    header {
      padding: 2.5rem 0 1.5rem;
    }

    nav ul {
      list-style: none;
      padding: 0;
      margin: 1rem 0 0;
      display: flex;
      gap: 1.5rem;
      flex-wrap: wrap;
    }

    nav a {
      text-decoration: none;
      color: var(--color-text);
      font-weight: 500;
    }

    nav a:hover,
    nav a:focus {
      color: var(--color-primary);
    }

    .visually-hidden {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      border: 0;
    }

    .visually-hidden:focus {
      position: static;
      width: auto;
      height: auto;
      margin: 1rem 0;
      clip: auto;
    }

    main {
      display: flex;
      flex-direction: column;
      gap: 3rem;
      padding-bottom: 4rem;
    }

    .slice {
      border-radius: var(--radius-lg);
      padding: 3rem;
      background: #fff;
      box-shadow: 0 18px 60px rgba(15, 23, 42, 0.08);
    }

    .hero-basic {
      background: var(--color-primary);
      color: #fff;
      text-align: center;
    }

    .hero-split {
      display: grid;
      gap: 2rem;
      background: linear-gradient(135deg, var(--color-primary), var(--color-secondary));
      color: #0f172a;
    }

    .hero-content {
      display: flex;
      flex-direction: column;
      gap: 1rem;
      align-items: center;
    }

    .hero-content h1 {
      font-family: '{{ theme.fonts.display }}', sans-serif;
      font-size: clamp(2.4rem, 4vw, 3.2rem);
      margin: 0;
    }

    .hero-subtitle {
      max-width: 60ch;
    }

    .hero-cta {
      display: inline-block;
      padding: 0.75rem 2rem;
      border-radius: var(--radius-sm);
      background: #fff;
      color: var(--color-primary);
      font-weight: 600;
      text-decoration: none;
    }

    .hero-cta:hover {
      background: var(--color-secondary);
      color: #0f172a;
    }

    .hero-eyebrow {
      letter-spacing: 0.1em;
      text-transform: uppercase;
      font-size: 0.75rem;
      font-weight: 600;
    }

    .text-prose {
      font-size: 1.05rem;
    }

    .text-prose p + p {
      margin-top: 1rem;
    }

    .media-figure {
      display: grid;
      gap: 1rem;
      text-align: center;
    }

    .media-figure img {
      width: min(100%, 780px);
      margin: 0 auto;
      border-radius: var(--radius-md);
    }

    .media-figure figcaption {
      color: rgba(15, 23, 42, 0.6);
      font-size: 0.875rem;
    }

    footer {
      padding: 3rem 0;
      border-top: 1px solid rgba(15, 23, 42, 0.08);
      text-align: center;
      font-size: 0.875rem;
      color: rgba(15, 23, 42, 0.6);
    }

    @media (prefers-reduced-motion: reduce) {
      *, *::before, *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
      }
    }

    @media (max-width: 768px) {
      .slice {
        padding: 2rem;
      }

      nav ul {
        gap: 1rem;
      }
    }
  </style>
</head>
<body>
  <a href="#contenu" class="visually-hidden">Aller au contenu</a>
  <div class="wrapper">
    <header>
      <div class="absolute h-0 w-0 overflow-hidden">
        <p class="hero-eyebrow">{{ site.site.name }}</p>
        <h1 style="margin: 0; font-family: '{{ theme.fonts.display }}', sans-serif;">{{ page.title }}</h1>
        {% if pageSeo.description %}
          <p style="max-width: 60ch;">{{ pageSeo.description }}</p>
        {% endif %}
      </div>
      {% if site.menu %}
        <nav aria-label="Navigation principale">
          <ul>
            {% for item in site.menu %}
              {% set href = '/' if item.slug == 'index' else '/' ~ item.slug ~ '.html' %}
              <li><a href="{{ href }}">{{ item.label }}</a></li>
            {% endfor %}
          </ul>
        </nav>
      {% endif %}
    </header>

    <main id="contenu">
      {% for section in sections %}
        {% set presetClass = section.preset or 'slice' %}
        {% set extraTokens = section.tokens | default([]) | join(' ') %}
        <section 
          id="section-{{ section.id }}" 
          class="slice {{ presetClass }} {{ extraTokens }}" 
          data-section-id="{{ section.id }}"
          data-section-type="{{ section.type }}"
          data-slice-base="slice"
          data-section-preset="{{ presetClass }}"
          aria-label="Section {{ loop.index }}"
        >
          {% include 'sections/' + section.type + '.njk' %}
        </section>
      {% endfor %}
    </main>

    <footer>
      <p>&copy; {{ site.site.name }} — Propulsé par Clower Edit.</p>
    </footer>
  </div>
</body>
</html>
