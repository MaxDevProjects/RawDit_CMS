(()=>{function f(){var s,r,c,d;let i=Array.from(document.querySelectorAll("[data-anim]"));if(!i.length)return;let l=typeof window.matchMedia=="function"&&window.matchMedia("(prefers-reduced-motion: reduce)").matches,b=(((r=(s=document.body)==null?void 0:s.dataset)==null?void 0:r.animations)||((d=(c=document.documentElement)==null?void 0:c.dataset)==null?void 0:d.animations))==="off",o=e=>{let{animDelay:n,animDuration:m}=e.dataset;if(n){let t=Number(n);!Number.isNaN(t)&&t>=0&&e.style.setProperty("--anim-delay",`${t}ms`)}if(m){let t=Number(m);!Number.isNaN(t)&&t>0&&e.style.setProperty("--anim-duration",`${t}ms`)}e.classList.add("is-visible")};if(l||b||typeof IntersectionObserver!="function"){i.forEach(e=>o(e));return}let a=new IntersectionObserver(e=>{e.forEach(n=>{n.isIntersecting&&(o(n.target),a.unobserve(n.target))})},{threshold:.15,rootMargin:"80px"});i.forEach(e=>a.observe(e))}var u={init(){f()},refresh(){f()}};window.ClowerAnimations=u;document.addEventListener("DOMContentLoaded",()=>{u.init()});})();
