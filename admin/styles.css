@import "tailwindcss";

@layer base {
  :root {
    color-scheme: light;
    --color-primary: #7B61FF;
    --color-primary-alpha: rgba(123, 97, 255, 0.3);
    --color-secondary: #A3E3C2;
    --color-secondary-alpha: rgba(163, 227, 194, 0.3);
  }

  .dark {
    color-scheme: dark;
  }

  .contrast {
    color-scheme: dark;
  }

  html,
  body {
    height: 100%;
  }

  body {
    @apply bg-[#F9FAFB] text-[#1A1A1A] antialiased transition-colors duration-200 ease-out;
    font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  }

  .dark body {
    @apply bg-[#1E1E28] text-gray-100;
  }

  .contrast body {
    background-color: #000000;
    color: #ffffff;
  }

  [data-theme='dark'] [data-surface='sidebar'] {
    background-color: #0F0F1A;
    color: #F1F5F9;
    border-color: rgba(51, 65, 85, 0.65);
  }

  [data-theme='dark'] [data-surface='header'] {
    background-color: rgba(18, 18, 37, 0.88);
    border-color: rgba(51, 65, 85, 0.65);
  }

  [data-theme='contrast'] [data-surface='sidebar'],
  [data-theme='contrast'] [data-surface='header'] {
    background-color: #000000;
    color: #FFD700;
    border-color: #FFFFFF;
  }

  [data-theme='light'] .text-white,
  [data-theme='light'] .text-slate-200,
  [data-theme='light'] .text-slate-100 {
    color: #1A1A1A !important;
  }

  [data-theme='light'] .text-slate-300,
  [data-theme='light'] .text-slate-400 {
    color: #6B7280 !important;
  }

  [data-theme='light'] .border-white\/5,
  [data-theme='light'] .border-white\/10 {
    border-color: rgba(229, 231, 235, 0.9) !important;
  }

  [data-theme='light'] .bg-white\/5,
  [data-theme='light'] .bg-white\/10,
  [data-theme='light'] .bg-slate-950\/95,
  [data-theme='light'] .bg-slate-900\/50,
  [data-theme='light'] .bg-white\/0 {
    background-color: #ffffff !important;
  }

  [data-theme='contrast'] a {
    color: #FFD700 !important;
  }

  [data-theme='contrast'] .text-white,
  [data-theme='contrast'] .text-slate-200,
  [data-theme='contrast'] .text-slate-100 {
    color: #FFFFFF !important;
  }

  [data-theme='contrast'] .text-slate-300,
  [data-theme='contrast'] .text-slate-400,
  [data-theme='contrast'] .text-slate-500 {
    color: #FFD700 !important;
  }

  [data-theme='contrast'] .border-white\/5,
  [data-theme='contrast'] .border-white\/10 {
    border-color: #FFFFFF !important;
  }

  [data-theme='contrast'] .bg-indigo-500,
  [data-theme='contrast'] .bg-indigo-500\/10,
  [data-theme='contrast'] .bg-indigo-500\/90 {
    background-color: #FFD700 !important;
    color: #000000 !important;
  }

  [data-theme='contrast'] .text-indigo-100,
  [data-theme='contrast'] .text-indigo-300,
  [data-theme='contrast'] .text-indigo-400 {
    color: #FFD700 !important;
  }

  [data-theme='contrast'] .shadow,
  [data-theme='contrast'] .shadow-sm,
  [data-theme='contrast'] .shadow-md,
  [data-theme='contrast'] .shadow-lg,
  [data-theme='contrast'] .shadow-xl,
  [data-theme='contrast'] .shadow-2xl,
  [data-theme='contrast'] .shadow-inner {
    box-shadow: none !important;
  }

  .font-display {
    font-family: 'Outfit', 'Inter', system-ui, sans-serif;
  }

  .custom-scrollbar {
    scrollbar-width: thin;
    scrollbar-color: rgba(100, 116, 139, 0.3) transparent;
  }

  .custom-scrollbar::-webkit-scrollbar {
    width: 6px;
  }

  .custom-scrollbar::-webkit-scrollbar-track {
    background: transparent;
  }

  .custom-scrollbar::-webkit-scrollbar-thumb {
    border-radius: 9999px;
    background: rgba(100, 116, 139, 0.3);
  }

  .dark .custom-scrollbar {
    scrollbar-color: rgba(148, 163, 184, 0.4) transparent;
  }

  .dark .custom-scrollbar::-webkit-scrollbar-thumb {
    background: rgba(148, 163, 184, 0.4);
  }

  .contrast .custom-scrollbar {
    scrollbar-width: thin;
    scrollbar-color: #FFD700 rgba(255, 255, 255, 0.12);
  }

  .contrast .custom-scrollbar::-webkit-scrollbar {
    width: 8px;
  }

  .contrast .custom-scrollbar::-webkit-scrollbar-thumb {
    background: #FFD700;
  }

  .contrast .custom-scrollbar::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.12);
  }

  [x-cloak] {
    display: none !important;
  }

  @media (prefers-reduced-motion: reduce) {
    *, *::before, *::after {
      animation-duration: 0.001ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.001ms !important;
      scroll-behavior: auto !important;
    }
  }
}

@layer utilities {
  .focus-ring {
    @apply focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2;
  }

  .focus-ring:focus-visible {
    outline-color: #7B61FF;
  }

  [data-theme='dark'] .focus-ring:focus-visible {
    outline-color: #A3E3C2;
  }

  [data-theme='contrast'] .focus-ring:focus-visible {
    outline-color: #FFD700;
  }

  .section-highlight {
    position: relative;
    animation: section-pulse 2s infinite;
  }

  .section-highlight::before {
    content: '';
    position: absolute;
    inset: -2px;
    border: 2px solid var(--color-primary, #7B61FF);
    border-radius: inherit;
    pointer-events: none;
    z-index: 10;
  }

  @keyframes section-pulse {
    0% {
      box-shadow: 0 0 0 0 var(--color-primary-alpha, rgba(123, 97, 255, 0.3));
    }
    70% {
      box-shadow: 0 0 0 10px transparent;
    }
    100% {
      box-shadow: 0 0 0 0 transparent;
    }
  }

  [data-theme='dark'] .section-highlight::before {
    border-color: theme('colors.secondary');
  }

  [data-theme='dark'] .section-highlight {
    animation-name: section-pulse-dark;
  }

  @keyframes section-pulse-dark {
    0% {
      box-shadow: 0 0 0 0 theme('colors.secondary' / 30%);
    }
    70% {
      box-shadow: 0 0 0 10px theme('colors.secondary' / 0%);
    }
    100% {
      box-shadow: 0 0 0 0 theme('colors.secondary' / 0%);
    }
  }

  [data-theme='contrast'] .section-highlight::before {
    border-color: #FFD700;
  }

  [data-theme='contrast'] .section-highlight {
    animation-name: section-pulse-contrast;
  }

  @keyframes section-pulse-contrast {
    0% {
      box-shadow: 0 0 0 0 #FFD700 / 30%;
    }
    70% {
      box-shadow: 0 0 0 10px #FFD700 / 0%;
    }
    100% {
      box-shadow: 0 0 0 0 #FFD700 / 0%;
    }
  }
}
