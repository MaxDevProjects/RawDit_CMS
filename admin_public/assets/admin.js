(()=>{document.addEventListener("DOMContentLoaded",()=>{console.log("[admin] Atelier charg\xE9");let Nt=document.querySelector("[data-logout]");Nt&&Nt.addEventListener("click",async()=>{Nt.disabled=!0;try{await fetch("/api/logout",{method:"POST",headers:{"Content-Type":"application/json"}})}catch(o){console.error("[admin] Impossible de se d\xE9connecter",o)}finally{window.location.href="/admin/index.html"}});let tt=document.querySelector("[data-admin-sidebar]"),we=document.querySelector("[data-admin-sidebar-overlay]"),cs=document.querySelectorAll("[data-admin-sidebar-toggle]"),Ps=document.querySelectorAll("[data-admin-sidebar-close]"),Mt=document.body,gt=!1,ht=()=>{if(!tt)return;if(window.matchMedia("(min-width: 1024px)").matches){tt.classList.remove("hidden"),we==null||we.classList.add("hidden"),Mt.classList.remove("overflow-hidden");return}gt?(tt.classList.remove("hidden"),we==null||we.classList.remove("hidden"),Mt.classList.add("overflow-hidden")):(tt.classList.add("hidden"),we==null||we.classList.add("hidden"),Mt.classList.remove("overflow-hidden"))},Ns=()=>{gt=!0,ht()},Dt=()=>{gt=!1,ht()};tt&&cs.length>0&&(cs.forEach(o=>{o.addEventListener("click",Ns)}),Ps.forEach(o=>{o.addEventListener("click",Dt)}),we==null||we.addEventListener("click",Dt),window.addEventListener("resize",ht),window.addEventListener("keydown",o=>{o.key==="Escape"&&gt&&Dt()}),ht());let ds="clower:currentSite",us="clower:currentSiteName",_={slug:null,name:""};(()=>{try{_.slug=window.localStorage.getItem(ds),_.name=window.localStorage.getItem(us)||""}catch{_.slug=null,_.name=""}})();let Ot=document.querySelectorAll("[data-site-card]"),Ms=document.querySelectorAll("[data-site-select]"),st=document.querySelector("[data-current-site-name]"),ms=document.querySelector("[data-workspace-site-name]"),ps=document.querySelector("[data-workspace-back-name]"),Ue=document.querySelector("[data-workspace-back-modal]"),Ds=document.querySelectorAll("[data-workspace-back]"),Os=document.querySelectorAll("[data-workspace-back-cancel]"),Rt=document.querySelector("[data-workspace-back-confirm]"),Rs=document.querySelectorAll("[data-workspace-tab]"),Ut=document.querySelector("[data-site-toast]"),fs=document.querySelector("[data-site-toast-message]"),Us=document.querySelectorAll("[data-site-create]"),ce=document.querySelector("[data-site-modal]"),je=document.querySelector("[data-site-form]"),Ee=document.querySelector("[data-site-name]"),Ae=document.querySelector("[data-site-slug]"),ge=document.querySelector("[data-site-slug-error]"),Ie=document.querySelector("[data-site-modal-error]"),Hs=document.querySelectorAll("[data-site-modal-cancel]"),Ge=document.querySelector("[data-site-modal-submit]"),J=Ys(),yt=!1,vt=null,Ht=null,zs='a[href], button:not([disabled]), textarea, input, select, [tabindex]:not([tabindex="-1"])',gs=o=>{if(!ce||ce.classList.contains("hidden")||o.key!=="Tab")return;let u=Array.from(ce.querySelectorAll(zs)).filter(T=>!T.hasAttribute("disabled")&&!T.getAttribute("aria-hidden"));if(u.length===0)return;let v=u[0],C=u[u.length-1];o.shiftKey?document.activeElement===v&&(o.preventDefault(),C.focus()):document.activeElement===C&&(o.preventDefault(),v.focus())},$=o=>{!Ut||!fs||(fs.textContent=o,Ut.classList.remove("hidden"),Ht&&clearTimeout(Ht),Ht=setTimeout(()=>{Ut.classList.add("hidden")},2500))};function Pe(o){return o?o.startsWith("/")?o:`/${o}`:""}function Fe(o){return(o==null?void 0:o.replace(/^\//,""))||""}let bt=(o,u)=>{let v=o?Pe(o):null;try{v&&(window.localStorage.setItem(ds,v),_.slug=v),typeof u=="string"&&u.length>0&&(window.localStorage.setItem(us,u),_.name=u)}catch{_.slug=v||_.slug,_.name=u||_.name}},hs=o=>{st&&o&&(st.textContent=o),ms&&o&&(ms.textContent=o),ps&&o&&(ps.textContent=o)},zt=o=>{Rs.forEach(u=>{let v=u.dataset.workspaceTab;if(!v)return;if(!o){u.href="#",u.classList.add("pointer-events-none","opacity-50","text-slate-400"),u.setAttribute("aria-disabled","true");return}let C=encodeURIComponent(Fe(o));u.href=`/admin/site/${C}/${v}`,u.classList.remove("pointer-events-none","opacity-50","text-slate-400"),u.removeAttribute("aria-disabled")})},xt=(o,u={})=>{if(!o)return;let v=Pe(o),C=u.siteName||_.name||(st==null?void 0:st.dataset.defaultSiteName)||"";Ot.forEach(S=>{let A=Pe(S.dataset.siteCard||"")===v,h=S.querySelector("[data-site-active-badge]");A?(S.classList.add("border-[#9C6BFF]","ring-2","ring-[#9C6BFF]","shadow-md"),S.classList.remove("border-slate-200"),h==null||h.classList.remove("hidden"),C=S.dataset.siteName||C):(S.classList.remove("border-[#9C6BFF]","ring-2","ring-[#9C6BFF]","shadow-md"),S.classList.add("border-slate-200"),h==null||h.classList.add("hidden"))}),u.persist!==!1&&bt(v,u.siteName||C);let T=u.siteName||C;hs(T),zt(v)},Vs=async(o,u)=>{let v=Pe(o);try{let C=await fetch("/api/sites/select",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({slug:v})});if(!C.ok){let h=await C.json().catch(()=>({}));$(h.message||"Impossible de s\xE9lectionner ce site.");return}let T=await C.json().catch(()=>({})),S=Pe(T.slug||v),z=T.name||u;bt(S,z),xt(S,{siteName:z,persist:!1});let A=encodeURIComponent(Fe(S));window.location.href=`/admin/site/${A}/design`}catch(C){console.error("[admin] Impossible de s\xE9lectionner le site",C),$("Erreur inattendue lors de la s\xE9lection.")}},Js=async()=>{try{let o=await fetch("/api/sites/current",{credentials:"same-origin"});if(!o.ok){o.status===404&&J&&(window.location.href="/admin/sites");return}let u=await o.json(),v=Pe(u.slug);bt(v,u.name),xt(v,{siteName:u.name,persist:!1})}catch(o){console.warn("[admin] Impossible de r\xE9cup\xE9rer le site actif",o)}};(()=>{if(_.slug){xt(_.slug,{siteName:_.name,persist:!1});return}let o=document.querySelector('[data-site-card][data-site-default="true"]')||Ot[0];o&&xt(o.dataset.siteCard,{siteName:o.dataset.siteName||"",persist:!1})})(),Js(),J?zt(J.slugValue):_.slug&&zt(_.slug),Ms.forEach(o=>{o.addEventListener("click",()=>{if(o.disabled)return;let u=o.dataset.siteSelect,v=o.dataset.siteSelectName||"Ce site";u&&(o.disabled=!0,Vs(u,v).finally(()=>{o.disabled=!1}))})});let nt=o=>o.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),Ws=o=>{let u=nt(o||"");return u?`/${u}`:""},Gs=()=>{ce&&(vt=document.activeElement,ce.classList.remove("hidden"),ce.classList.add("flex"),yt=!1,je==null||je.reset(),ge&&(ge.textContent=""),Ie&&(Ie.textContent=""),Ae&&Ee&&(Ae.value=nt(Ee.value)),document.addEventListener("keydown",gs),window.setTimeout(()=>{Ee==null||Ee.focus()},0))},wt=()=>{ce&&(ce.classList.add("hidden"),ce.classList.remove("flex"),document.removeEventListener("keydown",gs),yt=!1,je==null||je.reset(),ge&&(ge.textContent=""),Ie&&(Ie.textContent=""),vt==null||vt.focus())};Us.forEach(o=>{o.addEventListener("click",Gs)}),Hs.forEach(o=>{o.addEventListener("click",wt)}),ce==null||ce.addEventListener("click",o=>{o.target===ce&&wt()}),Ee==null||Ee.addEventListener("input",()=>{Ae&&(!yt||Ae.value.trim().length===0)&&(Ae.value=nt(Ee.value))}),Ae==null||Ae.addEventListener("input",()=>{yt=!0,ge&&(ge.textContent="")});let _s=()=>new Set(Array.from(Ot).map(o=>Pe(o.dataset.siteCard||"")));je==null||je.addEventListener("submit",async o=>{if(o.preventDefault(),!Ee||!Ae)return;let u=(Ee.value||"").trim(),v=Ae.value||"";v||(v=u);let C=Ws(v);if(!u||!C){ge&&(ge.textContent="Nom et slug sont requis.");return}if(_s().has(C)){ge&&(ge.textContent="Ce slug est d\xE9j\xE0 utilis\xE9.");return}ge&&(ge.textContent=""),Ie&&(Ie.textContent=""),Ge&&(Ge.disabled=!0,Ge.textContent="Cr\xE9ation...");try{let S=await fetch("/api/sites",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:u,slug:C})});if(!S.ok){let P=await S.json().catch(()=>({})),L=P.message||"Impossible de cr\xE9er ce site.";Ie&&(Ie.textContent=L),P.field==="slug"&&ge&&(ge.textContent=L);return}let z=await S.json(),A=Pe((z==null?void 0:z.slug)||C),h=(z==null?void 0:z.name)||u;bt(A,h),wt();let I=encodeURIComponent(Fe(A));window.location.href=`/admin/site/${I}/design`}catch(S){console.error("[admin] Impossible de cr\xE9er le site",S),Ie&&(Ie.textContent="Erreur inattendue. R\xE9essaie dans un instant.")}finally{Ge&&(Ge.disabled=!1,Ge.textContent="Cr\xE9er")}}),window.addEventListener("keydown",o=>{o.key==="Escape"&&(ce&&!ce.classList.contains("hidden")&&wt(),Ue&&!Ue.classList.contains("hidden")&&ys(),blockDeleteModal&&!blockDeleteModal.classList.contains("hidden")&&closeBlockDeleteModal(),blockLibraryOpen&&closeBlockLibrary())});function Ys(){let o=window.location.pathname.match(/^\/admin\/site\/([^/]+)(?:\/([^/]+))?/);return o?{slugPart:decodeURIComponent(o[1]),slugValue:Pe(decodeURIComponent(o[1])),section:o[2]||"design"}:null}function Ks(){return document.querySelector("[data-page-list]")?"design":document.querySelector("[data-collection-list]")?"content":document.querySelector("[data-media-grid]")?"media":document.querySelector("[data-deploy-form]")?"deploy":null}function Xs(){if(!Ue){window.location.href="/admin/sites";return}Ue.classList.remove("hidden"),Ue.classList.add("flex")}function ys(){Ue&&(Ue.classList.add("hidden"),Ue.classList.remove("flex"))}Ds.forEach(o=>{o.addEventListener("click",Xs)}),Os.forEach(o=>{o.addEventListener("click",ys)}),Rt==null||Rt.addEventListener("click",()=>{window.location.href="/admin/sites"});let ot=(J==null?void 0:J.section)||Ks();ot==="design"&&Zs(),ot==="content"&&Qs(),ot==="media"&&sn(),ot==="deploy"&&en(),ot==="settings"&&tn(),J&&_.name&&hs(_.name);function Zs(){let o=document.querySelectorAll("[data-page-list]");if(o.length===0)return;let u=document.querySelector("[data-active-page-title]"),v=document.querySelector("[data-active-page-slug]"),C=document.querySelector("[data-page-preview-tags]"),T=document.querySelector("[data-page-preview-frame]"),S=document.querySelector("[data-preview-open]"),z=document.querySelector("[data-preview-status]"),A=document.querySelector("[data-preview-highlight]"),h=document.querySelector("[data-seo-toggle]"),I=document.querySelector("[data-seo-panel]"),P=document.querySelector("[data-seo-close]"),L=document.querySelector("[data-seo-form]"),F=document.querySelector("[data-seo-title]"),y=document.querySelector("[data-seo-description]"),m=document.querySelector("[data-seo-feedback]"),w=document.querySelector("[data-seo-save]"),f=document.querySelector("[data-blocks-list]"),N=document.querySelector("[data-blocks-empty]"),ae=document.querySelector("[data-block-count]"),W=document.querySelector("[data-block-library-toggle]"),se=document.querySelector("[data-block-library]"),Y=document.querySelectorAll("[data-block-add]"),D=document.querySelector("[data-block-delete-modal]"),G=document.querySelector("[data-block-delete-confirm]"),O=document.querySelector("[data-block-delete-cancel]"),B=document.querySelector("[data-block-detail-empty]"),b=document.querySelector("[data-block-detail-status]"),g=document.querySelector("[data-block-editor]"),j=document.querySelector("[data-block-editor-block-name]"),c=document.querySelector("[data-block-editor-block-type]"),i=document.querySelector("[data-block-editor-unsupported]"),l=document.querySelector("[data-block-form]"),K=l?Array.from(l.querySelectorAll("[data-editor-section]")):[],X=document.querySelectorAll("[data-block-tab]"),ne="content",ye=e=>{ne=e,X.forEach(s=>{let n=s.dataset.blockTab===e;s.setAttribute("aria-selected",n?"true":"false"),n?(s.classList.add("text-[#9C6BFF]"),s.classList.remove("text-slate-500","hover:text-slate-700"),s.classList.add("after:absolute","after:bottom-0","after:left-0","after:right-0","after:h-0.5","after:bg-[#9C6BFF]")):(s.classList.remove("text-[#9C6BFF]"),s.classList.add("text-slate-500","hover:text-slate-700"),s.classList.remove("after:absolute","after:bottom-0","after:left-0","after:right-0","after:h-0.5","after:bg-[#9C6BFF]"))});let t=l==null?void 0:l.querySelector("[data-editor-section]:not(.hidden)");t&&t.querySelectorAll("[data-block-panel]").forEach(n=>{n.dataset.blockPanel===e?n.classList.remove("hidden"):n.classList.add("hidden")})};X.forEach(e=>{e.addEventListener("click",()=>{ye(e.dataset.blockTab)})});let V=l==null?void 0:l.querySelector('[name="collection-grid-collection"]'),ee=l==null?void 0:l.querySelector("[data-collection-selection-info]"),he=document.querySelector("[data-block-form-cancel]"),Se=l==null?void 0:l.querySelector("[data-group-preview-mobile]"),qe=l==null?void 0:l.querySelector("[data-group-preview-desktop]"),ie={hero:{section:"hero",labelField:"title",descriptionField:"subtitle",fields:{title:"hero-title",subtitle:"hero-subtitle",ctaLabel:"hero-cta-label",ctaUrl:"hero-cta-url",image:"hero-image",align:"hero-align"}},paragraphe:{section:"paragraph",labelField:"title",descriptionField:"content",fields:{title:"paragraph-title",content:"paragraph-content",align:"paragraph-align"}},image:{section:"image",labelField:"alt",fields:{src:"image-src",alt:"image-alt",showCaption:"image-caption-toggle",caption:"image-caption"}},groupe:{section:"group",fields:{layout:"group-layout",columnsMobile:"group-columns-mobile",columnsDesktop:"group-columns-desktop"}},collectiongrid:{section:"collection",fields:{collectionId:"collection-grid-collection",limit:"collection-grid-limit"}},form:{section:"form",labelField:"formTitle",fields:{formTitle:"form-title",actionUrl:"form-action-url",method:"form-method",serviceName:"form-service-name",submitLabel:"form-submit-label",successMessage:"form-success-message"}},newsletterembed:{section:"newsletter",labelField:"title",fields:{title:"newsletter-title",serviceName:"newsletter-service-name",embedCode:"newsletter-embed-code"}}},Ne={texte:"paragraphe",paragraph:"paragraphe",paragraphs:"paragraphe",paragraphes:"paragraphe",text:"paragraphe",hero:"hero",image:"image",groupe:"groupe",group:"groupe",collection:"collectiongrid",collectiongrid:"collectiongrid","collection-grid":"collectiongrid",form:"form",formulaire:"form",contact:"form",newsletterembed:"newsletterembed",newsletter:"newsletterembed",embed:"newsletterembed"},re=(e,t)=>{if(!Se||!qe)return;let s=n=>Array.from({length:Number(n)||1}).map(()=>'<span class="block h-2 w-full rounded-full bg-slate-300"></span>').join("");Se.innerHTML=s(e),qe.innerHTML=s(t)},ve=async()=>{if(!Ce)return[];let e=await fetch(Ce,{headers:{Accept:"application/json"}});if(!e.ok)throw new Error("Impossible de charger les pages.");let t=await e.json().catch(()=>[]);return Array.isArray(t)?t:[]},Me=async({title:e,slug:t})=>{if(!Ce)throw new Error("Site inconnu.");let s=await fetch(Ce,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e,slug:t})});if(!s.ok){let n=await s.json().catch(()=>({}));throw new Error(n.message||"Impossible de cr\xE9er la page.")}return s.json().catch(()=>({}))},_e=async e=>{if(!(!Ce||!(e!=null&&e.id)))try{let t=await fetch(`${Ce}/${encodeURIComponent(e.id)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){let n=await t.json().catch(()=>({}));throw new Error(n.message||"Impossible de sauvegarder la page.")}let s=await t.json().catch(()=>({}));if(s!=null&&s.id){let n=ut(s);return te=te.map(d=>d.id===n.id?n:d),(k==null?void 0:k.id)===n.id&&(k=n),n}return s}catch(t){console.error("[design] Save page failed",t),$(t.message||"Sauvegarde impossible.")}},at=async()=>{if(!Ce){te=[],pe=null,k=null,Qe(te,pe),Ze(null),B==null||B.classList.remove("hidden"),g==null||g.classList.add("hidden");return}try{let e=await ve();if(te=(Array.isArray(e)?e:[]).map(t=>ut(t)),te.length===0){pe=null,k=null,Qe(te,pe),Ze(null),B==null||B.classList.remove("hidden"),g==null||g.classList.add("hidden"),T&&(T.srcdoc=R());return}pe=cn(te),Be(pe)}catch(e){console.error("[design] Impossible de charger les pages",e),$("Impossible de charger les pages.")}},Ye=e=>(e||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),De=e=>{if(!e)return null;let t=Ye(e.type),s=Ne[t]||t;return ie[s]||null},ze=e=>{var s,n,d;if(!l||!g)return;e&&!e.settings&&(e.settings={});let t=De(e);if(j&&(j.textContent=(e==null?void 0:e.label)||"Bloc"),c&&(c.textContent=(e==null?void 0:e.type)||"Bloc"),!t){l.classList.add("hidden"),i==null||i.classList.remove("hidden"),l.dataset.blockId="";return}if(i==null||i.classList.add("hidden"),l.classList.remove("hidden"),l.reset(),l.dataset.blockId=e.id,K.forEach(q=>{q.dataset.editorSection===t.section?q.classList.remove("hidden"):q.classList.add("hidden")}),ye("content"),t.section==="collection"){let q=e.collectionId||((s=e.settings)==null?void 0:s.collectionId)||"";Bt(q)}if(Object.entries(t.fields).forEach(([q,H])=>{var We;let Q=l.querySelector(`[name="${H}"]`);if(!Q)return;let le=(We=e.settings)==null?void 0:We[q];Q.type==="checkbox"?Q.checked=!!le:Q.type==="number"?Q.value=le!=null?le:1:(Q.tagName,Q.value=le!=null?le:"")}),t.section==="group"){let q=((n=l.querySelector('[name="group-columns-mobile"]'))==null?void 0:n.value)||"1",H=((d=l.querySelector('[name="group-columns-desktop"]'))==null?void 0:d.value)||"3";re(q,H)}},Ke=e=>{if(!l||!e)return{};let t={};return Object.entries(e.fields).forEach(([s,n])=>{let d=l.querySelector(`[name="${n}"]`);if(d)if(d.type==="checkbox")t[s]=d.checked;else if(d.type==="number"){let q=Number(d.value);t[s]=Number.isFinite(q)?q:0}else d.tagName==="TEXTAREA"?t[s]=d.value||"":d.type==="select-one"?t[s]=d.value:t[s]=d.value||""}),t},r=e=>{if(z){if(!e){z.classList.add("hidden");return}z.classList.remove("hidden"),z.textContent=e}},x=e=>e?{id:e.id,title:e.title,slug:e.slug,badges:[...e.badges||[]],blocks:(e.blocks||[]).map(t=>{var s;return{id:t.id,type:t.type,label:t.label,status:t.status,description:t.description,props:t.props||[],settings:t.settings||{},collectionId:t.collectionId||((s=t.settings)==null?void 0:s.collectionId)||""}})}:null,R=()=>'<!DOCTYPE html><html><body style="font-family:Inter,sans-serif;padding:40px;color:#475569;background:#fff;">Pr\xE9paration de la pr\xE9visualisation\u2026</body></html>',U=e=>{if(!T||!e)return;let t=(J==null?void 0:J.slugValue)||_.slug||"",s={page:x(e),site:{title:_.name||"Site",slug:t}};ss=!1,r("Actualisation\u2026"),T.srcdoc=R(),dt&&dt.abort();let n=new AbortController;dt=n,fetch("/api/preview",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s),signal:n.signal}).then(d=>{if(!d.ok)throw new Error("Preview error");return d.json()}).then(d=>{n.signal.aborted||(ts=d.html||"",T.setAttribute("title",`Pr\xE9visualisation de la page ${e.title||""}`.trim()),T.srcdoc=ts||R(),r("\xC0 jour"))}).catch(d=>{n.signal.aborted||(console.error("[preview] Impossible de rendre la page",d),r("Erreur preview"),T.srcdoc='<!DOCTYPE html><html><body style="font-family:Inter,sans-serif;padding:40px;color:#be123c;background:#fff;">Erreur lors du rendu de la pr\xE9visualisation.</body></html>')}).finally(()=>{dt===n&&(dt=null)})},Ve=e=>{if(e.preventDefault(),!k||!fe)return;let t=Xt(),s=De(t);if(!t||!s)return;let n=Ke(s);if(s.section==="collection"){if(!n.collectionId){$("S\xE9lectionnez une collection.");return}n.limit=Math.max(1,Number(n.limit)||1)}let d=(k.blocks||[]).map(q=>{if(q.id!==t.id)return q;let H={...q.settings||{},...n},Q={...q,settings:H};return s.labelField&&n[s.labelField]&&(Q.label=n[s.labelField]),s.descriptionField&&n[s.descriptionField]&&(Q.description=n[s.descriptionField]),s.section==="collection"&&(Q.collectionId=n.collectionId,Q.settings.collectionId=n.collectionId,Q.settings.limit=n.limit),Q});lt(d),$("Bloc mis \xE0 jour"),Be(k.id,{preserveBlock:!0})},Le=document.querySelector("[data-page-drawer]"),de=document.querySelector("[data-page-drawer-backdrop]"),St=document.querySelectorAll("[data-page-drawer-open]"),a=document.querySelectorAll("[data-page-drawer-close]"),p=document.querySelector("[data-add-page-toggle]"),E=document.querySelector("[data-add-page-form]"),M=document.querySelector("[data-add-page-title]"),Z=document.querySelector("[data-add-page-slug]"),Je=document.querySelector("[data-add-page-cancel]"),oe=document.querySelector("[data-add-page-error]"),be=E==null?void 0:E.querySelector('[type="submit"]'),Xe=document.querySelector("[data-import-pages-toggle]"),xe=document.querySelector("[data-import-modal]"),Lt=document.querySelectorAll("[data-import-modal-close]"),ue=document.querySelector("[data-import-dropzone]"),Vt=document.querySelector("[data-import-file-input]"),Jt=document.querySelector("[data-import-file-list]"),vs=document.querySelector("[data-import-file-names]"),Ct=document.querySelector("[data-import-results]"),Et=document.querySelector("[data-import-results-content]"),me=document.querySelector("[data-import-submit]"),bs=document.querySelectorAll("[data-import-tab]"),nn=document.querySelectorAll("[data-import-panel]"),Wt=document.querySelector("[data-copy-template]"),xs=document.querySelector("[data-template-json]"),He=[],Te=document.querySelector("[data-delete-page-modal]"),ws=document.querySelector("[data-delete-page-name]"),Gt=document.querySelector("[data-delete-page-cancel]"),Oe=document.querySelector("[data-delete-page-confirm]"),rt=null,on=Fe((J==null?void 0:J.slugValue)||_.slug||"default")||"default",an=(J==null?void 0:J.slugValue)||_.slug||"",qt=Fe(an)||"",Ce=qt?`/api/sites/${encodeURIComponent(qt)}/pages`:null,Ss=qt?`/api/sites/${encodeURIComponent(qt)}/collections`:null,Ls={active:`clower:activePage:${on}`},_t=(e,t,s,n,d,q=[],H={})=>{let Q={id:e,label:t,type:s,status:n,description:d,props:q,settings:{...H}};return Q.settings.collectionId&&(Q.collectionId=Q.settings.collectionId),Q},rn={hero:{type:"Hero",label:"Hero de page",description:"Section pleine largeur avec CTA principal.",status:"Brouillon",props:[{label:"CTA",value:"D\xE9couvrir"},{label:"Hauteur",value:"80vh"}],settings:{title:"Titre du hero",subtitle:"",ctaLabel:"D\xE9couvrir",ctaUrl:"#",image:"",align:"center"}},paragraph:{type:"Paragraphe",label:"Bloc \xE9ditorial",description:"Paragraphe libre pour raconter votre histoire.",status:"Brouillon",props:[{label:"Longueur",value:"150 mots"}],settings:{title:"Titre du paragraphe",content:"",align:"left"}},image:{type:"Image",label:"Bloc image",description:"Visuel seul avec l\xE9gende optionnelle.",status:"Brouillon",props:[{label:"Ratio",value:"16:9"},{label:"L\xE9gende",value:"Inactive"}],settings:{src:"",alt:"",showCaption:!1,caption:""}},group:{type:"Groupe",label:"Groupe de sections",description:"Conteneur pour imbriquer plusieurs sous-blocs.",status:"Brouillon",props:[{label:"Disposition",value:"Verticale"}],settings:{layout:"grid",columnsMobile:"1",columnsDesktop:"3"}},collectiongrid:{type:"CollectionGrid",label:"Grille de contenus",description:"Affiche automatiquement les items d\u2019une collection.",status:"Brouillon",settings:{collectionId:"",limit:6}},form:{type:"Form",label:"Formulaire de contact",description:"Formulaire avec envoi vers un service externe.",status:"Brouillon",settings:{formTitle:"Contactez-nous",actionUrl:"",method:"POST",serviceName:"",submitLabel:"Envoyer",successMessage:"Merci pour votre message !"}},newsletterembed:{type:"NewsletterEmbed",label:"Newsletter / Embed",description:"Int\xE9gration d'un formulaire newsletter externe (Brevo, Mailchimp\u2026).",status:"Brouillon",settings:{title:"Restez inform\xE9",serviceName:"",embedCode:""}}},ln=e=>{try{window.localStorage.setItem(Ls.active,e)}catch{}},cn=e=>{var t;try{let s=window.localStorage.getItem(Ls.active);if(s&&e.some(n=>n.id===s))return s}catch{}return((t=e[0])==null?void 0:t.id)||null},dn=e=>!e||e<=0?"0 bloc":e===1?"1 bloc":`${e} blocs`,Cs=e=>{if(!e||e==="/")return"/";let t=nt(e.replace(/^\//,""));return t?`/${t}`:"/"},Yt=(e="page",t="block")=>`${e}-${t}-${Date.now().toString(36)}-${Math.floor(Math.random()*1e3)}`,Dn=(e,t)=>[_t(Yt(e,"intro"),"Introduction","Paragraphe","Brouillon",`Paragraphe introductif pour "${t}".`,[{label:"Longueur",value:"2 paragraphes"}],{title:`Introduction \xE0 ${t}`,content:"Ajoutez votre premier paragraphe de pr\xE9sentation.",align:"left"}),_t(Yt(e,"content"),"Zone de contenu","Groupe","Brouillon","Section principale \xE0 composer avec textes et visuels.",[{label:"Colonnes",value:"Auto"}],{layout:"grid",columnsMobile:"1",columnsDesktop:"2"})],un=e=>{u&&(u.textContent=(e==null?void 0:e.title)||"Page"),v&&(v.textContent=(e==null?void 0:e.slug)||"/")},mn=e=>{if(!C)return;C.innerHTML="",(e&&e.badges&&e.badges.length>0?e.badges:["Structure en cours"]).forEach(s=>{let n=document.createElement("span");n.className="rounded-full bg-slate-100 px-3 py-1",n.textContent=s,C.appendChild(n)})},pn=e=>{switch((e||"").toLowerCase()){case"en ligne":return"bg-emerald-50 text-emerald-700";case"brouillon":return"bg-amber-50 text-amber-700";default:return"bg-slate-100 text-slate-600"}},kt=e=>{if(!(!B||!g)){if(!e){B.classList.remove("hidden"),g.classList.add("hidden"),i==null||i.classList.add("hidden"),l==null||l.classList.add("hidden"),b==null||b.classList.add("hidden");return}B.classList.add("hidden"),g.classList.remove("hidden"),b&&(e.status?(b.textContent=e.status,b.className=`rounded-full px-3 py-1 text-xs font-semibold ${pn(e.status)}`,b.classList.remove("hidden")):b.classList.add("hidden")),ze(e)}},it=e=>{if(!T)return;let t=T.contentDocument;if(!t)return;t.querySelectorAll("[data-preview-block]").forEach(n=>{n.dataset.previewBlock===e?(n.classList.add("preview-block-active"),ss&&e&&n.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})):n.classList.remove("preview-block-active")}),A&&(A.style.borderColor=e?"rgba(156, 107, 255, 0.5)":"transparent")},Ze=e=>{if(!f)return;f.innerHTML="";let t=(e==null?void 0:e.blocks)||[];if(ae&&(ae.textContent=dn(t.length)),t.length===0){f.classList.add("hidden"),N==null||N.classList.remove("hidden");return}f.classList.remove("hidden"),N==null||N.classList.add("hidden"),t.forEach(s=>{var js;let n=s.id===fe,d=document.createElement("div");d.dataset.blockItem="true",d.dataset.blockId=s.id,d.setAttribute("role","option"),d.setAttribute("aria-selected",n?"true":"false"),d.tabIndex=0,d.className=["relative flex items-center gap-3 rounded-2xl border px-3 py-2 text-left transition",n?"bg-slate-100 border-[#9C6BFF]/40 shadow-sm":"border-slate-200 hover:border-[#9C6BFF]/40"].join(" ");let q=document.createElement("span");q.className=`absolute inset-y-2 left-0 w-1 rounded-full bg-[#9C6BFF] ${n?"":"hidden"}`,d.appendChild(q);let H=document.createElement("div");H.className="flex flex-1 items-center gap-3";let Q=document.createElement("div");Q.className="hidden lg:flex cursor-grab flex-shrink-0 items-center text-lg text-slate-400",Q.innerHTML="&#8801;",H.appendChild(Q);let le=document.createElement("div");le.className="flex-1";let We=document.createElement("div");We.className="flex items-center gap-2 text-[11px] uppercase tracking-wide text-slate-500";let as=document.createElement("span");as.className="rounded-full bg-slate-100 px-2 py-0.5 text-[10px] font-semibold text-slate-600",as.textContent=s.type;let rs=document.createElement("span");rs.className="text-slate-400",rs.textContent=s.status,We.appendChild(as),We.appendChild(rs);let is=document.createElement("p");is.className="mt-1 text-sm font-semibold text-slate-900";let jn=s.settings&&s.settings.title||s.label||"Bloc sans titre";if(is.textContent=jn,le.appendChild(We),le.appendChild(is),(s.type||"").toLowerCase()==="collectiongrid"&&s.collectionId){let ke=((js=$e.find(Pn=>Pn.id===s.collectionId))==null?void 0:js.name)||s.collectionId,ls=document.createElement("p");ls.className="text-xs text-slate-400",ls.textContent=`Collection : ${ke}`,le.appendChild(ls)}H.appendChild(le),d.appendChild(H);let jt=document.createElement("div");jt.className="flex flex-col gap-1 text-xs text-slate-400";let Pt=document.createElement("div");Pt.className="flex items-center gap-1 lg:hidden";let mt=document.createElement("button");mt.type="button",mt.className="rounded-lg border border-slate-200 px-2 py-1 text-[11px] font-semibold text-slate-500",mt.textContent="\u2191",mt.addEventListener("click",ke=>{ke.stopPropagation(),Es(s.id,-1)});let pt=document.createElement("button");pt.type="button",pt.className="rounded-lg border border-slate-200 px-2 py-1 text-[11px] font-semibold text-slate-500",pt.textContent="\u2193",pt.addEventListener("click",ke=>{ke.stopPropagation(),Es(s.id,1)}),Pt.appendChild(mt),Pt.appendChild(pt),jt.appendChild(Pt);let ft=document.createElement("button");ft.type="button",ft.className="inline-flex items-center justify-center rounded-lg border border-transparent px-2 py-1 text-[12px] text-rose-500 hover:text-rose-700",ft.innerHTML="\u{1F5D1}\uFE0F",ft.addEventListener("click",ke=>{ke.stopPropagation(),xn(s.id)}),jt.appendChild(ft),d.appendChild(jt),d.addEventListener("click",()=>{et(s.id)}),d.addEventListener("keydown",ke=>{(ke.key==="Enter"||ke.key===" ")&&(ke.preventDefault(),et(s.id))}),f.appendChild(d)})},fn=e=>{!Te||!e||(rt=e,ws&&(ws.textContent=e.title||e.id),Te.classList.remove("hidden"),Te.classList.add("flex"))},Kt=()=>{Te&&(Te.classList.add("hidden"),Te.classList.remove("flex"),rt=null)},gn=async()=>{if(!Ce||!rt)return;let e=rt.id,t=rt.title||e;Oe&&(Oe.disabled=!0,Oe.textContent="Suppression...");try{let s=await fetch(`${Ce}/${encodeURIComponent(e)}`,{method:"DELETE",credentials:"include"}),n=await s.json();if(!s.ok)throw new Error(n.message||"Erreur serveur");te=te.filter(d=>d.id!==e),pe===e?te.length>0?Be(te[0].id):(pe=null,k=null,Qe(te,null),Ze(null),B==null||B.classList.remove("hidden"),g==null||g.classList.add("hidden"),T&&(T.srcdoc=R())):Qe(te,pe),Kt(),$(`Page "${t}" supprim\xE9e`)}catch(s){console.error("[pages] delete failed",s),$(s.message||"Erreur suppression")}finally{Oe&&(Oe.disabled=!1,Oe.textContent="Supprimer")}},Qe=(e,t)=>{o.forEach(s=>{s.innerHTML="",e.forEach(n=>{let d=document.createElement("li");d.className="flex items-center gap-1";let q=document.createElement("button");q.type="button",q.dataset.pageId=n.id,q.className=["flex-1 flex items-center gap-3 px-3 py-2 text-left transition",t===n.id?"bg-[#9C6BFF]/10 text-slate-900 border border-[#9C6BFF]/40 rounded-xl shadow-sm":"text-slate-700 hover:bg-slate-50 rounded-xl"].join(" "),t===n.id?q.setAttribute("aria-current","page"):q.removeAttribute("aria-current"),q.innerHTML=`
            <span class="flex h-9 w-9 items-center justify-center rounded-xl border border-slate-200 bg-white text-slate-500">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                <path d="M6.5 4.5h7l4 4v11a1 1 0 0 1-1 1h-10a1 1 0 0 1-1-1v-14a1 1 0 0 1 1-1Z" stroke="currentColor" stroke-width="1.4" stroke-linejoin="round"/>
                <path d="M13.5 4.5v4a1 1 0 0 0 1 1h3" stroke="currentColor" stroke-width="1.4"/>
              </svg>
            </span>
            <div class="flex flex-col">
              <span class="text-sm font-semibold">${n.title}</span>
              <span class="text-xs text-slate-500">${n.slug}</span>
            </div>
          `,q.addEventListener("click",()=>{Be(n.id),Qt()||es()}),d.appendChild(q);let H=document.createElement("button");H.type="button",H.className="flex-shrink-0 p-2 text-slate-400 hover:text-rose-600 hover:bg-rose-50 rounded-lg transition",H.title="Supprimer cette page",H.setAttribute("aria-label",`Supprimer ${n.title}`),H.innerHTML=`
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M3 6h18M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2m3 0v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6h14ZM10 11v6M14 11v6"/>
            </svg>
          `,H.addEventListener("click",Q=>{Q.stopPropagation(),fn(n)}),d.appendChild(H),s.appendChild(d)})})},Xt=()=>!k||!Array.isArray(k.blocks)?null:k.blocks.find(e=>e.id===fe)||null,et=e=>{if(!k)return;if(!e){fe=null,Ze(k),kt(null),it(null);return}let t=k.blocks.find(s=>s.id===e)||k.blocks[0]||null;fe=(t==null?void 0:t.id)||null,Ze(k),kt(t),it(fe)},lt=e=>{if(!k)return;let t={...k,blocks:e};wn(t)},At=()=>window.matchMedia("(min-width: 1024px)").matches;function Es(e,t){if(!k||!e||!t)return;let s=[...k.blocks||[]],n=s.findIndex(H=>H.id===e);if(n<0)return;let d=n+t;if(d<0||d>=s.length)return;let[q]=s.splice(n,1);s.splice(d,0,q),lt(s),Be(k.id,{preserveBlock:!0}),et(q.id)}function hn(e,t){if(!k||!e||!t||e===t)return;let s=[...k.blocks||[]],n=s.findIndex(H=>H.id===e),d=s.findIndex(H=>H.id===t);if(n<0||d<0)return;let[q]=s.splice(n,1);s.splice(d,0,q),lt(s),Be(k.id,{preserveBlock:!0}),et(q.id)}function qs(){if(!f)return;let e=At();f.querySelectorAll("[data-block-item]").forEach(t=>{t.setAttribute("draggable",e?"true":"false")})}function It(){se&&(se.classList.add("hidden"),ct=!1)}function yn(){se&&(se.classList.remove("hidden"),ct=!0)}function vn(){ct?It():yn()}function bn(e){var q;if(!k||!e)return;let t=rn[e];if(!t)return;let s=(k.blocks||[]).filter(H=>H.type===t.type).length+1,n=_t(Yt(k.id,e),`${t.label} ${s}`,t.type,t.status,t.description,t.props,t.settings||{});if((t.type||"").toLowerCase()==="collectiongrid"){let H=((q=$e[0])==null?void 0:q.id)||"";n.collectionId=H,n.settings.collectionId=H,n.settings.limit=n.settings.limit||6}let d=[...k.blocks||[],n];lt(d),Be(k.id,{preserveBlock:!0}),et(n.id),It(),$("Bloc ajout\xE9")}function ks(e){var n,d;if(!k)return;let t=(k.blocks||[]).filter(q=>q.id!==e),s=e===fe?((n=t[0])==null?void 0:n.id)||null:fe||((d=t[0])==null?void 0:d.id)||null;lt(t),fe=s,Be(k.id,{preserveBlock:!0}),fe?et(fe):(kt(null),it(null)),$("Bloc supprim\xE9")}function Zt(){D&&(D.classList.add("hidden"),D.classList.remove("flex"),Tt=null)}function xn(e){if(!D){ks(e);return}Tt=e,D.classList.remove("hidden"),D.classList.add("flex")}let wn=e=>{if(!e)return;let t=ut(e);te=te.map(s=>s.id===t.id?t:s),k=t,_e(t)},Be=(e,t={})=>{var d,q;let s=te.find(H=>H.id===e)||te[0]||null;k=s?ut(s):null,pe=(s==null?void 0:s.id)||null,(!t.preserveBlock||!k||!k.blocks.some(H=>H.id===fe))&&(fe=((q=(d=k==null?void 0:k.blocks)==null?void 0:d[0])==null?void 0:q.id)||null),pe&&ln(pe),Qe(te,pe),un(k),mn(k),U(k),Ze(k),kt(Xt()),it(fe),qs(),ct&&It()},Qt=()=>window.matchMedia("(min-width: 1024px)").matches,As=()=>{Le&&(Qt()?(Le.classList.add("is-open"),de==null||de.classList.add("hidden"),document.body.classList.remove("overflow-hidden")):Le.classList.remove("is-open"))},Sn=()=>{!Le||Qt()||(Le.classList.add("is-open"),de==null||de.classList.remove("hidden"),document.body.classList.add("overflow-hidden"))},es=()=>{Le&&(Le.classList.remove("is-open"),de==null||de.classList.add("hidden"),document.body.classList.remove("overflow-hidden"))},Ln=()=>{!E||!p||(E.classList.remove("hidden"),p.classList.add("hidden"),oe&&(oe.textContent=""),Ft=!1,M&&(M.value="",M.focus()),Z&&(Z.value=""))},Is=()=>{!E||!p||(E.classList.add("hidden"),p.classList.remove("hidden"),oe&&(oe.textContent=""),Ft=!1,E.reset())},Cn=()=>{!M||!Z||Ft&&Z.value.trim().length>0||(Z.value=Cs(M.value))},te=[],pe=null,Ft=!1,k=null,fe=null,ct=!1,Tt=null,ts="",ss=!1,dt=null,$e=[],En=e=>{let t={...e,props:Array.isArray(e.props)?e.props:[],settings:{...e.settings||{}}};return(t.type||"").toLowerCase()==="collectiongrid"&&(t.collectionId=t.collectionId||t.settings.collectionId||"",t.settings.collectionId=t.collectionId,t.settings.limit=t.settings.limit||6),t},ut=e=>{var t,s;return{...e,blocks:(e.blocks||[]).map(n=>En(n)),seo:{title:(((t=e.seo)==null?void 0:t.title)||"").trim(),description:(((s=e.seo)==null?void 0:s.description)||"").trim()}}},qn=async()=>{if(!Ss){$e=[],Bt();return}try{let e=await fetch(Ss,{headers:{Accept:"application/json"}});if(!e.ok)throw new Error("Impossible de charger les collections.");let t=await e.json().catch(()=>[]);$e=Array.isArray(t)?t:[];let s=(V==null?void 0:V.value)||"";Bt(s)}catch(e){console.error("[design] collections load",e),$("Collections indisponibles."),$e=[],Bt()}},ns=e=>{if(!ee)return;if(!e){ee.textContent=$e.length?"S\xE9lectionnez une collection pour afficher ses informations.":"Aucune collection disponible. Ajoutez-en depuis l\u2019onglet Contenus.";return}let t=$e.find(n=>n.id===e);if(!t){ee.textContent=`Collection ${e}`;return}let s=[];t.description&&s.push(t.description),t.type&&s.push(`Type\xA0: ${t.type}`),ee.textContent=s.join(" \xB7 ")||`Collection ${t.name||t.id}`},Bt=(e="")=>{if(V){if(V.innerHTML="",!$e.length){V.disabled=!0;let t=document.createElement("option");t.value="",t.textContent="Aucune collection disponible",V.appendChild(t),ns("");return}if(V.disabled=!1,e&&!$e.some(t=>t.id===e)){let t=document.createElement("option");t.value=e,t.textContent=e,V.appendChild(t)}$e.forEach(t=>{let s=document.createElement("option");s.value=t.id;let n=t.name||t.id;s.textContent=t.type?`${n} \xB7 ${t.type}`:n,s.dataset.description=t.description||"",V.appendChild(s)}),e&&(V.value=e),ns(V.value||"")}};qn(),As(),St.forEach(e=>{e.addEventListener("click",Sn)}),a.forEach(e=>{e.addEventListener("click",es)}),de==null||de.addEventListener("click",es),window.addEventListener("resize",()=>{As(),qs()}),p==null||p.addEventListener("click",Ln),Je==null||Je.addEventListener("click",Is),M==null||M.addEventListener("input",Cn),Z==null||Z.addEventListener("input",()=>{oe&&(oe.textContent=""),Ft=!0}),E==null||E.addEventListener("submit",async e=>{if(e.preventDefault(),!Ce){oe&&(oe.textContent="Aucun site s\xE9lectionn\xE9.");return}if(!M||!Z)return;let t=M.value.trim(),s=Cs(Z.value.trim()||t);if(!t||!s){oe&&(oe.textContent="Titre et slug sont requis.");return}oe&&(oe.textContent=""),be&&(be.disabled=!0,be.textContent="Cr\xE9ation...");try{let n=await Me({title:t,slug:s});if(!n||!n.id)throw new Error("R\xE9ponse invalide.");te=[...te,ut(n)],Is(),$("Page cr\xE9\xE9e"),Be(n.id)}catch(n){console.error("[design] create page failed",n),oe&&(oe.textContent=n.message||"Impossible de cr\xE9er la page.")}finally{be&&(be.disabled=!1,be.textContent="Cr\xE9er")}});let kn=()=>{xe&&(xe.classList.remove("hidden"),xe.classList.add("flex"),He=[],os(),Ct&&Ct.classList.add("hidden"),Et&&(Et.innerHTML=""),me&&(me.disabled=!0))},Fs=()=>{xe&&(xe.classList.add("hidden"),xe.classList.remove("flex"),He=[])},os=()=>{if(!(!Jt||!vs)){if(He.length===0){Jt.classList.add("hidden"),me&&(me.disabled=!0);return}Jt.classList.remove("hidden"),vs.innerHTML=He.map(e=>`<li class="flex items-center gap-2"><span class="text-lg">\u{1F4C4}</span>${e.name}</li>`).join(""),me&&(me.disabled=!1)}},Ts=e=>{let t=Array.from(e).filter(s=>s.type==="application/json"||s.name.endsWith(".json"));if(t.length===0){$("Aucun fichier JSON valide.");return}He=t,os()},An=async()=>{if(!(!Ce||He.length===0)){me&&(me.disabled=!0,me.textContent="Import...");try{let e=[];for(let n of He){let d=await n.text();try{let q=JSON.parse(d);Array.isArray(q)?e.push(...q):e.push(q)}catch(q){$(`Erreur JSON dans ${n.name}`),console.error("[import] parse error",n.name,q)}}if(e.length===0){$("Aucune page valide \xE0 importer.");return}let t=await fetch(`${Ce}/import`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)}),s=await t.json();if(!t.ok)throw new Error(s.message||"Erreur serveur");if(Ct&&Et){Ct.classList.remove("hidden");let n="";s.imported&&s.imported.length>0&&(n+=`<p class="text-green-700">\u2713 ${s.imported.length} page(s) import\xE9e(s)</p>`,n+='<ul class="ml-4 text-xs text-slate-600">',s.imported.forEach(d=>{n+=`<li>${d.title} (${d.action==="updated"?"mise \xE0 jour":"cr\xE9\xE9e"})</li>`}),n+="</ul>"),s.errors&&s.errors.length>0&&(n+=`<p class="text-rose-600 mt-2">\u2717 ${s.errors.length} erreur(s)</p>`,n+='<ul class="ml-4 text-xs text-rose-500">',s.errors.forEach(d=>{n+=`<li>${d.title}: ${d.error}</li>`}),n+="</ul>"),Et.innerHTML=n}s.imported&&s.imported.length>0&&(te=await ve(),Qe(te,pe),te.length>0&&!pe&&Be(te[0].id),$(`${s.imported.length} page(s) import\xE9e(s)`)),He=[],os()}catch(e){console.error("[import] failed",e),$(e.message||"Erreur import")}finally{me&&(me.disabled=!1,me.textContent="Importer")}}};Xe==null||Xe.addEventListener("click",kn),Lt.forEach(e=>e.addEventListener("click",Fs)),xe==null||xe.addEventListener("click",e=>{e.target===xe&&Fs()}),Vt==null||Vt.addEventListener("change",e=>{Ts(e.target.files)}),ue==null||ue.addEventListener("dragover",e=>{e.preventDefault(),ue.classList.add("border-[#9C6BFF]","bg-[#9C6BFF]/10")}),ue==null||ue.addEventListener("dragleave",e=>{e.preventDefault(),ue.classList.remove("border-[#9C6BFF]","bg-[#9C6BFF]/10")}),ue==null||ue.addEventListener("drop",e=>{e.preventDefault(),ue.classList.remove("border-[#9C6BFF]","bg-[#9C6BFF]/10"),Ts(e.dataTransfer.files)}),me==null||me.addEventListener("click",An),bs.forEach(e=>{e.addEventListener("click",()=>{let t=e.dataset.importTab;bs.forEach(s=>{s.dataset.importTab===t?(s.classList.add("bg-[#9C6BFF]","text-white"),s.classList.remove("border","border-slate-200","text-slate-700")):(s.classList.remove("bg-[#9C6BFF]","text-white"),s.classList.add("border","border-slate-200","text-slate-700"))}),nn.forEach(s=>{s.dataset.importPanel===t?s.classList.remove("hidden"):s.classList.add("hidden")})})}),Wt==null||Wt.addEventListener("click",async()=>{if(!xs)return;let e=xs.textContent||"";try{await navigator.clipboard.writeText(e),$("Template copi\xE9 !")}catch(t){console.error("[import] copy failed",t),$("Erreur copie")}}),Gt==null||Gt.addEventListener("click",Kt),Oe==null||Oe.addEventListener("click",gn),Te==null||Te.addEventListener("click",e=>{e.target===Te&&Kt()}),W==null||W.addEventListener("click",e=>{e.stopPropagation(),vn()}),document.addEventListener("click",e=>{ct&&(se!=null&&se.contains(e.target)||W!=null&&W.contains(e.target)||It())}),Y.forEach(e=>{e.addEventListener("click",t=>{t.stopPropagation();let s=e.dataset.blockAdd;bn(s)})}),O==null||O.addEventListener("click",()=>{Zt()}),G==null||G.addEventListener("click",()=>{Tt&&ks(Tt),Zt()}),D==null||D.addEventListener("click",e=>{e.target===D&&Zt()}),l==null||l.addEventListener("input",e=>{var s,n;let t=e.target;if(!(!t||!t.name)&&(t.name==="group-columns-mobile"||t.name==="group-columns-desktop")){let d=((s=l.querySelector('[name="group-columns-mobile"]'))==null?void 0:s.value)||"1",q=((n=l.querySelector('[name="group-columns-desktop"]'))==null?void 0:n.value)||"3";re(d,q)}}),V==null||V.addEventListener("change",e=>{let t=e.target;ns((t==null?void 0:t.value)||"")}),l==null||l.addEventListener("submit",Ve),he==null||he.addEventListener("click",e=>{e.preventDefault();let t=Xt();t&&ze(t)}),T==null||T.addEventListener("load",()=>{ss=!0,r("\xC0 jour"),it(fe)}),S==null||S.addEventListener("click",()=>{let e=window.open("","_blank");if(!e)return;e.opener=null;let t=e.document;t.open(),t.write(ts||R()),t.close()});let Bs=e=>{var t,s;I&&(e?(I.classList.remove("hidden"),k&&(F&&(F.value=((t=k.seo)==null?void 0:t.title)||""),y&&(y.value=((s=k.seo)==null?void 0:s.description)||""))):I.classList.add("hidden"))},$t=(e,t="muted")=>{if(!m)return;let s=t==="success"?"text-emerald-600":t==="error"?"text-rose-600":"text-slate-500";m.textContent=e||"",m.className=`text-sm ${s}`};h==null||h.addEventListener("click",()=>{let e=I&&!I.classList.contains("hidden");Bs(!e)}),P==null||P.addEventListener("click",()=>Bs(!1)),L==null||L.addEventListener("submit",async e=>{if(e.preventDefault(),!k){$t("Aucune page active.","error");return}w&&(w.disabled=!0),$t("");try{let t={title:((F==null?void 0:F.value)||"").trim(),description:((y==null?void 0:y.value)||"").trim()},s={...k,seo:t},n=await _e(s);n&&(k=n,$t("SEO enregistr\xE9.","success"),$("SEO mis \xE0 jour"),U(k))}catch(t){console.error("[seo] save failed",t),$t(t.message||"Erreur lors de la sauvegarde.","error")}finally{w&&(w.disabled=!1)}});let In=e=>{let t=e.target.closest("[data-block-item]");!t||!At()||(Re=t.dataset.blockId||null,Re&&(e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/plain",Re),t.classList.add("opacity-50")))},$s=()=>{f==null||f.querySelectorAll("[data-block-item]").forEach(e=>e.classList.remove("opacity-50","ring-2","ring-[#9C6BFF]/50"))},Fn=()=>{Re=null,$s()},Tn=e=>{if(!Re||!At())return;let t=e.target.closest("[data-block-item]");!t||t.dataset.blockId===Re||(e.preventDefault(),t.classList.add("ring-2","ring-[#9C6BFF]/50"))},Bn=e=>{let t=e.target.closest("[data-block-item]");t&&t.classList.remove("ring-2","ring-[#9C6BFF]/50")},$n=e=>{if(!Re||!At())return;e.preventDefault();let t=e.target.closest("[data-block-item]"),s=Re;Re=null,$s();let n=(t==null?void 0:t.dataset.blockId)||null;n&&hn(s,n)},Re=null;f==null||f.addEventListener("dragstart",In),f==null||f.addEventListener("dragend",Fn),f==null||f.addEventListener("dragover",Tn),f==null||f.addEventListener("dragleave",Bn),f==null||f.addEventListener("drop",$n),at()}function Qs(){var Le,de,St;let o=document.querySelector("[data-collection-list]");if(!o)return;let u=document.querySelector("[data-collection-empty]"),v=document.querySelector("[data-collection-items-empty]"),C=document.querySelector("[data-item-table-wrapper]"),T=document.querySelector("[data-item-table-body]"),S=document.querySelector("[data-collection-title]"),z=document.querySelector("[data-collection-description]"),A=document.querySelector("[data-collection-drawer]"),h=document.querySelector("[data-collection-drawer-backdrop]"),I=document.querySelectorAll("[data-collection-drawer-open]"),P=document.querySelectorAll("[data-collection-drawer-close]"),L=document.querySelector("[data-item-add]"),F=document.querySelector("[data-item-detail-empty]"),y=document.querySelector("[data-item-form]"),m=y?{title:y.querySelector('[name="item-title"]'),slug:y.querySelector('[name="item-slug"]'),excerpt:y.querySelector('[name="item-excerpt"]'),content:y.querySelector('[name="item-content"]'),image:y.querySelector('[name="item-image"]'),status:y.querySelector('[name="item-status"]')}:{},w=document.querySelector("[data-item-status-badge]"),f=document.querySelector("[data-item-delete]"),N=document.querySelector("[data-item-delete-modal]"),ae=document.querySelector("[data-item-delete-cancel]"),W=document.querySelector("[data-item-delete-confirm]"),se=document.querySelector("[data-item-cancel]"),Y=document.querySelector("[data-item-save]"),D="rounded-full px-3 py-1 text-xs font-semibold",G=Fe((J==null?void 0:J.slugValue)||_.slug||""),O=G?`/api/sites/${encodeURIComponent(G)}/collections`:null,B=[],b=[],g=null,j=null,c=!1,i=!1,l=null,K=()=>{A&&(A.classList.add("is-open"),A.style.transform="translateX(0)",h==null||h.classList.remove("hidden"),document.body.classList.add("overflow-hidden"))},X=()=>{A&&(A.classList.remove("is-open"),A.style.transform="",h==null||h.classList.add("hidden"),document.body.classList.remove("overflow-hidden"))};I.forEach(a=>{a.addEventListener("click",K)}),P.forEach(a=>{a.addEventListener("click",X)}),h==null||h.addEventListener("click",X);let ne=a=>{let p=(a||"").trim();if(!p)return"";if(p==="/")return"/";let M=p.replace(/^\//,"").split("/").map(Z=>nt(Z||"")).filter(Z=>Z.length>0);return M.length?`/${M.join("/")}`:""},ye=a=>{if(!a)return"\u2014";let p=new Date(a);return Number.isNaN(p.getTime())?"\u2014":p.toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric"})},V=()=>{let a=B.find(p=>p.id===g);S&&(S.textContent=(a==null?void 0:a.name)||"S\xE9lectionnez une collection"),z&&(z.textContent=(a==null?void 0:a.description)||"")},ee=a=>{v&&(v.textContent=a||(g?"Aucun item dans cette collection pour le moment.":"Choisissez une collection dans le panneau de gauche."))},he=()=>{y&&(y.classList.add("hidden"),y.dataset.itemId=""),F==null||F.classList.remove("hidden"),w&&(w.className=`hidden ${D}`,w.textContent=""),f&&(f.disabled=!0)},Se=()=>{y&&(y.classList.remove("hidden"),F==null||F.classList.add("hidden"))},qe=()=>{L&&(L.disabled=!g,L.disabled?L.classList.add("opacity-60","pointer-events-none"):L.classList.remove("opacity-60","pointer-events-none"))},ie=a=>{if(!w)return;if(!a){w.className=`hidden ${D}`,w.textContent="";return}let p=a.toLowerCase(),E="bg-slate-100 text-slate-600 border border-slate-200";p==="publi\xE9"||p==="publie"?E="bg-emerald-50 text-emerald-700 border border-emerald-100":p==="brouillon"&&(E="bg-amber-50 text-amber-700 border border-amber-100"),w.className=`${D} ${E}`,w.textContent=a},Ne=()=>{if(o.innerHTML="",!B.length){u==null||u.classList.remove("hidden");return}u==null||u.classList.add("hidden"),B.forEach(a=>{let p=a.id===g,E=document.createElement("button");E.type="button",E.dataset.collectionId=a.id,E.className=["w-full rounded-xl border px-3 py-2 text-left transition focus:outline-none focus:ring-2 focus:ring-[#9C6BFF]/40",p?"bg-[#F7F0FF] border-[#9C6BFF]/40 text-slate-900":"border-slate-200 text-slate-700 hover:border-[#9C6BFF]/40"].join(" "),E.setAttribute("role","option"),p?E.setAttribute("aria-current","true"):E.removeAttribute("aria-current"),E.innerHTML=`
          <div class="flex items-center justify-between gap-2">
            <div>
              <p class="text-sm font-semibold">${a.name||a.id}</p>
              <p class="text-xs text-slate-500">${a.description||""}</p>
            </div>
            <span class="text-[11px] uppercase tracking-wide text-slate-400">${a.type||""}</span>
          </div>
        `,E.addEventListener("click",()=>{ze(a.id),window.matchMedia("(min-width: 1024px)").matches||X()}),o.appendChild(E)})},re=()=>{if(T){if(T.innerHTML="",!b.length||!g){v==null||v.classList.remove("hidden"),ee(),C==null||C.classList.add("hidden");return}v==null||v.classList.add("hidden"),C==null||C.classList.remove("hidden"),b.forEach(a=>{let p=document.createElement("tr");p.dataset.itemId=a.id;let E=a.id===j&&!c;p.className=["cursor-pointer transition focus-within:bg-[#F7F0FF]/70 focus:outline-none",E?"bg-[#F7F0FF]/70":"hover:bg-slate-50"].join(" "),p.tabIndex=0,p.setAttribute("role","button"),E?p.setAttribute("aria-current","true"):p.removeAttribute("aria-current");let M=a.status||"Brouillon",Z=M.toLowerCase(),Je=Z==="publi\xE9"||Z==="publie"?"bg-emerald-50 text-emerald-700 border border-emerald-100":"bg-amber-50 text-amber-700 border border-amber-100";p.innerHTML=`
          <td class="px-4 py-3 align-top">
            <div class="flex flex-col">
              <span class="text-sm font-semibold text-slate-900">${a.title||"Sans titre"}</span>
              <span class="text-xs text-slate-500">${a.summary||a.excerpt||""}</span>
            </div>
          </td>
          <td class="px-4 py-3 align-top text-sm text-slate-600">${a.slug||""}</td>
          <td class="px-4 py-3 align-top">
            <span class="inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold ${Je}">
              ${M}
            </span>
          </td>
          <td class="px-4 py-3 align-top text-sm text-slate-500">${ye(a.updatedAt||a.createdAt)}</td>
        `;let oe=()=>{ve(a.id)};p.addEventListener("click",oe),p.addEventListener("keydown",be=>{(be.key==="Enter"||be.key===" ")&&(be.preventDefault(),oe())}),T.appendChild(p)})}},ve=a=>{let p=b.find(E=>E.id===a);p&&(j=p.id,c=!1,i=!0,Me(p),re())},Me=a=>{if(!y||!a){he();return}Se(),y.dataset.itemId=a.id,m.title&&(m.title.value=a.title||""),m.slug&&(m.slug.value=a.slug||""),m.excerpt&&(m.excerpt.value=a.summary||a.excerpt||""),m.content&&(m.content.value=a.content||""),m.image&&(m.image.value=a.image||""),m.status&&(m.status.value=a.status||"Brouillon"),ie(a.status||"Brouillon"),f&&(f.disabled=!1)},_e=()=>{var a;y&&(c=!0,j=null,i=!1,y.dataset.itemId="",y.reset(),m.status&&(m.status.value="Brouillon"),m.slug&&(m.slug.value=""),ie("Brouillon"),Se(),f&&(f.disabled=!0),(a=m.title)==null||a.focus())},at=()=>{var oe,be,Xe,xe,Lt,ue;let a=(((oe=m.title)==null?void 0:oe.value)||"").trim(),p=(((be=m.slug)==null?void 0:be.value)||"").trim(),E=(((Xe=m.excerpt)==null?void 0:Xe.value)||"").trim(),M=(((xe=m.content)==null?void 0:xe.value)||"").trim(),Z=(((Lt=m.image)==null?void 0:Lt.value)||"").trim(),Je=((ue=m.status)==null?void 0:ue.value)||"Brouillon";return{title:a,slug:ne(p||a),summary:E,excerpt:E,content:M,image:Z,status:Je}},Ye=a=>{Y&&(Y.disabled=a,Y.textContent=a?"Enregistrement\u2026":"Enregistrer"),f&&!c&&j&&(f.disabled=a)},De=async a=>{if(!O)return[];let p=await fetch(`${O}/${encodeURIComponent(a)}/items`,{headers:{Accept:"application/json"}});if(!p.ok){let M=await p.json().catch(()=>({}));throw new Error(M.message||"Impossible de charger les items.")}let E=await p.json().catch(()=>({}));return Array.isArray(E.items)?E.items:[]},ze=async a=>{if(a&&(g=a,j=null,c=!1,i=!1,V(),qe(),Ne(),he(),b=[],re(),ee("Chargement des items\u2026"),v==null||v.classList.remove("hidden"),C==null||C.classList.add("hidden"),!!O))try{b=await De(a),re(),b.length||ee()}catch(p){console.error("[content] items failed",p),$(p.message||"Impossible de charger les items."),b=[],re()}},Ke=async(a,p)=>{if(!O)throw new Error("Site inconnu.");let E=await fetch(`${O}/${encodeURIComponent(a)}/items`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)});if(!E.ok){let M=await E.json().catch(()=>({}));throw new Error(M.message||"Impossible de cr\xE9er cet item.")}return E.json()},r=async(a,p,E)=>{if(!O)throw new Error("Site inconnu.");let M=await fetch(`${O}/${encodeURIComponent(a)}/items/${encodeURIComponent(p)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(E)});if(!M.ok){let Z=await M.json().catch(()=>({}));throw new Error(Z.message||"Impossible de sauvegarder cet item.")}return M.json()},x=async(a,p)=>{if(!O)throw new Error("Site inconnu.");let E=await fetch(`${O}/${encodeURIComponent(a)}/items/${encodeURIComponent(p)}`,{method:"DELETE"});if(!E.ok){let M=await E.json().catch(()=>({}));throw new Error(M.message||"Impossible de supprimer cet item.")}},R=async()=>{var a;if(!O){u==null||u.classList.remove("hidden"),g=null,b=[],re(),V(),qe();return}try{let p=await fetch(O,{headers:{Accept:"application/json"}});if(!p.ok)throw new Error("Impossible de charger les collections.");let E=await p.json().catch(()=>[]);if(B=Array.isArray(E)?E:[],Ne(),B.length>0){let M=((a=B.find(Z=>Z.id===g))==null?void 0:a.id)||B[0].id;ze(M)}else g=null,b=[],V(),qe(),re()}catch(p){console.error("[content] load collections",p),$(p.message||"Impossible de charger les collections.")}};L==null||L.addEventListener("click",()=>{if(!g){$("S\xE9lectionnez d\u2019abord une collection.");return}_e(),re()}),se==null||se.addEventListener("click",a=>{if(a.preventDefault(),c){c=!1,j=null,he(),re();return}if(j){let p=b.find(E=>E.id===j);Me(p)}else he()}),(Le=m.status)==null||Le.addEventListener("change",()=>{ie(m.status.value)}),(de=m.title)==null||de.addEventListener("input",()=>{!c||!m.slug||i||(m.slug.value=ne(m.title.value))}),(St=m.slug)==null||St.addEventListener("input",()=>{c&&(i=!0)}),y==null||y.addEventListener("submit",async a=>{var E;if(a.preventDefault(),!g){$("S\xE9lectionnez une collection.");return}let p=at();if(!p.title){$("Le titre est requis."),(E=m.title)==null||E.focus();return}Ye(!0);try{let M;c||!j?(M=await Ke(g,p),b=[...b,M],$("Item cr\xE9\xE9")):(M=await r(g,j,p),b=b.map(Z=>Z.id===M.id?M:Z),$("Item mis \xE0 jour")),c=!1,j=M.id,Me(M),re()}catch(M){console.error("[content] save item failed",M),$(M.message||"Impossible de sauvegarder cet item.")}finally{Ye(!1)}});let U=()=>{N&&(N.classList.add("hidden"),N.classList.remove("flex"),l=null)},Ve=()=>{!N||!j||(l=j,N.classList.remove("hidden"),N.classList.add("flex"))};f==null||f.addEventListener("click",a=>{a.preventDefault(),j&&Ve()}),ae==null||ae.addEventListener("click",()=>{U()}),N==null||N.addEventListener("click",a=>{a.target===N&&U()}),W==null||W.addEventListener("click",async()=>{if(!l||!g){U();return}W.disabled=!0,W.textContent="Suppression\u2026";try{await x(g,l),b=b.filter(a=>a.id!==l),j===l&&(j=null,he()),$("Item supprim\xE9"),re()}catch(a){console.error("[content] delete item failed",a),$(a.message||"Impossible de supprimer cet item.")}finally{W.disabled=!1,W.textContent="Supprimer",U()}}),V(),qe(),R()}function en(){let o=document.querySelector("[data-deploy-form]");if(!o)return;let u=document.querySelector("[data-deploy-protocol]"),v=document.querySelector("[data-deploy-host]"),C=document.querySelector("[data-deploy-port]"),T=document.querySelector("[data-deploy-user]"),S=document.querySelector("[data-deploy-password]"),z=document.querySelector("[data-deploy-show-password]"),A=document.querySelector("[data-deploy-remote-path]"),h=document.querySelector("[data-deploy-feedback]"),I=document.querySelector("[data-deploy-save]"),P=document.querySelector("[data-deploy-test]"),L=document.querySelector("[data-deploy-trigger]"),F=document.querySelector("[data-deploy-history]"),y=document.querySelector("[data-deploy-log]"),m=Fe((J==null?void 0:J.slugValue)||_.slug||""),w=m?`/api/sites/${encodeURIComponent(m)}/deploy-config`:null,f=m?`/api/sites/${encodeURIComponent(m)}/deploy`:null,N=m?`/api/sites/${encodeURIComponent(m)}/deploy-log`:null,ae=!1,W=null,se=c=>{let i=(c||"").trim();return i?i.startsWith("/")?i:`/${i}`:"/www"},Y=(c,i="muted")=>{if(!h)return;let l="inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold",K=i==="success"?"bg-emerald-50 text-emerald-700 border border-emerald-100":i==="error"?"bg-rose-50 text-rose-700 border border-rose-100":"bg-slate-50 text-slate-600 border border-slate-100";if(!c){h.textContent="",h.className="text-sm text-slate-500";return}let X=i==="success"?"\u2705":i==="error"?"\u274C":"\u2139\uFE0F";h.innerHTML=`<span class="${l} ${K}">${X}<span>${c}</span></span>`,h.className="text-sm"},D=(c=null)=>{W=c;let i=!!c,l='<svg class="h-4 w-4 animate-spin text-white" viewBox="0 0 24 24" fill="none" aria-hidden="true"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"></path></svg>';I&&(I.disabled=i,I.innerHTML=c==="save"?`<span class="inline-flex items-center gap-2">${l}<span>Enregistrement\u2026</span></span>`:"Enregistrer"),P&&(P.disabled=i,P.innerHTML=c==="test"?'<span class="inline-flex items-center gap-2"><span class="h-4 w-4 animate-spin rounded-full border-2 border-slate-200 border-t-slate-600"></span><span>Test en cours\u2026</span></span>':"Tester la connexion"),L&&(L.disabled=i&&c!==null,L.innerHTML=c==="deploy"?'<span class="inline-flex items-center gap-2"><span class="h-4 w-4 animate-spin rounded-full border-2 border-white/60 border-t-white"></span><span>D\xE9ploiement\u2026</span></span>':"D\xE9ployer maintenant")},G=c=>{u&&(u.value=c.protocol||"sftp"),v&&(v.value=c.host||""),C&&(C.value=c.port||""),T&&(T.value=c.user||""),A&&(A.value=c.remotePath||"/www"),ae=!!c.hasPassword,S&&(S.value="",S.placeholder=ae?"Non affich\xE9":"Mot de passe")},O=(c=[])=>{if(F){if(F.innerHTML="",!c.length){let i=document.createElement("li");i.className="text-slate-500",i.textContent="Aucun d\xE9ploiement pour le moment.",F.appendChild(i);return}c.forEach(i=>{let l=document.createElement("li");l.className="flex items-center justify-between gap-2 rounded-xl border border-slate-200 px-3 py-2";let K=i.status==="success"?'<span class="rounded-full bg-emerald-50 px-2 py-0.5 text-[11px] font-semibold text-emerald-700">Succ\xE8s</span>':'<span class="rounded-full bg-rose-50 px-2 py-0.5 text-[11px] font-semibold text-rose-700">\xC9chec</span>',X=i.finishedAt||i.startedAt||"",ne=i.durationMs&&Number(i.durationMs)>=0?`${Math.round(Number(i.durationMs)/1e3)}s`:"";l.innerHTML=`
          <div class="space-y-1">
            <div class="flex items-center gap-2">${K}<span class="text-xs text-slate-500">${X}</span></div>
            <p class="text-sm text-slate-800">${i.message||""}</p>
          </div>
          <div class="text-xs text-slate-500">${ne}</div>
        `,l.dataset.deployId=i.id||"",l.addEventListener("click",()=>{i.logs&&y&&(y.textContent=i.logs.join(`
`))}),F.appendChild(l)})}},B=(c=[])=>{y&&(y.textContent=c.length?c.join(`
`):"Aucun log pour le moment.")},b=async()=>{var c;if(N)try{let i=await fetch(N,{headers:{Accept:"application/json"}});if(!i.ok){if(i.status===404){O([]),B(["API d\xE9ploiement indisponible (red\xE9marre le serveur)."]);return}throw new Error("Impossible de charger l\u2019historique.")}let l=await i.json().catch(()=>({})),K=Array.isArray(l.entries)?l.entries:[];O(K),(c=K[0])!=null&&c.logs&&B(K[0].logs)}catch(i){console.error("[deploy] history failed",i)}},g=async()=>{if(!w){Y("Aucun site actif s\xE9lectionn\xE9.","error");return}D("load");try{let c=await fetch(w,{headers:{Accept:"application/json"}}),i=await c.json().catch(()=>({}));c.ok?(G(i||{}),Y("Configuration charg\xE9e.","muted")):(G(i||{}),Y(i.message||"Configuration par d\xE9faut charg\xE9e.","muted"))}catch(c){console.error("[deploy] load failed",c),Y(c.message||"Erreur lors du chargement.","error")}finally{D(null)}},j=()=>{let c={protocol:(u==null?void 0:u.value)||"sftp",host:(v==null?void 0:v.value.trim())||"",port:Number(C==null?void 0:C.value)||void 0,user:(T==null?void 0:T.value.trim())||"",remotePath:se((A==null?void 0:A.value)||"/www")},i=(S==null?void 0:S.value)||"";return i.trim().length>0&&(c.password=i),c};o.addEventListener("submit",async c=>{if(c.preventDefault(),!w){Y("Aucun site actif s\xE9lectionn\xE9.","error");return}let i=j();D("save");try{let l=await fetch(w,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!l.ok){let X=await l.json().catch(()=>({}));throw new Error(X.message||"Sauvegarde impossible.")}let K=await l.json();G(K||{}),Y("Configuration enregistr\xE9e.","success"),$("Configuration d\xE9ploiement sauvegard\xE9e")}catch(l){console.error("[deploy] save failed",l),Y(l.message||"Erreur lors de la sauvegarde.","error")}finally{D(null)}}),P==null||P.addEventListener("click",async()=>{if(!w){Y("Aucun site actif s\xE9lectionn\xE9.","error");return}let c=j();if(!c.host||!c.user||!c.remotePath){Y("Remplissez les champs requis avant de tester.","error");return}D("test");try{let i=await fetch(`${w}/test`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}),l=await i.json().catch(()=>({}));if(!i.ok||l.success===!1){Y(l.message||"Test de connexion \xE9chou\xE9.","error");return}Y(l.message||"Connexion OK.","success"),$("Test de connexion r\xE9ussi")}catch(i){console.error("[deploy] test failed",i),Y(i.message||"Test de connexion \xE9chou\xE9.","error")}finally{D(null)}}),L==null||L.addEventListener("click",async()=>{if(!f){Y("Aucun site actif s\xE9lectionn\xE9.","error");return}D("deploy"),B(["D\xE9ploiement en cours\u2026"]);try{let c=await fetch(f,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(j())}),i=await c.json().catch(()=>({}));if(!c.ok){if(c.status===404){Y("API d\xE9ploiement indisponible (red\xE9marre le serveur).","error"),B(["API d\xE9ploiement indisponible (red\xE9marre le serveur)."]);return}throw B(i.logs||[]),new Error(i.message||"D\xE9ploiement \xE9chou\xE9.")}B(i.logs||[]),await b(),$("D\xE9ploiement termin\xE9")}catch(c){console.error("[deploy] run failed",c),Y(c.message||"D\xE9ploiement \xE9chou\xE9.","error")}finally{D(null)}}),z==null||z.addEventListener("change",()=>{S&&(S.type=z.checked?"text":"password")}),g(),b()}function tn(){let o=document.querySelectorAll("[data-settings-tab]"),u=document.querySelectorAll("[data-settings-panel]"),v=document.querySelector("[data-admin-password-form]"),C=document.querySelector("[data-site-config-form]"),T=document.querySelector("[data-site-config-feedback]"),S=document.querySelector("[data-theme-form]"),z=A=>{o.forEach(h=>{let I=h.dataset.settingsTab===A;h.setAttribute("aria-selected",I?"true":"false"),h.classList.toggle("bg-[#9C6BFF]",I),h.classList.toggle("text-white",I)}),u.forEach(h=>{h.classList.toggle("hidden",h.dataset.settingsPanel!==A)})};if(o.forEach(A=>{A.addEventListener("click",()=>z(A.dataset.settingsTab||"account"))}),z("account"),v){let A=v.querySelector("[data-admin-password-feedback]"),h=v.querySelector("[data-admin-password-submit]"),I=(P,L="muted")=>{if(!A)return;let F=L==="success"?"text-emerald-600":L==="error"?"text-rose-600":"text-slate-500";A.textContent=P||"",A.className=`text-sm ${F}`};v.addEventListener("submit",async P=>{P.preventDefault();let L=new FormData(v),F=L.get("currentPassword")||"",y=L.get("newPassword")||"",m=L.get("confirmPassword")||"";if(!F||!y||!m){I("Compl\xE8te tous les champs.","error");return}h&&(h.disabled=!0),I("");try{let w=await fetch("/api/admin/password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentPassword:F,newPassword:y,confirmPassword:m})}),f=await w.json().catch(()=>({}));if(!w.ok||f.success===!1)throw new Error(f.message||"Impossible de mettre \xE0 jour le mot de passe.");I(f.message||"Mot de passe mis \xE0 jour.","success"),v.reset()}catch(w){console.error("[settings] change password failed",w),I(w.message||"Erreur lors de la mise \xE0 jour.","error")}finally{h&&(h.disabled=!1)}})}if(C){let A=C.querySelector("[data-site-name]"),h=C.querySelector("[data-site-language]"),I=C.querySelector("[data-site-tagline]"),P=C.querySelector("[data-site-save]"),L=(w,f="muted")=>{if(!T)return;let N=f==="success"?"text-emerald-600":f==="error"?"text-rose-600":"text-slate-500";T.textContent=w||"",T.className=`text-sm ${N}`},F=Fe((J==null?void 0:J.slugValue)||_.slug||""),y=F?`/api/sites/${encodeURIComponent(F)}/config/site`:null,m=async()=>{if(y)try{let w=await fetch(y,{headers:{Accept:"application/json"}});if(!w.ok)return;let f=await w.json().catch(()=>({}));A&&(A.value=f.name||""),h&&(h.value=f.language||"fr"),I&&(I.value=f.tagline||"")}catch(w){console.error("[settings] load site config failed",w)}};C.addEventListener("submit",async w=>{if(w.preventDefault(),!y){L("Aucun site actif.","error");return}if(!(A!=null&&A.value.trim())){L("Nom requis.","error");return}P&&(P.disabled=!0),L("");try{let f={name:(A==null?void 0:A.value)||"",language:(h==null?void 0:h.value)||"fr",tagline:(I==null?void 0:I.value)||""},N=await fetch(y,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)}),ae=await N.json().catch(()=>({}));if(!N.ok||ae.success===!1)throw new Error(ae.message||"Sauvegarde impossible.");L(ae.message||"Param\xE8tres enregistr\xE9s.","success")}catch(f){console.error("[settings] save site config failed",f),L(f.message||"Erreur lors de la sauvegarde.","error")}finally{P&&(P.disabled=!1)}}),m()}if(S){let A=Fe((J==null?void 0:J.slugValue)||_.slug||""),h=A?`/api/sites/${encodeURIComponent(A)}/config/theme`:null,I={primary:S.querySelector("[data-theme-primary]"),secondary:S.querySelector("[data-theme-secondary]"),accent:S.querySelector("[data-theme-accent]"),background:S.querySelector("[data-theme-background]"),text:S.querySelector("[data-theme-text]")},P=S.querySelector("[data-theme-headings]"),L=S.querySelector("[data-theme-body]"),F=S.querySelector("[data-theme-radius-small]"),y=S.querySelector("[data-theme-radius-medium]"),m=S.querySelector("[data-theme-radius-large]"),w=S.querySelector("[data-theme-preview]"),f=S.querySelector("[data-theme-feedback]"),N=S.querySelector("[data-theme-apply]"),ae=["slate","gray","zinc","neutral","stone","red","orange","amber","yellow","lime","green","emerald","teal","cyan","sky","blue","indigo","violet","purple","fuchsia","pink","rose"],W=["50","100","200","300","400","500","600","700","800","900"],se=ae.flatMap(b=>W.map(g=>`${b}-${g}`)),Y=()=>{Object.values(I).forEach(b=>{!b||b.options.length||se.forEach(g=>{let j=document.createElement("option");j.value=g;let[c,i]=g.split("-");j.textContent=`${c.charAt(0).toUpperCase()+c.slice(1)} ${i}`,b.appendChild(j)})})},D=(b,g="muted")=>{if(!f)return;let j=g==="success"?"text-emerald-600":g==="error"?"text-rose-600":"text-slate-500";f.textContent=b||"",f.className=`text-sm ${j}`},G=()=>{var g,j,c,i,l;if(!w)return;let b=K=>{if(!K)return null;let[X,ne]=K.split("-"),V={slate:"#e2e8f0",gray:"#d1d5db",zinc:"#d4d4d8",neutral:"#d4d4d4",stone:"#d6d3d1",red:"#ef4444",orange:"#f97316",amber:"#f59e0b",yellow:"#eab308",lime:"#84cc16",green:"#22c55e",emerald:"#10b981",teal:"#14b8a6",cyan:"#06b6d4",sky:"#0ea5e9",blue:"#3b82f6",indigo:"#6366f1",violet:"#8b5cf6",purple:"#a855f7",fuchsia:"#d946ef",pink:"#ec4899",rose:"#f43f5e"}[X];if(!V)return null;let ee=Number(ne)||500,he=Math.min(Math.max((ee-50)/900,0),1),Se=ve=>ve.match(/[A-Fa-f0-9]{2}/g).map(Me=>parseInt(Me,16)),[qe,ie,Ne]=Se(V.replace("#","")),re=ve=>Math.round(255-(255-ve)*he);return`rgb(${re(qe)}, ${re(ie)}, ${re(Ne)})`};w.style.setProperty("--color-primary",b((g=I.primary)==null?void 0:g.value)||"#9C6BFF"),w.style.setProperty("--color-secondary",b((j=I.secondary)==null?void 0:j.value)||"#0EA5E9"),w.style.setProperty("--color-accent",b((c=I.accent)==null?void 0:c.value)||"#F97316"),w.style.setProperty("--color-background",b((i=I.background)==null?void 0:i.value)||"#FFFFFF"),w.style.setProperty("--color-text",b((l=I.text)==null?void 0:l.value)||"#0F172A"),w.style.setProperty("--font-headings",(P==null?void 0:P.value)||"Inter, sans-serif"),w.style.setProperty("--font-body",(L==null?void 0:L.value)||"Inter, sans-serif"),w.style.setProperty("--radius-small",(F==null?void 0:F.value)||"8px"),w.style.setProperty("--radius-medium",(y==null?void 0:y.value)||"16px"),w.style.setProperty("--radius-large",(m==null?void 0:m.value)||"24px"),w.style.borderRadius=(y==null?void 0:y.value)||"16px"},O=(b,g)=>{I[b]&&(I[b].value=g)};Object.keys(I).forEach(b=>{var g;(g=I[b])==null||g.addEventListener("change",G)}),[P,L,F,y,m].forEach(b=>{b==null||b.addEventListener("change",G)});let B=async()=>{var b,g,j,c,i,l,K,X,ne,ye;if(h)try{let V=await fetch(h,{headers:{Accept:"application/json"}});if(!V.ok)return;let ee=await V.json().catch(()=>({}));O("primary",((b=ee.colors)==null?void 0:b.primary)||"violet-500"),O("secondary",((g=ee.colors)==null?void 0:g.secondary)||"indigo-400"),O("accent",((j=ee.colors)==null?void 0:j.accent)||"emerald-500"),O("background",((c=ee.colors)==null?void 0:c.background)||"slate-50"),O("text",((i=ee.colors)==null?void 0:i.text)||"slate-900"),P&&(P.value=((l=ee.typography)==null?void 0:l.headings)||"Inter, sans-serif"),L&&(L.value=((K=ee.typography)==null?void 0:K.body)||"Inter, sans-serif"),F&&(F.value=((X=ee.radius)==null?void 0:X.small)||"8px"),y&&(y.value=((ne=ee.radius)==null?void 0:ne.medium)||"16px"),m&&(m.value=((ye=ee.radius)==null?void 0:ye.large)||"24px"),G()}catch(V){console.error("[settings] load theme failed",V)}};Y(),N==null||N.addEventListener("click",async b=>{var j,c,i,l,K;if(b.preventDefault(),!h){D("Aucun site actif.","error");return}let g={colors:{primary:((j=I.primary)==null?void 0:j.value)||"violet-500",secondary:((c=I.secondary)==null?void 0:c.value)||"indigo-400",accent:((i=I.accent)==null?void 0:i.value)||"emerald-500",background:((l=I.background)==null?void 0:l.value)||"slate-50",text:((K=I.text)==null?void 0:K.value)||"slate-900"},typography:{headings:(P==null?void 0:P.value)||"Inter, sans-serif",body:(L==null?void 0:L.value)||"Inter, sans-serif"},radius:{small:(F==null?void 0:F.value)||"8px",medium:(y==null?void 0:y.value)||"16px",large:(m==null?void 0:m.value)||"24px"}};N.disabled=!0,D("");try{let X=await fetch(h,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)}),ne=await X.json().catch(()=>({}));if(!X.ok||ne.success===!1)throw new Error(ne.message||"Application du th\xE8me \xE9chou\xE9e.");D(ne.message||"Th\xE8me appliqu\xE9.","success"),G()}catch(X){console.error("[settings] apply theme failed",X),D(X.message||"Erreur lors de l\u2019application du th\xE8me.","error")}finally{N.disabled=!1}}),Y(),B(),G()}}function sn(){let o=document.querySelector("[data-media-grid]");if(!o)return;let u=document.querySelector("[data-media-empty]"),v=document.querySelector("[data-media-count]"),C=document.querySelector("[data-media-filter-type]"),T=document.querySelector("[data-media-detail-empty]"),S=document.querySelector("[data-media-detail]"),z=document.querySelector("[data-media-detail-preview]"),A=document.querySelector("[data-media-detail-name]"),h=document.querySelector("[data-media-detail-type]"),I=document.querySelector("[data-media-detail-size]"),P=document.querySelector("[data-media-detail-path]"),L=document.querySelector("[data-media-detail-used]"),F=document.querySelector("[data-media-alt-edit]"),y=document.querySelector("[data-media-save]"),m=document.querySelector("[data-media-delete]"),w=document.querySelector("[data-media-delete-modal]"),f=document.querySelector("[data-media-delete-cancel]"),N=document.querySelector("[data-media-delete-confirm]"),ae=document.querySelector("[data-media-upload-open]"),W=document.querySelector("[data-media-file-input]"),se=document.querySelector("[data-media-upload-status]"),Y=Fe((J==null?void 0:J.slugValue)||_.slug||""),D=Y?`/api/sites/${encodeURIComponent(Y)}/media`:null,G=[],O=[],B=null,b=null,g=null,j=!1,c=!1,i=!1,l=null,K=r=>{let x=(r.type||"").toLowerCase(),R=(r.filename||"").toLowerCase();return x.includes("image")||/\.(png|jpe?g|webp|svg|gif)$/i.test(R)?"image":x.includes("pdf")||x.includes("doc")||/\.(pdf|docx?)$/i.test(R)?"document":x.includes("video")||/\.(mp4|mov|webm)$/i.test(R)?"video":"other"},X=r=>K(r)==="image",ne=r=>{if(r.type)return r.type.toUpperCase();let x=(r.filename||"").split(".").pop();return x?x.toUpperCase():"FILE"},ye=r=>!r||r<=0?"\u2014":r<1024?`${r} o`:r<1024*1024?`${(r/1024).toFixed(1)} ko`:`${(r/(1024*1024)).toFixed(1)} Mo`,V=()=>{S==null||S.classList.add("hidden"),T==null||T.classList.remove("hidden"),ee(),B=null,c=!1,ie(!1),z&&(z.innerHTML='<span class="text-slate-400 text-sm">Aucun m\xE9dia s\xE9lectionn\xE9</span>'),A&&(A.textContent=""),h&&(h.textContent=""),I&&(I.textContent=""),F&&(F.value=""),P&&(P.textContent=""),L&&(L.innerHTML="")},ee=()=>{g=null,i=!1,j=!1,l&&(URL.revokeObjectURL(l),l=null),se&&(se.textContent="Aucun fichier s\xE9lectionn\xE9."),W&&(W.value="")},he=()=>{v&&(O.length?O.length===1?v.textContent="1 m\xE9dia":v.textContent=`${O.length} m\xE9dias`:v.textContent="0 m\xE9dia")},Se=()=>{if(o.innerHTML="",!O.length){u==null||u.classList.remove("hidden"),V();return}u==null||u.classList.add("hidden"),O.forEach(r=>{let x=document.createElement("button");x.type="button",x.dataset.mediaId=r.id;let R=r.id===B;x.className=["group relative flex flex-col rounded-2xl border px-3 py-3 text-left transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[#9C6BFF]",R?"border-[#9C6BFF] bg-[#F7F0FF]/60 shadow-sm":"border-slate-200 hover:border-[#9C6BFF]/40"].join(" ");let U=X(r)?`<img src="${r.path}" alt="${r.alt||r.filename}" class="h-full w-full object-cover" />`:'<div class="flex h-full w-full items-center justify-center text-3xl text-slate-400">\u{1F4C4}</div>';x.innerHTML=`
          <div class="relative aspect-[4/3] overflow-hidden rounded-xl bg-slate-100">
            ${U}
          </div>
          <div class="mt-2 space-y-1">
            <p class="text-sm font-semibold text-slate-900 truncate">${r.filename}</p>
            <p class="text-xs text-slate-500">
              ${ne(r)} \xB7 ${ye(r.size)}
            </p>
          </div>
        `,r.id===b&&(x.classList.add("ring-2","ring-[#9C6BFF]"),window.setTimeout(()=>{x.classList.remove("ring-2","ring-[#9C6BFF]")},1600)),x.addEventListener("click",()=>Ne(r.id)),o.appendChild(x)}),b=null},qe=r=>{if(L){if(L.innerHTML="",!r.usedIn||r.usedIn.length===0){let x=document.createElement("li");x.textContent="Non utilis\xE9",x.className="text-xs text-slate-400",L.appendChild(x);return}r.usedIn.forEach(x=>{let R=document.createElement("li");R.textContent=x,R.className="text-xs text-slate-600",L.appendChild(R)})}},ie=r=>{if(y){if(i){y.textContent=r?"T\xE9l\xE9versement\u2026":"T\xE9l\xE9verser",y.disabled=r||!g,m&&m.classList.add("hidden");return}y.textContent=r?"Enregistrement\u2026":"Enregistrer",y.disabled=r||!c,m&&(m.classList.remove("hidden"),m.disabled=!B)}},Ne=r=>{let x=G.find(R=>R.id===r);if(!x){V(),Se();return}ee(),B=x.id,c=!1,ie(!1),Se(),T==null||T.classList.add("hidden"),S==null||S.classList.remove("hidden"),z&&(X(x)?z.innerHTML=`<img src="${x.path}" alt="${x.alt||x.filename}" class="h-full w-full rounded-2xl object-cover" />`:z.innerHTML='<div class="flex h-full w-full flex-col items-center justify-center gap-1 text-slate-400"><span class="text-3xl">\u{1F4C4}</span><span class="text-xs font-semibold">Document</span></div>'),A&&(A.textContent=x.filename||"Fichier"),h&&(h.textContent=ne(x)),I&&(I.textContent=ye(x.size)),F&&(F.value=x.alt||""),P&&(P.textContent=x.path||"\u2014"),qe(x)},re=r=>{if(r){if(i=!0,c=!1,B=null,T==null||T.classList.add("hidden"),S==null||S.classList.remove("hidden"),l&&URL.revokeObjectURL(l),l=URL.createObjectURL(r),z&&(z.innerHTML=`<img src="${l}" alt="${r.name}" class="h-full w-full rounded-2xl object-cover" />`),A&&(A.textContent=r.name),h&&(h.textContent=ne({type:r.type,filename:r.name})),I&&(I.textContent=ye(r.size)),F&&!F.value.trim()&&(F.value=r.name.replace(/\.[^.]+$/,"").replace(/[-_]/g," ")),P&&(P.textContent="En attente de t\xE9l\xE9versement"),L){L.innerHTML="";let x=document.createElement("li");x.textContent="Non utilis\xE9",x.className="text-xs text-slate-400",L.appendChild(x)}ie(!1)}},ve=()=>{let r=(C==null?void 0:C.value)||"all";r==="all"?O=[...G]:O=G.filter(x=>x.groupType===r),O.some(x=>x.id===B)||V(),he(),Se()},Me=async()=>{if(!D){u==null||u.classList.remove("hidden");return}try{let r=await fetch(D,{headers:{Accept:"application/json"}});if(!r.ok)throw new Error("Impossible de charger les m\xE9dias.");let x=await r.json().catch(()=>({items:[]}));G=Array.isArray(x.items)?x.items.map(R=>({...R,groupType:K(R)})):[],ve()}catch(r){console.error("[media] load failed",r),$(r.message||"Impossible de charger les m\xE9dias."),G=[],ve()}};C==null||C.addEventListener("change",()=>{ve()}),F==null||F.addEventListener("input",()=>{if(i){ie(!1);return}B&&(c=!0,ie(!1))});let _e=r=>{if(r){if(!r.type.startsWith("image/")){$("Seules les images sont accept\xE9es pour le moment.");return}if(r.size>4*1024*1024){$("Fichier trop volumineux (4 Mo max).");return}g=r,re(r),se&&(se.textContent=`${r.name} \xB7 ${ye(r.size)}`)}},at=r=>new Promise((x,R)=>{let U=new FileReader;U.onload=()=>{let Ve=U.result||"",[,Le=""]=String(Ve).split(",");x(Le)},U.onerror=()=>R(new Error("Impossible de lire ce fichier.")),U.readAsDataURL(r)}),Ye=async()=>{if(!(!g||!D)){j=!0,ie(!0);try{let r=await at(g),x={filename:g.name,type:g.type,size:g.size,alt:(F==null?void 0:F.value)||"",data:r},R=await fetch(D,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(x)});if(!R.ok){let Ve=await R.json().catch(()=>({}));throw new Error(Ve.message||"Upload impossible.")}let U=await R.json();U.groupType=K(U),G=[...G,U],b=U.id,ve(),Ne(U.id),$("M\xE9dia ajout\xE9"),ee()}catch(r){console.error("[media] upload failed",r),$(r.message||"Impossible de t\xE9l\xE9verser ce m\xE9dia.")}finally{j=!1,g=null,ie(!1)}}};ae==null||ae.addEventListener("click",()=>W==null?void 0:W.click()),W==null||W.addEventListener("change",()=>{W.files&&W.files[0]&&_e(W.files[0])});let De=()=>{w&&(w.classList.add("hidden"),w.classList.remove("flex"))},ze=()=>{if(!(!B||i)){if(w){w.classList.remove("hidden"),w.classList.add("flex");return}window.confirm("Supprimer ce m\xE9dia ?")&&Ke()}},Ke=async()=>{if(!B||!D){De();return}let r=()=>{m&&(m.disabled=!0),N&&(N.disabled=!0,N.textContent="Suppression\u2026")},x=()=>{m&&(m.disabled=!1),N&&(N.disabled=!1,N.textContent="Supprimer")};r();try{let R=await fetch(`${D}/${encodeURIComponent(B)}`,{method:"DELETE"});if(!R.ok){let U=await R.json().catch(()=>({}));throw new Error(U.message||"Suppression impossible.")}G=G.filter(U=>U.id!==B),O=O.filter(U=>U.id!==B),$("M\xE9dia supprim\xE9"),V(),he(),Se()}catch(R){console.error("[media] delete failed",R),$(R.message||"Impossible de supprimer ce m\xE9dia.")}finally{x(),De()}};f==null||f.addEventListener("click",De),w==null||w.addEventListener("click",r=>{r.target===w&&De()}),N==null||N.addEventListener("click",()=>Ke()),m==null||m.addEventListener("click",ze),y==null||y.addEventListener("click",async()=>{if(i){Ye();return}if(!(!B||!D||!F)){ie(!0);try{let r={alt:F.value||""},x=await fetch(`${D}/${encodeURIComponent(B)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!x.ok){let U=await x.json().catch(()=>({}));throw new Error(U.message||"Impossible de mettre \xE0 jour ce m\xE9dia.")}let R=await x.json();G=G.map(U=>U.id===B?{...U,...R}:U),O=O.map(U=>U.id===B?{...U,...R}:U),c=!1,ie(!1),$("M\xE9dia mis \xE0 jour")}catch(r){console.error("[media] update failed",r),$(r.message||"\xC9chec de la mise \xE0 jour."),ie(!1)}}}),Me()}});})();
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vY29yZS9zY3JpcHRzL2FkbWluLmpzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuICBjb25zb2xlLmxvZygnW2FkbWluXSBBdGVsaWVyIGNoYXJnXHUwMEU5Jyk7XG4gIGNvbnN0IGxvZ291dEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWxvZ291dF0nKTtcbiAgaWYgKGxvZ291dEJ1dHRvbikge1xuICAgIGxvZ291dEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGxvZ291dEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBmZXRjaCgnL2FwaS9sb2dvdXQnLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbYWRtaW5dIEltcG9zc2libGUgZGUgc2UgZFx1MDBFOWNvbm5lY3RlcicsIGVycik7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvYWRtaW4vaW5kZXguaHRtbCc7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBjb25zdCBzaWRlYmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRtaW4tc2lkZWJhcl0nKTtcbiAgY29uc3Qgc2lkZWJhck92ZXJsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZG1pbi1zaWRlYmFyLW92ZXJsYXldJyk7XG4gIGNvbnN0IHNpZGViYXJUb2dnbGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYWRtaW4tc2lkZWJhci10b2dnbGVdJyk7XG4gIGNvbnN0IHNpZGViYXJDbG9zZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1hZG1pbi1zaWRlYmFyLWNsb3NlXScpO1xuICBjb25zdCBib2R5ID0gZG9jdW1lbnQuYm9keTtcbiAgbGV0IHNpZGViYXJPcGVuID0gZmFsc2U7XG5cbiAgY29uc3QgYXBwbHlTaWRlYmFyU3RhdGUgPSAoKSA9PiB7XG4gICAgaWYgKCFzaWRlYmFyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGlzRGVza3RvcCA9IHdpbmRvdy5tYXRjaE1lZGlhKCcobWluLXdpZHRoOiAxMDI0cHgpJykubWF0Y2hlcztcbiAgICBpZiAoaXNEZXNrdG9wKSB7XG4gICAgICBzaWRlYmFyLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgc2lkZWJhck92ZXJsYXk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHNpZGViYXJPcGVuKSB7XG4gICAgICBzaWRlYmFyLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgc2lkZWJhck92ZXJsYXk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgYm9keS5jbGFzc0xpc3QuYWRkKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2lkZWJhci5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIHNpZGViYXJPdmVybGF5Py5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnb3ZlcmZsb3ctaGlkZGVuJyk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IG9wZW5TaWRlYmFyID0gKCkgPT4ge1xuICAgIHNpZGViYXJPcGVuID0gdHJ1ZTtcbiAgICBhcHBseVNpZGViYXJTdGF0ZSgpO1xuICB9O1xuXG4gIGNvbnN0IGNsb3NlU2lkZWJhciA9ICgpID0+IHtcbiAgICBzaWRlYmFyT3BlbiA9IGZhbHNlO1xuICAgIGFwcGx5U2lkZWJhclN0YXRlKCk7XG4gIH07XG5cbiAgaWYgKHNpZGViYXIgJiYgc2lkZWJhclRvZ2dsZXMubGVuZ3RoID4gMCkge1xuICAgIHNpZGViYXJUb2dnbGVzLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlblNpZGViYXIpO1xuICAgIH0pO1xuICAgIHNpZGViYXJDbG9zZUJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZVNpZGViYXIpO1xuICAgIH0pO1xuICAgIHNpZGViYXJPdmVybGF5Py5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlU2lkZWJhcik7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGFwcGx5U2lkZWJhclN0YXRlKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VzY2FwZScgJiYgc2lkZWJhck9wZW4pIHtcbiAgICAgICAgY2xvc2VTaWRlYmFyKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgYXBwbHlTaWRlYmFyU3RhdGUoKTtcbiAgfVxuXG4gIGNvbnN0IEFDVElWRV9TSVRFX0tFWSA9ICdjbG93ZXI6Y3VycmVudFNpdGUnO1xuICBjb25zdCBBQ1RJVkVfU0lURV9OQU1FX0tFWSA9ICdjbG93ZXI6Y3VycmVudFNpdGVOYW1lJztcbiAgY29uc3Qgc3RvcmVkU2l0ZSA9IHsgc2x1ZzogbnVsbCwgbmFtZTogJycgfTtcbiAgY29uc3QgbG9hZFN0b3JlZFNpdGUgPSAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHN0b3JlZFNpdGUuc2x1ZyA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShBQ1RJVkVfU0lURV9LRVkpO1xuICAgICAgc3RvcmVkU2l0ZS5uYW1lID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKEFDVElWRV9TSVRFX05BTUVfS0VZKSB8fCAnJztcbiAgICB9IGNhdGNoIHtcbiAgICAgIHN0b3JlZFNpdGUuc2x1ZyA9IG51bGw7XG4gICAgICBzdG9yZWRTaXRlLm5hbWUgPSAnJztcbiAgICB9XG4gIH07XG4gIGxvYWRTdG9yZWRTaXRlKCk7XG5cbiAgY29uc3Qgc2l0ZUNhcmRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtc2l0ZS1jYXJkXScpO1xuICBjb25zdCBzaXRlU2VsZWN0QnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXNpdGUtc2VsZWN0XScpO1xuICBjb25zdCBzaXRlTmFtZUxhYmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY3VycmVudC1zaXRlLW5hbWVdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZVNpdGVMYWJlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXdvcmtzcGFjZS1zaXRlLW5hbWVdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZUJhY2tOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtd29ya3NwYWNlLWJhY2stbmFtZV0nKTtcbiAgY29uc3Qgd29ya3NwYWNlQmFja01vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtd29ya3NwYWNlLWJhY2stbW9kYWxdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZUJhY2tCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtd29ya3NwYWNlLWJhY2tdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZUJhY2tDYW5jZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS13b3Jrc3BhY2UtYmFjay1jYW5jZWxdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZUJhY2tDb25maXJtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtd29ya3NwYWNlLWJhY2stY29uZmlybV0nKTtcbiAgY29uc3Qgd29ya3NwYWNlTmF2TGlua3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS13b3Jrc3BhY2UtdGFiXScpO1xuICBjb25zdCBzaXRlVG9hc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLXRvYXN0XScpO1xuICBjb25zdCBzaXRlVG9hc3RNZXNzYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS10b2FzdC1tZXNzYWdlXScpO1xuICBjb25zdCBzaXRlQ3JlYXRlQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXNpdGUtY3JlYXRlXScpO1xuICBjb25zdCBzaXRlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLW1vZGFsXScpO1xuICBjb25zdCBzaXRlRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtZm9ybV0nKTtcbiAgY29uc3Qgc2l0ZU5hbWVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtbmFtZV0nKTtcbiAgY29uc3Qgc2l0ZVNsdWdJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtc2x1Z10nKTtcbiAgY29uc3Qgc2l0ZVNsdWdFcnJvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtc2x1Zy1lcnJvcl0nKTtcbiAgY29uc3Qgc2l0ZU1vZGFsRXJyb3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLW1vZGFsLWVycm9yXScpO1xuICBjb25zdCBzaXRlTW9kYWxDYW5jZWxCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtc2l0ZS1tb2RhbC1jYW5jZWxdJyk7XG4gIGNvbnN0IHNpdGVNb2RhbFN1Ym1pdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtbW9kYWwtc3VibWl0XScpO1xuICBjb25zdCB3b3Jrc3BhY2VDb250ZXh0ID0gZ2V0V29ya3NwYWNlQ29udGV4dCgpO1xuICBsZXQgc2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gIGxldCBsYXN0Rm9jdXNlZEVsZW1lbnQgPSBudWxsO1xuICBsZXQgdG9hc3RUaW1lb3V0SWQgPSBudWxsO1xuXG4gIGNvbnN0IGZvY3VzYWJsZVNlbGVjdG9yID1cbiAgICAnYVtocmVmXSwgYnV0dG9uOm5vdChbZGlzYWJsZWRdKSwgdGV4dGFyZWEsIGlucHV0LCBzZWxlY3QsIFt0YWJpbmRleF06bm90KFt0YWJpbmRleD1cIi0xXCJdKSc7XG4gIGNvbnN0IHRyYXBGb2N1cyA9IChldmVudCkgPT4ge1xuICAgIGlmICghc2l0ZU1vZGFsIHx8IHNpdGVNb2RhbC5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpIHx8IGV2ZW50LmtleSAhPT0gJ1RhYicpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZm9jdXNhYmxlRWxlbWVudHMgPSBBcnJheS5mcm9tKHNpdGVNb2RhbC5xdWVyeVNlbGVjdG9yQWxsKGZvY3VzYWJsZVNlbGVjdG9yKSkuZmlsdGVyKFxuICAgICAgKGVsKSA9PiAhZWwuaGFzQXR0cmlidXRlKCdkaXNhYmxlZCcpICYmICFlbC5nZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJyksXG4gICAgKTtcbiAgICBpZiAoZm9jdXNhYmxlRWxlbWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGZpcnN0ID0gZm9jdXNhYmxlRWxlbWVudHNbMF07XG4gICAgY29uc3QgbGFzdCA9IGZvY3VzYWJsZUVsZW1lbnRzW2ZvY3VzYWJsZUVsZW1lbnRzLmxlbmd0aCAtIDFdO1xuICAgIGlmIChldmVudC5zaGlmdEtleSkge1xuICAgICAgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IGZpcnN0KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGxhc3QuZm9jdXMoKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IGxhc3QpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBmaXJzdC5mb2N1cygpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBzaG93VG9hc3QgPSAobWVzc2FnZSkgPT4ge1xuICAgIGlmICghc2l0ZVRvYXN0IHx8ICFzaXRlVG9hc3RNZXNzYWdlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHNpdGVUb2FzdE1lc3NhZ2UudGV4dENvbnRlbnQgPSBtZXNzYWdlO1xuICAgIHNpdGVUb2FzdC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICBpZiAodG9hc3RUaW1lb3V0SWQpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0b2FzdFRpbWVvdXRJZCk7XG4gICAgfVxuICAgIHRvYXN0VGltZW91dElkID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBzaXRlVG9hc3QuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgfSwgMjUwMCk7XG4gIH07XG5cbiAgZnVuY3Rpb24gZW5zdXJlTGVhZGluZ1NsYXNoKHNsdWcpIHtcbiAgICBpZiAoIXNsdWcpIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgcmV0dXJuIHNsdWcuc3RhcnRzV2l0aCgnLycpID8gc2x1ZyA6IGAvJHtzbHVnfWA7XG4gIH1cblxuICBmdW5jdGlvbiBzdHJpcExlYWRpbmdTbGFzaChzbHVnKSB7XG4gICAgcmV0dXJuIHNsdWc/LnJlcGxhY2UoL15cXC8vLCAnJykgfHwgJyc7XG4gIH1cblxuICBjb25zdCBwZXJzaXN0U2l0ZVN0YXRlID0gKHNsdWcsIG5hbWUpID0+IHtcbiAgICBjb25zdCBub3JtYWxpemVkU2x1ZyA9IHNsdWcgPyBlbnN1cmVMZWFkaW5nU2xhc2goc2x1ZykgOiBudWxsO1xuICAgIHRyeSB7XG4gICAgICBpZiAobm9ybWFsaXplZFNsdWcpIHtcbiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKEFDVElWRV9TSVRFX0tFWSwgbm9ybWFsaXplZFNsdWcpO1xuICAgICAgICBzdG9yZWRTaXRlLnNsdWcgPSBub3JtYWxpemVkU2x1ZztcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgbmFtZSA9PT0gJ3N0cmluZycgJiYgbmFtZS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShBQ1RJVkVfU0lURV9OQU1FX0tFWSwgbmFtZSk7XG4gICAgICAgIHN0b3JlZFNpdGUubmFtZSA9IG5hbWU7XG4gICAgICB9XG4gICAgfSBjYXRjaCB7XG4gICAgICBzdG9yZWRTaXRlLnNsdWcgPSBub3JtYWxpemVkU2x1ZyB8fCBzdG9yZWRTaXRlLnNsdWc7XG4gICAgICBzdG9yZWRTaXRlLm5hbWUgPSBuYW1lIHx8IHN0b3JlZFNpdGUubmFtZTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgdXBkYXRlU2l0ZUxhYmVscyA9IChuYW1lKSA9PiB7XG4gICAgaWYgKHNpdGVOYW1lTGFiZWwgJiYgbmFtZSkge1xuICAgICAgc2l0ZU5hbWVMYWJlbC50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgfVxuICAgIGlmICh3b3Jrc3BhY2VTaXRlTGFiZWwgJiYgbmFtZSkge1xuICAgICAgd29ya3NwYWNlU2l0ZUxhYmVsLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICB9XG4gICAgaWYgKHdvcmtzcGFjZUJhY2tOYW1lICYmIG5hbWUpIHtcbiAgICAgIHdvcmtzcGFjZUJhY2tOYW1lLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgdXBkYXRlV29ya3NwYWNlTmF2TGlua3MgPSAoc2x1ZykgPT4ge1xuICAgIHdvcmtzcGFjZU5hdkxpbmtzLmZvckVhY2goKGxpbmspID0+IHtcbiAgICAgIGNvbnN0IHRhYiA9IGxpbmsuZGF0YXNldC53b3Jrc3BhY2VUYWI7XG4gICAgICBpZiAoIXRhYikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIXNsdWcpIHtcbiAgICAgICAgbGluay5ocmVmID0gJyMnO1xuICAgICAgICBsaW5rLmNsYXNzTGlzdC5hZGQoJ3BvaW50ZXItZXZlbnRzLW5vbmUnLCAnb3BhY2l0eS01MCcsICd0ZXh0LXNsYXRlLTQwMCcpO1xuICAgICAgICBsaW5rLnNldEF0dHJpYnV0ZSgnYXJpYS1kaXNhYmxlZCcsICd0cnVlJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHNsdWdQYXRoID0gZW5jb2RlVVJJQ29tcG9uZW50KHN0cmlwTGVhZGluZ1NsYXNoKHNsdWcpKTtcbiAgICAgIGxpbmsuaHJlZiA9IGAvYWRtaW4vc2l0ZS8ke3NsdWdQYXRofS8ke3RhYn1gO1xuICAgICAgbGluay5jbGFzc0xpc3QucmVtb3ZlKCdwb2ludGVyLWV2ZW50cy1ub25lJywgJ29wYWNpdHktNTAnLCAndGV4dC1zbGF0ZS00MDAnKTtcbiAgICAgIGxpbmsucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWRpc2FibGVkJyk7XG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3QgYXBwbHlBY3RpdmVTaXRlID0gKHNsdWcsIG9wdGlvbnMgPSB7fSkgPT4ge1xuICAgIGlmICghc2x1Zykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBub3JtYWxpemVkU2x1ZyA9IGVuc3VyZUxlYWRpbmdTbGFzaChzbHVnKTtcbiAgICBsZXQgYWN0aXZlU2l0ZU5hbWUgPVxuICAgICAgb3B0aW9ucy5zaXRlTmFtZSB8fCBzdG9yZWRTaXRlLm5hbWUgfHwgc2l0ZU5hbWVMYWJlbD8uZGF0YXNldC5kZWZhdWx0U2l0ZU5hbWUgfHwgJyc7XG4gICAgc2l0ZUNhcmRzLmZvckVhY2goKGNhcmQpID0+IHtcbiAgICAgIGNvbnN0IGNhcmRTbHVnID0gZW5zdXJlTGVhZGluZ1NsYXNoKGNhcmQuZGF0YXNldC5zaXRlQ2FyZCB8fCAnJyk7XG4gICAgICBjb25zdCBpc0FjdGl2ZSA9IGNhcmRTbHVnID09PSBub3JtYWxpemVkU2x1ZztcbiAgICAgIGNvbnN0IGJhZGdlID0gY2FyZC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLWFjdGl2ZS1iYWRnZV0nKTtcbiAgICAgIGlmIChpc0FjdGl2ZSkge1xuICAgICAgICBjYXJkLmNsYXNzTGlzdC5hZGQoJ2JvcmRlci1bIzlDNkJGRl0nLCAncmluZy0yJywgJ3JpbmctWyM5QzZCRkZdJywgJ3NoYWRvdy1tZCcpO1xuICAgICAgICBjYXJkLmNsYXNzTGlzdC5yZW1vdmUoJ2JvcmRlci1zbGF0ZS0yMDAnKTtcbiAgICAgICAgYmFkZ2U/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICBhY3RpdmVTaXRlTmFtZSA9IGNhcmQuZGF0YXNldC5zaXRlTmFtZSB8fCBhY3RpdmVTaXRlTmFtZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhcmQuY2xhc3NMaXN0LnJlbW92ZSgnYm9yZGVyLVsjOUM2QkZGXScsICdyaW5nLTInLCAncmluZy1bIzlDNkJGRl0nLCAnc2hhZG93LW1kJyk7XG4gICAgICAgIGNhcmQuY2xhc3NMaXN0LmFkZCgnYm9yZGVyLXNsYXRlLTIwMCcpO1xuICAgICAgICBiYWRnZT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKG9wdGlvbnMucGVyc2lzdCAhPT0gZmFsc2UpIHtcbiAgICAgIHBlcnNpc3RTaXRlU3RhdGUobm9ybWFsaXplZFNsdWcsIG9wdGlvbnMuc2l0ZU5hbWUgfHwgYWN0aXZlU2l0ZU5hbWUpO1xuICAgIH1cbiAgICBjb25zdCBmaW5hbE5hbWUgPSBvcHRpb25zLnNpdGVOYW1lIHx8IGFjdGl2ZVNpdGVOYW1lO1xuICAgIHVwZGF0ZVNpdGVMYWJlbHMoZmluYWxOYW1lKTtcbiAgICB1cGRhdGVXb3Jrc3BhY2VOYXZMaW5rcyhub3JtYWxpemVkU2x1Zyk7XG4gIH07XG5cbiAgY29uc3Qgc2VsZWN0U2l0ZSA9IGFzeW5jIChzbHVnLCBuYW1lKSA9PiB7XG4gICAgY29uc3Qgbm9ybWFsaXplZFNsdWcgPSBlbnN1cmVMZWFkaW5nU2xhc2goc2x1Zyk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvc2l0ZXMvc2VsZWN0Jywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgc2x1Zzogbm9ybWFsaXplZFNsdWcgfSksXG4gICAgICB9KTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgc2hvd1RvYXN0KHBheWxvYWQubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBzXHUwMEU5bGVjdGlvbm5lciBjZSBzaXRlLicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgY29uc3QgZmluYWxTbHVnID0gZW5zdXJlTGVhZGluZ1NsYXNoKHBheWxvYWQuc2x1ZyB8fCBub3JtYWxpemVkU2x1Zyk7XG4gICAgICBjb25zdCBmaW5hbE5hbWUgPSBwYXlsb2FkLm5hbWUgfHwgbmFtZTtcbiAgICAgIHBlcnNpc3RTaXRlU3RhdGUoZmluYWxTbHVnLCBmaW5hbE5hbWUpO1xuICAgICAgYXBwbHlBY3RpdmVTaXRlKGZpbmFsU2x1ZywgeyBzaXRlTmFtZTogZmluYWxOYW1lLCBwZXJzaXN0OiBmYWxzZSB9KTtcbiAgICAgIGNvbnN0IHNsdWdQYXRoID0gZW5jb2RlVVJJQ29tcG9uZW50KHN0cmlwTGVhZGluZ1NsYXNoKGZpbmFsU2x1ZykpO1xuICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBgL2FkbWluL3NpdGUvJHtzbHVnUGF0aH0vZGVzaWduYDtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1thZG1pbl0gSW1wb3NzaWJsZSBkZSBzXHUwMEU5bGVjdGlvbm5lciBsZSBzaXRlJywgZXJyKTtcbiAgICAgIHNob3dUb2FzdCgnRXJyZXVyIGluYXR0ZW5kdWUgbG9ycyBkZSBsYSBzXHUwMEU5bGVjdGlvbi4nKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3Qgc3luY0FjdGl2ZVNpdGVGcm9tU2VydmVyID0gYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL3NpdGVzL2N1cnJlbnQnLCB7IGNyZWRlbnRpYWxzOiAnc2FtZS1vcmlnaW4nIH0pO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDQgJiYgd29ya3NwYWNlQ29udGV4dCkge1xuICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9hZG1pbi9zaXRlcyc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3Qgc2l0ZSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWRTbHVnID0gZW5zdXJlTGVhZGluZ1NsYXNoKHNpdGUuc2x1Zyk7XG4gICAgICBwZXJzaXN0U2l0ZVN0YXRlKG5vcm1hbGl6ZWRTbHVnLCBzaXRlLm5hbWUpO1xuICAgICAgYXBwbHlBY3RpdmVTaXRlKG5vcm1hbGl6ZWRTbHVnLCB7IHNpdGVOYW1lOiBzaXRlLm5hbWUsIHBlcnNpc3Q6IGZhbHNlIH0pO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS53YXJuKCdbYWRtaW5dIEltcG9zc2libGUgZGUgclx1MDBFOWN1cFx1MDBFOXJlciBsZSBzaXRlIGFjdGlmJywgZXJyKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGlnaGxpZ2h0RnJvbVN0b3JhZ2VPckRlZmF1bHQgPSAoKSA9PiB7XG4gICAgaWYgKHN0b3JlZFNpdGUuc2x1Zykge1xuICAgICAgYXBwbHlBY3RpdmVTaXRlKHN0b3JlZFNpdGUuc2x1ZywgeyBzaXRlTmFtZTogc3RvcmVkU2l0ZS5uYW1lLCBwZXJzaXN0OiBmYWxzZSB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZGVmYXVsdENhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLWNhcmRdW2RhdGEtc2l0ZS1kZWZhdWx0PVwidHJ1ZVwiXScpIHx8IHNpdGVDYXJkc1swXTtcbiAgICBpZiAoZGVmYXVsdENhcmQpIHtcbiAgICAgIGFwcGx5QWN0aXZlU2l0ZShkZWZhdWx0Q2FyZC5kYXRhc2V0LnNpdGVDYXJkLCB7XG4gICAgICAgIHNpdGVOYW1lOiBkZWZhdWx0Q2FyZC5kYXRhc2V0LnNpdGVOYW1lIHx8ICcnLFxuICAgICAgICBwZXJzaXN0OiBmYWxzZSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICBoaWdobGlnaHRGcm9tU3RvcmFnZU9yRGVmYXVsdCgpO1xuICBzeW5jQWN0aXZlU2l0ZUZyb21TZXJ2ZXIoKTtcbiAgaWYgKHdvcmtzcGFjZUNvbnRleHQpIHtcbiAgICB1cGRhdGVXb3Jrc3BhY2VOYXZMaW5rcyh3b3Jrc3BhY2VDb250ZXh0LnNsdWdWYWx1ZSk7XG4gIH0gZWxzZSBpZiAoc3RvcmVkU2l0ZS5zbHVnKSB7XG4gICAgdXBkYXRlV29ya3NwYWNlTmF2TGlua3Moc3RvcmVkU2l0ZS5zbHVnKTtcbiAgfVxuXG4gIHNpdGVTZWxlY3RCdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGlmIChidXR0b24uZGlzYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3Qgc2x1ZyA9IGJ1dHRvbi5kYXRhc2V0LnNpdGVTZWxlY3Q7XG4gICAgICBjb25zdCBuYW1lID0gYnV0dG9uLmRhdGFzZXQuc2l0ZVNlbGVjdE5hbWUgfHwgJ0NlIHNpdGUnO1xuICAgICAgaWYgKCFzbHVnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICBzZWxlY3RTaXRlKHNsdWcsIG5hbWUpLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICBidXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBjb25zdCB3b3Jrc3BhY2VTbHVnaWZ5ID0gKHZhbHVlKSA9PlxuICAgIHZhbHVlXG4gICAgICAubm9ybWFsaXplKCdORkQnKVxuICAgICAgLnJlcGxhY2UoL1tcXHUwMzAwLVxcdTAzNmZdL2csICcnKVxuICAgICAgLnRvTG93ZXJDYXNlKClcbiAgICAgIC5yZXBsYWNlKC9bXmEtejAtOV0rL2csICctJylcbiAgICAgIC5yZXBsYWNlKC9eLSt8LSskL2csICcnKTtcblxuICBjb25zdCBub3JtYWxpemVTbHVnVmFsdWUgPSAodmFsdWUpID0+IHtcbiAgICBjb25zdCBiYXNlID0gd29ya3NwYWNlU2x1Z2lmeSh2YWx1ZSB8fCAnJyk7XG4gICAgaWYgKCFiYXNlKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIHJldHVybiBgLyR7YmFzZX1gO1xuICB9O1xuXG4gIGNvbnN0IG9wZW5TaXRlTW9kYWwgPSAoKSA9PiB7XG4gICAgaWYgKCFzaXRlTW9kYWwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGFzdEZvY3VzZWRFbGVtZW50ID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcbiAgICBzaXRlTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgc2l0ZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2ZsZXgnKTtcbiAgICBzbHVnTWFudWFsbHlFZGl0ZWQgPSBmYWxzZTtcbiAgICBzaXRlRm9ybT8ucmVzZXQoKTtcbiAgICBzaXRlU2x1Z0Vycm9yICYmIChzaXRlU2x1Z0Vycm9yLnRleHRDb250ZW50ID0gJycpO1xuICAgIHNpdGVNb2RhbEVycm9yICYmIChzaXRlTW9kYWxFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICBpZiAoc2l0ZVNsdWdJbnB1dCAmJiBzaXRlTmFtZUlucHV0KSB7XG4gICAgICBzaXRlU2x1Z0lucHV0LnZhbHVlID0gd29ya3NwYWNlU2x1Z2lmeShzaXRlTmFtZUlucHV0LnZhbHVlKTtcbiAgICB9XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRyYXBGb2N1cyk7XG4gICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgc2l0ZU5hbWVJbnB1dD8uZm9jdXMoKTtcbiAgICB9LCAwKTtcbiAgfTtcblxuICBjb25zdCBjbG9zZVNpdGVNb2RhbCA9ICgpID0+IHtcbiAgICBpZiAoIXNpdGVNb2RhbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzaXRlTW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgc2l0ZU1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2ZsZXgnKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdHJhcEZvY3VzKTtcbiAgICBzbHVnTWFudWFsbHlFZGl0ZWQgPSBmYWxzZTtcbiAgICBzaXRlRm9ybT8ucmVzZXQoKTtcbiAgICBzaXRlU2x1Z0Vycm9yICYmIChzaXRlU2x1Z0Vycm9yLnRleHRDb250ZW50ID0gJycpO1xuICAgIHNpdGVNb2RhbEVycm9yICYmIChzaXRlTW9kYWxFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICBsYXN0Rm9jdXNlZEVsZW1lbnQ/LmZvY3VzKCk7XG4gIH07XG5cbiAgc2l0ZUNyZWF0ZUJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlblNpdGVNb2RhbCk7XG4gIH0pO1xuXG4gIHNpdGVNb2RhbENhbmNlbEJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VTaXRlTW9kYWwpO1xuICB9KTtcblxuICBzaXRlTW9kYWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gc2l0ZU1vZGFsKSB7XG4gICAgICBjbG9zZVNpdGVNb2RhbCgpO1xuICAgIH1cbiAgfSk7XG5cbiAgc2l0ZU5hbWVJbnB1dD8uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgaWYgKCFzaXRlU2x1Z0lucHV0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghc2x1Z01hbnVhbGx5RWRpdGVkIHx8IHNpdGVTbHVnSW5wdXQudmFsdWUudHJpbSgpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgc2l0ZVNsdWdJbnB1dC52YWx1ZSA9IHdvcmtzcGFjZVNsdWdpZnkoc2l0ZU5hbWVJbnB1dC52YWx1ZSk7XG4gICAgfVxuICB9KTtcblxuICBzaXRlU2x1Z0lucHV0Py5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICBzbHVnTWFudWFsbHlFZGl0ZWQgPSB0cnVlO1xuICAgIHNpdGVTbHVnRXJyb3IgJiYgKHNpdGVTbHVnRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gIH0pO1xuXG4gIGNvbnN0IGdldFNsdWdTZXQgPSAoKSA9PlxuICAgIG5ldyBTZXQoQXJyYXkuZnJvbShzaXRlQ2FyZHMpLm1hcCgoY2FyZCkgPT4gZW5zdXJlTGVhZGluZ1NsYXNoKGNhcmQuZGF0YXNldC5zaXRlQ2FyZCB8fCAnJykpKTtcblxuICBzaXRlRm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAoIXNpdGVOYW1lSW5wdXQgfHwgIXNpdGVTbHVnSW5wdXQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgbmFtZVZhbHVlID0gKHNpdGVOYW1lSW5wdXQudmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICBsZXQgc2x1Z1ZhbHVlID0gc2l0ZVNsdWdJbnB1dC52YWx1ZSB8fCAnJztcbiAgICBpZiAoIXNsdWdWYWx1ZSkge1xuICAgICAgc2x1Z1ZhbHVlID0gbmFtZVZhbHVlO1xuICAgIH1cbiAgICBjb25zdCBub3JtYWxpemVkU2x1ZyA9IG5vcm1hbGl6ZVNsdWdWYWx1ZShzbHVnVmFsdWUpO1xuICAgIGlmICghbmFtZVZhbHVlIHx8ICFub3JtYWxpemVkU2x1Zykge1xuICAgICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9ICdOb20gZXQgc2x1ZyBzb250IHJlcXVpcy4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZXhpc3RpbmdTbHVncyA9IGdldFNsdWdTZXQoKTtcbiAgICBpZiAoZXhpc3RpbmdTbHVncy5oYXMobm9ybWFsaXplZFNsdWcpKSB7XG4gICAgICBzaXRlU2x1Z0Vycm9yICYmIChzaXRlU2x1Z0Vycm9yLnRleHRDb250ZW50ID0gJ0NlIHNsdWcgZXN0IGRcdTAwRTlqXHUwMEUwIHV0aWxpc1x1MDBFOS4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICBzaXRlTW9kYWxFcnJvciAmJiAoc2l0ZU1vZGFsRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgaWYgKHNpdGVNb2RhbFN1Ym1pdEJ1dHRvbikge1xuICAgICAgc2l0ZU1vZGFsU3VibWl0QnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIHNpdGVNb2RhbFN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9ICdDclx1MDBFOWF0aW9uLi4uJztcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvc2l0ZXMnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBuYW1lOiBuYW1lVmFsdWUsIHNsdWc6IG5vcm1hbGl6ZWRTbHVnIH0pLFxuICAgICAgfSk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBwYXlsb2FkLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgY3JcdTAwRTllciBjZSBzaXRlLic7XG4gICAgICAgIHNpdGVNb2RhbEVycm9yICYmIChzaXRlTW9kYWxFcnJvci50ZXh0Q29udGVudCA9IG1lc3NhZ2UpO1xuICAgICAgICBpZiAocGF5bG9hZC5maWVsZCA9PT0gJ3NsdWcnKSB7XG4gICAgICAgICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9IG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNyZWF0ZWRTaXRlID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgY29uc3QgZmluYWxTbHVnID0gZW5zdXJlTGVhZGluZ1NsYXNoKGNyZWF0ZWRTaXRlPy5zbHVnIHx8IG5vcm1hbGl6ZWRTbHVnKTtcbiAgICAgIGNvbnN0IGZpbmFsTmFtZSA9IGNyZWF0ZWRTaXRlPy5uYW1lIHx8IG5hbWVWYWx1ZTtcbiAgICAgIHBlcnNpc3RTaXRlU3RhdGUoZmluYWxTbHVnLCBmaW5hbE5hbWUpO1xuICAgICAgY2xvc2VTaXRlTW9kYWwoKTtcbiAgICAgIGNvbnN0IHNsdWdQYXRoID0gZW5jb2RlVVJJQ29tcG9uZW50KHN0cmlwTGVhZGluZ1NsYXNoKGZpbmFsU2x1ZykpO1xuICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBgL2FkbWluL3NpdGUvJHtzbHVnUGF0aH0vZGVzaWduYDtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1thZG1pbl0gSW1wb3NzaWJsZSBkZSBjclx1MDBFOWVyIGxlIHNpdGUnLCBlcnIpO1xuICAgICAgc2l0ZU1vZGFsRXJyb3IgJiYgKHNpdGVNb2RhbEVycm9yLnRleHRDb250ZW50ID0gJ0VycmV1ciBpbmF0dGVuZHVlLiBSXHUwMEU5ZXNzYWllIGRhbnMgdW4gaW5zdGFudC4nKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKHNpdGVNb2RhbFN1Ym1pdEJ1dHRvbikge1xuICAgICAgICBzaXRlTW9kYWxTdWJtaXRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgc2l0ZU1vZGFsU3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gJ0NyXHUwMEU5ZXInO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZlbnQpID0+IHtcbiAgICBpZiAoZXZlbnQua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgaWYgKHNpdGVNb2RhbCAmJiAhc2l0ZU1vZGFsLmNsYXNzTGlzdC5jb250YWlucygnaGlkZGVuJykpIHtcbiAgICAgICAgY2xvc2VTaXRlTW9kYWwoKTtcbiAgICAgIH1cbiAgICAgIGlmICh3b3Jrc3BhY2VCYWNrTW9kYWwgJiYgIXdvcmtzcGFjZUJhY2tNb2RhbC5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpKSB7XG4gICAgICAgIGNsb3NlV29ya3NwYWNlQmFja01vZGFsKCk7XG4gICAgICB9XG4gICAgICBpZiAoYmxvY2tEZWxldGVNb2RhbCAmJiAhYmxvY2tEZWxldGVNb2RhbC5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpKSB7XG4gICAgICAgIGNsb3NlQmxvY2tEZWxldGVNb2RhbCgpO1xuICAgICAgfVxuICAgICAgaWYgKGJsb2NrTGlicmFyeU9wZW4pIHtcbiAgICAgICAgY2xvc2VCbG9ja0xpYnJhcnkoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIGdldFdvcmtzcGFjZUNvbnRleHQoKSB7XG4gICAgY29uc3QgbWF0Y2ggPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUubWF0Y2goL15cXC9hZG1pblxcL3NpdGVcXC8oW14vXSspKD86XFwvKFteL10rKSk/Lyk7XG4gICAgaWYgKCFtYXRjaCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBzbHVnUGFydDogZGVjb2RlVVJJQ29tcG9uZW50KG1hdGNoWzFdKSxcbiAgICAgIHNsdWdWYWx1ZTogZW5zdXJlTGVhZGluZ1NsYXNoKGRlY29kZVVSSUNvbXBvbmVudChtYXRjaFsxXSkpLFxuICAgICAgc2VjdGlvbjogbWF0Y2hbMl0gfHwgJ2Rlc2lnbicsXG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRldGVjdFdvcmtzcGFjZVNlY3Rpb24oKSB7XG4gICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXBhZ2UtbGlzdF0nKSkge1xuICAgICAgcmV0dXJuICdkZXNpZ24nO1xuICAgIH1cbiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29sbGVjdGlvbi1saXN0XScpKSB7XG4gICAgICByZXR1cm4gJ2NvbnRlbnQnO1xuICAgIH1cbiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZ3JpZF0nKSkge1xuICAgICAgcmV0dXJuICdtZWRpYSc7XG4gICAgfVxuICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktZm9ybV0nKSkge1xuICAgICAgcmV0dXJuICdkZXBsb3knO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9wZW5Xb3Jrc3BhY2VCYWNrTW9kYWwoKSB7XG4gICAgaWYgKCF3b3Jrc3BhY2VCYWNrTW9kYWwpIHtcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9hZG1pbi9zaXRlcyc7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHdvcmtzcGFjZUJhY2tNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICB3b3Jrc3BhY2VCYWNrTW9kYWwuY2xhc3NMaXN0LmFkZCgnZmxleCcpO1xuICB9XG5cbiAgZnVuY3Rpb24gY2xvc2VXb3Jrc3BhY2VCYWNrTW9kYWwoKSB7XG4gICAgaWYgKCF3b3Jrc3BhY2VCYWNrTW9kYWwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgd29ya3NwYWNlQmFja01vZGFsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgIHdvcmtzcGFjZUJhY2tNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdmbGV4Jyk7XG4gIH1cblxuICB3b3Jrc3BhY2VCYWNrQnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuV29ya3NwYWNlQmFja01vZGFsKTtcbiAgfSk7XG4gIHdvcmtzcGFjZUJhY2tDYW5jZWwuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VXb3Jrc3BhY2VCYWNrTW9kYWwpO1xuICB9KTtcbiAgd29ya3NwYWNlQmFja0NvbmZpcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9hZG1pbi9zaXRlcyc7XG4gIH0pO1xuXG4gIGNvbnN0IGFjdGl2ZVNlY3Rpb24gPSB3b3Jrc3BhY2VDb250ZXh0Py5zZWN0aW9uIHx8IGRldGVjdFdvcmtzcGFjZVNlY3Rpb24oKTtcblxuICBpZiAoYWN0aXZlU2VjdGlvbiA9PT0gJ2Rlc2lnbicpIHtcbiAgICBpbml0RGVzaWduV29ya3NwYWNlKCk7XG4gIH1cbiAgaWYgKGFjdGl2ZVNlY3Rpb24gPT09ICdjb250ZW50Jykge1xuICAgIGluaXRDb250ZW50V29ya3NwYWNlKCk7XG4gIH1cbiAgaWYgKGFjdGl2ZVNlY3Rpb24gPT09ICdtZWRpYScpIHtcbiAgICBpbml0TWVkaWFXb3Jrc3BhY2UoKTtcbiAgfVxuICBpZiAoYWN0aXZlU2VjdGlvbiA9PT0gJ2RlcGxveScpIHtcbiAgICBpbml0RGVwbG95V29ya3NwYWNlKCk7XG4gIH1cbiAgaWYgKGFjdGl2ZVNlY3Rpb24gPT09ICdzZXR0aW5ncycpIHtcbiAgICBpbml0U2V0dGluZ3NXb3Jrc3BhY2UoKTtcbiAgfVxuXG4gIGlmICh3b3Jrc3BhY2VDb250ZXh0ICYmIHN0b3JlZFNpdGUubmFtZSkge1xuICAgIHVwZGF0ZVNpdGVMYWJlbHMoc3RvcmVkU2l0ZS5uYW1lKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXREZXNpZ25Xb3Jrc3BhY2UoKSB7XG4gICAgY29uc3QgcGFnZUxpc3RzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtcGFnZS1saXN0XScpO1xuICAgIGlmIChwYWdlTGlzdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGFjdGl2ZVRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWN0aXZlLXBhZ2UtdGl0bGVdJyk7XG4gICAgY29uc3QgYWN0aXZlU2x1ZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFjdGl2ZS1wYWdlLXNsdWddJyk7XG4gICAgY29uc3QgcHJldmlld1RhZ3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLXByZXZpZXctdGFnc10nKTtcbiAgICBjb25zdCBwcmV2aWV3RnJhbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLXByZXZpZXctZnJhbWVdJyk7XG4gICAgY29uc3QgcHJldmlld09wZW5CdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wcmV2aWV3LW9wZW5dJyk7XG4gICAgY29uc3QgcHJldmlld1N0YXR1cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXByZXZpZXctc3RhdHVzXScpO1xuICAgIGNvbnN0IHByZXZpZXdIaWdobGlnaHRPdmVybGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcHJldmlldy1oaWdobGlnaHRdJyk7XG4gICAgLy8gU0VPIHBhbmVsIGVsZW1lbnRzXG4gICAgY29uc3Qgc2VvVG9nZ2xlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2VvLXRvZ2dsZV0nKTtcbiAgICBjb25zdCBzZW9QYW5lbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby1wYW5lbF0nKTtcbiAgICBjb25zdCBzZW9DbG9zZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby1jbG9zZV0nKTtcbiAgICBjb25zdCBzZW9Gb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2VvLWZvcm1dJyk7XG4gICAgY29uc3Qgc2VvVGl0bGVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby10aXRsZV0nKTtcbiAgICBjb25zdCBzZW9EZXNjcmlwdGlvbklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2VvLWRlc2NyaXB0aW9uXScpO1xuICAgIGNvbnN0IHNlb0ZlZWRiYWNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2VvLWZlZWRiYWNrXScpO1xuICAgIGNvbnN0IHNlb1NhdmVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8tc2F2ZV0nKTtcbiAgICBjb25zdCBibG9ja0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9ja3MtbGlzdF0nKTtcbiAgICBjb25zdCBibG9ja0xpc3RFbXB0eSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2Nrcy1lbXB0eV0nKTtcbiAgICBjb25zdCBibG9ja0NvdW50QmFkZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1jb3VudF0nKTtcbiAgICBjb25zdCBibG9ja0xpYnJhcnlUb2dnbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1saWJyYXJ5LXRvZ2dsZV0nKTtcbiAgICBjb25zdCBibG9ja0xpYnJhcnkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1saWJyYXJ5XScpO1xuICAgIGNvbnN0IGJsb2NrQWRkQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWJsb2NrLWFkZF0nKTtcbiAgICBjb25zdCBibG9ja0RlbGV0ZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZGVsZXRlLW1vZGFsXScpO1xuICAgIGNvbnN0IGJsb2NrRGVsZXRlQ29uZmlybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWRlbGV0ZS1jb25maXJtXScpO1xuICAgIGNvbnN0IGJsb2NrRGVsZXRlQ2FuY2VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZGVsZXRlLWNhbmNlbF0nKTtcbiAgICBjb25zdCBibG9ja0RldGFpbEVtcHR5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZGV0YWlsLWVtcHR5XScpO1xuICAgIGNvbnN0IGJsb2NrRGV0YWlsU3RhdHVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZGV0YWlsLXN0YXR1c10nKTtcbiAgICBjb25zdCBibG9ja0VkaXRvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWVkaXRvcl0nKTtcbiAgICBjb25zdCBibG9ja0VkaXRvclRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZWRpdG9yLWJsb2NrLW5hbWVdJyk7XG4gICAgY29uc3QgYmxvY2tFZGl0b3JUeXBlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZWRpdG9yLWJsb2NrLXR5cGVdJyk7XG4gICAgY29uc3QgYmxvY2tFZGl0b3JVbnN1cHBvcnRlZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWVkaXRvci11bnN1cHBvcnRlZF0nKTtcbiAgICBjb25zdCBibG9ja0Zvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1mb3JtXScpO1xuICAgIGNvbnN0IGJsb2NrRm9ybVNlY3Rpb25zID0gYmxvY2tGb3JtXG4gICAgICA/IEFycmF5LmZyb20oYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWVkaXRvci1zZWN0aW9uXScpKVxuICAgICAgOiBbXTtcbiAgICAvLyBPbmdsZXRzIENvbnRlbnUgLyBBcHBhcmVuY2VcbiAgICBjb25zdCBibG9ja1RhYnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1ibG9jay10YWJdJyk7XG4gICAgbGV0IGFjdGl2ZUJsb2NrVGFiID0gJ2NvbnRlbnQnO1xuXG4gICAgLy8gRm9uY3Rpb24gcG91ciBzd2l0Y2hlciBlbnRyZSBsZXMgb25nbGV0cyBDb250ZW51L0FwcGFyZW5jZVxuICAgIGNvbnN0IHN3aXRjaEJsb2NrVGFiID0gKHRhYk5hbWUpID0+IHtcbiAgICAgIGFjdGl2ZUJsb2NrVGFiID0gdGFiTmFtZTtcbiAgICAgIC8vIE1ldHRyZSBcdTAwRTAgam91ciBsZXMgc3R5bGVzIGRlcyBib3V0b25zIGQnb25nbGV0XG4gICAgICBibG9ja1RhYnMuZm9yRWFjaCgodGFiKSA9PiB7XG4gICAgICAgIGNvbnN0IGlzQWN0aXZlID0gdGFiLmRhdGFzZXQuYmxvY2tUYWIgPT09IHRhYk5hbWU7XG4gICAgICAgIHRhYi5zZXRBdHRyaWJ1dGUoJ2FyaWEtc2VsZWN0ZWQnLCBpc0FjdGl2ZSA/ICd0cnVlJyA6ICdmYWxzZScpO1xuICAgICAgICBpZiAoaXNBY3RpdmUpIHtcbiAgICAgICAgICB0YWIuY2xhc3NMaXN0LmFkZCgndGV4dC1bIzlDNkJGRl0nKTtcbiAgICAgICAgICB0YWIuY2xhc3NMaXN0LnJlbW92ZSgndGV4dC1zbGF0ZS01MDAnLCAnaG92ZXI6dGV4dC1zbGF0ZS03MDAnKTtcbiAgICAgICAgICB0YWIuY2xhc3NMaXN0LmFkZCgnYWZ0ZXI6YWJzb2x1dGUnLCAnYWZ0ZXI6Ym90dG9tLTAnLCAnYWZ0ZXI6bGVmdC0wJywgJ2FmdGVyOnJpZ2h0LTAnLCAnYWZ0ZXI6aC0wLjUnLCAnYWZ0ZXI6YmctWyM5QzZCRkZdJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGFiLmNsYXNzTGlzdC5yZW1vdmUoJ3RleHQtWyM5QzZCRkZdJyk7XG4gICAgICAgICAgdGFiLmNsYXNzTGlzdC5hZGQoJ3RleHQtc2xhdGUtNTAwJywgJ2hvdmVyOnRleHQtc2xhdGUtNzAwJyk7XG4gICAgICAgICAgdGFiLmNsYXNzTGlzdC5yZW1vdmUoJ2FmdGVyOmFic29sdXRlJywgJ2FmdGVyOmJvdHRvbS0wJywgJ2FmdGVyOmxlZnQtMCcsICdhZnRlcjpyaWdodC0wJywgJ2FmdGVyOmgtMC41JywgJ2FmdGVyOmJnLVsjOUM2QkZGXScpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIC8vIEFmZmljaGVyL21hc3F1ZXIgbGVzIHBhbmVscyBkYW5zIGxhIHNlY3Rpb24gYWN0aXZlXG4gICAgICBjb25zdCBhY3RpdmVTZWN0aW9uID0gYmxvY2tGb3JtPy5xdWVyeVNlbGVjdG9yKCdbZGF0YS1lZGl0b3Itc2VjdGlvbl06bm90KC5oaWRkZW4pJyk7XG4gICAgICBpZiAoYWN0aXZlU2VjdGlvbikge1xuICAgICAgICBjb25zdCBwYW5lbHMgPSBhY3RpdmVTZWN0aW9uLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWJsb2NrLXBhbmVsXScpO1xuICAgICAgICBwYW5lbHMuZm9yRWFjaCgocGFuZWwpID0+IHtcbiAgICAgICAgICBpZiAocGFuZWwuZGF0YXNldC5ibG9ja1BhbmVsID09PSB0YWJOYW1lKSB7XG4gICAgICAgICAgICBwYW5lbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFuZWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gRXZlbnQgbGlzdGVuZXJzIHBvdXIgbGVzIG9uZ2xldHNcbiAgICBibG9ja1RhYnMuZm9yRWFjaCgodGFiKSA9PiB7XG4gICAgICB0YWIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIHN3aXRjaEJsb2NrVGFiKHRhYi5kYXRhc2V0LmJsb2NrVGFiKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgY29uc3QgY29sbGVjdGlvblNlbGVjdCA9IGJsb2NrRm9ybT8ucXVlcnlTZWxlY3RvcignW25hbWU9XCJjb2xsZWN0aW9uLWdyaWQtY29sbGVjdGlvblwiXScpO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25TZWxlY3Rpb25JbmZvID0gYmxvY2tGb3JtPy5xdWVyeVNlbGVjdG9yKFxuICAgICAgJ1tkYXRhLWNvbGxlY3Rpb24tc2VsZWN0aW9uLWluZm9dJyxcbiAgICApO1xuICAgIGNvbnN0IGJsb2NrRm9ybUNhbmNlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWZvcm0tY2FuY2VsXScpO1xuICAgIGNvbnN0IGdyb3VwUHJldmlld01vYmlsZSA9IGJsb2NrRm9ybT8ucXVlcnlTZWxlY3RvcignW2RhdGEtZ3JvdXAtcHJldmlldy1tb2JpbGVdJyk7XG4gICAgY29uc3QgZ3JvdXBQcmV2aWV3RGVza3RvcCA9IGJsb2NrRm9ybT8ucXVlcnlTZWxlY3RvcignW2RhdGEtZ3JvdXAtcHJldmlldy1kZXNrdG9wXScpO1xuICAgIGNvbnN0IGJsb2NrVHlwZUZvcm1zID0ge1xuICAgICAgaGVybzoge1xuICAgICAgICBzZWN0aW9uOiAnaGVybycsXG4gICAgICAgIGxhYmVsRmllbGQ6ICd0aXRsZScsXG4gICAgICAgIGRlc2NyaXB0aW9uRmllbGQ6ICdzdWJ0aXRsZScsXG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIHRpdGxlOiAnaGVyby10aXRsZScsXG4gICAgICAgICAgc3VidGl0bGU6ICdoZXJvLXN1YnRpdGxlJyxcbiAgICAgICAgICBjdGFMYWJlbDogJ2hlcm8tY3RhLWxhYmVsJyxcbiAgICAgICAgICBjdGFVcmw6ICdoZXJvLWN0YS11cmwnLFxuICAgICAgICAgIGltYWdlOiAnaGVyby1pbWFnZScsXG4gICAgICAgICAgYWxpZ246ICdoZXJvLWFsaWduJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBwYXJhZ3JhcGhlOiB7XG4gICAgICAgIHNlY3Rpb246ICdwYXJhZ3JhcGgnLFxuICAgICAgICBsYWJlbEZpZWxkOiAndGl0bGUnLFxuICAgICAgICBkZXNjcmlwdGlvbkZpZWxkOiAnY29udGVudCcsXG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIHRpdGxlOiAncGFyYWdyYXBoLXRpdGxlJyxcbiAgICAgICAgICBjb250ZW50OiAncGFyYWdyYXBoLWNvbnRlbnQnLFxuICAgICAgICAgIGFsaWduOiAncGFyYWdyYXBoLWFsaWduJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBpbWFnZToge1xuICAgICAgICBzZWN0aW9uOiAnaW1hZ2UnLFxuICAgICAgICBsYWJlbEZpZWxkOiAnYWx0JyxcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgc3JjOiAnaW1hZ2Utc3JjJyxcbiAgICAgICAgICBhbHQ6ICdpbWFnZS1hbHQnLFxuICAgICAgICAgIHNob3dDYXB0aW9uOiAnaW1hZ2UtY2FwdGlvbi10b2dnbGUnLFxuICAgICAgICAgIGNhcHRpb246ICdpbWFnZS1jYXB0aW9uJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBncm91cGU6IHtcbiAgICAgICAgc2VjdGlvbjogJ2dyb3VwJyxcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgbGF5b3V0OiAnZ3JvdXAtbGF5b3V0JyxcbiAgICAgICAgICBjb2x1bW5zTW9iaWxlOiAnZ3JvdXAtY29sdW1ucy1tb2JpbGUnLFxuICAgICAgICAgIGNvbHVtbnNEZXNrdG9wOiAnZ3JvdXAtY29sdW1ucy1kZXNrdG9wJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBjb2xsZWN0aW9uZ3JpZDoge1xuICAgICAgICBzZWN0aW9uOiAnY29sbGVjdGlvbicsXG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIGNvbGxlY3Rpb25JZDogJ2NvbGxlY3Rpb24tZ3JpZC1jb2xsZWN0aW9uJyxcbiAgICAgICAgICBsaW1pdDogJ2NvbGxlY3Rpb24tZ3JpZC1saW1pdCcsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgZm9ybToge1xuICAgICAgICBzZWN0aW9uOiAnZm9ybScsXG4gICAgICAgIGxhYmVsRmllbGQ6ICdmb3JtVGl0bGUnLFxuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBmb3JtVGl0bGU6ICdmb3JtLXRpdGxlJyxcbiAgICAgICAgICBhY3Rpb25Vcmw6ICdmb3JtLWFjdGlvbi11cmwnLFxuICAgICAgICAgIG1ldGhvZDogJ2Zvcm0tbWV0aG9kJyxcbiAgICAgICAgICBzZXJ2aWNlTmFtZTogJ2Zvcm0tc2VydmljZS1uYW1lJyxcbiAgICAgICAgICBzdWJtaXRMYWJlbDogJ2Zvcm0tc3VibWl0LWxhYmVsJyxcbiAgICAgICAgICBzdWNjZXNzTWVzc2FnZTogJ2Zvcm0tc3VjY2Vzcy1tZXNzYWdlJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBuZXdzbGV0dGVyZW1iZWQ6IHtcbiAgICAgICAgc2VjdGlvbjogJ25ld3NsZXR0ZXInLFxuICAgICAgICBsYWJlbEZpZWxkOiAndGl0bGUnLFxuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICB0aXRsZTogJ25ld3NsZXR0ZXItdGl0bGUnLFxuICAgICAgICAgIHNlcnZpY2VOYW1lOiAnbmV3c2xldHRlci1zZXJ2aWNlLW5hbWUnLFxuICAgICAgICAgIGVtYmVkQ29kZTogJ25ld3NsZXR0ZXItZW1iZWQtY29kZScsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH07XG4gICAgY29uc3QgYmxvY2tUeXBlQWxpYXNlcyA9IHtcbiAgICAgIHRleHRlOiAncGFyYWdyYXBoZScsXG4gICAgICBwYXJhZ3JhcGg6ICdwYXJhZ3JhcGhlJyxcbiAgICAgIHBhcmFncmFwaHM6ICdwYXJhZ3JhcGhlJyxcbiAgICAgIHBhcmFncmFwaGVzOiAncGFyYWdyYXBoZScsXG4gICAgICB0ZXh0OiAncGFyYWdyYXBoZScsXG4gICAgICBoZXJvOiAnaGVybycsXG4gICAgICBpbWFnZTogJ2ltYWdlJyxcbiAgICAgIGdyb3VwZTogJ2dyb3VwZScsXG4gICAgICBncm91cDogJ2dyb3VwZScsXG4gICAgICBjb2xsZWN0aW9uOiAnY29sbGVjdGlvbmdyaWQnLFxuICAgICAgY29sbGVjdGlvbmdyaWQ6ICdjb2xsZWN0aW9uZ3JpZCcsXG4gICAgICAnY29sbGVjdGlvbi1ncmlkJzogJ2NvbGxlY3Rpb25ncmlkJyxcbiAgICAgIGZvcm06ICdmb3JtJyxcbiAgICAgIGZvcm11bGFpcmU6ICdmb3JtJyxcbiAgICAgIGNvbnRhY3Q6ICdmb3JtJyxcbiAgICAgIG5ld3NsZXR0ZXJlbWJlZDogJ25ld3NsZXR0ZXJlbWJlZCcsXG4gICAgICBuZXdzbGV0dGVyOiAnbmV3c2xldHRlcmVtYmVkJyxcbiAgICAgIGVtYmVkOiAnbmV3c2xldHRlcmVtYmVkJyxcbiAgICB9O1xuICAgIGNvbnN0IHVwZGF0ZUdyb3VwTWluaVByZXZpZXcgPSAobW9iaWxlVmFsdWUsIGRlc2t0b3BWYWx1ZSkgPT4ge1xuICAgICAgaWYgKCFncm91cFByZXZpZXdNb2JpbGUgfHwgIWdyb3VwUHJldmlld0Rlc2t0b3ApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVuZGVyQm94ZXMgPSAoY291bnQpID0+XG4gICAgICAgIEFycmF5LmZyb20oeyBsZW5ndGg6IE51bWJlcihjb3VudCkgfHwgMSB9KVxuICAgICAgICAgIC5tYXAoKCkgPT4gJzxzcGFuIGNsYXNzPVwiYmxvY2sgaC0yIHctZnVsbCByb3VuZGVkLWZ1bGwgYmctc2xhdGUtMzAwXCI+PC9zcGFuPicpXG4gICAgICAgICAgLmpvaW4oJycpO1xuICAgICAgZ3JvdXBQcmV2aWV3TW9iaWxlLmlubmVySFRNTCA9IHJlbmRlckJveGVzKG1vYmlsZVZhbHVlKTtcbiAgICAgIGdyb3VwUHJldmlld0Rlc2t0b3AuaW5uZXJIVE1MID0gcmVuZGVyQm94ZXMoZGVza3RvcFZhbHVlKTtcbiAgICB9O1xuICAgIGNvbnN0IGZldGNoUGFnZXNGcm9tU2VydmVyID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFwYWdlc0FwaUJhc2UpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChwYWdlc0FwaUJhc2UsIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ltcG9zc2libGUgZGUgY2hhcmdlciBsZXMgcGFnZXMuJyk7XG4gICAgICB9XG4gICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+IFtdKTtcbiAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHBheWxvYWQpID8gcGF5bG9hZCA6IFtdO1xuICAgIH07XG4gICAgY29uc3QgY3JlYXRlUGFnZU9uU2VydmVyID0gYXN5bmMgKHsgdGl0bGUsIHNsdWcgfSkgPT4ge1xuICAgICAgaWYgKCFwYWdlc0FwaUJhc2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTaXRlIGluY29ubnUuJyk7XG4gICAgICB9XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHBhZ2VzQXBpQmFzZSwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgdGl0bGUsIHNsdWcgfSksXG4gICAgICB9KTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHBheWxvYWQubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBjclx1MDBFOWVyIGxhIHBhZ2UuJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgIH07XG4gICAgY29uc3Qgc2F2ZVBhZ2VUb1NlcnZlciA9IGFzeW5jIChwYWdlKSA9PiB7XG4gICAgICBpZiAoIXBhZ2VzQXBpQmFzZSB8fCAhcGFnZT8uaWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtwYWdlc0FwaUJhc2V9LyR7ZW5jb2RlVVJJQ29tcG9uZW50KHBhZ2UuaWQpfWAsIHtcbiAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYWdlKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihwYXlsb2FkLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgc2F1dmVnYXJkZXIgbGEgcGFnZS4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzYXZlZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgaWYgKHNhdmVkPy5pZCkge1xuICAgICAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBub3JtYWxpemVQYWdlRGF0YShzYXZlZCk7XG4gICAgICAgICAgcGFnZXMgPSBwYWdlcy5tYXAoKGVudHJ5KSA9PiAoZW50cnkuaWQgPT09IG5vcm1hbGl6ZWQuaWQgPyBub3JtYWxpemVkIDogZW50cnkpKTtcbiAgICAgICAgICBpZiAoY3VycmVudFBhZ2U/LmlkID09PSBub3JtYWxpemVkLmlkKSB7XG4gICAgICAgICAgICBjdXJyZW50UGFnZSA9IG5vcm1hbGl6ZWQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBub3JtYWxpemVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzYXZlZDtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZGVzaWduXSBTYXZlIHBhZ2UgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdTYXV2ZWdhcmRlIGltcG9zc2libGUuJyk7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBsb2FkUGFnZXNGcm9tU2VydmVyID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFwYWdlc0FwaUJhc2UpIHtcbiAgICAgICAgcGFnZXMgPSBbXTtcbiAgICAgICAgYWN0aXZlUGFnZUlkID0gbnVsbDtcbiAgICAgICAgY3VycmVudFBhZ2UgPSBudWxsO1xuICAgICAgICByZW5kZXJQYWdlTGlzdHMocGFnZXMsIGFjdGl2ZVBhZ2VJZCk7XG4gICAgICAgIHJlbmRlckJsb2NrTGlzdChudWxsKTtcbiAgICAgICAgYmxvY2tEZXRhaWxFbXB0eT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIGJsb2NrRWRpdG9yPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgbG9hZGVkUGFnZXMgPSBhd2FpdCBmZXRjaFBhZ2VzRnJvbVNlcnZlcigpO1xuICAgICAgICBwYWdlcyA9IChBcnJheS5pc0FycmF5KGxvYWRlZFBhZ2VzKSA/IGxvYWRlZFBhZ2VzIDogW10pLm1hcCgocGFnZSkgPT5cbiAgICAgICAgICBub3JtYWxpemVQYWdlRGF0YShwYWdlKSxcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKHBhZ2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIGFjdGl2ZVBhZ2VJZCA9IG51bGw7XG4gICAgICAgICAgY3VycmVudFBhZ2UgPSBudWxsO1xuICAgICAgICAgIHJlbmRlclBhZ2VMaXN0cyhwYWdlcywgYWN0aXZlUGFnZUlkKTtcbiAgICAgICAgICByZW5kZXJCbG9ja0xpc3QobnVsbCk7XG4gICAgICAgICAgYmxvY2tEZXRhaWxFbXB0eT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgYmxvY2tFZGl0b3I/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICAgIHByZXZpZXdGcmFtZSAmJiAocHJldmlld0ZyYW1lLnNyY2RvYyA9IGdldExvYWRpbmdQcmV2aWV3SHRtbCgpKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgYWN0aXZlUGFnZUlkID0gZ2V0U3RvcmVkQWN0aXZlUGFnZShwYWdlcyk7XG4gICAgICAgIHNldEFjdGl2ZVBhZ2UoYWN0aXZlUGFnZUlkKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZGVzaWduXSBJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIHBhZ2VzJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KCdJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIHBhZ2VzLicpO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3Qgbm9ybWFsaXplVHlwZSA9ICh2YWx1ZSkgPT5cbiAgICAgICh2YWx1ZSB8fCAnJykubm9ybWFsaXplKCdORkQnKS5yZXBsYWNlKC9bXFx1MDMwMC1cXHUwMzZmXS9nLCAnJykudG9Mb3dlckNhc2UoKTtcbiAgICBjb25zdCBnZXRCbG9ja0Zvcm1Db25maWcgPSAoYmxvY2spID0+IHtcbiAgICAgIGlmICghYmxvY2spIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICBjb25zdCB0eXBlS2V5ID0gbm9ybWFsaXplVHlwZShibG9jay50eXBlKTtcbiAgICAgIGNvbnN0IGFsaWFzID0gYmxvY2tUeXBlQWxpYXNlc1t0eXBlS2V5XSB8fCB0eXBlS2V5O1xuICAgICAgcmV0dXJuIGJsb2NrVHlwZUZvcm1zW2FsaWFzXSB8fCBudWxsO1xuICAgIH07XG4gICAgY29uc3QgcG9wdWxhdGVCbG9ja0Zvcm0gPSAoYmxvY2spID0+IHtcbiAgICAgIGlmICghYmxvY2tGb3JtIHx8ICFibG9ja0VkaXRvcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoYmxvY2sgJiYgIWJsb2NrLnNldHRpbmdzKSB7XG4gICAgICAgIGJsb2NrLnNldHRpbmdzID0ge307XG4gICAgICB9XG4gICAgICBjb25zdCBjb25maWcgPSBnZXRCbG9ja0Zvcm1Db25maWcoYmxvY2spO1xuICAgICAgaWYgKGJsb2NrRWRpdG9yVGl0bGUpIHtcbiAgICAgICAgYmxvY2tFZGl0b3JUaXRsZS50ZXh0Q29udGVudCA9IGJsb2NrPy5sYWJlbCB8fCAnQmxvYyc7XG4gICAgICB9XG4gICAgICBpZiAoYmxvY2tFZGl0b3JUeXBlKSB7XG4gICAgICAgIGJsb2NrRWRpdG9yVHlwZS50ZXh0Q29udGVudCA9IGJsb2NrPy50eXBlIHx8ICdCbG9jJztcbiAgICAgIH1cbiAgICAgIGlmICghY29uZmlnKSB7XG4gICAgICAgIGJsb2NrRm9ybS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgYmxvY2tFZGl0b3JVbnN1cHBvcnRlZD8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIGJsb2NrRm9ybS5kYXRhc2V0LmJsb2NrSWQgPSAnJztcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYmxvY2tFZGl0b3JVbnN1cHBvcnRlZD8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBibG9ja0Zvcm0uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBibG9ja0Zvcm0ucmVzZXQoKTtcbiAgICAgIGJsb2NrRm9ybS5kYXRhc2V0LmJsb2NrSWQgPSBibG9jay5pZDtcbiAgICAgIGJsb2NrRm9ybVNlY3Rpb25zLmZvckVhY2goKHNlY3Rpb24pID0+IHtcbiAgICAgICAgY29uc3Qgc2VjdGlvbklkID0gc2VjdGlvbi5kYXRhc2V0LmVkaXRvclNlY3Rpb247XG4gICAgICAgIGlmIChzZWN0aW9uSWQgPT09IGNvbmZpZy5zZWN0aW9uKSB7XG4gICAgICAgICAgc2VjdGlvbi5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWN0aW9uLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIC8vIFJcdTAwRTlpbml0aWFsaXNlciBzdXIgbCdvbmdsZXQgQ29udGVudVxuICAgICAgc3dpdGNoQmxvY2tUYWIoJ2NvbnRlbnQnKTtcbiAgICAgIGlmIChjb25maWcuc2VjdGlvbiA9PT0gJ2NvbGxlY3Rpb24nKSB7XG4gICAgICAgIGNvbnN0IGRlc2lyZWRWYWx1ZSA9IGJsb2NrLmNvbGxlY3Rpb25JZCB8fCBibG9jay5zZXR0aW5ncz8uY29sbGVjdGlvbklkIHx8ICcnO1xuICAgICAgICB1cGRhdGVDb2xsZWN0aW9uU2VsZWN0T3B0aW9ucyhkZXNpcmVkVmFsdWUpO1xuICAgICAgfVxuICAgICAgT2JqZWN0LmVudHJpZXMoY29uZmlnLmZpZWxkcykuZm9yRWFjaCgoW3NldHRpbmdLZXksIGZpZWxkTmFtZV0pID0+IHtcbiAgICAgICAgY29uc3QgaW5wdXQgPSBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcihgW25hbWU9XCIke2ZpZWxkTmFtZX1cIl1gKTtcbiAgICAgICAgaWYgKCFpbnB1dCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2YWx1ZSA9IGJsb2NrLnNldHRpbmdzPy5bc2V0dGluZ0tleV07XG4gICAgICAgIGlmIChpbnB1dC50eXBlID09PSAnY2hlY2tib3gnKSB7XG4gICAgICAgICAgaW5wdXQuY2hlY2tlZCA9IEJvb2xlYW4odmFsdWUpO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0LnR5cGUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgaW5wdXQudmFsdWUgPSB2YWx1ZSA/PyAxO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0LnRhZ05hbWUgPT09ICdURVhUQVJFQScpIHtcbiAgICAgICAgICBpbnB1dC52YWx1ZSA9IHZhbHVlID8/ICcnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlucHV0LnZhbHVlID0gdmFsdWUgPz8gJyc7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKGNvbmZpZy5zZWN0aW9uID09PSAnZ3JvdXAnKSB7XG4gICAgICAgIGNvbnN0IG1vYmlsZVZhbHVlID1cbiAgICAgICAgICBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJncm91cC1jb2x1bW5zLW1vYmlsZVwiXScpPy52YWx1ZSB8fCAnMSc7XG4gICAgICAgIGNvbnN0IGRlc2t0b3BWYWx1ZSA9XG4gICAgICAgICAgYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZ3JvdXAtY29sdW1ucy1kZXNrdG9wXCJdJyk/LnZhbHVlIHx8ICczJztcbiAgICAgICAgdXBkYXRlR3JvdXBNaW5pUHJldmlldyhtb2JpbGVWYWx1ZSwgZGVza3RvcFZhbHVlKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGNvbGxlY3RGb3JtVmFsdWVzID0gKGNvbmZpZykgPT4ge1xuICAgICAgaWYgKCFibG9ja0Zvcm0gfHwgIWNvbmZpZykge1xuICAgICAgICByZXR1cm4ge307XG4gICAgICB9XG4gICAgICBjb25zdCB2YWx1ZXMgPSB7fTtcbiAgICAgIE9iamVjdC5lbnRyaWVzKGNvbmZpZy5maWVsZHMpLmZvckVhY2goKFtzZXR0aW5nS2V5LCBmaWVsZE5hbWVdKSA9PiB7XG4gICAgICAgIGNvbnN0IGlucHV0ID0gYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3IoYFtuYW1lPVwiJHtmaWVsZE5hbWV9XCJdYCk7XG4gICAgICAgIGlmICghaW5wdXQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlucHV0LnR5cGUgPT09ICdjaGVja2JveCcpIHtcbiAgICAgICAgICB2YWx1ZXNbc2V0dGluZ0tleV0gPSBpbnB1dC5jaGVja2VkO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0LnR5cGUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgY29uc3QgcGFyc2VkID0gTnVtYmVyKGlucHV0LnZhbHVlKTtcbiAgICAgICAgICB2YWx1ZXNbc2V0dGluZ0tleV0gPSBOdW1iZXIuaXNGaW5pdGUocGFyc2VkKSA/IHBhcnNlZCA6IDA7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5wdXQudGFnTmFtZSA9PT0gJ1RFWFRBUkVBJykge1xuICAgICAgICAgIHZhbHVlc1tzZXR0aW5nS2V5XSA9IGlucHV0LnZhbHVlIHx8ICcnO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0LnR5cGUgPT09ICdzZWxlY3Qtb25lJykge1xuICAgICAgICAgIHZhbHVlc1tzZXR0aW5nS2V5XSA9IGlucHV0LnZhbHVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhbHVlc1tzZXR0aW5nS2V5XSA9IGlucHV0LnZhbHVlIHx8ICcnO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgfTtcbiAgICBjb25zdCB1cGRhdGVQcmV2aWV3U3RhdHVzID0gKHRleHQpID0+IHtcbiAgICAgIGlmICghcHJldmlld1N0YXR1cykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIXRleHQpIHtcbiAgICAgICAgcHJldmlld1N0YXR1cy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcHJldmlld1N0YXR1cy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIHByZXZpZXdTdGF0dXMudGV4dENvbnRlbnQgPSB0ZXh0O1xuICAgIH07XG4gICAgY29uc3Qgc2VyaWFsaXplUGFnZUZvclByZXZpZXcgPSAocGFnZSkgPT4ge1xuICAgICAgaWYgKCFwYWdlKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IHBhZ2UuaWQsXG4gICAgICAgIHRpdGxlOiBwYWdlLnRpdGxlLFxuICAgICAgICBzbHVnOiBwYWdlLnNsdWcsXG4gICAgICAgIGJhZGdlczogWy4uLihwYWdlLmJhZGdlcyB8fCBbXSldLFxuICAgICAgICBibG9ja3M6IChwYWdlLmJsb2NrcyB8fCBbXSkubWFwKChibG9jaykgPT4gKHtcbiAgICAgICAgICBpZDogYmxvY2suaWQsXG4gICAgICAgICAgdHlwZTogYmxvY2sudHlwZSxcbiAgICAgICAgICBsYWJlbDogYmxvY2subGFiZWwsXG4gICAgICAgICAgc3RhdHVzOiBibG9jay5zdGF0dXMsXG4gICAgICAgICAgZGVzY3JpcHRpb246IGJsb2NrLmRlc2NyaXB0aW9uLFxuICAgICAgICAgIHByb3BzOiBibG9jay5wcm9wcyB8fCBbXSxcbiAgICAgICAgICBzZXR0aW5nczogYmxvY2suc2V0dGluZ3MgfHwge30sXG4gICAgICAgICAgY29sbGVjdGlvbklkOiBibG9jay5jb2xsZWN0aW9uSWQgfHwgYmxvY2suc2V0dGluZ3M/LmNvbGxlY3Rpb25JZCB8fCAnJyxcbiAgICAgICAgfSkpLFxuICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IGdldExvYWRpbmdQcmV2aWV3SHRtbCA9ICgpID0+XG4gICAgICAnPCFET0NUWVBFIGh0bWw+PGh0bWw+PGJvZHkgc3R5bGU9XCJmb250LWZhbWlseTpJbnRlcixzYW5zLXNlcmlmO3BhZGRpbmc6NDBweDtjb2xvcjojNDc1NTY5O2JhY2tncm91bmQ6I2ZmZjtcIj5Qclx1MDBFOXBhcmF0aW9uIGRlIGxhIHByXHUwMEU5dmlzdWFsaXNhdGlvblx1MjAyNjwvYm9keT48L2h0bWw+JztcbiAgICBjb25zdCByZWZyZXNoUHJldmlldyA9IChwYWdlKSA9PiB7XG4gICAgICBpZiAoIXByZXZpZXdGcmFtZSB8fCAhcGFnZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBwcmV2aWV3U2l0ZVNsdWcgPSB3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnO1xuICAgICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgcGFnZTogc2VyaWFsaXplUGFnZUZvclByZXZpZXcocGFnZSksXG4gICAgICAgIHNpdGU6IHtcbiAgICAgICAgICB0aXRsZTogc3RvcmVkU2l0ZS5uYW1lIHx8ICdTaXRlJyxcbiAgICAgICAgICBzbHVnOiBwcmV2aWV3U2l0ZVNsdWcsXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgICAgcHJldmlld1JlYWR5ID0gZmFsc2U7XG4gICAgICB1cGRhdGVQcmV2aWV3U3RhdHVzKCdBY3R1YWxpc2F0aW9uXHUyMDI2Jyk7XG4gICAgICBwcmV2aWV3RnJhbWUuc3JjZG9jID0gZ2V0TG9hZGluZ1ByZXZpZXdIdG1sKCk7XG4gICAgICBpZiAocHJldmlld1JlcXVlc3RDb250cm9sbGVyKSB7XG4gICAgICAgIHByZXZpZXdSZXF1ZXN0Q29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgfVxuICAgICAgY29uc3QgY29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICAgIHByZXZpZXdSZXF1ZXN0Q29udHJvbGxlciA9IGNvbnRyb2xsZXI7XG4gICAgICBmZXRjaCgnL2FwaS9wcmV2aWV3Jywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICBzaWduYWw6IGNvbnRyb2xsZXIuc2lnbmFsLFxuICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQcmV2aWV3IGVycm9yJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgICAgaWYgKGNvbnRyb2xsZXIuc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgbGF0ZXN0UHJldmlld0h0bWwgPSBkYXRhLmh0bWwgfHwgJyc7XG4gICAgICAgICAgcHJldmlld0ZyYW1lLnNldEF0dHJpYnV0ZShcbiAgICAgICAgICAgICd0aXRsZScsXG4gICAgICAgICAgICBgUHJcdTAwRTl2aXN1YWxpc2F0aW9uIGRlIGxhIHBhZ2UgJHtwYWdlLnRpdGxlIHx8ICcnfWAudHJpbSgpLFxuICAgICAgICAgICk7XG4gICAgICAgICAgcHJldmlld0ZyYW1lLnNyY2RvYyA9IGxhdGVzdFByZXZpZXdIdG1sIHx8IGdldExvYWRpbmdQcmV2aWV3SHRtbCgpO1xuICAgICAgICAgIHVwZGF0ZVByZXZpZXdTdGF0dXMoJ1x1MDBDMCBqb3VyJyk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICBpZiAoY29udHJvbGxlci5zaWduYWwuYWJvcnRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbcHJldmlld10gSW1wb3NzaWJsZSBkZSByZW5kcmUgbGEgcGFnZScsIGVycm9yKTtcbiAgICAgICAgICB1cGRhdGVQcmV2aWV3U3RhdHVzKCdFcnJldXIgcHJldmlldycpO1xuICAgICAgICAgIHByZXZpZXdGcmFtZS5zcmNkb2MgPVxuICAgICAgICAgICAgJzwhRE9DVFlQRSBodG1sPjxodG1sPjxib2R5IHN0eWxlPVwiZm9udC1mYW1pbHk6SW50ZXIsc2Fucy1zZXJpZjtwYWRkaW5nOjQwcHg7Y29sb3I6I2JlMTIzYztiYWNrZ3JvdW5kOiNmZmY7XCI+RXJyZXVyIGxvcnMgZHUgcmVuZHUgZGUgbGEgcHJcdTAwRTl2aXN1YWxpc2F0aW9uLjwvYm9keT48L2h0bWw+JztcbiAgICAgICAgfSlcbiAgICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICAgIGlmIChwcmV2aWV3UmVxdWVzdENvbnRyb2xsZXIgPT09IGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgIHByZXZpZXdSZXF1ZXN0Q29udHJvbGxlciA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZUJsb2NrRm9ybVN1Ym1pdCA9IChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmICghY3VycmVudFBhZ2UgfHwgIWFjdGl2ZUJsb2NrSWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgYmxvY2sgPSBnZXRBY3RpdmVCbG9jaygpO1xuICAgICAgY29uc3QgY29uZmlnID0gZ2V0QmxvY2tGb3JtQ29uZmlnKGJsb2NrKTtcbiAgICAgIGlmICghYmxvY2sgfHwgIWNvbmZpZykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCB2YWx1ZXMgPSBjb2xsZWN0Rm9ybVZhbHVlcyhjb25maWcpO1xuICAgICAgaWYgKGNvbmZpZy5zZWN0aW9uID09PSAnY29sbGVjdGlvbicpIHtcbiAgICAgICAgaWYgKCF2YWx1ZXMuY29sbGVjdGlvbklkKSB7XG4gICAgICAgICAgc2hvd1RvYXN0KCdTXHUwMEU5bGVjdGlvbm5leiB1bmUgY29sbGVjdGlvbi4nKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFsdWVzLmxpbWl0ID0gTWF0aC5tYXgoMSwgTnVtYmVyKHZhbHVlcy5saW1pdCkgfHwgMSk7XG4gICAgICB9XG4gICAgICBjb25zdCB1cGRhdGVkQmxvY2tzID0gKGN1cnJlbnRQYWdlLmJsb2NrcyB8fCBbXSkubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICBpZiAoZW50cnkuaWQgIT09IGJsb2NrLmlkKSB7XG4gICAgICAgICAgcmV0dXJuIGVudHJ5O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRTZXR0aW5ncyA9IHsgLi4uKGVudHJ5LnNldHRpbmdzIHx8IHt9KSwgLi4udmFsdWVzIH07XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRCbG9jayA9IHtcbiAgICAgICAgICAuLi5lbnRyeSxcbiAgICAgICAgICBzZXR0aW5nczogdXBkYXRlZFNldHRpbmdzLFxuICAgICAgICB9O1xuICAgICAgICBpZiAoY29uZmlnLmxhYmVsRmllbGQgJiYgdmFsdWVzW2NvbmZpZy5sYWJlbEZpZWxkXSkge1xuICAgICAgICAgIHVwZGF0ZWRCbG9jay5sYWJlbCA9IHZhbHVlc1tjb25maWcubGFiZWxGaWVsZF07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbmZpZy5kZXNjcmlwdGlvbkZpZWxkICYmIHZhbHVlc1tjb25maWcuZGVzY3JpcHRpb25GaWVsZF0pIHtcbiAgICAgICAgICB1cGRhdGVkQmxvY2suZGVzY3JpcHRpb24gPSB2YWx1ZXNbY29uZmlnLmRlc2NyaXB0aW9uRmllbGRdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb25maWcuc2VjdGlvbiA9PT0gJ2NvbGxlY3Rpb24nKSB7XG4gICAgICAgICAgdXBkYXRlZEJsb2NrLmNvbGxlY3Rpb25JZCA9IHZhbHVlcy5jb2xsZWN0aW9uSWQ7XG4gICAgICAgICAgdXBkYXRlZEJsb2NrLnNldHRpbmdzLmNvbGxlY3Rpb25JZCA9IHZhbHVlcy5jb2xsZWN0aW9uSWQ7XG4gICAgICAgICAgdXBkYXRlZEJsb2NrLnNldHRpbmdzLmxpbWl0ID0gdmFsdWVzLmxpbWl0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1cGRhdGVkQmxvY2s7XG4gICAgICB9KTtcbiAgICAgIHVwZGF0ZUN1cnJlbnRQYWdlQmxvY2tzKHVwZGF0ZWRCbG9ja3MpO1xuICAgICAgc2hvd1RvYXN0KCdCbG9jIG1pcyBcdTAwRTAgam91cicpO1xuICAgICAgc2V0QWN0aXZlUGFnZShjdXJyZW50UGFnZS5pZCwgeyBwcmVzZXJ2ZUJsb2NrOiB0cnVlIH0pO1xuICAgIH07XG4gICAgY29uc3QgZHJhd2VyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1kcmF3ZXJdJyk7XG4gICAgY29uc3QgZHJhd2VyQmFja2Ryb3AgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLWRyYXdlci1iYWNrZHJvcF0nKTtcbiAgICBjb25zdCBkcmF3ZXJPcGVuQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXBhZ2UtZHJhd2VyLW9wZW5dJyk7XG4gICAgY29uc3QgZHJhd2VyQ2xvc2VCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtcGFnZS1kcmF3ZXItY2xvc2VdJyk7XG4gICAgY29uc3QgYWRkUGFnZVRvZ2dsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFkZC1wYWdlLXRvZ2dsZV0nKTtcbiAgICBjb25zdCBhZGRQYWdlRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFkZC1wYWdlLWZvcm1dJyk7XG4gICAgY29uc3QgYWRkUGFnZVRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRkLXBhZ2UtdGl0bGVdJyk7XG4gICAgY29uc3QgYWRkUGFnZVNsdWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZGQtcGFnZS1zbHVnXScpO1xuICAgIGNvbnN0IGFkZFBhZ2VDYW5jZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZGQtcGFnZS1jYW5jZWxdJyk7XG4gICAgY29uc3QgYWRkUGFnZUVycm9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRkLXBhZ2UtZXJyb3JdJyk7XG4gICAgY29uc3QgYWRkUGFnZVN1Ym1pdEJ1dHRvbiA9IGFkZFBhZ2VGb3JtPy5xdWVyeVNlbGVjdG9yKCdbdHlwZT1cInN1Ym1pdFwiXScpO1xuICAgIC8vIEltcG9ydCBKU09OIGVsZW1lbnRzXG4gICAgY29uc3QgaW1wb3J0VG9nZ2xlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaW1wb3J0LXBhZ2VzLXRvZ2dsZV0nKTtcbiAgICBjb25zdCBpbXBvcnRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWltcG9ydC1tb2RhbF0nKTtcbiAgICBjb25zdCBpbXBvcnRDbG9zZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1pbXBvcnQtbW9kYWwtY2xvc2VdJyk7XG4gICAgY29uc3QgaW1wb3J0RHJvcHpvbmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbXBvcnQtZHJvcHpvbmVdJyk7XG4gICAgY29uc3QgaW1wb3J0RmlsZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaW1wb3J0LWZpbGUtaW5wdXRdJyk7XG4gICAgY29uc3QgaW1wb3J0RmlsZUxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbXBvcnQtZmlsZS1saXN0XScpO1xuICAgIGNvbnN0IGltcG9ydEZpbGVOYW1lcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWltcG9ydC1maWxlLW5hbWVzXScpO1xuICAgIGNvbnN0IGltcG9ydFJlc3VsdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbXBvcnQtcmVzdWx0c10nKTtcbiAgICBjb25zdCBpbXBvcnRSZXN1bHRzQ29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWltcG9ydC1yZXN1bHRzLWNvbnRlbnRdJyk7XG4gICAgY29uc3QgaW1wb3J0U3VibWl0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaW1wb3J0LXN1Ym1pdF0nKTtcbiAgICBjb25zdCBpbXBvcnRUYWJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtaW1wb3J0LXRhYl0nKTtcbiAgICBjb25zdCBpbXBvcnRQYW5lbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1pbXBvcnQtcGFuZWxdJyk7XG4gICAgY29uc3QgY29weVRlbXBsYXRlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29weS10ZW1wbGF0ZV0nKTtcbiAgICBjb25zdCB0ZW1wbGF0ZUpzb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS10ZW1wbGF0ZS1qc29uXScpO1xuICAgIGxldCBpbXBvcnRTZWxlY3RlZEZpbGVzID0gW107XG4gICAgLy8gRGVsZXRlIHBhZ2UgZWxlbWVudHNcbiAgICBjb25zdCBkZWxldGVQYWdlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZWxldGUtcGFnZS1tb2RhbF0nKTtcbiAgICBjb25zdCBkZWxldGVQYWdlTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlbGV0ZS1wYWdlLW5hbWVdJyk7XG4gICAgY29uc3QgZGVsZXRlUGFnZUNhbmNlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlbGV0ZS1wYWdlLWNhbmNlbF0nKTtcbiAgICBjb25zdCBkZWxldGVQYWdlQ29uZmlybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlbGV0ZS1wYWdlLWNvbmZpcm1dJyk7XG4gICAgbGV0IHBhZ2VUb0RlbGV0ZSA9IG51bGw7XG4gICAgY29uc3Qgc2l0ZUtleSA9XG4gICAgICBzdHJpcExlYWRpbmdTbGFzaCh3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICdkZWZhdWx0JykgfHwgJ2RlZmF1bHQnO1xuICAgIGNvbnN0IHNpdGVTbHVnVmFsdWUgPSB3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnO1xuICAgIGNvbnN0IHNhZmVTaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKHNpdGVTbHVnVmFsdWUpIHx8ICcnO1xuICAgIGNvbnN0IHBhZ2VzQXBpQmFzZSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9wYWdlc2BcbiAgICAgIDogbnVsbDtcbiAgICBjb25zdCBjb2xsZWN0aW9uc0FwaUJhc2UgPSBzYWZlU2l0ZVNsdWdcbiAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnKX0vY29sbGVjdGlvbnNgXG4gICAgICA6IG51bGw7XG4gICAgY29uc3Qgc3RvcmFnZUtleXMgPSB7XG4gICAgICBhY3RpdmU6IGBjbG93ZXI6YWN0aXZlUGFnZToke3NpdGVLZXl9YCxcbiAgICB9O1xuICAgIGNvbnN0IGNyZWF0ZUJsb2NrID0gKGlkLCBsYWJlbCwgdHlwZSwgc3RhdHVzLCBkZXNjcmlwdGlvbiwgcHJvcHMgPSBbXSwgc2V0dGluZ3MgPSB7fSkgPT4ge1xuICAgICAgY29uc3QgYmxvY2sgPSB7XG4gICAgICAgIGlkLFxuICAgICAgICBsYWJlbCxcbiAgICAgICAgdHlwZSxcbiAgICAgICAgc3RhdHVzLFxuICAgICAgICBkZXNjcmlwdGlvbixcbiAgICAgICAgcHJvcHMsXG4gICAgICAgIHNldHRpbmdzOiB7IC4uLnNldHRpbmdzIH0sXG4gICAgICB9O1xuICAgICAgaWYgKGJsb2NrLnNldHRpbmdzLmNvbGxlY3Rpb25JZCkge1xuICAgICAgICBibG9jay5jb2xsZWN0aW9uSWQgPSBibG9jay5zZXR0aW5ncy5jb2xsZWN0aW9uSWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmxvY2s7XG4gICAgfTtcbiAgICBjb25zdCBibG9ja0xpYnJhcnlEZWZpbml0aW9ucyA9IHtcbiAgICAgIGhlcm86IHtcbiAgICAgICAgdHlwZTogJ0hlcm8nLFxuICAgICAgICBsYWJlbDogJ0hlcm8gZGUgcGFnZScsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnU2VjdGlvbiBwbGVpbmUgbGFyZ2V1ciBhdmVjIENUQSBwcmluY2lwYWwuJyxcbiAgICAgICAgc3RhdHVzOiAnQnJvdWlsbG9uJyxcbiAgICAgICAgcHJvcHM6IFtcbiAgICAgICAgICB7IGxhYmVsOiAnQ1RBJywgdmFsdWU6ICdEXHUwMEU5Y291dnJpcicgfSxcbiAgICAgICAgICB7IGxhYmVsOiAnSGF1dGV1cicsIHZhbHVlOiAnODB2aCcgfSxcbiAgICAgICAgXSxcbiAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICB0aXRsZTogJ1RpdHJlIGR1IGhlcm8nLFxuICAgICAgICAgIHN1YnRpdGxlOiAnJyxcbiAgICAgICAgICBjdGFMYWJlbDogJ0RcdTAwRTljb3V2cmlyJyxcbiAgICAgICAgICBjdGFVcmw6ICcjJyxcbiAgICAgICAgICBpbWFnZTogJycsXG4gICAgICAgICAgYWxpZ246ICdjZW50ZXInLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIHBhcmFncmFwaDoge1xuICAgICAgICB0eXBlOiAnUGFyYWdyYXBoZScsXG4gICAgICAgIGxhYmVsOiAnQmxvYyBcdTAwRTlkaXRvcmlhbCcsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnUGFyYWdyYXBoZSBsaWJyZSBwb3VyIHJhY29udGVyIHZvdHJlIGhpc3RvaXJlLicsXG4gICAgICAgIHN0YXR1czogJ0Jyb3VpbGxvbicsXG4gICAgICAgIHByb3BzOiBbeyBsYWJlbDogJ0xvbmd1ZXVyJywgdmFsdWU6ICcxNTAgbW90cycgfV0sXG4gICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgdGl0bGU6ICdUaXRyZSBkdSBwYXJhZ3JhcGhlJyxcbiAgICAgICAgICBjb250ZW50OiAnJyxcbiAgICAgICAgICBhbGlnbjogJ2xlZnQnLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGltYWdlOiB7XG4gICAgICAgIHR5cGU6ICdJbWFnZScsXG4gICAgICAgIGxhYmVsOiAnQmxvYyBpbWFnZScsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnVmlzdWVsIHNldWwgYXZlYyBsXHUwMEU5Z2VuZGUgb3B0aW9ubmVsbGUuJyxcbiAgICAgICAgc3RhdHVzOiAnQnJvdWlsbG9uJyxcbiAgICAgICAgcHJvcHM6IFtcbiAgICAgICAgICB7IGxhYmVsOiAnUmF0aW8nLCB2YWx1ZTogJzE2OjknIH0sXG4gICAgICAgICAgeyBsYWJlbDogJ0xcdTAwRTlnZW5kZScsIHZhbHVlOiAnSW5hY3RpdmUnIH0sXG4gICAgICAgIF0sXG4gICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgc3JjOiAnJyxcbiAgICAgICAgICBhbHQ6ICcnLFxuICAgICAgICAgIHNob3dDYXB0aW9uOiBmYWxzZSxcbiAgICAgICAgICBjYXB0aW9uOiAnJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBncm91cDoge1xuICAgICAgICB0eXBlOiAnR3JvdXBlJyxcbiAgICAgICAgbGFiZWw6ICdHcm91cGUgZGUgc2VjdGlvbnMnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0NvbnRlbmV1ciBwb3VyIGltYnJpcXVlciBwbHVzaWV1cnMgc291cy1ibG9jcy4nLFxuICAgICAgICBzdGF0dXM6ICdCcm91aWxsb24nLFxuICAgICAgICBwcm9wczogW3sgbGFiZWw6ICdEaXNwb3NpdGlvbicsIHZhbHVlOiAnVmVydGljYWxlJyB9XSxcbiAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICBsYXlvdXQ6ICdncmlkJyxcbiAgICAgICAgICBjb2x1bW5zTW9iaWxlOiAnMScsXG4gICAgICAgICAgY29sdW1uc0Rlc2t0b3A6ICczJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBjb2xsZWN0aW9uZ3JpZDoge1xuICAgICAgICB0eXBlOiAnQ29sbGVjdGlvbkdyaWQnLFxuICAgICAgICBsYWJlbDogJ0dyaWxsZSBkZSBjb250ZW51cycsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnQWZmaWNoZSBhdXRvbWF0aXF1ZW1lbnQgbGVzIGl0ZW1zIGRcdTIwMTl1bmUgY29sbGVjdGlvbi4nLFxuICAgICAgICBzdGF0dXM6ICdCcm91aWxsb24nLFxuICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgIGNvbGxlY3Rpb25JZDogJycsXG4gICAgICAgICAgbGltaXQ6IDYsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgZm9ybToge1xuICAgICAgICB0eXBlOiAnRm9ybScsXG4gICAgICAgIGxhYmVsOiAnRm9ybXVsYWlyZSBkZSBjb250YWN0JyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdGb3JtdWxhaXJlIGF2ZWMgZW52b2kgdmVycyB1biBzZXJ2aWNlIGV4dGVybmUuJyxcbiAgICAgICAgc3RhdHVzOiAnQnJvdWlsbG9uJyxcbiAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICBmb3JtVGl0bGU6ICdDb250YWN0ZXotbm91cycsXG4gICAgICAgICAgYWN0aW9uVXJsOiAnJyxcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBzZXJ2aWNlTmFtZTogJycsXG4gICAgICAgICAgc3VibWl0TGFiZWw6ICdFbnZveWVyJyxcbiAgICAgICAgICBzdWNjZXNzTWVzc2FnZTogJ01lcmNpIHBvdXIgdm90cmUgbWVzc2FnZSAhJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBuZXdzbGV0dGVyZW1iZWQ6IHtcbiAgICAgICAgdHlwZTogJ05ld3NsZXR0ZXJFbWJlZCcsXG4gICAgICAgIGxhYmVsOiAnTmV3c2xldHRlciAvIEVtYmVkJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdJbnRcdTAwRTlncmF0aW9uIGRcXCd1biBmb3JtdWxhaXJlIG5ld3NsZXR0ZXIgZXh0ZXJuZSAoQnJldm8sIE1haWxjaGltcFx1MjAyNikuJyxcbiAgICAgICAgc3RhdHVzOiAnQnJvdWlsbG9uJyxcbiAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICB0aXRsZTogJ1Jlc3RleiBpbmZvcm1cdTAwRTknLFxuICAgICAgICAgIHNlcnZpY2VOYW1lOiAnJyxcbiAgICAgICAgICBlbWJlZENvZGU6ICcnLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9O1xuICAgIGNvbnN0IHBlcnNpc3RBY3RpdmVQYWdlID0gKHBhZ2VJZCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKHN0b3JhZ2VLZXlzLmFjdGl2ZSwgcGFnZUlkKTtcbiAgICAgIH0gY2F0Y2gge1xuICAgICAgICAvKiBpZ25vcmUgc3RvcmFnZSBlcnJvcnMgKi9cbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGdldFN0b3JlZEFjdGl2ZVBhZ2UgPSAocGFnZXMpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHN0b3JlZCA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShzdG9yYWdlS2V5cy5hY3RpdmUpO1xuICAgICAgICBpZiAoc3RvcmVkICYmIHBhZ2VzLnNvbWUoKHBhZ2UpID0+IHBhZ2UuaWQgPT09IHN0b3JlZCkpIHtcbiAgICAgICAgICByZXR1cm4gc3RvcmVkO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgLyogaWdub3JlIHN0b3JhZ2UgZXJyb3JzICovXG4gICAgICB9XG4gICAgICByZXR1cm4gcGFnZXNbMF0/LmlkIHx8IG51bGw7XG4gICAgfTtcbiAgICBjb25zdCBmb3JtYXRCbG9ja0NvdW50ID0gKGNvdW50KSA9PiB7XG4gICAgICBpZiAoIWNvdW50IHx8IGNvdW50IDw9IDApIHtcbiAgICAgICAgcmV0dXJuICcwIGJsb2MnO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNvdW50ID09PSAxID8gJzEgYmxvYycgOiBgJHtjb3VudH0gYmxvY3NgO1xuICAgIH07XG4gICAgY29uc3Qgbm9ybWFsaXplUGFnZVNsdWcgPSAodmFsdWUpID0+IHtcbiAgICAgIGlmICghdmFsdWUgfHwgdmFsdWUgPT09ICcvJykge1xuICAgICAgICByZXR1cm4gJy8nO1xuICAgICAgfVxuICAgICAgY29uc3QgYmFzZSA9IHdvcmtzcGFjZVNsdWdpZnkodmFsdWUucmVwbGFjZSgvXlxcLy8sICcnKSk7XG4gICAgICByZXR1cm4gYmFzZSA/IGAvJHtiYXNlfWAgOiAnLyc7XG4gICAgfTtcbiAgICBjb25zdCBnZW5lcmF0ZUJsb2NrSWQgPSAocGFnZUlkID0gJ3BhZ2UnLCBrZXkgPSAnYmxvY2snKSA9PlxuICAgICAgYCR7cGFnZUlkfS0ke2tleX0tJHtEYXRlLm5vdygpLnRvU3RyaW5nKDM2KX0tJHtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwKX1gO1xuICAgIGNvbnN0IGNyZWF0ZUluaXRpYWxCbG9ja3MgPSAocGFnZUlkLCB0aXRsZSkgPT4gW1xuICAgICAgY3JlYXRlQmxvY2soXG4gICAgICAgIGdlbmVyYXRlQmxvY2tJZChwYWdlSWQsICdpbnRybycpLFxuICAgICAgICAnSW50cm9kdWN0aW9uJyxcbiAgICAgICAgJ1BhcmFncmFwaGUnLFxuICAgICAgICAnQnJvdWlsbG9uJyxcbiAgICAgICAgYFBhcmFncmFwaGUgaW50cm9kdWN0aWYgcG91ciBcIiR7dGl0bGV9XCIuYCxcbiAgICAgICAgW3sgbGFiZWw6ICdMb25ndWV1cicsIHZhbHVlOiAnMiBwYXJhZ3JhcGhlcycgfV0sXG4gICAgICAgIHtcbiAgICAgICAgICB0aXRsZTogYEludHJvZHVjdGlvbiBcdTAwRTAgJHt0aXRsZX1gLFxuICAgICAgICAgIGNvbnRlbnQ6ICdBam91dGV6IHZvdHJlIHByZW1pZXIgcGFyYWdyYXBoZSBkZSBwclx1MDBFOXNlbnRhdGlvbi4nLFxuICAgICAgICAgIGFsaWduOiAnbGVmdCcsXG4gICAgICAgIH0sXG4gICAgICApLFxuICAgICAgY3JlYXRlQmxvY2soXG4gICAgICAgIGdlbmVyYXRlQmxvY2tJZChwYWdlSWQsICdjb250ZW50JyksXG4gICAgICAgICdab25lIGRlIGNvbnRlbnUnLFxuICAgICAgICAnR3JvdXBlJyxcbiAgICAgICAgJ0Jyb3VpbGxvbicsXG4gICAgICAgICdTZWN0aW9uIHByaW5jaXBhbGUgXHUwMEUwIGNvbXBvc2VyIGF2ZWMgdGV4dGVzIGV0IHZpc3VlbHMuJyxcbiAgICAgICAgW3sgbGFiZWw6ICdDb2xvbm5lcycsIHZhbHVlOiAnQXV0bycgfV0sXG4gICAgICAgIHtcbiAgICAgICAgICBsYXlvdXQ6ICdncmlkJyxcbiAgICAgICAgICBjb2x1bW5zTW9iaWxlOiAnMScsXG4gICAgICAgICAgY29sdW1uc0Rlc2t0b3A6ICcyJyxcbiAgICAgICAgfSxcbiAgICAgICksXG4gICAgXTtcbiAgICBjb25zdCBzZXRBY3RpdmVMYWJlbHMgPSAocGFnZSkgPT4ge1xuICAgICAgaWYgKGFjdGl2ZVRpdGxlKSB7XG4gICAgICAgIGFjdGl2ZVRpdGxlLnRleHRDb250ZW50ID0gcGFnZT8udGl0bGUgfHwgJ1BhZ2UnO1xuICAgICAgfVxuICAgICAgaWYgKGFjdGl2ZVNsdWcpIHtcbiAgICAgICAgYWN0aXZlU2x1Zy50ZXh0Q29udGVudCA9IHBhZ2U/LnNsdWcgfHwgJy8nO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgcmVuZGVyUHJldmlld01ldGEgPSAocGFnZSkgPT4ge1xuICAgICAgaWYgKCFwcmV2aWV3VGFncykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwcmV2aWV3VGFncy5pbm5lckhUTUwgPSAnJztcbiAgICAgIGNvbnN0IHRhZ3MgPVxuICAgICAgICBwYWdlICYmIHBhZ2UuYmFkZ2VzICYmIHBhZ2UuYmFkZ2VzLmxlbmd0aCA+IDAgPyBwYWdlLmJhZGdlcyA6IFsnU3RydWN0dXJlIGVuIGNvdXJzJ107XG4gICAgICB0YWdzLmZvckVhY2goKHRhZykgPT4ge1xuICAgICAgICBjb25zdCBiYWRnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgYmFkZ2UuY2xhc3NOYW1lID0gJ3JvdW5kZWQtZnVsbCBiZy1zbGF0ZS0xMDAgcHgtMyBweS0xJztcbiAgICAgICAgYmFkZ2UudGV4dENvbnRlbnQgPSB0YWc7XG4gICAgICAgIHByZXZpZXdUYWdzLmFwcGVuZENoaWxkKGJhZGdlKTtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgY29uc3QgZ2V0U3RhdHVzQmFkZ2VDbGFzc2VzID0gKHN0YXR1cykgPT4ge1xuICAgICAgc3dpdGNoICgoc3RhdHVzIHx8ICcnKS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgIGNhc2UgJ2VuIGxpZ25lJzpcbiAgICAgICAgICByZXR1cm4gJ2JnLWVtZXJhbGQtNTAgdGV4dC1lbWVyYWxkLTcwMCc7XG4gICAgICAgIGNhc2UgJ2Jyb3VpbGxvbic6XG4gICAgICAgICAgcmV0dXJuICdiZy1hbWJlci01MCB0ZXh0LWFtYmVyLTcwMCc7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuICdiZy1zbGF0ZS0xMDAgdGV4dC1zbGF0ZS02MDAnO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgcmVuZGVyQmxvY2tEZXRhaWxzID0gKGJsb2NrKSA9PiB7XG4gICAgICBpZiAoIWJsb2NrRGV0YWlsRW1wdHkgfHwgIWJsb2NrRWRpdG9yKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghYmxvY2spIHtcbiAgICAgICAgYmxvY2tEZXRhaWxFbXB0eS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgYmxvY2tFZGl0b3IuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIGJsb2NrRWRpdG9yVW5zdXBwb3J0ZWQ/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBibG9ja0Zvcm0/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBibG9ja0RldGFpbFN0YXR1cz8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGJsb2NrRGV0YWlsRW1wdHkuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBibG9ja0VkaXRvci5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGlmIChibG9ja0RldGFpbFN0YXR1cykge1xuICAgICAgICBpZiAoYmxvY2suc3RhdHVzKSB7XG4gICAgICAgICAgYmxvY2tEZXRhaWxTdGF0dXMudGV4dENvbnRlbnQgPSBibG9jay5zdGF0dXM7XG4gICAgICAgICAgYmxvY2tEZXRhaWxTdGF0dXMuY2xhc3NOYW1lID0gYHJvdW5kZWQtZnVsbCBweC0zIHB5LTEgdGV4dC14cyBmb250LXNlbWlib2xkICR7Z2V0U3RhdHVzQmFkZ2VDbGFzc2VzKFxuICAgICAgICAgICAgYmxvY2suc3RhdHVzLFxuICAgICAgICAgICl9YDtcbiAgICAgICAgICBibG9ja0RldGFpbFN0YXR1cy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBibG9ja0RldGFpbFN0YXR1cy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcG9wdWxhdGVCbG9ja0Zvcm0oYmxvY2spO1xuICAgIH07XG4gICAgY29uc3QgYXBwbHlQcmV2aWV3SGlnaGxpZ2h0ID0gKGJsb2NrSWQpID0+IHtcbiAgICAgIGlmICghcHJldmlld0ZyYW1lKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRvYyA9IHByZXZpZXdGcmFtZS5jb250ZW50RG9jdW1lbnQ7XG4gICAgICBpZiAoIWRvYykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBub2RlcyA9IGRvYy5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1wcmV2aWV3LWJsb2NrXScpO1xuICAgICAgbm9kZXMuZm9yRWFjaCgobm9kZSkgPT4ge1xuICAgICAgICBpZiAobm9kZS5kYXRhc2V0LnByZXZpZXdCbG9jayA9PT0gYmxvY2tJZCkge1xuICAgICAgICAgIG5vZGUuY2xhc3NMaXN0LmFkZCgncHJldmlldy1ibG9jay1hY3RpdmUnKTtcbiAgICAgICAgICBpZiAocHJldmlld1JlYWR5ICYmIGJsb2NrSWQpIHtcbiAgICAgICAgICAgIG5vZGUuc2Nyb2xsSW50b1ZpZXcoeyBiZWhhdmlvcjogJ3Ntb290aCcsIGJsb2NrOiAnY2VudGVyJywgaW5saW5lOiAnbmVhcmVzdCcgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5vZGUuY2xhc3NMaXN0LnJlbW92ZSgncHJldmlldy1ibG9jay1hY3RpdmUnKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAocHJldmlld0hpZ2hsaWdodE92ZXJsYXkpIHtcbiAgICAgICAgcHJldmlld0hpZ2hsaWdodE92ZXJsYXkuc3R5bGUuYm9yZGVyQ29sb3IgPSBibG9ja0lkID8gJ3JnYmEoMTU2LCAxMDcsIDI1NSwgMC41KScgOiAndHJhbnNwYXJlbnQnO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgcmVuZGVyQmxvY2tMaXN0ID0gKHBhZ2UpID0+IHtcbiAgICAgIGlmICghYmxvY2tMaXN0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGJsb2NrTGlzdC5pbm5lckhUTUwgPSAnJztcbiAgICAgIGNvbnN0IGJsb2NrcyA9IHBhZ2U/LmJsb2NrcyB8fCBbXTtcbiAgICAgIGlmIChibG9ja0NvdW50QmFkZ2UpIHtcbiAgICAgICAgYmxvY2tDb3VudEJhZGdlLnRleHRDb250ZW50ID0gZm9ybWF0QmxvY2tDb3VudChibG9ja3MubGVuZ3RoKTtcbiAgICAgIH1cbiAgICAgIGlmIChibG9ja3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGJsb2NrTGlzdC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgYmxvY2tMaXN0RW1wdHk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBibG9ja0xpc3QuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBibG9ja0xpc3RFbXB0eT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBibG9ja3MuZm9yRWFjaCgoYmxvY2spID0+IHtcbiAgICAgICAgY29uc3QgaXNBY3RpdmUgPSBibG9jay5pZCA9PT0gYWN0aXZlQmxvY2tJZDtcbiAgICAgICAgY29uc3QgaXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBpdGVtLmRhdGFzZXQuYmxvY2tJdGVtID0gJ3RydWUnO1xuICAgICAgICBpdGVtLmRhdGFzZXQuYmxvY2tJZCA9IGJsb2NrLmlkO1xuICAgICAgICBpdGVtLnNldEF0dHJpYnV0ZSgncm9sZScsICdvcHRpb24nKTtcbiAgICAgICAgaXRlbS5zZXRBdHRyaWJ1dGUoJ2FyaWEtc2VsZWN0ZWQnLCBpc0FjdGl2ZSA/ICd0cnVlJyA6ICdmYWxzZScpO1xuICAgICAgICBpdGVtLnRhYkluZGV4ID0gMDtcbiAgICAgICAgaXRlbS5jbGFzc05hbWUgPSBbXG4gICAgICAgICAgJ3JlbGF0aXZlIGZsZXggaXRlbXMtY2VudGVyIGdhcC0zIHJvdW5kZWQtMnhsIGJvcmRlciBweC0zIHB5LTIgdGV4dC1sZWZ0IHRyYW5zaXRpb24nLFxuICAgICAgICAgIGlzQWN0aXZlXG4gICAgICAgICAgICA/ICdiZy1zbGF0ZS0xMDAgYm9yZGVyLVsjOUM2QkZGXS80MCBzaGFkb3ctc20nXG4gICAgICAgICAgICA6ICdib3JkZXItc2xhdGUtMjAwIGhvdmVyOmJvcmRlci1bIzlDNkJGRl0vNDAnLFxuICAgICAgICBdLmpvaW4oJyAnKTtcbiAgICAgICAgY29uc3QgYWNjZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICBhY2NlbnQuY2xhc3NOYW1lID0gYGFic29sdXRlIGluc2V0LXktMiBsZWZ0LTAgdy0xIHJvdW5kZWQtZnVsbCBiZy1bIzlDNkJGRl0gJHtcbiAgICAgICAgICBpc0FjdGl2ZSA/ICcnIDogJ2hpZGRlbidcbiAgICAgICAgfWA7XG4gICAgICAgIGl0ZW0uYXBwZW5kQ2hpbGQoYWNjZW50KTtcblxuICAgICAgICBjb25zdCBjb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGNvbnRlbnQuY2xhc3NOYW1lID0gJ2ZsZXggZmxleC0xIGl0ZW1zLWNlbnRlciBnYXAtMyc7XG4gICAgICAgIGNvbnN0IGhhbmRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBoYW5kbGUuY2xhc3NOYW1lID1cbiAgICAgICAgICAnaGlkZGVuIGxnOmZsZXggY3Vyc29yLWdyYWIgZmxleC1zaHJpbmstMCBpdGVtcy1jZW50ZXIgdGV4dC1sZyB0ZXh0LXNsYXRlLTQwMCc7XG4gICAgICAgIGhhbmRsZS5pbm5lckhUTUwgPSAnJiM4ODAxOyc7XG4gICAgICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQoaGFuZGxlKTtcblxuICAgICAgICBjb25zdCB0ZXh0V3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0ZXh0V3JhcHBlci5jbGFzc05hbWUgPSAnZmxleC0xJztcbiAgICAgICAgY29uc3QgbWV0YSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBtZXRhLmNsYXNzTmFtZSA9ICdmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiB0ZXh0LVsxMXB4XSB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZSB0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICAgIGNvbnN0IHR5cGVCYWRnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgdHlwZUJhZGdlLmNsYXNzTmFtZSA9XG4gICAgICAgICAgJ3JvdW5kZWQtZnVsbCBiZy1zbGF0ZS0xMDAgcHgtMiBweS0wLjUgdGV4dC1bMTBweF0gZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTYwMCc7XG4gICAgICAgIHR5cGVCYWRnZS50ZXh0Q29udGVudCA9IGJsb2NrLnR5cGU7XG4gICAgICAgIGNvbnN0IHN0YXR1c0JhZGdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICBzdGF0dXNCYWRnZS5jbGFzc05hbWUgPSAndGV4dC1zbGF0ZS00MDAnO1xuICAgICAgICBzdGF0dXNCYWRnZS50ZXh0Q29udGVudCA9IGJsb2NrLnN0YXR1cztcbiAgICAgICAgbWV0YS5hcHBlbmRDaGlsZCh0eXBlQmFkZ2UpO1xuICAgICAgICBtZXRhLmFwcGVuZENoaWxkKHN0YXR1c0JhZGdlKTtcbiAgICAgICAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgICAgIHRpdGxlLmNsYXNzTmFtZSA9ICdtdC0xIHRleHQtc20gZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTkwMCc7XG4gICAgICAgIGNvbnN0IGRpc3BsYXlMYWJlbCA9XG4gICAgICAgICAgKGJsb2NrLnNldHRpbmdzICYmIGJsb2NrLnNldHRpbmdzLnRpdGxlKSB8fCBibG9jay5sYWJlbCB8fCAnQmxvYyBzYW5zIHRpdHJlJztcbiAgICAgICAgdGl0bGUudGV4dENvbnRlbnQgPSBkaXNwbGF5TGFiZWw7XG4gICAgICAgIHRleHRXcmFwcGVyLmFwcGVuZENoaWxkKG1ldGEpO1xuICAgICAgICB0ZXh0V3JhcHBlci5hcHBlbmRDaGlsZCh0aXRsZSk7XG4gICAgICAgIGNvbnN0IGJsb2NrVHlwZSA9IChibG9jay50eXBlIHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBpZiAoYmxvY2tUeXBlID09PSAnY29sbGVjdGlvbmdyaWQnICYmIGJsb2NrLmNvbGxlY3Rpb25JZCkge1xuICAgICAgICAgIGNvbnN0IGNvbGxlY3Rpb25OYW1lID1cbiAgICAgICAgICAgIGRlc2lnbkNvbGxlY3Rpb25zLmZpbmQoKGVudHJ5KSA9PiBlbnRyeS5pZCA9PT0gYmxvY2suY29sbGVjdGlvbklkKT8ubmFtZSB8fFxuICAgICAgICAgICAgYmxvY2suY29sbGVjdGlvbklkO1xuICAgICAgICAgIGNvbnN0IGluZm8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgICAgICAgaW5mby5jbGFzc05hbWUgPSAndGV4dC14cyB0ZXh0LXNsYXRlLTQwMCc7XG4gICAgICAgICAgaW5mby50ZXh0Q29udGVudCA9IGBDb2xsZWN0aW9uIDogJHtjb2xsZWN0aW9uTmFtZX1gO1xuICAgICAgICAgIHRleHRXcmFwcGVyLmFwcGVuZENoaWxkKGluZm8pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQodGV4dFdyYXBwZXIpO1xuICAgICAgICBpdGVtLmFwcGVuZENoaWxkKGNvbnRlbnQpO1xuXG4gICAgICAgIGNvbnN0IGFjdGlvbnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgYWN0aW9ucy5jbGFzc05hbWUgPSAnZmxleCBmbGV4LWNvbCBnYXAtMSB0ZXh0LXhzIHRleHQtc2xhdGUtNDAwJztcblxuICAgICAgICBjb25zdCBtb3ZlQnV0dG9ucyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBtb3ZlQnV0dG9ucy5jbGFzc05hbWUgPSAnZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEgbGc6aGlkZGVuJztcbiAgICAgICAgY29uc3QgbW92ZVVwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIG1vdmVVcC50eXBlID0gJ2J1dHRvbic7XG4gICAgICAgIG1vdmVVcC5jbGFzc05hbWUgPVxuICAgICAgICAgICdyb3VuZGVkLWxnIGJvcmRlciBib3JkZXItc2xhdGUtMjAwIHB4LTIgcHktMSB0ZXh0LVsxMXB4XSBmb250LXNlbWlib2xkIHRleHQtc2xhdGUtNTAwJztcbiAgICAgICAgbW92ZVVwLnRleHRDb250ZW50ID0gJ1x1MjE5MSc7XG4gICAgICAgIG1vdmVVcC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgIG1vdmVCbG9ja0J5T2Zmc2V0KGJsb2NrLmlkLCAtMSk7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBtb3ZlRG93biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICBtb3ZlRG93bi50eXBlID0gJ2J1dHRvbic7XG4gICAgICAgIG1vdmVEb3duLmNsYXNzTmFtZSA9XG4gICAgICAgICAgJ3JvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1zbGF0ZS0yMDAgcHgtMiBweS0xIHRleHQtWzExcHhdIGZvbnQtc2VtaWJvbGQgdGV4dC1zbGF0ZS01MDAnO1xuICAgICAgICBtb3ZlRG93bi50ZXh0Q29udGVudCA9ICdcdTIxOTMnO1xuICAgICAgICBtb3ZlRG93bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgIG1vdmVCbG9ja0J5T2Zmc2V0KGJsb2NrLmlkLCAxKTtcbiAgICAgICAgfSk7XG4gICAgICAgIG1vdmVCdXR0b25zLmFwcGVuZENoaWxkKG1vdmVVcCk7XG4gICAgICAgIG1vdmVCdXR0b25zLmFwcGVuZENoaWxkKG1vdmVEb3duKTtcbiAgICAgICAgYWN0aW9ucy5hcHBlbmRDaGlsZChtb3ZlQnV0dG9ucyk7XG5cbiAgICAgICAgY29uc3QgZGVsZXRlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIGRlbGV0ZUJ1dHRvbi50eXBlID0gJ2J1dHRvbic7XG4gICAgICAgIGRlbGV0ZUJ1dHRvbi5jbGFzc05hbWUgPVxuICAgICAgICAgICdpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLXRyYW5zcGFyZW50IHB4LTIgcHktMSB0ZXh0LVsxMnB4XSB0ZXh0LXJvc2UtNTAwIGhvdmVyOnRleHQtcm9zZS03MDAnO1xuICAgICAgICBkZWxldGVCdXR0b24uaW5uZXJIVE1MID0gJ1x1RDgzRFx1REREMVx1RkUwRic7XG4gICAgICAgIGRlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgIG9wZW5CbG9ja0RlbGV0ZU1vZGFsKGJsb2NrLmlkKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgYWN0aW9ucy5hcHBlbmRDaGlsZChkZWxldGVCdXR0b24pO1xuICAgICAgICBpdGVtLmFwcGVuZENoaWxkKGFjdGlvbnMpO1xuXG4gICAgICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgc2V0QWN0aXZlQmxvY2soYmxvY2suaWQpO1xuICAgICAgICB9KTtcbiAgICAgICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VudGVyJyB8fCBldmVudC5rZXkgPT09ICcgJykge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHNldEFjdGl2ZUJsb2NrKGJsb2NrLmlkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBibG9ja0xpc3QuYXBwZW5kQ2hpbGQoaXRlbSk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgLy8gPT09IERlbGV0ZSBwYWdlIGhhbmRsZXJzIChkZWZpbmVkIGJlZm9yZSByZW5kZXJQYWdlTGlzdHMpID09PVxuICAgIGNvbnN0IG9wZW5EZWxldGVQYWdlTW9kYWwgPSAocGFnZSkgPT4ge1xuICAgICAgaWYgKCFkZWxldGVQYWdlTW9kYWwgfHwgIXBhZ2UpIHJldHVybjtcbiAgICAgIHBhZ2VUb0RlbGV0ZSA9IHBhZ2U7XG4gICAgICBpZiAoZGVsZXRlUGFnZU5hbWUpIGRlbGV0ZVBhZ2VOYW1lLnRleHRDb250ZW50ID0gcGFnZS50aXRsZSB8fCBwYWdlLmlkO1xuICAgICAgZGVsZXRlUGFnZU1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgZGVsZXRlUGFnZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2ZsZXgnKTtcbiAgICB9O1xuICAgIGNvbnN0IGNsb3NlRGVsZXRlUGFnZU1vZGFsID0gKCkgPT4ge1xuICAgICAgaWYgKCFkZWxldGVQYWdlTW9kYWwpIHJldHVybjtcbiAgICAgIGRlbGV0ZVBhZ2VNb2RhbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGRlbGV0ZVBhZ2VNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdmbGV4Jyk7XG4gICAgICBwYWdlVG9EZWxldGUgPSBudWxsO1xuICAgIH07XG4gICAgY29uc3QgZXhlY3V0ZURlbGV0ZVBhZ2UgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXBhZ2VzQXBpQmFzZSB8fCAhcGFnZVRvRGVsZXRlKSByZXR1cm47XG4gICAgICBjb25zdCBwYWdlSWQgPSBwYWdlVG9EZWxldGUuaWQ7XG4gICAgICBjb25zdCBwYWdlVGl0bGUgPSBwYWdlVG9EZWxldGUudGl0bGUgfHwgcGFnZUlkO1xuICAgICAgaWYgKGRlbGV0ZVBhZ2VDb25maXJtKSB7XG4gICAgICAgIGRlbGV0ZVBhZ2VDb25maXJtLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgZGVsZXRlUGFnZUNvbmZpcm0udGV4dENvbnRlbnQgPSAnU3VwcHJlc3Npb24uLi4nO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtwYWdlc0FwaUJhc2V9LyR7ZW5jb2RlVVJJQ29tcG9uZW50KHBhZ2VJZCl9YCwge1xuICAgICAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICAgICAgY3JlZGVudGlhbHM6ICdpbmNsdWRlJyxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQubWVzc2FnZSB8fCAnRXJyZXVyIHNlcnZldXInKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTdXBwcmltZXIgZGUgbGEgbGlzdGUgbG9jYWxlXG4gICAgICAgIHBhZ2VzID0gcGFnZXMuZmlsdGVyKChwKSA9PiBwLmlkICE9PSBwYWdlSWQpO1xuICAgICAgICAvLyBTaSBsYSBwYWdlIHN1cHByaW1cdTAwRTllIFx1MDBFOXRhaXQgYWN0aXZlLCBzXHUwMEU5bGVjdGlvbm5lciBsYSBwcmVtaVx1MDBFOHJlXG4gICAgICAgIGlmIChhY3RpdmVQYWdlSWQgPT09IHBhZ2VJZCkge1xuICAgICAgICAgIGlmIChwYWdlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBzZXRBY3RpdmVQYWdlKHBhZ2VzWzBdLmlkKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYWN0aXZlUGFnZUlkID0gbnVsbDtcbiAgICAgICAgICAgIGN1cnJlbnRQYWdlID0gbnVsbDtcbiAgICAgICAgICAgIHJlbmRlclBhZ2VMaXN0cyhwYWdlcywgbnVsbCk7XG4gICAgICAgICAgICByZW5kZXJCbG9ja0xpc3QobnVsbCk7XG4gICAgICAgICAgICBibG9ja0RldGFpbEVtcHR5Py5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIGJsb2NrRWRpdG9yPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIHByZXZpZXdGcmFtZSAmJiAocHJldmlld0ZyYW1lLnNyY2RvYyA9IGdldExvYWRpbmdQcmV2aWV3SHRtbCgpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVuZGVyUGFnZUxpc3RzKHBhZ2VzLCBhY3RpdmVQYWdlSWQpO1xuICAgICAgICB9XG4gICAgICAgIGNsb3NlRGVsZXRlUGFnZU1vZGFsKCk7XG4gICAgICAgIHNob3dUb2FzdChgUGFnZSBcIiR7cGFnZVRpdGxlfVwiIHN1cHByaW1cdTAwRTllYCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW3BhZ2VzXSBkZWxldGUgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdFcnJldXIgc3VwcHJlc3Npb24nKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmIChkZWxldGVQYWdlQ29uZmlybSkge1xuICAgICAgICAgIGRlbGV0ZVBhZ2VDb25maXJtLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgZGVsZXRlUGFnZUNvbmZpcm0udGV4dENvbnRlbnQgPSAnU3VwcHJpbWVyJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCByZW5kZXJQYWdlTGlzdHMgPSAocGFnZXMsIGFjdGl2ZUlkKSA9PiB7XG4gICAgICBwYWdlTGlzdHMuZm9yRWFjaCgobGlzdCkgPT4ge1xuICAgICAgICBsaXN0LmlubmVySFRNTCA9ICcnO1xuICAgICAgICBwYWdlcy5mb3JFYWNoKChwYWdlKSA9PiB7XG4gICAgICAgICAgY29uc3QgaXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICAgICAgaXRlbS5jbGFzc05hbWUgPSAnZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEnO1xuICAgICAgICAgIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICAgIGJ1dHRvbi50eXBlID0gJ2J1dHRvbic7XG4gICAgICAgICAgYnV0dG9uLmRhdGFzZXQucGFnZUlkID0gcGFnZS5pZDtcbiAgICAgICAgICBidXR0b24uY2xhc3NOYW1lID0gW1xuICAgICAgICAgICAgJ2ZsZXgtMSBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMyBweC0zIHB5LTIgdGV4dC1sZWZ0IHRyYW5zaXRpb24nLFxuICAgICAgICAgICAgYWN0aXZlSWQgPT09IHBhZ2UuaWRcbiAgICAgICAgICAgICAgPyAnYmctWyM5QzZCRkZdLzEwIHRleHQtc2xhdGUtOTAwIGJvcmRlciBib3JkZXItWyM5QzZCRkZdLzQwIHJvdW5kZWQteGwgc2hhZG93LXNtJ1xuICAgICAgICAgICAgICA6ICd0ZXh0LXNsYXRlLTcwMCBob3ZlcjpiZy1zbGF0ZS01MCByb3VuZGVkLXhsJyxcbiAgICAgICAgICBdLmpvaW4oJyAnKTtcbiAgICAgICAgICBpZiAoYWN0aXZlSWQgPT09IHBhZ2UuaWQpIHtcbiAgICAgICAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtY3VycmVudCcsICdwYWdlJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJ1dHRvbi5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtY3VycmVudCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBidXR0b24uaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJmbGV4IGgtOSB3LTkgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHJvdW5kZWQteGwgYm9yZGVyIGJvcmRlci1zbGF0ZS0yMDAgYmctd2hpdGUgdGV4dC1zbGF0ZS01MDBcIj5cbiAgICAgICAgICAgICAgPHN2ZyB3aWR0aD1cIjE4XCIgaGVpZ2h0PVwiMThcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBhcmlhLWhpZGRlbj1cInRydWVcIj5cbiAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTYuNSA0LjVoN2w0IDR2MTFhMSAxIDAgMCAxLTEgMWgtMTBhMSAxIDAgMCAxLTEtMXYtMTRhMSAxIDAgMCAxIDEtMVpcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIxLjRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiLz5cbiAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTEzLjUgNC41djRhMSAxIDAgMCAwIDEgMWgzXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMS40XCIvPlxuICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC1zbSBmb250LXNlbWlib2xkXCI+JHtwYWdlLnRpdGxlfTwvc3Bhbj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNTAwXCI+JHtwYWdlLnNsdWd9PC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgYDtcbiAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICBzZXRBY3RpdmVQYWdlKHBhZ2UuaWQpO1xuICAgICAgICAgICAgaWYgKCFpc0Rlc2t0b3BEcmF3ZXIoKSkge1xuICAgICAgICAgICAgICBjbG9zZURyYXdlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGl0ZW0uYXBwZW5kQ2hpbGQoYnV0dG9uKTtcbiAgICAgICAgICAvLyBCb3V0b24gZGUgc3VwcHJlc3Npb25cbiAgICAgICAgICBjb25zdCBkZWxldGVCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgICBkZWxldGVCdG4udHlwZSA9ICdidXR0b24nO1xuICAgICAgICAgIGRlbGV0ZUJ0bi5jbGFzc05hbWUgPSAnZmxleC1zaHJpbmstMCBwLTIgdGV4dC1zbGF0ZS00MDAgaG92ZXI6dGV4dC1yb3NlLTYwMCBob3ZlcjpiZy1yb3NlLTUwIHJvdW5kZWQtbGcgdHJhbnNpdGlvbic7XG4gICAgICAgICAgZGVsZXRlQnRuLnRpdGxlID0gJ1N1cHByaW1lciBjZXR0ZSBwYWdlJztcbiAgICAgICAgICBkZWxldGVCdG4uc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgYFN1cHByaW1lciAke3BhZ2UudGl0bGV9YCk7XG4gICAgICAgICAgZGVsZXRlQnRuLmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgIDxzdmcgd2lkdGg9XCIxNlwiIGhlaWdodD1cIjE2XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiPlxuICAgICAgICAgICAgICA8cGF0aCBkPVwiTTMgNmgxOE04IDZWNGEyIDIgMCAwIDEgMi0yaDRhMiAyIDAgMCAxIDIgMnYybTMgMHYxNGEyIDIgMCAwIDEtMiAySDdhMiAyIDAgMCAxLTItMlY2aDE0Wk0xMCAxMXY2TTE0IDExdjZcIi8+XG4gICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICBgO1xuICAgICAgICAgIGRlbGV0ZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgb3BlbkRlbGV0ZVBhZ2VNb2RhbChwYWdlKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpdGVtLmFwcGVuZENoaWxkKGRlbGV0ZUJ0bik7XG4gICAgICAgICAgbGlzdC5hcHBlbmRDaGlsZChpdGVtKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IGdldEFjdGl2ZUJsb2NrID0gKCkgPT4ge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSB8fCAhQXJyYXkuaXNBcnJheShjdXJyZW50UGFnZS5ibG9ja3MpKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGN1cnJlbnRQYWdlLmJsb2Nrcy5maW5kKChibG9jaykgPT4gYmxvY2suaWQgPT09IGFjdGl2ZUJsb2NrSWQpIHx8IG51bGw7XG4gICAgfTtcbiAgICBjb25zdCBzZXRBY3RpdmVCbG9jayA9IChibG9ja0lkKSA9PiB7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghYmxvY2tJZCkge1xuICAgICAgICBhY3RpdmVCbG9ja0lkID0gbnVsbDtcbiAgICAgICAgcmVuZGVyQmxvY2tMaXN0KGN1cnJlbnRQYWdlKTtcbiAgICAgICAgcmVuZGVyQmxvY2tEZXRhaWxzKG51bGwpO1xuICAgICAgICBhcHBseVByZXZpZXdIaWdobGlnaHQobnVsbCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHRhcmdldEJsb2NrID1cbiAgICAgICAgY3VycmVudFBhZ2UuYmxvY2tzLmZpbmQoKGJsb2NrKSA9PiBibG9jay5pZCA9PT0gYmxvY2tJZCkgfHwgY3VycmVudFBhZ2UuYmxvY2tzWzBdIHx8IG51bGw7XG4gICAgICBhY3RpdmVCbG9ja0lkID0gdGFyZ2V0QmxvY2s/LmlkIHx8IG51bGw7XG4gICAgICByZW5kZXJCbG9ja0xpc3QoY3VycmVudFBhZ2UpO1xuICAgICAgcmVuZGVyQmxvY2tEZXRhaWxzKHRhcmdldEJsb2NrKTtcbiAgICAgIGFwcGx5UHJldmlld0hpZ2hsaWdodChhY3RpdmVCbG9ja0lkKTtcbiAgICB9O1xuICAgIGNvbnN0IHVwZGF0ZUN1cnJlbnRQYWdlQmxvY2tzID0gKG5ld0Jsb2NrcykgPT4ge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBuZXh0UGFnZSA9IHsgLi4uY3VycmVudFBhZ2UsIGJsb2NrczogbmV3QmxvY2tzIH07XG4gICAgICB1cGRhdGVDdXJyZW50UGFnZVN0YXRlKG5leHRQYWdlKTtcbiAgICB9O1xuICAgIGNvbnN0IGlzRGVza3RvcFJlb3JkZXIgPSAoKSA9PiB3aW5kb3cubWF0Y2hNZWRpYSgnKG1pbi13aWR0aDogMTAyNHB4KScpLm1hdGNoZXM7XG4gICAgZnVuY3Rpb24gbW92ZUJsb2NrQnlPZmZzZXQoYmxvY2tJZCwgb2Zmc2V0KSB7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlIHx8ICFibG9ja0lkIHx8ICFvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgYmxvY2tzID0gWy4uLihjdXJyZW50UGFnZS5ibG9ja3MgfHwgW10pXTtcbiAgICAgIGNvbnN0IGluZGV4ID0gYmxvY2tzLmZpbmRJbmRleCgoYmxvY2spID0+IGJsb2NrLmlkID09PSBibG9ja0lkKTtcbiAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgbmV3SW5kZXggPSBpbmRleCArIG9mZnNldDtcbiAgICAgIGlmIChuZXdJbmRleCA8IDAgfHwgbmV3SW5kZXggPj0gYmxvY2tzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBbbW92ZWRdID0gYmxvY2tzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICBibG9ja3Muc3BsaWNlKG5ld0luZGV4LCAwLCBtb3ZlZCk7XG4gICAgICB1cGRhdGVDdXJyZW50UGFnZUJsb2NrcyhibG9ja3MpO1xuICAgICAgc2V0QWN0aXZlUGFnZShjdXJyZW50UGFnZS5pZCwgeyBwcmVzZXJ2ZUJsb2NrOiB0cnVlIH0pO1xuICAgICAgc2V0QWN0aXZlQmxvY2sobW92ZWQuaWQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZW9yZGVyQmxvY2tzKHNvdXJjZUlkLCB0YXJnZXRJZCkge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSB8fCAhc291cmNlSWQgfHwgIXRhcmdldElkIHx8IHNvdXJjZUlkID09PSB0YXJnZXRJZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBibG9ja3MgPSBbLi4uKGN1cnJlbnRQYWdlLmJsb2NrcyB8fCBbXSldO1xuICAgICAgY29uc3QgZnJvbUluZGV4ID0gYmxvY2tzLmZpbmRJbmRleCgoYmxvY2spID0+IGJsb2NrLmlkID09PSBzb3VyY2VJZCk7XG4gICAgICBjb25zdCB0b0luZGV4ID0gYmxvY2tzLmZpbmRJbmRleCgoYmxvY2spID0+IGJsb2NrLmlkID09PSB0YXJnZXRJZCk7XG4gICAgICBpZiAoZnJvbUluZGV4IDwgMCB8fCB0b0luZGV4IDwgMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBbbW92ZWRdID0gYmxvY2tzLnNwbGljZShmcm9tSW5kZXgsIDEpO1xuICAgICAgYmxvY2tzLnNwbGljZSh0b0luZGV4LCAwLCBtb3ZlZCk7XG4gICAgICB1cGRhdGVDdXJyZW50UGFnZUJsb2NrcyhibG9ja3MpO1xuICAgICAgc2V0QWN0aXZlUGFnZShjdXJyZW50UGFnZS5pZCwgeyBwcmVzZXJ2ZUJsb2NrOiB0cnVlIH0pO1xuICAgICAgc2V0QWN0aXZlQmxvY2sobW92ZWQuaWQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVEcmFnZ2FibGVTdGF0ZSgpIHtcbiAgICAgIGlmICghYmxvY2tMaXN0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRyYWdnYWJsZSA9IGlzRGVza3RvcFJlb3JkZXIoKTtcbiAgICAgIGJsb2NrTGlzdC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1ibG9jay1pdGVtXScpLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgICAgaXRlbS5zZXRBdHRyaWJ1dGUoJ2RyYWdnYWJsZScsIGRyYWdnYWJsZSA/ICd0cnVlJyA6ICdmYWxzZScpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNsb3NlQmxvY2tMaWJyYXJ5KCkge1xuICAgICAgaWYgKCFibG9ja0xpYnJhcnkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYmxvY2tMaWJyYXJ5LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgYmxvY2tMaWJyYXJ5T3BlbiA9IGZhbHNlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBvcGVuQmxvY2tMaWJyYXJ5KCkge1xuICAgICAgaWYgKCFibG9ja0xpYnJhcnkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYmxvY2tMaWJyYXJ5LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgYmxvY2tMaWJyYXJ5T3BlbiA9IHRydWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRvZ2dsZUJsb2NrTGlicmFyeSgpIHtcbiAgICAgIGJsb2NrTGlicmFyeU9wZW4gPyBjbG9zZUJsb2NrTGlicmFyeSgpIDogb3BlbkJsb2NrTGlicmFyeSgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBhZGRCbG9ja0Zyb21MaWJyYXJ5KHR5cGUpIHtcbiAgICAgIGlmICghY3VycmVudFBhZ2UgfHwgIXR5cGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgZGVmaW5pdGlvbiA9IGJsb2NrTGlicmFyeURlZmluaXRpb25zW3R5cGVdO1xuICAgICAgaWYgKCFkZWZpbml0aW9uKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNvdW50ID1cbiAgICAgICAgKGN1cnJlbnRQYWdlLmJsb2NrcyB8fCBbXSkuZmlsdGVyKChibG9jaykgPT4gYmxvY2sudHlwZSA9PT0gZGVmaW5pdGlvbi50eXBlKS5sZW5ndGggKyAxO1xuICAgICAgY29uc3QgbmV3QmxvY2sgPSBjcmVhdGVCbG9jayhcbiAgICAgICAgZ2VuZXJhdGVCbG9ja0lkKGN1cnJlbnRQYWdlLmlkLCB0eXBlKSxcbiAgICAgICAgYCR7ZGVmaW5pdGlvbi5sYWJlbH0gJHtjb3VudH1gLFxuICAgICAgICBkZWZpbml0aW9uLnR5cGUsXG4gICAgICAgIGRlZmluaXRpb24uc3RhdHVzLFxuICAgICAgICBkZWZpbml0aW9uLmRlc2NyaXB0aW9uLFxuICAgICAgICBkZWZpbml0aW9uLnByb3BzLFxuICAgICAgICBkZWZpbml0aW9uLnNldHRpbmdzIHx8IHt9LFxuICAgICAgKTtcbiAgICAgIGlmICgoZGVmaW5pdGlvbi50eXBlIHx8ICcnKS50b0xvd2VyQ2FzZSgpID09PSAnY29sbGVjdGlvbmdyaWQnKSB7XG4gICAgICAgIGNvbnN0IGZpcnN0Q29sbGVjdGlvbklkID0gZGVzaWduQ29sbGVjdGlvbnNbMF0/LmlkIHx8ICcnO1xuICAgICAgICBuZXdCbG9jay5jb2xsZWN0aW9uSWQgPSBmaXJzdENvbGxlY3Rpb25JZDtcbiAgICAgICAgbmV3QmxvY2suc2V0dGluZ3MuY29sbGVjdGlvbklkID0gZmlyc3RDb2xsZWN0aW9uSWQ7XG4gICAgICAgIG5ld0Jsb2NrLnNldHRpbmdzLmxpbWl0ID0gbmV3QmxvY2suc2V0dGluZ3MubGltaXQgfHwgNjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG5leHRCbG9ja3MgPSBbLi4uKGN1cnJlbnRQYWdlLmJsb2NrcyB8fCBbXSksIG5ld0Jsb2NrXTtcbiAgICAgIHVwZGF0ZUN1cnJlbnRQYWdlQmxvY2tzKG5leHRCbG9ja3MpO1xuICAgICAgc2V0QWN0aXZlUGFnZShjdXJyZW50UGFnZS5pZCwgeyBwcmVzZXJ2ZUJsb2NrOiB0cnVlIH0pO1xuICAgICAgc2V0QWN0aXZlQmxvY2sobmV3QmxvY2suaWQpO1xuICAgICAgY2xvc2VCbG9ja0xpYnJhcnkoKTtcbiAgICAgIHNob3dUb2FzdCgnQmxvYyBham91dFx1MDBFOScpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkZWxldGVCbG9ja0J5SWQoYmxvY2tJZCkge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBibG9ja3MgPSAoY3VycmVudFBhZ2UuYmxvY2tzIHx8IFtdKS5maWx0ZXIoKGJsb2NrKSA9PiBibG9jay5pZCAhPT0gYmxvY2tJZCk7XG4gICAgICBjb25zdCBuZXh0QWN0aXZlID1cbiAgICAgICAgYmxvY2tJZCA9PT0gYWN0aXZlQmxvY2tJZCA/IGJsb2Nrc1swXT8uaWQgfHwgbnVsbCA6IGFjdGl2ZUJsb2NrSWQgfHwgYmxvY2tzWzBdPy5pZCB8fCBudWxsO1xuICAgICAgdXBkYXRlQ3VycmVudFBhZ2VCbG9ja3MoYmxvY2tzKTtcbiAgICAgIGFjdGl2ZUJsb2NrSWQgPSBuZXh0QWN0aXZlO1xuICAgICAgc2V0QWN0aXZlUGFnZShjdXJyZW50UGFnZS5pZCwgeyBwcmVzZXJ2ZUJsb2NrOiB0cnVlIH0pO1xuICAgICAgaWYgKGFjdGl2ZUJsb2NrSWQpIHtcbiAgICAgICAgc2V0QWN0aXZlQmxvY2soYWN0aXZlQmxvY2tJZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZW5kZXJCbG9ja0RldGFpbHMobnVsbCk7XG4gICAgICAgIGFwcGx5UHJldmlld0hpZ2hsaWdodChudWxsKTtcbiAgICAgIH1cbiAgICAgIHNob3dUb2FzdCgnQmxvYyBzdXBwcmltXHUwMEU5Jyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNsb3NlQmxvY2tEZWxldGVNb2RhbCgpIHtcbiAgICAgIGlmICghYmxvY2tEZWxldGVNb2RhbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBibG9ja0RlbGV0ZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgYmxvY2tEZWxldGVNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdmbGV4Jyk7XG4gICAgICBwZW5kaW5nRGVsZXRlQmxvY2tJZCA9IG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG9wZW5CbG9ja0RlbGV0ZU1vZGFsKGJsb2NrSWQpIHtcbiAgICAgIGlmICghYmxvY2tEZWxldGVNb2RhbCkge1xuICAgICAgICBkZWxldGVCbG9ja0J5SWQoYmxvY2tJZCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHBlbmRpbmdEZWxldGVCbG9ja0lkID0gYmxvY2tJZDtcbiAgICAgIGJsb2NrRGVsZXRlTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBibG9ja0RlbGV0ZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2ZsZXgnKTtcbiAgICB9XG4gICAgY29uc3QgdXBkYXRlQ3VycmVudFBhZ2VTdGF0ZSA9IChuZXh0UGFnZSkgPT4ge1xuICAgICAgaWYgKCFuZXh0UGFnZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBub3JtYWxpemVkID0gbm9ybWFsaXplUGFnZURhdGEobmV4dFBhZ2UpO1xuICAgICAgcGFnZXMgPSBwYWdlcy5tYXAoKHBhZ2UpID0+IChwYWdlLmlkID09PSBub3JtYWxpemVkLmlkID8gbm9ybWFsaXplZCA6IHBhZ2UpKTtcbiAgICAgIGN1cnJlbnRQYWdlID0gbm9ybWFsaXplZDtcbiAgICAgIHNhdmVQYWdlVG9TZXJ2ZXIobm9ybWFsaXplZCk7XG4gICAgfTtcbiAgICBjb25zdCBzZXRBY3RpdmVQYWdlID0gKHBhZ2VJZCwgb3B0aW9ucyA9IHt9KSA9PiB7XG4gICAgICBjb25zdCB0YXJnZXQgPSBwYWdlcy5maW5kKChwYWdlKSA9PiBwYWdlLmlkID09PSBwYWdlSWQpIHx8IHBhZ2VzWzBdIHx8IG51bGw7XG4gICAgICBjb25zdCBub3JtYWxpemVkVGFyZ2V0ID0gdGFyZ2V0ID8gbm9ybWFsaXplUGFnZURhdGEodGFyZ2V0KSA6IG51bGw7XG4gICAgICBjdXJyZW50UGFnZSA9IG5vcm1hbGl6ZWRUYXJnZXQ7XG4gICAgICBhY3RpdmVQYWdlSWQgPSB0YXJnZXQ/LmlkIHx8IG51bGw7XG4gICAgICBpZiAoIW9wdGlvbnMucHJlc2VydmVCbG9jayB8fCAhY3VycmVudFBhZ2UgfHwgIWN1cnJlbnRQYWdlLmJsb2Nrcy5zb21lKChibG9jaykgPT4gYmxvY2suaWQgPT09IGFjdGl2ZUJsb2NrSWQpKSB7XG4gICAgICAgIGFjdGl2ZUJsb2NrSWQgPSBjdXJyZW50UGFnZT8uYmxvY2tzPy5bMF0/LmlkIHx8IG51bGw7XG4gICAgICB9XG4gICAgICBpZiAoYWN0aXZlUGFnZUlkKSB7XG4gICAgICAgIHBlcnNpc3RBY3RpdmVQYWdlKGFjdGl2ZVBhZ2VJZCk7XG4gICAgICB9XG4gICAgICByZW5kZXJQYWdlTGlzdHMocGFnZXMsIGFjdGl2ZVBhZ2VJZCk7XG4gICAgICBzZXRBY3RpdmVMYWJlbHMoY3VycmVudFBhZ2UpO1xuICAgICAgcmVuZGVyUHJldmlld01ldGEoY3VycmVudFBhZ2UpO1xuICAgICAgcmVmcmVzaFByZXZpZXcoY3VycmVudFBhZ2UpO1xuICAgICAgcmVuZGVyQmxvY2tMaXN0KGN1cnJlbnRQYWdlKTtcbiAgICAgIHJlbmRlckJsb2NrRGV0YWlscyhnZXRBY3RpdmVCbG9jaygpKTtcbiAgICAgIGFwcGx5UHJldmlld0hpZ2hsaWdodChhY3RpdmVCbG9ja0lkKTtcbiAgICAgIHVwZGF0ZURyYWdnYWJsZVN0YXRlKCk7XG4gICAgICBpZiAoYmxvY2tMaWJyYXJ5T3Blbikge1xuICAgICAgICBjbG9zZUJsb2NrTGlicmFyeSgpO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgaXNEZXNrdG9wRHJhd2VyID0gKCkgPT4gd2luZG93Lm1hdGNoTWVkaWEoJyhtaW4td2lkdGg6IDEwMjRweCknKS5tYXRjaGVzO1xuICAgIGNvbnN0IHN5bmNEcmF3ZXJTdGF0ZSA9ICgpID0+IHtcbiAgICAgIGlmICghZHJhd2VyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChpc0Rlc2t0b3BEcmF3ZXIoKSkge1xuICAgICAgICBkcmF3ZXIuY2xhc3NMaXN0LmFkZCgnaXMtb3BlbicpO1xuICAgICAgICBkcmF3ZXJCYWNrZHJvcD8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnb3ZlcmZsb3ctaGlkZGVuJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkcmF3ZXIuY2xhc3NMaXN0LnJlbW92ZSgnaXMtb3BlbicpO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3Qgb3BlbkRyYXdlciA9ICgpID0+IHtcbiAgICAgIGlmICghZHJhd2VyIHx8IGlzRGVza3RvcERyYXdlcigpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGRyYXdlci5jbGFzc0xpc3QuYWRkKCdpcy1vcGVuJyk7XG4gICAgICBkcmF3ZXJCYWNrZHJvcD8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ292ZXJmbG93LWhpZGRlbicpO1xuICAgIH07XG4gICAgY29uc3QgY2xvc2VEcmF3ZXIgPSAoKSA9PiB7XG4gICAgICBpZiAoIWRyYXdlcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBkcmF3ZXIuY2xhc3NMaXN0LnJlbW92ZSgnaXMtb3BlbicpO1xuICAgICAgZHJhd2VyQmFja2Ryb3A/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICB9O1xuICAgIGNvbnN0IG9wZW5BZGRQYWdlRm9ybSA9ICgpID0+IHtcbiAgICAgIGlmICghYWRkUGFnZUZvcm0gfHwgIWFkZFBhZ2VUb2dnbGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYWRkUGFnZUZvcm0uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBhZGRQYWdlVG9nZ2xlLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgYWRkUGFnZUVycm9yICYmIChhZGRQYWdlRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgICBwYWdlU2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gICAgICBpZiAoYWRkUGFnZVRpdGxlKSB7XG4gICAgICAgIGFkZFBhZ2VUaXRsZS52YWx1ZSA9ICcnO1xuICAgICAgICBhZGRQYWdlVGl0bGUuZm9jdXMoKTtcbiAgICAgIH1cbiAgICAgIGlmIChhZGRQYWdlU2x1Zykge1xuICAgICAgICBhZGRQYWdlU2x1Zy52YWx1ZSA9ICcnO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgY2xvc2VBZGRQYWdlRm9ybSA9ICgpID0+IHtcbiAgICAgIGlmICghYWRkUGFnZUZvcm0gfHwgIWFkZFBhZ2VUb2dnbGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYWRkUGFnZUZvcm0uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBhZGRQYWdlVG9nZ2xlLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgYWRkUGFnZUVycm9yICYmIChhZGRQYWdlRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgICBwYWdlU2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gICAgICBhZGRQYWdlRm9ybS5yZXNldCgpO1xuICAgIH07XG4gICAgY29uc3Qgc3luY1NsdWdGcm9tVGl0bGUgPSAoKSA9PiB7XG4gICAgICBpZiAoIWFkZFBhZ2VUaXRsZSB8fCAhYWRkUGFnZVNsdWcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHBhZ2VTbHVnTWFudWFsbHlFZGl0ZWQgJiYgYWRkUGFnZVNsdWcudmFsdWUudHJpbSgpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYWRkUGFnZVNsdWcudmFsdWUgPSBub3JtYWxpemVQYWdlU2x1ZyhhZGRQYWdlVGl0bGUudmFsdWUpO1xuICAgIH07XG5cbiAgICBsZXQgcGFnZXMgPSBbXTtcbiAgICBsZXQgYWN0aXZlUGFnZUlkID0gbnVsbDtcbiAgICBsZXQgcGFnZVNsdWdNYW51YWxseUVkaXRlZCA9IGZhbHNlO1xuICAgIGxldCBjdXJyZW50UGFnZSA9IG51bGw7XG4gICAgbGV0IGFjdGl2ZUJsb2NrSWQgPSBudWxsO1xuICAgIGxldCBibG9ja0xpYnJhcnlPcGVuID0gZmFsc2U7XG4gICAgbGV0IHBlbmRpbmdEZWxldGVCbG9ja0lkID0gbnVsbDtcbiAgICBsZXQgbGF0ZXN0UHJldmlld0h0bWwgPSAnJztcbiAgICBsZXQgcHJldmlld1JlYWR5ID0gZmFsc2U7XG4gICAgbGV0IHByZXZpZXdSZXF1ZXN0Q29udHJvbGxlciA9IG51bGw7XG4gICAgbGV0IGRlc2lnbkNvbGxlY3Rpb25zID0gW107XG5cbiAgICBjb25zdCBub3JtYWxpemVCbG9ja0RhdGEgPSAoYmxvY2spID0+IHtcbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSB7XG4gICAgICAgIC4uLmJsb2NrLFxuICAgICAgICBwcm9wczogQXJyYXkuaXNBcnJheShibG9jay5wcm9wcykgPyBibG9jay5wcm9wcyA6IFtdLFxuICAgICAgICBzZXR0aW5nczogeyAuLi4oYmxvY2suc2V0dGluZ3MgfHwge30pIH0sXG4gICAgICB9O1xuICAgICAgY29uc3QgdHlwZSA9IChub3JtYWxpemVkLnR5cGUgfHwgJycpLnRvTG93ZXJDYXNlKCk7XG4gICAgICBpZiAodHlwZSA9PT0gJ2NvbGxlY3Rpb25ncmlkJykge1xuICAgICAgICBub3JtYWxpemVkLmNvbGxlY3Rpb25JZCA9XG4gICAgICAgICAgbm9ybWFsaXplZC5jb2xsZWN0aW9uSWQgfHwgbm9ybWFsaXplZC5zZXR0aW5ncy5jb2xsZWN0aW9uSWQgfHwgJyc7XG4gICAgICAgIG5vcm1hbGl6ZWQuc2V0dGluZ3MuY29sbGVjdGlvbklkID0gbm9ybWFsaXplZC5jb2xsZWN0aW9uSWQ7XG4gICAgICAgIG5vcm1hbGl6ZWQuc2V0dGluZ3MubGltaXQgPSBub3JtYWxpemVkLnNldHRpbmdzLmxpbWl0IHx8IDY7XG4gICAgICB9XG4gICAgICByZXR1cm4gbm9ybWFsaXplZDtcbiAgICB9O1xuXG4gICAgY29uc3Qgbm9ybWFsaXplUGFnZURhdGEgPSAocGFnZSkgPT4gKHtcbiAgICAgIC4uLnBhZ2UsXG4gICAgICBibG9ja3M6IChwYWdlLmJsb2NrcyB8fCBbXSkubWFwKChibG9jaykgPT4gbm9ybWFsaXplQmxvY2tEYXRhKGJsb2NrKSksXG4gICAgICBzZW86IHtcbiAgICAgICAgdGl0bGU6IChwYWdlLnNlbz8udGl0bGUgfHwgJycpLnRyaW0oKSxcbiAgICAgICAgZGVzY3JpcHRpb246IChwYWdlLnNlbz8uZGVzY3JpcHRpb24gfHwgJycpLnRyaW0oKSxcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICBjb25zdCBsb2FkRGVzaWduQ29sbGVjdGlvbnMgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25zQXBpQmFzZSkge1xuICAgICAgICBkZXNpZ25Db2xsZWN0aW9ucyA9IFtdO1xuICAgICAgICB1cGRhdGVDb2xsZWN0aW9uU2VsZWN0T3B0aW9ucygpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGNvbGxlY3Rpb25zQXBpQmFzZSwge1xuICAgICAgICAgIGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ltcG9zc2libGUgZGUgY2hhcmdlciBsZXMgY29sbGVjdGlvbnMuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiBbXSk7XG4gICAgICAgIGRlc2lnbkNvbGxlY3Rpb25zID0gQXJyYXkuaXNBcnJheShwYXlsb2FkKSA/IHBheWxvYWQgOiBbXTtcbiAgICAgICAgY29uc3QgY3VycmVudFZhbHVlID0gY29sbGVjdGlvblNlbGVjdD8udmFsdWUgfHwgJyc7XG4gICAgICAgIHVwZGF0ZUNvbGxlY3Rpb25TZWxlY3RPcHRpb25zKGN1cnJlbnRWYWx1ZSk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2Rlc2lnbl0gY29sbGVjdGlvbnMgbG9hZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdCgnQ29sbGVjdGlvbnMgaW5kaXNwb25pYmxlcy4nKTtcbiAgICAgICAgZGVzaWduQ29sbGVjdGlvbnMgPSBbXTtcbiAgICAgICAgdXBkYXRlQ29sbGVjdGlvblNlbGVjdE9wdGlvbnMoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3Qgc3luY0NvbGxlY3Rpb25TZWxlY3Rpb25JbmZvID0gKGNvbGxlY3Rpb25JZCkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uU2VsZWN0aW9uSW5mbykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWNvbGxlY3Rpb25JZCkge1xuICAgICAgICBjb2xsZWN0aW9uU2VsZWN0aW9uSW5mby50ZXh0Q29udGVudCA9IGRlc2lnbkNvbGxlY3Rpb25zLmxlbmd0aFxuICAgICAgICAgID8gJ1NcdTAwRTlsZWN0aW9ubmV6IHVuZSBjb2xsZWN0aW9uIHBvdXIgYWZmaWNoZXIgc2VzIGluZm9ybWF0aW9ucy4nXG4gICAgICAgICAgOiAnQXVjdW5lIGNvbGxlY3Rpb24gZGlzcG9uaWJsZS4gQWpvdXRlei1lbiBkZXB1aXMgbFx1MjAxOW9uZ2xldCBDb250ZW51cy4nO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBlbnRyeSA9IGRlc2lnbkNvbGxlY3Rpb25zLmZpbmQoKGNvbGxlY3Rpb24pID0+IGNvbGxlY3Rpb24uaWQgPT09IGNvbGxlY3Rpb25JZCk7XG4gICAgICBpZiAoIWVudHJ5KSB7XG4gICAgICAgIGNvbGxlY3Rpb25TZWxlY3Rpb25JbmZvLnRleHRDb250ZW50ID0gYENvbGxlY3Rpb24gJHtjb2xsZWN0aW9uSWR9YDtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgZGV0YWlscyA9IFtdO1xuICAgICAgaWYgKGVudHJ5LmRlc2NyaXB0aW9uKSB7XG4gICAgICAgIGRldGFpbHMucHVzaChlbnRyeS5kZXNjcmlwdGlvbik7XG4gICAgICB9XG4gICAgICBpZiAoZW50cnkudHlwZSkge1xuICAgICAgICBkZXRhaWxzLnB1c2goYFR5cGVcdTAwQTA6ICR7ZW50cnkudHlwZX1gKTtcbiAgICAgIH1cbiAgICAgIGNvbGxlY3Rpb25TZWxlY3Rpb25JbmZvLnRleHRDb250ZW50ID1cbiAgICAgICAgZGV0YWlscy5qb2luKCcgXHUwMEI3ICcpIHx8IGBDb2xsZWN0aW9uICR7ZW50cnkubmFtZSB8fCBlbnRyeS5pZH1gO1xuICAgIH07XG5cbiAgICBjb25zdCB1cGRhdGVDb2xsZWN0aW9uU2VsZWN0T3B0aW9ucyA9IChzZWxlY3RlZFZhbHVlID0gJycpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvblNlbGVjdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb2xsZWN0aW9uU2VsZWN0LmlubmVySFRNTCA9ICcnO1xuICAgICAgaWYgKCFkZXNpZ25Db2xsZWN0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgY29sbGVjdGlvblNlbGVjdC5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICBvcHRpb24udmFsdWUgPSAnJztcbiAgICAgICAgb3B0aW9uLnRleHRDb250ZW50ID0gJ0F1Y3VuZSBjb2xsZWN0aW9uIGRpc3BvbmlibGUnO1xuICAgICAgICBjb2xsZWN0aW9uU2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbik7XG4gICAgICAgIHN5bmNDb2xsZWN0aW9uU2VsZWN0aW9uSW5mbygnJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbGxlY3Rpb25TZWxlY3QuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgIGlmIChzZWxlY3RlZFZhbHVlICYmICFkZXNpZ25Db2xsZWN0aW9ucy5zb21lKChlbnRyeSkgPT4gZW50cnkuaWQgPT09IHNlbGVjdGVkVmFsdWUpKSB7XG4gICAgICAgIGNvbnN0IGZhbGxiYWNrT3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICAgIGZhbGxiYWNrT3B0aW9uLnZhbHVlID0gc2VsZWN0ZWRWYWx1ZTtcbiAgICAgICAgZmFsbGJhY2tPcHRpb24udGV4dENvbnRlbnQgPSBzZWxlY3RlZFZhbHVlO1xuICAgICAgICBjb2xsZWN0aW9uU2VsZWN0LmFwcGVuZENoaWxkKGZhbGxiYWNrT3B0aW9uKTtcbiAgICAgIH1cbiAgICAgIGRlc2lnbkNvbGxlY3Rpb25zLmZvckVhY2goKGNvbGxlY3Rpb24pID0+IHtcbiAgICAgICAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICAgIG9wdGlvbi52YWx1ZSA9IGNvbGxlY3Rpb24uaWQ7XG4gICAgICAgIGNvbnN0IGxhYmVsID0gY29sbGVjdGlvbi5uYW1lIHx8IGNvbGxlY3Rpb24uaWQ7XG4gICAgICAgIG9wdGlvbi50ZXh0Q29udGVudCA9IGNvbGxlY3Rpb24udHlwZSA/IGAke2xhYmVsfSBcdTAwQjcgJHtjb2xsZWN0aW9uLnR5cGV9YCA6IGxhYmVsO1xuICAgICAgICBvcHRpb24uZGF0YXNldC5kZXNjcmlwdGlvbiA9IGNvbGxlY3Rpb24uZGVzY3JpcHRpb24gfHwgJyc7XG4gICAgICAgIGNvbGxlY3Rpb25TZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uKTtcbiAgICAgIH0pO1xuICAgICAgaWYgKHNlbGVjdGVkVmFsdWUpIHtcbiAgICAgICAgY29sbGVjdGlvblNlbGVjdC52YWx1ZSA9IHNlbGVjdGVkVmFsdWU7XG4gICAgICB9XG4gICAgICBzeW5jQ29sbGVjdGlvblNlbGVjdGlvbkluZm8oY29sbGVjdGlvblNlbGVjdC52YWx1ZSB8fCAnJyk7XG4gICAgfTtcblxuICAgIGxvYWREZXNpZ25Db2xsZWN0aW9ucygpO1xuICAgIHN5bmNEcmF3ZXJTdGF0ZSgpO1xuXG4gICAgZHJhd2VyT3BlbkJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuRHJhd2VyKTtcbiAgICB9KTtcbiAgICBkcmF3ZXJDbG9zZUJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZURyYXdlcik7XG4gICAgfSk7XG4gICAgZHJhd2VyQmFja2Ryb3A/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VEcmF3ZXIpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCAoKSA9PiB7XG4gICAgICBzeW5jRHJhd2VyU3RhdGUoKTtcbiAgICAgIHVwZGF0ZURyYWdnYWJsZVN0YXRlKCk7XG4gICAgfSk7XG5cbiAgICBhZGRQYWdlVG9nZ2xlPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5BZGRQYWdlRm9ybSk7XG4gICAgYWRkUGFnZUNhbmNlbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZUFkZFBhZ2VGb3JtKTtcbiAgICBhZGRQYWdlVGl0bGU/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0Jywgc3luY1NsdWdGcm9tVGl0bGUpO1xuICAgIGFkZFBhZ2VTbHVnPy5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICAgIGFkZFBhZ2VFcnJvciAmJiAoYWRkUGFnZUVycm9yLnRleHRDb250ZW50ID0gJycpO1xuICAgICAgcGFnZVNsdWdNYW51YWxseUVkaXRlZCA9IHRydWU7XG4gICAgfSk7XG4gICAgYWRkUGFnZUZvcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmICghcGFnZXNBcGlCYXNlKSB7XG4gICAgICAgIGFkZFBhZ2VFcnJvciAmJiAoYWRkUGFnZUVycm9yLnRleHRDb250ZW50ID0gJ0F1Y3VuIHNpdGUgc1x1MDBFOWxlY3Rpb25uXHUwMEU5LicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWFkZFBhZ2VUaXRsZSB8fCAhYWRkUGFnZVNsdWcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgdGl0bGUgPSBhZGRQYWdlVGl0bGUudmFsdWUudHJpbSgpO1xuICAgICAgY29uc3Qgc2x1ZyA9IG5vcm1hbGl6ZVBhZ2VTbHVnKGFkZFBhZ2VTbHVnLnZhbHVlLnRyaW0oKSB8fCB0aXRsZSk7XG4gICAgICBpZiAoIXRpdGxlIHx8ICFzbHVnKSB7XG4gICAgICAgIGFkZFBhZ2VFcnJvciAmJiAoYWRkUGFnZUVycm9yLnRleHRDb250ZW50ID0gJ1RpdHJlIGV0IHNsdWcgc29udCByZXF1aXMuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGFkZFBhZ2VFcnJvciAmJiAoYWRkUGFnZUVycm9yLnRleHRDb250ZW50ID0gJycpO1xuICAgICAgaWYgKGFkZFBhZ2VTdWJtaXRCdXR0b24pIHtcbiAgICAgICAgYWRkUGFnZVN1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIGFkZFBhZ2VTdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSAnQ3JcdTAwRTlhdGlvbi4uLic7XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBjcmVhdGVkUGFnZSA9IGF3YWl0IGNyZWF0ZVBhZ2VPblNlcnZlcih7IHRpdGxlLCBzbHVnIH0pO1xuICAgICAgICBpZiAoIWNyZWF0ZWRQYWdlIHx8ICFjcmVhdGVkUGFnZS5pZCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUlx1MDBFOXBvbnNlIGludmFsaWRlLicpO1xuICAgICAgICB9XG4gICAgICAgIHBhZ2VzID0gWy4uLnBhZ2VzLCBub3JtYWxpemVQYWdlRGF0YShjcmVhdGVkUGFnZSldO1xuICAgICAgICBjbG9zZUFkZFBhZ2VGb3JtKCk7XG4gICAgICAgIHNob3dUb2FzdCgnUGFnZSBjclx1MDBFOVx1MDBFOWUnKTtcbiAgICAgICAgc2V0QWN0aXZlUGFnZShjcmVhdGVkUGFnZS5pZCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2Rlc2lnbl0gY3JlYXRlIHBhZ2UgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgYWRkUGFnZUVycm9yICYmIChhZGRQYWdlRXJyb3IudGV4dENvbnRlbnQgPSBlcnIubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBjclx1MDBFOWVyIGxhIHBhZ2UuJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoYWRkUGFnZVN1Ym1pdEJ1dHRvbikge1xuICAgICAgICAgIGFkZFBhZ2VTdWJtaXRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICBhZGRQYWdlU3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gJ0NyXHUwMEU5ZXInO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyA9PT0gSW1wb3J0IEpTT04gaGFuZGxlcnMgPT09XG4gICAgY29uc3Qgb3BlbkltcG9ydE1vZGFsID0gKCkgPT4ge1xuICAgICAgaWYgKCFpbXBvcnRNb2RhbCkgcmV0dXJuO1xuICAgICAgaW1wb3J0TW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBpbXBvcnRNb2RhbC5jbGFzc0xpc3QuYWRkKCdmbGV4Jyk7XG4gICAgICBpbXBvcnRTZWxlY3RlZEZpbGVzID0gW107XG4gICAgICB1cGRhdGVJbXBvcnRGaWxlTGlzdCgpO1xuICAgICAgaWYgKGltcG9ydFJlc3VsdHMpIGltcG9ydFJlc3VsdHMuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBpZiAoaW1wb3J0UmVzdWx0c0NvbnRlbnQpIGltcG9ydFJlc3VsdHNDb250ZW50LmlubmVySFRNTCA9ICcnO1xuICAgICAgaWYgKGltcG9ydFN1Ym1pdCkgaW1wb3J0U3VibWl0LmRpc2FibGVkID0gdHJ1ZTtcbiAgICB9O1xuICAgIGNvbnN0IGNsb3NlSW1wb3J0TW9kYWwgPSAoKSA9PiB7XG4gICAgICBpZiAoIWltcG9ydE1vZGFsKSByZXR1cm47XG4gICAgICBpbXBvcnRNb2RhbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGltcG9ydE1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2ZsZXgnKTtcbiAgICAgIGltcG9ydFNlbGVjdGVkRmlsZXMgPSBbXTtcbiAgICB9O1xuICAgIGNvbnN0IHVwZGF0ZUltcG9ydEZpbGVMaXN0ID0gKCkgPT4ge1xuICAgICAgaWYgKCFpbXBvcnRGaWxlTGlzdCB8fCAhaW1wb3J0RmlsZU5hbWVzKSByZXR1cm47XG4gICAgICBpZiAoaW1wb3J0U2VsZWN0ZWRGaWxlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgaW1wb3J0RmlsZUxpc3QuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIGlmIChpbXBvcnRTdWJtaXQpIGltcG9ydFN1Ym1pdC5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGltcG9ydEZpbGVMaXN0LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgaW1wb3J0RmlsZU5hbWVzLmlubmVySFRNTCA9IGltcG9ydFNlbGVjdGVkRmlsZXNcbiAgICAgICAgLm1hcCgoZikgPT4gYDxsaSBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+PHNwYW4gY2xhc3M9XCJ0ZXh0LWxnXCI+XHVEODNEXHVEQ0M0PC9zcGFuPiR7Zi5uYW1lfTwvbGk+YClcbiAgICAgICAgLmpvaW4oJycpO1xuICAgICAgaWYgKGltcG9ydFN1Ym1pdCkgaW1wb3J0U3VibWl0LmRpc2FibGVkID0gZmFsc2U7XG4gICAgfTtcbiAgICBjb25zdCBoYW5kbGVJbXBvcnRGaWxlcyA9IChmaWxlcykgPT4ge1xuICAgICAgY29uc3QganNvbkZpbGVzID0gQXJyYXkuZnJvbShmaWxlcykuZmlsdGVyKFxuICAgICAgICAoZikgPT4gZi50eXBlID09PSAnYXBwbGljYXRpb24vanNvbicgfHwgZi5uYW1lLmVuZHNXaXRoKCcuanNvbicpXG4gICAgICApO1xuICAgICAgaWYgKGpzb25GaWxlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgc2hvd1RvYXN0KCdBdWN1biBmaWNoaWVyIEpTT04gdmFsaWRlLicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpbXBvcnRTZWxlY3RlZEZpbGVzID0ganNvbkZpbGVzO1xuICAgICAgdXBkYXRlSW1wb3J0RmlsZUxpc3QoKTtcbiAgICB9O1xuICAgIGNvbnN0IGV4ZWN1dGVJbXBvcnQgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXBhZ2VzQXBpQmFzZSB8fCBpbXBvcnRTZWxlY3RlZEZpbGVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICAgICAgaWYgKGltcG9ydFN1Ym1pdCkge1xuICAgICAgICBpbXBvcnRTdWJtaXQuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICBpbXBvcnRTdWJtaXQudGV4dENvbnRlbnQgPSAnSW1wb3J0Li4uJztcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHBhZ2VzRGF0YSA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IGZpbGUgb2YgaW1wb3J0U2VsZWN0ZWRGaWxlcykge1xuICAgICAgICAgIGNvbnN0IHRleHQgPSBhd2FpdCBmaWxlLnRleHQoKTtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcGFyc2VkID0gSlNPTi5wYXJzZSh0ZXh0KTtcbiAgICAgICAgICAgIC8vIFN1cHBvcnQgc2luZ2xlIHBhZ2Ugb3IgYXJyYXkgb2YgcGFnZXNcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHBhcnNlZCkpIHtcbiAgICAgICAgICAgICAgcGFnZXNEYXRhLnB1c2goLi4ucGFyc2VkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBhZ2VzRGF0YS5wdXNoKHBhcnNlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCAocGFyc2VFcnIpIHtcbiAgICAgICAgICAgIHNob3dUb2FzdChgRXJyZXVyIEpTT04gZGFucyAke2ZpbGUubmFtZX1gKTtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tpbXBvcnRdIHBhcnNlIGVycm9yJywgZmlsZS5uYW1lLCBwYXJzZUVycik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChwYWdlc0RhdGEubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgc2hvd1RvYXN0KCdBdWN1bmUgcGFnZSB2YWxpZGUgXHUwMEUwIGltcG9ydGVyLicpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke3BhZ2VzQXBpQmFzZX0vaW1wb3J0YCwge1xuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZScsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGFnZXNEYXRhKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQubWVzc2FnZSB8fCAnRXJyZXVyIHNlcnZldXInKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTaG93IHJlc3VsdHNcbiAgICAgICAgaWYgKGltcG9ydFJlc3VsdHMgJiYgaW1wb3J0UmVzdWx0c0NvbnRlbnQpIHtcbiAgICAgICAgICBpbXBvcnRSZXN1bHRzLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgIGxldCBodG1sID0gJyc7XG4gICAgICAgICAgaWYgKHJlc3VsdC5pbXBvcnRlZCAmJiByZXN1bHQuaW1wb3J0ZWQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgaHRtbCArPSBgPHAgY2xhc3M9XCJ0ZXh0LWdyZWVuLTcwMFwiPlx1MjcxMyAke3Jlc3VsdC5pbXBvcnRlZC5sZW5ndGh9IHBhZ2UocykgaW1wb3J0XHUwMEU5ZShzKTwvcD5gO1xuICAgICAgICAgICAgaHRtbCArPSAnPHVsIGNsYXNzPVwibWwtNCB0ZXh0LXhzIHRleHQtc2xhdGUtNjAwXCI+JztcbiAgICAgICAgICAgIHJlc3VsdC5pbXBvcnRlZC5mb3JFYWNoKChwKSA9PiB7XG4gICAgICAgICAgICAgIGh0bWwgKz0gYDxsaT4ke3AudGl0bGV9ICgke3AuYWN0aW9uID09PSAndXBkYXRlZCcgPyAnbWlzZSBcdTAwRTAgam91cicgOiAnY3JcdTAwRTlcdTAwRTllJ30pPC9saT5gO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBodG1sICs9ICc8L3VsPic7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChyZXN1bHQuZXJyb3JzICYmIHJlc3VsdC5lcnJvcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgaHRtbCArPSBgPHAgY2xhc3M9XCJ0ZXh0LXJvc2UtNjAwIG10LTJcIj5cdTI3MTcgJHtyZXN1bHQuZXJyb3JzLmxlbmd0aH0gZXJyZXVyKHMpPC9wPmA7XG4gICAgICAgICAgICBodG1sICs9ICc8dWwgY2xhc3M9XCJtbC00IHRleHQteHMgdGV4dC1yb3NlLTUwMFwiPic7XG4gICAgICAgICAgICByZXN1bHQuZXJyb3JzLmZvckVhY2goKGUpID0+IHtcbiAgICAgICAgICAgICAgaHRtbCArPSBgPGxpPiR7ZS50aXRsZX06ICR7ZS5lcnJvcn08L2xpPmA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGh0bWwgKz0gJzwvdWw+JztcbiAgICAgICAgICB9XG4gICAgICAgICAgaW1wb3J0UmVzdWx0c0NvbnRlbnQuaW5uZXJIVE1MID0gaHRtbDtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZWxvYWQgcGFnZXMgbGlzdFxuICAgICAgICBpZiAocmVzdWx0LmltcG9ydGVkICYmIHJlc3VsdC5pbXBvcnRlZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY29uc3QgZnJlc2hQYWdlcyA9IGF3YWl0IGZldGNoUGFnZXNGcm9tU2VydmVyKCk7XG4gICAgICAgICAgcGFnZXMgPSBmcmVzaFBhZ2VzO1xuICAgICAgICAgIHJlbmRlclBhZ2VMaXN0cyhwYWdlcywgYWN0aXZlUGFnZUlkKTtcbiAgICAgICAgICBpZiAocGFnZXMubGVuZ3RoID4gMCAmJiAhYWN0aXZlUGFnZUlkKSB7XG4gICAgICAgICAgICBzZXRBY3RpdmVQYWdlKHBhZ2VzWzBdLmlkKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2hvd1RvYXN0KGAke3Jlc3VsdC5pbXBvcnRlZC5sZW5ndGh9IHBhZ2UocykgaW1wb3J0XHUwMEU5ZShzKWApO1xuICAgICAgICB9XG4gICAgICAgIGltcG9ydFNlbGVjdGVkRmlsZXMgPSBbXTtcbiAgICAgICAgdXBkYXRlSW1wb3J0RmlsZUxpc3QoKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbaW1wb3J0XSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBpbXBvcnQnKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmIChpbXBvcnRTdWJtaXQpIHtcbiAgICAgICAgICBpbXBvcnRTdWJtaXQuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICBpbXBvcnRTdWJtaXQudGV4dENvbnRlbnQgPSAnSW1wb3J0ZXInO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICBpbXBvcnRUb2dnbGU/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlbkltcG9ydE1vZGFsKTtcbiAgICBpbXBvcnRDbG9zZUJ1dHRvbnMuZm9yRWFjaCgoYnRuKSA9PiBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZUltcG9ydE1vZGFsKSk7XG4gICAgaW1wb3J0TW9kYWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGlmIChlLnRhcmdldCA9PT0gaW1wb3J0TW9kYWwpIGNsb3NlSW1wb3J0TW9kYWwoKTtcbiAgICB9KTtcbiAgICBpbXBvcnRGaWxlSW5wdXQ/LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIChlKSA9PiB7XG4gICAgICBoYW5kbGVJbXBvcnRGaWxlcyhlLnRhcmdldC5maWxlcyk7XG4gICAgfSk7XG4gICAgaW1wb3J0RHJvcHpvbmU/LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGltcG9ydERyb3B6b25lLmNsYXNzTGlzdC5hZGQoJ2JvcmRlci1bIzlDNkJGRl0nLCAnYmctWyM5QzZCRkZdLzEwJyk7XG4gICAgfSk7XG4gICAgaW1wb3J0RHJvcHpvbmU/LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdsZWF2ZScsIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpbXBvcnREcm9wem9uZS5jbGFzc0xpc3QucmVtb3ZlKCdib3JkZXItWyM5QzZCRkZdJywgJ2JnLVsjOUM2QkZGXS8xMCcpO1xuICAgIH0pO1xuICAgIGltcG9ydERyb3B6b25lPy5hZGRFdmVudExpc3RlbmVyKCdkcm9wJywgKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGltcG9ydERyb3B6b25lLmNsYXNzTGlzdC5yZW1vdmUoJ2JvcmRlci1bIzlDNkJGRl0nLCAnYmctWyM5QzZCRkZdLzEwJyk7XG4gICAgICBoYW5kbGVJbXBvcnRGaWxlcyhlLmRhdGFUcmFuc2Zlci5maWxlcyk7XG4gICAgfSk7XG4gICAgaW1wb3J0U3VibWl0Py5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGV4ZWN1dGVJbXBvcnQpO1xuICAgIC8vIEltcG9ydCB0YWJzXG4gICAgaW1wb3J0VGFicy5mb3JFYWNoKCh0YWIpID0+IHtcbiAgICAgIHRhYi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgY29uc3QgdGFyZ2V0UGFuZWwgPSB0YWIuZGF0YXNldC5pbXBvcnRUYWI7XG4gICAgICAgIGltcG9ydFRhYnMuZm9yRWFjaCgodCkgPT4ge1xuICAgICAgICAgIGlmICh0LmRhdGFzZXQuaW1wb3J0VGFiID09PSB0YXJnZXRQYW5lbCkge1xuICAgICAgICAgICAgdC5jbGFzc0xpc3QuYWRkKCdiZy1bIzlDNkJGRl0nLCAndGV4dC13aGl0ZScpO1xuICAgICAgICAgICAgdC5jbGFzc0xpc3QucmVtb3ZlKCdib3JkZXInLCAnYm9yZGVyLXNsYXRlLTIwMCcsICd0ZXh0LXNsYXRlLTcwMCcpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0LmNsYXNzTGlzdC5yZW1vdmUoJ2JnLVsjOUM2QkZGXScsICd0ZXh0LXdoaXRlJyk7XG4gICAgICAgICAgICB0LmNsYXNzTGlzdC5hZGQoJ2JvcmRlcicsICdib3JkZXItc2xhdGUtMjAwJywgJ3RleHQtc2xhdGUtNzAwJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaW1wb3J0UGFuZWxzLmZvckVhY2goKHApID0+IHtcbiAgICAgICAgICBpZiAocC5kYXRhc2V0LmltcG9ydFBhbmVsID09PSB0YXJnZXRQYW5lbCkge1xuICAgICAgICAgICAgcC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgY29weVRlbXBsYXRlQnRuPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghdGVtcGxhdGVKc29uKSByZXR1cm47XG4gICAgICBjb25zdCB0ZXh0ID0gdGVtcGxhdGVKc29uLnRleHRDb250ZW50IHx8ICcnO1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQodGV4dCk7XG4gICAgICAgIHNob3dUb2FzdCgnVGVtcGxhdGUgY29waVx1MDBFOSAhJyk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2ltcG9ydF0gY29weSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoJ0VycmV1ciBjb3BpZScpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gRGVsZXRlIHBhZ2UgbW9kYWwgbGlzdGVuZXJzXG4gICAgZGVsZXRlUGFnZUNhbmNlbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZURlbGV0ZVBhZ2VNb2RhbCk7XG4gICAgZGVsZXRlUGFnZUNvbmZpcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZXhlY3V0ZURlbGV0ZVBhZ2UpO1xuICAgIGRlbGV0ZVBhZ2VNb2RhbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgaWYgKGUudGFyZ2V0ID09PSBkZWxldGVQYWdlTW9kYWwpIGNsb3NlRGVsZXRlUGFnZU1vZGFsKCk7XG4gICAgfSk7XG5cbiAgICBibG9ja0xpYnJhcnlUb2dnbGU/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIHRvZ2dsZUJsb2NrTGlicmFyeSgpO1xuICAgIH0pO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoIWJsb2NrTGlicmFyeU9wZW4pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKFxuICAgICAgICBibG9ja0xpYnJhcnk/LmNvbnRhaW5zKGV2ZW50LnRhcmdldCkgfHxcbiAgICAgICAgYmxvY2tMaWJyYXJ5VG9nZ2xlPy5jb250YWlucyhldmVudC50YXJnZXQpXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY2xvc2VCbG9ja0xpYnJhcnkoKTtcbiAgICB9KTtcbiAgICBibG9ja0FkZEJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGNvbnN0IHR5cGUgPSBidXR0b24uZGF0YXNldC5ibG9ja0FkZDtcbiAgICAgICAgYWRkQmxvY2tGcm9tTGlicmFyeSh0eXBlKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGJsb2NrRGVsZXRlQ2FuY2VsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNsb3NlQmxvY2tEZWxldGVNb2RhbCgpO1xuICAgIH0pO1xuICAgIGJsb2NrRGVsZXRlQ29uZmlybT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBpZiAocGVuZGluZ0RlbGV0ZUJsb2NrSWQpIHtcbiAgICAgICAgZGVsZXRlQmxvY2tCeUlkKHBlbmRpbmdEZWxldGVCbG9ja0lkKTtcbiAgICAgIH1cbiAgICAgIGNsb3NlQmxvY2tEZWxldGVNb2RhbCgpO1xuICAgIH0pO1xuICAgIGJsb2NrRGVsZXRlTW9kYWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSBibG9ja0RlbGV0ZU1vZGFsKSB7XG4gICAgICAgIGNsb3NlQmxvY2tEZWxldGVNb2RhbCgpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGJsb2NrRm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICAgIGlmICghdGFyZ2V0IHx8ICF0YXJnZXQubmFtZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAodGFyZ2V0Lm5hbWUgPT09ICdncm91cC1jb2x1bW5zLW1vYmlsZScgfHwgdGFyZ2V0Lm5hbWUgPT09ICdncm91cC1jb2x1bW5zLWRlc2t0b3AnKSB7XG4gICAgICAgIGNvbnN0IG1vYmlsZVZhbHVlID1cbiAgICAgICAgICBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJncm91cC1jb2x1bW5zLW1vYmlsZVwiXScpPy52YWx1ZSB8fCAnMSc7XG4gICAgICAgIGNvbnN0IGRlc2t0b3BWYWx1ZSA9XG4gICAgICAgICAgYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZ3JvdXAtY29sdW1ucy1kZXNrdG9wXCJdJyk/LnZhbHVlIHx8ICczJztcbiAgICAgICAgdXBkYXRlR3JvdXBNaW5pUHJldmlldyhtb2JpbGVWYWx1ZSwgZGVza3RvcFZhbHVlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBjb2xsZWN0aW9uU2VsZWN0Py5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICAgIHN5bmNDb2xsZWN0aW9uU2VsZWN0aW9uSW5mbyh0YXJnZXQ/LnZhbHVlIHx8ICcnKTtcbiAgICB9KTtcbiAgICBibG9ja0Zvcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGhhbmRsZUJsb2NrRm9ybVN1Ym1pdCk7XG4gICAgYmxvY2tGb3JtQ2FuY2VsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGNvbnN0IGJsb2NrID0gZ2V0QWN0aXZlQmxvY2soKTtcbiAgICAgIGlmIChibG9jaykge1xuICAgICAgICBwb3B1bGF0ZUJsb2NrRm9ybShibG9jayk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcHJldmlld0ZyYW1lPy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xuICAgICAgcHJldmlld1JlYWR5ID0gdHJ1ZTtcbiAgICAgIHVwZGF0ZVByZXZpZXdTdGF0dXMoJ1x1MDBDMCBqb3VyJyk7XG4gICAgICBhcHBseVByZXZpZXdIaWdobGlnaHQoYWN0aXZlQmxvY2tJZCk7XG4gICAgfSk7XG4gICAgcHJldmlld09wZW5CdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgcHJldmlld1dpbmRvdyA9IHdpbmRvdy5vcGVuKCcnLCAnX2JsYW5rJyk7XG4gICAgICBpZiAoIXByZXZpZXdXaW5kb3cpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcHJldmlld1dpbmRvdy5vcGVuZXIgPSBudWxsO1xuICAgICAgY29uc3QgZG9jID0gcHJldmlld1dpbmRvdy5kb2N1bWVudDtcbiAgICAgIGRvYy5vcGVuKCk7XG4gICAgICBkb2Mud3JpdGUobGF0ZXN0UHJldmlld0h0bWwgfHwgZ2V0TG9hZGluZ1ByZXZpZXdIdG1sKCkpO1xuICAgICAgZG9jLmNsb3NlKCk7XG4gICAgfSk7XG5cbiAgICAvLyBTRU8gcGFuZWwgbG9naWNcbiAgICBjb25zdCB0b2dnbGVTZW9QYW5lbCA9IChzaG93KSA9PiB7XG4gICAgICBpZiAoIXNlb1BhbmVsKSByZXR1cm47XG4gICAgICBpZiAoc2hvdykge1xuICAgICAgICBzZW9QYW5lbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgLy8gUG9wdWxhdGUgZmllbGRzIHdpdGggY3VycmVudCBwYWdlIFNFTyBkYXRhXG4gICAgICAgIGlmIChjdXJyZW50UGFnZSkge1xuICAgICAgICAgIHNlb1RpdGxlSW5wdXQgJiYgKHNlb1RpdGxlSW5wdXQudmFsdWUgPSBjdXJyZW50UGFnZS5zZW8/LnRpdGxlIHx8ICcnKTtcbiAgICAgICAgICBzZW9EZXNjcmlwdGlvbklucHV0ICYmIChzZW9EZXNjcmlwdGlvbklucHV0LnZhbHVlID0gY3VycmVudFBhZ2Uuc2VvPy5kZXNjcmlwdGlvbiB8fCAnJyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNlb1BhbmVsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3Qgc2V0U2VvRmVlZGJhY2sgPSAobWVzc2FnZSwgdG9uZSA9ICdtdXRlZCcpID0+IHtcbiAgICAgIGlmICghc2VvRmVlZGJhY2spIHJldHVybjtcbiAgICAgIGNvbnN0IGNvbG9yID0gdG9uZSA9PT0gJ3N1Y2Nlc3MnID8gJ3RleHQtZW1lcmFsZC02MDAnIDogdG9uZSA9PT0gJ2Vycm9yJyA/ICd0ZXh0LXJvc2UtNjAwJyA6ICd0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICBzZW9GZWVkYmFjay50ZXh0Q29udGVudCA9IG1lc3NhZ2UgfHwgJyc7XG4gICAgICBzZW9GZWVkYmFjay5jbGFzc05hbWUgPSBgdGV4dC1zbSAke2NvbG9yfWA7XG4gICAgfTtcbiAgICBzZW9Ub2dnbGVCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgaXNWaXNpYmxlID0gc2VvUGFuZWwgJiYgIXNlb1BhbmVsLmNsYXNzTGlzdC5jb250YWlucygnaGlkZGVuJyk7XG4gICAgICB0b2dnbGVTZW9QYW5lbCghaXNWaXNpYmxlKTtcbiAgICB9KTtcbiAgICBzZW9DbG9zZUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0b2dnbGVTZW9QYW5lbChmYWxzZSkpO1xuICAgIHNlb0Zvcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmICghY3VycmVudFBhZ2UpIHtcbiAgICAgICAgc2V0U2VvRmVlZGJhY2soJ0F1Y3VuZSBwYWdlIGFjdGl2ZS4nLCAnZXJyb3InKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2VvU2F2ZUJ1dHRvbiAmJiAoc2VvU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWUpO1xuICAgICAgc2V0U2VvRmVlZGJhY2soJycpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgc2VvRGF0YSA9IHtcbiAgICAgICAgICB0aXRsZTogKHNlb1RpdGxlSW5wdXQ/LnZhbHVlIHx8ICcnKS50cmltKCksXG4gICAgICAgICAgZGVzY3JpcHRpb246IChzZW9EZXNjcmlwdGlvbklucHV0Py52YWx1ZSB8fCAnJykudHJpbSgpLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCB1cGRhdGVkUGFnZSA9IHsgLi4uY3VycmVudFBhZ2UsIHNlbzogc2VvRGF0YSB9O1xuICAgICAgICBjb25zdCBzYXZlZCA9IGF3YWl0IHNhdmVQYWdlVG9TZXJ2ZXIodXBkYXRlZFBhZ2UpO1xuICAgICAgICBpZiAoc2F2ZWQpIHtcbiAgICAgICAgICBjdXJyZW50UGFnZSA9IHNhdmVkO1xuICAgICAgICAgIHNldFNlb0ZlZWRiYWNrKCdTRU8gZW5yZWdpc3RyXHUwMEU5LicsICdzdWNjZXNzJyk7XG4gICAgICAgICAgc2hvd1RvYXN0KCdTRU8gbWlzIFx1MDBFMCBqb3VyJyk7XG4gICAgICAgICAgcmVmcmVzaFByZXZpZXcoY3VycmVudFBhZ2UpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW3Nlb10gc2F2ZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzZXRTZW9GZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZGUgbGEgc2F1dmVnYXJkZS4nLCAnZXJyb3InKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNlb1NhdmVCdXR0b24gJiYgKHNlb1NhdmVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBjb25zdCBoYW5kbGVCbG9ja0RyYWdTdGFydCA9IChldmVudCkgPT4ge1xuICAgICAgY29uc3QgaXRlbSA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCdbZGF0YS1ibG9jay1pdGVtXScpO1xuICAgICAgaWYgKCFpdGVtIHx8ICFpc0Rlc2t0b3BSZW9yZGVyKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZHJhZ1NvdXJjZUlkID0gaXRlbS5kYXRhc2V0LmJsb2NrSWQgfHwgbnVsbDtcbiAgICAgIGlmICghZHJhZ1NvdXJjZUlkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGV2ZW50LmRhdGFUcmFuc2Zlci5lZmZlY3RBbGxvd2VkID0gJ21vdmUnO1xuICAgICAgZXZlbnQuZGF0YVRyYW5zZmVyLnNldERhdGEoJ3RleHQvcGxhaW4nLCBkcmFnU291cmNlSWQpO1xuICAgICAgaXRlbS5jbGFzc0xpc3QuYWRkKCdvcGFjaXR5LTUwJyk7XG4gICAgfTtcbiAgICBjb25zdCBjbGVhckRyYWdJbmRpY2F0b3JzID0gKCkgPT4ge1xuICAgICAgYmxvY2tMaXN0XG4gICAgICAgID8ucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYmxvY2staXRlbV0nKVxuICAgICAgICAuZm9yRWFjaCgobm9kZSkgPT4gbm9kZS5jbGFzc0xpc3QucmVtb3ZlKCdvcGFjaXR5LTUwJywgJ3JpbmctMicsICdyaW5nLVsjOUM2QkZGXS81MCcpKTtcbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZUJsb2NrRHJhZ0VuZCA9ICgpID0+IHtcbiAgICAgIGRyYWdTb3VyY2VJZCA9IG51bGw7XG4gICAgICBjbGVhckRyYWdJbmRpY2F0b3JzKCk7XG4gICAgfTtcbiAgICBjb25zdCBoYW5kbGVCbG9ja0RyYWdPdmVyID0gKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoIWRyYWdTb3VyY2VJZCB8fCAhaXNEZXNrdG9wUmVvcmRlcigpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCdbZGF0YS1ibG9jay1pdGVtXScpO1xuICAgICAgaWYgKCF0YXJnZXQgfHwgdGFyZ2V0LmRhdGFzZXQuYmxvY2tJZCA9PT0gZHJhZ1NvdXJjZUlkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0YXJnZXQuY2xhc3NMaXN0LmFkZCgncmluZy0yJywgJ3JpbmctWyM5QzZCRkZdLzUwJyk7XG4gICAgfTtcbiAgICBjb25zdCBoYW5kbGVCbG9ja0RyYWdMZWF2ZSA9IChldmVudCkgPT4ge1xuICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLWJsb2NrLWl0ZW1dJyk7XG4gICAgICBpZiAoIXRhcmdldCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0YXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgncmluZy0yJywgJ3JpbmctWyM5QzZCRkZdLzUwJyk7XG4gICAgfTtcbiAgICBjb25zdCBoYW5kbGVCbG9ja0Ryb3AgPSAoZXZlbnQpID0+IHtcbiAgICAgIGlmICghZHJhZ1NvdXJjZUlkIHx8ICFpc0Rlc2t0b3BSZW9yZGVyKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCdbZGF0YS1ibG9jay1pdGVtXScpO1xuICAgICAgY29uc3Qgc291cmNlID0gZHJhZ1NvdXJjZUlkO1xuICAgICAgZHJhZ1NvdXJjZUlkID0gbnVsbDtcbiAgICAgIGNsZWFyRHJhZ0luZGljYXRvcnMoKTtcbiAgICAgIGNvbnN0IHRhcmdldElkID0gdGFyZ2V0Py5kYXRhc2V0LmJsb2NrSWQgfHwgbnVsbDtcbiAgICAgIGlmICghdGFyZ2V0SWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcmVvcmRlckJsb2Nrcyhzb3VyY2UsIHRhcmdldElkKTtcbiAgICB9O1xuICAgIGxldCBkcmFnU291cmNlSWQgPSBudWxsO1xuICAgIGJsb2NrTGlzdD8uYWRkRXZlbnRMaXN0ZW5lcignZHJhZ3N0YXJ0JywgaGFuZGxlQmxvY2tEcmFnU3RhcnQpO1xuICAgIGJsb2NrTGlzdD8uYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2VuZCcsIGhhbmRsZUJsb2NrRHJhZ0VuZCk7XG4gICAgYmxvY2tMaXN0Py5hZGRFdmVudExpc3RlbmVyKCdkcmFnb3ZlcicsIGhhbmRsZUJsb2NrRHJhZ092ZXIpO1xuICAgIGJsb2NrTGlzdD8uYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2xlYXZlJywgaGFuZGxlQmxvY2tEcmFnTGVhdmUpO1xuICAgIGJsb2NrTGlzdD8uYWRkRXZlbnRMaXN0ZW5lcignZHJvcCcsIGhhbmRsZUJsb2NrRHJvcCk7XG4gICAgbG9hZFBhZ2VzRnJvbVNlcnZlcigpO1xuICB9XG5cbiAgZnVuY3Rpb24gaW5pdENvbnRlbnRXb3Jrc3BhY2UoKSB7XG4gICAgY29uc3QgY29sbGVjdGlvbkxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xsZWN0aW9uLWxpc3RdJyk7XG4gICAgaWYgKCFjb2xsZWN0aW9uTGlzdCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBjb2xsZWN0aW9uRW1wdHlTdGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbGxlY3Rpb24tZW1wdHldJyk7XG4gICAgY29uc3QgY29sbGVjdGlvbkl0ZW1zRW1wdHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xsZWN0aW9uLWl0ZW1zLWVtcHR5XScpO1xuICAgIGNvbnN0IGl0ZW1UYWJsZVdyYXBwZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLXRhYmxlLXdyYXBwZXJdJyk7XG4gICAgY29uc3QgaXRlbVRhYmxlQm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tdGFibGUtYm9keV0nKTtcbiAgICBjb25zdCBjb2xsZWN0aW9uVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xsZWN0aW9uLXRpdGxlXScpO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25EZXNjcmlwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbGxlY3Rpb24tZGVzY3JpcHRpb25dJyk7XG4gICAgY29uc3QgY29sbGVjdGlvbkRyYXdlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbGxlY3Rpb24tZHJhd2VyXScpO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25EcmF3ZXJCYWNrZHJvcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbGxlY3Rpb24tZHJhd2VyLWJhY2tkcm9wXScpO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25EcmF3ZXJPcGVuQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWNvbGxlY3Rpb24tZHJhd2VyLW9wZW5dJyk7XG4gICAgY29uc3QgY29sbGVjdGlvbkRyYXdlckNsb3NlQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWNvbGxlY3Rpb24tZHJhd2VyLWNsb3NlXScpO1xuICAgIGNvbnN0IGl0ZW1BZGRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLWFkZF0nKTtcbiAgICBjb25zdCBpdGVtRGV0YWlsRW1wdHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLWRldGFpbC1lbXB0eV0nKTtcbiAgICBjb25zdCBpdGVtRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tZm9ybV0nKTtcbiAgICBjb25zdCBpdGVtRm9ybUZpZWxkcyA9IGl0ZW1Gb3JtXG4gICAgICA/IHtcbiAgICAgICAgICB0aXRsZTogaXRlbUZvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJpdGVtLXRpdGxlXCJdJyksXG4gICAgICAgICAgc2x1ZzogaXRlbUZvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJpdGVtLXNsdWdcIl0nKSxcbiAgICAgICAgICBleGNlcnB0OiBpdGVtRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cIml0ZW0tZXhjZXJwdFwiXScpLFxuICAgICAgICAgIGNvbnRlbnQ6IGl0ZW1Gb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaXRlbS1jb250ZW50XCJdJyksXG4gICAgICAgICAgaW1hZ2U6IGl0ZW1Gb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaXRlbS1pbWFnZVwiXScpLFxuICAgICAgICAgIHN0YXR1czogaXRlbUZvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJpdGVtLXN0YXR1c1wiXScpLFxuICAgICAgICB9XG4gICAgICA6IHt9O1xuICAgIGNvbnN0IGl0ZW1TdGF0dXNCYWRnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tc3RhdHVzLWJhZGdlXScpO1xuICAgIGNvbnN0IGl0ZW1EZWxldGVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLWRlbGV0ZV0nKTtcbiAgICBjb25zdCBpdGVtRGVsZXRlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLWRlbGV0ZS1tb2RhbF0nKTtcbiAgICBjb25zdCBpdGVtRGVsZXRlQ2FuY2VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS1kZWxldGUtY2FuY2VsXScpO1xuICAgIGNvbnN0IGl0ZW1EZWxldGVDb25maXJtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS1kZWxldGUtY29uZmlybV0nKTtcbiAgICBjb25zdCBpdGVtRm9ybUNhbmNlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tY2FuY2VsXScpO1xuICAgIGNvbnN0IGl0ZW1Gb3JtU2F2ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tc2F2ZV0nKTtcbiAgICBjb25zdCBzdGF0dXNCYWRnZUJhc2VDbGFzcyA9ICdyb3VuZGVkLWZ1bGwgcHgtMyBweS0xIHRleHQteHMgZm9udC1zZW1pYm9sZCc7XG5cbiAgICBjb25zdCBzYWZlU2l0ZVNsdWdWYWx1ZSA9IHN0cmlwTGVhZGluZ1NsYXNoKFxuICAgICAgd29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyxcbiAgICApO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25zQXBpQmFzZSA9IHNhZmVTaXRlU2x1Z1ZhbHVlXG4gICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Z1ZhbHVlKX0vY29sbGVjdGlvbnNgXG4gICAgICA6IG51bGw7XG5cbiAgICBsZXQgY29sbGVjdGlvbnMgPSBbXTtcbiAgICBsZXQgY29sbGVjdGlvbkl0ZW1zID0gW107XG4gICAgbGV0IGFjdGl2ZUNvbGxlY3Rpb25JZCA9IG51bGw7XG4gICAgbGV0IGFjdGl2ZUl0ZW1JZCA9IG51bGw7XG4gICAgbGV0IGlzQ3JlYXRpbmdJdGVtID0gZmFsc2U7XG4gICAgbGV0IGl0ZW1TbHVnTWFudWFsbHlFZGl0ZWQgPSBmYWxzZTtcbiAgICBsZXQgcGVuZGluZ0RlbGV0ZUl0ZW1JZCA9IG51bGw7XG5cbiAgICBjb25zdCBvcGVuQ29sbGVjdGlvbkRyYXdlciA9ICgpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvbkRyYXdlcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb2xsZWN0aW9uRHJhd2VyLmNsYXNzTGlzdC5hZGQoJ2lzLW9wZW4nKTtcbiAgICAgIGNvbGxlY3Rpb25EcmF3ZXIuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVgoMCknO1xuICAgICAgY29sbGVjdGlvbkRyYXdlckJhY2tkcm9wPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnb3ZlcmZsb3ctaGlkZGVuJyk7XG4gICAgfTtcblxuICAgIGNvbnN0IGNsb3NlQ29sbGVjdGlvbkRyYXdlciA9ICgpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvbkRyYXdlcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb2xsZWN0aW9uRHJhd2VyLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLW9wZW4nKTtcbiAgICAgIGNvbGxlY3Rpb25EcmF3ZXIuc3R5bGUudHJhbnNmb3JtID0gJyc7XG4gICAgICBjb2xsZWN0aW9uRHJhd2VyQmFja2Ryb3A/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICB9O1xuXG4gICAgY29sbGVjdGlvbkRyYXdlck9wZW5CdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlbkNvbGxlY3Rpb25EcmF3ZXIpO1xuICAgIH0pO1xuICAgIGNvbGxlY3Rpb25EcmF3ZXJDbG9zZUJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZUNvbGxlY3Rpb25EcmF3ZXIpO1xuICAgIH0pO1xuICAgIGNvbGxlY3Rpb25EcmF3ZXJCYWNrZHJvcD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZUNvbGxlY3Rpb25EcmF3ZXIpO1xuXG4gICAgY29uc3Qgbm9ybWFsaXplSXRlbVNsdWdJbnB1dCA9ICh2YWx1ZSkgPT4ge1xuICAgICAgY29uc3QgcmF3ID0gKHZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICBpZiAoIXJhdykge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgICB9XG4gICAgICBpZiAocmF3ID09PSAnLycpIHtcbiAgICAgICAgcmV0dXJuICcvJztcbiAgICAgIH1cbiAgICAgIGNvbnN0IHNlZ21lbnRzID0gcmF3LnJlcGxhY2UoL15cXC8vLCAnJykuc3BsaXQoJy8nKTtcbiAgICAgIGNvbnN0IGNsZWFuZWRTZWdtZW50cyA9IHNlZ21lbnRzXG4gICAgICAgIC5tYXAoKHNlZ21lbnQpID0+IHdvcmtzcGFjZVNsdWdpZnkoc2VnbWVudCB8fCAnJykpXG4gICAgICAgIC5maWx0ZXIoKHNlZ21lbnQpID0+IHNlZ21lbnQubGVuZ3RoID4gMCk7XG4gICAgICBpZiAoIWNsZWFuZWRTZWdtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGAvJHtjbGVhbmVkU2VnbWVudHMuam9pbignLycpfWA7XG4gICAgfTtcblxuICAgIGNvbnN0IGZvcm1hdEl0ZW1EYXRlID0gKHZhbHVlKSA9PiB7XG4gICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgIHJldHVybiAnXHUyMDE0JztcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSh2YWx1ZSk7XG4gICAgICBpZiAoTnVtYmVyLmlzTmFOKGRhdGUuZ2V0VGltZSgpKSkge1xuICAgICAgICByZXR1cm4gJ1x1MjAxNCc7XG4gICAgICB9XG4gICAgICByZXR1cm4gZGF0ZS50b0xvY2FsZURhdGVTdHJpbmcoJ2ZyLUZSJywgeyBkYXk6ICcyLWRpZ2l0JywgbW9udGg6ICdzaG9ydCcsIHllYXI6ICdudW1lcmljJyB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgdXBkYXRlQ29sbGVjdGlvbkhlYWRlciA9ICgpID0+IHtcbiAgICAgIGNvbnN0IGNvbGxlY3Rpb24gPSBjb2xsZWN0aW9ucy5maW5kKChlbnRyeSkgPT4gZW50cnkuaWQgPT09IGFjdGl2ZUNvbGxlY3Rpb25JZCk7XG4gICAgICBpZiAoY29sbGVjdGlvblRpdGxlKSB7XG4gICAgICAgIGNvbGxlY3Rpb25UaXRsZS50ZXh0Q29udGVudCA9IGNvbGxlY3Rpb24/Lm5hbWUgfHwgJ1NcdTAwRTlsZWN0aW9ubmV6IHVuZSBjb2xsZWN0aW9uJztcbiAgICAgIH1cbiAgICAgIGlmIChjb2xsZWN0aW9uRGVzY3JpcHRpb24pIHtcbiAgICAgICAgY29sbGVjdGlvbkRlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gY29sbGVjdGlvbj8uZGVzY3JpcHRpb24gfHwgJyc7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHVwZGF0ZUl0ZW1zRW1wdHlNZXNzYWdlID0gKG1lc3NhZ2UpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvbkl0ZW1zRW1wdHkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29sbGVjdGlvbkl0ZW1zRW1wdHkudGV4dENvbnRlbnQgPVxuICAgICAgICBtZXNzYWdlIHx8XG4gICAgICAgIChhY3RpdmVDb2xsZWN0aW9uSWRcbiAgICAgICAgICA/ICdBdWN1biBpdGVtIGRhbnMgY2V0dGUgY29sbGVjdGlvbiBwb3VyIGxlIG1vbWVudC4nXG4gICAgICAgICAgOiAnQ2hvaXNpc3NleiB1bmUgY29sbGVjdGlvbiBkYW5zIGxlIHBhbm5lYXUgZGUgZ2F1Y2hlLicpO1xuICAgIH07XG5cbiAgICBjb25zdCBoaWRlSXRlbUZvcm0gPSAoKSA9PiB7XG4gICAgICBpZiAoaXRlbUZvcm0pIHtcbiAgICAgICAgaXRlbUZvcm0uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIGl0ZW1Gb3JtLmRhdGFzZXQuaXRlbUlkID0gJyc7XG4gICAgICB9XG4gICAgICBpdGVtRGV0YWlsRW1wdHk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgaWYgKGl0ZW1TdGF0dXNCYWRnZSkge1xuICAgICAgICBpdGVtU3RhdHVzQmFkZ2UuY2xhc3NOYW1lID0gYGhpZGRlbiAke3N0YXR1c0JhZGdlQmFzZUNsYXNzfWA7XG4gICAgICAgIGl0ZW1TdGF0dXNCYWRnZS50ZXh0Q29udGVudCA9ICcnO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1EZWxldGVCdXR0b24pIHtcbiAgICAgICAgaXRlbURlbGV0ZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHNob3dJdGVtRm9ybSA9ICgpID0+IHtcbiAgICAgIGlmICghaXRlbUZvcm0pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaXRlbUZvcm0uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBpdGVtRGV0YWlsRW1wdHk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgIH07XG5cbiAgICBjb25zdCBzeW5jQWRkQnV0dG9uU3RhdGUgPSAoKSA9PiB7XG4gICAgICBpZiAoIWl0ZW1BZGRCdXR0b24pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaXRlbUFkZEJ1dHRvbi5kaXNhYmxlZCA9ICFhY3RpdmVDb2xsZWN0aW9uSWQ7XG4gICAgICBpZiAoaXRlbUFkZEJ1dHRvbi5kaXNhYmxlZCkge1xuICAgICAgICBpdGVtQWRkQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ29wYWNpdHktNjAnLCAncG9pbnRlci1ldmVudHMtbm9uZScpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaXRlbUFkZEJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdvcGFjaXR5LTYwJywgJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3Qgc3luY0l0ZW1TdGF0dXNCYWRnZSA9IChzdGF0dXMpID0+IHtcbiAgICAgIGlmICghaXRlbVN0YXR1c0JhZGdlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghc3RhdHVzKSB7XG4gICAgICAgIGl0ZW1TdGF0dXNCYWRnZS5jbGFzc05hbWUgPSBgaGlkZGVuICR7c3RhdHVzQmFkZ2VCYXNlQ2xhc3N9YDtcbiAgICAgICAgaXRlbVN0YXR1c0JhZGdlLnRleHRDb250ZW50ID0gJyc7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBzdGF0dXMudG9Mb3dlckNhc2UoKTtcbiAgICAgIGxldCBjb2xvckNsYXNzID0gJ2JnLXNsYXRlLTEwMCB0ZXh0LXNsYXRlLTYwMCBib3JkZXIgYm9yZGVyLXNsYXRlLTIwMCc7XG4gICAgICBpZiAobm9ybWFsaXplZCA9PT0gJ3B1YmxpXHUwMEU5JyB8fCBub3JtYWxpemVkID09PSAncHVibGllJykge1xuICAgICAgICBjb2xvckNsYXNzID0gJ2JnLWVtZXJhbGQtNTAgdGV4dC1lbWVyYWxkLTcwMCBib3JkZXIgYm9yZGVyLWVtZXJhbGQtMTAwJztcbiAgICAgIH0gZWxzZSBpZiAobm9ybWFsaXplZCA9PT0gJ2Jyb3VpbGxvbicpIHtcbiAgICAgICAgY29sb3JDbGFzcyA9ICdiZy1hbWJlci01MCB0ZXh0LWFtYmVyLTcwMCBib3JkZXIgYm9yZGVyLWFtYmVyLTEwMCc7XG4gICAgICB9XG4gICAgICBpdGVtU3RhdHVzQmFkZ2UuY2xhc3NOYW1lID0gYCR7c3RhdHVzQmFkZ2VCYXNlQ2xhc3N9ICR7Y29sb3JDbGFzc31gO1xuICAgICAgaXRlbVN0YXR1c0JhZGdlLnRleHRDb250ZW50ID0gc3RhdHVzO1xuICAgIH07XG5cbiAgICBjb25zdCByZW5kZXJDb2xsZWN0aW9uTGlzdCA9ICgpID0+IHtcbiAgICAgIGNvbGxlY3Rpb25MaXN0LmlubmVySFRNTCA9ICcnO1xuICAgICAgaWYgKCFjb2xsZWN0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgY29sbGVjdGlvbkVtcHR5U3RhdGU/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb2xsZWN0aW9uRW1wdHlTdGF0ZT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBjb2xsZWN0aW9ucy5mb3JFYWNoKChjb2xsZWN0aW9uKSA9PiB7XG4gICAgICAgIGNvbnN0IGlzQWN0aXZlID0gY29sbGVjdGlvbi5pZCA9PT0gYWN0aXZlQ29sbGVjdGlvbklkO1xuICAgICAgICBjb25zdCBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgYnV0dG9uLnR5cGUgPSAnYnV0dG9uJztcbiAgICAgICAgYnV0dG9uLmRhdGFzZXQuY29sbGVjdGlvbklkID0gY29sbGVjdGlvbi5pZDtcbiAgICAgICAgYnV0dG9uLmNsYXNzTmFtZSA9IFtcbiAgICAgICAgICAndy1mdWxsIHJvdW5kZWQteGwgYm9yZGVyIHB4LTMgcHktMiB0ZXh0LWxlZnQgdHJhbnNpdGlvbiBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctWyM5QzZCRkZdLzQwJyxcbiAgICAgICAgICBpc0FjdGl2ZVxuICAgICAgICAgICAgPyAnYmctWyNGN0YwRkZdIGJvcmRlci1bIzlDNkJGRl0vNDAgdGV4dC1zbGF0ZS05MDAnXG4gICAgICAgICAgICA6ICdib3JkZXItc2xhdGUtMjAwIHRleHQtc2xhdGUtNzAwIGhvdmVyOmJvcmRlci1bIzlDNkJGRl0vNDAnLFxuICAgICAgICBdLmpvaW4oJyAnKTtcbiAgICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZSgncm9sZScsICdvcHRpb24nKTtcbiAgICAgICAgaWYgKGlzQWN0aXZlKSB7XG4gICAgICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZSgnYXJpYS1jdXJyZW50JywgJ3RydWUnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBidXR0b24ucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWN1cnJlbnQnKTtcbiAgICAgICAgfVxuICAgICAgICBidXR0b24uaW5uZXJIVE1MID0gYFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gZ2FwLTJcIj5cbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1zbSBmb250LXNlbWlib2xkXCI+JHtjb2xsZWN0aW9uLm5hbWUgfHwgY29sbGVjdGlvbi5pZH08L3A+XG4gICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC14cyB0ZXh0LXNsYXRlLTUwMFwiPiR7Y29sbGVjdGlvbi5kZXNjcmlwdGlvbiB8fCAnJ308L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC1bMTFweF0gdXBwZXJjYXNlIHRyYWNraW5nLXdpZGUgdGV4dC1zbGF0ZS00MDBcIj4ke2NvbGxlY3Rpb24udHlwZSB8fCAnJ308L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIGA7XG4gICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICBzZXRBY3RpdmVDb2xsZWN0aW9uKGNvbGxlY3Rpb24uaWQpO1xuICAgICAgICAgIGlmICghd2luZG93Lm1hdGNoTWVkaWEoJyhtaW4td2lkdGg6IDEwMjRweCknKS5tYXRjaGVzKSB7XG4gICAgICAgICAgICBjbG9zZUNvbGxlY3Rpb25EcmF3ZXIoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBjb2xsZWN0aW9uTGlzdC5hcHBlbmRDaGlsZChidXR0b24pO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IHJlbmRlckl0ZW1UYWJsZSA9ICgpID0+IHtcbiAgICAgIGlmICghaXRlbVRhYmxlQm9keSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpdGVtVGFibGVCb2R5LmlubmVySFRNTCA9ICcnO1xuICAgICAgaWYgKCFjb2xsZWN0aW9uSXRlbXMubGVuZ3RoIHx8ICFhY3RpdmVDb2xsZWN0aW9uSWQpIHtcbiAgICAgICAgY29sbGVjdGlvbkl0ZW1zRW1wdHk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICB1cGRhdGVJdGVtc0VtcHR5TWVzc2FnZSgpO1xuICAgICAgICBpdGVtVGFibGVXcmFwcGVyPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29sbGVjdGlvbkl0ZW1zRW1wdHk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgaXRlbVRhYmxlV3JhcHBlcj8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBjb2xsZWN0aW9uSXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICBjb25zdCByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpO1xuICAgICAgICByb3cuZGF0YXNldC5pdGVtSWQgPSBpdGVtLmlkO1xuICAgICAgICBjb25zdCBpc0FjdGl2ZSA9IGl0ZW0uaWQgPT09IGFjdGl2ZUl0ZW1JZCAmJiAhaXNDcmVhdGluZ0l0ZW07XG4gICAgICAgIHJvdy5jbGFzc05hbWUgPSBbXG4gICAgICAgICAgJ2N1cnNvci1wb2ludGVyIHRyYW5zaXRpb24gZm9jdXMtd2l0aGluOmJnLVsjRjdGMEZGXS83MCBmb2N1czpvdXRsaW5lLW5vbmUnLFxuICAgICAgICAgIGlzQWN0aXZlID8gJ2JnLVsjRjdGMEZGXS83MCcgOiAnaG92ZXI6Ymctc2xhdGUtNTAnLFxuICAgICAgICBdLmpvaW4oJyAnKTtcbiAgICAgICAgcm93LnRhYkluZGV4ID0gMDtcbiAgICAgICAgcm93LnNldEF0dHJpYnV0ZSgncm9sZScsICdidXR0b24nKTtcbiAgICAgICAgaWYgKGlzQWN0aXZlKSB7XG4gICAgICAgICAgcm93LnNldEF0dHJpYnV0ZSgnYXJpYS1jdXJyZW50JywgJ3RydWUnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByb3cucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWN1cnJlbnQnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzdGF0dXMgPSBpdGVtLnN0YXR1cyB8fCAnQnJvdWlsbG9uJztcbiAgICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IHN0YXR1cy50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBjb25zdCBzdGF0dXNDbGFzc2VzID1cbiAgICAgICAgICBub3JtYWxpemVkID09PSAncHVibGlcdTAwRTknIHx8IG5vcm1hbGl6ZWQgPT09ICdwdWJsaWUnXG4gICAgICAgICAgICA/ICdiZy1lbWVyYWxkLTUwIHRleHQtZW1lcmFsZC03MDAgYm9yZGVyIGJvcmRlci1lbWVyYWxkLTEwMCdcbiAgICAgICAgICAgIDogJ2JnLWFtYmVyLTUwIHRleHQtYW1iZXItNzAwIGJvcmRlciBib3JkZXItYW1iZXItMTAwJztcbiAgICAgICAgcm93LmlubmVySFRNTCA9IGBcbiAgICAgICAgICA8dGQgY2xhc3M9XCJweC00IHB5LTMgYWxpZ24tdG9wXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQtc20gZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTkwMFwiPiR7aXRlbS50aXRsZSB8fCAnU2FucyB0aXRyZSd9PC9zcGFuPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQteHMgdGV4dC1zbGF0ZS01MDBcIj4ke2l0ZW0uc3VtbWFyeSB8fCBpdGVtLmV4Y2VycHQgfHwgJyd9PC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC90ZD5cbiAgICAgICAgICA8dGQgY2xhc3M9XCJweC00IHB5LTMgYWxpZ24tdG9wIHRleHQtc20gdGV4dC1zbGF0ZS02MDBcIj4ke2l0ZW0uc2x1ZyB8fCAnJ308L3RkPlxuICAgICAgICAgIDx0ZCBjbGFzcz1cInB4LTQgcHktMyBhbGlnbi10b3BcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIHJvdW5kZWQtZnVsbCBweC0zIHB5LTEgdGV4dC14cyBmb250LXNlbWlib2xkICR7c3RhdHVzQ2xhc3Nlc31cIj5cbiAgICAgICAgICAgICAgJHtzdGF0dXN9XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC90ZD5cbiAgICAgICAgICA8dGQgY2xhc3M9XCJweC00IHB5LTMgYWxpZ24tdG9wIHRleHQtc20gdGV4dC1zbGF0ZS01MDBcIj4ke2Zvcm1hdEl0ZW1EYXRlKFxuICAgICAgICAgICAgaXRlbS51cGRhdGVkQXQgfHwgaXRlbS5jcmVhdGVkQXQsXG4gICAgICAgICAgKX08L3RkPlxuICAgICAgICBgO1xuICAgICAgICBjb25zdCBoYW5kbGVTZWxlY3QgPSAoKSA9PiB7XG4gICAgICAgICAgc2VsZWN0SXRlbShpdGVtLmlkKTtcbiAgICAgICAgfTtcbiAgICAgICAgcm93LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlU2VsZWN0KTtcbiAgICAgICAgcm93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICBpZiAoZXZlbnQua2V5ID09PSAnRW50ZXInIHx8IGV2ZW50LmtleSA9PT0gJyAnKSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgaGFuZGxlU2VsZWN0KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaXRlbVRhYmxlQm9keS5hcHBlbmRDaGlsZChyb3cpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IHNlbGVjdEl0ZW0gPSAoaXRlbUlkKSA9PiB7XG4gICAgICBjb25zdCBpdGVtID0gY29sbGVjdGlvbkl0ZW1zLmZpbmQoKGVudHJ5KSA9PiBlbnRyeS5pZCA9PT0gaXRlbUlkKTtcbiAgICAgIGlmICghaXRlbSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhY3RpdmVJdGVtSWQgPSBpdGVtLmlkO1xuICAgICAgaXNDcmVhdGluZ0l0ZW0gPSBmYWxzZTtcbiAgICAgIGl0ZW1TbHVnTWFudWFsbHlFZGl0ZWQgPSB0cnVlO1xuICAgICAgcG9wdWxhdGVJdGVtRm9ybShpdGVtKTtcbiAgICAgIHJlbmRlckl0ZW1UYWJsZSgpO1xuICAgIH07XG5cbiAgICBjb25zdCBwb3B1bGF0ZUl0ZW1Gb3JtID0gKGl0ZW0pID0+IHtcbiAgICAgIGlmICghaXRlbUZvcm0gfHwgIWl0ZW0pIHtcbiAgICAgICAgaGlkZUl0ZW1Gb3JtKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNob3dJdGVtRm9ybSgpO1xuICAgICAgaXRlbUZvcm0uZGF0YXNldC5pdGVtSWQgPSBpdGVtLmlkO1xuICAgICAgaWYgKGl0ZW1Gb3JtRmllbGRzLnRpdGxlKSB7XG4gICAgICAgIGl0ZW1Gb3JtRmllbGRzLnRpdGxlLnZhbHVlID0gaXRlbS50aXRsZSB8fCAnJztcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtRm9ybUZpZWxkcy5zbHVnKSB7XG4gICAgICAgIGl0ZW1Gb3JtRmllbGRzLnNsdWcudmFsdWUgPSBpdGVtLnNsdWcgfHwgJyc7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbUZvcm1GaWVsZHMuZXhjZXJwdCkge1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy5leGNlcnB0LnZhbHVlID0gaXRlbS5zdW1tYXJ5IHx8IGl0ZW0uZXhjZXJwdCB8fCAnJztcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtRm9ybUZpZWxkcy5jb250ZW50KSB7XG4gICAgICAgIGl0ZW1Gb3JtRmllbGRzLmNvbnRlbnQudmFsdWUgPSBpdGVtLmNvbnRlbnQgfHwgJyc7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbUZvcm1GaWVsZHMuaW1hZ2UpIHtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMuaW1hZ2UudmFsdWUgPSBpdGVtLmltYWdlIHx8ICcnO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1Gb3JtRmllbGRzLnN0YXR1cykge1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy5zdGF0dXMudmFsdWUgPSBpdGVtLnN0YXR1cyB8fCAnQnJvdWlsbG9uJztcbiAgICAgIH1cbiAgICAgIHN5bmNJdGVtU3RhdHVzQmFkZ2UoaXRlbS5zdGF0dXMgfHwgJ0Jyb3VpbGxvbicpO1xuICAgICAgaWYgKGl0ZW1EZWxldGVCdXR0b24pIHtcbiAgICAgICAgaXRlbURlbGV0ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBwcmVwYXJlTmV3SXRlbUZvcm0gPSAoKSA9PiB7XG4gICAgICBpZiAoIWl0ZW1Gb3JtKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlzQ3JlYXRpbmdJdGVtID0gdHJ1ZTtcbiAgICAgIGFjdGl2ZUl0ZW1JZCA9IG51bGw7XG4gICAgICBpdGVtU2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gICAgICBpdGVtRm9ybS5kYXRhc2V0Lml0ZW1JZCA9ICcnO1xuICAgICAgaXRlbUZvcm0ucmVzZXQoKTtcbiAgICAgIGlmIChpdGVtRm9ybUZpZWxkcy5zdGF0dXMpIHtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMuc3RhdHVzLnZhbHVlID0gJ0Jyb3VpbGxvbic7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbUZvcm1GaWVsZHMuc2x1Zykge1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy5zbHVnLnZhbHVlID0gJyc7XG4gICAgICB9XG4gICAgICBzeW5jSXRlbVN0YXR1c0JhZGdlKCdCcm91aWxsb24nKTtcbiAgICAgIHNob3dJdGVtRm9ybSgpO1xuICAgICAgaWYgKGl0ZW1EZWxldGVCdXR0b24pIHtcbiAgICAgICAgaXRlbURlbGV0ZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICB9XG4gICAgICBpdGVtRm9ybUZpZWxkcy50aXRsZT8uZm9jdXMoKTtcbiAgICB9O1xuXG4gICAgY29uc3QgY29sbGVjdEl0ZW1Gb3JtVmFsdWVzID0gKCkgPT4ge1xuICAgICAgY29uc3QgdGl0bGUgPSAoaXRlbUZvcm1GaWVsZHMudGl0bGU/LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICBjb25zdCBzbHVnSW5wdXQgPSAoaXRlbUZvcm1GaWVsZHMuc2x1Zz8udmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgIGNvbnN0IHN1bW1hcnkgPSAoaXRlbUZvcm1GaWVsZHMuZXhjZXJwdD8udmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgIGNvbnN0IGNvbnRlbnQgPSAoaXRlbUZvcm1GaWVsZHMuY29udGVudD8udmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgIGNvbnN0IGltYWdlID0gKGl0ZW1Gb3JtRmllbGRzLmltYWdlPy52YWx1ZSB8fCAnJykudHJpbSgpO1xuICAgICAgY29uc3Qgc3RhdHVzID0gaXRlbUZvcm1GaWVsZHMuc3RhdHVzPy52YWx1ZSB8fCAnQnJvdWlsbG9uJztcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRpdGxlLFxuICAgICAgICBzbHVnOiBzbHVnSW5wdXQgPyBub3JtYWxpemVJdGVtU2x1Z0lucHV0KHNsdWdJbnB1dCkgOiBub3JtYWxpemVJdGVtU2x1Z0lucHV0KHRpdGxlKSxcbiAgICAgICAgc3VtbWFyeSxcbiAgICAgICAgZXhjZXJwdDogc3VtbWFyeSxcbiAgICAgICAgY29udGVudCxcbiAgICAgICAgaW1hZ2UsXG4gICAgICAgIHN0YXR1cyxcbiAgICAgIH07XG4gICAgfTtcblxuICAgIGNvbnN0IHNldEZvcm1TYXZpbmdTdGF0ZSA9IChpc1NhdmluZykgPT4ge1xuICAgICAgaWYgKGl0ZW1Gb3JtU2F2ZSkge1xuICAgICAgICBpdGVtRm9ybVNhdmUuZGlzYWJsZWQgPSBpc1NhdmluZztcbiAgICAgICAgaXRlbUZvcm1TYXZlLnRleHRDb250ZW50ID0gaXNTYXZpbmcgPyAnRW5yZWdpc3RyZW1lbnRcdTIwMjYnIDogJ0VucmVnaXN0cmVyJztcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtRGVsZXRlQnV0dG9uICYmICFpc0NyZWF0aW5nSXRlbSAmJiBhY3RpdmVJdGVtSWQpIHtcbiAgICAgICAgaXRlbURlbGV0ZUJ1dHRvbi5kaXNhYmxlZCA9IGlzU2F2aW5nO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBmZXRjaENvbGxlY3Rpb25JdGVtcyA9IGFzeW5jIChjb2xsZWN0aW9uSWQpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvbnNBcGlCYXNlKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgIGAke2NvbGxlY3Rpb25zQXBpQmFzZX0vJHtlbmNvZGVVUklDb21wb25lbnQoY29sbGVjdGlvbklkKX0vaXRlbXNgLFxuICAgICAgICB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9LFxuICAgICAgKTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHBheWxvYWQubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxlcyBpdGVtcy4nKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICByZXR1cm4gQXJyYXkuaXNBcnJheShkYXRhLml0ZW1zKSA/IGRhdGEuaXRlbXMgOiBbXTtcbiAgICB9O1xuXG4gICAgY29uc3Qgc2V0QWN0aXZlQ29sbGVjdGlvbiA9IGFzeW5jIChjb2xsZWN0aW9uSWQpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvbklkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGFjdGl2ZUNvbGxlY3Rpb25JZCA9IGNvbGxlY3Rpb25JZDtcbiAgICAgIGFjdGl2ZUl0ZW1JZCA9IG51bGw7XG4gICAgICBpc0NyZWF0aW5nSXRlbSA9IGZhbHNlO1xuICAgICAgaXRlbVNsdWdNYW51YWxseUVkaXRlZCA9IGZhbHNlO1xuICAgICAgdXBkYXRlQ29sbGVjdGlvbkhlYWRlcigpO1xuICAgICAgc3luY0FkZEJ1dHRvblN0YXRlKCk7XG4gICAgICByZW5kZXJDb2xsZWN0aW9uTGlzdCgpO1xuICAgICAgaGlkZUl0ZW1Gb3JtKCk7XG4gICAgICBjb2xsZWN0aW9uSXRlbXMgPSBbXTtcbiAgICAgIHJlbmRlckl0ZW1UYWJsZSgpO1xuICAgICAgdXBkYXRlSXRlbXNFbXB0eU1lc3NhZ2UoJ0NoYXJnZW1lbnQgZGVzIGl0ZW1zXHUyMDI2Jyk7XG4gICAgICBjb2xsZWN0aW9uSXRlbXNFbXB0eT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBpdGVtVGFibGVXcmFwcGVyPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGlmICghY29sbGVjdGlvbnNBcGlCYXNlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbGxlY3Rpb25JdGVtcyA9IGF3YWl0IGZldGNoQ29sbGVjdGlvbkl0ZW1zKGNvbGxlY3Rpb25JZCk7XG4gICAgICAgIHJlbmRlckl0ZW1UYWJsZSgpO1xuICAgICAgICBpZiAoIWNvbGxlY3Rpb25JdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgICB1cGRhdGVJdGVtc0VtcHR5TWVzc2FnZSgpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2NvbnRlbnRdIGl0ZW1zIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxlcyBpdGVtcy4nKTtcbiAgICAgICAgY29sbGVjdGlvbkl0ZW1zID0gW107XG4gICAgICAgIHJlbmRlckl0ZW1UYWJsZSgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBjcmVhdGVDb2xsZWN0aW9uSXRlbSA9IGFzeW5jIChjb2xsZWN0aW9uSWQsIHBheWxvYWQpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvbnNBcGlCYXNlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignU2l0ZSBpbmNvbm51LicpO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgYCR7Y29sbGVjdGlvbnNBcGlCYXNlfS8ke2VuY29kZVVSSUNvbXBvbmVudChjb2xsZWN0aW9uSWQpfS9pdGVtc2AsXG4gICAgICAgIHtcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgfSxcbiAgICAgICk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihkYXRhLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgY3JcdTAwRTllciBjZXQgaXRlbS4nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgfTtcblxuICAgIGNvbnN0IHVwZGF0ZUNvbGxlY3Rpb25JdGVtID0gYXN5bmMgKGNvbGxlY3Rpb25JZCwgaXRlbUlkLCBwYXlsb2FkKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25zQXBpQmFzZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NpdGUgaW5jb25udS4nKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgIGAke2NvbGxlY3Rpb25zQXBpQmFzZX0vJHtlbmNvZGVVUklDb21wb25lbnQoY29sbGVjdGlvbklkKX0vaXRlbXMvJHtlbmNvZGVVUklDb21wb25lbnQoaXRlbUlkKX1gLFxuICAgICAgICB7XG4gICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgfSxcbiAgICAgICk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihkYXRhLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgc2F1dmVnYXJkZXIgY2V0IGl0ZW0uJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgIH07XG5cbiAgICBjb25zdCBkZWxldGVDb2xsZWN0aW9uSXRlbSA9IGFzeW5jIChjb2xsZWN0aW9uSWQsIGl0ZW1JZCkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uc0FwaUJhc2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTaXRlIGluY29ubnUuJyk7XG4gICAgICB9XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgICBgJHtjb2xsZWN0aW9uc0FwaUJhc2V9LyR7ZW5jb2RlVVJJQ29tcG9uZW50KGNvbGxlY3Rpb25JZCl9L2l0ZW1zLyR7ZW5jb2RlVVJJQ29tcG9uZW50KGl0ZW1JZCl9YCxcbiAgICAgICAgeyBtZXRob2Q6ICdERUxFVEUnIH0sXG4gICAgICApO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZGF0YS5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIHN1cHByaW1lciBjZXQgaXRlbS4nKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgbG9hZENvbGxlY3Rpb25zID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uc0FwaUJhc2UpIHtcbiAgICAgICAgY29sbGVjdGlvbkVtcHR5U3RhdGU/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICBhY3RpdmVDb2xsZWN0aW9uSWQgPSBudWxsO1xuICAgICAgICBjb2xsZWN0aW9uSXRlbXMgPSBbXTtcbiAgICAgICAgcmVuZGVySXRlbVRhYmxlKCk7XG4gICAgICAgIHVwZGF0ZUNvbGxlY3Rpb25IZWFkZXIoKTtcbiAgICAgICAgc3luY0FkZEJ1dHRvblN0YXRlKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goY29sbGVjdGlvbnNBcGlCYXNlLCB7XG4gICAgICAgICAgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxlcyBjb2xsZWN0aW9ucy4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+IFtdKTtcbiAgICAgICAgY29sbGVjdGlvbnMgPSBBcnJheS5pc0FycmF5KHBheWxvYWQpID8gcGF5bG9hZCA6IFtdO1xuICAgICAgICByZW5kZXJDb2xsZWN0aW9uTGlzdCgpO1xuICAgICAgICBpZiAoY29sbGVjdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGNvbnN0IGRlZmF1bHRJZCA9IGNvbGxlY3Rpb25zLmZpbmQoKGVudHJ5KSA9PiBlbnRyeS5pZCA9PT0gYWN0aXZlQ29sbGVjdGlvbklkKT8uaWRcbiAgICAgICAgICAgIHx8IGNvbGxlY3Rpb25zWzBdLmlkO1xuICAgICAgICAgIHNldEFjdGl2ZUNvbGxlY3Rpb24oZGVmYXVsdElkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhY3RpdmVDb2xsZWN0aW9uSWQgPSBudWxsO1xuICAgICAgICAgIGNvbGxlY3Rpb25JdGVtcyA9IFtdO1xuICAgICAgICAgIHVwZGF0ZUNvbGxlY3Rpb25IZWFkZXIoKTtcbiAgICAgICAgICBzeW5jQWRkQnV0dG9uU3RhdGUoKTtcbiAgICAgICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tjb250ZW50XSBsb2FkIGNvbGxlY3Rpb25zJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIGNvbGxlY3Rpb25zLicpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBpdGVtQWRkQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGlmICghYWN0aXZlQ29sbGVjdGlvbklkKSB7XG4gICAgICAgIHNob3dUb2FzdCgnU1x1MDBFOWxlY3Rpb25uZXogZFx1MjAxOWFib3JkIHVuZSBjb2xsZWN0aW9uLicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwcmVwYXJlTmV3SXRlbUZvcm0oKTtcbiAgICAgIHJlbmRlckl0ZW1UYWJsZSgpO1xuICAgIH0pO1xuXG4gICAgaXRlbUZvcm1DYW5jZWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKGlzQ3JlYXRpbmdJdGVtKSB7XG4gICAgICAgIGlzQ3JlYXRpbmdJdGVtID0gZmFsc2U7XG4gICAgICAgIGFjdGl2ZUl0ZW1JZCA9IG51bGw7XG4gICAgICAgIGhpZGVJdGVtRm9ybSgpO1xuICAgICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGFjdGl2ZUl0ZW1JZCkge1xuICAgICAgICBjb25zdCBpdGVtID0gY29sbGVjdGlvbkl0ZW1zLmZpbmQoKGVudHJ5KSA9PiBlbnRyeS5pZCA9PT0gYWN0aXZlSXRlbUlkKTtcbiAgICAgICAgcG9wdWxhdGVJdGVtRm9ybShpdGVtKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGhpZGVJdGVtRm9ybSgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaXRlbUZvcm1GaWVsZHMuc3RhdHVzPy5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgICBzeW5jSXRlbVN0YXR1c0JhZGdlKGl0ZW1Gb3JtRmllbGRzLnN0YXR1cy52YWx1ZSk7XG4gICAgfSk7XG5cbiAgICBpdGVtRm9ybUZpZWxkcy50aXRsZT8uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgICBpZiAoIWlzQ3JlYXRpbmdJdGVtIHx8ICFpdGVtRm9ybUZpZWxkcy5zbHVnIHx8IGl0ZW1TbHVnTWFudWFsbHlFZGl0ZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaXRlbUZvcm1GaWVsZHMuc2x1Zy52YWx1ZSA9IG5vcm1hbGl6ZUl0ZW1TbHVnSW5wdXQoaXRlbUZvcm1GaWVsZHMudGl0bGUudmFsdWUpO1xuICAgIH0pO1xuXG4gICAgaXRlbUZvcm1GaWVsZHMuc2x1Zz8uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgICBpZiAoIWlzQ3JlYXRpbmdJdGVtKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGl0ZW1TbHVnTWFudWFsbHlFZGl0ZWQgPSB0cnVlO1xuICAgIH0pO1xuXG4gICAgaXRlbUZvcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmICghYWN0aXZlQ29sbGVjdGlvbklkKSB7XG4gICAgICAgIHNob3dUb2FzdCgnU1x1MDBFOWxlY3Rpb25uZXogdW5lIGNvbGxlY3Rpb24uJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHZhbHVlcyA9IGNvbGxlY3RJdGVtRm9ybVZhbHVlcygpO1xuICAgICAgaWYgKCF2YWx1ZXMudGl0bGUpIHtcbiAgICAgICAgc2hvd1RvYXN0KCdMZSB0aXRyZSBlc3QgcmVxdWlzLicpO1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy50aXRsZT8uZm9jdXMoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2V0Rm9ybVNhdmluZ1N0YXRlKHRydWUpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgbGV0IHNhdmVkSXRlbTtcbiAgICAgICAgaWYgKGlzQ3JlYXRpbmdJdGVtIHx8ICFhY3RpdmVJdGVtSWQpIHtcbiAgICAgICAgICBzYXZlZEl0ZW0gPSBhd2FpdCBjcmVhdGVDb2xsZWN0aW9uSXRlbShhY3RpdmVDb2xsZWN0aW9uSWQsIHZhbHVlcyk7XG4gICAgICAgICAgY29sbGVjdGlvbkl0ZW1zID0gWy4uLmNvbGxlY3Rpb25JdGVtcywgc2F2ZWRJdGVtXTtcbiAgICAgICAgICBzaG93VG9hc3QoJ0l0ZW0gY3JcdTAwRTlcdTAwRTknKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzYXZlZEl0ZW0gPSBhd2FpdCB1cGRhdGVDb2xsZWN0aW9uSXRlbShhY3RpdmVDb2xsZWN0aW9uSWQsIGFjdGl2ZUl0ZW1JZCwgdmFsdWVzKTtcbiAgICAgICAgICBjb2xsZWN0aW9uSXRlbXMgPSBjb2xsZWN0aW9uSXRlbXMubWFwKChpdGVtKSA9PlxuICAgICAgICAgICAgaXRlbS5pZCA9PT0gc2F2ZWRJdGVtLmlkID8gc2F2ZWRJdGVtIDogaXRlbSxcbiAgICAgICAgICApO1xuICAgICAgICAgIHNob3dUb2FzdCgnSXRlbSBtaXMgXHUwMEUwIGpvdXInKTtcbiAgICAgICAgfVxuICAgICAgICBpc0NyZWF0aW5nSXRlbSA9IGZhbHNlO1xuICAgICAgICBhY3RpdmVJdGVtSWQgPSBzYXZlZEl0ZW0uaWQ7XG4gICAgICAgIHBvcHVsYXRlSXRlbUZvcm0oc2F2ZWRJdGVtKTtcbiAgICAgICAgcmVuZGVySXRlbVRhYmxlKCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2NvbnRlbnRdIHNhdmUgaXRlbSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgc2F1dmVnYXJkZXIgY2V0IGl0ZW0uJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZXRGb3JtU2F2aW5nU3RhdGUoZmFsc2UpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgY29uc3QgY2xvc2VEZWxldGVNb2RhbCA9ICgpID0+IHtcbiAgICAgIGlmICghaXRlbURlbGV0ZU1vZGFsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGl0ZW1EZWxldGVNb2RhbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGl0ZW1EZWxldGVNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdmbGV4Jyk7XG4gICAgICBwZW5kaW5nRGVsZXRlSXRlbUlkID0gbnVsbDtcbiAgICB9O1xuXG4gICAgY29uc3Qgb3BlbkRlbGV0ZU1vZGFsID0gKCkgPT4ge1xuICAgICAgaWYgKCFpdGVtRGVsZXRlTW9kYWwgfHwgIWFjdGl2ZUl0ZW1JZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwZW5kaW5nRGVsZXRlSXRlbUlkID0gYWN0aXZlSXRlbUlkO1xuICAgICAgaXRlbURlbGV0ZU1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgaXRlbURlbGV0ZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2ZsZXgnKTtcbiAgICB9O1xuXG4gICAgaXRlbURlbGV0ZUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoIWFjdGl2ZUl0ZW1JZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBvcGVuRGVsZXRlTW9kYWwoKTtcbiAgICB9KTtcblxuICAgIGl0ZW1EZWxldGVDYW5jZWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY2xvc2VEZWxldGVNb2RhbCgpO1xuICAgIH0pO1xuXG4gICAgaXRlbURlbGV0ZU1vZGFsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gaXRlbURlbGV0ZU1vZGFsKSB7XG4gICAgICAgIGNsb3NlRGVsZXRlTW9kYWwoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGl0ZW1EZWxldGVDb25maXJtPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghcGVuZGluZ0RlbGV0ZUl0ZW1JZCB8fCAhYWN0aXZlQ29sbGVjdGlvbklkKSB7XG4gICAgICAgIGNsb3NlRGVsZXRlTW9kYWwoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaXRlbURlbGV0ZUNvbmZpcm0uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgaXRlbURlbGV0ZUNvbmZpcm0udGV4dENvbnRlbnQgPSAnU3VwcHJlc3Npb25cdTIwMjYnO1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgZGVsZXRlQ29sbGVjdGlvbkl0ZW0oYWN0aXZlQ29sbGVjdGlvbklkLCBwZW5kaW5nRGVsZXRlSXRlbUlkKTtcbiAgICAgICAgY29sbGVjdGlvbkl0ZW1zID0gY29sbGVjdGlvbkl0ZW1zLmZpbHRlcigoaXRlbSkgPT4gaXRlbS5pZCAhPT0gcGVuZGluZ0RlbGV0ZUl0ZW1JZCk7XG4gICAgICAgIGlmIChhY3RpdmVJdGVtSWQgPT09IHBlbmRpbmdEZWxldGVJdGVtSWQpIHtcbiAgICAgICAgICBhY3RpdmVJdGVtSWQgPSBudWxsO1xuICAgICAgICAgIGhpZGVJdGVtRm9ybSgpO1xuICAgICAgICB9XG4gICAgICAgIHNob3dUb2FzdCgnSXRlbSBzdXBwcmltXHUwMEU5Jyk7XG4gICAgICAgIHJlbmRlckl0ZW1UYWJsZSgpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tjb250ZW50XSBkZWxldGUgaXRlbSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgc3VwcHJpbWVyIGNldCBpdGVtLicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaXRlbURlbGV0ZUNvbmZpcm0uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgaXRlbURlbGV0ZUNvbmZpcm0udGV4dENvbnRlbnQgPSAnU3VwcHJpbWVyJztcbiAgICAgICAgY2xvc2VEZWxldGVNb2RhbCgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdXBkYXRlQ29sbGVjdGlvbkhlYWRlcigpO1xuICAgIHN5bmNBZGRCdXR0b25TdGF0ZSgpO1xuICAgIGxvYWRDb2xsZWN0aW9ucygpO1xuICB9XG5cbiAgZnVuY3Rpb24gaW5pdERlcGxveVdvcmtzcGFjZSgpIHtcbiAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LWZvcm1dJyk7XG4gICAgaWYgKCFmb3JtKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHByb3RvY29sU2VsZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LXByb3RvY29sXScpO1xuICAgIGNvbnN0IGhvc3RJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1ob3N0XScpO1xuICAgIGNvbnN0IHBvcnRJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1wb3J0XScpO1xuICAgIGNvbnN0IHVzZXJJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS11c2VyXScpO1xuICAgIGNvbnN0IHBhc3N3b3JkSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktcGFzc3dvcmRdJyk7XG4gICAgY29uc3Qgc2hvd1Bhc3N3b3JkVG9nZ2xlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LXNob3ctcGFzc3dvcmRdJyk7XG4gICAgY29uc3QgcmVtb3RlUGF0aElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LXJlbW90ZS1wYXRoXScpO1xuICAgIGNvbnN0IGZlZWRiYWNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LWZlZWRiYWNrXScpO1xuICAgIGNvbnN0IHNhdmVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktc2F2ZV0nKTtcbiAgICBjb25zdCB0ZXN0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LXRlc3RdJyk7XG4gICAgY29uc3QgZGVwbG95QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LXRyaWdnZXJdJyk7XG4gICAgY29uc3QgaGlzdG9yeUxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktaGlzdG9yeV0nKTtcbiAgICBjb25zdCBsb2dCb3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktbG9nXScpO1xuXG4gICAgY29uc3Qgc2FmZVNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goXG4gICAgICB3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnLFxuICAgICk7XG4gICAgY29uc3QgZGVwbG95QXBpQmFzZSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9kZXBsb3ktY29uZmlnYFxuICAgICAgOiBudWxsO1xuICAgIGNvbnN0IGRlcGxveVJ1bkFwaSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9kZXBsb3lgXG4gICAgICA6IG51bGw7XG4gICAgY29uc3QgZGVwbG95TG9nQXBpID0gc2FmZVNpdGVTbHVnXG4gICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Zyl9L2RlcGxveS1sb2dgXG4gICAgICA6IG51bGw7XG5cbiAgICBsZXQgaGFzUGFzc3dvcmQgPSBmYWxzZTtcbiAgICBsZXQgYnVzeUFjdGlvbiA9IG51bGw7XG5cbiAgICBjb25zdCBzYW5pdGl6ZVJlbW90ZVBhdGggPSAodmFsdWUpID0+IHtcbiAgICAgIGNvbnN0IHRyaW1tZWQgPSAodmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgIGlmICghdHJpbW1lZCkge1xuICAgICAgICByZXR1cm4gJy93d3cnO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRyaW1tZWQuc3RhcnRzV2l0aCgnLycpID8gdHJpbW1lZCA6IGAvJHt0cmltbWVkfWA7XG4gICAgfTtcblxuICAgIGNvbnN0IHNldEZlZWRiYWNrID0gKG1lc3NhZ2UsIHRvbmUgPSAnbXV0ZWQnKSA9PiB7XG4gICAgICBpZiAoIWZlZWRiYWNrKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGJhc2VDbGFzcyA9ICdpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgcm91bmRlZC1mdWxsIHB4LTMgcHktMSB0ZXh0LXhzIGZvbnQtc2VtaWJvbGQnO1xuICAgICAgY29uc3QgdG9uZUNsYXNzID1cbiAgICAgICAgdG9uZSA9PT0gJ3N1Y2Nlc3MnXG4gICAgICAgICAgPyAnYmctZW1lcmFsZC01MCB0ZXh0LWVtZXJhbGQtNzAwIGJvcmRlciBib3JkZXItZW1lcmFsZC0xMDAnXG4gICAgICAgICAgOiB0b25lID09PSAnZXJyb3InXG4gICAgICAgICAgICA/ICdiZy1yb3NlLTUwIHRleHQtcm9zZS03MDAgYm9yZGVyIGJvcmRlci1yb3NlLTEwMCdcbiAgICAgICAgICAgIDogJ2JnLXNsYXRlLTUwIHRleHQtc2xhdGUtNjAwIGJvcmRlciBib3JkZXItc2xhdGUtMTAwJztcbiAgICAgIGlmICghbWVzc2FnZSkge1xuICAgICAgICBmZWVkYmFjay50ZXh0Q29udGVudCA9ICcnO1xuICAgICAgICBmZWVkYmFjay5jbGFzc05hbWUgPSAndGV4dC1zbSB0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGljb24gPSB0b25lID09PSAnc3VjY2VzcycgPyAnXHUyNzA1JyA6IHRvbmUgPT09ICdlcnJvcicgPyAnXHUyNzRDJyA6ICdcdTIxMzlcdUZFMEYnO1xuICAgICAgZmVlZGJhY2suaW5uZXJIVE1MID0gYDxzcGFuIGNsYXNzPVwiJHtiYXNlQ2xhc3N9ICR7dG9uZUNsYXNzfVwiPiR7aWNvbn08c3Bhbj4ke21lc3NhZ2V9PC9zcGFuPjwvc3Bhbj5gO1xuICAgICAgZmVlZGJhY2suY2xhc3NOYW1lID0gJ3RleHQtc20nO1xuICAgIH07XG5cbiAgICBjb25zdCBzZXRCdXN5ID0gKGFjdGlvbiA9IG51bGwpID0+IHtcbiAgICAgIGJ1c3lBY3Rpb24gPSBhY3Rpb247XG4gICAgICBjb25zdCBkaXNhYmxlID0gQm9vbGVhbihhY3Rpb24pO1xuICAgICAgY29uc3Qgc3Bpbm5lciA9XG4gICAgICAgICc8c3ZnIGNsYXNzPVwiaC00IHctNCBhbmltYXRlLXNwaW4gdGV4dC13aGl0ZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjxjaXJjbGUgY2xhc3M9XCJvcGFjaXR5LTI1XCIgY3g9XCIxMlwiIGN5PVwiMTJcIiByPVwiMTBcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCI0XCI+PC9jaXJjbGU+PHBhdGggY2xhc3M9XCJvcGFjaXR5LTc1XCIgZmlsbD1cImN1cnJlbnRDb2xvclwiIGQ9XCJNNCAxMmE4IDggMCAwMTgtOHY0YTQgNCAwIDAwLTQgNEg0elwiPjwvcGF0aD48L3N2Zz4nO1xuICAgICAgaWYgKHNhdmVCdXR0b24pIHtcbiAgICAgICAgc2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IGRpc2FibGU7XG4gICAgICAgIHNhdmVCdXR0b24uaW5uZXJIVE1MID1cbiAgICAgICAgICBhY3Rpb24gPT09ICdzYXZlJ1xuICAgICAgICAgICAgPyBgPHNwYW4gY2xhc3M9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj4ke3NwaW5uZXJ9PHNwYW4+RW5yZWdpc3RyZW1lbnRcdTIwMjY8L3NwYW4+PC9zcGFuPmBcbiAgICAgICAgICAgIDogJ0VucmVnaXN0cmVyJztcbiAgICAgIH1cbiAgICAgIGlmICh0ZXN0QnV0dG9uKSB7XG4gICAgICAgIHRlc3RCdXR0b24uZGlzYWJsZWQgPSBkaXNhYmxlO1xuICAgICAgICB0ZXN0QnV0dG9uLmlubmVySFRNTCA9XG4gICAgICAgICAgYWN0aW9uID09PSAndGVzdCdcbiAgICAgICAgICAgID8gYDxzcGFuIGNsYXNzPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+PHNwYW4gY2xhc3M9XCJoLTQgdy00IGFuaW1hdGUtc3BpbiByb3VuZGVkLWZ1bGwgYm9yZGVyLTIgYm9yZGVyLXNsYXRlLTIwMCBib3JkZXItdC1zbGF0ZS02MDBcIj48L3NwYW4+PHNwYW4+VGVzdCBlbiBjb3Vyc1x1MjAyNjwvc3Bhbj48L3NwYW4+YFxuICAgICAgICAgICAgOiAnVGVzdGVyIGxhIGNvbm5leGlvbic7XG4gICAgICB9XG4gICAgICBpZiAoZGVwbG95QnV0dG9uKSB7XG4gICAgICAgIGRlcGxveUJ1dHRvbi5kaXNhYmxlZCA9IGRpc2FibGUgJiYgYWN0aW9uICE9PSBudWxsO1xuICAgICAgICBkZXBsb3lCdXR0b24uaW5uZXJIVE1MID1cbiAgICAgICAgICBhY3Rpb24gPT09ICdkZXBsb3knXG4gICAgICAgICAgICA/IGA8c3BhbiBjbGFzcz1cImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPjxzcGFuIGNsYXNzPVwiaC00IHctNCBhbmltYXRlLXNwaW4gcm91bmRlZC1mdWxsIGJvcmRlci0yIGJvcmRlci13aGl0ZS82MCBib3JkZXItdC13aGl0ZVwiPjwvc3Bhbj48c3Bhbj5EXHUwMEU5cGxvaWVtZW50XHUyMDI2PC9zcGFuPjwvc3Bhbj5gXG4gICAgICAgICAgICA6ICdEXHUwMEU5cGxveWVyIG1haW50ZW5hbnQnO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBwb3B1bGF0ZUZvcm0gPSAoY29uZmlnKSA9PiB7XG4gICAgICBwcm90b2NvbFNlbGVjdCAmJiAocHJvdG9jb2xTZWxlY3QudmFsdWUgPSBjb25maWcucHJvdG9jb2wgfHwgJ3NmdHAnKTtcbiAgICAgIGhvc3RJbnB1dCAmJiAoaG9zdElucHV0LnZhbHVlID0gY29uZmlnLmhvc3QgfHwgJycpO1xuICAgICAgcG9ydElucHV0ICYmIChwb3J0SW5wdXQudmFsdWUgPSBjb25maWcucG9ydCB8fCAnJyk7XG4gICAgICB1c2VySW5wdXQgJiYgKHVzZXJJbnB1dC52YWx1ZSA9IGNvbmZpZy51c2VyIHx8ICcnKTtcbiAgICAgIHJlbW90ZVBhdGhJbnB1dCAmJiAocmVtb3RlUGF0aElucHV0LnZhbHVlID0gY29uZmlnLnJlbW90ZVBhdGggfHwgJy93d3cnKTtcbiAgICAgIGhhc1Bhc3N3b3JkID0gQm9vbGVhbihjb25maWcuaGFzUGFzc3dvcmQpO1xuICAgICAgaWYgKHBhc3N3b3JkSW5wdXQpIHtcbiAgICAgICAgcGFzc3dvcmRJbnB1dC52YWx1ZSA9ICcnO1xuICAgICAgICBwYXNzd29yZElucHV0LnBsYWNlaG9sZGVyID0gaGFzUGFzc3dvcmQgPyAnTm9uIGFmZmljaFx1MDBFOScgOiAnTW90IGRlIHBhc3NlJztcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgcmVuZGVySGlzdG9yeSA9IChlbnRyaWVzID0gW10pID0+IHtcbiAgICAgIGlmICghaGlzdG9yeUxpc3QpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaGlzdG9yeUxpc3QuaW5uZXJIVE1MID0gJyc7XG4gICAgICBpZiAoIWVudHJpZXMubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgbGkuY2xhc3NOYW1lID0gJ3RleHQtc2xhdGUtNTAwJztcbiAgICAgICAgbGkudGV4dENvbnRlbnQgPSAnQXVjdW4gZFx1MDBFOXBsb2llbWVudCBwb3VyIGxlIG1vbWVudC4nO1xuICAgICAgICBoaXN0b3J5TGlzdC5hcHBlbmRDaGlsZChsaSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGVudHJpZXMuZm9yRWFjaCgoZW50cnkpID0+IHtcbiAgICAgICAgY29uc3QgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgICBsaS5jbGFzc05hbWUgPVxuICAgICAgICAgICdmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gZ2FwLTIgcm91bmRlZC14bCBib3JkZXIgYm9yZGVyLXNsYXRlLTIwMCBweC0zIHB5LTInO1xuICAgICAgICBjb25zdCBzdGF0dXNCYWRnZSA9XG4gICAgICAgICAgZW50cnkuc3RhdHVzID09PSAnc3VjY2VzcydcbiAgICAgICAgICAgID8gJzxzcGFuIGNsYXNzPVwicm91bmRlZC1mdWxsIGJnLWVtZXJhbGQtNTAgcHgtMiBweS0wLjUgdGV4dC1bMTFweF0gZm9udC1zZW1pYm9sZCB0ZXh0LWVtZXJhbGQtNzAwXCI+U3VjY1x1MDBFOHM8L3NwYW4+J1xuICAgICAgICAgICAgOiAnPHNwYW4gY2xhc3M9XCJyb3VuZGVkLWZ1bGwgYmctcm9zZS01MCBweC0yIHB5LTAuNSB0ZXh0LVsxMXB4XSBmb250LXNlbWlib2xkIHRleHQtcm9zZS03MDBcIj5cdTAwQzljaGVjPC9zcGFuPic7XG4gICAgICAgIGNvbnN0IGRhdGUgPSBlbnRyeS5maW5pc2hlZEF0IHx8IGVudHJ5LnN0YXJ0ZWRBdCB8fCAnJztcbiAgICAgICAgY29uc3QgZHVyYXRpb24gPVxuICAgICAgICAgIGVudHJ5LmR1cmF0aW9uTXMgJiYgTnVtYmVyKGVudHJ5LmR1cmF0aW9uTXMpID49IDBcbiAgICAgICAgICAgID8gYCR7TWF0aC5yb3VuZChOdW1iZXIoZW50cnkuZHVyYXRpb25NcykgLyAxMDAwKX1zYFxuICAgICAgICAgICAgOiAnJztcbiAgICAgICAgbGkuaW5uZXJIVE1MID0gYFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJzcGFjZS15LTFcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPiR7c3RhdHVzQmFkZ2V9PHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNTAwXCI+JHtkYXRlfTwvc3Bhbj48L2Rpdj5cbiAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1zbSB0ZXh0LXNsYXRlLTgwMFwiPiR7ZW50cnkubWVzc2FnZSB8fCAnJ308L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInRleHQteHMgdGV4dC1zbGF0ZS01MDBcIj4ke2R1cmF0aW9ufTwvZGl2PlxuICAgICAgICBgO1xuICAgICAgICBsaS5kYXRhc2V0LmRlcGxveUlkID0gZW50cnkuaWQgfHwgJyc7XG4gICAgICAgIGxpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgIGlmIChlbnRyeS5sb2dzICYmIGxvZ0JveCkge1xuICAgICAgICAgICAgbG9nQm94LnRleHRDb250ZW50ID0gZW50cnkubG9ncy5qb2luKCdcXG4nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBoaXN0b3J5TGlzdC5hcHBlbmRDaGlsZChsaSk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgcmVuZGVyTG9ncyA9IChsaW5lcyA9IFtdKSA9PiB7XG4gICAgICBpZiAoIWxvZ0JveCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBsb2dCb3gudGV4dENvbnRlbnQgPSBsaW5lcy5sZW5ndGggPyBsaW5lcy5qb2luKCdcXG4nKSA6ICdBdWN1biBsb2cgcG91ciBsZSBtb21lbnQuJztcbiAgICB9O1xuXG4gICAgY29uc3QgZmV0Y2hIaXN0b3J5ID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFkZXBsb3lMb2dBcGkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChkZXBsb3lMb2dBcGksIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICAgICAgICByZW5kZXJIaXN0b3J5KFtdKTtcbiAgICAgICAgICAgIHJlbmRlckxvZ3MoWydBUEkgZFx1MDBFOXBsb2llbWVudCBpbmRpc3BvbmlibGUgKHJlZFx1MDBFOW1hcnJlIGxlIHNlcnZldXIpLiddKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbFx1MjAxOWhpc3RvcmlxdWUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgY29uc3QgZW50cmllcyA9IEFycmF5LmlzQXJyYXkocGF5bG9hZC5lbnRyaWVzKSA/IHBheWxvYWQuZW50cmllcyA6IFtdO1xuICAgICAgICByZW5kZXJIaXN0b3J5KGVudHJpZXMpO1xuICAgICAgICBpZiAoZW50cmllc1swXT8ubG9ncykge1xuICAgICAgICAgIHJlbmRlckxvZ3MoZW50cmllc1swXS5sb2dzKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkZXBsb3ldIGhpc3RvcnkgZmFpbGVkJywgZXJyKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgZmV0Y2hDb25maWcgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWRlcGxveUFwaUJhc2UpIHtcbiAgICAgICAgc2V0RmVlZGJhY2soJ0F1Y3VuIHNpdGUgYWN0aWYgc1x1MDBFOWxlY3Rpb25uXHUwMEU5LicsICdlcnJvcicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZXRCdXN5KCdsb2FkJyk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGRlcGxveUFwaUJhc2UsIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xuICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBwb3B1bGF0ZUZvcm0ocGF5bG9hZCB8fCB7fSk7XG4gICAgICAgICAgc2V0RmVlZGJhY2soJ0NvbmZpZ3VyYXRpb24gY2hhcmdcdTAwRTllLicsICdtdXRlZCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBvcHVsYXRlRm9ybShwYXlsb2FkIHx8IHt9KTtcbiAgICAgICAgICBzZXRGZWVkYmFjayhwYXlsb2FkLm1lc3NhZ2UgfHwgJ0NvbmZpZ3VyYXRpb24gcGFyIGRcdTAwRTlmYXV0IGNoYXJnXHUwMEU5ZS4nLCAnbXV0ZWQnKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkZXBsb3ldIGxvYWQgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2V0RmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGR1IGNoYXJnZW1lbnQuJywgJ2Vycm9yJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZXRCdXN5KG51bGwpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBidWlsZFBheWxvYWQgPSAoKSA9PiB7XG4gICAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICBwcm90b2NvbDogcHJvdG9jb2xTZWxlY3Q/LnZhbHVlIHx8ICdzZnRwJyxcbiAgICAgICAgaG9zdDogaG9zdElucHV0Py52YWx1ZS50cmltKCkgfHwgJycsXG4gICAgICAgIHBvcnQ6IE51bWJlcihwb3J0SW5wdXQ/LnZhbHVlKSB8fCB1bmRlZmluZWQsXG4gICAgICAgIHVzZXI6IHVzZXJJbnB1dD8udmFsdWUudHJpbSgpIHx8ICcnLFxuICAgICAgICByZW1vdGVQYXRoOiBzYW5pdGl6ZVJlbW90ZVBhdGgocmVtb3RlUGF0aElucHV0Py52YWx1ZSB8fCAnL3d3dycpLFxuICAgICAgfTtcbiAgICAgIGNvbnN0IHB3ZCA9IHBhc3N3b3JkSW5wdXQ/LnZhbHVlIHx8ICcnO1xuICAgICAgaWYgKHB3ZC50cmltKCkubGVuZ3RoID4gMCkge1xuICAgICAgICBwYXlsb2FkLnBhc3N3b3JkID0gcHdkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfTtcblxuICAgIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKCFkZXBsb3lBcGlCYXNlKSB7XG4gICAgICAgIHNldEZlZWRiYWNrKCdBdWN1biBzaXRlIGFjdGlmIHNcdTAwRTlsZWN0aW9ublx1MDBFOS4nLCAnZXJyb3InKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgcGF5bG9hZCA9IGJ1aWxkUGF5bG9hZCgpO1xuICAgICAgc2V0QnVzeSgnc2F2ZScpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChkZXBsb3lBcGlCYXNlLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBjb25zdCBlcnJvclBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yUGF5bG9hZC5tZXNzYWdlIHx8ICdTYXV2ZWdhcmRlIGltcG9zc2libGUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2F2ZWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIHBvcHVsYXRlRm9ybShzYXZlZCB8fCB7fSk7XG4gICAgICAgIHNldEZlZWRiYWNrKCdDb25maWd1cmF0aW9uIGVucmVnaXN0clx1MDBFOWUuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgc2hvd1RvYXN0KCdDb25maWd1cmF0aW9uIGRcdTAwRTlwbG9pZW1lbnQgc2F1dmVnYXJkXHUwMEU5ZScpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkZXBsb3ldIHNhdmUgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2V0RmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGRlIGxhIHNhdXZlZ2FyZGUuJywgJ2Vycm9yJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZXRCdXN5KG51bGwpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGVzdEJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWRlcGxveUFwaUJhc2UpIHtcbiAgICAgICAgc2V0RmVlZGJhY2soJ0F1Y3VuIHNpdGUgYWN0aWYgc1x1MDBFOWxlY3Rpb25uXHUwMEU5LicsICdlcnJvcicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBwYXlsb2FkID0gYnVpbGRQYXlsb2FkKCk7XG4gICAgICBpZiAoIXBheWxvYWQuaG9zdCB8fCAhcGF5bG9hZC51c2VyIHx8ICFwYXlsb2FkLnJlbW90ZVBhdGgpIHtcbiAgICAgICAgc2V0RmVlZGJhY2soJ1JlbXBsaXNzZXogbGVzIGNoYW1wcyByZXF1aXMgYXZhbnQgZGUgdGVzdGVyLicsICdlcnJvcicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZXRCdXN5KCd0ZXN0Jyk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke2RlcGxveUFwaUJhc2V9L3Rlc3RgLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2sgfHwgcmVzdWx0LnN1Y2Nlc3MgPT09IGZhbHNlKSB7XG4gICAgICAgICAgc2V0RmVlZGJhY2socmVzdWx0Lm1lc3NhZ2UgfHwgJ1Rlc3QgZGUgY29ubmV4aW9uIFx1MDBFOWNob3VcdTAwRTkuJywgJ2Vycm9yJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNldEZlZWRiYWNrKHJlc3VsdC5tZXNzYWdlIHx8ICdDb25uZXhpb24gT0suJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgc2hvd1RvYXN0KCdUZXN0IGRlIGNvbm5leGlvbiByXHUwMEU5dXNzaScpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkZXBsb3ldIHRlc3QgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2V0RmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ1Rlc3QgZGUgY29ubmV4aW9uIFx1MDBFOWNob3VcdTAwRTkuJywgJ2Vycm9yJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZXRCdXN5KG51bGwpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgZGVwbG95QnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghZGVwbG95UnVuQXBpKSB7XG4gICAgICAgIHNldEZlZWRiYWNrKCdBdWN1biBzaXRlIGFjdGlmIHNcdTAwRTlsZWN0aW9ublx1MDBFOS4nLCAnZXJyb3InKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2V0QnVzeSgnZGVwbG95Jyk7XG4gICAgICByZW5kZXJMb2dzKFsnRFx1MDBFOXBsb2llbWVudCBlbiBjb3Vyc1x1MjAyNiddKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goZGVwbG95UnVuQXBpLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYnVpbGRQYXlsb2FkKCkpLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICAgICAgICBzZXRGZWVkYmFjaygnQVBJIGRcdTAwRTlwbG9pZW1lbnQgaW5kaXNwb25pYmxlIChyZWRcdTAwRTltYXJyZSBsZSBzZXJ2ZXVyKS4nLCAnZXJyb3InKTtcbiAgICAgICAgICAgIHJlbmRlckxvZ3MoWydBUEkgZFx1MDBFOXBsb2llbWVudCBpbmRpc3BvbmlibGUgKHJlZFx1MDBFOW1hcnJlIGxlIHNlcnZldXIpLiddKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVuZGVyTG9ncyhyZXN1bHQubG9ncyB8fCBbXSk7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5tZXNzYWdlIHx8ICdEXHUwMEU5cGxvaWVtZW50IFx1MDBFOWNob3VcdTAwRTkuJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmVuZGVyTG9ncyhyZXN1bHQubG9ncyB8fCBbXSk7XG4gICAgICAgIGF3YWl0IGZldGNoSGlzdG9yeSgpO1xuICAgICAgICBzaG93VG9hc3QoJ0RcdTAwRTlwbG9pZW1lbnQgdGVybWluXHUwMEU5Jyk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2RlcGxveV0gcnVuIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNldEZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdEXHUwMEU5cGxvaWVtZW50IFx1MDBFOWNob3VcdTAwRTkuJywgJ2Vycm9yJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZXRCdXN5KG51bGwpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgc2hvd1Bhc3N3b3JkVG9nZ2xlPy5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgICBpZiAoIXBhc3N3b3JkSW5wdXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcGFzc3dvcmRJbnB1dC50eXBlID0gc2hvd1Bhc3N3b3JkVG9nZ2xlLmNoZWNrZWQgPyAndGV4dCcgOiAncGFzc3dvcmQnO1xuICAgIH0pO1xuXG4gICAgZmV0Y2hDb25maWcoKTtcbiAgICBmZXRjaEhpc3RvcnkoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXRTZXR0aW5nc1dvcmtzcGFjZSgpIHtcbiAgICBjb25zdCB0YWJCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtc2V0dGluZ3MtdGFiXScpO1xuICAgIGNvbnN0IHRhYlBhbmVscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXNldHRpbmdzLXBhbmVsXScpO1xuICAgIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZG1pbi1wYXNzd29yZC1mb3JtXScpO1xuICAgIGNvbnN0IHNpdGVGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS1jb25maWctZm9ybV0nKTtcbiAgICBjb25zdCBzaXRlRmVlZGJhY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLWNvbmZpZy1mZWVkYmFja10nKTtcbiAgICBjb25zdCB0aGVtZUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1mb3JtXScpO1xuICAgIGNvbnN0IHN3aXRjaFRhYiA9IChuYW1lKSA9PiB7XG4gICAgICB0YWJCdXR0b25zLmZvckVhY2goKGJ0bikgPT4ge1xuICAgICAgICBjb25zdCBpc0FjdGl2ZSA9IGJ0bi5kYXRhc2V0LnNldHRpbmdzVGFiID09PSBuYW1lO1xuICAgICAgICBidG4uc2V0QXR0cmlidXRlKCdhcmlhLXNlbGVjdGVkJywgaXNBY3RpdmUgPyAndHJ1ZScgOiAnZmFsc2UnKTtcbiAgICAgICAgYnRuLmNsYXNzTGlzdC50b2dnbGUoJ2JnLVsjOUM2QkZGXScsIGlzQWN0aXZlKTtcbiAgICAgICAgYnRuLmNsYXNzTGlzdC50b2dnbGUoJ3RleHQtd2hpdGUnLCBpc0FjdGl2ZSk7XG4gICAgICB9KTtcbiAgICAgIHRhYlBhbmVscy5mb3JFYWNoKChwYW5lbCkgPT4ge1xuICAgICAgICBwYW5lbC5jbGFzc0xpc3QudG9nZ2xlKCdoaWRkZW4nLCBwYW5lbC5kYXRhc2V0LnNldHRpbmdzUGFuZWwgIT09IG5hbWUpO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICB0YWJCdXR0b25zLmZvckVhY2goKGJ0bikgPT4ge1xuICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gc3dpdGNoVGFiKGJ0bi5kYXRhc2V0LnNldHRpbmdzVGFiIHx8ICdhY2NvdW50JykpO1xuICAgIH0pO1xuICAgIHN3aXRjaFRhYignYWNjb3VudCcpO1xuXG4gICAgaWYgKCFmb3JtKSB7XG4gICAgICAvLyBzdGlsbCBhbGxvdyBzaXRlIGZvcm0gZXZlbiBpZiBwYXNzd29yZCBmb3JtIGFic2VudFxuICAgIH1cbiAgICBpZiAoZm9ybSkge1xuICAgICAgY29uc3QgZmVlZGJhY2sgPSBmb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFkbWluLXBhc3N3b3JkLWZlZWRiYWNrXScpO1xuICAgICAgY29uc3Qgc3VibWl0ID0gZm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZG1pbi1wYXNzd29yZC1zdWJtaXRdJyk7XG4gICAgICBjb25zdCBzZXRGZWVkYmFjayA9IChtZXNzYWdlLCB0b25lID0gJ211dGVkJykgPT4ge1xuICAgICAgICBpZiAoIWZlZWRiYWNrKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGNvbG9yID1cbiAgICAgICAgICB0b25lID09PSAnc3VjY2VzcydcbiAgICAgICAgICAgID8gJ3RleHQtZW1lcmFsZC02MDAnXG4gICAgICAgICAgICA6IHRvbmUgPT09ICdlcnJvcidcbiAgICAgICAgICAgICAgPyAndGV4dC1yb3NlLTYwMCdcbiAgICAgICAgICAgICAgOiAndGV4dC1zbGF0ZS01MDAnO1xuICAgICAgICBmZWVkYmFjay50ZXh0Q29udGVudCA9IG1lc3NhZ2UgfHwgJyc7XG4gICAgICAgIGZlZWRiYWNrLmNsYXNzTmFtZSA9IGB0ZXh0LXNtICR7Y29sb3J9YDtcbiAgICAgIH07XG4gICAgICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YShmb3JtKTtcbiAgICAgICAgY29uc3QgY3VycmVudFBhc3N3b3JkID0gZm9ybURhdGEuZ2V0KCdjdXJyZW50UGFzc3dvcmQnKSB8fCAnJztcbiAgICAgICAgY29uc3QgbmV3UGFzc3dvcmQgPSBmb3JtRGF0YS5nZXQoJ25ld1Bhc3N3b3JkJykgfHwgJyc7XG4gICAgICAgIGNvbnN0IGNvbmZpcm1QYXNzd29yZCA9IGZvcm1EYXRhLmdldCgnY29uZmlybVBhc3N3b3JkJykgfHwgJyc7XG4gICAgICAgIGlmICghY3VycmVudFBhc3N3b3JkIHx8ICFuZXdQYXNzd29yZCB8fCAhY29uZmlybVBhc3N3b3JkKSB7XG4gICAgICAgICAgc2V0RmVlZGJhY2soJ0NvbXBsXHUwMEU4dGUgdG91cyBsZXMgY2hhbXBzLicsICdlcnJvcicpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzdWJtaXQgJiYgKHN1Ym1pdC5kaXNhYmxlZCA9IHRydWUpO1xuICAgICAgICBzZXRGZWVkYmFjaygnJyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9hZG1pbi9wYXNzd29yZCcsIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGN1cnJlbnRQYXNzd29yZCwgbmV3UGFzc3dvcmQsIGNvbmZpcm1QYXNzd29yZCB9KSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2sgfHwgcGF5bG9hZC5zdWNjZXNzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHBheWxvYWQubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBtZXR0cmUgXHUwMEUwIGpvdXIgbGUgbW90IGRlIHBhc3NlLicpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXRGZWVkYmFjayhwYXlsb2FkLm1lc3NhZ2UgfHwgJ01vdCBkZSBwYXNzZSBtaXMgXHUwMEUwIGpvdXIuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgICBmb3JtLnJlc2V0KCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gY2hhbmdlIHBhc3N3b3JkIGZhaWxlZCcsIGVycik7XG4gICAgICAgICAgc2V0RmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGRlIGxhIG1pc2UgXHUwMEUwIGpvdXIuJywgJ2Vycm9yJyk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgc3VibWl0ICYmIChzdWJtaXQuZGlzYWJsZWQgPSBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChzaXRlRm9ybSkge1xuICAgICAgY29uc3QgbmFtZUlucHV0ID0gc2l0ZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS1uYW1lXScpO1xuICAgICAgY29uc3QgbGFuZ1NlbGVjdCA9IHNpdGVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtbGFuZ3VhZ2VdJyk7XG4gICAgICBjb25zdCB0YWdsaW5lSW5wdXQgPSBzaXRlRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLXRhZ2xpbmVdJyk7XG4gICAgICBjb25zdCBzYXZlQnV0dG9uID0gc2l0ZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS1zYXZlXScpO1xuICAgICAgY29uc3Qgc2V0U2l0ZUZlZWRiYWNrID0gKG1lc3NhZ2UsIHRvbmUgPSAnbXV0ZWQnKSA9PiB7XG4gICAgICAgIGlmICghc2l0ZUZlZWRiYWNrKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGNvbG9yID1cbiAgICAgICAgICB0b25lID09PSAnc3VjY2VzcydcbiAgICAgICAgICAgID8gJ3RleHQtZW1lcmFsZC02MDAnXG4gICAgICAgICAgICA6IHRvbmUgPT09ICdlcnJvcidcbiAgICAgICAgICAgICAgPyAndGV4dC1yb3NlLTYwMCdcbiAgICAgICAgICAgICAgOiAndGV4dC1zbGF0ZS01MDAnO1xuICAgICAgICBzaXRlRmVlZGJhY2sudGV4dENvbnRlbnQgPSBtZXNzYWdlIHx8ICcnO1xuICAgICAgICBzaXRlRmVlZGJhY2suY2xhc3NOYW1lID0gYHRleHQtc20gJHtjb2xvcn1gO1xuICAgICAgfTtcblxuICAgICAgY29uc3Qgc2FmZVNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goXG4gICAgICAgIHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJycsXG4gICAgICApO1xuICAgICAgY29uc3Qgc2l0ZUNvbmZpZ0FwaSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Zyl9L2NvbmZpZy9zaXRlYFxuICAgICAgICA6IG51bGw7XG5cbiAgICAgIGNvbnN0IGxvYWRTaXRlQ29uZmlnID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoIXNpdGVDb25maWdBcGkpIHJldHVybjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHNpdGVDb25maWdBcGksIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHJldHVybjtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIGlmIChuYW1lSW5wdXQpIG5hbWVJbnB1dC52YWx1ZSA9IHBheWxvYWQubmFtZSB8fCAnJztcbiAgICAgICAgICBpZiAobGFuZ1NlbGVjdCkgbGFuZ1NlbGVjdC52YWx1ZSA9IHBheWxvYWQubGFuZ3VhZ2UgfHwgJ2ZyJztcbiAgICAgICAgICBpZiAodGFnbGluZUlucHV0KSB0YWdsaW5lSW5wdXQudmFsdWUgPSBwYXlsb2FkLnRhZ2xpbmUgfHwgJyc7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gbG9hZCBzaXRlIGNvbmZpZyBmYWlsZWQnLCBlcnIpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBzaXRlRm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKCFzaXRlQ29uZmlnQXBpKSB7XG4gICAgICAgICAgc2V0U2l0ZUZlZWRiYWNrKCdBdWN1biBzaXRlIGFjdGlmLicsICdlcnJvcicpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW5hbWVJbnB1dD8udmFsdWUudHJpbSgpKSB7XG4gICAgICAgICAgc2V0U2l0ZUZlZWRiYWNrKCdOb20gcmVxdWlzLicsICdlcnJvcicpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzYXZlQnV0dG9uICYmIChzYXZlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZSk7XG4gICAgICAgIHNldFNpdGVGZWVkYmFjaygnJyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgICAgIG5hbWU6IG5hbWVJbnB1dD8udmFsdWUgfHwgJycsXG4gICAgICAgICAgICBsYW5ndWFnZTogbGFuZ1NlbGVjdD8udmFsdWUgfHwgJ2ZyJyxcbiAgICAgICAgICAgIHRhZ2xpbmU6IHRhZ2xpbmVJbnB1dD8udmFsdWUgfHwgJycsXG4gICAgICAgICAgfTtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHNpdGVDb25maWdBcGksIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rIHx8IHJlc3VsdC5zdWNjZXNzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5tZXNzYWdlIHx8ICdTYXV2ZWdhcmRlIGltcG9zc2libGUuJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNldFNpdGVGZWVkYmFjayhyZXN1bHQubWVzc2FnZSB8fCAnUGFyYW1cdTAwRTh0cmVzIGVucmVnaXN0clx1MDBFOXMuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3NldHRpbmdzXSBzYXZlIHNpdGUgY29uZmlnIGZhaWxlZCcsIGVycik7XG4gICAgICAgICAgc2V0U2l0ZUZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsYSBzYXV2ZWdhcmRlLicsICdlcnJvcicpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIHNhdmVCdXR0b24gJiYgKHNhdmVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBsb2FkU2l0ZUNvbmZpZygpO1xuICAgIH1cblxuICAgIGlmICh0aGVtZUZvcm0pIHtcbiAgICAgIGNvbnN0IHNhZmVTaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKFxuICAgICAgICB3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnLFxuICAgICAgKTtcbiAgICAgIGNvbnN0IHRoZW1lQXBpID0gc2FmZVNpdGVTbHVnXG4gICAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnKX0vY29uZmlnL3RoZW1lYFxuICAgICAgICA6IG51bGw7XG5cbiAgICAgIGNvbnN0IGNvbG9yU2VsZWN0cyA9IHtcbiAgICAgICAgcHJpbWFyeTogdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLXByaW1hcnldJyksXG4gICAgICAgIHNlY29uZGFyeTogdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLXNlY29uZGFyeV0nKSxcbiAgICAgICAgYWNjZW50OiB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtYWNjZW50XScpLFxuICAgICAgICBiYWNrZ3JvdW5kOiB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtYmFja2dyb3VuZF0nKSxcbiAgICAgICAgdGV4dDogdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLXRleHRdJyksXG4gICAgICB9O1xuICAgICAgY29uc3QgaGVhZGluZ1NlbGVjdCA9IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1oZWFkaW5nc10nKTtcbiAgICAgIGNvbnN0IGJvZHlTZWxlY3QgPSB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtYm9keV0nKTtcbiAgICAgIGNvbnN0IHJhZGl1c1NtYWxsID0gdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLXJhZGl1cy1zbWFsbF0nKTtcbiAgICAgIGNvbnN0IHJhZGl1c01lZGl1bSA9IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1yYWRpdXMtbWVkaXVtXScpO1xuICAgICAgY29uc3QgcmFkaXVzTGFyZ2UgPSB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtcmFkaXVzLWxhcmdlXScpO1xuICAgICAgY29uc3QgcHJldmlldyA9IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1wcmV2aWV3XScpO1xuICAgICAgY29uc3QgdGhlbWVGZWVkYmFjayA9IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1mZWVkYmFja10nKTtcbiAgICAgIGNvbnN0IGFwcGx5QnV0dG9uID0gdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLWFwcGx5XScpO1xuICAgICAgY29uc3QgdGFpbHdpbmRIdWVzID0gW1xuICAgICAgICAnc2xhdGUnLCdncmF5JywnemluYycsJ25ldXRyYWwnLCdzdG9uZScsJ3JlZCcsJ29yYW5nZScsJ2FtYmVyJywneWVsbG93JywnbGltZScsJ2dyZWVuJywnZW1lcmFsZCcsJ3RlYWwnLCdjeWFuJywnc2t5JywnYmx1ZScsJ2luZGlnbycsJ3Zpb2xldCcsJ3B1cnBsZScsJ2Z1Y2hzaWEnLCdwaW5rJywncm9zZSdcbiAgICAgIF07XG4gICAgICBjb25zdCB0YWlsd2luZFNoYWRlcyA9IFsnNTAnLCcxMDAnLCcyMDAnLCczMDAnLCc0MDAnLCc1MDAnLCc2MDAnLCc3MDAnLCc4MDAnLCc5MDAnXTtcbiAgICAgIGNvbnN0IHRhaWx3aW5kVG9rZW5zID0gdGFpbHdpbmRIdWVzLmZsYXRNYXAoKGgpPT50YWlsd2luZFNoYWRlcy5tYXAoKHMpPT5gJHtofS0ke3N9YCkpO1xuXG4gICAgICBjb25zdCBmaWxsQ29sb3JPcHRpb25zID0gKCkgPT4ge1xuICAgICAgICBPYmplY3QudmFsdWVzKGNvbG9yU2VsZWN0cykuZm9yRWFjaCgoc2VsKT0+e1xuICAgICAgICAgIGlmICghc2VsIHx8IHNlbC5vcHRpb25zLmxlbmd0aCkgcmV0dXJuO1xuICAgICAgICAgIHRhaWx3aW5kVG9rZW5zLmZvckVhY2goKHRva2VuKT0+e1xuICAgICAgICAgICAgY29uc3Qgb3B0aW9uPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICAgICAgb3B0aW9uLnZhbHVlPXRva2VuO1xuICAgICAgICAgICAgY29uc3QgW2gsc109dG9rZW4uc3BsaXQoJy0nKTtcbiAgICAgICAgICAgIG9wdGlvbi50ZXh0Q29udGVudD1gJHtoLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2guc2xpY2UoMSl9ICR7c31gO1xuICAgICAgICAgICAgc2VsLmFwcGVuZENoaWxkKG9wdGlvbik7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcblxuICAgICAgY29uc3Qgc2V0VGhlbWVGZWVkYmFjayA9IChtZXNzYWdlLCB0b25lID0gJ211dGVkJykgPT4ge1xuICAgICAgICBpZiAoIXRoZW1lRmVlZGJhY2spIHJldHVybjtcbiAgICAgICAgY29uc3QgY29sb3IgPVxuICAgICAgICAgIHRvbmUgPT09ICdzdWNjZXNzJ1xuICAgICAgICAgICAgPyAndGV4dC1lbWVyYWxkLTYwMCdcbiAgICAgICAgICAgIDogdG9uZSA9PT0gJ2Vycm9yJ1xuICAgICAgICAgICAgICA/ICd0ZXh0LXJvc2UtNjAwJ1xuICAgICAgICAgICAgICA6ICd0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICAgIHRoZW1lRmVlZGJhY2sudGV4dENvbnRlbnQgPSBtZXNzYWdlIHx8ICcnO1xuICAgICAgICB0aGVtZUZlZWRiYWNrLmNsYXNzTmFtZSA9IGB0ZXh0LXNtICR7Y29sb3J9YDtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHN5bmNQcmV2aWV3ID0gKCkgPT4ge1xuICAgICAgICBpZiAoIXByZXZpZXcpIHJldHVybjtcbiAgICAgICAgY29uc3QgdG9rZW5Ub0hleCA9ICh0b2tlbikgPT4ge1xuICAgICAgICAgIGlmICghdG9rZW4pIHJldHVybiBudWxsO1xuICAgICAgICAgIGNvbnN0IFtoLHNdPXRva2VuLnNwbGl0KCctJyk7XG4gICAgICAgICAgY29uc3QgbWFwID0ge1xuICAgICAgICAgICAgc2xhdGU6JyNlMmU4ZjAnLGdyYXk6JyNkMWQ1ZGInLHppbmM6JyNkNGQ0ZDgnLG5ldXRyYWw6JyNkNGQ0ZDQnLHN0b25lOicjZDZkM2QxJyxcbiAgICAgICAgICAgIHJlZDonI2VmNDQ0NCcsb3JhbmdlOicjZjk3MzE2JyxhbWJlcjonI2Y1OWUwYicseWVsbG93OicjZWFiMzA4JyxsaW1lOicjODRjYzE2JyxcbiAgICAgICAgICAgIGdyZWVuOicjMjJjNTVlJyxlbWVyYWxkOicjMTBiOTgxJyx0ZWFsOicjMTRiOGE2JyxjeWFuOicjMDZiNmQ0Jyxza3k6JyMwZWE1ZTknLFxuICAgICAgICAgICAgYmx1ZTonIzNiODJmNicsaW5kaWdvOicjNjM2NmYxJyx2aW9sZXQ6JyM4YjVjZjYnLHB1cnBsZTonI2E4NTVmNycsZnVjaHNpYTonI2Q5NDZlZicsXG4gICAgICAgICAgICBwaW5rOicjZWM0ODk5Jyxyb3NlOicjZjQzZjVlJ1xuICAgICAgICAgIH07XG4gICAgICAgICAgY29uc3QgYmFzZT1tYXBbaF07XG4gICAgICAgICAgaWYgKCFiYXNlKSByZXR1cm4gbnVsbDtcbiAgICAgICAgICAvLyByb3VnaCBzaGFkZSB0d2VhayB1c2luZyBvcGFjaXR5OyBub3QgZXhhY3QgVGFpbHdpbmQgcGFsZXR0ZSBidXQgcHJldmlldy1mcmllbmRseVxuICAgICAgICAgIGNvbnN0IHNoYWRlTnVtPU51bWJlcihzKXx8NTAwO1xuICAgICAgICAgIGNvbnN0IGZhY3RvciA9IE1hdGgubWluKE1hdGgubWF4KChzaGFkZU51bS01MCkvOTAwLDApLDEpO1xuICAgICAgICAgIGNvbnN0IHRvUmdiPShoZXgpPT5oZXgubWF0Y2goL1tBLUZhLWYwLTldezJ9L2cpLm1hcCgodik9PnBhcnNlSW50KHYsMTYpKTtcbiAgICAgICAgICBjb25zdCBbcixnLGJdPXRvUmdiKGJhc2UucmVwbGFjZSgnIycsJycpKTtcbiAgICAgICAgICBjb25zdCBtaXg9KHYpPT5NYXRoLnJvdW5kKDI1NSAtICgyNTUgLSB2KSpmYWN0b3IpO1xuICAgICAgICAgIHJldHVybiBgcmdiKCR7bWl4KHIpfSwgJHttaXgoZyl9LCAke21peChiKX0pYDtcbiAgICAgICAgfTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1jb2xvci1wcmltYXJ5JywgdG9rZW5Ub0hleChjb2xvclNlbGVjdHMucHJpbWFyeT8udmFsdWUpIHx8ICcjOUM2QkZGJyk7XG4gICAgICAgIHByZXZpZXcuc3R5bGUuc2V0UHJvcGVydHkoJy0tY29sb3Itc2Vjb25kYXJ5JywgdG9rZW5Ub0hleChjb2xvclNlbGVjdHMuc2Vjb25kYXJ5Py52YWx1ZSkgfHwgJyMwRUE1RTknKTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1jb2xvci1hY2NlbnQnLCB0b2tlblRvSGV4KGNvbG9yU2VsZWN0cy5hY2NlbnQ/LnZhbHVlKSB8fCAnI0Y5NzMxNicpO1xuICAgICAgICBwcmV2aWV3LnN0eWxlLnNldFByb3BlcnR5KCctLWNvbG9yLWJhY2tncm91bmQnLCB0b2tlblRvSGV4KGNvbG9yU2VsZWN0cy5iYWNrZ3JvdW5kPy52YWx1ZSkgfHwgJyNGRkZGRkYnKTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1jb2xvci10ZXh0JywgdG9rZW5Ub0hleChjb2xvclNlbGVjdHMudGV4dD8udmFsdWUpIHx8ICcjMEYxNzJBJyk7XG4gICAgICAgIHByZXZpZXcuc3R5bGUuc2V0UHJvcGVydHkoJy0tZm9udC1oZWFkaW5ncycsIGhlYWRpbmdTZWxlY3Q/LnZhbHVlIHx8ICdJbnRlciwgc2Fucy1zZXJpZicpO1xuICAgICAgICBwcmV2aWV3LnN0eWxlLnNldFByb3BlcnR5KCctLWZvbnQtYm9keScsIGJvZHlTZWxlY3Q/LnZhbHVlIHx8ICdJbnRlciwgc2Fucy1zZXJpZicpO1xuICAgICAgICBwcmV2aWV3LnN0eWxlLnNldFByb3BlcnR5KCctLXJhZGl1cy1zbWFsbCcsIHJhZGl1c1NtYWxsPy52YWx1ZSB8fCAnOHB4Jyk7XG4gICAgICAgIHByZXZpZXcuc3R5bGUuc2V0UHJvcGVydHkoJy0tcmFkaXVzLW1lZGl1bScsIHJhZGl1c01lZGl1bT8udmFsdWUgfHwgJzE2cHgnKTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1yYWRpdXMtbGFyZ2UnLCByYWRpdXNMYXJnZT8udmFsdWUgfHwgJzI0cHgnKTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5ib3JkZXJSYWRpdXMgPSByYWRpdXNNZWRpdW0/LnZhbHVlIHx8ICcxNnB4JztcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHNldENvbG9yRmllbGRzID0gKGtleSwgdmFsdWUpID0+IHtcbiAgICAgICAgaWYgKGNvbG9yU2VsZWN0c1trZXldKSBjb2xvclNlbGVjdHNba2V5XS52YWx1ZSA9IHZhbHVlO1xuICAgICAgfTtcblxuICAgICAgT2JqZWN0LmtleXMoY29sb3JTZWxlY3RzKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgY29sb3JTZWxlY3RzW2tleV0/LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHN5bmNQcmV2aWV3KTtcbiAgICAgIH0pO1xuICAgICAgW2hlYWRpbmdTZWxlY3QsIGJvZHlTZWxlY3QsIHJhZGl1c1NtYWxsLCByYWRpdXNNZWRpdW0sIHJhZGl1c0xhcmdlXS5mb3JFYWNoKChlbCkgPT4ge1xuICAgICAgICBlbD8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgc3luY1ByZXZpZXcpO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGxvYWRUaGVtZSA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKCF0aGVtZUFwaSkgcmV0dXJuO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godGhlbWVBcGksIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHJldHVybjtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIHNldENvbG9yRmllbGRzKCdwcmltYXJ5JywgcGF5bG9hZC5jb2xvcnM/LnByaW1hcnkgfHwgJ3Zpb2xldC01MDAnKTtcbiAgICAgICAgICBzZXRDb2xvckZpZWxkcygnc2Vjb25kYXJ5JywgcGF5bG9hZC5jb2xvcnM/LnNlY29uZGFyeSB8fCAnaW5kaWdvLTQwMCcpO1xuICAgICAgICAgIHNldENvbG9yRmllbGRzKCdhY2NlbnQnLCBwYXlsb2FkLmNvbG9ycz8uYWNjZW50IHx8ICdlbWVyYWxkLTUwMCcpO1xuICAgICAgICAgIHNldENvbG9yRmllbGRzKCdiYWNrZ3JvdW5kJywgcGF5bG9hZC5jb2xvcnM/LmJhY2tncm91bmQgfHwgJ3NsYXRlLTUwJyk7XG4gICAgICAgICAgc2V0Q29sb3JGaWVsZHMoJ3RleHQnLCBwYXlsb2FkLmNvbG9ycz8udGV4dCB8fCAnc2xhdGUtOTAwJyk7XG4gICAgICAgICAgaWYgKGhlYWRpbmdTZWxlY3QpIGhlYWRpbmdTZWxlY3QudmFsdWUgPSBwYXlsb2FkLnR5cG9ncmFwaHk/LmhlYWRpbmdzIHx8ICdJbnRlciwgc2Fucy1zZXJpZic7XG4gICAgICAgICAgaWYgKGJvZHlTZWxlY3QpIGJvZHlTZWxlY3QudmFsdWUgPSBwYXlsb2FkLnR5cG9ncmFwaHk/LmJvZHkgfHwgJ0ludGVyLCBzYW5zLXNlcmlmJztcbiAgICAgICAgICBpZiAocmFkaXVzU21hbGwpIHJhZGl1c1NtYWxsLnZhbHVlID0gcGF5bG9hZC5yYWRpdXM/LnNtYWxsIHx8ICc4cHgnO1xuICAgICAgICAgIGlmIChyYWRpdXNNZWRpdW0pIHJhZGl1c01lZGl1bS52YWx1ZSA9IHBheWxvYWQucmFkaXVzPy5tZWRpdW0gfHwgJzE2cHgnO1xuICAgICAgICAgIGlmIChyYWRpdXNMYXJnZSkgcmFkaXVzTGFyZ2UudmFsdWUgPSBwYXlsb2FkLnJhZGl1cz8ubGFyZ2UgfHwgJzI0cHgnO1xuICAgICAgICAgIHN5bmNQcmV2aWV3KCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gbG9hZCB0aGVtZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBmaWxsQ29sb3JPcHRpb25zKCk7XG4gICAgICBhcHBseUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKCF0aGVtZUFwaSkge1xuICAgICAgICAgIHNldFRoZW1lRmVlZGJhY2soJ0F1Y3VuIHNpdGUgYWN0aWYuJywgJ2Vycm9yJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgICAgY29sb3JzOiB7XG4gICAgICAgICAgICBwcmltYXJ5OiBjb2xvclNlbGVjdHMucHJpbWFyeT8udmFsdWUgfHwgJ3Zpb2xldC01MDAnLFxuICAgICAgICAgICAgc2Vjb25kYXJ5OiBjb2xvclNlbGVjdHMuc2Vjb25kYXJ5Py52YWx1ZSB8fCAnaW5kaWdvLTQwMCcsXG4gICAgICAgICAgICBhY2NlbnQ6IGNvbG9yU2VsZWN0cy5hY2NlbnQ/LnZhbHVlIHx8ICdlbWVyYWxkLTUwMCcsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiBjb2xvclNlbGVjdHMuYmFja2dyb3VuZD8udmFsdWUgfHwgJ3NsYXRlLTUwJyxcbiAgICAgICAgICAgIHRleHQ6IGNvbG9yU2VsZWN0cy50ZXh0Py52YWx1ZSB8fCAnc2xhdGUtOTAwJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHR5cG9ncmFwaHk6IHtcbiAgICAgICAgICAgIGhlYWRpbmdzOiBoZWFkaW5nU2VsZWN0Py52YWx1ZSB8fCAnSW50ZXIsIHNhbnMtc2VyaWYnLFxuICAgICAgICAgICAgYm9keTogYm9keVNlbGVjdD8udmFsdWUgfHwgJ0ludGVyLCBzYW5zLXNlcmlmJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHJhZGl1czoge1xuICAgICAgICAgICAgc21hbGw6IHJhZGl1c1NtYWxsPy52YWx1ZSB8fCAnOHB4JyxcbiAgICAgICAgICAgIG1lZGl1bTogcmFkaXVzTWVkaXVtPy52YWx1ZSB8fCAnMTZweCcsXG4gICAgICAgICAgICBsYXJnZTogcmFkaXVzTGFyZ2U/LnZhbHVlIHx8ICcyNHB4JyxcbiAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgICBhcHBseUJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIHNldFRoZW1lRmVlZGJhY2soJycpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godGhlbWVBcGksIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rIHx8IHJlc3VsdC5zdWNjZXNzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5tZXNzYWdlIHx8ICdBcHBsaWNhdGlvbiBkdSB0aFx1MDBFOG1lIFx1MDBFOWNob3VcdTAwRTllLicpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXRUaGVtZUZlZWRiYWNrKHJlc3VsdC5tZXNzYWdlIHx8ICdUaFx1MDBFOG1lIGFwcGxpcXVcdTAwRTkuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgICBzeW5jUHJldmlldygpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIGFwcGx5IHRoZW1lIGZhaWxlZCcsIGVycik7XG4gICAgICAgICAgc2V0VGhlbWVGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZGUgbFx1MjAxOWFwcGxpY2F0aW9uIGR1IHRoXHUwMEU4bWUuJywgJ2Vycm9yJyk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgYXBwbHlCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGZpbGxDb2xvck9wdGlvbnMoKTtcbiAgICAgIGxvYWRUaGVtZSgpO1xuICAgICAgc3luY1ByZXZpZXcoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBpbml0TWVkaWFXb3Jrc3BhY2UoKSB7XG4gICAgY29uc3QgZ3JpZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWdyaWRdJyk7XG4gICAgaWYgKCFncmlkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGVtcHR5U3RhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1lbXB0eV0nKTtcbiAgICBjb25zdCBjb3VudEJhZGdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtY291bnRdJyk7XG4gICAgY29uc3QgZmlsdGVyVHlwZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWZpbHRlci10eXBlXScpO1xuICAgIGNvbnN0IGRldGFpbEVtcHR5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGV0YWlsLWVtcHR5XScpO1xuICAgIGNvbnN0IGRldGFpbFBhbmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGV0YWlsXScpO1xuICAgIGNvbnN0IGRldGFpbFByZXZpZXcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZXRhaWwtcHJldmlld10nKTtcbiAgICBjb25zdCBkZXRhaWxOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGV0YWlsLW5hbWVdJyk7XG4gICAgY29uc3QgZGV0YWlsVHlwZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRldGFpbC10eXBlXScpO1xuICAgIGNvbnN0IGRldGFpbFNpemUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZXRhaWwtc2l6ZV0nKTtcbiAgICBjb25zdCBkZXRhaWxQYXRoID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGV0YWlsLXBhdGhdJyk7XG4gICAgY29uc3QgZGV0YWlsVXNlZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRldGFpbC11c2VkXScpO1xuICAgIGNvbnN0IGRldGFpbEFsdElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtYWx0LWVkaXRdJyk7XG4gICAgY29uc3QgZGV0YWlsU2F2ZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLXNhdmVdJyk7XG4gICAgY29uc3QgZGV0YWlsRGVsZXRlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGVsZXRlXScpO1xuICAgIGNvbnN0IGRlbGV0ZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGVsZXRlLW1vZGFsXScpO1xuICAgIGNvbnN0IGRlbGV0ZUNhbmNlbEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRlbGV0ZS1jYW5jZWxdJyk7XG4gICAgY29uc3QgZGVsZXRlQ29uZmlybUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRlbGV0ZS1jb25maXJtXScpO1xuICAgIGNvbnN0IHVwbG9hZE9wZW5CdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS11cGxvYWQtb3Blbl0nKTtcbiAgICBjb25zdCBmaWxlSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1maWxlLWlucHV0XScpO1xuICAgIGNvbnN0IHVwbG9hZFN0YXR1cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLXVwbG9hZC1zdGF0dXNdJyk7XG5cbiAgICBjb25zdCBzYWZlU2l0ZVNsdWdWYWx1ZSA9IHN0cmlwTGVhZGluZ1NsYXNoKFxuICAgICAgd29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyxcbiAgICApO1xuICAgIGNvbnN0IG1lZGlhQXBpQmFzZSA9IHNhZmVTaXRlU2x1Z1ZhbHVlXG4gICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Z1ZhbHVlKX0vbWVkaWFgXG4gICAgICA6IG51bGw7XG5cbiAgICBsZXQgbWVkaWFJdGVtcyA9IFtdO1xuICAgIGxldCBmaWx0ZXJlZEl0ZW1zID0gW107XG4gICAgbGV0IGFjdGl2ZU1lZGlhSWQgPSBudWxsO1xuICAgIGxldCBoaWdobGlnaHRNZWRpYUlkID0gbnVsbDtcbiAgICBsZXQgcGVuZGluZ1VwbG9hZEZpbGUgPSBudWxsO1xuICAgIGxldCB1cGxvYWRJblByb2dyZXNzID0gZmFsc2U7XG4gICAgbGV0IGRldGFpbERpcnR5ID0gZmFsc2U7XG4gICAgbGV0IHVwbG9hZE1vZGUgPSBmYWxzZTtcbiAgICBsZXQgdXBsb2FkUHJldmlld1VybCA9IG51bGw7XG5cbiAgICBjb25zdCBkZXJpdmVHcm91cFR5cGUgPSAoaXRlbSkgPT4ge1xuICAgICAgY29uc3QgdHlwZSA9IChpdGVtLnR5cGUgfHwgJycpLnRvTG93ZXJDYXNlKCk7XG4gICAgICBjb25zdCBmaWxlbmFtZSA9IChpdGVtLmZpbGVuYW1lIHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgaWYgKHR5cGUuaW5jbHVkZXMoJ2ltYWdlJykgfHwgL1xcLihwbmd8anBlP2d8d2VicHxzdmd8Z2lmKSQvaS50ZXN0KGZpbGVuYW1lKSkge1xuICAgICAgICByZXR1cm4gJ2ltYWdlJztcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlLmluY2x1ZGVzKCdwZGYnKSB8fCB0eXBlLmluY2x1ZGVzKCdkb2MnKSB8fCAvXFwuKHBkZnxkb2N4PykkL2kudGVzdChmaWxlbmFtZSkpIHtcbiAgICAgICAgcmV0dXJuICdkb2N1bWVudCc7XG4gICAgICB9XG4gICAgICBpZiAodHlwZS5pbmNsdWRlcygndmlkZW8nKSB8fCAvXFwuKG1wNHxtb3Z8d2VibSkkL2kudGVzdChmaWxlbmFtZSkpIHtcbiAgICAgICAgcmV0dXJuICd2aWRlbyc7XG4gICAgICB9XG4gICAgICByZXR1cm4gJ290aGVyJztcbiAgICB9O1xuXG4gICAgY29uc3QgaXNJbWFnZVR5cGUgPSAoaXRlbSkgPT4gZGVyaXZlR3JvdXBUeXBlKGl0ZW0pID09PSAnaW1hZ2UnO1xuXG4gICAgY29uc3QgZm9ybWF0VHlwZUxhYmVsID0gKGl0ZW0pID0+IHtcbiAgICAgIGlmIChpdGVtLnR5cGUpIHtcbiAgICAgICAgcmV0dXJuIGl0ZW0udHlwZS50b1VwcGVyQ2FzZSgpO1xuICAgICAgfVxuICAgICAgY29uc3QgZXh0ID0gKGl0ZW0uZmlsZW5hbWUgfHwgJycpLnNwbGl0KCcuJykucG9wKCk7XG4gICAgICByZXR1cm4gZXh0ID8gZXh0LnRvVXBwZXJDYXNlKCkgOiAnRklMRSc7XG4gICAgfTtcblxuICAgIGNvbnN0IGZvcm1hdEZpbGVTaXplID0gKHNpemUpID0+IHtcbiAgICAgIGlmICghc2l6ZSB8fCBzaXplIDw9IDApIHtcbiAgICAgICAgcmV0dXJuICdcdTIwMTQnO1xuICAgICAgfVxuICAgICAgaWYgKHNpemUgPCAxMDI0KSB7XG4gICAgICAgIHJldHVybiBgJHtzaXplfSBvYDtcbiAgICAgIH1cbiAgICAgIGlmIChzaXplIDwgMTAyNCAqIDEwMjQpIHtcbiAgICAgICAgcmV0dXJuIGAkeyhzaXplIC8gMTAyNCkudG9GaXhlZCgxKX0ga29gO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGAkeyhzaXplIC8gKDEwMjQgKiAxMDI0KSkudG9GaXhlZCgxKX0gTW9gO1xuICAgIH07XG5cbiAgICBjb25zdCByZXNldERldGFpbFBhbmVsID0gKCkgPT4ge1xuICAgICAgZGV0YWlsUGFuZWw/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgZGV0YWlsRW1wdHk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgY2xlYXJVcGxvYWRTdGF0ZSgpO1xuICAgICAgYWN0aXZlTWVkaWFJZCA9IG51bGw7XG4gICAgICBkZXRhaWxEaXJ0eSA9IGZhbHNlO1xuICAgICAgdXBkYXRlRGV0YWlsQWN0aW9ucyhmYWxzZSk7XG4gICAgICBpZiAoZGV0YWlsUHJldmlldykge1xuICAgICAgICBkZXRhaWxQcmV2aWV3LmlubmVySFRNTCA9XG4gICAgICAgICAgJzxzcGFuIGNsYXNzPVwidGV4dC1zbGF0ZS00MDAgdGV4dC1zbVwiPkF1Y3VuIG1cdTAwRTlkaWEgc1x1MDBFOWxlY3Rpb25uXHUwMEU5PC9zcGFuPic7XG4gICAgICB9XG4gICAgICBpZiAoZGV0YWlsTmFtZSkge1xuICAgICAgICBkZXRhaWxOYW1lLnRleHRDb250ZW50ID0gJyc7XG4gICAgICB9XG4gICAgICBkZXRhaWxUeXBlICYmIChkZXRhaWxUeXBlLnRleHRDb250ZW50ID0gJycpO1xuICAgICAgZGV0YWlsU2l6ZSAmJiAoZGV0YWlsU2l6ZS50ZXh0Q29udGVudCA9ICcnKTtcbiAgICAgIGlmIChkZXRhaWxBbHRJbnB1dCkge1xuICAgICAgICBkZXRhaWxBbHRJbnB1dC52YWx1ZSA9ICcnO1xuICAgICAgfVxuICAgICAgZGV0YWlsUGF0aCAmJiAoZGV0YWlsUGF0aC50ZXh0Q29udGVudCA9ICcnKTtcbiAgICAgIGlmIChkZXRhaWxVc2VkKSB7XG4gICAgICAgIGRldGFpbFVzZWQuaW5uZXJIVE1MID0gJyc7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGNsZWFyVXBsb2FkU3RhdGUgPSAoKSA9PiB7XG4gICAgICBwZW5kaW5nVXBsb2FkRmlsZSA9IG51bGw7XG4gICAgICB1cGxvYWRNb2RlID0gZmFsc2U7XG4gICAgICB1cGxvYWRJblByb2dyZXNzID0gZmFsc2U7XG4gICAgICBpZiAodXBsb2FkUHJldmlld1VybCkge1xuICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKHVwbG9hZFByZXZpZXdVcmwpO1xuICAgICAgICB1cGxvYWRQcmV2aWV3VXJsID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIHVwbG9hZFN0YXR1cyAmJiAodXBsb2FkU3RhdHVzLnRleHRDb250ZW50ID0gJ0F1Y3VuIGZpY2hpZXIgc1x1MDBFOWxlY3Rpb25uXHUwMEU5LicpO1xuICAgICAgZmlsZUlucHV0ICYmIChmaWxlSW5wdXQudmFsdWUgPSAnJyk7XG4gICAgfTtcblxuICAgIGNvbnN0IHVwZGF0ZUNvdW50QmFkZ2UgPSAoKSA9PiB7XG4gICAgICBpZiAoIWNvdW50QmFkZ2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFmaWx0ZXJlZEl0ZW1zLmxlbmd0aCkge1xuICAgICAgICBjb3VudEJhZGdlLnRleHRDb250ZW50ID0gJzAgbVx1MDBFOWRpYSc7XG4gICAgICB9IGVsc2UgaWYgKGZpbHRlcmVkSXRlbXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGNvdW50QmFkZ2UudGV4dENvbnRlbnQgPSAnMSBtXHUwMEU5ZGlhJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvdW50QmFkZ2UudGV4dENvbnRlbnQgPSBgJHtmaWx0ZXJlZEl0ZW1zLmxlbmd0aH0gbVx1MDBFOWRpYXNgO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCByZW5kZXJHcmlkID0gKCkgPT4ge1xuICAgICAgZ3JpZC5pbm5lckhUTUwgPSAnJztcbiAgICAgIGlmICghZmlsdGVyZWRJdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgZW1wdHlTdGF0ZT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIHJlc2V0RGV0YWlsUGFuZWwoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZW1wdHlTdGF0ZT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBmaWx0ZXJlZEl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgICAgY29uc3QgY2FyZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICBjYXJkLnR5cGUgPSAnYnV0dG9uJztcbiAgICAgICAgY2FyZC5kYXRhc2V0Lm1lZGlhSWQgPSBpdGVtLmlkO1xuICAgICAgICBjb25zdCBpc0FjdGl2ZSA9IGl0ZW0uaWQgPT09IGFjdGl2ZU1lZGlhSWQ7XG4gICAgICAgIGNhcmQuY2xhc3NOYW1lID0gW1xuICAgICAgICAgICdncm91cCByZWxhdGl2ZSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtMnhsIGJvcmRlciBweC0zIHB5LTMgdGV4dC1sZWZ0IHRyYW5zaXRpb24gZm9jdXMtdmlzaWJsZTpvdXRsaW5lIGZvY3VzLXZpc2libGU6b3V0bGluZS0yIGZvY3VzLXZpc2libGU6b3V0bGluZS1vZmZzZXQtMiBmb2N1cy12aXNpYmxlOm91dGxpbmUtWyM5QzZCRkZdJyxcbiAgICAgICAgICBpc0FjdGl2ZVxuICAgICAgICAgICAgPyAnYm9yZGVyLVsjOUM2QkZGXSBiZy1bI0Y3RjBGRl0vNjAgc2hhZG93LXNtJ1xuICAgICAgICAgICAgOiAnYm9yZGVyLXNsYXRlLTIwMCBob3Zlcjpib3JkZXItWyM5QzZCRkZdLzQwJyxcbiAgICAgICAgXS5qb2luKCcgJyk7XG4gICAgICAgIGNvbnN0IHByZXZpZXcgPSBpc0ltYWdlVHlwZShpdGVtKVxuICAgICAgICAgID8gYDxpbWcgc3JjPVwiJHtpdGVtLnBhdGh9XCIgYWx0PVwiJHtpdGVtLmFsdCB8fCBpdGVtLmZpbGVuYW1lfVwiIGNsYXNzPVwiaC1mdWxsIHctZnVsbCBvYmplY3QtY292ZXJcIiAvPmBcbiAgICAgICAgICA6IGA8ZGl2IGNsYXNzPVwiZmxleCBoLWZ1bGwgdy1mdWxsIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB0ZXh0LTN4bCB0ZXh0LXNsYXRlLTQwMFwiPlx1RDgzRFx1RENDNDwvZGl2PmA7XG4gICAgICAgIGNhcmQuaW5uZXJIVE1MID0gYFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJyZWxhdGl2ZSBhc3BlY3QtWzQvM10gb3ZlcmZsb3ctaGlkZGVuIHJvdW5kZWQteGwgYmctc2xhdGUtMTAwXCI+XG4gICAgICAgICAgICAke3ByZXZpZXd9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cIm10LTIgc3BhY2UteS0xXCI+XG4gICAgICAgICAgICA8cCBjbGFzcz1cInRleHQtc20gZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTkwMCB0cnVuY2F0ZVwiPiR7aXRlbS5maWxlbmFtZX08L3A+XG4gICAgICAgICAgICA8cCBjbGFzcz1cInRleHQteHMgdGV4dC1zbGF0ZS01MDBcIj5cbiAgICAgICAgICAgICAgJHtmb3JtYXRUeXBlTGFiZWwoaXRlbSl9IFx1MDBCNyAke2Zvcm1hdEZpbGVTaXplKGl0ZW0uc2l6ZSl9XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIGA7XG4gICAgICAgIGlmIChpdGVtLmlkID09PSBoaWdobGlnaHRNZWRpYUlkKSB7XG4gICAgICAgICAgY2FyZC5jbGFzc0xpc3QuYWRkKCdyaW5nLTInLCAncmluZy1bIzlDNkJGRl0nKTtcbiAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBjYXJkLmNsYXNzTGlzdC5yZW1vdmUoJ3JpbmctMicsICdyaW5nLVsjOUM2QkZGXScpO1xuICAgICAgICAgIH0sIDE2MDApO1xuICAgICAgICB9XG4gICAgICAgIGNhcmQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBzZWxlY3RNZWRpYShpdGVtLmlkKSk7XG4gICAgICAgIGdyaWQuYXBwZW5kQ2hpbGQoY2FyZCk7XG4gICAgICB9KTtcbiAgICAgIGhpZ2hsaWdodE1lZGlhSWQgPSBudWxsO1xuICAgIH07XG5cbiAgICBjb25zdCByZW5kZXJVc2VkSW4gPSAoaXRlbSkgPT4ge1xuICAgICAgaWYgKCFkZXRhaWxVc2VkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGRldGFpbFVzZWQuaW5uZXJIVE1MID0gJyc7XG4gICAgICBpZiAoIWl0ZW0udXNlZEluIHx8IGl0ZW0udXNlZEluLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICAgIGxpLnRleHRDb250ZW50ID0gJ05vbiB1dGlsaXNcdTAwRTknO1xuICAgICAgICBsaS5jbGFzc05hbWUgPSAndGV4dC14cyB0ZXh0LXNsYXRlLTQwMCc7XG4gICAgICAgIGRldGFpbFVzZWQuYXBwZW5kQ2hpbGQobGkpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpdGVtLnVzZWRJbi5mb3JFYWNoKChlbnRyeSkgPT4ge1xuICAgICAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICAgIGxpLnRleHRDb250ZW50ID0gZW50cnk7XG4gICAgICAgIGxpLmNsYXNzTmFtZSA9ICd0ZXh0LXhzIHRleHQtc2xhdGUtNjAwJztcbiAgICAgICAgZGV0YWlsVXNlZC5hcHBlbmRDaGlsZChsaSk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgdXBkYXRlRGV0YWlsQWN0aW9ucyA9IChzYXZpbmcpID0+IHtcbiAgICAgIGlmICghZGV0YWlsU2F2ZUJ1dHRvbikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAodXBsb2FkTW9kZSkge1xuICAgICAgICBkZXRhaWxTYXZlQnV0dG9uLnRleHRDb250ZW50ID0gc2F2aW5nID8gJ1RcdTAwRTlsXHUwMEU5dmVyc2VtZW50XHUyMDI2JyA6ICdUXHUwMEU5bFx1MDBFOXZlcnNlcic7XG4gICAgICAgIGRldGFpbFNhdmVCdXR0b24uZGlzYWJsZWQgPSBzYXZpbmcgfHwgIXBlbmRpbmdVcGxvYWRGaWxlO1xuICAgICAgICBpZiAoZGV0YWlsRGVsZXRlQnV0dG9uKSB7XG4gICAgICAgICAgZGV0YWlsRGVsZXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGRldGFpbFNhdmVCdXR0b24udGV4dENvbnRlbnQgPSBzYXZpbmcgPyAnRW5yZWdpc3RyZW1lbnRcdTIwMjYnIDogJ0VucmVnaXN0cmVyJztcbiAgICAgIGRldGFpbFNhdmVCdXR0b24uZGlzYWJsZWQgPSBzYXZpbmcgfHwgIWRldGFpbERpcnR5O1xuICAgICAgaWYgKGRldGFpbERlbGV0ZUJ1dHRvbikge1xuICAgICAgICBkZXRhaWxEZWxldGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIGRldGFpbERlbGV0ZUJ1dHRvbi5kaXNhYmxlZCA9ICFhY3RpdmVNZWRpYUlkO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBzZWxlY3RNZWRpYSA9IChtZWRpYUlkKSA9PiB7XG4gICAgICBjb25zdCBpdGVtID0gbWVkaWFJdGVtcy5maW5kKChlbnRyeSkgPT4gZW50cnkuaWQgPT09IG1lZGlhSWQpO1xuICAgICAgaWYgKCFpdGVtKSB7XG4gICAgICAgIHJlc2V0RGV0YWlsUGFuZWwoKTtcbiAgICAgICAgcmVuZGVyR3JpZCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjbGVhclVwbG9hZFN0YXRlKCk7XG4gICAgICBhY3RpdmVNZWRpYUlkID0gaXRlbS5pZDtcbiAgICAgIGRldGFpbERpcnR5ID0gZmFsc2U7XG4gICAgICB1cGRhdGVEZXRhaWxBY3Rpb25zKGZhbHNlKTtcbiAgICAgIHJlbmRlckdyaWQoKTtcbiAgICAgIGRldGFpbEVtcHR5Py5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGRldGFpbFBhbmVsPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGlmIChkZXRhaWxQcmV2aWV3KSB7XG4gICAgICAgIGlmIChpc0ltYWdlVHlwZShpdGVtKSkge1xuICAgICAgICAgIGRldGFpbFByZXZpZXcuaW5uZXJIVE1MID0gYDxpbWcgc3JjPVwiJHtpdGVtLnBhdGh9XCIgYWx0PVwiJHtpdGVtLmFsdCB8fCBpdGVtLmZpbGVuYW1lfVwiIGNsYXNzPVwiaC1mdWxsIHctZnVsbCByb3VuZGVkLTJ4bCBvYmplY3QtY292ZXJcIiAvPmA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGV0YWlsUHJldmlldy5pbm5lckhUTUwgPVxuICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJmbGV4IGgtZnVsbCB3LWZ1bGwgZmxleC1jb2wgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGdhcC0xIHRleHQtc2xhdGUtNDAwXCI+PHNwYW4gY2xhc3M9XCJ0ZXh0LTN4bFwiPlx1RDgzRFx1RENDNDwvc3Bhbj48c3BhbiBjbGFzcz1cInRleHQteHMgZm9udC1zZW1pYm9sZFwiPkRvY3VtZW50PC9zcGFuPjwvZGl2Pic7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGRldGFpbE5hbWUgJiYgKGRldGFpbE5hbWUudGV4dENvbnRlbnQgPSBpdGVtLmZpbGVuYW1lIHx8ICdGaWNoaWVyJyk7XG4gICAgICBkZXRhaWxUeXBlICYmIChkZXRhaWxUeXBlLnRleHRDb250ZW50ID0gZm9ybWF0VHlwZUxhYmVsKGl0ZW0pKTtcbiAgICAgIGRldGFpbFNpemUgJiYgKGRldGFpbFNpemUudGV4dENvbnRlbnQgPSBmb3JtYXRGaWxlU2l6ZShpdGVtLnNpemUpKTtcbiAgICAgIGlmIChkZXRhaWxBbHRJbnB1dCkge1xuICAgICAgICBkZXRhaWxBbHRJbnB1dC52YWx1ZSA9IGl0ZW0uYWx0IHx8ICcnO1xuICAgICAgfVxuICAgICAgZGV0YWlsUGF0aCAmJiAoZGV0YWlsUGF0aC50ZXh0Q29udGVudCA9IGl0ZW0ucGF0aCB8fCAnXHUyMDE0Jyk7XG4gICAgICByZW5kZXJVc2VkSW4oaXRlbSk7XG4gICAgfTtcblxuICAgIGNvbnN0IHNob3dVcGxvYWRQcmV2aWV3ID0gKGZpbGUpID0+IHtcbiAgICAgIGlmICghZmlsZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB1cGxvYWRNb2RlID0gdHJ1ZTtcbiAgICAgIGRldGFpbERpcnR5ID0gZmFsc2U7XG4gICAgICBhY3RpdmVNZWRpYUlkID0gbnVsbDtcbiAgICAgIGRldGFpbEVtcHR5Py5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGRldGFpbFBhbmVsPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGlmICh1cGxvYWRQcmV2aWV3VXJsKSB7XG4gICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwodXBsb2FkUHJldmlld1VybCk7XG4gICAgICB9XG4gICAgICB1cGxvYWRQcmV2aWV3VXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKTtcbiAgICAgIGlmIChkZXRhaWxQcmV2aWV3KSB7XG4gICAgICAgIGRldGFpbFByZXZpZXcuaW5uZXJIVE1MID0gYDxpbWcgc3JjPVwiJHt1cGxvYWRQcmV2aWV3VXJsfVwiIGFsdD1cIiR7ZmlsZS5uYW1lfVwiIGNsYXNzPVwiaC1mdWxsIHctZnVsbCByb3VuZGVkLTJ4bCBvYmplY3QtY292ZXJcIiAvPmA7XG4gICAgICB9XG4gICAgICBkZXRhaWxOYW1lICYmIChkZXRhaWxOYW1lLnRleHRDb250ZW50ID0gZmlsZS5uYW1lKTtcbiAgICAgIGRldGFpbFR5cGUgJiYgKGRldGFpbFR5cGUudGV4dENvbnRlbnQgPSBmb3JtYXRUeXBlTGFiZWwoeyB0eXBlOiBmaWxlLnR5cGUsIGZpbGVuYW1lOiBmaWxlLm5hbWUgfSkpO1xuICAgICAgZGV0YWlsU2l6ZSAmJiAoZGV0YWlsU2l6ZS50ZXh0Q29udGVudCA9IGZvcm1hdEZpbGVTaXplKGZpbGUuc2l6ZSkpO1xuICAgICAgaWYgKGRldGFpbEFsdElucHV0ICYmICFkZXRhaWxBbHRJbnB1dC52YWx1ZS50cmltKCkpIHtcbiAgICAgICAgZGV0YWlsQWx0SW5wdXQudmFsdWUgPSBmaWxlLm5hbWUucmVwbGFjZSgvXFwuW14uXSskLywgJycpLnJlcGxhY2UoL1stX10vZywgJyAnKTtcbiAgICAgIH1cbiAgICAgIGRldGFpbFBhdGggJiYgKGRldGFpbFBhdGgudGV4dENvbnRlbnQgPSAnRW4gYXR0ZW50ZSBkZSB0XHUwMEU5bFx1MDBFOXZlcnNlbWVudCcpO1xuICAgICAgaWYgKGRldGFpbFVzZWQpIHtcbiAgICAgICAgZGV0YWlsVXNlZC5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgY29uc3QgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgICBsaS50ZXh0Q29udGVudCA9ICdOb24gdXRpbGlzXHUwMEU5JztcbiAgICAgICAgbGkuY2xhc3NOYW1lID0gJ3RleHQteHMgdGV4dC1zbGF0ZS00MDAnO1xuICAgICAgICBkZXRhaWxVc2VkLmFwcGVuZENoaWxkKGxpKTtcbiAgICAgIH1cbiAgICAgIHVwZGF0ZURldGFpbEFjdGlvbnMoZmFsc2UpO1xuICAgIH07XG5cbiAgICBjb25zdCBhcHBseUZpbHRlcnMgPSAoKSA9PiB7XG4gICAgICBjb25zdCB0eXBlRmlsdGVyID0gZmlsdGVyVHlwZT8udmFsdWUgfHwgJ2FsbCc7XG4gICAgICBpZiAodHlwZUZpbHRlciA9PT0gJ2FsbCcpIHtcbiAgICAgICAgZmlsdGVyZWRJdGVtcyA9IFsuLi5tZWRpYUl0ZW1zXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZpbHRlcmVkSXRlbXMgPSBtZWRpYUl0ZW1zLmZpbHRlcigoaXRlbSkgPT4gaXRlbS5ncm91cFR5cGUgPT09IHR5cGVGaWx0ZXIpO1xuICAgICAgfVxuICAgICAgaWYgKCFmaWx0ZXJlZEl0ZW1zLnNvbWUoKGl0ZW0pID0+IGl0ZW0uaWQgPT09IGFjdGl2ZU1lZGlhSWQpKSB7XG4gICAgICAgIHJlc2V0RGV0YWlsUGFuZWwoKTtcbiAgICAgIH1cbiAgICAgIHVwZGF0ZUNvdW50QmFkZ2UoKTtcbiAgICAgIHJlbmRlckdyaWQoKTtcbiAgICB9O1xuXG4gICAgY29uc3QgbG9hZE1lZGlhID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFtZWRpYUFwaUJhc2UpIHtcbiAgICAgICAgZW1wdHlTdGF0ZT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2gobWVkaWFBcGlCYXNlLCB7XG4gICAgICAgICAgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxlcyBtXHUwMEU5ZGlhcy4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7IGl0ZW1zOiBbXSB9KSk7XG4gICAgICAgIG1lZGlhSXRlbXMgPSBBcnJheS5pc0FycmF5KHBheWxvYWQuaXRlbXMpXG4gICAgICAgICAgPyBwYXlsb2FkLml0ZW1zLm1hcCgoaXRlbSkgPT4gKHsgLi4uaXRlbSwgZ3JvdXBUeXBlOiBkZXJpdmVHcm91cFR5cGUoaXRlbSkgfSkpXG4gICAgICAgICAgOiBbXTtcbiAgICAgICAgYXBwbHlGaWx0ZXJzKCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW21lZGlhXSBsb2FkIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxlcyBtXHUwMEU5ZGlhcy4nKTtcbiAgICAgICAgbWVkaWFJdGVtcyA9IFtdO1xuICAgICAgICBhcHBseUZpbHRlcnMoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgZmlsdGVyVHlwZT8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICAgICAgYXBwbHlGaWx0ZXJzKCk7XG4gICAgfSk7XG4gICAgZGV0YWlsQWx0SW5wdXQ/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgaWYgKHVwbG9hZE1vZGUpIHtcbiAgICAgICAgdXBkYXRlRGV0YWlsQWN0aW9ucyhmYWxzZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghYWN0aXZlTWVkaWFJZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBkZXRhaWxEaXJ0eSA9IHRydWU7XG4gICAgICB1cGRhdGVEZXRhaWxBY3Rpb25zKGZhbHNlKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IGhhbmRsZUZpbGVTZWxlY3Rpb24gPSAoZmlsZSkgPT4ge1xuICAgICAgaWYgKCFmaWxlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghZmlsZS50eXBlLnN0YXJ0c1dpdGgoJ2ltYWdlLycpKSB7XG4gICAgICAgIHNob3dUb2FzdCgnU2V1bGVzIGxlcyBpbWFnZXMgc29udCBhY2NlcHRcdTAwRTllcyBwb3VyIGxlIG1vbWVudC4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGZpbGUuc2l6ZSA+IDQgKiAxMDI0ICogMTAyNCkge1xuICAgICAgICBzaG93VG9hc3QoJ0ZpY2hpZXIgdHJvcCB2b2x1bWluZXV4ICg0IE1vIG1heCkuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHBlbmRpbmdVcGxvYWRGaWxlID0gZmlsZTtcbiAgICAgIHNob3dVcGxvYWRQcmV2aWV3KGZpbGUpO1xuICAgICAgaWYgKHVwbG9hZFN0YXR1cykge1xuICAgICAgICB1cGxvYWRTdGF0dXMudGV4dENvbnRlbnQgPSBgJHtmaWxlLm5hbWV9IFx1MDBCNyAke2Zvcm1hdEZpbGVTaXplKGZpbGUuc2l6ZSl9YDtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgcmVhZEZpbGVBc0Jhc2U2NCA9IChmaWxlKSA9PlxuICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgICByZWFkZXIub25sb2FkID0gKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHJlYWRlci5yZXN1bHQgfHwgJyc7XG4gICAgICAgICAgY29uc3QgWywgYmFzZTY0ID0gJyddID0gU3RyaW5nKHJlc3VsdCkuc3BsaXQoJywnKTtcbiAgICAgICAgICByZXNvbHZlKGJhc2U2NCk7XG4gICAgICAgIH07XG4gICAgICAgIHJlYWRlci5vbmVycm9yID0gKCkgPT4gcmVqZWN0KG5ldyBFcnJvcignSW1wb3NzaWJsZSBkZSBsaXJlIGNlIGZpY2hpZXIuJykpO1xuICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcbiAgICAgIH0pO1xuXG4gICAgY29uc3QgdXBsb2FkU2VsZWN0ZWRNZWRpYSA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghcGVuZGluZ1VwbG9hZEZpbGUgfHwgIW1lZGlhQXBpQmFzZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB1cGxvYWRJblByb2dyZXNzID0gdHJ1ZTtcbiAgICAgIHVwZGF0ZURldGFpbEFjdGlvbnModHJ1ZSk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBiYXNlNjQgPSBhd2FpdCByZWFkRmlsZUFzQmFzZTY0KHBlbmRpbmdVcGxvYWRGaWxlKTtcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgICBmaWxlbmFtZTogcGVuZGluZ1VwbG9hZEZpbGUubmFtZSxcbiAgICAgICAgICB0eXBlOiBwZW5kaW5nVXBsb2FkRmlsZS50eXBlLFxuICAgICAgICAgIHNpemU6IHBlbmRpbmdVcGxvYWRGaWxlLnNpemUsXG4gICAgICAgICAgYWx0OiBkZXRhaWxBbHRJbnB1dD8udmFsdWUgfHwgJycsXG4gICAgICAgICAgZGF0YTogYmFzZTY0LFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKG1lZGlhQXBpQmFzZSwge1xuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnN0IGVycm9yUGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JQYXlsb2FkLm1lc3NhZ2UgfHwgJ1VwbG9hZCBpbXBvc3NpYmxlLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNhdmVkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBzYXZlZC5ncm91cFR5cGUgPSBkZXJpdmVHcm91cFR5cGUoc2F2ZWQpO1xuICAgICAgICBtZWRpYUl0ZW1zID0gWy4uLm1lZGlhSXRlbXMsIHNhdmVkXTtcbiAgICAgICAgaGlnaGxpZ2h0TWVkaWFJZCA9IHNhdmVkLmlkO1xuICAgICAgICBhcHBseUZpbHRlcnMoKTtcbiAgICAgICAgc2VsZWN0TWVkaWEoc2F2ZWQuaWQpO1xuICAgICAgICBzaG93VG9hc3QoJ01cdTAwRTlkaWEgYWpvdXRcdTAwRTknKTtcbiAgICAgICAgY2xlYXJVcGxvYWRTdGF0ZSgpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1ttZWRpYV0gdXBsb2FkIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSB0XHUwMEU5bFx1MDBFOXZlcnNlciBjZSBtXHUwMEU5ZGlhLicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgdXBsb2FkSW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgICAgICBwZW5kaW5nVXBsb2FkRmlsZSA9IG51bGw7XG4gICAgICAgIHVwZGF0ZURldGFpbEFjdGlvbnMoZmFsc2UpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB1cGxvYWRPcGVuQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGZpbGVJbnB1dD8uY2xpY2soKSk7XG4gICAgZmlsZUlucHV0Py5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgICBpZiAoZmlsZUlucHV0LmZpbGVzICYmIGZpbGVJbnB1dC5maWxlc1swXSkge1xuICAgICAgICBoYW5kbGVGaWxlU2VsZWN0aW9uKGZpbGVJbnB1dC5maWxlc1swXSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgY29uc3QgY2xvc2VEZWxldGVNb2RhbCA9ICgpID0+IHtcbiAgICAgIGlmICghZGVsZXRlTW9kYWwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZGVsZXRlTW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBkZWxldGVNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdmbGV4Jyk7XG4gICAgfTtcblxuICAgIGNvbnN0IG9wZW5EZWxldGVNb2RhbCA9ICgpID0+IHtcbiAgICAgIGlmICghYWN0aXZlTWVkaWFJZCB8fCB1cGxvYWRNb2RlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChkZWxldGVNb2RhbCkge1xuICAgICAgICBkZWxldGVNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgZGVsZXRlTW9kYWwuY2xhc3NMaXN0LmFkZCgnZmxleCcpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBGYWxsYmFjayBzaSBhdWN1bmUgbW9kYWxlIG4nZXN0IGRpc3BvbmlibGVcbiAgICAgIGlmICh3aW5kb3cuY29uZmlybSgnU3VwcHJpbWVyIGNlIG1cdTAwRTlkaWEgPycpKSB7XG4gICAgICAgIGRlbGV0ZUFjdGl2ZU1lZGlhKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGRlbGV0ZUFjdGl2ZU1lZGlhID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFhY3RpdmVNZWRpYUlkIHx8ICFtZWRpYUFwaUJhc2UpIHtcbiAgICAgICAgY2xvc2VEZWxldGVNb2RhbCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBkaXNhYmxlQnV0dG9ucyA9ICgpID0+IHtcbiAgICAgICAgaWYgKGRldGFpbERlbGV0ZUJ1dHRvbikge1xuICAgICAgICAgIGRldGFpbERlbGV0ZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlbGV0ZUNvbmZpcm1CdXR0b24pIHtcbiAgICAgICAgICBkZWxldGVDb25maXJtQnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgICBkZWxldGVDb25maXJtQnV0dG9uLnRleHRDb250ZW50ID0gJ1N1cHByZXNzaW9uXHUyMDI2JztcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGNvbnN0IGVuYWJsZUJ1dHRvbnMgPSAoKSA9PiB7XG4gICAgICAgIGlmIChkZXRhaWxEZWxldGVCdXR0b24pIHtcbiAgICAgICAgICBkZXRhaWxEZWxldGVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVsZXRlQ29uZmlybUJ1dHRvbikge1xuICAgICAgICAgIGRlbGV0ZUNvbmZpcm1CdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICBkZWxldGVDb25maXJtQnV0dG9uLnRleHRDb250ZW50ID0gJ1N1cHByaW1lcic7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBkaXNhYmxlQnV0dG9ucygpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgICBgJHttZWRpYUFwaUJhc2V9LyR7ZW5jb2RlVVJJQ29tcG9uZW50KGFjdGl2ZU1lZGlhSWQpfWAsXG4gICAgICAgICAgeyBtZXRob2Q6ICdERUxFVEUnIH0sXG4gICAgICAgICk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihwYXlsb2FkLm1lc3NhZ2UgfHwgJ1N1cHByZXNzaW9uIGltcG9zc2libGUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgbWVkaWFJdGVtcyA9IG1lZGlhSXRlbXMuZmlsdGVyKChpdGVtKSA9PiBpdGVtLmlkICE9PSBhY3RpdmVNZWRpYUlkKTtcbiAgICAgICAgZmlsdGVyZWRJdGVtcyA9IGZpbHRlcmVkSXRlbXMuZmlsdGVyKChpdGVtKSA9PiBpdGVtLmlkICE9PSBhY3RpdmVNZWRpYUlkKTtcbiAgICAgICAgc2hvd1RvYXN0KCdNXHUwMEU5ZGlhIHN1cHByaW1cdTAwRTknKTtcbiAgICAgICAgcmVzZXREZXRhaWxQYW5lbCgpO1xuICAgICAgICB1cGRhdGVDb3VudEJhZGdlKCk7XG4gICAgICAgIHJlbmRlckdyaWQoKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbbWVkaWFdIGRlbGV0ZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgc3VwcHJpbWVyIGNlIG1cdTAwRTlkaWEuJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBlbmFibGVCdXR0b25zKCk7XG4gICAgICAgIGNsb3NlRGVsZXRlTW9kYWwoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgZGVsZXRlQ2FuY2VsQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlRGVsZXRlTW9kYWwpO1xuICAgIGRlbGV0ZU1vZGFsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gZGVsZXRlTW9kYWwpIHtcbiAgICAgICAgY2xvc2VEZWxldGVNb2RhbCgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgZGVsZXRlQ29uZmlybUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBkZWxldGVBY3RpdmVNZWRpYSgpKTtcbiAgICBkZXRhaWxEZWxldGVCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlbkRlbGV0ZU1vZGFsKTtcblxuICAgIGRldGFpbFNhdmVCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKHVwbG9hZE1vZGUpIHtcbiAgICAgICAgdXBsb2FkU2VsZWN0ZWRNZWRpYSgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWFjdGl2ZU1lZGlhSWQgfHwgIW1lZGlhQXBpQmFzZSB8fCAhZGV0YWlsQWx0SW5wdXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdXBkYXRlRGV0YWlsQWN0aW9ucyh0cnVlKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSB7IGFsdDogZGV0YWlsQWx0SW5wdXQudmFsdWUgfHwgJycgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgICBgJHttZWRpYUFwaUJhc2V9LyR7ZW5jb2RlVVJJQ29tcG9uZW50KGFjdGl2ZU1lZGlhSWQpfWAsXG4gICAgICAgICAge1xuICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgICAgfSxcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnN0IGVycm9yUGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JQYXlsb2FkLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgbWV0dHJlIFx1MDBFMCBqb3VyIGNlIG1cdTAwRTlkaWEuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdXBkYXRlZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgbWVkaWFJdGVtcyA9IG1lZGlhSXRlbXMubWFwKChpdGVtKSA9PlxuICAgICAgICAgIGl0ZW0uaWQgPT09IGFjdGl2ZU1lZGlhSWQgPyB7IC4uLml0ZW0sIC4uLnVwZGF0ZWQgfSA6IGl0ZW0sXG4gICAgICAgICk7XG4gICAgICAgIGZpbHRlcmVkSXRlbXMgPSBmaWx0ZXJlZEl0ZW1zLm1hcCgoaXRlbSkgPT5cbiAgICAgICAgICBpdGVtLmlkID09PSBhY3RpdmVNZWRpYUlkID8geyAuLi5pdGVtLCAuLi51cGRhdGVkIH0gOiBpdGVtLFxuICAgICAgICApO1xuICAgICAgICBkZXRhaWxEaXJ0eSA9IGZhbHNlO1xuICAgICAgICB1cGRhdGVEZXRhaWxBY3Rpb25zKGZhbHNlKTtcbiAgICAgICAgc2hvd1RvYXN0KCdNXHUwMEU5ZGlhIG1pcyBcdTAwRTAgam91cicpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1ttZWRpYV0gdXBkYXRlIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnXHUwMEM5Y2hlYyBkZSBsYSBtaXNlIFx1MDBFMCBqb3VyLicpO1xuICAgICAgICB1cGRhdGVEZXRhaWxBY3Rpb25zKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGxvYWRNZWRpYSgpO1xuICB9XG59KTtcbiJdLAogICJtYXBwaW5ncyI6ICJNQUFBLFNBQVMsaUJBQWlCLG1CQUFvQixJQUFNLENBQ2xELFFBQVEsSUFBSSwyQkFBd0IsRUFDcEMsSUFBTUEsR0FBZSxTQUFTLGNBQWMsZUFBZSxFQUN2REEsSUFDRkEsR0FBYSxpQkFBaUIsUUFBUyxT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QUFPLENBQzlCLENBQ0YsRUFDQSxHQUFJLENBQUNELEVBQVMsR0FBSSxDQUNoQixJQUFNcWEsRUFBZSxNQUFNcmEsRUFBUyxLQUFLLEVBQUUsTUFBTSxLQUFPLENBQUMsRUFBRSxFQUMzRCxNQUFNLElBQUksTUFBTXFhLEVBQWEsU0FBVyw2Q0FBdUMsQ0FDakYsQ0FDQSxJQUFNa0gsRUFBVSxNQUFNdmhCLEVBQVMsS0FBSyxFQUNwQ2dmLEVBQWFBLEVBQVcsSUFBSzVTLEdBQzNCQSxFQUFLLEtBQU84UyxFQUFnQixDQUFFLEdBQUc5UyxFQUFNLEdBQUdtVixDQUFRLEVBQUluVixDQUN4RCxFQUNBNlMsRUFBZ0JBLEVBQWMsSUFBSzdTLEdBQ2pDQSxFQUFLLEtBQU84UyxFQUFnQixDQUFFLEdBQUc5UyxFQUFNLEdBQUdtVixDQUFRLEVBQUluVixDQUN4RCxFQUNBa1QsRUFBYyxHQUNkWSxHQUFvQixFQUFLLEVBQ3pCdmhCLEVBQVUsd0JBQWtCLENBQzlCLE9BQVMvQyxFQUFLLENBQ1osUUFBUSxNQUFNLHdCQUF5QkEsQ0FBRyxFQUMxQytDLEVBQVUvQyxFQUFJLFNBQVcsZ0NBQTBCLEVBQ25Ec2tCLEdBQW9CLEVBQUssQ0FDM0IsRUFDRixHQUVBVSxHQUFVLENBQ1osQ0FDRixDQUFDIiwKICAibmFtZXMiOiBbImxvZ291dEJ1dHRvbiIsICJlcnIiLCAic2lkZWJhciIsICJzaWRlYmFyT3ZlcmxheSIsICJzaWRlYmFyVG9nZ2xlcyIsICJzaWRlYmFyQ2xvc2VCdXR0b25zIiwgImJvZHkiLCAic2lkZWJhck9wZW4iLCAiYXBwbHlTaWRlYmFyU3RhdGUiLCAib3BlblNpZGViYXIiLCAiY2xvc2VTaWRlYmFyIiwgImJ1dHRvbiIsICJldmVudCIsICJBQ1RJVkVfU0lURV9LRVkiLCAiQUNUSVZFX1NJVEVfTkFNRV9LRVkiLCAic3RvcmVkU2l0ZSIsICJzaXRlQ2FyZHMiLCAic2l0ZVNlbGVjdEJ1dHRvbnMiLCAic2l0ZU5hbWVMYWJlbCIsICJ3b3Jrc3BhY2VTaXRlTGFiZWwiLCAid29ya3NwYWNlQmFja05hbWUiLCAid29ya3NwYWNlQmFja01vZGFsIiwgIndvcmtzcGFjZUJhY2tCdXR0b25zIiwgIndvcmtzcGFjZUJhY2tDYW5jZWwiLCAid29ya3NwYWNlQmFja0NvbmZpcm0iLCAid29ya3NwYWNlTmF2TGlua3MiLCAic2l0ZVRvYXN0IiwgInNpdGVUb2FzdE1lc3NhZ2UiLCAic2l0ZUNyZWF0ZUJ1dHRvbnMiLCAic2l0ZU1vZGFsIiwgInNpdGVGb3JtIiwgInNpdGVOYW1lSW5wdXQiLCAic2l0ZVNsdWdJbnB1dCIsICJzaXRlU2x1Z0Vycm9yIiwgInNpdGVNb2RhbEVycm9yIiwgInNpdGVNb2RhbENhbmNlbEJ1dHRvbnMiLCAic2l0ZU1vZGFsU3VibWl0QnV0dG9uIiwgIndvcmtzcGFjZUNvbnRleHQiLCAiZ2V0V29ya3NwYWNlQ29udGV4dCIsICJzbHVnTWFudWFsbHlFZGl0ZWQiLCAibGFzdEZvY3VzZWRFbGVtZW50IiwgInRvYXN0VGltZW91dElkIiwgImZvY3VzYWJsZVNlbGVjdG9yIiwgInRyYXBGb2N1cyIsICJmb2N1c2FibGVFbGVtZW50cyIsICJlbCIsICJmaXJzdCIsICJsYXN0IiwgInNob3dUb2FzdCIsICJtZXNzYWdlIiwgImVuc3VyZUxlYWRpbmdTbGFzaCIsICJzbHVnIiwgInN0cmlwTGVhZGluZ1NsYXNoIiwgInBlcnNpc3RTaXRlU3RhdGUiLCAibmFtZSIsICJub3JtYWxpemVkU2x1ZyIsICJ1cGRhdGVTaXRlTGFiZWxzIiwgInVwZGF0ZVdvcmtzcGFjZU5hdkxpbmtzIiwgImxpbmsiLCAidGFiIiwgInNsdWdQYXRoIiwgImFwcGx5QWN0aXZlU2l0ZSIsICJvcHRpb25zIiwgImFjdGl2ZVNpdGVOYW1lIiwgImNhcmQiLCAiaXNBY3RpdmUiLCAiYmFkZ2UiLCAiZmluYWxOYW1lIiwgInNlbGVjdFNpdGUiLCAicmVzcG9uc2UiLCAicGF5bG9hZCIsICJmaW5hbFNsdWciLCAic3luY0FjdGl2ZVNpdGVGcm9tU2VydmVyIiwgInNpdGUiLCAiZGVmYXVsdENhcmQiLCAid29ya3NwYWNlU2x1Z2lmeSIsICJ2YWx1ZSIsICJub3JtYWxpemVTbHVnVmFsdWUiLCAiYmFzZSIsICJvcGVuU2l0ZU1vZGFsIiwgImNsb3NlU2l0ZU1vZGFsIiwgImdldFNsdWdTZXQiLCAibmFtZVZhbHVlIiwgInNsdWdWYWx1ZSIsICJjcmVhdGVkU2l0ZSIsICJjbG9zZVdvcmtzcGFjZUJhY2tNb2RhbCIsICJtYXRjaCIsICJkZXRlY3RXb3Jrc3BhY2VTZWN0aW9uIiwgIm9wZW5Xb3Jrc3BhY2VCYWNrTW9kYWwiLCAiYWN0aXZlU2VjdGlvbiIsICJpbml0RGVzaWduV29ya3NwYWNlIiwgImluaXRDb250ZW50V29ya3NwYWNlIiwgImluaXRNZWRpYVdvcmtzcGFjZSIsICJpbml0RGVwbG95V29ya3NwYWNlIiwgImluaXRTZXR0aW5nc1dvcmtzcGFjZSIsICJwYWdlTGlzdHMiLCAiYWN0aXZlVGl0bGUiLCAiYWN0aXZlU2x1ZyIsICJwcmV2aWV3VGFncyIsICJwcmV2aWV3RnJhbWUiLCAicHJldmlld09wZW5CdXR0b24iLCAicHJldmlld1N0YXR1cyIsICJwcmV2aWV3SGlnaGxpZ2h0T3ZlcmxheSIsICJzZW9Ub2dnbGVCdXR0b24iLCAic2VvUGFuZWwiLCAic2VvQ2xvc2VCdXR0b24iLCAic2VvRm9ybSIsICJzZW9UaXRsZUlucHV0IiwgInNlb0Rlc2NyaXB0aW9uSW5wdXQiLCAic2VvRmVlZGJhY2siLCAic2VvU2F2ZUJ1dHRvbiIsICJibG9ja0xpc3QiLCAiYmxvY2tMaXN0RW1wdHkiLCAiYmxvY2tDb3VudEJhZGdlIiwgImJsb2NrTGlicmFyeVRvZ2dsZSIsICJibG9ja0xpYnJhcnkiLCAiYmxvY2tBZGRCdXR0b25zIiwgImJsb2NrRGVsZXRlTW9kYWwiLCAiYmxvY2tEZWxldGVDb25maXJtIiwgImJsb2NrRGVsZXRlQ2FuY2VsIiwgImJsb2NrRGV0YWlsRW1wdHkiLCAiYmxvY2tEZXRhaWxTdGF0dXMiLCAiYmxvY2tFZGl0b3IiLCAiYmxvY2tFZGl0b3JUaXRsZSIsICJibG9ja0VkaXRvclR5cGUiLCAiYmxvY2tFZGl0b3JVbnN1cHBvcnRlZCIsICJibG9ja0Zvcm0iLCAiYmxvY2tGb3JtU2VjdGlvbnMiLCAiYmxvY2tUYWJzIiwgImFjdGl2ZUJsb2NrVGFiIiwgInN3aXRjaEJsb2NrVGFiIiwgInRhYk5hbWUiLCAicGFuZWwiLCAiY29sbGVjdGlvblNlbGVjdCIsICJjb2xsZWN0aW9uU2VsZWN0aW9uSW5mbyIsICJibG9ja0Zvcm1DYW5jZWwiLCAiZ3JvdXBQcmV2aWV3TW9iaWxlIiwgImdyb3VwUHJldmlld0Rlc2t0b3AiLCAiYmxvY2tUeXBlRm9ybXMiLCAiYmxvY2tUeXBlQWxpYXNlcyIsICJ1cGRhdGVHcm91cE1pbmlQcmV2aWV3IiwgIm1vYmlsZVZhbHVlIiwgImRlc2t0b3BWYWx1ZSIsICJyZW5kZXJCb3hlcyIsICJjb3VudCIsICJmZXRjaFBhZ2VzRnJvbVNlcnZlciIsICJwYWdlc0FwaUJhc2UiLCAiY3JlYXRlUGFnZU9uU2VydmVyIiwgInRpdGxlIiwgInNhdmVQYWdlVG9TZXJ2ZXIiLCAicGFnZSIsICJzYXZlZCIsICJub3JtYWxpemVkIiwgIm5vcm1hbGl6ZVBhZ2VEYXRhIiwgInBhZ2VzIiwgImVudHJ5IiwgImN1cnJlbnRQYWdlIiwgImxvYWRQYWdlc0Zyb21TZXJ2ZXIiLCAiYWN0aXZlUGFnZUlkIiwgInJlbmRlclBhZ2VMaXN0cyIsICJyZW5kZXJCbG9ja0xpc3QiLCAibG9hZGVkUGFnZXMiLCAiZ2V0TG9hZGluZ1ByZXZpZXdIdG1sIiwgImdldFN0b3JlZEFjdGl2ZVBhZ2UiLCAic2V0QWN0aXZlUGFnZSIsICJub3JtYWxpemVUeXBlIiwgImdldEJsb2NrRm9ybUNvbmZpZyIsICJibG9jayIsICJ0eXBlS2V5IiwgImFsaWFzIiwgInBvcHVsYXRlQmxvY2tGb3JtIiwgIl9hIiwgIl9iIiwgIl9jIiwgImNvbmZpZyIsICJzZWN0aW9uIiwgImRlc2lyZWRWYWx1ZSIsICJ1cGRhdGVDb2xsZWN0aW9uU2VsZWN0T3B0aW9ucyIsICJzZXR0aW5nS2V5IiwgImZpZWxkTmFtZSIsICJpbnB1dCIsICJjb2xsZWN0Rm9ybVZhbHVlcyIsICJ2YWx1ZXMiLCAicGFyc2VkIiwgInVwZGF0ZVByZXZpZXdTdGF0dXMiLCAidGV4dCIsICJzZXJpYWxpemVQYWdlRm9yUHJldmlldyIsICJyZWZyZXNoUHJldmlldyIsICJwcmV2aWV3U2l0ZVNsdWciLCAicHJldmlld1JlYWR5IiwgInByZXZpZXdSZXF1ZXN0Q29udHJvbGxlciIsICJjb250cm9sbGVyIiwgImRhdGEiLCAibGF0ZXN0UHJldmlld0h0bWwiLCAiZXJyb3IiLCAiaGFuZGxlQmxvY2tGb3JtU3VibWl0IiwgImFjdGl2ZUJsb2NrSWQiLCAiZ2V0QWN0aXZlQmxvY2siLCAidXBkYXRlZEJsb2NrcyIsICJ1cGRhdGVkU2V0dGluZ3MiLCAidXBkYXRlZEJsb2NrIiwgInVwZGF0ZUN1cnJlbnRQYWdlQmxvY2tzIiwgImRyYXdlciIsICJkcmF3ZXJCYWNrZHJvcCIsICJkcmF3ZXJPcGVuQnV0dG9ucyIsICJkcmF3ZXJDbG9zZUJ1dHRvbnMiLCAiYWRkUGFnZVRvZ2dsZSIsICJhZGRQYWdlRm9ybSIsICJhZGRQYWdlVGl0bGUiLCAiYWRkUGFnZVNsdWciLCAiYWRkUGFnZUNhbmNlbCIsICJhZGRQYWdlRXJyb3IiLCAiYWRkUGFnZVN1Ym1pdEJ1dHRvbiIsICJpbXBvcnRUb2dnbGUiLCAiaW1wb3J0TW9kYWwiLCAiaW1wb3J0Q2xvc2VCdXR0b25zIiwgImltcG9ydERyb3B6b25lIiwgImltcG9ydEZpbGVJbnB1dCIsICJpbXBvcnRGaWxlTGlzdCIsICJpbXBvcnRGaWxlTmFtZXMiLCAiaW1wb3J0UmVzdWx0cyIsICJpbXBvcnRSZXN1bHRzQ29udGVudCIsICJpbXBvcnRTdWJtaXQiLCAiaW1wb3J0VGFicyIsICJpbXBvcnRQYW5lbHMiLCAiY29weVRlbXBsYXRlQnRuIiwgInRlbXBsYXRlSnNvbiIsICJpbXBvcnRTZWxlY3RlZEZpbGVzIiwgImRlbGV0ZVBhZ2VNb2RhbCIsICJkZWxldGVQYWdlTmFtZSIsICJkZWxldGVQYWdlQ2FuY2VsIiwgImRlbGV0ZVBhZ2VDb25maXJtIiwgInBhZ2VUb0RlbGV0ZSIsICJzaXRlS2V5IiwgInNpdGVTbHVnVmFsdWUiLCAic2FmZVNpdGVTbHVnIiwgImNvbGxlY3Rpb25zQXBpQmFzZSIsICJzdG9yYWdlS2V5cyIsICJjcmVhdGVCbG9jayIsICJpZCIsICJsYWJlbCIsICJ0eXBlIiwgInN0YXR1cyIsICJkZXNjcmlwdGlvbiIsICJwcm9wcyIsICJzZXR0aW5ncyIsICJibG9ja0xpYnJhcnlEZWZpbml0aW9ucyIsICJwZXJzaXN0QWN0aXZlUGFnZSIsICJwYWdlSWQiLCAic3RvcmVkIiwgImZvcm1hdEJsb2NrQ291bnQiLCAibm9ybWFsaXplUGFnZVNsdWciLCAiZ2VuZXJhdGVCbG9ja0lkIiwgImtleSIsICJjcmVhdGVJbml0aWFsQmxvY2tzIiwgInNldEFjdGl2ZUxhYmVscyIsICJyZW5kZXJQcmV2aWV3TWV0YSIsICJ0YWciLCAiZ2V0U3RhdHVzQmFkZ2VDbGFzc2VzIiwgInJlbmRlckJsb2NrRGV0YWlscyIsICJhcHBseVByZXZpZXdIaWdobGlnaHQiLCAiYmxvY2tJZCIsICJkb2MiLCAibm9kZSIsICJibG9ja3MiLCAiaXRlbSIsICJhY2NlbnQiLCAiY29udGVudCIsICJoYW5kbGUiLCAidGV4dFdyYXBwZXIiLCAibWV0YSIsICJ0eXBlQmFkZ2UiLCAic3RhdHVzQmFkZ2UiLCAiZGlzcGxheUxhYmVsIiwgImNvbGxlY3Rpb25OYW1lIiwgImRlc2lnbkNvbGxlY3Rpb25zIiwgImluZm8iLCAiYWN0aW9ucyIsICJtb3ZlQnV0dG9ucyIsICJtb3ZlVXAiLCAibW92ZUJsb2NrQnlPZmZzZXQiLCAibW92ZURvd24iLCAiZGVsZXRlQnV0dG9uIiwgIm9wZW5CbG9ja0RlbGV0ZU1vZGFsIiwgInNldEFjdGl2ZUJsb2NrIiwgIm9wZW5EZWxldGVQYWdlTW9kYWwiLCAiY2xvc2VEZWxldGVQYWdlTW9kYWwiLCAiZXhlY3V0ZURlbGV0ZVBhZ2UiLCAicGFnZVRpdGxlIiwgInJlc3VsdCIsICJwIiwgImFjdGl2ZUlkIiwgImxpc3QiLCAiaXNEZXNrdG9wRHJhd2VyIiwgImNsb3NlRHJhd2VyIiwgImRlbGV0ZUJ0biIsICJlIiwgInRhcmdldEJsb2NrIiwgIm5ld0Jsb2NrcyIsICJuZXh0UGFnZSIsICJ1cGRhdGVDdXJyZW50UGFnZVN0YXRlIiwgImlzRGVza3RvcFJlb3JkZXIiLCAib2Zmc2V0IiwgImluZGV4IiwgIm5ld0luZGV4IiwgIm1vdmVkIiwgInJlb3JkZXJCbG9ja3MiLCAic291cmNlSWQiLCAidGFyZ2V0SWQiLCAiZnJvbUluZGV4IiwgInRvSW5kZXgiLCAidXBkYXRlRHJhZ2dhYmxlU3RhdGUiLCAiZHJhZ2dhYmxlIiwgImNsb3NlQmxvY2tMaWJyYXJ5IiwgImJsb2NrTGlicmFyeU9wZW4iLCAib3BlbkJsb2NrTGlicmFyeSIsICJ0b2dnbGVCbG9ja0xpYnJhcnkiLCAiYWRkQmxvY2tGcm9tTGlicmFyeSIsICJkZWZpbml0aW9uIiwgIm5ld0Jsb2NrIiwgImZpcnN0Q29sbGVjdGlvbklkIiwgIm5leHRCbG9ja3MiLCAiZGVsZXRlQmxvY2tCeUlkIiwgIm5leHRBY3RpdmUiLCAiY2xvc2VCbG9ja0RlbGV0ZU1vZGFsIiwgInBlbmRpbmdEZWxldGVCbG9ja0lkIiwgInRhcmdldCIsICJzeW5jRHJhd2VyU3RhdGUiLCAib3BlbkRyYXdlciIsICJvcGVuQWRkUGFnZUZvcm0iLCAicGFnZVNsdWdNYW51YWxseUVkaXRlZCIsICJjbG9zZUFkZFBhZ2VGb3JtIiwgInN5bmNTbHVnRnJvbVRpdGxlIiwgIm5vcm1hbGl6ZUJsb2NrRGF0YSIsICJsb2FkRGVzaWduQ29sbGVjdGlvbnMiLCAiY3VycmVudFZhbHVlIiwgInN5bmNDb2xsZWN0aW9uU2VsZWN0aW9uSW5mbyIsICJjb2xsZWN0aW9uSWQiLCAiY29sbGVjdGlvbiIsICJkZXRhaWxzIiwgInNlbGVjdGVkVmFsdWUiLCAib3B0aW9uIiwgImZhbGxiYWNrT3B0aW9uIiwgImNyZWF0ZWRQYWdlIiwgIm9wZW5JbXBvcnRNb2RhbCIsICJ1cGRhdGVJbXBvcnRGaWxlTGlzdCIsICJjbG9zZUltcG9ydE1vZGFsIiwgImYiLCAiaGFuZGxlSW1wb3J0RmlsZXMiLCAiZmlsZXMiLCAianNvbkZpbGVzIiwgImV4ZWN1dGVJbXBvcnQiLCAicGFnZXNEYXRhIiwgImZpbGUiLCAicGFyc2VFcnIiLCAiaHRtbCIsICJidG4iLCAidGFyZ2V0UGFuZWwiLCAidCIsICJwcmV2aWV3V2luZG93IiwgInRvZ2dsZVNlb1BhbmVsIiwgInNob3ciLCAic2V0U2VvRmVlZGJhY2siLCAidG9uZSIsICJjb2xvciIsICJpc1Zpc2libGUiLCAic2VvRGF0YSIsICJ1cGRhdGVkUGFnZSIsICJoYW5kbGVCbG9ja0RyYWdTdGFydCIsICJkcmFnU291cmNlSWQiLCAiY2xlYXJEcmFnSW5kaWNhdG9ycyIsICJoYW5kbGVCbG9ja0RyYWdFbmQiLCAiaGFuZGxlQmxvY2tEcmFnT3ZlciIsICJoYW5kbGVCbG9ja0RyYWdMZWF2ZSIsICJoYW5kbGVCbG9ja0Ryb3AiLCAic291cmNlIiwgImNvbGxlY3Rpb25MaXN0IiwgImNvbGxlY3Rpb25FbXB0eVN0YXRlIiwgImNvbGxlY3Rpb25JdGVtc0VtcHR5IiwgIml0ZW1UYWJsZVdyYXBwZXIiLCAiaXRlbVRhYmxlQm9keSIsICJjb2xsZWN0aW9uVGl0bGUiLCAiY29sbGVjdGlvbkRlc2NyaXB0aW9uIiwgImNvbGxlY3Rpb25EcmF3ZXIiLCAiY29sbGVjdGlvbkRyYXdlckJhY2tkcm9wIiwgImNvbGxlY3Rpb25EcmF3ZXJPcGVuQnV0dG9ucyIsICJjb2xsZWN0aW9uRHJhd2VyQ2xvc2VCdXR0b25zIiwgIml0ZW1BZGRCdXR0b24iLCAiaXRlbURldGFpbEVtcHR5IiwgIml0ZW1Gb3JtIiwgIml0ZW1Gb3JtRmllbGRzIiwgIml0ZW1TdGF0dXNCYWRnZSIsICJpdGVtRGVsZXRlQnV0dG9uIiwgIml0ZW1EZWxldGVNb2RhbCIsICJpdGVtRGVsZXRlQ2FuY2VsIiwgIml0ZW1EZWxldGVDb25maXJtIiwgIml0ZW1Gb3JtQ2FuY2VsIiwgIml0ZW1Gb3JtU2F2ZSIsICJzdGF0dXNCYWRnZUJhc2VDbGFzcyIsICJzYWZlU2l0ZVNsdWdWYWx1ZSIsICJjb2xsZWN0aW9ucyIsICJjb2xsZWN0aW9uSXRlbXMiLCAiYWN0aXZlQ29sbGVjdGlvbklkIiwgImFjdGl2ZUl0ZW1JZCIsICJpc0NyZWF0aW5nSXRlbSIsICJpdGVtU2x1Z01hbnVhbGx5RWRpdGVkIiwgInBlbmRpbmdEZWxldGVJdGVtSWQiLCAib3BlbkNvbGxlY3Rpb25EcmF3ZXIiLCAiY2xvc2VDb2xsZWN0aW9uRHJhd2VyIiwgIm5vcm1hbGl6ZUl0ZW1TbHVnSW5wdXQiLCAicmF3IiwgImNsZWFuZWRTZWdtZW50cyIsICJzZWdtZW50IiwgImZvcm1hdEl0ZW1EYXRlIiwgImRhdGUiLCAidXBkYXRlQ29sbGVjdGlvbkhlYWRlciIsICJ1cGRhdGVJdGVtc0VtcHR5TWVzc2FnZSIsICJoaWRlSXRlbUZvcm0iLCAic2hvd0l0ZW1Gb3JtIiwgInN5bmNBZGRCdXR0b25TdGF0ZSIsICJzeW5jSXRlbVN0YXR1c0JhZGdlIiwgImNvbG9yQ2xhc3MiLCAicmVuZGVyQ29sbGVjdGlvbkxpc3QiLCAic2V0QWN0aXZlQ29sbGVjdGlvbiIsICJyZW5kZXJJdGVtVGFibGUiLCAicm93IiwgInN0YXR1c0NsYXNzZXMiLCAiaGFuZGxlU2VsZWN0IiwgInNlbGVjdEl0ZW0iLCAiaXRlbUlkIiwgInBvcHVsYXRlSXRlbUZvcm0iLCAicHJlcGFyZU5ld0l0ZW1Gb3JtIiwgImNvbGxlY3RJdGVtRm9ybVZhbHVlcyIsICJfZCIsICJfZSIsICJfZiIsICJzbHVnSW5wdXQiLCAic3VtbWFyeSIsICJpbWFnZSIsICJzZXRGb3JtU2F2aW5nU3RhdGUiLCAiaXNTYXZpbmciLCAiZmV0Y2hDb2xsZWN0aW9uSXRlbXMiLCAiY3JlYXRlQ29sbGVjdGlvbkl0ZW0iLCAidXBkYXRlQ29sbGVjdGlvbkl0ZW0iLCAiZGVsZXRlQ29sbGVjdGlvbkl0ZW0iLCAibG9hZENvbGxlY3Rpb25zIiwgImRlZmF1bHRJZCIsICJzYXZlZEl0ZW0iLCAiY2xvc2VEZWxldGVNb2RhbCIsICJvcGVuRGVsZXRlTW9kYWwiLCAiZm9ybSIsICJwcm90b2NvbFNlbGVjdCIsICJob3N0SW5wdXQiLCAicG9ydElucHV0IiwgInVzZXJJbnB1dCIsICJwYXNzd29yZElucHV0IiwgInNob3dQYXNzd29yZFRvZ2dsZSIsICJyZW1vdGVQYXRoSW5wdXQiLCAiZmVlZGJhY2siLCAic2F2ZUJ1dHRvbiIsICJ0ZXN0QnV0dG9uIiwgImRlcGxveUJ1dHRvbiIsICJoaXN0b3J5TGlzdCIsICJsb2dCb3giLCAiZGVwbG95QXBpQmFzZSIsICJkZXBsb3lSdW5BcGkiLCAiZGVwbG95TG9nQXBpIiwgImhhc1Bhc3N3b3JkIiwgImJ1c3lBY3Rpb24iLCAic2FuaXRpemVSZW1vdGVQYXRoIiwgInRyaW1tZWQiLCAic2V0RmVlZGJhY2siLCAiYmFzZUNsYXNzIiwgInRvbmVDbGFzcyIsICJpY29uIiwgInNldEJ1c3kiLCAiYWN0aW9uIiwgImRpc2FibGUiLCAic3Bpbm5lciIsICJwb3B1bGF0ZUZvcm0iLCAicmVuZGVySGlzdG9yeSIsICJlbnRyaWVzIiwgImxpIiwgImR1cmF0aW9uIiwgInJlbmRlckxvZ3MiLCAibGluZXMiLCAiZmV0Y2hIaXN0b3J5IiwgImZldGNoQ29uZmlnIiwgImJ1aWxkUGF5bG9hZCIsICJwd2QiLCAiZXJyb3JQYXlsb2FkIiwgInRhYkJ1dHRvbnMiLCAidGFiUGFuZWxzIiwgInNpdGVGZWVkYmFjayIsICJ0aGVtZUZvcm0iLCAic3dpdGNoVGFiIiwgInN1Ym1pdCIsICJmb3JtRGF0YSIsICJjdXJyZW50UGFzc3dvcmQiLCAibmV3UGFzc3dvcmQiLCAiY29uZmlybVBhc3N3b3JkIiwgIm5hbWVJbnB1dCIsICJsYW5nU2VsZWN0IiwgInRhZ2xpbmVJbnB1dCIsICJzZXRTaXRlRmVlZGJhY2siLCAic2l0ZUNvbmZpZ0FwaSIsICJsb2FkU2l0ZUNvbmZpZyIsICJ0aGVtZUFwaSIsICJjb2xvclNlbGVjdHMiLCAiaGVhZGluZ1NlbGVjdCIsICJib2R5U2VsZWN0IiwgInJhZGl1c1NtYWxsIiwgInJhZGl1c01lZGl1bSIsICJyYWRpdXNMYXJnZSIsICJwcmV2aWV3IiwgInRoZW1lRmVlZGJhY2siLCAiYXBwbHlCdXR0b24iLCAidGFpbHdpbmRIdWVzIiwgInRhaWx3aW5kU2hhZGVzIiwgInRhaWx3aW5kVG9rZW5zIiwgImgiLCAicyIsICJmaWxsQ29sb3JPcHRpb25zIiwgInNlbCIsICJ0b2tlbiIsICJzZXRUaGVtZUZlZWRiYWNrIiwgInN5bmNQcmV2aWV3IiwgInRva2VuVG9IZXgiLCAic2hhZGVOdW0iLCAiZmFjdG9yIiwgInRvUmdiIiwgImhleCIsICJ2IiwgInIiLCAiZyIsICJiIiwgIm1peCIsICJzZXRDb2xvckZpZWxkcyIsICJsb2FkVGhlbWUiLCAiX2ciLCAiX2giLCAiX2kiLCAiX2oiLCAiZ3JpZCIsICJlbXB0eVN0YXRlIiwgImNvdW50QmFkZ2UiLCAiZmlsdGVyVHlwZSIsICJkZXRhaWxFbXB0eSIsICJkZXRhaWxQYW5lbCIsICJkZXRhaWxQcmV2aWV3IiwgImRldGFpbE5hbWUiLCAiZGV0YWlsVHlwZSIsICJkZXRhaWxTaXplIiwgImRldGFpbFBhdGgiLCAiZGV0YWlsVXNlZCIsICJkZXRhaWxBbHRJbnB1dCIsICJkZXRhaWxTYXZlQnV0dG9uIiwgImRldGFpbERlbGV0ZUJ1dHRvbiIsICJkZWxldGVNb2RhbCIsICJkZWxldGVDYW5jZWxCdXR0b24iLCAiZGVsZXRlQ29uZmlybUJ1dHRvbiIsICJ1cGxvYWRPcGVuQnV0dG9uIiwgImZpbGVJbnB1dCIsICJ1cGxvYWRTdGF0dXMiLCAibWVkaWFBcGlCYXNlIiwgIm1lZGlhSXRlbXMiLCAiZmlsdGVyZWRJdGVtcyIsICJhY3RpdmVNZWRpYUlkIiwgImhpZ2hsaWdodE1lZGlhSWQiLCAicGVuZGluZ1VwbG9hZEZpbGUiLCAidXBsb2FkSW5Qcm9ncmVzcyIsICJkZXRhaWxEaXJ0eSIsICJ1cGxvYWRNb2RlIiwgInVwbG9hZFByZXZpZXdVcmwiLCAiZGVyaXZlR3JvdXBUeXBlIiwgImZpbGVuYW1lIiwgImlzSW1hZ2VUeXBlIiwgImZvcm1hdFR5cGVMYWJlbCIsICJleHQiLCAiZm9ybWF0RmlsZVNpemUiLCAic2l6ZSIsICJyZXNldERldGFpbFBhbmVsIiwgImNsZWFyVXBsb2FkU3RhdGUiLCAidXBkYXRlRGV0YWlsQWN0aW9ucyIsICJ1cGRhdGVDb3VudEJhZGdlIiwgInJlbmRlckdyaWQiLCAic2VsZWN0TWVkaWEiLCAicmVuZGVyVXNlZEluIiwgInNhdmluZyIsICJtZWRpYUlkIiwgInNob3dVcGxvYWRQcmV2aWV3IiwgImFwcGx5RmlsdGVycyIsICJ0eXBlRmlsdGVyIiwgImxvYWRNZWRpYSIsICJoYW5kbGVGaWxlU2VsZWN0aW9uIiwgInJlYWRGaWxlQXNCYXNlNjQiLCAicmVzb2x2ZSIsICJyZWplY3QiLCAicmVhZGVyIiwgImJhc2U2NCIsICJ1cGxvYWRTZWxlY3RlZE1lZGlhIiwgImRlbGV0ZUFjdGl2ZU1lZGlhIiwgImRpc2FibGVCdXR0b25zIiwgImVuYWJsZUJ1dHRvbnMiLCAidXBkYXRlZCJdCn0K
