(()=>{document.addEventListener("DOMContentLoaded",()=>{var Nr;console.log("[admin] Atelier charg\xE9");let Dn=document.querySelector("[data-logout]");Dn&&Dn.addEventListener("click",async()=>{Dn.disabled=!0;try{await fetch("/api/logout",{method:"POST",headers:{"Content-Type":"application/json"}})}catch(n){console.error("[admin] Impossible de se d\xE9connecter",n)}finally{window.location.href="/admin/index.html"}});let Is=document.querySelector("[data-admin-sidebar]"),kt=document.querySelector("[data-admin-sidebar-overlay]"),wr=document.querySelectorAll("[data-admin-sidebar-toggle]"),po=document.querySelectorAll("[data-admin-sidebar-close]"),Hn=document.body,_s=!1,Ys=()=>{if(!Is)return;if(window.matchMedia("(min-width: 1024px)").matches){Is.classList.remove("hidden"),kt==null||kt.classList.add("hidden"),Hn.classList.remove("overflow-hidden");return}_s?(Is.classList.remove("hidden"),kt==null||kt.classList.remove("hidden"),Hn.classList.add("overflow-hidden")):(Is.classList.add("hidden"),kt==null||kt.classList.add("hidden"),Hn.classList.remove("overflow-hidden"))},go=()=>{_s=!0,Ys()},Rn=()=>{_s=!1,Ys()};Is&&wr.length>0&&(wr.forEach(n=>{n.addEventListener("click",go)}),po.forEach(n=>{n.addEventListener("click",Rn)}),kt==null||kt.addEventListener("click",Rn),window.addEventListener("resize",Ys),window.addEventListener("keydown",n=>{n.key==="Escape"&&_s&&Rn()}),Ys());let Sr="clower:currentSite",Lr="clower:currentSiteName",me={slug:null,name:""};(()=>{try{let n=window.localStorage.getItem(Sr);me.slug=n?jt(Me(n)):null,me.name=window.localStorage.getItem(Lr)||""}catch{me.slug=null,me.name=""}})();let Un=document.querySelectorAll("[data-site-card]"),ho=document.querySelectorAll("[data-site-select]"),Ts=document.querySelector("[data-current-site-name]"),kr=document.querySelector("[data-workspace-site-name]"),Cr=document.querySelector("[data-workspace-back-name]"),Pt=document.querySelector("[data-workspace-back-modal]"),bo=document.querySelectorAll("[data-workspace-back]"),yo=document.querySelectorAll("[data-workspace-back-cancel]"),zn=document.querySelector("[data-workspace-back-confirm]"),vo=document.querySelectorAll("[data-workspace-tab]"),On=document.querySelector("[data-site-toast]"),Er=document.querySelector("[data-site-toast-message]"),xo=document.querySelectorAll("[data-site-create]"),ft=document.querySelector("[data-site-modal]"),lt=document.querySelector("[data-site-form]"),nt=lt==null?void 0:lt.querySelector('input[name="siteName"]'),ze=lt==null?void 0:lt.querySelector('input[name="siteSlug"]'),rt=document.querySelector("[data-site-slug-error]"),ot=document.querySelector("[data-site-modal-error]"),wo=document.querySelectorAll("[data-site-modal-cancel]"),gs=document.querySelector("[data-site-modal-submit]"),ee=jo(),Qs=!1,Vn=null,qr='a[href], button:not([disabled]), textarea, input, select, [tabindex]:not([tabindex="-1"])',hs=[],Ar=n=>Array.from(n.querySelectorAll(qr)).filter(a=>!a.hasAttribute("disabled")&&!a.getAttribute("aria-hidden")),So=n=>{if(!hs.length)return;let a=hs[hs.length-1],{modal:d,onClose:f}=a;if(n.key==="Escape"){n.preventDefault(),f==null||f();return}if(n.key!=="Tab")return;let h=Ar(d);if(!h.length)return;let S=h[0],Q=h[h.length-1];n.shiftKey?document.activeElement===S&&(n.preventDefault(),Q.focus()):document.activeElement===Q&&(n.preventDefault(),S.focus())};document.addEventListener("keydown",So);let bs=(n,a)=>{if(!n)return;hs.push({modal:n,onClose:a,trigger:document.activeElement instanceof HTMLElement?document.activeElement:null});let d=Ar(n);window.setTimeout(()=>{var f,h;(h=(f=d[0]||n).focus)==null||h.call(f)},0)},ys=n=>{var f,h;let a=hs.findIndex(S=>S.modal===n);if(a===-1)return;let[d]=hs.splice(a,1);(h=(f=d.trigger)==null?void 0:f.focus)==null||h.call(f)},pe=document.querySelector("[data-mobile-panels-overlay]"),ye=document.querySelector("[data-mobile-panels-layer]"),Ct={left:document.querySelector('[data-mobile-panel="left"]'),right:document.querySelector('[data-mobile-panel="right"]')},rs=null;ye!=null&&ye.parentElement&&(rs=document.createComment("mobile-panels-layer-placeholder"),ye.parentElement.insertBefore(rs,ye));let os=null;(Nr=Ct.right)!=null&&Nr.parentElement&&(os=document.createComment("mobile-panel-right-placeholder"),Ct.right.parentElement.insertBefore(os,Ct.right));let Ir=document.querySelectorAll("[data-mobile-panel-toggle]"),Lo=document.querySelectorAll("[data-mobile-panel-close]"),$s={left:null,right:null},Tt=null,as=()=>window.matchMedia("(min-width: 1024px)").matches,ko=()=>{if(!(!ye||!rs)){if(as()){let n=rs.parentElement;if(!n)return;(ye.parentElement!==n||rs.nextSibling!==ye)&&n.insertBefore(ye,rs.nextSibling),ye.dataset.mobilePanelPlacement="sidebar";return}ye.parentElement!==document.body&&(document.body.appendChild(ye),ye.dataset.mobilePanelPlacement="overlay")}},Co=()=>{let n=Ct.right;if(!(!n||!os)){if(as()){let a=os.parentElement;if(!a)return;(n.parentElement!==a||os.nextSibling!==n)&&a.insertBefore(n,os.nextSibling),n.dataset.mobilePanelPlacement="sidebar";return}if(ye){let a=Ct.left;a&&a.parentElement===ye?(n.parentElement!==ye||n.previousSibling!==a)&&ye.insertBefore(n,a.nextSibling):n.parentElement!==ye&&ye.appendChild(n),n.dataset.mobilePanelPlacement="overlay"}else n.parentElement!==document.body&&(document.body.appendChild(n),n.dataset.mobilePanelPlacement="overlay")}},Tr=()=>{ko(),Co()};Tr();let Xs={};Object.entries(Ct).forEach(([n,a])=>{if(!a)return;let d=Number(window.getComputedStyle(a).zIndex)||0;Xs[n]=d});let Eo=(Object.values(Xs).reduce((n,a)=>Math.max(n,a||0),0)||150)+5,en=(n,a)=>{let d=Ct[n];if(d){if(as()){d.style.removeProperty("z-index");return}a?d.style.zIndex=String(Eo):Xs[n]?d.style.zIndex=String(Xs[n]):d.style.removeProperty("z-index")}},Ot=(n,a,d)=>{!n||!a||a.split(" ").map(f=>f.trim()).filter(Boolean).forEach(f=>n.classList[d](f))},Jn=(n,a)=>{if(!n)return;let d=n.dataset.mobilePanelHidden||"",f=n.dataset.mobilePanelVisible||"translate-x-0";a?(Ot(n,f,"remove"),Ot(n,d,"add"),n.classList.add("pointer-events-none"),n.classList.remove("pointer-events-auto"),n.setAttribute("aria-hidden","true"),n.dataset.mobilePanelOpen="false"):(Ot(n,d,"remove"),Ot(n,f,"add"),n.classList.remove("pointer-events-none"),n.classList.add("pointer-events-auto"),n.setAttribute("aria-hidden","false"),n.dataset.mobilePanelOpen="true")},Bs=(n=Tt)=>{var f;if(!n||as())return;let a=Ct[n];if(!a)return;en(n,!1),Jn(a,!0);let d=$s[n];d&&d.setAttribute("aria-expanded","false"),$s[n]=null,Tt===n&&(pe==null||pe.classList.add("hidden"),pe==null||pe.classList.remove("pointer-events-auto"),pe==null||pe.classList.add("pointer-events-none"),pe==null||pe.setAttribute("aria-hidden","true"),ye==null||ye.classList.add("pointer-events-none"),document.body.classList.remove("overflow-hidden"),(f=d==null?void 0:d.focus)==null||f.call(d),Tt=null)},qo=(n,a)=>{if(!n||as())return;let d=Ct[n];if(!d)return;Tt&&Tt!==n&&Bs(Tt),Jn(d,!1),en(n,!0),Tt=n,$s[n]=a||null,a&&a.setAttribute("aria-expanded","true"),pe==null||pe.classList.remove("hidden","pointer-events-none"),pe==null||pe.classList.add("pointer-events-auto"),pe==null||pe.setAttribute("aria-hidden","false"),ye==null||ye.classList.remove("pointer-events-none"),document.body.classList.add("overflow-hidden");let f=d.querySelector(qr);window.setTimeout(()=>{var h;(h=f==null?void 0:f.focus)==null||h.call(f)},0)},$r=()=>{Tr(),as()?(pe==null||pe.classList.add("hidden"),ye==null||ye.classList.add("pointer-events-none"),document.body.classList.remove("overflow-hidden"),Tt=null,Object.keys(Ct).forEach(n=>{let a=Ct[n];if(!a)return;en(n,!1),a.classList.remove("pointer-events-none"),a.classList.add("pointer-events-auto"),a.setAttribute("aria-hidden","false"),a.dataset.mobilePanelOpen="false";let d=$s[n];d==null||d.setAttribute("aria-expanded","false"),$s[n]=null})):(Object.entries(Ct).forEach(([n,a])=>{a&&a.dataset.mobilePanelOpen!=="true"&&(Jn(a,!0),en(n,!1))}),Tt||(pe==null||pe.classList.add("hidden","pointer-events-none"),pe==null||pe.classList.remove("pointer-events-auto"),pe==null||pe.setAttribute("aria-hidden","true"),ye==null||ye.classList.add("pointer-events-none")))};Ir.length>0&&(Ir.forEach(n=>{let a=n.dataset.mobilePanelToggle;n.addEventListener("click",()=>{Tt===a?Bs(a):qo(a,n)})}),Lo.forEach(n=>{let a=n.dataset.mobilePanelClose;n.addEventListener("click",()=>Bs(a))}),pe==null||pe.addEventListener("click",()=>Bs()),window.addEventListener("keydown",n=>{n.key==="Escape"&&Tt&&!as()&&Bs()}),window.addEventListener("resize",$r),$r());let M=n=>{!On||!Er||(Er.textContent=n,On.classList.remove("hidden"),Vn&&clearTimeout(Vn),Vn=setTimeout(()=>{On.classList.add("hidden")},2500))},Ao=()=>{let n=document.querySelector("[data-media-picker-modal]");if(!n)return;let a=n.querySelectorAll("[data-media-picker-close]"),d=n.querySelector("[data-media-picker-search]"),f=n.querySelector("[data-media-picker-empty]"),h=n.querySelector("[data-media-picker-grid]");if(!h)return;let S=()=>Me((ee==null?void 0:ee.slugValue)||me.slug||""),Q=()=>{let g=S();return g?`/api/sites/${encodeURIComponent(g)}/media`:null},z=g=>{if(((g==null?void 0:g.type)||"").toLowerCase().startsWith("image/"))return!0;let y=(g==null?void 0:g.filename)||"";return/\.(png|jpe?g|webp|svg|gif)$/i.test(y)},X=null,te=[],Y=null,E=g=>{Y&&(Y.value=g||"",Y.dispatchEvent(new Event("input",{bubbles:!0})),Y.dispatchEvent(new Event("change",{bubbles:!0})))},T=()=>{n.classList.add("hidden"),n.classList.remove("flex"),ys(n),Y=null,d&&(d.value=""),h.innerHTML="",f==null||f.classList.add("hidden")},$=g=>{if(h.innerHTML="",!Array.isArray(g)||g.length===0){f==null||f.classList.remove("hidden");return}f==null||f.classList.add("hidden"),g.forEach(v=>{let y=document.createElement("button");y.type="button",y.className="group overflow-hidden rounded-xl border border-slate-200 bg-white text-left shadow-sm hover:border-slate-300 focus:outline-none focus:ring-2 focus:ring-[#9C6BFF]",y.setAttribute("aria-label",`S\xE9lectionner ${v.filename||"m\xE9dia"}`);let q=document.createElement("div");if(q.className="aspect-square w-full bg-slate-100",z(v)){let W=document.createElement("img");W.src=v.path||"",W.alt=v.alt||v.filename||"M\xE9dia",W.loading="lazy",W.className="h-full w-full object-cover",q.appendChild(W)}else{let W=document.createElement("div");W.className="flex h-full w-full items-center justify-center text-xs font-semibold text-slate-500",W.textContent="Fichier",q.appendChild(W)}let I=document.createElement("div");I.className="px-3 py-2";let H=document.createElement("p");H.className="truncate text-xs font-semibold text-slate-800",H.textContent=v.filename||"M\xE9dia",I.appendChild(H),y.appendChild(q),y.appendChild(I),y.addEventListener("click",()=>{E(v.path||""),T()}),h.appendChild(y)})},F=()=>{let g=((d==null?void 0:d.value)||"").trim().toLowerCase();if(!g){$(te);return}$(te.filter(v=>(v.filename||"").toLowerCase().includes(g)))},P=async()=>{let g=S();if(!g){te=[];return}if(X===g&&te.length>0)return;let v=Q();if(!v){te=[];return}try{let y=await fetch(v,{headers:{Accept:"application/json"}});if(!y.ok)throw new Error("Impossible de charger les m\xE9dias.");let q=await y.json().catch(()=>({items:[]}));te=(Array.isArray(q.items)?q.items:[]).filter(z),X=g}catch(y){console.error("[media-picker] load failed",y),te=[],X=g,M(y.message||"Impossible de charger les m\xE9dias.")}},O=async g=>{Y=g,n.classList.remove("hidden"),n.classList.add("flex"),bs(n,T),await P(),F()};document.querySelectorAll("[data-media-picker-open]").forEach(g=>{g.addEventListener("click",()=>{let v=g.closest("[data-media-picker]"),y=(v==null?void 0:v.querySelector("input[data-media-picker-input]"))||(v==null?void 0:v.querySelector("input"))||null;if(!y){M("Champ cible introuvable.");return}O(y)})}),a.forEach(g=>g.addEventListener("click",T)),n.addEventListener("click",g=>{g.target===n&&T()}),d==null||d.addEventListener("input",F)};function jt(n){if(!n)return"";let a=`${n}`.trim();if(!a)return"";let d=a.replace(/^\/+/,"");return d?`/${d}`:"/"}function Me(n){return n?`${n}`.replace(/^\/+/,""):""}let tn=(n,a)=>{let d=n?jt(n):null;try{d&&(window.localStorage.setItem(Sr,d),me.slug=d),typeof a=="string"&&a.length>0&&(window.localStorage.setItem(Lr,a),me.name=a)}catch{me.slug=d||me.slug,me.name=a||me.name}},Br=n=>{Ts&&n&&(Ts.textContent=n),kr&&n&&(kr.textContent=n),Cr&&n&&(Cr.textContent=n)},Wn=n=>{vo.forEach(a=>{let d=a.dataset.workspaceTab;if(!d)return;if(!n){a.href="#",a.classList.add("pointer-events-none","opacity-50","text-slate-400"),a.setAttribute("aria-disabled","true");return}let f=encodeURIComponent(Me(n));a.href=`/admin/site/${f}/${d}`,a.classList.remove("pointer-events-none","opacity-50","text-slate-400"),a.removeAttribute("aria-disabled")})},sn=(n,a={})=>{if(!n)return;let d=jt(n),f=a.siteName||me.name||(Ts==null?void 0:Ts.dataset.defaultSiteName)||"";Un.forEach(S=>{let z=jt(S.dataset.siteCard||"")===d,X=S.querySelector("[data-site-active-badge]");z?(S.classList.add("border-[#9C6BFF]","ring-2","ring-[#9C6BFF]","shadow-md"),S.classList.remove("border-slate-200"),X==null||X.classList.remove("hidden"),f=S.dataset.siteName||f):(S.classList.remove("border-[#9C6BFF]","ring-2","ring-[#9C6BFF]","shadow-md"),S.classList.add("border-slate-200"),X==null||X.classList.add("hidden"))}),a.persist!==!1&&tn(d,a.siteName||f);let h=a.siteName||f;Br(h),Wn(d)},Io=async(n,a)=>{let d=jt(n);try{let f=await fetch("/api/sites/select",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({slug:d})});if(!f.ok){let X=await f.json().catch(()=>({}));M(X.message||"Impossible de s\xE9lectionner ce site.");return}let h=await f.json().catch(()=>({})),S=jt(h.slug||d),Q=h.name||a;tn(S,Q),sn(S,{siteName:Q,persist:!1});let z=encodeURIComponent(Me(S));window.location.href=`/admin/site/${z}/design`}catch(f){console.error("[admin] Impossible de s\xE9lectionner le site",f),M("Erreur inattendue lors de la s\xE9lection.")}},To=async()=>{try{let n=await fetch("/api/sites/current",{credentials:"same-origin"});if(!n.ok){n.status===404&&ee&&(window.location.href="/admin/sites");return}let a=await n.json(),d=jt(a.slug);tn(d,a.name),sn(d,{siteName:a.name,persist:!1})}catch(n){console.warn("[admin] Impossible de r\xE9cup\xE9rer le site actif",n)}};(()=>{if(me.slug){sn(me.slug,{siteName:me.name,persist:!1});return}let n=document.querySelector('[data-site-card][data-site-default="true"]')||Un[0];n&&sn(n.dataset.siteCard,{siteName:n.dataset.siteName||"",persist:!1})})(),To(),ee?Wn(ee.slugValue):me.slug&&Wn(me.slug),ho.forEach(n=>{n.addEventListener("click",()=>{if(n.disabled)return;let a=n.dataset.siteSelect,d=n.dataset.siteSelectName||"Ce site";a&&(n.disabled=!0,Io(a,d).finally(()=>{n.disabled=!1}))})});let Vt=n=>(n||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),$o=n=>{let a=Vt(n||"");return a?`/${a}`:""},Bo=()=>{ft&&(ft.classList.remove("hidden"),ft.classList.add("flex"),Qs=!1,lt==null||lt.reset(),rt&&(rt.textContent=""),ot&&(ot.textContent=""),ze&&nt&&(ze.value=Vt(nt.value)),bs(ft,Ps),window.setTimeout(()=>{nt==null||nt.focus()},0))},Ps=()=>{ft&&(ft.classList.add("hidden"),ft.classList.remove("flex"),Qs=!1,lt==null||lt.reset(),rt&&(rt.textContent=""),ot&&(ot.textContent=""),ys(ft))};xo.forEach(n=>{n.addEventListener("click",Bo)}),wo.forEach(n=>{n.addEventListener("click",Ps)}),ft==null||ft.addEventListener("click",n=>{n.target===ft&&Ps()}),nt==null||nt.addEventListener("input",()=>{ze&&((!Qs||ze.value.trim().length===0)&&(ze.value=Vt(nt.value)),rt&&(rt.textContent=""),ot&&(ot.textContent=""))}),ze==null||ze.addEventListener("focus",()=>{let n=(ze==null?void 0:ze.value)||"",a=(nt==null?void 0:nt.value)||"";!n.trim()&&a.trim()&&(ze.value=Vt(a))}),ze==null||ze.addEventListener("input",()=>{Qs=!0,rt&&(rt.textContent=""),ot&&(ot.textContent="")});let Po=()=>new Set(Array.from(Un).map(n=>jt(n.dataset.siteCard||"")));lt==null||lt.addEventListener("submit",async n=>{if(n.preventDefault(),console.log("[admin] Form submit - siteNameInput:",nt,"siteSlugInput:",ze),!nt||!ze){console.log("[admin] Missing inputs, aborting");return}let a=(nt.value||"").trim(),d=(ze.value||"").trim();console.log("[admin] nameValue:",a,"slugValue:",d),!d&&a&&(d=Vt(a),ze.value=d,console.log("[admin] Auto-generated slug:",d));let f=$o(d);if(console.log("[admin] normalizedSlug:",f),!a){console.log("[admin] Name validation failed"),ot&&(ot.textContent="Le nom du site est requis."),nt.focus();return}if(!f){console.log("[admin] Slug validation failed"),rt&&(rt.textContent="Le slug ne peut pas \xEAtre vide ou contenir uniquement des caract\xE8res sp\xE9ciaux."),ze.focus();return}if(Po().has(f)){rt&&(rt.textContent="Ce slug est d\xE9j\xE0 utilis\xE9.");return}rt&&(rt.textContent=""),ot&&(ot.textContent=""),gs&&(gs.disabled=!0,gs.textContent="Cr\xE9ation...");try{let S=await fetch("/api/sites",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a,slug:f})});if(!S.ok){let Y=await S.json().catch(()=>({})),E=Y.message||"Impossible de cr\xE9er ce site.";ot&&(ot.textContent=E),Y.field==="slug"&&rt&&(rt.textContent=E);return}let Q=await S.json(),z=jt((Q==null?void 0:Q.slug)||f),X=(Q==null?void 0:Q.name)||a;tn(z,X),Ps();let te=encodeURIComponent(Me(z));window.location.href=`/admin/site/${te}/design`}catch(S){console.error("[admin] Impossible de cr\xE9er le site",S),ot&&(ot.textContent="Erreur inattendue. R\xE9essaie dans un instant.")}finally{gs&&(gs.disabled=!1,gs.textContent="Cr\xE9er")}}),window.addEventListener("keydown",n=>{n.key==="Escape"&&(ft&&!ft.classList.contains("hidden")&&Ps(),Pt&&!Pt.classList.contains("hidden")&&nn(),blockDeleteModal&&!blockDeleteModal.classList.contains("hidden")&&closeBlockDeleteModal(),blockLibraryOpen&&closeBlockLibrary())});function jo(){let n=window.location.pathname.match(/^\/admin\/site\/([^/]+)(?:\/([^/]+))?/);return n?{slugPart:decodeURIComponent(n[1]),slugValue:jt(decodeURIComponent(n[1])),section:n[2]||"design"}:null}function Mo(){return document.querySelector("[data-page-list]")?"design":document.querySelector("[data-collection-list]")?"content":document.querySelector("[data-media-grid]")?"media":document.querySelector("[data-deploy-form]")?"deploy":null}function Fo(){if(!Pt){window.location.href="/admin/sites";return}Pt.classList.remove("hidden"),Pt.classList.add("flex"),bs(Pt,nn)}function nn(){Pt&&(Pt.classList.add("hidden"),Pt.classList.remove("flex"),ys(Pt))}bo.forEach(n=>{n.addEventListener("click",Fo)}),yo.forEach(n=>{n.addEventListener("click",nn)}),zn==null||zn.addEventListener("click",()=>{nn(),window.location.href="/admin/sites"});let is="repeating-conic-gradient(#ccc 0% 25%, white 0% 50%) 50% / 8px 8px",No=n=>{if(!n||typeof n!="string")return null;let a=n.trim().toLowerCase();if(a==="transparent")return null;let d=a.match(/^rgb\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*\\)$/);if(d)return[Math.min(255,Math.max(0,Number(d[1]))),Math.min(255,Math.max(0,Number(d[2]))),Math.min(255,Math.max(0,Number(d[3])))];let f=a.match(/^#([a-f0-9]{3}|[a-f0-9]{6})$/);if(f){let h=f[1],S=h.length===3?h.split("").map(te=>`${te}${te}`).join(""):h,Q=parseInt(S.slice(0,2),16),z=parseInt(S.slice(2,4),16),X=parseInt(S.slice(4,6),16);return[Q,z,X]}return null},Gn=n=>{let a=No(n);if(!a)return"#0f172a";let[d,f,h]=a;return(.2126*d+.7152*f+.0722*h)/255>.62?"#0f172a":"#ffffff"},rn=n=>{n&&Array.from(n.options).forEach(a=>{var f;let d=(f=a.dataset)==null?void 0:f.color;if(d){if(d==="transparent"){a.style.background=is,a.style.color="#475569";return}a.style.background=d,a.style.color=Gn(d)}})},js=(ee==null?void 0:ee.section)||Mo();js==="design"&&Do(),js==="content"&&Ho(),js==="media"&&zo(),js==="deploy"&&Ro(),js==="settings"&&Uo(),ee&&me.name&&Br(me.name),Ao();function Do(){let n=document.querySelectorAll("[data-page-list]");if(n.length===0)return;let a=document.querySelector("[data-active-page-title]"),d=document.querySelector("[data-active-page-slug]"),f=document.querySelector("[data-page-preview-tags]"),h=document.querySelector("[data-page-preview-frame]"),S=document.querySelector("[data-page-preview-frame-wrapper]"),Q=document.querySelector("[data-page-preview-shell]"),z=document.querySelectorAll("[data-preview-view-button]"),X=document.querySelector("[data-page-preview-current-view]"),te=document.querySelector("[data-preview-open]"),Y=document.querySelector("[data-preview-status]"),E=document.querySelector("[data-preview-highlight]"),T=document.querySelector("[data-seo-toggle]"),$=document.querySelector("[data-seo-panel]"),F=document.querySelector("[data-seo-close]"),P=document.querySelector("[data-seo-form]"),O=document.querySelector("[data-seo-title]"),g=document.querySelector("[data-seo-description]"),v=document.querySelector("[data-seo-indexed]"),y=document.querySelector("[data-seo-feedback]"),q=document.querySelector("[data-seo-save]"),I=document.querySelector("[data-page-accessibility-toggle]"),H=document.querySelector("[data-page-accessibility-panel]"),W=document.querySelector("[data-page-accessibility-close]"),de=document.querySelector("[data-page-accessibility-form]"),ae=document.querySelector("[data-page-accessibility-nav]"),Ce=document.querySelector("[data-page-accessibility-main]"),$e=document.querySelector("[data-page-accessibility-feedback]"),Qe=document.querySelector("[data-page-accessibility-save]"),qe=document.querySelector("[data-page-props-toggle]"),ne=document.querySelector("[data-page-props-panel]"),Be=document.querySelector("[data-page-props-close]"),Pe=document.querySelector("[data-page-props-form]"),N=document.querySelector("[data-page-name]"),C=document.querySelector("[data-page-title-input]"),J=document.querySelector("[data-page-parent-select]"),V=document.querySelector("[data-page-slug-segment-input]"),b=document.querySelector("[data-page-slug-input]"),Z=document.querySelector("[data-page-description]"),oe=document.querySelector("[data-page-props-feedback]"),se=document.querySelector("[data-page-props-save]"),R=document.querySelector("[data-blocks-list]"),we=document.querySelector("[data-blocks-empty]"),Se=document.querySelector("[data-block-count]"),he=document.querySelector("[data-block-library-toggle]"),Le=document.querySelector("[data-block-library]"),Ze=document.querySelectorAll("[data-block-add]"),Ee=document.querySelector("[data-block-delete-modal]"),He=document.querySelector("[data-block-delete-confirm]"),at=document.querySelector("[data-block-delete-cancel]"),Ke=document.querySelector("[data-block-detail-empty]"),_e=document.querySelector("[data-block-detail-status]"),x=document.querySelector("[data-block-editor]"),U=document.querySelector("[data-block-editor-block-name]"),ce=document.querySelector("[data-block-editor-block-type]"),ie=document.querySelector("[data-block-editor-unsupported]"),k=document.querySelector("[data-block-form]"),xs=(e,t)=>{if(e){if(t==="transparent"){e.style.background=is,e.style.borderColor="#cbd5f5",e.style.boxShadow="";return}e.style.background=t,e.style.borderColor=t,e.style.boxShadow="0 0 0 1px rgba(15,23,42,0.15)"}},cn=(e,t)=>{if(!e||!t||Array.from(e.options).some(r=>r.value===t))return;let s=document.createElement("option");s.value=t,s.textContent="Couleur personnalis\xE9e",s.dataset.color=t,t==="transparent"?(s.style.background=is,s.style.color="#475569"):(s.style.background=t,s.style.color=Gn(t)),e.appendChild(s),rn(e)},Ms=e=>{var i,c,p;if(!e)return;let t=e.options[e.selectedIndex],s=((i=t==null?void 0:t.dataset)==null?void 0:i.color)||"#ffffff",r=(c=e.closest(".relative"))==null?void 0:c.querySelector("[data-color-preview]");r&&(s==="transparent"?r.style.background=is:r.style.background=s);let o=(p=e.closest(".relative"))==null?void 0:p.querySelector("[data-theme-color-chip]");xs(o,s)},dn=k?Array.from(k.querySelectorAll("[data-theme-color-select]")):[],Dr=e=>{var s;return(((s=e==null?void 0:e.getAttribute)==null?void 0:s.call(e,"name"))||"").endsWith("-bg")},Fs=[{label:"Couleur primaire",value:"theme-primary",cssVar:"--color-primary"},{label:"Couleur secondaire",value:"theme-secondary",cssVar:"--color-secondary"},{label:"Couleur accent",value:"theme-accent",cssVar:"--color-accent"},{label:"Fond",value:"theme-background",cssVar:"--color-background"},{label:"Texte",value:"theme-text",cssVar:"--color-text"}],vt=(e,t="#ffffff")=>{if(!e)return t;let s=getComputedStyle(document.documentElement).getPropertyValue(e);return s?s.trim():t},Ft=e=>{e&&(e.innerHTML="",Fs.forEach(({label:t,value:s,cssVar:r})=>{let o=document.createElement("option");o.value=s;let i=vt(r);o.textContent=t,o.dataset.color=i,i==="transparent"?(o.style.background=is,o.style.color="#475569"):(o.style.background=i,o.style.color=Gn(i)),e.appendChild(o)}),e.value=Fs[0].value,e.removeAttribute("disabled"),Dr(e)&&rn(e),Ms(e))},Ve=()=>dn.forEach(Ft);Ve(),document.addEventListener("ai-theme-updated",Ve);let Xe=k?Array.from(k.querySelectorAll("[data-editor-section]")):[],Je=e=>!k||!(e!=null&&e.section)?null:k.querySelector(`[data-editor-section="${e.section}"]`),pt=document.querySelectorAll("[data-block-tab]"),ls="content",Jt=document.querySelectorAll("[data-left-tab]"),ws=document.querySelector('[data-left-panel="blocks"]'),un=document.querySelector('[data-left-panel="pages"]'),Ss="blocks",Ns=e=>{Ss=e,Jt.forEach(t=>{let s=t.dataset.leftTab===e;t.setAttribute("aria-selected",s?"true":"false"),s?(t.classList.add("text-[#9C6BFF]"),t.classList.remove("text-slate-500","hover:text-slate-700"),t.classList.add("after:absolute","after:bottom-0","after:left-0","after:right-0","after:h-0.5","after:bg-[#9C6BFF]")):(t.classList.remove("text-[#9C6BFF]"),t.classList.add("text-slate-500","hover:text-slate-700"),t.classList.remove("after:absolute","after:bottom-0","after:left-0","after:right-0","after:h-0.5","after:bg-[#9C6BFF]"))}),ws&&ws.classList.toggle("hidden",e!=="blocks"),un&&un.classList.toggle("hidden",e!=="pages")};Jt.forEach(e=>{e.addEventListener("click",()=>{Ns(e.dataset.leftTab)})});let Nt=document.querySelector("[data-block-form-actions]"),Ls=document.querySelector("[data-block-form-autosave]"),cs=e=>{ls=e,pt.forEach(s=>{let r=s.dataset.blockTab===e;s.setAttribute("aria-selected",r?"true":"false"),r?(s.classList.add("text-[#9C6BFF]"),s.classList.remove("text-slate-500","hover:text-slate-700"),s.classList.add("after:absolute","after:bottom-0","after:left-0","after:right-0","after:h-0.5","after:bg-[#9C6BFF]")):(s.classList.remove("text-[#9C6BFF]"),s.classList.add("text-slate-500","hover:text-slate-700"),s.classList.remove("after:absolute","after:bottom-0","after:left-0","after:right-0","after:h-0.5","after:bg-[#9C6BFF]"))});let t=k==null?void 0:k.querySelector("[data-editor-section]:not(.hidden)");t&&t.querySelectorAll("[data-block-panel]").forEach(r=>{r.dataset.blockPanel===e?r.classList.remove("hidden"):r.classList.add("hidden")}),Nt&&Ls&&(e==="content"?(Nt.classList.remove("hidden"),Ls.classList.add("hidden")):(Nt.classList.add("hidden"),Ls.classList.remove("hidden")))};pt.forEach(e=>{e.addEventListener("click",()=>{cs(e.dataset.blockTab)})});let We=k==null?void 0:k.querySelector('[name="collection-grid-collection"]'),ds=k==null?void 0:k.querySelector("[data-collection-selection-info]"),Ae=k==null?void 0:k.querySelector("[data-collection-card-item-select]"),Ds=k==null?void 0:k.querySelector("[data-collection-card-reset]"),ve=k?{ctaStyle:k.querySelector('[name="collection-item-cta-style"]'),ctaTextColor:k.querySelector('[name="collection-item-cta-text-color"]'),bg:k.querySelector('[name="collection-item-bg"]'),borderRadius:k.querySelector('[name="collection-item-border-radius"]'),shadow:k.querySelector('[name="collection-item-shadow"]'),border:k.querySelector('[name="collection-item-border"]'),animation:k.querySelector('[name="collection-item-anim-type"]'),animationDelay:k.querySelector('[name="collection-item-anim-delay"]'),animationDuration:k.querySelector('[name="collection-item-anim-duration"]')}:{},Hs=document.querySelector("[data-block-form-cancel]"),mn=k==null?void 0:k.querySelector("[data-group-preview-mobile]"),Rs=k==null?void 0:k.querySelector("[data-group-preview-desktop]"),fn=k==null?void 0:k.querySelector("[data-collection-preview-mobile]"),Us=k==null?void 0:k.querySelector("[data-collection-preview-desktop]"),pn={hero:{section:"hero",labelField:"title",descriptionField:"subtitle",fields:{title:"hero-title",subtitle:"hero-subtitle",ctaLabel:"hero-cta-label",ctaUrl:"hero-cta-url",ctaTextColor:"hero-cta-text-color",image:"hero-image",layout:"hero-layout",imageWidth:"hero-image-width",imageHeight:"hero-image-height",imageObjectFit:"hero-image-object-fit",height:"hero-height",contentAlign:"hero-content-align",horizontalAlign:"hero-horizontal-align",textAlign:"hero-text-align",overlay:"hero-overlay",titleSize:"hero-title-size",bg:"hero-bg",borderRadius:"hero-border-radius",shadow:"hero-shadow",border:"hero-border"}},paragraphe:{section:"paragraph",labelField:"title",descriptionField:"content",fields:{title:"paragraph-title",content:"paragraph-content",align:"paragraph-align",titleSize:"paragraph-title-size",textSize:"paragraph-text-size",spacing:"paragraph-spacing",bg:"paragraph-bg",borderRadius:"paragraph-border-radius",shadow:"paragraph-shadow",border:"paragraph-border"}},image:{section:"image",labelField:"alt",fields:{src:"image-src",alt:"image-alt",showCaption:"image-caption-toggle",caption:"image-caption",rounded:"image-rounded",shadow:"image-shadow",maxWidth:"image-max-width",height:"image-height",objectFit:"image-object-fit",align:"image-align",bg:"image-bg",borderRadius:"image-border-radius",border:"image-border"}},groupe:{section:"group",fields:{columnsMobile:"group-columns-mobile",columnsDesktop:"group-columns-desktop",gap:"group-gap",itemsAlign:"group-items-align",mobileLayout:"group-mobile-layout",bg:"group-bg",borderRadius:"group-border-radius",shadow:"group-shadow",border:"group-border"}},collectiongrid:{section:"collection",fields:{collectionId:"collection-grid-collection",limit:"collection-grid-limit",columnsMobile:"collection-columns-mobile",columnsDesktop:"collection-columns-desktop",gap:"collection-gap",itemsAlign:"collection-items-align",cardRounded:"collection-card-rounded",mobileLayout:"collection-mobile-layout",bg:"collection-bg",borderRadius:"collection-border-radius",shadow:"collection-shadow",border:"collection-border"}},form:{section:"form",labelField:"formTitle",fields:{formTitle:"form-title",actionUrl:"form-action-url",method:"form-method",serviceName:"form-service-name",submitLabel:"form-submit-label",successMessage:"form-success-message",maxWidth:"form-max-width",align:"form-align",buttonRounded:"form-button-rounded",spacing:"form-spacing",bg:"form-bg",borderRadius:"form-border-radius",shadow:"form-shadow",border:"form-border"}},newsletterembed:{section:"newsletter",labelField:"title",fields:{title:"newsletter-title",serviceName:"newsletter-service-name",embedCode:"newsletter-embed-code",maxWidth:"newsletter-max-width",align:"newsletter-align",padding:"newsletter-padding",bg:"newsletter-bg",borderRadius:"newsletter-border-radius",shadow:"newsletter-shadow",border:"newsletter-border"}},card:{section:"card",labelField:"title",descriptionField:"description",fields:{title:"card-title",description:"card-description",image:"card-image",ctaText:"card-cta-text",ctaUrl:"card-cta-url",bg:"card-bg",borderRadius:"card-border-radius",shadow:"card-shadow",border:"card-border"}},bouton:{section:"button",labelField:"text",fields:{text:"button-text",url:"button-url",icon:"button-icon",align:"button-align",size:"button-size",textColor:"button-text-color",bg:"button-bg",borderRadius:"button-border-radius",shadow:"button-shadow",border:"button-border"}}},gn={texte:"paragraphe",paragraph:"paragraphe",paragraphs:"paragraphe",paragraphes:"paragraphe",text:"paragraphe",hero:"hero",image:"image",groupe:"groupe",group:"groupe",card:"card",carte:"card",collection:"collectiongrid",collectiongrid:"collectiongrid","collection-grid":"collectiongrid",form:"form",formulaire:"form",contact:"form",newsletterembed:"newsletterembed",newsletter:"newsletterembed",embed:"newsletterembed",bouton:"bouton",button:"bouton",cta:"bouton"},Xn={animation:"anim-type",animationDelay:"anim-delay",animationDuration:"anim-duration"};Object.values(pn).forEach(e=>{e.fields={...e.fields,...Xn}});let hn=(e,t)=>{if(!mn||!Rs)return;let s=r=>Array.from({length:Number(r)||1}).map(()=>'<span class="block h-2 w-full rounded-full bg-slate-300"></span>').join("");mn.innerHTML=s(e),Rs.innerHTML=s(t)},us=(e,t)=>{if(!fn||!Us)return;let s=r=>Array.from({length:Number(r)||1}).map(()=>'<span class="block h-2 w-full rounded-full bg-violet-300"></span>').join("");fn.innerHTML=s(e),Us.innerHTML=s(t)},zs=async()=>{if(!At)return[];let e=await fetch(At,{headers:{Accept:"application/json"}});if(!e.ok)throw new Error("Impossible de charger les pages.");let t=await e.json().catch(()=>[]);return Array.isArray(t)?t:[]},bn=async({name:e,title:t,slug:s})=>{if(!At)throw new Error("Site inconnu.");let r=await fetch(At,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,title:t,slug:s})});if(!r.ok){let o=await r.json().catch(()=>({}));throw new Error(o.message||"Impossible de cr\xE9er la page.")}return r.json().catch(()=>({}))},Wt=async e=>{if(!(!At||!(e!=null&&e.id)))try{let t=await fetch(`${At}/${encodeURIComponent(e.id)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){let r=await t.json().catch(()=>({}));throw new Error(r.message||"Impossible de sauvegarder la page.")}let s=await t.json().catch(()=>({}));if(s!=null&&s.id){let r=ns(s);return ue=ue.map(o=>o.id===r.id?r:o),(m==null?void 0:m.id)===r.id&&(m=r),r}return s}catch(t){console.error("[design] Save page failed",t),M(t.message||"Sauvegarde impossible.")}},yn=async()=>{if(!At){ue=[],Oe=null,m=null,es(ue,Oe),It(null),Ke==null||Ke.classList.remove("hidden"),x==null||x.classList.add("hidden");return}try{let e=await zs();if(ue=(Array.isArray(e)?e:[]).map(t=>ns(t)),ue.length===0){Oe=null,m=null,es(ue,Oe),It(null),Ke==null||Ke.classList.remove("hidden"),x==null||x.classList.add("hidden"),h&&(h.srcdoc=fe());return}Oe=ia(ue),$t(Oe)}catch(e){console.error("[design] Impossible de charger les pages",e),M("Impossible de charger les pages.")}},l=e=>(e||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),u=e=>{if(!e)return null;let t=l(e.type),s=gn[t]||t;return pn[s]||null},w=e=>{var o,i,c,p,L,K,j;if(!k||!x)return;e&&!e.settings&&(e.settings={});let t=u(e),s=Je(t)||k;if(U&&(U.textContent=(e==null?void 0:e.label)||"Bloc"),ce&&(ce.textContent=(e==null?void 0:e.type)||"Bloc"),!t){k.classList.add("hidden"),ie==null||ie.classList.remove("hidden"),k.dataset.blockId="";return}if(ie==null||ie.classList.add("hidden"),k.classList.remove("hidden"),k.reset(),k.dataset.blockId=e.id,Xe.forEach(D=>{D.dataset.editorSection===t.section?D.classList.remove("hidden"):D.classList.add("hidden")}),cs("content"),t.section==="collection"){let D=e.collectionId||((o=e.settings)==null?void 0:o.collectionId)||"";Mn(D),oo(e)}if(Object.entries(t.fields).forEach(([D,re])=>{var je,Ie,be;let _=s.querySelector(`[name="${re}"]`);if(!_)return;let A=(je=e.settings)==null?void 0:je[D];if(_.type==="checkbox")_.checked=!!A;else if(_.type==="number"){let Ge=(be=(Ie=_.dataset.default)!=null?Ie:_.defaultValue)!=null?be:"";_.value=A!=null?A:Ge}else _.tagName,_.value=A!=null?A:""}),t.section==="group"){let D=((i=k.querySelector('[name="group-columns-mobile"]'))==null?void 0:i.value)||"1",re=((c=k.querySelector('[name="group-columns-desktop"]'))==null?void 0:c.value)||"3";hn(D,re)}if(t.section==="collection"){let D=((p=k.querySelector('[name="collection-columns-mobile"]'))==null?void 0:p.value)||"1",re=((L=k.querySelector('[name="collection-columns-desktop"]'))==null?void 0:L.value)||"3";us(D,re)}let r=(K=t.fields)==null?void 0:K.bg;if(r){let D=s.querySelector(`[name="${r}"]`);cn(D,(j=e.settings)==null?void 0:j.bg)}k.querySelectorAll("[data-color-select]").forEach(Ms)},B=e=>{if(!k||!e)return{};let t=Je(e)||k,s={};return Object.entries(e.fields).forEach(([r,o])=>{var c,p;let i=t.querySelector(`[name="${o}"]`);if(i)if(i.type==="checkbox")s[r]=i.checked;else if(i.type==="number"){let L=Number(i.value);s[r]=Number.isFinite(L)?L:0}else if(i.tagName==="SELECT"){let L=(p=(c=i.dataset.default)!=null?c:i.value)!=null?p:"";s[r]=i.value||L}else i.tagName==="TEXTAREA"?s[r]=i.value||"":i.type==="select-one"?s[r]=i.value:s[r]=i.value||""}),s},G=e=>{if(Y){if(!e){Y.classList.add("hidden");return}Y.classList.remove("hidden"),Y.textContent=e}},ge=e=>{if(!e)return null;let t=s=>{var r;return{id:s.id,type:s.type,label:s.label,status:s.status,description:s.description,props:s.props||[],settings:s.settings||{},collectionId:s.collectionId||((r=s.settings)==null?void 0:r.collectionId)||"",children:(s.children||[]).map(t)}};return{id:e.id,name:e.name,title:e.title,slug:e.slug,description:e.description||"",badges:[...e.badges||[]],seo:e.seo||{},accessibility:e.accessibility||{},blocks:(e.blocks||[]).map(t)}},fe=()=>'<!DOCTYPE html><html><body style="font-family:Inter,sans-serif;padding:40px;color:#475569;background:#fff;">Pr\xE9paration de la pr\xE9visualisation\u2026</body></html>',le=(e,t)=>{let s;return(...r)=>{clearTimeout(s),s=setTimeout(()=>e(...r),t)}},ke=async()=>{if(!m||!tt)return;let e=ts(),t=u(e);if(!e||!t)return;let s=B(t),{blocks:r,didUpdate:o,foundParentId:i}=lr(m.blocks||[],e.id,p=>{let L={...p.settings||{},...s};return{...p,settings:L}},ss);if(!o)return;ss=i;let c={...m,blocks:r};m=c;try{let p=await Wt(c);if(p!=null&&p.id){let L=ns(p);m=L,ue=ue.map(K=>K.id===L.id?L:K)}}catch(p){console.warn("[design] auto-save appearance failed",p)}},Fe=(e,t)=>{!h||!h.contentWindow||h.contentWindow.postMessage({type:"updateBlockStyles",blockId:e,settings:t},"*")},xe=le(()=>{m&&De(m)},1500),Ne=(e,t)=>{Fe(e,t),G("Modification\u2026"),ke().then(()=>{G("Sauvegard\xE9"),setTimeout(()=>G("\xC0 jour"),1500)}).catch(()=>G("Erreur de sauvegarde")),xe()},De=e=>{if(!h||!e)return;let t=(ee==null?void 0:ee.slugValue)||me.slug||"",s=ue.map(i=>({id:i.id,slug:i.slug,title:i.title,name:i.name,accessibility:i.accessibility})),r={page:ge(e),site:{title:me.name||"Site",slug:t,pages:s}};mr=!1,G("Actualisation\u2026"),h.srcdoc=fe(),Gs&&Gs.abort();let o=new AbortController;Gs=o,fetch("/api/preview",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r),signal:o.signal}).then(async i=>{let c=await i.json().catch(()=>({}));if(!i.ok){let p=(c==null?void 0:c.error)||(c==null?void 0:c.message)||`Preview error (${i.status})`,L=new Error(p);throw L.payload=c,L.status=i.status,L}return c}).then(i=>{o.signal.aborted||(ur=i.html||"",h.setAttribute("title",`Pr\xE9visualisation de la page ${e.title||""}`.trim()),h.srcdoc=ur||fe(),G("\xC0 jour"))}).catch(i=>{o.signal.aborted||(console.error("[preview] Impossible de rendre la page",(i==null?void 0:i.message)||i,(i==null?void 0:i.payload)||""),G("Erreur preview"),h.srcdoc='<!DOCTYPE html><html><body style="font-family:Inter,sans-serif;padding:40px;color:#be123c;background:#fff;">Erreur lors du rendu de la pr\xE9visualisation.</body></html>')}).finally(()=>{Gs===o&&(Gs=null)})},Re=e=>{var p;if(e.preventDefault(),!m||!tt)return;let t=ts(),s=u(t);if(!t||!s)return;let r=B(s);if(s.section==="image"){let L=(r.alt||"").trim();if(r.alt=L,!L){M("Ajoute un texte alternatif pour cette image.","error"),(p=k==null?void 0:k.querySelector('[name="image-alt"]'))==null||p.focus();return}}if(s.section==="collection"){if(!r.collectionId){M("S\xE9lectionnez une collection.");return}r.limit=Math.max(1,Number(r.limit)||1)}let{blocks:o,didUpdate:i,foundParentId:c}=lr(m.blocks||[],t.id,L=>{let K={...L.settings||{},...r},j={...L,settings:K};return s.labelField&&r[s.labelField]&&(j.label=r[s.labelField]),s.descriptionField&&r[s.descriptionField]&&(j.description=r[s.descriptionField]),s.section==="collection"&&(j.collectionId=r.collectionId,j.settings.collectionId=r.collectionId,j.settings.limit=r.limit),j},ss);i&&(ss=c,qs(o),M("Bloc mis \xE0 jour"),$t(m.id,{preserveBlock:!0}))},it=document.querySelector("[data-page-drawer]"),Ye=document.querySelector("[data-page-drawer-backdrop]"),ms=document.querySelectorAll("[data-page-drawer-open]"),vn=document.querySelectorAll("[data-page-drawer-close]"),Dt=document.querySelector("[data-add-page-toggle]"),gt=document.querySelector("[data-add-page-form]"),xt=document.querySelector("[data-add-page-name]"),Qt=document.querySelector("[data-add-page-title]"),wt=document.querySelector("[data-add-page-slug]"),fs=document.querySelector("[data-add-page-cancel]"),et=document.querySelector("[data-add-page-error]"),Gt=gt==null?void 0:gt.querySelector('[type="submit"]'),ks=document.querySelector("[data-import-pages-toggle]"),dt=document.querySelector("[data-import-modal]"),xn=document.querySelectorAll("[data-import-modal-close]"),ut=document.querySelector("[data-import-dropzone]"),Cs=document.querySelector("[data-import-file-input]"),Es=document.querySelector("[data-import-file-list]"),Os=document.querySelector("[data-import-file-names]"),ht=document.querySelector("[data-import-results]"),bt=document.querySelector("[data-import-results-content]"),St=document.querySelector("[data-import-submit]"),er=document.querySelectorAll("[data-import-tab]"),Hr=document.querySelectorAll("[data-import-panel]"),tr=document.querySelector("[data-copy-prompt]"),sr=document.querySelector("[data-copy-template]"),Rr=document.querySelector("[data-template-json]"),Ur=document.querySelector("[data-import-ai-prompt]"),Lt=document.querySelector("[data-import-paste-json]"),nr=document.querySelector("[data-format-json]"),Ht=document.querySelector("[data-import-paste-error]"),Zt=[],ps="upload",qt=document.querySelector("[data-delete-page-modal]"),zr=document.querySelector("[data-delete-page-name]"),rr=document.querySelector("[data-delete-page-cancel]"),Kt=document.querySelector("[data-delete-page-confirm]"),Vs=null,na=Me((ee==null?void 0:ee.slugValue)||me.slug||"default")||"default",ra=(ee==null?void 0:ee.slugValue)||me.slug||"",wn=Me(ra)||"",At=wn?`/api/sites/${encodeURIComponent(wn)}/pages`:null,Sn=wn?`/api/sites/${encodeURIComponent(wn)}/collections`:null,Or={active:`clower:activePage:${na}`},or=(e,t,s,r,o,i=[],c={})=>{let p={id:e,label:t,type:s,status:r,description:o,props:i,settings:{...c}};return p.settings.collectionId&&(p.collectionId=p.settings.collectionId),p},oa={hero:{type:"Hero",label:"Hero de page",description:"Section pleine largeur avec CTA principal.",status:"Brouillon",props:[{label:"CTA",value:"D\xE9couvrir"},{label:"Hauteur",value:"80vh"}],settings:{title:"Titre du hero",subtitle:"",ctaLabel:"D\xE9couvrir",ctaUrl:"#",image:"",align:"center"}},paragraph:{type:"Paragraphe",label:"Bloc \xE9ditorial",description:"Paragraphe libre pour raconter votre histoire.",status:"Brouillon",props:[{label:"Longueur",value:"150 mots"}],settings:{title:"Titre du paragraphe",content:"",align:"left"}},image:{type:"Image",label:"Bloc image",description:"Visuel seul avec l\xE9gende optionnelle.",status:"Brouillon",props:[{label:"Ratio",value:"16:9"},{label:"L\xE9gende",value:"Inactive"}],settings:{src:"",alt:"",showCaption:!1,caption:""}},group:{type:"Groupe",label:"Groupe de sections",description:"Conteneur pour imbriquer plusieurs sous-blocs.",status:"Brouillon",props:[{label:"Disposition",value:"Verticale"}],settings:{layout:"grid",columnsMobile:"1",columnsDesktop:"3",mobileLayout:"stack"}},collectiongrid:{type:"CollectionGrid",label:"Grille de contenus",description:"Affiche automatiquement les items d\u2019une collection.",status:"Brouillon",settings:{collectionId:"",limit:6,mobileLayout:"stack"}},button:{type:"Bouton",label:"Bouton",description:"CTA simple (lien styl\xE9).",status:"Brouillon",settings:{text:"D\xE9couvrir",url:"#",icon:!1,align:"text-left",size:"px-6 py-3",textColor:"text-[var(--color-background)]",bg:"theme-primary",borderRadius:"rounded-xl",shadow:"shadow-none",border:"border-none"}},form:{type:"Form",label:"Formulaire de contact",description:"Formulaire avec envoi vers un service externe.",status:"Brouillon",settings:{formTitle:"Contactez-nous",actionUrl:"",method:"POST",serviceName:"",submitLabel:"Envoyer",successMessage:"Merci pour votre message !"}},newsletterembed:{type:"NewsletterEmbed",label:"Newsletter / Embed",description:"Int\xE9gration d'un formulaire newsletter externe (Brevo, Mailchimp\u2026).",status:"Brouillon",settings:{title:"Restez inform\xE9",serviceName:"",embedCode:""}},card:{type:"Card",label:"Carte",description:"Carte avec image, texte et lien.",status:"Brouillon",settings:{title:"Titre de la carte",description:"",image:"",ctaText:"D\xE9couvrir",ctaUrl:"#",bg:"bg-slate-50",borderRadius:"rounded-2xl",shadow:"shadow-sm",border:"border border-slate-100 theme-border-accent"}}},aa=e=>{try{window.localStorage.setItem(Or.active,e)}catch{}},ia=e=>{var t;try{let s=window.localStorage.getItem(Or.active);if(s&&e.some(r=>r.id===s))return s}catch{}return((t=e[0])==null?void 0:t.id)||null},la=e=>!e||e<=0?"0 bloc":e===1?"1 bloc":`${e} blocs`,Ln=e=>{let t=(e||"").trim();if(!t||t==="/"||/^[a-z]+:\/\//i.test(t))return"/";let r=t.replace(/\\/g,"/").replace(/^\/+|\/+$/g,"");if(!r)return"/";let o=r.split("/").map(i=>Vt(i||"")).filter(Boolean);return o.length===0?"/":`/${o.join("/")}`},ar=(e="page",t="block")=>`${e}-${t}-${Date.now().toString(36)}-${Math.floor(Math.random()*1e3)}`,Ya=(e,t)=>[or(ar(e,"intro"),"Introduction","Paragraphe","Brouillon",`Paragraphe introductif pour "${t}".`,[{label:"Longueur",value:"2 paragraphes"}],{title:`Introduction \xE0 ${t}`,content:"Ajoutez votre premier paragraphe de pr\xE9sentation.",align:"left"}),or(ar(e,"content"),"Zone de contenu","Groupe","Brouillon","Section principale \xE0 composer avec textes et visuels.",[{label:"Colonnes",value:"Auto"}],{layout:"grid",columnsMobile:"1",columnsDesktop:"2",mobileLayout:"stack"})],Vr=e=>{a&&(a.textContent=(e==null?void 0:e.name)||(e==null?void 0:e.title)||"Page"),d&&(d.textContent=(e==null?void 0:e.slug)||"/")},ca=e=>{if(!f)return;f.innerHTML="",(e&&e.badges&&e.badges.length>0?e.badges:["Structure en cours"]).forEach(s=>{let r=document.createElement("span");r.className="rounded-full bg-slate-100 px-3 py-1",r.textContent=s,f.appendChild(r)})},da=e=>{switch((e||"").toLowerCase()){case"en ligne":return"bg-emerald-50 text-emerald-700";case"brouillon":return"bg-amber-50 text-amber-700";default:return"bg-slate-100 text-slate-600"}},kn=e=>{if(!(!Ke||!x)){if(!e){Ke.classList.remove("hidden"),x.classList.add("hidden"),ie==null||ie.classList.add("hidden"),k==null||k.classList.add("hidden"),_e==null||_e.classList.add("hidden");return}Ke.classList.add("hidden"),x.classList.remove("hidden"),_e&&(e.status?(_e.textContent=e.status,_e.className=`rounded-full px-3 py-1 text-xs font-semibold ${da(e.status)}`,_e.classList.remove("hidden")):_e.classList.add("hidden")),w(e)}},ua=()=>{let e=getComputedStyle(document.documentElement).getPropertyValue("--color-accent");return e?e.trim():"#9C6BFF"},Js=e=>{if(!h)return;let t=h.contentDocument;if(!t)return;if(t.querySelectorAll("[data-preview-block]").forEach(r=>{r.dataset.previewBlock===e?(r.classList.add("preview-block-active"),mr&&e&&r.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})):r.classList.remove("preview-block-active")}),E){let r=ua();E.style.borderColor=e?r:"transparent",E.style.opacity=e?"0.5":"0"}},Jr={desktop:{width:"100%",height:"640px",maxWidth:"",margin:"0"},mobile:{width:"375px",height:"780px",maxWidth:"375px",margin:"0 auto"}},Wr=e=>{let t=Jr[e]?e:"desktop";z.forEach(r=>{let o=r.dataset.previewView===t;r.setAttribute("aria-pressed",o?"true":"false"),o?(r.classList.add("bg-slate-900","text-white"),r.classList.remove("bg-slate-200","text-slate-500")):(r.classList.remove("bg-slate-900","text-white"),r.classList.add("bg-slate-200","text-slate-500"))});let s=Jr[t];h&&(h.style.width=s.width,h.style.height=s.height,h.style.maxWidth=s.maxWidth,h.style.margin=s.margin),S&&(S.style.width="100%",S.style.minHeight=s.height,S.style.maxWidth=s.maxWidth||"100%"),Q&&(Q.dataset.previewShellView=t),X&&(X.textContent=t==="mobile"?"Vue mobile":"Vue bureau")},Gr=(e,t=!1,s=null)=>{var Bt;let r=e.id===tt,o=(e.type||"").toLowerCase(),i=o==="groupe"||o==="group"||o==="sections"||o==="grid",c=document.createElement("div");c.dataset.blockItem="true",c.dataset.blockId=e.id,s&&(c.dataset.parentBlockId=s),i&&(c.dataset.isGroup="true"),c.setAttribute("role","option"),c.setAttribute("aria-selected",r?"true":"false"),c.setAttribute("draggable","true"),c.tabIndex=0,c.className=["relative flex items-center gap-3 rounded-2xl border px-3 py-2 text-left transition group",t?"ml-6 border-dashed":"",r?"bg-slate-100 border-[#9C6BFF]/40 shadow-sm":"border-slate-200 hover:border-[#9C6BFF]/40"].join(" ");let p=document.createElement("span");p.className=`absolute inset-y-2 left-0 w-1 rounded-full bg-[#9C6BFF] ${r?"":"hidden"}`,c.appendChild(p);let L=document.createElement("div");L.className="flex flex-1 items-center gap-3";let K=document.createElement("div");K.className="hidden lg:flex cursor-grab active:cursor-grabbing flex-shrink-0 items-center text-lg text-slate-400 hover:text-slate-600 transition-colors select-none",K.innerHTML="\u22EE\u22EE",K.setAttribute("title","Glisser pour r\xE9ordonner"),L.appendChild(K);let j=document.createElement("div");j.className="flex-1";let D=document.createElement("div");D.className="flex items-center gap-2 text-[11px] uppercase tracking-wide text-slate-500";let re=document.createElement("span");re.className="rounded-full bg-slate-100 px-2 py-0.5 text-[10px] font-semibold text-slate-600",re.textContent=e.type;let _=document.createElement("span");if(_.className="text-slate-400",_.textContent=e.status,D.appendChild(re),i){let st=(e.children||[]).length,Yt=document.createElement("span");Yt.className="rounded-full bg-violet-100 px-2 py-0.5 text-[10px] font-semibold text-violet-600",Yt.textContent=`${st} \xE9l\xE9ment${st!==1?"s":""}`,D.appendChild(Yt)}D.appendChild(_);let A=document.createElement("p");A.className="mt-1 text-sm font-semibold text-slate-900";let je=e.settings&&e.settings.title||e.label||"Bloc sans titre";if(A.textContent=je,j.appendChild(D),j.appendChild(A),o==="collectiongrid"&&e.collectionId){let st=((Bt=Ut.find(Wa=>Wa.id===e.collectionId))==null?void 0:Bt.name)||e.collectionId,Yt=document.createElement("p");Yt.className="text-xs text-slate-400",Yt.textContent=`Collection : ${st}`,j.appendChild(Yt)}L.appendChild(j),c.appendChild(L);let Ie=document.createElement("div");Ie.className="flex flex-col gap-1 text-xs text-slate-400";let be=document.createElement("div");be.className="flex items-center gap-1 lg:hidden";let Ge=document.createElement("button");Ge.type="button",Ge.className="rounded-lg border border-slate-200 px-2 py-1 text-[11px] font-semibold text-slate-500",Ge.textContent="\u2191",Ge.addEventListener("click",st=>{st.stopPropagation(),s?Yr(s,e.id,-1):Qr(e.id,-1)});let mt=document.createElement("button");mt.type="button",mt.className="rounded-lg border border-slate-200 px-2 py-1 text-[11px] font-semibold text-slate-500",mt.textContent="\u2193",mt.addEventListener("click",st=>{st.stopPropagation(),s?Yr(s,e.id,1):Qr(e.id,1)}),be.appendChild(Ge),be.appendChild(mt),Ie.appendChild(be);let Ue=document.createElement("button");return Ue.type="button",Ue.className="inline-flex items-center justify-center rounded-lg border border-transparent px-2 py-1 text-[12px] text-rose-500 hover:text-rose-700",Ue.innerHTML="\u{1F5D1}\uFE0F",Ue.addEventListener("click",st=>{st.stopPropagation(),s?ga(s,e.id):Ca(e.id)}),Ie.appendChild(Ue),c.appendChild(Ie),c.addEventListener("click",()=>{Rt(e.id,s)}),c.addEventListener("keydown",st=>{(st.key==="Enter"||st.key===" ")&&(st.preventDefault(),Rt(e.id,s))}),{item:c,isGroup:i,block:e}},ma=e=>{let t=document.createElement("div");return t.dataset.groupDropZone=e.id,t.className="ml-6 border-2 border-dashed border-slate-200 rounded-xl p-3 text-center text-xs text-slate-400 hover:border-violet-300 hover:bg-violet-50/50 transition-colors cursor-pointer",t.innerHTML='<span class="pointer-events-none">\u{1F4E6} Glissez un bloc ici ou cliquez pour ajouter</span>',t.addEventListener("dragover",s=>{s.preventDefault(),s.stopPropagation(),t.classList.add("border-violet-400","bg-violet-50")}),t.addEventListener("dragleave",s=>{s.stopPropagation(),t.classList.remove("border-violet-400","bg-violet-50")}),t.addEventListener("drop",s=>{s.preventDefault(),s.stopPropagation(),t.classList.remove("border-violet-400","bg-violet-50");let r=s.dataTransfer.getData("text/plain");r&&r!==e.id&&pa(r,e.id)}),t.addEventListener("click",()=>{ba(e.id)}),t},It=e=>{if(!R)return;R.innerHTML="";let t=(e==null?void 0:e.blocks)||[];if(Se&&(Se.textContent=la(t.length)),t.length===0){R.classList.add("hidden"),we==null||we.classList.remove("hidden");return}R.classList.remove("hidden"),we==null||we.classList.add("hidden"),t.forEach(s=>{let{item:r,isGroup:o}=Gr(s,!1,null);if(R.appendChild(r),o){(s.children||[]).forEach(p=>{let{item:L}=Gr(p,!0,s.id);R.appendChild(L)});let c=ma(s);R.appendChild(c)}})},fa=e=>{if(!m||!e)return null;for(let t=0;t<m.blocks.length;t++){let s=m.blocks[t],r=((s==null?void 0:s.type)||"").toLowerCase();if(!(r==="groupe"||r==="group"||r==="sections"||r==="grid")||!Array.isArray(s.children))continue;let i=s.children.findIndex(c=>c.id===e);if(i!==-1)return{groupId:s.id,groupIndex:t,childIndex:i}}return null},Zr=e=>{if(!m||!e)return null;let t=m.blocks.findIndex(i=>i.id===e);if(t!==-1){let[i]=m.blocks.splice(t,1);return{block:i,from:{type:"root",index:t}}}let s=fa(e);if(!s)return null;let r=m.blocks.find(i=>i.id===s.groupId);if(!r||!Array.isArray(r.children))return null;let[o]=r.children.splice(s.childIndex,1);return{block:o,from:{type:"group",groupId:s.groupId,index:s.childIndex}}},Cn=(e,t)=>{if(!m||!e)return;let s=Math.min(Math.max(0,t!=null?t:m.blocks.length),m.blocks.length);m.blocks.splice(s,0,e)},En=(e,t,s)=>{if(!m||!e||!t)return!1;let r=m.blocks.find(i=>i.id===t);if(!r)return!1;Array.isArray(r.children)||(r.children=[]);let o=Math.min(Math.max(0,s!=null?s:r.children.length),r.children.length);return r.children.splice(o,0,e),!0},Kr=(e,t,s=1)=>typeof e!="number"||e<0?null:t==="before"?e:e+s,qn=(e=null,t=null,s=null)=>{It(m),savePageBlocks(),e&&Rt(e,t),s&&M(s)},pa=(e,t)=>{var i,c,p;if(!m||!e||!t||e===t)return;let s=m.blocks.find(L=>L.id===t);if(!s)return;let r=Zr(e);if(!(r!=null&&r.block))return;let o=(r.block.type||"").toLowerCase();if(o==="groupe"||o==="group"){M("Impossible d'imbriquer des groupes","error"),((i=r.from)==null?void 0:i.type)==="root"?Cn(r.block,r.from.index):((c=r.from)==null?void 0:c.type)==="group"&&En(r.block,r.from.groupId,r.from.index);return}if(((p=r.from)==null?void 0:p.type)==="group"&&r.from.groupId===t){En(r.block,r.from.groupId,r.from.index);return}Array.isArray(s.children)||(s.children=[]),s.children.push(r.block),qn(r.block.id,t,"Bloc ajout\xE9 au groupe")},ga=(e,t)=>{if(!m)return;let s=m.blocks.find(c=>c.id===e);if(!s||!s.children)return;let r=s.children.findIndex(c=>c.id===t);if(r===-1)return;let[o]=s.children.splice(r,1),i=m.blocks.findIndex(c=>c.id===e);m.blocks.splice(i+1,0,o),It(m),savePageBlocks(),M("Bloc sorti du groupe")},ir=(e,t,s)=>{if(!m)return;let r=m.blocks.find(c=>c.id===e);if(!r||!Array.isArray(r.children))return;let o=r.children.findIndex(c=>c.id===t);if(o===-1)return;let[i]=r.children.splice(o,1);Cn(i,s),qn(i.id,null,"Bloc sorti du groupe")},ha=(e,t,s,r)=>{if(!m)return;let o=m.blocks.find(j=>j.id===e);if(!o||!Array.isArray(o.children))return;let i=o.children.findIndex(j=>j.id===t),c=o.children.findIndex(j=>j.id===s);if(i===-1||c===-1||t===s)return;let[p]=o.children.splice(i,1),L=i<c?c-1:c,K=r==="before"?L:L+1;o.children.splice(K,0,p),qn(p.id,e,null)},_r=(e,t,s,r)=>{var L,K,j,D;if(!m||!e||!t)return;let o=Zr(e);if(!(o!=null&&o.block))return;let i=(o.block.type||"").toLowerCase();if(i==="groupe"||i==="group"){M("Impossible d'imbriquer des groupes","error"),((L=o.from)==null?void 0:L.type)==="root"?Cn(o.block,o.from.index):((K=o.from)==null?void 0:K.type)==="group"&&En(o.block,o.from.groupId,o.from.index);return}let c=m.blocks.find(re=>re.id===t);if(!c){((j=o.from)==null?void 0:j.type)==="root"?Cn(o.block,o.from.index):((D=o.from)==null?void 0:D.type)==="group"&&En(o.block,o.from.groupId,o.from.index);return}Array.isArray(c.children)||(c.children=[]);let p=c.children.length;if(s){let re=c.children.findIndex(A=>A.id===s),_=Kr(re,r,1);_!==null&&(p=_)}c.children.splice(p,0,o.block),qn(o.block.id,t,"Bloc ajout\xE9 au groupe")},Yr=(e,t,s)=>{if(!m)return;let r=m.blocks.find(p=>p.id===e);if(!r||!r.children)return;let o=r.children.findIndex(p=>p.id===t);if(o===-1)return;let i=o+s;if(i<0||i>=r.children.length)return;let[c]=r.children.splice(o,1);r.children.splice(i,0,c),It(m),savePageBlocks()},ba=e=>{Xt=e,openBlockPicker()},Xt=null,ya=e=>{!qt||!e||(Vs=e,zr&&(zr.textContent=e.title||e.id),qt.classList.remove("hidden"),qt.classList.add("flex"),bs(qt,An))},An=()=>{qt&&(qt.classList.add("hidden"),qt.classList.remove("flex"),Vs=null,ys(qt))},va=async()=>{if(!At||!Vs)return;let e=Vs.id,t=Vs.title||e;Kt&&(Kt.disabled=!0,Kt.textContent="Suppression...");try{let s=await fetch(`${At}/${encodeURIComponent(e)}`,{method:"DELETE",credentials:"include"}),r=await s.json();if(!s.ok)throw new Error(r.message||"Erreur serveur");ue=ue.filter(o=>o.id!==e),Oe===e?ue.length>0?$t(ue[0].id):(Oe=null,m=null,es(ue,null),It(null),Ke==null||Ke.classList.remove("hidden"),x==null||x.classList.add("hidden"),h&&(h.srcdoc=fe())):es(ue,Oe),An(),M(`Page "${t}" supprim\xE9e`)}catch(s){console.error("[pages] delete failed",s),M(s.message||"Erreur suppression")}finally{Kt&&(Kt.disabled=!1,Kt.textContent="Supprimer")}},es=(e,t)=>{let s=Array.isArray(e)?e:[],r=new Map(s.map(j=>[j.id,j])),o=new Map,i=j=>{let D=j==null?void 0:j.parentId;if(typeof D!="string"||!D.trim())return null;let re=D.trim();return r.has(re)?re:null};s.forEach(j=>{let D=i(j);o.has(D)||o.set(D,[]),o.get(D).push(j)});let c=(j,D)=>{let re=(j==null?void 0:j.slug)||"",_=(D==null?void 0:D.slug)||"";return re==="/"&&_!=="/"?-1:_==="/"&&re!=="/"?1:re.localeCompare(_)};Array.from(o.values()).forEach(j=>j.sort(c));let p=[],L=new Set,K=(j,D)=>{(o.get(j)||[]).forEach(_=>{if(!(_!=null&&_.id)||L.has(_.id))return;L.add(_.id);let A=!!(_.parentId&&!r.has(_.parentId));p.push({page:_,depth:D,hasMissingParent:A}),K(_.id,D+1)})};K(null,0),s.forEach(j=>{!(j!=null&&j.id)||L.has(j.id)||(L.add(j.id),p.push({page:j,depth:0,hasMissingParent:!0}),K(j.id,1))}),n.forEach(j=>{j.innerHTML="",p.forEach(({page:D,depth:re,hasMissingParent:_})=>{var st;let A=document.createElement("li");A.className="flex items-center gap-1";let je=document.createElement("button");je.type="button",je.dataset.pageId=D.id,je.className=["flex-1 flex items-center gap-3 px-3 py-2 text-left transition",t===D.id?"bg-[#9C6BFF]/10 text-slate-900 border border-[#9C6BFF]/40 rounded-xl shadow-sm":"text-slate-700 hover:bg-slate-50 rounded-xl"].join(" "),t===D.id?je.setAttribute("aria-current","page"):je.removeAttribute("aria-current");let Ie=D.name||D.title,Ge=((st=D.accessibility)==null?void 0:st.showInMainNav)===!1?'<span class="text-[10px] font-semibold text-amber-600">Masqu\xE9 du menu</span>':"",mt=_?'<span class="text-[10px] font-semibold text-rose-600">Parent manquant</span>':"",Ue=Math.min(32,Math.max(0,Number(re)||0)*14);je.innerHTML=`
            <span class="flex h-9 w-9 items-center justify-center rounded-xl border border-slate-200 bg-white text-slate-500">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                <path d="M6.5 4.5h7l4 4v11a1 1 0 0 1-1 1h-10a1 1 0 0 1-1-1v-14a1 1 0 0 1 1-1Z" stroke="currentColor" stroke-width="1.4" stroke-linejoin="round"/>
                <path d="M13.5 4.5v4a1 1 0 0 0 1 1h3" stroke="currentColor" stroke-width="1.4"/>
              </svg>
            </span>
            <div class="flex flex-col" style="margin-left:${Ue}px">
              <span class="text-sm font-semibold">${Ie}</span>
              <span class="text-xs text-slate-500">${D.slug}</span>
              ${Ge}
              ${mt}
            </div>
          `,je.addEventListener("click",()=>{$t(D.id),cr()||dr()}),A.appendChild(je);let Bt=document.createElement("button");Bt.type="button",Bt.className="flex-shrink-0 p-2 text-slate-400 hover:text-rose-600 hover:bg-rose-50 rounded-lg transition",Bt.title="Supprimer cette page",Bt.setAttribute("aria-label",`Supprimer ${Ie}`),Bt.innerHTML=`
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M3 6h18M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2m3 0v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6h14ZM10 11v6M14 11v6"/>
            </svg>
          `,Bt.addEventListener("click",Yt=>{Yt.stopPropagation(),ya(D)}),A.appendChild(Bt),j.appendChild(A)})})},ts=()=>{if(!m||!Array.isArray(m.blocks))return null;let e=m.blocks.find(t=>t.id===tt);if(!e){for(let t of m.blocks)if(t.children&&(e=t.children.find(s=>s.id===tt),e))break}return e||null},xa=(e,t)=>{if(!e||!t)return!1;let s=r=>{for(let o of r||[])if(o&&(o.id===t||Array.isArray(o.children)&&s(o.children)))return!0;return!1};return s(e.blocks||[])},lr=(e,t,s,r=null)=>{let o=!1,i=null,c=(L,K=null)=>{let j=!1;return{nodes:(L||[]).map(re=>{if(!re||!re.id)return re;if(re.id===t&&(!r||r===K))return o=!0,i=K,j=!0,s(re);if(Array.isArray(re.children)&&re.children.length>0){let{nodes:_,changed:A}=c(re.children,re.id);if(A)return j=!0,{...re,children:_}}return re}),changed:j}};return{blocks:c(e,null).nodes,didUpdate:o,foundParentId:i}},ss=null,Rt=(e,t=null)=>{if(!m)return;if(!e){tt=null,ss=null,It(m),kn(null),Js(null);return}let s=null;if(s=m.blocks.find(r=>r.id===e),!s&&t){let r=m.blocks.find(o=>o.id===t);r&&r.children&&(s=r.children.find(o=>o.id===e))}if(!s){for(let r of m.blocks)if(r.children){let o=r.children.find(i=>i.id===e);if(o){s=o,t=r.id;break}}}s||(s=m.blocks[0]||null,t=null),tt=(s==null?void 0:s.id)||null,ss=t,It(m),kn(s),Js(tt)},qs=e=>{if(!m)return;let t={...m,blocks:e};Ea(t)},In=()=>window.matchMedia("(min-width: 1024px)").matches;function Qr(e,t){if(!m||!e||!t)return;let s=[...m.blocks||[]],r=s.findIndex(c=>c.id===e);if(r<0)return;let o=r+t;if(o<0||o>=s.length)return;let[i]=s.splice(r,1);s.splice(o,0,i),qs(s),$t(m.id,{preserveBlock:!0}),Rt(i.id)}function Qa(e,t){if(!m||!e||!t||e===t)return;let s=[...m.blocks||[]],r=s.findIndex(c=>c.id===e),o=s.findIndex(c=>c.id===t);if(r<0||o<0)return;let[i]=s.splice(r,1);s.splice(o,0,i),qs(s),$t(m.id,{preserveBlock:!0}),Rt(i.id)}function wa(e,t,s){if(!m||!e||!t||e===t)return;let r=[...m.blocks||[]],o=r.findIndex(L=>L.id===e),i=r.findIndex(L=>L.id===t);if(o<0||i<0)return;let[c]=r.splice(o,1);o<i&&i--;let p=s==="before"?i:i+1;r.splice(p,0,c),qs(r),$t(m.id,{preserveBlock:!0}),Rt(c.id)}function Xr(){if(!R)return;let e=In();R.querySelectorAll("[data-block-item]").forEach(t=>{t.setAttribute("draggable",e?"true":"false")})}function Ws(){Le&&(Le.classList.add("hidden"),As=!1,Xt=null)}function Sa(){Le&&(Le.classList.remove("hidden"),As=!0)}function La(){As?Ws():Sa()}function ka(e){var i;if(!m||!e)return;let t=oa[e];if(!t)return;let s=(m.blocks||[]).filter(c=>c.type===t.type).length+1,r=or(ar(m.id,e),`${t.label} ${s}`,t.type,t.status,t.description,t.props,t.settings||{});if((t.type||"").toLowerCase()==="collectiongrid"){let c=((i=Ut[0])==null?void 0:i.id)||"";r.collectionId=c,r.settings.collectionId=c,r.settings.limit=r.settings.limit||6}if(Xt){let c=m.blocks.find(p=>p.id===Xt);if(c){c.children||(c.children=[]),c.children.push(r),Xt=null,It(m),savePageBlocks(),Rt(r.id,c.id),Ws(),M("Bloc ajout\xE9 au groupe");return}Xt=null}let o=[...m.blocks||[],r];qs(o),$t(m.id,{preserveBlock:!0}),Rt(r.id),Ws(),M("Bloc ajout\xE9")}function eo(e){var r,o;if(!m)return;let t=(m.blocks||[]).filter(i=>i.id!==e),s=e===tt?((r=t[0])==null?void 0:r.id)||null:tt||((o=t[0])==null?void 0:o.id)||null;qs(t),tt=s,$t(m.id,{preserveBlock:!0}),tt?Rt(tt):(kn(null),Js(null)),M("Bloc supprim\xE9")}function Tn(){Ee&&(Ee.classList.add("hidden"),Ee.classList.remove("flex"),Bn=null,ys(Ee))}function Ca(e){if(!Ee){eo(e);return}Bn=e,Ee.classList.remove("hidden"),Ee.classList.add("flex"),bs(Ee,Tn)}let Ea=e=>{if(!e)return;let t=ns(e);ue=ue.map(s=>s.id===t.id?t:s),m=t,Wt(t)},$t=(e,t={})=>{var o,i;let s=ue.find(c=>c.id===e)||ue[0]||null;m=s?ns(s):null,Oe=(s==null?void 0:s.id)||null,(!t.preserveBlock||!m||!xa(m,tt))&&(tt=((i=(o=m==null?void 0:m.blocks)==null?void 0:o[0])==null?void 0:i.id)||null,ss=null),Oe&&aa(Oe),es(ue,Oe),Vr(m),vr(),ca(m),De(m),It(m),kn(ts()),Js(tt),Xr(),As&&Ws()},cr=()=>window.matchMedia("(min-width: 1024px)").matches,to=()=>{it&&(cr()?(it.classList.add("is-open"),Ye==null||Ye.classList.add("hidden"),document.body.classList.remove("overflow-hidden")):it.classList.remove("is-open"))},qa=()=>{!it||cr()||(it.classList.add("is-open"),Ye==null||Ye.classList.remove("hidden"),document.body.classList.add("overflow-hidden"))},dr=()=>{it&&(it.classList.remove("is-open"),Ye==null||Ye.classList.add("hidden"),document.body.classList.remove("overflow-hidden"))},Aa=()=>{!gt||!Dt||(gt.classList.remove("hidden"),Dt.classList.add("hidden"),et&&(et.textContent=""),$n=!1,xt&&(xt.value="",xt.focus()),Qt&&(Qt.value=""),wt&&(wt.value=""))},so=()=>{!gt||!Dt||(gt.classList.add("hidden"),Dt.classList.remove("hidden"),et&&(et.textContent=""),$n=!1,gt.reset())},Ia=()=>{!xt||!wt||$n&&wt.value.trim().length>0||(wt.value=Ln(xt.value))},ue=[],Oe=null,$n=!1,m=null,tt=null,As=!1,Bn=null,ur="",mr=!1,Gs=null,Ut=[],Pn=new Map,Ta=e=>{let t={...e,props:Array.isArray(e.props)?e.props:[],settings:{...e.settings||{}}};return(t.type||"").toLowerCase()==="collectiongrid"&&(t.collectionId=t.collectionId||t.settings.collectionId||"",t.settings.collectionId=t.collectionId,t.settings.limit=t.settings.limit||6),t},ns=e=>{var t,s,r,o,i;return{...e,parentId:typeof e.parentId=="string"&&e.parentId.trim()?e.parentId.trim():null,blocks:(e.blocks||[]).map(c=>Ta(c)),seo:{title:(((t=e.seo)==null?void 0:t.title)||"").trim(),description:(((s=e.seo)==null?void 0:s.description)||"").trim(),indexed:typeof((r=e.seo)==null?void 0:r.indexed)=="boolean"?e.seo.indexed:null},accessibility:{showInMainNav:((o=e.accessibility)==null?void 0:o.showInMainNav)!==!1,mainLabel:(((i=e.accessibility)==null?void 0:i.mainLabel)||"").trim()}}},$a=async()=>{if(!Sn){Ut=[],Mn();return}try{let e=await fetch(Sn,{headers:{Accept:"application/json"}});if(!e.ok)throw new Error("Impossible de charger les collections.");let t=await e.json().catch(()=>[]);Ut=Array.isArray(t)?t:[];let s=(We==null?void 0:We.value)||"";Mn(s)}catch(e){console.error("[design] collections load",e),M("Collections indisponibles."),Ut=[],Mn()}},fr=e=>{if(!ds)return;if(!e){ds.textContent=Ut.length?"S\xE9lectionnez une collection pour afficher ses informations.":"Aucune collection disponible. Ajoutez-en depuis l\u2019onglet Contenus.";return}let t=Ut.find(r=>r.id===e);if(!t){ds.textContent=`Collection ${e}`;return}let s=[];t.description&&s.push(t.description),t.type&&s.push(`Type\xA0: ${t.type}`),ds.textContent=s.join(" \xB7 ")||`Collection ${t.name||t.id}`},Ba=async e=>{if(!Sn||!e)return[];let t=String(e);if(Pn.has(t))return Pn.get(t)||[];try{let s=await fetch(`${Sn}/${encodeURIComponent(t)}/items`,{headers:{Accept:"application/json"}});if(!s.ok)throw new Error("Impossible de charger les items.");let r=await s.json().catch(()=>({})),o=Array.isArray(r==null?void 0:r.items)?r.items:[];return Pn.set(t,o),o}catch(s){return console.warn("[design] collection items load failed",(s==null?void 0:s.message)||s),Pn.set(t,[]),[]}},pr=()=>{let e=ts();if(!e)return null;let t=l(e.type);return(gn[t]||t)!=="collectiongrid"?null:e},Pa=(e="S\xE9lectionnez une collection")=>{if(!Ae)return;Ae.innerHTML="";let t=document.createElement("option");t.value="",t.textContent=e,Ae.appendChild(t),Ae.value="",Object.values(ve).forEach(s=>{s&&(s.type==="checkbox"?s.checked=!1:s.value="")})},jn=()=>((Ae==null?void 0:Ae.value)||"").trim(),no=e=>{var s;let t=(s=e==null?void 0:e.settings)==null?void 0:s.itemOverrides;return!t||typeof t!="object"||Array.isArray(t)?{}:t},ro=(e,t)=>{var i,c;if(!e||!t)return;let s=no(e),r=s[t]&&typeof s[t]=="object"?s[t]:{},o=p=>{var L;return(L=r==null?void 0:r[p])!=null?L:""};ve.ctaStyle&&(ve.ctaStyle.value=o("ctaStyle")),ve.ctaTextColor&&(ve.ctaTextColor.value=o("ctaTextColor")),ve.bg&&(ve.bg.value=o("bg")),ve.borderRadius&&(ve.borderRadius.value=o("borderRadius")),ve.shadow&&(ve.shadow.value=o("shadow")),ve.border&&(ve.border.value=o("border")),ve.animation&&(ve.animation.value=o("animation")),ve.animationDelay&&(ve.animationDelay.value=(i=r==null?void 0:r.animationDelay)!=null?i:""),ve.animationDuration&&(ve.animationDuration.value=(c=r==null?void 0:r.animationDuration)!=null?c:""),k==null||k.querySelectorAll("[data-color-select]").forEach(Ms)},ja=()=>{var s,r,o,i,c,p,L,K,j;let e=jn();if(!e)return null;let t={ctaStyle:(((s=ve.ctaStyle)==null?void 0:s.value)||"").trim(),ctaTextColor:(((r=ve.ctaTextColor)==null?void 0:r.value)||"").trim(),bg:(((o=ve.bg)==null?void 0:o.value)||"").trim(),borderRadius:(((i=ve.borderRadius)==null?void 0:i.value)||"").trim(),shadow:(((c=ve.shadow)==null?void 0:c.value)||"").trim(),border:(((p=ve.border)==null?void 0:p.value)||"").trim(),animation:(((L=ve.animation)==null?void 0:L.value)||"").trim(),animationDelay:Number(((K=ve.animationDelay)==null?void 0:K.value)||""),animationDuration:Number(((j=ve.animationDuration)==null?void 0:j.value)||"")};return Number.isFinite(t.animationDelay)||delete t.animationDelay,Number.isFinite(t.animationDuration)||delete t.animationDuration,Object.keys(t).forEach(D=>{t[D]===""&&delete t[D]}),{itemId:e,patch:t}},gr=async({reset:e=!1}={})=>{let t=pr();if(!m||!t)return;let s=jn();if(!s)return;let r=p=>{let L={...p.settings||{}},K={...no({settings:L})};if(e)delete K[s];else{let j=ja();if(!j)return p;let D=j.patch||{};Object.keys(D).length?K[s]={...K[s]||{},...D}:delete K[s]}return L.itemOverrides=K,{...p,settings:L}},{blocks:o,didUpdate:i}=lr(m.blocks||[],t.id,r,ss);if(!i)return;let c={...m,blocks:o};m=c,G("Modification\u2026");try{let p=await Wt(c);if(p!=null&&p.id){let L=ns(p);m=L,ue=ue.map(K=>K.id===L.id?L:K)}G("Sauvegard\xE9"),setTimeout(()=>G("\xC0 jour"),1500)}catch(p){console.warn("[design] card override save failed",(p==null?void 0:p.message)||p),G("Erreur de sauvegarde")}xe()},oo=async e=>{var i,c;if(!Ae||!e)return;let t=e.collectionId||((i=e.settings)==null?void 0:i.collectionId)||"";if(!t){Pa("S\xE9lectionnez une collection");return}let s=await Ba(t);if(Ae.innerHTML="",!s.length){let p=document.createElement("option");p.value="",p.textContent="Aucun item",Ae.appendChild(p),Ae.value="";return}s.forEach(p=>{let L=document.createElement("option");L.value=p.id||"";let K=p.title||p.slug||p.id||"Item";L.textContent=K,Ae.appendChild(L)});let r=jn(),o=r&&s.some(p=>p.id===r)?r:((c=s[0])==null?void 0:c.id)||"";Ae.value=o,ro(e,o)},Mn=(e="")=>{if(We){if(We.innerHTML="",!Ut.length){We.disabled=!0;let t=document.createElement("option");t.value="",t.textContent="Aucune collection disponible",We.appendChild(t),fr("");return}if(We.disabled=!1,e&&!Ut.some(t=>t.id===e)){let t=document.createElement("option");t.value=e,t.textContent=e,We.appendChild(t)}Ut.forEach(t=>{let s=document.createElement("option");s.value=t.id;let r=t.name||t.id;s.textContent=t.type?`${r} \xB7 ${t.type}`:r,s.dataset.description=t.description||"",We.appendChild(s)}),e&&(We.value=e),fr(We.value||"")}};$a(),to(),ms.forEach(e=>{e.addEventListener("click",qa)}),vn.forEach(e=>{e.addEventListener("click",dr)}),Ye==null||Ye.addEventListener("click",dr),window.addEventListener("resize",()=>{to(),Xr()}),Dt==null||Dt.addEventListener("click",Aa),fs==null||fs.addEventListener("click",so),xt==null||xt.addEventListener("input",Ia),wt==null||wt.addEventListener("input",()=>{et&&(et.textContent=""),$n=!0}),gt==null||gt.addEventListener("submit",async e=>{if(e.preventDefault(),!At){et&&(et.textContent="Aucun site s\xE9lectionn\xE9.");return}if(!xt||!wt)return;let t=xt.value.trim(),s=(Qt==null?void 0:Qt.value.trim())||t,r=Ln(wt.value.trim()||t);if(!t||!r){et&&(et.textContent="Nom et slug sont requis.");return}et&&(et.textContent=""),Gt&&(Gt.disabled=!0,Gt.textContent="Cr\xE9ation...");try{let o=await bn({name:t,title:s,slug:r});if(!o||!o.id)throw new Error("R\xE9ponse invalide.");ue=[...ue,ns(o)],so(),M("Page cr\xE9\xE9e"),$t(o.id)}catch(o){console.error("[design] create page failed",o),et&&(et.textContent=o.message||"Impossible de cr\xE9er la page.")}finally{Gt&&(Gt.disabled=!1,Gt.textContent="Cr\xE9er")}});let hr=()=>{Lt&&(Lt.value=""),Ht&&(Ht.classList.add("hidden"),Ht.textContent="")},ao=()=>{if(!Lt)return null;let e=Lt.value.trim();if(!e)return Ht&&Ht.classList.add("hidden"),null;try{let t=JSON.parse(e);return Ht&&Ht.classList.add("hidden"),t}catch(t){return Ht&&(Ht.classList.remove("hidden"),Ht.textContent=`\u274C JSON invalide : ${t.message}`),null}},Ma=()=>{if(!Lt)return;let e=Lt.value.trim();if(e)try{let t=JSON.parse(e);Lt.value=JSON.stringify(t,null,2),ao()}catch{}},Zs=()=>{if(St)if(ps==="upload")St.disabled=Zt.length===0;else if(ps==="paste"){let e=ao();St.disabled=!e}else St.disabled=!0},Fa=()=>{dt&&(dt.classList.remove("hidden"),dt.classList.add("flex"),Zt=[],ps="upload",yr(),hr(),ht&&ht.classList.add("hidden"),bt&&(bt.innerHTML=""),Zs(),er.forEach(e=>{e.dataset.importTab==="upload"?(e.classList.add("bg-[#9C6BFF]","text-white"),e.classList.remove("border","border-slate-200","text-slate-700")):(e.classList.remove("bg-[#9C6BFF]","text-white"),e.classList.add("border","border-slate-200","text-slate-700"))}),Hr.forEach(e=>{e.dataset.importPanel==="upload"?e.classList.remove("hidden"):e.classList.add("hidden")}),bs(dt,br))},br=()=>{dt&&(dt.classList.add("hidden"),dt.classList.remove("flex"),Zt=[],hr(),ys(dt))},yr=()=>{if(!(!Es||!Os)){if(Zt.length===0){Es.classList.add("hidden"),Zs();return}Es.classList.remove("hidden"),Os.innerHTML=Zt.map(e=>`<li class="flex items-center gap-2"><span class="text-lg">\u{1F4C4}</span>${e.name}</li>`).join(""),Zs()}},io=e=>{let t=Array.from(e).filter(s=>s.type==="application/json"||s.name.endsWith(".json"));if(t.length===0){M("Aucun fichier JSON valide.");return}Zt=t,yr()},Na=async()=>{var s,r,o,i,c,p,L,K,j,D,re;if(!At)return;let e=[];if(console.log("[import] activeImportTab:",ps),ps==="paste"){let _=(s=Lt==null?void 0:Lt.value)==null?void 0:s.trim();if(console.log("[import] paste text length:",_==null?void 0:_.length),!_){M("Aucun JSON \xE0 importer."),ht&&bt&&(ht.classList.remove("hidden"),bt.innerHTML='<p class="text-amber-600">\u26A0 Le champ de texte est vide.</p>');return}try{let A=JSON.parse(_);console.log("[import] parsed JSON:",A),console.log("[import] parsed type:",typeof A,Array.isArray(A)?"array":"not array"),A&&!Array.isArray(A)&&A.pages?(console.log("[import] detected pages+collections format"),e=A):Array.isArray(A)?e.push(...A):e.push(A),console.log("[import] pagesData prepared:",e)}catch(A){let je=A.message.match(/position (\d+)/),Ie=A.message;if(je){let be=parseInt(je[1],10),Ge=_.substring(0,be).split(`
`),mt=Ge.length,Ue=Ge[Ge.length-1].length+1;Ie=`Ligne ${mt}, colonne ${Ue}: ${A.message}`}M(`Erreur JSON : ${Ie}`,"error"),console.error("[import] paste parse error",A),ht&&bt&&(ht.classList.remove("hidden"),bt.innerHTML=`
              <div class="text-rose-600">
                <p class="font-medium">\u2717 Erreur de syntaxe JSON</p>
                <p class="text-xs mt-1">${Ie}</p>
                <p class="text-xs mt-2 text-slate-500">V\xE9rifiez les virgules, guillemets et accolades.</p>
              </div>
            `);return}}else if(ps==="upload"){if(Zt.length===0)return;let _=[];for(let A of Zt){let je=await A.text();try{let Ie=JSON.parse(je);Array.isArray(Ie)?e.push(...Ie):e.push(Ie)}catch(Ie){let be=Ie.message.match(/position (\d+)/),Ge=Ie.message;if(be){let mt=parseInt(be[1],10);Ge=`Ligne ${je.substring(0,mt).split(`
`).length}: ${Ie.message}`}_.push({file:A.name,error:Ge}),console.error("[import] parse error",A.name,Ie)}}if(_.length>0){if(ht&&bt){ht.classList.remove("hidden");let A='<div class="text-rose-600"><p class="font-medium">\u2717 Erreurs de syntaxe JSON</p><ul class="ml-4 text-xs mt-1">';_.forEach(je=>{A+=`<li><strong>${je.file}</strong>: ${je.error}</li>`}),A+="</ul></div>",e.length>0&&(A+=`<p class="text-amber-600 mt-2 text-sm">\u26A0 ${e.length} page(s) valide(s) seront import\xE9e(s)</p>`),bt.innerHTML=A}if(e.length===0){M("Tous les fichiers contiennent des erreurs JSON","error");return}}}else return;let t=Array.isArray(e)?e.length>0:e&&(((r=e.pages)==null?void 0:r.length)>0||e.title);if(console.log("[import] hasData check:",t,"pagesData:",e),!t){M("Aucune page valide \xE0 importer."),ht&&bt&&(ht.classList.remove("hidden"),bt.innerHTML=`
            <div class="text-amber-600">
              <p class="font-medium">\u26A0 Aucune page d\xE9tect\xE9e</p>
              <p class="text-xs mt-1">Le JSON doit contenir :</p>
              <ul class="text-xs ml-4 mt-1 list-disc">
                <li>Un objet page avec "title" : <code>{"title": "Ma page", ...}</code></li>
                <li>Un tableau de pages : <code>[{"title": "Page 1"}, {"title": "Page 2"}]</code></li>
                <li>Ou un objet combin\xE9 : <code>{"pages": [...], "collections": {...}}</code></li>
              </ul>
            </div>
          `);return}St&&(St.disabled=!0,St.textContent="Import..."),console.log("[import] Sending to server:",JSON.stringify(e).substring(0,500));try{let _=await fetch(`${At}/import`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)});console.log("[import] Server response status:",_.status);let A=await _.json();if(console.log("[import] Server response body:",A),!_.ok)throw ht&&bt&&(ht.classList.remove("hidden"),bt.innerHTML=`
              <div class="text-rose-600">
                <p class="font-medium">\u2717 Erreur serveur</p>
                <p class="text-xs mt-1">${A.message||"Erreur inconnue"}</p>
                ${A.details?`<p class="text-xs mt-1 text-slate-500">${A.details}</p>`:""}
              </div>
            `),new Error(A.message||"Erreur serveur");if(ht&&bt){ht.classList.remove("hidden");let be="",Ge=((o=A.imported)==null?void 0:o.length)>0||((i=A.collectionsCreated)==null?void 0:i.length)>0,mt=((c=A.errors)==null?void 0:c.length)>0;Ge&&!mt?be+='<div class="bg-green-50 border border-green-200 rounded-lg p-3 mb-2"><p class="text-green-800 font-medium">\u2713 Import r\xE9ussi</p></div>':Ge&&mt?be+='<div class="bg-amber-50 border border-amber-200 rounded-lg p-3 mb-2"><p class="text-amber-800 font-medium">\u26A0 Import partiel</p></div>':mt&&(be+='<div class="bg-rose-50 border border-rose-200 rounded-lg p-3 mb-2"><p class="text-rose-800 font-medium">\u2717 Import \xE9chou\xE9</p></div>'),A.collectionsCreated&&A.collectionsCreated.length>0&&(be+=`<p class="text-violet-700 mt-2">\u2713 ${A.collectionsCreated.length} collection(s) cr\xE9\xE9e(s)</p>`,be+='<ul class="ml-4 text-xs text-slate-600">',A.collectionsCreated.forEach(Ue=>{be+=`<li>${Ue.name} (${Ue.itemsCount} item${Ue.itemsCount>1?"s":""})</li>`}),be+="</ul>"),A.imported&&A.imported.length>0&&(be+=`<p class="text-green-700 mt-2">\u2713 ${A.imported.length} page(s) import\xE9e(s)</p>`,be+='<ul class="ml-4 text-xs text-slate-600">',A.imported.forEach(Ue=>{be+=`<li><strong>${Ue.title}</strong> \u2192 ${Ue.slug} (${Ue.action==="updated"?"mise \xE0 jour":"cr\xE9\xE9e"})</li>`}),be+="</ul>"),A.errors&&A.errors.length>0&&(be+=`<p class="text-rose-600 mt-3 font-medium">\u2717 ${A.errors.length} erreur(s)</p>`,be+='<ul class="ml-4 text-xs text-rose-600 space-y-1 mt-1">',A.errors.forEach(Ue=>{be+=`<li class="bg-rose-50 p-2 rounded"><strong>${Ue.title}</strong><br/><span class="text-rose-500">${Ue.error}</span></li>`}),be+="</ul>"),bt.innerHTML=be}let je=((p=A.imported)==null?void 0:p.length)>0||((L=A.collectionsCreated)==null?void 0:L.length)>0,Ie=((K=A.errors)==null?void 0:K.length)>0;if(A.imported&&A.imported.length>0&&(ue=await zs(),es(ue,Oe),ue.length>0&&!Oe&&$t(ue[0].id)),je&&!Ie){let be=(j=A.collectionsCreated)!=null&&j.length?` + ${A.collectionsCreated.length} collection(s)`:"";M(`\u2713 Import r\xE9ussi : ${((D=A.imported)==null?void 0:D.length)||0} page(s)${be}`,"success")}else je&&Ie?M(`\u26A0 Import partiel : ${((re=A.imported)==null?void 0:re.length)||0} page(s), ${A.errors.length} erreur(s)`,"warning"):Ie&&M(`\u2717 Import \xE9chou\xE9 : ${A.errors.length} erreur(s)`,"error");Zt=[],yr(),hr()}catch(_){console.error("[import] failed",_),M(_.message||"Erreur import","error")}finally{St&&(St.disabled=!1,St.textContent="Importer")}};ks==null||ks.addEventListener("click",Fa),xn.forEach(e=>e.addEventListener("click",br)),dt==null||dt.addEventListener("click",e=>{e.target===dt&&br()}),Cs==null||Cs.addEventListener("change",e=>{io(e.target.files)}),ut==null||ut.addEventListener("dragover",e=>{e.preventDefault(),ut.classList.add("border-[#9C6BFF]","bg-[#9C6BFF]/10")}),ut==null||ut.addEventListener("dragleave",e=>{e.preventDefault(),ut.classList.remove("border-[#9C6BFF]","bg-[#9C6BFF]/10")}),ut==null||ut.addEventListener("drop",e=>{e.preventDefault(),ut.classList.remove("border-[#9C6BFF]","bg-[#9C6BFF]/10"),io(e.dataTransfer.files)}),St==null||St.addEventListener("click",Na),Lt==null||Lt.addEventListener("input",()=>{Zs()}),nr==null||nr.addEventListener("click",Ma),er.forEach(e=>{e.addEventListener("click",()=>{let t=e.dataset.importTab;ps=t,er.forEach(s=>{s.dataset.importTab===t?(s.classList.add("bg-[#9C6BFF]","text-white"),s.classList.remove("border","border-slate-200","text-slate-700")):(s.classList.remove("bg-[#9C6BFF]","text-white"),s.classList.add("border","border-slate-200","text-slate-700"))}),Hr.forEach(s=>{s.dataset.importPanel===t?s.classList.remove("hidden"):s.classList.add("hidden")}),Zs()})}),sr==null||sr.addEventListener("click",async()=>{if(!Rr)return;let e=Rr.textContent||"";try{await navigator.clipboard.writeText(e),M("Template copi\xE9 !")}catch(t){console.error("[import] copy failed",t),M("Erreur copie")}}),tr==null||tr.addEventListener("click",async()=>{if(!Ur)return;let e=Ur.textContent||"";try{await navigator.clipboard.writeText(e),M("Prompt copi\xE9 !")}catch(t){console.error("[import] copy prompt failed",t),M("Erreur copie")}}),rr==null||rr.addEventListener("click",An),Kt==null||Kt.addEventListener("click",va),qt==null||qt.addEventListener("click",e=>{e.target===qt&&An()}),he==null||he.addEventListener("click",e=>{if(e.stopPropagation(),!As){let t=ts(),s=((t==null?void 0:t.type)||"").toLowerCase();s==="groupe"||s==="group"?Xt=t.id:Xt=null}La()}),document.addEventListener("click",e=>{As&&(Le!=null&&Le.contains(e.target)||he!=null&&he.contains(e.target)||Ws())}),Ze.forEach(e=>{e.addEventListener("click",t=>{t.stopPropagation();let s=e.dataset.blockAdd;ka(s)})}),at==null||at.addEventListener("click",()=>{Tn()}),He==null||He.addEventListener("click",()=>{Bn&&eo(Bn),Tn()}),Ee==null||Ee.addEventListener("click",e=>{e.target===Ee&&Tn()}),k==null||k.addEventListener("input",e=>{var r,o,i,c;let t=e.target;if(!t||!t.name)return;if(t.name.startsWith("collection-item-")){gr();return}if(t.name==="group-columns-mobile"||t.name==="group-columns-desktop"){let p=((r=k.querySelector('[name="group-columns-mobile"]'))==null?void 0:r.value)||"1",L=((o=k.querySelector('[name="group-columns-desktop"]'))==null?void 0:o.value)||"3";hn(p,L)}if(t.name==="collection-columns-mobile"||t.name==="collection-columns-desktop"){let p=((i=k.querySelector('[name="collection-columns-mobile"]'))==null?void 0:i.value)||"1",L=((c=k.querySelector('[name="collection-columns-desktop"]'))==null?void 0:c.value)||"3";us(p,L)}let s=t.closest("[data-block-panel]");if(s&&s.dataset.blockPanel==="appearance"){let p=ts(),L=u(p);if(p&&L){let K=B(L);Ne(p.id,K)}}}),k==null||k.addEventListener("change",e=>{var r,o;let t=e.target;if(!t||!t.name)return;if(t.name.startsWith("collection-item-")){gr();return}if(t.hasAttribute("data-color-select")){let i=t.options[t.selectedIndex],c=((r=i==null?void 0:i.dataset)==null?void 0:r.color)||"#ffffff",p=(o=t.closest(".relative"))==null?void 0:o.querySelector("[data-color-preview]");p&&(c==="transparent"?p.style.background=is:p.style.background=c)}let s=t.closest("[data-block-panel]");if(s&&s.dataset.blockPanel==="appearance"){let i=ts(),c=u(i);if(i&&c){let p=B(c);Ne(i.id,p)}}}),We==null||We.addEventListener("change",e=>{let t=e.target;fr((t==null?void 0:t.value)||"");let s=pr();s&&(s.collectionId=(t==null?void 0:t.value)||"",s.settings={...s.settings||{},collectionId:s.collectionId},oo(s))}),Ae==null||Ae.addEventListener("change",()=>{let e=pr();if(!e)return;let t=jn();ro(e,t)}),Ds==null||Ds.addEventListener("click",e=>{e.preventDefault(),gr({reset:!0})}),k==null||k.addEventListener("submit",Re),Hs==null||Hs.addEventListener("click",e=>{e.preventDefault();let t=ts();t&&w(t)}),z.length>0&&(z.forEach(e=>{e.addEventListener("click",()=>{let t=e.dataset.previewView||"desktop";Wr(t)})}),Wr("desktop")),h==null||h.addEventListener("load",()=>{var r;mr=!0,G("\xC0 jour"),Js(tt);let e=h==null?void 0:h.contentDocument;if(!e||!m||e.documentElement.dataset.rawditPreviewSelectBound==="true")return;if(e.documentElement.dataset.rawditPreviewSelectBound="true",!e.getElementById("rawdit-preview-select-style")){let o=e.createElement("style");o.id="rawdit-preview-select-style",o.textContent=`
	          [data-preview-block]{ cursor:pointer; }
	          [data-preview-block]:hover{ outline:2px solid var(--color-accent, #9C6BFF); outline-offset:2px; }
	        `,(r=e.head)==null||r.appendChild(o)}let t=o=>{let i=((o==null?void 0:o.type)||"").toLowerCase();return i==="groupe"||i==="group"||i==="sections"||i==="grid"},s=o=>{if(!m||!o||(m.blocks||[]).some(i=>i.id===o))return null;for(let i of m.blocks||[])if(!(!t(i)||!Array.isArray(i.children))&&i.children.some(c=>c.id===o))return i.id;return null};e.addEventListener("click",o=>{var K,j,D;let i=o.target,c=(K=i==null?void 0:i.closest)==null?void 0:K.call(i,"[data-preview-block]"),p=((j=c==null?void 0:c.getAttribute)==null?void 0:j.call(c,"data-preview-block"))||"";if(!p)return;o.preventDefault(),o.stopPropagation(),(D=o.stopImmediatePropagation)==null||D.call(o);let L=s(p);Rt(p,L)},!0)}),te==null||te.addEventListener("click",()=>{let e=window.open("","_blank");if(!e)return;e.opener=null;let t=e.document;t.open(),t.write(ur||fe()),t.close()});let lo=e=>{var t,s,r;$&&(e?($.classList.remove("hidden"),m&&(O&&(O.value=((t=m.seo)==null?void 0:t.title)||""),g&&(g.value=((s=m.seo)==null?void 0:s.description)||""),v&&(v.checked=((r=m.seo)==null?void 0:r.indexed)!==!1))):$.classList.add("hidden"))},Fn=(e,t="muted")=>{if(!y)return;let s=t==="success"?"text-emerald-600":t==="error"?"text-rose-600":"text-slate-500";y.textContent=e||"",y.className=`text-sm ${s}`};T==null||T.addEventListener("click",()=>{let e=$&&!$.classList.contains("hidden");lo(!e)}),F==null||F.addEventListener("click",()=>lo(!1)),P==null||P.addEventListener("submit",async e=>{var t;if(e.preventDefault(),!m){Fn("Aucune page active.","error");return}q&&(q.disabled=!0),Fn("");try{let s={title:((O==null?void 0:O.value)||"").trim(),description:((g==null?void 0:g.value)||"").trim(),indexed:(t=v==null?void 0:v.checked)!=null?t:!0},r={...m,seo:s},o=await Wt(r);o&&(m=o,Fn("SEO enregistr\xE9.","success"),M("SEO mis \xE0 jour"),De(m))}catch(s){console.error("[seo] save failed",s),Fn(s.message||"Erreur lors de la sauvegarde.","error")}finally{q&&(q.disabled=!1)}});let vr=()=>{var e,t;if(!(!ae&&!Ce)){if(!m){ae&&(ae.checked=!0),Ce&&(Ce.value="");return}ae&&(ae.checked=((e=m.accessibility)==null?void 0:e.showInMainNav)!==!1),Ce&&(Ce.value=((t=m.accessibility)==null?void 0:t.mainLabel)||"")}},co=e=>{H&&(e?(vr(),H.classList.remove("hidden")):H.classList.add("hidden"))},Nn=(e,t="muted")=>{if(!$e)return;let s=t==="success"?"text-emerald-600":t==="error"?"text-rose-600":"text-slate-500";$e.textContent=e||"",$e.className=`text-sm ${s}`};I==null||I.addEventListener("click",()=>{let e=H&&!H.classList.contains("hidden");co(!e)}),W==null||W.addEventListener("click",()=>co(!1)),de==null||de.addEventListener("submit",async e=>{var t;if(e.preventDefault(),!m){Nn("Aucune page active.","error");return}Qe&&(Qe.disabled=!0),Nn("");try{let s={showInMainNav:(t=ae==null?void 0:ae.checked)!=null?t:!0,mainLabel:((Ce==null?void 0:Ce.value)||"").trim()},r={...m,accessibility:s},o=await Wt(r);o&&(m=o,vr(),Nn("Accessibilit\xE9 enregistr\xE9e.","success"),M("Accessibilit\xE9 mise \xE0 jour"),es(ue,Oe),De(m))}catch(s){console.error("[accessibility] save failed",s),Nn(s.message||"Erreur lors de la sauvegarde.","error")}finally{Qe&&(Qe.disabled=!1)}});let Da=e=>{let t=typeof e=="string"?e.trim():"";if(!t||t==="/")return"";let r=t.replace(/\\/g,"/").replace(/^\/+|\/+$/g,"");if(!r)return"";let o=r.split("/").filter(Boolean);return o[o.length-1]||""},uo=(e,t)=>{let s=Vt((t||"").trim());if(!s)return"";let r=Ln(e||"/");return!r||r==="/"?`/${s}`:Ln(`${r}/${s}`)},Ha=(e,t)=>{let s=new Map;(e||[]).forEach(i=>{let c=i!=null&&i.parentId&&typeof i.parentId=="string"&&i.parentId.trim()?i.parentId.trim():null;s.has(c)||s.set(c,[]),s.get(c).push(i.id)});let r=new Set,o=[t];for(;o.length>0;){let i=o.pop();(s.get(i)||[]).forEach(p=>{!p||r.has(p)||(r.add(p),o.push(p))})}return r},Ra=({pagesList:e,current:t})=>{if(!J)return;let s=(t==null?void 0:t.id)||"",r=s?Ha(e,s):new Set;J.innerHTML='<option value="">Aucune (niveau racine)</option>',(e||[]).filter(i=>(i==null?void 0:i.id)&&i.id!==s&&!r.has(i.id)).slice().sort((i,c)=>(i.slug||"").localeCompare(c.slug||"")).forEach(i=>{let c=document.createElement("option");c.value=i.id,c.textContent=`${i.name||i.title||i.id} \u2014 ${i.slug||"/"}`,J.appendChild(c)})},xr=()=>{var p;if(!m)return;if((m.slug||"/")==="/"){J&&(J.value=""),V&&(V.value=""),b&&(b.value="/"),J&&(J.disabled=!0),V&&(V.disabled=!0);return}J&&(J.disabled=!1),V&&(V.disabled=!1);let s=new Map((ue||[]).map(L=>[L.id,L])),r=((J==null?void 0:J.value)||"").trim(),o=r&&((p=s.get(r))==null?void 0:p.slug)||"/",i=((V==null?void 0:V.value)||"").trim(),c=uo(o,i);b&&(b.value=c||"")},mo=e=>{ne&&(e?(ne.classList.remove("hidden"),m&&(N&&(N.value=m.name||""),C&&(C.value=m.title||""),Ra({pagesList:ue,current:m}),J&&(J.value=m.parentId||""),V&&(V.value=Da(m.slug||"")),xr(),Z&&(Z.value=m.description||""))):ne.classList.add("hidden"))},_t=(e,t="muted")=>{if(!oe)return;let s=t==="success"?"text-emerald-600":t==="error"?"text-rose-600":"text-slate-500";oe.textContent=e||"",oe.className=`text-sm ${s}`};qe==null||qe.addEventListener("click",()=>{let e=ne&&!ne.classList.contains("hidden");mo(!e)}),Be==null||Be.addEventListener("click",()=>mo(!1)),J==null||J.addEventListener("change",()=>{xr()}),V==null||V.addEventListener("input",()=>{xr()}),Pe==null||Pe.addEventListener("submit",async e=>{var t;if(e.preventDefault(),!m){_t("Aucune page active.","error");return}se&&(se.disabled=!0),_t("");try{let s=((N==null?void 0:N.value)||"").trim(),r=((C==null?void 0:C.value)||"").trim(),o=((Z==null?void 0:Z.value)||"").trim(),i=((J==null?void 0:J.value)||"").trim(),c=i||null,p=((V==null?void 0:V.value)||"").trim(),L=m.slug||"/",K=L==="/"?"/":((b==null?void 0:b.value)||"").trim()||uo(c&&((t=ue.find(re=>re.id===c))==null?void 0:t.slug)||"/",p);if(!r){_t("Le titre est requis.","error"),se&&(se.disabled=!1);return}if(L!=="/"&&!Vt(p)){_t("Le segment est requis.","error"),se&&(se.disabled=!1);return}if(!K||!K.startsWith("/")){_t("URL invalide.","error"),se&&(se.disabled=!1);return}if(L==="/"&&c){_t("La page d\u2019accueil ne peut pas avoir de parent.","error"),se&&(se.disabled=!1);return}if(ue.some(re=>re.slug===K&&re.id!==m.id)){_t("Cette URL est d\xE9j\xE0 utilis\xE9e par une autre page.","error"),se&&(se.disabled=!1);return}let j={...m,name:s||r,title:r,parentId:c,slug:K,description:o},D=await Wt(j);D&&(m=D,ue=ue.map(re=>re.id===D.id?D:re),_t("Propri\xE9t\xE9s enregistr\xE9es.","success"),M("Page mise \xE0 jour"),Vr(m),es(ue,Oe),De(m))}catch(s){console.error("[page-props] save failed",s),_t(s.message||"Erreur lors de la sauvegarde.","error")}finally{se&&(se.disabled=!1)}});let Ua=e=>{let t=e.target.closest("[data-block-item]");if(!t||!In()){e.preventDefault();return}if(zt=t.dataset.blockId||null,Ks=t.dataset.parentBlockId||null,!zt){e.preventDefault();return}e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/plain",zt),e.dataTransfer.setData("application/x-rawdit-parent",Ks||""),requestAnimationFrame(()=>{t.classList.add("opacity-50","scale-[0.98]","shadow-lg","ring-2","ring-[#9C6BFF]")})},fo=()=>{R==null||R.querySelectorAll("[data-block-item]").forEach(e=>{e.classList.remove("opacity-50","scale-[0.98]","shadow-lg","ring-2","ring-[#9C6BFF]","border-t-4","border-b-4","border-t-[#9C6BFF]","border-b-[#9C6BFF]","pt-6","pb-6")})},za=()=>{zt=null,Ks=null,fo()},Oa=e=>{if(!zt||!In())return;let t=e.target.closest("[data-block-item]");if(!t||t.dataset.blockId===zt)return;e.preventDefault(),e.dataTransfer.dropEffect="move";let s=t.getBoundingClientRect(),r=s.top+s.height/2,o=e.clientY<r;R==null||R.querySelectorAll("[data-block-item]").forEach(i=>{i!==t&&i.dataset.blockId!==zt&&i.classList.remove("border-t-4","border-b-4","border-t-[#9C6BFF]","border-b-[#9C6BFF]","pt-6","pb-6")}),t.classList.remove("border-t-4","border-b-4","border-t-[#9C6BFF]","border-b-[#9C6BFF]","pt-6","pb-6"),o?t.classList.add("border-t-4","border-t-[#9C6BFF]","pt-6"):t.classList.add("border-b-4","border-b-[#9C6BFF]","pb-6"),t.dataset.dropPosition=o?"before":"after"},Va=e=>{let t=e.target.closest("[data-block-item]");if(!t)return;let s=e.relatedTarget;s&&t.contains(s)||(t.classList.remove("border-t-4","border-b-4","border-t-[#9C6BFF]","border-b-[#9C6BFF]","pt-6","pb-6"),delete t.dataset.dropPosition)},Ja=e=>{if(!zt||!In())return;e.preventDefault();let t=e.target.closest("[data-block-item]"),s=zt,r=Ks,o=(t==null?void 0:t.dataset.dropPosition)||"after";zt=null,Ks=null,fo();let i=(t==null?void 0:t.dataset.blockId)||null;if(!m||!s)return;if(!i){r&&ir(r,s,m.blocks.length);return}if(s===i)return;let c=(t==null?void 0:t.dataset.parentBlockId)||null;if(r){if(c){if(c===r){ha(r,s,i,o);return}_r(s,c,i,o);return}let p=m.blocks.findIndex(K=>K.id===i);if(p===-1){ir(r,s,m.blocks.length);return}let L=Kr(p,o,1);ir(r,s,L!=null?L:m.blocks.length);return}if(c){_r(s,c,i,o);return}wa(s,i,o)},zt=null,Ks=null;R==null||R.addEventListener("dragstart",Ua),R==null||R.addEventListener("dragend",za),R==null||R.addEventListener("dragover",Oa),R==null||R.addEventListener("dragleave",Va),R==null||R.addEventListener("drop",Ja),yn(),document.addEventListener("ai-page-updated",async e=>{var t;console.log("[design] Rafra\xEEchissement d\xE9clench\xE9 par IA",e.detail);try{let s=await zs();if(ue=(Array.isArray(s)?s:[]).map(r=>ns(r)),(t=e.detail)!=null&&t.pageId){let r=ue.find(o=>o.id===e.detail.pageId);r&&(m=r,Oe=r.id,De(m),It(m),M("Page mise \xE0 jour par l'IA"))}else if(Oe){let r=ue.find(o=>o.id===Oe);r&&(m=r,De(m),It(m))}}catch(s){console.error("[design] Erreur rafra\xEEchissement IA:",s)}})}function Ho(){var bn,Wt,yn;let n=document.querySelector("[data-collection-list]");if(!n)return;let a={empty:document.querySelector('[data-content-view="empty"]'),header:document.querySelector('[data-content-view="header"]'),collection:document.querySelector('[data-content-view="collection"]'),footer:document.querySelector('[data-content-view="footer"]')},d=document.querySelectorAll("[data-content-section]"),f=document.querySelectorAll("[data-content-section-trigger]"),h=document.querySelector("[data-header-status]"),S=document.querySelector("[data-footer-status]"),Q=document.querySelector("[data-collection-count]"),z=document.querySelector("[data-item-panel]"),X=document.querySelectorAll("[data-item-panel-close]"),te=document.querySelector("[data-collection-empty]"),Y=document.querySelector("[data-collection-items-empty]"),E=document.querySelector("[data-item-table-wrapper]"),T=document.querySelector("[data-item-table-body]"),$=document.querySelector("[data-collection-title]"),F=document.querySelector("[data-collection-description]"),P=document.querySelector("[data-item-add]"),O=document.querySelector("[data-item-detail-empty]"),g=document.querySelector("[data-item-form]"),v=g?{title:g.querySelector('[name="item-title"]'),slug:g.querySelector('[name="item-slug"]'),excerpt:g.querySelector('[name="item-excerpt"]'),content:g.querySelector('[name="item-content"]'),image:g.querySelector('[name="item-image"]'),ctaText:g.querySelector('[name="item-cta-text"]'),ctaUrl:g.querySelector('[name="item-cta-url"]'),status:g.querySelector('[name="item-status"]')}:{},y=document.querySelector("[data-item-status-badge]"),q=document.querySelector("[data-item-delete]"),I=document.querySelector("[data-item-delete-modal]"),H=document.querySelector("[data-item-delete-cancel]"),W=document.querySelector("[data-item-delete-confirm]"),de=document.querySelector("[data-item-cancel]"),ae=document.querySelector("[data-item-save]"),Ce="rounded-full px-3 py-1 text-xs font-semibold",$e=()=>window.matchMedia("(min-width: 1024px)").matches,Qe=l=>{if(!z||$e())return;let u=z.dataset.itemPanelHidden||"",w=z.dataset.itemPanelVisible||"";l?(Ot(z,w,"remove"),Ot(z,u,"add"),z.classList.add("pointer-events-none"),z.dataset.itemPanelOpen="false"):(Ot(z,u,"remove"),Ot(z,w,"add"),z.classList.remove("pointer-events-none"),z.dataset.itemPanelOpen="true")},qe=()=>{if(z){if($e()){let l=z.dataset.itemPanelHidden||"";Ot(z,l,"remove"),z.classList.remove("pointer-events-none"),z.dataset.itemPanelOpen="true";return}g!=null&&g.classList.contains("hidden")?Qe(!0):Qe(!1)}};window.addEventListener("resize",qe),X.forEach(l=>{l.addEventListener("click",u=>{u.preventDefault(),!$e()&&Nt()})}),qe();let ne={logo:document.querySelector('[name="header-logo"]'),logoAlt:document.querySelector('[name="header-logo-alt"]'),logoUrl:document.querySelector('[name="header-logo-url"]'),ctaText:document.querySelector('[name="header-cta-text"]'),ctaUrl:document.querySelector('[name="header-cta-url"]'),ctaStyle:document.querySelector('[name="header-cta-style"]'),ctaTextColor:document.querySelector('[name="header-cta-text-color"]'),position:document.querySelector('[name="header-position"]'),bg:document.querySelector('[name="header-bg"]')},Be=document.querySelector("[data-header-nav-order-list]"),Pe=document.querySelector("[data-header-save]"),N=document.querySelector("[data-template-header-nav-item]"),C=document.querySelector("[data-header-pages-list]"),J=[],V=[],b={linkedin:document.querySelector('[name="footer-social-linkedin"]'),twitter:document.querySelector('[name="footer-social-twitter"]'),instagram:document.querySelector('[name="footer-social-instagram"]'),facebook:document.querySelector('[name="footer-social-facebook"]'),youtube:document.querySelector('[name="footer-social-youtube"]'),github:document.querySelector('[name="footer-social-github"]'),copyright:document.querySelector('[name="footer-copyright"]'),legalUrl:document.querySelector('[name="footer-legal-url"]'),privacyUrl:document.querySelector('[name="footer-privacy-url"]'),bg:document.querySelector('[name="footer-bg"]'),columnsCount:document.querySelector('[name="footer-columns-count"]')},Z=document.querySelector("[data-footer-columns-list]"),oe=document.querySelector("[data-footer-column-add]"),se=document.querySelector("[data-footer-save]"),R=document.querySelector("[data-template-footer-column]"),we=document.querySelector("[data-template-footer-link]"),Se=null,he={nav:[],logo:{},cta:{},style:{}},Le={columns:[],socials:{},copyright:"",legal:{},style:{}},Ze=Me((ee==null?void 0:ee.slugValue)||me.slug||""),Ee=Ze,He=Ze?`/api/sites/${encodeURIComponent(Ze)}/layout`:null,at=l=>{Object.entries(a).forEach(([u,w])=>{w&&w.classList.toggle("hidden",u!==l)}),d.forEach(u=>{u.dataset.contentSection===l?u.dataset.active="true":delete u.dataset.active}),Se=l};d.forEach(l=>{l.addEventListener("click",()=>{let u=l.dataset.contentSection;(u==="header"||u==="footer")&&at(u)})}),f.forEach(l=>{l.addEventListener("click",()=>{let u=l.dataset.contentSectionTrigger;u&&at(u)})});let Ke=async()=>{if(!(!Ee||!C))try{let l=await fetch(`/api/sites/${Ee}/pages`,{credentials:"include"});if(!l.ok)throw new Error("Erreur chargement pages");J=await l.json(),U()}catch(l){console.error("[header] load pages error",l),C.innerHTML='<p class="text-xs text-red-500">Erreur chargement pages</p>'}},_e=l=>{let u=(l||"").toString().trim();if(!u||u==="/"||u==="index")return"/";let w=u.toLowerCase();if(u.startsWith("#")||w.startsWith("mailto:")||w.startsWith("tel:")||/^[a-z]+:\/\//i.test(u))return u;if(u.startsWith("//")){let G=u.slice(2);if(G.includes("."))return u;let ge=G.replace(/^\/+/,"").replace(/\/+$/,"");return ge?`/${ge}`:"/"}let B=u.replace(/^\/+/,"").replace(/\/+$/,"");return B?`/${B}`:"/"},x=(l,u="")=>{let w=(l||"").toString().trim();return w?_e(w):u},U=()=>{if(C){if(C.innerHTML="",J.length===0){C.innerHTML='<p class="text-xs text-slate-400 italic">Aucune page disponible</p>';return}J.forEach(l=>{let u=l.slug||l.id||"",w=l.name||l.title||u,B=_e(u),G=V.some(le=>le.url===B),ge=document.createElement("label");ge.className="flex items-center gap-2 px-3 py-2 rounded-lg border border-slate-200 hover:bg-slate-50 cursor-pointer transition-colors",ge.innerHTML=`
          <input type="checkbox" name="nav-page" value="${B}" data-page-title="${w}"
                 class="w-4 h-4 rounded border-slate-300 text-violet-600 focus:ring-violet-500"
                 ${G?"checked":""}>
          <span class="flex-1 text-sm text-slate-700">${w}</span>
          <span class="text-xs text-slate-400">${B}</span>
        `;let fe=ge.querySelector("input");fe.addEventListener("change",()=>{if(fe.checked){let le=V.findIndex(ke=>ke.url===B);le===-1?V.push({label:w,url:B}):V[le]={...V[le],label:w}}else V=V.filter(le=>le.url!==B);ce()}),C.appendChild(ge)}),ce()}},ce=()=>{if(Be){if(Be.innerHTML="",!V||V.length===0){let l=document.createElement("p");l.className="text-xs text-slate-400 italic",l.textContent="Aucun lien de menu s\xE9lectionn\xE9.",Be.appendChild(l);return}V.forEach((l,u)=>{let w=document.createElement("div");w.className="flex items-center gap-2 rounded-xl border border-slate-200 bg-white px-3 py-2",w.dataset.navUrl=l.url;let B=document.createElement("div");B.className="flex-1 min-w-0";let G=document.createElement("p");G.className="text-sm font-medium text-slate-800 truncate",G.textContent=l.label||l.url;let ge=document.createElement("p");ge.className="text-[11px] text-slate-400 truncate",ge.textContent=l.url,B.appendChild(G),B.appendChild(ge);let fe=document.createElement("div");fe.className="flex items-center gap-1";let le=document.createElement("button");le.type="button",le.className="rounded-lg border border-slate-200 px-2 py-1 text-xs font-semibold text-slate-600 hover:bg-slate-50 disabled:opacity-40 disabled:hover:bg-transparent",le.textContent="\u2191",le.setAttribute("aria-label",`Monter ${l.label||l.url}`),le.disabled=u===0,le.addEventListener("click",()=>{if(u<=0)return;let xe=[...V],Ne=xe[u-1];xe[u-1]=xe[u],xe[u]=Ne,V=xe,ce()});let ke=document.createElement("button");ke.type="button",ke.className="rounded-lg border border-slate-200 px-2 py-1 text-xs font-semibold text-slate-600 hover:bg-slate-50 disabled:opacity-40 disabled:hover:bg-transparent",ke.textContent="\u2193",ke.setAttribute("aria-label",`Descendre ${l.label||l.url}`),ke.disabled=u===V.length-1,ke.addEventListener("click",()=>{if(u>=V.length-1)return;let xe=[...V],Ne=xe[u+1];xe[u+1]=xe[u],xe[u]=Ne,V=xe,ce()});let Fe=document.createElement("button");Fe.type="button",Fe.className="rounded-lg border border-slate-200 px-2 py-1 text-xs font-semibold text-rose-700 hover:bg-rose-50",Fe.textContent="\u2715",Fe.setAttribute("aria-label",`Retirer ${l.label||l.url}`),Fe.addEventListener("click",()=>{V=V.filter(Ne=>Ne.url!==l.url);let xe=C==null?void 0:C.querySelector(`input[name="nav-page"][value="${CSS.escape(l.url)}"]`);xe&&(xe.checked=!1),ce()}),fe.appendChild(le),fe.appendChild(ke),fe.appendChild(Fe),w.appendChild(B),w.appendChild(fe),Be.appendChild(w)})}},ie=()=>{var u,w,B,G,ge,fe,le,ke,Fe,xe,Ne,De;let l=(V||[]).map(Re=>({label:(Re.label||Re.url||"").toString().trim(),url:_e(Re.url)})).filter(Re=>Re.url);return{logo:{src:((w=(u=ne.logo)==null?void 0:u.value)==null?void 0:w.trim())||"",alt:((G=(B=ne.logoAlt)==null?void 0:B.value)==null?void 0:G.trim())||"",url:x((ge=ne.logoUrl)==null?void 0:ge.value,"/")},nav:l,cta:{text:((le=(fe=ne.ctaText)==null?void 0:fe.value)==null?void 0:le.trim())||"",url:x((ke=ne.ctaUrl)==null?void 0:ke.value,""),style:((Fe=ne.ctaStyle)==null?void 0:Fe.value)||"primary",textColor:((xe=ne.ctaTextColor)==null?void 0:xe.value)||""},style:{position:((Ne=ne.position)==null?void 0:Ne.value)||"static",bg:((De=ne.bg)==null?void 0:De.value)||"bg-white"}}},k=async l=>{var w,B,G,ge,fe,le,ke,Fe,xe,Ne,De,Re;if(!l)return;ne.logo&&(ne.logo.value=((w=l.logo)==null?void 0:w.src)||""),ne.logoAlt&&(ne.logoAlt.value=((B=l.logo)==null?void 0:B.alt)||""),ne.logoUrl&&(ne.logoUrl.value=x((G=l.logo)==null?void 0:G.url,"/")),ne.ctaText&&(ne.ctaText.value=((ge=l.cta)==null?void 0:ge.text)||""),ne.ctaUrl&&(ne.ctaUrl.value=x((fe=l.cta)==null?void 0:fe.url,"")),ne.ctaStyle&&(ne.ctaStyle.value=((le=l.cta)==null?void 0:le.style)||"primary"),ne.ctaTextColor&&(ne.ctaTextColor.value=((ke=l.cta)==null?void 0:ke.textColor)||""),ne.position&&(ne.position.value=((Fe=l.style)==null?void 0:Fe.position)||"static"),ne.bg&&(ne.bg.value=((xe=l.style)==null?void 0:xe.bg)||"bg-white"),V=(l.nav||[]).map(it=>({...it,url:_e(it.url)})),await Ke();let u=((Ne=l.logo)==null?void 0:Ne.src)||((De=l.nav)==null?void 0:De.length)>0||((Re=l.cta)==null?void 0:Re.text);h&&(h.classList.toggle("bg-green-500",!!u),h.classList.toggle("bg-slate-300",!u),h.title=u?"Configur\xE9":"Non configur\xE9")};Pe==null||Pe.addEventListener("click",async()=>{if(He){Pe.disabled=!0,Pe.textContent="Enregistrement...";try{let l=ie();if(!(await fetch(`${He}/header`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(l)})).ok)throw new Error("Erreur serveur");he=l,k(l),M("Header enregistr\xE9")}catch(l){console.error("[header] save error",l),M("Erreur lors de l'enregistrement","error")}finally{Pe.disabled=!1,Pe.textContent="Enregistrer"}}});let xs=(l,u="",w="")=>{if(!we||!l)return;let B=we.content.cloneNode(!0),G=B.querySelector("[data-footer-link]"),ge=B.querySelector('[name="link-label"]'),fe=B.querySelector('[name="link-url"]'),le=B.querySelector("[data-link-remove]");ge&&(ge.value=u),fe&&(fe.value=w),le==null||le.addEventListener("click",()=>G==null?void 0:G.remove()),l.appendChild(B)},cn=(l="",u=[])=>{if(!R||!Z)return;let w=R.content.cloneNode(!0),B=w.querySelector("[data-footer-column]"),G=w.querySelector('[name="column-title"]'),ge=w.querySelector("[data-column-links]"),fe=w.querySelector("[data-column-link-add]"),le=w.querySelector("[data-column-remove]");G&&(G.value=l),u.forEach(ke=>xs(ge,ke.label,ke.url)),fe==null||fe.addEventListener("click",()=>xs(ge)),le==null||le.addEventListener("click",()=>B==null?void 0:B.remove()),Z.appendChild(w)},Ms=()=>{var u,w,B,G,ge,fe,le,ke,Fe,xe,Ne,De,Re,it,Ye,ms,vn,Dt,gt,xt;let l=[];return Z==null||Z.querySelectorAll("[data-footer-column]").forEach(Qt=>{var et,Gt;let wt=((Gt=(et=Qt.querySelector('[name="column-title"]'))==null?void 0:et.value)==null?void 0:Gt.trim())||"",fs=[];Qt.querySelectorAll("[data-footer-link]").forEach(ks=>{var ut,Cs,Es,Os;let dt=((Cs=(ut=ks.querySelector('[name="link-label"]'))==null?void 0:ut.value)==null?void 0:Cs.trim())||"",xn=((Os=(Es=ks.querySelector('[name="link-url"]'))==null?void 0:Es.value)==null?void 0:Os.trim())||"";(dt||xn)&&fs.push({label:dt,url:xn})}),(wt||fs.length>0)&&l.push({title:wt,links:fs})}),{columns:l,socials:{linkedin:((w=(u=b.linkedin)==null?void 0:u.value)==null?void 0:w.trim())||"",twitter:((G=(B=b.twitter)==null?void 0:B.value)==null?void 0:G.trim())||"",instagram:((fe=(ge=b.instagram)==null?void 0:ge.value)==null?void 0:fe.trim())||"",facebook:((ke=(le=b.facebook)==null?void 0:le.value)==null?void 0:ke.trim())||"",youtube:((xe=(Fe=b.youtube)==null?void 0:Fe.value)==null?void 0:xe.trim())||"",github:((De=(Ne=b.github)==null?void 0:Ne.value)==null?void 0:De.trim())||""},copyright:((it=(Re=b.copyright)==null?void 0:Re.value)==null?void 0:it.trim())||"",legal:{url:((ms=(Ye=b.legalUrl)==null?void 0:Ye.value)==null?void 0:ms.trim())||"",privacyUrl:((Dt=(vn=b.privacyUrl)==null?void 0:vn.value)==null?void 0:Dt.trim())||""},style:{bg:((gt=b.bg)==null?void 0:gt.value)||"bg-slate-900 text-white",columnsCount:((xt=b.columnsCount)==null?void 0:xt.value)||"4"}}},dn=l=>{var w,B,G,ge,fe,le,ke,Fe,xe,Ne,De;if(!l)return;b.linkedin&&(b.linkedin.value=((w=l.socials)==null?void 0:w.linkedin)||""),b.twitter&&(b.twitter.value=((B=l.socials)==null?void 0:B.twitter)||""),b.instagram&&(b.instagram.value=((G=l.socials)==null?void 0:G.instagram)||""),b.facebook&&(b.facebook.value=((ge=l.socials)==null?void 0:ge.facebook)||""),b.youtube&&(b.youtube.value=((fe=l.socials)==null?void 0:fe.youtube)||""),b.github&&(b.github.value=((le=l.socials)==null?void 0:le.github)||""),b.copyright&&(b.copyright.value=l.copyright||""),b.legalUrl&&(b.legalUrl.value=((ke=l.legal)==null?void 0:ke.url)||""),b.privacyUrl&&(b.privacyUrl.value=((Fe=l.legal)==null?void 0:Fe.privacyUrl)||""),b.bg&&(b.bg.value=((xe=l.style)==null?void 0:xe.bg)||"bg-slate-900 text-white"),b.columnsCount&&(b.columnsCount.value=((Ne=l.style)==null?void 0:Ne.columnsCount)||"4"),Z&&(Z.innerHTML=""),(l.columns||[]).forEach(Re=>cn(Re.title,Re.links));let u=((De=l.columns)==null?void 0:De.length)>0||l.copyright||Object.values(l.socials||{}).some(Re=>Re);S&&(S.classList.toggle("bg-green-500",!!u),S.classList.toggle("bg-slate-300",!u),S.title=u?"Configur\xE9":"Non configur\xE9")};oe==null||oe.addEventListener("click",()=>cn()),se==null||se.addEventListener("click",async()=>{if(He){se.disabled=!0,se.textContent="Enregistrement...";try{let l=Ms();if(!(await fetch(`${He}/footer`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(l)})).ok)throw new Error("Erreur serveur");Le=l,dn(l),M("Footer enregistr\xE9")}catch(l){console.error("[footer] save error",l),M("Erreur lors de l'enregistrement","error")}finally{se.disabled=!1,se.textContent="Enregistrer"}}}),(async()=>{if(He)try{let l=await fetch(He,{credentials:"include"});if(l.ok){let u=await l.json();u.header&&(he=u.header,k(u.header)),u.footer&&(Le=u.footer,dn(u.footer))}}catch(l){console.error("[layout] load error",l)}})();let Fs=Me((ee==null?void 0:ee.slugValue)||me.slug||""),vt=Fs?`/api/sites/${encodeURIComponent(Fs)}/collections`:null,Ft=[],Ve=[],Xe=null,Je=null,pt=!1,ls=!1,Jt=null,ws=l=>{let u=(l||"").trim();if(!u)return"";if(u==="/")return"/";let B=u.replace(/^\//,"").split("/").map(G=>Vt(G||"")).filter(G=>G.length>0);return B.length?`/${B.join("/")}`:""},un=l=>{if(!l)return"\u2014";let u=new Date(l);return Number.isNaN(u.getTime())?"\u2014":u.toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric"})},Ss=()=>{let l=Ft.find(u=>u.id===Xe);$&&($.textContent=(l==null?void 0:l.name)||"S\xE9lectionnez une collection"),F&&(F.textContent=(l==null?void 0:l.description)||"")},Ns=l=>{Y&&(Y.textContent=l||(Xe?"Aucun item dans cette collection pour le moment.":"Choisissez une collection dans le panneau de gauche."))},Nt=()=>{g&&(g.classList.add("hidden"),g.dataset.itemId=""),O==null||O.classList.remove("hidden"),y&&(y.className=`hidden ${Ce}`,y.textContent=""),q&&(q.disabled=!0),qe()},Ls=()=>{g&&(g.classList.remove("hidden"),O==null||O.classList.add("hidden"),qe())},cs=()=>{P&&(P.disabled=!Xe,P.disabled?P.classList.add("opacity-60","pointer-events-none"):P.classList.remove("opacity-60","pointer-events-none"))},We=l=>{if(!y)return;if(!l){y.className=`hidden ${Ce}`,y.textContent="";return}let u=l.toLowerCase(),w="bg-slate-100 text-slate-600 border border-slate-200";u==="publi\xE9"||u==="publie"?w="bg-emerald-50 text-emerald-700 border border-emerald-100":u==="brouillon"&&(w="bg-amber-50 text-amber-700 border border-amber-100"),y.className=`${Ce} ${w}`,y.textContent=l},ds=()=>{if(n.innerHTML="",Q&&(Q.textContent=Ft.length),!Ft.length){te==null||te.classList.remove("hidden");return}te==null||te.classList.add("hidden"),Ft.forEach(l=>{let u=l.id===Xe,w=document.createElement("button");w.type="button",w.dataset.collectionId=l.id,w.className=["w-full rounded-xl border px-3 py-2 text-left transition focus:outline-none focus:ring-2 focus:ring-[#9C6BFF]/40",u?"bg-[#F7F0FF] border-[#9C6BFF]/40 text-slate-900":"border-slate-200 text-slate-700 hover:border-[#9C6BFF]/40"].join(" "),w.setAttribute("role","option"),u?w.setAttribute("aria-current","true"):w.removeAttribute("aria-current"),w.innerHTML=`
          <div class="flex items-center justify-between gap-2">
            <div>
              <p class="text-sm font-semibold">${l.name||l.id}</p>
              <p class="text-xs text-slate-500">${l.description||""}</p>
            </div>
            <span class="text-[11px] uppercase tracking-wide text-slate-400">${l.type||""}</span>
          </div>
        `,w.addEventListener("click",()=>{Us(l.id)}),n.appendChild(w)})},Ae=()=>{if(T){if(T.innerHTML="",!Ve.length||!Xe){Y==null||Y.classList.remove("hidden"),Ns(),E==null||E.classList.add("hidden");return}Y==null||Y.classList.add("hidden"),E==null||E.classList.remove("hidden"),Ve.forEach(l=>{let u=document.createElement("tr");u.dataset.itemId=l.id;let w=l.id===Je&&!pt;u.className=["cursor-pointer transition focus-within:bg-[#F7F0FF]/70 focus:outline-none",w?"bg-[#F7F0FF]/70":"hover:bg-slate-50"].join(" "),u.tabIndex=0,u.setAttribute("role","button"),w?u.setAttribute("aria-current","true"):u.removeAttribute("aria-current");let B=l.status||"Brouillon",G=B.toLowerCase(),ge=G==="publi\xE9"||G==="publie"?"bg-emerald-50 text-emerald-700 border border-emerald-100":"bg-amber-50 text-amber-700 border border-amber-100";u.innerHTML=`
          <td class="px-4 py-3 align-top">
            <div class="flex flex-col">
              <span class="text-sm font-semibold text-slate-900">${l.title||"Sans titre"}</span>
              <span class="text-xs text-slate-500">${l.summary||l.excerpt||""}</span>
            </div>
          </td>
          <td class="px-4 py-3 align-top text-sm text-slate-600">${l.slug||""}</td>
          <td class="px-4 py-3 align-top">
            <span class="inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold ${ge}">
              ${B}
            </span>
          </td>
          <td class="px-4 py-3 align-top text-sm text-slate-500">${un(l.updatedAt||l.createdAt)}</td>
        `;let fe=()=>{Ds(l.id)};u.addEventListener("click",fe),u.addEventListener("keydown",le=>{(le.key==="Enter"||le.key===" ")&&(le.preventDefault(),fe())}),T.appendChild(u)})}},Ds=l=>{let u=Ve.find(w=>w.id===l);u&&(Je=u.id,pt=!1,ls=!0,ve(u),Ae())},ve=l=>{var u,w;if(!g||!l){Nt();return}Ls(),g.dataset.itemId=l.id,v.title&&(v.title.value=l.title||""),v.slug&&(v.slug.value=l.slug||""),v.excerpt&&(v.excerpt.value=l.summary||l.excerpt||""),v.content&&(v.content.value=l.content||""),v.image&&(v.image.value=l.image||""),v.ctaText&&(v.ctaText.value=((u=l.cta)==null?void 0:u.text)||l.ctaText||""),v.ctaUrl&&(v.ctaUrl.value=((w=l.cta)==null?void 0:w.url)||l.ctaUrl||""),v.status&&(v.status.value=l.status||"Brouillon"),We(l.status||"Brouillon"),q&&(q.disabled=!1)},Hs=()=>{var l;g&&(pt=!0,Je=null,ls=!1,g.dataset.itemId="",g.reset(),v.status&&(v.status.value="Brouillon"),v.slug&&(v.slug.value=""),We("Brouillon"),Ls(),q&&(q.disabled=!0),(l=v.title)==null||l.focus())},mn=()=>{var Fe,xe,Ne,De,Re,it,Ye,ms;let l=(((Fe=v.title)==null?void 0:Fe.value)||"").trim(),u=(((xe=v.slug)==null?void 0:xe.value)||"").trim(),w=(((Ne=v.excerpt)==null?void 0:Ne.value)||"").trim(),B=(((De=v.content)==null?void 0:De.value)||"").trim(),G=(((Re=v.image)==null?void 0:Re.value)||"").trim(),ge=(((it=v.ctaText)==null?void 0:it.value)||"").trim(),fe=(((Ye=v.ctaUrl)==null?void 0:Ye.value)||"").trim(),le=((ms=v.status)==null?void 0:ms.value)||"Brouillon",ke=ge||fe?{text:ge,url:fe}:null;return{title:l,slug:ws(u||l),summary:w,excerpt:w,content:B,image:G,status:le,...ke&&{cta:ke}}},Rs=l=>{ae&&(ae.disabled=l,ae.textContent=l?"Enregistrement\u2026":"Enregistrer"),q&&!pt&&Je&&(q.disabled=l)},fn=async l=>{if(!vt)return[];let u=await fetch(`${vt}/${encodeURIComponent(l)}/items`,{headers:{Accept:"application/json"}});if(!u.ok){let B=await u.json().catch(()=>({}));throw new Error(B.message||"Impossible de charger les items.")}let w=await u.json().catch(()=>({}));return Array.isArray(w.items)?w.items:[]},Us=async l=>{if(l&&(Xe=l,Je=null,pt=!1,ls=!1,at("collection"),Ss(),cs(),ds(),Nt(),Ve=[],Ae(),Ns("Chargement des items\u2026"),Y==null||Y.classList.remove("hidden"),E==null||E.classList.add("hidden"),!!vt))try{Ve=await fn(l),Ae(),Ve.length||Ns()}catch(u){console.error("[content] items failed",u),M(u.message||"Impossible de charger les items."),Ve=[],Ae()}},pn=async(l,u)=>{if(!vt)throw new Error("Site inconnu.");let w=await fetch(`${vt}/${encodeURIComponent(l)}/items`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)});if(!w.ok){let B=await w.json().catch(()=>({}));throw new Error(B.message||"Impossible de cr\xE9er cet item.")}return w.json()},gn=async(l,u,w)=>{if(!vt)throw new Error("Site inconnu.");let B=await fetch(`${vt}/${encodeURIComponent(l)}/items/${encodeURIComponent(u)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(w)});if(!B.ok){let G=await B.json().catch(()=>({}));throw new Error(G.message||"Impossible de sauvegarder cet item.")}return B.json()},Xn=async(l,u)=>{if(!vt)throw new Error("Site inconnu.");let w=await fetch(`${vt}/${encodeURIComponent(l)}/items/${encodeURIComponent(u)}`,{method:"DELETE"});if(!w.ok){let B=await w.json().catch(()=>({}));throw new Error(B.message||"Impossible de supprimer cet item.")}},hn=async()=>{var l;if(!vt){te==null||te.classList.remove("hidden"),Xe=null,Ve=[],Ae(),Ss(),cs();return}try{let u=await fetch(vt,{headers:{Accept:"application/json"}});if(!u.ok)throw new Error("Impossible de charger les collections.");let w=await u.json().catch(()=>[]);if(Ft=Array.isArray(w)?w:[],ds(),Ft.length>0){let B=((l=Ft.find(G=>G.id===Xe))==null?void 0:l.id)||Ft[0].id;Us(B)}else Xe=null,Ve=[],Ss(),cs(),Ae()}catch(u){console.error("[content] load collections",u),M(u.message||"Impossible de charger les collections.")}};P==null||P.addEventListener("click",()=>{if(!Xe){M("S\xE9lectionnez d\u2019abord une collection.");return}Hs(),Ae()}),de==null||de.addEventListener("click",l=>{if(l.preventDefault(),pt){pt=!1,Je=null,Nt(),Ae();return}if(Je){let u=Ve.find(w=>w.id===Je);ve(u)}else Nt()}),(bn=v.status)==null||bn.addEventListener("change",()=>{We(v.status.value)}),(Wt=v.title)==null||Wt.addEventListener("input",()=>{!pt||!v.slug||ls||(v.slug.value=ws(v.title.value))}),(yn=v.slug)==null||yn.addEventListener("input",()=>{pt&&(ls=!0)}),g==null||g.addEventListener("submit",async l=>{var w;if(l.preventDefault(),!Xe){M("S\xE9lectionnez une collection.");return}let u=mn();if(!u.title){M("Le titre est requis."),(w=v.title)==null||w.focus();return}Rs(!0);try{let B;pt||!Je?(B=await pn(Xe,u),Ve=[...Ve,B],M("Item cr\xE9\xE9")):(B=await gn(Xe,Je,u),Ve=Ve.map(G=>G.id===B.id?B:G),M("Item mis \xE0 jour")),pt=!1,Je=B.id,ve(B),Ae()}catch(B){console.error("[content] save item failed",B),M(B.message||"Impossible de sauvegarder cet item.")}finally{Rs(!1)}});let us=()=>{I&&(I.classList.add("hidden"),I.classList.remove("flex"),Jt=null)},zs=()=>{!I||!Je||(Jt=Je,I.classList.remove("hidden"),I.classList.add("flex"))};q==null||q.addEventListener("click",l=>{l.preventDefault(),Je&&zs()}),H==null||H.addEventListener("click",()=>{us()}),I==null||I.addEventListener("click",l=>{l.target===I&&us()}),W==null||W.addEventListener("click",async()=>{if(!Jt||!Xe){us();return}W.disabled=!0,W.textContent="Suppression\u2026";try{await Xn(Xe,Jt),Ve=Ve.filter(l=>l.id!==Jt),Je===Jt&&(Je=null,Nt()),M("Item supprim\xE9"),Ae()}catch(l){console.error("[content] delete item failed",l),M(l.message||"Impossible de supprimer cet item.")}finally{W.disabled=!1,W.textContent="Supprimer",us()}}),Ss(),cs(),hn()}function Ro(){let n=document.querySelector("[data-deploy-form]");if(!n)return;let a=document.querySelector("[data-deploy-protocol]"),d=document.querySelector("[data-deploy-host]"),f=document.querySelector("[data-deploy-port]"),h=document.querySelector("[data-deploy-user]"),S=document.querySelector("[data-deploy-password]"),Q=document.querySelector("[data-deploy-show-password]"),z=document.querySelector("[data-deploy-remote-path]"),X=document.querySelector("[data-deploy-feedback]"),te=document.querySelector("[data-deploy-save]"),Y=document.querySelector("[data-deploy-test]"),E=document.querySelector("[data-deploy-trigger]"),T=document.querySelector("[data-deploy-history]"),$=document.querySelector("[data-deploy-log]"),F=Me((ee==null?void 0:ee.slugValue)||me.slug||""),P=F?`/api/sites/${encodeURIComponent(F)}/deploy-config`:null,O=F?`/api/sites/${encodeURIComponent(F)}/deploy`:null,g=F?`/api/sites/${encodeURIComponent(F)}/deploy-log`:null,v=!1,y=null,q=N=>{let C=(N||"").trim();return C?C.startsWith("/")?C:`/${C}`:"/www"},I=(N,C="muted")=>{if(!X)return;let J="inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold",V=C==="success"?"bg-emerald-50 text-emerald-700 border border-emerald-100":C==="error"?"bg-rose-50 text-rose-700 border border-rose-100":"bg-slate-50 text-slate-600 border border-slate-100";if(!N){X.textContent="",X.className="text-sm text-slate-500";return}let b=C==="success"?"\u2705":C==="error"?"\u274C":"\u2139\uFE0F";X.innerHTML=`<span class="${J} ${V}">${b}<span>${N}</span></span>`,X.className="text-sm"},H=(N=null)=>{y=N;let C=!!N,J='<svg class="h-4 w-4 animate-spin text-white" viewBox="0 0 24 24" fill="none" aria-hidden="true"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"></path></svg>';te&&(te.disabled=C,te.innerHTML=N==="save"?`<span class="inline-flex items-center gap-2">${J}<span>Enregistrement\u2026</span></span>`:"Enregistrer"),Y&&(Y.disabled=C,Y.innerHTML=N==="test"?'<span class="inline-flex items-center gap-2"><span class="h-4 w-4 animate-spin rounded-full border-2 border-slate-200 border-t-slate-600"></span><span>Test en cours\u2026</span></span>':"Tester la connexion"),E&&(E.disabled=C&&N!==null,E.innerHTML=N==="deploy"?'<span class="inline-flex items-center gap-2"><span class="h-4 w-4 animate-spin rounded-full border-2 border-white/60 border-t-white"></span><span>D\xE9ploiement\u2026</span></span>':"D\xE9ployer maintenant")},W=N=>{a&&(a.value=N.protocol||"sftp"),d&&(d.value=N.host||""),f&&(f.value=N.port||""),h&&(h.value=N.user||""),z&&(z.value=N.remotePath||"/www"),v=!!N.hasPassword,S&&(S.value="",S.placeholder=v?"Non affich\xE9":"Mot de passe")},de=(N=[])=>{if(T){if(T.innerHTML="",!N.length){let C=document.createElement("li");C.className="text-slate-500",C.textContent="Aucun d\xE9ploiement pour le moment.",T.appendChild(C);return}N.forEach(C=>{let J=document.createElement("li");J.className="flex items-center justify-between gap-2 rounded-xl border border-slate-200 px-3 py-2";let V=C.status==="success"?'<span class="rounded-full bg-emerald-50 px-2 py-0.5 text-[11px] font-semibold text-emerald-700">Succ\xE8s</span>':'<span class="rounded-full bg-rose-50 px-2 py-0.5 text-[11px] font-semibold text-rose-700">\xC9chec</span>',b=C.finishedAt||C.startedAt||"",Z=C.durationMs&&Number(C.durationMs)>=0?`${Math.round(Number(C.durationMs)/1e3)}s`:"";J.innerHTML=`
          <div class="space-y-1">
            <div class="flex items-center gap-2">${V}<span class="text-xs text-slate-500">${b}</span></div>
            <p class="text-sm text-slate-800">${C.message||""}</p>
          </div>
          <div class="text-xs text-slate-500">${Z}</div>
        `,J.dataset.deployId=C.id||"",J.addEventListener("click",()=>{C.logs&&$&&($.textContent=C.logs.join(`
`))}),T.appendChild(J)})}},ae=(N=[])=>{$&&($.textContent=N.length?N.join(`
`):"Aucun log pour le moment.")},Ce=async()=>{var N;if(g)try{let C=await fetch(g,{headers:{Accept:"application/json"}});if(!C.ok){if(C.status===404){de([]),ae(["API d\xE9ploiement indisponible (red\xE9marre le serveur)."]);return}throw new Error("Impossible de charger l\u2019historique.")}let J=await C.json().catch(()=>({})),V=Array.isArray(J.entries)?J.entries:[];de(V),(N=V[0])!=null&&N.logs&&ae(V[0].logs)}catch(C){console.error("[deploy] history failed",C)}},$e=async()=>{if(!P){I("Aucun site actif s\xE9lectionn\xE9.","error");return}H("load");try{let N=await fetch(P,{headers:{Accept:"application/json"}}),C=await N.json().catch(()=>({}));N.ok?(W(C||{}),I("Configuration charg\xE9e.","muted")):(W(C||{}),I(C.message||"Configuration par d\xE9faut charg\xE9e.","muted"))}catch(N){console.error("[deploy] load failed",N),I(N.message||"Erreur lors du chargement.","error")}finally{H(null)}},Qe=()=>{let N={protocol:(a==null?void 0:a.value)||"sftp",host:(d==null?void 0:d.value.trim())||"",port:Number(f==null?void 0:f.value)||void 0,user:(h==null?void 0:h.value.trim())||"",remotePath:q((z==null?void 0:z.value)||"/www")},C=(S==null?void 0:S.value)||"";return C.trim().length>0&&(N.password=C),N};n.addEventListener("submit",async N=>{if(N.preventDefault(),!P){I("Aucun site actif s\xE9lectionn\xE9.","error");return}let C=Qe();H("save");try{let J=await fetch(P,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(C)});if(!J.ok){let b=await J.json().catch(()=>({}));throw new Error(b.message||"Sauvegarde impossible.")}let V=await J.json();W(V||{}),I("Configuration enregistr\xE9e.","success"),M("Configuration d\xE9ploiement sauvegard\xE9e")}catch(J){console.error("[deploy] save failed",J),I(J.message||"Erreur lors de la sauvegarde.","error")}finally{H(null)}}),Y==null||Y.addEventListener("click",async()=>{if(!P){I("Aucun site actif s\xE9lectionn\xE9.","error");return}let N=Qe();if(!N.host||!N.user||!N.remotePath){I("Remplissez les champs requis avant de tester.","error");return}H("test");try{let C=await fetch(`${P}/test`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(N)}),J=await C.json().catch(()=>({}));if(!C.ok||J.success===!1){I(J.message||"Test de connexion \xE9chou\xE9.","error");return}I(J.message||"Connexion OK.","success"),M("Test de connexion r\xE9ussi")}catch(C){console.error("[deploy] test failed",C),I(C.message||"Test de connexion \xE9chou\xE9.","error")}finally{H(null)}}),E==null||E.addEventListener("click",async()=>{if(!O){I("Aucun site actif s\xE9lectionn\xE9.","error");return}H("deploy"),ae(["D\xE9ploiement en cours\u2026"]);try{let N=await fetch(O,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Qe())}),C=await N.json().catch(()=>({}));if(!N.ok){if(N.status===404){I("API d\xE9ploiement indisponible (red\xE9marre le serveur).","error"),ae(["API d\xE9ploiement indisponible (red\xE9marre le serveur)."]);return}throw ae(C.logs||[]),new Error(C.message||"D\xE9ploiement \xE9chou\xE9.")}ae(C.logs||[]),await Ce(),M("D\xE9ploiement termin\xE9")}catch(N){console.error("[deploy] run failed",N),I(N.message||"D\xE9ploiement \xE9chou\xE9.","error")}finally{H(null)}}),Q==null||Q.addEventListener("change",()=>{S&&(S.type=Q.checked?"text":"password")});let qe=document.querySelector("[data-download-build]"),ne=document.querySelector("[data-download-feedback]"),Be=F?`/api/sites/${encodeURIComponent(F)}/download`:null,Pe=(N,C="muted")=>{if(!ne)return;let J=C==="success"?"text-emerald-600":C==="error"?"text-rose-600":"text-slate-500";ne.textContent=N||"",ne.className=`text-sm ${J}`};qe==null||qe.addEventListener("click",async()=>{if(!Be){Pe("Aucun site actif s\xE9lectionn\xE9.","error");return}qe.disabled=!0;let N=qe.innerHTML;qe.innerHTML=`
        <svg class="w-4 h-4 animate-spin" fill="none" viewBox="0 0 24 24">
          <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
          <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"></path>
        </svg>
        <span>Build en cours...</span>
      `,Pe("G\xE9n\xE9ration du build en cours...","muted");try{let C=await fetch(Be);if(!C.ok){let Z=await C.json().catch(()=>({}));throw new Error(Z.message||"Impossible de g\xE9n\xE9rer le ZIP.")}let J=await C.blob(),V=window.URL.createObjectURL(J),b=document.createElement("a");b.href=V,b.download=`${F}-build.zip`,document.body.appendChild(b),b.click(),document.body.removeChild(b),window.URL.revokeObjectURL(V),Pe("T\xE9l\xE9chargement termin\xE9 !","success"),M("Build t\xE9l\xE9charg\xE9 avec succ\xE8s")}catch(C){console.error("[download] failed",C),Pe(C.message||"Erreur lors du t\xE9l\xE9chargement.","error")}finally{qe.disabled=!1,qe.innerHTML=N}}),$e(),Ce()}function Uo(){let n=document.querySelectorAll("[data-settings-tab]"),a=document.querySelectorAll("[data-settings-panel]"),d=document.querySelector("[data-admin-password-form]"),f=document.querySelector("[data-site-config-form]"),h=document.querySelector("[data-site-config-feedback]"),S=document.querySelector("[data-theme-form]"),Q=E=>{n.forEach(T=>{let $=T.dataset.settingsTab===E;T.setAttribute("aria-selected",$?"true":"false"),T.classList.toggle("bg-[#9C6BFF]",$),T.classList.toggle("text-white",$)}),a.forEach(T=>{T.classList.toggle("hidden",T.dataset.settingsPanel!==E)})};if(n.forEach(E=>{E.addEventListener("click",()=>Q(E.dataset.settingsTab||"account"))}),Q("account"),d){let E=d.querySelector("[data-admin-password-feedback]"),T=d.querySelector("[data-admin-password-submit]"),$=(F,P="muted")=>{if(!E)return;let O=P==="success"?"text-emerald-600":P==="error"?"text-rose-600":"text-slate-500";E.textContent=F||"",E.className=`text-sm ${O}`};d.addEventListener("submit",async F=>{F.preventDefault();let P=new FormData(d),O=P.get("currentPassword")||"",g=P.get("newPassword")||"",v=P.get("confirmPassword")||"";if(!O||!g||!v){$("Compl\xE8te tous les champs.","error");return}T&&(T.disabled=!0),$("");try{let y=await fetch("/api/admin/password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentPassword:O,newPassword:g,confirmPassword:v})}),q=await y.json().catch(()=>({}));if(!y.ok||q.success===!1)throw new Error(q.message||"Impossible de mettre \xE0 jour le mot de passe.");$(q.message||"Mot de passe mis \xE0 jour.","success"),d.reset()}catch(y){console.error("[settings] change password failed",y),$(y.message||"Erreur lors de la mise \xE0 jour.","error")}finally{T&&(T.disabled=!1)}})}if(f){let E=f.querySelector("[data-site-name]"),T=f.querySelector("[data-site-language]"),$=f.querySelector("[data-site-tagline]"),F=f.querySelector("[data-site-save]"),P=(y,q="muted")=>{if(!h)return;let I=q==="success"?"text-emerald-600":q==="error"?"text-rose-600":"text-slate-500";h.textContent=y||"",h.className=`text-sm ${I}`},O=Me((ee==null?void 0:ee.slugValue)||me.slug||""),g=O?`/api/sites/${encodeURIComponent(O)}/config/site`:null,v=async()=>{if(g)try{let y=await fetch(g,{headers:{Accept:"application/json"}});if(!y.ok)return;let q=await y.json().catch(()=>({}));E&&(E.value=q.name||""),T&&(T.value=q.language||"fr"),$&&($.value=q.tagline||"")}catch(y){console.error("[settings] load site config failed",y)}};f.addEventListener("submit",async y=>{if(y.preventDefault(),!g){P("Aucun site actif.","error");return}if(!(E!=null&&E.value.trim())){P("Nom requis.","error");return}F&&(F.disabled=!0),P("");try{let q={name:(E==null?void 0:E.value)||"",language:(T==null?void 0:T.value)||"fr",tagline:($==null?void 0:$.value)||""},I=await fetch(g,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(q)}),H=await I.json().catch(()=>({}));if(!I.ok||H.success===!1)throw new Error(H.message||"Sauvegarde impossible.");P(H.message||"Param\xE8tres enregistr\xE9s.","success")}catch(q){console.error("[settings] save site config failed",q),P(q.message||"Erreur lors de la sauvegarde.","error")}finally{F&&(F.disabled=!1)}}),v()}if(S){let E=Me((ee==null?void 0:ee.slugValue)||me.slug||""),T=E?`/api/sites/${encodeURIComponent(E)}/config/theme`:null,$={primary:S.querySelector("[data-theme-primary]"),secondary:S.querySelector("[data-theme-secondary]"),accent:S.querySelector("[data-theme-accent]"),background:S.querySelector("[data-theme-background]"),text:S.querySelector("[data-theme-text]")},F=S.querySelector("[data-theme-headings]"),P=S.querySelector("[data-theme-body]"),O=S.querySelector("[data-theme-radius-small]"),g=S.querySelector("[data-theme-radius-medium]"),v=S.querySelector("[data-theme-radius-large]"),y=S.querySelector("[data-theme-preview]"),q=S.querySelector("[data-theme-feedback]"),I=S.querySelector("[data-theme-apply]"),H={slate:"#e2e8f0",gray:"#d1d5db",zinc:"#d4d4d8",neutral:"#d4d4d4",stone:"#d6d3d1",red:"#ef4444",orange:"#f97316",amber:"#f59e0b",yellow:"#eab308",lime:"#84cc16",green:"#22c55e",emerald:"#10b981",teal:"#14b8a6",cyan:"#06b6d4",sky:"#0ea5e9",blue:"#3b82f6",indigo:"#6366f1",violet:"#8b5cf6",purple:"#a855f7",fuchsia:"#d946ef",pink:"#ec4899",rose:"#f43f5e"},W=b=>{if(!b)return null;if(b==="white")return"#ffffff";if(b==="black")return"#000000";if(b==="transparent")return"transparent";let[Z,oe]=b.split("-");if(!Z||!oe)return null;let se=H[Z];if(!se)return null;let R=Number(oe)||500,we=Math.min(Math.max((R-50)/900,0),1),Se=He=>He.replace("#","").match(/[A-Fa-f0-9]{2}/g).map(at=>parseInt(at,16)),[he,Le,Ze]=Se(se),Ee=He=>Math.round(255-(255-He)*we);return`rgb(${Ee(he)}, ${Ee(Le)}, ${Ee(Ze)})`},de=["slate","gray","zinc","neutral","stone","red","orange","amber","yellow","lime","green","emerald","teal","cyan","sky","blue","indigo","violet","purple","fuchsia","pink","rose"],ae=["50","100","200","300","400","500","600","700","800","900"],Ce=de.flatMap(b=>ae.map(Z=>`${b}-${Z}`)),$e=[{value:"white",label:"Blanc",color:"#ffffff",emoji:"\u2B1C"},{value:"transparent",label:"Transparent",color:"transparent",emoji:"\u2B1C"},{value:"black",label:"Noir",color:"#000000",emoji:"\u2B1B"}],Qe=(()=>{let b=[];return $e.forEach(({value:Z,label:oe,color:se,emoji:R})=>{b.push({value:Z,label:`${R} ${oe}`,color:se})}),Ce.forEach(Z=>{let[oe,se]=Z.split("-"),R=W(Z)||"#ffffff";b.push({value:Z,label:`${oe.charAt(0).toUpperCase()+oe.slice(1)} ${se}`,color:R})}),b})(),qe=b=>typeof b=="string"?b.trim().toLowerCase():"",ne=(b={})=>{Object.entries($).forEach(([Z,oe])=>{var R;if(!oe)return;let se=qe(b[Z]);oe.innerHTML="",Qe.forEach(({value:we,label:Se,color:he})=>{let Le=document.createElement("option");Le.value=we,Le.textContent=Se,Le.dataset.color=he,se&&se===we&&(Le.selected=!0),oe.appendChild(Le)}),oe.dataset.default=oe.dataset.default||((R=oe.options[0])==null?void 0:R.value)||"",!se&&oe.dataset.default&&(oe.value=oe.dataset.default),rn(oe)})},Be=(b,Z="muted")=>{if(!q)return;let oe=Z==="success"?"text-emerald-600":Z==="error"?"text-rose-600":"text-slate-500";q.textContent=b||"",q.className=`text-sm ${oe}`},Pe=()=>{var Z,oe,se,R,we;if(!y)return;let b=Se=>{if(!Se)return null;if(Se==="white")return"#ffffff";if(Se==="black")return"#000000";if(Se==="transparent")return"transparent";let[he,Le]=Se.split("-");if(!he||!Le)return null;let Ee={slate:"#e2e8f0",gray:"#d1d5db",zinc:"#d4d4d8",neutral:"#d4d4d4",stone:"#d6d3d1",red:"#ef4444",orange:"#f97316",amber:"#f59e0b",yellow:"#eab308",lime:"#84cc16",green:"#22c55e",emerald:"#10b981",teal:"#14b8a6",cyan:"#06b6d4",sky:"#0ea5e9",blue:"#3b82f6",indigo:"#6366f1",violet:"#8b5cf6",purple:"#a855f7",fuchsia:"#d946ef",pink:"#ec4899",rose:"#f43f5e"}[he];if(!Ee)return null;let He=Number(Le)||500,at=Math.min(Math.max((He-50)/900,0),1),Ke=ie=>ie.match(/[A-Fa-f0-9]{2}/g).map(k=>parseInt(k,16)),[_e,x,U]=Ke(Ee.replace("#","")),ce=ie=>Math.round(255-(255-ie)*at);return`rgb(${ce(_e)}, ${ce(x)}, ${ce(U)})`};y.style.setProperty("--color-primary",W((Z=$.primary)==null?void 0:Z.value)||"#9C6BFF"),y.style.setProperty("--color-secondary",W((oe=$.secondary)==null?void 0:oe.value)||"#0EA5E9"),y.style.setProperty("--color-accent",W((se=$.accent)==null?void 0:se.value)||"#F97316"),y.style.setProperty("--color-background",W((R=$.background)==null?void 0:R.value)||"#FFFFFF"),y.style.setProperty("--color-text",W((we=$.text)==null?void 0:we.value)||"#0F172A"),y.style.setProperty("--font-headings",(F==null?void 0:F.value)||"Inter, sans-serif"),y.style.setProperty("--font-body",(P==null?void 0:P.value)||"Inter, sans-serif"),y.style.setProperty("--radius-small",(O==null?void 0:O.value)||"8px"),y.style.setProperty("--radius-medium",(g==null?void 0:g.value)||"16px"),y.style.setProperty("--radius-large",(v==null?void 0:v.value)||"24px"),y.style.borderRadius=(g==null?void 0:g.value)||"16px"},N=(b,Z)=>{if(b){if(Z==="transparent"){b.style.background="repeating-conic-gradient(#ccc 0% 25%, white 0% 50%) 50% / 8px 8px",b.style.borderColor="#cbd5f5",b.style.boxShadow="";return}b.style.background=Z,b.style.borderColor=Z,b.style.boxShadow="0 0 0 1px rgba(15,23,42,0.15)"}},C=b=>{var we,Se,he;if(!b)return;let Z=b.options[b.selectedIndex],oe=((we=Z==null?void 0:Z.dataset)==null?void 0:we.color)||"#ffffff",se=(Se=b.closest(".relative"))==null?void 0:Se.querySelector("[data-color-preview]");se&&(oe==="transparent"?se.style.background=is:se.style.background=oe);let R=(he=b.closest(".relative"))==null?void 0:he.querySelector("[data-theme-color-chip]");N(R,oe)},J=()=>{Object.values($).forEach(b=>{b&&(rn(b),C(b),b.addEventListener("change",()=>C(b)))})};Object.keys($).forEach(b=>{var Z;(Z=$[b])==null||Z.addEventListener("change",Pe)}),[F,P,O,g,v].forEach(b=>{b==null||b.addEventListener("change",Pe)});let V=async()=>{var b,Z,oe,se,R;if(T)try{let we=await fetch(T,{headers:{Accept:"application/json"},credentials:"include"});if(!we.ok)return;let Se=await we.json().catch(()=>({})),he=Se.colors||{};ne(he),Object.entries($).forEach(([Le,Ze])=>{if(!Ze)return;let Ee=he[Le],He=qe(Ee);He?Ze.value=He:Ee?Ze.value=Ee:Ze.dataset.default&&(Ze.value=Ze.dataset.default),C(Ze)}),F&&(F.value=((b=Se.typography)==null?void 0:b.headings)||"Inter, sans-serif"),P&&(P.value=((Z=Se.typography)==null?void 0:Z.body)||"Inter, sans-serif"),O&&(O.value=((oe=Se.radius)==null?void 0:oe.small)||"8px"),g&&(g.value=((se=Se.radius)==null?void 0:se.medium)||"16px"),v&&(v.value=((R=Se.radius)==null?void 0:R.large)||"24px"),Pe()}catch(we){console.error("[settings] load theme failed",we)}};I==null||I.addEventListener("click",async b=>{var oe,se,R,we,Se;if(b.preventDefault(),!T){Be("Aucun site actif.","error");return}let Z={colors:{primary:((oe=$.primary)==null?void 0:oe.value)||"violet-500",secondary:((se=$.secondary)==null?void 0:se.value)||"indigo-400",accent:((R=$.accent)==null?void 0:R.value)||"emerald-500",background:((we=$.background)==null?void 0:we.value)||"slate-50",text:((Se=$.text)==null?void 0:Se.value)||"slate-900"},typography:{headings:(F==null?void 0:F.value)||"Inter, sans-serif",body:(P==null?void 0:P.value)||"Inter, sans-serif"},radius:{small:(O==null?void 0:O.value)||"8px",medium:(g==null?void 0:g.value)||"16px",large:(v==null?void 0:v.value)||"24px"}};I.disabled=!0,Be("");try{let he=await fetch(T,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(Z)}),Le=await he.json().catch(()=>({}));if(!he.ok||Le.success===!1)throw new Error(Le.message||"Application du th\xE8me \xE9chou\xE9e.");await V(),Be(Le.message||"Th\xE8me appliqu\xE9.","success")}catch(he){console.error("[settings] apply theme failed",he),Be(he.message||"Erreur lors de l\u2019application du th\xE8me.","error")}finally{I.disabled=!1}}),ne(),J(),V(),Pe(),document.addEventListener("ai-theme-updated",()=>{V(),Be("Th\xE8me mis \xE0 jour.","success")})}let z=document.querySelector("[data-seo-config-form]");if(z){let E=z.querySelector("[data-seo-index-all]"),T=z.querySelector("[data-seo-config-feedback]"),$=z.querySelector("[data-seo-save]"),F=Me((ee==null?void 0:ee.slugValue)||me.slug||""),P=F?`/api/sites/${encodeURIComponent(F)}/config/site`:null,O=(v,y="muted")=>{if(!T)return;let q=y==="success"?"text-emerald-600":y==="error"?"text-rose-600":"text-slate-500";T.textContent=v||"",T.className=`text-sm ${q}`},g=async()=>{var v;if(P)try{let y=await fetch(P,{headers:{Accept:"application/json"}});if(!y.ok)return;let I=((v=(await y.json().catch(()=>({}))).seo)==null?void 0:v.indexAllPagesByDefault)!==!1;E&&(E.checked=I)}catch(y){console.error("[settings] load seo config failed",y)}};z.addEventListener("submit",async v=>{var y;if(v.preventDefault(),!P){O("Aucun site actif.","error");return}$&&($.disabled=!0),O("");try{let q=await fetch(P,{headers:{Accept:"application/json"}}),I=q.ok?await q.json().catch(()=>({})):{},H={...I,seo:{...I.seo||{},indexAllPagesByDefault:(y=E==null?void 0:E.checked)!=null?y:!0}},W=await fetch(P,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(H)}),de=await W.json().catch(()=>({}));if(!W.ok||de.success===!1)throw new Error(de.message||"Sauvegarde impossible.");O(de.message||"Param\xE8tres SEO enregistr\xE9s.","success")}catch(q){console.error("[settings] save seo config failed",q),O(q.message||"Erreur lors de la sauvegarde.","error")}finally{$&&($.disabled=!1)}}),g()}let X=document.querySelector("[data-analytics-form]");if(X){let E=X.querySelector("[data-analytics-head]"),T=X.querySelector("[data-analytics-body]"),$=X.querySelector("[data-analytics-feedback]"),F=X.querySelector("[data-analytics-save]"),P=Me((ee==null?void 0:ee.slugValue)||me.slug||""),O=P?`/api/sites/${encodeURIComponent(P)}/config/site`:null,g=(y,q="muted")=>{if(!$)return;let I=q==="success"?"text-emerald-600":q==="error"?"text-rose-600":"text-slate-500";$.textContent=y||"",$.className=`text-sm ${I}`},v=async()=>{var y,q;if(O)try{let I=await fetch(O,{headers:{Accept:"application/json"}});if(!I.ok)return;let H=await I.json().catch(()=>({}));E&&(E.value=((y=H.analytics)==null?void 0:y.headCode)||""),T&&(T.value=((q=H.analytics)==null?void 0:q.bodyEndCode)||"")}catch(I){console.error("[settings] load analytics config failed",I)}};X.addEventListener("submit",async y=>{if(y.preventDefault(),!O){g("Aucun site actif.","error");return}F&&(F.disabled=!0),g("");try{let q=await fetch(O,{headers:{Accept:"application/json"}}),H={...q.ok?await q.json().catch(()=>({})):{},analytics:{headCode:(E==null?void 0:E.value)||"",bodyEndCode:(T==null?void 0:T.value)||""}},W=await fetch(O,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(H)}),de=await W.json().catch(()=>({}));if(!W.ok||de.success===!1)throw new Error(de.message||"Sauvegarde impossible.");g(de.message||"Scripts enregistr\xE9s.","success")}catch(q){console.error("[settings] save analytics config failed",q),g(q.message||"Erreur lors de la sauvegarde.","error")}finally{F&&(F.disabled=!1)}}),v()}let te=document.querySelector("[data-accessibility-form]");if(te){let E=te.querySelector("[data-accessibility-animations]"),T=te.querySelector("[data-accessibility-contrast]"),$=te.querySelector("[data-accessibility-feedback]"),F=te.querySelector("[data-accessibility-save]"),P=Me((ee==null?void 0:ee.slugValue)||me.slug||""),O=P?`/api/sites/${encodeURIComponent(P)}/config/site`:null,g=(y,q="muted")=>{if(!$)return;let I=q==="success"?"text-emerald-600":q==="error"?"text-rose-600":"text-slate-500";$.textContent=y||"",$.className=`text-sm ${I}`},v=async()=>{var y,q;if(O)try{let I=await fetch(O,{headers:{Accept:"application/json"}});if(!I.ok)return;let H=await I.json().catch(()=>({}));E&&(E.checked=((y=H.accessibility)==null?void 0:y.animationsEnabled)!==!1),T&&(T.checked=((q=H.accessibility)==null?void 0:q.highContrast)===!0)}catch(I){console.error("[settings] load accessibility config failed",I)}};te.addEventListener("submit",async y=>{var q,I;if(y.preventDefault(),!O){g("Aucun site actif.","error");return}F&&(F.disabled=!0),g("");try{let H=await fetch(O,{headers:{Accept:"application/json"}}),de={...H.ok?await H.json().catch(()=>({})):{},accessibility:{animationsEnabled:(q=E==null?void 0:E.checked)!=null?q:!0,highContrast:(I=T==null?void 0:T.checked)!=null?I:!1}},ae=await fetch(O,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(de)}),Ce=await ae.json().catch(()=>({}));if(!ae.ok||Ce.success===!1)throw new Error(Ce.message||"Sauvegarde impossible.");g(Ce.message||"Pr\xE9f\xE9rences mises \xE0 jour.","success")}catch(H){console.error("[settings] save accessibility config failed",H),g(H.message||"Erreur lors de la sauvegarde.","error")}finally{F&&(F.disabled=!1)}}),v()}let Y=document.querySelector("[data-ai-config-form]");if(Y){let E=Y.querySelector("[data-ai-api-key]"),T=Y.querySelector("[data-ai-model]"),$=Y.querySelector("[data-ai-project-prompt]"),F=Y.querySelector("[data-ai-enabled]"),P=Y.querySelector("[data-ai-feedback]"),O=Y.querySelector("[data-ai-save]"),g=Me((ee==null?void 0:ee.slugValue)||me.slug||""),v=g?`/api/sites/${encodeURIComponent(g)}/config/ai`:null,y=(I,H="muted")=>{if(!P)return;let W=H==="success"?"text-emerald-600":H==="error"?"text-rose-600":"text-slate-500";P.textContent=I||"",P.className=`text-sm ${W}`},q=async()=>{if(v)try{let I=await fetch(v,{headers:{Accept:"application/json"}});if(!I.ok)return;let H=await I.json().catch(()=>({}));E&&(E.value="",E.placeholder=H.hasApiKey?"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022":"Cl\xE9 API Gemini"),T&&(T.value=H.model||"gemini-2.5-flash"),$&&($.value=H.projectPrompt||""),F&&(F.checked=H.enabled!==!1)}catch(I){console.error("[settings] load AI config failed",I)}};Y.addEventListener("submit",async I=>{var H,W;if(I.preventDefault(),!v){y("Aucun site actif.","error");return}O&&(O.disabled=!0),y("");try{let de={model:(T==null?void 0:T.value)||"gemini-2.5-flash",projectPrompt:($==null?void 0:$.value)||"",enabled:(H=F==null?void 0:F.checked)!=null?H:!0},ae=(W=E==null?void 0:E.value)==null?void 0:W.trim();ae&&(de.apiKey=ae);let Ce=await fetch(v,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(de)}),$e=await Ce.json().catch(()=>({}));if(!Ce.ok||$e.success===!1)throw new Error($e.message||"Sauvegarde impossible.");y($e.message||"Configuration IA enregistr\xE9e.","success"),E&&(E.value="",E.placeholder="\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022")}catch(de){console.error("[settings] save AI config failed",de),y(de.message||"Erreur lors de la sauvegarde.","error")}finally{O&&(O.disabled=!1)}}),q()}}function zo(){let n=document.querySelector("[data-media-grid]");if(!n)return;let a=document.querySelector("[data-media-empty]"),d=document.querySelector("[data-media-count]"),f=document.querySelector("[data-media-filter-type]"),h=document.querySelector("[data-media-detail-empty]"),S=document.querySelector("[data-media-detail]"),Q=document.querySelector("[data-media-detail-preview]"),z=document.querySelector("[data-media-detail-name]"),X=document.querySelector("[data-media-detail-type]"),te=document.querySelector("[data-media-detail-size]"),Y=document.querySelector("[data-media-detail-path]"),E=document.querySelector("[data-media-detail-used]"),T=document.querySelector("[data-media-alt-edit]"),$=document.querySelector("[data-media-save]"),F=document.querySelector("[data-media-delete]"),P=document.querySelector("[data-media-delete-modal]"),O=document.querySelector("[data-media-delete-cancel]"),g=document.querySelector("[data-media-delete-confirm]"),v=document.querySelector("[data-media-upload-open]"),y=document.querySelector("[data-media-file-input]"),q=document.querySelector("[data-media-upload-status]"),I=Me((ee==null?void 0:ee.slugValue)||me.slug||""),H=I?`/api/sites/${encodeURIComponent(I)}/media`:null,W=[],de=[],ae=null,Ce=null,$e=null,Qe=!1,qe=!1,ne=!1,Be=null,Pe=x=>{let U=(x.type||"").toLowerCase(),ce=(x.filename||"").toLowerCase();return U.includes("image")||/\.(png|jpe?g|webp|svg|gif)$/i.test(ce)?"image":U.includes("pdf")||U.includes("doc")||/\.(pdf|docx?)$/i.test(ce)?"document":U.includes("video")||/\.(mp4|mov|webm)$/i.test(ce)?"video":"other"},N=x=>Pe(x)==="image",C=x=>{if(x.type)return x.type.toUpperCase();let U=(x.filename||"").split(".").pop();return U?U.toUpperCase():"FILE"},J=x=>!x||x<=0?"\u2014":x<1024?`${x} o`:x<1024*1024?`${(x/1024).toFixed(1)} ko`:`${(x/(1024*1024)).toFixed(1)} Mo`,V=()=>{S==null||S.classList.add("hidden"),h==null||h.classList.remove("hidden"),b(),ae=null,qe=!1,R(!1),Q&&(Q.innerHTML='<span class="text-slate-400 text-sm">Aucun m\xE9dia s\xE9lectionn\xE9</span>'),z&&(z.textContent=""),X&&(X.textContent=""),te&&(te.textContent=""),T&&(T.value=""),Y&&(Y.textContent=""),E&&(E.innerHTML="")},b=()=>{$e=null,ne=!1,Qe=!1,Be&&(URL.revokeObjectURL(Be),Be=null),q&&(q.textContent="Aucun fichier s\xE9lectionn\xE9."),y&&(y.value="")},Z=()=>{d&&(de.length?de.length===1?d.textContent="1 m\xE9dia":d.textContent=`${de.length} m\xE9dias`:d.textContent="0 m\xE9dia")},oe=()=>{if(n.innerHTML="",!de.length){a==null||a.classList.remove("hidden"),V();return}a==null||a.classList.add("hidden"),de.forEach(x=>{let U=document.createElement("button");U.type="button",U.dataset.mediaId=x.id;let ce=x.id===ae;U.className=["group relative flex flex-col rounded-2xl border px-3 py-3 text-left transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[#9C6BFF]",ce?"border-[#9C6BFF] bg-[#F7F0FF]/60 shadow-sm":"border-slate-200 hover:border-[#9C6BFF]/40"].join(" ");let ie=N(x)?`<img src="${x.path}" alt="${x.alt||x.filename}" class="h-full w-full object-cover" />`:'<div class="flex h-full w-full items-center justify-center text-3xl text-slate-400">\u{1F4C4}</div>';U.innerHTML=`
          <div class="relative aspect-[4/3] overflow-hidden rounded-xl bg-slate-100">
            ${ie}
          </div>
          <div class="mt-2 space-y-1">
            <p class="text-sm font-semibold text-slate-900 truncate">${x.filename}</p>
            <p class="text-xs text-slate-500">
              ${C(x)} \xB7 ${J(x.size)}
            </p>
          </div>
        `,x.id===Ce&&(U.classList.add("ring-2","ring-[#9C6BFF]"),window.setTimeout(()=>{U.classList.remove("ring-2","ring-[#9C6BFF]")},1600)),U.addEventListener("click",()=>we(x.id)),n.appendChild(U)}),Ce=null},se=x=>{if(E){if(E.innerHTML="",!x.usedIn||x.usedIn.length===0){let U=document.createElement("li");U.textContent="Non utilis\xE9",U.className="text-xs text-slate-400",E.appendChild(U);return}x.usedIn.forEach(U=>{let ce=document.createElement("li");ce.textContent=U,ce.className="text-xs text-slate-600",E.appendChild(ce)})}},R=x=>{if($){if(ne){$.textContent=x?"T\xE9l\xE9versement\u2026":"T\xE9l\xE9verser",$.disabled=x||!$e,F&&F.classList.add("hidden");return}$.textContent=x?"Enregistrement\u2026":"Enregistrer",$.disabled=x||!qe,F&&(F.classList.remove("hidden"),F.disabled=!ae)}},we=x=>{let U=W.find(ce=>ce.id===x);if(!U){V(),oe();return}b(),ae=U.id,qe=!1,R(!1),oe(),h==null||h.classList.add("hidden"),S==null||S.classList.remove("hidden"),Q&&(N(U)?Q.innerHTML=`<img src="${U.path}" alt="${U.alt||U.filename}" class="h-full w-full rounded-2xl object-cover" />`:Q.innerHTML='<div class="flex h-full w-full flex-col items-center justify-center gap-1 text-slate-400"><span class="text-3xl">\u{1F4C4}</span><span class="text-xs font-semibold">Document</span></div>'),z&&(z.textContent=U.filename||"Fichier"),X&&(X.textContent=C(U)),te&&(te.textContent=J(U.size)),T&&(T.value=U.alt||""),Y&&(Y.textContent=U.path||"\u2014"),se(U)},Se=x=>{if(x){if(ne=!0,qe=!1,ae=null,h==null||h.classList.add("hidden"),S==null||S.classList.remove("hidden"),Be&&URL.revokeObjectURL(Be),Be=URL.createObjectURL(x),Q&&(Q.innerHTML=`<img src="${Be}" alt="${x.name}" class="h-full w-full rounded-2xl object-cover" />`),z&&(z.textContent=x.name),X&&(X.textContent=C({type:x.type,filename:x.name})),te&&(te.textContent=J(x.size)),T&&!T.value.trim()&&(T.value=x.name.replace(/\.[^.]+$/,"").replace(/[-_]/g," ")),Y&&(Y.textContent="En attente de t\xE9l\xE9versement"),E){E.innerHTML="";let U=document.createElement("li");U.textContent="Non utilis\xE9",U.className="text-xs text-slate-400",E.appendChild(U)}R(!1)}},he=()=>{let x=(f==null?void 0:f.value)||"all";x==="all"?de=[...W]:de=W.filter(U=>U.groupType===x),de.some(U=>U.id===ae)||V(),Z(),oe()},Le=async()=>{if(!H){a==null||a.classList.remove("hidden");return}try{let x=await fetch(H,{headers:{Accept:"application/json"}});if(!x.ok)throw new Error("Impossible de charger les m\xE9dias.");let U=await x.json().catch(()=>({items:[]}));W=Array.isArray(U.items)?U.items.map(ce=>({...ce,groupType:Pe(ce)})):[],he()}catch(x){console.error("[media] load failed",x),M(x.message||"Impossible de charger les m\xE9dias."),W=[],he()}};f==null||f.addEventListener("change",()=>{he()}),T==null||T.addEventListener("input",()=>{if(ne){R(!1);return}ae&&(qe=!0,R(!1))});let Ze=x=>{if(x){if(!x.type.startsWith("image/")){M("Seules les images sont accept\xE9es pour le moment.");return}if(x.size>4*1024*1024){M("Fichier trop volumineux (4 Mo max).");return}$e=x,Se(x),q&&(q.textContent=`${x.name} \xB7 ${J(x.size)}`)}},Ee=x=>new Promise((U,ce)=>{let ie=new FileReader;ie.onload=()=>{let k=ie.result||"",[,xs=""]=String(k).split(",");U(xs)},ie.onerror=()=>ce(new Error("Impossible de lire ce fichier.")),ie.readAsDataURL(x)}),He=async()=>{if(!(!$e||!H)){Qe=!0,R(!0);try{let x=await Ee($e),U={filename:$e.name,type:$e.type,size:$e.size,alt:(T==null?void 0:T.value)||"",data:x},ce=await fetch(H,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(U)});if(!ce.ok){let k=await ce.json().catch(()=>({}));throw new Error(k.message||"Upload impossible.")}let ie=await ce.json();ie.groupType=Pe(ie),W=[...W,ie],Ce=ie.id,he(),we(ie.id),M("M\xE9dia ajout\xE9"),b()}catch(x){console.error("[media] upload failed",x),M(x.message||"Impossible de t\xE9l\xE9verser ce m\xE9dia.")}finally{Qe=!1,$e=null,R(!1)}}};v==null||v.addEventListener("click",()=>y==null?void 0:y.click()),y==null||y.addEventListener("change",()=>{y.files&&y.files[0]&&Ze(y.files[0])});let at=()=>{P&&(P.classList.add("hidden"),P.classList.remove("flex"))},Ke=()=>{if(!(!ae||ne)){if(P){P.classList.remove("hidden"),P.classList.add("flex");return}window.confirm("Supprimer ce m\xE9dia ?")&&_e()}},_e=async()=>{if(!ae||!H){at();return}let x=()=>{F&&(F.disabled=!0),g&&(g.disabled=!0,g.textContent="Suppression\u2026")},U=()=>{F&&(F.disabled=!1),g&&(g.disabled=!1,g.textContent="Supprimer")};x();try{let ce=await fetch(`${H}/${encodeURIComponent(ae)}`,{method:"DELETE"});if(!ce.ok){let ie=await ce.json().catch(()=>({}));throw new Error(ie.message||"Suppression impossible.")}W=W.filter(ie=>ie.id!==ae),de=de.filter(ie=>ie.id!==ae),M("M\xE9dia supprim\xE9"),V(),Z(),oe()}catch(ce){console.error("[media] delete failed",ce),M(ce.message||"Impossible de supprimer ce m\xE9dia.")}finally{U(),at()}};O==null||O.addEventListener("click",at),P==null||P.addEventListener("click",x=>{x.target===P&&at()}),g==null||g.addEventListener("click",()=>_e()),F==null||F.addEventListener("click",Ke),$==null||$.addEventListener("click",async()=>{if(ne){He();return}if(!(!ae||!H||!T)){R(!0);try{let x={alt:T.value||""},U=await fetch(`${H}/${encodeURIComponent(ae)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(x)});if(!U.ok){let ie=await U.json().catch(()=>({}));throw new Error(ie.message||"Impossible de mettre \xE0 jour ce m\xE9dia.")}let ce=await U.json();W=W.map(ie=>ie.id===ae?{...ie,...ce}:ie),de=de.map(ie=>ie.id===ae?{...ie,...ce}:ie),qe=!1,R(!1),M("M\xE9dia mis \xE0 jour")}catch(x){console.error("[media] update failed",x),M(x.message||"\xC9chec de la mise \xE0 jour."),R(!1)}}}),Le()}let Zn=document.getElementById("ai-chat-toggle"),vs=document.getElementById("ai-chat-panel"),ct=document.getElementById("ai-chat-overlay"),Kn=document.getElementById("ai-chat-close"),_n=document.getElementById("ai-chat-clear"),Yn=document.getElementById("ai-chat-form"),Mt=document.getElementById("ai-chat-input"),Te=document.getElementById("ai-chat-messages"),_a=document.getElementById("ai-chat-status"),Et=document.getElementById("ai-chat-no-api"),Oo=document.querySelectorAll("[data-ai-quick]"),on=!1,Qn=!1,Pr=!1,Vo=!1;function Jo(){vs&&(on=!0,vs.classList.remove("translate-x-full"),vs.setAttribute("aria-hidden","false"),ct==null||ct.classList.remove("opacity-0","pointer-events-none"),ct==null||ct.classList.add("opacity-100"),document.body.classList.add("overflow-hidden"),Mt==null||Mt.focus(),Pr||Wo())}function an(){vs&&(on=!1,vs.classList.add("translate-x-full"),vs.setAttribute("aria-hidden","true"),ct==null||ct.classList.add("opacity-0","pointer-events-none"),ct==null||ct.classList.remove("opacity-100"),document.body.classList.remove("overflow-hidden"))}async function Wo(){let n=Me(me.slug||"");if(!n){Et==null||Et.classList.remove("hidden");return}try{let a=await fetch(`/api/sites/${encodeURIComponent(n)}/config/ai`);if(!a.ok)throw new Error("Config check failed");let d=await a.json();Pr=!0,Vo=d.hasApiKey,!d.enabled||!d.hasApiKey?Et==null||Et.classList.remove("hidden"):(Et==null||Et.classList.add("hidden"),Go())}catch(a){console.error("[AI] Config check failed:",a),Et==null||Et.classList.remove("hidden")}}async function Go(){let n=Me(me.slug||"");if(!(!n||!Te))try{let a=await fetch(`/api/sites/${encodeURIComponent(n)}/ai/history`);if(!a.ok)return;let d=await a.json();if(d.messages&&d.messages.length>0){let f=Te.querySelector("[data-ai-welcome]");f&&f.remove(),d.messages.forEach(h=>{ln(h.content,h.role==="user"?"user":"assistant")}),Te.scrollTop=Te.scrollHeight}}catch(a){console.error("[AI] History load failed:",a)}}function ln(n,a="assistant"){if(!Te)return;let d=document.createElement("div");if(d.className="flex gap-3",a==="user")d.innerHTML=`
        <div class="flex-1"></div>
        <div class="max-w-[80%] bg-violet-600 text-white rounded-2xl rounded-tr-none p-3">
          <p class="text-sm whitespace-pre-wrap">${yt(n)}</p>
        </div>
        <div class="w-8 h-8 rounded-full bg-slate-200 flex-shrink-0 flex items-center justify-center">
          <svg class="w-4 h-4 text-slate-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
          </svg>
        </div>
      `;else{let f=Ko(n);d.innerHTML=`
        <div class="w-8 h-8 rounded-full bg-gradient-to-br from-violet-500 to-indigo-600 flex-shrink-0 flex items-center justify-center">
          <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
          </svg>
        </div>
        <div class="flex-1 bg-slate-50 rounded-2xl rounded-tl-none p-3 overflow-x-auto">
          <div class="text-sm text-slate-700 prose prose-sm max-w-none [&>pre]:bg-slate-800 [&>pre]:text-slate-100 [&>pre]:rounded-lg [&>pre]:p-3 [&>pre]:overflow-x-auto [&>code]:bg-slate-200 [&>code]:px-1 [&>code]:rounded">${f}</div>
        </div>
      `}Te.appendChild(d),Te.scrollTop=Te.scrollHeight}function Zo(){if(!Te)return;let n=document.createElement("div");n.className="flex gap-3",n.id="ai-loading-indicator",n.innerHTML=`
      <div class="w-8 h-8 rounded-full bg-gradient-to-br from-violet-500 to-indigo-600 flex-shrink-0 flex items-center justify-center">
        <svg class="w-4 h-4 text-white animate-pulse" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
        </svg>
      </div>
      <div class="flex-1 bg-slate-50 rounded-2xl rounded-tl-none p-3">
        <div class="flex items-center gap-2">
          <div class="w-2 h-2 bg-violet-400 rounded-full animate-bounce" style="animation-delay: 0ms"></div>
          <div class="w-2 h-2 bg-violet-400 rounded-full animate-bounce" style="animation-delay: 150ms"></div>
          <div class="w-2 h-2 bg-violet-400 rounded-full animate-bounce" style="animation-delay: 300ms"></div>
        </div>
      </div>
    `,Te.appendChild(n),Te.scrollTop=Te.scrollHeight}function jr(){let n=document.getElementById("ai-loading-indicator");n==null||n.remove()}function Ko(n){if(!n)return"";let a=yt(n);return a=a.replace(/```(\w*)\n([\s\S]*?)```/g,(d,f,h)=>`<pre class="language-${f||"text"}"><code>${h.trim()}</code></pre>`),a=a.replace(/`([^`]+)`/g,"<code>$1</code>"),a=a.replace(/\*\*([^*]+)\*\*/g,"<strong>$1</strong>"),a=a.replace(/\*([^*]+)\*/g,"<em>$1</em>"),a=a.replace(/^### (.+)$/gm,'<h4 class="font-semibold text-slate-900 mt-3 mb-1">$1</h4>'),a=a.replace(/^## (.+)$/gm,'<h3 class="font-semibold text-slate-900 mt-3 mb-1">$1</h3>'),a=a.replace(/^# (.+)$/gm,'<h2 class="font-bold text-slate-900 mt-3 mb-2">$1</h2>'),a=a.replace(/^- (.+)$/gm,'<li class="ml-4">$1</li>'),a=a.replace(/^(\d+)\. (.+)$/gm,'<li class="ml-4">$2</li>'),a=a.replace(/\n\n/g,'</p><p class="mb-2">'),a='<p class="mb-2">'+a+"</p>",a=a.replace(/<p class="mb-2"><\/p>/g,""),a}function yt(n){let a=document.createElement("div");return a.textContent=n,a.innerHTML}async function Mr(n){let a=Me(me.slug||"");if(!n||!a||Qn)return;Qn=!0,Mt.disabled=!0;let d=Te==null?void 0:Te.querySelector("[data-ai-welcome]");d&&d.remove(),ln(n,"user"),Zo();try{let f=await fetch(`/api/sites/${encodeURIComponent(a)}/ai/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:n})});if(jr(),!f.ok){let S=await f.json().catch(()=>({}));throw new Error(S.message||"Erreur de communication")}let h=await f.json();h.response&&ln(h.response,"assistant"),h.editProposal&&_o(h.editProposal),h.themeProposal&&Yo(h.themeProposal)}catch(f){jr(),ln(`\u274C Erreur: ${f.message}`,"assistant")}finally{Qn=!1,Mt.disabled=!1,Mt.focus()}}function _o(n){var f,h;if(!Te||!n)return;let a=document.createElement("div");a.className="flex gap-3 mt-2",a.dataset.proposalId=n.proposalId;let d="";if(n.changes&&(n.changes.title&&(d+=`<li>Titre \u2192 <strong>${yt(n.changes.title)}</strong></li>`),n.changes.description&&(d+=`<li>Description \u2192 ${yt(n.changes.description.substring(0,80))}...</li>`),n.changes.seo&&(n.changes.seo.metaTitle&&(d+=`<li>Meta title \u2192 ${yt(n.changes.seo.metaTitle)}</li>`),n.changes.seo.metaDescription&&(d+=`<li>Meta description \u2192 ${yt(n.changes.seo.metaDescription.substring(0,60))}...</li>`)),n.changes.blockUpdate&&(d+=`<li>Bloc "${n.changes.blockUpdate.blockId}" modifi\xE9</li>`,n.changes.blockUpdate.settings))){let S=n.changes.blockUpdate.settings;S.title&&(d+=`<li class="ml-4">\u2192 title: ${yt(S.title)}</li>`),S.content&&(d+='<li class="ml-4">\u2192 content modifi\xE9</li>')}a.innerHTML=`
      <div class="w-8 h-8 rounded-full bg-amber-500 flex-shrink-0 flex items-center justify-center">
        <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"/>
        </svg>
      </div>
      <div class="flex-1 bg-amber-50 border border-amber-200 rounded-2xl rounded-tl-none p-4">
        <div class="flex items-center gap-2 mb-2">
          <span class="text-xs font-semibold text-amber-700 bg-amber-100 px-2 py-0.5 rounded">Proposition d'\xE9dition</span>
        </div>
        <p class="text-sm font-medium text-slate-800 mb-1">Page : ${yt(n.pageTitle||n.pageId)}</p>
        ${n.reason?`<p class="text-sm text-slate-600 mb-2">${yt(n.reason)}</p>`:""}
        <ul class="text-xs text-slate-600 space-y-1 mb-3 list-disc ml-4">
          ${d||"<li>Modifications propos\xE9es</li>"}
        </ul>
        <div class="flex gap-2">
          <button 
            class="ai-apply-edit px-3 py-1.5 text-xs font-medium text-white bg-emerald-600 hover:bg-emerald-700 rounded-lg transition-colors flex items-center gap-1"
            data-proposal-id="${n.proposalId}"
          >
            <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
            </svg>
            Appliquer
          </button>
          <button 
            class="ai-reject-edit px-3 py-1.5 text-xs font-medium text-slate-600 bg-slate-100 hover:bg-slate-200 rounded-lg transition-colors flex items-center gap-1"
            data-proposal-id="${n.proposalId}"
          >
            <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
            </svg>
            Rejeter
          </button>
        </div>
      </div>
    `,Te.appendChild(a),Te.scrollTop=Te.scrollHeight,(f=a.querySelector(".ai-apply-edit"))==null||f.addEventListener("click",ea),(h=a.querySelector(".ai-reject-edit"))==null||h.addEventListener("click",Fr)}function Yo(n){var h,S,Q,z;if(!Te||!n)return;let a=document.createElement("div");a.className="flex gap-3 mt-2",a.dataset.proposalId=n.proposalId;let d="";if((h=n.changes)!=null&&h.colors){let X=n.changes.colors;for(let[te,Y]of Object.entries(X))d+=`<li class="flex items-center gap-2">
          <span class="w-4 h-4 rounded border border-slate-300" style="background: ${Qo(Y)}"></span>
          <span>${te}: <strong>${yt(Y)}</strong></span>
        </li>`}let f="";if((S=n.changes)!=null&&S.typography){let X=n.changes.typography;X.headings&&(f+=`<li>Titres \u2192 <strong>${yt(X.headings)}</strong></li>`),X.body&&(f+=`<li>Textes \u2192 <strong>${yt(X.body)}</strong></li>`)}a.innerHTML=`
      <div class="w-8 h-8 rounded-full bg-purple-500 flex-shrink-0 flex items-center justify-center">
        <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"/>
        </svg>
      </div>
      <div class="flex-1 bg-purple-50 border border-purple-200 rounded-2xl rounded-tl-none p-4">
        <div class="flex items-center gap-2 mb-2">
          <span class="text-xs font-semibold text-purple-700 bg-purple-100 px-2 py-0.5 rounded">Modification du th\xE8me</span>
        </div>
        ${n.reason?`<p class="text-sm text-slate-600 mb-3">${yt(n.reason)}</p>`:""}
        ${d?`
          <p class="text-xs font-medium text-slate-700 mb-1">Couleurs :</p>
          <ul class="text-xs text-slate-600 space-y-1 mb-3">${d}</ul>
        `:""}
        ${f?`
          <p class="text-xs font-medium text-slate-700 mb-1">Typographies :</p>
          <ul class="text-xs text-slate-600 space-y-1 mb-3 list-disc ml-4">${f}</ul>
        `:""}
        <div class="flex gap-2">
          <button 
            class="ai-apply-theme px-3 py-1.5 text-xs font-medium text-white bg-purple-600 hover:bg-purple-700 rounded-lg transition-colors flex items-center gap-1"
            data-proposal-id="${n.proposalId}"
          >
            <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
            </svg>
            Appliquer
          </button>
          <button 
            class="ai-reject-theme px-3 py-1.5 text-xs font-medium text-slate-600 bg-slate-100 hover:bg-slate-200 rounded-lg transition-colors flex items-center gap-1"
            data-proposal-id="${n.proposalId}"
          >
            <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
            </svg>
            Rejeter
          </button>
        </div>
      </div>
    `,Te.appendChild(a),Te.scrollTop=Te.scrollHeight,(Q=a.querySelector(".ai-apply-theme"))==null||Q.addEventListener("click",Xo),(z=a.querySelector(".ai-reject-theme"))==null||z.addEventListener("click",Fr)}function Qo(n){return{white:"#ffffff",black:"#000000",transparent:"transparent","slate-50":"#f8fafc","slate-100":"#f1f5f9","slate-200":"#e2e8f0","slate-300":"#cbd5e1","slate-400":"#94a3b8","slate-500":"#64748b","slate-600":"#475569","slate-700":"#334155","slate-800":"#1e293b","slate-900":"#0f172a","gray-50":"#f9fafb","gray-100":"#f3f4f6","gray-200":"#e5e7eb","gray-300":"#d1d5db","gray-400":"#9ca3af","gray-500":"#6b7280","gray-600":"#4b5563","gray-700":"#374151","gray-800":"#1f2937","gray-900":"#111827","violet-50":"#f5f3ff","violet-100":"#ede9fe","violet-200":"#ddd6fe","violet-300":"#c4b5fd","violet-400":"#a78bfa","violet-500":"#8b5cf6","violet-600":"#7c3aed","violet-700":"#6d28d9","violet-800":"#5b21b6","violet-900":"#4c1d95","purple-50":"#faf5ff","purple-100":"#f3e8ff","purple-200":"#e9d5ff","purple-300":"#d8b4fe","purple-400":"#c084fc","purple-500":"#a855f7","purple-600":"#9333ea","purple-700":"#7e22ce","purple-800":"#6b21a8","purple-900":"#581c87","blue-50":"#eff6ff","blue-100":"#dbeafe","blue-200":"#bfdbfe","blue-300":"#93c5fd","blue-400":"#60a5fa","blue-500":"#3b82f6","blue-600":"#2563eb","blue-700":"#1d4ed8","blue-800":"#1e40af","blue-900":"#1e3a8a","emerald-50":"#ecfdf5","emerald-100":"#d1fae5","emerald-200":"#a7f3d0","emerald-300":"#6ee7b7","emerald-400":"#34d399","emerald-500":"#10b981","emerald-600":"#059669","emerald-700":"#047857","emerald-800":"#065f46","emerald-900":"#064e3b","teal-50":"#f0fdfa","teal-100":"#ccfbf1","teal-200":"#99f6e4","teal-300":"#5eead4","teal-400":"#2dd4bf","teal-500":"#14b8a6","teal-600":"#0d9488","teal-700":"#0f766e","teal-800":"#115e59","teal-900":"#134e4a","amber-50":"#fffbeb","amber-100":"#fef3c7","amber-200":"#fde68a","amber-300":"#fcd34d","amber-400":"#fbbf24","amber-500":"#f59e0b","amber-600":"#d97706","amber-700":"#b45309","amber-800":"#92400e","amber-900":"#78350f","red-50":"#fef2f2","red-100":"#fee2e2","red-200":"#fecaca","red-300":"#fca5a5","red-400":"#f87171","red-500":"#ef4444","red-600":"#dc2626","red-700":"#b91c1c","red-800":"#991b1b","red-900":"#7f1d1d"}[n]||"#9C6BFF"}async function Xo(n){var h;let a=(h=n.target.closest("[data-proposal-id]"))==null?void 0:h.dataset.proposalId,d=Me(me.slug||"");if(!a||!d)return;let f=n.target.closest("button");f.disabled=!0,f.innerHTML='<span class="animate-spin">\u23F3</span> Application...';try{let S=await fetch(`/api/sites/${encodeURIComponent(d)}/ai/apply-theme`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({proposalId:a})}),Q=await S.json();if(S.ok&&Q.success){let z=document.querySelector(`[data-proposal-id="${a}"]`);z&&(z.innerHTML=`
            <div class="w-8 h-8 rounded-full bg-purple-500 flex-shrink-0 flex items-center justify-center">
              <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
              </svg>
            </div>
            <div class="flex-1 bg-purple-50 border border-purple-200 rounded-2xl rounded-tl-none p-3">
              <p class="text-sm text-purple-700">\u2705 Th\xE8me mis \xE0 jour avec succ\xE8s !</p>
              <p class="text-xs text-purple-600 mt-1">Rechargez la preview pour voir les changements.</p>
            </div>
          `),M("Th\xE8me mis \xE0 jour !"),document.dispatchEvent(new CustomEvent("ai-theme-updated",{detail:{updatedTheme:Q.updatedTheme}}))}else throw new Error(Q.message||"Erreur lors de l'application")}catch(S){f.disabled=!1,f.innerHTML='<svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg> R\xE9essayer',M(`Erreur: ${S.message}`)}}async function ea(n){var h,S;let a=(h=n.target.closest("[data-proposal-id]"))==null?void 0:h.dataset.proposalId,d=Me(me.slug||"");if(!a||!d)return;let f=n.target.closest("button");f.disabled=!0,f.innerHTML='<span class="animate-spin">\u23F3</span> Application...';try{let Q=await fetch(`/api/sites/${encodeURIComponent(d)}/ai/apply-edit`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({proposalId:a})}),z=await Q.json();if(Q.ok&&z.success){let X=document.querySelector(`[data-proposal-id="${a}"]`);X&&(X.innerHTML=`
            <div class="w-8 h-8 rounded-full bg-emerald-500 flex-shrink-0 flex items-center justify-center">
              <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
              </svg>
            </div>
            <div class="flex-1 bg-emerald-50 border border-emerald-200 rounded-2xl rounded-tl-none p-3">
              <p class="text-sm text-emerald-700">\u2705 Modifications appliqu\xE9es avec succ\xE8s !</p>
              <p class="text-xs text-emerald-600 mt-1">La preview se met \xE0 jour automatiquement.</p>
            </div>
          `),M("Modifications appliqu\xE9es !");let te=((S=z.updatedPage)==null?void 0:S.id)||null;document.dispatchEvent(new CustomEvent("ai-page-updated",{detail:{pageId:te,updatedPage:z.updatedPage}}))}else throw new Error(z.message||"Erreur lors de l'application")}catch(Q){f.disabled=!1,f.innerHTML='<svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg> R\xE9essayer',M(`Erreur: ${Q.message}`)}}async function Fr(n){var f;let a=(f=n.target.closest("[data-proposal-id]"))==null?void 0:f.dataset.proposalId,d=Me(me.slug||"");if(!(!a||!d))try{await fetch(`/api/sites/${encodeURIComponent(d)}/ai/proposal/${a}`,{method:"DELETE"});let h=document.querySelector(`[data-proposal-id="${a}"]`);h&&(h.innerHTML=`
          <div class="w-8 h-8 rounded-full bg-slate-400 flex-shrink-0 flex items-center justify-center">
            <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
            </svg>
          </div>
          <div class="flex-1 bg-slate-100 rounded-2xl rounded-tl-none p-3">
            <p class="text-sm text-slate-500">Proposition rejet\xE9e.</p>
          </div>
        `)}catch(h){console.error("[AI] Reject edit error:",h)}}async function ta(){let n=Me(me.slug||"");if(!(!n||!Te))try{await fetch(`/api/sites/${encodeURIComponent(n)}/ai/history`,{method:"DELETE"}),Te.innerHTML="",Te.innerHTML=`
        <div class="flex gap-3" data-ai-welcome>
          <div class="w-8 h-8 rounded-full bg-gradient-to-br from-violet-500 to-indigo-600 flex-shrink-0 flex items-center justify-center">
            <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
            </svg>
          </div>
          <div class="flex-1 bg-slate-50 rounded-2xl rounded-tl-none p-3">
            <p class="text-sm text-slate-700">
              Salut ! \u{1F44B} Je suis ton assistant IA pour ce site. Je peux t'aider \xE0 :
            </p>
            <ul class="mt-2 text-sm text-slate-600 space-y-1">
              <li>\u{1F3A8} Sugg\xE9rer des palettes de couleurs</li>
              <li>\u270D\uFE0F G\xE9n\xE9rer du contenu pour tes blocs</li>
              <li>\u{1F4C4} Cr\xE9er des structures de pages</li>
              <li>\u{1F50D} Am\xE9liorer ton SEO</li>
              <li>\u270F\uFE0F <strong>Analyser et modifier tes pages</strong> (avec validation)</li>
            </ul>
          </div>
        </div>
      `,M("Historique effac\xE9")}catch(a){console.error("[AI] Clear history failed:",a),M("Erreur lors de l'effacement")}}let sa={colors:"Sugg\xE8re-moi 3 palettes de couleurs harmonieuses pour mon site. Pour chaque palette, donne les couleurs Tailwind: primary, secondary, accent, et background.",hero:"G\xE9n\xE8re un bloc Hero en JSON avec un titre accrocheur, un sous-titre engageant et un CTA.",seo:"Analyse mon site et sugg\xE8re des am\xE9liorations SEO pour le meta title et la meta description de ma page d'accueil.",landing:"G\xE9n\xE8re la structure JSON d'une landing page compl\xE8te avec: Hero, 3 sections de contenu, et un CTA final.",analyze:"Analyse le contenu de toutes mes pages et propose des am\xE9liorations concr\xE8tes. Pour chaque suggestion d'am\xE9lioration de texte ou de structure, utilise le format propose-edit pour que je puisse valider.",improveHome:"Analyse ma page d'accueil et propose une am\xE9lioration du titre ou du Hero pour le rendre plus impactant. Utilise le format propose-edit."};Zn==null||Zn.addEventListener("click",()=>{on?an():Jo()}),Kn==null||Kn.addEventListener("click",an),ct==null||ct.addEventListener("click",an),_n==null||_n.addEventListener("click",()=>{confirm("Effacer tout l'historique de conversation ?")&&ta()}),Yn==null||Yn.addEventListener("submit",n=>{var d;n.preventDefault();let a=(d=Mt==null?void 0:Mt.value)==null?void 0:d.trim();a&&(Mt.value="",Mr(a))}),Oo.forEach(n=>{n.addEventListener("click",()=>{let a=n.dataset.aiQuick,d=sa[a];d&&Mr(d)})}),document.addEventListener("keydown",n=>{n.key==="Escape"&&on&&an()})});})();
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vY29yZS9zY3JpcHRzL2FkbWluLmpzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuICBjb25zb2xlLmxvZygnW2FkbWluXSBBdGVsaWVyIGNoYXJnXHUwMEU5Jyk7XG4gIGNvbnN0IGxvZ291dEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWxvZ291dF0nKTtcbiAgaWYgKGxvZ291dEJ1dHRvbikge1xuICAgIGxvZ291dEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGxvZ291dEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBmZXRjaCgnL2FwaS9sb2dvdXQnLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbYWRtaW5dIEltcG9zc2libGUgZGUgc2UgZFx1MDBFOWNvbm5lY3RlcicsIGVycik7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvYWRtaW4vaW5kZXguaHRtbCc7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBjb25zdCBzaWRlYmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRtaW4tc2lkZWJhcl0nKTtcbiAgY29uc3Qgc2lkZWJhck92ZXJsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZG1pbi1zaWRlYmFyLW92ZXJsYXldJyk7XG4gIGNvbnN0IHNpZGViYXJUb2dnbGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYWRtaW4tc2lkZWJhci10b2dnbGVdJyk7XG4gIGNvbnN0IHNpZGViYXJDbG9zZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1hZG1pbi1zaWRlYmFyLWNsb3NlXScpO1xuICBjb25zdCBib2R5ID0gZG9jdW1lbnQuYm9keTtcbiAgbGV0IHNpZGViYXJPcGVuID0gZmFsc2U7XG5cbiAgY29uc3QgYXBwbHlTaWRlYmFyU3RhdGUgPSAoKSA9PiB7XG4gICAgaWYgKCFzaWRlYmFyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGlzRGVza3RvcCA9IHdpbmRvdy5tYXRjaE1lZGlhKCcobWluLXdpZHRoOiAxMDI0cHgpJykubWF0Y2hlcztcbiAgICBpZiAoaXNEZXNrdG9wKSB7XG4gICAgICBzaWRlYmFyLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgc2lkZWJhck92ZXJsYXk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHNpZGViYXJPcGVuKSB7XG4gICAgICBzaWRlYmFyLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgc2lkZWJhck92ZXJsYXk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgYm9keS5jbGFzc0xpc3QuYWRkKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2lkZWJhci5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIHNpZGViYXJPdmVybGF5Py5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnb3ZlcmZsb3ctaGlkZGVuJyk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IG9wZW5TaWRlYmFyID0gKCkgPT4ge1xuICAgIHNpZGViYXJPcGVuID0gdHJ1ZTtcbiAgICBhcHBseVNpZGViYXJTdGF0ZSgpO1xuICB9O1xuXG4gIGNvbnN0IGNsb3NlU2lkZWJhciA9ICgpID0+IHtcbiAgICBzaWRlYmFyT3BlbiA9IGZhbHNlO1xuICAgIGFwcGx5U2lkZWJhclN0YXRlKCk7XG4gIH07XG5cbiAgaWYgKHNpZGViYXIgJiYgc2lkZWJhclRvZ2dsZXMubGVuZ3RoID4gMCkge1xuICAgIHNpZGViYXJUb2dnbGVzLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlblNpZGViYXIpO1xuICAgIH0pO1xuICAgIHNpZGViYXJDbG9zZUJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZVNpZGViYXIpO1xuICAgIH0pO1xuICAgIHNpZGViYXJPdmVybGF5Py5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlU2lkZWJhcik7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGFwcGx5U2lkZWJhclN0YXRlKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VzY2FwZScgJiYgc2lkZWJhck9wZW4pIHtcbiAgICAgICAgY2xvc2VTaWRlYmFyKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgYXBwbHlTaWRlYmFyU3RhdGUoKTtcbiAgfVxuXG4gIGNvbnN0IEFDVElWRV9TSVRFX0tFWSA9ICdjbG93ZXI6Y3VycmVudFNpdGUnO1xuICBjb25zdCBBQ1RJVkVfU0lURV9OQU1FX0tFWSA9ICdjbG93ZXI6Y3VycmVudFNpdGVOYW1lJztcbiAgY29uc3Qgc3RvcmVkU2l0ZSA9IHsgc2x1ZzogbnVsbCwgbmFtZTogJycgfTtcbiAgY29uc3QgbG9hZFN0b3JlZFNpdGUgPSAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJhd1NsdWcgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oQUNUSVZFX1NJVEVfS0VZKTtcbiAgICAgIHN0b3JlZFNpdGUuc2x1ZyA9IHJhd1NsdWcgPyBlbnN1cmVMZWFkaW5nU2xhc2goc3RyaXBMZWFkaW5nU2xhc2gocmF3U2x1ZykpIDogbnVsbDtcbiAgICAgIHN0b3JlZFNpdGUubmFtZSA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShBQ1RJVkVfU0lURV9OQU1FX0tFWSkgfHwgJyc7XG4gICAgfSBjYXRjaCB7XG4gICAgICBzdG9yZWRTaXRlLnNsdWcgPSBudWxsO1xuICAgICAgc3RvcmVkU2l0ZS5uYW1lID0gJyc7XG4gICAgfVxuICB9O1xuICBsb2FkU3RvcmVkU2l0ZSgpO1xuXG4gIGNvbnN0IHNpdGVDYXJkcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXNpdGUtY2FyZF0nKTtcbiAgY29uc3Qgc2l0ZVNlbGVjdEJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1zaXRlLXNlbGVjdF0nKTtcbiAgY29uc3Qgc2l0ZU5hbWVMYWJlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWN1cnJlbnQtc2l0ZS1uYW1lXScpO1xuICBjb25zdCB3b3Jrc3BhY2VTaXRlTGFiZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS13b3Jrc3BhY2Utc2l0ZS1uYW1lXScpO1xuICBjb25zdCB3b3Jrc3BhY2VCYWNrTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXdvcmtzcGFjZS1iYWNrLW5hbWVdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZUJhY2tNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXdvcmtzcGFjZS1iYWNrLW1vZGFsXScpO1xuICBjb25zdCB3b3Jrc3BhY2VCYWNrQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXdvcmtzcGFjZS1iYWNrXScpO1xuICBjb25zdCB3b3Jrc3BhY2VCYWNrQ2FuY2VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtd29ya3NwYWNlLWJhY2stY2FuY2VsXScpO1xuICBjb25zdCB3b3Jrc3BhY2VCYWNrQ29uZmlybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXdvcmtzcGFjZS1iYWNrLWNvbmZpcm1dJyk7XG4gIGNvbnN0IHdvcmtzcGFjZU5hdkxpbmtzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtd29ya3NwYWNlLXRhYl0nKTtcbiAgY29uc3Qgc2l0ZVRvYXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS10b2FzdF0nKTtcbiAgY29uc3Qgc2l0ZVRvYXN0TWVzc2FnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtdG9hc3QtbWVzc2FnZV0nKTtcbiAgY29uc3Qgc2l0ZUNyZWF0ZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1zaXRlLWNyZWF0ZV0nKTtcbiAgY29uc3Qgc2l0ZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS1tb2RhbF0nKTtcbiAgY29uc3Qgc2l0ZUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLWZvcm1dJyk7XG4gIC8vIFVzZSBtb3JlIHNwZWNpZmljIHNlbGVjdG9ycyB0byBnZXQgaW5wdXRzIElOU0lERSB0aGUgZm9ybSwgbm90IHNpdGUgY2FyZHNcbiAgY29uc3Qgc2l0ZU5hbWVJbnB1dCA9IHNpdGVGb3JtPy5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPVwic2l0ZU5hbWVcIl0nKTtcbiAgY29uc3Qgc2l0ZVNsdWdJbnB1dCA9IHNpdGVGb3JtPy5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPVwic2l0ZVNsdWdcIl0nKTtcbiAgY29uc3Qgc2l0ZVNsdWdFcnJvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtc2x1Zy1lcnJvcl0nKTtcbiAgY29uc3Qgc2l0ZU1vZGFsRXJyb3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLW1vZGFsLWVycm9yXScpO1xuICBjb25zdCBzaXRlTW9kYWxDYW5jZWxCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtc2l0ZS1tb2RhbC1jYW5jZWxdJyk7XG4gIGNvbnN0IHNpdGVNb2RhbFN1Ym1pdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtbW9kYWwtc3VibWl0XScpO1xuICBjb25zdCB3b3Jrc3BhY2VDb250ZXh0ID0gZ2V0V29ya3NwYWNlQ29udGV4dCgpO1xuICBsZXQgc2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gIGxldCB0b2FzdFRpbWVvdXRJZCA9IG51bGw7XG5cbiAgY29uc3QgZm9jdXNhYmxlU2VsZWN0b3IgPVxuICAgICdhW2hyZWZdLCBidXR0b246bm90KFtkaXNhYmxlZF0pLCB0ZXh0YXJlYSwgaW5wdXQsIHNlbGVjdCwgW3RhYmluZGV4XTpub3QoW3RhYmluZGV4PVwiLTFcIl0pJztcbiAgY29uc3QgbW9kYWxTdGFjayA9IFtdO1xuICBjb25zdCBnZXRGb2N1c2FibGVFbGVtZW50cyA9IChtb2RhbCkgPT5cbiAgICBBcnJheS5mcm9tKG1vZGFsLnF1ZXJ5U2VsZWN0b3JBbGwoZm9jdXNhYmxlU2VsZWN0b3IpKS5maWx0ZXIoXG4gICAgICAoZWwpID0+ICFlbC5oYXNBdHRyaWJ1dGUoJ2Rpc2FibGVkJykgJiYgIWVsLmdldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nKSxcbiAgICApO1xuICBjb25zdCBoYW5kbGVNb2RhbEtleWRvd24gPSAoZXZlbnQpID0+IHtcbiAgICBpZiAoIW1vZGFsU3RhY2subGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGN1cnJlbnRFbnRyeSA9IG1vZGFsU3RhY2tbbW9kYWxTdGFjay5sZW5ndGggLSAxXTtcbiAgICBjb25zdCB7IG1vZGFsLCBvbkNsb3NlIH0gPSBjdXJyZW50RW50cnk7XG4gICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBvbkNsb3NlPy4oKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGV2ZW50LmtleSAhPT0gJ1RhYicpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZm9jdXNhYmxlRWxlbWVudHMgPSBnZXRGb2N1c2FibGVFbGVtZW50cyhtb2RhbCk7XG4gICAgaWYgKCFmb2N1c2FibGVFbGVtZW50cy5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZmlyc3QgPSBmb2N1c2FibGVFbGVtZW50c1swXTtcbiAgICBjb25zdCBsYXN0ID0gZm9jdXNhYmxlRWxlbWVudHNbZm9jdXNhYmxlRWxlbWVudHMubGVuZ3RoIC0gMV07XG4gICAgaWYgKGV2ZW50LnNoaWZ0S2V5KSB7XG4gICAgICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gZmlyc3QpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgbGFzdC5mb2N1cygpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gbGFzdCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGZpcnN0LmZvY3VzKCk7XG4gICAgfVxuICB9O1xuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlTW9kYWxLZXlkb3duKTtcbiAgY29uc3QgYWN0aXZhdGVNb2RhbCA9IChtb2RhbCwgb25DbG9zZSkgPT4ge1xuICAgIGlmICghbW9kYWwpIHJldHVybjtcbiAgICBtb2RhbFN0YWNrLnB1c2goe1xuICAgICAgbW9kYWwsXG4gICAgICBvbkNsb3NlLFxuICAgICAgdHJpZ2dlcjogZG9jdW1lbnQuYWN0aXZlRWxlbWVudCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ID8gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA6IG51bGwsXG4gICAgfSk7XG4gICAgY29uc3QgZm9jdXNhYmxlID0gZ2V0Rm9jdXNhYmxlRWxlbWVudHMobW9kYWwpO1xuICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIChmb2N1c2FibGVbMF0gfHwgbW9kYWwpLmZvY3VzPy4oKTtcbiAgICB9LCAwKTtcbiAgfTtcbiAgY29uc3QgZGVhY3RpdmF0ZU1vZGFsID0gKG1vZGFsKSA9PiB7XG4gICAgY29uc3QgaW5kZXggPSBtb2RhbFN0YWNrLmZpbmRJbmRleCgoZW50cnkpID0+IGVudHJ5Lm1vZGFsID09PSBtb2RhbCk7XG4gICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBbZW50cnldID0gbW9kYWxTdGFjay5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIGVudHJ5LnRyaWdnZXI/LmZvY3VzPy4oKTtcbiAgfTtcbiAgY29uc3QgbW9iaWxlUGFuZWxPdmVybGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbW9iaWxlLXBhbmVscy1vdmVybGF5XScpO1xuICBjb25zdCBtb2JpbGVQYW5lbExheWVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbW9iaWxlLXBhbmVscy1sYXllcl0nKTtcbiAgY29uc3QgbW9iaWxlUGFuZWxzID0ge1xuICAgIGxlZnQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1vYmlsZS1wYW5lbD1cImxlZnRcIl0nKSxcbiAgICByaWdodDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbW9iaWxlLXBhbmVsPVwicmlnaHRcIl0nKSxcbiAgfTtcbiAgbGV0IG1vYmlsZVBhbmVsTGF5ZXJQbGFjZWhvbGRlciA9IG51bGw7XG4gIGlmIChtb2JpbGVQYW5lbExheWVyPy5wYXJlbnRFbGVtZW50KSB7XG4gICAgbW9iaWxlUGFuZWxMYXllclBsYWNlaG9sZGVyID0gZG9jdW1lbnQuY3JlYXRlQ29tbWVudCgnbW9iaWxlLXBhbmVscy1sYXllci1wbGFjZWhvbGRlcicpO1xuICAgIG1vYmlsZVBhbmVsTGF5ZXIucGFyZW50RWxlbWVudC5pbnNlcnRCZWZvcmUobW9iaWxlUGFuZWxMYXllclBsYWNlaG9sZGVyLCBtb2JpbGVQYW5lbExheWVyKTtcbiAgfVxuICBsZXQgcmlnaHRQYW5lbFBsYWNlaG9sZGVyID0gbnVsbDtcbiAgaWYgKG1vYmlsZVBhbmVscy5yaWdodD8ucGFyZW50RWxlbWVudCkge1xuICAgIHJpZ2h0UGFuZWxQbGFjZWhvbGRlciA9IGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoJ21vYmlsZS1wYW5lbC1yaWdodC1wbGFjZWhvbGRlcicpO1xuICAgIG1vYmlsZVBhbmVscy5yaWdodC5wYXJlbnRFbGVtZW50Lmluc2VydEJlZm9yZShyaWdodFBhbmVsUGxhY2Vob2xkZXIsIG1vYmlsZVBhbmVscy5yaWdodCk7XG4gIH1cbiAgY29uc3QgbW9iaWxlUGFuZWxUb2dnbGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtbW9iaWxlLXBhbmVsLXRvZ2dsZV0nKTtcbiAgY29uc3QgbW9iaWxlUGFuZWxDbG9zZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1tb2JpbGUtcGFuZWwtY2xvc2VdJyk7XG4gIGNvbnN0IG1vYmlsZVBhbmVsVHJpZ2dlcnMgPSB7IGxlZnQ6IG51bGwsIHJpZ2h0OiBudWxsIH07XG4gIGxldCBhY3RpdmVNb2JpbGVQYW5lbCA9IG51bGw7XG4gIGNvbnN0IGlzRGVza3RvcFZpZXdwb3J0ID0gKCkgPT4gd2luZG93Lm1hdGNoTWVkaWEoJyhtaW4td2lkdGg6IDEwMjRweCknKS5tYXRjaGVzO1xuICBjb25zdCBlbnN1cmVNb2JpbGVQYW5lbExheWVyUGxhY2VtZW50ID0gKCkgPT4ge1xuICAgIGlmICghbW9iaWxlUGFuZWxMYXllciB8fCAhbW9iaWxlUGFuZWxMYXllclBsYWNlaG9sZGVyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChpc0Rlc2t0b3BWaWV3cG9ydCgpKSB7XG4gICAgICBjb25zdCB0YXJnZXRQYXJlbnQgPSBtb2JpbGVQYW5lbExheWVyUGxhY2Vob2xkZXIucGFyZW50RWxlbWVudDtcbiAgICAgIGlmICghdGFyZ2V0UGFyZW50KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChtb2JpbGVQYW5lbExheWVyLnBhcmVudEVsZW1lbnQgIT09IHRhcmdldFBhcmVudCkge1xuICAgICAgICB0YXJnZXRQYXJlbnQuaW5zZXJ0QmVmb3JlKG1vYmlsZVBhbmVsTGF5ZXIsIG1vYmlsZVBhbmVsTGF5ZXJQbGFjZWhvbGRlci5uZXh0U2libGluZyk7XG4gICAgICB9IGVsc2UgaWYgKG1vYmlsZVBhbmVsTGF5ZXJQbGFjZWhvbGRlci5uZXh0U2libGluZyAhPT0gbW9iaWxlUGFuZWxMYXllcikge1xuICAgICAgICB0YXJnZXRQYXJlbnQuaW5zZXJ0QmVmb3JlKG1vYmlsZVBhbmVsTGF5ZXIsIG1vYmlsZVBhbmVsTGF5ZXJQbGFjZWhvbGRlci5uZXh0U2libGluZyk7XG4gICAgICB9XG4gICAgICBtb2JpbGVQYW5lbExheWVyLmRhdGFzZXQubW9iaWxlUGFuZWxQbGFjZW1lbnQgPSAnc2lkZWJhcic7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChtb2JpbGVQYW5lbExheWVyLnBhcmVudEVsZW1lbnQgIT09IGRvY3VtZW50LmJvZHkpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobW9iaWxlUGFuZWxMYXllcik7XG4gICAgICBtb2JpbGVQYW5lbExheWVyLmRhdGFzZXQubW9iaWxlUGFuZWxQbGFjZW1lbnQgPSAnb3ZlcmxheSc7XG4gICAgfVxuICB9O1xuICBjb25zdCBlbnN1cmVSaWdodFBhbmVsUGxhY2VtZW50ID0gKCkgPT4ge1xuICAgIGNvbnN0IHBhbmVsID0gbW9iaWxlUGFuZWxzLnJpZ2h0O1xuICAgIGlmICghcGFuZWwgfHwgIXJpZ2h0UGFuZWxQbGFjZWhvbGRlcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoaXNEZXNrdG9wVmlld3BvcnQoKSkge1xuICAgICAgY29uc3QgdGFyZ2V0UGFyZW50ID0gcmlnaHRQYW5lbFBsYWNlaG9sZGVyLnBhcmVudEVsZW1lbnQ7XG4gICAgICBpZiAoIXRhcmdldFBhcmVudCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAocGFuZWwucGFyZW50RWxlbWVudCAhPT0gdGFyZ2V0UGFyZW50KSB7XG4gICAgICAgIHRhcmdldFBhcmVudC5pbnNlcnRCZWZvcmUocGFuZWwsIHJpZ2h0UGFuZWxQbGFjZWhvbGRlci5uZXh0U2libGluZyk7XG4gICAgICB9IGVsc2UgaWYgKHJpZ2h0UGFuZWxQbGFjZWhvbGRlci5uZXh0U2libGluZyAhPT0gcGFuZWwpIHtcbiAgICAgICAgdGFyZ2V0UGFyZW50Lmluc2VydEJlZm9yZShwYW5lbCwgcmlnaHRQYW5lbFBsYWNlaG9sZGVyLm5leHRTaWJsaW5nKTtcbiAgICAgIH1cbiAgICAgIHBhbmVsLmRhdGFzZXQubW9iaWxlUGFuZWxQbGFjZW1lbnQgPSAnc2lkZWJhcic7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChtb2JpbGVQYW5lbExheWVyKSB7XG4gICAgICBjb25zdCBsZWZ0UGFuZWwgPSBtb2JpbGVQYW5lbHMubGVmdDtcbiAgICAgIGlmIChsZWZ0UGFuZWwgJiYgbGVmdFBhbmVsLnBhcmVudEVsZW1lbnQgPT09IG1vYmlsZVBhbmVsTGF5ZXIpIHtcbiAgICAgICAgaWYgKHBhbmVsLnBhcmVudEVsZW1lbnQgIT09IG1vYmlsZVBhbmVsTGF5ZXIgfHwgcGFuZWwucHJldmlvdXNTaWJsaW5nICE9PSBsZWZ0UGFuZWwpIHtcbiAgICAgICAgICBtb2JpbGVQYW5lbExheWVyLmluc2VydEJlZm9yZShwYW5lbCwgbGVmdFBhbmVsLm5leHRTaWJsaW5nKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChwYW5lbC5wYXJlbnRFbGVtZW50ICE9PSBtb2JpbGVQYW5lbExheWVyKSB7XG4gICAgICAgIG1vYmlsZVBhbmVsTGF5ZXIuYXBwZW5kQ2hpbGQocGFuZWwpO1xuICAgICAgfVxuICAgICAgcGFuZWwuZGF0YXNldC5tb2JpbGVQYW5lbFBsYWNlbWVudCA9ICdvdmVybGF5JztcbiAgICB9IGVsc2UgaWYgKHBhbmVsLnBhcmVudEVsZW1lbnQgIT09IGRvY3VtZW50LmJvZHkpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQocGFuZWwpO1xuICAgICAgcGFuZWwuZGF0YXNldC5tb2JpbGVQYW5lbFBsYWNlbWVudCA9ICdvdmVybGF5JztcbiAgICB9XG4gIH07XG4gIGNvbnN0IGVuc3VyZU1vYmlsZVBhbmVsUGxhY2VtZW50ID0gKCkgPT4ge1xuICAgIGVuc3VyZU1vYmlsZVBhbmVsTGF5ZXJQbGFjZW1lbnQoKTtcbiAgICBlbnN1cmVSaWdodFBhbmVsUGxhY2VtZW50KCk7XG4gIH07XG4gIGVuc3VyZU1vYmlsZVBhbmVsUGxhY2VtZW50KCk7XG4gIGNvbnN0IHBhbmVsRGVmYXVsdFogPSB7fTtcbiAgT2JqZWN0LmVudHJpZXMobW9iaWxlUGFuZWxzKS5mb3JFYWNoKChbc2lkZSwgcGFuZWxdKSA9PiB7XG4gICAgaWYgKCFwYW5lbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBjb21wdXRlZFogPSBOdW1iZXIod2luZG93LmdldENvbXB1dGVkU3R5bGUocGFuZWwpLnpJbmRleCkgfHwgMDtcbiAgICBwYW5lbERlZmF1bHRaW3NpZGVdID0gY29tcHV0ZWRaO1xuICB9KTtcbiAgY29uc3QgbWF4RGVmYXVsdFogPVxuICAgIE9iamVjdC52YWx1ZXMocGFuZWxEZWZhdWx0WikucmVkdWNlKChtYXgsIHZhbHVlKSA9PiBNYXRoLm1heChtYXgsIHZhbHVlIHx8IDApLCAwKSB8fCAxNTA7XG4gIGNvbnN0IGFjdGl2ZVBhbmVsWiA9IG1heERlZmF1bHRaICsgNTtcbiAgY29uc3Qgc2V0UGFuZWxaU3RhdGUgPSAoc2lkZSwgaXNBY3RpdmUpID0+IHtcbiAgICBjb25zdCBwYW5lbCA9IG1vYmlsZVBhbmVsc1tzaWRlXTtcbiAgICBpZiAoIXBhbmVsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChpc0Rlc2t0b3BWaWV3cG9ydCgpKSB7XG4gICAgICBwYW5lbC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnei1pbmRleCcpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoaXNBY3RpdmUpIHtcbiAgICAgIHBhbmVsLnN0eWxlLnpJbmRleCA9IFN0cmluZyhhY3RpdmVQYW5lbFopO1xuICAgIH0gZWxzZSBpZiAocGFuZWxEZWZhdWx0WltzaWRlXSkge1xuICAgICAgcGFuZWwuc3R5bGUuekluZGV4ID0gU3RyaW5nKHBhbmVsRGVmYXVsdFpbc2lkZV0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBwYW5lbC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnei1pbmRleCcpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgYXBwbHlQYW5lbENsYXNzZXMgPSAocGFuZWwsIGNsYXNzZXMsIG1ldGhvZCkgPT4ge1xuICAgIGlmICghcGFuZWwgfHwgIWNsYXNzZXMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY2xhc3Nlc1xuICAgICAgLnNwbGl0KCcgJylcbiAgICAgIC5tYXAoKGNscykgPT4gY2xzLnRyaW0oKSlcbiAgICAgIC5maWx0ZXIoQm9vbGVhbilcbiAgICAgIC5mb3JFYWNoKChjbHMpID0+IHBhbmVsLmNsYXNzTGlzdFttZXRob2RdKGNscykpO1xuICB9O1xuICBjb25zdCBzZXRQYW5lbEhpZGRlblN0YXRlID0gKHBhbmVsLCBoaWRkZW4pID0+IHtcbiAgICBpZiAoIXBhbmVsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGhpZGRlbkNsYXNzZXMgPSBwYW5lbC5kYXRhc2V0Lm1vYmlsZVBhbmVsSGlkZGVuIHx8ICcnO1xuICAgIGNvbnN0IHZpc2libGVDbGFzc2VzID0gcGFuZWwuZGF0YXNldC5tb2JpbGVQYW5lbFZpc2libGUgfHwgJ3RyYW5zbGF0ZS14LTAnO1xuICAgIGlmIChoaWRkZW4pIHtcbiAgICAgIGFwcGx5UGFuZWxDbGFzc2VzKHBhbmVsLCB2aXNpYmxlQ2xhc3NlcywgJ3JlbW92ZScpO1xuICAgICAgYXBwbHlQYW5lbENsYXNzZXMocGFuZWwsIGhpZGRlbkNsYXNzZXMsICdhZGQnKTtcbiAgICAgIHBhbmVsLmNsYXNzTGlzdC5hZGQoJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICAgIHBhbmVsLmNsYXNzTGlzdC5yZW1vdmUoJ3BvaW50ZXItZXZlbnRzLWF1dG8nKTtcbiAgICAgIHBhbmVsLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuICAgICAgcGFuZWwuZGF0YXNldC5tb2JpbGVQYW5lbE9wZW4gPSAnZmFsc2UnO1xuICAgIH0gZWxzZSB7XG4gICAgICBhcHBseVBhbmVsQ2xhc3NlcyhwYW5lbCwgaGlkZGVuQ2xhc3NlcywgJ3JlbW92ZScpO1xuICAgICAgYXBwbHlQYW5lbENsYXNzZXMocGFuZWwsIHZpc2libGVDbGFzc2VzLCAnYWRkJyk7XG4gICAgICBwYW5lbC5jbGFzc0xpc3QucmVtb3ZlKCdwb2ludGVyLWV2ZW50cy1ub25lJyk7XG4gICAgICBwYW5lbC5jbGFzc0xpc3QuYWRkKCdwb2ludGVyLWV2ZW50cy1hdXRvJyk7XG4gICAgICBwYW5lbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ2ZhbHNlJyk7XG4gICAgICBwYW5lbC5kYXRhc2V0Lm1vYmlsZVBhbmVsT3BlbiA9ICd0cnVlJztcbiAgICB9XG4gIH07XG4gIGNvbnN0IGNsb3NlTW9iaWxlUGFuZWwgPSAoc2lkZSA9IGFjdGl2ZU1vYmlsZVBhbmVsKSA9PiB7XG4gICAgaWYgKCFzaWRlIHx8IGlzRGVza3RvcFZpZXdwb3J0KCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcGFuZWwgPSBtb2JpbGVQYW5lbHNbc2lkZV07XG4gICAgaWYgKCFwYW5lbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzZXRQYW5lbFpTdGF0ZShzaWRlLCBmYWxzZSk7XG4gICAgc2V0UGFuZWxIaWRkZW5TdGF0ZShwYW5lbCwgdHJ1ZSk7XG4gICAgY29uc3QgdHJpZ2dlciA9IG1vYmlsZVBhbmVsVHJpZ2dlcnNbc2lkZV07XG4gICAgaWYgKHRyaWdnZXIpIHtcbiAgICAgIHRyaWdnZXIuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJyk7XG4gICAgfVxuICAgIG1vYmlsZVBhbmVsVHJpZ2dlcnNbc2lkZV0gPSBudWxsO1xuICAgIGlmIChhY3RpdmVNb2JpbGVQYW5lbCA9PT0gc2lkZSkge1xuICAgICAgbW9iaWxlUGFuZWxPdmVybGF5Py5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIG1vYmlsZVBhbmVsT3ZlcmxheT8uY2xhc3NMaXN0LnJlbW92ZSgncG9pbnRlci1ldmVudHMtYXV0bycpO1xuICAgICAgbW9iaWxlUGFuZWxPdmVybGF5Py5jbGFzc0xpc3QuYWRkKCdwb2ludGVyLWV2ZW50cy1ub25lJyk7XG4gICAgICBtb2JpbGVQYW5lbE92ZXJsYXk/LnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuICAgICAgbW9iaWxlUGFuZWxMYXllcj8uY2xhc3NMaXN0LmFkZCgncG9pbnRlci1ldmVudHMtbm9uZScpO1xuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICAgIHRyaWdnZXI/LmZvY3VzPy4oKTtcbiAgICAgIGFjdGl2ZU1vYmlsZVBhbmVsID0gbnVsbDtcbiAgICB9XG4gIH07XG4gIGNvbnN0IG9wZW5Nb2JpbGVQYW5lbCA9IChzaWRlLCB0cmlnZ2VyKSA9PiB7XG4gICAgaWYgKCFzaWRlIHx8IGlzRGVza3RvcFZpZXdwb3J0KCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcGFuZWwgPSBtb2JpbGVQYW5lbHNbc2lkZV07XG4gICAgaWYgKCFwYW5lbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoYWN0aXZlTW9iaWxlUGFuZWwgJiYgYWN0aXZlTW9iaWxlUGFuZWwgIT09IHNpZGUpIHtcbiAgICAgIGNsb3NlTW9iaWxlUGFuZWwoYWN0aXZlTW9iaWxlUGFuZWwpO1xuICAgIH1cbiAgICBzZXRQYW5lbEhpZGRlblN0YXRlKHBhbmVsLCBmYWxzZSk7XG4gICAgc2V0UGFuZWxaU3RhdGUoc2lkZSwgdHJ1ZSk7XG4gICAgYWN0aXZlTW9iaWxlUGFuZWwgPSBzaWRlO1xuICAgIG1vYmlsZVBhbmVsVHJpZ2dlcnNbc2lkZV0gPSB0cmlnZ2VyIHx8IG51bGw7XG4gICAgaWYgKHRyaWdnZXIpIHtcbiAgICAgIHRyaWdnZXIuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ3RydWUnKTtcbiAgICB9XG4gICAgbW9iaWxlUGFuZWxPdmVybGF5Py5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nLCAncG9pbnRlci1ldmVudHMtbm9uZScpO1xuICAgIG1vYmlsZVBhbmVsT3ZlcmxheT8uY2xhc3NMaXN0LmFkZCgncG9pbnRlci1ldmVudHMtYXV0bycpO1xuICAgIG1vYmlsZVBhbmVsT3ZlcmxheT8uc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICdmYWxzZScpO1xuICAgIG1vYmlsZVBhbmVsTGF5ZXI/LmNsYXNzTGlzdC5yZW1vdmUoJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ292ZXJmbG93LWhpZGRlbicpO1xuICAgIGNvbnN0IGZvY3VzVGFyZ2V0ID0gcGFuZWwucXVlcnlTZWxlY3Rvcihmb2N1c2FibGVTZWxlY3Rvcik7XG4gICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgZm9jdXNUYXJnZXQ/LmZvY3VzPy4oKTtcbiAgICB9LCAwKTtcbiAgfTtcbiAgY29uc3Qgc3luY01vYmlsZVBhbmVsc1dpdGhWaWV3cG9ydCA9ICgpID0+IHtcbiAgICBlbnN1cmVNb2JpbGVQYW5lbFBsYWNlbWVudCgpO1xuICAgIGlmIChpc0Rlc2t0b3BWaWV3cG9ydCgpKSB7XG4gICAgICBtb2JpbGVQYW5lbE92ZXJsYXk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgbW9iaWxlUGFuZWxMYXllcj8uY2xhc3NMaXN0LmFkZCgncG9pbnRlci1ldmVudHMtbm9uZScpO1xuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICAgIGFjdGl2ZU1vYmlsZVBhbmVsID0gbnVsbDtcbiAgICAgIE9iamVjdC5rZXlzKG1vYmlsZVBhbmVscykuZm9yRWFjaCgoc2lkZSkgPT4ge1xuICAgICAgICBjb25zdCBwYW5lbCA9IG1vYmlsZVBhbmVsc1tzaWRlXTtcbiAgICAgICAgaWYgKCFwYW5lbCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzZXRQYW5lbFpTdGF0ZShzaWRlLCBmYWxzZSk7XG4gICAgICAgIHBhbmVsLmNsYXNzTGlzdC5yZW1vdmUoJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICAgICAgcGFuZWwuY2xhc3NMaXN0LmFkZCgncG9pbnRlci1ldmVudHMtYXV0bycpO1xuICAgICAgICBwYW5lbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ2ZhbHNlJyk7XG4gICAgICAgIHBhbmVsLmRhdGFzZXQubW9iaWxlUGFuZWxPcGVuID0gJ2ZhbHNlJztcbiAgICAgICAgY29uc3QgdHJpZ2dlciA9IG1vYmlsZVBhbmVsVHJpZ2dlcnNbc2lkZV07XG4gICAgICAgIHRyaWdnZXI/LnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsICdmYWxzZScpO1xuICAgICAgICBtb2JpbGVQYW5lbFRyaWdnZXJzW3NpZGVdID0gbnVsbDtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBPYmplY3QuZW50cmllcyhtb2JpbGVQYW5lbHMpLmZvckVhY2goKFtzaWRlLCBwYW5lbF0pID0+IHtcbiAgICAgICAgaWYgKCFwYW5lbCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFuZWwuZGF0YXNldC5tb2JpbGVQYW5lbE9wZW4gIT09ICd0cnVlJykge1xuICAgICAgICAgIHNldFBhbmVsSGlkZGVuU3RhdGUocGFuZWwsIHRydWUpO1xuICAgICAgICAgIHNldFBhbmVsWlN0YXRlKHNpZGUsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoIWFjdGl2ZU1vYmlsZVBhbmVsKSB7XG4gICAgICAgIG1vYmlsZVBhbmVsT3ZlcmxheT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJywgJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICAgICAgbW9iaWxlUGFuZWxPdmVybGF5Py5jbGFzc0xpc3QucmVtb3ZlKCdwb2ludGVyLWV2ZW50cy1hdXRvJyk7XG4gICAgICAgIG1vYmlsZVBhbmVsT3ZlcmxheT8uc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJyk7XG4gICAgICAgIG1vYmlsZVBhbmVsTGF5ZXI/LmNsYXNzTGlzdC5hZGQoJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIGlmIChtb2JpbGVQYW5lbFRvZ2dsZXMubGVuZ3RoID4gMCkge1xuICAgIG1vYmlsZVBhbmVsVG9nZ2xlcy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICAgIGNvbnN0IHNpZGUgPSBidXR0b24uZGF0YXNldC5tb2JpbGVQYW5lbFRvZ2dsZTtcbiAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgaWYgKGFjdGl2ZU1vYmlsZVBhbmVsID09PSBzaWRlKSB7XG4gICAgICAgICAgY2xvc2VNb2JpbGVQYW5lbChzaWRlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvcGVuTW9iaWxlUGFuZWwoc2lkZSwgYnV0dG9uKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgbW9iaWxlUGFuZWxDbG9zZUJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICBjb25zdCBzaWRlID0gYnV0dG9uLmRhdGFzZXQubW9iaWxlUGFuZWxDbG9zZTtcbiAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGNsb3NlTW9iaWxlUGFuZWwoc2lkZSkpO1xuICAgIH0pO1xuICAgIG1vYmlsZVBhbmVsT3ZlcmxheT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBjbG9zZU1vYmlsZVBhbmVsKCkpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQua2V5ID09PSAnRXNjYXBlJyAmJiBhY3RpdmVNb2JpbGVQYW5lbCAmJiAhaXNEZXNrdG9wVmlld3BvcnQoKSkge1xuICAgICAgICBjbG9zZU1vYmlsZVBhbmVsKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHN5bmNNb2JpbGVQYW5lbHNXaXRoVmlld3BvcnQpO1xuICAgIHN5bmNNb2JpbGVQYW5lbHNXaXRoVmlld3BvcnQoKTtcbiAgfVxuXG4gIGNvbnN0IHNob3dUb2FzdCA9IChtZXNzYWdlKSA9PiB7XG4gICAgaWYgKCFzaXRlVG9hc3QgfHwgIXNpdGVUb2FzdE1lc3NhZ2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2l0ZVRvYXN0TWVzc2FnZS50ZXh0Q29udGVudCA9IG1lc3NhZ2U7XG4gICAgc2l0ZVRvYXN0LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgIGlmICh0b2FzdFRpbWVvdXRJZCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRvYXN0VGltZW91dElkKTtcbiAgICB9XG4gICAgdG9hc3RUaW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHNpdGVUb2FzdC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICB9LCAyNTAwKTtcbiAgfTtcblxuICBjb25zdCBpbml0TWVkaWFQaWNrZXIgPSAoKSA9PiB7XG4gICAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1waWNrZXItbW9kYWxdJyk7XG4gICAgaWYgKCFtb2RhbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBjbG9zZUJ1dHRvbnMgPSBtb2RhbC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1tZWRpYS1waWNrZXItY2xvc2VdJyk7XG4gICAgY29uc3Qgc2VhcmNoSW5wdXQgPSBtb2RhbC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1waWNrZXItc2VhcmNoXScpO1xuICAgIGNvbnN0IGVtcHR5U3RhdGUgPSBtb2RhbC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1waWNrZXItZW1wdHldJyk7XG4gICAgY29uc3QgZ3JpZCA9IG1vZGFsLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLXBpY2tlci1ncmlkXScpO1xuICAgIGlmICghZ3JpZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGdldEFjdGl2ZVNpdGVTbHVnVmFsdWUgPSAoKSA9PlxuICAgICAgc3RyaXBMZWFkaW5nU2xhc2god29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyk7XG4gICAgY29uc3QgZ2V0TWVkaWFBcGlCYXNlID0gKCkgPT4ge1xuICAgICAgY29uc3Qgc2x1ZyA9IGdldEFjdGl2ZVNpdGVTbHVnVmFsdWUoKTtcbiAgICAgIHJldHVybiBzbHVnID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2x1Zyl9L21lZGlhYCA6IG51bGw7XG4gICAgfTtcblxuICAgIGNvbnN0IGlzSW1hZ2VJdGVtID0gKGl0ZW0pID0+IHtcbiAgICAgIGNvbnN0IHR5cGUgPSAoaXRlbT8udHlwZSB8fCAnJykudG9Mb3dlckNhc2UoKTtcbiAgICAgIGlmICh0eXBlLnN0YXJ0c1dpdGgoJ2ltYWdlLycpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgY29uc3QgZmlsZW5hbWUgPSBpdGVtPy5maWxlbmFtZSB8fCAnJztcbiAgICAgIHJldHVybiAvXFwuKHBuZ3xqcGU/Z3x3ZWJwfHN2Z3xnaWYpJC9pLnRlc3QoZmlsZW5hbWUpO1xuICAgIH07XG5cbiAgICBsZXQgY2FjaGVkU2x1ZyA9IG51bGw7XG4gICAgbGV0IG1lZGlhSXRlbXMgPSBbXTtcbiAgICBsZXQgYWN0aXZlVGFyZ2V0SW5wdXQgPSBudWxsO1xuXG4gICAgY29uc3Qgc2V0VGFyZ2V0VmFsdWUgPSAodmFsdWUpID0+IHtcbiAgICAgIGlmICghYWN0aXZlVGFyZ2V0SW5wdXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYWN0aXZlVGFyZ2V0SW5wdXQudmFsdWUgPSB2YWx1ZSB8fCAnJztcbiAgICAgIGFjdGl2ZVRhcmdldElucHV0LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdpbnB1dCcsIHsgYnViYmxlczogdHJ1ZSB9KSk7XG4gICAgICBhY3RpdmVUYXJnZXRJbnB1dC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnY2hhbmdlJywgeyBidWJibGVzOiB0cnVlIH0pKTtcbiAgICB9O1xuXG4gICAgY29uc3QgY2xvc2VNb2RhbCA9ICgpID0+IHtcbiAgICAgIG1vZGFsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgbW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnZmxleCcpO1xuICAgICAgZGVhY3RpdmF0ZU1vZGFsKG1vZGFsKTtcbiAgICAgIGFjdGl2ZVRhcmdldElucHV0ID0gbnVsbDtcbiAgICAgIGlmIChzZWFyY2hJbnB1dCkge1xuICAgICAgICBzZWFyY2hJbnB1dC52YWx1ZSA9ICcnO1xuICAgICAgfVxuICAgICAgZ3JpZC5pbm5lckhUTUwgPSAnJztcbiAgICAgIGVtcHR5U3RhdGU/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgIH07XG5cbiAgICBjb25zdCByZW5kZXJHcmlkID0gKGl0ZW1zKSA9PiB7XG4gICAgICBncmlkLmlubmVySFRNTCA9ICcnO1xuICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGl0ZW1zKSB8fCBpdGVtcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgZW1wdHlTdGF0ZT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGVtcHR5U3RhdGU/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuXG4gICAgICBpdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICBidXR0b24udHlwZSA9ICdidXR0b24nO1xuICAgICAgICBidXR0b24uY2xhc3NOYW1lID1cbiAgICAgICAgICAnZ3JvdXAgb3ZlcmZsb3ctaGlkZGVuIHJvdW5kZWQteGwgYm9yZGVyIGJvcmRlci1zbGF0ZS0yMDAgYmctd2hpdGUgdGV4dC1sZWZ0IHNoYWRvdy1zbSBob3Zlcjpib3JkZXItc2xhdGUtMzAwIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1bIzlDNkJGRl0nO1xuICAgICAgICBidXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgYFNcdTAwRTlsZWN0aW9ubmVyICR7aXRlbS5maWxlbmFtZSB8fCAnbVx1MDBFOWRpYSd9YCk7XG5cbiAgICAgICAgY29uc3QgcHJldmlldyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBwcmV2aWV3LmNsYXNzTmFtZSA9ICdhc3BlY3Qtc3F1YXJlIHctZnVsbCBiZy1zbGF0ZS0xMDAnO1xuICAgICAgICBpZiAoaXNJbWFnZUl0ZW0oaXRlbSkpIHtcbiAgICAgICAgICBjb25zdCBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICAgICAgICBpbWcuc3JjID0gaXRlbS5wYXRoIHx8ICcnO1xuICAgICAgICAgIGltZy5hbHQgPSBpdGVtLmFsdCB8fCBpdGVtLmZpbGVuYW1lIHx8ICdNXHUwMEU5ZGlhJztcbiAgICAgICAgICBpbWcubG9hZGluZyA9ICdsYXp5JztcbiAgICAgICAgICBpbWcuY2xhc3NOYW1lID0gJ2gtZnVsbCB3LWZ1bGwgb2JqZWN0LWNvdmVyJztcbiAgICAgICAgICBwcmV2aWV3LmFwcGVuZENoaWxkKGltZyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgZmFsbGJhY2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICBmYWxsYmFjay5jbGFzc05hbWUgPVxuICAgICAgICAgICAgJ2ZsZXggaC1mdWxsIHctZnVsbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdGV4dC14cyBmb250LXNlbWlib2xkIHRleHQtc2xhdGUtNTAwJztcbiAgICAgICAgICBmYWxsYmFjay50ZXh0Q29udGVudCA9ICdGaWNoaWVyJztcbiAgICAgICAgICBwcmV2aWV3LmFwcGVuZENoaWxkKGZhbGxiYWNrKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG1ldGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgbWV0YS5jbGFzc05hbWUgPSAncHgtMyBweS0yJztcbiAgICAgICAgY29uc3QgbmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICAgICAgbmFtZS5jbGFzc05hbWUgPSAndHJ1bmNhdGUgdGV4dC14cyBmb250LXNlbWlib2xkIHRleHQtc2xhdGUtODAwJztcbiAgICAgICAgbmFtZS50ZXh0Q29udGVudCA9IGl0ZW0uZmlsZW5hbWUgfHwgJ01cdTAwRTlkaWEnO1xuICAgICAgICBtZXRhLmFwcGVuZENoaWxkKG5hbWUpO1xuXG4gICAgICAgIGJ1dHRvbi5hcHBlbmRDaGlsZChwcmV2aWV3KTtcbiAgICAgICAgYnV0dG9uLmFwcGVuZENoaWxkKG1ldGEpO1xuXG4gICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICBzZXRUYXJnZXRWYWx1ZShpdGVtLnBhdGggfHwgJycpO1xuICAgICAgICAgIGNsb3NlTW9kYWwoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZ3JpZC5hcHBlbmRDaGlsZChidXR0b24pO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGFwcGx5U2VhcmNoID0gKCkgPT4ge1xuICAgICAgY29uc3QgcXVlcnkgPSAoc2VhcmNoSW5wdXQ/LnZhbHVlIHx8ICcnKS50cmltKCkudG9Mb3dlckNhc2UoKTtcbiAgICAgIGlmICghcXVlcnkpIHtcbiAgICAgICAgcmVuZGVyR3JpZChtZWRpYUl0ZW1zKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcmVuZGVyR3JpZChcbiAgICAgICAgbWVkaWFJdGVtcy5maWx0ZXIoKGl0ZW0pID0+IChpdGVtLmZpbGVuYW1lIHx8ICcnKS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHF1ZXJ5KSksXG4gICAgICApO1xuICAgIH07XG5cbiAgICBjb25zdCBlbnN1cmVNZWRpYUxvYWRlZCA9IGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHNsdWcgPSBnZXRBY3RpdmVTaXRlU2x1Z1ZhbHVlKCk7XG4gICAgICBpZiAoIXNsdWcpIHtcbiAgICAgICAgbWVkaWFJdGVtcyA9IFtdO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoY2FjaGVkU2x1ZyA9PT0gc2x1ZyAmJiBtZWRpYUl0ZW1zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgYXBpQmFzZSA9IGdldE1lZGlhQXBpQmFzZSgpO1xuICAgICAgaWYgKCFhcGlCYXNlKSB7XG4gICAgICAgIG1lZGlhSXRlbXMgPSBbXTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChhcGlCYXNlLCB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxlcyBtXHUwMEU5ZGlhcy4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7IGl0ZW1zOiBbXSB9KSk7XG4gICAgICAgIGNvbnN0IGl0ZW1zID0gQXJyYXkuaXNBcnJheShwYXlsb2FkLml0ZW1zKSA/IHBheWxvYWQuaXRlbXMgOiBbXTtcbiAgICAgICAgbWVkaWFJdGVtcyA9IGl0ZW1zLmZpbHRlcihpc0ltYWdlSXRlbSk7XG4gICAgICAgIGNhY2hlZFNsdWcgPSBzbHVnO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1ttZWRpYS1waWNrZXJdIGxvYWQgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgbWVkaWFJdGVtcyA9IFtdO1xuICAgICAgICBjYWNoZWRTbHVnID0gc2x1ZztcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIG1cdTAwRTlkaWFzLicpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBvcGVuRm9ySW5wdXQgPSBhc3luYyAoaW5wdXQpID0+IHtcbiAgICAgIGFjdGl2ZVRhcmdldElucHV0ID0gaW5wdXQ7XG4gICAgICBtb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIG1vZGFsLmNsYXNzTGlzdC5hZGQoJ2ZsZXgnKTtcbiAgICAgIGFjdGl2YXRlTW9kYWwobW9kYWwsIGNsb3NlTW9kYWwpO1xuICAgICAgYXdhaXQgZW5zdXJlTWVkaWFMb2FkZWQoKTtcbiAgICAgIGFwcGx5U2VhcmNoKCk7XG4gICAgfTtcblxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLW1lZGlhLXBpY2tlci1vcGVuXScpLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBjb25zdCB3cmFwcGVyID0gYnV0dG9uLmNsb3Nlc3QoJ1tkYXRhLW1lZGlhLXBpY2tlcl0nKTtcbiAgICAgICAgY29uc3QgaW5wdXQgPVxuICAgICAgICAgIHdyYXBwZXI/LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W2RhdGEtbWVkaWEtcGlja2VyLWlucHV0XScpIHx8XG4gICAgICAgICAgd3JhcHBlcj8ucXVlcnlTZWxlY3RvcignaW5wdXQnKSB8fFxuICAgICAgICAgIG51bGw7XG4gICAgICAgIGlmICghaW5wdXQpIHtcbiAgICAgICAgICBzaG93VG9hc3QoJ0NoYW1wIGNpYmxlIGludHJvdXZhYmxlLicpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBvcGVuRm9ySW5wdXQoaW5wdXQpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBjbG9zZUJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZU1vZGFsKSk7XG4gICAgbW9kYWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIGlmIChldmVudC50YXJnZXQgPT09IG1vZGFsKSB7XG4gICAgICAgIGNsb3NlTW9kYWwoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBzZWFyY2hJbnB1dD8uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBhcHBseVNlYXJjaCk7XG4gIH07XG5cbiAgZnVuY3Rpb24gZW5zdXJlTGVhZGluZ1NsYXNoKHNsdWcpIHtcbiAgICBpZiAoIXNsdWcpIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgY29uc3QgdHJpbW1lZCA9IGAke3NsdWd9YC50cmltKCk7XG4gICAgaWYgKCF0cmltbWVkKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIGNvbnN0IHdpdGhvdXRMZWFkaW5nID0gdHJpbW1lZC5yZXBsYWNlKC9eXFwvKy8sICcnKTtcbiAgICBpZiAoIXdpdGhvdXRMZWFkaW5nKSB7XG4gICAgICByZXR1cm4gJy8nO1xuICAgIH1cbiAgICByZXR1cm4gYC8ke3dpdGhvdXRMZWFkaW5nfWA7XG4gIH1cblxuICBmdW5jdGlvbiBzdHJpcExlYWRpbmdTbGFzaChzbHVnKSB7XG4gICAgaWYgKCFzbHVnKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIHJldHVybiBgJHtzbHVnfWAucmVwbGFjZSgvXlxcLysvLCAnJyk7XG4gIH1cblxuICBjb25zdCBwZXJzaXN0U2l0ZVN0YXRlID0gKHNsdWcsIG5hbWUpID0+IHtcbiAgICBjb25zdCBub3JtYWxpemVkU2x1ZyA9IHNsdWcgPyBlbnN1cmVMZWFkaW5nU2xhc2goc2x1ZykgOiBudWxsO1xuICAgIHRyeSB7XG4gICAgICBpZiAobm9ybWFsaXplZFNsdWcpIHtcbiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKEFDVElWRV9TSVRFX0tFWSwgbm9ybWFsaXplZFNsdWcpO1xuICAgICAgICBzdG9yZWRTaXRlLnNsdWcgPSBub3JtYWxpemVkU2x1ZztcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgbmFtZSA9PT0gJ3N0cmluZycgJiYgbmFtZS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShBQ1RJVkVfU0lURV9OQU1FX0tFWSwgbmFtZSk7XG4gICAgICAgIHN0b3JlZFNpdGUubmFtZSA9IG5hbWU7XG4gICAgICB9XG4gICAgfSBjYXRjaCB7XG4gICAgICBzdG9yZWRTaXRlLnNsdWcgPSBub3JtYWxpemVkU2x1ZyB8fCBzdG9yZWRTaXRlLnNsdWc7XG4gICAgICBzdG9yZWRTaXRlLm5hbWUgPSBuYW1lIHx8IHN0b3JlZFNpdGUubmFtZTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgdXBkYXRlU2l0ZUxhYmVscyA9IChuYW1lKSA9PiB7XG4gICAgaWYgKHNpdGVOYW1lTGFiZWwgJiYgbmFtZSkge1xuICAgICAgc2l0ZU5hbWVMYWJlbC50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgfVxuICAgIGlmICh3b3Jrc3BhY2VTaXRlTGFiZWwgJiYgbmFtZSkge1xuICAgICAgd29ya3NwYWNlU2l0ZUxhYmVsLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICB9XG4gICAgaWYgKHdvcmtzcGFjZUJhY2tOYW1lICYmIG5hbWUpIHtcbiAgICAgIHdvcmtzcGFjZUJhY2tOYW1lLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgdXBkYXRlV29ya3NwYWNlTmF2TGlua3MgPSAoc2x1ZykgPT4ge1xuICAgIHdvcmtzcGFjZU5hdkxpbmtzLmZvckVhY2goKGxpbmspID0+IHtcbiAgICAgIGNvbnN0IHRhYiA9IGxpbmsuZGF0YXNldC53b3Jrc3BhY2VUYWI7XG4gICAgICBpZiAoIXRhYikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIXNsdWcpIHtcbiAgICAgICAgbGluay5ocmVmID0gJyMnO1xuICAgICAgICBsaW5rLmNsYXNzTGlzdC5hZGQoJ3BvaW50ZXItZXZlbnRzLW5vbmUnLCAnb3BhY2l0eS01MCcsICd0ZXh0LXNsYXRlLTQwMCcpO1xuICAgICAgICBsaW5rLnNldEF0dHJpYnV0ZSgnYXJpYS1kaXNhYmxlZCcsICd0cnVlJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHNsdWdQYXRoID0gZW5jb2RlVVJJQ29tcG9uZW50KHN0cmlwTGVhZGluZ1NsYXNoKHNsdWcpKTtcbiAgICAgIGxpbmsuaHJlZiA9IGAvYWRtaW4vc2l0ZS8ke3NsdWdQYXRofS8ke3RhYn1gO1xuICAgICAgbGluay5jbGFzc0xpc3QucmVtb3ZlKCdwb2ludGVyLWV2ZW50cy1ub25lJywgJ29wYWNpdHktNTAnLCAndGV4dC1zbGF0ZS00MDAnKTtcbiAgICAgIGxpbmsucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWRpc2FibGVkJyk7XG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3QgYXBwbHlBY3RpdmVTaXRlID0gKHNsdWcsIG9wdGlvbnMgPSB7fSkgPT4ge1xuICAgIGlmICghc2x1Zykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBub3JtYWxpemVkU2x1ZyA9IGVuc3VyZUxlYWRpbmdTbGFzaChzbHVnKTtcbiAgICBsZXQgYWN0aXZlU2l0ZU5hbWUgPVxuICAgICAgb3B0aW9ucy5zaXRlTmFtZSB8fCBzdG9yZWRTaXRlLm5hbWUgfHwgc2l0ZU5hbWVMYWJlbD8uZGF0YXNldC5kZWZhdWx0U2l0ZU5hbWUgfHwgJyc7XG4gICAgc2l0ZUNhcmRzLmZvckVhY2goKGNhcmQpID0+IHtcbiAgICAgIGNvbnN0IGNhcmRTbHVnID0gZW5zdXJlTGVhZGluZ1NsYXNoKGNhcmQuZGF0YXNldC5zaXRlQ2FyZCB8fCAnJyk7XG4gICAgICBjb25zdCBpc0FjdGl2ZSA9IGNhcmRTbHVnID09PSBub3JtYWxpemVkU2x1ZztcbiAgICAgIGNvbnN0IGJhZGdlID0gY2FyZC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLWFjdGl2ZS1iYWRnZV0nKTtcbiAgICAgIGlmIChpc0FjdGl2ZSkge1xuICAgICAgICBjYXJkLmNsYXNzTGlzdC5hZGQoJ2JvcmRlci1bIzlDNkJGRl0nLCAncmluZy0yJywgJ3JpbmctWyM5QzZCRkZdJywgJ3NoYWRvdy1tZCcpO1xuICAgICAgICBjYXJkLmNsYXNzTGlzdC5yZW1vdmUoJ2JvcmRlci1zbGF0ZS0yMDAnKTtcbiAgICAgICAgYmFkZ2U/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICBhY3RpdmVTaXRlTmFtZSA9IGNhcmQuZGF0YXNldC5zaXRlTmFtZSB8fCBhY3RpdmVTaXRlTmFtZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhcmQuY2xhc3NMaXN0LnJlbW92ZSgnYm9yZGVyLVsjOUM2QkZGXScsICdyaW5nLTInLCAncmluZy1bIzlDNkJGRl0nLCAnc2hhZG93LW1kJyk7XG4gICAgICAgIGNhcmQuY2xhc3NMaXN0LmFkZCgnYm9yZGVyLXNsYXRlLTIwMCcpO1xuICAgICAgICBiYWRnZT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKG9wdGlvbnMucGVyc2lzdCAhPT0gZmFsc2UpIHtcbiAgICAgIHBlcnNpc3RTaXRlU3RhdGUobm9ybWFsaXplZFNsdWcsIG9wdGlvbnMuc2l0ZU5hbWUgfHwgYWN0aXZlU2l0ZU5hbWUpO1xuICAgIH1cbiAgICBjb25zdCBmaW5hbE5hbWUgPSBvcHRpb25zLnNpdGVOYW1lIHx8IGFjdGl2ZVNpdGVOYW1lO1xuICAgIHVwZGF0ZVNpdGVMYWJlbHMoZmluYWxOYW1lKTtcbiAgICB1cGRhdGVXb3Jrc3BhY2VOYXZMaW5rcyhub3JtYWxpemVkU2x1Zyk7XG4gIH07XG5cbiAgY29uc3Qgc2VsZWN0U2l0ZSA9IGFzeW5jIChzbHVnLCBuYW1lKSA9PiB7XG4gICAgY29uc3Qgbm9ybWFsaXplZFNsdWcgPSBlbnN1cmVMZWFkaW5nU2xhc2goc2x1Zyk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvc2l0ZXMvc2VsZWN0Jywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgc2x1Zzogbm9ybWFsaXplZFNsdWcgfSksXG4gICAgICB9KTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgc2hvd1RvYXN0KHBheWxvYWQubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBzXHUwMEU5bGVjdGlvbm5lciBjZSBzaXRlLicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgY29uc3QgZmluYWxTbHVnID0gZW5zdXJlTGVhZGluZ1NsYXNoKHBheWxvYWQuc2x1ZyB8fCBub3JtYWxpemVkU2x1Zyk7XG4gICAgICBjb25zdCBmaW5hbE5hbWUgPSBwYXlsb2FkLm5hbWUgfHwgbmFtZTtcbiAgICAgIHBlcnNpc3RTaXRlU3RhdGUoZmluYWxTbHVnLCBmaW5hbE5hbWUpO1xuICAgICAgYXBwbHlBY3RpdmVTaXRlKGZpbmFsU2x1ZywgeyBzaXRlTmFtZTogZmluYWxOYW1lLCBwZXJzaXN0OiBmYWxzZSB9KTtcbiAgICAgIGNvbnN0IHNsdWdQYXRoID0gZW5jb2RlVVJJQ29tcG9uZW50KHN0cmlwTGVhZGluZ1NsYXNoKGZpbmFsU2x1ZykpO1xuICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBgL2FkbWluL3NpdGUvJHtzbHVnUGF0aH0vZGVzaWduYDtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1thZG1pbl0gSW1wb3NzaWJsZSBkZSBzXHUwMEU5bGVjdGlvbm5lciBsZSBzaXRlJywgZXJyKTtcbiAgICAgIHNob3dUb2FzdCgnRXJyZXVyIGluYXR0ZW5kdWUgbG9ycyBkZSBsYSBzXHUwMEU5bGVjdGlvbi4nKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3Qgc3luY0FjdGl2ZVNpdGVGcm9tU2VydmVyID0gYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL3NpdGVzL2N1cnJlbnQnLCB7IGNyZWRlbnRpYWxzOiAnc2FtZS1vcmlnaW4nIH0pO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDQgJiYgd29ya3NwYWNlQ29udGV4dCkge1xuICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9hZG1pbi9zaXRlcyc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3Qgc2l0ZSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWRTbHVnID0gZW5zdXJlTGVhZGluZ1NsYXNoKHNpdGUuc2x1Zyk7XG4gICAgICBwZXJzaXN0U2l0ZVN0YXRlKG5vcm1hbGl6ZWRTbHVnLCBzaXRlLm5hbWUpO1xuICAgICAgYXBwbHlBY3RpdmVTaXRlKG5vcm1hbGl6ZWRTbHVnLCB7IHNpdGVOYW1lOiBzaXRlLm5hbWUsIHBlcnNpc3Q6IGZhbHNlIH0pO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS53YXJuKCdbYWRtaW5dIEltcG9zc2libGUgZGUgclx1MDBFOWN1cFx1MDBFOXJlciBsZSBzaXRlIGFjdGlmJywgZXJyKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGlnaGxpZ2h0RnJvbVN0b3JhZ2VPckRlZmF1bHQgPSAoKSA9PiB7XG4gICAgaWYgKHN0b3JlZFNpdGUuc2x1Zykge1xuICAgICAgYXBwbHlBY3RpdmVTaXRlKHN0b3JlZFNpdGUuc2x1ZywgeyBzaXRlTmFtZTogc3RvcmVkU2l0ZS5uYW1lLCBwZXJzaXN0OiBmYWxzZSB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZGVmYXVsdENhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLWNhcmRdW2RhdGEtc2l0ZS1kZWZhdWx0PVwidHJ1ZVwiXScpIHx8IHNpdGVDYXJkc1swXTtcbiAgICBpZiAoZGVmYXVsdENhcmQpIHtcbiAgICAgIGFwcGx5QWN0aXZlU2l0ZShkZWZhdWx0Q2FyZC5kYXRhc2V0LnNpdGVDYXJkLCB7XG4gICAgICAgIHNpdGVOYW1lOiBkZWZhdWx0Q2FyZC5kYXRhc2V0LnNpdGVOYW1lIHx8ICcnLFxuICAgICAgICBwZXJzaXN0OiBmYWxzZSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICBoaWdobGlnaHRGcm9tU3RvcmFnZU9yRGVmYXVsdCgpO1xuICBzeW5jQWN0aXZlU2l0ZUZyb21TZXJ2ZXIoKTtcbiAgaWYgKHdvcmtzcGFjZUNvbnRleHQpIHtcbiAgICB1cGRhdGVXb3Jrc3BhY2VOYXZMaW5rcyh3b3Jrc3BhY2VDb250ZXh0LnNsdWdWYWx1ZSk7XG4gIH0gZWxzZSBpZiAoc3RvcmVkU2l0ZS5zbHVnKSB7XG4gICAgdXBkYXRlV29ya3NwYWNlTmF2TGlua3Moc3RvcmVkU2l0ZS5zbHVnKTtcbiAgfVxuXG4gIHNpdGVTZWxlY3RCdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGlmIChidXR0b24uZGlzYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3Qgc2x1ZyA9IGJ1dHRvbi5kYXRhc2V0LnNpdGVTZWxlY3Q7XG4gICAgICBjb25zdCBuYW1lID0gYnV0dG9uLmRhdGFzZXQuc2l0ZVNlbGVjdE5hbWUgfHwgJ0NlIHNpdGUnO1xuICAgICAgaWYgKCFzbHVnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICBzZWxlY3RTaXRlKHNsdWcsIG5hbWUpLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICBidXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBjb25zdCB3b3Jrc3BhY2VTbHVnaWZ5ID0gKHZhbHVlKSA9PlxuICAgICh2YWx1ZSB8fCAnJylcbiAgICAgIC5ub3JtYWxpemUoJ05GRCcpXG4gICAgICAucmVwbGFjZSgvW1xcdTAzMDAtXFx1MDM2Zl0vZywgJycpXG4gICAgICAudG9Mb3dlckNhc2UoKVxuICAgICAgLnJlcGxhY2UoL1teYS16MC05XSsvZywgJy0nKVxuICAgICAgLnJlcGxhY2UoL14tK3wtKyQvZywgJycpO1xuXG4gIGNvbnN0IG5vcm1hbGl6ZVNsdWdWYWx1ZSA9ICh2YWx1ZSkgPT4ge1xuICAgIGNvbnN0IGJhc2UgPSB3b3Jrc3BhY2VTbHVnaWZ5KHZhbHVlIHx8ICcnKTtcbiAgICBpZiAoIWJhc2UpIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgcmV0dXJuIGAvJHtiYXNlfWA7XG4gIH07XG5cbiAgY29uc3Qgb3BlblNpdGVNb2RhbCA9ICgpID0+IHtcbiAgICBpZiAoIXNpdGVNb2RhbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzaXRlTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgc2l0ZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2ZsZXgnKTtcbiAgICBzbHVnTWFudWFsbHlFZGl0ZWQgPSBmYWxzZTtcbiAgICBzaXRlRm9ybT8ucmVzZXQoKTtcbiAgICBzaXRlU2x1Z0Vycm9yICYmIChzaXRlU2x1Z0Vycm9yLnRleHRDb250ZW50ID0gJycpO1xuICAgIHNpdGVNb2RhbEVycm9yICYmIChzaXRlTW9kYWxFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICBpZiAoc2l0ZVNsdWdJbnB1dCAmJiBzaXRlTmFtZUlucHV0KSB7XG4gICAgICBzaXRlU2x1Z0lucHV0LnZhbHVlID0gd29ya3NwYWNlU2x1Z2lmeShzaXRlTmFtZUlucHV0LnZhbHVlKTtcbiAgICB9XG4gICAgYWN0aXZhdGVNb2RhbChzaXRlTW9kYWwsIGNsb3NlU2l0ZU1vZGFsKTtcbiAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBzaXRlTmFtZUlucHV0Py5mb2N1cygpO1xuICAgIH0sIDApO1xuICB9O1xuXG4gIGNvbnN0IGNsb3NlU2l0ZU1vZGFsID0gKCkgPT4ge1xuICAgIGlmICghc2l0ZU1vZGFsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHNpdGVNb2RhbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICBzaXRlTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnZmxleCcpO1xuICAgIHNsdWdNYW51YWxseUVkaXRlZCA9IGZhbHNlO1xuICAgIHNpdGVGb3JtPy5yZXNldCgpO1xuICAgIHNpdGVTbHVnRXJyb3IgJiYgKHNpdGVTbHVnRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgc2l0ZU1vZGFsRXJyb3IgJiYgKHNpdGVNb2RhbEVycm9yLnRleHRDb250ZW50ID0gJycpO1xuICAgIGRlYWN0aXZhdGVNb2RhbChzaXRlTW9kYWwpO1xuICB9O1xuXG4gIHNpdGVDcmVhdGVCdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5TaXRlTW9kYWwpO1xuICB9KTtcblxuICBzaXRlTW9kYWxDYW5jZWxCdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlU2l0ZU1vZGFsKTtcbiAgfSk7XG5cbiAgc2l0ZU1vZGFsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgIGlmIChldmVudC50YXJnZXQgPT09IHNpdGVNb2RhbCkge1xuICAgICAgY2xvc2VTaXRlTW9kYWwoKTtcbiAgICB9XG4gIH0pO1xuXG4gIHNpdGVOYW1lSW5wdXQ/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgIGlmICghc2l0ZVNsdWdJbnB1dCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIXNsdWdNYW51YWxseUVkaXRlZCB8fCBzaXRlU2x1Z0lucHV0LnZhbHVlLnRyaW0oKS5sZW5ndGggPT09IDApIHtcbiAgICAgIHNpdGVTbHVnSW5wdXQudmFsdWUgPSB3b3Jrc3BhY2VTbHVnaWZ5KHNpdGVOYW1lSW5wdXQudmFsdWUpO1xuICAgIH1cbiAgICAvLyBDbGVhciBlcnJvcnMgd2hlbiB1c2VyIHR5cGVzXG4gICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICBzaXRlTW9kYWxFcnJvciAmJiAoc2l0ZU1vZGFsRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gIH0pO1xuXG4gIHNpdGVTbHVnSW5wdXQ/LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgKCkgPT4ge1xuICAgIC8vIEF1dG8tZmlsbCBzbHVnIGZyb20gbmFtZSBpZiBlbXB0eSB3aGVuIHVzZXIgZm9jdXNlcyB0aGUgc2x1ZyBmaWVsZFxuICAgIGNvbnN0IHNsdWdWYWwgPSBzaXRlU2x1Z0lucHV0Py52YWx1ZSB8fCAnJztcbiAgICBjb25zdCBuYW1lVmFsID0gc2l0ZU5hbWVJbnB1dD8udmFsdWUgfHwgJyc7XG4gICAgaWYgKCFzbHVnVmFsLnRyaW0oKSAmJiBuYW1lVmFsLnRyaW0oKSkge1xuICAgICAgc2l0ZVNsdWdJbnB1dC52YWx1ZSA9IHdvcmtzcGFjZVNsdWdpZnkobmFtZVZhbCk7XG4gICAgfVxuICB9KTtcblxuICBzaXRlU2x1Z0lucHV0Py5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICBzbHVnTWFudWFsbHlFZGl0ZWQgPSB0cnVlO1xuICAgIHNpdGVTbHVnRXJyb3IgJiYgKHNpdGVTbHVnRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgc2l0ZU1vZGFsRXJyb3IgJiYgKHNpdGVNb2RhbEVycm9yLnRleHRDb250ZW50ID0gJycpO1xuICB9KTtcblxuICBjb25zdCBnZXRTbHVnU2V0ID0gKCkgPT5cbiAgICBuZXcgU2V0KEFycmF5LmZyb20oc2l0ZUNhcmRzKS5tYXAoKGNhcmQpID0+IGVuc3VyZUxlYWRpbmdTbGFzaChjYXJkLmRhdGFzZXQuc2l0ZUNhcmQgfHwgJycpKSk7XG5cbiAgc2l0ZUZvcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc29sZS5sb2coJ1thZG1pbl0gRm9ybSBzdWJtaXQgLSBzaXRlTmFtZUlucHV0OicsIHNpdGVOYW1lSW5wdXQsICdzaXRlU2x1Z0lucHV0OicsIHNpdGVTbHVnSW5wdXQpO1xuICAgIFxuICAgIGlmICghc2l0ZU5hbWVJbnB1dCB8fCAhc2l0ZVNsdWdJbnB1dCkge1xuICAgICAgY29uc29sZS5sb2coJ1thZG1pbl0gTWlzc2luZyBpbnB1dHMsIGFib3J0aW5nJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IG5hbWVWYWx1ZSA9IChzaXRlTmFtZUlucHV0LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgbGV0IHNsdWdWYWx1ZSA9IChzaXRlU2x1Z0lucHV0LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgXG4gICAgY29uc29sZS5sb2coJ1thZG1pbl0gbmFtZVZhbHVlOicsIG5hbWVWYWx1ZSwgJ3NsdWdWYWx1ZTonLCBzbHVnVmFsdWUpO1xuICAgIFxuICAgIC8vIEF1dG8tZ2VuZXJhdGUgc2x1ZyBmcm9tIG5hbWUgaWYgZW1wdHlcbiAgICBpZiAoIXNsdWdWYWx1ZSAmJiBuYW1lVmFsdWUpIHtcbiAgICAgIHNsdWdWYWx1ZSA9IHdvcmtzcGFjZVNsdWdpZnkobmFtZVZhbHVlKTtcbiAgICAgIHNpdGVTbHVnSW5wdXQudmFsdWUgPSBzbHVnVmFsdWU7XG4gICAgICBjb25zb2xlLmxvZygnW2FkbWluXSBBdXRvLWdlbmVyYXRlZCBzbHVnOicsIHNsdWdWYWx1ZSk7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IG5vcm1hbGl6ZWRTbHVnID0gbm9ybWFsaXplU2x1Z1ZhbHVlKHNsdWdWYWx1ZSk7XG4gICAgY29uc29sZS5sb2coJ1thZG1pbl0gbm9ybWFsaXplZFNsdWc6Jywgbm9ybWFsaXplZFNsdWcpO1xuICAgIFxuICAgIC8vIFZhbGlkYXRlIG5hbWVcbiAgICBpZiAoIW5hbWVWYWx1ZSkge1xuICAgICAgY29uc29sZS5sb2coJ1thZG1pbl0gTmFtZSB2YWxpZGF0aW9uIGZhaWxlZCcpO1xuICAgICAgc2l0ZU1vZGFsRXJyb3IgJiYgKHNpdGVNb2RhbEVycm9yLnRleHRDb250ZW50ID0gJ0xlIG5vbSBkdSBzaXRlIGVzdCByZXF1aXMuJyk7XG4gICAgICBzaXRlTmFtZUlucHV0LmZvY3VzKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIC8vIFZhbGlkYXRlIHNsdWdcbiAgICBpZiAoIW5vcm1hbGl6ZWRTbHVnKSB7XG4gICAgICBjb25zb2xlLmxvZygnW2FkbWluXSBTbHVnIHZhbGlkYXRpb24gZmFpbGVkJyk7XG4gICAgICBzaXRlU2x1Z0Vycm9yICYmIChzaXRlU2x1Z0Vycm9yLnRleHRDb250ZW50ID0gJ0xlIHNsdWcgbmUgcGV1dCBwYXMgXHUwMEVBdHJlIHZpZGUgb3UgY29udGVuaXIgdW5pcXVlbWVudCBkZXMgY2FyYWN0XHUwMEU4cmVzIHNwXHUwMEU5Y2lhdXguJyk7XG4gICAgICBzaXRlU2x1Z0lucHV0LmZvY3VzKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IGV4aXN0aW5nU2x1Z3MgPSBnZXRTbHVnU2V0KCk7XG4gICAgaWYgKGV4aXN0aW5nU2x1Z3MuaGFzKG5vcm1hbGl6ZWRTbHVnKSkge1xuICAgICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9ICdDZSBzbHVnIGVzdCBkXHUwMEU5alx1MDBFMCB1dGlsaXNcdTAwRTkuJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHNpdGVTbHVnRXJyb3IgJiYgKHNpdGVTbHVnRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgc2l0ZU1vZGFsRXJyb3IgJiYgKHNpdGVNb2RhbEVycm9yLnRleHRDb250ZW50ID0gJycpO1xuICAgIGlmIChzaXRlTW9kYWxTdWJtaXRCdXR0b24pIHtcbiAgICAgIHNpdGVNb2RhbFN1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICBzaXRlTW9kYWxTdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSAnQ3JcdTAwRTlhdGlvbi4uLic7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL3NpdGVzJywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgbmFtZTogbmFtZVZhbHVlLCBzbHVnOiBub3JtYWxpemVkU2x1ZyB9KSxcbiAgICAgIH0pO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gcGF5bG9hZC5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIGNyXHUwMEU5ZXIgY2Ugc2l0ZS4nO1xuICAgICAgICBzaXRlTW9kYWxFcnJvciAmJiAoc2l0ZU1vZGFsRXJyb3IudGV4dENvbnRlbnQgPSBtZXNzYWdlKTtcbiAgICAgICAgaWYgKHBheWxvYWQuZmllbGQgPT09ICdzbHVnJykge1xuICAgICAgICAgIHNpdGVTbHVnRXJyb3IgJiYgKHNpdGVTbHVnRXJyb3IudGV4dENvbnRlbnQgPSBtZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBjcmVhdGVkU2l0ZSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIGNvbnN0IGZpbmFsU2x1ZyA9IGVuc3VyZUxlYWRpbmdTbGFzaChjcmVhdGVkU2l0ZT8uc2x1ZyB8fCBub3JtYWxpemVkU2x1Zyk7XG4gICAgICBjb25zdCBmaW5hbE5hbWUgPSBjcmVhdGVkU2l0ZT8ubmFtZSB8fCBuYW1lVmFsdWU7XG4gICAgICBwZXJzaXN0U2l0ZVN0YXRlKGZpbmFsU2x1ZywgZmluYWxOYW1lKTtcbiAgICAgIGNsb3NlU2l0ZU1vZGFsKCk7XG4gICAgICBjb25zdCBzbHVnUGF0aCA9IGVuY29kZVVSSUNvbXBvbmVudChzdHJpcExlYWRpbmdTbGFzaChmaW5hbFNsdWcpKTtcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gYC9hZG1pbi9zaXRlLyR7c2x1Z1BhdGh9L2Rlc2lnbmA7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdbYWRtaW5dIEltcG9zc2libGUgZGUgY3JcdTAwRTllciBsZSBzaXRlJywgZXJyKTtcbiAgICAgIHNpdGVNb2RhbEVycm9yICYmIChzaXRlTW9kYWxFcnJvci50ZXh0Q29udGVudCA9ICdFcnJldXIgaW5hdHRlbmR1ZS4gUlx1MDBFOWVzc2FpZSBkYW5zIHVuIGluc3RhbnQuJyk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlmIChzaXRlTW9kYWxTdWJtaXRCdXR0b24pIHtcbiAgICAgICAgc2l0ZU1vZGFsU3VibWl0QnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIHNpdGVNb2RhbFN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9ICdDclx1MDBFOWVyJztcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2ZW50KSA9PiB7XG4gICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgIGlmIChzaXRlTW9kYWwgJiYgIXNpdGVNb2RhbC5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpKSB7XG4gICAgICAgIGNsb3NlU2l0ZU1vZGFsKCk7XG4gICAgICB9XG4gICAgICBpZiAod29ya3NwYWNlQmFja01vZGFsICYmICF3b3Jrc3BhY2VCYWNrTW9kYWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdoaWRkZW4nKSkge1xuICAgICAgICBjbG9zZVdvcmtzcGFjZUJhY2tNb2RhbCgpO1xuICAgICAgfVxuICAgICAgaWYgKGJsb2NrRGVsZXRlTW9kYWwgJiYgIWJsb2NrRGVsZXRlTW9kYWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdoaWRkZW4nKSkge1xuICAgICAgICBjbG9zZUJsb2NrRGVsZXRlTW9kYWwoKTtcbiAgICAgIH1cbiAgICAgIGlmIChibG9ja0xpYnJhcnlPcGVuKSB7XG4gICAgICAgIGNsb3NlQmxvY2tMaWJyYXJ5KCk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICBmdW5jdGlvbiBnZXRXb3Jrc3BhY2VDb250ZXh0KCkge1xuICAgIGNvbnN0IG1hdGNoID0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLm1hdGNoKC9eXFwvYWRtaW5cXC9zaXRlXFwvKFteL10rKSg/OlxcLyhbXi9dKykpPy8pO1xuICAgIGlmICghbWF0Y2gpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgc2x1Z1BhcnQ6IGRlY29kZVVSSUNvbXBvbmVudChtYXRjaFsxXSksXG4gICAgICBzbHVnVmFsdWU6IGVuc3VyZUxlYWRpbmdTbGFzaChkZWNvZGVVUklDb21wb25lbnQobWF0Y2hbMV0pKSxcbiAgICAgIHNlY3Rpb246IG1hdGNoWzJdIHx8ICdkZXNpZ24nLFxuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBkZXRlY3RXb3Jrc3BhY2VTZWN0aW9uKCkge1xuICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLWxpc3RdJykpIHtcbiAgICAgIHJldHVybiAnZGVzaWduJztcbiAgICB9XG4gICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbGxlY3Rpb24tbGlzdF0nKSkge1xuICAgICAgcmV0dXJuICdjb250ZW50JztcbiAgICB9XG4gICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWdyaWRdJykpIHtcbiAgICAgIHJldHVybiAnbWVkaWEnO1xuICAgIH1cbiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LWZvcm1dJykpIHtcbiAgICAgIHJldHVybiAnZGVwbG95JztcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBmdW5jdGlvbiBvcGVuV29ya3NwYWNlQmFja01vZGFsKCkge1xuICAgIGlmICghd29ya3NwYWNlQmFja01vZGFsKSB7XG4gICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvYWRtaW4vc2l0ZXMnO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB3b3Jrc3BhY2VCYWNrTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgd29ya3NwYWNlQmFja01vZGFsLmNsYXNzTGlzdC5hZGQoJ2ZsZXgnKTtcbiAgICBhY3RpdmF0ZU1vZGFsKHdvcmtzcGFjZUJhY2tNb2RhbCwgY2xvc2VXb3Jrc3BhY2VCYWNrTW9kYWwpO1xuICB9XG5cbiAgZnVuY3Rpb24gY2xvc2VXb3Jrc3BhY2VCYWNrTW9kYWwoKSB7XG4gICAgaWYgKCF3b3Jrc3BhY2VCYWNrTW9kYWwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgd29ya3NwYWNlQmFja01vZGFsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgIHdvcmtzcGFjZUJhY2tNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdmbGV4Jyk7XG4gICAgZGVhY3RpdmF0ZU1vZGFsKHdvcmtzcGFjZUJhY2tNb2RhbCk7XG4gIH1cblxuICB3b3Jrc3BhY2VCYWNrQnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuV29ya3NwYWNlQmFja01vZGFsKTtcbiAgfSk7XG4gIHdvcmtzcGFjZUJhY2tDYW5jZWwuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VXb3Jrc3BhY2VCYWNrTW9kYWwpO1xuICB9KTtcbiAgd29ya3NwYWNlQmFja0NvbmZpcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGNsb3NlV29ya3NwYWNlQmFja01vZGFsKCk7XG4gICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnL2FkbWluL3NpdGVzJztcbiAgfSk7XG5cbiAgY29uc3QgVFJBTlNQQVJFTlRfUEFUVEVSTiA9XG4gICAgJ3JlcGVhdGluZy1jb25pYy1ncmFkaWVudCgjY2NjIDAlIDI1JSwgd2hpdGUgMCUgNTAlKSA1MCUgLyA4cHggOHB4JztcbiAgY29uc3QgcGFyc2VDc3NDb2xvclRvUmdiID0gKHZhbHVlKSA9PiB7XG4gICAgaWYgKCF2YWx1ZSB8fCB0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnKSByZXR1cm4gbnVsbDtcbiAgICBjb25zdCBub3JtYWxpemVkID0gdmFsdWUudHJpbSgpLnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKG5vcm1hbGl6ZWQgPT09ICd0cmFuc3BhcmVudCcpIHJldHVybiBudWxsO1xuICAgIGNvbnN0IHJnYk1hdGNoID0gbm9ybWFsaXplZC5tYXRjaChcbiAgICAgIC9ecmdiXFxcXChcXFxccyooXFxcXGR7MSwzfSlcXFxccyosXFxcXHMqKFxcXFxkezEsM30pXFxcXHMqLFxcXFxzKihcXFxcZHsxLDN9KVxcXFxzKlxcXFwpJC8sXG4gICAgKTtcbiAgICBpZiAocmdiTWF0Y2gpIHtcbiAgICAgIHJldHVybiBbXG4gICAgICAgIE1hdGgubWluKDI1NSwgTWF0aC5tYXgoMCwgTnVtYmVyKHJnYk1hdGNoWzFdKSkpLFxuICAgICAgICBNYXRoLm1pbigyNTUsIE1hdGgubWF4KDAsIE51bWJlcihyZ2JNYXRjaFsyXSkpKSxcbiAgICAgICAgTWF0aC5taW4oMjU1LCBNYXRoLm1heCgwLCBOdW1iZXIocmdiTWF0Y2hbM10pKSksXG4gICAgICBdO1xuICAgIH1cbiAgICBjb25zdCBoZXhNYXRjaCA9IG5vcm1hbGl6ZWQubWF0Y2goL14jKFthLWYwLTldezN9fFthLWYwLTldezZ9KSQvKTtcbiAgICBpZiAoaGV4TWF0Y2gpIHtcbiAgICAgIGNvbnN0IGhleCA9IGhleE1hdGNoWzFdO1xuICAgICAgY29uc3Qgbm9ybWFsaXplZEhleCA9XG4gICAgICAgIGhleC5sZW5ndGggPT09IDMgPyBoZXguc3BsaXQoJycpLm1hcCgoYykgPT4gYCR7Y30ke2N9YCkuam9pbignJykgOiBoZXg7XG4gICAgICBjb25zdCByID0gcGFyc2VJbnQobm9ybWFsaXplZEhleC5zbGljZSgwLCAyKSwgMTYpO1xuICAgICAgY29uc3QgZyA9IHBhcnNlSW50KG5vcm1hbGl6ZWRIZXguc2xpY2UoMiwgNCksIDE2KTtcbiAgICAgIGNvbnN0IGIgPSBwYXJzZUludChub3JtYWxpemVkSGV4LnNsaWNlKDQsIDYpLCAxNik7XG4gICAgICByZXR1cm4gW3IsIGcsIGJdO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcbiAgY29uc3QgZ2V0UmVhZGFibGVUZXh0Q29sb3IgPSAoYmFja2dyb3VuZENvbG9yKSA9PiB7XG4gICAgY29uc3QgcmdiID0gcGFyc2VDc3NDb2xvclRvUmdiKGJhY2tncm91bmRDb2xvcik7XG4gICAgaWYgKCFyZ2IpIHJldHVybiAnIzBmMTcyYSc7XG4gICAgY29uc3QgW3IsIGcsIGJdID0gcmdiO1xuICAgIGNvbnN0IGx1bWluYW5jZSA9ICgwLjIxMjYgKiByICsgMC43MTUyICogZyArIDAuMDcyMiAqIGIpIC8gMjU1O1xuICAgIHJldHVybiBsdW1pbmFuY2UgPiAwLjYyID8gJyMwZjE3MmEnIDogJyNmZmZmZmYnO1xuICB9O1xuICBjb25zdCBzdHlsZVNlbGVjdE9wdGlvbnMgPSAoc2VsZWN0KSA9PiB7XG4gICAgaWYgKCFzZWxlY3QpIHJldHVybjtcbiAgICBBcnJheS5mcm9tKHNlbGVjdC5vcHRpb25zKS5mb3JFYWNoKChvcHRpb24pID0+IHtcbiAgICAgIGNvbnN0IG9wdGlvbkNvbG9yID0gb3B0aW9uLmRhdGFzZXQ/LmNvbG9yO1xuICAgICAgaWYgKCFvcHRpb25Db2xvcikgcmV0dXJuO1xuICAgICAgaWYgKG9wdGlvbkNvbG9yID09PSAndHJhbnNwYXJlbnQnKSB7XG4gICAgICAgIG9wdGlvbi5zdHlsZS5iYWNrZ3JvdW5kID0gVFJBTlNQQVJFTlRfUEFUVEVSTjtcbiAgICAgICAgb3B0aW9uLnN0eWxlLmNvbG9yID0gJyM0NzU1NjknO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBvcHRpb24uc3R5bGUuYmFja2dyb3VuZCA9IG9wdGlvbkNvbG9yO1xuICAgICAgb3B0aW9uLnN0eWxlLmNvbG9yID0gZ2V0UmVhZGFibGVUZXh0Q29sb3Iob3B0aW9uQ29sb3IpO1xuICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IGFjdGl2ZVNlY3Rpb24gPSB3b3Jrc3BhY2VDb250ZXh0Py5zZWN0aW9uIHx8IGRldGVjdFdvcmtzcGFjZVNlY3Rpb24oKTtcblxuICBpZiAoYWN0aXZlU2VjdGlvbiA9PT0gJ2Rlc2lnbicpIHtcbiAgICBpbml0RGVzaWduV29ya3NwYWNlKCk7XG4gIH1cbiAgaWYgKGFjdGl2ZVNlY3Rpb24gPT09ICdjb250ZW50Jykge1xuICAgIGluaXRDb250ZW50V29ya3NwYWNlKCk7XG4gIH1cbiAgaWYgKGFjdGl2ZVNlY3Rpb24gPT09ICdtZWRpYScpIHtcbiAgICBpbml0TWVkaWFXb3Jrc3BhY2UoKTtcbiAgfVxuICBpZiAoYWN0aXZlU2VjdGlvbiA9PT0gJ2RlcGxveScpIHtcbiAgICBpbml0RGVwbG95V29ya3NwYWNlKCk7XG4gIH1cbiAgaWYgKGFjdGl2ZVNlY3Rpb24gPT09ICdzZXR0aW5ncycpIHtcbiAgICBpbml0U2V0dGluZ3NXb3Jrc3BhY2UoKTtcbiAgfVxuXG4gIGlmICh3b3Jrc3BhY2VDb250ZXh0ICYmIHN0b3JlZFNpdGUubmFtZSkge1xuICAgIHVwZGF0ZVNpdGVMYWJlbHMoc3RvcmVkU2l0ZS5uYW1lKTtcbiAgfVxuXG4gIGluaXRNZWRpYVBpY2tlcigpO1xuXG4gIGZ1bmN0aW9uIGluaXREZXNpZ25Xb3Jrc3BhY2UoKSB7XG4gICAgY29uc3QgcGFnZUxpc3RzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtcGFnZS1saXN0XScpO1xuICAgIGlmIChwYWdlTGlzdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGFjdGl2ZVRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWN0aXZlLXBhZ2UtdGl0bGVdJyk7XG4gICAgY29uc3QgYWN0aXZlU2x1ZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFjdGl2ZS1wYWdlLXNsdWddJyk7XG4gICAgY29uc3QgcHJldmlld1RhZ3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLXByZXZpZXctdGFnc10nKTtcbiAgICBjb25zdCBwcmV2aWV3RnJhbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLXByZXZpZXctZnJhbWVdJyk7XG4gICAgY29uc3QgcHJldmlld0ZyYW1lV3JhcHBlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXBhZ2UtcHJldmlldy1mcmFtZS13cmFwcGVyXScpO1xuICAgIGNvbnN0IHByZXZpZXdTaGVsbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXBhZ2UtcHJldmlldy1zaGVsbF0nKTtcbiAgICBjb25zdCBwcmV2aWV3Vmlld0J1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1wcmV2aWV3LXZpZXctYnV0dG9uXScpO1xuICAgIGNvbnN0IHByZXZpZXdDdXJyZW50Vmlld0xhYmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcmV2aWV3LWN1cnJlbnQtdmlld10nKTtcbiAgICBjb25zdCBwcmV2aWV3T3BlbkJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXByZXZpZXctb3Blbl0nKTtcbiAgICBjb25zdCBwcmV2aWV3U3RhdHVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcHJldmlldy1zdGF0dXNdJyk7XG4gICAgY29uc3QgcHJldmlld0hpZ2hsaWdodE92ZXJsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wcmV2aWV3LWhpZ2hsaWdodF0nKTtcbiAgICAvLyBTRU8gcGFuZWwgZWxlbWVudHNcbiAgICBjb25zdCBzZW9Ub2dnbGVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8tdG9nZ2xlXScpO1xuICAgIGNvbnN0IHNlb1BhbmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2VvLXBhbmVsXScpO1xuICAgIGNvbnN0IHNlb0Nsb3NlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2VvLWNsb3NlXScpO1xuICAgIGNvbnN0IHNlb0Zvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8tZm9ybV0nKTtcbiAgICBjb25zdCBzZW9UaXRsZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2VvLXRpdGxlXScpO1xuICAgIGNvbnN0IHNlb0Rlc2NyaXB0aW9uSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8tZGVzY3JpcHRpb25dJyk7XG4gICAgY29uc3Qgc2VvSW5kZXhlZENoZWNrYm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2VvLWluZGV4ZWRdJyk7XG4gICAgY29uc3Qgc2VvRmVlZGJhY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8tZmVlZGJhY2tdJyk7XG4gICAgY29uc3Qgc2VvU2F2ZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby1zYXZlXScpO1xuICAgIGNvbnN0IHBhZ2VBY2Nlc3NpYmlsaXR5VG9nZ2xlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgICdbZGF0YS1wYWdlLWFjY2Vzc2liaWxpdHktdG9nZ2xlXScsXG4gICAgKTtcbiAgICBjb25zdCBwYWdlQWNjZXNzaWJpbGl0eVBhbmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1hY2Nlc3NpYmlsaXR5LXBhbmVsXScpO1xuICAgIGNvbnN0IHBhZ2VBY2Nlc3NpYmlsaXR5Q2xvc2VCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgJ1tkYXRhLXBhZ2UtYWNjZXNzaWJpbGl0eS1jbG9zZV0nLFxuICAgICk7XG4gICAgY29uc3QgcGFnZUFjY2Vzc2liaWxpdHlGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1hY2Nlc3NpYmlsaXR5LWZvcm1dJyk7XG4gICAgY29uc3QgcGFnZUFjY2Vzc2liaWxpdHlOYXZDaGVja2JveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAnW2RhdGEtcGFnZS1hY2Nlc3NpYmlsaXR5LW5hdl0nLFxuICAgICk7XG4gICAgY29uc3QgcGFnZUFjY2Vzc2liaWxpdHlNYWluSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgJ1tkYXRhLXBhZ2UtYWNjZXNzaWJpbGl0eS1tYWluXScsXG4gICAgKTtcbiAgICBjb25zdCBwYWdlQWNjZXNzaWJpbGl0eUZlZWRiYWNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgICdbZGF0YS1wYWdlLWFjY2Vzc2liaWxpdHktZmVlZGJhY2tdJyxcbiAgICApO1xuICAgIGNvbnN0IHBhZ2VBY2Nlc3NpYmlsaXR5U2F2ZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAnW2RhdGEtcGFnZS1hY2Nlc3NpYmlsaXR5LXNhdmVdJyxcbiAgICApO1xuICAgIC8vIFBhZ2UgcHJvcGVydGllcyBwYW5lbCBlbGVtZW50c1xuICAgIGNvbnN0IHBhZ2VQcm9wc1RvZ2dsZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXBhZ2UtcHJvcHMtdG9nZ2xlXScpO1xuICAgIGNvbnN0IHBhZ2VQcm9wc1BhbmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcm9wcy1wYW5lbF0nKTtcbiAgICBjb25zdCBwYWdlUHJvcHNDbG9zZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXBhZ2UtcHJvcHMtY2xvc2VdJyk7XG4gICAgY29uc3QgcGFnZVByb3BzRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXBhZ2UtcHJvcHMtZm9ybV0nKTtcbiAgICBjb25zdCBwYWdlTmFtZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1uYW1lXScpO1xuICAgIGNvbnN0IHBhZ2VUaXRsZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS10aXRsZS1pbnB1dF0nKTtcbiAgICBjb25zdCBwYWdlUGFyZW50U2VsZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wYXJlbnQtc2VsZWN0XScpO1xuICAgIGNvbnN0IHBhZ2VTbHVnU2VnbWVudElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1zbHVnLXNlZ21lbnQtaW5wdXRdJyk7XG4gICAgY29uc3QgcGFnZVNsdWdJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXBhZ2Utc2x1Zy1pbnB1dF0nKTtcbiAgICBjb25zdCBwYWdlRGVzY3JpcHRpb25JbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXBhZ2UtZGVzY3JpcHRpb25dJyk7XG4gICAgY29uc3QgcGFnZVByb3BzRmVlZGJhY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLXByb3BzLWZlZWRiYWNrXScpO1xuICAgIGNvbnN0IHBhZ2VQcm9wc1NhdmVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLXByb3BzLXNhdmVdJyk7XG4gICAgY29uc3QgYmxvY2tMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2tzLWxpc3RdJyk7XG4gICAgY29uc3QgYmxvY2tMaXN0RW1wdHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9ja3MtZW1wdHldJyk7XG4gICAgY29uc3QgYmxvY2tDb3VudEJhZGdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stY291bnRdJyk7XG4gICAgY29uc3QgYmxvY2tMaWJyYXJ5VG9nZ2xlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stbGlicmFyeS10b2dnbGVdJyk7XG4gICAgY29uc3QgYmxvY2tMaWJyYXJ5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stbGlicmFyeV0nKTtcbiAgICBjb25zdCBibG9ja0FkZEJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1ibG9jay1hZGRdJyk7XG4gICAgY29uc3QgYmxvY2tEZWxldGVNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWRlbGV0ZS1tb2RhbF0nKTtcbiAgICBjb25zdCBibG9ja0RlbGV0ZUNvbmZpcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1kZWxldGUtY29uZmlybV0nKTtcbiAgICBjb25zdCBibG9ja0RlbGV0ZUNhbmNlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWRlbGV0ZS1jYW5jZWxdJyk7XG4gICAgY29uc3QgYmxvY2tEZXRhaWxFbXB0eSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWRldGFpbC1lbXB0eV0nKTtcbiAgICBjb25zdCBibG9ja0RldGFpbFN0YXR1cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWRldGFpbC1zdGF0dXNdJyk7XG4gICAgY29uc3QgYmxvY2tFZGl0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1lZGl0b3JdJyk7XG4gICAgY29uc3QgYmxvY2tFZGl0b3JUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWVkaXRvci1ibG9jay1uYW1lXScpO1xuICAgIGNvbnN0IGJsb2NrRWRpdG9yVHlwZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWVkaXRvci1ibG9jay10eXBlXScpO1xuICAgIGNvbnN0IGJsb2NrRWRpdG9yVW5zdXBwb3J0ZWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1lZGl0b3ItdW5zdXBwb3J0ZWRdJyk7XG4gICAgY29uc3QgYmxvY2tGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZm9ybV0nKTtcbiAgICBjb25zdCBzdHlsZUNvbG9yQ2hpcCA9IChjaGlwLCBjb2xvcikgPT4ge1xuICAgICAgaWYgKCFjaGlwKSByZXR1cm47XG4gICAgICBpZiAoY29sb3IgPT09ICd0cmFuc3BhcmVudCcpIHtcbiAgICAgICAgY2hpcC5zdHlsZS5iYWNrZ3JvdW5kID0gVFJBTlNQQVJFTlRfUEFUVEVSTjtcbiAgICAgICAgY2hpcC5zdHlsZS5ib3JkZXJDb2xvciA9ICcjY2JkNWY1JztcbiAgICAgICAgY2hpcC5zdHlsZS5ib3hTaGFkb3cgPSAnJztcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY2hpcC5zdHlsZS5iYWNrZ3JvdW5kID0gY29sb3I7XG4gICAgICBjaGlwLnN0eWxlLmJvcmRlckNvbG9yID0gY29sb3I7XG4gICAgICBjaGlwLnN0eWxlLmJveFNoYWRvdyA9ICcwIDAgMCAxcHggcmdiYSgxNSwyMyw0MiwwLjE1KSc7XG4gICAgfTtcbiAgICBjb25zdCBlbnN1cmVDdXN0b21UaGVtZU9wdGlvbiA9IChzZWxlY3QsIHZhbHVlKSA9PiB7XG4gICAgICBpZiAoIXNlbGVjdCB8fCAhdmFsdWUpIHJldHVybjtcbiAgICAgIGlmIChBcnJheS5mcm9tKHNlbGVjdC5vcHRpb25zKS5zb21lKChvcHQpID0+IG9wdC52YWx1ZSA9PT0gdmFsdWUpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgb3B0aW9uLnZhbHVlID0gdmFsdWU7XG4gICAgICBvcHRpb24udGV4dENvbnRlbnQgPSAnQ291bGV1ciBwZXJzb25uYWxpc1x1MDBFOWUnO1xuICAgICAgb3B0aW9uLmRhdGFzZXQuY29sb3IgPSB2YWx1ZTtcbiAgICAgIGlmICh2YWx1ZSA9PT0gJ3RyYW5zcGFyZW50Jykge1xuICAgICAgICBvcHRpb24uc3R5bGUuYmFja2dyb3VuZCA9IFRSQU5TUEFSRU5UX1BBVFRFUk47XG4gICAgICAgIG9wdGlvbi5zdHlsZS5jb2xvciA9ICcjNDc1NTY5JztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9wdGlvbi5zdHlsZS5iYWNrZ3JvdW5kID0gdmFsdWU7XG4gICAgICAgIG9wdGlvbi5zdHlsZS5jb2xvciA9IGdldFJlYWRhYmxlVGV4dENvbG9yKHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb24pO1xuICAgICAgc3R5bGVTZWxlY3RPcHRpb25zKHNlbGVjdCk7XG4gICAgfTtcbiAgICBjb25zdCB1cGRhdGVDb2xvclNlbGVjdFByZXZpZXcgPSAoc2VsZWN0KSA9PiB7XG4gICAgICBpZiAoIXNlbGVjdCkgcmV0dXJuO1xuICAgICAgY29uc3Qgc2VsZWN0ZWRPcHRpb24gPSBzZWxlY3Qub3B0aW9uc1tzZWxlY3Quc2VsZWN0ZWRJbmRleF07XG4gICAgICBjb25zdCBjb2xvciA9IHNlbGVjdGVkT3B0aW9uPy5kYXRhc2V0Py5jb2xvciB8fCAnI2ZmZmZmZic7XG4gICAgICBjb25zdCBjb2xvclByZXZpZXcgPSBzZWxlY3QuY2xvc2VzdCgnLnJlbGF0aXZlJyk/LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbG9yLXByZXZpZXddJyk7XG4gICAgICBpZiAoY29sb3JQcmV2aWV3KSB7XG4gICAgICAgIGlmIChjb2xvciA9PT0gJ3RyYW5zcGFyZW50Jykge1xuICAgICAgICAgIGNvbG9yUHJldmlldy5zdHlsZS5iYWNrZ3JvdW5kID0gVFJBTlNQQVJFTlRfUEFUVEVSTjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb2xvclByZXZpZXcuc3R5bGUuYmFja2dyb3VuZCA9IGNvbG9yO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb25zdCBjb2xvckNoaXAgPSBzZWxlY3QuY2xvc2VzdCgnLnJlbGF0aXZlJyk/LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLWNvbG9yLWNoaXBdJyk7XG4gICAgICBzdHlsZUNvbG9yQ2hpcChjb2xvckNoaXAsIGNvbG9yKTtcbiAgICB9O1xuXG4gICAgY29uc3QgdGhlbWVDb2xvclNlbGVjdHMgPSBibG9ja0Zvcm1cbiAgICAgID8gQXJyYXkuZnJvbShibG9ja0Zvcm0ucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtdGhlbWUtY29sb3Itc2VsZWN0XScpKVxuICAgICAgOiBbXTtcbiAgICBjb25zdCBpc0JhY2tncm91bmRUaGVtZVNlbGVjdCA9IChzZWxlY3QpID0+IHtcbiAgICAgIGNvbnN0IG5hbWUgPSBzZWxlY3Q/LmdldEF0dHJpYnV0ZT8uKCduYW1lJykgfHwgJyc7XG4gICAgICByZXR1cm4gbmFtZS5lbmRzV2l0aCgnLWJnJyk7XG4gICAgfTtcbiAgICBjb25zdCB0aGVtZUNvbG9yUHJlc2V0cyA9IFtcbiAgICAgIHsgbGFiZWw6ICdDb3VsZXVyIHByaW1haXJlJywgdmFsdWU6ICd0aGVtZS1wcmltYXJ5JywgY3NzVmFyOiAnLS1jb2xvci1wcmltYXJ5JyB9LFxuICAgICAgeyBsYWJlbDogJ0NvdWxldXIgc2Vjb25kYWlyZScsIHZhbHVlOiAndGhlbWUtc2Vjb25kYXJ5JywgY3NzVmFyOiAnLS1jb2xvci1zZWNvbmRhcnknIH0sXG4gICAgICB7IGxhYmVsOiAnQ291bGV1ciBhY2NlbnQnLCB2YWx1ZTogJ3RoZW1lLWFjY2VudCcsIGNzc1ZhcjogJy0tY29sb3ItYWNjZW50JyB9LFxuICAgICAgeyBsYWJlbDogJ0ZvbmQnLCB2YWx1ZTogJ3RoZW1lLWJhY2tncm91bmQnLCBjc3NWYXI6ICctLWNvbG9yLWJhY2tncm91bmQnIH0sXG4gICAgICB7IGxhYmVsOiAnVGV4dGUnLCB2YWx1ZTogJ3RoZW1lLXRleHQnLCBjc3NWYXI6ICctLWNvbG9yLXRleHQnIH0sXG4gICAgXTtcbiAgICBjb25zdCBnZXRDb21wdXRlZFRoZW1lQ29sb3JWYWx1ZSA9IChjc3NWYXIsIGZhbGxiYWNrID0gJyNmZmZmZmYnKSA9PiB7XG4gICAgICBpZiAoIWNzc1ZhcikgcmV0dXJuIGZhbGxiYWNrO1xuICAgICAgY29uc3QgY29tcHV0ZWQgPSBnZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkuZ2V0UHJvcGVydHlWYWx1ZShjc3NWYXIpO1xuICAgICAgcmV0dXJuIGNvbXB1dGVkID8gY29tcHV0ZWQudHJpbSgpIDogZmFsbGJhY2s7XG4gICAgfTtcbiAgICBjb25zdCBmaWxsVGhlbWVDb2xvclNlbGVjdCA9IChzZWxlY3QpID0+IHtcbiAgICAgIGlmICghc2VsZWN0KSByZXR1cm47XG4gICAgICBzZWxlY3QuaW5uZXJIVE1MID0gJyc7XG4gICAgICB0aGVtZUNvbG9yUHJlc2V0cy5mb3JFYWNoKCh7IGxhYmVsLCB2YWx1ZSwgY3NzVmFyIH0pID0+IHtcbiAgICAgICAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICAgIG9wdGlvbi52YWx1ZSA9IHZhbHVlO1xuICAgICAgICBjb25zdCBjb2xvclZhbHVlID0gZ2V0Q29tcHV0ZWRUaGVtZUNvbG9yVmFsdWUoY3NzVmFyKTtcbiAgICAgICAgb3B0aW9uLnRleHRDb250ZW50ID0gbGFiZWw7XG4gICAgICAgIG9wdGlvbi5kYXRhc2V0LmNvbG9yID0gY29sb3JWYWx1ZTtcbiAgICAgICAgaWYgKGNvbG9yVmFsdWUgPT09ICd0cmFuc3BhcmVudCcpIHtcbiAgICAgICAgICBvcHRpb24uc3R5bGUuYmFja2dyb3VuZCA9IFRSQU5TUEFSRU5UX1BBVFRFUk47XG4gICAgICAgICAgb3B0aW9uLnN0eWxlLmNvbG9yID0gJyM0NzU1NjknO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb3B0aW9uLnN0eWxlLmJhY2tncm91bmQgPSBjb2xvclZhbHVlO1xuICAgICAgICAgICAgb3B0aW9uLnN0eWxlLmNvbG9yID0gZ2V0UmVhZGFibGVUZXh0Q29sb3IoY29sb3JWYWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb24pO1xuICAgICAgICB9KTtcbiAgICAgICAgc2VsZWN0LnZhbHVlID0gdGhlbWVDb2xvclByZXNldHNbMF0udmFsdWU7XG4gICAgICAgIHNlbGVjdC5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XG4gICAgICAgIGlmIChpc0JhY2tncm91bmRUaGVtZVNlbGVjdChzZWxlY3QpKSB7XG4gICAgICAgICAgc3R5bGVTZWxlY3RPcHRpb25zKHNlbGVjdCk7XG4gICAgICAgIH1cbiAgICAgICAgdXBkYXRlQ29sb3JTZWxlY3RQcmV2aWV3KHNlbGVjdCk7XG4gICAgICB9O1xuICAgICAgY29uc3QgcmVmcmVzaFRoZW1lQ29sb3JTZWxlY3RzID0gKCkgPT4gdGhlbWVDb2xvclNlbGVjdHMuZm9yRWFjaChmaWxsVGhlbWVDb2xvclNlbGVjdCk7XG4gICAgICByZWZyZXNoVGhlbWVDb2xvclNlbGVjdHMoKTtcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2FpLXRoZW1lLXVwZGF0ZWQnLCByZWZyZXNoVGhlbWVDb2xvclNlbGVjdHMpO1xuICAgIGNvbnN0IGJsb2NrRm9ybVNlY3Rpb25zID0gYmxvY2tGb3JtXG4gICAgICA/IEFycmF5LmZyb20oYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWVkaXRvci1zZWN0aW9uXScpKVxuICAgICAgOiBbXTtcbiAgICBjb25zdCBnZXRCbG9ja0VkaXRvclNlY3Rpb25FbGVtZW50ID0gKGNvbmZpZykgPT4ge1xuICAgICAgaWYgKCFibG9ja0Zvcm0gfHwgIWNvbmZpZz8uc2VjdGlvbikgcmV0dXJuIG51bGw7XG4gICAgICByZXR1cm4gYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLWVkaXRvci1zZWN0aW9uPVwiJHtjb25maWcuc2VjdGlvbn1cIl1gKTtcbiAgICB9O1xuICAgIC8vIE9uZ2xldHMgQ29udGVudSAvIEFwcGFyZW5jZVxuICAgIGNvbnN0IGJsb2NrVGFicyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWJsb2NrLXRhYl0nKTtcbiAgICBsZXQgYWN0aXZlQmxvY2tUYWIgPSAnY29udGVudCc7XG5cbiAgICAvLyBPbmdsZXRzIHBhbm5lYXUgZ2F1Y2hlIChCbG9jcyAvIFBhZ2VzKVxuICAgIGNvbnN0IGxlZnRQYW5lbFRhYnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1sZWZ0LXRhYl0nKTtcbiAgICBjb25zdCBsZWZ0UGFuZWxCbG9ja3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1sZWZ0LXBhbmVsPVwiYmxvY2tzXCJdJyk7XG4gICAgY29uc3QgbGVmdFBhbmVsUGFnZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1sZWZ0LXBhbmVsPVwicGFnZXNcIl0nKTtcbiAgICBsZXQgYWN0aXZlTGVmdFRhYiA9ICdibG9ja3MnO1xuXG4gICAgLy8gRm9uY3Rpb24gcG91ciBzd2l0Y2hlciBlbnRyZSBsZXMgb25nbGV0cyBCbG9jcy9QYWdlcyBkdSBwYW5uZWF1IGdhdWNoZVxuICAgIGNvbnN0IHN3aXRjaExlZnRUYWIgPSAodGFiTmFtZSkgPT4ge1xuICAgICAgYWN0aXZlTGVmdFRhYiA9IHRhYk5hbWU7XG4gICAgICBsZWZ0UGFuZWxUYWJzLmZvckVhY2goKHRhYikgPT4ge1xuICAgICAgICBjb25zdCBpc0FjdGl2ZSA9IHRhYi5kYXRhc2V0LmxlZnRUYWIgPT09IHRhYk5hbWU7XG4gICAgICAgIHRhYi5zZXRBdHRyaWJ1dGUoJ2FyaWEtc2VsZWN0ZWQnLCBpc0FjdGl2ZSA/ICd0cnVlJyA6ICdmYWxzZScpO1xuICAgICAgICBpZiAoaXNBY3RpdmUpIHtcbiAgICAgICAgICB0YWIuY2xhc3NMaXN0LmFkZCgndGV4dC1bIzlDNkJGRl0nKTtcbiAgICAgICAgICB0YWIuY2xhc3NMaXN0LnJlbW92ZSgndGV4dC1zbGF0ZS01MDAnLCAnaG92ZXI6dGV4dC1zbGF0ZS03MDAnKTtcbiAgICAgICAgICB0YWIuY2xhc3NMaXN0LmFkZCgnYWZ0ZXI6YWJzb2x1dGUnLCAnYWZ0ZXI6Ym90dG9tLTAnLCAnYWZ0ZXI6bGVmdC0wJywgJ2FmdGVyOnJpZ2h0LTAnLCAnYWZ0ZXI6aC0wLjUnLCAnYWZ0ZXI6YmctWyM5QzZCRkZdJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGFiLmNsYXNzTGlzdC5yZW1vdmUoJ3RleHQtWyM5QzZCRkZdJyk7XG4gICAgICAgICAgdGFiLmNsYXNzTGlzdC5hZGQoJ3RleHQtc2xhdGUtNTAwJywgJ2hvdmVyOnRleHQtc2xhdGUtNzAwJyk7XG4gICAgICAgICAgdGFiLmNsYXNzTGlzdC5yZW1vdmUoJ2FmdGVyOmFic29sdXRlJywgJ2FmdGVyOmJvdHRvbS0wJywgJ2FmdGVyOmxlZnQtMCcsICdhZnRlcjpyaWdodC0wJywgJ2FmdGVyOmgtMC41JywgJ2FmdGVyOmJnLVsjOUM2QkZGXScpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIC8vIEFmZmljaGVyL21hc3F1ZXIgbGVzIHBhbmVsc1xuICAgICAgaWYgKGxlZnRQYW5lbEJsb2Nrcykge1xuICAgICAgICBsZWZ0UGFuZWxCbG9ja3MuY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZGVuJywgdGFiTmFtZSAhPT0gJ2Jsb2NrcycpO1xuICAgICAgfVxuICAgICAgaWYgKGxlZnRQYW5lbFBhZ2VzKSB7XG4gICAgICAgIGxlZnRQYW5lbFBhZ2VzLmNsYXNzTGlzdC50b2dnbGUoJ2hpZGRlbicsIHRhYk5hbWUgIT09ICdwYWdlcycpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBFdmVudCBsaXN0ZW5lcnMgcG91ciBsZXMgb25nbGV0cyBkdSBwYW5uZWF1IGdhdWNoZVxuICAgIGxlZnRQYW5lbFRhYnMuZm9yRWFjaCgodGFiKSA9PiB7XG4gICAgICB0YWIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIHN3aXRjaExlZnRUYWIodGFiLmRhdGFzZXQubGVmdFRhYik7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBcbiAgICAvLyBEXHUwMEU5Y2xhcmF0aW9ucyBkZXMgXHUwMEU5bFx1MDBFOW1lbnRzIGQnYWN0aW9ucyBkdSBmb3JtdWxhaXJlIChhdmFudCBzd2l0Y2hCbG9ja1RhYilcbiAgICBjb25zdCBibG9ja0Zvcm1BY3Rpb25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZm9ybS1hY3Rpb25zXScpO1xuICAgIGNvbnN0IGJsb2NrRm9ybUF1dG9zYXZlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZm9ybS1hdXRvc2F2ZV0nKTtcblxuICAgIC8vIEZvbmN0aW9uIHBvdXIgc3dpdGNoZXIgZW50cmUgbGVzIG9uZ2xldHMgQ29udGVudS9BcHBhcmVuY2VcbiAgICBjb25zdCBzd2l0Y2hCbG9ja1RhYiA9ICh0YWJOYW1lKSA9PiB7XG4gICAgICBhY3RpdmVCbG9ja1RhYiA9IHRhYk5hbWU7XG4gICAgICAvLyBNZXR0cmUgXHUwMEUwIGpvdXIgbGVzIHN0eWxlcyBkZXMgYm91dG9ucyBkJ29uZ2xldFxuICAgICAgYmxvY2tUYWJzLmZvckVhY2goKHRhYikgPT4ge1xuICAgICAgICBjb25zdCBpc0FjdGl2ZSA9IHRhYi5kYXRhc2V0LmJsb2NrVGFiID09PSB0YWJOYW1lO1xuICAgICAgICB0YWIuc2V0QXR0cmlidXRlKCdhcmlhLXNlbGVjdGVkJywgaXNBY3RpdmUgPyAndHJ1ZScgOiAnZmFsc2UnKTtcbiAgICAgICAgaWYgKGlzQWN0aXZlKSB7XG4gICAgICAgICAgdGFiLmNsYXNzTGlzdC5hZGQoJ3RleHQtWyM5QzZCRkZdJyk7XG4gICAgICAgICAgdGFiLmNsYXNzTGlzdC5yZW1vdmUoJ3RleHQtc2xhdGUtNTAwJywgJ2hvdmVyOnRleHQtc2xhdGUtNzAwJyk7XG4gICAgICAgICAgdGFiLmNsYXNzTGlzdC5hZGQoJ2FmdGVyOmFic29sdXRlJywgJ2FmdGVyOmJvdHRvbS0wJywgJ2FmdGVyOmxlZnQtMCcsICdhZnRlcjpyaWdodC0wJywgJ2FmdGVyOmgtMC41JywgJ2FmdGVyOmJnLVsjOUM2QkZGXScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRhYi5jbGFzc0xpc3QucmVtb3ZlKCd0ZXh0LVsjOUM2QkZGXScpO1xuICAgICAgICAgIHRhYi5jbGFzc0xpc3QuYWRkKCd0ZXh0LXNsYXRlLTUwMCcsICdob3Zlcjp0ZXh0LXNsYXRlLTcwMCcpO1xuICAgICAgICAgIHRhYi5jbGFzc0xpc3QucmVtb3ZlKCdhZnRlcjphYnNvbHV0ZScsICdhZnRlcjpib3R0b20tMCcsICdhZnRlcjpsZWZ0LTAnLCAnYWZ0ZXI6cmlnaHQtMCcsICdhZnRlcjpoLTAuNScsICdhZnRlcjpiZy1bIzlDNkJGRl0nKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICAvLyBBZmZpY2hlci9tYXNxdWVyIGxlcyBwYW5lbHMgZGFucyBsYSBzZWN0aW9uIGFjdGl2ZVxuICAgICAgY29uc3QgYWN0aXZlU2VjdGlvbiA9IGJsb2NrRm9ybT8ucXVlcnlTZWxlY3RvcignW2RhdGEtZWRpdG9yLXNlY3Rpb25dOm5vdCguaGlkZGVuKScpO1xuICAgICAgaWYgKGFjdGl2ZVNlY3Rpb24pIHtcbiAgICAgICAgY29uc3QgcGFuZWxzID0gYWN0aXZlU2VjdGlvbi5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1ibG9jay1wYW5lbF0nKTtcbiAgICAgICAgcGFuZWxzLmZvckVhY2goKHBhbmVsKSA9PiB7XG4gICAgICAgICAgaWYgKHBhbmVsLmRhdGFzZXQuYmxvY2tQYW5lbCA9PT0gdGFiTmFtZSkge1xuICAgICAgICAgICAgcGFuZWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhbmVsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICAvLyBBZmZpY2hlci9tYXNxdWVyIGxlcyBib3V0b25zIHNlbG9uIGwnb25nbGV0XG4gICAgICAvLyBDb250ZW51IFx1MjE5MiBib3V0b25zIEVucmVnaXN0cmVyL0FubnVsZXJcbiAgICAgIC8vIEFwcGFyZW5jZSBcdTIxOTIgaW5kaWNhdGV1ciBhdXRvLXNhdmVcbiAgICAgIGlmIChibG9ja0Zvcm1BY3Rpb25zICYmIGJsb2NrRm9ybUF1dG9zYXZlKSB7XG4gICAgICAgIGlmICh0YWJOYW1lID09PSAnY29udGVudCcpIHtcbiAgICAgICAgICBibG9ja0Zvcm1BY3Rpb25zLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgIGJsb2NrRm9ybUF1dG9zYXZlLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGJsb2NrRm9ybUFjdGlvbnMuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgICAgYmxvY2tGb3JtQXV0b3NhdmUuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gRXZlbnQgbGlzdGVuZXJzIHBvdXIgbGVzIG9uZ2xldHNcbiAgICBibG9ja1RhYnMuZm9yRWFjaCgodGFiKSA9PiB7XG4gICAgICB0YWIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIHN3aXRjaEJsb2NrVGFiKHRhYi5kYXRhc2V0LmJsb2NrVGFiKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgY29uc3QgY29sbGVjdGlvblNlbGVjdCA9IGJsb2NrRm9ybT8ucXVlcnlTZWxlY3RvcignW25hbWU9XCJjb2xsZWN0aW9uLWdyaWQtY29sbGVjdGlvblwiXScpO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25TZWxlY3Rpb25JbmZvID0gYmxvY2tGb3JtPy5xdWVyeVNlbGVjdG9yKFxuICAgICAgJ1tkYXRhLWNvbGxlY3Rpb24tc2VsZWN0aW9uLWluZm9dJyxcbiAgICApO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25DYXJkSXRlbVNlbGVjdCA9IGJsb2NrRm9ybT8ucXVlcnlTZWxlY3RvcihcbiAgICAgICdbZGF0YS1jb2xsZWN0aW9uLWNhcmQtaXRlbS1zZWxlY3RdJyxcbiAgICApO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25DYXJkUmVzZXRCdXR0b24gPSBibG9ja0Zvcm0/LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbGxlY3Rpb24tY2FyZC1yZXNldF0nKTtcbiAgICBjb25zdCBjb2xsZWN0aW9uQ2FyZE92ZXJyaWRlRmllbGRzID0gYmxvY2tGb3JtXG4gICAgICA/IHtcbiAgICAgICAgICBjdGFTdHlsZTogYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiY29sbGVjdGlvbi1pdGVtLWN0YS1zdHlsZVwiXScpLFxuICAgICAgICAgIGN0YVRleHRDb2xvcjogYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiY29sbGVjdGlvbi1pdGVtLWN0YS10ZXh0LWNvbG9yXCJdJyksXG4gICAgICAgICAgYmc6IGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImNvbGxlY3Rpb24taXRlbS1iZ1wiXScpLFxuICAgICAgICAgIGJvcmRlclJhZGl1czogYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiY29sbGVjdGlvbi1pdGVtLWJvcmRlci1yYWRpdXNcIl0nKSxcbiAgICAgICAgICBzaGFkb3c6IGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImNvbGxlY3Rpb24taXRlbS1zaGFkb3dcIl0nKSxcbiAgICAgICAgICBib3JkZXI6IGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImNvbGxlY3Rpb24taXRlbS1ib3JkZXJcIl0nKSxcbiAgICAgICAgICBhbmltYXRpb246IGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImNvbGxlY3Rpb24taXRlbS1hbmltLXR5cGVcIl0nKSxcbiAgICAgICAgICBhbmltYXRpb25EZWxheTogYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiY29sbGVjdGlvbi1pdGVtLWFuaW0tZGVsYXlcIl0nKSxcbiAgICAgICAgICBhbmltYXRpb25EdXJhdGlvbjogYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiY29sbGVjdGlvbi1pdGVtLWFuaW0tZHVyYXRpb25cIl0nKSxcbiAgICAgICAgfVxuICAgICAgOiB7fTtcbiAgICBjb25zdCBibG9ja0Zvcm1DYW5jZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1mb3JtLWNhbmNlbF0nKTtcbiAgICBjb25zdCBncm91cFByZXZpZXdNb2JpbGUgPSBibG9ja0Zvcm0/LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWdyb3VwLXByZXZpZXctbW9iaWxlXScpO1xuICAgIGNvbnN0IGdyb3VwUHJldmlld0Rlc2t0b3AgPSBibG9ja0Zvcm0/LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWdyb3VwLXByZXZpZXctZGVza3RvcF0nKTtcbiAgICBjb25zdCBjb2xsZWN0aW9uUHJldmlld01vYmlsZSA9IGJsb2NrRm9ybT8ucXVlcnlTZWxlY3RvcignW2RhdGEtY29sbGVjdGlvbi1wcmV2aWV3LW1vYmlsZV0nKTtcbiAgICBjb25zdCBjb2xsZWN0aW9uUHJldmlld0Rlc2t0b3AgPSBibG9ja0Zvcm0/LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbGxlY3Rpb24tcHJldmlldy1kZXNrdG9wXScpO1xuICAgIGNvbnN0IGJsb2NrVHlwZUZvcm1zID0ge1xuICAgICAgaGVybzoge1xuICAgICAgICBzZWN0aW9uOiAnaGVybycsXG4gICAgICAgIGxhYmVsRmllbGQ6ICd0aXRsZScsXG4gICAgICAgIGRlc2NyaXB0aW9uRmllbGQ6ICdzdWJ0aXRsZScsXG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIHRpdGxlOiAnaGVyby10aXRsZScsXG4gICAgICAgICAgc3VidGl0bGU6ICdoZXJvLXN1YnRpdGxlJyxcbiAgICAgICAgICBjdGFMYWJlbDogJ2hlcm8tY3RhLWxhYmVsJyxcbiAgICAgICAgICBjdGFVcmw6ICdoZXJvLWN0YS11cmwnLFxuICAgICAgICAgIGN0YVRleHRDb2xvcjogJ2hlcm8tY3RhLXRleHQtY29sb3InLFxuICAgICAgICAgIC8vIEFwcGFyZW5jZVxuICAgICAgICAgIGltYWdlOiAnaGVyby1pbWFnZScsXG4gICAgICAgICAgbGF5b3V0OiAnaGVyby1sYXlvdXQnLFxuICAgICAgICAgIGltYWdlV2lkdGg6ICdoZXJvLWltYWdlLXdpZHRoJyxcbiAgICAgICAgICBpbWFnZUhlaWdodDogJ2hlcm8taW1hZ2UtaGVpZ2h0JyxcbiAgICAgICAgICBpbWFnZU9iamVjdEZpdDogJ2hlcm8taW1hZ2Utb2JqZWN0LWZpdCcsXG4gICAgICAgICAgaGVpZ2h0OiAnaGVyby1oZWlnaHQnLFxuICAgICAgICAgIGNvbnRlbnRBbGlnbjogJ2hlcm8tY29udGVudC1hbGlnbicsXG4gICAgICAgICAgaG9yaXpvbnRhbEFsaWduOiAnaGVyby1ob3Jpem9udGFsLWFsaWduJyxcbiAgICAgICAgICB0ZXh0QWxpZ246ICdoZXJvLXRleHQtYWxpZ24nLFxuICAgICAgICAgIG92ZXJsYXk6ICdoZXJvLW92ZXJsYXknLFxuICAgICAgICAgIHRpdGxlU2l6ZTogJ2hlcm8tdGl0bGUtc2l6ZScsXG4gICAgICAgICAgLy8gQ2FyZCBzdHlsZVxuICAgICAgICAgIGJnOiAnaGVyby1iZycsXG4gICAgICAgICAgYm9yZGVyUmFkaXVzOiAnaGVyby1ib3JkZXItcmFkaXVzJyxcbiAgICAgICAgICBzaGFkb3c6ICdoZXJvLXNoYWRvdycsXG4gICAgICAgICAgYm9yZGVyOiAnaGVyby1ib3JkZXInLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIHBhcmFncmFwaGU6IHtcbiAgICAgICAgc2VjdGlvbjogJ3BhcmFncmFwaCcsXG4gICAgICAgIGxhYmVsRmllbGQ6ICd0aXRsZScsXG4gICAgICAgIGRlc2NyaXB0aW9uRmllbGQ6ICdjb250ZW50JyxcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgdGl0bGU6ICdwYXJhZ3JhcGgtdGl0bGUnLFxuICAgICAgICAgIGNvbnRlbnQ6ICdwYXJhZ3JhcGgtY29udGVudCcsXG4gICAgICAgICAgLy8gQXBwYXJlbmNlXG4gICAgICAgICAgYWxpZ246ICdwYXJhZ3JhcGgtYWxpZ24nLFxuICAgICAgICAgIHRpdGxlU2l6ZTogJ3BhcmFncmFwaC10aXRsZS1zaXplJyxcbiAgICAgICAgICB0ZXh0U2l6ZTogJ3BhcmFncmFwaC10ZXh0LXNpemUnLFxuICAgICAgICAgIHNwYWNpbmc6ICdwYXJhZ3JhcGgtc3BhY2luZycsXG4gICAgICAgICAgLy8gQ2FyZCBzdHlsZVxuICAgICAgICAgIGJnOiAncGFyYWdyYXBoLWJnJyxcbiAgICAgICAgICBib3JkZXJSYWRpdXM6ICdwYXJhZ3JhcGgtYm9yZGVyLXJhZGl1cycsXG4gICAgICAgICAgc2hhZG93OiAncGFyYWdyYXBoLXNoYWRvdycsXG4gICAgICAgICAgYm9yZGVyOiAncGFyYWdyYXBoLWJvcmRlcicsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgaW1hZ2U6IHtcbiAgICAgICAgc2VjdGlvbjogJ2ltYWdlJyxcbiAgICAgICAgbGFiZWxGaWVsZDogJ2FsdCcsXG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIHNyYzogJ2ltYWdlLXNyYycsXG4gICAgICAgICAgYWx0OiAnaW1hZ2UtYWx0JyxcbiAgICAgICAgICBzaG93Q2FwdGlvbjogJ2ltYWdlLWNhcHRpb24tdG9nZ2xlJyxcbiAgICAgICAgICBjYXB0aW9uOiAnaW1hZ2UtY2FwdGlvbicsXG4gICAgICAgICAgLy8gQXBwYXJlbmNlXG4gICAgICAgICAgcm91bmRlZDogJ2ltYWdlLXJvdW5kZWQnLFxuICAgICAgICAgIHNoYWRvdzogJ2ltYWdlLXNoYWRvdycsXG4gICAgICAgICAgbWF4V2lkdGg6ICdpbWFnZS1tYXgtd2lkdGgnLFxuICAgICAgICAgIGhlaWdodDogJ2ltYWdlLWhlaWdodCcsXG4gICAgICAgICAgb2JqZWN0Rml0OiAnaW1hZ2Utb2JqZWN0LWZpdCcsXG4gICAgICAgICAgYWxpZ246ICdpbWFnZS1hbGlnbicsXG4gICAgICAgICAgLy8gQ2FyZCBzdHlsZVxuICAgICAgICAgIGJnOiAnaW1hZ2UtYmcnLFxuICAgICAgICAgIGJvcmRlclJhZGl1czogJ2ltYWdlLWJvcmRlci1yYWRpdXMnLFxuICAgICAgICAgIGJvcmRlcjogJ2ltYWdlLWJvcmRlcicsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgZ3JvdXBlOiB7XG4gICAgICAgIHNlY3Rpb246ICdncm91cCcsXG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIC8vIEFwcGFyZW5jZVxuICAgICAgICAgIGNvbHVtbnNNb2JpbGU6ICdncm91cC1jb2x1bW5zLW1vYmlsZScsXG4gICAgICAgICAgY29sdW1uc0Rlc2t0b3A6ICdncm91cC1jb2x1bW5zLWRlc2t0b3AnLFxuICAgICAgICAgIGdhcDogJ2dyb3VwLWdhcCcsXG4gICAgICAgICAgaXRlbXNBbGlnbjogJ2dyb3VwLWl0ZW1zLWFsaWduJyxcbiAgICAgICAgICBtb2JpbGVMYXlvdXQ6ICdncm91cC1tb2JpbGUtbGF5b3V0JyxcbiAgICAgICAgICAvLyBDYXJkIHN0eWxlXG4gICAgICAgICAgYmc6ICdncm91cC1iZycsXG4gICAgICAgICAgYm9yZGVyUmFkaXVzOiAnZ3JvdXAtYm9yZGVyLXJhZGl1cycsXG4gICAgICAgICAgc2hhZG93OiAnZ3JvdXAtc2hhZG93JyxcbiAgICAgICAgICBib3JkZXI6ICdncm91cC1ib3JkZXInLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGNvbGxlY3Rpb25ncmlkOiB7XG4gICAgICAgIHNlY3Rpb246ICdjb2xsZWN0aW9uJyxcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgY29sbGVjdGlvbklkOiAnY29sbGVjdGlvbi1ncmlkLWNvbGxlY3Rpb24nLFxuICAgICAgICAgIGxpbWl0OiAnY29sbGVjdGlvbi1ncmlkLWxpbWl0JyxcbiAgICAgICAgICAvLyBBcHBhcmVuY2VcbiAgICAgICAgICBjb2x1bW5zTW9iaWxlOiAnY29sbGVjdGlvbi1jb2x1bW5zLW1vYmlsZScsXG4gICAgICAgICAgY29sdW1uc0Rlc2t0b3A6ICdjb2xsZWN0aW9uLWNvbHVtbnMtZGVza3RvcCcsXG4gICAgICAgICAgZ2FwOiAnY29sbGVjdGlvbi1nYXAnLFxuICAgICAgICAgIGl0ZW1zQWxpZ246ICdjb2xsZWN0aW9uLWl0ZW1zLWFsaWduJyxcbiAgICAgICAgICBjYXJkUm91bmRlZDogJ2NvbGxlY3Rpb24tY2FyZC1yb3VuZGVkJyxcbiAgICAgICAgICBtb2JpbGVMYXlvdXQ6ICdjb2xsZWN0aW9uLW1vYmlsZS1sYXlvdXQnLFxuICAgICAgICAgIC8vIENhcmQgc3R5bGVcbiAgICAgICAgICBiZzogJ2NvbGxlY3Rpb24tYmcnLFxuICAgICAgICAgIGJvcmRlclJhZGl1czogJ2NvbGxlY3Rpb24tYm9yZGVyLXJhZGl1cycsXG4gICAgICAgICAgc2hhZG93OiAnY29sbGVjdGlvbi1zaGFkb3cnLFxuICAgICAgICAgIGJvcmRlcjogJ2NvbGxlY3Rpb24tYm9yZGVyJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBmb3JtOiB7XG4gICAgICAgIHNlY3Rpb246ICdmb3JtJyxcbiAgICAgICAgbGFiZWxGaWVsZDogJ2Zvcm1UaXRsZScsXG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIGZvcm1UaXRsZTogJ2Zvcm0tdGl0bGUnLFxuICAgICAgICAgIGFjdGlvblVybDogJ2Zvcm0tYWN0aW9uLXVybCcsXG4gICAgICAgICAgbWV0aG9kOiAnZm9ybS1tZXRob2QnLFxuICAgICAgICAgIHNlcnZpY2VOYW1lOiAnZm9ybS1zZXJ2aWNlLW5hbWUnLFxuICAgICAgICAgIHN1Ym1pdExhYmVsOiAnZm9ybS1zdWJtaXQtbGFiZWwnLFxuICAgICAgICAgIHN1Y2Nlc3NNZXNzYWdlOiAnZm9ybS1zdWNjZXNzLW1lc3NhZ2UnLFxuICAgICAgICAgIC8vIEFwcGFyZW5jZVxuICAgICAgICAgIG1heFdpZHRoOiAnZm9ybS1tYXgtd2lkdGgnLFxuICAgICAgICAgIGFsaWduOiAnZm9ybS1hbGlnbicsXG4gICAgICAgICAgYnV0dG9uUm91bmRlZDogJ2Zvcm0tYnV0dG9uLXJvdW5kZWQnLFxuICAgICAgICAgIHNwYWNpbmc6ICdmb3JtLXNwYWNpbmcnLFxuICAgICAgICAgIC8vIENhcmQgc3R5bGVcbiAgICAgICAgICBiZzogJ2Zvcm0tYmcnLFxuICAgICAgICAgIGJvcmRlclJhZGl1czogJ2Zvcm0tYm9yZGVyLXJhZGl1cycsXG4gICAgICAgICAgc2hhZG93OiAnZm9ybS1zaGFkb3cnLFxuICAgICAgICAgIGJvcmRlcjogJ2Zvcm0tYm9yZGVyJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBuZXdzbGV0dGVyZW1iZWQ6IHtcbiAgICAgICAgc2VjdGlvbjogJ25ld3NsZXR0ZXInLFxuICAgICAgICBsYWJlbEZpZWxkOiAndGl0bGUnLFxuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICB0aXRsZTogJ25ld3NsZXR0ZXItdGl0bGUnLFxuICAgICAgICAgIHNlcnZpY2VOYW1lOiAnbmV3c2xldHRlci1zZXJ2aWNlLW5hbWUnLFxuICAgICAgICAgIGVtYmVkQ29kZTogJ25ld3NsZXR0ZXItZW1iZWQtY29kZScsXG4gICAgICAgICAgLy8gQXBwYXJlbmNlXG4gICAgICAgICAgbWF4V2lkdGg6ICduZXdzbGV0dGVyLW1heC13aWR0aCcsXG4gICAgICAgICAgYWxpZ246ICduZXdzbGV0dGVyLWFsaWduJyxcbiAgICAgICAgICBwYWRkaW5nOiAnbmV3c2xldHRlci1wYWRkaW5nJyxcbiAgICAgICAgICBiZzogJ25ld3NsZXR0ZXItYmcnLFxuICAgICAgICAgIC8vIENhcmQgc3R5bGVcbiAgICAgICAgICBib3JkZXJSYWRpdXM6ICduZXdzbGV0dGVyLWJvcmRlci1yYWRpdXMnLFxuICAgICAgICAgIHNoYWRvdzogJ25ld3NsZXR0ZXItc2hhZG93JyxcbiAgICAgICAgICBib3JkZXI6ICduZXdzbGV0dGVyLWJvcmRlcicsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgY2FyZDoge1xuICAgICAgICBzZWN0aW9uOiAnY2FyZCcsXG4gICAgICAgIGxhYmVsRmllbGQ6ICd0aXRsZScsXG4gICAgICAgIGRlc2NyaXB0aW9uRmllbGQ6ICdkZXNjcmlwdGlvbicsXG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIHRpdGxlOiAnY2FyZC10aXRsZScsXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdjYXJkLWRlc2NyaXB0aW9uJyxcbiAgICAgICAgICBpbWFnZTogJ2NhcmQtaW1hZ2UnLFxuICAgICAgICAgIGN0YVRleHQ6ICdjYXJkLWN0YS10ZXh0JyxcbiAgICAgICAgICBjdGFVcmw6ICdjYXJkLWN0YS11cmwnLFxuICAgICAgICAgIC8vIENhcmQgc3R5bGVcbiAgICAgICAgICBiZzogJ2NhcmQtYmcnLFxuICAgICAgICAgIGJvcmRlclJhZGl1czogJ2NhcmQtYm9yZGVyLXJhZGl1cycsXG4gICAgICAgICAgc2hhZG93OiAnY2FyZC1zaGFkb3cnLFxuICAgICAgICAgIGJvcmRlcjogJ2NhcmQtYm9yZGVyJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBib3V0b246IHtcbiAgICAgICAgc2VjdGlvbjogJ2J1dHRvbicsXG4gICAgICAgIGxhYmVsRmllbGQ6ICd0ZXh0JyxcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgdGV4dDogJ2J1dHRvbi10ZXh0JyxcbiAgICAgICAgICB1cmw6ICdidXR0b24tdXJsJyxcbiAgICAgICAgICBpY29uOiAnYnV0dG9uLWljb24nLFxuICAgICAgICAgIC8vIEFwcGFyZW5jZVxuICAgICAgICAgIGFsaWduOiAnYnV0dG9uLWFsaWduJyxcbiAgICAgICAgICBzaXplOiAnYnV0dG9uLXNpemUnLFxuICAgICAgICAgIHRleHRDb2xvcjogJ2J1dHRvbi10ZXh0LWNvbG9yJyxcbiAgICAgICAgICAvLyBDYXJkIHN0eWxlXG4gICAgICAgICAgYmc6ICdidXR0b24tYmcnLFxuICAgICAgICAgIGJvcmRlclJhZGl1czogJ2J1dHRvbi1ib3JkZXItcmFkaXVzJyxcbiAgICAgICAgICBzaGFkb3c6ICdidXR0b24tc2hhZG93JyxcbiAgICAgICAgICBib3JkZXI6ICdidXR0b24tYm9yZGVyJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfTtcbiAgICBjb25zdCBibG9ja1R5cGVBbGlhc2VzID0ge1xuICAgICAgdGV4dGU6ICdwYXJhZ3JhcGhlJyxcbiAgICAgIHBhcmFncmFwaDogJ3BhcmFncmFwaGUnLFxuICAgICAgcGFyYWdyYXBoczogJ3BhcmFncmFwaGUnLFxuICAgICAgcGFyYWdyYXBoZXM6ICdwYXJhZ3JhcGhlJyxcbiAgICAgIHRleHQ6ICdwYXJhZ3JhcGhlJyxcbiAgICAgIGhlcm86ICdoZXJvJyxcbiAgICAgIGltYWdlOiAnaW1hZ2UnLFxuICAgICAgZ3JvdXBlOiAnZ3JvdXBlJyxcbiAgICAgIGdyb3VwOiAnZ3JvdXBlJyxcbiAgICAgIGNhcmQ6ICdjYXJkJyxcbiAgICAgIGNhcnRlOiAnY2FyZCcsXG4gICAgICBjb2xsZWN0aW9uOiAnY29sbGVjdGlvbmdyaWQnLFxuICAgICAgY29sbGVjdGlvbmdyaWQ6ICdjb2xsZWN0aW9uZ3JpZCcsXG4gICAgICAnY29sbGVjdGlvbi1ncmlkJzogJ2NvbGxlY3Rpb25ncmlkJyxcbiAgICAgIGZvcm06ICdmb3JtJyxcbiAgICAgIGZvcm11bGFpcmU6ICdmb3JtJyxcbiAgICAgIGNvbnRhY3Q6ICdmb3JtJyxcbiAgICAgIG5ld3NsZXR0ZXJlbWJlZDogJ25ld3NsZXR0ZXJlbWJlZCcsXG4gICAgICBuZXdzbGV0dGVyOiAnbmV3c2xldHRlcmVtYmVkJyxcbiAgICAgIGVtYmVkOiAnbmV3c2xldHRlcmVtYmVkJyxcbiAgICAgIGJvdXRvbjogJ2JvdXRvbicsXG4gICAgICBidXR0b246ICdib3V0b24nLFxuICAgICAgY3RhOiAnYm91dG9uJyxcbiAgICB9O1xuICAgIGNvbnN0IGFuaW1hdGlvbkZpZWxkTWFwID0ge1xuICAgICAgYW5pbWF0aW9uOiAnYW5pbS10eXBlJyxcbiAgICAgIGFuaW1hdGlvbkRlbGF5OiAnYW5pbS1kZWxheScsXG4gICAgICBhbmltYXRpb25EdXJhdGlvbjogJ2FuaW0tZHVyYXRpb24nLFxuICAgIH07XG4gICAgT2JqZWN0LnZhbHVlcyhibG9ja1R5cGVGb3JtcykuZm9yRWFjaCgoY29uZmlnKSA9PiB7XG4gICAgICBjb25maWcuZmllbGRzID0geyAuLi5jb25maWcuZmllbGRzLCAuLi5hbmltYXRpb25GaWVsZE1hcCB9O1xuICAgIH0pO1xuICAgIGNvbnN0IHVwZGF0ZUdyb3VwTWluaVByZXZpZXcgPSAobW9iaWxlVmFsdWUsIGRlc2t0b3BWYWx1ZSkgPT4ge1xuICAgICAgaWYgKCFncm91cFByZXZpZXdNb2JpbGUgfHwgIWdyb3VwUHJldmlld0Rlc2t0b3ApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVuZGVyQm94ZXMgPSAoY291bnQpID0+XG4gICAgICAgIEFycmF5LmZyb20oeyBsZW5ndGg6IE51bWJlcihjb3VudCkgfHwgMSB9KVxuICAgICAgICAgIC5tYXAoKCkgPT4gJzxzcGFuIGNsYXNzPVwiYmxvY2sgaC0yIHctZnVsbCByb3VuZGVkLWZ1bGwgYmctc2xhdGUtMzAwXCI+PC9zcGFuPicpXG4gICAgICAgICAgLmpvaW4oJycpO1xuICAgICAgZ3JvdXBQcmV2aWV3TW9iaWxlLmlubmVySFRNTCA9IHJlbmRlckJveGVzKG1vYmlsZVZhbHVlKTtcbiAgICAgIGdyb3VwUHJldmlld0Rlc2t0b3AuaW5uZXJIVE1MID0gcmVuZGVyQm94ZXMoZGVza3RvcFZhbHVlKTtcbiAgICB9O1xuICAgIGNvbnN0IHVwZGF0ZUNvbGxlY3Rpb25NaW5pUHJldmlldyA9IChtb2JpbGVWYWx1ZSwgZGVza3RvcFZhbHVlKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25QcmV2aWV3TW9iaWxlIHx8ICFjb2xsZWN0aW9uUHJldmlld0Rlc2t0b3ApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVuZGVyQm94ZXMgPSAoY291bnQpID0+XG4gICAgICAgIEFycmF5LmZyb20oeyBsZW5ndGg6IE51bWJlcihjb3VudCkgfHwgMSB9KVxuICAgICAgICAgIC5tYXAoKCkgPT4gJzxzcGFuIGNsYXNzPVwiYmxvY2sgaC0yIHctZnVsbCByb3VuZGVkLWZ1bGwgYmctdmlvbGV0LTMwMFwiPjwvc3Bhbj4nKVxuICAgICAgICAgIC5qb2luKCcnKTtcbiAgICAgIGNvbGxlY3Rpb25QcmV2aWV3TW9iaWxlLmlubmVySFRNTCA9IHJlbmRlckJveGVzKG1vYmlsZVZhbHVlKTtcbiAgICAgIGNvbGxlY3Rpb25QcmV2aWV3RGVza3RvcC5pbm5lckhUTUwgPSByZW5kZXJCb3hlcyhkZXNrdG9wVmFsdWUpO1xuICAgIH07XG4gICAgY29uc3QgZmV0Y2hQYWdlc0Zyb21TZXJ2ZXIgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXBhZ2VzQXBpQmFzZSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHBhZ2VzQXBpQmFzZSwgeyBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxlcyBwYWdlcy4nKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gW10pO1xuICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkocGF5bG9hZCkgPyBwYXlsb2FkIDogW107XG4gICAgfTtcbiAgICBjb25zdCBjcmVhdGVQYWdlT25TZXJ2ZXIgPSBhc3luYyAoeyBuYW1lLCB0aXRsZSwgc2x1ZyB9KSA9PiB7XG4gICAgICBpZiAoIXBhZ2VzQXBpQmFzZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NpdGUgaW5jb25udS4nKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2gocGFnZXNBcGlCYXNlLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBuYW1lLCB0aXRsZSwgc2x1ZyB9KSxcbiAgICAgIH0pO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IocGF5bG9hZC5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIGNyXHUwMEU5ZXIgbGEgcGFnZS4nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgfTtcbiAgICBjb25zdCBzYXZlUGFnZVRvU2VydmVyID0gYXN5bmMgKHBhZ2UpID0+IHtcbiAgICAgIGlmICghcGFnZXNBcGlCYXNlIHx8ICFwYWdlPy5pZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke3BhZ2VzQXBpQmFzZX0vJHtlbmNvZGVVUklDb21wb25lbnQocGFnZS5pZCl9YCwge1xuICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBhZ2UpLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHBheWxvYWQubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBzYXV2ZWdhcmRlciBsYSBwYWdlLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNhdmVkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICBpZiAoc2F2ZWQ/LmlkKSB7XG4gICAgICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZVBhZ2VEYXRhKHNhdmVkKTtcbiAgICAgICAgICBwYWdlcyA9IHBhZ2VzLm1hcCgoZW50cnkpID0+IChlbnRyeS5pZCA9PT0gbm9ybWFsaXplZC5pZCA/IG5vcm1hbGl6ZWQgOiBlbnRyeSkpO1xuICAgICAgICAgIGlmIChjdXJyZW50UGFnZT8uaWQgPT09IG5vcm1hbGl6ZWQuaWQpIHtcbiAgICAgICAgICAgIGN1cnJlbnRQYWdlID0gbm9ybWFsaXplZDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNhdmVkO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkZXNpZ25dIFNhdmUgcGFnZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UgfHwgJ1NhdXZlZ2FyZGUgaW1wb3NzaWJsZS4nKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGxvYWRQYWdlc0Zyb21TZXJ2ZXIgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXBhZ2VzQXBpQmFzZSkge1xuICAgICAgICBwYWdlcyA9IFtdO1xuICAgICAgICBhY3RpdmVQYWdlSWQgPSBudWxsO1xuICAgICAgICBjdXJyZW50UGFnZSA9IG51bGw7XG4gICAgICAgIHJlbmRlclBhZ2VMaXN0cyhwYWdlcywgYWN0aXZlUGFnZUlkKTtcbiAgICAgICAgcmVuZGVyQmxvY2tMaXN0KG51bGwpO1xuICAgICAgICBibG9ja0RldGFpbEVtcHR5Py5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgYmxvY2tFZGl0b3I/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBsb2FkZWRQYWdlcyA9IGF3YWl0IGZldGNoUGFnZXNGcm9tU2VydmVyKCk7XG4gICAgICAgIHBhZ2VzID0gKEFycmF5LmlzQXJyYXkobG9hZGVkUGFnZXMpID8gbG9hZGVkUGFnZXMgOiBbXSkubWFwKChwYWdlKSA9PlxuICAgICAgICAgIG5vcm1hbGl6ZVBhZ2VEYXRhKHBhZ2UpLFxuICAgICAgICApO1xuICAgICAgICBpZiAocGFnZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgYWN0aXZlUGFnZUlkID0gbnVsbDtcbiAgICAgICAgICBjdXJyZW50UGFnZSA9IG51bGw7XG4gICAgICAgICAgcmVuZGVyUGFnZUxpc3RzKHBhZ2VzLCBhY3RpdmVQYWdlSWQpO1xuICAgICAgICAgIHJlbmRlckJsb2NrTGlzdChudWxsKTtcbiAgICAgICAgICBibG9ja0RldGFpbEVtcHR5Py5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICBibG9ja0VkaXRvcj8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgICAgcHJldmlld0ZyYW1lICYmIChwcmV2aWV3RnJhbWUuc3JjZG9jID0gZ2V0TG9hZGluZ1ByZXZpZXdIdG1sKCkpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBhY3RpdmVQYWdlSWQgPSBnZXRTdG9yZWRBY3RpdmVQYWdlKHBhZ2VzKTtcbiAgICAgICAgc2V0QWN0aXZlUGFnZShhY3RpdmVQYWdlSWQpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkZXNpZ25dIEltcG9zc2libGUgZGUgY2hhcmdlciBsZXMgcGFnZXMnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoJ0ltcG9zc2libGUgZGUgY2hhcmdlciBsZXMgcGFnZXMuJyk7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBub3JtYWxpemVUeXBlID0gKHZhbHVlKSA9PlxuICAgICAgKHZhbHVlIHx8ICcnKS5ub3JtYWxpemUoJ05GRCcpLnJlcGxhY2UoL1tcXHUwMzAwLVxcdTAzNmZdL2csICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgIGNvbnN0IGdldEJsb2NrRm9ybUNvbmZpZyA9IChibG9jaykgPT4ge1xuICAgICAgaWYgKCFibG9jaykge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHR5cGVLZXkgPSBub3JtYWxpemVUeXBlKGJsb2NrLnR5cGUpO1xuICAgICAgY29uc3QgYWxpYXMgPSBibG9ja1R5cGVBbGlhc2VzW3R5cGVLZXldIHx8IHR5cGVLZXk7XG4gICAgICByZXR1cm4gYmxvY2tUeXBlRm9ybXNbYWxpYXNdIHx8IG51bGw7XG4gICAgfTtcbiAgICBjb25zdCBwb3B1bGF0ZUJsb2NrRm9ybSA9IChibG9jaykgPT4ge1xuICAgICAgaWYgKCFibG9ja0Zvcm0gfHwgIWJsb2NrRWRpdG9yKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChibG9jayAmJiAhYmxvY2suc2V0dGluZ3MpIHtcbiAgICAgICAgYmxvY2suc2V0dGluZ3MgPSB7fTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNvbmZpZyA9IGdldEJsb2NrRm9ybUNvbmZpZyhibG9jayk7XG4gICAgICBjb25zdCBzZWN0aW9uUm9vdCA9IGdldEJsb2NrRWRpdG9yU2VjdGlvbkVsZW1lbnQoY29uZmlnKSB8fCBibG9ja0Zvcm07XG4gICAgICBpZiAoYmxvY2tFZGl0b3JUaXRsZSkge1xuICAgICAgICBibG9ja0VkaXRvclRpdGxlLnRleHRDb250ZW50ID0gYmxvY2s/LmxhYmVsIHx8ICdCbG9jJztcbiAgICAgIH1cbiAgICAgIGlmIChibG9ja0VkaXRvclR5cGUpIHtcbiAgICAgICAgYmxvY2tFZGl0b3JUeXBlLnRleHRDb250ZW50ID0gYmxvY2s/LnR5cGUgfHwgJ0Jsb2MnO1xuICAgICAgfVxuICAgICAgaWYgKCFjb25maWcpIHtcbiAgICAgICAgYmxvY2tGb3JtLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBibG9ja0VkaXRvclVuc3VwcG9ydGVkPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgYmxvY2tGb3JtLmRhdGFzZXQuYmxvY2tJZCA9ICcnO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBibG9ja0VkaXRvclVuc3VwcG9ydGVkPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGJsb2NrRm9ybS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGJsb2NrRm9ybS5yZXNldCgpO1xuICAgICAgYmxvY2tGb3JtLmRhdGFzZXQuYmxvY2tJZCA9IGJsb2NrLmlkO1xuICAgICAgYmxvY2tGb3JtU2VjdGlvbnMuZm9yRWFjaCgoc2VjdGlvbikgPT4ge1xuICAgICAgICBjb25zdCBzZWN0aW9uSWQgPSBzZWN0aW9uLmRhdGFzZXQuZWRpdG9yU2VjdGlvbjtcbiAgICAgICAgaWYgKHNlY3Rpb25JZCA9PT0gY29uZmlnLnNlY3Rpb24pIHtcbiAgICAgICAgICBzZWN0aW9uLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlY3Rpb24uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgLy8gUlx1MDBFOWluaXRpYWxpc2VyIHN1ciBsJ29uZ2xldCBDb250ZW51XG4gICAgICBzd2l0Y2hCbG9ja1RhYignY29udGVudCcpO1xuICAgICAgaWYgKGNvbmZpZy5zZWN0aW9uID09PSAnY29sbGVjdGlvbicpIHtcbiAgICAgICAgY29uc3QgZGVzaXJlZFZhbHVlID0gYmxvY2suY29sbGVjdGlvbklkIHx8IGJsb2NrLnNldHRpbmdzPy5jb2xsZWN0aW9uSWQgfHwgJyc7XG4gICAgICAgIHVwZGF0ZUNvbGxlY3Rpb25TZWxlY3RPcHRpb25zKGRlc2lyZWRWYWx1ZSk7XG4gICAgICAgIGVuc3VyZUNvbGxlY3Rpb25DYXJkRWRpdG9yUmVhZHkoYmxvY2spO1xuICAgICAgfVxuICAgICAgT2JqZWN0LmVudHJpZXMoY29uZmlnLmZpZWxkcykuZm9yRWFjaCgoW3NldHRpbmdLZXksIGZpZWxkTmFtZV0pID0+IHtcbiAgICAgICAgY29uc3QgaW5wdXQgPSBzZWN0aW9uUm9vdC5xdWVyeVNlbGVjdG9yKGBbbmFtZT1cIiR7ZmllbGROYW1lfVwiXWApO1xuICAgICAgICBpZiAoIWlucHV0KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZhbHVlID0gYmxvY2suc2V0dGluZ3M/LltzZXR0aW5nS2V5XTtcbiAgICAgICAgaWYgKGlucHV0LnR5cGUgPT09ICdjaGVja2JveCcpIHtcbiAgICAgICAgICBpbnB1dC5jaGVja2VkID0gQm9vbGVhbih2YWx1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5wdXQudHlwZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICBjb25zdCBmYWxsYmFjayA9IGlucHV0LmRhdGFzZXQuZGVmYXVsdCA/PyBpbnB1dC5kZWZhdWx0VmFsdWUgPz8gJyc7XG4gICAgICAgICAgaW5wdXQudmFsdWUgPSB2YWx1ZSA/PyBmYWxsYmFjaztcbiAgICAgICAgfSBlbHNlIGlmIChpbnB1dC50YWdOYW1lID09PSAnVEVYVEFSRUEnKSB7XG4gICAgICAgICAgaW5wdXQudmFsdWUgPSB2YWx1ZSA/PyAnJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpbnB1dC52YWx1ZSA9IHZhbHVlID8/ICcnO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmIChjb25maWcuc2VjdGlvbiA9PT0gJ2dyb3VwJykge1xuICAgICAgICBjb25zdCBtb2JpbGVWYWx1ZSA9XG4gICAgICAgICAgYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZ3JvdXAtY29sdW1ucy1tb2JpbGVcIl0nKT8udmFsdWUgfHwgJzEnO1xuICAgICAgICBjb25zdCBkZXNrdG9wVmFsdWUgPVxuICAgICAgICAgIGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImdyb3VwLWNvbHVtbnMtZGVza3RvcFwiXScpPy52YWx1ZSB8fCAnMyc7XG4gICAgICAgIHVwZGF0ZUdyb3VwTWluaVByZXZpZXcobW9iaWxlVmFsdWUsIGRlc2t0b3BWYWx1ZSk7XG4gICAgICB9XG4gICAgICBpZiAoY29uZmlnLnNlY3Rpb24gPT09ICdjb2xsZWN0aW9uJykge1xuICAgICAgICBjb25zdCBtb2JpbGVWYWx1ZSA9XG4gICAgICAgICAgYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiY29sbGVjdGlvbi1jb2x1bW5zLW1vYmlsZVwiXScpPy52YWx1ZSB8fCAnMSc7XG4gICAgICAgIGNvbnN0IGRlc2t0b3BWYWx1ZSA9XG4gICAgICAgICAgYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiY29sbGVjdGlvbi1jb2x1bW5zLWRlc2t0b3BcIl0nKT8udmFsdWUgfHwgJzMnO1xuICAgICAgICB1cGRhdGVDb2xsZWN0aW9uTWluaVByZXZpZXcobW9iaWxlVmFsdWUsIGRlc2t0b3BWYWx1ZSk7XG4gICAgICB9XG4gICAgICBjb25zdCBiZ0ZpZWxkTmFtZSA9IGNvbmZpZy5maWVsZHM/LmJnO1xuICAgICAgaWYgKGJnRmllbGROYW1lKSB7XG4gICAgICAgIGNvbnN0IGJnU2VsZWN0ID0gc2VjdGlvblJvb3QucXVlcnlTZWxlY3RvcihgW25hbWU9XCIke2JnRmllbGROYW1lfVwiXWApO1xuICAgICAgICBlbnN1cmVDdXN0b21UaGVtZU9wdGlvbihiZ1NlbGVjdCwgYmxvY2suc2V0dGluZ3M/LmJnKTtcbiAgICAgIH1cbiAgICAgIGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1jb2xvci1zZWxlY3RdJykuZm9yRWFjaCh1cGRhdGVDb2xvclNlbGVjdFByZXZpZXcpO1xuICAgIH07XG4gICAgY29uc3QgY29sbGVjdEZvcm1WYWx1ZXMgPSAoY29uZmlnKSA9PiB7XG4gICAgICBpZiAoIWJsb2NrRm9ybSB8fCAhY29uZmlnKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHNlY3Rpb25Sb290ID0gZ2V0QmxvY2tFZGl0b3JTZWN0aW9uRWxlbWVudChjb25maWcpIHx8IGJsb2NrRm9ybTtcbiAgICAgIGNvbnN0IHZhbHVlcyA9IHt9O1xuICAgICAgT2JqZWN0LmVudHJpZXMoY29uZmlnLmZpZWxkcykuZm9yRWFjaCgoW3NldHRpbmdLZXksIGZpZWxkTmFtZV0pID0+IHtcbiAgICAgICAgY29uc3QgaW5wdXQgPSBzZWN0aW9uUm9vdC5xdWVyeVNlbGVjdG9yKGBbbmFtZT1cIiR7ZmllbGROYW1lfVwiXWApO1xuICAgICAgICBpZiAoIWlucHV0KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbnB1dC50eXBlID09PSAnY2hlY2tib3gnKSB7XG4gICAgICAgICAgdmFsdWVzW3NldHRpbmdLZXldID0gaW5wdXQuY2hlY2tlZDtcbiAgICAgICAgfSBlbHNlIGlmIChpbnB1dC50eXBlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIGNvbnN0IHBhcnNlZCA9IE51bWJlcihpbnB1dC52YWx1ZSk7XG4gICAgICAgICAgdmFsdWVzW3NldHRpbmdLZXldID0gTnVtYmVyLmlzRmluaXRlKHBhcnNlZCkgPyBwYXJzZWQgOiAwO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0LnRhZ05hbWUgPT09ICdTRUxFQ1QnKSB7XG4gICAgICAgICAgY29uc3QgZmFsbGJhY2sgPSBpbnB1dC5kYXRhc2V0LmRlZmF1bHQgPz8gaW5wdXQudmFsdWUgPz8gJyc7XG4gICAgICAgICAgdmFsdWVzW3NldHRpbmdLZXldID0gaW5wdXQudmFsdWUgfHwgZmFsbGJhY2s7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5wdXQudGFnTmFtZSA9PT0gJ1RFWFRBUkVBJykge1xuICAgICAgICAgIHZhbHVlc1tzZXR0aW5nS2V5XSA9IGlucHV0LnZhbHVlIHx8ICcnO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0LnR5cGUgPT09ICdzZWxlY3Qtb25lJykge1xuICAgICAgICAgIHZhbHVlc1tzZXR0aW5nS2V5XSA9IGlucHV0LnZhbHVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhbHVlc1tzZXR0aW5nS2V5XSA9IGlucHV0LnZhbHVlIHx8ICcnO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgfTtcbiAgICBjb25zdCB1cGRhdGVQcmV2aWV3U3RhdHVzID0gKHRleHQpID0+IHtcbiAgICAgIGlmICghcHJldmlld1N0YXR1cykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIXRleHQpIHtcbiAgICAgICAgcHJldmlld1N0YXR1cy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcHJldmlld1N0YXR1cy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIHByZXZpZXdTdGF0dXMudGV4dENvbnRlbnQgPSB0ZXh0O1xuICAgIH07XG4gICAgY29uc3Qgc2VyaWFsaXplUGFnZUZvclByZXZpZXcgPSAocGFnZSkgPT4ge1xuICAgICAgaWYgKCFwYWdlKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBGb25jdGlvbiBwb3VyIHNcdTAwRTlyaWFsaXNlciB1biBibG9jICh1dGlsaXNcdTAwRTkgcG91ciBsZXMgYmxvY3MgZXQgbGV1cnMgZW5mYW50cylcbiAgICAgIGNvbnN0IHNlcmlhbGl6ZUJsb2NrID0gKGJsb2NrKSA9PiAoe1xuICAgICAgICBpZDogYmxvY2suaWQsXG4gICAgICAgIHR5cGU6IGJsb2NrLnR5cGUsXG4gICAgICAgIGxhYmVsOiBibG9jay5sYWJlbCxcbiAgICAgICAgc3RhdHVzOiBibG9jay5zdGF0dXMsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBibG9jay5kZXNjcmlwdGlvbixcbiAgICAgICAgcHJvcHM6IGJsb2NrLnByb3BzIHx8IFtdLFxuICAgICAgICBzZXR0aW5nczogYmxvY2suc2V0dGluZ3MgfHwge30sXG4gICAgICAgIGNvbGxlY3Rpb25JZDogYmxvY2suY29sbGVjdGlvbklkIHx8IGJsb2NrLnNldHRpbmdzPy5jb2xsZWN0aW9uSWQgfHwgJycsXG4gICAgICAgIGNoaWxkcmVuOiAoYmxvY2suY2hpbGRyZW4gfHwgW10pLm1hcChzZXJpYWxpemVCbG9jayksXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IHBhZ2UuaWQsXG4gICAgICAgIG5hbWU6IHBhZ2UubmFtZSxcbiAgICAgICAgdGl0bGU6IHBhZ2UudGl0bGUsXG4gICAgICAgIHNsdWc6IHBhZ2Uuc2x1ZyxcbiAgICAgICAgZGVzY3JpcHRpb246IHBhZ2UuZGVzY3JpcHRpb24gfHwgJycsXG4gICAgICAgIGJhZGdlczogWy4uLihwYWdlLmJhZGdlcyB8fCBbXSldLFxuICAgICAgICBzZW86IHBhZ2Uuc2VvIHx8IHt9LFxuICAgICAgICBhY2Nlc3NpYmlsaXR5OiBwYWdlLmFjY2Vzc2liaWxpdHkgfHwge30sXG4gICAgICAgIGJsb2NrczogKHBhZ2UuYmxvY2tzIHx8IFtdKS5tYXAoc2VyaWFsaXplQmxvY2spLFxuICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IGdldExvYWRpbmdQcmV2aWV3SHRtbCA9ICgpID0+XG4gICAgICAnPCFET0NUWVBFIGh0bWw+PGh0bWw+PGJvZHkgc3R5bGU9XCJmb250LWZhbWlseTpJbnRlcixzYW5zLXNlcmlmO3BhZGRpbmc6NDBweDtjb2xvcjojNDc1NTY5O2JhY2tncm91bmQ6I2ZmZjtcIj5Qclx1MDBFOXBhcmF0aW9uIGRlIGxhIHByXHUwMEU5dmlzdWFsaXNhdGlvblx1MjAyNjwvYm9keT48L2h0bWw+JztcblxuICAgIC8vIERlYm91bmNlIHV0aWxpdHlcbiAgICBjb25zdCBkZWJvdW5jZSA9IChmbiwgZGVsYXkpID0+IHtcbiAgICAgIGxldCB0aW1lb3V0SWQ7XG4gICAgICByZXR1cm4gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG4gICAgICAgIHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4gZm4oLi4uYXJncyksIGRlbGF5KTtcbiAgICAgIH07XG4gICAgfTtcblxuICAgIC8vIEF1dG8tc2F2ZSBwb3VyIGwnYXBwYXJlbmNlIChpbW1cdTAwRTlkaWF0IHBvdXIgXHUwMEU5dml0ZXIgbGVzIHBlcnRlcylcbiAgICBjb25zdCBhdXRvU2F2ZUFwcGVhcmFuY2UgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlIHx8ICFhY3RpdmVCbG9ja0lkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGJsb2NrID0gZ2V0QWN0aXZlQmxvY2soKTtcbiAgICAgIGNvbnN0IGNvbmZpZyA9IGdldEJsb2NrRm9ybUNvbmZpZyhibG9jayk7XG4gICAgICBpZiAoIWJsb2NrIHx8ICFjb25maWcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgdmFsdWVzID0gY29sbGVjdEZvcm1WYWx1ZXMoY29uZmlnKTtcbiAgICAgIGNvbnN0IHsgYmxvY2tzOiB1cGRhdGVkQmxvY2tzLCBkaWRVcGRhdGUsIGZvdW5kUGFyZW50SWQgfSA9IHVwZGF0ZUJsb2Nrc0RlZXAoXG4gICAgICAgIGN1cnJlbnRQYWdlLmJsb2NrcyB8fCBbXSxcbiAgICAgICAgYmxvY2suaWQsXG4gICAgICAgIChlbnRyeSkgPT4ge1xuICAgICAgICAgIGNvbnN0IHVwZGF0ZWRTZXR0aW5ncyA9IHsgLi4uKGVudHJ5LnNldHRpbmdzIHx8IHt9KSwgLi4udmFsdWVzIH07XG4gICAgICAgICAgcmV0dXJuIHsgLi4uZW50cnksIHNldHRpbmdzOiB1cGRhdGVkU2V0dGluZ3MgfTtcbiAgICAgICAgfSxcbiAgICAgICAgYWN0aXZlQmxvY2tQYXJlbnRJZCxcbiAgICAgICk7XG4gICAgICBpZiAoIWRpZFVwZGF0ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhY3RpdmVCbG9ja1BhcmVudElkID0gZm91bmRQYXJlbnRJZDtcbiAgICAgIC8vIE1pc2UgXHUwMEUwIGpvdXIgc2lsZW5jaWV1c2UgKHNhbnMgdG9hc3QgbmkgcmVmcmVzaCBjb21wbGV0KVxuICAgICAgY29uc3QgbmV4dFBhZ2UgPSB7IC4uLmN1cnJlbnRQYWdlLCBibG9ja3M6IHVwZGF0ZWRCbG9ja3MgfTtcbiAgICAgIGN1cnJlbnRQYWdlID0gbmV4dFBhZ2U7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBzYXZlZCA9IGF3YWl0IHNhdmVQYWdlVG9TZXJ2ZXIobmV4dFBhZ2UpO1xuICAgICAgICBpZiAoc2F2ZWQ/LmlkKSB7XG4gICAgICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZVBhZ2VEYXRhKHNhdmVkKTtcbiAgICAgICAgICBjdXJyZW50UGFnZSA9IG5vcm1hbGl6ZWQ7XG4gICAgICAgICAgcGFnZXMgPSBwYWdlcy5tYXAoKHApID0+IChwLmlkID09PSBub3JtYWxpemVkLmlkID8gbm9ybWFsaXplZCA6IHApKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignW2Rlc2lnbl0gYXV0by1zYXZlIGFwcGVhcmFuY2UgZmFpbGVkJywgZXJyKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gTWlzZSBcdTAwRTAgam91ciBsaXZlIGRlIGxhIHByZXZpZXcgdmlhIHBvc3RNZXNzYWdlIChzYW5zIHJlY2hhcmdlciBsJ2lmcmFtZSlcbiAgICBjb25zdCB1cGRhdGVQcmV2aWV3QmxvY2tMaXZlID0gKGJsb2NrSWQsIHNldHRpbmdzKSA9PiB7XG4gICAgICBpZiAoIXByZXZpZXdGcmFtZSB8fCAhcHJldmlld0ZyYW1lLmNvbnRlbnRXaW5kb3cpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gRW52b2llIGxlcyBub3V2ZWxsZXMgY2xhc3NlcyBhdSBibG9jIGRhbnMgbCdpZnJhbWVcbiAgICAgIHByZXZpZXdGcmFtZS5jb250ZW50V2luZG93LnBvc3RNZXNzYWdlKHtcbiAgICAgICAgdHlwZTogJ3VwZGF0ZUJsb2NrU3R5bGVzJyxcbiAgICAgICAgYmxvY2tJZCxcbiAgICAgICAgc2V0dGluZ3MsXG4gICAgICB9LCAnKicpO1xuICAgIH07XG5cbiAgICAvLyBSZWZyZXNoIHByZXZpZXcgY29tcGxldCBkZWJvdW5jZWQgKHBvdXIgbGVzIGNoYW5nZW1lbnRzIGNvbXBsZXhlcylcbiAgICBjb25zdCBkZWJvdW5jZWRSZWZyZXNoUHJldmlldyA9IGRlYm91bmNlKCgpID0+IHtcbiAgICAgIGlmIChjdXJyZW50UGFnZSkge1xuICAgICAgICByZWZyZXNoUHJldmlldyhjdXJyZW50UGFnZSk7XG4gICAgICB9XG4gICAgfSwgMTUwMCk7XG5cbiAgICAvLyBNaXNlIFx1MDBFMCBqb3VyIGxpdmUgaW1tXHUwMEU5ZGlhdGUgKHBvdXIgbGEgcHJldmlldylcbiAgICBjb25zdCBoYW5kbGVBcHBlYXJhbmNlQ2hhbmdlID0gKGJsb2NrSWQsIHNldHRpbmdzKSA9PiB7XG4gICAgICB1cGRhdGVQcmV2aWV3QmxvY2tMaXZlKGJsb2NrSWQsIHNldHRpbmdzKTtcbiAgICAgIHVwZGF0ZVByZXZpZXdTdGF0dXMoJ01vZGlmaWNhdGlvblx1MjAyNicpO1xuICAgICAgYXV0b1NhdmVBcHBlYXJhbmNlKClcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIHVwZGF0ZVByZXZpZXdTdGF0dXMoJ1NhdXZlZ2FyZFx1MDBFOScpO1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gdXBkYXRlUHJldmlld1N0YXR1cygnXHUwMEMwIGpvdXInKSwgMTUwMCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoKSA9PiB1cGRhdGVQcmV2aWV3U3RhdHVzKCdFcnJldXIgZGUgc2F1dmVnYXJkZScpKTtcbiAgICAgIC8vIFJlZnJlc2ggY29tcGxldCBhcHJcdTAwRThzIHVuIGRcdTAwRTlsYWkgcGx1cyBsb25nIChwb3VyIGxlcyBjaGFuZ2VtZW50cyBkZSBsYXlvdXQsIGV0Yy4pXG4gICAgICBkZWJvdW5jZWRSZWZyZXNoUHJldmlldygpO1xuICAgIH07XG5cbiAgICBjb25zdCByZWZyZXNoUHJldmlldyA9IChwYWdlKSA9PiB7XG4gICAgICBpZiAoIXByZXZpZXdGcmFtZSB8fCAhcGFnZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBwcmV2aWV3U2l0ZVNsdWcgPSB3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnO1xuICAgICAgY29uc3Qgc2VyaWFsaXplZFBhZ2VzID0gcGFnZXMubWFwKChlbnRyeSkgPT4gKHtcbiAgICAgICAgaWQ6IGVudHJ5LmlkLFxuICAgICAgICBzbHVnOiBlbnRyeS5zbHVnLFxuICAgICAgICB0aXRsZTogZW50cnkudGl0bGUsXG4gICAgICAgIG5hbWU6IGVudHJ5Lm5hbWUsXG4gICAgICAgIGFjY2Vzc2liaWxpdHk6IGVudHJ5LmFjY2Vzc2liaWxpdHksXG4gICAgICB9KSk7XG4gICAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICBwYWdlOiBzZXJpYWxpemVQYWdlRm9yUHJldmlldyhwYWdlKSxcbiAgICAgICAgc2l0ZToge1xuICAgICAgICAgIHRpdGxlOiBzdG9yZWRTaXRlLm5hbWUgfHwgJ1NpdGUnLFxuICAgICAgICAgIHNsdWc6IHByZXZpZXdTaXRlU2x1ZyxcbiAgICAgICAgICBwYWdlczogc2VyaWFsaXplZFBhZ2VzLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICAgIHByZXZpZXdSZWFkeSA9IGZhbHNlO1xuICAgICAgdXBkYXRlUHJldmlld1N0YXR1cygnQWN0dWFsaXNhdGlvblx1MjAyNicpO1xuICAgICAgcHJldmlld0ZyYW1lLnNyY2RvYyA9IGdldExvYWRpbmdQcmV2aWV3SHRtbCgpO1xuICAgICAgaWYgKHByZXZpZXdSZXF1ZXN0Q29udHJvbGxlcikge1xuICAgICAgICBwcmV2aWV3UmVxdWVzdENvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgICBwcmV2aWV3UmVxdWVzdENvbnRyb2xsZXIgPSBjb250cm9sbGVyO1xuICAgICAgZmV0Y2goJy9hcGkvcHJldmlldycsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgc2lnbmFsOiBjb250cm9sbGVyLnNpZ25hbCxcbiAgICAgIH0pXG4gICAgICAgIC50aGVuKGFzeW5jIChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgY29uc3QgbXNnID0gZGF0YT8uZXJyb3IgfHwgZGF0YT8ubWVzc2FnZSB8fCBgUHJldmlldyBlcnJvciAoJHtyZXNwb25zZS5zdGF0dXN9KWA7XG4gICAgICAgICAgICBjb25zdCBlcnIgPSBuZXcgRXJyb3IobXNnKTtcbiAgICAgICAgICAgIGVyci5wYXlsb2FkID0gZGF0YTtcbiAgICAgICAgICAgIGVyci5zdGF0dXMgPSByZXNwb25zZS5zdGF0dXM7XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICB9KVxuICAgICAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICAgIGlmIChjb250cm9sbGVyLnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGxhdGVzdFByZXZpZXdIdG1sID0gZGF0YS5odG1sIHx8ICcnO1xuICAgICAgICAgIHByZXZpZXdGcmFtZS5zZXRBdHRyaWJ1dGUoXG4gICAgICAgICAgICAndGl0bGUnLFxuICAgICAgICAgICAgYFByXHUwMEU5dmlzdWFsaXNhdGlvbiBkZSBsYSBwYWdlICR7cGFnZS50aXRsZSB8fCAnJ31gLnRyaW0oKSxcbiAgICAgICAgICApO1xuICAgICAgICAgIHByZXZpZXdGcmFtZS5zcmNkb2MgPSBsYXRlc3RQcmV2aWV3SHRtbCB8fCBnZXRMb2FkaW5nUHJldmlld0h0bWwoKTtcbiAgICAgICAgICB1cGRhdGVQcmV2aWV3U3RhdHVzKCdcdTAwQzAgam91cicpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgaWYgKGNvbnRyb2xsZXIuc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3ByZXZpZXddIEltcG9zc2libGUgZGUgcmVuZHJlIGxhIHBhZ2UnLCBlcnJvcj8ubWVzc2FnZSB8fCBlcnJvciwgZXJyb3I/LnBheWxvYWQgfHwgJycpO1xuICAgICAgICAgIHVwZGF0ZVByZXZpZXdTdGF0dXMoJ0VycmV1ciBwcmV2aWV3Jyk7XG4gICAgICAgICAgcHJldmlld0ZyYW1lLnNyY2RvYyA9XG4gICAgICAgICAgICAnPCFET0NUWVBFIGh0bWw+PGh0bWw+PGJvZHkgc3R5bGU9XCJmb250LWZhbWlseTpJbnRlcixzYW5zLXNlcmlmO3BhZGRpbmc6NDBweDtjb2xvcjojYmUxMjNjO2JhY2tncm91bmQ6I2ZmZjtcIj5FcnJldXIgbG9ycyBkdSByZW5kdSBkZSBsYSBwclx1MDBFOXZpc3VhbGlzYXRpb24uPC9ib2R5PjwvaHRtbD4nO1xuICAgICAgICB9KVxuICAgICAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICAgICAgaWYgKHByZXZpZXdSZXF1ZXN0Q29udHJvbGxlciA9PT0gY29udHJvbGxlcikge1xuICAgICAgICAgICAgcHJldmlld1JlcXVlc3RDb250cm9sbGVyID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgY29uc3QgaGFuZGxlQmxvY2tGb3JtU3VibWl0ID0gKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSB8fCAhYWN0aXZlQmxvY2tJZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBibG9jayA9IGdldEFjdGl2ZUJsb2NrKCk7XG4gICAgICBjb25zdCBjb25maWcgPSBnZXRCbG9ja0Zvcm1Db25maWcoYmxvY2spO1xuICAgICAgaWYgKCFibG9jayB8fCAhY29uZmlnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHZhbHVlcyA9IGNvbGxlY3RGb3JtVmFsdWVzKGNvbmZpZyk7XG4gICAgICBpZiAoY29uZmlnLnNlY3Rpb24gPT09ICdpbWFnZScpIHtcbiAgICAgICAgY29uc3QgYWx0VmFsdWUgPSAodmFsdWVzLmFsdCB8fCAnJykudHJpbSgpO1xuICAgICAgICB2YWx1ZXMuYWx0ID0gYWx0VmFsdWU7XG4gICAgICAgIGlmICghYWx0VmFsdWUpIHtcbiAgICAgICAgICBzaG93VG9hc3QoJ0Fqb3V0ZSB1biB0ZXh0ZSBhbHRlcm5hdGlmIHBvdXIgY2V0dGUgaW1hZ2UuJywgJ2Vycm9yJyk7XG4gICAgICAgICAgYmxvY2tGb3JtPy5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImltYWdlLWFsdFwiXScpPy5mb2N1cygpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGNvbmZpZy5zZWN0aW9uID09PSAnY29sbGVjdGlvbicpIHtcbiAgICAgICAgaWYgKCF2YWx1ZXMuY29sbGVjdGlvbklkKSB7XG4gICAgICAgICAgc2hvd1RvYXN0KCdTXHUwMEU5bGVjdGlvbm5leiB1bmUgY29sbGVjdGlvbi4nKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFsdWVzLmxpbWl0ID0gTWF0aC5tYXgoMSwgTnVtYmVyKHZhbHVlcy5saW1pdCkgfHwgMSk7XG4gICAgICB9XG4gICAgICBjb25zdCB7IGJsb2NrczogdXBkYXRlZEJsb2NrcywgZGlkVXBkYXRlLCBmb3VuZFBhcmVudElkIH0gPSB1cGRhdGVCbG9ja3NEZWVwKFxuICAgICAgICBjdXJyZW50UGFnZS5ibG9ja3MgfHwgW10sXG4gICAgICAgIGJsb2NrLmlkLFxuICAgICAgICAoZW50cnkpID0+IHtcbiAgICAgICAgICBjb25zdCB1cGRhdGVkU2V0dGluZ3MgPSB7IC4uLihlbnRyeS5zZXR0aW5ncyB8fCB7fSksIC4uLnZhbHVlcyB9O1xuICAgICAgICAgIGNvbnN0IHVwZGF0ZWRCbG9jayA9IHtcbiAgICAgICAgICAgIC4uLmVudHJ5LFxuICAgICAgICAgICAgc2V0dGluZ3M6IHVwZGF0ZWRTZXR0aW5ncyxcbiAgICAgICAgICB9O1xuICAgICAgICAgIGlmIChjb25maWcubGFiZWxGaWVsZCAmJiB2YWx1ZXNbY29uZmlnLmxhYmVsRmllbGRdKSB7XG4gICAgICAgICAgICB1cGRhdGVkQmxvY2subGFiZWwgPSB2YWx1ZXNbY29uZmlnLmxhYmVsRmllbGRdO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoY29uZmlnLmRlc2NyaXB0aW9uRmllbGQgJiYgdmFsdWVzW2NvbmZpZy5kZXNjcmlwdGlvbkZpZWxkXSkge1xuICAgICAgICAgICAgdXBkYXRlZEJsb2NrLmRlc2NyaXB0aW9uID0gdmFsdWVzW2NvbmZpZy5kZXNjcmlwdGlvbkZpZWxkXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGNvbmZpZy5zZWN0aW9uID09PSAnY29sbGVjdGlvbicpIHtcbiAgICAgICAgICAgIHVwZGF0ZWRCbG9jay5jb2xsZWN0aW9uSWQgPSB2YWx1ZXMuY29sbGVjdGlvbklkO1xuICAgICAgICAgICAgdXBkYXRlZEJsb2NrLnNldHRpbmdzLmNvbGxlY3Rpb25JZCA9IHZhbHVlcy5jb2xsZWN0aW9uSWQ7XG4gICAgICAgICAgICB1cGRhdGVkQmxvY2suc2V0dGluZ3MubGltaXQgPSB2YWx1ZXMubGltaXQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB1cGRhdGVkQmxvY2s7XG4gICAgICAgIH0sXG4gICAgICAgIGFjdGl2ZUJsb2NrUGFyZW50SWQsXG4gICAgICApO1xuICAgICAgaWYgKCFkaWRVcGRhdGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYWN0aXZlQmxvY2tQYXJlbnRJZCA9IGZvdW5kUGFyZW50SWQ7XG4gICAgICB1cGRhdGVDdXJyZW50UGFnZUJsb2Nrcyh1cGRhdGVkQmxvY2tzKTtcbiAgICAgIHNob3dUb2FzdCgnQmxvYyBtaXMgXHUwMEUwIGpvdXInKTtcbiAgICAgIHNldEFjdGl2ZVBhZ2UoY3VycmVudFBhZ2UuaWQsIHsgcHJlc2VydmVCbG9jazogdHJ1ZSB9KTtcbiAgICB9O1xuICAgIGNvbnN0IGRyYXdlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXBhZ2UtZHJhd2VyXScpO1xuICAgIGNvbnN0IGRyYXdlckJhY2tkcm9wID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1kcmF3ZXItYmFja2Ryb3BdJyk7XG4gICAgY29uc3QgZHJhd2VyT3BlbkJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1wYWdlLWRyYXdlci1vcGVuXScpO1xuICAgIGNvbnN0IGRyYXdlckNsb3NlQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXBhZ2UtZHJhd2VyLWNsb3NlXScpO1xuICAgIGNvbnN0IGFkZFBhZ2VUb2dnbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZGQtcGFnZS10b2dnbGVdJyk7XG4gICAgY29uc3QgYWRkUGFnZUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZGQtcGFnZS1mb3JtXScpO1xuICAgIGNvbnN0IGFkZFBhZ2VOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRkLXBhZ2UtbmFtZV0nKTtcbiAgICBjb25zdCBhZGRQYWdlVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZGQtcGFnZS10aXRsZV0nKTtcbiAgICBjb25zdCBhZGRQYWdlU2x1ZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFkZC1wYWdlLXNsdWddJyk7XG4gICAgY29uc3QgYWRkUGFnZUNhbmNlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFkZC1wYWdlLWNhbmNlbF0nKTtcbiAgICBjb25zdCBhZGRQYWdlRXJyb3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZGQtcGFnZS1lcnJvcl0nKTtcbiAgICBjb25zdCBhZGRQYWdlU3VibWl0QnV0dG9uID0gYWRkUGFnZUZvcm0/LnF1ZXJ5U2VsZWN0b3IoJ1t0eXBlPVwic3VibWl0XCJdJyk7XG4gICAgLy8gSW1wb3J0IEpTT04gZWxlbWVudHNcbiAgICBjb25zdCBpbXBvcnRUb2dnbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbXBvcnQtcGFnZXMtdG9nZ2xlXScpO1xuICAgIGNvbnN0IGltcG9ydE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaW1wb3J0LW1vZGFsXScpO1xuICAgIGNvbnN0IGltcG9ydENsb3NlQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWltcG9ydC1tb2RhbC1jbG9zZV0nKTtcbiAgICBjb25zdCBpbXBvcnREcm9wem9uZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWltcG9ydC1kcm9wem9uZV0nKTtcbiAgICBjb25zdCBpbXBvcnRGaWxlSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbXBvcnQtZmlsZS1pbnB1dF0nKTtcbiAgICBjb25zdCBpbXBvcnRGaWxlTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWltcG9ydC1maWxlLWxpc3RdJyk7XG4gICAgY29uc3QgaW1wb3J0RmlsZU5hbWVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaW1wb3J0LWZpbGUtbmFtZXNdJyk7XG4gICAgY29uc3QgaW1wb3J0UmVzdWx0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWltcG9ydC1yZXN1bHRzXScpO1xuICAgIGNvbnN0IGltcG9ydFJlc3VsdHNDb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaW1wb3J0LXJlc3VsdHMtY29udGVudF0nKTtcbiAgICBjb25zdCBpbXBvcnRTdWJtaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbXBvcnQtc3VibWl0XScpO1xuICAgIGNvbnN0IGltcG9ydFRhYnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1pbXBvcnQtdGFiXScpO1xuICAgIGNvbnN0IGltcG9ydFBhbmVscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWltcG9ydC1wYW5lbF0nKTtcbiAgICBjb25zdCBjb3B5UHJvbXB0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29weS1wcm9tcHRdJyk7XG4gICAgY29uc3QgY29weVRlbXBsYXRlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29weS10ZW1wbGF0ZV0nKTtcbiAgICBjb25zdCB0ZW1wbGF0ZUpzb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS10ZW1wbGF0ZS1qc29uXScpO1xuICAgIGNvbnN0IGltcG9ydEFpUHJvbXB0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaW1wb3J0LWFpLXByb21wdF0nKTtcbiAgICAvLyBQYXN0ZSBKU09OIGVsZW1lbnRzXG4gICAgY29uc3QgaW1wb3J0UGFzdGVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWltcG9ydC1wYXN0ZS1qc29uXScpO1xuICAgIGNvbnN0IHBhc3RlRm9ybWF0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZm9ybWF0LWpzb25dJyk7XG4gICAgY29uc3QgcGFzdGVFcnJvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWltcG9ydC1wYXN0ZS1lcnJvcl0nKTtcbiAgICBsZXQgaW1wb3J0U2VsZWN0ZWRGaWxlcyA9IFtdO1xuICAgIGxldCBhY3RpdmVJbXBvcnRUYWIgPSAndXBsb2FkJztcbiAgICAvLyBEZWxldGUgcGFnZSBlbGVtZW50c1xuICAgIGNvbnN0IGRlbGV0ZVBhZ2VNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlbGV0ZS1wYWdlLW1vZGFsXScpO1xuICAgIGNvbnN0IGRlbGV0ZVBhZ2VOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVsZXRlLXBhZ2UtbmFtZV0nKTtcbiAgICBjb25zdCBkZWxldGVQYWdlQ2FuY2VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVsZXRlLXBhZ2UtY2FuY2VsXScpO1xuICAgIGNvbnN0IGRlbGV0ZVBhZ2VDb25maXJtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVsZXRlLXBhZ2UtY29uZmlybV0nKTtcbiAgICBsZXQgcGFnZVRvRGVsZXRlID0gbnVsbDtcbiAgICBjb25zdCBzaXRlS2V5ID1cbiAgICAgIHN0cmlwTGVhZGluZ1NsYXNoKHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJ2RlZmF1bHQnKSB8fCAnZGVmYXVsdCc7XG4gICAgY29uc3Qgc2l0ZVNsdWdWYWx1ZSA9IHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJyc7XG4gICAgY29uc3Qgc2FmZVNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goc2l0ZVNsdWdWYWx1ZSkgfHwgJyc7XG4gICAgY29uc3QgcGFnZXNBcGlCYXNlID0gc2FmZVNpdGVTbHVnXG4gICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Zyl9L3BhZ2VzYFxuICAgICAgOiBudWxsO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25zQXBpQmFzZSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9jb2xsZWN0aW9uc2BcbiAgICAgIDogbnVsbDtcbiAgICBjb25zdCBzdG9yYWdlS2V5cyA9IHtcbiAgICAgIGFjdGl2ZTogYGNsb3dlcjphY3RpdmVQYWdlOiR7c2l0ZUtleX1gLFxuICAgIH07XG4gICAgY29uc3QgY3JlYXRlQmxvY2sgPSAoaWQsIGxhYmVsLCB0eXBlLCBzdGF0dXMsIGRlc2NyaXB0aW9uLCBwcm9wcyA9IFtdLCBzZXR0aW5ncyA9IHt9KSA9PiB7XG4gICAgICBjb25zdCBibG9jayA9IHtcbiAgICAgICAgaWQsXG4gICAgICAgIGxhYmVsLFxuICAgICAgICB0eXBlLFxuICAgICAgICBzdGF0dXMsXG4gICAgICAgIGRlc2NyaXB0aW9uLFxuICAgICAgICBwcm9wcyxcbiAgICAgICAgc2V0dGluZ3M6IHsgLi4uc2V0dGluZ3MgfSxcbiAgICAgIH07XG4gICAgICBpZiAoYmxvY2suc2V0dGluZ3MuY29sbGVjdGlvbklkKSB7XG4gICAgICAgIGJsb2NrLmNvbGxlY3Rpb25JZCA9IGJsb2NrLnNldHRpbmdzLmNvbGxlY3Rpb25JZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBibG9jaztcbiAgICB9O1xuICAgIGNvbnN0IGJsb2NrTGlicmFyeURlZmluaXRpb25zID0ge1xuICAgICAgaGVybzoge1xuICAgICAgICB0eXBlOiAnSGVybycsXG4gICAgICAgIGxhYmVsOiAnSGVybyBkZSBwYWdlJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdTZWN0aW9uIHBsZWluZSBsYXJnZXVyIGF2ZWMgQ1RBIHByaW5jaXBhbC4nLFxuICAgICAgICBzdGF0dXM6ICdCcm91aWxsb24nLFxuICAgICAgICBwcm9wczogW1xuICAgICAgICAgIHsgbGFiZWw6ICdDVEEnLCB2YWx1ZTogJ0RcdTAwRTljb3V2cmlyJyB9LFxuICAgICAgICAgIHsgbGFiZWw6ICdIYXV0ZXVyJywgdmFsdWU6ICc4MHZoJyB9LFxuICAgICAgICBdLFxuICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgIHRpdGxlOiAnVGl0cmUgZHUgaGVybycsXG4gICAgICAgICAgc3VidGl0bGU6ICcnLFxuICAgICAgICAgIGN0YUxhYmVsOiAnRFx1MDBFOWNvdXZyaXInLFxuICAgICAgICAgIGN0YVVybDogJyMnLFxuICAgICAgICAgIGltYWdlOiAnJyxcbiAgICAgICAgICBhbGlnbjogJ2NlbnRlcicsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgcGFyYWdyYXBoOiB7XG4gICAgICAgIHR5cGU6ICdQYXJhZ3JhcGhlJyxcbiAgICAgICAgbGFiZWw6ICdCbG9jIFx1MDBFOWRpdG9yaWFsJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdQYXJhZ3JhcGhlIGxpYnJlIHBvdXIgcmFjb250ZXIgdm90cmUgaGlzdG9pcmUuJyxcbiAgICAgICAgc3RhdHVzOiAnQnJvdWlsbG9uJyxcbiAgICAgICAgcHJvcHM6IFt7IGxhYmVsOiAnTG9uZ3VldXInLCB2YWx1ZTogJzE1MCBtb3RzJyB9XSxcbiAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICB0aXRsZTogJ1RpdHJlIGR1IHBhcmFncmFwaGUnLFxuICAgICAgICAgIGNvbnRlbnQ6ICcnLFxuICAgICAgICAgIGFsaWduOiAnbGVmdCcsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgaW1hZ2U6IHtcbiAgICAgICAgdHlwZTogJ0ltYWdlJyxcbiAgICAgICAgbGFiZWw6ICdCbG9jIGltYWdlJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdWaXN1ZWwgc2V1bCBhdmVjIGxcdTAwRTlnZW5kZSBvcHRpb25uZWxsZS4nLFxuICAgICAgICBzdGF0dXM6ICdCcm91aWxsb24nLFxuICAgICAgICBwcm9wczogW1xuICAgICAgICAgIHsgbGFiZWw6ICdSYXRpbycsIHZhbHVlOiAnMTY6OScgfSxcbiAgICAgICAgICB7IGxhYmVsOiAnTFx1MDBFOWdlbmRlJywgdmFsdWU6ICdJbmFjdGl2ZScgfSxcbiAgICAgICAgXSxcbiAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICBzcmM6ICcnLFxuICAgICAgICAgIGFsdDogJycsXG4gICAgICAgICAgc2hvd0NhcHRpb246IGZhbHNlLFxuICAgICAgICAgIGNhcHRpb246ICcnLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGdyb3VwOiB7XG4gICAgICAgIHR5cGU6ICdHcm91cGUnLFxuICAgICAgICBsYWJlbDogJ0dyb3VwZSBkZSBzZWN0aW9ucycsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnQ29udGVuZXVyIHBvdXIgaW1icmlxdWVyIHBsdXNpZXVycyBzb3VzLWJsb2NzLicsXG4gICAgICAgIHN0YXR1czogJ0Jyb3VpbGxvbicsXG4gICAgICAgIHByb3BzOiBbeyBsYWJlbDogJ0Rpc3Bvc2l0aW9uJywgdmFsdWU6ICdWZXJ0aWNhbGUnIH1dLFxuICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgIGxheW91dDogJ2dyaWQnLFxuICAgICAgICAgIGNvbHVtbnNNb2JpbGU6ICcxJyxcbiAgICAgICAgICBjb2x1bW5zRGVza3RvcDogJzMnLFxuICAgICAgICAgIG1vYmlsZUxheW91dDogJ3N0YWNrJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBjb2xsZWN0aW9uZ3JpZDoge1xuICAgICAgICB0eXBlOiAnQ29sbGVjdGlvbkdyaWQnLFxuICAgICAgICBsYWJlbDogJ0dyaWxsZSBkZSBjb250ZW51cycsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnQWZmaWNoZSBhdXRvbWF0aXF1ZW1lbnQgbGVzIGl0ZW1zIGRcdTIwMTl1bmUgY29sbGVjdGlvbi4nLFxuICAgICAgICBzdGF0dXM6ICdCcm91aWxsb24nLFxuICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgIGNvbGxlY3Rpb25JZDogJycsXG4gICAgICAgICAgbGltaXQ6IDYsXG4gICAgICAgICAgbW9iaWxlTGF5b3V0OiAnc3RhY2snLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGJ1dHRvbjoge1xuICAgICAgICB0eXBlOiAnQm91dG9uJyxcbiAgICAgICAgbGFiZWw6ICdCb3V0b24nLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0NUQSBzaW1wbGUgKGxpZW4gc3R5bFx1MDBFOSkuJyxcbiAgICAgICAgc3RhdHVzOiAnQnJvdWlsbG9uJyxcbiAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICB0ZXh0OiAnRFx1MDBFOWNvdXZyaXInLFxuICAgICAgICAgIHVybDogJyMnLFxuICAgICAgICAgIGljb246IGZhbHNlLFxuICAgICAgICAgIGFsaWduOiAndGV4dC1sZWZ0JyxcbiAgICAgICAgICBzaXplOiAncHgtNiBweS0zJyxcbiAgICAgICAgICB0ZXh0Q29sb3I6ICd0ZXh0LVt2YXIoLS1jb2xvci1iYWNrZ3JvdW5kKV0nLFxuICAgICAgICAgIGJnOiAndGhlbWUtcHJpbWFyeScsXG4gICAgICAgICAgYm9yZGVyUmFkaXVzOiAncm91bmRlZC14bCcsXG4gICAgICAgICAgc2hhZG93OiAnc2hhZG93LW5vbmUnLFxuICAgICAgICAgIGJvcmRlcjogJ2JvcmRlci1ub25lJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBmb3JtOiB7XG4gICAgICAgIHR5cGU6ICdGb3JtJyxcbiAgICAgICAgbGFiZWw6ICdGb3JtdWxhaXJlIGRlIGNvbnRhY3QnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0Zvcm11bGFpcmUgYXZlYyBlbnZvaSB2ZXJzIHVuIHNlcnZpY2UgZXh0ZXJuZS4nLFxuICAgICAgICBzdGF0dXM6ICdCcm91aWxsb24nLFxuICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgIGZvcm1UaXRsZTogJ0NvbnRhY3Rlei1ub3VzJyxcbiAgICAgICAgICBhY3Rpb25Vcmw6ICcnLFxuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIHNlcnZpY2VOYW1lOiAnJyxcbiAgICAgICAgICBzdWJtaXRMYWJlbDogJ0Vudm95ZXInLFxuICAgICAgICAgIHN1Y2Nlc3NNZXNzYWdlOiAnTWVyY2kgcG91ciB2b3RyZSBtZXNzYWdlICEnLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIG5ld3NsZXR0ZXJlbWJlZDoge1xuICAgICAgICB0eXBlOiAnTmV3c2xldHRlckVtYmVkJyxcbiAgICAgICAgbGFiZWw6ICdOZXdzbGV0dGVyIC8gRW1iZWQnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0ludFx1MDBFOWdyYXRpb24gZFxcJ3VuIGZvcm11bGFpcmUgbmV3c2xldHRlciBleHRlcm5lIChCcmV2bywgTWFpbGNoaW1wXHUyMDI2KS4nLFxuICAgICAgICBzdGF0dXM6ICdCcm91aWxsb24nLFxuICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgIHRpdGxlOiAnUmVzdGV6IGluZm9ybVx1MDBFOScsXG4gICAgICAgICAgc2VydmljZU5hbWU6ICcnLFxuICAgICAgICAgIGVtYmVkQ29kZTogJycsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgY2FyZDoge1xuICAgICAgICB0eXBlOiAnQ2FyZCcsXG4gICAgICAgIGxhYmVsOiAnQ2FydGUnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0NhcnRlIGF2ZWMgaW1hZ2UsIHRleHRlIGV0IGxpZW4uJyxcbiAgICAgICAgc3RhdHVzOiAnQnJvdWlsbG9uJyxcbiAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICB0aXRsZTogJ1RpdHJlIGRlIGxhIGNhcnRlJyxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJycsXG4gICAgICAgICAgaW1hZ2U6ICcnLFxuICAgICAgICAgIGN0YVRleHQ6ICdEXHUwMEU5Y291dnJpcicsXG4gICAgICAgICAgY3RhVXJsOiAnIycsXG4gICAgICAgICAgYmc6ICdiZy1zbGF0ZS01MCcsXG4gICAgICAgICAgYm9yZGVyUmFkaXVzOiAncm91bmRlZC0yeGwnLFxuICAgICAgICAgIHNoYWRvdzogJ3NoYWRvdy1zbScsXG4gICAgICAgICAgYm9yZGVyOiAnYm9yZGVyIGJvcmRlci1zbGF0ZS0xMDAgdGhlbWUtYm9yZGVyLWFjY2VudCcsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH07XG4gICAgY29uc3QgcGVyc2lzdEFjdGl2ZVBhZ2UgPSAocGFnZUlkKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oc3RvcmFnZUtleXMuYWN0aXZlLCBwYWdlSWQpO1xuICAgICAgfSBjYXRjaCB7XG4gICAgICAgIC8qIGlnbm9yZSBzdG9yYWdlIGVycm9ycyAqL1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgZ2V0U3RvcmVkQWN0aXZlUGFnZSA9IChwYWdlcykgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgc3RvcmVkID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKHN0b3JhZ2VLZXlzLmFjdGl2ZSk7XG4gICAgICAgIGlmIChzdG9yZWQgJiYgcGFnZXMuc29tZSgocGFnZSkgPT4gcGFnZS5pZCA9PT0gc3RvcmVkKSkge1xuICAgICAgICAgIHJldHVybiBzdG9yZWQ7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2gge1xuICAgICAgICAvKiBpZ25vcmUgc3RvcmFnZSBlcnJvcnMgKi9cbiAgICAgIH1cbiAgICAgIHJldHVybiBwYWdlc1swXT8uaWQgfHwgbnVsbDtcbiAgICB9O1xuICAgIGNvbnN0IGZvcm1hdEJsb2NrQ291bnQgPSAoY291bnQpID0+IHtcbiAgICAgIGlmICghY291bnQgfHwgY291bnQgPD0gMCkge1xuICAgICAgICByZXR1cm4gJzAgYmxvYyc7XG4gICAgICB9XG4gICAgICByZXR1cm4gY291bnQgPT09IDEgPyAnMSBibG9jJyA6IGAke2NvdW50fSBibG9jc2A7XG4gICAgfTtcbiAgICBjb25zdCBub3JtYWxpemVQYWdlU2x1ZyA9ICh2YWx1ZSkgPT4ge1xuICAgICAgY29uc3QgcmF3ID0gKHZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICBpZiAoIXJhdyB8fCByYXcgPT09ICcvJykge1xuICAgICAgICByZXR1cm4gJy8nO1xuICAgICAgfVxuICAgICAgaWYgKC9eW2Etel0rOlxcL1xcLy9pLnRlc3QocmF3KSkge1xuICAgICAgICByZXR1cm4gJy8nO1xuICAgICAgfVxuICAgICAgY29uc3Qgbm9ybWFsaXplZFNlcGFyYXRvcnMgPSByYXcucmVwbGFjZSgvXFxcXC9nLCAnLycpO1xuICAgICAgY29uc3QgdHJpbW1lZCA9IG5vcm1hbGl6ZWRTZXBhcmF0b3JzLnJlcGxhY2UoL15cXC8rfFxcLyskL2csICcnKTtcbiAgICAgIGlmICghdHJpbW1lZCkge1xuICAgICAgICByZXR1cm4gJy8nO1xuICAgICAgfVxuICAgICAgY29uc3QgcGFydHMgPSB0cmltbWVkXG4gICAgICAgIC5zcGxpdCgnLycpXG4gICAgICAgIC5tYXAoKHBhcnQpID0+IHdvcmtzcGFjZVNsdWdpZnkocGFydCB8fCAnJykpXG4gICAgICAgIC5maWx0ZXIoQm9vbGVhbik7XG4gICAgICBpZiAocGFydHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiAnLyc7XG4gICAgICB9XG4gICAgICByZXR1cm4gYC8ke3BhcnRzLmpvaW4oJy8nKX1gO1xuICAgIH07XG4gICAgY29uc3QgZ2VuZXJhdGVCbG9ja0lkID0gKHBhZ2VJZCA9ICdwYWdlJywga2V5ID0gJ2Jsb2NrJykgPT5cbiAgICAgIGAke3BhZ2VJZH0tJHtrZXl9LSR7RGF0ZS5ub3coKS50b1N0cmluZygzNil9LSR7TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMCl9YDtcbiAgICBjb25zdCBjcmVhdGVJbml0aWFsQmxvY2tzID0gKHBhZ2VJZCwgdGl0bGUpID0+IFtcbiAgICAgIGNyZWF0ZUJsb2NrKFxuICAgICAgICBnZW5lcmF0ZUJsb2NrSWQocGFnZUlkLCAnaW50cm8nKSxcbiAgICAgICAgJ0ludHJvZHVjdGlvbicsXG4gICAgICAgICdQYXJhZ3JhcGhlJyxcbiAgICAgICAgJ0Jyb3VpbGxvbicsXG4gICAgICAgIGBQYXJhZ3JhcGhlIGludHJvZHVjdGlmIHBvdXIgXCIke3RpdGxlfVwiLmAsXG4gICAgICAgIFt7IGxhYmVsOiAnTG9uZ3VldXInLCB2YWx1ZTogJzIgcGFyYWdyYXBoZXMnIH1dLFxuICAgICAgICB7XG4gICAgICAgICAgdGl0bGU6IGBJbnRyb2R1Y3Rpb24gXHUwMEUwICR7dGl0bGV9YCxcbiAgICAgICAgICBjb250ZW50OiAnQWpvdXRleiB2b3RyZSBwcmVtaWVyIHBhcmFncmFwaGUgZGUgcHJcdTAwRTlzZW50YXRpb24uJyxcbiAgICAgICAgICBhbGlnbjogJ2xlZnQnLFxuICAgICAgICB9LFxuICAgICAgKSxcbiAgICAgIGNyZWF0ZUJsb2NrKFxuICAgICAgICBnZW5lcmF0ZUJsb2NrSWQocGFnZUlkLCAnY29udGVudCcpLFxuICAgICAgICAnWm9uZSBkZSBjb250ZW51JyxcbiAgICAgICAgJ0dyb3VwZScsXG4gICAgICAgICdCcm91aWxsb24nLFxuICAgICAgICAnU2VjdGlvbiBwcmluY2lwYWxlIFx1MDBFMCBjb21wb3NlciBhdmVjIHRleHRlcyBldCB2aXN1ZWxzLicsXG4gICAgICAgIFt7IGxhYmVsOiAnQ29sb25uZXMnLCB2YWx1ZTogJ0F1dG8nIH1dLFxuICAgICAgICB7XG4gICAgICAgICAgbGF5b3V0OiAnZ3JpZCcsXG4gICAgICAgICAgY29sdW1uc01vYmlsZTogJzEnLFxuICAgICAgICAgIGNvbHVtbnNEZXNrdG9wOiAnMicsXG4gICAgICAgICAgbW9iaWxlTGF5b3V0OiAnc3RhY2snLFxuICAgICAgICB9LFxuICAgICAgKSxcbiAgICBdO1xuICAgIGNvbnN0IHNldEFjdGl2ZUxhYmVscyA9IChwYWdlKSA9PiB7XG4gICAgICBpZiAoYWN0aXZlVGl0bGUpIHtcbiAgICAgICAgLy8gVXNlIHBhZ2UubmFtZSAoc2hvcnQgbmFtZSkgaWYgYXZhaWxhYmxlLCBmYWxsYmFjayB0byB0aXRsZVxuICAgICAgICBhY3RpdmVUaXRsZS50ZXh0Q29udGVudCA9IHBhZ2U/Lm5hbWUgfHwgcGFnZT8udGl0bGUgfHwgJ1BhZ2UnO1xuICAgICAgfVxuICAgICAgaWYgKGFjdGl2ZVNsdWcpIHtcbiAgICAgICAgYWN0aXZlU2x1Zy50ZXh0Q29udGVudCA9IHBhZ2U/LnNsdWcgfHwgJy8nO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgcmVuZGVyUHJldmlld01ldGEgPSAocGFnZSkgPT4ge1xuICAgICAgaWYgKCFwcmV2aWV3VGFncykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwcmV2aWV3VGFncy5pbm5lckhUTUwgPSAnJztcbiAgICAgIGNvbnN0IHRhZ3MgPVxuICAgICAgICBwYWdlICYmIHBhZ2UuYmFkZ2VzICYmIHBhZ2UuYmFkZ2VzLmxlbmd0aCA+IDAgPyBwYWdlLmJhZGdlcyA6IFsnU3RydWN0dXJlIGVuIGNvdXJzJ107XG4gICAgICB0YWdzLmZvckVhY2goKHRhZykgPT4ge1xuICAgICAgICBjb25zdCBiYWRnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgYmFkZ2UuY2xhc3NOYW1lID0gJ3JvdW5kZWQtZnVsbCBiZy1zbGF0ZS0xMDAgcHgtMyBweS0xJztcbiAgICAgICAgYmFkZ2UudGV4dENvbnRlbnQgPSB0YWc7XG4gICAgICAgIHByZXZpZXdUYWdzLmFwcGVuZENoaWxkKGJhZGdlKTtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgY29uc3QgZ2V0U3RhdHVzQmFkZ2VDbGFzc2VzID0gKHN0YXR1cykgPT4ge1xuICAgICAgc3dpdGNoICgoc3RhdHVzIHx8ICcnKS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgIGNhc2UgJ2VuIGxpZ25lJzpcbiAgICAgICAgICByZXR1cm4gJ2JnLWVtZXJhbGQtNTAgdGV4dC1lbWVyYWxkLTcwMCc7XG4gICAgICAgIGNhc2UgJ2Jyb3VpbGxvbic6XG4gICAgICAgICAgcmV0dXJuICdiZy1hbWJlci01MCB0ZXh0LWFtYmVyLTcwMCc7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuICdiZy1zbGF0ZS0xMDAgdGV4dC1zbGF0ZS02MDAnO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgcmVuZGVyQmxvY2tEZXRhaWxzID0gKGJsb2NrKSA9PiB7XG4gICAgICBpZiAoIWJsb2NrRGV0YWlsRW1wdHkgfHwgIWJsb2NrRWRpdG9yKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghYmxvY2spIHtcbiAgICAgICAgYmxvY2tEZXRhaWxFbXB0eS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgYmxvY2tFZGl0b3IuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIGJsb2NrRWRpdG9yVW5zdXBwb3J0ZWQ/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBibG9ja0Zvcm0/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBibG9ja0RldGFpbFN0YXR1cz8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGJsb2NrRGV0YWlsRW1wdHkuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBibG9ja0VkaXRvci5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGlmIChibG9ja0RldGFpbFN0YXR1cykge1xuICAgICAgICBpZiAoYmxvY2suc3RhdHVzKSB7XG4gICAgICAgICAgYmxvY2tEZXRhaWxTdGF0dXMudGV4dENvbnRlbnQgPSBibG9jay5zdGF0dXM7XG4gICAgICAgICAgYmxvY2tEZXRhaWxTdGF0dXMuY2xhc3NOYW1lID0gYHJvdW5kZWQtZnVsbCBweC0zIHB5LTEgdGV4dC14cyBmb250LXNlbWlib2xkICR7Z2V0U3RhdHVzQmFkZ2VDbGFzc2VzKFxuICAgICAgICAgICAgYmxvY2suc3RhdHVzLFxuICAgICAgICAgICl9YDtcbiAgICAgICAgICBibG9ja0RldGFpbFN0YXR1cy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBibG9ja0RldGFpbFN0YXR1cy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcG9wdWxhdGVCbG9ja0Zvcm0oYmxvY2spO1xuICAgIH07XG4gICAgY29uc3QgcmVhZEFjY2VudENvbG9yID0gKCkgPT4ge1xuICAgICAgY29uc3QgY29tcHV0ZWQgPSBnZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkuZ2V0UHJvcGVydHlWYWx1ZSgnLS1jb2xvci1hY2NlbnQnKTtcbiAgICAgIHJldHVybiBjb21wdXRlZCA/IGNvbXB1dGVkLnRyaW0oKSA6ICcjOUM2QkZGJztcbiAgICB9O1xuICAgIGNvbnN0IGFwcGx5UHJldmlld0hpZ2hsaWdodCA9IChibG9ja0lkKSA9PiB7XG4gICAgICBpZiAoIXByZXZpZXdGcmFtZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBkb2MgPSBwcmV2aWV3RnJhbWUuY29udGVudERvY3VtZW50O1xuICAgICAgaWYgKCFkb2MpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3Qgbm9kZXMgPSBkb2MucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtcHJldmlldy1ibG9ja10nKTtcbiAgICAgIG5vZGVzLmZvckVhY2goKG5vZGUpID0+IHtcbiAgICAgICAgaWYgKG5vZGUuZGF0YXNldC5wcmV2aWV3QmxvY2sgPT09IGJsb2NrSWQpIHtcbiAgICAgICAgICBub2RlLmNsYXNzTGlzdC5hZGQoJ3ByZXZpZXctYmxvY2stYWN0aXZlJyk7XG4gICAgICAgICAgaWYgKHByZXZpZXdSZWFkeSAmJiBibG9ja0lkKSB7XG4gICAgICAgICAgICBub2RlLnNjcm9sbEludG9WaWV3KHsgYmVoYXZpb3I6ICdzbW9vdGgnLCBibG9jazogJ2NlbnRlcicsIGlubGluZTogJ25lYXJlc3QnIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBub2RlLmNsYXNzTGlzdC5yZW1vdmUoJ3ByZXZpZXctYmxvY2stYWN0aXZlJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKHByZXZpZXdIaWdobGlnaHRPdmVybGF5KSB7XG4gICAgICAgIGNvbnN0IGFjY2VudCA9IHJlYWRBY2NlbnRDb2xvcigpO1xuICAgICAgICBwcmV2aWV3SGlnaGxpZ2h0T3ZlcmxheS5zdHlsZS5ib3JkZXJDb2xvciA9IGJsb2NrSWQgPyBhY2NlbnQgOiAndHJhbnNwYXJlbnQnO1xuICAgICAgICBwcmV2aWV3SGlnaGxpZ2h0T3ZlcmxheS5zdHlsZS5vcGFjaXR5ID0gYmxvY2tJZCA/ICcwLjUnIDogJzAnO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgcHJldmlld1ZpZXdQcmVzZXRzID0ge1xuICAgICAgZGVza3RvcDogeyB3aWR0aDogJzEwMCUnLCBoZWlnaHQ6ICc2NDBweCcsIG1heFdpZHRoOiAnJywgbWFyZ2luOiAnMCcgfSxcbiAgICAgIG1vYmlsZTogeyB3aWR0aDogJzM3NXB4JywgaGVpZ2h0OiAnNzgwcHgnLCBtYXhXaWR0aDogJzM3NXB4JywgbWFyZ2luOiAnMCBhdXRvJyB9LFxuICAgIH07XG4gICAgY29uc3Qgc2V0UHJldmlld1ZpZXcgPSAodmlldykgPT4ge1xuICAgICAgY29uc3QgdGFyZ2V0ID0gcHJldmlld1ZpZXdQcmVzZXRzW3ZpZXddID8gdmlldyA6ICdkZXNrdG9wJztcbiAgICAgIHByZXZpZXdWaWV3QnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICAgICAgY29uc3QgaXNBY3RpdmUgPSBidXR0b24uZGF0YXNldC5wcmV2aWV3VmlldyA9PT0gdGFyZ2V0O1xuICAgICAgICBidXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLXByZXNzZWQnLCBpc0FjdGl2ZSA/ICd0cnVlJyA6ICdmYWxzZScpO1xuICAgICAgICBpZiAoaXNBY3RpdmUpIHtcbiAgICAgICAgICBidXR0b24uY2xhc3NMaXN0LmFkZCgnYmctc2xhdGUtOTAwJywgJ3RleHQtd2hpdGUnKTtcbiAgICAgICAgICBidXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnYmctc2xhdGUtMjAwJywgJ3RleHQtc2xhdGUtNTAwJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2JnLXNsYXRlLTkwMCcsICd0ZXh0LXdoaXRlJyk7XG4gICAgICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2JnLXNsYXRlLTIwMCcsICd0ZXh0LXNsYXRlLTUwMCcpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGNvbnN0IHN0eWxlcyA9IHByZXZpZXdWaWV3UHJlc2V0c1t0YXJnZXRdO1xuICAgICAgaWYgKHByZXZpZXdGcmFtZSkge1xuICAgICAgICBwcmV2aWV3RnJhbWUuc3R5bGUud2lkdGggPSBzdHlsZXMud2lkdGg7XG4gICAgICAgIHByZXZpZXdGcmFtZS5zdHlsZS5oZWlnaHQgPSBzdHlsZXMuaGVpZ2h0O1xuICAgICAgICBwcmV2aWV3RnJhbWUuc3R5bGUubWF4V2lkdGggPSBzdHlsZXMubWF4V2lkdGg7XG4gICAgICAgIHByZXZpZXdGcmFtZS5zdHlsZS5tYXJnaW4gPSBzdHlsZXMubWFyZ2luO1xuICAgICAgfVxuICAgICAgaWYgKHByZXZpZXdGcmFtZVdyYXBwZXIpIHtcbiAgICAgICAgcHJldmlld0ZyYW1lV3JhcHBlci5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICAgICAgcHJldmlld0ZyYW1lV3JhcHBlci5zdHlsZS5taW5IZWlnaHQgPSBzdHlsZXMuaGVpZ2h0O1xuICAgICAgICBwcmV2aWV3RnJhbWVXcmFwcGVyLnN0eWxlLm1heFdpZHRoID0gc3R5bGVzLm1heFdpZHRoIHx8ICcxMDAlJztcbiAgICAgIH1cbiAgICAgIGlmIChwcmV2aWV3U2hlbGwpIHtcbiAgICAgICAgcHJldmlld1NoZWxsLmRhdGFzZXQucHJldmlld1NoZWxsVmlldyA9IHRhcmdldDtcbiAgICAgIH1cbiAgICAgIGlmIChwcmV2aWV3Q3VycmVudFZpZXdMYWJlbCkge1xuICAgICAgICBwcmV2aWV3Q3VycmVudFZpZXdMYWJlbC50ZXh0Q29udGVudCA9IHRhcmdldCA9PT0gJ21vYmlsZScgPyAnVnVlIG1vYmlsZScgOiAnVnVlIGJ1cmVhdSc7XG4gICAgICB9XG4gICAgfTtcbiAgICAvLyBGb25jdGlvbiBwb3VyIGNyXHUwMEU5ZXIgdW4gXHUwMEU5bFx1MDBFOW1lbnQgZGUgYmxvYyAodXRpbGlzXHUwMEU5IHBvdXIgbGVzIGJsb2NzIGV0IGxlcyBlbmZhbnRzIGRlIGdyb3VwZSlcbiAgICBjb25zdCBjcmVhdGVCbG9ja0l0ZW1FbGVtZW50ID0gKGJsb2NrLCBpc05lc3RlZCA9IGZhbHNlLCBwYXJlbnRJZCA9IG51bGwpID0+IHtcbiAgICAgIGNvbnN0IGlzQWN0aXZlID0gYmxvY2suaWQgPT09IGFjdGl2ZUJsb2NrSWQ7XG4gICAgICBjb25zdCBibG9ja1R5cGUgPSAoYmxvY2sudHlwZSB8fCAnJykudG9Mb3dlckNhc2UoKTtcbiAgICAgIGNvbnN0IGlzR3JvdXAgPSBibG9ja1R5cGUgPT09ICdncm91cGUnIHx8IGJsb2NrVHlwZSA9PT0gJ2dyb3VwJyB8fCBibG9ja1R5cGUgPT09ICdzZWN0aW9ucycgfHwgYmxvY2tUeXBlID09PSAnZ3JpZCc7XG4gICAgICBcbiAgICAgIGNvbnN0IGl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGl0ZW0uZGF0YXNldC5ibG9ja0l0ZW0gPSAndHJ1ZSc7XG4gICAgICBpdGVtLmRhdGFzZXQuYmxvY2tJZCA9IGJsb2NrLmlkO1xuICAgICAgaWYgKHBhcmVudElkKSBpdGVtLmRhdGFzZXQucGFyZW50QmxvY2tJZCA9IHBhcmVudElkO1xuICAgICAgaWYgKGlzR3JvdXApIGl0ZW0uZGF0YXNldC5pc0dyb3VwID0gJ3RydWUnO1xuICAgICAgaXRlbS5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnb3B0aW9uJyk7XG4gICAgICBpdGVtLnNldEF0dHJpYnV0ZSgnYXJpYS1zZWxlY3RlZCcsIGlzQWN0aXZlID8gJ3RydWUnIDogJ2ZhbHNlJyk7XG4gICAgICBpdGVtLnNldEF0dHJpYnV0ZSgnZHJhZ2dhYmxlJywgJ3RydWUnKTtcbiAgICAgIGl0ZW0udGFiSW5kZXggPSAwO1xuICAgICAgaXRlbS5jbGFzc05hbWUgPSBbXG4gICAgICAgICdyZWxhdGl2ZSBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMyByb3VuZGVkLTJ4bCBib3JkZXIgcHgtMyBweS0yIHRleHQtbGVmdCB0cmFuc2l0aW9uIGdyb3VwJyxcbiAgICAgICAgaXNOZXN0ZWQgPyAnbWwtNiBib3JkZXItZGFzaGVkJyA6ICcnLFxuICAgICAgICBpc0FjdGl2ZVxuICAgICAgICAgID8gJ2JnLXNsYXRlLTEwMCBib3JkZXItWyM5QzZCRkZdLzQwIHNoYWRvdy1zbSdcbiAgICAgICAgICA6ICdib3JkZXItc2xhdGUtMjAwIGhvdmVyOmJvcmRlci1bIzlDNkJGRl0vNDAnLFxuICAgICAgXS5qb2luKCcgJyk7XG4gICAgICBcbiAgICAgIGNvbnN0IGFjY2VudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgIGFjY2VudC5jbGFzc05hbWUgPSBgYWJzb2x1dGUgaW5zZXQteS0yIGxlZnQtMCB3LTEgcm91bmRlZC1mdWxsIGJnLVsjOUM2QkZGXSAke2lzQWN0aXZlID8gJycgOiAnaGlkZGVuJ31gO1xuICAgICAgaXRlbS5hcHBlbmRDaGlsZChhY2NlbnQpO1xuXG4gICAgICBjb25zdCBjb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBjb250ZW50LmNsYXNzTmFtZSA9ICdmbGV4IGZsZXgtMSBpdGVtcy1jZW50ZXIgZ2FwLTMnO1xuICAgICAgXG4gICAgICBjb25zdCBoYW5kbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGhhbmRsZS5jbGFzc05hbWUgPSAnaGlkZGVuIGxnOmZsZXggY3Vyc29yLWdyYWIgYWN0aXZlOmN1cnNvci1ncmFiYmluZyBmbGV4LXNocmluay0wIGl0ZW1zLWNlbnRlciB0ZXh0LWxnIHRleHQtc2xhdGUtNDAwIGhvdmVyOnRleHQtc2xhdGUtNjAwIHRyYW5zaXRpb24tY29sb3JzIHNlbGVjdC1ub25lJztcbiAgICAgIGhhbmRsZS5pbm5lckhUTUwgPSAnXHUyMkVFXHUyMkVFJztcbiAgICAgIGhhbmRsZS5zZXRBdHRyaWJ1dGUoJ3RpdGxlJywgJ0dsaXNzZXIgcG91ciByXHUwMEU5b3Jkb25uZXInKTtcbiAgICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQoaGFuZGxlKTtcblxuICAgICAgY29uc3QgdGV4dFdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHRleHRXcmFwcGVyLmNsYXNzTmFtZSA9ICdmbGV4LTEnO1xuICAgICAgXG4gICAgICBjb25zdCBtZXRhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBtZXRhLmNsYXNzTmFtZSA9ICdmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiB0ZXh0LVsxMXB4XSB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZSB0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICBcbiAgICAgIGNvbnN0IHR5cGVCYWRnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgIHR5cGVCYWRnZS5jbGFzc05hbWUgPSAncm91bmRlZC1mdWxsIGJnLXNsYXRlLTEwMCBweC0yIHB5LTAuNSB0ZXh0LVsxMHB4XSBmb250LXNlbWlib2xkIHRleHQtc2xhdGUtNjAwJztcbiAgICAgIHR5cGVCYWRnZS50ZXh0Q29udGVudCA9IGJsb2NrLnR5cGU7XG4gICAgICBcbiAgICAgIGNvbnN0IHN0YXR1c0JhZGdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgc3RhdHVzQmFkZ2UuY2xhc3NOYW1lID0gJ3RleHQtc2xhdGUtNDAwJztcbiAgICAgIHN0YXR1c0JhZGdlLnRleHRDb250ZW50ID0gYmxvY2suc3RhdHVzO1xuICAgICAgXG4gICAgICBtZXRhLmFwcGVuZENoaWxkKHR5cGVCYWRnZSk7XG4gICAgICBpZiAoaXNHcm91cCkge1xuICAgICAgICBjb25zdCBjaGlsZENvdW50ID0gKGJsb2NrLmNoaWxkcmVuIHx8IFtdKS5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGNoaWxkQmFkZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgIGNoaWxkQmFkZ2UuY2xhc3NOYW1lID0gJ3JvdW5kZWQtZnVsbCBiZy12aW9sZXQtMTAwIHB4LTIgcHktMC41IHRleHQtWzEwcHhdIGZvbnQtc2VtaWJvbGQgdGV4dC12aW9sZXQtNjAwJztcbiAgICAgICAgY2hpbGRCYWRnZS50ZXh0Q29udGVudCA9IGAke2NoaWxkQ291bnR9IFx1MDBFOWxcdTAwRTltZW50JHtjaGlsZENvdW50ICE9PSAxID8gJ3MnIDogJyd9YDtcbiAgICAgICAgbWV0YS5hcHBlbmRDaGlsZChjaGlsZEJhZGdlKTtcbiAgICAgIH1cbiAgICAgIG1ldGEuYXBwZW5kQ2hpbGQoc3RhdHVzQmFkZ2UpO1xuICAgICAgXG4gICAgICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICAgIHRpdGxlLmNsYXNzTmFtZSA9ICdtdC0xIHRleHQtc20gZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTkwMCc7XG4gICAgICBjb25zdCBkaXNwbGF5TGFiZWwgPSAoYmxvY2suc2V0dGluZ3MgJiYgYmxvY2suc2V0dGluZ3MudGl0bGUpIHx8IGJsb2NrLmxhYmVsIHx8ICdCbG9jIHNhbnMgdGl0cmUnO1xuICAgICAgdGl0bGUudGV4dENvbnRlbnQgPSBkaXNwbGF5TGFiZWw7XG4gICAgICBcbiAgICAgIHRleHRXcmFwcGVyLmFwcGVuZENoaWxkKG1ldGEpO1xuICAgICAgdGV4dFdyYXBwZXIuYXBwZW5kQ2hpbGQodGl0bGUpO1xuICAgICAgXG4gICAgICBpZiAoYmxvY2tUeXBlID09PSAnY29sbGVjdGlvbmdyaWQnICYmIGJsb2NrLmNvbGxlY3Rpb25JZCkge1xuICAgICAgICBjb25zdCBjb2xsZWN0aW9uTmFtZSA9IGRlc2lnbkNvbGxlY3Rpb25zLmZpbmQoKGVudHJ5KSA9PiBlbnRyeS5pZCA9PT0gYmxvY2suY29sbGVjdGlvbklkKT8ubmFtZSB8fCBibG9jay5jb2xsZWN0aW9uSWQ7XG4gICAgICAgIGNvbnN0IGluZm8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgICAgIGluZm8uY2xhc3NOYW1lID0gJ3RleHQteHMgdGV4dC1zbGF0ZS00MDAnO1xuICAgICAgICBpbmZvLnRleHRDb250ZW50ID0gYENvbGxlY3Rpb24gOiAke2NvbGxlY3Rpb25OYW1lfWA7XG4gICAgICAgIHRleHRXcmFwcGVyLmFwcGVuZENoaWxkKGluZm8pO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb250ZW50LmFwcGVuZENoaWxkKHRleHRXcmFwcGVyKTtcbiAgICAgIGl0ZW0uYXBwZW5kQ2hpbGQoY29udGVudCk7XG5cbiAgICAgIGNvbnN0IGFjdGlvbnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGFjdGlvbnMuY2xhc3NOYW1lID0gJ2ZsZXggZmxleC1jb2wgZ2FwLTEgdGV4dC14cyB0ZXh0LXNsYXRlLTQwMCc7XG5cbiAgICAgIGNvbnN0IG1vdmVCdXR0b25zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBtb3ZlQnV0dG9ucy5jbGFzc05hbWUgPSAnZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEgbGc6aGlkZGVuJztcbiAgICAgIGNvbnN0IG1vdmVVcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgbW92ZVVwLnR5cGUgPSAnYnV0dG9uJztcbiAgICAgIG1vdmVVcC5jbGFzc05hbWUgPSAncm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLXNsYXRlLTIwMCBweC0yIHB5LTEgdGV4dC1bMTFweF0gZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICBtb3ZlVXAudGV4dENvbnRlbnQgPSAnXHUyMTkxJztcbiAgICAgIG1vdmVVcC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgaWYgKHBhcmVudElkKSB7XG4gICAgICAgICAgbW92ZUNoaWxkQmxvY2tCeU9mZnNldChwYXJlbnRJZCwgYmxvY2suaWQsIC0xKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtb3ZlQmxvY2tCeU9mZnNldChibG9jay5pZCwgLTEpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGNvbnN0IG1vdmVEb3duID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICBtb3ZlRG93bi50eXBlID0gJ2J1dHRvbic7XG4gICAgICBtb3ZlRG93bi5jbGFzc05hbWUgPSAncm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLXNsYXRlLTIwMCBweC0yIHB5LTEgdGV4dC1bMTFweF0gZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICBtb3ZlRG93bi50ZXh0Q29udGVudCA9ICdcdTIxOTMnO1xuICAgICAgbW92ZURvd24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGlmIChwYXJlbnRJZCkge1xuICAgICAgICAgIG1vdmVDaGlsZEJsb2NrQnlPZmZzZXQocGFyZW50SWQsIGJsb2NrLmlkLCAxKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtb3ZlQmxvY2tCeU9mZnNldChibG9jay5pZCwgMSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgbW92ZUJ1dHRvbnMuYXBwZW5kQ2hpbGQobW92ZVVwKTtcbiAgICAgIG1vdmVCdXR0b25zLmFwcGVuZENoaWxkKG1vdmVEb3duKTtcbiAgICAgIGFjdGlvbnMuYXBwZW5kQ2hpbGQobW92ZUJ1dHRvbnMpO1xuXG4gICAgICBjb25zdCBkZWxldGVCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgIGRlbGV0ZUJ1dHRvbi50eXBlID0gJ2J1dHRvbic7XG4gICAgICBkZWxldGVCdXR0b24uY2xhc3NOYW1lID0gJ2lubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciByb3VuZGVkLWxnIGJvcmRlciBib3JkZXItdHJhbnNwYXJlbnQgcHgtMiBweS0xIHRleHQtWzEycHhdIHRleHQtcm9zZS01MDAgaG92ZXI6dGV4dC1yb3NlLTcwMCc7XG4gICAgICBkZWxldGVCdXR0b24uaW5uZXJIVE1MID0gJ1x1RDgzRFx1REREMVx1RkUwRic7XG4gICAgICBkZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGlmIChwYXJlbnRJZCkge1xuICAgICAgICAgIHJlbW92ZUNoaWxkRnJvbUdyb3VwKHBhcmVudElkLCBibG9jay5pZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb3BlbkJsb2NrRGVsZXRlTW9kYWwoYmxvY2suaWQpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgYWN0aW9ucy5hcHBlbmRDaGlsZChkZWxldGVCdXR0b24pO1xuICAgICAgaXRlbS5hcHBlbmRDaGlsZChhY3Rpb25zKTtcblxuICAgICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgc2V0QWN0aXZlQmxvY2soYmxvY2suaWQsIHBhcmVudElkKTtcbiAgICAgIH0pO1xuICAgICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmIChldmVudC5rZXkgPT09ICdFbnRlcicgfHwgZXZlbnQua2V5ID09PSAnICcpIHtcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIHNldEFjdGl2ZUJsb2NrKGJsb2NrLmlkLCBwYXJlbnRJZCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgXG4gICAgICByZXR1cm4geyBpdGVtLCBpc0dyb3VwLCBibG9jayB9O1xuICAgIH07XG4gICAgXG4gICAgLy8gRm9uY3Rpb24gcG91ciBjclx1MDBFOWVyIGxhIHpvbmUgZGUgZHJvcCBwb3VyIHVuIGdyb3VwZVxuICAgIGNvbnN0IGNyZWF0ZUdyb3VwRHJvcFpvbmUgPSAocGFyZW50QmxvY2spID0+IHtcbiAgICAgIGNvbnN0IGRyb3Bab25lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBkcm9wWm9uZS5kYXRhc2V0Lmdyb3VwRHJvcFpvbmUgPSBwYXJlbnRCbG9jay5pZDtcbiAgICAgIGRyb3Bab25lLmNsYXNzTmFtZSA9ICdtbC02IGJvcmRlci0yIGJvcmRlci1kYXNoZWQgYm9yZGVyLXNsYXRlLTIwMCByb3VuZGVkLXhsIHAtMyB0ZXh0LWNlbnRlciB0ZXh0LXhzIHRleHQtc2xhdGUtNDAwIGhvdmVyOmJvcmRlci12aW9sZXQtMzAwIGhvdmVyOmJnLXZpb2xldC01MC81MCB0cmFuc2l0aW9uLWNvbG9ycyBjdXJzb3ItcG9pbnRlcic7XG4gICAgICBkcm9wWm9uZS5pbm5lckhUTUwgPSAnPHNwYW4gY2xhc3M9XCJwb2ludGVyLWV2ZW50cy1ub25lXCI+XHVEODNEXHVEQ0U2IEdsaXNzZXogdW4gYmxvYyBpY2kgb3UgY2xpcXVleiBwb3VyIGFqb3V0ZXI8L3NwYW4+JztcbiAgICAgIFxuICAgICAgLy8gXHUwMEM5dlx1MDBFOW5lbWVudHMgZGUgZHJhZyAmIGRyb3BcbiAgICAgIGRyb3Bab25lLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgKGUpID0+IHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBkcm9wWm9uZS5jbGFzc0xpc3QuYWRkKCdib3JkZXItdmlvbGV0LTQwMCcsICdiZy12aW9sZXQtNTAnKTtcbiAgICAgIH0pO1xuICAgICAgZHJvcFpvbmUuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2xlYXZlJywgKGUpID0+IHtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgZHJvcFpvbmUuY2xhc3NMaXN0LnJlbW92ZSgnYm9yZGVyLXZpb2xldC00MDAnLCAnYmctdmlvbGV0LTUwJyk7XG4gICAgICB9KTtcbiAgICAgIGRyb3Bab25lLmFkZEV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCAoZSkgPT4ge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGRyb3Bab25lLmNsYXNzTGlzdC5yZW1vdmUoJ2JvcmRlci12aW9sZXQtNDAwJywgJ2JnLXZpb2xldC01MCcpO1xuICAgICAgICBjb25zdCBibG9ja0lkID0gZS5kYXRhVHJhbnNmZXIuZ2V0RGF0YSgndGV4dC9wbGFpbicpO1xuICAgICAgICBpZiAoYmxvY2tJZCAmJiBibG9ja0lkICE9PSBwYXJlbnRCbG9jay5pZCkge1xuICAgICAgICAgIG1vdmVCbG9ja1RvR3JvdXAoYmxvY2tJZCwgcGFyZW50QmxvY2suaWQpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgLy8gQ2xpYyBwb3VyIGFqb3V0ZXIgdW4gYmxvYyBhdSBncm91cGVcbiAgICAgIGRyb3Bab25lLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBvcGVuQWRkQmxvY2tUb0dyb3VwTW9kYWwocGFyZW50QmxvY2suaWQpO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIHJldHVybiBkcm9wWm9uZTtcbiAgICB9O1xuXG5cdCAgICBjb25zdCByZW5kZXJCbG9ja0xpc3QgPSAocGFnZSkgPT4ge1xuXHQgICAgICBpZiAoIWJsb2NrTGlzdCkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuICAgICAgYmxvY2tMaXN0LmlubmVySFRNTCA9ICcnO1xuICAgICAgY29uc3QgYmxvY2tzID0gcGFnZT8uYmxvY2tzIHx8IFtdO1xuICAgICAgaWYgKGJsb2NrQ291bnRCYWRnZSkge1xuICAgICAgICBibG9ja0NvdW50QmFkZ2UudGV4dENvbnRlbnQgPSBmb3JtYXRCbG9ja0NvdW50KGJsb2Nrcy5sZW5ndGgpO1xuICAgICAgfVxuICAgICAgaWYgKGJsb2Nrcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgYmxvY2tMaXN0LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBibG9ja0xpc3RFbXB0eT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGJsb2NrTGlzdC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGJsb2NrTGlzdEVtcHR5Py5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIFxuICAgICAgYmxvY2tzLmZvckVhY2goKGJsb2NrKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgaXRlbSwgaXNHcm91cCB9ID0gY3JlYXRlQmxvY2tJdGVtRWxlbWVudChibG9jaywgZmFsc2UsIG51bGwpO1xuICAgICAgICBibG9ja0xpc3QuYXBwZW5kQ2hpbGQoaXRlbSk7XG4gICAgICAgIFxuICAgICAgICAvLyBTaSBjJ2VzdCB1biBncm91cGUsIGFmZmljaGVyIGxlcyBlbmZhbnRzIGV0IGxhIHpvbmUgZGUgZHJvcFxuICAgICAgICBpZiAoaXNHcm91cCkge1xuICAgICAgICAgIGNvbnN0IGNoaWxkcmVuID0gYmxvY2suY2hpbGRyZW4gfHwgW107XG4gICAgICAgICAgY2hpbGRyZW4uZm9yRWFjaCgoY2hpbGQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgaXRlbTogY2hpbGRJdGVtIH0gPSBjcmVhdGVCbG9ja0l0ZW1FbGVtZW50KGNoaWxkLCB0cnVlLCBibG9jay5pZCk7XG4gICAgICAgICAgICBibG9ja0xpc3QuYXBwZW5kQ2hpbGQoY2hpbGRJdGVtKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICAvLyBab25lIGRlIGRyb3AgcG91ciBham91dGVyIGRlcyBibG9jcyBhdSBncm91cGVcbiAgICAgICAgICBjb25zdCBkcm9wWm9uZSA9IGNyZWF0ZUdyb3VwRHJvcFpvbmUoYmxvY2spO1xuICAgICAgICAgIGJsb2NrTGlzdC5hcHBlbmRDaGlsZChkcm9wWm9uZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXHQgICAgfTtcblx0ICAgIFxuXHQgICAgLy8gRm9uY3Rpb25zIHBvdXIgZ1x1MDBFOXJlciBsZXMgZW5mYW50cyBkZXMgZ3JvdXBlc1xuXHQgICAgY29uc3QgZmluZENoaWxkTG9jYXRpb24gPSAoY2hpbGRJZCkgPT4ge1xuXHQgICAgICBpZiAoIWN1cnJlbnRQYWdlIHx8ICFjaGlsZElkKSByZXR1cm4gbnVsbDtcblx0ICAgICAgZm9yIChsZXQgZ3JvdXBJbmRleCA9IDA7IGdyb3VwSW5kZXggPCBjdXJyZW50UGFnZS5ibG9ja3MubGVuZ3RoOyBncm91cEluZGV4KyspIHtcblx0ICAgICAgICBjb25zdCBncm91cEJsb2NrID0gY3VycmVudFBhZ2UuYmxvY2tzW2dyb3VwSW5kZXhdO1xuXHQgICAgICAgIGNvbnN0IGdyb3VwVHlwZSA9IChncm91cEJsb2NrPy50eXBlIHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xuXHQgICAgICAgIGNvbnN0IGlzR3JvdXAgPVxuXHQgICAgICAgICAgZ3JvdXBUeXBlID09PSAnZ3JvdXBlJyB8fCBncm91cFR5cGUgPT09ICdncm91cCcgfHwgZ3JvdXBUeXBlID09PSAnc2VjdGlvbnMnIHx8IGdyb3VwVHlwZSA9PT0gJ2dyaWQnO1xuXHQgICAgICAgIGlmICghaXNHcm91cCB8fCAhQXJyYXkuaXNBcnJheShncm91cEJsb2NrLmNoaWxkcmVuKSkgY29udGludWU7XG5cdCAgICAgICAgY29uc3QgY2hpbGRJbmRleCA9IGdyb3VwQmxvY2suY2hpbGRyZW4uZmluZEluZGV4KChjaGlsZCkgPT4gY2hpbGQuaWQgPT09IGNoaWxkSWQpO1xuXHQgICAgICAgIGlmIChjaGlsZEluZGV4ICE9PSAtMSkge1xuXHQgICAgICAgICAgcmV0dXJuIHsgZ3JvdXBJZDogZ3JvdXBCbG9jay5pZCwgZ3JvdXBJbmRleCwgY2hpbGRJbmRleCB9O1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gbnVsbDtcblx0ICAgIH07XG5cdCAgICBjb25zdCBleHRyYWN0QmxvY2tCeUlkID0gKGJsb2NrSWQpID0+IHtcblx0ICAgICAgaWYgKCFjdXJyZW50UGFnZSB8fCAhYmxvY2tJZCkgcmV0dXJuIG51bGw7XG5cdCAgICAgIGNvbnN0IHJvb3RJbmRleCA9IGN1cnJlbnRQYWdlLmJsb2Nrcy5maW5kSW5kZXgoKGIpID0+IGIuaWQgPT09IGJsb2NrSWQpO1xuXHQgICAgICBpZiAocm9vdEluZGV4ICE9PSAtMSkge1xuXHQgICAgICAgIGNvbnN0IFtibG9ja10gPSBjdXJyZW50UGFnZS5ibG9ja3Muc3BsaWNlKHJvb3RJbmRleCwgMSk7XG5cdCAgICAgICAgcmV0dXJuIHsgYmxvY2ssIGZyb206IHsgdHlwZTogJ3Jvb3QnLCBpbmRleDogcm9vdEluZGV4IH0gfTtcblx0ICAgICAgfVxuXHQgICAgICBjb25zdCBjaGlsZExvYyA9IGZpbmRDaGlsZExvY2F0aW9uKGJsb2NrSWQpO1xuXHQgICAgICBpZiAoIWNoaWxkTG9jKSByZXR1cm4gbnVsbDtcblx0ICAgICAgY29uc3QgZ3JvdXBCbG9jayA9IGN1cnJlbnRQYWdlLmJsb2Nrcy5maW5kKChiKSA9PiBiLmlkID09PSBjaGlsZExvYy5ncm91cElkKTtcblx0ICAgICAgaWYgKCFncm91cEJsb2NrIHx8ICFBcnJheS5pc0FycmF5KGdyb3VwQmxvY2suY2hpbGRyZW4pKSByZXR1cm4gbnVsbDtcblx0ICAgICAgY29uc3QgW2Jsb2NrXSA9IGdyb3VwQmxvY2suY2hpbGRyZW4uc3BsaWNlKGNoaWxkTG9jLmNoaWxkSW5kZXgsIDEpO1xuXHQgICAgICByZXR1cm4geyBibG9jaywgZnJvbTogeyB0eXBlOiAnZ3JvdXAnLCBncm91cElkOiBjaGlsZExvYy5ncm91cElkLCBpbmRleDogY2hpbGRMb2MuY2hpbGRJbmRleCB9IH07XG5cdCAgICB9O1xuXHQgICAgY29uc3QgaW5zZXJ0QmxvY2tJbnRvUm9vdCA9IChibG9jaywgaW5kZXgpID0+IHtcblx0ICAgICAgaWYgKCFjdXJyZW50UGFnZSB8fCAhYmxvY2spIHJldHVybjtcblx0ICAgICAgY29uc3Qgc2FmZUluZGV4ID0gTWF0aC5taW4oTWF0aC5tYXgoMCwgaW5kZXggPz8gY3VycmVudFBhZ2UuYmxvY2tzLmxlbmd0aCksIGN1cnJlbnRQYWdlLmJsb2Nrcy5sZW5ndGgpO1xuXHQgICAgICBjdXJyZW50UGFnZS5ibG9ja3Muc3BsaWNlKHNhZmVJbmRleCwgMCwgYmxvY2spO1xuXHQgICAgfTtcblx0ICAgIGNvbnN0IGluc2VydEJsb2NrSW50b0dyb3VwID0gKGJsb2NrLCBncm91cElkLCBpbmRleCkgPT4ge1xuXHQgICAgICBpZiAoIWN1cnJlbnRQYWdlIHx8ICFibG9jayB8fCAhZ3JvdXBJZCkgcmV0dXJuIGZhbHNlO1xuXHQgICAgICBjb25zdCBncm91cEJsb2NrID0gY3VycmVudFBhZ2UuYmxvY2tzLmZpbmQoKGIpID0+IGIuaWQgPT09IGdyb3VwSWQpO1xuXHQgICAgICBpZiAoIWdyb3VwQmxvY2spIHJldHVybiBmYWxzZTtcblx0ICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGdyb3VwQmxvY2suY2hpbGRyZW4pKSBncm91cEJsb2NrLmNoaWxkcmVuID0gW107XG5cdCAgICAgIGNvbnN0IHNhZmVJbmRleCA9IE1hdGgubWluKFxuXHQgICAgICAgIE1hdGgubWF4KDAsIGluZGV4ID8/IGdyb3VwQmxvY2suY2hpbGRyZW4ubGVuZ3RoKSxcblx0ICAgICAgICBncm91cEJsb2NrLmNoaWxkcmVuLmxlbmd0aCxcblx0ICAgICAgKTtcblx0ICAgICAgZ3JvdXBCbG9jay5jaGlsZHJlbi5zcGxpY2Uoc2FmZUluZGV4LCAwLCBibG9jayk7XG5cdCAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgfTtcblx0ICAgIGNvbnN0IGdldEluc2VydEluZGV4RnJvbVBvc2l0aW9uID0gKGJhc2VJbmRleCwgcG9zaXRpb24sIG9mZnNldFdoZW5BZnRlciA9IDEpID0+IHtcblx0ICAgICAgaWYgKHR5cGVvZiBiYXNlSW5kZXggIT09ICdudW1iZXInIHx8IGJhc2VJbmRleCA8IDApIHJldHVybiBudWxsO1xuXHQgICAgICByZXR1cm4gcG9zaXRpb24gPT09ICdiZWZvcmUnID8gYmFzZUluZGV4IDogYmFzZUluZGV4ICsgb2Zmc2V0V2hlbkFmdGVyO1xuXHQgICAgfTtcblx0ICAgIGNvbnN0IGNvbW1pdEJsb2Nrc0NoYW5nZSA9IChhY3RpdmVJZCA9IG51bGwsIGFjdGl2ZVBhcmVudElkID0gbnVsbCwgdG9hc3RNZXNzYWdlID0gbnVsbCkgPT4ge1xuXHQgICAgICByZW5kZXJCbG9ja0xpc3QoY3VycmVudFBhZ2UpO1xuXHQgICAgICBzYXZlUGFnZUJsb2NrcygpO1xuXHQgICAgICBpZiAoYWN0aXZlSWQpIHtcblx0ICAgICAgICBzZXRBY3RpdmVCbG9jayhhY3RpdmVJZCwgYWN0aXZlUGFyZW50SWQpO1xuXHQgICAgICB9XG5cdCAgICAgIGlmICh0b2FzdE1lc3NhZ2UpIHtcblx0ICAgICAgICBzaG93VG9hc3QodG9hc3RNZXNzYWdlKTtcblx0ICAgICAgfVxuXHQgICAgfTtcblxuXHQgICAgY29uc3QgbW92ZUJsb2NrVG9Hcm91cCA9IChibG9ja0lkLCBncm91cElkKSA9PiB7XG5cdCAgICAgIGlmICghY3VycmVudFBhZ2UpIHJldHVybjtcblx0ICAgICAgaWYgKCFibG9ja0lkIHx8ICFncm91cElkIHx8IGJsb2NrSWQgPT09IGdyb3VwSWQpIHJldHVybjtcblx0ICAgICAgY29uc3QgZ3JvdXBCbG9jayA9IGN1cnJlbnRQYWdlLmJsb2Nrcy5maW5kKChiKSA9PiBiLmlkID09PSBncm91cElkKTtcblx0ICAgICAgaWYgKCFncm91cEJsb2NrKSByZXR1cm47XG5cdCAgICAgIFxuXHQgICAgICAvLyBOZSBwYXMgcGVybWV0dHJlIGRlIGRcdTAwRTlwbGFjZXIgdW4gZ3JvdXBlIGRhbnMgdW4gZ3JvdXBlXG5cdCAgICAgIGNvbnN0IGV4dHJhY3RlZCA9IGV4dHJhY3RCbG9ja0J5SWQoYmxvY2tJZCk7XG5cdCAgICAgIGlmICghZXh0cmFjdGVkPy5ibG9jaykgcmV0dXJuO1xuXHQgICAgICBjb25zdCBibG9ja1R5cGUgPSAoZXh0cmFjdGVkLmJsb2NrLnR5cGUgfHwgJycpLnRvTG93ZXJDYXNlKCk7XG5cdCAgICAgIGlmIChibG9ja1R5cGUgPT09ICdncm91cGUnIHx8IGJsb2NrVHlwZSA9PT0gJ2dyb3VwJykge1xuXHQgICAgICAgIHNob3dUb2FzdCgnSW1wb3NzaWJsZSBkXFwnaW1icmlxdWVyIGRlcyBncm91cGVzJywgJ2Vycm9yJyk7XG5cdCAgICAgICAgLy8gUmVtZXR0cmUgbGUgYmxvYyBcdTAwRTAgc2EgcGxhY2UgZCdvcmlnaW5lXG5cdCAgICAgICAgaWYgKGV4dHJhY3RlZC5mcm9tPy50eXBlID09PSAncm9vdCcpIHtcblx0ICAgICAgICAgIGluc2VydEJsb2NrSW50b1Jvb3QoZXh0cmFjdGVkLmJsb2NrLCBleHRyYWN0ZWQuZnJvbS5pbmRleCk7XG5cdCAgICAgICAgfSBlbHNlIGlmIChleHRyYWN0ZWQuZnJvbT8udHlwZSA9PT0gJ2dyb3VwJykge1xuXHQgICAgICAgICAgaW5zZXJ0QmxvY2tJbnRvR3JvdXAoZXh0cmFjdGVkLmJsb2NrLCBleHRyYWN0ZWQuZnJvbS5ncm91cElkLCBleHRyYWN0ZWQuZnJvbS5pbmRleCk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHQgICAgICBcblx0ICAgICAgLy8gRFx1MDBFOWpcdTAwRTAgZGFucyBjZSBncm91cGUgXHUyMTkyIG5vLW9wXG5cdCAgICAgIGlmIChleHRyYWN0ZWQuZnJvbT8udHlwZSA9PT0gJ2dyb3VwJyAmJiBleHRyYWN0ZWQuZnJvbS5ncm91cElkID09PSBncm91cElkKSB7XG5cdCAgICAgICAgaW5zZXJ0QmxvY2tJbnRvR3JvdXAoZXh0cmFjdGVkLmJsb2NrLCBleHRyYWN0ZWQuZnJvbS5ncm91cElkLCBleHRyYWN0ZWQuZnJvbS5pbmRleCk7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cblx0ICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGdyb3VwQmxvY2suY2hpbGRyZW4pKSBncm91cEJsb2NrLmNoaWxkcmVuID0gW107XG5cdCAgICAgIGdyb3VwQmxvY2suY2hpbGRyZW4ucHVzaChleHRyYWN0ZWQuYmxvY2spO1xuXHQgICAgICBjb21taXRCbG9ja3NDaGFuZ2UoZXh0cmFjdGVkLmJsb2NrLmlkLCBncm91cElkLCBgQmxvYyBham91dFx1MDBFOSBhdSBncm91cGVgKTtcblx0ICAgIH07XG5cdCAgICBcblx0ICAgIGNvbnN0IHJlbW92ZUNoaWxkRnJvbUdyb3VwID0gKGdyb3VwSWQsIGNoaWxkSWQpID0+IHtcblx0ICAgICAgaWYgKCFjdXJyZW50UGFnZSkgcmV0dXJuO1xuICAgICAgY29uc3QgZ3JvdXBCbG9jayA9IGN1cnJlbnRQYWdlLmJsb2Nrcy5maW5kKChiKSA9PiBiLmlkID09PSBncm91cElkKTtcbiAgICAgIGlmICghZ3JvdXBCbG9jayB8fCAhZ3JvdXBCbG9jay5jaGlsZHJlbikgcmV0dXJuO1xuICAgICAgXG4gICAgICBjb25zdCBjaGlsZEluZGV4ID0gZ3JvdXBCbG9jay5jaGlsZHJlbi5maW5kSW5kZXgoKGMpID0+IGMuaWQgPT09IGNoaWxkSWQpO1xuICAgICAgaWYgKGNoaWxkSW5kZXggPT09IC0xKSByZXR1cm47XG4gICAgICBcbiAgICAgIC8vIFJldGlyZXIgbCdlbmZhbnQgZHUgZ3JvdXBlIGV0IGxlIHJlbWV0dHJlIGRhbnMgbGEgbGlzdGUgcHJpbmNpcGFsZSBhcHJcdTAwRThzIGxlIGdyb3VwZVxuICAgICAgY29uc3QgW2NoaWxkXSA9IGdyb3VwQmxvY2suY2hpbGRyZW4uc3BsaWNlKGNoaWxkSW5kZXgsIDEpO1xuICAgICAgY29uc3QgZ3JvdXBJbmRleCA9IGN1cnJlbnRQYWdlLmJsb2Nrcy5maW5kSW5kZXgoKGIpID0+IGIuaWQgPT09IGdyb3VwSWQpO1xuICAgICAgY3VycmVudFBhZ2UuYmxvY2tzLnNwbGljZShncm91cEluZGV4ICsgMSwgMCwgY2hpbGQpO1xuICAgICAgXG5cdCAgICAgIHJlbmRlckJsb2NrTGlzdChjdXJyZW50UGFnZSk7XG5cdCAgICAgIHNhdmVQYWdlQmxvY2tzKCk7XG5cdCAgICAgIHNob3dUb2FzdChgQmxvYyBzb3J0aSBkdSBncm91cGVgKTtcblx0ICAgIH07XG5cblx0ICAgIGNvbnN0IG1vdmVDaGlsZEZyb21Hcm91cFRvUm9vdEF0ID0gKGdyb3VwSWQsIGNoaWxkSWQsIGluc2VydEluZGV4KSA9PiB7XG5cdCAgICAgIGlmICghY3VycmVudFBhZ2UpIHJldHVybjtcblx0ICAgICAgY29uc3QgZ3JvdXBCbG9jayA9IGN1cnJlbnRQYWdlLmJsb2Nrcy5maW5kKChiKSA9PiBiLmlkID09PSBncm91cElkKTtcblx0ICAgICAgaWYgKCFncm91cEJsb2NrIHx8ICFBcnJheS5pc0FycmF5KGdyb3VwQmxvY2suY2hpbGRyZW4pKSByZXR1cm47XG5cdCAgICAgIGNvbnN0IGNoaWxkSW5kZXggPSBncm91cEJsb2NrLmNoaWxkcmVuLmZpbmRJbmRleCgoYykgPT4gYy5pZCA9PT0gY2hpbGRJZCk7XG5cdCAgICAgIGlmIChjaGlsZEluZGV4ID09PSAtMSkgcmV0dXJuO1xuXHQgICAgICBjb25zdCBbY2hpbGRdID0gZ3JvdXBCbG9jay5jaGlsZHJlbi5zcGxpY2UoY2hpbGRJbmRleCwgMSk7XG5cdCAgICAgIGluc2VydEJsb2NrSW50b1Jvb3QoY2hpbGQsIGluc2VydEluZGV4KTtcblx0ICAgICAgY29tbWl0QmxvY2tzQ2hhbmdlKGNoaWxkLmlkLCBudWxsLCAnQmxvYyBzb3J0aSBkdSBncm91cGUnKTtcblx0ICAgIH07XG5cblx0ICAgIGNvbnN0IG1vdmVDaGlsZFdpdGhpbkdyb3VwID0gKGdyb3VwSWQsIGNoaWxkSWQsIHRhcmdldENoaWxkSWQsIHBvc2l0aW9uKSA9PiB7XG5cdCAgICAgIGlmICghY3VycmVudFBhZ2UpIHJldHVybjtcblx0ICAgICAgY29uc3QgZ3JvdXBCbG9jayA9IGN1cnJlbnRQYWdlLmJsb2Nrcy5maW5kKChiKSA9PiBiLmlkID09PSBncm91cElkKTtcblx0ICAgICAgaWYgKCFncm91cEJsb2NrIHx8ICFBcnJheS5pc0FycmF5KGdyb3VwQmxvY2suY2hpbGRyZW4pKSByZXR1cm47XG5cdCAgICAgIGNvbnN0IGZyb21JbmRleCA9IGdyb3VwQmxvY2suY2hpbGRyZW4uZmluZEluZGV4KChjKSA9PiBjLmlkID09PSBjaGlsZElkKTtcblx0ICAgICAgY29uc3QgdG9JbmRleEJhc2UgPSBncm91cEJsb2NrLmNoaWxkcmVuLmZpbmRJbmRleCgoYykgPT4gYy5pZCA9PT0gdGFyZ2V0Q2hpbGRJZCk7XG5cdCAgICAgIGlmIChmcm9tSW5kZXggPT09IC0xIHx8IHRvSW5kZXhCYXNlID09PSAtMSB8fCBjaGlsZElkID09PSB0YXJnZXRDaGlsZElkKSByZXR1cm47XG5cdCAgICAgIGNvbnN0IFttb3ZlZF0gPSBncm91cEJsb2NrLmNoaWxkcmVuLnNwbGljZShmcm9tSW5kZXgsIDEpO1xuXHQgICAgICBjb25zdCBhZGp1c3RlZFRvSW5kZXhCYXNlID0gZnJvbUluZGV4IDwgdG9JbmRleEJhc2UgPyB0b0luZGV4QmFzZSAtIDEgOiB0b0luZGV4QmFzZTtcblx0ICAgICAgY29uc3QgaW5zZXJ0SW5kZXggPVxuXHQgICAgICAgIHBvc2l0aW9uID09PSAnYmVmb3JlJyA/IGFkanVzdGVkVG9JbmRleEJhc2UgOiBhZGp1c3RlZFRvSW5kZXhCYXNlICsgMTtcblx0ICAgICAgZ3JvdXBCbG9jay5jaGlsZHJlbi5zcGxpY2UoaW5zZXJ0SW5kZXgsIDAsIG1vdmVkKTtcblx0ICAgICAgY29tbWl0QmxvY2tzQ2hhbmdlKG1vdmVkLmlkLCBncm91cElkLCBudWxsKTtcblx0ICAgIH07XG5cblx0ICAgIGNvbnN0IG1vdmVBbnlCbG9ja1RvR3JvdXBBdCA9IChibG9ja0lkLCBncm91cElkLCB0YXJnZXRDaGlsZElkLCBwb3NpdGlvbikgPT4ge1xuXHQgICAgICBpZiAoIWN1cnJlbnRQYWdlKSByZXR1cm47XG5cdCAgICAgIGlmICghYmxvY2tJZCB8fCAhZ3JvdXBJZCkgcmV0dXJuO1xuXHQgICAgICBjb25zdCBleHRyYWN0ZWQgPSBleHRyYWN0QmxvY2tCeUlkKGJsb2NrSWQpO1xuXHQgICAgICBpZiAoIWV4dHJhY3RlZD8uYmxvY2spIHJldHVybjtcblx0ICAgICAgY29uc3QgYmxvY2tUeXBlID0gKGV4dHJhY3RlZC5ibG9jay50eXBlIHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xuXHQgICAgICBpZiAoYmxvY2tUeXBlID09PSAnZ3JvdXBlJyB8fCBibG9ja1R5cGUgPT09ICdncm91cCcpIHtcblx0ICAgICAgICBzaG93VG9hc3QoXCJJbXBvc3NpYmxlIGQnaW1icmlxdWVyIGRlcyBncm91cGVzXCIsICdlcnJvcicpO1xuXHQgICAgICAgIGlmIChleHRyYWN0ZWQuZnJvbT8udHlwZSA9PT0gJ3Jvb3QnKSB7XG5cdCAgICAgICAgICBpbnNlcnRCbG9ja0ludG9Sb290KGV4dHJhY3RlZC5ibG9jaywgZXh0cmFjdGVkLmZyb20uaW5kZXgpO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoZXh0cmFjdGVkLmZyb20/LnR5cGUgPT09ICdncm91cCcpIHtcblx0ICAgICAgICAgIGluc2VydEJsb2NrSW50b0dyb3VwKGV4dHJhY3RlZC5ibG9jaywgZXh0cmFjdGVkLmZyb20uZ3JvdXBJZCwgZXh0cmFjdGVkLmZyb20uaW5kZXgpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cblx0ICAgICAgY29uc3QgZ3JvdXBCbG9jayA9IGN1cnJlbnRQYWdlLmJsb2Nrcy5maW5kKChiKSA9PiBiLmlkID09PSBncm91cElkKTtcblx0ICAgICAgaWYgKCFncm91cEJsb2NrKSB7XG5cdCAgICAgICAgLy8gUmVtZXR0cmUgbGUgYmxvY1xuXHQgICAgICAgIGlmIChleHRyYWN0ZWQuZnJvbT8udHlwZSA9PT0gJ3Jvb3QnKSB7XG5cdCAgICAgICAgICBpbnNlcnRCbG9ja0ludG9Sb290KGV4dHJhY3RlZC5ibG9jaywgZXh0cmFjdGVkLmZyb20uaW5kZXgpO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoZXh0cmFjdGVkLmZyb20/LnR5cGUgPT09ICdncm91cCcpIHtcblx0ICAgICAgICAgIGluc2VydEJsb2NrSW50b0dyb3VwKGV4dHJhY3RlZC5ibG9jaywgZXh0cmFjdGVkLmZyb20uZ3JvdXBJZCwgZXh0cmFjdGVkLmZyb20uaW5kZXgpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGdyb3VwQmxvY2suY2hpbGRyZW4pKSBncm91cEJsb2NrLmNoaWxkcmVuID0gW107XG5cdCAgICAgIGxldCBpbnNlcnRJbmRleCA9IGdyb3VwQmxvY2suY2hpbGRyZW4ubGVuZ3RoO1xuXHQgICAgICBpZiAodGFyZ2V0Q2hpbGRJZCkge1xuXHQgICAgICAgIGNvbnN0IHRhcmdldEluZGV4ID0gZ3JvdXBCbG9jay5jaGlsZHJlbi5maW5kSW5kZXgoKGMpID0+IGMuaWQgPT09IHRhcmdldENoaWxkSWQpO1xuXHQgICAgICAgIGNvbnN0IHJlc29sdmVkID0gZ2V0SW5zZXJ0SW5kZXhGcm9tUG9zaXRpb24odGFyZ2V0SW5kZXgsIHBvc2l0aW9uLCAxKTtcblx0ICAgICAgICBpZiAocmVzb2x2ZWQgIT09IG51bGwpIGluc2VydEluZGV4ID0gcmVzb2x2ZWQ7XG5cdCAgICAgIH1cblx0ICAgICAgZ3JvdXBCbG9jay5jaGlsZHJlbi5zcGxpY2UoaW5zZXJ0SW5kZXgsIDAsIGV4dHJhY3RlZC5ibG9jayk7XG5cdCAgICAgIGNvbW1pdEJsb2Nrc0NoYW5nZShleHRyYWN0ZWQuYmxvY2suaWQsIGdyb3VwSWQsICdCbG9jIGFqb3V0XHUwMEU5IGF1IGdyb3VwZScpO1xuXHQgICAgfTtcbiAgICBcbiAgICBjb25zdCBtb3ZlQ2hpbGRCbG9ja0J5T2Zmc2V0ID0gKGdyb3VwSWQsIGNoaWxkSWQsIG9mZnNldCkgPT4ge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSkgcmV0dXJuO1xuICAgICAgY29uc3QgZ3JvdXBCbG9jayA9IGN1cnJlbnRQYWdlLmJsb2Nrcy5maW5kKChiKSA9PiBiLmlkID09PSBncm91cElkKTtcbiAgICAgIGlmICghZ3JvdXBCbG9jayB8fCAhZ3JvdXBCbG9jay5jaGlsZHJlbikgcmV0dXJuO1xuICAgICAgXG4gICAgICBjb25zdCBjdXJyZW50SW5kZXggPSBncm91cEJsb2NrLmNoaWxkcmVuLmZpbmRJbmRleCgoYykgPT4gYy5pZCA9PT0gY2hpbGRJZCk7XG4gICAgICBpZiAoY3VycmVudEluZGV4ID09PSAtMSkgcmV0dXJuO1xuICAgICAgXG4gICAgICBjb25zdCBuZXdJbmRleCA9IGN1cnJlbnRJbmRleCArIG9mZnNldDtcbiAgICAgIGlmIChuZXdJbmRleCA8IDAgfHwgbmV3SW5kZXggPj0gZ3JvdXBCbG9jay5jaGlsZHJlbi5sZW5ndGgpIHJldHVybjtcbiAgICAgIFxuICAgICAgY29uc3QgW2NoaWxkXSA9IGdyb3VwQmxvY2suY2hpbGRyZW4uc3BsaWNlKGN1cnJlbnRJbmRleCwgMSk7XG4gICAgICBncm91cEJsb2NrLmNoaWxkcmVuLnNwbGljZShuZXdJbmRleCwgMCwgY2hpbGQpO1xuICAgICAgXG4gICAgICByZW5kZXJCbG9ja0xpc3QoY3VycmVudFBhZ2UpO1xuICAgICAgc2F2ZVBhZ2VCbG9ja3MoKTtcbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IG9wZW5BZGRCbG9ja1RvR3JvdXBNb2RhbCA9IChncm91cElkKSA9PiB7XG4gICAgICAvLyBVdGlsaXNlciBsZSBtXHUwMEVBbWUgbW9kYWwgZCdham91dCBkZSBibG9jLCBtYWlzIGF2ZWMgbGUgY29udGV4dGUgZHUgZ3JvdXBlXG4gICAgICBwZW5kaW5nR3JvdXBJZEZvck5ld0Jsb2NrID0gZ3JvdXBJZDtcbiAgICAgIG9wZW5CbG9ja1BpY2tlcigpO1xuICAgIH07XG4gICAgXG4gICAgbGV0IHBlbmRpbmdHcm91cElkRm9yTmV3QmxvY2sgPSBudWxsO1xuXG4gICAgLy8gPT09IERlbGV0ZSBwYWdlIGhhbmRsZXJzIChkZWZpbmVkIGJlZm9yZSByZW5kZXJQYWdlTGlzdHMpID09PVxuICAgIGNvbnN0IG9wZW5EZWxldGVQYWdlTW9kYWwgPSAocGFnZSkgPT4ge1xuICAgICAgaWYgKCFkZWxldGVQYWdlTW9kYWwgfHwgIXBhZ2UpIHJldHVybjtcbiAgICAgIHBhZ2VUb0RlbGV0ZSA9IHBhZ2U7XG4gICAgICBpZiAoZGVsZXRlUGFnZU5hbWUpIGRlbGV0ZVBhZ2VOYW1lLnRleHRDb250ZW50ID0gcGFnZS50aXRsZSB8fCBwYWdlLmlkO1xuICAgICAgZGVsZXRlUGFnZU1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgZGVsZXRlUGFnZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2ZsZXgnKTtcbiAgICAgIGFjdGl2YXRlTW9kYWwoZGVsZXRlUGFnZU1vZGFsLCBjbG9zZURlbGV0ZVBhZ2VNb2RhbCk7XG4gICAgfTtcbiAgICBjb25zdCBjbG9zZURlbGV0ZVBhZ2VNb2RhbCA9ICgpID0+IHtcbiAgICAgIGlmICghZGVsZXRlUGFnZU1vZGFsKSByZXR1cm47XG4gICAgICBkZWxldGVQYWdlTW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBkZWxldGVQYWdlTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnZmxleCcpO1xuICAgICAgcGFnZVRvRGVsZXRlID0gbnVsbDtcbiAgICAgIGRlYWN0aXZhdGVNb2RhbChkZWxldGVQYWdlTW9kYWwpO1xuICAgIH07XG4gICAgY29uc3QgZXhlY3V0ZURlbGV0ZVBhZ2UgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXBhZ2VzQXBpQmFzZSB8fCAhcGFnZVRvRGVsZXRlKSByZXR1cm47XG4gICAgICBjb25zdCBwYWdlSWQgPSBwYWdlVG9EZWxldGUuaWQ7XG4gICAgICBjb25zdCBwYWdlVGl0bGUgPSBwYWdlVG9EZWxldGUudGl0bGUgfHwgcGFnZUlkO1xuICAgICAgaWYgKGRlbGV0ZVBhZ2VDb25maXJtKSB7XG4gICAgICAgIGRlbGV0ZVBhZ2VDb25maXJtLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgZGVsZXRlUGFnZUNvbmZpcm0udGV4dENvbnRlbnQgPSAnU3VwcHJlc3Npb24uLi4nO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtwYWdlc0FwaUJhc2V9LyR7ZW5jb2RlVVJJQ29tcG9uZW50KHBhZ2VJZCl9YCwge1xuICAgICAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICAgICAgY3JlZGVudGlhbHM6ICdpbmNsdWRlJyxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQubWVzc2FnZSB8fCAnRXJyZXVyIHNlcnZldXInKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTdXBwcmltZXIgZGUgbGEgbGlzdGUgbG9jYWxlXG4gICAgICAgIHBhZ2VzID0gcGFnZXMuZmlsdGVyKChwKSA9PiBwLmlkICE9PSBwYWdlSWQpO1xuICAgICAgICAvLyBTaSBsYSBwYWdlIHN1cHByaW1cdTAwRTllIFx1MDBFOXRhaXQgYWN0aXZlLCBzXHUwMEU5bGVjdGlvbm5lciBsYSBwcmVtaVx1MDBFOHJlXG4gICAgICAgIGlmIChhY3RpdmVQYWdlSWQgPT09IHBhZ2VJZCkge1xuICAgICAgICAgIGlmIChwYWdlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBzZXRBY3RpdmVQYWdlKHBhZ2VzWzBdLmlkKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYWN0aXZlUGFnZUlkID0gbnVsbDtcbiAgICAgICAgICAgIGN1cnJlbnRQYWdlID0gbnVsbDtcbiAgICAgICAgICAgIHJlbmRlclBhZ2VMaXN0cyhwYWdlcywgbnVsbCk7XG4gICAgICAgICAgICByZW5kZXJCbG9ja0xpc3QobnVsbCk7XG4gICAgICAgICAgICBibG9ja0RldGFpbEVtcHR5Py5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIGJsb2NrRWRpdG9yPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIHByZXZpZXdGcmFtZSAmJiAocHJldmlld0ZyYW1lLnNyY2RvYyA9IGdldExvYWRpbmdQcmV2aWV3SHRtbCgpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVuZGVyUGFnZUxpc3RzKHBhZ2VzLCBhY3RpdmVQYWdlSWQpO1xuICAgICAgICB9XG4gICAgICAgIGNsb3NlRGVsZXRlUGFnZU1vZGFsKCk7XG4gICAgICAgIHNob3dUb2FzdChgUGFnZSBcIiR7cGFnZVRpdGxlfVwiIHN1cHByaW1cdTAwRTllYCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW3BhZ2VzXSBkZWxldGUgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdFcnJldXIgc3VwcHJlc3Npb24nKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmIChkZWxldGVQYWdlQ29uZmlybSkge1xuICAgICAgICAgIGRlbGV0ZVBhZ2VDb25maXJtLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgZGVsZXRlUGFnZUNvbmZpcm0udGV4dENvbnRlbnQgPSAnU3VwcHJpbWVyJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCByZW5kZXJQYWdlTGlzdHMgPSAocGFnZXMsIGFjdGl2ZUlkKSA9PiB7XG4gICAgICBjb25zdCBwYWdlTGlzdCA9IEFycmF5LmlzQXJyYXkocGFnZXMpID8gcGFnZXMgOiBbXTtcbiAgICAgIGNvbnN0IHBhZ2VzQnlJZCA9IG5ldyBNYXAocGFnZUxpc3QubWFwKChwYWdlKSA9PiBbcGFnZS5pZCwgcGFnZV0pKTtcbiAgICAgIGNvbnN0IGNoaWxkcmVuQnlQYXJlbnRJZCA9IG5ldyBNYXAoKTtcbiAgICAgIGNvbnN0IHJlc29sdmVQYXJlbnRCdWNrZXQgPSAocGFnZSkgPT4ge1xuICAgICAgICBjb25zdCByYXdQYXJlbnRJZCA9IHBhZ2U/LnBhcmVudElkO1xuICAgICAgICBpZiAodHlwZW9mIHJhd1BhcmVudElkICE9PSAnc3RyaW5nJyB8fCAhcmF3UGFyZW50SWQudHJpbSgpKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFyZW50SWQgPSByYXdQYXJlbnRJZC50cmltKCk7XG4gICAgICAgIHJldHVybiBwYWdlc0J5SWQuaGFzKHBhcmVudElkKSA/IHBhcmVudElkIDogbnVsbDtcbiAgICAgIH07XG5cbiAgICAgIHBhZ2VMaXN0LmZvckVhY2goKHBhZ2UpID0+IHtcbiAgICAgICAgY29uc3QgYnVja2V0ID0gcmVzb2x2ZVBhcmVudEJ1Y2tldChwYWdlKTtcbiAgICAgICAgaWYgKCFjaGlsZHJlbkJ5UGFyZW50SWQuaGFzKGJ1Y2tldCkpIHtcbiAgICAgICAgICBjaGlsZHJlbkJ5UGFyZW50SWQuc2V0KGJ1Y2tldCwgW10pO1xuICAgICAgICB9XG4gICAgICAgIGNoaWxkcmVuQnlQYXJlbnRJZC5nZXQoYnVja2V0KS5wdXNoKHBhZ2UpO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGNvbXBhcmVQYWdlcyA9IChhLCBiKSA9PiB7XG4gICAgICAgIGNvbnN0IHNsdWdBID0gYT8uc2x1ZyB8fCAnJztcbiAgICAgICAgY29uc3Qgc2x1Z0IgPSBiPy5zbHVnIHx8ICcnO1xuICAgICAgICBpZiAoc2x1Z0EgPT09ICcvJyAmJiBzbHVnQiAhPT0gJy8nKSByZXR1cm4gLTE7XG4gICAgICAgIGlmIChzbHVnQiA9PT0gJy8nICYmIHNsdWdBICE9PSAnLycpIHJldHVybiAxO1xuICAgICAgICByZXR1cm4gc2x1Z0EubG9jYWxlQ29tcGFyZShzbHVnQik7XG4gICAgICB9O1xuICAgICAgQXJyYXkuZnJvbShjaGlsZHJlbkJ5UGFyZW50SWQudmFsdWVzKCkpLmZvckVhY2goKGxpc3QpID0+IGxpc3Quc29ydChjb21wYXJlUGFnZXMpKTtcblxuICAgICAgY29uc3Qgb3JkZXJlZCA9IFtdO1xuICAgICAgY29uc3QgdmlzaXRlZCA9IG5ldyBTZXQoKTtcbiAgICAgIGNvbnN0IHdhbGsgPSAocGFyZW50SWQsIGRlcHRoKSA9PiB7XG4gICAgICAgIGNvbnN0IGNoaWxkcmVuID0gY2hpbGRyZW5CeVBhcmVudElkLmdldChwYXJlbnRJZCkgfHwgW107XG4gICAgICAgIGNoaWxkcmVuLmZvckVhY2goKGNoaWxkKSA9PiB7XG4gICAgICAgICAgaWYgKCFjaGlsZD8uaWQgfHwgdmlzaXRlZC5oYXMoY2hpbGQuaWQpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIHZpc2l0ZWQuYWRkKGNoaWxkLmlkKTtcbiAgICAgICAgICBjb25zdCBoYXNNaXNzaW5nUGFyZW50ID0gISEoY2hpbGQucGFyZW50SWQgJiYgIXBhZ2VzQnlJZC5oYXMoY2hpbGQucGFyZW50SWQpKTtcbiAgICAgICAgICBvcmRlcmVkLnB1c2goeyBwYWdlOiBjaGlsZCwgZGVwdGgsIGhhc01pc3NpbmdQYXJlbnQgfSk7XG4gICAgICAgICAgd2FsayhjaGlsZC5pZCwgZGVwdGggKyAxKTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICB3YWxrKG51bGwsIDApO1xuICAgICAgcGFnZUxpc3QuZm9yRWFjaCgocGFnZSkgPT4ge1xuICAgICAgICBpZiAoIXBhZ2U/LmlkIHx8IHZpc2l0ZWQuaGFzKHBhZ2UuaWQpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZpc2l0ZWQuYWRkKHBhZ2UuaWQpO1xuICAgICAgICBvcmRlcmVkLnB1c2goeyBwYWdlLCBkZXB0aDogMCwgaGFzTWlzc2luZ1BhcmVudDogdHJ1ZSB9KTtcbiAgICAgICAgd2FsayhwYWdlLmlkLCAxKTtcbiAgICAgIH0pO1xuXG4gICAgICBwYWdlTGlzdHMuZm9yRWFjaCgobGlzdCkgPT4ge1xuICAgICAgICBsaXN0LmlubmVySFRNTCA9ICcnO1xuICAgICAgICBvcmRlcmVkLmZvckVhY2goKHsgcGFnZSwgZGVwdGgsIGhhc01pc3NpbmdQYXJlbnQgfSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgICAgIGl0ZW0uY2xhc3NOYW1lID0gJ2ZsZXggaXRlbXMtY2VudGVyIGdhcC0xJztcbiAgICAgICAgICBjb25zdCBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgICBidXR0b24udHlwZSA9ICdidXR0b24nO1xuICAgICAgICAgIGJ1dHRvbi5kYXRhc2V0LnBhZ2VJZCA9IHBhZ2UuaWQ7XG4gICAgICAgICAgYnV0dG9uLmNsYXNzTmFtZSA9IFtcbiAgICAgICAgICAgICdmbGV4LTEgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTMgcHgtMyBweS0yIHRleHQtbGVmdCB0cmFuc2l0aW9uJyxcbiAgICAgICAgICAgIGFjdGl2ZUlkID09PSBwYWdlLmlkXG4gICAgICAgICAgICAgID8gJ2JnLVsjOUM2QkZGXS8xMCB0ZXh0LXNsYXRlLTkwMCBib3JkZXIgYm9yZGVyLVsjOUM2QkZGXS80MCByb3VuZGVkLXhsIHNoYWRvdy1zbSdcbiAgICAgICAgICAgICAgOiAndGV4dC1zbGF0ZS03MDAgaG92ZXI6Ymctc2xhdGUtNTAgcm91bmRlZC14bCcsXG4gICAgICAgICAgXS5qb2luKCcgJyk7XG4gICAgICAgICAgaWYgKGFjdGl2ZUlkID09PSBwYWdlLmlkKSB7XG4gICAgICAgICAgICBidXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLWN1cnJlbnQnLCAncGFnZScpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBidXR0b24ucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWN1cnJlbnQnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgZGlzcGxheU5hbWUgPSBwYWdlLm5hbWUgfHwgcGFnZS50aXRsZTtcbiAgICAgICAgICBjb25zdCBpc0hpZGRlbkZyb21OYXYgPSBwYWdlLmFjY2Vzc2liaWxpdHk/LnNob3dJbk1haW5OYXYgPT09IGZhbHNlO1xuICAgICAgICAgIGNvbnN0IG5hdkJhZGdlID0gaXNIaWRkZW5Gcm9tTmF2XG4gICAgICAgICAgICA/ICc8c3BhbiBjbGFzcz1cInRleHQtWzEwcHhdIGZvbnQtc2VtaWJvbGQgdGV4dC1hbWJlci02MDBcIj5NYXNxdVx1MDBFOSBkdSBtZW51PC9zcGFuPidcbiAgICAgICAgICAgIDogJyc7XG4gICAgICAgICAgY29uc3QgaGllcmFyY2h5QmFkZ2UgPSBoYXNNaXNzaW5nUGFyZW50XG4gICAgICAgICAgICA/ICc8c3BhbiBjbGFzcz1cInRleHQtWzEwcHhdIGZvbnQtc2VtaWJvbGQgdGV4dC1yb3NlLTYwMFwiPlBhcmVudCBtYW5xdWFudDwvc3Bhbj4nXG4gICAgICAgICAgICA6ICcnO1xuICAgICAgICAgIGNvbnN0IGluZGVudCA9IE1hdGgubWluKDMyLCBNYXRoLm1heCgwLCBOdW1iZXIoZGVwdGgpIHx8IDApICogMTQpO1xuICAgICAgICAgIGJ1dHRvbi5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cImZsZXggaC05IHctOSBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcm91bmRlZC14bCBib3JkZXIgYm9yZGVyLXNsYXRlLTIwMCBiZy13aGl0ZSB0ZXh0LXNsYXRlLTUwMFwiPlxuICAgICAgICAgICAgICA8c3ZnIHdpZHRoPVwiMThcIiBoZWlnaHQ9XCIxOFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPlxuICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNNi41IDQuNWg3bDQgNHYxMWExIDEgMCAwIDEtMSAxaC0xMGExIDEgMCAwIDEtMS0xdi0xNGExIDEgMCAwIDEgMS0xWlwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjEuNFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIvPlxuICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMTMuNSA0LjV2NGExIDEgMCAwIDAgMSAxaDNcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIxLjRcIi8+XG4gICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggZmxleC1jb2xcIiBzdHlsZT1cIm1hcmdpbi1sZWZ0OiR7aW5kZW50fXB4XCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC1zbSBmb250LXNlbWlib2xkXCI+JHtkaXNwbGF5TmFtZX08L3NwYW4+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC14cyB0ZXh0LXNsYXRlLTUwMFwiPiR7cGFnZS5zbHVnfTwvc3Bhbj5cbiAgICAgICAgICAgICAgJHtuYXZCYWRnZX1cbiAgICAgICAgICAgICAgJHtoaWVyYXJjaHlCYWRnZX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIGA7XG4gICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgc2V0QWN0aXZlUGFnZShwYWdlLmlkKTtcbiAgICAgICAgICAgIGlmICghaXNEZXNrdG9wRHJhd2VyKCkpIHtcbiAgICAgICAgICAgICAgY2xvc2VEcmF3ZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpdGVtLmFwcGVuZENoaWxkKGJ1dHRvbik7XG5cbiAgICAgICAgICBjb25zdCBkZWxldGVCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgICBkZWxldGVCdG4udHlwZSA9ICdidXR0b24nO1xuICAgICAgICAgIGRlbGV0ZUJ0bi5jbGFzc05hbWUgPVxuICAgICAgICAgICAgJ2ZsZXgtc2hyaW5rLTAgcC0yIHRleHQtc2xhdGUtNDAwIGhvdmVyOnRleHQtcm9zZS02MDAgaG92ZXI6Ymctcm9zZS01MCByb3VuZGVkLWxnIHRyYW5zaXRpb24nO1xuICAgICAgICAgIGRlbGV0ZUJ0bi50aXRsZSA9ICdTdXBwcmltZXIgY2V0dGUgcGFnZSc7XG4gICAgICAgICAgZGVsZXRlQnRuLnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIGBTdXBwcmltZXIgJHtkaXNwbGF5TmFtZX1gKTtcbiAgICAgICAgICBkZWxldGVCdG4uaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgPHN2ZyB3aWR0aD1cIjE2XCIgaGVpZ2h0PVwiMTZcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCI+XG4gICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMyA2aDE4TTggNlY0YTIgMiAwIDAgMSAyLTJoNGEyIDIgMCAwIDEgMiAydjJtMyAwdjE0YTIgMiAwIDAgMS0yIDJIN2EyIDIgMCAwIDEtMi0yVjZoMTRaTTEwIDExdjZNMTQgMTF2NlwiLz5cbiAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgIGA7XG4gICAgICAgICAgZGVsZXRlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICBvcGVuRGVsZXRlUGFnZU1vZGFsKHBhZ2UpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGl0ZW0uYXBwZW5kQ2hpbGQoZGVsZXRlQnRuKTtcbiAgICAgICAgICBsaXN0LmFwcGVuZENoaWxkKGl0ZW0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgY29uc3QgZ2V0QWN0aXZlQmxvY2sgPSAoKSA9PiB7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlIHx8ICFBcnJheS5pc0FycmF5KGN1cnJlbnRQYWdlLmJsb2NrcykpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICAvLyBDaGVyY2hlciBsZSBibG9jIGRhbnMgbGEgbGlzdGUgcHJpbmNpcGFsZSBvdSBkYW5zIGxlcyBlbmZhbnRzIGRlcyBncm91cGVzXG4gICAgICBsZXQgYmxvY2sgPSBjdXJyZW50UGFnZS5ibG9ja3MuZmluZCgoYmxvY2spID0+IGJsb2NrLmlkID09PSBhY3RpdmVCbG9ja0lkKTtcbiAgICAgIGlmICghYmxvY2spIHtcbiAgICAgICAgZm9yIChjb25zdCBiIG9mIGN1cnJlbnRQYWdlLmJsb2Nrcykge1xuICAgICAgICAgIGlmIChiLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBibG9jayA9IGIuY2hpbGRyZW4uZmluZCgoY2hpbGQpID0+IGNoaWxkLmlkID09PSBhY3RpdmVCbG9ja0lkKTtcbiAgICAgICAgICAgIGlmIChibG9jaykgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gYmxvY2sgfHwgbnVsbDtcbiAgICB9O1xuXG4gICAgY29uc3QgcGFnZUhhc0Jsb2NrSWQgPSAocGFnZSwgYmxvY2tJZCkgPT4ge1xuICAgICAgaWYgKCFwYWdlIHx8ICFibG9ja0lkKSByZXR1cm4gZmFsc2U7XG4gICAgICBjb25zdCB3YWxrID0gKG5vZGVzKSA9PiB7XG4gICAgICAgIGZvciAoY29uc3Qgbm9kZSBvZiBub2RlcyB8fCBbXSkge1xuICAgICAgICAgIGlmICghbm9kZSkgY29udGludWU7XG4gICAgICAgICAgaWYgKG5vZGUuaWQgPT09IGJsb2NrSWQpIHJldHVybiB0cnVlO1xuICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KG5vZGUuY2hpbGRyZW4pICYmIHdhbGsobm9kZS5jaGlsZHJlbikpIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH07XG4gICAgICByZXR1cm4gd2FsayhwYWdlLmJsb2NrcyB8fCBbXSk7XG4gICAgfTtcblxuICAgIGNvbnN0IHVwZGF0ZUJsb2Nrc0RlZXAgPSAoYmxvY2tzLCBibG9ja0lkLCB1cGRhdGVyLCBwYXJlbnRIaW50ID0gbnVsbCkgPT4ge1xuICAgICAgbGV0IGRpZFVwZGF0ZSA9IGZhbHNlO1xuICAgICAgbGV0IGZvdW5kUGFyZW50SWQgPSBudWxsO1xuXG4gICAgICBjb25zdCB3YWxrID0gKG5vZGVzLCBjdXJyZW50UGFyZW50SWQgPSBudWxsKSA9PiB7XG4gICAgICAgIGxldCBjaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IG5leHROb2RlcyA9IChub2RlcyB8fCBbXSkubWFwKChub2RlKSA9PiB7XG4gICAgICAgICAgaWYgKCFub2RlIHx8ICFub2RlLmlkKSByZXR1cm4gbm9kZTtcblxuICAgICAgICAgIGlmIChub2RlLmlkID09PSBibG9ja0lkICYmICghcGFyZW50SGludCB8fCBwYXJlbnRIaW50ID09PSBjdXJyZW50UGFyZW50SWQpKSB7XG4gICAgICAgICAgICBkaWRVcGRhdGUgPSB0cnVlO1xuICAgICAgICAgICAgZm91bmRQYXJlbnRJZCA9IGN1cnJlbnRQYXJlbnRJZDtcbiAgICAgICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZXIobm9kZSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkobm9kZS5jaGlsZHJlbikgJiYgbm9kZS5jaGlsZHJlbi5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCB7IG5vZGVzOiBuZXh0Q2hpbGRyZW4sIGNoYW5nZWQ6IGNoaWxkcmVuQ2hhbmdlZCB9ID0gd2Fsayhub2RlLmNoaWxkcmVuLCBub2RlLmlkKTtcbiAgICAgICAgICAgIGlmIChjaGlsZHJlbkNoYW5nZWQpIHtcbiAgICAgICAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgICAgIHJldHVybiB7IC4uLm5vZGUsIGNoaWxkcmVuOiBuZXh0Q2hpbGRyZW4gfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7IG5vZGVzOiBuZXh0Tm9kZXMsIGNoYW5nZWQgfTtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IHdhbGsoYmxvY2tzLCBudWxsKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGJsb2NrczogcmVzdWx0Lm5vZGVzLFxuICAgICAgICBkaWRVcGRhdGUsXG4gICAgICAgIGZvdW5kUGFyZW50SWQsXG4gICAgICB9O1xuICAgIH07XG4gICAgXG4gICAgLy8gVmFyaWFibGUgcG91ciBzdG9ja2VyIGxlIHBhcmVudCBkdSBibG9jIGFjdGlmIChzaSBjJ2VzdCB1biBlbmZhbnQgZGUgZ3JvdXBlKVxuICAgIGxldCBhY3RpdmVCbG9ja1BhcmVudElkID0gbnVsbDtcbiAgICBcbiAgICBjb25zdCBzZXRBY3RpdmVCbG9jayA9IChibG9ja0lkLCBwYXJlbnRJZCA9IG51bGwpID0+IHtcbiAgICAgIGlmICghY3VycmVudFBhZ2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFibG9ja0lkKSB7XG4gICAgICAgIGFjdGl2ZUJsb2NrSWQgPSBudWxsO1xuICAgICAgICBhY3RpdmVCbG9ja1BhcmVudElkID0gbnVsbDtcbiAgICAgICAgcmVuZGVyQmxvY2tMaXN0KGN1cnJlbnRQYWdlKTtcbiAgICAgICAgcmVuZGVyQmxvY2tEZXRhaWxzKG51bGwpO1xuICAgICAgICBhcHBseVByZXZpZXdIaWdobGlnaHQobnVsbCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgbGV0IHRhcmdldEJsb2NrID0gbnVsbDtcbiAgICAgIFxuICAgICAgLy8gQ2hlcmNoZXIgZGFucyBsZXMgYmxvY3MgcHJpbmNpcGF1eFxuICAgICAgdGFyZ2V0QmxvY2sgPSBjdXJyZW50UGFnZS5ibG9ja3MuZmluZCgoYmxvY2spID0+IGJsb2NrLmlkID09PSBibG9ja0lkKTtcbiAgICAgIFxuICAgICAgLy8gU2kgcGFzIHRyb3V2XHUwMEU5IGV0IHF1J29uIGEgdW4gcGFyZW50SWQsIGNoZXJjaGVyIGRhbnMgbGVzIGVuZmFudHMgZHUgcGFyZW50XG4gICAgICBpZiAoIXRhcmdldEJsb2NrICYmIHBhcmVudElkKSB7XG4gICAgICAgIGNvbnN0IHBhcmVudEJsb2NrID0gY3VycmVudFBhZ2UuYmxvY2tzLmZpbmQoKGIpID0+IGIuaWQgPT09IHBhcmVudElkKTtcbiAgICAgICAgaWYgKHBhcmVudEJsb2NrICYmIHBhcmVudEJsb2NrLmNoaWxkcmVuKSB7XG4gICAgICAgICAgdGFyZ2V0QmxvY2sgPSBwYXJlbnRCbG9jay5jaGlsZHJlbi5maW5kKChjaGlsZCkgPT4gY2hpbGQuaWQgPT09IGJsb2NrSWQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFNpbm9uIGNoZXJjaGVyIGRhbnMgdG91cyBsZXMgZ3JvdXBlc1xuICAgICAgaWYgKCF0YXJnZXRCbG9jaykge1xuICAgICAgICBmb3IgKGNvbnN0IGIgb2YgY3VycmVudFBhZ2UuYmxvY2tzKSB7XG4gICAgICAgICAgaWYgKGIuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGNvbnN0IGZvdW5kID0gYi5jaGlsZHJlbi5maW5kKChjaGlsZCkgPT4gY2hpbGQuaWQgPT09IGJsb2NrSWQpO1xuICAgICAgICAgICAgaWYgKGZvdW5kKSB7XG4gICAgICAgICAgICAgIHRhcmdldEJsb2NrID0gZm91bmQ7XG4gICAgICAgICAgICAgIHBhcmVudElkID0gYi5pZDtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEZhbGxiYWNrIHN1ciBsZSBwcmVtaWVyIGJsb2NcbiAgICAgIGlmICghdGFyZ2V0QmxvY2spIHtcbiAgICAgICAgdGFyZ2V0QmxvY2sgPSBjdXJyZW50UGFnZS5ibG9ja3NbMF0gfHwgbnVsbDtcbiAgICAgICAgcGFyZW50SWQgPSBudWxsO1xuICAgICAgfVxuICAgICAgXG4gICAgICBhY3RpdmVCbG9ja0lkID0gdGFyZ2V0QmxvY2s/LmlkIHx8IG51bGw7XG4gICAgICBhY3RpdmVCbG9ja1BhcmVudElkID0gcGFyZW50SWQ7XG4gICAgICByZW5kZXJCbG9ja0xpc3QoY3VycmVudFBhZ2UpO1xuICAgICAgcmVuZGVyQmxvY2tEZXRhaWxzKHRhcmdldEJsb2NrKTtcbiAgICAgIGFwcGx5UHJldmlld0hpZ2hsaWdodChhY3RpdmVCbG9ja0lkKTtcbiAgICB9O1xuICAgIGNvbnN0IHVwZGF0ZUN1cnJlbnRQYWdlQmxvY2tzID0gKG5ld0Jsb2NrcykgPT4ge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBuZXh0UGFnZSA9IHsgLi4uY3VycmVudFBhZ2UsIGJsb2NrczogbmV3QmxvY2tzIH07XG4gICAgICB1cGRhdGVDdXJyZW50UGFnZVN0YXRlKG5leHRQYWdlKTtcbiAgICB9O1xuICAgIGNvbnN0IGlzRGVza3RvcFJlb3JkZXIgPSAoKSA9PiB3aW5kb3cubWF0Y2hNZWRpYSgnKG1pbi13aWR0aDogMTAyNHB4KScpLm1hdGNoZXM7XG4gICAgZnVuY3Rpb24gbW92ZUJsb2NrQnlPZmZzZXQoYmxvY2tJZCwgb2Zmc2V0KSB7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlIHx8ICFibG9ja0lkIHx8ICFvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgYmxvY2tzID0gWy4uLihjdXJyZW50UGFnZS5ibG9ja3MgfHwgW10pXTtcbiAgICAgIGNvbnN0IGluZGV4ID0gYmxvY2tzLmZpbmRJbmRleCgoYmxvY2spID0+IGJsb2NrLmlkID09PSBibG9ja0lkKTtcbiAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgbmV3SW5kZXggPSBpbmRleCArIG9mZnNldDtcbiAgICAgIGlmIChuZXdJbmRleCA8IDAgfHwgbmV3SW5kZXggPj0gYmxvY2tzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBbbW92ZWRdID0gYmxvY2tzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICBibG9ja3Muc3BsaWNlKG5ld0luZGV4LCAwLCBtb3ZlZCk7XG4gICAgICB1cGRhdGVDdXJyZW50UGFnZUJsb2NrcyhibG9ja3MpO1xuICAgICAgc2V0QWN0aXZlUGFnZShjdXJyZW50UGFnZS5pZCwgeyBwcmVzZXJ2ZUJsb2NrOiB0cnVlIH0pO1xuICAgICAgc2V0QWN0aXZlQmxvY2sobW92ZWQuaWQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZW9yZGVyQmxvY2tzKHNvdXJjZUlkLCB0YXJnZXRJZCkge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSB8fCAhc291cmNlSWQgfHwgIXRhcmdldElkIHx8IHNvdXJjZUlkID09PSB0YXJnZXRJZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBibG9ja3MgPSBbLi4uKGN1cnJlbnRQYWdlLmJsb2NrcyB8fCBbXSldO1xuICAgICAgY29uc3QgZnJvbUluZGV4ID0gYmxvY2tzLmZpbmRJbmRleCgoYmxvY2spID0+IGJsb2NrLmlkID09PSBzb3VyY2VJZCk7XG4gICAgICBjb25zdCB0b0luZGV4ID0gYmxvY2tzLmZpbmRJbmRleCgoYmxvY2spID0+IGJsb2NrLmlkID09PSB0YXJnZXRJZCk7XG4gICAgICBpZiAoZnJvbUluZGV4IDwgMCB8fCB0b0luZGV4IDwgMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBbbW92ZWRdID0gYmxvY2tzLnNwbGljZShmcm9tSW5kZXgsIDEpO1xuICAgICAgYmxvY2tzLnNwbGljZSh0b0luZGV4LCAwLCBtb3ZlZCk7XG4gICAgICB1cGRhdGVDdXJyZW50UGFnZUJsb2NrcyhibG9ja3MpO1xuICAgICAgc2V0QWN0aXZlUGFnZShjdXJyZW50UGFnZS5pZCwgeyBwcmVzZXJ2ZUJsb2NrOiB0cnVlIH0pO1xuICAgICAgc2V0QWN0aXZlQmxvY2sobW92ZWQuaWQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZW9yZGVyQmxvY2tzV2l0aFBvc2l0aW9uKHNvdXJjZUlkLCB0YXJnZXRJZCwgcG9zaXRpb24pIHtcbiAgICAgIGlmICghY3VycmVudFBhZ2UgfHwgIXNvdXJjZUlkIHx8ICF0YXJnZXRJZCB8fCBzb3VyY2VJZCA9PT0gdGFyZ2V0SWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgYmxvY2tzID0gWy4uLihjdXJyZW50UGFnZS5ibG9ja3MgfHwgW10pXTtcbiAgICAgIGNvbnN0IGZyb21JbmRleCA9IGJsb2Nrcy5maW5kSW5kZXgoKGJsb2NrKSA9PiBibG9jay5pZCA9PT0gc291cmNlSWQpO1xuICAgICAgbGV0IHRvSW5kZXggPSBibG9ja3MuZmluZEluZGV4KChibG9jaykgPT4gYmxvY2suaWQgPT09IHRhcmdldElkKTtcbiAgICAgIGlmIChmcm9tSW5kZXggPCAwIHx8IHRvSW5kZXggPCAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IFttb3ZlZF0gPSBibG9ja3Muc3BsaWNlKGZyb21JbmRleCwgMSk7XG4gICAgICAvLyBBanVzdGVyIGwnaW5kZXggc2kgblx1MDBFOWNlc3NhaXJlIGFwclx1MDBFOHMgbGEgc3VwcHJlc3Npb25cbiAgICAgIGlmIChmcm9tSW5kZXggPCB0b0luZGV4KSB7XG4gICAgICAgIHRvSW5kZXgtLTtcbiAgICAgIH1cbiAgICAgIC8vIEluc1x1MDBFOXJlciBhdmFudCBvdSBhcHJcdTAwRThzIGxhIGNpYmxlXG4gICAgICBjb25zdCBpbnNlcnRJbmRleCA9IHBvc2l0aW9uID09PSAnYmVmb3JlJyA/IHRvSW5kZXggOiB0b0luZGV4ICsgMTtcbiAgICAgIGJsb2Nrcy5zcGxpY2UoaW5zZXJ0SW5kZXgsIDAsIG1vdmVkKTtcbiAgICAgIHVwZGF0ZUN1cnJlbnRQYWdlQmxvY2tzKGJsb2Nrcyk7XG4gICAgICBzZXRBY3RpdmVQYWdlKGN1cnJlbnRQYWdlLmlkLCB7IHByZXNlcnZlQmxvY2s6IHRydWUgfSk7XG4gICAgICBzZXRBY3RpdmVCbG9jayhtb3ZlZC5pZCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZURyYWdnYWJsZVN0YXRlKCkge1xuICAgICAgaWYgKCFibG9ja0xpc3QpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgZHJhZ2dhYmxlID0gaXNEZXNrdG9wUmVvcmRlcigpO1xuICAgICAgYmxvY2tMaXN0LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWJsb2NrLWl0ZW1dJykuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICBpdGVtLnNldEF0dHJpYnV0ZSgnZHJhZ2dhYmxlJywgZHJhZ2dhYmxlID8gJ3RydWUnIDogJ2ZhbHNlJyk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2xvc2VCbG9ja0xpYnJhcnkoKSB7XG4gICAgICBpZiAoIWJsb2NrTGlicmFyeSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBibG9ja0xpYnJhcnkuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBibG9ja0xpYnJhcnlPcGVuID0gZmFsc2U7XG4gICAgICBwZW5kaW5nR3JvdXBJZEZvck5ld0Jsb2NrID0gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gb3BlbkJsb2NrTGlicmFyeSgpIHtcbiAgICAgIGlmICghYmxvY2tMaWJyYXJ5KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGJsb2NrTGlicmFyeS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGJsb2NrTGlicmFyeU9wZW4gPSB0cnVlO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0b2dnbGVCbG9ja0xpYnJhcnkoKSB7XG4gICAgICBibG9ja0xpYnJhcnlPcGVuID8gY2xvc2VCbG9ja0xpYnJhcnkoKSA6IG9wZW5CbG9ja0xpYnJhcnkoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYWRkQmxvY2tGcm9tTGlicmFyeSh0eXBlKSB7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlIHx8ICF0eXBlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRlZmluaXRpb24gPSBibG9ja0xpYnJhcnlEZWZpbml0aW9uc1t0eXBlXTtcbiAgICAgIGlmICghZGVmaW5pdGlvbikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBjb3VudCA9XG4gICAgICAgIChjdXJyZW50UGFnZS5ibG9ja3MgfHwgW10pLmZpbHRlcigoYmxvY2spID0+IGJsb2NrLnR5cGUgPT09IGRlZmluaXRpb24udHlwZSkubGVuZ3RoICsgMTtcbiAgICAgIGNvbnN0IG5ld0Jsb2NrID0gY3JlYXRlQmxvY2soXG4gICAgICAgIGdlbmVyYXRlQmxvY2tJZChjdXJyZW50UGFnZS5pZCwgdHlwZSksXG4gICAgICAgIGAke2RlZmluaXRpb24ubGFiZWx9ICR7Y291bnR9YCxcbiAgICAgICAgZGVmaW5pdGlvbi50eXBlLFxuICAgICAgICBkZWZpbml0aW9uLnN0YXR1cyxcbiAgICAgICAgZGVmaW5pdGlvbi5kZXNjcmlwdGlvbixcbiAgICAgICAgZGVmaW5pdGlvbi5wcm9wcyxcbiAgICAgICAgZGVmaW5pdGlvbi5zZXR0aW5ncyB8fCB7fSxcbiAgICAgICk7XG4gICAgICBpZiAoKGRlZmluaXRpb24udHlwZSB8fCAnJykudG9Mb3dlckNhc2UoKSA9PT0gJ2NvbGxlY3Rpb25ncmlkJykge1xuICAgICAgICBjb25zdCBmaXJzdENvbGxlY3Rpb25JZCA9IGRlc2lnbkNvbGxlY3Rpb25zWzBdPy5pZCB8fCAnJztcbiAgICAgICAgbmV3QmxvY2suY29sbGVjdGlvbklkID0gZmlyc3RDb2xsZWN0aW9uSWQ7XG4gICAgICAgIG5ld0Jsb2NrLnNldHRpbmdzLmNvbGxlY3Rpb25JZCA9IGZpcnN0Q29sbGVjdGlvbklkO1xuICAgICAgICBuZXdCbG9jay5zZXR0aW5ncy5saW1pdCA9IG5ld0Jsb2NrLnNldHRpbmdzLmxpbWl0IHx8IDY7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFNpIG9uIGFqb3V0ZSBcdTAwRTAgdW4gZ3JvdXBlXG4gICAgICBpZiAocGVuZGluZ0dyb3VwSWRGb3JOZXdCbG9jaykge1xuICAgICAgICBjb25zdCBncm91cEJsb2NrID0gY3VycmVudFBhZ2UuYmxvY2tzLmZpbmQoKGIpID0+IGIuaWQgPT09IHBlbmRpbmdHcm91cElkRm9yTmV3QmxvY2spO1xuICAgICAgICBpZiAoZ3JvdXBCbG9jaykge1xuICAgICAgICAgIGlmICghZ3JvdXBCbG9jay5jaGlsZHJlbikgZ3JvdXBCbG9jay5jaGlsZHJlbiA9IFtdO1xuICAgICAgICAgIGdyb3VwQmxvY2suY2hpbGRyZW4ucHVzaChuZXdCbG9jayk7XG4gICAgICAgICAgcGVuZGluZ0dyb3VwSWRGb3JOZXdCbG9jayA9IG51bGw7XG4gICAgICAgICAgcmVuZGVyQmxvY2tMaXN0KGN1cnJlbnRQYWdlKTtcbiAgICAgICAgICBzYXZlUGFnZUJsb2NrcygpO1xuICAgICAgICAgIHNldEFjdGl2ZUJsb2NrKG5ld0Jsb2NrLmlkLCBncm91cEJsb2NrLmlkKTtcbiAgICAgICAgICBjbG9zZUJsb2NrTGlicmFyeSgpO1xuICAgICAgICAgIHNob3dUb2FzdCgnQmxvYyBham91dFx1MDBFOSBhdSBncm91cGUnKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcGVuZGluZ0dyb3VwSWRGb3JOZXdCbG9jayA9IG51bGw7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IG5leHRCbG9ja3MgPSBbLi4uKGN1cnJlbnRQYWdlLmJsb2NrcyB8fCBbXSksIG5ld0Jsb2NrXTtcbiAgICAgIHVwZGF0ZUN1cnJlbnRQYWdlQmxvY2tzKG5leHRCbG9ja3MpO1xuICAgICAgc2V0QWN0aXZlUGFnZShjdXJyZW50UGFnZS5pZCwgeyBwcmVzZXJ2ZUJsb2NrOiB0cnVlIH0pO1xuICAgICAgc2V0QWN0aXZlQmxvY2sobmV3QmxvY2suaWQpO1xuICAgICAgY2xvc2VCbG9ja0xpYnJhcnkoKTtcbiAgICAgIHNob3dUb2FzdCgnQmxvYyBham91dFx1MDBFOScpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkZWxldGVCbG9ja0J5SWQoYmxvY2tJZCkge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBibG9ja3MgPSAoY3VycmVudFBhZ2UuYmxvY2tzIHx8IFtdKS5maWx0ZXIoKGJsb2NrKSA9PiBibG9jay5pZCAhPT0gYmxvY2tJZCk7XG4gICAgICBjb25zdCBuZXh0QWN0aXZlID1cbiAgICAgICAgYmxvY2tJZCA9PT0gYWN0aXZlQmxvY2tJZCA/IGJsb2Nrc1swXT8uaWQgfHwgbnVsbCA6IGFjdGl2ZUJsb2NrSWQgfHwgYmxvY2tzWzBdPy5pZCB8fCBudWxsO1xuICAgICAgdXBkYXRlQ3VycmVudFBhZ2VCbG9ja3MoYmxvY2tzKTtcbiAgICAgIGFjdGl2ZUJsb2NrSWQgPSBuZXh0QWN0aXZlO1xuICAgICAgc2V0QWN0aXZlUGFnZShjdXJyZW50UGFnZS5pZCwgeyBwcmVzZXJ2ZUJsb2NrOiB0cnVlIH0pO1xuICAgICAgaWYgKGFjdGl2ZUJsb2NrSWQpIHtcbiAgICAgICAgc2V0QWN0aXZlQmxvY2soYWN0aXZlQmxvY2tJZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZW5kZXJCbG9ja0RldGFpbHMobnVsbCk7XG4gICAgICAgIGFwcGx5UHJldmlld0hpZ2hsaWdodChudWxsKTtcbiAgICAgIH1cbiAgICAgIHNob3dUb2FzdCgnQmxvYyBzdXBwcmltXHUwMEU5Jyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNsb3NlQmxvY2tEZWxldGVNb2RhbCgpIHtcbiAgICAgIGlmICghYmxvY2tEZWxldGVNb2RhbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBibG9ja0RlbGV0ZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgYmxvY2tEZWxldGVNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdmbGV4Jyk7XG4gICAgICBwZW5kaW5nRGVsZXRlQmxvY2tJZCA9IG51bGw7XG4gICAgICBkZWFjdGl2YXRlTW9kYWwoYmxvY2tEZWxldGVNb2RhbCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG9wZW5CbG9ja0RlbGV0ZU1vZGFsKGJsb2NrSWQpIHtcbiAgICAgIGlmICghYmxvY2tEZWxldGVNb2RhbCkge1xuICAgICAgICBkZWxldGVCbG9ja0J5SWQoYmxvY2tJZCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHBlbmRpbmdEZWxldGVCbG9ja0lkID0gYmxvY2tJZDtcbiAgICAgIGJsb2NrRGVsZXRlTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBibG9ja0RlbGV0ZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2ZsZXgnKTtcbiAgICAgIGFjdGl2YXRlTW9kYWwoYmxvY2tEZWxldGVNb2RhbCwgY2xvc2VCbG9ja0RlbGV0ZU1vZGFsKTtcbiAgICB9XG4gICAgY29uc3QgdXBkYXRlQ3VycmVudFBhZ2VTdGF0ZSA9IChuZXh0UGFnZSkgPT4ge1xuICAgICAgaWYgKCFuZXh0UGFnZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBub3JtYWxpemVkID0gbm9ybWFsaXplUGFnZURhdGEobmV4dFBhZ2UpO1xuICAgICAgcGFnZXMgPSBwYWdlcy5tYXAoKHBhZ2UpID0+IChwYWdlLmlkID09PSBub3JtYWxpemVkLmlkID8gbm9ybWFsaXplZCA6IHBhZ2UpKTtcbiAgICAgIGN1cnJlbnRQYWdlID0gbm9ybWFsaXplZDtcbiAgICAgIHNhdmVQYWdlVG9TZXJ2ZXIobm9ybWFsaXplZCk7XG4gICAgfTtcbiAgICBjb25zdCBzZXRBY3RpdmVQYWdlID0gKHBhZ2VJZCwgb3B0aW9ucyA9IHt9KSA9PiB7XG4gICAgICBjb25zdCB0YXJnZXQgPSBwYWdlcy5maW5kKChwYWdlKSA9PiBwYWdlLmlkID09PSBwYWdlSWQpIHx8IHBhZ2VzWzBdIHx8IG51bGw7XG4gICAgICBjb25zdCBub3JtYWxpemVkVGFyZ2V0ID0gdGFyZ2V0ID8gbm9ybWFsaXplUGFnZURhdGEodGFyZ2V0KSA6IG51bGw7XG4gICAgICBjdXJyZW50UGFnZSA9IG5vcm1hbGl6ZWRUYXJnZXQ7XG4gICAgICBhY3RpdmVQYWdlSWQgPSB0YXJnZXQ/LmlkIHx8IG51bGw7XG4gICAgICBpZiAoIW9wdGlvbnMucHJlc2VydmVCbG9jayB8fCAhY3VycmVudFBhZ2UgfHwgIXBhZ2VIYXNCbG9ja0lkKGN1cnJlbnRQYWdlLCBhY3RpdmVCbG9ja0lkKSkge1xuICAgICAgICBhY3RpdmVCbG9ja0lkID0gY3VycmVudFBhZ2U/LmJsb2Nrcz8uWzBdPy5pZCB8fCBudWxsO1xuICAgICAgICBhY3RpdmVCbG9ja1BhcmVudElkID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIGlmIChhY3RpdmVQYWdlSWQpIHtcbiAgICAgICAgcGVyc2lzdEFjdGl2ZVBhZ2UoYWN0aXZlUGFnZUlkKTtcbiAgICAgIH1cbiAgICAgIHJlbmRlclBhZ2VMaXN0cyhwYWdlcywgYWN0aXZlUGFnZUlkKTtcbiAgICAgIHNldEFjdGl2ZUxhYmVscyhjdXJyZW50UGFnZSk7XG4gICAgICBzeW5jUGFnZUFjY2Vzc2liaWxpdHlGaWVsZHMoKTtcbiAgICAgIHJlbmRlclByZXZpZXdNZXRhKGN1cnJlbnRQYWdlKTtcbiAgICAgIHJlZnJlc2hQcmV2aWV3KGN1cnJlbnRQYWdlKTtcbiAgICAgIHJlbmRlckJsb2NrTGlzdChjdXJyZW50UGFnZSk7XG4gICAgICByZW5kZXJCbG9ja0RldGFpbHMoZ2V0QWN0aXZlQmxvY2soKSk7XG4gICAgICBhcHBseVByZXZpZXdIaWdobGlnaHQoYWN0aXZlQmxvY2tJZCk7XG4gICAgICB1cGRhdGVEcmFnZ2FibGVTdGF0ZSgpO1xuICAgICAgaWYgKGJsb2NrTGlicmFyeU9wZW4pIHtcbiAgICAgICAgY2xvc2VCbG9ja0xpYnJhcnkoKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGlzRGVza3RvcERyYXdlciA9ICgpID0+IHdpbmRvdy5tYXRjaE1lZGlhKCcobWluLXdpZHRoOiAxMDI0cHgpJykubWF0Y2hlcztcbiAgICBjb25zdCBzeW5jRHJhd2VyU3RhdGUgPSAoKSA9PiB7XG4gICAgICBpZiAoIWRyYXdlcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoaXNEZXNrdG9wRHJhd2VyKCkpIHtcbiAgICAgICAgZHJhd2VyLmNsYXNzTGlzdC5hZGQoJ2lzLW9wZW4nKTtcbiAgICAgICAgZHJhd2VyQmFja2Ryb3A/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ292ZXJmbG93LWhpZGRlbicpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZHJhd2VyLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLW9wZW4nKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IG9wZW5EcmF3ZXIgPSAoKSA9PiB7XG4gICAgICBpZiAoIWRyYXdlciB8fCBpc0Rlc2t0b3BEcmF3ZXIoKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBkcmF3ZXIuY2xhc3NMaXN0LmFkZCgnaXMtb3BlbicpO1xuICAgICAgZHJhd2VyQmFja2Ryb3A/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICB9O1xuICAgIGNvbnN0IGNsb3NlRHJhd2VyID0gKCkgPT4ge1xuICAgICAgaWYgKCFkcmF3ZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZHJhd2VyLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLW9wZW4nKTtcbiAgICAgIGRyYXdlckJhY2tkcm9wPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnb3ZlcmZsb3ctaGlkZGVuJyk7XG4gICAgfTtcbiAgICBjb25zdCBvcGVuQWRkUGFnZUZvcm0gPSAoKSA9PiB7XG4gICAgICBpZiAoIWFkZFBhZ2VGb3JtIHx8ICFhZGRQYWdlVG9nZ2xlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGFkZFBhZ2VGb3JtLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgYWRkUGFnZVRvZ2dsZS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGFkZFBhZ2VFcnJvciAmJiAoYWRkUGFnZUVycm9yLnRleHRDb250ZW50ID0gJycpO1xuICAgICAgcGFnZVNsdWdNYW51YWxseUVkaXRlZCA9IGZhbHNlO1xuICAgICAgaWYgKGFkZFBhZ2VOYW1lKSB7XG4gICAgICAgIGFkZFBhZ2VOYW1lLnZhbHVlID0gJyc7XG4gICAgICAgIGFkZFBhZ2VOYW1lLmZvY3VzKCk7XG4gICAgICB9XG4gICAgICBpZiAoYWRkUGFnZVRpdGxlKSB7XG4gICAgICAgIGFkZFBhZ2VUaXRsZS52YWx1ZSA9ICcnO1xuICAgICAgfVxuICAgICAgaWYgKGFkZFBhZ2VTbHVnKSB7XG4gICAgICAgIGFkZFBhZ2VTbHVnLnZhbHVlID0gJyc7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBjbG9zZUFkZFBhZ2VGb3JtID0gKCkgPT4ge1xuICAgICAgaWYgKCFhZGRQYWdlRm9ybSB8fCAhYWRkUGFnZVRvZ2dsZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhZGRQYWdlRm9ybS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGFkZFBhZ2VUb2dnbGUuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBhZGRQYWdlRXJyb3IgJiYgKGFkZFBhZ2VFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICAgIHBhZ2VTbHVnTWFudWFsbHlFZGl0ZWQgPSBmYWxzZTtcbiAgICAgIGFkZFBhZ2VGb3JtLnJlc2V0KCk7XG4gICAgfTtcbiAgICBjb25zdCBzeW5jU2x1Z0Zyb21OYW1lID0gKCkgPT4ge1xuICAgICAgaWYgKCFhZGRQYWdlTmFtZSB8fCAhYWRkUGFnZVNsdWcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHBhZ2VTbHVnTWFudWFsbHlFZGl0ZWQgJiYgYWRkUGFnZVNsdWcudmFsdWUudHJpbSgpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYWRkUGFnZVNsdWcudmFsdWUgPSBub3JtYWxpemVQYWdlU2x1ZyhhZGRQYWdlTmFtZS52YWx1ZSk7XG4gICAgfTtcblxuICAgIGxldCBwYWdlcyA9IFtdO1xuICAgIGxldCBhY3RpdmVQYWdlSWQgPSBudWxsO1xuICAgIGxldCBwYWdlU2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gICAgbGV0IGN1cnJlbnRQYWdlID0gbnVsbDtcbiAgICBsZXQgYWN0aXZlQmxvY2tJZCA9IG51bGw7XG4gICAgbGV0IGJsb2NrTGlicmFyeU9wZW4gPSBmYWxzZTtcbiAgICBsZXQgcGVuZGluZ0RlbGV0ZUJsb2NrSWQgPSBudWxsO1xuICAgIGxldCBsYXRlc3RQcmV2aWV3SHRtbCA9ICcnO1xuICAgIGxldCBwcmV2aWV3UmVhZHkgPSBmYWxzZTtcbiAgICBsZXQgcHJldmlld1JlcXVlc3RDb250cm9sbGVyID0gbnVsbDtcbiAgICBsZXQgZGVzaWduQ29sbGVjdGlvbnMgPSBbXTtcbiAgICBjb25zdCBkZXNpZ25Db2xsZWN0aW9uSXRlbXNDYWNoZSA9IG5ldyBNYXAoKTtcblxuICAgIGNvbnN0IG5vcm1hbGl6ZUJsb2NrRGF0YSA9IChibG9jaykgPT4ge1xuICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IHtcbiAgICAgICAgLi4uYmxvY2ssXG4gICAgICAgIHByb3BzOiBBcnJheS5pc0FycmF5KGJsb2NrLnByb3BzKSA/IGJsb2NrLnByb3BzIDogW10sXG4gICAgICAgIHNldHRpbmdzOiB7IC4uLihibG9jay5zZXR0aW5ncyB8fCB7fSkgfSxcbiAgICAgIH07XG4gICAgICBjb25zdCB0eXBlID0gKG5vcm1hbGl6ZWQudHlwZSB8fCAnJykudG9Mb3dlckNhc2UoKTtcbiAgICAgIGlmICh0eXBlID09PSAnY29sbGVjdGlvbmdyaWQnKSB7XG4gICAgICAgIG5vcm1hbGl6ZWQuY29sbGVjdGlvbklkID1cbiAgICAgICAgICBub3JtYWxpemVkLmNvbGxlY3Rpb25JZCB8fCBub3JtYWxpemVkLnNldHRpbmdzLmNvbGxlY3Rpb25JZCB8fCAnJztcbiAgICAgICAgbm9ybWFsaXplZC5zZXR0aW5ncy5jb2xsZWN0aW9uSWQgPSBub3JtYWxpemVkLmNvbGxlY3Rpb25JZDtcbiAgICAgICAgbm9ybWFsaXplZC5zZXR0aW5ncy5saW1pdCA9IG5vcm1hbGl6ZWQuc2V0dGluZ3MubGltaXQgfHwgNjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBub3JtYWxpemVkO1xuICAgIH07XG5cbiAgICBjb25zdCBub3JtYWxpemVQYWdlRGF0YSA9IChwYWdlKSA9PiAoe1xuICAgICAgLi4ucGFnZSxcbiAgICAgIHBhcmVudElkOlxuICAgICAgICB0eXBlb2YgcGFnZS5wYXJlbnRJZCA9PT0gJ3N0cmluZycgJiYgcGFnZS5wYXJlbnRJZC50cmltKCkgPyBwYWdlLnBhcmVudElkLnRyaW0oKSA6IG51bGwsXG4gICAgICBibG9ja3M6IChwYWdlLmJsb2NrcyB8fCBbXSkubWFwKChibG9jaykgPT4gbm9ybWFsaXplQmxvY2tEYXRhKGJsb2NrKSksXG4gICAgICBzZW86IHtcbiAgICAgICAgdGl0bGU6IChwYWdlLnNlbz8udGl0bGUgfHwgJycpLnRyaW0oKSxcbiAgICAgICAgZGVzY3JpcHRpb246IChwYWdlLnNlbz8uZGVzY3JpcHRpb24gfHwgJycpLnRyaW0oKSxcbiAgICAgICAgaW5kZXhlZDpcbiAgICAgICAgICB0eXBlb2YgcGFnZS5zZW8/LmluZGV4ZWQgPT09ICdib29sZWFuJyA/IHBhZ2Uuc2VvLmluZGV4ZWQgOiBudWxsLFxuICAgICAgfSxcbiAgICAgIGFjY2Vzc2liaWxpdHk6IHtcbiAgICAgICAgc2hvd0luTWFpbk5hdjogcGFnZS5hY2Nlc3NpYmlsaXR5Py5zaG93SW5NYWluTmF2ICE9PSBmYWxzZSxcbiAgICAgICAgbWFpbkxhYmVsOiAocGFnZS5hY2Nlc3NpYmlsaXR5Py5tYWluTGFiZWwgfHwgJycpLnRyaW0oKSxcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICBjb25zdCBsb2FkRGVzaWduQ29sbGVjdGlvbnMgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25zQXBpQmFzZSkge1xuICAgICAgICBkZXNpZ25Db2xsZWN0aW9ucyA9IFtdO1xuICAgICAgICB1cGRhdGVDb2xsZWN0aW9uU2VsZWN0T3B0aW9ucygpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGNvbGxlY3Rpb25zQXBpQmFzZSwge1xuICAgICAgICAgIGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ltcG9zc2libGUgZGUgY2hhcmdlciBsZXMgY29sbGVjdGlvbnMuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiBbXSk7XG4gICAgICAgIGRlc2lnbkNvbGxlY3Rpb25zID0gQXJyYXkuaXNBcnJheShwYXlsb2FkKSA/IHBheWxvYWQgOiBbXTtcbiAgICAgICAgY29uc3QgY3VycmVudFZhbHVlID0gY29sbGVjdGlvblNlbGVjdD8udmFsdWUgfHwgJyc7XG4gICAgICAgIHVwZGF0ZUNvbGxlY3Rpb25TZWxlY3RPcHRpb25zKGN1cnJlbnRWYWx1ZSk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2Rlc2lnbl0gY29sbGVjdGlvbnMgbG9hZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdCgnQ29sbGVjdGlvbnMgaW5kaXNwb25pYmxlcy4nKTtcbiAgICAgICAgZGVzaWduQ29sbGVjdGlvbnMgPSBbXTtcbiAgICAgICAgdXBkYXRlQ29sbGVjdGlvblNlbGVjdE9wdGlvbnMoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3Qgc3luY0NvbGxlY3Rpb25TZWxlY3Rpb25JbmZvID0gKGNvbGxlY3Rpb25JZCkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uU2VsZWN0aW9uSW5mbykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWNvbGxlY3Rpb25JZCkge1xuICAgICAgICBjb2xsZWN0aW9uU2VsZWN0aW9uSW5mby50ZXh0Q29udGVudCA9IGRlc2lnbkNvbGxlY3Rpb25zLmxlbmd0aFxuICAgICAgICAgID8gJ1NcdTAwRTlsZWN0aW9ubmV6IHVuZSBjb2xsZWN0aW9uIHBvdXIgYWZmaWNoZXIgc2VzIGluZm9ybWF0aW9ucy4nXG4gICAgICAgICAgOiAnQXVjdW5lIGNvbGxlY3Rpb24gZGlzcG9uaWJsZS4gQWpvdXRlei1lbiBkZXB1aXMgbFx1MjAxOW9uZ2xldCBDb250ZW51cy4nO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBlbnRyeSA9IGRlc2lnbkNvbGxlY3Rpb25zLmZpbmQoKGNvbGxlY3Rpb24pID0+IGNvbGxlY3Rpb24uaWQgPT09IGNvbGxlY3Rpb25JZCk7XG4gICAgICBpZiAoIWVudHJ5KSB7XG4gICAgICAgIGNvbGxlY3Rpb25TZWxlY3Rpb25JbmZvLnRleHRDb250ZW50ID0gYENvbGxlY3Rpb24gJHtjb2xsZWN0aW9uSWR9YDtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgZGV0YWlscyA9IFtdO1xuICAgICAgaWYgKGVudHJ5LmRlc2NyaXB0aW9uKSB7XG4gICAgICAgIGRldGFpbHMucHVzaChlbnRyeS5kZXNjcmlwdGlvbik7XG4gICAgICB9XG4gICAgICBpZiAoZW50cnkudHlwZSkge1xuICAgICAgICBkZXRhaWxzLnB1c2goYFR5cGVcdTAwQTA6ICR7ZW50cnkudHlwZX1gKTtcbiAgICAgIH1cbiAgICAgIGNvbGxlY3Rpb25TZWxlY3Rpb25JbmZvLnRleHRDb250ZW50ID1cbiAgICAgICAgZGV0YWlscy5qb2luKCcgXHUwMEI3ICcpIHx8IGBDb2xsZWN0aW9uICR7ZW50cnkubmFtZSB8fCBlbnRyeS5pZH1gO1xuICAgIH07XG5cbiAgICBjb25zdCBmZXRjaENvbGxlY3Rpb25JdGVtc0ZvckRlc2lnbiA9IGFzeW5jIChjb2xsZWN0aW9uSWQpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvbnNBcGlCYXNlIHx8ICFjb2xsZWN0aW9uSWQpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgY29uc3QgY2FjaGVLZXkgPSBTdHJpbmcoY29sbGVjdGlvbklkKTtcbiAgICAgIGlmIChkZXNpZ25Db2xsZWN0aW9uSXRlbXNDYWNoZS5oYXMoY2FjaGVLZXkpKSB7XG4gICAgICAgIHJldHVybiBkZXNpZ25Db2xsZWN0aW9uSXRlbXNDYWNoZS5nZXQoY2FjaGVLZXkpIHx8IFtdO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgICBgJHtjb2xsZWN0aW9uc0FwaUJhc2V9LyR7ZW5jb2RlVVJJQ29tcG9uZW50KGNhY2hlS2V5KX0vaXRlbXNgLFxuICAgICAgICAgIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0sXG4gICAgICAgICk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ltcG9zc2libGUgZGUgY2hhcmdlciBsZXMgaXRlbXMuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgY29uc3QgaXRlbXMgPSBBcnJheS5pc0FycmF5KHBheWxvYWQ/Lml0ZW1zKSA/IHBheWxvYWQuaXRlbXMgOiBbXTtcbiAgICAgICAgZGVzaWduQ29sbGVjdGlvbkl0ZW1zQ2FjaGUuc2V0KGNhY2hlS2V5LCBpdGVtcyk7XG4gICAgICAgIHJldHVybiBpdGVtcztcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLndhcm4oJ1tkZXNpZ25dIGNvbGxlY3Rpb24gaXRlbXMgbG9hZCBmYWlsZWQnLCBlcnI/Lm1lc3NhZ2UgfHwgZXJyKTtcbiAgICAgICAgZGVzaWduQ29sbGVjdGlvbkl0ZW1zQ2FjaGUuc2V0KGNhY2hlS2V5LCBbXSk7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgZ2V0QWN0aXZlQ29sbGVjdGlvbkdyaWRCbG9jayA9ICgpID0+IHtcbiAgICAgIGNvbnN0IGJsb2NrID0gZ2V0QWN0aXZlQmxvY2soKTtcbiAgICAgIGlmICghYmxvY2spIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICBjb25zdCB0eXBlS2V5ID0gbm9ybWFsaXplVHlwZShibG9jay50eXBlKTtcbiAgICAgIGNvbnN0IGFsaWFzID0gYmxvY2tUeXBlQWxpYXNlc1t0eXBlS2V5XSB8fCB0eXBlS2V5O1xuICAgICAgaWYgKGFsaWFzICE9PSAnY29sbGVjdGlvbmdyaWQnKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJsb2NrO1xuICAgIH07XG5cbiAgICBjb25zdCBjbGVhckNvbGxlY3Rpb25DYXJkRWRpdG9yID0gKG1lc3NhZ2UgPSAnU1x1MDBFOWxlY3Rpb25uZXogdW5lIGNvbGxlY3Rpb24nKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25DYXJkSXRlbVNlbGVjdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb2xsZWN0aW9uQ2FyZEl0ZW1TZWxlY3QuaW5uZXJIVE1MID0gJyc7XG4gICAgICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgIG9wdGlvbi52YWx1ZSA9ICcnO1xuICAgICAgb3B0aW9uLnRleHRDb250ZW50ID0gbWVzc2FnZTtcbiAgICAgIGNvbGxlY3Rpb25DYXJkSXRlbVNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb24pO1xuICAgICAgY29sbGVjdGlvbkNhcmRJdGVtU2VsZWN0LnZhbHVlID0gJyc7XG4gICAgICBPYmplY3QudmFsdWVzKGNvbGxlY3Rpb25DYXJkT3ZlcnJpZGVGaWVsZHMpLmZvckVhY2goKGZpZWxkKSA9PiB7XG4gICAgICAgIGlmICghZmllbGQpIHJldHVybjtcbiAgICAgICAgaWYgKGZpZWxkLnR5cGUgPT09ICdjaGVja2JveCcpIHtcbiAgICAgICAgICBmaWVsZC5jaGVja2VkID0gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZmllbGQudmFsdWUgPSAnJztcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGdldFNlbGVjdGVkQ29sbGVjdGlvbkNhcmRJdGVtSWQgPSAoKSA9PlxuICAgICAgKGNvbGxlY3Rpb25DYXJkSXRlbVNlbGVjdD8udmFsdWUgfHwgJycpLnRyaW0oKTtcblxuICAgIGNvbnN0IGdldENvbGxlY3Rpb25HcmlkSXRlbU92ZXJyaWRlcyA9IChibG9jaykgPT4ge1xuICAgICAgY29uc3QgcmF3ID0gYmxvY2s/LnNldHRpbmdzPy5pdGVtT3ZlcnJpZGVzO1xuICAgICAgaWYgKCFyYXcgfHwgdHlwZW9mIHJhdyAhPT0gJ29iamVjdCcgfHwgQXJyYXkuaXNBcnJheShyYXcpKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByYXc7XG4gICAgfTtcblxuICAgIGNvbnN0IHBvcHVsYXRlQ29sbGVjdGlvbkNhcmRPdmVycmlkZUZpZWxkcyA9IChibG9jaywgaXRlbUlkKSA9PiB7XG4gICAgICBpZiAoIWJsb2NrIHx8ICFpdGVtSWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3Qgb3ZlcnJpZGVzID0gZ2V0Q29sbGVjdGlvbkdyaWRJdGVtT3ZlcnJpZGVzKGJsb2NrKTtcbiAgICAgIGNvbnN0IGVudHJ5ID0gb3ZlcnJpZGVzW2l0ZW1JZF0gJiYgdHlwZW9mIG92ZXJyaWRlc1tpdGVtSWRdID09PSAnb2JqZWN0JyA/IG92ZXJyaWRlc1tpdGVtSWRdIDoge307XG4gICAgICBjb25zdCBnZXRWYWx1ZSA9IChrZXkpID0+IChlbnRyeT8uW2tleV0gPz8gJycpO1xuICAgICAgaWYgKGNvbGxlY3Rpb25DYXJkT3ZlcnJpZGVGaWVsZHMuY3RhU3R5bGUpIHtcbiAgICAgICAgY29sbGVjdGlvbkNhcmRPdmVycmlkZUZpZWxkcy5jdGFTdHlsZS52YWx1ZSA9IGdldFZhbHVlKCdjdGFTdHlsZScpO1xuICAgICAgfVxuICAgICAgaWYgKGNvbGxlY3Rpb25DYXJkT3ZlcnJpZGVGaWVsZHMuY3RhVGV4dENvbG9yKSB7XG4gICAgICAgIGNvbGxlY3Rpb25DYXJkT3ZlcnJpZGVGaWVsZHMuY3RhVGV4dENvbG9yLnZhbHVlID0gZ2V0VmFsdWUoJ2N0YVRleHRDb2xvcicpO1xuICAgICAgfVxuICAgICAgaWYgKGNvbGxlY3Rpb25DYXJkT3ZlcnJpZGVGaWVsZHMuYmcpIHtcbiAgICAgICAgY29sbGVjdGlvbkNhcmRPdmVycmlkZUZpZWxkcy5iZy52YWx1ZSA9IGdldFZhbHVlKCdiZycpO1xuICAgICAgfVxuICAgICAgaWYgKGNvbGxlY3Rpb25DYXJkT3ZlcnJpZGVGaWVsZHMuYm9yZGVyUmFkaXVzKSB7XG4gICAgICAgIGNvbGxlY3Rpb25DYXJkT3ZlcnJpZGVGaWVsZHMuYm9yZGVyUmFkaXVzLnZhbHVlID0gZ2V0VmFsdWUoJ2JvcmRlclJhZGl1cycpO1xuICAgICAgfVxuICAgICAgaWYgKGNvbGxlY3Rpb25DYXJkT3ZlcnJpZGVGaWVsZHMuc2hhZG93KSB7XG4gICAgICAgIGNvbGxlY3Rpb25DYXJkT3ZlcnJpZGVGaWVsZHMuc2hhZG93LnZhbHVlID0gZ2V0VmFsdWUoJ3NoYWRvdycpO1xuICAgICAgfVxuICAgICAgaWYgKGNvbGxlY3Rpb25DYXJkT3ZlcnJpZGVGaWVsZHMuYm9yZGVyKSB7XG4gICAgICAgIGNvbGxlY3Rpb25DYXJkT3ZlcnJpZGVGaWVsZHMuYm9yZGVyLnZhbHVlID0gZ2V0VmFsdWUoJ2JvcmRlcicpO1xuICAgICAgfVxuICAgICAgaWYgKGNvbGxlY3Rpb25DYXJkT3ZlcnJpZGVGaWVsZHMuYW5pbWF0aW9uKSB7XG4gICAgICAgIGNvbGxlY3Rpb25DYXJkT3ZlcnJpZGVGaWVsZHMuYW5pbWF0aW9uLnZhbHVlID0gZ2V0VmFsdWUoJ2FuaW1hdGlvbicpO1xuICAgICAgfVxuICAgICAgaWYgKGNvbGxlY3Rpb25DYXJkT3ZlcnJpZGVGaWVsZHMuYW5pbWF0aW9uRGVsYXkpIHtcbiAgICAgICAgY29sbGVjdGlvbkNhcmRPdmVycmlkZUZpZWxkcy5hbmltYXRpb25EZWxheS52YWx1ZSA9XG4gICAgICAgICAgZW50cnk/LmFuaW1hdGlvbkRlbGF5ID8/ICcnO1xuICAgICAgfVxuICAgICAgaWYgKGNvbGxlY3Rpb25DYXJkT3ZlcnJpZGVGaWVsZHMuYW5pbWF0aW9uRHVyYXRpb24pIHtcbiAgICAgICAgY29sbGVjdGlvbkNhcmRPdmVycmlkZUZpZWxkcy5hbmltYXRpb25EdXJhdGlvbi52YWx1ZSA9XG4gICAgICAgICAgZW50cnk/LmFuaW1hdGlvbkR1cmF0aW9uID8/ICcnO1xuICAgICAgfVxuICAgICAgYmxvY2tGb3JtPy5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1jb2xvci1zZWxlY3RdJykuZm9yRWFjaCh1cGRhdGVDb2xvclNlbGVjdFByZXZpZXcpO1xuICAgIH07XG5cbiAgICBjb25zdCBidWlsZENvbGxlY3Rpb25DYXJkT3ZlcnJpZGVQYXRjaCA9ICgpID0+IHtcbiAgICAgIGNvbnN0IGl0ZW1JZCA9IGdldFNlbGVjdGVkQ29sbGVjdGlvbkNhcmRJdGVtSWQoKTtcbiAgICAgIGlmICghaXRlbUlkKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgY29uc3QgcGF0Y2ggPSB7XG4gICAgICAgIGN0YVN0eWxlOiAoY29sbGVjdGlvbkNhcmRPdmVycmlkZUZpZWxkcy5jdGFTdHlsZT8udmFsdWUgfHwgJycpLnRyaW0oKSxcbiAgICAgICAgY3RhVGV4dENvbG9yOiAoY29sbGVjdGlvbkNhcmRPdmVycmlkZUZpZWxkcy5jdGFUZXh0Q29sb3I/LnZhbHVlIHx8ICcnKS50cmltKCksXG4gICAgICAgIGJnOiAoY29sbGVjdGlvbkNhcmRPdmVycmlkZUZpZWxkcy5iZz8udmFsdWUgfHwgJycpLnRyaW0oKSxcbiAgICAgICAgYm9yZGVyUmFkaXVzOiAoY29sbGVjdGlvbkNhcmRPdmVycmlkZUZpZWxkcy5ib3JkZXJSYWRpdXM/LnZhbHVlIHx8ICcnKS50cmltKCksXG4gICAgICAgIHNoYWRvdzogKGNvbGxlY3Rpb25DYXJkT3ZlcnJpZGVGaWVsZHMuc2hhZG93Py52YWx1ZSB8fCAnJykudHJpbSgpLFxuICAgICAgICBib3JkZXI6IChjb2xsZWN0aW9uQ2FyZE92ZXJyaWRlRmllbGRzLmJvcmRlcj8udmFsdWUgfHwgJycpLnRyaW0oKSxcbiAgICAgICAgYW5pbWF0aW9uOiAoY29sbGVjdGlvbkNhcmRPdmVycmlkZUZpZWxkcy5hbmltYXRpb24/LnZhbHVlIHx8ICcnKS50cmltKCksXG4gICAgICAgIGFuaW1hdGlvbkRlbGF5OiBOdW1iZXIoY29sbGVjdGlvbkNhcmRPdmVycmlkZUZpZWxkcy5hbmltYXRpb25EZWxheT8udmFsdWUgfHwgJycpLFxuICAgICAgICBhbmltYXRpb25EdXJhdGlvbjogTnVtYmVyKGNvbGxlY3Rpb25DYXJkT3ZlcnJpZGVGaWVsZHMuYW5pbWF0aW9uRHVyYXRpb24/LnZhbHVlIHx8ICcnKSxcbiAgICAgIH07XG4gICAgICBpZiAoIU51bWJlci5pc0Zpbml0ZShwYXRjaC5hbmltYXRpb25EZWxheSkpIHtcbiAgICAgICAgZGVsZXRlIHBhdGNoLmFuaW1hdGlvbkRlbGF5O1xuICAgICAgfVxuICAgICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUocGF0Y2guYW5pbWF0aW9uRHVyYXRpb24pKSB7XG4gICAgICAgIGRlbGV0ZSBwYXRjaC5hbmltYXRpb25EdXJhdGlvbjtcbiAgICAgIH1cbiAgICAgIE9iamVjdC5rZXlzKHBhdGNoKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgaWYgKHBhdGNoW2tleV0gPT09ICcnKSB7XG4gICAgICAgICAgZGVsZXRlIHBhdGNoW2tleV07XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHsgaXRlbUlkLCBwYXRjaCB9O1xuICAgIH07XG5cbiAgICBjb25zdCBzYXZlQ29sbGVjdGlvbkNhcmRPdmVycmlkZXMgPSBhc3luYyAoeyByZXNldCA9IGZhbHNlIH0gPSB7fSkgPT4ge1xuICAgICAgY29uc3QgYmxvY2sgPSBnZXRBY3RpdmVDb2xsZWN0aW9uR3JpZEJsb2NrKCk7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlIHx8ICFibG9jaykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBpdGVtSWQgPSBnZXRTZWxlY3RlZENvbGxlY3Rpb25DYXJkSXRlbUlkKCk7XG4gICAgICBpZiAoIWl0ZW1JZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCB1cGRhdGUgPSAoZW50cnkpID0+IHtcbiAgICAgICAgY29uc3QgbmV4dFNldHRpbmdzID0geyAuLi4oZW50cnkuc2V0dGluZ3MgfHwge30pIH07XG4gICAgICAgIGNvbnN0IG92ZXJyaWRlcyA9IHsgLi4uZ2V0Q29sbGVjdGlvbkdyaWRJdGVtT3ZlcnJpZGVzKHsgc2V0dGluZ3M6IG5leHRTZXR0aW5ncyB9KSB9O1xuICAgICAgICBpZiAocmVzZXQpIHtcbiAgICAgICAgICBkZWxldGUgb3ZlcnJpZGVzW2l0ZW1JZF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgYnVpbHQgPSBidWlsZENvbGxlY3Rpb25DYXJkT3ZlcnJpZGVQYXRjaCgpO1xuICAgICAgICAgIGlmICghYnVpbHQpIHtcbiAgICAgICAgICAgIHJldHVybiBlbnRyeTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgbmV4dFBhdGNoID0gYnVpbHQucGF0Y2ggfHwge307XG4gICAgICAgICAgaWYgKCFPYmplY3Qua2V5cyhuZXh0UGF0Y2gpLmxlbmd0aCkge1xuICAgICAgICAgICAgZGVsZXRlIG92ZXJyaWRlc1tpdGVtSWRdO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvdmVycmlkZXNbaXRlbUlkXSA9IHsgLi4uKG92ZXJyaWRlc1tpdGVtSWRdIHx8IHt9KSwgLi4ubmV4dFBhdGNoIH07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG5leHRTZXR0aW5ncy5pdGVtT3ZlcnJpZGVzID0gb3ZlcnJpZGVzO1xuICAgICAgICByZXR1cm4geyAuLi5lbnRyeSwgc2V0dGluZ3M6IG5leHRTZXR0aW5ncyB9O1xuICAgICAgfTtcblxuICAgICAgY29uc3QgeyBibG9ja3M6IHVwZGF0ZWRCbG9ja3MsIGRpZFVwZGF0ZSB9ID0gdXBkYXRlQmxvY2tzRGVlcChcbiAgICAgICAgY3VycmVudFBhZ2UuYmxvY2tzIHx8IFtdLFxuICAgICAgICBibG9jay5pZCxcbiAgICAgICAgdXBkYXRlLFxuICAgICAgICBhY3RpdmVCbG9ja1BhcmVudElkLFxuICAgICAgKTtcbiAgICAgIGlmICghZGlkVXBkYXRlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG5leHRQYWdlID0geyAuLi5jdXJyZW50UGFnZSwgYmxvY2tzOiB1cGRhdGVkQmxvY2tzIH07XG4gICAgICBjdXJyZW50UGFnZSA9IG5leHRQYWdlO1xuICAgICAgdXBkYXRlUHJldmlld1N0YXR1cygnTW9kaWZpY2F0aW9uXHUyMDI2Jyk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBzYXZlZCA9IGF3YWl0IHNhdmVQYWdlVG9TZXJ2ZXIobmV4dFBhZ2UpO1xuICAgICAgICBpZiAoc2F2ZWQ/LmlkKSB7XG4gICAgICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZVBhZ2VEYXRhKHNhdmVkKTtcbiAgICAgICAgICBjdXJyZW50UGFnZSA9IG5vcm1hbGl6ZWQ7XG4gICAgICAgICAgcGFnZXMgPSBwYWdlcy5tYXAoKHApID0+IChwLmlkID09PSBub3JtYWxpemVkLmlkID8gbm9ybWFsaXplZCA6IHApKTtcbiAgICAgICAgfVxuICAgICAgICB1cGRhdGVQcmV2aWV3U3RhdHVzKCdTYXV2ZWdhcmRcdTAwRTknKTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB1cGRhdGVQcmV2aWV3U3RhdHVzKCdcdTAwQzAgam91cicpLCAxNTAwKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLndhcm4oJ1tkZXNpZ25dIGNhcmQgb3ZlcnJpZGUgc2F2ZSBmYWlsZWQnLCBlcnI/Lm1lc3NhZ2UgfHwgZXJyKTtcbiAgICAgICAgdXBkYXRlUHJldmlld1N0YXR1cygnRXJyZXVyIGRlIHNhdXZlZ2FyZGUnKTtcbiAgICAgIH1cbiAgICAgIGRlYm91bmNlZFJlZnJlc2hQcmV2aWV3KCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGVuc3VyZUNvbGxlY3Rpb25DYXJkRWRpdG9yUmVhZHkgPSBhc3luYyAoYmxvY2spID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvbkNhcmRJdGVtU2VsZWN0IHx8ICFibG9jaykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBjaWQgPSBibG9jay5jb2xsZWN0aW9uSWQgfHwgYmxvY2suc2V0dGluZ3M/LmNvbGxlY3Rpb25JZCB8fCAnJztcbiAgICAgIGlmICghY2lkKSB7XG4gICAgICAgIGNsZWFyQ29sbGVjdGlvbkNhcmRFZGl0b3IoJ1NcdTAwRTlsZWN0aW9ubmV6IHVuZSBjb2xsZWN0aW9uJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGl0ZW1zID0gYXdhaXQgZmV0Y2hDb2xsZWN0aW9uSXRlbXNGb3JEZXNpZ24oY2lkKTtcbiAgICAgIGNvbGxlY3Rpb25DYXJkSXRlbVNlbGVjdC5pbm5lckhUTUwgPSAnJztcbiAgICAgIGlmICghaXRlbXMubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICBvcHRpb24udmFsdWUgPSAnJztcbiAgICAgICAgb3B0aW9uLnRleHRDb250ZW50ID0gJ0F1Y3VuIGl0ZW0nO1xuICAgICAgICBjb2xsZWN0aW9uQ2FyZEl0ZW1TZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uKTtcbiAgICAgICAgY29sbGVjdGlvbkNhcmRJdGVtU2VsZWN0LnZhbHVlID0gJyc7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgICAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICAgIG9wdGlvbi52YWx1ZSA9IGl0ZW0uaWQgfHwgJyc7XG4gICAgICAgIGNvbnN0IGxhYmVsID0gaXRlbS50aXRsZSB8fCBpdGVtLnNsdWcgfHwgaXRlbS5pZCB8fCAnSXRlbSc7XG4gICAgICAgIG9wdGlvbi50ZXh0Q29udGVudCA9IGxhYmVsO1xuICAgICAgICBjb2xsZWN0aW9uQ2FyZEl0ZW1TZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uKTtcbiAgICAgIH0pO1xuICAgICAgY29uc3QgZXhpc3RpbmcgPSBnZXRTZWxlY3RlZENvbGxlY3Rpb25DYXJkSXRlbUlkKCk7XG4gICAgICBjb25zdCBkZXNpcmVkID0gZXhpc3RpbmcgJiYgaXRlbXMuc29tZSgoaXRlbSkgPT4gaXRlbS5pZCA9PT0gZXhpc3RpbmcpID8gZXhpc3RpbmcgOiAoaXRlbXNbMF0/LmlkIHx8ICcnKTtcbiAgICAgIGNvbGxlY3Rpb25DYXJkSXRlbVNlbGVjdC52YWx1ZSA9IGRlc2lyZWQ7XG4gICAgICBwb3B1bGF0ZUNvbGxlY3Rpb25DYXJkT3ZlcnJpZGVGaWVsZHMoYmxvY2ssIGRlc2lyZWQpO1xuICAgIH07XG5cbiAgICBjb25zdCB1cGRhdGVDb2xsZWN0aW9uU2VsZWN0T3B0aW9ucyA9IChzZWxlY3RlZFZhbHVlID0gJycpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvblNlbGVjdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb2xsZWN0aW9uU2VsZWN0LmlubmVySFRNTCA9ICcnO1xuICAgICAgaWYgKCFkZXNpZ25Db2xsZWN0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgY29sbGVjdGlvblNlbGVjdC5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICBvcHRpb24udmFsdWUgPSAnJztcbiAgICAgICAgb3B0aW9uLnRleHRDb250ZW50ID0gJ0F1Y3VuZSBjb2xsZWN0aW9uIGRpc3BvbmlibGUnO1xuICAgICAgICBjb2xsZWN0aW9uU2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbik7XG4gICAgICAgIHN5bmNDb2xsZWN0aW9uU2VsZWN0aW9uSW5mbygnJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbGxlY3Rpb25TZWxlY3QuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgIGlmIChzZWxlY3RlZFZhbHVlICYmICFkZXNpZ25Db2xsZWN0aW9ucy5zb21lKChlbnRyeSkgPT4gZW50cnkuaWQgPT09IHNlbGVjdGVkVmFsdWUpKSB7XG4gICAgICAgIGNvbnN0IGZhbGxiYWNrT3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICAgIGZhbGxiYWNrT3B0aW9uLnZhbHVlID0gc2VsZWN0ZWRWYWx1ZTtcbiAgICAgICAgZmFsbGJhY2tPcHRpb24udGV4dENvbnRlbnQgPSBzZWxlY3RlZFZhbHVlO1xuICAgICAgICBjb2xsZWN0aW9uU2VsZWN0LmFwcGVuZENoaWxkKGZhbGxiYWNrT3B0aW9uKTtcbiAgICAgIH1cbiAgICAgIGRlc2lnbkNvbGxlY3Rpb25zLmZvckVhY2goKGNvbGxlY3Rpb24pID0+IHtcbiAgICAgICAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICAgIG9wdGlvbi52YWx1ZSA9IGNvbGxlY3Rpb24uaWQ7XG4gICAgICAgIGNvbnN0IGxhYmVsID0gY29sbGVjdGlvbi5uYW1lIHx8IGNvbGxlY3Rpb24uaWQ7XG4gICAgICAgIG9wdGlvbi50ZXh0Q29udGVudCA9IGNvbGxlY3Rpb24udHlwZSA/IGAke2xhYmVsfSBcdTAwQjcgJHtjb2xsZWN0aW9uLnR5cGV9YCA6IGxhYmVsO1xuICAgICAgICBvcHRpb24uZGF0YXNldC5kZXNjcmlwdGlvbiA9IGNvbGxlY3Rpb24uZGVzY3JpcHRpb24gfHwgJyc7XG4gICAgICAgIGNvbGxlY3Rpb25TZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uKTtcbiAgICAgIH0pO1xuICAgICAgaWYgKHNlbGVjdGVkVmFsdWUpIHtcbiAgICAgICAgY29sbGVjdGlvblNlbGVjdC52YWx1ZSA9IHNlbGVjdGVkVmFsdWU7XG4gICAgICB9XG4gICAgICBzeW5jQ29sbGVjdGlvblNlbGVjdGlvbkluZm8oY29sbGVjdGlvblNlbGVjdC52YWx1ZSB8fCAnJyk7XG4gICAgfTtcblxuICAgIGxvYWREZXNpZ25Db2xsZWN0aW9ucygpO1xuICAgIHN5bmNEcmF3ZXJTdGF0ZSgpO1xuXG4gICAgZHJhd2VyT3BlbkJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuRHJhd2VyKTtcbiAgICB9KTtcbiAgICBkcmF3ZXJDbG9zZUJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZURyYXdlcik7XG4gICAgfSk7XG4gICAgZHJhd2VyQmFja2Ryb3A/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VEcmF3ZXIpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCAoKSA9PiB7XG4gICAgICBzeW5jRHJhd2VyU3RhdGUoKTtcbiAgICAgIHVwZGF0ZURyYWdnYWJsZVN0YXRlKCk7XG4gICAgfSk7XG5cbiAgICBhZGRQYWdlVG9nZ2xlPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5BZGRQYWdlRm9ybSk7XG4gICAgYWRkUGFnZUNhbmNlbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZUFkZFBhZ2VGb3JtKTtcbiAgICBhZGRQYWdlTmFtZT8uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBzeW5jU2x1Z0Zyb21OYW1lKTtcbiAgICBhZGRQYWdlU2x1Zz8uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgICBhZGRQYWdlRXJyb3IgJiYgKGFkZFBhZ2VFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICAgIHBhZ2VTbHVnTWFudWFsbHlFZGl0ZWQgPSB0cnVlO1xuICAgIH0pO1xuICAgIGFkZFBhZ2VGb3JtPy5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoIXBhZ2VzQXBpQmFzZSkge1xuICAgICAgICBhZGRQYWdlRXJyb3IgJiYgKGFkZFBhZ2VFcnJvci50ZXh0Q29udGVudCA9ICdBdWN1biBzaXRlIHNcdTAwRTlsZWN0aW9ublx1MDBFOS4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFhZGRQYWdlTmFtZSB8fCAhYWRkUGFnZVNsdWcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgbmFtZSA9IGFkZFBhZ2VOYW1lLnZhbHVlLnRyaW0oKTtcbiAgICAgIGNvbnN0IHRpdGxlID0gYWRkUGFnZVRpdGxlPy52YWx1ZS50cmltKCkgfHwgbmFtZTsgLy8gRmFsbGJhY2sgdG8gbmFtZSBpZiB0aXRsZSBpcyBlbXB0eVxuICAgICAgY29uc3Qgc2x1ZyA9IG5vcm1hbGl6ZVBhZ2VTbHVnKGFkZFBhZ2VTbHVnLnZhbHVlLnRyaW0oKSB8fCBuYW1lKTtcbiAgICAgIGlmICghbmFtZSB8fCAhc2x1Zykge1xuICAgICAgICBhZGRQYWdlRXJyb3IgJiYgKGFkZFBhZ2VFcnJvci50ZXh0Q29udGVudCA9ICdOb20gZXQgc2x1ZyBzb250IHJlcXVpcy4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYWRkUGFnZUVycm9yICYmIChhZGRQYWdlRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgICBpZiAoYWRkUGFnZVN1Ym1pdEJ1dHRvbikge1xuICAgICAgICBhZGRQYWdlU3VibWl0QnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgYWRkUGFnZVN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9ICdDclx1MDBFOWF0aW9uLi4uJztcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGNyZWF0ZWRQYWdlID0gYXdhaXQgY3JlYXRlUGFnZU9uU2VydmVyKHsgbmFtZSwgdGl0bGUsIHNsdWcgfSk7XG4gICAgICAgIGlmICghY3JlYXRlZFBhZ2UgfHwgIWNyZWF0ZWRQYWdlLmlkKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSXHUwMEU5cG9uc2UgaW52YWxpZGUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgcGFnZXMgPSBbLi4ucGFnZXMsIG5vcm1hbGl6ZVBhZ2VEYXRhKGNyZWF0ZWRQYWdlKV07XG4gICAgICAgIGNsb3NlQWRkUGFnZUZvcm0oKTtcbiAgICAgICAgc2hvd1RvYXN0KCdQYWdlIGNyXHUwMEU5XHUwMEU5ZScpO1xuICAgICAgICBzZXRBY3RpdmVQYWdlKGNyZWF0ZWRQYWdlLmlkKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZGVzaWduXSBjcmVhdGUgcGFnZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBhZGRQYWdlRXJyb3IgJiYgKGFkZFBhZ2VFcnJvci50ZXh0Q29udGVudCA9IGVyci5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIGNyXHUwMEU5ZXIgbGEgcGFnZS4nKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmIChhZGRQYWdlU3VibWl0QnV0dG9uKSB7XG4gICAgICAgICAgYWRkUGFnZVN1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgIGFkZFBhZ2VTdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSAnQ3JcdTAwRTllcic7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vID09PSBJbXBvcnQgSlNPTiBoYW5kbGVycyA9PT1cbiAgICBjb25zdCByZXNldFBhc3RlU3RhdGUgPSAoKSA9PiB7XG4gICAgICBpZiAoaW1wb3J0UGFzdGVJbnB1dCkgaW1wb3J0UGFzdGVJbnB1dC52YWx1ZSA9ICcnO1xuICAgICAgaWYgKHBhc3RlRXJyb3IpIHtcbiAgICAgICAgcGFzdGVFcnJvci5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgcGFzdGVFcnJvci50ZXh0Q29udGVudCA9ICcnO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCB2YWxpZGF0ZVBhc3RlSnNvbiA9ICgpID0+IHtcbiAgICAgIGlmICghaW1wb3J0UGFzdGVJbnB1dCkgcmV0dXJuIG51bGw7XG4gICAgICBjb25zdCB0ZXh0ID0gaW1wb3J0UGFzdGVJbnB1dC52YWx1ZS50cmltKCk7XG4gICAgICBpZiAoIXRleHQpIHtcbiAgICAgICAgaWYgKHBhc3RlRXJyb3IpIHBhc3RlRXJyb3IuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcGFyc2VkID0gSlNPTi5wYXJzZSh0ZXh0KTtcbiAgICAgICAgaWYgKHBhc3RlRXJyb3IpIHBhc3RlRXJyb3IuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIHJldHVybiBwYXJzZWQ7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgaWYgKHBhc3RlRXJyb3IpIHtcbiAgICAgICAgICBwYXN0ZUVycm9yLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgIHBhc3RlRXJyb3IudGV4dENvbnRlbnQgPSBgXHUyNzRDIEpTT04gaW52YWxpZGUgOiAke2Vyci5tZXNzYWdlfWA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGZvcm1hdFBhc3RlSnNvbiA9ICgpID0+IHtcbiAgICAgIGlmICghaW1wb3J0UGFzdGVJbnB1dCkgcmV0dXJuO1xuICAgICAgY29uc3QgdGV4dCA9IGltcG9ydFBhc3RlSW5wdXQudmFsdWUudHJpbSgpO1xuICAgICAgaWYgKCF0ZXh0KSByZXR1cm47XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBwYXJzZWQgPSBKU09OLnBhcnNlKHRleHQpO1xuICAgICAgICBpbXBvcnRQYXN0ZUlucHV0LnZhbHVlID0gSlNPTi5zdHJpbmdpZnkocGFyc2VkLCBudWxsLCAyKTtcbiAgICAgICAgdmFsaWRhdGVQYXN0ZUpzb24oKTtcbiAgICAgIH0gY2F0Y2gge1xuICAgICAgICAvLyBTaSBwYXMgdmFsaWRlLCBvbiBuZSBmb3JtYXRlIHBhc1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCB1cGRhdGVJbXBvcnRTdWJtaXRTdGF0ZSA9ICgpID0+IHtcbiAgICAgIGlmICghaW1wb3J0U3VibWl0KSByZXR1cm47XG4gICAgICBpZiAoYWN0aXZlSW1wb3J0VGFiID09PSAndXBsb2FkJykge1xuICAgICAgICBpbXBvcnRTdWJtaXQuZGlzYWJsZWQgPSBpbXBvcnRTZWxlY3RlZEZpbGVzLmxlbmd0aCA9PT0gMDtcbiAgICAgIH0gZWxzZSBpZiAoYWN0aXZlSW1wb3J0VGFiID09PSAncGFzdGUnKSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZCA9IHZhbGlkYXRlUGFzdGVKc29uKCk7XG4gICAgICAgIGltcG9ydFN1Ym1pdC5kaXNhYmxlZCA9ICFwYXJzZWQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbXBvcnRTdWJtaXQuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBvcGVuSW1wb3J0TW9kYWwgPSAoKSA9PiB7XG4gICAgICBpZiAoIWltcG9ydE1vZGFsKSByZXR1cm47XG4gICAgICBpbXBvcnRNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGltcG9ydE1vZGFsLmNsYXNzTGlzdC5hZGQoJ2ZsZXgnKTtcbiAgICAgIGltcG9ydFNlbGVjdGVkRmlsZXMgPSBbXTtcbiAgICAgIGFjdGl2ZUltcG9ydFRhYiA9ICd1cGxvYWQnO1xuICAgICAgdXBkYXRlSW1wb3J0RmlsZUxpc3QoKTtcbiAgICAgIHJlc2V0UGFzdGVTdGF0ZSgpO1xuICAgICAgaWYgKGltcG9ydFJlc3VsdHMpIGltcG9ydFJlc3VsdHMuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBpZiAoaW1wb3J0UmVzdWx0c0NvbnRlbnQpIGltcG9ydFJlc3VsdHNDb250ZW50LmlubmVySFRNTCA9ICcnO1xuICAgICAgdXBkYXRlSW1wb3J0U3VibWl0U3RhdGUoKTtcbiAgICAgIC8vIFJlc2V0IHRhYnMgdG8gdXBsb2FkXG4gICAgICBpbXBvcnRUYWJzLmZvckVhY2goKHQpID0+IHtcbiAgICAgICAgaWYgKHQuZGF0YXNldC5pbXBvcnRUYWIgPT09ICd1cGxvYWQnKSB7XG4gICAgICAgICAgdC5jbGFzc0xpc3QuYWRkKCdiZy1bIzlDNkJGRl0nLCAndGV4dC13aGl0ZScpO1xuICAgICAgICAgIHQuY2xhc3NMaXN0LnJlbW92ZSgnYm9yZGVyJywgJ2JvcmRlci1zbGF0ZS0yMDAnLCAndGV4dC1zbGF0ZS03MDAnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0LmNsYXNzTGlzdC5yZW1vdmUoJ2JnLVsjOUM2QkZGXScsICd0ZXh0LXdoaXRlJyk7XG4gICAgICAgICAgdC5jbGFzc0xpc3QuYWRkKCdib3JkZXInLCAnYm9yZGVyLXNsYXRlLTIwMCcsICd0ZXh0LXNsYXRlLTcwMCcpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGltcG9ydFBhbmVscy5mb3JFYWNoKChwKSA9PiB7XG4gICAgICAgIGlmIChwLmRhdGFzZXQuaW1wb3J0UGFuZWwgPT09ICd1cGxvYWQnKSB7XG4gICAgICAgICAgcC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGFjdGl2YXRlTW9kYWwoaW1wb3J0TW9kYWwsIGNsb3NlSW1wb3J0TW9kYWwpO1xuICAgIH07XG4gICAgY29uc3QgY2xvc2VJbXBvcnRNb2RhbCA9ICgpID0+IHtcbiAgICAgIGlmICghaW1wb3J0TW9kYWwpIHJldHVybjtcbiAgICAgIGltcG9ydE1vZGFsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgaW1wb3J0TW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnZmxleCcpO1xuICAgICAgaW1wb3J0U2VsZWN0ZWRGaWxlcyA9IFtdO1xuICAgICAgcmVzZXRQYXN0ZVN0YXRlKCk7XG4gICAgICBkZWFjdGl2YXRlTW9kYWwoaW1wb3J0TW9kYWwpO1xuICAgIH07XG4gICAgY29uc3QgdXBkYXRlSW1wb3J0RmlsZUxpc3QgPSAoKSA9PiB7XG4gICAgICBpZiAoIWltcG9ydEZpbGVMaXN0IHx8ICFpbXBvcnRGaWxlTmFtZXMpIHJldHVybjtcbiAgICAgIGlmIChpbXBvcnRTZWxlY3RlZEZpbGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBpbXBvcnRGaWxlTGlzdC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgdXBkYXRlSW1wb3J0U3VibWl0U3RhdGUoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaW1wb3J0RmlsZUxpc3QuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBpbXBvcnRGaWxlTmFtZXMuaW5uZXJIVE1MID0gaW1wb3J0U2VsZWN0ZWRGaWxlc1xuICAgICAgICAubWFwKChmKSA9PiBgPGxpIGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj48c3BhbiBjbGFzcz1cInRleHQtbGdcIj5cdUQ4M0RcdURDQzQ8L3NwYW4+JHtmLm5hbWV9PC9saT5gKVxuICAgICAgICAuam9pbignJyk7XG4gICAgICB1cGRhdGVJbXBvcnRTdWJtaXRTdGF0ZSgpO1xuICAgIH07XG4gICAgY29uc3QgaGFuZGxlSW1wb3J0RmlsZXMgPSAoZmlsZXMpID0+IHtcbiAgICAgIGNvbnN0IGpzb25GaWxlcyA9IEFycmF5LmZyb20oZmlsZXMpLmZpbHRlcihcbiAgICAgICAgKGYpID0+IGYudHlwZSA9PT0gJ2FwcGxpY2F0aW9uL2pzb24nIHx8IGYubmFtZS5lbmRzV2l0aCgnLmpzb24nKVxuICAgICAgKTtcbiAgICAgIGlmIChqc29uRmlsZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHNob3dUb2FzdCgnQXVjdW4gZmljaGllciBKU09OIHZhbGlkZS4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaW1wb3J0U2VsZWN0ZWRGaWxlcyA9IGpzb25GaWxlcztcbiAgICAgIHVwZGF0ZUltcG9ydEZpbGVMaXN0KCk7XG4gICAgfTtcbiAgICBjb25zdCBleGVjdXRlSW1wb3J0ID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFwYWdlc0FwaUJhc2UpIHJldHVybjtcbiAgICAgIFxuICAgICAgLy8gRGV0ZXJtaW5lIHNvdXJjZSBvZiBkYXRhIGJhc2VkIG9uIGFjdGl2ZSB0YWJcbiAgICAgIGxldCBwYWdlc0RhdGEgPSBbXTtcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coJ1tpbXBvcnRdIGFjdGl2ZUltcG9ydFRhYjonLCBhY3RpdmVJbXBvcnRUYWIpO1xuICAgICAgXG4gICAgICBpZiAoYWN0aXZlSW1wb3J0VGFiID09PSAncGFzdGUnKSB7XG4gICAgICAgIC8vIEltcG9ydCBmcm9tIHBhc3RlZCBKU09OXG4gICAgICAgIGNvbnN0IHRleHQgPSBpbXBvcnRQYXN0ZUlucHV0Py52YWx1ZT8udHJpbSgpO1xuICAgICAgICBjb25zb2xlLmxvZygnW2ltcG9ydF0gcGFzdGUgdGV4dCBsZW5ndGg6JywgdGV4dD8ubGVuZ3RoKTtcbiAgICAgICAgaWYgKCF0ZXh0KSB7XG4gICAgICAgICAgc2hvd1RvYXN0KCdBdWN1biBKU09OIFx1MDBFMCBpbXBvcnRlci4nKTtcbiAgICAgICAgICBpZiAoaW1wb3J0UmVzdWx0cyAmJiBpbXBvcnRSZXN1bHRzQ29udGVudCkge1xuICAgICAgICAgICAgaW1wb3J0UmVzdWx0cy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIGltcG9ydFJlc3VsdHNDb250ZW50LmlubmVySFRNTCA9ICc8cCBjbGFzcz1cInRleHQtYW1iZXItNjAwXCI+XHUyNkEwIExlIGNoYW1wIGRlIHRleHRlIGVzdCB2aWRlLjwvcD4nO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBwYXJzZWQgPSBKU09OLnBhcnNlKHRleHQpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdbaW1wb3J0XSBwYXJzZWQgSlNPTjonLCBwYXJzZWQpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdbaW1wb3J0XSBwYXJzZWQgdHlwZTonLCB0eXBlb2YgcGFyc2VkLCBBcnJheS5pc0FycmF5KHBhcnNlZCkgPyAnYXJyYXknIDogJ25vdCBhcnJheScpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIFN1cHBvcnQgZm9ybWF0IHsgcGFnZXM6IFsuLi5dLCBjb2xsZWN0aW9uczogey4uLn0gfVxuICAgICAgICAgIGlmIChwYXJzZWQgJiYgIUFycmF5LmlzQXJyYXkocGFyc2VkKSAmJiBwYXJzZWQucGFnZXMpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbaW1wb3J0XSBkZXRlY3RlZCBwYWdlcytjb2xsZWN0aW9ucyBmb3JtYXQnKTtcbiAgICAgICAgICAgIHBhZ2VzRGF0YSA9IHBhcnNlZDsgLy8gU2VuZCB0aGUgd2hvbGUgb2JqZWN0LCBiYWNrZW5kIHdpbGwgaGFuZGxlIGl0XG4gICAgICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHBhcnNlZCkpIHtcbiAgICAgICAgICAgIHBhZ2VzRGF0YS5wdXNoKC4uLnBhcnNlZCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhZ2VzRGF0YS5wdXNoKHBhcnNlZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnNvbGUubG9nKCdbaW1wb3J0XSBwYWdlc0RhdGEgcHJlcGFyZWQ6JywgcGFnZXNEYXRhKTtcbiAgICAgICAgfSBjYXRjaCAocGFyc2VFcnIpIHtcbiAgICAgICAgICAvLyBBZmZpY2hlciBsZSBkXHUwMEU5dGFpbCBkZSBsJ2VycmV1ciBkZSBwYXJzaW5nXG4gICAgICAgICAgY29uc3QgZXJyb3JMaW5lID0gcGFyc2VFcnIubWVzc2FnZS5tYXRjaCgvcG9zaXRpb24gKFxcZCspLyk7XG4gICAgICAgICAgbGV0IGVycm9yRGV0YWlsID0gcGFyc2VFcnIubWVzc2FnZTtcbiAgICAgICAgICBpZiAoZXJyb3JMaW5lKSB7XG4gICAgICAgICAgICBjb25zdCBwb3MgPSBwYXJzZUludChlcnJvckxpbmVbMV0sIDEwKTtcbiAgICAgICAgICAgIGNvbnN0IGxpbmVzID0gdGV4dC5zdWJzdHJpbmcoMCwgcG9zKS5zcGxpdCgnXFxuJyk7XG4gICAgICAgICAgICBjb25zdCBsaW5lTnVtID0gbGluZXMubGVuZ3RoO1xuICAgICAgICAgICAgY29uc3QgY29sTnVtID0gbGluZXNbbGluZXMubGVuZ3RoIC0gMV0ubGVuZ3RoICsgMTtcbiAgICAgICAgICAgIGVycm9yRGV0YWlsID0gYExpZ25lICR7bGluZU51bX0sIGNvbG9ubmUgJHtjb2xOdW19OiAke3BhcnNlRXJyLm1lc3NhZ2V9YDtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2hvd1RvYXN0KGBFcnJldXIgSlNPTiA6ICR7ZXJyb3JEZXRhaWx9YCwgJ2Vycm9yJyk7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW2ltcG9ydF0gcGFzdGUgcGFyc2UgZXJyb3InLCBwYXJzZUVycik7XG4gICAgICAgICAgLy8gU2hvdyBlcnJvciBpbiByZXN1bHRzIGFyZWFcbiAgICAgICAgICBpZiAoaW1wb3J0UmVzdWx0cyAmJiBpbXBvcnRSZXN1bHRzQ29udGVudCkge1xuICAgICAgICAgICAgaW1wb3J0UmVzdWx0cy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIGltcG9ydFJlc3VsdHNDb250ZW50LmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRleHQtcm9zZS02MDBcIj5cbiAgICAgICAgICAgICAgICA8cCBjbGFzcz1cImZvbnQtbWVkaXVtXCI+XHUyNzE3IEVycmV1ciBkZSBzeW50YXhlIEpTT048L3A+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXhzIG10LTFcIj4ke2Vycm9yRGV0YWlsfTwvcD5cbiAgICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQteHMgbXQtMiB0ZXh0LXNsYXRlLTUwMFwiPlZcdTAwRTlyaWZpZXogbGVzIHZpcmd1bGVzLCBndWlsbGVtZXRzIGV0IGFjY29sYWRlcy48L3A+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgYDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGFjdGl2ZUltcG9ydFRhYiA9PT0gJ3VwbG9hZCcpIHtcbiAgICAgICAgLy8gSW1wb3J0IGZyb20gZmlsZXNcbiAgICAgICAgaWYgKGltcG9ydFNlbGVjdGVkRmlsZXMubGVuZ3RoID09PSAwKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGZpbGVFcnJvcnMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBmaWxlIG9mIGltcG9ydFNlbGVjdGVkRmlsZXMpIHtcbiAgICAgICAgICBjb25zdCB0ZXh0ID0gYXdhaXQgZmlsZS50ZXh0KCk7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZCA9IEpTT04ucGFyc2UodGV4dCk7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwYXJzZWQpKSB7XG4gICAgICAgICAgICAgIHBhZ2VzRGF0YS5wdXNoKC4uLnBhcnNlZCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwYWdlc0RhdGEucHVzaChwYXJzZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2ggKHBhcnNlRXJyKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvckxpbmUgPSBwYXJzZUVyci5tZXNzYWdlLm1hdGNoKC9wb3NpdGlvbiAoXFxkKykvKTtcbiAgICAgICAgICAgIGxldCBlcnJvckRldGFpbCA9IHBhcnNlRXJyLm1lc3NhZ2U7XG4gICAgICAgICAgICBpZiAoZXJyb3JMaW5lKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHBvcyA9IHBhcnNlSW50KGVycm9yTGluZVsxXSwgMTApO1xuICAgICAgICAgICAgICBjb25zdCBsaW5lcyA9IHRleHQuc3Vic3RyaW5nKDAsIHBvcykuc3BsaXQoJ1xcbicpO1xuICAgICAgICAgICAgICBjb25zdCBsaW5lTnVtID0gbGluZXMubGVuZ3RoO1xuICAgICAgICAgICAgICBlcnJvckRldGFpbCA9IGBMaWduZSAke2xpbmVOdW19OiAke3BhcnNlRXJyLm1lc3NhZ2V9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbGVFcnJvcnMucHVzaCh7IGZpbGU6IGZpbGUubmFtZSwgZXJyb3I6IGVycm9yRGV0YWlsIH0pO1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignW2ltcG9ydF0gcGFyc2UgZXJyb3InLCBmaWxlLm5hbWUsIHBhcnNlRXJyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2hvdyBmaWxlIHBhcnNpbmcgZXJyb3JzIGlmIGFueVxuICAgICAgICBpZiAoZmlsZUVycm9ycy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgaWYgKGltcG9ydFJlc3VsdHMgJiYgaW1wb3J0UmVzdWx0c0NvbnRlbnQpIHtcbiAgICAgICAgICAgIGltcG9ydFJlc3VsdHMuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgICBsZXQgaHRtbCA9ICc8ZGl2IGNsYXNzPVwidGV4dC1yb3NlLTYwMFwiPjxwIGNsYXNzPVwiZm9udC1tZWRpdW1cIj5cdTI3MTcgRXJyZXVycyBkZSBzeW50YXhlIEpTT048L3A+PHVsIGNsYXNzPVwibWwtNCB0ZXh0LXhzIG10LTFcIj4nO1xuICAgICAgICAgICAgZmlsZUVycm9ycy5mb3JFYWNoKGUgPT4ge1xuICAgICAgICAgICAgICBodG1sICs9IGA8bGk+PHN0cm9uZz4ke2UuZmlsZX08L3N0cm9uZz46ICR7ZS5lcnJvcn08L2xpPmA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGh0bWwgKz0gJzwvdWw+PC9kaXY+JztcbiAgICAgICAgICAgIGlmIChwYWdlc0RhdGEubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICBodG1sICs9IGA8cCBjbGFzcz1cInRleHQtYW1iZXItNjAwIG10LTIgdGV4dC1zbVwiPlx1MjZBMCAke3BhZ2VzRGF0YS5sZW5ndGh9IHBhZ2UocykgdmFsaWRlKHMpIHNlcm9udCBpbXBvcnRcdTAwRTllKHMpPC9wPmA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbXBvcnRSZXN1bHRzQ29udGVudC5pbm5lckhUTUwgPSBodG1sO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocGFnZXNEYXRhLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgc2hvd1RvYXN0KCdUb3VzIGxlcyBmaWNoaWVycyBjb250aWVubmVudCBkZXMgZXJyZXVycyBKU09OJywgJ2Vycm9yJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIFZcdTAwRTlyaWZpZXIgcXUnb24gYSBkZXMgZG9ublx1MDBFOWVzIFx1MDBFMCBpbXBvcnRlclxuICAgICAgY29uc3QgaGFzRGF0YSA9IEFycmF5LmlzQXJyYXkocGFnZXNEYXRhKSBcbiAgICAgICAgPyBwYWdlc0RhdGEubGVuZ3RoID4gMCBcbiAgICAgICAgOiAocGFnZXNEYXRhICYmIChwYWdlc0RhdGEucGFnZXM/Lmxlbmd0aCA+IDAgfHwgcGFnZXNEYXRhLnRpdGxlKSk7XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKCdbaW1wb3J0XSBoYXNEYXRhIGNoZWNrOicsIGhhc0RhdGEsICdwYWdlc0RhdGE6JywgcGFnZXNEYXRhKTtcbiAgICAgIFxuICAgICAgaWYgKCFoYXNEYXRhKSB7XG4gICAgICAgIHNob3dUb2FzdCgnQXVjdW5lIHBhZ2UgdmFsaWRlIFx1MDBFMCBpbXBvcnRlci4nKTtcbiAgICAgICAgaWYgKGltcG9ydFJlc3VsdHMgJiYgaW1wb3J0UmVzdWx0c0NvbnRlbnQpIHtcbiAgICAgICAgICBpbXBvcnRSZXN1bHRzLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgIGltcG9ydFJlc3VsdHNDb250ZW50LmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LWFtYmVyLTYwMFwiPlxuICAgICAgICAgICAgICA8cCBjbGFzcz1cImZvbnQtbWVkaXVtXCI+XHUyNkEwIEF1Y3VuZSBwYWdlIGRcdTAwRTl0ZWN0XHUwMEU5ZTwvcD5cbiAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXhzIG10LTFcIj5MZSBKU09OIGRvaXQgY29udGVuaXIgOjwvcD5cbiAgICAgICAgICAgICAgPHVsIGNsYXNzPVwidGV4dC14cyBtbC00IG10LTEgbGlzdC1kaXNjXCI+XG4gICAgICAgICAgICAgICAgPGxpPlVuIG9iamV0IHBhZ2UgYXZlYyBcInRpdGxlXCIgOiA8Y29kZT57XCJ0aXRsZVwiOiBcIk1hIHBhZ2VcIiwgLi4ufTwvY29kZT48L2xpPlxuICAgICAgICAgICAgICAgIDxsaT5VbiB0YWJsZWF1IGRlIHBhZ2VzIDogPGNvZGU+W3tcInRpdGxlXCI6IFwiUGFnZSAxXCJ9LCB7XCJ0aXRsZVwiOiBcIlBhZ2UgMlwifV08L2NvZGU+PC9saT5cbiAgICAgICAgICAgICAgICA8bGk+T3UgdW4gb2JqZXQgY29tYmluXHUwMEU5IDogPGNvZGU+e1wicGFnZXNcIjogWy4uLl0sIFwiY29sbGVjdGlvbnNcIjogey4uLn19PC9jb2RlPjwvbGk+XG4gICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICBgO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGltcG9ydFN1Ym1pdCkge1xuICAgICAgICBpbXBvcnRTdWJtaXQuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICBpbXBvcnRTdWJtaXQudGV4dENvbnRlbnQgPSAnSW1wb3J0Li4uJztcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gQWZmaWNoZXIgY2UgcXUnb24gdmEgZW52b3llciAoZGVidWcpXG4gICAgICBjb25zb2xlLmxvZygnW2ltcG9ydF0gU2VuZGluZyB0byBzZXJ2ZXI6JywgSlNPTi5zdHJpbmdpZnkocGFnZXNEYXRhKS5zdWJzdHJpbmcoMCwgNTAwKSk7XG4gICAgICBcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7cGFnZXNBcGlCYXNlfS9pbXBvcnRgLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgY3JlZGVudGlhbHM6ICdpbmNsdWRlJyxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYWdlc0RhdGEpLFxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGNvbnNvbGUubG9nKCdbaW1wb3J0XSBTZXJ2ZXIgcmVzcG9uc2Ugc3RhdHVzOicsIHJlc3BvbnNlLnN0YXR1cyk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdbaW1wb3J0XSBTZXJ2ZXIgcmVzcG9uc2UgYm9keTonLCByZXN1bHQpO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgLy8gQWZmaWNoZXIgbGUgZFx1MDBFOXRhaWwgZGUgbCdlcnJldXIgc2VydmV1clxuICAgICAgICAgIGlmIChpbXBvcnRSZXN1bHRzICYmIGltcG9ydFJlc3VsdHNDb250ZW50KSB7XG4gICAgICAgICAgICBpbXBvcnRSZXN1bHRzLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgICAgaW1wb3J0UmVzdWx0c0NvbnRlbnQuaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC1yb3NlLTYwMFwiPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwiZm9udC1tZWRpdW1cIj5cdTI3MTcgRXJyZXVyIHNlcnZldXI8L3A+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXhzIG10LTFcIj4ke3Jlc3VsdC5tZXNzYWdlIHx8ICdFcnJldXIgaW5jb25udWUnfTwvcD5cbiAgICAgICAgICAgICAgICAke3Jlc3VsdC5kZXRhaWxzID8gYDxwIGNsYXNzPVwidGV4dC14cyBtdC0xIHRleHQtc2xhdGUtNTAwXCI+JHtyZXN1bHQuZGV0YWlsc308L3A+YCA6ICcnfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIGA7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQubWVzc2FnZSB8fCAnRXJyZXVyIHNlcnZldXInKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTaG93IHJlc3VsdHNcbiAgICAgICAgaWYgKGltcG9ydFJlc3VsdHMgJiYgaW1wb3J0UmVzdWx0c0NvbnRlbnQpIHtcbiAgICAgICAgICBpbXBvcnRSZXN1bHRzLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgIGxldCBodG1sID0gJyc7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gRW50XHUwMEVBdGUgc3VjY1x1MDBFOHMvZXJyZXVyXG4gICAgICAgICAgY29uc3QgaGFzU3VjY2VzcyA9IChyZXN1bHQuaW1wb3J0ZWQ/Lmxlbmd0aCA+IDApIHx8IChyZXN1bHQuY29sbGVjdGlvbnNDcmVhdGVkPy5sZW5ndGggPiAwKTtcbiAgICAgICAgICBjb25zdCBoYXNFcnJvcnMgPSByZXN1bHQuZXJyb3JzPy5sZW5ndGggPiAwO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmIChoYXNTdWNjZXNzICYmICFoYXNFcnJvcnMpIHtcbiAgICAgICAgICAgIGh0bWwgKz0gJzxkaXYgY2xhc3M9XCJiZy1ncmVlbi01MCBib3JkZXIgYm9yZGVyLWdyZWVuLTIwMCByb3VuZGVkLWxnIHAtMyBtYi0yXCI+PHAgY2xhc3M9XCJ0ZXh0LWdyZWVuLTgwMCBmb250LW1lZGl1bVwiPlx1MjcxMyBJbXBvcnQgclx1MDBFOXVzc2k8L3A+PC9kaXY+JztcbiAgICAgICAgICB9IGVsc2UgaWYgKGhhc1N1Y2Nlc3MgJiYgaGFzRXJyb3JzKSB7XG4gICAgICAgICAgICBodG1sICs9ICc8ZGl2IGNsYXNzPVwiYmctYW1iZXItNTAgYm9yZGVyIGJvcmRlci1hbWJlci0yMDAgcm91bmRlZC1sZyBwLTMgbWItMlwiPjxwIGNsYXNzPVwidGV4dC1hbWJlci04MDAgZm9udC1tZWRpdW1cIj5cdTI2QTAgSW1wb3J0IHBhcnRpZWw8L3A+PC9kaXY+JztcbiAgICAgICAgICB9IGVsc2UgaWYgKGhhc0Vycm9ycykge1xuICAgICAgICAgICAgaHRtbCArPSAnPGRpdiBjbGFzcz1cImJnLXJvc2UtNTAgYm9yZGVyIGJvcmRlci1yb3NlLTIwMCByb3VuZGVkLWxnIHAtMyBtYi0yXCI+PHAgY2xhc3M9XCJ0ZXh0LXJvc2UtODAwIGZvbnQtbWVkaXVtXCI+XHUyNzE3IEltcG9ydCBcdTAwRTljaG91XHUwMEU5PC9wPjwvZGl2Pic7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIENvbGxlY3Rpb25zIGNyXHUwMEU5XHUwMEU5ZXNcbiAgICAgICAgICBpZiAocmVzdWx0LmNvbGxlY3Rpb25zQ3JlYXRlZCAmJiByZXN1bHQuY29sbGVjdGlvbnNDcmVhdGVkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGh0bWwgKz0gYDxwIGNsYXNzPVwidGV4dC12aW9sZXQtNzAwIG10LTJcIj5cdTI3MTMgJHtyZXN1bHQuY29sbGVjdGlvbnNDcmVhdGVkLmxlbmd0aH0gY29sbGVjdGlvbihzKSBjclx1MDBFOVx1MDBFOWUocyk8L3A+YDtcbiAgICAgICAgICAgIGh0bWwgKz0gJzx1bCBjbGFzcz1cIm1sLTQgdGV4dC14cyB0ZXh0LXNsYXRlLTYwMFwiPic7XG4gICAgICAgICAgICByZXN1bHQuY29sbGVjdGlvbnNDcmVhdGVkLmZvckVhY2goKGMpID0+IHtcbiAgICAgICAgICAgICAgaHRtbCArPSBgPGxpPiR7Yy5uYW1lfSAoJHtjLml0ZW1zQ291bnR9IGl0ZW0ke2MuaXRlbXNDb3VudCA+IDEgPyAncycgOiAnJ30pPC9saT5gO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBodG1sICs9ICc8L3VsPic7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIFBhZ2VzIGltcG9ydFx1MDBFOWVzXG4gICAgICAgICAgaWYgKHJlc3VsdC5pbXBvcnRlZCAmJiByZXN1bHQuaW1wb3J0ZWQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgaHRtbCArPSBgPHAgY2xhc3M9XCJ0ZXh0LWdyZWVuLTcwMCBtdC0yXCI+XHUyNzEzICR7cmVzdWx0LmltcG9ydGVkLmxlbmd0aH0gcGFnZShzKSBpbXBvcnRcdTAwRTllKHMpPC9wPmA7XG4gICAgICAgICAgICBodG1sICs9ICc8dWwgY2xhc3M9XCJtbC00IHRleHQteHMgdGV4dC1zbGF0ZS02MDBcIj4nO1xuICAgICAgICAgICAgcmVzdWx0LmltcG9ydGVkLmZvckVhY2goKHApID0+IHtcbiAgICAgICAgICAgICAgaHRtbCArPSBgPGxpPjxzdHJvbmc+JHtwLnRpdGxlfTwvc3Ryb25nPiBcdTIxOTIgJHtwLnNsdWd9ICgke3AuYWN0aW9uID09PSAndXBkYXRlZCcgPyAnbWlzZSBcdTAwRTAgam91cicgOiAnY3JcdTAwRTlcdTAwRTllJ30pPC9saT5gO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBodG1sICs9ICc8L3VsPic7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIEVycmV1cnMgYXZlYyBkXHUwMEU5dGFpbHNcbiAgICAgICAgICBpZiAocmVzdWx0LmVycm9ycyAmJiByZXN1bHQuZXJyb3JzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGh0bWwgKz0gYDxwIGNsYXNzPVwidGV4dC1yb3NlLTYwMCBtdC0zIGZvbnQtbWVkaXVtXCI+XHUyNzE3ICR7cmVzdWx0LmVycm9ycy5sZW5ndGh9IGVycmV1cihzKTwvcD5gO1xuICAgICAgICAgICAgaHRtbCArPSAnPHVsIGNsYXNzPVwibWwtNCB0ZXh0LXhzIHRleHQtcm9zZS02MDAgc3BhY2UteS0xIG10LTFcIj4nO1xuICAgICAgICAgICAgcmVzdWx0LmVycm9ycy5mb3JFYWNoKChlKSA9PiB7XG4gICAgICAgICAgICAgIGh0bWwgKz0gYDxsaSBjbGFzcz1cImJnLXJvc2UtNTAgcC0yIHJvdW5kZWRcIj48c3Ryb25nPiR7ZS50aXRsZX08L3N0cm9uZz48YnIvPjxzcGFuIGNsYXNzPVwidGV4dC1yb3NlLTUwMFwiPiR7ZS5lcnJvcn08L3NwYW4+PC9saT5gO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBodG1sICs9ICc8L3VsPic7XG4gICAgICAgICAgfVxuICAgICAgICAgIGltcG9ydFJlc3VsdHNDb250ZW50LmlubmVySFRNTCA9IGh0bWw7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVsb2FkIHBhZ2VzIGxpc3QgYW5kIHNob3cgdG9hc3RcbiAgICAgICAgY29uc3QgaGFzU3VjY2VzcyA9IChyZXN1bHQuaW1wb3J0ZWQ/Lmxlbmd0aCA+IDApIHx8IChyZXN1bHQuY29sbGVjdGlvbnNDcmVhdGVkPy5sZW5ndGggPiAwKTtcbiAgICAgICAgY29uc3QgaGFzRXJyb3JzID0gcmVzdWx0LmVycm9ycz8ubGVuZ3RoID4gMDtcbiAgICAgICAgXG4gICAgICAgIGlmIChyZXN1bHQuaW1wb3J0ZWQgJiYgcmVzdWx0LmltcG9ydGVkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBjb25zdCBmcmVzaFBhZ2VzID0gYXdhaXQgZmV0Y2hQYWdlc0Zyb21TZXJ2ZXIoKTtcbiAgICAgICAgICBwYWdlcyA9IGZyZXNoUGFnZXM7XG4gICAgICAgICAgcmVuZGVyUGFnZUxpc3RzKHBhZ2VzLCBhY3RpdmVQYWdlSWQpO1xuICAgICAgICAgIGlmIChwYWdlcy5sZW5ndGggPiAwICYmICFhY3RpdmVQYWdlSWQpIHtcbiAgICAgICAgICAgIHNldEFjdGl2ZVBhZ2UocGFnZXNbMF0uaWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gVG9hc3QgYXZlYyBzdGF0dXQgYXBwcm9wcmlcdTAwRTlcbiAgICAgICAgaWYgKGhhc1N1Y2Nlc3MgJiYgIWhhc0Vycm9ycykge1xuICAgICAgICAgIGNvbnN0IGNvbGxlY3Rpb25zTXNnID0gcmVzdWx0LmNvbGxlY3Rpb25zQ3JlYXRlZD8ubGVuZ3RoIFxuICAgICAgICAgICAgPyBgICsgJHtyZXN1bHQuY29sbGVjdGlvbnNDcmVhdGVkLmxlbmd0aH0gY29sbGVjdGlvbihzKWAgXG4gICAgICAgICAgICA6ICcnO1xuICAgICAgICAgIHNob3dUb2FzdChgXHUyNzEzIEltcG9ydCByXHUwMEU5dXNzaSA6ICR7cmVzdWx0LmltcG9ydGVkPy5sZW5ndGggfHwgMH0gcGFnZShzKSR7Y29sbGVjdGlvbnNNc2d9YCwgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgfSBlbHNlIGlmIChoYXNTdWNjZXNzICYmIGhhc0Vycm9ycykge1xuICAgICAgICAgIHNob3dUb2FzdChgXHUyNkEwIEltcG9ydCBwYXJ0aWVsIDogJHtyZXN1bHQuaW1wb3J0ZWQ/Lmxlbmd0aCB8fCAwfSBwYWdlKHMpLCAke3Jlc3VsdC5lcnJvcnMubGVuZ3RofSBlcnJldXIocylgLCAnd2FybmluZycpO1xuICAgICAgICB9IGVsc2UgaWYgKGhhc0Vycm9ycykge1xuICAgICAgICAgIHNob3dUb2FzdChgXHUyNzE3IEltcG9ydCBcdTAwRTljaG91XHUwMEU5IDogJHtyZXN1bHQuZXJyb3JzLmxlbmd0aH0gZXJyZXVyKHMpYCwgJ2Vycm9yJyk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGltcG9ydFNlbGVjdGVkRmlsZXMgPSBbXTtcbiAgICAgICAgdXBkYXRlSW1wb3J0RmlsZUxpc3QoKTtcbiAgICAgICAgcmVzZXRQYXN0ZVN0YXRlKCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2ltcG9ydF0gZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdFcnJldXIgaW1wb3J0JywgJ2Vycm9yJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoaW1wb3J0U3VibWl0KSB7XG4gICAgICAgICAgaW1wb3J0U3VibWl0LmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgaW1wb3J0U3VibWl0LnRleHRDb250ZW50ID0gJ0ltcG9ydGVyJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgaW1wb3J0VG9nZ2xlPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5JbXBvcnRNb2RhbCk7XG4gICAgaW1wb3J0Q2xvc2VCdXR0b25zLmZvckVhY2goKGJ0bikgPT4gYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VJbXBvcnRNb2RhbCkpO1xuICAgIGltcG9ydE1vZGFsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBpZiAoZS50YXJnZXQgPT09IGltcG9ydE1vZGFsKSBjbG9zZUltcG9ydE1vZGFsKCk7XG4gICAgfSk7XG4gICAgaW1wb3J0RmlsZUlucHV0Py5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZSkgPT4ge1xuICAgICAgaGFuZGxlSW1wb3J0RmlsZXMoZS50YXJnZXQuZmlsZXMpO1xuICAgIH0pO1xuICAgIGltcG9ydERyb3B6b25lPy5hZGRFdmVudExpc3RlbmVyKCdkcmFnb3ZlcicsIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpbXBvcnREcm9wem9uZS5jbGFzc0xpc3QuYWRkKCdib3JkZXItWyM5QzZCRkZdJywgJ2JnLVsjOUM2QkZGXS8xMCcpO1xuICAgIH0pO1xuICAgIGltcG9ydERyb3B6b25lPy5hZGRFdmVudExpc3RlbmVyKCdkcmFnbGVhdmUnLCAoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaW1wb3J0RHJvcHpvbmUuY2xhc3NMaXN0LnJlbW92ZSgnYm9yZGVyLVsjOUM2QkZGXScsICdiZy1bIzlDNkJGRl0vMTAnKTtcbiAgICB9KTtcbiAgICBpbXBvcnREcm9wem9uZT8uYWRkRXZlbnRMaXN0ZW5lcignZHJvcCcsIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpbXBvcnREcm9wem9uZS5jbGFzc0xpc3QucmVtb3ZlKCdib3JkZXItWyM5QzZCRkZdJywgJ2JnLVsjOUM2QkZGXS8xMCcpO1xuICAgICAgaGFuZGxlSW1wb3J0RmlsZXMoZS5kYXRhVHJhbnNmZXIuZmlsZXMpO1xuICAgIH0pO1xuICAgIGltcG9ydFN1Ym1pdD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBleGVjdXRlSW1wb3J0KTtcbiAgICAvLyBQYXN0ZSBKU09OIGhhbmRsZXJzXG4gICAgaW1wb3J0UGFzdGVJbnB1dD8uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgICB1cGRhdGVJbXBvcnRTdWJtaXRTdGF0ZSgpO1xuICAgIH0pO1xuICAgIHBhc3RlRm9ybWF0QnRuPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZvcm1hdFBhc3RlSnNvbik7XG4gICAgLy8gSW1wb3J0IHRhYnNcbiAgICBpbXBvcnRUYWJzLmZvckVhY2goKHRhYikgPT4ge1xuICAgICAgdGFiLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBjb25zdCB0YXJnZXRQYW5lbCA9IHRhYi5kYXRhc2V0LmltcG9ydFRhYjtcbiAgICAgICAgYWN0aXZlSW1wb3J0VGFiID0gdGFyZ2V0UGFuZWw7XG4gICAgICAgIGltcG9ydFRhYnMuZm9yRWFjaCgodCkgPT4ge1xuICAgICAgICAgIGlmICh0LmRhdGFzZXQuaW1wb3J0VGFiID09PSB0YXJnZXRQYW5lbCkge1xuICAgICAgICAgICAgdC5jbGFzc0xpc3QuYWRkKCdiZy1bIzlDNkJGRl0nLCAndGV4dC13aGl0ZScpO1xuICAgICAgICAgICAgdC5jbGFzc0xpc3QucmVtb3ZlKCdib3JkZXInLCAnYm9yZGVyLXNsYXRlLTIwMCcsICd0ZXh0LXNsYXRlLTcwMCcpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0LmNsYXNzTGlzdC5yZW1vdmUoJ2JnLVsjOUM2QkZGXScsICd0ZXh0LXdoaXRlJyk7XG4gICAgICAgICAgICB0LmNsYXNzTGlzdC5hZGQoJ2JvcmRlcicsICdib3JkZXItc2xhdGUtMjAwJywgJ3RleHQtc2xhdGUtNzAwJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaW1wb3J0UGFuZWxzLmZvckVhY2goKHApID0+IHtcbiAgICAgICAgICBpZiAocC5kYXRhc2V0LmltcG9ydFBhbmVsID09PSB0YXJnZXRQYW5lbCkge1xuICAgICAgICAgICAgcC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB1cGRhdGVJbXBvcnRTdWJtaXRTdGF0ZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgY29weVRlbXBsYXRlQnRuPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghdGVtcGxhdGVKc29uKSByZXR1cm47XG4gICAgICBjb25zdCB0ZXh0ID0gdGVtcGxhdGVKc29uLnRleHRDb250ZW50IHx8ICcnO1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQodGV4dCk7XG4gICAgICAgIHNob3dUb2FzdCgnVGVtcGxhdGUgY29waVx1MDBFOSAhJyk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2ltcG9ydF0gY29weSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoJ0VycmV1ciBjb3BpZScpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgY29weVByb21wdEJ0bj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWltcG9ydEFpUHJvbXB0KSByZXR1cm47XG4gICAgICBjb25zdCB0ZXh0ID0gaW1wb3J0QWlQcm9tcHQudGV4dENvbnRlbnQgfHwgJyc7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dCh0ZXh0KTtcbiAgICAgICAgc2hvd1RvYXN0KCdQcm9tcHQgY29waVx1MDBFOSAhJyk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2ltcG9ydF0gY29weSBwcm9tcHQgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KCdFcnJldXIgY29waWUnKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIERlbGV0ZSBwYWdlIG1vZGFsIGxpc3RlbmVyc1xuICAgIGRlbGV0ZVBhZ2VDYW5jZWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VEZWxldGVQYWdlTW9kYWwpO1xuICAgIGRlbGV0ZVBhZ2VDb25maXJtPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGV4ZWN1dGVEZWxldGVQYWdlKTtcbiAgICBkZWxldGVQYWdlTW9kYWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGlmIChlLnRhcmdldCA9PT0gZGVsZXRlUGFnZU1vZGFsKSBjbG9zZURlbGV0ZVBhZ2VNb2RhbCgpO1xuICAgIH0pO1xuXG4gICAgYmxvY2tMaWJyYXJ5VG9nZ2xlPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAvLyBTaSB1biBncm91cGUgZXN0IHNcdTAwRTlsZWN0aW9ublx1MDBFOSwgbCdham91dCB2aWEgbGEgYmlibGlvdGhcdTAwRThxdWUgZG9pdCBjaWJsZXIgY2UgZ3JvdXBlLlxuICAgICAgLy8gKExhIGRyb3B6b25lIGRlIGdyb3VwZSB1dGlsaXNlIGRcdTAwRTlqXHUwMEUwIGBwZW5kaW5nR3JvdXBJZEZvck5ld0Jsb2NrYC4pXG4gICAgICBpZiAoIWJsb2NrTGlicmFyeU9wZW4pIHtcbiAgICAgICAgY29uc3QgYWN0aXZlID0gZ2V0QWN0aXZlQmxvY2soKTtcbiAgICAgICAgY29uc3QgdHlwZSA9IChhY3RpdmU/LnR5cGUgfHwgJycpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGlmICh0eXBlID09PSAnZ3JvdXBlJyB8fCB0eXBlID09PSAnZ3JvdXAnKSB7XG4gICAgICAgICAgcGVuZGluZ0dyb3VwSWRGb3JOZXdCbG9jayA9IGFjdGl2ZS5pZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZW5kaW5nR3JvdXBJZEZvck5ld0Jsb2NrID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdG9nZ2xlQmxvY2tMaWJyYXJ5KCk7XG4gICAgfSk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIGlmICghYmxvY2tMaWJyYXJ5T3Blbikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoXG4gICAgICAgIGJsb2NrTGlicmFyeT8uY29udGFpbnMoZXZlbnQudGFyZ2V0KSB8fFxuICAgICAgICBibG9ja0xpYnJhcnlUb2dnbGU/LmNvbnRhaW5zKGV2ZW50LnRhcmdldClcbiAgICAgICkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjbG9zZUJsb2NrTGlicmFyeSgpO1xuICAgIH0pO1xuICAgIGJsb2NrQWRkQnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgY29uc3QgdHlwZSA9IGJ1dHRvbi5kYXRhc2V0LmJsb2NrQWRkO1xuICAgICAgICBhZGRCbG9ja0Zyb21MaWJyYXJ5KHR5cGUpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgYmxvY2tEZWxldGVDYW5jZWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY2xvc2VCbG9ja0RlbGV0ZU1vZGFsKCk7XG4gICAgfSk7XG4gICAgYmxvY2tEZWxldGVDb25maXJtPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGlmIChwZW5kaW5nRGVsZXRlQmxvY2tJZCkge1xuICAgICAgICBkZWxldGVCbG9ja0J5SWQocGVuZGluZ0RlbGV0ZUJsb2NrSWQpO1xuICAgICAgfVxuICAgICAgY2xvc2VCbG9ja0RlbGV0ZU1vZGFsKCk7XG4gICAgfSk7XG4gICAgYmxvY2tEZWxldGVNb2RhbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIGlmIChldmVudC50YXJnZXQgPT09IGJsb2NrRGVsZXRlTW9kYWwpIHtcbiAgICAgICAgY2xvc2VCbG9ja0RlbGV0ZU1vZGFsKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgYmxvY2tGb3JtPy5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIChldmVudCkgPT4ge1xuICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgaWYgKCF0YXJnZXQgfHwgIXRhcmdldC5uYW1lKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICh0YXJnZXQubmFtZS5zdGFydHNXaXRoKCdjb2xsZWN0aW9uLWl0ZW0tJykpIHtcbiAgICAgICAgc2F2ZUNvbGxlY3Rpb25DYXJkT3ZlcnJpZGVzKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vIE1pbmkgcHJldmlldyBwb3VyIGdyb3VwZVxuICAgICAgaWYgKHRhcmdldC5uYW1lID09PSAnZ3JvdXAtY29sdW1ucy1tb2JpbGUnIHx8IHRhcmdldC5uYW1lID09PSAnZ3JvdXAtY29sdW1ucy1kZXNrdG9wJykge1xuICAgICAgICBjb25zdCBtb2JpbGVWYWx1ZSA9XG4gICAgICAgICAgYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZ3JvdXAtY29sdW1ucy1tb2JpbGVcIl0nKT8udmFsdWUgfHwgJzEnO1xuICAgICAgICBjb25zdCBkZXNrdG9wVmFsdWUgPVxuICAgICAgICAgIGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImdyb3VwLWNvbHVtbnMtZGVza3RvcFwiXScpPy52YWx1ZSB8fCAnMyc7XG4gICAgICAgIHVwZGF0ZUdyb3VwTWluaVByZXZpZXcobW9iaWxlVmFsdWUsIGRlc2t0b3BWYWx1ZSk7XG4gICAgICB9XG4gICAgICAvLyBNaW5pIHByZXZpZXcgcG91ciBjb2xsZWN0aW9uXG4gICAgICBpZiAodGFyZ2V0Lm5hbWUgPT09ICdjb2xsZWN0aW9uLWNvbHVtbnMtbW9iaWxlJyB8fCB0YXJnZXQubmFtZSA9PT0gJ2NvbGxlY3Rpb24tY29sdW1ucy1kZXNrdG9wJykge1xuICAgICAgICBjb25zdCBtb2JpbGVWYWx1ZSA9XG4gICAgICAgICAgYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiY29sbGVjdGlvbi1jb2x1bW5zLW1vYmlsZVwiXScpPy52YWx1ZSB8fCAnMSc7XG4gICAgICAgIGNvbnN0IGRlc2t0b3BWYWx1ZSA9XG4gICAgICAgICAgYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiY29sbGVjdGlvbi1jb2x1bW5zLWRlc2t0b3BcIl0nKT8udmFsdWUgfHwgJzMnO1xuICAgICAgICB1cGRhdGVDb2xsZWN0aW9uTWluaVByZXZpZXcobW9iaWxlVmFsdWUsIGRlc2t0b3BWYWx1ZSk7XG4gICAgICB9XG4gICAgICAvLyBEXHUwMEU5dGVjdGlvbiBzaSBvbiBlc3QgZGFucyBsZSBwYW5lbCBBcHBhcmVuY2UgXHUyMTkyIGF1dG8tc2F2ZVxuICAgICAgY29uc3QgcGFuZWwgPSB0YXJnZXQuY2xvc2VzdCgnW2RhdGEtYmxvY2stcGFuZWxdJyk7XG4gICAgICBpZiAocGFuZWwgJiYgcGFuZWwuZGF0YXNldC5ibG9ja1BhbmVsID09PSAnYXBwZWFyYW5jZScpIHtcbiAgICAgICAgLy8gQXV0by1zYXZlICsgcmVmcmVzaCBwcmV2aWV3IHBvdXIgbCdhcHBhcmVuY2VcbiAgICAgICAgY29uc3QgYmxvY2sgPSBnZXRBY3RpdmVCbG9jaygpO1xuICAgICAgICBjb25zdCBjb25maWcgPSBnZXRCbG9ja0Zvcm1Db25maWcoYmxvY2spO1xuICAgICAgICBpZiAoYmxvY2sgJiYgY29uZmlnKSB7XG4gICAgICAgICAgY29uc3QgdmFsdWVzID0gY29sbGVjdEZvcm1WYWx1ZXMoY29uZmlnKTtcbiAgICAgICAgICBoYW5kbGVBcHBlYXJhbmNlQ2hhbmdlKGJsb2NrLmlkLCB2YWx1ZXMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgLy8gXHUwMEM5Z2FsZW1lbnQgc3VyICdjaGFuZ2UnIHBvdXIgbGVzIHNlbGVjdHNcbiAgICBibG9ja0Zvcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIChldmVudCkgPT4ge1xuICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgaWYgKCF0YXJnZXQgfHwgIXRhcmdldC5uYW1lKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICh0YXJnZXQubmFtZS5zdGFydHNXaXRoKCdjb2xsZWN0aW9uLWl0ZW0tJykpIHtcbiAgICAgICAgc2F2ZUNvbGxlY3Rpb25DYXJkT3ZlcnJpZGVzKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vIE1pc2UgXHUwMEUwIGpvdXIgZHUgcHJldmlldyBkZSBjb3VsZXVyIHBvdXIgbGVzIGNvbG9yIHNlbGVjdHNcbiAgICAgIGlmICh0YXJnZXQuaGFzQXR0cmlidXRlKCdkYXRhLWNvbG9yLXNlbGVjdCcpKSB7XG4gICAgICAgIGNvbnN0IHNlbGVjdGVkT3B0aW9uID0gdGFyZ2V0Lm9wdGlvbnNbdGFyZ2V0LnNlbGVjdGVkSW5kZXhdO1xuICAgICAgICBjb25zdCBjb2xvciA9IHNlbGVjdGVkT3B0aW9uPy5kYXRhc2V0Py5jb2xvciB8fCAnI2ZmZmZmZic7XG4gICAgICAgIGNvbnN0IGNvbG9yUHJldmlldyA9IHRhcmdldC5jbG9zZXN0KCcucmVsYXRpdmUnKT8ucXVlcnlTZWxlY3RvcignW2RhdGEtY29sb3ItcHJldmlld10nKTtcbiAgICAgICAgaWYgKGNvbG9yUHJldmlldykge1xuICAgICAgICAgIGlmIChjb2xvciA9PT0gJ3RyYW5zcGFyZW50Jykge1xuICAgICAgICAgICAgY29sb3JQcmV2aWV3LnN0eWxlLmJhY2tncm91bmQgPSBUUkFOU1BBUkVOVF9QQVRURVJOO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb2xvclByZXZpZXcuc3R5bGUuYmFja2dyb3VuZCA9IGNvbG9yO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3QgcGFuZWwgPSB0YXJnZXQuY2xvc2VzdCgnW2RhdGEtYmxvY2stcGFuZWxdJyk7XG4gICAgICBpZiAocGFuZWwgJiYgcGFuZWwuZGF0YXNldC5ibG9ja1BhbmVsID09PSAnYXBwZWFyYW5jZScpIHtcbiAgICAgICAgY29uc3QgYmxvY2sgPSBnZXRBY3RpdmVCbG9jaygpO1xuICAgICAgICBjb25zdCBjb25maWcgPSBnZXRCbG9ja0Zvcm1Db25maWcoYmxvY2spO1xuICAgICAgICBpZiAoYmxvY2sgJiYgY29uZmlnKSB7XG4gICAgICAgICAgY29uc3QgdmFsdWVzID0gY29sbGVjdEZvcm1WYWx1ZXMoY29uZmlnKTtcbiAgICAgICAgICBoYW5kbGVBcHBlYXJhbmNlQ2hhbmdlKGJsb2NrLmlkLCB2YWx1ZXMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgY29sbGVjdGlvblNlbGVjdD8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQ7XG4gICAgICBzeW5jQ29sbGVjdGlvblNlbGVjdGlvbkluZm8odGFyZ2V0Py52YWx1ZSB8fCAnJyk7XG4gICAgICBjb25zdCBibG9jayA9IGdldEFjdGl2ZUNvbGxlY3Rpb25HcmlkQmxvY2soKTtcbiAgICAgIGlmIChibG9jaykge1xuICAgICAgICBibG9jay5jb2xsZWN0aW9uSWQgPSB0YXJnZXQ/LnZhbHVlIHx8ICcnO1xuICAgICAgICBibG9jay5zZXR0aW5ncyA9IHsgLi4uKGJsb2NrLnNldHRpbmdzIHx8IHt9KSwgY29sbGVjdGlvbklkOiBibG9jay5jb2xsZWN0aW9uSWQgfTtcbiAgICAgICAgZW5zdXJlQ29sbGVjdGlvbkNhcmRFZGl0b3JSZWFkeShibG9jayk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgY29sbGVjdGlvbkNhcmRJdGVtU2VsZWN0Py5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgICBjb25zdCBibG9jayA9IGdldEFjdGl2ZUNvbGxlY3Rpb25HcmlkQmxvY2soKTtcbiAgICAgIGlmICghYmxvY2spIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgaXRlbUlkID0gZ2V0U2VsZWN0ZWRDb2xsZWN0aW9uQ2FyZEl0ZW1JZCgpO1xuICAgICAgcG9wdWxhdGVDb2xsZWN0aW9uQ2FyZE92ZXJyaWRlRmllbGRzKGJsb2NrLCBpdGVtSWQpO1xuICAgIH0pO1xuICAgIGNvbGxlY3Rpb25DYXJkUmVzZXRCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgc2F2ZUNvbGxlY3Rpb25DYXJkT3ZlcnJpZGVzKHsgcmVzZXQ6IHRydWUgfSk7XG4gICAgfSk7XG4gICAgYmxvY2tGb3JtPy5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBoYW5kbGVCbG9ja0Zvcm1TdWJtaXQpO1xuICAgIGJsb2NrRm9ybUNhbmNlbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBjb25zdCBibG9jayA9IGdldEFjdGl2ZUJsb2NrKCk7XG4gICAgICBpZiAoYmxvY2spIHtcbiAgICAgICAgcG9wdWxhdGVCbG9ja0Zvcm0oYmxvY2spO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChwcmV2aWV3Vmlld0J1dHRvbnMubGVuZ3RoID4gMCkge1xuICAgICAgcHJldmlld1ZpZXdCdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgY29uc3QgdGFyZ2V0VmlldyA9IGJ1dHRvbi5kYXRhc2V0LnByZXZpZXdWaWV3IHx8ICdkZXNrdG9wJztcbiAgICAgICAgICBzZXRQcmV2aWV3Vmlldyh0YXJnZXRWaWV3KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIHNldFByZXZpZXdWaWV3KCdkZXNrdG9wJyk7XG4gICAgfVxuXHQgICAgcHJldmlld0ZyYW1lPy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xuXHQgICAgICBwcmV2aWV3UmVhZHkgPSB0cnVlO1xuXHQgICAgICB1cGRhdGVQcmV2aWV3U3RhdHVzKCdcdTAwQzAgam91cicpO1xuXHQgICAgICBhcHBseVByZXZpZXdIaWdobGlnaHQoYWN0aXZlQmxvY2tJZCk7XG5cblx0ICAgICAgY29uc3QgZG9jID0gcHJldmlld0ZyYW1lPy5jb250ZW50RG9jdW1lbnQ7XG5cdCAgICAgIGlmICghZG9jIHx8ICFjdXJyZW50UGFnZSkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHQgICAgICBpZiAoZG9jLmRvY3VtZW50RWxlbWVudC5kYXRhc2V0LnJhd2RpdFByZXZpZXdTZWxlY3RCb3VuZCA9PT0gJ3RydWUnKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cdCAgICAgIGRvYy5kb2N1bWVudEVsZW1lbnQuZGF0YXNldC5yYXdkaXRQcmV2aWV3U2VsZWN0Qm91bmQgPSAndHJ1ZSc7XG5cblx0ICAgICAgLy8gU3R5bGVzIGxcdTAwRTlnZXJzIHBvdXIgcmVuZHJlIGwnaW50ZXJhY3Rpb24gXHUwMEU5dmlkZW50ZSAoaG92ZXIgKyBjdXJzZXVyKVxuXHQgICAgICBpZiAoIWRvYy5nZXRFbGVtZW50QnlJZCgncmF3ZGl0LXByZXZpZXctc2VsZWN0LXN0eWxlJykpIHtcblx0ICAgICAgICBjb25zdCBzdHlsZSA9IGRvYy5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuXHQgICAgICAgIHN0eWxlLmlkID0gJ3Jhd2RpdC1wcmV2aWV3LXNlbGVjdC1zdHlsZSc7XG5cdCAgICAgICAgc3R5bGUudGV4dENvbnRlbnQgPSBgXG5cdCAgICAgICAgICBbZGF0YS1wcmV2aWV3LWJsb2NrXXsgY3Vyc29yOnBvaW50ZXI7IH1cblx0ICAgICAgICAgIFtkYXRhLXByZXZpZXctYmxvY2tdOmhvdmVyeyBvdXRsaW5lOjJweCBzb2xpZCB2YXIoLS1jb2xvci1hY2NlbnQsICM5QzZCRkYpOyBvdXRsaW5lLW9mZnNldDoycHg7IH1cblx0ICAgICAgICBgO1xuXHQgICAgICAgIGRvYy5oZWFkPy5hcHBlbmRDaGlsZChzdHlsZSk7XG5cdCAgICAgIH1cblxuXHQgICAgICBjb25zdCBpc0dyb3VwVHlwZSA9IChibG9jaykgPT4ge1xuXHQgICAgICAgIGNvbnN0IHQgPSAoYmxvY2s/LnR5cGUgfHwgJycpLnRvTG93ZXJDYXNlKCk7XG5cdCAgICAgICAgcmV0dXJuIHQgPT09ICdncm91cGUnIHx8IHQgPT09ICdncm91cCcgfHwgdCA9PT0gJ3NlY3Rpb25zJyB8fCB0ID09PSAnZ3JpZCc7XG5cdCAgICAgIH07XG5cdCAgICAgIGNvbnN0IGdldFBhcmVudElkRm9yQmxvY2sgPSAoYmxvY2tJZCkgPT4ge1xuXHQgICAgICAgIGlmICghY3VycmVudFBhZ2UgfHwgIWJsb2NrSWQpIHJldHVybiBudWxsO1xuXHQgICAgICAgIGlmICgoY3VycmVudFBhZ2UuYmxvY2tzIHx8IFtdKS5zb21lKChiKSA9PiBiLmlkID09PSBibG9ja0lkKSkge1xuXHQgICAgICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGZvciAoY29uc3QgYiBvZiBjdXJyZW50UGFnZS5ibG9ja3MgfHwgW10pIHtcblx0ICAgICAgICAgIGlmICghaXNHcm91cFR5cGUoYikgfHwgIUFycmF5LmlzQXJyYXkoYi5jaGlsZHJlbikpIGNvbnRpbnVlO1xuXHQgICAgICAgICAgaWYgKGIuY2hpbGRyZW4uc29tZSgoY2hpbGQpID0+IGNoaWxkLmlkID09PSBibG9ja0lkKSkge1xuXHQgICAgICAgICAgICByZXR1cm4gYi5pZDtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICAgIH07XG5cblx0ICAgICAgZG9jLmFkZEV2ZW50TGlzdGVuZXIoXG5cdCAgICAgICAgJ2NsaWNrJyxcblx0ICAgICAgICAoZXZlbnQpID0+IHtcblx0ICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldDtcblx0ICAgICAgICAgIGNvbnN0IGVsID0gdGFyZ2V0Py5jbG9zZXN0Py4oJ1tkYXRhLXByZXZpZXctYmxvY2tdJyk7XG5cdCAgICAgICAgICBjb25zdCBibG9ja0lkID0gZWw/LmdldEF0dHJpYnV0ZT8uKCdkYXRhLXByZXZpZXctYmxvY2snKSB8fCAnJztcblx0ICAgICAgICAgIGlmICghYmxvY2tJZCkgcmV0dXJuO1xuXHQgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0ICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXHQgICAgICAgICAgZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uPy4oKTtcblx0ICAgICAgICAgIGNvbnN0IHBhcmVudElkID0gZ2V0UGFyZW50SWRGb3JCbG9jayhibG9ja0lkKTtcblx0ICAgICAgICAgIHNldEFjdGl2ZUJsb2NrKGJsb2NrSWQsIHBhcmVudElkKTtcblx0ICAgICAgICB9LFxuXHQgICAgICAgIHRydWUsXG5cdCAgICAgICk7XG5cdCAgICB9KTtcbiAgICBwcmV2aWV3T3BlbkJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBwcmV2aWV3V2luZG93ID0gd2luZG93Lm9wZW4oJycsICdfYmxhbmsnKTtcbiAgICAgIGlmICghcHJldmlld1dpbmRvdykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwcmV2aWV3V2luZG93Lm9wZW5lciA9IG51bGw7XG4gICAgICBjb25zdCBkb2MgPSBwcmV2aWV3V2luZG93LmRvY3VtZW50O1xuICAgICAgZG9jLm9wZW4oKTtcbiAgICAgIGRvYy53cml0ZShsYXRlc3RQcmV2aWV3SHRtbCB8fCBnZXRMb2FkaW5nUHJldmlld0h0bWwoKSk7XG4gICAgICBkb2MuY2xvc2UoKTtcbiAgICB9KTtcblxuICAgIC8vIFNFTyBwYW5lbCBsb2dpY1xuICAgIGNvbnN0IHRvZ2dsZVNlb1BhbmVsID0gKHNob3cpID0+IHtcbiAgICAgIGlmICghc2VvUGFuZWwpIHJldHVybjtcbiAgICAgIGlmIChzaG93KSB7XG4gICAgICAgIHNlb1BhbmVsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAvLyBQb3B1bGF0ZSBmaWVsZHMgd2l0aCBjdXJyZW50IHBhZ2UgU0VPIGRhdGFcbiAgICAgICAgaWYgKGN1cnJlbnRQYWdlKSB7XG4gICAgICAgICAgc2VvVGl0bGVJbnB1dCAmJiAoc2VvVGl0bGVJbnB1dC52YWx1ZSA9IGN1cnJlbnRQYWdlLnNlbz8udGl0bGUgfHwgJycpO1xuICAgICAgICAgIHNlb0Rlc2NyaXB0aW9uSW5wdXQgJiYgKHNlb0Rlc2NyaXB0aW9uSW5wdXQudmFsdWUgPSBjdXJyZW50UGFnZS5zZW8/LmRlc2NyaXB0aW9uIHx8ICcnKTtcbiAgICAgICAgICAvLyBpbmRleGVkOiB0cnVlIGJ5IGRlZmF1bHQgaWYgbm90IGV4cGxpY2l0bHkgc2V0IHRvIGZhbHNlXG4gICAgICAgICAgc2VvSW5kZXhlZENoZWNrYm94ICYmIChzZW9JbmRleGVkQ2hlY2tib3guY2hlY2tlZCA9IGN1cnJlbnRQYWdlLnNlbz8uaW5kZXhlZCAhPT0gZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZW9QYW5lbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHNldFNlb0ZlZWRiYWNrID0gKG1lc3NhZ2UsIHRvbmUgPSAnbXV0ZWQnKSA9PiB7XG4gICAgICBpZiAoIXNlb0ZlZWRiYWNrKSByZXR1cm47XG4gICAgICBjb25zdCBjb2xvciA9IHRvbmUgPT09ICdzdWNjZXNzJyA/ICd0ZXh0LWVtZXJhbGQtNjAwJyA6IHRvbmUgPT09ICdlcnJvcicgPyAndGV4dC1yb3NlLTYwMCcgOiAndGV4dC1zbGF0ZS01MDAnO1xuICAgICAgc2VvRmVlZGJhY2sudGV4dENvbnRlbnQgPSBtZXNzYWdlIHx8ICcnO1xuICAgICAgc2VvRmVlZGJhY2suY2xhc3NOYW1lID0gYHRleHQtc20gJHtjb2xvcn1gO1xuICAgIH07XG4gICAgc2VvVG9nZ2xlQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IGlzVmlzaWJsZSA9IHNlb1BhbmVsICYmICFzZW9QYW5lbC5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpO1xuICAgICAgdG9nZ2xlU2VvUGFuZWwoIWlzVmlzaWJsZSk7XG4gICAgfSk7XG4gICAgc2VvQ2xvc2VCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdG9nZ2xlU2VvUGFuZWwoZmFsc2UpKTtcbiAgICBzZW9Gb3JtPy5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlKSB7XG4gICAgICAgIHNldFNlb0ZlZWRiYWNrKCdBdWN1bmUgcGFnZSBhY3RpdmUuJywgJ2Vycm9yJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNlb1NhdmVCdXR0b24gJiYgKHNlb1NhdmVCdXR0b24uZGlzYWJsZWQgPSB0cnVlKTtcbiAgICAgIHNldFNlb0ZlZWRiYWNrKCcnKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHNlb0RhdGEgPSB7XG4gICAgICAgICAgdGl0bGU6IChzZW9UaXRsZUlucHV0Py52YWx1ZSB8fCAnJykudHJpbSgpLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAoc2VvRGVzY3JpcHRpb25JbnB1dD8udmFsdWUgfHwgJycpLnRyaW0oKSxcbiAgICAgICAgICBpbmRleGVkOiBzZW9JbmRleGVkQ2hlY2tib3g/LmNoZWNrZWQgPz8gdHJ1ZSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgdXBkYXRlZFBhZ2UgPSB7IC4uLmN1cnJlbnRQYWdlLCBzZW86IHNlb0RhdGEgfTtcbiAgICAgICAgY29uc3Qgc2F2ZWQgPSBhd2FpdCBzYXZlUGFnZVRvU2VydmVyKHVwZGF0ZWRQYWdlKTtcbiAgICAgICAgaWYgKHNhdmVkKSB7XG4gICAgICAgICAgY3VycmVudFBhZ2UgPSBzYXZlZDtcbiAgICAgICAgICBzZXRTZW9GZWVkYmFjaygnU0VPIGVucmVnaXN0clx1MDBFOS4nLCAnc3VjY2VzcycpO1xuICAgICAgICAgIHNob3dUb2FzdCgnU0VPIG1pcyBcdTAwRTAgam91cicpO1xuICAgICAgICAgIHJlZnJlc2hQcmV2aWV3KGN1cnJlbnRQYWdlKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZW9dIHNhdmUgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2V0U2VvRmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGRlIGxhIHNhdXZlZ2FyZGUuJywgJ2Vycm9yJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZW9TYXZlQnV0dG9uICYmIChzZW9TYXZlQnV0dG9uLmRpc2FibGVkID0gZmFsc2UpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgY29uc3Qgc3luY1BhZ2VBY2Nlc3NpYmlsaXR5RmllbGRzID0gKCkgPT4ge1xuICAgICAgaWYgKCFwYWdlQWNjZXNzaWJpbGl0eU5hdkNoZWNrYm94ICYmICFwYWdlQWNjZXNzaWJpbGl0eU1haW5JbnB1dCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlKSB7XG4gICAgICAgIHBhZ2VBY2Nlc3NpYmlsaXR5TmF2Q2hlY2tib3ggJiYgKHBhZ2VBY2Nlc3NpYmlsaXR5TmF2Q2hlY2tib3guY2hlY2tlZCA9IHRydWUpO1xuICAgICAgICBwYWdlQWNjZXNzaWJpbGl0eU1haW5JbnB1dCAmJiAocGFnZUFjY2Vzc2liaWxpdHlNYWluSW5wdXQudmFsdWUgPSAnJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChwYWdlQWNjZXNzaWJpbGl0eU5hdkNoZWNrYm94KSB7XG4gICAgICAgIHBhZ2VBY2Nlc3NpYmlsaXR5TmF2Q2hlY2tib3guY2hlY2tlZCA9XG4gICAgICAgICAgY3VycmVudFBhZ2UuYWNjZXNzaWJpbGl0eT8uc2hvd0luTWFpbk5hdiAhPT0gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAocGFnZUFjY2Vzc2liaWxpdHlNYWluSW5wdXQpIHtcbiAgICAgICAgcGFnZUFjY2Vzc2liaWxpdHlNYWluSW5wdXQudmFsdWUgPSBjdXJyZW50UGFnZS5hY2Nlc3NpYmlsaXR5Py5tYWluTGFiZWwgfHwgJyc7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHRvZ2dsZVBhZ2VBY2Nlc3NpYmlsaXR5UGFuZWwgPSAoc2hvdykgPT4ge1xuICAgICAgaWYgKCFwYWdlQWNjZXNzaWJpbGl0eVBhbmVsKSByZXR1cm47XG4gICAgICBpZiAoc2hvdykge1xuICAgICAgICBzeW5jUGFnZUFjY2Vzc2liaWxpdHlGaWVsZHMoKTtcbiAgICAgICAgcGFnZUFjY2Vzc2liaWxpdHlQYW5lbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhZ2VBY2Nlc3NpYmlsaXR5UGFuZWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHNldFBhZ2VBY2Nlc3NpYmlsaXR5RmVlZGJhY2sgPSAobWVzc2FnZSwgdG9uZSA9ICdtdXRlZCcpID0+IHtcbiAgICAgIGlmICghcGFnZUFjY2Vzc2liaWxpdHlGZWVkYmFjaykgcmV0dXJuO1xuICAgICAgY29uc3QgY29sb3IgPVxuICAgICAgICB0b25lID09PSAnc3VjY2VzcydcbiAgICAgICAgICA/ICd0ZXh0LWVtZXJhbGQtNjAwJ1xuICAgICAgICAgIDogdG9uZSA9PT0gJ2Vycm9yJ1xuICAgICAgICAgICAgPyAndGV4dC1yb3NlLTYwMCdcbiAgICAgICAgICAgIDogJ3RleHQtc2xhdGUtNTAwJztcbiAgICAgIHBhZ2VBY2Nlc3NpYmlsaXR5RmVlZGJhY2sudGV4dENvbnRlbnQgPSBtZXNzYWdlIHx8ICcnO1xuICAgICAgcGFnZUFjY2Vzc2liaWxpdHlGZWVkYmFjay5jbGFzc05hbWUgPSBgdGV4dC1zbSAke2NvbG9yfWA7XG4gICAgfTtcblxuICAgIHBhZ2VBY2Nlc3NpYmlsaXR5VG9nZ2xlQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IGlzVmlzaWJsZSA9XG4gICAgICAgIHBhZ2VBY2Nlc3NpYmlsaXR5UGFuZWwgJiYgIXBhZ2VBY2Nlc3NpYmlsaXR5UGFuZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdoaWRkZW4nKTtcbiAgICAgIHRvZ2dsZVBhZ2VBY2Nlc3NpYmlsaXR5UGFuZWwoIWlzVmlzaWJsZSk7XG4gICAgfSk7XG4gICAgcGFnZUFjY2Vzc2liaWxpdHlDbG9zZUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PlxuICAgICAgdG9nZ2xlUGFnZUFjY2Vzc2liaWxpdHlQYW5lbChmYWxzZSksXG4gICAgKTtcblxuICAgIHBhZ2VBY2Nlc3NpYmlsaXR5Rm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSkge1xuICAgICAgICBzZXRQYWdlQWNjZXNzaWJpbGl0eUZlZWRiYWNrKCdBdWN1bmUgcGFnZSBhY3RpdmUuJywgJ2Vycm9yJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHBhZ2VBY2Nlc3NpYmlsaXR5U2F2ZUJ1dHRvbiAmJiAocGFnZUFjY2Vzc2liaWxpdHlTYXZlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZSk7XG4gICAgICBzZXRQYWdlQWNjZXNzaWJpbGl0eUZlZWRiYWNrKCcnKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGFjY2Vzc2liaWxpdHlEYXRhID0ge1xuICAgICAgICAgIHNob3dJbk1haW5OYXY6IHBhZ2VBY2Nlc3NpYmlsaXR5TmF2Q2hlY2tib3g/LmNoZWNrZWQgPz8gdHJ1ZSxcbiAgICAgICAgICBtYWluTGFiZWw6IChwYWdlQWNjZXNzaWJpbGl0eU1haW5JbnB1dD8udmFsdWUgfHwgJycpLnRyaW0oKSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgdXBkYXRlZFBhZ2UgPSB7XG4gICAgICAgICAgLi4uY3VycmVudFBhZ2UsXG4gICAgICAgICAgYWNjZXNzaWJpbGl0eTogYWNjZXNzaWJpbGl0eURhdGEsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHNhdmVkID0gYXdhaXQgc2F2ZVBhZ2VUb1NlcnZlcih1cGRhdGVkUGFnZSk7XG4gICAgICAgIGlmIChzYXZlZCkge1xuICAgICAgICAgIGN1cnJlbnRQYWdlID0gc2F2ZWQ7XG4gICAgICAgICAgc3luY1BhZ2VBY2Nlc3NpYmlsaXR5RmllbGRzKCk7XG4gICAgICAgICAgc2V0UGFnZUFjY2Vzc2liaWxpdHlGZWVkYmFjaygnQWNjZXNzaWJpbGl0XHUwMEU5IGVucmVnaXN0clx1MDBFOWUuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgICBzaG93VG9hc3QoJ0FjY2Vzc2liaWxpdFx1MDBFOSBtaXNlIFx1MDBFMCBqb3VyJyk7XG4gICAgICAgICAgcmVuZGVyUGFnZUxpc3RzKHBhZ2VzLCBhY3RpdmVQYWdlSWQpO1xuICAgICAgICAgIHJlZnJlc2hQcmV2aWV3KGN1cnJlbnRQYWdlKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1thY2Nlc3NpYmlsaXR5XSBzYXZlIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNldFBhZ2VBY2Nlc3NpYmlsaXR5RmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGRlIGxhIHNhdXZlZ2FyZGUuJywgJ2Vycm9yJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBwYWdlQWNjZXNzaWJpbGl0eVNhdmVCdXR0b24gJiYgKHBhZ2VBY2Nlc3NpYmlsaXR5U2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIFBhZ2UgcHJvcGVydGllcyBwYW5lbCBsb2dpY1xuICAgIGNvbnN0IGdldFBhZ2VTbHVnU2VnbWVudCA9IChzbHVnVmFsdWUpID0+IHtcbiAgICAgIGNvbnN0IHJhdyA9IHR5cGVvZiBzbHVnVmFsdWUgPT09ICdzdHJpbmcnID8gc2x1Z1ZhbHVlLnRyaW0oKSA6ICcnO1xuICAgICAgaWYgKCFyYXcgfHwgcmF3ID09PSAnLycpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfVxuICAgICAgY29uc3Qgbm9ybWFsaXplZFNlcGFyYXRvcnMgPSByYXcucmVwbGFjZSgvXFxcXC9nLCAnLycpO1xuICAgICAgY29uc3QgdHJpbW1lZCA9IG5vcm1hbGl6ZWRTZXBhcmF0b3JzLnJlcGxhY2UoL15cXC8rfFxcLyskL2csICcnKTtcbiAgICAgIGlmICghdHJpbW1lZCkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgICB9XG4gICAgICBjb25zdCBwYXJ0cyA9IHRyaW1tZWQuc3BsaXQoJy8nKS5maWx0ZXIoQm9vbGVhbik7XG4gICAgICByZXR1cm4gcGFydHNbcGFydHMubGVuZ3RoIC0gMV0gfHwgJyc7XG4gICAgfTtcbiAgICBjb25zdCBidWlsZFNsdWdGcm9tUGFyZW50QW5kU2VnbWVudCA9IChwYXJlbnRTbHVnVmFsdWUsIHNlZ21lbnRWYWx1ZSkgPT4ge1xuICAgICAgY29uc3Qgbm9ybWFsaXplZFNlZ21lbnQgPSB3b3Jrc3BhY2VTbHVnaWZ5KChzZWdtZW50VmFsdWUgfHwgJycpLnRyaW0oKSk7XG4gICAgICBpZiAoIW5vcm1hbGl6ZWRTZWdtZW50KSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICAgIH1cbiAgICAgIGNvbnN0IHBhcmVudFNsdWcgPSBub3JtYWxpemVQYWdlU2x1ZyhwYXJlbnRTbHVnVmFsdWUgfHwgJy8nKTtcbiAgICAgIGlmICghcGFyZW50U2x1ZyB8fCBwYXJlbnRTbHVnID09PSAnLycpIHtcbiAgICAgICAgcmV0dXJuIGAvJHtub3JtYWxpemVkU2VnbWVudH1gO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5vcm1hbGl6ZVBhZ2VTbHVnKGAke3BhcmVudFNsdWd9LyR7bm9ybWFsaXplZFNlZ21lbnR9YCk7XG4gICAgfTtcbiAgICBjb25zdCBnZXREZXNjZW5kYW50SWRzID0gKHBhZ2VzTGlzdCwgcm9vdElkKSA9PiB7XG4gICAgICBjb25zdCBjaGlsZHJlbkJ5UGFyZW50ID0gbmV3IE1hcCgpO1xuICAgICAgKHBhZ2VzTGlzdCB8fCBbXSkuZm9yRWFjaCgocGFnZSkgPT4ge1xuICAgICAgICBjb25zdCBwYXJlbnRJZCA9XG4gICAgICAgICAgcGFnZT8ucGFyZW50SWQgJiYgdHlwZW9mIHBhZ2UucGFyZW50SWQgPT09ICdzdHJpbmcnICYmIHBhZ2UucGFyZW50SWQudHJpbSgpXG4gICAgICAgICAgICA/IHBhZ2UucGFyZW50SWQudHJpbSgpXG4gICAgICAgICAgICA6IG51bGw7XG4gICAgICAgIGlmICghY2hpbGRyZW5CeVBhcmVudC5oYXMocGFyZW50SWQpKSB7XG4gICAgICAgICAgY2hpbGRyZW5CeVBhcmVudC5zZXQocGFyZW50SWQsIFtdKTtcbiAgICAgICAgfVxuICAgICAgICBjaGlsZHJlbkJ5UGFyZW50LmdldChwYXJlbnRJZCkucHVzaChwYWdlLmlkKTtcbiAgICAgIH0pO1xuICAgICAgY29uc3QgdmlzaXRlZCA9IG5ldyBTZXQoKTtcbiAgICAgIGNvbnN0IHN0YWNrID0gW3Jvb3RJZF07XG4gICAgICB3aGlsZSAoc3RhY2subGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBjdXJyZW50ID0gc3RhY2sucG9wKCk7XG4gICAgICAgIGNvbnN0IGNoaWxkcmVuID0gY2hpbGRyZW5CeVBhcmVudC5nZXQoY3VycmVudCkgfHwgW107XG4gICAgICAgIGNoaWxkcmVuLmZvckVhY2goKGNoaWxkSWQpID0+IHtcbiAgICAgICAgICBpZiAoIWNoaWxkSWQgfHwgdmlzaXRlZC5oYXMoY2hpbGRJZCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmlzaXRlZC5hZGQoY2hpbGRJZCk7XG4gICAgICAgICAgc3RhY2sucHVzaChjaGlsZElkKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmlzaXRlZDtcbiAgICB9O1xuICAgIGNvbnN0IHJlbmRlclBhcmVudFNlbGVjdE9wdGlvbnMgPSAoeyBwYWdlc0xpc3QsIGN1cnJlbnQgfSkgPT4ge1xuICAgICAgaWYgKCFwYWdlUGFyZW50U2VsZWN0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGN1cnJlbnRJZCA9IGN1cnJlbnQ/LmlkIHx8ICcnO1xuICAgICAgY29uc3QgZm9yYmlkZGVuID0gY3VycmVudElkID8gZ2V0RGVzY2VuZGFudElkcyhwYWdlc0xpc3QsIGN1cnJlbnRJZCkgOiBuZXcgU2V0KCk7XG4gICAgICBwYWdlUGFyZW50U2VsZWN0LmlubmVySFRNTCA9ICc8b3B0aW9uIHZhbHVlPVwiXCI+QXVjdW5lIChuaXZlYXUgcmFjaW5lKTwvb3B0aW9uPic7XG4gICAgICBjb25zdCBvcHRpb25zID0gKHBhZ2VzTGlzdCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigocGFnZSkgPT4gcGFnZT8uaWQgJiYgcGFnZS5pZCAhPT0gY3VycmVudElkICYmICFmb3JiaWRkZW4uaGFzKHBhZ2UuaWQpKVxuICAgICAgICAuc2xpY2UoKVxuICAgICAgICAuc29ydCgoYSwgYikgPT4gKGEuc2x1ZyB8fCAnJykubG9jYWxlQ29tcGFyZShiLnNsdWcgfHwgJycpKTtcbiAgICAgIG9wdGlvbnMuZm9yRWFjaCgocGFnZSkgPT4ge1xuICAgICAgICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgICAgb3B0aW9uLnZhbHVlID0gcGFnZS5pZDtcbiAgICAgICAgb3B0aW9uLnRleHRDb250ZW50ID0gYCR7cGFnZS5uYW1lIHx8IHBhZ2UudGl0bGUgfHwgcGFnZS5pZH0gXHUyMDE0ICR7cGFnZS5zbHVnIHx8ICcvJ31gO1xuICAgICAgICBwYWdlUGFyZW50U2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbik7XG4gICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IHN5bmNTbHVnRmllbGRzID0gKCkgPT4ge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBjdXJyZW50U2x1ZyA9IGN1cnJlbnRQYWdlLnNsdWcgfHwgJy8nO1xuICAgICAgY29uc3QgaXNIb21lID0gY3VycmVudFNsdWcgPT09ICcvJztcblxuICAgICAgaWYgKGlzSG9tZSkge1xuICAgICAgICBwYWdlUGFyZW50U2VsZWN0ICYmIChwYWdlUGFyZW50U2VsZWN0LnZhbHVlID0gJycpO1xuICAgICAgICBwYWdlU2x1Z1NlZ21lbnRJbnB1dCAmJiAocGFnZVNsdWdTZWdtZW50SW5wdXQudmFsdWUgPSAnJyk7XG4gICAgICAgIHBhZ2VTbHVnSW5wdXQgJiYgKHBhZ2VTbHVnSW5wdXQudmFsdWUgPSAnLycpO1xuICAgICAgICBwYWdlUGFyZW50U2VsZWN0ICYmIChwYWdlUGFyZW50U2VsZWN0LmRpc2FibGVkID0gdHJ1ZSk7XG4gICAgICAgIHBhZ2VTbHVnU2VnbWVudElucHV0ICYmIChwYWdlU2x1Z1NlZ21lbnRJbnB1dC5kaXNhYmxlZCA9IHRydWUpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHBhZ2VQYXJlbnRTZWxlY3QgJiYgKHBhZ2VQYXJlbnRTZWxlY3QuZGlzYWJsZWQgPSBmYWxzZSk7XG4gICAgICBwYWdlU2x1Z1NlZ21lbnRJbnB1dCAmJiAocGFnZVNsdWdTZWdtZW50SW5wdXQuZGlzYWJsZWQgPSBmYWxzZSk7XG5cbiAgICAgIGNvbnN0IHBhZ2VzQnlJZCA9IG5ldyBNYXAoKHBhZ2VzIHx8IFtdKS5tYXAoKHBhZ2UpID0+IFtwYWdlLmlkLCBwYWdlXSkpO1xuICAgICAgY29uc3Qgc2VsZWN0ZWRQYXJlbnRJZCA9IChwYWdlUGFyZW50U2VsZWN0Py52YWx1ZSB8fCAnJykudHJpbSgpO1xuICAgICAgY29uc3QgcGFyZW50U2x1ZyA9IHNlbGVjdGVkUGFyZW50SWQgPyBwYWdlc0J5SWQuZ2V0KHNlbGVjdGVkUGFyZW50SWQpPy5zbHVnIHx8ICcvJyA6ICcvJztcbiAgICAgIGNvbnN0IHNlZ21lbnQgPSAocGFnZVNsdWdTZWdtZW50SW5wdXQ/LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICBjb25zdCBjb21wdXRlZCA9IGJ1aWxkU2x1Z0Zyb21QYXJlbnRBbmRTZWdtZW50KHBhcmVudFNsdWcsIHNlZ21lbnQpO1xuICAgICAgcGFnZVNsdWdJbnB1dCAmJiAocGFnZVNsdWdJbnB1dC52YWx1ZSA9IGNvbXB1dGVkIHx8ICcnKTtcbiAgICB9O1xuICAgIGNvbnN0IHRvZ2dsZVBhZ2VQcm9wc1BhbmVsID0gKHNob3cpID0+IHtcbiAgICAgIGlmICghcGFnZVByb3BzUGFuZWwpIHJldHVybjtcbiAgICAgIGlmIChzaG93KSB7XG4gICAgICAgIHBhZ2VQcm9wc1BhbmVsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICBpZiAoY3VycmVudFBhZ2UpIHtcbiAgICAgICAgICBwYWdlTmFtZUlucHV0ICYmIChwYWdlTmFtZUlucHV0LnZhbHVlID0gY3VycmVudFBhZ2UubmFtZSB8fCAnJyk7XG4gICAgICAgICAgcGFnZVRpdGxlSW5wdXQgJiYgKHBhZ2VUaXRsZUlucHV0LnZhbHVlID0gY3VycmVudFBhZ2UudGl0bGUgfHwgJycpO1xuICAgICAgICAgIHJlbmRlclBhcmVudFNlbGVjdE9wdGlvbnMoeyBwYWdlc0xpc3Q6IHBhZ2VzLCBjdXJyZW50OiBjdXJyZW50UGFnZSB9KTtcbiAgICAgICAgICBwYWdlUGFyZW50U2VsZWN0ICYmIChwYWdlUGFyZW50U2VsZWN0LnZhbHVlID0gY3VycmVudFBhZ2UucGFyZW50SWQgfHwgJycpO1xuICAgICAgICAgIHBhZ2VTbHVnU2VnbWVudElucHV0ICYmXG4gICAgICAgICAgICAocGFnZVNsdWdTZWdtZW50SW5wdXQudmFsdWUgPSBnZXRQYWdlU2x1Z1NlZ21lbnQoY3VycmVudFBhZ2Uuc2x1ZyB8fCAnJykpO1xuICAgICAgICAgIHN5bmNTbHVnRmllbGRzKCk7XG4gICAgICAgICAgcGFnZURlc2NyaXB0aW9uSW5wdXQgJiYgKHBhZ2VEZXNjcmlwdGlvbklucHV0LnZhbHVlID0gY3VycmVudFBhZ2UuZGVzY3JpcHRpb24gfHwgJycpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYWdlUHJvcHNQYW5lbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHNldFBhZ2VQcm9wc0ZlZWRiYWNrID0gKG1lc3NhZ2UsIHRvbmUgPSAnbXV0ZWQnKSA9PiB7XG4gICAgICBpZiAoIXBhZ2VQcm9wc0ZlZWRiYWNrKSByZXR1cm47XG4gICAgICBjb25zdCBjb2xvciA9IHRvbmUgPT09ICdzdWNjZXNzJyA/ICd0ZXh0LWVtZXJhbGQtNjAwJyA6IHRvbmUgPT09ICdlcnJvcicgPyAndGV4dC1yb3NlLTYwMCcgOiAndGV4dC1zbGF0ZS01MDAnO1xuICAgICAgcGFnZVByb3BzRmVlZGJhY2sudGV4dENvbnRlbnQgPSBtZXNzYWdlIHx8ICcnO1xuICAgICAgcGFnZVByb3BzRmVlZGJhY2suY2xhc3NOYW1lID0gYHRleHQtc20gJHtjb2xvcn1gO1xuICAgIH07XG4gICAgcGFnZVByb3BzVG9nZ2xlQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IGlzVmlzaWJsZSA9IHBhZ2VQcm9wc1BhbmVsICYmICFwYWdlUHJvcHNQYW5lbC5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpO1xuICAgICAgdG9nZ2xlUGFnZVByb3BzUGFuZWwoIWlzVmlzaWJsZSk7XG4gICAgfSk7XG4gICAgcGFnZVByb3BzQ2xvc2VCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdG9nZ2xlUGFnZVByb3BzUGFuZWwoZmFsc2UpKTtcbiAgICBwYWdlUGFyZW50U2VsZWN0Py5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgICBzeW5jU2x1Z0ZpZWxkcygpO1xuICAgIH0pO1xuICAgIHBhZ2VTbHVnU2VnbWVudElucHV0Py5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICAgIHN5bmNTbHVnRmllbGRzKCk7XG4gICAgfSk7XG4gICAgcGFnZVByb3BzRm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSkge1xuICAgICAgICBzZXRQYWdlUHJvcHNGZWVkYmFjaygnQXVjdW5lIHBhZ2UgYWN0aXZlLicsICdlcnJvcicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwYWdlUHJvcHNTYXZlQnV0dG9uICYmIChwYWdlUHJvcHNTYXZlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZSk7XG4gICAgICBzZXRQYWdlUHJvcHNGZWVkYmFjaygnJyk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBuZXdOYW1lID0gKHBhZ2VOYW1lSW5wdXQ/LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICAgIGNvbnN0IG5ld1RpdGxlID0gKHBhZ2VUaXRsZUlucHV0Py52YWx1ZSB8fCAnJykudHJpbSgpO1xuICAgICAgICBjb25zdCBuZXdEZXNjcmlwdGlvbiA9IChwYWdlRGVzY3JpcHRpb25JbnB1dD8udmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgICAgY29uc3QgcmVxdWVzdGVkUGFyZW50SWQgPSAocGFnZVBhcmVudFNlbGVjdD8udmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgICAgY29uc3QgbmV3UGFyZW50SWQgPSByZXF1ZXN0ZWRQYXJlbnRJZCA/IHJlcXVlc3RlZFBhcmVudElkIDogbnVsbDtcbiAgICAgICAgY29uc3QgbmV3U2VnbWVudCA9IChwYWdlU2x1Z1NlZ21lbnRJbnB1dD8udmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgICAgY29uc3QgY3VycmVudFNsdWcgPSBjdXJyZW50UGFnZS5zbHVnIHx8ICcvJztcbiAgICAgICAgY29uc3QgY29tcHV0ZWRTbHVnID1cbiAgICAgICAgICBjdXJyZW50U2x1ZyA9PT0gJy8nXG4gICAgICAgICAgICA/ICcvJ1xuICAgICAgICAgICAgOiAocGFnZVNsdWdJbnB1dD8udmFsdWUgfHwgJycpLnRyaW0oKSB8fFxuICAgICAgICAgICAgICBidWlsZFNsdWdGcm9tUGFyZW50QW5kU2VnbWVudChcbiAgICAgICAgICAgICAgICBuZXdQYXJlbnRJZCA/IChwYWdlcy5maW5kKChwKSA9PiBwLmlkID09PSBuZXdQYXJlbnRJZCk/LnNsdWcgfHwgJy8nKSA6ICcvJyxcbiAgICAgICAgICAgICAgICBuZXdTZWdtZW50LFxuICAgICAgICAgICAgICApO1xuICAgICAgICBcbiAgICAgICAgLy8gVmFsaWRhdGlvbiBiYXNpcXVlXG4gICAgICAgIGlmICghbmV3VGl0bGUpIHtcbiAgICAgICAgICBzZXRQYWdlUHJvcHNGZWVkYmFjaygnTGUgdGl0cmUgZXN0IHJlcXVpcy4nLCAnZXJyb3InKTtcbiAgICAgICAgICBwYWdlUHJvcHNTYXZlQnV0dG9uICYmIChwYWdlUHJvcHNTYXZlQnV0dG9uLmRpc2FibGVkID0gZmFsc2UpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY3VycmVudFNsdWcgIT09ICcvJyAmJiAhd29ya3NwYWNlU2x1Z2lmeShuZXdTZWdtZW50KSkge1xuICAgICAgICAgIHNldFBhZ2VQcm9wc0ZlZWRiYWNrKCdMZSBzZWdtZW50IGVzdCByZXF1aXMuJywgJ2Vycm9yJyk7XG4gICAgICAgICAgcGFnZVByb3BzU2F2ZUJ1dHRvbiAmJiAocGFnZVByb3BzU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFjb21wdXRlZFNsdWcgfHwgIWNvbXB1dGVkU2x1Zy5zdGFydHNXaXRoKCcvJykpIHtcbiAgICAgICAgICBzZXRQYWdlUHJvcHNGZWVkYmFjaygnVVJMIGludmFsaWRlLicsICdlcnJvcicpO1xuICAgICAgICAgIHBhZ2VQcm9wc1NhdmVCdXR0b24gJiYgKHBhZ2VQcm9wc1NhdmVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjdXJyZW50U2x1ZyA9PT0gJy8nICYmIG5ld1BhcmVudElkKSB7XG4gICAgICAgICAgc2V0UGFnZVByb3BzRmVlZGJhY2soJ0xhIHBhZ2UgZFx1MjAxOWFjY3VlaWwgbmUgcGV1dCBwYXMgYXZvaXIgZGUgcGFyZW50LicsICdlcnJvcicpO1xuICAgICAgICAgIHBhZ2VQcm9wc1NhdmVCdXR0b24gJiYgKHBhZ2VQcm9wc1NhdmVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYWdlcy5zb21lKChwYWdlKSA9PiBwYWdlLnNsdWcgPT09IGNvbXB1dGVkU2x1ZyAmJiBwYWdlLmlkICE9PSBjdXJyZW50UGFnZS5pZCkpIHtcbiAgICAgICAgICBzZXRQYWdlUHJvcHNGZWVkYmFjaygnQ2V0dGUgVVJMIGVzdCBkXHUwMEU5alx1MDBFMCB1dGlsaXNcdTAwRTllIHBhciB1bmUgYXV0cmUgcGFnZS4nLCAnZXJyb3InKTtcbiAgICAgICAgICBwYWdlUHJvcHNTYXZlQnV0dG9uICYmIChwYWdlUHJvcHNTYXZlQnV0dG9uLmRpc2FibGVkID0gZmFsc2UpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgY29uc3QgdXBkYXRlZFBhZ2UgPSB7XG4gICAgICAgICAgLi4uY3VycmVudFBhZ2UsXG4gICAgICAgICAgbmFtZTogbmV3TmFtZSB8fCBuZXdUaXRsZSwgLy8gRmFsbGJhY2sgdG8gdGl0bGUgaWYgbmFtZSBpcyBlbXB0eVxuICAgICAgICAgIHRpdGxlOiBuZXdUaXRsZSxcbiAgICAgICAgICBwYXJlbnRJZDogbmV3UGFyZW50SWQsXG4gICAgICAgICAgc2x1ZzogY29tcHV0ZWRTbHVnLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBuZXdEZXNjcmlwdGlvbixcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3Qgc2F2ZWQgPSBhd2FpdCBzYXZlUGFnZVRvU2VydmVyKHVwZGF0ZWRQYWdlKTtcbiAgICAgICAgaWYgKHNhdmVkKSB7XG4gICAgICAgICAgY3VycmVudFBhZ2UgPSBzYXZlZDtcbiAgICAgICAgICAvLyBVcGRhdGUgcGFnZXMgYXJyYXlcbiAgICAgICAgICBwYWdlcyA9IHBhZ2VzLm1hcCgocCkgPT4gKHAuaWQgPT09IHNhdmVkLmlkID8gc2F2ZWQgOiBwKSk7XG4gICAgICAgICAgc2V0UGFnZVByb3BzRmVlZGJhY2soJ1Byb3ByaVx1MDBFOXRcdTAwRTlzIGVucmVnaXN0clx1MDBFOWVzLicsICdzdWNjZXNzJyk7XG4gICAgICAgICAgc2hvd1RvYXN0KCdQYWdlIG1pc2UgXHUwMEUwIGpvdXInKTtcbiAgICAgICAgICAvLyBVcGRhdGUgVUlcbiAgICAgICAgICBzZXRBY3RpdmVMYWJlbHMoY3VycmVudFBhZ2UpO1xuICAgICAgICAgIHJlbmRlclBhZ2VMaXN0cyhwYWdlcywgYWN0aXZlUGFnZUlkKTtcbiAgICAgICAgICByZWZyZXNoUHJldmlldyhjdXJyZW50UGFnZSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbcGFnZS1wcm9wc10gc2F2ZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzZXRQYWdlUHJvcHNGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZGUgbGEgc2F1dmVnYXJkZS4nLCAnZXJyb3InKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHBhZ2VQcm9wc1NhdmVCdXR0b24gJiYgKHBhZ2VQcm9wc1NhdmVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZSk7XG4gICAgICB9XG4gICAgfSk7XG5cblx0ICAgIGNvbnN0IGhhbmRsZUJsb2NrRHJhZ1N0YXJ0ID0gKGV2ZW50KSA9PiB7XG5cdCAgICAgIGNvbnN0IGl0ZW0gPSBldmVudC50YXJnZXQuY2xvc2VzdCgnW2RhdGEtYmxvY2staXRlbV0nKTtcblx0ICAgICAgaWYgKCFpdGVtIHx8ICFpc0Rlc2t0b3BSZW9yZGVyKCkpIHtcblx0ICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHQgICAgICBkcmFnU291cmNlSWQgPSBpdGVtLmRhdGFzZXQuYmxvY2tJZCB8fCBudWxsO1xuXHQgICAgICBkcmFnU291cmNlUGFyZW50SWQgPSBpdGVtLmRhdGFzZXQucGFyZW50QmxvY2tJZCB8fCBudWxsO1xuXHQgICAgICBpZiAoIWRyYWdTb3VyY2VJZCkge1xuXHQgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cdCAgICAgIGV2ZW50LmRhdGFUcmFuc2Zlci5lZmZlY3RBbGxvd2VkID0gJ21vdmUnO1xuXHQgICAgICBldmVudC5kYXRhVHJhbnNmZXIuc2V0RGF0YSgndGV4dC9wbGFpbicsIGRyYWdTb3VyY2VJZCk7XG5cdCAgICAgIGV2ZW50LmRhdGFUcmFuc2Zlci5zZXREYXRhKCdhcHBsaWNhdGlvbi94LXJhd2RpdC1wYXJlbnQnLCBkcmFnU291cmNlUGFyZW50SWQgfHwgJycpO1xuXHQgICAgICAvLyBTdHlsZSBkdSBibG9jIGVuIGNvdXJzIGRlIGRyYWdcblx0ICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcblx0ICAgICAgICBpdGVtLmNsYXNzTGlzdC5hZGQoJ29wYWNpdHktNTAnLCAnc2NhbGUtWzAuOThdJywgJ3NoYWRvdy1sZycsICdyaW5nLTInLCAncmluZy1bIzlDNkJGRl0nKTtcblx0ICAgICAgfSk7XG5cdCAgICB9O1xuICAgIGNvbnN0IGNsZWFyRHJhZ0luZGljYXRvcnMgPSAoKSA9PiB7XG4gICAgICBibG9ja0xpc3RcbiAgICAgICAgPy5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1ibG9jay1pdGVtXScpXG4gICAgICAgIC5mb3JFYWNoKChub2RlKSA9PiB7XG4gICAgICAgICAgbm9kZS5jbGFzc0xpc3QucmVtb3ZlKFxuICAgICAgICAgICAgJ29wYWNpdHktNTAnLCAnc2NhbGUtWzAuOThdJywgJ3NoYWRvdy1sZycsICdyaW5nLTInLCAncmluZy1bIzlDNkJGRl0nLFxuICAgICAgICAgICAgJ2JvcmRlci10LTQnLCAnYm9yZGVyLWItNCcsICdib3JkZXItdC1bIzlDNkJGRl0nLCAnYm9yZGVyLWItWyM5QzZCRkZdJyxcbiAgICAgICAgICAgICdwdC02JywgJ3BiLTYnXG4gICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblx0ICAgIGNvbnN0IGhhbmRsZUJsb2NrRHJhZ0VuZCA9ICgpID0+IHtcblx0ICAgICAgZHJhZ1NvdXJjZUlkID0gbnVsbDtcblx0ICAgICAgZHJhZ1NvdXJjZVBhcmVudElkID0gbnVsbDtcblx0ICAgICAgY2xlYXJEcmFnSW5kaWNhdG9ycygpO1xuXHQgICAgfTtcbiAgICBjb25zdCBoYW5kbGVCbG9ja0RyYWdPdmVyID0gKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoIWRyYWdTb3VyY2VJZCB8fCAhaXNEZXNrdG9wUmVvcmRlcigpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCdbZGF0YS1ibG9jay1pdGVtXScpO1xuICAgICAgaWYgKCF0YXJnZXQgfHwgdGFyZ2V0LmRhdGFzZXQuYmxvY2tJZCA9PT0gZHJhZ1NvdXJjZUlkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBldmVudC5kYXRhVHJhbnNmZXIuZHJvcEVmZmVjdCA9ICdtb3ZlJztcbiAgICAgIC8vIERcdTAwRTl0ZXJtaW5lIHNpIG9uIGRyb3AgYXZhbnQgb3UgYXByXHUwMEU4c1xuICAgICAgY29uc3QgcmVjdCA9IHRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIGNvbnN0IG1pZFkgPSByZWN0LnRvcCArIHJlY3QuaGVpZ2h0IC8gMjtcbiAgICAgIGNvbnN0IGlzQWJvdmUgPSBldmVudC5jbGllbnRZIDwgbWlkWTtcbiAgICAgIC8vIE5ldHRvaWUgbGVzIGF1dHJlcyBpbmRpY2F0ZXVyc1xuICAgICAgYmxvY2tMaXN0Py5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1ibG9jay1pdGVtXScpLmZvckVhY2goKG5vZGUpID0+IHtcbiAgICAgICAgaWYgKG5vZGUgIT09IHRhcmdldCAmJiBub2RlLmRhdGFzZXQuYmxvY2tJZCAhPT0gZHJhZ1NvdXJjZUlkKSB7XG4gICAgICAgICAgbm9kZS5jbGFzc0xpc3QucmVtb3ZlKCdib3JkZXItdC00JywgJ2JvcmRlci1iLTQnLCAnYm9yZGVyLXQtWyM5QzZCRkZdJywgJ2JvcmRlci1iLVsjOUM2QkZGXScsICdwdC02JywgJ3BiLTYnKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICAvLyBBcHBsaXF1ZSBsJ2luZGljYXRldXIgZGUgcG9zaXRpb25cbiAgICAgIHRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKCdib3JkZXItdC00JywgJ2JvcmRlci1iLTQnLCAnYm9yZGVyLXQtWyM5QzZCRkZdJywgJ2JvcmRlci1iLVsjOUM2QkZGXScsICdwdC02JywgJ3BiLTYnKTtcbiAgICAgIGlmIChpc0Fib3ZlKSB7XG4gICAgICAgIHRhcmdldC5jbGFzc0xpc3QuYWRkKCdib3JkZXItdC00JywgJ2JvcmRlci10LVsjOUM2QkZGXScsICdwdC02Jyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0YXJnZXQuY2xhc3NMaXN0LmFkZCgnYm9yZGVyLWItNCcsICdib3JkZXItYi1bIzlDNkJGRl0nLCAncGItNicpO1xuICAgICAgfVxuICAgICAgdGFyZ2V0LmRhdGFzZXQuZHJvcFBvc2l0aW9uID0gaXNBYm92ZSA/ICdiZWZvcmUnIDogJ2FmdGVyJztcbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZUJsb2NrRHJhZ0xlYXZlID0gKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQuY2xvc2VzdCgnW2RhdGEtYmxvY2staXRlbV0nKTtcbiAgICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vIFZcdTAwRTlyaWZpZSBzaSBvbiBxdWl0dGUgdnJhaW1lbnQgbCdcdTAwRTlsXHUwMEU5bWVudCAocGFzIGp1c3RlIHZlcnMgdW4gZW5mYW50KVxuICAgICAgY29uc3QgcmVsYXRlZFRhcmdldCA9IGV2ZW50LnJlbGF0ZWRUYXJnZXQ7XG4gICAgICBpZiAocmVsYXRlZFRhcmdldCAmJiB0YXJnZXQuY29udGFpbnMocmVsYXRlZFRhcmdldCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoJ2JvcmRlci10LTQnLCAnYm9yZGVyLWItNCcsICdib3JkZXItdC1bIzlDNkJGRl0nLCAnYm9yZGVyLWItWyM5QzZCRkZdJywgJ3B0LTYnLCAncGItNicpO1xuICAgICAgZGVsZXRlIHRhcmdldC5kYXRhc2V0LmRyb3BQb3NpdGlvbjtcbiAgICB9O1xuXHQgICAgY29uc3QgaGFuZGxlQmxvY2tEcm9wID0gKGV2ZW50KSA9PiB7XG5cdCAgICAgIGlmICghZHJhZ1NvdXJjZUlkIHx8ICFpc0Rlc2t0b3BSZW9yZGVyKCkpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cblx0ICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0ICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLWJsb2NrLWl0ZW1dJyk7XG5cdCAgICAgIGNvbnN0IHNvdXJjZSA9IGRyYWdTb3VyY2VJZDtcblx0ICAgICAgY29uc3Qgc291cmNlUGFyZW50ID0gZHJhZ1NvdXJjZVBhcmVudElkO1xuXHQgICAgICBjb25zdCBkcm9wUG9zaXRpb24gPSB0YXJnZXQ/LmRhdGFzZXQuZHJvcFBvc2l0aW9uIHx8ICdhZnRlcic7XG5cdCAgICAgIGRyYWdTb3VyY2VJZCA9IG51bGw7XG5cdCAgICAgIGRyYWdTb3VyY2VQYXJlbnRJZCA9IG51bGw7XG5cdCAgICAgIGNsZWFyRHJhZ0luZGljYXRvcnMoKTtcblx0ICAgICAgY29uc3QgdGFyZ2V0SWQgPSB0YXJnZXQ/LmRhdGFzZXQuYmxvY2tJZCB8fCBudWxsO1xuXHQgICAgICBpZiAoIWN1cnJlbnRQYWdlIHx8ICFzb3VyY2UpIHJldHVybjtcblx0ICAgICAgaWYgKCF0YXJnZXRJZCkge1xuXHQgICAgICAgIGlmIChzb3VyY2VQYXJlbnQpIHtcblx0ICAgICAgICAgIG1vdmVDaGlsZEZyb21Hcm91cFRvUm9vdEF0KHNvdXJjZVBhcmVudCwgc291cmNlLCBjdXJyZW50UGFnZS5ibG9ja3MubGVuZ3RoKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cdCAgICAgIGlmIChzb3VyY2UgPT09IHRhcmdldElkKSByZXR1cm47XG5cblx0ICAgICAgY29uc3QgdGFyZ2V0UGFyZW50ID0gdGFyZ2V0Py5kYXRhc2V0LnBhcmVudEJsb2NrSWQgfHwgbnVsbDtcblxuXHQgICAgICAvLyBEXHUwMEU5cGxhY2VyIGRlcHVpcyB1biBncm91cGVcblx0ICAgICAgaWYgKHNvdXJjZVBhcmVudCkge1xuXHQgICAgICAgIGlmICh0YXJnZXRQYXJlbnQpIHtcblx0ICAgICAgICAgIC8vIFZlcnMgdW4gZW5mYW50IGQndW4gZ3JvdXBlIChtXHUwMEVBbWUgZ3JvdXBlIFx1MjE5MiByZW9yZGVyLCBhdXRyZSBncm91cGUgXHUyMTkyIG1vdmUpXG5cdCAgICAgICAgICBpZiAodGFyZ2V0UGFyZW50ID09PSBzb3VyY2VQYXJlbnQpIHtcblx0ICAgICAgICAgICAgbW92ZUNoaWxkV2l0aGluR3JvdXAoc291cmNlUGFyZW50LCBzb3VyY2UsIHRhcmdldElkLCBkcm9wUG9zaXRpb24pO1xuXHQgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICBtb3ZlQW55QmxvY2tUb0dyb3VwQXQoc291cmNlLCB0YXJnZXRQYXJlbnQsIHRhcmdldElkLCBkcm9wUG9zaXRpb24pO1xuXHQgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIC8vIERyb3Agc3VyIHVuIGJsb2MgcmFjaW5lIFx1MjE5MiBzb3J0aXIgZHUgZ3JvdXBlIFx1MDBFMCB1bmUgcG9zaXRpb25cblx0ICAgICAgICBjb25zdCB0YXJnZXRSb290SW5kZXggPSBjdXJyZW50UGFnZS5ibG9ja3MuZmluZEluZGV4KChiKSA9PiBiLmlkID09PSB0YXJnZXRJZCk7XG5cdCAgICAgICAgaWYgKHRhcmdldFJvb3RJbmRleCA9PT0gLTEpIHtcblx0ICAgICAgICAgIG1vdmVDaGlsZEZyb21Hcm91cFRvUm9vdEF0KHNvdXJjZVBhcmVudCwgc291cmNlLCBjdXJyZW50UGFnZS5ibG9ja3MubGVuZ3RoKTtcblx0ICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICB9XG5cdCAgICAgICAgY29uc3QgaW5zZXJ0SW5kZXggPSBnZXRJbnNlcnRJbmRleEZyb21Qb3NpdGlvbih0YXJnZXRSb290SW5kZXgsIGRyb3BQb3NpdGlvbiwgMSk7XG5cdCAgICAgICAgbW92ZUNoaWxkRnJvbUdyb3VwVG9Sb290QXQoc291cmNlUGFyZW50LCBzb3VyY2UsIGluc2VydEluZGV4ID8/IGN1cnJlbnRQYWdlLmJsb2Nrcy5sZW5ndGgpO1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXG5cdCAgICAgIC8vIERcdTAwRTlwbGFjZXIgZGVwdWlzIGxhIGxpc3RlIHJhY2luZSB2ZXJzIGwnaW50XHUwMEU5cmlldXIgZCd1biBncm91cGUgKGRyb3Agc3VyIGVuZmFudClcblx0ICAgICAgaWYgKHRhcmdldFBhcmVudCkge1xuXHQgICAgICAgIG1vdmVBbnlCbG9ja1RvR3JvdXBBdChzb3VyY2UsIHRhcmdldFBhcmVudCwgdGFyZ2V0SWQsIGRyb3BQb3NpdGlvbik7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cblx0ICAgICAgLy8gUGFyIGRcdTAwRTlmYXV0OiByZW9yZGVyIGRlcyBibG9jcyByYWNpbmVcblx0ICAgICAgcmVvcmRlckJsb2Nrc1dpdGhQb3NpdGlvbihzb3VyY2UsIHRhcmdldElkLCBkcm9wUG9zaXRpb24pO1xuXHQgICAgfTtcblx0ICAgIGxldCBkcmFnU291cmNlSWQgPSBudWxsO1xuXHQgICAgbGV0IGRyYWdTb3VyY2VQYXJlbnRJZCA9IG51bGw7XG4gICAgYmxvY2tMaXN0Py5hZGRFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCBoYW5kbGVCbG9ja0RyYWdTdGFydCk7XG4gICAgYmxvY2tMaXN0Py5hZGRFdmVudExpc3RlbmVyKCdkcmFnZW5kJywgaGFuZGxlQmxvY2tEcmFnRW5kKTtcbiAgICBibG9ja0xpc3Q/LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgaGFuZGxlQmxvY2tEcmFnT3Zlcik7XG4gICAgYmxvY2tMaXN0Py5hZGRFdmVudExpc3RlbmVyKCdkcmFnbGVhdmUnLCBoYW5kbGVCbG9ja0RyYWdMZWF2ZSk7XG4gICAgYmxvY2tMaXN0Py5hZGRFdmVudExpc3RlbmVyKCdkcm9wJywgaGFuZGxlQmxvY2tEcm9wKTtcbiAgICBsb2FkUGFnZXNGcm9tU2VydmVyKCk7XG5cbiAgICAvLyBcdTAwQzljb3V0ZXIgbCdcdTAwRTl2XHUwMEU5bmVtZW50IGRlIHJhZnJhXHUwMEVFY2hpc3NlbWVudCBkXHUwMEU5Y2xlbmNoXHUwMEU5IHBhciBsJ0lBXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignYWktcGFnZS11cGRhdGVkJywgYXN5bmMgKGUpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCdbZGVzaWduXSBSYWZyYVx1MDBFRWNoaXNzZW1lbnQgZFx1MDBFOWNsZW5jaFx1MDBFOSBwYXIgSUEnLCBlLmRldGFpbCk7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBSZWNoYXJnZXIgbGVzIHBhZ2VzIGRlcHVpcyBsZSBzZXJ2ZXVyXG4gICAgICAgIGNvbnN0IGxvYWRlZFBhZ2VzID0gYXdhaXQgZmV0Y2hQYWdlc0Zyb21TZXJ2ZXIoKTtcbiAgICAgICAgcGFnZXMgPSAoQXJyYXkuaXNBcnJheShsb2FkZWRQYWdlcykgPyBsb2FkZWRQYWdlcyA6IFtdKS5tYXAoKHBhZ2UpID0+XG4gICAgICAgICAgbm9ybWFsaXplUGFnZURhdGEocGFnZSksXG4gICAgICAgICk7XG4gICAgICAgIFxuICAgICAgICAvLyBUcm91dmVyIGV0IG1ldHRyZSBcdTAwRTAgam91ciBsYSBwYWdlIGFjdGl2ZVxuICAgICAgICBpZiAoZS5kZXRhaWw/LnBhZ2VJZCkge1xuICAgICAgICAgIGNvbnN0IHVwZGF0ZWRQYWdlID0gcGFnZXMuZmluZChwID0+IHAuaWQgPT09IGUuZGV0YWlsLnBhZ2VJZCk7XG4gICAgICAgICAgaWYgKHVwZGF0ZWRQYWdlKSB7XG4gICAgICAgICAgICBjdXJyZW50UGFnZSA9IHVwZGF0ZWRQYWdlO1xuICAgICAgICAgICAgYWN0aXZlUGFnZUlkID0gdXBkYXRlZFBhZ2UuaWQ7XG4gICAgICAgICAgICAvLyBSYWZyYVx1MDBFRWNoaXIgbGEgcHJldmlldyBhdmVjIGxhIHBhZ2UgbWlzZSBcdTAwRTAgam91clxuICAgICAgICAgICAgcmVmcmVzaFByZXZpZXcoY3VycmVudFBhZ2UpO1xuICAgICAgICAgICAgLy8gUmFmcmFcdTAwRUVjaGlyIGxhIGxpc3RlIGRlcyBibG9jc1xuICAgICAgICAgICAgcmVuZGVyQmxvY2tMaXN0KGN1cnJlbnRQYWdlKTtcbiAgICAgICAgICAgIHNob3dUb2FzdCgnUGFnZSBtaXNlIFx1MDBFMCBqb3VyIHBhciBsXFwnSUEnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoYWN0aXZlUGFnZUlkKSB7XG4gICAgICAgICAgLy8gUmFmcmFcdTAwRUVjaGlyIGxhIHBhZ2UgYWN0aXZlIGFjdHVlbGxlXG4gICAgICAgICAgY29uc3QgYWN0aXZlUGFnZSA9IHBhZ2VzLmZpbmQocCA9PiBwLmlkID09PSBhY3RpdmVQYWdlSWQpO1xuICAgICAgICAgIGlmIChhY3RpdmVQYWdlKSB7XG4gICAgICAgICAgICBjdXJyZW50UGFnZSA9IGFjdGl2ZVBhZ2U7XG4gICAgICAgICAgICByZWZyZXNoUHJldmlldyhjdXJyZW50UGFnZSk7XG4gICAgICAgICAgICByZW5kZXJCbG9ja0xpc3QoY3VycmVudFBhZ2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkZXNpZ25dIEVycmV1ciByYWZyYVx1MDBFRWNoaXNzZW1lbnQgSUE6JywgZXJyKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXRDb250ZW50V29ya3NwYWNlKCkge1xuICAgIGNvbnN0IGNvbGxlY3Rpb25MaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29sbGVjdGlvbi1saXN0XScpO1xuICAgIGlmICghY29sbGVjdGlvbkxpc3QpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgLy8gXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXG4gICAgLy8gSEVBREVSICYgRk9PVEVSIE1BTkFHRU1FTlRcbiAgICAvLyBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcbiAgICBjb25zdCBjb250ZW50Vmlld3MgPSB7XG4gICAgICBlbXB0eTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29udGVudC12aWV3PVwiZW1wdHlcIl0nKSxcbiAgICAgIGhlYWRlcjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29udGVudC12aWV3PVwiaGVhZGVyXCJdJyksXG4gICAgICBjb2xsZWN0aW9uOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb250ZW50LXZpZXc9XCJjb2xsZWN0aW9uXCJdJyksXG4gICAgICBmb290ZXI6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbnRlbnQtdmlldz1cImZvb3RlclwiXScpLFxuICAgIH07XG4gICAgY29uc3QgY29udGVudFNlY3Rpb25CdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtY29udGVudC1zZWN0aW9uXScpO1xuICAgIGNvbnN0IGNvbnRlbnRTZWN0aW9uVHJpZ2dlcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1jb250ZW50LXNlY3Rpb24tdHJpZ2dlcl0nKTtcbiAgICBjb25zdCBoZWFkZXJTdGF0dXNJbmRpY2F0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1oZWFkZXItc3RhdHVzXScpO1xuICAgIGNvbnN0IGZvb3RlclN0YXR1c0luZGljYXRvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWZvb3Rlci1zdGF0dXNdJyk7XG4gICAgY29uc3QgY29sbGVjdGlvbkNvdW50RWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xsZWN0aW9uLWNvdW50XScpO1xuICAgIGNvbnN0IGl0ZW1QYW5lbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tcGFuZWxdJyk7XG4gICAgY29uc3QgaXRlbVBhbmVsQ2xvc2VCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtaXRlbS1wYW5lbC1jbG9zZV0nKTtcbiAgICBjb25zdCBjb2xsZWN0aW9uRW1wdHlTdGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbGxlY3Rpb24tZW1wdHldJyk7XG4gICAgY29uc3QgY29sbGVjdGlvbkl0ZW1zRW1wdHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xsZWN0aW9uLWl0ZW1zLWVtcHR5XScpO1xuICAgIGNvbnN0IGl0ZW1UYWJsZVdyYXBwZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLXRhYmxlLXdyYXBwZXJdJyk7XG4gICAgY29uc3QgaXRlbVRhYmxlQm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tdGFibGUtYm9keV0nKTtcbiAgICBjb25zdCBjb2xsZWN0aW9uVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xsZWN0aW9uLXRpdGxlXScpO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25EZXNjcmlwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbGxlY3Rpb24tZGVzY3JpcHRpb25dJyk7XG4gICAgY29uc3QgaXRlbUFkZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tYWRkXScpO1xuICAgIGNvbnN0IGl0ZW1EZXRhaWxFbXB0eSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tZGV0YWlsLWVtcHR5XScpO1xuICAgIGNvbnN0IGl0ZW1Gb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS1mb3JtXScpO1xuICAgIGNvbnN0IGl0ZW1Gb3JtRmllbGRzID0gaXRlbUZvcm1cbiAgICAgID8ge1xuICAgICAgICAgIHRpdGxlOiBpdGVtRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cIml0ZW0tdGl0bGVcIl0nKSxcbiAgICAgICAgICBzbHVnOiBpdGVtRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cIml0ZW0tc2x1Z1wiXScpLFxuICAgICAgICAgIGV4Y2VycHQ6IGl0ZW1Gb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaXRlbS1leGNlcnB0XCJdJyksXG4gICAgICAgICAgY29udGVudDogaXRlbUZvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJpdGVtLWNvbnRlbnRcIl0nKSxcbiAgICAgICAgICBpbWFnZTogaXRlbUZvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJpdGVtLWltYWdlXCJdJyksXG4gICAgICAgICAgY3RhVGV4dDogaXRlbUZvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJpdGVtLWN0YS10ZXh0XCJdJyksXG4gICAgICAgICAgY3RhVXJsOiBpdGVtRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cIml0ZW0tY3RhLXVybFwiXScpLFxuICAgICAgICAgIHN0YXR1czogaXRlbUZvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJpdGVtLXN0YXR1c1wiXScpLFxuICAgICAgICB9XG4gICAgICA6IHt9O1xuICAgIGNvbnN0IGl0ZW1TdGF0dXNCYWRnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tc3RhdHVzLWJhZGdlXScpO1xuICAgIGNvbnN0IGl0ZW1EZWxldGVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLWRlbGV0ZV0nKTtcbiAgICBjb25zdCBpdGVtRGVsZXRlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLWRlbGV0ZS1tb2RhbF0nKTtcbiAgICBjb25zdCBpdGVtRGVsZXRlQ2FuY2VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS1kZWxldGUtY2FuY2VsXScpO1xuICAgIGNvbnN0IGl0ZW1EZWxldGVDb25maXJtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS1kZWxldGUtY29uZmlybV0nKTtcbiAgICBjb25zdCBpdGVtRm9ybUNhbmNlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tY2FuY2VsXScpO1xuICAgIGNvbnN0IGl0ZW1Gb3JtU2F2ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tc2F2ZV0nKTtcbiAgICBjb25zdCBzdGF0dXNCYWRnZUJhc2VDbGFzcyA9ICdyb3VuZGVkLWZ1bGwgcHgtMyBweS0xIHRleHQteHMgZm9udC1zZW1pYm9sZCc7XG4gICAgY29uc3QgaXNEZXNrdG9wVmlld3BvcnQgPSAoKSA9PiB3aW5kb3cubWF0Y2hNZWRpYSgnKG1pbi13aWR0aDogMTAyNHB4KScpLm1hdGNoZXM7XG4gICAgY29uc3Qgc2V0SXRlbVBhbmVsSGlkZGVuU3RhdGUgPSAoaGlkZGVuKSA9PiB7XG4gICAgICBpZiAoIWl0ZW1QYW5lbCB8fCBpc0Rlc2t0b3BWaWV3cG9ydCgpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGhpZGRlbkNsYXNzZXMgPSBpdGVtUGFuZWwuZGF0YXNldC5pdGVtUGFuZWxIaWRkZW4gfHwgJyc7XG4gICAgICBjb25zdCB2aXNpYmxlQ2xhc3NlcyA9IGl0ZW1QYW5lbC5kYXRhc2V0Lml0ZW1QYW5lbFZpc2libGUgfHwgJyc7XG4gICAgICBpZiAoaGlkZGVuKSB7XG4gICAgICAgIGFwcGx5UGFuZWxDbGFzc2VzKGl0ZW1QYW5lbCwgdmlzaWJsZUNsYXNzZXMsICdyZW1vdmUnKTtcbiAgICAgICAgYXBwbHlQYW5lbENsYXNzZXMoaXRlbVBhbmVsLCBoaWRkZW5DbGFzc2VzLCAnYWRkJyk7XG4gICAgICAgIGl0ZW1QYW5lbC5jbGFzc0xpc3QuYWRkKCdwb2ludGVyLWV2ZW50cy1ub25lJyk7XG4gICAgICAgIGl0ZW1QYW5lbC5kYXRhc2V0Lml0ZW1QYW5lbE9wZW4gPSAnZmFsc2UnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXBwbHlQYW5lbENsYXNzZXMoaXRlbVBhbmVsLCBoaWRkZW5DbGFzc2VzLCAncmVtb3ZlJyk7XG4gICAgICAgIGFwcGx5UGFuZWxDbGFzc2VzKGl0ZW1QYW5lbCwgdmlzaWJsZUNsYXNzZXMsICdhZGQnKTtcbiAgICAgICAgaXRlbVBhbmVsLmNsYXNzTGlzdC5yZW1vdmUoJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICAgICAgaXRlbVBhbmVsLmRhdGFzZXQuaXRlbVBhbmVsT3BlbiA9ICd0cnVlJztcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHN5bmNJdGVtUGFuZWxXaXRoVmlld3BvcnQgPSAoKSA9PiB7XG4gICAgICBpZiAoIWl0ZW1QYW5lbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoaXNEZXNrdG9wVmlld3BvcnQoKSkge1xuICAgICAgICBjb25zdCBoaWRkZW5DbGFzc2VzID0gaXRlbVBhbmVsLmRhdGFzZXQuaXRlbVBhbmVsSGlkZGVuIHx8ICcnO1xuICAgICAgICBhcHBseVBhbmVsQ2xhc3NlcyhpdGVtUGFuZWwsIGhpZGRlbkNsYXNzZXMsICdyZW1vdmUnKTtcbiAgICAgICAgaXRlbVBhbmVsLmNsYXNzTGlzdC5yZW1vdmUoJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICAgICAgaXRlbVBhbmVsLmRhdGFzZXQuaXRlbVBhbmVsT3BlbiA9ICd0cnVlJztcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1Gb3JtPy5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpKSB7XG4gICAgICAgIHNldEl0ZW1QYW5lbEhpZGRlblN0YXRlKHRydWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0SXRlbVBhbmVsSGlkZGVuU3RhdGUoZmFsc2UpO1xuICAgICAgfVxuICAgIH07XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHN5bmNJdGVtUGFuZWxXaXRoVmlld3BvcnQpO1xuICAgIGl0ZW1QYW5lbENsb3NlQnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAoaXNEZXNrdG9wVmlld3BvcnQoKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBoaWRlSXRlbUZvcm0oKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHN5bmNJdGVtUGFuZWxXaXRoVmlld3BvcnQoKTtcbiAgICBcbiAgICAvLyBIZWFkZXIgZmllbGRzXG4gICAgY29uc3QgaGVhZGVyRmllbGRzID0ge1xuICAgICAgbG9nbzogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJoZWFkZXItbG9nb1wiXScpLFxuICAgICAgbG9nb0FsdDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJoZWFkZXItbG9nby1hbHRcIl0nKSxcbiAgICAgIGxvZ29Vcmw6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaGVhZGVyLWxvZ28tdXJsXCJdJyksXG4gICAgICBjdGFUZXh0OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImhlYWRlci1jdGEtdGV4dFwiXScpLFxuICAgICAgY3RhVXJsOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImhlYWRlci1jdGEtdXJsXCJdJyksXG4gICAgICBjdGFTdHlsZTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJoZWFkZXItY3RhLXN0eWxlXCJdJyksXG4gICAgICBjdGFUZXh0Q29sb3I6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaGVhZGVyLWN0YS10ZXh0LWNvbG9yXCJdJyksXG4gICAgICBwb3NpdGlvbjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJoZWFkZXItcG9zaXRpb25cIl0nKSxcbiAgICAgIGJnOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImhlYWRlci1iZ1wiXScpLFxuICAgIH07XG4gICAgY29uc3QgaGVhZGVyTmF2T3JkZXJMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaGVhZGVyLW5hdi1vcmRlci1saXN0XScpO1xuICAgIGNvbnN0IGhlYWRlclNhdmVCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1oZWFkZXItc2F2ZV0nKTtcbiAgICBjb25zdCBoZWFkZXJOYXZJdGVtVGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS10ZW1wbGF0ZS1oZWFkZXItbmF2LWl0ZW1dJyk7XG4gICAgY29uc3QgaGVhZGVyUGFnZXNMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaGVhZGVyLXBhZ2VzLWxpc3RdJyk7XG4gICAgbGV0IHNpdGVQYWdlcyA9IFtdOyAvLyBQYWdlcyBkdSBzaXRlIHBvdXIgbGVzIGNoZWNrYm94ZXNcbiAgICBsZXQgc2VsZWN0ZWROYXZQYWdlcyA9IFtdOyAvLyBQYWdlcyBzXHUwMEU5bGVjdGlvbm5cdTAwRTllcyBwb3VyIGxlIG1lbnUgKGF2ZWMgb3JkcmUpXG4gICAgXG4gICAgLy8gRm9vdGVyIGZpZWxkc1xuICAgIGNvbnN0IGZvb3RlckZpZWxkcyA9IHtcbiAgICAgIGxpbmtlZGluOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImZvb3Rlci1zb2NpYWwtbGlua2VkaW5cIl0nKSxcbiAgICAgIHR3aXR0ZXI6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZm9vdGVyLXNvY2lhbC10d2l0dGVyXCJdJyksXG4gICAgICBpbnN0YWdyYW06IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZm9vdGVyLXNvY2lhbC1pbnN0YWdyYW1cIl0nKSxcbiAgICAgIGZhY2Vib29rOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImZvb3Rlci1zb2NpYWwtZmFjZWJvb2tcIl0nKSxcbiAgICAgIHlvdXR1YmU6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZm9vdGVyLXNvY2lhbC15b3V0dWJlXCJdJyksXG4gICAgICBnaXRodWI6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZm9vdGVyLXNvY2lhbC1naXRodWJcIl0nKSxcbiAgICAgIGNvcHlyaWdodDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJmb290ZXItY29weXJpZ2h0XCJdJyksXG4gICAgICBsZWdhbFVybDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJmb290ZXItbGVnYWwtdXJsXCJdJyksXG4gICAgICBwcml2YWN5VXJsOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImZvb3Rlci1wcml2YWN5LXVybFwiXScpLFxuICAgICAgYmc6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZm9vdGVyLWJnXCJdJyksXG4gICAgICBjb2x1bW5zQ291bnQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZm9vdGVyLWNvbHVtbnMtY291bnRcIl0nKSxcbiAgICB9O1xuICAgIGNvbnN0IGZvb3RlckNvbHVtbnNMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZm9vdGVyLWNvbHVtbnMtbGlzdF0nKTtcbiAgICBjb25zdCBmb290ZXJDb2x1bW5BZGRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1mb290ZXItY29sdW1uLWFkZF0nKTtcbiAgICBjb25zdCBmb290ZXJTYXZlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZm9vdGVyLXNhdmVdJyk7XG4gICAgY29uc3QgZm9vdGVyQ29sdW1uVGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS10ZW1wbGF0ZS1mb290ZXItY29sdW1uXScpO1xuICAgIGNvbnN0IGZvb3RlckxpbmtUZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRlbXBsYXRlLWZvb3Rlci1saW5rXScpO1xuICAgIFxuICAgIGxldCBhY3RpdmVDb250ZW50U2VjdGlvbiA9IG51bGw7XG4gICAgbGV0IGhlYWRlckRhdGEgPSB7IG5hdjogW10sIGxvZ286IHt9LCBjdGE6IHt9LCBzdHlsZToge30gfTtcbiAgICBsZXQgZm9vdGVyRGF0YSA9IHsgY29sdW1uczogW10sIHNvY2lhbHM6IHt9LCBjb3B5cmlnaHQ6ICcnLCBsZWdhbDoge30sIHN0eWxlOiB7fSB9O1xuICAgIFxuICAgIGNvbnN0IHNhZmVTaXRlU2x1Z0ZvckxheW91dCA9IHN0cmlwTGVhZGluZ1NsYXNoKHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJycpO1xuICAgIGNvbnN0IHNsdWcgPSBzYWZlU2l0ZVNsdWdGb3JMYXlvdXQ7IC8vIEFsaWFzIHBvdXIgbGVzIGZvbmN0aW9ucyBxdWkgdXRpbGlzZW50IHNsdWdcbiAgICBjb25zdCBsYXlvdXRBcGlCYXNlID0gc2FmZVNpdGVTbHVnRm9yTGF5b3V0ID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnRm9yTGF5b3V0KX0vbGF5b3V0YCA6IG51bGw7XG4gICAgXG4gICAgLy8gVmlldyBzd2l0Y2hpbmdcbiAgICBjb25zdCBzaG93Q29udGVudFZpZXcgPSAodmlld05hbWUpID0+IHtcbiAgICAgIE9iamVjdC5lbnRyaWVzKGNvbnRlbnRWaWV3cykuZm9yRWFjaCgoW25hbWUsIGVsXSkgPT4ge1xuICAgICAgICBpZiAoZWwpIGVsLmNsYXNzTGlzdC50b2dnbGUoJ2hpZGRlbicsIG5hbWUgIT09IHZpZXdOYW1lKTtcbiAgICAgIH0pO1xuICAgICAgY29udGVudFNlY3Rpb25CdXR0b25zLmZvckVhY2goYnRuID0+IHtcbiAgICAgICAgY29uc3Qgc2VjdGlvbiA9IGJ0bi5kYXRhc2V0LmNvbnRlbnRTZWN0aW9uO1xuICAgICAgICBpZiAoc2VjdGlvbiA9PT0gdmlld05hbWUpIHtcbiAgICAgICAgICBidG4uZGF0YXNldC5hY3RpdmUgPSAndHJ1ZSc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGVsZXRlIGJ0bi5kYXRhc2V0LmFjdGl2ZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBhY3RpdmVDb250ZW50U2VjdGlvbiA9IHZpZXdOYW1lO1xuICAgIH07XG4gICAgXG4gICAgLy8gU2VjdGlvbiBidXR0b24gaGFuZGxlcnNcbiAgICBjb250ZW50U2VjdGlvbkJ1dHRvbnMuZm9yRWFjaChidG4gPT4ge1xuICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBjb25zdCBzZWN0aW9uID0gYnRuLmRhdGFzZXQuY29udGVudFNlY3Rpb247XG4gICAgICAgIGlmIChzZWN0aW9uID09PSAnaGVhZGVyJyB8fCBzZWN0aW9uID09PSAnZm9vdGVyJykge1xuICAgICAgICAgIHNob3dDb250ZW50VmlldyhzZWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgY29udGVudFNlY3Rpb25UcmlnZ2Vycy5mb3JFYWNoKGJ0biA9PiB7XG4gICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHNlY3Rpb24gPSBidG4uZGF0YXNldC5jb250ZW50U2VjdGlvblRyaWdnZXI7XG4gICAgICAgIGlmIChzZWN0aW9uKSBzaG93Q29udGVudFZpZXcoc2VjdGlvbik7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBcbiAgICAvLyBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcbiAgICAvLyBIRUFERVIgRlVOQ1RJT05TXG4gICAgLy8gXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXG4gICAgXG4gICAgLy8gQ2hhcmdlciBsYSBsaXN0ZSBkZXMgcGFnZXMgZHUgc2l0ZSBwb3VyIGxlcyBjaGVja2JveGVzXG4gICAgY29uc3QgbG9hZFNpdGVQYWdlc0ZvckhlYWRlciA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghc2x1ZyB8fCAhaGVhZGVyUGFnZXNMaXN0KSByZXR1cm47XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL3NpdGVzLyR7c2x1Z30vcGFnZXNgLCB7IGNyZWRlbnRpYWxzOiAnaW5jbHVkZScgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHRocm93IG5ldyBFcnJvcignRXJyZXVyIGNoYXJnZW1lbnQgcGFnZXMnKTtcbiAgICAgICAgc2l0ZVBhZ2VzID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICByZW5kZXJQYWdlQ2hlY2tib3hlcygpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1toZWFkZXJdIGxvYWQgcGFnZXMgZXJyb3InLCBlcnIpO1xuICAgICAgICBoZWFkZXJQYWdlc0xpc3QuaW5uZXJIVE1MID0gJzxwIGNsYXNzPVwidGV4dC14cyB0ZXh0LXJlZC01MDBcIj5FcnJldXIgY2hhcmdlbWVudCBwYWdlczwvcD4nO1xuICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgLy8gQWZmaWNoZXIgbGVzIGNoZWNrYm94ZXMgcG91ciBjaGFxdWUgcGFnZVxuICBjb25zdCBub3JtYWxpemVOYXZQYWdlVXJsID0gKHZhbHVlKSA9PiB7XG4gICAgY29uc3QgcmF3ID0gKHZhbHVlIHx8ICcnKS50b1N0cmluZygpLnRyaW0oKTtcbiAgICBpZiAoIXJhdyB8fCByYXcgPT09ICcvJyB8fCByYXcgPT09ICdpbmRleCcpIHtcbiAgICAgIHJldHVybiAnLyc7XG4gICAgfVxuICAgIGNvbnN0IGxvd2VyID0gcmF3LnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKHJhdy5zdGFydHNXaXRoKCcjJykpIHtcbiAgICAgIHJldHVybiByYXc7XG4gICAgfVxuICAgIGlmIChsb3dlci5zdGFydHNXaXRoKCdtYWlsdG86JykgfHwgbG93ZXIuc3RhcnRzV2l0aCgndGVsOicpKSB7XG4gICAgICByZXR1cm4gcmF3O1xuICAgIH1cbiAgICBpZiAoL15bYS16XSs6XFwvXFwvL2kudGVzdChyYXcpKSB7XG4gICAgICByZXR1cm4gcmF3O1xuICAgIH1cbiAgICBpZiAocmF3LnN0YXJ0c1dpdGgoJy8vJykpIHtcbiAgICAgIGNvbnN0IHdpdGhvdXRTbGFzaGVzID0gcmF3LnNsaWNlKDIpO1xuICAgICAgaWYgKHdpdGhvdXRTbGFzaGVzLmluY2x1ZGVzKCcuJykpIHtcbiAgICAgICAgcmV0dXJuIHJhdztcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNsZWFuZWRJbnRlcm5hbCA9IHdpdGhvdXRTbGFzaGVzLnJlcGxhY2UoL15cXC8rLywgJycpLnJlcGxhY2UoL1xcLyskLywgJycpO1xuICAgICAgcmV0dXJuIGNsZWFuZWRJbnRlcm5hbCA/IGAvJHtjbGVhbmVkSW50ZXJuYWx9YCA6ICcvJztcbiAgICB9XG4gICAgY29uc3QgY2xlYW5lZCA9IHJhdy5yZXBsYWNlKC9eXFwvKy8sICcnKS5yZXBsYWNlKC9cXC8rJC8sICcnKTtcbiAgICByZXR1cm4gY2xlYW5lZCA/IGAvJHtjbGVhbmVkfWAgOiAnLyc7XG4gIH07XG4gIGNvbnN0IG5vcm1hbGl6ZU9wdGlvbmFsTmF2VXJsID0gKHZhbHVlLCBkZWZhdWx0VmFsdWUgPSAnJykgPT4ge1xuICAgIGNvbnN0IHRyaW1tZWQgPSAodmFsdWUgfHwgJycpLnRvU3RyaW5nKCkudHJpbSgpO1xuICAgIGlmICghdHJpbW1lZCkge1xuICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIG5vcm1hbGl6ZU5hdlBhZ2VVcmwodHJpbW1lZCk7XG4gIH07XG5cbiAgY29uc3QgcmVuZGVyUGFnZUNoZWNrYm94ZXMgPSAoKSA9PiB7XG4gICAgaWYgKCFoZWFkZXJQYWdlc0xpc3QpIHJldHVybjtcbiAgICBoZWFkZXJQYWdlc0xpc3QuaW5uZXJIVE1MID0gJyc7XG5cbiAgICBpZiAoc2l0ZVBhZ2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBoZWFkZXJQYWdlc0xpc3QuaW5uZXJIVE1MID0gJzxwIGNsYXNzPVwidGV4dC14cyB0ZXh0LXNsYXRlLTQwMCBpdGFsaWNcIj5BdWN1bmUgcGFnZSBkaXNwb25pYmxlPC9wPic7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIFxuICAgIHNpdGVQYWdlcy5mb3JFYWNoKChwYWdlKSA9PiB7XG4gICAgICBjb25zdCBwYWdlU2x1ZyA9IHBhZ2Uuc2x1ZyB8fCBwYWdlLmlkIHx8ICcnO1xuICAgICAgLy8gVXNlIHBhZ2UubmFtZSAoc2hvcnQgbmFtZSkgaWYgYXZhaWxhYmxlLCBmYWxsYmFjayB0byB0aXRsZVxuICAgICAgY29uc3QgcGFnZURpc3BsYXlOYW1lID0gcGFnZS5uYW1lIHx8IHBhZ2UudGl0bGUgfHwgcGFnZVNsdWc7XG4gICAgICBjb25zdCBwYWdlVXJsID0gbm9ybWFsaXplTmF2UGFnZVVybChwYWdlU2x1Zyk7XG5cbiAgICAgIC8vIFZcdTAwRTlyaWZpZXIgc2kgY2V0dGUgcGFnZSBlc3Qgc1x1MDBFOWxlY3Rpb25uXHUwMEU5ZSBkYW5zIGxhIG5hdlxuICAgICAgY29uc3QgaXNTZWxlY3RlZCA9IHNlbGVjdGVkTmF2UGFnZXMuc29tZShuYXYgPT4gbmF2LnVybCA9PT0gcGFnZVVybCk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gICAgICAgIGxhYmVsLmNsYXNzTmFtZSA9ICdmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBweC0zIHB5LTIgcm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLXNsYXRlLTIwMCBob3ZlcjpiZy1zbGF0ZS01MCBjdXJzb3ItcG9pbnRlciB0cmFuc2l0aW9uLWNvbG9ycyc7XG4gICAgICAgIGxhYmVsLmlubmVySFRNTCA9IGBcbiAgICAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmFtZT1cIm5hdi1wYWdlXCIgdmFsdWU9XCIke3BhZ2VVcmx9XCIgZGF0YS1wYWdlLXRpdGxlPVwiJHtwYWdlRGlzcGxheU5hbWV9XCJcbiAgICAgICAgICAgICAgICAgY2xhc3M9XCJ3LTQgaC00IHJvdW5kZWQgYm9yZGVyLXNsYXRlLTMwMCB0ZXh0LXZpb2xldC02MDAgZm9jdXM6cmluZy12aW9sZXQtNTAwXCJcbiAgICAgICAgICAgICAgICAgJHtpc1NlbGVjdGVkID8gJ2NoZWNrZWQnIDogJyd9PlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZmxleC0xIHRleHQtc20gdGV4dC1zbGF0ZS03MDBcIj4ke3BhZ2VEaXNwbGF5TmFtZX08L3NwYW4+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNDAwXCI+JHtwYWdlVXJsfTwvc3Bhbj5cbiAgICAgICAgYDtcbiAgICAgICAgXG4gICAgICAgIC8vIE1ldHRyZSBcdTAwRTAgam91ciBzZWxlY3RlZE5hdlBhZ2VzIHF1YW5kIG9uIGNvY2hlL2RcdTAwRTljb2NoZVxuICAgICAgICBjb25zdCBjaGVja2JveCA9IGxhYmVsLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0Jyk7XG4gICAgICAgIGNoZWNrYm94LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgICAgICAgICBpZiAoY2hlY2tib3guY2hlY2tlZCkge1xuICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdJbmRleCA9IHNlbGVjdGVkTmF2UGFnZXMuZmluZEluZGV4KChuYXYpID0+IG5hdi51cmwgPT09IHBhZ2VVcmwpO1xuICAgICAgICAgICAgaWYgKGV4aXN0aW5nSW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICAgIHNlbGVjdGVkTmF2UGFnZXMucHVzaCh7IGxhYmVsOiBwYWdlRGlzcGxheU5hbWUsIHVybDogcGFnZVVybCB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHNlbGVjdGVkTmF2UGFnZXNbZXhpc3RpbmdJbmRleF0gPSB7IC4uLnNlbGVjdGVkTmF2UGFnZXNbZXhpc3RpbmdJbmRleF0sIGxhYmVsOiBwYWdlRGlzcGxheU5hbWUgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2VsZWN0ZWROYXZQYWdlcyA9IHNlbGVjdGVkTmF2UGFnZXMuZmlsdGVyKChuYXYpID0+IG5hdi51cmwgIT09IHBhZ2VVcmwpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZW5kZXJIZWFkZXJOYXZPcmRlcigpO1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGhlYWRlclBhZ2VzTGlzdC5hcHBlbmRDaGlsZChsYWJlbCk7XG4gICAgICB9KTtcblxuICAgICAgcmVuZGVySGVhZGVyTmF2T3JkZXIoKTtcbiAgICB9O1xuXG4gICAgY29uc3QgcmVuZGVySGVhZGVyTmF2T3JkZXIgPSAoKSA9PiB7XG4gICAgICBpZiAoIWhlYWRlck5hdk9yZGVyTGlzdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBoZWFkZXJOYXZPcmRlckxpc3QuaW5uZXJIVE1MID0gJyc7XG5cbiAgICAgIGlmICghc2VsZWN0ZWROYXZQYWdlcyB8fCBzZWxlY3RlZE5hdlBhZ2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBjb25zdCBlbXB0eSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICAgICAgZW1wdHkuY2xhc3NOYW1lID0gJ3RleHQteHMgdGV4dC1zbGF0ZS00MDAgaXRhbGljJztcbiAgICAgICAgZW1wdHkudGV4dENvbnRlbnQgPSAnQXVjdW4gbGllbiBkZSBtZW51IHNcdTAwRTlsZWN0aW9ublx1MDBFOS4nO1xuICAgICAgICBoZWFkZXJOYXZPcmRlckxpc3QuYXBwZW5kQ2hpbGQoZW1wdHkpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHNlbGVjdGVkTmF2UGFnZXMuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHtcbiAgICAgICAgY29uc3Qgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHJvdy5jbGFzc05hbWUgPVxuICAgICAgICAgICdmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiByb3VuZGVkLXhsIGJvcmRlciBib3JkZXItc2xhdGUtMjAwIGJnLXdoaXRlIHB4LTMgcHktMic7XG4gICAgICAgIHJvdy5kYXRhc2V0Lm5hdlVybCA9IGl0ZW0udXJsO1xuXG4gICAgICAgIGNvbnN0IG1ldGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgbWV0YS5jbGFzc05hbWUgPSAnZmxleC0xIG1pbi13LTAnO1xuICAgICAgICBjb25zdCBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICAgICAgbGFiZWwuY2xhc3NOYW1lID0gJ3RleHQtc20gZm9udC1tZWRpdW0gdGV4dC1zbGF0ZS04MDAgdHJ1bmNhdGUnO1xuICAgICAgICBsYWJlbC50ZXh0Q29udGVudCA9IGl0ZW0ubGFiZWwgfHwgaXRlbS51cmw7XG4gICAgICAgIGNvbnN0IHVybCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICAgICAgdXJsLmNsYXNzTmFtZSA9ICd0ZXh0LVsxMXB4XSB0ZXh0LXNsYXRlLTQwMCB0cnVuY2F0ZSc7XG4gICAgICAgIHVybC50ZXh0Q29udGVudCA9IGl0ZW0udXJsO1xuICAgICAgICBtZXRhLmFwcGVuZENoaWxkKGxhYmVsKTtcbiAgICAgICAgbWV0YS5hcHBlbmRDaGlsZCh1cmwpO1xuXG4gICAgICAgIGNvbnN0IGNvbnRyb2xzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGNvbnRyb2xzLmNsYXNzTmFtZSA9ICdmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMSc7XG5cbiAgICAgICAgY29uc3QgdXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgdXAudHlwZSA9ICdidXR0b24nO1xuICAgICAgICB1cC5jbGFzc05hbWUgPVxuICAgICAgICAgICdyb3VuZGVkLWxnIGJvcmRlciBib3JkZXItc2xhdGUtMjAwIHB4LTIgcHktMSB0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgdGV4dC1zbGF0ZS02MDAgaG92ZXI6Ymctc2xhdGUtNTAgZGlzYWJsZWQ6b3BhY2l0eS00MCBkaXNhYmxlZDpob3ZlcjpiZy10cmFuc3BhcmVudCc7XG4gICAgICAgIHVwLnRleHRDb250ZW50ID0gJ1x1MjE5MSc7XG4gICAgICAgIHVwLnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIGBNb250ZXIgJHtpdGVtLmxhYmVsIHx8IGl0ZW0udXJsfWApO1xuICAgICAgICB1cC5kaXNhYmxlZCA9IGluZGV4ID09PSAwO1xuICAgICAgICB1cC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICBpZiAoaW5kZXggPD0gMCkgcmV0dXJuO1xuICAgICAgICAgIGNvbnN0IG5leHQgPSBbLi4uc2VsZWN0ZWROYXZQYWdlc107XG4gICAgICAgICAgY29uc3QgdG1wID0gbmV4dFtpbmRleCAtIDFdO1xuICAgICAgICAgIG5leHRbaW5kZXggLSAxXSA9IG5leHRbaW5kZXhdO1xuICAgICAgICAgIG5leHRbaW5kZXhdID0gdG1wO1xuICAgICAgICAgIHNlbGVjdGVkTmF2UGFnZXMgPSBuZXh0O1xuICAgICAgICAgIHJlbmRlckhlYWRlck5hdk9yZGVyKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IGRvd24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgZG93bi50eXBlID0gJ2J1dHRvbic7XG4gICAgICAgIGRvd24uY2xhc3NOYW1lID1cbiAgICAgICAgICAncm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLXNsYXRlLTIwMCBweC0yIHB5LTEgdGV4dC14cyBmb250LXNlbWlib2xkIHRleHQtc2xhdGUtNjAwIGhvdmVyOmJnLXNsYXRlLTUwIGRpc2FibGVkOm9wYWNpdHktNDAgZGlzYWJsZWQ6aG92ZXI6YmctdHJhbnNwYXJlbnQnO1xuICAgICAgICBkb3duLnRleHRDb250ZW50ID0gJ1x1MjE5Myc7XG4gICAgICAgIGRvd24uc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgYERlc2NlbmRyZSAke2l0ZW0ubGFiZWwgfHwgaXRlbS51cmx9YCk7XG4gICAgICAgIGRvd24uZGlzYWJsZWQgPSBpbmRleCA9PT0gc2VsZWN0ZWROYXZQYWdlcy5sZW5ndGggLSAxO1xuICAgICAgICBkb3duLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgIGlmIChpbmRleCA+PSBzZWxlY3RlZE5hdlBhZ2VzLmxlbmd0aCAtIDEpIHJldHVybjtcbiAgICAgICAgICBjb25zdCBuZXh0ID0gWy4uLnNlbGVjdGVkTmF2UGFnZXNdO1xuICAgICAgICAgIGNvbnN0IHRtcCA9IG5leHRbaW5kZXggKyAxXTtcbiAgICAgICAgICBuZXh0W2luZGV4ICsgMV0gPSBuZXh0W2luZGV4XTtcbiAgICAgICAgICBuZXh0W2luZGV4XSA9IHRtcDtcbiAgICAgICAgICBzZWxlY3RlZE5hdlBhZ2VzID0gbmV4dDtcbiAgICAgICAgICByZW5kZXJIZWFkZXJOYXZPcmRlcigpO1xuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCByZW1vdmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgcmVtb3ZlLnR5cGUgPSAnYnV0dG9uJztcbiAgICAgICAgcmVtb3ZlLmNsYXNzTmFtZSA9XG4gICAgICAgICAgJ3JvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1zbGF0ZS0yMDAgcHgtMiBweS0xIHRleHQteHMgZm9udC1zZW1pYm9sZCB0ZXh0LXJvc2UtNzAwIGhvdmVyOmJnLXJvc2UtNTAnO1xuICAgICAgICByZW1vdmUudGV4dENvbnRlbnQgPSAnXHUyNzE1JztcbiAgICAgICAgcmVtb3ZlLnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIGBSZXRpcmVyICR7aXRlbS5sYWJlbCB8fCBpdGVtLnVybH1gKTtcbiAgICAgICAgcmVtb3ZlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgIHNlbGVjdGVkTmF2UGFnZXMgPSBzZWxlY3RlZE5hdlBhZ2VzLmZpbHRlcigobmF2KSA9PiBuYXYudXJsICE9PSBpdGVtLnVybCk7XG4gICAgICAgICAgY29uc3QgY2hlY2tib3ggPSBoZWFkZXJQYWdlc0xpc3Q/LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICAgICBgaW5wdXRbbmFtZT1cXFwibmF2LXBhZ2VcXFwiXVt2YWx1ZT1cXFwiJHtDU1MuZXNjYXBlKGl0ZW0udXJsKX1cXFwiXWAsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAoY2hlY2tib3gpIGNoZWNrYm94LmNoZWNrZWQgPSBmYWxzZTtcbiAgICAgICAgICByZW5kZXJIZWFkZXJOYXZPcmRlcigpO1xuICAgICAgICB9KTtcblxuICAgICAgICBjb250cm9scy5hcHBlbmRDaGlsZCh1cCk7XG4gICAgICAgIGNvbnRyb2xzLmFwcGVuZENoaWxkKGRvd24pO1xuICAgICAgICBjb250cm9scy5hcHBlbmRDaGlsZChyZW1vdmUpO1xuXG4gICAgICAgIHJvdy5hcHBlbmRDaGlsZChtZXRhKTtcbiAgICAgICAgcm93LmFwcGVuZENoaWxkKGNvbnRyb2xzKTtcbiAgICAgICAgaGVhZGVyTmF2T3JkZXJMaXN0LmFwcGVuZENoaWxkKHJvdyk7XG4gICAgICB9KTtcbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IGNvbGxlY3RIZWFkZXJEYXRhID0gKCkgPT4ge1xuICAgICAgY29uc3QgbmF2ID0gKHNlbGVjdGVkTmF2UGFnZXMgfHwgW10pXG4gICAgICAgIC5tYXAoKGl0ZW0pID0+ICh7XG4gICAgICAgICAgbGFiZWw6IChpdGVtLmxhYmVsIHx8IGl0ZW0udXJsIHx8ICcnKS50b1N0cmluZygpLnRyaW0oKSxcbiAgICAgICAgICB1cmw6IG5vcm1hbGl6ZU5hdlBhZ2VVcmwoaXRlbS51cmwpLFxuICAgICAgICB9KSlcbiAgICAgICAgLmZpbHRlcigoaXRlbSkgPT4gaXRlbS51cmwpO1xuICAgICAgXG4gICAgICByZXR1cm4ge1xuICAgICAgICBsb2dvOiB7XG4gICAgICAgICAgc3JjOiBoZWFkZXJGaWVsZHMubG9nbz8udmFsdWU/LnRyaW0oKSB8fCAnJyxcbiAgICAgICAgICBhbHQ6IGhlYWRlckZpZWxkcy5sb2dvQWx0Py52YWx1ZT8udHJpbSgpIHx8ICcnLFxuICAgICAgICAgIHVybDogbm9ybWFsaXplT3B0aW9uYWxOYXZVcmwoaGVhZGVyRmllbGRzLmxvZ29Vcmw/LnZhbHVlLCAnLycpLFxuICAgICAgICB9LFxuICAgICAgICBuYXYsXG4gICAgICAgIGN0YToge1xuICAgICAgICAgIHRleHQ6IGhlYWRlckZpZWxkcy5jdGFUZXh0Py52YWx1ZT8udHJpbSgpIHx8ICcnLFxuICAgICAgICAgIHVybDogbm9ybWFsaXplT3B0aW9uYWxOYXZVcmwoaGVhZGVyRmllbGRzLmN0YVVybD8udmFsdWUsICcnKSxcbiAgICAgICAgICBzdHlsZTogaGVhZGVyRmllbGRzLmN0YVN0eWxlPy52YWx1ZSB8fCAncHJpbWFyeScsXG4gICAgICAgICAgdGV4dENvbG9yOiBoZWFkZXJGaWVsZHMuY3RhVGV4dENvbG9yPy52YWx1ZSB8fCAnJyxcbiAgICAgICAgfSxcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICBwb3NpdGlvbjogaGVhZGVyRmllbGRzLnBvc2l0aW9uPy52YWx1ZSB8fCAnc3RhdGljJyxcbiAgICAgICAgICBiZzogaGVhZGVyRmllbGRzLmJnPy52YWx1ZSB8fCAnYmctd2hpdGUnLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IHBvcHVsYXRlSGVhZGVyRm9ybSA9IGFzeW5jIChkYXRhKSA9PiB7XG4gICAgICBpZiAoIWRhdGEpIHJldHVybjtcbiAgICAgIGlmIChoZWFkZXJGaWVsZHMubG9nbykgaGVhZGVyRmllbGRzLmxvZ28udmFsdWUgPSBkYXRhLmxvZ28/LnNyYyB8fCAnJztcbiAgICAgIGlmIChoZWFkZXJGaWVsZHMubG9nb0FsdCkgaGVhZGVyRmllbGRzLmxvZ29BbHQudmFsdWUgPSBkYXRhLmxvZ28/LmFsdCB8fCAnJztcbiAgICAgIGlmIChoZWFkZXJGaWVsZHMubG9nb1VybCkgaGVhZGVyRmllbGRzLmxvZ29VcmwudmFsdWUgPSBub3JtYWxpemVPcHRpb25hbE5hdlVybChkYXRhLmxvZ28/LnVybCwgJy8nKTtcbiAgICAgIGlmIChoZWFkZXJGaWVsZHMuY3RhVGV4dCkgaGVhZGVyRmllbGRzLmN0YVRleHQudmFsdWUgPSBkYXRhLmN0YT8udGV4dCB8fCAnJztcbiAgICAgIGlmIChoZWFkZXJGaWVsZHMuY3RhVXJsKSBoZWFkZXJGaWVsZHMuY3RhVXJsLnZhbHVlID0gbm9ybWFsaXplT3B0aW9uYWxOYXZVcmwoZGF0YS5jdGE/LnVybCwgJycpO1xuICAgICAgaWYgKGhlYWRlckZpZWxkcy5jdGFTdHlsZSkgaGVhZGVyRmllbGRzLmN0YVN0eWxlLnZhbHVlID0gZGF0YS5jdGE/LnN0eWxlIHx8ICdwcmltYXJ5JztcbiAgICAgIGlmIChoZWFkZXJGaWVsZHMuY3RhVGV4dENvbG9yKSBoZWFkZXJGaWVsZHMuY3RhVGV4dENvbG9yLnZhbHVlID0gZGF0YS5jdGE/LnRleHRDb2xvciB8fCAnJztcbiAgICAgIGlmIChoZWFkZXJGaWVsZHMucG9zaXRpb24pIGhlYWRlckZpZWxkcy5wb3NpdGlvbi52YWx1ZSA9IGRhdGEuc3R5bGU/LnBvc2l0aW9uIHx8ICdzdGF0aWMnO1xuICAgICAgaWYgKGhlYWRlckZpZWxkcy5iZykgaGVhZGVyRmllbGRzLmJnLnZhbHVlID0gZGF0YS5zdHlsZT8uYmcgfHwgJ2JnLXdoaXRlJztcbiAgICAgIFxuICAgICAgLy8gU3RvY2tlciBsZXMgcGFnZXMgc1x1MDBFOWxlY3Rpb25uXHUwMEU5ZXMgcG91ciBsZXMgY2hlY2tib3hlc1xuICAgICAgc2VsZWN0ZWROYXZQYWdlcyA9IChkYXRhLm5hdiB8fCBbXSkubWFwKChpdGVtKSA9PiAoe1xuICAgICAgICAuLi5pdGVtLFxuICAgICAgICB1cmw6IG5vcm1hbGl6ZU5hdlBhZ2VVcmwoaXRlbS51cmwpLFxuICAgICAgfSkpO1xuICAgICAgXG4gICAgICAvLyBDaGFyZ2VyIGxlcyBwYWdlcyBldCBhZmZpY2hlciBsZXMgY2hlY2tib3hlc1xuICAgICAgYXdhaXQgbG9hZFNpdGVQYWdlc0ZvckhlYWRlcigpO1xuICAgICAgXG4gICAgICAvLyBVcGRhdGUgc3RhdHVzIGluZGljYXRvclxuICAgICAgY29uc3QgaGFzRGF0YSA9IGRhdGEubG9nbz8uc3JjIHx8IGRhdGEubmF2Py5sZW5ndGggPiAwIHx8IGRhdGEuY3RhPy50ZXh0O1xuICAgICAgaWYgKGhlYWRlclN0YXR1c0luZGljYXRvcikge1xuICAgICAgICBoZWFkZXJTdGF0dXNJbmRpY2F0b3IuY2xhc3NMaXN0LnRvZ2dsZSgnYmctZ3JlZW4tNTAwJywgISFoYXNEYXRhKTtcbiAgICAgICAgaGVhZGVyU3RhdHVzSW5kaWNhdG9yLmNsYXNzTGlzdC50b2dnbGUoJ2JnLXNsYXRlLTMwMCcsICFoYXNEYXRhKTtcbiAgICAgICAgaGVhZGVyU3RhdHVzSW5kaWNhdG9yLnRpdGxlID0gaGFzRGF0YSA/ICdDb25maWd1clx1MDBFOScgOiAnTm9uIGNvbmZpZ3VyXHUwMEU5JztcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaGVhZGVyU2F2ZUJ0bj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWxheW91dEFwaUJhc2UpIHJldHVybjtcbiAgICAgIGhlYWRlclNhdmVCdG4uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgaGVhZGVyU2F2ZUJ0bi50ZXh0Q29udGVudCA9ICdFbnJlZ2lzdHJlbWVudC4uLic7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBkYXRhID0gY29sbGVjdEhlYWRlckRhdGEoKTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtsYXlvdXRBcGlCYXNlfS9oZWFkZXJgLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICBjcmVkZW50aWFsczogJ2luY2x1ZGUnLFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgdGhyb3cgbmV3IEVycm9yKCdFcnJldXIgc2VydmV1cicpO1xuICAgICAgICBoZWFkZXJEYXRhID0gZGF0YTtcbiAgICAgICAgcG9wdWxhdGVIZWFkZXJGb3JtKGRhdGEpO1xuICAgICAgICBzaG93VG9hc3QoJ0hlYWRlciBlbnJlZ2lzdHJcdTAwRTknKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbaGVhZGVyXSBzYXZlIGVycm9yJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KCdFcnJldXIgbG9ycyBkZSBsXFwnZW5yZWdpc3RyZW1lbnQnLCAnZXJyb3InKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGhlYWRlclNhdmVCdG4uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgaGVhZGVyU2F2ZUJ0bi50ZXh0Q29udGVudCA9ICdFbnJlZ2lzdHJlcic7XG4gICAgICB9XG4gICAgfSk7XG4gICAgXG4gICAgLy8gXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXG4gICAgLy8gRk9PVEVSIEZVTkNUSU9OU1xuICAgIC8vIFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFxuICAgIGNvbnN0IGFkZEZvb3RlckxpbmsgPSAoY29udGFpbmVyLCBsYWJlbCA9ICcnLCB1cmwgPSAnJykgPT4ge1xuICAgICAgaWYgKCFmb290ZXJMaW5rVGVtcGxhdGUgfHwgIWNvbnRhaW5lcikgcmV0dXJuO1xuICAgICAgY29uc3QgY2xvbmUgPSBmb290ZXJMaW5rVGVtcGxhdGUuY29udGVudC5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICBjb25zdCBpdGVtID0gY2xvbmUucXVlcnlTZWxlY3RvcignW2RhdGEtZm9vdGVyLWxpbmtdJyk7XG4gICAgICBjb25zdCBsYWJlbElucHV0ID0gY2xvbmUucXVlcnlTZWxlY3RvcignW25hbWU9XCJsaW5rLWxhYmVsXCJdJyk7XG4gICAgICBjb25zdCB1cmxJbnB1dCA9IGNsb25lLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwibGluay11cmxcIl0nKTtcbiAgICAgIGNvbnN0IHJlbW92ZUJ0biA9IGNsb25lLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWxpbmstcmVtb3ZlXScpO1xuICAgICAgaWYgKGxhYmVsSW5wdXQpIGxhYmVsSW5wdXQudmFsdWUgPSBsYWJlbDtcbiAgICAgIGlmICh1cmxJbnB1dCkgdXJsSW5wdXQudmFsdWUgPSB1cmw7XG4gICAgICByZW1vdmVCdG4/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gaXRlbT8ucmVtb3ZlKCkpO1xuICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGNsb25lKTtcbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IGFkZEZvb3RlckNvbHVtbiA9ICh0aXRsZSA9ICcnLCBsaW5rcyA9IFtdKSA9PiB7XG4gICAgICBpZiAoIWZvb3RlckNvbHVtblRlbXBsYXRlIHx8ICFmb290ZXJDb2x1bW5zTGlzdCkgcmV0dXJuO1xuICAgICAgY29uc3QgY2xvbmUgPSBmb290ZXJDb2x1bW5UZW1wbGF0ZS5jb250ZW50LmNsb25lTm9kZSh0cnVlKTtcbiAgICAgIGNvbnN0IGNvbHVtbiA9IGNsb25lLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWZvb3Rlci1jb2x1bW5dJyk7XG4gICAgICBjb25zdCB0aXRsZUlucHV0ID0gY2xvbmUucXVlcnlTZWxlY3RvcignW25hbWU9XCJjb2x1bW4tdGl0bGVcIl0nKTtcbiAgICAgIGNvbnN0IGxpbmtzQ29udGFpbmVyID0gY2xvbmUucXVlcnlTZWxlY3RvcignW2RhdGEtY29sdW1uLWxpbmtzXScpO1xuICAgICAgY29uc3QgYWRkTGlua0J0biA9IGNsb25lLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbHVtbi1saW5rLWFkZF0nKTtcbiAgICAgIGNvbnN0IHJlbW92ZUJ0biA9IGNsb25lLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbHVtbi1yZW1vdmVdJyk7XG4gICAgICBpZiAodGl0bGVJbnB1dCkgdGl0bGVJbnB1dC52YWx1ZSA9IHRpdGxlO1xuICAgICAgbGlua3MuZm9yRWFjaChsaW5rID0+IGFkZEZvb3RlckxpbmsobGlua3NDb250YWluZXIsIGxpbmsubGFiZWwsIGxpbmsudXJsKSk7XG4gICAgICBhZGRMaW5rQnRuPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGFkZEZvb3RlckxpbmsobGlua3NDb250YWluZXIpKTtcbiAgICAgIHJlbW92ZUJ0bj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBjb2x1bW4/LnJlbW92ZSgpKTtcbiAgICAgIGZvb3RlckNvbHVtbnNMaXN0LmFwcGVuZENoaWxkKGNsb25lKTtcbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IGNvbGxlY3RGb290ZXJEYXRhID0gKCkgPT4ge1xuICAgICAgY29uc3QgY29sdW1ucyA9IFtdO1xuICAgICAgZm9vdGVyQ29sdW1uc0xpc3Q/LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWZvb3Rlci1jb2x1bW5dJykuZm9yRWFjaChjb2wgPT4ge1xuICAgICAgICBjb25zdCB0aXRsZSA9IGNvbC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImNvbHVtbi10aXRsZVwiXScpPy52YWx1ZT8udHJpbSgpIHx8ICcnO1xuICAgICAgICBjb25zdCBsaW5rcyA9IFtdO1xuICAgICAgICBjb2wucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtZm9vdGVyLWxpbmtdJykuZm9yRWFjaChsaW5rRWwgPT4ge1xuICAgICAgICAgIGNvbnN0IGxhYmVsID0gbGlua0VsLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwibGluay1sYWJlbFwiXScpPy52YWx1ZT8udHJpbSgpIHx8ICcnO1xuICAgICAgICAgIGNvbnN0IHVybCA9IGxpbmtFbC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImxpbmstdXJsXCJdJyk/LnZhbHVlPy50cmltKCkgfHwgJyc7XG4gICAgICAgICAgaWYgKGxhYmVsIHx8IHVybCkgbGlua3MucHVzaCh7IGxhYmVsLCB1cmwgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAodGl0bGUgfHwgbGlua3MubGVuZ3RoID4gMCkgY29sdW1ucy5wdXNoKHsgdGl0bGUsIGxpbmtzIH0pO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBjb2x1bW5zLFxuICAgICAgICBzb2NpYWxzOiB7XG4gICAgICAgICAgbGlua2VkaW46IGZvb3RlckZpZWxkcy5saW5rZWRpbj8udmFsdWU/LnRyaW0oKSB8fCAnJyxcbiAgICAgICAgICB0d2l0dGVyOiBmb290ZXJGaWVsZHMudHdpdHRlcj8udmFsdWU/LnRyaW0oKSB8fCAnJyxcbiAgICAgICAgICBpbnN0YWdyYW06IGZvb3RlckZpZWxkcy5pbnN0YWdyYW0/LnZhbHVlPy50cmltKCkgfHwgJycsXG4gICAgICAgICAgZmFjZWJvb2s6IGZvb3RlckZpZWxkcy5mYWNlYm9vaz8udmFsdWU/LnRyaW0oKSB8fCAnJyxcbiAgICAgICAgICB5b3V0dWJlOiBmb290ZXJGaWVsZHMueW91dHViZT8udmFsdWU/LnRyaW0oKSB8fCAnJyxcbiAgICAgICAgICBnaXRodWI6IGZvb3RlckZpZWxkcy5naXRodWI/LnZhbHVlPy50cmltKCkgfHwgJycsXG4gICAgICAgIH0sXG4gICAgICAgIGNvcHlyaWdodDogZm9vdGVyRmllbGRzLmNvcHlyaWdodD8udmFsdWU/LnRyaW0oKSB8fCAnJyxcbiAgICAgICAgbGVnYWw6IHtcbiAgICAgICAgICB1cmw6IGZvb3RlckZpZWxkcy5sZWdhbFVybD8udmFsdWU/LnRyaW0oKSB8fCAnJyxcbiAgICAgICAgICBwcml2YWN5VXJsOiBmb290ZXJGaWVsZHMucHJpdmFjeVVybD8udmFsdWU/LnRyaW0oKSB8fCAnJyxcbiAgICAgICAgfSxcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICBiZzogZm9vdGVyRmllbGRzLmJnPy52YWx1ZSB8fCAnYmctc2xhdGUtOTAwIHRleHQtd2hpdGUnLFxuICAgICAgICAgIGNvbHVtbnNDb3VudDogZm9vdGVyRmllbGRzLmNvbHVtbnNDb3VudD8udmFsdWUgfHwgJzQnLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IHBvcHVsYXRlRm9vdGVyRm9ybSA9IChkYXRhKSA9PiB7XG4gICAgICBpZiAoIWRhdGEpIHJldHVybjtcbiAgICAgIGlmIChmb290ZXJGaWVsZHMubGlua2VkaW4pIGZvb3RlckZpZWxkcy5saW5rZWRpbi52YWx1ZSA9IGRhdGEuc29jaWFscz8ubGlua2VkaW4gfHwgJyc7XG4gICAgICBpZiAoZm9vdGVyRmllbGRzLnR3aXR0ZXIpIGZvb3RlckZpZWxkcy50d2l0dGVyLnZhbHVlID0gZGF0YS5zb2NpYWxzPy50d2l0dGVyIHx8ICcnO1xuICAgICAgaWYgKGZvb3RlckZpZWxkcy5pbnN0YWdyYW0pIGZvb3RlckZpZWxkcy5pbnN0YWdyYW0udmFsdWUgPSBkYXRhLnNvY2lhbHM/Lmluc3RhZ3JhbSB8fCAnJztcbiAgICAgIGlmIChmb290ZXJGaWVsZHMuZmFjZWJvb2spIGZvb3RlckZpZWxkcy5mYWNlYm9vay52YWx1ZSA9IGRhdGEuc29jaWFscz8uZmFjZWJvb2sgfHwgJyc7XG4gICAgICBpZiAoZm9vdGVyRmllbGRzLnlvdXR1YmUpIGZvb3RlckZpZWxkcy55b3V0dWJlLnZhbHVlID0gZGF0YS5zb2NpYWxzPy55b3V0dWJlIHx8ICcnO1xuICAgICAgaWYgKGZvb3RlckZpZWxkcy5naXRodWIpIGZvb3RlckZpZWxkcy5naXRodWIudmFsdWUgPSBkYXRhLnNvY2lhbHM/LmdpdGh1YiB8fCAnJztcbiAgICAgIGlmIChmb290ZXJGaWVsZHMuY29weXJpZ2h0KSBmb290ZXJGaWVsZHMuY29weXJpZ2h0LnZhbHVlID0gZGF0YS5jb3B5cmlnaHQgfHwgJyc7XG4gICAgICBpZiAoZm9vdGVyRmllbGRzLmxlZ2FsVXJsKSBmb290ZXJGaWVsZHMubGVnYWxVcmwudmFsdWUgPSBkYXRhLmxlZ2FsPy51cmwgfHwgJyc7XG4gICAgICBpZiAoZm9vdGVyRmllbGRzLnByaXZhY3lVcmwpIGZvb3RlckZpZWxkcy5wcml2YWN5VXJsLnZhbHVlID0gZGF0YS5sZWdhbD8ucHJpdmFjeVVybCB8fCAnJztcbiAgICAgIGlmIChmb290ZXJGaWVsZHMuYmcpIGZvb3RlckZpZWxkcy5iZy52YWx1ZSA9IGRhdGEuc3R5bGU/LmJnIHx8ICdiZy1zbGF0ZS05MDAgdGV4dC13aGl0ZSc7XG4gICAgICBpZiAoZm9vdGVyRmllbGRzLmNvbHVtbnNDb3VudCkgZm9vdGVyRmllbGRzLmNvbHVtbnNDb3VudC52YWx1ZSA9IGRhdGEuc3R5bGU/LmNvbHVtbnNDb3VudCB8fCAnNCc7XG4gICAgICAvLyBQb3B1bGF0ZSBjb2x1bW5zXG4gICAgICBpZiAoZm9vdGVyQ29sdW1uc0xpc3QpIGZvb3RlckNvbHVtbnNMaXN0LmlubmVySFRNTCA9ICcnO1xuICAgICAgKGRhdGEuY29sdW1ucyB8fCBbXSkuZm9yRWFjaChjb2wgPT4gYWRkRm9vdGVyQ29sdW1uKGNvbC50aXRsZSwgY29sLmxpbmtzKSk7XG4gICAgICAvLyBVcGRhdGUgc3RhdHVzIGluZGljYXRvclxuICAgICAgY29uc3QgaGFzRGF0YSA9IGRhdGEuY29sdW1ucz8ubGVuZ3RoID4gMCB8fCBkYXRhLmNvcHlyaWdodCB8fCBPYmplY3QudmFsdWVzKGRhdGEuc29jaWFscyB8fCB7fSkuc29tZSh2ID0+IHYpO1xuICAgICAgaWYgKGZvb3RlclN0YXR1c0luZGljYXRvcikge1xuICAgICAgICBmb290ZXJTdGF0dXNJbmRpY2F0b3IuY2xhc3NMaXN0LnRvZ2dsZSgnYmctZ3JlZW4tNTAwJywgISFoYXNEYXRhKTtcbiAgICAgICAgZm9vdGVyU3RhdHVzSW5kaWNhdG9yLmNsYXNzTGlzdC50b2dnbGUoJ2JnLXNsYXRlLTMwMCcsICFoYXNEYXRhKTtcbiAgICAgICAgZm9vdGVyU3RhdHVzSW5kaWNhdG9yLnRpdGxlID0gaGFzRGF0YSA/ICdDb25maWd1clx1MDBFOScgOiAnTm9uIGNvbmZpZ3VyXHUwMEU5JztcbiAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIGZvb3RlckNvbHVtbkFkZEJ0bj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBhZGRGb290ZXJDb2x1bW4oKSk7XG4gICAgXG4gICAgZm9vdGVyU2F2ZUJ0bj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWxheW91dEFwaUJhc2UpIHJldHVybjtcbiAgICAgIGZvb3RlclNhdmVCdG4uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgZm9vdGVyU2F2ZUJ0bi50ZXh0Q29udGVudCA9ICdFbnJlZ2lzdHJlbWVudC4uLic7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBkYXRhID0gY29sbGVjdEZvb3RlckRhdGEoKTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtsYXlvdXRBcGlCYXNlfS9mb290ZXJgLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICBjcmVkZW50aWFsczogJ2luY2x1ZGUnLFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgdGhyb3cgbmV3IEVycm9yKCdFcnJldXIgc2VydmV1cicpO1xuICAgICAgICBmb290ZXJEYXRhID0gZGF0YTtcbiAgICAgICAgcG9wdWxhdGVGb290ZXJGb3JtKGRhdGEpO1xuICAgICAgICBzaG93VG9hc3QoJ0Zvb3RlciBlbnJlZ2lzdHJcdTAwRTknKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZm9vdGVyXSBzYXZlIGVycm9yJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KCdFcnJldXIgbG9ycyBkZSBsXFwnZW5yZWdpc3RyZW1lbnQnLCAnZXJyb3InKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGZvb3RlclNhdmVCdG4uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgZm9vdGVyU2F2ZUJ0bi50ZXh0Q29udGVudCA9ICdFbnJlZ2lzdHJlcic7XG4gICAgICB9XG4gICAgfSk7XG4gICAgXG4gICAgLy8gTG9hZCBsYXlvdXQgZGF0YSBvbiBpbml0XG4gICAgY29uc3QgbG9hZExheW91dERhdGEgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWxheW91dEFwaUJhc2UpIHJldHVybjtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2gobGF5b3V0QXBpQmFzZSwgeyBjcmVkZW50aWFsczogJ2luY2x1ZGUnIH0pO1xuICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgIGlmIChkYXRhLmhlYWRlcikge1xuICAgICAgICAgICAgaGVhZGVyRGF0YSA9IGRhdGEuaGVhZGVyO1xuICAgICAgICAgICAgcG9wdWxhdGVIZWFkZXJGb3JtKGRhdGEuaGVhZGVyKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGRhdGEuZm9vdGVyKSB7XG4gICAgICAgICAgICBmb290ZXJEYXRhID0gZGF0YS5mb290ZXI7XG4gICAgICAgICAgICBwb3B1bGF0ZUZvb3RlckZvcm0oZGF0YS5mb290ZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tsYXlvdXRdIGxvYWQgZXJyb3InLCBlcnIpO1xuICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgLy8gSW5pdGlhbGl6ZSBsYXlvdXQgZGF0YVxuICAgIGxvYWRMYXlvdXREYXRhKCk7XG4gICAgXG4gICAgY29uc3Qgc2FmZVNpdGVTbHVnVmFsdWUgPSBzdHJpcExlYWRpbmdTbGFzaChcbiAgICAgIHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJycsXG4gICAgKTtcbiAgICBjb25zdCBjb2xsZWN0aW9uc0FwaUJhc2UgPSBzYWZlU2l0ZVNsdWdWYWx1ZVxuICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWdWYWx1ZSl9L2NvbGxlY3Rpb25zYFxuICAgICAgOiBudWxsO1xuXG4gICAgbGV0IGNvbGxlY3Rpb25zID0gW107XG4gICAgbGV0IGNvbGxlY3Rpb25JdGVtcyA9IFtdO1xuICAgIGxldCBhY3RpdmVDb2xsZWN0aW9uSWQgPSBudWxsO1xuICAgIGxldCBhY3RpdmVJdGVtSWQgPSBudWxsO1xuICAgIGxldCBpc0NyZWF0aW5nSXRlbSA9IGZhbHNlO1xuICAgIGxldCBpdGVtU2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gICAgbGV0IHBlbmRpbmdEZWxldGVJdGVtSWQgPSBudWxsO1xuXG4gICAgY29uc3Qgbm9ybWFsaXplSXRlbVNsdWdJbnB1dCA9ICh2YWx1ZSkgPT4ge1xuICAgICAgY29uc3QgcmF3ID0gKHZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICBpZiAoIXJhdykge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgICB9XG4gICAgICBpZiAocmF3ID09PSAnLycpIHtcbiAgICAgICAgcmV0dXJuICcvJztcbiAgICAgIH1cbiAgICAgIGNvbnN0IHNlZ21lbnRzID0gcmF3LnJlcGxhY2UoL15cXC8vLCAnJykuc3BsaXQoJy8nKTtcbiAgICAgIGNvbnN0IGNsZWFuZWRTZWdtZW50cyA9IHNlZ21lbnRzXG4gICAgICAgIC5tYXAoKHNlZ21lbnQpID0+IHdvcmtzcGFjZVNsdWdpZnkoc2VnbWVudCB8fCAnJykpXG4gICAgICAgIC5maWx0ZXIoKHNlZ21lbnQpID0+IHNlZ21lbnQubGVuZ3RoID4gMCk7XG4gICAgICBpZiAoIWNsZWFuZWRTZWdtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGAvJHtjbGVhbmVkU2VnbWVudHMuam9pbignLycpfWA7XG4gICAgfTtcblxuICAgIGNvbnN0IGZvcm1hdEl0ZW1EYXRlID0gKHZhbHVlKSA9PiB7XG4gICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgIHJldHVybiAnXHUyMDE0JztcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSh2YWx1ZSk7XG4gICAgICBpZiAoTnVtYmVyLmlzTmFOKGRhdGUuZ2V0VGltZSgpKSkge1xuICAgICAgICByZXR1cm4gJ1x1MjAxNCc7XG4gICAgICB9XG4gICAgICByZXR1cm4gZGF0ZS50b0xvY2FsZURhdGVTdHJpbmcoJ2ZyLUZSJywgeyBkYXk6ICcyLWRpZ2l0JywgbW9udGg6ICdzaG9ydCcsIHllYXI6ICdudW1lcmljJyB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgdXBkYXRlQ29sbGVjdGlvbkhlYWRlciA9ICgpID0+IHtcbiAgICAgIGNvbnN0IGNvbGxlY3Rpb24gPSBjb2xsZWN0aW9ucy5maW5kKChlbnRyeSkgPT4gZW50cnkuaWQgPT09IGFjdGl2ZUNvbGxlY3Rpb25JZCk7XG4gICAgICBpZiAoY29sbGVjdGlvblRpdGxlKSB7XG4gICAgICAgIGNvbGxlY3Rpb25UaXRsZS50ZXh0Q29udGVudCA9IGNvbGxlY3Rpb24/Lm5hbWUgfHwgJ1NcdTAwRTlsZWN0aW9ubmV6IHVuZSBjb2xsZWN0aW9uJztcbiAgICAgIH1cbiAgICAgIGlmIChjb2xsZWN0aW9uRGVzY3JpcHRpb24pIHtcbiAgICAgICAgY29sbGVjdGlvbkRlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gY29sbGVjdGlvbj8uZGVzY3JpcHRpb24gfHwgJyc7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHVwZGF0ZUl0ZW1zRW1wdHlNZXNzYWdlID0gKG1lc3NhZ2UpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvbkl0ZW1zRW1wdHkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29sbGVjdGlvbkl0ZW1zRW1wdHkudGV4dENvbnRlbnQgPVxuICAgICAgICBtZXNzYWdlIHx8XG4gICAgICAgIChhY3RpdmVDb2xsZWN0aW9uSWRcbiAgICAgICAgICA/ICdBdWN1biBpdGVtIGRhbnMgY2V0dGUgY29sbGVjdGlvbiBwb3VyIGxlIG1vbWVudC4nXG4gICAgICAgICAgOiAnQ2hvaXNpc3NleiB1bmUgY29sbGVjdGlvbiBkYW5zIGxlIHBhbm5lYXUgZGUgZ2F1Y2hlLicpO1xuICAgIH07XG5cbiAgICBjb25zdCBoaWRlSXRlbUZvcm0gPSAoKSA9PiB7XG4gICAgICBpZiAoaXRlbUZvcm0pIHtcbiAgICAgICAgaXRlbUZvcm0uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIGl0ZW1Gb3JtLmRhdGFzZXQuaXRlbUlkID0gJyc7XG4gICAgICB9XG4gICAgICBpdGVtRGV0YWlsRW1wdHk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgaWYgKGl0ZW1TdGF0dXNCYWRnZSkge1xuICAgICAgICBpdGVtU3RhdHVzQmFkZ2UuY2xhc3NOYW1lID0gYGhpZGRlbiAke3N0YXR1c0JhZGdlQmFzZUNsYXNzfWA7XG4gICAgICAgIGl0ZW1TdGF0dXNCYWRnZS50ZXh0Q29udGVudCA9ICcnO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1EZWxldGVCdXR0b24pIHtcbiAgICAgICAgaXRlbURlbGV0ZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICB9XG4gICAgICBzeW5jSXRlbVBhbmVsV2l0aFZpZXdwb3J0KCk7XG4gICAgfTtcblxuICAgIGNvbnN0IHNob3dJdGVtRm9ybSA9ICgpID0+IHtcbiAgICAgIGlmICghaXRlbUZvcm0pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaXRlbUZvcm0uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBpdGVtRGV0YWlsRW1wdHk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgc3luY0l0ZW1QYW5lbFdpdGhWaWV3cG9ydCgpO1xuICAgIH07XG5cbiAgICBjb25zdCBzeW5jQWRkQnV0dG9uU3RhdGUgPSAoKSA9PiB7XG4gICAgICBpZiAoIWl0ZW1BZGRCdXR0b24pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaXRlbUFkZEJ1dHRvbi5kaXNhYmxlZCA9ICFhY3RpdmVDb2xsZWN0aW9uSWQ7XG4gICAgICBpZiAoaXRlbUFkZEJ1dHRvbi5kaXNhYmxlZCkge1xuICAgICAgICBpdGVtQWRkQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ29wYWNpdHktNjAnLCAncG9pbnRlci1ldmVudHMtbm9uZScpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaXRlbUFkZEJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdvcGFjaXR5LTYwJywgJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3Qgc3luY0l0ZW1TdGF0dXNCYWRnZSA9IChzdGF0dXMpID0+IHtcbiAgICAgIGlmICghaXRlbVN0YXR1c0JhZGdlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghc3RhdHVzKSB7XG4gICAgICAgIGl0ZW1TdGF0dXNCYWRnZS5jbGFzc05hbWUgPSBgaGlkZGVuICR7c3RhdHVzQmFkZ2VCYXNlQ2xhc3N9YDtcbiAgICAgICAgaXRlbVN0YXR1c0JhZGdlLnRleHRDb250ZW50ID0gJyc7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBzdGF0dXMudG9Mb3dlckNhc2UoKTtcbiAgICAgIGxldCBjb2xvckNsYXNzID0gJ2JnLXNsYXRlLTEwMCB0ZXh0LXNsYXRlLTYwMCBib3JkZXIgYm9yZGVyLXNsYXRlLTIwMCc7XG4gICAgICBpZiAobm9ybWFsaXplZCA9PT0gJ3B1YmxpXHUwMEU5JyB8fCBub3JtYWxpemVkID09PSAncHVibGllJykge1xuICAgICAgICBjb2xvckNsYXNzID0gJ2JnLWVtZXJhbGQtNTAgdGV4dC1lbWVyYWxkLTcwMCBib3JkZXIgYm9yZGVyLWVtZXJhbGQtMTAwJztcbiAgICAgIH0gZWxzZSBpZiAobm9ybWFsaXplZCA9PT0gJ2Jyb3VpbGxvbicpIHtcbiAgICAgICAgY29sb3JDbGFzcyA9ICdiZy1hbWJlci01MCB0ZXh0LWFtYmVyLTcwMCBib3JkZXIgYm9yZGVyLWFtYmVyLTEwMCc7XG4gICAgICB9XG4gICAgICBpdGVtU3RhdHVzQmFkZ2UuY2xhc3NOYW1lID0gYCR7c3RhdHVzQmFkZ2VCYXNlQ2xhc3N9ICR7Y29sb3JDbGFzc31gO1xuICAgICAgaXRlbVN0YXR1c0JhZGdlLnRleHRDb250ZW50ID0gc3RhdHVzO1xuICAgIH07XG5cbiAgICBjb25zdCByZW5kZXJDb2xsZWN0aW9uTGlzdCA9ICgpID0+IHtcbiAgICAgIGNvbGxlY3Rpb25MaXN0LmlubmVySFRNTCA9ICcnO1xuICAgICAgLy8gVXBkYXRlIGNvbGxlY3Rpb24gY291bnRcbiAgICAgIGlmIChjb2xsZWN0aW9uQ291bnRFbCkgY29sbGVjdGlvbkNvdW50RWwudGV4dENvbnRlbnQgPSBjb2xsZWN0aW9ucy5sZW5ndGg7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25zLmxlbmd0aCkge1xuICAgICAgICBjb2xsZWN0aW9uRW1wdHlTdGF0ZT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbGxlY3Rpb25FbXB0eVN0YXRlPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGNvbGxlY3Rpb25zLmZvckVhY2goKGNvbGxlY3Rpb24pID0+IHtcbiAgICAgICAgY29uc3QgaXNBY3RpdmUgPSBjb2xsZWN0aW9uLmlkID09PSBhY3RpdmVDb2xsZWN0aW9uSWQ7XG4gICAgICAgIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICBidXR0b24udHlwZSA9ICdidXR0b24nO1xuICAgICAgICBidXR0b24uZGF0YXNldC5jb2xsZWN0aW9uSWQgPSBjb2xsZWN0aW9uLmlkO1xuICAgICAgICBidXR0b24uY2xhc3NOYW1lID0gW1xuICAgICAgICAgICd3LWZ1bGwgcm91bmRlZC14bCBib3JkZXIgcHgtMyBweS0yIHRleHQtbGVmdCB0cmFuc2l0aW9uIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1bIzlDNkJGRl0vNDAnLFxuICAgICAgICAgIGlzQWN0aXZlXG4gICAgICAgICAgICA/ICdiZy1bI0Y3RjBGRl0gYm9yZGVyLVsjOUM2QkZGXS80MCB0ZXh0LXNsYXRlLTkwMCdcbiAgICAgICAgICAgIDogJ2JvcmRlci1zbGF0ZS0yMDAgdGV4dC1zbGF0ZS03MDAgaG92ZXI6Ym9yZGVyLVsjOUM2QkZGXS80MCcsXG4gICAgICAgIF0uam9pbignICcpO1xuICAgICAgICBidXR0b24uc2V0QXR0cmlidXRlKCdyb2xlJywgJ29wdGlvbicpO1xuICAgICAgICBpZiAoaXNBY3RpdmUpIHtcbiAgICAgICAgICBidXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLWN1cnJlbnQnLCAndHJ1ZScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGJ1dHRvbi5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtY3VycmVudCcpO1xuICAgICAgICB9XG4gICAgICAgIGJ1dHRvbi5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBnYXAtMlwiPlxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXNtIGZvbnQtc2VtaWJvbGRcIj4ke2NvbGxlY3Rpb24ubmFtZSB8fCBjb2xsZWN0aW9uLmlkfTwvcD5cbiAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNTAwXCI+JHtjb2xsZWN0aW9uLmRlc2NyaXB0aW9uIHx8ICcnfTwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LVsxMXB4XSB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZSB0ZXh0LXNsYXRlLTQwMFwiPiR7Y29sbGVjdGlvbi50eXBlIHx8ICcnfTwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgYDtcbiAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgIHNldEFjdGl2ZUNvbGxlY3Rpb24oY29sbGVjdGlvbi5pZCk7XG4gICAgICAgIH0pO1xuICAgICAgICBjb2xsZWN0aW9uTGlzdC5hcHBlbmRDaGlsZChidXR0b24pO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IHJlbmRlckl0ZW1UYWJsZSA9ICgpID0+IHtcbiAgICAgIGlmICghaXRlbVRhYmxlQm9keSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpdGVtVGFibGVCb2R5LmlubmVySFRNTCA9ICcnO1xuICAgICAgaWYgKCFjb2xsZWN0aW9uSXRlbXMubGVuZ3RoIHx8ICFhY3RpdmVDb2xsZWN0aW9uSWQpIHtcbiAgICAgICAgY29sbGVjdGlvbkl0ZW1zRW1wdHk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICB1cGRhdGVJdGVtc0VtcHR5TWVzc2FnZSgpO1xuICAgICAgICBpdGVtVGFibGVXcmFwcGVyPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29sbGVjdGlvbkl0ZW1zRW1wdHk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgaXRlbVRhYmxlV3JhcHBlcj8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBjb2xsZWN0aW9uSXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICBjb25zdCByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpO1xuICAgICAgICByb3cuZGF0YXNldC5pdGVtSWQgPSBpdGVtLmlkO1xuICAgICAgICBjb25zdCBpc0FjdGl2ZSA9IGl0ZW0uaWQgPT09IGFjdGl2ZUl0ZW1JZCAmJiAhaXNDcmVhdGluZ0l0ZW07XG4gICAgICAgIHJvdy5jbGFzc05hbWUgPSBbXG4gICAgICAgICAgJ2N1cnNvci1wb2ludGVyIHRyYW5zaXRpb24gZm9jdXMtd2l0aGluOmJnLVsjRjdGMEZGXS83MCBmb2N1czpvdXRsaW5lLW5vbmUnLFxuICAgICAgICAgIGlzQWN0aXZlID8gJ2JnLVsjRjdGMEZGXS83MCcgOiAnaG92ZXI6Ymctc2xhdGUtNTAnLFxuICAgICAgICBdLmpvaW4oJyAnKTtcbiAgICAgICAgcm93LnRhYkluZGV4ID0gMDtcbiAgICAgICAgcm93LnNldEF0dHJpYnV0ZSgncm9sZScsICdidXR0b24nKTtcbiAgICAgICAgaWYgKGlzQWN0aXZlKSB7XG4gICAgICAgICAgcm93LnNldEF0dHJpYnV0ZSgnYXJpYS1jdXJyZW50JywgJ3RydWUnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByb3cucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWN1cnJlbnQnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzdGF0dXMgPSBpdGVtLnN0YXR1cyB8fCAnQnJvdWlsbG9uJztcbiAgICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IHN0YXR1cy50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBjb25zdCBzdGF0dXNDbGFzc2VzID1cbiAgICAgICAgICBub3JtYWxpemVkID09PSAncHVibGlcdTAwRTknIHx8IG5vcm1hbGl6ZWQgPT09ICdwdWJsaWUnXG4gICAgICAgICAgICA/ICdiZy1lbWVyYWxkLTUwIHRleHQtZW1lcmFsZC03MDAgYm9yZGVyIGJvcmRlci1lbWVyYWxkLTEwMCdcbiAgICAgICAgICAgIDogJ2JnLWFtYmVyLTUwIHRleHQtYW1iZXItNzAwIGJvcmRlciBib3JkZXItYW1iZXItMTAwJztcbiAgICAgICAgcm93LmlubmVySFRNTCA9IGBcbiAgICAgICAgICA8dGQgY2xhc3M9XCJweC00IHB5LTMgYWxpZ24tdG9wXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQtc20gZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTkwMFwiPiR7aXRlbS50aXRsZSB8fCAnU2FucyB0aXRyZSd9PC9zcGFuPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQteHMgdGV4dC1zbGF0ZS01MDBcIj4ke2l0ZW0uc3VtbWFyeSB8fCBpdGVtLmV4Y2VycHQgfHwgJyd9PC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC90ZD5cbiAgICAgICAgICA8dGQgY2xhc3M9XCJweC00IHB5LTMgYWxpZ24tdG9wIHRleHQtc20gdGV4dC1zbGF0ZS02MDBcIj4ke2l0ZW0uc2x1ZyB8fCAnJ308L3RkPlxuICAgICAgICAgIDx0ZCBjbGFzcz1cInB4LTQgcHktMyBhbGlnbi10b3BcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIHJvdW5kZWQtZnVsbCBweC0zIHB5LTEgdGV4dC14cyBmb250LXNlbWlib2xkICR7c3RhdHVzQ2xhc3Nlc31cIj5cbiAgICAgICAgICAgICAgJHtzdGF0dXN9XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC90ZD5cbiAgICAgICAgICA8dGQgY2xhc3M9XCJweC00IHB5LTMgYWxpZ24tdG9wIHRleHQtc20gdGV4dC1zbGF0ZS01MDBcIj4ke2Zvcm1hdEl0ZW1EYXRlKFxuICAgICAgICAgICAgaXRlbS51cGRhdGVkQXQgfHwgaXRlbS5jcmVhdGVkQXQsXG4gICAgICAgICAgKX08L3RkPlxuICAgICAgICBgO1xuICAgICAgICBjb25zdCBoYW5kbGVTZWxlY3QgPSAoKSA9PiB7XG4gICAgICAgICAgc2VsZWN0SXRlbShpdGVtLmlkKTtcbiAgICAgICAgfTtcbiAgICAgICAgcm93LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlU2VsZWN0KTtcbiAgICAgICAgcm93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICBpZiAoZXZlbnQua2V5ID09PSAnRW50ZXInIHx8IGV2ZW50LmtleSA9PT0gJyAnKSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgaGFuZGxlU2VsZWN0KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaXRlbVRhYmxlQm9keS5hcHBlbmRDaGlsZChyb3cpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IHNlbGVjdEl0ZW0gPSAoaXRlbUlkKSA9PiB7XG4gICAgICBjb25zdCBpdGVtID0gY29sbGVjdGlvbkl0ZW1zLmZpbmQoKGVudHJ5KSA9PiBlbnRyeS5pZCA9PT0gaXRlbUlkKTtcbiAgICAgIGlmICghaXRlbSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhY3RpdmVJdGVtSWQgPSBpdGVtLmlkO1xuICAgICAgaXNDcmVhdGluZ0l0ZW0gPSBmYWxzZTtcbiAgICAgIGl0ZW1TbHVnTWFudWFsbHlFZGl0ZWQgPSB0cnVlO1xuICAgICAgcG9wdWxhdGVJdGVtRm9ybShpdGVtKTtcbiAgICAgIHJlbmRlckl0ZW1UYWJsZSgpO1xuICAgIH07XG5cbiAgICBjb25zdCBwb3B1bGF0ZUl0ZW1Gb3JtID0gKGl0ZW0pID0+IHtcbiAgICAgIGlmICghaXRlbUZvcm0gfHwgIWl0ZW0pIHtcbiAgICAgICAgaGlkZUl0ZW1Gb3JtKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNob3dJdGVtRm9ybSgpO1xuICAgICAgaXRlbUZvcm0uZGF0YXNldC5pdGVtSWQgPSBpdGVtLmlkO1xuICAgICAgaWYgKGl0ZW1Gb3JtRmllbGRzLnRpdGxlKSB7XG4gICAgICAgIGl0ZW1Gb3JtRmllbGRzLnRpdGxlLnZhbHVlID0gaXRlbS50aXRsZSB8fCAnJztcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtRm9ybUZpZWxkcy5zbHVnKSB7XG4gICAgICAgIGl0ZW1Gb3JtRmllbGRzLnNsdWcudmFsdWUgPSBpdGVtLnNsdWcgfHwgJyc7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbUZvcm1GaWVsZHMuZXhjZXJwdCkge1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy5leGNlcnB0LnZhbHVlID0gaXRlbS5zdW1tYXJ5IHx8IGl0ZW0uZXhjZXJwdCB8fCAnJztcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtRm9ybUZpZWxkcy5jb250ZW50KSB7XG4gICAgICAgIGl0ZW1Gb3JtRmllbGRzLmNvbnRlbnQudmFsdWUgPSBpdGVtLmNvbnRlbnQgfHwgJyc7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbUZvcm1GaWVsZHMuaW1hZ2UpIHtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMuaW1hZ2UudmFsdWUgPSBpdGVtLmltYWdlIHx8ICcnO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1Gb3JtRmllbGRzLmN0YVRleHQpIHtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMuY3RhVGV4dC52YWx1ZSA9IGl0ZW0uY3RhPy50ZXh0IHx8IGl0ZW0uY3RhVGV4dCB8fCAnJztcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtRm9ybUZpZWxkcy5jdGFVcmwpIHtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMuY3RhVXJsLnZhbHVlID0gaXRlbS5jdGE/LnVybCB8fCBpdGVtLmN0YVVybCB8fCAnJztcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtRm9ybUZpZWxkcy5zdGF0dXMpIHtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMuc3RhdHVzLnZhbHVlID0gaXRlbS5zdGF0dXMgfHwgJ0Jyb3VpbGxvbic7XG4gICAgICB9XG4gICAgICBzeW5jSXRlbVN0YXR1c0JhZGdlKGl0ZW0uc3RhdHVzIHx8ICdCcm91aWxsb24nKTtcbiAgICAgIGlmIChpdGVtRGVsZXRlQnV0dG9uKSB7XG4gICAgICAgIGl0ZW1EZWxldGVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgcHJlcGFyZU5ld0l0ZW1Gb3JtID0gKCkgPT4ge1xuICAgICAgaWYgKCFpdGVtRm9ybSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpc0NyZWF0aW5nSXRlbSA9IHRydWU7XG4gICAgICBhY3RpdmVJdGVtSWQgPSBudWxsO1xuICAgICAgaXRlbVNsdWdNYW51YWxseUVkaXRlZCA9IGZhbHNlO1xuICAgICAgaXRlbUZvcm0uZGF0YXNldC5pdGVtSWQgPSAnJztcbiAgICAgIGl0ZW1Gb3JtLnJlc2V0KCk7XG4gICAgICBpZiAoaXRlbUZvcm1GaWVsZHMuc3RhdHVzKSB7XG4gICAgICAgIGl0ZW1Gb3JtRmllbGRzLnN0YXR1cy52YWx1ZSA9ICdCcm91aWxsb24nO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1Gb3JtRmllbGRzLnNsdWcpIHtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMuc2x1Zy52YWx1ZSA9ICcnO1xuICAgICAgfVxuICAgICAgc3luY0l0ZW1TdGF0dXNCYWRnZSgnQnJvdWlsbG9uJyk7XG4gICAgICBzaG93SXRlbUZvcm0oKTtcbiAgICAgIGlmIChpdGVtRGVsZXRlQnV0dG9uKSB7XG4gICAgICAgIGl0ZW1EZWxldGVCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaXRlbUZvcm1GaWVsZHMudGl0bGU/LmZvY3VzKCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGNvbGxlY3RJdGVtRm9ybVZhbHVlcyA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHRpdGxlID0gKGl0ZW1Gb3JtRmllbGRzLnRpdGxlPy52YWx1ZSB8fCAnJykudHJpbSgpO1xuICAgICAgY29uc3Qgc2x1Z0lucHV0ID0gKGl0ZW1Gb3JtRmllbGRzLnNsdWc/LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICBjb25zdCBzdW1tYXJ5ID0gKGl0ZW1Gb3JtRmllbGRzLmV4Y2VycHQ/LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICBjb25zdCBjb250ZW50ID0gKGl0ZW1Gb3JtRmllbGRzLmNvbnRlbnQ/LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICBjb25zdCBpbWFnZSA9IChpdGVtRm9ybUZpZWxkcy5pbWFnZT8udmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgIGNvbnN0IGN0YVRleHQgPSAoaXRlbUZvcm1GaWVsZHMuY3RhVGV4dD8udmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgIGNvbnN0IGN0YVVybCA9IChpdGVtRm9ybUZpZWxkcy5jdGFVcmw/LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICBjb25zdCBzdGF0dXMgPSBpdGVtRm9ybUZpZWxkcy5zdGF0dXM/LnZhbHVlIHx8ICdCcm91aWxsb24nO1xuICAgICAgXG4gICAgICAvLyBCdWlsZCBDVEEgb2JqZWN0IG9ubHkgaWYgYXQgbGVhc3Qgb25lIGZpZWxkIGlzIGZpbGxlZFxuICAgICAgY29uc3QgY3RhID0gKGN0YVRleHQgfHwgY3RhVXJsKSA/IHsgdGV4dDogY3RhVGV4dCwgdXJsOiBjdGFVcmwgfSA6IG51bGw7XG4gICAgICBcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRpdGxlLFxuICAgICAgICBzbHVnOiBzbHVnSW5wdXQgPyBub3JtYWxpemVJdGVtU2x1Z0lucHV0KHNsdWdJbnB1dCkgOiBub3JtYWxpemVJdGVtU2x1Z0lucHV0KHRpdGxlKSxcbiAgICAgICAgc3VtbWFyeSxcbiAgICAgICAgZXhjZXJwdDogc3VtbWFyeSxcbiAgICAgICAgY29udGVudCxcbiAgICAgICAgaW1hZ2UsXG4gICAgICAgIHN0YXR1cyxcbiAgICAgICAgLi4uKGN0YSAmJiB7IGN0YSB9KSxcbiAgICAgIH07XG4gICAgfTtcblxuICAgIGNvbnN0IHNldEZvcm1TYXZpbmdTdGF0ZSA9IChpc1NhdmluZykgPT4ge1xuICAgICAgaWYgKGl0ZW1Gb3JtU2F2ZSkge1xuICAgICAgICBpdGVtRm9ybVNhdmUuZGlzYWJsZWQgPSBpc1NhdmluZztcbiAgICAgICAgaXRlbUZvcm1TYXZlLnRleHRDb250ZW50ID0gaXNTYXZpbmcgPyAnRW5yZWdpc3RyZW1lbnRcdTIwMjYnIDogJ0VucmVnaXN0cmVyJztcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtRGVsZXRlQnV0dG9uICYmICFpc0NyZWF0aW5nSXRlbSAmJiBhY3RpdmVJdGVtSWQpIHtcbiAgICAgICAgaXRlbURlbGV0ZUJ1dHRvbi5kaXNhYmxlZCA9IGlzU2F2aW5nO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBmZXRjaENvbGxlY3Rpb25JdGVtcyA9IGFzeW5jIChjb2xsZWN0aW9uSWQpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvbnNBcGlCYXNlKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgIGAke2NvbGxlY3Rpb25zQXBpQmFzZX0vJHtlbmNvZGVVUklDb21wb25lbnQoY29sbGVjdGlvbklkKX0vaXRlbXNgLFxuICAgICAgICB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9LFxuICAgICAgKTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHBheWxvYWQubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxlcyBpdGVtcy4nKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICByZXR1cm4gQXJyYXkuaXNBcnJheShkYXRhLml0ZW1zKSA/IGRhdGEuaXRlbXMgOiBbXTtcbiAgICB9O1xuXG4gICAgY29uc3Qgc2V0QWN0aXZlQ29sbGVjdGlvbiA9IGFzeW5jIChjb2xsZWN0aW9uSWQpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvbklkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGFjdGl2ZUNvbGxlY3Rpb25JZCA9IGNvbGxlY3Rpb25JZDtcbiAgICAgIGFjdGl2ZUl0ZW1JZCA9IG51bGw7XG4gICAgICBpc0NyZWF0aW5nSXRlbSA9IGZhbHNlO1xuICAgICAgaXRlbVNsdWdNYW51YWxseUVkaXRlZCA9IGZhbHNlO1xuICAgICAgLy8gU3dpdGNoIHRvIGNvbGxlY3Rpb24gdmlld1xuICAgICAgc2hvd0NvbnRlbnRWaWV3KCdjb2xsZWN0aW9uJyk7XG4gICAgICB1cGRhdGVDb2xsZWN0aW9uSGVhZGVyKCk7XG4gICAgICBzeW5jQWRkQnV0dG9uU3RhdGUoKTtcbiAgICAgIHJlbmRlckNvbGxlY3Rpb25MaXN0KCk7XG4gICAgICBoaWRlSXRlbUZvcm0oKTtcbiAgICAgIGNvbGxlY3Rpb25JdGVtcyA9IFtdO1xuICAgICAgcmVuZGVySXRlbVRhYmxlKCk7XG4gICAgICB1cGRhdGVJdGVtc0VtcHR5TWVzc2FnZSgnQ2hhcmdlbWVudCBkZXMgaXRlbXNcdTIwMjYnKTtcbiAgICAgIGNvbGxlY3Rpb25JdGVtc0VtcHR5Py5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGl0ZW1UYWJsZVdyYXBwZXI/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgaWYgKCFjb2xsZWN0aW9uc0FwaUJhc2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29sbGVjdGlvbkl0ZW1zID0gYXdhaXQgZmV0Y2hDb2xsZWN0aW9uSXRlbXMoY29sbGVjdGlvbklkKTtcbiAgICAgICAgcmVuZGVySXRlbVRhYmxlKCk7XG4gICAgICAgIGlmICghY29sbGVjdGlvbkl0ZW1zLmxlbmd0aCkge1xuICAgICAgICAgIHVwZGF0ZUl0ZW1zRW1wdHlNZXNzYWdlKCk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbY29udGVudF0gaXRlbXMgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIGl0ZW1zLicpO1xuICAgICAgICBjb2xsZWN0aW9uSXRlbXMgPSBbXTtcbiAgICAgICAgcmVuZGVySXRlbVRhYmxlKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGNyZWF0ZUNvbGxlY3Rpb25JdGVtID0gYXN5bmMgKGNvbGxlY3Rpb25JZCwgcGF5bG9hZCkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uc0FwaUJhc2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTaXRlIGluY29ubnUuJyk7XG4gICAgICB9XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgICBgJHtjb2xsZWN0aW9uc0FwaUJhc2V9LyR7ZW5jb2RlVVJJQ29tcG9uZW50KGNvbGxlY3Rpb25JZCl9L2l0ZW1zYCxcbiAgICAgICAge1xuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICB9LFxuICAgICAgKTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGRhdGEubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBjclx1MDBFOWVyIGNldCBpdGVtLicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICB9O1xuXG4gICAgY29uc3QgdXBkYXRlQ29sbGVjdGlvbkl0ZW0gPSBhc3luYyAoY29sbGVjdGlvbklkLCBpdGVtSWQsIHBheWxvYWQpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvbnNBcGlCYXNlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignU2l0ZSBpbmNvbm51LicpO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgYCR7Y29sbGVjdGlvbnNBcGlCYXNlfS8ke2VuY29kZVVSSUNvbXBvbmVudChjb2xsZWN0aW9uSWQpfS9pdGVtcy8ke2VuY29kZVVSSUNvbXBvbmVudChpdGVtSWQpfWAsXG4gICAgICAgIHtcbiAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICB9LFxuICAgICAgKTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGRhdGEubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBzYXV2ZWdhcmRlciBjZXQgaXRlbS4nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGRlbGV0ZUNvbGxlY3Rpb25JdGVtID0gYXN5bmMgKGNvbGxlY3Rpb25JZCwgaXRlbUlkKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25zQXBpQmFzZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NpdGUgaW5jb25udS4nKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgIGAke2NvbGxlY3Rpb25zQXBpQmFzZX0vJHtlbmNvZGVVUklDb21wb25lbnQoY29sbGVjdGlvbklkKX0vaXRlbXMvJHtlbmNvZGVVUklDb21wb25lbnQoaXRlbUlkKX1gLFxuICAgICAgICB7IG1ldGhvZDogJ0RFTEVURScgfSxcbiAgICAgICk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihkYXRhLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgc3VwcHJpbWVyIGNldCBpdGVtLicpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBsb2FkQ29sbGVjdGlvbnMgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25zQXBpQmFzZSkge1xuICAgICAgICBjb2xsZWN0aW9uRW1wdHlTdGF0ZT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIGFjdGl2ZUNvbGxlY3Rpb25JZCA9IG51bGw7XG4gICAgICAgIGNvbGxlY3Rpb25JdGVtcyA9IFtdO1xuICAgICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICAgICAgdXBkYXRlQ29sbGVjdGlvbkhlYWRlcigpO1xuICAgICAgICBzeW5jQWRkQnV0dG9uU3RhdGUoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChjb2xsZWN0aW9uc0FwaUJhc2UsIHtcbiAgICAgICAgICBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIGNvbGxlY3Rpb25zLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gW10pO1xuICAgICAgICBjb2xsZWN0aW9ucyA9IEFycmF5LmlzQXJyYXkocGF5bG9hZCkgPyBwYXlsb2FkIDogW107XG4gICAgICAgIHJlbmRlckNvbGxlY3Rpb25MaXN0KCk7XG4gICAgICAgIGlmIChjb2xsZWN0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY29uc3QgZGVmYXVsdElkID0gY29sbGVjdGlvbnMuZmluZCgoZW50cnkpID0+IGVudHJ5LmlkID09PSBhY3RpdmVDb2xsZWN0aW9uSWQpPy5pZFxuICAgICAgICAgICAgfHwgY29sbGVjdGlvbnNbMF0uaWQ7XG4gICAgICAgICAgc2V0QWN0aXZlQ29sbGVjdGlvbihkZWZhdWx0SWQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFjdGl2ZUNvbGxlY3Rpb25JZCA9IG51bGw7XG4gICAgICAgICAgY29sbGVjdGlvbkl0ZW1zID0gW107XG4gICAgICAgICAgdXBkYXRlQ29sbGVjdGlvbkhlYWRlcigpO1xuICAgICAgICAgIHN5bmNBZGRCdXR0b25TdGF0ZSgpO1xuICAgICAgICAgIHJlbmRlckl0ZW1UYWJsZSgpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2NvbnRlbnRdIGxvYWQgY29sbGVjdGlvbnMnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgY2hhcmdlciBsZXMgY29sbGVjdGlvbnMuJyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGl0ZW1BZGRCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgaWYgKCFhY3RpdmVDb2xsZWN0aW9uSWQpIHtcbiAgICAgICAgc2hvd1RvYXN0KCdTXHUwMEU5bGVjdGlvbm5leiBkXHUyMDE5YWJvcmQgdW5lIGNvbGxlY3Rpb24uJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHByZXBhcmVOZXdJdGVtRm9ybSgpO1xuICAgICAgcmVuZGVySXRlbVRhYmxlKCk7XG4gICAgfSk7XG5cbiAgICBpdGVtRm9ybUNhbmNlbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoaXNDcmVhdGluZ0l0ZW0pIHtcbiAgICAgICAgaXNDcmVhdGluZ0l0ZW0gPSBmYWxzZTtcbiAgICAgICAgYWN0aXZlSXRlbUlkID0gbnVsbDtcbiAgICAgICAgaGlkZUl0ZW1Gb3JtKCk7XG4gICAgICAgIHJlbmRlckl0ZW1UYWJsZSgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoYWN0aXZlSXRlbUlkKSB7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSBjb2xsZWN0aW9uSXRlbXMuZmluZCgoZW50cnkpID0+IGVudHJ5LmlkID09PSBhY3RpdmVJdGVtSWQpO1xuICAgICAgICBwb3B1bGF0ZUl0ZW1Gb3JtKGl0ZW0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaGlkZUl0ZW1Gb3JtKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpdGVtRm9ybUZpZWxkcy5zdGF0dXM/LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgICAgIHN5bmNJdGVtU3RhdHVzQmFkZ2UoaXRlbUZvcm1GaWVsZHMuc3RhdHVzLnZhbHVlKTtcbiAgICB9KTtcblxuICAgIGl0ZW1Gb3JtRmllbGRzLnRpdGxlPy5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICAgIGlmICghaXNDcmVhdGluZ0l0ZW0gfHwgIWl0ZW1Gb3JtRmllbGRzLnNsdWcgfHwgaXRlbVNsdWdNYW51YWxseUVkaXRlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpdGVtRm9ybUZpZWxkcy5zbHVnLnZhbHVlID0gbm9ybWFsaXplSXRlbVNsdWdJbnB1dChpdGVtRm9ybUZpZWxkcy50aXRsZS52YWx1ZSk7XG4gICAgfSk7XG5cbiAgICBpdGVtRm9ybUZpZWxkcy5zbHVnPy5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICAgIGlmICghaXNDcmVhdGluZ0l0ZW0pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaXRlbVNsdWdNYW51YWxseUVkaXRlZCA9IHRydWU7XG4gICAgfSk7XG5cbiAgICBpdGVtRm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKCFhY3RpdmVDb2xsZWN0aW9uSWQpIHtcbiAgICAgICAgc2hvd1RvYXN0KCdTXHUwMEU5bGVjdGlvbm5leiB1bmUgY29sbGVjdGlvbi4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgdmFsdWVzID0gY29sbGVjdEl0ZW1Gb3JtVmFsdWVzKCk7XG4gICAgICBpZiAoIXZhbHVlcy50aXRsZSkge1xuICAgICAgICBzaG93VG9hc3QoJ0xlIHRpdHJlIGVzdCByZXF1aXMuJyk7XG4gICAgICAgIGl0ZW1Gb3JtRmllbGRzLnRpdGxlPy5mb2N1cygpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZXRGb3JtU2F2aW5nU3RhdGUodHJ1ZSk7XG4gICAgICB0cnkge1xuICAgICAgICBsZXQgc2F2ZWRJdGVtO1xuICAgICAgICBpZiAoaXNDcmVhdGluZ0l0ZW0gfHwgIWFjdGl2ZUl0ZW1JZCkge1xuICAgICAgICAgIHNhdmVkSXRlbSA9IGF3YWl0IGNyZWF0ZUNvbGxlY3Rpb25JdGVtKGFjdGl2ZUNvbGxlY3Rpb25JZCwgdmFsdWVzKTtcbiAgICAgICAgICBjb2xsZWN0aW9uSXRlbXMgPSBbLi4uY29sbGVjdGlvbkl0ZW1zLCBzYXZlZEl0ZW1dO1xuICAgICAgICAgIHNob3dUb2FzdCgnSXRlbSBjclx1MDBFOVx1MDBFOScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNhdmVkSXRlbSA9IGF3YWl0IHVwZGF0ZUNvbGxlY3Rpb25JdGVtKGFjdGl2ZUNvbGxlY3Rpb25JZCwgYWN0aXZlSXRlbUlkLCB2YWx1ZXMpO1xuICAgICAgICAgIGNvbGxlY3Rpb25JdGVtcyA9IGNvbGxlY3Rpb25JdGVtcy5tYXAoKGl0ZW0pID0+XG4gICAgICAgICAgICBpdGVtLmlkID09PSBzYXZlZEl0ZW0uaWQgPyBzYXZlZEl0ZW0gOiBpdGVtLFxuICAgICAgICAgICk7XG4gICAgICAgICAgc2hvd1RvYXN0KCdJdGVtIG1pcyBcdTAwRTAgam91cicpO1xuICAgICAgICB9XG4gICAgICAgIGlzQ3JlYXRpbmdJdGVtID0gZmFsc2U7XG4gICAgICAgIGFjdGl2ZUl0ZW1JZCA9IHNhdmVkSXRlbS5pZDtcbiAgICAgICAgcG9wdWxhdGVJdGVtRm9ybShzYXZlZEl0ZW0pO1xuICAgICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbY29udGVudF0gc2F2ZSBpdGVtIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBzYXV2ZWdhcmRlciBjZXQgaXRlbS4nKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldEZvcm1TYXZpbmdTdGF0ZShmYWxzZSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBjb25zdCBjbG9zZURlbGV0ZU1vZGFsID0gKCkgPT4ge1xuICAgICAgaWYgKCFpdGVtRGVsZXRlTW9kYWwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaXRlbURlbGV0ZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgaXRlbURlbGV0ZU1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2ZsZXgnKTtcbiAgICAgIHBlbmRpbmdEZWxldGVJdGVtSWQgPSBudWxsO1xuICAgIH07XG5cbiAgICBjb25zdCBvcGVuRGVsZXRlTW9kYWwgPSAoKSA9PiB7XG4gICAgICBpZiAoIWl0ZW1EZWxldGVNb2RhbCB8fCAhYWN0aXZlSXRlbUlkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHBlbmRpbmdEZWxldGVJdGVtSWQgPSBhY3RpdmVJdGVtSWQ7XG4gICAgICBpdGVtRGVsZXRlTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBpdGVtRGVsZXRlTW9kYWwuY2xhc3NMaXN0LmFkZCgnZmxleCcpO1xuICAgIH07XG5cbiAgICBpdGVtRGVsZXRlQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmICghYWN0aXZlSXRlbUlkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIG9wZW5EZWxldGVNb2RhbCgpO1xuICAgIH0pO1xuXG4gICAgaXRlbURlbGV0ZUNhbmNlbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjbG9zZURlbGV0ZU1vZGFsKCk7XG4gICAgfSk7XG5cbiAgICBpdGVtRGVsZXRlTW9kYWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSBpdGVtRGVsZXRlTW9kYWwpIHtcbiAgICAgICAgY2xvc2VEZWxldGVNb2RhbCgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaXRlbURlbGV0ZUNvbmZpcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFwZW5kaW5nRGVsZXRlSXRlbUlkIHx8ICFhY3RpdmVDb2xsZWN0aW9uSWQpIHtcbiAgICAgICAgY2xvc2VEZWxldGVNb2RhbCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpdGVtRGVsZXRlQ29uZmlybS5kaXNhYmxlZCA9IHRydWU7XG4gICAgICBpdGVtRGVsZXRlQ29uZmlybS50ZXh0Q29udGVudCA9ICdTdXBwcmVzc2lvblx1MjAyNic7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBkZWxldGVDb2xsZWN0aW9uSXRlbShhY3RpdmVDb2xsZWN0aW9uSWQsIHBlbmRpbmdEZWxldGVJdGVtSWQpO1xuICAgICAgICBjb2xsZWN0aW9uSXRlbXMgPSBjb2xsZWN0aW9uSXRlbXMuZmlsdGVyKChpdGVtKSA9PiBpdGVtLmlkICE9PSBwZW5kaW5nRGVsZXRlSXRlbUlkKTtcbiAgICAgICAgaWYgKGFjdGl2ZUl0ZW1JZCA9PT0gcGVuZGluZ0RlbGV0ZUl0ZW1JZCkge1xuICAgICAgICAgIGFjdGl2ZUl0ZW1JZCA9IG51bGw7XG4gICAgICAgICAgaGlkZUl0ZW1Gb3JtKCk7XG4gICAgICAgIH1cbiAgICAgICAgc2hvd1RvYXN0KCdJdGVtIHN1cHByaW1cdTAwRTknKTtcbiAgICAgICAgcmVuZGVySXRlbVRhYmxlKCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2NvbnRlbnRdIGRlbGV0ZSBpdGVtIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBzdXBwcmltZXIgY2V0IGl0ZW0uJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpdGVtRGVsZXRlQ29uZmlybS5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICBpdGVtRGVsZXRlQ29uZmlybS50ZXh0Q29udGVudCA9ICdTdXBwcmltZXInO1xuICAgICAgICBjbG9zZURlbGV0ZU1vZGFsKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB1cGRhdGVDb2xsZWN0aW9uSGVhZGVyKCk7XG4gICAgc3luY0FkZEJ1dHRvblN0YXRlKCk7XG4gICAgbG9hZENvbGxlY3Rpb25zKCk7XG4gIH1cblxuICBmdW5jdGlvbiBpbml0RGVwbG95V29ya3NwYWNlKCkge1xuICAgIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktZm9ybV0nKTtcbiAgICBpZiAoIWZvcm0pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcHJvdG9jb2xTZWxlY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktcHJvdG9jb2xdJyk7XG4gICAgY29uc3QgaG9zdElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LWhvc3RdJyk7XG4gICAgY29uc3QgcG9ydElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LXBvcnRdJyk7XG4gICAgY29uc3QgdXNlcklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LXVzZXJdJyk7XG4gICAgY29uc3QgcGFzc3dvcmRJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1wYXNzd29yZF0nKTtcbiAgICBjb25zdCBzaG93UGFzc3dvcmRUb2dnbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktc2hvdy1wYXNzd29yZF0nKTtcbiAgICBjb25zdCByZW1vdGVQYXRoSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktcmVtb3RlLXBhdGhdJyk7XG4gICAgY29uc3QgZmVlZGJhY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktZmVlZGJhY2tdJyk7XG4gICAgY29uc3Qgc2F2ZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1zYXZlXScpO1xuICAgIGNvbnN0IHRlc3RCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktdGVzdF0nKTtcbiAgICBjb25zdCBkZXBsb3lCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktdHJpZ2dlcl0nKTtcbiAgICBjb25zdCBoaXN0b3J5TGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1oaXN0b3J5XScpO1xuICAgIGNvbnN0IGxvZ0JveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1sb2ddJyk7XG5cbiAgICBjb25zdCBzYWZlU2l0ZVNsdWcgPSBzdHJpcExlYWRpbmdTbGFzaChcbiAgICAgIHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJycsXG4gICAgKTtcbiAgICBjb25zdCBkZXBsb3lBcGlCYXNlID0gc2FmZVNpdGVTbHVnXG4gICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Zyl9L2RlcGxveS1jb25maWdgXG4gICAgICA6IG51bGw7XG4gICAgY29uc3QgZGVwbG95UnVuQXBpID0gc2FmZVNpdGVTbHVnXG4gICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Zyl9L2RlcGxveWBcbiAgICAgIDogbnVsbDtcbiAgICBjb25zdCBkZXBsb3lMb2dBcGkgPSBzYWZlU2l0ZVNsdWdcbiAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnKX0vZGVwbG95LWxvZ2BcbiAgICAgIDogbnVsbDtcblxuICAgIGxldCBoYXNQYXNzd29yZCA9IGZhbHNlO1xuICAgIGxldCBidXN5QWN0aW9uID0gbnVsbDtcblxuICAgIGNvbnN0IHNhbml0aXplUmVtb3RlUGF0aCA9ICh2YWx1ZSkgPT4ge1xuICAgICAgY29uc3QgdHJpbW1lZCA9ICh2YWx1ZSB8fCAnJykudHJpbSgpO1xuICAgICAgaWYgKCF0cmltbWVkKSB7XG4gICAgICAgIHJldHVybiAnL3d3dyc7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJpbW1lZC5zdGFydHNXaXRoKCcvJykgPyB0cmltbWVkIDogYC8ke3RyaW1tZWR9YDtcbiAgICB9O1xuXG4gICAgY29uc3Qgc2V0RmVlZGJhY2sgPSAobWVzc2FnZSwgdG9uZSA9ICdtdXRlZCcpID0+IHtcbiAgICAgIGlmICghZmVlZGJhY2spIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgYmFzZUNsYXNzID0gJ2lubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiByb3VuZGVkLWZ1bGwgcHgtMyBweS0xIHRleHQteHMgZm9udC1zZW1pYm9sZCc7XG4gICAgICBjb25zdCB0b25lQ2xhc3MgPVxuICAgICAgICB0b25lID09PSAnc3VjY2VzcydcbiAgICAgICAgICA/ICdiZy1lbWVyYWxkLTUwIHRleHQtZW1lcmFsZC03MDAgYm9yZGVyIGJvcmRlci1lbWVyYWxkLTEwMCdcbiAgICAgICAgICA6IHRvbmUgPT09ICdlcnJvcidcbiAgICAgICAgICAgID8gJ2JnLXJvc2UtNTAgdGV4dC1yb3NlLTcwMCBib3JkZXIgYm9yZGVyLXJvc2UtMTAwJ1xuICAgICAgICAgICAgOiAnYmctc2xhdGUtNTAgdGV4dC1zbGF0ZS02MDAgYm9yZGVyIGJvcmRlci1zbGF0ZS0xMDAnO1xuICAgICAgaWYgKCFtZXNzYWdlKSB7XG4gICAgICAgIGZlZWRiYWNrLnRleHRDb250ZW50ID0gJyc7XG4gICAgICAgIGZlZWRiYWNrLmNsYXNzTmFtZSA9ICd0ZXh0LXNtIHRleHQtc2xhdGUtNTAwJztcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgaWNvbiA9IHRvbmUgPT09ICdzdWNjZXNzJyA/ICdcdTI3MDUnIDogdG9uZSA9PT0gJ2Vycm9yJyA/ICdcdTI3NEMnIDogJ1x1MjEzOVx1RkUwRic7XG4gICAgICBmZWVkYmFjay5pbm5lckhUTUwgPSBgPHNwYW4gY2xhc3M9XCIke2Jhc2VDbGFzc30gJHt0b25lQ2xhc3N9XCI+JHtpY29ufTxzcGFuPiR7bWVzc2FnZX08L3NwYW4+PC9zcGFuPmA7XG4gICAgICBmZWVkYmFjay5jbGFzc05hbWUgPSAndGV4dC1zbSc7XG4gICAgfTtcblxuICAgIGNvbnN0IHNldEJ1c3kgPSAoYWN0aW9uID0gbnVsbCkgPT4ge1xuICAgICAgYnVzeUFjdGlvbiA9IGFjdGlvbjtcbiAgICAgIGNvbnN0IGRpc2FibGUgPSBCb29sZWFuKGFjdGlvbik7XG4gICAgICBjb25zdCBzcGlubmVyID1cbiAgICAgICAgJzxzdmcgY2xhc3M9XCJoLTQgdy00IGFuaW1hdGUtc3BpbiB0ZXh0LXdoaXRlXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PGNpcmNsZSBjbGFzcz1cIm9wYWNpdHktMjVcIiBjeD1cIjEyXCIgY3k9XCIxMlwiIHI9XCIxMFwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjRcIj48L2NpcmNsZT48cGF0aCBjbGFzcz1cIm9wYWNpdHktNzVcIiBmaWxsPVwiY3VycmVudENvbG9yXCIgZD1cIk00IDEyYTggOCAwIDAxOC04djRhNCA0IDAgMDAtNCA0SDR6XCI+PC9wYXRoPjwvc3ZnPic7XG4gICAgICBpZiAoc2F2ZUJ1dHRvbikge1xuICAgICAgICBzYXZlQnV0dG9uLmRpc2FibGVkID0gZGlzYWJsZTtcbiAgICAgICAgc2F2ZUJ1dHRvbi5pbm5lckhUTUwgPVxuICAgICAgICAgIGFjdGlvbiA9PT0gJ3NhdmUnXG4gICAgICAgICAgICA/IGA8c3BhbiBjbGFzcz1cImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPiR7c3Bpbm5lcn08c3Bhbj5FbnJlZ2lzdHJlbWVudFx1MjAyNjwvc3Bhbj48L3NwYW4+YFxuICAgICAgICAgICAgOiAnRW5yZWdpc3RyZXInO1xuICAgICAgfVxuICAgICAgaWYgKHRlc3RCdXR0b24pIHtcbiAgICAgICAgdGVzdEJ1dHRvbi5kaXNhYmxlZCA9IGRpc2FibGU7XG4gICAgICAgIHRlc3RCdXR0b24uaW5uZXJIVE1MID1cbiAgICAgICAgICBhY3Rpb24gPT09ICd0ZXN0J1xuICAgICAgICAgICAgPyBgPHNwYW4gY2xhc3M9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj48c3BhbiBjbGFzcz1cImgtNCB3LTQgYW5pbWF0ZS1zcGluIHJvdW5kZWQtZnVsbCBib3JkZXItMiBib3JkZXItc2xhdGUtMjAwIGJvcmRlci10LXNsYXRlLTYwMFwiPjwvc3Bhbj48c3Bhbj5UZXN0IGVuIGNvdXJzXHUyMDI2PC9zcGFuPjwvc3Bhbj5gXG4gICAgICAgICAgICA6ICdUZXN0ZXIgbGEgY29ubmV4aW9uJztcbiAgICAgIH1cbiAgICAgIGlmIChkZXBsb3lCdXR0b24pIHtcbiAgICAgICAgZGVwbG95QnV0dG9uLmRpc2FibGVkID0gZGlzYWJsZSAmJiBhY3Rpb24gIT09IG51bGw7XG4gICAgICAgIGRlcGxveUJ1dHRvbi5pbm5lckhUTUwgPVxuICAgICAgICAgIGFjdGlvbiA9PT0gJ2RlcGxveSdcbiAgICAgICAgICAgID8gYDxzcGFuIGNsYXNzPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+PHNwYW4gY2xhc3M9XCJoLTQgdy00IGFuaW1hdGUtc3BpbiByb3VuZGVkLWZ1bGwgYm9yZGVyLTIgYm9yZGVyLXdoaXRlLzYwIGJvcmRlci10LXdoaXRlXCI+PC9zcGFuPjxzcGFuPkRcdTAwRTlwbG9pZW1lbnRcdTIwMjY8L3NwYW4+PC9zcGFuPmBcbiAgICAgICAgICAgIDogJ0RcdTAwRTlwbG95ZXIgbWFpbnRlbmFudCc7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHBvcHVsYXRlRm9ybSA9IChjb25maWcpID0+IHtcbiAgICAgIHByb3RvY29sU2VsZWN0ICYmIChwcm90b2NvbFNlbGVjdC52YWx1ZSA9IGNvbmZpZy5wcm90b2NvbCB8fCAnc2Z0cCcpO1xuICAgICAgaG9zdElucHV0ICYmIChob3N0SW5wdXQudmFsdWUgPSBjb25maWcuaG9zdCB8fCAnJyk7XG4gICAgICBwb3J0SW5wdXQgJiYgKHBvcnRJbnB1dC52YWx1ZSA9IGNvbmZpZy5wb3J0IHx8ICcnKTtcbiAgICAgIHVzZXJJbnB1dCAmJiAodXNlcklucHV0LnZhbHVlID0gY29uZmlnLnVzZXIgfHwgJycpO1xuICAgICAgcmVtb3RlUGF0aElucHV0ICYmIChyZW1vdGVQYXRoSW5wdXQudmFsdWUgPSBjb25maWcucmVtb3RlUGF0aCB8fCAnL3d3dycpO1xuICAgICAgaGFzUGFzc3dvcmQgPSBCb29sZWFuKGNvbmZpZy5oYXNQYXNzd29yZCk7XG4gICAgICBpZiAocGFzc3dvcmRJbnB1dCkge1xuICAgICAgICBwYXNzd29yZElucHV0LnZhbHVlID0gJyc7XG4gICAgICAgIHBhc3N3b3JkSW5wdXQucGxhY2Vob2xkZXIgPSBoYXNQYXNzd29yZCA/ICdOb24gYWZmaWNoXHUwMEU5JyA6ICdNb3QgZGUgcGFzc2UnO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCByZW5kZXJIaXN0b3J5ID0gKGVudHJpZXMgPSBbXSkgPT4ge1xuICAgICAgaWYgKCFoaXN0b3J5TGlzdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBoaXN0b3J5TGlzdC5pbm5lckhUTUwgPSAnJztcbiAgICAgIGlmICghZW50cmllcy5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgICBsaS5jbGFzc05hbWUgPSAndGV4dC1zbGF0ZS01MDAnO1xuICAgICAgICBsaS50ZXh0Q29udGVudCA9ICdBdWN1biBkXHUwMEU5cGxvaWVtZW50IHBvdXIgbGUgbW9tZW50Lic7XG4gICAgICAgIGhpc3RvcnlMaXN0LmFwcGVuZENoaWxkKGxpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZW50cmllcy5mb3JFYWNoKChlbnRyeSkgPT4ge1xuICAgICAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICAgIGxpLmNsYXNzTmFtZSA9XG4gICAgICAgICAgJ2ZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBnYXAtMiByb3VuZGVkLXhsIGJvcmRlciBib3JkZXItc2xhdGUtMjAwIHB4LTMgcHktMic7XG4gICAgICAgIGNvbnN0IHN0YXR1c0JhZGdlID1cbiAgICAgICAgICBlbnRyeS5zdGF0dXMgPT09ICdzdWNjZXNzJ1xuICAgICAgICAgICAgPyAnPHNwYW4gY2xhc3M9XCJyb3VuZGVkLWZ1bGwgYmctZW1lcmFsZC01MCBweC0yIHB5LTAuNSB0ZXh0LVsxMXB4XSBmb250LXNlbWlib2xkIHRleHQtZW1lcmFsZC03MDBcIj5TdWNjXHUwMEU4czwvc3Bhbj4nXG4gICAgICAgICAgICA6ICc8c3BhbiBjbGFzcz1cInJvdW5kZWQtZnVsbCBiZy1yb3NlLTUwIHB4LTIgcHktMC41IHRleHQtWzExcHhdIGZvbnQtc2VtaWJvbGQgdGV4dC1yb3NlLTcwMFwiPlx1MDBDOWNoZWM8L3NwYW4+JztcbiAgICAgICAgY29uc3QgZGF0ZSA9IGVudHJ5LmZpbmlzaGVkQXQgfHwgZW50cnkuc3RhcnRlZEF0IHx8ICcnO1xuICAgICAgICBjb25zdCBkdXJhdGlvbiA9XG4gICAgICAgICAgZW50cnkuZHVyYXRpb25NcyAmJiBOdW1iZXIoZW50cnkuZHVyYXRpb25NcykgPj0gMFxuICAgICAgICAgICAgPyBgJHtNYXRoLnJvdW5kKE51bWJlcihlbnRyeS5kdXJhdGlvbk1zKSAvIDEwMDApfXNgXG4gICAgICAgICAgICA6ICcnO1xuICAgICAgICBsaS5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInNwYWNlLXktMVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+JHtzdGF0dXNCYWRnZX08c3BhbiBjbGFzcz1cInRleHQteHMgdGV4dC1zbGF0ZS01MDBcIj4ke2RhdGV9PC9zcGFuPjwvZGl2PlxuICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXNtIHRleHQtc2xhdGUtODAwXCI+JHtlbnRyeS5tZXNzYWdlIHx8ICcnfTwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC14cyB0ZXh0LXNsYXRlLTUwMFwiPiR7ZHVyYXRpb259PC9kaXY+XG4gICAgICAgIGA7XG4gICAgICAgIGxpLmRhdGFzZXQuZGVwbG95SWQgPSBlbnRyeS5pZCB8fCAnJztcbiAgICAgICAgbGkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgaWYgKGVudHJ5LmxvZ3MgJiYgbG9nQm94KSB7XG4gICAgICAgICAgICBsb2dCb3gudGV4dENvbnRlbnQgPSBlbnRyeS5sb2dzLmpvaW4oJ1xcbicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGhpc3RvcnlMaXN0LmFwcGVuZENoaWxkKGxpKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCByZW5kZXJMb2dzID0gKGxpbmVzID0gW10pID0+IHtcbiAgICAgIGlmICghbG9nQm94KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGxvZ0JveC50ZXh0Q29udGVudCA9IGxpbmVzLmxlbmd0aCA/IGxpbmVzLmpvaW4oJ1xcbicpIDogJ0F1Y3VuIGxvZyBwb3VyIGxlIG1vbWVudC4nO1xuICAgIH07XG5cbiAgICBjb25zdCBmZXRjaEhpc3RvcnkgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWRlcGxveUxvZ0FwaSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGRlcGxveUxvZ0FwaSwgeyBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDQpIHtcbiAgICAgICAgICAgIHJlbmRlckhpc3RvcnkoW10pO1xuICAgICAgICAgICAgcmVuZGVyTG9ncyhbJ0FQSSBkXHUwMEU5cGxvaWVtZW50IGluZGlzcG9uaWJsZSAocmVkXHUwMEU5bWFycmUgbGUgc2VydmV1cikuJ10pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ltcG9zc2libGUgZGUgY2hhcmdlciBsXHUyMDE5aGlzdG9yaXF1ZS4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICBjb25zdCBlbnRyaWVzID0gQXJyYXkuaXNBcnJheShwYXlsb2FkLmVudHJpZXMpID8gcGF5bG9hZC5lbnRyaWVzIDogW107XG4gICAgICAgIHJlbmRlckhpc3RvcnkoZW50cmllcyk7XG4gICAgICAgIGlmIChlbnRyaWVzWzBdPy5sb2dzKSB7XG4gICAgICAgICAgcmVuZGVyTG9ncyhlbnRyaWVzWzBdLmxvZ3MpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2RlcGxveV0gaGlzdG9yeSBmYWlsZWQnLCBlcnIpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBmZXRjaENvbmZpZyA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghZGVwbG95QXBpQmFzZSkge1xuICAgICAgICBzZXRGZWVkYmFjaygnQXVjdW4gc2l0ZSBhY3RpZiBzXHUwMEU5bGVjdGlvbm5cdTAwRTkuJywgJ2Vycm9yJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNldEJ1c3koJ2xvYWQnKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goZGVwbG95QXBpQmFzZSwgeyBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSk7XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgIHBvcHVsYXRlRm9ybShwYXlsb2FkIHx8IHt9KTtcbiAgICAgICAgICBzZXRGZWVkYmFjaygnQ29uZmlndXJhdGlvbiBjaGFyZ1x1MDBFOWUuJywgJ211dGVkJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcG9wdWxhdGVGb3JtKHBheWxvYWQgfHwge30pO1xuICAgICAgICAgIHNldEZlZWRiYWNrKHBheWxvYWQubWVzc2FnZSB8fCAnQ29uZmlndXJhdGlvbiBwYXIgZFx1MDBFOWZhdXQgY2hhcmdcdTAwRTllLicsICdtdXRlZCcpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2RlcGxveV0gbG9hZCBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzZXRGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZHUgY2hhcmdlbWVudC4nLCAnZXJyb3InKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldEJ1c3kobnVsbCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGJ1aWxkUGF5bG9hZCA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgIHByb3RvY29sOiBwcm90b2NvbFNlbGVjdD8udmFsdWUgfHwgJ3NmdHAnLFxuICAgICAgICBob3N0OiBob3N0SW5wdXQ/LnZhbHVlLnRyaW0oKSB8fCAnJyxcbiAgICAgICAgcG9ydDogTnVtYmVyKHBvcnRJbnB1dD8udmFsdWUpIHx8IHVuZGVmaW5lZCxcbiAgICAgICAgdXNlcjogdXNlcklucHV0Py52YWx1ZS50cmltKCkgfHwgJycsXG4gICAgICAgIHJlbW90ZVBhdGg6IHNhbml0aXplUmVtb3RlUGF0aChyZW1vdGVQYXRoSW5wdXQ/LnZhbHVlIHx8ICcvd3d3JyksXG4gICAgICB9O1xuICAgICAgY29uc3QgcHdkID0gcGFzc3dvcmRJbnB1dD8udmFsdWUgfHwgJyc7XG4gICAgICBpZiAocHdkLnRyaW0oKS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHBheWxvYWQucGFzc3dvcmQgPSBwd2Q7XG4gICAgICB9XG4gICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICB9O1xuXG4gICAgZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoIWRlcGxveUFwaUJhc2UpIHtcbiAgICAgICAgc2V0RmVlZGJhY2soJ0F1Y3VuIHNpdGUgYWN0aWYgc1x1MDBFOWxlY3Rpb25uXHUwMEU5LicsICdlcnJvcicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBwYXlsb2FkID0gYnVpbGRQYXlsb2FkKCk7XG4gICAgICBzZXRCdXN5KCdzYXZlJyk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGRlcGxveUFwaUJhc2UsIHtcbiAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnN0IGVycm9yUGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JQYXlsb2FkLm1lc3NhZ2UgfHwgJ1NhdXZlZ2FyZGUgaW1wb3NzaWJsZS4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzYXZlZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgcG9wdWxhdGVGb3JtKHNhdmVkIHx8IHt9KTtcbiAgICAgICAgc2V0RmVlZGJhY2soJ0NvbmZpZ3VyYXRpb24gZW5yZWdpc3RyXHUwMEU5ZS4nLCAnc3VjY2VzcycpO1xuICAgICAgICBzaG93VG9hc3QoJ0NvbmZpZ3VyYXRpb24gZFx1MDBFOXBsb2llbWVudCBzYXV2ZWdhcmRcdTAwRTllJyk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2RlcGxveV0gc2F2ZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzZXRGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZGUgbGEgc2F1dmVnYXJkZS4nLCAnZXJyb3InKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldEJ1c3kobnVsbCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0ZXN0QnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghZGVwbG95QXBpQmFzZSkge1xuICAgICAgICBzZXRGZWVkYmFjaygnQXVjdW4gc2l0ZSBhY3RpZiBzXHUwMEU5bGVjdGlvbm5cdTAwRTkuJywgJ2Vycm9yJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHBheWxvYWQgPSBidWlsZFBheWxvYWQoKTtcbiAgICAgIGlmICghcGF5bG9hZC5ob3N0IHx8ICFwYXlsb2FkLnVzZXIgfHwgIXBheWxvYWQucmVtb3RlUGF0aCkge1xuICAgICAgICBzZXRGZWVkYmFjaygnUmVtcGxpc3NleiBsZXMgY2hhbXBzIHJlcXVpcyBhdmFudCBkZSB0ZXN0ZXIuJywgJ2Vycm9yJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNldEJ1c3koJ3Rlc3QnKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7ZGVwbG95QXBpQmFzZX0vdGVzdGAsIHtcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vayB8fCByZXN1bHQuc3VjY2VzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBzZXRGZWVkYmFjayhyZXN1bHQubWVzc2FnZSB8fCAnVGVzdCBkZSBjb25uZXhpb24gXHUwMEU5Y2hvdVx1MDBFOS4nLCAnZXJyb3InKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc2V0RmVlZGJhY2socmVzdWx0Lm1lc3NhZ2UgfHwgJ0Nvbm5leGlvbiBPSy4nLCAnc3VjY2VzcycpO1xuICAgICAgICBzaG93VG9hc3QoJ1Rlc3QgZGUgY29ubmV4aW9uIHJcdTAwRTl1c3NpJyk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2RlcGxveV0gdGVzdCBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzZXRGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnVGVzdCBkZSBjb25uZXhpb24gXHUwMEU5Y2hvdVx1MDBFOS4nLCAnZXJyb3InKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldEJ1c3kobnVsbCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBkZXBsb3lCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFkZXBsb3lSdW5BcGkpIHtcbiAgICAgICAgc2V0RmVlZGJhY2soJ0F1Y3VuIHNpdGUgYWN0aWYgc1x1MDBFOWxlY3Rpb25uXHUwMEU5LicsICdlcnJvcicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZXRCdXN5KCdkZXBsb3knKTtcbiAgICAgIHJlbmRlckxvZ3MoWydEXHUwMEU5cGxvaWVtZW50IGVuIGNvdXJzXHUyMDI2J10pO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChkZXBsb3lSdW5BcGksIHtcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShidWlsZFBheWxvYWQoKSksXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDQpIHtcbiAgICAgICAgICAgIHNldEZlZWRiYWNrKCdBUEkgZFx1MDBFOXBsb2llbWVudCBpbmRpc3BvbmlibGUgKHJlZFx1MDBFOW1hcnJlIGxlIHNlcnZldXIpLicsICdlcnJvcicpO1xuICAgICAgICAgICAgcmVuZGVyTG9ncyhbJ0FQSSBkXHUwMEU5cGxvaWVtZW50IGluZGlzcG9uaWJsZSAocmVkXHUwMEU5bWFycmUgbGUgc2VydmV1cikuJ10pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZW5kZXJMb2dzKHJlc3VsdC5sb2dzIHx8IFtdKTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzdWx0Lm1lc3NhZ2UgfHwgJ0RcdTAwRTlwbG9pZW1lbnQgXHUwMEU5Y2hvdVx1MDBFOS4nKTtcbiAgICAgICAgfVxuICAgICAgICByZW5kZXJMb2dzKHJlc3VsdC5sb2dzIHx8IFtdKTtcbiAgICAgICAgYXdhaXQgZmV0Y2hIaXN0b3J5KCk7XG4gICAgICAgIHNob3dUb2FzdCgnRFx1MDBFOXBsb2llbWVudCB0ZXJtaW5cdTAwRTknKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZGVwbG95XSBydW4gZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2V0RmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0RcdTAwRTlwbG9pZW1lbnQgXHUwMEU5Y2hvdVx1MDBFOS4nLCAnZXJyb3InKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldEJ1c3kobnVsbCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBzaG93UGFzc3dvcmRUb2dnbGU/LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgICAgIGlmICghcGFzc3dvcmRJbnB1dCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwYXNzd29yZElucHV0LnR5cGUgPSBzaG93UGFzc3dvcmRUb2dnbGUuY2hlY2tlZCA/ICd0ZXh0JyA6ICdwYXNzd29yZCc7XG4gICAgfSk7XG5cbiAgICAvLyBEb3dubG9hZCBidWlsZCBhcyBaSVBcbiAgICBjb25zdCBkb3dubG9hZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRvd25sb2FkLWJ1aWxkXScpO1xuICAgIGNvbnN0IGRvd25sb2FkRmVlZGJhY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kb3dubG9hZC1mZWVkYmFja10nKTtcbiAgICBjb25zdCBkb3dubG9hZEFwaSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9kb3dubG9hZGBcbiAgICAgIDogbnVsbDtcblxuICAgIGNvbnN0IHNldERvd25sb2FkRmVlZGJhY2sgPSAobWVzc2FnZSwgdG9uZSA9ICdtdXRlZCcpID0+IHtcbiAgICAgIGlmICghZG93bmxvYWRGZWVkYmFjaykgcmV0dXJuO1xuICAgICAgY29uc3QgY29sb3IgPVxuICAgICAgICB0b25lID09PSAnc3VjY2VzcydcbiAgICAgICAgICA/ICd0ZXh0LWVtZXJhbGQtNjAwJ1xuICAgICAgICAgIDogdG9uZSA9PT0gJ2Vycm9yJ1xuICAgICAgICAgICAgPyAndGV4dC1yb3NlLTYwMCdcbiAgICAgICAgICAgIDogJ3RleHQtc2xhdGUtNTAwJztcbiAgICAgIGRvd25sb2FkRmVlZGJhY2sudGV4dENvbnRlbnQgPSBtZXNzYWdlIHx8ICcnO1xuICAgICAgZG93bmxvYWRGZWVkYmFjay5jbGFzc05hbWUgPSBgdGV4dC1zbSAke2NvbG9yfWA7XG4gICAgfTtcblxuICAgIGRvd25sb2FkQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghZG93bmxvYWRBcGkpIHtcbiAgICAgICAgc2V0RG93bmxvYWRGZWVkYmFjaygnQXVjdW4gc2l0ZSBhY3RpZiBzXHUwMEU5bGVjdGlvbm5cdTAwRTkuJywgJ2Vycm9yJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGRvd25sb2FkQnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIGNvbnN0IG9yaWdpbmFsQ29udGVudCA9IGRvd25sb2FkQnV0dG9uLmlubmVySFRNTDtcbiAgICAgIGRvd25sb2FkQnV0dG9uLmlubmVySFRNTCA9IGBcbiAgICAgICAgPHN2ZyBjbGFzcz1cInctNCBoLTQgYW5pbWF0ZS1zcGluXCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgPGNpcmNsZSBjbGFzcz1cIm9wYWNpdHktMjVcIiBjeD1cIjEyXCIgY3k9XCIxMlwiIHI9XCIxMFwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjRcIj48L2NpcmNsZT5cbiAgICAgICAgICA8cGF0aCBjbGFzcz1cIm9wYWNpdHktNzVcIiBmaWxsPVwiY3VycmVudENvbG9yXCIgZD1cIk00IDEyYTggOCAwIDAxOC04djRhNCA0IDAgMDAtNCA0SDR6XCI+PC9wYXRoPlxuICAgICAgICA8L3N2Zz5cbiAgICAgICAgPHNwYW4+QnVpbGQgZW4gY291cnMuLi48L3NwYW4+XG4gICAgICBgO1xuICAgICAgc2V0RG93bmxvYWRGZWVkYmFjaygnR1x1MDBFOW5cdTAwRTlyYXRpb24gZHUgYnVpbGQgZW4gY291cnMuLi4nLCAnbXV0ZWQnKTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChkb3dubG9hZEFwaSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBjb25zdCBlcnJvckRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yRGF0YS5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIGdcdTAwRTluXHUwMEU5cmVyIGxlIFpJUC4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUXHUwMEU5bFx1MDBFOWNoYXJnZXIgbGUgZmljaGllclxuICAgICAgICBjb25zdCBibG9iID0gYXdhaXQgcmVzcG9uc2UuYmxvYigpO1xuICAgICAgICBjb25zdCB1cmwgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgICAgICAgY29uc3QgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICAgICAgYS5ocmVmID0gdXJsO1xuICAgICAgICBhLmRvd25sb2FkID0gYCR7c2FmZVNpdGVTbHVnfS1idWlsZC56aXBgO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGEpO1xuICAgICAgICBhLmNsaWNrKCk7XG4gICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoYSk7XG4gICAgICAgIHdpbmRvdy5VUkwucmV2b2tlT2JqZWN0VVJMKHVybCk7XG4gICAgICAgIHNldERvd25sb2FkRmVlZGJhY2soJ1RcdTAwRTlsXHUwMEU5Y2hhcmdlbWVudCB0ZXJtaW5cdTAwRTkgIScsICdzdWNjZXNzJyk7XG4gICAgICAgIHNob3dUb2FzdCgnQnVpbGQgdFx1MDBFOWxcdTAwRTljaGFyZ1x1MDBFOSBhdmVjIHN1Y2NcdTAwRThzJyk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2Rvd25sb2FkXSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzZXREb3dubG9hZEZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkdSB0XHUwMEU5bFx1MDBFOWNoYXJnZW1lbnQuJywgJ2Vycm9yJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBkb3dubG9hZEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICBkb3dubG9hZEJ1dHRvbi5pbm5lckhUTUwgPSBvcmlnaW5hbENvbnRlbnQ7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBmZXRjaENvbmZpZygpO1xuICAgIGZldGNoSGlzdG9yeSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gaW5pdFNldHRpbmdzV29ya3NwYWNlKCkge1xuICAgIGNvbnN0IHRhYkJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1zZXR0aW5ncy10YWJdJyk7XG4gICAgY29uc3QgdGFiUGFuZWxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtc2V0dGluZ3MtcGFuZWxdJyk7XG4gICAgY29uc3QgZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFkbWluLXBhc3N3b3JkLWZvcm1dJyk7XG4gICAgY29uc3Qgc2l0ZUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLWNvbmZpZy1mb3JtXScpO1xuICAgIGNvbnN0IHNpdGVGZWVkYmFjayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtY29uZmlnLWZlZWRiYWNrXScpO1xuICAgIGNvbnN0IHRoZW1lRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLWZvcm1dJyk7XG4gICAgY29uc3Qgc3dpdGNoVGFiID0gKG5hbWUpID0+IHtcbiAgICAgIHRhYkJ1dHRvbnMuZm9yRWFjaCgoYnRuKSA9PiB7XG4gICAgICAgIGNvbnN0IGlzQWN0aXZlID0gYnRuLmRhdGFzZXQuc2V0dGluZ3NUYWIgPT09IG5hbWU7XG4gICAgICAgIGJ0bi5zZXRBdHRyaWJ1dGUoJ2FyaWEtc2VsZWN0ZWQnLCBpc0FjdGl2ZSA/ICd0cnVlJyA6ICdmYWxzZScpO1xuICAgICAgICBidG4uY2xhc3NMaXN0LnRvZ2dsZSgnYmctWyM5QzZCRkZdJywgaXNBY3RpdmUpO1xuICAgICAgICBidG4uY2xhc3NMaXN0LnRvZ2dsZSgndGV4dC13aGl0ZScsIGlzQWN0aXZlKTtcbiAgICAgIH0pO1xuICAgICAgdGFiUGFuZWxzLmZvckVhY2goKHBhbmVsKSA9PiB7XG4gICAgICAgIHBhbmVsLmNsYXNzTGlzdC50b2dnbGUoJ2hpZGRlbicsIHBhbmVsLmRhdGFzZXQuc2V0dGluZ3NQYW5lbCAhPT0gbmFtZSk7XG4gICAgICB9KTtcbiAgICB9O1xuICAgIHRhYkJ1dHRvbnMuZm9yRWFjaCgoYnRuKSA9PiB7XG4gICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBzd2l0Y2hUYWIoYnRuLmRhdGFzZXQuc2V0dGluZ3NUYWIgfHwgJ2FjY291bnQnKSk7XG4gICAgfSk7XG4gICAgc3dpdGNoVGFiKCdhY2NvdW50Jyk7XG5cbiAgICBpZiAoIWZvcm0pIHtcbiAgICAgIC8vIHN0aWxsIGFsbG93IHNpdGUgZm9ybSBldmVuIGlmIHBhc3N3b3JkIGZvcm0gYWJzZW50XG4gICAgfVxuICAgIGlmIChmb3JtKSB7XG4gICAgICBjb25zdCBmZWVkYmFjayA9IGZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYWRtaW4tcGFzc3dvcmQtZmVlZGJhY2tdJyk7XG4gICAgICBjb25zdCBzdWJtaXQgPSBmb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFkbWluLXBhc3N3b3JkLXN1Ym1pdF0nKTtcbiAgICAgIGNvbnN0IHNldEZlZWRiYWNrID0gKG1lc3NhZ2UsIHRvbmUgPSAnbXV0ZWQnKSA9PiB7XG4gICAgICAgIGlmICghZmVlZGJhY2spIHJldHVybjtcbiAgICAgICAgY29uc3QgY29sb3IgPVxuICAgICAgICAgIHRvbmUgPT09ICdzdWNjZXNzJ1xuICAgICAgICAgICAgPyAndGV4dC1lbWVyYWxkLTYwMCdcbiAgICAgICAgICAgIDogdG9uZSA9PT0gJ2Vycm9yJ1xuICAgICAgICAgICAgICA/ICd0ZXh0LXJvc2UtNjAwJ1xuICAgICAgICAgICAgICA6ICd0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICAgIGZlZWRiYWNrLnRleHRDb250ZW50ID0gbWVzc2FnZSB8fCAnJztcbiAgICAgICAgZmVlZGJhY2suY2xhc3NOYW1lID0gYHRleHQtc20gJHtjb2xvcn1gO1xuICAgICAgfTtcbiAgICAgIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKGZvcm0pO1xuICAgICAgICBjb25zdCBjdXJyZW50UGFzc3dvcmQgPSBmb3JtRGF0YS5nZXQoJ2N1cnJlbnRQYXNzd29yZCcpIHx8ICcnO1xuICAgICAgICBjb25zdCBuZXdQYXNzd29yZCA9IGZvcm1EYXRhLmdldCgnbmV3UGFzc3dvcmQnKSB8fCAnJztcbiAgICAgICAgY29uc3QgY29uZmlybVBhc3N3b3JkID0gZm9ybURhdGEuZ2V0KCdjb25maXJtUGFzc3dvcmQnKSB8fCAnJztcbiAgICAgICAgaWYgKCFjdXJyZW50UGFzc3dvcmQgfHwgIW5ld1Bhc3N3b3JkIHx8ICFjb25maXJtUGFzc3dvcmQpIHtcbiAgICAgICAgICBzZXRGZWVkYmFjaygnQ29tcGxcdTAwRTh0ZSB0b3VzIGxlcyBjaGFtcHMuJywgJ2Vycm9yJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHN1Ym1pdCAmJiAoc3VibWl0LmRpc2FibGVkID0gdHJ1ZSk7XG4gICAgICAgIHNldEZlZWRiYWNrKCcnKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2FkbWluL3Bhc3N3b3JkJywge1xuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgY3VycmVudFBhc3N3b3JkLCBuZXdQYXNzd29yZCwgY29uZmlybVBhc3N3b3JkIH0pLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vayB8fCBwYXlsb2FkLnN1Y2Nlc3MgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocGF5bG9hZC5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIG1ldHRyZSBcdTAwRTAgam91ciBsZSBtb3QgZGUgcGFzc2UuJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNldEZlZWRiYWNrKHBheWxvYWQubWVzc2FnZSB8fCAnTW90IGRlIHBhc3NlIG1pcyBcdTAwRTAgam91ci4nLCAnc3VjY2VzcycpO1xuICAgICAgICAgIGZvcm0ucmVzZXQoKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3NldHRpbmdzXSBjaGFuZ2UgcGFzc3dvcmQgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgICBzZXRGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZGUgbGEgbWlzZSBcdTAwRTAgam91ci4nLCAnZXJyb3InKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBzdWJtaXQgJiYgKHN1Ym1pdC5kaXNhYmxlZCA9IGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKHNpdGVGb3JtKSB7XG4gICAgICBjb25zdCBuYW1lSW5wdXQgPSBzaXRlRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLW5hbWVdJyk7XG4gICAgICBjb25zdCBsYW5nU2VsZWN0ID0gc2l0ZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS1sYW5ndWFnZV0nKTtcbiAgICAgIGNvbnN0IHRhZ2xpbmVJbnB1dCA9IHNpdGVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtdGFnbGluZV0nKTtcbiAgICAgIGNvbnN0IHNhdmVCdXR0b24gPSBzaXRlRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLXNhdmVdJyk7XG4gICAgICBjb25zdCBzZXRTaXRlRmVlZGJhY2sgPSAobWVzc2FnZSwgdG9uZSA9ICdtdXRlZCcpID0+IHtcbiAgICAgICAgaWYgKCFzaXRlRmVlZGJhY2spIHJldHVybjtcbiAgICAgICAgY29uc3QgY29sb3IgPVxuICAgICAgICAgIHRvbmUgPT09ICdzdWNjZXNzJ1xuICAgICAgICAgICAgPyAndGV4dC1lbWVyYWxkLTYwMCdcbiAgICAgICAgICAgIDogdG9uZSA9PT0gJ2Vycm9yJ1xuICAgICAgICAgICAgICA/ICd0ZXh0LXJvc2UtNjAwJ1xuICAgICAgICAgICAgICA6ICd0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICAgIHNpdGVGZWVkYmFjay50ZXh0Q29udGVudCA9IG1lc3NhZ2UgfHwgJyc7XG4gICAgICAgIHNpdGVGZWVkYmFjay5jbGFzc05hbWUgPSBgdGV4dC1zbSAke2NvbG9yfWA7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBzYWZlU2l0ZVNsdWcgPSBzdHJpcExlYWRpbmdTbGFzaChcbiAgICAgICAgd29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyxcbiAgICAgICk7XG4gICAgICBjb25zdCBzaXRlQ29uZmlnQXBpID0gc2FmZVNpdGVTbHVnXG4gICAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnKX0vY29uZmlnL3NpdGVgXG4gICAgICAgIDogbnVsbDtcblxuICAgICAgY29uc3QgbG9hZFNpdGVDb25maWcgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIGlmICghc2l0ZUNvbmZpZ0FwaSkgcmV0dXJuO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goc2l0ZUNvbmZpZ0FwaSwgeyBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgcmV0dXJuO1xuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgaWYgKG5hbWVJbnB1dCkgbmFtZUlucHV0LnZhbHVlID0gcGF5bG9hZC5uYW1lIHx8ICcnO1xuICAgICAgICAgIGlmIChsYW5nU2VsZWN0KSBsYW5nU2VsZWN0LnZhbHVlID0gcGF5bG9hZC5sYW5ndWFnZSB8fCAnZnInO1xuICAgICAgICAgIGlmICh0YWdsaW5lSW5wdXQpIHRhZ2xpbmVJbnB1dC52YWx1ZSA9IHBheWxvYWQudGFnbGluZSB8fCAnJztcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3NldHRpbmdzXSBsb2FkIHNpdGUgY29uZmlnIGZhaWxlZCcsIGVycik7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHNpdGVGb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAoIXNpdGVDb25maWdBcGkpIHtcbiAgICAgICAgICBzZXRTaXRlRmVlZGJhY2soJ0F1Y3VuIHNpdGUgYWN0aWYuJywgJ2Vycm9yJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghbmFtZUlucHV0Py52YWx1ZS50cmltKCkpIHtcbiAgICAgICAgICBzZXRTaXRlRmVlZGJhY2soJ05vbSByZXF1aXMuJywgJ2Vycm9yJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNhdmVCdXR0b24gJiYgKHNhdmVCdXR0b24uZGlzYWJsZWQgPSB0cnVlKTtcbiAgICAgICAgc2V0U2l0ZUZlZWRiYWNrKCcnKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICAgICAgbmFtZTogbmFtZUlucHV0Py52YWx1ZSB8fCAnJyxcbiAgICAgICAgICAgIGxhbmd1YWdlOiBsYW5nU2VsZWN0Py52YWx1ZSB8fCAnZnInLFxuICAgICAgICAgICAgdGFnbGluZTogdGFnbGluZUlucHV0Py52YWx1ZSB8fCAnJyxcbiAgICAgICAgICB9O1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goc2l0ZUNvbmZpZ0FwaSwge1xuICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2sgfHwgcmVzdWx0LnN1Y2Nlc3MgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzdWx0Lm1lc3NhZ2UgfHwgJ1NhdXZlZ2FyZGUgaW1wb3NzaWJsZS4nKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0U2l0ZUZlZWRiYWNrKHJlc3VsdC5tZXNzYWdlIHx8ICdQYXJhbVx1MDBFOHRyZXMgZW5yZWdpc3RyXHUwMEU5cy4nLCAnc3VjY2VzcycpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIHNhdmUgc2l0ZSBjb25maWcgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgICBzZXRTaXRlRmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGRlIGxhIHNhdXZlZ2FyZGUuJywgJ2Vycm9yJyk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgc2F2ZUJ1dHRvbiAmJiAoc2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGxvYWRTaXRlQ29uZmlnKCk7XG4gICAgfVxuXG4gICAgaWYgKHRoZW1lRm9ybSkge1xuICAgICAgY29uc3Qgc2FmZVNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goXG4gICAgICAgIHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJycsXG4gICAgICApO1xuICAgICAgY29uc3QgdGhlbWVBcGkgPSBzYWZlU2l0ZVNsdWdcbiAgICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9jb25maWcvdGhlbWVgXG4gICAgICAgIDogbnVsbDtcblxuICAgICAgY29uc3QgY29sb3JTZWxlY3RzID0ge1xuICAgICAgICBwcmltYXJ5OiB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtcHJpbWFyeV0nKSxcbiAgICAgICAgc2Vjb25kYXJ5OiB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtc2Vjb25kYXJ5XScpLFxuICAgICAgICBhY2NlbnQ6IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1hY2NlbnRdJyksXG4gICAgICAgIGJhY2tncm91bmQ6IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1iYWNrZ3JvdW5kXScpLFxuICAgICAgICB0ZXh0OiB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtdGV4dF0nKSxcbiAgICAgIH07XG4gICAgICBjb25zdCBoZWFkaW5nU2VsZWN0ID0gdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLWhlYWRpbmdzXScpO1xuICAgICAgY29uc3QgYm9keVNlbGVjdCA9IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1ib2R5XScpO1xuICAgICAgY29uc3QgcmFkaXVzU21hbGwgPSB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtcmFkaXVzLXNtYWxsXScpO1xuICAgICAgY29uc3QgcmFkaXVzTWVkaXVtID0gdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLXJhZGl1cy1tZWRpdW1dJyk7XG4gICAgICBjb25zdCByYWRpdXNMYXJnZSA9IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1yYWRpdXMtbGFyZ2VdJyk7XG4gICAgICBjb25zdCBwcmV2aWV3ID0gdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLXByZXZpZXddJyk7XG4gICAgICBjb25zdCB0aGVtZUZlZWRiYWNrID0gdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLWZlZWRiYWNrXScpO1xuICAgICAgY29uc3QgYXBwbHlCdXR0b24gPSB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtYXBwbHldJyk7XG4gICAgICBjb25zdCB0YWlsd2luZEJhc2VNYXAgPSB7XG4gICAgICAgIHNsYXRlOicjZTJlOGYwJyxncmF5OicjZDFkNWRiJyx6aW5jOicjZDRkNGQ4JyxuZXV0cmFsOicjZDRkNGQ0JyxzdG9uZTonI2Q2ZDNkMScsXG4gICAgICAgIHJlZDonI2VmNDQ0NCcsb3JhbmdlOicjZjk3MzE2JyxhbWJlcjonI2Y1OWUwYicseWVsbG93OicjZWFiMzA4JyxsaW1lOicjODRjYzE2JyxcbiAgICAgICAgZ3JlZW46JyMyMmM1NWUnLGVtZXJhbGQ6JyMxMGI5ODEnLHRlYWw6JyMxNGI4YTYnLGN5YW46JyMwNmI2ZDQnLHNreTonIzBlYTVlOScsXG4gICAgICAgIGJsdWU6JyMzYjgyZjYnLGluZGlnbzonIzYzNjZmMScsdmlvbGV0OicjOGI1Y2Y2JyxwdXJwbGU6JyNhODU1ZjcnLGZ1Y2hzaWE6JyNkOTQ2ZWYnLFxuICAgICAgICBwaW5rOicjZWM0ODk5Jyxyb3NlOicjZjQzZjVlJ1xuICAgICAgfTtcbiAgICAgIGNvbnN0IHRhaWx3aW5kVG9rZW5Ub0hleCA9ICh0b2tlbikgPT4ge1xuICAgICAgICBpZiAoIXRva2VuKSByZXR1cm4gbnVsbDtcbiAgICAgICAgaWYgKHRva2VuID09PSAnd2hpdGUnKSByZXR1cm4gJyNmZmZmZmYnO1xuICAgICAgICBpZiAodG9rZW4gPT09ICdibGFjaycpIHJldHVybiAnIzAwMDAwMCc7XG4gICAgICAgIGlmICh0b2tlbiA9PT0gJ3RyYW5zcGFyZW50JykgcmV0dXJuICd0cmFuc3BhcmVudCc7XG4gICAgICAgIGNvbnN0IFtoLHNdID0gdG9rZW4uc3BsaXQoJy0nKTtcbiAgICAgICAgaWYgKCFoIHx8ICFzKSByZXR1cm4gbnVsbDtcbiAgICAgICAgY29uc3QgYmFzZSA9IHRhaWx3aW5kQmFzZU1hcFtoXTtcbiAgICAgICAgaWYgKCFiYXNlKSByZXR1cm4gbnVsbDtcbiAgICAgICAgY29uc3Qgc2hhZGVOdW0gPSBOdW1iZXIocykgfHwgNTAwO1xuICAgICAgICBjb25zdCBmYWN0b3IgPSBNYXRoLm1pbihNYXRoLm1heCgoc2hhZGVOdW0gLSA1MCkgLyA5MDAsIDApLCAxKTtcbiAgICAgICAgY29uc3QgdG9SZ2IgPSAoaGV4KSA9PlxuICAgICAgICAgIGhleFxuICAgICAgICAgICAgLnJlcGxhY2UoJyMnLCAnJylcbiAgICAgICAgICAgIC5tYXRjaCgvW0EtRmEtZjAtOV17Mn0vZylcbiAgICAgICAgICAgIC5tYXAoKHYpID0+IHBhcnNlSW50KHYsIDE2KSk7XG4gICAgICAgIGNvbnN0IFtyLCBnLCBiXSA9IHRvUmdiKGJhc2UpO1xuICAgICAgICBjb25zdCBtaXggPSAodikgPT4gTWF0aC5yb3VuZCgyNTUgLSAoMjU1IC0gdikgKiBmYWN0b3IpO1xuICAgICAgICByZXR1cm4gYHJnYigke21peChyKX0sICR7bWl4KGcpfSwgJHttaXgoYil9KWA7XG4gICAgICB9O1xuICAgICAgY29uc3QgdGFpbHdpbmRIdWVzID0gW1xuICAgICAgICAnc2xhdGUnLCdncmF5JywnemluYycsJ25ldXRyYWwnLCdzdG9uZScsJ3JlZCcsJ29yYW5nZScsJ2FtYmVyJywneWVsbG93JywnbGltZScsJ2dyZWVuJywnZW1lcmFsZCcsJ3RlYWwnLCdjeWFuJywnc2t5JywnYmx1ZScsJ2luZGlnbycsJ3Zpb2xldCcsJ3B1cnBsZScsJ2Z1Y2hzaWEnLCdwaW5rJywncm9zZSdcbiAgICAgIF07XG4gICAgICBjb25zdCB0YWlsd2luZFNoYWRlcyA9IFsnNTAnLCcxMDAnLCcyMDAnLCczMDAnLCc0MDAnLCc1MDAnLCc2MDAnLCc3MDAnLCc4MDAnLCc5MDAnXTtcbiAgICAgIGNvbnN0IHRhaWx3aW5kVG9rZW5zID0gdGFpbHdpbmRIdWVzLmZsYXRNYXAoKGgpPT50YWlsd2luZFNoYWRlcy5tYXAoKHMpPT5gJHtofS0ke3N9YCkpO1xuXG4gICAgICBjb25zdCBuZXV0cmFsVG9rZW5zID0gW1xuICAgICAgICB7IHZhbHVlOiAnd2hpdGUnLCBsYWJlbDogJ0JsYW5jJywgY29sb3I6ICcjZmZmZmZmJywgZW1vamk6ICdcdTJCMUMnIH0sXG4gICAgICAgIHsgdmFsdWU6ICd0cmFuc3BhcmVudCcsIGxhYmVsOiAnVHJhbnNwYXJlbnQnLCBjb2xvcjogJ3RyYW5zcGFyZW50JywgZW1vamk6ICdcdTJCMUMnIH0sXG4gICAgICAgIHsgdmFsdWU6ICdibGFjaycsIGxhYmVsOiAnTm9pcicsIGNvbG9yOiAnIzAwMDAwMCcsIGVtb2ppOiAnXHUyQjFCJyB9LFxuICAgICAgXTtcblxuICAgICAgY29uc3QgY29sb3JPcHRpb25EZWZpbml0aW9ucyA9ICgoKSA9PiB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBbXTtcbiAgICAgICAgbmV1dHJhbFRva2Vucy5mb3JFYWNoKCh7IHZhbHVlLCBsYWJlbCwgY29sb3IsIGVtb2ppIH0pID0+IHtcbiAgICAgICAgICBvcHRpb25zLnB1c2goe1xuICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICBsYWJlbDogYCR7ZW1vaml9ICR7bGFiZWx9YCxcbiAgICAgICAgICAgIGNvbG9yLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGFpbHdpbmRUb2tlbnMuZm9yRWFjaCgodG9rZW4pID0+IHtcbiAgICAgICAgICBjb25zdCBbaCwgc10gPSB0b2tlbi5zcGxpdCgnLScpO1xuICAgICAgICAgIGNvbnN0IGNvbG9yVmFsdWUgPSB0YWlsd2luZFRva2VuVG9IZXgodG9rZW4pIHx8ICcjZmZmZmZmJztcbiAgICAgICAgICBvcHRpb25zLnB1c2goe1xuICAgICAgICAgICAgdmFsdWU6IHRva2VuLFxuICAgICAgICAgICAgbGFiZWw6IGAke2guY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBoLnNsaWNlKDEpfSAke3N9YCxcbiAgICAgICAgICAgIGNvbG9yOiBjb2xvclZhbHVlLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG9wdGlvbnM7XG4gICAgICB9KSgpO1xuXG4gICAgICBjb25zdCBub3JtYWxpemVTZWxlY3RDb2xvciA9ICh2YWx1ZSkgPT5cbiAgICAgICAgdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyA/IHZhbHVlLnRyaW0oKS50b0xvd2VyQ2FzZSgpIDogJyc7XG5cbiAgICAgIGNvbnN0IGZpbGxDb2xvck9wdGlvbnMgPSAoc2VsZWN0ZWRDb2xvcnMgPSB7fSkgPT4ge1xuICAgICAgICBPYmplY3QuZW50cmllcyhjb2xvclNlbGVjdHMpLmZvckVhY2goKFtrZXksIHNlbF0pID0+IHtcbiAgICAgICAgICBpZiAoIXNlbCkgcmV0dXJuO1xuICAgICAgICAgIGNvbnN0IG5vcm1hbGl6ZWRWYWx1ZSA9IG5vcm1hbGl6ZVNlbGVjdENvbG9yKHNlbGVjdGVkQ29sb3JzW2tleV0pO1xuICAgICAgICAgIHNlbC5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgICBjb2xvck9wdGlvbkRlZmluaXRpb25zLmZvckVhY2goKHsgdmFsdWUsIGxhYmVsLCBjb2xvciB9KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgICAgICAgIG9wdGlvbi52YWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgb3B0aW9uLnRleHRDb250ZW50ID0gbGFiZWw7XG4gICAgICAgICAgICBvcHRpb24uZGF0YXNldC5jb2xvciA9IGNvbG9yO1xuICAgICAgICAgICAgaWYgKG5vcm1hbGl6ZWRWYWx1ZSAmJiBub3JtYWxpemVkVmFsdWUgPT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgIG9wdGlvbi5zZWxlY3RlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZWwuYXBwZW5kQ2hpbGQob3B0aW9uKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZWwuZGF0YXNldC5kZWZhdWx0ID0gc2VsLmRhdGFzZXQuZGVmYXVsdCB8fCBzZWwub3B0aW9uc1swXT8udmFsdWUgfHwgJyc7XG4gICAgICAgICAgaWYgKCFub3JtYWxpemVkVmFsdWUgJiYgc2VsLmRhdGFzZXQuZGVmYXVsdCkge1xuICAgICAgICAgICAgc2VsLnZhbHVlID0gc2VsLmRhdGFzZXQuZGVmYXVsdDtcbiAgICAgICAgICB9XG4gICAgICAgICAgc3R5bGVTZWxlY3RPcHRpb25zKHNlbCk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcblxuICAgICAgY29uc3Qgc2V0VGhlbWVGZWVkYmFjayA9IChtZXNzYWdlLCB0b25lID0gJ211dGVkJykgPT4ge1xuICAgICAgICBpZiAoIXRoZW1lRmVlZGJhY2spIHJldHVybjtcbiAgICAgICAgY29uc3QgY29sb3IgPVxuICAgICAgICAgIHRvbmUgPT09ICdzdWNjZXNzJ1xuICAgICAgICAgICAgPyAndGV4dC1lbWVyYWxkLTYwMCdcbiAgICAgICAgICAgIDogdG9uZSA9PT0gJ2Vycm9yJ1xuICAgICAgICAgICAgICA/ICd0ZXh0LXJvc2UtNjAwJ1xuICAgICAgICAgICAgICA6ICd0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICAgIHRoZW1lRmVlZGJhY2sudGV4dENvbnRlbnQgPSBtZXNzYWdlIHx8ICcnO1xuICAgICAgICB0aGVtZUZlZWRiYWNrLmNsYXNzTmFtZSA9IGB0ZXh0LXNtICR7Y29sb3J9YDtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHN5bmNQcmV2aWV3ID0gKCkgPT4ge1xuICAgICAgICBpZiAoIXByZXZpZXcpIHJldHVybjtcbiAgICAgICAgY29uc3QgdG9rZW5Ub0hleCA9ICh0b2tlbikgPT4ge1xuICAgICAgICAgIGlmICghdG9rZW4pIHJldHVybiBudWxsO1xuICAgICAgICAgIC8vIEdcdTAwRTlyZXIgbGVzIGNhcyBzcFx1MDBFOWNpYXV4IHdoaXRlLCBibGFjaywgdHJhbnNwYXJlbnRcbiAgICAgICAgICBpZiAodG9rZW4gPT09ICd3aGl0ZScpIHJldHVybiAnI2ZmZmZmZic7XG4gICAgICAgICAgaWYgKHRva2VuID09PSAnYmxhY2snKSByZXR1cm4gJyMwMDAwMDAnO1xuICAgICAgICAgIGlmICh0b2tlbiA9PT0gJ3RyYW5zcGFyZW50JykgcmV0dXJuICd0cmFuc3BhcmVudCc7XG4gICAgICAgICAgXG4gICAgICAgICAgY29uc3QgW2gsc109dG9rZW4uc3BsaXQoJy0nKTtcbiAgICAgICAgICBpZiAoIWggfHwgIXMpIHJldHVybiBudWxsOyAvLyBGb3JtYXQgaW52YWxpZGVcbiAgICAgICAgICBcbiAgICAgICAgICBjb25zdCBtYXAgPSB7XG4gICAgICAgICAgICBzbGF0ZTonI2UyZThmMCcsZ3JheTonI2QxZDVkYicsemluYzonI2Q0ZDRkOCcsbmV1dHJhbDonI2Q0ZDRkNCcsc3RvbmU6JyNkNmQzZDEnLFxuICAgICAgICAgICAgcmVkOicjZWY0NDQ0JyxvcmFuZ2U6JyNmOTczMTYnLGFtYmVyOicjZjU5ZTBiJyx5ZWxsb3c6JyNlYWIzMDgnLGxpbWU6JyM4NGNjMTYnLFxuICAgICAgICAgICAgZ3JlZW46JyMyMmM1NWUnLGVtZXJhbGQ6JyMxMGI5ODEnLHRlYWw6JyMxNGI4YTYnLGN5YW46JyMwNmI2ZDQnLHNreTonIzBlYTVlOScsXG4gICAgICAgICAgICBibHVlOicjM2I4MmY2JyxpbmRpZ286JyM2MzY2ZjEnLHZpb2xldDonIzhiNWNmNicscHVycGxlOicjYTg1NWY3JyxmdWNoc2lhOicjZDk0NmVmJyxcbiAgICAgICAgICAgIHBpbms6JyNlYzQ4OTknLHJvc2U6JyNmNDNmNWUnXG4gICAgICAgICAgfTtcbiAgICAgICAgICBjb25zdCBiYXNlPW1hcFtoXTtcbiAgICAgICAgICBpZiAoIWJhc2UpIHJldHVybiBudWxsO1xuICAgICAgICAgIC8vIHJvdWdoIHNoYWRlIHR3ZWFrIHVzaW5nIG9wYWNpdHk7IG5vdCBleGFjdCBUYWlsd2luZCBwYWxldHRlIGJ1dCBwcmV2aWV3LWZyaWVuZGx5XG4gICAgICAgICAgY29uc3Qgc2hhZGVOdW09TnVtYmVyKHMpfHw1MDA7XG4gICAgICAgICAgY29uc3QgZmFjdG9yID0gTWF0aC5taW4oTWF0aC5tYXgoKHNoYWRlTnVtLTUwKS85MDAsMCksMSk7XG4gICAgICAgICAgY29uc3QgdG9SZ2I9KGhleCk9PmhleC5tYXRjaCgvW0EtRmEtZjAtOV17Mn0vZykubWFwKCh2KT0+cGFyc2VJbnQodiwxNikpO1xuICAgICAgICAgIGNvbnN0IFtyLGcsYl09dG9SZ2IoYmFzZS5yZXBsYWNlKCcjJywnJykpO1xuICAgICAgICAgIGNvbnN0IG1peD0odik9Pk1hdGgucm91bmQoMjU1IC0gKDI1NSAtIHYpKmZhY3Rvcik7XG4gICAgICAgICAgcmV0dXJuIGByZ2IoJHttaXgocil9LCAke21peChnKX0sICR7bWl4KGIpfSlgO1xuICAgICAgICB9O1xuICAgICAgICBwcmV2aWV3LnN0eWxlLnNldFByb3BlcnR5KCctLWNvbG9yLXByaW1hcnknLCB0YWlsd2luZFRva2VuVG9IZXgoY29sb3JTZWxlY3RzLnByaW1hcnk/LnZhbHVlKSB8fCAnIzlDNkJGRicpO1xuICAgICAgICBwcmV2aWV3LnN0eWxlLnNldFByb3BlcnR5KCctLWNvbG9yLXNlY29uZGFyeScsIHRhaWx3aW5kVG9rZW5Ub0hleChjb2xvclNlbGVjdHMuc2Vjb25kYXJ5Py52YWx1ZSkgfHwgJyMwRUE1RTknKTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1jb2xvci1hY2NlbnQnLCB0YWlsd2luZFRva2VuVG9IZXgoY29sb3JTZWxlY3RzLmFjY2VudD8udmFsdWUpIHx8ICcjRjk3MzE2Jyk7XG4gICAgICAgIHByZXZpZXcuc3R5bGUuc2V0UHJvcGVydHkoJy0tY29sb3ItYmFja2dyb3VuZCcsIHRhaWx3aW5kVG9rZW5Ub0hleChjb2xvclNlbGVjdHMuYmFja2dyb3VuZD8udmFsdWUpIHx8ICcjRkZGRkZGJyk7XG4gICAgICAgIHByZXZpZXcuc3R5bGUuc2V0UHJvcGVydHkoJy0tY29sb3ItdGV4dCcsIHRhaWx3aW5kVG9rZW5Ub0hleChjb2xvclNlbGVjdHMudGV4dD8udmFsdWUpIHx8ICcjMEYxNzJBJyk7XG4gICAgICAgIHByZXZpZXcuc3R5bGUuc2V0UHJvcGVydHkoJy0tZm9udC1oZWFkaW5ncycsIGhlYWRpbmdTZWxlY3Q/LnZhbHVlIHx8ICdJbnRlciwgc2Fucy1zZXJpZicpO1xuICAgICAgICBwcmV2aWV3LnN0eWxlLnNldFByb3BlcnR5KCctLWZvbnQtYm9keScsIGJvZHlTZWxlY3Q/LnZhbHVlIHx8ICdJbnRlciwgc2Fucy1zZXJpZicpO1xuICAgICAgICBwcmV2aWV3LnN0eWxlLnNldFByb3BlcnR5KCctLXJhZGl1cy1zbWFsbCcsIHJhZGl1c1NtYWxsPy52YWx1ZSB8fCAnOHB4Jyk7XG4gICAgICAgIHByZXZpZXcuc3R5bGUuc2V0UHJvcGVydHkoJy0tcmFkaXVzLW1lZGl1bScsIHJhZGl1c01lZGl1bT8udmFsdWUgfHwgJzE2cHgnKTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1yYWRpdXMtbGFyZ2UnLCByYWRpdXNMYXJnZT8udmFsdWUgfHwgJzI0cHgnKTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5ib3JkZXJSYWRpdXMgPSByYWRpdXNNZWRpdW0/LnZhbHVlIHx8ICcxNnB4JztcbiAgICAgIH07XG5cbiAgICAgIC8vIEluaXRpYWxpc2VyIGxlcyBwcmV2aWV3cyBkZSBjb3VsZXVyIGV0IGFqb3V0ZXIgbGVzIGxpc3RlbmVyc1xuICAgICAgY29uc3Qgc3R5bGVUaGVtZUNvbG9yQ2hpcCA9IChjaGlwLCBjb2xvcikgPT4ge1xuICAgICAgICBpZiAoIWNoaXApIHJldHVybjtcbiAgICAgICAgaWYgKGNvbG9yID09PSAndHJhbnNwYXJlbnQnKSB7XG4gICAgICAgICAgY2hpcC5zdHlsZS5iYWNrZ3JvdW5kID0gJ3JlcGVhdGluZy1jb25pYy1ncmFkaWVudCgjY2NjIDAlIDI1JSwgd2hpdGUgMCUgNTAlKSA1MCUgLyA4cHggOHB4JztcbiAgICAgICAgICBjaGlwLnN0eWxlLmJvcmRlckNvbG9yID0gJyNjYmQ1ZjUnO1xuICAgICAgICAgIGNoaXAuc3R5bGUuYm94U2hhZG93ID0gJyc7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNoaXAuc3R5bGUuYmFja2dyb3VuZCA9IGNvbG9yO1xuICAgICAgICBjaGlwLnN0eWxlLmJvcmRlckNvbG9yID0gY29sb3I7XG4gICAgICAgIGNoaXAuc3R5bGUuYm94U2hhZG93ID0gJzAgMCAwIDFweCByZ2JhKDE1LDIzLDQyLDAuMTUpJztcbiAgICAgIH07XG4gICAgICBjb25zdCB1cGRhdGVUaGVtZUNvbG9yUHJldmlldyA9IChzZWxlY3QpID0+IHtcbiAgICAgICAgaWYgKCFzZWxlY3QpIHJldHVybjtcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRPcHRpb24gPSBzZWxlY3Qub3B0aW9uc1tzZWxlY3Quc2VsZWN0ZWRJbmRleF07XG4gICAgICAgIGNvbnN0IGNvbG9yID0gc2VsZWN0ZWRPcHRpb24/LmRhdGFzZXQ/LmNvbG9yIHx8ICcjZmZmZmZmJztcbiAgICAgICAgY29uc3QgY29sb3JQcmV2aWV3ID0gc2VsZWN0LmNsb3Nlc3QoJy5yZWxhdGl2ZScpPy5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xvci1wcmV2aWV3XScpO1xuICAgICAgICBpZiAoY29sb3JQcmV2aWV3KSB7XG4gICAgICAgICAgaWYgKGNvbG9yID09PSAndHJhbnNwYXJlbnQnKSB7XG4gICAgICAgICAgICBjb2xvclByZXZpZXcuc3R5bGUuYmFja2dyb3VuZCA9IFRSQU5TUEFSRU5UX1BBVFRFUk47XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbG9yUHJldmlldy5zdHlsZS5iYWNrZ3JvdW5kID0gY29sb3I7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNvbG9yQ2hpcCA9IHNlbGVjdC5jbG9zZXN0KCcucmVsYXRpdmUnKT8ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtY29sb3ItY2hpcF0nKTtcbiAgICAgICAgc3R5bGVUaGVtZUNvbG9yQ2hpcChjb2xvckNoaXAsIGNvbG9yKTtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGluaXRDb2xvclByZXZpZXdzID0gKCkgPT4ge1xuICAgICAgICBPYmplY3QudmFsdWVzKGNvbG9yU2VsZWN0cykuZm9yRWFjaCgoc2VsZWN0KSA9PiB7XG4gICAgICAgICAgaWYgKCFzZWxlY3QpIHJldHVybjtcbiAgICAgICAgICBzdHlsZVNlbGVjdE9wdGlvbnMoc2VsZWN0KTtcbiAgICAgICAgICB1cGRhdGVUaGVtZUNvbG9yUHJldmlldyhzZWxlY3QpO1xuICAgICAgICAgIHNlbGVjdC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB1cGRhdGVUaGVtZUNvbG9yUHJldmlldyhzZWxlY3QpKTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICBPYmplY3Qua2V5cyhjb2xvclNlbGVjdHMpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICBjb2xvclNlbGVjdHNba2V5XT8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgc3luY1ByZXZpZXcpO1xuICAgICAgfSk7XG4gICAgICBbaGVhZGluZ1NlbGVjdCwgYm9keVNlbGVjdCwgcmFkaXVzU21hbGwsIHJhZGl1c01lZGl1bSwgcmFkaXVzTGFyZ2VdLmZvckVhY2goKGVsKSA9PiB7XG4gICAgICAgIGVsPy5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBzeW5jUHJldmlldyk7XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgbG9hZFRoZW1lID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoIXRoZW1lQXBpKSByZXR1cm47XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh0aGVtZUFwaSwge1xuICAgICAgICAgICAgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgY3JlZGVudGlhbHM6ICdpbmNsdWRlJyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSByZXR1cm47XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICBjb25zdCB0aGVtZUNvbG9ycyA9IHBheWxvYWQuY29sb3JzIHx8IHt9O1xuICAgICAgICAgIGZpbGxDb2xvck9wdGlvbnModGhlbWVDb2xvcnMpO1xuICAgICAgICAgIE9iamVjdC5lbnRyaWVzKGNvbG9yU2VsZWN0cykuZm9yRWFjaCgoW2tleSwgc2VsZWN0XSkgPT4ge1xuICAgICAgICAgICAgaWYgKCFzZWxlY3QpIHJldHVybjtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gdGhlbWVDb2xvcnNba2V5XTtcbiAgICAgICAgICAgIGNvbnN0IG5vcm1hbGl6ZWRWYWx1ZSA9IG5vcm1hbGl6ZVNlbGVjdENvbG9yKHZhbHVlKTtcbiAgICAgICAgICAgIGlmIChub3JtYWxpemVkVmFsdWUpIHtcbiAgICAgICAgICAgICAgc2VsZWN0LnZhbHVlID0gbm9ybWFsaXplZFZhbHVlO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICBzZWxlY3QudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc2VsZWN0LmRhdGFzZXQuZGVmYXVsdCkge1xuICAgICAgICAgICAgICBzZWxlY3QudmFsdWUgPSBzZWxlY3QuZGF0YXNldC5kZWZhdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdXBkYXRlVGhlbWVDb2xvclByZXZpZXcoc2VsZWN0KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpZiAoaGVhZGluZ1NlbGVjdCkgaGVhZGluZ1NlbGVjdC52YWx1ZSA9IHBheWxvYWQudHlwb2dyYXBoeT8uaGVhZGluZ3MgfHwgJ0ludGVyLCBzYW5zLXNlcmlmJztcbiAgICAgICAgICBpZiAoYm9keVNlbGVjdCkgYm9keVNlbGVjdC52YWx1ZSA9IHBheWxvYWQudHlwb2dyYXBoeT8uYm9keSB8fCAnSW50ZXIsIHNhbnMtc2VyaWYnO1xuICAgICAgICAgIGlmIChyYWRpdXNTbWFsbCkgcmFkaXVzU21hbGwudmFsdWUgPSBwYXlsb2FkLnJhZGl1cz8uc21hbGwgfHwgJzhweCc7XG4gICAgICAgICAgaWYgKHJhZGl1c01lZGl1bSkgcmFkaXVzTWVkaXVtLnZhbHVlID0gcGF5bG9hZC5yYWRpdXM/Lm1lZGl1bSB8fCAnMTZweCc7XG4gICAgICAgICAgaWYgKHJhZGl1c0xhcmdlKSByYWRpdXNMYXJnZS52YWx1ZSA9IHBheWxvYWQucmFkaXVzPy5sYXJnZSB8fCAnMjRweCc7XG4gICAgICAgICAgc3luY1ByZXZpZXcoKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3NldHRpbmdzXSBsb2FkIHRoZW1lIGZhaWxlZCcsIGVycik7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGFwcGx5QnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAoIXRoZW1lQXBpKSB7XG4gICAgICAgICAgc2V0VGhlbWVGZWVkYmFjaygnQXVjdW4gc2l0ZSBhY3RpZi4nLCAnZXJyb3InKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgICBjb2xvcnM6IHtcbiAgICAgICAgICAgIHByaW1hcnk6IGNvbG9yU2VsZWN0cy5wcmltYXJ5Py52YWx1ZSB8fCAndmlvbGV0LTUwMCcsXG4gICAgICAgICAgICBzZWNvbmRhcnk6IGNvbG9yU2VsZWN0cy5zZWNvbmRhcnk/LnZhbHVlIHx8ICdpbmRpZ28tNDAwJyxcbiAgICAgICAgICAgIGFjY2VudDogY29sb3JTZWxlY3RzLmFjY2VudD8udmFsdWUgfHwgJ2VtZXJhbGQtNTAwJyxcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IGNvbG9yU2VsZWN0cy5iYWNrZ3JvdW5kPy52YWx1ZSB8fCAnc2xhdGUtNTAnLFxuICAgICAgICAgICAgdGV4dDogY29sb3JTZWxlY3RzLnRleHQ/LnZhbHVlIHx8ICdzbGF0ZS05MDAnLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgdHlwb2dyYXBoeToge1xuICAgICAgICAgICAgaGVhZGluZ3M6IGhlYWRpbmdTZWxlY3Q/LnZhbHVlIHx8ICdJbnRlciwgc2Fucy1zZXJpZicsXG4gICAgICAgICAgICBib2R5OiBib2R5U2VsZWN0Py52YWx1ZSB8fCAnSW50ZXIsIHNhbnMtc2VyaWYnLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgcmFkaXVzOiB7XG4gICAgICAgICAgICBzbWFsbDogcmFkaXVzU21hbGw/LnZhbHVlIHx8ICc4cHgnLFxuICAgICAgICAgICAgbWVkaXVtOiByYWRpdXNNZWRpdW0/LnZhbHVlIHx8ICcxNnB4JyxcbiAgICAgICAgICAgIGxhcmdlOiByYWRpdXNMYXJnZT8udmFsdWUgfHwgJzI0cHgnLFxuICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIGFwcGx5QnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgc2V0VGhlbWVGZWVkYmFjaygnJyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh0aGVtZUFwaSwge1xuICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgY3JlZGVudGlhbHM6ICdpbmNsdWRlJyxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rIHx8IHJlc3VsdC5zdWNjZXNzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5tZXNzYWdlIHx8ICdBcHBsaWNhdGlvbiBkdSB0aFx1MDBFOG1lIFx1MDBFOWNob3VcdTAwRTllLicpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBhd2FpdCBsb2FkVGhlbWUoKTtcbiAgICAgICAgICBzZXRUaGVtZUZlZWRiYWNrKHJlc3VsdC5tZXNzYWdlIHx8ICdUaFx1MDBFOG1lIGFwcGxpcXVcdTAwRTkuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3NldHRpbmdzXSBhcHBseSB0aGVtZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICAgIHNldFRoZW1lRmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGRlIGxcdTIwMTlhcHBsaWNhdGlvbiBkdSB0aFx1MDBFOG1lLicsICdlcnJvcicpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGFwcGx5QnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBmaWxsQ29sb3JPcHRpb25zKCk7XG4gICAgICBpbml0Q29sb3JQcmV2aWV3cygpO1xuICAgICAgbG9hZFRoZW1lKCk7XG4gICAgICBzeW5jUHJldmlldygpO1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignYWktdGhlbWUtdXBkYXRlZCcsICgpID0+IHtcbiAgICAgICAgbG9hZFRoZW1lKCk7XG4gICAgICAgIHNldFRoZW1lRmVlZGJhY2soJ1RoXHUwMEU4bWUgbWlzIFx1MDBFMCBqb3VyLicsICdzdWNjZXNzJyk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBTRU8gQ29uZmlnIGZvcm0gKFVTOS5CMSlcbiAgICBjb25zdCBzZW9Db25maWdGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2VvLWNvbmZpZy1mb3JtXScpO1xuICAgIGlmIChzZW9Db25maWdGb3JtKSB7XG4gICAgICBjb25zdCBpbmRleEFsbENoZWNrYm94ID0gc2VvQ29uZmlnRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8taW5kZXgtYWxsXScpO1xuICAgICAgY29uc3Qgc2VvQ29uZmlnRmVlZGJhY2sgPSBzZW9Db25maWdGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby1jb25maWctZmVlZGJhY2tdJyk7XG4gICAgICBjb25zdCBzZW9TYXZlQnV0dG9uID0gc2VvQ29uZmlnRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8tc2F2ZV0nKTtcblxuICAgICAgY29uc3Qgc2FmZVNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goXG4gICAgICAgIHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJycsXG4gICAgICApO1xuICAgICAgY29uc3Qgc2l0ZUNvbmZpZ0FwaSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Zyl9L2NvbmZpZy9zaXRlYFxuICAgICAgICA6IG51bGw7XG5cbiAgICAgIGNvbnN0IHNldFNlb0ZlZWRiYWNrID0gKG1lc3NhZ2UsIHRvbmUgPSAnbXV0ZWQnKSA9PiB7XG4gICAgICAgIGlmICghc2VvQ29uZmlnRmVlZGJhY2spIHJldHVybjtcbiAgICAgICAgY29uc3QgY29sb3IgPVxuICAgICAgICAgIHRvbmUgPT09ICdzdWNjZXNzJ1xuICAgICAgICAgICAgPyAndGV4dC1lbWVyYWxkLTYwMCdcbiAgICAgICAgICAgIDogdG9uZSA9PT0gJ2Vycm9yJ1xuICAgICAgICAgICAgICA/ICd0ZXh0LXJvc2UtNjAwJ1xuICAgICAgICAgICAgICA6ICd0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICAgIHNlb0NvbmZpZ0ZlZWRiYWNrLnRleHRDb250ZW50ID0gbWVzc2FnZSB8fCAnJztcbiAgICAgICAgc2VvQ29uZmlnRmVlZGJhY2suY2xhc3NOYW1lID0gYHRleHQtc20gJHtjb2xvcn1gO1xuICAgICAgfTtcblxuICAgICAgY29uc3QgbG9hZFNlb0NvbmZpZyA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKCFzaXRlQ29uZmlnQXBpKSByZXR1cm47XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChzaXRlQ29uZmlnQXBpLCB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSByZXR1cm47XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICBjb25zdCBpbmRleEFsbCA9IHBheWxvYWQuc2VvPy5pbmRleEFsbFBhZ2VzQnlEZWZhdWx0ICE9PSBmYWxzZTtcbiAgICAgICAgICBpZiAoaW5kZXhBbGxDaGVja2JveCkgaW5kZXhBbGxDaGVja2JveC5jaGVja2VkID0gaW5kZXhBbGw7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gbG9hZCBzZW8gY29uZmlnIGZhaWxlZCcsIGVycik7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHNlb0NvbmZpZ0Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmICghc2l0ZUNvbmZpZ0FwaSkge1xuICAgICAgICAgIHNldFNlb0ZlZWRiYWNrKCdBdWN1biBzaXRlIGFjdGlmLicsICdlcnJvcicpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzZW9TYXZlQnV0dG9uICYmIChzZW9TYXZlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZSk7XG4gICAgICAgIHNldFNlb0ZlZWRiYWNrKCcnKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBGaXJzdCBsb2FkIGN1cnJlbnQgY29uZmlnIHRvIHByZXNlcnZlIG90aGVyIGZpZWxkc1xuICAgICAgICAgIGNvbnN0IGN1cnJlbnRSZXMgPSBhd2FpdCBmZXRjaChzaXRlQ29uZmlnQXBpLCB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcbiAgICAgICAgICBjb25zdCBjdXJyZW50Q29uZmlnID0gY3VycmVudFJlcy5vayA/IGF3YWl0IGN1cnJlbnRSZXMuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpIDoge307XG5cbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICAgICAgLi4uY3VycmVudENvbmZpZyxcbiAgICAgICAgICAgIHNlbzoge1xuICAgICAgICAgICAgICAuLi4oY3VycmVudENvbmZpZy5zZW8gfHwge30pLFxuICAgICAgICAgICAgICBpbmRleEFsbFBhZ2VzQnlEZWZhdWx0OiBpbmRleEFsbENoZWNrYm94Py5jaGVja2VkID8/IHRydWUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH07XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChzaXRlQ29uZmlnQXBpLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vayB8fCByZXN1bHQuc3VjY2VzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQubWVzc2FnZSB8fCAnU2F1dmVnYXJkZSBpbXBvc3NpYmxlLicpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXRTZW9GZWVkYmFjayhyZXN1bHQubWVzc2FnZSB8fCAnUGFyYW1cdTAwRTh0cmVzIFNFTyBlbnJlZ2lzdHJcdTAwRTlzLicsICdzdWNjZXNzJyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gc2F2ZSBzZW8gY29uZmlnIGZhaWxlZCcsIGVycik7XG4gICAgICAgICAgc2V0U2VvRmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGRlIGxhIHNhdXZlZ2FyZGUuJywgJ2Vycm9yJyk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgc2VvU2F2ZUJ1dHRvbiAmJiAoc2VvU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGxvYWRTZW9Db25maWcoKTtcbiAgICB9XG5cbiAgICAvLyBBbmFseXRpY3MgZm9ybSAoVVM5LkIyKVxuICAgIGNvbnN0IGFuYWx5dGljc0Zvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hbmFseXRpY3MtZm9ybV0nKTtcbiAgICBpZiAoYW5hbHl0aWNzRm9ybSkge1xuICAgICAgY29uc3QgaGVhZFRleHRhcmVhID0gYW5hbHl0aWNzRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hbmFseXRpY3MtaGVhZF0nKTtcbiAgICAgIGNvbnN0IGJvZHlUZXh0YXJlYSA9IGFuYWx5dGljc0Zvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYW5hbHl0aWNzLWJvZHldJyk7XG4gICAgICBjb25zdCBhbmFseXRpY3NGZWVkYmFjayA9IGFuYWx5dGljc0Zvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYW5hbHl0aWNzLWZlZWRiYWNrXScpO1xuICAgICAgY29uc3QgYW5hbHl0aWNzU2F2ZUJ1dHRvbiA9IGFuYWx5dGljc0Zvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYW5hbHl0aWNzLXNhdmVdJyk7XG5cbiAgICAgIGNvbnN0IHNhZmVTaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKFxuICAgICAgICB3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnLFxuICAgICAgKTtcbiAgICAgIGNvbnN0IHNpdGVDb25maWdBcGkgPSBzYWZlU2l0ZVNsdWdcbiAgICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9jb25maWcvc2l0ZWBcbiAgICAgICAgOiBudWxsO1xuXG4gICAgICBjb25zdCBzZXRBbmFseXRpY3NGZWVkYmFjayA9IChtZXNzYWdlLCB0b25lID0gJ211dGVkJykgPT4ge1xuICAgICAgICBpZiAoIWFuYWx5dGljc0ZlZWRiYWNrKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGNvbG9yID1cbiAgICAgICAgICB0b25lID09PSAnc3VjY2VzcydcbiAgICAgICAgICAgID8gJ3RleHQtZW1lcmFsZC02MDAnXG4gICAgICAgICAgICA6IHRvbmUgPT09ICdlcnJvcidcbiAgICAgICAgICAgICAgPyAndGV4dC1yb3NlLTYwMCdcbiAgICAgICAgICAgICAgOiAndGV4dC1zbGF0ZS01MDAnO1xuICAgICAgICBhbmFseXRpY3NGZWVkYmFjay50ZXh0Q29udGVudCA9IG1lc3NhZ2UgfHwgJyc7XG4gICAgICAgIGFuYWx5dGljc0ZlZWRiYWNrLmNsYXNzTmFtZSA9IGB0ZXh0LXNtICR7Y29sb3J9YDtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGxvYWRBbmFseXRpY3NDb25maWcgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIGlmICghc2l0ZUNvbmZpZ0FwaSkgcmV0dXJuO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goc2l0ZUNvbmZpZ0FwaSwgeyBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgcmV0dXJuO1xuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgaWYgKGhlYWRUZXh0YXJlYSkgaGVhZFRleHRhcmVhLnZhbHVlID0gcGF5bG9hZC5hbmFseXRpY3M/LmhlYWRDb2RlIHx8ICcnO1xuICAgICAgICAgIGlmIChib2R5VGV4dGFyZWEpIGJvZHlUZXh0YXJlYS52YWx1ZSA9IHBheWxvYWQuYW5hbHl0aWNzPy5ib2R5RW5kQ29kZSB8fCAnJztcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3NldHRpbmdzXSBsb2FkIGFuYWx5dGljcyBjb25maWcgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgYW5hbHl0aWNzRm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKCFzaXRlQ29uZmlnQXBpKSB7XG4gICAgICAgICAgc2V0QW5hbHl0aWNzRmVlZGJhY2soJ0F1Y3VuIHNpdGUgYWN0aWYuJywgJ2Vycm9yJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGFuYWx5dGljc1NhdmVCdXR0b24gJiYgKGFuYWx5dGljc1NhdmVCdXR0b24uZGlzYWJsZWQgPSB0cnVlKTtcbiAgICAgICAgc2V0QW5hbHl0aWNzRmVlZGJhY2soJycpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIEZpcnN0IGxvYWQgY3VycmVudCBjb25maWcgdG8gcHJlc2VydmUgb3RoZXIgZmllbGRzXG4gICAgICAgICAgY29uc3QgY3VycmVudFJlcyA9IGF3YWl0IGZldGNoKHNpdGVDb25maWdBcGksIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xuICAgICAgICAgIGNvbnN0IGN1cnJlbnRDb25maWcgPSBjdXJyZW50UmVzLm9rID8gYXdhaXQgY3VycmVudFJlcy5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSkgOiB7fTtcblxuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgICAgICAuLi5jdXJyZW50Q29uZmlnLFxuICAgICAgICAgICAgYW5hbHl0aWNzOiB7XG4gICAgICAgICAgICAgIGhlYWRDb2RlOiBoZWFkVGV4dGFyZWE/LnZhbHVlIHx8ICcnLFxuICAgICAgICAgICAgICBib2R5RW5kQ29kZTogYm9keVRleHRhcmVhPy52YWx1ZSB8fCAnJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfTtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHNpdGVDb25maWdBcGksIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rIHx8IHJlc3VsdC5zdWNjZXNzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5tZXNzYWdlIHx8ICdTYXV2ZWdhcmRlIGltcG9zc2libGUuJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNldEFuYWx5dGljc0ZlZWRiYWNrKHJlc3VsdC5tZXNzYWdlIHx8ICdTY3JpcHRzIGVucmVnaXN0clx1MDBFOXMuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3NldHRpbmdzXSBzYXZlIGFuYWx5dGljcyBjb25maWcgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgICBzZXRBbmFseXRpY3NGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZGUgbGEgc2F1dmVnYXJkZS4nLCAnZXJyb3InKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBhbmFseXRpY3NTYXZlQnV0dG9uICYmIChhbmFseXRpY3NTYXZlQnV0dG9uLmRpc2FibGVkID0gZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgbG9hZEFuYWx5dGljc0NvbmZpZygpO1xuICAgIH1cblxuICAgIGNvbnN0IGFjY2Vzc2liaWxpdHlGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWNjZXNzaWJpbGl0eS1mb3JtXScpO1xuICAgIGlmIChhY2Nlc3NpYmlsaXR5Rm9ybSkge1xuICAgICAgY29uc3QgYW5pbWF0aW9uc1RvZ2dsZSA9IGFjY2Vzc2liaWxpdHlGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFjY2Vzc2liaWxpdHktYW5pbWF0aW9uc10nKTtcbiAgICAgIGNvbnN0IGNvbnRyYXN0VG9nZ2xlID0gYWNjZXNzaWJpbGl0eUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYWNjZXNzaWJpbGl0eS1jb250cmFzdF0nKTtcbiAgICAgIGNvbnN0IGFjY2Vzc2liaWxpdHlGZWVkYmFjayA9IGFjY2Vzc2liaWxpdHlGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFjY2Vzc2liaWxpdHktZmVlZGJhY2tdJyk7XG4gICAgICBjb25zdCBhY2Nlc3NpYmlsaXR5U2F2ZUJ1dHRvbiA9IGFjY2Vzc2liaWxpdHlGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFjY2Vzc2liaWxpdHktc2F2ZV0nKTtcblxuICAgICAgY29uc3Qgc2FmZVNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goXG4gICAgICAgIHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJycsXG4gICAgICApO1xuICAgICAgY29uc3Qgc2l0ZUNvbmZpZ0FwaSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Zyl9L2NvbmZpZy9zaXRlYFxuICAgICAgICA6IG51bGw7XG5cbiAgICAgIGNvbnN0IHNldEFjY2Vzc2liaWxpdHlGZWVkYmFjayA9IChtZXNzYWdlLCB0b25lID0gJ211dGVkJykgPT4ge1xuICAgICAgICBpZiAoIWFjY2Vzc2liaWxpdHlGZWVkYmFjaykgcmV0dXJuO1xuICAgICAgICBjb25zdCBjb2xvciA9XG4gICAgICAgICAgdG9uZSA9PT0gJ3N1Y2Nlc3MnXG4gICAgICAgICAgICA/ICd0ZXh0LWVtZXJhbGQtNjAwJ1xuICAgICAgICAgICAgOiB0b25lID09PSAnZXJyb3InXG4gICAgICAgICAgICAgID8gJ3RleHQtcm9zZS02MDAnXG4gICAgICAgICAgICAgIDogJ3RleHQtc2xhdGUtNTAwJztcbiAgICAgICAgYWNjZXNzaWJpbGl0eUZlZWRiYWNrLnRleHRDb250ZW50ID0gbWVzc2FnZSB8fCAnJztcbiAgICAgICAgYWNjZXNzaWJpbGl0eUZlZWRiYWNrLmNsYXNzTmFtZSA9IGB0ZXh0LXNtICR7Y29sb3J9YDtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGxvYWRBY2Nlc3NpYmlsaXR5Q29uZmlnID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoIXNpdGVDb25maWdBcGkpIHJldHVybjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHNpdGVDb25maWdBcGksIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHJldHVybjtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIGlmIChhbmltYXRpb25zVG9nZ2xlKSB7XG4gICAgICAgICAgICBhbmltYXRpb25zVG9nZ2xlLmNoZWNrZWQgPSBwYXlsb2FkLmFjY2Vzc2liaWxpdHk/LmFuaW1hdGlvbnNFbmFibGVkICE9PSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGNvbnRyYXN0VG9nZ2xlKSB7XG4gICAgICAgICAgICBjb250cmFzdFRvZ2dsZS5jaGVja2VkID0gcGF5bG9hZC5hY2Nlc3NpYmlsaXR5Py5oaWdoQ29udHJhc3QgPT09IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIGxvYWQgYWNjZXNzaWJpbGl0eSBjb25maWcgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgYWNjZXNzaWJpbGl0eUZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmICghc2l0ZUNvbmZpZ0FwaSkge1xuICAgICAgICAgIHNldEFjY2Vzc2liaWxpdHlGZWVkYmFjaygnQXVjdW4gc2l0ZSBhY3RpZi4nLCAnZXJyb3InKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgYWNjZXNzaWJpbGl0eVNhdmVCdXR0b24gJiYgKGFjY2Vzc2liaWxpdHlTYXZlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZSk7XG4gICAgICAgIHNldEFjY2Vzc2liaWxpdHlGZWVkYmFjaygnJyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgY3VycmVudFJlcyA9IGF3YWl0IGZldGNoKHNpdGVDb25maWdBcGksIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xuICAgICAgICAgIGNvbnN0IGN1cnJlbnRDb25maWcgPSBjdXJyZW50UmVzLm9rID8gYXdhaXQgY3VycmVudFJlcy5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSkgOiB7fTtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICAgICAgLi4uY3VycmVudENvbmZpZyxcbiAgICAgICAgICAgIGFjY2Vzc2liaWxpdHk6IHtcbiAgICAgICAgICAgICAgYW5pbWF0aW9uc0VuYWJsZWQ6IGFuaW1hdGlvbnNUb2dnbGU/LmNoZWNrZWQgPz8gdHJ1ZSxcbiAgICAgICAgICAgICAgaGlnaENvbnRyYXN0OiBjb250cmFzdFRvZ2dsZT8uY2hlY2tlZCA/PyBmYWxzZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfTtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHNpdGVDb25maWdBcGksIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rIHx8IHJlc3VsdC5zdWNjZXNzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5tZXNzYWdlIHx8ICdTYXV2ZWdhcmRlIGltcG9zc2libGUuJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNldEFjY2Vzc2liaWxpdHlGZWVkYmFjayhyZXN1bHQubWVzc2FnZSB8fCAnUHJcdTAwRTlmXHUwMEU5cmVuY2VzIG1pc2VzIFx1MDBFMCBqb3VyLicsICdzdWNjZXNzJyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gc2F2ZSBhY2Nlc3NpYmlsaXR5IGNvbmZpZyBmYWlsZWQnLCBlcnIpO1xuICAgICAgICAgIHNldEFjY2Vzc2liaWxpdHlGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZGUgbGEgc2F1dmVnYXJkZS4nLCAnZXJyb3InKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBhY2Nlc3NpYmlsaXR5U2F2ZUJ1dHRvbiAmJiAoYWNjZXNzaWJpbGl0eVNhdmVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBsb2FkQWNjZXNzaWJpbGl0eUNvbmZpZygpO1xuICAgIH1cblxuICAgIC8vIEFJIENvbmZpZyBmb3JtIChVUyAtIEFJIEFzc2lzdGFudClcbiAgICBjb25zdCBhaUNvbmZpZ0Zvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1haS1jb25maWctZm9ybV0nKTtcbiAgICBpZiAoYWlDb25maWdGb3JtKSB7XG4gICAgICBjb25zdCBhcGlLZXlJbnB1dCA9IGFpQ29uZmlnRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1haS1hcGkta2V5XScpO1xuICAgICAgY29uc3QgbW9kZWxTZWxlY3QgPSBhaUNvbmZpZ0Zvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYWktbW9kZWxdJyk7XG4gICAgICBjb25zdCBwcm9qZWN0UHJvbXB0VGV4dGFyZWEgPSBhaUNvbmZpZ0Zvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYWktcHJvamVjdC1wcm9tcHRdJyk7XG4gICAgICBjb25zdCBlbmFibGVkQ2hlY2tib3ggPSBhaUNvbmZpZ0Zvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYWktZW5hYmxlZF0nKTtcbiAgICAgIGNvbnN0IGFpRmVlZGJhY2sgPSBhaUNvbmZpZ0Zvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYWktZmVlZGJhY2tdJyk7XG4gICAgICBjb25zdCBhaVNhdmVCdXR0b24gPSBhaUNvbmZpZ0Zvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYWktc2F2ZV0nKTtcblxuICAgICAgY29uc3Qgc2FmZVNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goXG4gICAgICAgIHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJycsXG4gICAgICApO1xuICAgICAgY29uc3QgYWlDb25maWdBcGkgPSBzYWZlU2l0ZVNsdWdcbiAgICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9jb25maWcvYWlgXG4gICAgICAgIDogbnVsbDtcblxuICAgICAgY29uc3Qgc2V0QUlGZWVkYmFjayA9IChtZXNzYWdlLCB0b25lID0gJ211dGVkJykgPT4ge1xuICAgICAgICBpZiAoIWFpRmVlZGJhY2spIHJldHVybjtcbiAgICAgICAgY29uc3QgY29sb3IgPVxuICAgICAgICAgIHRvbmUgPT09ICdzdWNjZXNzJ1xuICAgICAgICAgICAgPyAndGV4dC1lbWVyYWxkLTYwMCdcbiAgICAgICAgICAgIDogdG9uZSA9PT0gJ2Vycm9yJ1xuICAgICAgICAgICAgICA/ICd0ZXh0LXJvc2UtNjAwJ1xuICAgICAgICAgICAgICA6ICd0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICAgIGFpRmVlZGJhY2sudGV4dENvbnRlbnQgPSBtZXNzYWdlIHx8ICcnO1xuICAgICAgICBhaUZlZWRiYWNrLmNsYXNzTmFtZSA9IGB0ZXh0LXNtICR7Y29sb3J9YDtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGxvYWRBSUNvbmZpZyA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKCFhaUNvbmZpZ0FwaSkgcmV0dXJuO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYWlDb25maWdBcGksIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHJldHVybjtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIC8vIEFQSSBrZXkgaXMgbWFza2VkLCB3ZSBzaG93IHBsYWNlaG9sZGVyIGlmIGl0IGV4aXN0c1xuICAgICAgICAgIGlmIChhcGlLZXlJbnB1dCkge1xuICAgICAgICAgICAgYXBpS2V5SW5wdXQudmFsdWUgPSAnJztcbiAgICAgICAgICAgIGFwaUtleUlucHV0LnBsYWNlaG9sZGVyID0gcGF5bG9hZC5oYXNBcGlLZXkgPyAnXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyJyA6ICdDbFx1MDBFOSBBUEkgR2VtaW5pJztcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG1vZGVsU2VsZWN0KSBtb2RlbFNlbGVjdC52YWx1ZSA9IHBheWxvYWQubW9kZWwgfHwgJ2dlbWluaS0yLjUtZmxhc2gnO1xuICAgICAgICAgIGlmIChwcm9qZWN0UHJvbXB0VGV4dGFyZWEpIHByb2plY3RQcm9tcHRUZXh0YXJlYS52YWx1ZSA9IHBheWxvYWQucHJvamVjdFByb21wdCB8fCAnJztcbiAgICAgICAgICBpZiAoZW5hYmxlZENoZWNrYm94KSBlbmFibGVkQ2hlY2tib3guY2hlY2tlZCA9IHBheWxvYWQuZW5hYmxlZCAhPT0gZmFsc2U7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gbG9hZCBBSSBjb25maWcgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgYWlDb25maWdGb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAoIWFpQ29uZmlnQXBpKSB7XG4gICAgICAgICAgc2V0QUlGZWVkYmFjaygnQXVjdW4gc2l0ZSBhY3RpZi4nLCAnZXJyb3InKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgYWlTYXZlQnV0dG9uICYmIChhaVNhdmVCdXR0b24uZGlzYWJsZWQgPSB0cnVlKTtcbiAgICAgICAgc2V0QUlGZWVkYmFjaygnJyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgICAgIG1vZGVsOiBtb2RlbFNlbGVjdD8udmFsdWUgfHwgJ2dlbWluaS0yLjUtZmxhc2gnLFxuICAgICAgICAgICAgcHJvamVjdFByb21wdDogcHJvamVjdFByb21wdFRleHRhcmVhPy52YWx1ZSB8fCAnJyxcbiAgICAgICAgICAgIGVuYWJsZWQ6IGVuYWJsZWRDaGVja2JveD8uY2hlY2tlZCA/PyB0cnVlLFxuICAgICAgICAgIH07XG4gICAgICAgICAgLy8gT25seSBpbmNsdWRlIGFwaUtleSBpZiB0aGUgdXNlciBlbnRlcmVkIG9uZSAobm90IGVtcHR5KVxuICAgICAgICAgIGNvbnN0IGFwaUtleVZhbHVlID0gYXBpS2V5SW5wdXQ/LnZhbHVlPy50cmltKCk7XG4gICAgICAgICAgaWYgKGFwaUtleVZhbHVlKSB7XG4gICAgICAgICAgICBwYXlsb2FkLmFwaUtleSA9IGFwaUtleVZhbHVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYWlDb25maWdBcGksIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rIHx8IHJlc3VsdC5zdWNjZXNzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5tZXNzYWdlIHx8ICdTYXV2ZWdhcmRlIGltcG9zc2libGUuJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNldEFJRmVlZGJhY2socmVzdWx0Lm1lc3NhZ2UgfHwgJ0NvbmZpZ3VyYXRpb24gSUEgZW5yZWdpc3RyXHUwMEU5ZS4nLCAnc3VjY2VzcycpO1xuICAgICAgICAgIC8vIENsZWFyIHRoZSBBUEkga2V5IGZpZWxkIGFmdGVyIHN1Y2Nlc3NmdWwgc2F2ZVxuICAgICAgICAgIGlmIChhcGlLZXlJbnB1dCkge1xuICAgICAgICAgICAgYXBpS2V5SW5wdXQudmFsdWUgPSAnJztcbiAgICAgICAgICAgIGFwaUtleUlucHV0LnBsYWNlaG9sZGVyID0gJ1x1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMic7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIHNhdmUgQUkgY29uZmlnIGZhaWxlZCcsIGVycik7XG4gICAgICAgICAgc2V0QUlGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZGUgbGEgc2F1dmVnYXJkZS4nLCAnZXJyb3InKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBhaVNhdmVCdXR0b24gJiYgKGFpU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGxvYWRBSUNvbmZpZygpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXRNZWRpYVdvcmtzcGFjZSgpIHtcbiAgICBjb25zdCBncmlkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZ3JpZF0nKTtcbiAgICBpZiAoIWdyaWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZW1wdHlTdGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWVtcHR5XScpO1xuICAgIGNvbnN0IGNvdW50QmFkZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1jb3VudF0nKTtcbiAgICBjb25zdCBmaWx0ZXJUeXBlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZmlsdGVyLXR5cGVdJyk7XG4gICAgY29uc3QgZGV0YWlsRW1wdHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZXRhaWwtZW1wdHldJyk7XG4gICAgY29uc3QgZGV0YWlsUGFuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZXRhaWxdJyk7XG4gICAgY29uc3QgZGV0YWlsUHJldmlldyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRldGFpbC1wcmV2aWV3XScpO1xuICAgIGNvbnN0IGRldGFpbE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZXRhaWwtbmFtZV0nKTtcbiAgICBjb25zdCBkZXRhaWxUeXBlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGV0YWlsLXR5cGVdJyk7XG4gICAgY29uc3QgZGV0YWlsU2l6ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRldGFpbC1zaXplXScpO1xuICAgIGNvbnN0IGRldGFpbFBhdGggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZXRhaWwtcGF0aF0nKTtcbiAgICBjb25zdCBkZXRhaWxVc2VkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGV0YWlsLXVzZWRdJyk7XG4gICAgY29uc3QgZGV0YWlsQWx0SW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1hbHQtZWRpdF0nKTtcbiAgICBjb25zdCBkZXRhaWxTYXZlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtc2F2ZV0nKTtcbiAgICBjb25zdCBkZXRhaWxEZWxldGVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZWxldGVdJyk7XG4gICAgY29uc3QgZGVsZXRlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZWxldGUtbW9kYWxdJyk7XG4gICAgY29uc3QgZGVsZXRlQ2FuY2VsQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGVsZXRlLWNhbmNlbF0nKTtcbiAgICBjb25zdCBkZWxldGVDb25maXJtQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGVsZXRlLWNvbmZpcm1dJyk7XG4gICAgY29uc3QgdXBsb2FkT3BlbkJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLXVwbG9hZC1vcGVuXScpO1xuICAgIGNvbnN0IGZpbGVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWZpbGUtaW5wdXRdJyk7XG4gICAgY29uc3QgdXBsb2FkU3RhdHVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtdXBsb2FkLXN0YXR1c10nKTtcblxuICAgIGNvbnN0IHNhZmVTaXRlU2x1Z1ZhbHVlID0gc3RyaXBMZWFkaW5nU2xhc2goXG4gICAgICB3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnLFxuICAgICk7XG4gICAgY29uc3QgbWVkaWFBcGlCYXNlID0gc2FmZVNpdGVTbHVnVmFsdWVcbiAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnVmFsdWUpfS9tZWRpYWBcbiAgICAgIDogbnVsbDtcblxuICAgIGxldCBtZWRpYUl0ZW1zID0gW107XG4gICAgbGV0IGZpbHRlcmVkSXRlbXMgPSBbXTtcbiAgICBsZXQgYWN0aXZlTWVkaWFJZCA9IG51bGw7XG4gICAgbGV0IGhpZ2hsaWdodE1lZGlhSWQgPSBudWxsO1xuICAgIGxldCBwZW5kaW5nVXBsb2FkRmlsZSA9IG51bGw7XG4gICAgbGV0IHVwbG9hZEluUHJvZ3Jlc3MgPSBmYWxzZTtcbiAgICBsZXQgZGV0YWlsRGlydHkgPSBmYWxzZTtcbiAgICBsZXQgdXBsb2FkTW9kZSA9IGZhbHNlO1xuICAgIGxldCB1cGxvYWRQcmV2aWV3VXJsID0gbnVsbDtcblxuICAgIGNvbnN0IGRlcml2ZUdyb3VwVHlwZSA9IChpdGVtKSA9PiB7XG4gICAgICBjb25zdCB0eXBlID0gKGl0ZW0udHlwZSB8fCAnJykudG9Mb3dlckNhc2UoKTtcbiAgICAgIGNvbnN0IGZpbGVuYW1lID0gKGl0ZW0uZmlsZW5hbWUgfHwgJycpLnRvTG93ZXJDYXNlKCk7XG4gICAgICBpZiAodHlwZS5pbmNsdWRlcygnaW1hZ2UnKSB8fCAvXFwuKHBuZ3xqcGU/Z3x3ZWJwfHN2Z3xnaWYpJC9pLnRlc3QoZmlsZW5hbWUpKSB7XG4gICAgICAgIHJldHVybiAnaW1hZ2UnO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGUuaW5jbHVkZXMoJ3BkZicpIHx8IHR5cGUuaW5jbHVkZXMoJ2RvYycpIHx8IC9cXC4ocGRmfGRvY3g/KSQvaS50ZXN0KGZpbGVuYW1lKSkge1xuICAgICAgICByZXR1cm4gJ2RvY3VtZW50JztcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlLmluY2x1ZGVzKCd2aWRlbycpIHx8IC9cXC4obXA0fG1vdnx3ZWJtKSQvaS50ZXN0KGZpbGVuYW1lKSkge1xuICAgICAgICByZXR1cm4gJ3ZpZGVvJztcbiAgICAgIH1cbiAgICAgIHJldHVybiAnb3RoZXInO1xuICAgIH07XG5cbiAgICBjb25zdCBpc0ltYWdlVHlwZSA9IChpdGVtKSA9PiBkZXJpdmVHcm91cFR5cGUoaXRlbSkgPT09ICdpbWFnZSc7XG5cbiAgICBjb25zdCBmb3JtYXRUeXBlTGFiZWwgPSAoaXRlbSkgPT4ge1xuICAgICAgaWYgKGl0ZW0udHlwZSkge1xuICAgICAgICByZXR1cm4gaXRlbS50eXBlLnRvVXBwZXJDYXNlKCk7XG4gICAgICB9XG4gICAgICBjb25zdCBleHQgPSAoaXRlbS5maWxlbmFtZSB8fCAnJykuc3BsaXQoJy4nKS5wb3AoKTtcbiAgICAgIHJldHVybiBleHQgPyBleHQudG9VcHBlckNhc2UoKSA6ICdGSUxFJztcbiAgICB9O1xuXG4gICAgY29uc3QgZm9ybWF0RmlsZVNpemUgPSAoc2l6ZSkgPT4ge1xuICAgICAgaWYgKCFzaXplIHx8IHNpemUgPD0gMCkge1xuICAgICAgICByZXR1cm4gJ1x1MjAxNCc7XG4gICAgICB9XG4gICAgICBpZiAoc2l6ZSA8IDEwMjQpIHtcbiAgICAgICAgcmV0dXJuIGAke3NpemV9IG9gO1xuICAgICAgfVxuICAgICAgaWYgKHNpemUgPCAxMDI0ICogMTAyNCkge1xuICAgICAgICByZXR1cm4gYCR7KHNpemUgLyAxMDI0KS50b0ZpeGVkKDEpfSBrb2A7XG4gICAgICB9XG4gICAgICByZXR1cm4gYCR7KHNpemUgLyAoMTAyNCAqIDEwMjQpKS50b0ZpeGVkKDEpfSBNb2A7XG4gICAgfTtcblxuICAgIGNvbnN0IHJlc2V0RGV0YWlsUGFuZWwgPSAoKSA9PiB7XG4gICAgICBkZXRhaWxQYW5lbD8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBkZXRhaWxFbXB0eT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBjbGVhclVwbG9hZFN0YXRlKCk7XG4gICAgICBhY3RpdmVNZWRpYUlkID0gbnVsbDtcbiAgICAgIGRldGFpbERpcnR5ID0gZmFsc2U7XG4gICAgICB1cGRhdGVEZXRhaWxBY3Rpb25zKGZhbHNlKTtcbiAgICAgIGlmIChkZXRhaWxQcmV2aWV3KSB7XG4gICAgICAgIGRldGFpbFByZXZpZXcuaW5uZXJIVE1MID1cbiAgICAgICAgICAnPHNwYW4gY2xhc3M9XCJ0ZXh0LXNsYXRlLTQwMCB0ZXh0LXNtXCI+QXVjdW4gbVx1MDBFOWRpYSBzXHUwMEU5bGVjdGlvbm5cdTAwRTk8L3NwYW4+JztcbiAgICAgIH1cbiAgICAgIGlmIChkZXRhaWxOYW1lKSB7XG4gICAgICAgIGRldGFpbE5hbWUudGV4dENvbnRlbnQgPSAnJztcbiAgICAgIH1cbiAgICAgIGRldGFpbFR5cGUgJiYgKGRldGFpbFR5cGUudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgICBkZXRhaWxTaXplICYmIChkZXRhaWxTaXplLnRleHRDb250ZW50ID0gJycpO1xuICAgICAgaWYgKGRldGFpbEFsdElucHV0KSB7XG4gICAgICAgIGRldGFpbEFsdElucHV0LnZhbHVlID0gJyc7XG4gICAgICB9XG4gICAgICBkZXRhaWxQYXRoICYmIChkZXRhaWxQYXRoLnRleHRDb250ZW50ID0gJycpO1xuICAgICAgaWYgKGRldGFpbFVzZWQpIHtcbiAgICAgICAgZGV0YWlsVXNlZC5pbm5lckhUTUwgPSAnJztcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgY2xlYXJVcGxvYWRTdGF0ZSA9ICgpID0+IHtcbiAgICAgIHBlbmRpbmdVcGxvYWRGaWxlID0gbnVsbDtcbiAgICAgIHVwbG9hZE1vZGUgPSBmYWxzZTtcbiAgICAgIHVwbG9hZEluUHJvZ3Jlc3MgPSBmYWxzZTtcbiAgICAgIGlmICh1cGxvYWRQcmV2aWV3VXJsKSB7XG4gICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwodXBsb2FkUHJldmlld1VybCk7XG4gICAgICAgIHVwbG9hZFByZXZpZXdVcmwgPSBudWxsO1xuICAgICAgfVxuICAgICAgdXBsb2FkU3RhdHVzICYmICh1cGxvYWRTdGF0dXMudGV4dENvbnRlbnQgPSAnQXVjdW4gZmljaGllciBzXHUwMEU5bGVjdGlvbm5cdTAwRTkuJyk7XG4gICAgICBmaWxlSW5wdXQgJiYgKGZpbGVJbnB1dC52YWx1ZSA9ICcnKTtcbiAgICB9O1xuXG4gICAgY29uc3QgdXBkYXRlQ291bnRCYWRnZSA9ICgpID0+IHtcbiAgICAgIGlmICghY291bnRCYWRnZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWZpbHRlcmVkSXRlbXMubGVuZ3RoKSB7XG4gICAgICAgIGNvdW50QmFkZ2UudGV4dENvbnRlbnQgPSAnMCBtXHUwMEU5ZGlhJztcbiAgICAgIH0gZWxzZSBpZiAoZmlsdGVyZWRJdGVtcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgY291bnRCYWRnZS50ZXh0Q29udGVudCA9ICcxIG1cdTAwRTlkaWEnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY291bnRCYWRnZS50ZXh0Q29udGVudCA9IGAke2ZpbHRlcmVkSXRlbXMubGVuZ3RofSBtXHUwMEU5ZGlhc2A7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHJlbmRlckdyaWQgPSAoKSA9PiB7XG4gICAgICBncmlkLmlubmVySFRNTCA9ICcnO1xuICAgICAgaWYgKCFmaWx0ZXJlZEl0ZW1zLmxlbmd0aCkge1xuICAgICAgICBlbXB0eVN0YXRlPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgcmVzZXREZXRhaWxQYW5lbCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBlbXB0eVN0YXRlPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGZpbHRlcmVkSXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICBjb25zdCBjYXJkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIGNhcmQudHlwZSA9ICdidXR0b24nO1xuICAgICAgICBjYXJkLmRhdGFzZXQubWVkaWFJZCA9IGl0ZW0uaWQ7XG4gICAgICAgIGNvbnN0IGlzQWN0aXZlID0gaXRlbS5pZCA9PT0gYWN0aXZlTWVkaWFJZDtcbiAgICAgICAgY2FyZC5jbGFzc05hbWUgPSBbXG4gICAgICAgICAgJ2dyb3VwIHJlbGF0aXZlIGZsZXggZmxleC1jb2wgcm91bmRlZC0yeGwgYm9yZGVyIHB4LTMgcHktMyB0ZXh0LWxlZnQgdHJhbnNpdGlvbiBmb2N1cy12aXNpYmxlOm91dGxpbmUgZm9jdXMtdmlzaWJsZTpvdXRsaW5lLTIgZm9jdXMtdmlzaWJsZTpvdXRsaW5lLW9mZnNldC0yIGZvY3VzLXZpc2libGU6b3V0bGluZS1bIzlDNkJGRl0nLFxuICAgICAgICAgIGlzQWN0aXZlXG4gICAgICAgICAgICA/ICdib3JkZXItWyM5QzZCRkZdIGJnLVsjRjdGMEZGXS82MCBzaGFkb3ctc20nXG4gICAgICAgICAgICA6ICdib3JkZXItc2xhdGUtMjAwIGhvdmVyOmJvcmRlci1bIzlDNkJGRl0vNDAnLFxuICAgICAgICBdLmpvaW4oJyAnKTtcbiAgICAgICAgY29uc3QgcHJldmlldyA9IGlzSW1hZ2VUeXBlKGl0ZW0pXG4gICAgICAgICAgPyBgPGltZyBzcmM9XCIke2l0ZW0ucGF0aH1cIiBhbHQ9XCIke2l0ZW0uYWx0IHx8IGl0ZW0uZmlsZW5hbWV9XCIgY2xhc3M9XCJoLWZ1bGwgdy1mdWxsIG9iamVjdC1jb3ZlclwiIC8+YFxuICAgICAgICAgIDogYDxkaXYgY2xhc3M9XCJmbGV4IGgtZnVsbCB3LWZ1bGwgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHRleHQtM3hsIHRleHQtc2xhdGUtNDAwXCI+XHVEODNEXHVEQ0M0PC9kaXY+YDtcbiAgICAgICAgY2FyZC5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInJlbGF0aXZlIGFzcGVjdC1bNC8zXSBvdmVyZmxvdy1oaWRkZW4gcm91bmRlZC14bCBiZy1zbGF0ZS0xMDBcIj5cbiAgICAgICAgICAgICR7cHJldmlld31cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwibXQtMiBzcGFjZS15LTFcIj5cbiAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1zbSBmb250LXNlbWlib2xkIHRleHQtc2xhdGUtOTAwIHRydW5jYXRlXCI+JHtpdGVtLmZpbGVuYW1lfTwvcD5cbiAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC14cyB0ZXh0LXNsYXRlLTUwMFwiPlxuICAgICAgICAgICAgICAke2Zvcm1hdFR5cGVMYWJlbChpdGVtKX0gXHUwMEI3ICR7Zm9ybWF0RmlsZVNpemUoaXRlbS5zaXplKX1cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgYDtcbiAgICAgICAgaWYgKGl0ZW0uaWQgPT09IGhpZ2hsaWdodE1lZGlhSWQpIHtcbiAgICAgICAgICBjYXJkLmNsYXNzTGlzdC5hZGQoJ3JpbmctMicsICdyaW5nLVsjOUM2QkZGXScpO1xuICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGNhcmQuY2xhc3NMaXN0LnJlbW92ZSgncmluZy0yJywgJ3JpbmctWyM5QzZCRkZdJyk7XG4gICAgICAgICAgfSwgMTYwMCk7XG4gICAgICAgIH1cbiAgICAgICAgY2FyZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHNlbGVjdE1lZGlhKGl0ZW0uaWQpKTtcbiAgICAgICAgZ3JpZC5hcHBlbmRDaGlsZChjYXJkKTtcbiAgICAgIH0pO1xuICAgICAgaGlnaGxpZ2h0TWVkaWFJZCA9IG51bGw7XG4gICAgfTtcblxuICAgIGNvbnN0IHJlbmRlclVzZWRJbiA9IChpdGVtKSA9PiB7XG4gICAgICBpZiAoIWRldGFpbFVzZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZGV0YWlsVXNlZC5pbm5lckhUTUwgPSAnJztcbiAgICAgIGlmICghaXRlbS51c2VkSW4gfHwgaXRlbS51c2VkSW4ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGNvbnN0IGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgbGkudGV4dENvbnRlbnQgPSAnTm9uIHV0aWxpc1x1MDBFOSc7XG4gICAgICAgIGxpLmNsYXNzTmFtZSA9ICd0ZXh0LXhzIHRleHQtc2xhdGUtNDAwJztcbiAgICAgICAgZGV0YWlsVXNlZC5hcHBlbmRDaGlsZChsaSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGl0ZW0udXNlZEluLmZvckVhY2goKGVudHJ5KSA9PiB7XG4gICAgICAgIGNvbnN0IGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgbGkudGV4dENvbnRlbnQgPSBlbnRyeTtcbiAgICAgICAgbGkuY2xhc3NOYW1lID0gJ3RleHQteHMgdGV4dC1zbGF0ZS02MDAnO1xuICAgICAgICBkZXRhaWxVc2VkLmFwcGVuZENoaWxkKGxpKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCB1cGRhdGVEZXRhaWxBY3Rpb25zID0gKHNhdmluZykgPT4ge1xuICAgICAgaWYgKCFkZXRhaWxTYXZlQnV0dG9uKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICh1cGxvYWRNb2RlKSB7XG4gICAgICAgIGRldGFpbFNhdmVCdXR0b24udGV4dENvbnRlbnQgPSBzYXZpbmcgPyAnVFx1MDBFOWxcdTAwRTl2ZXJzZW1lbnRcdTIwMjYnIDogJ1RcdTAwRTlsXHUwMEU5dmVyc2VyJztcbiAgICAgICAgZGV0YWlsU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IHNhdmluZyB8fCAhcGVuZGluZ1VwbG9hZEZpbGU7XG4gICAgICAgIGlmIChkZXRhaWxEZWxldGVCdXR0b24pIHtcbiAgICAgICAgICBkZXRhaWxEZWxldGVCdXR0b24uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZGV0YWlsU2F2ZUJ1dHRvbi50ZXh0Q29udGVudCA9IHNhdmluZyA/ICdFbnJlZ2lzdHJlbWVudFx1MjAyNicgOiAnRW5yZWdpc3RyZXInO1xuICAgICAgZGV0YWlsU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IHNhdmluZyB8fCAhZGV0YWlsRGlydHk7XG4gICAgICBpZiAoZGV0YWlsRGVsZXRlQnV0dG9uKSB7XG4gICAgICAgIGRldGFpbERlbGV0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgZGV0YWlsRGVsZXRlQnV0dG9uLmRpc2FibGVkID0gIWFjdGl2ZU1lZGlhSWQ7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHNlbGVjdE1lZGlhID0gKG1lZGlhSWQpID0+IHtcbiAgICAgIGNvbnN0IGl0ZW0gPSBtZWRpYUl0ZW1zLmZpbmQoKGVudHJ5KSA9PiBlbnRyeS5pZCA9PT0gbWVkaWFJZCk7XG4gICAgICBpZiAoIWl0ZW0pIHtcbiAgICAgICAgcmVzZXREZXRhaWxQYW5lbCgpO1xuICAgICAgICByZW5kZXJHcmlkKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNsZWFyVXBsb2FkU3RhdGUoKTtcbiAgICAgIGFjdGl2ZU1lZGlhSWQgPSBpdGVtLmlkO1xuICAgICAgZGV0YWlsRGlydHkgPSBmYWxzZTtcbiAgICAgIHVwZGF0ZURldGFpbEFjdGlvbnMoZmFsc2UpO1xuICAgICAgcmVuZGVyR3JpZCgpO1xuICAgICAgZGV0YWlsRW1wdHk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgZGV0YWlsUGFuZWw/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgaWYgKGRldGFpbFByZXZpZXcpIHtcbiAgICAgICAgaWYgKGlzSW1hZ2VUeXBlKGl0ZW0pKSB7XG4gICAgICAgICAgZGV0YWlsUHJldmlldy5pbm5lckhUTUwgPSBgPGltZyBzcmM9XCIke2l0ZW0ucGF0aH1cIiBhbHQ9XCIke2l0ZW0uYWx0IHx8IGl0ZW0uZmlsZW5hbWV9XCIgY2xhc3M9XCJoLWZ1bGwgdy1mdWxsIHJvdW5kZWQtMnhsIG9iamVjdC1jb3ZlclwiIC8+YDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkZXRhaWxQcmV2aWV3LmlubmVySFRNTCA9XG4gICAgICAgICAgICAnPGRpdiBjbGFzcz1cImZsZXggaC1mdWxsIHctZnVsbCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgZ2FwLTEgdGV4dC1zbGF0ZS00MDBcIj48c3BhbiBjbGFzcz1cInRleHQtM3hsXCI+XHVEODNEXHVEQ0M0PC9zcGFuPjxzcGFuIGNsYXNzPVwidGV4dC14cyBmb250LXNlbWlib2xkXCI+RG9jdW1lbnQ8L3NwYW4+PC9kaXY+JztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZGV0YWlsTmFtZSAmJiAoZGV0YWlsTmFtZS50ZXh0Q29udGVudCA9IGl0ZW0uZmlsZW5hbWUgfHwgJ0ZpY2hpZXInKTtcbiAgICAgIGRldGFpbFR5cGUgJiYgKGRldGFpbFR5cGUudGV4dENvbnRlbnQgPSBmb3JtYXRUeXBlTGFiZWwoaXRlbSkpO1xuICAgICAgZGV0YWlsU2l6ZSAmJiAoZGV0YWlsU2l6ZS50ZXh0Q29udGVudCA9IGZvcm1hdEZpbGVTaXplKGl0ZW0uc2l6ZSkpO1xuICAgICAgaWYgKGRldGFpbEFsdElucHV0KSB7XG4gICAgICAgIGRldGFpbEFsdElucHV0LnZhbHVlID0gaXRlbS5hbHQgfHwgJyc7XG4gICAgICB9XG4gICAgICBkZXRhaWxQYXRoICYmIChkZXRhaWxQYXRoLnRleHRDb250ZW50ID0gaXRlbS5wYXRoIHx8ICdcdTIwMTQnKTtcbiAgICAgIHJlbmRlclVzZWRJbihpdGVtKTtcbiAgICB9O1xuXG4gICAgY29uc3Qgc2hvd1VwbG9hZFByZXZpZXcgPSAoZmlsZSkgPT4ge1xuICAgICAgaWYgKCFmaWxlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHVwbG9hZE1vZGUgPSB0cnVlO1xuICAgICAgZGV0YWlsRGlydHkgPSBmYWxzZTtcbiAgICAgIGFjdGl2ZU1lZGlhSWQgPSBudWxsO1xuICAgICAgZGV0YWlsRW1wdHk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgZGV0YWlsUGFuZWw/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgaWYgKHVwbG9hZFByZXZpZXdVcmwpIHtcbiAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTCh1cGxvYWRQcmV2aWV3VXJsKTtcbiAgICAgIH1cbiAgICAgIHVwbG9hZFByZXZpZXdVcmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGUpO1xuICAgICAgaWYgKGRldGFpbFByZXZpZXcpIHtcbiAgICAgICAgZGV0YWlsUHJldmlldy5pbm5lckhUTUwgPSBgPGltZyBzcmM9XCIke3VwbG9hZFByZXZpZXdVcmx9XCIgYWx0PVwiJHtmaWxlLm5hbWV9XCIgY2xhc3M9XCJoLWZ1bGwgdy1mdWxsIHJvdW5kZWQtMnhsIG9iamVjdC1jb3ZlclwiIC8+YDtcbiAgICAgIH1cbiAgICAgIGRldGFpbE5hbWUgJiYgKGRldGFpbE5hbWUudGV4dENvbnRlbnQgPSBmaWxlLm5hbWUpO1xuICAgICAgZGV0YWlsVHlwZSAmJiAoZGV0YWlsVHlwZS50ZXh0Q29udGVudCA9IGZvcm1hdFR5cGVMYWJlbCh7IHR5cGU6IGZpbGUudHlwZSwgZmlsZW5hbWU6IGZpbGUubmFtZSB9KSk7XG4gICAgICBkZXRhaWxTaXplICYmIChkZXRhaWxTaXplLnRleHRDb250ZW50ID0gZm9ybWF0RmlsZVNpemUoZmlsZS5zaXplKSk7XG4gICAgICBpZiAoZGV0YWlsQWx0SW5wdXQgJiYgIWRldGFpbEFsdElucHV0LnZhbHVlLnRyaW0oKSkge1xuICAgICAgICBkZXRhaWxBbHRJbnB1dC52YWx1ZSA9IGZpbGUubmFtZS5yZXBsYWNlKC9cXC5bXi5dKyQvLCAnJykucmVwbGFjZSgvWy1fXS9nLCAnICcpO1xuICAgICAgfVxuICAgICAgZGV0YWlsUGF0aCAmJiAoZGV0YWlsUGF0aC50ZXh0Q29udGVudCA9ICdFbiBhdHRlbnRlIGRlIHRcdTAwRTlsXHUwMEU5dmVyc2VtZW50Jyk7XG4gICAgICBpZiAoZGV0YWlsVXNlZCkge1xuICAgICAgICBkZXRhaWxVc2VkLmlubmVySFRNTCA9ICcnO1xuICAgICAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICAgIGxpLnRleHRDb250ZW50ID0gJ05vbiB1dGlsaXNcdTAwRTknO1xuICAgICAgICBsaS5jbGFzc05hbWUgPSAndGV4dC14cyB0ZXh0LXNsYXRlLTQwMCc7XG4gICAgICAgIGRldGFpbFVzZWQuYXBwZW5kQ2hpbGQobGkpO1xuICAgICAgfVxuICAgICAgdXBkYXRlRGV0YWlsQWN0aW9ucyhmYWxzZSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGFwcGx5RmlsdGVycyA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHR5cGVGaWx0ZXIgPSBmaWx0ZXJUeXBlPy52YWx1ZSB8fCAnYWxsJztcbiAgICAgIGlmICh0eXBlRmlsdGVyID09PSAnYWxsJykge1xuICAgICAgICBmaWx0ZXJlZEl0ZW1zID0gWy4uLm1lZGlhSXRlbXNdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZmlsdGVyZWRJdGVtcyA9IG1lZGlhSXRlbXMuZmlsdGVyKChpdGVtKSA9PiBpdGVtLmdyb3VwVHlwZSA9PT0gdHlwZUZpbHRlcik7XG4gICAgICB9XG4gICAgICBpZiAoIWZpbHRlcmVkSXRlbXMuc29tZSgoaXRlbSkgPT4gaXRlbS5pZCA9PT0gYWN0aXZlTWVkaWFJZCkpIHtcbiAgICAgICAgcmVzZXREZXRhaWxQYW5lbCgpO1xuICAgICAgfVxuICAgICAgdXBkYXRlQ291bnRCYWRnZSgpO1xuICAgICAgcmVuZGVyR3JpZCgpO1xuICAgIH07XG5cbiAgICBjb25zdCBsb2FkTWVkaWEgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIW1lZGlhQXBpQmFzZSkge1xuICAgICAgICBlbXB0eVN0YXRlPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChtZWRpYUFwaUJhc2UsIHtcbiAgICAgICAgICBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIG1cdTAwRTlkaWFzLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHsgaXRlbXM6IFtdIH0pKTtcbiAgICAgICAgbWVkaWFJdGVtcyA9IEFycmF5LmlzQXJyYXkocGF5bG9hZC5pdGVtcylcbiAgICAgICAgICA/IHBheWxvYWQuaXRlbXMubWFwKChpdGVtKSA9PiAoeyAuLi5pdGVtLCBncm91cFR5cGU6IGRlcml2ZUdyb3VwVHlwZShpdGVtKSB9KSlcbiAgICAgICAgICA6IFtdO1xuICAgICAgICBhcHBseUZpbHRlcnMoKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbbWVkaWFdIGxvYWQgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIG1cdTAwRTlkaWFzLicpO1xuICAgICAgICBtZWRpYUl0ZW1zID0gW107XG4gICAgICAgIGFwcGx5RmlsdGVycygpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBmaWx0ZXJUeXBlPy5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgICBhcHBseUZpbHRlcnMoKTtcbiAgICB9KTtcbiAgICBkZXRhaWxBbHRJbnB1dD8uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgICBpZiAodXBsb2FkTW9kZSkge1xuICAgICAgICB1cGRhdGVEZXRhaWxBY3Rpb25zKGZhbHNlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFhY3RpdmVNZWRpYUlkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGRldGFpbERpcnR5ID0gdHJ1ZTtcbiAgICAgIHVwZGF0ZURldGFpbEFjdGlvbnMoZmFsc2UpO1xuICAgIH0pO1xuXG4gICAgY29uc3QgaGFuZGxlRmlsZVNlbGVjdGlvbiA9IChmaWxlKSA9PiB7XG4gICAgICBpZiAoIWZpbGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFmaWxlLnR5cGUuc3RhcnRzV2l0aCgnaW1hZ2UvJykpIHtcbiAgICAgICAgc2hvd1RvYXN0KCdTZXVsZXMgbGVzIGltYWdlcyBzb250IGFjY2VwdFx1MDBFOWVzIHBvdXIgbGUgbW9tZW50LicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoZmlsZS5zaXplID4gNCAqIDEwMjQgKiAxMDI0KSB7XG4gICAgICAgIHNob3dUb2FzdCgnRmljaGllciB0cm9wIHZvbHVtaW5ldXggKDQgTW8gbWF4KS4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcGVuZGluZ1VwbG9hZEZpbGUgPSBmaWxlO1xuICAgICAgc2hvd1VwbG9hZFByZXZpZXcoZmlsZSk7XG4gICAgICBpZiAodXBsb2FkU3RhdHVzKSB7XG4gICAgICAgIHVwbG9hZFN0YXR1cy50ZXh0Q29udGVudCA9IGAke2ZpbGUubmFtZX0gXHUwMEI3ICR7Zm9ybWF0RmlsZVNpemUoZmlsZS5zaXplKX1gO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCByZWFkRmlsZUFzQmFzZTY0ID0gKGZpbGUpID0+XG4gICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICAgIHJlYWRlci5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gcmVhZGVyLnJlc3VsdCB8fCAnJztcbiAgICAgICAgICBjb25zdCBbLCBiYXNlNjQgPSAnJ10gPSBTdHJpbmcocmVzdWx0KS5zcGxpdCgnLCcpO1xuICAgICAgICAgIHJlc29sdmUoYmFzZTY0KTtcbiAgICAgICAgfTtcbiAgICAgICAgcmVhZGVyLm9uZXJyb3IgPSAoKSA9PiByZWplY3QobmV3IEVycm9yKCdJbXBvc3NpYmxlIGRlIGxpcmUgY2UgZmljaGllci4nKSk7XG4gICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xuICAgICAgfSk7XG5cbiAgICBjb25zdCB1cGxvYWRTZWxlY3RlZE1lZGlhID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFwZW5kaW5nVXBsb2FkRmlsZSB8fCAhbWVkaWFBcGlCYXNlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHVwbG9hZEluUHJvZ3Jlc3MgPSB0cnVlO1xuICAgICAgdXBkYXRlRGV0YWlsQWN0aW9ucyh0cnVlKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGJhc2U2NCA9IGF3YWl0IHJlYWRGaWxlQXNCYXNlNjQocGVuZGluZ1VwbG9hZEZpbGUpO1xuICAgICAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICAgIGZpbGVuYW1lOiBwZW5kaW5nVXBsb2FkRmlsZS5uYW1lLFxuICAgICAgICAgIHR5cGU6IHBlbmRpbmdVcGxvYWRGaWxlLnR5cGUsXG4gICAgICAgICAgc2l6ZTogcGVuZGluZ1VwbG9hZEZpbGUuc2l6ZSxcbiAgICAgICAgICBhbHQ6IGRldGFpbEFsdElucHV0Py52YWx1ZSB8fCAnJyxcbiAgICAgICAgICBkYXRhOiBiYXNlNjQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2gobWVkaWFBcGlCYXNlLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgY29uc3QgZXJyb3JQYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvclBheWxvYWQubWVzc2FnZSB8fCAnVXBsb2FkIGltcG9zc2libGUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2F2ZWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIHNhdmVkLmdyb3VwVHlwZSA9IGRlcml2ZUdyb3VwVHlwZShzYXZlZCk7XG4gICAgICAgIG1lZGlhSXRlbXMgPSBbLi4ubWVkaWFJdGVtcywgc2F2ZWRdO1xuICAgICAgICBoaWdobGlnaHRNZWRpYUlkID0gc2F2ZWQuaWQ7XG4gICAgICAgIGFwcGx5RmlsdGVycygpO1xuICAgICAgICBzZWxlY3RNZWRpYShzYXZlZC5pZCk7XG4gICAgICAgIHNob3dUb2FzdCgnTVx1MDBFOWRpYSBham91dFx1MDBFOScpO1xuICAgICAgICBjbGVhclVwbG9hZFN0YXRlKCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW21lZGlhXSB1cGxvYWQgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIHRcdTAwRTlsXHUwMEU5dmVyc2VyIGNlIG1cdTAwRTlkaWEuJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICB1cGxvYWRJblByb2dyZXNzID0gZmFsc2U7XG4gICAgICAgIHBlbmRpbmdVcGxvYWRGaWxlID0gbnVsbDtcbiAgICAgICAgdXBkYXRlRGV0YWlsQWN0aW9ucyhmYWxzZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHVwbG9hZE9wZW5CdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gZmlsZUlucHV0Py5jbGljaygpKTtcbiAgICBmaWxlSW5wdXQ/LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgICAgIGlmIChmaWxlSW5wdXQuZmlsZXMgJiYgZmlsZUlucHV0LmZpbGVzWzBdKSB7XG4gICAgICAgIGhhbmRsZUZpbGVTZWxlY3Rpb24oZmlsZUlucHV0LmZpbGVzWzBdKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBjb25zdCBjbG9zZURlbGV0ZU1vZGFsID0gKCkgPT4ge1xuICAgICAgaWYgKCFkZWxldGVNb2RhbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBkZWxldGVNb2RhbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGRlbGV0ZU1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2ZsZXgnKTtcbiAgICB9O1xuXG4gICAgY29uc3Qgb3BlbkRlbGV0ZU1vZGFsID0gKCkgPT4ge1xuICAgICAgaWYgKCFhY3RpdmVNZWRpYUlkIHx8IHVwbG9hZE1vZGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGRlbGV0ZU1vZGFsKSB7XG4gICAgICAgIGRlbGV0ZU1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICBkZWxldGVNb2RhbC5jbGFzc0xpc3QuYWRkKCdmbGV4Jyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vIEZhbGxiYWNrIHNpIGF1Y3VuZSBtb2RhbGUgbidlc3QgZGlzcG9uaWJsZVxuICAgICAgaWYgKHdpbmRvdy5jb25maXJtKCdTdXBwcmltZXIgY2UgbVx1MDBFOWRpYSA/JykpIHtcbiAgICAgICAgZGVsZXRlQWN0aXZlTWVkaWEoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgZGVsZXRlQWN0aXZlTWVkaWEgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWFjdGl2ZU1lZGlhSWQgfHwgIW1lZGlhQXBpQmFzZSkge1xuICAgICAgICBjbG9zZURlbGV0ZU1vZGFsKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRpc2FibGVCdXR0b25zID0gKCkgPT4ge1xuICAgICAgICBpZiAoZGV0YWlsRGVsZXRlQnV0dG9uKSB7XG4gICAgICAgICAgZGV0YWlsRGVsZXRlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVsZXRlQ29uZmlybUJ1dHRvbikge1xuICAgICAgICAgIGRlbGV0ZUNvbmZpcm1CdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICAgIGRlbGV0ZUNvbmZpcm1CdXR0b24udGV4dENvbnRlbnQgPSAnU3VwcHJlc3Npb25cdTIwMjYnO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgY29uc3QgZW5hYmxlQnV0dG9ucyA9ICgpID0+IHtcbiAgICAgICAgaWYgKGRldGFpbERlbGV0ZUJ1dHRvbikge1xuICAgICAgICAgIGRldGFpbERlbGV0ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkZWxldGVDb25maXJtQnV0dG9uKSB7XG4gICAgICAgICAgZGVsZXRlQ29uZmlybUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgIGRlbGV0ZUNvbmZpcm1CdXR0b24udGV4dENvbnRlbnQgPSAnU3VwcHJpbWVyJztcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGRpc2FibGVCdXR0b25zKCk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgICAgIGAke21lZGlhQXBpQmFzZX0vJHtlbmNvZGVVUklDb21wb25lbnQoYWN0aXZlTWVkaWFJZCl9YCxcbiAgICAgICAgICB7IG1ldGhvZDogJ0RFTEVURScgfSxcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHBheWxvYWQubWVzc2FnZSB8fCAnU3VwcHJlc3Npb24gaW1wb3NzaWJsZS4nKTtcbiAgICAgICAgfVxuICAgICAgICBtZWRpYUl0ZW1zID0gbWVkaWFJdGVtcy5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0uaWQgIT09IGFjdGl2ZU1lZGlhSWQpO1xuICAgICAgICBmaWx0ZXJlZEl0ZW1zID0gZmlsdGVyZWRJdGVtcy5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0uaWQgIT09IGFjdGl2ZU1lZGlhSWQpO1xuICAgICAgICBzaG93VG9hc3QoJ01cdTAwRTlkaWEgc3VwcHJpbVx1MDBFOScpO1xuICAgICAgICByZXNldERldGFpbFBhbmVsKCk7XG4gICAgICAgIHVwZGF0ZUNvdW50QmFkZ2UoKTtcbiAgICAgICAgcmVuZGVyR3JpZCgpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1ttZWRpYV0gZGVsZXRlIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBzdXBwcmltZXIgY2UgbVx1MDBFOWRpYS4nKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGVuYWJsZUJ1dHRvbnMoKTtcbiAgICAgICAgY2xvc2VEZWxldGVNb2RhbCgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBkZWxldGVDYW5jZWxCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VEZWxldGVNb2RhbCk7XG4gICAgZGVsZXRlTW9kYWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSBkZWxldGVNb2RhbCkge1xuICAgICAgICBjbG9zZURlbGV0ZU1vZGFsKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBkZWxldGVDb25maXJtQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGRlbGV0ZUFjdGl2ZU1lZGlhKCkpO1xuICAgIGRldGFpbERlbGV0ZUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuRGVsZXRlTW9kYWwpO1xuXG4gICAgZGV0YWlsU2F2ZUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAodXBsb2FkTW9kZSkge1xuICAgICAgICB1cGxvYWRTZWxlY3RlZE1lZGlhKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghYWN0aXZlTWVkaWFJZCB8fCAhbWVkaWFBcGlCYXNlIHx8ICFkZXRhaWxBbHRJbnB1dCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB1cGRhdGVEZXRhaWxBY3Rpb25zKHRydWUpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IHsgYWx0OiBkZXRhaWxBbHRJbnB1dC52YWx1ZSB8fCAnJyB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgICAgIGAke21lZGlhQXBpQmFzZX0vJHtlbmNvZGVVUklDb21wb25lbnQoYWN0aXZlTWVkaWFJZCl9YCxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgICB9LFxuICAgICAgICApO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgY29uc3QgZXJyb3JQYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvclBheWxvYWQubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBtZXR0cmUgXHUwMEUwIGpvdXIgY2UgbVx1MDBFOWRpYS4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB1cGRhdGVkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBtZWRpYUl0ZW1zID0gbWVkaWFJdGVtcy5tYXAoKGl0ZW0pID0+XG4gICAgICAgICAgaXRlbS5pZCA9PT0gYWN0aXZlTWVkaWFJZCA/IHsgLi4uaXRlbSwgLi4udXBkYXRlZCB9IDogaXRlbSxcbiAgICAgICAgKTtcbiAgICAgICAgZmlsdGVyZWRJdGVtcyA9IGZpbHRlcmVkSXRlbXMubWFwKChpdGVtKSA9PlxuICAgICAgICAgIGl0ZW0uaWQgPT09IGFjdGl2ZU1lZGlhSWQgPyB7IC4uLml0ZW0sIC4uLnVwZGF0ZWQgfSA6IGl0ZW0sXG4gICAgICAgICk7XG4gICAgICAgIGRldGFpbERpcnR5ID0gZmFsc2U7XG4gICAgICAgIHVwZGF0ZURldGFpbEFjdGlvbnMoZmFsc2UpO1xuICAgICAgICBzaG93VG9hc3QoJ01cdTAwRTlkaWEgbWlzIFx1MDBFMCBqb3VyJyk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW21lZGlhXSB1cGRhdGUgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdcdTAwQzljaGVjIGRlIGxhIG1pc2UgXHUwMEUwIGpvdXIuJyk7XG4gICAgICAgIHVwZGF0ZURldGFpbEFjdGlvbnMoZmFsc2UpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgbG9hZE1lZGlhKCk7XG4gIH1cblxuICAvLyBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcbiAgLy8gQUkgQ0hBVCAtIEFzc2lzdGFudCBJQSBjb250ZXh0dWVsXG4gIC8vIFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFxuXG4gIGNvbnN0IGFpQ2hhdFRvZ2dsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhaS1jaGF0LXRvZ2dsZScpO1xuICBjb25zdCBhaUNoYXRQYW5lbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhaS1jaGF0LXBhbmVsJyk7XG4gIGNvbnN0IGFpQ2hhdE92ZXJsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWktY2hhdC1vdmVybGF5Jyk7XG4gIGNvbnN0IGFpQ2hhdENsb3NlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FpLWNoYXQtY2xvc2UnKTtcbiAgY29uc3QgYWlDaGF0Q2xlYXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWktY2hhdC1jbGVhcicpO1xuICBjb25zdCBhaUNoYXRGb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FpLWNoYXQtZm9ybScpO1xuICBjb25zdCBhaUNoYXRJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhaS1jaGF0LWlucHV0Jyk7XG4gIGNvbnN0IGFpQ2hhdE1lc3NhZ2VzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FpLWNoYXQtbWVzc2FnZXMnKTtcbiAgY29uc3QgYWlDaGF0U3RhdHVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FpLWNoYXQtc3RhdHVzJyk7XG4gIGNvbnN0IGFpQ2hhdE5vQXBpID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FpLWNoYXQtbm8tYXBpJyk7XG4gIGNvbnN0IGFpUXVpY2tCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYWktcXVpY2tdJyk7XG5cbiAgbGV0IGFpQ2hhdE9wZW4gPSBmYWxzZTtcbiAgbGV0IGFpSXNMb2FkaW5nID0gZmFsc2U7XG4gIGxldCBhaUNvbmZpZ0NoZWNrZWQgPSBmYWxzZTtcbiAgbGV0IGFpSGFzQXBpS2V5ID0gZmFsc2U7XG5cbiAgLyoqXG4gICAqIE91dnJlIGxlIHBhbmVsIGRlIGNoYXQgSUFcbiAgICovXG4gIGZ1bmN0aW9uIG9wZW5BSUNoYXQoKSB7XG4gICAgaWYgKCFhaUNoYXRQYW5lbCkgcmV0dXJuO1xuICAgIGFpQ2hhdE9wZW4gPSB0cnVlO1xuICAgIGFpQ2hhdFBhbmVsLmNsYXNzTGlzdC5yZW1vdmUoJ3RyYW5zbGF0ZS14LWZ1bGwnKTtcbiAgICBhaUNoYXRQYW5lbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ2ZhbHNlJyk7XG4gICAgYWlDaGF0T3ZlcmxheT8uY2xhc3NMaXN0LnJlbW92ZSgnb3BhY2l0eS0wJywgJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICBhaUNoYXRPdmVybGF5Py5jbGFzc0xpc3QuYWRkKCdvcGFjaXR5LTEwMCcpO1xuICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnb3ZlcmZsb3ctaGlkZGVuJyk7XG4gICAgYWlDaGF0SW5wdXQ/LmZvY3VzKCk7XG5cbiAgICAvLyBWXHUwMEU5cmlmaWVyIGxhIGNvbmZpZyBBSSBhdSBwcmVtaWVyIG91dmVydHVyZVxuICAgIGlmICghYWlDb25maWdDaGVja2VkKSB7XG4gICAgICBjaGVja0FJQ29uZmlnKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEZlcm1lIGxlIHBhbmVsIGRlIGNoYXQgSUFcbiAgICovXG4gIGZ1bmN0aW9uIGNsb3NlQUlDaGF0KCkge1xuICAgIGlmICghYWlDaGF0UGFuZWwpIHJldHVybjtcbiAgICBhaUNoYXRPcGVuID0gZmFsc2U7XG4gICAgYWlDaGF0UGFuZWwuY2xhc3NMaXN0LmFkZCgndHJhbnNsYXRlLXgtZnVsbCcpO1xuICAgIGFpQ2hhdFBhbmVsLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuICAgIGFpQ2hhdE92ZXJsYXk/LmNsYXNzTGlzdC5hZGQoJ29wYWNpdHktMCcsICdwb2ludGVyLWV2ZW50cy1ub25lJyk7XG4gICAgYWlDaGF0T3ZlcmxheT8uY2xhc3NMaXN0LnJlbW92ZSgnb3BhY2l0eS0xMDAnKTtcbiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ292ZXJmbG93LWhpZGRlbicpO1xuICB9XG5cbiAgLyoqXG4gICAqIFZcdTAwRTlyaWZpZSBzaSBsJ0FQSSBBSSBlc3QgY29uZmlndXJcdTAwRTllXG4gICAqL1xuICBhc3luYyBmdW5jdGlvbiBjaGVja0FJQ29uZmlnKCkge1xuICAgIGNvbnN0IHNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goc3RvcmVkU2l0ZS5zbHVnIHx8ICcnKTtcbiAgICBpZiAoIXNpdGVTbHVnKSB7XG4gICAgICBhaUNoYXROb0FwaT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNpdGVTbHVnKX0vY29uZmlnL2FpYCk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB0aHJvdyBuZXcgRXJyb3IoJ0NvbmZpZyBjaGVjayBmYWlsZWQnKTtcbiAgICAgIGNvbnN0IGNvbmZpZyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIGFpQ29uZmlnQ2hlY2tlZCA9IHRydWU7XG4gICAgICBhaUhhc0FwaUtleSA9IGNvbmZpZy5oYXNBcGlLZXk7XG4gICAgICBcbiAgICAgIGlmICghY29uZmlnLmVuYWJsZWQgfHwgIWNvbmZpZy5oYXNBcGlLZXkpIHtcbiAgICAgICAgYWlDaGF0Tm9BcGk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWlDaGF0Tm9BcGk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICAvLyBDaGFyZ2VyIGwnaGlzdG9yaXF1ZVxuICAgICAgICBsb2FkQUlDaGF0SGlzdG9yeSgpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignW0FJXSBDb25maWcgY2hlY2sgZmFpbGVkOicsIGVycik7XG4gICAgICBhaUNoYXROb0FwaT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENoYXJnZSBsJ2hpc3RvcmlxdWUgZGUgY29udmVyc2F0aW9uXG4gICAqL1xuICBhc3luYyBmdW5jdGlvbiBsb2FkQUlDaGF0SGlzdG9yeSgpIHtcbiAgICBjb25zdCBzaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyk7XG4gICAgaWYgKCFzaXRlU2x1ZyB8fCAhYWlDaGF0TWVzc2FnZXMpIHJldHVybjtcbiAgICBcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzaXRlU2x1Zyl9L2FpL2hpc3RvcnlgKTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHJldHVybjtcbiAgICAgIFxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIGlmIChkYXRhLm1lc3NhZ2VzICYmIGRhdGEubWVzc2FnZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAvLyBFZmZhY2VyIGxlIG1lc3NhZ2UgZGUgYmllbnZlbnVlXG4gICAgICAgIGNvbnN0IHdlbGNvbWVNc2cgPSBhaUNoYXRNZXNzYWdlcy5xdWVyeVNlbGVjdG9yKCdbZGF0YS1haS13ZWxjb21lXScpO1xuICAgICAgICBpZiAod2VsY29tZU1zZykgd2VsY29tZU1zZy5yZW1vdmUoKTtcbiAgICAgICAgXG4gICAgICAgIC8vIEFmZmljaGVyIGxlcyBtZXNzYWdlc1xuICAgICAgICBkYXRhLm1lc3NhZ2VzLmZvckVhY2gobXNnID0+IHtcbiAgICAgICAgICBhcHBlbmRBSU1lc3NhZ2UobXNnLmNvbnRlbnQsIG1zZy5yb2xlID09PSAndXNlcicgPyAndXNlcicgOiAnYXNzaXN0YW50Jyk7XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgLy8gU2Nyb2xsIHZlcnMgbGUgYmFzXG4gICAgICAgIGFpQ2hhdE1lc3NhZ2VzLnNjcm9sbFRvcCA9IGFpQ2hhdE1lc3NhZ2VzLnNjcm9sbEhlaWdodDtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tBSV0gSGlzdG9yeSBsb2FkIGZhaWxlZDonLCBlcnIpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBam91dGUgdW4gbWVzc2FnZSBhdSBjaGF0XG4gICAqL1xuICBmdW5jdGlvbiBhcHBlbmRBSU1lc3NhZ2UoY29udGVudCwgcm9sZSA9ICdhc3Npc3RhbnQnKSB7XG4gICAgaWYgKCFhaUNoYXRNZXNzYWdlcykgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0IG1zZ0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIG1zZ0Rpdi5jbGFzc05hbWUgPSAnZmxleCBnYXAtMyc7XG4gICAgXG4gICAgaWYgKHJvbGUgPT09ICd1c2VyJykge1xuICAgICAgbXNnRGl2LmlubmVySFRNTCA9IGBcbiAgICAgICAgPGRpdiBjbGFzcz1cImZsZXgtMVwiPjwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwibWF4LXctWzgwJV0gYmctdmlvbGV0LTYwMCB0ZXh0LXdoaXRlIHJvdW5kZWQtMnhsIHJvdW5kZWQtdHItbm9uZSBwLTNcIj5cbiAgICAgICAgICA8cCBjbGFzcz1cInRleHQtc20gd2hpdGVzcGFjZS1wcmUtd3JhcFwiPiR7ZXNjYXBlSHRtbChjb250ZW50KX08L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwidy04IGgtOCByb3VuZGVkLWZ1bGwgYmctc2xhdGUtMjAwIGZsZXgtc2hyaW5rLTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICA8c3ZnIGNsYXNzPVwidy00IGgtNCB0ZXh0LXNsYXRlLTUwMFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgPHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTYgN2E0IDQgMCAxMS04IDAgNCA0IDAgMDE4IDB6TTEyIDE0YTcgNyAwIDAwLTcgN2gxNGE3IDcgMCAwMC03LTd6XCIvPlxuICAgICAgICAgIDwvc3ZnPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIGA7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEZvcm1hdHRlciBsZSBjb250ZW51IE1hcmtkb3duIGJhc2lxdWVcbiAgICAgIGNvbnN0IGZvcm1hdHRlZENvbnRlbnQgPSBmb3JtYXRBSVJlc3BvbnNlKGNvbnRlbnQpO1xuICAgICAgbXNnRGl2LmlubmVySFRNTCA9IGBcbiAgICAgICAgPGRpdiBjbGFzcz1cInctOCBoLTggcm91bmRlZC1mdWxsIGJnLWdyYWRpZW50LXRvLWJyIGZyb20tdmlvbGV0LTUwMCB0by1pbmRpZ28tNjAwIGZsZXgtc2hyaW5rLTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICA8c3ZnIGNsYXNzPVwidy00IGgtNCB0ZXh0LXdoaXRlXCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICA8cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk05LjY2MyAxN2g0LjY3M00xMiAzdjFtNi4zNjQgMS42MzZsLS43MDcuNzA3TTIxIDEyaC0xTTQgMTJIM20zLjM0My01LjY1N2wtLjcwNy0uNzA3bTIuODI4IDkuOWE1IDUgMCAxMTcuMDcyIDBsLS41NDguNTQ3QTMuMzc0IDMuMzc0IDAgMDAxNCAxOC40NjlWMTlhMiAyIDAgMTEtNCAwdi0uNTMxYzAtLjg5NS0uMzU2LTEuNzU0LS45ODgtMi4zODZsLS41NDgtLjU0N3pcIi8+XG4gICAgICAgICAgPC9zdmc+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleC0xIGJnLXNsYXRlLTUwIHJvdW5kZWQtMnhsIHJvdW5kZWQtdGwtbm9uZSBwLTMgb3ZlcmZsb3cteC1hdXRvXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInRleHQtc20gdGV4dC1zbGF0ZS03MDAgcHJvc2UgcHJvc2Utc20gbWF4LXctbm9uZSBbJj5wcmVdOmJnLXNsYXRlLTgwMCBbJj5wcmVdOnRleHQtc2xhdGUtMTAwIFsmPnByZV06cm91bmRlZC1sZyBbJj5wcmVdOnAtMyBbJj5wcmVdOm92ZXJmbG93LXgtYXV0byBbJj5jb2RlXTpiZy1zbGF0ZS0yMDAgWyY+Y29kZV06cHgtMSBbJj5jb2RlXTpyb3VuZGVkXCI+JHtmb3JtYXR0ZWRDb250ZW50fTwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIGA7XG4gICAgfVxuICAgIFxuICAgIGFpQ2hhdE1lc3NhZ2VzLmFwcGVuZENoaWxkKG1zZ0Rpdik7XG4gICAgYWlDaGF0TWVzc2FnZXMuc2Nyb2xsVG9wID0gYWlDaGF0TWVzc2FnZXMuc2Nyb2xsSGVpZ2h0O1xuICB9XG5cbiAgLyoqXG4gICAqIEFmZmljaGUgdW4gaW5kaWNhdGV1ciBkZSBjaGFyZ2VtZW50XG4gICAqL1xuICBmdW5jdGlvbiBzaG93QUlMb2FkaW5nKCkge1xuICAgIGlmICghYWlDaGF0TWVzc2FnZXMpIHJldHVybjtcbiAgICBcbiAgICBjb25zdCBsb2FkaW5nRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgbG9hZGluZ0Rpdi5jbGFzc05hbWUgPSAnZmxleCBnYXAtMyc7XG4gICAgbG9hZGluZ0Rpdi5pZCA9ICdhaS1sb2FkaW5nLWluZGljYXRvcic7XG4gICAgbG9hZGluZ0Rpdi5pbm5lckhUTUwgPSBgXG4gICAgICA8ZGl2IGNsYXNzPVwidy04IGgtOCByb3VuZGVkLWZ1bGwgYmctZ3JhZGllbnQtdG8tYnIgZnJvbS12aW9sZXQtNTAwIHRvLWluZGlnby02MDAgZmxleC1zaHJpbmstMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICA8c3ZnIGNsYXNzPVwidy00IGgtNCB0ZXh0LXdoaXRlIGFuaW1hdGUtcHVsc2VcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICA8cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk05LjY2MyAxN2g0LjY3M00xMiAzdjFtNi4zNjQgMS42MzZsLS43MDcuNzA3TTIxIDEyaC0xTTQgMTJIM20zLjM0My01LjY1N2wtLjcwNy0uNzA3bTIuODI4IDkuOWE1IDUgMCAxMTcuMDcyIDBsLS41NDguNTQ3QTMuMzc0IDMuMzc0IDAgMDAxNCAxOC40NjlWMTlhMiAyIDAgMTEtNCAwdi0uNTMxYzAtLjg5NS0uMzU2LTEuNzU0LS45ODgtMi4zODZsLS41NDgtLjU0N3pcIi8+XG4gICAgICAgIDwvc3ZnPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwiZmxleC0xIGJnLXNsYXRlLTUwIHJvdW5kZWQtMnhsIHJvdW5kZWQtdGwtbm9uZSBwLTNcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInctMiBoLTIgYmctdmlvbGV0LTQwMCByb3VuZGVkLWZ1bGwgYW5pbWF0ZS1ib3VuY2VcIiBzdHlsZT1cImFuaW1hdGlvbi1kZWxheTogMG1zXCI+PC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInctMiBoLTIgYmctdmlvbGV0LTQwMCByb3VuZGVkLWZ1bGwgYW5pbWF0ZS1ib3VuY2VcIiBzdHlsZT1cImFuaW1hdGlvbi1kZWxheTogMTUwbXNcIj48L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwidy0yIGgtMiBiZy12aW9sZXQtNDAwIHJvdW5kZWQtZnVsbCBhbmltYXRlLWJvdW5jZVwiIHN0eWxlPVwiYW5pbWF0aW9uLWRlbGF5OiAzMDBtc1wiPjwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIGA7XG4gICAgXG4gICAgYWlDaGF0TWVzc2FnZXMuYXBwZW5kQ2hpbGQobG9hZGluZ0Rpdik7XG4gICAgYWlDaGF0TWVzc2FnZXMuc2Nyb2xsVG9wID0gYWlDaGF0TWVzc2FnZXMuc2Nyb2xsSGVpZ2h0O1xuICB9XG5cbiAgLyoqXG4gICAqIENhY2hlIGwnaW5kaWNhdGV1ciBkZSBjaGFyZ2VtZW50XG4gICAqL1xuICBmdW5jdGlvbiBoaWRlQUlMb2FkaW5nKCkge1xuICAgIGNvbnN0IGxvYWRpbmdEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWktbG9hZGluZy1pbmRpY2F0b3InKTtcbiAgICBsb2FkaW5nRGl2Py5yZW1vdmUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGb3JtYXRlIGxhIHJcdTAwRTlwb25zZSBkZSBsJ0lBIChNYXJrZG93biBiYXNpcXVlKVxuICAgKi9cbiAgZnVuY3Rpb24gZm9ybWF0QUlSZXNwb25zZSh0ZXh0KSB7XG4gICAgaWYgKCF0ZXh0KSByZXR1cm4gJyc7XG4gICAgXG4gICAgLy8gRXNjYXBlIEhUTUwgZCdhYm9yZFxuICAgIGxldCBmb3JtYXR0ZWQgPSBlc2NhcGVIdG1sKHRleHQpO1xuICAgIFxuICAgIC8vIENvZGUgYmxvY2tzIGBgYFxuICAgIGZvcm1hdHRlZCA9IGZvcm1hdHRlZC5yZXBsYWNlKC9gYGAoXFx3KilcXG4oW1xcc1xcU10qPylgYGAvZywgKG1hdGNoLCBsYW5nLCBjb2RlKSA9PiB7XG4gICAgICByZXR1cm4gYDxwcmUgY2xhc3M9XCJsYW5ndWFnZS0ke2xhbmcgfHwgJ3RleHQnfVwiPjxjb2RlPiR7Y29kZS50cmltKCl9PC9jb2RlPjwvcHJlPmA7XG4gICAgfSk7XG4gICAgXG4gICAgLy8gSW5saW5lIGNvZGUgYFxuICAgIGZvcm1hdHRlZCA9IGZvcm1hdHRlZC5yZXBsYWNlKC9gKFteYF0rKWAvZywgJzxjb2RlPiQxPC9jb2RlPicpO1xuICAgIFxuICAgIC8vIEJvbGQgKip0ZXh0KipcbiAgICBmb3JtYXR0ZWQgPSBmb3JtYXR0ZWQucmVwbGFjZSgvXFwqXFwqKFteKl0rKVxcKlxcKi9nLCAnPHN0cm9uZz4kMTwvc3Ryb25nPicpO1xuICAgIFxuICAgIC8vIEl0YWxpYyAqdGV4dCpcbiAgICBmb3JtYXR0ZWQgPSBmb3JtYXR0ZWQucmVwbGFjZSgvXFwqKFteKl0rKVxcKi9nLCAnPGVtPiQxPC9lbT4nKTtcbiAgICBcbiAgICAvLyBUaXRyZXNcbiAgICBmb3JtYXR0ZWQgPSBmb3JtYXR0ZWQucmVwbGFjZSgvXiMjIyAoLispJC9nbSwgJzxoNCBjbGFzcz1cImZvbnQtc2VtaWJvbGQgdGV4dC1zbGF0ZS05MDAgbXQtMyBtYi0xXCI+JDE8L2g0PicpO1xuICAgIGZvcm1hdHRlZCA9IGZvcm1hdHRlZC5yZXBsYWNlKC9eIyMgKC4rKSQvZ20sICc8aDMgY2xhc3M9XCJmb250LXNlbWlib2xkIHRleHQtc2xhdGUtOTAwIG10LTMgbWItMVwiPiQxPC9oMz4nKTtcbiAgICBmb3JtYXR0ZWQgPSBmb3JtYXR0ZWQucmVwbGFjZSgvXiMgKC4rKSQvZ20sICc8aDIgY2xhc3M9XCJmb250LWJvbGQgdGV4dC1zbGF0ZS05MDAgbXQtMyBtYi0yXCI+JDE8L2gyPicpO1xuICAgIFxuICAgIC8vIExpc3Rlc1xuICAgIGZvcm1hdHRlZCA9IGZvcm1hdHRlZC5yZXBsYWNlKC9eLSAoLispJC9nbSwgJzxsaSBjbGFzcz1cIm1sLTRcIj4kMTwvbGk+Jyk7XG4gICAgZm9ybWF0dGVkID0gZm9ybWF0dGVkLnJlcGxhY2UoL14oXFxkKylcXC4gKC4rKSQvZ20sICc8bGkgY2xhc3M9XCJtbC00XCI+JDI8L2xpPicpO1xuICAgIFxuICAgIC8vIFBhcmFncmFwaGVzIChsaWduZXMgdmlkZXMpXG4gICAgZm9ybWF0dGVkID0gZm9ybWF0dGVkLnJlcGxhY2UoL1xcblxcbi9nLCAnPC9wPjxwIGNsYXNzPVwibWItMlwiPicpO1xuICAgIGZvcm1hdHRlZCA9ICc8cCBjbGFzcz1cIm1iLTJcIj4nICsgZm9ybWF0dGVkICsgJzwvcD4nO1xuICAgIFxuICAgIC8vIE5ldHRveWVyIGxlcyA8cD4gdmlkZXNcbiAgICBmb3JtYXR0ZWQgPSBmb3JtYXR0ZWQucmVwbGFjZSgvPHAgY2xhc3M9XCJtYi0yXCI+PFxcL3A+L2csICcnKTtcbiAgICBcbiAgICByZXR1cm4gZm9ybWF0dGVkO1xuICB9XG5cbiAgLyoqXG4gICAqIFx1MDBDOWNoYXBwZSBsZSBIVE1MXG4gICAqL1xuICBmdW5jdGlvbiBlc2NhcGVIdG1sKHRleHQpIHtcbiAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBkaXYudGV4dENvbnRlbnQgPSB0ZXh0O1xuICAgIHJldHVybiBkaXYuaW5uZXJIVE1MO1xuICB9XG5cbiAgLyoqXG4gICAqIEVudm9pZSB1biBtZXNzYWdlIGF1IGNoYXQgSUFcbiAgICovXG4gIGFzeW5jIGZ1bmN0aW9uIHNlbmRBSU1lc3NhZ2UobWVzc2FnZSkge1xuICAgIGNvbnN0IHNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goc3RvcmVkU2l0ZS5zbHVnIHx8ICcnKTtcbiAgICBpZiAoIW1lc3NhZ2UgfHwgIXNpdGVTbHVnIHx8IGFpSXNMb2FkaW5nKSByZXR1cm47XG4gICAgXG4gICAgYWlJc0xvYWRpbmcgPSB0cnVlO1xuICAgIGFpQ2hhdElucHV0LmRpc2FibGVkID0gdHJ1ZTtcbiAgICBcbiAgICAvLyBFZmZhY2VyIGxlIG1lc3NhZ2UgZGUgYmllbnZlbnVlIGF1IHByZW1pZXIgbWVzc2FnZVxuICAgIGNvbnN0IHdlbGNvbWVNc2cgPSBhaUNoYXRNZXNzYWdlcz8ucXVlcnlTZWxlY3RvcignW2RhdGEtYWktd2VsY29tZV0nKTtcbiAgICBpZiAod2VsY29tZU1zZykgd2VsY29tZU1zZy5yZW1vdmUoKTtcbiAgICBcbiAgICAvLyBBZmZpY2hlciBsZSBtZXNzYWdlIGRlIGwndXRpbGlzYXRldXJcbiAgICBhcHBlbmRBSU1lc3NhZ2UobWVzc2FnZSwgJ3VzZXInKTtcbiAgICBcbiAgICAvLyBBZmZpY2hlciBsZSBsb2FkZXJcbiAgICBzaG93QUlMb2FkaW5nKCk7XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2l0ZVNsdWcpfS9haS9jaGF0YCwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgbWVzc2FnZSB9KVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGhpZGVBSUxvYWRpbmcoKTtcbiAgICAgIFxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBlcnJvciA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yLm1lc3NhZ2UgfHwgJ0VycmV1ciBkZSBjb21tdW5pY2F0aW9uJyk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBcbiAgICAgIGlmIChkYXRhLnJlc3BvbnNlKSB7XG4gICAgICAgIGFwcGVuZEFJTWVzc2FnZShkYXRhLnJlc3BvbnNlLCAnYXNzaXN0YW50Jyk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEdcdTAwRTlyZXIgbGVzIHByb3Bvc2l0aW9ucyBkJ1x1MDBFOWRpdGlvbiBkZSBwYWdlXG4gICAgICBpZiAoZGF0YS5lZGl0UHJvcG9zYWwpIHtcbiAgICAgICAgYXBwZW5kRWRpdFByb3Bvc2FsKGRhdGEuZWRpdFByb3Bvc2FsKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gR1x1MDBFOXJlciBsZXMgcHJvcG9zaXRpb25zIGRlIG1vZGlmaWNhdGlvbiBkdSB0aFx1MDBFOG1lXG4gICAgICBpZiAoZGF0YS50aGVtZVByb3Bvc2FsKSB7XG4gICAgICAgIGFwcGVuZFRoZW1lUHJvcG9zYWwoZGF0YS50aGVtZVByb3Bvc2FsKTtcbiAgICAgIH1cbiAgICAgIFxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgaGlkZUFJTG9hZGluZygpO1xuICAgICAgYXBwZW5kQUlNZXNzYWdlKGBcdTI3NEMgRXJyZXVyOiAke2Vyci5tZXNzYWdlfWAsICdhc3Npc3RhbnQnKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgYWlJc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgIGFpQ2hhdElucHV0LmRpc2FibGVkID0gZmFsc2U7XG4gICAgICBhaUNoYXRJbnB1dC5mb2N1cygpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBZmZpY2hlIHVuZSBwcm9wb3NpdGlvbiBkJ1x1MDBFOWRpdGlvbiBhdmVjIGJvdXRvbnMgZGUgdmFsaWRhdGlvblxuICAgKi9cbiAgZnVuY3Rpb24gYXBwZW5kRWRpdFByb3Bvc2FsKHByb3Bvc2FsKSB7XG4gICAgaWYgKCFhaUNoYXRNZXNzYWdlcyB8fCAhcHJvcG9zYWwpIHJldHVybjtcbiAgICBcbiAgICBjb25zdCBwcm9wb3NhbERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHByb3Bvc2FsRGl2LmNsYXNzTmFtZSA9ICdmbGV4IGdhcC0zIG10LTInO1xuICAgIHByb3Bvc2FsRGl2LmRhdGFzZXQucHJvcG9zYWxJZCA9IHByb3Bvc2FsLnByb3Bvc2FsSWQ7XG4gICAgXG4gICAgLy8gQ29uc3RydWlyZSBsZSByXHUwMEU5c3VtXHUwMEU5IGRlcyBjaGFuZ2VtZW50c1xuICAgIGxldCBjaGFuZ2VzSHRtbCA9ICcnO1xuICAgIGlmIChwcm9wb3NhbC5jaGFuZ2VzKSB7XG4gICAgICBpZiAocHJvcG9zYWwuY2hhbmdlcy50aXRsZSkge1xuICAgICAgICBjaGFuZ2VzSHRtbCArPSBgPGxpPlRpdHJlIFx1MjE5MiA8c3Ryb25nPiR7ZXNjYXBlSHRtbChwcm9wb3NhbC5jaGFuZ2VzLnRpdGxlKX08L3N0cm9uZz48L2xpPmA7XG4gICAgICB9XG4gICAgICBpZiAocHJvcG9zYWwuY2hhbmdlcy5kZXNjcmlwdGlvbikge1xuICAgICAgICBjaGFuZ2VzSHRtbCArPSBgPGxpPkRlc2NyaXB0aW9uIFx1MjE5MiAke2VzY2FwZUh0bWwocHJvcG9zYWwuY2hhbmdlcy5kZXNjcmlwdGlvbi5zdWJzdHJpbmcoMCwgODApKX0uLi48L2xpPmA7XG4gICAgICB9XG4gICAgICBpZiAocHJvcG9zYWwuY2hhbmdlcy5zZW8pIHtcbiAgICAgICAgaWYgKHByb3Bvc2FsLmNoYW5nZXMuc2VvLm1ldGFUaXRsZSkge1xuICAgICAgICAgIGNoYW5nZXNIdG1sICs9IGA8bGk+TWV0YSB0aXRsZSBcdTIxOTIgJHtlc2NhcGVIdG1sKHByb3Bvc2FsLmNoYW5nZXMuc2VvLm1ldGFUaXRsZSl9PC9saT5gO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9wb3NhbC5jaGFuZ2VzLnNlby5tZXRhRGVzY3JpcHRpb24pIHtcbiAgICAgICAgICBjaGFuZ2VzSHRtbCArPSBgPGxpPk1ldGEgZGVzY3JpcHRpb24gXHUyMTkyICR7ZXNjYXBlSHRtbChwcm9wb3NhbC5jaGFuZ2VzLnNlby5tZXRhRGVzY3JpcHRpb24uc3Vic3RyaW5nKDAsIDYwKSl9Li4uPC9saT5gO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAocHJvcG9zYWwuY2hhbmdlcy5ibG9ja1VwZGF0ZSkge1xuICAgICAgICBjaGFuZ2VzSHRtbCArPSBgPGxpPkJsb2MgXCIke3Byb3Bvc2FsLmNoYW5nZXMuYmxvY2tVcGRhdGUuYmxvY2tJZH1cIiBtb2RpZmlcdTAwRTk8L2xpPmA7XG4gICAgICAgIGlmIChwcm9wb3NhbC5jaGFuZ2VzLmJsb2NrVXBkYXRlLnNldHRpbmdzKSB7XG4gICAgICAgICAgY29uc3Qgc2V0dGluZ3MgPSBwcm9wb3NhbC5jaGFuZ2VzLmJsb2NrVXBkYXRlLnNldHRpbmdzO1xuICAgICAgICAgIGlmIChzZXR0aW5ncy50aXRsZSkgY2hhbmdlc0h0bWwgKz0gYDxsaSBjbGFzcz1cIm1sLTRcIj5cdTIxOTIgdGl0bGU6ICR7ZXNjYXBlSHRtbChzZXR0aW5ncy50aXRsZSl9PC9saT5gO1xuICAgICAgICAgIGlmIChzZXR0aW5ncy5jb250ZW50KSBjaGFuZ2VzSHRtbCArPSBgPGxpIGNsYXNzPVwibWwtNFwiPlx1MjE5MiBjb250ZW50IG1vZGlmaVx1MDBFOTwvbGk+YDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBwcm9wb3NhbERpdi5pbm5lckhUTUwgPSBgXG4gICAgICA8ZGl2IGNsYXNzPVwidy04IGgtOCByb3VuZGVkLWZ1bGwgYmctYW1iZXItNTAwIGZsZXgtc2hyaW5rLTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgPHN2ZyBjbGFzcz1cInctNCBoLTQgdGV4dC13aGl0ZVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgIDxwYXRoIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTExIDVINmEyIDIgMCAwMC0yIDJ2MTFhMiAyIDAgMDAyIDJoMTFhMiAyIDAgMDAyLTJ2LTVtLTEuNDE0LTkuNDE0YTIgMiAwIDExMi44MjggMi44MjhMMTEuODI4IDE1SDl2LTIuODI4bDguNTg2LTguNTg2elwiLz5cbiAgICAgICAgPC9zdmc+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJmbGV4LTEgYmctYW1iZXItNTAgYm9yZGVyIGJvcmRlci1hbWJlci0yMDAgcm91bmRlZC0yeGwgcm91bmRlZC10bC1ub25lIHAtNFwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgbWItMlwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC14cyBmb250LXNlbWlib2xkIHRleHQtYW1iZXItNzAwIGJnLWFtYmVyLTEwMCBweC0yIHB5LTAuNSByb3VuZGVkXCI+UHJvcG9zaXRpb24gZCdcdTAwRTlkaXRpb248L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8cCBjbGFzcz1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1zbGF0ZS04MDAgbWItMVwiPlBhZ2UgOiAke2VzY2FwZUh0bWwocHJvcG9zYWwucGFnZVRpdGxlIHx8IHByb3Bvc2FsLnBhZ2VJZCl9PC9wPlxuICAgICAgICAke3Byb3Bvc2FsLnJlYXNvbiA/IGA8cCBjbGFzcz1cInRleHQtc20gdGV4dC1zbGF0ZS02MDAgbWItMlwiPiR7ZXNjYXBlSHRtbChwcm9wb3NhbC5yZWFzb24pfTwvcD5gIDogJyd9XG4gICAgICAgIDx1bCBjbGFzcz1cInRleHQteHMgdGV4dC1zbGF0ZS02MDAgc3BhY2UteS0xIG1iLTMgbGlzdC1kaXNjIG1sLTRcIj5cbiAgICAgICAgICAke2NoYW5nZXNIdG1sIHx8ICc8bGk+TW9kaWZpY2F0aW9ucyBwcm9wb3NcdTAwRTllczwvbGk+J31cbiAgICAgICAgPC91bD5cbiAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggZ2FwLTJcIj5cbiAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgY2xhc3M9XCJhaS1hcHBseS1lZGl0IHB4LTMgcHktMS41IHRleHQteHMgZm9udC1tZWRpdW0gdGV4dC13aGl0ZSBiZy1lbWVyYWxkLTYwMCBob3ZlcjpiZy1lbWVyYWxkLTcwMCByb3VuZGVkLWxnIHRyYW5zaXRpb24tY29sb3JzIGZsZXggaXRlbXMtY2VudGVyIGdhcC0xXCJcbiAgICAgICAgICAgIGRhdGEtcHJvcG9zYWwtaWQ9XCIke3Byb3Bvc2FsLnByb3Bvc2FsSWR9XCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8c3ZnIGNsYXNzPVwidy0zLjUgaC0zLjVcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNSAxM2w0IDRMMTkgN1wiLz5cbiAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgQXBwbGlxdWVyXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgIGNsYXNzPVwiYWktcmVqZWN0LWVkaXQgcHgtMyBweS0xLjUgdGV4dC14cyBmb250LW1lZGl1bSB0ZXh0LXNsYXRlLTYwMCBiZy1zbGF0ZS0xMDAgaG92ZXI6Ymctc2xhdGUtMjAwIHJvdW5kZWQtbGcgdHJhbnNpdGlvbi1jb2xvcnMgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTFcIlxuICAgICAgICAgICAgZGF0YS1wcm9wb3NhbC1pZD1cIiR7cHJvcG9zYWwucHJvcG9zYWxJZH1cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJ3LTMuNSBoLTMuNVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgICA8cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk02IDE4TDE4IDZNNiA2bDEyIDEyXCIvPlxuICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICBSZWpldGVyXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgYDtcbiAgICBcbiAgICBhaUNoYXRNZXNzYWdlcy5hcHBlbmRDaGlsZChwcm9wb3NhbERpdik7XG4gICAgYWlDaGF0TWVzc2FnZXMuc2Nyb2xsVG9wID0gYWlDaGF0TWVzc2FnZXMuc2Nyb2xsSGVpZ2h0O1xuICAgIFxuICAgIC8vIEF0dGFjaGVyIGxlcyBcdTAwRTl2XHUwMEU5bmVtZW50cyBhdXggYm91dG9uc1xuICAgIHByb3Bvc2FsRGl2LnF1ZXJ5U2VsZWN0b3IoJy5haS1hcHBseS1lZGl0Jyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlQXBwbHlFZGl0KTtcbiAgICBwcm9wb3NhbERpdi5xdWVyeVNlbGVjdG9yKCcuYWktcmVqZWN0LWVkaXQnKT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVSZWplY3RFZGl0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZmZpY2hlIHVuZSBwcm9wb3NpdGlvbiBkZSBtb2RpZmljYXRpb24gZHUgdGhcdTAwRThtZSBhdmVjIGJvdXRvbnMgZGUgdmFsaWRhdGlvblxuICAgKi9cbiAgZnVuY3Rpb24gYXBwZW5kVGhlbWVQcm9wb3NhbChwcm9wb3NhbCkge1xuICAgIGlmICghYWlDaGF0TWVzc2FnZXMgfHwgIXByb3Bvc2FsKSByZXR1cm47XG4gICAgXG4gICAgY29uc3QgcHJvcG9zYWxEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBwcm9wb3NhbERpdi5jbGFzc05hbWUgPSAnZmxleCBnYXAtMyBtdC0yJztcbiAgICBwcm9wb3NhbERpdi5kYXRhc2V0LnByb3Bvc2FsSWQgPSBwcm9wb3NhbC5wcm9wb3NhbElkO1xuICAgIFxuICAgIC8vIENvbnN0cnVpcmUgbGUgclx1MDBFOXN1bVx1MDBFOSBkZXMgY2hhbmdlbWVudHMgZGUgY291bGV1cnNcbiAgICBsZXQgY29sb3JzSHRtbCA9ICcnO1xuICAgIGlmIChwcm9wb3NhbC5jaGFuZ2VzPy5jb2xvcnMpIHtcbiAgICAgIGNvbnN0IGNvbG9ycyA9IHByb3Bvc2FsLmNoYW5nZXMuY29sb3JzO1xuICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoY29sb3JzKSkge1xuICAgICAgICBjb2xvcnNIdG1sICs9IGA8bGkgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwidy00IGgtNCByb3VuZGVkIGJvcmRlciBib3JkZXItc2xhdGUtMzAwXCIgc3R5bGU9XCJiYWNrZ3JvdW5kOiAke2dldFRhaWx3aW5kQ29sb3JDc3ModmFsdWUpfVwiPjwvc3Bhbj5cbiAgICAgICAgICA8c3Bhbj4ke2tleX06IDxzdHJvbmc+JHtlc2NhcGVIdG1sKHZhbHVlKX08L3N0cm9uZz48L3NwYW4+XG4gICAgICAgIDwvbGk+YDtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gVHlwb2dyYXBoaWVzXG4gICAgbGV0IHR5cG9IdG1sID0gJyc7XG4gICAgaWYgKHByb3Bvc2FsLmNoYW5nZXM/LnR5cG9ncmFwaHkpIHtcbiAgICAgIGNvbnN0IHR5cG8gPSBwcm9wb3NhbC5jaGFuZ2VzLnR5cG9ncmFwaHk7XG4gICAgICBpZiAodHlwby5oZWFkaW5ncykgdHlwb0h0bWwgKz0gYDxsaT5UaXRyZXMgXHUyMTkyIDxzdHJvbmc+JHtlc2NhcGVIdG1sKHR5cG8uaGVhZGluZ3MpfTwvc3Ryb25nPjwvbGk+YDtcbiAgICAgIGlmICh0eXBvLmJvZHkpIHR5cG9IdG1sICs9IGA8bGk+VGV4dGVzIFx1MjE5MiA8c3Ryb25nPiR7ZXNjYXBlSHRtbCh0eXBvLmJvZHkpfTwvc3Ryb25nPjwvbGk+YDtcbiAgICB9XG4gICAgXG4gICAgcHJvcG9zYWxEaXYuaW5uZXJIVE1MID0gYFxuICAgICAgPGRpdiBjbGFzcz1cInctOCBoLTggcm91bmRlZC1mdWxsIGJnLXB1cnBsZS01MDAgZmxleC1zaHJpbmstMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICA8c3ZnIGNsYXNzPVwidy00IGgtNCB0ZXh0LXdoaXRlXCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgPHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNyAyMWE0IDQgMCAwMS00LTRWNWEyIDIgMCAwMTItMmg0YTIgMiAwIDAxMiAydjEyYTQgNCAwIDAxLTQgNHptMCAwaDEyYTIgMiAwIDAwMi0ydi00YTIgMiAwIDAwLTItMmgtMi4zNDNNMTEgNy4zNDNsMS42NTctMS42NTdhMiAyIDAgMDEyLjgyOCAwbDIuODI5IDIuODI5YTIgMiAwIDAxMCAyLjgyOGwtOC40ODYgOC40ODVNNyAxN2guMDFcIi8+XG4gICAgICAgIDwvc3ZnPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwiZmxleC0xIGJnLXB1cnBsZS01MCBib3JkZXIgYm9yZGVyLXB1cnBsZS0yMDAgcm91bmRlZC0yeGwgcm91bmRlZC10bC1ub25lIHAtNFwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgbWItMlwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC14cyBmb250LXNlbWlib2xkIHRleHQtcHVycGxlLTcwMCBiZy1wdXJwbGUtMTAwIHB4LTIgcHktMC41IHJvdW5kZWRcIj5Nb2RpZmljYXRpb24gZHUgdGhcdTAwRThtZTwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgICR7cHJvcG9zYWwucmVhc29uID8gYDxwIGNsYXNzPVwidGV4dC1zbSB0ZXh0LXNsYXRlLTYwMCBtYi0zXCI+JHtlc2NhcGVIdG1sKHByb3Bvc2FsLnJlYXNvbil9PC9wPmAgOiAnJ31cbiAgICAgICAgJHtjb2xvcnNIdG1sID8gYFxuICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC14cyBmb250LW1lZGl1bSB0ZXh0LXNsYXRlLTcwMCBtYi0xXCI+Q291bGV1cnMgOjwvcD5cbiAgICAgICAgICA8dWwgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNjAwIHNwYWNlLXktMSBtYi0zXCI+JHtjb2xvcnNIdG1sfTwvdWw+XG4gICAgICAgIGAgOiAnJ31cbiAgICAgICAgJHt0eXBvSHRtbCA/IGBcbiAgICAgICAgICA8cCBjbGFzcz1cInRleHQteHMgZm9udC1tZWRpdW0gdGV4dC1zbGF0ZS03MDAgbWItMVwiPlR5cG9ncmFwaGllcyA6PC9wPlxuICAgICAgICAgIDx1bCBjbGFzcz1cInRleHQteHMgdGV4dC1zbGF0ZS02MDAgc3BhY2UteS0xIG1iLTMgbGlzdC1kaXNjIG1sLTRcIj4ke3R5cG9IdG1sfTwvdWw+XG4gICAgICAgIGAgOiAnJ31cbiAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggZ2FwLTJcIj5cbiAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgY2xhc3M9XCJhaS1hcHBseS10aGVtZSBweC0zIHB5LTEuNSB0ZXh0LXhzIGZvbnQtbWVkaXVtIHRleHQtd2hpdGUgYmctcHVycGxlLTYwMCBob3ZlcjpiZy1wdXJwbGUtNzAwIHJvdW5kZWQtbGcgdHJhbnNpdGlvbi1jb2xvcnMgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTFcIlxuICAgICAgICAgICAgZGF0YS1wcm9wb3NhbC1pZD1cIiR7cHJvcG9zYWwucHJvcG9zYWxJZH1cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJ3LTMuNSBoLTMuNVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgICA8cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk01IDEzbDQgNEwxOSA3XCIvPlxuICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICBBcHBsaXF1ZXJcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgY2xhc3M9XCJhaS1yZWplY3QtdGhlbWUgcHgtMyBweS0xLjUgdGV4dC14cyBmb250LW1lZGl1bSB0ZXh0LXNsYXRlLTYwMCBiZy1zbGF0ZS0xMDAgaG92ZXI6Ymctc2xhdGUtMjAwIHJvdW5kZWQtbGcgdHJhbnNpdGlvbi1jb2xvcnMgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTFcIlxuICAgICAgICAgICAgZGF0YS1wcm9wb3NhbC1pZD1cIiR7cHJvcG9zYWwucHJvcG9zYWxJZH1cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJ3LTMuNSBoLTMuNVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgICA8cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk02IDE4TDE4IDZNNiA2bDEyIDEyXCIvPlxuICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICBSZWpldGVyXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgYDtcbiAgICBcbiAgICBhaUNoYXRNZXNzYWdlcy5hcHBlbmRDaGlsZChwcm9wb3NhbERpdik7XG4gICAgYWlDaGF0TWVzc2FnZXMuc2Nyb2xsVG9wID0gYWlDaGF0TWVzc2FnZXMuc2Nyb2xsSGVpZ2h0O1xuICAgIFxuICAgIC8vIEF0dGFjaGVyIGxlcyBcdTAwRTl2XHUwMEU5bmVtZW50cyBhdXggYm91dG9uc1xuICAgIHByb3Bvc2FsRGl2LnF1ZXJ5U2VsZWN0b3IoJy5haS1hcHBseS10aGVtZScpPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZUFwcGx5VGhlbWUpO1xuICAgIHByb3Bvc2FsRGl2LnF1ZXJ5U2VsZWN0b3IoJy5haS1yZWplY3QtdGhlbWUnKT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVSZWplY3RFZGl0KTsgLy8gUlx1MDBFOXV0aWxpc2UgbGEgbVx1MDBFQW1lIGxvZ2lxdWUgZGUgcmVqZXRcbiAgfVxuICBcbiAgLyoqXG4gICAqIENvbnZlcnRpdCB1bmUgY291bGV1ciBUYWlsd2luZCBlbiBDU1MgYXBwcm94aW1hdGlmIHBvdXIgcHJldmlld1xuICAgKi9cbiAgZnVuY3Rpb24gZ2V0VGFpbHdpbmRDb2xvckNzcyhjb2xvck5hbWUpIHtcbiAgICBjb25zdCBjb2xvcnMgPSB7XG4gICAgICAnd2hpdGUnOiAnI2ZmZmZmZicsICdibGFjayc6ICcjMDAwMDAwJywgJ3RyYW5zcGFyZW50JzogJ3RyYW5zcGFyZW50JyxcbiAgICAgICdzbGF0ZS01MCc6ICcjZjhmYWZjJywgJ3NsYXRlLTEwMCc6ICcjZjFmNWY5JywgJ3NsYXRlLTIwMCc6ICcjZTJlOGYwJywgJ3NsYXRlLTMwMCc6ICcjY2JkNWUxJywgJ3NsYXRlLTQwMCc6ICcjOTRhM2I4JywgJ3NsYXRlLTUwMCc6ICcjNjQ3NDhiJywgJ3NsYXRlLTYwMCc6ICcjNDc1NTY5JywgJ3NsYXRlLTcwMCc6ICcjMzM0MTU1JywgJ3NsYXRlLTgwMCc6ICcjMWUyOTNiJywgJ3NsYXRlLTkwMCc6ICcjMGYxNzJhJyxcbiAgICAgICdncmF5LTUwJzogJyNmOWZhZmInLCAnZ3JheS0xMDAnOiAnI2YzZjRmNicsICdncmF5LTIwMCc6ICcjZTVlN2ViJywgJ2dyYXktMzAwJzogJyNkMWQ1ZGInLCAnZ3JheS00MDAnOiAnIzljYTNhZicsICdncmF5LTUwMCc6ICcjNmI3MjgwJywgJ2dyYXktNjAwJzogJyM0YjU1NjMnLCAnZ3JheS03MDAnOiAnIzM3NDE1MScsICdncmF5LTgwMCc6ICcjMWYyOTM3JywgJ2dyYXktOTAwJzogJyMxMTE4MjcnLFxuICAgICAgJ3Zpb2xldC01MCc6ICcjZjVmM2ZmJywgJ3Zpb2xldC0xMDAnOiAnI2VkZTlmZScsICd2aW9sZXQtMjAwJzogJyNkZGQ2ZmUnLCAndmlvbGV0LTMwMCc6ICcjYzRiNWZkJywgJ3Zpb2xldC00MDAnOiAnI2E3OGJmYScsICd2aW9sZXQtNTAwJzogJyM4YjVjZjYnLCAndmlvbGV0LTYwMCc6ICcjN2MzYWVkJywgJ3Zpb2xldC03MDAnOiAnIzZkMjhkOScsICd2aW9sZXQtODAwJzogJyM1YjIxYjYnLCAndmlvbGV0LTkwMCc6ICcjNGMxZDk1JyxcbiAgICAgICdwdXJwbGUtNTAnOiAnI2ZhZjVmZicsICdwdXJwbGUtMTAwJzogJyNmM2U4ZmYnLCAncHVycGxlLTIwMCc6ICcjZTlkNWZmJywgJ3B1cnBsZS0zMDAnOiAnI2Q4YjRmZScsICdwdXJwbGUtNDAwJzogJyNjMDg0ZmMnLCAncHVycGxlLTUwMCc6ICcjYTg1NWY3JywgJ3B1cnBsZS02MDAnOiAnIzkzMzNlYScsICdwdXJwbGUtNzAwJzogJyM3ZTIyY2UnLCAncHVycGxlLTgwMCc6ICcjNmIyMWE4JywgJ3B1cnBsZS05MDAnOiAnIzU4MWM4NycsXG4gICAgICAnYmx1ZS01MCc6ICcjZWZmNmZmJywgJ2JsdWUtMTAwJzogJyNkYmVhZmUnLCAnYmx1ZS0yMDAnOiAnI2JmZGJmZScsICdibHVlLTMwMCc6ICcjOTNjNWZkJywgJ2JsdWUtNDAwJzogJyM2MGE1ZmEnLCAnYmx1ZS01MDAnOiAnIzNiODJmNicsICdibHVlLTYwMCc6ICcjMjU2M2ViJywgJ2JsdWUtNzAwJzogJyMxZDRlZDgnLCAnYmx1ZS04MDAnOiAnIzFlNDBhZicsICdibHVlLTkwMCc6ICcjMWUzYThhJyxcbiAgICAgICdlbWVyYWxkLTUwJzogJyNlY2ZkZjUnLCAnZW1lcmFsZC0xMDAnOiAnI2QxZmFlNScsICdlbWVyYWxkLTIwMCc6ICcjYTdmM2QwJywgJ2VtZXJhbGQtMzAwJzogJyM2ZWU3YjcnLCAnZW1lcmFsZC00MDAnOiAnIzM0ZDM5OScsICdlbWVyYWxkLTUwMCc6ICcjMTBiOTgxJywgJ2VtZXJhbGQtNjAwJzogJyMwNTk2NjknLCAnZW1lcmFsZC03MDAnOiAnIzA0Nzg1NycsICdlbWVyYWxkLTgwMCc6ICcjMDY1ZjQ2JywgJ2VtZXJhbGQtOTAwJzogJyMwNjRlM2InLFxuICAgICAgJ3RlYWwtNTAnOiAnI2YwZmRmYScsICd0ZWFsLTEwMCc6ICcjY2NmYmYxJywgJ3RlYWwtMjAwJzogJyM5OWY2ZTQnLCAndGVhbC0zMDAnOiAnIzVlZWFkNCcsICd0ZWFsLTQwMCc6ICcjMmRkNGJmJywgJ3RlYWwtNTAwJzogJyMxNGI4YTYnLCAndGVhbC02MDAnOiAnIzBkOTQ4OCcsICd0ZWFsLTcwMCc6ICcjMGY3NjZlJywgJ3RlYWwtODAwJzogJyMxMTVlNTknLCAndGVhbC05MDAnOiAnIzEzNGU0YScsXG4gICAgICAnYW1iZXItNTAnOiAnI2ZmZmJlYicsICdhbWJlci0xMDAnOiAnI2ZlZjNjNycsICdhbWJlci0yMDAnOiAnI2ZkZTY4YScsICdhbWJlci0zMDAnOiAnI2ZjZDM0ZCcsICdhbWJlci00MDAnOiAnI2ZiYmYyNCcsICdhbWJlci01MDAnOiAnI2Y1OWUwYicsICdhbWJlci02MDAnOiAnI2Q5NzcwNicsICdhbWJlci03MDAnOiAnI2I0NTMwOScsICdhbWJlci04MDAnOiAnIzkyNDAwZScsICdhbWJlci05MDAnOiAnIzc4MzUwZicsXG4gICAgICAncmVkLTUwJzogJyNmZWYyZjInLCAncmVkLTEwMCc6ICcjZmVlMmUyJywgJ3JlZC0yMDAnOiAnI2ZlY2FjYScsICdyZWQtMzAwJzogJyNmY2E1YTUnLCAncmVkLTQwMCc6ICcjZjg3MTcxJywgJ3JlZC01MDAnOiAnI2VmNDQ0NCcsICdyZWQtNjAwJzogJyNkYzI2MjYnLCAncmVkLTcwMCc6ICcjYjkxYzFjJywgJ3JlZC04MDAnOiAnIzk5MWIxYicsICdyZWQtOTAwJzogJyM3ZjFkMWQnXG4gICAgfTtcbiAgICByZXR1cm4gY29sb3JzW2NvbG9yTmFtZV0gfHwgJyM5QzZCRkYnO1xuICB9XG5cbiAgLyoqXG4gICAqIEFwcGxpcXVlIHVuZSBwcm9wb3NpdGlvbiBkZSBtb2RpZmljYXRpb24gZHUgdGhcdTAwRThtZVxuICAgKi9cbiAgYXN5bmMgZnVuY3Rpb24gaGFuZGxlQXBwbHlUaGVtZShlKSB7XG4gICAgY29uc3QgcHJvcG9zYWxJZCA9IGUudGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLXByb3Bvc2FsLWlkXScpPy5kYXRhc2V0LnByb3Bvc2FsSWQ7XG4gICAgY29uc3Qgc2l0ZVNsdWcgPSBzdHJpcExlYWRpbmdTbGFzaChzdG9yZWRTaXRlLnNsdWcgfHwgJycpO1xuICAgIGlmICghcHJvcG9zYWxJZCB8fCAhc2l0ZVNsdWcpIHJldHVybjtcbiAgICBcbiAgICBjb25zdCBidG4gPSBlLnRhcmdldC5jbG9zZXN0KCdidXR0b24nKTtcbiAgICBidG4uZGlzYWJsZWQgPSB0cnVlO1xuICAgIGJ0bi5pbm5lckhUTUwgPSAnPHNwYW4gY2xhc3M9XCJhbmltYXRlLXNwaW5cIj5cdTIzRjM8L3NwYW4+IEFwcGxpY2F0aW9uLi4uJztcbiAgICBcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzaXRlU2x1Zyl9L2FpL2FwcGx5LXRoZW1lYCwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgcHJvcG9zYWxJZCB9KVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBcbiAgICAgIGlmIChyZXNwb25zZS5vayAmJiBkYXRhLnN1Y2Nlc3MpIHtcbiAgICAgICAgLy8gUmVtcGxhY2VyIGxhIGNhcmQgcGFyIHVuIG1lc3NhZ2UgZGUgc3VjY1x1MDBFOHNcbiAgICAgICAgY29uc3QgcHJvcG9zYWxDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtcHJvcG9zYWwtaWQ9XCIke3Byb3Bvc2FsSWR9XCJdYCk7XG4gICAgICAgIGlmIChwcm9wb3NhbENhcmQpIHtcbiAgICAgICAgICBwcm9wb3NhbENhcmQuaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInctOCBoLTggcm91bmRlZC1mdWxsIGJnLXB1cnBsZS01MDAgZmxleC1zaHJpbmstMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICA8c3ZnIGNsYXNzPVwidy00IGgtNCB0ZXh0LXdoaXRlXCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNSAxM2w0IDRMMTkgN1wiLz5cbiAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4LTEgYmctcHVycGxlLTUwIGJvcmRlciBib3JkZXItcHVycGxlLTIwMCByb3VuZGVkLTJ4bCByb3VuZGVkLXRsLW5vbmUgcC0zXCI+XG4gICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1zbSB0ZXh0LXB1cnBsZS03MDBcIj5cdTI3MDUgVGhcdTAwRThtZSBtaXMgXHUwMEUwIGpvdXIgYXZlYyBzdWNjXHUwMEU4cyAhPC9wPlxuICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQteHMgdGV4dC1wdXJwbGUtNjAwIG10LTFcIj5SZWNoYXJnZXogbGEgcHJldmlldyBwb3VyIHZvaXIgbGVzIGNoYW5nZW1lbnRzLjwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIGA7XG4gICAgICAgIH1cbiAgICAgICAgc2hvd1RvYXN0KCdUaFx1MDBFOG1lIG1pcyBcdTAwRTAgam91ciAhJyk7XG4gICAgICAgIFxuICAgICAgICAvLyBEXHUwMEU5Y2xlbmNoZXIgdW4gXHUwMEU5dlx1MDBFOW5lbWVudCBwZXJzb25uYWxpc1x1MDBFOSBwb3VyIHJhZnJhXHUwMEVFY2hpclxuICAgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnYWktdGhlbWUtdXBkYXRlZCcsIHtcbiAgICAgICAgICBkZXRhaWw6IHsgdXBkYXRlZFRoZW1lOiBkYXRhLnVwZGF0ZWRUaGVtZSB9XG4gICAgICAgIH0pKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihkYXRhLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGRlIGxcXCdhcHBsaWNhdGlvbicpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgYnRuLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICBidG4uaW5uZXJIVE1MID0gYDxzdmcgY2xhc3M9XCJ3LTMuNSBoLTMuNVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTUgMTNsNCA0TDE5IDdcIi8+PC9zdmc+IFJcdTAwRTllc3NheWVyYDtcbiAgICAgIHNob3dUb2FzdChgRXJyZXVyOiAke2Vyci5tZXNzYWdlfWApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBsaXF1ZSB1bmUgcHJvcG9zaXRpb24gZCdcdTAwRTlkaXRpb24gdmFsaWRcdTAwRTllXG4gICAqL1xuICBhc3luYyBmdW5jdGlvbiBoYW5kbGVBcHBseUVkaXQoZSkge1xuICAgIGNvbnN0IHByb3Bvc2FsSWQgPSBlLnRhcmdldC5jbG9zZXN0KCdbZGF0YS1wcm9wb3NhbC1pZF0nKT8uZGF0YXNldC5wcm9wb3NhbElkO1xuICAgIGNvbnN0IHNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goc3RvcmVkU2l0ZS5zbHVnIHx8ICcnKTtcbiAgICBpZiAoIXByb3Bvc2FsSWQgfHwgIXNpdGVTbHVnKSByZXR1cm47XG4gICAgXG4gICAgY29uc3QgYnRuID0gZS50YXJnZXQuY2xvc2VzdCgnYnV0dG9uJyk7XG4gICAgYnRuLmRpc2FibGVkID0gdHJ1ZTtcbiAgICBidG4uaW5uZXJIVE1MID0gJzxzcGFuIGNsYXNzPVwiYW5pbWF0ZS1zcGluXCI+XHUyM0YzPC9zcGFuPiBBcHBsaWNhdGlvbi4uLic7XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2l0ZVNsdWcpfS9haS9hcHBseS1lZGl0YCwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgcHJvcG9zYWxJZCB9KVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBcbiAgICAgIGlmIChyZXNwb25zZS5vayAmJiBkYXRhLnN1Y2Nlc3MpIHtcbiAgICAgICAgLy8gUmVtcGxhY2VyIGxhIGNhcmQgcGFyIHVuIG1lc3NhZ2UgZGUgc3VjY1x1MDBFOHNcbiAgICAgICAgY29uc3QgcHJvcG9zYWxDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtcHJvcG9zYWwtaWQ9XCIke3Byb3Bvc2FsSWR9XCJdYCk7XG4gICAgICAgIGlmIChwcm9wb3NhbENhcmQpIHtcbiAgICAgICAgICBwcm9wb3NhbENhcmQuaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInctOCBoLTggcm91bmRlZC1mdWxsIGJnLWVtZXJhbGQtNTAwIGZsZXgtc2hyaW5rLTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgPHN2ZyBjbGFzcz1cInctNCBoLTQgdGV4dC13aGl0ZVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgICAgIDxwYXRoIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTUgMTNsNCA0TDE5IDdcIi8+XG4gICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleC0xIGJnLWVtZXJhbGQtNTAgYm9yZGVyIGJvcmRlci1lbWVyYWxkLTIwMCByb3VuZGVkLTJ4bCByb3VuZGVkLXRsLW5vbmUgcC0zXCI+XG4gICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1zbSB0ZXh0LWVtZXJhbGQtNzAwXCI+XHUyNzA1IE1vZGlmaWNhdGlvbnMgYXBwbGlxdVx1MDBFOWVzIGF2ZWMgc3VjY1x1MDBFOHMgITwvcD5cbiAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtZW1lcmFsZC02MDAgbXQtMVwiPkxhIHByZXZpZXcgc2UgbWV0IFx1MDBFMCBqb3VyIGF1dG9tYXRpcXVlbWVudC48L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICBgO1xuICAgICAgICB9XG4gICAgICAgIHNob3dUb2FzdCgnTW9kaWZpY2F0aW9ucyBhcHBsaXF1XHUwMEU5ZXMgIScpO1xuICAgICAgICBcbiAgICAgICAgLy8gRFx1MDBFOWNsZW5jaGVyIHVuIFx1MDBFOXZcdTAwRTluZW1lbnQgcGVyc29ubmFsaXNcdTAwRTkgcG91ciByYWZyYVx1MDBFRWNoaXIgbGEgcHJldmlld1xuICAgICAgICBjb25zdCBwYWdlSWQgPSBkYXRhLnVwZGF0ZWRQYWdlPy5pZCB8fCBudWxsO1xuICAgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnYWktcGFnZS11cGRhdGVkJywge1xuICAgICAgICAgIGRldGFpbDogeyBwYWdlSWQsIHVwZGF0ZWRQYWdlOiBkYXRhLnVwZGF0ZWRQYWdlIH1cbiAgICAgICAgfSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGRhdGEubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZGUgbFxcJ2FwcGxpY2F0aW9uJyk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBidG4uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgIGJ0bi5pbm5lckhUTUwgPSBgPHN2ZyBjbGFzcz1cInctMy41IGgtMy41XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNSAxM2w0IDRMMTkgN1wiLz48L3N2Zz4gUlx1MDBFOWVzc2F5ZXJgO1xuICAgICAgc2hvd1RvYXN0KGBFcnJldXI6ICR7ZXJyLm1lc3NhZ2V9YCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlamV0dGUgdW5lIHByb3Bvc2l0aW9uIGQnXHUwMEU5ZGl0aW9uXG4gICAqL1xuICBhc3luYyBmdW5jdGlvbiBoYW5kbGVSZWplY3RFZGl0KGUpIHtcbiAgICBjb25zdCBwcm9wb3NhbElkID0gZS50YXJnZXQuY2xvc2VzdCgnW2RhdGEtcHJvcG9zYWwtaWRdJyk/LmRhdGFzZXQucHJvcG9zYWxJZDtcbiAgICBjb25zdCBzaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyk7XG4gICAgaWYgKCFwcm9wb3NhbElkIHx8ICFzaXRlU2x1ZykgcmV0dXJuO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICBhd2FpdCBmZXRjaChgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzaXRlU2x1Zyl9L2FpL3Byb3Bvc2FsLyR7cHJvcG9zYWxJZH1gLCB7XG4gICAgICAgIG1ldGhvZDogJ0RFTEVURSdcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBSZW1wbGFjZXIgbGEgY2FyZCBwYXIgdW4gbWVzc2FnZSBkZSByZWpldFxuICAgICAgY29uc3QgcHJvcG9zYWxDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtcHJvcG9zYWwtaWQ9XCIke3Byb3Bvc2FsSWR9XCJdYCk7XG4gICAgICBpZiAocHJvcG9zYWxDYXJkKSB7XG4gICAgICAgIHByb3Bvc2FsQ2FyZC5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInctOCBoLTggcm91bmRlZC1mdWxsIGJnLXNsYXRlLTQwMCBmbGV4LXNocmluay0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICA8c3ZnIGNsYXNzPVwidy00IGgtNCB0ZXh0LXdoaXRlXCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICAgIDxwYXRoIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTYgMThMMTggNk02IDZsMTIgMTJcIi8+XG4gICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleC0xIGJnLXNsYXRlLTEwMCByb3VuZGVkLTJ4bCByb3VuZGVkLXRsLW5vbmUgcC0zXCI+XG4gICAgICAgICAgICA8cCBjbGFzcz1cInRleHQtc20gdGV4dC1zbGF0ZS01MDBcIj5Qcm9wb3NpdGlvbiByZWpldFx1MDBFOWUuPC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICBgO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignW0FJXSBSZWplY3QgZWRpdCBlcnJvcjonLCBlcnIpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBFZmZhY2UgbCdoaXN0b3JpcXVlIGR1IGNoYXRcbiAgICovXG4gIGFzeW5jIGZ1bmN0aW9uIGNsZWFyQUlIaXN0b3J5KCkge1xuICAgIGNvbnN0IHNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goc3RvcmVkU2l0ZS5zbHVnIHx8ICcnKTtcbiAgICBpZiAoIXNpdGVTbHVnIHx8ICFhaUNoYXRNZXNzYWdlcykgcmV0dXJuO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICBhd2FpdCBmZXRjaChgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzaXRlU2x1Zyl9L2FpL2hpc3RvcnlgLCB7IG1ldGhvZDogJ0RFTEVURScgfSk7XG4gICAgICBcbiAgICAgIC8vIFZpZGVyIGxlcyBtZXNzYWdlc1xuICAgICAgYWlDaGF0TWVzc2FnZXMuaW5uZXJIVE1MID0gJyc7XG4gICAgICBcbiAgICAgIC8vIFJcdTAwRTlhZmZpY2hlciBsZSBtZXNzYWdlIGRlIGJpZW52ZW51ZVxuICAgICAgYWlDaGF0TWVzc2FnZXMuaW5uZXJIVE1MID0gYFxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBnYXAtM1wiIGRhdGEtYWktd2VsY29tZT5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwidy04IGgtOCByb3VuZGVkLWZ1bGwgYmctZ3JhZGllbnQtdG8tYnIgZnJvbS12aW9sZXQtNTAwIHRvLWluZGlnby02MDAgZmxleC1zaHJpbmstMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgPHN2ZyBjbGFzcz1cInctNCBoLTQgdGV4dC13aGl0ZVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgICA8cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk05LjY2MyAxN2g0LjY3M00xMiAzdjFtNi4zNjQgMS42MzZsLS43MDcuNzA3TTIxIDEyaC0xTTQgMTJIM20zLjM0My01LjY1N2wtLjcwNy0uNzA3bTIuODI4IDkuOWE1IDUgMCAxMTcuMDcyIDBsLS41NDguNTQ3QTMuMzc0IDMuMzc0IDAgMDAxNCAxOC40NjlWMTlhMiAyIDAgMTEtNCAwdi0uNTMxYzAtLjg5NS0uMzU2LTEuNzU0LS45ODgtMi4zODZsLS41NDgtLjU0N3pcIi8+XG4gICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleC0xIGJnLXNsYXRlLTUwIHJvdW5kZWQtMnhsIHJvdW5kZWQtdGwtbm9uZSBwLTNcIj5cbiAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1zbSB0ZXh0LXNsYXRlLTcwMFwiPlxuICAgICAgICAgICAgICBTYWx1dCAhIFx1RDgzRFx1REM0QiBKZSBzdWlzIHRvbiBhc3Npc3RhbnQgSUEgcG91ciBjZSBzaXRlLiBKZSBwZXV4IHQnYWlkZXIgXHUwMEUwIDpcbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDx1bCBjbGFzcz1cIm10LTIgdGV4dC1zbSB0ZXh0LXNsYXRlLTYwMCBzcGFjZS15LTFcIj5cbiAgICAgICAgICAgICAgPGxpPlx1RDgzQ1x1REZBOCBTdWdnXHUwMEU5cmVyIGRlcyBwYWxldHRlcyBkZSBjb3VsZXVyczwvbGk+XG4gICAgICAgICAgICAgIDxsaT5cdTI3MERcdUZFMEYgR1x1MDBFOW5cdTAwRTlyZXIgZHUgY29udGVudSBwb3VyIHRlcyBibG9jczwvbGk+XG4gICAgICAgICAgICAgIDxsaT5cdUQ4M0RcdURDQzQgQ3JcdTAwRTllciBkZXMgc3RydWN0dXJlcyBkZSBwYWdlczwvbGk+XG4gICAgICAgICAgICAgIDxsaT5cdUQ4M0RcdUREMEQgQW1cdTAwRTlsaW9yZXIgdG9uIFNFTzwvbGk+XG4gICAgICAgICAgICAgIDxsaT5cdTI3MEZcdUZFMEYgPHN0cm9uZz5BbmFseXNlciBldCBtb2RpZmllciB0ZXMgcGFnZXM8L3N0cm9uZz4gKGF2ZWMgdmFsaWRhdGlvbik8L2xpPlxuICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICBgO1xuICAgICAgXG4gICAgICBzaG93VG9hc3QoJ0hpc3RvcmlxdWUgZWZmYWNcdTAwRTknKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tBSV0gQ2xlYXIgaGlzdG9yeSBmYWlsZWQ6JywgZXJyKTtcbiAgICAgIHNob3dUb2FzdCgnRXJyZXVyIGxvcnMgZGUgbFxcJ2VmZmFjZW1lbnQnKTtcbiAgICB9XG4gIH1cblxuICAvLyBQcm9tcHRzIHJhcGlkZXNcbiAgY29uc3QgcXVpY2tQcm9tcHRzID0ge1xuICAgIGNvbG9yczogJ1N1Z2dcdTAwRThyZS1tb2kgMyBwYWxldHRlcyBkZSBjb3VsZXVycyBoYXJtb25pZXVzZXMgcG91ciBtb24gc2l0ZS4gUG91ciBjaGFxdWUgcGFsZXR0ZSwgZG9ubmUgbGVzIGNvdWxldXJzIFRhaWx3aW5kOiBwcmltYXJ5LCBzZWNvbmRhcnksIGFjY2VudCwgZXQgYmFja2dyb3VuZC4nLFxuICAgIGhlcm86ICdHXHUwMEU5blx1MDBFOHJlIHVuIGJsb2MgSGVybyBlbiBKU09OIGF2ZWMgdW4gdGl0cmUgYWNjcm9jaGV1ciwgdW4gc291cy10aXRyZSBlbmdhZ2VhbnQgZXQgdW4gQ1RBLicsXG4gICAgc2VvOiAnQW5hbHlzZSBtb24gc2l0ZSBldCBzdWdnXHUwMEU4cmUgZGVzIGFtXHUwMEU5bGlvcmF0aW9ucyBTRU8gcG91ciBsZSBtZXRhIHRpdGxlIGV0IGxhIG1ldGEgZGVzY3JpcHRpb24gZGUgbWEgcGFnZSBkXFwnYWNjdWVpbC4nLFxuICAgIGxhbmRpbmc6ICdHXHUwMEU5blx1MDBFOHJlIGxhIHN0cnVjdHVyZSBKU09OIGRcXCd1bmUgbGFuZGluZyBwYWdlIGNvbXBsXHUwMEU4dGUgYXZlYzogSGVybywgMyBzZWN0aW9ucyBkZSBjb250ZW51LCBldCB1biBDVEEgZmluYWwuJyxcbiAgICBhbmFseXplOiAnQW5hbHlzZSBsZSBjb250ZW51IGRlIHRvdXRlcyBtZXMgcGFnZXMgZXQgcHJvcG9zZSBkZXMgYW1cdTAwRTlsaW9yYXRpb25zIGNvbmNyXHUwMEU4dGVzLiBQb3VyIGNoYXF1ZSBzdWdnZXN0aW9uIGRcXCdhbVx1MDBFOWxpb3JhdGlvbiBkZSB0ZXh0ZSBvdSBkZSBzdHJ1Y3R1cmUsIHV0aWxpc2UgbGUgZm9ybWF0IHByb3Bvc2UtZWRpdCBwb3VyIHF1ZSBqZSBwdWlzc2UgdmFsaWRlci4nLFxuICAgIGltcHJvdmVIb21lOiAnQW5hbHlzZSBtYSBwYWdlIGRcXCdhY2N1ZWlsIGV0IHByb3Bvc2UgdW5lIGFtXHUwMEU5bGlvcmF0aW9uIGR1IHRpdHJlIG91IGR1IEhlcm8gcG91ciBsZSByZW5kcmUgcGx1cyBpbXBhY3RhbnQuIFV0aWxpc2UgbGUgZm9ybWF0IHByb3Bvc2UtZWRpdC4nXG4gIH07XG5cbiAgLy8gRXZlbnQgbGlzdGVuZXJzXG4gIGFpQ2hhdFRvZ2dsZT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgaWYgKGFpQ2hhdE9wZW4pIHtcbiAgICAgIGNsb3NlQUlDaGF0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9wZW5BSUNoYXQoKTtcbiAgICB9XG4gIH0pO1xuXG4gIGFpQ2hhdENsb3NlPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlQUlDaGF0KTtcbiAgYWlDaGF0T3ZlcmxheT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZUFJQ2hhdCk7XG5cbiAgYWlDaGF0Q2xlYXI/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGlmIChjb25maXJtKCdFZmZhY2VyIHRvdXQgbFxcJ2hpc3RvcmlxdWUgZGUgY29udmVyc2F0aW9uID8nKSkge1xuICAgICAgY2xlYXJBSUhpc3RvcnkoKTtcbiAgICB9XG4gIH0pO1xuXG4gIGFpQ2hhdEZvcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBhaUNoYXRJbnB1dD8udmFsdWU/LnRyaW0oKTtcbiAgICBpZiAobWVzc2FnZSkge1xuICAgICAgYWlDaGF0SW5wdXQudmFsdWUgPSAnJztcbiAgICAgIHNlbmRBSU1lc3NhZ2UobWVzc2FnZSk7XG4gICAgfVxuICB9KTtcblxuICBhaVF1aWNrQnV0dG9ucy5mb3JFYWNoKGJ0biA9PiB7XG4gICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgYWN0aW9uID0gYnRuLmRhdGFzZXQuYWlRdWljaztcbiAgICAgIGNvbnN0IHByb21wdCA9IHF1aWNrUHJvbXB0c1thY3Rpb25dO1xuICAgICAgaWYgKHByb21wdCkge1xuICAgICAgICBzZW5kQUlNZXNzYWdlKHByb21wdCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8vIEZlcm1lciBhdmVjIEVzY2FwZVxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGUpID0+IHtcbiAgICBpZiAoZS5rZXkgPT09ICdFc2NhcGUnICYmIGFpQ2hhdE9wZW4pIHtcbiAgICAgIGNsb3NlQUlDaGF0KCk7XG4gICAgfVxuICB9KTtcbn0pO1xuIl0sCiAgIm1hcHBpbmdzIjogIk1BQUEsU0FBUyxpQkFBaUIsbUJBQW9CLElBQU0sQ0FBcEQsSUFBQUEsR0FDRSxRQUFRLElBQUksMkJBQXdCLEVBQ3BDLElBQU1DLEdBQWUsU0FBUyxjQUFjLGVBQWUsRUFDdkRBLElBQ0ZBLEdBQWEsaUJBQWlCLFFBQVMsU0FBWSxDQUNqREEsR0FBYSxTQUFXLEdBQ3hCLEdBQUksQ0FDRixNQUFNLE1BQU0sY0FBZSxDQUN6QixPQUFRLE9BQ1IsUUFBUyxDQUNQLGVBQWdCLGtCQUNsQixDQUNGLENBQUMsQ0FDSCxPQUFTQyxFQUFLLENBQ1osUUFBUSxNQUFNLDBDQUF3Q0EsQ0FBRyxDQUMzRCxRQUFFLENBQ0EsT0FBTyxTQUFTLEtBQU8sbUJBQ3pCLENBQ0YsQ0FBQyxFQUdILElBQU1DLEdBQVUsU0FBUyxjQUFjLHNCQUFzQixFQUN2REMsR0FBaUIsU0FBUyxjQUFjLDhCQUE4QixFQUN0RUMsR0FBaUIsU0FBUyxpQkFBaUIsNkJB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Q2YsRUFHQXBELElBQUEsTUFBQUEsR0FBYyxpQkFBaUIsUUFBUyxJQUFNLENBQ3hDVyxHQUNGTSxHQUFZLEVBRVpGLEdBQVcsQ0FFZixHQUVBWixJQUFBLE1BQUFBLEdBQWEsaUJBQWlCLFFBQVNjLElBQ3ZDZixJQUFBLE1BQUFBLEdBQWUsaUJBQWlCLFFBQVNlLElBRXpDYixJQUFBLE1BQUFBLEdBQWEsaUJBQWlCLFFBQVMsSUFBTSxDQUN2QyxRQUFRLDZDQUE4QyxHQUN4RCtDLEdBQWUsQ0FFbkIsR0FFQTlDLElBQUEsTUFBQUEsR0FBWSxpQkFBaUIsU0FBV3JrQixHQUFNLENBOW1SaEQsSUFBQXRlLEVBK21SSXNlLEVBQUUsZUFBZSxFQUNqQixJQUFNbFksR0FBVXBHLEVBQUE0aUMsSUFBQSxZQUFBQSxHQUFhLFFBQWIsWUFBQTVpQyxFQUFvQixPQUNoQ29HLElBQ0Z3OEIsR0FBWSxNQUFRLEdBQ3BCNEIsR0FBY3ArQixDQUFPLEVBRXpCLEdBRUE0OEIsR0FBZSxRQUFRMVosR0FBTyxDQUM1QkEsRUFBSSxpQkFBaUIsUUFBUyxJQUFNLENBQ2xDLElBQU02TyxFQUFTN08sRUFBSSxRQUFRLFFBQ3JCcWMsRUFBU0QsR0FBYXZOLENBQU0sRUFDOUJ3TixHQUNGbkIsR0FBY21CLENBQU0sQ0FFeEIsQ0FBQyxDQUNILENBQUMsRUFHRCxTQUFTLGlCQUFpQixVQUFZcm5CLEdBQU0sQ0FDdENBLEVBQUUsTUFBUSxVQUFZMmtCLElBQ3hCTSxHQUFZLENBRWhCLENBQUMsQ0FDSCxDQUFDIiwKICAibmFtZXMiOiBbIl9hIiwgImxvZ291dEJ1dHRvbiIsICJlcnIiLCAic2lkZWJhciIsICJzaWRlYmFyT3ZlcmxheSIsICJzaWRlYmFyVG9nZ2xlcyIsICJzaWRlYmFyQ2xvc2VCdXR0b25zIiwgImJvZHkiLCAic2lkZWJhck9wZW4iLCAiYXBwbHlTaWRlYmFyU3RhdGUiLCAib3BlblNpZGViYXIiLCAiY2xvc2VTaWRlYmFyIiwgImJ1dHRvbiIsICJldmVudCIsICJBQ1RJVkVfU0lURV9LRVkiLCAiQUNUSVZFX1NJVEVfTkFNRV9LRVkiLCAic3RvcmVkU2l0ZSIsICJyYXdTbHVnIiwgImVuc3VyZUxlYWRpbmdTbGFzaCIsICJzdHJpcExlYWRpbmdTbGFzaCIsICJzaXRlQ2FyZHMiLCAic2l0ZVNlbGVjdEJ1dHRvbnMiLCAic2l0ZU5hbWVMYWJlbCIsICJ3b3Jrc3BhY2VTaXRlTGFiZWwiLCAid29ya3NwYWNlQmFja05hbWUiLCAid29ya3NwYWNlQmFja01vZGFsIiwgIndvcmtzcGFjZUJhY2tCdXR0b25zIiwgIndvcmtzcGFjZUJhY2tDYW5jZWwiLCAid29ya3NwYWNlQmFja0NvbmZpcm0iLCAid29ya3NwYWNlTmF2TGlua3MiLCAic2l0ZVRvYXN0IiwgInNpdGVUb2FzdE1lc3NhZ2UiLCAic2l0ZUNyZWF0ZUJ1dHRvbnMiLCAic2l0ZU1vZGFsIiwgInNpdGVGb3JtIiwgInNpdGVOYW1lSW5wdXQiLCAic2l0ZVNsdWdJbnB1dCIsICJzaXRlU2x1Z0Vycm9yIiwgInNpdGVNb2RhbEVycm9yIiwgInNpdGVNb2RhbENhbmNlbEJ1dHRvbnMiLCAic2l0ZU1vZGFsU3VibWl0QnV0dG9uIiwgIndvcmtzcGFjZUNvbnRleHQiLCAiZ2V0V29ya3NwYWNlQ29udGV4dCIsICJzbHVnTWFudWFsbHlFZGl0ZWQiLCAidG9hc3RUaW1lb3V0SWQiLCAiZm9jdXNhYmxlU2VsZWN0b3IiLCAibW9kYWxTdGFjayIsICJnZXRGb2N1c2FibGVFbGVtZW50cyIsICJtb2RhbCIsICJlbCIsICJoYW5kbGVNb2RhbEtleWRvd24iLCAiY3VycmVudEVudHJ5IiwgIm9uQ2xvc2UiLCAiZm9jdXNhYmxlRWxlbWVudHMiLCAiZmlyc3QiLCAibGFzdCIsICJhY3RpdmF0ZU1vZGFsIiwgImZvY3VzYWJsZSIsICJfYiIsICJkZWFjdGl2YXRlTW9kYWwiLCAiaW5kZXgiLCAiZW50cnkiLCAibW9iaWxlUGFuZWxPdmVybGF5IiwgIm1vYmlsZVBhbmVsTGF5ZXIiLCAibW9iaWxlUGFuZWxzIiwgIm1vYmlsZVBhbmVsTGF5ZXJQbGFjZWhvbGRlciIsICJyaWdodFBhbmVsUGxhY2Vob2xkZXIiLCAibW9iaWxlUGFuZWxUb2dnbGVzIiwgIm1vYmlsZVBhbmVsQ2xvc2VCdXR0b25zIiwgIm1vYmlsZVBhbmVsVHJpZ2dlcnMiLCAiYWN0aXZlTW9iaWxlUGFuZWwiLCAiaXNEZXNrdG9wVmlld3BvcnQiLCAiZW5zdXJlTW9iaWxlUGFuZWxMYXllclBsYWNlbWVudCIsICJ0YXJnZXRQYXJlbnQiLCAiZW5zdXJlUmlnaHRQYW5lbFBsYWNlbWVudCIsICJwYW5lbCIsICJsZWZ0UGFuZWwiLCAiZW5zdXJlTW9iaWxlUGFuZWxQbGFjZW1lbnQiLCAicGFuZWxEZWZhdWx0WiIsICJzaWRlIiwgImNvbXB1dGVkWiIsICJhY3RpdmVQYW5lbFoiLCAibWF4IiwgInZhbHVlIiwgInNldFBhbmVsWlN0YXRlIiwgImlzQWN0aXZlIiwgImFwcGx5UGFuZWxDbGFzc2VzIiwgImNsYXNzZXMiLCAibWV0aG9kIiwgImNscyIsICJzZXRQYW5lbEhpZGRlblN0YXRlIiwgImhpZGRlbiIsICJoaWRkZW5DbGFzc2VzIiwgInZpc2libGVDbGFzc2VzIiwgImNsb3NlTW9iaWxlUGFuZWwiLCAidHJpZ2dlciIsICJvcGVuTW9iaWxlUGFuZWwiLCAiZm9jdXNUYXJnZXQiLCAic3luY01vYmlsZVBhbmVsc1dpdGhWaWV3cG9ydCIsICJzaG93VG9hc3QiLCAibWVzc2FnZSIsICJpbml0TWVkaWFQaWNrZXIiLCAiY2xvc2VCdXR0b25zIiwgInNlYXJjaElucHV0IiwgImVtcHR5U3RhdGUiLCAiZ3JpZCIsICJnZXRBY3RpdmVTaXRlU2x1Z1ZhbHVlIiwgImdldE1lZGlhQXBpQmFzZSIsICJzbHVnIiwgImlzSW1hZ2VJdGVtIiwgIml0ZW0iLCAiZmlsZW5hbWUiLCAiY2FjaGVkU2x1ZyIsICJtZWRpYUl0ZW1zIiwgImFjdGl2ZVRhcmdldElucHV0IiwgInNldFRhcmdldFZhbHVlIiwgImNsb3NlTW9kYWwiLCAicmVuZGVyR3JpZCIsICJpdGVtcyIsICJwcmV2aWV3IiwgImltZyIsICJmYWxsYmFjayIsICJtZXRhIiwgIm5hbWUiLCAiYXBwbHlTZWFyY2giLCAicXVlcnkiLCAiZW5zdXJlTWVkaWFMb2FkZWQiLCAiYXBpQmFzZSIsICJyZXNwb25zZSIsICJwYXlsb2FkIiwgIm9wZW5Gb3JJbnB1dCIsICJpbnB1dCIsICJ3cmFwcGVyIiwgInRyaW1tZWQiLCAid2l0aG91dExlYWRpbmciLCAicGVyc2lzdFNpdGVTdGF0ZSIsICJub3JtYWxpemVkU2x1ZyIsICJ1cGRhdGVTaXRlTGFiZWxzIiwgInVwZGF0ZVdvcmtzcGFjZU5hdkxpbmtzIiwgImxpbmsiLCAidGFiIiwgInNsdWdQYXRoIiwgImFwcGx5QWN0aXZlU2l0ZSIsICJvcHRpb25zIiwgImFjdGl2ZVNpdGVOYW1lIiwgImNhcmQiLCAiYmFkZ2UiLCAiZmluYWxOYW1lIiwgInNlbGVjdFNpdGUiLCAiZmluYWxTbHVnIiwgInN5bmNBY3RpdmVTaXRlRnJvbVNlcnZlciIsICJzaXRlIiwgImRlZmF1bHRDYXJkIiwgIndvcmtzcGFjZVNsdWdpZnkiLCAibm9ybWFsaXplU2x1Z1ZhbHVlIiwgImJhc2UiLCAib3BlblNpdGVNb2RhbCIsICJjbG9zZVNpdGVNb2RhbCIsICJzbHVnVmFsIiwgIm5hbWVWYWwiLCAiZ2V0U2x1Z1NldCIsICJuYW1lVmFsdWUiLCAic2x1Z1ZhbHVlIiwgImNyZWF0ZWRTaXRlIiwgImNsb3NlV29ya3NwYWNlQmFja01vZGFsIiwgIm1hdGNoIiwgImRldGVjdFdvcmtzcGFjZVNlY3Rpb24iLCAib3BlbldvcmtzcGFjZUJhY2tNb2RhbCIsICJUUkFOU1BBUkVOVF9QQVRURVJOIiwgInBhcnNlQ3NzQ29sb3JUb1JnYiIsICJub3JtYWxpemVkIiwgInJnYk1hdGNoIiwgImhleE1hdGNoIiwgImhleCIsICJub3JtYWxpemVkSGV4IiwgImMiLCAiciIsICJnIiwgImIiLCAiZ2V0UmVhZGFibGVUZXh0Q29sb3IiLCAiYmFja2dyb3VuZENvbG9yIiwgInJnYiIsICJzdHlsZVNlbGVjdE9wdGlvbnMiLCAic2VsZWN0IiwgIm9wdGlvbiIsICJvcHRpb25Db2xvciIsICJhY3RpdmVTZWN0aW9uIiwgImluaXREZXNpZ25Xb3Jrc3BhY2UiLCAiaW5pdENvbnRlbnRXb3Jrc3BhY2UiLCAiaW5pdE1lZGlhV29ya3NwYWNlIiwgImluaXREZXBsb3lXb3Jrc3BhY2UiLCAiaW5pdFNldHRpbmdzV29ya3NwYWNlIiwgInBhZ2VMaXN0cyIsICJhY3RpdmVUaXRsZSIsICJhY3RpdmVTbHVnIiwgInByZXZpZXdUYWdzIiwgInByZXZpZXdGcmFtZSIsICJwcmV2aWV3RnJhbWVXcmFwcGVyIiwgInByZXZpZXdTaGVsbCIsICJwcmV2aWV3Vmlld0J1dHRvbnMiLCAicHJldmlld0N1cnJlbnRWaWV3TGFiZWwiLCAicHJldmlld09wZW5CdXR0b24iLCAicHJldmlld1N0YXR1cyIsICJwcmV2aWV3SGlnaGxpZ2h0T3ZlcmxheSIsICJzZW9Ub2dnbGVCdXR0b24iLCAic2VvUGFuZWwiLCAic2VvQ2xvc2VCdXR0b24iLCAic2VvRm9ybSIsICJzZW9UaXRsZUlucHV0IiwgInNlb0Rlc2NyaXB0aW9uSW5wdXQiLCAic2VvSW5kZXhlZENoZWNrYm94IiwgInNlb0ZlZWRiYWNrIiwgInNlb1NhdmVCdXR0b24iLCAicGFnZUFjY2Vzc2liaWxpdHlUb2dnbGVCdXR0b24iLCAicGFnZUFjY2Vzc2liaWxpdHlQYW5lbCIsICJwYWdlQWNjZXNzaWJpbGl0eUNsb3NlQnV0dG9uIiwgInBhZ2VBY2Nlc3NpYmlsaXR5Rm9ybSIsICJwYWdlQWNjZXNzaWJpbGl0eU5hdkNoZWNrYm94IiwgInBhZ2VBY2Nlc3NpYmlsaXR5TWFpbklucHV0IiwgInBhZ2VBY2Nlc3NpYmlsaXR5RmVlZGJhY2siLCAicGFnZUFjY2Vzc2liaWxpdHlTYXZlQnV0dG9uIiwgInBhZ2VQcm9wc1RvZ2dsZUJ1dHRvbiIsICJwYWdlUHJvcHNQYW5lbCIsICJwYWdlUHJvcHNDbG9zZUJ1dHRvbiIsICJwYWdlUHJvcHNGb3JtIiwgInBhZ2VOYW1lSW5wdXQiLCAicGFnZVRpdGxlSW5wdXQiLCAicGFnZVBhcmVudFNlbGVjdCIsICJwYWdlU2x1Z1NlZ21lbnRJbnB1dCIsICJwYWdlU2x1Z0lucHV0IiwgInBhZ2VEZXNjcmlwdGlvbklucHV0IiwgInBhZ2VQcm9wc0ZlZWRiYWNrIiwgInBhZ2VQcm9wc1NhdmVCdXR0b24iLCAiYmxvY2tMaXN0IiwgImJsb2NrTGlzdEVtcHR5IiwgImJsb2NrQ291bnRCYWRnZSIsICJibG9ja0xpYnJhcnlUb2dnbGUiLCAiYmxvY2tMaWJyYXJ5IiwgImJsb2NrQWRkQnV0dG9ucyIsICJibG9ja0RlbGV0ZU1vZGFsIiwgImJsb2NrRGVsZXRlQ29uZmlybSIsICJibG9ja0RlbGV0ZUNhbmNlbCIsICJibG9ja0RldGFpbEVtcHR5IiwgImJsb2NrRGV0YWlsU3RhdHVzIiwgImJsb2NrRWRpdG9yIiwgImJsb2NrRWRpdG9yVGl0bGUiLCAiYmxvY2tFZGl0b3JUeXBlIiwgImJsb2NrRWRpdG9yVW5zdXBwb3J0ZWQiLCAiYmxvY2tGb3JtIiwgInN0eWxlQ29sb3JDaGlwIiwgImNoaXAiLCAiY29sb3IiLCAiZW5zdXJlQ3VzdG9tVGhlbWVPcHRpb24iLCAib3B0IiwgInVwZGF0ZUNvbG9yU2VsZWN0UHJldmlldyIsICJfYyIsICJzZWxlY3RlZE9wdGlvbiIsICJjb2xvclByZXZpZXciLCAiY29sb3JDaGlwIiwgInRoZW1lQ29sb3JTZWxlY3RzIiwgImlzQmFja2dyb3VuZFRoZW1lU2VsZWN0IiwgInRoZW1lQ29sb3JQcmVzZXRzIiwgImdldENvbXB1dGVkVGhlbWVDb2xvclZhbHVlIiwgImNzc1ZhciIsICJjb21wdXRlZCIsICJmaWxsVGhlbWVDb2xvclNlbGVjdCIsICJsYWJlbCIsICJjb2xvclZhbHVlIiwgInJlZnJlc2hUaGVtZUNvbG9yU2VsZWN0cyIsICJibG9ja0Zvcm1TZWN0aW9ucyIsICJnZXRCbG9ja0VkaXRvclNlY3Rpb25FbGVtZW50IiwgImNvbmZpZyIsICJibG9ja1RhYnMiLCAiYWN0aXZlQmxvY2tUYWIiLCAibGVmdFBhbmVsVGFicyIsICJsZWZ0UGFuZWxCbG9ja3MiLCAibGVmdFBhbmVsUGFnZXMiLCAiYWN0aXZlTGVmdFRhYiIsICJzd2l0Y2hMZWZ0VGFiIiwgInRhYk5hbWUiLCAiYmxvY2tGb3JtQWN0aW9ucyIsICJibG9ja0Zvcm1BdXRvc2F2ZSIsICJzd2l0Y2hCbG9ja1RhYiIsICJjb2xsZWN0aW9uU2VsZWN0IiwgImNvbGxlY3Rpb25TZWxlY3Rpb25JbmZvIiwgImNvbGxlY3Rpb25DYXJkSXRlbVNlbGVjdCIsICJjb2xsZWN0aW9uQ2FyZFJlc2V0QnV0dG9uIiwgImNvbGxlY3Rpb25DYXJkT3ZlcnJpZGVGaWVsZHMiLCAiYmxvY2tGb3JtQ2FuY2VsIiwgImdyb3VwUHJldmlld01vYmlsZSIsICJncm91cFByZXZpZXdEZXNrdG9wIiwgImNvbGxlY3Rpb25QcmV2aWV3TW9iaWxlIiwgImNvbGxlY3Rpb25QcmV2aWV3RGVza3RvcCIsICJibG9ja1R5cGVGb3JtcyIsICJibG9ja1R5cGVBbGlhc2VzIiwgImFuaW1hdGlvbkZpZWxkTWFwIiwgInVwZGF0ZUdyb3VwTWluaVByZXZpZXciLCAibW9iaWxlVmFsdWUiLCAiZGVza3RvcFZhbHVlIiwgInJlbmRlckJveGVzIiwgImNvdW50IiwgInVwZGF0ZUNvbGxlY3Rpb25NaW5pUHJldmlldyIsICJmZXRjaFBhZ2VzRnJvbVNlcnZlciIsICJwYWdlc0FwaUJhc2UiLCAiY3JlYXRlUGFnZU9uU2VydmVyIiwgInRpdGxlIiwgInNhdmVQYWdlVG9TZXJ2ZXIiLCAicGFnZSIsICJzYXZlZCIsICJub3JtYWxpemVQYWdlRGF0YSIsICJwYWdlcyIsICJjdXJyZW50UGFnZSIsICJsb2FkUGFnZXNGcm9tU2VydmVyIiwgImFjdGl2ZVBhZ2VJZCIsICJyZW5kZXJQYWdlTGlzdHMiLCAicmVuZGVyQmxvY2tMaXN0IiwgImxvYWRlZFBhZ2VzIiwgImdldExvYWRpbmdQcmV2aWV3SHRtbCIsICJnZXRTdG9yZWRBY3RpdmVQYWdlIiwgInNldEFjdGl2ZVBhZ2UiLCAibm9ybWFsaXplVHlwZSIsICJnZXRCbG9ja0Zvcm1Db25maWciLCAiYmxvY2siLCAidHlwZUtleSIsICJhbGlhcyIsICJwb3B1bGF0ZUJsb2NrRm9ybSIsICJfZCIsICJfZSIsICJfZiIsICJfZyIsICJzZWN0aW9uUm9vdCIsICJzZWN0aW9uIiwgImRlc2lyZWRWYWx1ZSIsICJ1cGRhdGVDb2xsZWN0aW9uU2VsZWN0T3B0aW9ucyIsICJlbnN1cmVDb2xsZWN0aW9uQ2FyZEVkaXRvclJlYWR5IiwgInNldHRpbmdLZXkiLCAiZmllbGROYW1lIiwgImJnRmllbGROYW1lIiwgImJnU2VsZWN0IiwgImNvbGxlY3RGb3JtVmFsdWVzIiwgInZhbHVlcyIsICJwYXJzZWQiLCAidXBkYXRlUHJldmlld1N0YXR1cyIsICJ0ZXh0IiwgInNlcmlhbGl6ZVBhZ2VGb3JQcmV2aWV3IiwgInNlcmlhbGl6ZUJsb2NrIiwgImRlYm91bmNlIiwgImZuIiwgImRlbGF5IiwgInRpbWVvdXRJZCIsICJhcmdzIiwgImF1dG9TYXZlQXBwZWFyYW5jZSIsICJhY3RpdmVCbG9ja0lkIiwgImdldEFjdGl2ZUJsb2NrIiwgInVwZGF0ZWRCbG9ja3MiLCAiZGlkVXBkYXRlIiwgImZvdW5kUGFyZW50SWQiLCAidXBkYXRlQmxvY2tzRGVlcCIsICJ1cGRhdGVkU2V0dGluZ3MiLCAiYWN0aXZlQmxvY2tQYXJlbnRJZCIsICJuZXh0UGFnZSIsICJwIiwgInVwZGF0ZVByZXZpZXdCbG9ja0xpdmUiLCAiYmxvY2tJZCIsICJzZXR0aW5ncyIsICJkZWJvdW5jZWRSZWZyZXNoUHJldmlldyIsICJyZWZyZXNoUHJldmlldyIsICJoYW5kbGVBcHBlYXJhbmNlQ2hhbmdlIiwgInByZXZpZXdTaXRlU2x1ZyIsICJzZXJpYWxpemVkUGFnZXMiLCAicHJldmlld1JlYWR5IiwgInByZXZpZXdSZXF1ZXN0Q29udHJvbGxlciIsICJjb250cm9sbGVyIiwgImRhdGEiLCAibXNnIiwgImxhdGVzdFByZXZpZXdIdG1sIiwgImVycm9yIiwgImhhbmRsZUJsb2NrRm9ybVN1Ym1pdCIsICJhbHRWYWx1ZSIsICJ1cGRhdGVkQmxvY2siLCAidXBkYXRlQ3VycmVudFBhZ2VCbG9ja3MiLCAiZHJhd2VyIiwgImRyYXdlckJhY2tkcm9wIiwgImRyYXdlck9wZW5CdXR0b25zIiwgImRyYXdlckNsb3NlQnV0dG9ucyIsICJhZGRQYWdlVG9nZ2xlIiwgImFkZFBhZ2VGb3JtIiwgImFkZFBhZ2VOYW1lIiwgImFkZFBhZ2VUaXRsZSIsICJhZGRQYWdlU2x1ZyIsICJhZGRQYWdlQ2FuY2VsIiwgImFkZFBhZ2VFcnJvciIsICJhZGRQYWdlU3VibWl0QnV0dG9uIiwgImltcG9ydFRvZ2dsZSIsICJpbXBvcnRNb2RhbCIsICJpbXBvcnRDbG9zZUJ1dHRvbnMiLCAiaW1wb3J0RHJvcHpvbmUiLCAiaW1wb3J0RmlsZUlucHV0IiwgImltcG9ydEZpbGVMaXN0IiwgImltcG9ydEZpbGVOYW1lcyIsICJpbXBvcnRSZXN1bHRzIiwgImltcG9ydFJlc3VsdHNDb250ZW50IiwgImltcG9ydFN1Ym1pdCIsICJpbXBvcnRUYWJzIiwgImltcG9ydFBhbmVscyIsICJjb3B5UHJvbXB0QnRuIiwgImNvcHlUZW1wbGF0ZUJ0biIsICJ0ZW1wbGF0ZUpzb24iLCAiaW1wb3J0QWlQcm9tcHQiLCAiaW1wb3J0UGFzdGVJbnB1dCIsICJwYXN0ZUZvcm1hdEJ0biIsICJwYXN0ZUVycm9yIiwgImltcG9ydFNlbGVjdGVkRmlsZXMiLCAiYWN0aXZlSW1wb3J0VGFiIiwgImRlbGV0ZVBhZ2VNb2RhbCIsICJkZWxldGVQYWdlTmFtZSIsICJkZWxldGVQYWdlQ2FuY2VsIiwgImRlbGV0ZVBhZ2VDb25maXJtIiwgInBhZ2VUb0RlbGV0ZSIsICJzaXRlS2V5IiwgInNpdGVTbHVnVmFsdWUiLCAic2FmZVNpdGVTbHVnIiwgImNvbGxlY3Rpb25zQXBpQmFzZSIsICJzdG9yYWdlS2V5cyIsICJjcmVhdGVCbG9jayIsICJpZCIsICJ0eXBlIiwgInN0YXR1cyIsICJkZXNjcmlwdGlvbiIsICJwcm9wcyIsICJibG9ja0xpYnJhcnlEZWZpbml0aW9ucyIsICJwZXJzaXN0QWN0aXZlUGFnZSIsICJwYWdlSWQiLCAic3RvcmVkIiwgImZvcm1hdEJsb2NrQ291bnQiLCAibm9ybWFsaXplUGFnZVNsdWciLCAicmF3IiwgInBhcnRzIiwgInBhcnQiLCAiZ2VuZXJhdGVCbG9ja0lkIiwgImtleSIsICJjcmVhdGVJbml0aWFsQmxvY2tzIiwgInNldEFjdGl2ZUxhYmVscyIsICJyZW5kZXJQcmV2aWV3TWV0YSIsICJ0YWciLCAiZ2V0U3RhdHVzQmFkZ2VDbGFzc2VzIiwgInJlbmRlckJsb2NrRGV0YWlscyIsICJyZWFkQWNjZW50Q29sb3IiLCAiYXBwbHlQcmV2aWV3SGlnaGxpZ2h0IiwgImRvYyIsICJub2RlIiwgImFjY2VudCIsICJwcmV2aWV3Vmlld1ByZXNldHMiLCAic2V0UHJldmlld1ZpZXciLCAidmlldyIsICJ0YXJnZXQiLCAic3R5bGVzIiwgImNyZWF0ZUJsb2NrSXRlbUVsZW1lbnQiLCAiaXNOZXN0ZWQiLCAicGFyZW50SWQiLCAiYmxvY2tUeXBlIiwgImlzR3JvdXAiLCAiY29udGVudCIsICJoYW5kbGUiLCAidGV4dFdyYXBwZXIiLCAidHlwZUJhZGdlIiwgInN0YXR1c0JhZGdlIiwgImNoaWxkQ291bnQiLCAiY2hpbGRCYWRnZSIsICJkaXNwbGF5TGFiZWwiLCAiY29sbGVjdGlvbk5hbWUiLCAiZGVzaWduQ29sbGVjdGlvbnMiLCAiaW5mbyIsICJhY3Rpb25zIiwgIm1vdmVCdXR0b25zIiwgIm1vdmVVcCIsICJtb3ZlQ2hpbGRCbG9ja0J5T2Zmc2V0IiwgIm1vdmVCbG9ja0J5T2Zmc2V0IiwgIm1vdmVEb3duIiwgImRlbGV0ZUJ1dHRvbiIsICJyZW1vdmVDaGlsZEZyb21Hcm91cCIsICJvcGVuQmxvY2tEZWxldGVNb2RhbCIsICJzZXRBY3RpdmVCbG9jayIsICJjcmVhdGVHcm91cERyb3Bab25lIiwgInBhcmVudEJsb2NrIiwgImRyb3Bab25lIiwgImUiLCAibW92ZUJsb2NrVG9Hcm91cCIsICJvcGVuQWRkQmxvY2tUb0dyb3VwTW9kYWwiLCAiYmxvY2tzIiwgImNoaWxkIiwgImNoaWxkSXRlbSIsICJmaW5kQ2hpbGRMb2NhdGlvbiIsICJjaGlsZElkIiwgImdyb3VwSW5kZXgiLCAiZ3JvdXBCbG9jayIsICJncm91cFR5cGUiLCAiY2hpbGRJbmRleCIsICJleHRyYWN0QmxvY2tCeUlkIiwgInJvb3RJbmRleCIsICJjaGlsZExvYyIsICJpbnNlcnRCbG9ja0ludG9Sb290IiwgInNhZmVJbmRleCIsICJpbnNlcnRCbG9ja0ludG9Hcm91cCIsICJncm91cElkIiwgImdldEluc2VydEluZGV4RnJvbVBvc2l0aW9uIiwgImJhc2VJbmRleCIsICJwb3NpdGlvbiIsICJvZmZzZXRXaGVuQWZ0ZXIiLCAiY29tbWl0QmxvY2tzQ2hhbmdlIiwgImFjdGl2ZUlkIiwgImFjdGl2ZVBhcmVudElkIiwgInRvYXN0TWVzc2FnZSIsICJleHRyYWN0ZWQiLCAibW92ZUNoaWxkRnJvbUdyb3VwVG9Sb290QXQiLCAiaW5zZXJ0SW5kZXgiLCAibW92ZUNoaWxkV2l0aGluR3JvdXAiLCAidGFyZ2V0Q2hpbGRJZCIsICJmcm9tSW5kZXgiLCAidG9JbmRleEJhc2UiLCAibW92ZWQiLCAiYWRqdXN0ZWRUb0luZGV4QmFzZSIsICJtb3ZlQW55QmxvY2tUb0dyb3VwQXQiLCAidGFyZ2V0SW5kZXgiLCAicmVzb2x2ZWQiLCAib2Zmc2V0IiwgImN1cnJlbnRJbmRleCIsICJuZXdJbmRleCIsICJwZW5kaW5nR3JvdXBJZEZvck5ld0Jsb2NrIiwgIm9wZW5EZWxldGVQYWdlTW9kYWwiLCAiY2xvc2VEZWxldGVQYWdlTW9kYWwiLCAiZXhlY3V0ZURlbGV0ZVBhZ2UiLCAicGFnZVRpdGxlIiwgInJlc3VsdCIsICJwYWdlTGlzdCIsICJwYWdlc0J5SWQiLCAiY2hpbGRyZW5CeVBhcmVudElkIiwgInJlc29sdmVQYXJlbnRCdWNrZXQiLCAicmF3UGFyZW50SWQiLCAiYnVja2V0IiwgImNvbXBhcmVQYWdlcyIsICJhIiwgInNsdWdBIiwgInNsdWdCIiwgImxpc3QiLCAib3JkZXJlZCIsICJ2aXNpdGVkIiwgIndhbGsiLCAiZGVwdGgiLCAiaGFzTWlzc2luZ1BhcmVudCIsICJkaXNwbGF5TmFtZSIsICJuYXZCYWRnZSIsICJoaWVyYXJjaHlCYWRnZSIsICJpbmRlbnQiLCAiaXNEZXNrdG9wRHJhd2VyIiwgImNsb3NlRHJhd2VyIiwgImRlbGV0ZUJ0biIsICJwYWdlSGFzQmxvY2tJZCIsICJub2RlcyIsICJ1cGRhdGVyIiwgInBhcmVudEhpbnQiLCAiY3VycmVudFBhcmVudElkIiwgImNoYW5nZWQiLCAibmV4dENoaWxkcmVuIiwgImNoaWxkcmVuQ2hhbmdlZCIsICJ0YXJnZXRCbG9jayIsICJmb3VuZCIsICJuZXdCbG9ja3MiLCAidXBkYXRlQ3VycmVudFBhZ2VTdGF0ZSIsICJpc0Rlc2t0b3BSZW9yZGVyIiwgInJlb3JkZXJCbG9ja3MiLCAic291cmNlSWQiLCAidGFyZ2V0SWQiLCAidG9JbmRleCIsICJyZW9yZGVyQmxvY2tzV2l0aFBvc2l0aW9uIiwgInVwZGF0ZURyYWdnYWJsZVN0YXRlIiwgImRyYWdnYWJsZSIsICJjbG9zZUJsb2NrTGlicmFyeSIsICJibG9ja0xpYnJhcnlPcGVuIiwgIm9wZW5CbG9ja0xpYnJhcnkiLCAidG9nZ2xlQmxvY2tMaWJyYXJ5IiwgImFkZEJsb2NrRnJvbUxpYnJhcnkiLCAiZGVmaW5pdGlvbiIsICJuZXdCbG9jayIsICJmaXJzdENvbGxlY3Rpb25JZCIsICJuZXh0QmxvY2tzIiwgImRlbGV0ZUJsb2NrQnlJZCIsICJuZXh0QWN0aXZlIiwgImNsb3NlQmxvY2tEZWxldGVNb2RhbCIsICJwZW5kaW5nRGVsZXRlQmxvY2tJZCIsICJzeW5jUGFnZUFjY2Vzc2liaWxpdHlGaWVsZHMiLCAic3luY0RyYXdlclN0YXRlIiwgIm9wZW5EcmF3ZXIiLCAib3BlbkFkZFBhZ2VGb3JtIiwgInBhZ2VTbHVnTWFudWFsbHlFZGl0ZWQiLCAiY2xvc2VBZGRQYWdlRm9ybSIsICJzeW5jU2x1Z0Zyb21OYW1lIiwgImRlc2lnbkNvbGxlY3Rpb25JdGVtc0NhY2hlIiwgIm5vcm1hbGl6ZUJsb2NrRGF0YSIsICJsb2FkRGVzaWduQ29sbGVjdGlvbnMiLCAiY3VycmVudFZhbHVlIiwgInN5bmNDb2xsZWN0aW9uU2VsZWN0aW9uSW5mbyIsICJjb2xsZWN0aW9uSWQiLCAiY29sbGVjdGlvbiIsICJkZXRhaWxzIiwgImZldGNoQ29sbGVjdGlvbkl0ZW1zRm9yRGVzaWduIiwgImNhY2hlS2V5IiwgImdldEFjdGl2ZUNvbGxlY3Rpb25HcmlkQmxvY2siLCAiY2xlYXJDb2xsZWN0aW9uQ2FyZEVkaXRvciIsICJmaWVsZCIsICJnZXRTZWxlY3RlZENvbGxlY3Rpb25DYXJkSXRlbUlkIiwgImdldENvbGxlY3Rpb25HcmlkSXRlbU92ZXJyaWRlcyIsICJwb3B1bGF0ZUNvbGxlY3Rpb25DYXJkT3ZlcnJpZGVGaWVsZHMiLCAiaXRlbUlkIiwgIm92ZXJyaWRlcyIsICJnZXRWYWx1ZSIsICJidWlsZENvbGxlY3Rpb25DYXJkT3ZlcnJpZGVQYXRjaCIsICJfaCIsICJfaSIsICJwYXRjaCIsICJzYXZlQ29sbGVjdGlvbkNhcmRPdmVycmlkZXMiLCAicmVzZXQiLCAidXBkYXRlIiwgIm5leHRTZXR0aW5ncyIsICJidWlsdCIsICJuZXh0UGF0Y2giLCAiY2lkIiwgImV4aXN0aW5nIiwgImRlc2lyZWQiLCAic2VsZWN0ZWRWYWx1ZSIsICJmYWxsYmFja09wdGlvbiIsICJjcmVhdGVkUGFnZSIsICJyZXNldFBhc3RlU3RhdGUiLCAidmFsaWRhdGVQYXN0ZUpzb24iLCAiZm9ybWF0UGFzdGVKc29uIiwgInVwZGF0ZUltcG9ydFN1Ym1pdFN0YXRlIiwgIm9wZW5JbXBvcnRNb2RhbCIsICJ1cGRhdGVJbXBvcnRGaWxlTGlzdCIsICJ0IiwgImNsb3NlSW1wb3J0TW9kYWwiLCAiZiIsICJoYW5kbGVJbXBvcnRGaWxlcyIsICJmaWxlcyIsICJqc29uRmlsZXMiLCAiZXhlY3V0ZUltcG9ydCIsICJfaiIsICJfayIsICJwYWdlc0RhdGEiLCAicGFyc2VFcnIiLCAiZXJyb3JMaW5lIiwgImVycm9yRGV0YWlsIiwgInBvcyIsICJsaW5lcyIsICJsaW5lTnVtIiwgImNvbE51bSIsICJmaWxlRXJyb3JzIiwgImZpbGUiLCAiaHRtbCIsICJoYXNEYXRhIiwgImhhc1N1Y2Nlc3MiLCAiaGFzRXJyb3JzIiwgImNvbGxlY3Rpb25zTXNnIiwgImJ0biIsICJ0YXJnZXRQYW5lbCIsICJhY3RpdmUiLCAidGFyZ2V0VmlldyIsICJzdHlsZSIsICJpc0dyb3VwVHlwZSIsICJnZXRQYXJlbnRJZEZvckJsb2NrIiwgInByZXZpZXdXaW5kb3ciLCAidG9nZ2xlU2VvUGFuZWwiLCAic2hvdyIsICJzZXRTZW9GZWVkYmFjayIsICJ0b25lIiwgImlzVmlzaWJsZSIsICJzZW9EYXRhIiwgInVwZGF0ZWRQYWdlIiwgInRvZ2dsZVBhZ2VBY2Nlc3NpYmlsaXR5UGFuZWwiLCAic2V0UGFnZUFjY2Vzc2liaWxpdHlGZWVkYmFjayIsICJhY2Nlc3NpYmlsaXR5RGF0YSIsICJnZXRQYWdlU2x1Z1NlZ21lbnQiLCAiYnVpbGRTbHVnRnJvbVBhcmVudEFuZFNlZ21lbnQiLCAicGFyZW50U2x1Z1ZhbHVlIiwgInNlZ21lbnRWYWx1ZSIsICJub3JtYWxpemVkU2VnbWVudCIsICJwYXJlbnRTbHVnIiwgImdldERlc2NlbmRhbnRJZHMiLCAicGFnZXNMaXN0IiwgInJvb3RJZCIsICJjaGlsZHJlbkJ5UGFyZW50IiwgInN0YWNrIiwgImN1cnJlbnQiLCAicmVuZGVyUGFyZW50U2VsZWN0T3B0aW9ucyIsICJjdXJyZW50SWQiLCAiZm9yYmlkZGVuIiwgInN5bmNTbHVnRmllbGRzIiwgInNlbGVjdGVkUGFyZW50SWQiLCAic2VnbWVudCIsICJ0b2dnbGVQYWdlUHJvcHNQYW5lbCIsICJzZXRQYWdlUHJvcHNGZWVkYmFjayIsICJuZXdOYW1lIiwgIm5ld1RpdGxlIiwgIm5ld0Rlc2NyaXB0aW9uIiwgInJlcXVlc3RlZFBhcmVudElkIiwgIm5ld1BhcmVudElkIiwgIm5ld1NlZ21lbnQiLCAiY3VycmVudFNsdWciLCAiY29tcHV0ZWRTbHVnIiwgImhhbmRsZUJsb2NrRHJhZ1N0YXJ0IiwgImRyYWdTb3VyY2VJZCIsICJkcmFnU291cmNlUGFyZW50SWQiLCAiY2xlYXJEcmFnSW5kaWNhdG9ycyIsICJoYW5kbGVCbG9ja0RyYWdFbmQiLCAiaGFuZGxlQmxvY2tEcmFnT3ZlciIsICJyZWN0IiwgIm1pZFkiLCAiaXNBYm92ZSIsICJoYW5kbGVCbG9ja0RyYWdMZWF2ZSIsICJyZWxhdGVkVGFyZ2V0IiwgImhhbmRsZUJsb2NrRHJvcCIsICJzb3VyY2UiLCAic291cmNlUGFyZW50IiwgImRyb3BQb3NpdGlvbiIsICJ0YXJnZXRSb290SW5kZXgiLCAiYWN0aXZlUGFnZSIsICJjb2xsZWN0aW9uTGlzdCIsICJjb250ZW50Vmlld3MiLCAiY29udGVudFNlY3Rpb25CdXR0b25zIiwgImNvbnRlbnRTZWN0aW9uVHJpZ2dlcnMiLCAiaGVhZGVyU3RhdHVzSW5kaWNhdG9yIiwgImZvb3RlclN0YXR1c0luZGljYXRvciIsICJjb2xsZWN0aW9uQ291bnRFbCIsICJpdGVtUGFuZWwiLCAiaXRlbVBhbmVsQ2xvc2VCdXR0b25zIiwgImNvbGxlY3Rpb25FbXB0eVN0YXRlIiwgImNvbGxlY3Rpb25JdGVtc0VtcHR5IiwgIml0ZW1UYWJsZVdyYXBwZXIiLCAiaXRlbVRhYmxlQm9keSIsICJjb2xsZWN0aW9uVGl0bGUiLCAiY29sbGVjdGlvbkRlc2NyaXB0aW9uIiwgIml0ZW1BZGRCdXR0b24iLCAiaXRlbURldGFpbEVtcHR5IiwgIml0ZW1Gb3JtIiwgIml0ZW1Gb3JtRmllbGRzIiwgIml0ZW1TdGF0dXNCYWRnZSIsICJpdGVtRGVsZXRlQnV0dG9uIiwgIml0ZW1EZWxldGVNb2RhbCIsICJpdGVtRGVsZXRlQ2FuY2VsIiwgIml0ZW1EZWxldGVDb25maXJtIiwgIml0ZW1Gb3JtQ2FuY2VsIiwgIml0ZW1Gb3JtU2F2ZSIsICJzdGF0dXNCYWRnZUJhc2VDbGFzcyIsICJzZXRJdGVtUGFuZWxIaWRkZW5TdGF0ZSIsICJzeW5jSXRlbVBhbmVsV2l0aFZpZXdwb3J0IiwgImhpZGVJdGVtRm9ybSIsICJoZWFkZXJGaWVsZHMiLCAiaGVhZGVyTmF2T3JkZXJMaXN0IiwgImhlYWRlclNhdmVCdG4iLCAiaGVhZGVyTmF2SXRlbVRlbXBsYXRlIiwgImhlYWRlclBhZ2VzTGlzdCIsICJzaXRlUGFnZXMiLCAic2VsZWN0ZWROYXZQYWdlcyIsICJmb290ZXJGaWVsZHMiLCAiZm9vdGVyQ29sdW1uc0xpc3QiLCAiZm9vdGVyQ29sdW1uQWRkQnRuIiwgImZvb3RlclNhdmVCdG4iLCAiZm9vdGVyQ29sdW1uVGVtcGxhdGUiLCAiZm9vdGVyTGlua1RlbXBsYXRlIiwgImFjdGl2ZUNvbnRlbnRTZWN0aW9uIiwgImhlYWRlckRhdGEiLCAiZm9vdGVyRGF0YSIsICJzYWZlU2l0ZVNsdWdGb3JMYXlvdXQiLCAibGF5b3V0QXBpQmFzZSIsICJzaG93Q29udGVudFZpZXciLCAidmlld05hbWUiLCAibG9hZFNpdGVQYWdlc0ZvckhlYWRlciIsICJyZW5kZXJQYWdlQ2hlY2tib3hlcyIsICJub3JtYWxpemVOYXZQYWdlVXJsIiwgImxvd2VyIiwgIndpdGhvdXRTbGFzaGVzIiwgImNsZWFuZWRJbnRlcm5hbCIsICJjbGVhbmVkIiwgIm5vcm1hbGl6ZU9wdGlvbmFsTmF2VXJsIiwgImRlZmF1bHRWYWx1ZSIsICJwYWdlU2x1ZyIsICJwYWdlRGlzcGxheU5hbWUiLCAicGFnZVVybCIsICJpc1NlbGVjdGVkIiwgIm5hdiIsICJjaGVja2JveCIsICJleGlzdGluZ0luZGV4IiwgInJlbmRlckhlYWRlck5hdk9yZGVyIiwgImVtcHR5IiwgInJvdyIsICJ1cmwiLCAiY29udHJvbHMiLCAidXAiLCAibmV4dCIsICJ0bXAiLCAiZG93biIsICJyZW1vdmUiLCAiY29sbGVjdEhlYWRlckRhdGEiLCAiX2wiLCAicG9wdWxhdGVIZWFkZXJGb3JtIiwgImFkZEZvb3RlckxpbmsiLCAiY29udGFpbmVyIiwgImNsb25lIiwgImxhYmVsSW5wdXQiLCAidXJsSW5wdXQiLCAicmVtb3ZlQnRuIiwgImFkZEZvb3RlckNvbHVtbiIsICJsaW5rcyIsICJjb2x1bW4iLCAidGl0bGVJbnB1dCIsICJsaW5rc0NvbnRhaW5lciIsICJhZGRMaW5rQnRuIiwgImNvbGxlY3RGb290ZXJEYXRhIiwgIl9tIiwgIl9uIiwgIl9vIiwgIl9wIiwgIl9xIiwgIl9yIiwgIl9zIiwgIl90IiwgImNvbHVtbnMiLCAiY29sIiwgImxpbmtFbCIsICJwb3B1bGF0ZUZvb3RlckZvcm0iLCAidiIsICJzYWZlU2l0ZVNsdWdWYWx1ZSIsICJjb2xsZWN0aW9ucyIsICJjb2xsZWN0aW9uSXRlbXMiLCAiYWN0aXZlQ29sbGVjdGlvbklkIiwgImFjdGl2ZUl0ZW1JZCIsICJpc0NyZWF0aW5nSXRlbSIsICJpdGVtU2x1Z01hbnVhbGx5RWRpdGVkIiwgInBlbmRpbmdEZWxldGVJdGVtSWQiLCAibm9ybWFsaXplSXRlbVNsdWdJbnB1dCIsICJjbGVhbmVkU2VnbWVudHMiLCAiZm9ybWF0SXRlbURhdGUiLCAiZGF0ZSIsICJ1cGRhdGVDb2xsZWN0aW9uSGVhZGVyIiwgInVwZGF0ZUl0ZW1zRW1wdHlNZXNzYWdlIiwgInNob3dJdGVtRm9ybSIsICJzeW5jQWRkQnV0dG9uU3RhdGUiLCAic3luY0l0ZW1TdGF0dXNCYWRnZSIsICJjb2xvckNsYXNzIiwgInJlbmRlckNvbGxlY3Rpb25MaXN0IiwgInNldEFjdGl2ZUNvbGxlY3Rpb24iLCAicmVuZGVySXRlbVRhYmxlIiwgInN0YXR1c0NsYXNzZXMiLCAiaGFuZGxlU2VsZWN0IiwgInNlbGVjdEl0ZW0iLCAicG9wdWxhdGVJdGVtRm9ybSIsICJwcmVwYXJlTmV3SXRlbUZvcm0iLCAiY29sbGVjdEl0ZW1Gb3JtVmFsdWVzIiwgInNsdWdJbnB1dCIsICJzdW1tYXJ5IiwgImltYWdlIiwgImN0YVRleHQiLCAiY3RhVXJsIiwgImN0YSIsICJzZXRGb3JtU2F2aW5nU3RhdGUiLCAiaXNTYXZpbmciLCAiZmV0Y2hDb2xsZWN0aW9uSXRlbXMiLCAiY3JlYXRlQ29sbGVjdGlvbkl0ZW0iLCAidXBkYXRlQ29sbGVjdGlvbkl0ZW0iLCAiZGVsZXRlQ29sbGVjdGlvbkl0ZW0iLCAibG9hZENvbGxlY3Rpb25zIiwgImRlZmF1bHRJZCIsICJzYXZlZEl0ZW0iLCAiY2xvc2VEZWxldGVNb2RhbCIsICJvcGVuRGVsZXRlTW9kYWwiLCAiZm9ybSIsICJwcm90b2NvbFNlbGVjdCIsICJob3N0SW5wdXQiLCAicG9ydElucHV0IiwgInVzZXJJbnB1dCIsICJwYXNzd29yZElucHV0IiwgInNob3dQYXNzd29yZFRvZ2dsZSIsICJyZW1vdGVQYXRoSW5wdXQiLCAiZmVlZGJhY2siLCAic2F2ZUJ1dHRvbiIsICJ0ZXN0QnV0dG9uIiwgImRlcGxveUJ1dHRvbiIsICJoaXN0b3J5TGlzdCIsICJsb2dCb3giLCAiZGVwbG95QXBpQmFzZSIsICJkZXBsb3lSdW5BcGkiLCAiZGVwbG95TG9nQXBpIiwgImhhc1Bhc3N3b3JkIiwgImJ1c3lBY3Rpb24iLCAic2FuaXRpemVSZW1vdGVQYXRoIiwgInNldEZlZWRiYWNrIiwgImJhc2VDbGFzcyIsICJ0b25lQ2xhc3MiLCAiaWNvbiIsICJzZXRCdXN5IiwgImFjdGlvbiIsICJkaXNhYmxlIiwgInNwaW5uZXIiLCAicG9wdWxhdGVGb3JtIiwgInJlbmRlckhpc3RvcnkiLCAiZW50cmllcyIsICJsaSIsICJkdXJhdGlvbiIsICJyZW5kZXJMb2dzIiwgImZldGNoSGlzdG9yeSIsICJmZXRjaENvbmZpZyIsICJidWlsZFBheWxvYWQiLCAicHdkIiwgImVycm9yUGF5bG9hZCIsICJkb3dubG9hZEJ1dHRvbiIsICJkb3dubG9hZEZlZWRiYWNrIiwgImRvd25sb2FkQXBpIiwgInNldERvd25sb2FkRmVlZGJhY2siLCAib3JpZ2luYWxDb250ZW50IiwgImVycm9yRGF0YSIsICJibG9iIiwgInRhYkJ1dHRvbnMiLCAidGFiUGFuZWxzIiwgInNpdGVGZWVkYmFjayIsICJ0aGVtZUZvcm0iLCAic3dpdGNoVGFiIiwgInN1Ym1pdCIsICJmb3JtRGF0YSIsICJjdXJyZW50UGFzc3dvcmQiLCAibmV3UGFzc3dvcmQiLCAiY29uZmlybVBhc3N3b3JkIiwgIm5hbWVJbnB1dCIsICJsYW5nU2VsZWN0IiwgInRhZ2xpbmVJbnB1dCIsICJzZXRTaXRlRmVlZGJhY2siLCAic2l0ZUNvbmZpZ0FwaSIsICJsb2FkU2l0ZUNvbmZpZyIsICJ0aGVtZUFwaSIsICJjb2xvclNlbGVjdHMiLCAiaGVhZGluZ1NlbGVjdCIsICJib2R5U2VsZWN0IiwgInJhZGl1c1NtYWxsIiwgInJhZGl1c01lZGl1bSIsICJyYWRpdXNMYXJnZSIsICJ0aGVtZUZlZWRiYWNrIiwgImFwcGx5QnV0dG9uIiwgInRhaWx3aW5kQmFzZU1hcCIsICJ0YWlsd2luZFRva2VuVG9IZXgiLCAidG9rZW4iLCAiaCIsICJzIiwgInNoYWRlTnVtIiwgImZhY3RvciIsICJ0b1JnYiIsICJtaXgiLCAidGFpbHdpbmRIdWVzIiwgInRhaWx3aW5kU2hhZGVzIiwgInRhaWx3aW5kVG9rZW5zIiwgIm5ldXRyYWxUb2tlbnMiLCAiY29sb3JPcHRpb25EZWZpbml0aW9ucyIsICJlbW9qaSIsICJub3JtYWxpemVTZWxlY3RDb2xvciIsICJmaWxsQ29sb3JPcHRpb25zIiwgInNlbGVjdGVkQ29sb3JzIiwgInNlbCIsICJub3JtYWxpemVkVmFsdWUiLCAic2V0VGhlbWVGZWVkYmFjayIsICJzeW5jUHJldmlldyIsICJ0b2tlblRvSGV4IiwgInN0eWxlVGhlbWVDb2xvckNoaXAiLCAidXBkYXRlVGhlbWVDb2xvclByZXZpZXciLCAiaW5pdENvbG9yUHJldmlld3MiLCAibG9hZFRoZW1lIiwgInRoZW1lQ29sb3JzIiwgInNlb0NvbmZpZ0Zvcm0iLCAiaW5kZXhBbGxDaGVja2JveCIsICJzZW9Db25maWdGZWVkYmFjayIsICJsb2FkU2VvQ29uZmlnIiwgImluZGV4QWxsIiwgImN1cnJlbnRSZXMiLCAiY3VycmVudENvbmZpZyIsICJhbmFseXRpY3NGb3JtIiwgImhlYWRUZXh0YXJlYSIsICJib2R5VGV4dGFyZWEiLCAiYW5hbHl0aWNzRmVlZGJhY2siLCAiYW5hbHl0aWNzU2F2ZUJ1dHRvbiIsICJzZXRBbmFseXRpY3NGZWVkYmFjayIsICJsb2FkQW5hbHl0aWNzQ29uZmlnIiwgImFjY2Vzc2liaWxpdHlGb3JtIiwgImFuaW1hdGlvbnNUb2dnbGUiLCAiY29udHJhc3RUb2dnbGUiLCAiYWNjZXNzaWJpbGl0eUZlZWRiYWNrIiwgImFjY2Vzc2liaWxpdHlTYXZlQnV0dG9uIiwgInNldEFjY2Vzc2liaWxpdHlGZWVkYmFjayIsICJsb2FkQWNjZXNzaWJpbGl0eUNvbmZpZyIsICJhaUNvbmZpZ0Zvcm0iLCAiYXBpS2V5SW5wdXQiLCAibW9kZWxTZWxlY3QiLCAicHJvamVjdFByb21wdFRleHRhcmVhIiwgImVuYWJsZWRDaGVja2JveCIsICJhaUZlZWRiYWNrIiwgImFpU2F2ZUJ1dHRvbiIsICJhaUNvbmZpZ0FwaSIsICJzZXRBSUZlZWRiYWNrIiwgImxvYWRBSUNvbmZpZyIsICJhcGlLZXlWYWx1ZSIsICJjb3VudEJhZGdlIiwgImZpbHRlclR5cGUiLCAiZGV0YWlsRW1wdHkiLCAiZGV0YWlsUGFuZWwiLCAiZGV0YWlsUHJldmlldyIsICJkZXRhaWxOYW1lIiwgImRldGFpbFR5cGUiLCAiZGV0YWlsU2l6ZSIsICJkZXRhaWxQYXRoIiwgImRldGFpbFVzZWQiLCAiZGV0YWlsQWx0SW5wdXQiLCAiZGV0YWlsU2F2ZUJ1dHRvbiIsICJkZXRhaWxEZWxldGVCdXR0b24iLCAiZGVsZXRlTW9kYWwiLCAiZGVsZXRlQ2FuY2VsQnV0dG9uIiwgImRlbGV0ZUNvbmZpcm1CdXR0b24iLCAidXBsb2FkT3BlbkJ1dHRvbiIsICJmaWxlSW5wdXQiLCAidXBsb2FkU3RhdHVzIiwgIm1lZGlhQXBpQmFzZSIsICJmaWx0ZXJlZEl0ZW1zIiwgImFjdGl2ZU1lZGlhSWQiLCAiaGlnaGxpZ2h0TWVkaWFJZCIsICJwZW5kaW5nVXBsb2FkRmlsZSIsICJ1cGxvYWRJblByb2dyZXNzIiwgImRldGFpbERpcnR5IiwgInVwbG9hZE1vZGUiLCAidXBsb2FkUHJldmlld1VybCIsICJkZXJpdmVHcm91cFR5cGUiLCAiaXNJbWFnZVR5cGUiLCAiZm9ybWF0VHlwZUxhYmVsIiwgImV4dCIsICJmb3JtYXRGaWxlU2l6ZSIsICJzaXplIiwgInJlc2V0RGV0YWlsUGFuZWwiLCAiY2xlYXJVcGxvYWRTdGF0ZSIsICJ1cGRhdGVEZXRhaWxBY3Rpb25zIiwgInVwZGF0ZUNvdW50QmFkZ2UiLCAic2VsZWN0TWVkaWEiLCAicmVuZGVyVXNlZEluIiwgInNhdmluZyIsICJtZWRpYUlkIiwgInNob3dVcGxvYWRQcmV2aWV3IiwgImFwcGx5RmlsdGVycyIsICJ0eXBlRmlsdGVyIiwgImxvYWRNZWRpYSIsICJoYW5kbGVGaWxlU2VsZWN0aW9uIiwgInJlYWRGaWxlQXNCYXNlNjQiLCAicmVzb2x2ZSIsICJyZWplY3QiLCAicmVhZGVyIiwgImJhc2U2NCIsICJ1cGxvYWRTZWxlY3RlZE1lZGlhIiwgImRlbGV0ZUFjdGl2ZU1lZGlhIiwgImRpc2FibGVCdXR0b25zIiwgImVuYWJsZUJ1dHRvbnMiLCAidXBkYXRlZCIsICJhaUNoYXRUb2dnbGUiLCAiYWlDaGF0UGFuZWwiLCAiYWlDaGF0T3ZlcmxheSIsICJhaUNoYXRDbG9zZSIsICJhaUNoYXRDbGVhciIsICJhaUNoYXRGb3JtIiwgImFpQ2hhdElucHV0IiwgImFpQ2hhdE1lc3NhZ2VzIiwgImFpQ2hhdFN0YXR1cyIsICJhaUNoYXROb0FwaSIsICJhaVF1aWNrQnV0dG9ucyIsICJhaUNoYXRPcGVuIiwgImFpSXNMb2FkaW5nIiwgImFpQ29uZmlnQ2hlY2tlZCIsICJhaUhhc0FwaUtleSIsICJvcGVuQUlDaGF0IiwgImNoZWNrQUlDb25maWciLCAiY2xvc2VBSUNoYXQiLCAic2l0ZVNsdWciLCAibG9hZEFJQ2hhdEhpc3RvcnkiLCAid2VsY29tZU1zZyIsICJhcHBlbmRBSU1lc3NhZ2UiLCAicm9sZSIsICJtc2dEaXYiLCAiZXNjYXBlSHRtbCIsICJmb3JtYXR0ZWRDb250ZW50IiwgImZvcm1hdEFJUmVzcG9uc2UiLCAic2hvd0FJTG9hZGluZyIsICJsb2FkaW5nRGl2IiwgImhpZGVBSUxvYWRpbmciLCAiZm9ybWF0dGVkIiwgImxhbmciLCAiY29kZSIsICJkaXYiLCAic2VuZEFJTWVzc2FnZSIsICJhcHBlbmRFZGl0UHJvcG9zYWwiLCAiYXBwZW5kVGhlbWVQcm9wb3NhbCIsICJwcm9wb3NhbCIsICJwcm9wb3NhbERpdiIsICJjaGFuZ2VzSHRtbCIsICJoYW5kbGVBcHBseUVkaXQiLCAiaGFuZGxlUmVqZWN0RWRpdCIsICJjb2xvcnNIdG1sIiwgImNvbG9ycyIsICJnZXRUYWlsd2luZENvbG9yQ3NzIiwgInR5cG9IdG1sIiwgInR5cG8iLCAiaGFuZGxlQXBwbHlUaGVtZSIsICJjb2xvck5hbWUiLCAicHJvcG9zYWxJZCIsICJwcm9wb3NhbENhcmQiLCAiY2xlYXJBSUhpc3RvcnkiLCAicXVpY2tQcm9tcHRzIiwgInByb21wdCJdCn0K
