(()=>{document.addEventListener("DOMContentLoaded",()=>{console.log("[admin] Atelier charg\xE9");let As=document.querySelector("[data-logout]");As&&As.addEventListener("click",async()=>{As.disabled=!0;try{await fetch("/api/logout",{method:"POST",headers:{"Content-Type":"application/json"}})}catch(a){console.error("[admin] Impossible de se d\xE9connecter",a)}finally{window.location.href="/admin/index.html"}});let _t=document.querySelector("[data-admin-sidebar]"),it=document.querySelector("[data-admin-sidebar-overlay]"),Ys=document.querySelectorAll("[data-admin-sidebar-toggle]"),go=document.querySelectorAll("[data-admin-sidebar-close]"),Ts=document.body,is=!1,ls=()=>{if(!_t)return;if(window.matchMedia("(min-width: 1024px)").matches){_t.classList.remove("hidden"),it==null||it.classList.add("hidden"),Ts.classList.remove("overflow-hidden");return}is?(_t.classList.remove("hidden"),it==null||it.classList.remove("hidden"),Ts.classList.add("overflow-hidden")):(_t.classList.add("hidden"),it==null||it.classList.add("hidden"),Ts.classList.remove("overflow-hidden"))},ho=()=>{is=!0,ls()},Fs=()=>{is=!1,ls()};_t&&Ys.length>0&&(Ys.forEach(a=>{a.addEventListener("click",ho)}),go.forEach(a=>{a.addEventListener("click",Fs)}),it==null||it.addEventListener("click",Fs),window.addEventListener("resize",ls),window.addEventListener("keydown",a=>{a.key==="Escape"&&is&&Fs()}),ls());let Ks="clower:currentSite",Xs="clower:currentSiteName",ee={slug:null,name:""};(()=>{try{ee.slug=window.localStorage.getItem(Ks),ee.name=window.localStorage.getItem(Xs)||""}catch{ee.slug=null,ee.name=""}})();let Is=document.querySelectorAll("[data-site-card]"),yo=document.querySelectorAll("[data-site-select]"),Yt=document.querySelector("[data-current-site-name]"),Zs=document.querySelector("[data-workspace-site-name]"),Qs=document.querySelector("[data-workspace-back-name]"),Et=document.querySelector("[data-workspace-back-modal]"),vo=document.querySelectorAll("[data-workspace-back]"),bo=document.querySelectorAll("[data-workspace-back-cancel]"),$s=document.querySelector("[data-workspace-back-confirm]"),So=document.querySelectorAll("[data-workspace-tab]"),Bs=document.querySelector("[data-site-toast]"),eo=document.querySelector("[data-site-toast-message]"),xo=document.querySelectorAll("[data-site-create]"),_e=document.querySelector("[data-site-modal]"),Ye=document.querySelector("[data-site-form]"),Oe=Ye==null?void 0:Ye.querySelector('input[name="siteName"]'),ve=Ye==null?void 0:Ye.querySelector('input[name="siteSlug"]'),Re=document.querySelector("[data-site-slug-error]"),He=document.querySelector("[data-site-modal-error]"),wo=document.querySelectorAll("[data-site-modal-cancel]"),Ot=document.querySelector("[data-site-modal-submit]"),H=To(),cs=!1,ds=null,js=null,Lo='a[href], button:not([disabled]), textarea, input, select, [tabindex]:not([tabindex="-1"])',to=a=>{if(!_e||_e.classList.contains("hidden")||a.key!=="Tab")return;let h=Array.from(_e.querySelectorAll(Lo)).filter(E=>!E.hasAttribute("disabled")&&!E.getAttribute("aria-hidden"));if(h.length===0)return;let I=h[0],M=h[h.length-1];a.shiftKey?document.activeElement===I&&(a.preventDefault(),M.focus()):document.activeElement===M&&(a.preventDefault(),I.focus())},N=a=>{!Bs||!eo||(eo.textContent=a,Bs.classList.remove("hidden"),js&&clearTimeout(js),js=setTimeout(()=>{Bs.classList.add("hidden")},2500))};function St(a){return a?a.startsWith("/")?a:`/${a}`:""}function st(a){return(a==null?void 0:a.replace(/^\//,""))||""}let us=(a,h)=>{let I=a?St(a):null;try{I&&(window.localStorage.setItem(Ks,I),ee.slug=I),typeof h=="string"&&h.length>0&&(window.localStorage.setItem(Xs,h),ee.name=h)}catch{ee.slug=I||ee.slug,ee.name=h||ee.name}},so=a=>{Yt&&a&&(Yt.textContent=a),Zs&&a&&(Zs.textContent=a),Qs&&a&&(Qs.textContent=a)},Ns=a=>{So.forEach(h=>{let I=h.dataset.workspaceTab;if(!I)return;if(!a){h.href="#",h.classList.add("pointer-events-none","opacity-50","text-slate-400"),h.setAttribute("aria-disabled","true");return}let M=encodeURIComponent(st(a));h.href=`/admin/site/${M}/${I}`,h.classList.remove("pointer-events-none","opacity-50","text-slate-400"),h.removeAttribute("aria-disabled")})},ms=(a,h={})=>{if(!a)return;let I=St(a),M=h.siteName||ee.name||(Yt==null?void 0:Yt.dataset.defaultSiteName)||"";Is.forEach(y=>{let te=St(y.dataset.siteCard||"")===I,z=y.querySelector("[data-site-active-badge]");te?(y.classList.add("border-[#9C6BFF]","ring-2","ring-[#9C6BFF]","shadow-md"),y.classList.remove("border-slate-200"),z==null||z.classList.remove("hidden"),M=y.dataset.siteName||M):(y.classList.remove("border-[#9C6BFF]","ring-2","ring-[#9C6BFF]","shadow-md"),y.classList.add("border-slate-200"),z==null||z.classList.add("hidden"))}),h.persist!==!1&&us(I,h.siteName||M);let E=h.siteName||M;so(E),Ns(I)},Co=async(a,h)=>{let I=St(a);try{let M=await fetch("/api/sites/select",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({slug:I})});if(!M.ok){let z=await M.json().catch(()=>({}));N(z.message||"Impossible de s\xE9lectionner ce site.");return}let E=await M.json().catch(()=>({})),y=St(E.slug||I),K=E.name||h;us(y,K),ms(y,{siteName:K,persist:!1});let te=encodeURIComponent(st(y));window.location.href=`/admin/site/${te}/design`}catch(M){console.error("[admin] Impossible de s\xE9lectionner le site",M),N("Erreur inattendue lors de la s\xE9lection.")}},Eo=async()=>{try{let a=await fetch("/api/sites/current",{credentials:"same-origin"});if(!a.ok){a.status===404&&H&&(window.location.href="/admin/sites");return}let h=await a.json(),I=St(h.slug);us(I,h.name),ms(I,{siteName:h.name,persist:!1})}catch(a){console.warn("[admin] Impossible de r\xE9cup\xE9rer le site actif",a)}};(()=>{if(ee.slug){ms(ee.slug,{siteName:ee.name,persist:!1});return}let a=document.querySelector('[data-site-card][data-site-default="true"]')||Is[0];a&&ms(a.dataset.siteCard,{siteName:a.dataset.siteName||"",persist:!1})})(),Eo(),H?Ns(H.slugValue):ee.slug&&Ns(ee.slug),yo.forEach(a=>{a.addEventListener("click",()=>{if(a.disabled)return;let h=a.dataset.siteSelect,I=a.dataset.siteSelectName||"Ce site";h&&(a.disabled=!0,Co(h,I).finally(()=>{a.disabled=!1}))})});let Bt=a=>(a||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),qo=a=>{let h=Bt(a||"");return h?`/${h}`:""},ko=()=>{_e&&(ds=document.activeElement,_e.classList.remove("hidden"),_e.classList.add("flex"),cs=!1,Ye==null||Ye.reset(),Re&&(Re.textContent=""),He&&(He.textContent=""),ve&&Oe&&(ve.value=Bt(Oe.value)),document.addEventListener("keydown",to),window.setTimeout(()=>{Oe==null||Oe.focus()},0))},ps=()=>{_e&&(_e.classList.add("hidden"),_e.classList.remove("flex"),document.removeEventListener("keydown",to),cs=!1,Ye==null||Ye.reset(),Re&&(Re.textContent=""),He&&(He.textContent=""),ds==null||ds.focus())};xo.forEach(a=>{a.addEventListener("click",ko)}),wo.forEach(a=>{a.addEventListener("click",ps)}),_e==null||_e.addEventListener("click",a=>{a.target===_e&&ps()}),Oe==null||Oe.addEventListener("input",()=>{ve&&((!cs||ve.value.trim().length===0)&&(ve.value=Bt(Oe.value)),Re&&(Re.textContent=""),He&&(He.textContent=""))}),ve==null||ve.addEventListener("focus",()=>{let a=(ve==null?void 0:ve.value)||"",h=(Oe==null?void 0:Oe.value)||"";!a.trim()&&h.trim()&&(ve.value=Bt(h))}),ve==null||ve.addEventListener("input",()=>{cs=!0,Re&&(Re.textContent=""),He&&(He.textContent="")});let Ao=()=>new Set(Array.from(Is).map(a=>St(a.dataset.siteCard||"")));Ye==null||Ye.addEventListener("submit",async a=>{if(a.preventDefault(),console.log("[admin] Form submit - siteNameInput:",Oe,"siteSlugInput:",ve),!Oe||!ve){console.log("[admin] Missing inputs, aborting");return}let h=(Oe.value||"").trim(),I=(ve.value||"").trim();console.log("[admin] nameValue:",h,"slugValue:",I),!I&&h&&(I=Bt(h),ve.value=I,console.log("[admin] Auto-generated slug:",I));let M=qo(I);if(console.log("[admin] normalizedSlug:",M),!h){console.log("[admin] Name validation failed"),He&&(He.textContent="Le nom du site est requis."),Oe.focus();return}if(!M){console.log("[admin] Slug validation failed"),Re&&(Re.textContent="Le slug ne peut pas \xEAtre vide ou contenir uniquement des caract\xE8res sp\xE9ciaux."),ve.focus();return}if(Ao().has(M)){Re&&(Re.textContent="Ce slug est d\xE9j\xE0 utilis\xE9.");return}Re&&(Re.textContent=""),He&&(He.textContent=""),Ot&&(Ot.disabled=!0,Ot.textContent="Cr\xE9ation...");try{let y=await fetch("/api/sites",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:h,slug:M})});if(!y.ok){let k=await y.json().catch(()=>({})),d=k.message||"Impossible de cr\xE9er ce site.";He&&(He.textContent=d),k.field==="slug"&&Re&&(Re.textContent=d);return}let K=await y.json(),te=St((K==null?void 0:K.slug)||M),z=(K==null?void 0:K.name)||h;us(te,z),ps();let q=encodeURIComponent(st(te));window.location.href=`/admin/site/${q}/design`}catch(y){console.error("[admin] Impossible de cr\xE9er le site",y),He&&(He.textContent="Erreur inattendue. R\xE9essaie dans un instant.")}finally{Ot&&(Ot.disabled=!1,Ot.textContent="Cr\xE9er")}}),window.addEventListener("keydown",a=>{a.key==="Escape"&&(_e&&!_e.classList.contains("hidden")&&ps(),Et&&!Et.classList.contains("hidden")&&oo(),blockDeleteModal&&!blockDeleteModal.classList.contains("hidden")&&closeBlockDeleteModal(),blockLibraryOpen&&closeBlockLibrary())});function To(){let a=window.location.pathname.match(/^\/admin\/site\/([^/]+)(?:\/([^/]+))?/);return a?{slugPart:decodeURIComponent(a[1]),slugValue:St(decodeURIComponent(a[1])),section:a[2]||"design"}:null}function Fo(){return document.querySelector("[data-page-list]")?"design":document.querySelector("[data-collection-list]")?"content":document.querySelector("[data-media-grid]")?"media":document.querySelector("[data-deploy-form]")?"deploy":null}function Io(){if(!Et){window.location.href="/admin/sites";return}Et.classList.remove("hidden"),Et.classList.add("flex")}function oo(){Et&&(Et.classList.add("hidden"),Et.classList.remove("flex"))}vo.forEach(a=>{a.addEventListener("click",Io)}),bo.forEach(a=>{a.addEventListener("click",oo)}),$s==null||$s.addEventListener("click",()=>{window.location.href="/admin/sites"});let Kt=(H==null?void 0:H.section)||Fo();Kt==="design"&&$o(),Kt==="content"&&Bo(),Kt==="media"&&Po(),Kt==="deploy"&&jo(),Kt==="settings"&&No(),H&&ee.name&&so(ee.name);function $o(){let a=document.querySelectorAll("[data-page-list]");if(a.length===0)return;let h=document.querySelector("[data-active-page-title]"),I=document.querySelector("[data-active-page-slug]"),M=document.querySelector("[data-page-preview-tags]"),E=document.querySelector("[data-page-preview-frame]"),y=document.querySelector("[data-preview-open]"),K=document.querySelector("[data-preview-status]"),te=document.querySelector("[data-preview-highlight]"),z=document.querySelector("[data-seo-toggle]"),q=document.querySelector("[data-seo-panel]"),k=document.querySelector("[data-seo-close]"),d=document.querySelector("[data-seo-form]"),x=document.querySelector("[data-seo-title]"),T=document.querySelector("[data-seo-description]"),v=document.querySelector("[data-seo-indexed]"),$=document.querySelector("[data-seo-feedback]"),g=document.querySelector("[data-seo-save]"),i=document.querySelector("[data-blocks-list]"),C=document.querySelector("[data-blocks-empty]"),P=document.querySelector("[data-block-count]"),ne=document.querySelector("[data-block-library-toggle]"),W=document.querySelector("[data-block-library]"),Q=document.querySelectorAll("[data-block-add]"),X=document.querySelector("[data-block-delete-modal]"),ae=document.querySelector("[data-block-delete-confirm]"),G=document.querySelector("[data-block-delete-cancel]"),Z=document.querySelector("[data-block-detail-empty]"),ie=document.querySelector("[data-block-detail-status]"),B=document.querySelector("[data-block-editor]"),u=document.querySelector("[data-block-editor-block-name]"),m=document.querySelector("[data-block-editor-block-type]"),F=document.querySelector("[data-block-editor-unsupported]"),p=document.querySelector("[data-block-form]"),fe=p?Array.from(p.querySelectorAll("[data-editor-section]")):[],be=document.querySelectorAll("[data-block-tab]"),we="content",Se=document.querySelector("[data-block-form-actions]"),lt=document.querySelector("[data-block-form-autosave]"),pe=e=>{we=e,be.forEach(s=>{let n=s.dataset.blockTab===e;s.setAttribute("aria-selected",n?"true":"false"),n?(s.classList.add("text-[#9C6BFF]"),s.classList.remove("text-slate-500","hover:text-slate-700"),s.classList.add("after:absolute","after:bottom-0","after:left-0","after:right-0","after:h-0.5","after:bg-[#9C6BFF]")):(s.classList.remove("text-[#9C6BFF]"),s.classList.add("text-slate-500","hover:text-slate-700"),s.classList.remove("after:absolute","after:bottom-0","after:left-0","after:right-0","after:h-0.5","after:bg-[#9C6BFF]"))});let t=p==null?void 0:p.querySelector("[data-editor-section]:not(.hidden)");t&&t.querySelectorAll("[data-block-panel]").forEach(n=>{n.dataset.blockPanel===e?n.classList.remove("hidden"):n.classList.add("hidden")}),Se&&lt&&(e==="content"?(Se.classList.remove("hidden"),lt.classList.add("hidden")):(Se.classList.add("hidden"),lt.classList.remove("hidden")))};be.forEach(e=>{e.addEventListener("click",()=>{pe(e.dataset.blockTab)})});let D=p==null?void 0:p.querySelector('[name="collection-grid-collection"]'),qe=p==null?void 0:p.querySelector("[data-collection-selection-info]"),xe=document.querySelector("[data-block-form-cancel]"),ft=p==null?void 0:p.querySelector("[data-group-preview-mobile]"),xt=p==null?void 0:p.querySelector("[data-group-preview-desktop]"),ke=p==null?void 0:p.querySelector("[data-collection-preview-mobile]"),Ke=p==null?void 0:p.querySelector("[data-collection-preview-desktop]"),se={hero:{section:"hero",labelField:"title",descriptionField:"subtitle",fields:{title:"hero-title",subtitle:"hero-subtitle",ctaLabel:"hero-cta-label",ctaUrl:"hero-cta-url",image:"hero-image",layout:"hero-layout",height:"hero-height",contentAlign:"hero-content-align",overlay:"hero-overlay",titleSize:"hero-title-size",bg:"hero-bg",borderRadius:"hero-border-radius",shadow:"hero-shadow"}},paragraphe:{section:"paragraph",labelField:"title",descriptionField:"content",fields:{title:"paragraph-title",content:"paragraph-content",align:"paragraph-align",titleSize:"paragraph-title-size",textSize:"paragraph-text-size",spacing:"paragraph-spacing",bg:"paragraph-bg",borderRadius:"paragraph-border-radius",shadow:"paragraph-shadow"}},image:{section:"image",labelField:"alt",fields:{src:"image-src",alt:"image-alt",showCaption:"image-caption-toggle",caption:"image-caption",rounded:"image-rounded",shadow:"image-shadow",maxWidth:"image-max-width",align:"image-align",bg:"image-bg",borderRadius:"image-border-radius"}},groupe:{section:"group",fields:{columnsMobile:"group-columns-mobile",columnsDesktop:"group-columns-desktop",gap:"group-gap",itemsAlign:"group-items-align",bg:"group-bg",borderRadius:"group-border-radius",shadow:"group-shadow"}},collectiongrid:{section:"collection",fields:{collectionId:"collection-grid-collection",limit:"collection-grid-limit",columnsMobile:"collection-columns-mobile",columnsDesktop:"collection-columns-desktop",gap:"collection-gap",itemsAlign:"collection-items-align",cardRounded:"collection-card-rounded",bg:"collection-bg",borderRadius:"collection-border-radius",shadow:"collection-shadow"}},form:{section:"form",labelField:"formTitle",fields:{formTitle:"form-title",actionUrl:"form-action-url",method:"form-method",serviceName:"form-service-name",submitLabel:"form-submit-label",successMessage:"form-success-message",maxWidth:"form-max-width",align:"form-align",buttonRounded:"form-button-rounded",spacing:"form-spacing",bg:"form-bg",borderRadius:"form-border-radius",shadow:"form-shadow"}},newsletterembed:{section:"newsletter",labelField:"title",fields:{title:"newsletter-title",serviceName:"newsletter-service-name",embedCode:"newsletter-embed-code",maxWidth:"newsletter-max-width",align:"newsletter-align",padding:"newsletter-padding",bg:"newsletter-bg",borderRadius:"newsletter-border-radius",shadow:"newsletter-shadow"}}},O={texte:"paragraphe",paragraph:"paragraphe",paragraphs:"paragraphe",paragraphes:"paragraphe",text:"paragraphe",hero:"hero",image:"image",groupe:"groupe",group:"groupe",collection:"collectiongrid",collectiongrid:"collectiongrid","collection-grid":"collectiongrid",form:"form",formulaire:"form",contact:"form",newsletterembed:"newsletterembed",newsletter:"newsletterembed",embed:"newsletterembed"},ot=(e,t)=>{if(!ft||!xt)return;let s=n=>Array.from({length:Number(n)||1}).map(()=>'<span class="block h-2 w-full rounded-full bg-slate-300"></span>').join("");ft.innerHTML=s(e),xt.innerHTML=s(t)},Le=(e,t)=>{if(!ke||!Ke)return;let s=n=>Array.from({length:Number(n)||1}).map(()=>'<span class="block h-2 w-full rounded-full bg-violet-300"></span>').join("");ke.innerHTML=s(e),Ke.innerHTML=s(t)},Xe=async()=>{if(!$e)return[];let e=await fetch($e,{headers:{Accept:"application/json"}});if(!e.ok)throw new Error("Impossible de charger les pages.");let t=await e.json().catch(()=>[]);return Array.isArray(t)?t:[]},qt=async({title:e,slug:t})=>{if(!$e)throw new Error("Site inconnu.");let s=await fetch($e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e,slug:t})});if(!s.ok){let n=await s.json().catch(()=>({}));throw new Error(n.message||"Impossible de cr\xE9er la page.")}return s.json().catch(()=>({}))},l=async e=>{if(!(!$e||!(e!=null&&e.id)))try{let t=await fetch(`${$e}/${encodeURIComponent(e.id)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){let n=await t.json().catch(()=>({}));throw new Error(n.message||"Impossible de sauvegarder la page.")}let s=await t.json().catch(()=>({}));if(s!=null&&s.id){let n=rs(s);return ue=ue.map(c=>c.id===n.id?n:c),(S==null?void 0:S.id)===n.id&&(S=n),n}return s}catch(t){console.error("[design] Save page failed",t),N(t.message||"Sauvegarde impossible.")}},b=async()=>{if(!$e){ue=[],Ze=null,S=null,Vt(ue,Ze),zt(null),Z==null||Z.classList.remove("hidden"),B==null||B.classList.add("hidden");return}try{let e=await Xe();if(ue=(Array.isArray(e)?e:[]).map(t=>rs(t)),ue.length===0){Ze=null,S=null,Vt(ue,Ze),zt(null),Z==null||Z.classList.remove("hidden"),B==null||B.classList.add("hidden"),E&&(E.srcdoc=he());return}Ze=ts(ue),pt(Ze)}catch(e){console.error("[design] Impossible de charger les pages",e),N("Impossible de charger les pages.")}},_=e=>(e||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),J=e=>{if(!e)return null;let t=_(e.type),s=O[t]||t;return se[s]||null},wt=e=>{var s,n,c,w,U;if(!p||!B)return;e&&!e.settings&&(e.settings={});let t=J(e);if(u&&(u.textContent=(e==null?void 0:e.label)||"Bloc"),m&&(m.textContent=(e==null?void 0:e.type)||"Bloc"),!t){p.classList.add("hidden"),F==null||F.classList.remove("hidden"),p.dataset.blockId="";return}if(F==null||F.classList.add("hidden"),p.classList.remove("hidden"),p.reset(),p.dataset.blockId=e.id,fe.forEach(R=>{R.dataset.editorSection===t.section?R.classList.remove("hidden"):R.classList.add("hidden")}),pe("content"),t.section==="collection"){let R=e.collectionId||((s=e.settings)==null?void 0:s.collectionId)||"";qs(R)}if(Object.entries(t.fields).forEach(([R,le])=>{var Ct;let Be=p.querySelector(`[name="${le}"]`);if(!Be)return;let Ue=(Ct=e.settings)==null?void 0:Ct[R];Be.type==="checkbox"?Be.checked=!!Ue:Be.type==="number"?Be.value=Ue!=null?Ue:1:(Be.tagName,Be.value=Ue!=null?Ue:"")}),t.section==="group"){let R=((n=p.querySelector('[name="group-columns-mobile"]'))==null?void 0:n.value)||"1",le=((c=p.querySelector('[name="group-columns-desktop"]'))==null?void 0:c.value)||"3";ot(R,le)}if(t.section==="collection"){let R=((w=p.querySelector('[name="collection-columns-mobile"]'))==null?void 0:w.value)||"1",le=((U=p.querySelector('[name="collection-columns-desktop"]'))==null?void 0:U.value)||"3";Le(R,le)}},Ae=e=>{if(!p||!e)return{};let t={};return Object.entries(e.fields).forEach(([s,n])=>{let c=p.querySelector(`[name="${n}"]`);if(c)if(c.type==="checkbox")t[s]=c.checked;else if(c.type==="number"){let w=Number(c.value);t[s]=Number.isFinite(w)?w:0}else c.tagName==="TEXTAREA"?t[s]=c.value||"":c.type==="select-one"?t[s]=c.value:t[s]=c.value||""}),t},ze=e=>{if(K){if(!e){K.classList.add("hidden");return}K.classList.remove("hidden"),K.textContent=e}},Te=e=>e?{id:e.id,title:e.title,slug:e.slug,badges:[...e.badges||[]],blocks:(e.blocks||[]).map(t=>{var s;return{id:t.id,type:t.type,label:t.label,status:t.status,description:t.description,props:t.props||[],settings:t.settings||{},collectionId:t.collectionId||((s=t.settings)==null?void 0:s.collectionId)||""}})}:null,he=()=>'<!DOCTYPE html><html><body style="font-family:Inter,sans-serif;padding:40px;color:#475569;background:#fff;">Pr\xE9paration de la pr\xE9visualisation\u2026</body></html>',Ce=(e,t)=>{let s;return(...n)=>{clearTimeout(s),s=setTimeout(()=>e(...n),t)}},ct=null,jt=()=>{if(!S||!Je)return;let e=Jt(),t=J(e);if(!e||!t)return;let s=Ae(t),n=(S.blocks||[]).map(w=>{if(w.id!==e.id)return w;let U={...w.settings||{},...s};return{...w,settings:U}}),c={...S,blocks:n};S=c,l(c)},kt=(e,t)=>{!E||!E.contentWindow||E.contentWindow.postMessage({type:"updateBlockStyles",blockId:e,settings:t},"*")},Xt=Ce(()=>{jt(),ze("Sauvegard\xE9"),setTimeout(()=>ze("\xC0 jour"),1500)},800),Ps=Ce(()=>{S&&Pt(S)},1500),Nt=(e,t)=>{kt(e,t),ze("Modification\u2026"),Xt(),Ps()},Pt=e=>{if(!E||!e)return;let t=(H==null?void 0:H.slugValue)||ee.slug||"",s={page:Te(e),site:{title:ee.name||"Site",slug:t}};Vs=!1,ze("Actualisation\u2026"),E.srcdoc=he(),ns&&ns.abort();let n=new AbortController;ns=n,fetch("/api/preview",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s),signal:n.signal}).then(c=>{if(!c.ok)throw new Error("Preview error");return c.json()}).then(c=>{n.signal.aborted||(zs=c.html||"",E.setAttribute("title",`Pr\xE9visualisation de la page ${e.title||""}`.trim()),E.srcdoc=zs||he(),ze("\xC0 jour"))}).catch(c=>{n.signal.aborted||(console.error("[preview] Impossible de rendre la page",c),ze("Erreur preview"),E.srcdoc='<!DOCTYPE html><html><body style="font-family:Inter,sans-serif;padding:40px;color:#be123c;background:#fff;">Erreur lors du rendu de la pr\xE9visualisation.</body></html>')}).finally(()=>{ns===n&&(ns=null)})},Mt=e=>{if(e.preventDefault(),!S||!Je)return;let t=Jt(),s=J(t);if(!t||!s)return;let n=Ae(s);if(s.section==="collection"){if(!n.collectionId){N("S\xE9lectionnez une collection.");return}n.limit=Math.max(1,Number(n.limit)||1)}let c=(S.blocks||[]).map(w=>{if(w.id!==t.id)return w;let U={...w.settings||{},...n},R={...w,settings:U};return s.labelField&&n[s.labelField]&&(R.label=n[s.labelField]),s.descriptionField&&n[s.descriptionField]&&(R.description=n[s.descriptionField]),s.section==="collection"&&(R.collectionId=n.collectionId,R.settings.collectionId=n.collectionId,R.settings.limit=n.limit),R});Wt(c),N("Bloc mis \xE0 jour"),pt(S.id,{preserveBlock:!0})},gt=document.querySelector("[data-page-drawer]"),je=document.querySelector("[data-page-drawer-backdrop]"),Zt=document.querySelectorAll("[data-page-drawer-open]"),fs=document.querySelectorAll("[data-page-drawer-close]"),Fe=document.querySelector("[data-add-page-toggle]"),nt=document.querySelector("[data-add-page-form]"),et=document.querySelector("[data-add-page-title]"),dt=document.querySelector("[data-add-page-slug]"),Qt=document.querySelector("[data-add-page-cancel]"),Ne=document.querySelector("[data-add-page-error]"),At=nt==null?void 0:nt.querySelector('[type="submit"]'),Rt=document.querySelector("[data-import-pages-toggle]"),ut=document.querySelector("[data-import-modal]"),Ms=document.querySelectorAll("[data-import-modal-close]"),tt=document.querySelector("[data-import-dropzone]"),es=document.querySelector("[data-import-file-input]"),Tt=document.querySelector("[data-import-file-list]"),gs=document.querySelector("[data-import-file-names]"),Pe=document.querySelector("[data-import-results]"),Me=document.querySelector("[data-import-results-content]"),Ve=document.querySelector("[data-import-submit]"),o=document.querySelectorAll("[data-import-tab]"),r=document.querySelectorAll("[data-import-panel]"),f=document.querySelector("[data-copy-template]"),L=document.querySelector("[data-template-json]"),j=document.querySelector("[data-import-paste-json]"),re=document.querySelector("[data-format-json]"),V=document.querySelector("[data-import-paste-error]"),Y=[],ce="upload",de=document.querySelector("[data-delete-page-modal]"),De=document.querySelector("[data-delete-page-name]"),Ie=document.querySelector("[data-delete-page-cancel]"),me=document.querySelector("[data-delete-page-confirm]"),ge=null,ht=st((H==null?void 0:H.slugValue)||ee.slug||"default")||"default",yt=(H==null?void 0:H.slugValue)||ee.slug||"",rt=st(yt)||"",$e=rt?`/api/sites/${encodeURIComponent(rt)}/pages`:null,Ft=rt?`/api/sites/${encodeURIComponent(rt)}/collections`:null,It={active:`clower:activePage:${ht}`},Lt=(e,t,s,n,c,w=[],U={})=>{let R={id:e,label:t,type:s,status:n,description:c,props:w,settings:{...U}};return R.settings.collectionId&&(R.collectionId=R.settings.collectionId),R},hs={hero:{type:"Hero",label:"Hero de page",description:"Section pleine largeur avec CTA principal.",status:"Brouillon",props:[{label:"CTA",value:"D\xE9couvrir"},{label:"Hauteur",value:"80vh"}],settings:{title:"Titre du hero",subtitle:"",ctaLabel:"D\xE9couvrir",ctaUrl:"#",image:"",align:"center"}},paragraph:{type:"Paragraphe",label:"Bloc \xE9ditorial",description:"Paragraphe libre pour raconter votre histoire.",status:"Brouillon",props:[{label:"Longueur",value:"150 mots"}],settings:{title:"Titre du paragraphe",content:"",align:"left"}},image:{type:"Image",label:"Bloc image",description:"Visuel seul avec l\xE9gende optionnelle.",status:"Brouillon",props:[{label:"Ratio",value:"16:9"},{label:"L\xE9gende",value:"Inactive"}],settings:{src:"",alt:"",showCaption:!1,caption:""}},group:{type:"Groupe",label:"Groupe de sections",description:"Conteneur pour imbriquer plusieurs sous-blocs.",status:"Brouillon",props:[{label:"Disposition",value:"Verticale"}],settings:{layout:"grid",columnsMobile:"1",columnsDesktop:"3"}},collectiongrid:{type:"CollectionGrid",label:"Grille de contenus",description:"Affiche automatiquement les items d\u2019une collection.",status:"Brouillon",settings:{collectionId:"",limit:6}},form:{type:"Form",label:"Formulaire de contact",description:"Formulaire avec envoi vers un service externe.",status:"Brouillon",settings:{formTitle:"Contactez-nous",actionUrl:"",method:"POST",serviceName:"",submitLabel:"Envoyer",successMessage:"Merci pour votre message !"}},newsletterembed:{type:"NewsletterEmbed",label:"Newsletter / Embed",description:"Int\xE9gration d'un formulaire newsletter externe (Brevo, Mailchimp\u2026).",status:"Brouillon",settings:{title:"Restez inform\xE9",serviceName:"",embedCode:""}}},ys=e=>{try{window.localStorage.setItem(It.active,e)}catch{}},ts=e=>{var t;try{let s=window.localStorage.getItem(It.active);if(s&&e.some(n=>n.id===s))return s}catch{}return((t=e[0])==null?void 0:t.id)||null},vs=e=>!e||e<=0?"0 bloc":e===1?"1 bloc":`${e} blocs`,ss=e=>{if(!e||e==="/")return"/";let t=Bt(e.replace(/^\//,""));return t?`/${t}`:"/"},Ht=(e="page",t="block")=>`${e}-${t}-${Date.now().toString(36)}-${Math.floor(Math.random()*1e3)}`,Ds=(e,t)=>[Lt(Ht(e,"intro"),"Introduction","Paragraphe","Brouillon",`Paragraphe introductif pour "${t}".`,[{label:"Longueur",value:"2 paragraphes"}],{title:`Introduction \xE0 ${t}`,content:"Ajoutez votre premier paragraphe de pr\xE9sentation.",align:"left"}),Lt(Ht(e,"content"),"Zone de contenu","Groupe","Brouillon","Section principale \xE0 composer avec textes et visuels.",[{label:"Colonnes",value:"Auto"}],{layout:"grid",columnsMobile:"1",columnsDesktop:"2"})],bs=e=>{h&&(h.textContent=(e==null?void 0:e.title)||"Page"),I&&(I.textContent=(e==null?void 0:e.slug)||"/")},Ss=e=>{if(!M)return;M.innerHTML="",(e&&e.badges&&e.badges.length>0?e.badges:["Structure en cours"]).forEach(s=>{let n=document.createElement("span");n.className="rounded-full bg-slate-100 px-3 py-1",n.textContent=s,M.appendChild(n)})},xs=e=>{switch((e||"").toLowerCase()){case"en ligne":return"bg-emerald-50 text-emerald-700";case"brouillon":return"bg-amber-50 text-amber-700";default:return"bg-slate-100 text-slate-600"}},Dt=e=>{if(!(!Z||!B)){if(!e){Z.classList.remove("hidden"),B.classList.add("hidden"),F==null||F.classList.add("hidden"),p==null||p.classList.add("hidden"),ie==null||ie.classList.add("hidden");return}Z.classList.add("hidden"),B.classList.remove("hidden"),ie&&(e.status?(ie.textContent=e.status,ie.className=`rounded-full px-3 py-1 text-xs font-semibold ${xs(e.status)}`,ie.classList.remove("hidden")):ie.classList.add("hidden")),wt(e)}},$t=e=>{if(!E)return;let t=E.contentDocument;if(!t)return;t.querySelectorAll("[data-preview-block]").forEach(n=>{n.dataset.previewBlock===e?(n.classList.add("preview-block-active"),Vs&&e&&n.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})):n.classList.remove("preview-block-active")}),te&&(te.style.borderColor=e?"rgba(156, 107, 255, 0.5)":"transparent")},zt=e=>{if(!i)return;i.innerHTML="";let t=(e==null?void 0:e.blocks)||[];if(P&&(P.textContent=vs(t.length)),t.length===0){i.classList.add("hidden"),C==null||C.classList.remove("hidden");return}i.classList.remove("hidden"),C==null||C.classList.add("hidden"),t.forEach(s=>{var Ge;let n=s.id===Je,c=document.createElement("div");c.dataset.blockItem="true",c.dataset.blockId=s.id,c.setAttribute("role","option"),c.setAttribute("aria-selected",n?"true":"false"),c.setAttribute("draggable","true"),c.tabIndex=0,c.className=["relative flex items-center gap-3 rounded-2xl border px-3 py-2 text-left transition group",n?"bg-slate-100 border-[#9C6BFF]/40 shadow-sm":"border-slate-200 hover:border-[#9C6BFF]/40"].join(" ");let w=document.createElement("span");w.className=`absolute inset-y-2 left-0 w-1 rounded-full bg-[#9C6BFF] ${n?"":"hidden"}`,c.appendChild(w);let U=document.createElement("div");U.className="flex flex-1 items-center gap-3";let R=document.createElement("div");R.className="hidden lg:flex cursor-grab active:cursor-grabbing flex-shrink-0 items-center text-lg text-slate-400 hover:text-slate-600 transition-colors select-none",R.innerHTML="\u22EE\u22EE",R.setAttribute("title","Glisser pour r\xE9ordonner"),U.appendChild(R);let le=document.createElement("div");le.className="flex-1";let Be=document.createElement("div");Be.className="flex items-center gap-2 text-[11px] uppercase tracking-wide text-slate-500";let Ue=document.createElement("span");Ue.className="rounded-full bg-slate-100 px-2 py-0.5 text-[10px] font-semibold text-slate-600",Ue.textContent=s.type;let Ct=document.createElement("span");Ct.className="text-slate-400",Ct.textContent=s.status,Be.appendChild(Ue),Be.appendChild(Ct);let Gt=document.createElement("p");Gt.className="mt-1 text-sm font-semibold text-slate-900";let Ee=s.settings&&s.settings.title||s.label||"Bloc sans titre";if(Gt.textContent=Ee,le.appendChild(Be),le.appendChild(Gt),(s.type||"").toLowerCase()==="collectiongrid"&&s.collectionId){let mt=((Ge=vt.find(nn=>nn.id===s.collectionId))==null?void 0:Ge.name)||s.collectionId,_s=document.createElement("p");_s.className="text-xs text-slate-400",_s.textContent=`Collection : ${mt}`,le.appendChild(_s)}U.appendChild(le),c.appendChild(U);let We=document.createElement("div");We.className="flex flex-col gap-1 text-xs text-slate-400";let ye=document.createElement("div");ye.className="flex items-center gap-1 lg:hidden";let oe=document.createElement("button");oe.type="button",oe.className="rounded-lg border border-slate-200 px-2 py-1 text-[11px] font-semibold text-slate-500",oe.textContent="\u2191",oe.addEventListener("click",mt=>{mt.stopPropagation(),no(s.id,-1)});let Qe=document.createElement("button");Qe.type="button",Qe.className="rounded-lg border border-slate-200 px-2 py-1 text-[11px] font-semibold text-slate-500",Qe.textContent="\u2193",Qe.addEventListener("click",mt=>{mt.stopPropagation(),no(s.id,1)}),ye.appendChild(oe),ye.appendChild(Qe),We.appendChild(ye);let at=document.createElement("button");at.type="button",at.className="inline-flex items-center justify-center rounded-lg border border-transparent px-2 py-1 text-[12px] text-rose-500 hover:text-rose-700",at.innerHTML="\u{1F5D1}\uFE0F",at.addEventListener("click",mt=>{mt.stopPropagation(),zo(s.id)}),We.appendChild(at),c.appendChild(We),c.addEventListener("click",()=>{Ut(s.id)}),c.addEventListener("keydown",mt=>{(mt.key==="Enter"||mt.key===" ")&&(mt.preventDefault(),Ut(s.id))}),i.appendChild(c)})},Mo=e=>{!de||!e||(ge=e,De&&(De.textContent=e.title||e.id),de.classList.remove("hidden"),de.classList.add("flex"))},Us=()=>{de&&(de.classList.add("hidden"),de.classList.remove("flex"),ge=null)},Do=async()=>{if(!$e||!ge)return;let e=ge.id,t=ge.title||e;me&&(me.disabled=!0,me.textContent="Suppression...");try{let s=await fetch(`${$e}/${encodeURIComponent(e)}`,{method:"DELETE",credentials:"include"}),n=await s.json();if(!s.ok)throw new Error(n.message||"Erreur serveur");ue=ue.filter(c=>c.id!==e),Ze===e?ue.length>0?pt(ue[0].id):(Ze=null,S=null,Vt(ue,null),zt(null),Z==null||Z.classList.remove("hidden"),B==null||B.classList.add("hidden"),E&&(E.srcdoc=he())):Vt(ue,Ze),Us(),N(`Page "${t}" supprim\xE9e`)}catch(s){console.error("[pages] delete failed",s),N(s.message||"Erreur suppression")}finally{me&&(me.disabled=!1,me.textContent="Supprimer")}},Vt=(e,t)=>{a.forEach(s=>{s.innerHTML="",e.forEach(n=>{let c=document.createElement("li");c.className="flex items-center gap-1";let w=document.createElement("button");w.type="button",w.dataset.pageId=n.id,w.className=["flex-1 flex items-center gap-3 px-3 py-2 text-left transition",t===n.id?"bg-[#9C6BFF]/10 text-slate-900 border border-[#9C6BFF]/40 rounded-xl shadow-sm":"text-slate-700 hover:bg-slate-50 rounded-xl"].join(" "),t===n.id?w.setAttribute("aria-current","page"):w.removeAttribute("aria-current"),w.innerHTML=`
            <span class="flex h-9 w-9 items-center justify-center rounded-xl border border-slate-200 bg-white text-slate-500">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                <path d="M6.5 4.5h7l4 4v11a1 1 0 0 1-1 1h-10a1 1 0 0 1-1-1v-14a1 1 0 0 1 1-1Z" stroke="currentColor" stroke-width="1.4" stroke-linejoin="round"/>
                <path d="M13.5 4.5v4a1 1 0 0 0 1 1h3" stroke="currentColor" stroke-width="1.4"/>
              </svg>
            </span>
            <div class="flex flex-col">
              <span class="text-sm font-semibold">${n.title}</span>
              <span class="text-xs text-slate-500">${n.slug}</span>
            </div>
          `,w.addEventListener("click",()=>{pt(n.id),Rs()||Hs()}),c.appendChild(w);let U=document.createElement("button");U.type="button",U.className="flex-shrink-0 p-2 text-slate-400 hover:text-rose-600 hover:bg-rose-50 rounded-lg transition",U.title="Supprimer cette page",U.setAttribute("aria-label",`Supprimer ${n.title}`),U.innerHTML=`
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M3 6h18M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2m3 0v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6h14ZM10 11v6M14 11v6"/>
            </svg>
          `,U.addEventListener("click",R=>{R.stopPropagation(),Mo(n)}),c.appendChild(U),s.appendChild(c)})})},Jt=()=>!S||!Array.isArray(S.blocks)?null:S.blocks.find(e=>e.id===Je)||null,Ut=e=>{if(!S)return;if(!e){Je=null,zt(S),Dt(null),$t(null);return}let t=S.blocks.find(s=>s.id===e)||S.blocks[0]||null;Je=(t==null?void 0:t.id)||null,zt(S),Dt(t),$t(Je)},Wt=e=>{if(!S)return;let t={...S,blocks:e};Vo(t)},ws=()=>window.matchMedia("(min-width: 1024px)").matches;function no(e,t){if(!S||!e||!t)return;let s=[...S.blocks||[]],n=s.findIndex(U=>U.id===e);if(n<0)return;let c=n+t;if(c<0||c>=s.length)return;let[w]=s.splice(n,1);s.splice(c,0,w),Wt(s),pt(S.id,{preserveBlock:!0}),Ut(w.id)}function ln(e,t){if(!S||!e||!t||e===t)return;let s=[...S.blocks||[]],n=s.findIndex(U=>U.id===e),c=s.findIndex(U=>U.id===t);if(n<0||c<0)return;let[w]=s.splice(n,1);s.splice(c,0,w),Wt(s),pt(S.id,{preserveBlock:!0}),Ut(w.id)}function Uo(e,t,s){if(!S||!e||!t||e===t)return;let n=[...S.blocks||[]],c=n.findIndex(le=>le.id===e),w=n.findIndex(le=>le.id===t);if(c<0||w<0)return;let[U]=n.splice(c,1);c<w&&w--;let R=s==="before"?w:w+1;n.splice(R,0,U),Wt(n),pt(S.id,{preserveBlock:!0}),Ut(U.id)}function ro(){if(!i)return;let e=ws();i.querySelectorAll("[data-block-item]").forEach(t=>{t.setAttribute("draggable",e?"true":"false")})}function Ls(){W&&(W.classList.add("hidden"),os=!1)}function Oo(){W&&(W.classList.remove("hidden"),os=!0)}function Ro(){os?Ls():Oo()}function Ho(e){var w;if(!S||!e)return;let t=hs[e];if(!t)return;let s=(S.blocks||[]).filter(U=>U.type===t.type).length+1,n=Lt(Ht(S.id,e),`${t.label} ${s}`,t.type,t.status,t.description,t.props,t.settings||{});if((t.type||"").toLowerCase()==="collectiongrid"){let U=((w=vt[0])==null?void 0:w.id)||"";n.collectionId=U,n.settings.collectionId=U,n.settings.limit=n.settings.limit||6}let c=[...S.blocks||[],n];Wt(c),pt(S.id,{preserveBlock:!0}),Ut(n.id),Ls(),N("Bloc ajout\xE9")}function ao(e){var n,c;if(!S)return;let t=(S.blocks||[]).filter(w=>w.id!==e),s=e===Je?((n=t[0])==null?void 0:n.id)||null:Je||((c=t[0])==null?void 0:c.id)||null;Wt(t),Je=s,pt(S.id,{preserveBlock:!0}),Je?Ut(Je):(Dt(null),$t(null)),N("Bloc supprim\xE9")}function Os(){X&&(X.classList.add("hidden"),X.classList.remove("flex"),Es=null)}function zo(e){if(!X){ao(e);return}Es=e,X.classList.remove("hidden"),X.classList.add("flex")}let Vo=e=>{if(!e)return;let t=rs(e);ue=ue.map(s=>s.id===t.id?t:s),S=t,l(t)},pt=(e,t={})=>{var c,w;let s=ue.find(U=>U.id===e)||ue[0]||null;S=s?rs(s):null,Ze=(s==null?void 0:s.id)||null,(!t.preserveBlock||!S||!S.blocks.some(U=>U.id===Je))&&(Je=((w=(c=S==null?void 0:S.blocks)==null?void 0:c[0])==null?void 0:w.id)||null),Ze&&ys(Ze),Vt(ue,Ze),bs(S),Ss(S),Pt(S),zt(S),Dt(Jt()),$t(Je),ro(),os&&Ls()},Rs=()=>window.matchMedia("(min-width: 1024px)").matches,io=()=>{gt&&(Rs()?(gt.classList.add("is-open"),je==null||je.classList.add("hidden"),document.body.classList.remove("overflow-hidden")):gt.classList.remove("is-open"))},Jo=()=>{!gt||Rs()||(gt.classList.add("is-open"),je==null||je.classList.remove("hidden"),document.body.classList.add("overflow-hidden"))},Hs=()=>{gt&&(gt.classList.remove("is-open"),je==null||je.classList.add("hidden"),document.body.classList.remove("overflow-hidden"))},Wo=()=>{!nt||!Fe||(nt.classList.remove("hidden"),Fe.classList.add("hidden"),Ne&&(Ne.textContent=""),Cs=!1,et&&(et.value="",et.focus()),dt&&(dt.value=""))},lo=()=>{!nt||!Fe||(nt.classList.add("hidden"),Fe.classList.remove("hidden"),Ne&&(Ne.textContent=""),Cs=!1,nt.reset())},Go=()=>{!et||!dt||Cs&&dt.value.trim().length>0||(dt.value=ss(et.value))},ue=[],Ze=null,Cs=!1,S=null,Je=null,os=!1,Es=null,zs="",Vs=!1,ns=null,vt=[],_o=e=>{let t={...e,props:Array.isArray(e.props)?e.props:[],settings:{...e.settings||{}}};return(t.type||"").toLowerCase()==="collectiongrid"&&(t.collectionId=t.collectionId||t.settings.collectionId||"",t.settings.collectionId=t.collectionId,t.settings.limit=t.settings.limit||6),t},rs=e=>{var t,s;return{...e,blocks:(e.blocks||[]).map(n=>_o(n)),seo:{title:(((t=e.seo)==null?void 0:t.title)||"").trim(),description:(((s=e.seo)==null?void 0:s.description)||"").trim()}}},Yo=async()=>{if(!Ft){vt=[],qs();return}try{let e=await fetch(Ft,{headers:{Accept:"application/json"}});if(!e.ok)throw new Error("Impossible de charger les collections.");let t=await e.json().catch(()=>[]);vt=Array.isArray(t)?t:[];let s=(D==null?void 0:D.value)||"";qs(s)}catch(e){console.error("[design] collections load",e),N("Collections indisponibles."),vt=[],qs()}},Js=e=>{if(!qe)return;if(!e){qe.textContent=vt.length?"S\xE9lectionnez une collection pour afficher ses informations.":"Aucune collection disponible. Ajoutez-en depuis l\u2019onglet Contenus.";return}let t=vt.find(n=>n.id===e);if(!t){qe.textContent=`Collection ${e}`;return}let s=[];t.description&&s.push(t.description),t.type&&s.push(`Type\xA0: ${t.type}`),qe.textContent=s.join(" \xB7 ")||`Collection ${t.name||t.id}`},qs=(e="")=>{if(D){if(D.innerHTML="",!vt.length){D.disabled=!0;let t=document.createElement("option");t.value="",t.textContent="Aucune collection disponible",D.appendChild(t),Js("");return}if(D.disabled=!1,e&&!vt.some(t=>t.id===e)){let t=document.createElement("option");t.value=e,t.textContent=e,D.appendChild(t)}vt.forEach(t=>{let s=document.createElement("option");s.value=t.id;let n=t.name||t.id;s.textContent=t.type?`${n} \xB7 ${t.type}`:n,s.dataset.description=t.description||"",D.appendChild(s)}),e&&(D.value=e),Js(D.value||"")}};Yo(),io(),Zt.forEach(e=>{e.addEventListener("click",Jo)}),fs.forEach(e=>{e.addEventListener("click",Hs)}),je==null||je.addEventListener("click",Hs),window.addEventListener("resize",()=>{io(),ro()}),Fe==null||Fe.addEventListener("click",Wo),Qt==null||Qt.addEventListener("click",lo),et==null||et.addEventListener("input",Go),dt==null||dt.addEventListener("input",()=>{Ne&&(Ne.textContent=""),Cs=!0}),nt==null||nt.addEventListener("submit",async e=>{if(e.preventDefault(),!$e){Ne&&(Ne.textContent="Aucun site s\xE9lectionn\xE9.");return}if(!et||!dt)return;let t=et.value.trim(),s=ss(dt.value.trim()||t);if(!t||!s){Ne&&(Ne.textContent="Titre et slug sont requis.");return}Ne&&(Ne.textContent=""),At&&(At.disabled=!0,At.textContent="Cr\xE9ation...");try{let n=await qt({title:t,slug:s});if(!n||!n.id)throw new Error("R\xE9ponse invalide.");ue=[...ue,rs(n)],lo(),N("Page cr\xE9\xE9e"),pt(n.id)}catch(n){console.error("[design] create page failed",n),Ne&&(Ne.textContent=n.message||"Impossible de cr\xE9er la page.")}finally{At&&(At.disabled=!1,At.textContent="Cr\xE9er")}});let Ws=()=>{j&&(j.value=""),V&&(V.classList.add("hidden"),V.textContent="")},co=()=>{if(!j)return null;let e=j.value.trim();if(!e)return V&&V.classList.add("hidden"),null;try{let t=JSON.parse(e);return V&&V.classList.add("hidden"),t}catch(t){return V&&(V.classList.remove("hidden"),V.textContent=`\u274C JSON invalide : ${t.message}`),null}},Ko=()=>{if(!j)return;let e=j.value.trim();if(e)try{let t=JSON.parse(e);j.value=JSON.stringify(t,null,2),co()}catch{}},as=()=>{if(Ve)if(ce==="upload")Ve.disabled=Y.length===0;else if(ce==="paste"){let e=co();Ve.disabled=!e}else Ve.disabled=!0},Xo=()=>{ut&&(ut.classList.remove("hidden"),ut.classList.add("flex"),Y=[],ce="upload",Gs(),Ws(),Pe&&Pe.classList.add("hidden"),Me&&(Me.innerHTML=""),as(),o.forEach(e=>{e.dataset.importTab==="upload"?(e.classList.add("bg-[#9C6BFF]","text-white"),e.classList.remove("border","border-slate-200","text-slate-700")):(e.classList.remove("bg-[#9C6BFF]","text-white"),e.classList.add("border","border-slate-200","text-slate-700"))}),r.forEach(e=>{e.dataset.importPanel==="upload"?e.classList.remove("hidden"):e.classList.add("hidden")}))},uo=()=>{ut&&(ut.classList.add("hidden"),ut.classList.remove("flex"),Y=[],Ws())},Gs=()=>{if(!(!Tt||!gs)){if(Y.length===0){Tt.classList.add("hidden"),as();return}Tt.classList.remove("hidden"),gs.innerHTML=Y.map(e=>`<li class="flex items-center gap-2"><span class="text-lg">\u{1F4C4}</span>${e.name}</li>`).join(""),as()}},mo=e=>{let t=Array.from(e).filter(s=>s.type==="application/json"||s.name.endsWith(".json"));if(t.length===0){N("Aucun fichier JSON valide.");return}Y=t,Gs()},Zo=async()=>{var s,n,c,w,U,R,le,Be,Ue,Ct,Gt;if(!$e)return;let e=[];if(console.log("[import] activeImportTab:",ce),ce==="paste"){let Ee=(s=j==null?void 0:j.value)==null?void 0:s.trim();if(console.log("[import] paste text length:",Ee==null?void 0:Ee.length),!Ee){N("Aucun JSON \xE0 importer."),Pe&&Me&&(Pe.classList.remove("hidden"),Me.innerHTML='<p class="text-amber-600">\u26A0 Le champ de texte est vide.</p>');return}try{let A=JSON.parse(Ee);console.log("[import] parsed JSON:",A),console.log("[import] parsed type:",typeof A,Array.isArray(A)?"array":"not array"),A&&!Array.isArray(A)&&A.pages?(console.log("[import] detected pages+collections format"),e=A):Array.isArray(A)?e.push(...A):e.push(A),console.log("[import] pagesData prepared:",e)}catch(A){let We=A.message.match(/position (\d+)/),ye=A.message;if(We){let oe=parseInt(We[1],10),Qe=Ee.substring(0,oe).split(`
`),at=Qe.length,Ge=Qe[Qe.length-1].length+1;ye=`Ligne ${at}, colonne ${Ge}: ${A.message}`}N(`Erreur JSON : ${ye}`,"error"),console.error("[import] paste parse error",A),Pe&&Me&&(Pe.classList.remove("hidden"),Me.innerHTML=`
              <div class="text-rose-600">
                <p class="font-medium">\u2717 Erreur de syntaxe JSON</p>
                <p class="text-xs mt-1">${ye}</p>
                <p class="text-xs mt-2 text-slate-500">V\xE9rifiez les virgules, guillemets et accolades.</p>
              </div>
            `);return}}else if(ce==="upload"){if(Y.length===0)return;let Ee=[];for(let A of Y){let We=await A.text();try{let ye=JSON.parse(We);Array.isArray(ye)?e.push(...ye):e.push(ye)}catch(ye){let oe=ye.message.match(/position (\d+)/),Qe=ye.message;if(oe){let at=parseInt(oe[1],10);Qe=`Ligne ${We.substring(0,at).split(`
`).length}: ${ye.message}`}Ee.push({file:A.name,error:Qe}),console.error("[import] parse error",A.name,ye)}}if(Ee.length>0){if(Pe&&Me){Pe.classList.remove("hidden");let A='<div class="text-rose-600"><p class="font-medium">\u2717 Erreurs de syntaxe JSON</p><ul class="ml-4 text-xs mt-1">';Ee.forEach(We=>{A+=`<li><strong>${We.file}</strong>: ${We.error}</li>`}),A+="</ul></div>",e.length>0&&(A+=`<p class="text-amber-600 mt-2 text-sm">\u26A0 ${e.length} page(s) valide(s) seront import\xE9e(s)</p>`),Me.innerHTML=A}if(e.length===0){N("Tous les fichiers contiennent des erreurs JSON","error");return}}}else return;let t=Array.isArray(e)?e.length>0:e&&(((n=e.pages)==null?void 0:n.length)>0||e.title);if(console.log("[import] hasData check:",t,"pagesData:",e),!t){N("Aucune page valide \xE0 importer."),Pe&&Me&&(Pe.classList.remove("hidden"),Me.innerHTML=`
            <div class="text-amber-600">
              <p class="font-medium">\u26A0 Aucune page d\xE9tect\xE9e</p>
              <p class="text-xs mt-1">Le JSON doit contenir :</p>
              <ul class="text-xs ml-4 mt-1 list-disc">
                <li>Un objet page avec "title" : <code>{"title": "Ma page", ...}</code></li>
                <li>Un tableau de pages : <code>[{"title": "Page 1"}, {"title": "Page 2"}]</code></li>
                <li>Ou un objet combin\xE9 : <code>{"pages": [...], "collections": {...}}</code></li>
              </ul>
            </div>
          `);return}Ve&&(Ve.disabled=!0,Ve.textContent="Import..."),console.log("[import] Sending to server:",JSON.stringify(e).substring(0,500));try{let Ee=await fetch(`${$e}/import`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)});console.log("[import] Server response status:",Ee.status);let A=await Ee.json();if(console.log("[import] Server response body:",A),!Ee.ok)throw Pe&&Me&&(Pe.classList.remove("hidden"),Me.innerHTML=`
              <div class="text-rose-600">
                <p class="font-medium">\u2717 Erreur serveur</p>
                <p class="text-xs mt-1">${A.message||"Erreur inconnue"}</p>
                ${A.details?`<p class="text-xs mt-1 text-slate-500">${A.details}</p>`:""}
              </div>
            `),new Error(A.message||"Erreur serveur");if(Pe&&Me){Pe.classList.remove("hidden");let oe="",Qe=((c=A.imported)==null?void 0:c.length)>0||((w=A.collectionsCreated)==null?void 0:w.length)>0,at=((U=A.errors)==null?void 0:U.length)>0;Qe&&!at?oe+='<div class="bg-green-50 border border-green-200 rounded-lg p-3 mb-2"><p class="text-green-800 font-medium">\u2713 Import r\xE9ussi</p></div>':Qe&&at?oe+='<div class="bg-amber-50 border border-amber-200 rounded-lg p-3 mb-2"><p class="text-amber-800 font-medium">\u26A0 Import partiel</p></div>':at&&(oe+='<div class="bg-rose-50 border border-rose-200 rounded-lg p-3 mb-2"><p class="text-rose-800 font-medium">\u2717 Import \xE9chou\xE9</p></div>'),A.collectionsCreated&&A.collectionsCreated.length>0&&(oe+=`<p class="text-violet-700 mt-2">\u2713 ${A.collectionsCreated.length} collection(s) cr\xE9\xE9e(s)</p>`,oe+='<ul class="ml-4 text-xs text-slate-600">',A.collectionsCreated.forEach(Ge=>{oe+=`<li>${Ge.name} (${Ge.itemsCount} item${Ge.itemsCount>1?"s":""})</li>`}),oe+="</ul>"),A.imported&&A.imported.length>0&&(oe+=`<p class="text-green-700 mt-2">\u2713 ${A.imported.length} page(s) import\xE9e(s)</p>`,oe+='<ul class="ml-4 text-xs text-slate-600">',A.imported.forEach(Ge=>{oe+=`<li><strong>${Ge.title}</strong> \u2192 ${Ge.slug} (${Ge.action==="updated"?"mise \xE0 jour":"cr\xE9\xE9e"})</li>`}),oe+="</ul>"),A.errors&&A.errors.length>0&&(oe+=`<p class="text-rose-600 mt-3 font-medium">\u2717 ${A.errors.length} erreur(s)</p>`,oe+='<ul class="ml-4 text-xs text-rose-600 space-y-1 mt-1">',A.errors.forEach(Ge=>{oe+=`<li class="bg-rose-50 p-2 rounded"><strong>${Ge.title}</strong><br/><span class="text-rose-500">${Ge.error}</span></li>`}),oe+="</ul>"),Me.innerHTML=oe}let We=((R=A.imported)==null?void 0:R.length)>0||((le=A.collectionsCreated)==null?void 0:le.length)>0,ye=((Be=A.errors)==null?void 0:Be.length)>0;if(A.imported&&A.imported.length>0&&(ue=await Xe(),Vt(ue,Ze),ue.length>0&&!Ze&&pt(ue[0].id)),We&&!ye){let oe=(Ue=A.collectionsCreated)!=null&&Ue.length?` + ${A.collectionsCreated.length} collection(s)`:"";N(`\u2713 Import r\xE9ussi : ${((Ct=A.imported)==null?void 0:Ct.length)||0} page(s)${oe}`,"success")}else We&&ye?N(`\u26A0 Import partiel : ${((Gt=A.imported)==null?void 0:Gt.length)||0} page(s), ${A.errors.length} erreur(s)`,"warning"):ye&&N(`\u2717 Import \xE9chou\xE9 : ${A.errors.length} erreur(s)`,"error");Y=[],Gs(),Ws()}catch(Ee){console.error("[import] failed",Ee),N(Ee.message||"Erreur import","error")}finally{Ve&&(Ve.disabled=!1,Ve.textContent="Importer")}};Rt==null||Rt.addEventListener("click",Xo),Ms.forEach(e=>e.addEventListener("click",uo)),ut==null||ut.addEventListener("click",e=>{e.target===ut&&uo()}),es==null||es.addEventListener("change",e=>{mo(e.target.files)}),tt==null||tt.addEventListener("dragover",e=>{e.preventDefault(),tt.classList.add("border-[#9C6BFF]","bg-[#9C6BFF]/10")}),tt==null||tt.addEventListener("dragleave",e=>{e.preventDefault(),tt.classList.remove("border-[#9C6BFF]","bg-[#9C6BFF]/10")}),tt==null||tt.addEventListener("drop",e=>{e.preventDefault(),tt.classList.remove("border-[#9C6BFF]","bg-[#9C6BFF]/10"),mo(e.dataTransfer.files)}),Ve==null||Ve.addEventListener("click",Zo),j==null||j.addEventListener("input",()=>{as()}),re==null||re.addEventListener("click",Ko),o.forEach(e=>{e.addEventListener("click",()=>{let t=e.dataset.importTab;ce=t,o.forEach(s=>{s.dataset.importTab===t?(s.classList.add("bg-[#9C6BFF]","text-white"),s.classList.remove("border","border-slate-200","text-slate-700")):(s.classList.remove("bg-[#9C6BFF]","text-white"),s.classList.add("border","border-slate-200","text-slate-700"))}),r.forEach(s=>{s.dataset.importPanel===t?s.classList.remove("hidden"):s.classList.add("hidden")}),as()})}),f==null||f.addEventListener("click",async()=>{if(!L)return;let e=L.textContent||"";try{await navigator.clipboard.writeText(e),N("Template copi\xE9 !")}catch(t){console.error("[import] copy failed",t),N("Erreur copie")}}),Ie==null||Ie.addEventListener("click",Us),me==null||me.addEventListener("click",Do),de==null||de.addEventListener("click",e=>{e.target===de&&Us()}),ne==null||ne.addEventListener("click",e=>{e.stopPropagation(),Ro()}),document.addEventListener("click",e=>{os&&(W!=null&&W.contains(e.target)||ne!=null&&ne.contains(e.target)||Ls())}),Q.forEach(e=>{e.addEventListener("click",t=>{t.stopPropagation();let s=e.dataset.blockAdd;Ho(s)})}),G==null||G.addEventListener("click",()=>{Os()}),ae==null||ae.addEventListener("click",()=>{Es&&ao(Es),Os()}),X==null||X.addEventListener("click",e=>{e.target===X&&Os()}),p==null||p.addEventListener("input",e=>{var n,c,w,U;let t=e.target;if(!t||!t.name)return;if(t.name==="group-columns-mobile"||t.name==="group-columns-desktop"){let R=((n=p.querySelector('[name="group-columns-mobile"]'))==null?void 0:n.value)||"1",le=((c=p.querySelector('[name="group-columns-desktop"]'))==null?void 0:c.value)||"3";ot(R,le)}if(t.name==="collection-columns-mobile"||t.name==="collection-columns-desktop"){let R=((w=p.querySelector('[name="collection-columns-mobile"]'))==null?void 0:w.value)||"1",le=((U=p.querySelector('[name="collection-columns-desktop"]'))==null?void 0:U.value)||"3";Le(R,le)}let s=t.closest("[data-block-panel]");if(s&&s.dataset.blockPanel==="appearance"){let R=Jt(),le=J(R);if(R&&le){let Be=Ae(le);Nt(R.id,Be)}}}),p==null||p.addEventListener("change",e=>{let t=e.target;if(!t||!t.name)return;let s=t.closest("[data-block-panel]");if(s&&s.dataset.blockPanel==="appearance"){let n=Jt(),c=J(n);if(n&&c){let w=Ae(c);Nt(n.id,w)}}}),D==null||D.addEventListener("change",e=>{let t=e.target;Js((t==null?void 0:t.value)||"")}),p==null||p.addEventListener("submit",Mt),xe==null||xe.addEventListener("click",e=>{e.preventDefault();let t=Jt();t&&wt(t)}),E==null||E.addEventListener("load",()=>{Vs=!0,ze("\xC0 jour"),$t(Je)}),y==null||y.addEventListener("click",()=>{let e=window.open("","_blank");if(!e)return;e.opener=null;let t=e.document;t.open(),t.write(zs||he()),t.close()});let po=e=>{var t,s,n;q&&(e?(q.classList.remove("hidden"),S&&(x&&(x.value=((t=S.seo)==null?void 0:t.title)||""),T&&(T.value=((s=S.seo)==null?void 0:s.description)||""),v&&(v.checked=((n=S.seo)==null?void 0:n.indexed)!==!1))):q.classList.add("hidden"))},ks=(e,t="muted")=>{if(!$)return;let s=t==="success"?"text-emerald-600":t==="error"?"text-rose-600":"text-slate-500";$.textContent=e||"",$.className=`text-sm ${s}`};z==null||z.addEventListener("click",()=>{let e=q&&!q.classList.contains("hidden");po(!e)}),k==null||k.addEventListener("click",()=>po(!1)),d==null||d.addEventListener("submit",async e=>{var t;if(e.preventDefault(),!S){ks("Aucune page active.","error");return}g&&(g.disabled=!0),ks("");try{let s={title:((x==null?void 0:x.value)||"").trim(),description:((T==null?void 0:T.value)||"").trim(),indexed:(t=v==null?void 0:v.checked)!=null?t:!0},n={...S,seo:s},c=await l(n);c&&(S=c,ks("SEO enregistr\xE9.","success"),N("SEO mis \xE0 jour"),Pt(S))}catch(s){console.error("[seo] save failed",s),ks(s.message||"Erreur lors de la sauvegarde.","error")}finally{g&&(g.disabled=!1)}});let Qo=e=>{let t=e.target.closest("[data-block-item]");if(!t||!ws()){e.preventDefault();return}if(bt=t.dataset.blockId||null,!bt){e.preventDefault();return}e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/plain",bt),requestAnimationFrame(()=>{t.classList.add("opacity-50","scale-[0.98]","shadow-lg","ring-2","ring-[#9C6BFF]")})},fo=()=>{i==null||i.querySelectorAll("[data-block-item]").forEach(e=>{e.classList.remove("opacity-50","scale-[0.98]","shadow-lg","ring-2","ring-[#9C6BFF]","border-t-4","border-b-4","border-t-[#9C6BFF]","border-b-[#9C6BFF]","pt-6","pb-6")})},en=()=>{bt=null,fo()},tn=e=>{if(!bt||!ws())return;let t=e.target.closest("[data-block-item]");if(!t||t.dataset.blockId===bt)return;e.preventDefault(),e.dataTransfer.dropEffect="move";let s=t.getBoundingClientRect(),n=s.top+s.height/2,c=e.clientY<n;i==null||i.querySelectorAll("[data-block-item]").forEach(w=>{w!==t&&w.dataset.blockId!==bt&&w.classList.remove("border-t-4","border-b-4","border-t-[#9C6BFF]","border-b-[#9C6BFF]","pt-6","pb-6")}),t.classList.remove("border-t-4","border-b-4","border-t-[#9C6BFF]","border-b-[#9C6BFF]","pt-6","pb-6"),c?t.classList.add("border-t-4","border-t-[#9C6BFF]","pt-6"):t.classList.add("border-b-4","border-b-[#9C6BFF]","pb-6"),t.dataset.dropPosition=c?"before":"after"},sn=e=>{let t=e.target.closest("[data-block-item]");if(!t)return;let s=e.relatedTarget;s&&t.contains(s)||(t.classList.remove("border-t-4","border-b-4","border-t-[#9C6BFF]","border-b-[#9C6BFF]","pt-6","pb-6"),delete t.dataset.dropPosition)},on=e=>{if(!bt||!ws())return;e.preventDefault();let t=e.target.closest("[data-block-item]"),s=bt,n=(t==null?void 0:t.dataset.dropPosition)||"after";bt=null,fo();let c=(t==null?void 0:t.dataset.blockId)||null;!c||s===c||Uo(s,c,n)},bt=null;i==null||i.addEventListener("dragstart",Qo),i==null||i.addEventListener("dragend",en),i==null||i.addEventListener("dragover",tn),i==null||i.addEventListener("dragleave",sn),i==null||i.addEventListener("drop",on),b()}function Bo(){var Pe,Me,Ve;let a=document.querySelector("[data-collection-list]");if(!a)return;let h={empty:document.querySelector('[data-content-view="empty"]'),header:document.querySelector('[data-content-view="header"]'),collection:document.querySelector('[data-content-view="collection"]'),footer:document.querySelector('[data-content-view="footer"]')},I=document.querySelectorAll("[data-content-section]"),M=document.querySelectorAll("[data-content-section-trigger]"),E=document.querySelector("[data-content-drawer]"),y=document.querySelector("[data-content-drawer-backdrop]"),K=document.querySelectorAll("[data-content-drawer-open]"),te=document.querySelectorAll("[data-content-drawer-close]"),z=document.querySelector("[data-header-status]"),q=document.querySelector("[data-footer-status]"),k=document.querySelector("[data-collection-count]"),d={logo:document.querySelector('[name="header-logo"]'),logoAlt:document.querySelector('[name="header-logo-alt"]'),logoUrl:document.querySelector('[name="header-logo-url"]'),ctaText:document.querySelector('[name="header-cta-text"]'),ctaUrl:document.querySelector('[name="header-cta-url"]'),ctaStyle:document.querySelector('[name="header-cta-style"]'),position:document.querySelector('[name="header-position"]'),bg:document.querySelector('[name="header-bg"]')},x=document.querySelector("[data-header-nav-list]"),T=document.querySelector("[data-header-nav-add]"),v=document.querySelector("[data-header-save]"),$=document.querySelector("[data-template-header-nav-item]"),g={linkedin:document.querySelector('[name="footer-social-linkedin"]'),twitter:document.querySelector('[name="footer-social-twitter"]'),instagram:document.querySelector('[name="footer-social-instagram"]'),facebook:document.querySelector('[name="footer-social-facebook"]'),youtube:document.querySelector('[name="footer-social-youtube"]'),github:document.querySelector('[name="footer-social-github"]'),copyright:document.querySelector('[name="footer-copyright"]'),legalUrl:document.querySelector('[name="footer-legal-url"]'),privacyUrl:document.querySelector('[name="footer-privacy-url"]'),bg:document.querySelector('[name="footer-bg"]'),columnsCount:document.querySelector('[name="footer-columns-count"]')},i=document.querySelector("[data-footer-columns-list]"),C=document.querySelector("[data-footer-column-add]"),P=document.querySelector("[data-footer-save]"),ne=document.querySelector("[data-template-footer-column]"),W=document.querySelector("[data-template-footer-link]"),Q=null,X={nav:[],logo:{},cta:{},style:{}},ae={columns:[],socials:{},copyright:"",legal:{},style:{}},G=st((H==null?void 0:H.slugValue)||ee.slug||""),Z=G?`/api/sites/${encodeURIComponent(G)}/layout`:null,ie=o=>{Object.entries(h).forEach(([r,f])=>{f&&f.classList.toggle("hidden",r!==o)}),I.forEach(r=>{r.dataset.contentSection===o?r.dataset.active="true":delete r.dataset.active}),Q=o},B=()=>{E==null||E.classList.add("is-open"),E&&(E.style.transform="translateX(0)"),y==null||y.classList.remove("hidden"),document.body.classList.add("overflow-hidden")},u=()=>{E==null||E.classList.remove("is-open"),E&&(E.style.transform=""),y==null||y.classList.add("hidden"),document.body.classList.remove("overflow-hidden")};K.forEach(o=>o.addEventListener("click",B)),te.forEach(o=>o.addEventListener("click",u)),y==null||y.addEventListener("click",u),I.forEach(o=>{o.addEventListener("click",()=>{let r=o.dataset.contentSection;(r==="header"||r==="footer")&&ie(r),u()})}),M.forEach(o=>{o.addEventListener("click",()=>{let r=o.dataset.contentSectionTrigger;r&&ie(r)})});let m=(o="",r="")=>{if(!$||!x)return;let f=$.content.cloneNode(!0),L=f.querySelector("[data-nav-item]"),j=f.querySelector('[name="nav-label"]'),re=f.querySelector('[name="nav-url"]'),V=f.querySelector("[data-nav-remove]");j&&(j.value=o),re&&(re.value=r),V==null||V.addEventListener("click",()=>L==null?void 0:L.remove()),x.appendChild(f)},F=()=>{var r,f,L,j,re,V,Y,ce,de,De,Ie,me,ge;let o=[];return x==null||x.querySelectorAll("[data-nav-item]").forEach(ht=>{var $e,Ft,It,Lt;let yt=((Ft=($e=ht.querySelector('[name="nav-label"]'))==null?void 0:$e.value)==null?void 0:Ft.trim())||"",rt=((Lt=(It=ht.querySelector('[name="nav-url"]'))==null?void 0:It.value)==null?void 0:Lt.trim())||"";(yt||rt)&&o.push({label:yt,url:rt})}),{logo:{src:((f=(r=d.logo)==null?void 0:r.value)==null?void 0:f.trim())||"",alt:((j=(L=d.logoAlt)==null?void 0:L.value)==null?void 0:j.trim())||"",url:((V=(re=d.logoUrl)==null?void 0:re.value)==null?void 0:V.trim())||"/"},nav:o,cta:{text:((ce=(Y=d.ctaText)==null?void 0:Y.value)==null?void 0:ce.trim())||"",url:((De=(de=d.ctaUrl)==null?void 0:de.value)==null?void 0:De.trim())||"",style:((Ie=d.ctaStyle)==null?void 0:Ie.value)||"primary"},style:{position:((me=d.position)==null?void 0:me.value)||"static",bg:((ge=d.bg)==null?void 0:ge.value)||"bg-white"}}},p=o=>{var f,L,j,re,V,Y,ce,de,De,Ie,me;if(!o)return;d.logo&&(d.logo.value=((f=o.logo)==null?void 0:f.src)||""),d.logoAlt&&(d.logoAlt.value=((L=o.logo)==null?void 0:L.alt)||""),d.logoUrl&&(d.logoUrl.value=((j=o.logo)==null?void 0:j.url)||"/"),d.ctaText&&(d.ctaText.value=((re=o.cta)==null?void 0:re.text)||""),d.ctaUrl&&(d.ctaUrl.value=((V=o.cta)==null?void 0:V.url)||""),d.ctaStyle&&(d.ctaStyle.value=((Y=o.cta)==null?void 0:Y.style)||"primary"),d.position&&(d.position.value=((ce=o.style)==null?void 0:ce.position)||"static"),d.bg&&(d.bg.value=((de=o.style)==null?void 0:de.bg)||"bg-white"),x&&(x.innerHTML=""),(o.nav||[]).forEach(ge=>m(ge.label,ge.url));let r=((De=o.logo)==null?void 0:De.src)||((Ie=o.nav)==null?void 0:Ie.length)>0||((me=o.cta)==null?void 0:me.text);z&&(z.classList.toggle("bg-green-500",!!r),z.classList.toggle("bg-slate-300",!r),z.title=r?"Configur\xE9":"Non configur\xE9")};T==null||T.addEventListener("click",()=>m()),v==null||v.addEventListener("click",async()=>{if(Z){v.disabled=!0,v.textContent="Enregistrement...";try{let o=F();if(!(await fetch(`${Z}/header`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(o)})).ok)throw new Error("Erreur serveur");X=o,p(o),N("Header enregistr\xE9")}catch(o){console.error("[header] save error",o),N("Erreur lors de l'enregistrement","error")}finally{v.disabled=!1,v.textContent="Enregistrer"}}});let fe=(o,r="",f="")=>{if(!W||!o)return;let L=W.content.cloneNode(!0),j=L.querySelector("[data-footer-link]"),re=L.querySelector('[name="link-label"]'),V=L.querySelector('[name="link-url"]'),Y=L.querySelector("[data-link-remove]");re&&(re.value=r),V&&(V.value=f),Y==null||Y.addEventListener("click",()=>j==null?void 0:j.remove()),o.appendChild(L)},be=(o="",r=[])=>{if(!ne||!i)return;let f=ne.content.cloneNode(!0),L=f.querySelector("[data-footer-column]"),j=f.querySelector('[name="column-title"]'),re=f.querySelector("[data-column-links]"),V=f.querySelector("[data-column-link-add]"),Y=f.querySelector("[data-column-remove]");j&&(j.value=o),r.forEach(ce=>fe(re,ce.label,ce.url)),V==null||V.addEventListener("click",()=>fe(re)),Y==null||Y.addEventListener("click",()=>L==null?void 0:L.remove()),i.appendChild(f)},we=()=>{var r,f,L,j,re,V,Y,ce,de,De,Ie,me,ge,ht,yt,rt,$e,Ft,It,Lt;let o=[];return i==null||i.querySelectorAll("[data-footer-column]").forEach(hs=>{var vs,ss;let ys=((ss=(vs=hs.querySelector('[name="column-title"]'))==null?void 0:vs.value)==null?void 0:ss.trim())||"",ts=[];hs.querySelectorAll("[data-footer-link]").forEach(Ht=>{var Ss,xs,Dt,$t;let Ds=((xs=(Ss=Ht.querySelector('[name="link-label"]'))==null?void 0:Ss.value)==null?void 0:xs.trim())||"",bs=(($t=(Dt=Ht.querySelector('[name="link-url"]'))==null?void 0:Dt.value)==null?void 0:$t.trim())||"";(Ds||bs)&&ts.push({label:Ds,url:bs})}),(ys||ts.length>0)&&o.push({title:ys,links:ts})}),{columns:o,socials:{linkedin:((f=(r=g.linkedin)==null?void 0:r.value)==null?void 0:f.trim())||"",twitter:((j=(L=g.twitter)==null?void 0:L.value)==null?void 0:j.trim())||"",instagram:((V=(re=g.instagram)==null?void 0:re.value)==null?void 0:V.trim())||"",facebook:((ce=(Y=g.facebook)==null?void 0:Y.value)==null?void 0:ce.trim())||"",youtube:((De=(de=g.youtube)==null?void 0:de.value)==null?void 0:De.trim())||"",github:((me=(Ie=g.github)==null?void 0:Ie.value)==null?void 0:me.trim())||""},copyright:((ht=(ge=g.copyright)==null?void 0:ge.value)==null?void 0:ht.trim())||"",legal:{url:((rt=(yt=g.legalUrl)==null?void 0:yt.value)==null?void 0:rt.trim())||"",privacyUrl:((Ft=($e=g.privacyUrl)==null?void 0:$e.value)==null?void 0:Ft.trim())||""},style:{bg:((It=g.bg)==null?void 0:It.value)||"bg-slate-900 text-white",columnsCount:((Lt=g.columnsCount)==null?void 0:Lt.value)||"4"}}},Se=o=>{var f,L,j,re,V,Y,ce,de,De,Ie,me;if(!o)return;g.linkedin&&(g.linkedin.value=((f=o.socials)==null?void 0:f.linkedin)||""),g.twitter&&(g.twitter.value=((L=o.socials)==null?void 0:L.twitter)||""),g.instagram&&(g.instagram.value=((j=o.socials)==null?void 0:j.instagram)||""),g.facebook&&(g.facebook.value=((re=o.socials)==null?void 0:re.facebook)||""),g.youtube&&(g.youtube.value=((V=o.socials)==null?void 0:V.youtube)||""),g.github&&(g.github.value=((Y=o.socials)==null?void 0:Y.github)||""),g.copyright&&(g.copyright.value=o.copyright||""),g.legalUrl&&(g.legalUrl.value=((ce=o.legal)==null?void 0:ce.url)||""),g.privacyUrl&&(g.privacyUrl.value=((de=o.legal)==null?void 0:de.privacyUrl)||""),g.bg&&(g.bg.value=((De=o.style)==null?void 0:De.bg)||"bg-slate-900 text-white"),g.columnsCount&&(g.columnsCount.value=((Ie=o.style)==null?void 0:Ie.columnsCount)||"4"),i&&(i.innerHTML=""),(o.columns||[]).forEach(ge=>be(ge.title,ge.links));let r=((me=o.columns)==null?void 0:me.length)>0||o.copyright||Object.values(o.socials||{}).some(ge=>ge);q&&(q.classList.toggle("bg-green-500",!!r),q.classList.toggle("bg-slate-300",!r),q.title=r?"Configur\xE9":"Non configur\xE9")};C==null||C.addEventListener("click",()=>be()),P==null||P.addEventListener("click",async()=>{if(Z){P.disabled=!0,P.textContent="Enregistrement...";try{let o=we();if(!(await fetch(`${Z}/footer`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(o)})).ok)throw new Error("Erreur serveur");ae=o,Se(o),N("Footer enregistr\xE9")}catch(o){console.error("[footer] save error",o),N("Erreur lors de l'enregistrement","error")}finally{P.disabled=!1,P.textContent="Enregistrer"}}}),(async()=>{if(Z)try{let o=await fetch(Z,{credentials:"include"});if(o.ok){let r=await o.json();r.header&&(X=r.header,p(r.header)),r.footer&&(ae=r.footer,Se(r.footer))}}catch(o){console.error("[layout] load error",o)}})();let pe=document.querySelector("[data-collection-empty]"),D=document.querySelector("[data-collection-items-empty]"),qe=document.querySelector("[data-item-table-wrapper]"),xe=document.querySelector("[data-item-table-body]"),ft=document.querySelector("[data-collection-title]"),xt=document.querySelector("[data-collection-description]"),ke=document.querySelector("[data-item-add]"),Ke=document.querySelector("[data-item-detail-empty]"),se=document.querySelector("[data-item-form]"),O=se?{title:se.querySelector('[name="item-title"]'),slug:se.querySelector('[name="item-slug"]'),excerpt:se.querySelector('[name="item-excerpt"]'),content:se.querySelector('[name="item-content"]'),image:se.querySelector('[name="item-image"]'),ctaText:se.querySelector('[name="item-cta-text"]'),ctaUrl:se.querySelector('[name="item-cta-url"]'),status:se.querySelector('[name="item-status"]')}:{},ot=document.querySelector("[data-item-status-badge]"),Le=document.querySelector("[data-item-delete]"),Xe=document.querySelector("[data-item-delete-modal]"),qt=document.querySelector("[data-item-delete-cancel]"),l=document.querySelector("[data-item-delete-confirm]"),b=document.querySelector("[data-item-cancel]"),_=document.querySelector("[data-item-save]"),J="rounded-full px-3 py-1 text-xs font-semibold",wt=st((H==null?void 0:H.slugValue)||ee.slug||""),Ae=wt?`/api/sites/${encodeURIComponent(wt)}/collections`:null,ze=[],Te=[],he=null,Ce=null,ct=!1,jt=!1,kt=null,Xt=o=>{let r=(o||"").trim();if(!r)return"";if(r==="/")return"/";let L=r.replace(/^\//,"").split("/").map(j=>Bt(j||"")).filter(j=>j.length>0);return L.length?`/${L.join("/")}`:""},Ps=o=>{if(!o)return"\u2014";let r=new Date(o);return Number.isNaN(r.getTime())?"\u2014":r.toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric"})},Nt=()=>{let o=ze.find(r=>r.id===he);ft&&(ft.textContent=(o==null?void 0:o.name)||"S\xE9lectionnez une collection"),xt&&(xt.textContent=(o==null?void 0:o.description)||"")},Pt=o=>{D&&(D.textContent=o||(he?"Aucun item dans cette collection pour le moment.":"Choisissez une collection dans le panneau de gauche."))},Mt=()=>{se&&(se.classList.add("hidden"),se.dataset.itemId=""),Ke==null||Ke.classList.remove("hidden"),ot&&(ot.className=`hidden ${J}`,ot.textContent=""),Le&&(Le.disabled=!0)},gt=()=>{se&&(se.classList.remove("hidden"),Ke==null||Ke.classList.add("hidden"))},je=()=>{ke&&(ke.disabled=!he,ke.disabled?ke.classList.add("opacity-60","pointer-events-none"):ke.classList.remove("opacity-60","pointer-events-none"))},Zt=o=>{if(!ot)return;if(!o){ot.className=`hidden ${J}`,ot.textContent="";return}let r=o.toLowerCase(),f="bg-slate-100 text-slate-600 border border-slate-200";r==="publi\xE9"||r==="publie"?f="bg-emerald-50 text-emerald-700 border border-emerald-100":r==="brouillon"&&(f="bg-amber-50 text-amber-700 border border-amber-100"),ot.className=`${J} ${f}`,ot.textContent=o},fs=()=>{if(a.innerHTML="",k&&(k.textContent=ze.length),!ze.length){pe==null||pe.classList.remove("hidden");return}pe==null||pe.classList.add("hidden"),ze.forEach(o=>{let r=o.id===he,f=document.createElement("button");f.type="button",f.dataset.collectionId=o.id,f.className=["w-full rounded-xl border px-3 py-2 text-left transition focus:outline-none focus:ring-2 focus:ring-[#9C6BFF]/40",r?"bg-[#F7F0FF] border-[#9C6BFF]/40 text-slate-900":"border-slate-200 text-slate-700 hover:border-[#9C6BFF]/40"].join(" "),f.setAttribute("role","option"),r?f.setAttribute("aria-current","true"):f.removeAttribute("aria-current"),f.innerHTML=`
          <div class="flex items-center justify-between gap-2">
            <div>
              <p class="text-sm font-semibold">${o.name||o.id}</p>
              <p class="text-xs text-slate-500">${o.description||""}</p>
            </div>
            <span class="text-[11px] uppercase tracking-wide text-slate-400">${o.type||""}</span>
          </div>
        `,f.addEventListener("click",()=>{Rt(o.id),window.matchMedia("(min-width: 1024px)").matches||u()}),a.appendChild(f)})},Fe=()=>{if(xe){if(xe.innerHTML="",!Te.length||!he){D==null||D.classList.remove("hidden"),Pt(),qe==null||qe.classList.add("hidden");return}D==null||D.classList.add("hidden"),qe==null||qe.classList.remove("hidden"),Te.forEach(o=>{let r=document.createElement("tr");r.dataset.itemId=o.id;let f=o.id===Ce&&!ct;r.className=["cursor-pointer transition focus-within:bg-[#F7F0FF]/70 focus:outline-none",f?"bg-[#F7F0FF]/70":"hover:bg-slate-50"].join(" "),r.tabIndex=0,r.setAttribute("role","button"),f?r.setAttribute("aria-current","true"):r.removeAttribute("aria-current");let L=o.status||"Brouillon",j=L.toLowerCase(),re=j==="publi\xE9"||j==="publie"?"bg-emerald-50 text-emerald-700 border border-emerald-100":"bg-amber-50 text-amber-700 border border-amber-100";r.innerHTML=`
          <td class="px-4 py-3 align-top">
            <div class="flex flex-col">
              <span class="text-sm font-semibold text-slate-900">${o.title||"Sans titre"}</span>
              <span class="text-xs text-slate-500">${o.summary||o.excerpt||""}</span>
            </div>
          </td>
          <td class="px-4 py-3 align-top text-sm text-slate-600">${o.slug||""}</td>
          <td class="px-4 py-3 align-top">
            <span class="inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold ${re}">
              ${L}
            </span>
          </td>
          <td class="px-4 py-3 align-top text-sm text-slate-500">${Ps(o.updatedAt||o.createdAt)}</td>
        `;let V=()=>{nt(o.id)};r.addEventListener("click",V),r.addEventListener("keydown",Y=>{(Y.key==="Enter"||Y.key===" ")&&(Y.preventDefault(),V())}),xe.appendChild(r)})}},nt=o=>{let r=Te.find(f=>f.id===o);r&&(Ce=r.id,ct=!1,jt=!0,et(r),Fe())},et=o=>{var r,f;if(!se||!o){Mt();return}gt(),se.dataset.itemId=o.id,O.title&&(O.title.value=o.title||""),O.slug&&(O.slug.value=o.slug||""),O.excerpt&&(O.excerpt.value=o.summary||o.excerpt||""),O.content&&(O.content.value=o.content||""),O.image&&(O.image.value=o.image||""),O.ctaText&&(O.ctaText.value=((r=o.cta)==null?void 0:r.text)||o.ctaText||""),O.ctaUrl&&(O.ctaUrl.value=((f=o.cta)==null?void 0:f.url)||o.ctaUrl||""),O.status&&(O.status.value=o.status||"Brouillon"),Zt(o.status||"Brouillon"),Le&&(Le.disabled=!1)},dt=()=>{var o;se&&(ct=!0,Ce=null,jt=!1,se.dataset.itemId="",se.reset(),O.status&&(O.status.value="Brouillon"),O.slug&&(O.slug.value=""),Zt("Brouillon"),gt(),Le&&(Le.disabled=!0),(o=O.title)==null||o.focus())},Qt=()=>{var de,De,Ie,me,ge,ht,yt,rt;let o=(((de=O.title)==null?void 0:de.value)||"").trim(),r=(((De=O.slug)==null?void 0:De.value)||"").trim(),f=(((Ie=O.excerpt)==null?void 0:Ie.value)||"").trim(),L=(((me=O.content)==null?void 0:me.value)||"").trim(),j=(((ge=O.image)==null?void 0:ge.value)||"").trim(),re=(((ht=O.ctaText)==null?void 0:ht.value)||"").trim(),V=(((yt=O.ctaUrl)==null?void 0:yt.value)||"").trim(),Y=((rt=O.status)==null?void 0:rt.value)||"Brouillon",ce=re||V?{text:re,url:V}:null;return{title:o,slug:Xt(r||o),summary:f,excerpt:f,content:L,image:j,status:Y,...ce&&{cta:ce}}},Ne=o=>{_&&(_.disabled=o,_.textContent=o?"Enregistrement\u2026":"Enregistrer"),Le&&!ct&&Ce&&(Le.disabled=o)},At=async o=>{if(!Ae)return[];let r=await fetch(`${Ae}/${encodeURIComponent(o)}/items`,{headers:{Accept:"application/json"}});if(!r.ok){let L=await r.json().catch(()=>({}));throw new Error(L.message||"Impossible de charger les items.")}let f=await r.json().catch(()=>({}));return Array.isArray(f.items)?f.items:[]},Rt=async o=>{if(o&&(he=o,Ce=null,ct=!1,jt=!1,ie("collection"),Nt(),je(),fs(),Mt(),Te=[],Fe(),Pt("Chargement des items\u2026"),D==null||D.classList.remove("hidden"),qe==null||qe.classList.add("hidden"),!!Ae))try{Te=await At(o),Fe(),Te.length||Pt()}catch(r){console.error("[content] items failed",r),N(r.message||"Impossible de charger les items."),Te=[],Fe()}},ut=async(o,r)=>{if(!Ae)throw new Error("Site inconnu.");let f=await fetch(`${Ae}/${encodeURIComponent(o)}/items`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!f.ok){let L=await f.json().catch(()=>({}));throw new Error(L.message||"Impossible de cr\xE9er cet item.")}return f.json()},Ms=async(o,r,f)=>{if(!Ae)throw new Error("Site inconnu.");let L=await fetch(`${Ae}/${encodeURIComponent(o)}/items/${encodeURIComponent(r)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)});if(!L.ok){let j=await L.json().catch(()=>({}));throw new Error(j.message||"Impossible de sauvegarder cet item.")}return L.json()},tt=async(o,r)=>{if(!Ae)throw new Error("Site inconnu.");let f=await fetch(`${Ae}/${encodeURIComponent(o)}/items/${encodeURIComponent(r)}`,{method:"DELETE"});if(!f.ok){let L=await f.json().catch(()=>({}));throw new Error(L.message||"Impossible de supprimer cet item.")}},es=async()=>{var o;if(!Ae){pe==null||pe.classList.remove("hidden"),he=null,Te=[],Fe(),Nt(),je();return}try{let r=await fetch(Ae,{headers:{Accept:"application/json"}});if(!r.ok)throw new Error("Impossible de charger les collections.");let f=await r.json().catch(()=>[]);if(ze=Array.isArray(f)?f:[],fs(),ze.length>0){let L=((o=ze.find(j=>j.id===he))==null?void 0:o.id)||ze[0].id;Rt(L)}else he=null,Te=[],Nt(),je(),Fe()}catch(r){console.error("[content] load collections",r),N(r.message||"Impossible de charger les collections.")}};ke==null||ke.addEventListener("click",()=>{if(!he){N("S\xE9lectionnez d\u2019abord une collection.");return}dt(),Fe()}),b==null||b.addEventListener("click",o=>{if(o.preventDefault(),ct){ct=!1,Ce=null,Mt(),Fe();return}if(Ce){let r=Te.find(f=>f.id===Ce);et(r)}else Mt()}),(Pe=O.status)==null||Pe.addEventListener("change",()=>{Zt(O.status.value)}),(Me=O.title)==null||Me.addEventListener("input",()=>{!ct||!O.slug||jt||(O.slug.value=Xt(O.title.value))}),(Ve=O.slug)==null||Ve.addEventListener("input",()=>{ct&&(jt=!0)}),se==null||se.addEventListener("submit",async o=>{var f;if(o.preventDefault(),!he){N("S\xE9lectionnez une collection.");return}let r=Qt();if(!r.title){N("Le titre est requis."),(f=O.title)==null||f.focus();return}Ne(!0);try{let L;ct||!Ce?(L=await ut(he,r),Te=[...Te,L],N("Item cr\xE9\xE9")):(L=await Ms(he,Ce,r),Te=Te.map(j=>j.id===L.id?L:j),N("Item mis \xE0 jour")),ct=!1,Ce=L.id,et(L),Fe()}catch(L){console.error("[content] save item failed",L),N(L.message||"Impossible de sauvegarder cet item.")}finally{Ne(!1)}});let Tt=()=>{Xe&&(Xe.classList.add("hidden"),Xe.classList.remove("flex"),kt=null)},gs=()=>{!Xe||!Ce||(kt=Ce,Xe.classList.remove("hidden"),Xe.classList.add("flex"))};Le==null||Le.addEventListener("click",o=>{o.preventDefault(),Ce&&gs()}),qt==null||qt.addEventListener("click",()=>{Tt()}),Xe==null||Xe.addEventListener("click",o=>{o.target===Xe&&Tt()}),l==null||l.addEventListener("click",async()=>{if(!kt||!he){Tt();return}l.disabled=!0,l.textContent="Suppression\u2026";try{await tt(he,kt),Te=Te.filter(o=>o.id!==kt),Ce===kt&&(Ce=null,Mt()),N("Item supprim\xE9"),Fe()}catch(o){console.error("[content] delete item failed",o),N(o.message||"Impossible de supprimer cet item.")}finally{l.disabled=!1,l.textContent="Supprimer",Tt()}}),Nt(),je(),es()}function jo(){let a=document.querySelector("[data-deploy-form]");if(!a)return;let h=document.querySelector("[data-deploy-protocol]"),I=document.querySelector("[data-deploy-host]"),M=document.querySelector("[data-deploy-port]"),E=document.querySelector("[data-deploy-user]"),y=document.querySelector("[data-deploy-password]"),K=document.querySelector("[data-deploy-show-password]"),te=document.querySelector("[data-deploy-remote-path]"),z=document.querySelector("[data-deploy-feedback]"),q=document.querySelector("[data-deploy-save]"),k=document.querySelector("[data-deploy-test]"),d=document.querySelector("[data-deploy-trigger]"),x=document.querySelector("[data-deploy-history]"),T=document.querySelector("[data-deploy-log]"),v=st((H==null?void 0:H.slugValue)||ee.slug||""),$=v?`/api/sites/${encodeURIComponent(v)}/deploy-config`:null,g=v?`/api/sites/${encodeURIComponent(v)}/deploy`:null,i=v?`/api/sites/${encodeURIComponent(v)}/deploy-log`:null,C=!1,P=null,ne=u=>{let m=(u||"").trim();return m?m.startsWith("/")?m:`/${m}`:"/www"},W=(u,m="muted")=>{if(!z)return;let F="inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold",p=m==="success"?"bg-emerald-50 text-emerald-700 border border-emerald-100":m==="error"?"bg-rose-50 text-rose-700 border border-rose-100":"bg-slate-50 text-slate-600 border border-slate-100";if(!u){z.textContent="",z.className="text-sm text-slate-500";return}let fe=m==="success"?"\u2705":m==="error"?"\u274C":"\u2139\uFE0F";z.innerHTML=`<span class="${F} ${p}">${fe}<span>${u}</span></span>`,z.className="text-sm"},Q=(u=null)=>{P=u;let m=!!u,F='<svg class="h-4 w-4 animate-spin text-white" viewBox="0 0 24 24" fill="none" aria-hidden="true"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"></path></svg>';q&&(q.disabled=m,q.innerHTML=u==="save"?`<span class="inline-flex items-center gap-2">${F}<span>Enregistrement\u2026</span></span>`:"Enregistrer"),k&&(k.disabled=m,k.innerHTML=u==="test"?'<span class="inline-flex items-center gap-2"><span class="h-4 w-4 animate-spin rounded-full border-2 border-slate-200 border-t-slate-600"></span><span>Test en cours\u2026</span></span>':"Tester la connexion"),d&&(d.disabled=m&&u!==null,d.innerHTML=u==="deploy"?'<span class="inline-flex items-center gap-2"><span class="h-4 w-4 animate-spin rounded-full border-2 border-white/60 border-t-white"></span><span>D\xE9ploiement\u2026</span></span>':"D\xE9ployer maintenant")},X=u=>{h&&(h.value=u.protocol||"sftp"),I&&(I.value=u.host||""),M&&(M.value=u.port||""),E&&(E.value=u.user||""),te&&(te.value=u.remotePath||"/www"),C=!!u.hasPassword,y&&(y.value="",y.placeholder=C?"Non affich\xE9":"Mot de passe")},ae=(u=[])=>{if(x){if(x.innerHTML="",!u.length){let m=document.createElement("li");m.className="text-slate-500",m.textContent="Aucun d\xE9ploiement pour le moment.",x.appendChild(m);return}u.forEach(m=>{let F=document.createElement("li");F.className="flex items-center justify-between gap-2 rounded-xl border border-slate-200 px-3 py-2";let p=m.status==="success"?'<span class="rounded-full bg-emerald-50 px-2 py-0.5 text-[11px] font-semibold text-emerald-700">Succ\xE8s</span>':'<span class="rounded-full bg-rose-50 px-2 py-0.5 text-[11px] font-semibold text-rose-700">\xC9chec</span>',fe=m.finishedAt||m.startedAt||"",be=m.durationMs&&Number(m.durationMs)>=0?`${Math.round(Number(m.durationMs)/1e3)}s`:"";F.innerHTML=`
          <div class="space-y-1">
            <div class="flex items-center gap-2">${p}<span class="text-xs text-slate-500">${fe}</span></div>
            <p class="text-sm text-slate-800">${m.message||""}</p>
          </div>
          <div class="text-xs text-slate-500">${be}</div>
        `,F.dataset.deployId=m.id||"",F.addEventListener("click",()=>{m.logs&&T&&(T.textContent=m.logs.join(`
`))}),x.appendChild(F)})}},G=(u=[])=>{T&&(T.textContent=u.length?u.join(`
`):"Aucun log pour le moment.")},Z=async()=>{var u;if(i)try{let m=await fetch(i,{headers:{Accept:"application/json"}});if(!m.ok){if(m.status===404){ae([]),G(["API d\xE9ploiement indisponible (red\xE9marre le serveur)."]);return}throw new Error("Impossible de charger l\u2019historique.")}let F=await m.json().catch(()=>({})),p=Array.isArray(F.entries)?F.entries:[];ae(p),(u=p[0])!=null&&u.logs&&G(p[0].logs)}catch(m){console.error("[deploy] history failed",m)}},ie=async()=>{if(!$){W("Aucun site actif s\xE9lectionn\xE9.","error");return}Q("load");try{let u=await fetch($,{headers:{Accept:"application/json"}}),m=await u.json().catch(()=>({}));u.ok?(X(m||{}),W("Configuration charg\xE9e.","muted")):(X(m||{}),W(m.message||"Configuration par d\xE9faut charg\xE9e.","muted"))}catch(u){console.error("[deploy] load failed",u),W(u.message||"Erreur lors du chargement.","error")}finally{Q(null)}},B=()=>{let u={protocol:(h==null?void 0:h.value)||"sftp",host:(I==null?void 0:I.value.trim())||"",port:Number(M==null?void 0:M.value)||void 0,user:(E==null?void 0:E.value.trim())||"",remotePath:ne((te==null?void 0:te.value)||"/www")},m=(y==null?void 0:y.value)||"";return m.trim().length>0&&(u.password=m),u};a.addEventListener("submit",async u=>{if(u.preventDefault(),!$){W("Aucun site actif s\xE9lectionn\xE9.","error");return}let m=B();Q("save");try{let F=await fetch($,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)});if(!F.ok){let fe=await F.json().catch(()=>({}));throw new Error(fe.message||"Sauvegarde impossible.")}let p=await F.json();X(p||{}),W("Configuration enregistr\xE9e.","success"),N("Configuration d\xE9ploiement sauvegard\xE9e")}catch(F){console.error("[deploy] save failed",F),W(F.message||"Erreur lors de la sauvegarde.","error")}finally{Q(null)}}),k==null||k.addEventListener("click",async()=>{if(!$){W("Aucun site actif s\xE9lectionn\xE9.","error");return}let u=B();if(!u.host||!u.user||!u.remotePath){W("Remplissez les champs requis avant de tester.","error");return}Q("test");try{let m=await fetch(`${$}/test`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)}),F=await m.json().catch(()=>({}));if(!m.ok||F.success===!1){W(F.message||"Test de connexion \xE9chou\xE9.","error");return}W(F.message||"Connexion OK.","success"),N("Test de connexion r\xE9ussi")}catch(m){console.error("[deploy] test failed",m),W(m.message||"Test de connexion \xE9chou\xE9.","error")}finally{Q(null)}}),d==null||d.addEventListener("click",async()=>{if(!g){W("Aucun site actif s\xE9lectionn\xE9.","error");return}Q("deploy"),G(["D\xE9ploiement en cours\u2026"]);try{let u=await fetch(g,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(B())}),m=await u.json().catch(()=>({}));if(!u.ok){if(u.status===404){W("API d\xE9ploiement indisponible (red\xE9marre le serveur).","error"),G(["API d\xE9ploiement indisponible (red\xE9marre le serveur)."]);return}throw G(m.logs||[]),new Error(m.message||"D\xE9ploiement \xE9chou\xE9.")}G(m.logs||[]),await Z(),N("D\xE9ploiement termin\xE9")}catch(u){console.error("[deploy] run failed",u),W(u.message||"D\xE9ploiement \xE9chou\xE9.","error")}finally{Q(null)}}),K==null||K.addEventListener("change",()=>{y&&(y.type=K.checked?"text":"password")}),ie(),Z()}function No(){let a=document.querySelectorAll("[data-settings-tab]"),h=document.querySelectorAll("[data-settings-panel]"),I=document.querySelector("[data-admin-password-form]"),M=document.querySelector("[data-site-config-form]"),E=document.querySelector("[data-site-config-feedback]"),y=document.querySelector("[data-theme-form]"),K=q=>{a.forEach(k=>{let d=k.dataset.settingsTab===q;k.setAttribute("aria-selected",d?"true":"false"),k.classList.toggle("bg-[#9C6BFF]",d),k.classList.toggle("text-white",d)}),h.forEach(k=>{k.classList.toggle("hidden",k.dataset.settingsPanel!==q)})};if(a.forEach(q=>{q.addEventListener("click",()=>K(q.dataset.settingsTab||"account"))}),K("account"),I){let q=I.querySelector("[data-admin-password-feedback]"),k=I.querySelector("[data-admin-password-submit]"),d=(x,T="muted")=>{if(!q)return;let v=T==="success"?"text-emerald-600":T==="error"?"text-rose-600":"text-slate-500";q.textContent=x||"",q.className=`text-sm ${v}`};I.addEventListener("submit",async x=>{x.preventDefault();let T=new FormData(I),v=T.get("currentPassword")||"",$=T.get("newPassword")||"",g=T.get("confirmPassword")||"";if(!v||!$||!g){d("Compl\xE8te tous les champs.","error");return}k&&(k.disabled=!0),d("");try{let i=await fetch("/api/admin/password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentPassword:v,newPassword:$,confirmPassword:g})}),C=await i.json().catch(()=>({}));if(!i.ok||C.success===!1)throw new Error(C.message||"Impossible de mettre \xE0 jour le mot de passe.");d(C.message||"Mot de passe mis \xE0 jour.","success"),I.reset()}catch(i){console.error("[settings] change password failed",i),d(i.message||"Erreur lors de la mise \xE0 jour.","error")}finally{k&&(k.disabled=!1)}})}if(M){let q=M.querySelector("[data-site-name]"),k=M.querySelector("[data-site-language]"),d=M.querySelector("[data-site-tagline]"),x=M.querySelector("[data-site-save]"),T=(i,C="muted")=>{if(!E)return;let P=C==="success"?"text-emerald-600":C==="error"?"text-rose-600":"text-slate-500";E.textContent=i||"",E.className=`text-sm ${P}`},v=st((H==null?void 0:H.slugValue)||ee.slug||""),$=v?`/api/sites/${encodeURIComponent(v)}/config/site`:null,g=async()=>{if($)try{let i=await fetch($,{headers:{Accept:"application/json"}});if(!i.ok)return;let C=await i.json().catch(()=>({}));q&&(q.value=C.name||""),k&&(k.value=C.language||"fr"),d&&(d.value=C.tagline||"")}catch(i){console.error("[settings] load site config failed",i)}};M.addEventListener("submit",async i=>{if(i.preventDefault(),!$){T("Aucun site actif.","error");return}if(!(q!=null&&q.value.trim())){T("Nom requis.","error");return}x&&(x.disabled=!0),T("");try{let C={name:(q==null?void 0:q.value)||"",language:(k==null?void 0:k.value)||"fr",tagline:(d==null?void 0:d.value)||""},P=await fetch($,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(C)}),ne=await P.json().catch(()=>({}));if(!P.ok||ne.success===!1)throw new Error(ne.message||"Sauvegarde impossible.");T(ne.message||"Param\xE8tres enregistr\xE9s.","success")}catch(C){console.error("[settings] save site config failed",C),T(C.message||"Erreur lors de la sauvegarde.","error")}finally{x&&(x.disabled=!1)}}),g()}if(y){let q=st((H==null?void 0:H.slugValue)||ee.slug||""),k=q?`/api/sites/${encodeURIComponent(q)}/config/theme`:null,d={primary:y.querySelector("[data-theme-primary]"),secondary:y.querySelector("[data-theme-secondary]"),accent:y.querySelector("[data-theme-accent]"),background:y.querySelector("[data-theme-background]"),text:y.querySelector("[data-theme-text]")},x=y.querySelector("[data-theme-headings]"),T=y.querySelector("[data-theme-body]"),v=y.querySelector("[data-theme-radius-small]"),$=y.querySelector("[data-theme-radius-medium]"),g=y.querySelector("[data-theme-radius-large]"),i=y.querySelector("[data-theme-preview]"),C=y.querySelector("[data-theme-feedback]"),P=y.querySelector("[data-theme-apply]"),ne=["slate","gray","zinc","neutral","stone","red","orange","amber","yellow","lime","green","emerald","teal","cyan","sky","blue","indigo","violet","purple","fuchsia","pink","rose"],W=["50","100","200","300","400","500","600","700","800","900"],Q=ne.flatMap(B=>W.map(u=>`${B}-${u}`)),X=()=>{Object.values(d).forEach(B=>{!B||B.options.length||Q.forEach(u=>{let m=document.createElement("option");m.value=u;let[F,p]=u.split("-");m.textContent=`${F.charAt(0).toUpperCase()+F.slice(1)} ${p}`,B.appendChild(m)})})},ae=(B,u="muted")=>{if(!C)return;let m=u==="success"?"text-emerald-600":u==="error"?"text-rose-600":"text-slate-500";C.textContent=B||"",C.className=`text-sm ${m}`},G=()=>{var u,m,F,p,fe;if(!i)return;let B=be=>{if(!be)return null;let[we,Se]=be.split("-"),pe={slate:"#e2e8f0",gray:"#d1d5db",zinc:"#d4d4d8",neutral:"#d4d4d4",stone:"#d6d3d1",red:"#ef4444",orange:"#f97316",amber:"#f59e0b",yellow:"#eab308",lime:"#84cc16",green:"#22c55e",emerald:"#10b981",teal:"#14b8a6",cyan:"#06b6d4",sky:"#0ea5e9",blue:"#3b82f6",indigo:"#6366f1",violet:"#8b5cf6",purple:"#a855f7",fuchsia:"#d946ef",pink:"#ec4899",rose:"#f43f5e"}[we];if(!pe)return null;let D=Number(Se)||500,qe=Math.min(Math.max((D-50)/900,0),1),xe=se=>se.match(/[A-Fa-f0-9]{2}/g).map(O=>parseInt(O,16)),[ft,xt,ke]=xe(pe.replace("#","")),Ke=se=>Math.round(255-(255-se)*qe);return`rgb(${Ke(ft)}, ${Ke(xt)}, ${Ke(ke)})`};i.style.setProperty("--color-primary",B((u=d.primary)==null?void 0:u.value)||"#9C6BFF"),i.style.setProperty("--color-secondary",B((m=d.secondary)==null?void 0:m.value)||"#0EA5E9"),i.style.setProperty("--color-accent",B((F=d.accent)==null?void 0:F.value)||"#F97316"),i.style.setProperty("--color-background",B((p=d.background)==null?void 0:p.value)||"#FFFFFF"),i.style.setProperty("--color-text",B((fe=d.text)==null?void 0:fe.value)||"#0F172A"),i.style.setProperty("--font-headings",(x==null?void 0:x.value)||"Inter, sans-serif"),i.style.setProperty("--font-body",(T==null?void 0:T.value)||"Inter, sans-serif"),i.style.setProperty("--radius-small",(v==null?void 0:v.value)||"8px"),i.style.setProperty("--radius-medium",($==null?void 0:$.value)||"16px"),i.style.setProperty("--radius-large",(g==null?void 0:g.value)||"24px"),i.style.borderRadius=($==null?void 0:$.value)||"16px"},Z=(B,u)=>{d[B]&&(d[B].value=u)};Object.keys(d).forEach(B=>{var u;(u=d[B])==null||u.addEventListener("change",G)}),[x,T,v,$,g].forEach(B=>{B==null||B.addEventListener("change",G)});let ie=async()=>{var B,u,m,F,p,fe,be,we,Se,lt;if(k)try{let pe=await fetch(k,{headers:{Accept:"application/json"}});if(!pe.ok)return;let D=await pe.json().catch(()=>({}));Z("primary",((B=D.colors)==null?void 0:B.primary)||"violet-500"),Z("secondary",((u=D.colors)==null?void 0:u.secondary)||"indigo-400"),Z("accent",((m=D.colors)==null?void 0:m.accent)||"emerald-500"),Z("background",((F=D.colors)==null?void 0:F.background)||"slate-50"),Z("text",((p=D.colors)==null?void 0:p.text)||"slate-900"),x&&(x.value=((fe=D.typography)==null?void 0:fe.headings)||"Inter, sans-serif"),T&&(T.value=((be=D.typography)==null?void 0:be.body)||"Inter, sans-serif"),v&&(v.value=((we=D.radius)==null?void 0:we.small)||"8px"),$&&($.value=((Se=D.radius)==null?void 0:Se.medium)||"16px"),g&&(g.value=((lt=D.radius)==null?void 0:lt.large)||"24px"),G()}catch(pe){console.error("[settings] load theme failed",pe)}};X(),P==null||P.addEventListener("click",async B=>{var m,F,p,fe,be;if(B.preventDefault(),!k){ae("Aucun site actif.","error");return}let u={colors:{primary:((m=d.primary)==null?void 0:m.value)||"violet-500",secondary:((F=d.secondary)==null?void 0:F.value)||"indigo-400",accent:((p=d.accent)==null?void 0:p.value)||"emerald-500",background:((fe=d.background)==null?void 0:fe.value)||"slate-50",text:((be=d.text)==null?void 0:be.value)||"slate-900"},typography:{headings:(x==null?void 0:x.value)||"Inter, sans-serif",body:(T==null?void 0:T.value)||"Inter, sans-serif"},radius:{small:(v==null?void 0:v.value)||"8px",medium:($==null?void 0:$.value)||"16px",large:(g==null?void 0:g.value)||"24px"}};P.disabled=!0,ae("");try{let we=await fetch(k,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)}),Se=await we.json().catch(()=>({}));if(!we.ok||Se.success===!1)throw new Error(Se.message||"Application du th\xE8me \xE9chou\xE9e.");ae(Se.message||"Th\xE8me appliqu\xE9.","success"),G()}catch(we){console.error("[settings] apply theme failed",we),ae(we.message||"Erreur lors de l\u2019application du th\xE8me.","error")}finally{P.disabled=!1}}),X(),ie(),G()}let te=document.querySelector("[data-seo-config-form]");if(te){let q=te.querySelector("[data-seo-index-all]"),k=te.querySelector("[data-seo-config-feedback]"),d=te.querySelector("[data-seo-save]"),x=st((H==null?void 0:H.slugValue)||ee.slug||""),T=x?`/api/sites/${encodeURIComponent(x)}/config/site`:null,v=(g,i="muted")=>{if(!k)return;let C=i==="success"?"text-emerald-600":i==="error"?"text-rose-600":"text-slate-500";k.textContent=g||"",k.className=`text-sm ${C}`},$=async()=>{var g;if(T)try{let i=await fetch(T,{headers:{Accept:"application/json"}});if(!i.ok)return;let P=((g=(await i.json().catch(()=>({}))).seo)==null?void 0:g.indexAllPagesByDefault)!==!1;q&&(q.checked=P)}catch(i){console.error("[settings] load seo config failed",i)}};te.addEventListener("submit",async g=>{var i;if(g.preventDefault(),!T){v("Aucun site actif.","error");return}d&&(d.disabled=!0),v("");try{let C=await fetch(T,{headers:{Accept:"application/json"}}),P=C.ok?await C.json().catch(()=>({})):{},ne={...P,seo:{...P.seo||{},indexAllPagesByDefault:(i=q==null?void 0:q.checked)!=null?i:!0}},W=await fetch(T,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ne)}),Q=await W.json().catch(()=>({}));if(!W.ok||Q.success===!1)throw new Error(Q.message||"Sauvegarde impossible.");v(Q.message||"Param\xE8tres SEO enregistr\xE9s.","success")}catch(C){console.error("[settings] save seo config failed",C),v(C.message||"Erreur lors de la sauvegarde.","error")}finally{d&&(d.disabled=!1)}}),$()}let z=document.querySelector("[data-analytics-form]");if(z){let q=z.querySelector("[data-analytics-head]"),k=z.querySelector("[data-analytics-body]"),d=z.querySelector("[data-analytics-feedback]"),x=z.querySelector("[data-analytics-save]"),T=st((H==null?void 0:H.slugValue)||ee.slug||""),v=T?`/api/sites/${encodeURIComponent(T)}/config/site`:null,$=(i,C="muted")=>{if(!d)return;let P=C==="success"?"text-emerald-600":C==="error"?"text-rose-600":"text-slate-500";d.textContent=i||"",d.className=`text-sm ${P}`},g=async()=>{var i,C;if(v)try{let P=await fetch(v,{headers:{Accept:"application/json"}});if(!P.ok)return;let ne=await P.json().catch(()=>({}));q&&(q.value=((i=ne.analytics)==null?void 0:i.headCode)||""),k&&(k.value=((C=ne.analytics)==null?void 0:C.bodyEndCode)||"")}catch(P){console.error("[settings] load analytics config failed",P)}};z.addEventListener("submit",async i=>{if(i.preventDefault(),!v){$("Aucun site actif.","error");return}x&&(x.disabled=!0),$("");try{let C=await fetch(v,{headers:{Accept:"application/json"}}),ne={...C.ok?await C.json().catch(()=>({})):{},analytics:{headCode:(q==null?void 0:q.value)||"",bodyEndCode:(k==null?void 0:k.value)||""}},W=await fetch(v,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ne)}),Q=await W.json().catch(()=>({}));if(!W.ok||Q.success===!1)throw new Error(Q.message||"Sauvegarde impossible.");$(Q.message||"Scripts enregistr\xE9s.","success")}catch(C){console.error("[settings] save analytics config failed",C),$(C.message||"Erreur lors de la sauvegarde.","error")}finally{x&&(x.disabled=!1)}}),g()}}function Po(){let a=document.querySelector("[data-media-grid]");if(!a)return;let h=document.querySelector("[data-media-empty]"),I=document.querySelector("[data-media-count]"),M=document.querySelector("[data-media-filter-type]"),E=document.querySelector("[data-media-detail-empty]"),y=document.querySelector("[data-media-detail]"),K=document.querySelector("[data-media-detail-preview]"),te=document.querySelector("[data-media-detail-name]"),z=document.querySelector("[data-media-detail-type]"),q=document.querySelector("[data-media-detail-size]"),k=document.querySelector("[data-media-detail-path]"),d=document.querySelector("[data-media-detail-used]"),x=document.querySelector("[data-media-alt-edit]"),T=document.querySelector("[data-media-save]"),v=document.querySelector("[data-media-delete]"),$=document.querySelector("[data-media-delete-modal]"),g=document.querySelector("[data-media-delete-cancel]"),i=document.querySelector("[data-media-delete-confirm]"),C=document.querySelector("[data-media-upload-open]"),P=document.querySelector("[data-media-file-input]"),ne=document.querySelector("[data-media-upload-status]"),W=st((H==null?void 0:H.slugValue)||ee.slug||""),Q=W?`/api/sites/${encodeURIComponent(W)}/media`:null,X=[],ae=[],G=null,Z=null,ie=null,B=!1,u=!1,m=!1,F=null,p=l=>{let b=(l.type||"").toLowerCase(),_=(l.filename||"").toLowerCase();return b.includes("image")||/\.(png|jpe?g|webp|svg|gif)$/i.test(_)?"image":b.includes("pdf")||b.includes("doc")||/\.(pdf|docx?)$/i.test(_)?"document":b.includes("video")||/\.(mp4|mov|webm)$/i.test(_)?"video":"other"},fe=l=>p(l)==="image",be=l=>{if(l.type)return l.type.toUpperCase();let b=(l.filename||"").split(".").pop();return b?b.toUpperCase():"FILE"},we=l=>!l||l<=0?"\u2014":l<1024?`${l} o`:l<1024*1024?`${(l/1024).toFixed(1)} ko`:`${(l/(1024*1024)).toFixed(1)} Mo`,Se=()=>{y==null||y.classList.add("hidden"),E==null||E.classList.remove("hidden"),lt(),G=null,u=!1,xe(!1),K&&(K.innerHTML='<span class="text-slate-400 text-sm">Aucun m\xE9dia s\xE9lectionn\xE9</span>'),te&&(te.textContent=""),z&&(z.textContent=""),q&&(q.textContent=""),x&&(x.value=""),k&&(k.textContent=""),d&&(d.innerHTML="")},lt=()=>{ie=null,m=!1,B=!1,F&&(URL.revokeObjectURL(F),F=null),ne&&(ne.textContent="Aucun fichier s\xE9lectionn\xE9."),P&&(P.value="")},pe=()=>{I&&(ae.length?ae.length===1?I.textContent="1 m\xE9dia":I.textContent=`${ae.length} m\xE9dias`:I.textContent="0 m\xE9dia")},D=()=>{if(a.innerHTML="",!ae.length){h==null||h.classList.remove("hidden"),Se();return}h==null||h.classList.add("hidden"),ae.forEach(l=>{let b=document.createElement("button");b.type="button",b.dataset.mediaId=l.id;let _=l.id===G;b.className=["group relative flex flex-col rounded-2xl border px-3 py-3 text-left transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[#9C6BFF]",_?"border-[#9C6BFF] bg-[#F7F0FF]/60 shadow-sm":"border-slate-200 hover:border-[#9C6BFF]/40"].join(" ");let J=fe(l)?`<img src="${l.path}" alt="${l.alt||l.filename}" class="h-full w-full object-cover" />`:'<div class="flex h-full w-full items-center justify-center text-3xl text-slate-400">\u{1F4C4}</div>';b.innerHTML=`
          <div class="relative aspect-[4/3] overflow-hidden rounded-xl bg-slate-100">
            ${J}
          </div>
          <div class="mt-2 space-y-1">
            <p class="text-sm font-semibold text-slate-900 truncate">${l.filename}</p>
            <p class="text-xs text-slate-500">
              ${be(l)} \xB7 ${we(l.size)}
            </p>
          </div>
        `,l.id===Z&&(b.classList.add("ring-2","ring-[#9C6BFF]"),window.setTimeout(()=>{b.classList.remove("ring-2","ring-[#9C6BFF]")},1600)),b.addEventListener("click",()=>ft(l.id)),a.appendChild(b)}),Z=null},qe=l=>{if(d){if(d.innerHTML="",!l.usedIn||l.usedIn.length===0){let b=document.createElement("li");b.textContent="Non utilis\xE9",b.className="text-xs text-slate-400",d.appendChild(b);return}l.usedIn.forEach(b=>{let _=document.createElement("li");_.textContent=b,_.className="text-xs text-slate-600",d.appendChild(_)})}},xe=l=>{if(T){if(m){T.textContent=l?"T\xE9l\xE9versement\u2026":"T\xE9l\xE9verser",T.disabled=l||!ie,v&&v.classList.add("hidden");return}T.textContent=l?"Enregistrement\u2026":"Enregistrer",T.disabled=l||!u,v&&(v.classList.remove("hidden"),v.disabled=!G)}},ft=l=>{let b=X.find(_=>_.id===l);if(!b){Se(),D();return}lt(),G=b.id,u=!1,xe(!1),D(),E==null||E.classList.add("hidden"),y==null||y.classList.remove("hidden"),K&&(fe(b)?K.innerHTML=`<img src="${b.path}" alt="${b.alt||b.filename}" class="h-full w-full rounded-2xl object-cover" />`:K.innerHTML='<div class="flex h-full w-full flex-col items-center justify-center gap-1 text-slate-400"><span class="text-3xl">\u{1F4C4}</span><span class="text-xs font-semibold">Document</span></div>'),te&&(te.textContent=b.filename||"Fichier"),z&&(z.textContent=be(b)),q&&(q.textContent=we(b.size)),x&&(x.value=b.alt||""),k&&(k.textContent=b.path||"\u2014"),qe(b)},xt=l=>{if(l){if(m=!0,u=!1,G=null,E==null||E.classList.add("hidden"),y==null||y.classList.remove("hidden"),F&&URL.revokeObjectURL(F),F=URL.createObjectURL(l),K&&(K.innerHTML=`<img src="${F}" alt="${l.name}" class="h-full w-full rounded-2xl object-cover" />`),te&&(te.textContent=l.name),z&&(z.textContent=be({type:l.type,filename:l.name})),q&&(q.textContent=we(l.size)),x&&!x.value.trim()&&(x.value=l.name.replace(/\.[^.]+$/,"").replace(/[-_]/g," ")),k&&(k.textContent="En attente de t\xE9l\xE9versement"),d){d.innerHTML="";let b=document.createElement("li");b.textContent="Non utilis\xE9",b.className="text-xs text-slate-400",d.appendChild(b)}xe(!1)}},ke=()=>{let l=(M==null?void 0:M.value)||"all";l==="all"?ae=[...X]:ae=X.filter(b=>b.groupType===l),ae.some(b=>b.id===G)||Se(),pe(),D()},Ke=async()=>{if(!Q){h==null||h.classList.remove("hidden");return}try{let l=await fetch(Q,{headers:{Accept:"application/json"}});if(!l.ok)throw new Error("Impossible de charger les m\xE9dias.");let b=await l.json().catch(()=>({items:[]}));X=Array.isArray(b.items)?b.items.map(_=>({..._,groupType:p(_)})):[],ke()}catch(l){console.error("[media] load failed",l),N(l.message||"Impossible de charger les m\xE9dias."),X=[],ke()}};M==null||M.addEventListener("change",()=>{ke()}),x==null||x.addEventListener("input",()=>{if(m){xe(!1);return}G&&(u=!0,xe(!1))});let se=l=>{if(l){if(!l.type.startsWith("image/")){N("Seules les images sont accept\xE9es pour le moment.");return}if(l.size>4*1024*1024){N("Fichier trop volumineux (4 Mo max).");return}ie=l,xt(l),ne&&(ne.textContent=`${l.name} \xB7 ${we(l.size)}`)}},O=l=>new Promise((b,_)=>{let J=new FileReader;J.onload=()=>{let wt=J.result||"",[,Ae=""]=String(wt).split(",");b(Ae)},J.onerror=()=>_(new Error("Impossible de lire ce fichier.")),J.readAsDataURL(l)}),ot=async()=>{if(!(!ie||!Q)){B=!0,xe(!0);try{let l=await O(ie),b={filename:ie.name,type:ie.type,size:ie.size,alt:(x==null?void 0:x.value)||"",data:l},_=await fetch(Q,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});if(!_.ok){let wt=await _.json().catch(()=>({}));throw new Error(wt.message||"Upload impossible.")}let J=await _.json();J.groupType=p(J),X=[...X,J],Z=J.id,ke(),ft(J.id),N("M\xE9dia ajout\xE9"),lt()}catch(l){console.error("[media] upload failed",l),N(l.message||"Impossible de t\xE9l\xE9verser ce m\xE9dia.")}finally{B=!1,ie=null,xe(!1)}}};C==null||C.addEventListener("click",()=>P==null?void 0:P.click()),P==null||P.addEventListener("change",()=>{P.files&&P.files[0]&&se(P.files[0])});let Le=()=>{$&&($.classList.add("hidden"),$.classList.remove("flex"))},Xe=()=>{if(!(!G||m)){if($){$.classList.remove("hidden"),$.classList.add("flex");return}window.confirm("Supprimer ce m\xE9dia ?")&&qt()}},qt=async()=>{if(!G||!Q){Le();return}let l=()=>{v&&(v.disabled=!0),i&&(i.disabled=!0,i.textContent="Suppression\u2026")},b=()=>{v&&(v.disabled=!1),i&&(i.disabled=!1,i.textContent="Supprimer")};l();try{let _=await fetch(`${Q}/${encodeURIComponent(G)}`,{method:"DELETE"});if(!_.ok){let J=await _.json().catch(()=>({}));throw new Error(J.message||"Suppression impossible.")}X=X.filter(J=>J.id!==G),ae=ae.filter(J=>J.id!==G),N("M\xE9dia supprim\xE9"),Se(),pe(),D()}catch(_){console.error("[media] delete failed",_),N(_.message||"Impossible de supprimer ce m\xE9dia.")}finally{b(),Le()}};g==null||g.addEventListener("click",Le),$==null||$.addEventListener("click",l=>{l.target===$&&Le()}),i==null||i.addEventListener("click",()=>qt()),v==null||v.addEventListener("click",Xe),T==null||T.addEventListener("click",async()=>{if(m){ot();return}if(!(!G||!Q||!x)){xe(!0);try{let l={alt:x.value||""},b=await fetch(`${Q}/${encodeURIComponent(G)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)});if(!b.ok){let J=await b.json().catch(()=>({}));throw new Error(J.message||"Impossible de mettre \xE0 jour ce m\xE9dia.")}let _=await b.json();X=X.map(J=>J.id===G?{...J,..._}:J),ae=ae.map(J=>J.id===G?{...J,..._}:J),u=!1,xe(!1),N("M\xE9dia mis \xE0 jour")}catch(l){console.error("[media] update failed",l),N(l.message||"\xC9chec de la mise \xE0 jour."),xe(!1)}}}),Ke()}});})();
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vY29yZS9zY3JpcHRzL2FkbWluLmpzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuICBjb25zb2xlLmxvZygnW2FkbWluXSBBdGVsaWVyIGNoYXJnXHUwMEU5Jyk7XG4gIGNvbnN0IGxvZ291dEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWxvZ291dF0nKTtcbiAgaWYgKGxvZ291dEJ1dHRvbikge1xuICAgIGxvZ291dEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGxvZ291dEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBmZXRjaCgnL2FwaS9sb2dvdXQnLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbYWRtaW5dIEltcG9zc2libGUgZGUgc2UgZFx1MDBFOWNvbm5lY3RlcicsIGVycik7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvYWRtaW4vaW5kZXguaHRtbCc7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBjb25zdCBzaWRlYmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRtaW4tc2lkZWJhcl0nKTtcbiAgY29uc3Qgc2lkZWJhck92ZXJsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZG1pbi1zaWRlYmFyLW92ZXJsYXldJyk7XG4gIGNvbnN0IHNpZGViYXJUb2dnbGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYWRtaW4tc2lkZWJhci10b2dnbGVdJyk7XG4gIGNvbnN0IHNpZGViYXJDbG9zZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1hZG1pbi1zaWRlYmFyLWNsb3NlXScpO1xuICBjb25zdCBib2R5ID0gZG9jdW1lbnQuYm9keTtcbiAgbGV0IHNpZGViYXJPcGVuID0gZmFsc2U7XG5cbiAgY29uc3QgYXBwbHlTaWRlYmFyU3RhdGUgPSAoKSA9PiB7XG4gICAgaWYgKCFzaWRlYmFyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGlzRGVza3RvcCA9IHdpbmRvdy5tYXRjaE1lZGlhKCcobWluLXdpZHRoOiAxMDI0cHgpJykubWF0Y2hlcztcbiAgICBpZiAoaXNEZXNrdG9wKSB7XG4gICAgICBzaWRlYmFyLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgc2lkZWJhck92ZXJsYXk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHNpZGViYXJPcGVuKSB7XG4gICAgICBzaWRlYmFyLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgc2lkZWJhck92ZXJsYXk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgYm9keS5jbGFzc0xpc3QuYWRkKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2lkZWJhci5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIHNpZGViYXJPdmVybGF5Py5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnb3ZlcmZsb3ctaGlkZGVuJyk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IG9wZW5TaWRlYmFyID0gKCkgPT4ge1xuICAgIHNpZGViYXJPcGVuID0gdHJ1ZTtcbiAgICBhcHBseVNpZGViYXJTdGF0ZSgpO1xuICB9O1xuXG4gIGNvbnN0IGNsb3NlU2lkZWJhciA9ICgpID0+IHtcbiAgICBzaWRlYmFyT3BlbiA9IGZhbHNlO1xuICAgIGFwcGx5U2lkZWJhclN0YXRlKCk7XG4gIH07XG5cbiAgaWYgKHNpZGViYXIgJiYgc2lkZWJhclRvZ2dsZXMubGVuZ3RoID4gMCkge1xuICAgIHNpZGViYXJUb2dnbGVzLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlblNpZGViYXIpO1xuICAgIH0pO1xuICAgIHNpZGViYXJDbG9zZUJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZVNpZGViYXIpO1xuICAgIH0pO1xuICAgIHNpZGViYXJPdmVybGF5Py5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlU2lkZWJhcik7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGFwcGx5U2lkZWJhclN0YXRlKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VzY2FwZScgJiYgc2lkZWJhck9wZW4pIHtcbiAgICAgICAgY2xvc2VTaWRlYmFyKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgYXBwbHlTaWRlYmFyU3RhdGUoKTtcbiAgfVxuXG4gIGNvbnN0IEFDVElWRV9TSVRFX0tFWSA9ICdjbG93ZXI6Y3VycmVudFNpdGUnO1xuICBjb25zdCBBQ1RJVkVfU0lURV9OQU1FX0tFWSA9ICdjbG93ZXI6Y3VycmVudFNpdGVOYW1lJztcbiAgY29uc3Qgc3RvcmVkU2l0ZSA9IHsgc2x1ZzogbnVsbCwgbmFtZTogJycgfTtcbiAgY29uc3QgbG9hZFN0b3JlZFNpdGUgPSAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHN0b3JlZFNpdGUuc2x1ZyA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShBQ1RJVkVfU0lURV9LRVkpO1xuICAgICAgc3RvcmVkU2l0ZS5uYW1lID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKEFDVElWRV9TSVRFX05BTUVfS0VZKSB8fCAnJztcbiAgICB9IGNhdGNoIHtcbiAgICAgIHN0b3JlZFNpdGUuc2x1ZyA9IG51bGw7XG4gICAgICBzdG9yZWRTaXRlLm5hbWUgPSAnJztcbiAgICB9XG4gIH07XG4gIGxvYWRTdG9yZWRTaXRlKCk7XG5cbiAgY29uc3Qgc2l0ZUNhcmRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtc2l0ZS1jYXJkXScpO1xuICBjb25zdCBzaXRlU2VsZWN0QnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXNpdGUtc2VsZWN0XScpO1xuICBjb25zdCBzaXRlTmFtZUxhYmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY3VycmVudC1zaXRlLW5hbWVdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZVNpdGVMYWJlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXdvcmtzcGFjZS1zaXRlLW5hbWVdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZUJhY2tOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtd29ya3NwYWNlLWJhY2stbmFtZV0nKTtcbiAgY29uc3Qgd29ya3NwYWNlQmFja01vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtd29ya3NwYWNlLWJhY2stbW9kYWxdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZUJhY2tCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtd29ya3NwYWNlLWJhY2tdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZUJhY2tDYW5jZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS13b3Jrc3BhY2UtYmFjay1jYW5jZWxdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZUJhY2tDb25maXJtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtd29ya3NwYWNlLWJhY2stY29uZmlybV0nKTtcbiAgY29uc3Qgd29ya3NwYWNlTmF2TGlua3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS13b3Jrc3BhY2UtdGFiXScpO1xuICBjb25zdCBzaXRlVG9hc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLXRvYXN0XScpO1xuICBjb25zdCBzaXRlVG9hc3RNZXNzYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS10b2FzdC1tZXNzYWdlXScpO1xuICBjb25zdCBzaXRlQ3JlYXRlQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXNpdGUtY3JlYXRlXScpO1xuICBjb25zdCBzaXRlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLW1vZGFsXScpO1xuICBjb25zdCBzaXRlRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtZm9ybV0nKTtcbiAgLy8gVXNlIG1vcmUgc3BlY2lmaWMgc2VsZWN0b3JzIHRvIGdldCBpbnB1dHMgSU5TSURFIHRoZSBmb3JtLCBub3Qgc2l0ZSBjYXJkc1xuICBjb25zdCBzaXRlTmFtZUlucHV0ID0gc2l0ZUZvcm0/LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9XCJzaXRlTmFtZVwiXScpO1xuICBjb25zdCBzaXRlU2x1Z0lucHV0ID0gc2l0ZUZvcm0/LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9XCJzaXRlU2x1Z1wiXScpO1xuICBjb25zdCBzaXRlU2x1Z0Vycm9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS1zbHVnLWVycm9yXScpO1xuICBjb25zdCBzaXRlTW9kYWxFcnJvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtbW9kYWwtZXJyb3JdJyk7XG4gIGNvbnN0IHNpdGVNb2RhbENhbmNlbEJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1zaXRlLW1vZGFsLWNhbmNlbF0nKTtcbiAgY29uc3Qgc2l0ZU1vZGFsU3VibWl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS1tb2RhbC1zdWJtaXRdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZUNvbnRleHQgPSBnZXRXb3Jrc3BhY2VDb250ZXh0KCk7XG4gIGxldCBzbHVnTWFudWFsbHlFZGl0ZWQgPSBmYWxzZTtcbiAgbGV0IGxhc3RGb2N1c2VkRWxlbWVudCA9IG51bGw7XG4gIGxldCB0b2FzdFRpbWVvdXRJZCA9IG51bGw7XG5cbiAgY29uc3QgZm9jdXNhYmxlU2VsZWN0b3IgPVxuICAgICdhW2hyZWZdLCBidXR0b246bm90KFtkaXNhYmxlZF0pLCB0ZXh0YXJlYSwgaW5wdXQsIHNlbGVjdCwgW3RhYmluZGV4XTpub3QoW3RhYmluZGV4PVwiLTFcIl0pJztcbiAgY29uc3QgdHJhcEZvY3VzID0gKGV2ZW50KSA9PiB7XG4gICAgaWYgKCFzaXRlTW9kYWwgfHwgc2l0ZU1vZGFsLmNsYXNzTGlzdC5jb250YWlucygnaGlkZGVuJykgfHwgZXZlbnQua2V5ICE9PSAnVGFiJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBmb2N1c2FibGVFbGVtZW50cyA9IEFycmF5LmZyb20oc2l0ZU1vZGFsLnF1ZXJ5U2VsZWN0b3JBbGwoZm9jdXNhYmxlU2VsZWN0b3IpKS5maWx0ZXIoXG4gICAgICAoZWwpID0+ICFlbC5oYXNBdHRyaWJ1dGUoJ2Rpc2FibGVkJykgJiYgIWVsLmdldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nKSxcbiAgICApO1xuICAgIGlmIChmb2N1c2FibGVFbGVtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZmlyc3QgPSBmb2N1c2FibGVFbGVtZW50c1swXTtcbiAgICBjb25zdCBsYXN0ID0gZm9jdXNhYmxlRWxlbWVudHNbZm9jdXNhYmxlRWxlbWVudHMubGVuZ3RoIC0gMV07XG4gICAgaWYgKGV2ZW50LnNoaWZ0S2V5KSB7XG4gICAgICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gZmlyc3QpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgbGFzdC5mb2N1cygpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gbGFzdCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGZpcnN0LmZvY3VzKCk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHNob3dUb2FzdCA9IChtZXNzYWdlKSA9PiB7XG4gICAgaWYgKCFzaXRlVG9hc3QgfHwgIXNpdGVUb2FzdE1lc3NhZ2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2l0ZVRvYXN0TWVzc2FnZS50ZXh0Q29udGVudCA9IG1lc3NhZ2U7XG4gICAgc2l0ZVRvYXN0LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgIGlmICh0b2FzdFRpbWVvdXRJZCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRvYXN0VGltZW91dElkKTtcbiAgICB9XG4gICAgdG9hc3RUaW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHNpdGVUb2FzdC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICB9LCAyNTAwKTtcbiAgfTtcblxuICBmdW5jdGlvbiBlbnN1cmVMZWFkaW5nU2xhc2goc2x1Zykge1xuICAgIGlmICghc2x1Zykge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICByZXR1cm4gc2x1Zy5zdGFydHNXaXRoKCcvJykgPyBzbHVnIDogYC8ke3NsdWd9YDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHN0cmlwTGVhZGluZ1NsYXNoKHNsdWcpIHtcbiAgICByZXR1cm4gc2x1Zz8ucmVwbGFjZSgvXlxcLy8sICcnKSB8fCAnJztcbiAgfVxuXG4gIGNvbnN0IHBlcnNpc3RTaXRlU3RhdGUgPSAoc2x1ZywgbmFtZSkgPT4ge1xuICAgIGNvbnN0IG5vcm1hbGl6ZWRTbHVnID0gc2x1ZyA/IGVuc3VyZUxlYWRpbmdTbGFzaChzbHVnKSA6IG51bGw7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChub3JtYWxpemVkU2x1Zykge1xuICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oQUNUSVZFX1NJVEVfS0VZLCBub3JtYWxpemVkU2x1Zyk7XG4gICAgICAgIHN0b3JlZFNpdGUuc2x1ZyA9IG5vcm1hbGl6ZWRTbHVnO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBuYW1lID09PSAnc3RyaW5nJyAmJiBuYW1lLmxlbmd0aCA+IDApIHtcbiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKEFDVElWRV9TSVRFX05BTUVfS0VZLCBuYW1lKTtcbiAgICAgICAgc3RvcmVkU2l0ZS5uYW1lID0gbmFtZTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIHtcbiAgICAgIHN0b3JlZFNpdGUuc2x1ZyA9IG5vcm1hbGl6ZWRTbHVnIHx8IHN0b3JlZFNpdGUuc2x1ZztcbiAgICAgIHN0b3JlZFNpdGUubmFtZSA9IG5hbWUgfHwgc3RvcmVkU2l0ZS5uYW1lO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCB1cGRhdGVTaXRlTGFiZWxzID0gKG5hbWUpID0+IHtcbiAgICBpZiAoc2l0ZU5hbWVMYWJlbCAmJiBuYW1lKSB7XG4gICAgICBzaXRlTmFtZUxhYmVsLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICB9XG4gICAgaWYgKHdvcmtzcGFjZVNpdGVMYWJlbCAmJiBuYW1lKSB7XG4gICAgICB3b3Jrc3BhY2VTaXRlTGFiZWwudGV4dENvbnRlbnQgPSBuYW1lO1xuICAgIH1cbiAgICBpZiAod29ya3NwYWNlQmFja05hbWUgJiYgbmFtZSkge1xuICAgICAgd29ya3NwYWNlQmFja05hbWUudGV4dENvbnRlbnQgPSBuYW1lO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCB1cGRhdGVXb3Jrc3BhY2VOYXZMaW5rcyA9IChzbHVnKSA9PiB7XG4gICAgd29ya3NwYWNlTmF2TGlua3MuZm9yRWFjaCgobGluaykgPT4ge1xuICAgICAgY29uc3QgdGFiID0gbGluay5kYXRhc2V0LndvcmtzcGFjZVRhYjtcbiAgICAgIGlmICghdGFiKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghc2x1Zykge1xuICAgICAgICBsaW5rLmhyZWYgPSAnIyc7XG4gICAgICAgIGxpbmsuY2xhc3NMaXN0LmFkZCgncG9pbnRlci1ldmVudHMtbm9uZScsICdvcGFjaXR5LTUwJywgJ3RleHQtc2xhdGUtNDAwJyk7XG4gICAgICAgIGxpbmsuc2V0QXR0cmlidXRlKCdhcmlhLWRpc2FibGVkJywgJ3RydWUnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3Qgc2x1Z1BhdGggPSBlbmNvZGVVUklDb21wb25lbnQoc3RyaXBMZWFkaW5nU2xhc2goc2x1ZykpO1xuICAgICAgbGluay5ocmVmID0gYC9hZG1pbi9zaXRlLyR7c2x1Z1BhdGh9LyR7dGFifWA7XG4gICAgICBsaW5rLmNsYXNzTGlzdC5yZW1vdmUoJ3BvaW50ZXItZXZlbnRzLW5vbmUnLCAnb3BhY2l0eS01MCcsICd0ZXh0LXNsYXRlLTQwMCcpO1xuICAgICAgbGluay5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtZGlzYWJsZWQnKTtcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBhcHBseUFjdGl2ZVNpdGUgPSAoc2x1Zywgb3B0aW9ucyA9IHt9KSA9PiB7XG4gICAgaWYgKCFzbHVnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG5vcm1hbGl6ZWRTbHVnID0gZW5zdXJlTGVhZGluZ1NsYXNoKHNsdWcpO1xuICAgIGxldCBhY3RpdmVTaXRlTmFtZSA9XG4gICAgICBvcHRpb25zLnNpdGVOYW1lIHx8IHN0b3JlZFNpdGUubmFtZSB8fCBzaXRlTmFtZUxhYmVsPy5kYXRhc2V0LmRlZmF1bHRTaXRlTmFtZSB8fCAnJztcbiAgICBzaXRlQ2FyZHMuZm9yRWFjaCgoY2FyZCkgPT4ge1xuICAgICAgY29uc3QgY2FyZFNsdWcgPSBlbnN1cmVMZWFkaW5nU2xhc2goY2FyZC5kYXRhc2V0LnNpdGVDYXJkIHx8ICcnKTtcbiAgICAgIGNvbnN0IGlzQWN0aXZlID0gY2FyZFNsdWcgPT09IG5vcm1hbGl6ZWRTbHVnO1xuICAgICAgY29uc3QgYmFkZ2UgPSBjYXJkLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtYWN0aXZlLWJhZGdlXScpO1xuICAgICAgaWYgKGlzQWN0aXZlKSB7XG4gICAgICAgIGNhcmQuY2xhc3NMaXN0LmFkZCgnYm9yZGVyLVsjOUM2QkZGXScsICdyaW5nLTInLCAncmluZy1bIzlDNkJGRl0nLCAnc2hhZG93LW1kJyk7XG4gICAgICAgIGNhcmQuY2xhc3NMaXN0LnJlbW92ZSgnYm9yZGVyLXNsYXRlLTIwMCcpO1xuICAgICAgICBiYWRnZT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIGFjdGl2ZVNpdGVOYW1lID0gY2FyZC5kYXRhc2V0LnNpdGVOYW1lIHx8IGFjdGl2ZVNpdGVOYW1lO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FyZC5jbGFzc0xpc3QucmVtb3ZlKCdib3JkZXItWyM5QzZCRkZdJywgJ3JpbmctMicsICdyaW5nLVsjOUM2QkZGXScsICdzaGFkb3ctbWQnKTtcbiAgICAgICAgY2FyZC5jbGFzc0xpc3QuYWRkKCdib3JkZXItc2xhdGUtMjAwJyk7XG4gICAgICAgIGJhZGdlPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAob3B0aW9ucy5wZXJzaXN0ICE9PSBmYWxzZSkge1xuICAgICAgcGVyc2lzdFNpdGVTdGF0ZShub3JtYWxpemVkU2x1Zywgb3B0aW9ucy5zaXRlTmFtZSB8fCBhY3RpdmVTaXRlTmFtZSk7XG4gICAgfVxuICAgIGNvbnN0IGZpbmFsTmFtZSA9IG9wdGlvbnMuc2l0ZU5hbWUgfHwgYWN0aXZlU2l0ZU5hbWU7XG4gICAgdXBkYXRlU2l0ZUxhYmVscyhmaW5hbE5hbWUpO1xuICAgIHVwZGF0ZVdvcmtzcGFjZU5hdkxpbmtzKG5vcm1hbGl6ZWRTbHVnKTtcbiAgfTtcblxuICBjb25zdCBzZWxlY3RTaXRlID0gYXN5bmMgKHNsdWcsIG5hbWUpID0+IHtcbiAgICBjb25zdCBub3JtYWxpemVkU2x1ZyA9IGVuc3VyZUxlYWRpbmdTbGFzaChzbHVnKTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9zaXRlcy9zZWxlY3QnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBzbHVnOiBub3JtYWxpemVkU2x1ZyB9KSxcbiAgICAgIH0pO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICBzaG93VG9hc3QocGF5bG9hZC5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIHNcdTAwRTlsZWN0aW9ubmVyIGNlIHNpdGUuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICBjb25zdCBmaW5hbFNsdWcgPSBlbnN1cmVMZWFkaW5nU2xhc2gocGF5bG9hZC5zbHVnIHx8IG5vcm1hbGl6ZWRTbHVnKTtcbiAgICAgIGNvbnN0IGZpbmFsTmFtZSA9IHBheWxvYWQubmFtZSB8fCBuYW1lO1xuICAgICAgcGVyc2lzdFNpdGVTdGF0ZShmaW5hbFNsdWcsIGZpbmFsTmFtZSk7XG4gICAgICBhcHBseUFjdGl2ZVNpdGUoZmluYWxTbHVnLCB7IHNpdGVOYW1lOiBmaW5hbE5hbWUsIHBlcnNpc3Q6IGZhbHNlIH0pO1xuICAgICAgY29uc3Qgc2x1Z1BhdGggPSBlbmNvZGVVUklDb21wb25lbnQoc3RyaXBMZWFkaW5nU2xhc2goZmluYWxTbHVnKSk7XG4gICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGAvYWRtaW4vc2l0ZS8ke3NsdWdQYXRofS9kZXNpZ25gO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignW2FkbWluXSBJbXBvc3NpYmxlIGRlIHNcdTAwRTlsZWN0aW9ubmVyIGxlIHNpdGUnLCBlcnIpO1xuICAgICAgc2hvd1RvYXN0KCdFcnJldXIgaW5hdHRlbmR1ZSBsb3JzIGRlIGxhIHNcdTAwRTlsZWN0aW9uLicpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBzeW5jQWN0aXZlU2l0ZUZyb21TZXJ2ZXIgPSBhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvc2l0ZXMvY3VycmVudCcsIHsgY3JlZGVudGlhbHM6ICdzYW1lLW9yaWdpbicgfSk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwNCAmJiB3b3Jrc3BhY2VDb250ZXh0KSB7XG4gICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnL2FkbWluL3NpdGVzJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBzaXRlID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgY29uc3Qgbm9ybWFsaXplZFNsdWcgPSBlbnN1cmVMZWFkaW5nU2xhc2goc2l0ZS5zbHVnKTtcbiAgICAgIHBlcnNpc3RTaXRlU3RhdGUobm9ybWFsaXplZFNsdWcsIHNpdGUubmFtZSk7XG4gICAgICBhcHBseUFjdGl2ZVNpdGUobm9ybWFsaXplZFNsdWcsIHsgc2l0ZU5hbWU6IHNpdGUubmFtZSwgcGVyc2lzdDogZmFsc2UgfSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ1thZG1pbl0gSW1wb3NzaWJsZSBkZSByXHUwMEU5Y3VwXHUwMEU5cmVyIGxlIHNpdGUgYWN0aWYnLCBlcnIpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoaWdobGlnaHRGcm9tU3RvcmFnZU9yRGVmYXVsdCA9ICgpID0+IHtcbiAgICBpZiAoc3RvcmVkU2l0ZS5zbHVnKSB7XG4gICAgICBhcHBseUFjdGl2ZVNpdGUoc3RvcmVkU2l0ZS5zbHVnLCB7IHNpdGVOYW1lOiBzdG9yZWRTaXRlLm5hbWUsIHBlcnNpc3Q6IGZhbHNlIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBkZWZhdWx0Q2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtY2FyZF1bZGF0YS1zaXRlLWRlZmF1bHQ9XCJ0cnVlXCJdJykgfHwgc2l0ZUNhcmRzWzBdO1xuICAgIGlmIChkZWZhdWx0Q2FyZCkge1xuICAgICAgYXBwbHlBY3RpdmVTaXRlKGRlZmF1bHRDYXJkLmRhdGFzZXQuc2l0ZUNhcmQsIHtcbiAgICAgICAgc2l0ZU5hbWU6IGRlZmF1bHRDYXJkLmRhdGFzZXQuc2l0ZU5hbWUgfHwgJycsXG4gICAgICAgIHBlcnNpc3Q6IGZhbHNlLFxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIGhpZ2hsaWdodEZyb21TdG9yYWdlT3JEZWZhdWx0KCk7XG4gIHN5bmNBY3RpdmVTaXRlRnJvbVNlcnZlcigpO1xuICBpZiAod29ya3NwYWNlQ29udGV4dCkge1xuICAgIHVwZGF0ZVdvcmtzcGFjZU5hdkxpbmtzKHdvcmtzcGFjZUNvbnRleHQuc2x1Z1ZhbHVlKTtcbiAgfSBlbHNlIGlmIChzdG9yZWRTaXRlLnNsdWcpIHtcbiAgICB1cGRhdGVXb3Jrc3BhY2VOYXZMaW5rcyhzdG9yZWRTaXRlLnNsdWcpO1xuICB9XG5cbiAgc2l0ZVNlbGVjdEJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgaWYgKGJ1dHRvbi5kaXNhYmxlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBzbHVnID0gYnV0dG9uLmRhdGFzZXQuc2l0ZVNlbGVjdDtcbiAgICAgIGNvbnN0IG5hbWUgPSBidXR0b24uZGF0YXNldC5zaXRlU2VsZWN0TmFtZSB8fCAnQ2Ugc2l0ZSc7XG4gICAgICBpZiAoIXNsdWcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIHNlbGVjdFNpdGUoc2x1ZywgbmFtZSkuZmluYWxseSgoKSA9PiB7XG4gICAgICAgIGJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGNvbnN0IHdvcmtzcGFjZVNsdWdpZnkgPSAodmFsdWUpID0+XG4gICAgKHZhbHVlIHx8ICcnKVxuICAgICAgLm5vcm1hbGl6ZSgnTkZEJylcbiAgICAgIC5yZXBsYWNlKC9bXFx1MDMwMC1cXHUwMzZmXS9nLCAnJylcbiAgICAgIC50b0xvd2VyQ2FzZSgpXG4gICAgICAucmVwbGFjZSgvW15hLXowLTldKy9nLCAnLScpXG4gICAgICAucmVwbGFjZSgvXi0rfC0rJC9nLCAnJyk7XG5cbiAgY29uc3Qgbm9ybWFsaXplU2x1Z1ZhbHVlID0gKHZhbHVlKSA9PiB7XG4gICAgY29uc3QgYmFzZSA9IHdvcmtzcGFjZVNsdWdpZnkodmFsdWUgfHwgJycpO1xuICAgIGlmICghYmFzZSkge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICByZXR1cm4gYC8ke2Jhc2V9YDtcbiAgfTtcblxuICBjb25zdCBvcGVuU2l0ZU1vZGFsID0gKCkgPT4ge1xuICAgIGlmICghc2l0ZU1vZGFsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxhc3RGb2N1c2VkRWxlbWVudCA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG4gICAgc2l0ZU1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgIHNpdGVNb2RhbC5jbGFzc0xpc3QuYWRkKCdmbGV4Jyk7XG4gICAgc2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gICAgc2l0ZUZvcm0/LnJlc2V0KCk7XG4gICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICBzaXRlTW9kYWxFcnJvciAmJiAoc2l0ZU1vZGFsRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgaWYgKHNpdGVTbHVnSW5wdXQgJiYgc2l0ZU5hbWVJbnB1dCkge1xuICAgICAgc2l0ZVNsdWdJbnB1dC52YWx1ZSA9IHdvcmtzcGFjZVNsdWdpZnkoc2l0ZU5hbWVJbnB1dC52YWx1ZSk7XG4gICAgfVxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0cmFwRm9jdXMpO1xuICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHNpdGVOYW1lSW5wdXQ/LmZvY3VzKCk7XG4gICAgfSwgMCk7XG4gIH07XG5cbiAgY29uc3QgY2xvc2VTaXRlTW9kYWwgPSAoKSA9PiB7XG4gICAgaWYgKCFzaXRlTW9kYWwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2l0ZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgIHNpdGVNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdmbGV4Jyk7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRyYXBGb2N1cyk7XG4gICAgc2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gICAgc2l0ZUZvcm0/LnJlc2V0KCk7XG4gICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICBzaXRlTW9kYWxFcnJvciAmJiAoc2l0ZU1vZGFsRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgbGFzdEZvY3VzZWRFbGVtZW50Py5mb2N1cygpO1xuICB9O1xuXG4gIHNpdGVDcmVhdGVCdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5TaXRlTW9kYWwpO1xuICB9KTtcblxuICBzaXRlTW9kYWxDYW5jZWxCdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlU2l0ZU1vZGFsKTtcbiAgfSk7XG5cbiAgc2l0ZU1vZGFsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgIGlmIChldmVudC50YXJnZXQgPT09IHNpdGVNb2RhbCkge1xuICAgICAgY2xvc2VTaXRlTW9kYWwoKTtcbiAgICB9XG4gIH0pO1xuXG4gIHNpdGVOYW1lSW5wdXQ/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgIGlmICghc2l0ZVNsdWdJbnB1dCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIXNsdWdNYW51YWxseUVkaXRlZCB8fCBzaXRlU2x1Z0lucHV0LnZhbHVlLnRyaW0oKS5sZW5ndGggPT09IDApIHtcbiAgICAgIHNpdGVTbHVnSW5wdXQudmFsdWUgPSB3b3Jrc3BhY2VTbHVnaWZ5KHNpdGVOYW1lSW5wdXQudmFsdWUpO1xuICAgIH1cbiAgICAvLyBDbGVhciBlcnJvcnMgd2hlbiB1c2VyIHR5cGVzXG4gICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICBzaXRlTW9kYWxFcnJvciAmJiAoc2l0ZU1vZGFsRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gIH0pO1xuXG4gIHNpdGVTbHVnSW5wdXQ/LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgKCkgPT4ge1xuICAgIC8vIEF1dG8tZmlsbCBzbHVnIGZyb20gbmFtZSBpZiBlbXB0eSB3aGVuIHVzZXIgZm9jdXNlcyB0aGUgc2x1ZyBmaWVsZFxuICAgIGNvbnN0IHNsdWdWYWwgPSBzaXRlU2x1Z0lucHV0Py52YWx1ZSB8fCAnJztcbiAgICBjb25zdCBuYW1lVmFsID0gc2l0ZU5hbWVJbnB1dD8udmFsdWUgfHwgJyc7XG4gICAgaWYgKCFzbHVnVmFsLnRyaW0oKSAmJiBuYW1lVmFsLnRyaW0oKSkge1xuICAgICAgc2l0ZVNsdWdJbnB1dC52YWx1ZSA9IHdvcmtzcGFjZVNsdWdpZnkobmFtZVZhbCk7XG4gICAgfVxuICB9KTtcblxuICBzaXRlU2x1Z0lucHV0Py5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICBzbHVnTWFudWFsbHlFZGl0ZWQgPSB0cnVlO1xuICAgIHNpdGVTbHVnRXJyb3IgJiYgKHNpdGVTbHVnRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgc2l0ZU1vZGFsRXJyb3IgJiYgKHNpdGVNb2RhbEVycm9yLnRleHRDb250ZW50ID0gJycpO1xuICB9KTtcblxuICBjb25zdCBnZXRTbHVnU2V0ID0gKCkgPT5cbiAgICBuZXcgU2V0KEFycmF5LmZyb20oc2l0ZUNhcmRzKS5tYXAoKGNhcmQpID0+IGVuc3VyZUxlYWRpbmdTbGFzaChjYXJkLmRhdGFzZXQuc2l0ZUNhcmQgfHwgJycpKSk7XG5cbiAgc2l0ZUZvcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc29sZS5sb2coJ1thZG1pbl0gRm9ybSBzdWJtaXQgLSBzaXRlTmFtZUlucHV0OicsIHNpdGVOYW1lSW5wdXQsICdzaXRlU2x1Z0lucHV0OicsIHNpdGVTbHVnSW5wdXQpO1xuICAgIFxuICAgIGlmICghc2l0ZU5hbWVJbnB1dCB8fCAhc2l0ZVNsdWdJbnB1dCkge1xuICAgICAgY29uc29sZS5sb2coJ1thZG1pbl0gTWlzc2luZyBpbnB1dHMsIGFib3J0aW5nJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IG5hbWVWYWx1ZSA9IChzaXRlTmFtZUlucHV0LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgbGV0IHNsdWdWYWx1ZSA9IChzaXRlU2x1Z0lucHV0LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgXG4gICAgY29uc29sZS5sb2coJ1thZG1pbl0gbmFtZVZhbHVlOicsIG5hbWVWYWx1ZSwgJ3NsdWdWYWx1ZTonLCBzbHVnVmFsdWUpO1xuICAgIFxuICAgIC8vIEF1dG8tZ2VuZXJhdGUgc2x1ZyBmcm9tIG5hbWUgaWYgZW1wdHlcbiAgICBpZiAoIXNsdWdWYWx1ZSAmJiBuYW1lVmFsdWUpIHtcbiAgICAgIHNsdWdWYWx1ZSA9IHdvcmtzcGFjZVNsdWdpZnkobmFtZVZhbHVlKTtcbiAgICAgIHNpdGVTbHVnSW5wdXQudmFsdWUgPSBzbHVnVmFsdWU7XG4gICAgICBjb25zb2xlLmxvZygnW2FkbWluXSBBdXRvLWdlbmVyYXRlZCBzbHVnOicsIHNsdWdWYWx1ZSk7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IG5vcm1hbGl6ZWRTbHVnID0gbm9ybWFsaXplU2x1Z1ZhbHVlKHNsdWdWYWx1ZSk7XG4gICAgY29uc29sZS5sb2coJ1thZG1pbl0gbm9ybWFsaXplZFNsdWc6Jywgbm9ybWFsaXplZFNsdWcpO1xuICAgIFxuICAgIC8vIFZhbGlkYXRlIG5hbWVcbiAgICBpZiAoIW5hbWVWYWx1ZSkge1xuICAgICAgY29uc29sZS5sb2coJ1thZG1pbl0gTmFtZSB2YWxpZGF0aW9uIGZhaWxlZCcpO1xuICAgICAgc2l0ZU1vZGFsRXJyb3IgJiYgKHNpdGVNb2RhbEVycm9yLnRleHRDb250ZW50ID0gJ0xlIG5vbSBkdSBzaXRlIGVzdCByZXF1aXMuJyk7XG4gICAgICBzaXRlTmFtZUlucHV0LmZvY3VzKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIC8vIFZhbGlkYXRlIHNsdWdcbiAgICBpZiAoIW5vcm1hbGl6ZWRTbHVnKSB7XG4gICAgICBjb25zb2xlLmxvZygnW2FkbWluXSBTbHVnIHZhbGlkYXRpb24gZmFpbGVkJyk7XG4gICAgICBzaXRlU2x1Z0Vycm9yICYmIChzaXRlU2x1Z0Vycm9yLnRleHRDb250ZW50ID0gJ0xlIHNsdWcgbmUgcGV1dCBwYXMgXHUwMEVBdHJlIHZpZGUgb3UgY29udGVuaXIgdW5pcXVlbWVudCBkZXMgY2FyYWN0XHUwMEU4cmVzIHNwXHUwMEU5Y2lhdXguJyk7XG4gICAgICBzaXRlU2x1Z0lucHV0LmZvY3VzKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IGV4aXN0aW5nU2x1Z3MgPSBnZXRTbHVnU2V0KCk7XG4gICAgaWYgKGV4aXN0aW5nU2x1Z3MuaGFzKG5vcm1hbGl6ZWRTbHVnKSkge1xuICAgICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9ICdDZSBzbHVnIGVzdCBkXHUwMEU5alx1MDBFMCB1dGlsaXNcdTAwRTkuJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHNpdGVTbHVnRXJyb3IgJiYgKHNpdGVTbHVnRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgc2l0ZU1vZGFsRXJyb3IgJiYgKHNpdGVNb2RhbEVycm9yLnRleHRDb250ZW50ID0gJycpO1xuICAgIGlmIChzaXRlTW9kYWxTdWJtaXRCdXR0b24pIHtcbiAgICAgIHNpdGVNb2RhbFN1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICBzaXRlTW9kYWxTdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSAnQ3JcdTAwRTlhdGlvbi4uLic7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL3NpdGVzJywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgbmFtZTogbmFtZVZhbHVlLCBzbHVnOiBub3JtYWxpemVkU2x1ZyB9KSxcbiAgICAgIH0pO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gcGF5bG9hZC5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIGNyXHUwMEU5ZXIgY2Ugc2l0ZS4nO1xuICAgICAgICBzaXRlTW9kYWxFcnJvciAmJiAoc2l0ZU1vZGFsRXJyb3IudGV4dENvbnRlbnQgPSBtZXNzYWdlKTtcbiAgICAgICAgaWYgKHBheWxvYWQuZmllbGQgPT09ICdzbHVnJykge1xuICAgICAgICAgIHNpdGVTbHVnRXJyb3IgJiYgKHNpdGVTbHVnRXJyb3IudGV4dENvbnRlbnQgPSBtZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBjcmVhdGVkU2l0ZSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIGNvbnN0IGZpbmFsU2x1ZyA9IGVuc3VyZUxlYWRpbmdTbGFzaChjcmVhdGVkU2l0ZT8uc2x1ZyB8fCBub3JtYWxpemVkU2x1Zyk7XG4gICAgICBjb25zdCBmaW5hbE5hbWUgPSBjcmVhdGVkU2l0ZT8ubmFtZSB8fCBuYW1lVmFsdWU7XG4gICAgICBwZXJzaXN0U2l0ZVN0YXRlKGZpbmFsU2x1ZywgZmluYWxOYW1lKTtcbiAgICAgIGNsb3NlU2l0ZU1vZGFsKCk7XG4gICAgICBjb25zdCBzbHVnUGF0aCA9IGVuY29kZVVSSUNvbXBvbmVudChzdHJpcExlYWRpbmdTbGFzaChmaW5hbFNsdWcpKTtcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gYC9hZG1pbi9zaXRlLyR7c2x1Z1BhdGh9L2Rlc2lnbmA7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdbYWRtaW5dIEltcG9zc2libGUgZGUgY3JcdTAwRTllciBsZSBzaXRlJywgZXJyKTtcbiAgICAgIHNpdGVNb2RhbEVycm9yICYmIChzaXRlTW9kYWxFcnJvci50ZXh0Q29udGVudCA9ICdFcnJldXIgaW5hdHRlbmR1ZS4gUlx1MDBFOWVzc2FpZSBkYW5zIHVuIGluc3RhbnQuJyk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlmIChzaXRlTW9kYWxTdWJtaXRCdXR0b24pIHtcbiAgICAgICAgc2l0ZU1vZGFsU3VibWl0QnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIHNpdGVNb2RhbFN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9ICdDclx1MDBFOWVyJztcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2ZW50KSA9PiB7XG4gICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgIGlmIChzaXRlTW9kYWwgJiYgIXNpdGVNb2RhbC5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpKSB7XG4gICAgICAgIGNsb3NlU2l0ZU1vZGFsKCk7XG4gICAgICB9XG4gICAgICBpZiAod29ya3NwYWNlQmFja01vZGFsICYmICF3b3Jrc3BhY2VCYWNrTW9kYWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdoaWRkZW4nKSkge1xuICAgICAgICBjbG9zZVdvcmtzcGFjZUJhY2tNb2RhbCgpO1xuICAgICAgfVxuICAgICAgaWYgKGJsb2NrRGVsZXRlTW9kYWwgJiYgIWJsb2NrRGVsZXRlTW9kYWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdoaWRkZW4nKSkge1xuICAgICAgICBjbG9zZUJsb2NrRGVsZXRlTW9kYWwoKTtcbiAgICAgIH1cbiAgICAgIGlmIChibG9ja0xpYnJhcnlPcGVuKSB7XG4gICAgICAgIGNsb3NlQmxvY2tMaWJyYXJ5KCk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICBmdW5jdGlvbiBnZXRXb3Jrc3BhY2VDb250ZXh0KCkge1xuICAgIGNvbnN0IG1hdGNoID0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLm1hdGNoKC9eXFwvYWRtaW5cXC9zaXRlXFwvKFteL10rKSg/OlxcLyhbXi9dKykpPy8pO1xuICAgIGlmICghbWF0Y2gpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgc2x1Z1BhcnQ6IGRlY29kZVVSSUNvbXBvbmVudChtYXRjaFsxXSksXG4gICAgICBzbHVnVmFsdWU6IGVuc3VyZUxlYWRpbmdTbGFzaChkZWNvZGVVUklDb21wb25lbnQobWF0Y2hbMV0pKSxcbiAgICAgIHNlY3Rpb246IG1hdGNoWzJdIHx8ICdkZXNpZ24nLFxuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBkZXRlY3RXb3Jrc3BhY2VTZWN0aW9uKCkge1xuICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLWxpc3RdJykpIHtcbiAgICAgIHJldHVybiAnZGVzaWduJztcbiAgICB9XG4gICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbGxlY3Rpb24tbGlzdF0nKSkge1xuICAgICAgcmV0dXJuICdjb250ZW50JztcbiAgICB9XG4gICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWdyaWRdJykpIHtcbiAgICAgIHJldHVybiAnbWVkaWEnO1xuICAgIH1cbiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LWZvcm1dJykpIHtcbiAgICAgIHJldHVybiAnZGVwbG95JztcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBmdW5jdGlvbiBvcGVuV29ya3NwYWNlQmFja01vZGFsKCkge1xuICAgIGlmICghd29ya3NwYWNlQmFja01vZGFsKSB7XG4gICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvYWRtaW4vc2l0ZXMnO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB3b3Jrc3BhY2VCYWNrTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgd29ya3NwYWNlQmFja01vZGFsLmNsYXNzTGlzdC5hZGQoJ2ZsZXgnKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNsb3NlV29ya3NwYWNlQmFja01vZGFsKCkge1xuICAgIGlmICghd29ya3NwYWNlQmFja01vZGFsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHdvcmtzcGFjZUJhY2tNb2RhbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICB3b3Jrc3BhY2VCYWNrTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnZmxleCcpO1xuICB9XG5cbiAgd29ya3NwYWNlQmFja0J1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlbldvcmtzcGFjZUJhY2tNb2RhbCk7XG4gIH0pO1xuICB3b3Jrc3BhY2VCYWNrQ2FuY2VsLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlV29ya3NwYWNlQmFja01vZGFsKTtcbiAgfSk7XG4gIHdvcmtzcGFjZUJhY2tDb25maXJtPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvYWRtaW4vc2l0ZXMnO1xuICB9KTtcblxuICBjb25zdCBhY3RpdmVTZWN0aW9uID0gd29ya3NwYWNlQ29udGV4dD8uc2VjdGlvbiB8fCBkZXRlY3RXb3Jrc3BhY2VTZWN0aW9uKCk7XG5cbiAgaWYgKGFjdGl2ZVNlY3Rpb24gPT09ICdkZXNpZ24nKSB7XG4gICAgaW5pdERlc2lnbldvcmtzcGFjZSgpO1xuICB9XG4gIGlmIChhY3RpdmVTZWN0aW9uID09PSAnY29udGVudCcpIHtcbiAgICBpbml0Q29udGVudFdvcmtzcGFjZSgpO1xuICB9XG4gIGlmIChhY3RpdmVTZWN0aW9uID09PSAnbWVkaWEnKSB7XG4gICAgaW5pdE1lZGlhV29ya3NwYWNlKCk7XG4gIH1cbiAgaWYgKGFjdGl2ZVNlY3Rpb24gPT09ICdkZXBsb3knKSB7XG4gICAgaW5pdERlcGxveVdvcmtzcGFjZSgpO1xuICB9XG4gIGlmIChhY3RpdmVTZWN0aW9uID09PSAnc2V0dGluZ3MnKSB7XG4gICAgaW5pdFNldHRpbmdzV29ya3NwYWNlKCk7XG4gIH1cblxuICBpZiAod29ya3NwYWNlQ29udGV4dCAmJiBzdG9yZWRTaXRlLm5hbWUpIHtcbiAgICB1cGRhdGVTaXRlTGFiZWxzKHN0b3JlZFNpdGUubmFtZSk7XG4gIH1cblxuICBmdW5jdGlvbiBpbml0RGVzaWduV29ya3NwYWNlKCkge1xuICAgIGNvbnN0IHBhZ2VMaXN0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXBhZ2UtbGlzdF0nKTtcbiAgICBpZiAocGFnZUxpc3RzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBhY3RpdmVUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFjdGl2ZS1wYWdlLXRpdGxlXScpO1xuICAgIGNvbnN0IGFjdGl2ZVNsdWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hY3RpdmUtcGFnZS1zbHVnXScpO1xuICAgIGNvbnN0IHByZXZpZXdUYWdzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcmV2aWV3LXRhZ3NdJyk7XG4gICAgY29uc3QgcHJldmlld0ZyYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcmV2aWV3LWZyYW1lXScpO1xuICAgIGNvbnN0IHByZXZpZXdPcGVuQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcHJldmlldy1vcGVuXScpO1xuICAgIGNvbnN0IHByZXZpZXdTdGF0dXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wcmV2aWV3LXN0YXR1c10nKTtcbiAgICBjb25zdCBwcmV2aWV3SGlnaGxpZ2h0T3ZlcmxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXByZXZpZXctaGlnaGxpZ2h0XScpO1xuICAgIC8vIFNFTyBwYW5lbCBlbGVtZW50c1xuICAgIGNvbnN0IHNlb1RvZ2dsZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby10b2dnbGVdJyk7XG4gICAgY29uc3Qgc2VvUGFuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8tcGFuZWxdJyk7XG4gICAgY29uc3Qgc2VvQ2xvc2VCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8tY2xvc2VdJyk7XG4gICAgY29uc3Qgc2VvRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby1mb3JtXScpO1xuICAgIGNvbnN0IHNlb1RpdGxlSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8tdGl0bGVdJyk7XG4gICAgY29uc3Qgc2VvRGVzY3JpcHRpb25JbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby1kZXNjcmlwdGlvbl0nKTtcbiAgICBjb25zdCBzZW9JbmRleGVkQ2hlY2tib3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8taW5kZXhlZF0nKTtcbiAgICBjb25zdCBzZW9GZWVkYmFjayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby1mZWVkYmFja10nKTtcbiAgICBjb25zdCBzZW9TYXZlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2VvLXNhdmVdJyk7XG4gICAgY29uc3QgYmxvY2tMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2tzLWxpc3RdJyk7XG4gICAgY29uc3QgYmxvY2tMaXN0RW1wdHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9ja3MtZW1wdHldJyk7XG4gICAgY29uc3QgYmxvY2tDb3VudEJhZGdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stY291bnRdJyk7XG4gICAgY29uc3QgYmxvY2tMaWJyYXJ5VG9nZ2xlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stbGlicmFyeS10b2dnbGVdJyk7XG4gICAgY29uc3QgYmxvY2tMaWJyYXJ5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stbGlicmFyeV0nKTtcbiAgICBjb25zdCBibG9ja0FkZEJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1ibG9jay1hZGRdJyk7XG4gICAgY29uc3QgYmxvY2tEZWxldGVNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWRlbGV0ZS1tb2RhbF0nKTtcbiAgICBjb25zdCBibG9ja0RlbGV0ZUNvbmZpcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1kZWxldGUtY29uZmlybV0nKTtcbiAgICBjb25zdCBibG9ja0RlbGV0ZUNhbmNlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWRlbGV0ZS1jYW5jZWxdJyk7XG4gICAgY29uc3QgYmxvY2tEZXRhaWxFbXB0eSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWRldGFpbC1lbXB0eV0nKTtcbiAgICBjb25zdCBibG9ja0RldGFpbFN0YXR1cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWRldGFpbC1zdGF0dXNdJyk7XG4gICAgY29uc3QgYmxvY2tFZGl0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1lZGl0b3JdJyk7XG4gICAgY29uc3QgYmxvY2tFZGl0b3JUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWVkaXRvci1ibG9jay1uYW1lXScpO1xuICAgIGNvbnN0IGJsb2NrRWRpdG9yVHlwZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWVkaXRvci1ibG9jay10eXBlXScpO1xuICAgIGNvbnN0IGJsb2NrRWRpdG9yVW5zdXBwb3J0ZWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1lZGl0b3ItdW5zdXBwb3J0ZWRdJyk7XG4gICAgY29uc3QgYmxvY2tGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZm9ybV0nKTtcbiAgICBjb25zdCBibG9ja0Zvcm1TZWN0aW9ucyA9IGJsb2NrRm9ybVxuICAgICAgPyBBcnJheS5mcm9tKGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1lZGl0b3Itc2VjdGlvbl0nKSlcbiAgICAgIDogW107XG4gICAgLy8gT25nbGV0cyBDb250ZW51IC8gQXBwYXJlbmNlXG4gICAgY29uc3QgYmxvY2tUYWJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYmxvY2stdGFiXScpO1xuICAgIGxldCBhY3RpdmVCbG9ja1RhYiA9ICdjb250ZW50JztcbiAgICBcbiAgICAvLyBEXHUwMEU5Y2xhcmF0aW9ucyBkZXMgXHUwMEU5bFx1MDBFOW1lbnRzIGQnYWN0aW9ucyBkdSBmb3JtdWxhaXJlIChhdmFudCBzd2l0Y2hCbG9ja1RhYilcbiAgICBjb25zdCBibG9ja0Zvcm1BY3Rpb25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZm9ybS1hY3Rpb25zXScpO1xuICAgIGNvbnN0IGJsb2NrRm9ybUF1dG9zYXZlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZm9ybS1hdXRvc2F2ZV0nKTtcblxuICAgIC8vIEZvbmN0aW9uIHBvdXIgc3dpdGNoZXIgZW50cmUgbGVzIG9uZ2xldHMgQ29udGVudS9BcHBhcmVuY2VcbiAgICBjb25zdCBzd2l0Y2hCbG9ja1RhYiA9ICh0YWJOYW1lKSA9PiB7XG4gICAgICBhY3RpdmVCbG9ja1RhYiA9IHRhYk5hbWU7XG4gICAgICAvLyBNZXR0cmUgXHUwMEUwIGpvdXIgbGVzIHN0eWxlcyBkZXMgYm91dG9ucyBkJ29uZ2xldFxuICAgICAgYmxvY2tUYWJzLmZvckVhY2goKHRhYikgPT4ge1xuICAgICAgICBjb25zdCBpc0FjdGl2ZSA9IHRhYi5kYXRhc2V0LmJsb2NrVGFiID09PSB0YWJOYW1lO1xuICAgICAgICB0YWIuc2V0QXR0cmlidXRlKCdhcmlhLXNlbGVjdGVkJywgaXNBY3RpdmUgPyAndHJ1ZScgOiAnZmFsc2UnKTtcbiAgICAgICAgaWYgKGlzQWN0aXZlKSB7XG4gICAgICAgICAgdGFiLmNsYXNzTGlzdC5hZGQoJ3RleHQtWyM5QzZCRkZdJyk7XG4gICAgICAgICAgdGFiLmNsYXNzTGlzdC5yZW1vdmUoJ3RleHQtc2xhdGUtNTAwJywgJ2hvdmVyOnRleHQtc2xhdGUtNzAwJyk7XG4gICAgICAgICAgdGFiLmNsYXNzTGlzdC5hZGQoJ2FmdGVyOmFic29sdXRlJywgJ2FmdGVyOmJvdHRvbS0wJywgJ2FmdGVyOmxlZnQtMCcsICdhZnRlcjpyaWdodC0wJywgJ2FmdGVyOmgtMC41JywgJ2FmdGVyOmJnLVsjOUM2QkZGXScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRhYi5jbGFzc0xpc3QucmVtb3ZlKCd0ZXh0LVsjOUM2QkZGXScpO1xuICAgICAgICAgIHRhYi5jbGFzc0xpc3QuYWRkKCd0ZXh0LXNsYXRlLTUwMCcsICdob3Zlcjp0ZXh0LXNsYXRlLTcwMCcpO1xuICAgICAgICAgIHRhYi5jbGFzc0xpc3QucmVtb3ZlKCdhZnRlcjphYnNvbHV0ZScsICdhZnRlcjpib3R0b20tMCcsICdhZnRlcjpsZWZ0LTAnLCAnYWZ0ZXI6cmlnaHQtMCcsICdhZnRlcjpoLTAuNScsICdhZnRlcjpiZy1bIzlDNkJGRl0nKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICAvLyBBZmZpY2hlci9tYXNxdWVyIGxlcyBwYW5lbHMgZGFucyBsYSBzZWN0aW9uIGFjdGl2ZVxuICAgICAgY29uc3QgYWN0aXZlU2VjdGlvbiA9IGJsb2NrRm9ybT8ucXVlcnlTZWxlY3RvcignW2RhdGEtZWRpdG9yLXNlY3Rpb25dOm5vdCguaGlkZGVuKScpO1xuICAgICAgaWYgKGFjdGl2ZVNlY3Rpb24pIHtcbiAgICAgICAgY29uc3QgcGFuZWxzID0gYWN0aXZlU2VjdGlvbi5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1ibG9jay1wYW5lbF0nKTtcbiAgICAgICAgcGFuZWxzLmZvckVhY2goKHBhbmVsKSA9PiB7XG4gICAgICAgICAgaWYgKHBhbmVsLmRhdGFzZXQuYmxvY2tQYW5lbCA9PT0gdGFiTmFtZSkge1xuICAgICAgICAgICAgcGFuZWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhbmVsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICAvLyBBZmZpY2hlci9tYXNxdWVyIGxlcyBib3V0b25zIHNlbG9uIGwnb25nbGV0XG4gICAgICAvLyBDb250ZW51IFx1MjE5MiBib3V0b25zIEVucmVnaXN0cmVyL0FubnVsZXJcbiAgICAgIC8vIEFwcGFyZW5jZSBcdTIxOTIgaW5kaWNhdGV1ciBhdXRvLXNhdmVcbiAgICAgIGlmIChibG9ja0Zvcm1BY3Rpb25zICYmIGJsb2NrRm9ybUF1dG9zYXZlKSB7XG4gICAgICAgIGlmICh0YWJOYW1lID09PSAnY29udGVudCcpIHtcbiAgICAgICAgICBibG9ja0Zvcm1BY3Rpb25zLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgIGJsb2NrRm9ybUF1dG9zYXZlLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGJsb2NrRm9ybUFjdGlvbnMuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgICAgYmxvY2tGb3JtQXV0b3NhdmUuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gRXZlbnQgbGlzdGVuZXJzIHBvdXIgbGVzIG9uZ2xldHNcbiAgICBibG9ja1RhYnMuZm9yRWFjaCgodGFiKSA9PiB7XG4gICAgICB0YWIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIHN3aXRjaEJsb2NrVGFiKHRhYi5kYXRhc2V0LmJsb2NrVGFiKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgY29uc3QgY29sbGVjdGlvblNlbGVjdCA9IGJsb2NrRm9ybT8ucXVlcnlTZWxlY3RvcignW25hbWU9XCJjb2xsZWN0aW9uLWdyaWQtY29sbGVjdGlvblwiXScpO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25TZWxlY3Rpb25JbmZvID0gYmxvY2tGb3JtPy5xdWVyeVNlbGVjdG9yKFxuICAgICAgJ1tkYXRhLWNvbGxlY3Rpb24tc2VsZWN0aW9uLWluZm9dJyxcbiAgICApO1xuICAgIGNvbnN0IGJsb2NrRm9ybUNhbmNlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWZvcm0tY2FuY2VsXScpO1xuICAgIGNvbnN0IGdyb3VwUHJldmlld01vYmlsZSA9IGJsb2NrRm9ybT8ucXVlcnlTZWxlY3RvcignW2RhdGEtZ3JvdXAtcHJldmlldy1tb2JpbGVdJyk7XG4gICAgY29uc3QgZ3JvdXBQcmV2aWV3RGVza3RvcCA9IGJsb2NrRm9ybT8ucXVlcnlTZWxlY3RvcignW2RhdGEtZ3JvdXAtcHJldmlldy1kZXNrdG9wXScpO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25QcmV2aWV3TW9iaWxlID0gYmxvY2tGb3JtPy5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xsZWN0aW9uLXByZXZpZXctbW9iaWxlXScpO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25QcmV2aWV3RGVza3RvcCA9IGJsb2NrRm9ybT8ucXVlcnlTZWxlY3RvcignW2RhdGEtY29sbGVjdGlvbi1wcmV2aWV3LWRlc2t0b3BdJyk7XG4gICAgY29uc3QgYmxvY2tUeXBlRm9ybXMgPSB7XG4gICAgICBoZXJvOiB7XG4gICAgICAgIHNlY3Rpb246ICdoZXJvJyxcbiAgICAgICAgbGFiZWxGaWVsZDogJ3RpdGxlJyxcbiAgICAgICAgZGVzY3JpcHRpb25GaWVsZDogJ3N1YnRpdGxlJyxcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgdGl0bGU6ICdoZXJvLXRpdGxlJyxcbiAgICAgICAgICBzdWJ0aXRsZTogJ2hlcm8tc3VidGl0bGUnLFxuICAgICAgICAgIGN0YUxhYmVsOiAnaGVyby1jdGEtbGFiZWwnLFxuICAgICAgICAgIGN0YVVybDogJ2hlcm8tY3RhLXVybCcsXG4gICAgICAgICAgLy8gQXBwYXJlbmNlXG4gICAgICAgICAgaW1hZ2U6ICdoZXJvLWltYWdlJyxcbiAgICAgICAgICBsYXlvdXQ6ICdoZXJvLWxheW91dCcsXG4gICAgICAgICAgaGVpZ2h0OiAnaGVyby1oZWlnaHQnLFxuICAgICAgICAgIGNvbnRlbnRBbGlnbjogJ2hlcm8tY29udGVudC1hbGlnbicsXG4gICAgICAgICAgb3ZlcmxheTogJ2hlcm8tb3ZlcmxheScsXG4gICAgICAgICAgdGl0bGVTaXplOiAnaGVyby10aXRsZS1zaXplJyxcbiAgICAgICAgICAvLyBDYXJkIHN0eWxlXG4gICAgICAgICAgYmc6ICdoZXJvLWJnJyxcbiAgICAgICAgICBib3JkZXJSYWRpdXM6ICdoZXJvLWJvcmRlci1yYWRpdXMnLFxuICAgICAgICAgIHNoYWRvdzogJ2hlcm8tc2hhZG93JyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBwYXJhZ3JhcGhlOiB7XG4gICAgICAgIHNlY3Rpb246ICdwYXJhZ3JhcGgnLFxuICAgICAgICBsYWJlbEZpZWxkOiAndGl0bGUnLFxuICAgICAgICBkZXNjcmlwdGlvbkZpZWxkOiAnY29udGVudCcsXG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIHRpdGxlOiAncGFyYWdyYXBoLXRpdGxlJyxcbiAgICAgICAgICBjb250ZW50OiAncGFyYWdyYXBoLWNvbnRlbnQnLFxuICAgICAgICAgIC8vIEFwcGFyZW5jZVxuICAgICAgICAgIGFsaWduOiAncGFyYWdyYXBoLWFsaWduJyxcbiAgICAgICAgICB0aXRsZVNpemU6ICdwYXJhZ3JhcGgtdGl0bGUtc2l6ZScsXG4gICAgICAgICAgdGV4dFNpemU6ICdwYXJhZ3JhcGgtdGV4dC1zaXplJyxcbiAgICAgICAgICBzcGFjaW5nOiAncGFyYWdyYXBoLXNwYWNpbmcnLFxuICAgICAgICAgIC8vIENhcmQgc3R5bGVcbiAgICAgICAgICBiZzogJ3BhcmFncmFwaC1iZycsXG4gICAgICAgICAgYm9yZGVyUmFkaXVzOiAncGFyYWdyYXBoLWJvcmRlci1yYWRpdXMnLFxuICAgICAgICAgIHNoYWRvdzogJ3BhcmFncmFwaC1zaGFkb3cnLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGltYWdlOiB7XG4gICAgICAgIHNlY3Rpb246ICdpbWFnZScsXG4gICAgICAgIGxhYmVsRmllbGQ6ICdhbHQnLFxuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBzcmM6ICdpbWFnZS1zcmMnLFxuICAgICAgICAgIGFsdDogJ2ltYWdlLWFsdCcsXG4gICAgICAgICAgc2hvd0NhcHRpb246ICdpbWFnZS1jYXB0aW9uLXRvZ2dsZScsXG4gICAgICAgICAgY2FwdGlvbjogJ2ltYWdlLWNhcHRpb24nLFxuICAgICAgICAgIC8vIEFwcGFyZW5jZVxuICAgICAgICAgIHJvdW5kZWQ6ICdpbWFnZS1yb3VuZGVkJyxcbiAgICAgICAgICBzaGFkb3c6ICdpbWFnZS1zaGFkb3cnLFxuICAgICAgICAgIG1heFdpZHRoOiAnaW1hZ2UtbWF4LXdpZHRoJyxcbiAgICAgICAgICBhbGlnbjogJ2ltYWdlLWFsaWduJyxcbiAgICAgICAgICAvLyBDYXJkIHN0eWxlXG4gICAgICAgICAgYmc6ICdpbWFnZS1iZycsXG4gICAgICAgICAgYm9yZGVyUmFkaXVzOiAnaW1hZ2UtYm9yZGVyLXJhZGl1cycsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgZ3JvdXBlOiB7XG4gICAgICAgIHNlY3Rpb246ICdncm91cCcsXG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIC8vIEFwcGFyZW5jZVxuICAgICAgICAgIGNvbHVtbnNNb2JpbGU6ICdncm91cC1jb2x1bW5zLW1vYmlsZScsXG4gICAgICAgICAgY29sdW1uc0Rlc2t0b3A6ICdncm91cC1jb2x1bW5zLWRlc2t0b3AnLFxuICAgICAgICAgIGdhcDogJ2dyb3VwLWdhcCcsXG4gICAgICAgICAgaXRlbXNBbGlnbjogJ2dyb3VwLWl0ZW1zLWFsaWduJyxcbiAgICAgICAgICAvLyBDYXJkIHN0eWxlXG4gICAgICAgICAgYmc6ICdncm91cC1iZycsXG4gICAgICAgICAgYm9yZGVyUmFkaXVzOiAnZ3JvdXAtYm9yZGVyLXJhZGl1cycsXG4gICAgICAgICAgc2hhZG93OiAnZ3JvdXAtc2hhZG93JyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBjb2xsZWN0aW9uZ3JpZDoge1xuICAgICAgICBzZWN0aW9uOiAnY29sbGVjdGlvbicsXG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIGNvbGxlY3Rpb25JZDogJ2NvbGxlY3Rpb24tZ3JpZC1jb2xsZWN0aW9uJyxcbiAgICAgICAgICBsaW1pdDogJ2NvbGxlY3Rpb24tZ3JpZC1saW1pdCcsXG4gICAgICAgICAgLy8gQXBwYXJlbmNlXG4gICAgICAgICAgY29sdW1uc01vYmlsZTogJ2NvbGxlY3Rpb24tY29sdW1ucy1tb2JpbGUnLFxuICAgICAgICAgIGNvbHVtbnNEZXNrdG9wOiAnY29sbGVjdGlvbi1jb2x1bW5zLWRlc2t0b3AnLFxuICAgICAgICAgIGdhcDogJ2NvbGxlY3Rpb24tZ2FwJyxcbiAgICAgICAgICBpdGVtc0FsaWduOiAnY29sbGVjdGlvbi1pdGVtcy1hbGlnbicsXG4gICAgICAgICAgY2FyZFJvdW5kZWQ6ICdjb2xsZWN0aW9uLWNhcmQtcm91bmRlZCcsXG4gICAgICAgICAgLy8gQ2FyZCBzdHlsZVxuICAgICAgICAgIGJnOiAnY29sbGVjdGlvbi1iZycsXG4gICAgICAgICAgYm9yZGVyUmFkaXVzOiAnY29sbGVjdGlvbi1ib3JkZXItcmFkaXVzJyxcbiAgICAgICAgICBzaGFkb3c6ICdjb2xsZWN0aW9uLXNoYWRvdycsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgZm9ybToge1xuICAgICAgICBzZWN0aW9uOiAnZm9ybScsXG4gICAgICAgIGxhYmVsRmllbGQ6ICdmb3JtVGl0bGUnLFxuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBmb3JtVGl0bGU6ICdmb3JtLXRpdGxlJyxcbiAgICAgICAgICBhY3Rpb25Vcmw6ICdmb3JtLWFjdGlvbi11cmwnLFxuICAgICAgICAgIG1ldGhvZDogJ2Zvcm0tbWV0aG9kJyxcbiAgICAgICAgICBzZXJ2aWNlTmFtZTogJ2Zvcm0tc2VydmljZS1uYW1lJyxcbiAgICAgICAgICBzdWJtaXRMYWJlbDogJ2Zvcm0tc3VibWl0LWxhYmVsJyxcbiAgICAgICAgICBzdWNjZXNzTWVzc2FnZTogJ2Zvcm0tc3VjY2Vzcy1tZXNzYWdlJyxcbiAgICAgICAgICAvLyBBcHBhcmVuY2VcbiAgICAgICAgICBtYXhXaWR0aDogJ2Zvcm0tbWF4LXdpZHRoJyxcbiAgICAgICAgICBhbGlnbjogJ2Zvcm0tYWxpZ24nLFxuICAgICAgICAgIGJ1dHRvblJvdW5kZWQ6ICdmb3JtLWJ1dHRvbi1yb3VuZGVkJyxcbiAgICAgICAgICBzcGFjaW5nOiAnZm9ybS1zcGFjaW5nJyxcbiAgICAgICAgICAvLyBDYXJkIHN0eWxlXG4gICAgICAgICAgYmc6ICdmb3JtLWJnJyxcbiAgICAgICAgICBib3JkZXJSYWRpdXM6ICdmb3JtLWJvcmRlci1yYWRpdXMnLFxuICAgICAgICAgIHNoYWRvdzogJ2Zvcm0tc2hhZG93JyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBuZXdzbGV0dGVyZW1iZWQ6IHtcbiAgICAgICAgc2VjdGlvbjogJ25ld3NsZXR0ZXInLFxuICAgICAgICBsYWJlbEZpZWxkOiAndGl0bGUnLFxuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICB0aXRsZTogJ25ld3NsZXR0ZXItdGl0bGUnLFxuICAgICAgICAgIHNlcnZpY2VOYW1lOiAnbmV3c2xldHRlci1zZXJ2aWNlLW5hbWUnLFxuICAgICAgICAgIGVtYmVkQ29kZTogJ25ld3NsZXR0ZXItZW1iZWQtY29kZScsXG4gICAgICAgICAgLy8gQXBwYXJlbmNlXG4gICAgICAgICAgbWF4V2lkdGg6ICduZXdzbGV0dGVyLW1heC13aWR0aCcsXG4gICAgICAgICAgYWxpZ246ICduZXdzbGV0dGVyLWFsaWduJyxcbiAgICAgICAgICBwYWRkaW5nOiAnbmV3c2xldHRlci1wYWRkaW5nJyxcbiAgICAgICAgICBiZzogJ25ld3NsZXR0ZXItYmcnLFxuICAgICAgICAgIC8vIENhcmQgc3R5bGVcbiAgICAgICAgICBib3JkZXJSYWRpdXM6ICduZXdzbGV0dGVyLWJvcmRlci1yYWRpdXMnLFxuICAgICAgICAgIHNoYWRvdzogJ25ld3NsZXR0ZXItc2hhZG93JyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfTtcbiAgICBjb25zdCBibG9ja1R5cGVBbGlhc2VzID0ge1xuICAgICAgdGV4dGU6ICdwYXJhZ3JhcGhlJyxcbiAgICAgIHBhcmFncmFwaDogJ3BhcmFncmFwaGUnLFxuICAgICAgcGFyYWdyYXBoczogJ3BhcmFncmFwaGUnLFxuICAgICAgcGFyYWdyYXBoZXM6ICdwYXJhZ3JhcGhlJyxcbiAgICAgIHRleHQ6ICdwYXJhZ3JhcGhlJyxcbiAgICAgIGhlcm86ICdoZXJvJyxcbiAgICAgIGltYWdlOiAnaW1hZ2UnLFxuICAgICAgZ3JvdXBlOiAnZ3JvdXBlJyxcbiAgICAgIGdyb3VwOiAnZ3JvdXBlJyxcbiAgICAgIGNvbGxlY3Rpb246ICdjb2xsZWN0aW9uZ3JpZCcsXG4gICAgICBjb2xsZWN0aW9uZ3JpZDogJ2NvbGxlY3Rpb25ncmlkJyxcbiAgICAgICdjb2xsZWN0aW9uLWdyaWQnOiAnY29sbGVjdGlvbmdyaWQnLFxuICAgICAgZm9ybTogJ2Zvcm0nLFxuICAgICAgZm9ybXVsYWlyZTogJ2Zvcm0nLFxuICAgICAgY29udGFjdDogJ2Zvcm0nLFxuICAgICAgbmV3c2xldHRlcmVtYmVkOiAnbmV3c2xldHRlcmVtYmVkJyxcbiAgICAgIG5ld3NsZXR0ZXI6ICduZXdzbGV0dGVyZW1iZWQnLFxuICAgICAgZW1iZWQ6ICduZXdzbGV0dGVyZW1iZWQnLFxuICAgIH07XG4gICAgY29uc3QgdXBkYXRlR3JvdXBNaW5pUHJldmlldyA9IChtb2JpbGVWYWx1ZSwgZGVza3RvcFZhbHVlKSA9PiB7XG4gICAgICBpZiAoIWdyb3VwUHJldmlld01vYmlsZSB8fCAhZ3JvdXBQcmV2aWV3RGVza3RvcCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCByZW5kZXJCb3hlcyA9IChjb3VudCkgPT5cbiAgICAgICAgQXJyYXkuZnJvbSh7IGxlbmd0aDogTnVtYmVyKGNvdW50KSB8fCAxIH0pXG4gICAgICAgICAgLm1hcCgoKSA9PiAnPHNwYW4gY2xhc3M9XCJibG9jayBoLTIgdy1mdWxsIHJvdW5kZWQtZnVsbCBiZy1zbGF0ZS0zMDBcIj48L3NwYW4+JylcbiAgICAgICAgICAuam9pbignJyk7XG4gICAgICBncm91cFByZXZpZXdNb2JpbGUuaW5uZXJIVE1MID0gcmVuZGVyQm94ZXMobW9iaWxlVmFsdWUpO1xuICAgICAgZ3JvdXBQcmV2aWV3RGVza3RvcC5pbm5lckhUTUwgPSByZW5kZXJCb3hlcyhkZXNrdG9wVmFsdWUpO1xuICAgIH07XG4gICAgY29uc3QgdXBkYXRlQ29sbGVjdGlvbk1pbmlQcmV2aWV3ID0gKG1vYmlsZVZhbHVlLCBkZXNrdG9wVmFsdWUpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvblByZXZpZXdNb2JpbGUgfHwgIWNvbGxlY3Rpb25QcmV2aWV3RGVza3RvcCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCByZW5kZXJCb3hlcyA9IChjb3VudCkgPT5cbiAgICAgICAgQXJyYXkuZnJvbSh7IGxlbmd0aDogTnVtYmVyKGNvdW50KSB8fCAxIH0pXG4gICAgICAgICAgLm1hcCgoKSA9PiAnPHNwYW4gY2xhc3M9XCJibG9jayBoLTIgdy1mdWxsIHJvdW5kZWQtZnVsbCBiZy12aW9sZXQtMzAwXCI+PC9zcGFuPicpXG4gICAgICAgICAgLmpvaW4oJycpO1xuICAgICAgY29sbGVjdGlvblByZXZpZXdNb2JpbGUuaW5uZXJIVE1MID0gcmVuZGVyQm94ZXMobW9iaWxlVmFsdWUpO1xuICAgICAgY29sbGVjdGlvblByZXZpZXdEZXNrdG9wLmlubmVySFRNTCA9IHJlbmRlckJveGVzKGRlc2t0b3BWYWx1ZSk7XG4gICAgfTtcbiAgICBjb25zdCBmZXRjaFBhZ2VzRnJvbVNlcnZlciA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghcGFnZXNBcGlCYXNlKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2gocGFnZXNBcGlCYXNlLCB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIHBhZ2VzLicpO1xuICAgICAgfVxuICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiBbXSk7XG4gICAgICByZXR1cm4gQXJyYXkuaXNBcnJheShwYXlsb2FkKSA/IHBheWxvYWQgOiBbXTtcbiAgICB9O1xuICAgIGNvbnN0IGNyZWF0ZVBhZ2VPblNlcnZlciA9IGFzeW5jICh7IHRpdGxlLCBzbHVnIH0pID0+IHtcbiAgICAgIGlmICghcGFnZXNBcGlCYXNlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignU2l0ZSBpbmNvbm51LicpO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChwYWdlc0FwaUJhc2UsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHRpdGxlLCBzbHVnIH0pLFxuICAgICAgfSk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihwYXlsb2FkLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgY3JcdTAwRTllciBsYSBwYWdlLicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICB9O1xuICAgIGNvbnN0IHNhdmVQYWdlVG9TZXJ2ZXIgPSBhc3luYyAocGFnZSkgPT4ge1xuICAgICAgaWYgKCFwYWdlc0FwaUJhc2UgfHwgIXBhZ2U/LmlkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7cGFnZXNBcGlCYXNlfS8ke2VuY29kZVVSSUNvbXBvbmVudChwYWdlLmlkKX1gLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGFnZSksXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocGF5bG9hZC5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIHNhdXZlZ2FyZGVyIGxhIHBhZ2UuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2F2ZWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIGlmIChzYXZlZD8uaWQpIHtcbiAgICAgICAgICBjb25zdCBub3JtYWxpemVkID0gbm9ybWFsaXplUGFnZURhdGEoc2F2ZWQpO1xuICAgICAgICAgIHBhZ2VzID0gcGFnZXMubWFwKChlbnRyeSkgPT4gKGVudHJ5LmlkID09PSBub3JtYWxpemVkLmlkID8gbm9ybWFsaXplZCA6IGVudHJ5KSk7XG4gICAgICAgICAgaWYgKGN1cnJlbnRQYWdlPy5pZCA9PT0gbm9ybWFsaXplZC5pZCkge1xuICAgICAgICAgICAgY3VycmVudFBhZ2UgPSBub3JtYWxpemVkO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbm9ybWFsaXplZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2F2ZWQ7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2Rlc2lnbl0gU2F2ZSBwYWdlIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnU2F1dmVnYXJkZSBpbXBvc3NpYmxlLicpO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgbG9hZFBhZ2VzRnJvbVNlcnZlciA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghcGFnZXNBcGlCYXNlKSB7XG4gICAgICAgIHBhZ2VzID0gW107XG4gICAgICAgIGFjdGl2ZVBhZ2VJZCA9IG51bGw7XG4gICAgICAgIGN1cnJlbnRQYWdlID0gbnVsbDtcbiAgICAgICAgcmVuZGVyUGFnZUxpc3RzKHBhZ2VzLCBhY3RpdmVQYWdlSWQpO1xuICAgICAgICByZW5kZXJCbG9ja0xpc3QobnVsbCk7XG4gICAgICAgIGJsb2NrRGV0YWlsRW1wdHk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICBibG9ja0VkaXRvcj8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGxvYWRlZFBhZ2VzID0gYXdhaXQgZmV0Y2hQYWdlc0Zyb21TZXJ2ZXIoKTtcbiAgICAgICAgcGFnZXMgPSAoQXJyYXkuaXNBcnJheShsb2FkZWRQYWdlcykgPyBsb2FkZWRQYWdlcyA6IFtdKS5tYXAoKHBhZ2UpID0+XG4gICAgICAgICAgbm9ybWFsaXplUGFnZURhdGEocGFnZSksXG4gICAgICAgICk7XG4gICAgICAgIGlmIChwYWdlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICBhY3RpdmVQYWdlSWQgPSBudWxsO1xuICAgICAgICAgIGN1cnJlbnRQYWdlID0gbnVsbDtcbiAgICAgICAgICByZW5kZXJQYWdlTGlzdHMocGFnZXMsIGFjdGl2ZVBhZ2VJZCk7XG4gICAgICAgICAgcmVuZGVyQmxvY2tMaXN0KG51bGwpO1xuICAgICAgICAgIGJsb2NrRGV0YWlsRW1wdHk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgIGJsb2NrRWRpdG9yPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgICBwcmV2aWV3RnJhbWUgJiYgKHByZXZpZXdGcmFtZS5zcmNkb2MgPSBnZXRMb2FkaW5nUHJldmlld0h0bWwoKSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGFjdGl2ZVBhZ2VJZCA9IGdldFN0b3JlZEFjdGl2ZVBhZ2UocGFnZXMpO1xuICAgICAgICBzZXRBY3RpdmVQYWdlKGFjdGl2ZVBhZ2VJZCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2Rlc2lnbl0gSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxlcyBwYWdlcycsIGVycik7XG4gICAgICAgIHNob3dUb2FzdCgnSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxlcyBwYWdlcy4nKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IG5vcm1hbGl6ZVR5cGUgPSAodmFsdWUpID0+XG4gICAgICAodmFsdWUgfHwgJycpLm5vcm1hbGl6ZSgnTkZEJykucmVwbGFjZSgvW1xcdTAzMDAtXFx1MDM2Zl0vZywgJycpLnRvTG93ZXJDYXNlKCk7XG4gICAgY29uc3QgZ2V0QmxvY2tGb3JtQ29uZmlnID0gKGJsb2NrKSA9PiB7XG4gICAgICBpZiAoIWJsb2NrKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgY29uc3QgdHlwZUtleSA9IG5vcm1hbGl6ZVR5cGUoYmxvY2sudHlwZSk7XG4gICAgICBjb25zdCBhbGlhcyA9IGJsb2NrVHlwZUFsaWFzZXNbdHlwZUtleV0gfHwgdHlwZUtleTtcbiAgICAgIHJldHVybiBibG9ja1R5cGVGb3Jtc1thbGlhc10gfHwgbnVsbDtcbiAgICB9O1xuICAgIGNvbnN0IHBvcHVsYXRlQmxvY2tGb3JtID0gKGJsb2NrKSA9PiB7XG4gICAgICBpZiAoIWJsb2NrRm9ybSB8fCAhYmxvY2tFZGl0b3IpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGJsb2NrICYmICFibG9jay5zZXR0aW5ncykge1xuICAgICAgICBibG9jay5zZXR0aW5ncyA9IHt9O1xuICAgICAgfVxuICAgICAgY29uc3QgY29uZmlnID0gZ2V0QmxvY2tGb3JtQ29uZmlnKGJsb2NrKTtcbiAgICAgIGlmIChibG9ja0VkaXRvclRpdGxlKSB7XG4gICAgICAgIGJsb2NrRWRpdG9yVGl0bGUudGV4dENvbnRlbnQgPSBibG9jaz8ubGFiZWwgfHwgJ0Jsb2MnO1xuICAgICAgfVxuICAgICAgaWYgKGJsb2NrRWRpdG9yVHlwZSkge1xuICAgICAgICBibG9ja0VkaXRvclR5cGUudGV4dENvbnRlbnQgPSBibG9jaz8udHlwZSB8fCAnQmxvYyc7XG4gICAgICB9XG4gICAgICBpZiAoIWNvbmZpZykge1xuICAgICAgICBibG9ja0Zvcm0uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIGJsb2NrRWRpdG9yVW5zdXBwb3J0ZWQ/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICBibG9ja0Zvcm0uZGF0YXNldC5ibG9ja0lkID0gJyc7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGJsb2NrRWRpdG9yVW5zdXBwb3J0ZWQ/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgYmxvY2tGb3JtLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgYmxvY2tGb3JtLnJlc2V0KCk7XG4gICAgICBibG9ja0Zvcm0uZGF0YXNldC5ibG9ja0lkID0gYmxvY2suaWQ7XG4gICAgICBibG9ja0Zvcm1TZWN0aW9ucy5mb3JFYWNoKChzZWN0aW9uKSA9PiB7XG4gICAgICAgIGNvbnN0IHNlY3Rpb25JZCA9IHNlY3Rpb24uZGF0YXNldC5lZGl0b3JTZWN0aW9uO1xuICAgICAgICBpZiAoc2VjdGlvbklkID09PSBjb25maWcuc2VjdGlvbikge1xuICAgICAgICAgIHNlY3Rpb24uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VjdGlvbi5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICAvLyBSXHUwMEU5aW5pdGlhbGlzZXIgc3VyIGwnb25nbGV0IENvbnRlbnVcbiAgICAgIHN3aXRjaEJsb2NrVGFiKCdjb250ZW50Jyk7XG4gICAgICBpZiAoY29uZmlnLnNlY3Rpb24gPT09ICdjb2xsZWN0aW9uJykge1xuICAgICAgICBjb25zdCBkZXNpcmVkVmFsdWUgPSBibG9jay5jb2xsZWN0aW9uSWQgfHwgYmxvY2suc2V0dGluZ3M/LmNvbGxlY3Rpb25JZCB8fCAnJztcbiAgICAgICAgdXBkYXRlQ29sbGVjdGlvblNlbGVjdE9wdGlvbnMoZGVzaXJlZFZhbHVlKTtcbiAgICAgIH1cbiAgICAgIE9iamVjdC5lbnRyaWVzKGNvbmZpZy5maWVsZHMpLmZvckVhY2goKFtzZXR0aW5nS2V5LCBmaWVsZE5hbWVdKSA9PiB7XG4gICAgICAgIGNvbnN0IGlucHV0ID0gYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3IoYFtuYW1lPVwiJHtmaWVsZE5hbWV9XCJdYCk7XG4gICAgICAgIGlmICghaW5wdXQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdmFsdWUgPSBibG9jay5zZXR0aW5ncz8uW3NldHRpbmdLZXldO1xuICAgICAgICBpZiAoaW5wdXQudHlwZSA9PT0gJ2NoZWNrYm94Jykge1xuICAgICAgICAgIGlucHV0LmNoZWNrZWQgPSBCb29sZWFuKHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIGlmIChpbnB1dC50eXBlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIGlucHV0LnZhbHVlID0gdmFsdWUgPz8gMTtcbiAgICAgICAgfSBlbHNlIGlmIChpbnB1dC50YWdOYW1lID09PSAnVEVYVEFSRUEnKSB7XG4gICAgICAgICAgaW5wdXQudmFsdWUgPSB2YWx1ZSA/PyAnJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpbnB1dC52YWx1ZSA9IHZhbHVlID8/ICcnO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmIChjb25maWcuc2VjdGlvbiA9PT0gJ2dyb3VwJykge1xuICAgICAgICBjb25zdCBtb2JpbGVWYWx1ZSA9XG4gICAgICAgICAgYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZ3JvdXAtY29sdW1ucy1tb2JpbGVcIl0nKT8udmFsdWUgfHwgJzEnO1xuICAgICAgICBjb25zdCBkZXNrdG9wVmFsdWUgPVxuICAgICAgICAgIGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImdyb3VwLWNvbHVtbnMtZGVza3RvcFwiXScpPy52YWx1ZSB8fCAnMyc7XG4gICAgICAgIHVwZGF0ZUdyb3VwTWluaVByZXZpZXcobW9iaWxlVmFsdWUsIGRlc2t0b3BWYWx1ZSk7XG4gICAgICB9XG4gICAgICBpZiAoY29uZmlnLnNlY3Rpb24gPT09ICdjb2xsZWN0aW9uJykge1xuICAgICAgICBjb25zdCBtb2JpbGVWYWx1ZSA9XG4gICAgICAgICAgYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiY29sbGVjdGlvbi1jb2x1bW5zLW1vYmlsZVwiXScpPy52YWx1ZSB8fCAnMSc7XG4gICAgICAgIGNvbnN0IGRlc2t0b3BWYWx1ZSA9XG4gICAgICAgICAgYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiY29sbGVjdGlvbi1jb2x1bW5zLWRlc2t0b3BcIl0nKT8udmFsdWUgfHwgJzMnO1xuICAgICAgICB1cGRhdGVDb2xsZWN0aW9uTWluaVByZXZpZXcobW9iaWxlVmFsdWUsIGRlc2t0b3BWYWx1ZSk7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBjb2xsZWN0Rm9ybVZhbHVlcyA9IChjb25maWcpID0+IHtcbiAgICAgIGlmICghYmxvY2tGb3JtIHx8ICFjb25maWcpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgfVxuICAgICAgY29uc3QgdmFsdWVzID0ge307XG4gICAgICBPYmplY3QuZW50cmllcyhjb25maWcuZmllbGRzKS5mb3JFYWNoKChbc2V0dGluZ0tleSwgZmllbGROYW1lXSkgPT4ge1xuICAgICAgICBjb25zdCBpbnB1dCA9IGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yKGBbbmFtZT1cIiR7ZmllbGROYW1lfVwiXWApO1xuICAgICAgICBpZiAoIWlucHV0KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbnB1dC50eXBlID09PSAnY2hlY2tib3gnKSB7XG4gICAgICAgICAgdmFsdWVzW3NldHRpbmdLZXldID0gaW5wdXQuY2hlY2tlZDtcbiAgICAgICAgfSBlbHNlIGlmIChpbnB1dC50eXBlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIGNvbnN0IHBhcnNlZCA9IE51bWJlcihpbnB1dC52YWx1ZSk7XG4gICAgICAgICAgdmFsdWVzW3NldHRpbmdLZXldID0gTnVtYmVyLmlzRmluaXRlKHBhcnNlZCkgPyBwYXJzZWQgOiAwO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0LnRhZ05hbWUgPT09ICdURVhUQVJFQScpIHtcbiAgICAgICAgICB2YWx1ZXNbc2V0dGluZ0tleV0gPSBpbnB1dC52YWx1ZSB8fCAnJztcbiAgICAgICAgfSBlbHNlIGlmIChpbnB1dC50eXBlID09PSAnc2VsZWN0LW9uZScpIHtcbiAgICAgICAgICB2YWx1ZXNbc2V0dGluZ0tleV0gPSBpbnB1dC52YWx1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YWx1ZXNbc2V0dGluZ0tleV0gPSBpbnB1dC52YWx1ZSB8fCAnJztcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gdmFsdWVzO1xuICAgIH07XG4gICAgY29uc3QgdXBkYXRlUHJldmlld1N0YXR1cyA9ICh0ZXh0KSA9PiB7XG4gICAgICBpZiAoIXByZXZpZXdTdGF0dXMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCF0ZXh0KSB7XG4gICAgICAgIHByZXZpZXdTdGF0dXMuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHByZXZpZXdTdGF0dXMuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBwcmV2aWV3U3RhdHVzLnRleHRDb250ZW50ID0gdGV4dDtcbiAgICB9O1xuICAgIGNvbnN0IHNlcmlhbGl6ZVBhZ2VGb3JQcmV2aWV3ID0gKHBhZ2UpID0+IHtcbiAgICAgIGlmICghcGFnZSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlkOiBwYWdlLmlkLFxuICAgICAgICB0aXRsZTogcGFnZS50aXRsZSxcbiAgICAgICAgc2x1ZzogcGFnZS5zbHVnLFxuICAgICAgICBiYWRnZXM6IFsuLi4ocGFnZS5iYWRnZXMgfHwgW10pXSxcbiAgICAgICAgYmxvY2tzOiAocGFnZS5ibG9ja3MgfHwgW10pLm1hcCgoYmxvY2spID0+ICh7XG4gICAgICAgICAgaWQ6IGJsb2NrLmlkLFxuICAgICAgICAgIHR5cGU6IGJsb2NrLnR5cGUsXG4gICAgICAgICAgbGFiZWw6IGJsb2NrLmxhYmVsLFxuICAgICAgICAgIHN0YXR1czogYmxvY2suc3RhdHVzLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBibG9jay5kZXNjcmlwdGlvbixcbiAgICAgICAgICBwcm9wczogYmxvY2sucHJvcHMgfHwgW10sXG4gICAgICAgICAgc2V0dGluZ3M6IGJsb2NrLnNldHRpbmdzIHx8IHt9LFxuICAgICAgICAgIGNvbGxlY3Rpb25JZDogYmxvY2suY29sbGVjdGlvbklkIHx8IGJsb2NrLnNldHRpbmdzPy5jb2xsZWN0aW9uSWQgfHwgJycsXG4gICAgICAgIH0pKSxcbiAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBnZXRMb2FkaW5nUHJldmlld0h0bWwgPSAoKSA9PlxuICAgICAgJzwhRE9DVFlQRSBodG1sPjxodG1sPjxib2R5IHN0eWxlPVwiZm9udC1mYW1pbHk6SW50ZXIsc2Fucy1zZXJpZjtwYWRkaW5nOjQwcHg7Y29sb3I6IzQ3NTU2OTtiYWNrZ3JvdW5kOiNmZmY7XCI+UHJcdTAwRTlwYXJhdGlvbiBkZSBsYSBwclx1MDBFOXZpc3VhbGlzYXRpb25cdTIwMjY8L2JvZHk+PC9odG1sPic7XG5cbiAgICAvLyBEZWJvdW5jZSB1dGlsaXR5XG4gICAgY29uc3QgZGVib3VuY2UgPSAoZm4sIGRlbGF5KSA9PiB7XG4gICAgICBsZXQgdGltZW91dElkO1xuICAgICAgcmV0dXJuICguLi5hcmdzKSA9PiB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICAgICAgICB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IGZuKC4uLmFyZ3MpLCBkZWxheSk7XG4gICAgICB9O1xuICAgIH07XG5cbiAgICAvLyBBdXRvLXNhdmUgcG91ciBsJ2FwcGFyZW5jZSAoZGVib3VuY2VkKVxuICAgIGxldCBhdXRvU2F2ZVRpbWVvdXQgPSBudWxsO1xuICAgIGNvbnN0IGF1dG9TYXZlQXBwZWFyYW5jZSA9ICgpID0+IHtcbiAgICAgIGlmICghY3VycmVudFBhZ2UgfHwgIWFjdGl2ZUJsb2NrSWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgYmxvY2sgPSBnZXRBY3RpdmVCbG9jaygpO1xuICAgICAgY29uc3QgY29uZmlnID0gZ2V0QmxvY2tGb3JtQ29uZmlnKGJsb2NrKTtcbiAgICAgIGlmICghYmxvY2sgfHwgIWNvbmZpZykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCB2YWx1ZXMgPSBjb2xsZWN0Rm9ybVZhbHVlcyhjb25maWcpO1xuICAgICAgY29uc3QgdXBkYXRlZEJsb2NrcyA9IChjdXJyZW50UGFnZS5ibG9ja3MgfHwgW10pLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgaWYgKGVudHJ5LmlkICE9PSBibG9jay5pZCkge1xuICAgICAgICAgIHJldHVybiBlbnRyeTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB1cGRhdGVkU2V0dGluZ3MgPSB7IC4uLihlbnRyeS5zZXR0aW5ncyB8fCB7fSksIC4uLnZhbHVlcyB9O1xuICAgICAgICByZXR1cm4geyAuLi5lbnRyeSwgc2V0dGluZ3M6IHVwZGF0ZWRTZXR0aW5ncyB9O1xuICAgICAgfSk7XG4gICAgICAvLyBNaXNlIFx1MDBFMCBqb3VyIHNpbGVuY2lldXNlIChzYW5zIHRvYXN0IG5pIHJlZnJlc2ggY29tcGxldClcbiAgICAgIGNvbnN0IG5leHRQYWdlID0geyAuLi5jdXJyZW50UGFnZSwgYmxvY2tzOiB1cGRhdGVkQmxvY2tzIH07XG4gICAgICBjdXJyZW50UGFnZSA9IG5leHRQYWdlO1xuICAgICAgc2F2ZVBhZ2VUb1NlcnZlcihuZXh0UGFnZSk7XG4gICAgfTtcblxuICAgIC8vIE1pc2UgXHUwMEUwIGpvdXIgbGl2ZSBkZSBsYSBwcmV2aWV3IHZpYSBwb3N0TWVzc2FnZSAoc2FucyByZWNoYXJnZXIgbCdpZnJhbWUpXG4gICAgY29uc3QgdXBkYXRlUHJldmlld0Jsb2NrTGl2ZSA9IChibG9ja0lkLCBzZXR0aW5ncykgPT4ge1xuICAgICAgaWYgKCFwcmV2aWV3RnJhbWUgfHwgIXByZXZpZXdGcmFtZS5jb250ZW50V2luZG93KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vIEVudm9pZSBsZXMgbm91dmVsbGVzIGNsYXNzZXMgYXUgYmxvYyBkYW5zIGwnaWZyYW1lXG4gICAgICBwcmV2aWV3RnJhbWUuY29udGVudFdpbmRvdy5wb3N0TWVzc2FnZSh7XG4gICAgICAgIHR5cGU6ICd1cGRhdGVCbG9ja1N0eWxlcycsXG4gICAgICAgIGJsb2NrSWQsXG4gICAgICAgIHNldHRpbmdzLFxuICAgICAgfSwgJyonKTtcbiAgICB9O1xuXG4gICAgLy8gTWlzZSBcdTAwRTAgam91ciBsaXZlICsgYXV0by1zYXZlIChkZWJvdW5jZWQpXG4gICAgY29uc3QgZGVib3VuY2VkQXV0b1NhdmUgPSBkZWJvdW5jZSgoKSA9PiB7XG4gICAgICBhdXRvU2F2ZUFwcGVhcmFuY2UoKTtcbiAgICAgIHVwZGF0ZVByZXZpZXdTdGF0dXMoJ1NhdXZlZ2FyZFx1MDBFOScpO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB1cGRhdGVQcmV2aWV3U3RhdHVzKCdcdTAwQzAgam91cicpLCAxNTAwKTtcbiAgICB9LCA4MDApO1xuXG4gICAgLy8gUmVmcmVzaCBwcmV2aWV3IGNvbXBsZXQgZGVib3VuY2VkIChwb3VyIGxlcyBjaGFuZ2VtZW50cyBjb21wbGV4ZXMpXG4gICAgY29uc3QgZGVib3VuY2VkUmVmcmVzaFByZXZpZXcgPSBkZWJvdW5jZSgoKSA9PiB7XG4gICAgICBpZiAoY3VycmVudFBhZ2UpIHtcbiAgICAgICAgcmVmcmVzaFByZXZpZXcoY3VycmVudFBhZ2UpO1xuICAgICAgfVxuICAgIH0sIDE1MDApO1xuXG4gICAgLy8gTWlzZSBcdTAwRTAgam91ciBsaXZlIGltbVx1MDBFOWRpYXRlIChwb3VyIGxhIHByZXZpZXcpXG4gICAgY29uc3QgaGFuZGxlQXBwZWFyYW5jZUNoYW5nZSA9IChibG9ja0lkLCBzZXR0aW5ncykgPT4ge1xuICAgICAgdXBkYXRlUHJldmlld0Jsb2NrTGl2ZShibG9ja0lkLCBzZXR0aW5ncyk7XG4gICAgICB1cGRhdGVQcmV2aWV3U3RhdHVzKCdNb2RpZmljYXRpb25cdTIwMjYnKTtcbiAgICAgIGRlYm91bmNlZEF1dG9TYXZlKCk7XG4gICAgICAvLyBSZWZyZXNoIGNvbXBsZXQgYXByXHUwMEU4cyB1biBkXHUwMEU5bGFpIHBsdXMgbG9uZyAocG91ciBsZXMgY2hhbmdlbWVudHMgZGUgbGF5b3V0LCBldGMuKVxuICAgICAgZGVib3VuY2VkUmVmcmVzaFByZXZpZXcoKTtcbiAgICB9O1xuXG4gICAgY29uc3QgcmVmcmVzaFByZXZpZXcgPSAocGFnZSkgPT4ge1xuICAgICAgaWYgKCFwcmV2aWV3RnJhbWUgfHwgIXBhZ2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgcHJldmlld1NpdGVTbHVnID0gd29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnJztcbiAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgIHBhZ2U6IHNlcmlhbGl6ZVBhZ2VGb3JQcmV2aWV3KHBhZ2UpLFxuICAgICAgICBzaXRlOiB7XG4gICAgICAgICAgdGl0bGU6IHN0b3JlZFNpdGUubmFtZSB8fCAnU2l0ZScsXG4gICAgICAgICAgc2x1ZzogcHJldmlld1NpdGVTbHVnLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICAgIHByZXZpZXdSZWFkeSA9IGZhbHNlO1xuICAgICAgdXBkYXRlUHJldmlld1N0YXR1cygnQWN0dWFsaXNhdGlvblx1MjAyNicpO1xuICAgICAgcHJldmlld0ZyYW1lLnNyY2RvYyA9IGdldExvYWRpbmdQcmV2aWV3SHRtbCgpO1xuICAgICAgaWYgKHByZXZpZXdSZXF1ZXN0Q29udHJvbGxlcikge1xuICAgICAgICBwcmV2aWV3UmVxdWVzdENvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgICBwcmV2aWV3UmVxdWVzdENvbnRyb2xsZXIgPSBjb250cm9sbGVyO1xuICAgICAgZmV0Y2goJy9hcGkvcHJldmlldycsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgc2lnbmFsOiBjb250cm9sbGVyLnNpZ25hbCxcbiAgICAgIH0pXG4gICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUHJldmlldyBlcnJvcicpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICB9KVxuICAgICAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICAgIGlmIChjb250cm9sbGVyLnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGxhdGVzdFByZXZpZXdIdG1sID0gZGF0YS5odG1sIHx8ICcnO1xuICAgICAgICAgIHByZXZpZXdGcmFtZS5zZXRBdHRyaWJ1dGUoXG4gICAgICAgICAgICAndGl0bGUnLFxuICAgICAgICAgICAgYFByXHUwMEU5dmlzdWFsaXNhdGlvbiBkZSBsYSBwYWdlICR7cGFnZS50aXRsZSB8fCAnJ31gLnRyaW0oKSxcbiAgICAgICAgICApO1xuICAgICAgICAgIHByZXZpZXdGcmFtZS5zcmNkb2MgPSBsYXRlc3RQcmV2aWV3SHRtbCB8fCBnZXRMb2FkaW5nUHJldmlld0h0bWwoKTtcbiAgICAgICAgICB1cGRhdGVQcmV2aWV3U3RhdHVzKCdcdTAwQzAgam91cicpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgaWYgKGNvbnRyb2xsZXIuc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3ByZXZpZXddIEltcG9zc2libGUgZGUgcmVuZHJlIGxhIHBhZ2UnLCBlcnJvcik7XG4gICAgICAgICAgdXBkYXRlUHJldmlld1N0YXR1cygnRXJyZXVyIHByZXZpZXcnKTtcbiAgICAgICAgICBwcmV2aWV3RnJhbWUuc3JjZG9jID1cbiAgICAgICAgICAgICc8IURPQ1RZUEUgaHRtbD48aHRtbD48Ym9keSBzdHlsZT1cImZvbnQtZmFtaWx5OkludGVyLHNhbnMtc2VyaWY7cGFkZGluZzo0MHB4O2NvbG9yOiNiZTEyM2M7YmFja2dyb3VuZDojZmZmO1wiPkVycmV1ciBsb3JzIGR1IHJlbmR1IGRlIGxhIHByXHUwMEU5dmlzdWFsaXNhdGlvbi48L2JvZHk+PC9odG1sPic7XG4gICAgICAgIH0pXG4gICAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgICBpZiAocHJldmlld1JlcXVlc3RDb250cm9sbGVyID09PSBjb250cm9sbGVyKSB7XG4gICAgICAgICAgICBwcmV2aWV3UmVxdWVzdENvbnRyb2xsZXIgPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBjb25zdCBoYW5kbGVCbG9ja0Zvcm1TdWJtaXQgPSAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlIHx8ICFhY3RpdmVCbG9ja0lkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGJsb2NrID0gZ2V0QWN0aXZlQmxvY2soKTtcbiAgICAgIGNvbnN0IGNvbmZpZyA9IGdldEJsb2NrRm9ybUNvbmZpZyhibG9jayk7XG4gICAgICBpZiAoIWJsb2NrIHx8ICFjb25maWcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgdmFsdWVzID0gY29sbGVjdEZvcm1WYWx1ZXMoY29uZmlnKTtcbiAgICAgIGlmIChjb25maWcuc2VjdGlvbiA9PT0gJ2NvbGxlY3Rpb24nKSB7XG4gICAgICAgIGlmICghdmFsdWVzLmNvbGxlY3Rpb25JZCkge1xuICAgICAgICAgIHNob3dUb2FzdCgnU1x1MDBFOWxlY3Rpb25uZXogdW5lIGNvbGxlY3Rpb24uJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhbHVlcy5saW1pdCA9IE1hdGgubWF4KDEsIE51bWJlcih2YWx1ZXMubGltaXQpIHx8IDEpO1xuICAgICAgfVxuICAgICAgY29uc3QgdXBkYXRlZEJsb2NrcyA9IChjdXJyZW50UGFnZS5ibG9ja3MgfHwgW10pLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgaWYgKGVudHJ5LmlkICE9PSBibG9jay5pZCkge1xuICAgICAgICAgIHJldHVybiBlbnRyeTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB1cGRhdGVkU2V0dGluZ3MgPSB7IC4uLihlbnRyeS5zZXR0aW5ncyB8fCB7fSksIC4uLnZhbHVlcyB9O1xuICAgICAgICBjb25zdCB1cGRhdGVkQmxvY2sgPSB7XG4gICAgICAgICAgLi4uZW50cnksXG4gICAgICAgICAgc2V0dGluZ3M6IHVwZGF0ZWRTZXR0aW5ncyxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGNvbmZpZy5sYWJlbEZpZWxkICYmIHZhbHVlc1tjb25maWcubGFiZWxGaWVsZF0pIHtcbiAgICAgICAgICB1cGRhdGVkQmxvY2subGFiZWwgPSB2YWx1ZXNbY29uZmlnLmxhYmVsRmllbGRdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb25maWcuZGVzY3JpcHRpb25GaWVsZCAmJiB2YWx1ZXNbY29uZmlnLmRlc2NyaXB0aW9uRmllbGRdKSB7XG4gICAgICAgICAgdXBkYXRlZEJsb2NrLmRlc2NyaXB0aW9uID0gdmFsdWVzW2NvbmZpZy5kZXNjcmlwdGlvbkZpZWxkXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29uZmlnLnNlY3Rpb24gPT09ICdjb2xsZWN0aW9uJykge1xuICAgICAgICAgIHVwZGF0ZWRCbG9jay5jb2xsZWN0aW9uSWQgPSB2YWx1ZXMuY29sbGVjdGlvbklkO1xuICAgICAgICAgIHVwZGF0ZWRCbG9jay5zZXR0aW5ncy5jb2xsZWN0aW9uSWQgPSB2YWx1ZXMuY29sbGVjdGlvbklkO1xuICAgICAgICAgIHVwZGF0ZWRCbG9jay5zZXR0aW5ncy5saW1pdCA9IHZhbHVlcy5saW1pdDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdXBkYXRlZEJsb2NrO1xuICAgICAgfSk7XG4gICAgICB1cGRhdGVDdXJyZW50UGFnZUJsb2Nrcyh1cGRhdGVkQmxvY2tzKTtcbiAgICAgIHNob3dUb2FzdCgnQmxvYyBtaXMgXHUwMEUwIGpvdXInKTtcbiAgICAgIHNldEFjdGl2ZVBhZ2UoY3VycmVudFBhZ2UuaWQsIHsgcHJlc2VydmVCbG9jazogdHJ1ZSB9KTtcbiAgICB9O1xuICAgIGNvbnN0IGRyYXdlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXBhZ2UtZHJhd2VyXScpO1xuICAgIGNvbnN0IGRyYXdlckJhY2tkcm9wID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1kcmF3ZXItYmFja2Ryb3BdJyk7XG4gICAgY29uc3QgZHJhd2VyT3BlbkJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1wYWdlLWRyYXdlci1vcGVuXScpO1xuICAgIGNvbnN0IGRyYXdlckNsb3NlQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXBhZ2UtZHJhd2VyLWNsb3NlXScpO1xuICAgIGNvbnN0IGFkZFBhZ2VUb2dnbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZGQtcGFnZS10b2dnbGVdJyk7XG4gICAgY29uc3QgYWRkUGFnZUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZGQtcGFnZS1mb3JtXScpO1xuICAgIGNvbnN0IGFkZFBhZ2VUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFkZC1wYWdlLXRpdGxlXScpO1xuICAgIGNvbnN0IGFkZFBhZ2VTbHVnID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRkLXBhZ2Utc2x1Z10nKTtcbiAgICBjb25zdCBhZGRQYWdlQ2FuY2VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRkLXBhZ2UtY2FuY2VsXScpO1xuICAgIGNvbnN0IGFkZFBhZ2VFcnJvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFkZC1wYWdlLWVycm9yXScpO1xuICAgIGNvbnN0IGFkZFBhZ2VTdWJtaXRCdXR0b24gPSBhZGRQYWdlRm9ybT8ucXVlcnlTZWxlY3RvcignW3R5cGU9XCJzdWJtaXRcIl0nKTtcbiAgICAvLyBJbXBvcnQgSlNPTiBlbGVtZW50c1xuICAgIGNvbnN0IGltcG9ydFRvZ2dsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWltcG9ydC1wYWdlcy10b2dnbGVdJyk7XG4gICAgY29uc3QgaW1wb3J0TW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbXBvcnQtbW9kYWxdJyk7XG4gICAgY29uc3QgaW1wb3J0Q2xvc2VCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtaW1wb3J0LW1vZGFsLWNsb3NlXScpO1xuICAgIGNvbnN0IGltcG9ydERyb3B6b25lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaW1wb3J0LWRyb3B6b25lXScpO1xuICAgIGNvbnN0IGltcG9ydEZpbGVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWltcG9ydC1maWxlLWlucHV0XScpO1xuICAgIGNvbnN0IGltcG9ydEZpbGVMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaW1wb3J0LWZpbGUtbGlzdF0nKTtcbiAgICBjb25zdCBpbXBvcnRGaWxlTmFtZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbXBvcnQtZmlsZS1uYW1lc10nKTtcbiAgICBjb25zdCBpbXBvcnRSZXN1bHRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaW1wb3J0LXJlc3VsdHNdJyk7XG4gICAgY29uc3QgaW1wb3J0UmVzdWx0c0NvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbXBvcnQtcmVzdWx0cy1jb250ZW50XScpO1xuICAgIGNvbnN0IGltcG9ydFN1Ym1pdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWltcG9ydC1zdWJtaXRdJyk7XG4gICAgY29uc3QgaW1wb3J0VGFicyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWltcG9ydC10YWJdJyk7XG4gICAgY29uc3QgaW1wb3J0UGFuZWxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtaW1wb3J0LXBhbmVsXScpO1xuICAgIGNvbnN0IGNvcHlUZW1wbGF0ZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvcHktdGVtcGxhdGVdJyk7XG4gICAgY29uc3QgdGVtcGxhdGVKc29uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtdGVtcGxhdGUtanNvbl0nKTtcbiAgICAvLyBQYXN0ZSBKU09OIGVsZW1lbnRzXG4gICAgY29uc3QgaW1wb3J0UGFzdGVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWltcG9ydC1wYXN0ZS1qc29uXScpO1xuICAgIGNvbnN0IHBhc3RlRm9ybWF0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZm9ybWF0LWpzb25dJyk7XG4gICAgY29uc3QgcGFzdGVFcnJvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWltcG9ydC1wYXN0ZS1lcnJvcl0nKTtcbiAgICBsZXQgaW1wb3J0U2VsZWN0ZWRGaWxlcyA9IFtdO1xuICAgIGxldCBhY3RpdmVJbXBvcnRUYWIgPSAndXBsb2FkJztcbiAgICAvLyBEZWxldGUgcGFnZSBlbGVtZW50c1xuICAgIGNvbnN0IGRlbGV0ZVBhZ2VNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlbGV0ZS1wYWdlLW1vZGFsXScpO1xuICAgIGNvbnN0IGRlbGV0ZVBhZ2VOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVsZXRlLXBhZ2UtbmFtZV0nKTtcbiAgICBjb25zdCBkZWxldGVQYWdlQ2FuY2VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVsZXRlLXBhZ2UtY2FuY2VsXScpO1xuICAgIGNvbnN0IGRlbGV0ZVBhZ2VDb25maXJtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVsZXRlLXBhZ2UtY29uZmlybV0nKTtcbiAgICBsZXQgcGFnZVRvRGVsZXRlID0gbnVsbDtcbiAgICBjb25zdCBzaXRlS2V5ID1cbiAgICAgIHN0cmlwTGVhZGluZ1NsYXNoKHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJ2RlZmF1bHQnKSB8fCAnZGVmYXVsdCc7XG4gICAgY29uc3Qgc2l0ZVNsdWdWYWx1ZSA9IHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJyc7XG4gICAgY29uc3Qgc2FmZVNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goc2l0ZVNsdWdWYWx1ZSkgfHwgJyc7XG4gICAgY29uc3QgcGFnZXNBcGlCYXNlID0gc2FmZVNpdGVTbHVnXG4gICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Zyl9L3BhZ2VzYFxuICAgICAgOiBudWxsO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25zQXBpQmFzZSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9jb2xsZWN0aW9uc2BcbiAgICAgIDogbnVsbDtcbiAgICBjb25zdCBzdG9yYWdlS2V5cyA9IHtcbiAgICAgIGFjdGl2ZTogYGNsb3dlcjphY3RpdmVQYWdlOiR7c2l0ZUtleX1gLFxuICAgIH07XG4gICAgY29uc3QgY3JlYXRlQmxvY2sgPSAoaWQsIGxhYmVsLCB0eXBlLCBzdGF0dXMsIGRlc2NyaXB0aW9uLCBwcm9wcyA9IFtdLCBzZXR0aW5ncyA9IHt9KSA9PiB7XG4gICAgICBjb25zdCBibG9jayA9IHtcbiAgICAgICAgaWQsXG4gICAgICAgIGxhYmVsLFxuICAgICAgICB0eXBlLFxuICAgICAgICBzdGF0dXMsXG4gICAgICAgIGRlc2NyaXB0aW9uLFxuICAgICAgICBwcm9wcyxcbiAgICAgICAgc2V0dGluZ3M6IHsgLi4uc2V0dGluZ3MgfSxcbiAgICAgIH07XG4gICAgICBpZiAoYmxvY2suc2V0dGluZ3MuY29sbGVjdGlvbklkKSB7XG4gICAgICAgIGJsb2NrLmNvbGxlY3Rpb25JZCA9IGJsb2NrLnNldHRpbmdzLmNvbGxlY3Rpb25JZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBibG9jaztcbiAgICB9O1xuICAgIGNvbnN0IGJsb2NrTGlicmFyeURlZmluaXRpb25zID0ge1xuICAgICAgaGVybzoge1xuICAgICAgICB0eXBlOiAnSGVybycsXG4gICAgICAgIGxhYmVsOiAnSGVybyBkZSBwYWdlJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdTZWN0aW9uIHBsZWluZSBsYXJnZXVyIGF2ZWMgQ1RBIHByaW5jaXBhbC4nLFxuICAgICAgICBzdGF0dXM6ICdCcm91aWxsb24nLFxuICAgICAgICBwcm9wczogW1xuICAgICAgICAgIHsgbGFiZWw6ICdDVEEnLCB2YWx1ZTogJ0RcdTAwRTljb3V2cmlyJyB9LFxuICAgICAgICAgIHsgbGFiZWw6ICdIYXV0ZXVyJywgdmFsdWU6ICc4MHZoJyB9LFxuICAgICAgICBdLFxuICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgIHRpdGxlOiAnVGl0cmUgZHUgaGVybycsXG4gICAgICAgICAgc3VidGl0bGU6ICcnLFxuICAgICAgICAgIGN0YUxhYmVsOiAnRFx1MDBFOWNvdXZyaXInLFxuICAgICAgICAgIGN0YVVybDogJyMnLFxuICAgICAgICAgIGltYWdlOiAnJyxcbiAgICAgICAgICBhbGlnbjogJ2NlbnRlcicsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgcGFyYWdyYXBoOiB7XG4gICAgICAgIHR5cGU6ICdQYXJhZ3JhcGhlJyxcbiAgICAgICAgbGFiZWw6ICdCbG9jIFx1MDBFOWRpdG9yaWFsJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdQYXJhZ3JhcGhlIGxpYnJlIHBvdXIgcmFjb250ZXIgdm90cmUgaGlzdG9pcmUuJyxcbiAgICAgICAgc3RhdHVzOiAnQnJvdWlsbG9uJyxcbiAgICAgICAgcHJvcHM6IFt7IGxhYmVsOiAnTG9uZ3VldXInLCB2YWx1ZTogJzE1MCBtb3RzJyB9XSxcbiAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICB0aXRsZTogJ1RpdHJlIGR1IHBhcmFncmFwaGUnLFxuICAgICAgICAgIGNvbnRlbnQ6ICcnLFxuICAgICAgICAgIGFsaWduOiAnbGVmdCcsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgaW1hZ2U6IHtcbiAgICAgICAgdHlwZTogJ0ltYWdlJyxcbiAgICAgICAgbGFiZWw6ICdCbG9jIGltYWdlJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdWaXN1ZWwgc2V1bCBhdmVjIGxcdTAwRTlnZW5kZSBvcHRpb25uZWxsZS4nLFxuICAgICAgICBzdGF0dXM6ICdCcm91aWxsb24nLFxuICAgICAgICBwcm9wczogW1xuICAgICAgICAgIHsgbGFiZWw6ICdSYXRpbycsIHZhbHVlOiAnMTY6OScgfSxcbiAgICAgICAgICB7IGxhYmVsOiAnTFx1MDBFOWdlbmRlJywgdmFsdWU6ICdJbmFjdGl2ZScgfSxcbiAgICAgICAgXSxcbiAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICBzcmM6ICcnLFxuICAgICAgICAgIGFsdDogJycsXG4gICAgICAgICAgc2hvd0NhcHRpb246IGZhbHNlLFxuICAgICAgICAgIGNhcHRpb246ICcnLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGdyb3VwOiB7XG4gICAgICAgIHR5cGU6ICdHcm91cGUnLFxuICAgICAgICBsYWJlbDogJ0dyb3VwZSBkZSBzZWN0aW9ucycsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnQ29udGVuZXVyIHBvdXIgaW1icmlxdWVyIHBsdXNpZXVycyBzb3VzLWJsb2NzLicsXG4gICAgICAgIHN0YXR1czogJ0Jyb3VpbGxvbicsXG4gICAgICAgIHByb3BzOiBbeyBsYWJlbDogJ0Rpc3Bvc2l0aW9uJywgdmFsdWU6ICdWZXJ0aWNhbGUnIH1dLFxuICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgIGxheW91dDogJ2dyaWQnLFxuICAgICAgICAgIGNvbHVtbnNNb2JpbGU6ICcxJyxcbiAgICAgICAgICBjb2x1bW5zRGVza3RvcDogJzMnLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGNvbGxlY3Rpb25ncmlkOiB7XG4gICAgICAgIHR5cGU6ICdDb2xsZWN0aW9uR3JpZCcsXG4gICAgICAgIGxhYmVsOiAnR3JpbGxlIGRlIGNvbnRlbnVzJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdBZmZpY2hlIGF1dG9tYXRpcXVlbWVudCBsZXMgaXRlbXMgZFx1MjAxOXVuZSBjb2xsZWN0aW9uLicsXG4gICAgICAgIHN0YXR1czogJ0Jyb3VpbGxvbicsXG4gICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgY29sbGVjdGlvbklkOiAnJyxcbiAgICAgICAgICBsaW1pdDogNixcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBmb3JtOiB7XG4gICAgICAgIHR5cGU6ICdGb3JtJyxcbiAgICAgICAgbGFiZWw6ICdGb3JtdWxhaXJlIGRlIGNvbnRhY3QnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0Zvcm11bGFpcmUgYXZlYyBlbnZvaSB2ZXJzIHVuIHNlcnZpY2UgZXh0ZXJuZS4nLFxuICAgICAgICBzdGF0dXM6ICdCcm91aWxsb24nLFxuICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgIGZvcm1UaXRsZTogJ0NvbnRhY3Rlei1ub3VzJyxcbiAgICAgICAgICBhY3Rpb25Vcmw6ICcnLFxuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIHNlcnZpY2VOYW1lOiAnJyxcbiAgICAgICAgICBzdWJtaXRMYWJlbDogJ0Vudm95ZXInLFxuICAgICAgICAgIHN1Y2Nlc3NNZXNzYWdlOiAnTWVyY2kgcG91ciB2b3RyZSBtZXNzYWdlICEnLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIG5ld3NsZXR0ZXJlbWJlZDoge1xuICAgICAgICB0eXBlOiAnTmV3c2xldHRlckVtYmVkJyxcbiAgICAgICAgbGFiZWw6ICdOZXdzbGV0dGVyIC8gRW1iZWQnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0ludFx1MDBFOWdyYXRpb24gZFxcJ3VuIGZvcm11bGFpcmUgbmV3c2xldHRlciBleHRlcm5lIChCcmV2bywgTWFpbGNoaW1wXHUyMDI2KS4nLFxuICAgICAgICBzdGF0dXM6ICdCcm91aWxsb24nLFxuICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgIHRpdGxlOiAnUmVzdGV6IGluZm9ybVx1MDBFOScsXG4gICAgICAgICAgc2VydmljZU5hbWU6ICcnLFxuICAgICAgICAgIGVtYmVkQ29kZTogJycsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH07XG4gICAgY29uc3QgcGVyc2lzdEFjdGl2ZVBhZ2UgPSAocGFnZUlkKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oc3RvcmFnZUtleXMuYWN0aXZlLCBwYWdlSWQpO1xuICAgICAgfSBjYXRjaCB7XG4gICAgICAgIC8qIGlnbm9yZSBzdG9yYWdlIGVycm9ycyAqL1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgZ2V0U3RvcmVkQWN0aXZlUGFnZSA9IChwYWdlcykgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgc3RvcmVkID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKHN0b3JhZ2VLZXlzLmFjdGl2ZSk7XG4gICAgICAgIGlmIChzdG9yZWQgJiYgcGFnZXMuc29tZSgocGFnZSkgPT4gcGFnZS5pZCA9PT0gc3RvcmVkKSkge1xuICAgICAgICAgIHJldHVybiBzdG9yZWQ7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2gge1xuICAgICAgICAvKiBpZ25vcmUgc3RvcmFnZSBlcnJvcnMgKi9cbiAgICAgIH1cbiAgICAgIHJldHVybiBwYWdlc1swXT8uaWQgfHwgbnVsbDtcbiAgICB9O1xuICAgIGNvbnN0IGZvcm1hdEJsb2NrQ291bnQgPSAoY291bnQpID0+IHtcbiAgICAgIGlmICghY291bnQgfHwgY291bnQgPD0gMCkge1xuICAgICAgICByZXR1cm4gJzAgYmxvYyc7XG4gICAgICB9XG4gICAgICByZXR1cm4gY291bnQgPT09IDEgPyAnMSBibG9jJyA6IGAke2NvdW50fSBibG9jc2A7XG4gICAgfTtcbiAgICBjb25zdCBub3JtYWxpemVQYWdlU2x1ZyA9ICh2YWx1ZSkgPT4ge1xuICAgICAgaWYgKCF2YWx1ZSB8fCB2YWx1ZSA9PT0gJy8nKSB7XG4gICAgICAgIHJldHVybiAnLyc7XG4gICAgICB9XG4gICAgICBjb25zdCBiYXNlID0gd29ya3NwYWNlU2x1Z2lmeSh2YWx1ZS5yZXBsYWNlKC9eXFwvLywgJycpKTtcbiAgICAgIHJldHVybiBiYXNlID8gYC8ke2Jhc2V9YCA6ICcvJztcbiAgICB9O1xuICAgIGNvbnN0IGdlbmVyYXRlQmxvY2tJZCA9IChwYWdlSWQgPSAncGFnZScsIGtleSA9ICdibG9jaycpID0+XG4gICAgICBgJHtwYWdlSWR9LSR7a2V5fS0ke0RhdGUubm93KCkudG9TdHJpbmcoMzYpfS0ke01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDApfWA7XG4gICAgY29uc3QgY3JlYXRlSW5pdGlhbEJsb2NrcyA9IChwYWdlSWQsIHRpdGxlKSA9PiBbXG4gICAgICBjcmVhdGVCbG9jayhcbiAgICAgICAgZ2VuZXJhdGVCbG9ja0lkKHBhZ2VJZCwgJ2ludHJvJyksXG4gICAgICAgICdJbnRyb2R1Y3Rpb24nLFxuICAgICAgICAnUGFyYWdyYXBoZScsXG4gICAgICAgICdCcm91aWxsb24nLFxuICAgICAgICBgUGFyYWdyYXBoZSBpbnRyb2R1Y3RpZiBwb3VyIFwiJHt0aXRsZX1cIi5gLFxuICAgICAgICBbeyBsYWJlbDogJ0xvbmd1ZXVyJywgdmFsdWU6ICcyIHBhcmFncmFwaGVzJyB9XSxcbiAgICAgICAge1xuICAgICAgICAgIHRpdGxlOiBgSW50cm9kdWN0aW9uIFx1MDBFMCAke3RpdGxlfWAsXG4gICAgICAgICAgY29udGVudDogJ0Fqb3V0ZXogdm90cmUgcHJlbWllciBwYXJhZ3JhcGhlIGRlIHByXHUwMEU5c2VudGF0aW9uLicsXG4gICAgICAgICAgYWxpZ246ICdsZWZ0JyxcbiAgICAgICAgfSxcbiAgICAgICksXG4gICAgICBjcmVhdGVCbG9jayhcbiAgICAgICAgZ2VuZXJhdGVCbG9ja0lkKHBhZ2VJZCwgJ2NvbnRlbnQnKSxcbiAgICAgICAgJ1pvbmUgZGUgY29udGVudScsXG4gICAgICAgICdHcm91cGUnLFxuICAgICAgICAnQnJvdWlsbG9uJyxcbiAgICAgICAgJ1NlY3Rpb24gcHJpbmNpcGFsZSBcdTAwRTAgY29tcG9zZXIgYXZlYyB0ZXh0ZXMgZXQgdmlzdWVscy4nLFxuICAgICAgICBbeyBsYWJlbDogJ0NvbG9ubmVzJywgdmFsdWU6ICdBdXRvJyB9XSxcbiAgICAgICAge1xuICAgICAgICAgIGxheW91dDogJ2dyaWQnLFxuICAgICAgICAgIGNvbHVtbnNNb2JpbGU6ICcxJyxcbiAgICAgICAgICBjb2x1bW5zRGVza3RvcDogJzInLFxuICAgICAgICB9LFxuICAgICAgKSxcbiAgICBdO1xuICAgIGNvbnN0IHNldEFjdGl2ZUxhYmVscyA9IChwYWdlKSA9PiB7XG4gICAgICBpZiAoYWN0aXZlVGl0bGUpIHtcbiAgICAgICAgYWN0aXZlVGl0bGUudGV4dENvbnRlbnQgPSBwYWdlPy50aXRsZSB8fCAnUGFnZSc7XG4gICAgICB9XG4gICAgICBpZiAoYWN0aXZlU2x1Zykge1xuICAgICAgICBhY3RpdmVTbHVnLnRleHRDb250ZW50ID0gcGFnZT8uc2x1ZyB8fCAnLyc7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCByZW5kZXJQcmV2aWV3TWV0YSA9IChwYWdlKSA9PiB7XG4gICAgICBpZiAoIXByZXZpZXdUYWdzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHByZXZpZXdUYWdzLmlubmVySFRNTCA9ICcnO1xuICAgICAgY29uc3QgdGFncyA9XG4gICAgICAgIHBhZ2UgJiYgcGFnZS5iYWRnZXMgJiYgcGFnZS5iYWRnZXMubGVuZ3RoID4gMCA/IHBhZ2UuYmFkZ2VzIDogWydTdHJ1Y3R1cmUgZW4gY291cnMnXTtcbiAgICAgIHRhZ3MuZm9yRWFjaCgodGFnKSA9PiB7XG4gICAgICAgIGNvbnN0IGJhZGdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICBiYWRnZS5jbGFzc05hbWUgPSAncm91bmRlZC1mdWxsIGJnLXNsYXRlLTEwMCBweC0zIHB5LTEnO1xuICAgICAgICBiYWRnZS50ZXh0Q29udGVudCA9IHRhZztcbiAgICAgICAgcHJldmlld1RhZ3MuYXBwZW5kQ2hpbGQoYmFkZ2UpO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICBjb25zdCBnZXRTdGF0dXNCYWRnZUNsYXNzZXMgPSAoc3RhdHVzKSA9PiB7XG4gICAgICBzd2l0Y2ggKChzdGF0dXMgfHwgJycpLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgY2FzZSAnZW4gbGlnbmUnOlxuICAgICAgICAgIHJldHVybiAnYmctZW1lcmFsZC01MCB0ZXh0LWVtZXJhbGQtNzAwJztcbiAgICAgICAgY2FzZSAnYnJvdWlsbG9uJzpcbiAgICAgICAgICByZXR1cm4gJ2JnLWFtYmVyLTUwIHRleHQtYW1iZXItNzAwJztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gJ2JnLXNsYXRlLTEwMCB0ZXh0LXNsYXRlLTYwMCc7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCByZW5kZXJCbG9ja0RldGFpbHMgPSAoYmxvY2spID0+IHtcbiAgICAgIGlmICghYmxvY2tEZXRhaWxFbXB0eSB8fCAhYmxvY2tFZGl0b3IpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFibG9jaykge1xuICAgICAgICBibG9ja0RldGFpbEVtcHR5LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICBibG9ja0VkaXRvci5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgYmxvY2tFZGl0b3JVbnN1cHBvcnRlZD8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIGJsb2NrRm9ybT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIGJsb2NrRGV0YWlsU3RhdHVzPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYmxvY2tEZXRhaWxFbXB0eS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGJsb2NrRWRpdG9yLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgaWYgKGJsb2NrRGV0YWlsU3RhdHVzKSB7XG4gICAgICAgIGlmIChibG9jay5zdGF0dXMpIHtcbiAgICAgICAgICBibG9ja0RldGFpbFN0YXR1cy50ZXh0Q29udGVudCA9IGJsb2NrLnN0YXR1cztcbiAgICAgICAgICBibG9ja0RldGFpbFN0YXR1cy5jbGFzc05hbWUgPSBgcm91bmRlZC1mdWxsIHB4LTMgcHktMSB0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgJHtnZXRTdGF0dXNCYWRnZUNsYXNzZXMoXG4gICAgICAgICAgICBibG9jay5zdGF0dXMsXG4gICAgICAgICAgKX1gO1xuICAgICAgICAgIGJsb2NrRGV0YWlsU3RhdHVzLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGJsb2NrRGV0YWlsU3RhdHVzLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBwb3B1bGF0ZUJsb2NrRm9ybShibG9jayk7XG4gICAgfTtcbiAgICBjb25zdCBhcHBseVByZXZpZXdIaWdobGlnaHQgPSAoYmxvY2tJZCkgPT4ge1xuICAgICAgaWYgKCFwcmV2aWV3RnJhbWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgZG9jID0gcHJldmlld0ZyYW1lLmNvbnRlbnREb2N1bWVudDtcbiAgICAgIGlmICghZG9jKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG5vZGVzID0gZG9jLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXByZXZpZXctYmxvY2tdJyk7XG4gICAgICBub2Rlcy5mb3JFYWNoKChub2RlKSA9PiB7XG4gICAgICAgIGlmIChub2RlLmRhdGFzZXQucHJldmlld0Jsb2NrID09PSBibG9ja0lkKSB7XG4gICAgICAgICAgbm9kZS5jbGFzc0xpc3QuYWRkKCdwcmV2aWV3LWJsb2NrLWFjdGl2ZScpO1xuICAgICAgICAgIGlmIChwcmV2aWV3UmVhZHkgJiYgYmxvY2tJZCkge1xuICAgICAgICAgICAgbm9kZS5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiAnc21vb3RoJywgYmxvY2s6ICdjZW50ZXInLCBpbmxpbmU6ICduZWFyZXN0JyB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbm9kZS5jbGFzc0xpc3QucmVtb3ZlKCdwcmV2aWV3LWJsb2NrLWFjdGl2ZScpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmIChwcmV2aWV3SGlnaGxpZ2h0T3ZlcmxheSkge1xuICAgICAgICBwcmV2aWV3SGlnaGxpZ2h0T3ZlcmxheS5zdHlsZS5ib3JkZXJDb2xvciA9IGJsb2NrSWQgPyAncmdiYSgxNTYsIDEwNywgMjU1LCAwLjUpJyA6ICd0cmFuc3BhcmVudCc7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCByZW5kZXJCbG9ja0xpc3QgPSAocGFnZSkgPT4ge1xuICAgICAgaWYgKCFibG9ja0xpc3QpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYmxvY2tMaXN0LmlubmVySFRNTCA9ICcnO1xuICAgICAgY29uc3QgYmxvY2tzID0gcGFnZT8uYmxvY2tzIHx8IFtdO1xuICAgICAgaWYgKGJsb2NrQ291bnRCYWRnZSkge1xuICAgICAgICBibG9ja0NvdW50QmFkZ2UudGV4dENvbnRlbnQgPSBmb3JtYXRCbG9ja0NvdW50KGJsb2Nrcy5sZW5ndGgpO1xuICAgICAgfVxuICAgICAgaWYgKGJsb2Nrcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgYmxvY2tMaXN0LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBibG9ja0xpc3RFbXB0eT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGJsb2NrTGlzdC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGJsb2NrTGlzdEVtcHR5Py5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGJsb2Nrcy5mb3JFYWNoKChibG9jaykgPT4ge1xuICAgICAgICBjb25zdCBpc0FjdGl2ZSA9IGJsb2NrLmlkID09PSBhY3RpdmVCbG9ja0lkO1xuICAgICAgICBjb25zdCBpdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGl0ZW0uZGF0YXNldC5ibG9ja0l0ZW0gPSAndHJ1ZSc7XG4gICAgICAgIGl0ZW0uZGF0YXNldC5ibG9ja0lkID0gYmxvY2suaWQ7XG4gICAgICAgIGl0ZW0uc2V0QXR0cmlidXRlKCdyb2xlJywgJ29wdGlvbicpO1xuICAgICAgICBpdGVtLnNldEF0dHJpYnV0ZSgnYXJpYS1zZWxlY3RlZCcsIGlzQWN0aXZlID8gJ3RydWUnIDogJ2ZhbHNlJyk7XG4gICAgICAgIGl0ZW0uc2V0QXR0cmlidXRlKCdkcmFnZ2FibGUnLCAndHJ1ZScpO1xuICAgICAgICBpdGVtLnRhYkluZGV4ID0gMDtcbiAgICAgICAgaXRlbS5jbGFzc05hbWUgPSBbXG4gICAgICAgICAgJ3JlbGF0aXZlIGZsZXggaXRlbXMtY2VudGVyIGdhcC0zIHJvdW5kZWQtMnhsIGJvcmRlciBweC0zIHB5LTIgdGV4dC1sZWZ0IHRyYW5zaXRpb24gZ3JvdXAnLFxuICAgICAgICAgIGlzQWN0aXZlXG4gICAgICAgICAgICA/ICdiZy1zbGF0ZS0xMDAgYm9yZGVyLVsjOUM2QkZGXS80MCBzaGFkb3ctc20nXG4gICAgICAgICAgICA6ICdib3JkZXItc2xhdGUtMjAwIGhvdmVyOmJvcmRlci1bIzlDNkJGRl0vNDAnLFxuICAgICAgICBdLmpvaW4oJyAnKTtcbiAgICAgICAgY29uc3QgYWNjZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICBhY2NlbnQuY2xhc3NOYW1lID0gYGFic29sdXRlIGluc2V0LXktMiBsZWZ0LTAgdy0xIHJvdW5kZWQtZnVsbCBiZy1bIzlDNkJGRl0gJHtcbiAgICAgICAgICBpc0FjdGl2ZSA/ICcnIDogJ2hpZGRlbidcbiAgICAgICAgfWA7XG4gICAgICAgIGl0ZW0uYXBwZW5kQ2hpbGQoYWNjZW50KTtcblxuICAgICAgICBjb25zdCBjb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGNvbnRlbnQuY2xhc3NOYW1lID0gJ2ZsZXggZmxleC0xIGl0ZW1zLWNlbnRlciBnYXAtMyc7XG4gICAgICAgIGNvbnN0IGhhbmRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBoYW5kbGUuY2xhc3NOYW1lID1cbiAgICAgICAgICAnaGlkZGVuIGxnOmZsZXggY3Vyc29yLWdyYWIgYWN0aXZlOmN1cnNvci1ncmFiYmluZyBmbGV4LXNocmluay0wIGl0ZW1zLWNlbnRlciB0ZXh0LWxnIHRleHQtc2xhdGUtNDAwIGhvdmVyOnRleHQtc2xhdGUtNjAwIHRyYW5zaXRpb24tY29sb3JzIHNlbGVjdC1ub25lJztcbiAgICAgICAgaGFuZGxlLmlubmVySFRNTCA9ICdcdTIyRUVcdTIyRUUnO1xuICAgICAgICBoYW5kbGUuc2V0QXR0cmlidXRlKCd0aXRsZScsICdHbGlzc2VyIHBvdXIgclx1MDBFOW9yZG9ubmVyJyk7XG4gICAgICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQoaGFuZGxlKTtcblxuICAgICAgICBjb25zdCB0ZXh0V3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0ZXh0V3JhcHBlci5jbGFzc05hbWUgPSAnZmxleC0xJztcbiAgICAgICAgY29uc3QgbWV0YSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBtZXRhLmNsYXNzTmFtZSA9ICdmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiB0ZXh0LVsxMXB4XSB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZSB0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICAgIGNvbnN0IHR5cGVCYWRnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgdHlwZUJhZGdlLmNsYXNzTmFtZSA9XG4gICAgICAgICAgJ3JvdW5kZWQtZnVsbCBiZy1zbGF0ZS0xMDAgcHgtMiBweS0wLjUgdGV4dC1bMTBweF0gZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTYwMCc7XG4gICAgICAgIHR5cGVCYWRnZS50ZXh0Q29udGVudCA9IGJsb2NrLnR5cGU7XG4gICAgICAgIGNvbnN0IHN0YXR1c0JhZGdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICBzdGF0dXNCYWRnZS5jbGFzc05hbWUgPSAndGV4dC1zbGF0ZS00MDAnO1xuICAgICAgICBzdGF0dXNCYWRnZS50ZXh0Q29udGVudCA9IGJsb2NrLnN0YXR1cztcbiAgICAgICAgbWV0YS5hcHBlbmRDaGlsZCh0eXBlQmFkZ2UpO1xuICAgICAgICBtZXRhLmFwcGVuZENoaWxkKHN0YXR1c0JhZGdlKTtcbiAgICAgICAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgICAgIHRpdGxlLmNsYXNzTmFtZSA9ICdtdC0xIHRleHQtc20gZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTkwMCc7XG4gICAgICAgIGNvbnN0IGRpc3BsYXlMYWJlbCA9XG4gICAgICAgICAgKGJsb2NrLnNldHRpbmdzICYmIGJsb2NrLnNldHRpbmdzLnRpdGxlKSB8fCBibG9jay5sYWJlbCB8fCAnQmxvYyBzYW5zIHRpdHJlJztcbiAgICAgICAgdGl0bGUudGV4dENvbnRlbnQgPSBkaXNwbGF5TGFiZWw7XG4gICAgICAgIHRleHRXcmFwcGVyLmFwcGVuZENoaWxkKG1ldGEpO1xuICAgICAgICB0ZXh0V3JhcHBlci5hcHBlbmRDaGlsZCh0aXRsZSk7XG4gICAgICAgIGNvbnN0IGJsb2NrVHlwZSA9IChibG9jay50eXBlIHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBpZiAoYmxvY2tUeXBlID09PSAnY29sbGVjdGlvbmdyaWQnICYmIGJsb2NrLmNvbGxlY3Rpb25JZCkge1xuICAgICAgICAgIGNvbnN0IGNvbGxlY3Rpb25OYW1lID1cbiAgICAgICAgICAgIGRlc2lnbkNvbGxlY3Rpb25zLmZpbmQoKGVudHJ5KSA9PiBlbnRyeS5pZCA9PT0gYmxvY2suY29sbGVjdGlvbklkKT8ubmFtZSB8fFxuICAgICAgICAgICAgYmxvY2suY29sbGVjdGlvbklkO1xuICAgICAgICAgIGNvbnN0IGluZm8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgICAgICAgaW5mby5jbGFzc05hbWUgPSAndGV4dC14cyB0ZXh0LXNsYXRlLTQwMCc7XG4gICAgICAgICAgaW5mby50ZXh0Q29udGVudCA9IGBDb2xsZWN0aW9uIDogJHtjb2xsZWN0aW9uTmFtZX1gO1xuICAgICAgICAgIHRleHRXcmFwcGVyLmFwcGVuZENoaWxkKGluZm8pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQodGV4dFdyYXBwZXIpO1xuICAgICAgICBpdGVtLmFwcGVuZENoaWxkKGNvbnRlbnQpO1xuXG4gICAgICAgIGNvbnN0IGFjdGlvbnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgYWN0aW9ucy5jbGFzc05hbWUgPSAnZmxleCBmbGV4LWNvbCBnYXAtMSB0ZXh0LXhzIHRleHQtc2xhdGUtNDAwJztcblxuICAgICAgICBjb25zdCBtb3ZlQnV0dG9ucyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBtb3ZlQnV0dG9ucy5jbGFzc05hbWUgPSAnZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEgbGc6aGlkZGVuJztcbiAgICAgICAgY29uc3QgbW92ZVVwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIG1vdmVVcC50eXBlID0gJ2J1dHRvbic7XG4gICAgICAgIG1vdmVVcC5jbGFzc05hbWUgPVxuICAgICAgICAgICdyb3VuZGVkLWxnIGJvcmRlciBib3JkZXItc2xhdGUtMjAwIHB4LTIgcHktMSB0ZXh0LVsxMXB4XSBmb250LXNlbWlib2xkIHRleHQtc2xhdGUtNTAwJztcbiAgICAgICAgbW92ZVVwLnRleHRDb250ZW50ID0gJ1x1MjE5MSc7XG4gICAgICAgIG1vdmVVcC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgIG1vdmVCbG9ja0J5T2Zmc2V0KGJsb2NrLmlkLCAtMSk7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBtb3ZlRG93biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICBtb3ZlRG93bi50eXBlID0gJ2J1dHRvbic7XG4gICAgICAgIG1vdmVEb3duLmNsYXNzTmFtZSA9XG4gICAgICAgICAgJ3JvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1zbGF0ZS0yMDAgcHgtMiBweS0xIHRleHQtWzExcHhdIGZvbnQtc2VtaWJvbGQgdGV4dC1zbGF0ZS01MDAnO1xuICAgICAgICBtb3ZlRG93bi50ZXh0Q29udGVudCA9ICdcdTIxOTMnO1xuICAgICAgICBtb3ZlRG93bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgIG1vdmVCbG9ja0J5T2Zmc2V0KGJsb2NrLmlkLCAxKTtcbiAgICAgICAgfSk7XG4gICAgICAgIG1vdmVCdXR0b25zLmFwcGVuZENoaWxkKG1vdmVVcCk7XG4gICAgICAgIG1vdmVCdXR0b25zLmFwcGVuZENoaWxkKG1vdmVEb3duKTtcbiAgICAgICAgYWN0aW9ucy5hcHBlbmRDaGlsZChtb3ZlQnV0dG9ucyk7XG5cbiAgICAgICAgY29uc3QgZGVsZXRlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIGRlbGV0ZUJ1dHRvbi50eXBlID0gJ2J1dHRvbic7XG4gICAgICAgIGRlbGV0ZUJ1dHRvbi5jbGFzc05hbWUgPVxuICAgICAgICAgICdpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLXRyYW5zcGFyZW50IHB4LTIgcHktMSB0ZXh0LVsxMnB4XSB0ZXh0LXJvc2UtNTAwIGhvdmVyOnRleHQtcm9zZS03MDAnO1xuICAgICAgICBkZWxldGVCdXR0b24uaW5uZXJIVE1MID0gJ1x1RDgzRFx1REREMVx1RkUwRic7XG4gICAgICAgIGRlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgIG9wZW5CbG9ja0RlbGV0ZU1vZGFsKGJsb2NrLmlkKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgYWN0aW9ucy5hcHBlbmRDaGlsZChkZWxldGVCdXR0b24pO1xuICAgICAgICBpdGVtLmFwcGVuZENoaWxkKGFjdGlvbnMpO1xuXG4gICAgICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgc2V0QWN0aXZlQmxvY2soYmxvY2suaWQpO1xuICAgICAgICB9KTtcbiAgICAgICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VudGVyJyB8fCBldmVudC5rZXkgPT09ICcgJykge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHNldEFjdGl2ZUJsb2NrKGJsb2NrLmlkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBibG9ja0xpc3QuYXBwZW5kQ2hpbGQoaXRlbSk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgLy8gPT09IERlbGV0ZSBwYWdlIGhhbmRsZXJzIChkZWZpbmVkIGJlZm9yZSByZW5kZXJQYWdlTGlzdHMpID09PVxuICAgIGNvbnN0IG9wZW5EZWxldGVQYWdlTW9kYWwgPSAocGFnZSkgPT4ge1xuICAgICAgaWYgKCFkZWxldGVQYWdlTW9kYWwgfHwgIXBhZ2UpIHJldHVybjtcbiAgICAgIHBhZ2VUb0RlbGV0ZSA9IHBhZ2U7XG4gICAgICBpZiAoZGVsZXRlUGFnZU5hbWUpIGRlbGV0ZVBhZ2VOYW1lLnRleHRDb250ZW50ID0gcGFnZS50aXRsZSB8fCBwYWdlLmlkO1xuICAgICAgZGVsZXRlUGFnZU1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgZGVsZXRlUGFnZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2ZsZXgnKTtcbiAgICB9O1xuICAgIGNvbnN0IGNsb3NlRGVsZXRlUGFnZU1vZGFsID0gKCkgPT4ge1xuICAgICAgaWYgKCFkZWxldGVQYWdlTW9kYWwpIHJldHVybjtcbiAgICAgIGRlbGV0ZVBhZ2VNb2RhbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGRlbGV0ZVBhZ2VNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdmbGV4Jyk7XG4gICAgICBwYWdlVG9EZWxldGUgPSBudWxsO1xuICAgIH07XG4gICAgY29uc3QgZXhlY3V0ZURlbGV0ZVBhZ2UgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXBhZ2VzQXBpQmFzZSB8fCAhcGFnZVRvRGVsZXRlKSByZXR1cm47XG4gICAgICBjb25zdCBwYWdlSWQgPSBwYWdlVG9EZWxldGUuaWQ7XG4gICAgICBjb25zdCBwYWdlVGl0bGUgPSBwYWdlVG9EZWxldGUudGl0bGUgfHwgcGFnZUlkO1xuICAgICAgaWYgKGRlbGV0ZVBhZ2VDb25maXJtKSB7XG4gICAgICAgIGRlbGV0ZVBhZ2VDb25maXJtLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgZGVsZXRlUGFnZUNvbmZpcm0udGV4dENvbnRlbnQgPSAnU3VwcHJlc3Npb24uLi4nO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtwYWdlc0FwaUJhc2V9LyR7ZW5jb2RlVVJJQ29tcG9uZW50KHBhZ2VJZCl9YCwge1xuICAgICAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICAgICAgY3JlZGVudGlhbHM6ICdpbmNsdWRlJyxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQubWVzc2FnZSB8fCAnRXJyZXVyIHNlcnZldXInKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTdXBwcmltZXIgZGUgbGEgbGlzdGUgbG9jYWxlXG4gICAgICAgIHBhZ2VzID0gcGFnZXMuZmlsdGVyKChwKSA9PiBwLmlkICE9PSBwYWdlSWQpO1xuICAgICAgICAvLyBTaSBsYSBwYWdlIHN1cHByaW1cdTAwRTllIFx1MDBFOXRhaXQgYWN0aXZlLCBzXHUwMEU5bGVjdGlvbm5lciBsYSBwcmVtaVx1MDBFOHJlXG4gICAgICAgIGlmIChhY3RpdmVQYWdlSWQgPT09IHBhZ2VJZCkge1xuICAgICAgICAgIGlmIChwYWdlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBzZXRBY3RpdmVQYWdlKHBhZ2VzWzBdLmlkKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYWN0aXZlUGFnZUlkID0gbnVsbDtcbiAgICAgICAgICAgIGN1cnJlbnRQYWdlID0gbnVsbDtcbiAgICAgICAgICAgIHJlbmRlclBhZ2VMaXN0cyhwYWdlcywgbnVsbCk7XG4gICAgICAgICAgICByZW5kZXJCbG9ja0xpc3QobnVsbCk7XG4gICAgICAgICAgICBibG9ja0RldGFpbEVtcHR5Py5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIGJsb2NrRWRpdG9yPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIHByZXZpZXdGcmFtZSAmJiAocHJldmlld0ZyYW1lLnNyY2RvYyA9IGdldExvYWRpbmdQcmV2aWV3SHRtbCgpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVuZGVyUGFnZUxpc3RzKHBhZ2VzLCBhY3RpdmVQYWdlSWQpO1xuICAgICAgICB9XG4gICAgICAgIGNsb3NlRGVsZXRlUGFnZU1vZGFsKCk7XG4gICAgICAgIHNob3dUb2FzdChgUGFnZSBcIiR7cGFnZVRpdGxlfVwiIHN1cHByaW1cdTAwRTllYCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW3BhZ2VzXSBkZWxldGUgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdFcnJldXIgc3VwcHJlc3Npb24nKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmIChkZWxldGVQYWdlQ29uZmlybSkge1xuICAgICAgICAgIGRlbGV0ZVBhZ2VDb25maXJtLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgZGVsZXRlUGFnZUNvbmZpcm0udGV4dENvbnRlbnQgPSAnU3VwcHJpbWVyJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCByZW5kZXJQYWdlTGlzdHMgPSAocGFnZXMsIGFjdGl2ZUlkKSA9PiB7XG4gICAgICBwYWdlTGlzdHMuZm9yRWFjaCgobGlzdCkgPT4ge1xuICAgICAgICBsaXN0LmlubmVySFRNTCA9ICcnO1xuICAgICAgICBwYWdlcy5mb3JFYWNoKChwYWdlKSA9PiB7XG4gICAgICAgICAgY29uc3QgaXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICAgICAgaXRlbS5jbGFzc05hbWUgPSAnZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEnO1xuICAgICAgICAgIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICAgIGJ1dHRvbi50eXBlID0gJ2J1dHRvbic7XG4gICAgICAgICAgYnV0dG9uLmRhdGFzZXQucGFnZUlkID0gcGFnZS5pZDtcbiAgICAgICAgICBidXR0b24uY2xhc3NOYW1lID0gW1xuICAgICAgICAgICAgJ2ZsZXgtMSBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMyBweC0zIHB5LTIgdGV4dC1sZWZ0IHRyYW5zaXRpb24nLFxuICAgICAgICAgICAgYWN0aXZlSWQgPT09IHBhZ2UuaWRcbiAgICAgICAgICAgICAgPyAnYmctWyM5QzZCRkZdLzEwIHRleHQtc2xhdGUtOTAwIGJvcmRlciBib3JkZXItWyM5QzZCRkZdLzQwIHJvdW5kZWQteGwgc2hhZG93LXNtJ1xuICAgICAgICAgICAgICA6ICd0ZXh0LXNsYXRlLTcwMCBob3ZlcjpiZy1zbGF0ZS01MCByb3VuZGVkLXhsJyxcbiAgICAgICAgICBdLmpvaW4oJyAnKTtcbiAgICAgICAgICBpZiAoYWN0aXZlSWQgPT09IHBhZ2UuaWQpIHtcbiAgICAgICAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtY3VycmVudCcsICdwYWdlJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJ1dHRvbi5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtY3VycmVudCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBidXR0b24uaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJmbGV4IGgtOSB3LTkgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHJvdW5kZWQteGwgYm9yZGVyIGJvcmRlci1zbGF0ZS0yMDAgYmctd2hpdGUgdGV4dC1zbGF0ZS01MDBcIj5cbiAgICAgICAgICAgICAgPHN2ZyB3aWR0aD1cIjE4XCIgaGVpZ2h0PVwiMThcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBhcmlhLWhpZGRlbj1cInRydWVcIj5cbiAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTYuNSA0LjVoN2w0IDR2MTFhMSAxIDAgMCAxLTEgMWgtMTBhMSAxIDAgMCAxLTEtMXYtMTRhMSAxIDAgMCAxIDEtMVpcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIxLjRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiLz5cbiAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTEzLjUgNC41djRhMSAxIDAgMCAwIDEgMWgzXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMS40XCIvPlxuICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC1zbSBmb250LXNlbWlib2xkXCI+JHtwYWdlLnRpdGxlfTwvc3Bhbj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNTAwXCI+JHtwYWdlLnNsdWd9PC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgYDtcbiAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICBzZXRBY3RpdmVQYWdlKHBhZ2UuaWQpO1xuICAgICAgICAgICAgaWYgKCFpc0Rlc2t0b3BEcmF3ZXIoKSkge1xuICAgICAgICAgICAgICBjbG9zZURyYXdlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGl0ZW0uYXBwZW5kQ2hpbGQoYnV0dG9uKTtcbiAgICAgICAgICAvLyBCb3V0b24gZGUgc3VwcHJlc3Npb25cbiAgICAgICAgICBjb25zdCBkZWxldGVCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgICBkZWxldGVCdG4udHlwZSA9ICdidXR0b24nO1xuICAgICAgICAgIGRlbGV0ZUJ0bi5jbGFzc05hbWUgPSAnZmxleC1zaHJpbmstMCBwLTIgdGV4dC1zbGF0ZS00MDAgaG92ZXI6dGV4dC1yb3NlLTYwMCBob3ZlcjpiZy1yb3NlLTUwIHJvdW5kZWQtbGcgdHJhbnNpdGlvbic7XG4gICAgICAgICAgZGVsZXRlQnRuLnRpdGxlID0gJ1N1cHByaW1lciBjZXR0ZSBwYWdlJztcbiAgICAgICAgICBkZWxldGVCdG4uc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgYFN1cHByaW1lciAke3BhZ2UudGl0bGV9YCk7XG4gICAgICAgICAgZGVsZXRlQnRuLmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgIDxzdmcgd2lkdGg9XCIxNlwiIGhlaWdodD1cIjE2XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiPlxuICAgICAgICAgICAgICA8cGF0aCBkPVwiTTMgNmgxOE04IDZWNGEyIDIgMCAwIDEgMi0yaDRhMiAyIDAgMCAxIDIgMnYybTMgMHYxNGEyIDIgMCAwIDEtMiAySDdhMiAyIDAgMCAxLTItMlY2aDE0Wk0xMCAxMXY2TTE0IDExdjZcIi8+XG4gICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICBgO1xuICAgICAgICAgIGRlbGV0ZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgb3BlbkRlbGV0ZVBhZ2VNb2RhbChwYWdlKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpdGVtLmFwcGVuZENoaWxkKGRlbGV0ZUJ0bik7XG4gICAgICAgICAgbGlzdC5hcHBlbmRDaGlsZChpdGVtKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IGdldEFjdGl2ZUJsb2NrID0gKCkgPT4ge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSB8fCAhQXJyYXkuaXNBcnJheShjdXJyZW50UGFnZS5ibG9ja3MpKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGN1cnJlbnRQYWdlLmJsb2Nrcy5maW5kKChibG9jaykgPT4gYmxvY2suaWQgPT09IGFjdGl2ZUJsb2NrSWQpIHx8IG51bGw7XG4gICAgfTtcbiAgICBjb25zdCBzZXRBY3RpdmVCbG9jayA9IChibG9ja0lkKSA9PiB7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghYmxvY2tJZCkge1xuICAgICAgICBhY3RpdmVCbG9ja0lkID0gbnVsbDtcbiAgICAgICAgcmVuZGVyQmxvY2tMaXN0KGN1cnJlbnRQYWdlKTtcbiAgICAgICAgcmVuZGVyQmxvY2tEZXRhaWxzKG51bGwpO1xuICAgICAgICBhcHBseVByZXZpZXdIaWdobGlnaHQobnVsbCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHRhcmdldEJsb2NrID1cbiAgICAgICAgY3VycmVudFBhZ2UuYmxvY2tzLmZpbmQoKGJsb2NrKSA9PiBibG9jay5pZCA9PT0gYmxvY2tJZCkgfHwgY3VycmVudFBhZ2UuYmxvY2tzWzBdIHx8IG51bGw7XG4gICAgICBhY3RpdmVCbG9ja0lkID0gdGFyZ2V0QmxvY2s/LmlkIHx8IG51bGw7XG4gICAgICByZW5kZXJCbG9ja0xpc3QoY3VycmVudFBhZ2UpO1xuICAgICAgcmVuZGVyQmxvY2tEZXRhaWxzKHRhcmdldEJsb2NrKTtcbiAgICAgIGFwcGx5UHJldmlld0hpZ2hsaWdodChhY3RpdmVCbG9ja0lkKTtcbiAgICB9O1xuICAgIGNvbnN0IHVwZGF0ZUN1cnJlbnRQYWdlQmxvY2tzID0gKG5ld0Jsb2NrcykgPT4ge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBuZXh0UGFnZSA9IHsgLi4uY3VycmVudFBhZ2UsIGJsb2NrczogbmV3QmxvY2tzIH07XG4gICAgICB1cGRhdGVDdXJyZW50UGFnZVN0YXRlKG5leHRQYWdlKTtcbiAgICB9O1xuICAgIGNvbnN0IGlzRGVza3RvcFJlb3JkZXIgPSAoKSA9PiB3aW5kb3cubWF0Y2hNZWRpYSgnKG1pbi13aWR0aDogMTAyNHB4KScpLm1hdGNoZXM7XG4gICAgZnVuY3Rpb24gbW92ZUJsb2NrQnlPZmZzZXQoYmxvY2tJZCwgb2Zmc2V0KSB7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlIHx8ICFibG9ja0lkIHx8ICFvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgYmxvY2tzID0gWy4uLihjdXJyZW50UGFnZS5ibG9ja3MgfHwgW10pXTtcbiAgICAgIGNvbnN0IGluZGV4ID0gYmxvY2tzLmZpbmRJbmRleCgoYmxvY2spID0+IGJsb2NrLmlkID09PSBibG9ja0lkKTtcbiAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgbmV3SW5kZXggPSBpbmRleCArIG9mZnNldDtcbiAgICAgIGlmIChuZXdJbmRleCA8IDAgfHwgbmV3SW5kZXggPj0gYmxvY2tzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBbbW92ZWRdID0gYmxvY2tzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICBibG9ja3Muc3BsaWNlKG5ld0luZGV4LCAwLCBtb3ZlZCk7XG4gICAgICB1cGRhdGVDdXJyZW50UGFnZUJsb2NrcyhibG9ja3MpO1xuICAgICAgc2V0QWN0aXZlUGFnZShjdXJyZW50UGFnZS5pZCwgeyBwcmVzZXJ2ZUJsb2NrOiB0cnVlIH0pO1xuICAgICAgc2V0QWN0aXZlQmxvY2sobW92ZWQuaWQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZW9yZGVyQmxvY2tzKHNvdXJjZUlkLCB0YXJnZXRJZCkge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSB8fCAhc291cmNlSWQgfHwgIXRhcmdldElkIHx8IHNvdXJjZUlkID09PSB0YXJnZXRJZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBibG9ja3MgPSBbLi4uKGN1cnJlbnRQYWdlLmJsb2NrcyB8fCBbXSldO1xuICAgICAgY29uc3QgZnJvbUluZGV4ID0gYmxvY2tzLmZpbmRJbmRleCgoYmxvY2spID0+IGJsb2NrLmlkID09PSBzb3VyY2VJZCk7XG4gICAgICBjb25zdCB0b0luZGV4ID0gYmxvY2tzLmZpbmRJbmRleCgoYmxvY2spID0+IGJsb2NrLmlkID09PSB0YXJnZXRJZCk7XG4gICAgICBpZiAoZnJvbUluZGV4IDwgMCB8fCB0b0luZGV4IDwgMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBbbW92ZWRdID0gYmxvY2tzLnNwbGljZShmcm9tSW5kZXgsIDEpO1xuICAgICAgYmxvY2tzLnNwbGljZSh0b0luZGV4LCAwLCBtb3ZlZCk7XG4gICAgICB1cGRhdGVDdXJyZW50UGFnZUJsb2NrcyhibG9ja3MpO1xuICAgICAgc2V0QWN0aXZlUGFnZShjdXJyZW50UGFnZS5pZCwgeyBwcmVzZXJ2ZUJsb2NrOiB0cnVlIH0pO1xuICAgICAgc2V0QWN0aXZlQmxvY2sobW92ZWQuaWQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZW9yZGVyQmxvY2tzV2l0aFBvc2l0aW9uKHNvdXJjZUlkLCB0YXJnZXRJZCwgcG9zaXRpb24pIHtcbiAgICAgIGlmICghY3VycmVudFBhZ2UgfHwgIXNvdXJjZUlkIHx8ICF0YXJnZXRJZCB8fCBzb3VyY2VJZCA9PT0gdGFyZ2V0SWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgYmxvY2tzID0gWy4uLihjdXJyZW50UGFnZS5ibG9ja3MgfHwgW10pXTtcbiAgICAgIGNvbnN0IGZyb21JbmRleCA9IGJsb2Nrcy5maW5kSW5kZXgoKGJsb2NrKSA9PiBibG9jay5pZCA9PT0gc291cmNlSWQpO1xuICAgICAgbGV0IHRvSW5kZXggPSBibG9ja3MuZmluZEluZGV4KChibG9jaykgPT4gYmxvY2suaWQgPT09IHRhcmdldElkKTtcbiAgICAgIGlmIChmcm9tSW5kZXggPCAwIHx8IHRvSW5kZXggPCAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IFttb3ZlZF0gPSBibG9ja3Muc3BsaWNlKGZyb21JbmRleCwgMSk7XG4gICAgICAvLyBBanVzdGVyIGwnaW5kZXggc2kgblx1MDBFOWNlc3NhaXJlIGFwclx1MDBFOHMgbGEgc3VwcHJlc3Npb25cbiAgICAgIGlmIChmcm9tSW5kZXggPCB0b0luZGV4KSB7XG4gICAgICAgIHRvSW5kZXgtLTtcbiAgICAgIH1cbiAgICAgIC8vIEluc1x1MDBFOXJlciBhdmFudCBvdSBhcHJcdTAwRThzIGxhIGNpYmxlXG4gICAgICBjb25zdCBpbnNlcnRJbmRleCA9IHBvc2l0aW9uID09PSAnYmVmb3JlJyA/IHRvSW5kZXggOiB0b0luZGV4ICsgMTtcbiAgICAgIGJsb2Nrcy5zcGxpY2UoaW5zZXJ0SW5kZXgsIDAsIG1vdmVkKTtcbiAgICAgIHVwZGF0ZUN1cnJlbnRQYWdlQmxvY2tzKGJsb2Nrcyk7XG4gICAgICBzZXRBY3RpdmVQYWdlKGN1cnJlbnRQYWdlLmlkLCB7IHByZXNlcnZlQmxvY2s6IHRydWUgfSk7XG4gICAgICBzZXRBY3RpdmVCbG9jayhtb3ZlZC5pZCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZURyYWdnYWJsZVN0YXRlKCkge1xuICAgICAgaWYgKCFibG9ja0xpc3QpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgZHJhZ2dhYmxlID0gaXNEZXNrdG9wUmVvcmRlcigpO1xuICAgICAgYmxvY2tMaXN0LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWJsb2NrLWl0ZW1dJykuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICBpdGVtLnNldEF0dHJpYnV0ZSgnZHJhZ2dhYmxlJywgZHJhZ2dhYmxlID8gJ3RydWUnIDogJ2ZhbHNlJyk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2xvc2VCbG9ja0xpYnJhcnkoKSB7XG4gICAgICBpZiAoIWJsb2NrTGlicmFyeSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBibG9ja0xpYnJhcnkuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBibG9ja0xpYnJhcnlPcGVuID0gZmFsc2U7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG9wZW5CbG9ja0xpYnJhcnkoKSB7XG4gICAgICBpZiAoIWJsb2NrTGlicmFyeSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBibG9ja0xpYnJhcnkuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBibG9ja0xpYnJhcnlPcGVuID0gdHJ1ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdG9nZ2xlQmxvY2tMaWJyYXJ5KCkge1xuICAgICAgYmxvY2tMaWJyYXJ5T3BlbiA/IGNsb3NlQmxvY2tMaWJyYXJ5KCkgOiBvcGVuQmxvY2tMaWJyYXJ5KCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFkZEJsb2NrRnJvbUxpYnJhcnkodHlwZSkge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSB8fCAhdHlwZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBkZWZpbml0aW9uID0gYmxvY2tMaWJyYXJ5RGVmaW5pdGlvbnNbdHlwZV07XG4gICAgICBpZiAoIWRlZmluaXRpb24pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgY291bnQgPVxuICAgICAgICAoY3VycmVudFBhZ2UuYmxvY2tzIHx8IFtdKS5maWx0ZXIoKGJsb2NrKSA9PiBibG9jay50eXBlID09PSBkZWZpbml0aW9uLnR5cGUpLmxlbmd0aCArIDE7XG4gICAgICBjb25zdCBuZXdCbG9jayA9IGNyZWF0ZUJsb2NrKFxuICAgICAgICBnZW5lcmF0ZUJsb2NrSWQoY3VycmVudFBhZ2UuaWQsIHR5cGUpLFxuICAgICAgICBgJHtkZWZpbml0aW9uLmxhYmVsfSAke2NvdW50fWAsXG4gICAgICAgIGRlZmluaXRpb24udHlwZSxcbiAgICAgICAgZGVmaW5pdGlvbi5zdGF0dXMsXG4gICAgICAgIGRlZmluaXRpb24uZGVzY3JpcHRpb24sXG4gICAgICAgIGRlZmluaXRpb24ucHJvcHMsXG4gICAgICAgIGRlZmluaXRpb24uc2V0dGluZ3MgfHwge30sXG4gICAgICApO1xuICAgICAgaWYgKChkZWZpbml0aW9uLnR5cGUgfHwgJycpLnRvTG93ZXJDYXNlKCkgPT09ICdjb2xsZWN0aW9uZ3JpZCcpIHtcbiAgICAgICAgY29uc3QgZmlyc3RDb2xsZWN0aW9uSWQgPSBkZXNpZ25Db2xsZWN0aW9uc1swXT8uaWQgfHwgJyc7XG4gICAgICAgIG5ld0Jsb2NrLmNvbGxlY3Rpb25JZCA9IGZpcnN0Q29sbGVjdGlvbklkO1xuICAgICAgICBuZXdCbG9jay5zZXR0aW5ncy5jb2xsZWN0aW9uSWQgPSBmaXJzdENvbGxlY3Rpb25JZDtcbiAgICAgICAgbmV3QmxvY2suc2V0dGluZ3MubGltaXQgPSBuZXdCbG9jay5zZXR0aW5ncy5saW1pdCB8fCA2O1xuICAgICAgfVxuICAgICAgY29uc3QgbmV4dEJsb2NrcyA9IFsuLi4oY3VycmVudFBhZ2UuYmxvY2tzIHx8IFtdKSwgbmV3QmxvY2tdO1xuICAgICAgdXBkYXRlQ3VycmVudFBhZ2VCbG9ja3MobmV4dEJsb2Nrcyk7XG4gICAgICBzZXRBY3RpdmVQYWdlKGN1cnJlbnRQYWdlLmlkLCB7IHByZXNlcnZlQmxvY2s6IHRydWUgfSk7XG4gICAgICBzZXRBY3RpdmVCbG9jayhuZXdCbG9jay5pZCk7XG4gICAgICBjbG9zZUJsb2NrTGlicmFyeSgpO1xuICAgICAgc2hvd1RvYXN0KCdCbG9jIGFqb3V0XHUwMEU5Jyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlbGV0ZUJsb2NrQnlJZChibG9ja0lkKSB7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGJsb2NrcyA9IChjdXJyZW50UGFnZS5ibG9ja3MgfHwgW10pLmZpbHRlcigoYmxvY2spID0+IGJsb2NrLmlkICE9PSBibG9ja0lkKTtcbiAgICAgIGNvbnN0IG5leHRBY3RpdmUgPVxuICAgICAgICBibG9ja0lkID09PSBhY3RpdmVCbG9ja0lkID8gYmxvY2tzWzBdPy5pZCB8fCBudWxsIDogYWN0aXZlQmxvY2tJZCB8fCBibG9ja3NbMF0/LmlkIHx8IG51bGw7XG4gICAgICB1cGRhdGVDdXJyZW50UGFnZUJsb2NrcyhibG9ja3MpO1xuICAgICAgYWN0aXZlQmxvY2tJZCA9IG5leHRBY3RpdmU7XG4gICAgICBzZXRBY3RpdmVQYWdlKGN1cnJlbnRQYWdlLmlkLCB7IHByZXNlcnZlQmxvY2s6IHRydWUgfSk7XG4gICAgICBpZiAoYWN0aXZlQmxvY2tJZCkge1xuICAgICAgICBzZXRBY3RpdmVCbG9jayhhY3RpdmVCbG9ja0lkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlbmRlckJsb2NrRGV0YWlscyhudWxsKTtcbiAgICAgICAgYXBwbHlQcmV2aWV3SGlnaGxpZ2h0KG51bGwpO1xuICAgICAgfVxuICAgICAgc2hvd1RvYXN0KCdCbG9jIHN1cHByaW1cdTAwRTknKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2xvc2VCbG9ja0RlbGV0ZU1vZGFsKCkge1xuICAgICAgaWYgKCFibG9ja0RlbGV0ZU1vZGFsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGJsb2NrRGVsZXRlTW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBibG9ja0RlbGV0ZU1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2ZsZXgnKTtcbiAgICAgIHBlbmRpbmdEZWxldGVCbG9ja0lkID0gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gb3BlbkJsb2NrRGVsZXRlTW9kYWwoYmxvY2tJZCkge1xuICAgICAgaWYgKCFibG9ja0RlbGV0ZU1vZGFsKSB7XG4gICAgICAgIGRlbGV0ZUJsb2NrQnlJZChibG9ja0lkKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcGVuZGluZ0RlbGV0ZUJsb2NrSWQgPSBibG9ja0lkO1xuICAgICAgYmxvY2tEZWxldGVNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGJsb2NrRGVsZXRlTW9kYWwuY2xhc3NMaXN0LmFkZCgnZmxleCcpO1xuICAgIH1cbiAgICBjb25zdCB1cGRhdGVDdXJyZW50UGFnZVN0YXRlID0gKG5leHRQYWdlKSA9PiB7XG4gICAgICBpZiAoIW5leHRQYWdlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBub3JtYWxpemVQYWdlRGF0YShuZXh0UGFnZSk7XG4gICAgICBwYWdlcyA9IHBhZ2VzLm1hcCgocGFnZSkgPT4gKHBhZ2UuaWQgPT09IG5vcm1hbGl6ZWQuaWQgPyBub3JtYWxpemVkIDogcGFnZSkpO1xuICAgICAgY3VycmVudFBhZ2UgPSBub3JtYWxpemVkO1xuICAgICAgc2F2ZVBhZ2VUb1NlcnZlcihub3JtYWxpemVkKTtcbiAgICB9O1xuICAgIGNvbnN0IHNldEFjdGl2ZVBhZ2UgPSAocGFnZUlkLCBvcHRpb25zID0ge30pID0+IHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IHBhZ2VzLmZpbmQoKHBhZ2UpID0+IHBhZ2UuaWQgPT09IHBhZ2VJZCkgfHwgcGFnZXNbMF0gfHwgbnVsbDtcbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWRUYXJnZXQgPSB0YXJnZXQgPyBub3JtYWxpemVQYWdlRGF0YSh0YXJnZXQpIDogbnVsbDtcbiAgICAgIGN1cnJlbnRQYWdlID0gbm9ybWFsaXplZFRhcmdldDtcbiAgICAgIGFjdGl2ZVBhZ2VJZCA9IHRhcmdldD8uaWQgfHwgbnVsbDtcbiAgICAgIGlmICghb3B0aW9ucy5wcmVzZXJ2ZUJsb2NrIHx8ICFjdXJyZW50UGFnZSB8fCAhY3VycmVudFBhZ2UuYmxvY2tzLnNvbWUoKGJsb2NrKSA9PiBibG9jay5pZCA9PT0gYWN0aXZlQmxvY2tJZCkpIHtcbiAgICAgICAgYWN0aXZlQmxvY2tJZCA9IGN1cnJlbnRQYWdlPy5ibG9ja3M/LlswXT8uaWQgfHwgbnVsbDtcbiAgICAgIH1cbiAgICAgIGlmIChhY3RpdmVQYWdlSWQpIHtcbiAgICAgICAgcGVyc2lzdEFjdGl2ZVBhZ2UoYWN0aXZlUGFnZUlkKTtcbiAgICAgIH1cbiAgICAgIHJlbmRlclBhZ2VMaXN0cyhwYWdlcywgYWN0aXZlUGFnZUlkKTtcbiAgICAgIHNldEFjdGl2ZUxhYmVscyhjdXJyZW50UGFnZSk7XG4gICAgICByZW5kZXJQcmV2aWV3TWV0YShjdXJyZW50UGFnZSk7XG4gICAgICByZWZyZXNoUHJldmlldyhjdXJyZW50UGFnZSk7XG4gICAgICByZW5kZXJCbG9ja0xpc3QoY3VycmVudFBhZ2UpO1xuICAgICAgcmVuZGVyQmxvY2tEZXRhaWxzKGdldEFjdGl2ZUJsb2NrKCkpO1xuICAgICAgYXBwbHlQcmV2aWV3SGlnaGxpZ2h0KGFjdGl2ZUJsb2NrSWQpO1xuICAgICAgdXBkYXRlRHJhZ2dhYmxlU3RhdGUoKTtcbiAgICAgIGlmIChibG9ja0xpYnJhcnlPcGVuKSB7XG4gICAgICAgIGNsb3NlQmxvY2tMaWJyYXJ5KCk7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBpc0Rlc2t0b3BEcmF3ZXIgPSAoKSA9PiB3aW5kb3cubWF0Y2hNZWRpYSgnKG1pbi13aWR0aDogMTAyNHB4KScpLm1hdGNoZXM7XG4gICAgY29uc3Qgc3luY0RyYXdlclN0YXRlID0gKCkgPT4ge1xuICAgICAgaWYgKCFkcmF3ZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGlzRGVza3RvcERyYXdlcigpKSB7XG4gICAgICAgIGRyYXdlci5jbGFzc0xpc3QuYWRkKCdpcy1vcGVuJyk7XG4gICAgICAgIGRyYXdlckJhY2tkcm9wPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRyYXdlci5jbGFzc0xpc3QucmVtb3ZlKCdpcy1vcGVuJyk7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBvcGVuRHJhd2VyID0gKCkgPT4ge1xuICAgICAgaWYgKCFkcmF3ZXIgfHwgaXNEZXNrdG9wRHJhd2VyKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZHJhd2VyLmNsYXNzTGlzdC5hZGQoJ2lzLW9wZW4nKTtcbiAgICAgIGRyYXdlckJhY2tkcm9wPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnb3ZlcmZsb3ctaGlkZGVuJyk7XG4gICAgfTtcbiAgICBjb25zdCBjbG9zZURyYXdlciA9ICgpID0+IHtcbiAgICAgIGlmICghZHJhd2VyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGRyYXdlci5jbGFzc0xpc3QucmVtb3ZlKCdpcy1vcGVuJyk7XG4gICAgICBkcmF3ZXJCYWNrZHJvcD8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ292ZXJmbG93LWhpZGRlbicpO1xuICAgIH07XG4gICAgY29uc3Qgb3BlbkFkZFBhZ2VGb3JtID0gKCkgPT4ge1xuICAgICAgaWYgKCFhZGRQYWdlRm9ybSB8fCAhYWRkUGFnZVRvZ2dsZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhZGRQYWdlRm9ybS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGFkZFBhZ2VUb2dnbGUuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBhZGRQYWdlRXJyb3IgJiYgKGFkZFBhZ2VFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICAgIHBhZ2VTbHVnTWFudWFsbHlFZGl0ZWQgPSBmYWxzZTtcbiAgICAgIGlmIChhZGRQYWdlVGl0bGUpIHtcbiAgICAgICAgYWRkUGFnZVRpdGxlLnZhbHVlID0gJyc7XG4gICAgICAgIGFkZFBhZ2VUaXRsZS5mb2N1cygpO1xuICAgICAgfVxuICAgICAgaWYgKGFkZFBhZ2VTbHVnKSB7XG4gICAgICAgIGFkZFBhZ2VTbHVnLnZhbHVlID0gJyc7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBjbG9zZUFkZFBhZ2VGb3JtID0gKCkgPT4ge1xuICAgICAgaWYgKCFhZGRQYWdlRm9ybSB8fCAhYWRkUGFnZVRvZ2dsZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhZGRQYWdlRm9ybS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGFkZFBhZ2VUb2dnbGUuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBhZGRQYWdlRXJyb3IgJiYgKGFkZFBhZ2VFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICAgIHBhZ2VTbHVnTWFudWFsbHlFZGl0ZWQgPSBmYWxzZTtcbiAgICAgIGFkZFBhZ2VGb3JtLnJlc2V0KCk7XG4gICAgfTtcbiAgICBjb25zdCBzeW5jU2x1Z0Zyb21UaXRsZSA9ICgpID0+IHtcbiAgICAgIGlmICghYWRkUGFnZVRpdGxlIHx8ICFhZGRQYWdlU2x1Zykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAocGFnZVNsdWdNYW51YWxseUVkaXRlZCAmJiBhZGRQYWdlU2x1Zy52YWx1ZS50cmltKCkubGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhZGRQYWdlU2x1Zy52YWx1ZSA9IG5vcm1hbGl6ZVBhZ2VTbHVnKGFkZFBhZ2VUaXRsZS52YWx1ZSk7XG4gICAgfTtcblxuICAgIGxldCBwYWdlcyA9IFtdO1xuICAgIGxldCBhY3RpdmVQYWdlSWQgPSBudWxsO1xuICAgIGxldCBwYWdlU2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gICAgbGV0IGN1cnJlbnRQYWdlID0gbnVsbDtcbiAgICBsZXQgYWN0aXZlQmxvY2tJZCA9IG51bGw7XG4gICAgbGV0IGJsb2NrTGlicmFyeU9wZW4gPSBmYWxzZTtcbiAgICBsZXQgcGVuZGluZ0RlbGV0ZUJsb2NrSWQgPSBudWxsO1xuICAgIGxldCBsYXRlc3RQcmV2aWV3SHRtbCA9ICcnO1xuICAgIGxldCBwcmV2aWV3UmVhZHkgPSBmYWxzZTtcbiAgICBsZXQgcHJldmlld1JlcXVlc3RDb250cm9sbGVyID0gbnVsbDtcbiAgICBsZXQgZGVzaWduQ29sbGVjdGlvbnMgPSBbXTtcblxuICAgIGNvbnN0IG5vcm1hbGl6ZUJsb2NrRGF0YSA9IChibG9jaykgPT4ge1xuICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IHtcbiAgICAgICAgLi4uYmxvY2ssXG4gICAgICAgIHByb3BzOiBBcnJheS5pc0FycmF5KGJsb2NrLnByb3BzKSA/IGJsb2NrLnByb3BzIDogW10sXG4gICAgICAgIHNldHRpbmdzOiB7IC4uLihibG9jay5zZXR0aW5ncyB8fCB7fSkgfSxcbiAgICAgIH07XG4gICAgICBjb25zdCB0eXBlID0gKG5vcm1hbGl6ZWQudHlwZSB8fCAnJykudG9Mb3dlckNhc2UoKTtcbiAgICAgIGlmICh0eXBlID09PSAnY29sbGVjdGlvbmdyaWQnKSB7XG4gICAgICAgIG5vcm1hbGl6ZWQuY29sbGVjdGlvbklkID1cbiAgICAgICAgICBub3JtYWxpemVkLmNvbGxlY3Rpb25JZCB8fCBub3JtYWxpemVkLnNldHRpbmdzLmNvbGxlY3Rpb25JZCB8fCAnJztcbiAgICAgICAgbm9ybWFsaXplZC5zZXR0aW5ncy5jb2xsZWN0aW9uSWQgPSBub3JtYWxpemVkLmNvbGxlY3Rpb25JZDtcbiAgICAgICAgbm9ybWFsaXplZC5zZXR0aW5ncy5saW1pdCA9IG5vcm1hbGl6ZWQuc2V0dGluZ3MubGltaXQgfHwgNjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBub3JtYWxpemVkO1xuICAgIH07XG5cbiAgICBjb25zdCBub3JtYWxpemVQYWdlRGF0YSA9IChwYWdlKSA9PiAoe1xuICAgICAgLi4ucGFnZSxcbiAgICAgIGJsb2NrczogKHBhZ2UuYmxvY2tzIHx8IFtdKS5tYXAoKGJsb2NrKSA9PiBub3JtYWxpemVCbG9ja0RhdGEoYmxvY2spKSxcbiAgICAgIHNlbzoge1xuICAgICAgICB0aXRsZTogKHBhZ2Uuc2VvPy50aXRsZSB8fCAnJykudHJpbSgpLFxuICAgICAgICBkZXNjcmlwdGlvbjogKHBhZ2Uuc2VvPy5kZXNjcmlwdGlvbiB8fCAnJykudHJpbSgpLFxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIGNvbnN0IGxvYWREZXNpZ25Db2xsZWN0aW9ucyA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvbnNBcGlCYXNlKSB7XG4gICAgICAgIGRlc2lnbkNvbGxlY3Rpb25zID0gW107XG4gICAgICAgIHVwZGF0ZUNvbGxlY3Rpb25TZWxlY3RPcHRpb25zKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goY29sbGVjdGlvbnNBcGlCYXNlLCB7XG4gICAgICAgICAgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxlcyBjb2xsZWN0aW9ucy4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+IFtdKTtcbiAgICAgICAgZGVzaWduQ29sbGVjdGlvbnMgPSBBcnJheS5pc0FycmF5KHBheWxvYWQpID8gcGF5bG9hZCA6IFtdO1xuICAgICAgICBjb25zdCBjdXJyZW50VmFsdWUgPSBjb2xsZWN0aW9uU2VsZWN0Py52YWx1ZSB8fCAnJztcbiAgICAgICAgdXBkYXRlQ29sbGVjdGlvblNlbGVjdE9wdGlvbnMoY3VycmVudFZhbHVlKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZGVzaWduXSBjb2xsZWN0aW9ucyBsb2FkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KCdDb2xsZWN0aW9ucyBpbmRpc3BvbmlibGVzLicpO1xuICAgICAgICBkZXNpZ25Db2xsZWN0aW9ucyA9IFtdO1xuICAgICAgICB1cGRhdGVDb2xsZWN0aW9uU2VsZWN0T3B0aW9ucygpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBzeW5jQ29sbGVjdGlvblNlbGVjdGlvbkluZm8gPSAoY29sbGVjdGlvbklkKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25TZWxlY3Rpb25JbmZvKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghY29sbGVjdGlvbklkKSB7XG4gICAgICAgIGNvbGxlY3Rpb25TZWxlY3Rpb25JbmZvLnRleHRDb250ZW50ID0gZGVzaWduQ29sbGVjdGlvbnMubGVuZ3RoXG4gICAgICAgICAgPyAnU1x1MDBFOWxlY3Rpb25uZXogdW5lIGNvbGxlY3Rpb24gcG91ciBhZmZpY2hlciBzZXMgaW5mb3JtYXRpb25zLidcbiAgICAgICAgICA6ICdBdWN1bmUgY29sbGVjdGlvbiBkaXNwb25pYmxlLiBBam91dGV6LWVuIGRlcHVpcyBsXHUyMDE5b25nbGV0IENvbnRlbnVzLic7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGVudHJ5ID0gZGVzaWduQ29sbGVjdGlvbnMuZmluZCgoY29sbGVjdGlvbikgPT4gY29sbGVjdGlvbi5pZCA9PT0gY29sbGVjdGlvbklkKTtcbiAgICAgIGlmICghZW50cnkpIHtcbiAgICAgICAgY29sbGVjdGlvblNlbGVjdGlvbkluZm8udGV4dENvbnRlbnQgPSBgQ29sbGVjdGlvbiAke2NvbGxlY3Rpb25JZH1gO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBkZXRhaWxzID0gW107XG4gICAgICBpZiAoZW50cnkuZGVzY3JpcHRpb24pIHtcbiAgICAgICAgZGV0YWlscy5wdXNoKGVudHJ5LmRlc2NyaXB0aW9uKTtcbiAgICAgIH1cbiAgICAgIGlmIChlbnRyeS50eXBlKSB7XG4gICAgICAgIGRldGFpbHMucHVzaChgVHlwZVx1MDBBMDogJHtlbnRyeS50eXBlfWApO1xuICAgICAgfVxuICAgICAgY29sbGVjdGlvblNlbGVjdGlvbkluZm8udGV4dENvbnRlbnQgPVxuICAgICAgICBkZXRhaWxzLmpvaW4oJyBcdTAwQjcgJykgfHwgYENvbGxlY3Rpb24gJHtlbnRyeS5uYW1lIHx8IGVudHJ5LmlkfWA7XG4gICAgfTtcblxuICAgIGNvbnN0IHVwZGF0ZUNvbGxlY3Rpb25TZWxlY3RPcHRpb25zID0gKHNlbGVjdGVkVmFsdWUgPSAnJykgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uU2VsZWN0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbGxlY3Rpb25TZWxlY3QuaW5uZXJIVE1MID0gJyc7XG4gICAgICBpZiAoIWRlc2lnbkNvbGxlY3Rpb25zLmxlbmd0aCkge1xuICAgICAgICBjb2xsZWN0aW9uU2VsZWN0LmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICAgIG9wdGlvbi52YWx1ZSA9ICcnO1xuICAgICAgICBvcHRpb24udGV4dENvbnRlbnQgPSAnQXVjdW5lIGNvbGxlY3Rpb24gZGlzcG9uaWJsZSc7XG4gICAgICAgIGNvbGxlY3Rpb25TZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uKTtcbiAgICAgICAgc3luY0NvbGxlY3Rpb25TZWxlY3Rpb25JbmZvKCcnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29sbGVjdGlvblNlbGVjdC5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgaWYgKHNlbGVjdGVkVmFsdWUgJiYgIWRlc2lnbkNvbGxlY3Rpb25zLnNvbWUoKGVudHJ5KSA9PiBlbnRyeS5pZCA9PT0gc2VsZWN0ZWRWYWx1ZSkpIHtcbiAgICAgICAgY29uc3QgZmFsbGJhY2tPcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgICAgZmFsbGJhY2tPcHRpb24udmFsdWUgPSBzZWxlY3RlZFZhbHVlO1xuICAgICAgICBmYWxsYmFja09wdGlvbi50ZXh0Q29udGVudCA9IHNlbGVjdGVkVmFsdWU7XG4gICAgICAgIGNvbGxlY3Rpb25TZWxlY3QuYXBwZW5kQ2hpbGQoZmFsbGJhY2tPcHRpb24pO1xuICAgICAgfVxuICAgICAgZGVzaWduQ29sbGVjdGlvbnMuZm9yRWFjaCgoY29sbGVjdGlvbikgPT4ge1xuICAgICAgICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgICAgb3B0aW9uLnZhbHVlID0gY29sbGVjdGlvbi5pZDtcbiAgICAgICAgY29uc3QgbGFiZWwgPSBjb2xsZWN0aW9uLm5hbWUgfHwgY29sbGVjdGlvbi5pZDtcbiAgICAgICAgb3B0aW9uLnRleHRDb250ZW50ID0gY29sbGVjdGlvbi50eXBlID8gYCR7bGFiZWx9IFx1MDBCNyAke2NvbGxlY3Rpb24udHlwZX1gIDogbGFiZWw7XG4gICAgICAgIG9wdGlvbi5kYXRhc2V0LmRlc2NyaXB0aW9uID0gY29sbGVjdGlvbi5kZXNjcmlwdGlvbiB8fCAnJztcbiAgICAgICAgY29sbGVjdGlvblNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb24pO1xuICAgICAgfSk7XG4gICAgICBpZiAoc2VsZWN0ZWRWYWx1ZSkge1xuICAgICAgICBjb2xsZWN0aW9uU2VsZWN0LnZhbHVlID0gc2VsZWN0ZWRWYWx1ZTtcbiAgICAgIH1cbiAgICAgIHN5bmNDb2xsZWN0aW9uU2VsZWN0aW9uSW5mbyhjb2xsZWN0aW9uU2VsZWN0LnZhbHVlIHx8ICcnKTtcbiAgICB9O1xuXG4gICAgbG9hZERlc2lnbkNvbGxlY3Rpb25zKCk7XG4gICAgc3luY0RyYXdlclN0YXRlKCk7XG5cbiAgICBkcmF3ZXJPcGVuQnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5EcmF3ZXIpO1xuICAgIH0pO1xuICAgIGRyYXdlckNsb3NlQnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlRHJhd2VyKTtcbiAgICB9KTtcbiAgICBkcmF3ZXJCYWNrZHJvcD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZURyYXdlcik7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsICgpID0+IHtcbiAgICAgIHN5bmNEcmF3ZXJTdGF0ZSgpO1xuICAgICAgdXBkYXRlRHJhZ2dhYmxlU3RhdGUoKTtcbiAgICB9KTtcblxuICAgIGFkZFBhZ2VUb2dnbGU/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlbkFkZFBhZ2VGb3JtKTtcbiAgICBhZGRQYWdlQ2FuY2VsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlQWRkUGFnZUZvcm0pO1xuICAgIGFkZFBhZ2VUaXRsZT8uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBzeW5jU2x1Z0Zyb21UaXRsZSk7XG4gICAgYWRkUGFnZVNsdWc/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgYWRkUGFnZUVycm9yICYmIChhZGRQYWdlRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgICBwYWdlU2x1Z01hbnVhbGx5RWRpdGVkID0gdHJ1ZTtcbiAgICB9KTtcbiAgICBhZGRQYWdlRm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKCFwYWdlc0FwaUJhc2UpIHtcbiAgICAgICAgYWRkUGFnZUVycm9yICYmIChhZGRQYWdlRXJyb3IudGV4dENvbnRlbnQgPSAnQXVjdW4gc2l0ZSBzXHUwMEU5bGVjdGlvbm5cdTAwRTkuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghYWRkUGFnZVRpdGxlIHx8ICFhZGRQYWdlU2x1Zykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCB0aXRsZSA9IGFkZFBhZ2VUaXRsZS52YWx1ZS50cmltKCk7XG4gICAgICBjb25zdCBzbHVnID0gbm9ybWFsaXplUGFnZVNsdWcoYWRkUGFnZVNsdWcudmFsdWUudHJpbSgpIHx8IHRpdGxlKTtcbiAgICAgIGlmICghdGl0bGUgfHwgIXNsdWcpIHtcbiAgICAgICAgYWRkUGFnZUVycm9yICYmIChhZGRQYWdlRXJyb3IudGV4dENvbnRlbnQgPSAnVGl0cmUgZXQgc2x1ZyBzb250IHJlcXVpcy4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYWRkUGFnZUVycm9yICYmIChhZGRQYWdlRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgICBpZiAoYWRkUGFnZVN1Ym1pdEJ1dHRvbikge1xuICAgICAgICBhZGRQYWdlU3VibWl0QnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgYWRkUGFnZVN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9ICdDclx1MDBFOWF0aW9uLi4uJztcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGNyZWF0ZWRQYWdlID0gYXdhaXQgY3JlYXRlUGFnZU9uU2VydmVyKHsgdGl0bGUsIHNsdWcgfSk7XG4gICAgICAgIGlmICghY3JlYXRlZFBhZ2UgfHwgIWNyZWF0ZWRQYWdlLmlkKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSXHUwMEU5cG9uc2UgaW52YWxpZGUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgcGFnZXMgPSBbLi4ucGFnZXMsIG5vcm1hbGl6ZVBhZ2VEYXRhKGNyZWF0ZWRQYWdlKV07XG4gICAgICAgIGNsb3NlQWRkUGFnZUZvcm0oKTtcbiAgICAgICAgc2hvd1RvYXN0KCdQYWdlIGNyXHUwMEU5XHUwMEU5ZScpO1xuICAgICAgICBzZXRBY3RpdmVQYWdlKGNyZWF0ZWRQYWdlLmlkKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZGVzaWduXSBjcmVhdGUgcGFnZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBhZGRQYWdlRXJyb3IgJiYgKGFkZFBhZ2VFcnJvci50ZXh0Q29udGVudCA9IGVyci5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIGNyXHUwMEU5ZXIgbGEgcGFnZS4nKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmIChhZGRQYWdlU3VibWl0QnV0dG9uKSB7XG4gICAgICAgICAgYWRkUGFnZVN1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgIGFkZFBhZ2VTdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSAnQ3JcdTAwRTllcic7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vID09PSBJbXBvcnQgSlNPTiBoYW5kbGVycyA9PT1cbiAgICBjb25zdCByZXNldFBhc3RlU3RhdGUgPSAoKSA9PiB7XG4gICAgICBpZiAoaW1wb3J0UGFzdGVJbnB1dCkgaW1wb3J0UGFzdGVJbnB1dC52YWx1ZSA9ICcnO1xuICAgICAgaWYgKHBhc3RlRXJyb3IpIHtcbiAgICAgICAgcGFzdGVFcnJvci5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgcGFzdGVFcnJvci50ZXh0Q29udGVudCA9ICcnO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCB2YWxpZGF0ZVBhc3RlSnNvbiA9ICgpID0+IHtcbiAgICAgIGlmICghaW1wb3J0UGFzdGVJbnB1dCkgcmV0dXJuIG51bGw7XG4gICAgICBjb25zdCB0ZXh0ID0gaW1wb3J0UGFzdGVJbnB1dC52YWx1ZS50cmltKCk7XG4gICAgICBpZiAoIXRleHQpIHtcbiAgICAgICAgaWYgKHBhc3RlRXJyb3IpIHBhc3RlRXJyb3IuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcGFyc2VkID0gSlNPTi5wYXJzZSh0ZXh0KTtcbiAgICAgICAgaWYgKHBhc3RlRXJyb3IpIHBhc3RlRXJyb3IuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIHJldHVybiBwYXJzZWQ7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgaWYgKHBhc3RlRXJyb3IpIHtcbiAgICAgICAgICBwYXN0ZUVycm9yLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgIHBhc3RlRXJyb3IudGV4dENvbnRlbnQgPSBgXHUyNzRDIEpTT04gaW52YWxpZGUgOiAke2Vyci5tZXNzYWdlfWA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGZvcm1hdFBhc3RlSnNvbiA9ICgpID0+IHtcbiAgICAgIGlmICghaW1wb3J0UGFzdGVJbnB1dCkgcmV0dXJuO1xuICAgICAgY29uc3QgdGV4dCA9IGltcG9ydFBhc3RlSW5wdXQudmFsdWUudHJpbSgpO1xuICAgICAgaWYgKCF0ZXh0KSByZXR1cm47XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBwYXJzZWQgPSBKU09OLnBhcnNlKHRleHQpO1xuICAgICAgICBpbXBvcnRQYXN0ZUlucHV0LnZhbHVlID0gSlNPTi5zdHJpbmdpZnkocGFyc2VkLCBudWxsLCAyKTtcbiAgICAgICAgdmFsaWRhdGVQYXN0ZUpzb24oKTtcbiAgICAgIH0gY2F0Y2gge1xuICAgICAgICAvLyBTaSBwYXMgdmFsaWRlLCBvbiBuZSBmb3JtYXRlIHBhc1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCB1cGRhdGVJbXBvcnRTdWJtaXRTdGF0ZSA9ICgpID0+IHtcbiAgICAgIGlmICghaW1wb3J0U3VibWl0KSByZXR1cm47XG4gICAgICBpZiAoYWN0aXZlSW1wb3J0VGFiID09PSAndXBsb2FkJykge1xuICAgICAgICBpbXBvcnRTdWJtaXQuZGlzYWJsZWQgPSBpbXBvcnRTZWxlY3RlZEZpbGVzLmxlbmd0aCA9PT0gMDtcbiAgICAgIH0gZWxzZSBpZiAoYWN0aXZlSW1wb3J0VGFiID09PSAncGFzdGUnKSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZCA9IHZhbGlkYXRlUGFzdGVKc29uKCk7XG4gICAgICAgIGltcG9ydFN1Ym1pdC5kaXNhYmxlZCA9ICFwYXJzZWQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbXBvcnRTdWJtaXQuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBvcGVuSW1wb3J0TW9kYWwgPSAoKSA9PiB7XG4gICAgICBpZiAoIWltcG9ydE1vZGFsKSByZXR1cm47XG4gICAgICBpbXBvcnRNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGltcG9ydE1vZGFsLmNsYXNzTGlzdC5hZGQoJ2ZsZXgnKTtcbiAgICAgIGltcG9ydFNlbGVjdGVkRmlsZXMgPSBbXTtcbiAgICAgIGFjdGl2ZUltcG9ydFRhYiA9ICd1cGxvYWQnO1xuICAgICAgdXBkYXRlSW1wb3J0RmlsZUxpc3QoKTtcbiAgICAgIHJlc2V0UGFzdGVTdGF0ZSgpO1xuICAgICAgaWYgKGltcG9ydFJlc3VsdHMpIGltcG9ydFJlc3VsdHMuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBpZiAoaW1wb3J0UmVzdWx0c0NvbnRlbnQpIGltcG9ydFJlc3VsdHNDb250ZW50LmlubmVySFRNTCA9ICcnO1xuICAgICAgdXBkYXRlSW1wb3J0U3VibWl0U3RhdGUoKTtcbiAgICAgIC8vIFJlc2V0IHRhYnMgdG8gdXBsb2FkXG4gICAgICBpbXBvcnRUYWJzLmZvckVhY2goKHQpID0+IHtcbiAgICAgICAgaWYgKHQuZGF0YXNldC5pbXBvcnRUYWIgPT09ICd1cGxvYWQnKSB7XG4gICAgICAgICAgdC5jbGFzc0xpc3QuYWRkKCdiZy1bIzlDNkJGRl0nLCAndGV4dC13aGl0ZScpO1xuICAgICAgICAgIHQuY2xhc3NMaXN0LnJlbW92ZSgnYm9yZGVyJywgJ2JvcmRlci1zbGF0ZS0yMDAnLCAndGV4dC1zbGF0ZS03MDAnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0LmNsYXNzTGlzdC5yZW1vdmUoJ2JnLVsjOUM2QkZGXScsICd0ZXh0LXdoaXRlJyk7XG4gICAgICAgICAgdC5jbGFzc0xpc3QuYWRkKCdib3JkZXInLCAnYm9yZGVyLXNsYXRlLTIwMCcsICd0ZXh0LXNsYXRlLTcwMCcpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGltcG9ydFBhbmVscy5mb3JFYWNoKChwKSA9PiB7XG4gICAgICAgIGlmIChwLmRhdGFzZXQuaW1wb3J0UGFuZWwgPT09ICd1cGxvYWQnKSB7XG4gICAgICAgICAgcC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IGNsb3NlSW1wb3J0TW9kYWwgPSAoKSA9PiB7XG4gICAgICBpZiAoIWltcG9ydE1vZGFsKSByZXR1cm47XG4gICAgICBpbXBvcnRNb2RhbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGltcG9ydE1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2ZsZXgnKTtcbiAgICAgIGltcG9ydFNlbGVjdGVkRmlsZXMgPSBbXTtcbiAgICAgIHJlc2V0UGFzdGVTdGF0ZSgpO1xuICAgIH07XG4gICAgY29uc3QgdXBkYXRlSW1wb3J0RmlsZUxpc3QgPSAoKSA9PiB7XG4gICAgICBpZiAoIWltcG9ydEZpbGVMaXN0IHx8ICFpbXBvcnRGaWxlTmFtZXMpIHJldHVybjtcbiAgICAgIGlmIChpbXBvcnRTZWxlY3RlZEZpbGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBpbXBvcnRGaWxlTGlzdC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgdXBkYXRlSW1wb3J0U3VibWl0U3RhdGUoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaW1wb3J0RmlsZUxpc3QuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBpbXBvcnRGaWxlTmFtZXMuaW5uZXJIVE1MID0gaW1wb3J0U2VsZWN0ZWRGaWxlc1xuICAgICAgICAubWFwKChmKSA9PiBgPGxpIGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj48c3BhbiBjbGFzcz1cInRleHQtbGdcIj5cdUQ4M0RcdURDQzQ8L3NwYW4+JHtmLm5hbWV9PC9saT5gKVxuICAgICAgICAuam9pbignJyk7XG4gICAgICB1cGRhdGVJbXBvcnRTdWJtaXRTdGF0ZSgpO1xuICAgIH07XG4gICAgY29uc3QgaGFuZGxlSW1wb3J0RmlsZXMgPSAoZmlsZXMpID0+IHtcbiAgICAgIGNvbnN0IGpzb25GaWxlcyA9IEFycmF5LmZyb20oZmlsZXMpLmZpbHRlcihcbiAgICAgICAgKGYpID0+IGYudHlwZSA9PT0gJ2FwcGxpY2F0aW9uL2pzb24nIHx8IGYubmFtZS5lbmRzV2l0aCgnLmpzb24nKVxuICAgICAgKTtcbiAgICAgIGlmIChqc29uRmlsZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHNob3dUb2FzdCgnQXVjdW4gZmljaGllciBKU09OIHZhbGlkZS4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaW1wb3J0U2VsZWN0ZWRGaWxlcyA9IGpzb25GaWxlcztcbiAgICAgIHVwZGF0ZUltcG9ydEZpbGVMaXN0KCk7XG4gICAgfTtcbiAgICBjb25zdCBleGVjdXRlSW1wb3J0ID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFwYWdlc0FwaUJhc2UpIHJldHVybjtcbiAgICAgIFxuICAgICAgLy8gRGV0ZXJtaW5lIHNvdXJjZSBvZiBkYXRhIGJhc2VkIG9uIGFjdGl2ZSB0YWJcbiAgICAgIGxldCBwYWdlc0RhdGEgPSBbXTtcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coJ1tpbXBvcnRdIGFjdGl2ZUltcG9ydFRhYjonLCBhY3RpdmVJbXBvcnRUYWIpO1xuICAgICAgXG4gICAgICBpZiAoYWN0aXZlSW1wb3J0VGFiID09PSAncGFzdGUnKSB7XG4gICAgICAgIC8vIEltcG9ydCBmcm9tIHBhc3RlZCBKU09OXG4gICAgICAgIGNvbnN0IHRleHQgPSBpbXBvcnRQYXN0ZUlucHV0Py52YWx1ZT8udHJpbSgpO1xuICAgICAgICBjb25zb2xlLmxvZygnW2ltcG9ydF0gcGFzdGUgdGV4dCBsZW5ndGg6JywgdGV4dD8ubGVuZ3RoKTtcbiAgICAgICAgaWYgKCF0ZXh0KSB7XG4gICAgICAgICAgc2hvd1RvYXN0KCdBdWN1biBKU09OIFx1MDBFMCBpbXBvcnRlci4nKTtcbiAgICAgICAgICBpZiAoaW1wb3J0UmVzdWx0cyAmJiBpbXBvcnRSZXN1bHRzQ29udGVudCkge1xuICAgICAgICAgICAgaW1wb3J0UmVzdWx0cy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIGltcG9ydFJlc3VsdHNDb250ZW50LmlubmVySFRNTCA9ICc8cCBjbGFzcz1cInRleHQtYW1iZXItNjAwXCI+XHUyNkEwIExlIGNoYW1wIGRlIHRleHRlIGVzdCB2aWRlLjwvcD4nO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBwYXJzZWQgPSBKU09OLnBhcnNlKHRleHQpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdbaW1wb3J0XSBwYXJzZWQgSlNPTjonLCBwYXJzZWQpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdbaW1wb3J0XSBwYXJzZWQgdHlwZTonLCB0eXBlb2YgcGFyc2VkLCBBcnJheS5pc0FycmF5KHBhcnNlZCkgPyAnYXJyYXknIDogJ25vdCBhcnJheScpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIFN1cHBvcnQgZm9ybWF0IHsgcGFnZXM6IFsuLi5dLCBjb2xsZWN0aW9uczogey4uLn0gfVxuICAgICAgICAgIGlmIChwYXJzZWQgJiYgIUFycmF5LmlzQXJyYXkocGFyc2VkKSAmJiBwYXJzZWQucGFnZXMpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbaW1wb3J0XSBkZXRlY3RlZCBwYWdlcytjb2xsZWN0aW9ucyBmb3JtYXQnKTtcbiAgICAgICAgICAgIHBhZ2VzRGF0YSA9IHBhcnNlZDsgLy8gU2VuZCB0aGUgd2hvbGUgb2JqZWN0LCBiYWNrZW5kIHdpbGwgaGFuZGxlIGl0XG4gICAgICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHBhcnNlZCkpIHtcbiAgICAgICAgICAgIHBhZ2VzRGF0YS5wdXNoKC4uLnBhcnNlZCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhZ2VzRGF0YS5wdXNoKHBhcnNlZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnNvbGUubG9nKCdbaW1wb3J0XSBwYWdlc0RhdGEgcHJlcGFyZWQ6JywgcGFnZXNEYXRhKTtcbiAgICAgICAgfSBjYXRjaCAocGFyc2VFcnIpIHtcbiAgICAgICAgICAvLyBBZmZpY2hlciBsZSBkXHUwMEU5dGFpbCBkZSBsJ2VycmV1ciBkZSBwYXJzaW5nXG4gICAgICAgICAgY29uc3QgZXJyb3JMaW5lID0gcGFyc2VFcnIubWVzc2FnZS5tYXRjaCgvcG9zaXRpb24gKFxcZCspLyk7XG4gICAgICAgICAgbGV0IGVycm9yRGV0YWlsID0gcGFyc2VFcnIubWVzc2FnZTtcbiAgICAgICAgICBpZiAoZXJyb3JMaW5lKSB7XG4gICAgICAgICAgICBjb25zdCBwb3MgPSBwYXJzZUludChlcnJvckxpbmVbMV0sIDEwKTtcbiAgICAgICAgICAgIGNvbnN0IGxpbmVzID0gdGV4dC5zdWJzdHJpbmcoMCwgcG9zKS5zcGxpdCgnXFxuJyk7XG4gICAgICAgICAgICBjb25zdCBsaW5lTnVtID0gbGluZXMubGVuZ3RoO1xuICAgICAgICAgICAgY29uc3QgY29sTnVtID0gbGluZXNbbGluZXMubGVuZ3RoIC0gMV0ubGVuZ3RoICsgMTtcbiAgICAgICAgICAgIGVycm9yRGV0YWlsID0gYExpZ25lICR7bGluZU51bX0sIGNvbG9ubmUgJHtjb2xOdW19OiAke3BhcnNlRXJyLm1lc3NhZ2V9YDtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2hvd1RvYXN0KGBFcnJldXIgSlNPTiA6ICR7ZXJyb3JEZXRhaWx9YCwgJ2Vycm9yJyk7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW2ltcG9ydF0gcGFzdGUgcGFyc2UgZXJyb3InLCBwYXJzZUVycik7XG4gICAgICAgICAgLy8gU2hvdyBlcnJvciBpbiByZXN1bHRzIGFyZWFcbiAgICAgICAgICBpZiAoaW1wb3J0UmVzdWx0cyAmJiBpbXBvcnRSZXN1bHRzQ29udGVudCkge1xuICAgICAgICAgICAgaW1wb3J0UmVzdWx0cy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIGltcG9ydFJlc3VsdHNDb250ZW50LmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRleHQtcm9zZS02MDBcIj5cbiAgICAgICAgICAgICAgICA8cCBjbGFzcz1cImZvbnQtbWVkaXVtXCI+XHUyNzE3IEVycmV1ciBkZSBzeW50YXhlIEpTT048L3A+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXhzIG10LTFcIj4ke2Vycm9yRGV0YWlsfTwvcD5cbiAgICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQteHMgbXQtMiB0ZXh0LXNsYXRlLTUwMFwiPlZcdTAwRTlyaWZpZXogbGVzIHZpcmd1bGVzLCBndWlsbGVtZXRzIGV0IGFjY29sYWRlcy48L3A+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgYDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGFjdGl2ZUltcG9ydFRhYiA9PT0gJ3VwbG9hZCcpIHtcbiAgICAgICAgLy8gSW1wb3J0IGZyb20gZmlsZXNcbiAgICAgICAgaWYgKGltcG9ydFNlbGVjdGVkRmlsZXMubGVuZ3RoID09PSAwKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGZpbGVFcnJvcnMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBmaWxlIG9mIGltcG9ydFNlbGVjdGVkRmlsZXMpIHtcbiAgICAgICAgICBjb25zdCB0ZXh0ID0gYXdhaXQgZmlsZS50ZXh0KCk7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZCA9IEpTT04ucGFyc2UodGV4dCk7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwYXJzZWQpKSB7XG4gICAgICAgICAgICAgIHBhZ2VzRGF0YS5wdXNoKC4uLnBhcnNlZCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwYWdlc0RhdGEucHVzaChwYXJzZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2ggKHBhcnNlRXJyKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvckxpbmUgPSBwYXJzZUVyci5tZXNzYWdlLm1hdGNoKC9wb3NpdGlvbiAoXFxkKykvKTtcbiAgICAgICAgICAgIGxldCBlcnJvckRldGFpbCA9IHBhcnNlRXJyLm1lc3NhZ2U7XG4gICAgICAgICAgICBpZiAoZXJyb3JMaW5lKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHBvcyA9IHBhcnNlSW50KGVycm9yTGluZVsxXSwgMTApO1xuICAgICAgICAgICAgICBjb25zdCBsaW5lcyA9IHRleHQuc3Vic3RyaW5nKDAsIHBvcykuc3BsaXQoJ1xcbicpO1xuICAgICAgICAgICAgICBjb25zdCBsaW5lTnVtID0gbGluZXMubGVuZ3RoO1xuICAgICAgICAgICAgICBlcnJvckRldGFpbCA9IGBMaWduZSAke2xpbmVOdW19OiAke3BhcnNlRXJyLm1lc3NhZ2V9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbGVFcnJvcnMucHVzaCh7IGZpbGU6IGZpbGUubmFtZSwgZXJyb3I6IGVycm9yRGV0YWlsIH0pO1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignW2ltcG9ydF0gcGFyc2UgZXJyb3InLCBmaWxlLm5hbWUsIHBhcnNlRXJyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2hvdyBmaWxlIHBhcnNpbmcgZXJyb3JzIGlmIGFueVxuICAgICAgICBpZiAoZmlsZUVycm9ycy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgaWYgKGltcG9ydFJlc3VsdHMgJiYgaW1wb3J0UmVzdWx0c0NvbnRlbnQpIHtcbiAgICAgICAgICAgIGltcG9ydFJlc3VsdHMuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgICBsZXQgaHRtbCA9ICc8ZGl2IGNsYXNzPVwidGV4dC1yb3NlLTYwMFwiPjxwIGNsYXNzPVwiZm9udC1tZWRpdW1cIj5cdTI3MTcgRXJyZXVycyBkZSBzeW50YXhlIEpTT048L3A+PHVsIGNsYXNzPVwibWwtNCB0ZXh0LXhzIG10LTFcIj4nO1xuICAgICAgICAgICAgZmlsZUVycm9ycy5mb3JFYWNoKGUgPT4ge1xuICAgICAgICAgICAgICBodG1sICs9IGA8bGk+PHN0cm9uZz4ke2UuZmlsZX08L3N0cm9uZz46ICR7ZS5lcnJvcn08L2xpPmA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGh0bWwgKz0gJzwvdWw+PC9kaXY+JztcbiAgICAgICAgICAgIGlmIChwYWdlc0RhdGEubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICBodG1sICs9IGA8cCBjbGFzcz1cInRleHQtYW1iZXItNjAwIG10LTIgdGV4dC1zbVwiPlx1MjZBMCAke3BhZ2VzRGF0YS5sZW5ndGh9IHBhZ2UocykgdmFsaWRlKHMpIHNlcm9udCBpbXBvcnRcdTAwRTllKHMpPC9wPmA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbXBvcnRSZXN1bHRzQ29udGVudC5pbm5lckhUTUwgPSBodG1sO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocGFnZXNEYXRhLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgc2hvd1RvYXN0KCdUb3VzIGxlcyBmaWNoaWVycyBjb250aWVubmVudCBkZXMgZXJyZXVycyBKU09OJywgJ2Vycm9yJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIFZcdTAwRTlyaWZpZXIgcXUnb24gYSBkZXMgZG9ublx1MDBFOWVzIFx1MDBFMCBpbXBvcnRlclxuICAgICAgY29uc3QgaGFzRGF0YSA9IEFycmF5LmlzQXJyYXkocGFnZXNEYXRhKSBcbiAgICAgICAgPyBwYWdlc0RhdGEubGVuZ3RoID4gMCBcbiAgICAgICAgOiAocGFnZXNEYXRhICYmIChwYWdlc0RhdGEucGFnZXM/Lmxlbmd0aCA+IDAgfHwgcGFnZXNEYXRhLnRpdGxlKSk7XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKCdbaW1wb3J0XSBoYXNEYXRhIGNoZWNrOicsIGhhc0RhdGEsICdwYWdlc0RhdGE6JywgcGFnZXNEYXRhKTtcbiAgICAgIFxuICAgICAgaWYgKCFoYXNEYXRhKSB7XG4gICAgICAgIHNob3dUb2FzdCgnQXVjdW5lIHBhZ2UgdmFsaWRlIFx1MDBFMCBpbXBvcnRlci4nKTtcbiAgICAgICAgaWYgKGltcG9ydFJlc3VsdHMgJiYgaW1wb3J0UmVzdWx0c0NvbnRlbnQpIHtcbiAgICAgICAgICBpbXBvcnRSZXN1bHRzLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgIGltcG9ydFJlc3VsdHNDb250ZW50LmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LWFtYmVyLTYwMFwiPlxuICAgICAgICAgICAgICA8cCBjbGFzcz1cImZvbnQtbWVkaXVtXCI+XHUyNkEwIEF1Y3VuZSBwYWdlIGRcdTAwRTl0ZWN0XHUwMEU5ZTwvcD5cbiAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXhzIG10LTFcIj5MZSBKU09OIGRvaXQgY29udGVuaXIgOjwvcD5cbiAgICAgICAgICAgICAgPHVsIGNsYXNzPVwidGV4dC14cyBtbC00IG10LTEgbGlzdC1kaXNjXCI+XG4gICAgICAgICAgICAgICAgPGxpPlVuIG9iamV0IHBhZ2UgYXZlYyBcInRpdGxlXCIgOiA8Y29kZT57XCJ0aXRsZVwiOiBcIk1hIHBhZ2VcIiwgLi4ufTwvY29kZT48L2xpPlxuICAgICAgICAgICAgICAgIDxsaT5VbiB0YWJsZWF1IGRlIHBhZ2VzIDogPGNvZGU+W3tcInRpdGxlXCI6IFwiUGFnZSAxXCJ9LCB7XCJ0aXRsZVwiOiBcIlBhZ2UgMlwifV08L2NvZGU+PC9saT5cbiAgICAgICAgICAgICAgICA8bGk+T3UgdW4gb2JqZXQgY29tYmluXHUwMEU5IDogPGNvZGU+e1wicGFnZXNcIjogWy4uLl0sIFwiY29sbGVjdGlvbnNcIjogey4uLn19PC9jb2RlPjwvbGk+XG4gICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICBgO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGltcG9ydFN1Ym1pdCkge1xuICAgICAgICBpbXBvcnRTdWJtaXQuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICBpbXBvcnRTdWJtaXQudGV4dENvbnRlbnQgPSAnSW1wb3J0Li4uJztcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gQWZmaWNoZXIgY2UgcXUnb24gdmEgZW52b3llciAoZGVidWcpXG4gICAgICBjb25zb2xlLmxvZygnW2ltcG9ydF0gU2VuZGluZyB0byBzZXJ2ZXI6JywgSlNPTi5zdHJpbmdpZnkocGFnZXNEYXRhKS5zdWJzdHJpbmcoMCwgNTAwKSk7XG4gICAgICBcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7cGFnZXNBcGlCYXNlfS9pbXBvcnRgLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgY3JlZGVudGlhbHM6ICdpbmNsdWRlJyxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYWdlc0RhdGEpLFxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGNvbnNvbGUubG9nKCdbaW1wb3J0XSBTZXJ2ZXIgcmVzcG9uc2Ugc3RhdHVzOicsIHJlc3BvbnNlLnN0YXR1cyk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdbaW1wb3J0XSBTZXJ2ZXIgcmVzcG9uc2UgYm9keTonLCByZXN1bHQpO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgLy8gQWZmaWNoZXIgbGUgZFx1MDBFOXRhaWwgZGUgbCdlcnJldXIgc2VydmV1clxuICAgICAgICAgIGlmIChpbXBvcnRSZXN1bHRzICYmIGltcG9ydFJlc3VsdHNDb250ZW50KSB7XG4gICAgICAgICAgICBpbXBvcnRSZXN1bHRzLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgICAgaW1wb3J0UmVzdWx0c0NvbnRlbnQuaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC1yb3NlLTYwMFwiPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwiZm9udC1tZWRpdW1cIj5cdTI3MTcgRXJyZXVyIHNlcnZldXI8L3A+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXhzIG10LTFcIj4ke3Jlc3VsdC5tZXNzYWdlIHx8ICdFcnJldXIgaW5jb25udWUnfTwvcD5cbiAgICAgICAgICAgICAgICAke3Jlc3VsdC5kZXRhaWxzID8gYDxwIGNsYXNzPVwidGV4dC14cyBtdC0xIHRleHQtc2xhdGUtNTAwXCI+JHtyZXN1bHQuZGV0YWlsc308L3A+YCA6ICcnfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIGA7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQubWVzc2FnZSB8fCAnRXJyZXVyIHNlcnZldXInKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTaG93IHJlc3VsdHNcbiAgICAgICAgaWYgKGltcG9ydFJlc3VsdHMgJiYgaW1wb3J0UmVzdWx0c0NvbnRlbnQpIHtcbiAgICAgICAgICBpbXBvcnRSZXN1bHRzLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgIGxldCBodG1sID0gJyc7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gRW50XHUwMEVBdGUgc3VjY1x1MDBFOHMvZXJyZXVyXG4gICAgICAgICAgY29uc3QgaGFzU3VjY2VzcyA9IChyZXN1bHQuaW1wb3J0ZWQ/Lmxlbmd0aCA+IDApIHx8IChyZXN1bHQuY29sbGVjdGlvbnNDcmVhdGVkPy5sZW5ndGggPiAwKTtcbiAgICAgICAgICBjb25zdCBoYXNFcnJvcnMgPSByZXN1bHQuZXJyb3JzPy5sZW5ndGggPiAwO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmIChoYXNTdWNjZXNzICYmICFoYXNFcnJvcnMpIHtcbiAgICAgICAgICAgIGh0bWwgKz0gJzxkaXYgY2xhc3M9XCJiZy1ncmVlbi01MCBib3JkZXIgYm9yZGVyLWdyZWVuLTIwMCByb3VuZGVkLWxnIHAtMyBtYi0yXCI+PHAgY2xhc3M9XCJ0ZXh0LWdyZWVuLTgwMCBmb250LW1lZGl1bVwiPlx1MjcxMyBJbXBvcnQgclx1MDBFOXVzc2k8L3A+PC9kaXY+JztcbiAgICAgICAgICB9IGVsc2UgaWYgKGhhc1N1Y2Nlc3MgJiYgaGFzRXJyb3JzKSB7XG4gICAgICAgICAgICBodG1sICs9ICc8ZGl2IGNsYXNzPVwiYmctYW1iZXItNTAgYm9yZGVyIGJvcmRlci1hbWJlci0yMDAgcm91bmRlZC1sZyBwLTMgbWItMlwiPjxwIGNsYXNzPVwidGV4dC1hbWJlci04MDAgZm9udC1tZWRpdW1cIj5cdTI2QTAgSW1wb3J0IHBhcnRpZWw8L3A+PC9kaXY+JztcbiAgICAgICAgICB9IGVsc2UgaWYgKGhhc0Vycm9ycykge1xuICAgICAgICAgICAgaHRtbCArPSAnPGRpdiBjbGFzcz1cImJnLXJvc2UtNTAgYm9yZGVyIGJvcmRlci1yb3NlLTIwMCByb3VuZGVkLWxnIHAtMyBtYi0yXCI+PHAgY2xhc3M9XCJ0ZXh0LXJvc2UtODAwIGZvbnQtbWVkaXVtXCI+XHUyNzE3IEltcG9ydCBcdTAwRTljaG91XHUwMEU5PC9wPjwvZGl2Pic7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIENvbGxlY3Rpb25zIGNyXHUwMEU5XHUwMEU5ZXNcbiAgICAgICAgICBpZiAocmVzdWx0LmNvbGxlY3Rpb25zQ3JlYXRlZCAmJiByZXN1bHQuY29sbGVjdGlvbnNDcmVhdGVkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGh0bWwgKz0gYDxwIGNsYXNzPVwidGV4dC12aW9sZXQtNzAwIG10LTJcIj5cdTI3MTMgJHtyZXN1bHQuY29sbGVjdGlvbnNDcmVhdGVkLmxlbmd0aH0gY29sbGVjdGlvbihzKSBjclx1MDBFOVx1MDBFOWUocyk8L3A+YDtcbiAgICAgICAgICAgIGh0bWwgKz0gJzx1bCBjbGFzcz1cIm1sLTQgdGV4dC14cyB0ZXh0LXNsYXRlLTYwMFwiPic7XG4gICAgICAgICAgICByZXN1bHQuY29sbGVjdGlvbnNDcmVhdGVkLmZvckVhY2goKGMpID0+IHtcbiAgICAgICAgICAgICAgaHRtbCArPSBgPGxpPiR7Yy5uYW1lfSAoJHtjLml0ZW1zQ291bnR9IGl0ZW0ke2MuaXRlbXNDb3VudCA+IDEgPyAncycgOiAnJ30pPC9saT5gO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBodG1sICs9ICc8L3VsPic7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIFBhZ2VzIGltcG9ydFx1MDBFOWVzXG4gICAgICAgICAgaWYgKHJlc3VsdC5pbXBvcnRlZCAmJiByZXN1bHQuaW1wb3J0ZWQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgaHRtbCArPSBgPHAgY2xhc3M9XCJ0ZXh0LWdyZWVuLTcwMCBtdC0yXCI+XHUyNzEzICR7cmVzdWx0LmltcG9ydGVkLmxlbmd0aH0gcGFnZShzKSBpbXBvcnRcdTAwRTllKHMpPC9wPmA7XG4gICAgICAgICAgICBodG1sICs9ICc8dWwgY2xhc3M9XCJtbC00IHRleHQteHMgdGV4dC1zbGF0ZS02MDBcIj4nO1xuICAgICAgICAgICAgcmVzdWx0LmltcG9ydGVkLmZvckVhY2goKHApID0+IHtcbiAgICAgICAgICAgICAgaHRtbCArPSBgPGxpPjxzdHJvbmc+JHtwLnRpdGxlfTwvc3Ryb25nPiBcdTIxOTIgJHtwLnNsdWd9ICgke3AuYWN0aW9uID09PSAndXBkYXRlZCcgPyAnbWlzZSBcdTAwRTAgam91cicgOiAnY3JcdTAwRTlcdTAwRTllJ30pPC9saT5gO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBodG1sICs9ICc8L3VsPic7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIEVycmV1cnMgYXZlYyBkXHUwMEU5dGFpbHNcbiAgICAgICAgICBpZiAocmVzdWx0LmVycm9ycyAmJiByZXN1bHQuZXJyb3JzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGh0bWwgKz0gYDxwIGNsYXNzPVwidGV4dC1yb3NlLTYwMCBtdC0zIGZvbnQtbWVkaXVtXCI+XHUyNzE3ICR7cmVzdWx0LmVycm9ycy5sZW5ndGh9IGVycmV1cihzKTwvcD5gO1xuICAgICAgICAgICAgaHRtbCArPSAnPHVsIGNsYXNzPVwibWwtNCB0ZXh0LXhzIHRleHQtcm9zZS02MDAgc3BhY2UteS0xIG10LTFcIj4nO1xuICAgICAgICAgICAgcmVzdWx0LmVycm9ycy5mb3JFYWNoKChlKSA9PiB7XG4gICAgICAgICAgICAgIGh0bWwgKz0gYDxsaSBjbGFzcz1cImJnLXJvc2UtNTAgcC0yIHJvdW5kZWRcIj48c3Ryb25nPiR7ZS50aXRsZX08L3N0cm9uZz48YnIvPjxzcGFuIGNsYXNzPVwidGV4dC1yb3NlLTUwMFwiPiR7ZS5lcnJvcn08L3NwYW4+PC9saT5gO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBodG1sICs9ICc8L3VsPic7XG4gICAgICAgICAgfVxuICAgICAgICAgIGltcG9ydFJlc3VsdHNDb250ZW50LmlubmVySFRNTCA9IGh0bWw7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVsb2FkIHBhZ2VzIGxpc3QgYW5kIHNob3cgdG9hc3RcbiAgICAgICAgY29uc3QgaGFzU3VjY2VzcyA9IChyZXN1bHQuaW1wb3J0ZWQ/Lmxlbmd0aCA+IDApIHx8IChyZXN1bHQuY29sbGVjdGlvbnNDcmVhdGVkPy5sZW5ndGggPiAwKTtcbiAgICAgICAgY29uc3QgaGFzRXJyb3JzID0gcmVzdWx0LmVycm9ycz8ubGVuZ3RoID4gMDtcbiAgICAgICAgXG4gICAgICAgIGlmIChyZXN1bHQuaW1wb3J0ZWQgJiYgcmVzdWx0LmltcG9ydGVkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBjb25zdCBmcmVzaFBhZ2VzID0gYXdhaXQgZmV0Y2hQYWdlc0Zyb21TZXJ2ZXIoKTtcbiAgICAgICAgICBwYWdlcyA9IGZyZXNoUGFnZXM7XG4gICAgICAgICAgcmVuZGVyUGFnZUxpc3RzKHBhZ2VzLCBhY3RpdmVQYWdlSWQpO1xuICAgICAgICAgIGlmIChwYWdlcy5sZW5ndGggPiAwICYmICFhY3RpdmVQYWdlSWQpIHtcbiAgICAgICAgICAgIHNldEFjdGl2ZVBhZ2UocGFnZXNbMF0uaWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gVG9hc3QgYXZlYyBzdGF0dXQgYXBwcm9wcmlcdTAwRTlcbiAgICAgICAgaWYgKGhhc1N1Y2Nlc3MgJiYgIWhhc0Vycm9ycykge1xuICAgICAgICAgIGNvbnN0IGNvbGxlY3Rpb25zTXNnID0gcmVzdWx0LmNvbGxlY3Rpb25zQ3JlYXRlZD8ubGVuZ3RoIFxuICAgICAgICAgICAgPyBgICsgJHtyZXN1bHQuY29sbGVjdGlvbnNDcmVhdGVkLmxlbmd0aH0gY29sbGVjdGlvbihzKWAgXG4gICAgICAgICAgICA6ICcnO1xuICAgICAgICAgIHNob3dUb2FzdChgXHUyNzEzIEltcG9ydCByXHUwMEU5dXNzaSA6ICR7cmVzdWx0LmltcG9ydGVkPy5sZW5ndGggfHwgMH0gcGFnZShzKSR7Y29sbGVjdGlvbnNNc2d9YCwgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgfSBlbHNlIGlmIChoYXNTdWNjZXNzICYmIGhhc0Vycm9ycykge1xuICAgICAgICAgIHNob3dUb2FzdChgXHUyNkEwIEltcG9ydCBwYXJ0aWVsIDogJHtyZXN1bHQuaW1wb3J0ZWQ/Lmxlbmd0aCB8fCAwfSBwYWdlKHMpLCAke3Jlc3VsdC5lcnJvcnMubGVuZ3RofSBlcnJldXIocylgLCAnd2FybmluZycpO1xuICAgICAgICB9IGVsc2UgaWYgKGhhc0Vycm9ycykge1xuICAgICAgICAgIHNob3dUb2FzdChgXHUyNzE3IEltcG9ydCBcdTAwRTljaG91XHUwMEU5IDogJHtyZXN1bHQuZXJyb3JzLmxlbmd0aH0gZXJyZXVyKHMpYCwgJ2Vycm9yJyk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGltcG9ydFNlbGVjdGVkRmlsZXMgPSBbXTtcbiAgICAgICAgdXBkYXRlSW1wb3J0RmlsZUxpc3QoKTtcbiAgICAgICAgcmVzZXRQYXN0ZVN0YXRlKCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2ltcG9ydF0gZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdFcnJldXIgaW1wb3J0JywgJ2Vycm9yJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoaW1wb3J0U3VibWl0KSB7XG4gICAgICAgICAgaW1wb3J0U3VibWl0LmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgaW1wb3J0U3VibWl0LnRleHRDb250ZW50ID0gJ0ltcG9ydGVyJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgaW1wb3J0VG9nZ2xlPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5JbXBvcnRNb2RhbCk7XG4gICAgaW1wb3J0Q2xvc2VCdXR0b25zLmZvckVhY2goKGJ0bikgPT4gYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VJbXBvcnRNb2RhbCkpO1xuICAgIGltcG9ydE1vZGFsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBpZiAoZS50YXJnZXQgPT09IGltcG9ydE1vZGFsKSBjbG9zZUltcG9ydE1vZGFsKCk7XG4gICAgfSk7XG4gICAgaW1wb3J0RmlsZUlucHV0Py5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZSkgPT4ge1xuICAgICAgaGFuZGxlSW1wb3J0RmlsZXMoZS50YXJnZXQuZmlsZXMpO1xuICAgIH0pO1xuICAgIGltcG9ydERyb3B6b25lPy5hZGRFdmVudExpc3RlbmVyKCdkcmFnb3ZlcicsIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpbXBvcnREcm9wem9uZS5jbGFzc0xpc3QuYWRkKCdib3JkZXItWyM5QzZCRkZdJywgJ2JnLVsjOUM2QkZGXS8xMCcpO1xuICAgIH0pO1xuICAgIGltcG9ydERyb3B6b25lPy5hZGRFdmVudExpc3RlbmVyKCdkcmFnbGVhdmUnLCAoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaW1wb3J0RHJvcHpvbmUuY2xhc3NMaXN0LnJlbW92ZSgnYm9yZGVyLVsjOUM2QkZGXScsICdiZy1bIzlDNkJGRl0vMTAnKTtcbiAgICB9KTtcbiAgICBpbXBvcnREcm9wem9uZT8uYWRkRXZlbnRMaXN0ZW5lcignZHJvcCcsIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpbXBvcnREcm9wem9uZS5jbGFzc0xpc3QucmVtb3ZlKCdib3JkZXItWyM5QzZCRkZdJywgJ2JnLVsjOUM2QkZGXS8xMCcpO1xuICAgICAgaGFuZGxlSW1wb3J0RmlsZXMoZS5kYXRhVHJhbnNmZXIuZmlsZXMpO1xuICAgIH0pO1xuICAgIGltcG9ydFN1Ym1pdD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBleGVjdXRlSW1wb3J0KTtcbiAgICAvLyBQYXN0ZSBKU09OIGhhbmRsZXJzXG4gICAgaW1wb3J0UGFzdGVJbnB1dD8uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgICB1cGRhdGVJbXBvcnRTdWJtaXRTdGF0ZSgpO1xuICAgIH0pO1xuICAgIHBhc3RlRm9ybWF0QnRuPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZvcm1hdFBhc3RlSnNvbik7XG4gICAgLy8gSW1wb3J0IHRhYnNcbiAgICBpbXBvcnRUYWJzLmZvckVhY2goKHRhYikgPT4ge1xuICAgICAgdGFiLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBjb25zdCB0YXJnZXRQYW5lbCA9IHRhYi5kYXRhc2V0LmltcG9ydFRhYjtcbiAgICAgICAgYWN0aXZlSW1wb3J0VGFiID0gdGFyZ2V0UGFuZWw7XG4gICAgICAgIGltcG9ydFRhYnMuZm9yRWFjaCgodCkgPT4ge1xuICAgICAgICAgIGlmICh0LmRhdGFzZXQuaW1wb3J0VGFiID09PSB0YXJnZXRQYW5lbCkge1xuICAgICAgICAgICAgdC5jbGFzc0xpc3QuYWRkKCdiZy1bIzlDNkJGRl0nLCAndGV4dC13aGl0ZScpO1xuICAgICAgICAgICAgdC5jbGFzc0xpc3QucmVtb3ZlKCdib3JkZXInLCAnYm9yZGVyLXNsYXRlLTIwMCcsICd0ZXh0LXNsYXRlLTcwMCcpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0LmNsYXNzTGlzdC5yZW1vdmUoJ2JnLVsjOUM2QkZGXScsICd0ZXh0LXdoaXRlJyk7XG4gICAgICAgICAgICB0LmNsYXNzTGlzdC5hZGQoJ2JvcmRlcicsICdib3JkZXItc2xhdGUtMjAwJywgJ3RleHQtc2xhdGUtNzAwJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaW1wb3J0UGFuZWxzLmZvckVhY2goKHApID0+IHtcbiAgICAgICAgICBpZiAocC5kYXRhc2V0LmltcG9ydFBhbmVsID09PSB0YXJnZXRQYW5lbCkge1xuICAgICAgICAgICAgcC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB1cGRhdGVJbXBvcnRTdWJtaXRTdGF0ZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgY29weVRlbXBsYXRlQnRuPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghdGVtcGxhdGVKc29uKSByZXR1cm47XG4gICAgICBjb25zdCB0ZXh0ID0gdGVtcGxhdGVKc29uLnRleHRDb250ZW50IHx8ICcnO1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQodGV4dCk7XG4gICAgICAgIHNob3dUb2FzdCgnVGVtcGxhdGUgY29waVx1MDBFOSAhJyk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2ltcG9ydF0gY29weSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoJ0VycmV1ciBjb3BpZScpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gRGVsZXRlIHBhZ2UgbW9kYWwgbGlzdGVuZXJzXG4gICAgZGVsZXRlUGFnZUNhbmNlbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZURlbGV0ZVBhZ2VNb2RhbCk7XG4gICAgZGVsZXRlUGFnZUNvbmZpcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZXhlY3V0ZURlbGV0ZVBhZ2UpO1xuICAgIGRlbGV0ZVBhZ2VNb2RhbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgaWYgKGUudGFyZ2V0ID09PSBkZWxldGVQYWdlTW9kYWwpIGNsb3NlRGVsZXRlUGFnZU1vZGFsKCk7XG4gICAgfSk7XG5cbiAgICBibG9ja0xpYnJhcnlUb2dnbGU/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIHRvZ2dsZUJsb2NrTGlicmFyeSgpO1xuICAgIH0pO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoIWJsb2NrTGlicmFyeU9wZW4pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKFxuICAgICAgICBibG9ja0xpYnJhcnk/LmNvbnRhaW5zKGV2ZW50LnRhcmdldCkgfHxcbiAgICAgICAgYmxvY2tMaWJyYXJ5VG9nZ2xlPy5jb250YWlucyhldmVudC50YXJnZXQpXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY2xvc2VCbG9ja0xpYnJhcnkoKTtcbiAgICB9KTtcbiAgICBibG9ja0FkZEJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGNvbnN0IHR5cGUgPSBidXR0b24uZGF0YXNldC5ibG9ja0FkZDtcbiAgICAgICAgYWRkQmxvY2tGcm9tTGlicmFyeSh0eXBlKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGJsb2NrRGVsZXRlQ2FuY2VsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNsb3NlQmxvY2tEZWxldGVNb2RhbCgpO1xuICAgIH0pO1xuICAgIGJsb2NrRGVsZXRlQ29uZmlybT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBpZiAocGVuZGluZ0RlbGV0ZUJsb2NrSWQpIHtcbiAgICAgICAgZGVsZXRlQmxvY2tCeUlkKHBlbmRpbmdEZWxldGVCbG9ja0lkKTtcbiAgICAgIH1cbiAgICAgIGNsb3NlQmxvY2tEZWxldGVNb2RhbCgpO1xuICAgIH0pO1xuICAgIGJsb2NrRGVsZXRlTW9kYWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSBibG9ja0RlbGV0ZU1vZGFsKSB7XG4gICAgICAgIGNsb3NlQmxvY2tEZWxldGVNb2RhbCgpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGJsb2NrRm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICAgIGlmICghdGFyZ2V0IHx8ICF0YXJnZXQubmFtZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBNaW5pIHByZXZpZXcgcG91ciBncm91cGVcbiAgICAgIGlmICh0YXJnZXQubmFtZSA9PT0gJ2dyb3VwLWNvbHVtbnMtbW9iaWxlJyB8fCB0YXJnZXQubmFtZSA9PT0gJ2dyb3VwLWNvbHVtbnMtZGVza3RvcCcpIHtcbiAgICAgICAgY29uc3QgbW9iaWxlVmFsdWUgPVxuICAgICAgICAgIGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImdyb3VwLWNvbHVtbnMtbW9iaWxlXCJdJyk/LnZhbHVlIHx8ICcxJztcbiAgICAgICAgY29uc3QgZGVza3RvcFZhbHVlID1cbiAgICAgICAgICBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJncm91cC1jb2x1bW5zLWRlc2t0b3BcIl0nKT8udmFsdWUgfHwgJzMnO1xuICAgICAgICB1cGRhdGVHcm91cE1pbmlQcmV2aWV3KG1vYmlsZVZhbHVlLCBkZXNrdG9wVmFsdWUpO1xuICAgICAgfVxuICAgICAgLy8gTWluaSBwcmV2aWV3IHBvdXIgY29sbGVjdGlvblxuICAgICAgaWYgKHRhcmdldC5uYW1lID09PSAnY29sbGVjdGlvbi1jb2x1bW5zLW1vYmlsZScgfHwgdGFyZ2V0Lm5hbWUgPT09ICdjb2xsZWN0aW9uLWNvbHVtbnMtZGVza3RvcCcpIHtcbiAgICAgICAgY29uc3QgbW9iaWxlVmFsdWUgPVxuICAgICAgICAgIGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImNvbGxlY3Rpb24tY29sdW1ucy1tb2JpbGVcIl0nKT8udmFsdWUgfHwgJzEnO1xuICAgICAgICBjb25zdCBkZXNrdG9wVmFsdWUgPVxuICAgICAgICAgIGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImNvbGxlY3Rpb24tY29sdW1ucy1kZXNrdG9wXCJdJyk/LnZhbHVlIHx8ICczJztcbiAgICAgICAgdXBkYXRlQ29sbGVjdGlvbk1pbmlQcmV2aWV3KG1vYmlsZVZhbHVlLCBkZXNrdG9wVmFsdWUpO1xuICAgICAgfVxuICAgICAgLy8gRFx1MDBFOXRlY3Rpb24gc2kgb24gZXN0IGRhbnMgbGUgcGFuZWwgQXBwYXJlbmNlIFx1MjE5MiBhdXRvLXNhdmVcbiAgICAgIGNvbnN0IHBhbmVsID0gdGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLWJsb2NrLXBhbmVsXScpO1xuICAgICAgaWYgKHBhbmVsICYmIHBhbmVsLmRhdGFzZXQuYmxvY2tQYW5lbCA9PT0gJ2FwcGVhcmFuY2UnKSB7XG4gICAgICAgIC8vIEF1dG8tc2F2ZSArIHJlZnJlc2ggcHJldmlldyBwb3VyIGwnYXBwYXJlbmNlXG4gICAgICAgIGNvbnN0IGJsb2NrID0gZ2V0QWN0aXZlQmxvY2soKTtcbiAgICAgICAgY29uc3QgY29uZmlnID0gZ2V0QmxvY2tGb3JtQ29uZmlnKGJsb2NrKTtcbiAgICAgICAgaWYgKGJsb2NrICYmIGNvbmZpZykge1xuICAgICAgICAgIGNvbnN0IHZhbHVlcyA9IGNvbGxlY3RGb3JtVmFsdWVzKGNvbmZpZyk7XG4gICAgICAgICAgaGFuZGxlQXBwZWFyYW5jZUNoYW5nZShibG9jay5pZCwgdmFsdWVzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIC8vIFx1MDBDOWdhbGVtZW50IHN1ciAnY2hhbmdlJyBwb3VyIGxlcyBzZWxlY3RzXG4gICAgYmxvY2tGb3JtPy5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICAgIGlmICghdGFyZ2V0IHx8ICF0YXJnZXQubmFtZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBwYW5lbCA9IHRhcmdldC5jbG9zZXN0KCdbZGF0YS1ibG9jay1wYW5lbF0nKTtcbiAgICAgIGlmIChwYW5lbCAmJiBwYW5lbC5kYXRhc2V0LmJsb2NrUGFuZWwgPT09ICdhcHBlYXJhbmNlJykge1xuICAgICAgICBjb25zdCBibG9jayA9IGdldEFjdGl2ZUJsb2NrKCk7XG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IGdldEJsb2NrRm9ybUNvbmZpZyhibG9jayk7XG4gICAgICAgIGlmIChibG9jayAmJiBjb25maWcpIHtcbiAgICAgICAgICBjb25zdCB2YWx1ZXMgPSBjb2xsZWN0Rm9ybVZhbHVlcyhjb25maWcpO1xuICAgICAgICAgIGhhbmRsZUFwcGVhcmFuY2VDaGFuZ2UoYmxvY2suaWQsIHZhbHVlcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICBjb2xsZWN0aW9uU2VsZWN0Py5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICAgIHN5bmNDb2xsZWN0aW9uU2VsZWN0aW9uSW5mbyh0YXJnZXQ/LnZhbHVlIHx8ICcnKTtcbiAgICB9KTtcbiAgICBibG9ja0Zvcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGhhbmRsZUJsb2NrRm9ybVN1Ym1pdCk7XG4gICAgYmxvY2tGb3JtQ2FuY2VsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGNvbnN0IGJsb2NrID0gZ2V0QWN0aXZlQmxvY2soKTtcbiAgICAgIGlmIChibG9jaykge1xuICAgICAgICBwb3B1bGF0ZUJsb2NrRm9ybShibG9jayk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcHJldmlld0ZyYW1lPy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xuICAgICAgcHJldmlld1JlYWR5ID0gdHJ1ZTtcbiAgICAgIHVwZGF0ZVByZXZpZXdTdGF0dXMoJ1x1MDBDMCBqb3VyJyk7XG4gICAgICBhcHBseVByZXZpZXdIaWdobGlnaHQoYWN0aXZlQmxvY2tJZCk7XG4gICAgfSk7XG4gICAgcHJldmlld09wZW5CdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgcHJldmlld1dpbmRvdyA9IHdpbmRvdy5vcGVuKCcnLCAnX2JsYW5rJyk7XG4gICAgICBpZiAoIXByZXZpZXdXaW5kb3cpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcHJldmlld1dpbmRvdy5vcGVuZXIgPSBudWxsO1xuICAgICAgY29uc3QgZG9jID0gcHJldmlld1dpbmRvdy5kb2N1bWVudDtcbiAgICAgIGRvYy5vcGVuKCk7XG4gICAgICBkb2Mud3JpdGUobGF0ZXN0UHJldmlld0h0bWwgfHwgZ2V0TG9hZGluZ1ByZXZpZXdIdG1sKCkpO1xuICAgICAgZG9jLmNsb3NlKCk7XG4gICAgfSk7XG5cbiAgICAvLyBTRU8gcGFuZWwgbG9naWNcbiAgICBjb25zdCB0b2dnbGVTZW9QYW5lbCA9IChzaG93KSA9PiB7XG4gICAgICBpZiAoIXNlb1BhbmVsKSByZXR1cm47XG4gICAgICBpZiAoc2hvdykge1xuICAgICAgICBzZW9QYW5lbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgLy8gUG9wdWxhdGUgZmllbGRzIHdpdGggY3VycmVudCBwYWdlIFNFTyBkYXRhXG4gICAgICAgIGlmIChjdXJyZW50UGFnZSkge1xuICAgICAgICAgIHNlb1RpdGxlSW5wdXQgJiYgKHNlb1RpdGxlSW5wdXQudmFsdWUgPSBjdXJyZW50UGFnZS5zZW8/LnRpdGxlIHx8ICcnKTtcbiAgICAgICAgICBzZW9EZXNjcmlwdGlvbklucHV0ICYmIChzZW9EZXNjcmlwdGlvbklucHV0LnZhbHVlID0gY3VycmVudFBhZ2Uuc2VvPy5kZXNjcmlwdGlvbiB8fCAnJyk7XG4gICAgICAgICAgLy8gaW5kZXhlZDogdHJ1ZSBieSBkZWZhdWx0IGlmIG5vdCBleHBsaWNpdGx5IHNldCB0byBmYWxzZVxuICAgICAgICAgIHNlb0luZGV4ZWRDaGVja2JveCAmJiAoc2VvSW5kZXhlZENoZWNrYm94LmNoZWNrZWQgPSBjdXJyZW50UGFnZS5zZW8/LmluZGV4ZWQgIT09IGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2VvUGFuZWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBzZXRTZW9GZWVkYmFjayA9IChtZXNzYWdlLCB0b25lID0gJ211dGVkJykgPT4ge1xuICAgICAgaWYgKCFzZW9GZWVkYmFjaykgcmV0dXJuO1xuICAgICAgY29uc3QgY29sb3IgPSB0b25lID09PSAnc3VjY2VzcycgPyAndGV4dC1lbWVyYWxkLTYwMCcgOiB0b25lID09PSAnZXJyb3InID8gJ3RleHQtcm9zZS02MDAnIDogJ3RleHQtc2xhdGUtNTAwJztcbiAgICAgIHNlb0ZlZWRiYWNrLnRleHRDb250ZW50ID0gbWVzc2FnZSB8fCAnJztcbiAgICAgIHNlb0ZlZWRiYWNrLmNsYXNzTmFtZSA9IGB0ZXh0LXNtICR7Y29sb3J9YDtcbiAgICB9O1xuICAgIHNlb1RvZ2dsZUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBpc1Zpc2libGUgPSBzZW9QYW5lbCAmJiAhc2VvUGFuZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdoaWRkZW4nKTtcbiAgICAgIHRvZ2dsZVNlb1BhbmVsKCFpc1Zpc2libGUpO1xuICAgIH0pO1xuICAgIHNlb0Nsb3NlQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRvZ2dsZVNlb1BhbmVsKGZhbHNlKSk7XG4gICAgc2VvRm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSkge1xuICAgICAgICBzZXRTZW9GZWVkYmFjaygnQXVjdW5lIHBhZ2UgYWN0aXZlLicsICdlcnJvcicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZW9TYXZlQnV0dG9uICYmIChzZW9TYXZlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZSk7XG4gICAgICBzZXRTZW9GZWVkYmFjaygnJyk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBzZW9EYXRhID0ge1xuICAgICAgICAgIHRpdGxlOiAoc2VvVGl0bGVJbnB1dD8udmFsdWUgfHwgJycpLnRyaW0oKSxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogKHNlb0Rlc2NyaXB0aW9uSW5wdXQ/LnZhbHVlIHx8ICcnKS50cmltKCksXG4gICAgICAgICAgaW5kZXhlZDogc2VvSW5kZXhlZENoZWNrYm94Py5jaGVja2VkID8/IHRydWUsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRQYWdlID0geyAuLi5jdXJyZW50UGFnZSwgc2VvOiBzZW9EYXRhIH07XG4gICAgICAgIGNvbnN0IHNhdmVkID0gYXdhaXQgc2F2ZVBhZ2VUb1NlcnZlcih1cGRhdGVkUGFnZSk7XG4gICAgICAgIGlmIChzYXZlZCkge1xuICAgICAgICAgIGN1cnJlbnRQYWdlID0gc2F2ZWQ7XG4gICAgICAgICAgc2V0U2VvRmVlZGJhY2soJ1NFTyBlbnJlZ2lzdHJcdTAwRTkuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgICBzaG93VG9hc3QoJ1NFTyBtaXMgXHUwMEUwIGpvdXInKTtcbiAgICAgICAgICByZWZyZXNoUHJldmlldyhjdXJyZW50UGFnZSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbc2VvXSBzYXZlIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNldFNlb0ZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsYSBzYXV2ZWdhcmRlLicsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2VvU2F2ZUJ1dHRvbiAmJiAoc2VvU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGNvbnN0IGhhbmRsZUJsb2NrRHJhZ1N0YXJ0ID0gKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCBpdGVtID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLWJsb2NrLWl0ZW1dJyk7XG4gICAgICBpZiAoIWl0ZW0gfHwgIWlzRGVza3RvcFJlb3JkZXIoKSkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBkcmFnU291cmNlSWQgPSBpdGVtLmRhdGFzZXQuYmxvY2tJZCB8fCBudWxsO1xuICAgICAgaWYgKCFkcmFnU291cmNlSWQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZXZlbnQuZGF0YVRyYW5zZmVyLmVmZmVjdEFsbG93ZWQgPSAnbW92ZSc7XG4gICAgICBldmVudC5kYXRhVHJhbnNmZXIuc2V0RGF0YSgndGV4dC9wbGFpbicsIGRyYWdTb3VyY2VJZCk7XG4gICAgICAvLyBTdHlsZSBkdSBibG9jIGVuIGNvdXJzIGRlIGRyYWdcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgIGl0ZW0uY2xhc3NMaXN0LmFkZCgnb3BhY2l0eS01MCcsICdzY2FsZS1bMC45OF0nLCAnc2hhZG93LWxnJywgJ3JpbmctMicsICdyaW5nLVsjOUM2QkZGXScpO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICBjb25zdCBjbGVhckRyYWdJbmRpY2F0b3JzID0gKCkgPT4ge1xuICAgICAgYmxvY2tMaXN0XG4gICAgICAgID8ucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYmxvY2staXRlbV0nKVxuICAgICAgICAuZm9yRWFjaCgobm9kZSkgPT4ge1xuICAgICAgICAgIG5vZGUuY2xhc3NMaXN0LnJlbW92ZShcbiAgICAgICAgICAgICdvcGFjaXR5LTUwJywgJ3NjYWxlLVswLjk4XScsICdzaGFkb3ctbGcnLCAncmluZy0yJywgJ3JpbmctWyM5QzZCRkZdJyxcbiAgICAgICAgICAgICdib3JkZXItdC00JywgJ2JvcmRlci1iLTQnLCAnYm9yZGVyLXQtWyM5QzZCRkZdJywgJ2JvcmRlci1iLVsjOUM2QkZGXScsXG4gICAgICAgICAgICAncHQtNicsICdwYi02J1xuICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgY29uc3QgaGFuZGxlQmxvY2tEcmFnRW5kID0gKCkgPT4ge1xuICAgICAgZHJhZ1NvdXJjZUlkID0gbnVsbDtcbiAgICAgIGNsZWFyRHJhZ0luZGljYXRvcnMoKTtcbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZUJsb2NrRHJhZ092ZXIgPSAoZXZlbnQpID0+IHtcbiAgICAgIGlmICghZHJhZ1NvdXJjZUlkIHx8ICFpc0Rlc2t0b3BSZW9yZGVyKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLWJsb2NrLWl0ZW1dJyk7XG4gICAgICBpZiAoIXRhcmdldCB8fCB0YXJnZXQuZGF0YXNldC5ibG9ja0lkID09PSBkcmFnU291cmNlSWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGV2ZW50LmRhdGFUcmFuc2Zlci5kcm9wRWZmZWN0ID0gJ21vdmUnO1xuICAgICAgLy8gRFx1MDBFOXRlcm1pbmUgc2kgb24gZHJvcCBhdmFudCBvdSBhcHJcdTAwRThzXG4gICAgICBjb25zdCByZWN0ID0gdGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgY29uc3QgbWlkWSA9IHJlY3QudG9wICsgcmVjdC5oZWlnaHQgLyAyO1xuICAgICAgY29uc3QgaXNBYm92ZSA9IGV2ZW50LmNsaWVudFkgPCBtaWRZO1xuICAgICAgLy8gTmV0dG9pZSBsZXMgYXV0cmVzIGluZGljYXRldXJzXG4gICAgICBibG9ja0xpc3Q/LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWJsb2NrLWl0ZW1dJykuZm9yRWFjaCgobm9kZSkgPT4ge1xuICAgICAgICBpZiAobm9kZSAhPT0gdGFyZ2V0ICYmIG5vZGUuZGF0YXNldC5ibG9ja0lkICE9PSBkcmFnU291cmNlSWQpIHtcbiAgICAgICAgICBub2RlLmNsYXNzTGlzdC5yZW1vdmUoJ2JvcmRlci10LTQnLCAnYm9yZGVyLWItNCcsICdib3JkZXItdC1bIzlDNkJGRl0nLCAnYm9yZGVyLWItWyM5QzZCRkZdJywgJ3B0LTYnLCAncGItNicpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIC8vIEFwcGxpcXVlIGwnaW5kaWNhdGV1ciBkZSBwb3NpdGlvblxuICAgICAgdGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoJ2JvcmRlci10LTQnLCAnYm9yZGVyLWItNCcsICdib3JkZXItdC1bIzlDNkJGRl0nLCAnYm9yZGVyLWItWyM5QzZCRkZdJywgJ3B0LTYnLCAncGItNicpO1xuICAgICAgaWYgKGlzQWJvdmUpIHtcbiAgICAgICAgdGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2JvcmRlci10LTQnLCAnYm9yZGVyLXQtWyM5QzZCRkZdJywgJ3B0LTYnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRhcmdldC5jbGFzc0xpc3QuYWRkKCdib3JkZXItYi00JywgJ2JvcmRlci1iLVsjOUM2QkZGXScsICdwYi02Jyk7XG4gICAgICB9XG4gICAgICB0YXJnZXQuZGF0YXNldC5kcm9wUG9zaXRpb24gPSBpc0Fib3ZlID8gJ2JlZm9yZScgOiAnYWZ0ZXInO1xuICAgIH07XG4gICAgY29uc3QgaGFuZGxlQmxvY2tEcmFnTGVhdmUgPSAoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCdbZGF0YS1ibG9jay1pdGVtXScpO1xuICAgICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gVlx1MDBFOXJpZmllIHNpIG9uIHF1aXR0ZSB2cmFpbWVudCBsJ1x1MDBFOWxcdTAwRTltZW50IChwYXMganVzdGUgdmVycyB1biBlbmZhbnQpXG4gICAgICBjb25zdCByZWxhdGVkVGFyZ2V0ID0gZXZlbnQucmVsYXRlZFRhcmdldDtcbiAgICAgIGlmIChyZWxhdGVkVGFyZ2V0ICYmIHRhcmdldC5jb250YWlucyhyZWxhdGVkVGFyZ2V0KSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0YXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgnYm9yZGVyLXQtNCcsICdib3JkZXItYi00JywgJ2JvcmRlci10LVsjOUM2QkZGXScsICdib3JkZXItYi1bIzlDNkJGRl0nLCAncHQtNicsICdwYi02Jyk7XG4gICAgICBkZWxldGUgdGFyZ2V0LmRhdGFzZXQuZHJvcFBvc2l0aW9uO1xuICAgIH07XG4gICAgY29uc3QgaGFuZGxlQmxvY2tEcm9wID0gKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoIWRyYWdTb3VyY2VJZCB8fCAhaXNEZXNrdG9wUmVvcmRlcigpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQuY2xvc2VzdCgnW2RhdGEtYmxvY2staXRlbV0nKTtcbiAgICAgIGNvbnN0IHNvdXJjZSA9IGRyYWdTb3VyY2VJZDtcbiAgICAgIGNvbnN0IGRyb3BQb3NpdGlvbiA9IHRhcmdldD8uZGF0YXNldC5kcm9wUG9zaXRpb24gfHwgJ2FmdGVyJztcbiAgICAgIGRyYWdTb3VyY2VJZCA9IG51bGw7XG4gICAgICBjbGVhckRyYWdJbmRpY2F0b3JzKCk7XG4gICAgICBjb25zdCB0YXJnZXRJZCA9IHRhcmdldD8uZGF0YXNldC5ibG9ja0lkIHx8IG51bGw7XG4gICAgICBpZiAoIXRhcmdldElkIHx8IHNvdXJjZSA9PT0gdGFyZ2V0SWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcmVvcmRlckJsb2Nrc1dpdGhQb3NpdGlvbihzb3VyY2UsIHRhcmdldElkLCBkcm9wUG9zaXRpb24pO1xuICAgIH07XG4gICAgbGV0IGRyYWdTb3VyY2VJZCA9IG51bGw7XG4gICAgYmxvY2tMaXN0Py5hZGRFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCBoYW5kbGVCbG9ja0RyYWdTdGFydCk7XG4gICAgYmxvY2tMaXN0Py5hZGRFdmVudExpc3RlbmVyKCdkcmFnZW5kJywgaGFuZGxlQmxvY2tEcmFnRW5kKTtcbiAgICBibG9ja0xpc3Q/LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgaGFuZGxlQmxvY2tEcmFnT3Zlcik7XG4gICAgYmxvY2tMaXN0Py5hZGRFdmVudExpc3RlbmVyKCdkcmFnbGVhdmUnLCBoYW5kbGVCbG9ja0RyYWdMZWF2ZSk7XG4gICAgYmxvY2tMaXN0Py5hZGRFdmVudExpc3RlbmVyKCdkcm9wJywgaGFuZGxlQmxvY2tEcm9wKTtcbiAgICBsb2FkUGFnZXNGcm9tU2VydmVyKCk7XG4gIH1cblxuICBmdW5jdGlvbiBpbml0Q29udGVudFdvcmtzcGFjZSgpIHtcbiAgICBjb25zdCBjb2xsZWN0aW9uTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbGxlY3Rpb24tbGlzdF0nKTtcbiAgICBpZiAoIWNvbGxlY3Rpb25MaXN0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIC8vIFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFxuICAgIC8vIEhFQURFUiAmIEZPT1RFUiBNQU5BR0VNRU5UXG4gICAgLy8gXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXG4gICAgY29uc3QgY29udGVudFZpZXdzID0ge1xuICAgICAgZW1wdHk6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbnRlbnQtdmlldz1cImVtcHR5XCJdJyksXG4gICAgICBoZWFkZXI6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbnRlbnQtdmlldz1cImhlYWRlclwiXScpLFxuICAgICAgY29sbGVjdGlvbjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29udGVudC12aWV3PVwiY29sbGVjdGlvblwiXScpLFxuICAgICAgZm9vdGVyOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb250ZW50LXZpZXc9XCJmb290ZXJcIl0nKSxcbiAgICB9O1xuICAgIGNvbnN0IGNvbnRlbnRTZWN0aW9uQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWNvbnRlbnQtc2VjdGlvbl0nKTtcbiAgICBjb25zdCBjb250ZW50U2VjdGlvblRyaWdnZXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtY29udGVudC1zZWN0aW9uLXRyaWdnZXJdJyk7XG4gICAgY29uc3QgY29udGVudERyYXdlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbnRlbnQtZHJhd2VyXScpO1xuICAgIGNvbnN0IGNvbnRlbnREcmF3ZXJCYWNrZHJvcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbnRlbnQtZHJhd2VyLWJhY2tkcm9wXScpO1xuICAgIGNvbnN0IGNvbnRlbnREcmF3ZXJPcGVuQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWNvbnRlbnQtZHJhd2VyLW9wZW5dJyk7XG4gICAgY29uc3QgY29udGVudERyYXdlckNsb3NlQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWNvbnRlbnQtZHJhd2VyLWNsb3NlXScpO1xuICAgIGNvbnN0IGhlYWRlclN0YXR1c0luZGljYXRvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWhlYWRlci1zdGF0dXNdJyk7XG4gICAgY29uc3QgZm9vdGVyU3RhdHVzSW5kaWNhdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZm9vdGVyLXN0YXR1c10nKTtcbiAgICBjb25zdCBjb2xsZWN0aW9uQ291bnRFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbGxlY3Rpb24tY291bnRdJyk7XG4gICAgXG4gICAgLy8gSGVhZGVyIGZpZWxkc1xuICAgIGNvbnN0IGhlYWRlckZpZWxkcyA9IHtcbiAgICAgIGxvZ286IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaGVhZGVyLWxvZ29cIl0nKSxcbiAgICAgIGxvZ29BbHQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaGVhZGVyLWxvZ28tYWx0XCJdJyksXG4gICAgICBsb2dvVXJsOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImhlYWRlci1sb2dvLXVybFwiXScpLFxuICAgICAgY3RhVGV4dDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJoZWFkZXItY3RhLXRleHRcIl0nKSxcbiAgICAgIGN0YVVybDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJoZWFkZXItY3RhLXVybFwiXScpLFxuICAgICAgY3RhU3R5bGU6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaGVhZGVyLWN0YS1zdHlsZVwiXScpLFxuICAgICAgcG9zaXRpb246IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaGVhZGVyLXBvc2l0aW9uXCJdJyksXG4gICAgICBiZzogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJoZWFkZXItYmdcIl0nKSxcbiAgICB9O1xuICAgIGNvbnN0IGhlYWRlck5hdkxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1oZWFkZXItbmF2LWxpc3RdJyk7XG4gICAgY29uc3QgaGVhZGVyTmF2QWRkQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaGVhZGVyLW5hdi1hZGRdJyk7XG4gICAgY29uc3QgaGVhZGVyU2F2ZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWhlYWRlci1zYXZlXScpO1xuICAgIGNvbnN0IGhlYWRlck5hdkl0ZW1UZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRlbXBsYXRlLWhlYWRlci1uYXYtaXRlbV0nKTtcbiAgICBcbiAgICAvLyBGb290ZXIgZmllbGRzXG4gICAgY29uc3QgZm9vdGVyRmllbGRzID0ge1xuICAgICAgbGlua2VkaW46IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZm9vdGVyLXNvY2lhbC1saW5rZWRpblwiXScpLFxuICAgICAgdHdpdHRlcjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJmb290ZXItc29jaWFsLXR3aXR0ZXJcIl0nKSxcbiAgICAgIGluc3RhZ3JhbTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJmb290ZXItc29jaWFsLWluc3RhZ3JhbVwiXScpLFxuICAgICAgZmFjZWJvb2s6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZm9vdGVyLXNvY2lhbC1mYWNlYm9va1wiXScpLFxuICAgICAgeW91dHViZTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJmb290ZXItc29jaWFsLXlvdXR1YmVcIl0nKSxcbiAgICAgIGdpdGh1YjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJmb290ZXItc29jaWFsLWdpdGh1YlwiXScpLFxuICAgICAgY29weXJpZ2h0OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImZvb3Rlci1jb3B5cmlnaHRcIl0nKSxcbiAgICAgIGxlZ2FsVXJsOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImZvb3Rlci1sZWdhbC11cmxcIl0nKSxcbiAgICAgIHByaXZhY3lVcmw6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZm9vdGVyLXByaXZhY3ktdXJsXCJdJyksXG4gICAgICBiZzogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJmb290ZXItYmdcIl0nKSxcbiAgICAgIGNvbHVtbnNDb3VudDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJmb290ZXItY29sdW1ucy1jb3VudFwiXScpLFxuICAgIH07XG4gICAgY29uc3QgZm9vdGVyQ29sdW1uc0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1mb290ZXItY29sdW1ucy1saXN0XScpO1xuICAgIGNvbnN0IGZvb3RlckNvbHVtbkFkZEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWZvb3Rlci1jb2x1bW4tYWRkXScpO1xuICAgIGNvbnN0IGZvb3RlclNhdmVCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1mb290ZXItc2F2ZV0nKTtcbiAgICBjb25zdCBmb290ZXJDb2x1bW5UZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRlbXBsYXRlLWZvb3Rlci1jb2x1bW5dJyk7XG4gICAgY29uc3QgZm9vdGVyTGlua1RlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtdGVtcGxhdGUtZm9vdGVyLWxpbmtdJyk7XG4gICAgXG4gICAgbGV0IGFjdGl2ZUNvbnRlbnRTZWN0aW9uID0gbnVsbDtcbiAgICBsZXQgaGVhZGVyRGF0YSA9IHsgbmF2OiBbXSwgbG9nbzoge30sIGN0YToge30sIHN0eWxlOiB7fSB9O1xuICAgIGxldCBmb290ZXJEYXRhID0geyBjb2x1bW5zOiBbXSwgc29jaWFsczoge30sIGNvcHlyaWdodDogJycsIGxlZ2FsOiB7fSwgc3R5bGU6IHt9IH07XG4gICAgXG4gICAgY29uc3Qgc2FmZVNpdGVTbHVnRm9yTGF5b3V0ID0gc3RyaXBMZWFkaW5nU2xhc2god29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyk7XG4gICAgY29uc3QgbGF5b3V0QXBpQmFzZSA9IHNhZmVTaXRlU2x1Z0ZvckxheW91dCA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Z0ZvckxheW91dCl9L2xheW91dGAgOiBudWxsO1xuICAgIFxuICAgIC8vIFZpZXcgc3dpdGNoaW5nXG4gICAgY29uc3Qgc2hvd0NvbnRlbnRWaWV3ID0gKHZpZXdOYW1lKSA9PiB7XG4gICAgICBPYmplY3QuZW50cmllcyhjb250ZW50Vmlld3MpLmZvckVhY2goKFtuYW1lLCBlbF0pID0+IHtcbiAgICAgICAgaWYgKGVsKSBlbC5jbGFzc0xpc3QudG9nZ2xlKCdoaWRkZW4nLCBuYW1lICE9PSB2aWV3TmFtZSk7XG4gICAgICB9KTtcbiAgICAgIGNvbnRlbnRTZWN0aW9uQnV0dG9ucy5mb3JFYWNoKGJ0biA9PiB7XG4gICAgICAgIGNvbnN0IHNlY3Rpb24gPSBidG4uZGF0YXNldC5jb250ZW50U2VjdGlvbjtcbiAgICAgICAgaWYgKHNlY3Rpb24gPT09IHZpZXdOYW1lKSB7XG4gICAgICAgICAgYnRuLmRhdGFzZXQuYWN0aXZlID0gJ3RydWUnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRlbGV0ZSBidG4uZGF0YXNldC5hY3RpdmU7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgYWN0aXZlQ29udGVudFNlY3Rpb24gPSB2aWV3TmFtZTtcbiAgICB9O1xuICAgIFxuICAgIC8vIERyYXdlciBtYW5hZ2VtZW50XG4gICAgY29uc3Qgb3BlbkNvbnRlbnREcmF3ZXIgPSAoKSA9PiB7XG4gICAgICBjb250ZW50RHJhd2VyPy5jbGFzc0xpc3QuYWRkKCdpcy1vcGVuJyk7XG4gICAgICBjb250ZW50RHJhd2VyICYmIChjb250ZW50RHJhd2VyLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVYKDApJyk7XG4gICAgICBjb250ZW50RHJhd2VyQmFja2Ryb3A/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICB9O1xuICAgIGNvbnN0IGNsb3NlQ29udGVudERyYXdlciA9ICgpID0+IHtcbiAgICAgIGNvbnRlbnREcmF3ZXI/LmNsYXNzTGlzdC5yZW1vdmUoJ2lzLW9wZW4nKTtcbiAgICAgIGNvbnRlbnREcmF3ZXIgJiYgKGNvbnRlbnREcmF3ZXIuc3R5bGUudHJhbnNmb3JtID0gJycpO1xuICAgICAgY29udGVudERyYXdlckJhY2tkcm9wPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnb3ZlcmZsb3ctaGlkZGVuJyk7XG4gICAgfTtcbiAgICBcbiAgICBjb250ZW50RHJhd2VyT3BlbkJ1dHRvbnMuZm9yRWFjaChidG4gPT4gYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlbkNvbnRlbnREcmF3ZXIpKTtcbiAgICBjb250ZW50RHJhd2VyQ2xvc2VCdXR0b25zLmZvckVhY2goYnRuID0+IGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlQ29udGVudERyYXdlcikpO1xuICAgIGNvbnRlbnREcmF3ZXJCYWNrZHJvcD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZUNvbnRlbnREcmF3ZXIpO1xuICAgIFxuICAgIC8vIFNlY3Rpb24gYnV0dG9uIGhhbmRsZXJzXG4gICAgY29udGVudFNlY3Rpb25CdXR0b25zLmZvckVhY2goYnRuID0+IHtcbiAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgY29uc3Qgc2VjdGlvbiA9IGJ0bi5kYXRhc2V0LmNvbnRlbnRTZWN0aW9uO1xuICAgICAgICBpZiAoc2VjdGlvbiA9PT0gJ2hlYWRlcicgfHwgc2VjdGlvbiA9PT0gJ2Zvb3RlcicpIHtcbiAgICAgICAgICBzaG93Q29udGVudFZpZXcoc2VjdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgY2xvc2VDb250ZW50RHJhd2VyKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBjb250ZW50U2VjdGlvblRyaWdnZXJzLmZvckVhY2goYnRuID0+IHtcbiAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgY29uc3Qgc2VjdGlvbiA9IGJ0bi5kYXRhc2V0LmNvbnRlbnRTZWN0aW9uVHJpZ2dlcjtcbiAgICAgICAgaWYgKHNlY3Rpb24pIHNob3dDb250ZW50VmlldyhzZWN0aW9uKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIFxuICAgIC8vIFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFxuICAgIC8vIEhFQURFUiBGVU5DVElPTlNcbiAgICAvLyBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcbiAgICBjb25zdCBhZGROYXZJdGVtID0gKGxhYmVsID0gJycsIHVybCA9ICcnKSA9PiB7XG4gICAgICBpZiAoIWhlYWRlck5hdkl0ZW1UZW1wbGF0ZSB8fCAhaGVhZGVyTmF2TGlzdCkgcmV0dXJuO1xuICAgICAgY29uc3QgY2xvbmUgPSBoZWFkZXJOYXZJdGVtVGVtcGxhdGUuY29udGVudC5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICBjb25zdCBpdGVtID0gY2xvbmUucXVlcnlTZWxlY3RvcignW2RhdGEtbmF2LWl0ZW1dJyk7XG4gICAgICBjb25zdCBsYWJlbElucHV0ID0gY2xvbmUucXVlcnlTZWxlY3RvcignW25hbWU9XCJuYXYtbGFiZWxcIl0nKTtcbiAgICAgIGNvbnN0IHVybElucHV0ID0gY2xvbmUucXVlcnlTZWxlY3RvcignW25hbWU9XCJuYXYtdXJsXCJdJyk7XG4gICAgICBjb25zdCByZW1vdmVCdG4gPSBjbG9uZS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1uYXYtcmVtb3ZlXScpO1xuICAgICAgaWYgKGxhYmVsSW5wdXQpIGxhYmVsSW5wdXQudmFsdWUgPSBsYWJlbDtcbiAgICAgIGlmICh1cmxJbnB1dCkgdXJsSW5wdXQudmFsdWUgPSB1cmw7XG4gICAgICByZW1vdmVCdG4/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gaXRlbT8ucmVtb3ZlKCkpO1xuICAgICAgaGVhZGVyTmF2TGlzdC5hcHBlbmRDaGlsZChjbG9uZSk7XG4gICAgfTtcbiAgICBcbiAgICBjb25zdCBjb2xsZWN0SGVhZGVyRGF0YSA9ICgpID0+IHtcbiAgICAgIGNvbnN0IG5hdiA9IFtdO1xuICAgICAgaGVhZGVyTmF2TGlzdD8ucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtbmF2LWl0ZW1dJykuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgY29uc3QgbGFiZWwgPSBpdGVtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwibmF2LWxhYmVsXCJdJyk/LnZhbHVlPy50cmltKCkgfHwgJyc7XG4gICAgICAgIGNvbnN0IHVybCA9IGl0ZW0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJuYXYtdXJsXCJdJyk/LnZhbHVlPy50cmltKCkgfHwgJyc7XG4gICAgICAgIGlmIChsYWJlbCB8fCB1cmwpIG5hdi5wdXNoKHsgbGFiZWwsIHVybCB9KTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbG9nbzoge1xuICAgICAgICAgIHNyYzogaGVhZGVyRmllbGRzLmxvZ28/LnZhbHVlPy50cmltKCkgfHwgJycsXG4gICAgICAgICAgYWx0OiBoZWFkZXJGaWVsZHMubG9nb0FsdD8udmFsdWU/LnRyaW0oKSB8fCAnJyxcbiAgICAgICAgICB1cmw6IGhlYWRlckZpZWxkcy5sb2dvVXJsPy52YWx1ZT8udHJpbSgpIHx8ICcvJyxcbiAgICAgICAgfSxcbiAgICAgICAgbmF2LFxuICAgICAgICBjdGE6IHtcbiAgICAgICAgICB0ZXh0OiBoZWFkZXJGaWVsZHMuY3RhVGV4dD8udmFsdWU/LnRyaW0oKSB8fCAnJyxcbiAgICAgICAgICB1cmw6IGhlYWRlckZpZWxkcy5jdGFVcmw/LnZhbHVlPy50cmltKCkgfHwgJycsXG4gICAgICAgICAgc3R5bGU6IGhlYWRlckZpZWxkcy5jdGFTdHlsZT8udmFsdWUgfHwgJ3ByaW1hcnknLFxuICAgICAgICB9LFxuICAgICAgICBzdHlsZToge1xuICAgICAgICAgIHBvc2l0aW9uOiBoZWFkZXJGaWVsZHMucG9zaXRpb24/LnZhbHVlIHx8ICdzdGF0aWMnLFxuICAgICAgICAgIGJnOiBoZWFkZXJGaWVsZHMuYmc/LnZhbHVlIHx8ICdiZy13aGl0ZScsXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgIH07XG4gICAgXG4gICAgY29uc3QgcG9wdWxhdGVIZWFkZXJGb3JtID0gKGRhdGEpID0+IHtcbiAgICAgIGlmICghZGF0YSkgcmV0dXJuO1xuICAgICAgaWYgKGhlYWRlckZpZWxkcy5sb2dvKSBoZWFkZXJGaWVsZHMubG9nby52YWx1ZSA9IGRhdGEubG9nbz8uc3JjIHx8ICcnO1xuICAgICAgaWYgKGhlYWRlckZpZWxkcy5sb2dvQWx0KSBoZWFkZXJGaWVsZHMubG9nb0FsdC52YWx1ZSA9IGRhdGEubG9nbz8uYWx0IHx8ICcnO1xuICAgICAgaWYgKGhlYWRlckZpZWxkcy5sb2dvVXJsKSBoZWFkZXJGaWVsZHMubG9nb1VybC52YWx1ZSA9IGRhdGEubG9nbz8udXJsIHx8ICcvJztcbiAgICAgIGlmIChoZWFkZXJGaWVsZHMuY3RhVGV4dCkgaGVhZGVyRmllbGRzLmN0YVRleHQudmFsdWUgPSBkYXRhLmN0YT8udGV4dCB8fCAnJztcbiAgICAgIGlmIChoZWFkZXJGaWVsZHMuY3RhVXJsKSBoZWFkZXJGaWVsZHMuY3RhVXJsLnZhbHVlID0gZGF0YS5jdGE/LnVybCB8fCAnJztcbiAgICAgIGlmIChoZWFkZXJGaWVsZHMuY3RhU3R5bGUpIGhlYWRlckZpZWxkcy5jdGFTdHlsZS52YWx1ZSA9IGRhdGEuY3RhPy5zdHlsZSB8fCAncHJpbWFyeSc7XG4gICAgICBpZiAoaGVhZGVyRmllbGRzLnBvc2l0aW9uKSBoZWFkZXJGaWVsZHMucG9zaXRpb24udmFsdWUgPSBkYXRhLnN0eWxlPy5wb3NpdGlvbiB8fCAnc3RhdGljJztcbiAgICAgIGlmIChoZWFkZXJGaWVsZHMuYmcpIGhlYWRlckZpZWxkcy5iZy52YWx1ZSA9IGRhdGEuc3R5bGU/LmJnIHx8ICdiZy13aGl0ZSc7XG4gICAgICAvLyBQb3B1bGF0ZSBuYXYgaXRlbXNcbiAgICAgIGlmIChoZWFkZXJOYXZMaXN0KSBoZWFkZXJOYXZMaXN0LmlubmVySFRNTCA9ICcnO1xuICAgICAgKGRhdGEubmF2IHx8IFtdKS5mb3JFYWNoKGl0ZW0gPT4gYWRkTmF2SXRlbShpdGVtLmxhYmVsLCBpdGVtLnVybCkpO1xuICAgICAgLy8gVXBkYXRlIHN0YXR1cyBpbmRpY2F0b3JcbiAgICAgIGNvbnN0IGhhc0RhdGEgPSBkYXRhLmxvZ28/LnNyYyB8fCBkYXRhLm5hdj8ubGVuZ3RoID4gMCB8fCBkYXRhLmN0YT8udGV4dDtcbiAgICAgIGlmIChoZWFkZXJTdGF0dXNJbmRpY2F0b3IpIHtcbiAgICAgICAgaGVhZGVyU3RhdHVzSW5kaWNhdG9yLmNsYXNzTGlzdC50b2dnbGUoJ2JnLWdyZWVuLTUwMCcsICEhaGFzRGF0YSk7XG4gICAgICAgIGhlYWRlclN0YXR1c0luZGljYXRvci5jbGFzc0xpc3QudG9nZ2xlKCdiZy1zbGF0ZS0zMDAnLCAhaGFzRGF0YSk7XG4gICAgICAgIGhlYWRlclN0YXR1c0luZGljYXRvci50aXRsZSA9IGhhc0RhdGEgPyAnQ29uZmlndXJcdTAwRTknIDogJ05vbiBjb25maWd1clx1MDBFOSc7XG4gICAgICB9XG4gICAgfTtcbiAgICBcbiAgICBoZWFkZXJOYXZBZGRCdG4/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gYWRkTmF2SXRlbSgpKTtcbiAgICBcbiAgICBoZWFkZXJTYXZlQnRuPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghbGF5b3V0QXBpQmFzZSkgcmV0dXJuO1xuICAgICAgaGVhZGVyU2F2ZUJ0bi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICBoZWFkZXJTYXZlQnRuLnRleHRDb250ZW50ID0gJ0VucmVnaXN0cmVtZW50Li4uJztcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBjb2xsZWN0SGVhZGVyRGF0YSgpO1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke2xheW91dEFwaUJhc2V9L2hlYWRlcmAsIHtcbiAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZScsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB0aHJvdyBuZXcgRXJyb3IoJ0VycmV1ciBzZXJ2ZXVyJyk7XG4gICAgICAgIGhlYWRlckRhdGEgPSBkYXRhO1xuICAgICAgICBwb3B1bGF0ZUhlYWRlckZvcm0oZGF0YSk7XG4gICAgICAgIHNob3dUb2FzdCgnSGVhZGVyIGVucmVnaXN0clx1MDBFOScpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1toZWFkZXJdIHNhdmUgZXJyb3InLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoJ0VycmV1ciBsb3JzIGRlIGxcXCdlbnJlZ2lzdHJlbWVudCcsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaGVhZGVyU2F2ZUJ0bi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICBoZWFkZXJTYXZlQnRuLnRleHRDb250ZW50ID0gJ0VucmVnaXN0cmVyJztcbiAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICAvLyBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcbiAgICAvLyBGT09URVIgRlVOQ1RJT05TXG4gICAgLy8gXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXG4gICAgY29uc3QgYWRkRm9vdGVyTGluayA9IChjb250YWluZXIsIGxhYmVsID0gJycsIHVybCA9ICcnKSA9PiB7XG4gICAgICBpZiAoIWZvb3RlckxpbmtUZW1wbGF0ZSB8fCAhY29udGFpbmVyKSByZXR1cm47XG4gICAgICBjb25zdCBjbG9uZSA9IGZvb3RlckxpbmtUZW1wbGF0ZS5jb250ZW50LmNsb25lTm9kZSh0cnVlKTtcbiAgICAgIGNvbnN0IGl0ZW0gPSBjbG9uZS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1mb290ZXItbGlua10nKTtcbiAgICAgIGNvbnN0IGxhYmVsSW5wdXQgPSBjbG9uZS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImxpbmstbGFiZWxcIl0nKTtcbiAgICAgIGNvbnN0IHVybElucHV0ID0gY2xvbmUucXVlcnlTZWxlY3RvcignW25hbWU9XCJsaW5rLXVybFwiXScpO1xuICAgICAgY29uc3QgcmVtb3ZlQnRuID0gY2xvbmUucXVlcnlTZWxlY3RvcignW2RhdGEtbGluay1yZW1vdmVdJyk7XG4gICAgICBpZiAobGFiZWxJbnB1dCkgbGFiZWxJbnB1dC52YWx1ZSA9IGxhYmVsO1xuICAgICAgaWYgKHVybElucHV0KSB1cmxJbnB1dC52YWx1ZSA9IHVybDtcbiAgICAgIHJlbW92ZUJ0bj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBpdGVtPy5yZW1vdmUoKSk7XG4gICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoY2xvbmUpO1xuICAgIH07XG4gICAgXG4gICAgY29uc3QgYWRkRm9vdGVyQ29sdW1uID0gKHRpdGxlID0gJycsIGxpbmtzID0gW10pID0+IHtcbiAgICAgIGlmICghZm9vdGVyQ29sdW1uVGVtcGxhdGUgfHwgIWZvb3RlckNvbHVtbnNMaXN0KSByZXR1cm47XG4gICAgICBjb25zdCBjbG9uZSA9IGZvb3RlckNvbHVtblRlbXBsYXRlLmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpO1xuICAgICAgY29uc3QgY29sdW1uID0gY2xvbmUucXVlcnlTZWxlY3RvcignW2RhdGEtZm9vdGVyLWNvbHVtbl0nKTtcbiAgICAgIGNvbnN0IHRpdGxlSW5wdXQgPSBjbG9uZS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImNvbHVtbi10aXRsZVwiXScpO1xuICAgICAgY29uc3QgbGlua3NDb250YWluZXIgPSBjbG9uZS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2x1bW4tbGlua3NdJyk7XG4gICAgICBjb25zdCBhZGRMaW5rQnRuID0gY2xvbmUucXVlcnlTZWxlY3RvcignW2RhdGEtY29sdW1uLWxpbmstYWRkXScpO1xuICAgICAgY29uc3QgcmVtb3ZlQnRuID0gY2xvbmUucXVlcnlTZWxlY3RvcignW2RhdGEtY29sdW1uLXJlbW92ZV0nKTtcbiAgICAgIGlmICh0aXRsZUlucHV0KSB0aXRsZUlucHV0LnZhbHVlID0gdGl0bGU7XG4gICAgICBsaW5rcy5mb3JFYWNoKGxpbmsgPT4gYWRkRm9vdGVyTGluayhsaW5rc0NvbnRhaW5lciwgbGluay5sYWJlbCwgbGluay51cmwpKTtcbiAgICAgIGFkZExpbmtCdG4/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gYWRkRm9vdGVyTGluayhsaW5rc0NvbnRhaW5lcikpO1xuICAgICAgcmVtb3ZlQnRuPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGNvbHVtbj8ucmVtb3ZlKCkpO1xuICAgICAgZm9vdGVyQ29sdW1uc0xpc3QuYXBwZW5kQ2hpbGQoY2xvbmUpO1xuICAgIH07XG4gICAgXG4gICAgY29uc3QgY29sbGVjdEZvb3RlckRhdGEgPSAoKSA9PiB7XG4gICAgICBjb25zdCBjb2x1bW5zID0gW107XG4gICAgICBmb290ZXJDb2x1bW5zTGlzdD8ucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtZm9vdGVyLWNvbHVtbl0nKS5mb3JFYWNoKGNvbCA9PiB7XG4gICAgICAgIGNvbnN0IHRpdGxlID0gY29sLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiY29sdW1uLXRpdGxlXCJdJyk/LnZhbHVlPy50cmltKCkgfHwgJyc7XG4gICAgICAgIGNvbnN0IGxpbmtzID0gW107XG4gICAgICAgIGNvbC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1mb290ZXItbGlua10nKS5mb3JFYWNoKGxpbmtFbCA9PiB7XG4gICAgICAgICAgY29uc3QgbGFiZWwgPSBsaW5rRWwucXVlcnlTZWxlY3RvcignW25hbWU9XCJsaW5rLWxhYmVsXCJdJyk/LnZhbHVlPy50cmltKCkgfHwgJyc7XG4gICAgICAgICAgY29uc3QgdXJsID0gbGlua0VsLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwibGluay11cmxcIl0nKT8udmFsdWU/LnRyaW0oKSB8fCAnJztcbiAgICAgICAgICBpZiAobGFiZWwgfHwgdXJsKSBsaW5rcy5wdXNoKHsgbGFiZWwsIHVybCB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh0aXRsZSB8fCBsaW5rcy5sZW5ndGggPiAwKSBjb2x1bW5zLnB1c2goeyB0aXRsZSwgbGlua3MgfSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNvbHVtbnMsXG4gICAgICAgIHNvY2lhbHM6IHtcbiAgICAgICAgICBsaW5rZWRpbjogZm9vdGVyRmllbGRzLmxpbmtlZGluPy52YWx1ZT8udHJpbSgpIHx8ICcnLFxuICAgICAgICAgIHR3aXR0ZXI6IGZvb3RlckZpZWxkcy50d2l0dGVyPy52YWx1ZT8udHJpbSgpIHx8ICcnLFxuICAgICAgICAgIGluc3RhZ3JhbTogZm9vdGVyRmllbGRzLmluc3RhZ3JhbT8udmFsdWU/LnRyaW0oKSB8fCAnJyxcbiAgICAgICAgICBmYWNlYm9vazogZm9vdGVyRmllbGRzLmZhY2Vib29rPy52YWx1ZT8udHJpbSgpIHx8ICcnLFxuICAgICAgICAgIHlvdXR1YmU6IGZvb3RlckZpZWxkcy55b3V0dWJlPy52YWx1ZT8udHJpbSgpIHx8ICcnLFxuICAgICAgICAgIGdpdGh1YjogZm9vdGVyRmllbGRzLmdpdGh1Yj8udmFsdWU/LnRyaW0oKSB8fCAnJyxcbiAgICAgICAgfSxcbiAgICAgICAgY29weXJpZ2h0OiBmb290ZXJGaWVsZHMuY29weXJpZ2h0Py52YWx1ZT8udHJpbSgpIHx8ICcnLFxuICAgICAgICBsZWdhbDoge1xuICAgICAgICAgIHVybDogZm9vdGVyRmllbGRzLmxlZ2FsVXJsPy52YWx1ZT8udHJpbSgpIHx8ICcnLFxuICAgICAgICAgIHByaXZhY3lVcmw6IGZvb3RlckZpZWxkcy5wcml2YWN5VXJsPy52YWx1ZT8udHJpbSgpIHx8ICcnLFxuICAgICAgICB9LFxuICAgICAgICBzdHlsZToge1xuICAgICAgICAgIGJnOiBmb290ZXJGaWVsZHMuYmc/LnZhbHVlIHx8ICdiZy1zbGF0ZS05MDAgdGV4dC13aGl0ZScsXG4gICAgICAgICAgY29sdW1uc0NvdW50OiBmb290ZXJGaWVsZHMuY29sdW1uc0NvdW50Py52YWx1ZSB8fCAnNCcsXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgIH07XG4gICAgXG4gICAgY29uc3QgcG9wdWxhdGVGb290ZXJGb3JtID0gKGRhdGEpID0+IHtcbiAgICAgIGlmICghZGF0YSkgcmV0dXJuO1xuICAgICAgaWYgKGZvb3RlckZpZWxkcy5saW5rZWRpbikgZm9vdGVyRmllbGRzLmxpbmtlZGluLnZhbHVlID0gZGF0YS5zb2NpYWxzPy5saW5rZWRpbiB8fCAnJztcbiAgICAgIGlmIChmb290ZXJGaWVsZHMudHdpdHRlcikgZm9vdGVyRmllbGRzLnR3aXR0ZXIudmFsdWUgPSBkYXRhLnNvY2lhbHM/LnR3aXR0ZXIgfHwgJyc7XG4gICAgICBpZiAoZm9vdGVyRmllbGRzLmluc3RhZ3JhbSkgZm9vdGVyRmllbGRzLmluc3RhZ3JhbS52YWx1ZSA9IGRhdGEuc29jaWFscz8uaW5zdGFncmFtIHx8ICcnO1xuICAgICAgaWYgKGZvb3RlckZpZWxkcy5mYWNlYm9vaykgZm9vdGVyRmllbGRzLmZhY2Vib29rLnZhbHVlID0gZGF0YS5zb2NpYWxzPy5mYWNlYm9vayB8fCAnJztcbiAgICAgIGlmIChmb290ZXJGaWVsZHMueW91dHViZSkgZm9vdGVyRmllbGRzLnlvdXR1YmUudmFsdWUgPSBkYXRhLnNvY2lhbHM/LnlvdXR1YmUgfHwgJyc7XG4gICAgICBpZiAoZm9vdGVyRmllbGRzLmdpdGh1YikgZm9vdGVyRmllbGRzLmdpdGh1Yi52YWx1ZSA9IGRhdGEuc29jaWFscz8uZ2l0aHViIHx8ICcnO1xuICAgICAgaWYgKGZvb3RlckZpZWxkcy5jb3B5cmlnaHQpIGZvb3RlckZpZWxkcy5jb3B5cmlnaHQudmFsdWUgPSBkYXRhLmNvcHlyaWdodCB8fCAnJztcbiAgICAgIGlmIChmb290ZXJGaWVsZHMubGVnYWxVcmwpIGZvb3RlckZpZWxkcy5sZWdhbFVybC52YWx1ZSA9IGRhdGEubGVnYWw/LnVybCB8fCAnJztcbiAgICAgIGlmIChmb290ZXJGaWVsZHMucHJpdmFjeVVybCkgZm9vdGVyRmllbGRzLnByaXZhY3lVcmwudmFsdWUgPSBkYXRhLmxlZ2FsPy5wcml2YWN5VXJsIHx8ICcnO1xuICAgICAgaWYgKGZvb3RlckZpZWxkcy5iZykgZm9vdGVyRmllbGRzLmJnLnZhbHVlID0gZGF0YS5zdHlsZT8uYmcgfHwgJ2JnLXNsYXRlLTkwMCB0ZXh0LXdoaXRlJztcbiAgICAgIGlmIChmb290ZXJGaWVsZHMuY29sdW1uc0NvdW50KSBmb290ZXJGaWVsZHMuY29sdW1uc0NvdW50LnZhbHVlID0gZGF0YS5zdHlsZT8uY29sdW1uc0NvdW50IHx8ICc0JztcbiAgICAgIC8vIFBvcHVsYXRlIGNvbHVtbnNcbiAgICAgIGlmIChmb290ZXJDb2x1bW5zTGlzdCkgZm9vdGVyQ29sdW1uc0xpc3QuaW5uZXJIVE1MID0gJyc7XG4gICAgICAoZGF0YS5jb2x1bW5zIHx8IFtdKS5mb3JFYWNoKGNvbCA9PiBhZGRGb290ZXJDb2x1bW4oY29sLnRpdGxlLCBjb2wubGlua3MpKTtcbiAgICAgIC8vIFVwZGF0ZSBzdGF0dXMgaW5kaWNhdG9yXG4gICAgICBjb25zdCBoYXNEYXRhID0gZGF0YS5jb2x1bW5zPy5sZW5ndGggPiAwIHx8IGRhdGEuY29weXJpZ2h0IHx8IE9iamVjdC52YWx1ZXMoZGF0YS5zb2NpYWxzIHx8IHt9KS5zb21lKHYgPT4gdik7XG4gICAgICBpZiAoZm9vdGVyU3RhdHVzSW5kaWNhdG9yKSB7XG4gICAgICAgIGZvb3RlclN0YXR1c0luZGljYXRvci5jbGFzc0xpc3QudG9nZ2xlKCdiZy1ncmVlbi01MDAnLCAhIWhhc0RhdGEpO1xuICAgICAgICBmb290ZXJTdGF0dXNJbmRpY2F0b3IuY2xhc3NMaXN0LnRvZ2dsZSgnYmctc2xhdGUtMzAwJywgIWhhc0RhdGEpO1xuICAgICAgICBmb290ZXJTdGF0dXNJbmRpY2F0b3IudGl0bGUgPSBoYXNEYXRhID8gJ0NvbmZpZ3VyXHUwMEU5JyA6ICdOb24gY29uZmlndXJcdTAwRTknO1xuICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgZm9vdGVyQ29sdW1uQWRkQnRuPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGFkZEZvb3RlckNvbHVtbigpKTtcbiAgICBcbiAgICBmb290ZXJTYXZlQnRuPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghbGF5b3V0QXBpQmFzZSkgcmV0dXJuO1xuICAgICAgZm9vdGVyU2F2ZUJ0bi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICBmb290ZXJTYXZlQnRuLnRleHRDb250ZW50ID0gJ0VucmVnaXN0cmVtZW50Li4uJztcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBjb2xsZWN0Rm9vdGVyRGF0YSgpO1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke2xheW91dEFwaUJhc2V9L2Zvb3RlcmAsIHtcbiAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZScsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB0aHJvdyBuZXcgRXJyb3IoJ0VycmV1ciBzZXJ2ZXVyJyk7XG4gICAgICAgIGZvb3RlckRhdGEgPSBkYXRhO1xuICAgICAgICBwb3B1bGF0ZUZvb3RlckZvcm0oZGF0YSk7XG4gICAgICAgIHNob3dUb2FzdCgnRm9vdGVyIGVucmVnaXN0clx1MDBFOScpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tmb290ZXJdIHNhdmUgZXJyb3InLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoJ0VycmV1ciBsb3JzIGRlIGxcXCdlbnJlZ2lzdHJlbWVudCcsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgZm9vdGVyU2F2ZUJ0bi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICBmb290ZXJTYXZlQnRuLnRleHRDb250ZW50ID0gJ0VucmVnaXN0cmVyJztcbiAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICAvLyBMb2FkIGxheW91dCBkYXRhIG9uIGluaXRcbiAgICBjb25zdCBsb2FkTGF5b3V0RGF0YSA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghbGF5b3V0QXBpQmFzZSkgcmV0dXJuO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChsYXlvdXRBcGlCYXNlLCB7IGNyZWRlbnRpYWxzOiAnaW5jbHVkZScgfSk7XG4gICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgaWYgKGRhdGEuaGVhZGVyKSB7XG4gICAgICAgICAgICBoZWFkZXJEYXRhID0gZGF0YS5oZWFkZXI7XG4gICAgICAgICAgICBwb3B1bGF0ZUhlYWRlckZvcm0oZGF0YS5oZWFkZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZGF0YS5mb290ZXIpIHtcbiAgICAgICAgICAgIGZvb3RlckRhdGEgPSBkYXRhLmZvb3RlcjtcbiAgICAgICAgICAgIHBvcHVsYXRlRm9vdGVyRm9ybShkYXRhLmZvb3Rlcik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2xheW91dF0gbG9hZCBlcnJvcicsIGVycik7XG4gICAgICB9XG4gICAgfTtcbiAgICBcbiAgICAvLyBJbml0aWFsaXplIGxheW91dCBkYXRhXG4gICAgbG9hZExheW91dERhdGEoKTtcbiAgICBcbiAgICAvLyBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcbiAgICAvLyBDT0xMRUNUSU9OUyAoZXhpc3RpbmcgY29kZSBjb250aW51ZXMgYmVsb3cpXG4gICAgLy8gXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXG4gICAgXG4gICAgY29uc3QgY29sbGVjdGlvbkVtcHR5U3RhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xsZWN0aW9uLWVtcHR5XScpO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25JdGVtc0VtcHR5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29sbGVjdGlvbi1pdGVtcy1lbXB0eV0nKTtcbiAgICBjb25zdCBpdGVtVGFibGVXcmFwcGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS10YWJsZS13cmFwcGVyXScpO1xuICAgIGNvbnN0IGl0ZW1UYWJsZUJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLXRhYmxlLWJvZHldJyk7XG4gICAgY29uc3QgY29sbGVjdGlvblRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29sbGVjdGlvbi10aXRsZV0nKTtcbiAgICBjb25zdCBjb2xsZWN0aW9uRGVzY3JpcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xsZWN0aW9uLWRlc2NyaXB0aW9uXScpO1xuICAgIGNvbnN0IGl0ZW1BZGRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLWFkZF0nKTtcbiAgICBjb25zdCBpdGVtRGV0YWlsRW1wdHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLWRldGFpbC1lbXB0eV0nKTtcbiAgICBjb25zdCBpdGVtRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tZm9ybV0nKTtcbiAgICBjb25zdCBpdGVtRm9ybUZpZWxkcyA9IGl0ZW1Gb3JtXG4gICAgICA/IHtcbiAgICAgICAgICB0aXRsZTogaXRlbUZvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJpdGVtLXRpdGxlXCJdJyksXG4gICAgICAgICAgc2x1ZzogaXRlbUZvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJpdGVtLXNsdWdcIl0nKSxcbiAgICAgICAgICBleGNlcnB0OiBpdGVtRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cIml0ZW0tZXhjZXJwdFwiXScpLFxuICAgICAgICAgIGNvbnRlbnQ6IGl0ZW1Gb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaXRlbS1jb250ZW50XCJdJyksXG4gICAgICAgICAgaW1hZ2U6IGl0ZW1Gb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaXRlbS1pbWFnZVwiXScpLFxuICAgICAgICAgIGN0YVRleHQ6IGl0ZW1Gb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaXRlbS1jdGEtdGV4dFwiXScpLFxuICAgICAgICAgIGN0YVVybDogaXRlbUZvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJpdGVtLWN0YS11cmxcIl0nKSxcbiAgICAgICAgICBzdGF0dXM6IGl0ZW1Gb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaXRlbS1zdGF0dXNcIl0nKSxcbiAgICAgICAgfVxuICAgICAgOiB7fTtcbiAgICBjb25zdCBpdGVtU3RhdHVzQmFkZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLXN0YXR1cy1iYWRnZV0nKTtcbiAgICBjb25zdCBpdGVtRGVsZXRlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS1kZWxldGVdJyk7XG4gICAgY29uc3QgaXRlbURlbGV0ZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS1kZWxldGUtbW9kYWxdJyk7XG4gICAgY29uc3QgaXRlbURlbGV0ZUNhbmNlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tZGVsZXRlLWNhbmNlbF0nKTtcbiAgICBjb25zdCBpdGVtRGVsZXRlQ29uZmlybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tZGVsZXRlLWNvbmZpcm1dJyk7XG4gICAgY29uc3QgaXRlbUZvcm1DYW5jZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLWNhbmNlbF0nKTtcbiAgICBjb25zdCBpdGVtRm9ybVNhdmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLXNhdmVdJyk7XG4gICAgY29uc3Qgc3RhdHVzQmFkZ2VCYXNlQ2xhc3MgPSAncm91bmRlZC1mdWxsIHB4LTMgcHktMSB0ZXh0LXhzIGZvbnQtc2VtaWJvbGQnO1xuXG4gICAgY29uc3Qgc2FmZVNpdGVTbHVnVmFsdWUgPSBzdHJpcExlYWRpbmdTbGFzaChcbiAgICAgIHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJycsXG4gICAgKTtcbiAgICBjb25zdCBjb2xsZWN0aW9uc0FwaUJhc2UgPSBzYWZlU2l0ZVNsdWdWYWx1ZVxuICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWdWYWx1ZSl9L2NvbGxlY3Rpb25zYFxuICAgICAgOiBudWxsO1xuXG4gICAgbGV0IGNvbGxlY3Rpb25zID0gW107XG4gICAgbGV0IGNvbGxlY3Rpb25JdGVtcyA9IFtdO1xuICAgIGxldCBhY3RpdmVDb2xsZWN0aW9uSWQgPSBudWxsO1xuICAgIGxldCBhY3RpdmVJdGVtSWQgPSBudWxsO1xuICAgIGxldCBpc0NyZWF0aW5nSXRlbSA9IGZhbHNlO1xuICAgIGxldCBpdGVtU2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gICAgbGV0IHBlbmRpbmdEZWxldGVJdGVtSWQgPSBudWxsO1xuXG4gICAgY29uc3Qgbm9ybWFsaXplSXRlbVNsdWdJbnB1dCA9ICh2YWx1ZSkgPT4ge1xuICAgICAgY29uc3QgcmF3ID0gKHZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICBpZiAoIXJhdykge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgICB9XG4gICAgICBpZiAocmF3ID09PSAnLycpIHtcbiAgICAgICAgcmV0dXJuICcvJztcbiAgICAgIH1cbiAgICAgIGNvbnN0IHNlZ21lbnRzID0gcmF3LnJlcGxhY2UoL15cXC8vLCAnJykuc3BsaXQoJy8nKTtcbiAgICAgIGNvbnN0IGNsZWFuZWRTZWdtZW50cyA9IHNlZ21lbnRzXG4gICAgICAgIC5tYXAoKHNlZ21lbnQpID0+IHdvcmtzcGFjZVNsdWdpZnkoc2VnbWVudCB8fCAnJykpXG4gICAgICAgIC5maWx0ZXIoKHNlZ21lbnQpID0+IHNlZ21lbnQubGVuZ3RoID4gMCk7XG4gICAgICBpZiAoIWNsZWFuZWRTZWdtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGAvJHtjbGVhbmVkU2VnbWVudHMuam9pbignLycpfWA7XG4gICAgfTtcblxuICAgIGNvbnN0IGZvcm1hdEl0ZW1EYXRlID0gKHZhbHVlKSA9PiB7XG4gICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgIHJldHVybiAnXHUyMDE0JztcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSh2YWx1ZSk7XG4gICAgICBpZiAoTnVtYmVyLmlzTmFOKGRhdGUuZ2V0VGltZSgpKSkge1xuICAgICAgICByZXR1cm4gJ1x1MjAxNCc7XG4gICAgICB9XG4gICAgICByZXR1cm4gZGF0ZS50b0xvY2FsZURhdGVTdHJpbmcoJ2ZyLUZSJywgeyBkYXk6ICcyLWRpZ2l0JywgbW9udGg6ICdzaG9ydCcsIHllYXI6ICdudW1lcmljJyB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgdXBkYXRlQ29sbGVjdGlvbkhlYWRlciA9ICgpID0+IHtcbiAgICAgIGNvbnN0IGNvbGxlY3Rpb24gPSBjb2xsZWN0aW9ucy5maW5kKChlbnRyeSkgPT4gZW50cnkuaWQgPT09IGFjdGl2ZUNvbGxlY3Rpb25JZCk7XG4gICAgICBpZiAoY29sbGVjdGlvblRpdGxlKSB7XG4gICAgICAgIGNvbGxlY3Rpb25UaXRsZS50ZXh0Q29udGVudCA9IGNvbGxlY3Rpb24/Lm5hbWUgfHwgJ1NcdTAwRTlsZWN0aW9ubmV6IHVuZSBjb2xsZWN0aW9uJztcbiAgICAgIH1cbiAgICAgIGlmIChjb2xsZWN0aW9uRGVzY3JpcHRpb24pIHtcbiAgICAgICAgY29sbGVjdGlvbkRlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gY29sbGVjdGlvbj8uZGVzY3JpcHRpb24gfHwgJyc7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHVwZGF0ZUl0ZW1zRW1wdHlNZXNzYWdlID0gKG1lc3NhZ2UpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvbkl0ZW1zRW1wdHkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29sbGVjdGlvbkl0ZW1zRW1wdHkudGV4dENvbnRlbnQgPVxuICAgICAgICBtZXNzYWdlIHx8XG4gICAgICAgIChhY3RpdmVDb2xsZWN0aW9uSWRcbiAgICAgICAgICA/ICdBdWN1biBpdGVtIGRhbnMgY2V0dGUgY29sbGVjdGlvbiBwb3VyIGxlIG1vbWVudC4nXG4gICAgICAgICAgOiAnQ2hvaXNpc3NleiB1bmUgY29sbGVjdGlvbiBkYW5zIGxlIHBhbm5lYXUgZGUgZ2F1Y2hlLicpO1xuICAgIH07XG5cbiAgICBjb25zdCBoaWRlSXRlbUZvcm0gPSAoKSA9PiB7XG4gICAgICBpZiAoaXRlbUZvcm0pIHtcbiAgICAgICAgaXRlbUZvcm0uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIGl0ZW1Gb3JtLmRhdGFzZXQuaXRlbUlkID0gJyc7XG4gICAgICB9XG4gICAgICBpdGVtRGV0YWlsRW1wdHk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgaWYgKGl0ZW1TdGF0dXNCYWRnZSkge1xuICAgICAgICBpdGVtU3RhdHVzQmFkZ2UuY2xhc3NOYW1lID0gYGhpZGRlbiAke3N0YXR1c0JhZGdlQmFzZUNsYXNzfWA7XG4gICAgICAgIGl0ZW1TdGF0dXNCYWRnZS50ZXh0Q29udGVudCA9ICcnO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1EZWxldGVCdXR0b24pIHtcbiAgICAgICAgaXRlbURlbGV0ZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHNob3dJdGVtRm9ybSA9ICgpID0+IHtcbiAgICAgIGlmICghaXRlbUZvcm0pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaXRlbUZvcm0uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBpdGVtRGV0YWlsRW1wdHk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgIH07XG5cbiAgICBjb25zdCBzeW5jQWRkQnV0dG9uU3RhdGUgPSAoKSA9PiB7XG4gICAgICBpZiAoIWl0ZW1BZGRCdXR0b24pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaXRlbUFkZEJ1dHRvbi5kaXNhYmxlZCA9ICFhY3RpdmVDb2xsZWN0aW9uSWQ7XG4gICAgICBpZiAoaXRlbUFkZEJ1dHRvbi5kaXNhYmxlZCkge1xuICAgICAgICBpdGVtQWRkQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ29wYWNpdHktNjAnLCAncG9pbnRlci1ldmVudHMtbm9uZScpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaXRlbUFkZEJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdvcGFjaXR5LTYwJywgJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3Qgc3luY0l0ZW1TdGF0dXNCYWRnZSA9IChzdGF0dXMpID0+IHtcbiAgICAgIGlmICghaXRlbVN0YXR1c0JhZGdlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghc3RhdHVzKSB7XG4gICAgICAgIGl0ZW1TdGF0dXNCYWRnZS5jbGFzc05hbWUgPSBgaGlkZGVuICR7c3RhdHVzQmFkZ2VCYXNlQ2xhc3N9YDtcbiAgICAgICAgaXRlbVN0YXR1c0JhZGdlLnRleHRDb250ZW50ID0gJyc7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBzdGF0dXMudG9Mb3dlckNhc2UoKTtcbiAgICAgIGxldCBjb2xvckNsYXNzID0gJ2JnLXNsYXRlLTEwMCB0ZXh0LXNsYXRlLTYwMCBib3JkZXIgYm9yZGVyLXNsYXRlLTIwMCc7XG4gICAgICBpZiAobm9ybWFsaXplZCA9PT0gJ3B1YmxpXHUwMEU5JyB8fCBub3JtYWxpemVkID09PSAncHVibGllJykge1xuICAgICAgICBjb2xvckNsYXNzID0gJ2JnLWVtZXJhbGQtNTAgdGV4dC1lbWVyYWxkLTcwMCBib3JkZXIgYm9yZGVyLWVtZXJhbGQtMTAwJztcbiAgICAgIH0gZWxzZSBpZiAobm9ybWFsaXplZCA9PT0gJ2Jyb3VpbGxvbicpIHtcbiAgICAgICAgY29sb3JDbGFzcyA9ICdiZy1hbWJlci01MCB0ZXh0LWFtYmVyLTcwMCBib3JkZXIgYm9yZGVyLWFtYmVyLTEwMCc7XG4gICAgICB9XG4gICAgICBpdGVtU3RhdHVzQmFkZ2UuY2xhc3NOYW1lID0gYCR7c3RhdHVzQmFkZ2VCYXNlQ2xhc3N9ICR7Y29sb3JDbGFzc31gO1xuICAgICAgaXRlbVN0YXR1c0JhZGdlLnRleHRDb250ZW50ID0gc3RhdHVzO1xuICAgIH07XG5cbiAgICBjb25zdCByZW5kZXJDb2xsZWN0aW9uTGlzdCA9ICgpID0+IHtcbiAgICAgIGNvbGxlY3Rpb25MaXN0LmlubmVySFRNTCA9ICcnO1xuICAgICAgLy8gVXBkYXRlIGNvbGxlY3Rpb24gY291bnRcbiAgICAgIGlmIChjb2xsZWN0aW9uQ291bnRFbCkgY29sbGVjdGlvbkNvdW50RWwudGV4dENvbnRlbnQgPSBjb2xsZWN0aW9ucy5sZW5ndGg7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25zLmxlbmd0aCkge1xuICAgICAgICBjb2xsZWN0aW9uRW1wdHlTdGF0ZT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbGxlY3Rpb25FbXB0eVN0YXRlPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGNvbGxlY3Rpb25zLmZvckVhY2goKGNvbGxlY3Rpb24pID0+IHtcbiAgICAgICAgY29uc3QgaXNBY3RpdmUgPSBjb2xsZWN0aW9uLmlkID09PSBhY3RpdmVDb2xsZWN0aW9uSWQ7XG4gICAgICAgIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICBidXR0b24udHlwZSA9ICdidXR0b24nO1xuICAgICAgICBidXR0b24uZGF0YXNldC5jb2xsZWN0aW9uSWQgPSBjb2xsZWN0aW9uLmlkO1xuICAgICAgICBidXR0b24uY2xhc3NOYW1lID0gW1xuICAgICAgICAgICd3LWZ1bGwgcm91bmRlZC14bCBib3JkZXIgcHgtMyBweS0yIHRleHQtbGVmdCB0cmFuc2l0aW9uIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1bIzlDNkJGRl0vNDAnLFxuICAgICAgICAgIGlzQWN0aXZlXG4gICAgICAgICAgICA/ICdiZy1bI0Y3RjBGRl0gYm9yZGVyLVsjOUM2QkZGXS80MCB0ZXh0LXNsYXRlLTkwMCdcbiAgICAgICAgICAgIDogJ2JvcmRlci1zbGF0ZS0yMDAgdGV4dC1zbGF0ZS03MDAgaG92ZXI6Ym9yZGVyLVsjOUM2QkZGXS80MCcsXG4gICAgICAgIF0uam9pbignICcpO1xuICAgICAgICBidXR0b24uc2V0QXR0cmlidXRlKCdyb2xlJywgJ29wdGlvbicpO1xuICAgICAgICBpZiAoaXNBY3RpdmUpIHtcbiAgICAgICAgICBidXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLWN1cnJlbnQnLCAndHJ1ZScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGJ1dHRvbi5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtY3VycmVudCcpO1xuICAgICAgICB9XG4gICAgICAgIGJ1dHRvbi5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBnYXAtMlwiPlxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXNtIGZvbnQtc2VtaWJvbGRcIj4ke2NvbGxlY3Rpb24ubmFtZSB8fCBjb2xsZWN0aW9uLmlkfTwvcD5cbiAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNTAwXCI+JHtjb2xsZWN0aW9uLmRlc2NyaXB0aW9uIHx8ICcnfTwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LVsxMXB4XSB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZSB0ZXh0LXNsYXRlLTQwMFwiPiR7Y29sbGVjdGlvbi50eXBlIHx8ICcnfTwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgYDtcbiAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgIHNldEFjdGl2ZUNvbGxlY3Rpb24oY29sbGVjdGlvbi5pZCk7XG4gICAgICAgICAgaWYgKCF3aW5kb3cubWF0Y2hNZWRpYSgnKG1pbi13aWR0aDogMTAyNHB4KScpLm1hdGNoZXMpIHtcbiAgICAgICAgICAgIGNsb3NlQ29udGVudERyYXdlcigpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGNvbGxlY3Rpb25MaXN0LmFwcGVuZENoaWxkKGJ1dHRvbik7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgcmVuZGVySXRlbVRhYmxlID0gKCkgPT4ge1xuICAgICAgaWYgKCFpdGVtVGFibGVCb2R5KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGl0ZW1UYWJsZUJvZHkuaW5uZXJIVE1MID0gJyc7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25JdGVtcy5sZW5ndGggfHwgIWFjdGl2ZUNvbGxlY3Rpb25JZCkge1xuICAgICAgICBjb2xsZWN0aW9uSXRlbXNFbXB0eT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIHVwZGF0ZUl0ZW1zRW1wdHlNZXNzYWdlKCk7XG4gICAgICAgIGl0ZW1UYWJsZVdyYXBwZXI/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb2xsZWN0aW9uSXRlbXNFbXB0eT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBpdGVtVGFibGVXcmFwcGVyPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGNvbGxlY3Rpb25JdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgIGNvbnN0IHJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyJyk7XG4gICAgICAgIHJvdy5kYXRhc2V0Lml0ZW1JZCA9IGl0ZW0uaWQ7XG4gICAgICAgIGNvbnN0IGlzQWN0aXZlID0gaXRlbS5pZCA9PT0gYWN0aXZlSXRlbUlkICYmICFpc0NyZWF0aW5nSXRlbTtcbiAgICAgICAgcm93LmNsYXNzTmFtZSA9IFtcbiAgICAgICAgICAnY3Vyc29yLXBvaW50ZXIgdHJhbnNpdGlvbiBmb2N1cy13aXRoaW46YmctWyNGN0YwRkZdLzcwIGZvY3VzOm91dGxpbmUtbm9uZScsXG4gICAgICAgICAgaXNBY3RpdmUgPyAnYmctWyNGN0YwRkZdLzcwJyA6ICdob3ZlcjpiZy1zbGF0ZS01MCcsXG4gICAgICAgIF0uam9pbignICcpO1xuICAgICAgICByb3cudGFiSW5kZXggPSAwO1xuICAgICAgICByb3cuc2V0QXR0cmlidXRlKCdyb2xlJywgJ2J1dHRvbicpO1xuICAgICAgICBpZiAoaXNBY3RpdmUpIHtcbiAgICAgICAgICByb3cuc2V0QXR0cmlidXRlKCdhcmlhLWN1cnJlbnQnLCAndHJ1ZScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJvdy5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtY3VycmVudCcpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHN0YXR1cyA9IGl0ZW0uc3RhdHVzIHx8ICdCcm91aWxsb24nO1xuICAgICAgICBjb25zdCBub3JtYWxpemVkID0gc3RhdHVzLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGNvbnN0IHN0YXR1c0NsYXNzZXMgPVxuICAgICAgICAgIG5vcm1hbGl6ZWQgPT09ICdwdWJsaVx1MDBFOScgfHwgbm9ybWFsaXplZCA9PT0gJ3B1YmxpZSdcbiAgICAgICAgICAgID8gJ2JnLWVtZXJhbGQtNTAgdGV4dC1lbWVyYWxkLTcwMCBib3JkZXIgYm9yZGVyLWVtZXJhbGQtMTAwJ1xuICAgICAgICAgICAgOiAnYmctYW1iZXItNTAgdGV4dC1hbWJlci03MDAgYm9yZGVyIGJvcmRlci1hbWJlci0xMDAnO1xuICAgICAgICByb3cuaW5uZXJIVE1MID0gYFxuICAgICAgICAgIDx0ZCBjbGFzcz1cInB4LTQgcHktMyBhbGlnbi10b3BcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC1zbSBmb250LXNlbWlib2xkIHRleHQtc2xhdGUtOTAwXCI+JHtpdGVtLnRpdGxlIHx8ICdTYW5zIHRpdHJlJ308L3NwYW4+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC14cyB0ZXh0LXNsYXRlLTUwMFwiPiR7aXRlbS5zdW1tYXJ5IHx8IGl0ZW0uZXhjZXJwdCB8fCAnJ308L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L3RkPlxuICAgICAgICAgIDx0ZCBjbGFzcz1cInB4LTQgcHktMyBhbGlnbi10b3AgdGV4dC1zbSB0ZXh0LXNsYXRlLTYwMFwiPiR7aXRlbS5zbHVnIHx8ICcnfTwvdGQ+XG4gICAgICAgICAgPHRkIGNsYXNzPVwicHgtNCBweS0zIGFsaWduLXRvcFwiPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgcm91bmRlZC1mdWxsIHB4LTMgcHktMSB0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgJHtzdGF0dXNDbGFzc2VzfVwiPlxuICAgICAgICAgICAgICAke3N0YXR1c31cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L3RkPlxuICAgICAgICAgIDx0ZCBjbGFzcz1cInB4LTQgcHktMyBhbGlnbi10b3AgdGV4dC1zbSB0ZXh0LXNsYXRlLTUwMFwiPiR7Zm9ybWF0SXRlbURhdGUoXG4gICAgICAgICAgICBpdGVtLnVwZGF0ZWRBdCB8fCBpdGVtLmNyZWF0ZWRBdCxcbiAgICAgICAgICApfTwvdGQ+XG4gICAgICAgIGA7XG4gICAgICAgIGNvbnN0IGhhbmRsZVNlbGVjdCA9ICgpID0+IHtcbiAgICAgICAgICBzZWxlY3RJdGVtKGl0ZW0uaWQpO1xuICAgICAgICB9O1xuICAgICAgICByb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVTZWxlY3QpO1xuICAgICAgICByb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldmVudCkgPT4ge1xuICAgICAgICAgIGlmIChldmVudC5rZXkgPT09ICdFbnRlcicgfHwgZXZlbnQua2V5ID09PSAnICcpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBoYW5kbGVTZWxlY3QoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpdGVtVGFibGVCb2R5LmFwcGVuZENoaWxkKHJvdyk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgY29uc3Qgc2VsZWN0SXRlbSA9IChpdGVtSWQpID0+IHtcbiAgICAgIGNvbnN0IGl0ZW0gPSBjb2xsZWN0aW9uSXRlbXMuZmluZCgoZW50cnkpID0+IGVudHJ5LmlkID09PSBpdGVtSWQpO1xuICAgICAgaWYgKCFpdGVtKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGFjdGl2ZUl0ZW1JZCA9IGl0ZW0uaWQ7XG4gICAgICBpc0NyZWF0aW5nSXRlbSA9IGZhbHNlO1xuICAgICAgaXRlbVNsdWdNYW51YWxseUVkaXRlZCA9IHRydWU7XG4gICAgICBwb3B1bGF0ZUl0ZW1Gb3JtKGl0ZW0pO1xuICAgICAgcmVuZGVySXRlbVRhYmxlKCk7XG4gICAgfTtcblxuICAgIGNvbnN0IHBvcHVsYXRlSXRlbUZvcm0gPSAoaXRlbSkgPT4ge1xuICAgICAgaWYgKCFpdGVtRm9ybSB8fCAhaXRlbSkge1xuICAgICAgICBoaWRlSXRlbUZvcm0oKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2hvd0l0ZW1Gb3JtKCk7XG4gICAgICBpdGVtRm9ybS5kYXRhc2V0Lml0ZW1JZCA9IGl0ZW0uaWQ7XG4gICAgICBpZiAoaXRlbUZvcm1GaWVsZHMudGl0bGUpIHtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMudGl0bGUudmFsdWUgPSBpdGVtLnRpdGxlIHx8ICcnO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1Gb3JtRmllbGRzLnNsdWcpIHtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMuc2x1Zy52YWx1ZSA9IGl0ZW0uc2x1ZyB8fCAnJztcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtRm9ybUZpZWxkcy5leGNlcnB0KSB7XG4gICAgICAgIGl0ZW1Gb3JtRmllbGRzLmV4Y2VycHQudmFsdWUgPSBpdGVtLnN1bW1hcnkgfHwgaXRlbS5leGNlcnB0IHx8ICcnO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1Gb3JtRmllbGRzLmNvbnRlbnQpIHtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMuY29udGVudC52YWx1ZSA9IGl0ZW0uY29udGVudCB8fCAnJztcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtRm9ybUZpZWxkcy5pbWFnZSkge1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy5pbWFnZS52YWx1ZSA9IGl0ZW0uaW1hZ2UgfHwgJyc7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbUZvcm1GaWVsZHMuY3RhVGV4dCkge1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy5jdGFUZXh0LnZhbHVlID0gaXRlbS5jdGE/LnRleHQgfHwgaXRlbS5jdGFUZXh0IHx8ICcnO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1Gb3JtRmllbGRzLmN0YVVybCkge1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy5jdGFVcmwudmFsdWUgPSBpdGVtLmN0YT8udXJsIHx8IGl0ZW0uY3RhVXJsIHx8ICcnO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1Gb3JtRmllbGRzLnN0YXR1cykge1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy5zdGF0dXMudmFsdWUgPSBpdGVtLnN0YXR1cyB8fCAnQnJvdWlsbG9uJztcbiAgICAgIH1cbiAgICAgIHN5bmNJdGVtU3RhdHVzQmFkZ2UoaXRlbS5zdGF0dXMgfHwgJ0Jyb3VpbGxvbicpO1xuICAgICAgaWYgKGl0ZW1EZWxldGVCdXR0b24pIHtcbiAgICAgICAgaXRlbURlbGV0ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBwcmVwYXJlTmV3SXRlbUZvcm0gPSAoKSA9PiB7XG4gICAgICBpZiAoIWl0ZW1Gb3JtKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlzQ3JlYXRpbmdJdGVtID0gdHJ1ZTtcbiAgICAgIGFjdGl2ZUl0ZW1JZCA9IG51bGw7XG4gICAgICBpdGVtU2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gICAgICBpdGVtRm9ybS5kYXRhc2V0Lml0ZW1JZCA9ICcnO1xuICAgICAgaXRlbUZvcm0ucmVzZXQoKTtcbiAgICAgIGlmIChpdGVtRm9ybUZpZWxkcy5zdGF0dXMpIHtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMuc3RhdHVzLnZhbHVlID0gJ0Jyb3VpbGxvbic7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbUZvcm1GaWVsZHMuc2x1Zykge1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy5zbHVnLnZhbHVlID0gJyc7XG4gICAgICB9XG4gICAgICBzeW5jSXRlbVN0YXR1c0JhZGdlKCdCcm91aWxsb24nKTtcbiAgICAgIHNob3dJdGVtRm9ybSgpO1xuICAgICAgaWYgKGl0ZW1EZWxldGVCdXR0b24pIHtcbiAgICAgICAgaXRlbURlbGV0ZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICB9XG4gICAgICBpdGVtRm9ybUZpZWxkcy50aXRsZT8uZm9jdXMoKTtcbiAgICB9O1xuXG4gICAgY29uc3QgY29sbGVjdEl0ZW1Gb3JtVmFsdWVzID0gKCkgPT4ge1xuICAgICAgY29uc3QgdGl0bGUgPSAoaXRlbUZvcm1GaWVsZHMudGl0bGU/LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICBjb25zdCBzbHVnSW5wdXQgPSAoaXRlbUZvcm1GaWVsZHMuc2x1Zz8udmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgIGNvbnN0IHN1bW1hcnkgPSAoaXRlbUZvcm1GaWVsZHMuZXhjZXJwdD8udmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgIGNvbnN0IGNvbnRlbnQgPSAoaXRlbUZvcm1GaWVsZHMuY29udGVudD8udmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgIGNvbnN0IGltYWdlID0gKGl0ZW1Gb3JtRmllbGRzLmltYWdlPy52YWx1ZSB8fCAnJykudHJpbSgpO1xuICAgICAgY29uc3QgY3RhVGV4dCA9IChpdGVtRm9ybUZpZWxkcy5jdGFUZXh0Py52YWx1ZSB8fCAnJykudHJpbSgpO1xuICAgICAgY29uc3QgY3RhVXJsID0gKGl0ZW1Gb3JtRmllbGRzLmN0YVVybD8udmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgIGNvbnN0IHN0YXR1cyA9IGl0ZW1Gb3JtRmllbGRzLnN0YXR1cz8udmFsdWUgfHwgJ0Jyb3VpbGxvbic7XG4gICAgICBcbiAgICAgIC8vIEJ1aWxkIENUQSBvYmplY3Qgb25seSBpZiBhdCBsZWFzdCBvbmUgZmllbGQgaXMgZmlsbGVkXG4gICAgICBjb25zdCBjdGEgPSAoY3RhVGV4dCB8fCBjdGFVcmwpID8geyB0ZXh0OiBjdGFUZXh0LCB1cmw6IGN0YVVybCB9IDogbnVsbDtcbiAgICAgIFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdGl0bGUsXG4gICAgICAgIHNsdWc6IHNsdWdJbnB1dCA/IG5vcm1hbGl6ZUl0ZW1TbHVnSW5wdXQoc2x1Z0lucHV0KSA6IG5vcm1hbGl6ZUl0ZW1TbHVnSW5wdXQodGl0bGUpLFxuICAgICAgICBzdW1tYXJ5LFxuICAgICAgICBleGNlcnB0OiBzdW1tYXJ5LFxuICAgICAgICBjb250ZW50LFxuICAgICAgICBpbWFnZSxcbiAgICAgICAgc3RhdHVzLFxuICAgICAgICAuLi4oY3RhICYmIHsgY3RhIH0pLFxuICAgICAgfTtcbiAgICB9O1xuXG4gICAgY29uc3Qgc2V0Rm9ybVNhdmluZ1N0YXRlID0gKGlzU2F2aW5nKSA9PiB7XG4gICAgICBpZiAoaXRlbUZvcm1TYXZlKSB7XG4gICAgICAgIGl0ZW1Gb3JtU2F2ZS5kaXNhYmxlZCA9IGlzU2F2aW5nO1xuICAgICAgICBpdGVtRm9ybVNhdmUudGV4dENvbnRlbnQgPSBpc1NhdmluZyA/ICdFbnJlZ2lzdHJlbWVudFx1MjAyNicgOiAnRW5yZWdpc3RyZXInO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1EZWxldGVCdXR0b24gJiYgIWlzQ3JlYXRpbmdJdGVtICYmIGFjdGl2ZUl0ZW1JZCkge1xuICAgICAgICBpdGVtRGVsZXRlQnV0dG9uLmRpc2FibGVkID0gaXNTYXZpbmc7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGZldGNoQ29sbGVjdGlvbkl0ZW1zID0gYXN5bmMgKGNvbGxlY3Rpb25JZCkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uc0FwaUJhc2UpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgYCR7Y29sbGVjdGlvbnNBcGlCYXNlfS8ke2VuY29kZVVSSUNvbXBvbmVudChjb2xsZWN0aW9uSWQpfS9pdGVtc2AsXG4gICAgICAgIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0sXG4gICAgICApO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IocGF5bG9hZC5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIGl0ZW1zLicpO1xuICAgICAgfVxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KGRhdGEuaXRlbXMpID8gZGF0YS5pdGVtcyA6IFtdO1xuICAgIH07XG5cbiAgICBjb25zdCBzZXRBY3RpdmVDb2xsZWN0aW9uID0gYXN5bmMgKGNvbGxlY3Rpb25JZCkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uSWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYWN0aXZlQ29sbGVjdGlvbklkID0gY29sbGVjdGlvbklkO1xuICAgICAgYWN0aXZlSXRlbUlkID0gbnVsbDtcbiAgICAgIGlzQ3JlYXRpbmdJdGVtID0gZmFsc2U7XG4gICAgICBpdGVtU2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gICAgICAvLyBTd2l0Y2ggdG8gY29sbGVjdGlvbiB2aWV3XG4gICAgICBzaG93Q29udGVudFZpZXcoJ2NvbGxlY3Rpb24nKTtcbiAgICAgIHVwZGF0ZUNvbGxlY3Rpb25IZWFkZXIoKTtcbiAgICAgIHN5bmNBZGRCdXR0b25TdGF0ZSgpO1xuICAgICAgcmVuZGVyQ29sbGVjdGlvbkxpc3QoKTtcbiAgICAgIGhpZGVJdGVtRm9ybSgpO1xuICAgICAgY29sbGVjdGlvbkl0ZW1zID0gW107XG4gICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICAgIHVwZGF0ZUl0ZW1zRW1wdHlNZXNzYWdlKCdDaGFyZ2VtZW50IGRlcyBpdGVtc1x1MjAyNicpO1xuICAgICAgY29sbGVjdGlvbkl0ZW1zRW1wdHk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgaXRlbVRhYmxlV3JhcHBlcj8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25zQXBpQmFzZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb2xsZWN0aW9uSXRlbXMgPSBhd2FpdCBmZXRjaENvbGxlY3Rpb25JdGVtcyhjb2xsZWN0aW9uSWQpO1xuICAgICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICAgICAgaWYgKCFjb2xsZWN0aW9uSXRlbXMubGVuZ3RoKSB7XG4gICAgICAgICAgdXBkYXRlSXRlbXNFbXB0eU1lc3NhZ2UoKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tjb250ZW50XSBpdGVtcyBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgY2hhcmdlciBsZXMgaXRlbXMuJyk7XG4gICAgICAgIGNvbGxlY3Rpb25JdGVtcyA9IFtdO1xuICAgICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgY3JlYXRlQ29sbGVjdGlvbkl0ZW0gPSBhc3luYyAoY29sbGVjdGlvbklkLCBwYXlsb2FkKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25zQXBpQmFzZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NpdGUgaW5jb25udS4nKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgIGAke2NvbGxlY3Rpb25zQXBpQmFzZX0vJHtlbmNvZGVVUklDb21wb25lbnQoY29sbGVjdGlvbklkKX0vaXRlbXNgLFxuICAgICAgICB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgIH0sXG4gICAgICApO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZGF0YS5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIGNyXHUwMEU5ZXIgY2V0IGl0ZW0uJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgIH07XG5cbiAgICBjb25zdCB1cGRhdGVDb2xsZWN0aW9uSXRlbSA9IGFzeW5jIChjb2xsZWN0aW9uSWQsIGl0ZW1JZCwgcGF5bG9hZCkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uc0FwaUJhc2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTaXRlIGluY29ubnUuJyk7XG4gICAgICB9XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgICBgJHtjb2xsZWN0aW9uc0FwaUJhc2V9LyR7ZW5jb2RlVVJJQ29tcG9uZW50KGNvbGxlY3Rpb25JZCl9L2l0ZW1zLyR7ZW5jb2RlVVJJQ29tcG9uZW50KGl0ZW1JZCl9YCxcbiAgICAgICAge1xuICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgIH0sXG4gICAgICApO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZGF0YS5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIHNhdXZlZ2FyZGVyIGNldCBpdGVtLicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICB9O1xuXG4gICAgY29uc3QgZGVsZXRlQ29sbGVjdGlvbkl0ZW0gPSBhc3luYyAoY29sbGVjdGlvbklkLCBpdGVtSWQpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvbnNBcGlCYXNlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignU2l0ZSBpbmNvbm51LicpO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgYCR7Y29sbGVjdGlvbnNBcGlCYXNlfS8ke2VuY29kZVVSSUNvbXBvbmVudChjb2xsZWN0aW9uSWQpfS9pdGVtcy8ke2VuY29kZVVSSUNvbXBvbmVudChpdGVtSWQpfWAsXG4gICAgICAgIHsgbWV0aG9kOiAnREVMRVRFJyB9LFxuICAgICAgKTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGRhdGEubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBzdXBwcmltZXIgY2V0IGl0ZW0uJyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGxvYWRDb2xsZWN0aW9ucyA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvbnNBcGlCYXNlKSB7XG4gICAgICAgIGNvbGxlY3Rpb25FbXB0eVN0YXRlPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgYWN0aXZlQ29sbGVjdGlvbklkID0gbnVsbDtcbiAgICAgICAgY29sbGVjdGlvbkl0ZW1zID0gW107XG4gICAgICAgIHJlbmRlckl0ZW1UYWJsZSgpO1xuICAgICAgICB1cGRhdGVDb2xsZWN0aW9uSGVhZGVyKCk7XG4gICAgICAgIHN5bmNBZGRCdXR0b25TdGF0ZSgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGNvbGxlY3Rpb25zQXBpQmFzZSwge1xuICAgICAgICAgIGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ltcG9zc2libGUgZGUgY2hhcmdlciBsZXMgY29sbGVjdGlvbnMuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiBbXSk7XG4gICAgICAgIGNvbGxlY3Rpb25zID0gQXJyYXkuaXNBcnJheShwYXlsb2FkKSA/IHBheWxvYWQgOiBbXTtcbiAgICAgICAgcmVuZGVyQ29sbGVjdGlvbkxpc3QoKTtcbiAgICAgICAgaWYgKGNvbGxlY3Rpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBjb25zdCBkZWZhdWx0SWQgPSBjb2xsZWN0aW9ucy5maW5kKChlbnRyeSkgPT4gZW50cnkuaWQgPT09IGFjdGl2ZUNvbGxlY3Rpb25JZCk/LmlkXG4gICAgICAgICAgICB8fCBjb2xsZWN0aW9uc1swXS5pZDtcbiAgICAgICAgICBzZXRBY3RpdmVDb2xsZWN0aW9uKGRlZmF1bHRJZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYWN0aXZlQ29sbGVjdGlvbklkID0gbnVsbDtcbiAgICAgICAgICBjb2xsZWN0aW9uSXRlbXMgPSBbXTtcbiAgICAgICAgICB1cGRhdGVDb2xsZWN0aW9uSGVhZGVyKCk7XG4gICAgICAgICAgc3luY0FkZEJ1dHRvblN0YXRlKCk7XG4gICAgICAgICAgcmVuZGVySXRlbVRhYmxlKCk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbY29udGVudF0gbG9hZCBjb2xsZWN0aW9ucycsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxlcyBjb2xsZWN0aW9ucy4nKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaXRlbUFkZEJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBpZiAoIWFjdGl2ZUNvbGxlY3Rpb25JZCkge1xuICAgICAgICBzaG93VG9hc3QoJ1NcdTAwRTlsZWN0aW9ubmV6IGRcdTIwMTlhYm9yZCB1bmUgY29sbGVjdGlvbi4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcHJlcGFyZU5ld0l0ZW1Gb3JtKCk7XG4gICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICB9KTtcblxuICAgIGl0ZW1Gb3JtQ2FuY2VsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmIChpc0NyZWF0aW5nSXRlbSkge1xuICAgICAgICBpc0NyZWF0aW5nSXRlbSA9IGZhbHNlO1xuICAgICAgICBhY3RpdmVJdGVtSWQgPSBudWxsO1xuICAgICAgICBoaWRlSXRlbUZvcm0oKTtcbiAgICAgICAgcmVuZGVySXRlbVRhYmxlKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChhY3RpdmVJdGVtSWQpIHtcbiAgICAgICAgY29uc3QgaXRlbSA9IGNvbGxlY3Rpb25JdGVtcy5maW5kKChlbnRyeSkgPT4gZW50cnkuaWQgPT09IGFjdGl2ZUl0ZW1JZCk7XG4gICAgICAgIHBvcHVsYXRlSXRlbUZvcm0oaXRlbSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBoaWRlSXRlbUZvcm0oKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGl0ZW1Gb3JtRmllbGRzLnN0YXR1cz8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICAgICAgc3luY0l0ZW1TdGF0dXNCYWRnZShpdGVtRm9ybUZpZWxkcy5zdGF0dXMudmFsdWUpO1xuICAgIH0pO1xuXG4gICAgaXRlbUZvcm1GaWVsZHMudGl0bGU/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgaWYgKCFpc0NyZWF0aW5nSXRlbSB8fCAhaXRlbUZvcm1GaWVsZHMuc2x1ZyB8fCBpdGVtU2x1Z01hbnVhbGx5RWRpdGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGl0ZW1Gb3JtRmllbGRzLnNsdWcudmFsdWUgPSBub3JtYWxpemVJdGVtU2x1Z0lucHV0KGl0ZW1Gb3JtRmllbGRzLnRpdGxlLnZhbHVlKTtcbiAgICB9KTtcblxuICAgIGl0ZW1Gb3JtRmllbGRzLnNsdWc/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgaWYgKCFpc0NyZWF0aW5nSXRlbSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpdGVtU2x1Z01hbnVhbGx5RWRpdGVkID0gdHJ1ZTtcbiAgICB9KTtcblxuICAgIGl0ZW1Gb3JtPy5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoIWFjdGl2ZUNvbGxlY3Rpb25JZCkge1xuICAgICAgICBzaG93VG9hc3QoJ1NcdTAwRTlsZWN0aW9ubmV6IHVuZSBjb2xsZWN0aW9uLicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCB2YWx1ZXMgPSBjb2xsZWN0SXRlbUZvcm1WYWx1ZXMoKTtcbiAgICAgIGlmICghdmFsdWVzLnRpdGxlKSB7XG4gICAgICAgIHNob3dUb2FzdCgnTGUgdGl0cmUgZXN0IHJlcXVpcy4nKTtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMudGl0bGU/LmZvY3VzKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNldEZvcm1TYXZpbmdTdGF0ZSh0cnVlKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGxldCBzYXZlZEl0ZW07XG4gICAgICAgIGlmIChpc0NyZWF0aW5nSXRlbSB8fCAhYWN0aXZlSXRlbUlkKSB7XG4gICAgICAgICAgc2F2ZWRJdGVtID0gYXdhaXQgY3JlYXRlQ29sbGVjdGlvbkl0ZW0oYWN0aXZlQ29sbGVjdGlvbklkLCB2YWx1ZXMpO1xuICAgICAgICAgIGNvbGxlY3Rpb25JdGVtcyA9IFsuLi5jb2xsZWN0aW9uSXRlbXMsIHNhdmVkSXRlbV07XG4gICAgICAgICAgc2hvd1RvYXN0KCdJdGVtIGNyXHUwMEU5XHUwMEU5Jyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2F2ZWRJdGVtID0gYXdhaXQgdXBkYXRlQ29sbGVjdGlvbkl0ZW0oYWN0aXZlQ29sbGVjdGlvbklkLCBhY3RpdmVJdGVtSWQsIHZhbHVlcyk7XG4gICAgICAgICAgY29sbGVjdGlvbkl0ZW1zID0gY29sbGVjdGlvbkl0ZW1zLm1hcCgoaXRlbSkgPT5cbiAgICAgICAgICAgIGl0ZW0uaWQgPT09IHNhdmVkSXRlbS5pZCA/IHNhdmVkSXRlbSA6IGl0ZW0sXG4gICAgICAgICAgKTtcbiAgICAgICAgICBzaG93VG9hc3QoJ0l0ZW0gbWlzIFx1MDBFMCBqb3VyJyk7XG4gICAgICAgIH1cbiAgICAgICAgaXNDcmVhdGluZ0l0ZW0gPSBmYWxzZTtcbiAgICAgICAgYWN0aXZlSXRlbUlkID0gc2F2ZWRJdGVtLmlkO1xuICAgICAgICBwb3B1bGF0ZUl0ZW1Gb3JtKHNhdmVkSXRlbSk7XG4gICAgICAgIHJlbmRlckl0ZW1UYWJsZSgpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tjb250ZW50XSBzYXZlIGl0ZW0gZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIHNhdXZlZ2FyZGVyIGNldCBpdGVtLicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0Rm9ybVNhdmluZ1N0YXRlKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGNvbnN0IGNsb3NlRGVsZXRlTW9kYWwgPSAoKSA9PiB7XG4gICAgICBpZiAoIWl0ZW1EZWxldGVNb2RhbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpdGVtRGVsZXRlTW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBpdGVtRGVsZXRlTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnZmxleCcpO1xuICAgICAgcGVuZGluZ0RlbGV0ZUl0ZW1JZCA9IG51bGw7XG4gICAgfTtcblxuICAgIGNvbnN0IG9wZW5EZWxldGVNb2RhbCA9ICgpID0+IHtcbiAgICAgIGlmICghaXRlbURlbGV0ZU1vZGFsIHx8ICFhY3RpdmVJdGVtSWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcGVuZGluZ0RlbGV0ZUl0ZW1JZCA9IGFjdGl2ZUl0ZW1JZDtcbiAgICAgIGl0ZW1EZWxldGVNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGl0ZW1EZWxldGVNb2RhbC5jbGFzc0xpc3QuYWRkKCdmbGV4Jyk7XG4gICAgfTtcblxuICAgIGl0ZW1EZWxldGVCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKCFhY3RpdmVJdGVtSWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgb3BlbkRlbGV0ZU1vZGFsKCk7XG4gICAgfSk7XG5cbiAgICBpdGVtRGVsZXRlQ2FuY2VsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNsb3NlRGVsZXRlTW9kYWwoKTtcbiAgICB9KTtcblxuICAgIGl0ZW1EZWxldGVNb2RhbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIGlmIChldmVudC50YXJnZXQgPT09IGl0ZW1EZWxldGVNb2RhbCkge1xuICAgICAgICBjbG9zZURlbGV0ZU1vZGFsKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpdGVtRGVsZXRlQ29uZmlybT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXBlbmRpbmdEZWxldGVJdGVtSWQgfHwgIWFjdGl2ZUNvbGxlY3Rpb25JZCkge1xuICAgICAgICBjbG9zZURlbGV0ZU1vZGFsKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGl0ZW1EZWxldGVDb25maXJtLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIGl0ZW1EZWxldGVDb25maXJtLnRleHRDb250ZW50ID0gJ1N1cHByZXNzaW9uXHUyMDI2JztcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IGRlbGV0ZUNvbGxlY3Rpb25JdGVtKGFjdGl2ZUNvbGxlY3Rpb25JZCwgcGVuZGluZ0RlbGV0ZUl0ZW1JZCk7XG4gICAgICAgIGNvbGxlY3Rpb25JdGVtcyA9IGNvbGxlY3Rpb25JdGVtcy5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0uaWQgIT09IHBlbmRpbmdEZWxldGVJdGVtSWQpO1xuICAgICAgICBpZiAoYWN0aXZlSXRlbUlkID09PSBwZW5kaW5nRGVsZXRlSXRlbUlkKSB7XG4gICAgICAgICAgYWN0aXZlSXRlbUlkID0gbnVsbDtcbiAgICAgICAgICBoaWRlSXRlbUZvcm0oKTtcbiAgICAgICAgfVxuICAgICAgICBzaG93VG9hc3QoJ0l0ZW0gc3VwcHJpbVx1MDBFOScpO1xuICAgICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbY29udGVudF0gZGVsZXRlIGl0ZW0gZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIHN1cHByaW1lciBjZXQgaXRlbS4nKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGl0ZW1EZWxldGVDb25maXJtLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIGl0ZW1EZWxldGVDb25maXJtLnRleHRDb250ZW50ID0gJ1N1cHByaW1lcic7XG4gICAgICAgIGNsb3NlRGVsZXRlTW9kYWwoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHVwZGF0ZUNvbGxlY3Rpb25IZWFkZXIoKTtcbiAgICBzeW5jQWRkQnV0dG9uU3RhdGUoKTtcbiAgICBsb2FkQ29sbGVjdGlvbnMoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXREZXBsb3lXb3Jrc3BhY2UoKSB7XG4gICAgY29uc3QgZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1mb3JtXScpO1xuICAgIGlmICghZm9ybSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBwcm90b2NvbFNlbGVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1wcm90b2NvbF0nKTtcbiAgICBjb25zdCBob3N0SW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktaG9zdF0nKTtcbiAgICBjb25zdCBwb3J0SW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktcG9ydF0nKTtcbiAgICBjb25zdCB1c2VySW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktdXNlcl0nKTtcbiAgICBjb25zdCBwYXNzd29yZElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LXBhc3N3b3JkXScpO1xuICAgIGNvbnN0IHNob3dQYXNzd29yZFRvZ2dsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1zaG93LXBhc3N3b3JkXScpO1xuICAgIGNvbnN0IHJlbW90ZVBhdGhJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1yZW1vdGUtcGF0aF0nKTtcbiAgICBjb25zdCBmZWVkYmFjayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1mZWVkYmFja10nKTtcbiAgICBjb25zdCBzYXZlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LXNhdmVdJyk7XG4gICAgY29uc3QgdGVzdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS10ZXN0XScpO1xuICAgIGNvbnN0IGRlcGxveUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS10cmlnZ2VyXScpO1xuICAgIGNvbnN0IGhpc3RvcnlMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LWhpc3RvcnldJyk7XG4gICAgY29uc3QgbG9nQm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LWxvZ10nKTtcblxuICAgIGNvbnN0IHNhZmVTaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKFxuICAgICAgd29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyxcbiAgICApO1xuICAgIGNvbnN0IGRlcGxveUFwaUJhc2UgPSBzYWZlU2l0ZVNsdWdcbiAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnKX0vZGVwbG95LWNvbmZpZ2BcbiAgICAgIDogbnVsbDtcbiAgICBjb25zdCBkZXBsb3lSdW5BcGkgPSBzYWZlU2l0ZVNsdWdcbiAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnKX0vZGVwbG95YFxuICAgICAgOiBudWxsO1xuICAgIGNvbnN0IGRlcGxveUxvZ0FwaSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9kZXBsb3ktbG9nYFxuICAgICAgOiBudWxsO1xuXG4gICAgbGV0IGhhc1Bhc3N3b3JkID0gZmFsc2U7XG4gICAgbGV0IGJ1c3lBY3Rpb24gPSBudWxsO1xuXG4gICAgY29uc3Qgc2FuaXRpemVSZW1vdGVQYXRoID0gKHZhbHVlKSA9PiB7XG4gICAgICBjb25zdCB0cmltbWVkID0gKHZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICBpZiAoIXRyaW1tZWQpIHtcbiAgICAgICAgcmV0dXJuICcvd3d3JztcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cmltbWVkLnN0YXJ0c1dpdGgoJy8nKSA/IHRyaW1tZWQgOiBgLyR7dHJpbW1lZH1gO1xuICAgIH07XG5cbiAgICBjb25zdCBzZXRGZWVkYmFjayA9IChtZXNzYWdlLCB0b25lID0gJ211dGVkJykgPT4ge1xuICAgICAgaWYgKCFmZWVkYmFjaykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBiYXNlQ2xhc3MgPSAnaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHJvdW5kZWQtZnVsbCBweC0zIHB5LTEgdGV4dC14cyBmb250LXNlbWlib2xkJztcbiAgICAgIGNvbnN0IHRvbmVDbGFzcyA9XG4gICAgICAgIHRvbmUgPT09ICdzdWNjZXNzJ1xuICAgICAgICAgID8gJ2JnLWVtZXJhbGQtNTAgdGV4dC1lbWVyYWxkLTcwMCBib3JkZXIgYm9yZGVyLWVtZXJhbGQtMTAwJ1xuICAgICAgICAgIDogdG9uZSA9PT0gJ2Vycm9yJ1xuICAgICAgICAgICAgPyAnYmctcm9zZS01MCB0ZXh0LXJvc2UtNzAwIGJvcmRlciBib3JkZXItcm9zZS0xMDAnXG4gICAgICAgICAgICA6ICdiZy1zbGF0ZS01MCB0ZXh0LXNsYXRlLTYwMCBib3JkZXIgYm9yZGVyLXNsYXRlLTEwMCc7XG4gICAgICBpZiAoIW1lc3NhZ2UpIHtcbiAgICAgICAgZmVlZGJhY2sudGV4dENvbnRlbnQgPSAnJztcbiAgICAgICAgZmVlZGJhY2suY2xhc3NOYW1lID0gJ3RleHQtc20gdGV4dC1zbGF0ZS01MDAnO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBpY29uID0gdG9uZSA9PT0gJ3N1Y2Nlc3MnID8gJ1x1MjcwNScgOiB0b25lID09PSAnZXJyb3InID8gJ1x1Mjc0QycgOiAnXHUyMTM5XHVGRTBGJztcbiAgICAgIGZlZWRiYWNrLmlubmVySFRNTCA9IGA8c3BhbiBjbGFzcz1cIiR7YmFzZUNsYXNzfSAke3RvbmVDbGFzc31cIj4ke2ljb259PHNwYW4+JHttZXNzYWdlfTwvc3Bhbj48L3NwYW4+YDtcbiAgICAgIGZlZWRiYWNrLmNsYXNzTmFtZSA9ICd0ZXh0LXNtJztcbiAgICB9O1xuXG4gICAgY29uc3Qgc2V0QnVzeSA9IChhY3Rpb24gPSBudWxsKSA9PiB7XG4gICAgICBidXN5QWN0aW9uID0gYWN0aW9uO1xuICAgICAgY29uc3QgZGlzYWJsZSA9IEJvb2xlYW4oYWN0aW9uKTtcbiAgICAgIGNvbnN0IHNwaW5uZXIgPVxuICAgICAgICAnPHN2ZyBjbGFzcz1cImgtNCB3LTQgYW5pbWF0ZS1zcGluIHRleHQtd2hpdGVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48Y2lyY2xlIGNsYXNzPVwib3BhY2l0eS0yNVwiIGN4PVwiMTJcIiBjeT1cIjEyXCIgcj1cIjEwXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiNFwiPjwvY2lyY2xlPjxwYXRoIGNsYXNzPVwib3BhY2l0eS03NVwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIiBkPVwiTTQgMTJhOCA4IDAgMDE4LTh2NGE0IDQgMCAwMC00IDRINHpcIj48L3BhdGg+PC9zdmc+JztcbiAgICAgIGlmIChzYXZlQnV0dG9uKSB7XG4gICAgICAgIHNhdmVCdXR0b24uZGlzYWJsZWQgPSBkaXNhYmxlO1xuICAgICAgICBzYXZlQnV0dG9uLmlubmVySFRNTCA9XG4gICAgICAgICAgYWN0aW9uID09PSAnc2F2ZSdcbiAgICAgICAgICAgID8gYDxzcGFuIGNsYXNzPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+JHtzcGlubmVyfTxzcGFuPkVucmVnaXN0cmVtZW50XHUyMDI2PC9zcGFuPjwvc3Bhbj5gXG4gICAgICAgICAgICA6ICdFbnJlZ2lzdHJlcic7XG4gICAgICB9XG4gICAgICBpZiAodGVzdEJ1dHRvbikge1xuICAgICAgICB0ZXN0QnV0dG9uLmRpc2FibGVkID0gZGlzYWJsZTtcbiAgICAgICAgdGVzdEJ1dHRvbi5pbm5lckhUTUwgPVxuICAgICAgICAgIGFjdGlvbiA9PT0gJ3Rlc3QnXG4gICAgICAgICAgICA/IGA8c3BhbiBjbGFzcz1cImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPjxzcGFuIGNsYXNzPVwiaC00IHctNCBhbmltYXRlLXNwaW4gcm91bmRlZC1mdWxsIGJvcmRlci0yIGJvcmRlci1zbGF0ZS0yMDAgYm9yZGVyLXQtc2xhdGUtNjAwXCI+PC9zcGFuPjxzcGFuPlRlc3QgZW4gY291cnNcdTIwMjY8L3NwYW4+PC9zcGFuPmBcbiAgICAgICAgICAgIDogJ1Rlc3RlciBsYSBjb25uZXhpb24nO1xuICAgICAgfVxuICAgICAgaWYgKGRlcGxveUJ1dHRvbikge1xuICAgICAgICBkZXBsb3lCdXR0b24uZGlzYWJsZWQgPSBkaXNhYmxlICYmIGFjdGlvbiAhPT0gbnVsbDtcbiAgICAgICAgZGVwbG95QnV0dG9uLmlubmVySFRNTCA9XG4gICAgICAgICAgYWN0aW9uID09PSAnZGVwbG95J1xuICAgICAgICAgICAgPyBgPHNwYW4gY2xhc3M9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj48c3BhbiBjbGFzcz1cImgtNCB3LTQgYW5pbWF0ZS1zcGluIHJvdW5kZWQtZnVsbCBib3JkZXItMiBib3JkZXItd2hpdGUvNjAgYm9yZGVyLXQtd2hpdGVcIj48L3NwYW4+PHNwYW4+RFx1MDBFOXBsb2llbWVudFx1MjAyNjwvc3Bhbj48L3NwYW4+YFxuICAgICAgICAgICAgOiAnRFx1MDBFOXBsb3llciBtYWludGVuYW50JztcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgcG9wdWxhdGVGb3JtID0gKGNvbmZpZykgPT4ge1xuICAgICAgcHJvdG9jb2xTZWxlY3QgJiYgKHByb3RvY29sU2VsZWN0LnZhbHVlID0gY29uZmlnLnByb3RvY29sIHx8ICdzZnRwJyk7XG4gICAgICBob3N0SW5wdXQgJiYgKGhvc3RJbnB1dC52YWx1ZSA9IGNvbmZpZy5ob3N0IHx8ICcnKTtcbiAgICAgIHBvcnRJbnB1dCAmJiAocG9ydElucHV0LnZhbHVlID0gY29uZmlnLnBvcnQgfHwgJycpO1xuICAgICAgdXNlcklucHV0ICYmICh1c2VySW5wdXQudmFsdWUgPSBjb25maWcudXNlciB8fCAnJyk7XG4gICAgICByZW1vdGVQYXRoSW5wdXQgJiYgKHJlbW90ZVBhdGhJbnB1dC52YWx1ZSA9IGNvbmZpZy5yZW1vdGVQYXRoIHx8ICcvd3d3Jyk7XG4gICAgICBoYXNQYXNzd29yZCA9IEJvb2xlYW4oY29uZmlnLmhhc1Bhc3N3b3JkKTtcbiAgICAgIGlmIChwYXNzd29yZElucHV0KSB7XG4gICAgICAgIHBhc3N3b3JkSW5wdXQudmFsdWUgPSAnJztcbiAgICAgICAgcGFzc3dvcmRJbnB1dC5wbGFjZWhvbGRlciA9IGhhc1Bhc3N3b3JkID8gJ05vbiBhZmZpY2hcdTAwRTknIDogJ01vdCBkZSBwYXNzZSc7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHJlbmRlckhpc3RvcnkgPSAoZW50cmllcyA9IFtdKSA9PiB7XG4gICAgICBpZiAoIWhpc3RvcnlMaXN0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGhpc3RvcnlMaXN0LmlubmVySFRNTCA9ICcnO1xuICAgICAgaWYgKCFlbnRyaWVzLmxlbmd0aCkge1xuICAgICAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICAgIGxpLmNsYXNzTmFtZSA9ICd0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICAgIGxpLnRleHRDb250ZW50ID0gJ0F1Y3VuIGRcdTAwRTlwbG9pZW1lbnQgcG91ciBsZSBtb21lbnQuJztcbiAgICAgICAgaGlzdG9yeUxpc3QuYXBwZW5kQ2hpbGQobGkpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBlbnRyaWVzLmZvckVhY2goKGVudHJ5KSA9PiB7XG4gICAgICAgIGNvbnN0IGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgbGkuY2xhc3NOYW1lID1cbiAgICAgICAgICAnZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIGdhcC0yIHJvdW5kZWQteGwgYm9yZGVyIGJvcmRlci1zbGF0ZS0yMDAgcHgtMyBweS0yJztcbiAgICAgICAgY29uc3Qgc3RhdHVzQmFkZ2UgPVxuICAgICAgICAgIGVudHJ5LnN0YXR1cyA9PT0gJ3N1Y2Nlc3MnXG4gICAgICAgICAgICA/ICc8c3BhbiBjbGFzcz1cInJvdW5kZWQtZnVsbCBiZy1lbWVyYWxkLTUwIHB4LTIgcHktMC41IHRleHQtWzExcHhdIGZvbnQtc2VtaWJvbGQgdGV4dC1lbWVyYWxkLTcwMFwiPlN1Y2NcdTAwRThzPC9zcGFuPidcbiAgICAgICAgICAgIDogJzxzcGFuIGNsYXNzPVwicm91bmRlZC1mdWxsIGJnLXJvc2UtNTAgcHgtMiBweS0wLjUgdGV4dC1bMTFweF0gZm9udC1zZW1pYm9sZCB0ZXh0LXJvc2UtNzAwXCI+XHUwMEM5Y2hlYzwvc3Bhbj4nO1xuICAgICAgICBjb25zdCBkYXRlID0gZW50cnkuZmluaXNoZWRBdCB8fCBlbnRyeS5zdGFydGVkQXQgfHwgJyc7XG4gICAgICAgIGNvbnN0IGR1cmF0aW9uID1cbiAgICAgICAgICBlbnRyeS5kdXJhdGlvbk1zICYmIE51bWJlcihlbnRyeS5kdXJhdGlvbk1zKSA+PSAwXG4gICAgICAgICAgICA/IGAke01hdGgucm91bmQoTnVtYmVyKGVudHJ5LmR1cmF0aW9uTXMpIC8gMTAwMCl9c2BcbiAgICAgICAgICAgIDogJyc7XG4gICAgICAgIGxpLmlubmVySFRNTCA9IGBcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwic3BhY2UteS0xXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj4ke3N0YXR1c0JhZGdlfTxzcGFuIGNsYXNzPVwidGV4dC14cyB0ZXh0LXNsYXRlLTUwMFwiPiR7ZGF0ZX08L3NwYW4+PC9kaXY+XG4gICAgICAgICAgICA8cCBjbGFzcz1cInRleHQtc20gdGV4dC1zbGF0ZS04MDBcIj4ke2VudHJ5Lm1lc3NhZ2UgfHwgJyd9PC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNTAwXCI+JHtkdXJhdGlvbn08L2Rpdj5cbiAgICAgICAgYDtcbiAgICAgICAgbGkuZGF0YXNldC5kZXBsb3lJZCA9IGVudHJ5LmlkIHx8ICcnO1xuICAgICAgICBsaS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICBpZiAoZW50cnkubG9ncyAmJiBsb2dCb3gpIHtcbiAgICAgICAgICAgIGxvZ0JveC50ZXh0Q29udGVudCA9IGVudHJ5LmxvZ3Muam9pbignXFxuJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaGlzdG9yeUxpc3QuYXBwZW5kQ2hpbGQobGkpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IHJlbmRlckxvZ3MgPSAobGluZXMgPSBbXSkgPT4ge1xuICAgICAgaWYgKCFsb2dCb3gpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbG9nQm94LnRleHRDb250ZW50ID0gbGluZXMubGVuZ3RoID8gbGluZXMuam9pbignXFxuJykgOiAnQXVjdW4gbG9nIHBvdXIgbGUgbW9tZW50Lic7XG4gICAgfTtcblxuICAgIGNvbnN0IGZldGNoSGlzdG9yeSA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghZGVwbG95TG9nQXBpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goZGVwbG95TG9nQXBpLCB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwNCkge1xuICAgICAgICAgICAgcmVuZGVySGlzdG9yeShbXSk7XG4gICAgICAgICAgICByZW5kZXJMb2dzKFsnQVBJIGRcdTAwRTlwbG9pZW1lbnQgaW5kaXNwb25pYmxlIChyZWRcdTAwRTltYXJyZSBsZSBzZXJ2ZXVyKS4nXSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxcdTIwMTloaXN0b3JpcXVlLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIGNvbnN0IGVudHJpZXMgPSBBcnJheS5pc0FycmF5KHBheWxvYWQuZW50cmllcykgPyBwYXlsb2FkLmVudHJpZXMgOiBbXTtcbiAgICAgICAgcmVuZGVySGlzdG9yeShlbnRyaWVzKTtcbiAgICAgICAgaWYgKGVudHJpZXNbMF0/LmxvZ3MpIHtcbiAgICAgICAgICByZW5kZXJMb2dzKGVudHJpZXNbMF0ubG9ncyk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZGVwbG95XSBoaXN0b3J5IGZhaWxlZCcsIGVycik7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGZldGNoQ29uZmlnID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFkZXBsb3lBcGlCYXNlKSB7XG4gICAgICAgIHNldEZlZWRiYWNrKCdBdWN1biBzaXRlIGFjdGlmIHNcdTAwRTlsZWN0aW9ublx1MDBFOS4nLCAnZXJyb3InKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2V0QnVzeSgnbG9hZCcpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChkZXBsb3lBcGlCYXNlLCB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgcG9wdWxhdGVGb3JtKHBheWxvYWQgfHwge30pO1xuICAgICAgICAgIHNldEZlZWRiYWNrKCdDb25maWd1cmF0aW9uIGNoYXJnXHUwMEU5ZS4nLCAnbXV0ZWQnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwb3B1bGF0ZUZvcm0ocGF5bG9hZCB8fCB7fSk7XG4gICAgICAgICAgc2V0RmVlZGJhY2socGF5bG9hZC5tZXNzYWdlIHx8ICdDb25maWd1cmF0aW9uIHBhciBkXHUwMEU5ZmF1dCBjaGFyZ1x1MDBFOWUuJywgJ211dGVkJyk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZGVwbG95XSBsb2FkIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNldEZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkdSBjaGFyZ2VtZW50LicsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0QnVzeShudWxsKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgYnVpbGRQYXlsb2FkID0gKCkgPT4ge1xuICAgICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgcHJvdG9jb2w6IHByb3RvY29sU2VsZWN0Py52YWx1ZSB8fCAnc2Z0cCcsXG4gICAgICAgIGhvc3Q6IGhvc3RJbnB1dD8udmFsdWUudHJpbSgpIHx8ICcnLFxuICAgICAgICBwb3J0OiBOdW1iZXIocG9ydElucHV0Py52YWx1ZSkgfHwgdW5kZWZpbmVkLFxuICAgICAgICB1c2VyOiB1c2VySW5wdXQ/LnZhbHVlLnRyaW0oKSB8fCAnJyxcbiAgICAgICAgcmVtb3RlUGF0aDogc2FuaXRpemVSZW1vdGVQYXRoKHJlbW90ZVBhdGhJbnB1dD8udmFsdWUgfHwgJy93d3cnKSxcbiAgICAgIH07XG4gICAgICBjb25zdCBwd2QgPSBwYXNzd29yZElucHV0Py52YWx1ZSB8fCAnJztcbiAgICAgIGlmIChwd2QudHJpbSgpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcGF5bG9hZC5wYXNzd29yZCA9IHB3ZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH07XG5cbiAgICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmICghZGVwbG95QXBpQmFzZSkge1xuICAgICAgICBzZXRGZWVkYmFjaygnQXVjdW4gc2l0ZSBhY3RpZiBzXHUwMEU5bGVjdGlvbm5cdTAwRTkuJywgJ2Vycm9yJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHBheWxvYWQgPSBidWlsZFBheWxvYWQoKTtcbiAgICAgIHNldEJ1c3koJ3NhdmUnKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goZGVwbG95QXBpQmFzZSwge1xuICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgY29uc3QgZXJyb3JQYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvclBheWxvYWQubWVzc2FnZSB8fCAnU2F1dmVnYXJkZSBpbXBvc3NpYmxlLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNhdmVkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBwb3B1bGF0ZUZvcm0oc2F2ZWQgfHwge30pO1xuICAgICAgICBzZXRGZWVkYmFjaygnQ29uZmlndXJhdGlvbiBlbnJlZ2lzdHJcdTAwRTllLicsICdzdWNjZXNzJyk7XG4gICAgICAgIHNob3dUb2FzdCgnQ29uZmlndXJhdGlvbiBkXHUwMEU5cGxvaWVtZW50IHNhdXZlZ2FyZFx1MDBFOWUnKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZGVwbG95XSBzYXZlIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNldEZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsYSBzYXV2ZWdhcmRlLicsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0QnVzeShudWxsKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRlc3RCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFkZXBsb3lBcGlCYXNlKSB7XG4gICAgICAgIHNldEZlZWRiYWNrKCdBdWN1biBzaXRlIGFjdGlmIHNcdTAwRTlsZWN0aW9ublx1MDBFOS4nLCAnZXJyb3InKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgcGF5bG9hZCA9IGJ1aWxkUGF5bG9hZCgpO1xuICAgICAgaWYgKCFwYXlsb2FkLmhvc3QgfHwgIXBheWxvYWQudXNlciB8fCAhcGF5bG9hZC5yZW1vdGVQYXRoKSB7XG4gICAgICAgIHNldEZlZWRiYWNrKCdSZW1wbGlzc2V6IGxlcyBjaGFtcHMgcmVxdWlzIGF2YW50IGRlIHRlc3Rlci4nLCAnZXJyb3InKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2V0QnVzeSgndGVzdCcpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtkZXBsb3lBcGlCYXNlfS90ZXN0YCwge1xuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rIHx8IHJlc3VsdC5zdWNjZXNzID09PSBmYWxzZSkge1xuICAgICAgICAgIHNldEZlZWRiYWNrKHJlc3VsdC5tZXNzYWdlIHx8ICdUZXN0IGRlIGNvbm5leGlvbiBcdTAwRTljaG91XHUwMEU5LicsICdlcnJvcicpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzZXRGZWVkYmFjayhyZXN1bHQubWVzc2FnZSB8fCAnQ29ubmV4aW9uIE9LLicsICdzdWNjZXNzJyk7XG4gICAgICAgIHNob3dUb2FzdCgnVGVzdCBkZSBjb25uZXhpb24gclx1MDBFOXVzc2knKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZGVwbG95XSB0ZXN0IGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNldEZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdUZXN0IGRlIGNvbm5leGlvbiBcdTAwRTljaG91XHUwMEU5LicsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0QnVzeShudWxsKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGRlcGxveUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWRlcGxveVJ1bkFwaSkge1xuICAgICAgICBzZXRGZWVkYmFjaygnQXVjdW4gc2l0ZSBhY3RpZiBzXHUwMEU5bGVjdGlvbm5cdTAwRTkuJywgJ2Vycm9yJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNldEJ1c3koJ2RlcGxveScpO1xuICAgICAgcmVuZGVyTG9ncyhbJ0RcdTAwRTlwbG9pZW1lbnQgZW4gY291cnNcdTIwMjYnXSk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGRlcGxveVJ1bkFwaSwge1xuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJ1aWxkUGF5bG9hZCgpKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwNCkge1xuICAgICAgICAgICAgc2V0RmVlZGJhY2soJ0FQSSBkXHUwMEU5cGxvaWVtZW50IGluZGlzcG9uaWJsZSAocmVkXHUwMEU5bWFycmUgbGUgc2VydmV1cikuJywgJ2Vycm9yJyk7XG4gICAgICAgICAgICByZW5kZXJMb2dzKFsnQVBJIGRcdTAwRTlwbG9pZW1lbnQgaW5kaXNwb25pYmxlIChyZWRcdTAwRTltYXJyZSBsZSBzZXJ2ZXVyKS4nXSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlbmRlckxvZ3MocmVzdWx0LmxvZ3MgfHwgW10pO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQubWVzc2FnZSB8fCAnRFx1MDBFOXBsb2llbWVudCBcdTAwRTljaG91XHUwMEU5LicpO1xuICAgICAgICB9XG4gICAgICAgIHJlbmRlckxvZ3MocmVzdWx0LmxvZ3MgfHwgW10pO1xuICAgICAgICBhd2FpdCBmZXRjaEhpc3RvcnkoKTtcbiAgICAgICAgc2hvd1RvYXN0KCdEXHUwMEU5cGxvaWVtZW50IHRlcm1pblx1MDBFOScpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkZXBsb3ldIHJ1biBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzZXRGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRFx1MDBFOXBsb2llbWVudCBcdTAwRTljaG91XHUwMEU5LicsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0QnVzeShudWxsKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHNob3dQYXNzd29yZFRvZ2dsZT8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICAgICAgaWYgKCFwYXNzd29yZElucHV0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHBhc3N3b3JkSW5wdXQudHlwZSA9IHNob3dQYXNzd29yZFRvZ2dsZS5jaGVja2VkID8gJ3RleHQnIDogJ3Bhc3N3b3JkJztcbiAgICB9KTtcblxuICAgIGZldGNoQ29uZmlnKCk7XG4gICAgZmV0Y2hIaXN0b3J5KCk7XG4gIH1cblxuICBmdW5jdGlvbiBpbml0U2V0dGluZ3NXb3Jrc3BhY2UoKSB7XG4gICAgY29uc3QgdGFiQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXNldHRpbmdzLXRhYl0nKTtcbiAgICBjb25zdCB0YWJQYW5lbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1zZXR0aW5ncy1wYW5lbF0nKTtcbiAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRtaW4tcGFzc3dvcmQtZm9ybV0nKTtcbiAgICBjb25zdCBzaXRlRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtY29uZmlnLWZvcm1dJyk7XG4gICAgY29uc3Qgc2l0ZUZlZWRiYWNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS1jb25maWctZmVlZGJhY2tdJyk7XG4gICAgY29uc3QgdGhlbWVGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtZm9ybV0nKTtcbiAgICBjb25zdCBzd2l0Y2hUYWIgPSAobmFtZSkgPT4ge1xuICAgICAgdGFiQnV0dG9ucy5mb3JFYWNoKChidG4pID0+IHtcbiAgICAgICAgY29uc3QgaXNBY3RpdmUgPSBidG4uZGF0YXNldC5zZXR0aW5nc1RhYiA9PT0gbmFtZTtcbiAgICAgICAgYnRuLnNldEF0dHJpYnV0ZSgnYXJpYS1zZWxlY3RlZCcsIGlzQWN0aXZlID8gJ3RydWUnIDogJ2ZhbHNlJyk7XG4gICAgICAgIGJ0bi5jbGFzc0xpc3QudG9nZ2xlKCdiZy1bIzlDNkJGRl0nLCBpc0FjdGl2ZSk7XG4gICAgICAgIGJ0bi5jbGFzc0xpc3QudG9nZ2xlKCd0ZXh0LXdoaXRlJywgaXNBY3RpdmUpO1xuICAgICAgfSk7XG4gICAgICB0YWJQYW5lbHMuZm9yRWFjaCgocGFuZWwpID0+IHtcbiAgICAgICAgcGFuZWwuY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZGVuJywgcGFuZWwuZGF0YXNldC5zZXR0aW5nc1BhbmVsICE9PSBuYW1lKTtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgdGFiQnV0dG9ucy5mb3JFYWNoKChidG4pID0+IHtcbiAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHN3aXRjaFRhYihidG4uZGF0YXNldC5zZXR0aW5nc1RhYiB8fCAnYWNjb3VudCcpKTtcbiAgICB9KTtcbiAgICBzd2l0Y2hUYWIoJ2FjY291bnQnKTtcblxuICAgIGlmICghZm9ybSkge1xuICAgICAgLy8gc3RpbGwgYWxsb3cgc2l0ZSBmb3JtIGV2ZW4gaWYgcGFzc3dvcmQgZm9ybSBhYnNlbnRcbiAgICB9XG4gICAgaWYgKGZvcm0pIHtcbiAgICAgIGNvbnN0IGZlZWRiYWNrID0gZm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZG1pbi1wYXNzd29yZC1mZWVkYmFja10nKTtcbiAgICAgIGNvbnN0IHN1Ym1pdCA9IGZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYWRtaW4tcGFzc3dvcmQtc3VibWl0XScpO1xuICAgICAgY29uc3Qgc2V0RmVlZGJhY2sgPSAobWVzc2FnZSwgdG9uZSA9ICdtdXRlZCcpID0+IHtcbiAgICAgICAgaWYgKCFmZWVkYmFjaykgcmV0dXJuO1xuICAgICAgICBjb25zdCBjb2xvciA9XG4gICAgICAgICAgdG9uZSA9PT0gJ3N1Y2Nlc3MnXG4gICAgICAgICAgICA/ICd0ZXh0LWVtZXJhbGQtNjAwJ1xuICAgICAgICAgICAgOiB0b25lID09PSAnZXJyb3InXG4gICAgICAgICAgICAgID8gJ3RleHQtcm9zZS02MDAnXG4gICAgICAgICAgICAgIDogJ3RleHQtc2xhdGUtNTAwJztcbiAgICAgICAgZmVlZGJhY2sudGV4dENvbnRlbnQgPSBtZXNzYWdlIHx8ICcnO1xuICAgICAgICBmZWVkYmFjay5jbGFzc05hbWUgPSBgdGV4dC1zbSAke2NvbG9yfWA7XG4gICAgICB9O1xuICAgICAgZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoZm9ybSk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRQYXNzd29yZCA9IGZvcm1EYXRhLmdldCgnY3VycmVudFBhc3N3b3JkJykgfHwgJyc7XG4gICAgICAgIGNvbnN0IG5ld1Bhc3N3b3JkID0gZm9ybURhdGEuZ2V0KCduZXdQYXNzd29yZCcpIHx8ICcnO1xuICAgICAgICBjb25zdCBjb25maXJtUGFzc3dvcmQgPSBmb3JtRGF0YS5nZXQoJ2NvbmZpcm1QYXNzd29yZCcpIHx8ICcnO1xuICAgICAgICBpZiAoIWN1cnJlbnRQYXNzd29yZCB8fCAhbmV3UGFzc3dvcmQgfHwgIWNvbmZpcm1QYXNzd29yZCkge1xuICAgICAgICAgIHNldEZlZWRiYWNrKCdDb21wbFx1MDBFOHRlIHRvdXMgbGVzIGNoYW1wcy4nLCAnZXJyb3InKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc3VibWl0ICYmIChzdWJtaXQuZGlzYWJsZWQgPSB0cnVlKTtcbiAgICAgICAgc2V0RmVlZGJhY2soJycpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvYWRtaW4vcGFzc3dvcmQnLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBjdXJyZW50UGFzc3dvcmQsIG5ld1Bhc3N3b3JkLCBjb25maXJtUGFzc3dvcmQgfSksXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rIHx8IHBheWxvYWQuc3VjY2VzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihwYXlsb2FkLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgbWV0dHJlIFx1MDBFMCBqb3VyIGxlIG1vdCBkZSBwYXNzZS4nKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0RmVlZGJhY2socGF5bG9hZC5tZXNzYWdlIHx8ICdNb3QgZGUgcGFzc2UgbWlzIFx1MDBFMCBqb3VyLicsICdzdWNjZXNzJyk7XG4gICAgICAgICAgZm9ybS5yZXNldCgpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIGNoYW5nZSBwYXNzd29yZCBmYWlsZWQnLCBlcnIpO1xuICAgICAgICAgIHNldEZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsYSBtaXNlIFx1MDBFMCBqb3VyLicsICdlcnJvcicpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIHN1Ym1pdCAmJiAoc3VibWl0LmRpc2FibGVkID0gZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoc2l0ZUZvcm0pIHtcbiAgICAgIGNvbnN0IG5hbWVJbnB1dCA9IHNpdGVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtbmFtZV0nKTtcbiAgICAgIGNvbnN0IGxhbmdTZWxlY3QgPSBzaXRlRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLWxhbmd1YWdlXScpO1xuICAgICAgY29uc3QgdGFnbGluZUlucHV0ID0gc2l0ZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS10YWdsaW5lXScpO1xuICAgICAgY29uc3Qgc2F2ZUJ1dHRvbiA9IHNpdGVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtc2F2ZV0nKTtcbiAgICAgIGNvbnN0IHNldFNpdGVGZWVkYmFjayA9IChtZXNzYWdlLCB0b25lID0gJ211dGVkJykgPT4ge1xuICAgICAgICBpZiAoIXNpdGVGZWVkYmFjaykgcmV0dXJuO1xuICAgICAgICBjb25zdCBjb2xvciA9XG4gICAgICAgICAgdG9uZSA9PT0gJ3N1Y2Nlc3MnXG4gICAgICAgICAgICA/ICd0ZXh0LWVtZXJhbGQtNjAwJ1xuICAgICAgICAgICAgOiB0b25lID09PSAnZXJyb3InXG4gICAgICAgICAgICAgID8gJ3RleHQtcm9zZS02MDAnXG4gICAgICAgICAgICAgIDogJ3RleHQtc2xhdGUtNTAwJztcbiAgICAgICAgc2l0ZUZlZWRiYWNrLnRleHRDb250ZW50ID0gbWVzc2FnZSB8fCAnJztcbiAgICAgICAgc2l0ZUZlZWRiYWNrLmNsYXNzTmFtZSA9IGB0ZXh0LXNtICR7Y29sb3J9YDtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHNhZmVTaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKFxuICAgICAgICB3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnLFxuICAgICAgKTtcbiAgICAgIGNvbnN0IHNpdGVDb25maWdBcGkgPSBzYWZlU2l0ZVNsdWdcbiAgICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9jb25maWcvc2l0ZWBcbiAgICAgICAgOiBudWxsO1xuXG4gICAgICBjb25zdCBsb2FkU2l0ZUNvbmZpZyA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKCFzaXRlQ29uZmlnQXBpKSByZXR1cm47XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChzaXRlQ29uZmlnQXBpLCB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSByZXR1cm47XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICBpZiAobmFtZUlucHV0KSBuYW1lSW5wdXQudmFsdWUgPSBwYXlsb2FkLm5hbWUgfHwgJyc7XG4gICAgICAgICAgaWYgKGxhbmdTZWxlY3QpIGxhbmdTZWxlY3QudmFsdWUgPSBwYXlsb2FkLmxhbmd1YWdlIHx8ICdmcic7XG4gICAgICAgICAgaWYgKHRhZ2xpbmVJbnB1dCkgdGFnbGluZUlucHV0LnZhbHVlID0gcGF5bG9hZC50YWdsaW5lIHx8ICcnO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIGxvYWQgc2l0ZSBjb25maWcgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgc2l0ZUZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmICghc2l0ZUNvbmZpZ0FwaSkge1xuICAgICAgICAgIHNldFNpdGVGZWVkYmFjaygnQXVjdW4gc2l0ZSBhY3RpZi4nLCAnZXJyb3InKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFuYW1lSW5wdXQ/LnZhbHVlLnRyaW0oKSkge1xuICAgICAgICAgIHNldFNpdGVGZWVkYmFjaygnTm9tIHJlcXVpcy4nLCAnZXJyb3InKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc2F2ZUJ1dHRvbiAmJiAoc2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWUpO1xuICAgICAgICBzZXRTaXRlRmVlZGJhY2soJycpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgICAgICBuYW1lOiBuYW1lSW5wdXQ/LnZhbHVlIHx8ICcnLFxuICAgICAgICAgICAgbGFuZ3VhZ2U6IGxhbmdTZWxlY3Q/LnZhbHVlIHx8ICdmcicsXG4gICAgICAgICAgICB0YWdsaW5lOiB0YWdsaW5lSW5wdXQ/LnZhbHVlIHx8ICcnLFxuICAgICAgICAgIH07XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChzaXRlQ29uZmlnQXBpLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vayB8fCByZXN1bHQuc3VjY2VzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQubWVzc2FnZSB8fCAnU2F1dmVnYXJkZSBpbXBvc3NpYmxlLicpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXRTaXRlRmVlZGJhY2socmVzdWx0Lm1lc3NhZ2UgfHwgJ1BhcmFtXHUwMEU4dHJlcyBlbnJlZ2lzdHJcdTAwRTlzLicsICdzdWNjZXNzJyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gc2F2ZSBzaXRlIGNvbmZpZyBmYWlsZWQnLCBlcnIpO1xuICAgICAgICAgIHNldFNpdGVGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZGUgbGEgc2F1dmVnYXJkZS4nLCAnZXJyb3InKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBzYXZlQnV0dG9uICYmIChzYXZlQnV0dG9uLmRpc2FibGVkID0gZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgbG9hZFNpdGVDb25maWcoKTtcbiAgICB9XG5cbiAgICBpZiAodGhlbWVGb3JtKSB7XG4gICAgICBjb25zdCBzYWZlU2l0ZVNsdWcgPSBzdHJpcExlYWRpbmdTbGFzaChcbiAgICAgICAgd29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyxcbiAgICAgICk7XG4gICAgICBjb25zdCB0aGVtZUFwaSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Zyl9L2NvbmZpZy90aGVtZWBcbiAgICAgICAgOiBudWxsO1xuXG4gICAgICBjb25zdCBjb2xvclNlbGVjdHMgPSB7XG4gICAgICAgIHByaW1hcnk6IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1wcmltYXJ5XScpLFxuICAgICAgICBzZWNvbmRhcnk6IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1zZWNvbmRhcnldJyksXG4gICAgICAgIGFjY2VudDogdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLWFjY2VudF0nKSxcbiAgICAgICAgYmFja2dyb3VuZDogdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLWJhY2tncm91bmRdJyksXG4gICAgICAgIHRleHQ6IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS10ZXh0XScpLFxuICAgICAgfTtcbiAgICAgIGNvbnN0IGhlYWRpbmdTZWxlY3QgPSB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtaGVhZGluZ3NdJyk7XG4gICAgICBjb25zdCBib2R5U2VsZWN0ID0gdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLWJvZHldJyk7XG4gICAgICBjb25zdCByYWRpdXNTbWFsbCA9IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1yYWRpdXMtc21hbGxdJyk7XG4gICAgICBjb25zdCByYWRpdXNNZWRpdW0gPSB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtcmFkaXVzLW1lZGl1bV0nKTtcbiAgICAgIGNvbnN0IHJhZGl1c0xhcmdlID0gdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLXJhZGl1cy1sYXJnZV0nKTtcbiAgICAgIGNvbnN0IHByZXZpZXcgPSB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtcHJldmlld10nKTtcbiAgICAgIGNvbnN0IHRoZW1lRmVlZGJhY2sgPSB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtZmVlZGJhY2tdJyk7XG4gICAgICBjb25zdCBhcHBseUJ1dHRvbiA9IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1hcHBseV0nKTtcbiAgICAgIGNvbnN0IHRhaWx3aW5kSHVlcyA9IFtcbiAgICAgICAgJ3NsYXRlJywnZ3JheScsJ3ppbmMnLCduZXV0cmFsJywnc3RvbmUnLCdyZWQnLCdvcmFuZ2UnLCdhbWJlcicsJ3llbGxvdycsJ2xpbWUnLCdncmVlbicsJ2VtZXJhbGQnLCd0ZWFsJywnY3lhbicsJ3NreScsJ2JsdWUnLCdpbmRpZ28nLCd2aW9sZXQnLCdwdXJwbGUnLCdmdWNoc2lhJywncGluaycsJ3Jvc2UnXG4gICAgICBdO1xuICAgICAgY29uc3QgdGFpbHdpbmRTaGFkZXMgPSBbJzUwJywnMTAwJywnMjAwJywnMzAwJywnNDAwJywnNTAwJywnNjAwJywnNzAwJywnODAwJywnOTAwJ107XG4gICAgICBjb25zdCB0YWlsd2luZFRva2VucyA9IHRhaWx3aW5kSHVlcy5mbGF0TWFwKChoKT0+dGFpbHdpbmRTaGFkZXMubWFwKChzKT0+YCR7aH0tJHtzfWApKTtcblxuICAgICAgY29uc3QgZmlsbENvbG9yT3B0aW9ucyA9ICgpID0+IHtcbiAgICAgICAgT2JqZWN0LnZhbHVlcyhjb2xvclNlbGVjdHMpLmZvckVhY2goKHNlbCk9PntcbiAgICAgICAgICBpZiAoIXNlbCB8fCBzZWwub3B0aW9ucy5sZW5ndGgpIHJldHVybjtcbiAgICAgICAgICB0YWlsd2luZFRva2Vucy5mb3JFYWNoKCh0b2tlbik9PntcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgICAgICAgIG9wdGlvbi52YWx1ZT10b2tlbjtcbiAgICAgICAgICAgIGNvbnN0IFtoLHNdPXRva2VuLnNwbGl0KCctJyk7XG4gICAgICAgICAgICBvcHRpb24udGV4dENvbnRlbnQ9YCR7aC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStoLnNsaWNlKDEpfSAke3N9YDtcbiAgICAgICAgICAgIHNlbC5hcHBlbmRDaGlsZChvcHRpb24pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHNldFRoZW1lRmVlZGJhY2sgPSAobWVzc2FnZSwgdG9uZSA9ICdtdXRlZCcpID0+IHtcbiAgICAgICAgaWYgKCF0aGVtZUZlZWRiYWNrKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGNvbG9yID1cbiAgICAgICAgICB0b25lID09PSAnc3VjY2VzcydcbiAgICAgICAgICAgID8gJ3RleHQtZW1lcmFsZC02MDAnXG4gICAgICAgICAgICA6IHRvbmUgPT09ICdlcnJvcidcbiAgICAgICAgICAgICAgPyAndGV4dC1yb3NlLTYwMCdcbiAgICAgICAgICAgICAgOiAndGV4dC1zbGF0ZS01MDAnO1xuICAgICAgICB0aGVtZUZlZWRiYWNrLnRleHRDb250ZW50ID0gbWVzc2FnZSB8fCAnJztcbiAgICAgICAgdGhlbWVGZWVkYmFjay5jbGFzc05hbWUgPSBgdGV4dC1zbSAke2NvbG9yfWA7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBzeW5jUHJldmlldyA9ICgpID0+IHtcbiAgICAgICAgaWYgKCFwcmV2aWV3KSByZXR1cm47XG4gICAgICAgIGNvbnN0IHRva2VuVG9IZXggPSAodG9rZW4pID0+IHtcbiAgICAgICAgICBpZiAoIXRva2VuKSByZXR1cm4gbnVsbDtcbiAgICAgICAgICBjb25zdCBbaCxzXT10b2tlbi5zcGxpdCgnLScpO1xuICAgICAgICAgIGNvbnN0IG1hcCA9IHtcbiAgICAgICAgICAgIHNsYXRlOicjZTJlOGYwJyxncmF5OicjZDFkNWRiJyx6aW5jOicjZDRkNGQ4JyxuZXV0cmFsOicjZDRkNGQ0JyxzdG9uZTonI2Q2ZDNkMScsXG4gICAgICAgICAgICByZWQ6JyNlZjQ0NDQnLG9yYW5nZTonI2Y5NzMxNicsYW1iZXI6JyNmNTllMGInLHllbGxvdzonI2VhYjMwOCcsbGltZTonIzg0Y2MxNicsXG4gICAgICAgICAgICBncmVlbjonIzIyYzU1ZScsZW1lcmFsZDonIzEwYjk4MScsdGVhbDonIzE0YjhhNicsY3lhbjonIzA2YjZkNCcsc2t5OicjMGVhNWU5JyxcbiAgICAgICAgICAgIGJsdWU6JyMzYjgyZjYnLGluZGlnbzonIzYzNjZmMScsdmlvbGV0OicjOGI1Y2Y2JyxwdXJwbGU6JyNhODU1ZjcnLGZ1Y2hzaWE6JyNkOTQ2ZWYnLFxuICAgICAgICAgICAgcGluazonI2VjNDg5OScscm9zZTonI2Y0M2Y1ZSdcbiAgICAgICAgICB9O1xuICAgICAgICAgIGNvbnN0IGJhc2U9bWFwW2hdO1xuICAgICAgICAgIGlmICghYmFzZSkgcmV0dXJuIG51bGw7XG4gICAgICAgICAgLy8gcm91Z2ggc2hhZGUgdHdlYWsgdXNpbmcgb3BhY2l0eTsgbm90IGV4YWN0IFRhaWx3aW5kIHBhbGV0dGUgYnV0IHByZXZpZXctZnJpZW5kbHlcbiAgICAgICAgICBjb25zdCBzaGFkZU51bT1OdW1iZXIocyl8fDUwMDtcbiAgICAgICAgICBjb25zdCBmYWN0b3IgPSBNYXRoLm1pbihNYXRoLm1heCgoc2hhZGVOdW0tNTApLzkwMCwwKSwxKTtcbiAgICAgICAgICBjb25zdCB0b1JnYj0oaGV4KT0+aGV4Lm1hdGNoKC9bQS1GYS1mMC05XXsyfS9nKS5tYXAoKHYpPT5wYXJzZUludCh2LDE2KSk7XG4gICAgICAgICAgY29uc3QgW3IsZyxiXT10b1JnYihiYXNlLnJlcGxhY2UoJyMnLCcnKSk7XG4gICAgICAgICAgY29uc3QgbWl4PSh2KT0+TWF0aC5yb3VuZCgyNTUgLSAoMjU1IC0gdikqZmFjdG9yKTtcbiAgICAgICAgICByZXR1cm4gYHJnYigke21peChyKX0sICR7bWl4KGcpfSwgJHttaXgoYil9KWA7XG4gICAgICAgIH07XG4gICAgICAgIHByZXZpZXcuc3R5bGUuc2V0UHJvcGVydHkoJy0tY29sb3ItcHJpbWFyeScsIHRva2VuVG9IZXgoY29sb3JTZWxlY3RzLnByaW1hcnk/LnZhbHVlKSB8fCAnIzlDNkJGRicpO1xuICAgICAgICBwcmV2aWV3LnN0eWxlLnNldFByb3BlcnR5KCctLWNvbG9yLXNlY29uZGFyeScsIHRva2VuVG9IZXgoY29sb3JTZWxlY3RzLnNlY29uZGFyeT8udmFsdWUpIHx8ICcjMEVBNUU5Jyk7XG4gICAgICAgIHByZXZpZXcuc3R5bGUuc2V0UHJvcGVydHkoJy0tY29sb3ItYWNjZW50JywgdG9rZW5Ub0hleChjb2xvclNlbGVjdHMuYWNjZW50Py52YWx1ZSkgfHwgJyNGOTczMTYnKTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1jb2xvci1iYWNrZ3JvdW5kJywgdG9rZW5Ub0hleChjb2xvclNlbGVjdHMuYmFja2dyb3VuZD8udmFsdWUpIHx8ICcjRkZGRkZGJyk7XG4gICAgICAgIHByZXZpZXcuc3R5bGUuc2V0UHJvcGVydHkoJy0tY29sb3ItdGV4dCcsIHRva2VuVG9IZXgoY29sb3JTZWxlY3RzLnRleHQ/LnZhbHVlKSB8fCAnIzBGMTcyQScpO1xuICAgICAgICBwcmV2aWV3LnN0eWxlLnNldFByb3BlcnR5KCctLWZvbnQtaGVhZGluZ3MnLCBoZWFkaW5nU2VsZWN0Py52YWx1ZSB8fCAnSW50ZXIsIHNhbnMtc2VyaWYnKTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1mb250LWJvZHknLCBib2R5U2VsZWN0Py52YWx1ZSB8fCAnSW50ZXIsIHNhbnMtc2VyaWYnKTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1yYWRpdXMtc21hbGwnLCByYWRpdXNTbWFsbD8udmFsdWUgfHwgJzhweCcpO1xuICAgICAgICBwcmV2aWV3LnN0eWxlLnNldFByb3BlcnR5KCctLXJhZGl1cy1tZWRpdW0nLCByYWRpdXNNZWRpdW0/LnZhbHVlIHx8ICcxNnB4Jyk7XG4gICAgICAgIHByZXZpZXcuc3R5bGUuc2V0UHJvcGVydHkoJy0tcmFkaXVzLWxhcmdlJywgcmFkaXVzTGFyZ2U/LnZhbHVlIHx8ICcyNHB4Jyk7XG4gICAgICAgIHByZXZpZXcuc3R5bGUuYm9yZGVyUmFkaXVzID0gcmFkaXVzTWVkaXVtPy52YWx1ZSB8fCAnMTZweCc7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBzZXRDb2xvckZpZWxkcyA9IChrZXksIHZhbHVlKSA9PiB7XG4gICAgICAgIGlmIChjb2xvclNlbGVjdHNba2V5XSkgY29sb3JTZWxlY3RzW2tleV0udmFsdWUgPSB2YWx1ZTtcbiAgICAgIH07XG5cbiAgICAgIE9iamVjdC5rZXlzKGNvbG9yU2VsZWN0cykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgIGNvbG9yU2VsZWN0c1trZXldPy5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBzeW5jUHJldmlldyk7XG4gICAgICB9KTtcbiAgICAgIFtoZWFkaW5nU2VsZWN0LCBib2R5U2VsZWN0LCByYWRpdXNTbWFsbCwgcmFkaXVzTWVkaXVtLCByYWRpdXNMYXJnZV0uZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgICAgZWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHN5bmNQcmV2aWV3KTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBsb2FkVGhlbWUgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIGlmICghdGhlbWVBcGkpIHJldHVybjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHRoZW1lQXBpLCB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSByZXR1cm47XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICBzZXRDb2xvckZpZWxkcygncHJpbWFyeScsIHBheWxvYWQuY29sb3JzPy5wcmltYXJ5IHx8ICd2aW9sZXQtNTAwJyk7XG4gICAgICAgICAgc2V0Q29sb3JGaWVsZHMoJ3NlY29uZGFyeScsIHBheWxvYWQuY29sb3JzPy5zZWNvbmRhcnkgfHwgJ2luZGlnby00MDAnKTtcbiAgICAgICAgICBzZXRDb2xvckZpZWxkcygnYWNjZW50JywgcGF5bG9hZC5jb2xvcnM/LmFjY2VudCB8fCAnZW1lcmFsZC01MDAnKTtcbiAgICAgICAgICBzZXRDb2xvckZpZWxkcygnYmFja2dyb3VuZCcsIHBheWxvYWQuY29sb3JzPy5iYWNrZ3JvdW5kIHx8ICdzbGF0ZS01MCcpO1xuICAgICAgICAgIHNldENvbG9yRmllbGRzKCd0ZXh0JywgcGF5bG9hZC5jb2xvcnM/LnRleHQgfHwgJ3NsYXRlLTkwMCcpO1xuICAgICAgICAgIGlmIChoZWFkaW5nU2VsZWN0KSBoZWFkaW5nU2VsZWN0LnZhbHVlID0gcGF5bG9hZC50eXBvZ3JhcGh5Py5oZWFkaW5ncyB8fCAnSW50ZXIsIHNhbnMtc2VyaWYnO1xuICAgICAgICAgIGlmIChib2R5U2VsZWN0KSBib2R5U2VsZWN0LnZhbHVlID0gcGF5bG9hZC50eXBvZ3JhcGh5Py5ib2R5IHx8ICdJbnRlciwgc2Fucy1zZXJpZic7XG4gICAgICAgICAgaWYgKHJhZGl1c1NtYWxsKSByYWRpdXNTbWFsbC52YWx1ZSA9IHBheWxvYWQucmFkaXVzPy5zbWFsbCB8fCAnOHB4JztcbiAgICAgICAgICBpZiAocmFkaXVzTWVkaXVtKSByYWRpdXNNZWRpdW0udmFsdWUgPSBwYXlsb2FkLnJhZGl1cz8ubWVkaXVtIHx8ICcxNnB4JztcbiAgICAgICAgICBpZiAocmFkaXVzTGFyZ2UpIHJhZGl1c0xhcmdlLnZhbHVlID0gcGF5bG9hZC5yYWRpdXM/LmxhcmdlIHx8ICcyNHB4JztcbiAgICAgICAgICBzeW5jUHJldmlldygpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIGxvYWQgdGhlbWUgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgZmlsbENvbG9yT3B0aW9ucygpO1xuICAgICAgYXBwbHlCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmICghdGhlbWVBcGkpIHtcbiAgICAgICAgICBzZXRUaGVtZUZlZWRiYWNrKCdBdWN1biBzaXRlIGFjdGlmLicsICdlcnJvcicpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICAgIGNvbG9yczoge1xuICAgICAgICAgICAgcHJpbWFyeTogY29sb3JTZWxlY3RzLnByaW1hcnk/LnZhbHVlIHx8ICd2aW9sZXQtNTAwJyxcbiAgICAgICAgICAgIHNlY29uZGFyeTogY29sb3JTZWxlY3RzLnNlY29uZGFyeT8udmFsdWUgfHwgJ2luZGlnby00MDAnLFxuICAgICAgICAgICAgYWNjZW50OiBjb2xvclNlbGVjdHMuYWNjZW50Py52YWx1ZSB8fCAnZW1lcmFsZC01MDAnLFxuICAgICAgICAgICAgYmFja2dyb3VuZDogY29sb3JTZWxlY3RzLmJhY2tncm91bmQ/LnZhbHVlIHx8ICdzbGF0ZS01MCcsXG4gICAgICAgICAgICB0ZXh0OiBjb2xvclNlbGVjdHMudGV4dD8udmFsdWUgfHwgJ3NsYXRlLTkwMCcsXG4gICAgICAgICAgfSxcbiAgICAgICAgICB0eXBvZ3JhcGh5OiB7XG4gICAgICAgICAgICBoZWFkaW5nczogaGVhZGluZ1NlbGVjdD8udmFsdWUgfHwgJ0ludGVyLCBzYW5zLXNlcmlmJyxcbiAgICAgICAgICAgIGJvZHk6IGJvZHlTZWxlY3Q/LnZhbHVlIHx8ICdJbnRlciwgc2Fucy1zZXJpZicsXG4gICAgICAgICAgfSxcbiAgICAgICAgICByYWRpdXM6IHtcbiAgICAgICAgICAgIHNtYWxsOiByYWRpdXNTbWFsbD8udmFsdWUgfHwgJzhweCcsXG4gICAgICAgICAgICBtZWRpdW06IHJhZGl1c01lZGl1bT8udmFsdWUgfHwgJzE2cHgnLFxuICAgICAgICAgICAgbGFyZ2U6IHJhZGl1c0xhcmdlPy52YWx1ZSB8fCAnMjRweCcsXG4gICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgYXBwbHlCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICBzZXRUaGVtZUZlZWRiYWNrKCcnKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHRoZW1lQXBpLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vayB8fCByZXN1bHQuc3VjY2VzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQubWVzc2FnZSB8fCAnQXBwbGljYXRpb24gZHUgdGhcdTAwRThtZSBcdTAwRTljaG91XHUwMEU5ZS4nKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0VGhlbWVGZWVkYmFjayhyZXN1bHQubWVzc2FnZSB8fCAnVGhcdTAwRThtZSBhcHBsaXF1XHUwMEU5LicsICdzdWNjZXNzJyk7XG4gICAgICAgICAgc3luY1ByZXZpZXcoKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3NldHRpbmdzXSBhcHBseSB0aGVtZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICAgIHNldFRoZW1lRmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGRlIGxcdTIwMTlhcHBsaWNhdGlvbiBkdSB0aFx1MDBFOG1lLicsICdlcnJvcicpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGFwcGx5QnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBmaWxsQ29sb3JPcHRpb25zKCk7XG4gICAgICBsb2FkVGhlbWUoKTtcbiAgICAgIHN5bmNQcmV2aWV3KCk7XG4gICAgfVxuXG4gICAgLy8gU0VPIENvbmZpZyBmb3JtIChVUzkuQjEpXG4gICAgY29uc3Qgc2VvQ29uZmlnRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby1jb25maWctZm9ybV0nKTtcbiAgICBpZiAoc2VvQ29uZmlnRm9ybSkge1xuICAgICAgY29uc3QgaW5kZXhBbGxDaGVja2JveCA9IHNlb0NvbmZpZ0Zvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtc2VvLWluZGV4LWFsbF0nKTtcbiAgICAgIGNvbnN0IHNlb0NvbmZpZ0ZlZWRiYWNrID0gc2VvQ29uZmlnRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8tY29uZmlnLWZlZWRiYWNrXScpO1xuICAgICAgY29uc3Qgc2VvU2F2ZUJ1dHRvbiA9IHNlb0NvbmZpZ0Zvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtc2VvLXNhdmVdJyk7XG5cbiAgICAgIGNvbnN0IHNhZmVTaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKFxuICAgICAgICB3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnLFxuICAgICAgKTtcbiAgICAgIGNvbnN0IHNpdGVDb25maWdBcGkgPSBzYWZlU2l0ZVNsdWdcbiAgICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9jb25maWcvc2l0ZWBcbiAgICAgICAgOiBudWxsO1xuXG4gICAgICBjb25zdCBzZXRTZW9GZWVkYmFjayA9IChtZXNzYWdlLCB0b25lID0gJ211dGVkJykgPT4ge1xuICAgICAgICBpZiAoIXNlb0NvbmZpZ0ZlZWRiYWNrKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGNvbG9yID1cbiAgICAgICAgICB0b25lID09PSAnc3VjY2VzcydcbiAgICAgICAgICAgID8gJ3RleHQtZW1lcmFsZC02MDAnXG4gICAgICAgICAgICA6IHRvbmUgPT09ICdlcnJvcidcbiAgICAgICAgICAgICAgPyAndGV4dC1yb3NlLTYwMCdcbiAgICAgICAgICAgICAgOiAndGV4dC1zbGF0ZS01MDAnO1xuICAgICAgICBzZW9Db25maWdGZWVkYmFjay50ZXh0Q29udGVudCA9IG1lc3NhZ2UgfHwgJyc7XG4gICAgICAgIHNlb0NvbmZpZ0ZlZWRiYWNrLmNsYXNzTmFtZSA9IGB0ZXh0LXNtICR7Y29sb3J9YDtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGxvYWRTZW9Db25maWcgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIGlmICghc2l0ZUNvbmZpZ0FwaSkgcmV0dXJuO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goc2l0ZUNvbmZpZ0FwaSwgeyBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgcmV0dXJuO1xuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgY29uc3QgaW5kZXhBbGwgPSBwYXlsb2FkLnNlbz8uaW5kZXhBbGxQYWdlc0J5RGVmYXVsdCAhPT0gZmFsc2U7XG4gICAgICAgICAgaWYgKGluZGV4QWxsQ2hlY2tib3gpIGluZGV4QWxsQ2hlY2tib3guY2hlY2tlZCA9IGluZGV4QWxsO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIGxvYWQgc2VvIGNvbmZpZyBmYWlsZWQnLCBlcnIpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBzZW9Db25maWdGb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAoIXNpdGVDb25maWdBcGkpIHtcbiAgICAgICAgICBzZXRTZW9GZWVkYmFjaygnQXVjdW4gc2l0ZSBhY3RpZi4nLCAnZXJyb3InKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc2VvU2F2ZUJ1dHRvbiAmJiAoc2VvU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWUpO1xuICAgICAgICBzZXRTZW9GZWVkYmFjaygnJyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gRmlyc3QgbG9hZCBjdXJyZW50IGNvbmZpZyB0byBwcmVzZXJ2ZSBvdGhlciBmaWVsZHNcbiAgICAgICAgICBjb25zdCBjdXJyZW50UmVzID0gYXdhaXQgZmV0Y2goc2l0ZUNvbmZpZ0FwaSwgeyBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSk7XG4gICAgICAgICAgY29uc3QgY3VycmVudENvbmZpZyA9IGN1cnJlbnRSZXMub2sgPyBhd2FpdCBjdXJyZW50UmVzLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKSA6IHt9O1xuXG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgICAgIC4uLmN1cnJlbnRDb25maWcsXG4gICAgICAgICAgICBzZW86IHtcbiAgICAgICAgICAgICAgLi4uKGN1cnJlbnRDb25maWcuc2VvIHx8IHt9KSxcbiAgICAgICAgICAgICAgaW5kZXhBbGxQYWdlc0J5RGVmYXVsdDogaW5kZXhBbGxDaGVja2JveD8uY2hlY2tlZCA/PyB0cnVlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9O1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goc2l0ZUNvbmZpZ0FwaSwge1xuICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2sgfHwgcmVzdWx0LnN1Y2Nlc3MgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzdWx0Lm1lc3NhZ2UgfHwgJ1NhdXZlZ2FyZGUgaW1wb3NzaWJsZS4nKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0U2VvRmVlZGJhY2socmVzdWx0Lm1lc3NhZ2UgfHwgJ1BhcmFtXHUwMEU4dHJlcyBTRU8gZW5yZWdpc3RyXHUwMEU5cy4nLCAnc3VjY2VzcycpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIHNhdmUgc2VvIGNvbmZpZyBmYWlsZWQnLCBlcnIpO1xuICAgICAgICAgIHNldFNlb0ZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsYSBzYXV2ZWdhcmRlLicsICdlcnJvcicpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIHNlb1NhdmVCdXR0b24gJiYgKHNlb1NhdmVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBsb2FkU2VvQ29uZmlnKCk7XG4gICAgfVxuXG4gICAgLy8gQW5hbHl0aWNzIGZvcm0gKFVTOS5CMilcbiAgICBjb25zdCBhbmFseXRpY3NGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYW5hbHl0aWNzLWZvcm1dJyk7XG4gICAgaWYgKGFuYWx5dGljc0Zvcm0pIHtcbiAgICAgIGNvbnN0IGhlYWRUZXh0YXJlYSA9IGFuYWx5dGljc0Zvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYW5hbHl0aWNzLWhlYWRdJyk7XG4gICAgICBjb25zdCBib2R5VGV4dGFyZWEgPSBhbmFseXRpY3NGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFuYWx5dGljcy1ib2R5XScpO1xuICAgICAgY29uc3QgYW5hbHl0aWNzRmVlZGJhY2sgPSBhbmFseXRpY3NGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFuYWx5dGljcy1mZWVkYmFja10nKTtcbiAgICAgIGNvbnN0IGFuYWx5dGljc1NhdmVCdXR0b24gPSBhbmFseXRpY3NGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFuYWx5dGljcy1zYXZlXScpO1xuXG4gICAgICBjb25zdCBzYWZlU2l0ZVNsdWcgPSBzdHJpcExlYWRpbmdTbGFzaChcbiAgICAgICAgd29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyxcbiAgICAgICk7XG4gICAgICBjb25zdCBzaXRlQ29uZmlnQXBpID0gc2FmZVNpdGVTbHVnXG4gICAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnKX0vY29uZmlnL3NpdGVgXG4gICAgICAgIDogbnVsbDtcblxuICAgICAgY29uc3Qgc2V0QW5hbHl0aWNzRmVlZGJhY2sgPSAobWVzc2FnZSwgdG9uZSA9ICdtdXRlZCcpID0+IHtcbiAgICAgICAgaWYgKCFhbmFseXRpY3NGZWVkYmFjaykgcmV0dXJuO1xuICAgICAgICBjb25zdCBjb2xvciA9XG4gICAgICAgICAgdG9uZSA9PT0gJ3N1Y2Nlc3MnXG4gICAgICAgICAgICA/ICd0ZXh0LWVtZXJhbGQtNjAwJ1xuICAgICAgICAgICAgOiB0b25lID09PSAnZXJyb3InXG4gICAgICAgICAgICAgID8gJ3RleHQtcm9zZS02MDAnXG4gICAgICAgICAgICAgIDogJ3RleHQtc2xhdGUtNTAwJztcbiAgICAgICAgYW5hbHl0aWNzRmVlZGJhY2sudGV4dENvbnRlbnQgPSBtZXNzYWdlIHx8ICcnO1xuICAgICAgICBhbmFseXRpY3NGZWVkYmFjay5jbGFzc05hbWUgPSBgdGV4dC1zbSAke2NvbG9yfWA7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBsb2FkQW5hbHl0aWNzQ29uZmlnID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoIXNpdGVDb25maWdBcGkpIHJldHVybjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHNpdGVDb25maWdBcGksIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHJldHVybjtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIGlmIChoZWFkVGV4dGFyZWEpIGhlYWRUZXh0YXJlYS52YWx1ZSA9IHBheWxvYWQuYW5hbHl0aWNzPy5oZWFkQ29kZSB8fCAnJztcbiAgICAgICAgICBpZiAoYm9keVRleHRhcmVhKSBib2R5VGV4dGFyZWEudmFsdWUgPSBwYXlsb2FkLmFuYWx5dGljcz8uYm9keUVuZENvZGUgfHwgJyc7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gbG9hZCBhbmFseXRpY3MgY29uZmlnIGZhaWxlZCcsIGVycik7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGFuYWx5dGljc0Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmICghc2l0ZUNvbmZpZ0FwaSkge1xuICAgICAgICAgIHNldEFuYWx5dGljc0ZlZWRiYWNrKCdBdWN1biBzaXRlIGFjdGlmLicsICdlcnJvcicpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBhbmFseXRpY3NTYXZlQnV0dG9uICYmIChhbmFseXRpY3NTYXZlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZSk7XG4gICAgICAgIHNldEFuYWx5dGljc0ZlZWRiYWNrKCcnKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBGaXJzdCBsb2FkIGN1cnJlbnQgY29uZmlnIHRvIHByZXNlcnZlIG90aGVyIGZpZWxkc1xuICAgICAgICAgIGNvbnN0IGN1cnJlbnRSZXMgPSBhd2FpdCBmZXRjaChzaXRlQ29uZmlnQXBpLCB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcbiAgICAgICAgICBjb25zdCBjdXJyZW50Q29uZmlnID0gY3VycmVudFJlcy5vayA/IGF3YWl0IGN1cnJlbnRSZXMuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpIDoge307XG5cbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICAgICAgLi4uY3VycmVudENvbmZpZyxcbiAgICAgICAgICAgIGFuYWx5dGljczoge1xuICAgICAgICAgICAgICBoZWFkQ29kZTogaGVhZFRleHRhcmVhPy52YWx1ZSB8fCAnJyxcbiAgICAgICAgICAgICAgYm9keUVuZENvZGU6IGJvZHlUZXh0YXJlYT8udmFsdWUgfHwgJycsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH07XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChzaXRlQ29uZmlnQXBpLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vayB8fCByZXN1bHQuc3VjY2VzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQubWVzc2FnZSB8fCAnU2F1dmVnYXJkZSBpbXBvc3NpYmxlLicpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXRBbmFseXRpY3NGZWVkYmFjayhyZXN1bHQubWVzc2FnZSB8fCAnU2NyaXB0cyBlbnJlZ2lzdHJcdTAwRTlzLicsICdzdWNjZXNzJyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gc2F2ZSBhbmFseXRpY3MgY29uZmlnIGZhaWxlZCcsIGVycik7XG4gICAgICAgICAgc2V0QW5hbHl0aWNzRmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGRlIGxhIHNhdXZlZ2FyZGUuJywgJ2Vycm9yJyk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgYW5hbHl0aWNzU2F2ZUJ1dHRvbiAmJiAoYW5hbHl0aWNzU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGxvYWRBbmFseXRpY3NDb25maWcoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBpbml0TWVkaWFXb3Jrc3BhY2UoKSB7XG4gICAgY29uc3QgZ3JpZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWdyaWRdJyk7XG4gICAgaWYgKCFncmlkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGVtcHR5U3RhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1lbXB0eV0nKTtcbiAgICBjb25zdCBjb3VudEJhZGdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtY291bnRdJyk7XG4gICAgY29uc3QgZmlsdGVyVHlwZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWZpbHRlci10eXBlXScpO1xuICAgIGNvbnN0IGRldGFpbEVtcHR5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGV0YWlsLWVtcHR5XScpO1xuICAgIGNvbnN0IGRldGFpbFBhbmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGV0YWlsXScpO1xuICAgIGNvbnN0IGRldGFpbFByZXZpZXcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZXRhaWwtcHJldmlld10nKTtcbiAgICBjb25zdCBkZXRhaWxOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGV0YWlsLW5hbWVdJyk7XG4gICAgY29uc3QgZGV0YWlsVHlwZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRldGFpbC10eXBlXScpO1xuICAgIGNvbnN0IGRldGFpbFNpemUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZXRhaWwtc2l6ZV0nKTtcbiAgICBjb25zdCBkZXRhaWxQYXRoID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGV0YWlsLXBhdGhdJyk7XG4gICAgY29uc3QgZGV0YWlsVXNlZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRldGFpbC11c2VkXScpO1xuICAgIGNvbnN0IGRldGFpbEFsdElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtYWx0LWVkaXRdJyk7XG4gICAgY29uc3QgZGV0YWlsU2F2ZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLXNhdmVdJyk7XG4gICAgY29uc3QgZGV0YWlsRGVsZXRlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGVsZXRlXScpO1xuICAgIGNvbnN0IGRlbGV0ZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGVsZXRlLW1vZGFsXScpO1xuICAgIGNvbnN0IGRlbGV0ZUNhbmNlbEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRlbGV0ZS1jYW5jZWxdJyk7XG4gICAgY29uc3QgZGVsZXRlQ29uZmlybUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRlbGV0ZS1jb25maXJtXScpO1xuICAgIGNvbnN0IHVwbG9hZE9wZW5CdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS11cGxvYWQtb3Blbl0nKTtcbiAgICBjb25zdCBmaWxlSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1maWxlLWlucHV0XScpO1xuICAgIGNvbnN0IHVwbG9hZFN0YXR1cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLXVwbG9hZC1zdGF0dXNdJyk7XG5cbiAgICBjb25zdCBzYWZlU2l0ZVNsdWdWYWx1ZSA9IHN0cmlwTGVhZGluZ1NsYXNoKFxuICAgICAgd29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyxcbiAgICApO1xuICAgIGNvbnN0IG1lZGlhQXBpQmFzZSA9IHNhZmVTaXRlU2x1Z1ZhbHVlXG4gICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Z1ZhbHVlKX0vbWVkaWFgXG4gICAgICA6IG51bGw7XG5cbiAgICBsZXQgbWVkaWFJdGVtcyA9IFtdO1xuICAgIGxldCBmaWx0ZXJlZEl0ZW1zID0gW107XG4gICAgbGV0IGFjdGl2ZU1lZGlhSWQgPSBudWxsO1xuICAgIGxldCBoaWdobGlnaHRNZWRpYUlkID0gbnVsbDtcbiAgICBsZXQgcGVuZGluZ1VwbG9hZEZpbGUgPSBudWxsO1xuICAgIGxldCB1cGxvYWRJblByb2dyZXNzID0gZmFsc2U7XG4gICAgbGV0IGRldGFpbERpcnR5ID0gZmFsc2U7XG4gICAgbGV0IHVwbG9hZE1vZGUgPSBmYWxzZTtcbiAgICBsZXQgdXBsb2FkUHJldmlld1VybCA9IG51bGw7XG5cbiAgICBjb25zdCBkZXJpdmVHcm91cFR5cGUgPSAoaXRlbSkgPT4ge1xuICAgICAgY29uc3QgdHlwZSA9IChpdGVtLnR5cGUgfHwgJycpLnRvTG93ZXJDYXNlKCk7XG4gICAgICBjb25zdCBmaWxlbmFtZSA9IChpdGVtLmZpbGVuYW1lIHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgaWYgKHR5cGUuaW5jbHVkZXMoJ2ltYWdlJykgfHwgL1xcLihwbmd8anBlP2d8d2VicHxzdmd8Z2lmKSQvaS50ZXN0KGZpbGVuYW1lKSkge1xuICAgICAgICByZXR1cm4gJ2ltYWdlJztcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlLmluY2x1ZGVzKCdwZGYnKSB8fCB0eXBlLmluY2x1ZGVzKCdkb2MnKSB8fCAvXFwuKHBkZnxkb2N4PykkL2kudGVzdChmaWxlbmFtZSkpIHtcbiAgICAgICAgcmV0dXJuICdkb2N1bWVudCc7XG4gICAgICB9XG4gICAgICBpZiAodHlwZS5pbmNsdWRlcygndmlkZW8nKSB8fCAvXFwuKG1wNHxtb3Z8d2VibSkkL2kudGVzdChmaWxlbmFtZSkpIHtcbiAgICAgICAgcmV0dXJuICd2aWRlbyc7XG4gICAgICB9XG4gICAgICByZXR1cm4gJ290aGVyJztcbiAgICB9O1xuXG4gICAgY29uc3QgaXNJbWFnZVR5cGUgPSAoaXRlbSkgPT4gZGVyaXZlR3JvdXBUeXBlKGl0ZW0pID09PSAnaW1hZ2UnO1xuXG4gICAgY29uc3QgZm9ybWF0VHlwZUxhYmVsID0gKGl0ZW0pID0+IHtcbiAgICAgIGlmIChpdGVtLnR5cGUpIHtcbiAgICAgICAgcmV0dXJuIGl0ZW0udHlwZS50b1VwcGVyQ2FzZSgpO1xuICAgICAgfVxuICAgICAgY29uc3QgZXh0ID0gKGl0ZW0uZmlsZW5hbWUgfHwgJycpLnNwbGl0KCcuJykucG9wKCk7XG4gICAgICByZXR1cm4gZXh0ID8gZXh0LnRvVXBwZXJDYXNlKCkgOiAnRklMRSc7XG4gICAgfTtcblxuICAgIGNvbnN0IGZvcm1hdEZpbGVTaXplID0gKHNpemUpID0+IHtcbiAgICAgIGlmICghc2l6ZSB8fCBzaXplIDw9IDApIHtcbiAgICAgICAgcmV0dXJuICdcdTIwMTQnO1xuICAgICAgfVxuICAgICAgaWYgKHNpemUgPCAxMDI0KSB7XG4gICAgICAgIHJldHVybiBgJHtzaXplfSBvYDtcbiAgICAgIH1cbiAgICAgIGlmIChzaXplIDwgMTAyNCAqIDEwMjQpIHtcbiAgICAgICAgcmV0dXJuIGAkeyhzaXplIC8gMTAyNCkudG9GaXhlZCgxKX0ga29gO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGAkeyhzaXplIC8gKDEwMjQgKiAxMDI0KSkudG9GaXhlZCgxKX0gTW9gO1xuICAgIH07XG5cbiAgICBjb25zdCByZXNldERldGFpbFBhbmVsID0gKCkgPT4ge1xuICAgICAgZGV0YWlsUGFuZWw/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgZGV0YWlsRW1wdHk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgY2xlYXJVcGxvYWRTdGF0ZSgpO1xuICAgICAgYWN0aXZlTWVkaWFJZCA9IG51bGw7XG4gICAgICBkZXRhaWxEaXJ0eSA9IGZhbHNlO1xuICAgICAgdXBkYXRlRGV0YWlsQWN0aW9ucyhmYWxzZSk7XG4gICAgICBpZiAoZGV0YWlsUHJldmlldykge1xuICAgICAgICBkZXRhaWxQcmV2aWV3LmlubmVySFRNTCA9XG4gICAgICAgICAgJzxzcGFuIGNsYXNzPVwidGV4dC1zbGF0ZS00MDAgdGV4dC1zbVwiPkF1Y3VuIG1cdTAwRTlkaWEgc1x1MDBFOWxlY3Rpb25uXHUwMEU5PC9zcGFuPic7XG4gICAgICB9XG4gICAgICBpZiAoZGV0YWlsTmFtZSkge1xuICAgICAgICBkZXRhaWxOYW1lLnRleHRDb250ZW50ID0gJyc7XG4gICAgICB9XG4gICAgICBkZXRhaWxUeXBlICYmIChkZXRhaWxUeXBlLnRleHRDb250ZW50ID0gJycpO1xuICAgICAgZGV0YWlsU2l6ZSAmJiAoZGV0YWlsU2l6ZS50ZXh0Q29udGVudCA9ICcnKTtcbiAgICAgIGlmIChkZXRhaWxBbHRJbnB1dCkge1xuICAgICAgICBkZXRhaWxBbHRJbnB1dC52YWx1ZSA9ICcnO1xuICAgICAgfVxuICAgICAgZGV0YWlsUGF0aCAmJiAoZGV0YWlsUGF0aC50ZXh0Q29udGVudCA9ICcnKTtcbiAgICAgIGlmIChkZXRhaWxVc2VkKSB7XG4gICAgICAgIGRldGFpbFVzZWQuaW5uZXJIVE1MID0gJyc7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGNsZWFyVXBsb2FkU3RhdGUgPSAoKSA9PiB7XG4gICAgICBwZW5kaW5nVXBsb2FkRmlsZSA9IG51bGw7XG4gICAgICB1cGxvYWRNb2RlID0gZmFsc2U7XG4gICAgICB1cGxvYWRJblByb2dyZXNzID0gZmFsc2U7XG4gICAgICBpZiAodXBsb2FkUHJldmlld1VybCkge1xuICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKHVwbG9hZFByZXZpZXdVcmwpO1xuICAgICAgICB1cGxvYWRQcmV2aWV3VXJsID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIHVwbG9hZFN0YXR1cyAmJiAodXBsb2FkU3RhdHVzLnRleHRDb250ZW50ID0gJ0F1Y3VuIGZpY2hpZXIgc1x1MDBFOWxlY3Rpb25uXHUwMEU5LicpO1xuICAgICAgZmlsZUlucHV0ICYmIChmaWxlSW5wdXQudmFsdWUgPSAnJyk7XG4gICAgfTtcblxuICAgIGNvbnN0IHVwZGF0ZUNvdW50QmFkZ2UgPSAoKSA9PiB7XG4gICAgICBpZiAoIWNvdW50QmFkZ2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFmaWx0ZXJlZEl0ZW1zLmxlbmd0aCkge1xuICAgICAgICBjb3VudEJhZGdlLnRleHRDb250ZW50ID0gJzAgbVx1MDBFOWRpYSc7XG4gICAgICB9IGVsc2UgaWYgKGZpbHRlcmVkSXRlbXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGNvdW50QmFkZ2UudGV4dENvbnRlbnQgPSAnMSBtXHUwMEU5ZGlhJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvdW50QmFkZ2UudGV4dENvbnRlbnQgPSBgJHtmaWx0ZXJlZEl0ZW1zLmxlbmd0aH0gbVx1MDBFOWRpYXNgO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCByZW5kZXJHcmlkID0gKCkgPT4ge1xuICAgICAgZ3JpZC5pbm5lckhUTUwgPSAnJztcbiAgICAgIGlmICghZmlsdGVyZWRJdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgZW1wdHlTdGF0ZT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIHJlc2V0RGV0YWlsUGFuZWwoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZW1wdHlTdGF0ZT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBmaWx0ZXJlZEl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgICAgY29uc3QgY2FyZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICBjYXJkLnR5cGUgPSAnYnV0dG9uJztcbiAgICAgICAgY2FyZC5kYXRhc2V0Lm1lZGlhSWQgPSBpdGVtLmlkO1xuICAgICAgICBjb25zdCBpc0FjdGl2ZSA9IGl0ZW0uaWQgPT09IGFjdGl2ZU1lZGlhSWQ7XG4gICAgICAgIGNhcmQuY2xhc3NOYW1lID0gW1xuICAgICAgICAgICdncm91cCByZWxhdGl2ZSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtMnhsIGJvcmRlciBweC0zIHB5LTMgdGV4dC1sZWZ0IHRyYW5zaXRpb24gZm9jdXMtdmlzaWJsZTpvdXRsaW5lIGZvY3VzLXZpc2libGU6b3V0bGluZS0yIGZvY3VzLXZpc2libGU6b3V0bGluZS1vZmZzZXQtMiBmb2N1cy12aXNpYmxlOm91dGxpbmUtWyM5QzZCRkZdJyxcbiAgICAgICAgICBpc0FjdGl2ZVxuICAgICAgICAgICAgPyAnYm9yZGVyLVsjOUM2QkZGXSBiZy1bI0Y3RjBGRl0vNjAgc2hhZG93LXNtJ1xuICAgICAgICAgICAgOiAnYm9yZGVyLXNsYXRlLTIwMCBob3Zlcjpib3JkZXItWyM5QzZCRkZdLzQwJyxcbiAgICAgICAgXS5qb2luKCcgJyk7XG4gICAgICAgIGNvbnN0IHByZXZpZXcgPSBpc0ltYWdlVHlwZShpdGVtKVxuICAgICAgICAgID8gYDxpbWcgc3JjPVwiJHtpdGVtLnBhdGh9XCIgYWx0PVwiJHtpdGVtLmFsdCB8fCBpdGVtLmZpbGVuYW1lfVwiIGNsYXNzPVwiaC1mdWxsIHctZnVsbCBvYmplY3QtY292ZXJcIiAvPmBcbiAgICAgICAgICA6IGA8ZGl2IGNsYXNzPVwiZmxleCBoLWZ1bGwgdy1mdWxsIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB0ZXh0LTN4bCB0ZXh0LXNsYXRlLTQwMFwiPlx1RDgzRFx1RENDNDwvZGl2PmA7XG4gICAgICAgIGNhcmQuaW5uZXJIVE1MID0gYFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJyZWxhdGl2ZSBhc3BlY3QtWzQvM10gb3ZlcmZsb3ctaGlkZGVuIHJvdW5kZWQteGwgYmctc2xhdGUtMTAwXCI+XG4gICAgICAgICAgICAke3ByZXZpZXd9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cIm10LTIgc3BhY2UteS0xXCI+XG4gICAgICAgICAgICA8cCBjbGFzcz1cInRleHQtc20gZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTkwMCB0cnVuY2F0ZVwiPiR7aXRlbS5maWxlbmFtZX08L3A+XG4gICAgICAgICAgICA8cCBjbGFzcz1cInRleHQteHMgdGV4dC1zbGF0ZS01MDBcIj5cbiAgICAgICAgICAgICAgJHtmb3JtYXRUeXBlTGFiZWwoaXRlbSl9IFx1MDBCNyAke2Zvcm1hdEZpbGVTaXplKGl0ZW0uc2l6ZSl9XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIGA7XG4gICAgICAgIGlmIChpdGVtLmlkID09PSBoaWdobGlnaHRNZWRpYUlkKSB7XG4gICAgICAgICAgY2FyZC5jbGFzc0xpc3QuYWRkKCdyaW5nLTInLCAncmluZy1bIzlDNkJGRl0nKTtcbiAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBjYXJkLmNsYXNzTGlzdC5yZW1vdmUoJ3JpbmctMicsICdyaW5nLVsjOUM2QkZGXScpO1xuICAgICAgICAgIH0sIDE2MDApO1xuICAgICAgICB9XG4gICAgICAgIGNhcmQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBzZWxlY3RNZWRpYShpdGVtLmlkKSk7XG4gICAgICAgIGdyaWQuYXBwZW5kQ2hpbGQoY2FyZCk7XG4gICAgICB9KTtcbiAgICAgIGhpZ2hsaWdodE1lZGlhSWQgPSBudWxsO1xuICAgIH07XG5cbiAgICBjb25zdCByZW5kZXJVc2VkSW4gPSAoaXRlbSkgPT4ge1xuICAgICAgaWYgKCFkZXRhaWxVc2VkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGRldGFpbFVzZWQuaW5uZXJIVE1MID0gJyc7XG4gICAgICBpZiAoIWl0ZW0udXNlZEluIHx8IGl0ZW0udXNlZEluLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICAgIGxpLnRleHRDb250ZW50ID0gJ05vbiB1dGlsaXNcdTAwRTknO1xuICAgICAgICBsaS5jbGFzc05hbWUgPSAndGV4dC14cyB0ZXh0LXNsYXRlLTQwMCc7XG4gICAgICAgIGRldGFpbFVzZWQuYXBwZW5kQ2hpbGQobGkpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpdGVtLnVzZWRJbi5mb3JFYWNoKChlbnRyeSkgPT4ge1xuICAgICAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICAgIGxpLnRleHRDb250ZW50ID0gZW50cnk7XG4gICAgICAgIGxpLmNsYXNzTmFtZSA9ICd0ZXh0LXhzIHRleHQtc2xhdGUtNjAwJztcbiAgICAgICAgZGV0YWlsVXNlZC5hcHBlbmRDaGlsZChsaSk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgdXBkYXRlRGV0YWlsQWN0aW9ucyA9IChzYXZpbmcpID0+IHtcbiAgICAgIGlmICghZGV0YWlsU2F2ZUJ1dHRvbikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAodXBsb2FkTW9kZSkge1xuICAgICAgICBkZXRhaWxTYXZlQnV0dG9uLnRleHRDb250ZW50ID0gc2F2aW5nID8gJ1RcdTAwRTlsXHUwMEU5dmVyc2VtZW50XHUyMDI2JyA6ICdUXHUwMEU5bFx1MDBFOXZlcnNlcic7XG4gICAgICAgIGRldGFpbFNhdmVCdXR0b24uZGlzYWJsZWQgPSBzYXZpbmcgfHwgIXBlbmRpbmdVcGxvYWRGaWxlO1xuICAgICAgICBpZiAoZGV0YWlsRGVsZXRlQnV0dG9uKSB7XG4gICAgICAgICAgZGV0YWlsRGVsZXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGRldGFpbFNhdmVCdXR0b24udGV4dENvbnRlbnQgPSBzYXZpbmcgPyAnRW5yZWdpc3RyZW1lbnRcdTIwMjYnIDogJ0VucmVnaXN0cmVyJztcbiAgICAgIGRldGFpbFNhdmVCdXR0b24uZGlzYWJsZWQgPSBzYXZpbmcgfHwgIWRldGFpbERpcnR5O1xuICAgICAgaWYgKGRldGFpbERlbGV0ZUJ1dHRvbikge1xuICAgICAgICBkZXRhaWxEZWxldGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIGRldGFpbERlbGV0ZUJ1dHRvbi5kaXNhYmxlZCA9ICFhY3RpdmVNZWRpYUlkO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBzZWxlY3RNZWRpYSA9IChtZWRpYUlkKSA9PiB7XG4gICAgICBjb25zdCBpdGVtID0gbWVkaWFJdGVtcy5maW5kKChlbnRyeSkgPT4gZW50cnkuaWQgPT09IG1lZGlhSWQpO1xuICAgICAgaWYgKCFpdGVtKSB7XG4gICAgICAgIHJlc2V0RGV0YWlsUGFuZWwoKTtcbiAgICAgICAgcmVuZGVyR3JpZCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjbGVhclVwbG9hZFN0YXRlKCk7XG4gICAgICBhY3RpdmVNZWRpYUlkID0gaXRlbS5pZDtcbiAgICAgIGRldGFpbERpcnR5ID0gZmFsc2U7XG4gICAgICB1cGRhdGVEZXRhaWxBY3Rpb25zKGZhbHNlKTtcbiAgICAgIHJlbmRlckdyaWQoKTtcbiAgICAgIGRldGFpbEVtcHR5Py5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGRldGFpbFBhbmVsPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGlmIChkZXRhaWxQcmV2aWV3KSB7XG4gICAgICAgIGlmIChpc0ltYWdlVHlwZShpdGVtKSkge1xuICAgICAgICAgIGRldGFpbFByZXZpZXcuaW5uZXJIVE1MID0gYDxpbWcgc3JjPVwiJHtpdGVtLnBhdGh9XCIgYWx0PVwiJHtpdGVtLmFsdCB8fCBpdGVtLmZpbGVuYW1lfVwiIGNsYXNzPVwiaC1mdWxsIHctZnVsbCByb3VuZGVkLTJ4bCBvYmplY3QtY292ZXJcIiAvPmA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGV0YWlsUHJldmlldy5pbm5lckhUTUwgPVxuICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJmbGV4IGgtZnVsbCB3LWZ1bGwgZmxleC1jb2wgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGdhcC0xIHRleHQtc2xhdGUtNDAwXCI+PHNwYW4gY2xhc3M9XCJ0ZXh0LTN4bFwiPlx1RDgzRFx1RENDNDwvc3Bhbj48c3BhbiBjbGFzcz1cInRleHQteHMgZm9udC1zZW1pYm9sZFwiPkRvY3VtZW50PC9zcGFuPjwvZGl2Pic7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGRldGFpbE5hbWUgJiYgKGRldGFpbE5hbWUudGV4dENvbnRlbnQgPSBpdGVtLmZpbGVuYW1lIHx8ICdGaWNoaWVyJyk7XG4gICAgICBkZXRhaWxUeXBlICYmIChkZXRhaWxUeXBlLnRleHRDb250ZW50ID0gZm9ybWF0VHlwZUxhYmVsKGl0ZW0pKTtcbiAgICAgIGRldGFpbFNpemUgJiYgKGRldGFpbFNpemUudGV4dENvbnRlbnQgPSBmb3JtYXRGaWxlU2l6ZShpdGVtLnNpemUpKTtcbiAgICAgIGlmIChkZXRhaWxBbHRJbnB1dCkge1xuICAgICAgICBkZXRhaWxBbHRJbnB1dC52YWx1ZSA9IGl0ZW0uYWx0IHx8ICcnO1xuICAgICAgfVxuICAgICAgZGV0YWlsUGF0aCAmJiAoZGV0YWlsUGF0aC50ZXh0Q29udGVudCA9IGl0ZW0ucGF0aCB8fCAnXHUyMDE0Jyk7XG4gICAgICByZW5kZXJVc2VkSW4oaXRlbSk7XG4gICAgfTtcblxuICAgIGNvbnN0IHNob3dVcGxvYWRQcmV2aWV3ID0gKGZpbGUpID0+IHtcbiAgICAgIGlmICghZmlsZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB1cGxvYWRNb2RlID0gdHJ1ZTtcbiAgICAgIGRldGFpbERpcnR5ID0gZmFsc2U7XG4gICAgICBhY3RpdmVNZWRpYUlkID0gbnVsbDtcbiAgICAgIGRldGFpbEVtcHR5Py5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGRldGFpbFBhbmVsPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGlmICh1cGxvYWRQcmV2aWV3VXJsKSB7XG4gICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwodXBsb2FkUHJldmlld1VybCk7XG4gICAgICB9XG4gICAgICB1cGxvYWRQcmV2aWV3VXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKTtcbiAgICAgIGlmIChkZXRhaWxQcmV2aWV3KSB7XG4gICAgICAgIGRldGFpbFByZXZpZXcuaW5uZXJIVE1MID0gYDxpbWcgc3JjPVwiJHt1cGxvYWRQcmV2aWV3VXJsfVwiIGFsdD1cIiR7ZmlsZS5uYW1lfVwiIGNsYXNzPVwiaC1mdWxsIHctZnVsbCByb3VuZGVkLTJ4bCBvYmplY3QtY292ZXJcIiAvPmA7XG4gICAgICB9XG4gICAgICBkZXRhaWxOYW1lICYmIChkZXRhaWxOYW1lLnRleHRDb250ZW50ID0gZmlsZS5uYW1lKTtcbiAgICAgIGRldGFpbFR5cGUgJiYgKGRldGFpbFR5cGUudGV4dENvbnRlbnQgPSBmb3JtYXRUeXBlTGFiZWwoeyB0eXBlOiBmaWxlLnR5cGUsIGZpbGVuYW1lOiBmaWxlLm5hbWUgfSkpO1xuICAgICAgZGV0YWlsU2l6ZSAmJiAoZGV0YWlsU2l6ZS50ZXh0Q29udGVudCA9IGZvcm1hdEZpbGVTaXplKGZpbGUuc2l6ZSkpO1xuICAgICAgaWYgKGRldGFpbEFsdElucHV0ICYmICFkZXRhaWxBbHRJbnB1dC52YWx1ZS50cmltKCkpIHtcbiAgICAgICAgZGV0YWlsQWx0SW5wdXQudmFsdWUgPSBmaWxlLm5hbWUucmVwbGFjZSgvXFwuW14uXSskLywgJycpLnJlcGxhY2UoL1stX10vZywgJyAnKTtcbiAgICAgIH1cbiAgICAgIGRldGFpbFBhdGggJiYgKGRldGFpbFBhdGgudGV4dENvbnRlbnQgPSAnRW4gYXR0ZW50ZSBkZSB0XHUwMEU5bFx1MDBFOXZlcnNlbWVudCcpO1xuICAgICAgaWYgKGRldGFpbFVzZWQpIHtcbiAgICAgICAgZGV0YWlsVXNlZC5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgY29uc3QgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgICBsaS50ZXh0Q29udGVudCA9ICdOb24gdXRpbGlzXHUwMEU5JztcbiAgICAgICAgbGkuY2xhc3NOYW1lID0gJ3RleHQteHMgdGV4dC1zbGF0ZS00MDAnO1xuICAgICAgICBkZXRhaWxVc2VkLmFwcGVuZENoaWxkKGxpKTtcbiAgICAgIH1cbiAgICAgIHVwZGF0ZURldGFpbEFjdGlvbnMoZmFsc2UpO1xuICAgIH07XG5cbiAgICBjb25zdCBhcHBseUZpbHRlcnMgPSAoKSA9PiB7XG4gICAgICBjb25zdCB0eXBlRmlsdGVyID0gZmlsdGVyVHlwZT8udmFsdWUgfHwgJ2FsbCc7XG4gICAgICBpZiAodHlwZUZpbHRlciA9PT0gJ2FsbCcpIHtcbiAgICAgICAgZmlsdGVyZWRJdGVtcyA9IFsuLi5tZWRpYUl0ZW1zXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZpbHRlcmVkSXRlbXMgPSBtZWRpYUl0ZW1zLmZpbHRlcigoaXRlbSkgPT4gaXRlbS5ncm91cFR5cGUgPT09IHR5cGVGaWx0ZXIpO1xuICAgICAgfVxuICAgICAgaWYgKCFmaWx0ZXJlZEl0ZW1zLnNvbWUoKGl0ZW0pID0+IGl0ZW0uaWQgPT09IGFjdGl2ZU1lZGlhSWQpKSB7XG4gICAgICAgIHJlc2V0RGV0YWlsUGFuZWwoKTtcbiAgICAgIH1cbiAgICAgIHVwZGF0ZUNvdW50QmFkZ2UoKTtcbiAgICAgIHJlbmRlckdyaWQoKTtcbiAgICB9O1xuXG4gICAgY29uc3QgbG9hZE1lZGlhID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFtZWRpYUFwaUJhc2UpIHtcbiAgICAgICAgZW1wdHlTdGF0ZT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2gobWVkaWFBcGlCYXNlLCB7XG4gICAgICAgICAgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxlcyBtXHUwMEU5ZGlhcy4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7IGl0ZW1zOiBbXSB9KSk7XG4gICAgICAgIG1lZGlhSXRlbXMgPSBBcnJheS5pc0FycmF5KHBheWxvYWQuaXRlbXMpXG4gICAgICAgICAgPyBwYXlsb2FkLml0ZW1zLm1hcCgoaXRlbSkgPT4gKHsgLi4uaXRlbSwgZ3JvdXBUeXBlOiBkZXJpdmVHcm91cFR5cGUoaXRlbSkgfSkpXG4gICAgICAgICAgOiBbXTtcbiAgICAgICAgYXBwbHlGaWx0ZXJzKCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW21lZGlhXSBsb2FkIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxlcyBtXHUwMEU5ZGlhcy4nKTtcbiAgICAgICAgbWVkaWFJdGVtcyA9IFtdO1xuICAgICAgICBhcHBseUZpbHRlcnMoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgZmlsdGVyVHlwZT8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICAgICAgYXBwbHlGaWx0ZXJzKCk7XG4gICAgfSk7XG4gICAgZGV0YWlsQWx0SW5wdXQ/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgaWYgKHVwbG9hZE1vZGUpIHtcbiAgICAgICAgdXBkYXRlRGV0YWlsQWN0aW9ucyhmYWxzZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghYWN0aXZlTWVkaWFJZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBkZXRhaWxEaXJ0eSA9IHRydWU7XG4gICAgICB1cGRhdGVEZXRhaWxBY3Rpb25zKGZhbHNlKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IGhhbmRsZUZpbGVTZWxlY3Rpb24gPSAoZmlsZSkgPT4ge1xuICAgICAgaWYgKCFmaWxlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghZmlsZS50eXBlLnN0YXJ0c1dpdGgoJ2ltYWdlLycpKSB7XG4gICAgICAgIHNob3dUb2FzdCgnU2V1bGVzIGxlcyBpbWFnZXMgc29udCBhY2NlcHRcdTAwRTllcyBwb3VyIGxlIG1vbWVudC4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGZpbGUuc2l6ZSA+IDQgKiAxMDI0ICogMTAyNCkge1xuICAgICAgICBzaG93VG9hc3QoJ0ZpY2hpZXIgdHJvcCB2b2x1bWluZXV4ICg0IE1vIG1heCkuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHBlbmRpbmdVcGxvYWRGaWxlID0gZmlsZTtcbiAgICAgIHNob3dVcGxvYWRQcmV2aWV3KGZpbGUpO1xuICAgICAgaWYgKHVwbG9hZFN0YXR1cykge1xuICAgICAgICB1cGxvYWRTdGF0dXMudGV4dENvbnRlbnQgPSBgJHtmaWxlLm5hbWV9IFx1MDBCNyAke2Zvcm1hdEZpbGVTaXplKGZpbGUuc2l6ZSl9YDtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgcmVhZEZpbGVBc0Jhc2U2NCA9IChmaWxlKSA9PlxuICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgICByZWFkZXIub25sb2FkID0gKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHJlYWRlci5yZXN1bHQgfHwgJyc7XG4gICAgICAgICAgY29uc3QgWywgYmFzZTY0ID0gJyddID0gU3RyaW5nKHJlc3VsdCkuc3BsaXQoJywnKTtcbiAgICAgICAgICByZXNvbHZlKGJhc2U2NCk7XG4gICAgICAgIH07XG4gICAgICAgIHJlYWRlci5vbmVycm9yID0gKCkgPT4gcmVqZWN0KG5ldyBFcnJvcignSW1wb3NzaWJsZSBkZSBsaXJlIGNlIGZpY2hpZXIuJykpO1xuICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcbiAgICAgIH0pO1xuXG4gICAgY29uc3QgdXBsb2FkU2VsZWN0ZWRNZWRpYSA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghcGVuZGluZ1VwbG9hZEZpbGUgfHwgIW1lZGlhQXBpQmFzZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB1cGxvYWRJblByb2dyZXNzID0gdHJ1ZTtcbiAgICAgIHVwZGF0ZURldGFpbEFjdGlvbnModHJ1ZSk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBiYXNlNjQgPSBhd2FpdCByZWFkRmlsZUFzQmFzZTY0KHBlbmRpbmdVcGxvYWRGaWxlKTtcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgICBmaWxlbmFtZTogcGVuZGluZ1VwbG9hZEZpbGUubmFtZSxcbiAgICAgICAgICB0eXBlOiBwZW5kaW5nVXBsb2FkRmlsZS50eXBlLFxuICAgICAgICAgIHNpemU6IHBlbmRpbmdVcGxvYWRGaWxlLnNpemUsXG4gICAgICAgICAgYWx0OiBkZXRhaWxBbHRJbnB1dD8udmFsdWUgfHwgJycsXG4gICAgICAgICAgZGF0YTogYmFzZTY0LFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKG1lZGlhQXBpQmFzZSwge1xuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnN0IGVycm9yUGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JQYXlsb2FkLm1lc3NhZ2UgfHwgJ1VwbG9hZCBpbXBvc3NpYmxlLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNhdmVkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBzYXZlZC5ncm91cFR5cGUgPSBkZXJpdmVHcm91cFR5cGUoc2F2ZWQpO1xuICAgICAgICBtZWRpYUl0ZW1zID0gWy4uLm1lZGlhSXRlbXMsIHNhdmVkXTtcbiAgICAgICAgaGlnaGxpZ2h0TWVkaWFJZCA9IHNhdmVkLmlkO1xuICAgICAgICBhcHBseUZpbHRlcnMoKTtcbiAgICAgICAgc2VsZWN0TWVkaWEoc2F2ZWQuaWQpO1xuICAgICAgICBzaG93VG9hc3QoJ01cdTAwRTlkaWEgYWpvdXRcdTAwRTknKTtcbiAgICAgICAgY2xlYXJVcGxvYWRTdGF0ZSgpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1ttZWRpYV0gdXBsb2FkIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSB0XHUwMEU5bFx1MDBFOXZlcnNlciBjZSBtXHUwMEU5ZGlhLicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgdXBsb2FkSW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgICAgICBwZW5kaW5nVXBsb2FkRmlsZSA9IG51bGw7XG4gICAgICAgIHVwZGF0ZURldGFpbEFjdGlvbnMoZmFsc2UpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB1cGxvYWRPcGVuQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGZpbGVJbnB1dD8uY2xpY2soKSk7XG4gICAgZmlsZUlucHV0Py5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgICBpZiAoZmlsZUlucHV0LmZpbGVzICYmIGZpbGVJbnB1dC5maWxlc1swXSkge1xuICAgICAgICBoYW5kbGVGaWxlU2VsZWN0aW9uKGZpbGVJbnB1dC5maWxlc1swXSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgY29uc3QgY2xvc2VEZWxldGVNb2RhbCA9ICgpID0+IHtcbiAgICAgIGlmICghZGVsZXRlTW9kYWwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZGVsZXRlTW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBkZWxldGVNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdmbGV4Jyk7XG4gICAgfTtcblxuICAgIGNvbnN0IG9wZW5EZWxldGVNb2RhbCA9ICgpID0+IHtcbiAgICAgIGlmICghYWN0aXZlTWVkaWFJZCB8fCB1cGxvYWRNb2RlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChkZWxldGVNb2RhbCkge1xuICAgICAgICBkZWxldGVNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgZGVsZXRlTW9kYWwuY2xhc3NMaXN0LmFkZCgnZmxleCcpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBGYWxsYmFjayBzaSBhdWN1bmUgbW9kYWxlIG4nZXN0IGRpc3BvbmlibGVcbiAgICAgIGlmICh3aW5kb3cuY29uZmlybSgnU3VwcHJpbWVyIGNlIG1cdTAwRTlkaWEgPycpKSB7XG4gICAgICAgIGRlbGV0ZUFjdGl2ZU1lZGlhKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGRlbGV0ZUFjdGl2ZU1lZGlhID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFhY3RpdmVNZWRpYUlkIHx8ICFtZWRpYUFwaUJhc2UpIHtcbiAgICAgICAgY2xvc2VEZWxldGVNb2RhbCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBkaXNhYmxlQnV0dG9ucyA9ICgpID0+IHtcbiAgICAgICAgaWYgKGRldGFpbERlbGV0ZUJ1dHRvbikge1xuICAgICAgICAgIGRldGFpbERlbGV0ZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlbGV0ZUNvbmZpcm1CdXR0b24pIHtcbiAgICAgICAgICBkZWxldGVDb25maXJtQnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgICBkZWxldGVDb25maXJtQnV0dG9uLnRleHRDb250ZW50ID0gJ1N1cHByZXNzaW9uXHUyMDI2JztcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGNvbnN0IGVuYWJsZUJ1dHRvbnMgPSAoKSA9PiB7XG4gICAgICAgIGlmIChkZXRhaWxEZWxldGVCdXR0b24pIHtcbiAgICAgICAgICBkZXRhaWxEZWxldGVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVsZXRlQ29uZmlybUJ1dHRvbikge1xuICAgICAgICAgIGRlbGV0ZUNvbmZpcm1CdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICBkZWxldGVDb25maXJtQnV0dG9uLnRleHRDb250ZW50ID0gJ1N1cHByaW1lcic7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBkaXNhYmxlQnV0dG9ucygpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgICBgJHttZWRpYUFwaUJhc2V9LyR7ZW5jb2RlVVJJQ29tcG9uZW50KGFjdGl2ZU1lZGlhSWQpfWAsXG4gICAgICAgICAgeyBtZXRob2Q6ICdERUxFVEUnIH0sXG4gICAgICAgICk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihwYXlsb2FkLm1lc3NhZ2UgfHwgJ1N1cHByZXNzaW9uIGltcG9zc2libGUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgbWVkaWFJdGVtcyA9IG1lZGlhSXRlbXMuZmlsdGVyKChpdGVtKSA9PiBpdGVtLmlkICE9PSBhY3RpdmVNZWRpYUlkKTtcbiAgICAgICAgZmlsdGVyZWRJdGVtcyA9IGZpbHRlcmVkSXRlbXMuZmlsdGVyKChpdGVtKSA9PiBpdGVtLmlkICE9PSBhY3RpdmVNZWRpYUlkKTtcbiAgICAgICAgc2hvd1RvYXN0KCdNXHUwMEU5ZGlhIHN1cHByaW1cdTAwRTknKTtcbiAgICAgICAgcmVzZXREZXRhaWxQYW5lbCgpO1xuICAgICAgICB1cGRhdGVDb3VudEJhZGdlKCk7XG4gICAgICAgIHJlbmRlckdyaWQoKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbbWVkaWFdIGRlbGV0ZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgc3VwcHJpbWVyIGNlIG1cdTAwRTlkaWEuJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBlbmFibGVCdXR0b25zKCk7XG4gICAgICAgIGNsb3NlRGVsZXRlTW9kYWwoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgZGVsZXRlQ2FuY2VsQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlRGVsZXRlTW9kYWwpO1xuICAgIGRlbGV0ZU1vZGFsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gZGVsZXRlTW9kYWwpIHtcbiAgICAgICAgY2xvc2VEZWxldGVNb2RhbCgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgZGVsZXRlQ29uZmlybUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBkZWxldGVBY3RpdmVNZWRpYSgpKTtcbiAgICBkZXRhaWxEZWxldGVCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlbkRlbGV0ZU1vZGFsKTtcblxuICAgIGRldGFpbFNhdmVCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKHVwbG9hZE1vZGUpIHtcbiAgICAgICAgdXBsb2FkU2VsZWN0ZWRNZWRpYSgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWFjdGl2ZU1lZGlhSWQgfHwgIW1lZGlhQXBpQmFzZSB8fCAhZGV0YWlsQWx0SW5wdXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdXBkYXRlRGV0YWlsQWN0aW9ucyh0cnVlKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSB7IGFsdDogZGV0YWlsQWx0SW5wdXQudmFsdWUgfHwgJycgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgICBgJHttZWRpYUFwaUJhc2V9LyR7ZW5jb2RlVVJJQ29tcG9uZW50KGFjdGl2ZU1lZGlhSWQpfWAsXG4gICAgICAgICAge1xuICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgICAgfSxcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnN0IGVycm9yUGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JQYXlsb2FkLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgbWV0dHJlIFx1MDBFMCBqb3VyIGNlIG1cdTAwRTlkaWEuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdXBkYXRlZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgbWVkaWFJdGVtcyA9IG1lZGlhSXRlbXMubWFwKChpdGVtKSA9PlxuICAgICAgICAgIGl0ZW0uaWQgPT09IGFjdGl2ZU1lZGlhSWQgPyB7IC4uLml0ZW0sIC4uLnVwZGF0ZWQgfSA6IGl0ZW0sXG4gICAgICAgICk7XG4gICAgICAgIGZpbHRlcmVkSXRlbXMgPSBmaWx0ZXJlZEl0ZW1zLm1hcCgoaXRlbSkgPT5cbiAgICAgICAgICBpdGVtLmlkID09PSBhY3RpdmVNZWRpYUlkID8geyAuLi5pdGVtLCAuLi51cGRhdGVkIH0gOiBpdGVtLFxuICAgICAgICApO1xuICAgICAgICBkZXRhaWxEaXJ0eSA9IGZhbHNlO1xuICAgICAgICB1cGRhdGVEZXRhaWxBY3Rpb25zKGZhbHNlKTtcbiAgICAgICAgc2hvd1RvYXN0KCdNXHUwMEU5ZGlhIG1pcyBcdTAwRTAgam91cicpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1ttZWRpYV0gdXBkYXRlIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnXHUwMEM5Y2hlYyBkZSBsYSBtaXNlIFx1MDBFMCBqb3VyLicpO1xuICAgICAgICB1cGRhdGVEZXRhaWxBY3Rpb25zKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGxvYWRNZWRpYSgpO1xuICB9XG59KTtcbiJdLAogICJtYXBwaW5ncyI6ICJNQUFBLFNBQVMsaUJBQWlCLG1CQUFvQixJQUFNLENBQ2xELFFBQVEsSUFBSSwyQkFBd0IsRUFDcEMsSUFBTUEsR0FBZSxTQUFTLGNBQWMsZUFBZSxFQUN2REEsSUFDRkEsR0FBYSxpQkFBaUIsUUFBUyxTQUFZLENBQ2pEQSxHQUFhLFNBQVcsR0FD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QUssVUFBVXhtQixDQUFPLENBQzlCLENBQ0YsRUFDQSxHQUFJLENBQUNELEVBQVMsR0FBSSxDQUNoQixJQUFNbWhCLEVBQWUsTUFBTW5oQixFQUFTLEtBQUssRUFBRSxNQUFNLEtBQU8sQ0FBQyxFQUFFLEVBQzNELE1BQU0sSUFBSSxNQUFNbWhCLEVBQWEsU0FBVyw2Q0FBdUMsQ0FDakYsQ0FDQSxJQUFNMkgsRUFBVSxNQUFNOW9CLEVBQVMsS0FBSyxFQUNwQ3VtQixFQUFhQSxFQUFXLElBQUt6WSxHQUMzQkEsRUFBSyxLQUFPMlksRUFBZ0IsQ0FBRSxHQUFHM1ksRUFBTSxHQUFHZ2IsQ0FBUSxFQUFJaGIsQ0FDeEQsRUFDQTBZLEdBQWdCQSxHQUFjLElBQUsxWSxHQUNqQ0EsRUFBSyxLQUFPMlksRUFBZ0IsQ0FBRSxHQUFHM1ksRUFBTSxHQUFHZ2IsQ0FBUSxFQUFJaGIsQ0FDeEQsRUFDQStZLEVBQWMsR0FDZFksR0FBb0IsRUFBSyxFQUN6QjlvQixFQUFVLHdCQUFrQixDQUM5QixPQUFTL0MsRUFBSyxDQUNaLFFBQVEsTUFBTSx3QkFBeUJBLENBQUcsRUFDMUMrQyxFQUFVL0MsRUFBSSxTQUFXLGdDQUEwQixFQUNuRDZyQixHQUFvQixFQUFLLENBQzNCLEVBQ0YsR0FFQVUsR0FBVSxDQUNaLENBQ0YsQ0FBQyIsCiAgIm5hbWVzIjogWyJsb2dvdXRCdXR0b24iLCAiZXJyIiwgInNpZGViYXIiLCAic2lkZWJhck92ZXJsYXkiLCAic2lkZWJhclRvZ2dsZXMiLCAic2lkZWJhckNsb3NlQnV0dG9ucyIsICJib2R5IiwgInNpZGViYXJPcGVuIiwgImFwcGx5U2lkZWJhclN0YXRlIiwgIm9wZW5TaWRlYmFyIiwgImNsb3NlU2lkZWJhciIsICJidXR0b24iLCAiZXZlbnQiLCAiQUNUSVZFX1NJVEVfS0VZIiwgIkFDVElWRV9TSVRFX05BTUVfS0VZIiwgInN0b3JlZFNpdGUiLCAic2l0ZUNhcmRzIiwgInNpdGVTZWxlY3RCdXR0b25zIiwgInNpdGVOYW1lTGFiZWwiLCAid29ya3NwYWNlU2l0ZUxhYmVsIiwgIndvcmtzcGFjZUJhY2tOYW1lIiwgIndvcmtzcGFjZUJhY2tNb2RhbCIsICJ3b3Jrc3BhY2VCYWNrQnV0dG9ucyIsICJ3b3Jrc3BhY2VCYWNrQ2FuY2VsIiwgIndvcmtzcGFjZUJhY2tDb25maXJtIiwgIndvcmtzcGFjZU5hdkxpbmtzIiwgInNpdGVUb2FzdCIsICJzaXRlVG9hc3RNZXNzYWdlIiwgInNpdGVDcmVhdGVCdXR0b25zIiwgInNpdGVNb2RhbCIsICJzaXRlRm9ybSIsICJzaXRlTmFtZUlucHV0IiwgInNpdGVTbHVnSW5wdXQiLCAic2l0ZVNsdWdFcnJvciIsICJzaXRlTW9kYWxFcnJvciIsICJzaXRlTW9kYWxDYW5jZWxCdXR0b25zIiwgInNpdGVNb2RhbFN1Ym1pdEJ1dHRvbiIsICJ3b3Jrc3BhY2VDb250ZXh0IiwgImdldFdvcmtzcGFjZUNvbnRleHQiLCAic2x1Z01hbnVhbGx5RWRpdGVkIiwgImxhc3RGb2N1c2VkRWxlbWVudCIsICJ0b2FzdFRpbWVvdXRJZCIsICJmb2N1c2FibGVTZWxlY3RvciIsICJ0cmFwRm9jdXMiLCAiZm9jdXNhYmxlRWxlbWVudHMiLCAiZWwiLCAiZmlyc3QiLCAibGFzdCIsICJzaG93VG9hc3QiLCAibWVzc2FnZSIsICJlbnN1cmVMZWFkaW5nU2xhc2giLCAic2x1ZyIsICJzdHJpcExlYWRpbmdTbGFzaCIsICJwZXJzaXN0U2l0ZVN0YXRlIiwgIm5hbWUiLCAibm9ybWFsaXplZFNsdWciLCAidXBkYXRlU2l0ZUxhYmVscyIsICJ1cGRhdGVXb3Jrc3BhY2VOYXZMaW5rcyIsICJsaW5rIiwgInRhYiIsICJzbHVnUGF0aCIsICJhcHBseUFjdGl2ZVNpdGUiLCAib3B0aW9ucyIsICJhY3RpdmVTaXRlTmFtZSIsICJjYXJkIiwgImlzQWN0aXZlIiwgImJhZGdlIiwgImZpbmFsTmFtZSIsICJzZWxlY3RTaXRlIiwgInJlc3BvbnNlIiwgInBheWxvYWQiLCAiZmluYWxTbHVnIiwgInN5bmNBY3RpdmVTaXRlRnJvbVNlcnZlciIsICJzaXRlIiwgImRlZmF1bHRDYXJkIiwgIndvcmtzcGFjZVNsdWdpZnkiLCAidmFsdWUiLCAibm9ybWFsaXplU2x1Z1ZhbHVlIiwgImJhc2UiLCAib3BlblNpdGVNb2RhbCIsICJjbG9zZVNpdGVNb2RhbCIsICJzbHVnVmFsIiwgIm5hbWVWYWwiLCAiZ2V0U2x1Z1NldCIsICJuYW1lVmFsdWUiLCAic2x1Z1ZhbHVlIiwgImNyZWF0ZWRTaXRlIiwgImNsb3NlV29ya3NwYWNlQmFja01vZGFsIiwgIm1hdGNoIiwgImRldGVjdFdvcmtzcGFjZVNlY3Rpb24iLCAib3BlbldvcmtzcGFjZUJhY2tNb2RhbCIsICJhY3RpdmVTZWN0aW9uIiwgImluaXREZXNpZ25Xb3Jrc3BhY2UiLCAiaW5pdENvbnRlbnRXb3Jrc3BhY2UiLCAiaW5pdE1lZGlhV29ya3NwYWNlIiwgImluaXREZXBsb3lXb3Jrc3BhY2UiLCAiaW5pdFNldHRpbmdzV29ya3NwYWNlIiwgInBhZ2VMaXN0cyIsICJhY3RpdmVUaXRsZSIsICJhY3RpdmVTbHVnIiwgInByZXZpZXdUYWdzIiwgInByZXZpZXdGcmFtZSIsICJwcmV2aWV3T3BlbkJ1dHRvbiIsICJwcmV2aWV3U3RhdHVzIiwgInByZXZpZXdIaWdobGlnaHRPdmVybGF5IiwgInNlb1RvZ2dsZUJ1dHRvbiIsICJzZW9QYW5lbCIsICJzZW9DbG9zZUJ1dHRvbiIsICJzZW9Gb3JtIiwgInNlb1RpdGxlSW5wdXQiLCAic2VvRGVzY3JpcHRpb25JbnB1dCIsICJzZW9JbmRleGVkQ2hlY2tib3giLCAic2VvRmVlZGJhY2siLCAic2VvU2F2ZUJ1dHRvbiIsICJibG9ja0xpc3QiLCAiYmxvY2tMaXN0RW1wdHkiLCAiYmxvY2tDb3VudEJhZGdlIiwgImJsb2NrTGlicmFyeVRvZ2dsZSIsICJibG9ja0xpYnJhcnkiLCAiYmxvY2tBZGRCdXR0b25zIiwgImJsb2NrRGVsZXRlTW9kYWwiLCAiYmxvY2tEZWxldGVDb25maXJtIiwgImJsb2NrRGVsZXRlQ2FuY2VsIiwgImJsb2NrRGV0YWlsRW1wdHkiLCAiYmxvY2tEZXRhaWxTdGF0dXMiLCAiYmxvY2tFZGl0b3IiLCAiYmxvY2tFZGl0b3JUaXRsZSIsICJibG9ja0VkaXRvclR5cGUiLCAiYmxvY2tFZGl0b3JVbnN1cHBvcnRlZCIsICJibG9ja0Zvcm0iLCAiYmxvY2tGb3JtU2VjdGlvbnMiLCAiYmxvY2tUYWJzIiwgImFjdGl2ZUJsb2NrVGFiIiwgImJsb2NrRm9ybUFjdGlvbnMiLCAiYmxvY2tGb3JtQXV0b3NhdmUiLCAic3dpdGNoQmxvY2tUYWIiLCAidGFiTmFtZSIsICJwYW5lbCIsICJjb2xsZWN0aW9uU2VsZWN0IiwgImNvbGxlY3Rpb25TZWxlY3Rpb25JbmZvIiwgImJsb2NrRm9ybUNhbmNlbCIsICJncm91cFByZXZpZXdNb2JpbGUiLCAiZ3JvdXBQcmV2aWV3RGVza3RvcCIsICJjb2xsZWN0aW9uUHJldmlld01vYmlsZSIsICJjb2xsZWN0aW9uUHJldmlld0Rlc2t0b3AiLCAiYmxvY2tUeXBlRm9ybXMiLCAiYmxvY2tUeXBlQWxpYXNlcyIsICJ1cGRhdGVHcm91cE1pbmlQcmV2aWV3IiwgIm1vYmlsZVZhbHVlIiwgImRlc2t0b3BWYWx1ZSIsICJyZW5kZXJCb3hlcyIsICJjb3VudCIsICJ1cGRhdGVDb2xsZWN0aW9uTWluaVByZXZpZXciLCAiZmV0Y2hQYWdlc0Zyb21TZXJ2ZXIiLCAicGFnZXNBcGlCYXNlIiwgImNyZWF0ZVBhZ2VPblNlcnZlciIsICJ0aXRsZSIsICJzYXZlUGFnZVRvU2VydmVyIiwgInBhZ2UiLCAic2F2ZWQiLCAibm9ybWFsaXplZCIsICJub3JtYWxpemVQYWdlRGF0YSIsICJwYWdlcyIsICJlbnRyeSIsICJjdXJyZW50UGFnZSIsICJsb2FkUGFnZXNGcm9tU2VydmVyIiwgImFjdGl2ZVBhZ2VJZCIsICJyZW5kZXJQYWdlTGlzdHMiLCAicmVuZGVyQmxvY2tMaXN0IiwgImxvYWRlZFBhZ2VzIiwgImdldExvYWRpbmdQcmV2aWV3SHRtbCIsICJnZXRTdG9yZWRBY3RpdmVQYWdlIiwgInNldEFjdGl2ZVBhZ2UiLCAibm9ybWFsaXplVHlwZSIsICJnZXRCbG9ja0Zvcm1Db25maWciLCAiYmxvY2siLCAidHlwZUtleSIsICJhbGlhcyIsICJwb3B1bGF0ZUJsb2NrRm9ybSIsICJfYSIsICJfYiIsICJfYyIsICJfZCIsICJfZSIsICJjb25maWciLCAic2VjdGlvbiIsICJkZXNpcmVkVmFsdWUiLCAidXBkYXRlQ29sbGVjdGlvblNlbGVjdE9wdGlvbnMiLCAic2V0dGluZ0tleSIsICJmaWVsZE5hbWUiLCAiaW5wdXQiLCAiY29sbGVjdEZvcm1WYWx1ZXMiLCAidmFsdWVzIiwgInBhcnNlZCIsICJ1cGRhdGVQcmV2aWV3U3RhdHVzIiwgInRleHQiLCAic2VyaWFsaXplUGFnZUZvclByZXZpZXciLCAiZGVib3VuY2UiLCAiZm4iLCAiZGVsYXkiLCAidGltZW91dElkIiwgImFyZ3MiLCAiYXV0b1NhdmVUaW1lb3V0IiwgImF1dG9TYXZlQXBwZWFyYW5jZSIsICJhY3RpdmVCbG9ja0lkIiwgImdldEFjdGl2ZUJsb2NrIiwgInVwZGF0ZWRCbG9ja3MiLCAidXBkYXRlZFNldHRpbmdzIiwgIm5leHRQYWdlIiwgInVwZGF0ZVByZXZpZXdCbG9ja0xpdmUiLCAiYmxvY2tJZCIsICJzZXR0aW5ncyIsICJkZWJvdW5jZWRBdXRvU2F2ZSIsICJkZWJvdW5jZWRSZWZyZXNoUHJldmlldyIsICJyZWZyZXNoUHJldmlldyIsICJoYW5kbGVBcHBlYXJhbmNlQ2hhbmdlIiwgInByZXZpZXdTaXRlU2x1ZyIsICJwcmV2aWV3UmVhZHkiLCAicHJldmlld1JlcXVlc3RDb250cm9sbGVyIiwgImNvbnRyb2xsZXIiLCAiZGF0YSIsICJsYXRlc3RQcmV2aWV3SHRtbCIsICJlcnJvciIsICJoYW5kbGVCbG9ja0Zvcm1TdWJtaXQiLCAidXBkYXRlZEJsb2NrIiwgInVwZGF0ZUN1cnJlbnRQYWdlQmxvY2tzIiwgImRyYXdlciIsICJkcmF3ZXJCYWNrZHJvcCIsICJkcmF3ZXJPcGVuQnV0dG9ucyIsICJkcmF3ZXJDbG9zZUJ1dHRvbnMiLCAiYWRkUGFnZVRvZ2dsZSIsICJhZGRQYWdlRm9ybSIsICJhZGRQYWdlVGl0bGUiLCAiYWRkUGFnZVNsdWciLCAiYWRkUGFnZUNhbmNlbCIsICJhZGRQYWdlRXJyb3IiLCAiYWRkUGFnZVN1Ym1pdEJ1dHRvbiIsICJpbXBvcnRUb2dnbGUiLCAiaW1wb3J0TW9kYWwiLCAiaW1wb3J0Q2xvc2VCdXR0b25zIiwgImltcG9ydERyb3B6b25lIiwgImltcG9ydEZpbGVJbnB1dCIsICJpbXBvcnRGaWxlTGlzdCIsICJpbXBvcnRGaWxlTmFtZXMiLCAiaW1wb3J0UmVzdWx0cyIsICJpbXBvcnRSZXN1bHRzQ29udGVudCIsICJpbXBvcnRTdWJtaXQiLCAiaW1wb3J0VGFicyIsICJpbXBvcnRQYW5lbHMiLCAiY29weVRlbXBsYXRlQnRuIiwgInRlbXBsYXRlSnNvbiIsICJpbXBvcnRQYXN0ZUlucHV0IiwgInBhc3RlRm9ybWF0QnRuIiwgInBhc3RlRXJyb3IiLCAiaW1wb3J0U2VsZWN0ZWRGaWxlcyIsICJhY3RpdmVJbXBvcnRUYWIiLCAiZGVsZXRlUGFnZU1vZGFsIiwgImRlbGV0ZVBhZ2VOYW1lIiwgImRlbGV0ZVBhZ2VDYW5jZWwiLCAiZGVsZXRlUGFnZUNvbmZpcm0iLCAicGFnZVRvRGVsZXRlIiwgInNpdGVLZXkiLCAic2l0ZVNsdWdWYWx1ZSIsICJzYWZlU2l0ZVNsdWciLCAiY29sbGVjdGlvbnNBcGlCYXNlIiwgInN0b3JhZ2VLZXlzIiwgImNyZWF0ZUJsb2NrIiwgImlkIiwgImxhYmVsIiwgInR5cGUiLCAic3RhdHVzIiwgImRlc2NyaXB0aW9uIiwgInByb3BzIiwgImJsb2NrTGlicmFyeURlZmluaXRpb25zIiwgInBlcnNpc3RBY3RpdmVQYWdlIiwgInBhZ2VJZCIsICJzdG9yZWQiLCAiZm9ybWF0QmxvY2tDb3VudCIsICJub3JtYWxpemVQYWdlU2x1ZyIsICJnZW5lcmF0ZUJsb2NrSWQiLCAia2V5IiwgImNyZWF0ZUluaXRpYWxCbG9ja3MiLCAic2V0QWN0aXZlTGFiZWxzIiwgInJlbmRlclByZXZpZXdNZXRhIiwgInRhZyIsICJnZXRTdGF0dXNCYWRnZUNsYXNzZXMiLCAicmVuZGVyQmxvY2tEZXRhaWxzIiwgImFwcGx5UHJldmlld0hpZ2hsaWdodCIsICJkb2MiLCAibm9kZSIsICJibG9ja3MiLCAiaXRlbSIsICJhY2NlbnQiLCAiY29udGVudCIsICJoYW5kbGUiLCAidGV4dFdyYXBwZXIiLCAibWV0YSIsICJ0eXBlQmFkZ2UiLCAic3RhdHVzQmFkZ2UiLCAiZGlzcGxheUxhYmVsIiwgImNvbGxlY3Rpb25OYW1lIiwgImRlc2lnbkNvbGxlY3Rpb25zIiwgImluZm8iLCAiYWN0aW9ucyIsICJtb3ZlQnV0dG9ucyIsICJtb3ZlVXAiLCAibW92ZUJsb2NrQnlPZmZzZXQiLCAibW92ZURvd24iLCAiZGVsZXRlQnV0dG9uIiwgIm9wZW5CbG9ja0RlbGV0ZU1vZGFsIiwgInNldEFjdGl2ZUJsb2NrIiwgIm9wZW5EZWxldGVQYWdlTW9kYWwiLCAiY2xvc2VEZWxldGVQYWdlTW9kYWwiLCAiZXhlY3V0ZURlbGV0ZVBhZ2UiLCAicGFnZVRpdGxlIiwgInJlc3VsdCIsICJwIiwgImFjdGl2ZUlkIiwgImxpc3QiLCAiaXNEZXNrdG9wRHJhd2VyIiwgImNsb3NlRHJhd2VyIiwgImRlbGV0ZUJ0biIsICJlIiwgInRhcmdldEJsb2NrIiwgIm5ld0Jsb2NrcyIsICJ1cGRhdGVDdXJyZW50UGFnZVN0YXRlIiwgImlzRGVza3RvcFJlb3JkZXIiLCAib2Zmc2V0IiwgImluZGV4IiwgIm5ld0luZGV4IiwgIm1vdmVkIiwgInJlb3JkZXJCbG9ja3MiLCAic291cmNlSWQiLCAidGFyZ2V0SWQiLCAiZnJvbUluZGV4IiwgInRvSW5kZXgiLCAicmVvcmRlckJsb2Nrc1dpdGhQb3NpdGlvbiIsICJwb3NpdGlvbiIsICJpbnNlcnRJbmRleCIsICJ1cGRhdGVEcmFnZ2FibGVTdGF0ZSIsICJkcmFnZ2FibGUiLCAiY2xvc2VCbG9ja0xpYnJhcnkiLCAiYmxvY2tMaWJyYXJ5T3BlbiIsICJvcGVuQmxvY2tMaWJyYXJ5IiwgInRvZ2dsZUJsb2NrTGlicmFyeSIsICJhZGRCbG9ja0Zyb21MaWJyYXJ5IiwgImRlZmluaXRpb24iLCAibmV3QmxvY2siLCAiZmlyc3RDb2xsZWN0aW9uSWQiLCAibmV4dEJsb2NrcyIsICJkZWxldGVCbG9ja0J5SWQiLCAibmV4dEFjdGl2ZSIsICJjbG9zZUJsb2NrRGVsZXRlTW9kYWwiLCAicGVuZGluZ0RlbGV0ZUJsb2NrSWQiLCAidGFyZ2V0IiwgInN5bmNEcmF3ZXJTdGF0ZSIsICJvcGVuRHJhd2VyIiwgIm9wZW5BZGRQYWdlRm9ybSIsICJwYWdlU2x1Z01hbnVhbGx5RWRpdGVkIiwgImNsb3NlQWRkUGFnZUZvcm0iLCAic3luY1NsdWdGcm9tVGl0bGUiLCAibm9ybWFsaXplQmxvY2tEYXRhIiwgImxvYWREZXNpZ25Db2xsZWN0aW9ucyIsICJjdXJyZW50VmFsdWUiLCAic3luY0NvbGxlY3Rpb25TZWxlY3Rpb25JbmZvIiwgImNvbGxlY3Rpb25JZCIsICJjb2xsZWN0aW9uIiwgImRldGFpbHMiLCAic2VsZWN0ZWRWYWx1ZSIsICJvcHRpb24iLCAiZmFsbGJhY2tPcHRpb24iLCAiY3JlYXRlZFBhZ2UiLCAicmVzZXRQYXN0ZVN0YXRlIiwgInZhbGlkYXRlUGFzdGVKc29uIiwgImZvcm1hdFBhc3RlSnNvbiIsICJ1cGRhdGVJbXBvcnRTdWJtaXRTdGF0ZSIsICJvcGVuSW1wb3J0TW9kYWwiLCAidXBkYXRlSW1wb3J0RmlsZUxpc3QiLCAidCIsICJjbG9zZUltcG9ydE1vZGFsIiwgImYiLCAiaGFuZGxlSW1wb3J0RmlsZXMiLCAiZmlsZXMiLCAianNvbkZpbGVzIiwgImV4ZWN1dGVJbXBvcnQiLCAiX2YiLCAiX2ciLCAiX2giLCAiX2kiLCAiX2oiLCAiX2siLCAicGFnZXNEYXRhIiwgInBhcnNlRXJyIiwgImVycm9yTGluZSIsICJlcnJvckRldGFpbCIsICJwb3MiLCAibGluZXMiLCAibGluZU51bSIsICJjb2xOdW0iLCAiZmlsZUVycm9ycyIsICJmaWxlIiwgImh0bWwiLCAiaGFzRGF0YSIsICJoYXNTdWNjZXNzIiwgImhhc0Vycm9ycyIsICJjIiwgImNvbGxlY3Rpb25zTXNnIiwgImJ0biIsICJ0YXJnZXRQYW5lbCIsICJwcmV2aWV3V2luZG93IiwgInRvZ2dsZVNlb1BhbmVsIiwgInNob3ciLCAic2V0U2VvRmVlZGJhY2siLCAidG9uZSIsICJjb2xvciIsICJpc1Zpc2libGUiLCAic2VvRGF0YSIsICJ1cGRhdGVkUGFnZSIsICJoYW5kbGVCbG9ja0RyYWdTdGFydCIsICJkcmFnU291cmNlSWQiLCAiY2xlYXJEcmFnSW5kaWNhdG9ycyIsICJoYW5kbGVCbG9ja0RyYWdFbmQiLCAiaGFuZGxlQmxvY2tEcmFnT3ZlciIsICJyZWN0IiwgIm1pZFkiLCAiaXNBYm92ZSIsICJoYW5kbGVCbG9ja0RyYWdMZWF2ZSIsICJyZWxhdGVkVGFyZ2V0IiwgImhhbmRsZUJsb2NrRHJvcCIsICJzb3VyY2UiLCAiZHJvcFBvc2l0aW9uIiwgImNvbGxlY3Rpb25MaXN0IiwgImNvbnRlbnRWaWV3cyIsICJjb250ZW50U2VjdGlvbkJ1dHRvbnMiLCAiY29udGVudFNlY3Rpb25UcmlnZ2VycyIsICJjb250ZW50RHJhd2VyIiwgImNvbnRlbnREcmF3ZXJCYWNrZHJvcCIsICJjb250ZW50RHJhd2VyT3BlbkJ1dHRvbnMiLCAiY29udGVudERyYXdlckNsb3NlQnV0dG9ucyIsICJoZWFkZXJTdGF0dXNJbmRpY2F0b3IiLCAiZm9vdGVyU3RhdHVzSW5kaWNhdG9yIiwgImNvbGxlY3Rpb25Db3VudEVsIiwgImhlYWRlckZpZWxkcyIsICJoZWFkZXJOYXZMaXN0IiwgImhlYWRlck5hdkFkZEJ0biIsICJoZWFkZXJTYXZlQnRuIiwgImhlYWRlck5hdkl0ZW1UZW1wbGF0ZSIsICJmb290ZXJGaWVsZHMiLCAiZm9vdGVyQ29sdW1uc0xpc3QiLCAiZm9vdGVyQ29sdW1uQWRkQnRuIiwgImZvb3RlclNhdmVCdG4iLCAiZm9vdGVyQ29sdW1uVGVtcGxhdGUiLCAiZm9vdGVyTGlua1RlbXBsYXRlIiwgImFjdGl2ZUNvbnRlbnRTZWN0aW9uIiwgImhlYWRlckRhdGEiLCAiZm9vdGVyRGF0YSIsICJzYWZlU2l0ZVNsdWdGb3JMYXlvdXQiLCAibGF5b3V0QXBpQmFzZSIsICJzaG93Q29udGVudFZpZXciLCAidmlld05hbWUiLCAib3BlbkNvbnRlbnREcmF3ZXIiLCAiY2xvc2VDb250ZW50RHJhd2VyIiwgImFkZE5hdkl0ZW0iLCAidXJsIiwgImNsb25lIiwgImxhYmVsSW5wdXQiLCAidXJsSW5wdXQiLCAicmVtb3ZlQnRuIiwgImNvbGxlY3RIZWFkZXJEYXRhIiwgIl9sIiwgIl9tIiwgIm5hdiIsICJwb3B1bGF0ZUhlYWRlckZvcm0iLCAiYWRkRm9vdGVyTGluayIsICJjb250YWluZXIiLCAiYWRkRm9vdGVyQ29sdW1uIiwgImxpbmtzIiwgImNvbHVtbiIsICJ0aXRsZUlucHV0IiwgImxpbmtzQ29udGFpbmVyIiwgImFkZExpbmtCdG4iLCAiY29sbGVjdEZvb3RlckRhdGEiLCAiX24iLCAiX28iLCAiX3AiLCAiX3EiLCAiX3IiLCAiX3MiLCAiX3QiLCAiY29sdW1ucyIsICJjb2wiLCAibGlua0VsIiwgInBvcHVsYXRlRm9vdGVyRm9ybSIsICJ2IiwgImNvbGxlY3Rpb25FbXB0eVN0YXRlIiwgImNvbGxlY3Rpb25JdGVtc0VtcHR5IiwgIml0ZW1UYWJsZVdyYXBwZXIiLCAiaXRlbVRhYmxlQm9keSIsICJjb2xsZWN0aW9uVGl0bGUiLCAiY29sbGVjdGlvbkRlc2NyaXB0aW9uIiwgIml0ZW1BZGRCdXR0b24iLCAiaXRlbURldGFpbEVtcHR5IiwgIml0ZW1Gb3JtIiwgIml0ZW1Gb3JtRmllbGRzIiwgIml0ZW1TdGF0dXNCYWRnZSIsICJpdGVtRGVsZXRlQnV0dG9uIiwgIml0ZW1EZWxldGVNb2RhbCIsICJpdGVtRGVsZXRlQ2FuY2VsIiwgIml0ZW1EZWxldGVDb25maXJtIiwgIml0ZW1Gb3JtQ2FuY2VsIiwgIml0ZW1Gb3JtU2F2ZSIsICJzdGF0dXNCYWRnZUJhc2VDbGFzcyIsICJzYWZlU2l0ZVNsdWdWYWx1ZSIsICJjb2xsZWN0aW9ucyIsICJjb2xsZWN0aW9uSXRlbXMiLCAiYWN0aXZlQ29sbGVjdGlvbklkIiwgImFjdGl2ZUl0ZW1JZCIsICJpc0NyZWF0aW5nSXRlbSIsICJpdGVtU2x1Z01hbnVhbGx5RWRpdGVkIiwgInBlbmRpbmdEZWxldGVJdGVtSWQiLCAibm9ybWFsaXplSXRlbVNsdWdJbnB1dCIsICJyYXciLCAiY2xlYW5lZFNlZ21lbnRzIiwgInNlZ21lbnQiLCAiZm9ybWF0SXRlbURhdGUiLCAiZGF0ZSIsICJ1cGRhdGVDb2xsZWN0aW9uSGVhZGVyIiwgInVwZGF0ZUl0ZW1zRW1wdHlNZXNzYWdlIiwgImhpZGVJdGVtRm9ybSIsICJzaG93SXRlbUZvcm0iLCAic3luY0FkZEJ1dHRvblN0YXRlIiwgInN5bmNJdGVtU3RhdHVzQmFkZ2UiLCAiY29sb3JDbGFzcyIsICJyZW5kZXJDb2xsZWN0aW9uTGlzdCIsICJzZXRBY3RpdmVDb2xsZWN0aW9uIiwgInJlbmRlckl0ZW1UYWJsZSIsICJyb3ciLCAic3RhdHVzQ2xhc3NlcyIsICJoYW5kbGVTZWxlY3QiLCAic2VsZWN0SXRlbSIsICJpdGVtSWQiLCAicG9wdWxhdGVJdGVtRm9ybSIsICJwcmVwYXJlTmV3SXRlbUZvcm0iLCAiY29sbGVjdEl0ZW1Gb3JtVmFsdWVzIiwgInNsdWdJbnB1dCIsICJzdW1tYXJ5IiwgImltYWdlIiwgImN0YVRleHQiLCAiY3RhVXJsIiwgImN0YSIsICJzZXRGb3JtU2F2aW5nU3RhdGUiLCAiaXNTYXZpbmciLCAiZmV0Y2hDb2xsZWN0aW9uSXRlbXMiLCAiY3JlYXRlQ29sbGVjdGlvbkl0ZW0iLCAidXBkYXRlQ29sbGVjdGlvbkl0ZW0iLCAiZGVsZXRlQ29sbGVjdGlvbkl0ZW0iLCAibG9hZENvbGxlY3Rpb25zIiwgImRlZmF1bHRJZCIsICJzYXZlZEl0ZW0iLCAiY2xvc2VEZWxldGVNb2RhbCIsICJvcGVuRGVsZXRlTW9kYWwiLCAiZm9ybSIsICJwcm90b2NvbFNlbGVjdCIsICJob3N0SW5wdXQiLCAicG9ydElucHV0IiwgInVzZXJJbnB1dCIsICJwYXNzd29yZElucHV0IiwgInNob3dQYXNzd29yZFRvZ2dsZSIsICJyZW1vdGVQYXRoSW5wdXQiLCAiZmVlZGJhY2siLCAic2F2ZUJ1dHRvbiIsICJ0ZXN0QnV0dG9uIiwgImRlcGxveUJ1dHRvbiIsICJoaXN0b3J5TGlzdCIsICJsb2dCb3giLCAiZGVwbG95QXBpQmFzZSIsICJkZXBsb3lSdW5BcGkiLCAiZGVwbG95TG9nQXBpIiwgImhhc1Bhc3N3b3JkIiwgImJ1c3lBY3Rpb24iLCAic2FuaXRpemVSZW1vdGVQYXRoIiwgInRyaW1tZWQiLCAic2V0RmVlZGJhY2siLCAiYmFzZUNsYXNzIiwgInRvbmVDbGFzcyIsICJpY29uIiwgInNldEJ1c3kiLCAiYWN0aW9uIiwgImRpc2FibGUiLCAic3Bpbm5lciIsICJwb3B1bGF0ZUZvcm0iLCAicmVuZGVySGlzdG9yeSIsICJlbnRyaWVzIiwgImxpIiwgImR1cmF0aW9uIiwgInJlbmRlckxvZ3MiLCAiZmV0Y2hIaXN0b3J5IiwgImZldGNoQ29uZmlnIiwgImJ1aWxkUGF5bG9hZCIsICJwd2QiLCAiZXJyb3JQYXlsb2FkIiwgInRhYkJ1dHRvbnMiLCAidGFiUGFuZWxzIiwgInNpdGVGZWVkYmFjayIsICJ0aGVtZUZvcm0iLCAic3dpdGNoVGFiIiwgInN1Ym1pdCIsICJmb3JtRGF0YSIsICJjdXJyZW50UGFzc3dvcmQiLCAibmV3UGFzc3dvcmQiLCAiY29uZmlybVBhc3N3b3JkIiwgIm5hbWVJbnB1dCIsICJsYW5nU2VsZWN0IiwgInRhZ2xpbmVJbnB1dCIsICJzZXRTaXRlRmVlZGJhY2siLCAic2l0ZUNvbmZpZ0FwaSIsICJsb2FkU2l0ZUNvbmZpZyIsICJ0aGVtZUFwaSIsICJjb2xvclNlbGVjdHMiLCAiaGVhZGluZ1NlbGVjdCIsICJib2R5U2VsZWN0IiwgInJhZGl1c1NtYWxsIiwgInJhZGl1c01lZGl1bSIsICJyYWRpdXNMYXJnZSIsICJwcmV2aWV3IiwgInRoZW1lRmVlZGJhY2siLCAiYXBwbHlCdXR0b24iLCAidGFpbHdpbmRIdWVzIiwgInRhaWx3aW5kU2hhZGVzIiwgInRhaWx3aW5kVG9rZW5zIiwgImgiLCAicyIsICJmaWxsQ29sb3JPcHRpb25zIiwgInNlbCIsICJ0b2tlbiIsICJzZXRUaGVtZUZlZWRiYWNrIiwgInN5bmNQcmV2aWV3IiwgInRva2VuVG9IZXgiLCAic2hhZGVOdW0iLCAiZmFjdG9yIiwgInRvUmdiIiwgImhleCIsICJyIiwgImciLCAiYiIsICJtaXgiLCAic2V0Q29sb3JGaWVsZHMiLCAibG9hZFRoZW1lIiwgInNlb0NvbmZpZ0Zvcm0iLCAiaW5kZXhBbGxDaGVja2JveCIsICJzZW9Db25maWdGZWVkYmFjayIsICJsb2FkU2VvQ29uZmlnIiwgImluZGV4QWxsIiwgImN1cnJlbnRSZXMiLCAiY3VycmVudENvbmZpZyIsICJhbmFseXRpY3NGb3JtIiwgImhlYWRUZXh0YXJlYSIsICJib2R5VGV4dGFyZWEiLCAiYW5hbHl0aWNzRmVlZGJhY2siLCAiYW5hbHl0aWNzU2F2ZUJ1dHRvbiIsICJzZXRBbmFseXRpY3NGZWVkYmFjayIsICJsb2FkQW5hbHl0aWNzQ29uZmlnIiwgImdyaWQiLCAiZW1wdHlTdGF0ZSIsICJjb3VudEJhZGdlIiwgImZpbHRlclR5cGUiLCAiZGV0YWlsRW1wdHkiLCAiZGV0YWlsUGFuZWwiLCAiZGV0YWlsUHJldmlldyIsICJkZXRhaWxOYW1lIiwgImRldGFpbFR5cGUiLCAiZGV0YWlsU2l6ZSIsICJkZXRhaWxQYXRoIiwgImRldGFpbFVzZWQiLCAiZGV0YWlsQWx0SW5wdXQiLCAiZGV0YWlsU2F2ZUJ1dHRvbiIsICJkZXRhaWxEZWxldGVCdXR0b24iLCAiZGVsZXRlTW9kYWwiLCAiZGVsZXRlQ2FuY2VsQnV0dG9uIiwgImRlbGV0ZUNvbmZpcm1CdXR0b24iLCAidXBsb2FkT3BlbkJ1dHRvbiIsICJmaWxlSW5wdXQiLCAidXBsb2FkU3RhdHVzIiwgIm1lZGlhQXBpQmFzZSIsICJtZWRpYUl0ZW1zIiwgImZpbHRlcmVkSXRlbXMiLCAiYWN0aXZlTWVkaWFJZCIsICJoaWdobGlnaHRNZWRpYUlkIiwgInBlbmRpbmdVcGxvYWRGaWxlIiwgInVwbG9hZEluUHJvZ3Jlc3MiLCAiZGV0YWlsRGlydHkiLCAidXBsb2FkTW9kZSIsICJ1cGxvYWRQcmV2aWV3VXJsIiwgImRlcml2ZUdyb3VwVHlwZSIsICJmaWxlbmFtZSIsICJpc0ltYWdlVHlwZSIsICJmb3JtYXRUeXBlTGFiZWwiLCAiZXh0IiwgImZvcm1hdEZpbGVTaXplIiwgInNpemUiLCAicmVzZXREZXRhaWxQYW5lbCIsICJjbGVhclVwbG9hZFN0YXRlIiwgInVwZGF0ZURldGFpbEFjdGlvbnMiLCAidXBkYXRlQ291bnRCYWRnZSIsICJyZW5kZXJHcmlkIiwgInNlbGVjdE1lZGlhIiwgInJlbmRlclVzZWRJbiIsICJzYXZpbmciLCAibWVkaWFJZCIsICJzaG93VXBsb2FkUHJldmlldyIsICJhcHBseUZpbHRlcnMiLCAidHlwZUZpbHRlciIsICJsb2FkTWVkaWEiLCAiaGFuZGxlRmlsZVNlbGVjdGlvbiIsICJyZWFkRmlsZUFzQmFzZTY0IiwgInJlc29sdmUiLCAicmVqZWN0IiwgInJlYWRlciIsICJiYXNlNjQiLCAidXBsb2FkU2VsZWN0ZWRNZWRpYSIsICJkZWxldGVBY3RpdmVNZWRpYSIsICJkaXNhYmxlQnV0dG9ucyIsICJlbmFibGVCdXR0b25zIiwgInVwZGF0ZWQiXQp9Cg==
