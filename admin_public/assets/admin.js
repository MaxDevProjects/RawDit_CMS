(()=>{document.addEventListener("DOMContentLoaded",()=>{console.log("[admin] Atelier charg\xE9");let Ws=document.querySelector("[data-logout]");Ws&&Ws.addEventListener("click",async()=>{Ws.disabled=!0;try{await fetch("/api/logout",{method:"POST",headers:{"Content-Type":"application/json"}})}catch(o){console.error("[admin] Impossible de se d\xE9connecter",o)}finally{window.location.href="/admin/index.html"}});let cs=document.querySelector("[data-admin-sidebar]"),dt=document.querySelector("[data-admin-sidebar-overlay]"),wo=document.querySelectorAll("[data-admin-sidebar-toggle]"),_o=document.querySelectorAll("[data-admin-sidebar-close]"),Ks=document.body,Ss=!1,Ls=()=>{if(!cs)return;if(window.matchMedia("(min-width: 1024px)").matches){cs.classList.remove("hidden"),dt==null||dt.classList.add("hidden"),Ks.classList.remove("overflow-hidden");return}Ss?(cs.classList.remove("hidden"),dt==null||dt.classList.remove("hidden"),Ks.classList.add("overflow-hidden")):(cs.classList.add("hidden"),dt==null||dt.classList.add("hidden"),Ks.classList.remove("overflow-hidden"))},Yo=()=>{Ss=!0,Ls()},Zs=()=>{Ss=!1,Ls()};cs&&wo.length>0&&(wo.forEach(o=>{o.addEventListener("click",Yo)}),_o.forEach(o=>{o.addEventListener("click",Zs)}),dt==null||dt.addEventListener("click",Zs),window.addEventListener("resize",Ls),window.addEventListener("keydown",o=>{o.key==="Escape"&&Ss&&Zs()}),Ls());let So="clower:currentSite",Lo="clower:currentSiteName",Y={slug:null,name:""};(()=>{try{Y.slug=window.localStorage.getItem(So),Y.name=window.localStorage.getItem(Lo)||""}catch{Y.slug=null,Y.name=""}})();let _s=document.querySelectorAll("[data-site-card]"),Xo=document.querySelectorAll("[data-site-select]"),ds=document.querySelector("[data-current-site-name]"),ko=document.querySelector("[data-workspace-site-name]"),Co=document.querySelector("[data-workspace-back-name]"),Nt=document.querySelector("[data-workspace-back-modal]"),Qo=document.querySelectorAll("[data-workspace-back]"),er=document.querySelectorAll("[data-workspace-back-cancel]"),Ys=document.querySelector("[data-workspace-back-confirm]"),tr=document.querySelectorAll("[data-workspace-tab]"),Xs=document.querySelector("[data-site-toast]"),Eo=document.querySelector("[data-site-toast-message]"),sr=document.querySelectorAll("[data-site-create]"),Ve=document.querySelector("[data-site-modal]"),Je=document.querySelector("[data-site-form]"),Ue=Je==null?void 0:Je.querySelector('input[name="siteName"]'),qe=Je==null?void 0:Je.querySelector('input[name="siteSlug"]'),Re=document.querySelector("[data-site-slug-error]"),Oe=document.querySelector("[data-site-modal-error]"),or=document.querySelectorAll("[data-site-modal-cancel]"),Yt=document.querySelector("[data-site-modal-submit]"),G=dr(),ks=!1,Cs=null,Qs=null,rr='a[href], button:not([disabled]), textarea, input, select, [tabindex]:not([tabindex="-1"])',qo=o=>{if(!Ve||Ve.classList.contains("hidden")||o.key!=="Tab")return;let a=Array.from(Ve.querySelectorAll(rr)).filter(f=>!f.hasAttribute("disabled")&&!f.getAttribute("aria-hidden"));if(a.length===0)return;let d=a[0],y=a[a.length-1];o.shiftKey?document.activeElement===d&&(o.preventDefault(),y.focus()):document.activeElement===y&&(o.preventDefault(),d.focus())},$=o=>{!Xs||!Eo||(Eo.textContent=o,Xs.classList.remove("hidden"),Qs&&clearTimeout(Qs),Qs=setTimeout(()=>{Xs.classList.add("hidden")},2500))};function $t(o){return o?o.startsWith("/")?o:`/${o}`:""}function Se(o){return(o==null?void 0:o.replace(/^\//,""))||""}let Es=(o,a)=>{let d=o?$t(o):null;try{d&&(window.localStorage.setItem(So,d),Y.slug=d),typeof a=="string"&&a.length>0&&(window.localStorage.setItem(Lo,a),Y.name=a)}catch{Y.slug=d||Y.slug,Y.name=a||Y.name}},Ao=o=>{ds&&o&&(ds.textContent=o),ko&&o&&(ko.textContent=o),Co&&o&&(Co.textContent=o)},eo=o=>{tr.forEach(a=>{let d=a.dataset.workspaceTab;if(!d)return;if(!o){a.href="#",a.classList.add("pointer-events-none","opacity-50","text-slate-400"),a.setAttribute("aria-disabled","true");return}let y=encodeURIComponent(Se(o));a.href=`/admin/site/${y}/${d}`,a.classList.remove("pointer-events-none","opacity-50","text-slate-400"),a.removeAttribute("aria-disabled")})},qs=(o,a={})=>{if(!o)return;let d=$t(o),y=a.siteName||Y.name||(ds==null?void 0:ds.dataset.defaultSiteName)||"";_s.forEach(h=>{let Z=$t(h.dataset.siteCard||"")===d,U=h.querySelector("[data-site-active-badge]");Z?(h.classList.add("border-[#9C6BFF]","ring-2","ring-[#9C6BFF]","shadow-md"),h.classList.remove("border-slate-200"),U==null||U.classList.remove("hidden"),y=h.dataset.siteName||y):(h.classList.remove("border-[#9C6BFF]","ring-2","ring-[#9C6BFF]","shadow-md"),h.classList.add("border-slate-200"),U==null||U.classList.add("hidden"))}),a.persist!==!1&&Es(d,a.siteName||y);let f=a.siteName||y;Ao(f),eo(d)},nr=async(o,a)=>{let d=$t(o);try{let y=await fetch("/api/sites/select",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({slug:d})});if(!y.ok){let U=await y.json().catch(()=>({}));$(U.message||"Impossible de s\xE9lectionner ce site.");return}let f=await y.json().catch(()=>({})),h=$t(f.slug||d),z=f.name||a;Es(h,z),qs(h,{siteName:z,persist:!1});let Z=encodeURIComponent(Se(h));window.location.href=`/admin/site/${Z}/design`}catch(y){console.error("[admin] Impossible de s\xE9lectionner le site",y),$("Erreur inattendue lors de la s\xE9lection.")}},ar=async()=>{try{let o=await fetch("/api/sites/current",{credentials:"same-origin"});if(!o.ok){o.status===404&&G&&(window.location.href="/admin/sites");return}let a=await o.json(),d=$t(a.slug);Es(d,a.name),qs(d,{siteName:a.name,persist:!1})}catch(o){console.warn("[admin] Impossible de r\xE9cup\xE9rer le site actif",o)}};(()=>{if(Y.slug){qs(Y.slug,{siteName:Y.name,persist:!1});return}let o=document.querySelector('[data-site-card][data-site-default="true"]')||_s[0];o&&qs(o.dataset.siteCard,{siteName:o.dataset.siteName||"",persist:!1})})(),ar(),G?eo(G.slugValue):Y.slug&&eo(Y.slug),Xo.forEach(o=>{o.addEventListener("click",()=>{if(o.disabled)return;let a=o.dataset.siteSelect,d=o.dataset.siteSelectName||"Ce site";a&&(o.disabled=!0,nr(a,d).finally(()=>{o.disabled=!1}))})});let zt=o=>(o||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),ir=o=>{let a=zt(o||"");return a?`/${a}`:""},lr=()=>{Ve&&(Cs=document.activeElement,Ve.classList.remove("hidden"),Ve.classList.add("flex"),ks=!1,Je==null||Je.reset(),Re&&(Re.textContent=""),Oe&&(Oe.textContent=""),qe&&Ue&&(qe.value=zt(Ue.value)),document.addEventListener("keydown",qo),window.setTimeout(()=>{Ue==null||Ue.focus()},0))},As=()=>{Ve&&(Ve.classList.add("hidden"),Ve.classList.remove("flex"),document.removeEventListener("keydown",qo),ks=!1,Je==null||Je.reset(),Re&&(Re.textContent=""),Oe&&(Oe.textContent=""),Cs==null||Cs.focus())};sr.forEach(o=>{o.addEventListener("click",lr)}),or.forEach(o=>{o.addEventListener("click",As)}),Ve==null||Ve.addEventListener("click",o=>{o.target===Ve&&As()}),Ue==null||Ue.addEventListener("input",()=>{qe&&((!ks||qe.value.trim().length===0)&&(qe.value=zt(Ue.value)),Re&&(Re.textContent=""),Oe&&(Oe.textContent=""))}),qe==null||qe.addEventListener("focus",()=>{let o=(qe==null?void 0:qe.value)||"",a=(Ue==null?void 0:Ue.value)||"";!o.trim()&&a.trim()&&(qe.value=zt(a))}),qe==null||qe.addEventListener("input",()=>{ks=!0,Re&&(Re.textContent=""),Oe&&(Oe.textContent="")});let cr=()=>new Set(Array.from(_s).map(o=>$t(o.dataset.siteCard||"")));Je==null||Je.addEventListener("submit",async o=>{if(o.preventDefault(),console.log("[admin] Form submit - siteNameInput:",Ue,"siteSlugInput:",qe),!Ue||!qe){console.log("[admin] Missing inputs, aborting");return}let a=(Ue.value||"").trim(),d=(qe.value||"").trim();console.log("[admin] nameValue:",a,"slugValue:",d),!d&&a&&(d=zt(a),qe.value=d,console.log("[admin] Auto-generated slug:",d));let y=ir(d);if(console.log("[admin] normalizedSlug:",y),!a){console.log("[admin] Name validation failed"),Oe&&(Oe.textContent="Le nom du site est requis."),Ue.focus();return}if(!y){console.log("[admin] Slug validation failed"),Re&&(Re.textContent="Le slug ne peut pas \xEAtre vide ou contenir uniquement des caract\xE8res sp\xE9ciaux."),qe.focus();return}if(cr().has(y)){Re&&(Re.textContent="Ce slug est d\xE9j\xE0 utilis\xE9.");return}Re&&(Re.textContent=""),Oe&&(Oe.textContent=""),Yt&&(Yt.disabled=!0,Yt.textContent="Cr\xE9ation...");try{let h=await fetch("/api/sites",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a,slug:y})});if(!h.ok){let k=await h.json().catch(()=>({})),p=k.message||"Impossible de cr\xE9er ce site.";Oe&&(Oe.textContent=p),k.field==="slug"&&Re&&(Re.textContent=p);return}let z=await h.json(),Z=$t((z==null?void 0:z.slug)||y),U=(z==null?void 0:z.name)||a;Es(Z,U),As();let Q=encodeURIComponent(Se(Z));window.location.href=`/admin/site/${Q}/design`}catch(h){console.error("[admin] Impossible de cr\xE9er le site",h),Oe&&(Oe.textContent="Erreur inattendue. R\xE9essaie dans un instant.")}finally{Yt&&(Yt.disabled=!1,Yt.textContent="Cr\xE9er")}}),window.addEventListener("keydown",o=>{o.key==="Escape"&&(Ve&&!Ve.classList.contains("hidden")&&As(),Nt&&!Nt.classList.contains("hidden")&&To(),blockDeleteModal&&!blockDeleteModal.classList.contains("hidden")&&closeBlockDeleteModal(),blockLibraryOpen&&closeBlockLibrary())});function dr(){let o=window.location.pathname.match(/^\/admin\/site\/([^/]+)(?:\/([^/]+))?/);return o?{slugPart:decodeURIComponent(o[1]),slugValue:$t(decodeURIComponent(o[1])),section:o[2]||"design"}:null}function ur(){return document.querySelector("[data-page-list]")?"design":document.querySelector("[data-collection-list]")?"content":document.querySelector("[data-media-grid]")?"media":document.querySelector("[data-deploy-form]")?"deploy":null}function mr(){if(!Nt){window.location.href="/admin/sites";return}Nt.classList.remove("hidden"),Nt.classList.add("flex")}function To(){Nt&&(Nt.classList.add("hidden"),Nt.classList.remove("flex"))}Qo.forEach(o=>{o.addEventListener("click",mr)}),er.forEach(o=>{o.addEventListener("click",To)}),Ys==null||Ys.addEventListener("click",()=>{window.location.href="/admin/sites"});let us=(G==null?void 0:G.section)||ur();us==="design"&&pr(),us==="content"&&fr(),us==="media"&&vr(),us==="deploy"&&gr(),us==="settings"&&hr(),G&&Y.name&&Ao(Y.name);function pr(){let o=document.querySelectorAll("[data-page-list]");if(o.length===0)return;let a=document.querySelector("[data-active-page-title]"),d=document.querySelector("[data-active-page-slug]"),y=document.querySelector("[data-page-preview-tags]"),f=document.querySelector("[data-page-preview-frame]"),h=document.querySelector("[data-preview-open]"),z=document.querySelector("[data-preview-status]"),Z=document.querySelector("[data-preview-highlight]"),U=document.querySelector("[data-seo-toggle]"),Q=document.querySelector("[data-seo-panel]"),k=document.querySelector("[data-seo-close]"),p=document.querySelector("[data-seo-form]"),S=document.querySelector("[data-seo-title]"),P=document.querySelector("[data-seo-description]"),q=document.querySelector("[data-seo-indexed]"),F=document.querySelector("[data-seo-feedback]"),M=document.querySelector("[data-seo-save]"),R=document.querySelector("[data-page-props-toggle]"),C=document.querySelector("[data-page-props-panel]"),m=document.querySelector("[data-page-props-close]"),D=document.querySelector("[data-page-props-form]"),N=document.querySelector("[data-page-name]"),V=document.querySelector("[data-page-title-input]"),_=document.querySelector("[data-page-slug-input]"),ce=document.querySelector("[data-page-description]"),X=document.querySelector("[data-page-props-feedback]"),pe=document.querySelector("[data-page-props-save]"),H=document.querySelector("[data-blocks-list]"),xe=document.querySelector("[data-blocks-empty]"),T=document.querySelector("[data-block-count]"),w=document.querySelector("[data-block-library-toggle]"),b=document.querySelector("[data-block-library]"),W=document.querySelectorAll("[data-block-add]"),K=document.querySelector("[data-block-delete-modal]"),fe=document.querySelector("[data-block-delete-confirm]"),ye=document.querySelector("[data-block-delete-cancel]"),oe=document.querySelector("[data-block-detail-empty]"),he=document.querySelector("[data-block-detail-status]"),re=document.querySelector("[data-block-editor]"),Ae=document.querySelector("[data-block-editor-block-name]"),Ct=document.querySelector("[data-block-editor-block-type]"),ne=document.querySelector("[data-block-editor-unsupported]"),E=document.querySelector("[data-block-form]"),We=E?Array.from(E.querySelectorAll("[data-editor-section]")):[],Le=document.querySelectorAll("[data-block-tab]"),Ke="content",Et=document.querySelectorAll("[data-left-tab]"),It=document.querySelector('[data-left-panel="blocks"]'),vt=document.querySelector('[data-left-panel="pages"]'),Te="blocks",mt=e=>{Te=e,Et.forEach(t=>{let s=t.dataset.leftTab===e;t.setAttribute("aria-selected",s?"true":"false"),s?(t.classList.add("text-[#9C6BFF]"),t.classList.remove("text-slate-500","hover:text-slate-700"),t.classList.add("after:absolute","after:bottom-0","after:left-0","after:right-0","after:h-0.5","after:bg-[#9C6BFF]")):(t.classList.remove("text-[#9C6BFF]"),t.classList.add("text-slate-500","hover:text-slate-700"),t.classList.remove("after:absolute","after:bottom-0","after:left-0","after:right-0","after:h-0.5","after:bg-[#9C6BFF]"))}),It&&It.classList.toggle("hidden",e!=="blocks"),vt&&vt.classList.toggle("hidden",e!=="pages")};Et.forEach(e=>{e.addEventListener("click",()=>{mt(e.dataset.leftTab)})});let de=document.querySelector("[data-block-form-actions]"),i=document.querySelector("[data-block-form-autosave]"),A=e=>{Ke=e,Le.forEach(s=>{let n=s.dataset.blockTab===e;s.setAttribute("aria-selected",n?"true":"false"),n?(s.classList.add("text-[#9C6BFF]"),s.classList.remove("text-slate-500","hover:text-slate-700"),s.classList.add("after:absolute","after:bottom-0","after:left-0","after:right-0","after:h-0.5","after:bg-[#9C6BFF]")):(s.classList.remove("text-[#9C6BFF]"),s.classList.add("text-slate-500","hover:text-slate-700"),s.classList.remove("after:absolute","after:bottom-0","after:left-0","after:right-0","after:h-0.5","after:bg-[#9C6BFF]"))});let t=E==null?void 0:E.querySelector("[data-editor-section]:not(.hidden)");t&&t.querySelectorAll("[data-block-panel]").forEach(n=>{n.dataset.blockPanel===e?n.classList.remove("hidden"):n.classList.add("hidden")}),de&&i&&(e==="content"?(de.classList.remove("hidden"),i.classList.add("hidden")):(de.classList.add("hidden"),i.classList.remove("hidden")))};Le.forEach(e=>{e.addEventListener("click",()=>{A(e.dataset.blockTab)})});let j=E==null?void 0:E.querySelector('[name="collection-grid-collection"]'),J=E==null?void 0:E.querySelector("[data-collection-selection-info]"),yt=document.querySelector("[data-block-form-cancel]"),pt=E==null?void 0:E.querySelector("[data-group-preview-mobile]"),Qt=E==null?void 0:E.querySelector("[data-group-preview-desktop]"),es=E==null?void 0:E.querySelector("[data-collection-preview-mobile]"),ts=E==null?void 0:E.querySelector("[data-collection-preview-desktop]"),Bs={hero:{section:"hero",labelField:"title",descriptionField:"subtitle",fields:{title:"hero-title",subtitle:"hero-subtitle",ctaLabel:"hero-cta-label",ctaUrl:"hero-cta-url",image:"hero-image",layout:"hero-layout",height:"hero-height",contentAlign:"hero-content-align",textAlign:"hero-text-align",overlay:"hero-overlay",titleSize:"hero-title-size",bg:"hero-bg",borderRadius:"hero-border-radius",shadow:"hero-shadow"}},paragraphe:{section:"paragraph",labelField:"title",descriptionField:"content",fields:{title:"paragraph-title",content:"paragraph-content",align:"paragraph-align",titleSize:"paragraph-title-size",textSize:"paragraph-text-size",spacing:"paragraph-spacing",bg:"paragraph-bg",borderRadius:"paragraph-border-radius",shadow:"paragraph-shadow"}},image:{section:"image",labelField:"alt",fields:{src:"image-src",alt:"image-alt",showCaption:"image-caption-toggle",caption:"image-caption",rounded:"image-rounded",shadow:"image-shadow",maxWidth:"image-max-width",height:"image-height",objectFit:"image-object-fit",align:"image-align",bg:"image-bg",borderRadius:"image-border-radius"}},groupe:{section:"group",fields:{columnsMobile:"group-columns-mobile",columnsDesktop:"group-columns-desktop",gap:"group-gap",itemsAlign:"group-items-align",bg:"group-bg",borderRadius:"group-border-radius",shadow:"group-shadow"}},collectiongrid:{section:"collection",fields:{collectionId:"collection-grid-collection",limit:"collection-grid-limit",columnsMobile:"collection-columns-mobile",columnsDesktop:"collection-columns-desktop",gap:"collection-gap",itemsAlign:"collection-items-align",cardRounded:"collection-card-rounded",bg:"collection-bg",borderRadius:"collection-border-radius",shadow:"collection-shadow"}},form:{section:"form",labelField:"formTitle",fields:{formTitle:"form-title",actionUrl:"form-action-url",method:"form-method",serviceName:"form-service-name",submitLabel:"form-submit-label",successMessage:"form-success-message",maxWidth:"form-max-width",align:"form-align",buttonRounded:"form-button-rounded",spacing:"form-spacing",bg:"form-bg",borderRadius:"form-border-radius",shadow:"form-shadow"}},newsletterembed:{section:"newsletter",labelField:"title",fields:{title:"newsletter-title",serviceName:"newsletter-service-name",embedCode:"newsletter-embed-code",maxWidth:"newsletter-max-width",align:"newsletter-align",padding:"newsletter-padding",bg:"newsletter-bg",borderRadius:"newsletter-border-radius",shadow:"newsletter-shadow"}}},st={texte:"paragraphe",paragraph:"paragraphe",paragraphs:"paragraphe",paragraphes:"paragraphe",text:"paragraphe",hero:"hero",image:"image",groupe:"groupe",group:"groupe",collection:"collectiongrid",collectiongrid:"collectiongrid","collection-grid":"collectiongrid",form:"form",formulaire:"form",contact:"form",newsletterembed:"newsletterembed",newsletter:"newsletterembed",embed:"newsletterembed"},bt=(e,t)=>{if(!pt||!Qt)return;let s=n=>Array.from({length:Number(n)||1}).map(()=>'<span class="block h-2 w-full rounded-full bg-slate-300"></span>').join("");pt.innerHTML=s(e),Qt.innerHTML=s(t)},$e=(e,t)=>{if(!es||!ts)return;let s=n=>Array.from({length:Number(n)||1}).map(()=>'<span class="block h-2 w-full rounded-full bg-violet-300"></span>').join("");es.innerHTML=s(e),ts.innerHTML=s(t)},Ie=async()=>{if(!Ye)return[];let e=await fetch(Ye,{headers:{Accept:"application/json"}});if(!e.ok)throw new Error("Impossible de charger les pages.");let t=await e.json().catch(()=>[]);return Array.isArray(t)?t:[]},Fe=async({name:e,title:t,slug:s})=>{if(!Ye)throw new Error("Site inconnu.");let n=await fetch(Ye,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,title:t,slug:s})});if(!n.ok){let l=await n.json().catch(()=>({}));throw new Error(l.message||"Impossible de cr\xE9er la page.")}return n.json().catch(()=>({}))},ze=async e=>{if(!(!Ye||!(e!=null&&e.id)))try{let t=await fetch(`${Ye}/${encodeURIComponent(e.id)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){let n=await t.json().catch(()=>({}));throw new Error(n.message||"Impossible de sauvegarder la page.")}let s=await t.json().catch(()=>({}));if(s!=null&&s.id){let n=is(s);return le=le.map(l=>l.id===n.id?n:l),(u==null?void 0:u.id)===n.id&&(u=n),n}return s}catch(t){console.error("[design] Save page failed",t),$(t.message||"Sauvegarde impossible.")}},Vt=async()=>{if(!Ye){le=[],Be=null,u=null,Zt(le,Be),ht(null),oe==null||oe.classList.remove("hidden"),re==null||re.classList.add("hidden");return}try{let e=await Ie();if(le=(Array.isArray(e)?e:[]).map(t=>is(t)),le.length===0){Be=null,u=null,Zt(le,Be),ht(null),oe==null||oe.classList.remove("hidden"),re==null||re.classList.add("hidden"),f&&(f.srcdoc=Ht());return}Be=jr(le),Lt(Be)}catch(e){console.error("[design] Impossible de charger les pages",e),$("Impossible de charger les pages.")}},Dt=e=>(e||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),Bt=e=>{if(!e)return null;let t=Dt(e.type),s=st[t]||t;return Bs[s]||null},js=e=>{var s,n,l,v,x;if(!E||!re)return;e&&!e.settings&&(e.settings={});let t=Bt(e);if(Ae&&(Ae.textContent=(e==null?void 0:e.label)||"Bloc"),Ct&&(Ct.textContent=(e==null?void 0:e.type)||"Bloc"),!t){E.classList.add("hidden"),ne==null||ne.classList.remove("hidden"),E.dataset.blockId="";return}if(ne==null||ne.classList.add("hidden"),E.classList.remove("hidden"),E.reset(),E.dataset.blockId=e.id,We.forEach(L=>{L.dataset.editorSection===t.section?L.classList.remove("hidden"):L.classList.add("hidden")}),A("content"),t.section==="collection"){let L=e.collectionId||((s=e.settings)==null?void 0:s.collectionId)||"";Js(L)}if(Object.entries(t.fields).forEach(([L,te])=>{var Qe;let ke=E.querySelector(`[name="${te}"]`);if(!ke)return;let be=(Qe=e.settings)==null?void 0:Qe[L];ke.type==="checkbox"?ke.checked=!!be:ke.type==="number"?ke.value=be!=null?be:1:(ke.tagName,ke.value=be!=null?be:"")}),t.section==="group"){let L=((n=E.querySelector('[name="group-columns-mobile"]'))==null?void 0:n.value)||"1",te=((l=E.querySelector('[name="group-columns-desktop"]'))==null?void 0:l.value)||"3";bt(L,te)}if(t.section==="collection"){let L=((v=E.querySelector('[name="collection-columns-mobile"]'))==null?void 0:v.value)||"1",te=((x=E.querySelector('[name="collection-columns-desktop"]'))==null?void 0:x.value)||"3";$e(L,te)}E.querySelectorAll("[data-color-select]").forEach(L=>{var Qe,Mt;let te=L.options[L.selectedIndex],ke=((Qe=te==null?void 0:te.dataset)==null?void 0:Qe.color)||"#ffffff",be=(Mt=L.closest(".relative"))==null?void 0:Mt.querySelector("[data-color-preview]");be&&(ke==="transparent"?be.style.background="repeating-conic-gradient(#ccc 0% 25%, white 0% 50%) 50% / 8px 8px":(be.style.backgroundColor=ke,be.style.background=""))})},jt=e=>{if(!E||!e)return{};let t={};return Object.entries(e.fields).forEach(([s,n])=>{let l=E.querySelector(`[name="${n}"]`);if(l)if(l.type==="checkbox")t[s]=l.checked;else if(l.type==="number"){let v=Number(l.value);t[s]=Number.isFinite(v)?v:0}else l.tagName==="TEXTAREA"?t[s]=l.value||"":l.type==="select-one"?t[s]=l.value:t[s]=l.value||""}),t},xt=e=>{if(z){if(!e){z.classList.add("hidden");return}z.classList.remove("hidden"),z.textContent=e}},Jt=e=>{if(!e)return null;let t=s=>{var n;return{id:s.id,type:s.type,label:s.label,status:s.status,description:s.description,props:s.props||[],settings:s.settings||{},collectionId:s.collectionId||((n=s.settings)==null?void 0:n.collectionId)||"",children:(s.children||[]).map(t)}};return{id:e.id,title:e.title,slug:e.slug,badges:[...e.badges||[]],seo:e.seo||{},blocks:(e.blocks||[]).map(t)}},Ht=()=>'<!DOCTYPE html><html><body style="font-family:Inter,sans-serif;padding:40px;color:#475569;background:#fff;">Pr\xE9paration de la pr\xE9visualisation\u2026</body></html>',Gt=(e,t)=>{let s;return(...n)=>{clearTimeout(s),s=setTimeout(()=>e(...n),t)}},Fs=null,Ps=()=>{if(!u||!He)return;let e=ns(),t=Bt(e);if(!e||!t)return;let s=jt(t),n=(u.blocks||[]).map(v=>{if(v.id!==e.id)return v;let x={...v.settings||{},...s};return{...v,settings:x}}),l={...u,blocks:n};u=l,ze(l)},ft=(e,t)=>{!f||!f.contentWindow||f.contentWindow.postMessage({type:"updateBlockStyles",blockId:e,settings:t},"*")},ao=Gt(()=>{Ps(),xt("Sauvegard\xE9"),setTimeout(()=>xt("\xC0 jour"),1500)},800),ms=Gt(()=>{u&&Ut(u)},1500),Ms=(e,t)=>{ft(e,t),xt("Modification\u2026"),ao(),ms()},Ut=e=>{if(!f||!e)return;let t=(G==null?void 0:G.slugValue)||Y.slug||"",s={page:Jt(e),site:{title:Y.name||"Site",slug:t}};ho=!1,xt("Actualisation\u2026"),f.srcdoc=Ht(),xs&&xs.abort();let n=new AbortController;xs=n,fetch("/api/preview",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s),signal:n.signal}).then(l=>{if(!l.ok)throw new Error("Preview error");return l.json()}).then(l=>{n.signal.aborted||(go=l.html||"",f.setAttribute("title",`Pr\xE9visualisation de la page ${e.title||""}`.trim()),f.srcdoc=go||Ht(),xt("\xC0 jour"))}).catch(l=>{n.signal.aborted||(console.error("[preview] Impossible de rendre la page",l),xt("Erreur preview"),f.srcdoc='<!DOCTYPE html><html><body style="font-family:Inter,sans-serif;padding:40px;color:#be123c;background:#fff;">Erreur lors du rendu de la pr\xE9visualisation.</body></html>')}).finally(()=>{xs===n&&(xs=null)})},Ns=e=>{if(e.preventDefault(),!u||!He)return;let t=ns(),s=Bt(t);if(!t||!s)return;let n=jt(s);if(s.section==="collection"){if(!n.collectionId){$("S\xE9lectionnez une collection.");return}n.limit=Math.max(1,Number(n.limit)||1)}let l=(u.blocks||[]).map(v=>{if(v.id!==t.id)return v;let x={...v.settings||{},...n},L={...v,settings:x};return s.labelField&&n[s.labelField]&&(L.label=n[s.labelField]),s.descriptionField&&n[s.descriptionField]&&(L.description=n[s.descriptionField]),s.section==="collection"&&(L.collectionId=n.collectionId,L.settings.collectionId=n.collectionId,L.settings.limit=n.limit),L});as(l),$("Bloc mis \xE0 jour"),Lt(u.id,{preserveBlock:!0})},Ft=document.querySelector("[data-page-drawer]"),Ze=document.querySelector("[data-page-drawer-backdrop]"),io=document.querySelectorAll("[data-page-drawer-open]"),lo=document.querySelectorAll("[data-page-drawer-close]"),Pt=document.querySelector("[data-add-page-toggle]"),ot=document.querySelector("[data-add-page-form]"),_e=document.querySelector("[data-add-page-name]"),Wt=document.querySelector("[data-add-page-title]"),rt=document.querySelector("[data-add-page-slug]"),ss=document.querySelector("[data-add-page-cancel]"),Me=document.querySelector("[data-add-page-error]"),r=ot==null?void 0:ot.querySelector('[type="submit"]'),c=document.querySelector("[data-import-pages-toggle]"),g=document.querySelector("[data-import-modal]"),I=document.querySelectorAll("[data-import-modal-close]"),O=document.querySelector("[data-import-dropzone]"),ae=document.querySelector("[data-import-file-input]"),ie=document.querySelector("[data-import-file-list]"),ee=document.querySelector("[data-import-file-names]"),se=document.querySelector("[data-import-results]"),ue=document.querySelector("[data-import-results-content]"),ge=document.querySelector("[data-import-submit]"),Pe=document.querySelectorAll("[data-import-tab]"),Ne=document.querySelectorAll("[data-import-panel]"),De=document.querySelector("[data-copy-template]"),wt=document.querySelector("[data-template-json]"),we=document.querySelector("[data-import-paste-json]"),St=document.querySelector("[data-format-json]"),nt=document.querySelector("[data-import-paste-error]"),gt=[],qt="upload",at=document.querySelector("[data-delete-page-modal]"),ps=document.querySelector("[data-delete-page-name]"),os=document.querySelector("[data-delete-page-cancel]"),it=document.querySelector("[data-delete-page-confirm]"),Rt=null,Ds=Se((G==null?void 0:G.slugValue)||Y.slug||"default")||"default",Hs=(G==null?void 0:G.slugValue)||Y.slug||"",Kt=Se(Hs)||"",Ye=Kt?`/api/sites/${encodeURIComponent(Kt)}/pages`:null,fs=Kt?`/api/sites/${encodeURIComponent(Kt)}/collections`:null,gs={active:`clower:activePage:${Ds}`},rs=(e,t,s,n,l,v=[],x={})=>{let L={id:e,label:t,type:s,status:n,description:l,props:v,settings:{...x}};return L.settings.collectionId&&(L.collectionId=L.settings.collectionId),L},Us={hero:{type:"Hero",label:"Hero de page",description:"Section pleine largeur avec CTA principal.",status:"Brouillon",props:[{label:"CTA",value:"D\xE9couvrir"},{label:"Hauteur",value:"80vh"}],settings:{title:"Titre du hero",subtitle:"",ctaLabel:"D\xE9couvrir",ctaUrl:"#",image:"",align:"center"}},paragraph:{type:"Paragraphe",label:"Bloc \xE9ditorial",description:"Paragraphe libre pour raconter votre histoire.",status:"Brouillon",props:[{label:"Longueur",value:"150 mots"}],settings:{title:"Titre du paragraphe",content:"",align:"left"}},image:{type:"Image",label:"Bloc image",description:"Visuel seul avec l\xE9gende optionnelle.",status:"Brouillon",props:[{label:"Ratio",value:"16:9"},{label:"L\xE9gende",value:"Inactive"}],settings:{src:"",alt:"",showCaption:!1,caption:""}},group:{type:"Groupe",label:"Groupe de sections",description:"Conteneur pour imbriquer plusieurs sous-blocs.",status:"Brouillon",props:[{label:"Disposition",value:"Verticale"}],settings:{layout:"grid",columnsMobile:"1",columnsDesktop:"3"}},collectiongrid:{type:"CollectionGrid",label:"Grille de contenus",description:"Affiche automatiquement les items d\u2019une collection.",status:"Brouillon",settings:{collectionId:"",limit:6}},form:{type:"Form",label:"Formulaire de contact",description:"Formulaire avec envoi vers un service externe.",status:"Brouillon",settings:{formTitle:"Contactez-nous",actionUrl:"",method:"POST",serviceName:"",submitLabel:"Envoyer",successMessage:"Merci pour votre message !"}},newsletterembed:{type:"NewsletterEmbed",label:"Newsletter / Embed",description:"Int\xE9gration d'un formulaire newsletter externe (Brevo, Mailchimp\u2026).",status:"Brouillon",settings:{title:"Restez inform\xE9",serviceName:"",embedCode:""}}},Br=e=>{try{window.localStorage.setItem(gs.active,e)}catch{}},jr=e=>{var t;try{let s=window.localStorage.getItem(gs.active);if(s&&e.some(n=>n.id===s))return s}catch{}return((t=e[0])==null?void 0:t.id)||null},Fr=e=>!e||e<=0?"0 bloc":e===1?"1 bloc":`${e} blocs`,Fo=e=>{if(!e||e==="/")return"/";let t=zt(e.replace(/^\//,""));return t?`/${t}`:"/"},co=(e="page",t="block")=>`${e}-${t}-${Date.now().toString(36)}-${Math.floor(Math.random()*1e3)}`,pn=(e,t)=>[rs(co(e,"intro"),"Introduction","Paragraphe","Brouillon",`Paragraphe introductif pour "${t}".`,[{label:"Longueur",value:"2 paragraphes"}],{title:`Introduction \xE0 ${t}`,content:"Ajoutez votre premier paragraphe de pr\xE9sentation.",align:"left"}),rs(co(e,"content"),"Zone de contenu","Groupe","Brouillon","Section principale \xE0 composer avec textes et visuels.",[{label:"Colonnes",value:"Auto"}],{layout:"grid",columnsMobile:"1",columnsDesktop:"2"})],Po=e=>{a&&(a.textContent=(e==null?void 0:e.name)||(e==null?void 0:e.title)||"Page"),d&&(d.textContent=(e==null?void 0:e.slug)||"/")},Pr=e=>{if(!y)return;y.innerHTML="",(e&&e.badges&&e.badges.length>0?e.badges:["Structure en cours"]).forEach(s=>{let n=document.createElement("span");n.className="rounded-full bg-slate-100 px-3 py-1",n.textContent=s,y.appendChild(n)})},Mr=e=>{switch((e||"").toLowerCase()){case"en ligne":return"bg-emerald-50 text-emerald-700";case"brouillon":return"bg-amber-50 text-amber-700";default:return"bg-slate-100 text-slate-600"}},Rs=e=>{if(!(!oe||!re)){if(!e){oe.classList.remove("hidden"),re.classList.add("hidden"),ne==null||ne.classList.add("hidden"),E==null||E.classList.add("hidden"),he==null||he.classList.add("hidden");return}oe.classList.add("hidden"),re.classList.remove("hidden"),he&&(e.status?(he.textContent=e.status,he.className=`rounded-full px-3 py-1 text-xs font-semibold ${Mr(e.status)}`,he.classList.remove("hidden")):he.classList.add("hidden")),js(e)}},hs=e=>{if(!f)return;let t=f.contentDocument;if(!t)return;t.querySelectorAll("[data-preview-block]").forEach(n=>{n.dataset.previewBlock===e?(n.classList.add("preview-block-active"),ho&&e&&n.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})):n.classList.remove("preview-block-active")}),Z&&(Z.style.borderColor=e?"rgba(156, 107, 255, 0.5)":"transparent")},Mo=(e,t=!1,s=null)=>{var xo;let n=e.id===He,l=(e.type||"").toLowerCase(),v=l==="groupe"||l==="group"||l==="sections"||l==="grid",x=document.createElement("div");x.dataset.blockItem="true",x.dataset.blockId=e.id,s&&(x.dataset.parentBlockId=s),v&&(x.dataset.isGroup="true"),x.setAttribute("role","option"),x.setAttribute("aria-selected",n?"true":"false"),x.setAttribute("draggable","true"),x.tabIndex=0,x.className=["relative flex items-center gap-3 rounded-2xl border px-3 py-2 text-left transition group",t?"ml-6 border-dashed":"",n?"bg-slate-100 border-[#9C6BFF]/40 shadow-sm":"border-slate-200 hover:border-[#9C6BFF]/40"].join(" ");let L=document.createElement("span");L.className=`absolute inset-y-2 left-0 w-1 rounded-full bg-[#9C6BFF] ${n?"":"hidden"}`,x.appendChild(L);let te=document.createElement("div");te.className="flex flex-1 items-center gap-3";let ke=document.createElement("div");ke.className="hidden lg:flex cursor-grab active:cursor-grabbing flex-shrink-0 items-center text-lg text-slate-400 hover:text-slate-600 transition-colors select-none",ke.innerHTML="\u22EE\u22EE",ke.setAttribute("title","Glisser pour r\xE9ordonner"),te.appendChild(ke);let be=document.createElement("div");be.className="flex-1";let Qe=document.createElement("div");Qe.className="flex items-center gap-2 text-[11px] uppercase tracking-wide text-slate-500";let Mt=document.createElement("span");Mt.className="rounded-full bg-slate-100 px-2 py-0.5 text-[10px] font-semibold text-slate-600",Mt.textContent=e.type;let Ce=document.createElement("span");if(Ce.className="text-slate-400",Ce.textContent=e.status,Qe.appendChild(Mt),v){let et=(e.children||[]).length,_t=document.createElement("span");_t.className="rounded-full bg-violet-100 px-2 py-0.5 text-[10px] font-semibold text-violet-600",_t.textContent=`${et} \xE9l\xE9ment${et!==1?"s":""}`,Qe.appendChild(_t)}Qe.appendChild(Ce);let B=document.createElement("p");B.className="mt-1 text-sm font-semibold text-slate-900";let lt=e.settings&&e.settings.title||e.label||"Bloc sans titre";if(B.textContent=lt,be.appendChild(Qe),be.appendChild(B),l==="collectiongrid"&&e.collectionId){let et=((xo=At.find(cn=>cn.id===e.collectionId))==null?void 0:xo.name)||e.collectionId,_t=document.createElement("p");_t.className="text-xs text-slate-400",_t.textContent=`Collection : ${et}`,be.appendChild(_t)}te.appendChild(be),x.appendChild(te);let Ee=document.createElement("div");Ee.className="flex flex-col gap-1 text-xs text-slate-400";let me=document.createElement("div");me.className="flex items-center gap-1 lg:hidden";let Xe=document.createElement("button");Xe.type="button",Xe.className="rounded-lg border border-slate-200 px-2 py-1 text-[11px] font-semibold text-slate-500",Xe.textContent="\u2191",Xe.addEventListener("click",et=>{et.stopPropagation(),s?No(s,e.id,-1):Ho(e.id,-1)});let ct=document.createElement("button");ct.type="button",ct.className="rounded-lg border border-slate-200 px-2 py-1 text-[11px] font-semibold text-slate-500",ct.textContent="\u2193",ct.addEventListener("click",et=>{et.stopPropagation(),s?No(s,e.id,1):Ho(e.id,1)}),me.appendChild(Xe),me.appendChild(ct),Ee.appendChild(me);let je=document.createElement("button");return je.type="button",je.className="inline-flex items-center justify-center rounded-lg border border-transparent px-2 py-1 text-[12px] text-rose-500 hover:text-rose-700",je.innerHTML="\u{1F5D1}\uFE0F",je.addEventListener("click",et=>{et.stopPropagation(),s?Hr(s,e.id):Wr(e.id)}),Ee.appendChild(je),x.appendChild(Ee),x.addEventListener("click",()=>{Ot(e.id,s)}),x.addEventListener("keydown",et=>{(et.key==="Enter"||et.key===" ")&&(et.preventDefault(),Ot(e.id,s))}),{item:x,isGroup:v,block:e}},Nr=e=>{let t=document.createElement("div");return t.dataset.groupDropZone=e.id,t.className="ml-6 border-2 border-dashed border-slate-200 rounded-xl p-3 text-center text-xs text-slate-400 hover:border-violet-300 hover:bg-violet-50/50 transition-colors cursor-pointer",t.innerHTML='<span class="pointer-events-none">\u{1F4E6} Glissez un bloc ici ou cliquez pour ajouter</span>',t.addEventListener("dragover",s=>{s.preventDefault(),s.stopPropagation(),t.classList.add("border-violet-400","bg-violet-50")}),t.addEventListener("dragleave",s=>{s.stopPropagation(),t.classList.remove("border-violet-400","bg-violet-50")}),t.addEventListener("drop",s=>{s.preventDefault(),s.stopPropagation(),t.classList.remove("border-violet-400","bg-violet-50");let n=s.dataTransfer.getData("text/plain");n&&n!==e.id&&Dr(n,e.id)}),t.addEventListener("click",()=>{Ur(e.id)}),t},ht=e=>{if(!H)return;H.innerHTML="";let t=(e==null?void 0:e.blocks)||[];if(T&&(T.textContent=Fr(t.length)),t.length===0){H.classList.add("hidden"),xe==null||xe.classList.remove("hidden");return}H.classList.remove("hidden"),xe==null||xe.classList.add("hidden"),t.forEach(s=>{let{item:n,isGroup:l}=Mo(s,!1,null);if(H.appendChild(n),l){(s.children||[]).forEach(L=>{let{item:te}=Mo(L,!0,s.id);H.appendChild(te)});let x=Nr(s);H.appendChild(x)}})},Dr=(e,t)=>{if(!u)return;let s=u.blocks.findIndex(L=>L.id===e),n=u.blocks.find(L=>L.id===t);if(s===-1||!n)return;let v=(u.blocks[s].type||"").toLowerCase();if(v==="groupe"||v==="group"){$("Impossible d'imbriquer des groupes","error");return}let[x]=u.blocks.splice(s,1);n.children||(n.children=[]),n.children.push(x),ht(u),savePageBlocks(),$("Bloc ajout\xE9 au groupe")},Hr=(e,t)=>{if(!u)return;let s=u.blocks.find(x=>x.id===e);if(!s||!s.children)return;let n=s.children.findIndex(x=>x.id===t);if(n===-1)return;let[l]=s.children.splice(n,1),v=u.blocks.findIndex(x=>x.id===e);u.blocks.splice(v+1,0,l),ht(u),savePageBlocks(),$("Bloc sorti du groupe")},No=(e,t,s)=>{if(!u)return;let n=u.blocks.find(L=>L.id===e);if(!n||!n.children)return;let l=n.children.findIndex(L=>L.id===t);if(l===-1)return;let v=l+s;if(v<0||v>=n.children.length)return;let[x]=n.children.splice(l,1);n.children.splice(v,0,x),ht(u),savePageBlocks()},Ur=e=>{vs=e,openBlockPicker()},vs=null,Rr=e=>{!at||!e||(Rt=e,ps&&(ps.textContent=e.title||e.id),at.classList.remove("hidden"),at.classList.add("flex"))},uo=()=>{at&&(at.classList.add("hidden"),at.classList.remove("flex"),Rt=null)},Or=async()=>{if(!Ye||!Rt)return;let e=Rt.id,t=Rt.title||e;it&&(it.disabled=!0,it.textContent="Suppression...");try{let s=await fetch(`${Ye}/${encodeURIComponent(e)}`,{method:"DELETE",credentials:"include"}),n=await s.json();if(!s.ok)throw new Error(n.message||"Erreur serveur");le=le.filter(l=>l.id!==e),Be===e?le.length>0?Lt(le[0].id):(Be=null,u=null,Zt(le,null),ht(null),oe==null||oe.classList.remove("hidden"),re==null||re.classList.add("hidden"),f&&(f.srcdoc=Ht())):Zt(le,Be),uo(),$(`Page "${t}" supprim\xE9e`)}catch(s){console.error("[pages] delete failed",s),$(s.message||"Erreur suppression")}finally{it&&(it.disabled=!1,it.textContent="Supprimer")}},Zt=(e,t)=>{o.forEach(s=>{s.innerHTML="",e.forEach(n=>{let l=document.createElement("li");l.className="flex items-center gap-1";let v=document.createElement("button");v.type="button",v.dataset.pageId=n.id,v.className=["flex-1 flex items-center gap-3 px-3 py-2 text-left transition",t===n.id?"bg-[#9C6BFF]/10 text-slate-900 border border-[#9C6BFF]/40 rounded-xl shadow-sm":"text-slate-700 hover:bg-slate-50 rounded-xl"].join(" "),t===n.id?v.setAttribute("aria-current","page"):v.removeAttribute("aria-current");let x=n.name||n.title;v.innerHTML=`
            <span class="flex h-9 w-9 items-center justify-center rounded-xl border border-slate-200 bg-white text-slate-500">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                <path d="M6.5 4.5h7l4 4v11a1 1 0 0 1-1 1h-10a1 1 0 0 1-1-1v-14a1 1 0 0 1 1-1Z" stroke="currentColor" stroke-width="1.4" stroke-linejoin="round"/>
                <path d="M13.5 4.5v4a1 1 0 0 0 1 1h3" stroke="currentColor" stroke-width="1.4"/>
              </svg>
            </span>
            <div class="flex flex-col">
              <span class="text-sm font-semibold">${x}</span>
              <span class="text-xs text-slate-500">${n.slug}</span>
            </div>
          `,v.addEventListener("click",()=>{Lt(n.id),po()||fo()}),l.appendChild(v);let L=document.createElement("button");L.type="button",L.className="flex-shrink-0 p-2 text-slate-400 hover:text-rose-600 hover:bg-rose-50 rounded-lg transition",L.title="Supprimer cette page",L.setAttribute("aria-label",`Supprimer ${x}`),L.innerHTML=`
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M3 6h18M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2m3 0v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6h14ZM10 11v6M14 11v6"/>
            </svg>
          `,L.addEventListener("click",te=>{te.stopPropagation(),Rr(n)}),l.appendChild(L),s.appendChild(l)})})},ns=()=>{if(!u||!Array.isArray(u.blocks))return null;let e=u.blocks.find(t=>t.id===He);if(!e){for(let t of u.blocks)if(t.children&&(e=t.children.find(s=>s.id===He),e))break}return e||null},Do=null,Ot=(e,t=null)=>{if(!u)return;if(!e){He=null,Do=null,ht(u),Rs(null),hs(null);return}let s=null;if(s=u.blocks.find(n=>n.id===e),!s&&t){let n=u.blocks.find(l=>l.id===t);n&&n.children&&(s=n.children.find(l=>l.id===e))}if(!s){for(let n of u.blocks)if(n.children){let l=n.children.find(v=>v.id===e);if(l){s=l,t=n.id;break}}}s||(s=u.blocks[0]||null,t=null),He=(s==null?void 0:s.id)||null,Do=t,ht(u),Rs(s),hs(He)},as=e=>{if(!u)return;let t={...u,blocks:e};Kr(t)},Os=()=>window.matchMedia("(min-width: 1024px)").matches;function Ho(e,t){if(!u||!e||!t)return;let s=[...u.blocks||[]],n=s.findIndex(x=>x.id===e);if(n<0)return;let l=n+t;if(l<0||l>=s.length)return;let[v]=s.splice(n,1);s.splice(l,0,v),as(s),Lt(u.id,{preserveBlock:!0}),Ot(v.id)}function fn(e,t){if(!u||!e||!t||e===t)return;let s=[...u.blocks||[]],n=s.findIndex(x=>x.id===e),l=s.findIndex(x=>x.id===t);if(n<0||l<0)return;let[v]=s.splice(n,1);s.splice(l,0,v),as(s),Lt(u.id,{preserveBlock:!0}),Ot(v.id)}function zr(e,t,s){if(!u||!e||!t||e===t)return;let n=[...u.blocks||[]],l=n.findIndex(te=>te.id===e),v=n.findIndex(te=>te.id===t);if(l<0||v<0)return;let[x]=n.splice(l,1);l<v&&v--;let L=s==="before"?v:v+1;n.splice(L,0,x),as(n),Lt(u.id,{preserveBlock:!0}),Ot(x.id)}function Uo(){if(!H)return;let e=Os();H.querySelectorAll("[data-block-item]").forEach(t=>{t.setAttribute("draggable",e?"true":"false")})}function ys(){b&&(b.classList.add("hidden"),bs=!1)}function Vr(){b&&(b.classList.remove("hidden"),bs=!0)}function Jr(){bs?ys():Vr()}function Gr(e){var v;if(!u||!e)return;let t=Us[e];if(!t)return;let s=(u.blocks||[]).filter(x=>x.type===t.type).length+1,n=rs(co(u.id,e),`${t.label} ${s}`,t.type,t.status,t.description,t.props,t.settings||{});if((t.type||"").toLowerCase()==="collectiongrid"){let x=((v=At[0])==null?void 0:v.id)||"";n.collectionId=x,n.settings.collectionId=x,n.settings.limit=n.settings.limit||6}if(vs){let x=u.blocks.find(L=>L.id===vs);if(x){x.children||(x.children=[]),x.children.push(n),vs=null,ht(u),savePageBlocks(),Ot(n.id,x.id),ys(),$("Bloc ajout\xE9 au groupe");return}vs=null}let l=[...u.blocks||[],n];as(l),Lt(u.id,{preserveBlock:!0}),Ot(n.id),ys(),$("Bloc ajout\xE9")}function Ro(e){var n,l;if(!u)return;let t=(u.blocks||[]).filter(v=>v.id!==e),s=e===He?((n=t[0])==null?void 0:n.id)||null:He||((l=t[0])==null?void 0:l.id)||null;as(t),He=s,Lt(u.id,{preserveBlock:!0}),He?Ot(He):(Rs(null),hs(null)),$("Bloc supprim\xE9")}function mo(){K&&(K.classList.add("hidden"),K.classList.remove("flex"),Vs=null)}function Wr(e){if(!K){Ro(e);return}Vs=e,K.classList.remove("hidden"),K.classList.add("flex")}let Kr=e=>{if(!e)return;let t=is(e);le=le.map(s=>s.id===t.id?t:s),u=t,ze(t)},Lt=(e,t={})=>{var l,v;let s=le.find(x=>x.id===e)||le[0]||null;u=s?is(s):null,Be=(s==null?void 0:s.id)||null,(!t.preserveBlock||!u||!u.blocks.some(x=>x.id===He))&&(He=((v=(l=u==null?void 0:u.blocks)==null?void 0:l[0])==null?void 0:v.id)||null),Be&&Br(Be),Zt(le,Be),Po(u),Pr(u),Ut(u),ht(u),Rs(ns()),hs(He),Uo(),bs&&ys()},po=()=>window.matchMedia("(min-width: 1024px)").matches,Oo=()=>{Ft&&(po()?(Ft.classList.add("is-open"),Ze==null||Ze.classList.add("hidden"),document.body.classList.remove("overflow-hidden")):Ft.classList.remove("is-open"))},Zr=()=>{!Ft||po()||(Ft.classList.add("is-open"),Ze==null||Ze.classList.remove("hidden"),document.body.classList.add("overflow-hidden"))},fo=()=>{Ft&&(Ft.classList.remove("is-open"),Ze==null||Ze.classList.add("hidden"),document.body.classList.remove("overflow-hidden"))},_r=()=>{!ot||!Pt||(ot.classList.remove("hidden"),Pt.classList.add("hidden"),Me&&(Me.textContent=""),zs=!1,_e&&(_e.value="",_e.focus()),Wt&&(Wt.value=""),rt&&(rt.value=""))},zo=()=>{!ot||!Pt||(ot.classList.add("hidden"),Pt.classList.remove("hidden"),Me&&(Me.textContent=""),zs=!1,ot.reset())},Yr=()=>{!_e||!rt||zs&&rt.value.trim().length>0||(rt.value=Fo(_e.value))},le=[],Be=null,zs=!1,u=null,He=null,bs=!1,Vs=null,go="",ho=!1,xs=null,At=[],Xr=e=>{let t={...e,props:Array.isArray(e.props)?e.props:[],settings:{...e.settings||{}}};return(t.type||"").toLowerCase()==="collectiongrid"&&(t.collectionId=t.collectionId||t.settings.collectionId||"",t.settings.collectionId=t.collectionId,t.settings.limit=t.settings.limit||6),t},is=e=>{var t,s;return{...e,blocks:(e.blocks||[]).map(n=>Xr(n)),seo:{title:(((t=e.seo)==null?void 0:t.title)||"").trim(),description:(((s=e.seo)==null?void 0:s.description)||"").trim()}}},Qr=async()=>{if(!fs){At=[],Js();return}try{let e=await fetch(fs,{headers:{Accept:"application/json"}});if(!e.ok)throw new Error("Impossible de charger les collections.");let t=await e.json().catch(()=>[]);At=Array.isArray(t)?t:[];let s=(j==null?void 0:j.value)||"";Js(s)}catch(e){console.error("[design] collections load",e),$("Collections indisponibles."),At=[],Js()}},vo=e=>{if(!J)return;if(!e){J.textContent=At.length?"S\xE9lectionnez une collection pour afficher ses informations.":"Aucune collection disponible. Ajoutez-en depuis l\u2019onglet Contenus.";return}let t=At.find(n=>n.id===e);if(!t){J.textContent=`Collection ${e}`;return}let s=[];t.description&&s.push(t.description),t.type&&s.push(`Type\xA0: ${t.type}`),J.textContent=s.join(" \xB7 ")||`Collection ${t.name||t.id}`},Js=(e="")=>{if(j){if(j.innerHTML="",!At.length){j.disabled=!0;let t=document.createElement("option");t.value="",t.textContent="Aucune collection disponible",j.appendChild(t),vo("");return}if(j.disabled=!1,e&&!At.some(t=>t.id===e)){let t=document.createElement("option");t.value=e,t.textContent=e,j.appendChild(t)}At.forEach(t=>{let s=document.createElement("option");s.value=t.id;let n=t.name||t.id;s.textContent=t.type?`${n} \xB7 ${t.type}`:n,s.dataset.description=t.description||"",j.appendChild(s)}),e&&(j.value=e),vo(j.value||"")}};Qr(),Oo(),io.forEach(e=>{e.addEventListener("click",Zr)}),lo.forEach(e=>{e.addEventListener("click",fo)}),Ze==null||Ze.addEventListener("click",fo),window.addEventListener("resize",()=>{Oo(),Uo()}),Pt==null||Pt.addEventListener("click",_r),ss==null||ss.addEventListener("click",zo),_e==null||_e.addEventListener("input",Yr),rt==null||rt.addEventListener("input",()=>{Me&&(Me.textContent=""),zs=!0}),ot==null||ot.addEventListener("submit",async e=>{if(e.preventDefault(),!Ye){Me&&(Me.textContent="Aucun site s\xE9lectionn\xE9.");return}if(!_e||!rt)return;let t=_e.value.trim(),s=(Wt==null?void 0:Wt.value.trim())||t,n=Fo(rt.value.trim()||t);if(!t||!n){Me&&(Me.textContent="Nom et slug sont requis.");return}Me&&(Me.textContent=""),r&&(r.disabled=!0,r.textContent="Cr\xE9ation...");try{let l=await Fe({name:t,title:s,slug:n});if(!l||!l.id)throw new Error("R\xE9ponse invalide.");le=[...le,is(l)],zo(),$("Page cr\xE9\xE9e"),Lt(l.id)}catch(l){console.error("[design] create page failed",l),Me&&(Me.textContent=l.message||"Impossible de cr\xE9er la page.")}finally{r&&(r.disabled=!1,r.textContent="Cr\xE9er")}});let yo=()=>{we&&(we.value=""),nt&&(nt.classList.add("hidden"),nt.textContent="")},Vo=()=>{if(!we)return null;let e=we.value.trim();if(!e)return nt&&nt.classList.add("hidden"),null;try{let t=JSON.parse(e);return nt&&nt.classList.add("hidden"),t}catch(t){return nt&&(nt.classList.remove("hidden"),nt.textContent=`\u274C JSON invalide : ${t.message}`),null}},en=()=>{if(!we)return;let e=we.value.trim();if(e)try{let t=JSON.parse(e);we.value=JSON.stringify(t,null,2),Vo()}catch{}},ws=()=>{if(ge)if(qt==="upload")ge.disabled=gt.length===0;else if(qt==="paste"){let e=Vo();ge.disabled=!e}else ge.disabled=!0},tn=()=>{g&&(g.classList.remove("hidden"),g.classList.add("flex"),gt=[],qt="upload",bo(),yo(),se&&se.classList.add("hidden"),ue&&(ue.innerHTML=""),ws(),Pe.forEach(e=>{e.dataset.importTab==="upload"?(e.classList.add("bg-[#9C6BFF]","text-white"),e.classList.remove("border","border-slate-200","text-slate-700")):(e.classList.remove("bg-[#9C6BFF]","text-white"),e.classList.add("border","border-slate-200","text-slate-700"))}),Ne.forEach(e=>{e.dataset.importPanel==="upload"?e.classList.remove("hidden"):e.classList.add("hidden")}))},Jo=()=>{g&&(g.classList.add("hidden"),g.classList.remove("flex"),gt=[],yo())},bo=()=>{if(!(!ie||!ee)){if(gt.length===0){ie.classList.add("hidden"),ws();return}ie.classList.remove("hidden"),ee.innerHTML=gt.map(e=>`<li class="flex items-center gap-2"><span class="text-lg">\u{1F4C4}</span>${e.name}</li>`).join(""),ws()}},Go=e=>{let t=Array.from(e).filter(s=>s.type==="application/json"||s.name.endsWith(".json"));if(t.length===0){$("Aucun fichier JSON valide.");return}gt=t,bo()},sn=async()=>{var s,n,l,v,x,L,te,ke,be,Qe,Mt;if(!Ye)return;let e=[];if(console.log("[import] activeImportTab:",qt),qt==="paste"){let Ce=(s=we==null?void 0:we.value)==null?void 0:s.trim();if(console.log("[import] paste text length:",Ce==null?void 0:Ce.length),!Ce){$("Aucun JSON \xE0 importer."),se&&ue&&(se.classList.remove("hidden"),ue.innerHTML='<p class="text-amber-600">\u26A0 Le champ de texte est vide.</p>');return}try{let B=JSON.parse(Ce);console.log("[import] parsed JSON:",B),console.log("[import] parsed type:",typeof B,Array.isArray(B)?"array":"not array"),B&&!Array.isArray(B)&&B.pages?(console.log("[import] detected pages+collections format"),e=B):Array.isArray(B)?e.push(...B):e.push(B),console.log("[import] pagesData prepared:",e)}catch(B){let lt=B.message.match(/position (\d+)/),Ee=B.message;if(lt){let me=parseInt(lt[1],10),Xe=Ce.substring(0,me).split(`
`),ct=Xe.length,je=Xe[Xe.length-1].length+1;Ee=`Ligne ${ct}, colonne ${je}: ${B.message}`}$(`Erreur JSON : ${Ee}`,"error"),console.error("[import] paste parse error",B),se&&ue&&(se.classList.remove("hidden"),ue.innerHTML=`
              <div class="text-rose-600">
                <p class="font-medium">\u2717 Erreur de syntaxe JSON</p>
                <p class="text-xs mt-1">${Ee}</p>
                <p class="text-xs mt-2 text-slate-500">V\xE9rifiez les virgules, guillemets et accolades.</p>
              </div>
            `);return}}else if(qt==="upload"){if(gt.length===0)return;let Ce=[];for(let B of gt){let lt=await B.text();try{let Ee=JSON.parse(lt);Array.isArray(Ee)?e.push(...Ee):e.push(Ee)}catch(Ee){let me=Ee.message.match(/position (\d+)/),Xe=Ee.message;if(me){let ct=parseInt(me[1],10);Xe=`Ligne ${lt.substring(0,ct).split(`
`).length}: ${Ee.message}`}Ce.push({file:B.name,error:Xe}),console.error("[import] parse error",B.name,Ee)}}if(Ce.length>0){if(se&&ue){se.classList.remove("hidden");let B='<div class="text-rose-600"><p class="font-medium">\u2717 Erreurs de syntaxe JSON</p><ul class="ml-4 text-xs mt-1">';Ce.forEach(lt=>{B+=`<li><strong>${lt.file}</strong>: ${lt.error}</li>`}),B+="</ul></div>",e.length>0&&(B+=`<p class="text-amber-600 mt-2 text-sm">\u26A0 ${e.length} page(s) valide(s) seront import\xE9e(s)</p>`),ue.innerHTML=B}if(e.length===0){$("Tous les fichiers contiennent des erreurs JSON","error");return}}}else return;let t=Array.isArray(e)?e.length>0:e&&(((n=e.pages)==null?void 0:n.length)>0||e.title);if(console.log("[import] hasData check:",t,"pagesData:",e),!t){$("Aucune page valide \xE0 importer."),se&&ue&&(se.classList.remove("hidden"),ue.innerHTML=`
            <div class="text-amber-600">
              <p class="font-medium">\u26A0 Aucune page d\xE9tect\xE9e</p>
              <p class="text-xs mt-1">Le JSON doit contenir :</p>
              <ul class="text-xs ml-4 mt-1 list-disc">
                <li>Un objet page avec "title" : <code>{"title": "Ma page", ...}</code></li>
                <li>Un tableau de pages : <code>[{"title": "Page 1"}, {"title": "Page 2"}]</code></li>
                <li>Ou un objet combin\xE9 : <code>{"pages": [...], "collections": {...}}</code></li>
              </ul>
            </div>
          `);return}ge&&(ge.disabled=!0,ge.textContent="Import..."),console.log("[import] Sending to server:",JSON.stringify(e).substring(0,500));try{let Ce=await fetch(`${Ye}/import`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)});console.log("[import] Server response status:",Ce.status);let B=await Ce.json();if(console.log("[import] Server response body:",B),!Ce.ok)throw se&&ue&&(se.classList.remove("hidden"),ue.innerHTML=`
              <div class="text-rose-600">
                <p class="font-medium">\u2717 Erreur serveur</p>
                <p class="text-xs mt-1">${B.message||"Erreur inconnue"}</p>
                ${B.details?`<p class="text-xs mt-1 text-slate-500">${B.details}</p>`:""}
              </div>
            `),new Error(B.message||"Erreur serveur");if(se&&ue){se.classList.remove("hidden");let me="",Xe=((l=B.imported)==null?void 0:l.length)>0||((v=B.collectionsCreated)==null?void 0:v.length)>0,ct=((x=B.errors)==null?void 0:x.length)>0;Xe&&!ct?me+='<div class="bg-green-50 border border-green-200 rounded-lg p-3 mb-2"><p class="text-green-800 font-medium">\u2713 Import r\xE9ussi</p></div>':Xe&&ct?me+='<div class="bg-amber-50 border border-amber-200 rounded-lg p-3 mb-2"><p class="text-amber-800 font-medium">\u26A0 Import partiel</p></div>':ct&&(me+='<div class="bg-rose-50 border border-rose-200 rounded-lg p-3 mb-2"><p class="text-rose-800 font-medium">\u2717 Import \xE9chou\xE9</p></div>'),B.collectionsCreated&&B.collectionsCreated.length>0&&(me+=`<p class="text-violet-700 mt-2">\u2713 ${B.collectionsCreated.length} collection(s) cr\xE9\xE9e(s)</p>`,me+='<ul class="ml-4 text-xs text-slate-600">',B.collectionsCreated.forEach(je=>{me+=`<li>${je.name} (${je.itemsCount} item${je.itemsCount>1?"s":""})</li>`}),me+="</ul>"),B.imported&&B.imported.length>0&&(me+=`<p class="text-green-700 mt-2">\u2713 ${B.imported.length} page(s) import\xE9e(s)</p>`,me+='<ul class="ml-4 text-xs text-slate-600">',B.imported.forEach(je=>{me+=`<li><strong>${je.title}</strong> \u2192 ${je.slug} (${je.action==="updated"?"mise \xE0 jour":"cr\xE9\xE9e"})</li>`}),me+="</ul>"),B.errors&&B.errors.length>0&&(me+=`<p class="text-rose-600 mt-3 font-medium">\u2717 ${B.errors.length} erreur(s)</p>`,me+='<ul class="ml-4 text-xs text-rose-600 space-y-1 mt-1">',B.errors.forEach(je=>{me+=`<li class="bg-rose-50 p-2 rounded"><strong>${je.title}</strong><br/><span class="text-rose-500">${je.error}</span></li>`}),me+="</ul>"),ue.innerHTML=me}let lt=((L=B.imported)==null?void 0:L.length)>0||((te=B.collectionsCreated)==null?void 0:te.length)>0,Ee=((ke=B.errors)==null?void 0:ke.length)>0;if(B.imported&&B.imported.length>0&&(le=await Ie(),Zt(le,Be),le.length>0&&!Be&&Lt(le[0].id)),lt&&!Ee){let me=(be=B.collectionsCreated)!=null&&be.length?` + ${B.collectionsCreated.length} collection(s)`:"";$(`\u2713 Import r\xE9ussi : ${((Qe=B.imported)==null?void 0:Qe.length)||0} page(s)${me}`,"success")}else lt&&Ee?$(`\u26A0 Import partiel : ${((Mt=B.imported)==null?void 0:Mt.length)||0} page(s), ${B.errors.length} erreur(s)`,"warning"):Ee&&$(`\u2717 Import \xE9chou\xE9 : ${B.errors.length} erreur(s)`,"error");gt=[],bo(),yo()}catch(Ce){console.error("[import] failed",Ce),$(Ce.message||"Erreur import","error")}finally{ge&&(ge.disabled=!1,ge.textContent="Importer")}};c==null||c.addEventListener("click",tn),I.forEach(e=>e.addEventListener("click",Jo)),g==null||g.addEventListener("click",e=>{e.target===g&&Jo()}),ae==null||ae.addEventListener("change",e=>{Go(e.target.files)}),O==null||O.addEventListener("dragover",e=>{e.preventDefault(),O.classList.add("border-[#9C6BFF]","bg-[#9C6BFF]/10")}),O==null||O.addEventListener("dragleave",e=>{e.preventDefault(),O.classList.remove("border-[#9C6BFF]","bg-[#9C6BFF]/10")}),O==null||O.addEventListener("drop",e=>{e.preventDefault(),O.classList.remove("border-[#9C6BFF]","bg-[#9C6BFF]/10"),Go(e.dataTransfer.files)}),ge==null||ge.addEventListener("click",sn),we==null||we.addEventListener("input",()=>{ws()}),St==null||St.addEventListener("click",en),Pe.forEach(e=>{e.addEventListener("click",()=>{let t=e.dataset.importTab;qt=t,Pe.forEach(s=>{s.dataset.importTab===t?(s.classList.add("bg-[#9C6BFF]","text-white"),s.classList.remove("border","border-slate-200","text-slate-700")):(s.classList.remove("bg-[#9C6BFF]","text-white"),s.classList.add("border","border-slate-200","text-slate-700"))}),Ne.forEach(s=>{s.dataset.importPanel===t?s.classList.remove("hidden"):s.classList.add("hidden")}),ws()})}),De==null||De.addEventListener("click",async()=>{if(!wt)return;let e=wt.textContent||"";try{await navigator.clipboard.writeText(e),$("Template copi\xE9 !")}catch(t){console.error("[import] copy failed",t),$("Erreur copie")}}),os==null||os.addEventListener("click",uo),it==null||it.addEventListener("click",Or),at==null||at.addEventListener("click",e=>{e.target===at&&uo()}),w==null||w.addEventListener("click",e=>{e.stopPropagation(),Jr()}),document.addEventListener("click",e=>{bs&&(b!=null&&b.contains(e.target)||w!=null&&w.contains(e.target)||ys())}),W.forEach(e=>{e.addEventListener("click",t=>{t.stopPropagation();let s=e.dataset.blockAdd;Gr(s)})}),ye==null||ye.addEventListener("click",()=>{mo()}),fe==null||fe.addEventListener("click",()=>{Vs&&Ro(Vs),mo()}),K==null||K.addEventListener("click",e=>{e.target===K&&mo()}),E==null||E.addEventListener("input",e=>{var n,l,v,x;let t=e.target;if(!t||!t.name)return;if(t.name==="group-columns-mobile"||t.name==="group-columns-desktop"){let L=((n=E.querySelector('[name="group-columns-mobile"]'))==null?void 0:n.value)||"1",te=((l=E.querySelector('[name="group-columns-desktop"]'))==null?void 0:l.value)||"3";bt(L,te)}if(t.name==="collection-columns-mobile"||t.name==="collection-columns-desktop"){let L=((v=E.querySelector('[name="collection-columns-mobile"]'))==null?void 0:v.value)||"1",te=((x=E.querySelector('[name="collection-columns-desktop"]'))==null?void 0:x.value)||"3";$e(L,te)}let s=t.closest("[data-block-panel]");if(s&&s.dataset.blockPanel==="appearance"){let L=ns(),te=Bt(L);if(L&&te){let ke=jt(te);Ms(L.id,ke)}}}),E==null||E.addEventListener("change",e=>{var n,l;let t=e.target;if(!t||!t.name)return;if(t.hasAttribute("data-color-select")){let v=t.options[t.selectedIndex],x=((n=v==null?void 0:v.dataset)==null?void 0:n.color)||"#ffffff",L=(l=t.closest(".relative"))==null?void 0:l.querySelector("[data-color-preview]");L&&(x==="transparent"?L.style.background="repeating-conic-gradient(#ccc 0% 25%, white 0% 50%) 50% / 8px 8px":(L.style.backgroundColor=x,L.style.background=""))}let s=t.closest("[data-block-panel]");if(s&&s.dataset.blockPanel==="appearance"){let v=ns(),x=Bt(v);if(v&&x){let L=jt(x);Ms(v.id,L)}}}),j==null||j.addEventListener("change",e=>{let t=e.target;vo((t==null?void 0:t.value)||"")}),E==null||E.addEventListener("submit",Ns),yt==null||yt.addEventListener("click",e=>{e.preventDefault();let t=ns();t&&js(t)}),f==null||f.addEventListener("load",()=>{ho=!0,xt("\xC0 jour"),hs(He)}),h==null||h.addEventListener("click",()=>{let e=window.open("","_blank");if(!e)return;e.opener=null;let t=e.document;t.open(),t.write(go||Ht()),t.close()});let Wo=e=>{var t,s,n;Q&&(e?(Q.classList.remove("hidden"),u&&(S&&(S.value=((t=u.seo)==null?void 0:t.title)||""),P&&(P.value=((s=u.seo)==null?void 0:s.description)||""),q&&(q.checked=((n=u.seo)==null?void 0:n.indexed)!==!1))):Q.classList.add("hidden"))},Gs=(e,t="muted")=>{if(!F)return;let s=t==="success"?"text-emerald-600":t==="error"?"text-rose-600":"text-slate-500";F.textContent=e||"",F.className=`text-sm ${s}`};U==null||U.addEventListener("click",()=>{let e=Q&&!Q.classList.contains("hidden");Wo(!e)}),k==null||k.addEventListener("click",()=>Wo(!1)),p==null||p.addEventListener("submit",async e=>{var t;if(e.preventDefault(),!u){Gs("Aucune page active.","error");return}M&&(M.disabled=!0),Gs("");try{let s={title:((S==null?void 0:S.value)||"").trim(),description:((P==null?void 0:P.value)||"").trim(),indexed:(t=q==null?void 0:q.checked)!=null?t:!0},n={...u,seo:s},l=await ze(n);l&&(u=l,Gs("SEO enregistr\xE9.","success"),$("SEO mis \xE0 jour"),Ut(u))}catch(s){console.error("[seo] save failed",s),Gs(s.message||"Erreur lors de la sauvegarde.","error")}finally{M&&(M.disabled=!1)}});let Ko=e=>{C&&(e?(C.classList.remove("hidden"),u&&(N&&(N.value=u.name||""),V&&(V.value=u.title||""),_&&(_.value=u.slug||""),ce&&(ce.value=u.description||""))):C.classList.add("hidden"))},ls=(e,t="muted")=>{if(!X)return;let s=t==="success"?"text-emerald-600":t==="error"?"text-rose-600":"text-slate-500";X.textContent=e||"",X.className=`text-sm ${s}`};R==null||R.addEventListener("click",()=>{let e=C&&!C.classList.contains("hidden");Ko(!e)}),m==null||m.addEventListener("click",()=>Ko(!1)),D==null||D.addEventListener("submit",async e=>{if(e.preventDefault(),!u){ls("Aucune page active.","error");return}pe&&(pe.disabled=!0),ls("");try{let t=((N==null?void 0:N.value)||"").trim(),s=((V==null?void 0:V.value)||"").trim(),n=((_==null?void 0:_.value)||"").trim(),l=((ce==null?void 0:ce.value)||"").trim();if(!s){ls("Le titre est requis.","error"),pe&&(pe.disabled=!1);return}if(!n||!n.startsWith("/")){ls("Le slug doit commencer par /.","error"),pe&&(pe.disabled=!1);return}let v={...u,name:t||s,title:s,slug:n,description:l},x=await ze(v);x&&(u=x,le=le.map(L=>L.id===x.id?x:L),ls("Propri\xE9t\xE9s enregistr\xE9es.","success"),$("Page mise \xE0 jour"),Po(u),Zt(le,Be),Ut(u))}catch(t){console.error("[page-props] save failed",t),ls(t.message||"Erreur lors de la sauvegarde.","error")}finally{pe&&(pe.disabled=!1)}});let on=e=>{let t=e.target.closest("[data-block-item]");if(!t||!Os()){e.preventDefault();return}if(Tt=t.dataset.blockId||null,!Tt){e.preventDefault();return}e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/plain",Tt),requestAnimationFrame(()=>{t.classList.add("opacity-50","scale-[0.98]","shadow-lg","ring-2","ring-[#9C6BFF]")})},Zo=()=>{H==null||H.querySelectorAll("[data-block-item]").forEach(e=>{e.classList.remove("opacity-50","scale-[0.98]","shadow-lg","ring-2","ring-[#9C6BFF]","border-t-4","border-b-4","border-t-[#9C6BFF]","border-b-[#9C6BFF]","pt-6","pb-6")})},rn=()=>{Tt=null,Zo()},nn=e=>{if(!Tt||!Os())return;let t=e.target.closest("[data-block-item]");if(!t||t.dataset.blockId===Tt)return;e.preventDefault(),e.dataTransfer.dropEffect="move";let s=t.getBoundingClientRect(),n=s.top+s.height/2,l=e.clientY<n;H==null||H.querySelectorAll("[data-block-item]").forEach(v=>{v!==t&&v.dataset.blockId!==Tt&&v.classList.remove("border-t-4","border-b-4","border-t-[#9C6BFF]","border-b-[#9C6BFF]","pt-6","pb-6")}),t.classList.remove("border-t-4","border-b-4","border-t-[#9C6BFF]","border-b-[#9C6BFF]","pt-6","pb-6"),l?t.classList.add("border-t-4","border-t-[#9C6BFF]","pt-6"):t.classList.add("border-b-4","border-b-[#9C6BFF]","pb-6"),t.dataset.dropPosition=l?"before":"after"},an=e=>{let t=e.target.closest("[data-block-item]");if(!t)return;let s=e.relatedTarget;s&&t.contains(s)||(t.classList.remove("border-t-4","border-b-4","border-t-[#9C6BFF]","border-b-[#9C6BFF]","pt-6","pb-6"),delete t.dataset.dropPosition)},ln=e=>{if(!Tt||!Os())return;e.preventDefault();let t=e.target.closest("[data-block-item]"),s=Tt,n=(t==null?void 0:t.dataset.dropPosition)||"after";Tt=null,Zo();let l=(t==null?void 0:t.dataset.blockId)||null;!l||s===l||zr(s,l,n)},Tt=null;H==null||H.addEventListener("dragstart",on),H==null||H.addEventListener("dragend",rn),H==null||H.addEventListener("dragover",nn),H==null||H.addEventListener("dragleave",an),H==null||H.addEventListener("drop",ln),Vt(),document.addEventListener("ai-page-updated",async e=>{var t;console.log("[design] Rafra\xEEchissement d\xE9clench\xE9 par IA",e.detail);try{let s=await Ie();if(le=(Array.isArray(s)?s:[]).map(n=>is(n)),(t=e.detail)!=null&&t.pageId){let n=le.find(l=>l.id===e.detail.pageId);n&&(u=n,Be=n.id,Ut(u),ht(u),$("Page mise \xE0 jour par l'IA"))}else if(Be){let n=le.find(l=>l.id===Be);n&&(u=n,Ut(u),ht(u))}}catch(s){console.error("[design] Erreur rafra\xEEchissement IA:",s)}})}function fr(){var rt,ss,Me;let o=document.querySelector("[data-collection-list]");if(!o)return;let a={empty:document.querySelector('[data-content-view="empty"]'),header:document.querySelector('[data-content-view="header"]'),collection:document.querySelector('[data-content-view="collection"]'),footer:document.querySelector('[data-content-view="footer"]')},d=document.querySelectorAll("[data-content-section]"),y=document.querySelectorAll("[data-content-section-trigger]"),f=document.querySelector("[data-content-drawer]"),h=document.querySelector("[data-content-drawer-backdrop]"),z=document.querySelectorAll("[data-content-drawer-open]"),Z=document.querySelectorAll("[data-content-drawer-close]"),U=document.querySelector("[data-header-status]"),Q=document.querySelector("[data-footer-status]"),k=document.querySelector("[data-collection-count]"),p={logo:document.querySelector('[name="header-logo"]'),logoAlt:document.querySelector('[name="header-logo-alt"]'),logoUrl:document.querySelector('[name="header-logo-url"]'),ctaText:document.querySelector('[name="header-cta-text"]'),ctaUrl:document.querySelector('[name="header-cta-url"]'),ctaStyle:document.querySelector('[name="header-cta-style"]'),position:document.querySelector('[name="header-position"]'),bg:document.querySelector('[name="header-bg"]')},S=document.querySelector("[data-header-nav-list]"),P=document.querySelector("[data-header-nav-add]"),q=document.querySelector("[data-header-save]"),F=document.querySelector("[data-template-header-nav-item]"),M=document.querySelector("[data-header-pages-list]"),R=[],C=[],m={linkedin:document.querySelector('[name="footer-social-linkedin"]'),twitter:document.querySelector('[name="footer-social-twitter"]'),instagram:document.querySelector('[name="footer-social-instagram"]'),facebook:document.querySelector('[name="footer-social-facebook"]'),youtube:document.querySelector('[name="footer-social-youtube"]'),github:document.querySelector('[name="footer-social-github"]'),copyright:document.querySelector('[name="footer-copyright"]'),legalUrl:document.querySelector('[name="footer-legal-url"]'),privacyUrl:document.querySelector('[name="footer-privacy-url"]'),bg:document.querySelector('[name="footer-bg"]'),columnsCount:document.querySelector('[name="footer-columns-count"]')},D=document.querySelector("[data-footer-columns-list]"),N=document.querySelector("[data-footer-column-add]"),V=document.querySelector("[data-footer-save]"),_=document.querySelector("[data-template-footer-column]"),ce=document.querySelector("[data-template-footer-link]"),X=null,pe={nav:[],logo:{},cta:{},style:{}},H={columns:[],socials:{},copyright:"",legal:{},style:{}},xe=Se((G==null?void 0:G.slugValue)||Y.slug||""),T=xe,w=xe?`/api/sites/${encodeURIComponent(xe)}/layout`:null,b=r=>{Object.entries(a).forEach(([c,g])=>{g&&g.classList.toggle("hidden",c!==r)}),d.forEach(c=>{c.dataset.contentSection===r?c.dataset.active="true":delete c.dataset.active}),X=r},W=()=>{f==null||f.classList.add("is-open"),f&&(f.style.transform="translateX(0)"),h==null||h.classList.remove("hidden"),document.body.classList.add("overflow-hidden")},K=()=>{f==null||f.classList.remove("is-open"),f&&(f.style.transform=""),h==null||h.classList.add("hidden"),document.body.classList.remove("overflow-hidden")};z.forEach(r=>r.addEventListener("click",W)),Z.forEach(r=>r.addEventListener("click",K)),h==null||h.addEventListener("click",K),d.forEach(r=>{r.addEventListener("click",()=>{let c=r.dataset.contentSection;(c==="header"||c==="footer")&&b(c),K()})}),y.forEach(r=>{r.addEventListener("click",()=>{let c=r.dataset.contentSectionTrigger;c&&b(c)})});let fe=async()=>{if(!(!T||!M))try{let r=await fetch(`/api/sites/${T}/pages`,{credentials:"include"});if(!r.ok)throw new Error("Erreur chargement pages");R=await r.json(),ye()}catch(r){console.error("[header] load pages error",r),M.innerHTML='<p class="text-xs text-red-500">Erreur chargement pages</p>'}},ye=()=>{if(M){if(M.innerHTML="",R.length===0){M.innerHTML='<p class="text-xs text-slate-400 italic">Aucune page disponible</p>';return}R.forEach(r=>{let c=r.slug||r.id,g=r.name||r.title||c,I=c==="index"?"/":`/${c}`,O=C.some(ee=>ee.url===I),ae=document.createElement("label");ae.className="flex items-center gap-2 px-3 py-2 rounded-lg border border-slate-200 hover:bg-slate-50 cursor-pointer transition-colors",ae.innerHTML=`
          <input type="checkbox" name="nav-page" value="${I}" data-page-title="${g}"
                 class="w-4 h-4 rounded border-slate-300 text-violet-600 focus:ring-violet-500"
                 ${O?"checked":""}>
          <span class="flex-1 text-sm text-slate-700">${g}</span>
          <span class="text-xs text-slate-400">${I}</span>
        `;let ie=ae.querySelector("input");ie.addEventListener("change",()=>{ie.checked?C.some(ee=>ee.url===I)||C.push({label:g,url:I}):C=C.filter(ee=>ee.url!==I)}),M.appendChild(ae)})}},oe=()=>{var c,g,I,O,ae,ie,ee,se,ue,ge,Pe,Ne,De;let r=[];return M==null||M.querySelectorAll('input[name="nav-page"]:checked').forEach(wt=>{let we=wt.value,St=wt.dataset.pageTitle||we;r.push({label:St,url:we})}),{logo:{src:((g=(c=p.logo)==null?void 0:c.value)==null?void 0:g.trim())||"",alt:((O=(I=p.logoAlt)==null?void 0:I.value)==null?void 0:O.trim())||"",url:((ie=(ae=p.logoUrl)==null?void 0:ae.value)==null?void 0:ie.trim())||"/"},nav:r,cta:{text:((se=(ee=p.ctaText)==null?void 0:ee.value)==null?void 0:se.trim())||"",url:((ge=(ue=p.ctaUrl)==null?void 0:ue.value)==null?void 0:ge.trim())||"",style:((Pe=p.ctaStyle)==null?void 0:Pe.value)||"primary"},style:{position:((Ne=p.position)==null?void 0:Ne.value)||"static",bg:((De=p.bg)==null?void 0:De.value)||"bg-white"}}},he=async r=>{var g,I,O,ae,ie,ee,se,ue,ge,Pe,Ne;if(!r)return;p.logo&&(p.logo.value=((g=r.logo)==null?void 0:g.src)||""),p.logoAlt&&(p.logoAlt.value=((I=r.logo)==null?void 0:I.alt)||""),p.logoUrl&&(p.logoUrl.value=((O=r.logo)==null?void 0:O.url)||"/"),p.ctaText&&(p.ctaText.value=((ae=r.cta)==null?void 0:ae.text)||""),p.ctaUrl&&(p.ctaUrl.value=((ie=r.cta)==null?void 0:ie.url)||""),p.ctaStyle&&(p.ctaStyle.value=((ee=r.cta)==null?void 0:ee.style)||"primary"),p.position&&(p.position.value=((se=r.style)==null?void 0:se.position)||"static"),p.bg&&(p.bg.value=((ue=r.style)==null?void 0:ue.bg)||"bg-white"),C=r.nav||[],await fe();let c=((ge=r.logo)==null?void 0:ge.src)||((Pe=r.nav)==null?void 0:Pe.length)>0||((Ne=r.cta)==null?void 0:Ne.text);U&&(U.classList.toggle("bg-green-500",!!c),U.classList.toggle("bg-slate-300",!c),U.title=c?"Configur\xE9":"Non configur\xE9")};q==null||q.addEventListener("click",async()=>{if(w){q.disabled=!0,q.textContent="Enregistrement...";try{let r=oe();if(!(await fetch(`${w}/header`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(r)})).ok)throw new Error("Erreur serveur");pe=r,he(r),$("Header enregistr\xE9")}catch(r){console.error("[header] save error",r),$("Erreur lors de l'enregistrement","error")}finally{q.disabled=!1,q.textContent="Enregistrer"}}});let re=(r,c="",g="")=>{if(!ce||!r)return;let I=ce.content.cloneNode(!0),O=I.querySelector("[data-footer-link]"),ae=I.querySelector('[name="link-label"]'),ie=I.querySelector('[name="link-url"]'),ee=I.querySelector("[data-link-remove]");ae&&(ae.value=c),ie&&(ie.value=g),ee==null||ee.addEventListener("click",()=>O==null?void 0:O.remove()),r.appendChild(I)},Ae=(r="",c=[])=>{if(!_||!D)return;let g=_.content.cloneNode(!0),I=g.querySelector("[data-footer-column]"),O=g.querySelector('[name="column-title"]'),ae=g.querySelector("[data-column-links]"),ie=g.querySelector("[data-column-link-add]"),ee=g.querySelector("[data-column-remove]");O&&(O.value=r),c.forEach(se=>re(ae,se.label,se.url)),ie==null||ie.addEventListener("click",()=>re(ae)),ee==null||ee.addEventListener("click",()=>I==null?void 0:I.remove()),D.appendChild(g)},Ct=()=>{var c,g,I,O,ae,ie,ee,se,ue,ge,Pe,Ne,De,wt,we,St,nt,gt,qt,at;let r=[];return D==null||D.querySelectorAll("[data-footer-column]").forEach(ps=>{var Rt,Ds;let os=((Ds=(Rt=ps.querySelector('[name="column-title"]'))==null?void 0:Rt.value)==null?void 0:Ds.trim())||"",it=[];ps.querySelectorAll("[data-footer-link]").forEach(Hs=>{var fs,gs,rs,Us;let Kt=((gs=(fs=Hs.querySelector('[name="link-label"]'))==null?void 0:fs.value)==null?void 0:gs.trim())||"",Ye=((Us=(rs=Hs.querySelector('[name="link-url"]'))==null?void 0:rs.value)==null?void 0:Us.trim())||"";(Kt||Ye)&&it.push({label:Kt,url:Ye})}),(os||it.length>0)&&r.push({title:os,links:it})}),{columns:r,socials:{linkedin:((g=(c=m.linkedin)==null?void 0:c.value)==null?void 0:g.trim())||"",twitter:((O=(I=m.twitter)==null?void 0:I.value)==null?void 0:O.trim())||"",instagram:((ie=(ae=m.instagram)==null?void 0:ae.value)==null?void 0:ie.trim())||"",facebook:((se=(ee=m.facebook)==null?void 0:ee.value)==null?void 0:se.trim())||"",youtube:((ge=(ue=m.youtube)==null?void 0:ue.value)==null?void 0:ge.trim())||"",github:((Ne=(Pe=m.github)==null?void 0:Pe.value)==null?void 0:Ne.trim())||""},copyright:((wt=(De=m.copyright)==null?void 0:De.value)==null?void 0:wt.trim())||"",legal:{url:((St=(we=m.legalUrl)==null?void 0:we.value)==null?void 0:St.trim())||"",privacyUrl:((gt=(nt=m.privacyUrl)==null?void 0:nt.value)==null?void 0:gt.trim())||""},style:{bg:((qt=m.bg)==null?void 0:qt.value)||"bg-slate-900 text-white",columnsCount:((at=m.columnsCount)==null?void 0:at.value)||"4"}}},ne=r=>{var g,I,O,ae,ie,ee,se,ue,ge,Pe,Ne;if(!r)return;m.linkedin&&(m.linkedin.value=((g=r.socials)==null?void 0:g.linkedin)||""),m.twitter&&(m.twitter.value=((I=r.socials)==null?void 0:I.twitter)||""),m.instagram&&(m.instagram.value=((O=r.socials)==null?void 0:O.instagram)||""),m.facebook&&(m.facebook.value=((ae=r.socials)==null?void 0:ae.facebook)||""),m.youtube&&(m.youtube.value=((ie=r.socials)==null?void 0:ie.youtube)||""),m.github&&(m.github.value=((ee=r.socials)==null?void 0:ee.github)||""),m.copyright&&(m.copyright.value=r.copyright||""),m.legalUrl&&(m.legalUrl.value=((se=r.legal)==null?void 0:se.url)||""),m.privacyUrl&&(m.privacyUrl.value=((ue=r.legal)==null?void 0:ue.privacyUrl)||""),m.bg&&(m.bg.value=((ge=r.style)==null?void 0:ge.bg)||"bg-slate-900 text-white"),m.columnsCount&&(m.columnsCount.value=((Pe=r.style)==null?void 0:Pe.columnsCount)||"4"),D&&(D.innerHTML=""),(r.columns||[]).forEach(De=>Ae(De.title,De.links));let c=((Ne=r.columns)==null?void 0:Ne.length)>0||r.copyright||Object.values(r.socials||{}).some(De=>De);Q&&(Q.classList.toggle("bg-green-500",!!c),Q.classList.toggle("bg-slate-300",!c),Q.title=c?"Configur\xE9":"Non configur\xE9")};N==null||N.addEventListener("click",()=>Ae()),V==null||V.addEventListener("click",async()=>{if(w){V.disabled=!0,V.textContent="Enregistrement...";try{let r=Ct();if(!(await fetch(`${w}/footer`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(r)})).ok)throw new Error("Erreur serveur");H=r,ne(r),$("Footer enregistr\xE9")}catch(r){console.error("[footer] save error",r),$("Erreur lors de l'enregistrement","error")}finally{V.disabled=!1,V.textContent="Enregistrer"}}}),(async()=>{if(w)try{let r=await fetch(w,{credentials:"include"});if(r.ok){let c=await r.json();c.header&&(pe=c.header,he(c.header)),c.footer&&(H=c.footer,ne(c.footer))}}catch(r){console.error("[layout] load error",r)}})();let We=document.querySelector("[data-collection-empty]"),Le=document.querySelector("[data-collection-items-empty]"),Ke=document.querySelector("[data-item-table-wrapper]"),Et=document.querySelector("[data-item-table-body]"),It=document.querySelector("[data-collection-title]"),vt=document.querySelector("[data-collection-description]"),Te=document.querySelector("[data-item-add]"),mt=document.querySelector("[data-item-detail-empty]"),de=document.querySelector("[data-item-form]"),i=de?{title:de.querySelector('[name="item-title"]'),slug:de.querySelector('[name="item-slug"]'),excerpt:de.querySelector('[name="item-excerpt"]'),content:de.querySelector('[name="item-content"]'),image:de.querySelector('[name="item-image"]'),ctaText:de.querySelector('[name="item-cta-text"]'),ctaUrl:de.querySelector('[name="item-cta-url"]'),status:de.querySelector('[name="item-status"]')}:{},A=document.querySelector("[data-item-status-badge]"),j=document.querySelector("[data-item-delete]"),J=document.querySelector("[data-item-delete-modal]"),yt=document.querySelector("[data-item-delete-cancel]"),pt=document.querySelector("[data-item-delete-confirm]"),Qt=document.querySelector("[data-item-cancel]"),es=document.querySelector("[data-item-save]"),ts="rounded-full px-3 py-1 text-xs font-semibold",Bs=Se((G==null?void 0:G.slugValue)||Y.slug||""),st=Bs?`/api/sites/${encodeURIComponent(Bs)}/collections`:null,bt=[],$e=[],Ie=null,Fe=null,ze=!1,Vt=!1,Dt=null,Bt=r=>{let c=(r||"").trim();if(!c)return"";if(c==="/")return"/";let I=c.replace(/^\//,"").split("/").map(O=>zt(O||"")).filter(O=>O.length>0);return I.length?`/${I.join("/")}`:""},js=r=>{if(!r)return"\u2014";let c=new Date(r);return Number.isNaN(c.getTime())?"\u2014":c.toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric"})},jt=()=>{let r=bt.find(c=>c.id===Ie);It&&(It.textContent=(r==null?void 0:r.name)||"S\xE9lectionnez une collection"),vt&&(vt.textContent=(r==null?void 0:r.description)||"")},xt=r=>{Le&&(Le.textContent=r||(Ie?"Aucun item dans cette collection pour le moment.":"Choisissez une collection dans le panneau de gauche."))},Jt=()=>{de&&(de.classList.add("hidden"),de.dataset.itemId=""),mt==null||mt.classList.remove("hidden"),A&&(A.className=`hidden ${ts}`,A.textContent=""),j&&(j.disabled=!0)},Ht=()=>{de&&(de.classList.remove("hidden"),mt==null||mt.classList.add("hidden"))},Gt=()=>{Te&&(Te.disabled=!Ie,Te.disabled?Te.classList.add("opacity-60","pointer-events-none"):Te.classList.remove("opacity-60","pointer-events-none"))},Fs=r=>{if(!A)return;if(!r){A.className=`hidden ${ts}`,A.textContent="";return}let c=r.toLowerCase(),g="bg-slate-100 text-slate-600 border border-slate-200";c==="publi\xE9"||c==="publie"?g="bg-emerald-50 text-emerald-700 border border-emerald-100":c==="brouillon"&&(g="bg-amber-50 text-amber-700 border border-amber-100"),A.className=`${ts} ${g}`,A.textContent=r},Ps=()=>{if(o.innerHTML="",k&&(k.textContent=bt.length),!bt.length){We==null||We.classList.remove("hidden");return}We==null||We.classList.add("hidden"),bt.forEach(r=>{let c=r.id===Ie,g=document.createElement("button");g.type="button",g.dataset.collectionId=r.id,g.className=["w-full rounded-xl border px-3 py-2 text-left transition focus:outline-none focus:ring-2 focus:ring-[#9C6BFF]/40",c?"bg-[#F7F0FF] border-[#9C6BFF]/40 text-slate-900":"border-slate-200 text-slate-700 hover:border-[#9C6BFF]/40"].join(" "),g.setAttribute("role","option"),c?g.setAttribute("aria-current","true"):g.removeAttribute("aria-current"),g.innerHTML=`
          <div class="flex items-center justify-between gap-2">
            <div>
              <p class="text-sm font-semibold">${r.name||r.id}</p>
              <p class="text-xs text-slate-500">${r.description||""}</p>
            </div>
            <span class="text-[11px] uppercase tracking-wide text-slate-400">${r.type||""}</span>
          </div>
        `,g.addEventListener("click",()=>{Ze(r.id),window.matchMedia("(min-width: 1024px)").matches||K()}),o.appendChild(g)})},ft=()=>{if(Et){if(Et.innerHTML="",!$e.length||!Ie){Le==null||Le.classList.remove("hidden"),xt(),Ke==null||Ke.classList.add("hidden");return}Le==null||Le.classList.add("hidden"),Ke==null||Ke.classList.remove("hidden"),$e.forEach(r=>{let c=document.createElement("tr");c.dataset.itemId=r.id;let g=r.id===Fe&&!ze;c.className=["cursor-pointer transition focus-within:bg-[#F7F0FF]/70 focus:outline-none",g?"bg-[#F7F0FF]/70":"hover:bg-slate-50"].join(" "),c.tabIndex=0,c.setAttribute("role","button"),g?c.setAttribute("aria-current","true"):c.removeAttribute("aria-current");let I=r.status||"Brouillon",O=I.toLowerCase(),ae=O==="publi\xE9"||O==="publie"?"bg-emerald-50 text-emerald-700 border border-emerald-100":"bg-amber-50 text-amber-700 border border-amber-100";c.innerHTML=`
          <td class="px-4 py-3 align-top">
            <div class="flex flex-col">
              <span class="text-sm font-semibold text-slate-900">${r.title||"Sans titre"}</span>
              <span class="text-xs text-slate-500">${r.summary||r.excerpt||""}</span>
            </div>
          </td>
          <td class="px-4 py-3 align-top text-sm text-slate-600">${r.slug||""}</td>
          <td class="px-4 py-3 align-top">
            <span class="inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold ${ae}">
              ${I}
            </span>
          </td>
          <td class="px-4 py-3 align-top text-sm text-slate-500">${js(r.updatedAt||r.createdAt)}</td>
        `;let ie=()=>{ao(r.id)};c.addEventListener("click",ie),c.addEventListener("keydown",ee=>{(ee.key==="Enter"||ee.key===" ")&&(ee.preventDefault(),ie())}),Et.appendChild(c)})}},ao=r=>{let c=$e.find(g=>g.id===r);c&&(Fe=c.id,ze=!1,Vt=!0,ms(c),ft())},ms=r=>{var c,g;if(!de||!r){Jt();return}Ht(),de.dataset.itemId=r.id,i.title&&(i.title.value=r.title||""),i.slug&&(i.slug.value=r.slug||""),i.excerpt&&(i.excerpt.value=r.summary||r.excerpt||""),i.content&&(i.content.value=r.content||""),i.image&&(i.image.value=r.image||""),i.ctaText&&(i.ctaText.value=((c=r.cta)==null?void 0:c.text)||r.ctaText||""),i.ctaUrl&&(i.ctaUrl.value=((g=r.cta)==null?void 0:g.url)||r.ctaUrl||""),i.status&&(i.status.value=r.status||"Brouillon"),Fs(r.status||"Brouillon"),j&&(j.disabled=!1)},Ms=()=>{var r;de&&(ze=!0,Fe=null,Vt=!1,de.dataset.itemId="",de.reset(),i.status&&(i.status.value="Brouillon"),i.slug&&(i.slug.value=""),Fs("Brouillon"),Ht(),j&&(j.disabled=!0),(r=i.title)==null||r.focus())},Ut=()=>{var ue,ge,Pe,Ne,De,wt,we,St;let r=(((ue=i.title)==null?void 0:ue.value)||"").trim(),c=(((ge=i.slug)==null?void 0:ge.value)||"").trim(),g=(((Pe=i.excerpt)==null?void 0:Pe.value)||"").trim(),I=(((Ne=i.content)==null?void 0:Ne.value)||"").trim(),O=(((De=i.image)==null?void 0:De.value)||"").trim(),ae=(((wt=i.ctaText)==null?void 0:wt.value)||"").trim(),ie=(((we=i.ctaUrl)==null?void 0:we.value)||"").trim(),ee=((St=i.status)==null?void 0:St.value)||"Brouillon",se=ae||ie?{text:ae,url:ie}:null;return{title:r,slug:Bt(c||r),summary:g,excerpt:g,content:I,image:O,status:ee,...se&&{cta:se}}},Ns=r=>{es&&(es.disabled=r,es.textContent=r?"Enregistrement\u2026":"Enregistrer"),j&&!ze&&Fe&&(j.disabled=r)},Ft=async r=>{if(!st)return[];let c=await fetch(`${st}/${encodeURIComponent(r)}/items`,{headers:{Accept:"application/json"}});if(!c.ok){let I=await c.json().catch(()=>({}));throw new Error(I.message||"Impossible de charger les items.")}let g=await c.json().catch(()=>({}));return Array.isArray(g.items)?g.items:[]},Ze=async r=>{if(r&&(Ie=r,Fe=null,ze=!1,Vt=!1,b("collection"),jt(),Gt(),Ps(),Jt(),$e=[],ft(),xt("Chargement des items\u2026"),Le==null||Le.classList.remove("hidden"),Ke==null||Ke.classList.add("hidden"),!!st))try{$e=await Ft(r),ft(),$e.length||xt()}catch(c){console.error("[content] items failed",c),$(c.message||"Impossible de charger les items."),$e=[],ft()}},io=async(r,c)=>{if(!st)throw new Error("Site inconnu.");let g=await fetch(`${st}/${encodeURIComponent(r)}/items`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});if(!g.ok){let I=await g.json().catch(()=>({}));throw new Error(I.message||"Impossible de cr\xE9er cet item.")}return g.json()},lo=async(r,c,g)=>{if(!st)throw new Error("Site inconnu.");let I=await fetch(`${st}/${encodeURIComponent(r)}/items/${encodeURIComponent(c)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)});if(!I.ok){let O=await I.json().catch(()=>({}));throw new Error(O.message||"Impossible de sauvegarder cet item.")}return I.json()},Pt=async(r,c)=>{if(!st)throw new Error("Site inconnu.");let g=await fetch(`${st}/${encodeURIComponent(r)}/items/${encodeURIComponent(c)}`,{method:"DELETE"});if(!g.ok){let I=await g.json().catch(()=>({}));throw new Error(I.message||"Impossible de supprimer cet item.")}},ot=async()=>{var r;if(!st){We==null||We.classList.remove("hidden"),Ie=null,$e=[],ft(),jt(),Gt();return}try{let c=await fetch(st,{headers:{Accept:"application/json"}});if(!c.ok)throw new Error("Impossible de charger les collections.");let g=await c.json().catch(()=>[]);if(bt=Array.isArray(g)?g:[],Ps(),bt.length>0){let I=((r=bt.find(O=>O.id===Ie))==null?void 0:r.id)||bt[0].id;Ze(I)}else Ie=null,$e=[],jt(),Gt(),ft()}catch(c){console.error("[content] load collections",c),$(c.message||"Impossible de charger les collections.")}};Te==null||Te.addEventListener("click",()=>{if(!Ie){$("S\xE9lectionnez d\u2019abord une collection.");return}Ms(),ft()}),Qt==null||Qt.addEventListener("click",r=>{if(r.preventDefault(),ze){ze=!1,Fe=null,Jt(),ft();return}if(Fe){let c=$e.find(g=>g.id===Fe);ms(c)}else Jt()}),(rt=i.status)==null||rt.addEventListener("change",()=>{Fs(i.status.value)}),(ss=i.title)==null||ss.addEventListener("input",()=>{!ze||!i.slug||Vt||(i.slug.value=Bt(i.title.value))}),(Me=i.slug)==null||Me.addEventListener("input",()=>{ze&&(Vt=!0)}),de==null||de.addEventListener("submit",async r=>{var g;if(r.preventDefault(),!Ie){$("S\xE9lectionnez une collection.");return}let c=Ut();if(!c.title){$("Le titre est requis."),(g=i.title)==null||g.focus();return}Ns(!0);try{let I;ze||!Fe?(I=await io(Ie,c),$e=[...$e,I],$("Item cr\xE9\xE9")):(I=await lo(Ie,Fe,c),$e=$e.map(O=>O.id===I.id?I:O),$("Item mis \xE0 jour")),ze=!1,Fe=I.id,ms(I),ft()}catch(I){console.error("[content] save item failed",I),$(I.message||"Impossible de sauvegarder cet item.")}finally{Ns(!1)}});let _e=()=>{J&&(J.classList.add("hidden"),J.classList.remove("flex"),Dt=null)},Wt=()=>{!J||!Fe||(Dt=Fe,J.classList.remove("hidden"),J.classList.add("flex"))};j==null||j.addEventListener("click",r=>{r.preventDefault(),Fe&&Wt()}),yt==null||yt.addEventListener("click",()=>{_e()}),J==null||J.addEventListener("click",r=>{r.target===J&&_e()}),pt==null||pt.addEventListener("click",async()=>{if(!Dt||!Ie){_e();return}pt.disabled=!0,pt.textContent="Suppression\u2026";try{await Pt(Ie,Dt),$e=$e.filter(r=>r.id!==Dt),Fe===Dt&&(Fe=null,Jt()),$("Item supprim\xE9"),ft()}catch(r){console.error("[content] delete item failed",r),$(r.message||"Impossible de supprimer cet item.")}finally{pt.disabled=!1,pt.textContent="Supprimer",_e()}}),jt(),Gt(),ot()}function gr(){let o=document.querySelector("[data-deploy-form]");if(!o)return;let a=document.querySelector("[data-deploy-protocol]"),d=document.querySelector("[data-deploy-host]"),y=document.querySelector("[data-deploy-port]"),f=document.querySelector("[data-deploy-user]"),h=document.querySelector("[data-deploy-password]"),z=document.querySelector("[data-deploy-show-password]"),Z=document.querySelector("[data-deploy-remote-path]"),U=document.querySelector("[data-deploy-feedback]"),Q=document.querySelector("[data-deploy-save]"),k=document.querySelector("[data-deploy-test]"),p=document.querySelector("[data-deploy-trigger]"),S=document.querySelector("[data-deploy-history]"),P=document.querySelector("[data-deploy-log]"),q=Se((G==null?void 0:G.slugValue)||Y.slug||""),F=q?`/api/sites/${encodeURIComponent(q)}/deploy-config`:null,M=q?`/api/sites/${encodeURIComponent(q)}/deploy`:null,R=q?`/api/sites/${encodeURIComponent(q)}/deploy-log`:null,C=!1,m=null,D=T=>{let w=(T||"").trim();return w?w.startsWith("/")?w:`/${w}`:"/www"},N=(T,w="muted")=>{if(!U)return;let b="inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold",W=w==="success"?"bg-emerald-50 text-emerald-700 border border-emerald-100":w==="error"?"bg-rose-50 text-rose-700 border border-rose-100":"bg-slate-50 text-slate-600 border border-slate-100";if(!T){U.textContent="",U.className="text-sm text-slate-500";return}let K=w==="success"?"\u2705":w==="error"?"\u274C":"\u2139\uFE0F";U.innerHTML=`<span class="${b} ${W}">${K}<span>${T}</span></span>`,U.className="text-sm"},V=(T=null)=>{m=T;let w=!!T,b='<svg class="h-4 w-4 animate-spin text-white" viewBox="0 0 24 24" fill="none" aria-hidden="true"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"></path></svg>';Q&&(Q.disabled=w,Q.innerHTML=T==="save"?`<span class="inline-flex items-center gap-2">${b}<span>Enregistrement\u2026</span></span>`:"Enregistrer"),k&&(k.disabled=w,k.innerHTML=T==="test"?'<span class="inline-flex items-center gap-2"><span class="h-4 w-4 animate-spin rounded-full border-2 border-slate-200 border-t-slate-600"></span><span>Test en cours\u2026</span></span>':"Tester la connexion"),p&&(p.disabled=w&&T!==null,p.innerHTML=T==="deploy"?'<span class="inline-flex items-center gap-2"><span class="h-4 w-4 animate-spin rounded-full border-2 border-white/60 border-t-white"></span><span>D\xE9ploiement\u2026</span></span>':"D\xE9ployer maintenant")},_=T=>{a&&(a.value=T.protocol||"sftp"),d&&(d.value=T.host||""),y&&(y.value=T.port||""),f&&(f.value=T.user||""),Z&&(Z.value=T.remotePath||"/www"),C=!!T.hasPassword,h&&(h.value="",h.placeholder=C?"Non affich\xE9":"Mot de passe")},ce=(T=[])=>{if(S){if(S.innerHTML="",!T.length){let w=document.createElement("li");w.className="text-slate-500",w.textContent="Aucun d\xE9ploiement pour le moment.",S.appendChild(w);return}T.forEach(w=>{let b=document.createElement("li");b.className="flex items-center justify-between gap-2 rounded-xl border border-slate-200 px-3 py-2";let W=w.status==="success"?'<span class="rounded-full bg-emerald-50 px-2 py-0.5 text-[11px] font-semibold text-emerald-700">Succ\xE8s</span>':'<span class="rounded-full bg-rose-50 px-2 py-0.5 text-[11px] font-semibold text-rose-700">\xC9chec</span>',K=w.finishedAt||w.startedAt||"",fe=w.durationMs&&Number(w.durationMs)>=0?`${Math.round(Number(w.durationMs)/1e3)}s`:"";b.innerHTML=`
          <div class="space-y-1">
            <div class="flex items-center gap-2">${W}<span class="text-xs text-slate-500">${K}</span></div>
            <p class="text-sm text-slate-800">${w.message||""}</p>
          </div>
          <div class="text-xs text-slate-500">${fe}</div>
        `,b.dataset.deployId=w.id||"",b.addEventListener("click",()=>{w.logs&&P&&(P.textContent=w.logs.join(`
`))}),S.appendChild(b)})}},X=(T=[])=>{P&&(P.textContent=T.length?T.join(`
`):"Aucun log pour le moment.")},pe=async()=>{var T;if(R)try{let w=await fetch(R,{headers:{Accept:"application/json"}});if(!w.ok){if(w.status===404){ce([]),X(["API d\xE9ploiement indisponible (red\xE9marre le serveur)."]);return}throw new Error("Impossible de charger l\u2019historique.")}let b=await w.json().catch(()=>({})),W=Array.isArray(b.entries)?b.entries:[];ce(W),(T=W[0])!=null&&T.logs&&X(W[0].logs)}catch(w){console.error("[deploy] history failed",w)}},H=async()=>{if(!F){N("Aucun site actif s\xE9lectionn\xE9.","error");return}V("load");try{let T=await fetch(F,{headers:{Accept:"application/json"}}),w=await T.json().catch(()=>({}));T.ok?(_(w||{}),N("Configuration charg\xE9e.","muted")):(_(w||{}),N(w.message||"Configuration par d\xE9faut charg\xE9e.","muted"))}catch(T){console.error("[deploy] load failed",T),N(T.message||"Erreur lors du chargement.","error")}finally{V(null)}},xe=()=>{let T={protocol:(a==null?void 0:a.value)||"sftp",host:(d==null?void 0:d.value.trim())||"",port:Number(y==null?void 0:y.value)||void 0,user:(f==null?void 0:f.value.trim())||"",remotePath:D((Z==null?void 0:Z.value)||"/www")},w=(h==null?void 0:h.value)||"";return w.trim().length>0&&(T.password=w),T};o.addEventListener("submit",async T=>{if(T.preventDefault(),!F){N("Aucun site actif s\xE9lectionn\xE9.","error");return}let w=xe();V("save");try{let b=await fetch(F,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(w)});if(!b.ok){let K=await b.json().catch(()=>({}));throw new Error(K.message||"Sauvegarde impossible.")}let W=await b.json();_(W||{}),N("Configuration enregistr\xE9e.","success"),$("Configuration d\xE9ploiement sauvegard\xE9e")}catch(b){console.error("[deploy] save failed",b),N(b.message||"Erreur lors de la sauvegarde.","error")}finally{V(null)}}),k==null||k.addEventListener("click",async()=>{if(!F){N("Aucun site actif s\xE9lectionn\xE9.","error");return}let T=xe();if(!T.host||!T.user||!T.remotePath){N("Remplissez les champs requis avant de tester.","error");return}V("test");try{let w=await fetch(`${F}/test`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(T)}),b=await w.json().catch(()=>({}));if(!w.ok||b.success===!1){N(b.message||"Test de connexion \xE9chou\xE9.","error");return}N(b.message||"Connexion OK.","success"),$("Test de connexion r\xE9ussi")}catch(w){console.error("[deploy] test failed",w),N(w.message||"Test de connexion \xE9chou\xE9.","error")}finally{V(null)}}),p==null||p.addEventListener("click",async()=>{if(!M){N("Aucun site actif s\xE9lectionn\xE9.","error");return}V("deploy"),X(["D\xE9ploiement en cours\u2026"]);try{let T=await fetch(M,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(xe())}),w=await T.json().catch(()=>({}));if(!T.ok){if(T.status===404){N("API d\xE9ploiement indisponible (red\xE9marre le serveur).","error"),X(["API d\xE9ploiement indisponible (red\xE9marre le serveur)."]);return}throw X(w.logs||[]),new Error(w.message||"D\xE9ploiement \xE9chou\xE9.")}X(w.logs||[]),await pe(),$("D\xE9ploiement termin\xE9")}catch(T){console.error("[deploy] run failed",T),N(T.message||"D\xE9ploiement \xE9chou\xE9.","error")}finally{V(null)}}),z==null||z.addEventListener("change",()=>{h&&(h.type=z.checked?"text":"password")}),H(),pe()}function hr(){let o=document.querySelectorAll("[data-settings-tab]"),a=document.querySelectorAll("[data-settings-panel]"),d=document.querySelector("[data-admin-password-form]"),y=document.querySelector("[data-site-config-form]"),f=document.querySelector("[data-site-config-feedback]"),h=document.querySelector("[data-theme-form]"),z=k=>{o.forEach(p=>{let S=p.dataset.settingsTab===k;p.setAttribute("aria-selected",S?"true":"false"),p.classList.toggle("bg-[#9C6BFF]",S),p.classList.toggle("text-white",S)}),a.forEach(p=>{p.classList.toggle("hidden",p.dataset.settingsPanel!==k)})};if(o.forEach(k=>{k.addEventListener("click",()=>z(k.dataset.settingsTab||"account"))}),z("account"),d){let k=d.querySelector("[data-admin-password-feedback]"),p=d.querySelector("[data-admin-password-submit]"),S=(P,q="muted")=>{if(!k)return;let F=q==="success"?"text-emerald-600":q==="error"?"text-rose-600":"text-slate-500";k.textContent=P||"",k.className=`text-sm ${F}`};d.addEventListener("submit",async P=>{P.preventDefault();let q=new FormData(d),F=q.get("currentPassword")||"",M=q.get("newPassword")||"",R=q.get("confirmPassword")||"";if(!F||!M||!R){S("Compl\xE8te tous les champs.","error");return}p&&(p.disabled=!0),S("");try{let C=await fetch("/api/admin/password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentPassword:F,newPassword:M,confirmPassword:R})}),m=await C.json().catch(()=>({}));if(!C.ok||m.success===!1)throw new Error(m.message||"Impossible de mettre \xE0 jour le mot de passe.");S(m.message||"Mot de passe mis \xE0 jour.","success"),d.reset()}catch(C){console.error("[settings] change password failed",C),S(C.message||"Erreur lors de la mise \xE0 jour.","error")}finally{p&&(p.disabled=!1)}})}if(y){let k=y.querySelector("[data-site-name]"),p=y.querySelector("[data-site-language]"),S=y.querySelector("[data-site-tagline]"),P=y.querySelector("[data-site-save]"),q=(C,m="muted")=>{if(!f)return;let D=m==="success"?"text-emerald-600":m==="error"?"text-rose-600":"text-slate-500";f.textContent=C||"",f.className=`text-sm ${D}`},F=Se((G==null?void 0:G.slugValue)||Y.slug||""),M=F?`/api/sites/${encodeURIComponent(F)}/config/site`:null,R=async()=>{if(M)try{let C=await fetch(M,{headers:{Accept:"application/json"}});if(!C.ok)return;let m=await C.json().catch(()=>({}));k&&(k.value=m.name||""),p&&(p.value=m.language||"fr"),S&&(S.value=m.tagline||"")}catch(C){console.error("[settings] load site config failed",C)}};y.addEventListener("submit",async C=>{if(C.preventDefault(),!M){q("Aucun site actif.","error");return}if(!(k!=null&&k.value.trim())){q("Nom requis.","error");return}P&&(P.disabled=!0),q("");try{let m={name:(k==null?void 0:k.value)||"",language:(p==null?void 0:p.value)||"fr",tagline:(S==null?void 0:S.value)||""},D=await fetch(M,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)}),N=await D.json().catch(()=>({}));if(!D.ok||N.success===!1)throw new Error(N.message||"Sauvegarde impossible.");q(N.message||"Param\xE8tres enregistr\xE9s.","success")}catch(m){console.error("[settings] save site config failed",m),q(m.message||"Erreur lors de la sauvegarde.","error")}finally{P&&(P.disabled=!1)}}),R()}if(h){let k=Se((G==null?void 0:G.slugValue)||Y.slug||""),p=k?`/api/sites/${encodeURIComponent(k)}/config/theme`:null,S={primary:h.querySelector("[data-theme-primary]"),secondary:h.querySelector("[data-theme-secondary]"),accent:h.querySelector("[data-theme-accent]"),background:h.querySelector("[data-theme-background]"),text:h.querySelector("[data-theme-text]")},P=h.querySelector("[data-theme-headings]"),q=h.querySelector("[data-theme-body]"),F=h.querySelector("[data-theme-radius-small]"),M=h.querySelector("[data-theme-radius-medium]"),R=h.querySelector("[data-theme-radius-large]"),C=h.querySelector("[data-theme-preview]"),m=h.querySelector("[data-theme-feedback]"),D=h.querySelector("[data-theme-apply]"),N=["slate","gray","zinc","neutral","stone","red","orange","amber","yellow","lime","green","emerald","teal","cyan","sky","blue","indigo","violet","purple","fuchsia","pink","rose"],V=["50","100","200","300","400","500","600","700","800","900"],_=N.flatMap(b=>V.map(W=>`${b}-${W}`)),ce=()=>{Object.values(S).forEach(b=>{!b||b.options.length||_.forEach(W=>{let K=document.createElement("option");K.value=W;let[fe,ye]=W.split("-");K.textContent=`${fe.charAt(0).toUpperCase()+fe.slice(1)} ${ye}`,b.appendChild(K)})})},X=(b,W="muted")=>{if(!m)return;let K=W==="success"?"text-emerald-600":W==="error"?"text-rose-600":"text-slate-500";m.textContent=b||"",m.className=`text-sm ${K}`},pe=()=>{var W,K,fe,ye,oe;if(!C)return;let b=he=>{if(!he)return null;if(he==="white")return"#ffffff";if(he==="black")return"#000000";if(he==="transparent")return"transparent";let[re,Ae]=he.split("-");if(!re||!Ae)return null;let ne={slate:"#e2e8f0",gray:"#d1d5db",zinc:"#d4d4d8",neutral:"#d4d4d4",stone:"#d6d3d1",red:"#ef4444",orange:"#f97316",amber:"#f59e0b",yellow:"#eab308",lime:"#84cc16",green:"#22c55e",emerald:"#10b981",teal:"#14b8a6",cyan:"#06b6d4",sky:"#0ea5e9",blue:"#3b82f6",indigo:"#6366f1",violet:"#8b5cf6",purple:"#a855f7",fuchsia:"#d946ef",pink:"#ec4899",rose:"#f43f5e"}[re];if(!ne)return null;let E=Number(Ae)||500,We=Math.min(Math.max((E-50)/900,0),1),Le=Te=>Te.match(/[A-Fa-f0-9]{2}/g).map(mt=>parseInt(mt,16)),[Ke,Et,It]=Le(ne.replace("#","")),vt=Te=>Math.round(255-(255-Te)*We);return`rgb(${vt(Ke)}, ${vt(Et)}, ${vt(It)})`};C.style.setProperty("--color-primary",b((W=S.primary)==null?void 0:W.value)||"#9C6BFF"),C.style.setProperty("--color-secondary",b((K=S.secondary)==null?void 0:K.value)||"#0EA5E9"),C.style.setProperty("--color-accent",b((fe=S.accent)==null?void 0:fe.value)||"#F97316"),C.style.setProperty("--color-background",b((ye=S.background)==null?void 0:ye.value)||"#FFFFFF"),C.style.setProperty("--color-text",b((oe=S.text)==null?void 0:oe.value)||"#0F172A"),C.style.setProperty("--font-headings",(P==null?void 0:P.value)||"Inter, sans-serif"),C.style.setProperty("--font-body",(q==null?void 0:q.value)||"Inter, sans-serif"),C.style.setProperty("--radius-small",(F==null?void 0:F.value)||"8px"),C.style.setProperty("--radius-medium",(M==null?void 0:M.value)||"16px"),C.style.setProperty("--radius-large",(R==null?void 0:R.value)||"24px"),C.style.borderRadius=(M==null?void 0:M.value)||"16px"},H=(b,W)=>{S[b]&&(S[b].value=W)},xe=b=>{var ye,oe;if(!b)return;let W=b.options[b.selectedIndex],K=((ye=W==null?void 0:W.dataset)==null?void 0:ye.color)||"#ffffff",fe=(oe=b.closest(".relative"))==null?void 0:oe.querySelector("[data-color-preview]");fe&&(K==="transparent"?fe.style.background="repeating-conic-gradient(#ccc 0% 25%, white 0% 50%) 50% / 8px 8px":(fe.style.backgroundColor=K,fe.style.background=""))},T=()=>{Object.values(S).forEach(b=>{b&&(xe(b),b.addEventListener("change",()=>xe(b)))})};Object.keys(S).forEach(b=>{var W;(W=S[b])==null||W.addEventListener("change",pe)}),[P,q,F,M,R].forEach(b=>{b==null||b.addEventListener("change",pe)});let w=async()=>{var b,W,K,fe,ye,oe,he,re,Ae,Ct;if(p)try{let ne=await fetch(p,{headers:{Accept:"application/json"}});if(!ne.ok)return;let E=await ne.json().catch(()=>({}));H("primary",((b=E.colors)==null?void 0:b.primary)||"violet-500"),H("secondary",((W=E.colors)==null?void 0:W.secondary)||"indigo-400"),H("accent",((K=E.colors)==null?void 0:K.accent)||"emerald-500"),H("background",((fe=E.colors)==null?void 0:fe.background)||"slate-50"),H("text",((ye=E.colors)==null?void 0:ye.text)||"slate-900"),P&&(P.value=((oe=E.typography)==null?void 0:oe.headings)||"Inter, sans-serif"),q&&(q.value=((he=E.typography)==null?void 0:he.body)||"Inter, sans-serif"),F&&(F.value=((re=E.radius)==null?void 0:re.small)||"8px"),M&&(M.value=((Ae=E.radius)==null?void 0:Ae.medium)||"16px"),R&&(R.value=((Ct=E.radius)==null?void 0:Ct.large)||"24px"),pe(),Object.values(S).forEach(xe)}catch(ne){console.error("[settings] load theme failed",ne)}};ce(),T(),D==null||D.addEventListener("click",async b=>{var K,fe,ye,oe,he;if(b.preventDefault(),!p){X("Aucun site actif.","error");return}let W={colors:{primary:((K=S.primary)==null?void 0:K.value)||"violet-500",secondary:((fe=S.secondary)==null?void 0:fe.value)||"indigo-400",accent:((ye=S.accent)==null?void 0:ye.value)||"emerald-500",background:((oe=S.background)==null?void 0:oe.value)||"slate-50",text:((he=S.text)==null?void 0:he.value)||"slate-900"},typography:{headings:(P==null?void 0:P.value)||"Inter, sans-serif",body:(q==null?void 0:q.value)||"Inter, sans-serif"},radius:{small:(F==null?void 0:F.value)||"8px",medium:(M==null?void 0:M.value)||"16px",large:(R==null?void 0:R.value)||"24px"}};D.disabled=!0,X("");try{let re=await fetch(p,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(W)}),Ae=await re.json().catch(()=>({}));if(!re.ok||Ae.success===!1)throw new Error(Ae.message||"Application du th\xE8me \xE9chou\xE9e.");X(Ae.message||"Th\xE8me appliqu\xE9.","success"),pe()}catch(re){console.error("[settings] apply theme failed",re),X(re.message||"Erreur lors de l\u2019application du th\xE8me.","error")}finally{D.disabled=!1}}),ce(),T(),w(),pe()}let Z=document.querySelector("[data-seo-config-form]");if(Z){let k=Z.querySelector("[data-seo-index-all]"),p=Z.querySelector("[data-seo-config-feedback]"),S=Z.querySelector("[data-seo-save]"),P=Se((G==null?void 0:G.slugValue)||Y.slug||""),q=P?`/api/sites/${encodeURIComponent(P)}/config/site`:null,F=(R,C="muted")=>{if(!p)return;let m=C==="success"?"text-emerald-600":C==="error"?"text-rose-600":"text-slate-500";p.textContent=R||"",p.className=`text-sm ${m}`},M=async()=>{var R;if(q)try{let C=await fetch(q,{headers:{Accept:"application/json"}});if(!C.ok)return;let D=((R=(await C.json().catch(()=>({}))).seo)==null?void 0:R.indexAllPagesByDefault)!==!1;k&&(k.checked=D)}catch(C){console.error("[settings] load seo config failed",C)}};Z.addEventListener("submit",async R=>{var C;if(R.preventDefault(),!q){F("Aucun site actif.","error");return}S&&(S.disabled=!0),F("");try{let m=await fetch(q,{headers:{Accept:"application/json"}}),D=m.ok?await m.json().catch(()=>({})):{},N={...D,seo:{...D.seo||{},indexAllPagesByDefault:(C=k==null?void 0:k.checked)!=null?C:!0}},V=await fetch(q,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(N)}),_=await V.json().catch(()=>({}));if(!V.ok||_.success===!1)throw new Error(_.message||"Sauvegarde impossible.");F(_.message||"Param\xE8tres SEO enregistr\xE9s.","success")}catch(m){console.error("[settings] save seo config failed",m),F(m.message||"Erreur lors de la sauvegarde.","error")}finally{S&&(S.disabled=!1)}}),M()}let U=document.querySelector("[data-analytics-form]");if(U){let k=U.querySelector("[data-analytics-head]"),p=U.querySelector("[data-analytics-body]"),S=U.querySelector("[data-analytics-feedback]"),P=U.querySelector("[data-analytics-save]"),q=Se((G==null?void 0:G.slugValue)||Y.slug||""),F=q?`/api/sites/${encodeURIComponent(q)}/config/site`:null,M=(C,m="muted")=>{if(!S)return;let D=m==="success"?"text-emerald-600":m==="error"?"text-rose-600":"text-slate-500";S.textContent=C||"",S.className=`text-sm ${D}`},R=async()=>{var C,m;if(F)try{let D=await fetch(F,{headers:{Accept:"application/json"}});if(!D.ok)return;let N=await D.json().catch(()=>({}));k&&(k.value=((C=N.analytics)==null?void 0:C.headCode)||""),p&&(p.value=((m=N.analytics)==null?void 0:m.bodyEndCode)||"")}catch(D){console.error("[settings] load analytics config failed",D)}};U.addEventListener("submit",async C=>{if(C.preventDefault(),!F){M("Aucun site actif.","error");return}P&&(P.disabled=!0),M("");try{let m=await fetch(F,{headers:{Accept:"application/json"}}),N={...m.ok?await m.json().catch(()=>({})):{},analytics:{headCode:(k==null?void 0:k.value)||"",bodyEndCode:(p==null?void 0:p.value)||""}},V=await fetch(F,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(N)}),_=await V.json().catch(()=>({}));if(!V.ok||_.success===!1)throw new Error(_.message||"Sauvegarde impossible.");M(_.message||"Scripts enregistr\xE9s.","success")}catch(m){console.error("[settings] save analytics config failed",m),M(m.message||"Erreur lors de la sauvegarde.","error")}finally{P&&(P.disabled=!1)}}),R()}let Q=document.querySelector("[data-ai-config-form]");if(Q){let k=Q.querySelector("[data-ai-api-key]"),p=Q.querySelector("[data-ai-model]"),S=Q.querySelector("[data-ai-project-prompt]"),P=Q.querySelector("[data-ai-enabled]"),q=Q.querySelector("[data-ai-feedback]"),F=Q.querySelector("[data-ai-save]"),M=Se((G==null?void 0:G.slugValue)||Y.slug||""),R=M?`/api/sites/${encodeURIComponent(M)}/config/ai`:null,C=(D,N="muted")=>{if(!q)return;let V=N==="success"?"text-emerald-600":N==="error"?"text-rose-600":"text-slate-500";q.textContent=D||"",q.className=`text-sm ${V}`},m=async()=>{if(R)try{let D=await fetch(R,{headers:{Accept:"application/json"}});if(!D.ok)return;let N=await D.json().catch(()=>({}));k&&(k.value="",k.placeholder=N.hasApiKey?"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022":"Cl\xE9 API Gemini"),p&&(p.value=N.model||"gemini-2.5-flash"),S&&(S.value=N.projectPrompt||""),P&&(P.checked=N.enabled!==!1)}catch(D){console.error("[settings] load AI config failed",D)}};Q.addEventListener("submit",async D=>{var N,V;if(D.preventDefault(),!R){C("Aucun site actif.","error");return}F&&(F.disabled=!0),C("");try{let _={model:(p==null?void 0:p.value)||"gemini-2.5-flash",projectPrompt:(S==null?void 0:S.value)||"",enabled:(N=P==null?void 0:P.checked)!=null?N:!0},ce=(V=k==null?void 0:k.value)==null?void 0:V.trim();ce&&(_.apiKey=ce);let X=await fetch(R,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(_)}),pe=await X.json().catch(()=>({}));if(!X.ok||pe.success===!1)throw new Error(pe.message||"Sauvegarde impossible.");C(pe.message||"Configuration IA enregistr\xE9e.","success"),k&&(k.value="",k.placeholder="\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022")}catch(_){console.error("[settings] save AI config failed",_),C(_.message||"Erreur lors de la sauvegarde.","error")}finally{F&&(F.disabled=!1)}}),m()}}function vr(){let o=document.querySelector("[data-media-grid]");if(!o)return;let a=document.querySelector("[data-media-empty]"),d=document.querySelector("[data-media-count]"),y=document.querySelector("[data-media-filter-type]"),f=document.querySelector("[data-media-detail-empty]"),h=document.querySelector("[data-media-detail]"),z=document.querySelector("[data-media-detail-preview]"),Z=document.querySelector("[data-media-detail-name]"),U=document.querySelector("[data-media-detail-type]"),Q=document.querySelector("[data-media-detail-size]"),k=document.querySelector("[data-media-detail-path]"),p=document.querySelector("[data-media-detail-used]"),S=document.querySelector("[data-media-alt-edit]"),P=document.querySelector("[data-media-save]"),q=document.querySelector("[data-media-delete]"),F=document.querySelector("[data-media-delete-modal]"),M=document.querySelector("[data-media-delete-cancel]"),R=document.querySelector("[data-media-delete-confirm]"),C=document.querySelector("[data-media-upload-open]"),m=document.querySelector("[data-media-file-input]"),D=document.querySelector("[data-media-upload-status]"),N=Se((G==null?void 0:G.slugValue)||Y.slug||""),V=N?`/api/sites/${encodeURIComponent(N)}/media`:null,_=[],ce=[],X=null,pe=null,H=null,xe=!1,T=!1,w=!1,b=null,W=i=>{let A=(i.type||"").toLowerCase(),j=(i.filename||"").toLowerCase();return A.includes("image")||/\.(png|jpe?g|webp|svg|gif)$/i.test(j)?"image":A.includes("pdf")||A.includes("doc")||/\.(pdf|docx?)$/i.test(j)?"document":A.includes("video")||/\.(mp4|mov|webm)$/i.test(j)?"video":"other"},K=i=>W(i)==="image",fe=i=>{if(i.type)return i.type.toUpperCase();let A=(i.filename||"").split(".").pop();return A?A.toUpperCase():"FILE"},ye=i=>!i||i<=0?"\u2014":i<1024?`${i} o`:i<1024*1024?`${(i/1024).toFixed(1)} ko`:`${(i/(1024*1024)).toFixed(1)} Mo`,oe=()=>{h==null||h.classList.add("hidden"),f==null||f.classList.remove("hidden"),he(),X=null,T=!1,ne(!1),z&&(z.innerHTML='<span class="text-slate-400 text-sm">Aucun m\xE9dia s\xE9lectionn\xE9</span>'),Z&&(Z.textContent=""),U&&(U.textContent=""),Q&&(Q.textContent=""),S&&(S.value=""),k&&(k.textContent=""),p&&(p.innerHTML="")},he=()=>{H=null,w=!1,xe=!1,b&&(URL.revokeObjectURL(b),b=null),D&&(D.textContent="Aucun fichier s\xE9lectionn\xE9."),m&&(m.value="")},re=()=>{d&&(ce.length?ce.length===1?d.textContent="1 m\xE9dia":d.textContent=`${ce.length} m\xE9dias`:d.textContent="0 m\xE9dia")},Ae=()=>{if(o.innerHTML="",!ce.length){a==null||a.classList.remove("hidden"),oe();return}a==null||a.classList.add("hidden"),ce.forEach(i=>{let A=document.createElement("button");A.type="button",A.dataset.mediaId=i.id;let j=i.id===X;A.className=["group relative flex flex-col rounded-2xl border px-3 py-3 text-left transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[#9C6BFF]",j?"border-[#9C6BFF] bg-[#F7F0FF]/60 shadow-sm":"border-slate-200 hover:border-[#9C6BFF]/40"].join(" ");let J=K(i)?`<img src="${i.path}" alt="${i.alt||i.filename}" class="h-full w-full object-cover" />`:'<div class="flex h-full w-full items-center justify-center text-3xl text-slate-400">\u{1F4C4}</div>';A.innerHTML=`
          <div class="relative aspect-[4/3] overflow-hidden rounded-xl bg-slate-100">
            ${J}
          </div>
          <div class="mt-2 space-y-1">
            <p class="text-sm font-semibold text-slate-900 truncate">${i.filename}</p>
            <p class="text-xs text-slate-500">
              ${fe(i)} \xB7 ${ye(i.size)}
            </p>
          </div>
        `,i.id===pe&&(A.classList.add("ring-2","ring-[#9C6BFF]"),window.setTimeout(()=>{A.classList.remove("ring-2","ring-[#9C6BFF]")},1600)),A.addEventListener("click",()=>E(i.id)),o.appendChild(A)}),pe=null},Ct=i=>{if(p){if(p.innerHTML="",!i.usedIn||i.usedIn.length===0){let A=document.createElement("li");A.textContent="Non utilis\xE9",A.className="text-xs text-slate-400",p.appendChild(A);return}i.usedIn.forEach(A=>{let j=document.createElement("li");j.textContent=A,j.className="text-xs text-slate-600",p.appendChild(j)})}},ne=i=>{if(P){if(w){P.textContent=i?"T\xE9l\xE9versement\u2026":"T\xE9l\xE9verser",P.disabled=i||!H,q&&q.classList.add("hidden");return}P.textContent=i?"Enregistrement\u2026":"Enregistrer",P.disabled=i||!T,q&&(q.classList.remove("hidden"),q.disabled=!X)}},E=i=>{let A=_.find(j=>j.id===i);if(!A){oe(),Ae();return}he(),X=A.id,T=!1,ne(!1),Ae(),f==null||f.classList.add("hidden"),h==null||h.classList.remove("hidden"),z&&(K(A)?z.innerHTML=`<img src="${A.path}" alt="${A.alt||A.filename}" class="h-full w-full rounded-2xl object-cover" />`:z.innerHTML='<div class="flex h-full w-full flex-col items-center justify-center gap-1 text-slate-400"><span class="text-3xl">\u{1F4C4}</span><span class="text-xs font-semibold">Document</span></div>'),Z&&(Z.textContent=A.filename||"Fichier"),U&&(U.textContent=fe(A)),Q&&(Q.textContent=ye(A.size)),S&&(S.value=A.alt||""),k&&(k.textContent=A.path||"\u2014"),Ct(A)},We=i=>{if(i){if(w=!0,T=!1,X=null,f==null||f.classList.add("hidden"),h==null||h.classList.remove("hidden"),b&&URL.revokeObjectURL(b),b=URL.createObjectURL(i),z&&(z.innerHTML=`<img src="${b}" alt="${i.name}" class="h-full w-full rounded-2xl object-cover" />`),Z&&(Z.textContent=i.name),U&&(U.textContent=fe({type:i.type,filename:i.name})),Q&&(Q.textContent=ye(i.size)),S&&!S.value.trim()&&(S.value=i.name.replace(/\.[^.]+$/,"").replace(/[-_]/g," ")),k&&(k.textContent="En attente de t\xE9l\xE9versement"),p){p.innerHTML="";let A=document.createElement("li");A.textContent="Non utilis\xE9",A.className="text-xs text-slate-400",p.appendChild(A)}ne(!1)}},Le=()=>{let i=(y==null?void 0:y.value)||"all";i==="all"?ce=[..._]:ce=_.filter(A=>A.groupType===i),ce.some(A=>A.id===X)||oe(),re(),Ae()},Ke=async()=>{if(!V){a==null||a.classList.remove("hidden");return}try{let i=await fetch(V,{headers:{Accept:"application/json"}});if(!i.ok)throw new Error("Impossible de charger les m\xE9dias.");let A=await i.json().catch(()=>({items:[]}));_=Array.isArray(A.items)?A.items.map(j=>({...j,groupType:W(j)})):[],Le()}catch(i){console.error("[media] load failed",i),$(i.message||"Impossible de charger les m\xE9dias."),_=[],Le()}};y==null||y.addEventListener("change",()=>{Le()}),S==null||S.addEventListener("input",()=>{if(w){ne(!1);return}X&&(T=!0,ne(!1))});let Et=i=>{if(i){if(!i.type.startsWith("image/")){$("Seules les images sont accept\xE9es pour le moment.");return}if(i.size>4*1024*1024){$("Fichier trop volumineux (4 Mo max).");return}H=i,We(i),D&&(D.textContent=`${i.name} \xB7 ${ye(i.size)}`)}},It=i=>new Promise((A,j)=>{let J=new FileReader;J.onload=()=>{let yt=J.result||"",[,pt=""]=String(yt).split(",");A(pt)},J.onerror=()=>j(new Error("Impossible de lire ce fichier.")),J.readAsDataURL(i)}),vt=async()=>{if(!(!H||!V)){xe=!0,ne(!0);try{let i=await It(H),A={filename:H.name,type:H.type,size:H.size,alt:(S==null?void 0:S.value)||"",data:i},j=await fetch(V,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(A)});if(!j.ok){let yt=await j.json().catch(()=>({}));throw new Error(yt.message||"Upload impossible.")}let J=await j.json();J.groupType=W(J),_=[..._,J],pe=J.id,Le(),E(J.id),$("M\xE9dia ajout\xE9"),he()}catch(i){console.error("[media] upload failed",i),$(i.message||"Impossible de t\xE9l\xE9verser ce m\xE9dia.")}finally{xe=!1,H=null,ne(!1)}}};C==null||C.addEventListener("click",()=>m==null?void 0:m.click()),m==null||m.addEventListener("change",()=>{m.files&&m.files[0]&&Et(m.files[0])});let Te=()=>{F&&(F.classList.add("hidden"),F.classList.remove("flex"))},mt=()=>{if(!(!X||w)){if(F){F.classList.remove("hidden"),F.classList.add("flex");return}window.confirm("Supprimer ce m\xE9dia ?")&&de()}},de=async()=>{if(!X||!V){Te();return}let i=()=>{q&&(q.disabled=!0),R&&(R.disabled=!0,R.textContent="Suppression\u2026")},A=()=>{q&&(q.disabled=!1),R&&(R.disabled=!1,R.textContent="Supprimer")};i();try{let j=await fetch(`${V}/${encodeURIComponent(X)}`,{method:"DELETE"});if(!j.ok){let J=await j.json().catch(()=>({}));throw new Error(J.message||"Suppression impossible.")}_=_.filter(J=>J.id!==X),ce=ce.filter(J=>J.id!==X),$("M\xE9dia supprim\xE9"),oe(),re(),Ae()}catch(j){console.error("[media] delete failed",j),$(j.message||"Impossible de supprimer ce m\xE9dia.")}finally{A(),Te()}};M==null||M.addEventListener("click",Te),F==null||F.addEventListener("click",i=>{i.target===F&&Te()}),R==null||R.addEventListener("click",()=>de()),q==null||q.addEventListener("click",mt),P==null||P.addEventListener("click",async()=>{if(w){vt();return}if(!(!X||!V||!S)){ne(!0);try{let i={alt:S.value||""},A=await fetch(`${V}/${encodeURIComponent(X)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!A.ok){let J=await A.json().catch(()=>({}));throw new Error(J.message||"Impossible de mettre \xE0 jour ce m\xE9dia.")}let j=await A.json();_=_.map(J=>J.id===X?{...J,...j}:J),ce=ce.map(J=>J.id===X?{...J,...j}:J),T=!1,ne(!1),$("M\xE9dia mis \xE0 jour")}catch(i){console.error("[media] update failed",i),$(i.message||"\xC9chec de la mise \xE0 jour."),ne(!1)}}}),Ke()}let to=document.getElementById("ai-chat-toggle"),Xt=document.getElementById("ai-chat-panel"),Ge=document.getElementById("ai-chat-overlay"),so=document.getElementById("ai-chat-close"),oo=document.getElementById("ai-chat-clear"),ro=document.getElementById("ai-chat-form"),kt=document.getElementById("ai-chat-input"),ve=document.getElementById("ai-chat-messages"),mn=document.getElementById("ai-chat-status"),ut=document.getElementById("ai-chat-no-api"),yr=document.querySelectorAll("[data-ai-quick]"),Ts=!1,no=!1,$o=!1,br=!1;function xr(){Xt&&(Ts=!0,Xt.classList.remove("translate-x-full"),Xt.setAttribute("aria-hidden","false"),Ge==null||Ge.classList.remove("opacity-0","pointer-events-none"),Ge==null||Ge.classList.add("opacity-100"),document.body.classList.add("overflow-hidden"),kt==null||kt.focus(),$o||wr())}function $s(){Xt&&(Ts=!1,Xt.classList.add("translate-x-full"),Xt.setAttribute("aria-hidden","true"),Ge==null||Ge.classList.add("opacity-0","pointer-events-none"),Ge==null||Ge.classList.remove("opacity-100"),document.body.classList.remove("overflow-hidden"))}async function wr(){let o=Se(Y.slug||"");if(!o){ut==null||ut.classList.remove("hidden");return}try{let a=await fetch(`/api/sites/${encodeURIComponent(o)}/config/ai`);if(!a.ok)throw new Error("Config check failed");let d=await a.json();$o=!0,br=d.hasApiKey,!d.enabled||!d.hasApiKey?ut==null||ut.classList.remove("hidden"):(ut==null||ut.classList.add("hidden"),Sr())}catch(a){console.error("[AI] Config check failed:",a),ut==null||ut.classList.remove("hidden")}}async function Sr(){let o=Se(Y.slug||"");if(!(!o||!ve))try{let a=await fetch(`/api/sites/${encodeURIComponent(o)}/ai/history`);if(!a.ok)return;let d=await a.json();if(d.messages&&d.messages.length>0){let y=ve.querySelector("[data-ai-welcome]");y&&y.remove(),d.messages.forEach(f=>{Is(f.content,f.role==="user"?"user":"assistant")}),ve.scrollTop=ve.scrollHeight}}catch(a){console.error("[AI] History load failed:",a)}}function Is(o,a="assistant"){if(!ve)return;let d=document.createElement("div");if(d.className="flex gap-3",a==="user")d.innerHTML=`
        <div class="flex-1"></div>
        <div class="max-w-[80%] bg-violet-600 text-white rounded-2xl rounded-tr-none p-3">
          <p class="text-sm whitespace-pre-wrap">${tt(o)}</p>
        </div>
        <div class="w-8 h-8 rounded-full bg-slate-200 flex-shrink-0 flex items-center justify-center">
          <svg class="w-4 h-4 text-slate-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
          </svg>
        </div>
      `;else{let y=kr(o);d.innerHTML=`
        <div class="w-8 h-8 rounded-full bg-gradient-to-br from-violet-500 to-indigo-600 flex-shrink-0 flex items-center justify-center">
          <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
          </svg>
        </div>
        <div class="flex-1 bg-slate-50 rounded-2xl rounded-tl-none p-3 overflow-x-auto">
          <div class="text-sm text-slate-700 prose prose-sm max-w-none [&>pre]:bg-slate-800 [&>pre]:text-slate-100 [&>pre]:rounded-lg [&>pre]:p-3 [&>pre]:overflow-x-auto [&>code]:bg-slate-200 [&>code]:px-1 [&>code]:rounded">${y}</div>
        </div>
      `}ve.appendChild(d),ve.scrollTop=ve.scrollHeight}function Lr(){if(!ve)return;let o=document.createElement("div");o.className="flex gap-3",o.id="ai-loading-indicator",o.innerHTML=`
      <div class="w-8 h-8 rounded-full bg-gradient-to-br from-violet-500 to-indigo-600 flex-shrink-0 flex items-center justify-center">
        <svg class="w-4 h-4 text-white animate-pulse" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
        </svg>
      </div>
      <div class="flex-1 bg-slate-50 rounded-2xl rounded-tl-none p-3">
        <div class="flex items-center gap-2">
          <div class="w-2 h-2 bg-violet-400 rounded-full animate-bounce" style="animation-delay: 0ms"></div>
          <div class="w-2 h-2 bg-violet-400 rounded-full animate-bounce" style="animation-delay: 150ms"></div>
          <div class="w-2 h-2 bg-violet-400 rounded-full animate-bounce" style="animation-delay: 300ms"></div>
        </div>
      </div>
    `,ve.appendChild(o),ve.scrollTop=ve.scrollHeight}function Io(){let o=document.getElementById("ai-loading-indicator");o==null||o.remove()}function kr(o){if(!o)return"";let a=tt(o);return a=a.replace(/```(\w*)\n([\s\S]*?)```/g,(d,y,f)=>`<pre class="language-${y||"text"}"><code>${f.trim()}</code></pre>`),a=a.replace(/`([^`]+)`/g,"<code>$1</code>"),a=a.replace(/\*\*([^*]+)\*\*/g,"<strong>$1</strong>"),a=a.replace(/\*([^*]+)\*/g,"<em>$1</em>"),a=a.replace(/^### (.+)$/gm,'<h4 class="font-semibold text-slate-900 mt-3 mb-1">$1</h4>'),a=a.replace(/^## (.+)$/gm,'<h3 class="font-semibold text-slate-900 mt-3 mb-1">$1</h3>'),a=a.replace(/^# (.+)$/gm,'<h2 class="font-bold text-slate-900 mt-3 mb-2">$1</h2>'),a=a.replace(/^- (.+)$/gm,'<li class="ml-4">$1</li>'),a=a.replace(/^(\d+)\. (.+)$/gm,'<li class="ml-4">$2</li>'),a=a.replace(/\n\n/g,'</p><p class="mb-2">'),a='<p class="mb-2">'+a+"</p>",a=a.replace(/<p class="mb-2"><\/p>/g,""),a}function tt(o){let a=document.createElement("div");return a.textContent=o,a.innerHTML}async function Bo(o){let a=Se(Y.slug||"");if(!o||!a||no)return;no=!0,kt.disabled=!0;let d=ve==null?void 0:ve.querySelector("[data-ai-welcome]");d&&d.remove(),Is(o,"user"),Lr();try{let y=await fetch(`/api/sites/${encodeURIComponent(a)}/ai/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:o})});if(Io(),!y.ok){let h=await y.json().catch(()=>({}));throw new Error(h.message||"Erreur de communication")}let f=await y.json();f.response&&Is(f.response,"assistant"),f.editProposal&&Cr(f.editProposal),f.themeProposal&&Er(f.themeProposal)}catch(y){Io(),Is(`\u274C Erreur: ${y.message}`,"assistant")}finally{no=!1,kt.disabled=!1,kt.focus()}}function Cr(o){var y,f;if(!ve||!o)return;let a=document.createElement("div");a.className="flex gap-3 mt-2",a.dataset.proposalId=o.proposalId;let d="";if(o.changes&&(o.changes.title&&(d+=`<li>Titre \u2192 <strong>${tt(o.changes.title)}</strong></li>`),o.changes.description&&(d+=`<li>Description \u2192 ${tt(o.changes.description.substring(0,80))}...</li>`),o.changes.seo&&(o.changes.seo.metaTitle&&(d+=`<li>Meta title \u2192 ${tt(o.changes.seo.metaTitle)}</li>`),o.changes.seo.metaDescription&&(d+=`<li>Meta description \u2192 ${tt(o.changes.seo.metaDescription.substring(0,60))}...</li>`)),o.changes.blockUpdate&&(d+=`<li>Bloc "${o.changes.blockUpdate.blockId}" modifi\xE9</li>`,o.changes.blockUpdate.settings))){let h=o.changes.blockUpdate.settings;h.title&&(d+=`<li class="ml-4">\u2192 title: ${tt(h.title)}</li>`),h.content&&(d+='<li class="ml-4">\u2192 content modifi\xE9</li>')}a.innerHTML=`
      <div class="w-8 h-8 rounded-full bg-amber-500 flex-shrink-0 flex items-center justify-center">
        <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"/>
        </svg>
      </div>
      <div class="flex-1 bg-amber-50 border border-amber-200 rounded-2xl rounded-tl-none p-4">
        <div class="flex items-center gap-2 mb-2">
          <span class="text-xs font-semibold text-amber-700 bg-amber-100 px-2 py-0.5 rounded">Proposition d'\xE9dition</span>
        </div>
        <p class="text-sm font-medium text-slate-800 mb-1">Page : ${tt(o.pageTitle||o.pageId)}</p>
        ${o.reason?`<p class="text-sm text-slate-600 mb-2">${tt(o.reason)}</p>`:""}
        <ul class="text-xs text-slate-600 space-y-1 mb-3 list-disc ml-4">
          ${d||"<li>Modifications propos\xE9es</li>"}
        </ul>
        <div class="flex gap-2">
          <button 
            class="ai-apply-edit px-3 py-1.5 text-xs font-medium text-white bg-emerald-600 hover:bg-emerald-700 rounded-lg transition-colors flex items-center gap-1"
            data-proposal-id="${o.proposalId}"
          >
            <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
            </svg>
            Appliquer
          </button>
          <button 
            class="ai-reject-edit px-3 py-1.5 text-xs font-medium text-slate-600 bg-slate-100 hover:bg-slate-200 rounded-lg transition-colors flex items-center gap-1"
            data-proposal-id="${o.proposalId}"
          >
            <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
            </svg>
            Rejeter
          </button>
        </div>
      </div>
    `,ve.appendChild(a),ve.scrollTop=ve.scrollHeight,(y=a.querySelector(".ai-apply-edit"))==null||y.addEventListener("click",Tr),(f=a.querySelector(".ai-reject-edit"))==null||f.addEventListener("click",jo)}function Er(o){var f,h,z,Z;if(!ve||!o)return;let a=document.createElement("div");a.className="flex gap-3 mt-2",a.dataset.proposalId=o.proposalId;let d="";if((f=o.changes)!=null&&f.colors){let U=o.changes.colors;for(let[Q,k]of Object.entries(U))d+=`<li class="flex items-center gap-2">
          <span class="w-4 h-4 rounded border border-slate-300" style="background: ${qr(k)}"></span>
          <span>${Q}: <strong>${tt(k)}</strong></span>
        </li>`}let y="";if((h=o.changes)!=null&&h.typography){let U=o.changes.typography;U.headings&&(y+=`<li>Titres \u2192 <strong>${tt(U.headings)}</strong></li>`),U.body&&(y+=`<li>Textes \u2192 <strong>${tt(U.body)}</strong></li>`)}a.innerHTML=`
      <div class="w-8 h-8 rounded-full bg-purple-500 flex-shrink-0 flex items-center justify-center">
        <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"/>
        </svg>
      </div>
      <div class="flex-1 bg-purple-50 border border-purple-200 rounded-2xl rounded-tl-none p-4">
        <div class="flex items-center gap-2 mb-2">
          <span class="text-xs font-semibold text-purple-700 bg-purple-100 px-2 py-0.5 rounded">Modification du th\xE8me</span>
        </div>
        ${o.reason?`<p class="text-sm text-slate-600 mb-3">${tt(o.reason)}</p>`:""}
        ${d?`
          <p class="text-xs font-medium text-slate-700 mb-1">Couleurs :</p>
          <ul class="text-xs text-slate-600 space-y-1 mb-3">${d}</ul>
        `:""}
        ${y?`
          <p class="text-xs font-medium text-slate-700 mb-1">Typographies :</p>
          <ul class="text-xs text-slate-600 space-y-1 mb-3 list-disc ml-4">${y}</ul>
        `:""}
        <div class="flex gap-2">
          <button 
            class="ai-apply-theme px-3 py-1.5 text-xs font-medium text-white bg-purple-600 hover:bg-purple-700 rounded-lg transition-colors flex items-center gap-1"
            data-proposal-id="${o.proposalId}"
          >
            <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
            </svg>
            Appliquer
          </button>
          <button 
            class="ai-reject-theme px-3 py-1.5 text-xs font-medium text-slate-600 bg-slate-100 hover:bg-slate-200 rounded-lg transition-colors flex items-center gap-1"
            data-proposal-id="${o.proposalId}"
          >
            <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
            </svg>
            Rejeter
          </button>
        </div>
      </div>
    `,ve.appendChild(a),ve.scrollTop=ve.scrollHeight,(z=a.querySelector(".ai-apply-theme"))==null||z.addEventListener("click",Ar),(Z=a.querySelector(".ai-reject-theme"))==null||Z.addEventListener("click",jo)}function qr(o){return{white:"#ffffff",black:"#000000",transparent:"transparent","slate-50":"#f8fafc","slate-100":"#f1f5f9","slate-200":"#e2e8f0","slate-300":"#cbd5e1","slate-400":"#94a3b8","slate-500":"#64748b","slate-600":"#475569","slate-700":"#334155","slate-800":"#1e293b","slate-900":"#0f172a","gray-50":"#f9fafb","gray-100":"#f3f4f6","gray-200":"#e5e7eb","gray-300":"#d1d5db","gray-400":"#9ca3af","gray-500":"#6b7280","gray-600":"#4b5563","gray-700":"#374151","gray-800":"#1f2937","gray-900":"#111827","violet-50":"#f5f3ff","violet-100":"#ede9fe","violet-200":"#ddd6fe","violet-300":"#c4b5fd","violet-400":"#a78bfa","violet-500":"#8b5cf6","violet-600":"#7c3aed","violet-700":"#6d28d9","violet-800":"#5b21b6","violet-900":"#4c1d95","purple-50":"#faf5ff","purple-100":"#f3e8ff","purple-200":"#e9d5ff","purple-300":"#d8b4fe","purple-400":"#c084fc","purple-500":"#a855f7","purple-600":"#9333ea","purple-700":"#7e22ce","purple-800":"#6b21a8","purple-900":"#581c87","blue-50":"#eff6ff","blue-100":"#dbeafe","blue-200":"#bfdbfe","blue-300":"#93c5fd","blue-400":"#60a5fa","blue-500":"#3b82f6","blue-600":"#2563eb","blue-700":"#1d4ed8","blue-800":"#1e40af","blue-900":"#1e3a8a","emerald-50":"#ecfdf5","emerald-100":"#d1fae5","emerald-200":"#a7f3d0","emerald-300":"#6ee7b7","emerald-400":"#34d399","emerald-500":"#10b981","emerald-600":"#059669","emerald-700":"#047857","emerald-800":"#065f46","emerald-900":"#064e3b","teal-50":"#f0fdfa","teal-100":"#ccfbf1","teal-200":"#99f6e4","teal-300":"#5eead4","teal-400":"#2dd4bf","teal-500":"#14b8a6","teal-600":"#0d9488","teal-700":"#0f766e","teal-800":"#115e59","teal-900":"#134e4a","amber-50":"#fffbeb","amber-100":"#fef3c7","amber-200":"#fde68a","amber-300":"#fcd34d","amber-400":"#fbbf24","amber-500":"#f59e0b","amber-600":"#d97706","amber-700":"#b45309","amber-800":"#92400e","amber-900":"#78350f","red-50":"#fef2f2","red-100":"#fee2e2","red-200":"#fecaca","red-300":"#fca5a5","red-400":"#f87171","red-500":"#ef4444","red-600":"#dc2626","red-700":"#b91c1c","red-800":"#991b1b","red-900":"#7f1d1d"}[o]||"#9C6BFF"}async function Ar(o){var f;let a=(f=o.target.closest("[data-proposal-id]"))==null?void 0:f.dataset.proposalId,d=Se(Y.slug||"");if(!a||!d)return;let y=o.target.closest("button");y.disabled=!0,y.innerHTML='<span class="animate-spin">\u23F3</span> Application...';try{let h=await fetch(`/api/sites/${encodeURIComponent(d)}/ai/apply-theme`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({proposalId:a})}),z=await h.json();if(h.ok&&z.success){let Z=document.querySelector(`[data-proposal-id="${a}"]`);Z&&(Z.innerHTML=`
            <div class="w-8 h-8 rounded-full bg-purple-500 flex-shrink-0 flex items-center justify-center">
              <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
              </svg>
            </div>
            <div class="flex-1 bg-purple-50 border border-purple-200 rounded-2xl rounded-tl-none p-3">
              <p class="text-sm text-purple-700">\u2705 Th\xE8me mis \xE0 jour avec succ\xE8s !</p>
              <p class="text-xs text-purple-600 mt-1">Rechargez la preview pour voir les changements.</p>
            </div>
          `),$("Th\xE8me mis \xE0 jour !"),document.dispatchEvent(new CustomEvent("ai-theme-updated",{detail:{updatedTheme:z.updatedTheme}}))}else throw new Error(z.message||"Erreur lors de l'application")}catch(h){y.disabled=!1,y.innerHTML='<svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg> R\xE9essayer',$(`Erreur: ${h.message}`)}}async function Tr(o){var f,h;let a=(f=o.target.closest("[data-proposal-id]"))==null?void 0:f.dataset.proposalId,d=Se(Y.slug||"");if(!a||!d)return;let y=o.target.closest("button");y.disabled=!0,y.innerHTML='<span class="animate-spin">\u23F3</span> Application...';try{let z=await fetch(`/api/sites/${encodeURIComponent(d)}/ai/apply-edit`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({proposalId:a})}),Z=await z.json();if(z.ok&&Z.success){let U=document.querySelector(`[data-proposal-id="${a}"]`);U&&(U.innerHTML=`
            <div class="w-8 h-8 rounded-full bg-emerald-500 flex-shrink-0 flex items-center justify-center">
              <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
              </svg>
            </div>
            <div class="flex-1 bg-emerald-50 border border-emerald-200 rounded-2xl rounded-tl-none p-3">
              <p class="text-sm text-emerald-700">\u2705 Modifications appliqu\xE9es avec succ\xE8s !</p>
              <p class="text-xs text-emerald-600 mt-1">La preview se met \xE0 jour automatiquement.</p>
            </div>
          `),$("Modifications appliqu\xE9es !");let Q=((h=Z.updatedPage)==null?void 0:h.id)||null;document.dispatchEvent(new CustomEvent("ai-page-updated",{detail:{pageId:Q,updatedPage:Z.updatedPage}}))}else throw new Error(Z.message||"Erreur lors de l'application")}catch(z){y.disabled=!1,y.innerHTML='<svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg> R\xE9essayer',$(`Erreur: ${z.message}`)}}async function jo(o){var y;let a=(y=o.target.closest("[data-proposal-id]"))==null?void 0:y.dataset.proposalId,d=Se(Y.slug||"");if(!(!a||!d))try{await fetch(`/api/sites/${encodeURIComponent(d)}/ai/proposal/${a}`,{method:"DELETE"});let f=document.querySelector(`[data-proposal-id="${a}"]`);f&&(f.innerHTML=`
          <div class="w-8 h-8 rounded-full bg-slate-400 flex-shrink-0 flex items-center justify-center">
            <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
            </svg>
          </div>
          <div class="flex-1 bg-slate-100 rounded-2xl rounded-tl-none p-3">
            <p class="text-sm text-slate-500">Proposition rejet\xE9e.</p>
          </div>
        `)}catch(f){console.error("[AI] Reject edit error:",f)}}async function $r(){let o=Se(Y.slug||"");if(!(!o||!ve))try{await fetch(`/api/sites/${encodeURIComponent(o)}/ai/history`,{method:"DELETE"}),ve.innerHTML="",ve.innerHTML=`
        <div class="flex gap-3" data-ai-welcome>
          <div class="w-8 h-8 rounded-full bg-gradient-to-br from-violet-500 to-indigo-600 flex-shrink-0 flex items-center justify-center">
            <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
            </svg>
          </div>
          <div class="flex-1 bg-slate-50 rounded-2xl rounded-tl-none p-3">
            <p class="text-sm text-slate-700">
              Salut ! \u{1F44B} Je suis ton assistant IA pour ce site. Je peux t'aider \xE0 :
            </p>
            <ul class="mt-2 text-sm text-slate-600 space-y-1">
              <li>\u{1F3A8} Sugg\xE9rer des palettes de couleurs</li>
              <li>\u270D\uFE0F G\xE9n\xE9rer du contenu pour tes blocs</li>
              <li>\u{1F4C4} Cr\xE9er des structures de pages</li>
              <li>\u{1F50D} Am\xE9liorer ton SEO</li>
              <li>\u270F\uFE0F <strong>Analyser et modifier tes pages</strong> (avec validation)</li>
            </ul>
          </div>
        </div>
      `,$("Historique effac\xE9")}catch(a){console.error("[AI] Clear history failed:",a),$("Erreur lors de l'effacement")}}let Ir={colors:"Sugg\xE8re-moi 3 palettes de couleurs harmonieuses pour mon site. Pour chaque palette, donne les couleurs Tailwind: primary, secondary, accent, et background.",hero:"G\xE9n\xE8re un bloc Hero en JSON avec un titre accrocheur, un sous-titre engageant et un CTA.",seo:"Analyse mon site et sugg\xE8re des am\xE9liorations SEO pour le meta title et la meta description de ma page d'accueil.",landing:"G\xE9n\xE8re la structure JSON d'une landing page compl\xE8te avec: Hero, 3 sections de contenu, et un CTA final.",analyze:"Analyse le contenu de toutes mes pages et propose des am\xE9liorations concr\xE8tes. Pour chaque suggestion d'am\xE9lioration de texte ou de structure, utilise le format propose-edit pour que je puisse valider.",improveHome:"Analyse ma page d'accueil et propose une am\xE9lioration du titre ou du Hero pour le rendre plus impactant. Utilise le format propose-edit."};to==null||to.addEventListener("click",()=>{Ts?$s():xr()}),so==null||so.addEventListener("click",$s),Ge==null||Ge.addEventListener("click",$s),oo==null||oo.addEventListener("click",()=>{confirm("Effacer tout l'historique de conversation ?")&&$r()}),ro==null||ro.addEventListener("submit",o=>{var d;o.preventDefault();let a=(d=kt==null?void 0:kt.value)==null?void 0:d.trim();a&&(kt.value="",Bo(a))}),yr.forEach(o=>{o.addEventListener("click",()=>{let a=o.dataset.aiQuick,d=Ir[a];d&&Bo(d)})}),document.addEventListener("keydown",o=>{o.key==="Escape"&&Ts&&$s()})});})();
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vY29yZS9zY3JpcHRzL2FkbWluLmpzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuICBjb25zb2xlLmxvZygnW2FkbWluXSBBdGVsaWVyIGNoYXJnXHUwMEU5Jyk7XG4gIGNvbnN0IGxvZ291dEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWxvZ291dF0nKTtcbiAgaWYgKGxvZ291dEJ1dHRvbikge1xuICAgIGxvZ291dEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGxvZ291dEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBmZXRjaCgnL2FwaS9sb2dvdXQnLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbYWRtaW5dIEltcG9zc2libGUgZGUgc2UgZFx1MDBFOWNvbm5lY3RlcicsIGVycik7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvYWRtaW4vaW5kZXguaHRtbCc7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBjb25zdCBzaWRlYmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRtaW4tc2lkZWJhcl0nKTtcbiAgY29uc3Qgc2lkZWJhck92ZXJsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZG1pbi1zaWRlYmFyLW92ZXJsYXldJyk7XG4gIGNvbnN0IHNpZGViYXJUb2dnbGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYWRtaW4tc2lkZWJhci10b2dnbGVdJyk7XG4gIGNvbnN0IHNpZGViYXJDbG9zZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1hZG1pbi1zaWRlYmFyLWNsb3NlXScpO1xuICBjb25zdCBib2R5ID0gZG9jdW1lbnQuYm9keTtcbiAgbGV0IHNpZGViYXJPcGVuID0gZmFsc2U7XG5cbiAgY29uc3QgYXBwbHlTaWRlYmFyU3RhdGUgPSAoKSA9PiB7XG4gICAgaWYgKCFzaWRlYmFyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGlzRGVza3RvcCA9IHdpbmRvdy5tYXRjaE1lZGlhKCcobWluLXdpZHRoOiAxMDI0cHgpJykubWF0Y2hlcztcbiAgICBpZiAoaXNEZXNrdG9wKSB7XG4gICAgICBzaWRlYmFyLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgc2lkZWJhck92ZXJsYXk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHNpZGViYXJPcGVuKSB7XG4gICAgICBzaWRlYmFyLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgc2lkZWJhck92ZXJsYXk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgYm9keS5jbGFzc0xpc3QuYWRkKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2lkZWJhci5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIHNpZGViYXJPdmVybGF5Py5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnb3ZlcmZsb3ctaGlkZGVuJyk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IG9wZW5TaWRlYmFyID0gKCkgPT4ge1xuICAgIHNpZGViYXJPcGVuID0gdHJ1ZTtcbiAgICBhcHBseVNpZGViYXJTdGF0ZSgpO1xuICB9O1xuXG4gIGNvbnN0IGNsb3NlU2lkZWJhciA9ICgpID0+IHtcbiAgICBzaWRlYmFyT3BlbiA9IGZhbHNlO1xuICAgIGFwcGx5U2lkZWJhclN0YXRlKCk7XG4gIH07XG5cbiAgaWYgKHNpZGViYXIgJiYgc2lkZWJhclRvZ2dsZXMubGVuZ3RoID4gMCkge1xuICAgIHNpZGViYXJUb2dnbGVzLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlblNpZGViYXIpO1xuICAgIH0pO1xuICAgIHNpZGViYXJDbG9zZUJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZVNpZGViYXIpO1xuICAgIH0pO1xuICAgIHNpZGViYXJPdmVybGF5Py5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlU2lkZWJhcik7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGFwcGx5U2lkZWJhclN0YXRlKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VzY2FwZScgJiYgc2lkZWJhck9wZW4pIHtcbiAgICAgICAgY2xvc2VTaWRlYmFyKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgYXBwbHlTaWRlYmFyU3RhdGUoKTtcbiAgfVxuXG4gIGNvbnN0IEFDVElWRV9TSVRFX0tFWSA9ICdjbG93ZXI6Y3VycmVudFNpdGUnO1xuICBjb25zdCBBQ1RJVkVfU0lURV9OQU1FX0tFWSA9ICdjbG93ZXI6Y3VycmVudFNpdGVOYW1lJztcbiAgY29uc3Qgc3RvcmVkU2l0ZSA9IHsgc2x1ZzogbnVsbCwgbmFtZTogJycgfTtcbiAgY29uc3QgbG9hZFN0b3JlZFNpdGUgPSAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHN0b3JlZFNpdGUuc2x1ZyA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShBQ1RJVkVfU0lURV9LRVkpO1xuICAgICAgc3RvcmVkU2l0ZS5uYW1lID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKEFDVElWRV9TSVRFX05BTUVfS0VZKSB8fCAnJztcbiAgICB9IGNhdGNoIHtcbiAgICAgIHN0b3JlZFNpdGUuc2x1ZyA9IG51bGw7XG4gICAgICBzdG9yZWRTaXRlLm5hbWUgPSAnJztcbiAgICB9XG4gIH07XG4gIGxvYWRTdG9yZWRTaXRlKCk7XG5cbiAgY29uc3Qgc2l0ZUNhcmRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtc2l0ZS1jYXJkXScpO1xuICBjb25zdCBzaXRlU2VsZWN0QnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXNpdGUtc2VsZWN0XScpO1xuICBjb25zdCBzaXRlTmFtZUxhYmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY3VycmVudC1zaXRlLW5hbWVdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZVNpdGVMYWJlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXdvcmtzcGFjZS1zaXRlLW5hbWVdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZUJhY2tOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtd29ya3NwYWNlLWJhY2stbmFtZV0nKTtcbiAgY29uc3Qgd29ya3NwYWNlQmFja01vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtd29ya3NwYWNlLWJhY2stbW9kYWxdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZUJhY2tCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtd29ya3NwYWNlLWJhY2tdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZUJhY2tDYW5jZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS13b3Jrc3BhY2UtYmFjay1jYW5jZWxdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZUJhY2tDb25maXJtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtd29ya3NwYWNlLWJhY2stY29uZmlybV0nKTtcbiAgY29uc3Qgd29ya3NwYWNlTmF2TGlua3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS13b3Jrc3BhY2UtdGFiXScpO1xuICBjb25zdCBzaXRlVG9hc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLXRvYXN0XScpO1xuICBjb25zdCBzaXRlVG9hc3RNZXNzYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS10b2FzdC1tZXNzYWdlXScpO1xuICBjb25zdCBzaXRlQ3JlYXRlQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXNpdGUtY3JlYXRlXScpO1xuICBjb25zdCBzaXRlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLW1vZGFsXScpO1xuICBjb25zdCBzaXRlRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtZm9ybV0nKTtcbiAgLy8gVXNlIG1vcmUgc3BlY2lmaWMgc2VsZWN0b3JzIHRvIGdldCBpbnB1dHMgSU5TSURFIHRoZSBmb3JtLCBub3Qgc2l0ZSBjYXJkc1xuICBjb25zdCBzaXRlTmFtZUlucHV0ID0gc2l0ZUZvcm0/LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9XCJzaXRlTmFtZVwiXScpO1xuICBjb25zdCBzaXRlU2x1Z0lucHV0ID0gc2l0ZUZvcm0/LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9XCJzaXRlU2x1Z1wiXScpO1xuICBjb25zdCBzaXRlU2x1Z0Vycm9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS1zbHVnLWVycm9yXScpO1xuICBjb25zdCBzaXRlTW9kYWxFcnJvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtbW9kYWwtZXJyb3JdJyk7XG4gIGNvbnN0IHNpdGVNb2RhbENhbmNlbEJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1zaXRlLW1vZGFsLWNhbmNlbF0nKTtcbiAgY29uc3Qgc2l0ZU1vZGFsU3VibWl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS1tb2RhbC1zdWJtaXRdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZUNvbnRleHQgPSBnZXRXb3Jrc3BhY2VDb250ZXh0KCk7XG4gIGxldCBzbHVnTWFudWFsbHlFZGl0ZWQgPSBmYWxzZTtcbiAgbGV0IGxhc3RGb2N1c2VkRWxlbWVudCA9IG51bGw7XG4gIGxldCB0b2FzdFRpbWVvdXRJZCA9IG51bGw7XG5cbiAgY29uc3QgZm9jdXNhYmxlU2VsZWN0b3IgPVxuICAgICdhW2hyZWZdLCBidXR0b246bm90KFtkaXNhYmxlZF0pLCB0ZXh0YXJlYSwgaW5wdXQsIHNlbGVjdCwgW3RhYmluZGV4XTpub3QoW3RhYmluZGV4PVwiLTFcIl0pJztcbiAgY29uc3QgdHJhcEZvY3VzID0gKGV2ZW50KSA9PiB7XG4gICAgaWYgKCFzaXRlTW9kYWwgfHwgc2l0ZU1vZGFsLmNsYXNzTGlzdC5jb250YWlucygnaGlkZGVuJykgfHwgZXZlbnQua2V5ICE9PSAnVGFiJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBmb2N1c2FibGVFbGVtZW50cyA9IEFycmF5LmZyb20oc2l0ZU1vZGFsLnF1ZXJ5U2VsZWN0b3JBbGwoZm9jdXNhYmxlU2VsZWN0b3IpKS5maWx0ZXIoXG4gICAgICAoZWwpID0+ICFlbC5oYXNBdHRyaWJ1dGUoJ2Rpc2FibGVkJykgJiYgIWVsLmdldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nKSxcbiAgICApO1xuICAgIGlmIChmb2N1c2FibGVFbGVtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZmlyc3QgPSBmb2N1c2FibGVFbGVtZW50c1swXTtcbiAgICBjb25zdCBsYXN0ID0gZm9jdXNhYmxlRWxlbWVudHNbZm9jdXNhYmxlRWxlbWVudHMubGVuZ3RoIC0gMV07XG4gICAgaWYgKGV2ZW50LnNoaWZ0S2V5KSB7XG4gICAgICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gZmlyc3QpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgbGFzdC5mb2N1cygpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gbGFzdCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGZpcnN0LmZvY3VzKCk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHNob3dUb2FzdCA9IChtZXNzYWdlKSA9PiB7XG4gICAgaWYgKCFzaXRlVG9hc3QgfHwgIXNpdGVUb2FzdE1lc3NhZ2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2l0ZVRvYXN0TWVzc2FnZS50ZXh0Q29udGVudCA9IG1lc3NhZ2U7XG4gICAgc2l0ZVRvYXN0LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgIGlmICh0b2FzdFRpbWVvdXRJZCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRvYXN0VGltZW91dElkKTtcbiAgICB9XG4gICAgdG9hc3RUaW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHNpdGVUb2FzdC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICB9LCAyNTAwKTtcbiAgfTtcblxuICBmdW5jdGlvbiBlbnN1cmVMZWFkaW5nU2xhc2goc2x1Zykge1xuICAgIGlmICghc2x1Zykge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICByZXR1cm4gc2x1Zy5zdGFydHNXaXRoKCcvJykgPyBzbHVnIDogYC8ke3NsdWd9YDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHN0cmlwTGVhZGluZ1NsYXNoKHNsdWcpIHtcbiAgICByZXR1cm4gc2x1Zz8ucmVwbGFjZSgvXlxcLy8sICcnKSB8fCAnJztcbiAgfVxuXG4gIGNvbnN0IHBlcnNpc3RTaXRlU3RhdGUgPSAoc2x1ZywgbmFtZSkgPT4ge1xuICAgIGNvbnN0IG5vcm1hbGl6ZWRTbHVnID0gc2x1ZyA/IGVuc3VyZUxlYWRpbmdTbGFzaChzbHVnKSA6IG51bGw7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChub3JtYWxpemVkU2x1Zykge1xuICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oQUNUSVZFX1NJVEVfS0VZLCBub3JtYWxpemVkU2x1Zyk7XG4gICAgICAgIHN0b3JlZFNpdGUuc2x1ZyA9IG5vcm1hbGl6ZWRTbHVnO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBuYW1lID09PSAnc3RyaW5nJyAmJiBuYW1lLmxlbmd0aCA+IDApIHtcbiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKEFDVElWRV9TSVRFX05BTUVfS0VZLCBuYW1lKTtcbiAgICAgICAgc3RvcmVkU2l0ZS5uYW1lID0gbmFtZTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIHtcbiAgICAgIHN0b3JlZFNpdGUuc2x1ZyA9IG5vcm1hbGl6ZWRTbHVnIHx8IHN0b3JlZFNpdGUuc2x1ZztcbiAgICAgIHN0b3JlZFNpdGUubmFtZSA9IG5hbWUgfHwgc3RvcmVkU2l0ZS5uYW1lO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCB1cGRhdGVTaXRlTGFiZWxzID0gKG5hbWUpID0+IHtcbiAgICBpZiAoc2l0ZU5hbWVMYWJlbCAmJiBuYW1lKSB7XG4gICAgICBzaXRlTmFtZUxhYmVsLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICB9XG4gICAgaWYgKHdvcmtzcGFjZVNpdGVMYWJlbCAmJiBuYW1lKSB7XG4gICAgICB3b3Jrc3BhY2VTaXRlTGFiZWwudGV4dENvbnRlbnQgPSBuYW1lO1xuICAgIH1cbiAgICBpZiAod29ya3NwYWNlQmFja05hbWUgJiYgbmFtZSkge1xuICAgICAgd29ya3NwYWNlQmFja05hbWUudGV4dENvbnRlbnQgPSBuYW1lO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCB1cGRhdGVXb3Jrc3BhY2VOYXZMaW5rcyA9IChzbHVnKSA9PiB7XG4gICAgd29ya3NwYWNlTmF2TGlua3MuZm9yRWFjaCgobGluaykgPT4ge1xuICAgICAgY29uc3QgdGFiID0gbGluay5kYXRhc2V0LndvcmtzcGFjZVRhYjtcbiAgICAgIGlmICghdGFiKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghc2x1Zykge1xuICAgICAgICBsaW5rLmhyZWYgPSAnIyc7XG4gICAgICAgIGxpbmsuY2xhc3NMaXN0LmFkZCgncG9pbnRlci1ldmVudHMtbm9uZScsICdvcGFjaXR5LTUwJywgJ3RleHQtc2xhdGUtNDAwJyk7XG4gICAgICAgIGxpbmsuc2V0QXR0cmlidXRlKCdhcmlhLWRpc2FibGVkJywgJ3RydWUnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3Qgc2x1Z1BhdGggPSBlbmNvZGVVUklDb21wb25lbnQoc3RyaXBMZWFkaW5nU2xhc2goc2x1ZykpO1xuICAgICAgbGluay5ocmVmID0gYC9hZG1pbi9zaXRlLyR7c2x1Z1BhdGh9LyR7dGFifWA7XG4gICAgICBsaW5rLmNsYXNzTGlzdC5yZW1vdmUoJ3BvaW50ZXItZXZlbnRzLW5vbmUnLCAnb3BhY2l0eS01MCcsICd0ZXh0LXNsYXRlLTQwMCcpO1xuICAgICAgbGluay5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtZGlzYWJsZWQnKTtcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBhcHBseUFjdGl2ZVNpdGUgPSAoc2x1Zywgb3B0aW9ucyA9IHt9KSA9PiB7XG4gICAgaWYgKCFzbHVnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG5vcm1hbGl6ZWRTbHVnID0gZW5zdXJlTGVhZGluZ1NsYXNoKHNsdWcpO1xuICAgIGxldCBhY3RpdmVTaXRlTmFtZSA9XG4gICAgICBvcHRpb25zLnNpdGVOYW1lIHx8IHN0b3JlZFNpdGUubmFtZSB8fCBzaXRlTmFtZUxhYmVsPy5kYXRhc2V0LmRlZmF1bHRTaXRlTmFtZSB8fCAnJztcbiAgICBzaXRlQ2FyZHMuZm9yRWFjaCgoY2FyZCkgPT4ge1xuICAgICAgY29uc3QgY2FyZFNsdWcgPSBlbnN1cmVMZWFkaW5nU2xhc2goY2FyZC5kYXRhc2V0LnNpdGVDYXJkIHx8ICcnKTtcbiAgICAgIGNvbnN0IGlzQWN0aXZlID0gY2FyZFNsdWcgPT09IG5vcm1hbGl6ZWRTbHVnO1xuICAgICAgY29uc3QgYmFkZ2UgPSBjYXJkLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtYWN0aXZlLWJhZGdlXScpO1xuICAgICAgaWYgKGlzQWN0aXZlKSB7XG4gICAgICAgIGNhcmQuY2xhc3NMaXN0LmFkZCgnYm9yZGVyLVsjOUM2QkZGXScsICdyaW5nLTInLCAncmluZy1bIzlDNkJGRl0nLCAnc2hhZG93LW1kJyk7XG4gICAgICAgIGNhcmQuY2xhc3NMaXN0LnJlbW92ZSgnYm9yZGVyLXNsYXRlLTIwMCcpO1xuICAgICAgICBiYWRnZT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIGFjdGl2ZVNpdGVOYW1lID0gY2FyZC5kYXRhc2V0LnNpdGVOYW1lIHx8IGFjdGl2ZVNpdGVOYW1lO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FyZC5jbGFzc0xpc3QucmVtb3ZlKCdib3JkZXItWyM5QzZCRkZdJywgJ3JpbmctMicsICdyaW5nLVsjOUM2QkZGXScsICdzaGFkb3ctbWQnKTtcbiAgICAgICAgY2FyZC5jbGFzc0xpc3QuYWRkKCdib3JkZXItc2xhdGUtMjAwJyk7XG4gICAgICAgIGJhZGdlPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAob3B0aW9ucy5wZXJzaXN0ICE9PSBmYWxzZSkge1xuICAgICAgcGVyc2lzdFNpdGVTdGF0ZShub3JtYWxpemVkU2x1Zywgb3B0aW9ucy5zaXRlTmFtZSB8fCBhY3RpdmVTaXRlTmFtZSk7XG4gICAgfVxuICAgIGNvbnN0IGZpbmFsTmFtZSA9IG9wdGlvbnMuc2l0ZU5hbWUgfHwgYWN0aXZlU2l0ZU5hbWU7XG4gICAgdXBkYXRlU2l0ZUxhYmVscyhmaW5hbE5hbWUpO1xuICAgIHVwZGF0ZVdvcmtzcGFjZU5hdkxpbmtzKG5vcm1hbGl6ZWRTbHVnKTtcbiAgfTtcblxuICBjb25zdCBzZWxlY3RTaXRlID0gYXN5bmMgKHNsdWcsIG5hbWUpID0+IHtcbiAgICBjb25zdCBub3JtYWxpemVkU2x1ZyA9IGVuc3VyZUxlYWRpbmdTbGFzaChzbHVnKTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9zaXRlcy9zZWxlY3QnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBzbHVnOiBub3JtYWxpemVkU2x1ZyB9KSxcbiAgICAgIH0pO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICBzaG93VG9hc3QocGF5bG9hZC5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIHNcdTAwRTlsZWN0aW9ubmVyIGNlIHNpdGUuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICBjb25zdCBmaW5hbFNsdWcgPSBlbnN1cmVMZWFkaW5nU2xhc2gocGF5bG9hZC5zbHVnIHx8IG5vcm1hbGl6ZWRTbHVnKTtcbiAgICAgIGNvbnN0IGZpbmFsTmFtZSA9IHBheWxvYWQubmFtZSB8fCBuYW1lO1xuICAgICAgcGVyc2lzdFNpdGVTdGF0ZShmaW5hbFNsdWcsIGZpbmFsTmFtZSk7XG4gICAgICBhcHBseUFjdGl2ZVNpdGUoZmluYWxTbHVnLCB7IHNpdGVOYW1lOiBmaW5hbE5hbWUsIHBlcnNpc3Q6IGZhbHNlIH0pO1xuICAgICAgY29uc3Qgc2x1Z1BhdGggPSBlbmNvZGVVUklDb21wb25lbnQoc3RyaXBMZWFkaW5nU2xhc2goZmluYWxTbHVnKSk7XG4gICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGAvYWRtaW4vc2l0ZS8ke3NsdWdQYXRofS9kZXNpZ25gO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignW2FkbWluXSBJbXBvc3NpYmxlIGRlIHNcdTAwRTlsZWN0aW9ubmVyIGxlIHNpdGUnLCBlcnIpO1xuICAgICAgc2hvd1RvYXN0KCdFcnJldXIgaW5hdHRlbmR1ZSBsb3JzIGRlIGxhIHNcdTAwRTlsZWN0aW9uLicpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBzeW5jQWN0aXZlU2l0ZUZyb21TZXJ2ZXIgPSBhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvc2l0ZXMvY3VycmVudCcsIHsgY3JlZGVudGlhbHM6ICdzYW1lLW9yaWdpbicgfSk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwNCAmJiB3b3Jrc3BhY2VDb250ZXh0KSB7XG4gICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnL2FkbWluL3NpdGVzJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBzaXRlID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgY29uc3Qgbm9ybWFsaXplZFNsdWcgPSBlbnN1cmVMZWFkaW5nU2xhc2goc2l0ZS5zbHVnKTtcbiAgICAgIHBlcnNpc3RTaXRlU3RhdGUobm9ybWFsaXplZFNsdWcsIHNpdGUubmFtZSk7XG4gICAgICBhcHBseUFjdGl2ZVNpdGUobm9ybWFsaXplZFNsdWcsIHsgc2l0ZU5hbWU6IHNpdGUubmFtZSwgcGVyc2lzdDogZmFsc2UgfSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ1thZG1pbl0gSW1wb3NzaWJsZSBkZSByXHUwMEU5Y3VwXHUwMEU5cmVyIGxlIHNpdGUgYWN0aWYnLCBlcnIpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoaWdobGlnaHRGcm9tU3RvcmFnZU9yRGVmYXVsdCA9ICgpID0+IHtcbiAgICBpZiAoc3RvcmVkU2l0ZS5zbHVnKSB7XG4gICAgICBhcHBseUFjdGl2ZVNpdGUoc3RvcmVkU2l0ZS5zbHVnLCB7IHNpdGVOYW1lOiBzdG9yZWRTaXRlLm5hbWUsIHBlcnNpc3Q6IGZhbHNlIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBkZWZhdWx0Q2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtY2FyZF1bZGF0YS1zaXRlLWRlZmF1bHQ9XCJ0cnVlXCJdJykgfHwgc2l0ZUNhcmRzWzBdO1xuICAgIGlmIChkZWZhdWx0Q2FyZCkge1xuICAgICAgYXBwbHlBY3RpdmVTaXRlKGRlZmF1bHRDYXJkLmRhdGFzZXQuc2l0ZUNhcmQsIHtcbiAgICAgICAgc2l0ZU5hbWU6IGRlZmF1bHRDYXJkLmRhdGFzZXQuc2l0ZU5hbWUgfHwgJycsXG4gICAgICAgIHBlcnNpc3Q6IGZhbHNlLFxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIGhpZ2hsaWdodEZyb21TdG9yYWdlT3JEZWZhdWx0KCk7XG4gIHN5bmNBY3RpdmVTaXRlRnJvbVNlcnZlcigpO1xuICBpZiAod29ya3NwYWNlQ29udGV4dCkge1xuICAgIHVwZGF0ZVdvcmtzcGFjZU5hdkxpbmtzKHdvcmtzcGFjZUNvbnRleHQuc2x1Z1ZhbHVlKTtcbiAgfSBlbHNlIGlmIChzdG9yZWRTaXRlLnNsdWcpIHtcbiAgICB1cGRhdGVXb3Jrc3BhY2VOYXZMaW5rcyhzdG9yZWRTaXRlLnNsdWcpO1xuICB9XG5cbiAgc2l0ZVNlbGVjdEJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgaWYgKGJ1dHRvbi5kaXNhYmxlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBzbHVnID0gYnV0dG9uLmRhdGFzZXQuc2l0ZVNlbGVjdDtcbiAgICAgIGNvbnN0IG5hbWUgPSBidXR0b24uZGF0YXNldC5zaXRlU2VsZWN0TmFtZSB8fCAnQ2Ugc2l0ZSc7XG4gICAgICBpZiAoIXNsdWcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIHNlbGVjdFNpdGUoc2x1ZywgbmFtZSkuZmluYWxseSgoKSA9PiB7XG4gICAgICAgIGJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGNvbnN0IHdvcmtzcGFjZVNsdWdpZnkgPSAodmFsdWUpID0+XG4gICAgKHZhbHVlIHx8ICcnKVxuICAgICAgLm5vcm1hbGl6ZSgnTkZEJylcbiAgICAgIC5yZXBsYWNlKC9bXFx1MDMwMC1cXHUwMzZmXS9nLCAnJylcbiAgICAgIC50b0xvd2VyQ2FzZSgpXG4gICAgICAucmVwbGFjZSgvW15hLXowLTldKy9nLCAnLScpXG4gICAgICAucmVwbGFjZSgvXi0rfC0rJC9nLCAnJyk7XG5cbiAgY29uc3Qgbm9ybWFsaXplU2x1Z1ZhbHVlID0gKHZhbHVlKSA9PiB7XG4gICAgY29uc3QgYmFzZSA9IHdvcmtzcGFjZVNsdWdpZnkodmFsdWUgfHwgJycpO1xuICAgIGlmICghYmFzZSkge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICByZXR1cm4gYC8ke2Jhc2V9YDtcbiAgfTtcblxuICBjb25zdCBvcGVuU2l0ZU1vZGFsID0gKCkgPT4ge1xuICAgIGlmICghc2l0ZU1vZGFsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxhc3RGb2N1c2VkRWxlbWVudCA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG4gICAgc2l0ZU1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgIHNpdGVNb2RhbC5jbGFzc0xpc3QuYWRkKCdmbGV4Jyk7XG4gICAgc2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gICAgc2l0ZUZvcm0/LnJlc2V0KCk7XG4gICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICBzaXRlTW9kYWxFcnJvciAmJiAoc2l0ZU1vZGFsRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgaWYgKHNpdGVTbHVnSW5wdXQgJiYgc2l0ZU5hbWVJbnB1dCkge1xuICAgICAgc2l0ZVNsdWdJbnB1dC52YWx1ZSA9IHdvcmtzcGFjZVNsdWdpZnkoc2l0ZU5hbWVJbnB1dC52YWx1ZSk7XG4gICAgfVxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0cmFwRm9jdXMpO1xuICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHNpdGVOYW1lSW5wdXQ/LmZvY3VzKCk7XG4gICAgfSwgMCk7XG4gIH07XG5cbiAgY29uc3QgY2xvc2VTaXRlTW9kYWwgPSAoKSA9PiB7XG4gICAgaWYgKCFzaXRlTW9kYWwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2l0ZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgIHNpdGVNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdmbGV4Jyk7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRyYXBGb2N1cyk7XG4gICAgc2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gICAgc2l0ZUZvcm0/LnJlc2V0KCk7XG4gICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICBzaXRlTW9kYWxFcnJvciAmJiAoc2l0ZU1vZGFsRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgbGFzdEZvY3VzZWRFbGVtZW50Py5mb2N1cygpO1xuICB9O1xuXG4gIHNpdGVDcmVhdGVCdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5TaXRlTW9kYWwpO1xuICB9KTtcblxuICBzaXRlTW9kYWxDYW5jZWxCdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlU2l0ZU1vZGFsKTtcbiAgfSk7XG5cbiAgc2l0ZU1vZGFsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgIGlmIChldmVudC50YXJnZXQgPT09IHNpdGVNb2RhbCkge1xuICAgICAgY2xvc2VTaXRlTW9kYWwoKTtcbiAgICB9XG4gIH0pO1xuXG4gIHNpdGVOYW1lSW5wdXQ/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgIGlmICghc2l0ZVNsdWdJbnB1dCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIXNsdWdNYW51YWxseUVkaXRlZCB8fCBzaXRlU2x1Z0lucHV0LnZhbHVlLnRyaW0oKS5sZW5ndGggPT09IDApIHtcbiAgICAgIHNpdGVTbHVnSW5wdXQudmFsdWUgPSB3b3Jrc3BhY2VTbHVnaWZ5KHNpdGVOYW1lSW5wdXQudmFsdWUpO1xuICAgIH1cbiAgICAvLyBDbGVhciBlcnJvcnMgd2hlbiB1c2VyIHR5cGVzXG4gICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICBzaXRlTW9kYWxFcnJvciAmJiAoc2l0ZU1vZGFsRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gIH0pO1xuXG4gIHNpdGVTbHVnSW5wdXQ/LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgKCkgPT4ge1xuICAgIC8vIEF1dG8tZmlsbCBzbHVnIGZyb20gbmFtZSBpZiBlbXB0eSB3aGVuIHVzZXIgZm9jdXNlcyB0aGUgc2x1ZyBmaWVsZFxuICAgIGNvbnN0IHNsdWdWYWwgPSBzaXRlU2x1Z0lucHV0Py52YWx1ZSB8fCAnJztcbiAgICBjb25zdCBuYW1lVmFsID0gc2l0ZU5hbWVJbnB1dD8udmFsdWUgfHwgJyc7XG4gICAgaWYgKCFzbHVnVmFsLnRyaW0oKSAmJiBuYW1lVmFsLnRyaW0oKSkge1xuICAgICAgc2l0ZVNsdWdJbnB1dC52YWx1ZSA9IHdvcmtzcGFjZVNsdWdpZnkobmFtZVZhbCk7XG4gICAgfVxuICB9KTtcblxuICBzaXRlU2x1Z0lucHV0Py5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICBzbHVnTWFudWFsbHlFZGl0ZWQgPSB0cnVlO1xuICAgIHNpdGVTbHVnRXJyb3IgJiYgKHNpdGVTbHVnRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgc2l0ZU1vZGFsRXJyb3IgJiYgKHNpdGVNb2RhbEVycm9yLnRleHRDb250ZW50ID0gJycpO1xuICB9KTtcblxuICBjb25zdCBnZXRTbHVnU2V0ID0gKCkgPT5cbiAgICBuZXcgU2V0KEFycmF5LmZyb20oc2l0ZUNhcmRzKS5tYXAoKGNhcmQpID0+IGVuc3VyZUxlYWRpbmdTbGFzaChjYXJkLmRhdGFzZXQuc2l0ZUNhcmQgfHwgJycpKSk7XG5cbiAgc2l0ZUZvcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc29sZS5sb2coJ1thZG1pbl0gRm9ybSBzdWJtaXQgLSBzaXRlTmFtZUlucHV0OicsIHNpdGVOYW1lSW5wdXQsICdzaXRlU2x1Z0lucHV0OicsIHNpdGVTbHVnSW5wdXQpO1xuICAgIFxuICAgIGlmICghc2l0ZU5hbWVJbnB1dCB8fCAhc2l0ZVNsdWdJbnB1dCkge1xuICAgICAgY29uc29sZS5sb2coJ1thZG1pbl0gTWlzc2luZyBpbnB1dHMsIGFib3J0aW5nJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IG5hbWVWYWx1ZSA9IChzaXRlTmFtZUlucHV0LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgbGV0IHNsdWdWYWx1ZSA9IChzaXRlU2x1Z0lucHV0LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgXG4gICAgY29uc29sZS5sb2coJ1thZG1pbl0gbmFtZVZhbHVlOicsIG5hbWVWYWx1ZSwgJ3NsdWdWYWx1ZTonLCBzbHVnVmFsdWUpO1xuICAgIFxuICAgIC8vIEF1dG8tZ2VuZXJhdGUgc2x1ZyBmcm9tIG5hbWUgaWYgZW1wdHlcbiAgICBpZiAoIXNsdWdWYWx1ZSAmJiBuYW1lVmFsdWUpIHtcbiAgICAgIHNsdWdWYWx1ZSA9IHdvcmtzcGFjZVNsdWdpZnkobmFtZVZhbHVlKTtcbiAgICAgIHNpdGVTbHVnSW5wdXQudmFsdWUgPSBzbHVnVmFsdWU7XG4gICAgICBjb25zb2xlLmxvZygnW2FkbWluXSBBdXRvLWdlbmVyYXRlZCBzbHVnOicsIHNsdWdWYWx1ZSk7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IG5vcm1hbGl6ZWRTbHVnID0gbm9ybWFsaXplU2x1Z1ZhbHVlKHNsdWdWYWx1ZSk7XG4gICAgY29uc29sZS5sb2coJ1thZG1pbl0gbm9ybWFsaXplZFNsdWc6Jywgbm9ybWFsaXplZFNsdWcpO1xuICAgIFxuICAgIC8vIFZhbGlkYXRlIG5hbWVcbiAgICBpZiAoIW5hbWVWYWx1ZSkge1xuICAgICAgY29uc29sZS5sb2coJ1thZG1pbl0gTmFtZSB2YWxpZGF0aW9uIGZhaWxlZCcpO1xuICAgICAgc2l0ZU1vZGFsRXJyb3IgJiYgKHNpdGVNb2RhbEVycm9yLnRleHRDb250ZW50ID0gJ0xlIG5vbSBkdSBzaXRlIGVzdCByZXF1aXMuJyk7XG4gICAgICBzaXRlTmFtZUlucHV0LmZvY3VzKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIC8vIFZhbGlkYXRlIHNsdWdcbiAgICBpZiAoIW5vcm1hbGl6ZWRTbHVnKSB7XG4gICAgICBjb25zb2xlLmxvZygnW2FkbWluXSBTbHVnIHZhbGlkYXRpb24gZmFpbGVkJyk7XG4gICAgICBzaXRlU2x1Z0Vycm9yICYmIChzaXRlU2x1Z0Vycm9yLnRleHRDb250ZW50ID0gJ0xlIHNsdWcgbmUgcGV1dCBwYXMgXHUwMEVBdHJlIHZpZGUgb3UgY29udGVuaXIgdW5pcXVlbWVudCBkZXMgY2FyYWN0XHUwMEU4cmVzIHNwXHUwMEU5Y2lhdXguJyk7XG4gICAgICBzaXRlU2x1Z0lucHV0LmZvY3VzKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IGV4aXN0aW5nU2x1Z3MgPSBnZXRTbHVnU2V0KCk7XG4gICAgaWYgKGV4aXN0aW5nU2x1Z3MuaGFzKG5vcm1hbGl6ZWRTbHVnKSkge1xuICAgICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9ICdDZSBzbHVnIGVzdCBkXHUwMEU5alx1MDBFMCB1dGlsaXNcdTAwRTkuJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHNpdGVTbHVnRXJyb3IgJiYgKHNpdGVTbHVnRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgc2l0ZU1vZGFsRXJyb3IgJiYgKHNpdGVNb2RhbEVycm9yLnRleHRDb250ZW50ID0gJycpO1xuICAgIGlmIChzaXRlTW9kYWxTdWJtaXRCdXR0b24pIHtcbiAgICAgIHNpdGVNb2RhbFN1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICBzaXRlTW9kYWxTdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSAnQ3JcdTAwRTlhdGlvbi4uLic7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL3NpdGVzJywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgbmFtZTogbmFtZVZhbHVlLCBzbHVnOiBub3JtYWxpemVkU2x1ZyB9KSxcbiAgICAgIH0pO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gcGF5bG9hZC5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIGNyXHUwMEU5ZXIgY2Ugc2l0ZS4nO1xuICAgICAgICBzaXRlTW9kYWxFcnJvciAmJiAoc2l0ZU1vZGFsRXJyb3IudGV4dENvbnRlbnQgPSBtZXNzYWdlKTtcbiAgICAgICAgaWYgKHBheWxvYWQuZmllbGQgPT09ICdzbHVnJykge1xuICAgICAgICAgIHNpdGVTbHVnRXJyb3IgJiYgKHNpdGVTbHVnRXJyb3IudGV4dENvbnRlbnQgPSBtZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBjcmVhdGVkU2l0ZSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIGNvbnN0IGZpbmFsU2x1ZyA9IGVuc3VyZUxlYWRpbmdTbGFzaChjcmVhdGVkU2l0ZT8uc2x1ZyB8fCBub3JtYWxpemVkU2x1Zyk7XG4gICAgICBjb25zdCBmaW5hbE5hbWUgPSBjcmVhdGVkU2l0ZT8ubmFtZSB8fCBuYW1lVmFsdWU7XG4gICAgICBwZXJzaXN0U2l0ZVN0YXRlKGZpbmFsU2x1ZywgZmluYWxOYW1lKTtcbiAgICAgIGNsb3NlU2l0ZU1vZGFsKCk7XG4gICAgICBjb25zdCBzbHVnUGF0aCA9IGVuY29kZVVSSUNvbXBvbmVudChzdHJpcExlYWRpbmdTbGFzaChmaW5hbFNsdWcpKTtcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gYC9hZG1pbi9zaXRlLyR7c2x1Z1BhdGh9L2Rlc2lnbmA7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdbYWRtaW5dIEltcG9zc2libGUgZGUgY3JcdTAwRTllciBsZSBzaXRlJywgZXJyKTtcbiAgICAgIHNpdGVNb2RhbEVycm9yICYmIChzaXRlTW9kYWxFcnJvci50ZXh0Q29udGVudCA9ICdFcnJldXIgaW5hdHRlbmR1ZS4gUlx1MDBFOWVzc2FpZSBkYW5zIHVuIGluc3RhbnQuJyk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlmIChzaXRlTW9kYWxTdWJtaXRCdXR0b24pIHtcbiAgICAgICAgc2l0ZU1vZGFsU3VibWl0QnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIHNpdGVNb2RhbFN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9ICdDclx1MDBFOWVyJztcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2ZW50KSA9PiB7XG4gICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgIGlmIChzaXRlTW9kYWwgJiYgIXNpdGVNb2RhbC5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpKSB7XG4gICAgICAgIGNsb3NlU2l0ZU1vZGFsKCk7XG4gICAgICB9XG4gICAgICBpZiAod29ya3NwYWNlQmFja01vZGFsICYmICF3b3Jrc3BhY2VCYWNrTW9kYWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdoaWRkZW4nKSkge1xuICAgICAgICBjbG9zZVdvcmtzcGFjZUJhY2tNb2RhbCgpO1xuICAgICAgfVxuICAgICAgaWYgKGJsb2NrRGVsZXRlTW9kYWwgJiYgIWJsb2NrRGVsZXRlTW9kYWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdoaWRkZW4nKSkge1xuICAgICAgICBjbG9zZUJsb2NrRGVsZXRlTW9kYWwoKTtcbiAgICAgIH1cbiAgICAgIGlmIChibG9ja0xpYnJhcnlPcGVuKSB7XG4gICAgICAgIGNsb3NlQmxvY2tMaWJyYXJ5KCk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICBmdW5jdGlvbiBnZXRXb3Jrc3BhY2VDb250ZXh0KCkge1xuICAgIGNvbnN0IG1hdGNoID0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLm1hdGNoKC9eXFwvYWRtaW5cXC9zaXRlXFwvKFteL10rKSg/OlxcLyhbXi9dKykpPy8pO1xuICAgIGlmICghbWF0Y2gpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgc2x1Z1BhcnQ6IGRlY29kZVVSSUNvbXBvbmVudChtYXRjaFsxXSksXG4gICAgICBzbHVnVmFsdWU6IGVuc3VyZUxlYWRpbmdTbGFzaChkZWNvZGVVUklDb21wb25lbnQobWF0Y2hbMV0pKSxcbiAgICAgIHNlY3Rpb246IG1hdGNoWzJdIHx8ICdkZXNpZ24nLFxuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBkZXRlY3RXb3Jrc3BhY2VTZWN0aW9uKCkge1xuICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLWxpc3RdJykpIHtcbiAgICAgIHJldHVybiAnZGVzaWduJztcbiAgICB9XG4gICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbGxlY3Rpb24tbGlzdF0nKSkge1xuICAgICAgcmV0dXJuICdjb250ZW50JztcbiAgICB9XG4gICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWdyaWRdJykpIHtcbiAgICAgIHJldHVybiAnbWVkaWEnO1xuICAgIH1cbiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LWZvcm1dJykpIHtcbiAgICAgIHJldHVybiAnZGVwbG95JztcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBmdW5jdGlvbiBvcGVuV29ya3NwYWNlQmFja01vZGFsKCkge1xuICAgIGlmICghd29ya3NwYWNlQmFja01vZGFsKSB7XG4gICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvYWRtaW4vc2l0ZXMnO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB3b3Jrc3BhY2VCYWNrTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgd29ya3NwYWNlQmFja01vZGFsLmNsYXNzTGlzdC5hZGQoJ2ZsZXgnKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNsb3NlV29ya3NwYWNlQmFja01vZGFsKCkge1xuICAgIGlmICghd29ya3NwYWNlQmFja01vZGFsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHdvcmtzcGFjZUJhY2tNb2RhbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICB3b3Jrc3BhY2VCYWNrTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnZmxleCcpO1xuICB9XG5cbiAgd29ya3NwYWNlQmFja0J1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlbldvcmtzcGFjZUJhY2tNb2RhbCk7XG4gIH0pO1xuICB3b3Jrc3BhY2VCYWNrQ2FuY2VsLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlV29ya3NwYWNlQmFja01vZGFsKTtcbiAgfSk7XG4gIHdvcmtzcGFjZUJhY2tDb25maXJtPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvYWRtaW4vc2l0ZXMnO1xuICB9KTtcblxuICBjb25zdCBhY3RpdmVTZWN0aW9uID0gd29ya3NwYWNlQ29udGV4dD8uc2VjdGlvbiB8fCBkZXRlY3RXb3Jrc3BhY2VTZWN0aW9uKCk7XG5cbiAgaWYgKGFjdGl2ZVNlY3Rpb24gPT09ICdkZXNpZ24nKSB7XG4gICAgaW5pdERlc2lnbldvcmtzcGFjZSgpO1xuICB9XG4gIGlmIChhY3RpdmVTZWN0aW9uID09PSAnY29udGVudCcpIHtcbiAgICBpbml0Q29udGVudFdvcmtzcGFjZSgpO1xuICB9XG4gIGlmIChhY3RpdmVTZWN0aW9uID09PSAnbWVkaWEnKSB7XG4gICAgaW5pdE1lZGlhV29ya3NwYWNlKCk7XG4gIH1cbiAgaWYgKGFjdGl2ZVNlY3Rpb24gPT09ICdkZXBsb3knKSB7XG4gICAgaW5pdERlcGxveVdvcmtzcGFjZSgpO1xuICB9XG4gIGlmIChhY3RpdmVTZWN0aW9uID09PSAnc2V0dGluZ3MnKSB7XG4gICAgaW5pdFNldHRpbmdzV29ya3NwYWNlKCk7XG4gIH1cblxuICBpZiAod29ya3NwYWNlQ29udGV4dCAmJiBzdG9yZWRTaXRlLm5hbWUpIHtcbiAgICB1cGRhdGVTaXRlTGFiZWxzKHN0b3JlZFNpdGUubmFtZSk7XG4gIH1cblxuICBmdW5jdGlvbiBpbml0RGVzaWduV29ya3NwYWNlKCkge1xuICAgIGNvbnN0IHBhZ2VMaXN0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXBhZ2UtbGlzdF0nKTtcbiAgICBpZiAocGFnZUxpc3RzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBhY3RpdmVUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFjdGl2ZS1wYWdlLXRpdGxlXScpO1xuICAgIGNvbnN0IGFjdGl2ZVNsdWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hY3RpdmUtcGFnZS1zbHVnXScpO1xuICAgIGNvbnN0IHByZXZpZXdUYWdzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcmV2aWV3LXRhZ3NdJyk7XG4gICAgY29uc3QgcHJldmlld0ZyYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcmV2aWV3LWZyYW1lXScpO1xuICAgIGNvbnN0IHByZXZpZXdPcGVuQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcHJldmlldy1vcGVuXScpO1xuICAgIGNvbnN0IHByZXZpZXdTdGF0dXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wcmV2aWV3LXN0YXR1c10nKTtcbiAgICBjb25zdCBwcmV2aWV3SGlnaGxpZ2h0T3ZlcmxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXByZXZpZXctaGlnaGxpZ2h0XScpO1xuICAgIC8vIFNFTyBwYW5lbCBlbGVtZW50c1xuICAgIGNvbnN0IHNlb1RvZ2dsZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby10b2dnbGVdJyk7XG4gICAgY29uc3Qgc2VvUGFuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8tcGFuZWxdJyk7XG4gICAgY29uc3Qgc2VvQ2xvc2VCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8tY2xvc2VdJyk7XG4gICAgY29uc3Qgc2VvRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby1mb3JtXScpO1xuICAgIGNvbnN0IHNlb1RpdGxlSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8tdGl0bGVdJyk7XG4gICAgY29uc3Qgc2VvRGVzY3JpcHRpb25JbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby1kZXNjcmlwdGlvbl0nKTtcbiAgICBjb25zdCBzZW9JbmRleGVkQ2hlY2tib3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8taW5kZXhlZF0nKTtcbiAgICBjb25zdCBzZW9GZWVkYmFjayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby1mZWVkYmFja10nKTtcbiAgICBjb25zdCBzZW9TYXZlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2VvLXNhdmVdJyk7XG4gICAgLy8gUGFnZSBwcm9wZXJ0aWVzIHBhbmVsIGVsZW1lbnRzXG4gICAgY29uc3QgcGFnZVByb3BzVG9nZ2xlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcm9wcy10b2dnbGVdJyk7XG4gICAgY29uc3QgcGFnZVByb3BzUGFuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLXByb3BzLXBhbmVsXScpO1xuICAgIGNvbnN0IHBhZ2VQcm9wc0Nsb3NlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcm9wcy1jbG9zZV0nKTtcbiAgICBjb25zdCBwYWdlUHJvcHNGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcm9wcy1mb3JtXScpO1xuICAgIGNvbnN0IHBhZ2VOYW1lSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLW5hbWVdJyk7XG4gICAgY29uc3QgcGFnZVRpdGxlSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLXRpdGxlLWlucHV0XScpO1xuICAgIGNvbnN0IHBhZ2VTbHVnSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLXNsdWctaW5wdXRdJyk7XG4gICAgY29uc3QgcGFnZURlc2NyaXB0aW9uSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLWRlc2NyaXB0aW9uXScpO1xuICAgIGNvbnN0IHBhZ2VQcm9wc0ZlZWRiYWNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcm9wcy1mZWVkYmFja10nKTtcbiAgICBjb25zdCBwYWdlUHJvcHNTYXZlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcm9wcy1zYXZlXScpO1xuICAgIGNvbnN0IGJsb2NrTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2Nrcy1saXN0XScpO1xuICAgIGNvbnN0IGJsb2NrTGlzdEVtcHR5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2tzLWVtcHR5XScpO1xuICAgIGNvbnN0IGJsb2NrQ291bnRCYWRnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWNvdW50XScpO1xuICAgIGNvbnN0IGJsb2NrTGlicmFyeVRvZ2dsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWxpYnJhcnktdG9nZ2xlXScpO1xuICAgIGNvbnN0IGJsb2NrTGlicmFyeSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWxpYnJhcnldJyk7XG4gICAgY29uc3QgYmxvY2tBZGRCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYmxvY2stYWRkXScpO1xuICAgIGNvbnN0IGJsb2NrRGVsZXRlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1kZWxldGUtbW9kYWxdJyk7XG4gICAgY29uc3QgYmxvY2tEZWxldGVDb25maXJtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZGVsZXRlLWNvbmZpcm1dJyk7XG4gICAgY29uc3QgYmxvY2tEZWxldGVDYW5jZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1kZWxldGUtY2FuY2VsXScpO1xuICAgIGNvbnN0IGJsb2NrRGV0YWlsRW1wdHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1kZXRhaWwtZW1wdHldJyk7XG4gICAgY29uc3QgYmxvY2tEZXRhaWxTdGF0dXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1kZXRhaWwtc3RhdHVzXScpO1xuICAgIGNvbnN0IGJsb2NrRWRpdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZWRpdG9yXScpO1xuICAgIGNvbnN0IGJsb2NrRWRpdG9yVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1lZGl0b3ItYmxvY2stbmFtZV0nKTtcbiAgICBjb25zdCBibG9ja0VkaXRvclR5cGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1lZGl0b3ItYmxvY2stdHlwZV0nKTtcbiAgICBjb25zdCBibG9ja0VkaXRvclVuc3VwcG9ydGVkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZWRpdG9yLXVuc3VwcG9ydGVkXScpO1xuICAgIGNvbnN0IGJsb2NrRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWZvcm1dJyk7XG4gICAgY29uc3QgYmxvY2tGb3JtU2VjdGlvbnMgPSBibG9ja0Zvcm1cbiAgICAgID8gQXJyYXkuZnJvbShibG9ja0Zvcm0ucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtZWRpdG9yLXNlY3Rpb25dJykpXG4gICAgICA6IFtdO1xuICAgIC8vIE9uZ2xldHMgQ29udGVudSAvIEFwcGFyZW5jZVxuICAgIGNvbnN0IGJsb2NrVGFicyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWJsb2NrLXRhYl0nKTtcbiAgICBsZXQgYWN0aXZlQmxvY2tUYWIgPSAnY29udGVudCc7XG5cbiAgICAvLyBPbmdsZXRzIHBhbm5lYXUgZ2F1Y2hlIChCbG9jcyAvIFBhZ2VzKVxuICAgIGNvbnN0IGxlZnRQYW5lbFRhYnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1sZWZ0LXRhYl0nKTtcbiAgICBjb25zdCBsZWZ0UGFuZWxCbG9ja3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1sZWZ0LXBhbmVsPVwiYmxvY2tzXCJdJyk7XG4gICAgY29uc3QgbGVmdFBhbmVsUGFnZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1sZWZ0LXBhbmVsPVwicGFnZXNcIl0nKTtcbiAgICBsZXQgYWN0aXZlTGVmdFRhYiA9ICdibG9ja3MnO1xuXG4gICAgLy8gRm9uY3Rpb24gcG91ciBzd2l0Y2hlciBlbnRyZSBsZXMgb25nbGV0cyBCbG9jcy9QYWdlcyBkdSBwYW5uZWF1IGdhdWNoZVxuICAgIGNvbnN0IHN3aXRjaExlZnRUYWIgPSAodGFiTmFtZSkgPT4ge1xuICAgICAgYWN0aXZlTGVmdFRhYiA9IHRhYk5hbWU7XG4gICAgICBsZWZ0UGFuZWxUYWJzLmZvckVhY2goKHRhYikgPT4ge1xuICAgICAgICBjb25zdCBpc0FjdGl2ZSA9IHRhYi5kYXRhc2V0LmxlZnRUYWIgPT09IHRhYk5hbWU7XG4gICAgICAgIHRhYi5zZXRBdHRyaWJ1dGUoJ2FyaWEtc2VsZWN0ZWQnLCBpc0FjdGl2ZSA/ICd0cnVlJyA6ICdmYWxzZScpO1xuICAgICAgICBpZiAoaXNBY3RpdmUpIHtcbiAgICAgICAgICB0YWIuY2xhc3NMaXN0LmFkZCgndGV4dC1bIzlDNkJGRl0nKTtcbiAgICAgICAgICB0YWIuY2xhc3NMaXN0LnJlbW92ZSgndGV4dC1zbGF0ZS01MDAnLCAnaG92ZXI6dGV4dC1zbGF0ZS03MDAnKTtcbiAgICAgICAgICB0YWIuY2xhc3NMaXN0LmFkZCgnYWZ0ZXI6YWJzb2x1dGUnLCAnYWZ0ZXI6Ym90dG9tLTAnLCAnYWZ0ZXI6bGVmdC0wJywgJ2FmdGVyOnJpZ2h0LTAnLCAnYWZ0ZXI6aC0wLjUnLCAnYWZ0ZXI6YmctWyM5QzZCRkZdJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGFiLmNsYXNzTGlzdC5yZW1vdmUoJ3RleHQtWyM5QzZCRkZdJyk7XG4gICAgICAgICAgdGFiLmNsYXNzTGlzdC5hZGQoJ3RleHQtc2xhdGUtNTAwJywgJ2hvdmVyOnRleHQtc2xhdGUtNzAwJyk7XG4gICAgICAgICAgdGFiLmNsYXNzTGlzdC5yZW1vdmUoJ2FmdGVyOmFic29sdXRlJywgJ2FmdGVyOmJvdHRvbS0wJywgJ2FmdGVyOmxlZnQtMCcsICdhZnRlcjpyaWdodC0wJywgJ2FmdGVyOmgtMC41JywgJ2FmdGVyOmJnLVsjOUM2QkZGXScpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIC8vIEFmZmljaGVyL21hc3F1ZXIgbGVzIHBhbmVsc1xuICAgICAgaWYgKGxlZnRQYW5lbEJsb2Nrcykge1xuICAgICAgICBsZWZ0UGFuZWxCbG9ja3MuY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZGVuJywgdGFiTmFtZSAhPT0gJ2Jsb2NrcycpO1xuICAgICAgfVxuICAgICAgaWYgKGxlZnRQYW5lbFBhZ2VzKSB7XG4gICAgICAgIGxlZnRQYW5lbFBhZ2VzLmNsYXNzTGlzdC50b2dnbGUoJ2hpZGRlbicsIHRhYk5hbWUgIT09ICdwYWdlcycpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBFdmVudCBsaXN0ZW5lcnMgcG91ciBsZXMgb25nbGV0cyBkdSBwYW5uZWF1IGdhdWNoZVxuICAgIGxlZnRQYW5lbFRhYnMuZm9yRWFjaCgodGFiKSA9PiB7XG4gICAgICB0YWIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIHN3aXRjaExlZnRUYWIodGFiLmRhdGFzZXQubGVmdFRhYik7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBcbiAgICAvLyBEXHUwMEU5Y2xhcmF0aW9ucyBkZXMgXHUwMEU5bFx1MDBFOW1lbnRzIGQnYWN0aW9ucyBkdSBmb3JtdWxhaXJlIChhdmFudCBzd2l0Y2hCbG9ja1RhYilcbiAgICBjb25zdCBibG9ja0Zvcm1BY3Rpb25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZm9ybS1hY3Rpb25zXScpO1xuICAgIGNvbnN0IGJsb2NrRm9ybUF1dG9zYXZlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZm9ybS1hdXRvc2F2ZV0nKTtcblxuICAgIC8vIEZvbmN0aW9uIHBvdXIgc3dpdGNoZXIgZW50cmUgbGVzIG9uZ2xldHMgQ29udGVudS9BcHBhcmVuY2VcbiAgICBjb25zdCBzd2l0Y2hCbG9ja1RhYiA9ICh0YWJOYW1lKSA9PiB7XG4gICAgICBhY3RpdmVCbG9ja1RhYiA9IHRhYk5hbWU7XG4gICAgICAvLyBNZXR0cmUgXHUwMEUwIGpvdXIgbGVzIHN0eWxlcyBkZXMgYm91dG9ucyBkJ29uZ2xldFxuICAgICAgYmxvY2tUYWJzLmZvckVhY2goKHRhYikgPT4ge1xuICAgICAgICBjb25zdCBpc0FjdGl2ZSA9IHRhYi5kYXRhc2V0LmJsb2NrVGFiID09PSB0YWJOYW1lO1xuICAgICAgICB0YWIuc2V0QXR0cmlidXRlKCdhcmlhLXNlbGVjdGVkJywgaXNBY3RpdmUgPyAndHJ1ZScgOiAnZmFsc2UnKTtcbiAgICAgICAgaWYgKGlzQWN0aXZlKSB7XG4gICAgICAgICAgdGFiLmNsYXNzTGlzdC5hZGQoJ3RleHQtWyM5QzZCRkZdJyk7XG4gICAgICAgICAgdGFiLmNsYXNzTGlzdC5yZW1vdmUoJ3RleHQtc2xhdGUtNTAwJywgJ2hvdmVyOnRleHQtc2xhdGUtNzAwJyk7XG4gICAgICAgICAgdGFiLmNsYXNzTGlzdC5hZGQoJ2FmdGVyOmFic29sdXRlJywgJ2FmdGVyOmJvdHRvbS0wJywgJ2FmdGVyOmxlZnQtMCcsICdhZnRlcjpyaWdodC0wJywgJ2FmdGVyOmgtMC41JywgJ2FmdGVyOmJnLVsjOUM2QkZGXScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRhYi5jbGFzc0xpc3QucmVtb3ZlKCd0ZXh0LVsjOUM2QkZGXScpO1xuICAgICAgICAgIHRhYi5jbGFzc0xpc3QuYWRkKCd0ZXh0LXNsYXRlLTUwMCcsICdob3Zlcjp0ZXh0LXNsYXRlLTcwMCcpO1xuICAgICAgICAgIHRhYi5jbGFzc0xpc3QucmVtb3ZlKCdhZnRlcjphYnNvbHV0ZScsICdhZnRlcjpib3R0b20tMCcsICdhZnRlcjpsZWZ0LTAnLCAnYWZ0ZXI6cmlnaHQtMCcsICdhZnRlcjpoLTAuNScsICdhZnRlcjpiZy1bIzlDNkJGRl0nKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICAvLyBBZmZpY2hlci9tYXNxdWVyIGxlcyBwYW5lbHMgZGFucyBsYSBzZWN0aW9uIGFjdGl2ZVxuICAgICAgY29uc3QgYWN0aXZlU2VjdGlvbiA9IGJsb2NrRm9ybT8ucXVlcnlTZWxlY3RvcignW2RhdGEtZWRpdG9yLXNlY3Rpb25dOm5vdCguaGlkZGVuKScpO1xuICAgICAgaWYgKGFjdGl2ZVNlY3Rpb24pIHtcbiAgICAgICAgY29uc3QgcGFuZWxzID0gYWN0aXZlU2VjdGlvbi5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1ibG9jay1wYW5lbF0nKTtcbiAgICAgICAgcGFuZWxzLmZvckVhY2goKHBhbmVsKSA9PiB7XG4gICAgICAgICAgaWYgKHBhbmVsLmRhdGFzZXQuYmxvY2tQYW5lbCA9PT0gdGFiTmFtZSkge1xuICAgICAgICAgICAgcGFuZWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhbmVsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICAvLyBBZmZpY2hlci9tYXNxdWVyIGxlcyBib3V0b25zIHNlbG9uIGwnb25nbGV0XG4gICAgICAvLyBDb250ZW51IFx1MjE5MiBib3V0b25zIEVucmVnaXN0cmVyL0FubnVsZXJcbiAgICAgIC8vIEFwcGFyZW5jZSBcdTIxOTIgaW5kaWNhdGV1ciBhdXRvLXNhdmVcbiAgICAgIGlmIChibG9ja0Zvcm1BY3Rpb25zICYmIGJsb2NrRm9ybUF1dG9zYXZlKSB7XG4gICAgICAgIGlmICh0YWJOYW1lID09PSAnY29udGVudCcpIHtcbiAgICAgICAgICBibG9ja0Zvcm1BY3Rpb25zLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgIGJsb2NrRm9ybUF1dG9zYXZlLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGJsb2NrRm9ybUFjdGlvbnMuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgICAgYmxvY2tGb3JtQXV0b3NhdmUuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gRXZlbnQgbGlzdGVuZXJzIHBvdXIgbGVzIG9uZ2xldHNcbiAgICBibG9ja1RhYnMuZm9yRWFjaCgodGFiKSA9PiB7XG4gICAgICB0YWIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIHN3aXRjaEJsb2NrVGFiKHRhYi5kYXRhc2V0LmJsb2NrVGFiKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgY29uc3QgY29sbGVjdGlvblNlbGVjdCA9IGJsb2NrRm9ybT8ucXVlcnlTZWxlY3RvcignW25hbWU9XCJjb2xsZWN0aW9uLWdyaWQtY29sbGVjdGlvblwiXScpO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25TZWxlY3Rpb25JbmZvID0gYmxvY2tGb3JtPy5xdWVyeVNlbGVjdG9yKFxuICAgICAgJ1tkYXRhLWNvbGxlY3Rpb24tc2VsZWN0aW9uLWluZm9dJyxcbiAgICApO1xuICAgIGNvbnN0IGJsb2NrRm9ybUNhbmNlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWZvcm0tY2FuY2VsXScpO1xuICAgIGNvbnN0IGdyb3VwUHJldmlld01vYmlsZSA9IGJsb2NrRm9ybT8ucXVlcnlTZWxlY3RvcignW2RhdGEtZ3JvdXAtcHJldmlldy1tb2JpbGVdJyk7XG4gICAgY29uc3QgZ3JvdXBQcmV2aWV3RGVza3RvcCA9IGJsb2NrRm9ybT8ucXVlcnlTZWxlY3RvcignW2RhdGEtZ3JvdXAtcHJldmlldy1kZXNrdG9wXScpO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25QcmV2aWV3TW9iaWxlID0gYmxvY2tGb3JtPy5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xsZWN0aW9uLXByZXZpZXctbW9iaWxlXScpO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25QcmV2aWV3RGVza3RvcCA9IGJsb2NrRm9ybT8ucXVlcnlTZWxlY3RvcignW2RhdGEtY29sbGVjdGlvbi1wcmV2aWV3LWRlc2t0b3BdJyk7XG4gICAgY29uc3QgYmxvY2tUeXBlRm9ybXMgPSB7XG4gICAgICBoZXJvOiB7XG4gICAgICAgIHNlY3Rpb246ICdoZXJvJyxcbiAgICAgICAgbGFiZWxGaWVsZDogJ3RpdGxlJyxcbiAgICAgICAgZGVzY3JpcHRpb25GaWVsZDogJ3N1YnRpdGxlJyxcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgdGl0bGU6ICdoZXJvLXRpdGxlJyxcbiAgICAgICAgICBzdWJ0aXRsZTogJ2hlcm8tc3VidGl0bGUnLFxuICAgICAgICAgIGN0YUxhYmVsOiAnaGVyby1jdGEtbGFiZWwnLFxuICAgICAgICAgIGN0YVVybDogJ2hlcm8tY3RhLXVybCcsXG4gICAgICAgICAgLy8gQXBwYXJlbmNlXG4gICAgICAgICAgaW1hZ2U6ICdoZXJvLWltYWdlJyxcbiAgICAgICAgICBsYXlvdXQ6ICdoZXJvLWxheW91dCcsXG4gICAgICAgICAgaGVpZ2h0OiAnaGVyby1oZWlnaHQnLFxuICAgICAgICAgIGNvbnRlbnRBbGlnbjogJ2hlcm8tY29udGVudC1hbGlnbicsXG4gICAgICAgICAgdGV4dEFsaWduOiAnaGVyby10ZXh0LWFsaWduJyxcbiAgICAgICAgICBvdmVybGF5OiAnaGVyby1vdmVybGF5JyxcbiAgICAgICAgICB0aXRsZVNpemU6ICdoZXJvLXRpdGxlLXNpemUnLFxuICAgICAgICAgIC8vIENhcmQgc3R5bGVcbiAgICAgICAgICBiZzogJ2hlcm8tYmcnLFxuICAgICAgICAgIGJvcmRlclJhZGl1czogJ2hlcm8tYm9yZGVyLXJhZGl1cycsXG4gICAgICAgICAgc2hhZG93OiAnaGVyby1zaGFkb3cnLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIHBhcmFncmFwaGU6IHtcbiAgICAgICAgc2VjdGlvbjogJ3BhcmFncmFwaCcsXG4gICAgICAgIGxhYmVsRmllbGQ6ICd0aXRsZScsXG4gICAgICAgIGRlc2NyaXB0aW9uRmllbGQ6ICdjb250ZW50JyxcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgdGl0bGU6ICdwYXJhZ3JhcGgtdGl0bGUnLFxuICAgICAgICAgIGNvbnRlbnQ6ICdwYXJhZ3JhcGgtY29udGVudCcsXG4gICAgICAgICAgLy8gQXBwYXJlbmNlXG4gICAgICAgICAgYWxpZ246ICdwYXJhZ3JhcGgtYWxpZ24nLFxuICAgICAgICAgIHRpdGxlU2l6ZTogJ3BhcmFncmFwaC10aXRsZS1zaXplJyxcbiAgICAgICAgICB0ZXh0U2l6ZTogJ3BhcmFncmFwaC10ZXh0LXNpemUnLFxuICAgICAgICAgIHNwYWNpbmc6ICdwYXJhZ3JhcGgtc3BhY2luZycsXG4gICAgICAgICAgLy8gQ2FyZCBzdHlsZVxuICAgICAgICAgIGJnOiAncGFyYWdyYXBoLWJnJyxcbiAgICAgICAgICBib3JkZXJSYWRpdXM6ICdwYXJhZ3JhcGgtYm9yZGVyLXJhZGl1cycsXG4gICAgICAgICAgc2hhZG93OiAncGFyYWdyYXBoLXNoYWRvdycsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgaW1hZ2U6IHtcbiAgICAgICAgc2VjdGlvbjogJ2ltYWdlJyxcbiAgICAgICAgbGFiZWxGaWVsZDogJ2FsdCcsXG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIHNyYzogJ2ltYWdlLXNyYycsXG4gICAgICAgICAgYWx0OiAnaW1hZ2UtYWx0JyxcbiAgICAgICAgICBzaG93Q2FwdGlvbjogJ2ltYWdlLWNhcHRpb24tdG9nZ2xlJyxcbiAgICAgICAgICBjYXB0aW9uOiAnaW1hZ2UtY2FwdGlvbicsXG4gICAgICAgICAgLy8gQXBwYXJlbmNlXG4gICAgICAgICAgcm91bmRlZDogJ2ltYWdlLXJvdW5kZWQnLFxuICAgICAgICAgIHNoYWRvdzogJ2ltYWdlLXNoYWRvdycsXG4gICAgICAgICAgbWF4V2lkdGg6ICdpbWFnZS1tYXgtd2lkdGgnLFxuICAgICAgICAgIGhlaWdodDogJ2ltYWdlLWhlaWdodCcsXG4gICAgICAgICAgb2JqZWN0Rml0OiAnaW1hZ2Utb2JqZWN0LWZpdCcsXG4gICAgICAgICAgYWxpZ246ICdpbWFnZS1hbGlnbicsXG4gICAgICAgICAgLy8gQ2FyZCBzdHlsZVxuICAgICAgICAgIGJnOiAnaW1hZ2UtYmcnLFxuICAgICAgICAgIGJvcmRlclJhZGl1czogJ2ltYWdlLWJvcmRlci1yYWRpdXMnLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGdyb3VwZToge1xuICAgICAgICBzZWN0aW9uOiAnZ3JvdXAnLFxuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAvLyBBcHBhcmVuY2VcbiAgICAgICAgICBjb2x1bW5zTW9iaWxlOiAnZ3JvdXAtY29sdW1ucy1tb2JpbGUnLFxuICAgICAgICAgIGNvbHVtbnNEZXNrdG9wOiAnZ3JvdXAtY29sdW1ucy1kZXNrdG9wJyxcbiAgICAgICAgICBnYXA6ICdncm91cC1nYXAnLFxuICAgICAgICAgIGl0ZW1zQWxpZ246ICdncm91cC1pdGVtcy1hbGlnbicsXG4gICAgICAgICAgLy8gQ2FyZCBzdHlsZVxuICAgICAgICAgIGJnOiAnZ3JvdXAtYmcnLFxuICAgICAgICAgIGJvcmRlclJhZGl1czogJ2dyb3VwLWJvcmRlci1yYWRpdXMnLFxuICAgICAgICAgIHNoYWRvdzogJ2dyb3VwLXNoYWRvdycsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgY29sbGVjdGlvbmdyaWQ6IHtcbiAgICAgICAgc2VjdGlvbjogJ2NvbGxlY3Rpb24nLFxuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBjb2xsZWN0aW9uSWQ6ICdjb2xsZWN0aW9uLWdyaWQtY29sbGVjdGlvbicsXG4gICAgICAgICAgbGltaXQ6ICdjb2xsZWN0aW9uLWdyaWQtbGltaXQnLFxuICAgICAgICAgIC8vIEFwcGFyZW5jZVxuICAgICAgICAgIGNvbHVtbnNNb2JpbGU6ICdjb2xsZWN0aW9uLWNvbHVtbnMtbW9iaWxlJyxcbiAgICAgICAgICBjb2x1bW5zRGVza3RvcDogJ2NvbGxlY3Rpb24tY29sdW1ucy1kZXNrdG9wJyxcbiAgICAgICAgICBnYXA6ICdjb2xsZWN0aW9uLWdhcCcsXG4gICAgICAgICAgaXRlbXNBbGlnbjogJ2NvbGxlY3Rpb24taXRlbXMtYWxpZ24nLFxuICAgICAgICAgIGNhcmRSb3VuZGVkOiAnY29sbGVjdGlvbi1jYXJkLXJvdW5kZWQnLFxuICAgICAgICAgIC8vIENhcmQgc3R5bGVcbiAgICAgICAgICBiZzogJ2NvbGxlY3Rpb24tYmcnLFxuICAgICAgICAgIGJvcmRlclJhZGl1czogJ2NvbGxlY3Rpb24tYm9yZGVyLXJhZGl1cycsXG4gICAgICAgICAgc2hhZG93OiAnY29sbGVjdGlvbi1zaGFkb3cnLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGZvcm06IHtcbiAgICAgICAgc2VjdGlvbjogJ2Zvcm0nLFxuICAgICAgICBsYWJlbEZpZWxkOiAnZm9ybVRpdGxlJyxcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgZm9ybVRpdGxlOiAnZm9ybS10aXRsZScsXG4gICAgICAgICAgYWN0aW9uVXJsOiAnZm9ybS1hY3Rpb24tdXJsJyxcbiAgICAgICAgICBtZXRob2Q6ICdmb3JtLW1ldGhvZCcsXG4gICAgICAgICAgc2VydmljZU5hbWU6ICdmb3JtLXNlcnZpY2UtbmFtZScsXG4gICAgICAgICAgc3VibWl0TGFiZWw6ICdmb3JtLXN1Ym1pdC1sYWJlbCcsXG4gICAgICAgICAgc3VjY2Vzc01lc3NhZ2U6ICdmb3JtLXN1Y2Nlc3MtbWVzc2FnZScsXG4gICAgICAgICAgLy8gQXBwYXJlbmNlXG4gICAgICAgICAgbWF4V2lkdGg6ICdmb3JtLW1heC13aWR0aCcsXG4gICAgICAgICAgYWxpZ246ICdmb3JtLWFsaWduJyxcbiAgICAgICAgICBidXR0b25Sb3VuZGVkOiAnZm9ybS1idXR0b24tcm91bmRlZCcsXG4gICAgICAgICAgc3BhY2luZzogJ2Zvcm0tc3BhY2luZycsXG4gICAgICAgICAgLy8gQ2FyZCBzdHlsZVxuICAgICAgICAgIGJnOiAnZm9ybS1iZycsXG4gICAgICAgICAgYm9yZGVyUmFkaXVzOiAnZm9ybS1ib3JkZXItcmFkaXVzJyxcbiAgICAgICAgICBzaGFkb3c6ICdmb3JtLXNoYWRvdycsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgbmV3c2xldHRlcmVtYmVkOiB7XG4gICAgICAgIHNlY3Rpb246ICduZXdzbGV0dGVyJyxcbiAgICAgICAgbGFiZWxGaWVsZDogJ3RpdGxlJyxcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgdGl0bGU6ICduZXdzbGV0dGVyLXRpdGxlJyxcbiAgICAgICAgICBzZXJ2aWNlTmFtZTogJ25ld3NsZXR0ZXItc2VydmljZS1uYW1lJyxcbiAgICAgICAgICBlbWJlZENvZGU6ICduZXdzbGV0dGVyLWVtYmVkLWNvZGUnLFxuICAgICAgICAgIC8vIEFwcGFyZW5jZVxuICAgICAgICAgIG1heFdpZHRoOiAnbmV3c2xldHRlci1tYXgtd2lkdGgnLFxuICAgICAgICAgIGFsaWduOiAnbmV3c2xldHRlci1hbGlnbicsXG4gICAgICAgICAgcGFkZGluZzogJ25ld3NsZXR0ZXItcGFkZGluZycsXG4gICAgICAgICAgYmc6ICduZXdzbGV0dGVyLWJnJyxcbiAgICAgICAgICAvLyBDYXJkIHN0eWxlXG4gICAgICAgICAgYm9yZGVyUmFkaXVzOiAnbmV3c2xldHRlci1ib3JkZXItcmFkaXVzJyxcbiAgICAgICAgICBzaGFkb3c6ICduZXdzbGV0dGVyLXNoYWRvdycsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH07XG4gICAgY29uc3QgYmxvY2tUeXBlQWxpYXNlcyA9IHtcbiAgICAgIHRleHRlOiAncGFyYWdyYXBoZScsXG4gICAgICBwYXJhZ3JhcGg6ICdwYXJhZ3JhcGhlJyxcbiAgICAgIHBhcmFncmFwaHM6ICdwYXJhZ3JhcGhlJyxcbiAgICAgIHBhcmFncmFwaGVzOiAncGFyYWdyYXBoZScsXG4gICAgICB0ZXh0OiAncGFyYWdyYXBoZScsXG4gICAgICBoZXJvOiAnaGVybycsXG4gICAgICBpbWFnZTogJ2ltYWdlJyxcbiAgICAgIGdyb3VwZTogJ2dyb3VwZScsXG4gICAgICBncm91cDogJ2dyb3VwZScsXG4gICAgICBjb2xsZWN0aW9uOiAnY29sbGVjdGlvbmdyaWQnLFxuICAgICAgY29sbGVjdGlvbmdyaWQ6ICdjb2xsZWN0aW9uZ3JpZCcsXG4gICAgICAnY29sbGVjdGlvbi1ncmlkJzogJ2NvbGxlY3Rpb25ncmlkJyxcbiAgICAgIGZvcm06ICdmb3JtJyxcbiAgICAgIGZvcm11bGFpcmU6ICdmb3JtJyxcbiAgICAgIGNvbnRhY3Q6ICdmb3JtJyxcbiAgICAgIG5ld3NsZXR0ZXJlbWJlZDogJ25ld3NsZXR0ZXJlbWJlZCcsXG4gICAgICBuZXdzbGV0dGVyOiAnbmV3c2xldHRlcmVtYmVkJyxcbiAgICAgIGVtYmVkOiAnbmV3c2xldHRlcmVtYmVkJyxcbiAgICB9O1xuICAgIGNvbnN0IHVwZGF0ZUdyb3VwTWluaVByZXZpZXcgPSAobW9iaWxlVmFsdWUsIGRlc2t0b3BWYWx1ZSkgPT4ge1xuICAgICAgaWYgKCFncm91cFByZXZpZXdNb2JpbGUgfHwgIWdyb3VwUHJldmlld0Rlc2t0b3ApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVuZGVyQm94ZXMgPSAoY291bnQpID0+XG4gICAgICAgIEFycmF5LmZyb20oeyBsZW5ndGg6IE51bWJlcihjb3VudCkgfHwgMSB9KVxuICAgICAgICAgIC5tYXAoKCkgPT4gJzxzcGFuIGNsYXNzPVwiYmxvY2sgaC0yIHctZnVsbCByb3VuZGVkLWZ1bGwgYmctc2xhdGUtMzAwXCI+PC9zcGFuPicpXG4gICAgICAgICAgLmpvaW4oJycpO1xuICAgICAgZ3JvdXBQcmV2aWV3TW9iaWxlLmlubmVySFRNTCA9IHJlbmRlckJveGVzKG1vYmlsZVZhbHVlKTtcbiAgICAgIGdyb3VwUHJldmlld0Rlc2t0b3AuaW5uZXJIVE1MID0gcmVuZGVyQm94ZXMoZGVza3RvcFZhbHVlKTtcbiAgICB9O1xuICAgIGNvbnN0IHVwZGF0ZUNvbGxlY3Rpb25NaW5pUHJldmlldyA9IChtb2JpbGVWYWx1ZSwgZGVza3RvcFZhbHVlKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25QcmV2aWV3TW9iaWxlIHx8ICFjb2xsZWN0aW9uUHJldmlld0Rlc2t0b3ApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVuZGVyQm94ZXMgPSAoY291bnQpID0+XG4gICAgICAgIEFycmF5LmZyb20oeyBsZW5ndGg6IE51bWJlcihjb3VudCkgfHwgMSB9KVxuICAgICAgICAgIC5tYXAoKCkgPT4gJzxzcGFuIGNsYXNzPVwiYmxvY2sgaC0yIHctZnVsbCByb3VuZGVkLWZ1bGwgYmctdmlvbGV0LTMwMFwiPjwvc3Bhbj4nKVxuICAgICAgICAgIC5qb2luKCcnKTtcbiAgICAgIGNvbGxlY3Rpb25QcmV2aWV3TW9iaWxlLmlubmVySFRNTCA9IHJlbmRlckJveGVzKG1vYmlsZVZhbHVlKTtcbiAgICAgIGNvbGxlY3Rpb25QcmV2aWV3RGVza3RvcC5pbm5lckhUTUwgPSByZW5kZXJCb3hlcyhkZXNrdG9wVmFsdWUpO1xuICAgIH07XG4gICAgY29uc3QgZmV0Y2hQYWdlc0Zyb21TZXJ2ZXIgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXBhZ2VzQXBpQmFzZSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHBhZ2VzQXBpQmFzZSwgeyBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxlcyBwYWdlcy4nKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gW10pO1xuICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkocGF5bG9hZCkgPyBwYXlsb2FkIDogW107XG4gICAgfTtcbiAgICBjb25zdCBjcmVhdGVQYWdlT25TZXJ2ZXIgPSBhc3luYyAoeyBuYW1lLCB0aXRsZSwgc2x1ZyB9KSA9PiB7XG4gICAgICBpZiAoIXBhZ2VzQXBpQmFzZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NpdGUgaW5jb25udS4nKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2gocGFnZXNBcGlCYXNlLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBuYW1lLCB0aXRsZSwgc2x1ZyB9KSxcbiAgICAgIH0pO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IocGF5bG9hZC5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIGNyXHUwMEU5ZXIgbGEgcGFnZS4nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgfTtcbiAgICBjb25zdCBzYXZlUGFnZVRvU2VydmVyID0gYXN5bmMgKHBhZ2UpID0+IHtcbiAgICAgIGlmICghcGFnZXNBcGlCYXNlIHx8ICFwYWdlPy5pZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke3BhZ2VzQXBpQmFzZX0vJHtlbmNvZGVVUklDb21wb25lbnQocGFnZS5pZCl9YCwge1xuICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBhZ2UpLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHBheWxvYWQubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBzYXV2ZWdhcmRlciBsYSBwYWdlLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNhdmVkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICBpZiAoc2F2ZWQ/LmlkKSB7XG4gICAgICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZVBhZ2VEYXRhKHNhdmVkKTtcbiAgICAgICAgICBwYWdlcyA9IHBhZ2VzLm1hcCgoZW50cnkpID0+IChlbnRyeS5pZCA9PT0gbm9ybWFsaXplZC5pZCA/IG5vcm1hbGl6ZWQgOiBlbnRyeSkpO1xuICAgICAgICAgIGlmIChjdXJyZW50UGFnZT8uaWQgPT09IG5vcm1hbGl6ZWQuaWQpIHtcbiAgICAgICAgICAgIGN1cnJlbnRQYWdlID0gbm9ybWFsaXplZDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNhdmVkO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkZXNpZ25dIFNhdmUgcGFnZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UgfHwgJ1NhdXZlZ2FyZGUgaW1wb3NzaWJsZS4nKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGxvYWRQYWdlc0Zyb21TZXJ2ZXIgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXBhZ2VzQXBpQmFzZSkge1xuICAgICAgICBwYWdlcyA9IFtdO1xuICAgICAgICBhY3RpdmVQYWdlSWQgPSBudWxsO1xuICAgICAgICBjdXJyZW50UGFnZSA9IG51bGw7XG4gICAgICAgIHJlbmRlclBhZ2VMaXN0cyhwYWdlcywgYWN0aXZlUGFnZUlkKTtcbiAgICAgICAgcmVuZGVyQmxvY2tMaXN0KG51bGwpO1xuICAgICAgICBibG9ja0RldGFpbEVtcHR5Py5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgYmxvY2tFZGl0b3I/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBsb2FkZWRQYWdlcyA9IGF3YWl0IGZldGNoUGFnZXNGcm9tU2VydmVyKCk7XG4gICAgICAgIHBhZ2VzID0gKEFycmF5LmlzQXJyYXkobG9hZGVkUGFnZXMpID8gbG9hZGVkUGFnZXMgOiBbXSkubWFwKChwYWdlKSA9PlxuICAgICAgICAgIG5vcm1hbGl6ZVBhZ2VEYXRhKHBhZ2UpLFxuICAgICAgICApO1xuICAgICAgICBpZiAocGFnZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgYWN0aXZlUGFnZUlkID0gbnVsbDtcbiAgICAgICAgICBjdXJyZW50UGFnZSA9IG51bGw7XG4gICAgICAgICAgcmVuZGVyUGFnZUxpc3RzKHBhZ2VzLCBhY3RpdmVQYWdlSWQpO1xuICAgICAgICAgIHJlbmRlckJsb2NrTGlzdChudWxsKTtcbiAgICAgICAgICBibG9ja0RldGFpbEVtcHR5Py5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICBibG9ja0VkaXRvcj8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgICAgcHJldmlld0ZyYW1lICYmIChwcmV2aWV3RnJhbWUuc3JjZG9jID0gZ2V0TG9hZGluZ1ByZXZpZXdIdG1sKCkpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBhY3RpdmVQYWdlSWQgPSBnZXRTdG9yZWRBY3RpdmVQYWdlKHBhZ2VzKTtcbiAgICAgICAgc2V0QWN0aXZlUGFnZShhY3RpdmVQYWdlSWQpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkZXNpZ25dIEltcG9zc2libGUgZGUgY2hhcmdlciBsZXMgcGFnZXMnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoJ0ltcG9zc2libGUgZGUgY2hhcmdlciBsZXMgcGFnZXMuJyk7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBub3JtYWxpemVUeXBlID0gKHZhbHVlKSA9PlxuICAgICAgKHZhbHVlIHx8ICcnKS5ub3JtYWxpemUoJ05GRCcpLnJlcGxhY2UoL1tcXHUwMzAwLVxcdTAzNmZdL2csICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgIGNvbnN0IGdldEJsb2NrRm9ybUNvbmZpZyA9IChibG9jaykgPT4ge1xuICAgICAgaWYgKCFibG9jaykge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHR5cGVLZXkgPSBub3JtYWxpemVUeXBlKGJsb2NrLnR5cGUpO1xuICAgICAgY29uc3QgYWxpYXMgPSBibG9ja1R5cGVBbGlhc2VzW3R5cGVLZXldIHx8IHR5cGVLZXk7XG4gICAgICByZXR1cm4gYmxvY2tUeXBlRm9ybXNbYWxpYXNdIHx8IG51bGw7XG4gICAgfTtcbiAgICBjb25zdCBwb3B1bGF0ZUJsb2NrRm9ybSA9IChibG9jaykgPT4ge1xuICAgICAgaWYgKCFibG9ja0Zvcm0gfHwgIWJsb2NrRWRpdG9yKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChibG9jayAmJiAhYmxvY2suc2V0dGluZ3MpIHtcbiAgICAgICAgYmxvY2suc2V0dGluZ3MgPSB7fTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNvbmZpZyA9IGdldEJsb2NrRm9ybUNvbmZpZyhibG9jayk7XG4gICAgICBpZiAoYmxvY2tFZGl0b3JUaXRsZSkge1xuICAgICAgICBibG9ja0VkaXRvclRpdGxlLnRleHRDb250ZW50ID0gYmxvY2s/LmxhYmVsIHx8ICdCbG9jJztcbiAgICAgIH1cbiAgICAgIGlmIChibG9ja0VkaXRvclR5cGUpIHtcbiAgICAgICAgYmxvY2tFZGl0b3JUeXBlLnRleHRDb250ZW50ID0gYmxvY2s/LnR5cGUgfHwgJ0Jsb2MnO1xuICAgICAgfVxuICAgICAgaWYgKCFjb25maWcpIHtcbiAgICAgICAgYmxvY2tGb3JtLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBibG9ja0VkaXRvclVuc3VwcG9ydGVkPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgYmxvY2tGb3JtLmRhdGFzZXQuYmxvY2tJZCA9ICcnO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBibG9ja0VkaXRvclVuc3VwcG9ydGVkPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGJsb2NrRm9ybS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGJsb2NrRm9ybS5yZXNldCgpO1xuICAgICAgYmxvY2tGb3JtLmRhdGFzZXQuYmxvY2tJZCA9IGJsb2NrLmlkO1xuICAgICAgYmxvY2tGb3JtU2VjdGlvbnMuZm9yRWFjaCgoc2VjdGlvbikgPT4ge1xuICAgICAgICBjb25zdCBzZWN0aW9uSWQgPSBzZWN0aW9uLmRhdGFzZXQuZWRpdG9yU2VjdGlvbjtcbiAgICAgICAgaWYgKHNlY3Rpb25JZCA9PT0gY29uZmlnLnNlY3Rpb24pIHtcbiAgICAgICAgICBzZWN0aW9uLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlY3Rpb24uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgLy8gUlx1MDBFOWluaXRpYWxpc2VyIHN1ciBsJ29uZ2xldCBDb250ZW51XG4gICAgICBzd2l0Y2hCbG9ja1RhYignY29udGVudCcpO1xuICAgICAgaWYgKGNvbmZpZy5zZWN0aW9uID09PSAnY29sbGVjdGlvbicpIHtcbiAgICAgICAgY29uc3QgZGVzaXJlZFZhbHVlID0gYmxvY2suY29sbGVjdGlvbklkIHx8IGJsb2NrLnNldHRpbmdzPy5jb2xsZWN0aW9uSWQgfHwgJyc7XG4gICAgICAgIHVwZGF0ZUNvbGxlY3Rpb25TZWxlY3RPcHRpb25zKGRlc2lyZWRWYWx1ZSk7XG4gICAgICB9XG4gICAgICBPYmplY3QuZW50cmllcyhjb25maWcuZmllbGRzKS5mb3JFYWNoKChbc2V0dGluZ0tleSwgZmllbGROYW1lXSkgPT4ge1xuICAgICAgICBjb25zdCBpbnB1dCA9IGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yKGBbbmFtZT1cIiR7ZmllbGROYW1lfVwiXWApO1xuICAgICAgICBpZiAoIWlucHV0KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZhbHVlID0gYmxvY2suc2V0dGluZ3M/LltzZXR0aW5nS2V5XTtcbiAgICAgICAgaWYgKGlucHV0LnR5cGUgPT09ICdjaGVja2JveCcpIHtcbiAgICAgICAgICBpbnB1dC5jaGVja2VkID0gQm9vbGVhbih2YWx1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5wdXQudHlwZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICBpbnB1dC52YWx1ZSA9IHZhbHVlID8/IDE7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5wdXQudGFnTmFtZSA9PT0gJ1RFWFRBUkVBJykge1xuICAgICAgICAgIGlucHV0LnZhbHVlID0gdmFsdWUgPz8gJyc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaW5wdXQudmFsdWUgPSB2YWx1ZSA/PyAnJztcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoY29uZmlnLnNlY3Rpb24gPT09ICdncm91cCcpIHtcbiAgICAgICAgY29uc3QgbW9iaWxlVmFsdWUgPVxuICAgICAgICAgIGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImdyb3VwLWNvbHVtbnMtbW9iaWxlXCJdJyk/LnZhbHVlIHx8ICcxJztcbiAgICAgICAgY29uc3QgZGVza3RvcFZhbHVlID1cbiAgICAgICAgICBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJncm91cC1jb2x1bW5zLWRlc2t0b3BcIl0nKT8udmFsdWUgfHwgJzMnO1xuICAgICAgICB1cGRhdGVHcm91cE1pbmlQcmV2aWV3KG1vYmlsZVZhbHVlLCBkZXNrdG9wVmFsdWUpO1xuICAgICAgfVxuICAgICAgaWYgKGNvbmZpZy5zZWN0aW9uID09PSAnY29sbGVjdGlvbicpIHtcbiAgICAgICAgY29uc3QgbW9iaWxlVmFsdWUgPVxuICAgICAgICAgIGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImNvbGxlY3Rpb24tY29sdW1ucy1tb2JpbGVcIl0nKT8udmFsdWUgfHwgJzEnO1xuICAgICAgICBjb25zdCBkZXNrdG9wVmFsdWUgPVxuICAgICAgICAgIGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImNvbGxlY3Rpb24tY29sdW1ucy1kZXNrdG9wXCJdJyk/LnZhbHVlIHx8ICczJztcbiAgICAgICAgdXBkYXRlQ29sbGVjdGlvbk1pbmlQcmV2aWV3KG1vYmlsZVZhbHVlLCBkZXNrdG9wVmFsdWUpO1xuICAgICAgfVxuICAgICAgLy8gTWlzZSBcdTAwRTAgam91ciBkZXMgcHJldmlld3MgZGUgY291bGV1clxuICAgICAgYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWNvbG9yLXNlbGVjdF0nKS5mb3JFYWNoKChzZWxlY3QpID0+IHtcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRPcHRpb24gPSBzZWxlY3Qub3B0aW9uc1tzZWxlY3Quc2VsZWN0ZWRJbmRleF07XG4gICAgICAgIGNvbnN0IGNvbG9yID0gc2VsZWN0ZWRPcHRpb24/LmRhdGFzZXQ/LmNvbG9yIHx8ICcjZmZmZmZmJztcbiAgICAgICAgY29uc3QgY29sb3JQcmV2aWV3ID0gc2VsZWN0LmNsb3Nlc3QoJy5yZWxhdGl2ZScpPy5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xvci1wcmV2aWV3XScpO1xuICAgICAgICBpZiAoY29sb3JQcmV2aWV3KSB7XG4gICAgICAgICAgaWYgKGNvbG9yID09PSAndHJhbnNwYXJlbnQnKSB7XG4gICAgICAgICAgICBjb2xvclByZXZpZXcuc3R5bGUuYmFja2dyb3VuZCA9ICdyZXBlYXRpbmctY29uaWMtZ3JhZGllbnQoI2NjYyAwJSAyNSUsIHdoaXRlIDAlIDUwJSkgNTAlIC8gOHB4IDhweCc7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbG9yUHJldmlldy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBjb2xvcjtcbiAgICAgICAgICAgIGNvbG9yUHJldmlldy5zdHlsZS5iYWNrZ3JvdW5kID0gJyc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IGNvbGxlY3RGb3JtVmFsdWVzID0gKGNvbmZpZykgPT4ge1xuICAgICAgaWYgKCFibG9ja0Zvcm0gfHwgIWNvbmZpZykge1xuICAgICAgICByZXR1cm4ge307XG4gICAgICB9XG4gICAgICBjb25zdCB2YWx1ZXMgPSB7fTtcbiAgICAgIE9iamVjdC5lbnRyaWVzKGNvbmZpZy5maWVsZHMpLmZvckVhY2goKFtzZXR0aW5nS2V5LCBmaWVsZE5hbWVdKSA9PiB7XG4gICAgICAgIGNvbnN0IGlucHV0ID0gYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3IoYFtuYW1lPVwiJHtmaWVsZE5hbWV9XCJdYCk7XG4gICAgICAgIGlmICghaW5wdXQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlucHV0LnR5cGUgPT09ICdjaGVja2JveCcpIHtcbiAgICAgICAgICB2YWx1ZXNbc2V0dGluZ0tleV0gPSBpbnB1dC5jaGVja2VkO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0LnR5cGUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgY29uc3QgcGFyc2VkID0gTnVtYmVyKGlucHV0LnZhbHVlKTtcbiAgICAgICAgICB2YWx1ZXNbc2V0dGluZ0tleV0gPSBOdW1iZXIuaXNGaW5pdGUocGFyc2VkKSA/IHBhcnNlZCA6IDA7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5wdXQudGFnTmFtZSA9PT0gJ1RFWFRBUkVBJykge1xuICAgICAgICAgIHZhbHVlc1tzZXR0aW5nS2V5XSA9IGlucHV0LnZhbHVlIHx8ICcnO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0LnR5cGUgPT09ICdzZWxlY3Qtb25lJykge1xuICAgICAgICAgIHZhbHVlc1tzZXR0aW5nS2V5XSA9IGlucHV0LnZhbHVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhbHVlc1tzZXR0aW5nS2V5XSA9IGlucHV0LnZhbHVlIHx8ICcnO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgfTtcbiAgICBjb25zdCB1cGRhdGVQcmV2aWV3U3RhdHVzID0gKHRleHQpID0+IHtcbiAgICAgIGlmICghcHJldmlld1N0YXR1cykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIXRleHQpIHtcbiAgICAgICAgcHJldmlld1N0YXR1cy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcHJldmlld1N0YXR1cy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIHByZXZpZXdTdGF0dXMudGV4dENvbnRlbnQgPSB0ZXh0O1xuICAgIH07XG4gICAgY29uc3Qgc2VyaWFsaXplUGFnZUZvclByZXZpZXcgPSAocGFnZSkgPT4ge1xuICAgICAgaWYgKCFwYWdlKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBGb25jdGlvbiBwb3VyIHNcdTAwRTlyaWFsaXNlciB1biBibG9jICh1dGlsaXNcdTAwRTkgcG91ciBsZXMgYmxvY3MgZXQgbGV1cnMgZW5mYW50cylcbiAgICAgIGNvbnN0IHNlcmlhbGl6ZUJsb2NrID0gKGJsb2NrKSA9PiAoe1xuICAgICAgICBpZDogYmxvY2suaWQsXG4gICAgICAgIHR5cGU6IGJsb2NrLnR5cGUsXG4gICAgICAgIGxhYmVsOiBibG9jay5sYWJlbCxcbiAgICAgICAgc3RhdHVzOiBibG9jay5zdGF0dXMsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBibG9jay5kZXNjcmlwdGlvbixcbiAgICAgICAgcHJvcHM6IGJsb2NrLnByb3BzIHx8IFtdLFxuICAgICAgICBzZXR0aW5nczogYmxvY2suc2V0dGluZ3MgfHwge30sXG4gICAgICAgIGNvbGxlY3Rpb25JZDogYmxvY2suY29sbGVjdGlvbklkIHx8IGJsb2NrLnNldHRpbmdzPy5jb2xsZWN0aW9uSWQgfHwgJycsXG4gICAgICAgIGNoaWxkcmVuOiAoYmxvY2suY2hpbGRyZW4gfHwgW10pLm1hcChzZXJpYWxpemVCbG9jayksXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IHBhZ2UuaWQsXG4gICAgICAgIHRpdGxlOiBwYWdlLnRpdGxlLFxuICAgICAgICBzbHVnOiBwYWdlLnNsdWcsXG4gICAgICAgIGJhZGdlczogWy4uLihwYWdlLmJhZGdlcyB8fCBbXSldLFxuICAgICAgICBzZW86IHBhZ2Uuc2VvIHx8IHt9LFxuICAgICAgICBibG9ja3M6IChwYWdlLmJsb2NrcyB8fCBbXSkubWFwKHNlcmlhbGl6ZUJsb2NrKSxcbiAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBnZXRMb2FkaW5nUHJldmlld0h0bWwgPSAoKSA9PlxuICAgICAgJzwhRE9DVFlQRSBodG1sPjxodG1sPjxib2R5IHN0eWxlPVwiZm9udC1mYW1pbHk6SW50ZXIsc2Fucy1zZXJpZjtwYWRkaW5nOjQwcHg7Y29sb3I6IzQ3NTU2OTtiYWNrZ3JvdW5kOiNmZmY7XCI+UHJcdTAwRTlwYXJhdGlvbiBkZSBsYSBwclx1MDBFOXZpc3VhbGlzYXRpb25cdTIwMjY8L2JvZHk+PC9odG1sPic7XG5cbiAgICAvLyBEZWJvdW5jZSB1dGlsaXR5XG4gICAgY29uc3QgZGVib3VuY2UgPSAoZm4sIGRlbGF5KSA9PiB7XG4gICAgICBsZXQgdGltZW91dElkO1xuICAgICAgcmV0dXJuICguLi5hcmdzKSA9PiB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICAgICAgICB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IGZuKC4uLmFyZ3MpLCBkZWxheSk7XG4gICAgICB9O1xuICAgIH07XG5cbiAgICAvLyBBdXRvLXNhdmUgcG91ciBsJ2FwcGFyZW5jZSAoZGVib3VuY2VkKVxuICAgIGxldCBhdXRvU2F2ZVRpbWVvdXQgPSBudWxsO1xuICAgIGNvbnN0IGF1dG9TYXZlQXBwZWFyYW5jZSA9ICgpID0+IHtcbiAgICAgIGlmICghY3VycmVudFBhZ2UgfHwgIWFjdGl2ZUJsb2NrSWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgYmxvY2sgPSBnZXRBY3RpdmVCbG9jaygpO1xuICAgICAgY29uc3QgY29uZmlnID0gZ2V0QmxvY2tGb3JtQ29uZmlnKGJsb2NrKTtcbiAgICAgIGlmICghYmxvY2sgfHwgIWNvbmZpZykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCB2YWx1ZXMgPSBjb2xsZWN0Rm9ybVZhbHVlcyhjb25maWcpO1xuICAgICAgY29uc3QgdXBkYXRlZEJsb2NrcyA9IChjdXJyZW50UGFnZS5ibG9ja3MgfHwgW10pLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgaWYgKGVudHJ5LmlkICE9PSBibG9jay5pZCkge1xuICAgICAgICAgIHJldHVybiBlbnRyeTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB1cGRhdGVkU2V0dGluZ3MgPSB7IC4uLihlbnRyeS5zZXR0aW5ncyB8fCB7fSksIC4uLnZhbHVlcyB9O1xuICAgICAgICByZXR1cm4geyAuLi5lbnRyeSwgc2V0dGluZ3M6IHVwZGF0ZWRTZXR0aW5ncyB9O1xuICAgICAgfSk7XG4gICAgICAvLyBNaXNlIFx1MDBFMCBqb3VyIHNpbGVuY2lldXNlIChzYW5zIHRvYXN0IG5pIHJlZnJlc2ggY29tcGxldClcbiAgICAgIGNvbnN0IG5leHRQYWdlID0geyAuLi5jdXJyZW50UGFnZSwgYmxvY2tzOiB1cGRhdGVkQmxvY2tzIH07XG4gICAgICBjdXJyZW50UGFnZSA9IG5leHRQYWdlO1xuICAgICAgc2F2ZVBhZ2VUb1NlcnZlcihuZXh0UGFnZSk7XG4gICAgfTtcblxuICAgIC8vIE1pc2UgXHUwMEUwIGpvdXIgbGl2ZSBkZSBsYSBwcmV2aWV3IHZpYSBwb3N0TWVzc2FnZSAoc2FucyByZWNoYXJnZXIgbCdpZnJhbWUpXG4gICAgY29uc3QgdXBkYXRlUHJldmlld0Jsb2NrTGl2ZSA9IChibG9ja0lkLCBzZXR0aW5ncykgPT4ge1xuICAgICAgaWYgKCFwcmV2aWV3RnJhbWUgfHwgIXByZXZpZXdGcmFtZS5jb250ZW50V2luZG93KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vIEVudm9pZSBsZXMgbm91dmVsbGVzIGNsYXNzZXMgYXUgYmxvYyBkYW5zIGwnaWZyYW1lXG4gICAgICBwcmV2aWV3RnJhbWUuY29udGVudFdpbmRvdy5wb3N0TWVzc2FnZSh7XG4gICAgICAgIHR5cGU6ICd1cGRhdGVCbG9ja1N0eWxlcycsXG4gICAgICAgIGJsb2NrSWQsXG4gICAgICAgIHNldHRpbmdzLFxuICAgICAgfSwgJyonKTtcbiAgICB9O1xuXG4gICAgLy8gTWlzZSBcdTAwRTAgam91ciBsaXZlICsgYXV0by1zYXZlIChkZWJvdW5jZWQpXG4gICAgY29uc3QgZGVib3VuY2VkQXV0b1NhdmUgPSBkZWJvdW5jZSgoKSA9PiB7XG4gICAgICBhdXRvU2F2ZUFwcGVhcmFuY2UoKTtcbiAgICAgIHVwZGF0ZVByZXZpZXdTdGF0dXMoJ1NhdXZlZ2FyZFx1MDBFOScpO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB1cGRhdGVQcmV2aWV3U3RhdHVzKCdcdTAwQzAgam91cicpLCAxNTAwKTtcbiAgICB9LCA4MDApO1xuXG4gICAgLy8gUmVmcmVzaCBwcmV2aWV3IGNvbXBsZXQgZGVib3VuY2VkIChwb3VyIGxlcyBjaGFuZ2VtZW50cyBjb21wbGV4ZXMpXG4gICAgY29uc3QgZGVib3VuY2VkUmVmcmVzaFByZXZpZXcgPSBkZWJvdW5jZSgoKSA9PiB7XG4gICAgICBpZiAoY3VycmVudFBhZ2UpIHtcbiAgICAgICAgcmVmcmVzaFByZXZpZXcoY3VycmVudFBhZ2UpO1xuICAgICAgfVxuICAgIH0sIDE1MDApO1xuXG4gICAgLy8gTWlzZSBcdTAwRTAgam91ciBsaXZlIGltbVx1MDBFOWRpYXRlIChwb3VyIGxhIHByZXZpZXcpXG4gICAgY29uc3QgaGFuZGxlQXBwZWFyYW5jZUNoYW5nZSA9IChibG9ja0lkLCBzZXR0aW5ncykgPT4ge1xuICAgICAgdXBkYXRlUHJldmlld0Jsb2NrTGl2ZShibG9ja0lkLCBzZXR0aW5ncyk7XG4gICAgICB1cGRhdGVQcmV2aWV3U3RhdHVzKCdNb2RpZmljYXRpb25cdTIwMjYnKTtcbiAgICAgIGRlYm91bmNlZEF1dG9TYXZlKCk7XG4gICAgICAvLyBSZWZyZXNoIGNvbXBsZXQgYXByXHUwMEU4cyB1biBkXHUwMEU5bGFpIHBsdXMgbG9uZyAocG91ciBsZXMgY2hhbmdlbWVudHMgZGUgbGF5b3V0LCBldGMuKVxuICAgICAgZGVib3VuY2VkUmVmcmVzaFByZXZpZXcoKTtcbiAgICB9O1xuXG4gICAgY29uc3QgcmVmcmVzaFByZXZpZXcgPSAocGFnZSkgPT4ge1xuICAgICAgaWYgKCFwcmV2aWV3RnJhbWUgfHwgIXBhZ2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgcHJldmlld1NpdGVTbHVnID0gd29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnJztcbiAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgIHBhZ2U6IHNlcmlhbGl6ZVBhZ2VGb3JQcmV2aWV3KHBhZ2UpLFxuICAgICAgICBzaXRlOiB7XG4gICAgICAgICAgdGl0bGU6IHN0b3JlZFNpdGUubmFtZSB8fCAnU2l0ZScsXG4gICAgICAgICAgc2x1ZzogcHJldmlld1NpdGVTbHVnLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICAgIHByZXZpZXdSZWFkeSA9IGZhbHNlO1xuICAgICAgdXBkYXRlUHJldmlld1N0YXR1cygnQWN0dWFsaXNhdGlvblx1MjAyNicpO1xuICAgICAgcHJldmlld0ZyYW1lLnNyY2RvYyA9IGdldExvYWRpbmdQcmV2aWV3SHRtbCgpO1xuICAgICAgaWYgKHByZXZpZXdSZXF1ZXN0Q29udHJvbGxlcikge1xuICAgICAgICBwcmV2aWV3UmVxdWVzdENvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgICBwcmV2aWV3UmVxdWVzdENvbnRyb2xsZXIgPSBjb250cm9sbGVyO1xuICAgICAgZmV0Y2goJy9hcGkvcHJldmlldycsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgc2lnbmFsOiBjb250cm9sbGVyLnNpZ25hbCxcbiAgICAgIH0pXG4gICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUHJldmlldyBlcnJvcicpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICB9KVxuICAgICAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICAgIGlmIChjb250cm9sbGVyLnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGxhdGVzdFByZXZpZXdIdG1sID0gZGF0YS5odG1sIHx8ICcnO1xuICAgICAgICAgIHByZXZpZXdGcmFtZS5zZXRBdHRyaWJ1dGUoXG4gICAgICAgICAgICAndGl0bGUnLFxuICAgICAgICAgICAgYFByXHUwMEU5dmlzdWFsaXNhdGlvbiBkZSBsYSBwYWdlICR7cGFnZS50aXRsZSB8fCAnJ31gLnRyaW0oKSxcbiAgICAgICAgICApO1xuICAgICAgICAgIHByZXZpZXdGcmFtZS5zcmNkb2MgPSBsYXRlc3RQcmV2aWV3SHRtbCB8fCBnZXRMb2FkaW5nUHJldmlld0h0bWwoKTtcbiAgICAgICAgICB1cGRhdGVQcmV2aWV3U3RhdHVzKCdcdTAwQzAgam91cicpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgaWYgKGNvbnRyb2xsZXIuc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3ByZXZpZXddIEltcG9zc2libGUgZGUgcmVuZHJlIGxhIHBhZ2UnLCBlcnJvcik7XG4gICAgICAgICAgdXBkYXRlUHJldmlld1N0YXR1cygnRXJyZXVyIHByZXZpZXcnKTtcbiAgICAgICAgICBwcmV2aWV3RnJhbWUuc3JjZG9jID1cbiAgICAgICAgICAgICc8IURPQ1RZUEUgaHRtbD48aHRtbD48Ym9keSBzdHlsZT1cImZvbnQtZmFtaWx5OkludGVyLHNhbnMtc2VyaWY7cGFkZGluZzo0MHB4O2NvbG9yOiNiZTEyM2M7YmFja2dyb3VuZDojZmZmO1wiPkVycmV1ciBsb3JzIGR1IHJlbmR1IGRlIGxhIHByXHUwMEU5dmlzdWFsaXNhdGlvbi48L2JvZHk+PC9odG1sPic7XG4gICAgICAgIH0pXG4gICAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgICBpZiAocHJldmlld1JlcXVlc3RDb250cm9sbGVyID09PSBjb250cm9sbGVyKSB7XG4gICAgICAgICAgICBwcmV2aWV3UmVxdWVzdENvbnRyb2xsZXIgPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBjb25zdCBoYW5kbGVCbG9ja0Zvcm1TdWJtaXQgPSAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlIHx8ICFhY3RpdmVCbG9ja0lkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGJsb2NrID0gZ2V0QWN0aXZlQmxvY2soKTtcbiAgICAgIGNvbnN0IGNvbmZpZyA9IGdldEJsb2NrRm9ybUNvbmZpZyhibG9jayk7XG4gICAgICBpZiAoIWJsb2NrIHx8ICFjb25maWcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgdmFsdWVzID0gY29sbGVjdEZvcm1WYWx1ZXMoY29uZmlnKTtcbiAgICAgIGlmIChjb25maWcuc2VjdGlvbiA9PT0gJ2NvbGxlY3Rpb24nKSB7XG4gICAgICAgIGlmICghdmFsdWVzLmNvbGxlY3Rpb25JZCkge1xuICAgICAgICAgIHNob3dUb2FzdCgnU1x1MDBFOWxlY3Rpb25uZXogdW5lIGNvbGxlY3Rpb24uJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhbHVlcy5saW1pdCA9IE1hdGgubWF4KDEsIE51bWJlcih2YWx1ZXMubGltaXQpIHx8IDEpO1xuICAgICAgfVxuICAgICAgY29uc3QgdXBkYXRlZEJsb2NrcyA9IChjdXJyZW50UGFnZS5ibG9ja3MgfHwgW10pLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgaWYgKGVudHJ5LmlkICE9PSBibG9jay5pZCkge1xuICAgICAgICAgIHJldHVybiBlbnRyeTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB1cGRhdGVkU2V0dGluZ3MgPSB7IC4uLihlbnRyeS5zZXR0aW5ncyB8fCB7fSksIC4uLnZhbHVlcyB9O1xuICAgICAgICBjb25zdCB1cGRhdGVkQmxvY2sgPSB7XG4gICAgICAgICAgLi4uZW50cnksXG4gICAgICAgICAgc2V0dGluZ3M6IHVwZGF0ZWRTZXR0aW5ncyxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGNvbmZpZy5sYWJlbEZpZWxkICYmIHZhbHVlc1tjb25maWcubGFiZWxGaWVsZF0pIHtcbiAgICAgICAgICB1cGRhdGVkQmxvY2subGFiZWwgPSB2YWx1ZXNbY29uZmlnLmxhYmVsRmllbGRdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb25maWcuZGVzY3JpcHRpb25GaWVsZCAmJiB2YWx1ZXNbY29uZmlnLmRlc2NyaXB0aW9uRmllbGRdKSB7XG4gICAgICAgICAgdXBkYXRlZEJsb2NrLmRlc2NyaXB0aW9uID0gdmFsdWVzW2NvbmZpZy5kZXNjcmlwdGlvbkZpZWxkXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29uZmlnLnNlY3Rpb24gPT09ICdjb2xsZWN0aW9uJykge1xuICAgICAgICAgIHVwZGF0ZWRCbG9jay5jb2xsZWN0aW9uSWQgPSB2YWx1ZXMuY29sbGVjdGlvbklkO1xuICAgICAgICAgIHVwZGF0ZWRCbG9jay5zZXR0aW5ncy5jb2xsZWN0aW9uSWQgPSB2YWx1ZXMuY29sbGVjdGlvbklkO1xuICAgICAgICAgIHVwZGF0ZWRCbG9jay5zZXR0aW5ncy5saW1pdCA9IHZhbHVlcy5saW1pdDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdXBkYXRlZEJsb2NrO1xuICAgICAgfSk7XG4gICAgICB1cGRhdGVDdXJyZW50UGFnZUJsb2Nrcyh1cGRhdGVkQmxvY2tzKTtcbiAgICAgIHNob3dUb2FzdCgnQmxvYyBtaXMgXHUwMEUwIGpvdXInKTtcbiAgICAgIHNldEFjdGl2ZVBhZ2UoY3VycmVudFBhZ2UuaWQsIHsgcHJlc2VydmVCbG9jazogdHJ1ZSB9KTtcbiAgICB9O1xuICAgIGNvbnN0IGRyYXdlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXBhZ2UtZHJhd2VyXScpO1xuICAgIGNvbnN0IGRyYXdlckJhY2tkcm9wID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1kcmF3ZXItYmFja2Ryb3BdJyk7XG4gICAgY29uc3QgZHJhd2VyT3BlbkJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1wYWdlLWRyYXdlci1vcGVuXScpO1xuICAgIGNvbnN0IGRyYXdlckNsb3NlQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXBhZ2UtZHJhd2VyLWNsb3NlXScpO1xuICAgIGNvbnN0IGFkZFBhZ2VUb2dnbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZGQtcGFnZS10b2dnbGVdJyk7XG4gICAgY29uc3QgYWRkUGFnZUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZGQtcGFnZS1mb3JtXScpO1xuICAgIGNvbnN0IGFkZFBhZ2VOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRkLXBhZ2UtbmFtZV0nKTtcbiAgICBjb25zdCBhZGRQYWdlVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZGQtcGFnZS10aXRsZV0nKTtcbiAgICBjb25zdCBhZGRQYWdlU2x1ZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFkZC1wYWdlLXNsdWddJyk7XG4gICAgY29uc3QgYWRkUGFnZUNhbmNlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFkZC1wYWdlLWNhbmNlbF0nKTtcbiAgICBjb25zdCBhZGRQYWdlRXJyb3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZGQtcGFnZS1lcnJvcl0nKTtcbiAgICBjb25zdCBhZGRQYWdlU3VibWl0QnV0dG9uID0gYWRkUGFnZUZvcm0/LnF1ZXJ5U2VsZWN0b3IoJ1t0eXBlPVwic3VibWl0XCJdJyk7XG4gICAgLy8gSW1wb3J0IEpTT04gZWxlbWVudHNcbiAgICBjb25zdCBpbXBvcnRUb2dnbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbXBvcnQtcGFnZXMtdG9nZ2xlXScpO1xuICAgIGNvbnN0IGltcG9ydE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaW1wb3J0LW1vZGFsXScpO1xuICAgIGNvbnN0IGltcG9ydENsb3NlQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWltcG9ydC1tb2RhbC1jbG9zZV0nKTtcbiAgICBjb25zdCBpbXBvcnREcm9wem9uZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWltcG9ydC1kcm9wem9uZV0nKTtcbiAgICBjb25zdCBpbXBvcnRGaWxlSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbXBvcnQtZmlsZS1pbnB1dF0nKTtcbiAgICBjb25zdCBpbXBvcnRGaWxlTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWltcG9ydC1maWxlLWxpc3RdJyk7XG4gICAgY29uc3QgaW1wb3J0RmlsZU5hbWVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaW1wb3J0LWZpbGUtbmFtZXNdJyk7XG4gICAgY29uc3QgaW1wb3J0UmVzdWx0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWltcG9ydC1yZXN1bHRzXScpO1xuICAgIGNvbnN0IGltcG9ydFJlc3VsdHNDb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaW1wb3J0LXJlc3VsdHMtY29udGVudF0nKTtcbiAgICBjb25zdCBpbXBvcnRTdWJtaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbXBvcnQtc3VibWl0XScpO1xuICAgIGNvbnN0IGltcG9ydFRhYnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1pbXBvcnQtdGFiXScpO1xuICAgIGNvbnN0IGltcG9ydFBhbmVscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWltcG9ydC1wYW5lbF0nKTtcbiAgICBjb25zdCBjb3B5VGVtcGxhdGVCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb3B5LXRlbXBsYXRlXScpO1xuICAgIGNvbnN0IHRlbXBsYXRlSnNvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRlbXBsYXRlLWpzb25dJyk7XG4gICAgLy8gUGFzdGUgSlNPTiBlbGVtZW50c1xuICAgIGNvbnN0IGltcG9ydFBhc3RlSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbXBvcnQtcGFzdGUtanNvbl0nKTtcbiAgICBjb25zdCBwYXN0ZUZvcm1hdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWZvcm1hdC1qc29uXScpO1xuICAgIGNvbnN0IHBhc3RlRXJyb3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbXBvcnQtcGFzdGUtZXJyb3JdJyk7XG4gICAgbGV0IGltcG9ydFNlbGVjdGVkRmlsZXMgPSBbXTtcbiAgICBsZXQgYWN0aXZlSW1wb3J0VGFiID0gJ3VwbG9hZCc7XG4gICAgLy8gRGVsZXRlIHBhZ2UgZWxlbWVudHNcbiAgICBjb25zdCBkZWxldGVQYWdlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZWxldGUtcGFnZS1tb2RhbF0nKTtcbiAgICBjb25zdCBkZWxldGVQYWdlTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlbGV0ZS1wYWdlLW5hbWVdJyk7XG4gICAgY29uc3QgZGVsZXRlUGFnZUNhbmNlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlbGV0ZS1wYWdlLWNhbmNlbF0nKTtcbiAgICBjb25zdCBkZWxldGVQYWdlQ29uZmlybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlbGV0ZS1wYWdlLWNvbmZpcm1dJyk7XG4gICAgbGV0IHBhZ2VUb0RlbGV0ZSA9IG51bGw7XG4gICAgY29uc3Qgc2l0ZUtleSA9XG4gICAgICBzdHJpcExlYWRpbmdTbGFzaCh3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICdkZWZhdWx0JykgfHwgJ2RlZmF1bHQnO1xuICAgIGNvbnN0IHNpdGVTbHVnVmFsdWUgPSB3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnO1xuICAgIGNvbnN0IHNhZmVTaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKHNpdGVTbHVnVmFsdWUpIHx8ICcnO1xuICAgIGNvbnN0IHBhZ2VzQXBpQmFzZSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9wYWdlc2BcbiAgICAgIDogbnVsbDtcbiAgICBjb25zdCBjb2xsZWN0aW9uc0FwaUJhc2UgPSBzYWZlU2l0ZVNsdWdcbiAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnKX0vY29sbGVjdGlvbnNgXG4gICAgICA6IG51bGw7XG4gICAgY29uc3Qgc3RvcmFnZUtleXMgPSB7XG4gICAgICBhY3RpdmU6IGBjbG93ZXI6YWN0aXZlUGFnZToke3NpdGVLZXl9YCxcbiAgICB9O1xuICAgIGNvbnN0IGNyZWF0ZUJsb2NrID0gKGlkLCBsYWJlbCwgdHlwZSwgc3RhdHVzLCBkZXNjcmlwdGlvbiwgcHJvcHMgPSBbXSwgc2V0dGluZ3MgPSB7fSkgPT4ge1xuICAgICAgY29uc3QgYmxvY2sgPSB7XG4gICAgICAgIGlkLFxuICAgICAgICBsYWJlbCxcbiAgICAgICAgdHlwZSxcbiAgICAgICAgc3RhdHVzLFxuICAgICAgICBkZXNjcmlwdGlvbixcbiAgICAgICAgcHJvcHMsXG4gICAgICAgIHNldHRpbmdzOiB7IC4uLnNldHRpbmdzIH0sXG4gICAgICB9O1xuICAgICAgaWYgKGJsb2NrLnNldHRpbmdzLmNvbGxlY3Rpb25JZCkge1xuICAgICAgICBibG9jay5jb2xsZWN0aW9uSWQgPSBibG9jay5zZXR0aW5ncy5jb2xsZWN0aW9uSWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmxvY2s7XG4gICAgfTtcbiAgICBjb25zdCBibG9ja0xpYnJhcnlEZWZpbml0aW9ucyA9IHtcbiAgICAgIGhlcm86IHtcbiAgICAgICAgdHlwZTogJ0hlcm8nLFxuICAgICAgICBsYWJlbDogJ0hlcm8gZGUgcGFnZScsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnU2VjdGlvbiBwbGVpbmUgbGFyZ2V1ciBhdmVjIENUQSBwcmluY2lwYWwuJyxcbiAgICAgICAgc3RhdHVzOiAnQnJvdWlsbG9uJyxcbiAgICAgICAgcHJvcHM6IFtcbiAgICAgICAgICB7IGxhYmVsOiAnQ1RBJywgdmFsdWU6ICdEXHUwMEU5Y291dnJpcicgfSxcbiAgICAgICAgICB7IGxhYmVsOiAnSGF1dGV1cicsIHZhbHVlOiAnODB2aCcgfSxcbiAgICAgICAgXSxcbiAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICB0aXRsZTogJ1RpdHJlIGR1IGhlcm8nLFxuICAgICAgICAgIHN1YnRpdGxlOiAnJyxcbiAgICAgICAgICBjdGFMYWJlbDogJ0RcdTAwRTljb3V2cmlyJyxcbiAgICAgICAgICBjdGFVcmw6ICcjJyxcbiAgICAgICAgICBpbWFnZTogJycsXG4gICAgICAgICAgYWxpZ246ICdjZW50ZXInLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIHBhcmFncmFwaDoge1xuICAgICAgICB0eXBlOiAnUGFyYWdyYXBoZScsXG4gICAgICAgIGxhYmVsOiAnQmxvYyBcdTAwRTlkaXRvcmlhbCcsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnUGFyYWdyYXBoZSBsaWJyZSBwb3VyIHJhY29udGVyIHZvdHJlIGhpc3RvaXJlLicsXG4gICAgICAgIHN0YXR1czogJ0Jyb3VpbGxvbicsXG4gICAgICAgIHByb3BzOiBbeyBsYWJlbDogJ0xvbmd1ZXVyJywgdmFsdWU6ICcxNTAgbW90cycgfV0sXG4gICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgdGl0bGU6ICdUaXRyZSBkdSBwYXJhZ3JhcGhlJyxcbiAgICAgICAgICBjb250ZW50OiAnJyxcbiAgICAgICAgICBhbGlnbjogJ2xlZnQnLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGltYWdlOiB7XG4gICAgICAgIHR5cGU6ICdJbWFnZScsXG4gICAgICAgIGxhYmVsOiAnQmxvYyBpbWFnZScsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnVmlzdWVsIHNldWwgYXZlYyBsXHUwMEU5Z2VuZGUgb3B0aW9ubmVsbGUuJyxcbiAgICAgICAgc3RhdHVzOiAnQnJvdWlsbG9uJyxcbiAgICAgICAgcHJvcHM6IFtcbiAgICAgICAgICB7IGxhYmVsOiAnUmF0aW8nLCB2YWx1ZTogJzE2OjknIH0sXG4gICAgICAgICAgeyBsYWJlbDogJ0xcdTAwRTlnZW5kZScsIHZhbHVlOiAnSW5hY3RpdmUnIH0sXG4gICAgICAgIF0sXG4gICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgc3JjOiAnJyxcbiAgICAgICAgICBhbHQ6ICcnLFxuICAgICAgICAgIHNob3dDYXB0aW9uOiBmYWxzZSxcbiAgICAgICAgICBjYXB0aW9uOiAnJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBncm91cDoge1xuICAgICAgICB0eXBlOiAnR3JvdXBlJyxcbiAgICAgICAgbGFiZWw6ICdHcm91cGUgZGUgc2VjdGlvbnMnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0NvbnRlbmV1ciBwb3VyIGltYnJpcXVlciBwbHVzaWV1cnMgc291cy1ibG9jcy4nLFxuICAgICAgICBzdGF0dXM6ICdCcm91aWxsb24nLFxuICAgICAgICBwcm9wczogW3sgbGFiZWw6ICdEaXNwb3NpdGlvbicsIHZhbHVlOiAnVmVydGljYWxlJyB9XSxcbiAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICBsYXlvdXQ6ICdncmlkJyxcbiAgICAgICAgICBjb2x1bW5zTW9iaWxlOiAnMScsXG4gICAgICAgICAgY29sdW1uc0Rlc2t0b3A6ICczJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBjb2xsZWN0aW9uZ3JpZDoge1xuICAgICAgICB0eXBlOiAnQ29sbGVjdGlvbkdyaWQnLFxuICAgICAgICBsYWJlbDogJ0dyaWxsZSBkZSBjb250ZW51cycsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnQWZmaWNoZSBhdXRvbWF0aXF1ZW1lbnQgbGVzIGl0ZW1zIGRcdTIwMTl1bmUgY29sbGVjdGlvbi4nLFxuICAgICAgICBzdGF0dXM6ICdCcm91aWxsb24nLFxuICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgIGNvbGxlY3Rpb25JZDogJycsXG4gICAgICAgICAgbGltaXQ6IDYsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgZm9ybToge1xuICAgICAgICB0eXBlOiAnRm9ybScsXG4gICAgICAgIGxhYmVsOiAnRm9ybXVsYWlyZSBkZSBjb250YWN0JyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdGb3JtdWxhaXJlIGF2ZWMgZW52b2kgdmVycyB1biBzZXJ2aWNlIGV4dGVybmUuJyxcbiAgICAgICAgc3RhdHVzOiAnQnJvdWlsbG9uJyxcbiAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICBmb3JtVGl0bGU6ICdDb250YWN0ZXotbm91cycsXG4gICAgICAgICAgYWN0aW9uVXJsOiAnJyxcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBzZXJ2aWNlTmFtZTogJycsXG4gICAgICAgICAgc3VibWl0TGFiZWw6ICdFbnZveWVyJyxcbiAgICAgICAgICBzdWNjZXNzTWVzc2FnZTogJ01lcmNpIHBvdXIgdm90cmUgbWVzc2FnZSAhJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBuZXdzbGV0dGVyZW1iZWQ6IHtcbiAgICAgICAgdHlwZTogJ05ld3NsZXR0ZXJFbWJlZCcsXG4gICAgICAgIGxhYmVsOiAnTmV3c2xldHRlciAvIEVtYmVkJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdJbnRcdTAwRTlncmF0aW9uIGRcXCd1biBmb3JtdWxhaXJlIG5ld3NsZXR0ZXIgZXh0ZXJuZSAoQnJldm8sIE1haWxjaGltcFx1MjAyNikuJyxcbiAgICAgICAgc3RhdHVzOiAnQnJvdWlsbG9uJyxcbiAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICB0aXRsZTogJ1Jlc3RleiBpbmZvcm1cdTAwRTknLFxuICAgICAgICAgIHNlcnZpY2VOYW1lOiAnJyxcbiAgICAgICAgICBlbWJlZENvZGU6ICcnLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9O1xuICAgIGNvbnN0IHBlcnNpc3RBY3RpdmVQYWdlID0gKHBhZ2VJZCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKHN0b3JhZ2VLZXlzLmFjdGl2ZSwgcGFnZUlkKTtcbiAgICAgIH0gY2F0Y2gge1xuICAgICAgICAvKiBpZ25vcmUgc3RvcmFnZSBlcnJvcnMgKi9cbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGdldFN0b3JlZEFjdGl2ZVBhZ2UgPSAocGFnZXMpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHN0b3JlZCA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShzdG9yYWdlS2V5cy5hY3RpdmUpO1xuICAgICAgICBpZiAoc3RvcmVkICYmIHBhZ2VzLnNvbWUoKHBhZ2UpID0+IHBhZ2UuaWQgPT09IHN0b3JlZCkpIHtcbiAgICAgICAgICByZXR1cm4gc3RvcmVkO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgLyogaWdub3JlIHN0b3JhZ2UgZXJyb3JzICovXG4gICAgICB9XG4gICAgICByZXR1cm4gcGFnZXNbMF0/LmlkIHx8IG51bGw7XG4gICAgfTtcbiAgICBjb25zdCBmb3JtYXRCbG9ja0NvdW50ID0gKGNvdW50KSA9PiB7XG4gICAgICBpZiAoIWNvdW50IHx8IGNvdW50IDw9IDApIHtcbiAgICAgICAgcmV0dXJuICcwIGJsb2MnO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNvdW50ID09PSAxID8gJzEgYmxvYycgOiBgJHtjb3VudH0gYmxvY3NgO1xuICAgIH07XG4gICAgY29uc3Qgbm9ybWFsaXplUGFnZVNsdWcgPSAodmFsdWUpID0+IHtcbiAgICAgIGlmICghdmFsdWUgfHwgdmFsdWUgPT09ICcvJykge1xuICAgICAgICByZXR1cm4gJy8nO1xuICAgICAgfVxuICAgICAgY29uc3QgYmFzZSA9IHdvcmtzcGFjZVNsdWdpZnkodmFsdWUucmVwbGFjZSgvXlxcLy8sICcnKSk7XG4gICAgICByZXR1cm4gYmFzZSA/IGAvJHtiYXNlfWAgOiAnLyc7XG4gICAgfTtcbiAgICBjb25zdCBnZW5lcmF0ZUJsb2NrSWQgPSAocGFnZUlkID0gJ3BhZ2UnLCBrZXkgPSAnYmxvY2snKSA9PlxuICAgICAgYCR7cGFnZUlkfS0ke2tleX0tJHtEYXRlLm5vdygpLnRvU3RyaW5nKDM2KX0tJHtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwKX1gO1xuICAgIGNvbnN0IGNyZWF0ZUluaXRpYWxCbG9ja3MgPSAocGFnZUlkLCB0aXRsZSkgPT4gW1xuICAgICAgY3JlYXRlQmxvY2soXG4gICAgICAgIGdlbmVyYXRlQmxvY2tJZChwYWdlSWQsICdpbnRybycpLFxuICAgICAgICAnSW50cm9kdWN0aW9uJyxcbiAgICAgICAgJ1BhcmFncmFwaGUnLFxuICAgICAgICAnQnJvdWlsbG9uJyxcbiAgICAgICAgYFBhcmFncmFwaGUgaW50cm9kdWN0aWYgcG91ciBcIiR7dGl0bGV9XCIuYCxcbiAgICAgICAgW3sgbGFiZWw6ICdMb25ndWV1cicsIHZhbHVlOiAnMiBwYXJhZ3JhcGhlcycgfV0sXG4gICAgICAgIHtcbiAgICAgICAgICB0aXRsZTogYEludHJvZHVjdGlvbiBcdTAwRTAgJHt0aXRsZX1gLFxuICAgICAgICAgIGNvbnRlbnQ6ICdBam91dGV6IHZvdHJlIHByZW1pZXIgcGFyYWdyYXBoZSBkZSBwclx1MDBFOXNlbnRhdGlvbi4nLFxuICAgICAgICAgIGFsaWduOiAnbGVmdCcsXG4gICAgICAgIH0sXG4gICAgICApLFxuICAgICAgY3JlYXRlQmxvY2soXG4gICAgICAgIGdlbmVyYXRlQmxvY2tJZChwYWdlSWQsICdjb250ZW50JyksXG4gICAgICAgICdab25lIGRlIGNvbnRlbnUnLFxuICAgICAgICAnR3JvdXBlJyxcbiAgICAgICAgJ0Jyb3VpbGxvbicsXG4gICAgICAgICdTZWN0aW9uIHByaW5jaXBhbGUgXHUwMEUwIGNvbXBvc2VyIGF2ZWMgdGV4dGVzIGV0IHZpc3VlbHMuJyxcbiAgICAgICAgW3sgbGFiZWw6ICdDb2xvbm5lcycsIHZhbHVlOiAnQXV0bycgfV0sXG4gICAgICAgIHtcbiAgICAgICAgICBsYXlvdXQ6ICdncmlkJyxcbiAgICAgICAgICBjb2x1bW5zTW9iaWxlOiAnMScsXG4gICAgICAgICAgY29sdW1uc0Rlc2t0b3A6ICcyJyxcbiAgICAgICAgfSxcbiAgICAgICksXG4gICAgXTtcbiAgICBjb25zdCBzZXRBY3RpdmVMYWJlbHMgPSAocGFnZSkgPT4ge1xuICAgICAgaWYgKGFjdGl2ZVRpdGxlKSB7XG4gICAgICAgIC8vIFVzZSBwYWdlLm5hbWUgKHNob3J0IG5hbWUpIGlmIGF2YWlsYWJsZSwgZmFsbGJhY2sgdG8gdGl0bGVcbiAgICAgICAgYWN0aXZlVGl0bGUudGV4dENvbnRlbnQgPSBwYWdlPy5uYW1lIHx8IHBhZ2U/LnRpdGxlIHx8ICdQYWdlJztcbiAgICAgIH1cbiAgICAgIGlmIChhY3RpdmVTbHVnKSB7XG4gICAgICAgIGFjdGl2ZVNsdWcudGV4dENvbnRlbnQgPSBwYWdlPy5zbHVnIHx8ICcvJztcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHJlbmRlclByZXZpZXdNZXRhID0gKHBhZ2UpID0+IHtcbiAgICAgIGlmICghcHJldmlld1RhZ3MpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcHJldmlld1RhZ3MuaW5uZXJIVE1MID0gJyc7XG4gICAgICBjb25zdCB0YWdzID1cbiAgICAgICAgcGFnZSAmJiBwYWdlLmJhZGdlcyAmJiBwYWdlLmJhZGdlcy5sZW5ndGggPiAwID8gcGFnZS5iYWRnZXMgOiBbJ1N0cnVjdHVyZSBlbiBjb3VycyddO1xuICAgICAgdGFncy5mb3JFYWNoKCh0YWcpID0+IHtcbiAgICAgICAgY29uc3QgYmFkZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgIGJhZGdlLmNsYXNzTmFtZSA9ICdyb3VuZGVkLWZ1bGwgYmctc2xhdGUtMTAwIHB4LTMgcHktMSc7XG4gICAgICAgIGJhZGdlLnRleHRDb250ZW50ID0gdGFnO1xuICAgICAgICBwcmV2aWV3VGFncy5hcHBlbmRDaGlsZChiYWRnZSk7XG4gICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IGdldFN0YXR1c0JhZGdlQ2xhc3NlcyA9IChzdGF0dXMpID0+IHtcbiAgICAgIHN3aXRjaCAoKHN0YXR1cyB8fCAnJykudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICBjYXNlICdlbiBsaWduZSc6XG4gICAgICAgICAgcmV0dXJuICdiZy1lbWVyYWxkLTUwIHRleHQtZW1lcmFsZC03MDAnO1xuICAgICAgICBjYXNlICdicm91aWxsb24nOlxuICAgICAgICAgIHJldHVybiAnYmctYW1iZXItNTAgdGV4dC1hbWJlci03MDAnO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiAnYmctc2xhdGUtMTAwIHRleHQtc2xhdGUtNjAwJztcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHJlbmRlckJsb2NrRGV0YWlscyA9IChibG9jaykgPT4ge1xuICAgICAgaWYgKCFibG9ja0RldGFpbEVtcHR5IHx8ICFibG9ja0VkaXRvcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWJsb2NrKSB7XG4gICAgICAgIGJsb2NrRGV0YWlsRW1wdHkuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIGJsb2NrRWRpdG9yLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBibG9ja0VkaXRvclVuc3VwcG9ydGVkPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgYmxvY2tGb3JtPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgYmxvY2tEZXRhaWxTdGF0dXM/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBibG9ja0RldGFpbEVtcHR5LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgYmxvY2tFZGl0b3IuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBpZiAoYmxvY2tEZXRhaWxTdGF0dXMpIHtcbiAgICAgICAgaWYgKGJsb2NrLnN0YXR1cykge1xuICAgICAgICAgIGJsb2NrRGV0YWlsU3RhdHVzLnRleHRDb250ZW50ID0gYmxvY2suc3RhdHVzO1xuICAgICAgICAgIGJsb2NrRGV0YWlsU3RhdHVzLmNsYXNzTmFtZSA9IGByb3VuZGVkLWZ1bGwgcHgtMyBweS0xIHRleHQteHMgZm9udC1zZW1pYm9sZCAke2dldFN0YXR1c0JhZGdlQ2xhc3NlcyhcbiAgICAgICAgICAgIGJsb2NrLnN0YXR1cyxcbiAgICAgICAgICApfWA7XG4gICAgICAgICAgYmxvY2tEZXRhaWxTdGF0dXMuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYmxvY2tEZXRhaWxTdGF0dXMuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHBvcHVsYXRlQmxvY2tGb3JtKGJsb2NrKTtcbiAgICB9O1xuICAgIGNvbnN0IGFwcGx5UHJldmlld0hpZ2hsaWdodCA9IChibG9ja0lkKSA9PiB7XG4gICAgICBpZiAoIXByZXZpZXdGcmFtZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBkb2MgPSBwcmV2aWV3RnJhbWUuY29udGVudERvY3VtZW50O1xuICAgICAgaWYgKCFkb2MpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3Qgbm9kZXMgPSBkb2MucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtcHJldmlldy1ibG9ja10nKTtcbiAgICAgIG5vZGVzLmZvckVhY2goKG5vZGUpID0+IHtcbiAgICAgICAgaWYgKG5vZGUuZGF0YXNldC5wcmV2aWV3QmxvY2sgPT09IGJsb2NrSWQpIHtcbiAgICAgICAgICBub2RlLmNsYXNzTGlzdC5hZGQoJ3ByZXZpZXctYmxvY2stYWN0aXZlJyk7XG4gICAgICAgICAgaWYgKHByZXZpZXdSZWFkeSAmJiBibG9ja0lkKSB7XG4gICAgICAgICAgICBub2RlLnNjcm9sbEludG9WaWV3KHsgYmVoYXZpb3I6ICdzbW9vdGgnLCBibG9jazogJ2NlbnRlcicsIGlubGluZTogJ25lYXJlc3QnIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBub2RlLmNsYXNzTGlzdC5yZW1vdmUoJ3ByZXZpZXctYmxvY2stYWN0aXZlJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKHByZXZpZXdIaWdobGlnaHRPdmVybGF5KSB7XG4gICAgICAgIHByZXZpZXdIaWdobGlnaHRPdmVybGF5LnN0eWxlLmJvcmRlckNvbG9yID0gYmxvY2tJZCA/ICdyZ2JhKDE1NiwgMTA3LCAyNTUsIDAuNSknIDogJ3RyYW5zcGFyZW50JztcbiAgICAgIH1cbiAgICB9O1xuICAgIC8vIEZvbmN0aW9uIHBvdXIgY3JcdTAwRTllciB1biBcdTAwRTlsXHUwMEU5bWVudCBkZSBibG9jICh1dGlsaXNcdTAwRTkgcG91ciBsZXMgYmxvY3MgZXQgbGVzIGVuZmFudHMgZGUgZ3JvdXBlKVxuICAgIGNvbnN0IGNyZWF0ZUJsb2NrSXRlbUVsZW1lbnQgPSAoYmxvY2ssIGlzTmVzdGVkID0gZmFsc2UsIHBhcmVudElkID0gbnVsbCkgPT4ge1xuICAgICAgY29uc3QgaXNBY3RpdmUgPSBibG9jay5pZCA9PT0gYWN0aXZlQmxvY2tJZDtcbiAgICAgIGNvbnN0IGJsb2NrVHlwZSA9IChibG9jay50eXBlIHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgY29uc3QgaXNHcm91cCA9IGJsb2NrVHlwZSA9PT0gJ2dyb3VwZScgfHwgYmxvY2tUeXBlID09PSAnZ3JvdXAnIHx8IGJsb2NrVHlwZSA9PT0gJ3NlY3Rpb25zJyB8fCBibG9ja1R5cGUgPT09ICdncmlkJztcbiAgICAgIFxuICAgICAgY29uc3QgaXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgaXRlbS5kYXRhc2V0LmJsb2NrSXRlbSA9ICd0cnVlJztcbiAgICAgIGl0ZW0uZGF0YXNldC5ibG9ja0lkID0gYmxvY2suaWQ7XG4gICAgICBpZiAocGFyZW50SWQpIGl0ZW0uZGF0YXNldC5wYXJlbnRCbG9ja0lkID0gcGFyZW50SWQ7XG4gICAgICBpZiAoaXNHcm91cCkgaXRlbS5kYXRhc2V0LmlzR3JvdXAgPSAndHJ1ZSc7XG4gICAgICBpdGVtLnNldEF0dHJpYnV0ZSgncm9sZScsICdvcHRpb24nKTtcbiAgICAgIGl0ZW0uc2V0QXR0cmlidXRlKCdhcmlhLXNlbGVjdGVkJywgaXNBY3RpdmUgPyAndHJ1ZScgOiAnZmFsc2UnKTtcbiAgICAgIGl0ZW0uc2V0QXR0cmlidXRlKCdkcmFnZ2FibGUnLCAndHJ1ZScpO1xuICAgICAgaXRlbS50YWJJbmRleCA9IDA7XG4gICAgICBpdGVtLmNsYXNzTmFtZSA9IFtcbiAgICAgICAgJ3JlbGF0aXZlIGZsZXggaXRlbXMtY2VudGVyIGdhcC0zIHJvdW5kZWQtMnhsIGJvcmRlciBweC0zIHB5LTIgdGV4dC1sZWZ0IHRyYW5zaXRpb24gZ3JvdXAnLFxuICAgICAgICBpc05lc3RlZCA/ICdtbC02IGJvcmRlci1kYXNoZWQnIDogJycsXG4gICAgICAgIGlzQWN0aXZlXG4gICAgICAgICAgPyAnYmctc2xhdGUtMTAwIGJvcmRlci1bIzlDNkJGRl0vNDAgc2hhZG93LXNtJ1xuICAgICAgICAgIDogJ2JvcmRlci1zbGF0ZS0yMDAgaG92ZXI6Ym9yZGVyLVsjOUM2QkZGXS80MCcsXG4gICAgICBdLmpvaW4oJyAnKTtcbiAgICAgIFxuICAgICAgY29uc3QgYWNjZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgYWNjZW50LmNsYXNzTmFtZSA9IGBhYnNvbHV0ZSBpbnNldC15LTIgbGVmdC0wIHctMSByb3VuZGVkLWZ1bGwgYmctWyM5QzZCRkZdICR7aXNBY3RpdmUgPyAnJyA6ICdoaWRkZW4nfWA7XG4gICAgICBpdGVtLmFwcGVuZENoaWxkKGFjY2VudCk7XG5cbiAgICAgIGNvbnN0IGNvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGNvbnRlbnQuY2xhc3NOYW1lID0gJ2ZsZXggZmxleC0xIGl0ZW1zLWNlbnRlciBnYXAtMyc7XG4gICAgICBcbiAgICAgIGNvbnN0IGhhbmRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgaGFuZGxlLmNsYXNzTmFtZSA9ICdoaWRkZW4gbGc6ZmxleCBjdXJzb3ItZ3JhYiBhY3RpdmU6Y3Vyc29yLWdyYWJiaW5nIGZsZXgtc2hyaW5rLTAgaXRlbXMtY2VudGVyIHRleHQtbGcgdGV4dC1zbGF0ZS00MDAgaG92ZXI6dGV4dC1zbGF0ZS02MDAgdHJhbnNpdGlvbi1jb2xvcnMgc2VsZWN0LW5vbmUnO1xuICAgICAgaGFuZGxlLmlubmVySFRNTCA9ICdcdTIyRUVcdTIyRUUnO1xuICAgICAgaGFuZGxlLnNldEF0dHJpYnV0ZSgndGl0bGUnLCAnR2xpc3NlciBwb3VyIHJcdTAwRTlvcmRvbm5lcicpO1xuICAgICAgY29udGVudC5hcHBlbmRDaGlsZChoYW5kbGUpO1xuXG4gICAgICBjb25zdCB0ZXh0V3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgdGV4dFdyYXBwZXIuY2xhc3NOYW1lID0gJ2ZsZXgtMSc7XG4gICAgICBcbiAgICAgIGNvbnN0IG1ldGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIG1ldGEuY2xhc3NOYW1lID0gJ2ZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHRleHQtWzExcHhdIHVwcGVyY2FzZSB0cmFja2luZy13aWRlIHRleHQtc2xhdGUtNTAwJztcbiAgICAgIFxuICAgICAgY29uc3QgdHlwZUJhZGdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgdHlwZUJhZGdlLmNsYXNzTmFtZSA9ICdyb3VuZGVkLWZ1bGwgYmctc2xhdGUtMTAwIHB4LTIgcHktMC41IHRleHQtWzEwcHhdIGZvbnQtc2VtaWJvbGQgdGV4dC1zbGF0ZS02MDAnO1xuICAgICAgdHlwZUJhZGdlLnRleHRDb250ZW50ID0gYmxvY2sudHlwZTtcbiAgICAgIFxuICAgICAgY29uc3Qgc3RhdHVzQmFkZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICBzdGF0dXNCYWRnZS5jbGFzc05hbWUgPSAndGV4dC1zbGF0ZS00MDAnO1xuICAgICAgc3RhdHVzQmFkZ2UudGV4dENvbnRlbnQgPSBibG9jay5zdGF0dXM7XG4gICAgICBcbiAgICAgIG1ldGEuYXBwZW5kQ2hpbGQodHlwZUJhZGdlKTtcbiAgICAgIGlmIChpc0dyb3VwKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkQ291bnQgPSAoYmxvY2suY2hpbGRyZW4gfHwgW10pLmxlbmd0aDtcbiAgICAgICAgY29uc3QgY2hpbGRCYWRnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgY2hpbGRCYWRnZS5jbGFzc05hbWUgPSAncm91bmRlZC1mdWxsIGJnLXZpb2xldC0xMDAgcHgtMiBweS0wLjUgdGV4dC1bMTBweF0gZm9udC1zZW1pYm9sZCB0ZXh0LXZpb2xldC02MDAnO1xuICAgICAgICBjaGlsZEJhZGdlLnRleHRDb250ZW50ID0gYCR7Y2hpbGRDb3VudH0gXHUwMEU5bFx1MDBFOW1lbnQke2NoaWxkQ291bnQgIT09IDEgPyAncycgOiAnJ31gO1xuICAgICAgICBtZXRhLmFwcGVuZENoaWxkKGNoaWxkQmFkZ2UpO1xuICAgICAgfVxuICAgICAgbWV0YS5hcHBlbmRDaGlsZChzdGF0dXNCYWRnZSk7XG4gICAgICBcbiAgICAgIGNvbnN0IHRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgICAgdGl0bGUuY2xhc3NOYW1lID0gJ210LTEgdGV4dC1zbSBmb250LXNlbWlib2xkIHRleHQtc2xhdGUtOTAwJztcbiAgICAgIGNvbnN0IGRpc3BsYXlMYWJlbCA9IChibG9jay5zZXR0aW5ncyAmJiBibG9jay5zZXR0aW5ncy50aXRsZSkgfHwgYmxvY2subGFiZWwgfHwgJ0Jsb2Mgc2FucyB0aXRyZSc7XG4gICAgICB0aXRsZS50ZXh0Q29udGVudCA9IGRpc3BsYXlMYWJlbDtcbiAgICAgIFxuICAgICAgdGV4dFdyYXBwZXIuYXBwZW5kQ2hpbGQobWV0YSk7XG4gICAgICB0ZXh0V3JhcHBlci5hcHBlbmRDaGlsZCh0aXRsZSk7XG4gICAgICBcbiAgICAgIGlmIChibG9ja1R5cGUgPT09ICdjb2xsZWN0aW9uZ3JpZCcgJiYgYmxvY2suY29sbGVjdGlvbklkKSB7XG4gICAgICAgIGNvbnN0IGNvbGxlY3Rpb25OYW1lID0gZGVzaWduQ29sbGVjdGlvbnMuZmluZCgoZW50cnkpID0+IGVudHJ5LmlkID09PSBibG9jay5jb2xsZWN0aW9uSWQpPy5uYW1lIHx8IGJsb2NrLmNvbGxlY3Rpb25JZDtcbiAgICAgICAgY29uc3QgaW5mbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICAgICAgaW5mby5jbGFzc05hbWUgPSAndGV4dC14cyB0ZXh0LXNsYXRlLTQwMCc7XG4gICAgICAgIGluZm8udGV4dENvbnRlbnQgPSBgQ29sbGVjdGlvbiA6ICR7Y29sbGVjdGlvbk5hbWV9YDtcbiAgICAgICAgdGV4dFdyYXBwZXIuYXBwZW5kQ2hpbGQoaW5mbyk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQodGV4dFdyYXBwZXIpO1xuICAgICAgaXRlbS5hcHBlbmRDaGlsZChjb250ZW50KTtcblxuICAgICAgY29uc3QgYWN0aW9ucyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgYWN0aW9ucy5jbGFzc05hbWUgPSAnZmxleCBmbGV4LWNvbCBnYXAtMSB0ZXh0LXhzIHRleHQtc2xhdGUtNDAwJztcblxuICAgICAgY29uc3QgbW92ZUJ1dHRvbnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIG1vdmVCdXR0b25zLmNsYXNzTmFtZSA9ICdmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMSBsZzpoaWRkZW4nO1xuICAgICAgY29uc3QgbW92ZVVwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICBtb3ZlVXAudHlwZSA9ICdidXR0b24nO1xuICAgICAgbW92ZVVwLmNsYXNzTmFtZSA9ICdyb3VuZGVkLWxnIGJvcmRlciBib3JkZXItc2xhdGUtMjAwIHB4LTIgcHktMSB0ZXh0LVsxMXB4XSBmb250LXNlbWlib2xkIHRleHQtc2xhdGUtNTAwJztcbiAgICAgIG1vdmVVcC50ZXh0Q29udGVudCA9ICdcdTIxOTEnO1xuICAgICAgbW92ZVVwLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBpZiAocGFyZW50SWQpIHtcbiAgICAgICAgICBtb3ZlQ2hpbGRCbG9ja0J5T2Zmc2V0KHBhcmVudElkLCBibG9jay5pZCwgLTEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1vdmVCbG9ja0J5T2Zmc2V0KGJsb2NrLmlkLCAtMSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgY29uc3QgbW92ZURvd24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgIG1vdmVEb3duLnR5cGUgPSAnYnV0dG9uJztcbiAgICAgIG1vdmVEb3duLmNsYXNzTmFtZSA9ICdyb3VuZGVkLWxnIGJvcmRlciBib3JkZXItc2xhdGUtMjAwIHB4LTIgcHktMSB0ZXh0LVsxMXB4XSBmb250LXNlbWlib2xkIHRleHQtc2xhdGUtNTAwJztcbiAgICAgIG1vdmVEb3duLnRleHRDb250ZW50ID0gJ1x1MjE5Myc7XG4gICAgICBtb3ZlRG93bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgaWYgKHBhcmVudElkKSB7XG4gICAgICAgICAgbW92ZUNoaWxkQmxvY2tCeU9mZnNldChwYXJlbnRJZCwgYmxvY2suaWQsIDEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1vdmVCbG9ja0J5T2Zmc2V0KGJsb2NrLmlkLCAxKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBtb3ZlQnV0dG9ucy5hcHBlbmRDaGlsZChtb3ZlVXApO1xuICAgICAgbW92ZUJ1dHRvbnMuYXBwZW5kQ2hpbGQobW92ZURvd24pO1xuICAgICAgYWN0aW9ucy5hcHBlbmRDaGlsZChtb3ZlQnV0dG9ucyk7XG5cbiAgICAgIGNvbnN0IGRlbGV0ZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgZGVsZXRlQnV0dG9uLnR5cGUgPSAnYnV0dG9uJztcbiAgICAgIGRlbGV0ZUJ1dHRvbi5jbGFzc05hbWUgPSAnaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci10cmFuc3BhcmVudCBweC0yIHB5LTEgdGV4dC1bMTJweF0gdGV4dC1yb3NlLTUwMCBob3Zlcjp0ZXh0LXJvc2UtNzAwJztcbiAgICAgIGRlbGV0ZUJ1dHRvbi5pbm5lckhUTUwgPSAnXHVEODNEXHVEREQxXHVGRTBGJztcbiAgICAgIGRlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgaWYgKHBhcmVudElkKSB7XG4gICAgICAgICAgcmVtb3ZlQ2hpbGRGcm9tR3JvdXAocGFyZW50SWQsIGJsb2NrLmlkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvcGVuQmxvY2tEZWxldGVNb2RhbChibG9jay5pZCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBhY3Rpb25zLmFwcGVuZENoaWxkKGRlbGV0ZUJ1dHRvbik7XG4gICAgICBpdGVtLmFwcGVuZENoaWxkKGFjdGlvbnMpO1xuXG4gICAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBzZXRBY3RpdmVCbG9jayhibG9jay5pZCwgcGFyZW50SWQpO1xuICAgICAgfSk7XG4gICAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZlbnQpID0+IHtcbiAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VudGVyJyB8fCBldmVudC5rZXkgPT09ICcgJykge1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgc2V0QWN0aXZlQmxvY2soYmxvY2suaWQsIHBhcmVudElkKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIHJldHVybiB7IGl0ZW0sIGlzR3JvdXAsIGJsb2NrIH07XG4gICAgfTtcbiAgICBcbiAgICAvLyBGb25jdGlvbiBwb3VyIGNyXHUwMEU5ZXIgbGEgem9uZSBkZSBkcm9wIHBvdXIgdW4gZ3JvdXBlXG4gICAgY29uc3QgY3JlYXRlR3JvdXBEcm9wWm9uZSA9IChwYXJlbnRCbG9jaykgPT4ge1xuICAgICAgY29uc3QgZHJvcFpvbmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGRyb3Bab25lLmRhdGFzZXQuZ3JvdXBEcm9wWm9uZSA9IHBhcmVudEJsb2NrLmlkO1xuICAgICAgZHJvcFpvbmUuY2xhc3NOYW1lID0gJ21sLTYgYm9yZGVyLTIgYm9yZGVyLWRhc2hlZCBib3JkZXItc2xhdGUtMjAwIHJvdW5kZWQteGwgcC0zIHRleHQtY2VudGVyIHRleHQteHMgdGV4dC1zbGF0ZS00MDAgaG92ZXI6Ym9yZGVyLXZpb2xldC0zMDAgaG92ZXI6YmctdmlvbGV0LTUwLzUwIHRyYW5zaXRpb24tY29sb3JzIGN1cnNvci1wb2ludGVyJztcbiAgICAgIGRyb3Bab25lLmlubmVySFRNTCA9ICc8c3BhbiBjbGFzcz1cInBvaW50ZXItZXZlbnRzLW5vbmVcIj5cdUQ4M0RcdURDRTYgR2xpc3NleiB1biBibG9jIGljaSBvdSBjbGlxdWV6IHBvdXIgYWpvdXRlcjwvc3Bhbj4nO1xuICAgICAgXG4gICAgICAvLyBcdTAwQzl2XHUwMEU5bmVtZW50cyBkZSBkcmFnICYgZHJvcFxuICAgICAgZHJvcFpvbmUuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ292ZXInLCAoZSkgPT4ge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGRyb3Bab25lLmNsYXNzTGlzdC5hZGQoJ2JvcmRlci12aW9sZXQtNDAwJywgJ2JnLXZpb2xldC01MCcpO1xuICAgICAgfSk7XG4gICAgICBkcm9wWm9uZS5hZGRFdmVudExpc3RlbmVyKCdkcmFnbGVhdmUnLCAoZSkgPT4ge1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBkcm9wWm9uZS5jbGFzc0xpc3QucmVtb3ZlKCdib3JkZXItdmlvbGV0LTQwMCcsICdiZy12aW9sZXQtNTAnKTtcbiAgICAgIH0pO1xuICAgICAgZHJvcFpvbmUuYWRkRXZlbnRMaXN0ZW5lcignZHJvcCcsIChlKSA9PiB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgZHJvcFpvbmUuY2xhc3NMaXN0LnJlbW92ZSgnYm9yZGVyLXZpb2xldC00MDAnLCAnYmctdmlvbGV0LTUwJyk7XG4gICAgICAgIGNvbnN0IGJsb2NrSWQgPSBlLmRhdGFUcmFuc2Zlci5nZXREYXRhKCd0ZXh0L3BsYWluJyk7XG4gICAgICAgIGlmIChibG9ja0lkICYmIGJsb2NrSWQgIT09IHBhcmVudEJsb2NrLmlkKSB7XG4gICAgICAgICAgbW92ZUJsb2NrVG9Hcm91cChibG9ja0lkLCBwYXJlbnRCbG9jay5pZCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBDbGljIHBvdXIgYWpvdXRlciB1biBibG9jIGF1IGdyb3VwZVxuICAgICAgZHJvcFpvbmUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIG9wZW5BZGRCbG9ja1RvR3JvdXBNb2RhbChwYXJlbnRCbG9jay5pZCk7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgcmV0dXJuIGRyb3Bab25lO1xuICAgIH07XG5cbiAgICBjb25zdCByZW5kZXJCbG9ja0xpc3QgPSAocGFnZSkgPT4ge1xuICAgICAgaWYgKCFibG9ja0xpc3QpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYmxvY2tMaXN0LmlubmVySFRNTCA9ICcnO1xuICAgICAgY29uc3QgYmxvY2tzID0gcGFnZT8uYmxvY2tzIHx8IFtdO1xuICAgICAgaWYgKGJsb2NrQ291bnRCYWRnZSkge1xuICAgICAgICBibG9ja0NvdW50QmFkZ2UudGV4dENvbnRlbnQgPSBmb3JtYXRCbG9ja0NvdW50KGJsb2Nrcy5sZW5ndGgpO1xuICAgICAgfVxuICAgICAgaWYgKGJsb2Nrcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgYmxvY2tMaXN0LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBibG9ja0xpc3RFbXB0eT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGJsb2NrTGlzdC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGJsb2NrTGlzdEVtcHR5Py5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIFxuICAgICAgYmxvY2tzLmZvckVhY2goKGJsb2NrKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgaXRlbSwgaXNHcm91cCB9ID0gY3JlYXRlQmxvY2tJdGVtRWxlbWVudChibG9jaywgZmFsc2UsIG51bGwpO1xuICAgICAgICBibG9ja0xpc3QuYXBwZW5kQ2hpbGQoaXRlbSk7XG4gICAgICAgIFxuICAgICAgICAvLyBTaSBjJ2VzdCB1biBncm91cGUsIGFmZmljaGVyIGxlcyBlbmZhbnRzIGV0IGxhIHpvbmUgZGUgZHJvcFxuICAgICAgICBpZiAoaXNHcm91cCkge1xuICAgICAgICAgIGNvbnN0IGNoaWxkcmVuID0gYmxvY2suY2hpbGRyZW4gfHwgW107XG4gICAgICAgICAgY2hpbGRyZW4uZm9yRWFjaCgoY2hpbGQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgaXRlbTogY2hpbGRJdGVtIH0gPSBjcmVhdGVCbG9ja0l0ZW1FbGVtZW50KGNoaWxkLCB0cnVlLCBibG9jay5pZCk7XG4gICAgICAgICAgICBibG9ja0xpc3QuYXBwZW5kQ2hpbGQoY2hpbGRJdGVtKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICAvLyBab25lIGRlIGRyb3AgcG91ciBham91dGVyIGRlcyBibG9jcyBhdSBncm91cGVcbiAgICAgICAgICBjb25zdCBkcm9wWm9uZSA9IGNyZWF0ZUdyb3VwRHJvcFpvbmUoYmxvY2spO1xuICAgICAgICAgIGJsb2NrTGlzdC5hcHBlbmRDaGlsZChkcm9wWm9uZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG4gICAgXG4gICAgLy8gRm9uY3Rpb25zIHBvdXIgZ1x1MDBFOXJlciBsZXMgZW5mYW50cyBkZXMgZ3JvdXBlc1xuICAgIGNvbnN0IG1vdmVCbG9ja1RvR3JvdXAgPSAoYmxvY2tJZCwgZ3JvdXBJZCkgPT4ge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSkgcmV0dXJuO1xuICAgICAgY29uc3QgYmxvY2tJbmRleCA9IGN1cnJlbnRQYWdlLmJsb2Nrcy5maW5kSW5kZXgoKGIpID0+IGIuaWQgPT09IGJsb2NrSWQpO1xuICAgICAgY29uc3QgZ3JvdXBCbG9jayA9IGN1cnJlbnRQYWdlLmJsb2Nrcy5maW5kKChiKSA9PiBiLmlkID09PSBncm91cElkKTtcbiAgICAgIGlmIChibG9ja0luZGV4ID09PSAtMSB8fCAhZ3JvdXBCbG9jaykgcmV0dXJuO1xuICAgICAgXG4gICAgICAvLyBOZSBwYXMgcGVybWV0dHJlIGRlIGRcdTAwRTlwbGFjZXIgdW4gZ3JvdXBlIGRhbnMgdW4gZ3JvdXBlXG4gICAgICBjb25zdCBibG9jayA9IGN1cnJlbnRQYWdlLmJsb2Nrc1tibG9ja0luZGV4XTtcbiAgICAgIGNvbnN0IGJsb2NrVHlwZSA9IChibG9jay50eXBlIHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgaWYgKGJsb2NrVHlwZSA9PT0gJ2dyb3VwZScgfHwgYmxvY2tUeXBlID09PSAnZ3JvdXAnKSB7XG4gICAgICAgIHNob3dUb2FzdCgnSW1wb3NzaWJsZSBkXFwnaW1icmlxdWVyIGRlcyBncm91cGVzJywgJ2Vycm9yJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gUmV0aXJlciBsZSBibG9jIGRlIGxhIGxpc3RlIHByaW5jaXBhbGVcbiAgICAgIGNvbnN0IFttb3ZlZEJsb2NrXSA9IGN1cnJlbnRQYWdlLmJsb2Nrcy5zcGxpY2UoYmxvY2tJbmRleCwgMSk7XG4gICAgICBcbiAgICAgIC8vIEFqb3V0ZXIgYXUgZ3JvdXBlXG4gICAgICBpZiAoIWdyb3VwQmxvY2suY2hpbGRyZW4pIGdyb3VwQmxvY2suY2hpbGRyZW4gPSBbXTtcbiAgICAgIGdyb3VwQmxvY2suY2hpbGRyZW4ucHVzaChtb3ZlZEJsb2NrKTtcbiAgICAgIFxuICAgICAgcmVuZGVyQmxvY2tMaXN0KGN1cnJlbnRQYWdlKTtcbiAgICAgIHNhdmVQYWdlQmxvY2tzKCk7XG4gICAgICBzaG93VG9hc3QoYEJsb2MgYWpvdXRcdTAwRTkgYXUgZ3JvdXBlYCk7XG4gICAgfTtcbiAgICBcbiAgICBjb25zdCByZW1vdmVDaGlsZEZyb21Hcm91cCA9IChncm91cElkLCBjaGlsZElkKSA9PiB7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlKSByZXR1cm47XG4gICAgICBjb25zdCBncm91cEJsb2NrID0gY3VycmVudFBhZ2UuYmxvY2tzLmZpbmQoKGIpID0+IGIuaWQgPT09IGdyb3VwSWQpO1xuICAgICAgaWYgKCFncm91cEJsb2NrIHx8ICFncm91cEJsb2NrLmNoaWxkcmVuKSByZXR1cm47XG4gICAgICBcbiAgICAgIGNvbnN0IGNoaWxkSW5kZXggPSBncm91cEJsb2NrLmNoaWxkcmVuLmZpbmRJbmRleCgoYykgPT4gYy5pZCA9PT0gY2hpbGRJZCk7XG4gICAgICBpZiAoY2hpbGRJbmRleCA9PT0gLTEpIHJldHVybjtcbiAgICAgIFxuICAgICAgLy8gUmV0aXJlciBsJ2VuZmFudCBkdSBncm91cGUgZXQgbGUgcmVtZXR0cmUgZGFucyBsYSBsaXN0ZSBwcmluY2lwYWxlIGFwclx1MDBFOHMgbGUgZ3JvdXBlXG4gICAgICBjb25zdCBbY2hpbGRdID0gZ3JvdXBCbG9jay5jaGlsZHJlbi5zcGxpY2UoY2hpbGRJbmRleCwgMSk7XG4gICAgICBjb25zdCBncm91cEluZGV4ID0gY3VycmVudFBhZ2UuYmxvY2tzLmZpbmRJbmRleCgoYikgPT4gYi5pZCA9PT0gZ3JvdXBJZCk7XG4gICAgICBjdXJyZW50UGFnZS5ibG9ja3Muc3BsaWNlKGdyb3VwSW5kZXggKyAxLCAwLCBjaGlsZCk7XG4gICAgICBcbiAgICAgIHJlbmRlckJsb2NrTGlzdChjdXJyZW50UGFnZSk7XG4gICAgICBzYXZlUGFnZUJsb2NrcygpO1xuICAgICAgc2hvd1RvYXN0KGBCbG9jIHNvcnRpIGR1IGdyb3VwZWApO1xuICAgIH07XG4gICAgXG4gICAgY29uc3QgbW92ZUNoaWxkQmxvY2tCeU9mZnNldCA9IChncm91cElkLCBjaGlsZElkLCBvZmZzZXQpID0+IHtcbiAgICAgIGlmICghY3VycmVudFBhZ2UpIHJldHVybjtcbiAgICAgIGNvbnN0IGdyb3VwQmxvY2sgPSBjdXJyZW50UGFnZS5ibG9ja3MuZmluZCgoYikgPT4gYi5pZCA9PT0gZ3JvdXBJZCk7XG4gICAgICBpZiAoIWdyb3VwQmxvY2sgfHwgIWdyb3VwQmxvY2suY2hpbGRyZW4pIHJldHVybjtcbiAgICAgIFxuICAgICAgY29uc3QgY3VycmVudEluZGV4ID0gZ3JvdXBCbG9jay5jaGlsZHJlbi5maW5kSW5kZXgoKGMpID0+IGMuaWQgPT09IGNoaWxkSWQpO1xuICAgICAgaWYgKGN1cnJlbnRJbmRleCA9PT0gLTEpIHJldHVybjtcbiAgICAgIFxuICAgICAgY29uc3QgbmV3SW5kZXggPSBjdXJyZW50SW5kZXggKyBvZmZzZXQ7XG4gICAgICBpZiAobmV3SW5kZXggPCAwIHx8IG5ld0luZGV4ID49IGdyb3VwQmxvY2suY2hpbGRyZW4ubGVuZ3RoKSByZXR1cm47XG4gICAgICBcbiAgICAgIGNvbnN0IFtjaGlsZF0gPSBncm91cEJsb2NrLmNoaWxkcmVuLnNwbGljZShjdXJyZW50SW5kZXgsIDEpO1xuICAgICAgZ3JvdXBCbG9jay5jaGlsZHJlbi5zcGxpY2UobmV3SW5kZXgsIDAsIGNoaWxkKTtcbiAgICAgIFxuICAgICAgcmVuZGVyQmxvY2tMaXN0KGN1cnJlbnRQYWdlKTtcbiAgICAgIHNhdmVQYWdlQmxvY2tzKCk7XG4gICAgfTtcbiAgICBcbiAgICBjb25zdCBvcGVuQWRkQmxvY2tUb0dyb3VwTW9kYWwgPSAoZ3JvdXBJZCkgPT4ge1xuICAgICAgLy8gVXRpbGlzZXIgbGUgbVx1MDBFQW1lIG1vZGFsIGQnYWpvdXQgZGUgYmxvYywgbWFpcyBhdmVjIGxlIGNvbnRleHRlIGR1IGdyb3VwZVxuICAgICAgcGVuZGluZ0dyb3VwSWRGb3JOZXdCbG9jayA9IGdyb3VwSWQ7XG4gICAgICBvcGVuQmxvY2tQaWNrZXIoKTtcbiAgICB9O1xuICAgIFxuICAgIGxldCBwZW5kaW5nR3JvdXBJZEZvck5ld0Jsb2NrID0gbnVsbDtcblxuICAgIC8vID09PSBEZWxldGUgcGFnZSBoYW5kbGVycyAoZGVmaW5lZCBiZWZvcmUgcmVuZGVyUGFnZUxpc3RzKSA9PT1cbiAgICBjb25zdCBvcGVuRGVsZXRlUGFnZU1vZGFsID0gKHBhZ2UpID0+IHtcbiAgICAgIGlmICghZGVsZXRlUGFnZU1vZGFsIHx8ICFwYWdlKSByZXR1cm47XG4gICAgICBwYWdlVG9EZWxldGUgPSBwYWdlO1xuICAgICAgaWYgKGRlbGV0ZVBhZ2VOYW1lKSBkZWxldGVQYWdlTmFtZS50ZXh0Q29udGVudCA9IHBhZ2UudGl0bGUgfHwgcGFnZS5pZDtcbiAgICAgIGRlbGV0ZVBhZ2VNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGRlbGV0ZVBhZ2VNb2RhbC5jbGFzc0xpc3QuYWRkKCdmbGV4Jyk7XG4gICAgfTtcbiAgICBjb25zdCBjbG9zZURlbGV0ZVBhZ2VNb2RhbCA9ICgpID0+IHtcbiAgICAgIGlmICghZGVsZXRlUGFnZU1vZGFsKSByZXR1cm47XG4gICAgICBkZWxldGVQYWdlTW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBkZWxldGVQYWdlTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnZmxleCcpO1xuICAgICAgcGFnZVRvRGVsZXRlID0gbnVsbDtcbiAgICB9O1xuICAgIGNvbnN0IGV4ZWN1dGVEZWxldGVQYWdlID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFwYWdlc0FwaUJhc2UgfHwgIXBhZ2VUb0RlbGV0ZSkgcmV0dXJuO1xuICAgICAgY29uc3QgcGFnZUlkID0gcGFnZVRvRGVsZXRlLmlkO1xuICAgICAgY29uc3QgcGFnZVRpdGxlID0gcGFnZVRvRGVsZXRlLnRpdGxlIHx8IHBhZ2VJZDtcbiAgICAgIGlmIChkZWxldGVQYWdlQ29uZmlybSkge1xuICAgICAgICBkZWxldGVQYWdlQ29uZmlybS5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIGRlbGV0ZVBhZ2VDb25maXJtLnRleHRDb250ZW50ID0gJ1N1cHByZXNzaW9uLi4uJztcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7cGFnZXNBcGlCYXNlfS8ke2VuY29kZVVSSUNvbXBvbmVudChwYWdlSWQpfWAsIHtcbiAgICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZScsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzdWx0Lm1lc3NhZ2UgfHwgJ0VycmV1ciBzZXJ2ZXVyJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU3VwcHJpbWVyIGRlIGxhIGxpc3RlIGxvY2FsZVxuICAgICAgICBwYWdlcyA9IHBhZ2VzLmZpbHRlcigocCkgPT4gcC5pZCAhPT0gcGFnZUlkKTtcbiAgICAgICAgLy8gU2kgbGEgcGFnZSBzdXBwcmltXHUwMEU5ZSBcdTAwRTl0YWl0IGFjdGl2ZSwgc1x1MDBFOWxlY3Rpb25uZXIgbGEgcHJlbWlcdTAwRThyZVxuICAgICAgICBpZiAoYWN0aXZlUGFnZUlkID09PSBwYWdlSWQpIHtcbiAgICAgICAgICBpZiAocGFnZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgc2V0QWN0aXZlUGFnZShwYWdlc1swXS5pZCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFjdGl2ZVBhZ2VJZCA9IG51bGw7XG4gICAgICAgICAgICBjdXJyZW50UGFnZSA9IG51bGw7XG4gICAgICAgICAgICByZW5kZXJQYWdlTGlzdHMocGFnZXMsIG51bGwpO1xuICAgICAgICAgICAgcmVuZGVyQmxvY2tMaXN0KG51bGwpO1xuICAgICAgICAgICAgYmxvY2tEZXRhaWxFbXB0eT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgICBibG9ja0VkaXRvcj8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgICAgICBwcmV2aWV3RnJhbWUgJiYgKHByZXZpZXdGcmFtZS5zcmNkb2MgPSBnZXRMb2FkaW5nUHJldmlld0h0bWwoKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlbmRlclBhZ2VMaXN0cyhwYWdlcywgYWN0aXZlUGFnZUlkKTtcbiAgICAgICAgfVxuICAgICAgICBjbG9zZURlbGV0ZVBhZ2VNb2RhbCgpO1xuICAgICAgICBzaG93VG9hc3QoYFBhZ2UgXCIke3BhZ2VUaXRsZX1cIiBzdXBwcmltXHUwMEU5ZWApO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1twYWdlc10gZGVsZXRlIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnRXJyZXVyIHN1cHByZXNzaW9uJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoZGVsZXRlUGFnZUNvbmZpcm0pIHtcbiAgICAgICAgICBkZWxldGVQYWdlQ29uZmlybS5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgIGRlbGV0ZVBhZ2VDb25maXJtLnRleHRDb250ZW50ID0gJ1N1cHByaW1lcic7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgcmVuZGVyUGFnZUxpc3RzID0gKHBhZ2VzLCBhY3RpdmVJZCkgPT4ge1xuICAgICAgcGFnZUxpc3RzLmZvckVhY2goKGxpc3QpID0+IHtcbiAgICAgICAgbGlzdC5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgcGFnZXMuZm9yRWFjaCgocGFnZSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgICAgIGl0ZW0uY2xhc3NOYW1lID0gJ2ZsZXggaXRlbXMtY2VudGVyIGdhcC0xJztcbiAgICAgICAgICBjb25zdCBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgICBidXR0b24udHlwZSA9ICdidXR0b24nO1xuICAgICAgICAgIGJ1dHRvbi5kYXRhc2V0LnBhZ2VJZCA9IHBhZ2UuaWQ7XG4gICAgICAgICAgYnV0dG9uLmNsYXNzTmFtZSA9IFtcbiAgICAgICAgICAgICdmbGV4LTEgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTMgcHgtMyBweS0yIHRleHQtbGVmdCB0cmFuc2l0aW9uJyxcbiAgICAgICAgICAgIGFjdGl2ZUlkID09PSBwYWdlLmlkXG4gICAgICAgICAgICAgID8gJ2JnLVsjOUM2QkZGXS8xMCB0ZXh0LXNsYXRlLTkwMCBib3JkZXIgYm9yZGVyLVsjOUM2QkZGXS80MCByb3VuZGVkLXhsIHNoYWRvdy1zbSdcbiAgICAgICAgICAgICAgOiAndGV4dC1zbGF0ZS03MDAgaG92ZXI6Ymctc2xhdGUtNTAgcm91bmRlZC14bCcsXG4gICAgICAgICAgXS5qb2luKCcgJyk7XG4gICAgICAgICAgaWYgKGFjdGl2ZUlkID09PSBwYWdlLmlkKSB7XG4gICAgICAgICAgICBidXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLWN1cnJlbnQnLCAncGFnZScpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBidXR0b24ucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWN1cnJlbnQnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gVXNlIHBhZ2UubmFtZSAoc2hvcnQgbmFtZSkgaWYgYXZhaWxhYmxlLCBmYWxsYmFjayB0byB0aXRsZVxuICAgICAgICAgIGNvbnN0IGRpc3BsYXlOYW1lID0gcGFnZS5uYW1lIHx8IHBhZ2UudGl0bGU7XG4gICAgICAgICAgYnV0dG9uLmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZmxleCBoLTkgdy05IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciByb3VuZGVkLXhsIGJvcmRlciBib3JkZXItc2xhdGUtMjAwIGJnLXdoaXRlIHRleHQtc2xhdGUtNTAwXCI+XG4gICAgICAgICAgICAgIDxzdmcgd2lkdGg9XCIxOFwiIGhlaWdodD1cIjE4XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+XG4gICAgICAgICAgICAgICAgPHBhdGggZD1cIk02LjUgNC41aDdsNCA0djExYTEgMSAwIDAgMS0xIDFoLTEwYTEgMSAwIDAgMS0xLTF2LTE0YTEgMSAwIDAgMSAxLTFaXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMS40XCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIi8+XG4gICAgICAgICAgICAgICAgPHBhdGggZD1cIk0xMy41IDQuNXY0YTEgMSAwIDAgMCAxIDFoM1wiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjEuNFwiLz5cbiAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQtc20gZm9udC1zZW1pYm9sZFwiPiR7ZGlzcGxheU5hbWV9PC9zcGFuPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQteHMgdGV4dC1zbGF0ZS01MDBcIj4ke3BhZ2Uuc2x1Z308L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICBgO1xuICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIHNldEFjdGl2ZVBhZ2UocGFnZS5pZCk7XG4gICAgICAgICAgICBpZiAoIWlzRGVza3RvcERyYXdlcigpKSB7XG4gICAgICAgICAgICAgIGNsb3NlRHJhd2VyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaXRlbS5hcHBlbmRDaGlsZChidXR0b24pO1xuICAgICAgICAgIC8vIEJvdXRvbiBkZSBzdXBwcmVzc2lvblxuICAgICAgICAgIGNvbnN0IGRlbGV0ZUJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICAgIGRlbGV0ZUJ0bi50eXBlID0gJ2J1dHRvbic7XG4gICAgICAgICAgZGVsZXRlQnRuLmNsYXNzTmFtZSA9ICdmbGV4LXNocmluay0wIHAtMiB0ZXh0LXNsYXRlLTQwMCBob3Zlcjp0ZXh0LXJvc2UtNjAwIGhvdmVyOmJnLXJvc2UtNTAgcm91bmRlZC1sZyB0cmFuc2l0aW9uJztcbiAgICAgICAgICBkZWxldGVCdG4udGl0bGUgPSAnU3VwcHJpbWVyIGNldHRlIHBhZ2UnO1xuICAgICAgICAgIGRlbGV0ZUJ0bi5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCBgU3VwcHJpbWVyICR7ZGlzcGxheU5hbWV9YCk7XG4gICAgICAgICAgZGVsZXRlQnRuLmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgIDxzdmcgd2lkdGg9XCIxNlwiIGhlaWdodD1cIjE2XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiPlxuICAgICAgICAgICAgICA8cGF0aCBkPVwiTTMgNmgxOE04IDZWNGEyIDIgMCAwIDEgMi0yaDRhMiAyIDAgMCAxIDIgMnYybTMgMHYxNGEyIDIgMCAwIDEtMiAySDdhMiAyIDAgMCAxLTItMlY2aDE0Wk0xMCAxMXY2TTE0IDExdjZcIi8+XG4gICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICBgO1xuICAgICAgICAgIGRlbGV0ZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgb3BlbkRlbGV0ZVBhZ2VNb2RhbChwYWdlKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpdGVtLmFwcGVuZENoaWxkKGRlbGV0ZUJ0bik7XG4gICAgICAgICAgbGlzdC5hcHBlbmRDaGlsZChpdGVtKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IGdldEFjdGl2ZUJsb2NrID0gKCkgPT4ge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSB8fCAhQXJyYXkuaXNBcnJheShjdXJyZW50UGFnZS5ibG9ja3MpKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgLy8gQ2hlcmNoZXIgbGUgYmxvYyBkYW5zIGxhIGxpc3RlIHByaW5jaXBhbGUgb3UgZGFucyBsZXMgZW5mYW50cyBkZXMgZ3JvdXBlc1xuICAgICAgbGV0IGJsb2NrID0gY3VycmVudFBhZ2UuYmxvY2tzLmZpbmQoKGJsb2NrKSA9PiBibG9jay5pZCA9PT0gYWN0aXZlQmxvY2tJZCk7XG4gICAgICBpZiAoIWJsb2NrKSB7XG4gICAgICAgIGZvciAoY29uc3QgYiBvZiBjdXJyZW50UGFnZS5ibG9ja3MpIHtcbiAgICAgICAgICBpZiAoYi5jaGlsZHJlbikge1xuICAgICAgICAgICAgYmxvY2sgPSBiLmNoaWxkcmVuLmZpbmQoKGNoaWxkKSA9PiBjaGlsZC5pZCA9PT0gYWN0aXZlQmxvY2tJZCk7XG4gICAgICAgICAgICBpZiAoYmxvY2spIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGJsb2NrIHx8IG51bGw7XG4gICAgfTtcbiAgICBcbiAgICAvLyBWYXJpYWJsZSBwb3VyIHN0b2NrZXIgbGUgcGFyZW50IGR1IGJsb2MgYWN0aWYgKHNpIGMnZXN0IHVuIGVuZmFudCBkZSBncm91cGUpXG4gICAgbGV0IGFjdGl2ZUJsb2NrUGFyZW50SWQgPSBudWxsO1xuICAgIFxuICAgIGNvbnN0IHNldEFjdGl2ZUJsb2NrID0gKGJsb2NrSWQsIHBhcmVudElkID0gbnVsbCkgPT4ge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWJsb2NrSWQpIHtcbiAgICAgICAgYWN0aXZlQmxvY2tJZCA9IG51bGw7XG4gICAgICAgIGFjdGl2ZUJsb2NrUGFyZW50SWQgPSBudWxsO1xuICAgICAgICByZW5kZXJCbG9ja0xpc3QoY3VycmVudFBhZ2UpO1xuICAgICAgICByZW5kZXJCbG9ja0RldGFpbHMobnVsbCk7XG4gICAgICAgIGFwcGx5UHJldmlld0hpZ2hsaWdodChudWxsKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgXG4gICAgICBsZXQgdGFyZ2V0QmxvY2sgPSBudWxsO1xuICAgICAgXG4gICAgICAvLyBDaGVyY2hlciBkYW5zIGxlcyBibG9jcyBwcmluY2lwYXV4XG4gICAgICB0YXJnZXRCbG9jayA9IGN1cnJlbnRQYWdlLmJsb2Nrcy5maW5kKChibG9jaykgPT4gYmxvY2suaWQgPT09IGJsb2NrSWQpO1xuICAgICAgXG4gICAgICAvLyBTaSBwYXMgdHJvdXZcdTAwRTkgZXQgcXUnb24gYSB1biBwYXJlbnRJZCwgY2hlcmNoZXIgZGFucyBsZXMgZW5mYW50cyBkdSBwYXJlbnRcbiAgICAgIGlmICghdGFyZ2V0QmxvY2sgJiYgcGFyZW50SWQpIHtcbiAgICAgICAgY29uc3QgcGFyZW50QmxvY2sgPSBjdXJyZW50UGFnZS5ibG9ja3MuZmluZCgoYikgPT4gYi5pZCA9PT0gcGFyZW50SWQpO1xuICAgICAgICBpZiAocGFyZW50QmxvY2sgJiYgcGFyZW50QmxvY2suY2hpbGRyZW4pIHtcbiAgICAgICAgICB0YXJnZXRCbG9jayA9IHBhcmVudEJsb2NrLmNoaWxkcmVuLmZpbmQoKGNoaWxkKSA9PiBjaGlsZC5pZCA9PT0gYmxvY2tJZCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gU2lub24gY2hlcmNoZXIgZGFucyB0b3VzIGxlcyBncm91cGVzXG4gICAgICBpZiAoIXRhcmdldEJsb2NrKSB7XG4gICAgICAgIGZvciAoY29uc3QgYiBvZiBjdXJyZW50UGFnZS5ibG9ja3MpIHtcbiAgICAgICAgICBpZiAoYi5jaGlsZHJlbikge1xuICAgICAgICAgICAgY29uc3QgZm91bmQgPSBiLmNoaWxkcmVuLmZpbmQoKGNoaWxkKSA9PiBjaGlsZC5pZCA9PT0gYmxvY2tJZCk7XG4gICAgICAgICAgICBpZiAoZm91bmQpIHtcbiAgICAgICAgICAgICAgdGFyZ2V0QmxvY2sgPSBmb3VuZDtcbiAgICAgICAgICAgICAgcGFyZW50SWQgPSBiLmlkO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gRmFsbGJhY2sgc3VyIGxlIHByZW1pZXIgYmxvY1xuICAgICAgaWYgKCF0YXJnZXRCbG9jaykge1xuICAgICAgICB0YXJnZXRCbG9jayA9IGN1cnJlbnRQYWdlLmJsb2Nrc1swXSB8fCBudWxsO1xuICAgICAgICBwYXJlbnRJZCA9IG51bGw7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGFjdGl2ZUJsb2NrSWQgPSB0YXJnZXRCbG9jaz8uaWQgfHwgbnVsbDtcbiAgICAgIGFjdGl2ZUJsb2NrUGFyZW50SWQgPSBwYXJlbnRJZDtcbiAgICAgIHJlbmRlckJsb2NrTGlzdChjdXJyZW50UGFnZSk7XG4gICAgICByZW5kZXJCbG9ja0RldGFpbHModGFyZ2V0QmxvY2spO1xuICAgICAgYXBwbHlQcmV2aWV3SGlnaGxpZ2h0KGFjdGl2ZUJsb2NrSWQpO1xuICAgIH07XG4gICAgY29uc3QgdXBkYXRlQ3VycmVudFBhZ2VCbG9ja3MgPSAobmV3QmxvY2tzKSA9PiB7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG5leHRQYWdlID0geyAuLi5jdXJyZW50UGFnZSwgYmxvY2tzOiBuZXdCbG9ja3MgfTtcbiAgICAgIHVwZGF0ZUN1cnJlbnRQYWdlU3RhdGUobmV4dFBhZ2UpO1xuICAgIH07XG4gICAgY29uc3QgaXNEZXNrdG9wUmVvcmRlciA9ICgpID0+IHdpbmRvdy5tYXRjaE1lZGlhKCcobWluLXdpZHRoOiAxMDI0cHgpJykubWF0Y2hlcztcbiAgICBmdW5jdGlvbiBtb3ZlQmxvY2tCeU9mZnNldChibG9ja0lkLCBvZmZzZXQpIHtcbiAgICAgIGlmICghY3VycmVudFBhZ2UgfHwgIWJsb2NrSWQgfHwgIW9mZnNldCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBibG9ja3MgPSBbLi4uKGN1cnJlbnRQYWdlLmJsb2NrcyB8fCBbXSldO1xuICAgICAgY29uc3QgaW5kZXggPSBibG9ja3MuZmluZEluZGV4KChibG9jaykgPT4gYmxvY2suaWQgPT09IGJsb2NrSWQpO1xuICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBuZXdJbmRleCA9IGluZGV4ICsgb2Zmc2V0O1xuICAgICAgaWYgKG5ld0luZGV4IDwgMCB8fCBuZXdJbmRleCA+PSBibG9ja3MubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IFttb3ZlZF0gPSBibG9ja3Muc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIGJsb2Nrcy5zcGxpY2UobmV3SW5kZXgsIDAsIG1vdmVkKTtcbiAgICAgIHVwZGF0ZUN1cnJlbnRQYWdlQmxvY2tzKGJsb2Nrcyk7XG4gICAgICBzZXRBY3RpdmVQYWdlKGN1cnJlbnRQYWdlLmlkLCB7IHByZXNlcnZlQmxvY2s6IHRydWUgfSk7XG4gICAgICBzZXRBY3RpdmVCbG9jayhtb3ZlZC5pZCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlb3JkZXJCbG9ja3Moc291cmNlSWQsIHRhcmdldElkKSB7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlIHx8ICFzb3VyY2VJZCB8fCAhdGFyZ2V0SWQgfHwgc291cmNlSWQgPT09IHRhcmdldElkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGJsb2NrcyA9IFsuLi4oY3VycmVudFBhZ2UuYmxvY2tzIHx8IFtdKV07XG4gICAgICBjb25zdCBmcm9tSW5kZXggPSBibG9ja3MuZmluZEluZGV4KChibG9jaykgPT4gYmxvY2suaWQgPT09IHNvdXJjZUlkKTtcbiAgICAgIGNvbnN0IHRvSW5kZXggPSBibG9ja3MuZmluZEluZGV4KChibG9jaykgPT4gYmxvY2suaWQgPT09IHRhcmdldElkKTtcbiAgICAgIGlmIChmcm9tSW5kZXggPCAwIHx8IHRvSW5kZXggPCAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IFttb3ZlZF0gPSBibG9ja3Muc3BsaWNlKGZyb21JbmRleCwgMSk7XG4gICAgICBibG9ja3Muc3BsaWNlKHRvSW5kZXgsIDAsIG1vdmVkKTtcbiAgICAgIHVwZGF0ZUN1cnJlbnRQYWdlQmxvY2tzKGJsb2Nrcyk7XG4gICAgICBzZXRBY3RpdmVQYWdlKGN1cnJlbnRQYWdlLmlkLCB7IHByZXNlcnZlQmxvY2s6IHRydWUgfSk7XG4gICAgICBzZXRBY3RpdmVCbG9jayhtb3ZlZC5pZCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlb3JkZXJCbG9ja3NXaXRoUG9zaXRpb24oc291cmNlSWQsIHRhcmdldElkLCBwb3NpdGlvbikge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSB8fCAhc291cmNlSWQgfHwgIXRhcmdldElkIHx8IHNvdXJjZUlkID09PSB0YXJnZXRJZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBibG9ja3MgPSBbLi4uKGN1cnJlbnRQYWdlLmJsb2NrcyB8fCBbXSldO1xuICAgICAgY29uc3QgZnJvbUluZGV4ID0gYmxvY2tzLmZpbmRJbmRleCgoYmxvY2spID0+IGJsb2NrLmlkID09PSBzb3VyY2VJZCk7XG4gICAgICBsZXQgdG9JbmRleCA9IGJsb2Nrcy5maW5kSW5kZXgoKGJsb2NrKSA9PiBibG9jay5pZCA9PT0gdGFyZ2V0SWQpO1xuICAgICAgaWYgKGZyb21JbmRleCA8IDAgfHwgdG9JbmRleCA8IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgW21vdmVkXSA9IGJsb2Nrcy5zcGxpY2UoZnJvbUluZGV4LCAxKTtcbiAgICAgIC8vIEFqdXN0ZXIgbCdpbmRleCBzaSBuXHUwMEU5Y2Vzc2FpcmUgYXByXHUwMEU4cyBsYSBzdXBwcmVzc2lvblxuICAgICAgaWYgKGZyb21JbmRleCA8IHRvSW5kZXgpIHtcbiAgICAgICAgdG9JbmRleC0tO1xuICAgICAgfVxuICAgICAgLy8gSW5zXHUwMEU5cmVyIGF2YW50IG91IGFwclx1MDBFOHMgbGEgY2libGVcbiAgICAgIGNvbnN0IGluc2VydEluZGV4ID0gcG9zaXRpb24gPT09ICdiZWZvcmUnID8gdG9JbmRleCA6IHRvSW5kZXggKyAxO1xuICAgICAgYmxvY2tzLnNwbGljZShpbnNlcnRJbmRleCwgMCwgbW92ZWQpO1xuICAgICAgdXBkYXRlQ3VycmVudFBhZ2VCbG9ja3MoYmxvY2tzKTtcbiAgICAgIHNldEFjdGl2ZVBhZ2UoY3VycmVudFBhZ2UuaWQsIHsgcHJlc2VydmVCbG9jazogdHJ1ZSB9KTtcbiAgICAgIHNldEFjdGl2ZUJsb2NrKG1vdmVkLmlkKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlRHJhZ2dhYmxlU3RhdGUoKSB7XG4gICAgICBpZiAoIWJsb2NrTGlzdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBkcmFnZ2FibGUgPSBpc0Rlc2t0b3BSZW9yZGVyKCk7XG4gICAgICBibG9ja0xpc3QucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYmxvY2staXRlbV0nKS5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgIGl0ZW0uc2V0QXR0cmlidXRlKCdkcmFnZ2FibGUnLCBkcmFnZ2FibGUgPyAndHJ1ZScgOiAnZmFsc2UnKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjbG9zZUJsb2NrTGlicmFyeSgpIHtcbiAgICAgIGlmICghYmxvY2tMaWJyYXJ5KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGJsb2NrTGlicmFyeS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGJsb2NrTGlicmFyeU9wZW4gPSBmYWxzZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gb3BlbkJsb2NrTGlicmFyeSgpIHtcbiAgICAgIGlmICghYmxvY2tMaWJyYXJ5KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGJsb2NrTGlicmFyeS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGJsb2NrTGlicmFyeU9wZW4gPSB0cnVlO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0b2dnbGVCbG9ja0xpYnJhcnkoKSB7XG4gICAgICBibG9ja0xpYnJhcnlPcGVuID8gY2xvc2VCbG9ja0xpYnJhcnkoKSA6IG9wZW5CbG9ja0xpYnJhcnkoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYWRkQmxvY2tGcm9tTGlicmFyeSh0eXBlKSB7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlIHx8ICF0eXBlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRlZmluaXRpb24gPSBibG9ja0xpYnJhcnlEZWZpbml0aW9uc1t0eXBlXTtcbiAgICAgIGlmICghZGVmaW5pdGlvbikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBjb3VudCA9XG4gICAgICAgIChjdXJyZW50UGFnZS5ibG9ja3MgfHwgW10pLmZpbHRlcigoYmxvY2spID0+IGJsb2NrLnR5cGUgPT09IGRlZmluaXRpb24udHlwZSkubGVuZ3RoICsgMTtcbiAgICAgIGNvbnN0IG5ld0Jsb2NrID0gY3JlYXRlQmxvY2soXG4gICAgICAgIGdlbmVyYXRlQmxvY2tJZChjdXJyZW50UGFnZS5pZCwgdHlwZSksXG4gICAgICAgIGAke2RlZmluaXRpb24ubGFiZWx9ICR7Y291bnR9YCxcbiAgICAgICAgZGVmaW5pdGlvbi50eXBlLFxuICAgICAgICBkZWZpbml0aW9uLnN0YXR1cyxcbiAgICAgICAgZGVmaW5pdGlvbi5kZXNjcmlwdGlvbixcbiAgICAgICAgZGVmaW5pdGlvbi5wcm9wcyxcbiAgICAgICAgZGVmaW5pdGlvbi5zZXR0aW5ncyB8fCB7fSxcbiAgICAgICk7XG4gICAgICBpZiAoKGRlZmluaXRpb24udHlwZSB8fCAnJykudG9Mb3dlckNhc2UoKSA9PT0gJ2NvbGxlY3Rpb25ncmlkJykge1xuICAgICAgICBjb25zdCBmaXJzdENvbGxlY3Rpb25JZCA9IGRlc2lnbkNvbGxlY3Rpb25zWzBdPy5pZCB8fCAnJztcbiAgICAgICAgbmV3QmxvY2suY29sbGVjdGlvbklkID0gZmlyc3RDb2xsZWN0aW9uSWQ7XG4gICAgICAgIG5ld0Jsb2NrLnNldHRpbmdzLmNvbGxlY3Rpb25JZCA9IGZpcnN0Q29sbGVjdGlvbklkO1xuICAgICAgICBuZXdCbG9jay5zZXR0aW5ncy5saW1pdCA9IG5ld0Jsb2NrLnNldHRpbmdzLmxpbWl0IHx8IDY7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFNpIG9uIGFqb3V0ZSBcdTAwRTAgdW4gZ3JvdXBlXG4gICAgICBpZiAocGVuZGluZ0dyb3VwSWRGb3JOZXdCbG9jaykge1xuICAgICAgICBjb25zdCBncm91cEJsb2NrID0gY3VycmVudFBhZ2UuYmxvY2tzLmZpbmQoKGIpID0+IGIuaWQgPT09IHBlbmRpbmdHcm91cElkRm9yTmV3QmxvY2spO1xuICAgICAgICBpZiAoZ3JvdXBCbG9jaykge1xuICAgICAgICAgIGlmICghZ3JvdXBCbG9jay5jaGlsZHJlbikgZ3JvdXBCbG9jay5jaGlsZHJlbiA9IFtdO1xuICAgICAgICAgIGdyb3VwQmxvY2suY2hpbGRyZW4ucHVzaChuZXdCbG9jayk7XG4gICAgICAgICAgcGVuZGluZ0dyb3VwSWRGb3JOZXdCbG9jayA9IG51bGw7XG4gICAgICAgICAgcmVuZGVyQmxvY2tMaXN0KGN1cnJlbnRQYWdlKTtcbiAgICAgICAgICBzYXZlUGFnZUJsb2NrcygpO1xuICAgICAgICAgIHNldEFjdGl2ZUJsb2NrKG5ld0Jsb2NrLmlkLCBncm91cEJsb2NrLmlkKTtcbiAgICAgICAgICBjbG9zZUJsb2NrTGlicmFyeSgpO1xuICAgICAgICAgIHNob3dUb2FzdCgnQmxvYyBham91dFx1MDBFOSBhdSBncm91cGUnKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcGVuZGluZ0dyb3VwSWRGb3JOZXdCbG9jayA9IG51bGw7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IG5leHRCbG9ja3MgPSBbLi4uKGN1cnJlbnRQYWdlLmJsb2NrcyB8fCBbXSksIG5ld0Jsb2NrXTtcbiAgICAgIHVwZGF0ZUN1cnJlbnRQYWdlQmxvY2tzKG5leHRCbG9ja3MpO1xuICAgICAgc2V0QWN0aXZlUGFnZShjdXJyZW50UGFnZS5pZCwgeyBwcmVzZXJ2ZUJsb2NrOiB0cnVlIH0pO1xuICAgICAgc2V0QWN0aXZlQmxvY2sobmV3QmxvY2suaWQpO1xuICAgICAgY2xvc2VCbG9ja0xpYnJhcnkoKTtcbiAgICAgIHNob3dUb2FzdCgnQmxvYyBham91dFx1MDBFOScpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkZWxldGVCbG9ja0J5SWQoYmxvY2tJZCkge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBibG9ja3MgPSAoY3VycmVudFBhZ2UuYmxvY2tzIHx8IFtdKS5maWx0ZXIoKGJsb2NrKSA9PiBibG9jay5pZCAhPT0gYmxvY2tJZCk7XG4gICAgICBjb25zdCBuZXh0QWN0aXZlID1cbiAgICAgICAgYmxvY2tJZCA9PT0gYWN0aXZlQmxvY2tJZCA/IGJsb2Nrc1swXT8uaWQgfHwgbnVsbCA6IGFjdGl2ZUJsb2NrSWQgfHwgYmxvY2tzWzBdPy5pZCB8fCBudWxsO1xuICAgICAgdXBkYXRlQ3VycmVudFBhZ2VCbG9ja3MoYmxvY2tzKTtcbiAgICAgIGFjdGl2ZUJsb2NrSWQgPSBuZXh0QWN0aXZlO1xuICAgICAgc2V0QWN0aXZlUGFnZShjdXJyZW50UGFnZS5pZCwgeyBwcmVzZXJ2ZUJsb2NrOiB0cnVlIH0pO1xuICAgICAgaWYgKGFjdGl2ZUJsb2NrSWQpIHtcbiAgICAgICAgc2V0QWN0aXZlQmxvY2soYWN0aXZlQmxvY2tJZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZW5kZXJCbG9ja0RldGFpbHMobnVsbCk7XG4gICAgICAgIGFwcGx5UHJldmlld0hpZ2hsaWdodChudWxsKTtcbiAgICAgIH1cbiAgICAgIHNob3dUb2FzdCgnQmxvYyBzdXBwcmltXHUwMEU5Jyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNsb3NlQmxvY2tEZWxldGVNb2RhbCgpIHtcbiAgICAgIGlmICghYmxvY2tEZWxldGVNb2RhbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBibG9ja0RlbGV0ZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgYmxvY2tEZWxldGVNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdmbGV4Jyk7XG4gICAgICBwZW5kaW5nRGVsZXRlQmxvY2tJZCA9IG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG9wZW5CbG9ja0RlbGV0ZU1vZGFsKGJsb2NrSWQpIHtcbiAgICAgIGlmICghYmxvY2tEZWxldGVNb2RhbCkge1xuICAgICAgICBkZWxldGVCbG9ja0J5SWQoYmxvY2tJZCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHBlbmRpbmdEZWxldGVCbG9ja0lkID0gYmxvY2tJZDtcbiAgICAgIGJsb2NrRGVsZXRlTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBibG9ja0RlbGV0ZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2ZsZXgnKTtcbiAgICB9XG4gICAgY29uc3QgdXBkYXRlQ3VycmVudFBhZ2VTdGF0ZSA9IChuZXh0UGFnZSkgPT4ge1xuICAgICAgaWYgKCFuZXh0UGFnZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBub3JtYWxpemVkID0gbm9ybWFsaXplUGFnZURhdGEobmV4dFBhZ2UpO1xuICAgICAgcGFnZXMgPSBwYWdlcy5tYXAoKHBhZ2UpID0+IChwYWdlLmlkID09PSBub3JtYWxpemVkLmlkID8gbm9ybWFsaXplZCA6IHBhZ2UpKTtcbiAgICAgIGN1cnJlbnRQYWdlID0gbm9ybWFsaXplZDtcbiAgICAgIHNhdmVQYWdlVG9TZXJ2ZXIobm9ybWFsaXplZCk7XG4gICAgfTtcbiAgICBjb25zdCBzZXRBY3RpdmVQYWdlID0gKHBhZ2VJZCwgb3B0aW9ucyA9IHt9KSA9PiB7XG4gICAgICBjb25zdCB0YXJnZXQgPSBwYWdlcy5maW5kKChwYWdlKSA9PiBwYWdlLmlkID09PSBwYWdlSWQpIHx8IHBhZ2VzWzBdIHx8IG51bGw7XG4gICAgICBjb25zdCBub3JtYWxpemVkVGFyZ2V0ID0gdGFyZ2V0ID8gbm9ybWFsaXplUGFnZURhdGEodGFyZ2V0KSA6IG51bGw7XG4gICAgICBjdXJyZW50UGFnZSA9IG5vcm1hbGl6ZWRUYXJnZXQ7XG4gICAgICBhY3RpdmVQYWdlSWQgPSB0YXJnZXQ/LmlkIHx8IG51bGw7XG4gICAgICBpZiAoIW9wdGlvbnMucHJlc2VydmVCbG9jayB8fCAhY3VycmVudFBhZ2UgfHwgIWN1cnJlbnRQYWdlLmJsb2Nrcy5zb21lKChibG9jaykgPT4gYmxvY2suaWQgPT09IGFjdGl2ZUJsb2NrSWQpKSB7XG4gICAgICAgIGFjdGl2ZUJsb2NrSWQgPSBjdXJyZW50UGFnZT8uYmxvY2tzPy5bMF0/LmlkIHx8IG51bGw7XG4gICAgICB9XG4gICAgICBpZiAoYWN0aXZlUGFnZUlkKSB7XG4gICAgICAgIHBlcnNpc3RBY3RpdmVQYWdlKGFjdGl2ZVBhZ2VJZCk7XG4gICAgICB9XG4gICAgICByZW5kZXJQYWdlTGlzdHMocGFnZXMsIGFjdGl2ZVBhZ2VJZCk7XG4gICAgICBzZXRBY3RpdmVMYWJlbHMoY3VycmVudFBhZ2UpO1xuICAgICAgcmVuZGVyUHJldmlld01ldGEoY3VycmVudFBhZ2UpO1xuICAgICAgcmVmcmVzaFByZXZpZXcoY3VycmVudFBhZ2UpO1xuICAgICAgcmVuZGVyQmxvY2tMaXN0KGN1cnJlbnRQYWdlKTtcbiAgICAgIHJlbmRlckJsb2NrRGV0YWlscyhnZXRBY3RpdmVCbG9jaygpKTtcbiAgICAgIGFwcGx5UHJldmlld0hpZ2hsaWdodChhY3RpdmVCbG9ja0lkKTtcbiAgICAgIHVwZGF0ZURyYWdnYWJsZVN0YXRlKCk7XG4gICAgICBpZiAoYmxvY2tMaWJyYXJ5T3Blbikge1xuICAgICAgICBjbG9zZUJsb2NrTGlicmFyeSgpO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgaXNEZXNrdG9wRHJhd2VyID0gKCkgPT4gd2luZG93Lm1hdGNoTWVkaWEoJyhtaW4td2lkdGg6IDEwMjRweCknKS5tYXRjaGVzO1xuICAgIGNvbnN0IHN5bmNEcmF3ZXJTdGF0ZSA9ICgpID0+IHtcbiAgICAgIGlmICghZHJhd2VyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChpc0Rlc2t0b3BEcmF3ZXIoKSkge1xuICAgICAgICBkcmF3ZXIuY2xhc3NMaXN0LmFkZCgnaXMtb3BlbicpO1xuICAgICAgICBkcmF3ZXJCYWNrZHJvcD8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnb3ZlcmZsb3ctaGlkZGVuJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkcmF3ZXIuY2xhc3NMaXN0LnJlbW92ZSgnaXMtb3BlbicpO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3Qgb3BlbkRyYXdlciA9ICgpID0+IHtcbiAgICAgIGlmICghZHJhd2VyIHx8IGlzRGVza3RvcERyYXdlcigpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGRyYXdlci5jbGFzc0xpc3QuYWRkKCdpcy1vcGVuJyk7XG4gICAgICBkcmF3ZXJCYWNrZHJvcD8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ292ZXJmbG93LWhpZGRlbicpO1xuICAgIH07XG4gICAgY29uc3QgY2xvc2VEcmF3ZXIgPSAoKSA9PiB7XG4gICAgICBpZiAoIWRyYXdlcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBkcmF3ZXIuY2xhc3NMaXN0LnJlbW92ZSgnaXMtb3BlbicpO1xuICAgICAgZHJhd2VyQmFja2Ryb3A/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICB9O1xuICAgIGNvbnN0IG9wZW5BZGRQYWdlRm9ybSA9ICgpID0+IHtcbiAgICAgIGlmICghYWRkUGFnZUZvcm0gfHwgIWFkZFBhZ2VUb2dnbGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYWRkUGFnZUZvcm0uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBhZGRQYWdlVG9nZ2xlLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgYWRkUGFnZUVycm9yICYmIChhZGRQYWdlRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgICBwYWdlU2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gICAgICBpZiAoYWRkUGFnZU5hbWUpIHtcbiAgICAgICAgYWRkUGFnZU5hbWUudmFsdWUgPSAnJztcbiAgICAgICAgYWRkUGFnZU5hbWUuZm9jdXMoKTtcbiAgICAgIH1cbiAgICAgIGlmIChhZGRQYWdlVGl0bGUpIHtcbiAgICAgICAgYWRkUGFnZVRpdGxlLnZhbHVlID0gJyc7XG4gICAgICB9XG4gICAgICBpZiAoYWRkUGFnZVNsdWcpIHtcbiAgICAgICAgYWRkUGFnZVNsdWcudmFsdWUgPSAnJztcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGNsb3NlQWRkUGFnZUZvcm0gPSAoKSA9PiB7XG4gICAgICBpZiAoIWFkZFBhZ2VGb3JtIHx8ICFhZGRQYWdlVG9nZ2xlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGFkZFBhZ2VGb3JtLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgYWRkUGFnZVRvZ2dsZS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGFkZFBhZ2VFcnJvciAmJiAoYWRkUGFnZUVycm9yLnRleHRDb250ZW50ID0gJycpO1xuICAgICAgcGFnZVNsdWdNYW51YWxseUVkaXRlZCA9IGZhbHNlO1xuICAgICAgYWRkUGFnZUZvcm0ucmVzZXQoKTtcbiAgICB9O1xuICAgIGNvbnN0IHN5bmNTbHVnRnJvbU5hbWUgPSAoKSA9PiB7XG4gICAgICBpZiAoIWFkZFBhZ2VOYW1lIHx8ICFhZGRQYWdlU2x1Zykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAocGFnZVNsdWdNYW51YWxseUVkaXRlZCAmJiBhZGRQYWdlU2x1Zy52YWx1ZS50cmltKCkubGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhZGRQYWdlU2x1Zy52YWx1ZSA9IG5vcm1hbGl6ZVBhZ2VTbHVnKGFkZFBhZ2VOYW1lLnZhbHVlKTtcbiAgICB9O1xuXG4gICAgbGV0IHBhZ2VzID0gW107XG4gICAgbGV0IGFjdGl2ZVBhZ2VJZCA9IG51bGw7XG4gICAgbGV0IHBhZ2VTbHVnTWFudWFsbHlFZGl0ZWQgPSBmYWxzZTtcbiAgICBsZXQgY3VycmVudFBhZ2UgPSBudWxsO1xuICAgIGxldCBhY3RpdmVCbG9ja0lkID0gbnVsbDtcbiAgICBsZXQgYmxvY2tMaWJyYXJ5T3BlbiA9IGZhbHNlO1xuICAgIGxldCBwZW5kaW5nRGVsZXRlQmxvY2tJZCA9IG51bGw7XG4gICAgbGV0IGxhdGVzdFByZXZpZXdIdG1sID0gJyc7XG4gICAgbGV0IHByZXZpZXdSZWFkeSA9IGZhbHNlO1xuICAgIGxldCBwcmV2aWV3UmVxdWVzdENvbnRyb2xsZXIgPSBudWxsO1xuICAgIGxldCBkZXNpZ25Db2xsZWN0aW9ucyA9IFtdO1xuXG4gICAgY29uc3Qgbm9ybWFsaXplQmxvY2tEYXRhID0gKGJsb2NrKSA9PiB7XG4gICAgICBjb25zdCBub3JtYWxpemVkID0ge1xuICAgICAgICAuLi5ibG9jayxcbiAgICAgICAgcHJvcHM6IEFycmF5LmlzQXJyYXkoYmxvY2sucHJvcHMpID8gYmxvY2sucHJvcHMgOiBbXSxcbiAgICAgICAgc2V0dGluZ3M6IHsgLi4uKGJsb2NrLnNldHRpbmdzIHx8IHt9KSB9LFxuICAgICAgfTtcbiAgICAgIGNvbnN0IHR5cGUgPSAobm9ybWFsaXplZC50eXBlIHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgaWYgKHR5cGUgPT09ICdjb2xsZWN0aW9uZ3JpZCcpIHtcbiAgICAgICAgbm9ybWFsaXplZC5jb2xsZWN0aW9uSWQgPVxuICAgICAgICAgIG5vcm1hbGl6ZWQuY29sbGVjdGlvbklkIHx8IG5vcm1hbGl6ZWQuc2V0dGluZ3MuY29sbGVjdGlvbklkIHx8ICcnO1xuICAgICAgICBub3JtYWxpemVkLnNldHRpbmdzLmNvbGxlY3Rpb25JZCA9IG5vcm1hbGl6ZWQuY29sbGVjdGlvbklkO1xuICAgICAgICBub3JtYWxpemVkLnNldHRpbmdzLmxpbWl0ID0gbm9ybWFsaXplZC5zZXR0aW5ncy5saW1pdCB8fCA2O1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5vcm1hbGl6ZWQ7XG4gICAgfTtcblxuICAgIGNvbnN0IG5vcm1hbGl6ZVBhZ2VEYXRhID0gKHBhZ2UpID0+ICh7XG4gICAgICAuLi5wYWdlLFxuICAgICAgYmxvY2tzOiAocGFnZS5ibG9ja3MgfHwgW10pLm1hcCgoYmxvY2spID0+IG5vcm1hbGl6ZUJsb2NrRGF0YShibG9jaykpLFxuICAgICAgc2VvOiB7XG4gICAgICAgIHRpdGxlOiAocGFnZS5zZW8/LnRpdGxlIHx8ICcnKS50cmltKCksXG4gICAgICAgIGRlc2NyaXB0aW9uOiAocGFnZS5zZW8/LmRlc2NyaXB0aW9uIHx8ICcnKS50cmltKCksXG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgY29uc3QgbG9hZERlc2lnbkNvbGxlY3Rpb25zID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uc0FwaUJhc2UpIHtcbiAgICAgICAgZGVzaWduQ29sbGVjdGlvbnMgPSBbXTtcbiAgICAgICAgdXBkYXRlQ29sbGVjdGlvblNlbGVjdE9wdGlvbnMoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChjb2xsZWN0aW9uc0FwaUJhc2UsIHtcbiAgICAgICAgICBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIGNvbGxlY3Rpb25zLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gW10pO1xuICAgICAgICBkZXNpZ25Db2xsZWN0aW9ucyA9IEFycmF5LmlzQXJyYXkocGF5bG9hZCkgPyBwYXlsb2FkIDogW107XG4gICAgICAgIGNvbnN0IGN1cnJlbnRWYWx1ZSA9IGNvbGxlY3Rpb25TZWxlY3Q/LnZhbHVlIHx8ICcnO1xuICAgICAgICB1cGRhdGVDb2xsZWN0aW9uU2VsZWN0T3B0aW9ucyhjdXJyZW50VmFsdWUpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkZXNpZ25dIGNvbGxlY3Rpb25zIGxvYWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoJ0NvbGxlY3Rpb25zIGluZGlzcG9uaWJsZXMuJyk7XG4gICAgICAgIGRlc2lnbkNvbGxlY3Rpb25zID0gW107XG4gICAgICAgIHVwZGF0ZUNvbGxlY3Rpb25TZWxlY3RPcHRpb25zKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHN5bmNDb2xsZWN0aW9uU2VsZWN0aW9uSW5mbyA9IChjb2xsZWN0aW9uSWQpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvblNlbGVjdGlvbkluZm8pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFjb2xsZWN0aW9uSWQpIHtcbiAgICAgICAgY29sbGVjdGlvblNlbGVjdGlvbkluZm8udGV4dENvbnRlbnQgPSBkZXNpZ25Db2xsZWN0aW9ucy5sZW5ndGhcbiAgICAgICAgICA/ICdTXHUwMEU5bGVjdGlvbm5leiB1bmUgY29sbGVjdGlvbiBwb3VyIGFmZmljaGVyIHNlcyBpbmZvcm1hdGlvbnMuJ1xuICAgICAgICAgIDogJ0F1Y3VuZSBjb2xsZWN0aW9uIGRpc3BvbmlibGUuIEFqb3V0ZXotZW4gZGVwdWlzIGxcdTIwMTlvbmdsZXQgQ29udGVudXMuJztcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgZW50cnkgPSBkZXNpZ25Db2xsZWN0aW9ucy5maW5kKChjb2xsZWN0aW9uKSA9PiBjb2xsZWN0aW9uLmlkID09PSBjb2xsZWN0aW9uSWQpO1xuICAgICAgaWYgKCFlbnRyeSkge1xuICAgICAgICBjb2xsZWN0aW9uU2VsZWN0aW9uSW5mby50ZXh0Q29udGVudCA9IGBDb2xsZWN0aW9uICR7Y29sbGVjdGlvbklkfWA7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRldGFpbHMgPSBbXTtcbiAgICAgIGlmIChlbnRyeS5kZXNjcmlwdGlvbikge1xuICAgICAgICBkZXRhaWxzLnB1c2goZW50cnkuZGVzY3JpcHRpb24pO1xuICAgICAgfVxuICAgICAgaWYgKGVudHJ5LnR5cGUpIHtcbiAgICAgICAgZGV0YWlscy5wdXNoKGBUeXBlXHUwMEEwOiAke2VudHJ5LnR5cGV9YCk7XG4gICAgICB9XG4gICAgICBjb2xsZWN0aW9uU2VsZWN0aW9uSW5mby50ZXh0Q29udGVudCA9XG4gICAgICAgIGRldGFpbHMuam9pbignIFx1MDBCNyAnKSB8fCBgQ29sbGVjdGlvbiAke2VudHJ5Lm5hbWUgfHwgZW50cnkuaWR9YDtcbiAgICB9O1xuXG4gICAgY29uc3QgdXBkYXRlQ29sbGVjdGlvblNlbGVjdE9wdGlvbnMgPSAoc2VsZWN0ZWRWYWx1ZSA9ICcnKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25TZWxlY3QpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29sbGVjdGlvblNlbGVjdC5pbm5lckhUTUwgPSAnJztcbiAgICAgIGlmICghZGVzaWduQ29sbGVjdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgIGNvbGxlY3Rpb25TZWxlY3QuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgICAgb3B0aW9uLnZhbHVlID0gJyc7XG4gICAgICAgIG9wdGlvbi50ZXh0Q29udGVudCA9ICdBdWN1bmUgY29sbGVjdGlvbiBkaXNwb25pYmxlJztcbiAgICAgICAgY29sbGVjdGlvblNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb24pO1xuICAgICAgICBzeW5jQ29sbGVjdGlvblNlbGVjdGlvbkluZm8oJycpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb2xsZWN0aW9uU2VsZWN0LmRpc2FibGVkID0gZmFsc2U7XG4gICAgICBpZiAoc2VsZWN0ZWRWYWx1ZSAmJiAhZGVzaWduQ29sbGVjdGlvbnMuc29tZSgoZW50cnkpID0+IGVudHJ5LmlkID09PSBzZWxlY3RlZFZhbHVlKSkge1xuICAgICAgICBjb25zdCBmYWxsYmFja09wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICBmYWxsYmFja09wdGlvbi52YWx1ZSA9IHNlbGVjdGVkVmFsdWU7XG4gICAgICAgIGZhbGxiYWNrT3B0aW9uLnRleHRDb250ZW50ID0gc2VsZWN0ZWRWYWx1ZTtcbiAgICAgICAgY29sbGVjdGlvblNlbGVjdC5hcHBlbmRDaGlsZChmYWxsYmFja09wdGlvbik7XG4gICAgICB9XG4gICAgICBkZXNpZ25Db2xsZWN0aW9ucy5mb3JFYWNoKChjb2xsZWN0aW9uKSA9PiB7XG4gICAgICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICBvcHRpb24udmFsdWUgPSBjb2xsZWN0aW9uLmlkO1xuICAgICAgICBjb25zdCBsYWJlbCA9IGNvbGxlY3Rpb24ubmFtZSB8fCBjb2xsZWN0aW9uLmlkO1xuICAgICAgICBvcHRpb24udGV4dENvbnRlbnQgPSBjb2xsZWN0aW9uLnR5cGUgPyBgJHtsYWJlbH0gXHUwMEI3ICR7Y29sbGVjdGlvbi50eXBlfWAgOiBsYWJlbDtcbiAgICAgICAgb3B0aW9uLmRhdGFzZXQuZGVzY3JpcHRpb24gPSBjb2xsZWN0aW9uLmRlc2NyaXB0aW9uIHx8ICcnO1xuICAgICAgICBjb2xsZWN0aW9uU2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbik7XG4gICAgICB9KTtcbiAgICAgIGlmIChzZWxlY3RlZFZhbHVlKSB7XG4gICAgICAgIGNvbGxlY3Rpb25TZWxlY3QudmFsdWUgPSBzZWxlY3RlZFZhbHVlO1xuICAgICAgfVxuICAgICAgc3luY0NvbGxlY3Rpb25TZWxlY3Rpb25JbmZvKGNvbGxlY3Rpb25TZWxlY3QudmFsdWUgfHwgJycpO1xuICAgIH07XG5cbiAgICBsb2FkRGVzaWduQ29sbGVjdGlvbnMoKTtcbiAgICBzeW5jRHJhd2VyU3RhdGUoKTtcblxuICAgIGRyYXdlck9wZW5CdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlbkRyYXdlcik7XG4gICAgfSk7XG4gICAgZHJhd2VyQ2xvc2VCdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VEcmF3ZXIpO1xuICAgIH0pO1xuICAgIGRyYXdlckJhY2tkcm9wPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlRHJhd2VyKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgKCkgPT4ge1xuICAgICAgc3luY0RyYXdlclN0YXRlKCk7XG4gICAgICB1cGRhdGVEcmFnZ2FibGVTdGF0ZSgpO1xuICAgIH0pO1xuXG4gICAgYWRkUGFnZVRvZ2dsZT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuQWRkUGFnZUZvcm0pO1xuICAgIGFkZFBhZ2VDYW5jZWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VBZGRQYWdlRm9ybSk7XG4gICAgYWRkUGFnZU5hbWU/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0Jywgc3luY1NsdWdGcm9tTmFtZSk7XG4gICAgYWRkUGFnZVNsdWc/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgYWRkUGFnZUVycm9yICYmIChhZGRQYWdlRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgICBwYWdlU2x1Z01hbnVhbGx5RWRpdGVkID0gdHJ1ZTtcbiAgICB9KTtcbiAgICBhZGRQYWdlRm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKCFwYWdlc0FwaUJhc2UpIHtcbiAgICAgICAgYWRkUGFnZUVycm9yICYmIChhZGRQYWdlRXJyb3IudGV4dENvbnRlbnQgPSAnQXVjdW4gc2l0ZSBzXHUwMEU5bGVjdGlvbm5cdTAwRTkuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghYWRkUGFnZU5hbWUgfHwgIWFkZFBhZ2VTbHVnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG5hbWUgPSBhZGRQYWdlTmFtZS52YWx1ZS50cmltKCk7XG4gICAgICBjb25zdCB0aXRsZSA9IGFkZFBhZ2VUaXRsZT8udmFsdWUudHJpbSgpIHx8IG5hbWU7IC8vIEZhbGxiYWNrIHRvIG5hbWUgaWYgdGl0bGUgaXMgZW1wdHlcbiAgICAgIGNvbnN0IHNsdWcgPSBub3JtYWxpemVQYWdlU2x1ZyhhZGRQYWdlU2x1Zy52YWx1ZS50cmltKCkgfHwgbmFtZSk7XG4gICAgICBpZiAoIW5hbWUgfHwgIXNsdWcpIHtcbiAgICAgICAgYWRkUGFnZUVycm9yICYmIChhZGRQYWdlRXJyb3IudGV4dENvbnRlbnQgPSAnTm9tIGV0IHNsdWcgc29udCByZXF1aXMuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGFkZFBhZ2VFcnJvciAmJiAoYWRkUGFnZUVycm9yLnRleHRDb250ZW50ID0gJycpO1xuICAgICAgaWYgKGFkZFBhZ2VTdWJtaXRCdXR0b24pIHtcbiAgICAgICAgYWRkUGFnZVN1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIGFkZFBhZ2VTdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSAnQ3JcdTAwRTlhdGlvbi4uLic7XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBjcmVhdGVkUGFnZSA9IGF3YWl0IGNyZWF0ZVBhZ2VPblNlcnZlcih7IG5hbWUsIHRpdGxlLCBzbHVnIH0pO1xuICAgICAgICBpZiAoIWNyZWF0ZWRQYWdlIHx8ICFjcmVhdGVkUGFnZS5pZCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUlx1MDBFOXBvbnNlIGludmFsaWRlLicpO1xuICAgICAgICB9XG4gICAgICAgIHBhZ2VzID0gWy4uLnBhZ2VzLCBub3JtYWxpemVQYWdlRGF0YShjcmVhdGVkUGFnZSldO1xuICAgICAgICBjbG9zZUFkZFBhZ2VGb3JtKCk7XG4gICAgICAgIHNob3dUb2FzdCgnUGFnZSBjclx1MDBFOVx1MDBFOWUnKTtcbiAgICAgICAgc2V0QWN0aXZlUGFnZShjcmVhdGVkUGFnZS5pZCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2Rlc2lnbl0gY3JlYXRlIHBhZ2UgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgYWRkUGFnZUVycm9yICYmIChhZGRQYWdlRXJyb3IudGV4dENvbnRlbnQgPSBlcnIubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBjclx1MDBFOWVyIGxhIHBhZ2UuJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoYWRkUGFnZVN1Ym1pdEJ1dHRvbikge1xuICAgICAgICAgIGFkZFBhZ2VTdWJtaXRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICBhZGRQYWdlU3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gJ0NyXHUwMEU5ZXInO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyA9PT0gSW1wb3J0IEpTT04gaGFuZGxlcnMgPT09XG4gICAgY29uc3QgcmVzZXRQYXN0ZVN0YXRlID0gKCkgPT4ge1xuICAgICAgaWYgKGltcG9ydFBhc3RlSW5wdXQpIGltcG9ydFBhc3RlSW5wdXQudmFsdWUgPSAnJztcbiAgICAgIGlmIChwYXN0ZUVycm9yKSB7XG4gICAgICAgIHBhc3RlRXJyb3IuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIHBhc3RlRXJyb3IudGV4dENvbnRlbnQgPSAnJztcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgdmFsaWRhdGVQYXN0ZUpzb24gPSAoKSA9PiB7XG4gICAgICBpZiAoIWltcG9ydFBhc3RlSW5wdXQpIHJldHVybiBudWxsO1xuICAgICAgY29uc3QgdGV4dCA9IGltcG9ydFBhc3RlSW5wdXQudmFsdWUudHJpbSgpO1xuICAgICAgaWYgKCF0ZXh0KSB7XG4gICAgICAgIGlmIChwYXN0ZUVycm9yKSBwYXN0ZUVycm9yLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZCA9IEpTT04ucGFyc2UodGV4dCk7XG4gICAgICAgIGlmIChwYXN0ZUVycm9yKSBwYXN0ZUVycm9yLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICByZXR1cm4gcGFyc2VkO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGlmIChwYXN0ZUVycm9yKSB7XG4gICAgICAgICAgcGFzdGVFcnJvci5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICBwYXN0ZUVycm9yLnRleHRDb250ZW50ID0gYFx1Mjc0QyBKU09OIGludmFsaWRlIDogJHtlcnIubWVzc2FnZX1gO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBmb3JtYXRQYXN0ZUpzb24gPSAoKSA9PiB7XG4gICAgICBpZiAoIWltcG9ydFBhc3RlSW5wdXQpIHJldHVybjtcbiAgICAgIGNvbnN0IHRleHQgPSBpbXBvcnRQYXN0ZUlucHV0LnZhbHVlLnRyaW0oKTtcbiAgICAgIGlmICghdGV4dCkgcmV0dXJuO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcGFyc2VkID0gSlNPTi5wYXJzZSh0ZXh0KTtcbiAgICAgICAgaW1wb3J0UGFzdGVJbnB1dC52YWx1ZSA9IEpTT04uc3RyaW5naWZ5KHBhcnNlZCwgbnVsbCwgMik7XG4gICAgICAgIHZhbGlkYXRlUGFzdGVKc29uKCk7XG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgLy8gU2kgcGFzIHZhbGlkZSwgb24gbmUgZm9ybWF0ZSBwYXNcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgdXBkYXRlSW1wb3J0U3VibWl0U3RhdGUgPSAoKSA9PiB7XG4gICAgICBpZiAoIWltcG9ydFN1Ym1pdCkgcmV0dXJuO1xuICAgICAgaWYgKGFjdGl2ZUltcG9ydFRhYiA9PT0gJ3VwbG9hZCcpIHtcbiAgICAgICAgaW1wb3J0U3VibWl0LmRpc2FibGVkID0gaW1wb3J0U2VsZWN0ZWRGaWxlcy5sZW5ndGggPT09IDA7XG4gICAgICB9IGVsc2UgaWYgKGFjdGl2ZUltcG9ydFRhYiA9PT0gJ3Bhc3RlJykge1xuICAgICAgICBjb25zdCBwYXJzZWQgPSB2YWxpZGF0ZVBhc3RlSnNvbigpO1xuICAgICAgICBpbXBvcnRTdWJtaXQuZGlzYWJsZWQgPSAhcGFyc2VkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW1wb3J0U3VibWl0LmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3Qgb3BlbkltcG9ydE1vZGFsID0gKCkgPT4ge1xuICAgICAgaWYgKCFpbXBvcnRNb2RhbCkgcmV0dXJuO1xuICAgICAgaW1wb3J0TW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBpbXBvcnRNb2RhbC5jbGFzc0xpc3QuYWRkKCdmbGV4Jyk7XG4gICAgICBpbXBvcnRTZWxlY3RlZEZpbGVzID0gW107XG4gICAgICBhY3RpdmVJbXBvcnRUYWIgPSAndXBsb2FkJztcbiAgICAgIHVwZGF0ZUltcG9ydEZpbGVMaXN0KCk7XG4gICAgICByZXNldFBhc3RlU3RhdGUoKTtcbiAgICAgIGlmIChpbXBvcnRSZXN1bHRzKSBpbXBvcnRSZXN1bHRzLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgaWYgKGltcG9ydFJlc3VsdHNDb250ZW50KSBpbXBvcnRSZXN1bHRzQ29udGVudC5pbm5lckhUTUwgPSAnJztcbiAgICAgIHVwZGF0ZUltcG9ydFN1Ym1pdFN0YXRlKCk7XG4gICAgICAvLyBSZXNldCB0YWJzIHRvIHVwbG9hZFxuICAgICAgaW1wb3J0VGFicy5mb3JFYWNoKCh0KSA9PiB7XG4gICAgICAgIGlmICh0LmRhdGFzZXQuaW1wb3J0VGFiID09PSAndXBsb2FkJykge1xuICAgICAgICAgIHQuY2xhc3NMaXN0LmFkZCgnYmctWyM5QzZCRkZdJywgJ3RleHQtd2hpdGUnKTtcbiAgICAgICAgICB0LmNsYXNzTGlzdC5yZW1vdmUoJ2JvcmRlcicsICdib3JkZXItc2xhdGUtMjAwJywgJ3RleHQtc2xhdGUtNzAwJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdC5jbGFzc0xpc3QucmVtb3ZlKCdiZy1bIzlDNkJGRl0nLCAndGV4dC13aGl0ZScpO1xuICAgICAgICAgIHQuY2xhc3NMaXN0LmFkZCgnYm9yZGVyJywgJ2JvcmRlci1zbGF0ZS0yMDAnLCAndGV4dC1zbGF0ZS03MDAnKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpbXBvcnRQYW5lbHMuZm9yRWFjaCgocCkgPT4ge1xuICAgICAgICBpZiAocC5kYXRhc2V0LmltcG9ydFBhbmVsID09PSAndXBsb2FkJykge1xuICAgICAgICAgIHAuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcbiAgICBjb25zdCBjbG9zZUltcG9ydE1vZGFsID0gKCkgPT4ge1xuICAgICAgaWYgKCFpbXBvcnRNb2RhbCkgcmV0dXJuO1xuICAgICAgaW1wb3J0TW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBpbXBvcnRNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdmbGV4Jyk7XG4gICAgICBpbXBvcnRTZWxlY3RlZEZpbGVzID0gW107XG4gICAgICByZXNldFBhc3RlU3RhdGUoKTtcbiAgICB9O1xuICAgIGNvbnN0IHVwZGF0ZUltcG9ydEZpbGVMaXN0ID0gKCkgPT4ge1xuICAgICAgaWYgKCFpbXBvcnRGaWxlTGlzdCB8fCAhaW1wb3J0RmlsZU5hbWVzKSByZXR1cm47XG4gICAgICBpZiAoaW1wb3J0U2VsZWN0ZWRGaWxlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgaW1wb3J0RmlsZUxpc3QuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIHVwZGF0ZUltcG9ydFN1Ym1pdFN0YXRlKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGltcG9ydEZpbGVMaXN0LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgaW1wb3J0RmlsZU5hbWVzLmlubmVySFRNTCA9IGltcG9ydFNlbGVjdGVkRmlsZXNcbiAgICAgICAgLm1hcCgoZikgPT4gYDxsaSBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+PHNwYW4gY2xhc3M9XCJ0ZXh0LWxnXCI+XHVEODNEXHVEQ0M0PC9zcGFuPiR7Zi5uYW1lfTwvbGk+YClcbiAgICAgICAgLmpvaW4oJycpO1xuICAgICAgdXBkYXRlSW1wb3J0U3VibWl0U3RhdGUoKTtcbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZUltcG9ydEZpbGVzID0gKGZpbGVzKSA9PiB7XG4gICAgICBjb25zdCBqc29uRmlsZXMgPSBBcnJheS5mcm9tKGZpbGVzKS5maWx0ZXIoXG4gICAgICAgIChmKSA9PiBmLnR5cGUgPT09ICdhcHBsaWNhdGlvbi9qc29uJyB8fCBmLm5hbWUuZW5kc1dpdGgoJy5qc29uJylcbiAgICAgICk7XG4gICAgICBpZiAoanNvbkZpbGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBzaG93VG9hc3QoJ0F1Y3VuIGZpY2hpZXIgSlNPTiB2YWxpZGUuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGltcG9ydFNlbGVjdGVkRmlsZXMgPSBqc29uRmlsZXM7XG4gICAgICB1cGRhdGVJbXBvcnRGaWxlTGlzdCgpO1xuICAgIH07XG4gICAgY29uc3QgZXhlY3V0ZUltcG9ydCA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghcGFnZXNBcGlCYXNlKSByZXR1cm47XG4gICAgICBcbiAgICAgIC8vIERldGVybWluZSBzb3VyY2Ugb2YgZGF0YSBiYXNlZCBvbiBhY3RpdmUgdGFiXG4gICAgICBsZXQgcGFnZXNEYXRhID0gW107XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKCdbaW1wb3J0XSBhY3RpdmVJbXBvcnRUYWI6JywgYWN0aXZlSW1wb3J0VGFiKTtcbiAgICAgIFxuICAgICAgaWYgKGFjdGl2ZUltcG9ydFRhYiA9PT0gJ3Bhc3RlJykge1xuICAgICAgICAvLyBJbXBvcnQgZnJvbSBwYXN0ZWQgSlNPTlxuICAgICAgICBjb25zdCB0ZXh0ID0gaW1wb3J0UGFzdGVJbnB1dD8udmFsdWU/LnRyaW0oKTtcbiAgICAgICAgY29uc29sZS5sb2coJ1tpbXBvcnRdIHBhc3RlIHRleHQgbGVuZ3RoOicsIHRleHQ/Lmxlbmd0aCk7XG4gICAgICAgIGlmICghdGV4dCkge1xuICAgICAgICAgIHNob3dUb2FzdCgnQXVjdW4gSlNPTiBcdTAwRTAgaW1wb3J0ZXIuJyk7XG4gICAgICAgICAgaWYgKGltcG9ydFJlc3VsdHMgJiYgaW1wb3J0UmVzdWx0c0NvbnRlbnQpIHtcbiAgICAgICAgICAgIGltcG9ydFJlc3VsdHMuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgICBpbXBvcnRSZXN1bHRzQ29udGVudC5pbm5lckhUTUwgPSAnPHAgY2xhc3M9XCJ0ZXh0LWFtYmVyLTYwMFwiPlx1MjZBMCBMZSBjaGFtcCBkZSB0ZXh0ZSBlc3QgdmlkZS48L3A+JztcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcGFyc2VkID0gSlNPTi5wYXJzZSh0ZXh0KTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnW2ltcG9ydF0gcGFyc2VkIEpTT046JywgcGFyc2VkKTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnW2ltcG9ydF0gcGFyc2VkIHR5cGU6JywgdHlwZW9mIHBhcnNlZCwgQXJyYXkuaXNBcnJheShwYXJzZWQpID8gJ2FycmF5JyA6ICdub3QgYXJyYXknKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBTdXBwb3J0IGZvcm1hdCB7IHBhZ2VzOiBbLi4uXSwgY29sbGVjdGlvbnM6IHsuLi59IH1cbiAgICAgICAgICBpZiAocGFyc2VkICYmICFBcnJheS5pc0FycmF5KHBhcnNlZCkgJiYgcGFyc2VkLnBhZ2VzKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnW2ltcG9ydF0gZGV0ZWN0ZWQgcGFnZXMrY29sbGVjdGlvbnMgZm9ybWF0Jyk7XG4gICAgICAgICAgICBwYWdlc0RhdGEgPSBwYXJzZWQ7IC8vIFNlbmQgdGhlIHdob2xlIG9iamVjdCwgYmFja2VuZCB3aWxsIGhhbmRsZSBpdFxuICAgICAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShwYXJzZWQpKSB7XG4gICAgICAgICAgICBwYWdlc0RhdGEucHVzaCguLi5wYXJzZWQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYWdlc0RhdGEucHVzaChwYXJzZWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zb2xlLmxvZygnW2ltcG9ydF0gcGFnZXNEYXRhIHByZXBhcmVkOicsIHBhZ2VzRGF0YSk7XG4gICAgICAgIH0gY2F0Y2ggKHBhcnNlRXJyKSB7XG4gICAgICAgICAgLy8gQWZmaWNoZXIgbGUgZFx1MDBFOXRhaWwgZGUgbCdlcnJldXIgZGUgcGFyc2luZ1xuICAgICAgICAgIGNvbnN0IGVycm9yTGluZSA9IHBhcnNlRXJyLm1lc3NhZ2UubWF0Y2goL3Bvc2l0aW9uIChcXGQrKS8pO1xuICAgICAgICAgIGxldCBlcnJvckRldGFpbCA9IHBhcnNlRXJyLm1lc3NhZ2U7XG4gICAgICAgICAgaWYgKGVycm9yTGluZSkge1xuICAgICAgICAgICAgY29uc3QgcG9zID0gcGFyc2VJbnQoZXJyb3JMaW5lWzFdLCAxMCk7XG4gICAgICAgICAgICBjb25zdCBsaW5lcyA9IHRleHQuc3Vic3RyaW5nKDAsIHBvcykuc3BsaXQoJ1xcbicpO1xuICAgICAgICAgICAgY29uc3QgbGluZU51bSA9IGxpbmVzLmxlbmd0aDtcbiAgICAgICAgICAgIGNvbnN0IGNvbE51bSA9IGxpbmVzW2xpbmVzLmxlbmd0aCAtIDFdLmxlbmd0aCArIDE7XG4gICAgICAgICAgICBlcnJvckRldGFpbCA9IGBMaWduZSAke2xpbmVOdW19LCBjb2xvbm5lICR7Y29sTnVtfTogJHtwYXJzZUVyci5tZXNzYWdlfWA7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNob3dUb2FzdChgRXJyZXVyIEpTT04gOiAke2Vycm9yRGV0YWlsfWAsICdlcnJvcicpO1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tpbXBvcnRdIHBhc3RlIHBhcnNlIGVycm9yJywgcGFyc2VFcnIpO1xuICAgICAgICAgIC8vIFNob3cgZXJyb3IgaW4gcmVzdWx0cyBhcmVhXG4gICAgICAgICAgaWYgKGltcG9ydFJlc3VsdHMgJiYgaW1wb3J0UmVzdWx0c0NvbnRlbnQpIHtcbiAgICAgICAgICAgIGltcG9ydFJlc3VsdHMuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgICBpbXBvcnRSZXN1bHRzQ29udGVudC5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LXJvc2UtNjAwXCI+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJmb250LW1lZGl1bVwiPlx1MjcxNyBFcnJldXIgZGUgc3ludGF4ZSBKU09OPC9wPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC14cyBtdC0xXCI+JHtlcnJvckRldGFpbH08L3A+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXhzIG10LTIgdGV4dC1zbGF0ZS01MDBcIj5WXHUwMEU5cmlmaWV6IGxlcyB2aXJndWxlcywgZ3VpbGxlbWV0cyBldCBhY2NvbGFkZXMuPC9wPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIGA7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChhY3RpdmVJbXBvcnRUYWIgPT09ICd1cGxvYWQnKSB7XG4gICAgICAgIC8vIEltcG9ydCBmcm9tIGZpbGVzXG4gICAgICAgIGlmIChpbXBvcnRTZWxlY3RlZEZpbGVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICAgICAgICBjb25zdCBmaWxlRXJyb3JzID0gW107XG4gICAgICAgIGZvciAoY29uc3QgZmlsZSBvZiBpbXBvcnRTZWxlY3RlZEZpbGVzKSB7XG4gICAgICAgICAgY29uc3QgdGV4dCA9IGF3YWl0IGZpbGUudGV4dCgpO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBwYXJzZWQgPSBKU09OLnBhcnNlKHRleHQpO1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocGFyc2VkKSkge1xuICAgICAgICAgICAgICBwYWdlc0RhdGEucHVzaCguLi5wYXJzZWQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGFnZXNEYXRhLnB1c2gocGFyc2VkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoIChwYXJzZUVycikge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JMaW5lID0gcGFyc2VFcnIubWVzc2FnZS5tYXRjaCgvcG9zaXRpb24gKFxcZCspLyk7XG4gICAgICAgICAgICBsZXQgZXJyb3JEZXRhaWwgPSBwYXJzZUVyci5tZXNzYWdlO1xuICAgICAgICAgICAgaWYgKGVycm9yTGluZSkge1xuICAgICAgICAgICAgICBjb25zdCBwb3MgPSBwYXJzZUludChlcnJvckxpbmVbMV0sIDEwKTtcbiAgICAgICAgICAgICAgY29uc3QgbGluZXMgPSB0ZXh0LnN1YnN0cmluZygwLCBwb3MpLnNwbGl0KCdcXG4nKTtcbiAgICAgICAgICAgICAgY29uc3QgbGluZU51bSA9IGxpbmVzLmxlbmd0aDtcbiAgICAgICAgICAgICAgZXJyb3JEZXRhaWwgPSBgTGlnbmUgJHtsaW5lTnVtfTogJHtwYXJzZUVyci5tZXNzYWdlfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaWxlRXJyb3JzLnB1c2goeyBmaWxlOiBmaWxlLm5hbWUsIGVycm9yOiBlcnJvckRldGFpbCB9KTtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tpbXBvcnRdIHBhcnNlIGVycm9yJywgZmlsZS5uYW1lLCBwYXJzZUVycik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFNob3cgZmlsZSBwYXJzaW5nIGVycm9ycyBpZiBhbnlcbiAgICAgICAgaWYgKGZpbGVFcnJvcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGlmIChpbXBvcnRSZXN1bHRzICYmIGltcG9ydFJlc3VsdHNDb250ZW50KSB7XG4gICAgICAgICAgICBpbXBvcnRSZXN1bHRzLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgICAgbGV0IGh0bWwgPSAnPGRpdiBjbGFzcz1cInRleHQtcm9zZS02MDBcIj48cCBjbGFzcz1cImZvbnQtbWVkaXVtXCI+XHUyNzE3IEVycmV1cnMgZGUgc3ludGF4ZSBKU09OPC9wPjx1bCBjbGFzcz1cIm1sLTQgdGV4dC14cyBtdC0xXCI+JztcbiAgICAgICAgICAgIGZpbGVFcnJvcnMuZm9yRWFjaChlID0+IHtcbiAgICAgICAgICAgICAgaHRtbCArPSBgPGxpPjxzdHJvbmc+JHtlLmZpbGV9PC9zdHJvbmc+OiAke2UuZXJyb3J9PC9saT5gO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBodG1sICs9ICc8L3VsPjwvZGl2Pic7XG4gICAgICAgICAgICBpZiAocGFnZXNEYXRhLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgaHRtbCArPSBgPHAgY2xhc3M9XCJ0ZXh0LWFtYmVyLTYwMCBtdC0yIHRleHQtc21cIj5cdTI2QTAgJHtwYWdlc0RhdGEubGVuZ3RofSBwYWdlKHMpIHZhbGlkZShzKSBzZXJvbnQgaW1wb3J0XHUwMEU5ZShzKTwvcD5gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW1wb3J0UmVzdWx0c0NvbnRlbnQuaW5uZXJIVE1MID0gaHRtbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHBhZ2VzRGF0YS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHNob3dUb2FzdCgnVG91cyBsZXMgZmljaGllcnMgY29udGllbm5lbnQgZGVzIGVycmV1cnMgSlNPTicsICdlcnJvcicpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBWXHUwMEU5cmlmaWVyIHF1J29uIGEgZGVzIGRvbm5cdTAwRTllcyBcdTAwRTAgaW1wb3J0ZXJcbiAgICAgIGNvbnN0IGhhc0RhdGEgPSBBcnJheS5pc0FycmF5KHBhZ2VzRGF0YSkgXG4gICAgICAgID8gcGFnZXNEYXRhLmxlbmd0aCA+IDAgXG4gICAgICAgIDogKHBhZ2VzRGF0YSAmJiAocGFnZXNEYXRhLnBhZ2VzPy5sZW5ndGggPiAwIHx8IHBhZ2VzRGF0YS50aXRsZSkpO1xuICAgICAgXG4gICAgICBjb25zb2xlLmxvZygnW2ltcG9ydF0gaGFzRGF0YSBjaGVjazonLCBoYXNEYXRhLCAncGFnZXNEYXRhOicsIHBhZ2VzRGF0YSk7XG4gICAgICBcbiAgICAgIGlmICghaGFzRGF0YSkge1xuICAgICAgICBzaG93VG9hc3QoJ0F1Y3VuZSBwYWdlIHZhbGlkZSBcdTAwRTAgaW1wb3J0ZXIuJyk7XG4gICAgICAgIGlmIChpbXBvcnRSZXN1bHRzICYmIGltcG9ydFJlc3VsdHNDb250ZW50KSB7XG4gICAgICAgICAgaW1wb3J0UmVzdWx0cy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICBpbXBvcnRSZXN1bHRzQ29udGVudC5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC1hbWJlci02MDBcIj5cbiAgICAgICAgICAgICAgPHAgY2xhc3M9XCJmb250LW1lZGl1bVwiPlx1MjZBMCBBdWN1bmUgcGFnZSBkXHUwMEU5dGVjdFx1MDBFOWU8L3A+XG4gICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC14cyBtdC0xXCI+TGUgSlNPTiBkb2l0IGNvbnRlbmlyIDo8L3A+XG4gICAgICAgICAgICAgIDx1bCBjbGFzcz1cInRleHQteHMgbWwtNCBtdC0xIGxpc3QtZGlzY1wiPlxuICAgICAgICAgICAgICAgIDxsaT5VbiBvYmpldCBwYWdlIGF2ZWMgXCJ0aXRsZVwiIDogPGNvZGU+e1widGl0bGVcIjogXCJNYSBwYWdlXCIsIC4uLn08L2NvZGU+PC9saT5cbiAgICAgICAgICAgICAgICA8bGk+VW4gdGFibGVhdSBkZSBwYWdlcyA6IDxjb2RlPlt7XCJ0aXRsZVwiOiBcIlBhZ2UgMVwifSwge1widGl0bGVcIjogXCJQYWdlIDJcIn1dPC9jb2RlPjwvbGk+XG4gICAgICAgICAgICAgICAgPGxpPk91IHVuIG9iamV0IGNvbWJpblx1MDBFOSA6IDxjb2RlPntcInBhZ2VzXCI6IFsuLi5dLCBcImNvbGxlY3Rpb25zXCI6IHsuLi59fTwvY29kZT48L2xpPlxuICAgICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgYDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChpbXBvcnRTdWJtaXQpIHtcbiAgICAgICAgaW1wb3J0U3VibWl0LmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgaW1wb3J0U3VibWl0LnRleHRDb250ZW50ID0gJ0ltcG9ydC4uLic7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEFmZmljaGVyIGNlIHF1J29uIHZhIGVudm95ZXIgKGRlYnVnKVxuICAgICAgY29uc29sZS5sb2coJ1tpbXBvcnRdIFNlbmRpbmcgdG8gc2VydmVyOicsIEpTT04uc3RyaW5naWZ5KHBhZ2VzRGF0YSkuc3Vic3RyaW5nKDAsIDUwMCkpO1xuICAgICAgXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke3BhZ2VzQXBpQmFzZX0vaW1wb3J0YCwge1xuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZScsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGFnZXNEYXRhKSxcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBjb25zb2xlLmxvZygnW2ltcG9ydF0gU2VydmVyIHJlc3BvbnNlIHN0YXR1czonLCByZXNwb25zZS5zdGF0dXMpO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBjb25zb2xlLmxvZygnW2ltcG9ydF0gU2VydmVyIHJlc3BvbnNlIGJvZHk6JywgcmVzdWx0KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIC8vIEFmZmljaGVyIGxlIGRcdTAwRTl0YWlsIGRlIGwnZXJyZXVyIHNlcnZldXJcbiAgICAgICAgICBpZiAoaW1wb3J0UmVzdWx0cyAmJiBpbXBvcnRSZXN1bHRzQ29udGVudCkge1xuICAgICAgICAgICAgaW1wb3J0UmVzdWx0cy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIGltcG9ydFJlc3VsdHNDb250ZW50LmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRleHQtcm9zZS02MDBcIj5cbiAgICAgICAgICAgICAgICA8cCBjbGFzcz1cImZvbnQtbWVkaXVtXCI+XHUyNzE3IEVycmV1ciBzZXJ2ZXVyPC9wPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC14cyBtdC0xXCI+JHtyZXN1bHQubWVzc2FnZSB8fCAnRXJyZXVyIGluY29ubnVlJ308L3A+XG4gICAgICAgICAgICAgICAgJHtyZXN1bHQuZGV0YWlscyA/IGA8cCBjbGFzcz1cInRleHQteHMgbXQtMSB0ZXh0LXNsYXRlLTUwMFwiPiR7cmVzdWx0LmRldGFpbHN9PC9wPmAgOiAnJ31cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICBgO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzdWx0Lm1lc3NhZ2UgfHwgJ0VycmV1ciBzZXJ2ZXVyJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2hvdyByZXN1bHRzXG4gICAgICAgIGlmIChpbXBvcnRSZXN1bHRzICYmIGltcG9ydFJlc3VsdHNDb250ZW50KSB7XG4gICAgICAgICAgaW1wb3J0UmVzdWx0cy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICBsZXQgaHRtbCA9ICcnO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIEVudFx1MDBFQXRlIHN1Y2NcdTAwRThzL2VycmV1clxuICAgICAgICAgIGNvbnN0IGhhc1N1Y2Nlc3MgPSAocmVzdWx0LmltcG9ydGVkPy5sZW5ndGggPiAwKSB8fCAocmVzdWx0LmNvbGxlY3Rpb25zQ3JlYXRlZD8ubGVuZ3RoID4gMCk7XG4gICAgICAgICAgY29uc3QgaGFzRXJyb3JzID0gcmVzdWx0LmVycm9ycz8ubGVuZ3RoID4gMDtcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoaGFzU3VjY2VzcyAmJiAhaGFzRXJyb3JzKSB7XG4gICAgICAgICAgICBodG1sICs9ICc8ZGl2IGNsYXNzPVwiYmctZ3JlZW4tNTAgYm9yZGVyIGJvcmRlci1ncmVlbi0yMDAgcm91bmRlZC1sZyBwLTMgbWItMlwiPjxwIGNsYXNzPVwidGV4dC1ncmVlbi04MDAgZm9udC1tZWRpdW1cIj5cdTI3MTMgSW1wb3J0IHJcdTAwRTl1c3NpPC9wPjwvZGl2Pic7XG4gICAgICAgICAgfSBlbHNlIGlmIChoYXNTdWNjZXNzICYmIGhhc0Vycm9ycykge1xuICAgICAgICAgICAgaHRtbCArPSAnPGRpdiBjbGFzcz1cImJnLWFtYmVyLTUwIGJvcmRlciBib3JkZXItYW1iZXItMjAwIHJvdW5kZWQtbGcgcC0zIG1iLTJcIj48cCBjbGFzcz1cInRleHQtYW1iZXItODAwIGZvbnQtbWVkaXVtXCI+XHUyNkEwIEltcG9ydCBwYXJ0aWVsPC9wPjwvZGl2Pic7XG4gICAgICAgICAgfSBlbHNlIGlmIChoYXNFcnJvcnMpIHtcbiAgICAgICAgICAgIGh0bWwgKz0gJzxkaXYgY2xhc3M9XCJiZy1yb3NlLTUwIGJvcmRlciBib3JkZXItcm9zZS0yMDAgcm91bmRlZC1sZyBwLTMgbWItMlwiPjxwIGNsYXNzPVwidGV4dC1yb3NlLTgwMCBmb250LW1lZGl1bVwiPlx1MjcxNyBJbXBvcnQgXHUwMEU5Y2hvdVx1MDBFOTwvcD48L2Rpdj4nO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAvLyBDb2xsZWN0aW9ucyBjclx1MDBFOVx1MDBFOWVzXG4gICAgICAgICAgaWYgKHJlc3VsdC5jb2xsZWN0aW9uc0NyZWF0ZWQgJiYgcmVzdWx0LmNvbGxlY3Rpb25zQ3JlYXRlZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBodG1sICs9IGA8cCBjbGFzcz1cInRleHQtdmlvbGV0LTcwMCBtdC0yXCI+XHUyNzEzICR7cmVzdWx0LmNvbGxlY3Rpb25zQ3JlYXRlZC5sZW5ndGh9IGNvbGxlY3Rpb24ocykgY3JcdTAwRTlcdTAwRTllKHMpPC9wPmA7XG4gICAgICAgICAgICBodG1sICs9ICc8dWwgY2xhc3M9XCJtbC00IHRleHQteHMgdGV4dC1zbGF0ZS02MDBcIj4nO1xuICAgICAgICAgICAgcmVzdWx0LmNvbGxlY3Rpb25zQ3JlYXRlZC5mb3JFYWNoKChjKSA9PiB7XG4gICAgICAgICAgICAgIGh0bWwgKz0gYDxsaT4ke2MubmFtZX0gKCR7Yy5pdGVtc0NvdW50fSBpdGVtJHtjLml0ZW1zQ291bnQgPiAxID8gJ3MnIDogJyd9KTwvbGk+YDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaHRtbCArPSAnPC91bD4nO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBQYWdlcyBpbXBvcnRcdTAwRTllc1xuICAgICAgICAgIGlmIChyZXN1bHQuaW1wb3J0ZWQgJiYgcmVzdWx0LmltcG9ydGVkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGh0bWwgKz0gYDxwIGNsYXNzPVwidGV4dC1ncmVlbi03MDAgbXQtMlwiPlx1MjcxMyAke3Jlc3VsdC5pbXBvcnRlZC5sZW5ndGh9IHBhZ2UocykgaW1wb3J0XHUwMEU5ZShzKTwvcD5gO1xuICAgICAgICAgICAgaHRtbCArPSAnPHVsIGNsYXNzPVwibWwtNCB0ZXh0LXhzIHRleHQtc2xhdGUtNjAwXCI+JztcbiAgICAgICAgICAgIHJlc3VsdC5pbXBvcnRlZC5mb3JFYWNoKChwKSA9PiB7XG4gICAgICAgICAgICAgIGh0bWwgKz0gYDxsaT48c3Ryb25nPiR7cC50aXRsZX08L3N0cm9uZz4gXHUyMTkyICR7cC5zbHVnfSAoJHtwLmFjdGlvbiA9PT0gJ3VwZGF0ZWQnID8gJ21pc2UgXHUwMEUwIGpvdXInIDogJ2NyXHUwMEU5XHUwMEU5ZSd9KTwvbGk+YDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaHRtbCArPSAnPC91bD4nO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBFcnJldXJzIGF2ZWMgZFx1MDBFOXRhaWxzXG4gICAgICAgICAgaWYgKHJlc3VsdC5lcnJvcnMgJiYgcmVzdWx0LmVycm9ycy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBodG1sICs9IGA8cCBjbGFzcz1cInRleHQtcm9zZS02MDAgbXQtMyBmb250LW1lZGl1bVwiPlx1MjcxNyAke3Jlc3VsdC5lcnJvcnMubGVuZ3RofSBlcnJldXIocyk8L3A+YDtcbiAgICAgICAgICAgIGh0bWwgKz0gJzx1bCBjbGFzcz1cIm1sLTQgdGV4dC14cyB0ZXh0LXJvc2UtNjAwIHNwYWNlLXktMSBtdC0xXCI+JztcbiAgICAgICAgICAgIHJlc3VsdC5lcnJvcnMuZm9yRWFjaCgoZSkgPT4ge1xuICAgICAgICAgICAgICBodG1sICs9IGA8bGkgY2xhc3M9XCJiZy1yb3NlLTUwIHAtMiByb3VuZGVkXCI+PHN0cm9uZz4ke2UudGl0bGV9PC9zdHJvbmc+PGJyLz48c3BhbiBjbGFzcz1cInRleHQtcm9zZS01MDBcIj4ke2UuZXJyb3J9PC9zcGFuPjwvbGk+YDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaHRtbCArPSAnPC91bD4nO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpbXBvcnRSZXN1bHRzQ29udGVudC5pbm5lckhUTUwgPSBodG1sO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlbG9hZCBwYWdlcyBsaXN0IGFuZCBzaG93IHRvYXN0XG4gICAgICAgIGNvbnN0IGhhc1N1Y2Nlc3MgPSAocmVzdWx0LmltcG9ydGVkPy5sZW5ndGggPiAwKSB8fCAocmVzdWx0LmNvbGxlY3Rpb25zQ3JlYXRlZD8ubGVuZ3RoID4gMCk7XG4gICAgICAgIGNvbnN0IGhhc0Vycm9ycyA9IHJlc3VsdC5lcnJvcnM/Lmxlbmd0aCA+IDA7XG4gICAgICAgIFxuICAgICAgICBpZiAocmVzdWx0LmltcG9ydGVkICYmIHJlc3VsdC5pbXBvcnRlZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY29uc3QgZnJlc2hQYWdlcyA9IGF3YWl0IGZldGNoUGFnZXNGcm9tU2VydmVyKCk7XG4gICAgICAgICAgcGFnZXMgPSBmcmVzaFBhZ2VzO1xuICAgICAgICAgIHJlbmRlclBhZ2VMaXN0cyhwYWdlcywgYWN0aXZlUGFnZUlkKTtcbiAgICAgICAgICBpZiAocGFnZXMubGVuZ3RoID4gMCAmJiAhYWN0aXZlUGFnZUlkKSB7XG4gICAgICAgICAgICBzZXRBY3RpdmVQYWdlKHBhZ2VzWzBdLmlkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFRvYXN0IGF2ZWMgc3RhdHV0IGFwcHJvcHJpXHUwMEU5XG4gICAgICAgIGlmIChoYXNTdWNjZXNzICYmICFoYXNFcnJvcnMpIHtcbiAgICAgICAgICBjb25zdCBjb2xsZWN0aW9uc01zZyA9IHJlc3VsdC5jb2xsZWN0aW9uc0NyZWF0ZWQ/Lmxlbmd0aCBcbiAgICAgICAgICAgID8gYCArICR7cmVzdWx0LmNvbGxlY3Rpb25zQ3JlYXRlZC5sZW5ndGh9IGNvbGxlY3Rpb24ocylgIFxuICAgICAgICAgICAgOiAnJztcbiAgICAgICAgICBzaG93VG9hc3QoYFx1MjcxMyBJbXBvcnQgclx1MDBFOXVzc2kgOiAke3Jlc3VsdC5pbXBvcnRlZD8ubGVuZ3RoIHx8IDB9IHBhZ2Uocykke2NvbGxlY3Rpb25zTXNnfWAsICdzdWNjZXNzJyk7XG4gICAgICAgIH0gZWxzZSBpZiAoaGFzU3VjY2VzcyAmJiBoYXNFcnJvcnMpIHtcbiAgICAgICAgICBzaG93VG9hc3QoYFx1MjZBMCBJbXBvcnQgcGFydGllbCA6ICR7cmVzdWx0LmltcG9ydGVkPy5sZW5ndGggfHwgMH0gcGFnZShzKSwgJHtyZXN1bHQuZXJyb3JzLmxlbmd0aH0gZXJyZXVyKHMpYCwgJ3dhcm5pbmcnKTtcbiAgICAgICAgfSBlbHNlIGlmIChoYXNFcnJvcnMpIHtcbiAgICAgICAgICBzaG93VG9hc3QoYFx1MjcxNyBJbXBvcnQgXHUwMEU5Y2hvdVx1MDBFOSA6ICR7cmVzdWx0LmVycm9ycy5sZW5ndGh9IGVycmV1cihzKWAsICdlcnJvcicpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpbXBvcnRTZWxlY3RlZEZpbGVzID0gW107XG4gICAgICAgIHVwZGF0ZUltcG9ydEZpbGVMaXN0KCk7XG4gICAgICAgIHJlc2V0UGFzdGVTdGF0ZSgpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tpbXBvcnRdIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGltcG9ydCcsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKGltcG9ydFN1Ym1pdCkge1xuICAgICAgICAgIGltcG9ydFN1Ym1pdC5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgIGltcG9ydFN1Ym1pdC50ZXh0Q29udGVudCA9ICdJbXBvcnRlcic7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIGltcG9ydFRvZ2dsZT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuSW1wb3J0TW9kYWwpO1xuICAgIGltcG9ydENsb3NlQnV0dG9ucy5mb3JFYWNoKChidG4pID0+IGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlSW1wb3J0TW9kYWwpKTtcbiAgICBpbXBvcnRNb2RhbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgaWYgKGUudGFyZ2V0ID09PSBpbXBvcnRNb2RhbCkgY2xvc2VJbXBvcnRNb2RhbCgpO1xuICAgIH0pO1xuICAgIGltcG9ydEZpbGVJbnB1dD8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGUpID0+IHtcbiAgICAgIGhhbmRsZUltcG9ydEZpbGVzKGUudGFyZ2V0LmZpbGVzKTtcbiAgICB9KTtcbiAgICBpbXBvcnREcm9wem9uZT8uYWRkRXZlbnRMaXN0ZW5lcignZHJhZ292ZXInLCAoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaW1wb3J0RHJvcHpvbmUuY2xhc3NMaXN0LmFkZCgnYm9yZGVyLVsjOUM2QkZGXScsICdiZy1bIzlDNkJGRl0vMTAnKTtcbiAgICB9KTtcbiAgICBpbXBvcnREcm9wem9uZT8uYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2xlYXZlJywgKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGltcG9ydERyb3B6b25lLmNsYXNzTGlzdC5yZW1vdmUoJ2JvcmRlci1bIzlDNkJGRl0nLCAnYmctWyM5QzZCRkZdLzEwJyk7XG4gICAgfSk7XG4gICAgaW1wb3J0RHJvcHpvbmU/LmFkZEV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCAoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaW1wb3J0RHJvcHpvbmUuY2xhc3NMaXN0LnJlbW92ZSgnYm9yZGVyLVsjOUM2QkZGXScsICdiZy1bIzlDNkJGRl0vMTAnKTtcbiAgICAgIGhhbmRsZUltcG9ydEZpbGVzKGUuZGF0YVRyYW5zZmVyLmZpbGVzKTtcbiAgICB9KTtcbiAgICBpbXBvcnRTdWJtaXQ/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZXhlY3V0ZUltcG9ydCk7XG4gICAgLy8gUGFzdGUgSlNPTiBoYW5kbGVyc1xuICAgIGltcG9ydFBhc3RlSW5wdXQ/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgdXBkYXRlSW1wb3J0U3VibWl0U3RhdGUoKTtcbiAgICB9KTtcbiAgICBwYXN0ZUZvcm1hdEJ0bj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmb3JtYXRQYXN0ZUpzb24pO1xuICAgIC8vIEltcG9ydCB0YWJzXG4gICAgaW1wb3J0VGFicy5mb3JFYWNoKCh0YWIpID0+IHtcbiAgICAgIHRhYi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgY29uc3QgdGFyZ2V0UGFuZWwgPSB0YWIuZGF0YXNldC5pbXBvcnRUYWI7XG4gICAgICAgIGFjdGl2ZUltcG9ydFRhYiA9IHRhcmdldFBhbmVsO1xuICAgICAgICBpbXBvcnRUYWJzLmZvckVhY2goKHQpID0+IHtcbiAgICAgICAgICBpZiAodC5kYXRhc2V0LmltcG9ydFRhYiA9PT0gdGFyZ2V0UGFuZWwpIHtcbiAgICAgICAgICAgIHQuY2xhc3NMaXN0LmFkZCgnYmctWyM5QzZCRkZdJywgJ3RleHQtd2hpdGUnKTtcbiAgICAgICAgICAgIHQuY2xhc3NMaXN0LnJlbW92ZSgnYm9yZGVyJywgJ2JvcmRlci1zbGF0ZS0yMDAnLCAndGV4dC1zbGF0ZS03MDAnKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdC5jbGFzc0xpc3QucmVtb3ZlKCdiZy1bIzlDNkJGRl0nLCAndGV4dC13aGl0ZScpO1xuICAgICAgICAgICAgdC5jbGFzc0xpc3QuYWRkKCdib3JkZXInLCAnYm9yZGVyLXNsYXRlLTIwMCcsICd0ZXh0LXNsYXRlLTcwMCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGltcG9ydFBhbmVscy5mb3JFYWNoKChwKSA9PiB7XG4gICAgICAgICAgaWYgKHAuZGF0YXNldC5pbXBvcnRQYW5lbCA9PT0gdGFyZ2V0UGFuZWwpIHtcbiAgICAgICAgICAgIHAuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHAuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdXBkYXRlSW1wb3J0U3VibWl0U3RhdGUoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGNvcHlUZW1wbGF0ZUJ0bj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXRlbXBsYXRlSnNvbikgcmV0dXJuO1xuICAgICAgY29uc3QgdGV4dCA9IHRlbXBsYXRlSnNvbi50ZXh0Q29udGVudCB8fCAnJztcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KHRleHQpO1xuICAgICAgICBzaG93VG9hc3QoJ1RlbXBsYXRlIGNvcGlcdTAwRTkgIScpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tpbXBvcnRdIGNvcHkgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KCdFcnJldXIgY29waWUnKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIERlbGV0ZSBwYWdlIG1vZGFsIGxpc3RlbmVyc1xuICAgIGRlbGV0ZVBhZ2VDYW5jZWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VEZWxldGVQYWdlTW9kYWwpO1xuICAgIGRlbGV0ZVBhZ2VDb25maXJtPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGV4ZWN1dGVEZWxldGVQYWdlKTtcbiAgICBkZWxldGVQYWdlTW9kYWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGlmIChlLnRhcmdldCA9PT0gZGVsZXRlUGFnZU1vZGFsKSBjbG9zZURlbGV0ZVBhZ2VNb2RhbCgpO1xuICAgIH0pO1xuXG4gICAgYmxvY2tMaWJyYXJ5VG9nZ2xlPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB0b2dnbGVCbG9ja0xpYnJhcnkoKTtcbiAgICB9KTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgaWYgKCFibG9ja0xpYnJhcnlPcGVuKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChcbiAgICAgICAgYmxvY2tMaWJyYXJ5Py5jb250YWlucyhldmVudC50YXJnZXQpIHx8XG4gICAgICAgIGJsb2NrTGlicmFyeVRvZ2dsZT8uY29udGFpbnMoZXZlbnQudGFyZ2V0KVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNsb3NlQmxvY2tMaWJyYXJ5KCk7XG4gICAgfSk7XG4gICAgYmxvY2tBZGRCdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBjb25zdCB0eXBlID0gYnV0dG9uLmRhdGFzZXQuYmxvY2tBZGQ7XG4gICAgICAgIGFkZEJsb2NrRnJvbUxpYnJhcnkodHlwZSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBibG9ja0RlbGV0ZUNhbmNlbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjbG9zZUJsb2NrRGVsZXRlTW9kYWwoKTtcbiAgICB9KTtcbiAgICBibG9ja0RlbGV0ZUNvbmZpcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgaWYgKHBlbmRpbmdEZWxldGVCbG9ja0lkKSB7XG4gICAgICAgIGRlbGV0ZUJsb2NrQnlJZChwZW5kaW5nRGVsZXRlQmxvY2tJZCk7XG4gICAgICB9XG4gICAgICBjbG9zZUJsb2NrRGVsZXRlTW9kYWwoKTtcbiAgICB9KTtcbiAgICBibG9ja0RlbGV0ZU1vZGFsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gYmxvY2tEZWxldGVNb2RhbCkge1xuICAgICAgICBjbG9zZUJsb2NrRGVsZXRlTW9kYWwoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBibG9ja0Zvcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQ7XG4gICAgICBpZiAoIXRhcmdldCB8fCAhdGFyZ2V0Lm5hbWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gTWluaSBwcmV2aWV3IHBvdXIgZ3JvdXBlXG4gICAgICBpZiAodGFyZ2V0Lm5hbWUgPT09ICdncm91cC1jb2x1bW5zLW1vYmlsZScgfHwgdGFyZ2V0Lm5hbWUgPT09ICdncm91cC1jb2x1bW5zLWRlc2t0b3AnKSB7XG4gICAgICAgIGNvbnN0IG1vYmlsZVZhbHVlID1cbiAgICAgICAgICBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJncm91cC1jb2x1bW5zLW1vYmlsZVwiXScpPy52YWx1ZSB8fCAnMSc7XG4gICAgICAgIGNvbnN0IGRlc2t0b3BWYWx1ZSA9XG4gICAgICAgICAgYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZ3JvdXAtY29sdW1ucy1kZXNrdG9wXCJdJyk/LnZhbHVlIHx8ICczJztcbiAgICAgICAgdXBkYXRlR3JvdXBNaW5pUHJldmlldyhtb2JpbGVWYWx1ZSwgZGVza3RvcFZhbHVlKTtcbiAgICAgIH1cbiAgICAgIC8vIE1pbmkgcHJldmlldyBwb3VyIGNvbGxlY3Rpb25cbiAgICAgIGlmICh0YXJnZXQubmFtZSA9PT0gJ2NvbGxlY3Rpb24tY29sdW1ucy1tb2JpbGUnIHx8IHRhcmdldC5uYW1lID09PSAnY29sbGVjdGlvbi1jb2x1bW5zLWRlc2t0b3AnKSB7XG4gICAgICAgIGNvbnN0IG1vYmlsZVZhbHVlID1cbiAgICAgICAgICBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJjb2xsZWN0aW9uLWNvbHVtbnMtbW9iaWxlXCJdJyk/LnZhbHVlIHx8ICcxJztcbiAgICAgICAgY29uc3QgZGVza3RvcFZhbHVlID1cbiAgICAgICAgICBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJjb2xsZWN0aW9uLWNvbHVtbnMtZGVza3RvcFwiXScpPy52YWx1ZSB8fCAnMyc7XG4gICAgICAgIHVwZGF0ZUNvbGxlY3Rpb25NaW5pUHJldmlldyhtb2JpbGVWYWx1ZSwgZGVza3RvcFZhbHVlKTtcbiAgICAgIH1cbiAgICAgIC8vIERcdTAwRTl0ZWN0aW9uIHNpIG9uIGVzdCBkYW5zIGxlIHBhbmVsIEFwcGFyZW5jZSBcdTIxOTIgYXV0by1zYXZlXG4gICAgICBjb25zdCBwYW5lbCA9IHRhcmdldC5jbG9zZXN0KCdbZGF0YS1ibG9jay1wYW5lbF0nKTtcbiAgICAgIGlmIChwYW5lbCAmJiBwYW5lbC5kYXRhc2V0LmJsb2NrUGFuZWwgPT09ICdhcHBlYXJhbmNlJykge1xuICAgICAgICAvLyBBdXRvLXNhdmUgKyByZWZyZXNoIHByZXZpZXcgcG91ciBsJ2FwcGFyZW5jZVxuICAgICAgICBjb25zdCBibG9jayA9IGdldEFjdGl2ZUJsb2NrKCk7XG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IGdldEJsb2NrRm9ybUNvbmZpZyhibG9jayk7XG4gICAgICAgIGlmIChibG9jayAmJiBjb25maWcpIHtcbiAgICAgICAgICBjb25zdCB2YWx1ZXMgPSBjb2xsZWN0Rm9ybVZhbHVlcyhjb25maWcpO1xuICAgICAgICAgIGhhbmRsZUFwcGVhcmFuY2VDaGFuZ2UoYmxvY2suaWQsIHZhbHVlcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICAvLyBcdTAwQzlnYWxlbWVudCBzdXIgJ2NoYW5nZScgcG91ciBsZXMgc2VsZWN0c1xuICAgIGJsb2NrRm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQ7XG4gICAgICBpZiAoIXRhcmdldCB8fCAhdGFyZ2V0Lm5hbWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gTWlzZSBcdTAwRTAgam91ciBkdSBwcmV2aWV3IGRlIGNvdWxldXIgcG91ciBsZXMgY29sb3Igc2VsZWN0c1xuICAgICAgaWYgKHRhcmdldC5oYXNBdHRyaWJ1dGUoJ2RhdGEtY29sb3Itc2VsZWN0JykpIHtcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRPcHRpb24gPSB0YXJnZXQub3B0aW9uc1t0YXJnZXQuc2VsZWN0ZWRJbmRleF07XG4gICAgICAgIGNvbnN0IGNvbG9yID0gc2VsZWN0ZWRPcHRpb24/LmRhdGFzZXQ/LmNvbG9yIHx8ICcjZmZmZmZmJztcbiAgICAgICAgY29uc3QgY29sb3JQcmV2aWV3ID0gdGFyZ2V0LmNsb3Nlc3QoJy5yZWxhdGl2ZScpPy5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xvci1wcmV2aWV3XScpO1xuICAgICAgICBpZiAoY29sb3JQcmV2aWV3KSB7XG4gICAgICAgICAgaWYgKGNvbG9yID09PSAndHJhbnNwYXJlbnQnKSB7XG4gICAgICAgICAgICBjb2xvclByZXZpZXcuc3R5bGUuYmFja2dyb3VuZCA9ICdyZXBlYXRpbmctY29uaWMtZ3JhZGllbnQoI2NjYyAwJSAyNSUsIHdoaXRlIDAlIDUwJSkgNTAlIC8gOHB4IDhweCc7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbG9yUHJldmlldy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBjb2xvcjtcbiAgICAgICAgICAgIGNvbG9yUHJldmlldy5zdHlsZS5iYWNrZ3JvdW5kID0gJyc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb25zdCBwYW5lbCA9IHRhcmdldC5jbG9zZXN0KCdbZGF0YS1ibG9jay1wYW5lbF0nKTtcbiAgICAgIGlmIChwYW5lbCAmJiBwYW5lbC5kYXRhc2V0LmJsb2NrUGFuZWwgPT09ICdhcHBlYXJhbmNlJykge1xuICAgICAgICBjb25zdCBibG9jayA9IGdldEFjdGl2ZUJsb2NrKCk7XG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IGdldEJsb2NrRm9ybUNvbmZpZyhibG9jayk7XG4gICAgICAgIGlmIChibG9jayAmJiBjb25maWcpIHtcbiAgICAgICAgICBjb25zdCB2YWx1ZXMgPSBjb2xsZWN0Rm9ybVZhbHVlcyhjb25maWcpO1xuICAgICAgICAgIGhhbmRsZUFwcGVhcmFuY2VDaGFuZ2UoYmxvY2suaWQsIHZhbHVlcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICBjb2xsZWN0aW9uU2VsZWN0Py5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICAgIHN5bmNDb2xsZWN0aW9uU2VsZWN0aW9uSW5mbyh0YXJnZXQ/LnZhbHVlIHx8ICcnKTtcbiAgICB9KTtcbiAgICBibG9ja0Zvcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGhhbmRsZUJsb2NrRm9ybVN1Ym1pdCk7XG4gICAgYmxvY2tGb3JtQ2FuY2VsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGNvbnN0IGJsb2NrID0gZ2V0QWN0aXZlQmxvY2soKTtcbiAgICAgIGlmIChibG9jaykge1xuICAgICAgICBwb3B1bGF0ZUJsb2NrRm9ybShibG9jayk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcHJldmlld0ZyYW1lPy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xuICAgICAgcHJldmlld1JlYWR5ID0gdHJ1ZTtcbiAgICAgIHVwZGF0ZVByZXZpZXdTdGF0dXMoJ1x1MDBDMCBqb3VyJyk7XG4gICAgICBhcHBseVByZXZpZXdIaWdobGlnaHQoYWN0aXZlQmxvY2tJZCk7XG4gICAgfSk7XG4gICAgcHJldmlld09wZW5CdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgcHJldmlld1dpbmRvdyA9IHdpbmRvdy5vcGVuKCcnLCAnX2JsYW5rJyk7XG4gICAgICBpZiAoIXByZXZpZXdXaW5kb3cpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcHJldmlld1dpbmRvdy5vcGVuZXIgPSBudWxsO1xuICAgICAgY29uc3QgZG9jID0gcHJldmlld1dpbmRvdy5kb2N1bWVudDtcbiAgICAgIGRvYy5vcGVuKCk7XG4gICAgICBkb2Mud3JpdGUobGF0ZXN0UHJldmlld0h0bWwgfHwgZ2V0TG9hZGluZ1ByZXZpZXdIdG1sKCkpO1xuICAgICAgZG9jLmNsb3NlKCk7XG4gICAgfSk7XG5cbiAgICAvLyBTRU8gcGFuZWwgbG9naWNcbiAgICBjb25zdCB0b2dnbGVTZW9QYW5lbCA9IChzaG93KSA9PiB7XG4gICAgICBpZiAoIXNlb1BhbmVsKSByZXR1cm47XG4gICAgICBpZiAoc2hvdykge1xuICAgICAgICBzZW9QYW5lbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgLy8gUG9wdWxhdGUgZmllbGRzIHdpdGggY3VycmVudCBwYWdlIFNFTyBkYXRhXG4gICAgICAgIGlmIChjdXJyZW50UGFnZSkge1xuICAgICAgICAgIHNlb1RpdGxlSW5wdXQgJiYgKHNlb1RpdGxlSW5wdXQudmFsdWUgPSBjdXJyZW50UGFnZS5zZW8/LnRpdGxlIHx8ICcnKTtcbiAgICAgICAgICBzZW9EZXNjcmlwdGlvbklucHV0ICYmIChzZW9EZXNjcmlwdGlvbklucHV0LnZhbHVlID0gY3VycmVudFBhZ2Uuc2VvPy5kZXNjcmlwdGlvbiB8fCAnJyk7XG4gICAgICAgICAgLy8gaW5kZXhlZDogdHJ1ZSBieSBkZWZhdWx0IGlmIG5vdCBleHBsaWNpdGx5IHNldCB0byBmYWxzZVxuICAgICAgICAgIHNlb0luZGV4ZWRDaGVja2JveCAmJiAoc2VvSW5kZXhlZENoZWNrYm94LmNoZWNrZWQgPSBjdXJyZW50UGFnZS5zZW8/LmluZGV4ZWQgIT09IGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2VvUGFuZWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBzZXRTZW9GZWVkYmFjayA9IChtZXNzYWdlLCB0b25lID0gJ211dGVkJykgPT4ge1xuICAgICAgaWYgKCFzZW9GZWVkYmFjaykgcmV0dXJuO1xuICAgICAgY29uc3QgY29sb3IgPSB0b25lID09PSAnc3VjY2VzcycgPyAndGV4dC1lbWVyYWxkLTYwMCcgOiB0b25lID09PSAnZXJyb3InID8gJ3RleHQtcm9zZS02MDAnIDogJ3RleHQtc2xhdGUtNTAwJztcbiAgICAgIHNlb0ZlZWRiYWNrLnRleHRDb250ZW50ID0gbWVzc2FnZSB8fCAnJztcbiAgICAgIHNlb0ZlZWRiYWNrLmNsYXNzTmFtZSA9IGB0ZXh0LXNtICR7Y29sb3J9YDtcbiAgICB9O1xuICAgIHNlb1RvZ2dsZUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBpc1Zpc2libGUgPSBzZW9QYW5lbCAmJiAhc2VvUGFuZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdoaWRkZW4nKTtcbiAgICAgIHRvZ2dsZVNlb1BhbmVsKCFpc1Zpc2libGUpO1xuICAgIH0pO1xuICAgIHNlb0Nsb3NlQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRvZ2dsZVNlb1BhbmVsKGZhbHNlKSk7XG4gICAgc2VvRm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSkge1xuICAgICAgICBzZXRTZW9GZWVkYmFjaygnQXVjdW5lIHBhZ2UgYWN0aXZlLicsICdlcnJvcicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZW9TYXZlQnV0dG9uICYmIChzZW9TYXZlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZSk7XG4gICAgICBzZXRTZW9GZWVkYmFjaygnJyk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBzZW9EYXRhID0ge1xuICAgICAgICAgIHRpdGxlOiAoc2VvVGl0bGVJbnB1dD8udmFsdWUgfHwgJycpLnRyaW0oKSxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogKHNlb0Rlc2NyaXB0aW9uSW5wdXQ/LnZhbHVlIHx8ICcnKS50cmltKCksXG4gICAgICAgICAgaW5kZXhlZDogc2VvSW5kZXhlZENoZWNrYm94Py5jaGVja2VkID8/IHRydWUsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRQYWdlID0geyAuLi5jdXJyZW50UGFnZSwgc2VvOiBzZW9EYXRhIH07XG4gICAgICAgIGNvbnN0IHNhdmVkID0gYXdhaXQgc2F2ZVBhZ2VUb1NlcnZlcih1cGRhdGVkUGFnZSk7XG4gICAgICAgIGlmIChzYXZlZCkge1xuICAgICAgICAgIGN1cnJlbnRQYWdlID0gc2F2ZWQ7XG4gICAgICAgICAgc2V0U2VvRmVlZGJhY2soJ1NFTyBlbnJlZ2lzdHJcdTAwRTkuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgICBzaG93VG9hc3QoJ1NFTyBtaXMgXHUwMEUwIGpvdXInKTtcbiAgICAgICAgICByZWZyZXNoUHJldmlldyhjdXJyZW50UGFnZSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbc2VvXSBzYXZlIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNldFNlb0ZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsYSBzYXV2ZWdhcmRlLicsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2VvU2F2ZUJ1dHRvbiAmJiAoc2VvU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIFBhZ2UgcHJvcGVydGllcyBwYW5lbCBsb2dpY1xuICAgIGNvbnN0IHRvZ2dsZVBhZ2VQcm9wc1BhbmVsID0gKHNob3cpID0+IHtcbiAgICAgIGlmICghcGFnZVByb3BzUGFuZWwpIHJldHVybjtcbiAgICAgIGlmIChzaG93KSB7XG4gICAgICAgIHBhZ2VQcm9wc1BhbmVsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAvLyBQb3B1bGF0ZSBmaWVsZHMgd2l0aCBjdXJyZW50IHBhZ2UgZGF0YVxuICAgICAgICBpZiAoY3VycmVudFBhZ2UpIHtcbiAgICAgICAgICBwYWdlTmFtZUlucHV0ICYmIChwYWdlTmFtZUlucHV0LnZhbHVlID0gY3VycmVudFBhZ2UubmFtZSB8fCAnJyk7XG4gICAgICAgICAgcGFnZVRpdGxlSW5wdXQgJiYgKHBhZ2VUaXRsZUlucHV0LnZhbHVlID0gY3VycmVudFBhZ2UudGl0bGUgfHwgJycpO1xuICAgICAgICAgIHBhZ2VTbHVnSW5wdXQgJiYgKHBhZ2VTbHVnSW5wdXQudmFsdWUgPSBjdXJyZW50UGFnZS5zbHVnIHx8ICcnKTtcbiAgICAgICAgICBwYWdlRGVzY3JpcHRpb25JbnB1dCAmJiAocGFnZURlc2NyaXB0aW9uSW5wdXQudmFsdWUgPSBjdXJyZW50UGFnZS5kZXNjcmlwdGlvbiB8fCAnJyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhZ2VQcm9wc1BhbmVsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3Qgc2V0UGFnZVByb3BzRmVlZGJhY2sgPSAobWVzc2FnZSwgdG9uZSA9ICdtdXRlZCcpID0+IHtcbiAgICAgIGlmICghcGFnZVByb3BzRmVlZGJhY2spIHJldHVybjtcbiAgICAgIGNvbnN0IGNvbG9yID0gdG9uZSA9PT0gJ3N1Y2Nlc3MnID8gJ3RleHQtZW1lcmFsZC02MDAnIDogdG9uZSA9PT0gJ2Vycm9yJyA/ICd0ZXh0LXJvc2UtNjAwJyA6ICd0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICBwYWdlUHJvcHNGZWVkYmFjay50ZXh0Q29udGVudCA9IG1lc3NhZ2UgfHwgJyc7XG4gICAgICBwYWdlUHJvcHNGZWVkYmFjay5jbGFzc05hbWUgPSBgdGV4dC1zbSAke2NvbG9yfWA7XG4gICAgfTtcbiAgICBwYWdlUHJvcHNUb2dnbGVCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgaXNWaXNpYmxlID0gcGFnZVByb3BzUGFuZWwgJiYgIXBhZ2VQcm9wc1BhbmVsLmNsYXNzTGlzdC5jb250YWlucygnaGlkZGVuJyk7XG4gICAgICB0b2dnbGVQYWdlUHJvcHNQYW5lbCghaXNWaXNpYmxlKTtcbiAgICB9KTtcbiAgICBwYWdlUHJvcHNDbG9zZUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0b2dnbGVQYWdlUHJvcHNQYW5lbChmYWxzZSkpO1xuICAgIHBhZ2VQcm9wc0Zvcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmICghY3VycmVudFBhZ2UpIHtcbiAgICAgICAgc2V0UGFnZVByb3BzRmVlZGJhY2soJ0F1Y3VuZSBwYWdlIGFjdGl2ZS4nLCAnZXJyb3InKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcGFnZVByb3BzU2F2ZUJ1dHRvbiAmJiAocGFnZVByb3BzU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWUpO1xuICAgICAgc2V0UGFnZVByb3BzRmVlZGJhY2soJycpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgbmV3TmFtZSA9IChwYWdlTmFtZUlucHV0Py52YWx1ZSB8fCAnJykudHJpbSgpO1xuICAgICAgICBjb25zdCBuZXdUaXRsZSA9IChwYWdlVGl0bGVJbnB1dD8udmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgICAgY29uc3QgbmV3U2x1ZyA9IChwYWdlU2x1Z0lucHV0Py52YWx1ZSB8fCAnJykudHJpbSgpO1xuICAgICAgICBjb25zdCBuZXdEZXNjcmlwdGlvbiA9IChwYWdlRGVzY3JpcHRpb25JbnB1dD8udmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFZhbGlkYXRpb24gYmFzaXF1ZVxuICAgICAgICBpZiAoIW5ld1RpdGxlKSB7XG4gICAgICAgICAgc2V0UGFnZVByb3BzRmVlZGJhY2soJ0xlIHRpdHJlIGVzdCByZXF1aXMuJywgJ2Vycm9yJyk7XG4gICAgICAgICAgcGFnZVByb3BzU2F2ZUJ1dHRvbiAmJiAocGFnZVByb3BzU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFuZXdTbHVnIHx8ICFuZXdTbHVnLnN0YXJ0c1dpdGgoJy8nKSkge1xuICAgICAgICAgIHNldFBhZ2VQcm9wc0ZlZWRiYWNrKCdMZSBzbHVnIGRvaXQgY29tbWVuY2VyIHBhciAvLicsICdlcnJvcicpO1xuICAgICAgICAgIHBhZ2VQcm9wc1NhdmVCdXR0b24gJiYgKHBhZ2VQcm9wc1NhdmVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBjb25zdCB1cGRhdGVkUGFnZSA9IHtcbiAgICAgICAgICAuLi5jdXJyZW50UGFnZSxcbiAgICAgICAgICBuYW1lOiBuZXdOYW1lIHx8IG5ld1RpdGxlLCAvLyBGYWxsYmFjayB0byB0aXRsZSBpZiBuYW1lIGlzIGVtcHR5XG4gICAgICAgICAgdGl0bGU6IG5ld1RpdGxlLFxuICAgICAgICAgIHNsdWc6IG5ld1NsdWcsXG4gICAgICAgICAgZGVzY3JpcHRpb246IG5ld0Rlc2NyaXB0aW9uLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBzYXZlZCA9IGF3YWl0IHNhdmVQYWdlVG9TZXJ2ZXIodXBkYXRlZFBhZ2UpO1xuICAgICAgICBpZiAoc2F2ZWQpIHtcbiAgICAgICAgICBjdXJyZW50UGFnZSA9IHNhdmVkO1xuICAgICAgICAgIC8vIFVwZGF0ZSBwYWdlcyBhcnJheVxuICAgICAgICAgIHBhZ2VzID0gcGFnZXMubWFwKChwKSA9PiAocC5pZCA9PT0gc2F2ZWQuaWQgPyBzYXZlZCA6IHApKTtcbiAgICAgICAgICBzZXRQYWdlUHJvcHNGZWVkYmFjaygnUHJvcHJpXHUwMEU5dFx1MDBFOXMgZW5yZWdpc3RyXHUwMEU5ZXMuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgICBzaG93VG9hc3QoJ1BhZ2UgbWlzZSBcdTAwRTAgam91cicpO1xuICAgICAgICAgIC8vIFVwZGF0ZSBVSVxuICAgICAgICAgIHNldEFjdGl2ZUxhYmVscyhjdXJyZW50UGFnZSk7XG4gICAgICAgICAgcmVuZGVyUGFnZUxpc3RzKHBhZ2VzLCBhY3RpdmVQYWdlSWQpO1xuICAgICAgICAgIHJlZnJlc2hQcmV2aWV3KGN1cnJlbnRQYWdlKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1twYWdlLXByb3BzXSBzYXZlIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNldFBhZ2VQcm9wc0ZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsYSBzYXV2ZWdhcmRlLicsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgcGFnZVByb3BzU2F2ZUJ1dHRvbiAmJiAocGFnZVByb3BzU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGNvbnN0IGhhbmRsZUJsb2NrRHJhZ1N0YXJ0ID0gKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCBpdGVtID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLWJsb2NrLWl0ZW1dJyk7XG4gICAgICBpZiAoIWl0ZW0gfHwgIWlzRGVza3RvcFJlb3JkZXIoKSkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBkcmFnU291cmNlSWQgPSBpdGVtLmRhdGFzZXQuYmxvY2tJZCB8fCBudWxsO1xuICAgICAgaWYgKCFkcmFnU291cmNlSWQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZXZlbnQuZGF0YVRyYW5zZmVyLmVmZmVjdEFsbG93ZWQgPSAnbW92ZSc7XG4gICAgICBldmVudC5kYXRhVHJhbnNmZXIuc2V0RGF0YSgndGV4dC9wbGFpbicsIGRyYWdTb3VyY2VJZCk7XG4gICAgICAvLyBTdHlsZSBkdSBibG9jIGVuIGNvdXJzIGRlIGRyYWdcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgIGl0ZW0uY2xhc3NMaXN0LmFkZCgnb3BhY2l0eS01MCcsICdzY2FsZS1bMC45OF0nLCAnc2hhZG93LWxnJywgJ3JpbmctMicsICdyaW5nLVsjOUM2QkZGXScpO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICBjb25zdCBjbGVhckRyYWdJbmRpY2F0b3JzID0gKCkgPT4ge1xuICAgICAgYmxvY2tMaXN0XG4gICAgICAgID8ucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYmxvY2staXRlbV0nKVxuICAgICAgICAuZm9yRWFjaCgobm9kZSkgPT4ge1xuICAgICAgICAgIG5vZGUuY2xhc3NMaXN0LnJlbW92ZShcbiAgICAgICAgICAgICdvcGFjaXR5LTUwJywgJ3NjYWxlLVswLjk4XScsICdzaGFkb3ctbGcnLCAncmluZy0yJywgJ3JpbmctWyM5QzZCRkZdJyxcbiAgICAgICAgICAgICdib3JkZXItdC00JywgJ2JvcmRlci1iLTQnLCAnYm9yZGVyLXQtWyM5QzZCRkZdJywgJ2JvcmRlci1iLVsjOUM2QkZGXScsXG4gICAgICAgICAgICAncHQtNicsICdwYi02J1xuICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgY29uc3QgaGFuZGxlQmxvY2tEcmFnRW5kID0gKCkgPT4ge1xuICAgICAgZHJhZ1NvdXJjZUlkID0gbnVsbDtcbiAgICAgIGNsZWFyRHJhZ0luZGljYXRvcnMoKTtcbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZUJsb2NrRHJhZ092ZXIgPSAoZXZlbnQpID0+IHtcbiAgICAgIGlmICghZHJhZ1NvdXJjZUlkIHx8ICFpc0Rlc2t0b3BSZW9yZGVyKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLWJsb2NrLWl0ZW1dJyk7XG4gICAgICBpZiAoIXRhcmdldCB8fCB0YXJnZXQuZGF0YXNldC5ibG9ja0lkID09PSBkcmFnU291cmNlSWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGV2ZW50LmRhdGFUcmFuc2Zlci5kcm9wRWZmZWN0ID0gJ21vdmUnO1xuICAgICAgLy8gRFx1MDBFOXRlcm1pbmUgc2kgb24gZHJvcCBhdmFudCBvdSBhcHJcdTAwRThzXG4gICAgICBjb25zdCByZWN0ID0gdGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgY29uc3QgbWlkWSA9IHJlY3QudG9wICsgcmVjdC5oZWlnaHQgLyAyO1xuICAgICAgY29uc3QgaXNBYm92ZSA9IGV2ZW50LmNsaWVudFkgPCBtaWRZO1xuICAgICAgLy8gTmV0dG9pZSBsZXMgYXV0cmVzIGluZGljYXRldXJzXG4gICAgICBibG9ja0xpc3Q/LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWJsb2NrLWl0ZW1dJykuZm9yRWFjaCgobm9kZSkgPT4ge1xuICAgICAgICBpZiAobm9kZSAhPT0gdGFyZ2V0ICYmIG5vZGUuZGF0YXNldC5ibG9ja0lkICE9PSBkcmFnU291cmNlSWQpIHtcbiAgICAgICAgICBub2RlLmNsYXNzTGlzdC5yZW1vdmUoJ2JvcmRlci10LTQnLCAnYm9yZGVyLWItNCcsICdib3JkZXItdC1bIzlDNkJGRl0nLCAnYm9yZGVyLWItWyM5QzZCRkZdJywgJ3B0LTYnLCAncGItNicpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIC8vIEFwcGxpcXVlIGwnaW5kaWNhdGV1ciBkZSBwb3NpdGlvblxuICAgICAgdGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoJ2JvcmRlci10LTQnLCAnYm9yZGVyLWItNCcsICdib3JkZXItdC1bIzlDNkJGRl0nLCAnYm9yZGVyLWItWyM5QzZCRkZdJywgJ3B0LTYnLCAncGItNicpO1xuICAgICAgaWYgKGlzQWJvdmUpIHtcbiAgICAgICAgdGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2JvcmRlci10LTQnLCAnYm9yZGVyLXQtWyM5QzZCRkZdJywgJ3B0LTYnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRhcmdldC5jbGFzc0xpc3QuYWRkKCdib3JkZXItYi00JywgJ2JvcmRlci1iLVsjOUM2QkZGXScsICdwYi02Jyk7XG4gICAgICB9XG4gICAgICB0YXJnZXQuZGF0YXNldC5kcm9wUG9zaXRpb24gPSBpc0Fib3ZlID8gJ2JlZm9yZScgOiAnYWZ0ZXInO1xuICAgIH07XG4gICAgY29uc3QgaGFuZGxlQmxvY2tEcmFnTGVhdmUgPSAoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCdbZGF0YS1ibG9jay1pdGVtXScpO1xuICAgICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gVlx1MDBFOXJpZmllIHNpIG9uIHF1aXR0ZSB2cmFpbWVudCBsJ1x1MDBFOWxcdTAwRTltZW50IChwYXMganVzdGUgdmVycyB1biBlbmZhbnQpXG4gICAgICBjb25zdCByZWxhdGVkVGFyZ2V0ID0gZXZlbnQucmVsYXRlZFRhcmdldDtcbiAgICAgIGlmIChyZWxhdGVkVGFyZ2V0ICYmIHRhcmdldC5jb250YWlucyhyZWxhdGVkVGFyZ2V0KSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0YXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgnYm9yZGVyLXQtNCcsICdib3JkZXItYi00JywgJ2JvcmRlci10LVsjOUM2QkZGXScsICdib3JkZXItYi1bIzlDNkJGRl0nLCAncHQtNicsICdwYi02Jyk7XG4gICAgICBkZWxldGUgdGFyZ2V0LmRhdGFzZXQuZHJvcFBvc2l0aW9uO1xuICAgIH07XG4gICAgY29uc3QgaGFuZGxlQmxvY2tEcm9wID0gKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoIWRyYWdTb3VyY2VJZCB8fCAhaXNEZXNrdG9wUmVvcmRlcigpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQuY2xvc2VzdCgnW2RhdGEtYmxvY2staXRlbV0nKTtcbiAgICAgIGNvbnN0IHNvdXJjZSA9IGRyYWdTb3VyY2VJZDtcbiAgICAgIGNvbnN0IGRyb3BQb3NpdGlvbiA9IHRhcmdldD8uZGF0YXNldC5kcm9wUG9zaXRpb24gfHwgJ2FmdGVyJztcbiAgICAgIGRyYWdTb3VyY2VJZCA9IG51bGw7XG4gICAgICBjbGVhckRyYWdJbmRpY2F0b3JzKCk7XG4gICAgICBjb25zdCB0YXJnZXRJZCA9IHRhcmdldD8uZGF0YXNldC5ibG9ja0lkIHx8IG51bGw7XG4gICAgICBpZiAoIXRhcmdldElkIHx8IHNvdXJjZSA9PT0gdGFyZ2V0SWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcmVvcmRlckJsb2Nrc1dpdGhQb3NpdGlvbihzb3VyY2UsIHRhcmdldElkLCBkcm9wUG9zaXRpb24pO1xuICAgIH07XG4gICAgbGV0IGRyYWdTb3VyY2VJZCA9IG51bGw7XG4gICAgYmxvY2tMaXN0Py5hZGRFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCBoYW5kbGVCbG9ja0RyYWdTdGFydCk7XG4gICAgYmxvY2tMaXN0Py5hZGRFdmVudExpc3RlbmVyKCdkcmFnZW5kJywgaGFuZGxlQmxvY2tEcmFnRW5kKTtcbiAgICBibG9ja0xpc3Q/LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgaGFuZGxlQmxvY2tEcmFnT3Zlcik7XG4gICAgYmxvY2tMaXN0Py5hZGRFdmVudExpc3RlbmVyKCdkcmFnbGVhdmUnLCBoYW5kbGVCbG9ja0RyYWdMZWF2ZSk7XG4gICAgYmxvY2tMaXN0Py5hZGRFdmVudExpc3RlbmVyKCdkcm9wJywgaGFuZGxlQmxvY2tEcm9wKTtcbiAgICBsb2FkUGFnZXNGcm9tU2VydmVyKCk7XG5cbiAgICAvLyBcdTAwQzljb3V0ZXIgbCdcdTAwRTl2XHUwMEU5bmVtZW50IGRlIHJhZnJhXHUwMEVFY2hpc3NlbWVudCBkXHUwMEU5Y2xlbmNoXHUwMEU5IHBhciBsJ0lBXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignYWktcGFnZS11cGRhdGVkJywgYXN5bmMgKGUpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCdbZGVzaWduXSBSYWZyYVx1MDBFRWNoaXNzZW1lbnQgZFx1MDBFOWNsZW5jaFx1MDBFOSBwYXIgSUEnLCBlLmRldGFpbCk7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBSZWNoYXJnZXIgbGVzIHBhZ2VzIGRlcHVpcyBsZSBzZXJ2ZXVyXG4gICAgICAgIGNvbnN0IGxvYWRlZFBhZ2VzID0gYXdhaXQgZmV0Y2hQYWdlc0Zyb21TZXJ2ZXIoKTtcbiAgICAgICAgcGFnZXMgPSAoQXJyYXkuaXNBcnJheShsb2FkZWRQYWdlcykgPyBsb2FkZWRQYWdlcyA6IFtdKS5tYXAoKHBhZ2UpID0+XG4gICAgICAgICAgbm9ybWFsaXplUGFnZURhdGEocGFnZSksXG4gICAgICAgICk7XG4gICAgICAgIFxuICAgICAgICAvLyBUcm91dmVyIGV0IG1ldHRyZSBcdTAwRTAgam91ciBsYSBwYWdlIGFjdGl2ZVxuICAgICAgICBpZiAoZS5kZXRhaWw/LnBhZ2VJZCkge1xuICAgICAgICAgIGNvbnN0IHVwZGF0ZWRQYWdlID0gcGFnZXMuZmluZChwID0+IHAuaWQgPT09IGUuZGV0YWlsLnBhZ2VJZCk7XG4gICAgICAgICAgaWYgKHVwZGF0ZWRQYWdlKSB7XG4gICAgICAgICAgICBjdXJyZW50UGFnZSA9IHVwZGF0ZWRQYWdlO1xuICAgICAgICAgICAgYWN0aXZlUGFnZUlkID0gdXBkYXRlZFBhZ2UuaWQ7XG4gICAgICAgICAgICAvLyBSYWZyYVx1MDBFRWNoaXIgbGEgcHJldmlldyBhdmVjIGxhIHBhZ2UgbWlzZSBcdTAwRTAgam91clxuICAgICAgICAgICAgcmVmcmVzaFByZXZpZXcoY3VycmVudFBhZ2UpO1xuICAgICAgICAgICAgLy8gUmFmcmFcdTAwRUVjaGlyIGxhIGxpc3RlIGRlcyBibG9jc1xuICAgICAgICAgICAgcmVuZGVyQmxvY2tMaXN0KGN1cnJlbnRQYWdlKTtcbiAgICAgICAgICAgIHNob3dUb2FzdCgnUGFnZSBtaXNlIFx1MDBFMCBqb3VyIHBhciBsXFwnSUEnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoYWN0aXZlUGFnZUlkKSB7XG4gICAgICAgICAgLy8gUmFmcmFcdTAwRUVjaGlyIGxhIHBhZ2UgYWN0aXZlIGFjdHVlbGxlXG4gICAgICAgICAgY29uc3QgYWN0aXZlUGFnZSA9IHBhZ2VzLmZpbmQocCA9PiBwLmlkID09PSBhY3RpdmVQYWdlSWQpO1xuICAgICAgICAgIGlmIChhY3RpdmVQYWdlKSB7XG4gICAgICAgICAgICBjdXJyZW50UGFnZSA9IGFjdGl2ZVBhZ2U7XG4gICAgICAgICAgICByZWZyZXNoUHJldmlldyhjdXJyZW50UGFnZSk7XG4gICAgICAgICAgICByZW5kZXJCbG9ja0xpc3QoY3VycmVudFBhZ2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkZXNpZ25dIEVycmV1ciByYWZyYVx1MDBFRWNoaXNzZW1lbnQgSUE6JywgZXJyKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXRDb250ZW50V29ya3NwYWNlKCkge1xuICAgIGNvbnN0IGNvbGxlY3Rpb25MaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29sbGVjdGlvbi1saXN0XScpO1xuICAgIGlmICghY29sbGVjdGlvbkxpc3QpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgLy8gXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXG4gICAgLy8gSEVBREVSICYgRk9PVEVSIE1BTkFHRU1FTlRcbiAgICAvLyBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcbiAgICBjb25zdCBjb250ZW50Vmlld3MgPSB7XG4gICAgICBlbXB0eTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29udGVudC12aWV3PVwiZW1wdHlcIl0nKSxcbiAgICAgIGhlYWRlcjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29udGVudC12aWV3PVwiaGVhZGVyXCJdJyksXG4gICAgICBjb2xsZWN0aW9uOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb250ZW50LXZpZXc9XCJjb2xsZWN0aW9uXCJdJyksXG4gICAgICBmb290ZXI6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbnRlbnQtdmlldz1cImZvb3RlclwiXScpLFxuICAgIH07XG4gICAgY29uc3QgY29udGVudFNlY3Rpb25CdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtY29udGVudC1zZWN0aW9uXScpO1xuICAgIGNvbnN0IGNvbnRlbnRTZWN0aW9uVHJpZ2dlcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1jb250ZW50LXNlY3Rpb24tdHJpZ2dlcl0nKTtcbiAgICBjb25zdCBjb250ZW50RHJhd2VyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29udGVudC1kcmF3ZXJdJyk7XG4gICAgY29uc3QgY29udGVudERyYXdlckJhY2tkcm9wID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29udGVudC1kcmF3ZXItYmFja2Ryb3BdJyk7XG4gICAgY29uc3QgY29udGVudERyYXdlck9wZW5CdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtY29udGVudC1kcmF3ZXItb3Blbl0nKTtcbiAgICBjb25zdCBjb250ZW50RHJhd2VyQ2xvc2VCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtY29udGVudC1kcmF3ZXItY2xvc2VdJyk7XG4gICAgY29uc3QgaGVhZGVyU3RhdHVzSW5kaWNhdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaGVhZGVyLXN0YXR1c10nKTtcbiAgICBjb25zdCBmb290ZXJTdGF0dXNJbmRpY2F0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1mb290ZXItc3RhdHVzXScpO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25Db3VudEVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29sbGVjdGlvbi1jb3VudF0nKTtcbiAgICBcbiAgICAvLyBIZWFkZXIgZmllbGRzXG4gICAgY29uc3QgaGVhZGVyRmllbGRzID0ge1xuICAgICAgbG9nbzogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJoZWFkZXItbG9nb1wiXScpLFxuICAgICAgbG9nb0FsdDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJoZWFkZXItbG9nby1hbHRcIl0nKSxcbiAgICAgIGxvZ29Vcmw6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaGVhZGVyLWxvZ28tdXJsXCJdJyksXG4gICAgICBjdGFUZXh0OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImhlYWRlci1jdGEtdGV4dFwiXScpLFxuICAgICAgY3RhVXJsOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImhlYWRlci1jdGEtdXJsXCJdJyksXG4gICAgICBjdGFTdHlsZTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJoZWFkZXItY3RhLXN0eWxlXCJdJyksXG4gICAgICBwb3NpdGlvbjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJoZWFkZXItcG9zaXRpb25cIl0nKSxcbiAgICAgIGJnOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImhlYWRlci1iZ1wiXScpLFxuICAgIH07XG4gICAgY29uc3QgaGVhZGVyTmF2TGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWhlYWRlci1uYXYtbGlzdF0nKTtcbiAgICBjb25zdCBoZWFkZXJOYXZBZGRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1oZWFkZXItbmF2LWFkZF0nKTtcbiAgICBjb25zdCBoZWFkZXJTYXZlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaGVhZGVyLXNhdmVdJyk7XG4gICAgY29uc3QgaGVhZGVyTmF2SXRlbVRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtdGVtcGxhdGUtaGVhZGVyLW5hdi1pdGVtXScpO1xuICAgIGNvbnN0IGhlYWRlclBhZ2VzTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWhlYWRlci1wYWdlcy1saXN0XScpO1xuICAgIGxldCBzaXRlUGFnZXMgPSBbXTsgLy8gUGFnZXMgZHUgc2l0ZSBwb3VyIGxlcyBjaGVja2JveGVzXG4gICAgbGV0IHNlbGVjdGVkTmF2UGFnZXMgPSBbXTsgLy8gUGFnZXMgc1x1MDBFOWxlY3Rpb25uXHUwMEU5ZXMgcG91ciBsZSBtZW51IChhdmVjIG9yZHJlKVxuICAgIFxuICAgIC8vIEZvb3RlciBmaWVsZHNcbiAgICBjb25zdCBmb290ZXJGaWVsZHMgPSB7XG4gICAgICBsaW5rZWRpbjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJmb290ZXItc29jaWFsLWxpbmtlZGluXCJdJyksXG4gICAgICB0d2l0dGVyOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImZvb3Rlci1zb2NpYWwtdHdpdHRlclwiXScpLFxuICAgICAgaW5zdGFncmFtOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImZvb3Rlci1zb2NpYWwtaW5zdGFncmFtXCJdJyksXG4gICAgICBmYWNlYm9vazogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJmb290ZXItc29jaWFsLWZhY2Vib29rXCJdJyksXG4gICAgICB5b3V0dWJlOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImZvb3Rlci1zb2NpYWwteW91dHViZVwiXScpLFxuICAgICAgZ2l0aHViOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImZvb3Rlci1zb2NpYWwtZ2l0aHViXCJdJyksXG4gICAgICBjb3B5cmlnaHQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZm9vdGVyLWNvcHlyaWdodFwiXScpLFxuICAgICAgbGVnYWxVcmw6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZm9vdGVyLWxlZ2FsLXVybFwiXScpLFxuICAgICAgcHJpdmFjeVVybDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJmb290ZXItcHJpdmFjeS11cmxcIl0nKSxcbiAgICAgIGJnOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImZvb3Rlci1iZ1wiXScpLFxuICAgICAgY29sdW1uc0NvdW50OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImZvb3Rlci1jb2x1bW5zLWNvdW50XCJdJyksXG4gICAgfTtcbiAgICBjb25zdCBmb290ZXJDb2x1bW5zTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWZvb3Rlci1jb2x1bW5zLWxpc3RdJyk7XG4gICAgY29uc3QgZm9vdGVyQ29sdW1uQWRkQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZm9vdGVyLWNvbHVtbi1hZGRdJyk7XG4gICAgY29uc3QgZm9vdGVyU2F2ZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWZvb3Rlci1zYXZlXScpO1xuICAgIGNvbnN0IGZvb3RlckNvbHVtblRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtdGVtcGxhdGUtZm9vdGVyLWNvbHVtbl0nKTtcbiAgICBjb25zdCBmb290ZXJMaW5rVGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS10ZW1wbGF0ZS1mb290ZXItbGlua10nKTtcbiAgICBcbiAgICBsZXQgYWN0aXZlQ29udGVudFNlY3Rpb24gPSBudWxsO1xuICAgIGxldCBoZWFkZXJEYXRhID0geyBuYXY6IFtdLCBsb2dvOiB7fSwgY3RhOiB7fSwgc3R5bGU6IHt9IH07XG4gICAgbGV0IGZvb3RlckRhdGEgPSB7IGNvbHVtbnM6IFtdLCBzb2NpYWxzOiB7fSwgY29weXJpZ2h0OiAnJywgbGVnYWw6IHt9LCBzdHlsZToge30gfTtcbiAgICBcbiAgICBjb25zdCBzYWZlU2l0ZVNsdWdGb3JMYXlvdXQgPSBzdHJpcExlYWRpbmdTbGFzaCh3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnKTtcbiAgICBjb25zdCBzbHVnID0gc2FmZVNpdGVTbHVnRm9yTGF5b3V0OyAvLyBBbGlhcyBwb3VyIGxlcyBmb25jdGlvbnMgcXVpIHV0aWxpc2VudCBzbHVnXG4gICAgY29uc3QgbGF5b3V0QXBpQmFzZSA9IHNhZmVTaXRlU2x1Z0ZvckxheW91dCA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Z0ZvckxheW91dCl9L2xheW91dGAgOiBudWxsO1xuICAgIFxuICAgIC8vIFZpZXcgc3dpdGNoaW5nXG4gICAgY29uc3Qgc2hvd0NvbnRlbnRWaWV3ID0gKHZpZXdOYW1lKSA9PiB7XG4gICAgICBPYmplY3QuZW50cmllcyhjb250ZW50Vmlld3MpLmZvckVhY2goKFtuYW1lLCBlbF0pID0+IHtcbiAgICAgICAgaWYgKGVsKSBlbC5jbGFzc0xpc3QudG9nZ2xlKCdoaWRkZW4nLCBuYW1lICE9PSB2aWV3TmFtZSk7XG4gICAgICB9KTtcbiAgICAgIGNvbnRlbnRTZWN0aW9uQnV0dG9ucy5mb3JFYWNoKGJ0biA9PiB7XG4gICAgICAgIGNvbnN0IHNlY3Rpb24gPSBidG4uZGF0YXNldC5jb250ZW50U2VjdGlvbjtcbiAgICAgICAgaWYgKHNlY3Rpb24gPT09IHZpZXdOYW1lKSB7XG4gICAgICAgICAgYnRuLmRhdGFzZXQuYWN0aXZlID0gJ3RydWUnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRlbGV0ZSBidG4uZGF0YXNldC5hY3RpdmU7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgYWN0aXZlQ29udGVudFNlY3Rpb24gPSB2aWV3TmFtZTtcbiAgICB9O1xuICAgIFxuICAgIC8vIERyYXdlciBtYW5hZ2VtZW50XG4gICAgY29uc3Qgb3BlbkNvbnRlbnREcmF3ZXIgPSAoKSA9PiB7XG4gICAgICBjb250ZW50RHJhd2VyPy5jbGFzc0xpc3QuYWRkKCdpcy1vcGVuJyk7XG4gICAgICBjb250ZW50RHJhd2VyICYmIChjb250ZW50RHJhd2VyLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVYKDApJyk7XG4gICAgICBjb250ZW50RHJhd2VyQmFja2Ryb3A/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICB9O1xuICAgIGNvbnN0IGNsb3NlQ29udGVudERyYXdlciA9ICgpID0+IHtcbiAgICAgIGNvbnRlbnREcmF3ZXI/LmNsYXNzTGlzdC5yZW1vdmUoJ2lzLW9wZW4nKTtcbiAgICAgIGNvbnRlbnREcmF3ZXIgJiYgKGNvbnRlbnREcmF3ZXIuc3R5bGUudHJhbnNmb3JtID0gJycpO1xuICAgICAgY29udGVudERyYXdlckJhY2tkcm9wPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnb3ZlcmZsb3ctaGlkZGVuJyk7XG4gICAgfTtcbiAgICBcbiAgICBjb250ZW50RHJhd2VyT3BlbkJ1dHRvbnMuZm9yRWFjaChidG4gPT4gYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlbkNvbnRlbnREcmF3ZXIpKTtcbiAgICBjb250ZW50RHJhd2VyQ2xvc2VCdXR0b25zLmZvckVhY2goYnRuID0+IGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlQ29udGVudERyYXdlcikpO1xuICAgIGNvbnRlbnREcmF3ZXJCYWNrZHJvcD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZUNvbnRlbnREcmF3ZXIpO1xuICAgIFxuICAgIC8vIFNlY3Rpb24gYnV0dG9uIGhhbmRsZXJzXG4gICAgY29udGVudFNlY3Rpb25CdXR0b25zLmZvckVhY2goYnRuID0+IHtcbiAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgY29uc3Qgc2VjdGlvbiA9IGJ0bi5kYXRhc2V0LmNvbnRlbnRTZWN0aW9uO1xuICAgICAgICBpZiAoc2VjdGlvbiA9PT0gJ2hlYWRlcicgfHwgc2VjdGlvbiA9PT0gJ2Zvb3RlcicpIHtcbiAgICAgICAgICBzaG93Q29udGVudFZpZXcoc2VjdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgY2xvc2VDb250ZW50RHJhd2VyKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBjb250ZW50U2VjdGlvblRyaWdnZXJzLmZvckVhY2goYnRuID0+IHtcbiAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgY29uc3Qgc2VjdGlvbiA9IGJ0bi5kYXRhc2V0LmNvbnRlbnRTZWN0aW9uVHJpZ2dlcjtcbiAgICAgICAgaWYgKHNlY3Rpb24pIHNob3dDb250ZW50VmlldyhzZWN0aW9uKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIFxuICAgIC8vIFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFxuICAgIC8vIEhFQURFUiBGVU5DVElPTlNcbiAgICAvLyBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcbiAgICBcbiAgICAvLyBDaGFyZ2VyIGxhIGxpc3RlIGRlcyBwYWdlcyBkdSBzaXRlIHBvdXIgbGVzIGNoZWNrYm94ZXNcbiAgICBjb25zdCBsb2FkU2l0ZVBhZ2VzRm9ySGVhZGVyID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFzbHVnIHx8ICFoZWFkZXJQYWdlc0xpc3QpIHJldHVybjtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvc2l0ZXMvJHtzbHVnfS9wYWdlc2AsIHsgY3JlZGVudGlhbHM6ICdpbmNsdWRlJyB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgdGhyb3cgbmV3IEVycm9yKCdFcnJldXIgY2hhcmdlbWVudCBwYWdlcycpO1xuICAgICAgICBzaXRlUGFnZXMgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIHJlbmRlclBhZ2VDaGVja2JveGVzKCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2hlYWRlcl0gbG9hZCBwYWdlcyBlcnJvcicsIGVycik7XG4gICAgICAgIGhlYWRlclBhZ2VzTGlzdC5pbm5lckhUTUwgPSAnPHAgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtcmVkLTUwMFwiPkVycmV1ciBjaGFyZ2VtZW50IHBhZ2VzPC9wPic7XG4gICAgICB9XG4gICAgfTtcbiAgICBcbiAgICAvLyBBZmZpY2hlciBsZXMgY2hlY2tib3hlcyBwb3VyIGNoYXF1ZSBwYWdlXG4gICAgY29uc3QgcmVuZGVyUGFnZUNoZWNrYm94ZXMgPSAoKSA9PiB7XG4gICAgICBpZiAoIWhlYWRlclBhZ2VzTGlzdCkgcmV0dXJuO1xuICAgICAgaGVhZGVyUGFnZXNMaXN0LmlubmVySFRNTCA9ICcnO1xuICAgICAgXG4gICAgICBpZiAoc2l0ZVBhZ2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBoZWFkZXJQYWdlc0xpc3QuaW5uZXJIVE1MID0gJzxwIGNsYXNzPVwidGV4dC14cyB0ZXh0LXNsYXRlLTQwMCBpdGFsaWNcIj5BdWN1bmUgcGFnZSBkaXNwb25pYmxlPC9wPic7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgc2l0ZVBhZ2VzLmZvckVhY2gocGFnZSA9PiB7XG4gICAgICAgIGNvbnN0IHBhZ2VTbHVnID0gcGFnZS5zbHVnIHx8IHBhZ2UuaWQ7XG4gICAgICAgIC8vIFVzZSBwYWdlLm5hbWUgKHNob3J0IG5hbWUpIGlmIGF2YWlsYWJsZSwgZmFsbGJhY2sgdG8gdGl0bGVcbiAgICAgICAgY29uc3QgcGFnZURpc3BsYXlOYW1lID0gcGFnZS5uYW1lIHx8IHBhZ2UudGl0bGUgfHwgcGFnZVNsdWc7XG4gICAgICAgIGNvbnN0IHBhZ2VVcmwgPSBwYWdlU2x1ZyA9PT0gJ2luZGV4JyA/ICcvJyA6IGAvJHtwYWdlU2x1Z31gO1xuICAgICAgICBcbiAgICAgICAgLy8gVlx1MDBFOXJpZmllciBzaSBjZXR0ZSBwYWdlIGVzdCBzXHUwMEU5bGVjdGlvbm5cdTAwRTllIGRhbnMgbGEgbmF2XG4gICAgICAgIGNvbnN0IGlzU2VsZWN0ZWQgPSBzZWxlY3RlZE5hdlBhZ2VzLnNvbWUobmF2ID0+IG5hdi51cmwgPT09IHBhZ2VVcmwpO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICAgICAgICBsYWJlbC5jbGFzc05hbWUgPSAnZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgcHgtMyBweS0yIHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1zbGF0ZS0yMDAgaG92ZXI6Ymctc2xhdGUtNTAgY3Vyc29yLXBvaW50ZXIgdHJhbnNpdGlvbi1jb2xvcnMnO1xuICAgICAgICBsYWJlbC5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5hbWU9XCJuYXYtcGFnZVwiIHZhbHVlPVwiJHtwYWdlVXJsfVwiIGRhdGEtcGFnZS10aXRsZT1cIiR7cGFnZURpc3BsYXlOYW1lfVwiXG4gICAgICAgICAgICAgICAgIGNsYXNzPVwidy00IGgtNCByb3VuZGVkIGJvcmRlci1zbGF0ZS0zMDAgdGV4dC12aW9sZXQtNjAwIGZvY3VzOnJpbmctdmlvbGV0LTUwMFwiXG4gICAgICAgICAgICAgICAgICR7aXNTZWxlY3RlZCA/ICdjaGVja2VkJyA6ICcnfT5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cImZsZXgtMSB0ZXh0LXNtIHRleHQtc2xhdGUtNzAwXCI+JHtwYWdlRGlzcGxheU5hbWV9PC9zcGFuPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC14cyB0ZXh0LXNsYXRlLTQwMFwiPiR7cGFnZVVybH08L3NwYW4+XG4gICAgICAgIGA7XG4gICAgICAgIFxuICAgICAgICAvLyBNZXR0cmUgXHUwMEUwIGpvdXIgc2VsZWN0ZWROYXZQYWdlcyBxdWFuZCBvbiBjb2NoZS9kXHUwMEU5Y29jaGVcbiAgICAgICAgY29uc3QgY2hlY2tib3ggPSBsYWJlbC5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpO1xuICAgICAgICBjaGVja2JveC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgICAgICAgaWYgKGNoZWNrYm94LmNoZWNrZWQpIHtcbiAgICAgICAgICAgIC8vIEFqb3V0ZXIgXHUwMEUwIGxhIGxpc3RlXG4gICAgICAgICAgICBpZiAoIXNlbGVjdGVkTmF2UGFnZXMuc29tZShuYXYgPT4gbmF2LnVybCA9PT0gcGFnZVVybCkpIHtcbiAgICAgICAgICAgICAgc2VsZWN0ZWROYXZQYWdlcy5wdXNoKHsgbGFiZWw6IHBhZ2VEaXNwbGF5TmFtZSwgdXJsOiBwYWdlVXJsIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBSZXRpcmVyIGRlIGxhIGxpc3RlXG4gICAgICAgICAgICBzZWxlY3RlZE5hdlBhZ2VzID0gc2VsZWN0ZWROYXZQYWdlcy5maWx0ZXIobmF2ID0+IG5hdi51cmwgIT09IHBhZ2VVcmwpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBoZWFkZXJQYWdlc0xpc3QuYXBwZW5kQ2hpbGQobGFiZWwpO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICBcbiAgICBjb25zdCBjb2xsZWN0SGVhZGVyRGF0YSA9ICgpID0+IHtcbiAgICAgIC8vIENvbGxlY3RlciBsZXMgcGFnZXMgY29jaFx1MDBFOWVzIGRhbnMgbCdvcmRyZSBhY3R1ZWxcbiAgICAgIGNvbnN0IG5hdiA9IFtdO1xuICAgICAgaGVhZGVyUGFnZXNMaXN0Py5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dFtuYW1lPVwibmF2LXBhZ2VcIl06Y2hlY2tlZCcpLmZvckVhY2goY2hlY2tib3ggPT4ge1xuICAgICAgICBjb25zdCB1cmwgPSBjaGVja2JveC52YWx1ZTtcbiAgICAgICAgY29uc3QgbGFiZWwgPSBjaGVja2JveC5kYXRhc2V0LnBhZ2VUaXRsZSB8fCB1cmw7XG4gICAgICAgIG5hdi5wdXNoKHsgbGFiZWwsIHVybCB9KTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICByZXR1cm4ge1xuICAgICAgICBsb2dvOiB7XG4gICAgICAgICAgc3JjOiBoZWFkZXJGaWVsZHMubG9nbz8udmFsdWU/LnRyaW0oKSB8fCAnJyxcbiAgICAgICAgICBhbHQ6IGhlYWRlckZpZWxkcy5sb2dvQWx0Py52YWx1ZT8udHJpbSgpIHx8ICcnLFxuICAgICAgICAgIHVybDogaGVhZGVyRmllbGRzLmxvZ29Vcmw/LnZhbHVlPy50cmltKCkgfHwgJy8nLFxuICAgICAgICB9LFxuICAgICAgICBuYXYsXG4gICAgICAgIGN0YToge1xuICAgICAgICAgIHRleHQ6IGhlYWRlckZpZWxkcy5jdGFUZXh0Py52YWx1ZT8udHJpbSgpIHx8ICcnLFxuICAgICAgICAgIHVybDogaGVhZGVyRmllbGRzLmN0YVVybD8udmFsdWU/LnRyaW0oKSB8fCAnJyxcbiAgICAgICAgICBzdHlsZTogaGVhZGVyRmllbGRzLmN0YVN0eWxlPy52YWx1ZSB8fCAncHJpbWFyeScsXG4gICAgICAgIH0sXG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgcG9zaXRpb246IGhlYWRlckZpZWxkcy5wb3NpdGlvbj8udmFsdWUgfHwgJ3N0YXRpYycsXG4gICAgICAgICAgYmc6IGhlYWRlckZpZWxkcy5iZz8udmFsdWUgfHwgJ2JnLXdoaXRlJyxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgfTtcbiAgICBcbiAgICBjb25zdCBwb3B1bGF0ZUhlYWRlckZvcm0gPSBhc3luYyAoZGF0YSkgPT4ge1xuICAgICAgaWYgKCFkYXRhKSByZXR1cm47XG4gICAgICBpZiAoaGVhZGVyRmllbGRzLmxvZ28pIGhlYWRlckZpZWxkcy5sb2dvLnZhbHVlID0gZGF0YS5sb2dvPy5zcmMgfHwgJyc7XG4gICAgICBpZiAoaGVhZGVyRmllbGRzLmxvZ29BbHQpIGhlYWRlckZpZWxkcy5sb2dvQWx0LnZhbHVlID0gZGF0YS5sb2dvPy5hbHQgfHwgJyc7XG4gICAgICBpZiAoaGVhZGVyRmllbGRzLmxvZ29VcmwpIGhlYWRlckZpZWxkcy5sb2dvVXJsLnZhbHVlID0gZGF0YS5sb2dvPy51cmwgfHwgJy8nO1xuICAgICAgaWYgKGhlYWRlckZpZWxkcy5jdGFUZXh0KSBoZWFkZXJGaWVsZHMuY3RhVGV4dC52YWx1ZSA9IGRhdGEuY3RhPy50ZXh0IHx8ICcnO1xuICAgICAgaWYgKGhlYWRlckZpZWxkcy5jdGFVcmwpIGhlYWRlckZpZWxkcy5jdGFVcmwudmFsdWUgPSBkYXRhLmN0YT8udXJsIHx8ICcnO1xuICAgICAgaWYgKGhlYWRlckZpZWxkcy5jdGFTdHlsZSkgaGVhZGVyRmllbGRzLmN0YVN0eWxlLnZhbHVlID0gZGF0YS5jdGE/LnN0eWxlIHx8ICdwcmltYXJ5JztcbiAgICAgIGlmIChoZWFkZXJGaWVsZHMucG9zaXRpb24pIGhlYWRlckZpZWxkcy5wb3NpdGlvbi52YWx1ZSA9IGRhdGEuc3R5bGU/LnBvc2l0aW9uIHx8ICdzdGF0aWMnO1xuICAgICAgaWYgKGhlYWRlckZpZWxkcy5iZykgaGVhZGVyRmllbGRzLmJnLnZhbHVlID0gZGF0YS5zdHlsZT8uYmcgfHwgJ2JnLXdoaXRlJztcbiAgICAgIFxuICAgICAgLy8gU3RvY2tlciBsZXMgcGFnZXMgc1x1MDBFOWxlY3Rpb25uXHUwMEU5ZXMgcG91ciBsZXMgY2hlY2tib3hlc1xuICAgICAgc2VsZWN0ZWROYXZQYWdlcyA9IGRhdGEubmF2IHx8IFtdO1xuICAgICAgXG4gICAgICAvLyBDaGFyZ2VyIGxlcyBwYWdlcyBldCBhZmZpY2hlciBsZXMgY2hlY2tib3hlc1xuICAgICAgYXdhaXQgbG9hZFNpdGVQYWdlc0ZvckhlYWRlcigpO1xuICAgICAgXG4gICAgICAvLyBVcGRhdGUgc3RhdHVzIGluZGljYXRvclxuICAgICAgY29uc3QgaGFzRGF0YSA9IGRhdGEubG9nbz8uc3JjIHx8IGRhdGEubmF2Py5sZW5ndGggPiAwIHx8IGRhdGEuY3RhPy50ZXh0O1xuICAgICAgaWYgKGhlYWRlclN0YXR1c0luZGljYXRvcikge1xuICAgICAgICBoZWFkZXJTdGF0dXNJbmRpY2F0b3IuY2xhc3NMaXN0LnRvZ2dsZSgnYmctZ3JlZW4tNTAwJywgISFoYXNEYXRhKTtcbiAgICAgICAgaGVhZGVyU3RhdHVzSW5kaWNhdG9yLmNsYXNzTGlzdC50b2dnbGUoJ2JnLXNsYXRlLTMwMCcsICFoYXNEYXRhKTtcbiAgICAgICAgaGVhZGVyU3RhdHVzSW5kaWNhdG9yLnRpdGxlID0gaGFzRGF0YSA/ICdDb25maWd1clx1MDBFOScgOiAnTm9uIGNvbmZpZ3VyXHUwMEU5JztcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaGVhZGVyU2F2ZUJ0bj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWxheW91dEFwaUJhc2UpIHJldHVybjtcbiAgICAgIGhlYWRlclNhdmVCdG4uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgaGVhZGVyU2F2ZUJ0bi50ZXh0Q29udGVudCA9ICdFbnJlZ2lzdHJlbWVudC4uLic7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBkYXRhID0gY29sbGVjdEhlYWRlckRhdGEoKTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtsYXlvdXRBcGlCYXNlfS9oZWFkZXJgLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICBjcmVkZW50aWFsczogJ2luY2x1ZGUnLFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgdGhyb3cgbmV3IEVycm9yKCdFcnJldXIgc2VydmV1cicpO1xuICAgICAgICBoZWFkZXJEYXRhID0gZGF0YTtcbiAgICAgICAgcG9wdWxhdGVIZWFkZXJGb3JtKGRhdGEpO1xuICAgICAgICBzaG93VG9hc3QoJ0hlYWRlciBlbnJlZ2lzdHJcdTAwRTknKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbaGVhZGVyXSBzYXZlIGVycm9yJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KCdFcnJldXIgbG9ycyBkZSBsXFwnZW5yZWdpc3RyZW1lbnQnLCAnZXJyb3InKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGhlYWRlclNhdmVCdG4uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgaGVhZGVyU2F2ZUJ0bi50ZXh0Q29udGVudCA9ICdFbnJlZ2lzdHJlcic7XG4gICAgICB9XG4gICAgfSk7XG4gICAgXG4gICAgLy8gXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXG4gICAgLy8gRk9PVEVSIEZVTkNUSU9OU1xuICAgIC8vIFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFxuICAgIGNvbnN0IGFkZEZvb3RlckxpbmsgPSAoY29udGFpbmVyLCBsYWJlbCA9ICcnLCB1cmwgPSAnJykgPT4ge1xuICAgICAgaWYgKCFmb290ZXJMaW5rVGVtcGxhdGUgfHwgIWNvbnRhaW5lcikgcmV0dXJuO1xuICAgICAgY29uc3QgY2xvbmUgPSBmb290ZXJMaW5rVGVtcGxhdGUuY29udGVudC5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICBjb25zdCBpdGVtID0gY2xvbmUucXVlcnlTZWxlY3RvcignW2RhdGEtZm9vdGVyLWxpbmtdJyk7XG4gICAgICBjb25zdCBsYWJlbElucHV0ID0gY2xvbmUucXVlcnlTZWxlY3RvcignW25hbWU9XCJsaW5rLWxhYmVsXCJdJyk7XG4gICAgICBjb25zdCB1cmxJbnB1dCA9IGNsb25lLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwibGluay11cmxcIl0nKTtcbiAgICAgIGNvbnN0IHJlbW92ZUJ0biA9IGNsb25lLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWxpbmstcmVtb3ZlXScpO1xuICAgICAgaWYgKGxhYmVsSW5wdXQpIGxhYmVsSW5wdXQudmFsdWUgPSBsYWJlbDtcbiAgICAgIGlmICh1cmxJbnB1dCkgdXJsSW5wdXQudmFsdWUgPSB1cmw7XG4gICAgICByZW1vdmVCdG4/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gaXRlbT8ucmVtb3ZlKCkpO1xuICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGNsb25lKTtcbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IGFkZEZvb3RlckNvbHVtbiA9ICh0aXRsZSA9ICcnLCBsaW5rcyA9IFtdKSA9PiB7XG4gICAgICBpZiAoIWZvb3RlckNvbHVtblRlbXBsYXRlIHx8ICFmb290ZXJDb2x1bW5zTGlzdCkgcmV0dXJuO1xuICAgICAgY29uc3QgY2xvbmUgPSBmb290ZXJDb2x1bW5UZW1wbGF0ZS5jb250ZW50LmNsb25lTm9kZSh0cnVlKTtcbiAgICAgIGNvbnN0IGNvbHVtbiA9IGNsb25lLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWZvb3Rlci1jb2x1bW5dJyk7XG4gICAgICBjb25zdCB0aXRsZUlucHV0ID0gY2xvbmUucXVlcnlTZWxlY3RvcignW25hbWU9XCJjb2x1bW4tdGl0bGVcIl0nKTtcbiAgICAgIGNvbnN0IGxpbmtzQ29udGFpbmVyID0gY2xvbmUucXVlcnlTZWxlY3RvcignW2RhdGEtY29sdW1uLWxpbmtzXScpO1xuICAgICAgY29uc3QgYWRkTGlua0J0biA9IGNsb25lLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbHVtbi1saW5rLWFkZF0nKTtcbiAgICAgIGNvbnN0IHJlbW92ZUJ0biA9IGNsb25lLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbHVtbi1yZW1vdmVdJyk7XG4gICAgICBpZiAodGl0bGVJbnB1dCkgdGl0bGVJbnB1dC52YWx1ZSA9IHRpdGxlO1xuICAgICAgbGlua3MuZm9yRWFjaChsaW5rID0+IGFkZEZvb3RlckxpbmsobGlua3NDb250YWluZXIsIGxpbmsubGFiZWwsIGxpbmsudXJsKSk7XG4gICAgICBhZGRMaW5rQnRuPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGFkZEZvb3RlckxpbmsobGlua3NDb250YWluZXIpKTtcbiAgICAgIHJlbW92ZUJ0bj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBjb2x1bW4/LnJlbW92ZSgpKTtcbiAgICAgIGZvb3RlckNvbHVtbnNMaXN0LmFwcGVuZENoaWxkKGNsb25lKTtcbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IGNvbGxlY3RGb290ZXJEYXRhID0gKCkgPT4ge1xuICAgICAgY29uc3QgY29sdW1ucyA9IFtdO1xuICAgICAgZm9vdGVyQ29sdW1uc0xpc3Q/LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWZvb3Rlci1jb2x1bW5dJykuZm9yRWFjaChjb2wgPT4ge1xuICAgICAgICBjb25zdCB0aXRsZSA9IGNvbC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImNvbHVtbi10aXRsZVwiXScpPy52YWx1ZT8udHJpbSgpIHx8ICcnO1xuICAgICAgICBjb25zdCBsaW5rcyA9IFtdO1xuICAgICAgICBjb2wucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtZm9vdGVyLWxpbmtdJykuZm9yRWFjaChsaW5rRWwgPT4ge1xuICAgICAgICAgIGNvbnN0IGxhYmVsID0gbGlua0VsLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwibGluay1sYWJlbFwiXScpPy52YWx1ZT8udHJpbSgpIHx8ICcnO1xuICAgICAgICAgIGNvbnN0IHVybCA9IGxpbmtFbC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImxpbmstdXJsXCJdJyk/LnZhbHVlPy50cmltKCkgfHwgJyc7XG4gICAgICAgICAgaWYgKGxhYmVsIHx8IHVybCkgbGlua3MucHVzaCh7IGxhYmVsLCB1cmwgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAodGl0bGUgfHwgbGlua3MubGVuZ3RoID4gMCkgY29sdW1ucy5wdXNoKHsgdGl0bGUsIGxpbmtzIH0pO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBjb2x1bW5zLFxuICAgICAgICBzb2NpYWxzOiB7XG4gICAgICAgICAgbGlua2VkaW46IGZvb3RlckZpZWxkcy5saW5rZWRpbj8udmFsdWU/LnRyaW0oKSB8fCAnJyxcbiAgICAgICAgICB0d2l0dGVyOiBmb290ZXJGaWVsZHMudHdpdHRlcj8udmFsdWU/LnRyaW0oKSB8fCAnJyxcbiAgICAgICAgICBpbnN0YWdyYW06IGZvb3RlckZpZWxkcy5pbnN0YWdyYW0/LnZhbHVlPy50cmltKCkgfHwgJycsXG4gICAgICAgICAgZmFjZWJvb2s6IGZvb3RlckZpZWxkcy5mYWNlYm9vaz8udmFsdWU/LnRyaW0oKSB8fCAnJyxcbiAgICAgICAgICB5b3V0dWJlOiBmb290ZXJGaWVsZHMueW91dHViZT8udmFsdWU/LnRyaW0oKSB8fCAnJyxcbiAgICAgICAgICBnaXRodWI6IGZvb3RlckZpZWxkcy5naXRodWI/LnZhbHVlPy50cmltKCkgfHwgJycsXG4gICAgICAgIH0sXG4gICAgICAgIGNvcHlyaWdodDogZm9vdGVyRmllbGRzLmNvcHlyaWdodD8udmFsdWU/LnRyaW0oKSB8fCAnJyxcbiAgICAgICAgbGVnYWw6IHtcbiAgICAgICAgICB1cmw6IGZvb3RlckZpZWxkcy5sZWdhbFVybD8udmFsdWU/LnRyaW0oKSB8fCAnJyxcbiAgICAgICAgICBwcml2YWN5VXJsOiBmb290ZXJGaWVsZHMucHJpdmFjeVVybD8udmFsdWU/LnRyaW0oKSB8fCAnJyxcbiAgICAgICAgfSxcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICBiZzogZm9vdGVyRmllbGRzLmJnPy52YWx1ZSB8fCAnYmctc2xhdGUtOTAwIHRleHQtd2hpdGUnLFxuICAgICAgICAgIGNvbHVtbnNDb3VudDogZm9vdGVyRmllbGRzLmNvbHVtbnNDb3VudD8udmFsdWUgfHwgJzQnLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IHBvcHVsYXRlRm9vdGVyRm9ybSA9IChkYXRhKSA9PiB7XG4gICAgICBpZiAoIWRhdGEpIHJldHVybjtcbiAgICAgIGlmIChmb290ZXJGaWVsZHMubGlua2VkaW4pIGZvb3RlckZpZWxkcy5saW5rZWRpbi52YWx1ZSA9IGRhdGEuc29jaWFscz8ubGlua2VkaW4gfHwgJyc7XG4gICAgICBpZiAoZm9vdGVyRmllbGRzLnR3aXR0ZXIpIGZvb3RlckZpZWxkcy50d2l0dGVyLnZhbHVlID0gZGF0YS5zb2NpYWxzPy50d2l0dGVyIHx8ICcnO1xuICAgICAgaWYgKGZvb3RlckZpZWxkcy5pbnN0YWdyYW0pIGZvb3RlckZpZWxkcy5pbnN0YWdyYW0udmFsdWUgPSBkYXRhLnNvY2lhbHM/Lmluc3RhZ3JhbSB8fCAnJztcbiAgICAgIGlmIChmb290ZXJGaWVsZHMuZmFjZWJvb2spIGZvb3RlckZpZWxkcy5mYWNlYm9vay52YWx1ZSA9IGRhdGEuc29jaWFscz8uZmFjZWJvb2sgfHwgJyc7XG4gICAgICBpZiAoZm9vdGVyRmllbGRzLnlvdXR1YmUpIGZvb3RlckZpZWxkcy55b3V0dWJlLnZhbHVlID0gZGF0YS5zb2NpYWxzPy55b3V0dWJlIHx8ICcnO1xuICAgICAgaWYgKGZvb3RlckZpZWxkcy5naXRodWIpIGZvb3RlckZpZWxkcy5naXRodWIudmFsdWUgPSBkYXRhLnNvY2lhbHM/LmdpdGh1YiB8fCAnJztcbiAgICAgIGlmIChmb290ZXJGaWVsZHMuY29weXJpZ2h0KSBmb290ZXJGaWVsZHMuY29weXJpZ2h0LnZhbHVlID0gZGF0YS5jb3B5cmlnaHQgfHwgJyc7XG4gICAgICBpZiAoZm9vdGVyRmllbGRzLmxlZ2FsVXJsKSBmb290ZXJGaWVsZHMubGVnYWxVcmwudmFsdWUgPSBkYXRhLmxlZ2FsPy51cmwgfHwgJyc7XG4gICAgICBpZiAoZm9vdGVyRmllbGRzLnByaXZhY3lVcmwpIGZvb3RlckZpZWxkcy5wcml2YWN5VXJsLnZhbHVlID0gZGF0YS5sZWdhbD8ucHJpdmFjeVVybCB8fCAnJztcbiAgICAgIGlmIChmb290ZXJGaWVsZHMuYmcpIGZvb3RlckZpZWxkcy5iZy52YWx1ZSA9IGRhdGEuc3R5bGU/LmJnIHx8ICdiZy1zbGF0ZS05MDAgdGV4dC13aGl0ZSc7XG4gICAgICBpZiAoZm9vdGVyRmllbGRzLmNvbHVtbnNDb3VudCkgZm9vdGVyRmllbGRzLmNvbHVtbnNDb3VudC52YWx1ZSA9IGRhdGEuc3R5bGU/LmNvbHVtbnNDb3VudCB8fCAnNCc7XG4gICAgICAvLyBQb3B1bGF0ZSBjb2x1bW5zXG4gICAgICBpZiAoZm9vdGVyQ29sdW1uc0xpc3QpIGZvb3RlckNvbHVtbnNMaXN0LmlubmVySFRNTCA9ICcnO1xuICAgICAgKGRhdGEuY29sdW1ucyB8fCBbXSkuZm9yRWFjaChjb2wgPT4gYWRkRm9vdGVyQ29sdW1uKGNvbC50aXRsZSwgY29sLmxpbmtzKSk7XG4gICAgICAvLyBVcGRhdGUgc3RhdHVzIGluZGljYXRvclxuICAgICAgY29uc3QgaGFzRGF0YSA9IGRhdGEuY29sdW1ucz8ubGVuZ3RoID4gMCB8fCBkYXRhLmNvcHlyaWdodCB8fCBPYmplY3QudmFsdWVzKGRhdGEuc29jaWFscyB8fCB7fSkuc29tZSh2ID0+IHYpO1xuICAgICAgaWYgKGZvb3RlclN0YXR1c0luZGljYXRvcikge1xuICAgICAgICBmb290ZXJTdGF0dXNJbmRpY2F0b3IuY2xhc3NMaXN0LnRvZ2dsZSgnYmctZ3JlZW4tNTAwJywgISFoYXNEYXRhKTtcbiAgICAgICAgZm9vdGVyU3RhdHVzSW5kaWNhdG9yLmNsYXNzTGlzdC50b2dnbGUoJ2JnLXNsYXRlLTMwMCcsICFoYXNEYXRhKTtcbiAgICAgICAgZm9vdGVyU3RhdHVzSW5kaWNhdG9yLnRpdGxlID0gaGFzRGF0YSA/ICdDb25maWd1clx1MDBFOScgOiAnTm9uIGNvbmZpZ3VyXHUwMEU5JztcbiAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIGZvb3RlckNvbHVtbkFkZEJ0bj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBhZGRGb290ZXJDb2x1bW4oKSk7XG4gICAgXG4gICAgZm9vdGVyU2F2ZUJ0bj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWxheW91dEFwaUJhc2UpIHJldHVybjtcbiAgICAgIGZvb3RlclNhdmVCdG4uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgZm9vdGVyU2F2ZUJ0bi50ZXh0Q29udGVudCA9ICdFbnJlZ2lzdHJlbWVudC4uLic7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBkYXRhID0gY29sbGVjdEZvb3RlckRhdGEoKTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtsYXlvdXRBcGlCYXNlfS9mb290ZXJgLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICBjcmVkZW50aWFsczogJ2luY2x1ZGUnLFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgdGhyb3cgbmV3IEVycm9yKCdFcnJldXIgc2VydmV1cicpO1xuICAgICAgICBmb290ZXJEYXRhID0gZGF0YTtcbiAgICAgICAgcG9wdWxhdGVGb290ZXJGb3JtKGRhdGEpO1xuICAgICAgICBzaG93VG9hc3QoJ0Zvb3RlciBlbnJlZ2lzdHJcdTAwRTknKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZm9vdGVyXSBzYXZlIGVycm9yJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KCdFcnJldXIgbG9ycyBkZSBsXFwnZW5yZWdpc3RyZW1lbnQnLCAnZXJyb3InKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGZvb3RlclNhdmVCdG4uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgZm9vdGVyU2F2ZUJ0bi50ZXh0Q29udGVudCA9ICdFbnJlZ2lzdHJlcic7XG4gICAgICB9XG4gICAgfSk7XG4gICAgXG4gICAgLy8gTG9hZCBsYXlvdXQgZGF0YSBvbiBpbml0XG4gICAgY29uc3QgbG9hZExheW91dERhdGEgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWxheW91dEFwaUJhc2UpIHJldHVybjtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2gobGF5b3V0QXBpQmFzZSwgeyBjcmVkZW50aWFsczogJ2luY2x1ZGUnIH0pO1xuICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgIGlmIChkYXRhLmhlYWRlcikge1xuICAgICAgICAgICAgaGVhZGVyRGF0YSA9IGRhdGEuaGVhZGVyO1xuICAgICAgICAgICAgcG9wdWxhdGVIZWFkZXJGb3JtKGRhdGEuaGVhZGVyKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGRhdGEuZm9vdGVyKSB7XG4gICAgICAgICAgICBmb290ZXJEYXRhID0gZGF0YS5mb290ZXI7XG4gICAgICAgICAgICBwb3B1bGF0ZUZvb3RlckZvcm0oZGF0YS5mb290ZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tsYXlvdXRdIGxvYWQgZXJyb3InLCBlcnIpO1xuICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgLy8gSW5pdGlhbGl6ZSBsYXlvdXQgZGF0YVxuICAgIGxvYWRMYXlvdXREYXRhKCk7XG4gICAgXG4gICAgLy8gXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXG4gICAgLy8gQ09MTEVDVElPTlMgKGV4aXN0aW5nIGNvZGUgY29udGludWVzIGJlbG93KVxuICAgIC8vIFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFxuICAgIFxuICAgIGNvbnN0IGNvbGxlY3Rpb25FbXB0eVN0YXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29sbGVjdGlvbi1lbXB0eV0nKTtcbiAgICBjb25zdCBjb2xsZWN0aW9uSXRlbXNFbXB0eSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbGxlY3Rpb24taXRlbXMtZW1wdHldJyk7XG4gICAgY29uc3QgaXRlbVRhYmxlV3JhcHBlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tdGFibGUtd3JhcHBlcl0nKTtcbiAgICBjb25zdCBpdGVtVGFibGVCb2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS10YWJsZS1ib2R5XScpO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25UaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbGxlY3Rpb24tdGl0bGVdJyk7XG4gICAgY29uc3QgY29sbGVjdGlvbkRlc2NyaXB0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29sbGVjdGlvbi1kZXNjcmlwdGlvbl0nKTtcbiAgICBjb25zdCBpdGVtQWRkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS1hZGRdJyk7XG4gICAgY29uc3QgaXRlbURldGFpbEVtcHR5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS1kZXRhaWwtZW1wdHldJyk7XG4gICAgY29uc3QgaXRlbUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLWZvcm1dJyk7XG4gICAgY29uc3QgaXRlbUZvcm1GaWVsZHMgPSBpdGVtRm9ybVxuICAgICAgPyB7XG4gICAgICAgICAgdGl0bGU6IGl0ZW1Gb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaXRlbS10aXRsZVwiXScpLFxuICAgICAgICAgIHNsdWc6IGl0ZW1Gb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaXRlbS1zbHVnXCJdJyksXG4gICAgICAgICAgZXhjZXJwdDogaXRlbUZvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJpdGVtLWV4Y2VycHRcIl0nKSxcbiAgICAgICAgICBjb250ZW50OiBpdGVtRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cIml0ZW0tY29udGVudFwiXScpLFxuICAgICAgICAgIGltYWdlOiBpdGVtRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cIml0ZW0taW1hZ2VcIl0nKSxcbiAgICAgICAgICBjdGFUZXh0OiBpdGVtRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cIml0ZW0tY3RhLXRleHRcIl0nKSxcbiAgICAgICAgICBjdGFVcmw6IGl0ZW1Gb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaXRlbS1jdGEtdXJsXCJdJyksXG4gICAgICAgICAgc3RhdHVzOiBpdGVtRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cIml0ZW0tc3RhdHVzXCJdJyksXG4gICAgICAgIH1cbiAgICAgIDoge307XG4gICAgY29uc3QgaXRlbVN0YXR1c0JhZGdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS1zdGF0dXMtYmFkZ2VdJyk7XG4gICAgY29uc3QgaXRlbURlbGV0ZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tZGVsZXRlXScpO1xuICAgIGNvbnN0IGl0ZW1EZWxldGVNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tZGVsZXRlLW1vZGFsXScpO1xuICAgIGNvbnN0IGl0ZW1EZWxldGVDYW5jZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLWRlbGV0ZS1jYW5jZWxdJyk7XG4gICAgY29uc3QgaXRlbURlbGV0ZUNvbmZpcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLWRlbGV0ZS1jb25maXJtXScpO1xuICAgIGNvbnN0IGl0ZW1Gb3JtQ2FuY2VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS1jYW5jZWxdJyk7XG4gICAgY29uc3QgaXRlbUZvcm1TYXZlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS1zYXZlXScpO1xuICAgIGNvbnN0IHN0YXR1c0JhZGdlQmFzZUNsYXNzID0gJ3JvdW5kZWQtZnVsbCBweC0zIHB5LTEgdGV4dC14cyBmb250LXNlbWlib2xkJztcblxuICAgIGNvbnN0IHNhZmVTaXRlU2x1Z1ZhbHVlID0gc3RyaXBMZWFkaW5nU2xhc2goXG4gICAgICB3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnLFxuICAgICk7XG4gICAgY29uc3QgY29sbGVjdGlvbnNBcGlCYXNlID0gc2FmZVNpdGVTbHVnVmFsdWVcbiAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnVmFsdWUpfS9jb2xsZWN0aW9uc2BcbiAgICAgIDogbnVsbDtcblxuICAgIGxldCBjb2xsZWN0aW9ucyA9IFtdO1xuICAgIGxldCBjb2xsZWN0aW9uSXRlbXMgPSBbXTtcbiAgICBsZXQgYWN0aXZlQ29sbGVjdGlvbklkID0gbnVsbDtcbiAgICBsZXQgYWN0aXZlSXRlbUlkID0gbnVsbDtcbiAgICBsZXQgaXNDcmVhdGluZ0l0ZW0gPSBmYWxzZTtcbiAgICBsZXQgaXRlbVNsdWdNYW51YWxseUVkaXRlZCA9IGZhbHNlO1xuICAgIGxldCBwZW5kaW5nRGVsZXRlSXRlbUlkID0gbnVsbDtcblxuICAgIGNvbnN0IG5vcm1hbGl6ZUl0ZW1TbHVnSW5wdXQgPSAodmFsdWUpID0+IHtcbiAgICAgIGNvbnN0IHJhdyA9ICh2YWx1ZSB8fCAnJykudHJpbSgpO1xuICAgICAgaWYgKCFyYXcpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfVxuICAgICAgaWYgKHJhdyA9PT0gJy8nKSB7XG4gICAgICAgIHJldHVybiAnLyc7XG4gICAgICB9XG4gICAgICBjb25zdCBzZWdtZW50cyA9IHJhdy5yZXBsYWNlKC9eXFwvLywgJycpLnNwbGl0KCcvJyk7XG4gICAgICBjb25zdCBjbGVhbmVkU2VnbWVudHMgPSBzZWdtZW50c1xuICAgICAgICAubWFwKChzZWdtZW50KSA9PiB3b3Jrc3BhY2VTbHVnaWZ5KHNlZ21lbnQgfHwgJycpKVxuICAgICAgICAuZmlsdGVyKChzZWdtZW50KSA9PiBzZWdtZW50Lmxlbmd0aCA+IDApO1xuICAgICAgaWYgKCFjbGVhbmVkU2VnbWVudHMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICAgIH1cbiAgICAgIHJldHVybiBgLyR7Y2xlYW5lZFNlZ21lbnRzLmpvaW4oJy8nKX1gO1xuICAgIH07XG5cbiAgICBjb25zdCBmb3JtYXRJdGVtRGF0ZSA9ICh2YWx1ZSkgPT4ge1xuICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICByZXR1cm4gJ1x1MjAxNCc7XG4gICAgICB9XG4gICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUodmFsdWUpO1xuICAgICAgaWYgKE51bWJlci5pc05hTihkYXRlLmdldFRpbWUoKSkpIHtcbiAgICAgICAgcmV0dXJuICdcdTIwMTQnO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGRhdGUudG9Mb2NhbGVEYXRlU3RyaW5nKCdmci1GUicsIHsgZGF5OiAnMi1kaWdpdCcsIG1vbnRoOiAnc2hvcnQnLCB5ZWFyOiAnbnVtZXJpYycgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IHVwZGF0ZUNvbGxlY3Rpb25IZWFkZXIgPSAoKSA9PiB7XG4gICAgICBjb25zdCBjb2xsZWN0aW9uID0gY29sbGVjdGlvbnMuZmluZCgoZW50cnkpID0+IGVudHJ5LmlkID09PSBhY3RpdmVDb2xsZWN0aW9uSWQpO1xuICAgICAgaWYgKGNvbGxlY3Rpb25UaXRsZSkge1xuICAgICAgICBjb2xsZWN0aW9uVGl0bGUudGV4dENvbnRlbnQgPSBjb2xsZWN0aW9uPy5uYW1lIHx8ICdTXHUwMEU5bGVjdGlvbm5leiB1bmUgY29sbGVjdGlvbic7XG4gICAgICB9XG4gICAgICBpZiAoY29sbGVjdGlvbkRlc2NyaXB0aW9uKSB7XG4gICAgICAgIGNvbGxlY3Rpb25EZXNjcmlwdGlvbi50ZXh0Q29udGVudCA9IGNvbGxlY3Rpb24/LmRlc2NyaXB0aW9uIHx8ICcnO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCB1cGRhdGVJdGVtc0VtcHR5TWVzc2FnZSA9IChtZXNzYWdlKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25JdGVtc0VtcHR5KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbGxlY3Rpb25JdGVtc0VtcHR5LnRleHRDb250ZW50ID1cbiAgICAgICAgbWVzc2FnZSB8fFxuICAgICAgICAoYWN0aXZlQ29sbGVjdGlvbklkXG4gICAgICAgICAgPyAnQXVjdW4gaXRlbSBkYW5zIGNldHRlIGNvbGxlY3Rpb24gcG91ciBsZSBtb21lbnQuJ1xuICAgICAgICAgIDogJ0Nob2lzaXNzZXogdW5lIGNvbGxlY3Rpb24gZGFucyBsZSBwYW5uZWF1IGRlIGdhdWNoZS4nKTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGlkZUl0ZW1Gb3JtID0gKCkgPT4ge1xuICAgICAgaWYgKGl0ZW1Gb3JtKSB7XG4gICAgICAgIGl0ZW1Gb3JtLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBpdGVtRm9ybS5kYXRhc2V0Lml0ZW1JZCA9ICcnO1xuICAgICAgfVxuICAgICAgaXRlbURldGFpbEVtcHR5Py5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGlmIChpdGVtU3RhdHVzQmFkZ2UpIHtcbiAgICAgICAgaXRlbVN0YXR1c0JhZGdlLmNsYXNzTmFtZSA9IGBoaWRkZW4gJHtzdGF0dXNCYWRnZUJhc2VDbGFzc31gO1xuICAgICAgICBpdGVtU3RhdHVzQmFkZ2UudGV4dENvbnRlbnQgPSAnJztcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtRGVsZXRlQnV0dG9uKSB7XG4gICAgICAgIGl0ZW1EZWxldGVCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBzaG93SXRlbUZvcm0gPSAoKSA9PiB7XG4gICAgICBpZiAoIWl0ZW1Gb3JtKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGl0ZW1Gb3JtLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgaXRlbURldGFpbEVtcHR5Py5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICB9O1xuXG4gICAgY29uc3Qgc3luY0FkZEJ1dHRvblN0YXRlID0gKCkgPT4ge1xuICAgICAgaWYgKCFpdGVtQWRkQnV0dG9uKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGl0ZW1BZGRCdXR0b24uZGlzYWJsZWQgPSAhYWN0aXZlQ29sbGVjdGlvbklkO1xuICAgICAgaWYgKGl0ZW1BZGRCdXR0b24uZGlzYWJsZWQpIHtcbiAgICAgICAgaXRlbUFkZEJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdvcGFjaXR5LTYwJywgJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGl0ZW1BZGRCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnb3BhY2l0eS02MCcsICdwb2ludGVyLWV2ZW50cy1ub25lJyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHN5bmNJdGVtU3RhdHVzQmFkZ2UgPSAoc3RhdHVzKSA9PiB7XG4gICAgICBpZiAoIWl0ZW1TdGF0dXNCYWRnZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIXN0YXR1cykge1xuICAgICAgICBpdGVtU3RhdHVzQmFkZ2UuY2xhc3NOYW1lID0gYGhpZGRlbiAke3N0YXR1c0JhZGdlQmFzZUNsYXNzfWA7XG4gICAgICAgIGl0ZW1TdGF0dXNCYWRnZS50ZXh0Q29udGVudCA9ICcnO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBub3JtYWxpemVkID0gc3RhdHVzLnRvTG93ZXJDYXNlKCk7XG4gICAgICBsZXQgY29sb3JDbGFzcyA9ICdiZy1zbGF0ZS0xMDAgdGV4dC1zbGF0ZS02MDAgYm9yZGVyIGJvcmRlci1zbGF0ZS0yMDAnO1xuICAgICAgaWYgKG5vcm1hbGl6ZWQgPT09ICdwdWJsaVx1MDBFOScgfHwgbm9ybWFsaXplZCA9PT0gJ3B1YmxpZScpIHtcbiAgICAgICAgY29sb3JDbGFzcyA9ICdiZy1lbWVyYWxkLTUwIHRleHQtZW1lcmFsZC03MDAgYm9yZGVyIGJvcmRlci1lbWVyYWxkLTEwMCc7XG4gICAgICB9IGVsc2UgaWYgKG5vcm1hbGl6ZWQgPT09ICdicm91aWxsb24nKSB7XG4gICAgICAgIGNvbG9yQ2xhc3MgPSAnYmctYW1iZXItNTAgdGV4dC1hbWJlci03MDAgYm9yZGVyIGJvcmRlci1hbWJlci0xMDAnO1xuICAgICAgfVxuICAgICAgaXRlbVN0YXR1c0JhZGdlLmNsYXNzTmFtZSA9IGAke3N0YXR1c0JhZGdlQmFzZUNsYXNzfSAke2NvbG9yQ2xhc3N9YDtcbiAgICAgIGl0ZW1TdGF0dXNCYWRnZS50ZXh0Q29udGVudCA9IHN0YXR1cztcbiAgICB9O1xuXG4gICAgY29uc3QgcmVuZGVyQ29sbGVjdGlvbkxpc3QgPSAoKSA9PiB7XG4gICAgICBjb2xsZWN0aW9uTGlzdC5pbm5lckhUTUwgPSAnJztcbiAgICAgIC8vIFVwZGF0ZSBjb2xsZWN0aW9uIGNvdW50XG4gICAgICBpZiAoY29sbGVjdGlvbkNvdW50RWwpIGNvbGxlY3Rpb25Db3VudEVsLnRleHRDb250ZW50ID0gY29sbGVjdGlvbnMubGVuZ3RoO1xuICAgICAgaWYgKCFjb2xsZWN0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgY29sbGVjdGlvbkVtcHR5U3RhdGU/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb2xsZWN0aW9uRW1wdHlTdGF0ZT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBjb2xsZWN0aW9ucy5mb3JFYWNoKChjb2xsZWN0aW9uKSA9PiB7XG4gICAgICAgIGNvbnN0IGlzQWN0aXZlID0gY29sbGVjdGlvbi5pZCA9PT0gYWN0aXZlQ29sbGVjdGlvbklkO1xuICAgICAgICBjb25zdCBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgYnV0dG9uLnR5cGUgPSAnYnV0dG9uJztcbiAgICAgICAgYnV0dG9uLmRhdGFzZXQuY29sbGVjdGlvbklkID0gY29sbGVjdGlvbi5pZDtcbiAgICAgICAgYnV0dG9uLmNsYXNzTmFtZSA9IFtcbiAgICAgICAgICAndy1mdWxsIHJvdW5kZWQteGwgYm9yZGVyIHB4LTMgcHktMiB0ZXh0LWxlZnQgdHJhbnNpdGlvbiBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctWyM5QzZCRkZdLzQwJyxcbiAgICAgICAgICBpc0FjdGl2ZVxuICAgICAgICAgICAgPyAnYmctWyNGN0YwRkZdIGJvcmRlci1bIzlDNkJGRl0vNDAgdGV4dC1zbGF0ZS05MDAnXG4gICAgICAgICAgICA6ICdib3JkZXItc2xhdGUtMjAwIHRleHQtc2xhdGUtNzAwIGhvdmVyOmJvcmRlci1bIzlDNkJGRl0vNDAnLFxuICAgICAgICBdLmpvaW4oJyAnKTtcbiAgICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZSgncm9sZScsICdvcHRpb24nKTtcbiAgICAgICAgaWYgKGlzQWN0aXZlKSB7XG4gICAgICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZSgnYXJpYS1jdXJyZW50JywgJ3RydWUnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBidXR0b24ucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWN1cnJlbnQnKTtcbiAgICAgICAgfVxuICAgICAgICBidXR0b24uaW5uZXJIVE1MID0gYFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gZ2FwLTJcIj5cbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1zbSBmb250LXNlbWlib2xkXCI+JHtjb2xsZWN0aW9uLm5hbWUgfHwgY29sbGVjdGlvbi5pZH08L3A+XG4gICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC14cyB0ZXh0LXNsYXRlLTUwMFwiPiR7Y29sbGVjdGlvbi5kZXNjcmlwdGlvbiB8fCAnJ308L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC1bMTFweF0gdXBwZXJjYXNlIHRyYWNraW5nLXdpZGUgdGV4dC1zbGF0ZS00MDBcIj4ke2NvbGxlY3Rpb24udHlwZSB8fCAnJ308L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIGA7XG4gICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICBzZXRBY3RpdmVDb2xsZWN0aW9uKGNvbGxlY3Rpb24uaWQpO1xuICAgICAgICAgIGlmICghd2luZG93Lm1hdGNoTWVkaWEoJyhtaW4td2lkdGg6IDEwMjRweCknKS5tYXRjaGVzKSB7XG4gICAgICAgICAgICBjbG9zZUNvbnRlbnREcmF3ZXIoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBjb2xsZWN0aW9uTGlzdC5hcHBlbmRDaGlsZChidXR0b24pO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IHJlbmRlckl0ZW1UYWJsZSA9ICgpID0+IHtcbiAgICAgIGlmICghaXRlbVRhYmxlQm9keSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpdGVtVGFibGVCb2R5LmlubmVySFRNTCA9ICcnO1xuICAgICAgaWYgKCFjb2xsZWN0aW9uSXRlbXMubGVuZ3RoIHx8ICFhY3RpdmVDb2xsZWN0aW9uSWQpIHtcbiAgICAgICAgY29sbGVjdGlvbkl0ZW1zRW1wdHk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICB1cGRhdGVJdGVtc0VtcHR5TWVzc2FnZSgpO1xuICAgICAgICBpdGVtVGFibGVXcmFwcGVyPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29sbGVjdGlvbkl0ZW1zRW1wdHk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgaXRlbVRhYmxlV3JhcHBlcj8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBjb2xsZWN0aW9uSXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICBjb25zdCByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpO1xuICAgICAgICByb3cuZGF0YXNldC5pdGVtSWQgPSBpdGVtLmlkO1xuICAgICAgICBjb25zdCBpc0FjdGl2ZSA9IGl0ZW0uaWQgPT09IGFjdGl2ZUl0ZW1JZCAmJiAhaXNDcmVhdGluZ0l0ZW07XG4gICAgICAgIHJvdy5jbGFzc05hbWUgPSBbXG4gICAgICAgICAgJ2N1cnNvci1wb2ludGVyIHRyYW5zaXRpb24gZm9jdXMtd2l0aGluOmJnLVsjRjdGMEZGXS83MCBmb2N1czpvdXRsaW5lLW5vbmUnLFxuICAgICAgICAgIGlzQWN0aXZlID8gJ2JnLVsjRjdGMEZGXS83MCcgOiAnaG92ZXI6Ymctc2xhdGUtNTAnLFxuICAgICAgICBdLmpvaW4oJyAnKTtcbiAgICAgICAgcm93LnRhYkluZGV4ID0gMDtcbiAgICAgICAgcm93LnNldEF0dHJpYnV0ZSgncm9sZScsICdidXR0b24nKTtcbiAgICAgICAgaWYgKGlzQWN0aXZlKSB7XG4gICAgICAgICAgcm93LnNldEF0dHJpYnV0ZSgnYXJpYS1jdXJyZW50JywgJ3RydWUnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByb3cucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWN1cnJlbnQnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzdGF0dXMgPSBpdGVtLnN0YXR1cyB8fCAnQnJvdWlsbG9uJztcbiAgICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IHN0YXR1cy50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBjb25zdCBzdGF0dXNDbGFzc2VzID1cbiAgICAgICAgICBub3JtYWxpemVkID09PSAncHVibGlcdTAwRTknIHx8IG5vcm1hbGl6ZWQgPT09ICdwdWJsaWUnXG4gICAgICAgICAgICA/ICdiZy1lbWVyYWxkLTUwIHRleHQtZW1lcmFsZC03MDAgYm9yZGVyIGJvcmRlci1lbWVyYWxkLTEwMCdcbiAgICAgICAgICAgIDogJ2JnLWFtYmVyLTUwIHRleHQtYW1iZXItNzAwIGJvcmRlciBib3JkZXItYW1iZXItMTAwJztcbiAgICAgICAgcm93LmlubmVySFRNTCA9IGBcbiAgICAgICAgICA8dGQgY2xhc3M9XCJweC00IHB5LTMgYWxpZ24tdG9wXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQtc20gZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTkwMFwiPiR7aXRlbS50aXRsZSB8fCAnU2FucyB0aXRyZSd9PC9zcGFuPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQteHMgdGV4dC1zbGF0ZS01MDBcIj4ke2l0ZW0uc3VtbWFyeSB8fCBpdGVtLmV4Y2VycHQgfHwgJyd9PC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC90ZD5cbiAgICAgICAgICA8dGQgY2xhc3M9XCJweC00IHB5LTMgYWxpZ24tdG9wIHRleHQtc20gdGV4dC1zbGF0ZS02MDBcIj4ke2l0ZW0uc2x1ZyB8fCAnJ308L3RkPlxuICAgICAgICAgIDx0ZCBjbGFzcz1cInB4LTQgcHktMyBhbGlnbi10b3BcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIHJvdW5kZWQtZnVsbCBweC0zIHB5LTEgdGV4dC14cyBmb250LXNlbWlib2xkICR7c3RhdHVzQ2xhc3Nlc31cIj5cbiAgICAgICAgICAgICAgJHtzdGF0dXN9XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC90ZD5cbiAgICAgICAgICA8dGQgY2xhc3M9XCJweC00IHB5LTMgYWxpZ24tdG9wIHRleHQtc20gdGV4dC1zbGF0ZS01MDBcIj4ke2Zvcm1hdEl0ZW1EYXRlKFxuICAgICAgICAgICAgaXRlbS51cGRhdGVkQXQgfHwgaXRlbS5jcmVhdGVkQXQsXG4gICAgICAgICAgKX08L3RkPlxuICAgICAgICBgO1xuICAgICAgICBjb25zdCBoYW5kbGVTZWxlY3QgPSAoKSA9PiB7XG4gICAgICAgICAgc2VsZWN0SXRlbShpdGVtLmlkKTtcbiAgICAgICAgfTtcbiAgICAgICAgcm93LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlU2VsZWN0KTtcbiAgICAgICAgcm93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICBpZiAoZXZlbnQua2V5ID09PSAnRW50ZXInIHx8IGV2ZW50LmtleSA9PT0gJyAnKSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgaGFuZGxlU2VsZWN0KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaXRlbVRhYmxlQm9keS5hcHBlbmRDaGlsZChyb3cpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IHNlbGVjdEl0ZW0gPSAoaXRlbUlkKSA9PiB7XG4gICAgICBjb25zdCBpdGVtID0gY29sbGVjdGlvbkl0ZW1zLmZpbmQoKGVudHJ5KSA9PiBlbnRyeS5pZCA9PT0gaXRlbUlkKTtcbiAgICAgIGlmICghaXRlbSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhY3RpdmVJdGVtSWQgPSBpdGVtLmlkO1xuICAgICAgaXNDcmVhdGluZ0l0ZW0gPSBmYWxzZTtcbiAgICAgIGl0ZW1TbHVnTWFudWFsbHlFZGl0ZWQgPSB0cnVlO1xuICAgICAgcG9wdWxhdGVJdGVtRm9ybShpdGVtKTtcbiAgICAgIHJlbmRlckl0ZW1UYWJsZSgpO1xuICAgIH07XG5cbiAgICBjb25zdCBwb3B1bGF0ZUl0ZW1Gb3JtID0gKGl0ZW0pID0+IHtcbiAgICAgIGlmICghaXRlbUZvcm0gfHwgIWl0ZW0pIHtcbiAgICAgICAgaGlkZUl0ZW1Gb3JtKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNob3dJdGVtRm9ybSgpO1xuICAgICAgaXRlbUZvcm0uZGF0YXNldC5pdGVtSWQgPSBpdGVtLmlkO1xuICAgICAgaWYgKGl0ZW1Gb3JtRmllbGRzLnRpdGxlKSB7XG4gICAgICAgIGl0ZW1Gb3JtRmllbGRzLnRpdGxlLnZhbHVlID0gaXRlbS50aXRsZSB8fCAnJztcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtRm9ybUZpZWxkcy5zbHVnKSB7XG4gICAgICAgIGl0ZW1Gb3JtRmllbGRzLnNsdWcudmFsdWUgPSBpdGVtLnNsdWcgfHwgJyc7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbUZvcm1GaWVsZHMuZXhjZXJwdCkge1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy5leGNlcnB0LnZhbHVlID0gaXRlbS5zdW1tYXJ5IHx8IGl0ZW0uZXhjZXJwdCB8fCAnJztcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtRm9ybUZpZWxkcy5jb250ZW50KSB7XG4gICAgICAgIGl0ZW1Gb3JtRmllbGRzLmNvbnRlbnQudmFsdWUgPSBpdGVtLmNvbnRlbnQgfHwgJyc7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbUZvcm1GaWVsZHMuaW1hZ2UpIHtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMuaW1hZ2UudmFsdWUgPSBpdGVtLmltYWdlIHx8ICcnO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1Gb3JtRmllbGRzLmN0YVRleHQpIHtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMuY3RhVGV4dC52YWx1ZSA9IGl0ZW0uY3RhPy50ZXh0IHx8IGl0ZW0uY3RhVGV4dCB8fCAnJztcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtRm9ybUZpZWxkcy5jdGFVcmwpIHtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMuY3RhVXJsLnZhbHVlID0gaXRlbS5jdGE/LnVybCB8fCBpdGVtLmN0YVVybCB8fCAnJztcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtRm9ybUZpZWxkcy5zdGF0dXMpIHtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMuc3RhdHVzLnZhbHVlID0gaXRlbS5zdGF0dXMgfHwgJ0Jyb3VpbGxvbic7XG4gICAgICB9XG4gICAgICBzeW5jSXRlbVN0YXR1c0JhZGdlKGl0ZW0uc3RhdHVzIHx8ICdCcm91aWxsb24nKTtcbiAgICAgIGlmIChpdGVtRGVsZXRlQnV0dG9uKSB7XG4gICAgICAgIGl0ZW1EZWxldGVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgcHJlcGFyZU5ld0l0ZW1Gb3JtID0gKCkgPT4ge1xuICAgICAgaWYgKCFpdGVtRm9ybSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpc0NyZWF0aW5nSXRlbSA9IHRydWU7XG4gICAgICBhY3RpdmVJdGVtSWQgPSBudWxsO1xuICAgICAgaXRlbVNsdWdNYW51YWxseUVkaXRlZCA9IGZhbHNlO1xuICAgICAgaXRlbUZvcm0uZGF0YXNldC5pdGVtSWQgPSAnJztcbiAgICAgIGl0ZW1Gb3JtLnJlc2V0KCk7XG4gICAgICBpZiAoaXRlbUZvcm1GaWVsZHMuc3RhdHVzKSB7XG4gICAgICAgIGl0ZW1Gb3JtRmllbGRzLnN0YXR1cy52YWx1ZSA9ICdCcm91aWxsb24nO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1Gb3JtRmllbGRzLnNsdWcpIHtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMuc2x1Zy52YWx1ZSA9ICcnO1xuICAgICAgfVxuICAgICAgc3luY0l0ZW1TdGF0dXNCYWRnZSgnQnJvdWlsbG9uJyk7XG4gICAgICBzaG93SXRlbUZvcm0oKTtcbiAgICAgIGlmIChpdGVtRGVsZXRlQnV0dG9uKSB7XG4gICAgICAgIGl0ZW1EZWxldGVCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaXRlbUZvcm1GaWVsZHMudGl0bGU/LmZvY3VzKCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGNvbGxlY3RJdGVtRm9ybVZhbHVlcyA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHRpdGxlID0gKGl0ZW1Gb3JtRmllbGRzLnRpdGxlPy52YWx1ZSB8fCAnJykudHJpbSgpO1xuICAgICAgY29uc3Qgc2x1Z0lucHV0ID0gKGl0ZW1Gb3JtRmllbGRzLnNsdWc/LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICBjb25zdCBzdW1tYXJ5ID0gKGl0ZW1Gb3JtRmllbGRzLmV4Y2VycHQ/LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICBjb25zdCBjb250ZW50ID0gKGl0ZW1Gb3JtRmllbGRzLmNvbnRlbnQ/LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICBjb25zdCBpbWFnZSA9IChpdGVtRm9ybUZpZWxkcy5pbWFnZT8udmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgIGNvbnN0IGN0YVRleHQgPSAoaXRlbUZvcm1GaWVsZHMuY3RhVGV4dD8udmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgIGNvbnN0IGN0YVVybCA9IChpdGVtRm9ybUZpZWxkcy5jdGFVcmw/LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICBjb25zdCBzdGF0dXMgPSBpdGVtRm9ybUZpZWxkcy5zdGF0dXM/LnZhbHVlIHx8ICdCcm91aWxsb24nO1xuICAgICAgXG4gICAgICAvLyBCdWlsZCBDVEEgb2JqZWN0IG9ubHkgaWYgYXQgbGVhc3Qgb25lIGZpZWxkIGlzIGZpbGxlZFxuICAgICAgY29uc3QgY3RhID0gKGN0YVRleHQgfHwgY3RhVXJsKSA/IHsgdGV4dDogY3RhVGV4dCwgdXJsOiBjdGFVcmwgfSA6IG51bGw7XG4gICAgICBcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRpdGxlLFxuICAgICAgICBzbHVnOiBzbHVnSW5wdXQgPyBub3JtYWxpemVJdGVtU2x1Z0lucHV0KHNsdWdJbnB1dCkgOiBub3JtYWxpemVJdGVtU2x1Z0lucHV0KHRpdGxlKSxcbiAgICAgICAgc3VtbWFyeSxcbiAgICAgICAgZXhjZXJwdDogc3VtbWFyeSxcbiAgICAgICAgY29udGVudCxcbiAgICAgICAgaW1hZ2UsXG4gICAgICAgIHN0YXR1cyxcbiAgICAgICAgLi4uKGN0YSAmJiB7IGN0YSB9KSxcbiAgICAgIH07XG4gICAgfTtcblxuICAgIGNvbnN0IHNldEZvcm1TYXZpbmdTdGF0ZSA9IChpc1NhdmluZykgPT4ge1xuICAgICAgaWYgKGl0ZW1Gb3JtU2F2ZSkge1xuICAgICAgICBpdGVtRm9ybVNhdmUuZGlzYWJsZWQgPSBpc1NhdmluZztcbiAgICAgICAgaXRlbUZvcm1TYXZlLnRleHRDb250ZW50ID0gaXNTYXZpbmcgPyAnRW5yZWdpc3RyZW1lbnRcdTIwMjYnIDogJ0VucmVnaXN0cmVyJztcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtRGVsZXRlQnV0dG9uICYmICFpc0NyZWF0aW5nSXRlbSAmJiBhY3RpdmVJdGVtSWQpIHtcbiAgICAgICAgaXRlbURlbGV0ZUJ1dHRvbi5kaXNhYmxlZCA9IGlzU2F2aW5nO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBmZXRjaENvbGxlY3Rpb25JdGVtcyA9IGFzeW5jIChjb2xsZWN0aW9uSWQpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvbnNBcGlCYXNlKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgIGAke2NvbGxlY3Rpb25zQXBpQmFzZX0vJHtlbmNvZGVVUklDb21wb25lbnQoY29sbGVjdGlvbklkKX0vaXRlbXNgLFxuICAgICAgICB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9LFxuICAgICAgKTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHBheWxvYWQubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxlcyBpdGVtcy4nKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICByZXR1cm4gQXJyYXkuaXNBcnJheShkYXRhLml0ZW1zKSA/IGRhdGEuaXRlbXMgOiBbXTtcbiAgICB9O1xuXG4gICAgY29uc3Qgc2V0QWN0aXZlQ29sbGVjdGlvbiA9IGFzeW5jIChjb2xsZWN0aW9uSWQpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvbklkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGFjdGl2ZUNvbGxlY3Rpb25JZCA9IGNvbGxlY3Rpb25JZDtcbiAgICAgIGFjdGl2ZUl0ZW1JZCA9IG51bGw7XG4gICAgICBpc0NyZWF0aW5nSXRlbSA9IGZhbHNlO1xuICAgICAgaXRlbVNsdWdNYW51YWxseUVkaXRlZCA9IGZhbHNlO1xuICAgICAgLy8gU3dpdGNoIHRvIGNvbGxlY3Rpb24gdmlld1xuICAgICAgc2hvd0NvbnRlbnRWaWV3KCdjb2xsZWN0aW9uJyk7XG4gICAgICB1cGRhdGVDb2xsZWN0aW9uSGVhZGVyKCk7XG4gICAgICBzeW5jQWRkQnV0dG9uU3RhdGUoKTtcbiAgICAgIHJlbmRlckNvbGxlY3Rpb25MaXN0KCk7XG4gICAgICBoaWRlSXRlbUZvcm0oKTtcbiAgICAgIGNvbGxlY3Rpb25JdGVtcyA9IFtdO1xuICAgICAgcmVuZGVySXRlbVRhYmxlKCk7XG4gICAgICB1cGRhdGVJdGVtc0VtcHR5TWVzc2FnZSgnQ2hhcmdlbWVudCBkZXMgaXRlbXNcdTIwMjYnKTtcbiAgICAgIGNvbGxlY3Rpb25JdGVtc0VtcHR5Py5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGl0ZW1UYWJsZVdyYXBwZXI/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgaWYgKCFjb2xsZWN0aW9uc0FwaUJhc2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29sbGVjdGlvbkl0ZW1zID0gYXdhaXQgZmV0Y2hDb2xsZWN0aW9uSXRlbXMoY29sbGVjdGlvbklkKTtcbiAgICAgICAgcmVuZGVySXRlbVRhYmxlKCk7XG4gICAgICAgIGlmICghY29sbGVjdGlvbkl0ZW1zLmxlbmd0aCkge1xuICAgICAgICAgIHVwZGF0ZUl0ZW1zRW1wdHlNZXNzYWdlKCk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbY29udGVudF0gaXRlbXMgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIGl0ZW1zLicpO1xuICAgICAgICBjb2xsZWN0aW9uSXRlbXMgPSBbXTtcbiAgICAgICAgcmVuZGVySXRlbVRhYmxlKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGNyZWF0ZUNvbGxlY3Rpb25JdGVtID0gYXN5bmMgKGNvbGxlY3Rpb25JZCwgcGF5bG9hZCkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uc0FwaUJhc2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTaXRlIGluY29ubnUuJyk7XG4gICAgICB9XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgICBgJHtjb2xsZWN0aW9uc0FwaUJhc2V9LyR7ZW5jb2RlVVJJQ29tcG9uZW50KGNvbGxlY3Rpb25JZCl9L2l0ZW1zYCxcbiAgICAgICAge1xuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICB9LFxuICAgICAgKTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGRhdGEubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBjclx1MDBFOWVyIGNldCBpdGVtLicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICB9O1xuXG4gICAgY29uc3QgdXBkYXRlQ29sbGVjdGlvbkl0ZW0gPSBhc3luYyAoY29sbGVjdGlvbklkLCBpdGVtSWQsIHBheWxvYWQpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvbnNBcGlCYXNlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignU2l0ZSBpbmNvbm51LicpO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgYCR7Y29sbGVjdGlvbnNBcGlCYXNlfS8ke2VuY29kZVVSSUNvbXBvbmVudChjb2xsZWN0aW9uSWQpfS9pdGVtcy8ke2VuY29kZVVSSUNvbXBvbmVudChpdGVtSWQpfWAsXG4gICAgICAgIHtcbiAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICB9LFxuICAgICAgKTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGRhdGEubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBzYXV2ZWdhcmRlciBjZXQgaXRlbS4nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGRlbGV0ZUNvbGxlY3Rpb25JdGVtID0gYXN5bmMgKGNvbGxlY3Rpb25JZCwgaXRlbUlkKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25zQXBpQmFzZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NpdGUgaW5jb25udS4nKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgIGAke2NvbGxlY3Rpb25zQXBpQmFzZX0vJHtlbmNvZGVVUklDb21wb25lbnQoY29sbGVjdGlvbklkKX0vaXRlbXMvJHtlbmNvZGVVUklDb21wb25lbnQoaXRlbUlkKX1gLFxuICAgICAgICB7IG1ldGhvZDogJ0RFTEVURScgfSxcbiAgICAgICk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihkYXRhLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgc3VwcHJpbWVyIGNldCBpdGVtLicpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBsb2FkQ29sbGVjdGlvbnMgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25zQXBpQmFzZSkge1xuICAgICAgICBjb2xsZWN0aW9uRW1wdHlTdGF0ZT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIGFjdGl2ZUNvbGxlY3Rpb25JZCA9IG51bGw7XG4gICAgICAgIGNvbGxlY3Rpb25JdGVtcyA9IFtdO1xuICAgICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICAgICAgdXBkYXRlQ29sbGVjdGlvbkhlYWRlcigpO1xuICAgICAgICBzeW5jQWRkQnV0dG9uU3RhdGUoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChjb2xsZWN0aW9uc0FwaUJhc2UsIHtcbiAgICAgICAgICBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIGNvbGxlY3Rpb25zLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gW10pO1xuICAgICAgICBjb2xsZWN0aW9ucyA9IEFycmF5LmlzQXJyYXkocGF5bG9hZCkgPyBwYXlsb2FkIDogW107XG4gICAgICAgIHJlbmRlckNvbGxlY3Rpb25MaXN0KCk7XG4gICAgICAgIGlmIChjb2xsZWN0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY29uc3QgZGVmYXVsdElkID0gY29sbGVjdGlvbnMuZmluZCgoZW50cnkpID0+IGVudHJ5LmlkID09PSBhY3RpdmVDb2xsZWN0aW9uSWQpPy5pZFxuICAgICAgICAgICAgfHwgY29sbGVjdGlvbnNbMF0uaWQ7XG4gICAgICAgICAgc2V0QWN0aXZlQ29sbGVjdGlvbihkZWZhdWx0SWQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFjdGl2ZUNvbGxlY3Rpb25JZCA9IG51bGw7XG4gICAgICAgICAgY29sbGVjdGlvbkl0ZW1zID0gW107XG4gICAgICAgICAgdXBkYXRlQ29sbGVjdGlvbkhlYWRlcigpO1xuICAgICAgICAgIHN5bmNBZGRCdXR0b25TdGF0ZSgpO1xuICAgICAgICAgIHJlbmRlckl0ZW1UYWJsZSgpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2NvbnRlbnRdIGxvYWQgY29sbGVjdGlvbnMnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgY2hhcmdlciBsZXMgY29sbGVjdGlvbnMuJyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGl0ZW1BZGRCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgaWYgKCFhY3RpdmVDb2xsZWN0aW9uSWQpIHtcbiAgICAgICAgc2hvd1RvYXN0KCdTXHUwMEU5bGVjdGlvbm5leiBkXHUyMDE5YWJvcmQgdW5lIGNvbGxlY3Rpb24uJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHByZXBhcmVOZXdJdGVtRm9ybSgpO1xuICAgICAgcmVuZGVySXRlbVRhYmxlKCk7XG4gICAgfSk7XG5cbiAgICBpdGVtRm9ybUNhbmNlbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoaXNDcmVhdGluZ0l0ZW0pIHtcbiAgICAgICAgaXNDcmVhdGluZ0l0ZW0gPSBmYWxzZTtcbiAgICAgICAgYWN0aXZlSXRlbUlkID0gbnVsbDtcbiAgICAgICAgaGlkZUl0ZW1Gb3JtKCk7XG4gICAgICAgIHJlbmRlckl0ZW1UYWJsZSgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoYWN0aXZlSXRlbUlkKSB7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSBjb2xsZWN0aW9uSXRlbXMuZmluZCgoZW50cnkpID0+IGVudHJ5LmlkID09PSBhY3RpdmVJdGVtSWQpO1xuICAgICAgICBwb3B1bGF0ZUl0ZW1Gb3JtKGl0ZW0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaGlkZUl0ZW1Gb3JtKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpdGVtRm9ybUZpZWxkcy5zdGF0dXM/LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgICAgIHN5bmNJdGVtU3RhdHVzQmFkZ2UoaXRlbUZvcm1GaWVsZHMuc3RhdHVzLnZhbHVlKTtcbiAgICB9KTtcblxuICAgIGl0ZW1Gb3JtRmllbGRzLnRpdGxlPy5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICAgIGlmICghaXNDcmVhdGluZ0l0ZW0gfHwgIWl0ZW1Gb3JtRmllbGRzLnNsdWcgfHwgaXRlbVNsdWdNYW51YWxseUVkaXRlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpdGVtRm9ybUZpZWxkcy5zbHVnLnZhbHVlID0gbm9ybWFsaXplSXRlbVNsdWdJbnB1dChpdGVtRm9ybUZpZWxkcy50aXRsZS52YWx1ZSk7XG4gICAgfSk7XG5cbiAgICBpdGVtRm9ybUZpZWxkcy5zbHVnPy5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICAgIGlmICghaXNDcmVhdGluZ0l0ZW0pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaXRlbVNsdWdNYW51YWxseUVkaXRlZCA9IHRydWU7XG4gICAgfSk7XG5cbiAgICBpdGVtRm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKCFhY3RpdmVDb2xsZWN0aW9uSWQpIHtcbiAgICAgICAgc2hvd1RvYXN0KCdTXHUwMEU5bGVjdGlvbm5leiB1bmUgY29sbGVjdGlvbi4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgdmFsdWVzID0gY29sbGVjdEl0ZW1Gb3JtVmFsdWVzKCk7XG4gICAgICBpZiAoIXZhbHVlcy50aXRsZSkge1xuICAgICAgICBzaG93VG9hc3QoJ0xlIHRpdHJlIGVzdCByZXF1aXMuJyk7XG4gICAgICAgIGl0ZW1Gb3JtRmllbGRzLnRpdGxlPy5mb2N1cygpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZXRGb3JtU2F2aW5nU3RhdGUodHJ1ZSk7XG4gICAgICB0cnkge1xuICAgICAgICBsZXQgc2F2ZWRJdGVtO1xuICAgICAgICBpZiAoaXNDcmVhdGluZ0l0ZW0gfHwgIWFjdGl2ZUl0ZW1JZCkge1xuICAgICAgICAgIHNhdmVkSXRlbSA9IGF3YWl0IGNyZWF0ZUNvbGxlY3Rpb25JdGVtKGFjdGl2ZUNvbGxlY3Rpb25JZCwgdmFsdWVzKTtcbiAgICAgICAgICBjb2xsZWN0aW9uSXRlbXMgPSBbLi4uY29sbGVjdGlvbkl0ZW1zLCBzYXZlZEl0ZW1dO1xuICAgICAgICAgIHNob3dUb2FzdCgnSXRlbSBjclx1MDBFOVx1MDBFOScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNhdmVkSXRlbSA9IGF3YWl0IHVwZGF0ZUNvbGxlY3Rpb25JdGVtKGFjdGl2ZUNvbGxlY3Rpb25JZCwgYWN0aXZlSXRlbUlkLCB2YWx1ZXMpO1xuICAgICAgICAgIGNvbGxlY3Rpb25JdGVtcyA9IGNvbGxlY3Rpb25JdGVtcy5tYXAoKGl0ZW0pID0+XG4gICAgICAgICAgICBpdGVtLmlkID09PSBzYXZlZEl0ZW0uaWQgPyBzYXZlZEl0ZW0gOiBpdGVtLFxuICAgICAgICAgICk7XG4gICAgICAgICAgc2hvd1RvYXN0KCdJdGVtIG1pcyBcdTAwRTAgam91cicpO1xuICAgICAgICB9XG4gICAgICAgIGlzQ3JlYXRpbmdJdGVtID0gZmFsc2U7XG4gICAgICAgIGFjdGl2ZUl0ZW1JZCA9IHNhdmVkSXRlbS5pZDtcbiAgICAgICAgcG9wdWxhdGVJdGVtRm9ybShzYXZlZEl0ZW0pO1xuICAgICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbY29udGVudF0gc2F2ZSBpdGVtIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBzYXV2ZWdhcmRlciBjZXQgaXRlbS4nKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldEZvcm1TYXZpbmdTdGF0ZShmYWxzZSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBjb25zdCBjbG9zZURlbGV0ZU1vZGFsID0gKCkgPT4ge1xuICAgICAgaWYgKCFpdGVtRGVsZXRlTW9kYWwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaXRlbURlbGV0ZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgaXRlbURlbGV0ZU1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2ZsZXgnKTtcbiAgICAgIHBlbmRpbmdEZWxldGVJdGVtSWQgPSBudWxsO1xuICAgIH07XG5cbiAgICBjb25zdCBvcGVuRGVsZXRlTW9kYWwgPSAoKSA9PiB7XG4gICAgICBpZiAoIWl0ZW1EZWxldGVNb2RhbCB8fCAhYWN0aXZlSXRlbUlkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHBlbmRpbmdEZWxldGVJdGVtSWQgPSBhY3RpdmVJdGVtSWQ7XG4gICAgICBpdGVtRGVsZXRlTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBpdGVtRGVsZXRlTW9kYWwuY2xhc3NMaXN0LmFkZCgnZmxleCcpO1xuICAgIH07XG5cbiAgICBpdGVtRGVsZXRlQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmICghYWN0aXZlSXRlbUlkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIG9wZW5EZWxldGVNb2RhbCgpO1xuICAgIH0pO1xuXG4gICAgaXRlbURlbGV0ZUNhbmNlbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjbG9zZURlbGV0ZU1vZGFsKCk7XG4gICAgfSk7XG5cbiAgICBpdGVtRGVsZXRlTW9kYWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSBpdGVtRGVsZXRlTW9kYWwpIHtcbiAgICAgICAgY2xvc2VEZWxldGVNb2RhbCgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaXRlbURlbGV0ZUNvbmZpcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFwZW5kaW5nRGVsZXRlSXRlbUlkIHx8ICFhY3RpdmVDb2xsZWN0aW9uSWQpIHtcbiAgICAgICAgY2xvc2VEZWxldGVNb2RhbCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpdGVtRGVsZXRlQ29uZmlybS5kaXNhYmxlZCA9IHRydWU7XG4gICAgICBpdGVtRGVsZXRlQ29uZmlybS50ZXh0Q29udGVudCA9ICdTdXBwcmVzc2lvblx1MjAyNic7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBkZWxldGVDb2xsZWN0aW9uSXRlbShhY3RpdmVDb2xsZWN0aW9uSWQsIHBlbmRpbmdEZWxldGVJdGVtSWQpO1xuICAgICAgICBjb2xsZWN0aW9uSXRlbXMgPSBjb2xsZWN0aW9uSXRlbXMuZmlsdGVyKChpdGVtKSA9PiBpdGVtLmlkICE9PSBwZW5kaW5nRGVsZXRlSXRlbUlkKTtcbiAgICAgICAgaWYgKGFjdGl2ZUl0ZW1JZCA9PT0gcGVuZGluZ0RlbGV0ZUl0ZW1JZCkge1xuICAgICAgICAgIGFjdGl2ZUl0ZW1JZCA9IG51bGw7XG4gICAgICAgICAgaGlkZUl0ZW1Gb3JtKCk7XG4gICAgICAgIH1cbiAgICAgICAgc2hvd1RvYXN0KCdJdGVtIHN1cHByaW1cdTAwRTknKTtcbiAgICAgICAgcmVuZGVySXRlbVRhYmxlKCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2NvbnRlbnRdIGRlbGV0ZSBpdGVtIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBzdXBwcmltZXIgY2V0IGl0ZW0uJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpdGVtRGVsZXRlQ29uZmlybS5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICBpdGVtRGVsZXRlQ29uZmlybS50ZXh0Q29udGVudCA9ICdTdXBwcmltZXInO1xuICAgICAgICBjbG9zZURlbGV0ZU1vZGFsKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB1cGRhdGVDb2xsZWN0aW9uSGVhZGVyKCk7XG4gICAgc3luY0FkZEJ1dHRvblN0YXRlKCk7XG4gICAgbG9hZENvbGxlY3Rpb25zKCk7XG4gIH1cblxuICBmdW5jdGlvbiBpbml0RGVwbG95V29ya3NwYWNlKCkge1xuICAgIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktZm9ybV0nKTtcbiAgICBpZiAoIWZvcm0pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcHJvdG9jb2xTZWxlY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktcHJvdG9jb2xdJyk7XG4gICAgY29uc3QgaG9zdElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LWhvc3RdJyk7XG4gICAgY29uc3QgcG9ydElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LXBvcnRdJyk7XG4gICAgY29uc3QgdXNlcklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LXVzZXJdJyk7XG4gICAgY29uc3QgcGFzc3dvcmRJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1wYXNzd29yZF0nKTtcbiAgICBjb25zdCBzaG93UGFzc3dvcmRUb2dnbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktc2hvdy1wYXNzd29yZF0nKTtcbiAgICBjb25zdCByZW1vdGVQYXRoSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktcmVtb3RlLXBhdGhdJyk7XG4gICAgY29uc3QgZmVlZGJhY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktZmVlZGJhY2tdJyk7XG4gICAgY29uc3Qgc2F2ZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1zYXZlXScpO1xuICAgIGNvbnN0IHRlc3RCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktdGVzdF0nKTtcbiAgICBjb25zdCBkZXBsb3lCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktdHJpZ2dlcl0nKTtcbiAgICBjb25zdCBoaXN0b3J5TGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1oaXN0b3J5XScpO1xuICAgIGNvbnN0IGxvZ0JveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1sb2ddJyk7XG5cbiAgICBjb25zdCBzYWZlU2l0ZVNsdWcgPSBzdHJpcExlYWRpbmdTbGFzaChcbiAgICAgIHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJycsXG4gICAgKTtcbiAgICBjb25zdCBkZXBsb3lBcGlCYXNlID0gc2FmZVNpdGVTbHVnXG4gICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Zyl9L2RlcGxveS1jb25maWdgXG4gICAgICA6IG51bGw7XG4gICAgY29uc3QgZGVwbG95UnVuQXBpID0gc2FmZVNpdGVTbHVnXG4gICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Zyl9L2RlcGxveWBcbiAgICAgIDogbnVsbDtcbiAgICBjb25zdCBkZXBsb3lMb2dBcGkgPSBzYWZlU2l0ZVNsdWdcbiAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnKX0vZGVwbG95LWxvZ2BcbiAgICAgIDogbnVsbDtcblxuICAgIGxldCBoYXNQYXNzd29yZCA9IGZhbHNlO1xuICAgIGxldCBidXN5QWN0aW9uID0gbnVsbDtcblxuICAgIGNvbnN0IHNhbml0aXplUmVtb3RlUGF0aCA9ICh2YWx1ZSkgPT4ge1xuICAgICAgY29uc3QgdHJpbW1lZCA9ICh2YWx1ZSB8fCAnJykudHJpbSgpO1xuICAgICAgaWYgKCF0cmltbWVkKSB7XG4gICAgICAgIHJldHVybiAnL3d3dyc7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJpbW1lZC5zdGFydHNXaXRoKCcvJykgPyB0cmltbWVkIDogYC8ke3RyaW1tZWR9YDtcbiAgICB9O1xuXG4gICAgY29uc3Qgc2V0RmVlZGJhY2sgPSAobWVzc2FnZSwgdG9uZSA9ICdtdXRlZCcpID0+IHtcbiAgICAgIGlmICghZmVlZGJhY2spIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgYmFzZUNsYXNzID0gJ2lubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiByb3VuZGVkLWZ1bGwgcHgtMyBweS0xIHRleHQteHMgZm9udC1zZW1pYm9sZCc7XG4gICAgICBjb25zdCB0b25lQ2xhc3MgPVxuICAgICAgICB0b25lID09PSAnc3VjY2VzcydcbiAgICAgICAgICA/ICdiZy1lbWVyYWxkLTUwIHRleHQtZW1lcmFsZC03MDAgYm9yZGVyIGJvcmRlci1lbWVyYWxkLTEwMCdcbiAgICAgICAgICA6IHRvbmUgPT09ICdlcnJvcidcbiAgICAgICAgICAgID8gJ2JnLXJvc2UtNTAgdGV4dC1yb3NlLTcwMCBib3JkZXIgYm9yZGVyLXJvc2UtMTAwJ1xuICAgICAgICAgICAgOiAnYmctc2xhdGUtNTAgdGV4dC1zbGF0ZS02MDAgYm9yZGVyIGJvcmRlci1zbGF0ZS0xMDAnO1xuICAgICAgaWYgKCFtZXNzYWdlKSB7XG4gICAgICAgIGZlZWRiYWNrLnRleHRDb250ZW50ID0gJyc7XG4gICAgICAgIGZlZWRiYWNrLmNsYXNzTmFtZSA9ICd0ZXh0LXNtIHRleHQtc2xhdGUtNTAwJztcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgaWNvbiA9IHRvbmUgPT09ICdzdWNjZXNzJyA/ICdcdTI3MDUnIDogdG9uZSA9PT0gJ2Vycm9yJyA/ICdcdTI3NEMnIDogJ1x1MjEzOVx1RkUwRic7XG4gICAgICBmZWVkYmFjay5pbm5lckhUTUwgPSBgPHNwYW4gY2xhc3M9XCIke2Jhc2VDbGFzc30gJHt0b25lQ2xhc3N9XCI+JHtpY29ufTxzcGFuPiR7bWVzc2FnZX08L3NwYW4+PC9zcGFuPmA7XG4gICAgICBmZWVkYmFjay5jbGFzc05hbWUgPSAndGV4dC1zbSc7XG4gICAgfTtcblxuICAgIGNvbnN0IHNldEJ1c3kgPSAoYWN0aW9uID0gbnVsbCkgPT4ge1xuICAgICAgYnVzeUFjdGlvbiA9IGFjdGlvbjtcbiAgICAgIGNvbnN0IGRpc2FibGUgPSBCb29sZWFuKGFjdGlvbik7XG4gICAgICBjb25zdCBzcGlubmVyID1cbiAgICAgICAgJzxzdmcgY2xhc3M9XCJoLTQgdy00IGFuaW1hdGUtc3BpbiB0ZXh0LXdoaXRlXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PGNpcmNsZSBjbGFzcz1cIm9wYWNpdHktMjVcIiBjeD1cIjEyXCIgY3k9XCIxMlwiIHI9XCIxMFwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjRcIj48L2NpcmNsZT48cGF0aCBjbGFzcz1cIm9wYWNpdHktNzVcIiBmaWxsPVwiY3VycmVudENvbG9yXCIgZD1cIk00IDEyYTggOCAwIDAxOC04djRhNCA0IDAgMDAtNCA0SDR6XCI+PC9wYXRoPjwvc3ZnPic7XG4gICAgICBpZiAoc2F2ZUJ1dHRvbikge1xuICAgICAgICBzYXZlQnV0dG9uLmRpc2FibGVkID0gZGlzYWJsZTtcbiAgICAgICAgc2F2ZUJ1dHRvbi5pbm5lckhUTUwgPVxuICAgICAgICAgIGFjdGlvbiA9PT0gJ3NhdmUnXG4gICAgICAgICAgICA/IGA8c3BhbiBjbGFzcz1cImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPiR7c3Bpbm5lcn08c3Bhbj5FbnJlZ2lzdHJlbWVudFx1MjAyNjwvc3Bhbj48L3NwYW4+YFxuICAgICAgICAgICAgOiAnRW5yZWdpc3RyZXInO1xuICAgICAgfVxuICAgICAgaWYgKHRlc3RCdXR0b24pIHtcbiAgICAgICAgdGVzdEJ1dHRvbi5kaXNhYmxlZCA9IGRpc2FibGU7XG4gICAgICAgIHRlc3RCdXR0b24uaW5uZXJIVE1MID1cbiAgICAgICAgICBhY3Rpb24gPT09ICd0ZXN0J1xuICAgICAgICAgICAgPyBgPHNwYW4gY2xhc3M9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj48c3BhbiBjbGFzcz1cImgtNCB3LTQgYW5pbWF0ZS1zcGluIHJvdW5kZWQtZnVsbCBib3JkZXItMiBib3JkZXItc2xhdGUtMjAwIGJvcmRlci10LXNsYXRlLTYwMFwiPjwvc3Bhbj48c3Bhbj5UZXN0IGVuIGNvdXJzXHUyMDI2PC9zcGFuPjwvc3Bhbj5gXG4gICAgICAgICAgICA6ICdUZXN0ZXIgbGEgY29ubmV4aW9uJztcbiAgICAgIH1cbiAgICAgIGlmIChkZXBsb3lCdXR0b24pIHtcbiAgICAgICAgZGVwbG95QnV0dG9uLmRpc2FibGVkID0gZGlzYWJsZSAmJiBhY3Rpb24gIT09IG51bGw7XG4gICAgICAgIGRlcGxveUJ1dHRvbi5pbm5lckhUTUwgPVxuICAgICAgICAgIGFjdGlvbiA9PT0gJ2RlcGxveSdcbiAgICAgICAgICAgID8gYDxzcGFuIGNsYXNzPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+PHNwYW4gY2xhc3M9XCJoLTQgdy00IGFuaW1hdGUtc3BpbiByb3VuZGVkLWZ1bGwgYm9yZGVyLTIgYm9yZGVyLXdoaXRlLzYwIGJvcmRlci10LXdoaXRlXCI+PC9zcGFuPjxzcGFuPkRcdTAwRTlwbG9pZW1lbnRcdTIwMjY8L3NwYW4+PC9zcGFuPmBcbiAgICAgICAgICAgIDogJ0RcdTAwRTlwbG95ZXIgbWFpbnRlbmFudCc7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHBvcHVsYXRlRm9ybSA9IChjb25maWcpID0+IHtcbiAgICAgIHByb3RvY29sU2VsZWN0ICYmIChwcm90b2NvbFNlbGVjdC52YWx1ZSA9IGNvbmZpZy5wcm90b2NvbCB8fCAnc2Z0cCcpO1xuICAgICAgaG9zdElucHV0ICYmIChob3N0SW5wdXQudmFsdWUgPSBjb25maWcuaG9zdCB8fCAnJyk7XG4gICAgICBwb3J0SW5wdXQgJiYgKHBvcnRJbnB1dC52YWx1ZSA9IGNvbmZpZy5wb3J0IHx8ICcnKTtcbiAgICAgIHVzZXJJbnB1dCAmJiAodXNlcklucHV0LnZhbHVlID0gY29uZmlnLnVzZXIgfHwgJycpO1xuICAgICAgcmVtb3RlUGF0aElucHV0ICYmIChyZW1vdGVQYXRoSW5wdXQudmFsdWUgPSBjb25maWcucmVtb3RlUGF0aCB8fCAnL3d3dycpO1xuICAgICAgaGFzUGFzc3dvcmQgPSBCb29sZWFuKGNvbmZpZy5oYXNQYXNzd29yZCk7XG4gICAgICBpZiAocGFzc3dvcmRJbnB1dCkge1xuICAgICAgICBwYXNzd29yZElucHV0LnZhbHVlID0gJyc7XG4gICAgICAgIHBhc3N3b3JkSW5wdXQucGxhY2Vob2xkZXIgPSBoYXNQYXNzd29yZCA/ICdOb24gYWZmaWNoXHUwMEU5JyA6ICdNb3QgZGUgcGFzc2UnO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCByZW5kZXJIaXN0b3J5ID0gKGVudHJpZXMgPSBbXSkgPT4ge1xuICAgICAgaWYgKCFoaXN0b3J5TGlzdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBoaXN0b3J5TGlzdC5pbm5lckhUTUwgPSAnJztcbiAgICAgIGlmICghZW50cmllcy5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgICBsaS5jbGFzc05hbWUgPSAndGV4dC1zbGF0ZS01MDAnO1xuICAgICAgICBsaS50ZXh0Q29udGVudCA9ICdBdWN1biBkXHUwMEU5cGxvaWVtZW50IHBvdXIgbGUgbW9tZW50Lic7XG4gICAgICAgIGhpc3RvcnlMaXN0LmFwcGVuZENoaWxkKGxpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZW50cmllcy5mb3JFYWNoKChlbnRyeSkgPT4ge1xuICAgICAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICAgIGxpLmNsYXNzTmFtZSA9XG4gICAgICAgICAgJ2ZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBnYXAtMiByb3VuZGVkLXhsIGJvcmRlciBib3JkZXItc2xhdGUtMjAwIHB4LTMgcHktMic7XG4gICAgICAgIGNvbnN0IHN0YXR1c0JhZGdlID1cbiAgICAgICAgICBlbnRyeS5zdGF0dXMgPT09ICdzdWNjZXNzJ1xuICAgICAgICAgICAgPyAnPHNwYW4gY2xhc3M9XCJyb3VuZGVkLWZ1bGwgYmctZW1lcmFsZC01MCBweC0yIHB5LTAuNSB0ZXh0LVsxMXB4XSBmb250LXNlbWlib2xkIHRleHQtZW1lcmFsZC03MDBcIj5TdWNjXHUwMEU4czwvc3Bhbj4nXG4gICAgICAgICAgICA6ICc8c3BhbiBjbGFzcz1cInJvdW5kZWQtZnVsbCBiZy1yb3NlLTUwIHB4LTIgcHktMC41IHRleHQtWzExcHhdIGZvbnQtc2VtaWJvbGQgdGV4dC1yb3NlLTcwMFwiPlx1MDBDOWNoZWM8L3NwYW4+JztcbiAgICAgICAgY29uc3QgZGF0ZSA9IGVudHJ5LmZpbmlzaGVkQXQgfHwgZW50cnkuc3RhcnRlZEF0IHx8ICcnO1xuICAgICAgICBjb25zdCBkdXJhdGlvbiA9XG4gICAgICAgICAgZW50cnkuZHVyYXRpb25NcyAmJiBOdW1iZXIoZW50cnkuZHVyYXRpb25NcykgPj0gMFxuICAgICAgICAgICAgPyBgJHtNYXRoLnJvdW5kKE51bWJlcihlbnRyeS5kdXJhdGlvbk1zKSAvIDEwMDApfXNgXG4gICAgICAgICAgICA6ICcnO1xuICAgICAgICBsaS5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInNwYWNlLXktMVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+JHtzdGF0dXNCYWRnZX08c3BhbiBjbGFzcz1cInRleHQteHMgdGV4dC1zbGF0ZS01MDBcIj4ke2RhdGV9PC9zcGFuPjwvZGl2PlxuICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXNtIHRleHQtc2xhdGUtODAwXCI+JHtlbnRyeS5tZXNzYWdlIHx8ICcnfTwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC14cyB0ZXh0LXNsYXRlLTUwMFwiPiR7ZHVyYXRpb259PC9kaXY+XG4gICAgICAgIGA7XG4gICAgICAgIGxpLmRhdGFzZXQuZGVwbG95SWQgPSBlbnRyeS5pZCB8fCAnJztcbiAgICAgICAgbGkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgaWYgKGVudHJ5LmxvZ3MgJiYgbG9nQm94KSB7XG4gICAgICAgICAgICBsb2dCb3gudGV4dENvbnRlbnQgPSBlbnRyeS5sb2dzLmpvaW4oJ1xcbicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGhpc3RvcnlMaXN0LmFwcGVuZENoaWxkKGxpKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCByZW5kZXJMb2dzID0gKGxpbmVzID0gW10pID0+IHtcbiAgICAgIGlmICghbG9nQm94KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGxvZ0JveC50ZXh0Q29udGVudCA9IGxpbmVzLmxlbmd0aCA/IGxpbmVzLmpvaW4oJ1xcbicpIDogJ0F1Y3VuIGxvZyBwb3VyIGxlIG1vbWVudC4nO1xuICAgIH07XG5cbiAgICBjb25zdCBmZXRjaEhpc3RvcnkgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWRlcGxveUxvZ0FwaSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGRlcGxveUxvZ0FwaSwgeyBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDQpIHtcbiAgICAgICAgICAgIHJlbmRlckhpc3RvcnkoW10pO1xuICAgICAgICAgICAgcmVuZGVyTG9ncyhbJ0FQSSBkXHUwMEU5cGxvaWVtZW50IGluZGlzcG9uaWJsZSAocmVkXHUwMEU5bWFycmUgbGUgc2VydmV1cikuJ10pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ltcG9zc2libGUgZGUgY2hhcmdlciBsXHUyMDE5aGlzdG9yaXF1ZS4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICBjb25zdCBlbnRyaWVzID0gQXJyYXkuaXNBcnJheShwYXlsb2FkLmVudHJpZXMpID8gcGF5bG9hZC5lbnRyaWVzIDogW107XG4gICAgICAgIHJlbmRlckhpc3RvcnkoZW50cmllcyk7XG4gICAgICAgIGlmIChlbnRyaWVzWzBdPy5sb2dzKSB7XG4gICAgICAgICAgcmVuZGVyTG9ncyhlbnRyaWVzWzBdLmxvZ3MpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2RlcGxveV0gaGlzdG9yeSBmYWlsZWQnLCBlcnIpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBmZXRjaENvbmZpZyA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghZGVwbG95QXBpQmFzZSkge1xuICAgICAgICBzZXRGZWVkYmFjaygnQXVjdW4gc2l0ZSBhY3RpZiBzXHUwMEU5bGVjdGlvbm5cdTAwRTkuJywgJ2Vycm9yJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNldEJ1c3koJ2xvYWQnKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goZGVwbG95QXBpQmFzZSwgeyBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSk7XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgIHBvcHVsYXRlRm9ybShwYXlsb2FkIHx8IHt9KTtcbiAgICAgICAgICBzZXRGZWVkYmFjaygnQ29uZmlndXJhdGlvbiBjaGFyZ1x1MDBFOWUuJywgJ211dGVkJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcG9wdWxhdGVGb3JtKHBheWxvYWQgfHwge30pO1xuICAgICAgICAgIHNldEZlZWRiYWNrKHBheWxvYWQubWVzc2FnZSB8fCAnQ29uZmlndXJhdGlvbiBwYXIgZFx1MDBFOWZhdXQgY2hhcmdcdTAwRTllLicsICdtdXRlZCcpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2RlcGxveV0gbG9hZCBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzZXRGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZHUgY2hhcmdlbWVudC4nLCAnZXJyb3InKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldEJ1c3kobnVsbCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGJ1aWxkUGF5bG9hZCA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgIHByb3RvY29sOiBwcm90b2NvbFNlbGVjdD8udmFsdWUgfHwgJ3NmdHAnLFxuICAgICAgICBob3N0OiBob3N0SW5wdXQ/LnZhbHVlLnRyaW0oKSB8fCAnJyxcbiAgICAgICAgcG9ydDogTnVtYmVyKHBvcnRJbnB1dD8udmFsdWUpIHx8IHVuZGVmaW5lZCxcbiAgICAgICAgdXNlcjogdXNlcklucHV0Py52YWx1ZS50cmltKCkgfHwgJycsXG4gICAgICAgIHJlbW90ZVBhdGg6IHNhbml0aXplUmVtb3RlUGF0aChyZW1vdGVQYXRoSW5wdXQ/LnZhbHVlIHx8ICcvd3d3JyksXG4gICAgICB9O1xuICAgICAgY29uc3QgcHdkID0gcGFzc3dvcmRJbnB1dD8udmFsdWUgfHwgJyc7XG4gICAgICBpZiAocHdkLnRyaW0oKS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHBheWxvYWQucGFzc3dvcmQgPSBwd2Q7XG4gICAgICB9XG4gICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICB9O1xuXG4gICAgZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoIWRlcGxveUFwaUJhc2UpIHtcbiAgICAgICAgc2V0RmVlZGJhY2soJ0F1Y3VuIHNpdGUgYWN0aWYgc1x1MDBFOWxlY3Rpb25uXHUwMEU5LicsICdlcnJvcicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBwYXlsb2FkID0gYnVpbGRQYXlsb2FkKCk7XG4gICAgICBzZXRCdXN5KCdzYXZlJyk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGRlcGxveUFwaUJhc2UsIHtcbiAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnN0IGVycm9yUGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JQYXlsb2FkLm1lc3NhZ2UgfHwgJ1NhdXZlZ2FyZGUgaW1wb3NzaWJsZS4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzYXZlZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgcG9wdWxhdGVGb3JtKHNhdmVkIHx8IHt9KTtcbiAgICAgICAgc2V0RmVlZGJhY2soJ0NvbmZpZ3VyYXRpb24gZW5yZWdpc3RyXHUwMEU5ZS4nLCAnc3VjY2VzcycpO1xuICAgICAgICBzaG93VG9hc3QoJ0NvbmZpZ3VyYXRpb24gZFx1MDBFOXBsb2llbWVudCBzYXV2ZWdhcmRcdTAwRTllJyk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2RlcGxveV0gc2F2ZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzZXRGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZGUgbGEgc2F1dmVnYXJkZS4nLCAnZXJyb3InKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldEJ1c3kobnVsbCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0ZXN0QnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghZGVwbG95QXBpQmFzZSkge1xuICAgICAgICBzZXRGZWVkYmFjaygnQXVjdW4gc2l0ZSBhY3RpZiBzXHUwMEU5bGVjdGlvbm5cdTAwRTkuJywgJ2Vycm9yJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHBheWxvYWQgPSBidWlsZFBheWxvYWQoKTtcbiAgICAgIGlmICghcGF5bG9hZC5ob3N0IHx8ICFwYXlsb2FkLnVzZXIgfHwgIXBheWxvYWQucmVtb3RlUGF0aCkge1xuICAgICAgICBzZXRGZWVkYmFjaygnUmVtcGxpc3NleiBsZXMgY2hhbXBzIHJlcXVpcyBhdmFudCBkZSB0ZXN0ZXIuJywgJ2Vycm9yJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNldEJ1c3koJ3Rlc3QnKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7ZGVwbG95QXBpQmFzZX0vdGVzdGAsIHtcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vayB8fCByZXN1bHQuc3VjY2VzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBzZXRGZWVkYmFjayhyZXN1bHQubWVzc2FnZSB8fCAnVGVzdCBkZSBjb25uZXhpb24gXHUwMEU5Y2hvdVx1MDBFOS4nLCAnZXJyb3InKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc2V0RmVlZGJhY2socmVzdWx0Lm1lc3NhZ2UgfHwgJ0Nvbm5leGlvbiBPSy4nLCAnc3VjY2VzcycpO1xuICAgICAgICBzaG93VG9hc3QoJ1Rlc3QgZGUgY29ubmV4aW9uIHJcdTAwRTl1c3NpJyk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2RlcGxveV0gdGVzdCBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzZXRGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnVGVzdCBkZSBjb25uZXhpb24gXHUwMEU5Y2hvdVx1MDBFOS4nLCAnZXJyb3InKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldEJ1c3kobnVsbCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBkZXBsb3lCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFkZXBsb3lSdW5BcGkpIHtcbiAgICAgICAgc2V0RmVlZGJhY2soJ0F1Y3VuIHNpdGUgYWN0aWYgc1x1MDBFOWxlY3Rpb25uXHUwMEU5LicsICdlcnJvcicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZXRCdXN5KCdkZXBsb3knKTtcbiAgICAgIHJlbmRlckxvZ3MoWydEXHUwMEU5cGxvaWVtZW50IGVuIGNvdXJzXHUyMDI2J10pO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChkZXBsb3lSdW5BcGksIHtcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShidWlsZFBheWxvYWQoKSksXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDQpIHtcbiAgICAgICAgICAgIHNldEZlZWRiYWNrKCdBUEkgZFx1MDBFOXBsb2llbWVudCBpbmRpc3BvbmlibGUgKHJlZFx1MDBFOW1hcnJlIGxlIHNlcnZldXIpLicsICdlcnJvcicpO1xuICAgICAgICAgICAgcmVuZGVyTG9ncyhbJ0FQSSBkXHUwMEU5cGxvaWVtZW50IGluZGlzcG9uaWJsZSAocmVkXHUwMEU5bWFycmUgbGUgc2VydmV1cikuJ10pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZW5kZXJMb2dzKHJlc3VsdC5sb2dzIHx8IFtdKTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzdWx0Lm1lc3NhZ2UgfHwgJ0RcdTAwRTlwbG9pZW1lbnQgXHUwMEU5Y2hvdVx1MDBFOS4nKTtcbiAgICAgICAgfVxuICAgICAgICByZW5kZXJMb2dzKHJlc3VsdC5sb2dzIHx8IFtdKTtcbiAgICAgICAgYXdhaXQgZmV0Y2hIaXN0b3J5KCk7XG4gICAgICAgIHNob3dUb2FzdCgnRFx1MDBFOXBsb2llbWVudCB0ZXJtaW5cdTAwRTknKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZGVwbG95XSBydW4gZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2V0RmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0RcdTAwRTlwbG9pZW1lbnQgXHUwMEU5Y2hvdVx1MDBFOS4nLCAnZXJyb3InKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldEJ1c3kobnVsbCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBzaG93UGFzc3dvcmRUb2dnbGU/LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgICAgIGlmICghcGFzc3dvcmRJbnB1dCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwYXNzd29yZElucHV0LnR5cGUgPSBzaG93UGFzc3dvcmRUb2dnbGUuY2hlY2tlZCA/ICd0ZXh0JyA6ICdwYXNzd29yZCc7XG4gICAgfSk7XG5cbiAgICBmZXRjaENvbmZpZygpO1xuICAgIGZldGNoSGlzdG9yeSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gaW5pdFNldHRpbmdzV29ya3NwYWNlKCkge1xuICAgIGNvbnN0IHRhYkJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1zZXR0aW5ncy10YWJdJyk7XG4gICAgY29uc3QgdGFiUGFuZWxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtc2V0dGluZ3MtcGFuZWxdJyk7XG4gICAgY29uc3QgZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFkbWluLXBhc3N3b3JkLWZvcm1dJyk7XG4gICAgY29uc3Qgc2l0ZUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLWNvbmZpZy1mb3JtXScpO1xuICAgIGNvbnN0IHNpdGVGZWVkYmFjayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtY29uZmlnLWZlZWRiYWNrXScpO1xuICAgIGNvbnN0IHRoZW1lRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLWZvcm1dJyk7XG4gICAgY29uc3Qgc3dpdGNoVGFiID0gKG5hbWUpID0+IHtcbiAgICAgIHRhYkJ1dHRvbnMuZm9yRWFjaCgoYnRuKSA9PiB7XG4gICAgICAgIGNvbnN0IGlzQWN0aXZlID0gYnRuLmRhdGFzZXQuc2V0dGluZ3NUYWIgPT09IG5hbWU7XG4gICAgICAgIGJ0bi5zZXRBdHRyaWJ1dGUoJ2FyaWEtc2VsZWN0ZWQnLCBpc0FjdGl2ZSA/ICd0cnVlJyA6ICdmYWxzZScpO1xuICAgICAgICBidG4uY2xhc3NMaXN0LnRvZ2dsZSgnYmctWyM5QzZCRkZdJywgaXNBY3RpdmUpO1xuICAgICAgICBidG4uY2xhc3NMaXN0LnRvZ2dsZSgndGV4dC13aGl0ZScsIGlzQWN0aXZlKTtcbiAgICAgIH0pO1xuICAgICAgdGFiUGFuZWxzLmZvckVhY2goKHBhbmVsKSA9PiB7XG4gICAgICAgIHBhbmVsLmNsYXNzTGlzdC50b2dnbGUoJ2hpZGRlbicsIHBhbmVsLmRhdGFzZXQuc2V0dGluZ3NQYW5lbCAhPT0gbmFtZSk7XG4gICAgICB9KTtcbiAgICB9O1xuICAgIHRhYkJ1dHRvbnMuZm9yRWFjaCgoYnRuKSA9PiB7XG4gICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBzd2l0Y2hUYWIoYnRuLmRhdGFzZXQuc2V0dGluZ3NUYWIgfHwgJ2FjY291bnQnKSk7XG4gICAgfSk7XG4gICAgc3dpdGNoVGFiKCdhY2NvdW50Jyk7XG5cbiAgICBpZiAoIWZvcm0pIHtcbiAgICAgIC8vIHN0aWxsIGFsbG93IHNpdGUgZm9ybSBldmVuIGlmIHBhc3N3b3JkIGZvcm0gYWJzZW50XG4gICAgfVxuICAgIGlmIChmb3JtKSB7XG4gICAgICBjb25zdCBmZWVkYmFjayA9IGZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYWRtaW4tcGFzc3dvcmQtZmVlZGJhY2tdJyk7XG4gICAgICBjb25zdCBzdWJtaXQgPSBmb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFkbWluLXBhc3N3b3JkLXN1Ym1pdF0nKTtcbiAgICAgIGNvbnN0IHNldEZlZWRiYWNrID0gKG1lc3NhZ2UsIHRvbmUgPSAnbXV0ZWQnKSA9PiB7XG4gICAgICAgIGlmICghZmVlZGJhY2spIHJldHVybjtcbiAgICAgICAgY29uc3QgY29sb3IgPVxuICAgICAgICAgIHRvbmUgPT09ICdzdWNjZXNzJ1xuICAgICAgICAgICAgPyAndGV4dC1lbWVyYWxkLTYwMCdcbiAgICAgICAgICAgIDogdG9uZSA9PT0gJ2Vycm9yJ1xuICAgICAgICAgICAgICA/ICd0ZXh0LXJvc2UtNjAwJ1xuICAgICAgICAgICAgICA6ICd0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICAgIGZlZWRiYWNrLnRleHRDb250ZW50ID0gbWVzc2FnZSB8fCAnJztcbiAgICAgICAgZmVlZGJhY2suY2xhc3NOYW1lID0gYHRleHQtc20gJHtjb2xvcn1gO1xuICAgICAgfTtcbiAgICAgIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKGZvcm0pO1xuICAgICAgICBjb25zdCBjdXJyZW50UGFzc3dvcmQgPSBmb3JtRGF0YS5nZXQoJ2N1cnJlbnRQYXNzd29yZCcpIHx8ICcnO1xuICAgICAgICBjb25zdCBuZXdQYXNzd29yZCA9IGZvcm1EYXRhLmdldCgnbmV3UGFzc3dvcmQnKSB8fCAnJztcbiAgICAgICAgY29uc3QgY29uZmlybVBhc3N3b3JkID0gZm9ybURhdGEuZ2V0KCdjb25maXJtUGFzc3dvcmQnKSB8fCAnJztcbiAgICAgICAgaWYgKCFjdXJyZW50UGFzc3dvcmQgfHwgIW5ld1Bhc3N3b3JkIHx8ICFjb25maXJtUGFzc3dvcmQpIHtcbiAgICAgICAgICBzZXRGZWVkYmFjaygnQ29tcGxcdTAwRTh0ZSB0b3VzIGxlcyBjaGFtcHMuJywgJ2Vycm9yJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHN1Ym1pdCAmJiAoc3VibWl0LmRpc2FibGVkID0gdHJ1ZSk7XG4gICAgICAgIHNldEZlZWRiYWNrKCcnKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2FkbWluL3Bhc3N3b3JkJywge1xuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgY3VycmVudFBhc3N3b3JkLCBuZXdQYXNzd29yZCwgY29uZmlybVBhc3N3b3JkIH0pLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vayB8fCBwYXlsb2FkLnN1Y2Nlc3MgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocGF5bG9hZC5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIG1ldHRyZSBcdTAwRTAgam91ciBsZSBtb3QgZGUgcGFzc2UuJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNldEZlZWRiYWNrKHBheWxvYWQubWVzc2FnZSB8fCAnTW90IGRlIHBhc3NlIG1pcyBcdTAwRTAgam91ci4nLCAnc3VjY2VzcycpO1xuICAgICAgICAgIGZvcm0ucmVzZXQoKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3NldHRpbmdzXSBjaGFuZ2UgcGFzc3dvcmQgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgICBzZXRGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZGUgbGEgbWlzZSBcdTAwRTAgam91ci4nLCAnZXJyb3InKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBzdWJtaXQgJiYgKHN1Ym1pdC5kaXNhYmxlZCA9IGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKHNpdGVGb3JtKSB7XG4gICAgICBjb25zdCBuYW1lSW5wdXQgPSBzaXRlRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLW5hbWVdJyk7XG4gICAgICBjb25zdCBsYW5nU2VsZWN0ID0gc2l0ZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS1sYW5ndWFnZV0nKTtcbiAgICAgIGNvbnN0IHRhZ2xpbmVJbnB1dCA9IHNpdGVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtdGFnbGluZV0nKTtcbiAgICAgIGNvbnN0IHNhdmVCdXR0b24gPSBzaXRlRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLXNhdmVdJyk7XG4gICAgICBjb25zdCBzZXRTaXRlRmVlZGJhY2sgPSAobWVzc2FnZSwgdG9uZSA9ICdtdXRlZCcpID0+IHtcbiAgICAgICAgaWYgKCFzaXRlRmVlZGJhY2spIHJldHVybjtcbiAgICAgICAgY29uc3QgY29sb3IgPVxuICAgICAgICAgIHRvbmUgPT09ICdzdWNjZXNzJ1xuICAgICAgICAgICAgPyAndGV4dC1lbWVyYWxkLTYwMCdcbiAgICAgICAgICAgIDogdG9uZSA9PT0gJ2Vycm9yJ1xuICAgICAgICAgICAgICA/ICd0ZXh0LXJvc2UtNjAwJ1xuICAgICAgICAgICAgICA6ICd0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICAgIHNpdGVGZWVkYmFjay50ZXh0Q29udGVudCA9IG1lc3NhZ2UgfHwgJyc7XG4gICAgICAgIHNpdGVGZWVkYmFjay5jbGFzc05hbWUgPSBgdGV4dC1zbSAke2NvbG9yfWA7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBzYWZlU2l0ZVNsdWcgPSBzdHJpcExlYWRpbmdTbGFzaChcbiAgICAgICAgd29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyxcbiAgICAgICk7XG4gICAgICBjb25zdCBzaXRlQ29uZmlnQXBpID0gc2FmZVNpdGVTbHVnXG4gICAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnKX0vY29uZmlnL3NpdGVgXG4gICAgICAgIDogbnVsbDtcblxuICAgICAgY29uc3QgbG9hZFNpdGVDb25maWcgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIGlmICghc2l0ZUNvbmZpZ0FwaSkgcmV0dXJuO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goc2l0ZUNvbmZpZ0FwaSwgeyBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgcmV0dXJuO1xuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgaWYgKG5hbWVJbnB1dCkgbmFtZUlucHV0LnZhbHVlID0gcGF5bG9hZC5uYW1lIHx8ICcnO1xuICAgICAgICAgIGlmIChsYW5nU2VsZWN0KSBsYW5nU2VsZWN0LnZhbHVlID0gcGF5bG9hZC5sYW5ndWFnZSB8fCAnZnInO1xuICAgICAgICAgIGlmICh0YWdsaW5lSW5wdXQpIHRhZ2xpbmVJbnB1dC52YWx1ZSA9IHBheWxvYWQudGFnbGluZSB8fCAnJztcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3NldHRpbmdzXSBsb2FkIHNpdGUgY29uZmlnIGZhaWxlZCcsIGVycik7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHNpdGVGb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAoIXNpdGVDb25maWdBcGkpIHtcbiAgICAgICAgICBzZXRTaXRlRmVlZGJhY2soJ0F1Y3VuIHNpdGUgYWN0aWYuJywgJ2Vycm9yJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghbmFtZUlucHV0Py52YWx1ZS50cmltKCkpIHtcbiAgICAgICAgICBzZXRTaXRlRmVlZGJhY2soJ05vbSByZXF1aXMuJywgJ2Vycm9yJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNhdmVCdXR0b24gJiYgKHNhdmVCdXR0b24uZGlzYWJsZWQgPSB0cnVlKTtcbiAgICAgICAgc2V0U2l0ZUZlZWRiYWNrKCcnKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICAgICAgbmFtZTogbmFtZUlucHV0Py52YWx1ZSB8fCAnJyxcbiAgICAgICAgICAgIGxhbmd1YWdlOiBsYW5nU2VsZWN0Py52YWx1ZSB8fCAnZnInLFxuICAgICAgICAgICAgdGFnbGluZTogdGFnbGluZUlucHV0Py52YWx1ZSB8fCAnJyxcbiAgICAgICAgICB9O1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goc2l0ZUNvbmZpZ0FwaSwge1xuICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2sgfHwgcmVzdWx0LnN1Y2Nlc3MgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzdWx0Lm1lc3NhZ2UgfHwgJ1NhdXZlZ2FyZGUgaW1wb3NzaWJsZS4nKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0U2l0ZUZlZWRiYWNrKHJlc3VsdC5tZXNzYWdlIHx8ICdQYXJhbVx1MDBFOHRyZXMgZW5yZWdpc3RyXHUwMEU5cy4nLCAnc3VjY2VzcycpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIHNhdmUgc2l0ZSBjb25maWcgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgICBzZXRTaXRlRmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGRlIGxhIHNhdXZlZ2FyZGUuJywgJ2Vycm9yJyk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgc2F2ZUJ1dHRvbiAmJiAoc2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGxvYWRTaXRlQ29uZmlnKCk7XG4gICAgfVxuXG4gICAgaWYgKHRoZW1lRm9ybSkge1xuICAgICAgY29uc3Qgc2FmZVNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goXG4gICAgICAgIHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJycsXG4gICAgICApO1xuICAgICAgY29uc3QgdGhlbWVBcGkgPSBzYWZlU2l0ZVNsdWdcbiAgICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9jb25maWcvdGhlbWVgXG4gICAgICAgIDogbnVsbDtcblxuICAgICAgY29uc3QgY29sb3JTZWxlY3RzID0ge1xuICAgICAgICBwcmltYXJ5OiB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtcHJpbWFyeV0nKSxcbiAgICAgICAgc2Vjb25kYXJ5OiB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtc2Vjb25kYXJ5XScpLFxuICAgICAgICBhY2NlbnQ6IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1hY2NlbnRdJyksXG4gICAgICAgIGJhY2tncm91bmQ6IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1iYWNrZ3JvdW5kXScpLFxuICAgICAgICB0ZXh0OiB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtdGV4dF0nKSxcbiAgICAgIH07XG4gICAgICBjb25zdCBoZWFkaW5nU2VsZWN0ID0gdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLWhlYWRpbmdzXScpO1xuICAgICAgY29uc3QgYm9keVNlbGVjdCA9IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1ib2R5XScpO1xuICAgICAgY29uc3QgcmFkaXVzU21hbGwgPSB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtcmFkaXVzLXNtYWxsXScpO1xuICAgICAgY29uc3QgcmFkaXVzTWVkaXVtID0gdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLXJhZGl1cy1tZWRpdW1dJyk7XG4gICAgICBjb25zdCByYWRpdXNMYXJnZSA9IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1yYWRpdXMtbGFyZ2VdJyk7XG4gICAgICBjb25zdCBwcmV2aWV3ID0gdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLXByZXZpZXddJyk7XG4gICAgICBjb25zdCB0aGVtZUZlZWRiYWNrID0gdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLWZlZWRiYWNrXScpO1xuICAgICAgY29uc3QgYXBwbHlCdXR0b24gPSB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtYXBwbHldJyk7XG4gICAgICBjb25zdCB0YWlsd2luZEh1ZXMgPSBbXG4gICAgICAgICdzbGF0ZScsJ2dyYXknLCd6aW5jJywnbmV1dHJhbCcsJ3N0b25lJywncmVkJywnb3JhbmdlJywnYW1iZXInLCd5ZWxsb3cnLCdsaW1lJywnZ3JlZW4nLCdlbWVyYWxkJywndGVhbCcsJ2N5YW4nLCdza3knLCdibHVlJywnaW5kaWdvJywndmlvbGV0JywncHVycGxlJywnZnVjaHNpYScsJ3BpbmsnLCdyb3NlJ1xuICAgICAgXTtcbiAgICAgIGNvbnN0IHRhaWx3aW5kU2hhZGVzID0gWyc1MCcsJzEwMCcsJzIwMCcsJzMwMCcsJzQwMCcsJzUwMCcsJzYwMCcsJzcwMCcsJzgwMCcsJzkwMCddO1xuICAgICAgY29uc3QgdGFpbHdpbmRUb2tlbnMgPSB0YWlsd2luZEh1ZXMuZmxhdE1hcCgoaCk9PnRhaWx3aW5kU2hhZGVzLm1hcCgocyk9PmAke2h9LSR7c31gKSk7XG5cbiAgICAgIGNvbnN0IGZpbGxDb2xvck9wdGlvbnMgPSAoKSA9PiB7XG4gICAgICAgIE9iamVjdC52YWx1ZXMoY29sb3JTZWxlY3RzKS5mb3JFYWNoKChzZWwpPT57XG4gICAgICAgICAgaWYgKCFzZWwgfHwgc2VsLm9wdGlvbnMubGVuZ3RoKSByZXR1cm47XG4gICAgICAgICAgdGFpbHdpbmRUb2tlbnMuZm9yRWFjaCgodG9rZW4pPT57XG4gICAgICAgICAgICBjb25zdCBvcHRpb249ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICAgICAgICBvcHRpb24udmFsdWU9dG9rZW47XG4gICAgICAgICAgICBjb25zdCBbaCxzXT10b2tlbi5zcGxpdCgnLScpO1xuICAgICAgICAgICAgb3B0aW9uLnRleHRDb250ZW50PWAke2guY2hhckF0KDApLnRvVXBwZXJDYXNlKCkraC5zbGljZSgxKX0gJHtzfWA7XG4gICAgICAgICAgICBzZWwuYXBwZW5kQ2hpbGQob3B0aW9uKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBzZXRUaGVtZUZlZWRiYWNrID0gKG1lc3NhZ2UsIHRvbmUgPSAnbXV0ZWQnKSA9PiB7XG4gICAgICAgIGlmICghdGhlbWVGZWVkYmFjaykgcmV0dXJuO1xuICAgICAgICBjb25zdCBjb2xvciA9XG4gICAgICAgICAgdG9uZSA9PT0gJ3N1Y2Nlc3MnXG4gICAgICAgICAgICA/ICd0ZXh0LWVtZXJhbGQtNjAwJ1xuICAgICAgICAgICAgOiB0b25lID09PSAnZXJyb3InXG4gICAgICAgICAgICAgID8gJ3RleHQtcm9zZS02MDAnXG4gICAgICAgICAgICAgIDogJ3RleHQtc2xhdGUtNTAwJztcbiAgICAgICAgdGhlbWVGZWVkYmFjay50ZXh0Q29udGVudCA9IG1lc3NhZ2UgfHwgJyc7XG4gICAgICAgIHRoZW1lRmVlZGJhY2suY2xhc3NOYW1lID0gYHRleHQtc20gJHtjb2xvcn1gO1xuICAgICAgfTtcblxuICAgICAgY29uc3Qgc3luY1ByZXZpZXcgPSAoKSA9PiB7XG4gICAgICAgIGlmICghcHJldmlldykgcmV0dXJuO1xuICAgICAgICBjb25zdCB0b2tlblRvSGV4ID0gKHRva2VuKSA9PiB7XG4gICAgICAgICAgaWYgKCF0b2tlbikgcmV0dXJuIG51bGw7XG4gICAgICAgICAgLy8gR1x1MDBFOXJlciBsZXMgY2FzIHNwXHUwMEU5Y2lhdXggd2hpdGUsIGJsYWNrLCB0cmFuc3BhcmVudFxuICAgICAgICAgIGlmICh0b2tlbiA9PT0gJ3doaXRlJykgcmV0dXJuICcjZmZmZmZmJztcbiAgICAgICAgICBpZiAodG9rZW4gPT09ICdibGFjaycpIHJldHVybiAnIzAwMDAwMCc7XG4gICAgICAgICAgaWYgKHRva2VuID09PSAndHJhbnNwYXJlbnQnKSByZXR1cm4gJ3RyYW5zcGFyZW50JztcbiAgICAgICAgICBcbiAgICAgICAgICBjb25zdCBbaCxzXT10b2tlbi5zcGxpdCgnLScpO1xuICAgICAgICAgIGlmICghaCB8fCAhcykgcmV0dXJuIG51bGw7IC8vIEZvcm1hdCBpbnZhbGlkZVxuICAgICAgICAgIFxuICAgICAgICAgIGNvbnN0IG1hcCA9IHtcbiAgICAgICAgICAgIHNsYXRlOicjZTJlOGYwJyxncmF5OicjZDFkNWRiJyx6aW5jOicjZDRkNGQ4JyxuZXV0cmFsOicjZDRkNGQ0JyxzdG9uZTonI2Q2ZDNkMScsXG4gICAgICAgICAgICByZWQ6JyNlZjQ0NDQnLG9yYW5nZTonI2Y5NzMxNicsYW1iZXI6JyNmNTllMGInLHllbGxvdzonI2VhYjMwOCcsbGltZTonIzg0Y2MxNicsXG4gICAgICAgICAgICBncmVlbjonIzIyYzU1ZScsZW1lcmFsZDonIzEwYjk4MScsdGVhbDonIzE0YjhhNicsY3lhbjonIzA2YjZkNCcsc2t5OicjMGVhNWU5JyxcbiAgICAgICAgICAgIGJsdWU6JyMzYjgyZjYnLGluZGlnbzonIzYzNjZmMScsdmlvbGV0OicjOGI1Y2Y2JyxwdXJwbGU6JyNhODU1ZjcnLGZ1Y2hzaWE6JyNkOTQ2ZWYnLFxuICAgICAgICAgICAgcGluazonI2VjNDg5OScscm9zZTonI2Y0M2Y1ZSdcbiAgICAgICAgICB9O1xuICAgICAgICAgIGNvbnN0IGJhc2U9bWFwW2hdO1xuICAgICAgICAgIGlmICghYmFzZSkgcmV0dXJuIG51bGw7XG4gICAgICAgICAgLy8gcm91Z2ggc2hhZGUgdHdlYWsgdXNpbmcgb3BhY2l0eTsgbm90IGV4YWN0IFRhaWx3aW5kIHBhbGV0dGUgYnV0IHByZXZpZXctZnJpZW5kbHlcbiAgICAgICAgICBjb25zdCBzaGFkZU51bT1OdW1iZXIocyl8fDUwMDtcbiAgICAgICAgICBjb25zdCBmYWN0b3IgPSBNYXRoLm1pbihNYXRoLm1heCgoc2hhZGVOdW0tNTApLzkwMCwwKSwxKTtcbiAgICAgICAgICBjb25zdCB0b1JnYj0oaGV4KT0+aGV4Lm1hdGNoKC9bQS1GYS1mMC05XXsyfS9nKS5tYXAoKHYpPT5wYXJzZUludCh2LDE2KSk7XG4gICAgICAgICAgY29uc3QgW3IsZyxiXT10b1JnYihiYXNlLnJlcGxhY2UoJyMnLCcnKSk7XG4gICAgICAgICAgY29uc3QgbWl4PSh2KT0+TWF0aC5yb3VuZCgyNTUgLSAoMjU1IC0gdikqZmFjdG9yKTtcbiAgICAgICAgICByZXR1cm4gYHJnYigke21peChyKX0sICR7bWl4KGcpfSwgJHttaXgoYil9KWA7XG4gICAgICAgIH07XG4gICAgICAgIHByZXZpZXcuc3R5bGUuc2V0UHJvcGVydHkoJy0tY29sb3ItcHJpbWFyeScsIHRva2VuVG9IZXgoY29sb3JTZWxlY3RzLnByaW1hcnk/LnZhbHVlKSB8fCAnIzlDNkJGRicpO1xuICAgICAgICBwcmV2aWV3LnN0eWxlLnNldFByb3BlcnR5KCctLWNvbG9yLXNlY29uZGFyeScsIHRva2VuVG9IZXgoY29sb3JTZWxlY3RzLnNlY29uZGFyeT8udmFsdWUpIHx8ICcjMEVBNUU5Jyk7XG4gICAgICAgIHByZXZpZXcuc3R5bGUuc2V0UHJvcGVydHkoJy0tY29sb3ItYWNjZW50JywgdG9rZW5Ub0hleChjb2xvclNlbGVjdHMuYWNjZW50Py52YWx1ZSkgfHwgJyNGOTczMTYnKTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1jb2xvci1iYWNrZ3JvdW5kJywgdG9rZW5Ub0hleChjb2xvclNlbGVjdHMuYmFja2dyb3VuZD8udmFsdWUpIHx8ICcjRkZGRkZGJyk7XG4gICAgICAgIHByZXZpZXcuc3R5bGUuc2V0UHJvcGVydHkoJy0tY29sb3ItdGV4dCcsIHRva2VuVG9IZXgoY29sb3JTZWxlY3RzLnRleHQ/LnZhbHVlKSB8fCAnIzBGMTcyQScpO1xuICAgICAgICBwcmV2aWV3LnN0eWxlLnNldFByb3BlcnR5KCctLWZvbnQtaGVhZGluZ3MnLCBoZWFkaW5nU2VsZWN0Py52YWx1ZSB8fCAnSW50ZXIsIHNhbnMtc2VyaWYnKTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1mb250LWJvZHknLCBib2R5U2VsZWN0Py52YWx1ZSB8fCAnSW50ZXIsIHNhbnMtc2VyaWYnKTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1yYWRpdXMtc21hbGwnLCByYWRpdXNTbWFsbD8udmFsdWUgfHwgJzhweCcpO1xuICAgICAgICBwcmV2aWV3LnN0eWxlLnNldFByb3BlcnR5KCctLXJhZGl1cy1tZWRpdW0nLCByYWRpdXNNZWRpdW0/LnZhbHVlIHx8ICcxNnB4Jyk7XG4gICAgICAgIHByZXZpZXcuc3R5bGUuc2V0UHJvcGVydHkoJy0tcmFkaXVzLWxhcmdlJywgcmFkaXVzTGFyZ2U/LnZhbHVlIHx8ICcyNHB4Jyk7XG4gICAgICAgIHByZXZpZXcuc3R5bGUuYm9yZGVyUmFkaXVzID0gcmFkaXVzTWVkaXVtPy52YWx1ZSB8fCAnMTZweCc7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBzZXRDb2xvckZpZWxkcyA9IChrZXksIHZhbHVlKSA9PiB7XG4gICAgICAgIGlmIChjb2xvclNlbGVjdHNba2V5XSkgY29sb3JTZWxlY3RzW2tleV0udmFsdWUgPSB2YWx1ZTtcbiAgICAgIH07XG4gICAgICBcbiAgICAgIC8vIEZvbmN0aW9uIHBvdXIgbWV0dHJlIFx1MDBFMCBqb3VyIGxlIHByZXZpZXcgZGUgY291bGV1ciBkJ3VuIHNlbGVjdFxuICAgICAgY29uc3QgdXBkYXRlQ29sb3JTZWxlY3RQcmV2aWV3ID0gKHNlbGVjdCkgPT4ge1xuICAgICAgICBpZiAoIXNlbGVjdCkgcmV0dXJuO1xuICAgICAgICBjb25zdCBzZWxlY3RlZE9wdGlvbiA9IHNlbGVjdC5vcHRpb25zW3NlbGVjdC5zZWxlY3RlZEluZGV4XTtcbiAgICAgICAgY29uc3QgY29sb3IgPSBzZWxlY3RlZE9wdGlvbj8uZGF0YXNldD8uY29sb3IgfHwgJyNmZmZmZmYnO1xuICAgICAgICBjb25zdCBjb2xvclByZXZpZXcgPSBzZWxlY3QuY2xvc2VzdCgnLnJlbGF0aXZlJyk/LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbG9yLXByZXZpZXddJyk7XG4gICAgICAgIGlmIChjb2xvclByZXZpZXcpIHtcbiAgICAgICAgICBpZiAoY29sb3IgPT09ICd0cmFuc3BhcmVudCcpIHtcbiAgICAgICAgICAgIGNvbG9yUHJldmlldy5zdHlsZS5iYWNrZ3JvdW5kID0gJ3JlcGVhdGluZy1jb25pYy1ncmFkaWVudCgjY2NjIDAlIDI1JSwgd2hpdGUgMCUgNTAlKSA1MCUgLyA4cHggOHB4JztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29sb3JQcmV2aWV3LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGNvbG9yO1xuICAgICAgICAgICAgY29sb3JQcmV2aWV3LnN0eWxlLmJhY2tncm91bmQgPSAnJztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBcbiAgICAgIC8vIEluaXRpYWxpc2VyIGxlcyBwcmV2aWV3cyBkZSBjb3VsZXVyIGV0IGFqb3V0ZXIgbGVzIGxpc3RlbmVyc1xuICAgICAgY29uc3QgaW5pdENvbG9yUHJldmlld3MgPSAoKSA9PiB7XG4gICAgICAgIE9iamVjdC52YWx1ZXMoY29sb3JTZWxlY3RzKS5mb3JFYWNoKChzZWxlY3QpID0+IHtcbiAgICAgICAgICBpZiAoIXNlbGVjdCkgcmV0dXJuO1xuICAgICAgICAgIHVwZGF0ZUNvbG9yU2VsZWN0UHJldmlldyhzZWxlY3QpO1xuICAgICAgICAgIHNlbGVjdC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB1cGRhdGVDb2xvclNlbGVjdFByZXZpZXcoc2VsZWN0KSk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcblxuICAgICAgT2JqZWN0LmtleXMoY29sb3JTZWxlY3RzKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgY29sb3JTZWxlY3RzW2tleV0/LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHN5bmNQcmV2aWV3KTtcbiAgICAgIH0pO1xuICAgICAgW2hlYWRpbmdTZWxlY3QsIGJvZHlTZWxlY3QsIHJhZGl1c1NtYWxsLCByYWRpdXNNZWRpdW0sIHJhZGl1c0xhcmdlXS5mb3JFYWNoKChlbCkgPT4ge1xuICAgICAgICBlbD8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgc3luY1ByZXZpZXcpO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGxvYWRUaGVtZSA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKCF0aGVtZUFwaSkgcmV0dXJuO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godGhlbWVBcGksIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHJldHVybjtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIHNldENvbG9yRmllbGRzKCdwcmltYXJ5JywgcGF5bG9hZC5jb2xvcnM/LnByaW1hcnkgfHwgJ3Zpb2xldC01MDAnKTtcbiAgICAgICAgICBzZXRDb2xvckZpZWxkcygnc2Vjb25kYXJ5JywgcGF5bG9hZC5jb2xvcnM/LnNlY29uZGFyeSB8fCAnaW5kaWdvLTQwMCcpO1xuICAgICAgICAgIHNldENvbG9yRmllbGRzKCdhY2NlbnQnLCBwYXlsb2FkLmNvbG9ycz8uYWNjZW50IHx8ICdlbWVyYWxkLTUwMCcpO1xuICAgICAgICAgIHNldENvbG9yRmllbGRzKCdiYWNrZ3JvdW5kJywgcGF5bG9hZC5jb2xvcnM/LmJhY2tncm91bmQgfHwgJ3NsYXRlLTUwJyk7XG4gICAgICAgICAgc2V0Q29sb3JGaWVsZHMoJ3RleHQnLCBwYXlsb2FkLmNvbG9ycz8udGV4dCB8fCAnc2xhdGUtOTAwJyk7XG4gICAgICAgICAgaWYgKGhlYWRpbmdTZWxlY3QpIGhlYWRpbmdTZWxlY3QudmFsdWUgPSBwYXlsb2FkLnR5cG9ncmFwaHk/LmhlYWRpbmdzIHx8ICdJbnRlciwgc2Fucy1zZXJpZic7XG4gICAgICAgICAgaWYgKGJvZHlTZWxlY3QpIGJvZHlTZWxlY3QudmFsdWUgPSBwYXlsb2FkLnR5cG9ncmFwaHk/LmJvZHkgfHwgJ0ludGVyLCBzYW5zLXNlcmlmJztcbiAgICAgICAgICBpZiAocmFkaXVzU21hbGwpIHJhZGl1c1NtYWxsLnZhbHVlID0gcGF5bG9hZC5yYWRpdXM/LnNtYWxsIHx8ICc4cHgnO1xuICAgICAgICAgIGlmIChyYWRpdXNNZWRpdW0pIHJhZGl1c01lZGl1bS52YWx1ZSA9IHBheWxvYWQucmFkaXVzPy5tZWRpdW0gfHwgJzE2cHgnO1xuICAgICAgICAgIGlmIChyYWRpdXNMYXJnZSkgcmFkaXVzTGFyZ2UudmFsdWUgPSBwYXlsb2FkLnJhZGl1cz8ubGFyZ2UgfHwgJzI0cHgnO1xuICAgICAgICAgIHN5bmNQcmV2aWV3KCk7XG4gICAgICAgICAgLy8gTWV0dHJlIFx1MDBFMCBqb3VyIGxlcyBwcmV2aWV3cyBkZSBjb3VsZXVyIGFwclx1MDBFOHMgY2hhcmdlbWVudFxuICAgICAgICAgIE9iamVjdC52YWx1ZXMoY29sb3JTZWxlY3RzKS5mb3JFYWNoKHVwZGF0ZUNvbG9yU2VsZWN0UHJldmlldyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gbG9hZCB0aGVtZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBmaWxsQ29sb3JPcHRpb25zKCk7XG4gICAgICBpbml0Q29sb3JQcmV2aWV3cygpO1xuICAgICAgYXBwbHlCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmICghdGhlbWVBcGkpIHtcbiAgICAgICAgICBzZXRUaGVtZUZlZWRiYWNrKCdBdWN1biBzaXRlIGFjdGlmLicsICdlcnJvcicpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICAgIGNvbG9yczoge1xuICAgICAgICAgICAgcHJpbWFyeTogY29sb3JTZWxlY3RzLnByaW1hcnk/LnZhbHVlIHx8ICd2aW9sZXQtNTAwJyxcbiAgICAgICAgICAgIHNlY29uZGFyeTogY29sb3JTZWxlY3RzLnNlY29uZGFyeT8udmFsdWUgfHwgJ2luZGlnby00MDAnLFxuICAgICAgICAgICAgYWNjZW50OiBjb2xvclNlbGVjdHMuYWNjZW50Py52YWx1ZSB8fCAnZW1lcmFsZC01MDAnLFxuICAgICAgICAgICAgYmFja2dyb3VuZDogY29sb3JTZWxlY3RzLmJhY2tncm91bmQ/LnZhbHVlIHx8ICdzbGF0ZS01MCcsXG4gICAgICAgICAgICB0ZXh0OiBjb2xvclNlbGVjdHMudGV4dD8udmFsdWUgfHwgJ3NsYXRlLTkwMCcsXG4gICAgICAgICAgfSxcbiAgICAgICAgICB0eXBvZ3JhcGh5OiB7XG4gICAgICAgICAgICBoZWFkaW5nczogaGVhZGluZ1NlbGVjdD8udmFsdWUgfHwgJ0ludGVyLCBzYW5zLXNlcmlmJyxcbiAgICAgICAgICAgIGJvZHk6IGJvZHlTZWxlY3Q/LnZhbHVlIHx8ICdJbnRlciwgc2Fucy1zZXJpZicsXG4gICAgICAgICAgfSxcbiAgICAgICAgICByYWRpdXM6IHtcbiAgICAgICAgICAgIHNtYWxsOiByYWRpdXNTbWFsbD8udmFsdWUgfHwgJzhweCcsXG4gICAgICAgICAgICBtZWRpdW06IHJhZGl1c01lZGl1bT8udmFsdWUgfHwgJzE2cHgnLFxuICAgICAgICAgICAgbGFyZ2U6IHJhZGl1c0xhcmdlPy52YWx1ZSB8fCAnMjRweCcsXG4gICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgYXBwbHlCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICBzZXRUaGVtZUZlZWRiYWNrKCcnKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHRoZW1lQXBpLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vayB8fCByZXN1bHQuc3VjY2VzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQubWVzc2FnZSB8fCAnQXBwbGljYXRpb24gZHUgdGhcdTAwRThtZSBcdTAwRTljaG91XHUwMEU5ZS4nKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0VGhlbWVGZWVkYmFjayhyZXN1bHQubWVzc2FnZSB8fCAnVGhcdTAwRThtZSBhcHBsaXF1XHUwMEU5LicsICdzdWNjZXNzJyk7XG4gICAgICAgICAgc3luY1ByZXZpZXcoKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3NldHRpbmdzXSBhcHBseSB0aGVtZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICAgIHNldFRoZW1lRmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGRlIGxcdTIwMTlhcHBsaWNhdGlvbiBkdSB0aFx1MDBFOG1lLicsICdlcnJvcicpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGFwcGx5QnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBmaWxsQ29sb3JPcHRpb25zKCk7XG4gICAgICBpbml0Q29sb3JQcmV2aWV3cygpO1xuICAgICAgbG9hZFRoZW1lKCk7XG4gICAgICBzeW5jUHJldmlldygpO1xuICAgIH1cblxuICAgIC8vIFNFTyBDb25maWcgZm9ybSAoVVM5LkIxKVxuICAgIGNvbnN0IHNlb0NvbmZpZ0Zvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8tY29uZmlnLWZvcm1dJyk7XG4gICAgaWYgKHNlb0NvbmZpZ0Zvcm0pIHtcbiAgICAgIGNvbnN0IGluZGV4QWxsQ2hlY2tib3ggPSBzZW9Db25maWdGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby1pbmRleC1hbGxdJyk7XG4gICAgICBjb25zdCBzZW9Db25maWdGZWVkYmFjayA9IHNlb0NvbmZpZ0Zvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtc2VvLWNvbmZpZy1mZWVkYmFja10nKTtcbiAgICAgIGNvbnN0IHNlb1NhdmVCdXR0b24gPSBzZW9Db25maWdGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby1zYXZlXScpO1xuXG4gICAgICBjb25zdCBzYWZlU2l0ZVNsdWcgPSBzdHJpcExlYWRpbmdTbGFzaChcbiAgICAgICAgd29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyxcbiAgICAgICk7XG4gICAgICBjb25zdCBzaXRlQ29uZmlnQXBpID0gc2FmZVNpdGVTbHVnXG4gICAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnKX0vY29uZmlnL3NpdGVgXG4gICAgICAgIDogbnVsbDtcblxuICAgICAgY29uc3Qgc2V0U2VvRmVlZGJhY2sgPSAobWVzc2FnZSwgdG9uZSA9ICdtdXRlZCcpID0+IHtcbiAgICAgICAgaWYgKCFzZW9Db25maWdGZWVkYmFjaykgcmV0dXJuO1xuICAgICAgICBjb25zdCBjb2xvciA9XG4gICAgICAgICAgdG9uZSA9PT0gJ3N1Y2Nlc3MnXG4gICAgICAgICAgICA/ICd0ZXh0LWVtZXJhbGQtNjAwJ1xuICAgICAgICAgICAgOiB0b25lID09PSAnZXJyb3InXG4gICAgICAgICAgICAgID8gJ3RleHQtcm9zZS02MDAnXG4gICAgICAgICAgICAgIDogJ3RleHQtc2xhdGUtNTAwJztcbiAgICAgICAgc2VvQ29uZmlnRmVlZGJhY2sudGV4dENvbnRlbnQgPSBtZXNzYWdlIHx8ICcnO1xuICAgICAgICBzZW9Db25maWdGZWVkYmFjay5jbGFzc05hbWUgPSBgdGV4dC1zbSAke2NvbG9yfWA7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBsb2FkU2VvQ29uZmlnID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoIXNpdGVDb25maWdBcGkpIHJldHVybjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHNpdGVDb25maWdBcGksIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHJldHVybjtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIGNvbnN0IGluZGV4QWxsID0gcGF5bG9hZC5zZW8/LmluZGV4QWxsUGFnZXNCeURlZmF1bHQgIT09IGZhbHNlO1xuICAgICAgICAgIGlmIChpbmRleEFsbENoZWNrYm94KSBpbmRleEFsbENoZWNrYm94LmNoZWNrZWQgPSBpbmRleEFsbDtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3NldHRpbmdzXSBsb2FkIHNlbyBjb25maWcgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgc2VvQ29uZmlnRm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKCFzaXRlQ29uZmlnQXBpKSB7XG4gICAgICAgICAgc2V0U2VvRmVlZGJhY2soJ0F1Y3VuIHNpdGUgYWN0aWYuJywgJ2Vycm9yJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNlb1NhdmVCdXR0b24gJiYgKHNlb1NhdmVCdXR0b24uZGlzYWJsZWQgPSB0cnVlKTtcbiAgICAgICAgc2V0U2VvRmVlZGJhY2soJycpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIEZpcnN0IGxvYWQgY3VycmVudCBjb25maWcgdG8gcHJlc2VydmUgb3RoZXIgZmllbGRzXG4gICAgICAgICAgY29uc3QgY3VycmVudFJlcyA9IGF3YWl0IGZldGNoKHNpdGVDb25maWdBcGksIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xuICAgICAgICAgIGNvbnN0IGN1cnJlbnRDb25maWcgPSBjdXJyZW50UmVzLm9rID8gYXdhaXQgY3VycmVudFJlcy5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSkgOiB7fTtcblxuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgICAgICAuLi5jdXJyZW50Q29uZmlnLFxuICAgICAgICAgICAgc2VvOiB7XG4gICAgICAgICAgICAgIC4uLihjdXJyZW50Q29uZmlnLnNlbyB8fCB7fSksXG4gICAgICAgICAgICAgIGluZGV4QWxsUGFnZXNCeURlZmF1bHQ6IGluZGV4QWxsQ2hlY2tib3g/LmNoZWNrZWQgPz8gdHJ1ZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfTtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHNpdGVDb25maWdBcGksIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rIHx8IHJlc3VsdC5zdWNjZXNzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5tZXNzYWdlIHx8ICdTYXV2ZWdhcmRlIGltcG9zc2libGUuJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNldFNlb0ZlZWRiYWNrKHJlc3VsdC5tZXNzYWdlIHx8ICdQYXJhbVx1MDBFOHRyZXMgU0VPIGVucmVnaXN0clx1MDBFOXMuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3NldHRpbmdzXSBzYXZlIHNlbyBjb25maWcgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgICBzZXRTZW9GZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZGUgbGEgc2F1dmVnYXJkZS4nLCAnZXJyb3InKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBzZW9TYXZlQnV0dG9uICYmIChzZW9TYXZlQnV0dG9uLmRpc2FibGVkID0gZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgbG9hZFNlb0NvbmZpZygpO1xuICAgIH1cblxuICAgIC8vIEFuYWx5dGljcyBmb3JtIChVUzkuQjIpXG4gICAgY29uc3QgYW5hbHl0aWNzRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFuYWx5dGljcy1mb3JtXScpO1xuICAgIGlmIChhbmFseXRpY3NGb3JtKSB7XG4gICAgICBjb25zdCBoZWFkVGV4dGFyZWEgPSBhbmFseXRpY3NGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFuYWx5dGljcy1oZWFkXScpO1xuICAgICAgY29uc3QgYm9keVRleHRhcmVhID0gYW5hbHl0aWNzRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hbmFseXRpY3MtYm9keV0nKTtcbiAgICAgIGNvbnN0IGFuYWx5dGljc0ZlZWRiYWNrID0gYW5hbHl0aWNzRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hbmFseXRpY3MtZmVlZGJhY2tdJyk7XG4gICAgICBjb25zdCBhbmFseXRpY3NTYXZlQnV0dG9uID0gYW5hbHl0aWNzRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hbmFseXRpY3Mtc2F2ZV0nKTtcblxuICAgICAgY29uc3Qgc2FmZVNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goXG4gICAgICAgIHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJycsXG4gICAgICApO1xuICAgICAgY29uc3Qgc2l0ZUNvbmZpZ0FwaSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Zyl9L2NvbmZpZy9zaXRlYFxuICAgICAgICA6IG51bGw7XG5cbiAgICAgIGNvbnN0IHNldEFuYWx5dGljc0ZlZWRiYWNrID0gKG1lc3NhZ2UsIHRvbmUgPSAnbXV0ZWQnKSA9PiB7XG4gICAgICAgIGlmICghYW5hbHl0aWNzRmVlZGJhY2spIHJldHVybjtcbiAgICAgICAgY29uc3QgY29sb3IgPVxuICAgICAgICAgIHRvbmUgPT09ICdzdWNjZXNzJ1xuICAgICAgICAgICAgPyAndGV4dC1lbWVyYWxkLTYwMCdcbiAgICAgICAgICAgIDogdG9uZSA9PT0gJ2Vycm9yJ1xuICAgICAgICAgICAgICA/ICd0ZXh0LXJvc2UtNjAwJ1xuICAgICAgICAgICAgICA6ICd0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICAgIGFuYWx5dGljc0ZlZWRiYWNrLnRleHRDb250ZW50ID0gbWVzc2FnZSB8fCAnJztcbiAgICAgICAgYW5hbHl0aWNzRmVlZGJhY2suY2xhc3NOYW1lID0gYHRleHQtc20gJHtjb2xvcn1gO1xuICAgICAgfTtcblxuICAgICAgY29uc3QgbG9hZEFuYWx5dGljc0NvbmZpZyA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKCFzaXRlQ29uZmlnQXBpKSByZXR1cm47XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChzaXRlQ29uZmlnQXBpLCB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSByZXR1cm47XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICBpZiAoaGVhZFRleHRhcmVhKSBoZWFkVGV4dGFyZWEudmFsdWUgPSBwYXlsb2FkLmFuYWx5dGljcz8uaGVhZENvZGUgfHwgJyc7XG4gICAgICAgICAgaWYgKGJvZHlUZXh0YXJlYSkgYm9keVRleHRhcmVhLnZhbHVlID0gcGF5bG9hZC5hbmFseXRpY3M/LmJvZHlFbmRDb2RlIHx8ICcnO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIGxvYWQgYW5hbHl0aWNzIGNvbmZpZyBmYWlsZWQnLCBlcnIpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBhbmFseXRpY3NGb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAoIXNpdGVDb25maWdBcGkpIHtcbiAgICAgICAgICBzZXRBbmFseXRpY3NGZWVkYmFjaygnQXVjdW4gc2l0ZSBhY3RpZi4nLCAnZXJyb3InKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgYW5hbHl0aWNzU2F2ZUJ1dHRvbiAmJiAoYW5hbHl0aWNzU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWUpO1xuICAgICAgICBzZXRBbmFseXRpY3NGZWVkYmFjaygnJyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gRmlyc3QgbG9hZCBjdXJyZW50IGNvbmZpZyB0byBwcmVzZXJ2ZSBvdGhlciBmaWVsZHNcbiAgICAgICAgICBjb25zdCBjdXJyZW50UmVzID0gYXdhaXQgZmV0Y2goc2l0ZUNvbmZpZ0FwaSwgeyBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSk7XG4gICAgICAgICAgY29uc3QgY3VycmVudENvbmZpZyA9IGN1cnJlbnRSZXMub2sgPyBhd2FpdCBjdXJyZW50UmVzLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKSA6IHt9O1xuXG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgICAgIC4uLmN1cnJlbnRDb25maWcsXG4gICAgICAgICAgICBhbmFseXRpY3M6IHtcbiAgICAgICAgICAgICAgaGVhZENvZGU6IGhlYWRUZXh0YXJlYT8udmFsdWUgfHwgJycsXG4gICAgICAgICAgICAgIGJvZHlFbmRDb2RlOiBib2R5VGV4dGFyZWE/LnZhbHVlIHx8ICcnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9O1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goc2l0ZUNvbmZpZ0FwaSwge1xuICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2sgfHwgcmVzdWx0LnN1Y2Nlc3MgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzdWx0Lm1lc3NhZ2UgfHwgJ1NhdXZlZ2FyZGUgaW1wb3NzaWJsZS4nKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0QW5hbHl0aWNzRmVlZGJhY2socmVzdWx0Lm1lc3NhZ2UgfHwgJ1NjcmlwdHMgZW5yZWdpc3RyXHUwMEU5cy4nLCAnc3VjY2VzcycpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIHNhdmUgYW5hbHl0aWNzIGNvbmZpZyBmYWlsZWQnLCBlcnIpO1xuICAgICAgICAgIHNldEFuYWx5dGljc0ZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsYSBzYXV2ZWdhcmRlLicsICdlcnJvcicpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGFuYWx5dGljc1NhdmVCdXR0b24gJiYgKGFuYWx5dGljc1NhdmVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBsb2FkQW5hbHl0aWNzQ29uZmlnKCk7XG4gICAgfVxuXG4gICAgLy8gQUkgQ29uZmlnIGZvcm0gKFVTIC0gQUkgQXNzaXN0YW50KVxuICAgIGNvbnN0IGFpQ29uZmlnRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFpLWNvbmZpZy1mb3JtXScpO1xuICAgIGlmIChhaUNvbmZpZ0Zvcm0pIHtcbiAgICAgIGNvbnN0IGFwaUtleUlucHV0ID0gYWlDb25maWdGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFpLWFwaS1rZXldJyk7XG4gICAgICBjb25zdCBtb2RlbFNlbGVjdCA9IGFpQ29uZmlnRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1haS1tb2RlbF0nKTtcbiAgICAgIGNvbnN0IHByb2plY3RQcm9tcHRUZXh0YXJlYSA9IGFpQ29uZmlnRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1haS1wcm9qZWN0LXByb21wdF0nKTtcbiAgICAgIGNvbnN0IGVuYWJsZWRDaGVja2JveCA9IGFpQ29uZmlnRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1haS1lbmFibGVkXScpO1xuICAgICAgY29uc3QgYWlGZWVkYmFjayA9IGFpQ29uZmlnRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1haS1mZWVkYmFja10nKTtcbiAgICAgIGNvbnN0IGFpU2F2ZUJ1dHRvbiA9IGFpQ29uZmlnRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1haS1zYXZlXScpO1xuXG4gICAgICBjb25zdCBzYWZlU2l0ZVNsdWcgPSBzdHJpcExlYWRpbmdTbGFzaChcbiAgICAgICAgd29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyxcbiAgICAgICk7XG4gICAgICBjb25zdCBhaUNvbmZpZ0FwaSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Zyl9L2NvbmZpZy9haWBcbiAgICAgICAgOiBudWxsO1xuXG4gICAgICBjb25zdCBzZXRBSUZlZWRiYWNrID0gKG1lc3NhZ2UsIHRvbmUgPSAnbXV0ZWQnKSA9PiB7XG4gICAgICAgIGlmICghYWlGZWVkYmFjaykgcmV0dXJuO1xuICAgICAgICBjb25zdCBjb2xvciA9XG4gICAgICAgICAgdG9uZSA9PT0gJ3N1Y2Nlc3MnXG4gICAgICAgICAgICA/ICd0ZXh0LWVtZXJhbGQtNjAwJ1xuICAgICAgICAgICAgOiB0b25lID09PSAnZXJyb3InXG4gICAgICAgICAgICAgID8gJ3RleHQtcm9zZS02MDAnXG4gICAgICAgICAgICAgIDogJ3RleHQtc2xhdGUtNTAwJztcbiAgICAgICAgYWlGZWVkYmFjay50ZXh0Q29udGVudCA9IG1lc3NhZ2UgfHwgJyc7XG4gICAgICAgIGFpRmVlZGJhY2suY2xhc3NOYW1lID0gYHRleHQtc20gJHtjb2xvcn1gO1xuICAgICAgfTtcblxuICAgICAgY29uc3QgbG9hZEFJQ29uZmlnID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoIWFpQ29uZmlnQXBpKSByZXR1cm47XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChhaUNvbmZpZ0FwaSwgeyBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgcmV0dXJuO1xuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgLy8gQVBJIGtleSBpcyBtYXNrZWQsIHdlIHNob3cgcGxhY2Vob2xkZXIgaWYgaXQgZXhpc3RzXG4gICAgICAgICAgaWYgKGFwaUtleUlucHV0KSB7XG4gICAgICAgICAgICBhcGlLZXlJbnB1dC52YWx1ZSA9ICcnO1xuICAgICAgICAgICAgYXBpS2V5SW5wdXQucGxhY2Vob2xkZXIgPSBwYXlsb2FkLmhhc0FwaUtleSA/ICdcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjInIDogJ0NsXHUwMEU5IEFQSSBHZW1pbmknO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAobW9kZWxTZWxlY3QpIG1vZGVsU2VsZWN0LnZhbHVlID0gcGF5bG9hZC5tb2RlbCB8fCAnZ2VtaW5pLTIuNS1mbGFzaCc7XG4gICAgICAgICAgaWYgKHByb2plY3RQcm9tcHRUZXh0YXJlYSkgcHJvamVjdFByb21wdFRleHRhcmVhLnZhbHVlID0gcGF5bG9hZC5wcm9qZWN0UHJvbXB0IHx8ICcnO1xuICAgICAgICAgIGlmIChlbmFibGVkQ2hlY2tib3gpIGVuYWJsZWRDaGVja2JveC5jaGVja2VkID0gcGF5bG9hZC5lbmFibGVkICE9PSBmYWxzZTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3NldHRpbmdzXSBsb2FkIEFJIGNvbmZpZyBmYWlsZWQnLCBlcnIpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBhaUNvbmZpZ0Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmICghYWlDb25maWdBcGkpIHtcbiAgICAgICAgICBzZXRBSUZlZWRiYWNrKCdBdWN1biBzaXRlIGFjdGlmLicsICdlcnJvcicpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBhaVNhdmVCdXR0b24gJiYgKGFpU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWUpO1xuICAgICAgICBzZXRBSUZlZWRiYWNrKCcnKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICAgICAgbW9kZWw6IG1vZGVsU2VsZWN0Py52YWx1ZSB8fCAnZ2VtaW5pLTIuNS1mbGFzaCcsXG4gICAgICAgICAgICBwcm9qZWN0UHJvbXB0OiBwcm9qZWN0UHJvbXB0VGV4dGFyZWE/LnZhbHVlIHx8ICcnLFxuICAgICAgICAgICAgZW5hYmxlZDogZW5hYmxlZENoZWNrYm94Py5jaGVja2VkID8/IHRydWUsXG4gICAgICAgICAgfTtcbiAgICAgICAgICAvLyBPbmx5IGluY2x1ZGUgYXBpS2V5IGlmIHRoZSB1c2VyIGVudGVyZWQgb25lIChub3QgZW1wdHkpXG4gICAgICAgICAgY29uc3QgYXBpS2V5VmFsdWUgPSBhcGlLZXlJbnB1dD8udmFsdWU/LnRyaW0oKTtcbiAgICAgICAgICBpZiAoYXBpS2V5VmFsdWUpIHtcbiAgICAgICAgICAgIHBheWxvYWQuYXBpS2V5ID0gYXBpS2V5VmFsdWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChhaUNvbmZpZ0FwaSwge1xuICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2sgfHwgcmVzdWx0LnN1Y2Nlc3MgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzdWx0Lm1lc3NhZ2UgfHwgJ1NhdXZlZ2FyZGUgaW1wb3NzaWJsZS4nKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0QUlGZWVkYmFjayhyZXN1bHQubWVzc2FnZSB8fCAnQ29uZmlndXJhdGlvbiBJQSBlbnJlZ2lzdHJcdTAwRTllLicsICdzdWNjZXNzJyk7XG4gICAgICAgICAgLy8gQ2xlYXIgdGhlIEFQSSBrZXkgZmllbGQgYWZ0ZXIgc3VjY2Vzc2Z1bCBzYXZlXG4gICAgICAgICAgaWYgKGFwaUtleUlucHV0KSB7XG4gICAgICAgICAgICBhcGlLZXlJbnB1dC52YWx1ZSA9ICcnO1xuICAgICAgICAgICAgYXBpS2V5SW5wdXQucGxhY2Vob2xkZXIgPSAnXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyJztcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gc2F2ZSBBSSBjb25maWcgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgICBzZXRBSUZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsYSBzYXV2ZWdhcmRlLicsICdlcnJvcicpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGFpU2F2ZUJ1dHRvbiAmJiAoYWlTYXZlQnV0dG9uLmRpc2FibGVkID0gZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgbG9hZEFJQ29uZmlnKCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaW5pdE1lZGlhV29ya3NwYWNlKCkge1xuICAgIGNvbnN0IGdyaWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1ncmlkXScpO1xuICAgIGlmICghZ3JpZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBlbXB0eVN0YXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZW1wdHldJyk7XG4gICAgY29uc3QgY291bnRCYWRnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWNvdW50XScpO1xuICAgIGNvbnN0IGZpbHRlclR5cGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1maWx0ZXItdHlwZV0nKTtcbiAgICBjb25zdCBkZXRhaWxFbXB0eSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRldGFpbC1lbXB0eV0nKTtcbiAgICBjb25zdCBkZXRhaWxQYW5lbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRldGFpbF0nKTtcbiAgICBjb25zdCBkZXRhaWxQcmV2aWV3ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGV0YWlsLXByZXZpZXddJyk7XG4gICAgY29uc3QgZGV0YWlsTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRldGFpbC1uYW1lXScpO1xuICAgIGNvbnN0IGRldGFpbFR5cGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZXRhaWwtdHlwZV0nKTtcbiAgICBjb25zdCBkZXRhaWxTaXplID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGV0YWlsLXNpemVdJyk7XG4gICAgY29uc3QgZGV0YWlsUGF0aCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRldGFpbC1wYXRoXScpO1xuICAgIGNvbnN0IGRldGFpbFVzZWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZXRhaWwtdXNlZF0nKTtcbiAgICBjb25zdCBkZXRhaWxBbHRJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWFsdC1lZGl0XScpO1xuICAgIGNvbnN0IGRldGFpbFNhdmVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1zYXZlXScpO1xuICAgIGNvbnN0IGRldGFpbERlbGV0ZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRlbGV0ZV0nKTtcbiAgICBjb25zdCBkZWxldGVNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRlbGV0ZS1tb2RhbF0nKTtcbiAgICBjb25zdCBkZWxldGVDYW5jZWxCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZWxldGUtY2FuY2VsXScpO1xuICAgIGNvbnN0IGRlbGV0ZUNvbmZpcm1CdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZWxldGUtY29uZmlybV0nKTtcbiAgICBjb25zdCB1cGxvYWRPcGVuQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtdXBsb2FkLW9wZW5dJyk7XG4gICAgY29uc3QgZmlsZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZmlsZS1pbnB1dF0nKTtcbiAgICBjb25zdCB1cGxvYWRTdGF0dXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS11cGxvYWQtc3RhdHVzXScpO1xuXG4gICAgY29uc3Qgc2FmZVNpdGVTbHVnVmFsdWUgPSBzdHJpcExlYWRpbmdTbGFzaChcbiAgICAgIHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJycsXG4gICAgKTtcbiAgICBjb25zdCBtZWRpYUFwaUJhc2UgPSBzYWZlU2l0ZVNsdWdWYWx1ZVxuICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWdWYWx1ZSl9L21lZGlhYFxuICAgICAgOiBudWxsO1xuXG4gICAgbGV0IG1lZGlhSXRlbXMgPSBbXTtcbiAgICBsZXQgZmlsdGVyZWRJdGVtcyA9IFtdO1xuICAgIGxldCBhY3RpdmVNZWRpYUlkID0gbnVsbDtcbiAgICBsZXQgaGlnaGxpZ2h0TWVkaWFJZCA9IG51bGw7XG4gICAgbGV0IHBlbmRpbmdVcGxvYWRGaWxlID0gbnVsbDtcbiAgICBsZXQgdXBsb2FkSW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgIGxldCBkZXRhaWxEaXJ0eSA9IGZhbHNlO1xuICAgIGxldCB1cGxvYWRNb2RlID0gZmFsc2U7XG4gICAgbGV0IHVwbG9hZFByZXZpZXdVcmwgPSBudWxsO1xuXG4gICAgY29uc3QgZGVyaXZlR3JvdXBUeXBlID0gKGl0ZW0pID0+IHtcbiAgICAgIGNvbnN0IHR5cGUgPSAoaXRlbS50eXBlIHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgY29uc3QgZmlsZW5hbWUgPSAoaXRlbS5maWxlbmFtZSB8fCAnJykudG9Mb3dlckNhc2UoKTtcbiAgICAgIGlmICh0eXBlLmluY2x1ZGVzKCdpbWFnZScpIHx8IC9cXC4ocG5nfGpwZT9nfHdlYnB8c3ZnfGdpZikkL2kudGVzdChmaWxlbmFtZSkpIHtcbiAgICAgICAgcmV0dXJuICdpbWFnZSc7XG4gICAgICB9XG4gICAgICBpZiAodHlwZS5pbmNsdWRlcygncGRmJykgfHwgdHlwZS5pbmNsdWRlcygnZG9jJykgfHwgL1xcLihwZGZ8ZG9jeD8pJC9pLnRlc3QoZmlsZW5hbWUpKSB7XG4gICAgICAgIHJldHVybiAnZG9jdW1lbnQnO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGUuaW5jbHVkZXMoJ3ZpZGVvJykgfHwgL1xcLihtcDR8bW92fHdlYm0pJC9pLnRlc3QoZmlsZW5hbWUpKSB7XG4gICAgICAgIHJldHVybiAndmlkZW8nO1xuICAgICAgfVxuICAgICAgcmV0dXJuICdvdGhlcic7XG4gICAgfTtcblxuICAgIGNvbnN0IGlzSW1hZ2VUeXBlID0gKGl0ZW0pID0+IGRlcml2ZUdyb3VwVHlwZShpdGVtKSA9PT0gJ2ltYWdlJztcblxuICAgIGNvbnN0IGZvcm1hdFR5cGVMYWJlbCA9IChpdGVtKSA9PiB7XG4gICAgICBpZiAoaXRlbS50eXBlKSB7XG4gICAgICAgIHJldHVybiBpdGVtLnR5cGUudG9VcHBlckNhc2UoKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGV4dCA9IChpdGVtLmZpbGVuYW1lIHx8ICcnKS5zcGxpdCgnLicpLnBvcCgpO1xuICAgICAgcmV0dXJuIGV4dCA/IGV4dC50b1VwcGVyQ2FzZSgpIDogJ0ZJTEUnO1xuICAgIH07XG5cbiAgICBjb25zdCBmb3JtYXRGaWxlU2l6ZSA9IChzaXplKSA9PiB7XG4gICAgICBpZiAoIXNpemUgfHwgc2l6ZSA8PSAwKSB7XG4gICAgICAgIHJldHVybiAnXHUyMDE0JztcbiAgICAgIH1cbiAgICAgIGlmIChzaXplIDwgMTAyNCkge1xuICAgICAgICByZXR1cm4gYCR7c2l6ZX0gb2A7XG4gICAgICB9XG4gICAgICBpZiAoc2l6ZSA8IDEwMjQgKiAxMDI0KSB7XG4gICAgICAgIHJldHVybiBgJHsoc2l6ZSAvIDEwMjQpLnRvRml4ZWQoMSl9IGtvYDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBgJHsoc2l6ZSAvICgxMDI0ICogMTAyNCkpLnRvRml4ZWQoMSl9IE1vYDtcbiAgICB9O1xuXG4gICAgY29uc3QgcmVzZXREZXRhaWxQYW5lbCA9ICgpID0+IHtcbiAgICAgIGRldGFpbFBhbmVsPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGRldGFpbEVtcHR5Py5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGNsZWFyVXBsb2FkU3RhdGUoKTtcbiAgICAgIGFjdGl2ZU1lZGlhSWQgPSBudWxsO1xuICAgICAgZGV0YWlsRGlydHkgPSBmYWxzZTtcbiAgICAgIHVwZGF0ZURldGFpbEFjdGlvbnMoZmFsc2UpO1xuICAgICAgaWYgKGRldGFpbFByZXZpZXcpIHtcbiAgICAgICAgZGV0YWlsUHJldmlldy5pbm5lckhUTUwgPVxuICAgICAgICAgICc8c3BhbiBjbGFzcz1cInRleHQtc2xhdGUtNDAwIHRleHQtc21cIj5BdWN1biBtXHUwMEU5ZGlhIHNcdTAwRTlsZWN0aW9ublx1MDBFOTwvc3Bhbj4nO1xuICAgICAgfVxuICAgICAgaWYgKGRldGFpbE5hbWUpIHtcbiAgICAgICAgZGV0YWlsTmFtZS50ZXh0Q29udGVudCA9ICcnO1xuICAgICAgfVxuICAgICAgZGV0YWlsVHlwZSAmJiAoZGV0YWlsVHlwZS50ZXh0Q29udGVudCA9ICcnKTtcbiAgICAgIGRldGFpbFNpemUgJiYgKGRldGFpbFNpemUudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgICBpZiAoZGV0YWlsQWx0SW5wdXQpIHtcbiAgICAgICAgZGV0YWlsQWx0SW5wdXQudmFsdWUgPSAnJztcbiAgICAgIH1cbiAgICAgIGRldGFpbFBhdGggJiYgKGRldGFpbFBhdGgudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgICBpZiAoZGV0YWlsVXNlZCkge1xuICAgICAgICBkZXRhaWxVc2VkLmlubmVySFRNTCA9ICcnO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBjbGVhclVwbG9hZFN0YXRlID0gKCkgPT4ge1xuICAgICAgcGVuZGluZ1VwbG9hZEZpbGUgPSBudWxsO1xuICAgICAgdXBsb2FkTW9kZSA9IGZhbHNlO1xuICAgICAgdXBsb2FkSW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgICAgaWYgKHVwbG9hZFByZXZpZXdVcmwpIHtcbiAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTCh1cGxvYWRQcmV2aWV3VXJsKTtcbiAgICAgICAgdXBsb2FkUHJldmlld1VybCA9IG51bGw7XG4gICAgICB9XG4gICAgICB1cGxvYWRTdGF0dXMgJiYgKHVwbG9hZFN0YXR1cy50ZXh0Q29udGVudCA9ICdBdWN1biBmaWNoaWVyIHNcdTAwRTlsZWN0aW9ublx1MDBFOS4nKTtcbiAgICAgIGZpbGVJbnB1dCAmJiAoZmlsZUlucHV0LnZhbHVlID0gJycpO1xuICAgIH07XG5cbiAgICBjb25zdCB1cGRhdGVDb3VudEJhZGdlID0gKCkgPT4ge1xuICAgICAgaWYgKCFjb3VudEJhZGdlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghZmlsdGVyZWRJdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgY291bnRCYWRnZS50ZXh0Q29udGVudCA9ICcwIG1cdTAwRTlkaWEnO1xuICAgICAgfSBlbHNlIGlmIChmaWx0ZXJlZEl0ZW1zLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICBjb3VudEJhZGdlLnRleHRDb250ZW50ID0gJzEgbVx1MDBFOWRpYSc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb3VudEJhZGdlLnRleHRDb250ZW50ID0gYCR7ZmlsdGVyZWRJdGVtcy5sZW5ndGh9IG1cdTAwRTlkaWFzYDtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgcmVuZGVyR3JpZCA9ICgpID0+IHtcbiAgICAgIGdyaWQuaW5uZXJIVE1MID0gJyc7XG4gICAgICBpZiAoIWZpbHRlcmVkSXRlbXMubGVuZ3RoKSB7XG4gICAgICAgIGVtcHR5U3RhdGU/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICByZXNldERldGFpbFBhbmVsKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGVtcHR5U3RhdGU/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgZmlsdGVyZWRJdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgIGNvbnN0IGNhcmQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgY2FyZC50eXBlID0gJ2J1dHRvbic7XG4gICAgICAgIGNhcmQuZGF0YXNldC5tZWRpYUlkID0gaXRlbS5pZDtcbiAgICAgICAgY29uc3QgaXNBY3RpdmUgPSBpdGVtLmlkID09PSBhY3RpdmVNZWRpYUlkO1xuICAgICAgICBjYXJkLmNsYXNzTmFtZSA9IFtcbiAgICAgICAgICAnZ3JvdXAgcmVsYXRpdmUgZmxleCBmbGV4LWNvbCByb3VuZGVkLTJ4bCBib3JkZXIgcHgtMyBweS0zIHRleHQtbGVmdCB0cmFuc2l0aW9uIGZvY3VzLXZpc2libGU6b3V0bGluZSBmb2N1cy12aXNpYmxlOm91dGxpbmUtMiBmb2N1cy12aXNpYmxlOm91dGxpbmUtb2Zmc2V0LTIgZm9jdXMtdmlzaWJsZTpvdXRsaW5lLVsjOUM2QkZGXScsXG4gICAgICAgICAgaXNBY3RpdmVcbiAgICAgICAgICAgID8gJ2JvcmRlci1bIzlDNkJGRl0gYmctWyNGN0YwRkZdLzYwIHNoYWRvdy1zbSdcbiAgICAgICAgICAgIDogJ2JvcmRlci1zbGF0ZS0yMDAgaG92ZXI6Ym9yZGVyLVsjOUM2QkZGXS80MCcsXG4gICAgICAgIF0uam9pbignICcpO1xuICAgICAgICBjb25zdCBwcmV2aWV3ID0gaXNJbWFnZVR5cGUoaXRlbSlcbiAgICAgICAgICA/IGA8aW1nIHNyYz1cIiR7aXRlbS5wYXRofVwiIGFsdD1cIiR7aXRlbS5hbHQgfHwgaXRlbS5maWxlbmFtZX1cIiBjbGFzcz1cImgtZnVsbCB3LWZ1bGwgb2JqZWN0LWNvdmVyXCIgLz5gXG4gICAgICAgICAgOiBgPGRpdiBjbGFzcz1cImZsZXggaC1mdWxsIHctZnVsbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdGV4dC0zeGwgdGV4dC1zbGF0ZS00MDBcIj5cdUQ4M0RcdURDQzQ8L2Rpdj5gO1xuICAgICAgICBjYXJkLmlubmVySFRNTCA9IGBcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwicmVsYXRpdmUgYXNwZWN0LVs0LzNdIG92ZXJmbG93LWhpZGRlbiByb3VuZGVkLXhsIGJnLXNsYXRlLTEwMFwiPlxuICAgICAgICAgICAgJHtwcmV2aWV3fVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJtdC0yIHNwYWNlLXktMVwiPlxuICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgdGV4dC1zbGF0ZS05MDAgdHJ1bmNhdGVcIj4ke2l0ZW0uZmlsZW5hbWV9PC9wPlxuICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNTAwXCI+XG4gICAgICAgICAgICAgICR7Zm9ybWF0VHlwZUxhYmVsKGl0ZW0pfSBcdTAwQjcgJHtmb3JtYXRGaWxlU2l6ZShpdGVtLnNpemUpfVxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICBgO1xuICAgICAgICBpZiAoaXRlbS5pZCA9PT0gaGlnaGxpZ2h0TWVkaWFJZCkge1xuICAgICAgICAgIGNhcmQuY2xhc3NMaXN0LmFkZCgncmluZy0yJywgJ3JpbmctWyM5QzZCRkZdJyk7XG4gICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgY2FyZC5jbGFzc0xpc3QucmVtb3ZlKCdyaW5nLTInLCAncmluZy1bIzlDNkJGRl0nKTtcbiAgICAgICAgICB9LCAxNjAwKTtcbiAgICAgICAgfVxuICAgICAgICBjYXJkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gc2VsZWN0TWVkaWEoaXRlbS5pZCkpO1xuICAgICAgICBncmlkLmFwcGVuZENoaWxkKGNhcmQpO1xuICAgICAgfSk7XG4gICAgICBoaWdobGlnaHRNZWRpYUlkID0gbnVsbDtcbiAgICB9O1xuXG4gICAgY29uc3QgcmVuZGVyVXNlZEluID0gKGl0ZW0pID0+IHtcbiAgICAgIGlmICghZGV0YWlsVXNlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBkZXRhaWxVc2VkLmlubmVySFRNTCA9ICcnO1xuICAgICAgaWYgKCFpdGVtLnVzZWRJbiB8fCBpdGVtLnVzZWRJbi5sZW5ndGggPT09IDApIHtcbiAgICAgICAgY29uc3QgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgICBsaS50ZXh0Q29udGVudCA9ICdOb24gdXRpbGlzXHUwMEU5JztcbiAgICAgICAgbGkuY2xhc3NOYW1lID0gJ3RleHQteHMgdGV4dC1zbGF0ZS00MDAnO1xuICAgICAgICBkZXRhaWxVc2VkLmFwcGVuZENoaWxkKGxpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaXRlbS51c2VkSW4uZm9yRWFjaCgoZW50cnkpID0+IHtcbiAgICAgICAgY29uc3QgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgICBsaS50ZXh0Q29udGVudCA9IGVudHJ5O1xuICAgICAgICBsaS5jbGFzc05hbWUgPSAndGV4dC14cyB0ZXh0LXNsYXRlLTYwMCc7XG4gICAgICAgIGRldGFpbFVzZWQuYXBwZW5kQ2hpbGQobGkpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IHVwZGF0ZURldGFpbEFjdGlvbnMgPSAoc2F2aW5nKSA9PiB7XG4gICAgICBpZiAoIWRldGFpbFNhdmVCdXR0b24pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHVwbG9hZE1vZGUpIHtcbiAgICAgICAgZGV0YWlsU2F2ZUJ1dHRvbi50ZXh0Q29udGVudCA9IHNhdmluZyA/ICdUXHUwMEU5bFx1MDBFOXZlcnNlbWVudFx1MjAyNicgOiAnVFx1MDBFOWxcdTAwRTl2ZXJzZXInO1xuICAgICAgICBkZXRhaWxTYXZlQnV0dG9uLmRpc2FibGVkID0gc2F2aW5nIHx8ICFwZW5kaW5nVXBsb2FkRmlsZTtcbiAgICAgICAgaWYgKGRldGFpbERlbGV0ZUJ1dHRvbikge1xuICAgICAgICAgIGRldGFpbERlbGV0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBkZXRhaWxTYXZlQnV0dG9uLnRleHRDb250ZW50ID0gc2F2aW5nID8gJ0VucmVnaXN0cmVtZW50XHUyMDI2JyA6ICdFbnJlZ2lzdHJlcic7XG4gICAgICBkZXRhaWxTYXZlQnV0dG9uLmRpc2FibGVkID0gc2F2aW5nIHx8ICFkZXRhaWxEaXJ0eTtcbiAgICAgIGlmIChkZXRhaWxEZWxldGVCdXR0b24pIHtcbiAgICAgICAgZGV0YWlsRGVsZXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICBkZXRhaWxEZWxldGVCdXR0b24uZGlzYWJsZWQgPSAhYWN0aXZlTWVkaWFJZDtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3Qgc2VsZWN0TWVkaWEgPSAobWVkaWFJZCkgPT4ge1xuICAgICAgY29uc3QgaXRlbSA9IG1lZGlhSXRlbXMuZmluZCgoZW50cnkpID0+IGVudHJ5LmlkID09PSBtZWRpYUlkKTtcbiAgICAgIGlmICghaXRlbSkge1xuICAgICAgICByZXNldERldGFpbFBhbmVsKCk7XG4gICAgICAgIHJlbmRlckdyaWQoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY2xlYXJVcGxvYWRTdGF0ZSgpO1xuICAgICAgYWN0aXZlTWVkaWFJZCA9IGl0ZW0uaWQ7XG4gICAgICBkZXRhaWxEaXJ0eSA9IGZhbHNlO1xuICAgICAgdXBkYXRlRGV0YWlsQWN0aW9ucyhmYWxzZSk7XG4gICAgICByZW5kZXJHcmlkKCk7XG4gICAgICBkZXRhaWxFbXB0eT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBkZXRhaWxQYW5lbD8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBpZiAoZGV0YWlsUHJldmlldykge1xuICAgICAgICBpZiAoaXNJbWFnZVR5cGUoaXRlbSkpIHtcbiAgICAgICAgICBkZXRhaWxQcmV2aWV3LmlubmVySFRNTCA9IGA8aW1nIHNyYz1cIiR7aXRlbS5wYXRofVwiIGFsdD1cIiR7aXRlbS5hbHQgfHwgaXRlbS5maWxlbmFtZX1cIiBjbGFzcz1cImgtZnVsbCB3LWZ1bGwgcm91bmRlZC0yeGwgb2JqZWN0LWNvdmVyXCIgLz5gO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRldGFpbFByZXZpZXcuaW5uZXJIVE1MID1cbiAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiZmxleCBoLWZ1bGwgdy1mdWxsIGZsZXgtY29sIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBnYXAtMSB0ZXh0LXNsYXRlLTQwMFwiPjxzcGFuIGNsYXNzPVwidGV4dC0zeGxcIj5cdUQ4M0RcdURDQzQ8L3NwYW4+PHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIGZvbnQtc2VtaWJvbGRcIj5Eb2N1bWVudDwvc3Bhbj48L2Rpdj4nO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBkZXRhaWxOYW1lICYmIChkZXRhaWxOYW1lLnRleHRDb250ZW50ID0gaXRlbS5maWxlbmFtZSB8fCAnRmljaGllcicpO1xuICAgICAgZGV0YWlsVHlwZSAmJiAoZGV0YWlsVHlwZS50ZXh0Q29udGVudCA9IGZvcm1hdFR5cGVMYWJlbChpdGVtKSk7XG4gICAgICBkZXRhaWxTaXplICYmIChkZXRhaWxTaXplLnRleHRDb250ZW50ID0gZm9ybWF0RmlsZVNpemUoaXRlbS5zaXplKSk7XG4gICAgICBpZiAoZGV0YWlsQWx0SW5wdXQpIHtcbiAgICAgICAgZGV0YWlsQWx0SW5wdXQudmFsdWUgPSBpdGVtLmFsdCB8fCAnJztcbiAgICAgIH1cbiAgICAgIGRldGFpbFBhdGggJiYgKGRldGFpbFBhdGgudGV4dENvbnRlbnQgPSBpdGVtLnBhdGggfHwgJ1x1MjAxNCcpO1xuICAgICAgcmVuZGVyVXNlZEluKGl0ZW0pO1xuICAgIH07XG5cbiAgICBjb25zdCBzaG93VXBsb2FkUHJldmlldyA9IChmaWxlKSA9PiB7XG4gICAgICBpZiAoIWZpbGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdXBsb2FkTW9kZSA9IHRydWU7XG4gICAgICBkZXRhaWxEaXJ0eSA9IGZhbHNlO1xuICAgICAgYWN0aXZlTWVkaWFJZCA9IG51bGw7XG4gICAgICBkZXRhaWxFbXB0eT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBkZXRhaWxQYW5lbD8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBpZiAodXBsb2FkUHJldmlld1VybCkge1xuICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKHVwbG9hZFByZXZpZXdVcmwpO1xuICAgICAgfVxuICAgICAgdXBsb2FkUHJldmlld1VybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZSk7XG4gICAgICBpZiAoZGV0YWlsUHJldmlldykge1xuICAgICAgICBkZXRhaWxQcmV2aWV3LmlubmVySFRNTCA9IGA8aW1nIHNyYz1cIiR7dXBsb2FkUHJldmlld1VybH1cIiBhbHQ9XCIke2ZpbGUubmFtZX1cIiBjbGFzcz1cImgtZnVsbCB3LWZ1bGwgcm91bmRlZC0yeGwgb2JqZWN0LWNvdmVyXCIgLz5gO1xuICAgICAgfVxuICAgICAgZGV0YWlsTmFtZSAmJiAoZGV0YWlsTmFtZS50ZXh0Q29udGVudCA9IGZpbGUubmFtZSk7XG4gICAgICBkZXRhaWxUeXBlICYmIChkZXRhaWxUeXBlLnRleHRDb250ZW50ID0gZm9ybWF0VHlwZUxhYmVsKHsgdHlwZTogZmlsZS50eXBlLCBmaWxlbmFtZTogZmlsZS5uYW1lIH0pKTtcbiAgICAgIGRldGFpbFNpemUgJiYgKGRldGFpbFNpemUudGV4dENvbnRlbnQgPSBmb3JtYXRGaWxlU2l6ZShmaWxlLnNpemUpKTtcbiAgICAgIGlmIChkZXRhaWxBbHRJbnB1dCAmJiAhZGV0YWlsQWx0SW5wdXQudmFsdWUudHJpbSgpKSB7XG4gICAgICAgIGRldGFpbEFsdElucHV0LnZhbHVlID0gZmlsZS5uYW1lLnJlcGxhY2UoL1xcLlteLl0rJC8sICcnKS5yZXBsYWNlKC9bLV9dL2csICcgJyk7XG4gICAgICB9XG4gICAgICBkZXRhaWxQYXRoICYmIChkZXRhaWxQYXRoLnRleHRDb250ZW50ID0gJ0VuIGF0dGVudGUgZGUgdFx1MDBFOWxcdTAwRTl2ZXJzZW1lbnQnKTtcbiAgICAgIGlmIChkZXRhaWxVc2VkKSB7XG4gICAgICAgIGRldGFpbFVzZWQuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgIGNvbnN0IGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgbGkudGV4dENvbnRlbnQgPSAnTm9uIHV0aWxpc1x1MDBFOSc7XG4gICAgICAgIGxpLmNsYXNzTmFtZSA9ICd0ZXh0LXhzIHRleHQtc2xhdGUtNDAwJztcbiAgICAgICAgZGV0YWlsVXNlZC5hcHBlbmRDaGlsZChsaSk7XG4gICAgICB9XG4gICAgICB1cGRhdGVEZXRhaWxBY3Rpb25zKGZhbHNlKTtcbiAgICB9O1xuXG4gICAgY29uc3QgYXBwbHlGaWx0ZXJzID0gKCkgPT4ge1xuICAgICAgY29uc3QgdHlwZUZpbHRlciA9IGZpbHRlclR5cGU/LnZhbHVlIHx8ICdhbGwnO1xuICAgICAgaWYgKHR5cGVGaWx0ZXIgPT09ICdhbGwnKSB7XG4gICAgICAgIGZpbHRlcmVkSXRlbXMgPSBbLi4ubWVkaWFJdGVtc107XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmaWx0ZXJlZEl0ZW1zID0gbWVkaWFJdGVtcy5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0uZ3JvdXBUeXBlID09PSB0eXBlRmlsdGVyKTtcbiAgICAgIH1cbiAgICAgIGlmICghZmlsdGVyZWRJdGVtcy5zb21lKChpdGVtKSA9PiBpdGVtLmlkID09PSBhY3RpdmVNZWRpYUlkKSkge1xuICAgICAgICByZXNldERldGFpbFBhbmVsKCk7XG4gICAgICB9XG4gICAgICB1cGRhdGVDb3VudEJhZGdlKCk7XG4gICAgICByZW5kZXJHcmlkKCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGxvYWRNZWRpYSA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghbWVkaWFBcGlCYXNlKSB7XG4gICAgICAgIGVtcHR5U3RhdGU/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKG1lZGlhQXBpQmFzZSwge1xuICAgICAgICAgIGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ltcG9zc2libGUgZGUgY2hhcmdlciBsZXMgbVx1MDBFOWRpYXMuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoeyBpdGVtczogW10gfSkpO1xuICAgICAgICBtZWRpYUl0ZW1zID0gQXJyYXkuaXNBcnJheShwYXlsb2FkLml0ZW1zKVxuICAgICAgICAgID8gcGF5bG9hZC5pdGVtcy5tYXAoKGl0ZW0pID0+ICh7IC4uLml0ZW0sIGdyb3VwVHlwZTogZGVyaXZlR3JvdXBUeXBlKGl0ZW0pIH0pKVxuICAgICAgICAgIDogW107XG4gICAgICAgIGFwcGx5RmlsdGVycygpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1ttZWRpYV0gbG9hZCBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgY2hhcmdlciBsZXMgbVx1MDBFOWRpYXMuJyk7XG4gICAgICAgIG1lZGlhSXRlbXMgPSBbXTtcbiAgICAgICAgYXBwbHlGaWx0ZXJzKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGZpbHRlclR5cGU/LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgICAgIGFwcGx5RmlsdGVycygpO1xuICAgIH0pO1xuICAgIGRldGFpbEFsdElucHV0Py5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICAgIGlmICh1cGxvYWRNb2RlKSB7XG4gICAgICAgIHVwZGF0ZURldGFpbEFjdGlvbnMoZmFsc2UpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWFjdGl2ZU1lZGlhSWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZGV0YWlsRGlydHkgPSB0cnVlO1xuICAgICAgdXBkYXRlRGV0YWlsQWN0aW9ucyhmYWxzZSk7XG4gICAgfSk7XG5cbiAgICBjb25zdCBoYW5kbGVGaWxlU2VsZWN0aW9uID0gKGZpbGUpID0+IHtcbiAgICAgIGlmICghZmlsZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWZpbGUudHlwZS5zdGFydHNXaXRoKCdpbWFnZS8nKSkge1xuICAgICAgICBzaG93VG9hc3QoJ1NldWxlcyBsZXMgaW1hZ2VzIHNvbnQgYWNjZXB0XHUwMEU5ZXMgcG91ciBsZSBtb21lbnQuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChmaWxlLnNpemUgPiA0ICogMTAyNCAqIDEwMjQpIHtcbiAgICAgICAgc2hvd1RvYXN0KCdGaWNoaWVyIHRyb3Agdm9sdW1pbmV1eCAoNCBNbyBtYXgpLicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwZW5kaW5nVXBsb2FkRmlsZSA9IGZpbGU7XG4gICAgICBzaG93VXBsb2FkUHJldmlldyhmaWxlKTtcbiAgICAgIGlmICh1cGxvYWRTdGF0dXMpIHtcbiAgICAgICAgdXBsb2FkU3RhdHVzLnRleHRDb250ZW50ID0gYCR7ZmlsZS5uYW1lfSBcdTAwQjcgJHtmb3JtYXRGaWxlU2l6ZShmaWxlLnNpemUpfWA7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHJlYWRGaWxlQXNCYXNlNjQgPSAoZmlsZSkgPT5cbiAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgICAgcmVhZGVyLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSByZWFkZXIucmVzdWx0IHx8ICcnO1xuICAgICAgICAgIGNvbnN0IFssIGJhc2U2NCA9ICcnXSA9IFN0cmluZyhyZXN1bHQpLnNwbGl0KCcsJyk7XG4gICAgICAgICAgcmVzb2x2ZShiYXNlNjQpO1xuICAgICAgICB9O1xuICAgICAgICByZWFkZXIub25lcnJvciA9ICgpID0+IHJlamVjdChuZXcgRXJyb3IoJ0ltcG9zc2libGUgZGUgbGlyZSBjZSBmaWNoaWVyLicpKTtcbiAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XG4gICAgICB9KTtcblxuICAgIGNvbnN0IHVwbG9hZFNlbGVjdGVkTWVkaWEgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXBlbmRpbmdVcGxvYWRGaWxlIHx8ICFtZWRpYUFwaUJhc2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdXBsb2FkSW5Qcm9ncmVzcyA9IHRydWU7XG4gICAgICB1cGRhdGVEZXRhaWxBY3Rpb25zKHRydWUpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgYmFzZTY0ID0gYXdhaXQgcmVhZEZpbGVBc0Jhc2U2NChwZW5kaW5nVXBsb2FkRmlsZSk7XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgICAgZmlsZW5hbWU6IHBlbmRpbmdVcGxvYWRGaWxlLm5hbWUsXG4gICAgICAgICAgdHlwZTogcGVuZGluZ1VwbG9hZEZpbGUudHlwZSxcbiAgICAgICAgICBzaXplOiBwZW5kaW5nVXBsb2FkRmlsZS5zaXplLFxuICAgICAgICAgIGFsdDogZGV0YWlsQWx0SW5wdXQ/LnZhbHVlIHx8ICcnLFxuICAgICAgICAgIGRhdGE6IGJhc2U2NCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChtZWRpYUFwaUJhc2UsIHtcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBjb25zdCBlcnJvclBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yUGF5bG9hZC5tZXNzYWdlIHx8ICdVcGxvYWQgaW1wb3NzaWJsZS4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzYXZlZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgc2F2ZWQuZ3JvdXBUeXBlID0gZGVyaXZlR3JvdXBUeXBlKHNhdmVkKTtcbiAgICAgICAgbWVkaWFJdGVtcyA9IFsuLi5tZWRpYUl0ZW1zLCBzYXZlZF07XG4gICAgICAgIGhpZ2hsaWdodE1lZGlhSWQgPSBzYXZlZC5pZDtcbiAgICAgICAgYXBwbHlGaWx0ZXJzKCk7XG4gICAgICAgIHNlbGVjdE1lZGlhKHNhdmVkLmlkKTtcbiAgICAgICAgc2hvd1RvYXN0KCdNXHUwMEU5ZGlhIGFqb3V0XHUwMEU5Jyk7XG4gICAgICAgIGNsZWFyVXBsb2FkU3RhdGUoKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbbWVkaWFdIHVwbG9hZCBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgdFx1MDBFOWxcdTAwRTl2ZXJzZXIgY2UgbVx1MDBFOWRpYS4nKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHVwbG9hZEluUHJvZ3Jlc3MgPSBmYWxzZTtcbiAgICAgICAgcGVuZGluZ1VwbG9hZEZpbGUgPSBudWxsO1xuICAgICAgICB1cGRhdGVEZXRhaWxBY3Rpb25zKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdXBsb2FkT3BlbkJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBmaWxlSW5wdXQ/LmNsaWNrKCkpO1xuICAgIGZpbGVJbnB1dD8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICAgICAgaWYgKGZpbGVJbnB1dC5maWxlcyAmJiBmaWxlSW5wdXQuZmlsZXNbMF0pIHtcbiAgICAgICAgaGFuZGxlRmlsZVNlbGVjdGlvbihmaWxlSW5wdXQuZmlsZXNbMF0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IGNsb3NlRGVsZXRlTW9kYWwgPSAoKSA9PiB7XG4gICAgICBpZiAoIWRlbGV0ZU1vZGFsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGRlbGV0ZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgZGVsZXRlTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnZmxleCcpO1xuICAgIH07XG5cbiAgICBjb25zdCBvcGVuRGVsZXRlTW9kYWwgPSAoKSA9PiB7XG4gICAgICBpZiAoIWFjdGl2ZU1lZGlhSWQgfHwgdXBsb2FkTW9kZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoZGVsZXRlTW9kYWwpIHtcbiAgICAgICAgZGVsZXRlTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIGRlbGV0ZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2ZsZXgnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gRmFsbGJhY2sgc2kgYXVjdW5lIG1vZGFsZSBuJ2VzdCBkaXNwb25pYmxlXG4gICAgICBpZiAod2luZG93LmNvbmZpcm0oJ1N1cHByaW1lciBjZSBtXHUwMEU5ZGlhID8nKSkge1xuICAgICAgICBkZWxldGVBY3RpdmVNZWRpYSgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBkZWxldGVBY3RpdmVNZWRpYSA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghYWN0aXZlTWVkaWFJZCB8fCAhbWVkaWFBcGlCYXNlKSB7XG4gICAgICAgIGNsb3NlRGVsZXRlTW9kYWwoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgZGlzYWJsZUJ1dHRvbnMgPSAoKSA9PiB7XG4gICAgICAgIGlmIChkZXRhaWxEZWxldGVCdXR0b24pIHtcbiAgICAgICAgICBkZXRhaWxEZWxldGVCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkZWxldGVDb25maXJtQnV0dG9uKSB7XG4gICAgICAgICAgZGVsZXRlQ29uZmlybUJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgICAgZGVsZXRlQ29uZmlybUJ1dHRvbi50ZXh0Q29udGVudCA9ICdTdXBwcmVzc2lvblx1MjAyNic7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBjb25zdCBlbmFibGVCdXR0b25zID0gKCkgPT4ge1xuICAgICAgICBpZiAoZGV0YWlsRGVsZXRlQnV0dG9uKSB7XG4gICAgICAgICAgZGV0YWlsRGVsZXRlQnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlbGV0ZUNvbmZpcm1CdXR0b24pIHtcbiAgICAgICAgICBkZWxldGVDb25maXJtQnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgZGVsZXRlQ29uZmlybUJ1dHRvbi50ZXh0Q29udGVudCA9ICdTdXBwcmltZXInO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgZGlzYWJsZUJ1dHRvbnMoKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgICAgYCR7bWVkaWFBcGlCYXNlfS8ke2VuY29kZVVSSUNvbXBvbmVudChhY3RpdmVNZWRpYUlkKX1gLFxuICAgICAgICAgIHsgbWV0aG9kOiAnREVMRVRFJyB9LFxuICAgICAgICApO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocGF5bG9hZC5tZXNzYWdlIHx8ICdTdXBwcmVzc2lvbiBpbXBvc3NpYmxlLicpO1xuICAgICAgICB9XG4gICAgICAgIG1lZGlhSXRlbXMgPSBtZWRpYUl0ZW1zLmZpbHRlcigoaXRlbSkgPT4gaXRlbS5pZCAhPT0gYWN0aXZlTWVkaWFJZCk7XG4gICAgICAgIGZpbHRlcmVkSXRlbXMgPSBmaWx0ZXJlZEl0ZW1zLmZpbHRlcigoaXRlbSkgPT4gaXRlbS5pZCAhPT0gYWN0aXZlTWVkaWFJZCk7XG4gICAgICAgIHNob3dUb2FzdCgnTVx1MDBFOWRpYSBzdXBwcmltXHUwMEU5Jyk7XG4gICAgICAgIHJlc2V0RGV0YWlsUGFuZWwoKTtcbiAgICAgICAgdXBkYXRlQ291bnRCYWRnZSgpO1xuICAgICAgICByZW5kZXJHcmlkKCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW21lZGlhXSBkZWxldGUgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIHN1cHByaW1lciBjZSBtXHUwMEU5ZGlhLicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgZW5hYmxlQnV0dG9ucygpO1xuICAgICAgICBjbG9zZURlbGV0ZU1vZGFsKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGRlbGV0ZUNhbmNlbEJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZURlbGV0ZU1vZGFsKTtcbiAgICBkZWxldGVNb2RhbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIGlmIChldmVudC50YXJnZXQgPT09IGRlbGV0ZU1vZGFsKSB7XG4gICAgICAgIGNsb3NlRGVsZXRlTW9kYWwoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGRlbGV0ZUNvbmZpcm1CdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gZGVsZXRlQWN0aXZlTWVkaWEoKSk7XG4gICAgZGV0YWlsRGVsZXRlQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5EZWxldGVNb2RhbCk7XG5cbiAgICBkZXRhaWxTYXZlQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGlmICh1cGxvYWRNb2RlKSB7XG4gICAgICAgIHVwbG9hZFNlbGVjdGVkTWVkaWEoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFhY3RpdmVNZWRpYUlkIHx8ICFtZWRpYUFwaUJhc2UgfHwgIWRldGFpbEFsdElucHV0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHVwZGF0ZURldGFpbEFjdGlvbnModHJ1ZSk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBwYXlsb2FkID0geyBhbHQ6IGRldGFpbEFsdElucHV0LnZhbHVlIHx8ICcnIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgICAgYCR7bWVkaWFBcGlCYXNlfS8ke2VuY29kZVVSSUNvbXBvbmVudChhY3RpdmVNZWRpYUlkKX1gLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICAgIH0sXG4gICAgICAgICk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBjb25zdCBlcnJvclBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yUGF5bG9hZC5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIG1ldHRyZSBcdTAwRTAgam91ciBjZSBtXHUwMEU5ZGlhLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHVwZGF0ZWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIG1lZGlhSXRlbXMgPSBtZWRpYUl0ZW1zLm1hcCgoaXRlbSkgPT5cbiAgICAgICAgICBpdGVtLmlkID09PSBhY3RpdmVNZWRpYUlkID8geyAuLi5pdGVtLCAuLi51cGRhdGVkIH0gOiBpdGVtLFxuICAgICAgICApO1xuICAgICAgICBmaWx0ZXJlZEl0ZW1zID0gZmlsdGVyZWRJdGVtcy5tYXAoKGl0ZW0pID0+XG4gICAgICAgICAgaXRlbS5pZCA9PT0gYWN0aXZlTWVkaWFJZCA/IHsgLi4uaXRlbSwgLi4udXBkYXRlZCB9IDogaXRlbSxcbiAgICAgICAgKTtcbiAgICAgICAgZGV0YWlsRGlydHkgPSBmYWxzZTtcbiAgICAgICAgdXBkYXRlRGV0YWlsQWN0aW9ucyhmYWxzZSk7XG4gICAgICAgIHNob3dUb2FzdCgnTVx1MDBFOWRpYSBtaXMgXHUwMEUwIGpvdXInKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbbWVkaWFdIHVwZGF0ZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UgfHwgJ1x1MDBDOWNoZWMgZGUgbGEgbWlzZSBcdTAwRTAgam91ci4nKTtcbiAgICAgICAgdXBkYXRlRGV0YWlsQWN0aW9ucyhmYWxzZSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBsb2FkTWVkaWEoKTtcbiAgfVxuXG4gIC8vIFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFxuICAvLyBBSSBDSEFUIC0gQXNzaXN0YW50IElBIGNvbnRleHR1ZWxcbiAgLy8gXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXG5cbiAgY29uc3QgYWlDaGF0VG9nZ2xlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FpLWNoYXQtdG9nZ2xlJyk7XG4gIGNvbnN0IGFpQ2hhdFBhbmVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FpLWNoYXQtcGFuZWwnKTtcbiAgY29uc3QgYWlDaGF0T3ZlcmxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhaS1jaGF0LW92ZXJsYXknKTtcbiAgY29uc3QgYWlDaGF0Q2xvc2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWktY2hhdC1jbG9zZScpO1xuICBjb25zdCBhaUNoYXRDbGVhciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhaS1jaGF0LWNsZWFyJyk7XG4gIGNvbnN0IGFpQ2hhdEZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWktY2hhdC1mb3JtJyk7XG4gIGNvbnN0IGFpQ2hhdElucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FpLWNoYXQtaW5wdXQnKTtcbiAgY29uc3QgYWlDaGF0TWVzc2FnZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWktY2hhdC1tZXNzYWdlcycpO1xuICBjb25zdCBhaUNoYXRTdGF0dXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWktY2hhdC1zdGF0dXMnKTtcbiAgY29uc3QgYWlDaGF0Tm9BcGkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWktY2hhdC1uby1hcGknKTtcbiAgY29uc3QgYWlRdWlja0J1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1haS1xdWlja10nKTtcblxuICBsZXQgYWlDaGF0T3BlbiA9IGZhbHNlO1xuICBsZXQgYWlJc0xvYWRpbmcgPSBmYWxzZTtcbiAgbGV0IGFpQ29uZmlnQ2hlY2tlZCA9IGZhbHNlO1xuICBsZXQgYWlIYXNBcGlLZXkgPSBmYWxzZTtcblxuICAvKipcbiAgICogT3V2cmUgbGUgcGFuZWwgZGUgY2hhdCBJQVxuICAgKi9cbiAgZnVuY3Rpb24gb3BlbkFJQ2hhdCgpIHtcbiAgICBpZiAoIWFpQ2hhdFBhbmVsKSByZXR1cm47XG4gICAgYWlDaGF0T3BlbiA9IHRydWU7XG4gICAgYWlDaGF0UGFuZWwuY2xhc3NMaXN0LnJlbW92ZSgndHJhbnNsYXRlLXgtZnVsbCcpO1xuICAgIGFpQ2hhdFBhbmVsLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAnZmFsc2UnKTtcbiAgICBhaUNoYXRPdmVybGF5Py5jbGFzc0xpc3QucmVtb3ZlKCdvcGFjaXR5LTAnLCAncG9pbnRlci1ldmVudHMtbm9uZScpO1xuICAgIGFpQ2hhdE92ZXJsYXk/LmNsYXNzTGlzdC5hZGQoJ29wYWNpdHktMTAwJyk7XG4gICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICBhaUNoYXRJbnB1dD8uZm9jdXMoKTtcblxuICAgIC8vIFZcdTAwRTlyaWZpZXIgbGEgY29uZmlnIEFJIGF1IHByZW1pZXIgb3V2ZXJ0dXJlXG4gICAgaWYgKCFhaUNvbmZpZ0NoZWNrZWQpIHtcbiAgICAgIGNoZWNrQUlDb25maWcoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRmVybWUgbGUgcGFuZWwgZGUgY2hhdCBJQVxuICAgKi9cbiAgZnVuY3Rpb24gY2xvc2VBSUNoYXQoKSB7XG4gICAgaWYgKCFhaUNoYXRQYW5lbCkgcmV0dXJuO1xuICAgIGFpQ2hhdE9wZW4gPSBmYWxzZTtcbiAgICBhaUNoYXRQYW5lbC5jbGFzc0xpc3QuYWRkKCd0cmFuc2xhdGUteC1mdWxsJyk7XG4gICAgYWlDaGF0UGFuZWwuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJyk7XG4gICAgYWlDaGF0T3ZlcmxheT8uY2xhc3NMaXN0LmFkZCgnb3BhY2l0eS0wJywgJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICBhaUNoYXRPdmVybGF5Py5jbGFzc0xpc3QucmVtb3ZlKCdvcGFjaXR5LTEwMCcpO1xuICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnb3ZlcmZsb3ctaGlkZGVuJyk7XG4gIH1cblxuICAvKipcbiAgICogVlx1MDBFOXJpZmllIHNpIGwnQVBJIEFJIGVzdCBjb25maWd1clx1MDBFOWVcbiAgICovXG4gIGFzeW5jIGZ1bmN0aW9uIGNoZWNrQUlDb25maWcoKSB7XG4gICAgY29uc3Qgc2l0ZVNsdWcgPSBzdHJpcExlYWRpbmdTbGFzaChzdG9yZWRTaXRlLnNsdWcgfHwgJycpO1xuICAgIGlmICghc2l0ZVNsdWcpIHtcbiAgICAgIGFpQ2hhdE5vQXBpPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2l0ZVNsdWcpfS9jb25maWcvYWlgKTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHRocm93IG5ldyBFcnJvcignQ29uZmlnIGNoZWNrIGZhaWxlZCcpO1xuICAgICAgY29uc3QgY29uZmlnID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgYWlDb25maWdDaGVja2VkID0gdHJ1ZTtcbiAgICAgIGFpSGFzQXBpS2V5ID0gY29uZmlnLmhhc0FwaUtleTtcbiAgICAgIFxuICAgICAgaWYgKCFjb25maWcuZW5hYmxlZCB8fCAhY29uZmlnLmhhc0FwaUtleSkge1xuICAgICAgICBhaUNoYXROb0FwaT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhaUNoYXROb0FwaT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIC8vIENoYXJnZXIgbCdoaXN0b3JpcXVlXG4gICAgICAgIGxvYWRBSUNoYXRIaXN0b3J5KCk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdbQUldIENvbmZpZyBjaGVjayBmYWlsZWQ6JywgZXJyKTtcbiAgICAgIGFpQ2hhdE5vQXBpPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2hhcmdlIGwnaGlzdG9yaXF1ZSBkZSBjb252ZXJzYXRpb25cbiAgICovXG4gIGFzeW5jIGZ1bmN0aW9uIGxvYWRBSUNoYXRIaXN0b3J5KCkge1xuICAgIGNvbnN0IHNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goc3RvcmVkU2l0ZS5zbHVnIHx8ICcnKTtcbiAgICBpZiAoIXNpdGVTbHVnIHx8ICFhaUNoYXRNZXNzYWdlcykgcmV0dXJuO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNpdGVTbHVnKX0vYWkvaGlzdG9yeWApO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykgcmV0dXJuO1xuICAgICAgXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgaWYgKGRhdGEubWVzc2FnZXMgJiYgZGF0YS5tZXNzYWdlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIC8vIEVmZmFjZXIgbGUgbWVzc2FnZSBkZSBiaWVudmVudWVcbiAgICAgICAgY29uc3Qgd2VsY29tZU1zZyA9IGFpQ2hhdE1lc3NhZ2VzLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFpLXdlbGNvbWVdJyk7XG4gICAgICAgIGlmICh3ZWxjb21lTXNnKSB3ZWxjb21lTXNnLnJlbW92ZSgpO1xuICAgICAgICBcbiAgICAgICAgLy8gQWZmaWNoZXIgbGVzIG1lc3NhZ2VzXG4gICAgICAgIGRhdGEubWVzc2FnZXMuZm9yRWFjaChtc2cgPT4ge1xuICAgICAgICAgIGFwcGVuZEFJTWVzc2FnZShtc2cuY29udGVudCwgbXNnLnJvbGUgPT09ICd1c2VyJyA/ICd1c2VyJyA6ICdhc3Npc3RhbnQnKTtcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICAvLyBTY3JvbGwgdmVycyBsZSBiYXNcbiAgICAgICAgYWlDaGF0TWVzc2FnZXMuc2Nyb2xsVG9wID0gYWlDaGF0TWVzc2FnZXMuc2Nyb2xsSGVpZ2h0O1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignW0FJXSBIaXN0b3J5IGxvYWQgZmFpbGVkOicsIGVycik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFqb3V0ZSB1biBtZXNzYWdlIGF1IGNoYXRcbiAgICovXG4gIGZ1bmN0aW9uIGFwcGVuZEFJTWVzc2FnZShjb250ZW50LCByb2xlID0gJ2Fzc2lzdGFudCcpIHtcbiAgICBpZiAoIWFpQ2hhdE1lc3NhZ2VzKSByZXR1cm47XG4gICAgXG4gICAgY29uc3QgbXNnRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgbXNnRGl2LmNsYXNzTmFtZSA9ICdmbGV4IGdhcC0zJztcbiAgICBcbiAgICBpZiAocm9sZSA9PT0gJ3VzZXInKSB7XG4gICAgICBtc2dEaXYuaW5uZXJIVE1MID0gYFxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleC0xXCI+PC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJtYXgtdy1bODAlXSBiZy12aW9sZXQtNjAwIHRleHQtd2hpdGUgcm91bmRlZC0yeGwgcm91bmRlZC10ci1ub25lIHAtM1wiPlxuICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1zbSB3aGl0ZXNwYWNlLXByZS13cmFwXCI+JHtlc2NhcGVIdG1sKGNvbnRlbnQpfTwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJ3LTggaC04IHJvdW5kZWQtZnVsbCBiZy1zbGF0ZS0yMDAgZmxleC1zaHJpbmstMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgIDxzdmcgY2xhc3M9XCJ3LTQgaC00IHRleHQtc2xhdGUtNTAwXCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICA8cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xNiA3YTQgNCAwIDExLTggMCA0IDQgMCAwMTggMHpNMTIgMTRhNyA3IDAgMDAtNyA3aDE0YTcgNyAwIDAwLTctN3pcIi8+XG4gICAgICAgICAgPC9zdmc+XG4gICAgICAgIDwvZGl2PlxuICAgICAgYDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRm9ybWF0dGVyIGxlIGNvbnRlbnUgTWFya2Rvd24gYmFzaXF1ZVxuICAgICAgY29uc3QgZm9ybWF0dGVkQ29udGVudCA9IGZvcm1hdEFJUmVzcG9uc2UoY29udGVudCk7XG4gICAgICBtc2dEaXYuaW5uZXJIVE1MID0gYFxuICAgICAgICA8ZGl2IGNsYXNzPVwidy04IGgtOCByb3VuZGVkLWZ1bGwgYmctZ3JhZGllbnQtdG8tYnIgZnJvbS12aW9sZXQtNTAwIHRvLWluZGlnby02MDAgZmxleC1zaHJpbmstMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgIDxzdmcgY2xhc3M9XCJ3LTQgaC00IHRleHQtd2hpdGVcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgIDxwYXRoIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTkuNjYzIDE3aDQuNjczTTEyIDN2MW02LjM2NCAxLjYzNmwtLjcwNy43MDdNMjEgMTJoLTFNNCAxMkgzbTMuMzQzLTUuNjU3bC0uNzA3LS43MDdtMi44MjggOS45YTUgNSAwIDExNy4wNzIgMGwtLjU0OC41NDdBMy4zNzQgMy4zNzQgMCAwMDE0IDE4LjQ2OVYxOWEyIDIgMCAxMS00IDB2LS41MzFjMC0uODk1LS4zNTYtMS43NTQtLjk4OC0yLjM4NmwtLjU0OC0uNTQ3elwiLz5cbiAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4LTEgYmctc2xhdGUtNTAgcm91bmRlZC0yeGwgcm91bmRlZC10bC1ub25lIHAtMyBvdmVyZmxvdy14LWF1dG9cIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC1zbSB0ZXh0LXNsYXRlLTcwMCBwcm9zZSBwcm9zZS1zbSBtYXgtdy1ub25lIFsmPnByZV06Ymctc2xhdGUtODAwIFsmPnByZV06dGV4dC1zbGF0ZS0xMDAgWyY+cHJlXTpyb3VuZGVkLWxnIFsmPnByZV06cC0zIFsmPnByZV06b3ZlcmZsb3cteC1hdXRvIFsmPmNvZGVdOmJnLXNsYXRlLTIwMCBbJj5jb2RlXTpweC0xIFsmPmNvZGVdOnJvdW5kZWRcIj4ke2Zvcm1hdHRlZENvbnRlbnR9PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgYDtcbiAgICB9XG4gICAgXG4gICAgYWlDaGF0TWVzc2FnZXMuYXBwZW5kQ2hpbGQobXNnRGl2KTtcbiAgICBhaUNoYXRNZXNzYWdlcy5zY3JvbGxUb3AgPSBhaUNoYXRNZXNzYWdlcy5zY3JvbGxIZWlnaHQ7XG4gIH1cblxuICAvKipcbiAgICogQWZmaWNoZSB1biBpbmRpY2F0ZXVyIGRlIGNoYXJnZW1lbnRcbiAgICovXG4gIGZ1bmN0aW9uIHNob3dBSUxvYWRpbmcoKSB7XG4gICAgaWYgKCFhaUNoYXRNZXNzYWdlcykgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0IGxvYWRpbmdEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBsb2FkaW5nRGl2LmNsYXNzTmFtZSA9ICdmbGV4IGdhcC0zJztcbiAgICBsb2FkaW5nRGl2LmlkID0gJ2FpLWxvYWRpbmctaW5kaWNhdG9yJztcbiAgICBsb2FkaW5nRGl2LmlubmVySFRNTCA9IGBcbiAgICAgIDxkaXYgY2xhc3M9XCJ3LTggaC04IHJvdW5kZWQtZnVsbCBiZy1ncmFkaWVudC10by1iciBmcm9tLXZpb2xldC01MDAgdG8taW5kaWdvLTYwMCBmbGV4LXNocmluay0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgIDxzdmcgY2xhc3M9XCJ3LTQgaC00IHRleHQtd2hpdGUgYW5pbWF0ZS1wdWxzZVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgIDxwYXRoIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTkuNjYzIDE3aDQuNjczTTEyIDN2MW02LjM2NCAxLjYzNmwtLjcwNy43MDdNMjEgMTJoLTFNNCAxMkgzbTMuMzQzLTUuNjU3bC0uNzA3LS43MDdtMi44MjggOS45YTUgNSAwIDExNy4wNzIgMGwtLjU0OC41NDdBMy4zNzQgMy4zNzQgMCAwMDE0IDE4LjQ2OVYxOWEyIDIgMCAxMS00IDB2LS41MzFjMC0uODk1LS4zNTYtMS43NTQtLjk4OC0yLjM4NmwtLjU0OC0uNTQ3elwiLz5cbiAgICAgICAgPC9zdmc+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJmbGV4LTEgYmctc2xhdGUtNTAgcm91bmRlZC0yeGwgcm91bmRlZC10bC1ub25lIHAtM1wiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwidy0yIGgtMiBiZy12aW9sZXQtNDAwIHJvdW5kZWQtZnVsbCBhbmltYXRlLWJvdW5jZVwiIHN0eWxlPVwiYW5pbWF0aW9uLWRlbGF5OiAwbXNcIj48L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwidy0yIGgtMiBiZy12aW9sZXQtNDAwIHJvdW5kZWQtZnVsbCBhbmltYXRlLWJvdW5jZVwiIHN0eWxlPVwiYW5pbWF0aW9uLWRlbGF5OiAxNTBtc1wiPjwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ3LTIgaC0yIGJnLXZpb2xldC00MDAgcm91bmRlZC1mdWxsIGFuaW1hdGUtYm91bmNlXCIgc3R5bGU9XCJhbmltYXRpb24tZGVsYXk6IDMwMG1zXCI+PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgYDtcbiAgICBcbiAgICBhaUNoYXRNZXNzYWdlcy5hcHBlbmRDaGlsZChsb2FkaW5nRGl2KTtcbiAgICBhaUNoYXRNZXNzYWdlcy5zY3JvbGxUb3AgPSBhaUNoYXRNZXNzYWdlcy5zY3JvbGxIZWlnaHQ7XG4gIH1cblxuICAvKipcbiAgICogQ2FjaGUgbCdpbmRpY2F0ZXVyIGRlIGNoYXJnZW1lbnRcbiAgICovXG4gIGZ1bmN0aW9uIGhpZGVBSUxvYWRpbmcoKSB7XG4gICAgY29uc3QgbG9hZGluZ0RpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhaS1sb2FkaW5nLWluZGljYXRvcicpO1xuICAgIGxvYWRpbmdEaXY/LnJlbW92ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEZvcm1hdGUgbGEgclx1MDBFOXBvbnNlIGRlIGwnSUEgKE1hcmtkb3duIGJhc2lxdWUpXG4gICAqL1xuICBmdW5jdGlvbiBmb3JtYXRBSVJlc3BvbnNlKHRleHQpIHtcbiAgICBpZiAoIXRleHQpIHJldHVybiAnJztcbiAgICBcbiAgICAvLyBFc2NhcGUgSFRNTCBkJ2Fib3JkXG4gICAgbGV0IGZvcm1hdHRlZCA9IGVzY2FwZUh0bWwodGV4dCk7XG4gICAgXG4gICAgLy8gQ29kZSBibG9ja3MgYGBgXG4gICAgZm9ybWF0dGVkID0gZm9ybWF0dGVkLnJlcGxhY2UoL2BgYChcXHcqKVxcbihbXFxzXFxTXSo/KWBgYC9nLCAobWF0Y2gsIGxhbmcsIGNvZGUpID0+IHtcbiAgICAgIHJldHVybiBgPHByZSBjbGFzcz1cImxhbmd1YWdlLSR7bGFuZyB8fCAndGV4dCd9XCI+PGNvZGU+JHtjb2RlLnRyaW0oKX08L2NvZGU+PC9wcmU+YDtcbiAgICB9KTtcbiAgICBcbiAgICAvLyBJbmxpbmUgY29kZSBgXG4gICAgZm9ybWF0dGVkID0gZm9ybWF0dGVkLnJlcGxhY2UoL2AoW15gXSspYC9nLCAnPGNvZGU+JDE8L2NvZGU+Jyk7XG4gICAgXG4gICAgLy8gQm9sZCAqKnRleHQqKlxuICAgIGZvcm1hdHRlZCA9IGZvcm1hdHRlZC5yZXBsYWNlKC9cXCpcXCooW14qXSspXFwqXFwqL2csICc8c3Ryb25nPiQxPC9zdHJvbmc+Jyk7XG4gICAgXG4gICAgLy8gSXRhbGljICp0ZXh0KlxuICAgIGZvcm1hdHRlZCA9IGZvcm1hdHRlZC5yZXBsYWNlKC9cXCooW14qXSspXFwqL2csICc8ZW0+JDE8L2VtPicpO1xuICAgIFxuICAgIC8vIFRpdHJlc1xuICAgIGZvcm1hdHRlZCA9IGZvcm1hdHRlZC5yZXBsYWNlKC9eIyMjICguKykkL2dtLCAnPGg0IGNsYXNzPVwiZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTkwMCBtdC0zIG1iLTFcIj4kMTwvaDQ+Jyk7XG4gICAgZm9ybWF0dGVkID0gZm9ybWF0dGVkLnJlcGxhY2UoL14jIyAoLispJC9nbSwgJzxoMyBjbGFzcz1cImZvbnQtc2VtaWJvbGQgdGV4dC1zbGF0ZS05MDAgbXQtMyBtYi0xXCI+JDE8L2gzPicpO1xuICAgIGZvcm1hdHRlZCA9IGZvcm1hdHRlZC5yZXBsYWNlKC9eIyAoLispJC9nbSwgJzxoMiBjbGFzcz1cImZvbnQtYm9sZCB0ZXh0LXNsYXRlLTkwMCBtdC0zIG1iLTJcIj4kMTwvaDI+Jyk7XG4gICAgXG4gICAgLy8gTGlzdGVzXG4gICAgZm9ybWF0dGVkID0gZm9ybWF0dGVkLnJlcGxhY2UoL14tICguKykkL2dtLCAnPGxpIGNsYXNzPVwibWwtNFwiPiQxPC9saT4nKTtcbiAgICBmb3JtYXR0ZWQgPSBmb3JtYXR0ZWQucmVwbGFjZSgvXihcXGQrKVxcLiAoLispJC9nbSwgJzxsaSBjbGFzcz1cIm1sLTRcIj4kMjwvbGk+Jyk7XG4gICAgXG4gICAgLy8gUGFyYWdyYXBoZXMgKGxpZ25lcyB2aWRlcylcbiAgICBmb3JtYXR0ZWQgPSBmb3JtYXR0ZWQucmVwbGFjZSgvXFxuXFxuL2csICc8L3A+PHAgY2xhc3M9XCJtYi0yXCI+Jyk7XG4gICAgZm9ybWF0dGVkID0gJzxwIGNsYXNzPVwibWItMlwiPicgKyBmb3JtYXR0ZWQgKyAnPC9wPic7XG4gICAgXG4gICAgLy8gTmV0dG95ZXIgbGVzIDxwPiB2aWRlc1xuICAgIGZvcm1hdHRlZCA9IGZvcm1hdHRlZC5yZXBsYWNlKC88cCBjbGFzcz1cIm1iLTJcIj48XFwvcD4vZywgJycpO1xuICAgIFxuICAgIHJldHVybiBmb3JtYXR0ZWQ7XG4gIH1cblxuICAvKipcbiAgICogXHUwMEM5Y2hhcHBlIGxlIEhUTUxcbiAgICovXG4gIGZ1bmN0aW9uIGVzY2FwZUh0bWwodGV4dCkge1xuICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGRpdi50ZXh0Q29udGVudCA9IHRleHQ7XG4gICAgcmV0dXJuIGRpdi5pbm5lckhUTUw7XG4gIH1cblxuICAvKipcbiAgICogRW52b2llIHVuIG1lc3NhZ2UgYXUgY2hhdCBJQVxuICAgKi9cbiAgYXN5bmMgZnVuY3Rpb24gc2VuZEFJTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgY29uc3Qgc2l0ZVNsdWcgPSBzdHJpcExlYWRpbmdTbGFzaChzdG9yZWRTaXRlLnNsdWcgfHwgJycpO1xuICAgIGlmICghbWVzc2FnZSB8fCAhc2l0ZVNsdWcgfHwgYWlJc0xvYWRpbmcpIHJldHVybjtcbiAgICBcbiAgICBhaUlzTG9hZGluZyA9IHRydWU7XG4gICAgYWlDaGF0SW5wdXQuZGlzYWJsZWQgPSB0cnVlO1xuICAgIFxuICAgIC8vIEVmZmFjZXIgbGUgbWVzc2FnZSBkZSBiaWVudmVudWUgYXUgcHJlbWllciBtZXNzYWdlXG4gICAgY29uc3Qgd2VsY29tZU1zZyA9IGFpQ2hhdE1lc3NhZ2VzPy5xdWVyeVNlbGVjdG9yKCdbZGF0YS1haS13ZWxjb21lXScpO1xuICAgIGlmICh3ZWxjb21lTXNnKSB3ZWxjb21lTXNnLnJlbW92ZSgpO1xuICAgIFxuICAgIC8vIEFmZmljaGVyIGxlIG1lc3NhZ2UgZGUgbCd1dGlsaXNhdGV1clxuICAgIGFwcGVuZEFJTWVzc2FnZShtZXNzYWdlLCAndXNlcicpO1xuICAgIFxuICAgIC8vIEFmZmljaGVyIGxlIGxvYWRlclxuICAgIHNob3dBSUxvYWRpbmcoKTtcbiAgICBcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzaXRlU2x1Zyl9L2FpL2NoYXRgLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBtZXNzYWdlIH0pXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgaGlkZUFJTG9hZGluZygpO1xuICAgICAgXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IGVycm9yID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IubWVzc2FnZSB8fCAnRXJyZXVyIGRlIGNvbW11bmljYXRpb24nKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIFxuICAgICAgaWYgKGRhdGEucmVzcG9uc2UpIHtcbiAgICAgICAgYXBwZW5kQUlNZXNzYWdlKGRhdGEucmVzcG9uc2UsICdhc3Npc3RhbnQnKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gR1x1MDBFOXJlciBsZXMgcHJvcG9zaXRpb25zIGQnXHUwMEU5ZGl0aW9uIGRlIHBhZ2VcbiAgICAgIGlmIChkYXRhLmVkaXRQcm9wb3NhbCkge1xuICAgICAgICBhcHBlbmRFZGl0UHJvcG9zYWwoZGF0YS5lZGl0UHJvcG9zYWwpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBHXHUwMEU5cmVyIGxlcyBwcm9wb3NpdGlvbnMgZGUgbW9kaWZpY2F0aW9uIGR1IHRoXHUwMEU4bWVcbiAgICAgIGlmIChkYXRhLnRoZW1lUHJvcG9zYWwpIHtcbiAgICAgICAgYXBwZW5kVGhlbWVQcm9wb3NhbChkYXRhLnRoZW1lUHJvcG9zYWwpO1xuICAgICAgfVxuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBoaWRlQUlMb2FkaW5nKCk7XG4gICAgICBhcHBlbmRBSU1lc3NhZ2UoYFx1Mjc0QyBFcnJldXI6ICR7ZXJyLm1lc3NhZ2V9YCwgJ2Fzc2lzdGFudCcpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBhaUlzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgYWlDaGF0SW5wdXQuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgIGFpQ2hhdElucHV0LmZvY3VzKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFmZmljaGUgdW5lIHByb3Bvc2l0aW9uIGQnXHUwMEU5ZGl0aW9uIGF2ZWMgYm91dG9ucyBkZSB2YWxpZGF0aW9uXG4gICAqL1xuICBmdW5jdGlvbiBhcHBlbmRFZGl0UHJvcG9zYWwocHJvcG9zYWwpIHtcbiAgICBpZiAoIWFpQ2hhdE1lc3NhZ2VzIHx8ICFwcm9wb3NhbCkgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0IHByb3Bvc2FsRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgcHJvcG9zYWxEaXYuY2xhc3NOYW1lID0gJ2ZsZXggZ2FwLTMgbXQtMic7XG4gICAgcHJvcG9zYWxEaXYuZGF0YXNldC5wcm9wb3NhbElkID0gcHJvcG9zYWwucHJvcG9zYWxJZDtcbiAgICBcbiAgICAvLyBDb25zdHJ1aXJlIGxlIHJcdTAwRTlzdW1cdTAwRTkgZGVzIGNoYW5nZW1lbnRzXG4gICAgbGV0IGNoYW5nZXNIdG1sID0gJyc7XG4gICAgaWYgKHByb3Bvc2FsLmNoYW5nZXMpIHtcbiAgICAgIGlmIChwcm9wb3NhbC5jaGFuZ2VzLnRpdGxlKSB7XG4gICAgICAgIGNoYW5nZXNIdG1sICs9IGA8bGk+VGl0cmUgXHUyMTkyIDxzdHJvbmc+JHtlc2NhcGVIdG1sKHByb3Bvc2FsLmNoYW5nZXMudGl0bGUpfTwvc3Ryb25nPjwvbGk+YDtcbiAgICAgIH1cbiAgICAgIGlmIChwcm9wb3NhbC5jaGFuZ2VzLmRlc2NyaXB0aW9uKSB7XG4gICAgICAgIGNoYW5nZXNIdG1sICs9IGA8bGk+RGVzY3JpcHRpb24gXHUyMTkyICR7ZXNjYXBlSHRtbChwcm9wb3NhbC5jaGFuZ2VzLmRlc2NyaXB0aW9uLnN1YnN0cmluZygwLCA4MCkpfS4uLjwvbGk+YDtcbiAgICAgIH1cbiAgICAgIGlmIChwcm9wb3NhbC5jaGFuZ2VzLnNlbykge1xuICAgICAgICBpZiAocHJvcG9zYWwuY2hhbmdlcy5zZW8ubWV0YVRpdGxlKSB7XG4gICAgICAgICAgY2hhbmdlc0h0bWwgKz0gYDxsaT5NZXRhIHRpdGxlIFx1MjE5MiAke2VzY2FwZUh0bWwocHJvcG9zYWwuY2hhbmdlcy5zZW8ubWV0YVRpdGxlKX08L2xpPmA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByb3Bvc2FsLmNoYW5nZXMuc2VvLm1ldGFEZXNjcmlwdGlvbikge1xuICAgICAgICAgIGNoYW5nZXNIdG1sICs9IGA8bGk+TWV0YSBkZXNjcmlwdGlvbiBcdTIxOTIgJHtlc2NhcGVIdG1sKHByb3Bvc2FsLmNoYW5nZXMuc2VvLm1ldGFEZXNjcmlwdGlvbi5zdWJzdHJpbmcoMCwgNjApKX0uLi48L2xpPmA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChwcm9wb3NhbC5jaGFuZ2VzLmJsb2NrVXBkYXRlKSB7XG4gICAgICAgIGNoYW5nZXNIdG1sICs9IGA8bGk+QmxvYyBcIiR7cHJvcG9zYWwuY2hhbmdlcy5ibG9ja1VwZGF0ZS5ibG9ja0lkfVwiIG1vZGlmaVx1MDBFOTwvbGk+YDtcbiAgICAgICAgaWYgKHByb3Bvc2FsLmNoYW5nZXMuYmxvY2tVcGRhdGUuc2V0dGluZ3MpIHtcbiAgICAgICAgICBjb25zdCBzZXR0aW5ncyA9IHByb3Bvc2FsLmNoYW5nZXMuYmxvY2tVcGRhdGUuc2V0dGluZ3M7XG4gICAgICAgICAgaWYgKHNldHRpbmdzLnRpdGxlKSBjaGFuZ2VzSHRtbCArPSBgPGxpIGNsYXNzPVwibWwtNFwiPlx1MjE5MiB0aXRsZTogJHtlc2NhcGVIdG1sKHNldHRpbmdzLnRpdGxlKX08L2xpPmA7XG4gICAgICAgICAgaWYgKHNldHRpbmdzLmNvbnRlbnQpIGNoYW5nZXNIdG1sICs9IGA8bGkgY2xhc3M9XCJtbC00XCI+XHUyMTkyIGNvbnRlbnQgbW9kaWZpXHUwMEU5PC9saT5gO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIHByb3Bvc2FsRGl2LmlubmVySFRNTCA9IGBcbiAgICAgIDxkaXYgY2xhc3M9XCJ3LTggaC04IHJvdW5kZWQtZnVsbCBiZy1hbWJlci01MDAgZmxleC1zaHJpbmstMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICA8c3ZnIGNsYXNzPVwidy00IGgtNCB0ZXh0LXdoaXRlXCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgPHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTEgNUg2YTIgMiAwIDAwLTIgMnYxMWEyIDIgMCAwMDIgMmgxMWEyIDIgMCAwMDItMnYtNW0tMS40MTQtOS40MTRhMiAyIDAgMTEyLjgyOCAyLjgyOEwxMS44MjggMTVIOXYtMi44MjhsOC41ODYtOC41ODZ6XCIvPlxuICAgICAgICA8L3N2Zz5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cImZsZXgtMSBiZy1hbWJlci01MCBib3JkZXIgYm9yZGVyLWFtYmVyLTIwMCByb3VuZGVkLTJ4bCByb3VuZGVkLXRsLW5vbmUgcC00XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBtYi0yXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgdGV4dC1hbWJlci03MDAgYmctYW1iZXItMTAwIHB4LTIgcHktMC41IHJvdW5kZWRcIj5Qcm9wb3NpdGlvbiBkJ1x1MDBFOWRpdGlvbjwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxwIGNsYXNzPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LXNsYXRlLTgwMCBtYi0xXCI+UGFnZSA6ICR7ZXNjYXBlSHRtbChwcm9wb3NhbC5wYWdlVGl0bGUgfHwgcHJvcG9zYWwucGFnZUlkKX08L3A+XG4gICAgICAgICR7cHJvcG9zYWwucmVhc29uID8gYDxwIGNsYXNzPVwidGV4dC1zbSB0ZXh0LXNsYXRlLTYwMCBtYi0yXCI+JHtlc2NhcGVIdG1sKHByb3Bvc2FsLnJlYXNvbil9PC9wPmAgOiAnJ31cbiAgICAgICAgPHVsIGNsYXNzPVwidGV4dC14cyB0ZXh0LXNsYXRlLTYwMCBzcGFjZS15LTEgbWItMyBsaXN0LWRpc2MgbWwtNFwiPlxuICAgICAgICAgICR7Y2hhbmdlc0h0bWwgfHwgJzxsaT5Nb2RpZmljYXRpb25zIHByb3Bvc1x1MDBFOWVzPC9saT4nfVxuICAgICAgICA8L3VsPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBnYXAtMlwiPlxuICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICBjbGFzcz1cImFpLWFwcGx5LWVkaXQgcHgtMyBweS0xLjUgdGV4dC14cyBmb250LW1lZGl1bSB0ZXh0LXdoaXRlIGJnLWVtZXJhbGQtNjAwIGhvdmVyOmJnLWVtZXJhbGQtNzAwIHJvdW5kZWQtbGcgdHJhbnNpdGlvbi1jb2xvcnMgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTFcIlxuICAgICAgICAgICAgZGF0YS1wcm9wb3NhbC1pZD1cIiR7cHJvcG9zYWwucHJvcG9zYWxJZH1cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJ3LTMuNSBoLTMuNVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgICA8cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk01IDEzbDQgNEwxOSA3XCIvPlxuICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICBBcHBsaXF1ZXJcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgY2xhc3M9XCJhaS1yZWplY3QtZWRpdCBweC0zIHB5LTEuNSB0ZXh0LXhzIGZvbnQtbWVkaXVtIHRleHQtc2xhdGUtNjAwIGJnLXNsYXRlLTEwMCBob3ZlcjpiZy1zbGF0ZS0yMDAgcm91bmRlZC1sZyB0cmFuc2l0aW9uLWNvbG9ycyBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMVwiXG4gICAgICAgICAgICBkYXRhLXByb3Bvc2FsLWlkPVwiJHtwcm9wb3NhbC5wcm9wb3NhbElkfVwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHN2ZyBjbGFzcz1cInctMy41IGgtMy41XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICAgIDxwYXRoIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTYgMThMMTggNk02IDZsMTIgMTJcIi8+XG4gICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgIFJlamV0ZXJcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICBgO1xuICAgIFxuICAgIGFpQ2hhdE1lc3NhZ2VzLmFwcGVuZENoaWxkKHByb3Bvc2FsRGl2KTtcbiAgICBhaUNoYXRNZXNzYWdlcy5zY3JvbGxUb3AgPSBhaUNoYXRNZXNzYWdlcy5zY3JvbGxIZWlnaHQ7XG4gICAgXG4gICAgLy8gQXR0YWNoZXIgbGVzIFx1MDBFOXZcdTAwRTluZW1lbnRzIGF1eCBib3V0b25zXG4gICAgcHJvcG9zYWxEaXYucXVlcnlTZWxlY3RvcignLmFpLWFwcGx5LWVkaXQnKT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVBcHBseUVkaXQpO1xuICAgIHByb3Bvc2FsRGl2LnF1ZXJ5U2VsZWN0b3IoJy5haS1yZWplY3QtZWRpdCcpPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZVJlamVjdEVkaXQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFmZmljaGUgdW5lIHByb3Bvc2l0aW9uIGRlIG1vZGlmaWNhdGlvbiBkdSB0aFx1MDBFOG1lIGF2ZWMgYm91dG9ucyBkZSB2YWxpZGF0aW9uXG4gICAqL1xuICBmdW5jdGlvbiBhcHBlbmRUaGVtZVByb3Bvc2FsKHByb3Bvc2FsKSB7XG4gICAgaWYgKCFhaUNoYXRNZXNzYWdlcyB8fCAhcHJvcG9zYWwpIHJldHVybjtcbiAgICBcbiAgICBjb25zdCBwcm9wb3NhbERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHByb3Bvc2FsRGl2LmNsYXNzTmFtZSA9ICdmbGV4IGdhcC0zIG10LTInO1xuICAgIHByb3Bvc2FsRGl2LmRhdGFzZXQucHJvcG9zYWxJZCA9IHByb3Bvc2FsLnByb3Bvc2FsSWQ7XG4gICAgXG4gICAgLy8gQ29uc3RydWlyZSBsZSByXHUwMEU5c3VtXHUwMEU5IGRlcyBjaGFuZ2VtZW50cyBkZSBjb3VsZXVyc1xuICAgIGxldCBjb2xvcnNIdG1sID0gJyc7XG4gICAgaWYgKHByb3Bvc2FsLmNoYW5nZXM/LmNvbG9ycykge1xuICAgICAgY29uc3QgY29sb3JzID0gcHJvcG9zYWwuY2hhbmdlcy5jb2xvcnM7XG4gICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhjb2xvcnMpKSB7XG4gICAgICAgIGNvbG9yc0h0bWwgKz0gYDxsaSBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJ3LTQgaC00IHJvdW5kZWQgYm9yZGVyIGJvcmRlci1zbGF0ZS0zMDBcIiBzdHlsZT1cImJhY2tncm91bmQ6ICR7Z2V0VGFpbHdpbmRDb2xvckNzcyh2YWx1ZSl9XCI+PC9zcGFuPlxuICAgICAgICAgIDxzcGFuPiR7a2V5fTogPHN0cm9uZz4ke2VzY2FwZUh0bWwodmFsdWUpfTwvc3Ryb25nPjwvc3Bhbj5cbiAgICAgICAgPC9saT5gO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvLyBUeXBvZ3JhcGhpZXNcbiAgICBsZXQgdHlwb0h0bWwgPSAnJztcbiAgICBpZiAocHJvcG9zYWwuY2hhbmdlcz8udHlwb2dyYXBoeSkge1xuICAgICAgY29uc3QgdHlwbyA9IHByb3Bvc2FsLmNoYW5nZXMudHlwb2dyYXBoeTtcbiAgICAgIGlmICh0eXBvLmhlYWRpbmdzKSB0eXBvSHRtbCArPSBgPGxpPlRpdHJlcyBcdTIxOTIgPHN0cm9uZz4ke2VzY2FwZUh0bWwodHlwby5oZWFkaW5ncyl9PC9zdHJvbmc+PC9saT5gO1xuICAgICAgaWYgKHR5cG8uYm9keSkgdHlwb0h0bWwgKz0gYDxsaT5UZXh0ZXMgXHUyMTkyIDxzdHJvbmc+JHtlc2NhcGVIdG1sKHR5cG8uYm9keSl9PC9zdHJvbmc+PC9saT5gO1xuICAgIH1cbiAgICBcbiAgICBwcm9wb3NhbERpdi5pbm5lckhUTUwgPSBgXG4gICAgICA8ZGl2IGNsYXNzPVwidy04IGgtOCByb3VuZGVkLWZ1bGwgYmctcHVycGxlLTUwMCBmbGV4LXNocmluay0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgIDxzdmcgY2xhc3M9XCJ3LTQgaC00IHRleHQtd2hpdGVcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICA8cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk03IDIxYTQgNCAwIDAxLTQtNFY1YTIgMiAwIDAxMi0yaDRhMiAyIDAgMDEyIDJ2MTJhNCA0IDAgMDEtNCA0em0wIDBoMTJhMiAyIDAgMDAyLTJ2LTRhMiAyIDAgMDAtMi0yaC0yLjM0M00xMSA3LjM0M2wxLjY1Ny0xLjY1N2EyIDIgMCAwMTIuODI4IDBsMi44MjkgMi44MjlhMiAyIDAgMDEwIDIuODI4bC04LjQ4NiA4LjQ4NU03IDE3aC4wMVwiLz5cbiAgICAgICAgPC9zdmc+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJmbGV4LTEgYmctcHVycGxlLTUwIGJvcmRlciBib3JkZXItcHVycGxlLTIwMCByb3VuZGVkLTJ4bCByb3VuZGVkLXRsLW5vbmUgcC00XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBtYi0yXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgdGV4dC1wdXJwbGUtNzAwIGJnLXB1cnBsZS0xMDAgcHgtMiBweS0wLjUgcm91bmRlZFwiPk1vZGlmaWNhdGlvbiBkdSB0aFx1MDBFOG1lPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgJHtwcm9wb3NhbC5yZWFzb24gPyBgPHAgY2xhc3M9XCJ0ZXh0LXNtIHRleHQtc2xhdGUtNjAwIG1iLTNcIj4ke2VzY2FwZUh0bWwocHJvcG9zYWwucmVhc29uKX08L3A+YCA6ICcnfVxuICAgICAgICAke2NvbG9yc0h0bWwgPyBgXG4gICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXhzIGZvbnQtbWVkaXVtIHRleHQtc2xhdGUtNzAwIG1iLTFcIj5Db3VsZXVycyA6PC9wPlxuICAgICAgICAgIDx1bCBjbGFzcz1cInRleHQteHMgdGV4dC1zbGF0ZS02MDAgc3BhY2UteS0xIG1iLTNcIj4ke2NvbG9yc0h0bWx9PC91bD5cbiAgICAgICAgYCA6ICcnfVxuICAgICAgICAke3R5cG9IdG1sID8gYFxuICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC14cyBmb250LW1lZGl1bSB0ZXh0LXNsYXRlLTcwMCBtYi0xXCI+VHlwb2dyYXBoaWVzIDo8L3A+XG4gICAgICAgICAgPHVsIGNsYXNzPVwidGV4dC14cyB0ZXh0LXNsYXRlLTYwMCBzcGFjZS15LTEgbWItMyBsaXN0LWRpc2MgbWwtNFwiPiR7dHlwb0h0bWx9PC91bD5cbiAgICAgICAgYCA6ICcnfVxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBnYXAtMlwiPlxuICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICBjbGFzcz1cImFpLWFwcGx5LXRoZW1lIHB4LTMgcHktMS41IHRleHQteHMgZm9udC1tZWRpdW0gdGV4dC13aGl0ZSBiZy1wdXJwbGUtNjAwIGhvdmVyOmJnLXB1cnBsZS03MDAgcm91bmRlZC1sZyB0cmFuc2l0aW9uLWNvbG9ycyBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMVwiXG4gICAgICAgICAgICBkYXRhLXByb3Bvc2FsLWlkPVwiJHtwcm9wb3NhbC5wcm9wb3NhbElkfVwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHN2ZyBjbGFzcz1cInctMy41IGgtMy41XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICAgIDxwYXRoIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTUgMTNsNCA0TDE5IDdcIi8+XG4gICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgIEFwcGxpcXVlclxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICBjbGFzcz1cImFpLXJlamVjdC10aGVtZSBweC0zIHB5LTEuNSB0ZXh0LXhzIGZvbnQtbWVkaXVtIHRleHQtc2xhdGUtNjAwIGJnLXNsYXRlLTEwMCBob3ZlcjpiZy1zbGF0ZS0yMDAgcm91bmRlZC1sZyB0cmFuc2l0aW9uLWNvbG9ycyBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMVwiXG4gICAgICAgICAgICBkYXRhLXByb3Bvc2FsLWlkPVwiJHtwcm9wb3NhbC5wcm9wb3NhbElkfVwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHN2ZyBjbGFzcz1cInctMy41IGgtMy41XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICAgIDxwYXRoIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTYgMThMMTggNk02IDZsMTIgMTJcIi8+XG4gICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgIFJlamV0ZXJcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICBgO1xuICAgIFxuICAgIGFpQ2hhdE1lc3NhZ2VzLmFwcGVuZENoaWxkKHByb3Bvc2FsRGl2KTtcbiAgICBhaUNoYXRNZXNzYWdlcy5zY3JvbGxUb3AgPSBhaUNoYXRNZXNzYWdlcy5zY3JvbGxIZWlnaHQ7XG4gICAgXG4gICAgLy8gQXR0YWNoZXIgbGVzIFx1MDBFOXZcdTAwRTluZW1lbnRzIGF1eCBib3V0b25zXG4gICAgcHJvcG9zYWxEaXYucXVlcnlTZWxlY3RvcignLmFpLWFwcGx5LXRoZW1lJyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlQXBwbHlUaGVtZSk7XG4gICAgcHJvcG9zYWxEaXYucXVlcnlTZWxlY3RvcignLmFpLXJlamVjdC10aGVtZScpPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZVJlamVjdEVkaXQpOyAvLyBSXHUwMEU5dXRpbGlzZSBsYSBtXHUwMEVBbWUgbG9naXF1ZSBkZSByZWpldFxuICB9XG4gIFxuICAvKipcbiAgICogQ29udmVydGl0IHVuZSBjb3VsZXVyIFRhaWx3aW5kIGVuIENTUyBhcHByb3hpbWF0aWYgcG91ciBwcmV2aWV3XG4gICAqL1xuICBmdW5jdGlvbiBnZXRUYWlsd2luZENvbG9yQ3NzKGNvbG9yTmFtZSkge1xuICAgIGNvbnN0IGNvbG9ycyA9IHtcbiAgICAgICd3aGl0ZSc6ICcjZmZmZmZmJywgJ2JsYWNrJzogJyMwMDAwMDAnLCAndHJhbnNwYXJlbnQnOiAndHJhbnNwYXJlbnQnLFxuICAgICAgJ3NsYXRlLTUwJzogJyNmOGZhZmMnLCAnc2xhdGUtMTAwJzogJyNmMWY1ZjknLCAnc2xhdGUtMjAwJzogJyNlMmU4ZjAnLCAnc2xhdGUtMzAwJzogJyNjYmQ1ZTEnLCAnc2xhdGUtNDAwJzogJyM5NGEzYjgnLCAnc2xhdGUtNTAwJzogJyM2NDc0OGInLCAnc2xhdGUtNjAwJzogJyM0NzU1NjknLCAnc2xhdGUtNzAwJzogJyMzMzQxNTUnLCAnc2xhdGUtODAwJzogJyMxZTI5M2InLCAnc2xhdGUtOTAwJzogJyMwZjE3MmEnLFxuICAgICAgJ2dyYXktNTAnOiAnI2Y5ZmFmYicsICdncmF5LTEwMCc6ICcjZjNmNGY2JywgJ2dyYXktMjAwJzogJyNlNWU3ZWInLCAnZ3JheS0zMDAnOiAnI2QxZDVkYicsICdncmF5LTQwMCc6ICcjOWNhM2FmJywgJ2dyYXktNTAwJzogJyM2YjcyODAnLCAnZ3JheS02MDAnOiAnIzRiNTU2MycsICdncmF5LTcwMCc6ICcjMzc0MTUxJywgJ2dyYXktODAwJzogJyMxZjI5MzcnLCAnZ3JheS05MDAnOiAnIzExMTgyNycsXG4gICAgICAndmlvbGV0LTUwJzogJyNmNWYzZmYnLCAndmlvbGV0LTEwMCc6ICcjZWRlOWZlJywgJ3Zpb2xldC0yMDAnOiAnI2RkZDZmZScsICd2aW9sZXQtMzAwJzogJyNjNGI1ZmQnLCAndmlvbGV0LTQwMCc6ICcjYTc4YmZhJywgJ3Zpb2xldC01MDAnOiAnIzhiNWNmNicsICd2aW9sZXQtNjAwJzogJyM3YzNhZWQnLCAndmlvbGV0LTcwMCc6ICcjNmQyOGQ5JywgJ3Zpb2xldC04MDAnOiAnIzViMjFiNicsICd2aW9sZXQtOTAwJzogJyM0YzFkOTUnLFxuICAgICAgJ3B1cnBsZS01MCc6ICcjZmFmNWZmJywgJ3B1cnBsZS0xMDAnOiAnI2YzZThmZicsICdwdXJwbGUtMjAwJzogJyNlOWQ1ZmYnLCAncHVycGxlLTMwMCc6ICcjZDhiNGZlJywgJ3B1cnBsZS00MDAnOiAnI2MwODRmYycsICdwdXJwbGUtNTAwJzogJyNhODU1ZjcnLCAncHVycGxlLTYwMCc6ICcjOTMzM2VhJywgJ3B1cnBsZS03MDAnOiAnIzdlMjJjZScsICdwdXJwbGUtODAwJzogJyM2YjIxYTgnLCAncHVycGxlLTkwMCc6ICcjNTgxYzg3JyxcbiAgICAgICdibHVlLTUwJzogJyNlZmY2ZmYnLCAnYmx1ZS0xMDAnOiAnI2RiZWFmZScsICdibHVlLTIwMCc6ICcjYmZkYmZlJywgJ2JsdWUtMzAwJzogJyM5M2M1ZmQnLCAnYmx1ZS00MDAnOiAnIzYwYTVmYScsICdibHVlLTUwMCc6ICcjM2I4MmY2JywgJ2JsdWUtNjAwJzogJyMyNTYzZWInLCAnYmx1ZS03MDAnOiAnIzFkNGVkOCcsICdibHVlLTgwMCc6ICcjMWU0MGFmJywgJ2JsdWUtOTAwJzogJyMxZTNhOGEnLFxuICAgICAgJ2VtZXJhbGQtNTAnOiAnI2VjZmRmNScsICdlbWVyYWxkLTEwMCc6ICcjZDFmYWU1JywgJ2VtZXJhbGQtMjAwJzogJyNhN2YzZDAnLCAnZW1lcmFsZC0zMDAnOiAnIzZlZTdiNycsICdlbWVyYWxkLTQwMCc6ICcjMzRkMzk5JywgJ2VtZXJhbGQtNTAwJzogJyMxMGI5ODEnLCAnZW1lcmFsZC02MDAnOiAnIzA1OTY2OScsICdlbWVyYWxkLTcwMCc6ICcjMDQ3ODU3JywgJ2VtZXJhbGQtODAwJzogJyMwNjVmNDYnLCAnZW1lcmFsZC05MDAnOiAnIzA2NGUzYicsXG4gICAgICAndGVhbC01MCc6ICcjZjBmZGZhJywgJ3RlYWwtMTAwJzogJyNjY2ZiZjEnLCAndGVhbC0yMDAnOiAnIzk5ZjZlNCcsICd0ZWFsLTMwMCc6ICcjNWVlYWQ0JywgJ3RlYWwtNDAwJzogJyMyZGQ0YmYnLCAndGVhbC01MDAnOiAnIzE0YjhhNicsICd0ZWFsLTYwMCc6ICcjMGQ5NDg4JywgJ3RlYWwtNzAwJzogJyMwZjc2NmUnLCAndGVhbC04MDAnOiAnIzExNWU1OScsICd0ZWFsLTkwMCc6ICcjMTM0ZTRhJyxcbiAgICAgICdhbWJlci01MCc6ICcjZmZmYmViJywgJ2FtYmVyLTEwMCc6ICcjZmVmM2M3JywgJ2FtYmVyLTIwMCc6ICcjZmRlNjhhJywgJ2FtYmVyLTMwMCc6ICcjZmNkMzRkJywgJ2FtYmVyLTQwMCc6ICcjZmJiZjI0JywgJ2FtYmVyLTUwMCc6ICcjZjU5ZTBiJywgJ2FtYmVyLTYwMCc6ICcjZDk3NzA2JywgJ2FtYmVyLTcwMCc6ICcjYjQ1MzA5JywgJ2FtYmVyLTgwMCc6ICcjOTI0MDBlJywgJ2FtYmVyLTkwMCc6ICcjNzgzNTBmJyxcbiAgICAgICdyZWQtNTAnOiAnI2ZlZjJmMicsICdyZWQtMTAwJzogJyNmZWUyZTInLCAncmVkLTIwMCc6ICcjZmVjYWNhJywgJ3JlZC0zMDAnOiAnI2ZjYTVhNScsICdyZWQtNDAwJzogJyNmODcxNzEnLCAncmVkLTUwMCc6ICcjZWY0NDQ0JywgJ3JlZC02MDAnOiAnI2RjMjYyNicsICdyZWQtNzAwJzogJyNiOTFjMWMnLCAncmVkLTgwMCc6ICcjOTkxYjFiJywgJ3JlZC05MDAnOiAnIzdmMWQxZCdcbiAgICB9O1xuICAgIHJldHVybiBjb2xvcnNbY29sb3JOYW1lXSB8fCAnIzlDNkJGRic7XG4gIH1cblxuICAvKipcbiAgICogQXBwbGlxdWUgdW5lIHByb3Bvc2l0aW9uIGRlIG1vZGlmaWNhdGlvbiBkdSB0aFx1MDBFOG1lXG4gICAqL1xuICBhc3luYyBmdW5jdGlvbiBoYW5kbGVBcHBseVRoZW1lKGUpIHtcbiAgICBjb25zdCBwcm9wb3NhbElkID0gZS50YXJnZXQuY2xvc2VzdCgnW2RhdGEtcHJvcG9zYWwtaWRdJyk/LmRhdGFzZXQucHJvcG9zYWxJZDtcbiAgICBjb25zdCBzaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyk7XG4gICAgaWYgKCFwcm9wb3NhbElkIHx8ICFzaXRlU2x1ZykgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0IGJ0biA9IGUudGFyZ2V0LmNsb3Nlc3QoJ2J1dHRvbicpO1xuICAgIGJ0bi5kaXNhYmxlZCA9IHRydWU7XG4gICAgYnRuLmlubmVySFRNTCA9ICc8c3BhbiBjbGFzcz1cImFuaW1hdGUtc3BpblwiPlx1MjNGMzwvc3Bhbj4gQXBwbGljYXRpb24uLi4nO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNpdGVTbHVnKX0vYWkvYXBwbHktdGhlbWVgLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBwcm9wb3NhbElkIH0pXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIFxuICAgICAgaWYgKHJlc3BvbnNlLm9rICYmIGRhdGEuc3VjY2Vzcykge1xuICAgICAgICAvLyBSZW1wbGFjZXIgbGEgY2FyZCBwYXIgdW4gbWVzc2FnZSBkZSBzdWNjXHUwMEU4c1xuICAgICAgICBjb25zdCBwcm9wb3NhbENhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1wcm9wb3NhbC1pZD1cIiR7cHJvcG9zYWxJZH1cIl1gKTtcbiAgICAgICAgaWYgKHByb3Bvc2FsQ2FyZCkge1xuICAgICAgICAgIHByb3Bvc2FsQ2FyZC5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwidy04IGgtOCByb3VuZGVkLWZ1bGwgYmctcHVycGxlLTUwMCBmbGV4LXNocmluay0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJ3LTQgaC00IHRleHQtd2hpdGVcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgICAgICA8cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk01IDEzbDQgNEwxOSA3XCIvPlxuICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXgtMSBiZy1wdXJwbGUtNTAgYm9yZGVyIGJvcmRlci1wdXJwbGUtMjAwIHJvdW5kZWQtMnhsIHJvdW5kZWQtdGwtbm9uZSBwLTNcIj5cbiAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXNtIHRleHQtcHVycGxlLTcwMFwiPlx1MjcwNSBUaFx1MDBFOG1lIG1pcyBcdTAwRTAgam91ciBhdmVjIHN1Y2NcdTAwRThzICE8L3A+XG4gICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC14cyB0ZXh0LXB1cnBsZS02MDAgbXQtMVwiPlJlY2hhcmdleiBsYSBwcmV2aWV3IHBvdXIgdm9pciBsZXMgY2hhbmdlbWVudHMuPC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgYDtcbiAgICAgICAgfVxuICAgICAgICBzaG93VG9hc3QoJ1RoXHUwMEU4bWUgbWlzIFx1MDBFMCBqb3VyICEnKTtcbiAgICAgICAgXG4gICAgICAgIC8vIERcdTAwRTljbGVuY2hlciB1biBcdTAwRTl2XHUwMEU5bmVtZW50IHBlcnNvbm5hbGlzXHUwMEU5IHBvdXIgcmFmcmFcdTAwRUVjaGlyXG4gICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdhaS10aGVtZS11cGRhdGVkJywge1xuICAgICAgICAgIGRldGFpbDogeyB1cGRhdGVkVGhlbWU6IGRhdGEudXBkYXRlZFRoZW1lIH1cbiAgICAgICAgfSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGRhdGEubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZGUgbFxcJ2FwcGxpY2F0aW9uJyk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBidG4uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgIGJ0bi5pbm5lckhUTUwgPSBgPHN2ZyBjbGFzcz1cInctMy41IGgtMy41XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNSAxM2w0IDRMMTkgN1wiLz48L3N2Zz4gUlx1MDBFOWVzc2F5ZXJgO1xuICAgICAgc2hvd1RvYXN0KGBFcnJldXI6ICR7ZXJyLm1lc3NhZ2V9YCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFwcGxpcXVlIHVuZSBwcm9wb3NpdGlvbiBkJ1x1MDBFOWRpdGlvbiB2YWxpZFx1MDBFOWVcbiAgICovXG4gIGFzeW5jIGZ1bmN0aW9uIGhhbmRsZUFwcGx5RWRpdChlKSB7XG4gICAgY29uc3QgcHJvcG9zYWxJZCA9IGUudGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLXByb3Bvc2FsLWlkXScpPy5kYXRhc2V0LnByb3Bvc2FsSWQ7XG4gICAgY29uc3Qgc2l0ZVNsdWcgPSBzdHJpcExlYWRpbmdTbGFzaChzdG9yZWRTaXRlLnNsdWcgfHwgJycpO1xuICAgIGlmICghcHJvcG9zYWxJZCB8fCAhc2l0ZVNsdWcpIHJldHVybjtcbiAgICBcbiAgICBjb25zdCBidG4gPSBlLnRhcmdldC5jbG9zZXN0KCdidXR0b24nKTtcbiAgICBidG4uZGlzYWJsZWQgPSB0cnVlO1xuICAgIGJ0bi5pbm5lckhUTUwgPSAnPHNwYW4gY2xhc3M9XCJhbmltYXRlLXNwaW5cIj5cdTIzRjM8L3NwYW4+IEFwcGxpY2F0aW9uLi4uJztcbiAgICBcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzaXRlU2x1Zyl9L2FpL2FwcGx5LWVkaXRgLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBwcm9wb3NhbElkIH0pXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIFxuICAgICAgaWYgKHJlc3BvbnNlLm9rICYmIGRhdGEuc3VjY2Vzcykge1xuICAgICAgICAvLyBSZW1wbGFjZXIgbGEgY2FyZCBwYXIgdW4gbWVzc2FnZSBkZSBzdWNjXHUwMEU4c1xuICAgICAgICBjb25zdCBwcm9wb3NhbENhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1wcm9wb3NhbC1pZD1cIiR7cHJvcG9zYWxJZH1cIl1gKTtcbiAgICAgICAgaWYgKHByb3Bvc2FsQ2FyZCkge1xuICAgICAgICAgIHByb3Bvc2FsQ2FyZC5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwidy04IGgtOCByb3VuZGVkLWZ1bGwgYmctZW1lcmFsZC01MDAgZmxleC1zaHJpbmstMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICA8c3ZnIGNsYXNzPVwidy00IGgtNCB0ZXh0LXdoaXRlXCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNSAxM2w0IDRMMTkgN1wiLz5cbiAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4LTEgYmctZW1lcmFsZC01MCBib3JkZXIgYm9yZGVyLWVtZXJhbGQtMjAwIHJvdW5kZWQtMnhsIHJvdW5kZWQtdGwtbm9uZSBwLTNcIj5cbiAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXNtIHRleHQtZW1lcmFsZC03MDBcIj5cdTI3MDUgTW9kaWZpY2F0aW9ucyBhcHBsaXF1XHUwMEU5ZXMgYXZlYyBzdWNjXHUwMEU4cyAhPC9wPlxuICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQteHMgdGV4dC1lbWVyYWxkLTYwMCBtdC0xXCI+TGEgcHJldmlldyBzZSBtZXQgXHUwMEUwIGpvdXIgYXV0b21hdGlxdWVtZW50LjwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIGA7XG4gICAgICAgIH1cbiAgICAgICAgc2hvd1RvYXN0KCdNb2RpZmljYXRpb25zIGFwcGxpcXVcdTAwRTllcyAhJyk7XG4gICAgICAgIFxuICAgICAgICAvLyBEXHUwMEU5Y2xlbmNoZXIgdW4gXHUwMEU5dlx1MDBFOW5lbWVudCBwZXJzb25uYWxpc1x1MDBFOSBwb3VyIHJhZnJhXHUwMEVFY2hpciBsYSBwcmV2aWV3XG4gICAgICAgIGNvbnN0IHBhZ2VJZCA9IGRhdGEudXBkYXRlZFBhZ2U/LmlkIHx8IG51bGw7XG4gICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdhaS1wYWdlLXVwZGF0ZWQnLCB7XG4gICAgICAgICAgZGV0YWlsOiB7IHBhZ2VJZCwgdXBkYXRlZFBhZ2U6IGRhdGEudXBkYXRlZFBhZ2UgfVxuICAgICAgICB9KSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZGF0YS5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsXFwnYXBwbGljYXRpb24nKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGJ0bi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgYnRuLmlubmVySFRNTCA9IGA8c3ZnIGNsYXNzPVwidy0zLjUgaC0zLjVcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk01IDEzbDQgNEwxOSA3XCIvPjwvc3ZnPiBSXHUwMEU5ZXNzYXllcmA7XG4gICAgICBzaG93VG9hc3QoYEVycmV1cjogJHtlcnIubWVzc2FnZX1gKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVqZXR0ZSB1bmUgcHJvcG9zaXRpb24gZCdcdTAwRTlkaXRpb25cbiAgICovXG4gIGFzeW5jIGZ1bmN0aW9uIGhhbmRsZVJlamVjdEVkaXQoZSkge1xuICAgIGNvbnN0IHByb3Bvc2FsSWQgPSBlLnRhcmdldC5jbG9zZXN0KCdbZGF0YS1wcm9wb3NhbC1pZF0nKT8uZGF0YXNldC5wcm9wb3NhbElkO1xuICAgIGNvbnN0IHNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goc3RvcmVkU2l0ZS5zbHVnIHx8ICcnKTtcbiAgICBpZiAoIXByb3Bvc2FsSWQgfHwgIXNpdGVTbHVnKSByZXR1cm47XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IGZldGNoKGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNpdGVTbHVnKX0vYWkvcHJvcG9zYWwvJHtwcm9wb3NhbElkfWAsIHtcbiAgICAgICAgbWV0aG9kOiAnREVMRVRFJ1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIC8vIFJlbXBsYWNlciBsYSBjYXJkIHBhciB1biBtZXNzYWdlIGRlIHJlamV0XG4gICAgICBjb25zdCBwcm9wb3NhbENhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1wcm9wb3NhbC1pZD1cIiR7cHJvcG9zYWxJZH1cIl1gKTtcbiAgICAgIGlmIChwcm9wb3NhbENhcmQpIHtcbiAgICAgICAgcHJvcG9zYWxDYXJkLmlubmVySFRNTCA9IGBcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwidy04IGgtOCByb3VuZGVkLWZ1bGwgYmctc2xhdGUtNDAwIGZsZXgtc2hyaW5rLTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJ3LTQgaC00IHRleHQtd2hpdGVcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNiAxOEwxOCA2TTYgNmwxMiAxMlwiLz5cbiAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4LTEgYmctc2xhdGUtMTAwIHJvdW5kZWQtMnhsIHJvdW5kZWQtdGwtbm9uZSBwLTNcIj5cbiAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1zbSB0ZXh0LXNsYXRlLTUwMFwiPlByb3Bvc2l0aW9uIHJlamV0XHUwMEU5ZS48L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIGA7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdbQUldIFJlamVjdCBlZGl0IGVycm9yOicsIGVycik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEVmZmFjZSBsJ2hpc3RvcmlxdWUgZHUgY2hhdFxuICAgKi9cbiAgYXN5bmMgZnVuY3Rpb24gY2xlYXJBSUhpc3RvcnkoKSB7XG4gICAgY29uc3Qgc2l0ZVNsdWcgPSBzdHJpcExlYWRpbmdTbGFzaChzdG9yZWRTaXRlLnNsdWcgfHwgJycpO1xuICAgIGlmICghc2l0ZVNsdWcgfHwgIWFpQ2hhdE1lc3NhZ2VzKSByZXR1cm47XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IGZldGNoKGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNpdGVTbHVnKX0vYWkvaGlzdG9yeWAsIHsgbWV0aG9kOiAnREVMRVRFJyB9KTtcbiAgICAgIFxuICAgICAgLy8gVmlkZXIgbGVzIG1lc3NhZ2VzXG4gICAgICBhaUNoYXRNZXNzYWdlcy5pbm5lckhUTUwgPSAnJztcbiAgICAgIFxuICAgICAgLy8gUlx1MDBFOWFmZmljaGVyIGxlIG1lc3NhZ2UgZGUgYmllbnZlbnVlXG4gICAgICBhaUNoYXRNZXNzYWdlcy5pbm5lckhUTUwgPSBgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGdhcC0zXCIgZGF0YS1haS13ZWxjb21lPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ3LTggaC04IHJvdW5kZWQtZnVsbCBiZy1ncmFkaWVudC10by1iciBmcm9tLXZpb2xldC01MDAgdG8taW5kaWdvLTYwMCBmbGV4LXNocmluay0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICA8c3ZnIGNsYXNzPVwidy00IGgtNCB0ZXh0LXdoaXRlXCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICAgIDxwYXRoIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTkuNjYzIDE3aDQuNjczTTEyIDN2MW02LjM2NCAxLjYzNmwtLjcwNy43MDdNMjEgMTJoLTFNNCAxMkgzbTMuMzQzLTUuNjU3bC0uNzA3LS43MDdtMi44MjggOS45YTUgNSAwIDExNy4wNzIgMGwtLjU0OC41NDdBMy4zNzQgMy4zNzQgMCAwMDE0IDE4LjQ2OVYxOWEyIDIgMCAxMS00IDB2LS41MzFjMC0uODk1LS4zNTYtMS43NTQtLjk4OC0yLjM4NmwtLjU0OC0uNTQ3elwiLz5cbiAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4LTEgYmctc2xhdGUtNTAgcm91bmRlZC0yeGwgcm91bmRlZC10bC1ub25lIHAtM1wiPlxuICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXNtIHRleHQtc2xhdGUtNzAwXCI+XG4gICAgICAgICAgICAgIFNhbHV0ICEgXHVEODNEXHVEQzRCIEplIHN1aXMgdG9uIGFzc2lzdGFudCBJQSBwb3VyIGNlIHNpdGUuIEplIHBldXggdCdhaWRlciBcdTAwRTAgOlxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPHVsIGNsYXNzPVwibXQtMiB0ZXh0LXNtIHRleHQtc2xhdGUtNjAwIHNwYWNlLXktMVwiPlxuICAgICAgICAgICAgICA8bGk+XHVEODNDXHVERkE4IFN1Z2dcdTAwRTlyZXIgZGVzIHBhbGV0dGVzIGRlIGNvdWxldXJzPC9saT5cbiAgICAgICAgICAgICAgPGxpPlx1MjcwRFx1RkUwRiBHXHUwMEU5blx1MDBFOXJlciBkdSBjb250ZW51IHBvdXIgdGVzIGJsb2NzPC9saT5cbiAgICAgICAgICAgICAgPGxpPlx1RDgzRFx1RENDNCBDclx1MDBFOWVyIGRlcyBzdHJ1Y3R1cmVzIGRlIHBhZ2VzPC9saT5cbiAgICAgICAgICAgICAgPGxpPlx1RDgzRFx1REQwRCBBbVx1MDBFOWxpb3JlciB0b24gU0VPPC9saT5cbiAgICAgICAgICAgICAgPGxpPlx1MjcwRlx1RkUwRiA8c3Ryb25nPkFuYWx5c2VyIGV0IG1vZGlmaWVyIHRlcyBwYWdlczwvc3Ryb25nPiAoYXZlYyB2YWxpZGF0aW9uKTwvbGk+XG4gICAgICAgICAgICA8L3VsPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIGA7XG4gICAgICBcbiAgICAgIHNob3dUb2FzdCgnSGlzdG9yaXF1ZSBlZmZhY1x1MDBFOScpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignW0FJXSBDbGVhciBoaXN0b3J5IGZhaWxlZDonLCBlcnIpO1xuICAgICAgc2hvd1RvYXN0KCdFcnJldXIgbG9ycyBkZSBsXFwnZWZmYWNlbWVudCcpO1xuICAgIH1cbiAgfVxuXG4gIC8vIFByb21wdHMgcmFwaWRlc1xuICBjb25zdCBxdWlja1Byb21wdHMgPSB7XG4gICAgY29sb3JzOiAnU3VnZ1x1MDBFOHJlLW1vaSAzIHBhbGV0dGVzIGRlIGNvdWxldXJzIGhhcm1vbmlldXNlcyBwb3VyIG1vbiBzaXRlLiBQb3VyIGNoYXF1ZSBwYWxldHRlLCBkb25uZSBsZXMgY291bGV1cnMgVGFpbHdpbmQ6IHByaW1hcnksIHNlY29uZGFyeSwgYWNjZW50LCBldCBiYWNrZ3JvdW5kLicsXG4gICAgaGVybzogJ0dcdTAwRTluXHUwMEU4cmUgdW4gYmxvYyBIZXJvIGVuIEpTT04gYXZlYyB1biB0aXRyZSBhY2Nyb2NoZXVyLCB1biBzb3VzLXRpdHJlIGVuZ2FnZWFudCBldCB1biBDVEEuJyxcbiAgICBzZW86ICdBbmFseXNlIG1vbiBzaXRlIGV0IHN1Z2dcdTAwRThyZSBkZXMgYW1cdTAwRTlsaW9yYXRpb25zIFNFTyBwb3VyIGxlIG1ldGEgdGl0bGUgZXQgbGEgbWV0YSBkZXNjcmlwdGlvbiBkZSBtYSBwYWdlIGRcXCdhY2N1ZWlsLicsXG4gICAgbGFuZGluZzogJ0dcdTAwRTluXHUwMEU4cmUgbGEgc3RydWN0dXJlIEpTT04gZFxcJ3VuZSBsYW5kaW5nIHBhZ2UgY29tcGxcdTAwRTh0ZSBhdmVjOiBIZXJvLCAzIHNlY3Rpb25zIGRlIGNvbnRlbnUsIGV0IHVuIENUQSBmaW5hbC4nLFxuICAgIGFuYWx5emU6ICdBbmFseXNlIGxlIGNvbnRlbnUgZGUgdG91dGVzIG1lcyBwYWdlcyBldCBwcm9wb3NlIGRlcyBhbVx1MDBFOWxpb3JhdGlvbnMgY29uY3JcdTAwRTh0ZXMuIFBvdXIgY2hhcXVlIHN1Z2dlc3Rpb24gZFxcJ2FtXHUwMEU5bGlvcmF0aW9uIGRlIHRleHRlIG91IGRlIHN0cnVjdHVyZSwgdXRpbGlzZSBsZSBmb3JtYXQgcHJvcG9zZS1lZGl0IHBvdXIgcXVlIGplIHB1aXNzZSB2YWxpZGVyLicsXG4gICAgaW1wcm92ZUhvbWU6ICdBbmFseXNlIG1hIHBhZ2UgZFxcJ2FjY3VlaWwgZXQgcHJvcG9zZSB1bmUgYW1cdTAwRTlsaW9yYXRpb24gZHUgdGl0cmUgb3UgZHUgSGVybyBwb3VyIGxlIHJlbmRyZSBwbHVzIGltcGFjdGFudC4gVXRpbGlzZSBsZSBmb3JtYXQgcHJvcG9zZS1lZGl0LidcbiAgfTtcblxuICAvLyBFdmVudCBsaXN0ZW5lcnNcbiAgYWlDaGF0VG9nZ2xlPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBpZiAoYWlDaGF0T3Blbikge1xuICAgICAgY2xvc2VBSUNoYXQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3BlbkFJQ2hhdCgpO1xuICAgIH1cbiAgfSk7XG5cbiAgYWlDaGF0Q2xvc2U/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VBSUNoYXQpO1xuICBhaUNoYXRPdmVybGF5Py5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlQUlDaGF0KTtcblxuICBhaUNoYXRDbGVhcj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgaWYgKGNvbmZpcm0oJ0VmZmFjZXIgdG91dCBsXFwnaGlzdG9yaXF1ZSBkZSBjb252ZXJzYXRpb24gPycpKSB7XG4gICAgICBjbGVhckFJSGlzdG9yeSgpO1xuICAgIH1cbiAgfSk7XG5cbiAgYWlDaGF0Rm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgbWVzc2FnZSA9IGFpQ2hhdElucHV0Py52YWx1ZT8udHJpbSgpO1xuICAgIGlmIChtZXNzYWdlKSB7XG4gICAgICBhaUNoYXRJbnB1dC52YWx1ZSA9ICcnO1xuICAgICAgc2VuZEFJTWVzc2FnZShtZXNzYWdlKTtcbiAgICB9XG4gIH0pO1xuXG4gIGFpUXVpY2tCdXR0b25zLmZvckVhY2goYnRuID0+IHtcbiAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBhY3Rpb24gPSBidG4uZGF0YXNldC5haVF1aWNrO1xuICAgICAgY29uc3QgcHJvbXB0ID0gcXVpY2tQcm9tcHRzW2FjdGlvbl07XG4gICAgICBpZiAocHJvbXB0KSB7XG4gICAgICAgIHNlbmRBSU1lc3NhZ2UocHJvbXB0KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gRmVybWVyIGF2ZWMgRXNjYXBlXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZSkgPT4ge1xuICAgIGlmIChlLmtleSA9PT0gJ0VzY2FwZScgJiYgYWlDaGF0T3Blbikge1xuICAgICAgY2xvc2VBSUNoYXQoKTtcbiAgICB9XG4gIH0pO1xufSk7XG4iXSwKICAibWFwcGluZ3MiOiAiTUFBQSxTQUFTLGlCQUFpQixtQkFBb0IsSUFBTSxDQUNsRCxRQUFRLElBQUksMkJBQXdCLEVBQ3BDLElBQU1BLEdBQWUsU0FBUyxjQUFjLGVBQWUsRUFDdkRBLElBQ0ZBLEdBQWEsaUJBQWlCLFFBQVMsU0FBWSxDQUNqREEsR0FBYSxTQUFXLEdBQ3hCLEdBQUksQ0FDRixN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U0QsR0FBYTFNLENBQU0sRUFDOUIyTSxHQUNGbkIsR0FBY21CLENBQU0sQ0FFeEIsQ0FBQyxDQUNILENBQUMsRUFHRCxTQUFTLGlCQUFpQixVQUFZaGdCLEdBQU0sQ0FDdENBLEVBQUUsTUFBUSxVQUFZcWQsSUFDeEJNLEdBQVksQ0FFaEIsQ0FBQyxDQUNILENBQUMiLAogICJuYW1lcyI6IFsibG9nb3V0QnV0dG9uIiwgImVyciIsICJzaWRlYmFyIiwgInNpZGViYXJPdmVybGF5IiwgInNpZGViYXJUb2dnbGVzIiwgInNpZGViYXJDbG9zZUJ1dHRvbnMiLCAiYm9keSIsICJzaWRlYmFyT3BlbiIsICJhcHBseVNpZGViYXJTdGF0ZSIsICJvcGVuU2lkZWJhciIsICJjbG9zZVNpZGViYXIiLCAiYnV0dG9uIiwgImV2ZW50IiwgIkFDVElWRV9TSVRFX0tFWSIsICJBQ1RJVkVfU0lURV9OQU1FX0tFWSIsICJzdG9yZWRTaXRlIiwgInNpdGVDYXJkcyIsICJzaXRlU2VsZWN0QnV0dG9ucyIsICJzaXRlTmFtZUxhYmVsIiwgIndvcmtzcGFjZVNpdGVMYWJlbCIsICJ3b3Jrc3BhY2VCYWNrTmFtZSIsICJ3b3Jrc3BhY2VCYWNrTW9kYWwiLCAid29ya3NwYWNlQmFja0J1dHRvbnMiLCAid29ya3NwYWNlQmFja0NhbmNlbCIsICJ3b3Jrc3BhY2VCYWNrQ29uZmlybSIsICJ3b3Jrc3BhY2VOYXZMaW5rcyIsICJzaXRlVG9hc3QiLCAic2l0ZVRvYXN0TWVzc2FnZSIsICJzaXRlQ3JlYXRlQnV0dG9ucyIsICJzaXRlTW9kYWwiLCAic2l0ZUZvcm0iLCAic2l0ZU5hbWVJbnB1dCIsICJzaXRlU2x1Z0lucHV0IiwgInNpdGVTbHVnRXJyb3IiLCAic2l0ZU1vZGFsRXJyb3IiLCAic2l0ZU1vZGFsQ2FuY2VsQnV0dG9ucyIsICJzaXRlTW9kYWxTdWJtaXRCdXR0b24iLCAid29ya3NwYWNlQ29udGV4dCIsICJnZXRXb3Jrc3BhY2VDb250ZXh0IiwgInNsdWdNYW51YWxseUVkaXRlZCIsICJsYXN0Rm9jdXNlZEVsZW1lbnQiLCAidG9hc3RUaW1lb3V0SWQiLCAiZm9jdXNhYmxlU2VsZWN0b3IiLCAidHJhcEZvY3VzIiwgImZvY3VzYWJsZUVsZW1lbnRzIiwgImVsIiwgImZpcnN0IiwgImxhc3QiLCAic2hvd1RvYXN0IiwgIm1lc3NhZ2UiLCAiZW5zdXJlTGVhZGluZ1NsYXNoIiwgInNsdWciLCAic3RyaXBMZWFkaW5nU2xhc2giLCAicGVyc2lzdFNpdGVTdGF0ZSIsICJuYW1lIiwgIm5vcm1hbGl6ZWRTbHVnIiwgInVwZGF0ZVNpdGVMYWJlbHMiLCAidXBkYXRlV29ya3NwYWNlTmF2TGlua3MiLCAibGluayIsICJ0YWIiLCAic2x1Z1BhdGgiLCAiYXBwbHlBY3RpdmVTaXRlIiwgIm9wdGlvbnMiLCAiYWN0aXZlU2l0ZU5hbWUiLCAiY2FyZCIsICJpc0FjdGl2ZSIsICJiYWRnZSIsICJmaW5hbE5hbWUiLCAic2VsZWN0U2l0ZSIsICJyZXNwb25zZSIsICJwYXlsb2FkIiwgImZpbmFsU2x1ZyIsICJzeW5jQWN0aXZlU2l0ZUZyb21TZXJ2ZXIiLCAic2l0ZSIsICJkZWZhdWx0Q2FyZCIsICJ3b3Jrc3BhY2VTbHVnaWZ5IiwgInZhbHVlIiwgIm5vcm1hbGl6ZVNsdWdWYWx1ZSIsICJiYXNlIiwgIm9wZW5TaXRlTW9kYWwiLCAiY2xvc2VTaXRlTW9kYWwiLCAic2x1Z1ZhbCIsICJuYW1lVmFsIiwgImdldFNsdWdTZXQiLCAibmFtZVZhbHVlIiwgInNsdWdWYWx1ZSIsICJjcmVhdGVkU2l0ZSIsICJjbG9zZVdvcmtzcGFjZUJhY2tNb2RhbCIsICJtYXRjaCIsICJkZXRlY3RXb3Jrc3BhY2VTZWN0aW9uIiwgIm9wZW5Xb3Jrc3BhY2VCYWNrTW9kYWwiLCAiYWN0aXZlU2VjdGlvbiIsICJpbml0RGVzaWduV29ya3NwYWNlIiwgImluaXRDb250ZW50V29ya3NwYWNlIiwgImluaXRNZWRpYVdvcmtzcGFjZSIsICJpbml0RGVwbG95V29ya3NwYWNlIiwgImluaXRTZXR0aW5nc1dvcmtzcGFjZSIsICJwYWdlTGlzdHMiLCAiYWN0aXZlVGl0bGUiLCAiYWN0aXZlU2x1ZyIsICJwcmV2aWV3VGFncyIsICJwcmV2aWV3RnJhbWUiLCAicHJldmlld09wZW5CdXR0b24iLCAicHJldmlld1N0YXR1cyIsICJwcmV2aWV3SGlnaGxpZ2h0T3ZlcmxheSIsICJzZW9Ub2dnbGVCdXR0b24iLCAic2VvUGFuZWwiLCAic2VvQ2xvc2VCdXR0b24iLCAic2VvRm9ybSIsICJzZW9UaXRsZUlucHV0IiwgInNlb0Rlc2NyaXB0aW9uSW5wdXQiLCAic2VvSW5kZXhlZENoZWNrYm94IiwgInNlb0ZlZWRiYWNrIiwgInNlb1NhdmVCdXR0b24iLCAicGFnZVByb3BzVG9nZ2xlQnV0dG9uIiwgInBhZ2VQcm9wc1BhbmVsIiwgInBhZ2VQcm9wc0Nsb3NlQnV0dG9uIiwgInBhZ2VQcm9wc0Zvcm0iLCAicGFnZU5hbWVJbnB1dCIsICJwYWdlVGl0bGVJbnB1dCIsICJwYWdlU2x1Z0lucHV0IiwgInBhZ2VEZXNjcmlwdGlvbklucHV0IiwgInBhZ2VQcm9wc0ZlZWRiYWNrIiwgInBhZ2VQcm9wc1NhdmVCdXR0b24iLCAiYmxvY2tMaXN0IiwgImJsb2NrTGlzdEVtcHR5IiwgImJsb2NrQ291bnRCYWRnZSIsICJibG9ja0xpYnJhcnlUb2dnbGUiLCAiYmxvY2tMaWJyYXJ5IiwgImJsb2NrQWRkQnV0dG9ucyIsICJibG9ja0RlbGV0ZU1vZGFsIiwgImJsb2NrRGVsZXRlQ29uZmlybSIsICJibG9ja0RlbGV0ZUNhbmNlbCIsICJibG9ja0RldGFpbEVtcHR5IiwgImJsb2NrRGV0YWlsU3RhdHVzIiwgImJsb2NrRWRpdG9yIiwgImJsb2NrRWRpdG9yVGl0bGUiLCAiYmxvY2tFZGl0b3JUeXBlIiwgImJsb2NrRWRpdG9yVW5zdXBwb3J0ZWQiLCAiYmxvY2tGb3JtIiwgImJsb2NrRm9ybVNlY3Rpb25zIiwgImJsb2NrVGFicyIsICJhY3RpdmVCbG9ja1RhYiIsICJsZWZ0UGFuZWxUYWJzIiwgImxlZnRQYW5lbEJsb2NrcyIsICJsZWZ0UGFuZWxQYWdlcyIsICJhY3RpdmVMZWZ0VGFiIiwgInN3aXRjaExlZnRUYWIiLCAidGFiTmFtZSIsICJibG9ja0Zvcm1BY3Rpb25zIiwgImJsb2NrRm9ybUF1dG9zYXZlIiwgInN3aXRjaEJsb2NrVGFiIiwgInBhbmVsIiwgImNvbGxlY3Rpb25TZWxlY3QiLCAiY29sbGVjdGlvblNlbGVjdGlvbkluZm8iLCAiYmxvY2tGb3JtQ2FuY2VsIiwgImdyb3VwUHJldmlld01vYmlsZSIsICJncm91cFByZXZpZXdEZXNrdG9wIiwgImNvbGxlY3Rpb25QcmV2aWV3TW9iaWxlIiwgImNvbGxlY3Rpb25QcmV2aWV3RGVza3RvcCIsICJibG9ja1R5cGVGb3JtcyIsICJibG9ja1R5cGVBbGlhc2VzIiwgInVwZGF0ZUdyb3VwTWluaVByZXZpZXciLCAibW9iaWxlVmFsdWUiLCAiZGVza3RvcFZhbHVlIiwgInJlbmRlckJveGVzIiwgImNvdW50IiwgInVwZGF0ZUNvbGxlY3Rpb25NaW5pUHJldmlldyIsICJmZXRjaFBhZ2VzRnJvbVNlcnZlciIsICJwYWdlc0FwaUJhc2UiLCAiY3JlYXRlUGFnZU9uU2VydmVyIiwgInRpdGxlIiwgInNhdmVQYWdlVG9TZXJ2ZXIiLCAicGFnZSIsICJzYXZlZCIsICJub3JtYWxpemVkIiwgIm5vcm1hbGl6ZVBhZ2VEYXRhIiwgInBhZ2VzIiwgImVudHJ5IiwgImN1cnJlbnRQYWdlIiwgImxvYWRQYWdlc0Zyb21TZXJ2ZXIiLCAiYWN0aXZlUGFnZUlkIiwgInJlbmRlclBhZ2VMaXN0cyIsICJyZW5kZXJCbG9ja0xpc3QiLCAibG9hZGVkUGFnZXMiLCAiZ2V0TG9hZGluZ1ByZXZpZXdIdG1sIiwgImdldFN0b3JlZEFjdGl2ZVBhZ2UiLCAic2V0QWN0aXZlUGFnZSIsICJub3JtYWxpemVUeXBlIiwgImdldEJsb2NrRm9ybUNvbmZpZyIsICJibG9jayIsICJ0eXBlS2V5IiwgImFsaWFzIiwgInBvcHVsYXRlQmxvY2tGb3JtIiwgIl9hIiwgIl9iIiwgIl9jIiwgIl9kIiwgIl9lIiwgImNvbmZpZyIsICJzZWN0aW9uIiwgImRlc2lyZWRWYWx1ZSIsICJ1cGRhdGVDb2xsZWN0aW9uU2VsZWN0T3B0aW9ucyIsICJzZXR0aW5nS2V5IiwgImZpZWxkTmFtZSIsICJpbnB1dCIsICJzZWxlY3QiLCAic2VsZWN0ZWRPcHRpb24iLCAiY29sb3IiLCAiY29sb3JQcmV2aWV3IiwgImNvbGxlY3RGb3JtVmFsdWVzIiwgInZhbHVlcyIsICJwYXJzZWQiLCAidXBkYXRlUHJldmlld1N0YXR1cyIsICJ0ZXh0IiwgInNlcmlhbGl6ZVBhZ2VGb3JQcmV2aWV3IiwgInNlcmlhbGl6ZUJsb2NrIiwgImRlYm91bmNlIiwgImZuIiwgImRlbGF5IiwgInRpbWVvdXRJZCIsICJhcmdzIiwgImF1dG9TYXZlVGltZW91dCIsICJhdXRvU2F2ZUFwcGVhcmFuY2UiLCAiYWN0aXZlQmxvY2tJZCIsICJnZXRBY3RpdmVCbG9jayIsICJ1cGRhdGVkQmxvY2tzIiwgInVwZGF0ZWRTZXR0aW5ncyIsICJuZXh0UGFnZSIsICJ1cGRhdGVQcmV2aWV3QmxvY2tMaXZlIiwgImJsb2NrSWQiLCAic2V0dGluZ3MiLCAiZGVib3VuY2VkQXV0b1NhdmUiLCAiZGVib3VuY2VkUmVmcmVzaFByZXZpZXciLCAicmVmcmVzaFByZXZpZXciLCAiaGFuZGxlQXBwZWFyYW5jZUNoYW5nZSIsICJwcmV2aWV3U2l0ZVNsdWciLCAicHJldmlld1JlYWR5IiwgInByZXZpZXdSZXF1ZXN0Q29udHJvbGxlciIsICJjb250cm9sbGVyIiwgImRhdGEiLCAibGF0ZXN0UHJldmlld0h0bWwiLCAiZXJyb3IiLCAiaGFuZGxlQmxvY2tGb3JtU3VibWl0IiwgInVwZGF0ZWRCbG9jayIsICJ1cGRhdGVDdXJyZW50UGFnZUJsb2NrcyIsICJkcmF3ZXIiLCAiZHJhd2VyQmFja2Ryb3AiLCAiZHJhd2VyT3BlbkJ1dHRvbnMiLCAiZHJhd2VyQ2xvc2VCdXR0b25zIiwgImFkZFBhZ2VUb2dnbGUiLCAiYWRkUGFnZUZvcm0iLCAiYWRkUGFnZU5hbWUiLCAiYWRkUGFnZVRpdGxlIiwgImFkZFBhZ2VTbHVnIiwgImFkZFBhZ2VDYW5jZWwiLCAiYWRkUGFnZUVycm9yIiwgImFkZFBhZ2VTdWJtaXRCdXR0b24iLCAiaW1wb3J0VG9nZ2xlIiwgImltcG9ydE1vZGFsIiwgImltcG9ydENsb3NlQnV0dG9ucyIsICJpbXBvcnREcm9wem9uZSIsICJpbXBvcnRGaWxlSW5wdXQiLCAiaW1wb3J0RmlsZUxpc3QiLCAiaW1wb3J0RmlsZU5hbWVzIiwgImltcG9ydFJlc3VsdHMiLCAiaW1wb3J0UmVzdWx0c0NvbnRlbnQiLCAiaW1wb3J0U3VibWl0IiwgImltcG9ydFRhYnMiLCAiaW1wb3J0UGFuZWxzIiwgImNvcHlUZW1wbGF0ZUJ0biIsICJ0ZW1wbGF0ZUpzb24iLCAiaW1wb3J0UGFzdGVJbnB1dCIsICJwYXN0ZUZvcm1hdEJ0biIsICJwYXN0ZUVycm9yIiwgImltcG9ydFNlbGVjdGVkRmlsZXMiLCAiYWN0aXZlSW1wb3J0VGFiIiwgImRlbGV0ZVBhZ2VNb2RhbCIsICJkZWxldGVQYWdlTmFtZSIsICJkZWxldGVQYWdlQ2FuY2VsIiwgImRlbGV0ZVBhZ2VDb25maXJtIiwgInBhZ2VUb0RlbGV0ZSIsICJzaXRlS2V5IiwgInNpdGVTbHVnVmFsdWUiLCAic2FmZVNpdGVTbHVnIiwgImNvbGxlY3Rpb25zQXBpQmFzZSIsICJzdG9yYWdlS2V5cyIsICJjcmVhdGVCbG9jayIsICJpZCIsICJsYWJlbCIsICJ0eXBlIiwgInN0YXR1cyIsICJkZXNjcmlwdGlvbiIsICJwcm9wcyIsICJibG9ja0xpYnJhcnlEZWZpbml0aW9ucyIsICJwZXJzaXN0QWN0aXZlUGFnZSIsICJwYWdlSWQiLCAic3RvcmVkIiwgImZvcm1hdEJsb2NrQ291bnQiLCAibm9ybWFsaXplUGFnZVNsdWciLCAiZ2VuZXJhdGVCbG9ja0lkIiwgImtleSIsICJjcmVhdGVJbml0aWFsQmxvY2tzIiwgInNldEFjdGl2ZUxhYmVscyIsICJyZW5kZXJQcmV2aWV3TWV0YSIsICJ0YWciLCAiZ2V0U3RhdHVzQmFkZ2VDbGFzc2VzIiwgInJlbmRlckJsb2NrRGV0YWlscyIsICJhcHBseVByZXZpZXdIaWdobGlnaHQiLCAiZG9jIiwgIm5vZGUiLCAiY3JlYXRlQmxvY2tJdGVtRWxlbWVudCIsICJpc05lc3RlZCIsICJwYXJlbnRJZCIsICJibG9ja1R5cGUiLCAiaXNHcm91cCIsICJpdGVtIiwgImFjY2VudCIsICJjb250ZW50IiwgImhhbmRsZSIsICJ0ZXh0V3JhcHBlciIsICJtZXRhIiwgInR5cGVCYWRnZSIsICJzdGF0dXNCYWRnZSIsICJjaGlsZENvdW50IiwgImNoaWxkQmFkZ2UiLCAiZGlzcGxheUxhYmVsIiwgImNvbGxlY3Rpb25OYW1lIiwgImRlc2lnbkNvbGxlY3Rpb25zIiwgImluZm8iLCAiYWN0aW9ucyIsICJtb3ZlQnV0dG9ucyIsICJtb3ZlVXAiLCAibW92ZUNoaWxkQmxvY2tCeU9mZnNldCIsICJtb3ZlQmxvY2tCeU9mZnNldCIsICJtb3ZlRG93biIsICJkZWxldGVCdXR0b24iLCAicmVtb3ZlQ2hpbGRGcm9tR3JvdXAiLCAib3BlbkJsb2NrRGVsZXRlTW9kYWwiLCAic2V0QWN0aXZlQmxvY2siLCAiY3JlYXRlR3JvdXBEcm9wWm9uZSIsICJwYXJlbnRCbG9jayIsICJkcm9wWm9uZSIsICJlIiwgIm1vdmVCbG9ja1RvR3JvdXAiLCAib3BlbkFkZEJsb2NrVG9Hcm91cE1vZGFsIiwgImJsb2NrcyIsICJjaGlsZCIsICJjaGlsZEl0ZW0iLCAiZ3JvdXBJZCIsICJibG9ja0luZGV4IiwgImIiLCAiZ3JvdXBCbG9jayIsICJtb3ZlZEJsb2NrIiwgImNoaWxkSWQiLCAiY2hpbGRJbmRleCIsICJjIiwgImdyb3VwSW5kZXgiLCAib2Zmc2V0IiwgImN1cnJlbnRJbmRleCIsICJuZXdJbmRleCIsICJwZW5kaW5nR3JvdXBJZEZvck5ld0Jsb2NrIiwgIm9wZW5EZWxldGVQYWdlTW9kYWwiLCAiY2xvc2VEZWxldGVQYWdlTW9kYWwiLCAiZXhlY3V0ZURlbGV0ZVBhZ2UiLCAicGFnZVRpdGxlIiwgInJlc3VsdCIsICJwIiwgImFjdGl2ZUlkIiwgImxpc3QiLCAiZGlzcGxheU5hbWUiLCAiaXNEZXNrdG9wRHJhd2VyIiwgImNsb3NlRHJhd2VyIiwgImRlbGV0ZUJ0biIsICJhY3RpdmVCbG9ja1BhcmVudElkIiwgInRhcmdldEJsb2NrIiwgImZvdW5kIiwgIm5ld0Jsb2NrcyIsICJ1cGRhdGVDdXJyZW50UGFnZVN0YXRlIiwgImlzRGVza3RvcFJlb3JkZXIiLCAiaW5kZXgiLCAibW92ZWQiLCAicmVvcmRlckJsb2NrcyIsICJzb3VyY2VJZCIsICJ0YXJnZXRJZCIsICJmcm9tSW5kZXgiLCAidG9JbmRleCIsICJyZW9yZGVyQmxvY2tzV2l0aFBvc2l0aW9uIiwgInBvc2l0aW9uIiwgImluc2VydEluZGV4IiwgInVwZGF0ZURyYWdnYWJsZVN0YXRlIiwgImRyYWdnYWJsZSIsICJjbG9zZUJsb2NrTGlicmFyeSIsICJibG9ja0xpYnJhcnlPcGVuIiwgIm9wZW5CbG9ja0xpYnJhcnkiLCAidG9nZ2xlQmxvY2tMaWJyYXJ5IiwgImFkZEJsb2NrRnJvbUxpYnJhcnkiLCAiZGVmaW5pdGlvbiIsICJuZXdCbG9jayIsICJmaXJzdENvbGxlY3Rpb25JZCIsICJuZXh0QmxvY2tzIiwgImRlbGV0ZUJsb2NrQnlJZCIsICJuZXh0QWN0aXZlIiwgImNsb3NlQmxvY2tEZWxldGVNb2RhbCIsICJwZW5kaW5nRGVsZXRlQmxvY2tJZCIsICJ0YXJnZXQiLCAic3luY0RyYXdlclN0YXRlIiwgIm9wZW5EcmF3ZXIiLCAib3BlbkFkZFBhZ2VGb3JtIiwgInBhZ2VTbHVnTWFudWFsbHlFZGl0ZWQiLCAiY2xvc2VBZGRQYWdlRm9ybSIsICJzeW5jU2x1Z0Zyb21OYW1lIiwgIm5vcm1hbGl6ZUJsb2NrRGF0YSIsICJsb2FkRGVzaWduQ29sbGVjdGlvbnMiLCAiY3VycmVudFZhbHVlIiwgInN5bmNDb2xsZWN0aW9uU2VsZWN0aW9uSW5mbyIsICJjb2xsZWN0aW9uSWQiLCAiY29sbGVjdGlvbiIsICJkZXRhaWxzIiwgInNlbGVjdGVkVmFsdWUiLCAib3B0aW9uIiwgImZhbGxiYWNrT3B0aW9uIiwgImNyZWF0ZWRQYWdlIiwgInJlc2V0UGFzdGVTdGF0ZSIsICJ2YWxpZGF0ZVBhc3RlSnNvbiIsICJmb3JtYXRQYXN0ZUpzb24iLCAidXBkYXRlSW1wb3J0U3VibWl0U3RhdGUiLCAib3BlbkltcG9ydE1vZGFsIiwgInVwZGF0ZUltcG9ydEZpbGVMaXN0IiwgInQiLCAiY2xvc2VJbXBvcnRNb2RhbCIsICJmIiwgImhhbmRsZUltcG9ydEZpbGVzIiwgImZpbGVzIiwgImpzb25GaWxlcyIsICJleGVjdXRlSW1wb3J0IiwgIl9mIiwgIl9nIiwgIl9oIiwgIl9pIiwgIl9qIiwgIl9rIiwgInBhZ2VzRGF0YSIsICJwYXJzZUVyciIsICJlcnJvckxpbmUiLCAiZXJyb3JEZXRhaWwiLCAicG9zIiwgImxpbmVzIiwgImxpbmVOdW0iLCAiY29sTnVtIiwgImZpbGVFcnJvcnMiLCAiZmlsZSIsICJodG1sIiwgImhhc0RhdGEiLCAiaGFzU3VjY2VzcyIsICJoYXNFcnJvcnMiLCAiY29sbGVjdGlvbnNNc2ciLCAiYnRuIiwgInRhcmdldFBhbmVsIiwgInByZXZpZXdXaW5kb3ciLCAidG9nZ2xlU2VvUGFuZWwiLCAic2hvdyIsICJzZXRTZW9GZWVkYmFjayIsICJ0b25lIiwgImlzVmlzaWJsZSIsICJzZW9EYXRhIiwgInVwZGF0ZWRQYWdlIiwgInRvZ2dsZVBhZ2VQcm9wc1BhbmVsIiwgInNldFBhZ2VQcm9wc0ZlZWRiYWNrIiwgIm5ld05hbWUiLCAibmV3VGl0bGUiLCAibmV3U2x1ZyIsICJuZXdEZXNjcmlwdGlvbiIsICJoYW5kbGVCbG9ja0RyYWdTdGFydCIsICJkcmFnU291cmNlSWQiLCAiY2xlYXJEcmFnSW5kaWNhdG9ycyIsICJoYW5kbGVCbG9ja0RyYWdFbmQiLCAiaGFuZGxlQmxvY2tEcmFnT3ZlciIsICJyZWN0IiwgIm1pZFkiLCAiaXNBYm92ZSIsICJoYW5kbGVCbG9ja0RyYWdMZWF2ZSIsICJyZWxhdGVkVGFyZ2V0IiwgImhhbmRsZUJsb2NrRHJvcCIsICJzb3VyY2UiLCAiZHJvcFBvc2l0aW9uIiwgImFjdGl2ZVBhZ2UiLCAiY29sbGVjdGlvbkxpc3QiLCAiY29udGVudFZpZXdzIiwgImNvbnRlbnRTZWN0aW9uQnV0dG9ucyIsICJjb250ZW50U2VjdGlvblRyaWdnZXJzIiwgImNvbnRlbnREcmF3ZXIiLCAiY29udGVudERyYXdlckJhY2tkcm9wIiwgImNvbnRlbnREcmF3ZXJPcGVuQnV0dG9ucyIsICJjb250ZW50RHJhd2VyQ2xvc2VCdXR0b25zIiwgImhlYWRlclN0YXR1c0luZGljYXRvciIsICJmb290ZXJTdGF0dXNJbmRpY2F0b3IiLCAiY29sbGVjdGlvbkNvdW50RWwiLCAiaGVhZGVyRmllbGRzIiwgImhlYWRlck5hdkxpc3QiLCAiaGVhZGVyTmF2QWRkQnRuIiwgImhlYWRlclNhdmVCdG4iLCAiaGVhZGVyTmF2SXRlbVRlbXBsYXRlIiwgImhlYWRlclBhZ2VzTGlzdCIsICJzaXRlUGFnZXMiLCAic2VsZWN0ZWROYXZQYWdlcyIsICJmb290ZXJGaWVsZHMiLCAiZm9vdGVyQ29sdW1uc0xpc3QiLCAiZm9vdGVyQ29sdW1uQWRkQnRuIiwgImZvb3RlclNhdmVCdG4iLCAiZm9vdGVyQ29sdW1uVGVtcGxhdGUiLCAiZm9vdGVyTGlua1RlbXBsYXRlIiwgImFjdGl2ZUNvbnRlbnRTZWN0aW9uIiwgImhlYWRlckRhdGEiLCAiZm9vdGVyRGF0YSIsICJzYWZlU2l0ZVNsdWdGb3JMYXlvdXQiLCAibGF5b3V0QXBpQmFzZSIsICJzaG93Q29udGVudFZpZXciLCAidmlld05hbWUiLCAib3BlbkNvbnRlbnREcmF3ZXIiLCAiY2xvc2VDb250ZW50RHJhd2VyIiwgImxvYWRTaXRlUGFnZXNGb3JIZWFkZXIiLCAicmVuZGVyUGFnZUNoZWNrYm94ZXMiLCAicGFnZVNsdWciLCAicGFnZURpc3BsYXlOYW1lIiwgInBhZ2VVcmwiLCAiaXNTZWxlY3RlZCIsICJuYXYiLCAiY2hlY2tib3giLCAiY29sbGVjdEhlYWRlckRhdGEiLCAiX2wiLCAiX20iLCAidXJsIiwgInBvcHVsYXRlSGVhZGVyRm9ybSIsICJhZGRGb290ZXJMaW5rIiwgImNvbnRhaW5lciIsICJjbG9uZSIsICJsYWJlbElucHV0IiwgInVybElucHV0IiwgInJlbW92ZUJ0biIsICJhZGRGb290ZXJDb2x1bW4iLCAibGlua3MiLCAiY29sdW1uIiwgInRpdGxlSW5wdXQiLCAibGlua3NDb250YWluZXIiLCAiYWRkTGlua0J0biIsICJjb2xsZWN0Rm9vdGVyRGF0YSIsICJfbiIsICJfbyIsICJfcCIsICJfcSIsICJfciIsICJfcyIsICJfdCIsICJjb2x1bW5zIiwgImNvbCIsICJsaW5rRWwiLCAicG9wdWxhdGVGb290ZXJGb3JtIiwgInYiLCAiY29sbGVjdGlvbkVtcHR5U3RhdGUiLCAiY29sbGVjdGlvbkl0ZW1zRW1wdHkiLCAiaXRlbVRhYmxlV3JhcHBlciIsICJpdGVtVGFibGVCb2R5IiwgImNvbGxlY3Rpb25UaXRsZSIsICJjb2xsZWN0aW9uRGVzY3JpcHRpb24iLCAiaXRlbUFkZEJ1dHRvbiIsICJpdGVtRGV0YWlsRW1wdHkiLCAiaXRlbUZvcm0iLCAiaXRlbUZvcm1GaWVsZHMiLCAiaXRlbVN0YXR1c0JhZGdlIiwgIml0ZW1EZWxldGVCdXR0b24iLCAiaXRlbURlbGV0ZU1vZGFsIiwgIml0ZW1EZWxldGVDYW5jZWwiLCAiaXRlbURlbGV0ZUNvbmZpcm0iLCAiaXRlbUZvcm1DYW5jZWwiLCAiaXRlbUZvcm1TYXZlIiwgInN0YXR1c0JhZGdlQmFzZUNsYXNzIiwgInNhZmVTaXRlU2x1Z1ZhbHVlIiwgImNvbGxlY3Rpb25zIiwgImNvbGxlY3Rpb25JdGVtcyIsICJhY3RpdmVDb2xsZWN0aW9uSWQiLCAiYWN0aXZlSXRlbUlkIiwgImlzQ3JlYXRpbmdJdGVtIiwgIml0ZW1TbHVnTWFudWFsbHlFZGl0ZWQiLCAicGVuZGluZ0RlbGV0ZUl0ZW1JZCIsICJub3JtYWxpemVJdGVtU2x1Z0lucHV0IiwgInJhdyIsICJjbGVhbmVkU2VnbWVudHMiLCAic2VnbWVudCIsICJmb3JtYXRJdGVtRGF0ZSIsICJkYXRlIiwgInVwZGF0ZUNvbGxlY3Rpb25IZWFkZXIiLCAidXBkYXRlSXRlbXNFbXB0eU1lc3NhZ2UiLCAiaGlkZUl0ZW1Gb3JtIiwgInNob3dJdGVtRm9ybSIsICJzeW5jQWRkQnV0dG9uU3RhdGUiLCAic3luY0l0ZW1TdGF0dXNCYWRnZSIsICJjb2xvckNsYXNzIiwgInJlbmRlckNvbGxlY3Rpb25MaXN0IiwgInNldEFjdGl2ZUNvbGxlY3Rpb24iLCAicmVuZGVySXRlbVRhYmxlIiwgInJvdyIsICJzdGF0dXNDbGFzc2VzIiwgImhhbmRsZVNlbGVjdCIsICJzZWxlY3RJdGVtIiwgIml0ZW1JZCIsICJwb3B1bGF0ZUl0ZW1Gb3JtIiwgInByZXBhcmVOZXdJdGVtRm9ybSIsICJjb2xsZWN0SXRlbUZvcm1WYWx1ZXMiLCAic2x1Z0lucHV0IiwgInN1bW1hcnkiLCAiaW1hZ2UiLCAiY3RhVGV4dCIsICJjdGFVcmwiLCAiY3RhIiwgInNldEZvcm1TYXZpbmdTdGF0ZSIsICJpc1NhdmluZyIsICJmZXRjaENvbGxlY3Rpb25JdGVtcyIsICJjcmVhdGVDb2xsZWN0aW9uSXRlbSIsICJ1cGRhdGVDb2xsZWN0aW9uSXRlbSIsICJkZWxldGVDb2xsZWN0aW9uSXRlbSIsICJsb2FkQ29sbGVjdGlvbnMiLCAiZGVmYXVsdElkIiwgInNhdmVkSXRlbSIsICJjbG9zZURlbGV0ZU1vZGFsIiwgIm9wZW5EZWxldGVNb2RhbCIsICJmb3JtIiwgInByb3RvY29sU2VsZWN0IiwgImhvc3RJbnB1dCIsICJwb3J0SW5wdXQiLCAidXNlcklucHV0IiwgInBhc3N3b3JkSW5wdXQiLCAic2hvd1Bhc3N3b3JkVG9nZ2xlIiwgInJlbW90ZVBhdGhJbnB1dCIsICJmZWVkYmFjayIsICJzYXZlQnV0dG9uIiwgInRlc3RCdXR0b24iLCAiZGVwbG95QnV0dG9uIiwgImhpc3RvcnlMaXN0IiwgImxvZ0JveCIsICJkZXBsb3lBcGlCYXNlIiwgImRlcGxveVJ1bkFwaSIsICJkZXBsb3lMb2dBcGkiLCAiaGFzUGFzc3dvcmQiLCAiYnVzeUFjdGlvbiIsICJzYW5pdGl6ZVJlbW90ZVBhdGgiLCAidHJpbW1lZCIsICJzZXRGZWVkYmFjayIsICJiYXNlQ2xhc3MiLCAidG9uZUNsYXNzIiwgImljb24iLCAic2V0QnVzeSIsICJhY3Rpb24iLCAiZGlzYWJsZSIsICJzcGlubmVyIiwgInBvcHVsYXRlRm9ybSIsICJyZW5kZXJIaXN0b3J5IiwgImVudHJpZXMiLCAibGkiLCAiZHVyYXRpb24iLCAicmVuZGVyTG9ncyIsICJmZXRjaEhpc3RvcnkiLCAiZmV0Y2hDb25maWciLCAiYnVpbGRQYXlsb2FkIiwgInB3ZCIsICJlcnJvclBheWxvYWQiLCAidGFiQnV0dG9ucyIsICJ0YWJQYW5lbHMiLCAic2l0ZUZlZWRiYWNrIiwgInRoZW1lRm9ybSIsICJzd2l0Y2hUYWIiLCAic3VibWl0IiwgImZvcm1EYXRhIiwgImN1cnJlbnRQYXNzd29yZCIsICJuZXdQYXNzd29yZCIsICJjb25maXJtUGFzc3dvcmQiLCAibmFtZUlucHV0IiwgImxhbmdTZWxlY3QiLCAidGFnbGluZUlucHV0IiwgInNldFNpdGVGZWVkYmFjayIsICJzaXRlQ29uZmlnQXBpIiwgImxvYWRTaXRlQ29uZmlnIiwgInRoZW1lQXBpIiwgImNvbG9yU2VsZWN0cyIsICJoZWFkaW5nU2VsZWN0IiwgImJvZHlTZWxlY3QiLCAicmFkaXVzU21hbGwiLCAicmFkaXVzTWVkaXVtIiwgInJhZGl1c0xhcmdlIiwgInByZXZpZXciLCAidGhlbWVGZWVkYmFjayIsICJhcHBseUJ1dHRvbiIsICJ0YWlsd2luZEh1ZXMiLCAidGFpbHdpbmRTaGFkZXMiLCAidGFpbHdpbmRUb2tlbnMiLCAiaCIsICJzIiwgImZpbGxDb2xvck9wdGlvbnMiLCAic2VsIiwgInRva2VuIiwgInNldFRoZW1lRmVlZGJhY2siLCAic3luY1ByZXZpZXciLCAidG9rZW5Ub0hleCIsICJzaGFkZU51bSIsICJmYWN0b3IiLCAidG9SZ2IiLCAiaGV4IiwgInIiLCAiZyIsICJtaXgiLCAic2V0Q29sb3JGaWVsZHMiLCAidXBkYXRlQ29sb3JTZWxlY3RQcmV2aWV3IiwgImluaXRDb2xvclByZXZpZXdzIiwgImxvYWRUaGVtZSIsICJzZW9Db25maWdGb3JtIiwgImluZGV4QWxsQ2hlY2tib3giLCAic2VvQ29uZmlnRmVlZGJhY2siLCAibG9hZFNlb0NvbmZpZyIsICJpbmRleEFsbCIsICJjdXJyZW50UmVzIiwgImN1cnJlbnRDb25maWciLCAiYW5hbHl0aWNzRm9ybSIsICJoZWFkVGV4dGFyZWEiLCAiYm9keVRleHRhcmVhIiwgImFuYWx5dGljc0ZlZWRiYWNrIiwgImFuYWx5dGljc1NhdmVCdXR0b24iLCAic2V0QW5hbHl0aWNzRmVlZGJhY2siLCAibG9hZEFuYWx5dGljc0NvbmZpZyIsICJhaUNvbmZpZ0Zvcm0iLCAiYXBpS2V5SW5wdXQiLCAibW9kZWxTZWxlY3QiLCAicHJvamVjdFByb21wdFRleHRhcmVhIiwgImVuYWJsZWRDaGVja2JveCIsICJhaUZlZWRiYWNrIiwgImFpU2F2ZUJ1dHRvbiIsICJhaUNvbmZpZ0FwaSIsICJzZXRBSUZlZWRiYWNrIiwgImxvYWRBSUNvbmZpZyIsICJhcGlLZXlWYWx1ZSIsICJncmlkIiwgImVtcHR5U3RhdGUiLCAiY291bnRCYWRnZSIsICJmaWx0ZXJUeXBlIiwgImRldGFpbEVtcHR5IiwgImRldGFpbFBhbmVsIiwgImRldGFpbFByZXZpZXciLCAiZGV0YWlsTmFtZSIsICJkZXRhaWxUeXBlIiwgImRldGFpbFNpemUiLCAiZGV0YWlsUGF0aCIsICJkZXRhaWxVc2VkIiwgImRldGFpbEFsdElucHV0IiwgImRldGFpbFNhdmVCdXR0b24iLCAiZGV0YWlsRGVsZXRlQnV0dG9uIiwgImRlbGV0ZU1vZGFsIiwgImRlbGV0ZUNhbmNlbEJ1dHRvbiIsICJkZWxldGVDb25maXJtQnV0dG9uIiwgInVwbG9hZE9wZW5CdXR0b24iLCAiZmlsZUlucHV0IiwgInVwbG9hZFN0YXR1cyIsICJtZWRpYUFwaUJhc2UiLCAibWVkaWFJdGVtcyIsICJmaWx0ZXJlZEl0ZW1zIiwgImFjdGl2ZU1lZGlhSWQiLCAiaGlnaGxpZ2h0TWVkaWFJZCIsICJwZW5kaW5nVXBsb2FkRmlsZSIsICJ1cGxvYWRJblByb2dyZXNzIiwgImRldGFpbERpcnR5IiwgInVwbG9hZE1vZGUiLCAidXBsb2FkUHJldmlld1VybCIsICJkZXJpdmVHcm91cFR5cGUiLCAiZmlsZW5hbWUiLCAiaXNJbWFnZVR5cGUiLCAiZm9ybWF0VHlwZUxhYmVsIiwgImV4dCIsICJmb3JtYXRGaWxlU2l6ZSIsICJzaXplIiwgInJlc2V0RGV0YWlsUGFuZWwiLCAiY2xlYXJVcGxvYWRTdGF0ZSIsICJ1cGRhdGVEZXRhaWxBY3Rpb25zIiwgInVwZGF0ZUNvdW50QmFkZ2UiLCAicmVuZGVyR3JpZCIsICJzZWxlY3RNZWRpYSIsICJyZW5kZXJVc2VkSW4iLCAic2F2aW5nIiwgIm1lZGlhSWQiLCAic2hvd1VwbG9hZFByZXZpZXciLCAiYXBwbHlGaWx0ZXJzIiwgInR5cGVGaWx0ZXIiLCAibG9hZE1lZGlhIiwgImhhbmRsZUZpbGVTZWxlY3Rpb24iLCAicmVhZEZpbGVBc0Jhc2U2NCIsICJyZXNvbHZlIiwgInJlamVjdCIsICJyZWFkZXIiLCAiYmFzZTY0IiwgInVwbG9hZFNlbGVjdGVkTWVkaWEiLCAiZGVsZXRlQWN0aXZlTWVkaWEiLCAiZGlzYWJsZUJ1dHRvbnMiLCAiZW5hYmxlQnV0dG9ucyIsICJ1cGRhdGVkIiwgImFpQ2hhdFRvZ2dsZSIsICJhaUNoYXRQYW5lbCIsICJhaUNoYXRPdmVybGF5IiwgImFpQ2hhdENsb3NlIiwgImFpQ2hhdENsZWFyIiwgImFpQ2hhdEZvcm0iLCAiYWlDaGF0SW5wdXQiLCAiYWlDaGF0TWVzc2FnZXMiLCAiYWlDaGF0U3RhdHVzIiwgImFpQ2hhdE5vQXBpIiwgImFpUXVpY2tCdXR0b25zIiwgImFpQ2hhdE9wZW4iLCAiYWlJc0xvYWRpbmciLCAiYWlDb25maWdDaGVja2VkIiwgImFpSGFzQXBpS2V5IiwgIm9wZW5BSUNoYXQiLCAiY2hlY2tBSUNvbmZpZyIsICJjbG9zZUFJQ2hhdCIsICJzaXRlU2x1ZyIsICJsb2FkQUlDaGF0SGlzdG9yeSIsICJ3ZWxjb21lTXNnIiwgIm1zZyIsICJhcHBlbmRBSU1lc3NhZ2UiLCAicm9sZSIsICJtc2dEaXYiLCAiZXNjYXBlSHRtbCIsICJmb3JtYXR0ZWRDb250ZW50IiwgImZvcm1hdEFJUmVzcG9uc2UiLCAic2hvd0FJTG9hZGluZyIsICJsb2FkaW5nRGl2IiwgImhpZGVBSUxvYWRpbmciLCAiZm9ybWF0dGVkIiwgImxhbmciLCAiY29kZSIsICJkaXYiLCAic2VuZEFJTWVzc2FnZSIsICJhcHBlbmRFZGl0UHJvcG9zYWwiLCAiYXBwZW5kVGhlbWVQcm9wb3NhbCIsICJwcm9wb3NhbCIsICJwcm9wb3NhbERpdiIsICJjaGFuZ2VzSHRtbCIsICJoYW5kbGVBcHBseUVkaXQiLCAiaGFuZGxlUmVqZWN0RWRpdCIsICJjb2xvcnNIdG1sIiwgImNvbG9ycyIsICJnZXRUYWlsd2luZENvbG9yQ3NzIiwgInR5cG9IdG1sIiwgInR5cG8iLCAiaGFuZGxlQXBwbHlUaGVtZSIsICJjb2xvck5hbWUiLCAicHJvcG9zYWxJZCIsICJwcm9wb3NhbENhcmQiLCAiY2xlYXJBSUhpc3RvcnkiLCAicXVpY2tQcm9tcHRzIiwgInByb21wdCJdCn0K
