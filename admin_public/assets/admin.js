(()=>{document.addEventListener("DOMContentLoaded",()=>{console.log("[admin] Atelier charg\xE9");let Qs=document.querySelector("[data-logout]");Qs&&Qs.addEventListener("click",async()=>{Qs.disabled=!0;try{await fetch("/api/logout",{method:"POST",headers:{"Content-Type":"application/json"}})}catch(o){console.error("[admin] Impossible de se d\xE9connecter",o)}finally{window.location.href="/admin/index.html"}});let is=document.querySelector("[data-admin-sidebar]"),mt=document.querySelector("[data-admin-sidebar-overlay]"),Io=document.querySelectorAll("[data-admin-sidebar-toggle]"),an=document.querySelectorAll("[data-admin-sidebar-close]"),eo=document.body,Cs=!1,qs=()=>{if(!is)return;if(window.matchMedia("(min-width: 1024px)").matches){is.classList.remove("hidden"),mt==null||mt.classList.add("hidden"),eo.classList.remove("overflow-hidden");return}Cs?(is.classList.remove("hidden"),mt==null||mt.classList.remove("hidden"),eo.classList.add("overflow-hidden")):(is.classList.add("hidden"),mt==null||mt.classList.add("hidden"),eo.classList.remove("overflow-hidden"))},ln=()=>{Cs=!0,qs()},to=()=>{Cs=!1,qs()};is&&Io.length>0&&(Io.forEach(o=>{o.addEventListener("click",ln)}),an.forEach(o=>{o.addEventListener("click",to)}),mt==null||mt.addEventListener("click",to),window.addEventListener("resize",qs),window.addEventListener("keydown",o=>{o.key==="Escape"&&Cs&&to()}),qs());let $o="clower:currentSite",jo="clower:currentSiteName",Y={slug:null,name:""};(()=>{try{Y.slug=window.localStorage.getItem($o),Y.name=window.localStorage.getItem(jo)||""}catch{Y.slug=null,Y.name=""}})();let so=document.querySelectorAll("[data-site-card]"),cn=document.querySelectorAll("[data-site-select]"),ls=document.querySelector("[data-current-site-name]"),Bo=document.querySelector("[data-workspace-site-name]"),Fo=document.querySelector("[data-workspace-back-name]"),St=document.querySelector("[data-workspace-back-modal]"),dn=document.querySelectorAll("[data-workspace-back]"),un=document.querySelectorAll("[data-workspace-back-cancel]"),oo=document.querySelector("[data-workspace-back-confirm]"),mn=document.querySelectorAll("[data-workspace-tab]"),no=document.querySelector("[data-site-toast]"),Po=document.querySelector("[data-site-toast-message]"),pn=document.querySelectorAll("[data-site-create]"),nt=document.querySelector("[data-site-modal]"),Ye=document.querySelector("[data-site-form]"),ze=Ye==null?void 0:Ye.querySelector('input[name="siteName"]'),Fe=Ye==null?void 0:Ye.querySelector('input[name="siteSlug"]'),Ve=document.querySelector("[data-site-slug-error]"),Je=document.querySelector("[data-site-modal-error]"),fn=document.querySelectorAll("[data-site-modal-cancel]"),_t=document.querySelector("[data-site-modal-submit]"),z=Sn(),As=!1,ro=null,gn='a[href], button:not([disabled]), textarea, input, select, [tabindex]:not([tabindex="-1"])',Yt=[],Mo=o=>Array.from(o.querySelectorAll(gn)).filter(a=>!a.hasAttribute("disabled")&&!a.getAttribute("aria-hidden")),hn=o=>{if(!Yt.length)return;let a=Yt[Yt.length-1],{modal:p,onClose:b}=a;if(o.key==="Escape"){o.preventDefault(),b==null||b();return}if(o.key!=="Tab")return;let h=Mo(p);if(!h.length)return;let x=h[0],R=h[h.length-1];o.shiftKey?document.activeElement===x&&(o.preventDefault(),R.focus()):document.activeElement===R&&(o.preventDefault(),x.focus())};document.addEventListener("keydown",hn);let cs=(o,a)=>{if(!o)return;Yt.push({modal:o,onClose:a,trigger:document.activeElement instanceof HTMLElement?document.activeElement:null});let p=Mo(o);window.setTimeout(()=>{var b,h;(h=(b=p[0]||o).focus)==null||h.call(b)},0)},ds=o=>{var b,h;let a=Yt.findIndex(x=>x.modal===o);if(a===-1)return;let[p]=Yt.splice(a,1);(h=(b=p.trigger)==null?void 0:b.focus)==null||h.call(b)},$=o=>{!no||!Po||(Po.textContent=o,no.classList.remove("hidden"),ro&&clearTimeout(ro),ro=setTimeout(()=>{no.classList.add("hidden")},2500))};function It(o){return o?o.startsWith("/")?o:`/${o}`:""}function Ce(o){return(o==null?void 0:o.replace(/^\//,""))||""}let Ts=(o,a)=>{let p=o?It(o):null;try{p&&(window.localStorage.setItem($o,p),Y.slug=p),typeof a=="string"&&a.length>0&&(window.localStorage.setItem(jo,a),Y.name=a)}catch{Y.slug=p||Y.slug,Y.name=a||Y.name}},No=o=>{ls&&o&&(ls.textContent=o),Bo&&o&&(Bo.textContent=o),Fo&&o&&(Fo.textContent=o)},ao=o=>{mn.forEach(a=>{let p=a.dataset.workspaceTab;if(!p)return;if(!o){a.href="#",a.classList.add("pointer-events-none","opacity-50","text-slate-400"),a.setAttribute("aria-disabled","true");return}let b=encodeURIComponent(Ce(o));a.href=`/admin/site/${b}/${p}`,a.classList.remove("pointer-events-none","opacity-50","text-slate-400"),a.removeAttribute("aria-disabled")})},Is=(o,a={})=>{if(!o)return;let p=It(o),b=a.siteName||Y.name||(ls==null?void 0:ls.dataset.defaultSiteName)||"";so.forEach(x=>{let W=It(x.dataset.siteCard||"")===p,U=x.querySelector("[data-site-active-badge]");W?(x.classList.add("border-[#9C6BFF]","ring-2","ring-[#9C6BFF]","shadow-md"),x.classList.remove("border-slate-200"),U==null||U.classList.remove("hidden"),b=x.dataset.siteName||b):(x.classList.remove("border-[#9C6BFF]","ring-2","ring-[#9C6BFF]","shadow-md"),x.classList.add("border-slate-200"),U==null||U.classList.add("hidden"))}),a.persist!==!1&&Ts(p,a.siteName||b);let h=a.siteName||b;No(h),ao(p)},yn=async(o,a)=>{let p=It(o);try{let b=await fetch("/api/sites/select",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({slug:p})});if(!b.ok){let U=await b.json().catch(()=>({}));$(U.message||"Impossible de s\xE9lectionner ce site.");return}let h=await b.json().catch(()=>({})),x=It(h.slug||p),R=h.name||a;Ts(x,R),Is(x,{siteName:R,persist:!1});let W=encodeURIComponent(Ce(x));window.location.href=`/admin/site/${W}/design`}catch(b){console.error("[admin] Impossible de s\xE9lectionner le site",b),$("Erreur inattendue lors de la s\xE9lection.")}},vn=async()=>{try{let o=await fetch("/api/sites/current",{credentials:"same-origin"});if(!o.ok){o.status===404&&z&&(window.location.href="/admin/sites");return}let a=await o.json(),p=It(a.slug);Ts(p,a.name),Is(p,{siteName:a.name,persist:!1})}catch(o){console.warn("[admin] Impossible de r\xE9cup\xE9rer le site actif",o)}};(()=>{if(Y.slug){Is(Y.slug,{siteName:Y.name,persist:!1});return}let o=document.querySelector('[data-site-card][data-site-default="true"]')||so[0];o&&Is(o.dataset.siteCard,{siteName:o.dataset.siteName||"",persist:!1})})(),vn(),z?ao(z.slugValue):Y.slug&&ao(Y.slug),cn.forEach(o=>{o.addEventListener("click",()=>{if(o.disabled)return;let a=o.dataset.siteSelect,p=o.dataset.siteSelectName||"Ce site";a&&(o.disabled=!0,yn(a,p).finally(()=>{o.disabled=!1}))})});let zt=o=>(o||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),bn=o=>{let a=zt(o||"");return a?`/${a}`:""},xn=()=>{nt&&(nt.classList.remove("hidden"),nt.classList.add("flex"),As=!1,Ye==null||Ye.reset(),Ve&&(Ve.textContent=""),Je&&(Je.textContent=""),Fe&&ze&&(Fe.value=zt(ze.value)),cs(nt,us),window.setTimeout(()=>{ze==null||ze.focus()},0))},us=()=>{nt&&(nt.classList.add("hidden"),nt.classList.remove("flex"),As=!1,Ye==null||Ye.reset(),Ve&&(Ve.textContent=""),Je&&(Je.textContent=""),ds(nt))};pn.forEach(o=>{o.addEventListener("click",xn)}),fn.forEach(o=>{o.addEventListener("click",us)}),nt==null||nt.addEventListener("click",o=>{o.target===nt&&us()}),ze==null||ze.addEventListener("input",()=>{Fe&&((!As||Fe.value.trim().length===0)&&(Fe.value=zt(ze.value)),Ve&&(Ve.textContent=""),Je&&(Je.textContent=""))}),Fe==null||Fe.addEventListener("focus",()=>{let o=(Fe==null?void 0:Fe.value)||"",a=(ze==null?void 0:ze.value)||"";!o.trim()&&a.trim()&&(Fe.value=zt(a))}),Fe==null||Fe.addEventListener("input",()=>{As=!0,Ve&&(Ve.textContent=""),Je&&(Je.textContent="")});let wn=()=>new Set(Array.from(so).map(o=>It(o.dataset.siteCard||"")));Ye==null||Ye.addEventListener("submit",async o=>{if(o.preventDefault(),console.log("[admin] Form submit - siteNameInput:",ze,"siteSlugInput:",Fe),!ze||!Fe){console.log("[admin] Missing inputs, aborting");return}let a=(ze.value||"").trim(),p=(Fe.value||"").trim();console.log("[admin] nameValue:",a,"slugValue:",p),!p&&a&&(p=zt(a),Fe.value=p,console.log("[admin] Auto-generated slug:",p));let b=bn(p);if(console.log("[admin] normalizedSlug:",b),!a){console.log("[admin] Name validation failed"),Je&&(Je.textContent="Le nom du site est requis."),ze.focus();return}if(!b){console.log("[admin] Slug validation failed"),Ve&&(Ve.textContent="Le slug ne peut pas \xEAtre vide ou contenir uniquement des caract\xE8res sp\xE9ciaux."),Fe.focus();return}if(wn().has(b)){Ve&&(Ve.textContent="Ce slug est d\xE9j\xE0 utilis\xE9.");return}Ve&&(Ve.textContent=""),Je&&(Je.textContent=""),_t&&(_t.disabled=!0,_t.textContent="Cr\xE9ation...");try{let x=await fetch("/api/sites",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a,slug:b})});if(!x.ok){let te=await x.json().catch(()=>({})),f=te.message||"Impossible de cr\xE9er ce site.";Je&&(Je.textContent=f),te.field==="slug"&&Ve&&(Ve.textContent=f);return}let R=await x.json(),W=It((R==null?void 0:R.slug)||b),U=(R==null?void 0:R.name)||a;Ts(W,U),us();let oe=encodeURIComponent(Ce(W));window.location.href=`/admin/site/${oe}/design`}catch(x){console.error("[admin] Impossible de cr\xE9er le site",x),Je&&(Je.textContent="Erreur inattendue. R\xE9essaie dans un instant.")}finally{_t&&(_t.disabled=!1,_t.textContent="Cr\xE9er")}}),window.addEventListener("keydown",o=>{o.key==="Escape"&&(nt&&!nt.classList.contains("hidden")&&us(),St&&!St.classList.contains("hidden")&&$s(),blockDeleteModal&&!blockDeleteModal.classList.contains("hidden")&&closeBlockDeleteModal(),blockLibraryOpen&&closeBlockLibrary())});function Sn(){let o=window.location.pathname.match(/^\/admin\/site\/([^/]+)(?:\/([^/]+))?/);return o?{slugPart:decodeURIComponent(o[1]),slugValue:It(decodeURIComponent(o[1])),section:o[2]||"design"}:null}function Ln(){return document.querySelector("[data-page-list]")?"design":document.querySelector("[data-collection-list]")?"content":document.querySelector("[data-media-grid]")?"media":document.querySelector("[data-deploy-form]")?"deploy":null}function kn(){if(!St){window.location.href="/admin/sites";return}St.classList.remove("hidden"),St.classList.add("flex"),cs(St,$s)}function $s(){St&&(St.classList.add("hidden"),St.classList.remove("flex"),ds(St))}dn.forEach(o=>{o.addEventListener("click",kn)}),un.forEach(o=>{o.addEventListener("click",$s)}),oo==null||oo.addEventListener("click",()=>{$s(),window.location.href="/admin/sites"});let ms=(z==null?void 0:z.section)||Ln();ms==="design"&&En(),ms==="content"&&Cn(),ms==="media"&&Tn(),ms==="deploy"&&qn(),ms==="settings"&&An(),z&&Y.name&&No(Y.name);function En(){let o=document.querySelectorAll("[data-page-list]");if(o.length===0)return;let a=document.querySelector("[data-active-page-title]"),p=document.querySelector("[data-active-page-slug]"),b=document.querySelector("[data-page-preview-tags]"),h=document.querySelector("[data-page-preview-frame]"),x=document.querySelector("[data-preview-open]"),R=document.querySelector("[data-preview-status]"),W=document.querySelector("[data-preview-highlight]"),U=document.querySelector("[data-seo-toggle]"),oe=document.querySelector("[data-seo-panel]"),te=document.querySelector("[data-seo-close]"),f=document.querySelector("[data-seo-form]"),E=document.querySelector("[data-seo-title]"),C=document.querySelector("[data-seo-description]"),L=document.querySelector("[data-seo-indexed]"),P=document.querySelector("[data-seo-feedback]"),M=document.querySelector("[data-seo-save]"),N=document.querySelector("[data-page-accessibility-toggle]"),H=document.querySelector("[data-page-accessibility-panel]"),d=document.querySelector("[data-page-accessibility-close]"),q=document.querySelector("[data-page-accessibility-form]"),k=document.querySelector("[data-page-accessibility-nav]"),T=document.querySelector("[data-page-accessibility-main]"),ee=document.querySelector("[data-page-accessibility-feedback]"),K=document.querySelector("[data-page-accessibility-save]"),X=document.querySelector("[data-page-props-toggle]"),ge=document.querySelector("[data-page-props-panel]"),ue=document.querySelector("[data-page-props-close]"),Ie=document.querySelector("[data-page-props-form]"),me=document.querySelector("[data-page-name]"),Le=document.querySelector("[data-page-title-input]"),qe=document.querySelector("[data-page-slug-input]"),D=document.querySelector("[data-page-description]"),v=document.querySelector("[data-page-props-feedback]"),g=document.querySelector("[data-page-props-save]"),S=document.querySelector("[data-blocks-list]"),Z=document.querySelector("[data-blocks-empty]"),ne=document.querySelector("[data-block-count]"),pe=document.querySelector("[data-block-library-toggle]"),he=document.querySelector("[data-block-library]"),Qe=document.querySelectorAll("[data-block-add]"),le=document.querySelector("[data-block-delete-modal]"),et=document.querySelector("[data-block-delete-confirm]"),fe=document.querySelector("[data-block-delete-cancel]"),re=document.querySelector("[data-block-detail-empty]"),Ae=document.querySelector("[data-block-detail-status]"),$e=document.querySelector("[data-block-editor]"),$t=document.querySelector("[data-block-editor-block-name]"),jt=document.querySelector("[data-block-editor-block-type]"),ye=document.querySelector("[data-block-editor-unsupported]"),A=document.querySelector("[data-block-form]"),ce=A?Array.from(A.querySelectorAll("[data-editor-section]")):[],i=document.querySelectorAll("[data-block-tab]"),I="content",V=document.querySelectorAll("[data-left-tab]"),J=document.querySelector('[data-left-panel="blocks"]'),kt=document.querySelector('[data-left-panel="pages"]'),bt="blocks",ps=e=>{bt=e,V.forEach(t=>{let s=t.dataset.leftTab===e;t.setAttribute("aria-selected",s?"true":"false"),s?(t.classList.add("text-[#9C6BFF]"),t.classList.remove("text-slate-500","hover:text-slate-700"),t.classList.add("after:absolute","after:bottom-0","after:left-0","after:right-0","after:h-0.5","after:bg-[#9C6BFF]")):(t.classList.remove("text-[#9C6BFF]"),t.classList.add("text-slate-500","hover:text-slate-700"),t.classList.remove("after:absolute","after:bottom-0","after:left-0","after:right-0","after:h-0.5","after:bg-[#9C6BFF]"))}),J&&J.classList.toggle("hidden",e!=="blocks"),kt&&kt.classList.toggle("hidden",e!=="pages")};V.forEach(e=>{e.addEventListener("click",()=>{ps(e.dataset.leftTab)})});let Vt=document.querySelector("[data-block-form-actions]"),Jt=document.querySelector("[data-block-form-autosave]"),fs=e=>{I=e,i.forEach(s=>{let r=s.dataset.blockTab===e;s.setAttribute("aria-selected",r?"true":"false"),r?(s.classList.add("text-[#9C6BFF]"),s.classList.remove("text-slate-500","hover:text-slate-700"),s.classList.add("after:absolute","after:bottom-0","after:left-0","after:right-0","after:h-0.5","after:bg-[#9C6BFF]")):(s.classList.remove("text-[#9C6BFF]"),s.classList.add("text-slate-500","hover:text-slate-700"),s.classList.remove("after:absolute","after:bottom-0","after:left-0","after:right-0","after:h-0.5","after:bg-[#9C6BFF]"))});let t=A==null?void 0:A.querySelector("[data-editor-section]:not(.hidden)");t&&t.querySelectorAll("[data-block-panel]").forEach(r=>{r.dataset.blockPanel===e?r.classList.remove("hidden"):r.classList.add("hidden")}),Vt&&Jt&&(e==="content"?(Vt.classList.remove("hidden"),Jt.classList.add("hidden")):(Vt.classList.add("hidden"),Jt.classList.remove("hidden")))};i.forEach(e=>{e.addEventListener("click",()=>{fs(e.dataset.blockTab)})});let ve=A==null?void 0:A.querySelector('[name="collection-grid-collection"]'),lt=A==null?void 0:A.querySelector("[data-collection-selection-info]"),Pe=document.querySelector("[data-block-form-cancel]"),He=A==null?void 0:A.querySelector("[data-group-preview-mobile]"),Ne=A==null?void 0:A.querySelector("[data-group-preview-desktop]"),rt=A==null?void 0:A.querySelector("[data-collection-preview-mobile]"),Nt=A==null?void 0:A.querySelector("[data-collection-preview-desktop]"),Bt={hero:{section:"hero",labelField:"title",descriptionField:"subtitle",fields:{title:"hero-title",subtitle:"hero-subtitle",ctaLabel:"hero-cta-label",ctaUrl:"hero-cta-url",image:"hero-image",layout:"hero-layout",height:"hero-height",contentAlign:"hero-content-align",horizontalAlign:"hero-horizontal-align",textAlign:"hero-text-align",overlay:"hero-overlay",titleSize:"hero-title-size",bg:"hero-bg",borderRadius:"hero-border-radius",shadow:"hero-shadow"}},paragraphe:{section:"paragraph",labelField:"title",descriptionField:"content",fields:{title:"paragraph-title",content:"paragraph-content",align:"paragraph-align",titleSize:"paragraph-title-size",textSize:"paragraph-text-size",spacing:"paragraph-spacing",bg:"paragraph-bg",borderRadius:"paragraph-border-radius",shadow:"paragraph-shadow"}},image:{section:"image",labelField:"alt",fields:{src:"image-src",alt:"image-alt",showCaption:"image-caption-toggle",caption:"image-caption",rounded:"image-rounded",shadow:"image-shadow",maxWidth:"image-max-width",height:"image-height",objectFit:"image-object-fit",align:"image-align",bg:"image-bg",borderRadius:"image-border-radius"}},groupe:{section:"group",fields:{columnsMobile:"group-columns-mobile",columnsDesktop:"group-columns-desktop",gap:"group-gap",itemsAlign:"group-items-align",bg:"group-bg",borderRadius:"group-border-radius",shadow:"group-shadow"}},collectiongrid:{section:"collection",fields:{collectionId:"collection-grid-collection",limit:"collection-grid-limit",columnsMobile:"collection-columns-mobile",columnsDesktop:"collection-columns-desktop",gap:"collection-gap",itemsAlign:"collection-items-align",cardRounded:"collection-card-rounded",bg:"collection-bg",borderRadius:"collection-border-radius",shadow:"collection-shadow"}},form:{section:"form",labelField:"formTitle",fields:{formTitle:"form-title",actionUrl:"form-action-url",method:"form-method",serviceName:"form-service-name",submitLabel:"form-submit-label",successMessage:"form-success-message",maxWidth:"form-max-width",align:"form-align",buttonRounded:"form-button-rounded",spacing:"form-spacing",bg:"form-bg",borderRadius:"form-border-radius",shadow:"form-shadow"}},newsletterembed:{section:"newsletter",labelField:"title",fields:{title:"newsletter-title",serviceName:"newsletter-service-name",embedCode:"newsletter-embed-code",maxWidth:"newsletter-max-width",align:"newsletter-align",padding:"newsletter-padding",bg:"newsletter-bg",borderRadius:"newsletter-border-radius",shadow:"newsletter-shadow"}}},gs={texte:"paragraphe",paragraph:"paragraphe",paragraphs:"paragraphe",paragraphes:"paragraphe",text:"paragraphe",hero:"hero",image:"image",groupe:"groupe",group:"groupe",collection:"collectiongrid",collectiongrid:"collectiongrid","collection-grid":"collectiongrid",form:"form",formulaire:"form",contact:"form",newsletterembed:"newsletterembed",newsletter:"newsletterembed",embed:"newsletterembed"},po={animation:"anim-type",animationDelay:"anim-delay",animationDuration:"anim-duration"};Object.values(Bt).forEach(e=>{e.fields={...e.fields,...po}});let Gt=(e,t)=>{if(!He||!Ne)return;let s=r=>Array.from({length:Number(r)||1}).map(()=>'<span class="block h-2 w-full rounded-full bg-slate-300"></span>').join("");He.innerHTML=s(e),Ne.innerHTML=s(t)},Qt=(e,t)=>{if(!rt||!Nt)return;let s=r=>Array.from({length:Number(r)||1}).map(()=>'<span class="block h-2 w-full rounded-full bg-violet-300"></span>').join("");rt.innerHTML=s(e),Nt.innerHTML=s(t)},Ft=async()=>{if(!ht)return[];let e=await fetch(ht,{headers:{Accept:"application/json"}});if(!e.ok)throw new Error("Impossible de charger les pages.");let t=await e.json().catch(()=>[]);return Array.isArray(t)?t:[]},Ps=async({name:e,title:t,slug:s})=>{if(!ht)throw new Error("Site inconnu.");let r=await fetch(ht,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,title:t,slug:s})});if(!r.ok){let l=await r.json().catch(()=>({}));throw new Error(l.message||"Impossible de cr\xE9er la page.")}return r.json().catch(()=>({}))},Et=async e=>{if(!(!ht||!(e!=null&&e.id)))try{let t=await fetch(`${ht}/${encodeURIComponent(e.id)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){let r=await t.json().catch(()=>({}));throw new Error(r.message||"Impossible de sauvegarder la page.")}let s=await t.json().catch(()=>({}));if(s!=null&&s.id){let r=Kt(s);return se=se.map(l=>l.id===r.id?r:l),(u==null?void 0:u.id)===r.id&&(u=r),r}return s}catch(t){console.error("[design] Save page failed",t),$(t.message||"Sauvegarde impossible.")}},hs=async()=>{if(!ht){se=[],Me=null,u=null,Rt(se,Me),yt(null),re==null||re.classList.remove("hidden"),$e==null||$e.classList.add("hidden");return}try{let e=await Ft();if(se=(Array.isArray(e)?e:[]).map(t=>Kt(t)),se.length===0){Me=null,u=null,Rt(se,Me),yt(null),re==null||re.classList.remove("hidden"),$e==null||$e.classList.add("hidden"),h&&(h.srcdoc=Ht());return}Me=Wn(se),wt(Me)}catch(e){console.error("[design] Impossible de charger les pages",e),$("Impossible de charger les pages.")}},Ms=e=>(e||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),Ge=e=>{if(!e)return null;let t=Ms(e.type),s=gs[t]||t;return Bt[s]||null},Ns=e=>{var s,r,l,m,y;if(!A||!$e)return;e&&!e.settings&&(e.settings={});let t=Ge(e);if($t&&($t.textContent=(e==null?void 0:e.label)||"Bloc"),jt&&(jt.textContent=(e==null?void 0:e.type)||"Bloc"),!t){A.classList.add("hidden"),ye==null||ye.classList.remove("hidden"),A.dataset.blockId="";return}if(ye==null||ye.classList.add("hidden"),A.classList.remove("hidden"),A.reset(),A.dataset.blockId=e.id,ce.forEach(B=>{B.dataset.editorSection===t.section?B.classList.remove("hidden"):B.classList.add("hidden")}),fs("content"),t.section==="collection"){let B=e.collectionId||((s=e.settings)==null?void 0:s.collectionId)||"";_s(B)}if(Object.entries(t.fields).forEach(([B,_])=>{var _e,vt,ke;let ie=A.querySelector(`[name="${_}"]`);if(!ie)return;let we=(_e=e.settings)==null?void 0:_e[B];if(ie.type==="checkbox")ie.checked=!!we;else if(ie.type==="number"){let F=(ke=(vt=ie.dataset.default)!=null?vt:ie.defaultValue)!=null?ke:"";ie.value=we!=null?we:F}else ie.tagName,ie.value=we!=null?we:""}),t.section==="group"){let B=((r=A.querySelector('[name="group-columns-mobile"]'))==null?void 0:r.value)||"1",_=((l=A.querySelector('[name="group-columns-desktop"]'))==null?void 0:l.value)||"3";Gt(B,_)}if(t.section==="collection"){let B=((m=A.querySelector('[name="collection-columns-mobile"]'))==null?void 0:m.value)||"1",_=((y=A.querySelector('[name="collection-columns-desktop"]'))==null?void 0:y.value)||"3";Qt(B,_)}A.querySelectorAll("[data-color-select]").forEach(B=>{var _e,vt;let _=B.options[B.selectedIndex],ie=((_e=_==null?void 0:_.dataset)==null?void 0:_e.color)||"#ffffff",we=(vt=B.closest(".relative"))==null?void 0:vt.querySelector("[data-color-preview]");we&&(ie==="transparent"?we.style.background="repeating-conic-gradient(#ccc 0% 25%, white 0% 50%) 50% / 8px 8px":(we.style.backgroundColor=ie,we.style.background=""))})},Dt=e=>{if(!A||!e)return{};let t={};return Object.entries(e.fields).forEach(([s,r])=>{let l=A.querySelector(`[name="${r}"]`);if(l)if(l.type==="checkbox")t[s]=l.checked;else if(l.type==="number"){let m=Number(l.value);t[s]=Number.isFinite(m)?m:0}else l.tagName==="TEXTAREA"?t[s]=l.value||"":l.type==="select-one"?t[s]=l.value:t[s]=l.value||""}),t},Ct=e=>{if(R){if(!e){R.classList.add("hidden");return}R.classList.remove("hidden"),R.textContent=e}},fo=e=>{if(!e)return null;let t=s=>{var r;return{id:s.id,type:s.type,label:s.label,status:s.status,description:s.description,props:s.props||[],settings:s.settings||{},collectionId:s.collectionId||((r=s.settings)==null?void 0:r.collectionId)||"",children:(s.children||[]).map(t)}};return{id:e.id,name:e.name,title:e.title,slug:e.slug,description:e.description||"",badges:[...e.badges||[]],seo:e.seo||{},accessibility:e.accessibility||{},blocks:(e.blocks||[]).map(t)}},Ht=()=>'<!DOCTYPE html><html><body style="font-family:Inter,sans-serif;padding:40px;color:#475569;background:#fff;">Pr\xE9paration de la pr\xE9visualisation\u2026</body></html>',go=(e,t)=>{let s;return(...r)=>{clearTimeout(s),s=setTimeout(()=>e(...r),t)}},Ds=async()=>{if(!u||!Oe)return;let e=ns(),t=Ge(e);if(!e||!t)return;let s=Dt(t),r=(u.blocks||[]).map(m=>{if(m.id!==e.id)return m;let y={...m.settings||{},...s};return{...m,settings:y}}),l={...u,blocks:r};u=l;try{let m=await Et(l);if(m!=null&&m.id){let y=Kt(m);u=y,se=se.map(B=>B.id===y.id?y:B)}}catch(m){console.warn("[design] auto-save appearance failed",m)}},ho=(e,t)=>{!h||!h.contentWindow||h.contentWindow.postMessage({type:"updateBlockStyles",blockId:e,settings:t},"*")},yo=go(()=>{u&&Pt(u)},1500),Hs=(e,t)=>{ho(e,t),Ct("Modification\u2026"),Ds().then(()=>{Ct("Sauvegard\xE9"),setTimeout(()=>Ct("\xC0 jour"),1500)}).catch(()=>Ct("Erreur de sauvegarde")),yo()},Pt=e=>{if(!h||!e)return;let t=(z==null?void 0:z.slugValue)||Y.slug||"",s=se.map(m=>({id:m.id,slug:m.slug,title:m.title,name:m.name,accessibility:m.accessibility})),r={page:fo(e),site:{title:Y.name||"Site",slug:t,pages:s}};Lo=!1,Ct("Actualisation\u2026"),h.srcdoc=Ht(),ks&&ks.abort();let l=new AbortController;ks=l,fetch("/api/preview",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r),signal:l.signal}).then(m=>{if(!m.ok)throw new Error("Preview error");return m.json()}).then(m=>{l.signal.aborted||(So=m.html||"",h.setAttribute("title",`Pr\xE9visualisation de la page ${e.title||""}`.trim()),h.srcdoc=So||Ht(),Ct("\xC0 jour"))}).catch(m=>{l.signal.aborted||(console.error("[preview] Impossible de rendre la page",m),Ct("Erreur preview"),h.srcdoc='<!DOCTYPE html><html><body style="font-family:Inter,sans-serif;padding:40px;color:#be123c;background:#fff;">Erreur lors du rendu de la pr\xE9visualisation.</body></html>')}).finally(()=>{ks===l&&(ks=null)})},es=e=>{var m;if(e.preventDefault(),!u||!Oe)return;let t=ns(),s=Ge(t);if(!t||!s)return;let r=Dt(s);if(s.section==="image"){let y=(r.alt||"").trim();if(r.alt=y,!y){$("Ajoute un texte alternatif pour cette image.","error"),(m=A==null?void 0:A.querySelector('[name="image-alt"]'))==null||m.focus();return}}if(s.section==="collection"){if(!r.collectionId){$("S\xE9lectionnez une collection.");return}r.limit=Math.max(1,Number(r.limit)||1)}let l=(u.blocks||[]).map(y=>{if(y.id!==t.id)return y;let B={...y.settings||{},...r},_={...y,settings:B};return s.labelField&&r[s.labelField]&&(_.label=r[s.labelField]),s.descriptionField&&r[s.descriptionField]&&(_.description=r[s.descriptionField]),s.section==="collection"&&(_.collectionId=r.collectionId,_.settings.collectionId=r.collectionId,_.settings.limit=r.limit),_});rs(l),$("Bloc mis \xE0 jour"),wt(u.id,{preserveBlock:!0})},Mt=document.querySelector("[data-page-drawer]"),tt=document.querySelector("[data-page-drawer-backdrop]"),Us=document.querySelectorAll("[data-page-drawer-open]"),Rs=document.querySelectorAll("[data-page-drawer-close]"),n=document.querySelector("[data-add-page-toggle]"),c=document.querySelector("[data-add-page-form]"),w=document.querySelector("[data-add-page-name]"),j=document.querySelector("[data-add-page-title]"),O=document.querySelector("[data-add-page-slug]"),ae=document.querySelector("[data-add-page-cancel]"),G=document.querySelector("[data-add-page-error]"),Q=c==null?void 0:c.querySelector('[type="submit"]'),je=document.querySelector("[data-import-pages-toggle]"),be=document.querySelector("[data-import-modal]"),We=document.querySelectorAll("[data-import-modal-close]"),xe=document.querySelector("[data-import-dropzone]"),Ue=document.querySelector("[data-import-file-input]"),Re=document.querySelector("[data-import-file-list]"),xt=document.querySelector("[data-import-file-names]"),Ee=document.querySelector("[data-import-results]"),Te=document.querySelector("[data-import-results-content]"),Ke=document.querySelector("[data-import-submit]"),ts=document.querySelectorAll("[data-import-tab]"),ys=document.querySelectorAll("[data-import-panel]"),ss=document.querySelector("[data-copy-template]"),vs=document.querySelector("[data-template-json]"),Ze=document.querySelector("[data-import-paste-json]"),Wt=document.querySelector("[data-format-json]"),ct=document.querySelector("[data-import-paste-error]"),ft=[],qt="upload",st=document.querySelector("[data-delete-page-modal]"),bs=document.querySelector("[data-delete-page-name]"),os=document.querySelector("[data-delete-page-cancel]"),gt=document.querySelector("[data-delete-page-confirm]"),Ut=null,Os=Ce((z==null?void 0:z.slugValue)||Y.slug||"default")||"default",Vn=(z==null?void 0:z.slugValue)||Y.slug||"",zs=Ce(Vn)||"",ht=zs?`/api/sites/${encodeURIComponent(zs)}/pages`:null,Oo=zs?`/api/sites/${encodeURIComponent(zs)}/collections`:null,zo={active:`clower:activePage:${Os}`},vo=(e,t,s,r,l,m=[],y={})=>{let B={id:e,label:t,type:s,status:r,description:l,props:m,settings:{...y}};return B.settings.collectionId&&(B.collectionId=B.settings.collectionId),B},Jn={hero:{type:"Hero",label:"Hero de page",description:"Section pleine largeur avec CTA principal.",status:"Brouillon",props:[{label:"CTA",value:"D\xE9couvrir"},{label:"Hauteur",value:"80vh"}],settings:{title:"Titre du hero",subtitle:"",ctaLabel:"D\xE9couvrir",ctaUrl:"#",image:"",align:"center"}},paragraph:{type:"Paragraphe",label:"Bloc \xE9ditorial",description:"Paragraphe libre pour raconter votre histoire.",status:"Brouillon",props:[{label:"Longueur",value:"150 mots"}],settings:{title:"Titre du paragraphe",content:"",align:"left"}},image:{type:"Image",label:"Bloc image",description:"Visuel seul avec l\xE9gende optionnelle.",status:"Brouillon",props:[{label:"Ratio",value:"16:9"},{label:"L\xE9gende",value:"Inactive"}],settings:{src:"",alt:"",showCaption:!1,caption:""}},group:{type:"Groupe",label:"Groupe de sections",description:"Conteneur pour imbriquer plusieurs sous-blocs.",status:"Brouillon",props:[{label:"Disposition",value:"Verticale"}],settings:{layout:"grid",columnsMobile:"1",columnsDesktop:"3"}},collectiongrid:{type:"CollectionGrid",label:"Grille de contenus",description:"Affiche automatiquement les items d\u2019une collection.",status:"Brouillon",settings:{collectionId:"",limit:6}},form:{type:"Form",label:"Formulaire de contact",description:"Formulaire avec envoi vers un service externe.",status:"Brouillon",settings:{formTitle:"Contactez-nous",actionUrl:"",method:"POST",serviceName:"",submitLabel:"Envoyer",successMessage:"Merci pour votre message !"}},newsletterembed:{type:"NewsletterEmbed",label:"Newsletter / Embed",description:"Int\xE9gration d'un formulaire newsletter externe (Brevo, Mailchimp\u2026).",status:"Brouillon",settings:{title:"Restez inform\xE9",serviceName:"",embedCode:""}}},Gn=e=>{try{window.localStorage.setItem(zo.active,e)}catch{}},Wn=e=>{var t;try{let s=window.localStorage.getItem(zo.active);if(s&&e.some(r=>r.id===s))return s}catch{}return((t=e[0])==null?void 0:t.id)||null},Kn=e=>!e||e<=0?"0 bloc":e===1?"1 bloc":`${e} blocs`,Vo=e=>{if(!e||e==="/")return"/";let t=zt(e.replace(/^\//,""));return t?`/${t}`:"/"},bo=(e="page",t="block")=>`${e}-${t}-${Date.now().toString(36)}-${Math.floor(Math.random()*1e3)}`,Cr=(e,t)=>[vo(bo(e,"intro"),"Introduction","Paragraphe","Brouillon",`Paragraphe introductif pour "${t}".`,[{label:"Longueur",value:"2 paragraphes"}],{title:`Introduction \xE0 ${t}`,content:"Ajoutez votre premier paragraphe de pr\xE9sentation.",align:"left"}),vo(bo(e,"content"),"Zone de contenu","Groupe","Brouillon","Section principale \xE0 composer avec textes et visuels.",[{label:"Colonnes",value:"Auto"}],{layout:"grid",columnsMobile:"1",columnsDesktop:"2"})],Jo=e=>{a&&(a.textContent=(e==null?void 0:e.name)||(e==null?void 0:e.title)||"Page"),p&&(p.textContent=(e==null?void 0:e.slug)||"/")},Zn=e=>{if(!b)return;b.innerHTML="",(e&&e.badges&&e.badges.length>0?e.badges:["Structure en cours"]).forEach(s=>{let r=document.createElement("span");r.className="rounded-full bg-slate-100 px-3 py-1",r.textContent=s,b.appendChild(r)})},_n=e=>{switch((e||"").toLowerCase()){case"en ligne":return"bg-emerald-50 text-emerald-700";case"brouillon":return"bg-amber-50 text-amber-700";default:return"bg-slate-100 text-slate-600"}},Vs=e=>{if(!(!re||!$e)){if(!e){re.classList.remove("hidden"),$e.classList.add("hidden"),ye==null||ye.classList.add("hidden"),A==null||A.classList.add("hidden"),Ae==null||Ae.classList.add("hidden");return}re.classList.add("hidden"),$e.classList.remove("hidden"),Ae&&(e.status?(Ae.textContent=e.status,Ae.className=`rounded-full px-3 py-1 text-xs font-semibold ${_n(e.status)}`,Ae.classList.remove("hidden")):Ae.classList.add("hidden")),Ns(e)}},xs=e=>{if(!h)return;let t=h.contentDocument;if(!t)return;t.querySelectorAll("[data-preview-block]").forEach(r=>{r.dataset.previewBlock===e?(r.classList.add("preview-block-active"),Lo&&e&&r.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})):r.classList.remove("preview-block-active")}),W&&(W.style.borderColor=e?"rgba(156, 107, 255, 0.5)":"transparent")},Go=(e,t=!1,s=null)=>{var To;let r=e.id===Oe,l=(e.type||"").toLowerCase(),m=l==="groupe"||l==="group"||l==="sections"||l==="grid",y=document.createElement("div");y.dataset.blockItem="true",y.dataset.blockId=e.id,s&&(y.dataset.parentBlockId=s),m&&(y.dataset.isGroup="true"),y.setAttribute("role","option"),y.setAttribute("aria-selected",r?"true":"false"),y.setAttribute("draggable","true"),y.tabIndex=0,y.className=["relative flex items-center gap-3 rounded-2xl border px-3 py-2 text-left transition group",t?"ml-6 border-dashed":"",r?"bg-slate-100 border-[#9C6BFF]/40 shadow-sm":"border-slate-200 hover:border-[#9C6BFF]/40"].join(" ");let B=document.createElement("span");B.className=`absolute inset-y-2 left-0 w-1 rounded-full bg-[#9C6BFF] ${r?"":"hidden"}`,y.appendChild(B);let _=document.createElement("div");_.className="flex flex-1 items-center gap-3";let ie=document.createElement("div");ie.className="hidden lg:flex cursor-grab active:cursor-grabbing flex-shrink-0 items-center text-lg text-slate-400 hover:text-slate-600 transition-colors select-none",ie.innerHTML="\u22EE\u22EE",ie.setAttribute("title","Glisser pour r\xE9ordonner"),_.appendChild(ie);let we=document.createElement("div");we.className="flex-1";let _e=document.createElement("div");_e.className="flex items-center gap-2 text-[11px] uppercase tracking-wide text-slate-500";let vt=document.createElement("span");vt.className="rounded-full bg-slate-100 px-2 py-0.5 text-[10px] font-semibold text-slate-600",vt.textContent=e.type;let ke=document.createElement("span");if(ke.className="text-slate-400",ke.textContent=e.status,_e.appendChild(vt),m){let at=(e.children||[]).length,Zt=document.createElement("span");Zt.className="rounded-full bg-violet-100 px-2 py-0.5 text-[10px] font-semibold text-violet-600",Zt.textContent=`${at} \xE9l\xE9ment${at!==1?"s":""}`,_e.appendChild(Zt)}_e.appendChild(ke);let F=document.createElement("p");F.className="mt-1 text-sm font-semibold text-slate-900";let dt=e.settings&&e.settings.title||e.label||"Bloc sans titre";if(F.textContent=dt,we.appendChild(_e),we.appendChild(F),l==="collectiongrid"&&e.collectionId){let at=((To=At.find(Sr=>Sr.id===e.collectionId))==null?void 0:To.name)||e.collectionId,Zt=document.createElement("p");Zt.className="text-xs text-slate-400",Zt.textContent=`Collection : ${at}`,we.appendChild(Zt)}_.appendChild(we),y.appendChild(_);let Be=document.createElement("div");Be.className="flex flex-col gap-1 text-xs text-slate-400";let de=document.createElement("div");de.className="flex items-center gap-1 lg:hidden";let ot=document.createElement("button");ot.type="button",ot.className="rounded-lg border border-slate-200 px-2 py-1 text-[11px] font-semibold text-slate-500",ot.textContent="\u2191",ot.addEventListener("click",at=>{at.stopPropagation(),s?Wo(s,e.id,-1):Zo(e.id,-1)});let ut=document.createElement("button");ut.type="button",ut.className="rounded-lg border border-slate-200 px-2 py-1 text-[11px] font-semibold text-slate-500",ut.textContent="\u2193",ut.addEventListener("click",at=>{at.stopPropagation(),s?Wo(s,e.id,1):Zo(e.id,1)}),de.appendChild(ot),de.appendChild(ut),Be.appendChild(de);let De=document.createElement("button");return De.type="button",De.className="inline-flex items-center justify-center rounded-lg border border-transparent px-2 py-1 text-[12px] text-rose-500 hover:text-rose-700",De.innerHTML="\u{1F5D1}\uFE0F",De.addEventListener("click",at=>{at.stopPropagation(),s?Qn(s,e.id):ir(e.id)}),Be.appendChild(De),y.appendChild(Be),y.addEventListener("click",()=>{Ot(e.id,s)}),y.addEventListener("keydown",at=>{(at.key==="Enter"||at.key===" ")&&(at.preventDefault(),Ot(e.id,s))}),{item:y,isGroup:m,block:e}},Yn=e=>{let t=document.createElement("div");return t.dataset.groupDropZone=e.id,t.className="ml-6 border-2 border-dashed border-slate-200 rounded-xl p-3 text-center text-xs text-slate-400 hover:border-violet-300 hover:bg-violet-50/50 transition-colors cursor-pointer",t.innerHTML='<span class="pointer-events-none">\u{1F4E6} Glissez un bloc ici ou cliquez pour ajouter</span>',t.addEventListener("dragover",s=>{s.preventDefault(),s.stopPropagation(),t.classList.add("border-violet-400","bg-violet-50")}),t.addEventListener("dragleave",s=>{s.stopPropagation(),t.classList.remove("border-violet-400","bg-violet-50")}),t.addEventListener("drop",s=>{s.preventDefault(),s.stopPropagation(),t.classList.remove("border-violet-400","bg-violet-50");let r=s.dataTransfer.getData("text/plain");r&&r!==e.id&&Xn(r,e.id)}),t.addEventListener("click",()=>{er(e.id)}),t},yt=e=>{if(!S)return;S.innerHTML="";let t=(e==null?void 0:e.blocks)||[];if(ne&&(ne.textContent=Kn(t.length)),t.length===0){S.classList.add("hidden"),Z==null||Z.classList.remove("hidden");return}S.classList.remove("hidden"),Z==null||Z.classList.add("hidden"),t.forEach(s=>{let{item:r,isGroup:l}=Go(s,!1,null);if(S.appendChild(r),l){(s.children||[]).forEach(B=>{let{item:_}=Go(B,!0,s.id);S.appendChild(_)});let y=Yn(s);S.appendChild(y)}})},Xn=(e,t)=>{if(!u)return;let s=u.blocks.findIndex(B=>B.id===e),r=u.blocks.find(B=>B.id===t);if(s===-1||!r)return;let m=(u.blocks[s].type||"").toLowerCase();if(m==="groupe"||m==="group"){$("Impossible d'imbriquer des groupes","error");return}let[y]=u.blocks.splice(s,1);r.children||(r.children=[]),r.children.push(y),yt(u),savePageBlocks(),$("Bloc ajout\xE9 au groupe")},Qn=(e,t)=>{if(!u)return;let s=u.blocks.find(y=>y.id===e);if(!s||!s.children)return;let r=s.children.findIndex(y=>y.id===t);if(r===-1)return;let[l]=s.children.splice(r,1),m=u.blocks.findIndex(y=>y.id===e);u.blocks.splice(m+1,0,l),yt(u),savePageBlocks(),$("Bloc sorti du groupe")},Wo=(e,t,s)=>{if(!u)return;let r=u.blocks.find(B=>B.id===e);if(!r||!r.children)return;let l=r.children.findIndex(B=>B.id===t);if(l===-1)return;let m=l+s;if(m<0||m>=r.children.length)return;let[y]=r.children.splice(l,1);r.children.splice(m,0,y),yt(u),savePageBlocks()},er=e=>{ws=e,openBlockPicker()},ws=null,tr=e=>{!st||!e||(Ut=e,bs&&(bs.textContent=e.title||e.id),st.classList.remove("hidden"),st.classList.add("flex"),cs(st,Js))},Js=()=>{st&&(st.classList.add("hidden"),st.classList.remove("flex"),Ut=null,ds(st))},sr=async()=>{if(!ht||!Ut)return;let e=Ut.id,t=Ut.title||e;gt&&(gt.disabled=!0,gt.textContent="Suppression...");try{let s=await fetch(`${ht}/${encodeURIComponent(e)}`,{method:"DELETE",credentials:"include"}),r=await s.json();if(!s.ok)throw new Error(r.message||"Erreur serveur");se=se.filter(l=>l.id!==e),Me===e?se.length>0?wt(se[0].id):(Me=null,u=null,Rt(se,null),yt(null),re==null||re.classList.remove("hidden"),$e==null||$e.classList.add("hidden"),h&&(h.srcdoc=Ht())):Rt(se,Me),Js(),$(`Page "${t}" supprim\xE9e`)}catch(s){console.error("[pages] delete failed",s),$(s.message||"Erreur suppression")}finally{gt&&(gt.disabled=!1,gt.textContent="Supprimer")}},Rt=(e,t)=>{o.forEach(s=>{s.innerHTML="",e.forEach(r=>{var we;let l=document.createElement("li");l.className="flex items-center gap-1";let m=document.createElement("button");m.type="button",m.dataset.pageId=r.id,m.className=["flex-1 flex items-center gap-3 px-3 py-2 text-left transition",t===r.id?"bg-[#9C6BFF]/10 text-slate-900 border border-[#9C6BFF]/40 rounded-xl shadow-sm":"text-slate-700 hover:bg-slate-50 rounded-xl"].join(" "),t===r.id?m.setAttribute("aria-current","page"):m.removeAttribute("aria-current");let y=r.name||r.title,_=((we=r.accessibility)==null?void 0:we.showInMainNav)===!1?'<span class="text-[10px] font-semibold text-amber-600">Masqu\xE9 du menu</span>':"";m.innerHTML=`
            <span class="flex h-9 w-9 items-center justify-center rounded-xl border border-slate-200 bg-white text-slate-500">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                <path d="M6.5 4.5h7l4 4v11a1 1 0 0 1-1 1h-10a1 1 0 0 1-1-1v-14a1 1 0 0 1 1-1Z" stroke="currentColor" stroke-width="1.4" stroke-linejoin="round"/>
                <path d="M13.5 4.5v4a1 1 0 0 0 1 1h3" stroke="currentColor" stroke-width="1.4"/>
              </svg>
            </span>
            <div class="flex flex-col">
              <span class="text-sm font-semibold">${y}</span>
              <span class="text-xs text-slate-500">${r.slug}</span>
              ${_}
            </div>
          `,m.addEventListener("click",()=>{wt(r.id),xo()||wo()}),l.appendChild(m);let ie=document.createElement("button");ie.type="button",ie.className="flex-shrink-0 p-2 text-slate-400 hover:text-rose-600 hover:bg-rose-50 rounded-lg transition",ie.title="Supprimer cette page",ie.setAttribute("aria-label",`Supprimer ${y}`),ie.innerHTML=`
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M3 6h18M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2m3 0v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6h14ZM10 11v6M14 11v6"/>
            </svg>
          `,ie.addEventListener("click",_e=>{_e.stopPropagation(),tr(r)}),l.appendChild(ie),s.appendChild(l)})})},ns=()=>{if(!u||!Array.isArray(u.blocks))return null;let e=u.blocks.find(t=>t.id===Oe);if(!e){for(let t of u.blocks)if(t.children&&(e=t.children.find(s=>s.id===Oe),e))break}return e||null},Ko=null,Ot=(e,t=null)=>{if(!u)return;if(!e){Oe=null,Ko=null,yt(u),Vs(null),xs(null);return}let s=null;if(s=u.blocks.find(r=>r.id===e),!s&&t){let r=u.blocks.find(l=>l.id===t);r&&r.children&&(s=r.children.find(l=>l.id===e))}if(!s){for(let r of u.blocks)if(r.children){let l=r.children.find(m=>m.id===e);if(l){s=l,t=r.id;break}}}s||(s=u.blocks[0]||null,t=null),Oe=(s==null?void 0:s.id)||null,Ko=t,yt(u),Vs(s),xs(Oe)},rs=e=>{if(!u)return;let t={...u,blocks:e};lr(t)},Gs=()=>window.matchMedia("(min-width: 1024px)").matches;function Zo(e,t){if(!u||!e||!t)return;let s=[...u.blocks||[]],r=s.findIndex(y=>y.id===e);if(r<0)return;let l=r+t;if(l<0||l>=s.length)return;let[m]=s.splice(r,1);s.splice(l,0,m),rs(s),wt(u.id,{preserveBlock:!0}),Ot(m.id)}function qr(e,t){if(!u||!e||!t||e===t)return;let s=[...u.blocks||[]],r=s.findIndex(y=>y.id===e),l=s.findIndex(y=>y.id===t);if(r<0||l<0)return;let[m]=s.splice(r,1);s.splice(l,0,m),rs(s),wt(u.id,{preserveBlock:!0}),Ot(m.id)}function or(e,t,s){if(!u||!e||!t||e===t)return;let r=[...u.blocks||[]],l=r.findIndex(_=>_.id===e),m=r.findIndex(_=>_.id===t);if(l<0||m<0)return;let[y]=r.splice(l,1);l<m&&m--;let B=s==="before"?m:m+1;r.splice(B,0,y),rs(r),wt(u.id,{preserveBlock:!0}),Ot(y.id)}function _o(){if(!S)return;let e=Gs();S.querySelectorAll("[data-block-item]").forEach(t=>{t.setAttribute("draggable",e?"true":"false")})}function Ss(){he&&(he.classList.add("hidden"),Ls=!1)}function nr(){he&&(he.classList.remove("hidden"),Ls=!0)}function rr(){Ls?Ss():nr()}function ar(e){var m;if(!u||!e)return;let t=Jn[e];if(!t)return;let s=(u.blocks||[]).filter(y=>y.type===t.type).length+1,r=vo(bo(u.id,e),`${t.label} ${s}`,t.type,t.status,t.description,t.props,t.settings||{});if((t.type||"").toLowerCase()==="collectiongrid"){let y=((m=At[0])==null?void 0:m.id)||"";r.collectionId=y,r.settings.collectionId=y,r.settings.limit=r.settings.limit||6}if(ws){let y=u.blocks.find(B=>B.id===ws);if(y){y.children||(y.children=[]),y.children.push(r),ws=null,yt(u),savePageBlocks(),Ot(r.id,y.id),Ss(),$("Bloc ajout\xE9 au groupe");return}ws=null}let l=[...u.blocks||[],r];rs(l),wt(u.id,{preserveBlock:!0}),Ot(r.id),Ss(),$("Bloc ajout\xE9")}function Yo(e){var r,l;if(!u)return;let t=(u.blocks||[]).filter(m=>m.id!==e),s=e===Oe?((r=t[0])==null?void 0:r.id)||null:Oe||((l=t[0])==null?void 0:l.id)||null;rs(t),Oe=s,wt(u.id,{preserveBlock:!0}),Oe?Ot(Oe):(Vs(null),xs(null)),$("Bloc supprim\xE9")}function Ws(){le&&(le.classList.add("hidden"),le.classList.remove("flex"),Zs=null,ds(le))}function ir(e){if(!le){Yo(e);return}Zs=e,le.classList.remove("hidden"),le.classList.add("flex"),cs(le,Ws)}let lr=e=>{if(!e)return;let t=Kt(e);se=se.map(s=>s.id===t.id?t:s),u=t,Et(t)},wt=(e,t={})=>{var l,m;let s=se.find(y=>y.id===e)||se[0]||null;u=s?Kt(s):null,Me=(s==null?void 0:s.id)||null,(!t.preserveBlock||!u||!u.blocks.some(y=>y.id===Oe))&&(Oe=((m=(l=u==null?void 0:u.blocks)==null?void 0:l[0])==null?void 0:m.id)||null),Me&&Gn(Me),Rt(se,Me),Jo(u),Ao(),Zn(u),Pt(u),yt(u),Vs(ns()),xs(Oe),_o(),Ls&&Ss()},xo=()=>window.matchMedia("(min-width: 1024px)").matches,Xo=()=>{Mt&&(xo()?(Mt.classList.add("is-open"),tt==null||tt.classList.add("hidden"),document.body.classList.remove("overflow-hidden")):Mt.classList.remove("is-open"))},cr=()=>{!Mt||xo()||(Mt.classList.add("is-open"),tt==null||tt.classList.remove("hidden"),document.body.classList.add("overflow-hidden"))},wo=()=>{Mt&&(Mt.classList.remove("is-open"),tt==null||tt.classList.add("hidden"),document.body.classList.remove("overflow-hidden"))},dr=()=>{!c||!n||(c.classList.remove("hidden"),n.classList.add("hidden"),G&&(G.textContent=""),Ks=!1,w&&(w.value="",w.focus()),j&&(j.value=""),O&&(O.value=""))},Qo=()=>{!c||!n||(c.classList.add("hidden"),n.classList.remove("hidden"),G&&(G.textContent=""),Ks=!1,c.reset())},ur=()=>{!w||!O||Ks&&O.value.trim().length>0||(O.value=Vo(w.value))},se=[],Me=null,Ks=!1,u=null,Oe=null,Ls=!1,Zs=null,So="",Lo=!1,ks=null,At=[],mr=e=>{let t={...e,props:Array.isArray(e.props)?e.props:[],settings:{...e.settings||{}}};return(t.type||"").toLowerCase()==="collectiongrid"&&(t.collectionId=t.collectionId||t.settings.collectionId||"",t.settings.collectionId=t.collectionId,t.settings.limit=t.settings.limit||6),t},Kt=e=>{var t,s,r,l,m;return{...e,blocks:(e.blocks||[]).map(y=>mr(y)),seo:{title:(((t=e.seo)==null?void 0:t.title)||"").trim(),description:(((s=e.seo)==null?void 0:s.description)||"").trim(),indexed:typeof((r=e.seo)==null?void 0:r.indexed)=="boolean"?e.seo.indexed:null},accessibility:{showInMainNav:((l=e.accessibility)==null?void 0:l.showInMainNav)!==!1,mainLabel:(((m=e.accessibility)==null?void 0:m.mainLabel)||"").trim()}}},pr=async()=>{if(!Oo){At=[],_s();return}try{let e=await fetch(Oo,{headers:{Accept:"application/json"}});if(!e.ok)throw new Error("Impossible de charger les collections.");let t=await e.json().catch(()=>[]);At=Array.isArray(t)?t:[];let s=(ve==null?void 0:ve.value)||"";_s(s)}catch(e){console.error("[design] collections load",e),$("Collections indisponibles."),At=[],_s()}},ko=e=>{if(!lt)return;if(!e){lt.textContent=At.length?"S\xE9lectionnez une collection pour afficher ses informations.":"Aucune collection disponible. Ajoutez-en depuis l\u2019onglet Contenus.";return}let t=At.find(r=>r.id===e);if(!t){lt.textContent=`Collection ${e}`;return}let s=[];t.description&&s.push(t.description),t.type&&s.push(`Type\xA0: ${t.type}`),lt.textContent=s.join(" \xB7 ")||`Collection ${t.name||t.id}`},_s=(e="")=>{if(ve){if(ve.innerHTML="",!At.length){ve.disabled=!0;let t=document.createElement("option");t.value="",t.textContent="Aucune collection disponible",ve.appendChild(t),ko("");return}if(ve.disabled=!1,e&&!At.some(t=>t.id===e)){let t=document.createElement("option");t.value=e,t.textContent=e,ve.appendChild(t)}At.forEach(t=>{let s=document.createElement("option");s.value=t.id;let r=t.name||t.id;s.textContent=t.type?`${r} \xB7 ${t.type}`:r,s.dataset.description=t.description||"",ve.appendChild(s)}),e&&(ve.value=e),ko(ve.value||"")}};pr(),Xo(),Us.forEach(e=>{e.addEventListener("click",cr)}),Rs.forEach(e=>{e.addEventListener("click",wo)}),tt==null||tt.addEventListener("click",wo),window.addEventListener("resize",()=>{Xo(),_o()}),n==null||n.addEventListener("click",dr),ae==null||ae.addEventListener("click",Qo),w==null||w.addEventListener("input",ur),O==null||O.addEventListener("input",()=>{G&&(G.textContent=""),Ks=!0}),c==null||c.addEventListener("submit",async e=>{if(e.preventDefault(),!ht){G&&(G.textContent="Aucun site s\xE9lectionn\xE9.");return}if(!w||!O)return;let t=w.value.trim(),s=(j==null?void 0:j.value.trim())||t,r=Vo(O.value.trim()||t);if(!t||!r){G&&(G.textContent="Nom et slug sont requis.");return}G&&(G.textContent=""),Q&&(Q.disabled=!0,Q.textContent="Cr\xE9ation...");try{let l=await Ps({name:t,title:s,slug:r});if(!l||!l.id)throw new Error("R\xE9ponse invalide.");se=[...se,Kt(l)],Qo(),$("Page cr\xE9\xE9e"),wt(l.id)}catch(l){console.error("[design] create page failed",l),G&&(G.textContent=l.message||"Impossible de cr\xE9er la page.")}finally{Q&&(Q.disabled=!1,Q.textContent="Cr\xE9er")}});let Eo=()=>{Ze&&(Ze.value=""),ct&&(ct.classList.add("hidden"),ct.textContent="")},en=()=>{if(!Ze)return null;let e=Ze.value.trim();if(!e)return ct&&ct.classList.add("hidden"),null;try{let t=JSON.parse(e);return ct&&ct.classList.add("hidden"),t}catch(t){return ct&&(ct.classList.remove("hidden"),ct.textContent=`\u274C JSON invalide : ${t.message}`),null}},fr=()=>{if(!Ze)return;let e=Ze.value.trim();if(e)try{let t=JSON.parse(e);Ze.value=JSON.stringify(t,null,2),en()}catch{}},Es=()=>{if(Ke)if(qt==="upload")Ke.disabled=ft.length===0;else if(qt==="paste"){let e=en();Ke.disabled=!e}else Ke.disabled=!0},gr=()=>{be&&(be.classList.remove("hidden"),be.classList.add("flex"),ft=[],qt="upload",qo(),Eo(),Ee&&Ee.classList.add("hidden"),Te&&(Te.innerHTML=""),Es(),ts.forEach(e=>{e.dataset.importTab==="upload"?(e.classList.add("bg-[#9C6BFF]","text-white"),e.classList.remove("border","border-slate-200","text-slate-700")):(e.classList.remove("bg-[#9C6BFF]","text-white"),e.classList.add("border","border-slate-200","text-slate-700"))}),ys.forEach(e=>{e.dataset.importPanel==="upload"?e.classList.remove("hidden"):e.classList.add("hidden")}),cs(be,Co))},Co=()=>{be&&(be.classList.add("hidden"),be.classList.remove("flex"),ft=[],Eo(),ds(be))},qo=()=>{if(!(!Re||!xt)){if(ft.length===0){Re.classList.add("hidden"),Es();return}Re.classList.remove("hidden"),xt.innerHTML=ft.map(e=>`<li class="flex items-center gap-2"><span class="text-lg">\u{1F4C4}</span>${e.name}</li>`).join(""),Es()}},tn=e=>{let t=Array.from(e).filter(s=>s.type==="application/json"||s.name.endsWith(".json"));if(t.length===0){$("Aucun fichier JSON valide.");return}ft=t,qo()},hr=async()=>{var s,r,l,m,y,B,_,ie,we,_e,vt;if(!ht)return;let e=[];if(console.log("[import] activeImportTab:",qt),qt==="paste"){let ke=(s=Ze==null?void 0:Ze.value)==null?void 0:s.trim();if(console.log("[import] paste text length:",ke==null?void 0:ke.length),!ke){$("Aucun JSON \xE0 importer."),Ee&&Te&&(Ee.classList.remove("hidden"),Te.innerHTML='<p class="text-amber-600">\u26A0 Le champ de texte est vide.</p>');return}try{let F=JSON.parse(ke);console.log("[import] parsed JSON:",F),console.log("[import] parsed type:",typeof F,Array.isArray(F)?"array":"not array"),F&&!Array.isArray(F)&&F.pages?(console.log("[import] detected pages+collections format"),e=F):Array.isArray(F)?e.push(...F):e.push(F),console.log("[import] pagesData prepared:",e)}catch(F){let dt=F.message.match(/position (\d+)/),Be=F.message;if(dt){let de=parseInt(dt[1],10),ot=ke.substring(0,de).split(`
`),ut=ot.length,De=ot[ot.length-1].length+1;Be=`Ligne ${ut}, colonne ${De}: ${F.message}`}$(`Erreur JSON : ${Be}`,"error"),console.error("[import] paste parse error",F),Ee&&Te&&(Ee.classList.remove("hidden"),Te.innerHTML=`
              <div class="text-rose-600">
                <p class="font-medium">\u2717 Erreur de syntaxe JSON</p>
                <p class="text-xs mt-1">${Be}</p>
                <p class="text-xs mt-2 text-slate-500">V\xE9rifiez les virgules, guillemets et accolades.</p>
              </div>
            `);return}}else if(qt==="upload"){if(ft.length===0)return;let ke=[];for(let F of ft){let dt=await F.text();try{let Be=JSON.parse(dt);Array.isArray(Be)?e.push(...Be):e.push(Be)}catch(Be){let de=Be.message.match(/position (\d+)/),ot=Be.message;if(de){let ut=parseInt(de[1],10);ot=`Ligne ${dt.substring(0,ut).split(`
`).length}: ${Be.message}`}ke.push({file:F.name,error:ot}),console.error("[import] parse error",F.name,Be)}}if(ke.length>0){if(Ee&&Te){Ee.classList.remove("hidden");let F='<div class="text-rose-600"><p class="font-medium">\u2717 Erreurs de syntaxe JSON</p><ul class="ml-4 text-xs mt-1">';ke.forEach(dt=>{F+=`<li><strong>${dt.file}</strong>: ${dt.error}</li>`}),F+="</ul></div>",e.length>0&&(F+=`<p class="text-amber-600 mt-2 text-sm">\u26A0 ${e.length} page(s) valide(s) seront import\xE9e(s)</p>`),Te.innerHTML=F}if(e.length===0){$("Tous les fichiers contiennent des erreurs JSON","error");return}}}else return;let t=Array.isArray(e)?e.length>0:e&&(((r=e.pages)==null?void 0:r.length)>0||e.title);if(console.log("[import] hasData check:",t,"pagesData:",e),!t){$("Aucune page valide \xE0 importer."),Ee&&Te&&(Ee.classList.remove("hidden"),Te.innerHTML=`
            <div class="text-amber-600">
              <p class="font-medium">\u26A0 Aucune page d\xE9tect\xE9e</p>
              <p class="text-xs mt-1">Le JSON doit contenir :</p>
              <ul class="text-xs ml-4 mt-1 list-disc">
                <li>Un objet page avec "title" : <code>{"title": "Ma page", ...}</code></li>
                <li>Un tableau de pages : <code>[{"title": "Page 1"}, {"title": "Page 2"}]</code></li>
                <li>Ou un objet combin\xE9 : <code>{"pages": [...], "collections": {...}}</code></li>
              </ul>
            </div>
          `);return}Ke&&(Ke.disabled=!0,Ke.textContent="Import..."),console.log("[import] Sending to server:",JSON.stringify(e).substring(0,500));try{let ke=await fetch(`${ht}/import`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)});console.log("[import] Server response status:",ke.status);let F=await ke.json();if(console.log("[import] Server response body:",F),!ke.ok)throw Ee&&Te&&(Ee.classList.remove("hidden"),Te.innerHTML=`
              <div class="text-rose-600">
                <p class="font-medium">\u2717 Erreur serveur</p>
                <p class="text-xs mt-1">${F.message||"Erreur inconnue"}</p>
                ${F.details?`<p class="text-xs mt-1 text-slate-500">${F.details}</p>`:""}
              </div>
            `),new Error(F.message||"Erreur serveur");if(Ee&&Te){Ee.classList.remove("hidden");let de="",ot=((l=F.imported)==null?void 0:l.length)>0||((m=F.collectionsCreated)==null?void 0:m.length)>0,ut=((y=F.errors)==null?void 0:y.length)>0;ot&&!ut?de+='<div class="bg-green-50 border border-green-200 rounded-lg p-3 mb-2"><p class="text-green-800 font-medium">\u2713 Import r\xE9ussi</p></div>':ot&&ut?de+='<div class="bg-amber-50 border border-amber-200 rounded-lg p-3 mb-2"><p class="text-amber-800 font-medium">\u26A0 Import partiel</p></div>':ut&&(de+='<div class="bg-rose-50 border border-rose-200 rounded-lg p-3 mb-2"><p class="text-rose-800 font-medium">\u2717 Import \xE9chou\xE9</p></div>'),F.collectionsCreated&&F.collectionsCreated.length>0&&(de+=`<p class="text-violet-700 mt-2">\u2713 ${F.collectionsCreated.length} collection(s) cr\xE9\xE9e(s)</p>`,de+='<ul class="ml-4 text-xs text-slate-600">',F.collectionsCreated.forEach(De=>{de+=`<li>${De.name} (${De.itemsCount} item${De.itemsCount>1?"s":""})</li>`}),de+="</ul>"),F.imported&&F.imported.length>0&&(de+=`<p class="text-green-700 mt-2">\u2713 ${F.imported.length} page(s) import\xE9e(s)</p>`,de+='<ul class="ml-4 text-xs text-slate-600">',F.imported.forEach(De=>{de+=`<li><strong>${De.title}</strong> \u2192 ${De.slug} (${De.action==="updated"?"mise \xE0 jour":"cr\xE9\xE9e"})</li>`}),de+="</ul>"),F.errors&&F.errors.length>0&&(de+=`<p class="text-rose-600 mt-3 font-medium">\u2717 ${F.errors.length} erreur(s)</p>`,de+='<ul class="ml-4 text-xs text-rose-600 space-y-1 mt-1">',F.errors.forEach(De=>{de+=`<li class="bg-rose-50 p-2 rounded"><strong>${De.title}</strong><br/><span class="text-rose-500">${De.error}</span></li>`}),de+="</ul>"),Te.innerHTML=de}let dt=((B=F.imported)==null?void 0:B.length)>0||((_=F.collectionsCreated)==null?void 0:_.length)>0,Be=((ie=F.errors)==null?void 0:ie.length)>0;if(F.imported&&F.imported.length>0&&(se=await Ft(),Rt(se,Me),se.length>0&&!Me&&wt(se[0].id)),dt&&!Be){let de=(we=F.collectionsCreated)!=null&&we.length?` + ${F.collectionsCreated.length} collection(s)`:"";$(`\u2713 Import r\xE9ussi : ${((_e=F.imported)==null?void 0:_e.length)||0} page(s)${de}`,"success")}else dt&&Be?$(`\u26A0 Import partiel : ${((vt=F.imported)==null?void 0:vt.length)||0} page(s), ${F.errors.length} erreur(s)`,"warning"):Be&&$(`\u2717 Import \xE9chou\xE9 : ${F.errors.length} erreur(s)`,"error");ft=[],qo(),Eo()}catch(ke){console.error("[import] failed",ke),$(ke.message||"Erreur import","error")}finally{Ke&&(Ke.disabled=!1,Ke.textContent="Importer")}};je==null||je.addEventListener("click",gr),We.forEach(e=>e.addEventListener("click",Co)),be==null||be.addEventListener("click",e=>{e.target===be&&Co()}),Ue==null||Ue.addEventListener("change",e=>{tn(e.target.files)}),xe==null||xe.addEventListener("dragover",e=>{e.preventDefault(),xe.classList.add("border-[#9C6BFF]","bg-[#9C6BFF]/10")}),xe==null||xe.addEventListener("dragleave",e=>{e.preventDefault(),xe.classList.remove("border-[#9C6BFF]","bg-[#9C6BFF]/10")}),xe==null||xe.addEventListener("drop",e=>{e.preventDefault(),xe.classList.remove("border-[#9C6BFF]","bg-[#9C6BFF]/10"),tn(e.dataTransfer.files)}),Ke==null||Ke.addEventListener("click",hr),Ze==null||Ze.addEventListener("input",()=>{Es()}),Wt==null||Wt.addEventListener("click",fr),ts.forEach(e=>{e.addEventListener("click",()=>{let t=e.dataset.importTab;qt=t,ts.forEach(s=>{s.dataset.importTab===t?(s.classList.add("bg-[#9C6BFF]","text-white"),s.classList.remove("border","border-slate-200","text-slate-700")):(s.classList.remove("bg-[#9C6BFF]","text-white"),s.classList.add("border","border-slate-200","text-slate-700"))}),ys.forEach(s=>{s.dataset.importPanel===t?s.classList.remove("hidden"):s.classList.add("hidden")}),Es()})}),ss==null||ss.addEventListener("click",async()=>{if(!vs)return;let e=vs.textContent||"";try{await navigator.clipboard.writeText(e),$("Template copi\xE9 !")}catch(t){console.error("[import] copy failed",t),$("Erreur copie")}}),os==null||os.addEventListener("click",Js),gt==null||gt.addEventListener("click",sr),st==null||st.addEventListener("click",e=>{e.target===st&&Js()}),pe==null||pe.addEventListener("click",e=>{e.stopPropagation(),rr()}),document.addEventListener("click",e=>{Ls&&(he!=null&&he.contains(e.target)||pe!=null&&pe.contains(e.target)||Ss())}),Qe.forEach(e=>{e.addEventListener("click",t=>{t.stopPropagation();let s=e.dataset.blockAdd;ar(s)})}),fe==null||fe.addEventListener("click",()=>{Ws()}),et==null||et.addEventListener("click",()=>{Zs&&Yo(Zs),Ws()}),le==null||le.addEventListener("click",e=>{e.target===le&&Ws()}),A==null||A.addEventListener("input",e=>{var r,l,m,y;let t=e.target;if(!t||!t.name)return;if(t.name==="group-columns-mobile"||t.name==="group-columns-desktop"){let B=((r=A.querySelector('[name="group-columns-mobile"]'))==null?void 0:r.value)||"1",_=((l=A.querySelector('[name="group-columns-desktop"]'))==null?void 0:l.value)||"3";Gt(B,_)}if(t.name==="collection-columns-mobile"||t.name==="collection-columns-desktop"){let B=((m=A.querySelector('[name="collection-columns-mobile"]'))==null?void 0:m.value)||"1",_=((y=A.querySelector('[name="collection-columns-desktop"]'))==null?void 0:y.value)||"3";Qt(B,_)}let s=t.closest("[data-block-panel]");if(s&&s.dataset.blockPanel==="appearance"){let B=ns(),_=Ge(B);if(B&&_){let ie=Dt(_);Hs(B.id,ie)}}}),A==null||A.addEventListener("change",e=>{var r,l;let t=e.target;if(!t||!t.name)return;if(t.hasAttribute("data-color-select")){let m=t.options[t.selectedIndex],y=((r=m==null?void 0:m.dataset)==null?void 0:r.color)||"#ffffff",B=(l=t.closest(".relative"))==null?void 0:l.querySelector("[data-color-preview]");B&&(y==="transparent"?B.style.background="repeating-conic-gradient(#ccc 0% 25%, white 0% 50%) 50% / 8px 8px":(B.style.backgroundColor=y,B.style.background=""))}let s=t.closest("[data-block-panel]");if(s&&s.dataset.blockPanel==="appearance"){let m=ns(),y=Ge(m);if(m&&y){let B=Dt(y);Hs(m.id,B)}}}),ve==null||ve.addEventListener("change",e=>{let t=e.target;ko((t==null?void 0:t.value)||"")}),A==null||A.addEventListener("submit",es),Pe==null||Pe.addEventListener("click",e=>{e.preventDefault();let t=ns();t&&Ns(t)}),h==null||h.addEventListener("load",()=>{Lo=!0,Ct("\xC0 jour"),xs(Oe)}),x==null||x.addEventListener("click",()=>{let e=window.open("","_blank");if(!e)return;e.opener=null;let t=e.document;t.open(),t.write(So||Ht()),t.close()});let sn=e=>{var t,s,r;oe&&(e?(oe.classList.remove("hidden"),u&&(E&&(E.value=((t=u.seo)==null?void 0:t.title)||""),C&&(C.value=((s=u.seo)==null?void 0:s.description)||""),L&&(L.checked=((r=u.seo)==null?void 0:r.indexed)!==!1))):oe.classList.add("hidden"))},Ys=(e,t="muted")=>{if(!P)return;let s=t==="success"?"text-emerald-600":t==="error"?"text-rose-600":"text-slate-500";P.textContent=e||"",P.className=`text-sm ${s}`};U==null||U.addEventListener("click",()=>{let e=oe&&!oe.classList.contains("hidden");sn(!e)}),te==null||te.addEventListener("click",()=>sn(!1)),f==null||f.addEventListener("submit",async e=>{var t;if(e.preventDefault(),!u){Ys("Aucune page active.","error");return}M&&(M.disabled=!0),Ys("");try{let s={title:((E==null?void 0:E.value)||"").trim(),description:((C==null?void 0:C.value)||"").trim(),indexed:(t=L==null?void 0:L.checked)!=null?t:!0},r={...u,seo:s},l=await Et(r);l&&(u=l,Ys("SEO enregistr\xE9.","success"),$("SEO mis \xE0 jour"),Pt(u))}catch(s){console.error("[seo] save failed",s),Ys(s.message||"Erreur lors de la sauvegarde.","error")}finally{M&&(M.disabled=!1)}});let Ao=()=>{var e,t;if(!(!k&&!T)){if(!u){k&&(k.checked=!0),T&&(T.value="");return}k&&(k.checked=((e=u.accessibility)==null?void 0:e.showInMainNav)!==!1),T&&(T.value=((t=u.accessibility)==null?void 0:t.mainLabel)||"")}},on=e=>{H&&(e?(Ao(),H.classList.remove("hidden")):H.classList.add("hidden"))},Xs=(e,t="muted")=>{if(!ee)return;let s=t==="success"?"text-emerald-600":t==="error"?"text-rose-600":"text-slate-500";ee.textContent=e||"",ee.className=`text-sm ${s}`};N==null||N.addEventListener("click",()=>{let e=H&&!H.classList.contains("hidden");on(!e)}),d==null||d.addEventListener("click",()=>on(!1)),q==null||q.addEventListener("submit",async e=>{var t;if(e.preventDefault(),!u){Xs("Aucune page active.","error");return}K&&(K.disabled=!0),Xs("");try{let s={showInMainNav:(t=k==null?void 0:k.checked)!=null?t:!0,mainLabel:((T==null?void 0:T.value)||"").trim()},r={...u,accessibility:s},l=await Et(r);l&&(u=l,Ao(),Xs("Accessibilit\xE9 enregistr\xE9e.","success"),$("Accessibilit\xE9 mise \xE0 jour"),Rt(se,Me),Pt(u))}catch(s){console.error("[accessibility] save failed",s),Xs(s.message||"Erreur lors de la sauvegarde.","error")}finally{K&&(K.disabled=!1)}});let nn=e=>{ge&&(e?(ge.classList.remove("hidden"),u&&(me&&(me.value=u.name||""),Le&&(Le.value=u.title||""),qe&&(qe.value=u.slug||""),D&&(D.value=u.description||""))):ge.classList.add("hidden"))},as=(e,t="muted")=>{if(!v)return;let s=t==="success"?"text-emerald-600":t==="error"?"text-rose-600":"text-slate-500";v.textContent=e||"",v.className=`text-sm ${s}`};X==null||X.addEventListener("click",()=>{let e=ge&&!ge.classList.contains("hidden");nn(!e)}),ue==null||ue.addEventListener("click",()=>nn(!1)),Ie==null||Ie.addEventListener("submit",async e=>{if(e.preventDefault(),!u){as("Aucune page active.","error");return}g&&(g.disabled=!0),as("");try{let t=((me==null?void 0:me.value)||"").trim(),s=((Le==null?void 0:Le.value)||"").trim(),r=((qe==null?void 0:qe.value)||"").trim(),l=((D==null?void 0:D.value)||"").trim();if(!s){as("Le titre est requis.","error"),g&&(g.disabled=!1);return}if(!r||!r.startsWith("/")){as("Le slug doit commencer par /.","error"),g&&(g.disabled=!1);return}let m={...u,name:t||s,title:s,slug:r,description:l},y=await Et(m);y&&(u=y,se=se.map(B=>B.id===y.id?y:B),as("Propri\xE9t\xE9s enregistr\xE9es.","success"),$("Page mise \xE0 jour"),Jo(u),Rt(se,Me),Pt(u))}catch(t){console.error("[page-props] save failed",t),as(t.message||"Erreur lors de la sauvegarde.","error")}finally{g&&(g.disabled=!1)}});let yr=e=>{let t=e.target.closest("[data-block-item]");if(!t||!Gs()){e.preventDefault();return}if(Tt=t.dataset.blockId||null,!Tt){e.preventDefault();return}e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/plain",Tt),requestAnimationFrame(()=>{t.classList.add("opacity-50","scale-[0.98]","shadow-lg","ring-2","ring-[#9C6BFF]")})},rn=()=>{S==null||S.querySelectorAll("[data-block-item]").forEach(e=>{e.classList.remove("opacity-50","scale-[0.98]","shadow-lg","ring-2","ring-[#9C6BFF]","border-t-4","border-b-4","border-t-[#9C6BFF]","border-b-[#9C6BFF]","pt-6","pb-6")})},vr=()=>{Tt=null,rn()},br=e=>{if(!Tt||!Gs())return;let t=e.target.closest("[data-block-item]");if(!t||t.dataset.blockId===Tt)return;e.preventDefault(),e.dataTransfer.dropEffect="move";let s=t.getBoundingClientRect(),r=s.top+s.height/2,l=e.clientY<r;S==null||S.querySelectorAll("[data-block-item]").forEach(m=>{m!==t&&m.dataset.blockId!==Tt&&m.classList.remove("border-t-4","border-b-4","border-t-[#9C6BFF]","border-b-[#9C6BFF]","pt-6","pb-6")}),t.classList.remove("border-t-4","border-b-4","border-t-[#9C6BFF]","border-b-[#9C6BFF]","pt-6","pb-6"),l?t.classList.add("border-t-4","border-t-[#9C6BFF]","pt-6"):t.classList.add("border-b-4","border-b-[#9C6BFF]","pb-6"),t.dataset.dropPosition=l?"before":"after"},xr=e=>{let t=e.target.closest("[data-block-item]");if(!t)return;let s=e.relatedTarget;s&&t.contains(s)||(t.classList.remove("border-t-4","border-b-4","border-t-[#9C6BFF]","border-b-[#9C6BFF]","pt-6","pb-6"),delete t.dataset.dropPosition)},wr=e=>{if(!Tt||!Gs())return;e.preventDefault();let t=e.target.closest("[data-block-item]"),s=Tt,r=(t==null?void 0:t.dataset.dropPosition)||"after";Tt=null,rn();let l=(t==null?void 0:t.dataset.blockId)||null;!l||s===l||or(s,l,r)},Tt=null;S==null||S.addEventListener("dragstart",yr),S==null||S.addEventListener("dragend",vr),S==null||S.addEventListener("dragover",br),S==null||S.addEventListener("dragleave",xr),S==null||S.addEventListener("drop",wr),hs(),document.addEventListener("ai-page-updated",async e=>{var t;console.log("[design] Rafra\xEEchissement d\xE9clench\xE9 par IA",e.detail);try{let s=await Ft();if(se=(Array.isArray(s)?s:[]).map(r=>Kt(r)),(t=e.detail)!=null&&t.pageId){let r=se.find(l=>l.id===e.detail.pageId);r&&(u=r,Me=r.id,Pt(u),yt(u),$("Page mise \xE0 jour par l'IA"))}else if(Me){let r=se.find(l=>l.id===Me);r&&(u=r,Pt(u),yt(u))}}catch(s){console.error("[design] Erreur rafra\xEEchissement IA:",s)}})}function Cn(){var tt,Us,Rs;let o=document.querySelector("[data-collection-list]");if(!o)return;let a={empty:document.querySelector('[data-content-view="empty"]'),header:document.querySelector('[data-content-view="header"]'),collection:document.querySelector('[data-content-view="collection"]'),footer:document.querySelector('[data-content-view="footer"]')},p=document.querySelectorAll("[data-content-section]"),b=document.querySelectorAll("[data-content-section-trigger]"),h=document.querySelector("[data-content-drawer]"),x=document.querySelector("[data-content-drawer-backdrop]"),R=document.querySelectorAll("[data-content-drawer-open]"),W=document.querySelectorAll("[data-content-drawer-close]"),U=document.querySelector("[data-header-status]"),oe=document.querySelector("[data-footer-status]"),te=document.querySelector("[data-collection-count]"),f={logo:document.querySelector('[name="header-logo"]'),logoAlt:document.querySelector('[name="header-logo-alt"]'),logoUrl:document.querySelector('[name="header-logo-url"]'),ctaText:document.querySelector('[name="header-cta-text"]'),ctaUrl:document.querySelector('[name="header-cta-url"]'),ctaStyle:document.querySelector('[name="header-cta-style"]'),position:document.querySelector('[name="header-position"]'),bg:document.querySelector('[name="header-bg"]')},E=document.querySelector("[data-header-nav-list]"),C=document.querySelector("[data-header-nav-add]"),L=document.querySelector("[data-header-save]"),P=document.querySelector("[data-template-header-nav-item]"),M=document.querySelector("[data-header-pages-list]"),N=[],H=[],d={linkedin:document.querySelector('[name="footer-social-linkedin"]'),twitter:document.querySelector('[name="footer-social-twitter"]'),instagram:document.querySelector('[name="footer-social-instagram"]'),facebook:document.querySelector('[name="footer-social-facebook"]'),youtube:document.querySelector('[name="footer-social-youtube"]'),github:document.querySelector('[name="footer-social-github"]'),copyright:document.querySelector('[name="footer-copyright"]'),legalUrl:document.querySelector('[name="footer-legal-url"]'),privacyUrl:document.querySelector('[name="footer-privacy-url"]'),bg:document.querySelector('[name="footer-bg"]'),columnsCount:document.querySelector('[name="footer-columns-count"]')},q=document.querySelector("[data-footer-columns-list]"),k=document.querySelector("[data-footer-column-add]"),T=document.querySelector("[data-footer-save]"),ee=document.querySelector("[data-template-footer-column]"),K=document.querySelector("[data-template-footer-link]"),X=null,ge={nav:[],logo:{},cta:{},style:{}},ue={columns:[],socials:{},copyright:"",legal:{},style:{}},Ie=Ce((z==null?void 0:z.slugValue)||Y.slug||""),me=Ie,Le=Ie?`/api/sites/${encodeURIComponent(Ie)}/layout`:null,qe=n=>{Object.entries(a).forEach(([c,w])=>{w&&w.classList.toggle("hidden",c!==n)}),p.forEach(c=>{c.dataset.contentSection===n?c.dataset.active="true":delete c.dataset.active}),X=n},D=()=>{h==null||h.classList.add("is-open"),h&&(h.style.transform="translateX(0)"),x==null||x.classList.remove("hidden"),document.body.classList.add("overflow-hidden")},v=()=>{h==null||h.classList.remove("is-open"),h&&(h.style.transform=""),x==null||x.classList.add("hidden"),document.body.classList.remove("overflow-hidden")};R.forEach(n=>n.addEventListener("click",D)),W.forEach(n=>n.addEventListener("click",v)),x==null||x.addEventListener("click",v),p.forEach(n=>{n.addEventListener("click",()=>{let c=n.dataset.contentSection;(c==="header"||c==="footer")&&qe(c),v()})}),b.forEach(n=>{n.addEventListener("click",()=>{let c=n.dataset.contentSectionTrigger;c&&qe(c)})});let g=async()=>{if(!(!me||!M))try{let n=await fetch(`/api/sites/${me}/pages`,{credentials:"include"});if(!n.ok)throw new Error("Erreur chargement pages");N=await n.json(),S()}catch(n){console.error("[header] load pages error",n),M.innerHTML='<p class="text-xs text-red-500">Erreur chargement pages</p>'}},S=()=>{if(M){if(M.innerHTML="",N.length===0){M.innerHTML='<p class="text-xs text-slate-400 italic">Aucune page disponible</p>';return}N.forEach(n=>{let c=n.slug||n.id,w=n.name||n.title||c,j=c==="index"?"/":`/${c}`,O=H.some(Q=>Q.url===j),ae=document.createElement("label");ae.className="flex items-center gap-2 px-3 py-2 rounded-lg border border-slate-200 hover:bg-slate-50 cursor-pointer transition-colors",ae.innerHTML=`
          <input type="checkbox" name="nav-page" value="${j}" data-page-title="${w}"
                 class="w-4 h-4 rounded border-slate-300 text-violet-600 focus:ring-violet-500"
                 ${O?"checked":""}>
          <span class="flex-1 text-sm text-slate-700">${w}</span>
          <span class="text-xs text-slate-400">${j}</span>
        `;let G=ae.querySelector("input");G.addEventListener("change",()=>{G.checked?H.some(Q=>Q.url===j)||H.push({label:w,url:j}):H=H.filter(Q=>Q.url!==j)}),M.appendChild(ae)})}},Z=()=>{var c,w,j,O,ae,G,Q,je,be,We,xe,Ue,Re;let n=[];return M==null||M.querySelectorAll('input[name="nav-page"]:checked').forEach(xt=>{let Ee=xt.value,Te=xt.dataset.pageTitle||Ee;n.push({label:Te,url:Ee})}),{logo:{src:((w=(c=f.logo)==null?void 0:c.value)==null?void 0:w.trim())||"",alt:((O=(j=f.logoAlt)==null?void 0:j.value)==null?void 0:O.trim())||"",url:((G=(ae=f.logoUrl)==null?void 0:ae.value)==null?void 0:G.trim())||"/"},nav:n,cta:{text:((je=(Q=f.ctaText)==null?void 0:Q.value)==null?void 0:je.trim())||"",url:((We=(be=f.ctaUrl)==null?void 0:be.value)==null?void 0:We.trim())||"",style:((xe=f.ctaStyle)==null?void 0:xe.value)||"primary"},style:{position:((Ue=f.position)==null?void 0:Ue.value)||"static",bg:((Re=f.bg)==null?void 0:Re.value)||"bg-white"}}},ne=async n=>{var w,j,O,ae,G,Q,je,be,We,xe,Ue;if(!n)return;f.logo&&(f.logo.value=((w=n.logo)==null?void 0:w.src)||""),f.logoAlt&&(f.logoAlt.value=((j=n.logo)==null?void 0:j.alt)||""),f.logoUrl&&(f.logoUrl.value=((O=n.logo)==null?void 0:O.url)||"/"),f.ctaText&&(f.ctaText.value=((ae=n.cta)==null?void 0:ae.text)||""),f.ctaUrl&&(f.ctaUrl.value=((G=n.cta)==null?void 0:G.url)||""),f.ctaStyle&&(f.ctaStyle.value=((Q=n.cta)==null?void 0:Q.style)||"primary"),f.position&&(f.position.value=((je=n.style)==null?void 0:je.position)||"static"),f.bg&&(f.bg.value=((be=n.style)==null?void 0:be.bg)||"bg-white"),H=n.nav||[],await g();let c=((We=n.logo)==null?void 0:We.src)||((xe=n.nav)==null?void 0:xe.length)>0||((Ue=n.cta)==null?void 0:Ue.text);U&&(U.classList.toggle("bg-green-500",!!c),U.classList.toggle("bg-slate-300",!c),U.title=c?"Configur\xE9":"Non configur\xE9")};L==null||L.addEventListener("click",async()=>{if(Le){L.disabled=!0,L.textContent="Enregistrement...";try{let n=Z();if(!(await fetch(`${Le}/header`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(n)})).ok)throw new Error("Erreur serveur");ge=n,ne(n),$("Header enregistr\xE9")}catch(n){console.error("[header] save error",n),$("Erreur lors de l'enregistrement","error")}finally{L.disabled=!1,L.textContent="Enregistrer"}}});let pe=(n,c="",w="")=>{if(!K||!n)return;let j=K.content.cloneNode(!0),O=j.querySelector("[data-footer-link]"),ae=j.querySelector('[name="link-label"]'),G=j.querySelector('[name="link-url"]'),Q=j.querySelector("[data-link-remove]");ae&&(ae.value=c),G&&(G.value=w),Q==null||Q.addEventListener("click",()=>O==null?void 0:O.remove()),n.appendChild(j)},he=(n="",c=[])=>{if(!ee||!q)return;let w=ee.content.cloneNode(!0),j=w.querySelector("[data-footer-column]"),O=w.querySelector('[name="column-title"]'),ae=w.querySelector("[data-column-links]"),G=w.querySelector("[data-column-link-add]"),Q=w.querySelector("[data-column-remove]");O&&(O.value=n),c.forEach(je=>pe(ae,je.label,je.url)),G==null||G.addEventListener("click",()=>pe(ae)),Q==null||Q.addEventListener("click",()=>j==null?void 0:j.remove()),q.appendChild(w)},Qe=()=>{var c,w,j,O,ae,G,Q,je,be,We,xe,Ue,Re,xt,Ee,Te,Ke,ts,ys,ss;let n=[];return q==null||q.querySelectorAll("[data-footer-column]").forEach(vs=>{var ct,ft;let Ze=((ft=(ct=vs.querySelector('[name="column-title"]'))==null?void 0:ct.value)==null?void 0:ft.trim())||"",Wt=[];vs.querySelectorAll("[data-footer-link]").forEach(qt=>{var os,gt,Ut,Os;let st=((gt=(os=qt.querySelector('[name="link-label"]'))==null?void 0:os.value)==null?void 0:gt.trim())||"",bs=((Os=(Ut=qt.querySelector('[name="link-url"]'))==null?void 0:Ut.value)==null?void 0:Os.trim())||"";(st||bs)&&Wt.push({label:st,url:bs})}),(Ze||Wt.length>0)&&n.push({title:Ze,links:Wt})}),{columns:n,socials:{linkedin:((w=(c=d.linkedin)==null?void 0:c.value)==null?void 0:w.trim())||"",twitter:((O=(j=d.twitter)==null?void 0:j.value)==null?void 0:O.trim())||"",instagram:((G=(ae=d.instagram)==null?void 0:ae.value)==null?void 0:G.trim())||"",facebook:((je=(Q=d.facebook)==null?void 0:Q.value)==null?void 0:je.trim())||"",youtube:((We=(be=d.youtube)==null?void 0:be.value)==null?void 0:We.trim())||"",github:((Ue=(xe=d.github)==null?void 0:xe.value)==null?void 0:Ue.trim())||""},copyright:((xt=(Re=d.copyright)==null?void 0:Re.value)==null?void 0:xt.trim())||"",legal:{url:((Te=(Ee=d.legalUrl)==null?void 0:Ee.value)==null?void 0:Te.trim())||"",privacyUrl:((ts=(Ke=d.privacyUrl)==null?void 0:Ke.value)==null?void 0:ts.trim())||""},style:{bg:((ys=d.bg)==null?void 0:ys.value)||"bg-slate-900 text-white",columnsCount:((ss=d.columnsCount)==null?void 0:ss.value)||"4"}}},le=n=>{var w,j,O,ae,G,Q,je,be,We,xe,Ue;if(!n)return;d.linkedin&&(d.linkedin.value=((w=n.socials)==null?void 0:w.linkedin)||""),d.twitter&&(d.twitter.value=((j=n.socials)==null?void 0:j.twitter)||""),d.instagram&&(d.instagram.value=((O=n.socials)==null?void 0:O.instagram)||""),d.facebook&&(d.facebook.value=((ae=n.socials)==null?void 0:ae.facebook)||""),d.youtube&&(d.youtube.value=((G=n.socials)==null?void 0:G.youtube)||""),d.github&&(d.github.value=((Q=n.socials)==null?void 0:Q.github)||""),d.copyright&&(d.copyright.value=n.copyright||""),d.legalUrl&&(d.legalUrl.value=((je=n.legal)==null?void 0:je.url)||""),d.privacyUrl&&(d.privacyUrl.value=((be=n.legal)==null?void 0:be.privacyUrl)||""),d.bg&&(d.bg.value=((We=n.style)==null?void 0:We.bg)||"bg-slate-900 text-white"),d.columnsCount&&(d.columnsCount.value=((xe=n.style)==null?void 0:xe.columnsCount)||"4"),q&&(q.innerHTML=""),(n.columns||[]).forEach(Re=>he(Re.title,Re.links));let c=((Ue=n.columns)==null?void 0:Ue.length)>0||n.copyright||Object.values(n.socials||{}).some(Re=>Re);oe&&(oe.classList.toggle("bg-green-500",!!c),oe.classList.toggle("bg-slate-300",!c),oe.title=c?"Configur\xE9":"Non configur\xE9")};k==null||k.addEventListener("click",()=>he()),T==null||T.addEventListener("click",async()=>{if(Le){T.disabled=!0,T.textContent="Enregistrement...";try{let n=Qe();if(!(await fetch(`${Le}/footer`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(n)})).ok)throw new Error("Erreur serveur");ue=n,le(n),$("Footer enregistr\xE9")}catch(n){console.error("[footer] save error",n),$("Erreur lors de l'enregistrement","error")}finally{T.disabled=!1,T.textContent="Enregistrer"}}}),(async()=>{if(Le)try{let n=await fetch(Le,{credentials:"include"});if(n.ok){let c=await n.json();c.header&&(ge=c.header,ne(c.header)),c.footer&&(ue=c.footer,le(c.footer))}}catch(n){console.error("[layout] load error",n)}})();let fe=document.querySelector("[data-collection-empty]"),re=document.querySelector("[data-collection-items-empty]"),Ae=document.querySelector("[data-item-table-wrapper]"),$e=document.querySelector("[data-item-table-body]"),$t=document.querySelector("[data-collection-title]"),jt=document.querySelector("[data-collection-description]"),ye=document.querySelector("[data-item-add]"),A=document.querySelector("[data-item-detail-empty]"),ce=document.querySelector("[data-item-form]"),i=ce?{title:ce.querySelector('[name="item-title"]'),slug:ce.querySelector('[name="item-slug"]'),excerpt:ce.querySelector('[name="item-excerpt"]'),content:ce.querySelector('[name="item-content"]'),image:ce.querySelector('[name="item-image"]'),ctaText:ce.querySelector('[name="item-cta-text"]'),ctaUrl:ce.querySelector('[name="item-cta-url"]'),status:ce.querySelector('[name="item-status"]')}:{},I=document.querySelector("[data-item-status-badge]"),V=document.querySelector("[data-item-delete]"),J=document.querySelector("[data-item-delete-modal]"),kt=document.querySelector("[data-item-delete-cancel]"),bt=document.querySelector("[data-item-delete-confirm]"),ps=document.querySelector("[data-item-cancel]"),Vt=document.querySelector("[data-item-save]"),Jt="rounded-full px-3 py-1 text-xs font-semibold",fs=Ce((z==null?void 0:z.slugValue)||Y.slug||""),ve=fs?`/api/sites/${encodeURIComponent(fs)}/collections`:null,lt=[],Pe=[],He=null,Ne=null,rt=!1,Nt=!1,Bt=null,gs=n=>{let c=(n||"").trim();if(!c)return"";if(c==="/")return"/";let j=c.replace(/^\//,"").split("/").map(O=>zt(O||"")).filter(O=>O.length>0);return j.length?`/${j.join("/")}`:""},po=n=>{if(!n)return"\u2014";let c=new Date(n);return Number.isNaN(c.getTime())?"\u2014":c.toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric"})},Gt=()=>{let n=lt.find(c=>c.id===He);$t&&($t.textContent=(n==null?void 0:n.name)||"S\xE9lectionnez une collection"),jt&&(jt.textContent=(n==null?void 0:n.description)||"")},Qt=n=>{re&&(re.textContent=n||(He?"Aucun item dans cette collection pour le moment.":"Choisissez une collection dans le panneau de gauche."))},Ft=()=>{ce&&(ce.classList.add("hidden"),ce.dataset.itemId=""),A==null||A.classList.remove("hidden"),I&&(I.className=`hidden ${Jt}`,I.textContent=""),V&&(V.disabled=!0)},Ps=()=>{ce&&(ce.classList.remove("hidden"),A==null||A.classList.add("hidden"))},Et=()=>{ye&&(ye.disabled=!He,ye.disabled?ye.classList.add("opacity-60","pointer-events-none"):ye.classList.remove("opacity-60","pointer-events-none"))},hs=n=>{if(!I)return;if(!n){I.className=`hidden ${Jt}`,I.textContent="";return}let c=n.toLowerCase(),w="bg-slate-100 text-slate-600 border border-slate-200";c==="publi\xE9"||c==="publie"?w="bg-emerald-50 text-emerald-700 border border-emerald-100":c==="brouillon"&&(w="bg-amber-50 text-amber-700 border border-amber-100"),I.className=`${Jt} ${w}`,I.textContent=n},Ms=()=>{if(o.innerHTML="",te&&(te.textContent=lt.length),!lt.length){fe==null||fe.classList.remove("hidden");return}fe==null||fe.classList.add("hidden"),lt.forEach(n=>{let c=n.id===He,w=document.createElement("button");w.type="button",w.dataset.collectionId=n.id,w.className=["w-full rounded-xl border px-3 py-2 text-left transition focus:outline-none focus:ring-2 focus:ring-[#9C6BFF]/40",c?"bg-[#F7F0FF] border-[#9C6BFF]/40 text-slate-900":"border-slate-200 text-slate-700 hover:border-[#9C6BFF]/40"].join(" "),w.setAttribute("role","option"),c?w.setAttribute("aria-current","true"):w.removeAttribute("aria-current"),w.innerHTML=`
          <div class="flex items-center justify-between gap-2">
            <div>
              <p class="text-sm font-semibold">${n.name||n.id}</p>
              <p class="text-xs text-slate-500">${n.description||""}</p>
            </div>
            <span class="text-[11px] uppercase tracking-wide text-slate-400">${n.type||""}</span>
          </div>
        `,w.addEventListener("click",()=>{Ds(n.id),window.matchMedia("(min-width: 1024px)").matches||v()}),o.appendChild(w)})},Ge=()=>{if($e){if($e.innerHTML="",!Pe.length||!He){re==null||re.classList.remove("hidden"),Qt(),Ae==null||Ae.classList.add("hidden");return}re==null||re.classList.add("hidden"),Ae==null||Ae.classList.remove("hidden"),Pe.forEach(n=>{let c=document.createElement("tr");c.dataset.itemId=n.id;let w=n.id===Ne&&!rt;c.className=["cursor-pointer transition focus-within:bg-[#F7F0FF]/70 focus:outline-none",w?"bg-[#F7F0FF]/70":"hover:bg-slate-50"].join(" "),c.tabIndex=0,c.setAttribute("role","button"),w?c.setAttribute("aria-current","true"):c.removeAttribute("aria-current");let j=n.status||"Brouillon",O=j.toLowerCase(),ae=O==="publi\xE9"||O==="publie"?"bg-emerald-50 text-emerald-700 border border-emerald-100":"bg-amber-50 text-amber-700 border border-amber-100";c.innerHTML=`
          <td class="px-4 py-3 align-top">
            <div class="flex flex-col">
              <span class="text-sm font-semibold text-slate-900">${n.title||"Sans titre"}</span>
              <span class="text-xs text-slate-500">${n.summary||n.excerpt||""}</span>
            </div>
          </td>
          <td class="px-4 py-3 align-top text-sm text-slate-600">${n.slug||""}</td>
          <td class="px-4 py-3 align-top">
            <span class="inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold ${ae}">
              ${j}
            </span>
          </td>
          <td class="px-4 py-3 align-top text-sm text-slate-500">${po(n.updatedAt||n.createdAt)}</td>
        `;let G=()=>{Ns(n.id)};c.addEventListener("click",G),c.addEventListener("keydown",Q=>{(Q.key==="Enter"||Q.key===" ")&&(Q.preventDefault(),G())}),$e.appendChild(c)})}},Ns=n=>{let c=Pe.find(w=>w.id===n);c&&(Ne=c.id,rt=!1,Nt=!0,Dt(c),Ge())},Dt=n=>{var c,w;if(!ce||!n){Ft();return}Ps(),ce.dataset.itemId=n.id,i.title&&(i.title.value=n.title||""),i.slug&&(i.slug.value=n.slug||""),i.excerpt&&(i.excerpt.value=n.summary||n.excerpt||""),i.content&&(i.content.value=n.content||""),i.image&&(i.image.value=n.image||""),i.ctaText&&(i.ctaText.value=((c=n.cta)==null?void 0:c.text)||n.ctaText||""),i.ctaUrl&&(i.ctaUrl.value=((w=n.cta)==null?void 0:w.url)||n.ctaUrl||""),i.status&&(i.status.value=n.status||"Brouillon"),hs(n.status||"Brouillon"),V&&(V.disabled=!1)},Ct=()=>{var n;ce&&(rt=!0,Ne=null,Nt=!1,ce.dataset.itemId="",ce.reset(),i.status&&(i.status.value="Brouillon"),i.slug&&(i.slug.value=""),hs("Brouillon"),Ps(),V&&(V.disabled=!0),(n=i.title)==null||n.focus())},fo=()=>{var be,We,xe,Ue,Re,xt,Ee,Te;let n=(((be=i.title)==null?void 0:be.value)||"").trim(),c=(((We=i.slug)==null?void 0:We.value)||"").trim(),w=(((xe=i.excerpt)==null?void 0:xe.value)||"").trim(),j=(((Ue=i.content)==null?void 0:Ue.value)||"").trim(),O=(((Re=i.image)==null?void 0:Re.value)||"").trim(),ae=(((xt=i.ctaText)==null?void 0:xt.value)||"").trim(),G=(((Ee=i.ctaUrl)==null?void 0:Ee.value)||"").trim(),Q=((Te=i.status)==null?void 0:Te.value)||"Brouillon",je=ae||G?{text:ae,url:G}:null;return{title:n,slug:gs(c||n),summary:w,excerpt:w,content:j,image:O,status:Q,...je&&{cta:je}}},Ht=n=>{Vt&&(Vt.disabled=n,Vt.textContent=n?"Enregistrement\u2026":"Enregistrer"),V&&!rt&&Ne&&(V.disabled=n)},go=async n=>{if(!ve)return[];let c=await fetch(`${ve}/${encodeURIComponent(n)}/items`,{headers:{Accept:"application/json"}});if(!c.ok){let j=await c.json().catch(()=>({}));throw new Error(j.message||"Impossible de charger les items.")}let w=await c.json().catch(()=>({}));return Array.isArray(w.items)?w.items:[]},Ds=async n=>{if(n&&(He=n,Ne=null,rt=!1,Nt=!1,qe("collection"),Gt(),Et(),Ms(),Ft(),Pe=[],Ge(),Qt("Chargement des items\u2026"),re==null||re.classList.remove("hidden"),Ae==null||Ae.classList.add("hidden"),!!ve))try{Pe=await go(n),Ge(),Pe.length||Qt()}catch(c){console.error("[content] items failed",c),$(c.message||"Impossible de charger les items."),Pe=[],Ge()}},ho=async(n,c)=>{if(!ve)throw new Error("Site inconnu.");let w=await fetch(`${ve}/${encodeURIComponent(n)}/items`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});if(!w.ok){let j=await w.json().catch(()=>({}));throw new Error(j.message||"Impossible de cr\xE9er cet item.")}return w.json()},yo=async(n,c,w)=>{if(!ve)throw new Error("Site inconnu.");let j=await fetch(`${ve}/${encodeURIComponent(n)}/items/${encodeURIComponent(c)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(w)});if(!j.ok){let O=await j.json().catch(()=>({}));throw new Error(O.message||"Impossible de sauvegarder cet item.")}return j.json()},Hs=async(n,c)=>{if(!ve)throw new Error("Site inconnu.");let w=await fetch(`${ve}/${encodeURIComponent(n)}/items/${encodeURIComponent(c)}`,{method:"DELETE"});if(!w.ok){let j=await w.json().catch(()=>({}));throw new Error(j.message||"Impossible de supprimer cet item.")}},Pt=async()=>{var n;if(!ve){fe==null||fe.classList.remove("hidden"),He=null,Pe=[],Ge(),Gt(),Et();return}try{let c=await fetch(ve,{headers:{Accept:"application/json"}});if(!c.ok)throw new Error("Impossible de charger les collections.");let w=await c.json().catch(()=>[]);if(lt=Array.isArray(w)?w:[],Ms(),lt.length>0){let j=((n=lt.find(O=>O.id===He))==null?void 0:n.id)||lt[0].id;Ds(j)}else He=null,Pe=[],Gt(),Et(),Ge()}catch(c){console.error("[content] load collections",c),$(c.message||"Impossible de charger les collections.")}};ye==null||ye.addEventListener("click",()=>{if(!He){$("S\xE9lectionnez d\u2019abord une collection.");return}Ct(),Ge()}),ps==null||ps.addEventListener("click",n=>{if(n.preventDefault(),rt){rt=!1,Ne=null,Ft(),Ge();return}if(Ne){let c=Pe.find(w=>w.id===Ne);Dt(c)}else Ft()}),(tt=i.status)==null||tt.addEventListener("change",()=>{hs(i.status.value)}),(Us=i.title)==null||Us.addEventListener("input",()=>{!rt||!i.slug||Nt||(i.slug.value=gs(i.title.value))}),(Rs=i.slug)==null||Rs.addEventListener("input",()=>{rt&&(Nt=!0)}),ce==null||ce.addEventListener("submit",async n=>{var w;if(n.preventDefault(),!He){$("S\xE9lectionnez une collection.");return}let c=fo();if(!c.title){$("Le titre est requis."),(w=i.title)==null||w.focus();return}Ht(!0);try{let j;rt||!Ne?(j=await ho(He,c),Pe=[...Pe,j],$("Item cr\xE9\xE9")):(j=await yo(He,Ne,c),Pe=Pe.map(O=>O.id===j.id?j:O),$("Item mis \xE0 jour")),rt=!1,Ne=j.id,Dt(j),Ge()}catch(j){console.error("[content] save item failed",j),$(j.message||"Impossible de sauvegarder cet item.")}finally{Ht(!1)}});let es=()=>{J&&(J.classList.add("hidden"),J.classList.remove("flex"),Bt=null)},Mt=()=>{!J||!Ne||(Bt=Ne,J.classList.remove("hidden"),J.classList.add("flex"))};V==null||V.addEventListener("click",n=>{n.preventDefault(),Ne&&Mt()}),kt==null||kt.addEventListener("click",()=>{es()}),J==null||J.addEventListener("click",n=>{n.target===J&&es()}),bt==null||bt.addEventListener("click",async()=>{if(!Bt||!He){es();return}bt.disabled=!0,bt.textContent="Suppression\u2026";try{await Hs(He,Bt),Pe=Pe.filter(n=>n.id!==Bt),Ne===Bt&&(Ne=null,Ft()),$("Item supprim\xE9"),Ge()}catch(n){console.error("[content] delete item failed",n),$(n.message||"Impossible de supprimer cet item.")}finally{bt.disabled=!1,bt.textContent="Supprimer",es()}}),Gt(),Et(),Pt()}function qn(){let o=document.querySelector("[data-deploy-form]");if(!o)return;let a=document.querySelector("[data-deploy-protocol]"),p=document.querySelector("[data-deploy-host]"),b=document.querySelector("[data-deploy-port]"),h=document.querySelector("[data-deploy-user]"),x=document.querySelector("[data-deploy-password]"),R=document.querySelector("[data-deploy-show-password]"),W=document.querySelector("[data-deploy-remote-path]"),U=document.querySelector("[data-deploy-feedback]"),oe=document.querySelector("[data-deploy-save]"),te=document.querySelector("[data-deploy-test]"),f=document.querySelector("[data-deploy-trigger]"),E=document.querySelector("[data-deploy-history]"),C=document.querySelector("[data-deploy-log]"),L=Ce((z==null?void 0:z.slugValue)||Y.slug||""),P=L?`/api/sites/${encodeURIComponent(L)}/deploy-config`:null,M=L?`/api/sites/${encodeURIComponent(L)}/deploy`:null,N=L?`/api/sites/${encodeURIComponent(L)}/deploy-log`:null,H=!1,d=null,q=v=>{let g=(v||"").trim();return g?g.startsWith("/")?g:`/${g}`:"/www"},k=(v,g="muted")=>{if(!U)return;let S="inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold",Z=g==="success"?"bg-emerald-50 text-emerald-700 border border-emerald-100":g==="error"?"bg-rose-50 text-rose-700 border border-rose-100":"bg-slate-50 text-slate-600 border border-slate-100";if(!v){U.textContent="",U.className="text-sm text-slate-500";return}let ne=g==="success"?"\u2705":g==="error"?"\u274C":"\u2139\uFE0F";U.innerHTML=`<span class="${S} ${Z}">${ne}<span>${v}</span></span>`,U.className="text-sm"},T=(v=null)=>{d=v;let g=!!v,S='<svg class="h-4 w-4 animate-spin text-white" viewBox="0 0 24 24" fill="none" aria-hidden="true"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"></path></svg>';oe&&(oe.disabled=g,oe.innerHTML=v==="save"?`<span class="inline-flex items-center gap-2">${S}<span>Enregistrement\u2026</span></span>`:"Enregistrer"),te&&(te.disabled=g,te.innerHTML=v==="test"?'<span class="inline-flex items-center gap-2"><span class="h-4 w-4 animate-spin rounded-full border-2 border-slate-200 border-t-slate-600"></span><span>Test en cours\u2026</span></span>':"Tester la connexion"),f&&(f.disabled=g&&v!==null,f.innerHTML=v==="deploy"?'<span class="inline-flex items-center gap-2"><span class="h-4 w-4 animate-spin rounded-full border-2 border-white/60 border-t-white"></span><span>D\xE9ploiement\u2026</span></span>':"D\xE9ployer maintenant")},ee=v=>{a&&(a.value=v.protocol||"sftp"),p&&(p.value=v.host||""),b&&(b.value=v.port||""),h&&(h.value=v.user||""),W&&(W.value=v.remotePath||"/www"),H=!!v.hasPassword,x&&(x.value="",x.placeholder=H?"Non affich\xE9":"Mot de passe")},K=(v=[])=>{if(E){if(E.innerHTML="",!v.length){let g=document.createElement("li");g.className="text-slate-500",g.textContent="Aucun d\xE9ploiement pour le moment.",E.appendChild(g);return}v.forEach(g=>{let S=document.createElement("li");S.className="flex items-center justify-between gap-2 rounded-xl border border-slate-200 px-3 py-2";let Z=g.status==="success"?'<span class="rounded-full bg-emerald-50 px-2 py-0.5 text-[11px] font-semibold text-emerald-700">Succ\xE8s</span>':'<span class="rounded-full bg-rose-50 px-2 py-0.5 text-[11px] font-semibold text-rose-700">\xC9chec</span>',ne=g.finishedAt||g.startedAt||"",pe=g.durationMs&&Number(g.durationMs)>=0?`${Math.round(Number(g.durationMs)/1e3)}s`:"";S.innerHTML=`
          <div class="space-y-1">
            <div class="flex items-center gap-2">${Z}<span class="text-xs text-slate-500">${ne}</span></div>
            <p class="text-sm text-slate-800">${g.message||""}</p>
          </div>
          <div class="text-xs text-slate-500">${pe}</div>
        `,S.dataset.deployId=g.id||"",S.addEventListener("click",()=>{g.logs&&C&&(C.textContent=g.logs.join(`
`))}),E.appendChild(S)})}},X=(v=[])=>{C&&(C.textContent=v.length?v.join(`
`):"Aucun log pour le moment.")},ge=async()=>{var v;if(N)try{let g=await fetch(N,{headers:{Accept:"application/json"}});if(!g.ok){if(g.status===404){K([]),X(["API d\xE9ploiement indisponible (red\xE9marre le serveur)."]);return}throw new Error("Impossible de charger l\u2019historique.")}let S=await g.json().catch(()=>({})),Z=Array.isArray(S.entries)?S.entries:[];K(Z),(v=Z[0])!=null&&v.logs&&X(Z[0].logs)}catch(g){console.error("[deploy] history failed",g)}},ue=async()=>{if(!P){k("Aucun site actif s\xE9lectionn\xE9.","error");return}T("load");try{let v=await fetch(P,{headers:{Accept:"application/json"}}),g=await v.json().catch(()=>({}));v.ok?(ee(g||{}),k("Configuration charg\xE9e.","muted")):(ee(g||{}),k(g.message||"Configuration par d\xE9faut charg\xE9e.","muted"))}catch(v){console.error("[deploy] load failed",v),k(v.message||"Erreur lors du chargement.","error")}finally{T(null)}},Ie=()=>{let v={protocol:(a==null?void 0:a.value)||"sftp",host:(p==null?void 0:p.value.trim())||"",port:Number(b==null?void 0:b.value)||void 0,user:(h==null?void 0:h.value.trim())||"",remotePath:q((W==null?void 0:W.value)||"/www")},g=(x==null?void 0:x.value)||"";return g.trim().length>0&&(v.password=g),v};o.addEventListener("submit",async v=>{if(v.preventDefault(),!P){k("Aucun site actif s\xE9lectionn\xE9.","error");return}let g=Ie();T("save");try{let S=await fetch(P,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)});if(!S.ok){let ne=await S.json().catch(()=>({}));throw new Error(ne.message||"Sauvegarde impossible.")}let Z=await S.json();ee(Z||{}),k("Configuration enregistr\xE9e.","success"),$("Configuration d\xE9ploiement sauvegard\xE9e")}catch(S){console.error("[deploy] save failed",S),k(S.message||"Erreur lors de la sauvegarde.","error")}finally{T(null)}}),te==null||te.addEventListener("click",async()=>{if(!P){k("Aucun site actif s\xE9lectionn\xE9.","error");return}let v=Ie();if(!v.host||!v.user||!v.remotePath){k("Remplissez les champs requis avant de tester.","error");return}T("test");try{let g=await fetch(`${P}/test`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(v)}),S=await g.json().catch(()=>({}));if(!g.ok||S.success===!1){k(S.message||"Test de connexion \xE9chou\xE9.","error");return}k(S.message||"Connexion OK.","success"),$("Test de connexion r\xE9ussi")}catch(g){console.error("[deploy] test failed",g),k(g.message||"Test de connexion \xE9chou\xE9.","error")}finally{T(null)}}),f==null||f.addEventListener("click",async()=>{if(!M){k("Aucun site actif s\xE9lectionn\xE9.","error");return}T("deploy"),X(["D\xE9ploiement en cours\u2026"]);try{let v=await fetch(M,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ie())}),g=await v.json().catch(()=>({}));if(!v.ok){if(v.status===404){k("API d\xE9ploiement indisponible (red\xE9marre le serveur).","error"),X(["API d\xE9ploiement indisponible (red\xE9marre le serveur)."]);return}throw X(g.logs||[]),new Error(g.message||"D\xE9ploiement \xE9chou\xE9.")}X(g.logs||[]),await ge(),$("D\xE9ploiement termin\xE9")}catch(v){console.error("[deploy] run failed",v),k(v.message||"D\xE9ploiement \xE9chou\xE9.","error")}finally{T(null)}}),R==null||R.addEventListener("change",()=>{x&&(x.type=R.checked?"text":"password")});let me=document.querySelector("[data-download-build]"),Le=document.querySelector("[data-download-feedback]"),qe=L?`/api/sites/${encodeURIComponent(L)}/download`:null,D=(v,g="muted")=>{if(!Le)return;let S=g==="success"?"text-emerald-600":g==="error"?"text-rose-600":"text-slate-500";Le.textContent=v||"",Le.className=`text-sm ${S}`};me==null||me.addEventListener("click",async()=>{if(!qe){D("Aucun site actif s\xE9lectionn\xE9.","error");return}me.disabled=!0;let v=me.innerHTML;me.innerHTML=`
        <svg class="w-4 h-4 animate-spin" fill="none" viewBox="0 0 24 24">
          <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
          <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"></path>
        </svg>
        <span>Build en cours...</span>
      `,D("G\xE9n\xE9ration du build en cours...","muted");try{let g=await fetch(qe);if(!g.ok){let pe=await g.json().catch(()=>({}));throw new Error(pe.message||"Impossible de g\xE9n\xE9rer le ZIP.")}let S=await g.blob(),Z=window.URL.createObjectURL(S),ne=document.createElement("a");ne.href=Z,ne.download=`${L}-build.zip`,document.body.appendChild(ne),ne.click(),document.body.removeChild(ne),window.URL.revokeObjectURL(Z),D("T\xE9l\xE9chargement termin\xE9 !","success"),$("Build t\xE9l\xE9charg\xE9 avec succ\xE8s")}catch(g){console.error("[download] failed",g),D(g.message||"Erreur lors du t\xE9l\xE9chargement.","error")}finally{me.disabled=!1,me.innerHTML=v}}),ue(),ge()}function An(){let o=document.querySelectorAll("[data-settings-tab]"),a=document.querySelectorAll("[data-settings-panel]"),p=document.querySelector("[data-admin-password-form]"),b=document.querySelector("[data-site-config-form]"),h=document.querySelector("[data-site-config-feedback]"),x=document.querySelector("[data-theme-form]"),R=f=>{o.forEach(E=>{let C=E.dataset.settingsTab===f;E.setAttribute("aria-selected",C?"true":"false"),E.classList.toggle("bg-[#9C6BFF]",C),E.classList.toggle("text-white",C)}),a.forEach(E=>{E.classList.toggle("hidden",E.dataset.settingsPanel!==f)})};if(o.forEach(f=>{f.addEventListener("click",()=>R(f.dataset.settingsTab||"account"))}),R("account"),p){let f=p.querySelector("[data-admin-password-feedback]"),E=p.querySelector("[data-admin-password-submit]"),C=(L,P="muted")=>{if(!f)return;let M=P==="success"?"text-emerald-600":P==="error"?"text-rose-600":"text-slate-500";f.textContent=L||"",f.className=`text-sm ${M}`};p.addEventListener("submit",async L=>{L.preventDefault();let P=new FormData(p),M=P.get("currentPassword")||"",N=P.get("newPassword")||"",H=P.get("confirmPassword")||"";if(!M||!N||!H){C("Compl\xE8te tous les champs.","error");return}E&&(E.disabled=!0),C("");try{let d=await fetch("/api/admin/password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentPassword:M,newPassword:N,confirmPassword:H})}),q=await d.json().catch(()=>({}));if(!d.ok||q.success===!1)throw new Error(q.message||"Impossible de mettre \xE0 jour le mot de passe.");C(q.message||"Mot de passe mis \xE0 jour.","success"),p.reset()}catch(d){console.error("[settings] change password failed",d),C(d.message||"Erreur lors de la mise \xE0 jour.","error")}finally{E&&(E.disabled=!1)}})}if(b){let f=b.querySelector("[data-site-name]"),E=b.querySelector("[data-site-language]"),C=b.querySelector("[data-site-tagline]"),L=b.querySelector("[data-site-save]"),P=(d,q="muted")=>{if(!h)return;let k=q==="success"?"text-emerald-600":q==="error"?"text-rose-600":"text-slate-500";h.textContent=d||"",h.className=`text-sm ${k}`},M=Ce((z==null?void 0:z.slugValue)||Y.slug||""),N=M?`/api/sites/${encodeURIComponent(M)}/config/site`:null,H=async()=>{if(N)try{let d=await fetch(N,{headers:{Accept:"application/json"}});if(!d.ok)return;let q=await d.json().catch(()=>({}));f&&(f.value=q.name||""),E&&(E.value=q.language||"fr"),C&&(C.value=q.tagline||"")}catch(d){console.error("[settings] load site config failed",d)}};b.addEventListener("submit",async d=>{if(d.preventDefault(),!N){P("Aucun site actif.","error");return}if(!(f!=null&&f.value.trim())){P("Nom requis.","error");return}L&&(L.disabled=!0),P("");try{let q={name:(f==null?void 0:f.value)||"",language:(E==null?void 0:E.value)||"fr",tagline:(C==null?void 0:C.value)||""},k=await fetch(N,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(q)}),T=await k.json().catch(()=>({}));if(!k.ok||T.success===!1)throw new Error(T.message||"Sauvegarde impossible.");P(T.message||"Param\xE8tres enregistr\xE9s.","success")}catch(q){console.error("[settings] save site config failed",q),P(q.message||"Erreur lors de la sauvegarde.","error")}finally{L&&(L.disabled=!1)}}),H()}if(x){let f=Ce((z==null?void 0:z.slugValue)||Y.slug||""),E=f?`/api/sites/${encodeURIComponent(f)}/config/theme`:null,C={primary:x.querySelector("[data-theme-primary]"),secondary:x.querySelector("[data-theme-secondary]"),accent:x.querySelector("[data-theme-accent]"),background:x.querySelector("[data-theme-background]"),text:x.querySelector("[data-theme-text]")},L=x.querySelector("[data-theme-headings]"),P=x.querySelector("[data-theme-body]"),M=x.querySelector("[data-theme-radius-small]"),N=x.querySelector("[data-theme-radius-medium]"),H=x.querySelector("[data-theme-radius-large]"),d=x.querySelector("[data-theme-preview]"),q=x.querySelector("[data-theme-feedback]"),k=x.querySelector("[data-theme-apply]"),T=["slate","gray","zinc","neutral","stone","red","orange","amber","yellow","lime","green","emerald","teal","cyan","sky","blue","indigo","violet","purple","fuchsia","pink","rose"],ee=["50","100","200","300","400","500","600","700","800","900"],K=T.flatMap(D=>ee.map(v=>`${D}-${v}`)),X=()=>{Object.values(C).forEach(D=>{!D||D.options.length||K.forEach(v=>{let g=document.createElement("option");g.value=v;let[S,Z]=v.split("-");g.textContent=`${S.charAt(0).toUpperCase()+S.slice(1)} ${Z}`,D.appendChild(g)})})},ge=(D,v="muted")=>{if(!q)return;let g=v==="success"?"text-emerald-600":v==="error"?"text-rose-600":"text-slate-500";q.textContent=D||"",q.className=`text-sm ${g}`},ue=()=>{var v,g,S,Z,ne;if(!d)return;let D=pe=>{if(!pe)return null;if(pe==="white")return"#ffffff";if(pe==="black")return"#000000";if(pe==="transparent")return"transparent";let[he,Qe]=pe.split("-");if(!he||!Qe)return null;let et={slate:"#e2e8f0",gray:"#d1d5db",zinc:"#d4d4d8",neutral:"#d4d4d4",stone:"#d6d3d1",red:"#ef4444",orange:"#f97316",amber:"#f59e0b",yellow:"#eab308",lime:"#84cc16",green:"#22c55e",emerald:"#10b981",teal:"#14b8a6",cyan:"#06b6d4",sky:"#0ea5e9",blue:"#3b82f6",indigo:"#6366f1",violet:"#8b5cf6",purple:"#a855f7",fuchsia:"#d946ef",pink:"#ec4899",rose:"#f43f5e"}[he];if(!et)return null;let fe=Number(Qe)||500,re=Math.min(Math.max((fe-50)/900,0),1),Ae=A=>A.match(/[A-Fa-f0-9]{2}/g).map(ce=>parseInt(ce,16)),[$e,$t,jt]=Ae(et.replace("#","")),ye=A=>Math.round(255-(255-A)*re);return`rgb(${ye($e)}, ${ye($t)}, ${ye(jt)})`};d.style.setProperty("--color-primary",D((v=C.primary)==null?void 0:v.value)||"#9C6BFF"),d.style.setProperty("--color-secondary",D((g=C.secondary)==null?void 0:g.value)||"#0EA5E9"),d.style.setProperty("--color-accent",D((S=C.accent)==null?void 0:S.value)||"#F97316"),d.style.setProperty("--color-background",D((Z=C.background)==null?void 0:Z.value)||"#FFFFFF"),d.style.setProperty("--color-text",D((ne=C.text)==null?void 0:ne.value)||"#0F172A"),d.style.setProperty("--font-headings",(L==null?void 0:L.value)||"Inter, sans-serif"),d.style.setProperty("--font-body",(P==null?void 0:P.value)||"Inter, sans-serif"),d.style.setProperty("--radius-small",(M==null?void 0:M.value)||"8px"),d.style.setProperty("--radius-medium",(N==null?void 0:N.value)||"16px"),d.style.setProperty("--radius-large",(H==null?void 0:H.value)||"24px"),d.style.borderRadius=(N==null?void 0:N.value)||"16px"},Ie=(D,v)=>{C[D]&&(C[D].value=v)},me=D=>{var Z,ne;if(!D)return;let v=D.options[D.selectedIndex],g=((Z=v==null?void 0:v.dataset)==null?void 0:Z.color)||"#ffffff",S=(ne=D.closest(".relative"))==null?void 0:ne.querySelector("[data-color-preview]");S&&(g==="transparent"?S.style.background="repeating-conic-gradient(#ccc 0% 25%, white 0% 50%) 50% / 8px 8px":(S.style.backgroundColor=g,S.style.background=""))},Le=()=>{Object.values(C).forEach(D=>{D&&(me(D),D.addEventListener("change",()=>me(D)))})};Object.keys(C).forEach(D=>{var v;(v=C[D])==null||v.addEventListener("change",ue)}),[L,P,M,N,H].forEach(D=>{D==null||D.addEventListener("change",ue)});let qe=async()=>{var D,v,g,S,Z,ne,pe,he,Qe,le;if(E)try{let et=await fetch(E,{headers:{Accept:"application/json"}});if(!et.ok)return;let fe=await et.json().catch(()=>({}));Ie("primary",((D=fe.colors)==null?void 0:D.primary)||"violet-500"),Ie("secondary",((v=fe.colors)==null?void 0:v.secondary)||"indigo-400"),Ie("accent",((g=fe.colors)==null?void 0:g.accent)||"emerald-500"),Ie("background",((S=fe.colors)==null?void 0:S.background)||"slate-50"),Ie("text",((Z=fe.colors)==null?void 0:Z.text)||"slate-900"),L&&(L.value=((ne=fe.typography)==null?void 0:ne.headings)||"Inter, sans-serif"),P&&(P.value=((pe=fe.typography)==null?void 0:pe.body)||"Inter, sans-serif"),M&&(M.value=((he=fe.radius)==null?void 0:he.small)||"8px"),N&&(N.value=((Qe=fe.radius)==null?void 0:Qe.medium)||"16px"),H&&(H.value=((le=fe.radius)==null?void 0:le.large)||"24px"),ue(),Object.values(C).forEach(me)}catch(et){console.error("[settings] load theme failed",et)}};X(),Le(),k==null||k.addEventListener("click",async D=>{var g,S,Z,ne,pe;if(D.preventDefault(),!E){ge("Aucun site actif.","error");return}let v={colors:{primary:((g=C.primary)==null?void 0:g.value)||"violet-500",secondary:((S=C.secondary)==null?void 0:S.value)||"indigo-400",accent:((Z=C.accent)==null?void 0:Z.value)||"emerald-500",background:((ne=C.background)==null?void 0:ne.value)||"slate-50",text:((pe=C.text)==null?void 0:pe.value)||"slate-900"},typography:{headings:(L==null?void 0:L.value)||"Inter, sans-serif",body:(P==null?void 0:P.value)||"Inter, sans-serif"},radius:{small:(M==null?void 0:M.value)||"8px",medium:(N==null?void 0:N.value)||"16px",large:(H==null?void 0:H.value)||"24px"}};k.disabled=!0,ge("");try{let he=await fetch(E,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(v)}),Qe=await he.json().catch(()=>({}));if(!he.ok||Qe.success===!1)throw new Error(Qe.message||"Application du th\xE8me \xE9chou\xE9e.");ge(Qe.message||"Th\xE8me appliqu\xE9.","success"),ue()}catch(he){console.error("[settings] apply theme failed",he),ge(he.message||"Erreur lors de l\u2019application du th\xE8me.","error")}finally{k.disabled=!1}}),X(),Le(),qe(),ue()}let W=document.querySelector("[data-seo-config-form]");if(W){let f=W.querySelector("[data-seo-index-all]"),E=W.querySelector("[data-seo-config-feedback]"),C=W.querySelector("[data-seo-save]"),L=Ce((z==null?void 0:z.slugValue)||Y.slug||""),P=L?`/api/sites/${encodeURIComponent(L)}/config/site`:null,M=(H,d="muted")=>{if(!E)return;let q=d==="success"?"text-emerald-600":d==="error"?"text-rose-600":"text-slate-500";E.textContent=H||"",E.className=`text-sm ${q}`},N=async()=>{var H;if(P)try{let d=await fetch(P,{headers:{Accept:"application/json"}});if(!d.ok)return;let k=((H=(await d.json().catch(()=>({}))).seo)==null?void 0:H.indexAllPagesByDefault)!==!1;f&&(f.checked=k)}catch(d){console.error("[settings] load seo config failed",d)}};W.addEventListener("submit",async H=>{var d;if(H.preventDefault(),!P){M("Aucun site actif.","error");return}C&&(C.disabled=!0),M("");try{let q=await fetch(P,{headers:{Accept:"application/json"}}),k=q.ok?await q.json().catch(()=>({})):{},T={...k,seo:{...k.seo||{},indexAllPagesByDefault:(d=f==null?void 0:f.checked)!=null?d:!0}},ee=await fetch(P,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(T)}),K=await ee.json().catch(()=>({}));if(!ee.ok||K.success===!1)throw new Error(K.message||"Sauvegarde impossible.");M(K.message||"Param\xE8tres SEO enregistr\xE9s.","success")}catch(q){console.error("[settings] save seo config failed",q),M(q.message||"Erreur lors de la sauvegarde.","error")}finally{C&&(C.disabled=!1)}}),N()}let U=document.querySelector("[data-analytics-form]");if(U){let f=U.querySelector("[data-analytics-head]"),E=U.querySelector("[data-analytics-body]"),C=U.querySelector("[data-analytics-feedback]"),L=U.querySelector("[data-analytics-save]"),P=Ce((z==null?void 0:z.slugValue)||Y.slug||""),M=P?`/api/sites/${encodeURIComponent(P)}/config/site`:null,N=(d,q="muted")=>{if(!C)return;let k=q==="success"?"text-emerald-600":q==="error"?"text-rose-600":"text-slate-500";C.textContent=d||"",C.className=`text-sm ${k}`},H=async()=>{var d,q;if(M)try{let k=await fetch(M,{headers:{Accept:"application/json"}});if(!k.ok)return;let T=await k.json().catch(()=>({}));f&&(f.value=((d=T.analytics)==null?void 0:d.headCode)||""),E&&(E.value=((q=T.analytics)==null?void 0:q.bodyEndCode)||"")}catch(k){console.error("[settings] load analytics config failed",k)}};U.addEventListener("submit",async d=>{if(d.preventDefault(),!M){N("Aucun site actif.","error");return}L&&(L.disabled=!0),N("");try{let q=await fetch(M,{headers:{Accept:"application/json"}}),T={...q.ok?await q.json().catch(()=>({})):{},analytics:{headCode:(f==null?void 0:f.value)||"",bodyEndCode:(E==null?void 0:E.value)||""}},ee=await fetch(M,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(T)}),K=await ee.json().catch(()=>({}));if(!ee.ok||K.success===!1)throw new Error(K.message||"Sauvegarde impossible.");N(K.message||"Scripts enregistr\xE9s.","success")}catch(q){console.error("[settings] save analytics config failed",q),N(q.message||"Erreur lors de la sauvegarde.","error")}finally{L&&(L.disabled=!1)}}),H()}let oe=document.querySelector("[data-accessibility-form]");if(oe){let f=oe.querySelector("[data-accessibility-animations]"),E=oe.querySelector("[data-accessibility-contrast]"),C=oe.querySelector("[data-accessibility-feedback]"),L=oe.querySelector("[data-accessibility-save]"),P=Ce((z==null?void 0:z.slugValue)||Y.slug||""),M=P?`/api/sites/${encodeURIComponent(P)}/config/site`:null,N=(d,q="muted")=>{if(!C)return;let k=q==="success"?"text-emerald-600":q==="error"?"text-rose-600":"text-slate-500";C.textContent=d||"",C.className=`text-sm ${k}`},H=async()=>{var d,q;if(M)try{let k=await fetch(M,{headers:{Accept:"application/json"}});if(!k.ok)return;let T=await k.json().catch(()=>({}));f&&(f.checked=((d=T.accessibility)==null?void 0:d.animationsEnabled)!==!1),E&&(E.checked=((q=T.accessibility)==null?void 0:q.highContrast)===!0)}catch(k){console.error("[settings] load accessibility config failed",k)}};oe.addEventListener("submit",async d=>{var q,k;if(d.preventDefault(),!M){N("Aucun site actif.","error");return}L&&(L.disabled=!0),N("");try{let T=await fetch(M,{headers:{Accept:"application/json"}}),K={...T.ok?await T.json().catch(()=>({})):{},accessibility:{animationsEnabled:(q=f==null?void 0:f.checked)!=null?q:!0,highContrast:(k=E==null?void 0:E.checked)!=null?k:!1}},X=await fetch(M,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(K)}),ge=await X.json().catch(()=>({}));if(!X.ok||ge.success===!1)throw new Error(ge.message||"Sauvegarde impossible.");N(ge.message||"Pr\xE9f\xE9rences mises \xE0 jour.","success")}catch(T){console.error("[settings] save accessibility config failed",T),N(T.message||"Erreur lors de la sauvegarde.","error")}finally{L&&(L.disabled=!1)}}),H()}let te=document.querySelector("[data-ai-config-form]");if(te){let f=te.querySelector("[data-ai-api-key]"),E=te.querySelector("[data-ai-model]"),C=te.querySelector("[data-ai-project-prompt]"),L=te.querySelector("[data-ai-enabled]"),P=te.querySelector("[data-ai-feedback]"),M=te.querySelector("[data-ai-save]"),N=Ce((z==null?void 0:z.slugValue)||Y.slug||""),H=N?`/api/sites/${encodeURIComponent(N)}/config/ai`:null,d=(k,T="muted")=>{if(!P)return;let ee=T==="success"?"text-emerald-600":T==="error"?"text-rose-600":"text-slate-500";P.textContent=k||"",P.className=`text-sm ${ee}`},q=async()=>{if(H)try{let k=await fetch(H,{headers:{Accept:"application/json"}});if(!k.ok)return;let T=await k.json().catch(()=>({}));f&&(f.value="",f.placeholder=T.hasApiKey?"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022":"Cl\xE9 API Gemini"),E&&(E.value=T.model||"gemini-2.5-flash"),C&&(C.value=T.projectPrompt||""),L&&(L.checked=T.enabled!==!1)}catch(k){console.error("[settings] load AI config failed",k)}};te.addEventListener("submit",async k=>{var T,ee;if(k.preventDefault(),!H){d("Aucun site actif.","error");return}M&&(M.disabled=!0),d("");try{let K={model:(E==null?void 0:E.value)||"gemini-2.5-flash",projectPrompt:(C==null?void 0:C.value)||"",enabled:(T=L==null?void 0:L.checked)!=null?T:!0},X=(ee=f==null?void 0:f.value)==null?void 0:ee.trim();X&&(K.apiKey=X);let ge=await fetch(H,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(K)}),ue=await ge.json().catch(()=>({}));if(!ge.ok||ue.success===!1)throw new Error(ue.message||"Sauvegarde impossible.");d(ue.message||"Configuration IA enregistr\xE9e.","success"),f&&(f.value="",f.placeholder="\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022")}catch(K){console.error("[settings] save AI config failed",K),d(K.message||"Erreur lors de la sauvegarde.","error")}finally{M&&(M.disabled=!1)}}),q()}}function Tn(){let o=document.querySelector("[data-media-grid]");if(!o)return;let a=document.querySelector("[data-media-empty]"),p=document.querySelector("[data-media-count]"),b=document.querySelector("[data-media-filter-type]"),h=document.querySelector("[data-media-detail-empty]"),x=document.querySelector("[data-media-detail]"),R=document.querySelector("[data-media-detail-preview]"),W=document.querySelector("[data-media-detail-name]"),U=document.querySelector("[data-media-detail-type]"),oe=document.querySelector("[data-media-detail-size]"),te=document.querySelector("[data-media-detail-path]"),f=document.querySelector("[data-media-detail-used]"),E=document.querySelector("[data-media-alt-edit]"),C=document.querySelector("[data-media-save]"),L=document.querySelector("[data-media-delete]"),P=document.querySelector("[data-media-delete-modal]"),M=document.querySelector("[data-media-delete-cancel]"),N=document.querySelector("[data-media-delete-confirm]"),H=document.querySelector("[data-media-upload-open]"),d=document.querySelector("[data-media-file-input]"),q=document.querySelector("[data-media-upload-status]"),k=Ce((z==null?void 0:z.slugValue)||Y.slug||""),T=k?`/api/sites/${encodeURIComponent(k)}/media`:null,ee=[],K=[],X=null,ge=null,ue=null,Ie=!1,me=!1,Le=!1,qe=null,D=i=>{let I=(i.type||"").toLowerCase(),V=(i.filename||"").toLowerCase();return I.includes("image")||/\.(png|jpe?g|webp|svg|gif)$/i.test(V)?"image":I.includes("pdf")||I.includes("doc")||/\.(pdf|docx?)$/i.test(V)?"document":I.includes("video")||/\.(mp4|mov|webm)$/i.test(V)?"video":"other"},v=i=>D(i)==="image",g=i=>{if(i.type)return i.type.toUpperCase();let I=(i.filename||"").split(".").pop();return I?I.toUpperCase():"FILE"},S=i=>!i||i<=0?"\u2014":i<1024?`${i} o`:i<1024*1024?`${(i/1024).toFixed(1)} ko`:`${(i/(1024*1024)).toFixed(1)} Mo`,Z=()=>{x==null||x.classList.add("hidden"),h==null||h.classList.remove("hidden"),ne(),X=null,me=!1,le(!1),R&&(R.innerHTML='<span class="text-slate-400 text-sm">Aucun m\xE9dia s\xE9lectionn\xE9</span>'),W&&(W.textContent=""),U&&(U.textContent=""),oe&&(oe.textContent=""),E&&(E.value=""),te&&(te.textContent=""),f&&(f.innerHTML="")},ne=()=>{ue=null,Le=!1,Ie=!1,qe&&(URL.revokeObjectURL(qe),qe=null),q&&(q.textContent="Aucun fichier s\xE9lectionn\xE9."),d&&(d.value="")},pe=()=>{p&&(K.length?K.length===1?p.textContent="1 m\xE9dia":p.textContent=`${K.length} m\xE9dias`:p.textContent="0 m\xE9dia")},he=()=>{if(o.innerHTML="",!K.length){a==null||a.classList.remove("hidden"),Z();return}a==null||a.classList.add("hidden"),K.forEach(i=>{let I=document.createElement("button");I.type="button",I.dataset.mediaId=i.id;let V=i.id===X;I.className=["group relative flex flex-col rounded-2xl border px-3 py-3 text-left transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[#9C6BFF]",V?"border-[#9C6BFF] bg-[#F7F0FF]/60 shadow-sm":"border-slate-200 hover:border-[#9C6BFF]/40"].join(" ");let J=v(i)?`<img src="${i.path}" alt="${i.alt||i.filename}" class="h-full w-full object-cover" />`:'<div class="flex h-full w-full items-center justify-center text-3xl text-slate-400">\u{1F4C4}</div>';I.innerHTML=`
          <div class="relative aspect-[4/3] overflow-hidden rounded-xl bg-slate-100">
            ${J}
          </div>
          <div class="mt-2 space-y-1">
            <p class="text-sm font-semibold text-slate-900 truncate">${i.filename}</p>
            <p class="text-xs text-slate-500">
              ${g(i)} \xB7 ${S(i.size)}
            </p>
          </div>
        `,i.id===ge&&(I.classList.add("ring-2","ring-[#9C6BFF]"),window.setTimeout(()=>{I.classList.remove("ring-2","ring-[#9C6BFF]")},1600)),I.addEventListener("click",()=>et(i.id)),o.appendChild(I)}),ge=null},Qe=i=>{if(f){if(f.innerHTML="",!i.usedIn||i.usedIn.length===0){let I=document.createElement("li");I.textContent="Non utilis\xE9",I.className="text-xs text-slate-400",f.appendChild(I);return}i.usedIn.forEach(I=>{let V=document.createElement("li");V.textContent=I,V.className="text-xs text-slate-600",f.appendChild(V)})}},le=i=>{if(C){if(Le){C.textContent=i?"T\xE9l\xE9versement\u2026":"T\xE9l\xE9verser",C.disabled=i||!ue,L&&L.classList.add("hidden");return}C.textContent=i?"Enregistrement\u2026":"Enregistrer",C.disabled=i||!me,L&&(L.classList.remove("hidden"),L.disabled=!X)}},et=i=>{let I=ee.find(V=>V.id===i);if(!I){Z(),he();return}ne(),X=I.id,me=!1,le(!1),he(),h==null||h.classList.add("hidden"),x==null||x.classList.remove("hidden"),R&&(v(I)?R.innerHTML=`<img src="${I.path}" alt="${I.alt||I.filename}" class="h-full w-full rounded-2xl object-cover" />`:R.innerHTML='<div class="flex h-full w-full flex-col items-center justify-center gap-1 text-slate-400"><span class="text-3xl">\u{1F4C4}</span><span class="text-xs font-semibold">Document</span></div>'),W&&(W.textContent=I.filename||"Fichier"),U&&(U.textContent=g(I)),oe&&(oe.textContent=S(I.size)),E&&(E.value=I.alt||""),te&&(te.textContent=I.path||"\u2014"),Qe(I)},fe=i=>{if(i){if(Le=!0,me=!1,X=null,h==null||h.classList.add("hidden"),x==null||x.classList.remove("hidden"),qe&&URL.revokeObjectURL(qe),qe=URL.createObjectURL(i),R&&(R.innerHTML=`<img src="${qe}" alt="${i.name}" class="h-full w-full rounded-2xl object-cover" />`),W&&(W.textContent=i.name),U&&(U.textContent=g({type:i.type,filename:i.name})),oe&&(oe.textContent=S(i.size)),E&&!E.value.trim()&&(E.value=i.name.replace(/\.[^.]+$/,"").replace(/[-_]/g," ")),te&&(te.textContent="En attente de t\xE9l\xE9versement"),f){f.innerHTML="";let I=document.createElement("li");I.textContent="Non utilis\xE9",I.className="text-xs text-slate-400",f.appendChild(I)}le(!1)}},re=()=>{let i=(b==null?void 0:b.value)||"all";i==="all"?K=[...ee]:K=ee.filter(I=>I.groupType===i),K.some(I=>I.id===X)||Z(),pe(),he()},Ae=async()=>{if(!T){a==null||a.classList.remove("hidden");return}try{let i=await fetch(T,{headers:{Accept:"application/json"}});if(!i.ok)throw new Error("Impossible de charger les m\xE9dias.");let I=await i.json().catch(()=>({items:[]}));ee=Array.isArray(I.items)?I.items.map(V=>({...V,groupType:D(V)})):[],re()}catch(i){console.error("[media] load failed",i),$(i.message||"Impossible de charger les m\xE9dias."),ee=[],re()}};b==null||b.addEventListener("change",()=>{re()}),E==null||E.addEventListener("input",()=>{if(Le){le(!1);return}X&&(me=!0,le(!1))});let $e=i=>{if(i){if(!i.type.startsWith("image/")){$("Seules les images sont accept\xE9es pour le moment.");return}if(i.size>4*1024*1024){$("Fichier trop volumineux (4 Mo max).");return}ue=i,fe(i),q&&(q.textContent=`${i.name} \xB7 ${S(i.size)}`)}},$t=i=>new Promise((I,V)=>{let J=new FileReader;J.onload=()=>{let kt=J.result||"",[,bt=""]=String(kt).split(",");I(bt)},J.onerror=()=>V(new Error("Impossible de lire ce fichier.")),J.readAsDataURL(i)}),jt=async()=>{if(!(!ue||!T)){Ie=!0,le(!0);try{let i=await $t(ue),I={filename:ue.name,type:ue.type,size:ue.size,alt:(E==null?void 0:E.value)||"",data:i},V=await fetch(T,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(I)});if(!V.ok){let kt=await V.json().catch(()=>({}));throw new Error(kt.message||"Upload impossible.")}let J=await V.json();J.groupType=D(J),ee=[...ee,J],ge=J.id,re(),et(J.id),$("M\xE9dia ajout\xE9"),ne()}catch(i){console.error("[media] upload failed",i),$(i.message||"Impossible de t\xE9l\xE9verser ce m\xE9dia.")}finally{Ie=!1,ue=null,le(!1)}}};H==null||H.addEventListener("click",()=>d==null?void 0:d.click()),d==null||d.addEventListener("change",()=>{d.files&&d.files[0]&&$e(d.files[0])});let ye=()=>{P&&(P.classList.add("hidden"),P.classList.remove("flex"))},A=()=>{if(!(!X||Le)){if(P){P.classList.remove("hidden"),P.classList.add("flex");return}window.confirm("Supprimer ce m\xE9dia ?")&&ce()}},ce=async()=>{if(!X||!T){ye();return}let i=()=>{L&&(L.disabled=!0),N&&(N.disabled=!0,N.textContent="Suppression\u2026")},I=()=>{L&&(L.disabled=!1),N&&(N.disabled=!1,N.textContent="Supprimer")};i();try{let V=await fetch(`${T}/${encodeURIComponent(X)}`,{method:"DELETE"});if(!V.ok){let J=await V.json().catch(()=>({}));throw new Error(J.message||"Suppression impossible.")}ee=ee.filter(J=>J.id!==X),K=K.filter(J=>J.id!==X),$("M\xE9dia supprim\xE9"),Z(),pe(),he()}catch(V){console.error("[media] delete failed",V),$(V.message||"Impossible de supprimer ce m\xE9dia.")}finally{I(),ye()}};M==null||M.addEventListener("click",ye),P==null||P.addEventListener("click",i=>{i.target===P&&ye()}),N==null||N.addEventListener("click",()=>ce()),L==null||L.addEventListener("click",A),C==null||C.addEventListener("click",async()=>{if(Le){jt();return}if(!(!X||!T||!E)){le(!0);try{let i={alt:E.value||""},I=await fetch(`${T}/${encodeURIComponent(X)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!I.ok){let J=await I.json().catch(()=>({}));throw new Error(J.message||"Impossible de mettre \xE0 jour ce m\xE9dia.")}let V=await I.json();ee=ee.map(J=>J.id===X?{...J,...V}:J),K=K.map(J=>J.id===X?{...J,...V}:J),me=!1,le(!1),$("M\xE9dia mis \xE0 jour")}catch(i){console.error("[media] update failed",i),$(i.message||"\xC9chec de la mise \xE0 jour."),le(!1)}}}),Ae()}let io=document.getElementById("ai-chat-toggle"),Xt=document.getElementById("ai-chat-panel"),Xe=document.getElementById("ai-chat-overlay"),lo=document.getElementById("ai-chat-close"),co=document.getElementById("ai-chat-clear"),uo=document.getElementById("ai-chat-form"),Lt=document.getElementById("ai-chat-input"),Se=document.getElementById("ai-chat-messages"),Er=document.getElementById("ai-chat-status"),pt=document.getElementById("ai-chat-no-api"),In=document.querySelectorAll("[data-ai-quick]"),js=!1,mo=!1,Do=!1,$n=!1;function jn(){Xt&&(js=!0,Xt.classList.remove("translate-x-full"),Xt.setAttribute("aria-hidden","false"),Xe==null||Xe.classList.remove("opacity-0","pointer-events-none"),Xe==null||Xe.classList.add("opacity-100"),document.body.classList.add("overflow-hidden"),Lt==null||Lt.focus(),Do||Bn())}function Bs(){Xt&&(js=!1,Xt.classList.add("translate-x-full"),Xt.setAttribute("aria-hidden","true"),Xe==null||Xe.classList.add("opacity-0","pointer-events-none"),Xe==null||Xe.classList.remove("opacity-100"),document.body.classList.remove("overflow-hidden"))}async function Bn(){let o=Ce(Y.slug||"");if(!o){pt==null||pt.classList.remove("hidden");return}try{let a=await fetch(`/api/sites/${encodeURIComponent(o)}/config/ai`);if(!a.ok)throw new Error("Config check failed");let p=await a.json();Do=!0,$n=p.hasApiKey,!p.enabled||!p.hasApiKey?pt==null||pt.classList.remove("hidden"):(pt==null||pt.classList.add("hidden"),Fn())}catch(a){console.error("[AI] Config check failed:",a),pt==null||pt.classList.remove("hidden")}}async function Fn(){let o=Ce(Y.slug||"");if(!(!o||!Se))try{let a=await fetch(`/api/sites/${encodeURIComponent(o)}/ai/history`);if(!a.ok)return;let p=await a.json();if(p.messages&&p.messages.length>0){let b=Se.querySelector("[data-ai-welcome]");b&&b.remove(),p.messages.forEach(h=>{Fs(h.content,h.role==="user"?"user":"assistant")}),Se.scrollTop=Se.scrollHeight}}catch(a){console.error("[AI] History load failed:",a)}}function Fs(o,a="assistant"){if(!Se)return;let p=document.createElement("div");if(p.className="flex gap-3",a==="user")p.innerHTML=`
        <div class="flex-1"></div>
        <div class="max-w-[80%] bg-violet-600 text-white rounded-2xl rounded-tr-none p-3">
          <p class="text-sm whitespace-pre-wrap">${it(o)}</p>
        </div>
        <div class="w-8 h-8 rounded-full bg-slate-200 flex-shrink-0 flex items-center justify-center">
          <svg class="w-4 h-4 text-slate-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
          </svg>
        </div>
      `;else{let b=Mn(o);p.innerHTML=`
        <div class="w-8 h-8 rounded-full bg-gradient-to-br from-violet-500 to-indigo-600 flex-shrink-0 flex items-center justify-center">
          <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
          </svg>
        </div>
        <div class="flex-1 bg-slate-50 rounded-2xl rounded-tl-none p-3 overflow-x-auto">
          <div class="text-sm text-slate-700 prose prose-sm max-w-none [&>pre]:bg-slate-800 [&>pre]:text-slate-100 [&>pre]:rounded-lg [&>pre]:p-3 [&>pre]:overflow-x-auto [&>code]:bg-slate-200 [&>code]:px-1 [&>code]:rounded">${b}</div>
        </div>
      `}Se.appendChild(p),Se.scrollTop=Se.scrollHeight}function Pn(){if(!Se)return;let o=document.createElement("div");o.className="flex gap-3",o.id="ai-loading-indicator",o.innerHTML=`
      <div class="w-8 h-8 rounded-full bg-gradient-to-br from-violet-500 to-indigo-600 flex-shrink-0 flex items-center justify-center">
        <svg class="w-4 h-4 text-white animate-pulse" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
        </svg>
      </div>
      <div class="flex-1 bg-slate-50 rounded-2xl rounded-tl-none p-3">
        <div class="flex items-center gap-2">
          <div class="w-2 h-2 bg-violet-400 rounded-full animate-bounce" style="animation-delay: 0ms"></div>
          <div class="w-2 h-2 bg-violet-400 rounded-full animate-bounce" style="animation-delay: 150ms"></div>
          <div class="w-2 h-2 bg-violet-400 rounded-full animate-bounce" style="animation-delay: 300ms"></div>
        </div>
      </div>
    `,Se.appendChild(o),Se.scrollTop=Se.scrollHeight}function Ho(){let o=document.getElementById("ai-loading-indicator");o==null||o.remove()}function Mn(o){if(!o)return"";let a=it(o);return a=a.replace(/```(\w*)\n([\s\S]*?)```/g,(p,b,h)=>`<pre class="language-${b||"text"}"><code>${h.trim()}</code></pre>`),a=a.replace(/`([^`]+)`/g,"<code>$1</code>"),a=a.replace(/\*\*([^*]+)\*\*/g,"<strong>$1</strong>"),a=a.replace(/\*([^*]+)\*/g,"<em>$1</em>"),a=a.replace(/^### (.+)$/gm,'<h4 class="font-semibold text-slate-900 mt-3 mb-1">$1</h4>'),a=a.replace(/^## (.+)$/gm,'<h3 class="font-semibold text-slate-900 mt-3 mb-1">$1</h3>'),a=a.replace(/^# (.+)$/gm,'<h2 class="font-bold text-slate-900 mt-3 mb-2">$1</h2>'),a=a.replace(/^- (.+)$/gm,'<li class="ml-4">$1</li>'),a=a.replace(/^(\d+)\. (.+)$/gm,'<li class="ml-4">$2</li>'),a=a.replace(/\n\n/g,'</p><p class="mb-2">'),a='<p class="mb-2">'+a+"</p>",a=a.replace(/<p class="mb-2"><\/p>/g,""),a}function it(o){let a=document.createElement("div");return a.textContent=o,a.innerHTML}async function Uo(o){let a=Ce(Y.slug||"");if(!o||!a||mo)return;mo=!0,Lt.disabled=!0;let p=Se==null?void 0:Se.querySelector("[data-ai-welcome]");p&&p.remove(),Fs(o,"user"),Pn();try{let b=await fetch(`/api/sites/${encodeURIComponent(a)}/ai/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:o})});if(Ho(),!b.ok){let x=await b.json().catch(()=>({}));throw new Error(x.message||"Erreur de communication")}let h=await b.json();h.response&&Fs(h.response,"assistant"),h.editProposal&&Nn(h.editProposal),h.themeProposal&&Dn(h.themeProposal)}catch(b){Ho(),Fs(`\u274C Erreur: ${b.message}`,"assistant")}finally{mo=!1,Lt.disabled=!1,Lt.focus()}}function Nn(o){var b,h;if(!Se||!o)return;let a=document.createElement("div");a.className="flex gap-3 mt-2",a.dataset.proposalId=o.proposalId;let p="";if(o.changes&&(o.changes.title&&(p+=`<li>Titre \u2192 <strong>${it(o.changes.title)}</strong></li>`),o.changes.description&&(p+=`<li>Description \u2192 ${it(o.changes.description.substring(0,80))}...</li>`),o.changes.seo&&(o.changes.seo.metaTitle&&(p+=`<li>Meta title \u2192 ${it(o.changes.seo.metaTitle)}</li>`),o.changes.seo.metaDescription&&(p+=`<li>Meta description \u2192 ${it(o.changes.seo.metaDescription.substring(0,60))}...</li>`)),o.changes.blockUpdate&&(p+=`<li>Bloc "${o.changes.blockUpdate.blockId}" modifi\xE9</li>`,o.changes.blockUpdate.settings))){let x=o.changes.blockUpdate.settings;x.title&&(p+=`<li class="ml-4">\u2192 title: ${it(x.title)}</li>`),x.content&&(p+='<li class="ml-4">\u2192 content modifi\xE9</li>')}a.innerHTML=`
      <div class="w-8 h-8 rounded-full bg-amber-500 flex-shrink-0 flex items-center justify-center">
        <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"/>
        </svg>
      </div>
      <div class="flex-1 bg-amber-50 border border-amber-200 rounded-2xl rounded-tl-none p-4">
        <div class="flex items-center gap-2 mb-2">
          <span class="text-xs font-semibold text-amber-700 bg-amber-100 px-2 py-0.5 rounded">Proposition d'\xE9dition</span>
        </div>
        <p class="text-sm font-medium text-slate-800 mb-1">Page : ${it(o.pageTitle||o.pageId)}</p>
        ${o.reason?`<p class="text-sm text-slate-600 mb-2">${it(o.reason)}</p>`:""}
        <ul class="text-xs text-slate-600 space-y-1 mb-3 list-disc ml-4">
          ${p||"<li>Modifications propos\xE9es</li>"}
        </ul>
        <div class="flex gap-2">
          <button 
            class="ai-apply-edit px-3 py-1.5 text-xs font-medium text-white bg-emerald-600 hover:bg-emerald-700 rounded-lg transition-colors flex items-center gap-1"
            data-proposal-id="${o.proposalId}"
          >
            <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
            </svg>
            Appliquer
          </button>
          <button 
            class="ai-reject-edit px-3 py-1.5 text-xs font-medium text-slate-600 bg-slate-100 hover:bg-slate-200 rounded-lg transition-colors flex items-center gap-1"
            data-proposal-id="${o.proposalId}"
          >
            <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
            </svg>
            Rejeter
          </button>
        </div>
      </div>
    `,Se.appendChild(a),Se.scrollTop=Se.scrollHeight,(b=a.querySelector(".ai-apply-edit"))==null||b.addEventListener("click",Rn),(h=a.querySelector(".ai-reject-edit"))==null||h.addEventListener("click",Ro)}function Dn(o){var h,x,R,W;if(!Se||!o)return;let a=document.createElement("div");a.className="flex gap-3 mt-2",a.dataset.proposalId=o.proposalId;let p="";if((h=o.changes)!=null&&h.colors){let U=o.changes.colors;for(let[oe,te]of Object.entries(U))p+=`<li class="flex items-center gap-2">
          <span class="w-4 h-4 rounded border border-slate-300" style="background: ${Hn(te)}"></span>
          <span>${oe}: <strong>${it(te)}</strong></span>
        </li>`}let b="";if((x=o.changes)!=null&&x.typography){let U=o.changes.typography;U.headings&&(b+=`<li>Titres \u2192 <strong>${it(U.headings)}</strong></li>`),U.body&&(b+=`<li>Textes \u2192 <strong>${it(U.body)}</strong></li>`)}a.innerHTML=`
      <div class="w-8 h-8 rounded-full bg-purple-500 flex-shrink-0 flex items-center justify-center">
        <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"/>
        </svg>
      </div>
      <div class="flex-1 bg-purple-50 border border-purple-200 rounded-2xl rounded-tl-none p-4">
        <div class="flex items-center gap-2 mb-2">
          <span class="text-xs font-semibold text-purple-700 bg-purple-100 px-2 py-0.5 rounded">Modification du th\xE8me</span>
        </div>
        ${o.reason?`<p class="text-sm text-slate-600 mb-3">${it(o.reason)}</p>`:""}
        ${p?`
          <p class="text-xs font-medium text-slate-700 mb-1">Couleurs :</p>
          <ul class="text-xs text-slate-600 space-y-1 mb-3">${p}</ul>
        `:""}
        ${b?`
          <p class="text-xs font-medium text-slate-700 mb-1">Typographies :</p>
          <ul class="text-xs text-slate-600 space-y-1 mb-3 list-disc ml-4">${b}</ul>
        `:""}
        <div class="flex gap-2">
          <button 
            class="ai-apply-theme px-3 py-1.5 text-xs font-medium text-white bg-purple-600 hover:bg-purple-700 rounded-lg transition-colors flex items-center gap-1"
            data-proposal-id="${o.proposalId}"
          >
            <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
            </svg>
            Appliquer
          </button>
          <button 
            class="ai-reject-theme px-3 py-1.5 text-xs font-medium text-slate-600 bg-slate-100 hover:bg-slate-200 rounded-lg transition-colors flex items-center gap-1"
            data-proposal-id="${o.proposalId}"
          >
            <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
            </svg>
            Rejeter
          </button>
        </div>
      </div>
    `,Se.appendChild(a),Se.scrollTop=Se.scrollHeight,(R=a.querySelector(".ai-apply-theme"))==null||R.addEventListener("click",Un),(W=a.querySelector(".ai-reject-theme"))==null||W.addEventListener("click",Ro)}function Hn(o){return{white:"#ffffff",black:"#000000",transparent:"transparent","slate-50":"#f8fafc","slate-100":"#f1f5f9","slate-200":"#e2e8f0","slate-300":"#cbd5e1","slate-400":"#94a3b8","slate-500":"#64748b","slate-600":"#475569","slate-700":"#334155","slate-800":"#1e293b","slate-900":"#0f172a","gray-50":"#f9fafb","gray-100":"#f3f4f6","gray-200":"#e5e7eb","gray-300":"#d1d5db","gray-400":"#9ca3af","gray-500":"#6b7280","gray-600":"#4b5563","gray-700":"#374151","gray-800":"#1f2937","gray-900":"#111827","violet-50":"#f5f3ff","violet-100":"#ede9fe","violet-200":"#ddd6fe","violet-300":"#c4b5fd","violet-400":"#a78bfa","violet-500":"#8b5cf6","violet-600":"#7c3aed","violet-700":"#6d28d9","violet-800":"#5b21b6","violet-900":"#4c1d95","purple-50":"#faf5ff","purple-100":"#f3e8ff","purple-200":"#e9d5ff","purple-300":"#d8b4fe","purple-400":"#c084fc","purple-500":"#a855f7","purple-600":"#9333ea","purple-700":"#7e22ce","purple-800":"#6b21a8","purple-900":"#581c87","blue-50":"#eff6ff","blue-100":"#dbeafe","blue-200":"#bfdbfe","blue-300":"#93c5fd","blue-400":"#60a5fa","blue-500":"#3b82f6","blue-600":"#2563eb","blue-700":"#1d4ed8","blue-800":"#1e40af","blue-900":"#1e3a8a","emerald-50":"#ecfdf5","emerald-100":"#d1fae5","emerald-200":"#a7f3d0","emerald-300":"#6ee7b7","emerald-400":"#34d399","emerald-500":"#10b981","emerald-600":"#059669","emerald-700":"#047857","emerald-800":"#065f46","emerald-900":"#064e3b","teal-50":"#f0fdfa","teal-100":"#ccfbf1","teal-200":"#99f6e4","teal-300":"#5eead4","teal-400":"#2dd4bf","teal-500":"#14b8a6","teal-600":"#0d9488","teal-700":"#0f766e","teal-800":"#115e59","teal-900":"#134e4a","amber-50":"#fffbeb","amber-100":"#fef3c7","amber-200":"#fde68a","amber-300":"#fcd34d","amber-400":"#fbbf24","amber-500":"#f59e0b","amber-600":"#d97706","amber-700":"#b45309","amber-800":"#92400e","amber-900":"#78350f","red-50":"#fef2f2","red-100":"#fee2e2","red-200":"#fecaca","red-300":"#fca5a5","red-400":"#f87171","red-500":"#ef4444","red-600":"#dc2626","red-700":"#b91c1c","red-800":"#991b1b","red-900":"#7f1d1d"}[o]||"#9C6BFF"}async function Un(o){var h;let a=(h=o.target.closest("[data-proposal-id]"))==null?void 0:h.dataset.proposalId,p=Ce(Y.slug||"");if(!a||!p)return;let b=o.target.closest("button");b.disabled=!0,b.innerHTML='<span class="animate-spin">\u23F3</span> Application...';try{let x=await fetch(`/api/sites/${encodeURIComponent(p)}/ai/apply-theme`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({proposalId:a})}),R=await x.json();if(x.ok&&R.success){let W=document.querySelector(`[data-proposal-id="${a}"]`);W&&(W.innerHTML=`
            <div class="w-8 h-8 rounded-full bg-purple-500 flex-shrink-0 flex items-center justify-center">
              <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
              </svg>
            </div>
            <div class="flex-1 bg-purple-50 border border-purple-200 rounded-2xl rounded-tl-none p-3">
              <p class="text-sm text-purple-700">\u2705 Th\xE8me mis \xE0 jour avec succ\xE8s !</p>
              <p class="text-xs text-purple-600 mt-1">Rechargez la preview pour voir les changements.</p>
            </div>
          `),$("Th\xE8me mis \xE0 jour !"),document.dispatchEvent(new CustomEvent("ai-theme-updated",{detail:{updatedTheme:R.updatedTheme}}))}else throw new Error(R.message||"Erreur lors de l'application")}catch(x){b.disabled=!1,b.innerHTML='<svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg> R\xE9essayer',$(`Erreur: ${x.message}`)}}async function Rn(o){var h,x;let a=(h=o.target.closest("[data-proposal-id]"))==null?void 0:h.dataset.proposalId,p=Ce(Y.slug||"");if(!a||!p)return;let b=o.target.closest("button");b.disabled=!0,b.innerHTML='<span class="animate-spin">\u23F3</span> Application...';try{let R=await fetch(`/api/sites/${encodeURIComponent(p)}/ai/apply-edit`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({proposalId:a})}),W=await R.json();if(R.ok&&W.success){let U=document.querySelector(`[data-proposal-id="${a}"]`);U&&(U.innerHTML=`
            <div class="w-8 h-8 rounded-full bg-emerald-500 flex-shrink-0 flex items-center justify-center">
              <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
              </svg>
            </div>
            <div class="flex-1 bg-emerald-50 border border-emerald-200 rounded-2xl rounded-tl-none p-3">
              <p class="text-sm text-emerald-700">\u2705 Modifications appliqu\xE9es avec succ\xE8s !</p>
              <p class="text-xs text-emerald-600 mt-1">La preview se met \xE0 jour automatiquement.</p>
            </div>
          `),$("Modifications appliqu\xE9es !");let oe=((x=W.updatedPage)==null?void 0:x.id)||null;document.dispatchEvent(new CustomEvent("ai-page-updated",{detail:{pageId:oe,updatedPage:W.updatedPage}}))}else throw new Error(W.message||"Erreur lors de l'application")}catch(R){b.disabled=!1,b.innerHTML='<svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg> R\xE9essayer',$(`Erreur: ${R.message}`)}}async function Ro(o){var b;let a=(b=o.target.closest("[data-proposal-id]"))==null?void 0:b.dataset.proposalId,p=Ce(Y.slug||"");if(!(!a||!p))try{await fetch(`/api/sites/${encodeURIComponent(p)}/ai/proposal/${a}`,{method:"DELETE"});let h=document.querySelector(`[data-proposal-id="${a}"]`);h&&(h.innerHTML=`
          <div class="w-8 h-8 rounded-full bg-slate-400 flex-shrink-0 flex items-center justify-center">
            <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
            </svg>
          </div>
          <div class="flex-1 bg-slate-100 rounded-2xl rounded-tl-none p-3">
            <p class="text-sm text-slate-500">Proposition rejet\xE9e.</p>
          </div>
        `)}catch(h){console.error("[AI] Reject edit error:",h)}}async function On(){let o=Ce(Y.slug||"");if(!(!o||!Se))try{await fetch(`/api/sites/${encodeURIComponent(o)}/ai/history`,{method:"DELETE"}),Se.innerHTML="",Se.innerHTML=`
        <div class="flex gap-3" data-ai-welcome>
          <div class="w-8 h-8 rounded-full bg-gradient-to-br from-violet-500 to-indigo-600 flex-shrink-0 flex items-center justify-center">
            <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
            </svg>
          </div>
          <div class="flex-1 bg-slate-50 rounded-2xl rounded-tl-none p-3">
            <p class="text-sm text-slate-700">
              Salut ! \u{1F44B} Je suis ton assistant IA pour ce site. Je peux t'aider \xE0 :
            </p>
            <ul class="mt-2 text-sm text-slate-600 space-y-1">
              <li>\u{1F3A8} Sugg\xE9rer des palettes de couleurs</li>
              <li>\u270D\uFE0F G\xE9n\xE9rer du contenu pour tes blocs</li>
              <li>\u{1F4C4} Cr\xE9er des structures de pages</li>
              <li>\u{1F50D} Am\xE9liorer ton SEO</li>
              <li>\u270F\uFE0F <strong>Analyser et modifier tes pages</strong> (avec validation)</li>
            </ul>
          </div>
        </div>
      `,$("Historique effac\xE9")}catch(a){console.error("[AI] Clear history failed:",a),$("Erreur lors de l'effacement")}}let zn={colors:"Sugg\xE8re-moi 3 palettes de couleurs harmonieuses pour mon site. Pour chaque palette, donne les couleurs Tailwind: primary, secondary, accent, et background.",hero:"G\xE9n\xE8re un bloc Hero en JSON avec un titre accrocheur, un sous-titre engageant et un CTA.",seo:"Analyse mon site et sugg\xE8re des am\xE9liorations SEO pour le meta title et la meta description de ma page d'accueil.",landing:"G\xE9n\xE8re la structure JSON d'une landing page compl\xE8te avec: Hero, 3 sections de contenu, et un CTA final.",analyze:"Analyse le contenu de toutes mes pages et propose des am\xE9liorations concr\xE8tes. Pour chaque suggestion d'am\xE9lioration de texte ou de structure, utilise le format propose-edit pour que je puisse valider.",improveHome:"Analyse ma page d'accueil et propose une am\xE9lioration du titre ou du Hero pour le rendre plus impactant. Utilise le format propose-edit."};io==null||io.addEventListener("click",()=>{js?Bs():jn()}),lo==null||lo.addEventListener("click",Bs),Xe==null||Xe.addEventListener("click",Bs),co==null||co.addEventListener("click",()=>{confirm("Effacer tout l'historique de conversation ?")&&On()}),uo==null||uo.addEventListener("submit",o=>{var p;o.preventDefault();let a=(p=Lt==null?void 0:Lt.value)==null?void 0:p.trim();a&&(Lt.value="",Uo(a))}),In.forEach(o=>{o.addEventListener("click",()=>{let a=o.dataset.aiQuick,p=zn[a];p&&Uo(p)})}),document.addEventListener("keydown",o=>{o.key==="Escape"&&js&&Bs()})});})();
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vY29yZS9zY3JpcHRzL2FkbWluLmpzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuICBjb25zb2xlLmxvZygnW2FkbWluXSBBdGVsaWVyIGNoYXJnXHUwMEU5Jyk7XG4gIGNvbnN0IGxvZ291dEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWxvZ291dF0nKTtcbiAgaWYgKGxvZ291dEJ1dHRvbikge1xuICAgIGxvZ291dEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGxvZ291dEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBmZXRjaCgnL2FwaS9sb2dvdXQnLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbYWRtaW5dIEltcG9zc2libGUgZGUgc2UgZFx1MDBFOWNvbm5lY3RlcicsIGVycik7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvYWRtaW4vaW5kZXguaHRtbCc7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBjb25zdCBzaWRlYmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRtaW4tc2lkZWJhcl0nKTtcbiAgY29uc3Qgc2lkZWJhck92ZXJsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZG1pbi1zaWRlYmFyLW92ZXJsYXldJyk7XG4gIGNvbnN0IHNpZGViYXJUb2dnbGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYWRtaW4tc2lkZWJhci10b2dnbGVdJyk7XG4gIGNvbnN0IHNpZGViYXJDbG9zZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1hZG1pbi1zaWRlYmFyLWNsb3NlXScpO1xuICBjb25zdCBib2R5ID0gZG9jdW1lbnQuYm9keTtcbiAgbGV0IHNpZGViYXJPcGVuID0gZmFsc2U7XG5cbiAgY29uc3QgYXBwbHlTaWRlYmFyU3RhdGUgPSAoKSA9PiB7XG4gICAgaWYgKCFzaWRlYmFyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGlzRGVza3RvcCA9IHdpbmRvdy5tYXRjaE1lZGlhKCcobWluLXdpZHRoOiAxMDI0cHgpJykubWF0Y2hlcztcbiAgICBpZiAoaXNEZXNrdG9wKSB7XG4gICAgICBzaWRlYmFyLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgc2lkZWJhck92ZXJsYXk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHNpZGViYXJPcGVuKSB7XG4gICAgICBzaWRlYmFyLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgc2lkZWJhck92ZXJsYXk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgYm9keS5jbGFzc0xpc3QuYWRkKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2lkZWJhci5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIHNpZGViYXJPdmVybGF5Py5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnb3ZlcmZsb3ctaGlkZGVuJyk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IG9wZW5TaWRlYmFyID0gKCkgPT4ge1xuICAgIHNpZGViYXJPcGVuID0gdHJ1ZTtcbiAgICBhcHBseVNpZGViYXJTdGF0ZSgpO1xuICB9O1xuXG4gIGNvbnN0IGNsb3NlU2lkZWJhciA9ICgpID0+IHtcbiAgICBzaWRlYmFyT3BlbiA9IGZhbHNlO1xuICAgIGFwcGx5U2lkZWJhclN0YXRlKCk7XG4gIH07XG5cbiAgaWYgKHNpZGViYXIgJiYgc2lkZWJhclRvZ2dsZXMubGVuZ3RoID4gMCkge1xuICAgIHNpZGViYXJUb2dnbGVzLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlblNpZGViYXIpO1xuICAgIH0pO1xuICAgIHNpZGViYXJDbG9zZUJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZVNpZGViYXIpO1xuICAgIH0pO1xuICAgIHNpZGViYXJPdmVybGF5Py5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlU2lkZWJhcik7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGFwcGx5U2lkZWJhclN0YXRlKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VzY2FwZScgJiYgc2lkZWJhck9wZW4pIHtcbiAgICAgICAgY2xvc2VTaWRlYmFyKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgYXBwbHlTaWRlYmFyU3RhdGUoKTtcbiAgfVxuXG4gIGNvbnN0IEFDVElWRV9TSVRFX0tFWSA9ICdjbG93ZXI6Y3VycmVudFNpdGUnO1xuICBjb25zdCBBQ1RJVkVfU0lURV9OQU1FX0tFWSA9ICdjbG93ZXI6Y3VycmVudFNpdGVOYW1lJztcbiAgY29uc3Qgc3RvcmVkU2l0ZSA9IHsgc2x1ZzogbnVsbCwgbmFtZTogJycgfTtcbiAgY29uc3QgbG9hZFN0b3JlZFNpdGUgPSAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHN0b3JlZFNpdGUuc2x1ZyA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShBQ1RJVkVfU0lURV9LRVkpO1xuICAgICAgc3RvcmVkU2l0ZS5uYW1lID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKEFDVElWRV9TSVRFX05BTUVfS0VZKSB8fCAnJztcbiAgICB9IGNhdGNoIHtcbiAgICAgIHN0b3JlZFNpdGUuc2x1ZyA9IG51bGw7XG4gICAgICBzdG9yZWRTaXRlLm5hbWUgPSAnJztcbiAgICB9XG4gIH07XG4gIGxvYWRTdG9yZWRTaXRlKCk7XG5cbiAgY29uc3Qgc2l0ZUNhcmRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtc2l0ZS1jYXJkXScpO1xuICBjb25zdCBzaXRlU2VsZWN0QnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXNpdGUtc2VsZWN0XScpO1xuICBjb25zdCBzaXRlTmFtZUxhYmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY3VycmVudC1zaXRlLW5hbWVdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZVNpdGVMYWJlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXdvcmtzcGFjZS1zaXRlLW5hbWVdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZUJhY2tOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtd29ya3NwYWNlLWJhY2stbmFtZV0nKTtcbiAgY29uc3Qgd29ya3NwYWNlQmFja01vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtd29ya3NwYWNlLWJhY2stbW9kYWxdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZUJhY2tCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtd29ya3NwYWNlLWJhY2tdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZUJhY2tDYW5jZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS13b3Jrc3BhY2UtYmFjay1jYW5jZWxdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZUJhY2tDb25maXJtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtd29ya3NwYWNlLWJhY2stY29uZmlybV0nKTtcbiAgY29uc3Qgd29ya3NwYWNlTmF2TGlua3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS13b3Jrc3BhY2UtdGFiXScpO1xuICBjb25zdCBzaXRlVG9hc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLXRvYXN0XScpO1xuICBjb25zdCBzaXRlVG9hc3RNZXNzYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS10b2FzdC1tZXNzYWdlXScpO1xuICBjb25zdCBzaXRlQ3JlYXRlQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXNpdGUtY3JlYXRlXScpO1xuICBjb25zdCBzaXRlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLW1vZGFsXScpO1xuICBjb25zdCBzaXRlRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtZm9ybV0nKTtcbiAgLy8gVXNlIG1vcmUgc3BlY2lmaWMgc2VsZWN0b3JzIHRvIGdldCBpbnB1dHMgSU5TSURFIHRoZSBmb3JtLCBub3Qgc2l0ZSBjYXJkc1xuICBjb25zdCBzaXRlTmFtZUlucHV0ID0gc2l0ZUZvcm0/LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9XCJzaXRlTmFtZVwiXScpO1xuICBjb25zdCBzaXRlU2x1Z0lucHV0ID0gc2l0ZUZvcm0/LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9XCJzaXRlU2x1Z1wiXScpO1xuICBjb25zdCBzaXRlU2x1Z0Vycm9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS1zbHVnLWVycm9yXScpO1xuICBjb25zdCBzaXRlTW9kYWxFcnJvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtbW9kYWwtZXJyb3JdJyk7XG4gIGNvbnN0IHNpdGVNb2RhbENhbmNlbEJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1zaXRlLW1vZGFsLWNhbmNlbF0nKTtcbiAgY29uc3Qgc2l0ZU1vZGFsU3VibWl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS1tb2RhbC1zdWJtaXRdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZUNvbnRleHQgPSBnZXRXb3Jrc3BhY2VDb250ZXh0KCk7XG4gIGxldCBzbHVnTWFudWFsbHlFZGl0ZWQgPSBmYWxzZTtcbiAgbGV0IHRvYXN0VGltZW91dElkID0gbnVsbDtcblxuICBjb25zdCBmb2N1c2FibGVTZWxlY3RvciA9XG4gICAgJ2FbaHJlZl0sIGJ1dHRvbjpub3QoW2Rpc2FibGVkXSksIHRleHRhcmVhLCBpbnB1dCwgc2VsZWN0LCBbdGFiaW5kZXhdOm5vdChbdGFiaW5kZXg9XCItMVwiXSknO1xuICBjb25zdCBtb2RhbFN0YWNrID0gW107XG4gIGNvbnN0IGdldEZvY3VzYWJsZUVsZW1lbnRzID0gKG1vZGFsKSA9PlxuICAgIEFycmF5LmZyb20obW9kYWwucXVlcnlTZWxlY3RvckFsbChmb2N1c2FibGVTZWxlY3RvcikpLmZpbHRlcihcbiAgICAgIChlbCkgPT4gIWVsLmhhc0F0dHJpYnV0ZSgnZGlzYWJsZWQnKSAmJiAhZWwuZ2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicpLFxuICAgICk7XG4gIGNvbnN0IGhhbmRsZU1vZGFsS2V5ZG93biA9IChldmVudCkgPT4ge1xuICAgIGlmICghbW9kYWxTdGFjay5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgY3VycmVudEVudHJ5ID0gbW9kYWxTdGFja1ttb2RhbFN0YWNrLmxlbmd0aCAtIDFdO1xuICAgIGNvbnN0IHsgbW9kYWwsIG9uQ2xvc2UgfSA9IGN1cnJlbnRFbnRyeTtcbiAgICBpZiAoZXZlbnQua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIG9uQ2xvc2U/LigpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoZXZlbnQua2V5ICE9PSAnVGFiJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBmb2N1c2FibGVFbGVtZW50cyA9IGdldEZvY3VzYWJsZUVsZW1lbnRzKG1vZGFsKTtcbiAgICBpZiAoIWZvY3VzYWJsZUVsZW1lbnRzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBmaXJzdCA9IGZvY3VzYWJsZUVsZW1lbnRzWzBdO1xuICAgIGNvbnN0IGxhc3QgPSBmb2N1c2FibGVFbGVtZW50c1tmb2N1c2FibGVFbGVtZW50cy5sZW5ndGggLSAxXTtcbiAgICBpZiAoZXZlbnQuc2hpZnRLZXkpIHtcbiAgICAgIGlmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSBmaXJzdCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBsYXN0LmZvY3VzKCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSBsYXN0KSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZmlyc3QuZm9jdXMoKTtcbiAgICB9XG4gIH07XG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVNb2RhbEtleWRvd24pO1xuICBjb25zdCBhY3RpdmF0ZU1vZGFsID0gKG1vZGFsLCBvbkNsb3NlKSA9PiB7XG4gICAgaWYgKCFtb2RhbCkgcmV0dXJuO1xuICAgIG1vZGFsU3RhY2sucHVzaCh7XG4gICAgICBtb2RhbCxcbiAgICAgIG9uQ2xvc2UsXG4gICAgICB0cmlnZ2VyOiBkb2N1bWVudC5hY3RpdmVFbGVtZW50IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgPyBkb2N1bWVudC5hY3RpdmVFbGVtZW50IDogbnVsbCxcbiAgICB9KTtcbiAgICBjb25zdCBmb2N1c2FibGUgPSBnZXRGb2N1c2FibGVFbGVtZW50cyhtb2RhbCk7XG4gICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgKGZvY3VzYWJsZVswXSB8fCBtb2RhbCkuZm9jdXM/LigpO1xuICAgIH0sIDApO1xuICB9O1xuICBjb25zdCBkZWFjdGl2YXRlTW9kYWwgPSAobW9kYWwpID0+IHtcbiAgICBjb25zdCBpbmRleCA9IG1vZGFsU3RhY2suZmluZEluZGV4KChlbnRyeSkgPT4gZW50cnkubW9kYWwgPT09IG1vZGFsKTtcbiAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IFtlbnRyeV0gPSBtb2RhbFN0YWNrLnNwbGljZShpbmRleCwgMSk7XG4gICAgZW50cnkudHJpZ2dlcj8uZm9jdXM/LigpO1xuICB9O1xuXG4gIGNvbnN0IHNob3dUb2FzdCA9IChtZXNzYWdlKSA9PiB7XG4gICAgaWYgKCFzaXRlVG9hc3QgfHwgIXNpdGVUb2FzdE1lc3NhZ2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2l0ZVRvYXN0TWVzc2FnZS50ZXh0Q29udGVudCA9IG1lc3NhZ2U7XG4gICAgc2l0ZVRvYXN0LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgIGlmICh0b2FzdFRpbWVvdXRJZCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRvYXN0VGltZW91dElkKTtcbiAgICB9XG4gICAgdG9hc3RUaW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHNpdGVUb2FzdC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICB9LCAyNTAwKTtcbiAgfTtcblxuICBmdW5jdGlvbiBlbnN1cmVMZWFkaW5nU2xhc2goc2x1Zykge1xuICAgIGlmICghc2x1Zykge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICByZXR1cm4gc2x1Zy5zdGFydHNXaXRoKCcvJykgPyBzbHVnIDogYC8ke3NsdWd9YDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHN0cmlwTGVhZGluZ1NsYXNoKHNsdWcpIHtcbiAgICByZXR1cm4gc2x1Zz8ucmVwbGFjZSgvXlxcLy8sICcnKSB8fCAnJztcbiAgfVxuXG4gIGNvbnN0IHBlcnNpc3RTaXRlU3RhdGUgPSAoc2x1ZywgbmFtZSkgPT4ge1xuICAgIGNvbnN0IG5vcm1hbGl6ZWRTbHVnID0gc2x1ZyA/IGVuc3VyZUxlYWRpbmdTbGFzaChzbHVnKSA6IG51bGw7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChub3JtYWxpemVkU2x1Zykge1xuICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oQUNUSVZFX1NJVEVfS0VZLCBub3JtYWxpemVkU2x1Zyk7XG4gICAgICAgIHN0b3JlZFNpdGUuc2x1ZyA9IG5vcm1hbGl6ZWRTbHVnO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBuYW1lID09PSAnc3RyaW5nJyAmJiBuYW1lLmxlbmd0aCA+IDApIHtcbiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKEFDVElWRV9TSVRFX05BTUVfS0VZLCBuYW1lKTtcbiAgICAgICAgc3RvcmVkU2l0ZS5uYW1lID0gbmFtZTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIHtcbiAgICAgIHN0b3JlZFNpdGUuc2x1ZyA9IG5vcm1hbGl6ZWRTbHVnIHx8IHN0b3JlZFNpdGUuc2x1ZztcbiAgICAgIHN0b3JlZFNpdGUubmFtZSA9IG5hbWUgfHwgc3RvcmVkU2l0ZS5uYW1lO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCB1cGRhdGVTaXRlTGFiZWxzID0gKG5hbWUpID0+IHtcbiAgICBpZiAoc2l0ZU5hbWVMYWJlbCAmJiBuYW1lKSB7XG4gICAgICBzaXRlTmFtZUxhYmVsLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICB9XG4gICAgaWYgKHdvcmtzcGFjZVNpdGVMYWJlbCAmJiBuYW1lKSB7XG4gICAgICB3b3Jrc3BhY2VTaXRlTGFiZWwudGV4dENvbnRlbnQgPSBuYW1lO1xuICAgIH1cbiAgICBpZiAod29ya3NwYWNlQmFja05hbWUgJiYgbmFtZSkge1xuICAgICAgd29ya3NwYWNlQmFja05hbWUudGV4dENvbnRlbnQgPSBuYW1lO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCB1cGRhdGVXb3Jrc3BhY2VOYXZMaW5rcyA9IChzbHVnKSA9PiB7XG4gICAgd29ya3NwYWNlTmF2TGlua3MuZm9yRWFjaCgobGluaykgPT4ge1xuICAgICAgY29uc3QgdGFiID0gbGluay5kYXRhc2V0LndvcmtzcGFjZVRhYjtcbiAgICAgIGlmICghdGFiKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghc2x1Zykge1xuICAgICAgICBsaW5rLmhyZWYgPSAnIyc7XG4gICAgICAgIGxpbmsuY2xhc3NMaXN0LmFkZCgncG9pbnRlci1ldmVudHMtbm9uZScsICdvcGFjaXR5LTUwJywgJ3RleHQtc2xhdGUtNDAwJyk7XG4gICAgICAgIGxpbmsuc2V0QXR0cmlidXRlKCdhcmlhLWRpc2FibGVkJywgJ3RydWUnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3Qgc2x1Z1BhdGggPSBlbmNvZGVVUklDb21wb25lbnQoc3RyaXBMZWFkaW5nU2xhc2goc2x1ZykpO1xuICAgICAgbGluay5ocmVmID0gYC9hZG1pbi9zaXRlLyR7c2x1Z1BhdGh9LyR7dGFifWA7XG4gICAgICBsaW5rLmNsYXNzTGlzdC5yZW1vdmUoJ3BvaW50ZXItZXZlbnRzLW5vbmUnLCAnb3BhY2l0eS01MCcsICd0ZXh0LXNsYXRlLTQwMCcpO1xuICAgICAgbGluay5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtZGlzYWJsZWQnKTtcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBhcHBseUFjdGl2ZVNpdGUgPSAoc2x1Zywgb3B0aW9ucyA9IHt9KSA9PiB7XG4gICAgaWYgKCFzbHVnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG5vcm1hbGl6ZWRTbHVnID0gZW5zdXJlTGVhZGluZ1NsYXNoKHNsdWcpO1xuICAgIGxldCBhY3RpdmVTaXRlTmFtZSA9XG4gICAgICBvcHRpb25zLnNpdGVOYW1lIHx8IHN0b3JlZFNpdGUubmFtZSB8fCBzaXRlTmFtZUxhYmVsPy5kYXRhc2V0LmRlZmF1bHRTaXRlTmFtZSB8fCAnJztcbiAgICBzaXRlQ2FyZHMuZm9yRWFjaCgoY2FyZCkgPT4ge1xuICAgICAgY29uc3QgY2FyZFNsdWcgPSBlbnN1cmVMZWFkaW5nU2xhc2goY2FyZC5kYXRhc2V0LnNpdGVDYXJkIHx8ICcnKTtcbiAgICAgIGNvbnN0IGlzQWN0aXZlID0gY2FyZFNsdWcgPT09IG5vcm1hbGl6ZWRTbHVnO1xuICAgICAgY29uc3QgYmFkZ2UgPSBjYXJkLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtYWN0aXZlLWJhZGdlXScpO1xuICAgICAgaWYgKGlzQWN0aXZlKSB7XG4gICAgICAgIGNhcmQuY2xhc3NMaXN0LmFkZCgnYm9yZGVyLVsjOUM2QkZGXScsICdyaW5nLTInLCAncmluZy1bIzlDNkJGRl0nLCAnc2hhZG93LW1kJyk7XG4gICAgICAgIGNhcmQuY2xhc3NMaXN0LnJlbW92ZSgnYm9yZGVyLXNsYXRlLTIwMCcpO1xuICAgICAgICBiYWRnZT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIGFjdGl2ZVNpdGVOYW1lID0gY2FyZC5kYXRhc2V0LnNpdGVOYW1lIHx8IGFjdGl2ZVNpdGVOYW1lO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FyZC5jbGFzc0xpc3QucmVtb3ZlKCdib3JkZXItWyM5QzZCRkZdJywgJ3JpbmctMicsICdyaW5nLVsjOUM2QkZGXScsICdzaGFkb3ctbWQnKTtcbiAgICAgICAgY2FyZC5jbGFzc0xpc3QuYWRkKCdib3JkZXItc2xhdGUtMjAwJyk7XG4gICAgICAgIGJhZGdlPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAob3B0aW9ucy5wZXJzaXN0ICE9PSBmYWxzZSkge1xuICAgICAgcGVyc2lzdFNpdGVTdGF0ZShub3JtYWxpemVkU2x1Zywgb3B0aW9ucy5zaXRlTmFtZSB8fCBhY3RpdmVTaXRlTmFtZSk7XG4gICAgfVxuICAgIGNvbnN0IGZpbmFsTmFtZSA9IG9wdGlvbnMuc2l0ZU5hbWUgfHwgYWN0aXZlU2l0ZU5hbWU7XG4gICAgdXBkYXRlU2l0ZUxhYmVscyhmaW5hbE5hbWUpO1xuICAgIHVwZGF0ZVdvcmtzcGFjZU5hdkxpbmtzKG5vcm1hbGl6ZWRTbHVnKTtcbiAgfTtcblxuICBjb25zdCBzZWxlY3RTaXRlID0gYXN5bmMgKHNsdWcsIG5hbWUpID0+IHtcbiAgICBjb25zdCBub3JtYWxpemVkU2x1ZyA9IGVuc3VyZUxlYWRpbmdTbGFzaChzbHVnKTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9zaXRlcy9zZWxlY3QnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBzbHVnOiBub3JtYWxpemVkU2x1ZyB9KSxcbiAgICAgIH0pO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICBzaG93VG9hc3QocGF5bG9hZC5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIHNcdTAwRTlsZWN0aW9ubmVyIGNlIHNpdGUuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICBjb25zdCBmaW5hbFNsdWcgPSBlbnN1cmVMZWFkaW5nU2xhc2gocGF5bG9hZC5zbHVnIHx8IG5vcm1hbGl6ZWRTbHVnKTtcbiAgICAgIGNvbnN0IGZpbmFsTmFtZSA9IHBheWxvYWQubmFtZSB8fCBuYW1lO1xuICAgICAgcGVyc2lzdFNpdGVTdGF0ZShmaW5hbFNsdWcsIGZpbmFsTmFtZSk7XG4gICAgICBhcHBseUFjdGl2ZVNpdGUoZmluYWxTbHVnLCB7IHNpdGVOYW1lOiBmaW5hbE5hbWUsIHBlcnNpc3Q6IGZhbHNlIH0pO1xuICAgICAgY29uc3Qgc2x1Z1BhdGggPSBlbmNvZGVVUklDb21wb25lbnQoc3RyaXBMZWFkaW5nU2xhc2goZmluYWxTbHVnKSk7XG4gICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGAvYWRtaW4vc2l0ZS8ke3NsdWdQYXRofS9kZXNpZ25gO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignW2FkbWluXSBJbXBvc3NpYmxlIGRlIHNcdTAwRTlsZWN0aW9ubmVyIGxlIHNpdGUnLCBlcnIpO1xuICAgICAgc2hvd1RvYXN0KCdFcnJldXIgaW5hdHRlbmR1ZSBsb3JzIGRlIGxhIHNcdTAwRTlsZWN0aW9uLicpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBzeW5jQWN0aXZlU2l0ZUZyb21TZXJ2ZXIgPSBhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvc2l0ZXMvY3VycmVudCcsIHsgY3JlZGVudGlhbHM6ICdzYW1lLW9yaWdpbicgfSk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwNCAmJiB3b3Jrc3BhY2VDb250ZXh0KSB7XG4gICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnL2FkbWluL3NpdGVzJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBzaXRlID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgY29uc3Qgbm9ybWFsaXplZFNsdWcgPSBlbnN1cmVMZWFkaW5nU2xhc2goc2l0ZS5zbHVnKTtcbiAgICAgIHBlcnNpc3RTaXRlU3RhdGUobm9ybWFsaXplZFNsdWcsIHNpdGUubmFtZSk7XG4gICAgICBhcHBseUFjdGl2ZVNpdGUobm9ybWFsaXplZFNsdWcsIHsgc2l0ZU5hbWU6IHNpdGUubmFtZSwgcGVyc2lzdDogZmFsc2UgfSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ1thZG1pbl0gSW1wb3NzaWJsZSBkZSByXHUwMEU5Y3VwXHUwMEU5cmVyIGxlIHNpdGUgYWN0aWYnLCBlcnIpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoaWdobGlnaHRGcm9tU3RvcmFnZU9yRGVmYXVsdCA9ICgpID0+IHtcbiAgICBpZiAoc3RvcmVkU2l0ZS5zbHVnKSB7XG4gICAgICBhcHBseUFjdGl2ZVNpdGUoc3RvcmVkU2l0ZS5zbHVnLCB7IHNpdGVOYW1lOiBzdG9yZWRTaXRlLm5hbWUsIHBlcnNpc3Q6IGZhbHNlIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBkZWZhdWx0Q2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtY2FyZF1bZGF0YS1zaXRlLWRlZmF1bHQ9XCJ0cnVlXCJdJykgfHwgc2l0ZUNhcmRzWzBdO1xuICAgIGlmIChkZWZhdWx0Q2FyZCkge1xuICAgICAgYXBwbHlBY3RpdmVTaXRlKGRlZmF1bHRDYXJkLmRhdGFzZXQuc2l0ZUNhcmQsIHtcbiAgICAgICAgc2l0ZU5hbWU6IGRlZmF1bHRDYXJkLmRhdGFzZXQuc2l0ZU5hbWUgfHwgJycsXG4gICAgICAgIHBlcnNpc3Q6IGZhbHNlLFxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIGhpZ2hsaWdodEZyb21TdG9yYWdlT3JEZWZhdWx0KCk7XG4gIHN5bmNBY3RpdmVTaXRlRnJvbVNlcnZlcigpO1xuICBpZiAod29ya3NwYWNlQ29udGV4dCkge1xuICAgIHVwZGF0ZVdvcmtzcGFjZU5hdkxpbmtzKHdvcmtzcGFjZUNvbnRleHQuc2x1Z1ZhbHVlKTtcbiAgfSBlbHNlIGlmIChzdG9yZWRTaXRlLnNsdWcpIHtcbiAgICB1cGRhdGVXb3Jrc3BhY2VOYXZMaW5rcyhzdG9yZWRTaXRlLnNsdWcpO1xuICB9XG5cbiAgc2l0ZVNlbGVjdEJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgaWYgKGJ1dHRvbi5kaXNhYmxlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBzbHVnID0gYnV0dG9uLmRhdGFzZXQuc2l0ZVNlbGVjdDtcbiAgICAgIGNvbnN0IG5hbWUgPSBidXR0b24uZGF0YXNldC5zaXRlU2VsZWN0TmFtZSB8fCAnQ2Ugc2l0ZSc7XG4gICAgICBpZiAoIXNsdWcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIHNlbGVjdFNpdGUoc2x1ZywgbmFtZSkuZmluYWxseSgoKSA9PiB7XG4gICAgICAgIGJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGNvbnN0IHdvcmtzcGFjZVNsdWdpZnkgPSAodmFsdWUpID0+XG4gICAgKHZhbHVlIHx8ICcnKVxuICAgICAgLm5vcm1hbGl6ZSgnTkZEJylcbiAgICAgIC5yZXBsYWNlKC9bXFx1MDMwMC1cXHUwMzZmXS9nLCAnJylcbiAgICAgIC50b0xvd2VyQ2FzZSgpXG4gICAgICAucmVwbGFjZSgvW15hLXowLTldKy9nLCAnLScpXG4gICAgICAucmVwbGFjZSgvXi0rfC0rJC9nLCAnJyk7XG5cbiAgY29uc3Qgbm9ybWFsaXplU2x1Z1ZhbHVlID0gKHZhbHVlKSA9PiB7XG4gICAgY29uc3QgYmFzZSA9IHdvcmtzcGFjZVNsdWdpZnkodmFsdWUgfHwgJycpO1xuICAgIGlmICghYmFzZSkge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICByZXR1cm4gYC8ke2Jhc2V9YDtcbiAgfTtcblxuICBjb25zdCBvcGVuU2l0ZU1vZGFsID0gKCkgPT4ge1xuICAgIGlmICghc2l0ZU1vZGFsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHNpdGVNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICBzaXRlTW9kYWwuY2xhc3NMaXN0LmFkZCgnZmxleCcpO1xuICAgIHNsdWdNYW51YWxseUVkaXRlZCA9IGZhbHNlO1xuICAgIHNpdGVGb3JtPy5yZXNldCgpO1xuICAgIHNpdGVTbHVnRXJyb3IgJiYgKHNpdGVTbHVnRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgc2l0ZU1vZGFsRXJyb3IgJiYgKHNpdGVNb2RhbEVycm9yLnRleHRDb250ZW50ID0gJycpO1xuICAgIGlmIChzaXRlU2x1Z0lucHV0ICYmIHNpdGVOYW1lSW5wdXQpIHtcbiAgICAgIHNpdGVTbHVnSW5wdXQudmFsdWUgPSB3b3Jrc3BhY2VTbHVnaWZ5KHNpdGVOYW1lSW5wdXQudmFsdWUpO1xuICAgIH1cbiAgICBhY3RpdmF0ZU1vZGFsKHNpdGVNb2RhbCwgY2xvc2VTaXRlTW9kYWwpO1xuICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHNpdGVOYW1lSW5wdXQ/LmZvY3VzKCk7XG4gICAgfSwgMCk7XG4gIH07XG5cbiAgY29uc3QgY2xvc2VTaXRlTW9kYWwgPSAoKSA9PiB7XG4gICAgaWYgKCFzaXRlTW9kYWwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2l0ZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgIHNpdGVNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdmbGV4Jyk7XG4gICAgc2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gICAgc2l0ZUZvcm0/LnJlc2V0KCk7XG4gICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICBzaXRlTW9kYWxFcnJvciAmJiAoc2l0ZU1vZGFsRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgZGVhY3RpdmF0ZU1vZGFsKHNpdGVNb2RhbCk7XG4gIH07XG5cbiAgc2l0ZUNyZWF0ZUJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlblNpdGVNb2RhbCk7XG4gIH0pO1xuXG4gIHNpdGVNb2RhbENhbmNlbEJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VTaXRlTW9kYWwpO1xuICB9KTtcblxuICBzaXRlTW9kYWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gc2l0ZU1vZGFsKSB7XG4gICAgICBjbG9zZVNpdGVNb2RhbCgpO1xuICAgIH1cbiAgfSk7XG5cbiAgc2l0ZU5hbWVJbnB1dD8uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgaWYgKCFzaXRlU2x1Z0lucHV0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghc2x1Z01hbnVhbGx5RWRpdGVkIHx8IHNpdGVTbHVnSW5wdXQudmFsdWUudHJpbSgpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgc2l0ZVNsdWdJbnB1dC52YWx1ZSA9IHdvcmtzcGFjZVNsdWdpZnkoc2l0ZU5hbWVJbnB1dC52YWx1ZSk7XG4gICAgfVxuICAgIC8vIENsZWFyIGVycm9ycyB3aGVuIHVzZXIgdHlwZXNcbiAgICBzaXRlU2x1Z0Vycm9yICYmIChzaXRlU2x1Z0Vycm9yLnRleHRDb250ZW50ID0gJycpO1xuICAgIHNpdGVNb2RhbEVycm9yICYmIChzaXRlTW9kYWxFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgfSk7XG5cbiAgc2l0ZVNsdWdJbnB1dD8uYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCAoKSA9PiB7XG4gICAgLy8gQXV0by1maWxsIHNsdWcgZnJvbSBuYW1lIGlmIGVtcHR5IHdoZW4gdXNlciBmb2N1c2VzIHRoZSBzbHVnIGZpZWxkXG4gICAgY29uc3Qgc2x1Z1ZhbCA9IHNpdGVTbHVnSW5wdXQ/LnZhbHVlIHx8ICcnO1xuICAgIGNvbnN0IG5hbWVWYWwgPSBzaXRlTmFtZUlucHV0Py52YWx1ZSB8fCAnJztcbiAgICBpZiAoIXNsdWdWYWwudHJpbSgpICYmIG5hbWVWYWwudHJpbSgpKSB7XG4gICAgICBzaXRlU2x1Z0lucHV0LnZhbHVlID0gd29ya3NwYWNlU2x1Z2lmeShuYW1lVmFsKTtcbiAgICB9XG4gIH0pO1xuXG4gIHNpdGVTbHVnSW5wdXQ/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgIHNsdWdNYW51YWxseUVkaXRlZCA9IHRydWU7XG4gICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICBzaXRlTW9kYWxFcnJvciAmJiAoc2l0ZU1vZGFsRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gIH0pO1xuXG4gIGNvbnN0IGdldFNsdWdTZXQgPSAoKSA9PlxuICAgIG5ldyBTZXQoQXJyYXkuZnJvbShzaXRlQ2FyZHMpLm1hcCgoY2FyZCkgPT4gZW5zdXJlTGVhZGluZ1NsYXNoKGNhcmQuZGF0YXNldC5zaXRlQ2FyZCB8fCAnJykpKTtcblxuICBzaXRlRm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zb2xlLmxvZygnW2FkbWluXSBGb3JtIHN1Ym1pdCAtIHNpdGVOYW1lSW5wdXQ6Jywgc2l0ZU5hbWVJbnB1dCwgJ3NpdGVTbHVnSW5wdXQ6Jywgc2l0ZVNsdWdJbnB1dCk7XG4gICAgXG4gICAgaWYgKCFzaXRlTmFtZUlucHV0IHx8ICFzaXRlU2x1Z0lucHV0KSB7XG4gICAgICBjb25zb2xlLmxvZygnW2FkbWluXSBNaXNzaW5nIGlucHV0cywgYWJvcnRpbmcnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgbmFtZVZhbHVlID0gKHNpdGVOYW1lSW5wdXQudmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICBsZXQgc2x1Z1ZhbHVlID0gKHNpdGVTbHVnSW5wdXQudmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICBcbiAgICBjb25zb2xlLmxvZygnW2FkbWluXSBuYW1lVmFsdWU6JywgbmFtZVZhbHVlLCAnc2x1Z1ZhbHVlOicsIHNsdWdWYWx1ZSk7XG4gICAgXG4gICAgLy8gQXV0by1nZW5lcmF0ZSBzbHVnIGZyb20gbmFtZSBpZiBlbXB0eVxuICAgIGlmICghc2x1Z1ZhbHVlICYmIG5hbWVWYWx1ZSkge1xuICAgICAgc2x1Z1ZhbHVlID0gd29ya3NwYWNlU2x1Z2lmeShuYW1lVmFsdWUpO1xuICAgICAgc2l0ZVNsdWdJbnB1dC52YWx1ZSA9IHNsdWdWYWx1ZTtcbiAgICAgIGNvbnNvbGUubG9nKCdbYWRtaW5dIEF1dG8tZ2VuZXJhdGVkIHNsdWc6Jywgc2x1Z1ZhbHVlKTtcbiAgICB9XG4gICAgXG4gICAgY29uc3Qgbm9ybWFsaXplZFNsdWcgPSBub3JtYWxpemVTbHVnVmFsdWUoc2x1Z1ZhbHVlKTtcbiAgICBjb25zb2xlLmxvZygnW2FkbWluXSBub3JtYWxpemVkU2x1ZzonLCBub3JtYWxpemVkU2x1Zyk7XG4gICAgXG4gICAgLy8gVmFsaWRhdGUgbmFtZVxuICAgIGlmICghbmFtZVZhbHVlKSB7XG4gICAgICBjb25zb2xlLmxvZygnW2FkbWluXSBOYW1lIHZhbGlkYXRpb24gZmFpbGVkJyk7XG4gICAgICBzaXRlTW9kYWxFcnJvciAmJiAoc2l0ZU1vZGFsRXJyb3IudGV4dENvbnRlbnQgPSAnTGUgbm9tIGR1IHNpdGUgZXN0IHJlcXVpcy4nKTtcbiAgICAgIHNpdGVOYW1lSW5wdXQuZm9jdXMoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgLy8gVmFsaWRhdGUgc2x1Z1xuICAgIGlmICghbm9ybWFsaXplZFNsdWcpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdbYWRtaW5dIFNsdWcgdmFsaWRhdGlvbiBmYWlsZWQnKTtcbiAgICAgIHNpdGVTbHVnRXJyb3IgJiYgKHNpdGVTbHVnRXJyb3IudGV4dENvbnRlbnQgPSAnTGUgc2x1ZyBuZSBwZXV0IHBhcyBcdTAwRUF0cmUgdmlkZSBvdSBjb250ZW5pciB1bmlxdWVtZW50IGRlcyBjYXJhY3RcdTAwRThyZXMgc3BcdTAwRTljaWF1eC4nKTtcbiAgICAgIHNpdGVTbHVnSW5wdXQuZm9jdXMoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgZXhpc3RpbmdTbHVncyA9IGdldFNsdWdTZXQoKTtcbiAgICBpZiAoZXhpc3RpbmdTbHVncy5oYXMobm9ybWFsaXplZFNsdWcpKSB7XG4gICAgICBzaXRlU2x1Z0Vycm9yICYmIChzaXRlU2x1Z0Vycm9yLnRleHRDb250ZW50ID0gJ0NlIHNsdWcgZXN0IGRcdTAwRTlqXHUwMEUwIHV0aWxpc1x1MDBFOS4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICBzaXRlTW9kYWxFcnJvciAmJiAoc2l0ZU1vZGFsRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgaWYgKHNpdGVNb2RhbFN1Ym1pdEJ1dHRvbikge1xuICAgICAgc2l0ZU1vZGFsU3VibWl0QnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIHNpdGVNb2RhbFN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9ICdDclx1MDBFOWF0aW9uLi4uJztcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvc2l0ZXMnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBuYW1lOiBuYW1lVmFsdWUsIHNsdWc6IG5vcm1hbGl6ZWRTbHVnIH0pLFxuICAgICAgfSk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBwYXlsb2FkLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgY3JcdTAwRTllciBjZSBzaXRlLic7XG4gICAgICAgIHNpdGVNb2RhbEVycm9yICYmIChzaXRlTW9kYWxFcnJvci50ZXh0Q29udGVudCA9IG1lc3NhZ2UpO1xuICAgICAgICBpZiAocGF5bG9hZC5maWVsZCA9PT0gJ3NsdWcnKSB7XG4gICAgICAgICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9IG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNyZWF0ZWRTaXRlID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgY29uc3QgZmluYWxTbHVnID0gZW5zdXJlTGVhZGluZ1NsYXNoKGNyZWF0ZWRTaXRlPy5zbHVnIHx8IG5vcm1hbGl6ZWRTbHVnKTtcbiAgICAgIGNvbnN0IGZpbmFsTmFtZSA9IGNyZWF0ZWRTaXRlPy5uYW1lIHx8IG5hbWVWYWx1ZTtcbiAgICAgIHBlcnNpc3RTaXRlU3RhdGUoZmluYWxTbHVnLCBmaW5hbE5hbWUpO1xuICAgICAgY2xvc2VTaXRlTW9kYWwoKTtcbiAgICAgIGNvbnN0IHNsdWdQYXRoID0gZW5jb2RlVVJJQ29tcG9uZW50KHN0cmlwTGVhZGluZ1NsYXNoKGZpbmFsU2x1ZykpO1xuICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBgL2FkbWluL3NpdGUvJHtzbHVnUGF0aH0vZGVzaWduYDtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1thZG1pbl0gSW1wb3NzaWJsZSBkZSBjclx1MDBFOWVyIGxlIHNpdGUnLCBlcnIpO1xuICAgICAgc2l0ZU1vZGFsRXJyb3IgJiYgKHNpdGVNb2RhbEVycm9yLnRleHRDb250ZW50ID0gJ0VycmV1ciBpbmF0dGVuZHVlLiBSXHUwMEU5ZXNzYWllIGRhbnMgdW4gaW5zdGFudC4nKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKHNpdGVNb2RhbFN1Ym1pdEJ1dHRvbikge1xuICAgICAgICBzaXRlTW9kYWxTdWJtaXRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgc2l0ZU1vZGFsU3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gJ0NyXHUwMEU5ZXInO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZlbnQpID0+IHtcbiAgICBpZiAoZXZlbnQua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgaWYgKHNpdGVNb2RhbCAmJiAhc2l0ZU1vZGFsLmNsYXNzTGlzdC5jb250YWlucygnaGlkZGVuJykpIHtcbiAgICAgICAgY2xvc2VTaXRlTW9kYWwoKTtcbiAgICAgIH1cbiAgICAgIGlmICh3b3Jrc3BhY2VCYWNrTW9kYWwgJiYgIXdvcmtzcGFjZUJhY2tNb2RhbC5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpKSB7XG4gICAgICAgIGNsb3NlV29ya3NwYWNlQmFja01vZGFsKCk7XG4gICAgICB9XG4gICAgICBpZiAoYmxvY2tEZWxldGVNb2RhbCAmJiAhYmxvY2tEZWxldGVNb2RhbC5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpKSB7XG4gICAgICAgIGNsb3NlQmxvY2tEZWxldGVNb2RhbCgpO1xuICAgICAgfVxuICAgICAgaWYgKGJsb2NrTGlicmFyeU9wZW4pIHtcbiAgICAgICAgY2xvc2VCbG9ja0xpYnJhcnkoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIGdldFdvcmtzcGFjZUNvbnRleHQoKSB7XG4gICAgY29uc3QgbWF0Y2ggPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUubWF0Y2goL15cXC9hZG1pblxcL3NpdGVcXC8oW14vXSspKD86XFwvKFteL10rKSk/Lyk7XG4gICAgaWYgKCFtYXRjaCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBzbHVnUGFydDogZGVjb2RlVVJJQ29tcG9uZW50KG1hdGNoWzFdKSxcbiAgICAgIHNsdWdWYWx1ZTogZW5zdXJlTGVhZGluZ1NsYXNoKGRlY29kZVVSSUNvbXBvbmVudChtYXRjaFsxXSkpLFxuICAgICAgc2VjdGlvbjogbWF0Y2hbMl0gfHwgJ2Rlc2lnbicsXG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRldGVjdFdvcmtzcGFjZVNlY3Rpb24oKSB7XG4gICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXBhZ2UtbGlzdF0nKSkge1xuICAgICAgcmV0dXJuICdkZXNpZ24nO1xuICAgIH1cbiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29sbGVjdGlvbi1saXN0XScpKSB7XG4gICAgICByZXR1cm4gJ2NvbnRlbnQnO1xuICAgIH1cbiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZ3JpZF0nKSkge1xuICAgICAgcmV0dXJuICdtZWRpYSc7XG4gICAgfVxuICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktZm9ybV0nKSkge1xuICAgICAgcmV0dXJuICdkZXBsb3knO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9wZW5Xb3Jrc3BhY2VCYWNrTW9kYWwoKSB7XG4gICAgaWYgKCF3b3Jrc3BhY2VCYWNrTW9kYWwpIHtcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9hZG1pbi9zaXRlcyc7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHdvcmtzcGFjZUJhY2tNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICB3b3Jrc3BhY2VCYWNrTW9kYWwuY2xhc3NMaXN0LmFkZCgnZmxleCcpO1xuICAgIGFjdGl2YXRlTW9kYWwod29ya3NwYWNlQmFja01vZGFsLCBjbG9zZVdvcmtzcGFjZUJhY2tNb2RhbCk7XG4gIH1cblxuICBmdW5jdGlvbiBjbG9zZVdvcmtzcGFjZUJhY2tNb2RhbCgpIHtcbiAgICBpZiAoIXdvcmtzcGFjZUJhY2tNb2RhbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB3b3Jrc3BhY2VCYWNrTW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgd29ya3NwYWNlQmFja01vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2ZsZXgnKTtcbiAgICBkZWFjdGl2YXRlTW9kYWwod29ya3NwYWNlQmFja01vZGFsKTtcbiAgfVxuXG4gIHdvcmtzcGFjZUJhY2tCdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5Xb3Jrc3BhY2VCYWNrTW9kYWwpO1xuICB9KTtcbiAgd29ya3NwYWNlQmFja0NhbmNlbC5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZVdvcmtzcGFjZUJhY2tNb2RhbCk7XG4gIH0pO1xuICB3b3Jrc3BhY2VCYWNrQ29uZmlybT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgY2xvc2VXb3Jrc3BhY2VCYWNrTW9kYWwoKTtcbiAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvYWRtaW4vc2l0ZXMnO1xuICB9KTtcblxuICBjb25zdCBhY3RpdmVTZWN0aW9uID0gd29ya3NwYWNlQ29udGV4dD8uc2VjdGlvbiB8fCBkZXRlY3RXb3Jrc3BhY2VTZWN0aW9uKCk7XG5cbiAgaWYgKGFjdGl2ZVNlY3Rpb24gPT09ICdkZXNpZ24nKSB7XG4gICAgaW5pdERlc2lnbldvcmtzcGFjZSgpO1xuICB9XG4gIGlmIChhY3RpdmVTZWN0aW9uID09PSAnY29udGVudCcpIHtcbiAgICBpbml0Q29udGVudFdvcmtzcGFjZSgpO1xuICB9XG4gIGlmIChhY3RpdmVTZWN0aW9uID09PSAnbWVkaWEnKSB7XG4gICAgaW5pdE1lZGlhV29ya3NwYWNlKCk7XG4gIH1cbiAgaWYgKGFjdGl2ZVNlY3Rpb24gPT09ICdkZXBsb3knKSB7XG4gICAgaW5pdERlcGxveVdvcmtzcGFjZSgpO1xuICB9XG4gIGlmIChhY3RpdmVTZWN0aW9uID09PSAnc2V0dGluZ3MnKSB7XG4gICAgaW5pdFNldHRpbmdzV29ya3NwYWNlKCk7XG4gIH1cblxuICBpZiAod29ya3NwYWNlQ29udGV4dCAmJiBzdG9yZWRTaXRlLm5hbWUpIHtcbiAgICB1cGRhdGVTaXRlTGFiZWxzKHN0b3JlZFNpdGUubmFtZSk7XG4gIH1cblxuICBmdW5jdGlvbiBpbml0RGVzaWduV29ya3NwYWNlKCkge1xuICAgIGNvbnN0IHBhZ2VMaXN0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXBhZ2UtbGlzdF0nKTtcbiAgICBpZiAocGFnZUxpc3RzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBhY3RpdmVUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFjdGl2ZS1wYWdlLXRpdGxlXScpO1xuICAgIGNvbnN0IGFjdGl2ZVNsdWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hY3RpdmUtcGFnZS1zbHVnXScpO1xuICAgIGNvbnN0IHByZXZpZXdUYWdzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcmV2aWV3LXRhZ3NdJyk7XG4gICAgY29uc3QgcHJldmlld0ZyYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcmV2aWV3LWZyYW1lXScpO1xuICAgIGNvbnN0IHByZXZpZXdPcGVuQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcHJldmlldy1vcGVuXScpO1xuICAgIGNvbnN0IHByZXZpZXdTdGF0dXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wcmV2aWV3LXN0YXR1c10nKTtcbiAgICBjb25zdCBwcmV2aWV3SGlnaGxpZ2h0T3ZlcmxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXByZXZpZXctaGlnaGxpZ2h0XScpO1xuICAgIC8vIFNFTyBwYW5lbCBlbGVtZW50c1xuICAgIGNvbnN0IHNlb1RvZ2dsZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby10b2dnbGVdJyk7XG4gICAgY29uc3Qgc2VvUGFuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8tcGFuZWxdJyk7XG4gICAgY29uc3Qgc2VvQ2xvc2VCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8tY2xvc2VdJyk7XG4gICAgY29uc3Qgc2VvRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby1mb3JtXScpO1xuICAgIGNvbnN0IHNlb1RpdGxlSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8tdGl0bGVdJyk7XG4gICAgY29uc3Qgc2VvRGVzY3JpcHRpb25JbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby1kZXNjcmlwdGlvbl0nKTtcbiAgICBjb25zdCBzZW9JbmRleGVkQ2hlY2tib3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8taW5kZXhlZF0nKTtcbiAgICBjb25zdCBzZW9GZWVkYmFjayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby1mZWVkYmFja10nKTtcbiAgICBjb25zdCBzZW9TYXZlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2VvLXNhdmVdJyk7XG4gICAgY29uc3QgcGFnZUFjY2Vzc2liaWxpdHlUb2dnbGVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgJ1tkYXRhLXBhZ2UtYWNjZXNzaWJpbGl0eS10b2dnbGVdJyxcbiAgICApO1xuICAgIGNvbnN0IHBhZ2VBY2Nlc3NpYmlsaXR5UGFuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLWFjY2Vzc2liaWxpdHktcGFuZWxdJyk7XG4gICAgY29uc3QgcGFnZUFjY2Vzc2liaWxpdHlDbG9zZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAnW2RhdGEtcGFnZS1hY2Nlc3NpYmlsaXR5LWNsb3NlXScsXG4gICAgKTtcbiAgICBjb25zdCBwYWdlQWNjZXNzaWJpbGl0eUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLWFjY2Vzc2liaWxpdHktZm9ybV0nKTtcbiAgICBjb25zdCBwYWdlQWNjZXNzaWJpbGl0eU5hdkNoZWNrYm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgICdbZGF0YS1wYWdlLWFjY2Vzc2liaWxpdHktbmF2XScsXG4gICAgKTtcbiAgICBjb25zdCBwYWdlQWNjZXNzaWJpbGl0eU1haW5JbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAnW2RhdGEtcGFnZS1hY2Nlc3NpYmlsaXR5LW1haW5dJyxcbiAgICApO1xuICAgIGNvbnN0IHBhZ2VBY2Nlc3NpYmlsaXR5RmVlZGJhY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgJ1tkYXRhLXBhZ2UtYWNjZXNzaWJpbGl0eS1mZWVkYmFja10nLFxuICAgICk7XG4gICAgY29uc3QgcGFnZUFjY2Vzc2liaWxpdHlTYXZlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgICdbZGF0YS1wYWdlLWFjY2Vzc2liaWxpdHktc2F2ZV0nLFxuICAgICk7XG4gICAgLy8gUGFnZSBwcm9wZXJ0aWVzIHBhbmVsIGVsZW1lbnRzXG4gICAgY29uc3QgcGFnZVByb3BzVG9nZ2xlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcm9wcy10b2dnbGVdJyk7XG4gICAgY29uc3QgcGFnZVByb3BzUGFuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLXByb3BzLXBhbmVsXScpO1xuICAgIGNvbnN0IHBhZ2VQcm9wc0Nsb3NlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcm9wcy1jbG9zZV0nKTtcbiAgICBjb25zdCBwYWdlUHJvcHNGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcm9wcy1mb3JtXScpO1xuICAgIGNvbnN0IHBhZ2VOYW1lSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLW5hbWVdJyk7XG4gICAgY29uc3QgcGFnZVRpdGxlSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLXRpdGxlLWlucHV0XScpO1xuICAgIGNvbnN0IHBhZ2VTbHVnSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLXNsdWctaW5wdXRdJyk7XG4gICAgY29uc3QgcGFnZURlc2NyaXB0aW9uSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLWRlc2NyaXB0aW9uXScpO1xuICAgIGNvbnN0IHBhZ2VQcm9wc0ZlZWRiYWNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcm9wcy1mZWVkYmFja10nKTtcbiAgICBjb25zdCBwYWdlUHJvcHNTYXZlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcm9wcy1zYXZlXScpO1xuICAgIGNvbnN0IGJsb2NrTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2Nrcy1saXN0XScpO1xuICAgIGNvbnN0IGJsb2NrTGlzdEVtcHR5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2tzLWVtcHR5XScpO1xuICAgIGNvbnN0IGJsb2NrQ291bnRCYWRnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWNvdW50XScpO1xuICAgIGNvbnN0IGJsb2NrTGlicmFyeVRvZ2dsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWxpYnJhcnktdG9nZ2xlXScpO1xuICAgIGNvbnN0IGJsb2NrTGlicmFyeSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWxpYnJhcnldJyk7XG4gICAgY29uc3QgYmxvY2tBZGRCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYmxvY2stYWRkXScpO1xuICAgIGNvbnN0IGJsb2NrRGVsZXRlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1kZWxldGUtbW9kYWxdJyk7XG4gICAgY29uc3QgYmxvY2tEZWxldGVDb25maXJtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZGVsZXRlLWNvbmZpcm1dJyk7XG4gICAgY29uc3QgYmxvY2tEZWxldGVDYW5jZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1kZWxldGUtY2FuY2VsXScpO1xuICAgIGNvbnN0IGJsb2NrRGV0YWlsRW1wdHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1kZXRhaWwtZW1wdHldJyk7XG4gICAgY29uc3QgYmxvY2tEZXRhaWxTdGF0dXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1kZXRhaWwtc3RhdHVzXScpO1xuICAgIGNvbnN0IGJsb2NrRWRpdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZWRpdG9yXScpO1xuICAgIGNvbnN0IGJsb2NrRWRpdG9yVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1lZGl0b3ItYmxvY2stbmFtZV0nKTtcbiAgICBjb25zdCBibG9ja0VkaXRvclR5cGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1lZGl0b3ItYmxvY2stdHlwZV0nKTtcbiAgICBjb25zdCBibG9ja0VkaXRvclVuc3VwcG9ydGVkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZWRpdG9yLXVuc3VwcG9ydGVkXScpO1xuICAgIGNvbnN0IGJsb2NrRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWZvcm1dJyk7XG4gICAgY29uc3QgYmxvY2tGb3JtU2VjdGlvbnMgPSBibG9ja0Zvcm1cbiAgICAgID8gQXJyYXkuZnJvbShibG9ja0Zvcm0ucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtZWRpdG9yLXNlY3Rpb25dJykpXG4gICAgICA6IFtdO1xuICAgIC8vIE9uZ2xldHMgQ29udGVudSAvIEFwcGFyZW5jZVxuICAgIGNvbnN0IGJsb2NrVGFicyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWJsb2NrLXRhYl0nKTtcbiAgICBsZXQgYWN0aXZlQmxvY2tUYWIgPSAnY29udGVudCc7XG5cbiAgICAvLyBPbmdsZXRzIHBhbm5lYXUgZ2F1Y2hlIChCbG9jcyAvIFBhZ2VzKVxuICAgIGNvbnN0IGxlZnRQYW5lbFRhYnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1sZWZ0LXRhYl0nKTtcbiAgICBjb25zdCBsZWZ0UGFuZWxCbG9ja3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1sZWZ0LXBhbmVsPVwiYmxvY2tzXCJdJyk7XG4gICAgY29uc3QgbGVmdFBhbmVsUGFnZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1sZWZ0LXBhbmVsPVwicGFnZXNcIl0nKTtcbiAgICBsZXQgYWN0aXZlTGVmdFRhYiA9ICdibG9ja3MnO1xuXG4gICAgLy8gRm9uY3Rpb24gcG91ciBzd2l0Y2hlciBlbnRyZSBsZXMgb25nbGV0cyBCbG9jcy9QYWdlcyBkdSBwYW5uZWF1IGdhdWNoZVxuICAgIGNvbnN0IHN3aXRjaExlZnRUYWIgPSAodGFiTmFtZSkgPT4ge1xuICAgICAgYWN0aXZlTGVmdFRhYiA9IHRhYk5hbWU7XG4gICAgICBsZWZ0UGFuZWxUYWJzLmZvckVhY2goKHRhYikgPT4ge1xuICAgICAgICBjb25zdCBpc0FjdGl2ZSA9IHRhYi5kYXRhc2V0LmxlZnRUYWIgPT09IHRhYk5hbWU7XG4gICAgICAgIHRhYi5zZXRBdHRyaWJ1dGUoJ2FyaWEtc2VsZWN0ZWQnLCBpc0FjdGl2ZSA/ICd0cnVlJyA6ICdmYWxzZScpO1xuICAgICAgICBpZiAoaXNBY3RpdmUpIHtcbiAgICAgICAgICB0YWIuY2xhc3NMaXN0LmFkZCgndGV4dC1bIzlDNkJGRl0nKTtcbiAgICAgICAgICB0YWIuY2xhc3NMaXN0LnJlbW92ZSgndGV4dC1zbGF0ZS01MDAnLCAnaG92ZXI6dGV4dC1zbGF0ZS03MDAnKTtcbiAgICAgICAgICB0YWIuY2xhc3NMaXN0LmFkZCgnYWZ0ZXI6YWJzb2x1dGUnLCAnYWZ0ZXI6Ym90dG9tLTAnLCAnYWZ0ZXI6bGVmdC0wJywgJ2FmdGVyOnJpZ2h0LTAnLCAnYWZ0ZXI6aC0wLjUnLCAnYWZ0ZXI6YmctWyM5QzZCRkZdJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGFiLmNsYXNzTGlzdC5yZW1vdmUoJ3RleHQtWyM5QzZCRkZdJyk7XG4gICAgICAgICAgdGFiLmNsYXNzTGlzdC5hZGQoJ3RleHQtc2xhdGUtNTAwJywgJ2hvdmVyOnRleHQtc2xhdGUtNzAwJyk7XG4gICAgICAgICAgdGFiLmNsYXNzTGlzdC5yZW1vdmUoJ2FmdGVyOmFic29sdXRlJywgJ2FmdGVyOmJvdHRvbS0wJywgJ2FmdGVyOmxlZnQtMCcsICdhZnRlcjpyaWdodC0wJywgJ2FmdGVyOmgtMC41JywgJ2FmdGVyOmJnLVsjOUM2QkZGXScpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIC8vIEFmZmljaGVyL21hc3F1ZXIgbGVzIHBhbmVsc1xuICAgICAgaWYgKGxlZnRQYW5lbEJsb2Nrcykge1xuICAgICAgICBsZWZ0UGFuZWxCbG9ja3MuY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZGVuJywgdGFiTmFtZSAhPT0gJ2Jsb2NrcycpO1xuICAgICAgfVxuICAgICAgaWYgKGxlZnRQYW5lbFBhZ2VzKSB7XG4gICAgICAgIGxlZnRQYW5lbFBhZ2VzLmNsYXNzTGlzdC50b2dnbGUoJ2hpZGRlbicsIHRhYk5hbWUgIT09ICdwYWdlcycpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBFdmVudCBsaXN0ZW5lcnMgcG91ciBsZXMgb25nbGV0cyBkdSBwYW5uZWF1IGdhdWNoZVxuICAgIGxlZnRQYW5lbFRhYnMuZm9yRWFjaCgodGFiKSA9PiB7XG4gICAgICB0YWIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIHN3aXRjaExlZnRUYWIodGFiLmRhdGFzZXQubGVmdFRhYik7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBcbiAgICAvLyBEXHUwMEU5Y2xhcmF0aW9ucyBkZXMgXHUwMEU5bFx1MDBFOW1lbnRzIGQnYWN0aW9ucyBkdSBmb3JtdWxhaXJlIChhdmFudCBzd2l0Y2hCbG9ja1RhYilcbiAgICBjb25zdCBibG9ja0Zvcm1BY3Rpb25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZm9ybS1hY3Rpb25zXScpO1xuICAgIGNvbnN0IGJsb2NrRm9ybUF1dG9zYXZlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZm9ybS1hdXRvc2F2ZV0nKTtcblxuICAgIC8vIEZvbmN0aW9uIHBvdXIgc3dpdGNoZXIgZW50cmUgbGVzIG9uZ2xldHMgQ29udGVudS9BcHBhcmVuY2VcbiAgICBjb25zdCBzd2l0Y2hCbG9ja1RhYiA9ICh0YWJOYW1lKSA9PiB7XG4gICAgICBhY3RpdmVCbG9ja1RhYiA9IHRhYk5hbWU7XG4gICAgICAvLyBNZXR0cmUgXHUwMEUwIGpvdXIgbGVzIHN0eWxlcyBkZXMgYm91dG9ucyBkJ29uZ2xldFxuICAgICAgYmxvY2tUYWJzLmZvckVhY2goKHRhYikgPT4ge1xuICAgICAgICBjb25zdCBpc0FjdGl2ZSA9IHRhYi5kYXRhc2V0LmJsb2NrVGFiID09PSB0YWJOYW1lO1xuICAgICAgICB0YWIuc2V0QXR0cmlidXRlKCdhcmlhLXNlbGVjdGVkJywgaXNBY3RpdmUgPyAndHJ1ZScgOiAnZmFsc2UnKTtcbiAgICAgICAgaWYgKGlzQWN0aXZlKSB7XG4gICAgICAgICAgdGFiLmNsYXNzTGlzdC5hZGQoJ3RleHQtWyM5QzZCRkZdJyk7XG4gICAgICAgICAgdGFiLmNsYXNzTGlzdC5yZW1vdmUoJ3RleHQtc2xhdGUtNTAwJywgJ2hvdmVyOnRleHQtc2xhdGUtNzAwJyk7XG4gICAgICAgICAgdGFiLmNsYXNzTGlzdC5hZGQoJ2FmdGVyOmFic29sdXRlJywgJ2FmdGVyOmJvdHRvbS0wJywgJ2FmdGVyOmxlZnQtMCcsICdhZnRlcjpyaWdodC0wJywgJ2FmdGVyOmgtMC41JywgJ2FmdGVyOmJnLVsjOUM2QkZGXScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRhYi5jbGFzc0xpc3QucmVtb3ZlKCd0ZXh0LVsjOUM2QkZGXScpO1xuICAgICAgICAgIHRhYi5jbGFzc0xpc3QuYWRkKCd0ZXh0LXNsYXRlLTUwMCcsICdob3Zlcjp0ZXh0LXNsYXRlLTcwMCcpO1xuICAgICAgICAgIHRhYi5jbGFzc0xpc3QucmVtb3ZlKCdhZnRlcjphYnNvbHV0ZScsICdhZnRlcjpib3R0b20tMCcsICdhZnRlcjpsZWZ0LTAnLCAnYWZ0ZXI6cmlnaHQtMCcsICdhZnRlcjpoLTAuNScsICdhZnRlcjpiZy1bIzlDNkJGRl0nKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICAvLyBBZmZpY2hlci9tYXNxdWVyIGxlcyBwYW5lbHMgZGFucyBsYSBzZWN0aW9uIGFjdGl2ZVxuICAgICAgY29uc3QgYWN0aXZlU2VjdGlvbiA9IGJsb2NrRm9ybT8ucXVlcnlTZWxlY3RvcignW2RhdGEtZWRpdG9yLXNlY3Rpb25dOm5vdCguaGlkZGVuKScpO1xuICAgICAgaWYgKGFjdGl2ZVNlY3Rpb24pIHtcbiAgICAgICAgY29uc3QgcGFuZWxzID0gYWN0aXZlU2VjdGlvbi5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1ibG9jay1wYW5lbF0nKTtcbiAgICAgICAgcGFuZWxzLmZvckVhY2goKHBhbmVsKSA9PiB7XG4gICAgICAgICAgaWYgKHBhbmVsLmRhdGFzZXQuYmxvY2tQYW5lbCA9PT0gdGFiTmFtZSkge1xuICAgICAgICAgICAgcGFuZWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhbmVsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICAvLyBBZmZpY2hlci9tYXNxdWVyIGxlcyBib3V0b25zIHNlbG9uIGwnb25nbGV0XG4gICAgICAvLyBDb250ZW51IFx1MjE5MiBib3V0b25zIEVucmVnaXN0cmVyL0FubnVsZXJcbiAgICAgIC8vIEFwcGFyZW5jZSBcdTIxOTIgaW5kaWNhdGV1ciBhdXRvLXNhdmVcbiAgICAgIGlmIChibG9ja0Zvcm1BY3Rpb25zICYmIGJsb2NrRm9ybUF1dG9zYXZlKSB7XG4gICAgICAgIGlmICh0YWJOYW1lID09PSAnY29udGVudCcpIHtcbiAgICAgICAgICBibG9ja0Zvcm1BY3Rpb25zLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgIGJsb2NrRm9ybUF1dG9zYXZlLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGJsb2NrRm9ybUFjdGlvbnMuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgICAgYmxvY2tGb3JtQXV0b3NhdmUuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gRXZlbnQgbGlzdGVuZXJzIHBvdXIgbGVzIG9uZ2xldHNcbiAgICBibG9ja1RhYnMuZm9yRWFjaCgodGFiKSA9PiB7XG4gICAgICB0YWIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIHN3aXRjaEJsb2NrVGFiKHRhYi5kYXRhc2V0LmJsb2NrVGFiKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgY29uc3QgY29sbGVjdGlvblNlbGVjdCA9IGJsb2NrRm9ybT8ucXVlcnlTZWxlY3RvcignW25hbWU9XCJjb2xsZWN0aW9uLWdyaWQtY29sbGVjdGlvblwiXScpO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25TZWxlY3Rpb25JbmZvID0gYmxvY2tGb3JtPy5xdWVyeVNlbGVjdG9yKFxuICAgICAgJ1tkYXRhLWNvbGxlY3Rpb24tc2VsZWN0aW9uLWluZm9dJyxcbiAgICApO1xuICAgIGNvbnN0IGJsb2NrRm9ybUNhbmNlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWZvcm0tY2FuY2VsXScpO1xuICAgIGNvbnN0IGdyb3VwUHJldmlld01vYmlsZSA9IGJsb2NrRm9ybT8ucXVlcnlTZWxlY3RvcignW2RhdGEtZ3JvdXAtcHJldmlldy1tb2JpbGVdJyk7XG4gICAgY29uc3QgZ3JvdXBQcmV2aWV3RGVza3RvcCA9IGJsb2NrRm9ybT8ucXVlcnlTZWxlY3RvcignW2RhdGEtZ3JvdXAtcHJldmlldy1kZXNrdG9wXScpO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25QcmV2aWV3TW9iaWxlID0gYmxvY2tGb3JtPy5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xsZWN0aW9uLXByZXZpZXctbW9iaWxlXScpO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25QcmV2aWV3RGVza3RvcCA9IGJsb2NrRm9ybT8ucXVlcnlTZWxlY3RvcignW2RhdGEtY29sbGVjdGlvbi1wcmV2aWV3LWRlc2t0b3BdJyk7XG4gICAgY29uc3QgYmxvY2tUeXBlRm9ybXMgPSB7XG4gICAgICBoZXJvOiB7XG4gICAgICAgIHNlY3Rpb246ICdoZXJvJyxcbiAgICAgICAgbGFiZWxGaWVsZDogJ3RpdGxlJyxcbiAgICAgICAgZGVzY3JpcHRpb25GaWVsZDogJ3N1YnRpdGxlJyxcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgdGl0bGU6ICdoZXJvLXRpdGxlJyxcbiAgICAgICAgICBzdWJ0aXRsZTogJ2hlcm8tc3VidGl0bGUnLFxuICAgICAgICAgIGN0YUxhYmVsOiAnaGVyby1jdGEtbGFiZWwnLFxuICAgICAgICAgIGN0YVVybDogJ2hlcm8tY3RhLXVybCcsXG4gICAgICAgICAgLy8gQXBwYXJlbmNlXG4gICAgICAgICAgaW1hZ2U6ICdoZXJvLWltYWdlJyxcbiAgICAgICAgICBsYXlvdXQ6ICdoZXJvLWxheW91dCcsXG4gICAgICAgICAgaGVpZ2h0OiAnaGVyby1oZWlnaHQnLFxuICAgICAgICAgIGNvbnRlbnRBbGlnbjogJ2hlcm8tY29udGVudC1hbGlnbicsXG4gICAgICAgICAgaG9yaXpvbnRhbEFsaWduOiAnaGVyby1ob3Jpem9udGFsLWFsaWduJyxcbiAgICAgICAgICB0ZXh0QWxpZ246ICdoZXJvLXRleHQtYWxpZ24nLFxuICAgICAgICAgIG92ZXJsYXk6ICdoZXJvLW92ZXJsYXknLFxuICAgICAgICAgIHRpdGxlU2l6ZTogJ2hlcm8tdGl0bGUtc2l6ZScsXG4gICAgICAgICAgLy8gQ2FyZCBzdHlsZVxuICAgICAgICAgIGJnOiAnaGVyby1iZycsXG4gICAgICAgICAgYm9yZGVyUmFkaXVzOiAnaGVyby1ib3JkZXItcmFkaXVzJyxcbiAgICAgICAgICBzaGFkb3c6ICdoZXJvLXNoYWRvdycsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgcGFyYWdyYXBoZToge1xuICAgICAgICBzZWN0aW9uOiAncGFyYWdyYXBoJyxcbiAgICAgICAgbGFiZWxGaWVsZDogJ3RpdGxlJyxcbiAgICAgICAgZGVzY3JpcHRpb25GaWVsZDogJ2NvbnRlbnQnLFxuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICB0aXRsZTogJ3BhcmFncmFwaC10aXRsZScsXG4gICAgICAgICAgY29udGVudDogJ3BhcmFncmFwaC1jb250ZW50JyxcbiAgICAgICAgICAvLyBBcHBhcmVuY2VcbiAgICAgICAgICBhbGlnbjogJ3BhcmFncmFwaC1hbGlnbicsXG4gICAgICAgICAgdGl0bGVTaXplOiAncGFyYWdyYXBoLXRpdGxlLXNpemUnLFxuICAgICAgICAgIHRleHRTaXplOiAncGFyYWdyYXBoLXRleHQtc2l6ZScsXG4gICAgICAgICAgc3BhY2luZzogJ3BhcmFncmFwaC1zcGFjaW5nJyxcbiAgICAgICAgICAvLyBDYXJkIHN0eWxlXG4gICAgICAgICAgYmc6ICdwYXJhZ3JhcGgtYmcnLFxuICAgICAgICAgIGJvcmRlclJhZGl1czogJ3BhcmFncmFwaC1ib3JkZXItcmFkaXVzJyxcbiAgICAgICAgICBzaGFkb3c6ICdwYXJhZ3JhcGgtc2hhZG93JyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBpbWFnZToge1xuICAgICAgICBzZWN0aW9uOiAnaW1hZ2UnLFxuICAgICAgICBsYWJlbEZpZWxkOiAnYWx0JyxcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgc3JjOiAnaW1hZ2Utc3JjJyxcbiAgICAgICAgICBhbHQ6ICdpbWFnZS1hbHQnLFxuICAgICAgICAgIHNob3dDYXB0aW9uOiAnaW1hZ2UtY2FwdGlvbi10b2dnbGUnLFxuICAgICAgICAgIGNhcHRpb246ICdpbWFnZS1jYXB0aW9uJyxcbiAgICAgICAgICAvLyBBcHBhcmVuY2VcbiAgICAgICAgICByb3VuZGVkOiAnaW1hZ2Utcm91bmRlZCcsXG4gICAgICAgICAgc2hhZG93OiAnaW1hZ2Utc2hhZG93JyxcbiAgICAgICAgICBtYXhXaWR0aDogJ2ltYWdlLW1heC13aWR0aCcsXG4gICAgICAgICAgaGVpZ2h0OiAnaW1hZ2UtaGVpZ2h0JyxcbiAgICAgICAgICBvYmplY3RGaXQ6ICdpbWFnZS1vYmplY3QtZml0JyxcbiAgICAgICAgICBhbGlnbjogJ2ltYWdlLWFsaWduJyxcbiAgICAgICAgICAvLyBDYXJkIHN0eWxlXG4gICAgICAgICAgYmc6ICdpbWFnZS1iZycsXG4gICAgICAgICAgYm9yZGVyUmFkaXVzOiAnaW1hZ2UtYm9yZGVyLXJhZGl1cycsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgZ3JvdXBlOiB7XG4gICAgICAgIHNlY3Rpb246ICdncm91cCcsXG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIC8vIEFwcGFyZW5jZVxuICAgICAgICAgIGNvbHVtbnNNb2JpbGU6ICdncm91cC1jb2x1bW5zLW1vYmlsZScsXG4gICAgICAgICAgY29sdW1uc0Rlc2t0b3A6ICdncm91cC1jb2x1bW5zLWRlc2t0b3AnLFxuICAgICAgICAgIGdhcDogJ2dyb3VwLWdhcCcsXG4gICAgICAgICAgaXRlbXNBbGlnbjogJ2dyb3VwLWl0ZW1zLWFsaWduJyxcbiAgICAgICAgICAvLyBDYXJkIHN0eWxlXG4gICAgICAgICAgYmc6ICdncm91cC1iZycsXG4gICAgICAgICAgYm9yZGVyUmFkaXVzOiAnZ3JvdXAtYm9yZGVyLXJhZGl1cycsXG4gICAgICAgICAgc2hhZG93OiAnZ3JvdXAtc2hhZG93JyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBjb2xsZWN0aW9uZ3JpZDoge1xuICAgICAgICBzZWN0aW9uOiAnY29sbGVjdGlvbicsXG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIGNvbGxlY3Rpb25JZDogJ2NvbGxlY3Rpb24tZ3JpZC1jb2xsZWN0aW9uJyxcbiAgICAgICAgICBsaW1pdDogJ2NvbGxlY3Rpb24tZ3JpZC1saW1pdCcsXG4gICAgICAgICAgLy8gQXBwYXJlbmNlXG4gICAgICAgICAgY29sdW1uc01vYmlsZTogJ2NvbGxlY3Rpb24tY29sdW1ucy1tb2JpbGUnLFxuICAgICAgICAgIGNvbHVtbnNEZXNrdG9wOiAnY29sbGVjdGlvbi1jb2x1bW5zLWRlc2t0b3AnLFxuICAgICAgICAgIGdhcDogJ2NvbGxlY3Rpb24tZ2FwJyxcbiAgICAgICAgICBpdGVtc0FsaWduOiAnY29sbGVjdGlvbi1pdGVtcy1hbGlnbicsXG4gICAgICAgICAgY2FyZFJvdW5kZWQ6ICdjb2xsZWN0aW9uLWNhcmQtcm91bmRlZCcsXG4gICAgICAgICAgLy8gQ2FyZCBzdHlsZVxuICAgICAgICAgIGJnOiAnY29sbGVjdGlvbi1iZycsXG4gICAgICAgICAgYm9yZGVyUmFkaXVzOiAnY29sbGVjdGlvbi1ib3JkZXItcmFkaXVzJyxcbiAgICAgICAgICBzaGFkb3c6ICdjb2xsZWN0aW9uLXNoYWRvdycsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgZm9ybToge1xuICAgICAgICBzZWN0aW9uOiAnZm9ybScsXG4gICAgICAgIGxhYmVsRmllbGQ6ICdmb3JtVGl0bGUnLFxuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBmb3JtVGl0bGU6ICdmb3JtLXRpdGxlJyxcbiAgICAgICAgICBhY3Rpb25Vcmw6ICdmb3JtLWFjdGlvbi11cmwnLFxuICAgICAgICAgIG1ldGhvZDogJ2Zvcm0tbWV0aG9kJyxcbiAgICAgICAgICBzZXJ2aWNlTmFtZTogJ2Zvcm0tc2VydmljZS1uYW1lJyxcbiAgICAgICAgICBzdWJtaXRMYWJlbDogJ2Zvcm0tc3VibWl0LWxhYmVsJyxcbiAgICAgICAgICBzdWNjZXNzTWVzc2FnZTogJ2Zvcm0tc3VjY2Vzcy1tZXNzYWdlJyxcbiAgICAgICAgICAvLyBBcHBhcmVuY2VcbiAgICAgICAgICBtYXhXaWR0aDogJ2Zvcm0tbWF4LXdpZHRoJyxcbiAgICAgICAgICBhbGlnbjogJ2Zvcm0tYWxpZ24nLFxuICAgICAgICAgIGJ1dHRvblJvdW5kZWQ6ICdmb3JtLWJ1dHRvbi1yb3VuZGVkJyxcbiAgICAgICAgICBzcGFjaW5nOiAnZm9ybS1zcGFjaW5nJyxcbiAgICAgICAgICAvLyBDYXJkIHN0eWxlXG4gICAgICAgICAgYmc6ICdmb3JtLWJnJyxcbiAgICAgICAgICBib3JkZXJSYWRpdXM6ICdmb3JtLWJvcmRlci1yYWRpdXMnLFxuICAgICAgICAgIHNoYWRvdzogJ2Zvcm0tc2hhZG93JyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBuZXdzbGV0dGVyZW1iZWQ6IHtcbiAgICAgICAgc2VjdGlvbjogJ25ld3NsZXR0ZXInLFxuICAgICAgICBsYWJlbEZpZWxkOiAndGl0bGUnLFxuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICB0aXRsZTogJ25ld3NsZXR0ZXItdGl0bGUnLFxuICAgICAgICAgIHNlcnZpY2VOYW1lOiAnbmV3c2xldHRlci1zZXJ2aWNlLW5hbWUnLFxuICAgICAgICAgIGVtYmVkQ29kZTogJ25ld3NsZXR0ZXItZW1iZWQtY29kZScsXG4gICAgICAgICAgLy8gQXBwYXJlbmNlXG4gICAgICAgICAgbWF4V2lkdGg6ICduZXdzbGV0dGVyLW1heC13aWR0aCcsXG4gICAgICAgICAgYWxpZ246ICduZXdzbGV0dGVyLWFsaWduJyxcbiAgICAgICAgICBwYWRkaW5nOiAnbmV3c2xldHRlci1wYWRkaW5nJyxcbiAgICAgICAgICBiZzogJ25ld3NsZXR0ZXItYmcnLFxuICAgICAgICAgIC8vIENhcmQgc3R5bGVcbiAgICAgICAgICBib3JkZXJSYWRpdXM6ICduZXdzbGV0dGVyLWJvcmRlci1yYWRpdXMnLFxuICAgICAgICAgIHNoYWRvdzogJ25ld3NsZXR0ZXItc2hhZG93JyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfTtcbiAgICBjb25zdCBibG9ja1R5cGVBbGlhc2VzID0ge1xuICAgICAgdGV4dGU6ICdwYXJhZ3JhcGhlJyxcbiAgICAgIHBhcmFncmFwaDogJ3BhcmFncmFwaGUnLFxuICAgICAgcGFyYWdyYXBoczogJ3BhcmFncmFwaGUnLFxuICAgICAgcGFyYWdyYXBoZXM6ICdwYXJhZ3JhcGhlJyxcbiAgICAgIHRleHQ6ICdwYXJhZ3JhcGhlJyxcbiAgICAgIGhlcm86ICdoZXJvJyxcbiAgICAgIGltYWdlOiAnaW1hZ2UnLFxuICAgICAgZ3JvdXBlOiAnZ3JvdXBlJyxcbiAgICAgIGdyb3VwOiAnZ3JvdXBlJyxcbiAgICAgIGNvbGxlY3Rpb246ICdjb2xsZWN0aW9uZ3JpZCcsXG4gICAgICBjb2xsZWN0aW9uZ3JpZDogJ2NvbGxlY3Rpb25ncmlkJyxcbiAgICAgICdjb2xsZWN0aW9uLWdyaWQnOiAnY29sbGVjdGlvbmdyaWQnLFxuICAgICAgZm9ybTogJ2Zvcm0nLFxuICAgICAgZm9ybXVsYWlyZTogJ2Zvcm0nLFxuICAgICAgY29udGFjdDogJ2Zvcm0nLFxuICAgICAgbmV3c2xldHRlcmVtYmVkOiAnbmV3c2xldHRlcmVtYmVkJyxcbiAgICAgIG5ld3NsZXR0ZXI6ICduZXdzbGV0dGVyZW1iZWQnLFxuICAgICAgZW1iZWQ6ICduZXdzbGV0dGVyZW1iZWQnLFxuICAgIH07XG4gICAgY29uc3QgYW5pbWF0aW9uRmllbGRNYXAgPSB7XG4gICAgICBhbmltYXRpb246ICdhbmltLXR5cGUnLFxuICAgICAgYW5pbWF0aW9uRGVsYXk6ICdhbmltLWRlbGF5JyxcbiAgICAgIGFuaW1hdGlvbkR1cmF0aW9uOiAnYW5pbS1kdXJhdGlvbicsXG4gICAgfTtcbiAgICBPYmplY3QudmFsdWVzKGJsb2NrVHlwZUZvcm1zKS5mb3JFYWNoKChjb25maWcpID0+IHtcbiAgICAgIGNvbmZpZy5maWVsZHMgPSB7IC4uLmNvbmZpZy5maWVsZHMsIC4uLmFuaW1hdGlvbkZpZWxkTWFwIH07XG4gICAgfSk7XG4gICAgY29uc3QgdXBkYXRlR3JvdXBNaW5pUHJldmlldyA9IChtb2JpbGVWYWx1ZSwgZGVza3RvcFZhbHVlKSA9PiB7XG4gICAgICBpZiAoIWdyb3VwUHJldmlld01vYmlsZSB8fCAhZ3JvdXBQcmV2aWV3RGVza3RvcCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCByZW5kZXJCb3hlcyA9IChjb3VudCkgPT5cbiAgICAgICAgQXJyYXkuZnJvbSh7IGxlbmd0aDogTnVtYmVyKGNvdW50KSB8fCAxIH0pXG4gICAgICAgICAgLm1hcCgoKSA9PiAnPHNwYW4gY2xhc3M9XCJibG9jayBoLTIgdy1mdWxsIHJvdW5kZWQtZnVsbCBiZy1zbGF0ZS0zMDBcIj48L3NwYW4+JylcbiAgICAgICAgICAuam9pbignJyk7XG4gICAgICBncm91cFByZXZpZXdNb2JpbGUuaW5uZXJIVE1MID0gcmVuZGVyQm94ZXMobW9iaWxlVmFsdWUpO1xuICAgICAgZ3JvdXBQcmV2aWV3RGVza3RvcC5pbm5lckhUTUwgPSByZW5kZXJCb3hlcyhkZXNrdG9wVmFsdWUpO1xuICAgIH07XG4gICAgY29uc3QgdXBkYXRlQ29sbGVjdGlvbk1pbmlQcmV2aWV3ID0gKG1vYmlsZVZhbHVlLCBkZXNrdG9wVmFsdWUpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvblByZXZpZXdNb2JpbGUgfHwgIWNvbGxlY3Rpb25QcmV2aWV3RGVza3RvcCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCByZW5kZXJCb3hlcyA9IChjb3VudCkgPT5cbiAgICAgICAgQXJyYXkuZnJvbSh7IGxlbmd0aDogTnVtYmVyKGNvdW50KSB8fCAxIH0pXG4gICAgICAgICAgLm1hcCgoKSA9PiAnPHNwYW4gY2xhc3M9XCJibG9jayBoLTIgdy1mdWxsIHJvdW5kZWQtZnVsbCBiZy12aW9sZXQtMzAwXCI+PC9zcGFuPicpXG4gICAgICAgICAgLmpvaW4oJycpO1xuICAgICAgY29sbGVjdGlvblByZXZpZXdNb2JpbGUuaW5uZXJIVE1MID0gcmVuZGVyQm94ZXMobW9iaWxlVmFsdWUpO1xuICAgICAgY29sbGVjdGlvblByZXZpZXdEZXNrdG9wLmlubmVySFRNTCA9IHJlbmRlckJveGVzKGRlc2t0b3BWYWx1ZSk7XG4gICAgfTtcbiAgICBjb25zdCBmZXRjaFBhZ2VzRnJvbVNlcnZlciA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghcGFnZXNBcGlCYXNlKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2gocGFnZXNBcGlCYXNlLCB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIHBhZ2VzLicpO1xuICAgICAgfVxuICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiBbXSk7XG4gICAgICByZXR1cm4gQXJyYXkuaXNBcnJheShwYXlsb2FkKSA/IHBheWxvYWQgOiBbXTtcbiAgICB9O1xuICAgIGNvbnN0IGNyZWF0ZVBhZ2VPblNlcnZlciA9IGFzeW5jICh7IG5hbWUsIHRpdGxlLCBzbHVnIH0pID0+IHtcbiAgICAgIGlmICghcGFnZXNBcGlCYXNlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignU2l0ZSBpbmNvbm51LicpO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChwYWdlc0FwaUJhc2UsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IG5hbWUsIHRpdGxlLCBzbHVnIH0pLFxuICAgICAgfSk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihwYXlsb2FkLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgY3JcdTAwRTllciBsYSBwYWdlLicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICB9O1xuICAgIGNvbnN0IHNhdmVQYWdlVG9TZXJ2ZXIgPSBhc3luYyAocGFnZSkgPT4ge1xuICAgICAgaWYgKCFwYWdlc0FwaUJhc2UgfHwgIXBhZ2U/LmlkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7cGFnZXNBcGlCYXNlfS8ke2VuY29kZVVSSUNvbXBvbmVudChwYWdlLmlkKX1gLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGFnZSksXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocGF5bG9hZC5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIHNhdXZlZ2FyZGVyIGxhIHBhZ2UuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2F2ZWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIGlmIChzYXZlZD8uaWQpIHtcbiAgICAgICAgICBjb25zdCBub3JtYWxpemVkID0gbm9ybWFsaXplUGFnZURhdGEoc2F2ZWQpO1xuICAgICAgICAgIHBhZ2VzID0gcGFnZXMubWFwKChlbnRyeSkgPT4gKGVudHJ5LmlkID09PSBub3JtYWxpemVkLmlkID8gbm9ybWFsaXplZCA6IGVudHJ5KSk7XG4gICAgICAgICAgaWYgKGN1cnJlbnRQYWdlPy5pZCA9PT0gbm9ybWFsaXplZC5pZCkge1xuICAgICAgICAgICAgY3VycmVudFBhZ2UgPSBub3JtYWxpemVkO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbm9ybWFsaXplZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2F2ZWQ7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2Rlc2lnbl0gU2F2ZSBwYWdlIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnU2F1dmVnYXJkZSBpbXBvc3NpYmxlLicpO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgbG9hZFBhZ2VzRnJvbVNlcnZlciA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghcGFnZXNBcGlCYXNlKSB7XG4gICAgICAgIHBhZ2VzID0gW107XG4gICAgICAgIGFjdGl2ZVBhZ2VJZCA9IG51bGw7XG4gICAgICAgIGN1cnJlbnRQYWdlID0gbnVsbDtcbiAgICAgICAgcmVuZGVyUGFnZUxpc3RzKHBhZ2VzLCBhY3RpdmVQYWdlSWQpO1xuICAgICAgICByZW5kZXJCbG9ja0xpc3QobnVsbCk7XG4gICAgICAgIGJsb2NrRGV0YWlsRW1wdHk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICBibG9ja0VkaXRvcj8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGxvYWRlZFBhZ2VzID0gYXdhaXQgZmV0Y2hQYWdlc0Zyb21TZXJ2ZXIoKTtcbiAgICAgICAgcGFnZXMgPSAoQXJyYXkuaXNBcnJheShsb2FkZWRQYWdlcykgPyBsb2FkZWRQYWdlcyA6IFtdKS5tYXAoKHBhZ2UpID0+XG4gICAgICAgICAgbm9ybWFsaXplUGFnZURhdGEocGFnZSksXG4gICAgICAgICk7XG4gICAgICAgIGlmIChwYWdlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICBhY3RpdmVQYWdlSWQgPSBudWxsO1xuICAgICAgICAgIGN1cnJlbnRQYWdlID0gbnVsbDtcbiAgICAgICAgICByZW5kZXJQYWdlTGlzdHMocGFnZXMsIGFjdGl2ZVBhZ2VJZCk7XG4gICAgICAgICAgcmVuZGVyQmxvY2tMaXN0KG51bGwpO1xuICAgICAgICAgIGJsb2NrRGV0YWlsRW1wdHk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgIGJsb2NrRWRpdG9yPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgICBwcmV2aWV3RnJhbWUgJiYgKHByZXZpZXdGcmFtZS5zcmNkb2MgPSBnZXRMb2FkaW5nUHJldmlld0h0bWwoKSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGFjdGl2ZVBhZ2VJZCA9IGdldFN0b3JlZEFjdGl2ZVBhZ2UocGFnZXMpO1xuICAgICAgICBzZXRBY3RpdmVQYWdlKGFjdGl2ZVBhZ2VJZCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2Rlc2lnbl0gSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxlcyBwYWdlcycsIGVycik7XG4gICAgICAgIHNob3dUb2FzdCgnSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxlcyBwYWdlcy4nKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IG5vcm1hbGl6ZVR5cGUgPSAodmFsdWUpID0+XG4gICAgICAodmFsdWUgfHwgJycpLm5vcm1hbGl6ZSgnTkZEJykucmVwbGFjZSgvW1xcdTAzMDAtXFx1MDM2Zl0vZywgJycpLnRvTG93ZXJDYXNlKCk7XG4gICAgY29uc3QgZ2V0QmxvY2tGb3JtQ29uZmlnID0gKGJsb2NrKSA9PiB7XG4gICAgICBpZiAoIWJsb2NrKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgY29uc3QgdHlwZUtleSA9IG5vcm1hbGl6ZVR5cGUoYmxvY2sudHlwZSk7XG4gICAgICBjb25zdCBhbGlhcyA9IGJsb2NrVHlwZUFsaWFzZXNbdHlwZUtleV0gfHwgdHlwZUtleTtcbiAgICAgIHJldHVybiBibG9ja1R5cGVGb3Jtc1thbGlhc10gfHwgbnVsbDtcbiAgICB9O1xuICAgIGNvbnN0IHBvcHVsYXRlQmxvY2tGb3JtID0gKGJsb2NrKSA9PiB7XG4gICAgICBpZiAoIWJsb2NrRm9ybSB8fCAhYmxvY2tFZGl0b3IpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGJsb2NrICYmICFibG9jay5zZXR0aW5ncykge1xuICAgICAgICBibG9jay5zZXR0aW5ncyA9IHt9O1xuICAgICAgfVxuICAgICAgY29uc3QgY29uZmlnID0gZ2V0QmxvY2tGb3JtQ29uZmlnKGJsb2NrKTtcbiAgICAgIGlmIChibG9ja0VkaXRvclRpdGxlKSB7XG4gICAgICAgIGJsb2NrRWRpdG9yVGl0bGUudGV4dENvbnRlbnQgPSBibG9jaz8ubGFiZWwgfHwgJ0Jsb2MnO1xuICAgICAgfVxuICAgICAgaWYgKGJsb2NrRWRpdG9yVHlwZSkge1xuICAgICAgICBibG9ja0VkaXRvclR5cGUudGV4dENvbnRlbnQgPSBibG9jaz8udHlwZSB8fCAnQmxvYyc7XG4gICAgICB9XG4gICAgICBpZiAoIWNvbmZpZykge1xuICAgICAgICBibG9ja0Zvcm0uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIGJsb2NrRWRpdG9yVW5zdXBwb3J0ZWQ/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICBibG9ja0Zvcm0uZGF0YXNldC5ibG9ja0lkID0gJyc7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGJsb2NrRWRpdG9yVW5zdXBwb3J0ZWQ/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgYmxvY2tGb3JtLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgYmxvY2tGb3JtLnJlc2V0KCk7XG4gICAgICBibG9ja0Zvcm0uZGF0YXNldC5ibG9ja0lkID0gYmxvY2suaWQ7XG4gICAgICBibG9ja0Zvcm1TZWN0aW9ucy5mb3JFYWNoKChzZWN0aW9uKSA9PiB7XG4gICAgICAgIGNvbnN0IHNlY3Rpb25JZCA9IHNlY3Rpb24uZGF0YXNldC5lZGl0b3JTZWN0aW9uO1xuICAgICAgICBpZiAoc2VjdGlvbklkID09PSBjb25maWcuc2VjdGlvbikge1xuICAgICAgICAgIHNlY3Rpb24uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VjdGlvbi5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICAvLyBSXHUwMEU5aW5pdGlhbGlzZXIgc3VyIGwnb25nbGV0IENvbnRlbnVcbiAgICAgIHN3aXRjaEJsb2NrVGFiKCdjb250ZW50Jyk7XG4gICAgICBpZiAoY29uZmlnLnNlY3Rpb24gPT09ICdjb2xsZWN0aW9uJykge1xuICAgICAgICBjb25zdCBkZXNpcmVkVmFsdWUgPSBibG9jay5jb2xsZWN0aW9uSWQgfHwgYmxvY2suc2V0dGluZ3M/LmNvbGxlY3Rpb25JZCB8fCAnJztcbiAgICAgICAgdXBkYXRlQ29sbGVjdGlvblNlbGVjdE9wdGlvbnMoZGVzaXJlZFZhbHVlKTtcbiAgICAgIH1cbiAgICAgIE9iamVjdC5lbnRyaWVzKGNvbmZpZy5maWVsZHMpLmZvckVhY2goKFtzZXR0aW5nS2V5LCBmaWVsZE5hbWVdKSA9PiB7XG4gICAgICAgIGNvbnN0IGlucHV0ID0gYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3IoYFtuYW1lPVwiJHtmaWVsZE5hbWV9XCJdYCk7XG4gICAgICAgIGlmICghaW5wdXQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdmFsdWUgPSBibG9jay5zZXR0aW5ncz8uW3NldHRpbmdLZXldO1xuICAgICAgICBpZiAoaW5wdXQudHlwZSA9PT0gJ2NoZWNrYm94Jykge1xuICAgICAgICAgIGlucHV0LmNoZWNrZWQgPSBCb29sZWFuKHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIGlmIChpbnB1dC50eXBlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIGNvbnN0IGZhbGxiYWNrID0gaW5wdXQuZGF0YXNldC5kZWZhdWx0ID8/IGlucHV0LmRlZmF1bHRWYWx1ZSA/PyAnJztcbiAgICAgICAgICBpbnB1dC52YWx1ZSA9IHZhbHVlID8/IGZhbGxiYWNrO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0LnRhZ05hbWUgPT09ICdURVhUQVJFQScpIHtcbiAgICAgICAgICBpbnB1dC52YWx1ZSA9IHZhbHVlID8/ICcnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlucHV0LnZhbHVlID0gdmFsdWUgPz8gJyc7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKGNvbmZpZy5zZWN0aW9uID09PSAnZ3JvdXAnKSB7XG4gICAgICAgIGNvbnN0IG1vYmlsZVZhbHVlID1cbiAgICAgICAgICBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJncm91cC1jb2x1bW5zLW1vYmlsZVwiXScpPy52YWx1ZSB8fCAnMSc7XG4gICAgICAgIGNvbnN0IGRlc2t0b3BWYWx1ZSA9XG4gICAgICAgICAgYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZ3JvdXAtY29sdW1ucy1kZXNrdG9wXCJdJyk/LnZhbHVlIHx8ICczJztcbiAgICAgICAgdXBkYXRlR3JvdXBNaW5pUHJldmlldyhtb2JpbGVWYWx1ZSwgZGVza3RvcFZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGlmIChjb25maWcuc2VjdGlvbiA9PT0gJ2NvbGxlY3Rpb24nKSB7XG4gICAgICAgIGNvbnN0IG1vYmlsZVZhbHVlID1cbiAgICAgICAgICBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJjb2xsZWN0aW9uLWNvbHVtbnMtbW9iaWxlXCJdJyk/LnZhbHVlIHx8ICcxJztcbiAgICAgICAgY29uc3QgZGVza3RvcFZhbHVlID1cbiAgICAgICAgICBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJjb2xsZWN0aW9uLWNvbHVtbnMtZGVza3RvcFwiXScpPy52YWx1ZSB8fCAnMyc7XG4gICAgICAgIHVwZGF0ZUNvbGxlY3Rpb25NaW5pUHJldmlldyhtb2JpbGVWYWx1ZSwgZGVza3RvcFZhbHVlKTtcbiAgICAgIH1cbiAgICAgIC8vIE1pc2UgXHUwMEUwIGpvdXIgZGVzIHByZXZpZXdzIGRlIGNvdWxldXJcbiAgICAgIGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1jb2xvci1zZWxlY3RdJykuZm9yRWFjaCgoc2VsZWN0KSA9PiB7XG4gICAgICAgIGNvbnN0IHNlbGVjdGVkT3B0aW9uID0gc2VsZWN0Lm9wdGlvbnNbc2VsZWN0LnNlbGVjdGVkSW5kZXhdO1xuICAgICAgICBjb25zdCBjb2xvciA9IHNlbGVjdGVkT3B0aW9uPy5kYXRhc2V0Py5jb2xvciB8fCAnI2ZmZmZmZic7XG4gICAgICAgIGNvbnN0IGNvbG9yUHJldmlldyA9IHNlbGVjdC5jbG9zZXN0KCcucmVsYXRpdmUnKT8ucXVlcnlTZWxlY3RvcignW2RhdGEtY29sb3ItcHJldmlld10nKTtcbiAgICAgICAgaWYgKGNvbG9yUHJldmlldykge1xuICAgICAgICAgIGlmIChjb2xvciA9PT0gJ3RyYW5zcGFyZW50Jykge1xuICAgICAgICAgICAgY29sb3JQcmV2aWV3LnN0eWxlLmJhY2tncm91bmQgPSAncmVwZWF0aW5nLWNvbmljLWdyYWRpZW50KCNjY2MgMCUgMjUlLCB3aGl0ZSAwJSA1MCUpIDUwJSAvIDhweCA4cHgnO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb2xvclByZXZpZXcuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gY29sb3I7XG4gICAgICAgICAgICBjb2xvclByZXZpZXcuc3R5bGUuYmFja2dyb3VuZCA9ICcnO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcbiAgICBjb25zdCBjb2xsZWN0Rm9ybVZhbHVlcyA9IChjb25maWcpID0+IHtcbiAgICAgIGlmICghYmxvY2tGb3JtIHx8ICFjb25maWcpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgfVxuICAgICAgY29uc3QgdmFsdWVzID0ge307XG4gICAgICBPYmplY3QuZW50cmllcyhjb25maWcuZmllbGRzKS5mb3JFYWNoKChbc2V0dGluZ0tleSwgZmllbGROYW1lXSkgPT4ge1xuICAgICAgICBjb25zdCBpbnB1dCA9IGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yKGBbbmFtZT1cIiR7ZmllbGROYW1lfVwiXWApO1xuICAgICAgICBpZiAoIWlucHV0KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbnB1dC50eXBlID09PSAnY2hlY2tib3gnKSB7XG4gICAgICAgICAgdmFsdWVzW3NldHRpbmdLZXldID0gaW5wdXQuY2hlY2tlZDtcbiAgICAgICAgfSBlbHNlIGlmIChpbnB1dC50eXBlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIGNvbnN0IHBhcnNlZCA9IE51bWJlcihpbnB1dC52YWx1ZSk7XG4gICAgICAgICAgdmFsdWVzW3NldHRpbmdLZXldID0gTnVtYmVyLmlzRmluaXRlKHBhcnNlZCkgPyBwYXJzZWQgOiAwO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0LnRhZ05hbWUgPT09ICdURVhUQVJFQScpIHtcbiAgICAgICAgICB2YWx1ZXNbc2V0dGluZ0tleV0gPSBpbnB1dC52YWx1ZSB8fCAnJztcbiAgICAgICAgfSBlbHNlIGlmIChpbnB1dC50eXBlID09PSAnc2VsZWN0LW9uZScpIHtcbiAgICAgICAgICB2YWx1ZXNbc2V0dGluZ0tleV0gPSBpbnB1dC52YWx1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YWx1ZXNbc2V0dGluZ0tleV0gPSBpbnB1dC52YWx1ZSB8fCAnJztcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gdmFsdWVzO1xuICAgIH07XG4gICAgY29uc3QgdXBkYXRlUHJldmlld1N0YXR1cyA9ICh0ZXh0KSA9PiB7XG4gICAgICBpZiAoIXByZXZpZXdTdGF0dXMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCF0ZXh0KSB7XG4gICAgICAgIHByZXZpZXdTdGF0dXMuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHByZXZpZXdTdGF0dXMuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBwcmV2aWV3U3RhdHVzLnRleHRDb250ZW50ID0gdGV4dDtcbiAgICB9O1xuICAgIGNvbnN0IHNlcmlhbGl6ZVBhZ2VGb3JQcmV2aWV3ID0gKHBhZ2UpID0+IHtcbiAgICAgIGlmICghcGFnZSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gRm9uY3Rpb24gcG91ciBzXHUwMEU5cmlhbGlzZXIgdW4gYmxvYyAodXRpbGlzXHUwMEU5IHBvdXIgbGVzIGJsb2NzIGV0IGxldXJzIGVuZmFudHMpXG4gICAgICBjb25zdCBzZXJpYWxpemVCbG9jayA9IChibG9jaykgPT4gKHtcbiAgICAgICAgaWQ6IGJsb2NrLmlkLFxuICAgICAgICB0eXBlOiBibG9jay50eXBlLFxuICAgICAgICBsYWJlbDogYmxvY2subGFiZWwsXG4gICAgICAgIHN0YXR1czogYmxvY2suc3RhdHVzLFxuICAgICAgICBkZXNjcmlwdGlvbjogYmxvY2suZGVzY3JpcHRpb24sXG4gICAgICAgIHByb3BzOiBibG9jay5wcm9wcyB8fCBbXSxcbiAgICAgICAgc2V0dGluZ3M6IGJsb2NrLnNldHRpbmdzIHx8IHt9LFxuICAgICAgICBjb2xsZWN0aW9uSWQ6IGJsb2NrLmNvbGxlY3Rpb25JZCB8fCBibG9jay5zZXR0aW5ncz8uY29sbGVjdGlvbklkIHx8ICcnLFxuICAgICAgICBjaGlsZHJlbjogKGJsb2NrLmNoaWxkcmVuIHx8IFtdKS5tYXAoc2VyaWFsaXplQmxvY2spLFxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlkOiBwYWdlLmlkLFxuICAgICAgICBuYW1lOiBwYWdlLm5hbWUsXG4gICAgICAgIHRpdGxlOiBwYWdlLnRpdGxlLFxuICAgICAgICBzbHVnOiBwYWdlLnNsdWcsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBwYWdlLmRlc2NyaXB0aW9uIHx8ICcnLFxuICAgICAgICBiYWRnZXM6IFsuLi4ocGFnZS5iYWRnZXMgfHwgW10pXSxcbiAgICAgICAgc2VvOiBwYWdlLnNlbyB8fCB7fSxcbiAgICAgICAgYWNjZXNzaWJpbGl0eTogcGFnZS5hY2Nlc3NpYmlsaXR5IHx8IHt9LFxuICAgICAgICBibG9ja3M6IChwYWdlLmJsb2NrcyB8fCBbXSkubWFwKHNlcmlhbGl6ZUJsb2NrKSxcbiAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBnZXRMb2FkaW5nUHJldmlld0h0bWwgPSAoKSA9PlxuICAgICAgJzwhRE9DVFlQRSBodG1sPjxodG1sPjxib2R5IHN0eWxlPVwiZm9udC1mYW1pbHk6SW50ZXIsc2Fucy1zZXJpZjtwYWRkaW5nOjQwcHg7Y29sb3I6IzQ3NTU2OTtiYWNrZ3JvdW5kOiNmZmY7XCI+UHJcdTAwRTlwYXJhdGlvbiBkZSBsYSBwclx1MDBFOXZpc3VhbGlzYXRpb25cdTIwMjY8L2JvZHk+PC9odG1sPic7XG5cbiAgICAvLyBEZWJvdW5jZSB1dGlsaXR5XG4gICAgY29uc3QgZGVib3VuY2UgPSAoZm4sIGRlbGF5KSA9PiB7XG4gICAgICBsZXQgdGltZW91dElkO1xuICAgICAgcmV0dXJuICguLi5hcmdzKSA9PiB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICAgICAgICB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IGZuKC4uLmFyZ3MpLCBkZWxheSk7XG4gICAgICB9O1xuICAgIH07XG5cbiAgICAvLyBBdXRvLXNhdmUgcG91ciBsJ2FwcGFyZW5jZSAoaW1tXHUwMEU5ZGlhdCBwb3VyIFx1MDBFOXZpdGVyIGxlcyBwZXJ0ZXMpXG4gICAgY29uc3QgYXV0b1NhdmVBcHBlYXJhbmNlID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSB8fCAhYWN0aXZlQmxvY2tJZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBibG9jayA9IGdldEFjdGl2ZUJsb2NrKCk7XG4gICAgICBjb25zdCBjb25maWcgPSBnZXRCbG9ja0Zvcm1Db25maWcoYmxvY2spO1xuICAgICAgaWYgKCFibG9jayB8fCAhY29uZmlnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHZhbHVlcyA9IGNvbGxlY3RGb3JtVmFsdWVzKGNvbmZpZyk7XG4gICAgICBjb25zdCB1cGRhdGVkQmxvY2tzID0gKGN1cnJlbnRQYWdlLmJsb2NrcyB8fCBbXSkubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICBpZiAoZW50cnkuaWQgIT09IGJsb2NrLmlkKSB7XG4gICAgICAgICAgcmV0dXJuIGVudHJ5O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRTZXR0aW5ncyA9IHsgLi4uKGVudHJ5LnNldHRpbmdzIHx8IHt9KSwgLi4udmFsdWVzIH07XG4gICAgICAgIHJldHVybiB7IC4uLmVudHJ5LCBzZXR0aW5nczogdXBkYXRlZFNldHRpbmdzIH07XG4gICAgICB9KTtcbiAgICAgIC8vIE1pc2UgXHUwMEUwIGpvdXIgc2lsZW5jaWV1c2UgKHNhbnMgdG9hc3QgbmkgcmVmcmVzaCBjb21wbGV0KVxuICAgICAgY29uc3QgbmV4dFBhZ2UgPSB7IC4uLmN1cnJlbnRQYWdlLCBibG9ja3M6IHVwZGF0ZWRCbG9ja3MgfTtcbiAgICAgIGN1cnJlbnRQYWdlID0gbmV4dFBhZ2U7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBzYXZlZCA9IGF3YWl0IHNhdmVQYWdlVG9TZXJ2ZXIobmV4dFBhZ2UpO1xuICAgICAgICBpZiAoc2F2ZWQ/LmlkKSB7XG4gICAgICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZVBhZ2VEYXRhKHNhdmVkKTtcbiAgICAgICAgICBjdXJyZW50UGFnZSA9IG5vcm1hbGl6ZWQ7XG4gICAgICAgICAgcGFnZXMgPSBwYWdlcy5tYXAoKHApID0+IChwLmlkID09PSBub3JtYWxpemVkLmlkID8gbm9ybWFsaXplZCA6IHApKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignW2Rlc2lnbl0gYXV0by1zYXZlIGFwcGVhcmFuY2UgZmFpbGVkJywgZXJyKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gTWlzZSBcdTAwRTAgam91ciBsaXZlIGRlIGxhIHByZXZpZXcgdmlhIHBvc3RNZXNzYWdlIChzYW5zIHJlY2hhcmdlciBsJ2lmcmFtZSlcbiAgICBjb25zdCB1cGRhdGVQcmV2aWV3QmxvY2tMaXZlID0gKGJsb2NrSWQsIHNldHRpbmdzKSA9PiB7XG4gICAgICBpZiAoIXByZXZpZXdGcmFtZSB8fCAhcHJldmlld0ZyYW1lLmNvbnRlbnRXaW5kb3cpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gRW52b2llIGxlcyBub3V2ZWxsZXMgY2xhc3NlcyBhdSBibG9jIGRhbnMgbCdpZnJhbWVcbiAgICAgIHByZXZpZXdGcmFtZS5jb250ZW50V2luZG93LnBvc3RNZXNzYWdlKHtcbiAgICAgICAgdHlwZTogJ3VwZGF0ZUJsb2NrU3R5bGVzJyxcbiAgICAgICAgYmxvY2tJZCxcbiAgICAgICAgc2V0dGluZ3MsXG4gICAgICB9LCAnKicpO1xuICAgIH07XG5cbiAgICAvLyBSZWZyZXNoIHByZXZpZXcgY29tcGxldCBkZWJvdW5jZWQgKHBvdXIgbGVzIGNoYW5nZW1lbnRzIGNvbXBsZXhlcylcbiAgICBjb25zdCBkZWJvdW5jZWRSZWZyZXNoUHJldmlldyA9IGRlYm91bmNlKCgpID0+IHtcbiAgICAgIGlmIChjdXJyZW50UGFnZSkge1xuICAgICAgICByZWZyZXNoUHJldmlldyhjdXJyZW50UGFnZSk7XG4gICAgICB9XG4gICAgfSwgMTUwMCk7XG5cbiAgICAvLyBNaXNlIFx1MDBFMCBqb3VyIGxpdmUgaW1tXHUwMEU5ZGlhdGUgKHBvdXIgbGEgcHJldmlldylcbiAgICBjb25zdCBoYW5kbGVBcHBlYXJhbmNlQ2hhbmdlID0gKGJsb2NrSWQsIHNldHRpbmdzKSA9PiB7XG4gICAgICB1cGRhdGVQcmV2aWV3QmxvY2tMaXZlKGJsb2NrSWQsIHNldHRpbmdzKTtcbiAgICAgIHVwZGF0ZVByZXZpZXdTdGF0dXMoJ01vZGlmaWNhdGlvblx1MjAyNicpO1xuICAgICAgYXV0b1NhdmVBcHBlYXJhbmNlKClcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIHVwZGF0ZVByZXZpZXdTdGF0dXMoJ1NhdXZlZ2FyZFx1MDBFOScpO1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gdXBkYXRlUHJldmlld1N0YXR1cygnXHUwMEMwIGpvdXInKSwgMTUwMCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoKSA9PiB1cGRhdGVQcmV2aWV3U3RhdHVzKCdFcnJldXIgZGUgc2F1dmVnYXJkZScpKTtcbiAgICAgIC8vIFJlZnJlc2ggY29tcGxldCBhcHJcdTAwRThzIHVuIGRcdTAwRTlsYWkgcGx1cyBsb25nIChwb3VyIGxlcyBjaGFuZ2VtZW50cyBkZSBsYXlvdXQsIGV0Yy4pXG4gICAgICBkZWJvdW5jZWRSZWZyZXNoUHJldmlldygpO1xuICAgIH07XG5cbiAgICBjb25zdCByZWZyZXNoUHJldmlldyA9IChwYWdlKSA9PiB7XG4gICAgICBpZiAoIXByZXZpZXdGcmFtZSB8fCAhcGFnZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBwcmV2aWV3U2l0ZVNsdWcgPSB3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnO1xuICAgICAgY29uc3Qgc2VyaWFsaXplZFBhZ2VzID0gcGFnZXMubWFwKChlbnRyeSkgPT4gKHtcbiAgICAgICAgaWQ6IGVudHJ5LmlkLFxuICAgICAgICBzbHVnOiBlbnRyeS5zbHVnLFxuICAgICAgICB0aXRsZTogZW50cnkudGl0bGUsXG4gICAgICAgIG5hbWU6IGVudHJ5Lm5hbWUsXG4gICAgICAgIGFjY2Vzc2liaWxpdHk6IGVudHJ5LmFjY2Vzc2liaWxpdHksXG4gICAgICB9KSk7XG4gICAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICBwYWdlOiBzZXJpYWxpemVQYWdlRm9yUHJldmlldyhwYWdlKSxcbiAgICAgICAgc2l0ZToge1xuICAgICAgICAgIHRpdGxlOiBzdG9yZWRTaXRlLm5hbWUgfHwgJ1NpdGUnLFxuICAgICAgICAgIHNsdWc6IHByZXZpZXdTaXRlU2x1ZyxcbiAgICAgICAgICBwYWdlczogc2VyaWFsaXplZFBhZ2VzLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICAgIHByZXZpZXdSZWFkeSA9IGZhbHNlO1xuICAgICAgdXBkYXRlUHJldmlld1N0YXR1cygnQWN0dWFsaXNhdGlvblx1MjAyNicpO1xuICAgICAgcHJldmlld0ZyYW1lLnNyY2RvYyA9IGdldExvYWRpbmdQcmV2aWV3SHRtbCgpO1xuICAgICAgaWYgKHByZXZpZXdSZXF1ZXN0Q29udHJvbGxlcikge1xuICAgICAgICBwcmV2aWV3UmVxdWVzdENvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgICBwcmV2aWV3UmVxdWVzdENvbnRyb2xsZXIgPSBjb250cm9sbGVyO1xuICAgICAgZmV0Y2goJy9hcGkvcHJldmlldycsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgc2lnbmFsOiBjb250cm9sbGVyLnNpZ25hbCxcbiAgICAgIH0pXG4gICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUHJldmlldyBlcnJvcicpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICB9KVxuICAgICAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICAgIGlmIChjb250cm9sbGVyLnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGxhdGVzdFByZXZpZXdIdG1sID0gZGF0YS5odG1sIHx8ICcnO1xuICAgICAgICAgIHByZXZpZXdGcmFtZS5zZXRBdHRyaWJ1dGUoXG4gICAgICAgICAgICAndGl0bGUnLFxuICAgICAgICAgICAgYFByXHUwMEU5dmlzdWFsaXNhdGlvbiBkZSBsYSBwYWdlICR7cGFnZS50aXRsZSB8fCAnJ31gLnRyaW0oKSxcbiAgICAgICAgICApO1xuICAgICAgICAgIHByZXZpZXdGcmFtZS5zcmNkb2MgPSBsYXRlc3RQcmV2aWV3SHRtbCB8fCBnZXRMb2FkaW5nUHJldmlld0h0bWwoKTtcbiAgICAgICAgICB1cGRhdGVQcmV2aWV3U3RhdHVzKCdcdTAwQzAgam91cicpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgaWYgKGNvbnRyb2xsZXIuc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3ByZXZpZXddIEltcG9zc2libGUgZGUgcmVuZHJlIGxhIHBhZ2UnLCBlcnJvcik7XG4gICAgICAgICAgdXBkYXRlUHJldmlld1N0YXR1cygnRXJyZXVyIHByZXZpZXcnKTtcbiAgICAgICAgICBwcmV2aWV3RnJhbWUuc3JjZG9jID1cbiAgICAgICAgICAgICc8IURPQ1RZUEUgaHRtbD48aHRtbD48Ym9keSBzdHlsZT1cImZvbnQtZmFtaWx5OkludGVyLHNhbnMtc2VyaWY7cGFkZGluZzo0MHB4O2NvbG9yOiNiZTEyM2M7YmFja2dyb3VuZDojZmZmO1wiPkVycmV1ciBsb3JzIGR1IHJlbmR1IGRlIGxhIHByXHUwMEU5dmlzdWFsaXNhdGlvbi48L2JvZHk+PC9odG1sPic7XG4gICAgICAgIH0pXG4gICAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgICBpZiAocHJldmlld1JlcXVlc3RDb250cm9sbGVyID09PSBjb250cm9sbGVyKSB7XG4gICAgICAgICAgICBwcmV2aWV3UmVxdWVzdENvbnRyb2xsZXIgPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBjb25zdCBoYW5kbGVCbG9ja0Zvcm1TdWJtaXQgPSAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlIHx8ICFhY3RpdmVCbG9ja0lkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGJsb2NrID0gZ2V0QWN0aXZlQmxvY2soKTtcbiAgICAgIGNvbnN0IGNvbmZpZyA9IGdldEJsb2NrRm9ybUNvbmZpZyhibG9jayk7XG4gICAgICBpZiAoIWJsb2NrIHx8ICFjb25maWcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgdmFsdWVzID0gY29sbGVjdEZvcm1WYWx1ZXMoY29uZmlnKTtcbiAgICAgIGlmIChjb25maWcuc2VjdGlvbiA9PT0gJ2ltYWdlJykge1xuICAgICAgICBjb25zdCBhbHRWYWx1ZSA9ICh2YWx1ZXMuYWx0IHx8ICcnKS50cmltKCk7XG4gICAgICAgIHZhbHVlcy5hbHQgPSBhbHRWYWx1ZTtcbiAgICAgICAgaWYgKCFhbHRWYWx1ZSkge1xuICAgICAgICAgIHNob3dUb2FzdCgnQWpvdXRlIHVuIHRleHRlIGFsdGVybmF0aWYgcG91ciBjZXR0ZSBpbWFnZS4nLCAnZXJyb3InKTtcbiAgICAgICAgICBibG9ja0Zvcm0/LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaW1hZ2UtYWx0XCJdJyk/LmZvY3VzKCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoY29uZmlnLnNlY3Rpb24gPT09ICdjb2xsZWN0aW9uJykge1xuICAgICAgICBpZiAoIXZhbHVlcy5jb2xsZWN0aW9uSWQpIHtcbiAgICAgICAgICBzaG93VG9hc3QoJ1NcdTAwRTlsZWN0aW9ubmV6IHVuZSBjb2xsZWN0aW9uLicpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YWx1ZXMubGltaXQgPSBNYXRoLm1heCgxLCBOdW1iZXIodmFsdWVzLmxpbWl0KSB8fCAxKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHVwZGF0ZWRCbG9ja3MgPSAoY3VycmVudFBhZ2UuYmxvY2tzIHx8IFtdKS5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIGlmIChlbnRyeS5pZCAhPT0gYmxvY2suaWQpIHtcbiAgICAgICAgICByZXR1cm4gZW50cnk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdXBkYXRlZFNldHRpbmdzID0geyAuLi4oZW50cnkuc2V0dGluZ3MgfHwge30pLCAuLi52YWx1ZXMgfTtcbiAgICAgICAgY29uc3QgdXBkYXRlZEJsb2NrID0ge1xuICAgICAgICAgIC4uLmVudHJ5LFxuICAgICAgICAgIHNldHRpbmdzOiB1cGRhdGVkU2V0dGluZ3MsXG4gICAgICAgIH07XG4gICAgICAgIGlmIChjb25maWcubGFiZWxGaWVsZCAmJiB2YWx1ZXNbY29uZmlnLmxhYmVsRmllbGRdKSB7XG4gICAgICAgICAgdXBkYXRlZEJsb2NrLmxhYmVsID0gdmFsdWVzW2NvbmZpZy5sYWJlbEZpZWxkXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29uZmlnLmRlc2NyaXB0aW9uRmllbGQgJiYgdmFsdWVzW2NvbmZpZy5kZXNjcmlwdGlvbkZpZWxkXSkge1xuICAgICAgICAgIHVwZGF0ZWRCbG9jay5kZXNjcmlwdGlvbiA9IHZhbHVlc1tjb25maWcuZGVzY3JpcHRpb25GaWVsZF07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbmZpZy5zZWN0aW9uID09PSAnY29sbGVjdGlvbicpIHtcbiAgICAgICAgICB1cGRhdGVkQmxvY2suY29sbGVjdGlvbklkID0gdmFsdWVzLmNvbGxlY3Rpb25JZDtcbiAgICAgICAgICB1cGRhdGVkQmxvY2suc2V0dGluZ3MuY29sbGVjdGlvbklkID0gdmFsdWVzLmNvbGxlY3Rpb25JZDtcbiAgICAgICAgICB1cGRhdGVkQmxvY2suc2V0dGluZ3MubGltaXQgPSB2YWx1ZXMubGltaXQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVwZGF0ZWRCbG9jaztcbiAgICAgIH0pO1xuICAgICAgdXBkYXRlQ3VycmVudFBhZ2VCbG9ja3ModXBkYXRlZEJsb2Nrcyk7XG4gICAgICBzaG93VG9hc3QoJ0Jsb2MgbWlzIFx1MDBFMCBqb3VyJyk7XG4gICAgICBzZXRBY3RpdmVQYWdlKGN1cnJlbnRQYWdlLmlkLCB7IHByZXNlcnZlQmxvY2s6IHRydWUgfSk7XG4gICAgfTtcbiAgICBjb25zdCBkcmF3ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLWRyYXdlcl0nKTtcbiAgICBjb25zdCBkcmF3ZXJCYWNrZHJvcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXBhZ2UtZHJhd2VyLWJhY2tkcm9wXScpO1xuICAgIGNvbnN0IGRyYXdlck9wZW5CdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtcGFnZS1kcmF3ZXItb3Blbl0nKTtcbiAgICBjb25zdCBkcmF3ZXJDbG9zZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1wYWdlLWRyYXdlci1jbG9zZV0nKTtcbiAgICBjb25zdCBhZGRQYWdlVG9nZ2xlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRkLXBhZ2UtdG9nZ2xlXScpO1xuICAgIGNvbnN0IGFkZFBhZ2VGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRkLXBhZ2UtZm9ybV0nKTtcbiAgICBjb25zdCBhZGRQYWdlTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFkZC1wYWdlLW5hbWVdJyk7XG4gICAgY29uc3QgYWRkUGFnZVRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRkLXBhZ2UtdGl0bGVdJyk7XG4gICAgY29uc3QgYWRkUGFnZVNsdWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZGQtcGFnZS1zbHVnXScpO1xuICAgIGNvbnN0IGFkZFBhZ2VDYW5jZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZGQtcGFnZS1jYW5jZWxdJyk7XG4gICAgY29uc3QgYWRkUGFnZUVycm9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRkLXBhZ2UtZXJyb3JdJyk7XG4gICAgY29uc3QgYWRkUGFnZVN1Ym1pdEJ1dHRvbiA9IGFkZFBhZ2VGb3JtPy5xdWVyeVNlbGVjdG9yKCdbdHlwZT1cInN1Ym1pdFwiXScpO1xuICAgIC8vIEltcG9ydCBKU09OIGVsZW1lbnRzXG4gICAgY29uc3QgaW1wb3J0VG9nZ2xlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaW1wb3J0LXBhZ2VzLXRvZ2dsZV0nKTtcbiAgICBjb25zdCBpbXBvcnRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWltcG9ydC1tb2RhbF0nKTtcbiAgICBjb25zdCBpbXBvcnRDbG9zZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1pbXBvcnQtbW9kYWwtY2xvc2VdJyk7XG4gICAgY29uc3QgaW1wb3J0RHJvcHpvbmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbXBvcnQtZHJvcHpvbmVdJyk7XG4gICAgY29uc3QgaW1wb3J0RmlsZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaW1wb3J0LWZpbGUtaW5wdXRdJyk7XG4gICAgY29uc3QgaW1wb3J0RmlsZUxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbXBvcnQtZmlsZS1saXN0XScpO1xuICAgIGNvbnN0IGltcG9ydEZpbGVOYW1lcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWltcG9ydC1maWxlLW5hbWVzXScpO1xuICAgIGNvbnN0IGltcG9ydFJlc3VsdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbXBvcnQtcmVzdWx0c10nKTtcbiAgICBjb25zdCBpbXBvcnRSZXN1bHRzQ29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWltcG9ydC1yZXN1bHRzLWNvbnRlbnRdJyk7XG4gICAgY29uc3QgaW1wb3J0U3VibWl0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaW1wb3J0LXN1Ym1pdF0nKTtcbiAgICBjb25zdCBpbXBvcnRUYWJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtaW1wb3J0LXRhYl0nKTtcbiAgICBjb25zdCBpbXBvcnRQYW5lbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1pbXBvcnQtcGFuZWxdJyk7XG4gICAgY29uc3QgY29weVRlbXBsYXRlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29weS10ZW1wbGF0ZV0nKTtcbiAgICBjb25zdCB0ZW1wbGF0ZUpzb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS10ZW1wbGF0ZS1qc29uXScpO1xuICAgIC8vIFBhc3RlIEpTT04gZWxlbWVudHNcbiAgICBjb25zdCBpbXBvcnRQYXN0ZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaW1wb3J0LXBhc3RlLWpzb25dJyk7XG4gICAgY29uc3QgcGFzdGVGb3JtYXRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1mb3JtYXQtanNvbl0nKTtcbiAgICBjb25zdCBwYXN0ZUVycm9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaW1wb3J0LXBhc3RlLWVycm9yXScpO1xuICAgIGxldCBpbXBvcnRTZWxlY3RlZEZpbGVzID0gW107XG4gICAgbGV0IGFjdGl2ZUltcG9ydFRhYiA9ICd1cGxvYWQnO1xuICAgIC8vIERlbGV0ZSBwYWdlIGVsZW1lbnRzXG4gICAgY29uc3QgZGVsZXRlUGFnZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVsZXRlLXBhZ2UtbW9kYWxdJyk7XG4gICAgY29uc3QgZGVsZXRlUGFnZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZWxldGUtcGFnZS1uYW1lXScpO1xuICAgIGNvbnN0IGRlbGV0ZVBhZ2VDYW5jZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZWxldGUtcGFnZS1jYW5jZWxdJyk7XG4gICAgY29uc3QgZGVsZXRlUGFnZUNvbmZpcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZWxldGUtcGFnZS1jb25maXJtXScpO1xuICAgIGxldCBwYWdlVG9EZWxldGUgPSBudWxsO1xuICAgIGNvbnN0IHNpdGVLZXkgPVxuICAgICAgc3RyaXBMZWFkaW5nU2xhc2god29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnZGVmYXVsdCcpIHx8ICdkZWZhdWx0JztcbiAgICBjb25zdCBzaXRlU2x1Z1ZhbHVlID0gd29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnJztcbiAgICBjb25zdCBzYWZlU2l0ZVNsdWcgPSBzdHJpcExlYWRpbmdTbGFzaChzaXRlU2x1Z1ZhbHVlKSB8fCAnJztcbiAgICBjb25zdCBwYWdlc0FwaUJhc2UgPSBzYWZlU2l0ZVNsdWdcbiAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnKX0vcGFnZXNgXG4gICAgICA6IG51bGw7XG4gICAgY29uc3QgY29sbGVjdGlvbnNBcGlCYXNlID0gc2FmZVNpdGVTbHVnXG4gICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Zyl9L2NvbGxlY3Rpb25zYFxuICAgICAgOiBudWxsO1xuICAgIGNvbnN0IHN0b3JhZ2VLZXlzID0ge1xuICAgICAgYWN0aXZlOiBgY2xvd2VyOmFjdGl2ZVBhZ2U6JHtzaXRlS2V5fWAsXG4gICAgfTtcbiAgICBjb25zdCBjcmVhdGVCbG9jayA9IChpZCwgbGFiZWwsIHR5cGUsIHN0YXR1cywgZGVzY3JpcHRpb24sIHByb3BzID0gW10sIHNldHRpbmdzID0ge30pID0+IHtcbiAgICAgIGNvbnN0IGJsb2NrID0ge1xuICAgICAgICBpZCxcbiAgICAgICAgbGFiZWwsXG4gICAgICAgIHR5cGUsXG4gICAgICAgIHN0YXR1cyxcbiAgICAgICAgZGVzY3JpcHRpb24sXG4gICAgICAgIHByb3BzLFxuICAgICAgICBzZXR0aW5nczogeyAuLi5zZXR0aW5ncyB9LFxuICAgICAgfTtcbiAgICAgIGlmIChibG9jay5zZXR0aW5ncy5jb2xsZWN0aW9uSWQpIHtcbiAgICAgICAgYmxvY2suY29sbGVjdGlvbklkID0gYmxvY2suc2V0dGluZ3MuY29sbGVjdGlvbklkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJsb2NrO1xuICAgIH07XG4gICAgY29uc3QgYmxvY2tMaWJyYXJ5RGVmaW5pdGlvbnMgPSB7XG4gICAgICBoZXJvOiB7XG4gICAgICAgIHR5cGU6ICdIZXJvJyxcbiAgICAgICAgbGFiZWw6ICdIZXJvIGRlIHBhZ2UnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ1NlY3Rpb24gcGxlaW5lIGxhcmdldXIgYXZlYyBDVEEgcHJpbmNpcGFsLicsXG4gICAgICAgIHN0YXR1czogJ0Jyb3VpbGxvbicsXG4gICAgICAgIHByb3BzOiBbXG4gICAgICAgICAgeyBsYWJlbDogJ0NUQScsIHZhbHVlOiAnRFx1MDBFOWNvdXZyaXInIH0sXG4gICAgICAgICAgeyBsYWJlbDogJ0hhdXRldXInLCB2YWx1ZTogJzgwdmgnIH0sXG4gICAgICAgIF0sXG4gICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgdGl0bGU6ICdUaXRyZSBkdSBoZXJvJyxcbiAgICAgICAgICBzdWJ0aXRsZTogJycsXG4gICAgICAgICAgY3RhTGFiZWw6ICdEXHUwMEU5Y291dnJpcicsXG4gICAgICAgICAgY3RhVXJsOiAnIycsXG4gICAgICAgICAgaW1hZ2U6ICcnLFxuICAgICAgICAgIGFsaWduOiAnY2VudGVyJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBwYXJhZ3JhcGg6IHtcbiAgICAgICAgdHlwZTogJ1BhcmFncmFwaGUnLFxuICAgICAgICBsYWJlbDogJ0Jsb2MgXHUwMEU5ZGl0b3JpYWwnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ1BhcmFncmFwaGUgbGlicmUgcG91ciByYWNvbnRlciB2b3RyZSBoaXN0b2lyZS4nLFxuICAgICAgICBzdGF0dXM6ICdCcm91aWxsb24nLFxuICAgICAgICBwcm9wczogW3sgbGFiZWw6ICdMb25ndWV1cicsIHZhbHVlOiAnMTUwIG1vdHMnIH1dLFxuICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgIHRpdGxlOiAnVGl0cmUgZHUgcGFyYWdyYXBoZScsXG4gICAgICAgICAgY29udGVudDogJycsXG4gICAgICAgICAgYWxpZ246ICdsZWZ0JyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBpbWFnZToge1xuICAgICAgICB0eXBlOiAnSW1hZ2UnLFxuICAgICAgICBsYWJlbDogJ0Jsb2MgaW1hZ2UnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ1Zpc3VlbCBzZXVsIGF2ZWMgbFx1MDBFOWdlbmRlIG9wdGlvbm5lbGxlLicsXG4gICAgICAgIHN0YXR1czogJ0Jyb3VpbGxvbicsXG4gICAgICAgIHByb3BzOiBbXG4gICAgICAgICAgeyBsYWJlbDogJ1JhdGlvJywgdmFsdWU6ICcxNjo5JyB9LFxuICAgICAgICAgIHsgbGFiZWw6ICdMXHUwMEU5Z2VuZGUnLCB2YWx1ZTogJ0luYWN0aXZlJyB9LFxuICAgICAgICBdLFxuICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgIHNyYzogJycsXG4gICAgICAgICAgYWx0OiAnJyxcbiAgICAgICAgICBzaG93Q2FwdGlvbjogZmFsc2UsXG4gICAgICAgICAgY2FwdGlvbjogJycsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgZ3JvdXA6IHtcbiAgICAgICAgdHlwZTogJ0dyb3VwZScsXG4gICAgICAgIGxhYmVsOiAnR3JvdXBlIGRlIHNlY3Rpb25zJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdDb250ZW5ldXIgcG91ciBpbWJyaXF1ZXIgcGx1c2lldXJzIHNvdXMtYmxvY3MuJyxcbiAgICAgICAgc3RhdHVzOiAnQnJvdWlsbG9uJyxcbiAgICAgICAgcHJvcHM6IFt7IGxhYmVsOiAnRGlzcG9zaXRpb24nLCB2YWx1ZTogJ1ZlcnRpY2FsZScgfV0sXG4gICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgbGF5b3V0OiAnZ3JpZCcsXG4gICAgICAgICAgY29sdW1uc01vYmlsZTogJzEnLFxuICAgICAgICAgIGNvbHVtbnNEZXNrdG9wOiAnMycsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgY29sbGVjdGlvbmdyaWQ6IHtcbiAgICAgICAgdHlwZTogJ0NvbGxlY3Rpb25HcmlkJyxcbiAgICAgICAgbGFiZWw6ICdHcmlsbGUgZGUgY29udGVudXMnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0FmZmljaGUgYXV0b21hdGlxdWVtZW50IGxlcyBpdGVtcyBkXHUyMDE5dW5lIGNvbGxlY3Rpb24uJyxcbiAgICAgICAgc3RhdHVzOiAnQnJvdWlsbG9uJyxcbiAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICBjb2xsZWN0aW9uSWQ6ICcnLFxuICAgICAgICAgIGxpbWl0OiA2LFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGZvcm06IHtcbiAgICAgICAgdHlwZTogJ0Zvcm0nLFxuICAgICAgICBsYWJlbDogJ0Zvcm11bGFpcmUgZGUgY29udGFjdCcsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnRm9ybXVsYWlyZSBhdmVjIGVudm9pIHZlcnMgdW4gc2VydmljZSBleHRlcm5lLicsXG4gICAgICAgIHN0YXR1czogJ0Jyb3VpbGxvbicsXG4gICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgZm9ybVRpdGxlOiAnQ29udGFjdGV6LW5vdXMnLFxuICAgICAgICAgIGFjdGlvblVybDogJycsXG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgc2VydmljZU5hbWU6ICcnLFxuICAgICAgICAgIHN1Ym1pdExhYmVsOiAnRW52b3llcicsXG4gICAgICAgICAgc3VjY2Vzc01lc3NhZ2U6ICdNZXJjaSBwb3VyIHZvdHJlIG1lc3NhZ2UgIScsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgbmV3c2xldHRlcmVtYmVkOiB7XG4gICAgICAgIHR5cGU6ICdOZXdzbGV0dGVyRW1iZWQnLFxuICAgICAgICBsYWJlbDogJ05ld3NsZXR0ZXIgLyBFbWJlZCcsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnSW50XHUwMEU5Z3JhdGlvbiBkXFwndW4gZm9ybXVsYWlyZSBuZXdzbGV0dGVyIGV4dGVybmUgKEJyZXZvLCBNYWlsY2hpbXBcdTIwMjYpLicsXG4gICAgICAgIHN0YXR1czogJ0Jyb3VpbGxvbicsXG4gICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgdGl0bGU6ICdSZXN0ZXogaW5mb3JtXHUwMEU5JyxcbiAgICAgICAgICBzZXJ2aWNlTmFtZTogJycsXG4gICAgICAgICAgZW1iZWRDb2RlOiAnJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfTtcbiAgICBjb25zdCBwZXJzaXN0QWN0aXZlUGFnZSA9IChwYWdlSWQpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShzdG9yYWdlS2V5cy5hY3RpdmUsIHBhZ2VJZCk7XG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgLyogaWdub3JlIHN0b3JhZ2UgZXJyb3JzICovXG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBnZXRTdG9yZWRBY3RpdmVQYWdlID0gKHBhZ2VzKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBzdG9yZWQgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oc3RvcmFnZUtleXMuYWN0aXZlKTtcbiAgICAgICAgaWYgKHN0b3JlZCAmJiBwYWdlcy5zb21lKChwYWdlKSA9PiBwYWdlLmlkID09PSBzdG9yZWQpKSB7XG4gICAgICAgICAgcmV0dXJuIHN0b3JlZDtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCB7XG4gICAgICAgIC8qIGlnbm9yZSBzdG9yYWdlIGVycm9ycyAqL1xuICAgICAgfVxuICAgICAgcmV0dXJuIHBhZ2VzWzBdPy5pZCB8fCBudWxsO1xuICAgIH07XG4gICAgY29uc3QgZm9ybWF0QmxvY2tDb3VudCA9IChjb3VudCkgPT4ge1xuICAgICAgaWYgKCFjb3VudCB8fCBjb3VudCA8PSAwKSB7XG4gICAgICAgIHJldHVybiAnMCBibG9jJztcbiAgICAgIH1cbiAgICAgIHJldHVybiBjb3VudCA9PT0gMSA/ICcxIGJsb2MnIDogYCR7Y291bnR9IGJsb2NzYDtcbiAgICB9O1xuICAgIGNvbnN0IG5vcm1hbGl6ZVBhZ2VTbHVnID0gKHZhbHVlKSA9PiB7XG4gICAgICBpZiAoIXZhbHVlIHx8IHZhbHVlID09PSAnLycpIHtcbiAgICAgICAgcmV0dXJuICcvJztcbiAgICAgIH1cbiAgICAgIGNvbnN0IGJhc2UgPSB3b3Jrc3BhY2VTbHVnaWZ5KHZhbHVlLnJlcGxhY2UoL15cXC8vLCAnJykpO1xuICAgICAgcmV0dXJuIGJhc2UgPyBgLyR7YmFzZX1gIDogJy8nO1xuICAgIH07XG4gICAgY29uc3QgZ2VuZXJhdGVCbG9ja0lkID0gKHBhZ2VJZCA9ICdwYWdlJywga2V5ID0gJ2Jsb2NrJykgPT5cbiAgICAgIGAke3BhZ2VJZH0tJHtrZXl9LSR7RGF0ZS5ub3coKS50b1N0cmluZygzNil9LSR7TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMCl9YDtcbiAgICBjb25zdCBjcmVhdGVJbml0aWFsQmxvY2tzID0gKHBhZ2VJZCwgdGl0bGUpID0+IFtcbiAgICAgIGNyZWF0ZUJsb2NrKFxuICAgICAgICBnZW5lcmF0ZUJsb2NrSWQocGFnZUlkLCAnaW50cm8nKSxcbiAgICAgICAgJ0ludHJvZHVjdGlvbicsXG4gICAgICAgICdQYXJhZ3JhcGhlJyxcbiAgICAgICAgJ0Jyb3VpbGxvbicsXG4gICAgICAgIGBQYXJhZ3JhcGhlIGludHJvZHVjdGlmIHBvdXIgXCIke3RpdGxlfVwiLmAsXG4gICAgICAgIFt7IGxhYmVsOiAnTG9uZ3VldXInLCB2YWx1ZTogJzIgcGFyYWdyYXBoZXMnIH1dLFxuICAgICAgICB7XG4gICAgICAgICAgdGl0bGU6IGBJbnRyb2R1Y3Rpb24gXHUwMEUwICR7dGl0bGV9YCxcbiAgICAgICAgICBjb250ZW50OiAnQWpvdXRleiB2b3RyZSBwcmVtaWVyIHBhcmFncmFwaGUgZGUgcHJcdTAwRTlzZW50YXRpb24uJyxcbiAgICAgICAgICBhbGlnbjogJ2xlZnQnLFxuICAgICAgICB9LFxuICAgICAgKSxcbiAgICAgIGNyZWF0ZUJsb2NrKFxuICAgICAgICBnZW5lcmF0ZUJsb2NrSWQocGFnZUlkLCAnY29udGVudCcpLFxuICAgICAgICAnWm9uZSBkZSBjb250ZW51JyxcbiAgICAgICAgJ0dyb3VwZScsXG4gICAgICAgICdCcm91aWxsb24nLFxuICAgICAgICAnU2VjdGlvbiBwcmluY2lwYWxlIFx1MDBFMCBjb21wb3NlciBhdmVjIHRleHRlcyBldCB2aXN1ZWxzLicsXG4gICAgICAgIFt7IGxhYmVsOiAnQ29sb25uZXMnLCB2YWx1ZTogJ0F1dG8nIH1dLFxuICAgICAgICB7XG4gICAgICAgICAgbGF5b3V0OiAnZ3JpZCcsXG4gICAgICAgICAgY29sdW1uc01vYmlsZTogJzEnLFxuICAgICAgICAgIGNvbHVtbnNEZXNrdG9wOiAnMicsXG4gICAgICAgIH0sXG4gICAgICApLFxuICAgIF07XG4gICAgY29uc3Qgc2V0QWN0aXZlTGFiZWxzID0gKHBhZ2UpID0+IHtcbiAgICAgIGlmIChhY3RpdmVUaXRsZSkge1xuICAgICAgICAvLyBVc2UgcGFnZS5uYW1lIChzaG9ydCBuYW1lKSBpZiBhdmFpbGFibGUsIGZhbGxiYWNrIHRvIHRpdGxlXG4gICAgICAgIGFjdGl2ZVRpdGxlLnRleHRDb250ZW50ID0gcGFnZT8ubmFtZSB8fCBwYWdlPy50aXRsZSB8fCAnUGFnZSc7XG4gICAgICB9XG4gICAgICBpZiAoYWN0aXZlU2x1Zykge1xuICAgICAgICBhY3RpdmVTbHVnLnRleHRDb250ZW50ID0gcGFnZT8uc2x1ZyB8fCAnLyc7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCByZW5kZXJQcmV2aWV3TWV0YSA9IChwYWdlKSA9PiB7XG4gICAgICBpZiAoIXByZXZpZXdUYWdzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHByZXZpZXdUYWdzLmlubmVySFRNTCA9ICcnO1xuICAgICAgY29uc3QgdGFncyA9XG4gICAgICAgIHBhZ2UgJiYgcGFnZS5iYWRnZXMgJiYgcGFnZS5iYWRnZXMubGVuZ3RoID4gMCA/IHBhZ2UuYmFkZ2VzIDogWydTdHJ1Y3R1cmUgZW4gY291cnMnXTtcbiAgICAgIHRhZ3MuZm9yRWFjaCgodGFnKSA9PiB7XG4gICAgICAgIGNvbnN0IGJhZGdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICBiYWRnZS5jbGFzc05hbWUgPSAncm91bmRlZC1mdWxsIGJnLXNsYXRlLTEwMCBweC0zIHB5LTEnO1xuICAgICAgICBiYWRnZS50ZXh0Q29udGVudCA9IHRhZztcbiAgICAgICAgcHJldmlld1RhZ3MuYXBwZW5kQ2hpbGQoYmFkZ2UpO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICBjb25zdCBnZXRTdGF0dXNCYWRnZUNsYXNzZXMgPSAoc3RhdHVzKSA9PiB7XG4gICAgICBzd2l0Y2ggKChzdGF0dXMgfHwgJycpLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgY2FzZSAnZW4gbGlnbmUnOlxuICAgICAgICAgIHJldHVybiAnYmctZW1lcmFsZC01MCB0ZXh0LWVtZXJhbGQtNzAwJztcbiAgICAgICAgY2FzZSAnYnJvdWlsbG9uJzpcbiAgICAgICAgICByZXR1cm4gJ2JnLWFtYmVyLTUwIHRleHQtYW1iZXItNzAwJztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gJ2JnLXNsYXRlLTEwMCB0ZXh0LXNsYXRlLTYwMCc7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCByZW5kZXJCbG9ja0RldGFpbHMgPSAoYmxvY2spID0+IHtcbiAgICAgIGlmICghYmxvY2tEZXRhaWxFbXB0eSB8fCAhYmxvY2tFZGl0b3IpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFibG9jaykge1xuICAgICAgICBibG9ja0RldGFpbEVtcHR5LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICBibG9ja0VkaXRvci5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgYmxvY2tFZGl0b3JVbnN1cHBvcnRlZD8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIGJsb2NrRm9ybT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIGJsb2NrRGV0YWlsU3RhdHVzPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYmxvY2tEZXRhaWxFbXB0eS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGJsb2NrRWRpdG9yLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgaWYgKGJsb2NrRGV0YWlsU3RhdHVzKSB7XG4gICAgICAgIGlmIChibG9jay5zdGF0dXMpIHtcbiAgICAgICAgICBibG9ja0RldGFpbFN0YXR1cy50ZXh0Q29udGVudCA9IGJsb2NrLnN0YXR1cztcbiAgICAgICAgICBibG9ja0RldGFpbFN0YXR1cy5jbGFzc05hbWUgPSBgcm91bmRlZC1mdWxsIHB4LTMgcHktMSB0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgJHtnZXRTdGF0dXNCYWRnZUNsYXNzZXMoXG4gICAgICAgICAgICBibG9jay5zdGF0dXMsXG4gICAgICAgICAgKX1gO1xuICAgICAgICAgIGJsb2NrRGV0YWlsU3RhdHVzLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGJsb2NrRGV0YWlsU3RhdHVzLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBwb3B1bGF0ZUJsb2NrRm9ybShibG9jayk7XG4gICAgfTtcbiAgICBjb25zdCBhcHBseVByZXZpZXdIaWdobGlnaHQgPSAoYmxvY2tJZCkgPT4ge1xuICAgICAgaWYgKCFwcmV2aWV3RnJhbWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgZG9jID0gcHJldmlld0ZyYW1lLmNvbnRlbnREb2N1bWVudDtcbiAgICAgIGlmICghZG9jKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG5vZGVzID0gZG9jLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXByZXZpZXctYmxvY2tdJyk7XG4gICAgICBub2Rlcy5mb3JFYWNoKChub2RlKSA9PiB7XG4gICAgICAgIGlmIChub2RlLmRhdGFzZXQucHJldmlld0Jsb2NrID09PSBibG9ja0lkKSB7XG4gICAgICAgICAgbm9kZS5jbGFzc0xpc3QuYWRkKCdwcmV2aWV3LWJsb2NrLWFjdGl2ZScpO1xuICAgICAgICAgIGlmIChwcmV2aWV3UmVhZHkgJiYgYmxvY2tJZCkge1xuICAgICAgICAgICAgbm9kZS5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiAnc21vb3RoJywgYmxvY2s6ICdjZW50ZXInLCBpbmxpbmU6ICduZWFyZXN0JyB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbm9kZS5jbGFzc0xpc3QucmVtb3ZlKCdwcmV2aWV3LWJsb2NrLWFjdGl2ZScpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmIChwcmV2aWV3SGlnaGxpZ2h0T3ZlcmxheSkge1xuICAgICAgICBwcmV2aWV3SGlnaGxpZ2h0T3ZlcmxheS5zdHlsZS5ib3JkZXJDb2xvciA9IGJsb2NrSWQgPyAncmdiYSgxNTYsIDEwNywgMjU1LCAwLjUpJyA6ICd0cmFuc3BhcmVudCc7XG4gICAgICB9XG4gICAgfTtcbiAgICAvLyBGb25jdGlvbiBwb3VyIGNyXHUwMEU5ZXIgdW4gXHUwMEU5bFx1MDBFOW1lbnQgZGUgYmxvYyAodXRpbGlzXHUwMEU5IHBvdXIgbGVzIGJsb2NzIGV0IGxlcyBlbmZhbnRzIGRlIGdyb3VwZSlcbiAgICBjb25zdCBjcmVhdGVCbG9ja0l0ZW1FbGVtZW50ID0gKGJsb2NrLCBpc05lc3RlZCA9IGZhbHNlLCBwYXJlbnRJZCA9IG51bGwpID0+IHtcbiAgICAgIGNvbnN0IGlzQWN0aXZlID0gYmxvY2suaWQgPT09IGFjdGl2ZUJsb2NrSWQ7XG4gICAgICBjb25zdCBibG9ja1R5cGUgPSAoYmxvY2sudHlwZSB8fCAnJykudG9Mb3dlckNhc2UoKTtcbiAgICAgIGNvbnN0IGlzR3JvdXAgPSBibG9ja1R5cGUgPT09ICdncm91cGUnIHx8IGJsb2NrVHlwZSA9PT0gJ2dyb3VwJyB8fCBibG9ja1R5cGUgPT09ICdzZWN0aW9ucycgfHwgYmxvY2tUeXBlID09PSAnZ3JpZCc7XG4gICAgICBcbiAgICAgIGNvbnN0IGl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGl0ZW0uZGF0YXNldC5ibG9ja0l0ZW0gPSAndHJ1ZSc7XG4gICAgICBpdGVtLmRhdGFzZXQuYmxvY2tJZCA9IGJsb2NrLmlkO1xuICAgICAgaWYgKHBhcmVudElkKSBpdGVtLmRhdGFzZXQucGFyZW50QmxvY2tJZCA9IHBhcmVudElkO1xuICAgICAgaWYgKGlzR3JvdXApIGl0ZW0uZGF0YXNldC5pc0dyb3VwID0gJ3RydWUnO1xuICAgICAgaXRlbS5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnb3B0aW9uJyk7XG4gICAgICBpdGVtLnNldEF0dHJpYnV0ZSgnYXJpYS1zZWxlY3RlZCcsIGlzQWN0aXZlID8gJ3RydWUnIDogJ2ZhbHNlJyk7XG4gICAgICBpdGVtLnNldEF0dHJpYnV0ZSgnZHJhZ2dhYmxlJywgJ3RydWUnKTtcbiAgICAgIGl0ZW0udGFiSW5kZXggPSAwO1xuICAgICAgaXRlbS5jbGFzc05hbWUgPSBbXG4gICAgICAgICdyZWxhdGl2ZSBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMyByb3VuZGVkLTJ4bCBib3JkZXIgcHgtMyBweS0yIHRleHQtbGVmdCB0cmFuc2l0aW9uIGdyb3VwJyxcbiAgICAgICAgaXNOZXN0ZWQgPyAnbWwtNiBib3JkZXItZGFzaGVkJyA6ICcnLFxuICAgICAgICBpc0FjdGl2ZVxuICAgICAgICAgID8gJ2JnLXNsYXRlLTEwMCBib3JkZXItWyM5QzZCRkZdLzQwIHNoYWRvdy1zbSdcbiAgICAgICAgICA6ICdib3JkZXItc2xhdGUtMjAwIGhvdmVyOmJvcmRlci1bIzlDNkJGRl0vNDAnLFxuICAgICAgXS5qb2luKCcgJyk7XG4gICAgICBcbiAgICAgIGNvbnN0IGFjY2VudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgIGFjY2VudC5jbGFzc05hbWUgPSBgYWJzb2x1dGUgaW5zZXQteS0yIGxlZnQtMCB3LTEgcm91bmRlZC1mdWxsIGJnLVsjOUM2QkZGXSAke2lzQWN0aXZlID8gJycgOiAnaGlkZGVuJ31gO1xuICAgICAgaXRlbS5hcHBlbmRDaGlsZChhY2NlbnQpO1xuXG4gICAgICBjb25zdCBjb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBjb250ZW50LmNsYXNzTmFtZSA9ICdmbGV4IGZsZXgtMSBpdGVtcy1jZW50ZXIgZ2FwLTMnO1xuICAgICAgXG4gICAgICBjb25zdCBoYW5kbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGhhbmRsZS5jbGFzc05hbWUgPSAnaGlkZGVuIGxnOmZsZXggY3Vyc29yLWdyYWIgYWN0aXZlOmN1cnNvci1ncmFiYmluZyBmbGV4LXNocmluay0wIGl0ZW1zLWNlbnRlciB0ZXh0LWxnIHRleHQtc2xhdGUtNDAwIGhvdmVyOnRleHQtc2xhdGUtNjAwIHRyYW5zaXRpb24tY29sb3JzIHNlbGVjdC1ub25lJztcbiAgICAgIGhhbmRsZS5pbm5lckhUTUwgPSAnXHUyMkVFXHUyMkVFJztcbiAgICAgIGhhbmRsZS5zZXRBdHRyaWJ1dGUoJ3RpdGxlJywgJ0dsaXNzZXIgcG91ciByXHUwMEU5b3Jkb25uZXInKTtcbiAgICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQoaGFuZGxlKTtcblxuICAgICAgY29uc3QgdGV4dFdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHRleHRXcmFwcGVyLmNsYXNzTmFtZSA9ICdmbGV4LTEnO1xuICAgICAgXG4gICAgICBjb25zdCBtZXRhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBtZXRhLmNsYXNzTmFtZSA9ICdmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiB0ZXh0LVsxMXB4XSB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZSB0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICBcbiAgICAgIGNvbnN0IHR5cGVCYWRnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgIHR5cGVCYWRnZS5jbGFzc05hbWUgPSAncm91bmRlZC1mdWxsIGJnLXNsYXRlLTEwMCBweC0yIHB5LTAuNSB0ZXh0LVsxMHB4XSBmb250LXNlbWlib2xkIHRleHQtc2xhdGUtNjAwJztcbiAgICAgIHR5cGVCYWRnZS50ZXh0Q29udGVudCA9IGJsb2NrLnR5cGU7XG4gICAgICBcbiAgICAgIGNvbnN0IHN0YXR1c0JhZGdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgc3RhdHVzQmFkZ2UuY2xhc3NOYW1lID0gJ3RleHQtc2xhdGUtNDAwJztcbiAgICAgIHN0YXR1c0JhZGdlLnRleHRDb250ZW50ID0gYmxvY2suc3RhdHVzO1xuICAgICAgXG4gICAgICBtZXRhLmFwcGVuZENoaWxkKHR5cGVCYWRnZSk7XG4gICAgICBpZiAoaXNHcm91cCkge1xuICAgICAgICBjb25zdCBjaGlsZENvdW50ID0gKGJsb2NrLmNoaWxkcmVuIHx8IFtdKS5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGNoaWxkQmFkZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgIGNoaWxkQmFkZ2UuY2xhc3NOYW1lID0gJ3JvdW5kZWQtZnVsbCBiZy12aW9sZXQtMTAwIHB4LTIgcHktMC41IHRleHQtWzEwcHhdIGZvbnQtc2VtaWJvbGQgdGV4dC12aW9sZXQtNjAwJztcbiAgICAgICAgY2hpbGRCYWRnZS50ZXh0Q29udGVudCA9IGAke2NoaWxkQ291bnR9IFx1MDBFOWxcdTAwRTltZW50JHtjaGlsZENvdW50ICE9PSAxID8gJ3MnIDogJyd9YDtcbiAgICAgICAgbWV0YS5hcHBlbmRDaGlsZChjaGlsZEJhZGdlKTtcbiAgICAgIH1cbiAgICAgIG1ldGEuYXBwZW5kQ2hpbGQoc3RhdHVzQmFkZ2UpO1xuICAgICAgXG4gICAgICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICAgIHRpdGxlLmNsYXNzTmFtZSA9ICdtdC0xIHRleHQtc20gZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTkwMCc7XG4gICAgICBjb25zdCBkaXNwbGF5TGFiZWwgPSAoYmxvY2suc2V0dGluZ3MgJiYgYmxvY2suc2V0dGluZ3MudGl0bGUpIHx8IGJsb2NrLmxhYmVsIHx8ICdCbG9jIHNhbnMgdGl0cmUnO1xuICAgICAgdGl0bGUudGV4dENvbnRlbnQgPSBkaXNwbGF5TGFiZWw7XG4gICAgICBcbiAgICAgIHRleHRXcmFwcGVyLmFwcGVuZENoaWxkKG1ldGEpO1xuICAgICAgdGV4dFdyYXBwZXIuYXBwZW5kQ2hpbGQodGl0bGUpO1xuICAgICAgXG4gICAgICBpZiAoYmxvY2tUeXBlID09PSAnY29sbGVjdGlvbmdyaWQnICYmIGJsb2NrLmNvbGxlY3Rpb25JZCkge1xuICAgICAgICBjb25zdCBjb2xsZWN0aW9uTmFtZSA9IGRlc2lnbkNvbGxlY3Rpb25zLmZpbmQoKGVudHJ5KSA9PiBlbnRyeS5pZCA9PT0gYmxvY2suY29sbGVjdGlvbklkKT8ubmFtZSB8fCBibG9jay5jb2xsZWN0aW9uSWQ7XG4gICAgICAgIGNvbnN0IGluZm8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgICAgIGluZm8uY2xhc3NOYW1lID0gJ3RleHQteHMgdGV4dC1zbGF0ZS00MDAnO1xuICAgICAgICBpbmZvLnRleHRDb250ZW50ID0gYENvbGxlY3Rpb24gOiAke2NvbGxlY3Rpb25OYW1lfWA7XG4gICAgICAgIHRleHRXcmFwcGVyLmFwcGVuZENoaWxkKGluZm8pO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb250ZW50LmFwcGVuZENoaWxkKHRleHRXcmFwcGVyKTtcbiAgICAgIGl0ZW0uYXBwZW5kQ2hpbGQoY29udGVudCk7XG5cbiAgICAgIGNvbnN0IGFjdGlvbnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGFjdGlvbnMuY2xhc3NOYW1lID0gJ2ZsZXggZmxleC1jb2wgZ2FwLTEgdGV4dC14cyB0ZXh0LXNsYXRlLTQwMCc7XG5cbiAgICAgIGNvbnN0IG1vdmVCdXR0b25zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBtb3ZlQnV0dG9ucy5jbGFzc05hbWUgPSAnZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEgbGc6aGlkZGVuJztcbiAgICAgIGNvbnN0IG1vdmVVcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgbW92ZVVwLnR5cGUgPSAnYnV0dG9uJztcbiAgICAgIG1vdmVVcC5jbGFzc05hbWUgPSAncm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLXNsYXRlLTIwMCBweC0yIHB5LTEgdGV4dC1bMTFweF0gZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICBtb3ZlVXAudGV4dENvbnRlbnQgPSAnXHUyMTkxJztcbiAgICAgIG1vdmVVcC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgaWYgKHBhcmVudElkKSB7XG4gICAgICAgICAgbW92ZUNoaWxkQmxvY2tCeU9mZnNldChwYXJlbnRJZCwgYmxvY2suaWQsIC0xKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtb3ZlQmxvY2tCeU9mZnNldChibG9jay5pZCwgLTEpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGNvbnN0IG1vdmVEb3duID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICBtb3ZlRG93bi50eXBlID0gJ2J1dHRvbic7XG4gICAgICBtb3ZlRG93bi5jbGFzc05hbWUgPSAncm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLXNsYXRlLTIwMCBweC0yIHB5LTEgdGV4dC1bMTFweF0gZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICBtb3ZlRG93bi50ZXh0Q29udGVudCA9ICdcdTIxOTMnO1xuICAgICAgbW92ZURvd24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGlmIChwYXJlbnRJZCkge1xuICAgICAgICAgIG1vdmVDaGlsZEJsb2NrQnlPZmZzZXQocGFyZW50SWQsIGJsb2NrLmlkLCAxKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtb3ZlQmxvY2tCeU9mZnNldChibG9jay5pZCwgMSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgbW92ZUJ1dHRvbnMuYXBwZW5kQ2hpbGQobW92ZVVwKTtcbiAgICAgIG1vdmVCdXR0b25zLmFwcGVuZENoaWxkKG1vdmVEb3duKTtcbiAgICAgIGFjdGlvbnMuYXBwZW5kQ2hpbGQobW92ZUJ1dHRvbnMpO1xuXG4gICAgICBjb25zdCBkZWxldGVCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgIGRlbGV0ZUJ1dHRvbi50eXBlID0gJ2J1dHRvbic7XG4gICAgICBkZWxldGVCdXR0b24uY2xhc3NOYW1lID0gJ2lubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciByb3VuZGVkLWxnIGJvcmRlciBib3JkZXItdHJhbnNwYXJlbnQgcHgtMiBweS0xIHRleHQtWzEycHhdIHRleHQtcm9zZS01MDAgaG92ZXI6dGV4dC1yb3NlLTcwMCc7XG4gICAgICBkZWxldGVCdXR0b24uaW5uZXJIVE1MID0gJ1x1RDgzRFx1REREMVx1RkUwRic7XG4gICAgICBkZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGlmIChwYXJlbnRJZCkge1xuICAgICAgICAgIHJlbW92ZUNoaWxkRnJvbUdyb3VwKHBhcmVudElkLCBibG9jay5pZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb3BlbkJsb2NrRGVsZXRlTW9kYWwoYmxvY2suaWQpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgYWN0aW9ucy5hcHBlbmRDaGlsZChkZWxldGVCdXR0b24pO1xuICAgICAgaXRlbS5hcHBlbmRDaGlsZChhY3Rpb25zKTtcblxuICAgICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgc2V0QWN0aXZlQmxvY2soYmxvY2suaWQsIHBhcmVudElkKTtcbiAgICAgIH0pO1xuICAgICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmIChldmVudC5rZXkgPT09ICdFbnRlcicgfHwgZXZlbnQua2V5ID09PSAnICcpIHtcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIHNldEFjdGl2ZUJsb2NrKGJsb2NrLmlkLCBwYXJlbnRJZCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgXG4gICAgICByZXR1cm4geyBpdGVtLCBpc0dyb3VwLCBibG9jayB9O1xuICAgIH07XG4gICAgXG4gICAgLy8gRm9uY3Rpb24gcG91ciBjclx1MDBFOWVyIGxhIHpvbmUgZGUgZHJvcCBwb3VyIHVuIGdyb3VwZVxuICAgIGNvbnN0IGNyZWF0ZUdyb3VwRHJvcFpvbmUgPSAocGFyZW50QmxvY2spID0+IHtcbiAgICAgIGNvbnN0IGRyb3Bab25lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBkcm9wWm9uZS5kYXRhc2V0Lmdyb3VwRHJvcFpvbmUgPSBwYXJlbnRCbG9jay5pZDtcbiAgICAgIGRyb3Bab25lLmNsYXNzTmFtZSA9ICdtbC02IGJvcmRlci0yIGJvcmRlci1kYXNoZWQgYm9yZGVyLXNsYXRlLTIwMCByb3VuZGVkLXhsIHAtMyB0ZXh0LWNlbnRlciB0ZXh0LXhzIHRleHQtc2xhdGUtNDAwIGhvdmVyOmJvcmRlci12aW9sZXQtMzAwIGhvdmVyOmJnLXZpb2xldC01MC81MCB0cmFuc2l0aW9uLWNvbG9ycyBjdXJzb3ItcG9pbnRlcic7XG4gICAgICBkcm9wWm9uZS5pbm5lckhUTUwgPSAnPHNwYW4gY2xhc3M9XCJwb2ludGVyLWV2ZW50cy1ub25lXCI+XHVEODNEXHVEQ0U2IEdsaXNzZXogdW4gYmxvYyBpY2kgb3UgY2xpcXVleiBwb3VyIGFqb3V0ZXI8L3NwYW4+JztcbiAgICAgIFxuICAgICAgLy8gXHUwMEM5dlx1MDBFOW5lbWVudHMgZGUgZHJhZyAmIGRyb3BcbiAgICAgIGRyb3Bab25lLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgKGUpID0+IHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBkcm9wWm9uZS5jbGFzc0xpc3QuYWRkKCdib3JkZXItdmlvbGV0LTQwMCcsICdiZy12aW9sZXQtNTAnKTtcbiAgICAgIH0pO1xuICAgICAgZHJvcFpvbmUuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2xlYXZlJywgKGUpID0+IHtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgZHJvcFpvbmUuY2xhc3NMaXN0LnJlbW92ZSgnYm9yZGVyLXZpb2xldC00MDAnLCAnYmctdmlvbGV0LTUwJyk7XG4gICAgICB9KTtcbiAgICAgIGRyb3Bab25lLmFkZEV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCAoZSkgPT4ge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGRyb3Bab25lLmNsYXNzTGlzdC5yZW1vdmUoJ2JvcmRlci12aW9sZXQtNDAwJywgJ2JnLXZpb2xldC01MCcpO1xuICAgICAgICBjb25zdCBibG9ja0lkID0gZS5kYXRhVHJhbnNmZXIuZ2V0RGF0YSgndGV4dC9wbGFpbicpO1xuICAgICAgICBpZiAoYmxvY2tJZCAmJiBibG9ja0lkICE9PSBwYXJlbnRCbG9jay5pZCkge1xuICAgICAgICAgIG1vdmVCbG9ja1RvR3JvdXAoYmxvY2tJZCwgcGFyZW50QmxvY2suaWQpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgLy8gQ2xpYyBwb3VyIGFqb3V0ZXIgdW4gYmxvYyBhdSBncm91cGVcbiAgICAgIGRyb3Bab25lLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBvcGVuQWRkQmxvY2tUb0dyb3VwTW9kYWwocGFyZW50QmxvY2suaWQpO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIHJldHVybiBkcm9wWm9uZTtcbiAgICB9O1xuXG4gICAgY29uc3QgcmVuZGVyQmxvY2tMaXN0ID0gKHBhZ2UpID0+IHtcbiAgICAgIGlmICghYmxvY2tMaXN0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGJsb2NrTGlzdC5pbm5lckhUTUwgPSAnJztcbiAgICAgIGNvbnN0IGJsb2NrcyA9IHBhZ2U/LmJsb2NrcyB8fCBbXTtcbiAgICAgIGlmIChibG9ja0NvdW50QmFkZ2UpIHtcbiAgICAgICAgYmxvY2tDb3VudEJhZGdlLnRleHRDb250ZW50ID0gZm9ybWF0QmxvY2tDb3VudChibG9ja3MubGVuZ3RoKTtcbiAgICAgIH1cbiAgICAgIGlmIChibG9ja3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGJsb2NrTGlzdC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgYmxvY2tMaXN0RW1wdHk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBibG9ja0xpc3QuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBibG9ja0xpc3RFbXB0eT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBcbiAgICAgIGJsb2Nrcy5mb3JFYWNoKChibG9jaykgPT4ge1xuICAgICAgICBjb25zdCB7IGl0ZW0sIGlzR3JvdXAgfSA9IGNyZWF0ZUJsb2NrSXRlbUVsZW1lbnQoYmxvY2ssIGZhbHNlLCBudWxsKTtcbiAgICAgICAgYmxvY2tMaXN0LmFwcGVuZENoaWxkKGl0ZW0pO1xuICAgICAgICBcbiAgICAgICAgLy8gU2kgYydlc3QgdW4gZ3JvdXBlLCBhZmZpY2hlciBsZXMgZW5mYW50cyBldCBsYSB6b25lIGRlIGRyb3BcbiAgICAgICAgaWYgKGlzR3JvdXApIHtcbiAgICAgICAgICBjb25zdCBjaGlsZHJlbiA9IGJsb2NrLmNoaWxkcmVuIHx8IFtdO1xuICAgICAgICAgIGNoaWxkcmVuLmZvckVhY2goKGNoaWxkKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IGl0ZW06IGNoaWxkSXRlbSB9ID0gY3JlYXRlQmxvY2tJdGVtRWxlbWVudChjaGlsZCwgdHJ1ZSwgYmxvY2suaWQpO1xuICAgICAgICAgICAgYmxvY2tMaXN0LmFwcGVuZENoaWxkKGNoaWxkSXRlbSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgLy8gWm9uZSBkZSBkcm9wIHBvdXIgYWpvdXRlciBkZXMgYmxvY3MgYXUgZ3JvdXBlXG4gICAgICAgICAgY29uc3QgZHJvcFpvbmUgPSBjcmVhdGVHcm91cERyb3Bab25lKGJsb2NrKTtcbiAgICAgICAgICBibG9ja0xpc3QuYXBwZW5kQ2hpbGQoZHJvcFpvbmUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuICAgIFxuICAgIC8vIEZvbmN0aW9ucyBwb3VyIGdcdTAwRTlyZXIgbGVzIGVuZmFudHMgZGVzIGdyb3VwZXNcbiAgICBjb25zdCBtb3ZlQmxvY2tUb0dyb3VwID0gKGJsb2NrSWQsIGdyb3VwSWQpID0+IHtcbiAgICAgIGlmICghY3VycmVudFBhZ2UpIHJldHVybjtcbiAgICAgIGNvbnN0IGJsb2NrSW5kZXggPSBjdXJyZW50UGFnZS5ibG9ja3MuZmluZEluZGV4KChiKSA9PiBiLmlkID09PSBibG9ja0lkKTtcbiAgICAgIGNvbnN0IGdyb3VwQmxvY2sgPSBjdXJyZW50UGFnZS5ibG9ja3MuZmluZCgoYikgPT4gYi5pZCA9PT0gZ3JvdXBJZCk7XG4gICAgICBpZiAoYmxvY2tJbmRleCA9PT0gLTEgfHwgIWdyb3VwQmxvY2spIHJldHVybjtcbiAgICAgIFxuICAgICAgLy8gTmUgcGFzIHBlcm1ldHRyZSBkZSBkXHUwMEU5cGxhY2VyIHVuIGdyb3VwZSBkYW5zIHVuIGdyb3VwZVxuICAgICAgY29uc3QgYmxvY2sgPSBjdXJyZW50UGFnZS5ibG9ja3NbYmxvY2tJbmRleF07XG4gICAgICBjb25zdCBibG9ja1R5cGUgPSAoYmxvY2sudHlwZSB8fCAnJykudG9Mb3dlckNhc2UoKTtcbiAgICAgIGlmIChibG9ja1R5cGUgPT09ICdncm91cGUnIHx8IGJsb2NrVHlwZSA9PT0gJ2dyb3VwJykge1xuICAgICAgICBzaG93VG9hc3QoJ0ltcG9zc2libGUgZFxcJ2ltYnJpcXVlciBkZXMgZ3JvdXBlcycsICdlcnJvcicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFJldGlyZXIgbGUgYmxvYyBkZSBsYSBsaXN0ZSBwcmluY2lwYWxlXG4gICAgICBjb25zdCBbbW92ZWRCbG9ja10gPSBjdXJyZW50UGFnZS5ibG9ja3Muc3BsaWNlKGJsb2NrSW5kZXgsIDEpO1xuICAgICAgXG4gICAgICAvLyBBam91dGVyIGF1IGdyb3VwZVxuICAgICAgaWYgKCFncm91cEJsb2NrLmNoaWxkcmVuKSBncm91cEJsb2NrLmNoaWxkcmVuID0gW107XG4gICAgICBncm91cEJsb2NrLmNoaWxkcmVuLnB1c2gobW92ZWRCbG9jayk7XG4gICAgICBcbiAgICAgIHJlbmRlckJsb2NrTGlzdChjdXJyZW50UGFnZSk7XG4gICAgICBzYXZlUGFnZUJsb2NrcygpO1xuICAgICAgc2hvd1RvYXN0KGBCbG9jIGFqb3V0XHUwMEU5IGF1IGdyb3VwZWApO1xuICAgIH07XG4gICAgXG4gICAgY29uc3QgcmVtb3ZlQ2hpbGRGcm9tR3JvdXAgPSAoZ3JvdXBJZCwgY2hpbGRJZCkgPT4ge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSkgcmV0dXJuO1xuICAgICAgY29uc3QgZ3JvdXBCbG9jayA9IGN1cnJlbnRQYWdlLmJsb2Nrcy5maW5kKChiKSA9PiBiLmlkID09PSBncm91cElkKTtcbiAgICAgIGlmICghZ3JvdXBCbG9jayB8fCAhZ3JvdXBCbG9jay5jaGlsZHJlbikgcmV0dXJuO1xuICAgICAgXG4gICAgICBjb25zdCBjaGlsZEluZGV4ID0gZ3JvdXBCbG9jay5jaGlsZHJlbi5maW5kSW5kZXgoKGMpID0+IGMuaWQgPT09IGNoaWxkSWQpO1xuICAgICAgaWYgKGNoaWxkSW5kZXggPT09IC0xKSByZXR1cm47XG4gICAgICBcbiAgICAgIC8vIFJldGlyZXIgbCdlbmZhbnQgZHUgZ3JvdXBlIGV0IGxlIHJlbWV0dHJlIGRhbnMgbGEgbGlzdGUgcHJpbmNpcGFsZSBhcHJcdTAwRThzIGxlIGdyb3VwZVxuICAgICAgY29uc3QgW2NoaWxkXSA9IGdyb3VwQmxvY2suY2hpbGRyZW4uc3BsaWNlKGNoaWxkSW5kZXgsIDEpO1xuICAgICAgY29uc3QgZ3JvdXBJbmRleCA9IGN1cnJlbnRQYWdlLmJsb2Nrcy5maW5kSW5kZXgoKGIpID0+IGIuaWQgPT09IGdyb3VwSWQpO1xuICAgICAgY3VycmVudFBhZ2UuYmxvY2tzLnNwbGljZShncm91cEluZGV4ICsgMSwgMCwgY2hpbGQpO1xuICAgICAgXG4gICAgICByZW5kZXJCbG9ja0xpc3QoY3VycmVudFBhZ2UpO1xuICAgICAgc2F2ZVBhZ2VCbG9ja3MoKTtcbiAgICAgIHNob3dUb2FzdChgQmxvYyBzb3J0aSBkdSBncm91cGVgKTtcbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IG1vdmVDaGlsZEJsb2NrQnlPZmZzZXQgPSAoZ3JvdXBJZCwgY2hpbGRJZCwgb2Zmc2V0KSA9PiB7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlKSByZXR1cm47XG4gICAgICBjb25zdCBncm91cEJsb2NrID0gY3VycmVudFBhZ2UuYmxvY2tzLmZpbmQoKGIpID0+IGIuaWQgPT09IGdyb3VwSWQpO1xuICAgICAgaWYgKCFncm91cEJsb2NrIHx8ICFncm91cEJsb2NrLmNoaWxkcmVuKSByZXR1cm47XG4gICAgICBcbiAgICAgIGNvbnN0IGN1cnJlbnRJbmRleCA9IGdyb3VwQmxvY2suY2hpbGRyZW4uZmluZEluZGV4KChjKSA9PiBjLmlkID09PSBjaGlsZElkKTtcbiAgICAgIGlmIChjdXJyZW50SW5kZXggPT09IC0xKSByZXR1cm47XG4gICAgICBcbiAgICAgIGNvbnN0IG5ld0luZGV4ID0gY3VycmVudEluZGV4ICsgb2Zmc2V0O1xuICAgICAgaWYgKG5ld0luZGV4IDwgMCB8fCBuZXdJbmRleCA+PSBncm91cEJsb2NrLmNoaWxkcmVuLmxlbmd0aCkgcmV0dXJuO1xuICAgICAgXG4gICAgICBjb25zdCBbY2hpbGRdID0gZ3JvdXBCbG9jay5jaGlsZHJlbi5zcGxpY2UoY3VycmVudEluZGV4LCAxKTtcbiAgICAgIGdyb3VwQmxvY2suY2hpbGRyZW4uc3BsaWNlKG5ld0luZGV4LCAwLCBjaGlsZCk7XG4gICAgICBcbiAgICAgIHJlbmRlckJsb2NrTGlzdChjdXJyZW50UGFnZSk7XG4gICAgICBzYXZlUGFnZUJsb2NrcygpO1xuICAgIH07XG4gICAgXG4gICAgY29uc3Qgb3BlbkFkZEJsb2NrVG9Hcm91cE1vZGFsID0gKGdyb3VwSWQpID0+IHtcbiAgICAgIC8vIFV0aWxpc2VyIGxlIG1cdTAwRUFtZSBtb2RhbCBkJ2Fqb3V0IGRlIGJsb2MsIG1haXMgYXZlYyBsZSBjb250ZXh0ZSBkdSBncm91cGVcbiAgICAgIHBlbmRpbmdHcm91cElkRm9yTmV3QmxvY2sgPSBncm91cElkO1xuICAgICAgb3BlbkJsb2NrUGlja2VyKCk7XG4gICAgfTtcbiAgICBcbiAgICBsZXQgcGVuZGluZ0dyb3VwSWRGb3JOZXdCbG9jayA9IG51bGw7XG5cbiAgICAvLyA9PT0gRGVsZXRlIHBhZ2UgaGFuZGxlcnMgKGRlZmluZWQgYmVmb3JlIHJlbmRlclBhZ2VMaXN0cykgPT09XG4gICAgY29uc3Qgb3BlbkRlbGV0ZVBhZ2VNb2RhbCA9IChwYWdlKSA9PiB7XG4gICAgICBpZiAoIWRlbGV0ZVBhZ2VNb2RhbCB8fCAhcGFnZSkgcmV0dXJuO1xuICAgICAgcGFnZVRvRGVsZXRlID0gcGFnZTtcbiAgICAgIGlmIChkZWxldGVQYWdlTmFtZSkgZGVsZXRlUGFnZU5hbWUudGV4dENvbnRlbnQgPSBwYWdlLnRpdGxlIHx8IHBhZ2UuaWQ7XG4gICAgICBkZWxldGVQYWdlTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBkZWxldGVQYWdlTW9kYWwuY2xhc3NMaXN0LmFkZCgnZmxleCcpO1xuICAgICAgYWN0aXZhdGVNb2RhbChkZWxldGVQYWdlTW9kYWwsIGNsb3NlRGVsZXRlUGFnZU1vZGFsKTtcbiAgICB9O1xuICAgIGNvbnN0IGNsb3NlRGVsZXRlUGFnZU1vZGFsID0gKCkgPT4ge1xuICAgICAgaWYgKCFkZWxldGVQYWdlTW9kYWwpIHJldHVybjtcbiAgICAgIGRlbGV0ZVBhZ2VNb2RhbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGRlbGV0ZVBhZ2VNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdmbGV4Jyk7XG4gICAgICBwYWdlVG9EZWxldGUgPSBudWxsO1xuICAgICAgZGVhY3RpdmF0ZU1vZGFsKGRlbGV0ZVBhZ2VNb2RhbCk7XG4gICAgfTtcbiAgICBjb25zdCBleGVjdXRlRGVsZXRlUGFnZSA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghcGFnZXNBcGlCYXNlIHx8ICFwYWdlVG9EZWxldGUpIHJldHVybjtcbiAgICAgIGNvbnN0IHBhZ2VJZCA9IHBhZ2VUb0RlbGV0ZS5pZDtcbiAgICAgIGNvbnN0IHBhZ2VUaXRsZSA9IHBhZ2VUb0RlbGV0ZS50aXRsZSB8fCBwYWdlSWQ7XG4gICAgICBpZiAoZGVsZXRlUGFnZUNvbmZpcm0pIHtcbiAgICAgICAgZGVsZXRlUGFnZUNvbmZpcm0uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICBkZWxldGVQYWdlQ29uZmlybS50ZXh0Q29udGVudCA9ICdTdXBwcmVzc2lvbi4uLic7XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke3BhZ2VzQXBpQmFzZX0vJHtlbmNvZGVVUklDb21wb25lbnQocGFnZUlkKX1gLCB7XG4gICAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgICAgICBjcmVkZW50aWFsczogJ2luY2x1ZGUnLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5tZXNzYWdlIHx8ICdFcnJldXIgc2VydmV1cicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFN1cHByaW1lciBkZSBsYSBsaXN0ZSBsb2NhbGVcbiAgICAgICAgcGFnZXMgPSBwYWdlcy5maWx0ZXIoKHApID0+IHAuaWQgIT09IHBhZ2VJZCk7XG4gICAgICAgIC8vIFNpIGxhIHBhZ2Ugc3VwcHJpbVx1MDBFOWUgXHUwMEU5dGFpdCBhY3RpdmUsIHNcdTAwRTlsZWN0aW9ubmVyIGxhIHByZW1pXHUwMEU4cmVcbiAgICAgICAgaWYgKGFjdGl2ZVBhZ2VJZCA9PT0gcGFnZUlkKSB7XG4gICAgICAgICAgaWYgKHBhZ2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHNldEFjdGl2ZVBhZ2UocGFnZXNbMF0uaWQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhY3RpdmVQYWdlSWQgPSBudWxsO1xuICAgICAgICAgICAgY3VycmVudFBhZ2UgPSBudWxsO1xuICAgICAgICAgICAgcmVuZGVyUGFnZUxpc3RzKHBhZ2VzLCBudWxsKTtcbiAgICAgICAgICAgIHJlbmRlckJsb2NrTGlzdChudWxsKTtcbiAgICAgICAgICAgIGJsb2NrRGV0YWlsRW1wdHk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgICAgYmxvY2tFZGl0b3I/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICAgICAgcHJldmlld0ZyYW1lICYmIChwcmV2aWV3RnJhbWUuc3JjZG9jID0gZ2V0TG9hZGluZ1ByZXZpZXdIdG1sKCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZW5kZXJQYWdlTGlzdHMocGFnZXMsIGFjdGl2ZVBhZ2VJZCk7XG4gICAgICAgIH1cbiAgICAgICAgY2xvc2VEZWxldGVQYWdlTW9kYWwoKTtcbiAgICAgICAgc2hvd1RvYXN0KGBQYWdlIFwiJHtwYWdlVGl0bGV9XCIgc3VwcHJpbVx1MDBFOWVgKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbcGFnZXNdIGRlbGV0ZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBzdXBwcmVzc2lvbicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKGRlbGV0ZVBhZ2VDb25maXJtKSB7XG4gICAgICAgICAgZGVsZXRlUGFnZUNvbmZpcm0uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICBkZWxldGVQYWdlQ29uZmlybS50ZXh0Q29udGVudCA9ICdTdXBwcmltZXInO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHJlbmRlclBhZ2VMaXN0cyA9IChwYWdlcywgYWN0aXZlSWQpID0+IHtcbiAgICAgIHBhZ2VMaXN0cy5mb3JFYWNoKChsaXN0KSA9PiB7XG4gICAgICAgIGxpc3QuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgIHBhZ2VzLmZvckVhY2goKHBhZ2UpID0+IHtcbiAgICAgICAgICBjb25zdCBpdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgICBpdGVtLmNsYXNzTmFtZSA9ICdmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMSc7XG4gICAgICAgICAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgICAgYnV0dG9uLnR5cGUgPSAnYnV0dG9uJztcbiAgICAgICAgICBidXR0b24uZGF0YXNldC5wYWdlSWQgPSBwYWdlLmlkO1xuICAgICAgICAgIGJ1dHRvbi5jbGFzc05hbWUgPSBbXG4gICAgICAgICAgICAnZmxleC0xIGZsZXggaXRlbXMtY2VudGVyIGdhcC0zIHB4LTMgcHktMiB0ZXh0LWxlZnQgdHJhbnNpdGlvbicsXG4gICAgICAgICAgICBhY3RpdmVJZCA9PT0gcGFnZS5pZFxuICAgICAgICAgICAgICA/ICdiZy1bIzlDNkJGRl0vMTAgdGV4dC1zbGF0ZS05MDAgYm9yZGVyIGJvcmRlci1bIzlDNkJGRl0vNDAgcm91bmRlZC14bCBzaGFkb3ctc20nXG4gICAgICAgICAgICAgIDogJ3RleHQtc2xhdGUtNzAwIGhvdmVyOmJnLXNsYXRlLTUwIHJvdW5kZWQteGwnLFxuICAgICAgICAgIF0uam9pbignICcpO1xuICAgICAgICAgIGlmIChhY3RpdmVJZCA9PT0gcGFnZS5pZCkge1xuICAgICAgICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZSgnYXJpYS1jdXJyZW50JywgJ3BhZ2UnKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYnV0dG9uLnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1jdXJyZW50Jyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIFVzZSBwYWdlLm5hbWUgKHNob3J0IG5hbWUpIGlmIGF2YWlsYWJsZSwgZmFsbGJhY2sgdG8gdGl0bGVcbiAgICAgICAgICBjb25zdCBkaXNwbGF5TmFtZSA9IHBhZ2UubmFtZSB8fCBwYWdlLnRpdGxlO1xuICAgICAgICAgIGNvbnN0IGlzSGlkZGVuRnJvbU5hdiA9IHBhZ2UuYWNjZXNzaWJpbGl0eT8uc2hvd0luTWFpbk5hdiA9PT0gZmFsc2U7XG4gICAgICAgICAgY29uc3QgbmF2QmFkZ2UgPSBpc0hpZGRlbkZyb21OYXZcbiAgICAgICAgICAgID8gJzxzcGFuIGNsYXNzPVwidGV4dC1bMTBweF0gZm9udC1zZW1pYm9sZCB0ZXh0LWFtYmVyLTYwMFwiPk1hc3F1XHUwMEU5IGR1IG1lbnU8L3NwYW4+J1xuICAgICAgICAgICAgOiAnJztcbiAgICAgICAgICBidXR0b24uaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJmbGV4IGgtOSB3LTkgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHJvdW5kZWQteGwgYm9yZGVyIGJvcmRlci1zbGF0ZS0yMDAgYmctd2hpdGUgdGV4dC1zbGF0ZS01MDBcIj5cbiAgICAgICAgICAgICAgPHN2ZyB3aWR0aD1cIjE4XCIgaGVpZ2h0PVwiMThcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBhcmlhLWhpZGRlbj1cInRydWVcIj5cbiAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTYuNSA0LjVoN2w0IDR2MTFhMSAxIDAgMCAxLTEgMWgtMTBhMSAxIDAgMCAxLTEtMXYtMTRhMSAxIDAgMCAxIDEtMVpcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIxLjRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiLz5cbiAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTEzLjUgNC41djRhMSAxIDAgMCAwIDEgMWgzXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMS40XCIvPlxuICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC1zbSBmb250LXNlbWlib2xkXCI+JHtkaXNwbGF5TmFtZX08L3NwYW4+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC14cyB0ZXh0LXNsYXRlLTUwMFwiPiR7cGFnZS5zbHVnfTwvc3Bhbj5cbiAgICAgICAgICAgICAgJHtuYXZCYWRnZX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIGA7XG4gICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgc2V0QWN0aXZlUGFnZShwYWdlLmlkKTtcbiAgICAgICAgICAgIGlmICghaXNEZXNrdG9wRHJhd2VyKCkpIHtcbiAgICAgICAgICAgICAgY2xvc2VEcmF3ZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpdGVtLmFwcGVuZENoaWxkKGJ1dHRvbik7XG4gICAgICAgICAgLy8gQm91dG9uIGRlIHN1cHByZXNzaW9uXG4gICAgICAgICAgY29uc3QgZGVsZXRlQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgICAgZGVsZXRlQnRuLnR5cGUgPSAnYnV0dG9uJztcbiAgICAgICAgICBkZWxldGVCdG4uY2xhc3NOYW1lID0gJ2ZsZXgtc2hyaW5rLTAgcC0yIHRleHQtc2xhdGUtNDAwIGhvdmVyOnRleHQtcm9zZS02MDAgaG92ZXI6Ymctcm9zZS01MCByb3VuZGVkLWxnIHRyYW5zaXRpb24nO1xuICAgICAgICAgIGRlbGV0ZUJ0bi50aXRsZSA9ICdTdXBwcmltZXIgY2V0dGUgcGFnZSc7XG4gICAgICAgICAgZGVsZXRlQnRuLnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIGBTdXBwcmltZXIgJHtkaXNwbGF5TmFtZX1gKTtcbiAgICAgICAgICBkZWxldGVCdG4uaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgPHN2ZyB3aWR0aD1cIjE2XCIgaGVpZ2h0PVwiMTZcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCI+XG4gICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMyA2aDE4TTggNlY0YTIgMiAwIDAgMSAyLTJoNGEyIDIgMCAwIDEgMiAydjJtMyAwdjE0YTIgMiAwIDAgMS0yIDJIN2EyIDIgMCAwIDEtMi0yVjZoMTRaTTEwIDExdjZNMTQgMTF2NlwiLz5cbiAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgIGA7XG4gICAgICAgICAgZGVsZXRlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICBvcGVuRGVsZXRlUGFnZU1vZGFsKHBhZ2UpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGl0ZW0uYXBwZW5kQ2hpbGQoZGVsZXRlQnRuKTtcbiAgICAgICAgICBsaXN0LmFwcGVuZENoaWxkKGl0ZW0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgY29uc3QgZ2V0QWN0aXZlQmxvY2sgPSAoKSA9PiB7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlIHx8ICFBcnJheS5pc0FycmF5KGN1cnJlbnRQYWdlLmJsb2NrcykpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICAvLyBDaGVyY2hlciBsZSBibG9jIGRhbnMgbGEgbGlzdGUgcHJpbmNpcGFsZSBvdSBkYW5zIGxlcyBlbmZhbnRzIGRlcyBncm91cGVzXG4gICAgICBsZXQgYmxvY2sgPSBjdXJyZW50UGFnZS5ibG9ja3MuZmluZCgoYmxvY2spID0+IGJsb2NrLmlkID09PSBhY3RpdmVCbG9ja0lkKTtcbiAgICAgIGlmICghYmxvY2spIHtcbiAgICAgICAgZm9yIChjb25zdCBiIG9mIGN1cnJlbnRQYWdlLmJsb2Nrcykge1xuICAgICAgICAgIGlmIChiLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBibG9jayA9IGIuY2hpbGRyZW4uZmluZCgoY2hpbGQpID0+IGNoaWxkLmlkID09PSBhY3RpdmVCbG9ja0lkKTtcbiAgICAgICAgICAgIGlmIChibG9jaykgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gYmxvY2sgfHwgbnVsbDtcbiAgICB9O1xuICAgIFxuICAgIC8vIFZhcmlhYmxlIHBvdXIgc3RvY2tlciBsZSBwYXJlbnQgZHUgYmxvYyBhY3RpZiAoc2kgYydlc3QgdW4gZW5mYW50IGRlIGdyb3VwZSlcbiAgICBsZXQgYWN0aXZlQmxvY2tQYXJlbnRJZCA9IG51bGw7XG4gICAgXG4gICAgY29uc3Qgc2V0QWN0aXZlQmxvY2sgPSAoYmxvY2tJZCwgcGFyZW50SWQgPSBudWxsKSA9PiB7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghYmxvY2tJZCkge1xuICAgICAgICBhY3RpdmVCbG9ja0lkID0gbnVsbDtcbiAgICAgICAgYWN0aXZlQmxvY2tQYXJlbnRJZCA9IG51bGw7XG4gICAgICAgIHJlbmRlckJsb2NrTGlzdChjdXJyZW50UGFnZSk7XG4gICAgICAgIHJlbmRlckJsb2NrRGV0YWlscyhudWxsKTtcbiAgICAgICAgYXBwbHlQcmV2aWV3SGlnaGxpZ2h0KG51bGwpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBcbiAgICAgIGxldCB0YXJnZXRCbG9jayA9IG51bGw7XG4gICAgICBcbiAgICAgIC8vIENoZXJjaGVyIGRhbnMgbGVzIGJsb2NzIHByaW5jaXBhdXhcbiAgICAgIHRhcmdldEJsb2NrID0gY3VycmVudFBhZ2UuYmxvY2tzLmZpbmQoKGJsb2NrKSA9PiBibG9jay5pZCA9PT0gYmxvY2tJZCk7XG4gICAgICBcbiAgICAgIC8vIFNpIHBhcyB0cm91dlx1MDBFOSBldCBxdSdvbiBhIHVuIHBhcmVudElkLCBjaGVyY2hlciBkYW5zIGxlcyBlbmZhbnRzIGR1IHBhcmVudFxuICAgICAgaWYgKCF0YXJnZXRCbG9jayAmJiBwYXJlbnRJZCkge1xuICAgICAgICBjb25zdCBwYXJlbnRCbG9jayA9IGN1cnJlbnRQYWdlLmJsb2Nrcy5maW5kKChiKSA9PiBiLmlkID09PSBwYXJlbnRJZCk7XG4gICAgICAgIGlmIChwYXJlbnRCbG9jayAmJiBwYXJlbnRCbG9jay5jaGlsZHJlbikge1xuICAgICAgICAgIHRhcmdldEJsb2NrID0gcGFyZW50QmxvY2suY2hpbGRyZW4uZmluZCgoY2hpbGQpID0+IGNoaWxkLmlkID09PSBibG9ja0lkKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBTaW5vbiBjaGVyY2hlciBkYW5zIHRvdXMgbGVzIGdyb3VwZXNcbiAgICAgIGlmICghdGFyZ2V0QmxvY2spIHtcbiAgICAgICAgZm9yIChjb25zdCBiIG9mIGN1cnJlbnRQYWdlLmJsb2Nrcykge1xuICAgICAgICAgIGlmIChiLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBjb25zdCBmb3VuZCA9IGIuY2hpbGRyZW4uZmluZCgoY2hpbGQpID0+IGNoaWxkLmlkID09PSBibG9ja0lkKTtcbiAgICAgICAgICAgIGlmIChmb3VuZCkge1xuICAgICAgICAgICAgICB0YXJnZXRCbG9jayA9IGZvdW5kO1xuICAgICAgICAgICAgICBwYXJlbnRJZCA9IGIuaWQ7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBGYWxsYmFjayBzdXIgbGUgcHJlbWllciBibG9jXG4gICAgICBpZiAoIXRhcmdldEJsb2NrKSB7XG4gICAgICAgIHRhcmdldEJsb2NrID0gY3VycmVudFBhZ2UuYmxvY2tzWzBdIHx8IG51bGw7XG4gICAgICAgIHBhcmVudElkID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgYWN0aXZlQmxvY2tJZCA9IHRhcmdldEJsb2NrPy5pZCB8fCBudWxsO1xuICAgICAgYWN0aXZlQmxvY2tQYXJlbnRJZCA9IHBhcmVudElkO1xuICAgICAgcmVuZGVyQmxvY2tMaXN0KGN1cnJlbnRQYWdlKTtcbiAgICAgIHJlbmRlckJsb2NrRGV0YWlscyh0YXJnZXRCbG9jayk7XG4gICAgICBhcHBseVByZXZpZXdIaWdobGlnaHQoYWN0aXZlQmxvY2tJZCk7XG4gICAgfTtcbiAgICBjb25zdCB1cGRhdGVDdXJyZW50UGFnZUJsb2NrcyA9IChuZXdCbG9ja3MpID0+IHtcbiAgICAgIGlmICghY3VycmVudFBhZ2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgbmV4dFBhZ2UgPSB7IC4uLmN1cnJlbnRQYWdlLCBibG9ja3M6IG5ld0Jsb2NrcyB9O1xuICAgICAgdXBkYXRlQ3VycmVudFBhZ2VTdGF0ZShuZXh0UGFnZSk7XG4gICAgfTtcbiAgICBjb25zdCBpc0Rlc2t0b3BSZW9yZGVyID0gKCkgPT4gd2luZG93Lm1hdGNoTWVkaWEoJyhtaW4td2lkdGg6IDEwMjRweCknKS5tYXRjaGVzO1xuICAgIGZ1bmN0aW9uIG1vdmVCbG9ja0J5T2Zmc2V0KGJsb2NrSWQsIG9mZnNldCkge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSB8fCAhYmxvY2tJZCB8fCAhb2Zmc2V0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGJsb2NrcyA9IFsuLi4oY3VycmVudFBhZ2UuYmxvY2tzIHx8IFtdKV07XG4gICAgICBjb25zdCBpbmRleCA9IGJsb2Nrcy5maW5kSW5kZXgoKGJsb2NrKSA9PiBibG9jay5pZCA9PT0gYmxvY2tJZCk7XG4gICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG5ld0luZGV4ID0gaW5kZXggKyBvZmZzZXQ7XG4gICAgICBpZiAobmV3SW5kZXggPCAwIHx8IG5ld0luZGV4ID49IGJsb2Nrcy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgW21vdmVkXSA9IGJsb2Nrcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgYmxvY2tzLnNwbGljZShuZXdJbmRleCwgMCwgbW92ZWQpO1xuICAgICAgdXBkYXRlQ3VycmVudFBhZ2VCbG9ja3MoYmxvY2tzKTtcbiAgICAgIHNldEFjdGl2ZVBhZ2UoY3VycmVudFBhZ2UuaWQsIHsgcHJlc2VydmVCbG9jazogdHJ1ZSB9KTtcbiAgICAgIHNldEFjdGl2ZUJsb2NrKG1vdmVkLmlkKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVvcmRlckJsb2Nrcyhzb3VyY2VJZCwgdGFyZ2V0SWQpIHtcbiAgICAgIGlmICghY3VycmVudFBhZ2UgfHwgIXNvdXJjZUlkIHx8ICF0YXJnZXRJZCB8fCBzb3VyY2VJZCA9PT0gdGFyZ2V0SWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgYmxvY2tzID0gWy4uLihjdXJyZW50UGFnZS5ibG9ja3MgfHwgW10pXTtcbiAgICAgIGNvbnN0IGZyb21JbmRleCA9IGJsb2Nrcy5maW5kSW5kZXgoKGJsb2NrKSA9PiBibG9jay5pZCA9PT0gc291cmNlSWQpO1xuICAgICAgY29uc3QgdG9JbmRleCA9IGJsb2Nrcy5maW5kSW5kZXgoKGJsb2NrKSA9PiBibG9jay5pZCA9PT0gdGFyZ2V0SWQpO1xuICAgICAgaWYgKGZyb21JbmRleCA8IDAgfHwgdG9JbmRleCA8IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgW21vdmVkXSA9IGJsb2Nrcy5zcGxpY2UoZnJvbUluZGV4LCAxKTtcbiAgICAgIGJsb2Nrcy5zcGxpY2UodG9JbmRleCwgMCwgbW92ZWQpO1xuICAgICAgdXBkYXRlQ3VycmVudFBhZ2VCbG9ja3MoYmxvY2tzKTtcbiAgICAgIHNldEFjdGl2ZVBhZ2UoY3VycmVudFBhZ2UuaWQsIHsgcHJlc2VydmVCbG9jazogdHJ1ZSB9KTtcbiAgICAgIHNldEFjdGl2ZUJsb2NrKG1vdmVkLmlkKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVvcmRlckJsb2Nrc1dpdGhQb3NpdGlvbihzb3VyY2VJZCwgdGFyZ2V0SWQsIHBvc2l0aW9uKSB7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlIHx8ICFzb3VyY2VJZCB8fCAhdGFyZ2V0SWQgfHwgc291cmNlSWQgPT09IHRhcmdldElkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGJsb2NrcyA9IFsuLi4oY3VycmVudFBhZ2UuYmxvY2tzIHx8IFtdKV07XG4gICAgICBjb25zdCBmcm9tSW5kZXggPSBibG9ja3MuZmluZEluZGV4KChibG9jaykgPT4gYmxvY2suaWQgPT09IHNvdXJjZUlkKTtcbiAgICAgIGxldCB0b0luZGV4ID0gYmxvY2tzLmZpbmRJbmRleCgoYmxvY2spID0+IGJsb2NrLmlkID09PSB0YXJnZXRJZCk7XG4gICAgICBpZiAoZnJvbUluZGV4IDwgMCB8fCB0b0luZGV4IDwgMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBbbW92ZWRdID0gYmxvY2tzLnNwbGljZShmcm9tSW5kZXgsIDEpO1xuICAgICAgLy8gQWp1c3RlciBsJ2luZGV4IHNpIG5cdTAwRTljZXNzYWlyZSBhcHJcdTAwRThzIGxhIHN1cHByZXNzaW9uXG4gICAgICBpZiAoZnJvbUluZGV4IDwgdG9JbmRleCkge1xuICAgICAgICB0b0luZGV4LS07XG4gICAgICB9XG4gICAgICAvLyBJbnNcdTAwRTlyZXIgYXZhbnQgb3UgYXByXHUwMEU4cyBsYSBjaWJsZVxuICAgICAgY29uc3QgaW5zZXJ0SW5kZXggPSBwb3NpdGlvbiA9PT0gJ2JlZm9yZScgPyB0b0luZGV4IDogdG9JbmRleCArIDE7XG4gICAgICBibG9ja3Muc3BsaWNlKGluc2VydEluZGV4LCAwLCBtb3ZlZCk7XG4gICAgICB1cGRhdGVDdXJyZW50UGFnZUJsb2NrcyhibG9ja3MpO1xuICAgICAgc2V0QWN0aXZlUGFnZShjdXJyZW50UGFnZS5pZCwgeyBwcmVzZXJ2ZUJsb2NrOiB0cnVlIH0pO1xuICAgICAgc2V0QWN0aXZlQmxvY2sobW92ZWQuaWQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVEcmFnZ2FibGVTdGF0ZSgpIHtcbiAgICAgIGlmICghYmxvY2tMaXN0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRyYWdnYWJsZSA9IGlzRGVza3RvcFJlb3JkZXIoKTtcbiAgICAgIGJsb2NrTGlzdC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1ibG9jay1pdGVtXScpLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgICAgaXRlbS5zZXRBdHRyaWJ1dGUoJ2RyYWdnYWJsZScsIGRyYWdnYWJsZSA/ICd0cnVlJyA6ICdmYWxzZScpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNsb3NlQmxvY2tMaWJyYXJ5KCkge1xuICAgICAgaWYgKCFibG9ja0xpYnJhcnkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYmxvY2tMaWJyYXJ5LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgYmxvY2tMaWJyYXJ5T3BlbiA9IGZhbHNlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBvcGVuQmxvY2tMaWJyYXJ5KCkge1xuICAgICAgaWYgKCFibG9ja0xpYnJhcnkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYmxvY2tMaWJyYXJ5LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgYmxvY2tMaWJyYXJ5T3BlbiA9IHRydWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRvZ2dsZUJsb2NrTGlicmFyeSgpIHtcbiAgICAgIGJsb2NrTGlicmFyeU9wZW4gPyBjbG9zZUJsb2NrTGlicmFyeSgpIDogb3BlbkJsb2NrTGlicmFyeSgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBhZGRCbG9ja0Zyb21MaWJyYXJ5KHR5cGUpIHtcbiAgICAgIGlmICghY3VycmVudFBhZ2UgfHwgIXR5cGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgZGVmaW5pdGlvbiA9IGJsb2NrTGlicmFyeURlZmluaXRpb25zW3R5cGVdO1xuICAgICAgaWYgKCFkZWZpbml0aW9uKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNvdW50ID1cbiAgICAgICAgKGN1cnJlbnRQYWdlLmJsb2NrcyB8fCBbXSkuZmlsdGVyKChibG9jaykgPT4gYmxvY2sudHlwZSA9PT0gZGVmaW5pdGlvbi50eXBlKS5sZW5ndGggKyAxO1xuICAgICAgY29uc3QgbmV3QmxvY2sgPSBjcmVhdGVCbG9jayhcbiAgICAgICAgZ2VuZXJhdGVCbG9ja0lkKGN1cnJlbnRQYWdlLmlkLCB0eXBlKSxcbiAgICAgICAgYCR7ZGVmaW5pdGlvbi5sYWJlbH0gJHtjb3VudH1gLFxuICAgICAgICBkZWZpbml0aW9uLnR5cGUsXG4gICAgICAgIGRlZmluaXRpb24uc3RhdHVzLFxuICAgICAgICBkZWZpbml0aW9uLmRlc2NyaXB0aW9uLFxuICAgICAgICBkZWZpbml0aW9uLnByb3BzLFxuICAgICAgICBkZWZpbml0aW9uLnNldHRpbmdzIHx8IHt9LFxuICAgICAgKTtcbiAgICAgIGlmICgoZGVmaW5pdGlvbi50eXBlIHx8ICcnKS50b0xvd2VyQ2FzZSgpID09PSAnY29sbGVjdGlvbmdyaWQnKSB7XG4gICAgICAgIGNvbnN0IGZpcnN0Q29sbGVjdGlvbklkID0gZGVzaWduQ29sbGVjdGlvbnNbMF0/LmlkIHx8ICcnO1xuICAgICAgICBuZXdCbG9jay5jb2xsZWN0aW9uSWQgPSBmaXJzdENvbGxlY3Rpb25JZDtcbiAgICAgICAgbmV3QmxvY2suc2V0dGluZ3MuY29sbGVjdGlvbklkID0gZmlyc3RDb2xsZWN0aW9uSWQ7XG4gICAgICAgIG5ld0Jsb2NrLnNldHRpbmdzLmxpbWl0ID0gbmV3QmxvY2suc2V0dGluZ3MubGltaXQgfHwgNjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gU2kgb24gYWpvdXRlIFx1MDBFMCB1biBncm91cGVcbiAgICAgIGlmIChwZW5kaW5nR3JvdXBJZEZvck5ld0Jsb2NrKSB7XG4gICAgICAgIGNvbnN0IGdyb3VwQmxvY2sgPSBjdXJyZW50UGFnZS5ibG9ja3MuZmluZCgoYikgPT4gYi5pZCA9PT0gcGVuZGluZ0dyb3VwSWRGb3JOZXdCbG9jayk7XG4gICAgICAgIGlmIChncm91cEJsb2NrKSB7XG4gICAgICAgICAgaWYgKCFncm91cEJsb2NrLmNoaWxkcmVuKSBncm91cEJsb2NrLmNoaWxkcmVuID0gW107XG4gICAgICAgICAgZ3JvdXBCbG9jay5jaGlsZHJlbi5wdXNoKG5ld0Jsb2NrKTtcbiAgICAgICAgICBwZW5kaW5nR3JvdXBJZEZvck5ld0Jsb2NrID0gbnVsbDtcbiAgICAgICAgICByZW5kZXJCbG9ja0xpc3QoY3VycmVudFBhZ2UpO1xuICAgICAgICAgIHNhdmVQYWdlQmxvY2tzKCk7XG4gICAgICAgICAgc2V0QWN0aXZlQmxvY2sobmV3QmxvY2suaWQsIGdyb3VwQmxvY2suaWQpO1xuICAgICAgICAgIGNsb3NlQmxvY2tMaWJyYXJ5KCk7XG4gICAgICAgICAgc2hvd1RvYXN0KCdCbG9jIGFqb3V0XHUwMEU5IGF1IGdyb3VwZScpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBwZW5kaW5nR3JvdXBJZEZvck5ld0Jsb2NrID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgbmV4dEJsb2NrcyA9IFsuLi4oY3VycmVudFBhZ2UuYmxvY2tzIHx8IFtdKSwgbmV3QmxvY2tdO1xuICAgICAgdXBkYXRlQ3VycmVudFBhZ2VCbG9ja3MobmV4dEJsb2Nrcyk7XG4gICAgICBzZXRBY3RpdmVQYWdlKGN1cnJlbnRQYWdlLmlkLCB7IHByZXNlcnZlQmxvY2s6IHRydWUgfSk7XG4gICAgICBzZXRBY3RpdmVCbG9jayhuZXdCbG9jay5pZCk7XG4gICAgICBjbG9zZUJsb2NrTGlicmFyeSgpO1xuICAgICAgc2hvd1RvYXN0KCdCbG9jIGFqb3V0XHUwMEU5Jyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlbGV0ZUJsb2NrQnlJZChibG9ja0lkKSB7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGJsb2NrcyA9IChjdXJyZW50UGFnZS5ibG9ja3MgfHwgW10pLmZpbHRlcigoYmxvY2spID0+IGJsb2NrLmlkICE9PSBibG9ja0lkKTtcbiAgICAgIGNvbnN0IG5leHRBY3RpdmUgPVxuICAgICAgICBibG9ja0lkID09PSBhY3RpdmVCbG9ja0lkID8gYmxvY2tzWzBdPy5pZCB8fCBudWxsIDogYWN0aXZlQmxvY2tJZCB8fCBibG9ja3NbMF0/LmlkIHx8IG51bGw7XG4gICAgICB1cGRhdGVDdXJyZW50UGFnZUJsb2NrcyhibG9ja3MpO1xuICAgICAgYWN0aXZlQmxvY2tJZCA9IG5leHRBY3RpdmU7XG4gICAgICBzZXRBY3RpdmVQYWdlKGN1cnJlbnRQYWdlLmlkLCB7IHByZXNlcnZlQmxvY2s6IHRydWUgfSk7XG4gICAgICBpZiAoYWN0aXZlQmxvY2tJZCkge1xuICAgICAgICBzZXRBY3RpdmVCbG9jayhhY3RpdmVCbG9ja0lkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlbmRlckJsb2NrRGV0YWlscyhudWxsKTtcbiAgICAgICAgYXBwbHlQcmV2aWV3SGlnaGxpZ2h0KG51bGwpO1xuICAgICAgfVxuICAgICAgc2hvd1RvYXN0KCdCbG9jIHN1cHByaW1cdTAwRTknKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2xvc2VCbG9ja0RlbGV0ZU1vZGFsKCkge1xuICAgICAgaWYgKCFibG9ja0RlbGV0ZU1vZGFsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGJsb2NrRGVsZXRlTW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBibG9ja0RlbGV0ZU1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2ZsZXgnKTtcbiAgICAgIHBlbmRpbmdEZWxldGVCbG9ja0lkID0gbnVsbDtcbiAgICAgIGRlYWN0aXZhdGVNb2RhbChibG9ja0RlbGV0ZU1vZGFsKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gb3BlbkJsb2NrRGVsZXRlTW9kYWwoYmxvY2tJZCkge1xuICAgICAgaWYgKCFibG9ja0RlbGV0ZU1vZGFsKSB7XG4gICAgICAgIGRlbGV0ZUJsb2NrQnlJZChibG9ja0lkKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcGVuZGluZ0RlbGV0ZUJsb2NrSWQgPSBibG9ja0lkO1xuICAgICAgYmxvY2tEZWxldGVNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGJsb2NrRGVsZXRlTW9kYWwuY2xhc3NMaXN0LmFkZCgnZmxleCcpO1xuICAgICAgYWN0aXZhdGVNb2RhbChibG9ja0RlbGV0ZU1vZGFsLCBjbG9zZUJsb2NrRGVsZXRlTW9kYWwpO1xuICAgIH1cbiAgICBjb25zdCB1cGRhdGVDdXJyZW50UGFnZVN0YXRlID0gKG5leHRQYWdlKSA9PiB7XG4gICAgICBpZiAoIW5leHRQYWdlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBub3JtYWxpemVQYWdlRGF0YShuZXh0UGFnZSk7XG4gICAgICBwYWdlcyA9IHBhZ2VzLm1hcCgocGFnZSkgPT4gKHBhZ2UuaWQgPT09IG5vcm1hbGl6ZWQuaWQgPyBub3JtYWxpemVkIDogcGFnZSkpO1xuICAgICAgY3VycmVudFBhZ2UgPSBub3JtYWxpemVkO1xuICAgICAgc2F2ZVBhZ2VUb1NlcnZlcihub3JtYWxpemVkKTtcbiAgICB9O1xuICAgIGNvbnN0IHNldEFjdGl2ZVBhZ2UgPSAocGFnZUlkLCBvcHRpb25zID0ge30pID0+IHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IHBhZ2VzLmZpbmQoKHBhZ2UpID0+IHBhZ2UuaWQgPT09IHBhZ2VJZCkgfHwgcGFnZXNbMF0gfHwgbnVsbDtcbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWRUYXJnZXQgPSB0YXJnZXQgPyBub3JtYWxpemVQYWdlRGF0YSh0YXJnZXQpIDogbnVsbDtcbiAgICAgIGN1cnJlbnRQYWdlID0gbm9ybWFsaXplZFRhcmdldDtcbiAgICAgIGFjdGl2ZVBhZ2VJZCA9IHRhcmdldD8uaWQgfHwgbnVsbDtcbiAgICAgIGlmICghb3B0aW9ucy5wcmVzZXJ2ZUJsb2NrIHx8ICFjdXJyZW50UGFnZSB8fCAhY3VycmVudFBhZ2UuYmxvY2tzLnNvbWUoKGJsb2NrKSA9PiBibG9jay5pZCA9PT0gYWN0aXZlQmxvY2tJZCkpIHtcbiAgICAgICAgYWN0aXZlQmxvY2tJZCA9IGN1cnJlbnRQYWdlPy5ibG9ja3M/LlswXT8uaWQgfHwgbnVsbDtcbiAgICAgIH1cbiAgICAgIGlmIChhY3RpdmVQYWdlSWQpIHtcbiAgICAgICAgcGVyc2lzdEFjdGl2ZVBhZ2UoYWN0aXZlUGFnZUlkKTtcbiAgICAgIH1cbiAgICAgIHJlbmRlclBhZ2VMaXN0cyhwYWdlcywgYWN0aXZlUGFnZUlkKTtcbiAgICAgIHNldEFjdGl2ZUxhYmVscyhjdXJyZW50UGFnZSk7XG4gICAgICBzeW5jUGFnZUFjY2Vzc2liaWxpdHlGaWVsZHMoKTtcbiAgICAgIHJlbmRlclByZXZpZXdNZXRhKGN1cnJlbnRQYWdlKTtcbiAgICAgIHJlZnJlc2hQcmV2aWV3KGN1cnJlbnRQYWdlKTtcbiAgICAgIHJlbmRlckJsb2NrTGlzdChjdXJyZW50UGFnZSk7XG4gICAgICByZW5kZXJCbG9ja0RldGFpbHMoZ2V0QWN0aXZlQmxvY2soKSk7XG4gICAgICBhcHBseVByZXZpZXdIaWdobGlnaHQoYWN0aXZlQmxvY2tJZCk7XG4gICAgICB1cGRhdGVEcmFnZ2FibGVTdGF0ZSgpO1xuICAgICAgaWYgKGJsb2NrTGlicmFyeU9wZW4pIHtcbiAgICAgICAgY2xvc2VCbG9ja0xpYnJhcnkoKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGlzRGVza3RvcERyYXdlciA9ICgpID0+IHdpbmRvdy5tYXRjaE1lZGlhKCcobWluLXdpZHRoOiAxMDI0cHgpJykubWF0Y2hlcztcbiAgICBjb25zdCBzeW5jRHJhd2VyU3RhdGUgPSAoKSA9PiB7XG4gICAgICBpZiAoIWRyYXdlcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoaXNEZXNrdG9wRHJhd2VyKCkpIHtcbiAgICAgICAgZHJhd2VyLmNsYXNzTGlzdC5hZGQoJ2lzLW9wZW4nKTtcbiAgICAgICAgZHJhd2VyQmFja2Ryb3A/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ292ZXJmbG93LWhpZGRlbicpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZHJhd2VyLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLW9wZW4nKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IG9wZW5EcmF3ZXIgPSAoKSA9PiB7XG4gICAgICBpZiAoIWRyYXdlciB8fCBpc0Rlc2t0b3BEcmF3ZXIoKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBkcmF3ZXIuY2xhc3NMaXN0LmFkZCgnaXMtb3BlbicpO1xuICAgICAgZHJhd2VyQmFja2Ryb3A/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICB9O1xuICAgIGNvbnN0IGNsb3NlRHJhd2VyID0gKCkgPT4ge1xuICAgICAgaWYgKCFkcmF3ZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZHJhd2VyLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLW9wZW4nKTtcbiAgICAgIGRyYXdlckJhY2tkcm9wPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnb3ZlcmZsb3ctaGlkZGVuJyk7XG4gICAgfTtcbiAgICBjb25zdCBvcGVuQWRkUGFnZUZvcm0gPSAoKSA9PiB7XG4gICAgICBpZiAoIWFkZFBhZ2VGb3JtIHx8ICFhZGRQYWdlVG9nZ2xlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGFkZFBhZ2VGb3JtLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgYWRkUGFnZVRvZ2dsZS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGFkZFBhZ2VFcnJvciAmJiAoYWRkUGFnZUVycm9yLnRleHRDb250ZW50ID0gJycpO1xuICAgICAgcGFnZVNsdWdNYW51YWxseUVkaXRlZCA9IGZhbHNlO1xuICAgICAgaWYgKGFkZFBhZ2VOYW1lKSB7XG4gICAgICAgIGFkZFBhZ2VOYW1lLnZhbHVlID0gJyc7XG4gICAgICAgIGFkZFBhZ2VOYW1lLmZvY3VzKCk7XG4gICAgICB9XG4gICAgICBpZiAoYWRkUGFnZVRpdGxlKSB7XG4gICAgICAgIGFkZFBhZ2VUaXRsZS52YWx1ZSA9ICcnO1xuICAgICAgfVxuICAgICAgaWYgKGFkZFBhZ2VTbHVnKSB7XG4gICAgICAgIGFkZFBhZ2VTbHVnLnZhbHVlID0gJyc7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBjbG9zZUFkZFBhZ2VGb3JtID0gKCkgPT4ge1xuICAgICAgaWYgKCFhZGRQYWdlRm9ybSB8fCAhYWRkUGFnZVRvZ2dsZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhZGRQYWdlRm9ybS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGFkZFBhZ2VUb2dnbGUuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBhZGRQYWdlRXJyb3IgJiYgKGFkZFBhZ2VFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICAgIHBhZ2VTbHVnTWFudWFsbHlFZGl0ZWQgPSBmYWxzZTtcbiAgICAgIGFkZFBhZ2VGb3JtLnJlc2V0KCk7XG4gICAgfTtcbiAgICBjb25zdCBzeW5jU2x1Z0Zyb21OYW1lID0gKCkgPT4ge1xuICAgICAgaWYgKCFhZGRQYWdlTmFtZSB8fCAhYWRkUGFnZVNsdWcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHBhZ2VTbHVnTWFudWFsbHlFZGl0ZWQgJiYgYWRkUGFnZVNsdWcudmFsdWUudHJpbSgpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYWRkUGFnZVNsdWcudmFsdWUgPSBub3JtYWxpemVQYWdlU2x1ZyhhZGRQYWdlTmFtZS52YWx1ZSk7XG4gICAgfTtcblxuICAgIGxldCBwYWdlcyA9IFtdO1xuICAgIGxldCBhY3RpdmVQYWdlSWQgPSBudWxsO1xuICAgIGxldCBwYWdlU2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gICAgbGV0IGN1cnJlbnRQYWdlID0gbnVsbDtcbiAgICBsZXQgYWN0aXZlQmxvY2tJZCA9IG51bGw7XG4gICAgbGV0IGJsb2NrTGlicmFyeU9wZW4gPSBmYWxzZTtcbiAgICBsZXQgcGVuZGluZ0RlbGV0ZUJsb2NrSWQgPSBudWxsO1xuICAgIGxldCBsYXRlc3RQcmV2aWV3SHRtbCA9ICcnO1xuICAgIGxldCBwcmV2aWV3UmVhZHkgPSBmYWxzZTtcbiAgICBsZXQgcHJldmlld1JlcXVlc3RDb250cm9sbGVyID0gbnVsbDtcbiAgICBsZXQgZGVzaWduQ29sbGVjdGlvbnMgPSBbXTtcblxuICAgIGNvbnN0IG5vcm1hbGl6ZUJsb2NrRGF0YSA9IChibG9jaykgPT4ge1xuICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IHtcbiAgICAgICAgLi4uYmxvY2ssXG4gICAgICAgIHByb3BzOiBBcnJheS5pc0FycmF5KGJsb2NrLnByb3BzKSA/IGJsb2NrLnByb3BzIDogW10sXG4gICAgICAgIHNldHRpbmdzOiB7IC4uLihibG9jay5zZXR0aW5ncyB8fCB7fSkgfSxcbiAgICAgIH07XG4gICAgICBjb25zdCB0eXBlID0gKG5vcm1hbGl6ZWQudHlwZSB8fCAnJykudG9Mb3dlckNhc2UoKTtcbiAgICAgIGlmICh0eXBlID09PSAnY29sbGVjdGlvbmdyaWQnKSB7XG4gICAgICAgIG5vcm1hbGl6ZWQuY29sbGVjdGlvbklkID1cbiAgICAgICAgICBub3JtYWxpemVkLmNvbGxlY3Rpb25JZCB8fCBub3JtYWxpemVkLnNldHRpbmdzLmNvbGxlY3Rpb25JZCB8fCAnJztcbiAgICAgICAgbm9ybWFsaXplZC5zZXR0aW5ncy5jb2xsZWN0aW9uSWQgPSBub3JtYWxpemVkLmNvbGxlY3Rpb25JZDtcbiAgICAgICAgbm9ybWFsaXplZC5zZXR0aW5ncy5saW1pdCA9IG5vcm1hbGl6ZWQuc2V0dGluZ3MubGltaXQgfHwgNjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBub3JtYWxpemVkO1xuICAgIH07XG5cbiAgICBjb25zdCBub3JtYWxpemVQYWdlRGF0YSA9IChwYWdlKSA9PiAoe1xuICAgICAgLi4ucGFnZSxcbiAgICAgIGJsb2NrczogKHBhZ2UuYmxvY2tzIHx8IFtdKS5tYXAoKGJsb2NrKSA9PiBub3JtYWxpemVCbG9ja0RhdGEoYmxvY2spKSxcbiAgICAgIHNlbzoge1xuICAgICAgICB0aXRsZTogKHBhZ2Uuc2VvPy50aXRsZSB8fCAnJykudHJpbSgpLFxuICAgICAgICBkZXNjcmlwdGlvbjogKHBhZ2Uuc2VvPy5kZXNjcmlwdGlvbiB8fCAnJykudHJpbSgpLFxuICAgICAgICBpbmRleGVkOlxuICAgICAgICAgIHR5cGVvZiBwYWdlLnNlbz8uaW5kZXhlZCA9PT0gJ2Jvb2xlYW4nID8gcGFnZS5zZW8uaW5kZXhlZCA6IG51bGwsXG4gICAgICB9LFxuICAgICAgYWNjZXNzaWJpbGl0eToge1xuICAgICAgICBzaG93SW5NYWluTmF2OiBwYWdlLmFjY2Vzc2liaWxpdHk/LnNob3dJbk1haW5OYXYgIT09IGZhbHNlLFxuICAgICAgICBtYWluTGFiZWw6IChwYWdlLmFjY2Vzc2liaWxpdHk/Lm1haW5MYWJlbCB8fCAnJykudHJpbSgpLFxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIGNvbnN0IGxvYWREZXNpZ25Db2xsZWN0aW9ucyA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvbnNBcGlCYXNlKSB7XG4gICAgICAgIGRlc2lnbkNvbGxlY3Rpb25zID0gW107XG4gICAgICAgIHVwZGF0ZUNvbGxlY3Rpb25TZWxlY3RPcHRpb25zKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goY29sbGVjdGlvbnNBcGlCYXNlLCB7XG4gICAgICAgICAgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxlcyBjb2xsZWN0aW9ucy4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+IFtdKTtcbiAgICAgICAgZGVzaWduQ29sbGVjdGlvbnMgPSBBcnJheS5pc0FycmF5KHBheWxvYWQpID8gcGF5bG9hZCA6IFtdO1xuICAgICAgICBjb25zdCBjdXJyZW50VmFsdWUgPSBjb2xsZWN0aW9uU2VsZWN0Py52YWx1ZSB8fCAnJztcbiAgICAgICAgdXBkYXRlQ29sbGVjdGlvblNlbGVjdE9wdGlvbnMoY3VycmVudFZhbHVlKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZGVzaWduXSBjb2xsZWN0aW9ucyBsb2FkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KCdDb2xsZWN0aW9ucyBpbmRpc3BvbmlibGVzLicpO1xuICAgICAgICBkZXNpZ25Db2xsZWN0aW9ucyA9IFtdO1xuICAgICAgICB1cGRhdGVDb2xsZWN0aW9uU2VsZWN0T3B0aW9ucygpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBzeW5jQ29sbGVjdGlvblNlbGVjdGlvbkluZm8gPSAoY29sbGVjdGlvbklkKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25TZWxlY3Rpb25JbmZvKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghY29sbGVjdGlvbklkKSB7XG4gICAgICAgIGNvbGxlY3Rpb25TZWxlY3Rpb25JbmZvLnRleHRDb250ZW50ID0gZGVzaWduQ29sbGVjdGlvbnMubGVuZ3RoXG4gICAgICAgICAgPyAnU1x1MDBFOWxlY3Rpb25uZXogdW5lIGNvbGxlY3Rpb24gcG91ciBhZmZpY2hlciBzZXMgaW5mb3JtYXRpb25zLidcbiAgICAgICAgICA6ICdBdWN1bmUgY29sbGVjdGlvbiBkaXNwb25pYmxlLiBBam91dGV6LWVuIGRlcHVpcyBsXHUyMDE5b25nbGV0IENvbnRlbnVzLic7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGVudHJ5ID0gZGVzaWduQ29sbGVjdGlvbnMuZmluZCgoY29sbGVjdGlvbikgPT4gY29sbGVjdGlvbi5pZCA9PT0gY29sbGVjdGlvbklkKTtcbiAgICAgIGlmICghZW50cnkpIHtcbiAgICAgICAgY29sbGVjdGlvblNlbGVjdGlvbkluZm8udGV4dENvbnRlbnQgPSBgQ29sbGVjdGlvbiAke2NvbGxlY3Rpb25JZH1gO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBkZXRhaWxzID0gW107XG4gICAgICBpZiAoZW50cnkuZGVzY3JpcHRpb24pIHtcbiAgICAgICAgZGV0YWlscy5wdXNoKGVudHJ5LmRlc2NyaXB0aW9uKTtcbiAgICAgIH1cbiAgICAgIGlmIChlbnRyeS50eXBlKSB7XG4gICAgICAgIGRldGFpbHMucHVzaChgVHlwZVx1MDBBMDogJHtlbnRyeS50eXBlfWApO1xuICAgICAgfVxuICAgICAgY29sbGVjdGlvblNlbGVjdGlvbkluZm8udGV4dENvbnRlbnQgPVxuICAgICAgICBkZXRhaWxzLmpvaW4oJyBcdTAwQjcgJykgfHwgYENvbGxlY3Rpb24gJHtlbnRyeS5uYW1lIHx8IGVudHJ5LmlkfWA7XG4gICAgfTtcblxuICAgIGNvbnN0IHVwZGF0ZUNvbGxlY3Rpb25TZWxlY3RPcHRpb25zID0gKHNlbGVjdGVkVmFsdWUgPSAnJykgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uU2VsZWN0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbGxlY3Rpb25TZWxlY3QuaW5uZXJIVE1MID0gJyc7XG4gICAgICBpZiAoIWRlc2lnbkNvbGxlY3Rpb25zLmxlbmd0aCkge1xuICAgICAgICBjb2xsZWN0aW9uU2VsZWN0LmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICAgIG9wdGlvbi52YWx1ZSA9ICcnO1xuICAgICAgICBvcHRpb24udGV4dENvbnRlbnQgPSAnQXVjdW5lIGNvbGxlY3Rpb24gZGlzcG9uaWJsZSc7XG4gICAgICAgIGNvbGxlY3Rpb25TZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uKTtcbiAgICAgICAgc3luY0NvbGxlY3Rpb25TZWxlY3Rpb25JbmZvKCcnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29sbGVjdGlvblNlbGVjdC5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgaWYgKHNlbGVjdGVkVmFsdWUgJiYgIWRlc2lnbkNvbGxlY3Rpb25zLnNvbWUoKGVudHJ5KSA9PiBlbnRyeS5pZCA9PT0gc2VsZWN0ZWRWYWx1ZSkpIHtcbiAgICAgICAgY29uc3QgZmFsbGJhY2tPcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgICAgZmFsbGJhY2tPcHRpb24udmFsdWUgPSBzZWxlY3RlZFZhbHVlO1xuICAgICAgICBmYWxsYmFja09wdGlvbi50ZXh0Q29udGVudCA9IHNlbGVjdGVkVmFsdWU7XG4gICAgICAgIGNvbGxlY3Rpb25TZWxlY3QuYXBwZW5kQ2hpbGQoZmFsbGJhY2tPcHRpb24pO1xuICAgICAgfVxuICAgICAgZGVzaWduQ29sbGVjdGlvbnMuZm9yRWFjaCgoY29sbGVjdGlvbikgPT4ge1xuICAgICAgICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgICAgb3B0aW9uLnZhbHVlID0gY29sbGVjdGlvbi5pZDtcbiAgICAgICAgY29uc3QgbGFiZWwgPSBjb2xsZWN0aW9uLm5hbWUgfHwgY29sbGVjdGlvbi5pZDtcbiAgICAgICAgb3B0aW9uLnRleHRDb250ZW50ID0gY29sbGVjdGlvbi50eXBlID8gYCR7bGFiZWx9IFx1MDBCNyAke2NvbGxlY3Rpb24udHlwZX1gIDogbGFiZWw7XG4gICAgICAgIG9wdGlvbi5kYXRhc2V0LmRlc2NyaXB0aW9uID0gY29sbGVjdGlvbi5kZXNjcmlwdGlvbiB8fCAnJztcbiAgICAgICAgY29sbGVjdGlvblNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb24pO1xuICAgICAgfSk7XG4gICAgICBpZiAoc2VsZWN0ZWRWYWx1ZSkge1xuICAgICAgICBjb2xsZWN0aW9uU2VsZWN0LnZhbHVlID0gc2VsZWN0ZWRWYWx1ZTtcbiAgICAgIH1cbiAgICAgIHN5bmNDb2xsZWN0aW9uU2VsZWN0aW9uSW5mbyhjb2xsZWN0aW9uU2VsZWN0LnZhbHVlIHx8ICcnKTtcbiAgICB9O1xuXG4gICAgbG9hZERlc2lnbkNvbGxlY3Rpb25zKCk7XG4gICAgc3luY0RyYXdlclN0YXRlKCk7XG5cbiAgICBkcmF3ZXJPcGVuQnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5EcmF3ZXIpO1xuICAgIH0pO1xuICAgIGRyYXdlckNsb3NlQnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlRHJhd2VyKTtcbiAgICB9KTtcbiAgICBkcmF3ZXJCYWNrZHJvcD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZURyYXdlcik7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsICgpID0+IHtcbiAgICAgIHN5bmNEcmF3ZXJTdGF0ZSgpO1xuICAgICAgdXBkYXRlRHJhZ2dhYmxlU3RhdGUoKTtcbiAgICB9KTtcblxuICAgIGFkZFBhZ2VUb2dnbGU/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlbkFkZFBhZ2VGb3JtKTtcbiAgICBhZGRQYWdlQ2FuY2VsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlQWRkUGFnZUZvcm0pO1xuICAgIGFkZFBhZ2VOYW1lPy5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIHN5bmNTbHVnRnJvbU5hbWUpO1xuICAgIGFkZFBhZ2VTbHVnPy5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICAgIGFkZFBhZ2VFcnJvciAmJiAoYWRkUGFnZUVycm9yLnRleHRDb250ZW50ID0gJycpO1xuICAgICAgcGFnZVNsdWdNYW51YWxseUVkaXRlZCA9IHRydWU7XG4gICAgfSk7XG4gICAgYWRkUGFnZUZvcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmICghcGFnZXNBcGlCYXNlKSB7XG4gICAgICAgIGFkZFBhZ2VFcnJvciAmJiAoYWRkUGFnZUVycm9yLnRleHRDb250ZW50ID0gJ0F1Y3VuIHNpdGUgc1x1MDBFOWxlY3Rpb25uXHUwMEU5LicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWFkZFBhZ2VOYW1lIHx8ICFhZGRQYWdlU2x1Zykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBuYW1lID0gYWRkUGFnZU5hbWUudmFsdWUudHJpbSgpO1xuICAgICAgY29uc3QgdGl0bGUgPSBhZGRQYWdlVGl0bGU/LnZhbHVlLnRyaW0oKSB8fCBuYW1lOyAvLyBGYWxsYmFjayB0byBuYW1lIGlmIHRpdGxlIGlzIGVtcHR5XG4gICAgICBjb25zdCBzbHVnID0gbm9ybWFsaXplUGFnZVNsdWcoYWRkUGFnZVNsdWcudmFsdWUudHJpbSgpIHx8IG5hbWUpO1xuICAgICAgaWYgKCFuYW1lIHx8ICFzbHVnKSB7XG4gICAgICAgIGFkZFBhZ2VFcnJvciAmJiAoYWRkUGFnZUVycm9yLnRleHRDb250ZW50ID0gJ05vbSBldCBzbHVnIHNvbnQgcmVxdWlzLicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhZGRQYWdlRXJyb3IgJiYgKGFkZFBhZ2VFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICAgIGlmIChhZGRQYWdlU3VibWl0QnV0dG9uKSB7XG4gICAgICAgIGFkZFBhZ2VTdWJtaXRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICBhZGRQYWdlU3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gJ0NyXHUwMEU5YXRpb24uLi4nO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgY3JlYXRlZFBhZ2UgPSBhd2FpdCBjcmVhdGVQYWdlT25TZXJ2ZXIoeyBuYW1lLCB0aXRsZSwgc2x1ZyB9KTtcbiAgICAgICAgaWYgKCFjcmVhdGVkUGFnZSB8fCAhY3JlYXRlZFBhZ2UuaWQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JcdTAwRTlwb25zZSBpbnZhbGlkZS4nKTtcbiAgICAgICAgfVxuICAgICAgICBwYWdlcyA9IFsuLi5wYWdlcywgbm9ybWFsaXplUGFnZURhdGEoY3JlYXRlZFBhZ2UpXTtcbiAgICAgICAgY2xvc2VBZGRQYWdlRm9ybSgpO1xuICAgICAgICBzaG93VG9hc3QoJ1BhZ2UgY3JcdTAwRTlcdTAwRTllJyk7XG4gICAgICAgIHNldEFjdGl2ZVBhZ2UoY3JlYXRlZFBhZ2UuaWQpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkZXNpZ25dIGNyZWF0ZSBwYWdlIGZhaWxlZCcsIGVycik7XG4gICAgICAgIGFkZFBhZ2VFcnJvciAmJiAoYWRkUGFnZUVycm9yLnRleHRDb250ZW50ID0gZXJyLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgY3JcdTAwRTllciBsYSBwYWdlLicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKGFkZFBhZ2VTdWJtaXRCdXR0b24pIHtcbiAgICAgICAgICBhZGRQYWdlU3VibWl0QnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgYWRkUGFnZVN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9ICdDclx1MDBFOWVyJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gPT09IEltcG9ydCBKU09OIGhhbmRsZXJzID09PVxuICAgIGNvbnN0IHJlc2V0UGFzdGVTdGF0ZSA9ICgpID0+IHtcbiAgICAgIGlmIChpbXBvcnRQYXN0ZUlucHV0KSBpbXBvcnRQYXN0ZUlucHV0LnZhbHVlID0gJyc7XG4gICAgICBpZiAocGFzdGVFcnJvcikge1xuICAgICAgICBwYXN0ZUVycm9yLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBwYXN0ZUVycm9yLnRleHRDb250ZW50ID0gJyc7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHZhbGlkYXRlUGFzdGVKc29uID0gKCkgPT4ge1xuICAgICAgaWYgKCFpbXBvcnRQYXN0ZUlucHV0KSByZXR1cm4gbnVsbDtcbiAgICAgIGNvbnN0IHRleHQgPSBpbXBvcnRQYXN0ZUlucHV0LnZhbHVlLnRyaW0oKTtcbiAgICAgIGlmICghdGV4dCkge1xuICAgICAgICBpZiAocGFzdGVFcnJvcikgcGFzdGVFcnJvci5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBwYXJzZWQgPSBKU09OLnBhcnNlKHRleHQpO1xuICAgICAgICBpZiAocGFzdGVFcnJvcikgcGFzdGVFcnJvci5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgcmV0dXJuIHBhcnNlZDtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBpZiAocGFzdGVFcnJvcikge1xuICAgICAgICAgIHBhc3RlRXJyb3IuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgcGFzdGVFcnJvci50ZXh0Q29udGVudCA9IGBcdTI3NEMgSlNPTiBpbnZhbGlkZSA6ICR7ZXJyLm1lc3NhZ2V9YDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgZm9ybWF0UGFzdGVKc29uID0gKCkgPT4ge1xuICAgICAgaWYgKCFpbXBvcnRQYXN0ZUlucHV0KSByZXR1cm47XG4gICAgICBjb25zdCB0ZXh0ID0gaW1wb3J0UGFzdGVJbnB1dC52YWx1ZS50cmltKCk7XG4gICAgICBpZiAoIXRleHQpIHJldHVybjtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZCA9IEpTT04ucGFyc2UodGV4dCk7XG4gICAgICAgIGltcG9ydFBhc3RlSW5wdXQudmFsdWUgPSBKU09OLnN0cmluZ2lmeShwYXJzZWQsIG51bGwsIDIpO1xuICAgICAgICB2YWxpZGF0ZVBhc3RlSnNvbigpO1xuICAgICAgfSBjYXRjaCB7XG4gICAgICAgIC8vIFNpIHBhcyB2YWxpZGUsIG9uIG5lIGZvcm1hdGUgcGFzXG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHVwZGF0ZUltcG9ydFN1Ym1pdFN0YXRlID0gKCkgPT4ge1xuICAgICAgaWYgKCFpbXBvcnRTdWJtaXQpIHJldHVybjtcbiAgICAgIGlmIChhY3RpdmVJbXBvcnRUYWIgPT09ICd1cGxvYWQnKSB7XG4gICAgICAgIGltcG9ydFN1Ym1pdC5kaXNhYmxlZCA9IGltcG9ydFNlbGVjdGVkRmlsZXMubGVuZ3RoID09PSAwO1xuICAgICAgfSBlbHNlIGlmIChhY3RpdmVJbXBvcnRUYWIgPT09ICdwYXN0ZScpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkID0gdmFsaWRhdGVQYXN0ZUpzb24oKTtcbiAgICAgICAgaW1wb3J0U3VibWl0LmRpc2FibGVkID0gIXBhcnNlZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGltcG9ydFN1Ym1pdC5kaXNhYmxlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IG9wZW5JbXBvcnRNb2RhbCA9ICgpID0+IHtcbiAgICAgIGlmICghaW1wb3J0TW9kYWwpIHJldHVybjtcbiAgICAgIGltcG9ydE1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgaW1wb3J0TW9kYWwuY2xhc3NMaXN0LmFkZCgnZmxleCcpO1xuICAgICAgaW1wb3J0U2VsZWN0ZWRGaWxlcyA9IFtdO1xuICAgICAgYWN0aXZlSW1wb3J0VGFiID0gJ3VwbG9hZCc7XG4gICAgICB1cGRhdGVJbXBvcnRGaWxlTGlzdCgpO1xuICAgICAgcmVzZXRQYXN0ZVN0YXRlKCk7XG4gICAgICBpZiAoaW1wb3J0UmVzdWx0cykgaW1wb3J0UmVzdWx0cy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGlmIChpbXBvcnRSZXN1bHRzQ29udGVudCkgaW1wb3J0UmVzdWx0c0NvbnRlbnQuaW5uZXJIVE1MID0gJyc7XG4gICAgICB1cGRhdGVJbXBvcnRTdWJtaXRTdGF0ZSgpO1xuICAgICAgLy8gUmVzZXQgdGFicyB0byB1cGxvYWRcbiAgICAgIGltcG9ydFRhYnMuZm9yRWFjaCgodCkgPT4ge1xuICAgICAgICBpZiAodC5kYXRhc2V0LmltcG9ydFRhYiA9PT0gJ3VwbG9hZCcpIHtcbiAgICAgICAgICB0LmNsYXNzTGlzdC5hZGQoJ2JnLVsjOUM2QkZGXScsICd0ZXh0LXdoaXRlJyk7XG4gICAgICAgICAgdC5jbGFzc0xpc3QucmVtb3ZlKCdib3JkZXInLCAnYm9yZGVyLXNsYXRlLTIwMCcsICd0ZXh0LXNsYXRlLTcwMCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHQuY2xhc3NMaXN0LnJlbW92ZSgnYmctWyM5QzZCRkZdJywgJ3RleHQtd2hpdGUnKTtcbiAgICAgICAgICB0LmNsYXNzTGlzdC5hZGQoJ2JvcmRlcicsICdib3JkZXItc2xhdGUtMjAwJywgJ3RleHQtc2xhdGUtNzAwJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaW1wb3J0UGFuZWxzLmZvckVhY2goKHApID0+IHtcbiAgICAgICAgaWYgKHAuZGF0YXNldC5pbXBvcnRQYW5lbCA9PT0gJ3VwbG9hZCcpIHtcbiAgICAgICAgICBwLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHAuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgYWN0aXZhdGVNb2RhbChpbXBvcnRNb2RhbCwgY2xvc2VJbXBvcnRNb2RhbCk7XG4gICAgfTtcbiAgICBjb25zdCBjbG9zZUltcG9ydE1vZGFsID0gKCkgPT4ge1xuICAgICAgaWYgKCFpbXBvcnRNb2RhbCkgcmV0dXJuO1xuICAgICAgaW1wb3J0TW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBpbXBvcnRNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdmbGV4Jyk7XG4gICAgICBpbXBvcnRTZWxlY3RlZEZpbGVzID0gW107XG4gICAgICByZXNldFBhc3RlU3RhdGUoKTtcbiAgICAgIGRlYWN0aXZhdGVNb2RhbChpbXBvcnRNb2RhbCk7XG4gICAgfTtcbiAgICBjb25zdCB1cGRhdGVJbXBvcnRGaWxlTGlzdCA9ICgpID0+IHtcbiAgICAgIGlmICghaW1wb3J0RmlsZUxpc3QgfHwgIWltcG9ydEZpbGVOYW1lcykgcmV0dXJuO1xuICAgICAgaWYgKGltcG9ydFNlbGVjdGVkRmlsZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGltcG9ydEZpbGVMaXN0LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICB1cGRhdGVJbXBvcnRTdWJtaXRTdGF0ZSgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpbXBvcnRGaWxlTGlzdC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGltcG9ydEZpbGVOYW1lcy5pbm5lckhUTUwgPSBpbXBvcnRTZWxlY3RlZEZpbGVzXG4gICAgICAgIC5tYXAoKGYpID0+IGA8bGkgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPjxzcGFuIGNsYXNzPVwidGV4dC1sZ1wiPlx1RDgzRFx1RENDNDwvc3Bhbj4ke2YubmFtZX08L2xpPmApXG4gICAgICAgIC5qb2luKCcnKTtcbiAgICAgIHVwZGF0ZUltcG9ydFN1Ym1pdFN0YXRlKCk7XG4gICAgfTtcbiAgICBjb25zdCBoYW5kbGVJbXBvcnRGaWxlcyA9IChmaWxlcykgPT4ge1xuICAgICAgY29uc3QganNvbkZpbGVzID0gQXJyYXkuZnJvbShmaWxlcykuZmlsdGVyKFxuICAgICAgICAoZikgPT4gZi50eXBlID09PSAnYXBwbGljYXRpb24vanNvbicgfHwgZi5uYW1lLmVuZHNXaXRoKCcuanNvbicpXG4gICAgICApO1xuICAgICAgaWYgKGpzb25GaWxlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgc2hvd1RvYXN0KCdBdWN1biBmaWNoaWVyIEpTT04gdmFsaWRlLicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpbXBvcnRTZWxlY3RlZEZpbGVzID0ganNvbkZpbGVzO1xuICAgICAgdXBkYXRlSW1wb3J0RmlsZUxpc3QoKTtcbiAgICB9O1xuICAgIGNvbnN0IGV4ZWN1dGVJbXBvcnQgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXBhZ2VzQXBpQmFzZSkgcmV0dXJuO1xuICAgICAgXG4gICAgICAvLyBEZXRlcm1pbmUgc291cmNlIG9mIGRhdGEgYmFzZWQgb24gYWN0aXZlIHRhYlxuICAgICAgbGV0IHBhZ2VzRGF0YSA9IFtdO1xuICAgICAgXG4gICAgICBjb25zb2xlLmxvZygnW2ltcG9ydF0gYWN0aXZlSW1wb3J0VGFiOicsIGFjdGl2ZUltcG9ydFRhYik7XG4gICAgICBcbiAgICAgIGlmIChhY3RpdmVJbXBvcnRUYWIgPT09ICdwYXN0ZScpIHtcbiAgICAgICAgLy8gSW1wb3J0IGZyb20gcGFzdGVkIEpTT05cbiAgICAgICAgY29uc3QgdGV4dCA9IGltcG9ydFBhc3RlSW5wdXQ/LnZhbHVlPy50cmltKCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdbaW1wb3J0XSBwYXN0ZSB0ZXh0IGxlbmd0aDonLCB0ZXh0Py5sZW5ndGgpO1xuICAgICAgICBpZiAoIXRleHQpIHtcbiAgICAgICAgICBzaG93VG9hc3QoJ0F1Y3VuIEpTT04gXHUwMEUwIGltcG9ydGVyLicpO1xuICAgICAgICAgIGlmIChpbXBvcnRSZXN1bHRzICYmIGltcG9ydFJlc3VsdHNDb250ZW50KSB7XG4gICAgICAgICAgICBpbXBvcnRSZXN1bHRzLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgICAgaW1wb3J0UmVzdWx0c0NvbnRlbnQuaW5uZXJIVE1MID0gJzxwIGNsYXNzPVwidGV4dC1hbWJlci02MDBcIj5cdTI2QTAgTGUgY2hhbXAgZGUgdGV4dGUgZXN0IHZpZGUuPC9wPic7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHBhcnNlZCA9IEpTT04ucGFyc2UodGV4dCk7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1tpbXBvcnRdIHBhcnNlZCBKU09OOicsIHBhcnNlZCk7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1tpbXBvcnRdIHBhcnNlZCB0eXBlOicsIHR5cGVvZiBwYXJzZWQsIEFycmF5LmlzQXJyYXkocGFyc2VkKSA/ICdhcnJheScgOiAnbm90IGFycmF5Jyk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gU3VwcG9ydCBmb3JtYXQgeyBwYWdlczogWy4uLl0sIGNvbGxlY3Rpb25zOiB7Li4ufSB9XG4gICAgICAgICAgaWYgKHBhcnNlZCAmJiAhQXJyYXkuaXNBcnJheShwYXJzZWQpICYmIHBhcnNlZC5wYWdlcykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1tpbXBvcnRdIGRldGVjdGVkIHBhZ2VzK2NvbGxlY3Rpb25zIGZvcm1hdCcpO1xuICAgICAgICAgICAgcGFnZXNEYXRhID0gcGFyc2VkOyAvLyBTZW5kIHRoZSB3aG9sZSBvYmplY3QsIGJhY2tlbmQgd2lsbCBoYW5kbGUgaXRcbiAgICAgICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkocGFyc2VkKSkge1xuICAgICAgICAgICAgcGFnZXNEYXRhLnB1c2goLi4ucGFyc2VkKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFnZXNEYXRhLnB1c2gocGFyc2VkKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc29sZS5sb2coJ1tpbXBvcnRdIHBhZ2VzRGF0YSBwcmVwYXJlZDonLCBwYWdlc0RhdGEpO1xuICAgICAgICB9IGNhdGNoIChwYXJzZUVycikge1xuICAgICAgICAgIC8vIEFmZmljaGVyIGxlIGRcdTAwRTl0YWlsIGRlIGwnZXJyZXVyIGRlIHBhcnNpbmdcbiAgICAgICAgICBjb25zdCBlcnJvckxpbmUgPSBwYXJzZUVyci5tZXNzYWdlLm1hdGNoKC9wb3NpdGlvbiAoXFxkKykvKTtcbiAgICAgICAgICBsZXQgZXJyb3JEZXRhaWwgPSBwYXJzZUVyci5tZXNzYWdlO1xuICAgICAgICAgIGlmIChlcnJvckxpbmUpIHtcbiAgICAgICAgICAgIGNvbnN0IHBvcyA9IHBhcnNlSW50KGVycm9yTGluZVsxXSwgMTApO1xuICAgICAgICAgICAgY29uc3QgbGluZXMgPSB0ZXh0LnN1YnN0cmluZygwLCBwb3MpLnNwbGl0KCdcXG4nKTtcbiAgICAgICAgICAgIGNvbnN0IGxpbmVOdW0gPSBsaW5lcy5sZW5ndGg7XG4gICAgICAgICAgICBjb25zdCBjb2xOdW0gPSBsaW5lc1tsaW5lcy5sZW5ndGggLSAxXS5sZW5ndGggKyAxO1xuICAgICAgICAgICAgZXJyb3JEZXRhaWwgPSBgTGlnbmUgJHtsaW5lTnVtfSwgY29sb25uZSAke2NvbE51bX06ICR7cGFyc2VFcnIubWVzc2FnZX1gO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzaG93VG9hc3QoYEVycmV1ciBKU09OIDogJHtlcnJvckRldGFpbH1gLCAnZXJyb3InKTtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbaW1wb3J0XSBwYXN0ZSBwYXJzZSBlcnJvcicsIHBhcnNlRXJyKTtcbiAgICAgICAgICAvLyBTaG93IGVycm9yIGluIHJlc3VsdHMgYXJlYVxuICAgICAgICAgIGlmIChpbXBvcnRSZXN1bHRzICYmIGltcG9ydFJlc3VsdHNDb250ZW50KSB7XG4gICAgICAgICAgICBpbXBvcnRSZXN1bHRzLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgICAgaW1wb3J0UmVzdWx0c0NvbnRlbnQuaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC1yb3NlLTYwMFwiPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwiZm9udC1tZWRpdW1cIj5cdTI3MTcgRXJyZXVyIGRlIHN5bnRheGUgSlNPTjwvcD5cbiAgICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQteHMgbXQtMVwiPiR7ZXJyb3JEZXRhaWx9PC9wPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC14cyBtdC0yIHRleHQtc2xhdGUtNTAwXCI+Vlx1MDBFOXJpZmlleiBsZXMgdmlyZ3VsZXMsIGd1aWxsZW1ldHMgZXQgYWNjb2xhZGVzLjwvcD5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICBgO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoYWN0aXZlSW1wb3J0VGFiID09PSAndXBsb2FkJykge1xuICAgICAgICAvLyBJbXBvcnQgZnJvbSBmaWxlc1xuICAgICAgICBpZiAoaW1wb3J0U2VsZWN0ZWRGaWxlcy5sZW5ndGggPT09IDApIHJldHVybjtcbiAgICAgICAgY29uc3QgZmlsZUVycm9ycyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IGZpbGUgb2YgaW1wb3J0U2VsZWN0ZWRGaWxlcykge1xuICAgICAgICAgIGNvbnN0IHRleHQgPSBhd2FpdCBmaWxlLnRleHQoKTtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcGFyc2VkID0gSlNPTi5wYXJzZSh0ZXh0KTtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHBhcnNlZCkpIHtcbiAgICAgICAgICAgICAgcGFnZXNEYXRhLnB1c2goLi4ucGFyc2VkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBhZ2VzRGF0YS5wdXNoKHBhcnNlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCAocGFyc2VFcnIpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTGluZSA9IHBhcnNlRXJyLm1lc3NhZ2UubWF0Y2goL3Bvc2l0aW9uIChcXGQrKS8pO1xuICAgICAgICAgICAgbGV0IGVycm9yRGV0YWlsID0gcGFyc2VFcnIubWVzc2FnZTtcbiAgICAgICAgICAgIGlmIChlcnJvckxpbmUpIHtcbiAgICAgICAgICAgICAgY29uc3QgcG9zID0gcGFyc2VJbnQoZXJyb3JMaW5lWzFdLCAxMCk7XG4gICAgICAgICAgICAgIGNvbnN0IGxpbmVzID0gdGV4dC5zdWJzdHJpbmcoMCwgcG9zKS5zcGxpdCgnXFxuJyk7XG4gICAgICAgICAgICAgIGNvbnN0IGxpbmVOdW0gPSBsaW5lcy5sZW5ndGg7XG4gICAgICAgICAgICAgIGVycm9yRGV0YWlsID0gYExpZ25lICR7bGluZU51bX06ICR7cGFyc2VFcnIubWVzc2FnZX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmlsZUVycm9ycy5wdXNoKHsgZmlsZTogZmlsZS5uYW1lLCBlcnJvcjogZXJyb3JEZXRhaWwgfSk7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdbaW1wb3J0XSBwYXJzZSBlcnJvcicsIGZpbGUubmFtZSwgcGFyc2VFcnIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBTaG93IGZpbGUgcGFyc2luZyBlcnJvcnMgaWYgYW55XG4gICAgICAgIGlmIChmaWxlRXJyb3JzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBpZiAoaW1wb3J0UmVzdWx0cyAmJiBpbXBvcnRSZXN1bHRzQ29udGVudCkge1xuICAgICAgICAgICAgaW1wb3J0UmVzdWx0cy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIGxldCBodG1sID0gJzxkaXYgY2xhc3M9XCJ0ZXh0LXJvc2UtNjAwXCI+PHAgY2xhc3M9XCJmb250LW1lZGl1bVwiPlx1MjcxNyBFcnJldXJzIGRlIHN5bnRheGUgSlNPTjwvcD48dWwgY2xhc3M9XCJtbC00IHRleHQteHMgbXQtMVwiPic7XG4gICAgICAgICAgICBmaWxlRXJyb3JzLmZvckVhY2goZSA9PiB7XG4gICAgICAgICAgICAgIGh0bWwgKz0gYDxsaT48c3Ryb25nPiR7ZS5maWxlfTwvc3Ryb25nPjogJHtlLmVycm9yfTwvbGk+YDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaHRtbCArPSAnPC91bD48L2Rpdj4nO1xuICAgICAgICAgICAgaWYgKHBhZ2VzRGF0YS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgIGh0bWwgKz0gYDxwIGNsYXNzPVwidGV4dC1hbWJlci02MDAgbXQtMiB0ZXh0LXNtXCI+XHUyNkEwICR7cGFnZXNEYXRhLmxlbmd0aH0gcGFnZShzKSB2YWxpZGUocykgc2Vyb250IGltcG9ydFx1MDBFOWUocyk8L3A+YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGltcG9ydFJlc3VsdHNDb250ZW50LmlubmVySFRNTCA9IGh0bWw7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChwYWdlc0RhdGEubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBzaG93VG9hc3QoJ1RvdXMgbGVzIGZpY2hpZXJzIGNvbnRpZW5uZW50IGRlcyBlcnJldXJzIEpTT04nLCAnZXJyb3InKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gVlx1MDBFOXJpZmllciBxdSdvbiBhIGRlcyBkb25uXHUwMEU5ZXMgXHUwMEUwIGltcG9ydGVyXG4gICAgICBjb25zdCBoYXNEYXRhID0gQXJyYXkuaXNBcnJheShwYWdlc0RhdGEpIFxuICAgICAgICA/IHBhZ2VzRGF0YS5sZW5ndGggPiAwIFxuICAgICAgICA6IChwYWdlc0RhdGEgJiYgKHBhZ2VzRGF0YS5wYWdlcz8ubGVuZ3RoID4gMCB8fCBwYWdlc0RhdGEudGl0bGUpKTtcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coJ1tpbXBvcnRdIGhhc0RhdGEgY2hlY2s6JywgaGFzRGF0YSwgJ3BhZ2VzRGF0YTonLCBwYWdlc0RhdGEpO1xuICAgICAgXG4gICAgICBpZiAoIWhhc0RhdGEpIHtcbiAgICAgICAgc2hvd1RvYXN0KCdBdWN1bmUgcGFnZSB2YWxpZGUgXHUwMEUwIGltcG9ydGVyLicpO1xuICAgICAgICBpZiAoaW1wb3J0UmVzdWx0cyAmJiBpbXBvcnRSZXN1bHRzQ29udGVudCkge1xuICAgICAgICAgIGltcG9ydFJlc3VsdHMuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgaW1wb3J0UmVzdWx0c0NvbnRlbnQuaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRleHQtYW1iZXItNjAwXCI+XG4gICAgICAgICAgICAgIDxwIGNsYXNzPVwiZm9udC1tZWRpdW1cIj5cdTI2QTAgQXVjdW5lIHBhZ2UgZFx1MDBFOXRlY3RcdTAwRTllPC9wPlxuICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQteHMgbXQtMVwiPkxlIEpTT04gZG9pdCBjb250ZW5pciA6PC9wPlxuICAgICAgICAgICAgICA8dWwgY2xhc3M9XCJ0ZXh0LXhzIG1sLTQgbXQtMSBsaXN0LWRpc2NcIj5cbiAgICAgICAgICAgICAgICA8bGk+VW4gb2JqZXQgcGFnZSBhdmVjIFwidGl0bGVcIiA6IDxjb2RlPntcInRpdGxlXCI6IFwiTWEgcGFnZVwiLCAuLi59PC9jb2RlPjwvbGk+XG4gICAgICAgICAgICAgICAgPGxpPlVuIHRhYmxlYXUgZGUgcGFnZXMgOiA8Y29kZT5be1widGl0bGVcIjogXCJQYWdlIDFcIn0sIHtcInRpdGxlXCI6IFwiUGFnZSAyXCJ9XTwvY29kZT48L2xpPlxuICAgICAgICAgICAgICAgIDxsaT5PdSB1biBvYmpldCBjb21iaW5cdTAwRTkgOiA8Y29kZT57XCJwYWdlc1wiOiBbLi4uXSwgXCJjb2xsZWN0aW9uc1wiOiB7Li4ufX08L2NvZGU+PC9saT5cbiAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIGA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoaW1wb3J0U3VibWl0KSB7XG4gICAgICAgIGltcG9ydFN1Ym1pdC5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIGltcG9ydFN1Ym1pdC50ZXh0Q29udGVudCA9ICdJbXBvcnQuLi4nO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBBZmZpY2hlciBjZSBxdSdvbiB2YSBlbnZveWVyIChkZWJ1ZylcbiAgICAgIGNvbnNvbGUubG9nKCdbaW1wb3J0XSBTZW5kaW5nIHRvIHNlcnZlcjonLCBKU09OLnN0cmluZ2lmeShwYWdlc0RhdGEpLnN1YnN0cmluZygwLCA1MDApKTtcbiAgICAgIFxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtwYWdlc0FwaUJhc2V9L2ltcG9ydGAsIHtcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICBjcmVkZW50aWFsczogJ2luY2x1ZGUnLFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBhZ2VzRGF0YSksXG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgY29uc29sZS5sb2coJ1tpbXBvcnRdIFNlcnZlciByZXNwb25zZSBzdGF0dXM6JywgcmVzcG9uc2Uuc3RhdHVzKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgY29uc29sZS5sb2coJ1tpbXBvcnRdIFNlcnZlciByZXNwb25zZSBib2R5OicsIHJlc3VsdCk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAvLyBBZmZpY2hlciBsZSBkXHUwMEU5dGFpbCBkZSBsJ2VycmV1ciBzZXJ2ZXVyXG4gICAgICAgICAgaWYgKGltcG9ydFJlc3VsdHMgJiYgaW1wb3J0UmVzdWx0c0NvbnRlbnQpIHtcbiAgICAgICAgICAgIGltcG9ydFJlc3VsdHMuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgICBpbXBvcnRSZXN1bHRzQ29udGVudC5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LXJvc2UtNjAwXCI+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJmb250LW1lZGl1bVwiPlx1MjcxNyBFcnJldXIgc2VydmV1cjwvcD5cbiAgICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQteHMgbXQtMVwiPiR7cmVzdWx0Lm1lc3NhZ2UgfHwgJ0VycmV1ciBpbmNvbm51ZSd9PC9wPlxuICAgICAgICAgICAgICAgICR7cmVzdWx0LmRldGFpbHMgPyBgPHAgY2xhc3M9XCJ0ZXh0LXhzIG10LTEgdGV4dC1zbGF0ZS01MDBcIj4ke3Jlc3VsdC5kZXRhaWxzfTwvcD5gIDogJyd9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgYDtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5tZXNzYWdlIHx8ICdFcnJldXIgc2VydmV1cicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNob3cgcmVzdWx0c1xuICAgICAgICBpZiAoaW1wb3J0UmVzdWx0cyAmJiBpbXBvcnRSZXN1bHRzQ29udGVudCkge1xuICAgICAgICAgIGltcG9ydFJlc3VsdHMuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgbGV0IGh0bWwgPSAnJztcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBFbnRcdTAwRUF0ZSBzdWNjXHUwMEU4cy9lcnJldXJcbiAgICAgICAgICBjb25zdCBoYXNTdWNjZXNzID0gKHJlc3VsdC5pbXBvcnRlZD8ubGVuZ3RoID4gMCkgfHwgKHJlc3VsdC5jb2xsZWN0aW9uc0NyZWF0ZWQ/Lmxlbmd0aCA+IDApO1xuICAgICAgICAgIGNvbnN0IGhhc0Vycm9ycyA9IHJlc3VsdC5lcnJvcnM/Lmxlbmd0aCA+IDA7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKGhhc1N1Y2Nlc3MgJiYgIWhhc0Vycm9ycykge1xuICAgICAgICAgICAgaHRtbCArPSAnPGRpdiBjbGFzcz1cImJnLWdyZWVuLTUwIGJvcmRlciBib3JkZXItZ3JlZW4tMjAwIHJvdW5kZWQtbGcgcC0zIG1iLTJcIj48cCBjbGFzcz1cInRleHQtZ3JlZW4tODAwIGZvbnQtbWVkaXVtXCI+XHUyNzEzIEltcG9ydCByXHUwMEU5dXNzaTwvcD48L2Rpdj4nO1xuICAgICAgICAgIH0gZWxzZSBpZiAoaGFzU3VjY2VzcyAmJiBoYXNFcnJvcnMpIHtcbiAgICAgICAgICAgIGh0bWwgKz0gJzxkaXYgY2xhc3M9XCJiZy1hbWJlci01MCBib3JkZXIgYm9yZGVyLWFtYmVyLTIwMCByb3VuZGVkLWxnIHAtMyBtYi0yXCI+PHAgY2xhc3M9XCJ0ZXh0LWFtYmVyLTgwMCBmb250LW1lZGl1bVwiPlx1MjZBMCBJbXBvcnQgcGFydGllbDwvcD48L2Rpdj4nO1xuICAgICAgICAgIH0gZWxzZSBpZiAoaGFzRXJyb3JzKSB7XG4gICAgICAgICAgICBodG1sICs9ICc8ZGl2IGNsYXNzPVwiYmctcm9zZS01MCBib3JkZXIgYm9yZGVyLXJvc2UtMjAwIHJvdW5kZWQtbGcgcC0zIG1iLTJcIj48cCBjbGFzcz1cInRleHQtcm9zZS04MDAgZm9udC1tZWRpdW1cIj5cdTI3MTcgSW1wb3J0IFx1MDBFOWNob3VcdTAwRTk8L3A+PC9kaXY+JztcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQ29sbGVjdGlvbnMgY3JcdTAwRTlcdTAwRTllc1xuICAgICAgICAgIGlmIChyZXN1bHQuY29sbGVjdGlvbnNDcmVhdGVkICYmIHJlc3VsdC5jb2xsZWN0aW9uc0NyZWF0ZWQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgaHRtbCArPSBgPHAgY2xhc3M9XCJ0ZXh0LXZpb2xldC03MDAgbXQtMlwiPlx1MjcxMyAke3Jlc3VsdC5jb2xsZWN0aW9uc0NyZWF0ZWQubGVuZ3RofSBjb2xsZWN0aW9uKHMpIGNyXHUwMEU5XHUwMEU5ZShzKTwvcD5gO1xuICAgICAgICAgICAgaHRtbCArPSAnPHVsIGNsYXNzPVwibWwtNCB0ZXh0LXhzIHRleHQtc2xhdGUtNjAwXCI+JztcbiAgICAgICAgICAgIHJlc3VsdC5jb2xsZWN0aW9uc0NyZWF0ZWQuZm9yRWFjaCgoYykgPT4ge1xuICAgICAgICAgICAgICBodG1sICs9IGA8bGk+JHtjLm5hbWV9ICgke2MuaXRlbXNDb3VudH0gaXRlbSR7Yy5pdGVtc0NvdW50ID4gMSA/ICdzJyA6ICcnfSk8L2xpPmA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGh0bWwgKz0gJzwvdWw+JztcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gUGFnZXMgaW1wb3J0XHUwMEU5ZXNcbiAgICAgICAgICBpZiAocmVzdWx0LmltcG9ydGVkICYmIHJlc3VsdC5pbXBvcnRlZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBodG1sICs9IGA8cCBjbGFzcz1cInRleHQtZ3JlZW4tNzAwIG10LTJcIj5cdTI3MTMgJHtyZXN1bHQuaW1wb3J0ZWQubGVuZ3RofSBwYWdlKHMpIGltcG9ydFx1MDBFOWUocyk8L3A+YDtcbiAgICAgICAgICAgIGh0bWwgKz0gJzx1bCBjbGFzcz1cIm1sLTQgdGV4dC14cyB0ZXh0LXNsYXRlLTYwMFwiPic7XG4gICAgICAgICAgICByZXN1bHQuaW1wb3J0ZWQuZm9yRWFjaCgocCkgPT4ge1xuICAgICAgICAgICAgICBodG1sICs9IGA8bGk+PHN0cm9uZz4ke3AudGl0bGV9PC9zdHJvbmc+IFx1MjE5MiAke3Auc2x1Z30gKCR7cC5hY3Rpb24gPT09ICd1cGRhdGVkJyA/ICdtaXNlIFx1MDBFMCBqb3VyJyA6ICdjclx1MDBFOVx1MDBFOWUnfSk8L2xpPmA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGh0bWwgKz0gJzwvdWw+JztcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gRXJyZXVycyBhdmVjIGRcdTAwRTl0YWlsc1xuICAgICAgICAgIGlmIChyZXN1bHQuZXJyb3JzICYmIHJlc3VsdC5lcnJvcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgaHRtbCArPSBgPHAgY2xhc3M9XCJ0ZXh0LXJvc2UtNjAwIG10LTMgZm9udC1tZWRpdW1cIj5cdTI3MTcgJHtyZXN1bHQuZXJyb3JzLmxlbmd0aH0gZXJyZXVyKHMpPC9wPmA7XG4gICAgICAgICAgICBodG1sICs9ICc8dWwgY2xhc3M9XCJtbC00IHRleHQteHMgdGV4dC1yb3NlLTYwMCBzcGFjZS15LTEgbXQtMVwiPic7XG4gICAgICAgICAgICByZXN1bHQuZXJyb3JzLmZvckVhY2goKGUpID0+IHtcbiAgICAgICAgICAgICAgaHRtbCArPSBgPGxpIGNsYXNzPVwiYmctcm9zZS01MCBwLTIgcm91bmRlZFwiPjxzdHJvbmc+JHtlLnRpdGxlfTwvc3Ryb25nPjxici8+PHNwYW4gY2xhc3M9XCJ0ZXh0LXJvc2UtNTAwXCI+JHtlLmVycm9yfTwvc3Bhbj48L2xpPmA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGh0bWwgKz0gJzwvdWw+JztcbiAgICAgICAgICB9XG4gICAgICAgICAgaW1wb3J0UmVzdWx0c0NvbnRlbnQuaW5uZXJIVE1MID0gaHRtbDtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZWxvYWQgcGFnZXMgbGlzdCBhbmQgc2hvdyB0b2FzdFxuICAgICAgICBjb25zdCBoYXNTdWNjZXNzID0gKHJlc3VsdC5pbXBvcnRlZD8ubGVuZ3RoID4gMCkgfHwgKHJlc3VsdC5jb2xsZWN0aW9uc0NyZWF0ZWQ/Lmxlbmd0aCA+IDApO1xuICAgICAgICBjb25zdCBoYXNFcnJvcnMgPSByZXN1bHQuZXJyb3JzPy5sZW5ndGggPiAwO1xuICAgICAgICBcbiAgICAgICAgaWYgKHJlc3VsdC5pbXBvcnRlZCAmJiByZXN1bHQuaW1wb3J0ZWQubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGNvbnN0IGZyZXNoUGFnZXMgPSBhd2FpdCBmZXRjaFBhZ2VzRnJvbVNlcnZlcigpO1xuICAgICAgICAgIHBhZ2VzID0gZnJlc2hQYWdlcztcbiAgICAgICAgICByZW5kZXJQYWdlTGlzdHMocGFnZXMsIGFjdGl2ZVBhZ2VJZCk7XG4gICAgICAgICAgaWYgKHBhZ2VzLmxlbmd0aCA+IDAgJiYgIWFjdGl2ZVBhZ2VJZCkge1xuICAgICAgICAgICAgc2V0QWN0aXZlUGFnZShwYWdlc1swXS5pZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBUb2FzdCBhdmVjIHN0YXR1dCBhcHByb3ByaVx1MDBFOVxuICAgICAgICBpZiAoaGFzU3VjY2VzcyAmJiAhaGFzRXJyb3JzKSB7XG4gICAgICAgICAgY29uc3QgY29sbGVjdGlvbnNNc2cgPSByZXN1bHQuY29sbGVjdGlvbnNDcmVhdGVkPy5sZW5ndGggXG4gICAgICAgICAgICA/IGAgKyAke3Jlc3VsdC5jb2xsZWN0aW9uc0NyZWF0ZWQubGVuZ3RofSBjb2xsZWN0aW9uKHMpYCBcbiAgICAgICAgICAgIDogJyc7XG4gICAgICAgICAgc2hvd1RvYXN0KGBcdTI3MTMgSW1wb3J0IHJcdTAwRTl1c3NpIDogJHtyZXN1bHQuaW1wb3J0ZWQ/Lmxlbmd0aCB8fCAwfSBwYWdlKHMpJHtjb2xsZWN0aW9uc01zZ31gLCAnc3VjY2VzcycpO1xuICAgICAgICB9IGVsc2UgaWYgKGhhc1N1Y2Nlc3MgJiYgaGFzRXJyb3JzKSB7XG4gICAgICAgICAgc2hvd1RvYXN0KGBcdTI2QTAgSW1wb3J0IHBhcnRpZWwgOiAke3Jlc3VsdC5pbXBvcnRlZD8ubGVuZ3RoIHx8IDB9IHBhZ2UocyksICR7cmVzdWx0LmVycm9ycy5sZW5ndGh9IGVycmV1cihzKWAsICd3YXJuaW5nJyk7XG4gICAgICAgIH0gZWxzZSBpZiAoaGFzRXJyb3JzKSB7XG4gICAgICAgICAgc2hvd1RvYXN0KGBcdTI3MTcgSW1wb3J0IFx1MDBFOWNob3VcdTAwRTkgOiAke3Jlc3VsdC5lcnJvcnMubGVuZ3RofSBlcnJldXIocylgLCAnZXJyb3InKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaW1wb3J0U2VsZWN0ZWRGaWxlcyA9IFtdO1xuICAgICAgICB1cGRhdGVJbXBvcnRGaWxlTGlzdCgpO1xuICAgICAgICByZXNldFBhc3RlU3RhdGUoKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbaW1wb3J0XSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBpbXBvcnQnLCAnZXJyb3InKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmIChpbXBvcnRTdWJtaXQpIHtcbiAgICAgICAgICBpbXBvcnRTdWJtaXQuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICBpbXBvcnRTdWJtaXQudGV4dENvbnRlbnQgPSAnSW1wb3J0ZXInO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICBpbXBvcnRUb2dnbGU/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlbkltcG9ydE1vZGFsKTtcbiAgICBpbXBvcnRDbG9zZUJ1dHRvbnMuZm9yRWFjaCgoYnRuKSA9PiBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZUltcG9ydE1vZGFsKSk7XG4gICAgaW1wb3J0TW9kYWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGlmIChlLnRhcmdldCA9PT0gaW1wb3J0TW9kYWwpIGNsb3NlSW1wb3J0TW9kYWwoKTtcbiAgICB9KTtcbiAgICBpbXBvcnRGaWxlSW5wdXQ/LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIChlKSA9PiB7XG4gICAgICBoYW5kbGVJbXBvcnRGaWxlcyhlLnRhcmdldC5maWxlcyk7XG4gICAgfSk7XG4gICAgaW1wb3J0RHJvcHpvbmU/LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGltcG9ydERyb3B6b25lLmNsYXNzTGlzdC5hZGQoJ2JvcmRlci1bIzlDNkJGRl0nLCAnYmctWyM5QzZCRkZdLzEwJyk7XG4gICAgfSk7XG4gICAgaW1wb3J0RHJvcHpvbmU/LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdsZWF2ZScsIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpbXBvcnREcm9wem9uZS5jbGFzc0xpc3QucmVtb3ZlKCdib3JkZXItWyM5QzZCRkZdJywgJ2JnLVsjOUM2QkZGXS8xMCcpO1xuICAgIH0pO1xuICAgIGltcG9ydERyb3B6b25lPy5hZGRFdmVudExpc3RlbmVyKCdkcm9wJywgKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGltcG9ydERyb3B6b25lLmNsYXNzTGlzdC5yZW1vdmUoJ2JvcmRlci1bIzlDNkJGRl0nLCAnYmctWyM5QzZCRkZdLzEwJyk7XG4gICAgICBoYW5kbGVJbXBvcnRGaWxlcyhlLmRhdGFUcmFuc2Zlci5maWxlcyk7XG4gICAgfSk7XG4gICAgaW1wb3J0U3VibWl0Py5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGV4ZWN1dGVJbXBvcnQpO1xuICAgIC8vIFBhc3RlIEpTT04gaGFuZGxlcnNcbiAgICBpbXBvcnRQYXN0ZUlucHV0Py5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICAgIHVwZGF0ZUltcG9ydFN1Ym1pdFN0YXRlKCk7XG4gICAgfSk7XG4gICAgcGFzdGVGb3JtYXRCdG4/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZm9ybWF0UGFzdGVKc29uKTtcbiAgICAvLyBJbXBvcnQgdGFic1xuICAgIGltcG9ydFRhYnMuZm9yRWFjaCgodGFiKSA9PiB7XG4gICAgICB0YWIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHRhcmdldFBhbmVsID0gdGFiLmRhdGFzZXQuaW1wb3J0VGFiO1xuICAgICAgICBhY3RpdmVJbXBvcnRUYWIgPSB0YXJnZXRQYW5lbDtcbiAgICAgICAgaW1wb3J0VGFicy5mb3JFYWNoKCh0KSA9PiB7XG4gICAgICAgICAgaWYgKHQuZGF0YXNldC5pbXBvcnRUYWIgPT09IHRhcmdldFBhbmVsKSB7XG4gICAgICAgICAgICB0LmNsYXNzTGlzdC5hZGQoJ2JnLVsjOUM2QkZGXScsICd0ZXh0LXdoaXRlJyk7XG4gICAgICAgICAgICB0LmNsYXNzTGlzdC5yZW1vdmUoJ2JvcmRlcicsICdib3JkZXItc2xhdGUtMjAwJywgJ3RleHQtc2xhdGUtNzAwJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHQuY2xhc3NMaXN0LnJlbW92ZSgnYmctWyM5QzZCRkZdJywgJ3RleHQtd2hpdGUnKTtcbiAgICAgICAgICAgIHQuY2xhc3NMaXN0LmFkZCgnYm9yZGVyJywgJ2JvcmRlci1zbGF0ZS0yMDAnLCAndGV4dC1zbGF0ZS03MDAnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpbXBvcnRQYW5lbHMuZm9yRWFjaCgocCkgPT4ge1xuICAgICAgICAgIGlmIChwLmRhdGFzZXQuaW1wb3J0UGFuZWwgPT09IHRhcmdldFBhbmVsKSB7XG4gICAgICAgICAgICBwLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHVwZGF0ZUltcG9ydFN1Ym1pdFN0YXRlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBjb3B5VGVtcGxhdGVCdG4/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCF0ZW1wbGF0ZUpzb24pIHJldHVybjtcbiAgICAgIGNvbnN0IHRleHQgPSB0ZW1wbGF0ZUpzb24udGV4dENvbnRlbnQgfHwgJyc7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dCh0ZXh0KTtcbiAgICAgICAgc2hvd1RvYXN0KCdUZW1wbGF0ZSBjb3BpXHUwMEU5ICEnKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbaW1wb3J0XSBjb3B5IGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdCgnRXJyZXVyIGNvcGllJyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBEZWxldGUgcGFnZSBtb2RhbCBsaXN0ZW5lcnNcbiAgICBkZWxldGVQYWdlQ2FuY2VsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlRGVsZXRlUGFnZU1vZGFsKTtcbiAgICBkZWxldGVQYWdlQ29uZmlybT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBleGVjdXRlRGVsZXRlUGFnZSk7XG4gICAgZGVsZXRlUGFnZU1vZGFsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBpZiAoZS50YXJnZXQgPT09IGRlbGV0ZVBhZ2VNb2RhbCkgY2xvc2VEZWxldGVQYWdlTW9kYWwoKTtcbiAgICB9KTtcblxuICAgIGJsb2NrTGlicmFyeVRvZ2dsZT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgdG9nZ2xlQmxvY2tMaWJyYXJ5KCk7XG4gICAgfSk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIGlmICghYmxvY2tMaWJyYXJ5T3Blbikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoXG4gICAgICAgIGJsb2NrTGlicmFyeT8uY29udGFpbnMoZXZlbnQudGFyZ2V0KSB8fFxuICAgICAgICBibG9ja0xpYnJhcnlUb2dnbGU/LmNvbnRhaW5zKGV2ZW50LnRhcmdldClcbiAgICAgICkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjbG9zZUJsb2NrTGlicmFyeSgpO1xuICAgIH0pO1xuICAgIGJsb2NrQWRkQnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgY29uc3QgdHlwZSA9IGJ1dHRvbi5kYXRhc2V0LmJsb2NrQWRkO1xuICAgICAgICBhZGRCbG9ja0Zyb21MaWJyYXJ5KHR5cGUpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgYmxvY2tEZWxldGVDYW5jZWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY2xvc2VCbG9ja0RlbGV0ZU1vZGFsKCk7XG4gICAgfSk7XG4gICAgYmxvY2tEZWxldGVDb25maXJtPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGlmIChwZW5kaW5nRGVsZXRlQmxvY2tJZCkge1xuICAgICAgICBkZWxldGVCbG9ja0J5SWQocGVuZGluZ0RlbGV0ZUJsb2NrSWQpO1xuICAgICAgfVxuICAgICAgY2xvc2VCbG9ja0RlbGV0ZU1vZGFsKCk7XG4gICAgfSk7XG4gICAgYmxvY2tEZWxldGVNb2RhbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIGlmIChldmVudC50YXJnZXQgPT09IGJsb2NrRGVsZXRlTW9kYWwpIHtcbiAgICAgICAgY2xvc2VCbG9ja0RlbGV0ZU1vZGFsKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgYmxvY2tGb3JtPy5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIChldmVudCkgPT4ge1xuICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgaWYgKCF0YXJnZXQgfHwgIXRhcmdldC5uYW1lKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vIE1pbmkgcHJldmlldyBwb3VyIGdyb3VwZVxuICAgICAgaWYgKHRhcmdldC5uYW1lID09PSAnZ3JvdXAtY29sdW1ucy1tb2JpbGUnIHx8IHRhcmdldC5uYW1lID09PSAnZ3JvdXAtY29sdW1ucy1kZXNrdG9wJykge1xuICAgICAgICBjb25zdCBtb2JpbGVWYWx1ZSA9XG4gICAgICAgICAgYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZ3JvdXAtY29sdW1ucy1tb2JpbGVcIl0nKT8udmFsdWUgfHwgJzEnO1xuICAgICAgICBjb25zdCBkZXNrdG9wVmFsdWUgPVxuICAgICAgICAgIGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImdyb3VwLWNvbHVtbnMtZGVza3RvcFwiXScpPy52YWx1ZSB8fCAnMyc7XG4gICAgICAgIHVwZGF0ZUdyb3VwTWluaVByZXZpZXcobW9iaWxlVmFsdWUsIGRlc2t0b3BWYWx1ZSk7XG4gICAgICB9XG4gICAgICAvLyBNaW5pIHByZXZpZXcgcG91ciBjb2xsZWN0aW9uXG4gICAgICBpZiAodGFyZ2V0Lm5hbWUgPT09ICdjb2xsZWN0aW9uLWNvbHVtbnMtbW9iaWxlJyB8fCB0YXJnZXQubmFtZSA9PT0gJ2NvbGxlY3Rpb24tY29sdW1ucy1kZXNrdG9wJykge1xuICAgICAgICBjb25zdCBtb2JpbGVWYWx1ZSA9XG4gICAgICAgICAgYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiY29sbGVjdGlvbi1jb2x1bW5zLW1vYmlsZVwiXScpPy52YWx1ZSB8fCAnMSc7XG4gICAgICAgIGNvbnN0IGRlc2t0b3BWYWx1ZSA9XG4gICAgICAgICAgYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiY29sbGVjdGlvbi1jb2x1bW5zLWRlc2t0b3BcIl0nKT8udmFsdWUgfHwgJzMnO1xuICAgICAgICB1cGRhdGVDb2xsZWN0aW9uTWluaVByZXZpZXcobW9iaWxlVmFsdWUsIGRlc2t0b3BWYWx1ZSk7XG4gICAgICB9XG4gICAgICAvLyBEXHUwMEU5dGVjdGlvbiBzaSBvbiBlc3QgZGFucyBsZSBwYW5lbCBBcHBhcmVuY2UgXHUyMTkyIGF1dG8tc2F2ZVxuICAgICAgY29uc3QgcGFuZWwgPSB0YXJnZXQuY2xvc2VzdCgnW2RhdGEtYmxvY2stcGFuZWxdJyk7XG4gICAgICBpZiAocGFuZWwgJiYgcGFuZWwuZGF0YXNldC5ibG9ja1BhbmVsID09PSAnYXBwZWFyYW5jZScpIHtcbiAgICAgICAgLy8gQXV0by1zYXZlICsgcmVmcmVzaCBwcmV2aWV3IHBvdXIgbCdhcHBhcmVuY2VcbiAgICAgICAgY29uc3QgYmxvY2sgPSBnZXRBY3RpdmVCbG9jaygpO1xuICAgICAgICBjb25zdCBjb25maWcgPSBnZXRCbG9ja0Zvcm1Db25maWcoYmxvY2spO1xuICAgICAgICBpZiAoYmxvY2sgJiYgY29uZmlnKSB7XG4gICAgICAgICAgY29uc3QgdmFsdWVzID0gY29sbGVjdEZvcm1WYWx1ZXMoY29uZmlnKTtcbiAgICAgICAgICBoYW5kbGVBcHBlYXJhbmNlQ2hhbmdlKGJsb2NrLmlkLCB2YWx1ZXMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgLy8gXHUwMEM5Z2FsZW1lbnQgc3VyICdjaGFuZ2UnIHBvdXIgbGVzIHNlbGVjdHNcbiAgICBibG9ja0Zvcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIChldmVudCkgPT4ge1xuICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgaWYgKCF0YXJnZXQgfHwgIXRhcmdldC5uYW1lKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vIE1pc2UgXHUwMEUwIGpvdXIgZHUgcHJldmlldyBkZSBjb3VsZXVyIHBvdXIgbGVzIGNvbG9yIHNlbGVjdHNcbiAgICAgIGlmICh0YXJnZXQuaGFzQXR0cmlidXRlKCdkYXRhLWNvbG9yLXNlbGVjdCcpKSB7XG4gICAgICAgIGNvbnN0IHNlbGVjdGVkT3B0aW9uID0gdGFyZ2V0Lm9wdGlvbnNbdGFyZ2V0LnNlbGVjdGVkSW5kZXhdO1xuICAgICAgICBjb25zdCBjb2xvciA9IHNlbGVjdGVkT3B0aW9uPy5kYXRhc2V0Py5jb2xvciB8fCAnI2ZmZmZmZic7XG4gICAgICAgIGNvbnN0IGNvbG9yUHJldmlldyA9IHRhcmdldC5jbG9zZXN0KCcucmVsYXRpdmUnKT8ucXVlcnlTZWxlY3RvcignW2RhdGEtY29sb3ItcHJldmlld10nKTtcbiAgICAgICAgaWYgKGNvbG9yUHJldmlldykge1xuICAgICAgICAgIGlmIChjb2xvciA9PT0gJ3RyYW5zcGFyZW50Jykge1xuICAgICAgICAgICAgY29sb3JQcmV2aWV3LnN0eWxlLmJhY2tncm91bmQgPSAncmVwZWF0aW5nLWNvbmljLWdyYWRpZW50KCNjY2MgMCUgMjUlLCB3aGl0ZSAwJSA1MCUpIDUwJSAvIDhweCA4cHgnO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb2xvclByZXZpZXcuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gY29sb3I7XG4gICAgICAgICAgICBjb2xvclByZXZpZXcuc3R5bGUuYmFja2dyb3VuZCA9ICcnO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3QgcGFuZWwgPSB0YXJnZXQuY2xvc2VzdCgnW2RhdGEtYmxvY2stcGFuZWxdJyk7XG4gICAgICBpZiAocGFuZWwgJiYgcGFuZWwuZGF0YXNldC5ibG9ja1BhbmVsID09PSAnYXBwZWFyYW5jZScpIHtcbiAgICAgICAgY29uc3QgYmxvY2sgPSBnZXRBY3RpdmVCbG9jaygpO1xuICAgICAgICBjb25zdCBjb25maWcgPSBnZXRCbG9ja0Zvcm1Db25maWcoYmxvY2spO1xuICAgICAgICBpZiAoYmxvY2sgJiYgY29uZmlnKSB7XG4gICAgICAgICAgY29uc3QgdmFsdWVzID0gY29sbGVjdEZvcm1WYWx1ZXMoY29uZmlnKTtcbiAgICAgICAgICBoYW5kbGVBcHBlYXJhbmNlQ2hhbmdlKGJsb2NrLmlkLCB2YWx1ZXMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgY29sbGVjdGlvblNlbGVjdD8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQ7XG4gICAgICBzeW5jQ29sbGVjdGlvblNlbGVjdGlvbkluZm8odGFyZ2V0Py52YWx1ZSB8fCAnJyk7XG4gICAgfSk7XG4gICAgYmxvY2tGb3JtPy5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBoYW5kbGVCbG9ja0Zvcm1TdWJtaXQpO1xuICAgIGJsb2NrRm9ybUNhbmNlbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBjb25zdCBibG9jayA9IGdldEFjdGl2ZUJsb2NrKCk7XG4gICAgICBpZiAoYmxvY2spIHtcbiAgICAgICAgcG9wdWxhdGVCbG9ja0Zvcm0oYmxvY2spO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHByZXZpZXdGcmFtZT8uYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHtcbiAgICAgIHByZXZpZXdSZWFkeSA9IHRydWU7XG4gICAgICB1cGRhdGVQcmV2aWV3U3RhdHVzKCdcdTAwQzAgam91cicpO1xuICAgICAgYXBwbHlQcmV2aWV3SGlnaGxpZ2h0KGFjdGl2ZUJsb2NrSWQpO1xuICAgIH0pO1xuICAgIHByZXZpZXdPcGVuQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IHByZXZpZXdXaW5kb3cgPSB3aW5kb3cub3BlbignJywgJ19ibGFuaycpO1xuICAgICAgaWYgKCFwcmV2aWV3V2luZG93KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHByZXZpZXdXaW5kb3cub3BlbmVyID0gbnVsbDtcbiAgICAgIGNvbnN0IGRvYyA9IHByZXZpZXdXaW5kb3cuZG9jdW1lbnQ7XG4gICAgICBkb2Mub3BlbigpO1xuICAgICAgZG9jLndyaXRlKGxhdGVzdFByZXZpZXdIdG1sIHx8IGdldExvYWRpbmdQcmV2aWV3SHRtbCgpKTtcbiAgICAgIGRvYy5jbG9zZSgpO1xuICAgIH0pO1xuXG4gICAgLy8gU0VPIHBhbmVsIGxvZ2ljXG4gICAgY29uc3QgdG9nZ2xlU2VvUGFuZWwgPSAoc2hvdykgPT4ge1xuICAgICAgaWYgKCFzZW9QYW5lbCkgcmV0dXJuO1xuICAgICAgaWYgKHNob3cpIHtcbiAgICAgICAgc2VvUGFuZWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIC8vIFBvcHVsYXRlIGZpZWxkcyB3aXRoIGN1cnJlbnQgcGFnZSBTRU8gZGF0YVxuICAgICAgICBpZiAoY3VycmVudFBhZ2UpIHtcbiAgICAgICAgICBzZW9UaXRsZUlucHV0ICYmIChzZW9UaXRsZUlucHV0LnZhbHVlID0gY3VycmVudFBhZ2Uuc2VvPy50aXRsZSB8fCAnJyk7XG4gICAgICAgICAgc2VvRGVzY3JpcHRpb25JbnB1dCAmJiAoc2VvRGVzY3JpcHRpb25JbnB1dC52YWx1ZSA9IGN1cnJlbnRQYWdlLnNlbz8uZGVzY3JpcHRpb24gfHwgJycpO1xuICAgICAgICAgIC8vIGluZGV4ZWQ6IHRydWUgYnkgZGVmYXVsdCBpZiBub3QgZXhwbGljaXRseSBzZXQgdG8gZmFsc2VcbiAgICAgICAgICBzZW9JbmRleGVkQ2hlY2tib3ggJiYgKHNlb0luZGV4ZWRDaGVja2JveC5jaGVja2VkID0gY3VycmVudFBhZ2Uuc2VvPy5pbmRleGVkICE9PSBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNlb1BhbmVsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3Qgc2V0U2VvRmVlZGJhY2sgPSAobWVzc2FnZSwgdG9uZSA9ICdtdXRlZCcpID0+IHtcbiAgICAgIGlmICghc2VvRmVlZGJhY2spIHJldHVybjtcbiAgICAgIGNvbnN0IGNvbG9yID0gdG9uZSA9PT0gJ3N1Y2Nlc3MnID8gJ3RleHQtZW1lcmFsZC02MDAnIDogdG9uZSA9PT0gJ2Vycm9yJyA/ICd0ZXh0LXJvc2UtNjAwJyA6ICd0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICBzZW9GZWVkYmFjay50ZXh0Q29udGVudCA9IG1lc3NhZ2UgfHwgJyc7XG4gICAgICBzZW9GZWVkYmFjay5jbGFzc05hbWUgPSBgdGV4dC1zbSAke2NvbG9yfWA7XG4gICAgfTtcbiAgICBzZW9Ub2dnbGVCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgaXNWaXNpYmxlID0gc2VvUGFuZWwgJiYgIXNlb1BhbmVsLmNsYXNzTGlzdC5jb250YWlucygnaGlkZGVuJyk7XG4gICAgICB0b2dnbGVTZW9QYW5lbCghaXNWaXNpYmxlKTtcbiAgICB9KTtcbiAgICBzZW9DbG9zZUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0b2dnbGVTZW9QYW5lbChmYWxzZSkpO1xuICAgIHNlb0Zvcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmICghY3VycmVudFBhZ2UpIHtcbiAgICAgICAgc2V0U2VvRmVlZGJhY2soJ0F1Y3VuZSBwYWdlIGFjdGl2ZS4nLCAnZXJyb3InKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2VvU2F2ZUJ1dHRvbiAmJiAoc2VvU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWUpO1xuICAgICAgc2V0U2VvRmVlZGJhY2soJycpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgc2VvRGF0YSA9IHtcbiAgICAgICAgICB0aXRsZTogKHNlb1RpdGxlSW5wdXQ/LnZhbHVlIHx8ICcnKS50cmltKCksXG4gICAgICAgICAgZGVzY3JpcHRpb246IChzZW9EZXNjcmlwdGlvbklucHV0Py52YWx1ZSB8fCAnJykudHJpbSgpLFxuICAgICAgICAgIGluZGV4ZWQ6IHNlb0luZGV4ZWRDaGVja2JveD8uY2hlY2tlZCA/PyB0cnVlLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCB1cGRhdGVkUGFnZSA9IHsgLi4uY3VycmVudFBhZ2UsIHNlbzogc2VvRGF0YSB9O1xuICAgICAgICBjb25zdCBzYXZlZCA9IGF3YWl0IHNhdmVQYWdlVG9TZXJ2ZXIodXBkYXRlZFBhZ2UpO1xuICAgICAgICBpZiAoc2F2ZWQpIHtcbiAgICAgICAgICBjdXJyZW50UGFnZSA9IHNhdmVkO1xuICAgICAgICAgIHNldFNlb0ZlZWRiYWNrKCdTRU8gZW5yZWdpc3RyXHUwMEU5LicsICdzdWNjZXNzJyk7XG4gICAgICAgICAgc2hvd1RvYXN0KCdTRU8gbWlzIFx1MDBFMCBqb3VyJyk7XG4gICAgICAgICAgcmVmcmVzaFByZXZpZXcoY3VycmVudFBhZ2UpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW3Nlb10gc2F2ZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzZXRTZW9GZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZGUgbGEgc2F1dmVnYXJkZS4nLCAnZXJyb3InKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNlb1NhdmVCdXR0b24gJiYgKHNlb1NhdmVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBjb25zdCBzeW5jUGFnZUFjY2Vzc2liaWxpdHlGaWVsZHMgPSAoKSA9PiB7XG4gICAgICBpZiAoIXBhZ2VBY2Nlc3NpYmlsaXR5TmF2Q2hlY2tib3ggJiYgIXBhZ2VBY2Nlc3NpYmlsaXR5TWFpbklucHV0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghY3VycmVudFBhZ2UpIHtcbiAgICAgICAgcGFnZUFjY2Vzc2liaWxpdHlOYXZDaGVja2JveCAmJiAocGFnZUFjY2Vzc2liaWxpdHlOYXZDaGVja2JveC5jaGVja2VkID0gdHJ1ZSk7XG4gICAgICAgIHBhZ2VBY2Nlc3NpYmlsaXR5TWFpbklucHV0ICYmIChwYWdlQWNjZXNzaWJpbGl0eU1haW5JbnB1dC52YWx1ZSA9ICcnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHBhZ2VBY2Nlc3NpYmlsaXR5TmF2Q2hlY2tib3gpIHtcbiAgICAgICAgcGFnZUFjY2Vzc2liaWxpdHlOYXZDaGVja2JveC5jaGVja2VkID1cbiAgICAgICAgICBjdXJyZW50UGFnZS5hY2Nlc3NpYmlsaXR5Py5zaG93SW5NYWluTmF2ICE9PSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmIChwYWdlQWNjZXNzaWJpbGl0eU1haW5JbnB1dCkge1xuICAgICAgICBwYWdlQWNjZXNzaWJpbGl0eU1haW5JbnB1dC52YWx1ZSA9IGN1cnJlbnRQYWdlLmFjY2Vzc2liaWxpdHk/Lm1haW5MYWJlbCB8fCAnJztcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgdG9nZ2xlUGFnZUFjY2Vzc2liaWxpdHlQYW5lbCA9IChzaG93KSA9PiB7XG4gICAgICBpZiAoIXBhZ2VBY2Nlc3NpYmlsaXR5UGFuZWwpIHJldHVybjtcbiAgICAgIGlmIChzaG93KSB7XG4gICAgICAgIHN5bmNQYWdlQWNjZXNzaWJpbGl0eUZpZWxkcygpO1xuICAgICAgICBwYWdlQWNjZXNzaWJpbGl0eVBhbmVsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFnZUFjY2Vzc2liaWxpdHlQYW5lbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3Qgc2V0UGFnZUFjY2Vzc2liaWxpdHlGZWVkYmFjayA9IChtZXNzYWdlLCB0b25lID0gJ211dGVkJykgPT4ge1xuICAgICAgaWYgKCFwYWdlQWNjZXNzaWJpbGl0eUZlZWRiYWNrKSByZXR1cm47XG4gICAgICBjb25zdCBjb2xvciA9XG4gICAgICAgIHRvbmUgPT09ICdzdWNjZXNzJ1xuICAgICAgICAgID8gJ3RleHQtZW1lcmFsZC02MDAnXG4gICAgICAgICAgOiB0b25lID09PSAnZXJyb3InXG4gICAgICAgICAgICA/ICd0ZXh0LXJvc2UtNjAwJ1xuICAgICAgICAgICAgOiAndGV4dC1zbGF0ZS01MDAnO1xuICAgICAgcGFnZUFjY2Vzc2liaWxpdHlGZWVkYmFjay50ZXh0Q29udGVudCA9IG1lc3NhZ2UgfHwgJyc7XG4gICAgICBwYWdlQWNjZXNzaWJpbGl0eUZlZWRiYWNrLmNsYXNzTmFtZSA9IGB0ZXh0LXNtICR7Y29sb3J9YDtcbiAgICB9O1xuXG4gICAgcGFnZUFjY2Vzc2liaWxpdHlUb2dnbGVCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgaXNWaXNpYmxlID1cbiAgICAgICAgcGFnZUFjY2Vzc2liaWxpdHlQYW5lbCAmJiAhcGFnZUFjY2Vzc2liaWxpdHlQYW5lbC5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpO1xuICAgICAgdG9nZ2xlUGFnZUFjY2Vzc2liaWxpdHlQYW5lbCghaXNWaXNpYmxlKTtcbiAgICB9KTtcbiAgICBwYWdlQWNjZXNzaWJpbGl0eUNsb3NlQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+XG4gICAgICB0b2dnbGVQYWdlQWNjZXNzaWJpbGl0eVBhbmVsKGZhbHNlKSxcbiAgICApO1xuXG4gICAgcGFnZUFjY2Vzc2liaWxpdHlGb3JtPy5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlKSB7XG4gICAgICAgIHNldFBhZ2VBY2Nlc3NpYmlsaXR5RmVlZGJhY2soJ0F1Y3VuZSBwYWdlIGFjdGl2ZS4nLCAnZXJyb3InKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcGFnZUFjY2Vzc2liaWxpdHlTYXZlQnV0dG9uICYmIChwYWdlQWNjZXNzaWJpbGl0eVNhdmVCdXR0b24uZGlzYWJsZWQgPSB0cnVlKTtcbiAgICAgIHNldFBhZ2VBY2Nlc3NpYmlsaXR5RmVlZGJhY2soJycpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgYWNjZXNzaWJpbGl0eURhdGEgPSB7XG4gICAgICAgICAgc2hvd0luTWFpbk5hdjogcGFnZUFjY2Vzc2liaWxpdHlOYXZDaGVja2JveD8uY2hlY2tlZCA/PyB0cnVlLFxuICAgICAgICAgIG1haW5MYWJlbDogKHBhZ2VBY2Nlc3NpYmlsaXR5TWFpbklucHV0Py52YWx1ZSB8fCAnJykudHJpbSgpLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCB1cGRhdGVkUGFnZSA9IHtcbiAgICAgICAgICAuLi5jdXJyZW50UGFnZSxcbiAgICAgICAgICBhY2Nlc3NpYmlsaXR5OiBhY2Nlc3NpYmlsaXR5RGF0YSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3Qgc2F2ZWQgPSBhd2FpdCBzYXZlUGFnZVRvU2VydmVyKHVwZGF0ZWRQYWdlKTtcbiAgICAgICAgaWYgKHNhdmVkKSB7XG4gICAgICAgICAgY3VycmVudFBhZ2UgPSBzYXZlZDtcbiAgICAgICAgICBzeW5jUGFnZUFjY2Vzc2liaWxpdHlGaWVsZHMoKTtcbiAgICAgICAgICBzZXRQYWdlQWNjZXNzaWJpbGl0eUZlZWRiYWNrKCdBY2Nlc3NpYmlsaXRcdTAwRTkgZW5yZWdpc3RyXHUwMEU5ZS4nLCAnc3VjY2VzcycpO1xuICAgICAgICAgIHNob3dUb2FzdCgnQWNjZXNzaWJpbGl0XHUwMEU5IG1pc2UgXHUwMEUwIGpvdXInKTtcbiAgICAgICAgICByZW5kZXJQYWdlTGlzdHMocGFnZXMsIGFjdGl2ZVBhZ2VJZCk7XG4gICAgICAgICAgcmVmcmVzaFByZXZpZXcoY3VycmVudFBhZ2UpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2FjY2Vzc2liaWxpdHldIHNhdmUgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2V0UGFnZUFjY2Vzc2liaWxpdHlGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZGUgbGEgc2F1dmVnYXJkZS4nLCAnZXJyb3InKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHBhZ2VBY2Nlc3NpYmlsaXR5U2F2ZUJ1dHRvbiAmJiAocGFnZUFjY2Vzc2liaWxpdHlTYXZlQnV0dG9uLmRpc2FibGVkID0gZmFsc2UpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gUGFnZSBwcm9wZXJ0aWVzIHBhbmVsIGxvZ2ljXG4gICAgY29uc3QgdG9nZ2xlUGFnZVByb3BzUGFuZWwgPSAoc2hvdykgPT4ge1xuICAgICAgaWYgKCFwYWdlUHJvcHNQYW5lbCkgcmV0dXJuO1xuICAgICAgaWYgKHNob3cpIHtcbiAgICAgICAgcGFnZVByb3BzUGFuZWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIC8vIFBvcHVsYXRlIGZpZWxkcyB3aXRoIGN1cnJlbnQgcGFnZSBkYXRhXG4gICAgICAgIGlmIChjdXJyZW50UGFnZSkge1xuICAgICAgICAgIHBhZ2VOYW1lSW5wdXQgJiYgKHBhZ2VOYW1lSW5wdXQudmFsdWUgPSBjdXJyZW50UGFnZS5uYW1lIHx8ICcnKTtcbiAgICAgICAgICBwYWdlVGl0bGVJbnB1dCAmJiAocGFnZVRpdGxlSW5wdXQudmFsdWUgPSBjdXJyZW50UGFnZS50aXRsZSB8fCAnJyk7XG4gICAgICAgICAgcGFnZVNsdWdJbnB1dCAmJiAocGFnZVNsdWdJbnB1dC52YWx1ZSA9IGN1cnJlbnRQYWdlLnNsdWcgfHwgJycpO1xuICAgICAgICAgIHBhZ2VEZXNjcmlwdGlvbklucHV0ICYmIChwYWdlRGVzY3JpcHRpb25JbnB1dC52YWx1ZSA9IGN1cnJlbnRQYWdlLmRlc2NyaXB0aW9uIHx8ICcnKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFnZVByb3BzUGFuZWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBzZXRQYWdlUHJvcHNGZWVkYmFjayA9IChtZXNzYWdlLCB0b25lID0gJ211dGVkJykgPT4ge1xuICAgICAgaWYgKCFwYWdlUHJvcHNGZWVkYmFjaykgcmV0dXJuO1xuICAgICAgY29uc3QgY29sb3IgPSB0b25lID09PSAnc3VjY2VzcycgPyAndGV4dC1lbWVyYWxkLTYwMCcgOiB0b25lID09PSAnZXJyb3InID8gJ3RleHQtcm9zZS02MDAnIDogJ3RleHQtc2xhdGUtNTAwJztcbiAgICAgIHBhZ2VQcm9wc0ZlZWRiYWNrLnRleHRDb250ZW50ID0gbWVzc2FnZSB8fCAnJztcbiAgICAgIHBhZ2VQcm9wc0ZlZWRiYWNrLmNsYXNzTmFtZSA9IGB0ZXh0LXNtICR7Y29sb3J9YDtcbiAgICB9O1xuICAgIHBhZ2VQcm9wc1RvZ2dsZUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBpc1Zpc2libGUgPSBwYWdlUHJvcHNQYW5lbCAmJiAhcGFnZVByb3BzUGFuZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdoaWRkZW4nKTtcbiAgICAgIHRvZ2dsZVBhZ2VQcm9wc1BhbmVsKCFpc1Zpc2libGUpO1xuICAgIH0pO1xuICAgIHBhZ2VQcm9wc0Nsb3NlQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRvZ2dsZVBhZ2VQcm9wc1BhbmVsKGZhbHNlKSk7XG4gICAgcGFnZVByb3BzRm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSkge1xuICAgICAgICBzZXRQYWdlUHJvcHNGZWVkYmFjaygnQXVjdW5lIHBhZ2UgYWN0aXZlLicsICdlcnJvcicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwYWdlUHJvcHNTYXZlQnV0dG9uICYmIChwYWdlUHJvcHNTYXZlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZSk7XG4gICAgICBzZXRQYWdlUHJvcHNGZWVkYmFjaygnJyk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBuZXdOYW1lID0gKHBhZ2VOYW1lSW5wdXQ/LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICAgIGNvbnN0IG5ld1RpdGxlID0gKHBhZ2VUaXRsZUlucHV0Py52YWx1ZSB8fCAnJykudHJpbSgpO1xuICAgICAgICBjb25zdCBuZXdTbHVnID0gKHBhZ2VTbHVnSW5wdXQ/LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICAgIGNvbnN0IG5ld0Rlc2NyaXB0aW9uID0gKHBhZ2VEZXNjcmlwdGlvbklucHV0Py52YWx1ZSB8fCAnJykudHJpbSgpO1xuICAgICAgICBcbiAgICAgICAgLy8gVmFsaWRhdGlvbiBiYXNpcXVlXG4gICAgICAgIGlmICghbmV3VGl0bGUpIHtcbiAgICAgICAgICBzZXRQYWdlUHJvcHNGZWVkYmFjaygnTGUgdGl0cmUgZXN0IHJlcXVpcy4nLCAnZXJyb3InKTtcbiAgICAgICAgICBwYWdlUHJvcHNTYXZlQnV0dG9uICYmIChwYWdlUHJvcHNTYXZlQnV0dG9uLmRpc2FibGVkID0gZmFsc2UpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW5ld1NsdWcgfHwgIW5ld1NsdWcuc3RhcnRzV2l0aCgnLycpKSB7XG4gICAgICAgICAgc2V0UGFnZVByb3BzRmVlZGJhY2soJ0xlIHNsdWcgZG9pdCBjb21tZW5jZXIgcGFyIC8uJywgJ2Vycm9yJyk7XG4gICAgICAgICAgcGFnZVByb3BzU2F2ZUJ1dHRvbiAmJiAocGFnZVByb3BzU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHVwZGF0ZWRQYWdlID0ge1xuICAgICAgICAgIC4uLmN1cnJlbnRQYWdlLFxuICAgICAgICAgIG5hbWU6IG5ld05hbWUgfHwgbmV3VGl0bGUsIC8vIEZhbGxiYWNrIHRvIHRpdGxlIGlmIG5hbWUgaXMgZW1wdHlcbiAgICAgICAgICB0aXRsZTogbmV3VGl0bGUsXG4gICAgICAgICAgc2x1ZzogbmV3U2x1ZyxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogbmV3RGVzY3JpcHRpb24sXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHNhdmVkID0gYXdhaXQgc2F2ZVBhZ2VUb1NlcnZlcih1cGRhdGVkUGFnZSk7XG4gICAgICAgIGlmIChzYXZlZCkge1xuICAgICAgICAgIGN1cnJlbnRQYWdlID0gc2F2ZWQ7XG4gICAgICAgICAgLy8gVXBkYXRlIHBhZ2VzIGFycmF5XG4gICAgICAgICAgcGFnZXMgPSBwYWdlcy5tYXAoKHApID0+IChwLmlkID09PSBzYXZlZC5pZCA/IHNhdmVkIDogcCkpO1xuICAgICAgICAgIHNldFBhZ2VQcm9wc0ZlZWRiYWNrKCdQcm9wcmlcdTAwRTl0XHUwMEU5cyBlbnJlZ2lzdHJcdTAwRTllcy4nLCAnc3VjY2VzcycpO1xuICAgICAgICAgIHNob3dUb2FzdCgnUGFnZSBtaXNlIFx1MDBFMCBqb3VyJyk7XG4gICAgICAgICAgLy8gVXBkYXRlIFVJXG4gICAgICAgICAgc2V0QWN0aXZlTGFiZWxzKGN1cnJlbnRQYWdlKTtcbiAgICAgICAgICByZW5kZXJQYWdlTGlzdHMocGFnZXMsIGFjdGl2ZVBhZ2VJZCk7XG4gICAgICAgICAgcmVmcmVzaFByZXZpZXcoY3VycmVudFBhZ2UpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW3BhZ2UtcHJvcHNdIHNhdmUgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2V0UGFnZVByb3BzRmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGRlIGxhIHNhdXZlZ2FyZGUuJywgJ2Vycm9yJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBwYWdlUHJvcHNTYXZlQnV0dG9uICYmIChwYWdlUHJvcHNTYXZlQnV0dG9uLmRpc2FibGVkID0gZmFsc2UpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgY29uc3QgaGFuZGxlQmxvY2tEcmFnU3RhcnQgPSAoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IGl0ZW0gPSBldmVudC50YXJnZXQuY2xvc2VzdCgnW2RhdGEtYmxvY2staXRlbV0nKTtcbiAgICAgIGlmICghaXRlbSB8fCAhaXNEZXNrdG9wUmVvcmRlcigpKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGRyYWdTb3VyY2VJZCA9IGl0ZW0uZGF0YXNldC5ibG9ja0lkIHx8IG51bGw7XG4gICAgICBpZiAoIWRyYWdTb3VyY2VJZCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBldmVudC5kYXRhVHJhbnNmZXIuZWZmZWN0QWxsb3dlZCA9ICdtb3ZlJztcbiAgICAgIGV2ZW50LmRhdGFUcmFuc2Zlci5zZXREYXRhKCd0ZXh0L3BsYWluJywgZHJhZ1NvdXJjZUlkKTtcbiAgICAgIC8vIFN0eWxlIGR1IGJsb2MgZW4gY291cnMgZGUgZHJhZ1xuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgaXRlbS5jbGFzc0xpc3QuYWRkKCdvcGFjaXR5LTUwJywgJ3NjYWxlLVswLjk4XScsICdzaGFkb3ctbGcnLCAncmluZy0yJywgJ3JpbmctWyM5QzZCRkZdJyk7XG4gICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IGNsZWFyRHJhZ0luZGljYXRvcnMgPSAoKSA9PiB7XG4gICAgICBibG9ja0xpc3RcbiAgICAgICAgPy5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1ibG9jay1pdGVtXScpXG4gICAgICAgIC5mb3JFYWNoKChub2RlKSA9PiB7XG4gICAgICAgICAgbm9kZS5jbGFzc0xpc3QucmVtb3ZlKFxuICAgICAgICAgICAgJ29wYWNpdHktNTAnLCAnc2NhbGUtWzAuOThdJywgJ3NoYWRvdy1sZycsICdyaW5nLTInLCAncmluZy1bIzlDNkJGRl0nLFxuICAgICAgICAgICAgJ2JvcmRlci10LTQnLCAnYm9yZGVyLWItNCcsICdib3JkZXItdC1bIzlDNkJGRl0nLCAnYm9yZGVyLWItWyM5QzZCRkZdJyxcbiAgICAgICAgICAgICdwdC02JywgJ3BiLTYnXG4gICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBjb25zdCBoYW5kbGVCbG9ja0RyYWdFbmQgPSAoKSA9PiB7XG4gICAgICBkcmFnU291cmNlSWQgPSBudWxsO1xuICAgICAgY2xlYXJEcmFnSW5kaWNhdG9ycygpO1xuICAgIH07XG4gICAgY29uc3QgaGFuZGxlQmxvY2tEcmFnT3ZlciA9IChldmVudCkgPT4ge1xuICAgICAgaWYgKCFkcmFnU291cmNlSWQgfHwgIWlzRGVza3RvcFJlb3JkZXIoKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQuY2xvc2VzdCgnW2RhdGEtYmxvY2staXRlbV0nKTtcbiAgICAgIGlmICghdGFyZ2V0IHx8IHRhcmdldC5kYXRhc2V0LmJsb2NrSWQgPT09IGRyYWdTb3VyY2VJZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZXZlbnQuZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3QgPSAnbW92ZSc7XG4gICAgICAvLyBEXHUwMEU5dGVybWluZSBzaSBvbiBkcm9wIGF2YW50IG91IGFwclx1MDBFOHNcbiAgICAgIGNvbnN0IHJlY3QgPSB0YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICBjb25zdCBtaWRZID0gcmVjdC50b3AgKyByZWN0LmhlaWdodCAvIDI7XG4gICAgICBjb25zdCBpc0Fib3ZlID0gZXZlbnQuY2xpZW50WSA8IG1pZFk7XG4gICAgICAvLyBOZXR0b2llIGxlcyBhdXRyZXMgaW5kaWNhdGV1cnNcbiAgICAgIGJsb2NrTGlzdD8ucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYmxvY2staXRlbV0nKS5mb3JFYWNoKChub2RlKSA9PiB7XG4gICAgICAgIGlmIChub2RlICE9PSB0YXJnZXQgJiYgbm9kZS5kYXRhc2V0LmJsb2NrSWQgIT09IGRyYWdTb3VyY2VJZCkge1xuICAgICAgICAgIG5vZGUuY2xhc3NMaXN0LnJlbW92ZSgnYm9yZGVyLXQtNCcsICdib3JkZXItYi00JywgJ2JvcmRlci10LVsjOUM2QkZGXScsICdib3JkZXItYi1bIzlDNkJGRl0nLCAncHQtNicsICdwYi02Jyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgLy8gQXBwbGlxdWUgbCdpbmRpY2F0ZXVyIGRlIHBvc2l0aW9uXG4gICAgICB0YXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgnYm9yZGVyLXQtNCcsICdib3JkZXItYi00JywgJ2JvcmRlci10LVsjOUM2QkZGXScsICdib3JkZXItYi1bIzlDNkJGRl0nLCAncHQtNicsICdwYi02Jyk7XG4gICAgICBpZiAoaXNBYm92ZSkge1xuICAgICAgICB0YXJnZXQuY2xhc3NMaXN0LmFkZCgnYm9yZGVyLXQtNCcsICdib3JkZXItdC1bIzlDNkJGRl0nLCAncHQtNicpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2JvcmRlci1iLTQnLCAnYm9yZGVyLWItWyM5QzZCRkZdJywgJ3BiLTYnKTtcbiAgICAgIH1cbiAgICAgIHRhcmdldC5kYXRhc2V0LmRyb3BQb3NpdGlvbiA9IGlzQWJvdmUgPyAnYmVmb3JlJyA6ICdhZnRlcic7XG4gICAgfTtcbiAgICBjb25zdCBoYW5kbGVCbG9ja0RyYWdMZWF2ZSA9IChldmVudCkgPT4ge1xuICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLWJsb2NrLWl0ZW1dJyk7XG4gICAgICBpZiAoIXRhcmdldCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBWXHUwMEU5cmlmaWUgc2kgb24gcXVpdHRlIHZyYWltZW50IGwnXHUwMEU5bFx1MDBFOW1lbnQgKHBhcyBqdXN0ZSB2ZXJzIHVuIGVuZmFudClcbiAgICAgIGNvbnN0IHJlbGF0ZWRUYXJnZXQgPSBldmVudC5yZWxhdGVkVGFyZ2V0O1xuICAgICAgaWYgKHJlbGF0ZWRUYXJnZXQgJiYgdGFyZ2V0LmNvbnRhaW5zKHJlbGF0ZWRUYXJnZXQpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKCdib3JkZXItdC00JywgJ2JvcmRlci1iLTQnLCAnYm9yZGVyLXQtWyM5QzZCRkZdJywgJ2JvcmRlci1iLVsjOUM2QkZGXScsICdwdC02JywgJ3BiLTYnKTtcbiAgICAgIGRlbGV0ZSB0YXJnZXQuZGF0YXNldC5kcm9wUG9zaXRpb247XG4gICAgfTtcbiAgICBjb25zdCBoYW5kbGVCbG9ja0Ryb3AgPSAoZXZlbnQpID0+IHtcbiAgICAgIGlmICghZHJhZ1NvdXJjZUlkIHx8ICFpc0Rlc2t0b3BSZW9yZGVyKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCdbZGF0YS1ibG9jay1pdGVtXScpO1xuICAgICAgY29uc3Qgc291cmNlID0gZHJhZ1NvdXJjZUlkO1xuICAgICAgY29uc3QgZHJvcFBvc2l0aW9uID0gdGFyZ2V0Py5kYXRhc2V0LmRyb3BQb3NpdGlvbiB8fCAnYWZ0ZXInO1xuICAgICAgZHJhZ1NvdXJjZUlkID0gbnVsbDtcbiAgICAgIGNsZWFyRHJhZ0luZGljYXRvcnMoKTtcbiAgICAgIGNvbnN0IHRhcmdldElkID0gdGFyZ2V0Py5kYXRhc2V0LmJsb2NrSWQgfHwgbnVsbDtcbiAgICAgIGlmICghdGFyZ2V0SWQgfHwgc291cmNlID09PSB0YXJnZXRJZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICByZW9yZGVyQmxvY2tzV2l0aFBvc2l0aW9uKHNvdXJjZSwgdGFyZ2V0SWQsIGRyb3BQb3NpdGlvbik7XG4gICAgfTtcbiAgICBsZXQgZHJhZ1NvdXJjZUlkID0gbnVsbDtcbiAgICBibG9ja0xpc3Q/LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdzdGFydCcsIGhhbmRsZUJsb2NrRHJhZ1N0YXJ0KTtcbiAgICBibG9ja0xpc3Q/LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdlbmQnLCBoYW5kbGVCbG9ja0RyYWdFbmQpO1xuICAgIGJsb2NrTGlzdD8uYWRkRXZlbnRMaXN0ZW5lcignZHJhZ292ZXInLCBoYW5kbGVCbG9ja0RyYWdPdmVyKTtcbiAgICBibG9ja0xpc3Q/LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdsZWF2ZScsIGhhbmRsZUJsb2NrRHJhZ0xlYXZlKTtcbiAgICBibG9ja0xpc3Q/LmFkZEV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCBoYW5kbGVCbG9ja0Ryb3ApO1xuICAgIGxvYWRQYWdlc0Zyb21TZXJ2ZXIoKTtcblxuICAgIC8vIFx1MDBDOWNvdXRlciBsJ1x1MDBFOXZcdTAwRTluZW1lbnQgZGUgcmFmcmFcdTAwRUVjaGlzc2VtZW50IGRcdTAwRTljbGVuY2hcdTAwRTkgcGFyIGwnSUFcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdhaS1wYWdlLXVwZGF0ZWQnLCBhc3luYyAoZSkgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ1tkZXNpZ25dIFJhZnJhXHUwMEVFY2hpc3NlbWVudCBkXHUwMEU5Y2xlbmNoXHUwMEU5IHBhciBJQScsIGUuZGV0YWlsKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIFJlY2hhcmdlciBsZXMgcGFnZXMgZGVwdWlzIGxlIHNlcnZldXJcbiAgICAgICAgY29uc3QgbG9hZGVkUGFnZXMgPSBhd2FpdCBmZXRjaFBhZ2VzRnJvbVNlcnZlcigpO1xuICAgICAgICBwYWdlcyA9IChBcnJheS5pc0FycmF5KGxvYWRlZFBhZ2VzKSA/IGxvYWRlZFBhZ2VzIDogW10pLm1hcCgocGFnZSkgPT5cbiAgICAgICAgICBub3JtYWxpemVQYWdlRGF0YShwYWdlKSxcbiAgICAgICAgKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFRyb3V2ZXIgZXQgbWV0dHJlIFx1MDBFMCBqb3VyIGxhIHBhZ2UgYWN0aXZlXG4gICAgICAgIGlmIChlLmRldGFpbD8ucGFnZUlkKSB7XG4gICAgICAgICAgY29uc3QgdXBkYXRlZFBhZ2UgPSBwYWdlcy5maW5kKHAgPT4gcC5pZCA9PT0gZS5kZXRhaWwucGFnZUlkKTtcbiAgICAgICAgICBpZiAodXBkYXRlZFBhZ2UpIHtcbiAgICAgICAgICAgIGN1cnJlbnRQYWdlID0gdXBkYXRlZFBhZ2U7XG4gICAgICAgICAgICBhY3RpdmVQYWdlSWQgPSB1cGRhdGVkUGFnZS5pZDtcbiAgICAgICAgICAgIC8vIFJhZnJhXHUwMEVFY2hpciBsYSBwcmV2aWV3IGF2ZWMgbGEgcGFnZSBtaXNlIFx1MDBFMCBqb3VyXG4gICAgICAgICAgICByZWZyZXNoUHJldmlldyhjdXJyZW50UGFnZSk7XG4gICAgICAgICAgICAvLyBSYWZyYVx1MDBFRWNoaXIgbGEgbGlzdGUgZGVzIGJsb2NzXG4gICAgICAgICAgICByZW5kZXJCbG9ja0xpc3QoY3VycmVudFBhZ2UpO1xuICAgICAgICAgICAgc2hvd1RvYXN0KCdQYWdlIG1pc2UgXHUwMEUwIGpvdXIgcGFyIGxcXCdJQScpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChhY3RpdmVQYWdlSWQpIHtcbiAgICAgICAgICAvLyBSYWZyYVx1MDBFRWNoaXIgbGEgcGFnZSBhY3RpdmUgYWN0dWVsbGVcbiAgICAgICAgICBjb25zdCBhY3RpdmVQYWdlID0gcGFnZXMuZmluZChwID0+IHAuaWQgPT09IGFjdGl2ZVBhZ2VJZCk7XG4gICAgICAgICAgaWYgKGFjdGl2ZVBhZ2UpIHtcbiAgICAgICAgICAgIGN1cnJlbnRQYWdlID0gYWN0aXZlUGFnZTtcbiAgICAgICAgICAgIHJlZnJlc2hQcmV2aWV3KGN1cnJlbnRQYWdlKTtcbiAgICAgICAgICAgIHJlbmRlckJsb2NrTGlzdChjdXJyZW50UGFnZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2Rlc2lnbl0gRXJyZXVyIHJhZnJhXHUwMEVFY2hpc3NlbWVudCBJQTonLCBlcnIpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gaW5pdENvbnRlbnRXb3Jrc3BhY2UoKSB7XG4gICAgY29uc3QgY29sbGVjdGlvbkxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xsZWN0aW9uLWxpc3RdJyk7XG4gICAgaWYgKCFjb2xsZWN0aW9uTGlzdCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICAvLyBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcbiAgICAvLyBIRUFERVIgJiBGT09URVIgTUFOQUdFTUVOVFxuICAgIC8vIFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFxuICAgIGNvbnN0IGNvbnRlbnRWaWV3cyA9IHtcbiAgICAgIGVtcHR5OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb250ZW50LXZpZXc9XCJlbXB0eVwiXScpLFxuICAgICAgaGVhZGVyOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb250ZW50LXZpZXc9XCJoZWFkZXJcIl0nKSxcbiAgICAgIGNvbGxlY3Rpb246IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbnRlbnQtdmlldz1cImNvbGxlY3Rpb25cIl0nKSxcbiAgICAgIGZvb3RlcjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29udGVudC12aWV3PVwiZm9vdGVyXCJdJyksXG4gICAgfTtcbiAgICBjb25zdCBjb250ZW50U2VjdGlvbkJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1jb250ZW50LXNlY3Rpb25dJyk7XG4gICAgY29uc3QgY29udGVudFNlY3Rpb25UcmlnZ2VycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWNvbnRlbnQtc2VjdGlvbi10cmlnZ2VyXScpO1xuICAgIGNvbnN0IGNvbnRlbnREcmF3ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb250ZW50LWRyYXdlcl0nKTtcbiAgICBjb25zdCBjb250ZW50RHJhd2VyQmFja2Ryb3AgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb250ZW50LWRyYXdlci1iYWNrZHJvcF0nKTtcbiAgICBjb25zdCBjb250ZW50RHJhd2VyT3BlbkJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1jb250ZW50LWRyYXdlci1vcGVuXScpO1xuICAgIGNvbnN0IGNvbnRlbnREcmF3ZXJDbG9zZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1jb250ZW50LWRyYXdlci1jbG9zZV0nKTtcbiAgICBjb25zdCBoZWFkZXJTdGF0dXNJbmRpY2F0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1oZWFkZXItc3RhdHVzXScpO1xuICAgIGNvbnN0IGZvb3RlclN0YXR1c0luZGljYXRvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWZvb3Rlci1zdGF0dXNdJyk7XG4gICAgY29uc3QgY29sbGVjdGlvbkNvdW50RWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xsZWN0aW9uLWNvdW50XScpO1xuICAgIFxuICAgIC8vIEhlYWRlciBmaWVsZHNcbiAgICBjb25zdCBoZWFkZXJGaWVsZHMgPSB7XG4gICAgICBsb2dvOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImhlYWRlci1sb2dvXCJdJyksXG4gICAgICBsb2dvQWx0OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImhlYWRlci1sb2dvLWFsdFwiXScpLFxuICAgICAgbG9nb1VybDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJoZWFkZXItbG9nby11cmxcIl0nKSxcbiAgICAgIGN0YVRleHQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaGVhZGVyLWN0YS10ZXh0XCJdJyksXG4gICAgICBjdGFVcmw6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaGVhZGVyLWN0YS11cmxcIl0nKSxcbiAgICAgIGN0YVN0eWxlOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImhlYWRlci1jdGEtc3R5bGVcIl0nKSxcbiAgICAgIHBvc2l0aW9uOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImhlYWRlci1wb3NpdGlvblwiXScpLFxuICAgICAgYmc6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaGVhZGVyLWJnXCJdJyksXG4gICAgfTtcbiAgICBjb25zdCBoZWFkZXJOYXZMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaGVhZGVyLW5hdi1saXN0XScpO1xuICAgIGNvbnN0IGhlYWRlck5hdkFkZEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWhlYWRlci1uYXYtYWRkXScpO1xuICAgIGNvbnN0IGhlYWRlclNhdmVCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1oZWFkZXItc2F2ZV0nKTtcbiAgICBjb25zdCBoZWFkZXJOYXZJdGVtVGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS10ZW1wbGF0ZS1oZWFkZXItbmF2LWl0ZW1dJyk7XG4gICAgY29uc3QgaGVhZGVyUGFnZXNMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaGVhZGVyLXBhZ2VzLWxpc3RdJyk7XG4gICAgbGV0IHNpdGVQYWdlcyA9IFtdOyAvLyBQYWdlcyBkdSBzaXRlIHBvdXIgbGVzIGNoZWNrYm94ZXNcbiAgICBsZXQgc2VsZWN0ZWROYXZQYWdlcyA9IFtdOyAvLyBQYWdlcyBzXHUwMEU5bGVjdGlvbm5cdTAwRTllcyBwb3VyIGxlIG1lbnUgKGF2ZWMgb3JkcmUpXG4gICAgXG4gICAgLy8gRm9vdGVyIGZpZWxkc1xuICAgIGNvbnN0IGZvb3RlckZpZWxkcyA9IHtcbiAgICAgIGxpbmtlZGluOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImZvb3Rlci1zb2NpYWwtbGlua2VkaW5cIl0nKSxcbiAgICAgIHR3aXR0ZXI6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZm9vdGVyLXNvY2lhbC10d2l0dGVyXCJdJyksXG4gICAgICBpbnN0YWdyYW06IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZm9vdGVyLXNvY2lhbC1pbnN0YWdyYW1cIl0nKSxcbiAgICAgIGZhY2Vib29rOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImZvb3Rlci1zb2NpYWwtZmFjZWJvb2tcIl0nKSxcbiAgICAgIHlvdXR1YmU6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZm9vdGVyLXNvY2lhbC15b3V0dWJlXCJdJyksXG4gICAgICBnaXRodWI6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZm9vdGVyLXNvY2lhbC1naXRodWJcIl0nKSxcbiAgICAgIGNvcHlyaWdodDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJmb290ZXItY29weXJpZ2h0XCJdJyksXG4gICAgICBsZWdhbFVybDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJmb290ZXItbGVnYWwtdXJsXCJdJyksXG4gICAgICBwcml2YWN5VXJsOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImZvb3Rlci1wcml2YWN5LXVybFwiXScpLFxuICAgICAgYmc6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZm9vdGVyLWJnXCJdJyksXG4gICAgICBjb2x1bW5zQ291bnQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZm9vdGVyLWNvbHVtbnMtY291bnRcIl0nKSxcbiAgICB9O1xuICAgIGNvbnN0IGZvb3RlckNvbHVtbnNMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZm9vdGVyLWNvbHVtbnMtbGlzdF0nKTtcbiAgICBjb25zdCBmb290ZXJDb2x1bW5BZGRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1mb290ZXItY29sdW1uLWFkZF0nKTtcbiAgICBjb25zdCBmb290ZXJTYXZlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZm9vdGVyLXNhdmVdJyk7XG4gICAgY29uc3QgZm9vdGVyQ29sdW1uVGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS10ZW1wbGF0ZS1mb290ZXItY29sdW1uXScpO1xuICAgIGNvbnN0IGZvb3RlckxpbmtUZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRlbXBsYXRlLWZvb3Rlci1saW5rXScpO1xuICAgIFxuICAgIGxldCBhY3RpdmVDb250ZW50U2VjdGlvbiA9IG51bGw7XG4gICAgbGV0IGhlYWRlckRhdGEgPSB7IG5hdjogW10sIGxvZ286IHt9LCBjdGE6IHt9LCBzdHlsZToge30gfTtcbiAgICBsZXQgZm9vdGVyRGF0YSA9IHsgY29sdW1uczogW10sIHNvY2lhbHM6IHt9LCBjb3B5cmlnaHQ6ICcnLCBsZWdhbDoge30sIHN0eWxlOiB7fSB9O1xuICAgIFxuICAgIGNvbnN0IHNhZmVTaXRlU2x1Z0ZvckxheW91dCA9IHN0cmlwTGVhZGluZ1NsYXNoKHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJycpO1xuICAgIGNvbnN0IHNsdWcgPSBzYWZlU2l0ZVNsdWdGb3JMYXlvdXQ7IC8vIEFsaWFzIHBvdXIgbGVzIGZvbmN0aW9ucyBxdWkgdXRpbGlzZW50IHNsdWdcbiAgICBjb25zdCBsYXlvdXRBcGlCYXNlID0gc2FmZVNpdGVTbHVnRm9yTGF5b3V0ID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnRm9yTGF5b3V0KX0vbGF5b3V0YCA6IG51bGw7XG4gICAgXG4gICAgLy8gVmlldyBzd2l0Y2hpbmdcbiAgICBjb25zdCBzaG93Q29udGVudFZpZXcgPSAodmlld05hbWUpID0+IHtcbiAgICAgIE9iamVjdC5lbnRyaWVzKGNvbnRlbnRWaWV3cykuZm9yRWFjaCgoW25hbWUsIGVsXSkgPT4ge1xuICAgICAgICBpZiAoZWwpIGVsLmNsYXNzTGlzdC50b2dnbGUoJ2hpZGRlbicsIG5hbWUgIT09IHZpZXdOYW1lKTtcbiAgICAgIH0pO1xuICAgICAgY29udGVudFNlY3Rpb25CdXR0b25zLmZvckVhY2goYnRuID0+IHtcbiAgICAgICAgY29uc3Qgc2VjdGlvbiA9IGJ0bi5kYXRhc2V0LmNvbnRlbnRTZWN0aW9uO1xuICAgICAgICBpZiAoc2VjdGlvbiA9PT0gdmlld05hbWUpIHtcbiAgICAgICAgICBidG4uZGF0YXNldC5hY3RpdmUgPSAndHJ1ZSc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGVsZXRlIGJ0bi5kYXRhc2V0LmFjdGl2ZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBhY3RpdmVDb250ZW50U2VjdGlvbiA9IHZpZXdOYW1lO1xuICAgIH07XG4gICAgXG4gICAgLy8gRHJhd2VyIG1hbmFnZW1lbnRcbiAgICBjb25zdCBvcGVuQ29udGVudERyYXdlciA9ICgpID0+IHtcbiAgICAgIGNvbnRlbnREcmF3ZXI/LmNsYXNzTGlzdC5hZGQoJ2lzLW9wZW4nKTtcbiAgICAgIGNvbnRlbnREcmF3ZXIgJiYgKGNvbnRlbnREcmF3ZXIuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVgoMCknKTtcbiAgICAgIGNvbnRlbnREcmF3ZXJCYWNrZHJvcD8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ292ZXJmbG93LWhpZGRlbicpO1xuICAgIH07XG4gICAgY29uc3QgY2xvc2VDb250ZW50RHJhd2VyID0gKCkgPT4ge1xuICAgICAgY29udGVudERyYXdlcj8uY2xhc3NMaXN0LnJlbW92ZSgnaXMtb3BlbicpO1xuICAgICAgY29udGVudERyYXdlciAmJiAoY29udGVudERyYXdlci5zdHlsZS50cmFuc2Zvcm0gPSAnJyk7XG4gICAgICBjb250ZW50RHJhd2VyQmFja2Ryb3A/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICB9O1xuICAgIFxuICAgIGNvbnRlbnREcmF3ZXJPcGVuQnV0dG9ucy5mb3JFYWNoKGJ0biA9PiBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuQ29udGVudERyYXdlcikpO1xuICAgIGNvbnRlbnREcmF3ZXJDbG9zZUJ1dHRvbnMuZm9yRWFjaChidG4gPT4gYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VDb250ZW50RHJhd2VyKSk7XG4gICAgY29udGVudERyYXdlckJhY2tkcm9wPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlQ29udGVudERyYXdlcik7XG4gICAgXG4gICAgLy8gU2VjdGlvbiBidXR0b24gaGFuZGxlcnNcbiAgICBjb250ZW50U2VjdGlvbkJ1dHRvbnMuZm9yRWFjaChidG4gPT4ge1xuICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBjb25zdCBzZWN0aW9uID0gYnRuLmRhdGFzZXQuY29udGVudFNlY3Rpb247XG4gICAgICAgIGlmIChzZWN0aW9uID09PSAnaGVhZGVyJyB8fCBzZWN0aW9uID09PSAnZm9vdGVyJykge1xuICAgICAgICAgIHNob3dDb250ZW50VmlldyhzZWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBjbG9zZUNvbnRlbnREcmF3ZXIoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGNvbnRlbnRTZWN0aW9uVHJpZ2dlcnMuZm9yRWFjaChidG4gPT4ge1xuICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBjb25zdCBzZWN0aW9uID0gYnRuLmRhdGFzZXQuY29udGVudFNlY3Rpb25UcmlnZ2VyO1xuICAgICAgICBpZiAoc2VjdGlvbikgc2hvd0NvbnRlbnRWaWV3KHNlY3Rpb24pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgXG4gICAgLy8gXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXG4gICAgLy8gSEVBREVSIEZVTkNUSU9OU1xuICAgIC8vIFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFxuICAgIFxuICAgIC8vIENoYXJnZXIgbGEgbGlzdGUgZGVzIHBhZ2VzIGR1IHNpdGUgcG91ciBsZXMgY2hlY2tib3hlc1xuICAgIGNvbnN0IGxvYWRTaXRlUGFnZXNGb3JIZWFkZXIgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXNsdWcgfHwgIWhlYWRlclBhZ2VzTGlzdCkgcmV0dXJuO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9zaXRlcy8ke3NsdWd9L3BhZ2VzYCwgeyBjcmVkZW50aWFsczogJ2luY2x1ZGUnIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB0aHJvdyBuZXcgRXJyb3IoJ0VycmV1ciBjaGFyZ2VtZW50IHBhZ2VzJyk7XG4gICAgICAgIHNpdGVQYWdlcyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgcmVuZGVyUGFnZUNoZWNrYm94ZXMoKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbaGVhZGVyXSBsb2FkIHBhZ2VzIGVycm9yJywgZXJyKTtcbiAgICAgICAgaGVhZGVyUGFnZXNMaXN0LmlubmVySFRNTCA9ICc8cCBjbGFzcz1cInRleHQteHMgdGV4dC1yZWQtNTAwXCI+RXJyZXVyIGNoYXJnZW1lbnQgcGFnZXM8L3A+JztcbiAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIC8vIEFmZmljaGVyIGxlcyBjaGVja2JveGVzIHBvdXIgY2hhcXVlIHBhZ2VcbiAgICBjb25zdCByZW5kZXJQYWdlQ2hlY2tib3hlcyA9ICgpID0+IHtcbiAgICAgIGlmICghaGVhZGVyUGFnZXNMaXN0KSByZXR1cm47XG4gICAgICBoZWFkZXJQYWdlc0xpc3QuaW5uZXJIVE1MID0gJyc7XG4gICAgICBcbiAgICAgIGlmIChzaXRlUGFnZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGhlYWRlclBhZ2VzTGlzdC5pbm5lckhUTUwgPSAnPHAgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNDAwIGl0YWxpY1wiPkF1Y3VuZSBwYWdlIGRpc3BvbmlibGU8L3A+JztcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgXG4gICAgICBzaXRlUGFnZXMuZm9yRWFjaChwYWdlID0+IHtcbiAgICAgICAgY29uc3QgcGFnZVNsdWcgPSBwYWdlLnNsdWcgfHwgcGFnZS5pZDtcbiAgICAgICAgLy8gVXNlIHBhZ2UubmFtZSAoc2hvcnQgbmFtZSkgaWYgYXZhaWxhYmxlLCBmYWxsYmFjayB0byB0aXRsZVxuICAgICAgICBjb25zdCBwYWdlRGlzcGxheU5hbWUgPSBwYWdlLm5hbWUgfHwgcGFnZS50aXRsZSB8fCBwYWdlU2x1ZztcbiAgICAgICAgY29uc3QgcGFnZVVybCA9IHBhZ2VTbHVnID09PSAnaW5kZXgnID8gJy8nIDogYC8ke3BhZ2VTbHVnfWA7XG4gICAgICAgIFxuICAgICAgICAvLyBWXHUwMEU5cmlmaWVyIHNpIGNldHRlIHBhZ2UgZXN0IHNcdTAwRTlsZWN0aW9ublx1MDBFOWUgZGFucyBsYSBuYXZcbiAgICAgICAgY29uc3QgaXNTZWxlY3RlZCA9IHNlbGVjdGVkTmF2UGFnZXMuc29tZShuYXYgPT4gbmF2LnVybCA9PT0gcGFnZVVybCk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gICAgICAgIGxhYmVsLmNsYXNzTmFtZSA9ICdmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBweC0zIHB5LTIgcm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLXNsYXRlLTIwMCBob3ZlcjpiZy1zbGF0ZS01MCBjdXJzb3ItcG9pbnRlciB0cmFuc2l0aW9uLWNvbG9ycyc7XG4gICAgICAgIGxhYmVsLmlubmVySFRNTCA9IGBcbiAgICAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmFtZT1cIm5hdi1wYWdlXCIgdmFsdWU9XCIke3BhZ2VVcmx9XCIgZGF0YS1wYWdlLXRpdGxlPVwiJHtwYWdlRGlzcGxheU5hbWV9XCJcbiAgICAgICAgICAgICAgICAgY2xhc3M9XCJ3LTQgaC00IHJvdW5kZWQgYm9yZGVyLXNsYXRlLTMwMCB0ZXh0LXZpb2xldC02MDAgZm9jdXM6cmluZy12aW9sZXQtNTAwXCJcbiAgICAgICAgICAgICAgICAgJHtpc1NlbGVjdGVkID8gJ2NoZWNrZWQnIDogJyd9PlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZmxleC0xIHRleHQtc20gdGV4dC1zbGF0ZS03MDBcIj4ke3BhZ2VEaXNwbGF5TmFtZX08L3NwYW4+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNDAwXCI+JHtwYWdlVXJsfTwvc3Bhbj5cbiAgICAgICAgYDtcbiAgICAgICAgXG4gICAgICAgIC8vIE1ldHRyZSBcdTAwRTAgam91ciBzZWxlY3RlZE5hdlBhZ2VzIHF1YW5kIG9uIGNvY2hlL2RcdTAwRTljb2NoZVxuICAgICAgICBjb25zdCBjaGVja2JveCA9IGxhYmVsLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0Jyk7XG4gICAgICAgIGNoZWNrYm94LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgICAgICAgICBpZiAoY2hlY2tib3guY2hlY2tlZCkge1xuICAgICAgICAgICAgLy8gQWpvdXRlciBcdTAwRTAgbGEgbGlzdGVcbiAgICAgICAgICAgIGlmICghc2VsZWN0ZWROYXZQYWdlcy5zb21lKG5hdiA9PiBuYXYudXJsID09PSBwYWdlVXJsKSkge1xuICAgICAgICAgICAgICBzZWxlY3RlZE5hdlBhZ2VzLnB1c2goeyBsYWJlbDogcGFnZURpc3BsYXlOYW1lLCB1cmw6IHBhZ2VVcmwgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFJldGlyZXIgZGUgbGEgbGlzdGVcbiAgICAgICAgICAgIHNlbGVjdGVkTmF2UGFnZXMgPSBzZWxlY3RlZE5hdlBhZ2VzLmZpbHRlcihuYXYgPT4gbmF2LnVybCAhPT0gcGFnZVVybCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGhlYWRlclBhZ2VzTGlzdC5hcHBlbmRDaGlsZChsYWJlbCk7XG4gICAgICB9KTtcbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IGNvbGxlY3RIZWFkZXJEYXRhID0gKCkgPT4ge1xuICAgICAgLy8gQ29sbGVjdGVyIGxlcyBwYWdlcyBjb2NoXHUwMEU5ZXMgZGFucyBsJ29yZHJlIGFjdHVlbFxuICAgICAgY29uc3QgbmF2ID0gW107XG4gICAgICBoZWFkZXJQYWdlc0xpc3Q/LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W25hbWU9XCJuYXYtcGFnZVwiXTpjaGVja2VkJykuZm9yRWFjaChjaGVja2JveCA9PiB7XG4gICAgICAgIGNvbnN0IHVybCA9IGNoZWNrYm94LnZhbHVlO1xuICAgICAgICBjb25zdCBsYWJlbCA9IGNoZWNrYm94LmRhdGFzZXQucGFnZVRpdGxlIHx8IHVybDtcbiAgICAgICAgbmF2LnB1c2goeyBsYWJlbCwgdXJsIH0pO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGxvZ286IHtcbiAgICAgICAgICBzcmM6IGhlYWRlckZpZWxkcy5sb2dvPy52YWx1ZT8udHJpbSgpIHx8ICcnLFxuICAgICAgICAgIGFsdDogaGVhZGVyRmllbGRzLmxvZ29BbHQ/LnZhbHVlPy50cmltKCkgfHwgJycsXG4gICAgICAgICAgdXJsOiBoZWFkZXJGaWVsZHMubG9nb1VybD8udmFsdWU/LnRyaW0oKSB8fCAnLycsXG4gICAgICAgIH0sXG4gICAgICAgIG5hdixcbiAgICAgICAgY3RhOiB7XG4gICAgICAgICAgdGV4dDogaGVhZGVyRmllbGRzLmN0YVRleHQ/LnZhbHVlPy50cmltKCkgfHwgJycsXG4gICAgICAgICAgdXJsOiBoZWFkZXJGaWVsZHMuY3RhVXJsPy52YWx1ZT8udHJpbSgpIHx8ICcnLFxuICAgICAgICAgIHN0eWxlOiBoZWFkZXJGaWVsZHMuY3RhU3R5bGU/LnZhbHVlIHx8ICdwcmltYXJ5JyxcbiAgICAgICAgfSxcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICBwb3NpdGlvbjogaGVhZGVyRmllbGRzLnBvc2l0aW9uPy52YWx1ZSB8fCAnc3RhdGljJyxcbiAgICAgICAgICBiZzogaGVhZGVyRmllbGRzLmJnPy52YWx1ZSB8fCAnYmctd2hpdGUnLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IHBvcHVsYXRlSGVhZGVyRm9ybSA9IGFzeW5jIChkYXRhKSA9PiB7XG4gICAgICBpZiAoIWRhdGEpIHJldHVybjtcbiAgICAgIGlmIChoZWFkZXJGaWVsZHMubG9nbykgaGVhZGVyRmllbGRzLmxvZ28udmFsdWUgPSBkYXRhLmxvZ28/LnNyYyB8fCAnJztcbiAgICAgIGlmIChoZWFkZXJGaWVsZHMubG9nb0FsdCkgaGVhZGVyRmllbGRzLmxvZ29BbHQudmFsdWUgPSBkYXRhLmxvZ28/LmFsdCB8fCAnJztcbiAgICAgIGlmIChoZWFkZXJGaWVsZHMubG9nb1VybCkgaGVhZGVyRmllbGRzLmxvZ29VcmwudmFsdWUgPSBkYXRhLmxvZ28/LnVybCB8fCAnLyc7XG4gICAgICBpZiAoaGVhZGVyRmllbGRzLmN0YVRleHQpIGhlYWRlckZpZWxkcy5jdGFUZXh0LnZhbHVlID0gZGF0YS5jdGE/LnRleHQgfHwgJyc7XG4gICAgICBpZiAoaGVhZGVyRmllbGRzLmN0YVVybCkgaGVhZGVyRmllbGRzLmN0YVVybC52YWx1ZSA9IGRhdGEuY3RhPy51cmwgfHwgJyc7XG4gICAgICBpZiAoaGVhZGVyRmllbGRzLmN0YVN0eWxlKSBoZWFkZXJGaWVsZHMuY3RhU3R5bGUudmFsdWUgPSBkYXRhLmN0YT8uc3R5bGUgfHwgJ3ByaW1hcnknO1xuICAgICAgaWYgKGhlYWRlckZpZWxkcy5wb3NpdGlvbikgaGVhZGVyRmllbGRzLnBvc2l0aW9uLnZhbHVlID0gZGF0YS5zdHlsZT8ucG9zaXRpb24gfHwgJ3N0YXRpYyc7XG4gICAgICBpZiAoaGVhZGVyRmllbGRzLmJnKSBoZWFkZXJGaWVsZHMuYmcudmFsdWUgPSBkYXRhLnN0eWxlPy5iZyB8fCAnYmctd2hpdGUnO1xuICAgICAgXG4gICAgICAvLyBTdG9ja2VyIGxlcyBwYWdlcyBzXHUwMEU5bGVjdGlvbm5cdTAwRTllcyBwb3VyIGxlcyBjaGVja2JveGVzXG4gICAgICBzZWxlY3RlZE5hdlBhZ2VzID0gZGF0YS5uYXYgfHwgW107XG4gICAgICBcbiAgICAgIC8vIENoYXJnZXIgbGVzIHBhZ2VzIGV0IGFmZmljaGVyIGxlcyBjaGVja2JveGVzXG4gICAgICBhd2FpdCBsb2FkU2l0ZVBhZ2VzRm9ySGVhZGVyKCk7XG4gICAgICBcbiAgICAgIC8vIFVwZGF0ZSBzdGF0dXMgaW5kaWNhdG9yXG4gICAgICBjb25zdCBoYXNEYXRhID0gZGF0YS5sb2dvPy5zcmMgfHwgZGF0YS5uYXY/Lmxlbmd0aCA+IDAgfHwgZGF0YS5jdGE/LnRleHQ7XG4gICAgICBpZiAoaGVhZGVyU3RhdHVzSW5kaWNhdG9yKSB7XG4gICAgICAgIGhlYWRlclN0YXR1c0luZGljYXRvci5jbGFzc0xpc3QudG9nZ2xlKCdiZy1ncmVlbi01MDAnLCAhIWhhc0RhdGEpO1xuICAgICAgICBoZWFkZXJTdGF0dXNJbmRpY2F0b3IuY2xhc3NMaXN0LnRvZ2dsZSgnYmctc2xhdGUtMzAwJywgIWhhc0RhdGEpO1xuICAgICAgICBoZWFkZXJTdGF0dXNJbmRpY2F0b3IudGl0bGUgPSBoYXNEYXRhID8gJ0NvbmZpZ3VyXHUwMEU5JyA6ICdOb24gY29uZmlndXJcdTAwRTknO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBoZWFkZXJTYXZlQnRuPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghbGF5b3V0QXBpQmFzZSkgcmV0dXJuO1xuICAgICAgaGVhZGVyU2F2ZUJ0bi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICBoZWFkZXJTYXZlQnRuLnRleHRDb250ZW50ID0gJ0VucmVnaXN0cmVtZW50Li4uJztcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBjb2xsZWN0SGVhZGVyRGF0YSgpO1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke2xheW91dEFwaUJhc2V9L2hlYWRlcmAsIHtcbiAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZScsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB0aHJvdyBuZXcgRXJyb3IoJ0VycmV1ciBzZXJ2ZXVyJyk7XG4gICAgICAgIGhlYWRlckRhdGEgPSBkYXRhO1xuICAgICAgICBwb3B1bGF0ZUhlYWRlckZvcm0oZGF0YSk7XG4gICAgICAgIHNob3dUb2FzdCgnSGVhZGVyIGVucmVnaXN0clx1MDBFOScpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1toZWFkZXJdIHNhdmUgZXJyb3InLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoJ0VycmV1ciBsb3JzIGRlIGxcXCdlbnJlZ2lzdHJlbWVudCcsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaGVhZGVyU2F2ZUJ0bi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICBoZWFkZXJTYXZlQnRuLnRleHRDb250ZW50ID0gJ0VucmVnaXN0cmVyJztcbiAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICAvLyBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcbiAgICAvLyBGT09URVIgRlVOQ1RJT05TXG4gICAgLy8gXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXG4gICAgY29uc3QgYWRkRm9vdGVyTGluayA9IChjb250YWluZXIsIGxhYmVsID0gJycsIHVybCA9ICcnKSA9PiB7XG4gICAgICBpZiAoIWZvb3RlckxpbmtUZW1wbGF0ZSB8fCAhY29udGFpbmVyKSByZXR1cm47XG4gICAgICBjb25zdCBjbG9uZSA9IGZvb3RlckxpbmtUZW1wbGF0ZS5jb250ZW50LmNsb25lTm9kZSh0cnVlKTtcbiAgICAgIGNvbnN0IGl0ZW0gPSBjbG9uZS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1mb290ZXItbGlua10nKTtcbiAgICAgIGNvbnN0IGxhYmVsSW5wdXQgPSBjbG9uZS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImxpbmstbGFiZWxcIl0nKTtcbiAgICAgIGNvbnN0IHVybElucHV0ID0gY2xvbmUucXVlcnlTZWxlY3RvcignW25hbWU9XCJsaW5rLXVybFwiXScpO1xuICAgICAgY29uc3QgcmVtb3ZlQnRuID0gY2xvbmUucXVlcnlTZWxlY3RvcignW2RhdGEtbGluay1yZW1vdmVdJyk7XG4gICAgICBpZiAobGFiZWxJbnB1dCkgbGFiZWxJbnB1dC52YWx1ZSA9IGxhYmVsO1xuICAgICAgaWYgKHVybElucHV0KSB1cmxJbnB1dC52YWx1ZSA9IHVybDtcbiAgICAgIHJlbW92ZUJ0bj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBpdGVtPy5yZW1vdmUoKSk7XG4gICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoY2xvbmUpO1xuICAgIH07XG4gICAgXG4gICAgY29uc3QgYWRkRm9vdGVyQ29sdW1uID0gKHRpdGxlID0gJycsIGxpbmtzID0gW10pID0+IHtcbiAgICAgIGlmICghZm9vdGVyQ29sdW1uVGVtcGxhdGUgfHwgIWZvb3RlckNvbHVtbnNMaXN0KSByZXR1cm47XG4gICAgICBjb25zdCBjbG9uZSA9IGZvb3RlckNvbHVtblRlbXBsYXRlLmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpO1xuICAgICAgY29uc3QgY29sdW1uID0gY2xvbmUucXVlcnlTZWxlY3RvcignW2RhdGEtZm9vdGVyLWNvbHVtbl0nKTtcbiAgICAgIGNvbnN0IHRpdGxlSW5wdXQgPSBjbG9uZS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImNvbHVtbi10aXRsZVwiXScpO1xuICAgICAgY29uc3QgbGlua3NDb250YWluZXIgPSBjbG9uZS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2x1bW4tbGlua3NdJyk7XG4gICAgICBjb25zdCBhZGRMaW5rQnRuID0gY2xvbmUucXVlcnlTZWxlY3RvcignW2RhdGEtY29sdW1uLWxpbmstYWRkXScpO1xuICAgICAgY29uc3QgcmVtb3ZlQnRuID0gY2xvbmUucXVlcnlTZWxlY3RvcignW2RhdGEtY29sdW1uLXJlbW92ZV0nKTtcbiAgICAgIGlmICh0aXRsZUlucHV0KSB0aXRsZUlucHV0LnZhbHVlID0gdGl0bGU7XG4gICAgICBsaW5rcy5mb3JFYWNoKGxpbmsgPT4gYWRkRm9vdGVyTGluayhsaW5rc0NvbnRhaW5lciwgbGluay5sYWJlbCwgbGluay51cmwpKTtcbiAgICAgIGFkZExpbmtCdG4/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gYWRkRm9vdGVyTGluayhsaW5rc0NvbnRhaW5lcikpO1xuICAgICAgcmVtb3ZlQnRuPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGNvbHVtbj8ucmVtb3ZlKCkpO1xuICAgICAgZm9vdGVyQ29sdW1uc0xpc3QuYXBwZW5kQ2hpbGQoY2xvbmUpO1xuICAgIH07XG4gICAgXG4gICAgY29uc3QgY29sbGVjdEZvb3RlckRhdGEgPSAoKSA9PiB7XG4gICAgICBjb25zdCBjb2x1bW5zID0gW107XG4gICAgICBmb290ZXJDb2x1bW5zTGlzdD8ucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtZm9vdGVyLWNvbHVtbl0nKS5mb3JFYWNoKGNvbCA9PiB7XG4gICAgICAgIGNvbnN0IHRpdGxlID0gY29sLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiY29sdW1uLXRpdGxlXCJdJyk/LnZhbHVlPy50cmltKCkgfHwgJyc7XG4gICAgICAgIGNvbnN0IGxpbmtzID0gW107XG4gICAgICAgIGNvbC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1mb290ZXItbGlua10nKS5mb3JFYWNoKGxpbmtFbCA9PiB7XG4gICAgICAgICAgY29uc3QgbGFiZWwgPSBsaW5rRWwucXVlcnlTZWxlY3RvcignW25hbWU9XCJsaW5rLWxhYmVsXCJdJyk/LnZhbHVlPy50cmltKCkgfHwgJyc7XG4gICAgICAgICAgY29uc3QgdXJsID0gbGlua0VsLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwibGluay11cmxcIl0nKT8udmFsdWU/LnRyaW0oKSB8fCAnJztcbiAgICAgICAgICBpZiAobGFiZWwgfHwgdXJsKSBsaW5rcy5wdXNoKHsgbGFiZWwsIHVybCB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh0aXRsZSB8fCBsaW5rcy5sZW5ndGggPiAwKSBjb2x1bW5zLnB1c2goeyB0aXRsZSwgbGlua3MgfSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNvbHVtbnMsXG4gICAgICAgIHNvY2lhbHM6IHtcbiAgICAgICAgICBsaW5rZWRpbjogZm9vdGVyRmllbGRzLmxpbmtlZGluPy52YWx1ZT8udHJpbSgpIHx8ICcnLFxuICAgICAgICAgIHR3aXR0ZXI6IGZvb3RlckZpZWxkcy50d2l0dGVyPy52YWx1ZT8udHJpbSgpIHx8ICcnLFxuICAgICAgICAgIGluc3RhZ3JhbTogZm9vdGVyRmllbGRzLmluc3RhZ3JhbT8udmFsdWU/LnRyaW0oKSB8fCAnJyxcbiAgICAgICAgICBmYWNlYm9vazogZm9vdGVyRmllbGRzLmZhY2Vib29rPy52YWx1ZT8udHJpbSgpIHx8ICcnLFxuICAgICAgICAgIHlvdXR1YmU6IGZvb3RlckZpZWxkcy55b3V0dWJlPy52YWx1ZT8udHJpbSgpIHx8ICcnLFxuICAgICAgICAgIGdpdGh1YjogZm9vdGVyRmllbGRzLmdpdGh1Yj8udmFsdWU/LnRyaW0oKSB8fCAnJyxcbiAgICAgICAgfSxcbiAgICAgICAgY29weXJpZ2h0OiBmb290ZXJGaWVsZHMuY29weXJpZ2h0Py52YWx1ZT8udHJpbSgpIHx8ICcnLFxuICAgICAgICBsZWdhbDoge1xuICAgICAgICAgIHVybDogZm9vdGVyRmllbGRzLmxlZ2FsVXJsPy52YWx1ZT8udHJpbSgpIHx8ICcnLFxuICAgICAgICAgIHByaXZhY3lVcmw6IGZvb3RlckZpZWxkcy5wcml2YWN5VXJsPy52YWx1ZT8udHJpbSgpIHx8ICcnLFxuICAgICAgICB9LFxuICAgICAgICBzdHlsZToge1xuICAgICAgICAgIGJnOiBmb290ZXJGaWVsZHMuYmc/LnZhbHVlIHx8ICdiZy1zbGF0ZS05MDAgdGV4dC13aGl0ZScsXG4gICAgICAgICAgY29sdW1uc0NvdW50OiBmb290ZXJGaWVsZHMuY29sdW1uc0NvdW50Py52YWx1ZSB8fCAnNCcsXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgIH07XG4gICAgXG4gICAgY29uc3QgcG9wdWxhdGVGb290ZXJGb3JtID0gKGRhdGEpID0+IHtcbiAgICAgIGlmICghZGF0YSkgcmV0dXJuO1xuICAgICAgaWYgKGZvb3RlckZpZWxkcy5saW5rZWRpbikgZm9vdGVyRmllbGRzLmxpbmtlZGluLnZhbHVlID0gZGF0YS5zb2NpYWxzPy5saW5rZWRpbiB8fCAnJztcbiAgICAgIGlmIChmb290ZXJGaWVsZHMudHdpdHRlcikgZm9vdGVyRmllbGRzLnR3aXR0ZXIudmFsdWUgPSBkYXRhLnNvY2lhbHM/LnR3aXR0ZXIgfHwgJyc7XG4gICAgICBpZiAoZm9vdGVyRmllbGRzLmluc3RhZ3JhbSkgZm9vdGVyRmllbGRzLmluc3RhZ3JhbS52YWx1ZSA9IGRhdGEuc29jaWFscz8uaW5zdGFncmFtIHx8ICcnO1xuICAgICAgaWYgKGZvb3RlckZpZWxkcy5mYWNlYm9vaykgZm9vdGVyRmllbGRzLmZhY2Vib29rLnZhbHVlID0gZGF0YS5zb2NpYWxzPy5mYWNlYm9vayB8fCAnJztcbiAgICAgIGlmIChmb290ZXJGaWVsZHMueW91dHViZSkgZm9vdGVyRmllbGRzLnlvdXR1YmUudmFsdWUgPSBkYXRhLnNvY2lhbHM/LnlvdXR1YmUgfHwgJyc7XG4gICAgICBpZiAoZm9vdGVyRmllbGRzLmdpdGh1YikgZm9vdGVyRmllbGRzLmdpdGh1Yi52YWx1ZSA9IGRhdGEuc29jaWFscz8uZ2l0aHViIHx8ICcnO1xuICAgICAgaWYgKGZvb3RlckZpZWxkcy5jb3B5cmlnaHQpIGZvb3RlckZpZWxkcy5jb3B5cmlnaHQudmFsdWUgPSBkYXRhLmNvcHlyaWdodCB8fCAnJztcbiAgICAgIGlmIChmb290ZXJGaWVsZHMubGVnYWxVcmwpIGZvb3RlckZpZWxkcy5sZWdhbFVybC52YWx1ZSA9IGRhdGEubGVnYWw/LnVybCB8fCAnJztcbiAgICAgIGlmIChmb290ZXJGaWVsZHMucHJpdmFjeVVybCkgZm9vdGVyRmllbGRzLnByaXZhY3lVcmwudmFsdWUgPSBkYXRhLmxlZ2FsPy5wcml2YWN5VXJsIHx8ICcnO1xuICAgICAgaWYgKGZvb3RlckZpZWxkcy5iZykgZm9vdGVyRmllbGRzLmJnLnZhbHVlID0gZGF0YS5zdHlsZT8uYmcgfHwgJ2JnLXNsYXRlLTkwMCB0ZXh0LXdoaXRlJztcbiAgICAgIGlmIChmb290ZXJGaWVsZHMuY29sdW1uc0NvdW50KSBmb290ZXJGaWVsZHMuY29sdW1uc0NvdW50LnZhbHVlID0gZGF0YS5zdHlsZT8uY29sdW1uc0NvdW50IHx8ICc0JztcbiAgICAgIC8vIFBvcHVsYXRlIGNvbHVtbnNcbiAgICAgIGlmIChmb290ZXJDb2x1bW5zTGlzdCkgZm9vdGVyQ29sdW1uc0xpc3QuaW5uZXJIVE1MID0gJyc7XG4gICAgICAoZGF0YS5jb2x1bW5zIHx8IFtdKS5mb3JFYWNoKGNvbCA9PiBhZGRGb290ZXJDb2x1bW4oY29sLnRpdGxlLCBjb2wubGlua3MpKTtcbiAgICAgIC8vIFVwZGF0ZSBzdGF0dXMgaW5kaWNhdG9yXG4gICAgICBjb25zdCBoYXNEYXRhID0gZGF0YS5jb2x1bW5zPy5sZW5ndGggPiAwIHx8IGRhdGEuY29weXJpZ2h0IHx8IE9iamVjdC52YWx1ZXMoZGF0YS5zb2NpYWxzIHx8IHt9KS5zb21lKHYgPT4gdik7XG4gICAgICBpZiAoZm9vdGVyU3RhdHVzSW5kaWNhdG9yKSB7XG4gICAgICAgIGZvb3RlclN0YXR1c0luZGljYXRvci5jbGFzc0xpc3QudG9nZ2xlKCdiZy1ncmVlbi01MDAnLCAhIWhhc0RhdGEpO1xuICAgICAgICBmb290ZXJTdGF0dXNJbmRpY2F0b3IuY2xhc3NMaXN0LnRvZ2dsZSgnYmctc2xhdGUtMzAwJywgIWhhc0RhdGEpO1xuICAgICAgICBmb290ZXJTdGF0dXNJbmRpY2F0b3IudGl0bGUgPSBoYXNEYXRhID8gJ0NvbmZpZ3VyXHUwMEU5JyA6ICdOb24gY29uZmlndXJcdTAwRTknO1xuICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgZm9vdGVyQ29sdW1uQWRkQnRuPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGFkZEZvb3RlckNvbHVtbigpKTtcbiAgICBcbiAgICBmb290ZXJTYXZlQnRuPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghbGF5b3V0QXBpQmFzZSkgcmV0dXJuO1xuICAgICAgZm9vdGVyU2F2ZUJ0bi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICBmb290ZXJTYXZlQnRuLnRleHRDb250ZW50ID0gJ0VucmVnaXN0cmVtZW50Li4uJztcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBjb2xsZWN0Rm9vdGVyRGF0YSgpO1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke2xheW91dEFwaUJhc2V9L2Zvb3RlcmAsIHtcbiAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZScsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB0aHJvdyBuZXcgRXJyb3IoJ0VycmV1ciBzZXJ2ZXVyJyk7XG4gICAgICAgIGZvb3RlckRhdGEgPSBkYXRhO1xuICAgICAgICBwb3B1bGF0ZUZvb3RlckZvcm0oZGF0YSk7XG4gICAgICAgIHNob3dUb2FzdCgnRm9vdGVyIGVucmVnaXN0clx1MDBFOScpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tmb290ZXJdIHNhdmUgZXJyb3InLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoJ0VycmV1ciBsb3JzIGRlIGxcXCdlbnJlZ2lzdHJlbWVudCcsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgZm9vdGVyU2F2ZUJ0bi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICBmb290ZXJTYXZlQnRuLnRleHRDb250ZW50ID0gJ0VucmVnaXN0cmVyJztcbiAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICAvLyBMb2FkIGxheW91dCBkYXRhIG9uIGluaXRcbiAgICBjb25zdCBsb2FkTGF5b3V0RGF0YSA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghbGF5b3V0QXBpQmFzZSkgcmV0dXJuO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChsYXlvdXRBcGlCYXNlLCB7IGNyZWRlbnRpYWxzOiAnaW5jbHVkZScgfSk7XG4gICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgaWYgKGRhdGEuaGVhZGVyKSB7XG4gICAgICAgICAgICBoZWFkZXJEYXRhID0gZGF0YS5oZWFkZXI7XG4gICAgICAgICAgICBwb3B1bGF0ZUhlYWRlckZvcm0oZGF0YS5oZWFkZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZGF0YS5mb290ZXIpIHtcbiAgICAgICAgICAgIGZvb3RlckRhdGEgPSBkYXRhLmZvb3RlcjtcbiAgICAgICAgICAgIHBvcHVsYXRlRm9vdGVyRm9ybShkYXRhLmZvb3Rlcik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2xheW91dF0gbG9hZCBlcnJvcicsIGVycik7XG4gICAgICB9XG4gICAgfTtcbiAgICBcbiAgICAvLyBJbml0aWFsaXplIGxheW91dCBkYXRhXG4gICAgbG9hZExheW91dERhdGEoKTtcbiAgICBcbiAgICAvLyBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcbiAgICAvLyBDT0xMRUNUSU9OUyAoZXhpc3RpbmcgY29kZSBjb250aW51ZXMgYmVsb3cpXG4gICAgLy8gXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXG4gICAgXG4gICAgY29uc3QgY29sbGVjdGlvbkVtcHR5U3RhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xsZWN0aW9uLWVtcHR5XScpO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25JdGVtc0VtcHR5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29sbGVjdGlvbi1pdGVtcy1lbXB0eV0nKTtcbiAgICBjb25zdCBpdGVtVGFibGVXcmFwcGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS10YWJsZS13cmFwcGVyXScpO1xuICAgIGNvbnN0IGl0ZW1UYWJsZUJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLXRhYmxlLWJvZHldJyk7XG4gICAgY29uc3QgY29sbGVjdGlvblRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29sbGVjdGlvbi10aXRsZV0nKTtcbiAgICBjb25zdCBjb2xsZWN0aW9uRGVzY3JpcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xsZWN0aW9uLWRlc2NyaXB0aW9uXScpO1xuICAgIGNvbnN0IGl0ZW1BZGRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLWFkZF0nKTtcbiAgICBjb25zdCBpdGVtRGV0YWlsRW1wdHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLWRldGFpbC1lbXB0eV0nKTtcbiAgICBjb25zdCBpdGVtRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tZm9ybV0nKTtcbiAgICBjb25zdCBpdGVtRm9ybUZpZWxkcyA9IGl0ZW1Gb3JtXG4gICAgICA/IHtcbiAgICAgICAgICB0aXRsZTogaXRlbUZvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJpdGVtLXRpdGxlXCJdJyksXG4gICAgICAgICAgc2x1ZzogaXRlbUZvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJpdGVtLXNsdWdcIl0nKSxcbiAgICAgICAgICBleGNlcnB0OiBpdGVtRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cIml0ZW0tZXhjZXJwdFwiXScpLFxuICAgICAgICAgIGNvbnRlbnQ6IGl0ZW1Gb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaXRlbS1jb250ZW50XCJdJyksXG4gICAgICAgICAgaW1hZ2U6IGl0ZW1Gb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaXRlbS1pbWFnZVwiXScpLFxuICAgICAgICAgIGN0YVRleHQ6IGl0ZW1Gb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaXRlbS1jdGEtdGV4dFwiXScpLFxuICAgICAgICAgIGN0YVVybDogaXRlbUZvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJpdGVtLWN0YS11cmxcIl0nKSxcbiAgICAgICAgICBzdGF0dXM6IGl0ZW1Gb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaXRlbS1zdGF0dXNcIl0nKSxcbiAgICAgICAgfVxuICAgICAgOiB7fTtcbiAgICBjb25zdCBpdGVtU3RhdHVzQmFkZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLXN0YXR1cy1iYWRnZV0nKTtcbiAgICBjb25zdCBpdGVtRGVsZXRlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS1kZWxldGVdJyk7XG4gICAgY29uc3QgaXRlbURlbGV0ZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS1kZWxldGUtbW9kYWxdJyk7XG4gICAgY29uc3QgaXRlbURlbGV0ZUNhbmNlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tZGVsZXRlLWNhbmNlbF0nKTtcbiAgICBjb25zdCBpdGVtRGVsZXRlQ29uZmlybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tZGVsZXRlLWNvbmZpcm1dJyk7XG4gICAgY29uc3QgaXRlbUZvcm1DYW5jZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLWNhbmNlbF0nKTtcbiAgICBjb25zdCBpdGVtRm9ybVNhdmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLXNhdmVdJyk7XG4gICAgY29uc3Qgc3RhdHVzQmFkZ2VCYXNlQ2xhc3MgPSAncm91bmRlZC1mdWxsIHB4LTMgcHktMSB0ZXh0LXhzIGZvbnQtc2VtaWJvbGQnO1xuXG4gICAgY29uc3Qgc2FmZVNpdGVTbHVnVmFsdWUgPSBzdHJpcExlYWRpbmdTbGFzaChcbiAgICAgIHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJycsXG4gICAgKTtcbiAgICBjb25zdCBjb2xsZWN0aW9uc0FwaUJhc2UgPSBzYWZlU2l0ZVNsdWdWYWx1ZVxuICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWdWYWx1ZSl9L2NvbGxlY3Rpb25zYFxuICAgICAgOiBudWxsO1xuXG4gICAgbGV0IGNvbGxlY3Rpb25zID0gW107XG4gICAgbGV0IGNvbGxlY3Rpb25JdGVtcyA9IFtdO1xuICAgIGxldCBhY3RpdmVDb2xsZWN0aW9uSWQgPSBudWxsO1xuICAgIGxldCBhY3RpdmVJdGVtSWQgPSBudWxsO1xuICAgIGxldCBpc0NyZWF0aW5nSXRlbSA9IGZhbHNlO1xuICAgIGxldCBpdGVtU2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gICAgbGV0IHBlbmRpbmdEZWxldGVJdGVtSWQgPSBudWxsO1xuXG4gICAgY29uc3Qgbm9ybWFsaXplSXRlbVNsdWdJbnB1dCA9ICh2YWx1ZSkgPT4ge1xuICAgICAgY29uc3QgcmF3ID0gKHZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICBpZiAoIXJhdykge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgICB9XG4gICAgICBpZiAocmF3ID09PSAnLycpIHtcbiAgICAgICAgcmV0dXJuICcvJztcbiAgICAgIH1cbiAgICAgIGNvbnN0IHNlZ21lbnRzID0gcmF3LnJlcGxhY2UoL15cXC8vLCAnJykuc3BsaXQoJy8nKTtcbiAgICAgIGNvbnN0IGNsZWFuZWRTZWdtZW50cyA9IHNlZ21lbnRzXG4gICAgICAgIC5tYXAoKHNlZ21lbnQpID0+IHdvcmtzcGFjZVNsdWdpZnkoc2VnbWVudCB8fCAnJykpXG4gICAgICAgIC5maWx0ZXIoKHNlZ21lbnQpID0+IHNlZ21lbnQubGVuZ3RoID4gMCk7XG4gICAgICBpZiAoIWNsZWFuZWRTZWdtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGAvJHtjbGVhbmVkU2VnbWVudHMuam9pbignLycpfWA7XG4gICAgfTtcblxuICAgIGNvbnN0IGZvcm1hdEl0ZW1EYXRlID0gKHZhbHVlKSA9PiB7XG4gICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgIHJldHVybiAnXHUyMDE0JztcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSh2YWx1ZSk7XG4gICAgICBpZiAoTnVtYmVyLmlzTmFOKGRhdGUuZ2V0VGltZSgpKSkge1xuICAgICAgICByZXR1cm4gJ1x1MjAxNCc7XG4gICAgICB9XG4gICAgICByZXR1cm4gZGF0ZS50b0xvY2FsZURhdGVTdHJpbmcoJ2ZyLUZSJywgeyBkYXk6ICcyLWRpZ2l0JywgbW9udGg6ICdzaG9ydCcsIHllYXI6ICdudW1lcmljJyB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgdXBkYXRlQ29sbGVjdGlvbkhlYWRlciA9ICgpID0+IHtcbiAgICAgIGNvbnN0IGNvbGxlY3Rpb24gPSBjb2xsZWN0aW9ucy5maW5kKChlbnRyeSkgPT4gZW50cnkuaWQgPT09IGFjdGl2ZUNvbGxlY3Rpb25JZCk7XG4gICAgICBpZiAoY29sbGVjdGlvblRpdGxlKSB7XG4gICAgICAgIGNvbGxlY3Rpb25UaXRsZS50ZXh0Q29udGVudCA9IGNvbGxlY3Rpb24/Lm5hbWUgfHwgJ1NcdTAwRTlsZWN0aW9ubmV6IHVuZSBjb2xsZWN0aW9uJztcbiAgICAgIH1cbiAgICAgIGlmIChjb2xsZWN0aW9uRGVzY3JpcHRpb24pIHtcbiAgICAgICAgY29sbGVjdGlvbkRlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gY29sbGVjdGlvbj8uZGVzY3JpcHRpb24gfHwgJyc7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHVwZGF0ZUl0ZW1zRW1wdHlNZXNzYWdlID0gKG1lc3NhZ2UpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvbkl0ZW1zRW1wdHkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29sbGVjdGlvbkl0ZW1zRW1wdHkudGV4dENvbnRlbnQgPVxuICAgICAgICBtZXNzYWdlIHx8XG4gICAgICAgIChhY3RpdmVDb2xsZWN0aW9uSWRcbiAgICAgICAgICA/ICdBdWN1biBpdGVtIGRhbnMgY2V0dGUgY29sbGVjdGlvbiBwb3VyIGxlIG1vbWVudC4nXG4gICAgICAgICAgOiAnQ2hvaXNpc3NleiB1bmUgY29sbGVjdGlvbiBkYW5zIGxlIHBhbm5lYXUgZGUgZ2F1Y2hlLicpO1xuICAgIH07XG5cbiAgICBjb25zdCBoaWRlSXRlbUZvcm0gPSAoKSA9PiB7XG4gICAgICBpZiAoaXRlbUZvcm0pIHtcbiAgICAgICAgaXRlbUZvcm0uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIGl0ZW1Gb3JtLmRhdGFzZXQuaXRlbUlkID0gJyc7XG4gICAgICB9XG4gICAgICBpdGVtRGV0YWlsRW1wdHk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgaWYgKGl0ZW1TdGF0dXNCYWRnZSkge1xuICAgICAgICBpdGVtU3RhdHVzQmFkZ2UuY2xhc3NOYW1lID0gYGhpZGRlbiAke3N0YXR1c0JhZGdlQmFzZUNsYXNzfWA7XG4gICAgICAgIGl0ZW1TdGF0dXNCYWRnZS50ZXh0Q29udGVudCA9ICcnO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1EZWxldGVCdXR0b24pIHtcbiAgICAgICAgaXRlbURlbGV0ZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHNob3dJdGVtRm9ybSA9ICgpID0+IHtcbiAgICAgIGlmICghaXRlbUZvcm0pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaXRlbUZvcm0uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBpdGVtRGV0YWlsRW1wdHk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgIH07XG5cbiAgICBjb25zdCBzeW5jQWRkQnV0dG9uU3RhdGUgPSAoKSA9PiB7XG4gICAgICBpZiAoIWl0ZW1BZGRCdXR0b24pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaXRlbUFkZEJ1dHRvbi5kaXNhYmxlZCA9ICFhY3RpdmVDb2xsZWN0aW9uSWQ7XG4gICAgICBpZiAoaXRlbUFkZEJ1dHRvbi5kaXNhYmxlZCkge1xuICAgICAgICBpdGVtQWRkQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ29wYWNpdHktNjAnLCAncG9pbnRlci1ldmVudHMtbm9uZScpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaXRlbUFkZEJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdvcGFjaXR5LTYwJywgJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3Qgc3luY0l0ZW1TdGF0dXNCYWRnZSA9IChzdGF0dXMpID0+IHtcbiAgICAgIGlmICghaXRlbVN0YXR1c0JhZGdlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghc3RhdHVzKSB7XG4gICAgICAgIGl0ZW1TdGF0dXNCYWRnZS5jbGFzc05hbWUgPSBgaGlkZGVuICR7c3RhdHVzQmFkZ2VCYXNlQ2xhc3N9YDtcbiAgICAgICAgaXRlbVN0YXR1c0JhZGdlLnRleHRDb250ZW50ID0gJyc7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBzdGF0dXMudG9Mb3dlckNhc2UoKTtcbiAgICAgIGxldCBjb2xvckNsYXNzID0gJ2JnLXNsYXRlLTEwMCB0ZXh0LXNsYXRlLTYwMCBib3JkZXIgYm9yZGVyLXNsYXRlLTIwMCc7XG4gICAgICBpZiAobm9ybWFsaXplZCA9PT0gJ3B1YmxpXHUwMEU5JyB8fCBub3JtYWxpemVkID09PSAncHVibGllJykge1xuICAgICAgICBjb2xvckNsYXNzID0gJ2JnLWVtZXJhbGQtNTAgdGV4dC1lbWVyYWxkLTcwMCBib3JkZXIgYm9yZGVyLWVtZXJhbGQtMTAwJztcbiAgICAgIH0gZWxzZSBpZiAobm9ybWFsaXplZCA9PT0gJ2Jyb3VpbGxvbicpIHtcbiAgICAgICAgY29sb3JDbGFzcyA9ICdiZy1hbWJlci01MCB0ZXh0LWFtYmVyLTcwMCBib3JkZXIgYm9yZGVyLWFtYmVyLTEwMCc7XG4gICAgICB9XG4gICAgICBpdGVtU3RhdHVzQmFkZ2UuY2xhc3NOYW1lID0gYCR7c3RhdHVzQmFkZ2VCYXNlQ2xhc3N9ICR7Y29sb3JDbGFzc31gO1xuICAgICAgaXRlbVN0YXR1c0JhZGdlLnRleHRDb250ZW50ID0gc3RhdHVzO1xuICAgIH07XG5cbiAgICBjb25zdCByZW5kZXJDb2xsZWN0aW9uTGlzdCA9ICgpID0+IHtcbiAgICAgIGNvbGxlY3Rpb25MaXN0LmlubmVySFRNTCA9ICcnO1xuICAgICAgLy8gVXBkYXRlIGNvbGxlY3Rpb24gY291bnRcbiAgICAgIGlmIChjb2xsZWN0aW9uQ291bnRFbCkgY29sbGVjdGlvbkNvdW50RWwudGV4dENvbnRlbnQgPSBjb2xsZWN0aW9ucy5sZW5ndGg7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25zLmxlbmd0aCkge1xuICAgICAgICBjb2xsZWN0aW9uRW1wdHlTdGF0ZT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbGxlY3Rpb25FbXB0eVN0YXRlPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGNvbGxlY3Rpb25zLmZvckVhY2goKGNvbGxlY3Rpb24pID0+IHtcbiAgICAgICAgY29uc3QgaXNBY3RpdmUgPSBjb2xsZWN0aW9uLmlkID09PSBhY3RpdmVDb2xsZWN0aW9uSWQ7XG4gICAgICAgIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICBidXR0b24udHlwZSA9ICdidXR0b24nO1xuICAgICAgICBidXR0b24uZGF0YXNldC5jb2xsZWN0aW9uSWQgPSBjb2xsZWN0aW9uLmlkO1xuICAgICAgICBidXR0b24uY2xhc3NOYW1lID0gW1xuICAgICAgICAgICd3LWZ1bGwgcm91bmRlZC14bCBib3JkZXIgcHgtMyBweS0yIHRleHQtbGVmdCB0cmFuc2l0aW9uIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1bIzlDNkJGRl0vNDAnLFxuICAgICAgICAgIGlzQWN0aXZlXG4gICAgICAgICAgICA/ICdiZy1bI0Y3RjBGRl0gYm9yZGVyLVsjOUM2QkZGXS80MCB0ZXh0LXNsYXRlLTkwMCdcbiAgICAgICAgICAgIDogJ2JvcmRlci1zbGF0ZS0yMDAgdGV4dC1zbGF0ZS03MDAgaG92ZXI6Ym9yZGVyLVsjOUM2QkZGXS80MCcsXG4gICAgICAgIF0uam9pbignICcpO1xuICAgICAgICBidXR0b24uc2V0QXR0cmlidXRlKCdyb2xlJywgJ29wdGlvbicpO1xuICAgICAgICBpZiAoaXNBY3RpdmUpIHtcbiAgICAgICAgICBidXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLWN1cnJlbnQnLCAndHJ1ZScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGJ1dHRvbi5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtY3VycmVudCcpO1xuICAgICAgICB9XG4gICAgICAgIGJ1dHRvbi5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBnYXAtMlwiPlxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXNtIGZvbnQtc2VtaWJvbGRcIj4ke2NvbGxlY3Rpb24ubmFtZSB8fCBjb2xsZWN0aW9uLmlkfTwvcD5cbiAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNTAwXCI+JHtjb2xsZWN0aW9uLmRlc2NyaXB0aW9uIHx8ICcnfTwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LVsxMXB4XSB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZSB0ZXh0LXNsYXRlLTQwMFwiPiR7Y29sbGVjdGlvbi50eXBlIHx8ICcnfTwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgYDtcbiAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgIHNldEFjdGl2ZUNvbGxlY3Rpb24oY29sbGVjdGlvbi5pZCk7XG4gICAgICAgICAgaWYgKCF3aW5kb3cubWF0Y2hNZWRpYSgnKG1pbi13aWR0aDogMTAyNHB4KScpLm1hdGNoZXMpIHtcbiAgICAgICAgICAgIGNsb3NlQ29udGVudERyYXdlcigpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGNvbGxlY3Rpb25MaXN0LmFwcGVuZENoaWxkKGJ1dHRvbik7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgcmVuZGVySXRlbVRhYmxlID0gKCkgPT4ge1xuICAgICAgaWYgKCFpdGVtVGFibGVCb2R5KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGl0ZW1UYWJsZUJvZHkuaW5uZXJIVE1MID0gJyc7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25JdGVtcy5sZW5ndGggfHwgIWFjdGl2ZUNvbGxlY3Rpb25JZCkge1xuICAgICAgICBjb2xsZWN0aW9uSXRlbXNFbXB0eT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIHVwZGF0ZUl0ZW1zRW1wdHlNZXNzYWdlKCk7XG4gICAgICAgIGl0ZW1UYWJsZVdyYXBwZXI/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb2xsZWN0aW9uSXRlbXNFbXB0eT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBpdGVtVGFibGVXcmFwcGVyPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGNvbGxlY3Rpb25JdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgIGNvbnN0IHJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyJyk7XG4gICAgICAgIHJvdy5kYXRhc2V0Lml0ZW1JZCA9IGl0ZW0uaWQ7XG4gICAgICAgIGNvbnN0IGlzQWN0aXZlID0gaXRlbS5pZCA9PT0gYWN0aXZlSXRlbUlkICYmICFpc0NyZWF0aW5nSXRlbTtcbiAgICAgICAgcm93LmNsYXNzTmFtZSA9IFtcbiAgICAgICAgICAnY3Vyc29yLXBvaW50ZXIgdHJhbnNpdGlvbiBmb2N1cy13aXRoaW46YmctWyNGN0YwRkZdLzcwIGZvY3VzOm91dGxpbmUtbm9uZScsXG4gICAgICAgICAgaXNBY3RpdmUgPyAnYmctWyNGN0YwRkZdLzcwJyA6ICdob3ZlcjpiZy1zbGF0ZS01MCcsXG4gICAgICAgIF0uam9pbignICcpO1xuICAgICAgICByb3cudGFiSW5kZXggPSAwO1xuICAgICAgICByb3cuc2V0QXR0cmlidXRlKCdyb2xlJywgJ2J1dHRvbicpO1xuICAgICAgICBpZiAoaXNBY3RpdmUpIHtcbiAgICAgICAgICByb3cuc2V0QXR0cmlidXRlKCdhcmlhLWN1cnJlbnQnLCAndHJ1ZScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJvdy5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtY3VycmVudCcpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHN0YXR1cyA9IGl0ZW0uc3RhdHVzIHx8ICdCcm91aWxsb24nO1xuICAgICAgICBjb25zdCBub3JtYWxpemVkID0gc3RhdHVzLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGNvbnN0IHN0YXR1c0NsYXNzZXMgPVxuICAgICAgICAgIG5vcm1hbGl6ZWQgPT09ICdwdWJsaVx1MDBFOScgfHwgbm9ybWFsaXplZCA9PT0gJ3B1YmxpZSdcbiAgICAgICAgICAgID8gJ2JnLWVtZXJhbGQtNTAgdGV4dC1lbWVyYWxkLTcwMCBib3JkZXIgYm9yZGVyLWVtZXJhbGQtMTAwJ1xuICAgICAgICAgICAgOiAnYmctYW1iZXItNTAgdGV4dC1hbWJlci03MDAgYm9yZGVyIGJvcmRlci1hbWJlci0xMDAnO1xuICAgICAgICByb3cuaW5uZXJIVE1MID0gYFxuICAgICAgICAgIDx0ZCBjbGFzcz1cInB4LTQgcHktMyBhbGlnbi10b3BcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC1zbSBmb250LXNlbWlib2xkIHRleHQtc2xhdGUtOTAwXCI+JHtpdGVtLnRpdGxlIHx8ICdTYW5zIHRpdHJlJ308L3NwYW4+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC14cyB0ZXh0LXNsYXRlLTUwMFwiPiR7aXRlbS5zdW1tYXJ5IHx8IGl0ZW0uZXhjZXJwdCB8fCAnJ308L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L3RkPlxuICAgICAgICAgIDx0ZCBjbGFzcz1cInB4LTQgcHktMyBhbGlnbi10b3AgdGV4dC1zbSB0ZXh0LXNsYXRlLTYwMFwiPiR7aXRlbS5zbHVnIHx8ICcnfTwvdGQ+XG4gICAgICAgICAgPHRkIGNsYXNzPVwicHgtNCBweS0zIGFsaWduLXRvcFwiPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgcm91bmRlZC1mdWxsIHB4LTMgcHktMSB0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgJHtzdGF0dXNDbGFzc2VzfVwiPlxuICAgICAgICAgICAgICAke3N0YXR1c31cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L3RkPlxuICAgICAgICAgIDx0ZCBjbGFzcz1cInB4LTQgcHktMyBhbGlnbi10b3AgdGV4dC1zbSB0ZXh0LXNsYXRlLTUwMFwiPiR7Zm9ybWF0SXRlbURhdGUoXG4gICAgICAgICAgICBpdGVtLnVwZGF0ZWRBdCB8fCBpdGVtLmNyZWF0ZWRBdCxcbiAgICAgICAgICApfTwvdGQ+XG4gICAgICAgIGA7XG4gICAgICAgIGNvbnN0IGhhbmRsZVNlbGVjdCA9ICgpID0+IHtcbiAgICAgICAgICBzZWxlY3RJdGVtKGl0ZW0uaWQpO1xuICAgICAgICB9O1xuICAgICAgICByb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVTZWxlY3QpO1xuICAgICAgICByb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldmVudCkgPT4ge1xuICAgICAgICAgIGlmIChldmVudC5rZXkgPT09ICdFbnRlcicgfHwgZXZlbnQua2V5ID09PSAnICcpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBoYW5kbGVTZWxlY3QoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpdGVtVGFibGVCb2R5LmFwcGVuZENoaWxkKHJvdyk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgY29uc3Qgc2VsZWN0SXRlbSA9IChpdGVtSWQpID0+IHtcbiAgICAgIGNvbnN0IGl0ZW0gPSBjb2xsZWN0aW9uSXRlbXMuZmluZCgoZW50cnkpID0+IGVudHJ5LmlkID09PSBpdGVtSWQpO1xuICAgICAgaWYgKCFpdGVtKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGFjdGl2ZUl0ZW1JZCA9IGl0ZW0uaWQ7XG4gICAgICBpc0NyZWF0aW5nSXRlbSA9IGZhbHNlO1xuICAgICAgaXRlbVNsdWdNYW51YWxseUVkaXRlZCA9IHRydWU7XG4gICAgICBwb3B1bGF0ZUl0ZW1Gb3JtKGl0ZW0pO1xuICAgICAgcmVuZGVySXRlbVRhYmxlKCk7XG4gICAgfTtcblxuICAgIGNvbnN0IHBvcHVsYXRlSXRlbUZvcm0gPSAoaXRlbSkgPT4ge1xuICAgICAgaWYgKCFpdGVtRm9ybSB8fCAhaXRlbSkge1xuICAgICAgICBoaWRlSXRlbUZvcm0oKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2hvd0l0ZW1Gb3JtKCk7XG4gICAgICBpdGVtRm9ybS5kYXRhc2V0Lml0ZW1JZCA9IGl0ZW0uaWQ7XG4gICAgICBpZiAoaXRlbUZvcm1GaWVsZHMudGl0bGUpIHtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMudGl0bGUudmFsdWUgPSBpdGVtLnRpdGxlIHx8ICcnO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1Gb3JtRmllbGRzLnNsdWcpIHtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMuc2x1Zy52YWx1ZSA9IGl0ZW0uc2x1ZyB8fCAnJztcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtRm9ybUZpZWxkcy5leGNlcnB0KSB7XG4gICAgICAgIGl0ZW1Gb3JtRmllbGRzLmV4Y2VycHQudmFsdWUgPSBpdGVtLnN1bW1hcnkgfHwgaXRlbS5leGNlcnB0IHx8ICcnO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1Gb3JtRmllbGRzLmNvbnRlbnQpIHtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMuY29udGVudC52YWx1ZSA9IGl0ZW0uY29udGVudCB8fCAnJztcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtRm9ybUZpZWxkcy5pbWFnZSkge1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy5pbWFnZS52YWx1ZSA9IGl0ZW0uaW1hZ2UgfHwgJyc7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbUZvcm1GaWVsZHMuY3RhVGV4dCkge1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy5jdGFUZXh0LnZhbHVlID0gaXRlbS5jdGE/LnRleHQgfHwgaXRlbS5jdGFUZXh0IHx8ICcnO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1Gb3JtRmllbGRzLmN0YVVybCkge1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy5jdGFVcmwudmFsdWUgPSBpdGVtLmN0YT8udXJsIHx8IGl0ZW0uY3RhVXJsIHx8ICcnO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1Gb3JtRmllbGRzLnN0YXR1cykge1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy5zdGF0dXMudmFsdWUgPSBpdGVtLnN0YXR1cyB8fCAnQnJvdWlsbG9uJztcbiAgICAgIH1cbiAgICAgIHN5bmNJdGVtU3RhdHVzQmFkZ2UoaXRlbS5zdGF0dXMgfHwgJ0Jyb3VpbGxvbicpO1xuICAgICAgaWYgKGl0ZW1EZWxldGVCdXR0b24pIHtcbiAgICAgICAgaXRlbURlbGV0ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBwcmVwYXJlTmV3SXRlbUZvcm0gPSAoKSA9PiB7XG4gICAgICBpZiAoIWl0ZW1Gb3JtKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlzQ3JlYXRpbmdJdGVtID0gdHJ1ZTtcbiAgICAgIGFjdGl2ZUl0ZW1JZCA9IG51bGw7XG4gICAgICBpdGVtU2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gICAgICBpdGVtRm9ybS5kYXRhc2V0Lml0ZW1JZCA9ICcnO1xuICAgICAgaXRlbUZvcm0ucmVzZXQoKTtcbiAgICAgIGlmIChpdGVtRm9ybUZpZWxkcy5zdGF0dXMpIHtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMuc3RhdHVzLnZhbHVlID0gJ0Jyb3VpbGxvbic7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbUZvcm1GaWVsZHMuc2x1Zykge1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy5zbHVnLnZhbHVlID0gJyc7XG4gICAgICB9XG4gICAgICBzeW5jSXRlbVN0YXR1c0JhZGdlKCdCcm91aWxsb24nKTtcbiAgICAgIHNob3dJdGVtRm9ybSgpO1xuICAgICAgaWYgKGl0ZW1EZWxldGVCdXR0b24pIHtcbiAgICAgICAgaXRlbURlbGV0ZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICB9XG4gICAgICBpdGVtRm9ybUZpZWxkcy50aXRsZT8uZm9jdXMoKTtcbiAgICB9O1xuXG4gICAgY29uc3QgY29sbGVjdEl0ZW1Gb3JtVmFsdWVzID0gKCkgPT4ge1xuICAgICAgY29uc3QgdGl0bGUgPSAoaXRlbUZvcm1GaWVsZHMudGl0bGU/LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICBjb25zdCBzbHVnSW5wdXQgPSAoaXRlbUZvcm1GaWVsZHMuc2x1Zz8udmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgIGNvbnN0IHN1bW1hcnkgPSAoaXRlbUZvcm1GaWVsZHMuZXhjZXJwdD8udmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgIGNvbnN0IGNvbnRlbnQgPSAoaXRlbUZvcm1GaWVsZHMuY29udGVudD8udmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgIGNvbnN0IGltYWdlID0gKGl0ZW1Gb3JtRmllbGRzLmltYWdlPy52YWx1ZSB8fCAnJykudHJpbSgpO1xuICAgICAgY29uc3QgY3RhVGV4dCA9IChpdGVtRm9ybUZpZWxkcy5jdGFUZXh0Py52YWx1ZSB8fCAnJykudHJpbSgpO1xuICAgICAgY29uc3QgY3RhVXJsID0gKGl0ZW1Gb3JtRmllbGRzLmN0YVVybD8udmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgIGNvbnN0IHN0YXR1cyA9IGl0ZW1Gb3JtRmllbGRzLnN0YXR1cz8udmFsdWUgfHwgJ0Jyb3VpbGxvbic7XG4gICAgICBcbiAgICAgIC8vIEJ1aWxkIENUQSBvYmplY3Qgb25seSBpZiBhdCBsZWFzdCBvbmUgZmllbGQgaXMgZmlsbGVkXG4gICAgICBjb25zdCBjdGEgPSAoY3RhVGV4dCB8fCBjdGFVcmwpID8geyB0ZXh0OiBjdGFUZXh0LCB1cmw6IGN0YVVybCB9IDogbnVsbDtcbiAgICAgIFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdGl0bGUsXG4gICAgICAgIHNsdWc6IHNsdWdJbnB1dCA/IG5vcm1hbGl6ZUl0ZW1TbHVnSW5wdXQoc2x1Z0lucHV0KSA6IG5vcm1hbGl6ZUl0ZW1TbHVnSW5wdXQodGl0bGUpLFxuICAgICAgICBzdW1tYXJ5LFxuICAgICAgICBleGNlcnB0OiBzdW1tYXJ5LFxuICAgICAgICBjb250ZW50LFxuICAgICAgICBpbWFnZSxcbiAgICAgICAgc3RhdHVzLFxuICAgICAgICAuLi4oY3RhICYmIHsgY3RhIH0pLFxuICAgICAgfTtcbiAgICB9O1xuXG4gICAgY29uc3Qgc2V0Rm9ybVNhdmluZ1N0YXRlID0gKGlzU2F2aW5nKSA9PiB7XG4gICAgICBpZiAoaXRlbUZvcm1TYXZlKSB7XG4gICAgICAgIGl0ZW1Gb3JtU2F2ZS5kaXNhYmxlZCA9IGlzU2F2aW5nO1xuICAgICAgICBpdGVtRm9ybVNhdmUudGV4dENvbnRlbnQgPSBpc1NhdmluZyA/ICdFbnJlZ2lzdHJlbWVudFx1MjAyNicgOiAnRW5yZWdpc3RyZXInO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1EZWxldGVCdXR0b24gJiYgIWlzQ3JlYXRpbmdJdGVtICYmIGFjdGl2ZUl0ZW1JZCkge1xuICAgICAgICBpdGVtRGVsZXRlQnV0dG9uLmRpc2FibGVkID0gaXNTYXZpbmc7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGZldGNoQ29sbGVjdGlvbkl0ZW1zID0gYXN5bmMgKGNvbGxlY3Rpb25JZCkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uc0FwaUJhc2UpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgYCR7Y29sbGVjdGlvbnNBcGlCYXNlfS8ke2VuY29kZVVSSUNvbXBvbmVudChjb2xsZWN0aW9uSWQpfS9pdGVtc2AsXG4gICAgICAgIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0sXG4gICAgICApO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IocGF5bG9hZC5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIGl0ZW1zLicpO1xuICAgICAgfVxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KGRhdGEuaXRlbXMpID8gZGF0YS5pdGVtcyA6IFtdO1xuICAgIH07XG5cbiAgICBjb25zdCBzZXRBY3RpdmVDb2xsZWN0aW9uID0gYXN5bmMgKGNvbGxlY3Rpb25JZCkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uSWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYWN0aXZlQ29sbGVjdGlvbklkID0gY29sbGVjdGlvbklkO1xuICAgICAgYWN0aXZlSXRlbUlkID0gbnVsbDtcbiAgICAgIGlzQ3JlYXRpbmdJdGVtID0gZmFsc2U7XG4gICAgICBpdGVtU2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gICAgICAvLyBTd2l0Y2ggdG8gY29sbGVjdGlvbiB2aWV3XG4gICAgICBzaG93Q29udGVudFZpZXcoJ2NvbGxlY3Rpb24nKTtcbiAgICAgIHVwZGF0ZUNvbGxlY3Rpb25IZWFkZXIoKTtcbiAgICAgIHN5bmNBZGRCdXR0b25TdGF0ZSgpO1xuICAgICAgcmVuZGVyQ29sbGVjdGlvbkxpc3QoKTtcbiAgICAgIGhpZGVJdGVtRm9ybSgpO1xuICAgICAgY29sbGVjdGlvbkl0ZW1zID0gW107XG4gICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICAgIHVwZGF0ZUl0ZW1zRW1wdHlNZXNzYWdlKCdDaGFyZ2VtZW50IGRlcyBpdGVtc1x1MjAyNicpO1xuICAgICAgY29sbGVjdGlvbkl0ZW1zRW1wdHk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgaXRlbVRhYmxlV3JhcHBlcj8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25zQXBpQmFzZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb2xsZWN0aW9uSXRlbXMgPSBhd2FpdCBmZXRjaENvbGxlY3Rpb25JdGVtcyhjb2xsZWN0aW9uSWQpO1xuICAgICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICAgICAgaWYgKCFjb2xsZWN0aW9uSXRlbXMubGVuZ3RoKSB7XG4gICAgICAgICAgdXBkYXRlSXRlbXNFbXB0eU1lc3NhZ2UoKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tjb250ZW50XSBpdGVtcyBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgY2hhcmdlciBsZXMgaXRlbXMuJyk7XG4gICAgICAgIGNvbGxlY3Rpb25JdGVtcyA9IFtdO1xuICAgICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgY3JlYXRlQ29sbGVjdGlvbkl0ZW0gPSBhc3luYyAoY29sbGVjdGlvbklkLCBwYXlsb2FkKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25zQXBpQmFzZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NpdGUgaW5jb25udS4nKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgIGAke2NvbGxlY3Rpb25zQXBpQmFzZX0vJHtlbmNvZGVVUklDb21wb25lbnQoY29sbGVjdGlvbklkKX0vaXRlbXNgLFxuICAgICAgICB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgIH0sXG4gICAgICApO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZGF0YS5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIGNyXHUwMEU5ZXIgY2V0IGl0ZW0uJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgIH07XG5cbiAgICBjb25zdCB1cGRhdGVDb2xsZWN0aW9uSXRlbSA9IGFzeW5jIChjb2xsZWN0aW9uSWQsIGl0ZW1JZCwgcGF5bG9hZCkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uc0FwaUJhc2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTaXRlIGluY29ubnUuJyk7XG4gICAgICB9XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgICBgJHtjb2xsZWN0aW9uc0FwaUJhc2V9LyR7ZW5jb2RlVVJJQ29tcG9uZW50KGNvbGxlY3Rpb25JZCl9L2l0ZW1zLyR7ZW5jb2RlVVJJQ29tcG9uZW50KGl0ZW1JZCl9YCxcbiAgICAgICAge1xuICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgIH0sXG4gICAgICApO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZGF0YS5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIHNhdXZlZ2FyZGVyIGNldCBpdGVtLicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICB9O1xuXG4gICAgY29uc3QgZGVsZXRlQ29sbGVjdGlvbkl0ZW0gPSBhc3luYyAoY29sbGVjdGlvbklkLCBpdGVtSWQpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvbnNBcGlCYXNlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignU2l0ZSBpbmNvbm51LicpO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgYCR7Y29sbGVjdGlvbnNBcGlCYXNlfS8ke2VuY29kZVVSSUNvbXBvbmVudChjb2xsZWN0aW9uSWQpfS9pdGVtcy8ke2VuY29kZVVSSUNvbXBvbmVudChpdGVtSWQpfWAsXG4gICAgICAgIHsgbWV0aG9kOiAnREVMRVRFJyB9LFxuICAgICAgKTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGRhdGEubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBzdXBwcmltZXIgY2V0IGl0ZW0uJyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGxvYWRDb2xsZWN0aW9ucyA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvbnNBcGlCYXNlKSB7XG4gICAgICAgIGNvbGxlY3Rpb25FbXB0eVN0YXRlPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgYWN0aXZlQ29sbGVjdGlvbklkID0gbnVsbDtcbiAgICAgICAgY29sbGVjdGlvbkl0ZW1zID0gW107XG4gICAgICAgIHJlbmRlckl0ZW1UYWJsZSgpO1xuICAgICAgICB1cGRhdGVDb2xsZWN0aW9uSGVhZGVyKCk7XG4gICAgICAgIHN5bmNBZGRCdXR0b25TdGF0ZSgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGNvbGxlY3Rpb25zQXBpQmFzZSwge1xuICAgICAgICAgIGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ltcG9zc2libGUgZGUgY2hhcmdlciBsZXMgY29sbGVjdGlvbnMuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiBbXSk7XG4gICAgICAgIGNvbGxlY3Rpb25zID0gQXJyYXkuaXNBcnJheShwYXlsb2FkKSA/IHBheWxvYWQgOiBbXTtcbiAgICAgICAgcmVuZGVyQ29sbGVjdGlvbkxpc3QoKTtcbiAgICAgICAgaWYgKGNvbGxlY3Rpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBjb25zdCBkZWZhdWx0SWQgPSBjb2xsZWN0aW9ucy5maW5kKChlbnRyeSkgPT4gZW50cnkuaWQgPT09IGFjdGl2ZUNvbGxlY3Rpb25JZCk/LmlkXG4gICAgICAgICAgICB8fCBjb2xsZWN0aW9uc1swXS5pZDtcbiAgICAgICAgICBzZXRBY3RpdmVDb2xsZWN0aW9uKGRlZmF1bHRJZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYWN0aXZlQ29sbGVjdGlvbklkID0gbnVsbDtcbiAgICAgICAgICBjb2xsZWN0aW9uSXRlbXMgPSBbXTtcbiAgICAgICAgICB1cGRhdGVDb2xsZWN0aW9uSGVhZGVyKCk7XG4gICAgICAgICAgc3luY0FkZEJ1dHRvblN0YXRlKCk7XG4gICAgICAgICAgcmVuZGVySXRlbVRhYmxlKCk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbY29udGVudF0gbG9hZCBjb2xsZWN0aW9ucycsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxlcyBjb2xsZWN0aW9ucy4nKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaXRlbUFkZEJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBpZiAoIWFjdGl2ZUNvbGxlY3Rpb25JZCkge1xuICAgICAgICBzaG93VG9hc3QoJ1NcdTAwRTlsZWN0aW9ubmV6IGRcdTIwMTlhYm9yZCB1bmUgY29sbGVjdGlvbi4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcHJlcGFyZU5ld0l0ZW1Gb3JtKCk7XG4gICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICB9KTtcblxuICAgIGl0ZW1Gb3JtQ2FuY2VsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmIChpc0NyZWF0aW5nSXRlbSkge1xuICAgICAgICBpc0NyZWF0aW5nSXRlbSA9IGZhbHNlO1xuICAgICAgICBhY3RpdmVJdGVtSWQgPSBudWxsO1xuICAgICAgICBoaWRlSXRlbUZvcm0oKTtcbiAgICAgICAgcmVuZGVySXRlbVRhYmxlKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChhY3RpdmVJdGVtSWQpIHtcbiAgICAgICAgY29uc3QgaXRlbSA9IGNvbGxlY3Rpb25JdGVtcy5maW5kKChlbnRyeSkgPT4gZW50cnkuaWQgPT09IGFjdGl2ZUl0ZW1JZCk7XG4gICAgICAgIHBvcHVsYXRlSXRlbUZvcm0oaXRlbSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBoaWRlSXRlbUZvcm0oKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGl0ZW1Gb3JtRmllbGRzLnN0YXR1cz8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICAgICAgc3luY0l0ZW1TdGF0dXNCYWRnZShpdGVtRm9ybUZpZWxkcy5zdGF0dXMudmFsdWUpO1xuICAgIH0pO1xuXG4gICAgaXRlbUZvcm1GaWVsZHMudGl0bGU/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgaWYgKCFpc0NyZWF0aW5nSXRlbSB8fCAhaXRlbUZvcm1GaWVsZHMuc2x1ZyB8fCBpdGVtU2x1Z01hbnVhbGx5RWRpdGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGl0ZW1Gb3JtRmllbGRzLnNsdWcudmFsdWUgPSBub3JtYWxpemVJdGVtU2x1Z0lucHV0KGl0ZW1Gb3JtRmllbGRzLnRpdGxlLnZhbHVlKTtcbiAgICB9KTtcblxuICAgIGl0ZW1Gb3JtRmllbGRzLnNsdWc/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgaWYgKCFpc0NyZWF0aW5nSXRlbSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpdGVtU2x1Z01hbnVhbGx5RWRpdGVkID0gdHJ1ZTtcbiAgICB9KTtcblxuICAgIGl0ZW1Gb3JtPy5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoIWFjdGl2ZUNvbGxlY3Rpb25JZCkge1xuICAgICAgICBzaG93VG9hc3QoJ1NcdTAwRTlsZWN0aW9ubmV6IHVuZSBjb2xsZWN0aW9uLicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCB2YWx1ZXMgPSBjb2xsZWN0SXRlbUZvcm1WYWx1ZXMoKTtcbiAgICAgIGlmICghdmFsdWVzLnRpdGxlKSB7XG4gICAgICAgIHNob3dUb2FzdCgnTGUgdGl0cmUgZXN0IHJlcXVpcy4nKTtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMudGl0bGU/LmZvY3VzKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNldEZvcm1TYXZpbmdTdGF0ZSh0cnVlKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGxldCBzYXZlZEl0ZW07XG4gICAgICAgIGlmIChpc0NyZWF0aW5nSXRlbSB8fCAhYWN0aXZlSXRlbUlkKSB7XG4gICAgICAgICAgc2F2ZWRJdGVtID0gYXdhaXQgY3JlYXRlQ29sbGVjdGlvbkl0ZW0oYWN0aXZlQ29sbGVjdGlvbklkLCB2YWx1ZXMpO1xuICAgICAgICAgIGNvbGxlY3Rpb25JdGVtcyA9IFsuLi5jb2xsZWN0aW9uSXRlbXMsIHNhdmVkSXRlbV07XG4gICAgICAgICAgc2hvd1RvYXN0KCdJdGVtIGNyXHUwMEU5XHUwMEU5Jyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2F2ZWRJdGVtID0gYXdhaXQgdXBkYXRlQ29sbGVjdGlvbkl0ZW0oYWN0aXZlQ29sbGVjdGlvbklkLCBhY3RpdmVJdGVtSWQsIHZhbHVlcyk7XG4gICAgICAgICAgY29sbGVjdGlvbkl0ZW1zID0gY29sbGVjdGlvbkl0ZW1zLm1hcCgoaXRlbSkgPT5cbiAgICAgICAgICAgIGl0ZW0uaWQgPT09IHNhdmVkSXRlbS5pZCA/IHNhdmVkSXRlbSA6IGl0ZW0sXG4gICAgICAgICAgKTtcbiAgICAgICAgICBzaG93VG9hc3QoJ0l0ZW0gbWlzIFx1MDBFMCBqb3VyJyk7XG4gICAgICAgIH1cbiAgICAgICAgaXNDcmVhdGluZ0l0ZW0gPSBmYWxzZTtcbiAgICAgICAgYWN0aXZlSXRlbUlkID0gc2F2ZWRJdGVtLmlkO1xuICAgICAgICBwb3B1bGF0ZUl0ZW1Gb3JtKHNhdmVkSXRlbSk7XG4gICAgICAgIHJlbmRlckl0ZW1UYWJsZSgpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tjb250ZW50XSBzYXZlIGl0ZW0gZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIHNhdXZlZ2FyZGVyIGNldCBpdGVtLicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0Rm9ybVNhdmluZ1N0YXRlKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGNvbnN0IGNsb3NlRGVsZXRlTW9kYWwgPSAoKSA9PiB7XG4gICAgICBpZiAoIWl0ZW1EZWxldGVNb2RhbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpdGVtRGVsZXRlTW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBpdGVtRGVsZXRlTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnZmxleCcpO1xuICAgICAgcGVuZGluZ0RlbGV0ZUl0ZW1JZCA9IG51bGw7XG4gICAgfTtcblxuICAgIGNvbnN0IG9wZW5EZWxldGVNb2RhbCA9ICgpID0+IHtcbiAgICAgIGlmICghaXRlbURlbGV0ZU1vZGFsIHx8ICFhY3RpdmVJdGVtSWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcGVuZGluZ0RlbGV0ZUl0ZW1JZCA9IGFjdGl2ZUl0ZW1JZDtcbiAgICAgIGl0ZW1EZWxldGVNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGl0ZW1EZWxldGVNb2RhbC5jbGFzc0xpc3QuYWRkKCdmbGV4Jyk7XG4gICAgfTtcblxuICAgIGl0ZW1EZWxldGVCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKCFhY3RpdmVJdGVtSWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgb3BlbkRlbGV0ZU1vZGFsKCk7XG4gICAgfSk7XG5cbiAgICBpdGVtRGVsZXRlQ2FuY2VsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNsb3NlRGVsZXRlTW9kYWwoKTtcbiAgICB9KTtcblxuICAgIGl0ZW1EZWxldGVNb2RhbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIGlmIChldmVudC50YXJnZXQgPT09IGl0ZW1EZWxldGVNb2RhbCkge1xuICAgICAgICBjbG9zZURlbGV0ZU1vZGFsKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpdGVtRGVsZXRlQ29uZmlybT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXBlbmRpbmdEZWxldGVJdGVtSWQgfHwgIWFjdGl2ZUNvbGxlY3Rpb25JZCkge1xuICAgICAgICBjbG9zZURlbGV0ZU1vZGFsKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGl0ZW1EZWxldGVDb25maXJtLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIGl0ZW1EZWxldGVDb25maXJtLnRleHRDb250ZW50ID0gJ1N1cHByZXNzaW9uXHUyMDI2JztcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IGRlbGV0ZUNvbGxlY3Rpb25JdGVtKGFjdGl2ZUNvbGxlY3Rpb25JZCwgcGVuZGluZ0RlbGV0ZUl0ZW1JZCk7XG4gICAgICAgIGNvbGxlY3Rpb25JdGVtcyA9IGNvbGxlY3Rpb25JdGVtcy5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0uaWQgIT09IHBlbmRpbmdEZWxldGVJdGVtSWQpO1xuICAgICAgICBpZiAoYWN0aXZlSXRlbUlkID09PSBwZW5kaW5nRGVsZXRlSXRlbUlkKSB7XG4gICAgICAgICAgYWN0aXZlSXRlbUlkID0gbnVsbDtcbiAgICAgICAgICBoaWRlSXRlbUZvcm0oKTtcbiAgICAgICAgfVxuICAgICAgICBzaG93VG9hc3QoJ0l0ZW0gc3VwcHJpbVx1MDBFOScpO1xuICAgICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbY29udGVudF0gZGVsZXRlIGl0ZW0gZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIHN1cHByaW1lciBjZXQgaXRlbS4nKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGl0ZW1EZWxldGVDb25maXJtLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIGl0ZW1EZWxldGVDb25maXJtLnRleHRDb250ZW50ID0gJ1N1cHByaW1lcic7XG4gICAgICAgIGNsb3NlRGVsZXRlTW9kYWwoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHVwZGF0ZUNvbGxlY3Rpb25IZWFkZXIoKTtcbiAgICBzeW5jQWRkQnV0dG9uU3RhdGUoKTtcbiAgICBsb2FkQ29sbGVjdGlvbnMoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXREZXBsb3lXb3Jrc3BhY2UoKSB7XG4gICAgY29uc3QgZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1mb3JtXScpO1xuICAgIGlmICghZm9ybSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBwcm90b2NvbFNlbGVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1wcm90b2NvbF0nKTtcbiAgICBjb25zdCBob3N0SW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktaG9zdF0nKTtcbiAgICBjb25zdCBwb3J0SW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktcG9ydF0nKTtcbiAgICBjb25zdCB1c2VySW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktdXNlcl0nKTtcbiAgICBjb25zdCBwYXNzd29yZElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LXBhc3N3b3JkXScpO1xuICAgIGNvbnN0IHNob3dQYXNzd29yZFRvZ2dsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1zaG93LXBhc3N3b3JkXScpO1xuICAgIGNvbnN0IHJlbW90ZVBhdGhJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1yZW1vdGUtcGF0aF0nKTtcbiAgICBjb25zdCBmZWVkYmFjayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1mZWVkYmFja10nKTtcbiAgICBjb25zdCBzYXZlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LXNhdmVdJyk7XG4gICAgY29uc3QgdGVzdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS10ZXN0XScpO1xuICAgIGNvbnN0IGRlcGxveUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS10cmlnZ2VyXScpO1xuICAgIGNvbnN0IGhpc3RvcnlMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LWhpc3RvcnldJyk7XG4gICAgY29uc3QgbG9nQm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LWxvZ10nKTtcblxuICAgIGNvbnN0IHNhZmVTaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKFxuICAgICAgd29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyxcbiAgICApO1xuICAgIGNvbnN0IGRlcGxveUFwaUJhc2UgPSBzYWZlU2l0ZVNsdWdcbiAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnKX0vZGVwbG95LWNvbmZpZ2BcbiAgICAgIDogbnVsbDtcbiAgICBjb25zdCBkZXBsb3lSdW5BcGkgPSBzYWZlU2l0ZVNsdWdcbiAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnKX0vZGVwbG95YFxuICAgICAgOiBudWxsO1xuICAgIGNvbnN0IGRlcGxveUxvZ0FwaSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9kZXBsb3ktbG9nYFxuICAgICAgOiBudWxsO1xuXG4gICAgbGV0IGhhc1Bhc3N3b3JkID0gZmFsc2U7XG4gICAgbGV0IGJ1c3lBY3Rpb24gPSBudWxsO1xuXG4gICAgY29uc3Qgc2FuaXRpemVSZW1vdGVQYXRoID0gKHZhbHVlKSA9PiB7XG4gICAgICBjb25zdCB0cmltbWVkID0gKHZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICBpZiAoIXRyaW1tZWQpIHtcbiAgICAgICAgcmV0dXJuICcvd3d3JztcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cmltbWVkLnN0YXJ0c1dpdGgoJy8nKSA/IHRyaW1tZWQgOiBgLyR7dHJpbW1lZH1gO1xuICAgIH07XG5cbiAgICBjb25zdCBzZXRGZWVkYmFjayA9IChtZXNzYWdlLCB0b25lID0gJ211dGVkJykgPT4ge1xuICAgICAgaWYgKCFmZWVkYmFjaykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBiYXNlQ2xhc3MgPSAnaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHJvdW5kZWQtZnVsbCBweC0zIHB5LTEgdGV4dC14cyBmb250LXNlbWlib2xkJztcbiAgICAgIGNvbnN0IHRvbmVDbGFzcyA9XG4gICAgICAgIHRvbmUgPT09ICdzdWNjZXNzJ1xuICAgICAgICAgID8gJ2JnLWVtZXJhbGQtNTAgdGV4dC1lbWVyYWxkLTcwMCBib3JkZXIgYm9yZGVyLWVtZXJhbGQtMTAwJ1xuICAgICAgICAgIDogdG9uZSA9PT0gJ2Vycm9yJ1xuICAgICAgICAgICAgPyAnYmctcm9zZS01MCB0ZXh0LXJvc2UtNzAwIGJvcmRlciBib3JkZXItcm9zZS0xMDAnXG4gICAgICAgICAgICA6ICdiZy1zbGF0ZS01MCB0ZXh0LXNsYXRlLTYwMCBib3JkZXIgYm9yZGVyLXNsYXRlLTEwMCc7XG4gICAgICBpZiAoIW1lc3NhZ2UpIHtcbiAgICAgICAgZmVlZGJhY2sudGV4dENvbnRlbnQgPSAnJztcbiAgICAgICAgZmVlZGJhY2suY2xhc3NOYW1lID0gJ3RleHQtc20gdGV4dC1zbGF0ZS01MDAnO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBpY29uID0gdG9uZSA9PT0gJ3N1Y2Nlc3MnID8gJ1x1MjcwNScgOiB0b25lID09PSAnZXJyb3InID8gJ1x1Mjc0QycgOiAnXHUyMTM5XHVGRTBGJztcbiAgICAgIGZlZWRiYWNrLmlubmVySFRNTCA9IGA8c3BhbiBjbGFzcz1cIiR7YmFzZUNsYXNzfSAke3RvbmVDbGFzc31cIj4ke2ljb259PHNwYW4+JHttZXNzYWdlfTwvc3Bhbj48L3NwYW4+YDtcbiAgICAgIGZlZWRiYWNrLmNsYXNzTmFtZSA9ICd0ZXh0LXNtJztcbiAgICB9O1xuXG4gICAgY29uc3Qgc2V0QnVzeSA9IChhY3Rpb24gPSBudWxsKSA9PiB7XG4gICAgICBidXN5QWN0aW9uID0gYWN0aW9uO1xuICAgICAgY29uc3QgZGlzYWJsZSA9IEJvb2xlYW4oYWN0aW9uKTtcbiAgICAgIGNvbnN0IHNwaW5uZXIgPVxuICAgICAgICAnPHN2ZyBjbGFzcz1cImgtNCB3LTQgYW5pbWF0ZS1zcGluIHRleHQtd2hpdGVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48Y2lyY2xlIGNsYXNzPVwib3BhY2l0eS0yNVwiIGN4PVwiMTJcIiBjeT1cIjEyXCIgcj1cIjEwXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiNFwiPjwvY2lyY2xlPjxwYXRoIGNsYXNzPVwib3BhY2l0eS03NVwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIiBkPVwiTTQgMTJhOCA4IDAgMDE4LTh2NGE0IDQgMCAwMC00IDRINHpcIj48L3BhdGg+PC9zdmc+JztcbiAgICAgIGlmIChzYXZlQnV0dG9uKSB7XG4gICAgICAgIHNhdmVCdXR0b24uZGlzYWJsZWQgPSBkaXNhYmxlO1xuICAgICAgICBzYXZlQnV0dG9uLmlubmVySFRNTCA9XG4gICAgICAgICAgYWN0aW9uID09PSAnc2F2ZSdcbiAgICAgICAgICAgID8gYDxzcGFuIGNsYXNzPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+JHtzcGlubmVyfTxzcGFuPkVucmVnaXN0cmVtZW50XHUyMDI2PC9zcGFuPjwvc3Bhbj5gXG4gICAgICAgICAgICA6ICdFbnJlZ2lzdHJlcic7XG4gICAgICB9XG4gICAgICBpZiAodGVzdEJ1dHRvbikge1xuICAgICAgICB0ZXN0QnV0dG9uLmRpc2FibGVkID0gZGlzYWJsZTtcbiAgICAgICAgdGVzdEJ1dHRvbi5pbm5lckhUTUwgPVxuICAgICAgICAgIGFjdGlvbiA9PT0gJ3Rlc3QnXG4gICAgICAgICAgICA/IGA8c3BhbiBjbGFzcz1cImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPjxzcGFuIGNsYXNzPVwiaC00IHctNCBhbmltYXRlLXNwaW4gcm91bmRlZC1mdWxsIGJvcmRlci0yIGJvcmRlci1zbGF0ZS0yMDAgYm9yZGVyLXQtc2xhdGUtNjAwXCI+PC9zcGFuPjxzcGFuPlRlc3QgZW4gY291cnNcdTIwMjY8L3NwYW4+PC9zcGFuPmBcbiAgICAgICAgICAgIDogJ1Rlc3RlciBsYSBjb25uZXhpb24nO1xuICAgICAgfVxuICAgICAgaWYgKGRlcGxveUJ1dHRvbikge1xuICAgICAgICBkZXBsb3lCdXR0b24uZGlzYWJsZWQgPSBkaXNhYmxlICYmIGFjdGlvbiAhPT0gbnVsbDtcbiAgICAgICAgZGVwbG95QnV0dG9uLmlubmVySFRNTCA9XG4gICAgICAgICAgYWN0aW9uID09PSAnZGVwbG95J1xuICAgICAgICAgICAgPyBgPHNwYW4gY2xhc3M9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj48c3BhbiBjbGFzcz1cImgtNCB3LTQgYW5pbWF0ZS1zcGluIHJvdW5kZWQtZnVsbCBib3JkZXItMiBib3JkZXItd2hpdGUvNjAgYm9yZGVyLXQtd2hpdGVcIj48L3NwYW4+PHNwYW4+RFx1MDBFOXBsb2llbWVudFx1MjAyNjwvc3Bhbj48L3NwYW4+YFxuICAgICAgICAgICAgOiAnRFx1MDBFOXBsb3llciBtYWludGVuYW50JztcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgcG9wdWxhdGVGb3JtID0gKGNvbmZpZykgPT4ge1xuICAgICAgcHJvdG9jb2xTZWxlY3QgJiYgKHByb3RvY29sU2VsZWN0LnZhbHVlID0gY29uZmlnLnByb3RvY29sIHx8ICdzZnRwJyk7XG4gICAgICBob3N0SW5wdXQgJiYgKGhvc3RJbnB1dC52YWx1ZSA9IGNvbmZpZy5ob3N0IHx8ICcnKTtcbiAgICAgIHBvcnRJbnB1dCAmJiAocG9ydElucHV0LnZhbHVlID0gY29uZmlnLnBvcnQgfHwgJycpO1xuICAgICAgdXNlcklucHV0ICYmICh1c2VySW5wdXQudmFsdWUgPSBjb25maWcudXNlciB8fCAnJyk7XG4gICAgICByZW1vdGVQYXRoSW5wdXQgJiYgKHJlbW90ZVBhdGhJbnB1dC52YWx1ZSA9IGNvbmZpZy5yZW1vdGVQYXRoIHx8ICcvd3d3Jyk7XG4gICAgICBoYXNQYXNzd29yZCA9IEJvb2xlYW4oY29uZmlnLmhhc1Bhc3N3b3JkKTtcbiAgICAgIGlmIChwYXNzd29yZElucHV0KSB7XG4gICAgICAgIHBhc3N3b3JkSW5wdXQudmFsdWUgPSAnJztcbiAgICAgICAgcGFzc3dvcmRJbnB1dC5wbGFjZWhvbGRlciA9IGhhc1Bhc3N3b3JkID8gJ05vbiBhZmZpY2hcdTAwRTknIDogJ01vdCBkZSBwYXNzZSc7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHJlbmRlckhpc3RvcnkgPSAoZW50cmllcyA9IFtdKSA9PiB7XG4gICAgICBpZiAoIWhpc3RvcnlMaXN0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGhpc3RvcnlMaXN0LmlubmVySFRNTCA9ICcnO1xuICAgICAgaWYgKCFlbnRyaWVzLmxlbmd0aCkge1xuICAgICAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICAgIGxpLmNsYXNzTmFtZSA9ICd0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICAgIGxpLnRleHRDb250ZW50ID0gJ0F1Y3VuIGRcdTAwRTlwbG9pZW1lbnQgcG91ciBsZSBtb21lbnQuJztcbiAgICAgICAgaGlzdG9yeUxpc3QuYXBwZW5kQ2hpbGQobGkpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBlbnRyaWVzLmZvckVhY2goKGVudHJ5KSA9PiB7XG4gICAgICAgIGNvbnN0IGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgbGkuY2xhc3NOYW1lID1cbiAgICAgICAgICAnZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIGdhcC0yIHJvdW5kZWQteGwgYm9yZGVyIGJvcmRlci1zbGF0ZS0yMDAgcHgtMyBweS0yJztcbiAgICAgICAgY29uc3Qgc3RhdHVzQmFkZ2UgPVxuICAgICAgICAgIGVudHJ5LnN0YXR1cyA9PT0gJ3N1Y2Nlc3MnXG4gICAgICAgICAgICA/ICc8c3BhbiBjbGFzcz1cInJvdW5kZWQtZnVsbCBiZy1lbWVyYWxkLTUwIHB4LTIgcHktMC41IHRleHQtWzExcHhdIGZvbnQtc2VtaWJvbGQgdGV4dC1lbWVyYWxkLTcwMFwiPlN1Y2NcdTAwRThzPC9zcGFuPidcbiAgICAgICAgICAgIDogJzxzcGFuIGNsYXNzPVwicm91bmRlZC1mdWxsIGJnLXJvc2UtNTAgcHgtMiBweS0wLjUgdGV4dC1bMTFweF0gZm9udC1zZW1pYm9sZCB0ZXh0LXJvc2UtNzAwXCI+XHUwMEM5Y2hlYzwvc3Bhbj4nO1xuICAgICAgICBjb25zdCBkYXRlID0gZW50cnkuZmluaXNoZWRBdCB8fCBlbnRyeS5zdGFydGVkQXQgfHwgJyc7XG4gICAgICAgIGNvbnN0IGR1cmF0aW9uID1cbiAgICAgICAgICBlbnRyeS5kdXJhdGlvbk1zICYmIE51bWJlcihlbnRyeS5kdXJhdGlvbk1zKSA+PSAwXG4gICAgICAgICAgICA/IGAke01hdGgucm91bmQoTnVtYmVyKGVudHJ5LmR1cmF0aW9uTXMpIC8gMTAwMCl9c2BcbiAgICAgICAgICAgIDogJyc7XG4gICAgICAgIGxpLmlubmVySFRNTCA9IGBcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwic3BhY2UteS0xXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj4ke3N0YXR1c0JhZGdlfTxzcGFuIGNsYXNzPVwidGV4dC14cyB0ZXh0LXNsYXRlLTUwMFwiPiR7ZGF0ZX08L3NwYW4+PC9kaXY+XG4gICAgICAgICAgICA8cCBjbGFzcz1cInRleHQtc20gdGV4dC1zbGF0ZS04MDBcIj4ke2VudHJ5Lm1lc3NhZ2UgfHwgJyd9PC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNTAwXCI+JHtkdXJhdGlvbn08L2Rpdj5cbiAgICAgICAgYDtcbiAgICAgICAgbGkuZGF0YXNldC5kZXBsb3lJZCA9IGVudHJ5LmlkIHx8ICcnO1xuICAgICAgICBsaS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICBpZiAoZW50cnkubG9ncyAmJiBsb2dCb3gpIHtcbiAgICAgICAgICAgIGxvZ0JveC50ZXh0Q29udGVudCA9IGVudHJ5LmxvZ3Muam9pbignXFxuJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaGlzdG9yeUxpc3QuYXBwZW5kQ2hpbGQobGkpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IHJlbmRlckxvZ3MgPSAobGluZXMgPSBbXSkgPT4ge1xuICAgICAgaWYgKCFsb2dCb3gpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbG9nQm94LnRleHRDb250ZW50ID0gbGluZXMubGVuZ3RoID8gbGluZXMuam9pbignXFxuJykgOiAnQXVjdW4gbG9nIHBvdXIgbGUgbW9tZW50Lic7XG4gICAgfTtcblxuICAgIGNvbnN0IGZldGNoSGlzdG9yeSA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghZGVwbG95TG9nQXBpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goZGVwbG95TG9nQXBpLCB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwNCkge1xuICAgICAgICAgICAgcmVuZGVySGlzdG9yeShbXSk7XG4gICAgICAgICAgICByZW5kZXJMb2dzKFsnQVBJIGRcdTAwRTlwbG9pZW1lbnQgaW5kaXNwb25pYmxlIChyZWRcdTAwRTltYXJyZSBsZSBzZXJ2ZXVyKS4nXSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxcdTIwMTloaXN0b3JpcXVlLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIGNvbnN0IGVudHJpZXMgPSBBcnJheS5pc0FycmF5KHBheWxvYWQuZW50cmllcykgPyBwYXlsb2FkLmVudHJpZXMgOiBbXTtcbiAgICAgICAgcmVuZGVySGlzdG9yeShlbnRyaWVzKTtcbiAgICAgICAgaWYgKGVudHJpZXNbMF0/LmxvZ3MpIHtcbiAgICAgICAgICByZW5kZXJMb2dzKGVudHJpZXNbMF0ubG9ncyk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZGVwbG95XSBoaXN0b3J5IGZhaWxlZCcsIGVycik7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGZldGNoQ29uZmlnID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFkZXBsb3lBcGlCYXNlKSB7XG4gICAgICAgIHNldEZlZWRiYWNrKCdBdWN1biBzaXRlIGFjdGlmIHNcdTAwRTlsZWN0aW9ublx1MDBFOS4nLCAnZXJyb3InKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2V0QnVzeSgnbG9hZCcpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChkZXBsb3lBcGlCYXNlLCB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgcG9wdWxhdGVGb3JtKHBheWxvYWQgfHwge30pO1xuICAgICAgICAgIHNldEZlZWRiYWNrKCdDb25maWd1cmF0aW9uIGNoYXJnXHUwMEU5ZS4nLCAnbXV0ZWQnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwb3B1bGF0ZUZvcm0ocGF5bG9hZCB8fCB7fSk7XG4gICAgICAgICAgc2V0RmVlZGJhY2socGF5bG9hZC5tZXNzYWdlIHx8ICdDb25maWd1cmF0aW9uIHBhciBkXHUwMEU5ZmF1dCBjaGFyZ1x1MDBFOWUuJywgJ211dGVkJyk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZGVwbG95XSBsb2FkIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNldEZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkdSBjaGFyZ2VtZW50LicsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0QnVzeShudWxsKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgYnVpbGRQYXlsb2FkID0gKCkgPT4ge1xuICAgICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgcHJvdG9jb2w6IHByb3RvY29sU2VsZWN0Py52YWx1ZSB8fCAnc2Z0cCcsXG4gICAgICAgIGhvc3Q6IGhvc3RJbnB1dD8udmFsdWUudHJpbSgpIHx8ICcnLFxuICAgICAgICBwb3J0OiBOdW1iZXIocG9ydElucHV0Py52YWx1ZSkgfHwgdW5kZWZpbmVkLFxuICAgICAgICB1c2VyOiB1c2VySW5wdXQ/LnZhbHVlLnRyaW0oKSB8fCAnJyxcbiAgICAgICAgcmVtb3RlUGF0aDogc2FuaXRpemVSZW1vdGVQYXRoKHJlbW90ZVBhdGhJbnB1dD8udmFsdWUgfHwgJy93d3cnKSxcbiAgICAgIH07XG4gICAgICBjb25zdCBwd2QgPSBwYXNzd29yZElucHV0Py52YWx1ZSB8fCAnJztcbiAgICAgIGlmIChwd2QudHJpbSgpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcGF5bG9hZC5wYXNzd29yZCA9IHB3ZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH07XG5cbiAgICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmICghZGVwbG95QXBpQmFzZSkge1xuICAgICAgICBzZXRGZWVkYmFjaygnQXVjdW4gc2l0ZSBhY3RpZiBzXHUwMEU5bGVjdGlvbm5cdTAwRTkuJywgJ2Vycm9yJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHBheWxvYWQgPSBidWlsZFBheWxvYWQoKTtcbiAgICAgIHNldEJ1c3koJ3NhdmUnKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goZGVwbG95QXBpQmFzZSwge1xuICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgY29uc3QgZXJyb3JQYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvclBheWxvYWQubWVzc2FnZSB8fCAnU2F1dmVnYXJkZSBpbXBvc3NpYmxlLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNhdmVkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBwb3B1bGF0ZUZvcm0oc2F2ZWQgfHwge30pO1xuICAgICAgICBzZXRGZWVkYmFjaygnQ29uZmlndXJhdGlvbiBlbnJlZ2lzdHJcdTAwRTllLicsICdzdWNjZXNzJyk7XG4gICAgICAgIHNob3dUb2FzdCgnQ29uZmlndXJhdGlvbiBkXHUwMEU5cGxvaWVtZW50IHNhdXZlZ2FyZFx1MDBFOWUnKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZGVwbG95XSBzYXZlIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNldEZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsYSBzYXV2ZWdhcmRlLicsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0QnVzeShudWxsKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRlc3RCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFkZXBsb3lBcGlCYXNlKSB7XG4gICAgICAgIHNldEZlZWRiYWNrKCdBdWN1biBzaXRlIGFjdGlmIHNcdTAwRTlsZWN0aW9ublx1MDBFOS4nLCAnZXJyb3InKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgcGF5bG9hZCA9IGJ1aWxkUGF5bG9hZCgpO1xuICAgICAgaWYgKCFwYXlsb2FkLmhvc3QgfHwgIXBheWxvYWQudXNlciB8fCAhcGF5bG9hZC5yZW1vdGVQYXRoKSB7XG4gICAgICAgIHNldEZlZWRiYWNrKCdSZW1wbGlzc2V6IGxlcyBjaGFtcHMgcmVxdWlzIGF2YW50IGRlIHRlc3Rlci4nLCAnZXJyb3InKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2V0QnVzeSgndGVzdCcpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtkZXBsb3lBcGlCYXNlfS90ZXN0YCwge1xuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rIHx8IHJlc3VsdC5zdWNjZXNzID09PSBmYWxzZSkge1xuICAgICAgICAgIHNldEZlZWRiYWNrKHJlc3VsdC5tZXNzYWdlIHx8ICdUZXN0IGRlIGNvbm5leGlvbiBcdTAwRTljaG91XHUwMEU5LicsICdlcnJvcicpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzZXRGZWVkYmFjayhyZXN1bHQubWVzc2FnZSB8fCAnQ29ubmV4aW9uIE9LLicsICdzdWNjZXNzJyk7XG4gICAgICAgIHNob3dUb2FzdCgnVGVzdCBkZSBjb25uZXhpb24gclx1MDBFOXVzc2knKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZGVwbG95XSB0ZXN0IGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNldEZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdUZXN0IGRlIGNvbm5leGlvbiBcdTAwRTljaG91XHUwMEU5LicsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0QnVzeShudWxsKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGRlcGxveUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWRlcGxveVJ1bkFwaSkge1xuICAgICAgICBzZXRGZWVkYmFjaygnQXVjdW4gc2l0ZSBhY3RpZiBzXHUwMEU5bGVjdGlvbm5cdTAwRTkuJywgJ2Vycm9yJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNldEJ1c3koJ2RlcGxveScpO1xuICAgICAgcmVuZGVyTG9ncyhbJ0RcdTAwRTlwbG9pZW1lbnQgZW4gY291cnNcdTIwMjYnXSk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGRlcGxveVJ1bkFwaSwge1xuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJ1aWxkUGF5bG9hZCgpKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwNCkge1xuICAgICAgICAgICAgc2V0RmVlZGJhY2soJ0FQSSBkXHUwMEU5cGxvaWVtZW50IGluZGlzcG9uaWJsZSAocmVkXHUwMEU5bWFycmUgbGUgc2VydmV1cikuJywgJ2Vycm9yJyk7XG4gICAgICAgICAgICByZW5kZXJMb2dzKFsnQVBJIGRcdTAwRTlwbG9pZW1lbnQgaW5kaXNwb25pYmxlIChyZWRcdTAwRTltYXJyZSBsZSBzZXJ2ZXVyKS4nXSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlbmRlckxvZ3MocmVzdWx0LmxvZ3MgfHwgW10pO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQubWVzc2FnZSB8fCAnRFx1MDBFOXBsb2llbWVudCBcdTAwRTljaG91XHUwMEU5LicpO1xuICAgICAgICB9XG4gICAgICAgIHJlbmRlckxvZ3MocmVzdWx0LmxvZ3MgfHwgW10pO1xuICAgICAgICBhd2FpdCBmZXRjaEhpc3RvcnkoKTtcbiAgICAgICAgc2hvd1RvYXN0KCdEXHUwMEU5cGxvaWVtZW50IHRlcm1pblx1MDBFOScpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkZXBsb3ldIHJ1biBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzZXRGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRFx1MDBFOXBsb2llbWVudCBcdTAwRTljaG91XHUwMEU5LicsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0QnVzeShudWxsKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHNob3dQYXNzd29yZFRvZ2dsZT8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICAgICAgaWYgKCFwYXNzd29yZElucHV0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHBhc3N3b3JkSW5wdXQudHlwZSA9IHNob3dQYXNzd29yZFRvZ2dsZS5jaGVja2VkID8gJ3RleHQnIDogJ3Bhc3N3b3JkJztcbiAgICB9KTtcblxuICAgIC8vIERvd25sb2FkIGJ1aWxkIGFzIFpJUFxuICAgIGNvbnN0IGRvd25sb2FkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZG93bmxvYWQtYnVpbGRdJyk7XG4gICAgY29uc3QgZG93bmxvYWRGZWVkYmFjayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRvd25sb2FkLWZlZWRiYWNrXScpO1xuICAgIGNvbnN0IGRvd25sb2FkQXBpID0gc2FmZVNpdGVTbHVnXG4gICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Zyl9L2Rvd25sb2FkYFxuICAgICAgOiBudWxsO1xuXG4gICAgY29uc3Qgc2V0RG93bmxvYWRGZWVkYmFjayA9IChtZXNzYWdlLCB0b25lID0gJ211dGVkJykgPT4ge1xuICAgICAgaWYgKCFkb3dubG9hZEZlZWRiYWNrKSByZXR1cm47XG4gICAgICBjb25zdCBjb2xvciA9XG4gICAgICAgIHRvbmUgPT09ICdzdWNjZXNzJ1xuICAgICAgICAgID8gJ3RleHQtZW1lcmFsZC02MDAnXG4gICAgICAgICAgOiB0b25lID09PSAnZXJyb3InXG4gICAgICAgICAgICA/ICd0ZXh0LXJvc2UtNjAwJ1xuICAgICAgICAgICAgOiAndGV4dC1zbGF0ZS01MDAnO1xuICAgICAgZG93bmxvYWRGZWVkYmFjay50ZXh0Q29udGVudCA9IG1lc3NhZ2UgfHwgJyc7XG4gICAgICBkb3dubG9hZEZlZWRiYWNrLmNsYXNzTmFtZSA9IGB0ZXh0LXNtICR7Y29sb3J9YDtcbiAgICB9O1xuXG4gICAgZG93bmxvYWRCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFkb3dubG9hZEFwaSkge1xuICAgICAgICBzZXREb3dubG9hZEZlZWRiYWNrKCdBdWN1biBzaXRlIGFjdGlmIHNcdTAwRTlsZWN0aW9ublx1MDBFOS4nLCAnZXJyb3InKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZG93bmxvYWRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgY29uc3Qgb3JpZ2luYWxDb250ZW50ID0gZG93bmxvYWRCdXR0b24uaW5uZXJIVE1MO1xuICAgICAgZG93bmxvYWRCdXR0b24uaW5uZXJIVE1MID0gYFxuICAgICAgICA8c3ZnIGNsYXNzPVwidy00IGgtNCBhbmltYXRlLXNwaW5cIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICA8Y2lyY2xlIGNsYXNzPVwib3BhY2l0eS0yNVwiIGN4PVwiMTJcIiBjeT1cIjEyXCIgcj1cIjEwXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiNFwiPjwvY2lyY2xlPlxuICAgICAgICAgIDxwYXRoIGNsYXNzPVwib3BhY2l0eS03NVwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIiBkPVwiTTQgMTJhOCA4IDAgMDE4LTh2NGE0IDQgMCAwMC00IDRINHpcIj48L3BhdGg+XG4gICAgICAgIDwvc3ZnPlxuICAgICAgICA8c3Bhbj5CdWlsZCBlbiBjb3Vycy4uLjwvc3Bhbj5cbiAgICAgIGA7XG4gICAgICBzZXREb3dubG9hZEZlZWRiYWNrKCdHXHUwMEU5blx1MDBFOXJhdGlvbiBkdSBidWlsZCBlbiBjb3Vycy4uLicsICdtdXRlZCcpO1xuXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGRvd25sb2FkQXBpKTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnN0IGVycm9yRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JEYXRhLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgZ1x1MDBFOW5cdTAwRTlyZXIgbGUgWklQLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRcdTAwRTlsXHUwMEU5Y2hhcmdlciBsZSBmaWNoaWVyXG4gICAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCByZXNwb25zZS5ibG9iKCk7XG4gICAgICAgIGNvbnN0IHVybCA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICAgICAgICBjb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgICBhLmhyZWYgPSB1cmw7XG4gICAgICAgIGEuZG93bmxvYWQgPSBgJHtzYWZlU2l0ZVNsdWd9LWJ1aWxkLnppcGA7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSk7XG4gICAgICAgIGEuY2xpY2soKTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChhKTtcbiAgICAgICAgd2luZG93LlVSTC5yZXZva2VPYmplY3RVUkwodXJsKTtcbiAgICAgICAgc2V0RG93bmxvYWRGZWVkYmFjaygnVFx1MDBFOWxcdTAwRTljaGFyZ2VtZW50IHRlcm1pblx1MDBFOSAhJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgc2hvd1RvYXN0KCdCdWlsZCB0XHUwMEU5bFx1MDBFOWNoYXJnXHUwMEU5IGF2ZWMgc3VjY1x1MDBFOHMnKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZG93bmxvYWRdIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNldERvd25sb2FkRmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGR1IHRcdTAwRTlsXHUwMEU5Y2hhcmdlbWVudC4nLCAnZXJyb3InKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGRvd25sb2FkQnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIGRvd25sb2FkQnV0dG9uLmlubmVySFRNTCA9IG9yaWdpbmFsQ29udGVudDtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGZldGNoQ29uZmlnKCk7XG4gICAgZmV0Y2hIaXN0b3J5KCk7XG4gIH1cblxuICBmdW5jdGlvbiBpbml0U2V0dGluZ3NXb3Jrc3BhY2UoKSB7XG4gICAgY29uc3QgdGFiQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXNldHRpbmdzLXRhYl0nKTtcbiAgICBjb25zdCB0YWJQYW5lbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1zZXR0aW5ncy1wYW5lbF0nKTtcbiAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRtaW4tcGFzc3dvcmQtZm9ybV0nKTtcbiAgICBjb25zdCBzaXRlRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtY29uZmlnLWZvcm1dJyk7XG4gICAgY29uc3Qgc2l0ZUZlZWRiYWNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS1jb25maWctZmVlZGJhY2tdJyk7XG4gICAgY29uc3QgdGhlbWVGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtZm9ybV0nKTtcbiAgICBjb25zdCBzd2l0Y2hUYWIgPSAobmFtZSkgPT4ge1xuICAgICAgdGFiQnV0dG9ucy5mb3JFYWNoKChidG4pID0+IHtcbiAgICAgICAgY29uc3QgaXNBY3RpdmUgPSBidG4uZGF0YXNldC5zZXR0aW5nc1RhYiA9PT0gbmFtZTtcbiAgICAgICAgYnRuLnNldEF0dHJpYnV0ZSgnYXJpYS1zZWxlY3RlZCcsIGlzQWN0aXZlID8gJ3RydWUnIDogJ2ZhbHNlJyk7XG4gICAgICAgIGJ0bi5jbGFzc0xpc3QudG9nZ2xlKCdiZy1bIzlDNkJGRl0nLCBpc0FjdGl2ZSk7XG4gICAgICAgIGJ0bi5jbGFzc0xpc3QudG9nZ2xlKCd0ZXh0LXdoaXRlJywgaXNBY3RpdmUpO1xuICAgICAgfSk7XG4gICAgICB0YWJQYW5lbHMuZm9yRWFjaCgocGFuZWwpID0+IHtcbiAgICAgICAgcGFuZWwuY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZGVuJywgcGFuZWwuZGF0YXNldC5zZXR0aW5nc1BhbmVsICE9PSBuYW1lKTtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgdGFiQnV0dG9ucy5mb3JFYWNoKChidG4pID0+IHtcbiAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHN3aXRjaFRhYihidG4uZGF0YXNldC5zZXR0aW5nc1RhYiB8fCAnYWNjb3VudCcpKTtcbiAgICB9KTtcbiAgICBzd2l0Y2hUYWIoJ2FjY291bnQnKTtcblxuICAgIGlmICghZm9ybSkge1xuICAgICAgLy8gc3RpbGwgYWxsb3cgc2l0ZSBmb3JtIGV2ZW4gaWYgcGFzc3dvcmQgZm9ybSBhYnNlbnRcbiAgICB9XG4gICAgaWYgKGZvcm0pIHtcbiAgICAgIGNvbnN0IGZlZWRiYWNrID0gZm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZG1pbi1wYXNzd29yZC1mZWVkYmFja10nKTtcbiAgICAgIGNvbnN0IHN1Ym1pdCA9IGZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYWRtaW4tcGFzc3dvcmQtc3VibWl0XScpO1xuICAgICAgY29uc3Qgc2V0RmVlZGJhY2sgPSAobWVzc2FnZSwgdG9uZSA9ICdtdXRlZCcpID0+IHtcbiAgICAgICAgaWYgKCFmZWVkYmFjaykgcmV0dXJuO1xuICAgICAgICBjb25zdCBjb2xvciA9XG4gICAgICAgICAgdG9uZSA9PT0gJ3N1Y2Nlc3MnXG4gICAgICAgICAgICA/ICd0ZXh0LWVtZXJhbGQtNjAwJ1xuICAgICAgICAgICAgOiB0b25lID09PSAnZXJyb3InXG4gICAgICAgICAgICAgID8gJ3RleHQtcm9zZS02MDAnXG4gICAgICAgICAgICAgIDogJ3RleHQtc2xhdGUtNTAwJztcbiAgICAgICAgZmVlZGJhY2sudGV4dENvbnRlbnQgPSBtZXNzYWdlIHx8ICcnO1xuICAgICAgICBmZWVkYmFjay5jbGFzc05hbWUgPSBgdGV4dC1zbSAke2NvbG9yfWA7XG4gICAgICB9O1xuICAgICAgZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoZm9ybSk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRQYXNzd29yZCA9IGZvcm1EYXRhLmdldCgnY3VycmVudFBhc3N3b3JkJykgfHwgJyc7XG4gICAgICAgIGNvbnN0IG5ld1Bhc3N3b3JkID0gZm9ybURhdGEuZ2V0KCduZXdQYXNzd29yZCcpIHx8ICcnO1xuICAgICAgICBjb25zdCBjb25maXJtUGFzc3dvcmQgPSBmb3JtRGF0YS5nZXQoJ2NvbmZpcm1QYXNzd29yZCcpIHx8ICcnO1xuICAgICAgICBpZiAoIWN1cnJlbnRQYXNzd29yZCB8fCAhbmV3UGFzc3dvcmQgfHwgIWNvbmZpcm1QYXNzd29yZCkge1xuICAgICAgICAgIHNldEZlZWRiYWNrKCdDb21wbFx1MDBFOHRlIHRvdXMgbGVzIGNoYW1wcy4nLCAnZXJyb3InKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc3VibWl0ICYmIChzdWJtaXQuZGlzYWJsZWQgPSB0cnVlKTtcbiAgICAgICAgc2V0RmVlZGJhY2soJycpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvYWRtaW4vcGFzc3dvcmQnLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBjdXJyZW50UGFzc3dvcmQsIG5ld1Bhc3N3b3JkLCBjb25maXJtUGFzc3dvcmQgfSksXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rIHx8IHBheWxvYWQuc3VjY2VzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihwYXlsb2FkLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgbWV0dHJlIFx1MDBFMCBqb3VyIGxlIG1vdCBkZSBwYXNzZS4nKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0RmVlZGJhY2socGF5bG9hZC5tZXNzYWdlIHx8ICdNb3QgZGUgcGFzc2UgbWlzIFx1MDBFMCBqb3VyLicsICdzdWNjZXNzJyk7XG4gICAgICAgICAgZm9ybS5yZXNldCgpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIGNoYW5nZSBwYXNzd29yZCBmYWlsZWQnLCBlcnIpO1xuICAgICAgICAgIHNldEZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsYSBtaXNlIFx1MDBFMCBqb3VyLicsICdlcnJvcicpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIHN1Ym1pdCAmJiAoc3VibWl0LmRpc2FibGVkID0gZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoc2l0ZUZvcm0pIHtcbiAgICAgIGNvbnN0IG5hbWVJbnB1dCA9IHNpdGVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtbmFtZV0nKTtcbiAgICAgIGNvbnN0IGxhbmdTZWxlY3QgPSBzaXRlRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLWxhbmd1YWdlXScpO1xuICAgICAgY29uc3QgdGFnbGluZUlucHV0ID0gc2l0ZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS10YWdsaW5lXScpO1xuICAgICAgY29uc3Qgc2F2ZUJ1dHRvbiA9IHNpdGVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtc2F2ZV0nKTtcbiAgICAgIGNvbnN0IHNldFNpdGVGZWVkYmFjayA9IChtZXNzYWdlLCB0b25lID0gJ211dGVkJykgPT4ge1xuICAgICAgICBpZiAoIXNpdGVGZWVkYmFjaykgcmV0dXJuO1xuICAgICAgICBjb25zdCBjb2xvciA9XG4gICAgICAgICAgdG9uZSA9PT0gJ3N1Y2Nlc3MnXG4gICAgICAgICAgICA/ICd0ZXh0LWVtZXJhbGQtNjAwJ1xuICAgICAgICAgICAgOiB0b25lID09PSAnZXJyb3InXG4gICAgICAgICAgICAgID8gJ3RleHQtcm9zZS02MDAnXG4gICAgICAgICAgICAgIDogJ3RleHQtc2xhdGUtNTAwJztcbiAgICAgICAgc2l0ZUZlZWRiYWNrLnRleHRDb250ZW50ID0gbWVzc2FnZSB8fCAnJztcbiAgICAgICAgc2l0ZUZlZWRiYWNrLmNsYXNzTmFtZSA9IGB0ZXh0LXNtICR7Y29sb3J9YDtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHNhZmVTaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKFxuICAgICAgICB3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnLFxuICAgICAgKTtcbiAgICAgIGNvbnN0IHNpdGVDb25maWdBcGkgPSBzYWZlU2l0ZVNsdWdcbiAgICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9jb25maWcvc2l0ZWBcbiAgICAgICAgOiBudWxsO1xuXG4gICAgICBjb25zdCBsb2FkU2l0ZUNvbmZpZyA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKCFzaXRlQ29uZmlnQXBpKSByZXR1cm47XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChzaXRlQ29uZmlnQXBpLCB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSByZXR1cm47XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICBpZiAobmFtZUlucHV0KSBuYW1lSW5wdXQudmFsdWUgPSBwYXlsb2FkLm5hbWUgfHwgJyc7XG4gICAgICAgICAgaWYgKGxhbmdTZWxlY3QpIGxhbmdTZWxlY3QudmFsdWUgPSBwYXlsb2FkLmxhbmd1YWdlIHx8ICdmcic7XG4gICAgICAgICAgaWYgKHRhZ2xpbmVJbnB1dCkgdGFnbGluZUlucHV0LnZhbHVlID0gcGF5bG9hZC50YWdsaW5lIHx8ICcnO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIGxvYWQgc2l0ZSBjb25maWcgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgc2l0ZUZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmICghc2l0ZUNvbmZpZ0FwaSkge1xuICAgICAgICAgIHNldFNpdGVGZWVkYmFjaygnQXVjdW4gc2l0ZSBhY3RpZi4nLCAnZXJyb3InKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFuYW1lSW5wdXQ/LnZhbHVlLnRyaW0oKSkge1xuICAgICAgICAgIHNldFNpdGVGZWVkYmFjaygnTm9tIHJlcXVpcy4nLCAnZXJyb3InKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc2F2ZUJ1dHRvbiAmJiAoc2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWUpO1xuICAgICAgICBzZXRTaXRlRmVlZGJhY2soJycpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgICAgICBuYW1lOiBuYW1lSW5wdXQ/LnZhbHVlIHx8ICcnLFxuICAgICAgICAgICAgbGFuZ3VhZ2U6IGxhbmdTZWxlY3Q/LnZhbHVlIHx8ICdmcicsXG4gICAgICAgICAgICB0YWdsaW5lOiB0YWdsaW5lSW5wdXQ/LnZhbHVlIHx8ICcnLFxuICAgICAgICAgIH07XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChzaXRlQ29uZmlnQXBpLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vayB8fCByZXN1bHQuc3VjY2VzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQubWVzc2FnZSB8fCAnU2F1dmVnYXJkZSBpbXBvc3NpYmxlLicpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXRTaXRlRmVlZGJhY2socmVzdWx0Lm1lc3NhZ2UgfHwgJ1BhcmFtXHUwMEU4dHJlcyBlbnJlZ2lzdHJcdTAwRTlzLicsICdzdWNjZXNzJyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gc2F2ZSBzaXRlIGNvbmZpZyBmYWlsZWQnLCBlcnIpO1xuICAgICAgICAgIHNldFNpdGVGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZGUgbGEgc2F1dmVnYXJkZS4nLCAnZXJyb3InKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBzYXZlQnV0dG9uICYmIChzYXZlQnV0dG9uLmRpc2FibGVkID0gZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgbG9hZFNpdGVDb25maWcoKTtcbiAgICB9XG5cbiAgICBpZiAodGhlbWVGb3JtKSB7XG4gICAgICBjb25zdCBzYWZlU2l0ZVNsdWcgPSBzdHJpcExlYWRpbmdTbGFzaChcbiAgICAgICAgd29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyxcbiAgICAgICk7XG4gICAgICBjb25zdCB0aGVtZUFwaSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Zyl9L2NvbmZpZy90aGVtZWBcbiAgICAgICAgOiBudWxsO1xuXG4gICAgICBjb25zdCBjb2xvclNlbGVjdHMgPSB7XG4gICAgICAgIHByaW1hcnk6IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1wcmltYXJ5XScpLFxuICAgICAgICBzZWNvbmRhcnk6IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1zZWNvbmRhcnldJyksXG4gICAgICAgIGFjY2VudDogdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLWFjY2VudF0nKSxcbiAgICAgICAgYmFja2dyb3VuZDogdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLWJhY2tncm91bmRdJyksXG4gICAgICAgIHRleHQ6IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS10ZXh0XScpLFxuICAgICAgfTtcbiAgICAgIGNvbnN0IGhlYWRpbmdTZWxlY3QgPSB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtaGVhZGluZ3NdJyk7XG4gICAgICBjb25zdCBib2R5U2VsZWN0ID0gdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLWJvZHldJyk7XG4gICAgICBjb25zdCByYWRpdXNTbWFsbCA9IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1yYWRpdXMtc21hbGxdJyk7XG4gICAgICBjb25zdCByYWRpdXNNZWRpdW0gPSB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtcmFkaXVzLW1lZGl1bV0nKTtcbiAgICAgIGNvbnN0IHJhZGl1c0xhcmdlID0gdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLXJhZGl1cy1sYXJnZV0nKTtcbiAgICAgIGNvbnN0IHByZXZpZXcgPSB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtcHJldmlld10nKTtcbiAgICAgIGNvbnN0IHRoZW1lRmVlZGJhY2sgPSB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtZmVlZGJhY2tdJyk7XG4gICAgICBjb25zdCBhcHBseUJ1dHRvbiA9IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1hcHBseV0nKTtcbiAgICAgIGNvbnN0IHRhaWx3aW5kSHVlcyA9IFtcbiAgICAgICAgJ3NsYXRlJywnZ3JheScsJ3ppbmMnLCduZXV0cmFsJywnc3RvbmUnLCdyZWQnLCdvcmFuZ2UnLCdhbWJlcicsJ3llbGxvdycsJ2xpbWUnLCdncmVlbicsJ2VtZXJhbGQnLCd0ZWFsJywnY3lhbicsJ3NreScsJ2JsdWUnLCdpbmRpZ28nLCd2aW9sZXQnLCdwdXJwbGUnLCdmdWNoc2lhJywncGluaycsJ3Jvc2UnXG4gICAgICBdO1xuICAgICAgY29uc3QgdGFpbHdpbmRTaGFkZXMgPSBbJzUwJywnMTAwJywnMjAwJywnMzAwJywnNDAwJywnNTAwJywnNjAwJywnNzAwJywnODAwJywnOTAwJ107XG4gICAgICBjb25zdCB0YWlsd2luZFRva2VucyA9IHRhaWx3aW5kSHVlcy5mbGF0TWFwKChoKT0+dGFpbHdpbmRTaGFkZXMubWFwKChzKT0+YCR7aH0tJHtzfWApKTtcblxuICAgICAgY29uc3QgZmlsbENvbG9yT3B0aW9ucyA9ICgpID0+IHtcbiAgICAgICAgT2JqZWN0LnZhbHVlcyhjb2xvclNlbGVjdHMpLmZvckVhY2goKHNlbCk9PntcbiAgICAgICAgICBpZiAoIXNlbCB8fCBzZWwub3B0aW9ucy5sZW5ndGgpIHJldHVybjtcbiAgICAgICAgICB0YWlsd2luZFRva2Vucy5mb3JFYWNoKCh0b2tlbik9PntcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgICAgICAgIG9wdGlvbi52YWx1ZT10b2tlbjtcbiAgICAgICAgICAgIGNvbnN0IFtoLHNdPXRva2VuLnNwbGl0KCctJyk7XG4gICAgICAgICAgICBvcHRpb24udGV4dENvbnRlbnQ9YCR7aC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStoLnNsaWNlKDEpfSAke3N9YDtcbiAgICAgICAgICAgIHNlbC5hcHBlbmRDaGlsZChvcHRpb24pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHNldFRoZW1lRmVlZGJhY2sgPSAobWVzc2FnZSwgdG9uZSA9ICdtdXRlZCcpID0+IHtcbiAgICAgICAgaWYgKCF0aGVtZUZlZWRiYWNrKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGNvbG9yID1cbiAgICAgICAgICB0b25lID09PSAnc3VjY2VzcydcbiAgICAgICAgICAgID8gJ3RleHQtZW1lcmFsZC02MDAnXG4gICAgICAgICAgICA6IHRvbmUgPT09ICdlcnJvcidcbiAgICAgICAgICAgICAgPyAndGV4dC1yb3NlLTYwMCdcbiAgICAgICAgICAgICAgOiAndGV4dC1zbGF0ZS01MDAnO1xuICAgICAgICB0aGVtZUZlZWRiYWNrLnRleHRDb250ZW50ID0gbWVzc2FnZSB8fCAnJztcbiAgICAgICAgdGhlbWVGZWVkYmFjay5jbGFzc05hbWUgPSBgdGV4dC1zbSAke2NvbG9yfWA7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBzeW5jUHJldmlldyA9ICgpID0+IHtcbiAgICAgICAgaWYgKCFwcmV2aWV3KSByZXR1cm47XG4gICAgICAgIGNvbnN0IHRva2VuVG9IZXggPSAodG9rZW4pID0+IHtcbiAgICAgICAgICBpZiAoIXRva2VuKSByZXR1cm4gbnVsbDtcbiAgICAgICAgICAvLyBHXHUwMEU5cmVyIGxlcyBjYXMgc3BcdTAwRTljaWF1eCB3aGl0ZSwgYmxhY2ssIHRyYW5zcGFyZW50XG4gICAgICAgICAgaWYgKHRva2VuID09PSAnd2hpdGUnKSByZXR1cm4gJyNmZmZmZmYnO1xuICAgICAgICAgIGlmICh0b2tlbiA9PT0gJ2JsYWNrJykgcmV0dXJuICcjMDAwMDAwJztcbiAgICAgICAgICBpZiAodG9rZW4gPT09ICd0cmFuc3BhcmVudCcpIHJldHVybiAndHJhbnNwYXJlbnQnO1xuICAgICAgICAgIFxuICAgICAgICAgIGNvbnN0IFtoLHNdPXRva2VuLnNwbGl0KCctJyk7XG4gICAgICAgICAgaWYgKCFoIHx8ICFzKSByZXR1cm4gbnVsbDsgLy8gRm9ybWF0IGludmFsaWRlXG4gICAgICAgICAgXG4gICAgICAgICAgY29uc3QgbWFwID0ge1xuICAgICAgICAgICAgc2xhdGU6JyNlMmU4ZjAnLGdyYXk6JyNkMWQ1ZGInLHppbmM6JyNkNGQ0ZDgnLG5ldXRyYWw6JyNkNGQ0ZDQnLHN0b25lOicjZDZkM2QxJyxcbiAgICAgICAgICAgIHJlZDonI2VmNDQ0NCcsb3JhbmdlOicjZjk3MzE2JyxhbWJlcjonI2Y1OWUwYicseWVsbG93OicjZWFiMzA4JyxsaW1lOicjODRjYzE2JyxcbiAgICAgICAgICAgIGdyZWVuOicjMjJjNTVlJyxlbWVyYWxkOicjMTBiOTgxJyx0ZWFsOicjMTRiOGE2JyxjeWFuOicjMDZiNmQ0Jyxza3k6JyMwZWE1ZTknLFxuICAgICAgICAgICAgYmx1ZTonIzNiODJmNicsaW5kaWdvOicjNjM2NmYxJyx2aW9sZXQ6JyM4YjVjZjYnLHB1cnBsZTonI2E4NTVmNycsZnVjaHNpYTonI2Q5NDZlZicsXG4gICAgICAgICAgICBwaW5rOicjZWM0ODk5Jyxyb3NlOicjZjQzZjVlJ1xuICAgICAgICAgIH07XG4gICAgICAgICAgY29uc3QgYmFzZT1tYXBbaF07XG4gICAgICAgICAgaWYgKCFiYXNlKSByZXR1cm4gbnVsbDtcbiAgICAgICAgICAvLyByb3VnaCBzaGFkZSB0d2VhayB1c2luZyBvcGFjaXR5OyBub3QgZXhhY3QgVGFpbHdpbmQgcGFsZXR0ZSBidXQgcHJldmlldy1mcmllbmRseVxuICAgICAgICAgIGNvbnN0IHNoYWRlTnVtPU51bWJlcihzKXx8NTAwO1xuICAgICAgICAgIGNvbnN0IGZhY3RvciA9IE1hdGgubWluKE1hdGgubWF4KChzaGFkZU51bS01MCkvOTAwLDApLDEpO1xuICAgICAgICAgIGNvbnN0IHRvUmdiPShoZXgpPT5oZXgubWF0Y2goL1tBLUZhLWYwLTldezJ9L2cpLm1hcCgodik9PnBhcnNlSW50KHYsMTYpKTtcbiAgICAgICAgICBjb25zdCBbcixnLGJdPXRvUmdiKGJhc2UucmVwbGFjZSgnIycsJycpKTtcbiAgICAgICAgICBjb25zdCBtaXg9KHYpPT5NYXRoLnJvdW5kKDI1NSAtICgyNTUgLSB2KSpmYWN0b3IpO1xuICAgICAgICAgIHJldHVybiBgcmdiKCR7bWl4KHIpfSwgJHttaXgoZyl9LCAke21peChiKX0pYDtcbiAgICAgICAgfTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1jb2xvci1wcmltYXJ5JywgdG9rZW5Ub0hleChjb2xvclNlbGVjdHMucHJpbWFyeT8udmFsdWUpIHx8ICcjOUM2QkZGJyk7XG4gICAgICAgIHByZXZpZXcuc3R5bGUuc2V0UHJvcGVydHkoJy0tY29sb3Itc2Vjb25kYXJ5JywgdG9rZW5Ub0hleChjb2xvclNlbGVjdHMuc2Vjb25kYXJ5Py52YWx1ZSkgfHwgJyMwRUE1RTknKTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1jb2xvci1hY2NlbnQnLCB0b2tlblRvSGV4KGNvbG9yU2VsZWN0cy5hY2NlbnQ/LnZhbHVlKSB8fCAnI0Y5NzMxNicpO1xuICAgICAgICBwcmV2aWV3LnN0eWxlLnNldFByb3BlcnR5KCctLWNvbG9yLWJhY2tncm91bmQnLCB0b2tlblRvSGV4KGNvbG9yU2VsZWN0cy5iYWNrZ3JvdW5kPy52YWx1ZSkgfHwgJyNGRkZGRkYnKTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1jb2xvci10ZXh0JywgdG9rZW5Ub0hleChjb2xvclNlbGVjdHMudGV4dD8udmFsdWUpIHx8ICcjMEYxNzJBJyk7XG4gICAgICAgIHByZXZpZXcuc3R5bGUuc2V0UHJvcGVydHkoJy0tZm9udC1oZWFkaW5ncycsIGhlYWRpbmdTZWxlY3Q/LnZhbHVlIHx8ICdJbnRlciwgc2Fucy1zZXJpZicpO1xuICAgICAgICBwcmV2aWV3LnN0eWxlLnNldFByb3BlcnR5KCctLWZvbnQtYm9keScsIGJvZHlTZWxlY3Q/LnZhbHVlIHx8ICdJbnRlciwgc2Fucy1zZXJpZicpO1xuICAgICAgICBwcmV2aWV3LnN0eWxlLnNldFByb3BlcnR5KCctLXJhZGl1cy1zbWFsbCcsIHJhZGl1c1NtYWxsPy52YWx1ZSB8fCAnOHB4Jyk7XG4gICAgICAgIHByZXZpZXcuc3R5bGUuc2V0UHJvcGVydHkoJy0tcmFkaXVzLW1lZGl1bScsIHJhZGl1c01lZGl1bT8udmFsdWUgfHwgJzE2cHgnKTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1yYWRpdXMtbGFyZ2UnLCByYWRpdXNMYXJnZT8udmFsdWUgfHwgJzI0cHgnKTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5ib3JkZXJSYWRpdXMgPSByYWRpdXNNZWRpdW0/LnZhbHVlIHx8ICcxNnB4JztcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHNldENvbG9yRmllbGRzID0gKGtleSwgdmFsdWUpID0+IHtcbiAgICAgICAgaWYgKGNvbG9yU2VsZWN0c1trZXldKSBjb2xvclNlbGVjdHNba2V5XS52YWx1ZSA9IHZhbHVlO1xuICAgICAgfTtcbiAgICAgIFxuICAgICAgLy8gRm9uY3Rpb24gcG91ciBtZXR0cmUgXHUwMEUwIGpvdXIgbGUgcHJldmlldyBkZSBjb3VsZXVyIGQndW4gc2VsZWN0XG4gICAgICBjb25zdCB1cGRhdGVDb2xvclNlbGVjdFByZXZpZXcgPSAoc2VsZWN0KSA9PiB7XG4gICAgICAgIGlmICghc2VsZWN0KSByZXR1cm47XG4gICAgICAgIGNvbnN0IHNlbGVjdGVkT3B0aW9uID0gc2VsZWN0Lm9wdGlvbnNbc2VsZWN0LnNlbGVjdGVkSW5kZXhdO1xuICAgICAgICBjb25zdCBjb2xvciA9IHNlbGVjdGVkT3B0aW9uPy5kYXRhc2V0Py5jb2xvciB8fCAnI2ZmZmZmZic7XG4gICAgICAgIGNvbnN0IGNvbG9yUHJldmlldyA9IHNlbGVjdC5jbG9zZXN0KCcucmVsYXRpdmUnKT8ucXVlcnlTZWxlY3RvcignW2RhdGEtY29sb3ItcHJldmlld10nKTtcbiAgICAgICAgaWYgKGNvbG9yUHJldmlldykge1xuICAgICAgICAgIGlmIChjb2xvciA9PT0gJ3RyYW5zcGFyZW50Jykge1xuICAgICAgICAgICAgY29sb3JQcmV2aWV3LnN0eWxlLmJhY2tncm91bmQgPSAncmVwZWF0aW5nLWNvbmljLWdyYWRpZW50KCNjY2MgMCUgMjUlLCB3aGl0ZSAwJSA1MCUpIDUwJSAvIDhweCA4cHgnO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb2xvclByZXZpZXcuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gY29sb3I7XG4gICAgICAgICAgICBjb2xvclByZXZpZXcuc3R5bGUuYmFja2dyb3VuZCA9ICcnO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIFxuICAgICAgLy8gSW5pdGlhbGlzZXIgbGVzIHByZXZpZXdzIGRlIGNvdWxldXIgZXQgYWpvdXRlciBsZXMgbGlzdGVuZXJzXG4gICAgICBjb25zdCBpbml0Q29sb3JQcmV2aWV3cyA9ICgpID0+IHtcbiAgICAgICAgT2JqZWN0LnZhbHVlcyhjb2xvclNlbGVjdHMpLmZvckVhY2goKHNlbGVjdCkgPT4ge1xuICAgICAgICAgIGlmICghc2VsZWN0KSByZXR1cm47XG4gICAgICAgICAgdXBkYXRlQ29sb3JTZWxlY3RQcmV2aWV3KHNlbGVjdCk7XG4gICAgICAgICAgc2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHVwZGF0ZUNvbG9yU2VsZWN0UHJldmlldyhzZWxlY3QpKTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICBPYmplY3Qua2V5cyhjb2xvclNlbGVjdHMpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICBjb2xvclNlbGVjdHNba2V5XT8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgc3luY1ByZXZpZXcpO1xuICAgICAgfSk7XG4gICAgICBbaGVhZGluZ1NlbGVjdCwgYm9keVNlbGVjdCwgcmFkaXVzU21hbGwsIHJhZGl1c01lZGl1bSwgcmFkaXVzTGFyZ2VdLmZvckVhY2goKGVsKSA9PiB7XG4gICAgICAgIGVsPy5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBzeW5jUHJldmlldyk7XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgbG9hZFRoZW1lID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoIXRoZW1lQXBpKSByZXR1cm47XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh0aGVtZUFwaSwgeyBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgcmV0dXJuO1xuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgc2V0Q29sb3JGaWVsZHMoJ3ByaW1hcnknLCBwYXlsb2FkLmNvbG9ycz8ucHJpbWFyeSB8fCAndmlvbGV0LTUwMCcpO1xuICAgICAgICAgIHNldENvbG9yRmllbGRzKCdzZWNvbmRhcnknLCBwYXlsb2FkLmNvbG9ycz8uc2Vjb25kYXJ5IHx8ICdpbmRpZ28tNDAwJyk7XG4gICAgICAgICAgc2V0Q29sb3JGaWVsZHMoJ2FjY2VudCcsIHBheWxvYWQuY29sb3JzPy5hY2NlbnQgfHwgJ2VtZXJhbGQtNTAwJyk7XG4gICAgICAgICAgc2V0Q29sb3JGaWVsZHMoJ2JhY2tncm91bmQnLCBwYXlsb2FkLmNvbG9ycz8uYmFja2dyb3VuZCB8fCAnc2xhdGUtNTAnKTtcbiAgICAgICAgICBzZXRDb2xvckZpZWxkcygndGV4dCcsIHBheWxvYWQuY29sb3JzPy50ZXh0IHx8ICdzbGF0ZS05MDAnKTtcbiAgICAgICAgICBpZiAoaGVhZGluZ1NlbGVjdCkgaGVhZGluZ1NlbGVjdC52YWx1ZSA9IHBheWxvYWQudHlwb2dyYXBoeT8uaGVhZGluZ3MgfHwgJ0ludGVyLCBzYW5zLXNlcmlmJztcbiAgICAgICAgICBpZiAoYm9keVNlbGVjdCkgYm9keVNlbGVjdC52YWx1ZSA9IHBheWxvYWQudHlwb2dyYXBoeT8uYm9keSB8fCAnSW50ZXIsIHNhbnMtc2VyaWYnO1xuICAgICAgICAgIGlmIChyYWRpdXNTbWFsbCkgcmFkaXVzU21hbGwudmFsdWUgPSBwYXlsb2FkLnJhZGl1cz8uc21hbGwgfHwgJzhweCc7XG4gICAgICAgICAgaWYgKHJhZGl1c01lZGl1bSkgcmFkaXVzTWVkaXVtLnZhbHVlID0gcGF5bG9hZC5yYWRpdXM/Lm1lZGl1bSB8fCAnMTZweCc7XG4gICAgICAgICAgaWYgKHJhZGl1c0xhcmdlKSByYWRpdXNMYXJnZS52YWx1ZSA9IHBheWxvYWQucmFkaXVzPy5sYXJnZSB8fCAnMjRweCc7XG4gICAgICAgICAgc3luY1ByZXZpZXcoKTtcbiAgICAgICAgICAvLyBNZXR0cmUgXHUwMEUwIGpvdXIgbGVzIHByZXZpZXdzIGRlIGNvdWxldXIgYXByXHUwMEU4cyBjaGFyZ2VtZW50XG4gICAgICAgICAgT2JqZWN0LnZhbHVlcyhjb2xvclNlbGVjdHMpLmZvckVhY2godXBkYXRlQ29sb3JTZWxlY3RQcmV2aWV3KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3NldHRpbmdzXSBsb2FkIHRoZW1lIGZhaWxlZCcsIGVycik7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGZpbGxDb2xvck9wdGlvbnMoKTtcbiAgICAgIGluaXRDb2xvclByZXZpZXdzKCk7XG4gICAgICBhcHBseUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKCF0aGVtZUFwaSkge1xuICAgICAgICAgIHNldFRoZW1lRmVlZGJhY2soJ0F1Y3VuIHNpdGUgYWN0aWYuJywgJ2Vycm9yJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgICAgY29sb3JzOiB7XG4gICAgICAgICAgICBwcmltYXJ5OiBjb2xvclNlbGVjdHMucHJpbWFyeT8udmFsdWUgfHwgJ3Zpb2xldC01MDAnLFxuICAgICAgICAgICAgc2Vjb25kYXJ5OiBjb2xvclNlbGVjdHMuc2Vjb25kYXJ5Py52YWx1ZSB8fCAnaW5kaWdvLTQwMCcsXG4gICAgICAgICAgICBhY2NlbnQ6IGNvbG9yU2VsZWN0cy5hY2NlbnQ/LnZhbHVlIHx8ICdlbWVyYWxkLTUwMCcsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiBjb2xvclNlbGVjdHMuYmFja2dyb3VuZD8udmFsdWUgfHwgJ3NsYXRlLTUwJyxcbiAgICAgICAgICAgIHRleHQ6IGNvbG9yU2VsZWN0cy50ZXh0Py52YWx1ZSB8fCAnc2xhdGUtOTAwJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHR5cG9ncmFwaHk6IHtcbiAgICAgICAgICAgIGhlYWRpbmdzOiBoZWFkaW5nU2VsZWN0Py52YWx1ZSB8fCAnSW50ZXIsIHNhbnMtc2VyaWYnLFxuICAgICAgICAgICAgYm9keTogYm9keVNlbGVjdD8udmFsdWUgfHwgJ0ludGVyLCBzYW5zLXNlcmlmJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHJhZGl1czoge1xuICAgICAgICAgICAgc21hbGw6IHJhZGl1c1NtYWxsPy52YWx1ZSB8fCAnOHB4JyxcbiAgICAgICAgICAgIG1lZGl1bTogcmFkaXVzTWVkaXVtPy52YWx1ZSB8fCAnMTZweCcsXG4gICAgICAgICAgICBsYXJnZTogcmFkaXVzTGFyZ2U/LnZhbHVlIHx8ICcyNHB4JyxcbiAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgICBhcHBseUJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIHNldFRoZW1lRmVlZGJhY2soJycpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godGhlbWVBcGksIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rIHx8IHJlc3VsdC5zdWNjZXNzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5tZXNzYWdlIHx8ICdBcHBsaWNhdGlvbiBkdSB0aFx1MDBFOG1lIFx1MDBFOWNob3VcdTAwRTllLicpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXRUaGVtZUZlZWRiYWNrKHJlc3VsdC5tZXNzYWdlIHx8ICdUaFx1MDBFOG1lIGFwcGxpcXVcdTAwRTkuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgICBzeW5jUHJldmlldygpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIGFwcGx5IHRoZW1lIGZhaWxlZCcsIGVycik7XG4gICAgICAgICAgc2V0VGhlbWVGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZGUgbFx1MjAxOWFwcGxpY2F0aW9uIGR1IHRoXHUwMEU4bWUuJywgJ2Vycm9yJyk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgYXBwbHlCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGZpbGxDb2xvck9wdGlvbnMoKTtcbiAgICAgIGluaXRDb2xvclByZXZpZXdzKCk7XG4gICAgICBsb2FkVGhlbWUoKTtcbiAgICAgIHN5bmNQcmV2aWV3KCk7XG4gICAgfVxuXG4gICAgLy8gU0VPIENvbmZpZyBmb3JtIChVUzkuQjEpXG4gICAgY29uc3Qgc2VvQ29uZmlnRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby1jb25maWctZm9ybV0nKTtcbiAgICBpZiAoc2VvQ29uZmlnRm9ybSkge1xuICAgICAgY29uc3QgaW5kZXhBbGxDaGVja2JveCA9IHNlb0NvbmZpZ0Zvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtc2VvLWluZGV4LWFsbF0nKTtcbiAgICAgIGNvbnN0IHNlb0NvbmZpZ0ZlZWRiYWNrID0gc2VvQ29uZmlnRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8tY29uZmlnLWZlZWRiYWNrXScpO1xuICAgICAgY29uc3Qgc2VvU2F2ZUJ1dHRvbiA9IHNlb0NvbmZpZ0Zvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtc2VvLXNhdmVdJyk7XG5cbiAgICAgIGNvbnN0IHNhZmVTaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKFxuICAgICAgICB3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnLFxuICAgICAgKTtcbiAgICAgIGNvbnN0IHNpdGVDb25maWdBcGkgPSBzYWZlU2l0ZVNsdWdcbiAgICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9jb25maWcvc2l0ZWBcbiAgICAgICAgOiBudWxsO1xuXG4gICAgICBjb25zdCBzZXRTZW9GZWVkYmFjayA9IChtZXNzYWdlLCB0b25lID0gJ211dGVkJykgPT4ge1xuICAgICAgICBpZiAoIXNlb0NvbmZpZ0ZlZWRiYWNrKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGNvbG9yID1cbiAgICAgICAgICB0b25lID09PSAnc3VjY2VzcydcbiAgICAgICAgICAgID8gJ3RleHQtZW1lcmFsZC02MDAnXG4gICAgICAgICAgICA6IHRvbmUgPT09ICdlcnJvcidcbiAgICAgICAgICAgICAgPyAndGV4dC1yb3NlLTYwMCdcbiAgICAgICAgICAgICAgOiAndGV4dC1zbGF0ZS01MDAnO1xuICAgICAgICBzZW9Db25maWdGZWVkYmFjay50ZXh0Q29udGVudCA9IG1lc3NhZ2UgfHwgJyc7XG4gICAgICAgIHNlb0NvbmZpZ0ZlZWRiYWNrLmNsYXNzTmFtZSA9IGB0ZXh0LXNtICR7Y29sb3J9YDtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGxvYWRTZW9Db25maWcgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIGlmICghc2l0ZUNvbmZpZ0FwaSkgcmV0dXJuO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goc2l0ZUNvbmZpZ0FwaSwgeyBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgcmV0dXJuO1xuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgY29uc3QgaW5kZXhBbGwgPSBwYXlsb2FkLnNlbz8uaW5kZXhBbGxQYWdlc0J5RGVmYXVsdCAhPT0gZmFsc2U7XG4gICAgICAgICAgaWYgKGluZGV4QWxsQ2hlY2tib3gpIGluZGV4QWxsQ2hlY2tib3guY2hlY2tlZCA9IGluZGV4QWxsO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIGxvYWQgc2VvIGNvbmZpZyBmYWlsZWQnLCBlcnIpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBzZW9Db25maWdGb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAoIXNpdGVDb25maWdBcGkpIHtcbiAgICAgICAgICBzZXRTZW9GZWVkYmFjaygnQXVjdW4gc2l0ZSBhY3RpZi4nLCAnZXJyb3InKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc2VvU2F2ZUJ1dHRvbiAmJiAoc2VvU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWUpO1xuICAgICAgICBzZXRTZW9GZWVkYmFjaygnJyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gRmlyc3QgbG9hZCBjdXJyZW50IGNvbmZpZyB0byBwcmVzZXJ2ZSBvdGhlciBmaWVsZHNcbiAgICAgICAgICBjb25zdCBjdXJyZW50UmVzID0gYXdhaXQgZmV0Y2goc2l0ZUNvbmZpZ0FwaSwgeyBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSk7XG4gICAgICAgICAgY29uc3QgY3VycmVudENvbmZpZyA9IGN1cnJlbnRSZXMub2sgPyBhd2FpdCBjdXJyZW50UmVzLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKSA6IHt9O1xuXG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgICAgIC4uLmN1cnJlbnRDb25maWcsXG4gICAgICAgICAgICBzZW86IHtcbiAgICAgICAgICAgICAgLi4uKGN1cnJlbnRDb25maWcuc2VvIHx8IHt9KSxcbiAgICAgICAgICAgICAgaW5kZXhBbGxQYWdlc0J5RGVmYXVsdDogaW5kZXhBbGxDaGVja2JveD8uY2hlY2tlZCA/PyB0cnVlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9O1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goc2l0ZUNvbmZpZ0FwaSwge1xuICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2sgfHwgcmVzdWx0LnN1Y2Nlc3MgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzdWx0Lm1lc3NhZ2UgfHwgJ1NhdXZlZ2FyZGUgaW1wb3NzaWJsZS4nKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0U2VvRmVlZGJhY2socmVzdWx0Lm1lc3NhZ2UgfHwgJ1BhcmFtXHUwMEU4dHJlcyBTRU8gZW5yZWdpc3RyXHUwMEU5cy4nLCAnc3VjY2VzcycpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIHNhdmUgc2VvIGNvbmZpZyBmYWlsZWQnLCBlcnIpO1xuICAgICAgICAgIHNldFNlb0ZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsYSBzYXV2ZWdhcmRlLicsICdlcnJvcicpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIHNlb1NhdmVCdXR0b24gJiYgKHNlb1NhdmVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBsb2FkU2VvQ29uZmlnKCk7XG4gICAgfVxuXG4gICAgLy8gQW5hbHl0aWNzIGZvcm0gKFVTOS5CMilcbiAgICBjb25zdCBhbmFseXRpY3NGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYW5hbHl0aWNzLWZvcm1dJyk7XG4gICAgaWYgKGFuYWx5dGljc0Zvcm0pIHtcbiAgICAgIGNvbnN0IGhlYWRUZXh0YXJlYSA9IGFuYWx5dGljc0Zvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYW5hbHl0aWNzLWhlYWRdJyk7XG4gICAgICBjb25zdCBib2R5VGV4dGFyZWEgPSBhbmFseXRpY3NGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFuYWx5dGljcy1ib2R5XScpO1xuICAgICAgY29uc3QgYW5hbHl0aWNzRmVlZGJhY2sgPSBhbmFseXRpY3NGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFuYWx5dGljcy1mZWVkYmFja10nKTtcbiAgICAgIGNvbnN0IGFuYWx5dGljc1NhdmVCdXR0b24gPSBhbmFseXRpY3NGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFuYWx5dGljcy1zYXZlXScpO1xuXG4gICAgICBjb25zdCBzYWZlU2l0ZVNsdWcgPSBzdHJpcExlYWRpbmdTbGFzaChcbiAgICAgICAgd29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyxcbiAgICAgICk7XG4gICAgICBjb25zdCBzaXRlQ29uZmlnQXBpID0gc2FmZVNpdGVTbHVnXG4gICAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnKX0vY29uZmlnL3NpdGVgXG4gICAgICAgIDogbnVsbDtcblxuICAgICAgY29uc3Qgc2V0QW5hbHl0aWNzRmVlZGJhY2sgPSAobWVzc2FnZSwgdG9uZSA9ICdtdXRlZCcpID0+IHtcbiAgICAgICAgaWYgKCFhbmFseXRpY3NGZWVkYmFjaykgcmV0dXJuO1xuICAgICAgICBjb25zdCBjb2xvciA9XG4gICAgICAgICAgdG9uZSA9PT0gJ3N1Y2Nlc3MnXG4gICAgICAgICAgICA/ICd0ZXh0LWVtZXJhbGQtNjAwJ1xuICAgICAgICAgICAgOiB0b25lID09PSAnZXJyb3InXG4gICAgICAgICAgICAgID8gJ3RleHQtcm9zZS02MDAnXG4gICAgICAgICAgICAgIDogJ3RleHQtc2xhdGUtNTAwJztcbiAgICAgICAgYW5hbHl0aWNzRmVlZGJhY2sudGV4dENvbnRlbnQgPSBtZXNzYWdlIHx8ICcnO1xuICAgICAgICBhbmFseXRpY3NGZWVkYmFjay5jbGFzc05hbWUgPSBgdGV4dC1zbSAke2NvbG9yfWA7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBsb2FkQW5hbHl0aWNzQ29uZmlnID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoIXNpdGVDb25maWdBcGkpIHJldHVybjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHNpdGVDb25maWdBcGksIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHJldHVybjtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIGlmIChoZWFkVGV4dGFyZWEpIGhlYWRUZXh0YXJlYS52YWx1ZSA9IHBheWxvYWQuYW5hbHl0aWNzPy5oZWFkQ29kZSB8fCAnJztcbiAgICAgICAgICBpZiAoYm9keVRleHRhcmVhKSBib2R5VGV4dGFyZWEudmFsdWUgPSBwYXlsb2FkLmFuYWx5dGljcz8uYm9keUVuZENvZGUgfHwgJyc7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gbG9hZCBhbmFseXRpY3MgY29uZmlnIGZhaWxlZCcsIGVycik7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGFuYWx5dGljc0Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmICghc2l0ZUNvbmZpZ0FwaSkge1xuICAgICAgICAgIHNldEFuYWx5dGljc0ZlZWRiYWNrKCdBdWN1biBzaXRlIGFjdGlmLicsICdlcnJvcicpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBhbmFseXRpY3NTYXZlQnV0dG9uICYmIChhbmFseXRpY3NTYXZlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZSk7XG4gICAgICAgIHNldEFuYWx5dGljc0ZlZWRiYWNrKCcnKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBGaXJzdCBsb2FkIGN1cnJlbnQgY29uZmlnIHRvIHByZXNlcnZlIG90aGVyIGZpZWxkc1xuICAgICAgICAgIGNvbnN0IGN1cnJlbnRSZXMgPSBhd2FpdCBmZXRjaChzaXRlQ29uZmlnQXBpLCB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcbiAgICAgICAgICBjb25zdCBjdXJyZW50Q29uZmlnID0gY3VycmVudFJlcy5vayA/IGF3YWl0IGN1cnJlbnRSZXMuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpIDoge307XG5cbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICAgICAgLi4uY3VycmVudENvbmZpZyxcbiAgICAgICAgICAgIGFuYWx5dGljczoge1xuICAgICAgICAgICAgICBoZWFkQ29kZTogaGVhZFRleHRhcmVhPy52YWx1ZSB8fCAnJyxcbiAgICAgICAgICAgICAgYm9keUVuZENvZGU6IGJvZHlUZXh0YXJlYT8udmFsdWUgfHwgJycsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH07XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChzaXRlQ29uZmlnQXBpLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vayB8fCByZXN1bHQuc3VjY2VzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQubWVzc2FnZSB8fCAnU2F1dmVnYXJkZSBpbXBvc3NpYmxlLicpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXRBbmFseXRpY3NGZWVkYmFjayhyZXN1bHQubWVzc2FnZSB8fCAnU2NyaXB0cyBlbnJlZ2lzdHJcdTAwRTlzLicsICdzdWNjZXNzJyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gc2F2ZSBhbmFseXRpY3MgY29uZmlnIGZhaWxlZCcsIGVycik7XG4gICAgICAgICAgc2V0QW5hbHl0aWNzRmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGRlIGxhIHNhdXZlZ2FyZGUuJywgJ2Vycm9yJyk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgYW5hbHl0aWNzU2F2ZUJ1dHRvbiAmJiAoYW5hbHl0aWNzU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGxvYWRBbmFseXRpY3NDb25maWcoKTtcbiAgICB9XG5cbiAgICBjb25zdCBhY2Nlc3NpYmlsaXR5Rm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFjY2Vzc2liaWxpdHktZm9ybV0nKTtcbiAgICBpZiAoYWNjZXNzaWJpbGl0eUZvcm0pIHtcbiAgICAgIGNvbnN0IGFuaW1hdGlvbnNUb2dnbGUgPSBhY2Nlc3NpYmlsaXR5Rm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hY2Nlc3NpYmlsaXR5LWFuaW1hdGlvbnNdJyk7XG4gICAgICBjb25zdCBjb250cmFzdFRvZ2dsZSA9IGFjY2Vzc2liaWxpdHlGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFjY2Vzc2liaWxpdHktY29udHJhc3RdJyk7XG4gICAgICBjb25zdCBhY2Nlc3NpYmlsaXR5RmVlZGJhY2sgPSBhY2Nlc3NpYmlsaXR5Rm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hY2Nlc3NpYmlsaXR5LWZlZWRiYWNrXScpO1xuICAgICAgY29uc3QgYWNjZXNzaWJpbGl0eVNhdmVCdXR0b24gPSBhY2Nlc3NpYmlsaXR5Rm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hY2Nlc3NpYmlsaXR5LXNhdmVdJyk7XG5cbiAgICAgIGNvbnN0IHNhZmVTaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKFxuICAgICAgICB3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnLFxuICAgICAgKTtcbiAgICAgIGNvbnN0IHNpdGVDb25maWdBcGkgPSBzYWZlU2l0ZVNsdWdcbiAgICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9jb25maWcvc2l0ZWBcbiAgICAgICAgOiBudWxsO1xuXG4gICAgICBjb25zdCBzZXRBY2Nlc3NpYmlsaXR5RmVlZGJhY2sgPSAobWVzc2FnZSwgdG9uZSA9ICdtdXRlZCcpID0+IHtcbiAgICAgICAgaWYgKCFhY2Nlc3NpYmlsaXR5RmVlZGJhY2spIHJldHVybjtcbiAgICAgICAgY29uc3QgY29sb3IgPVxuICAgICAgICAgIHRvbmUgPT09ICdzdWNjZXNzJ1xuICAgICAgICAgICAgPyAndGV4dC1lbWVyYWxkLTYwMCdcbiAgICAgICAgICAgIDogdG9uZSA9PT0gJ2Vycm9yJ1xuICAgICAgICAgICAgICA/ICd0ZXh0LXJvc2UtNjAwJ1xuICAgICAgICAgICAgICA6ICd0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICAgIGFjY2Vzc2liaWxpdHlGZWVkYmFjay50ZXh0Q29udGVudCA9IG1lc3NhZ2UgfHwgJyc7XG4gICAgICAgIGFjY2Vzc2liaWxpdHlGZWVkYmFjay5jbGFzc05hbWUgPSBgdGV4dC1zbSAke2NvbG9yfWA7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBsb2FkQWNjZXNzaWJpbGl0eUNvbmZpZyA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKCFzaXRlQ29uZmlnQXBpKSByZXR1cm47XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChzaXRlQ29uZmlnQXBpLCB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSByZXR1cm47XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICBpZiAoYW5pbWF0aW9uc1RvZ2dsZSkge1xuICAgICAgICAgICAgYW5pbWF0aW9uc1RvZ2dsZS5jaGVja2VkID0gcGF5bG9hZC5hY2Nlc3NpYmlsaXR5Py5hbmltYXRpb25zRW5hYmxlZCAhPT0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChjb250cmFzdFRvZ2dsZSkge1xuICAgICAgICAgICAgY29udHJhc3RUb2dnbGUuY2hlY2tlZCA9IHBheWxvYWQuYWNjZXNzaWJpbGl0eT8uaGlnaENvbnRyYXN0ID09PSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3NldHRpbmdzXSBsb2FkIGFjY2Vzc2liaWxpdHkgY29uZmlnIGZhaWxlZCcsIGVycik7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGFjY2Vzc2liaWxpdHlGb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAoIXNpdGVDb25maWdBcGkpIHtcbiAgICAgICAgICBzZXRBY2Nlc3NpYmlsaXR5RmVlZGJhY2soJ0F1Y3VuIHNpdGUgYWN0aWYuJywgJ2Vycm9yJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGFjY2Vzc2liaWxpdHlTYXZlQnV0dG9uICYmIChhY2Nlc3NpYmlsaXR5U2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWUpO1xuICAgICAgICBzZXRBY2Nlc3NpYmlsaXR5RmVlZGJhY2soJycpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IGN1cnJlbnRSZXMgPSBhd2FpdCBmZXRjaChzaXRlQ29uZmlnQXBpLCB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcbiAgICAgICAgICBjb25zdCBjdXJyZW50Q29uZmlnID0gY3VycmVudFJlcy5vayA/IGF3YWl0IGN1cnJlbnRSZXMuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpIDoge307XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgICAgIC4uLmN1cnJlbnRDb25maWcsXG4gICAgICAgICAgICBhY2Nlc3NpYmlsaXR5OiB7XG4gICAgICAgICAgICAgIGFuaW1hdGlvbnNFbmFibGVkOiBhbmltYXRpb25zVG9nZ2xlPy5jaGVja2VkID8/IHRydWUsXG4gICAgICAgICAgICAgIGhpZ2hDb250cmFzdDogY29udHJhc3RUb2dnbGU/LmNoZWNrZWQgPz8gZmFsc2UsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH07XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChzaXRlQ29uZmlnQXBpLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vayB8fCByZXN1bHQuc3VjY2VzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQubWVzc2FnZSB8fCAnU2F1dmVnYXJkZSBpbXBvc3NpYmxlLicpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXRBY2Nlc3NpYmlsaXR5RmVlZGJhY2socmVzdWx0Lm1lc3NhZ2UgfHwgJ1ByXHUwMEU5Zlx1MDBFOXJlbmNlcyBtaXNlcyBcdTAwRTAgam91ci4nLCAnc3VjY2VzcycpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIHNhdmUgYWNjZXNzaWJpbGl0eSBjb25maWcgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgICBzZXRBY2Nlc3NpYmlsaXR5RmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGRlIGxhIHNhdXZlZ2FyZGUuJywgJ2Vycm9yJyk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgYWNjZXNzaWJpbGl0eVNhdmVCdXR0b24gJiYgKGFjY2Vzc2liaWxpdHlTYXZlQnV0dG9uLmRpc2FibGVkID0gZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgbG9hZEFjY2Vzc2liaWxpdHlDb25maWcoKTtcbiAgICB9XG5cbiAgICAvLyBBSSBDb25maWcgZm9ybSAoVVMgLSBBSSBBc3Npc3RhbnQpXG4gICAgY29uc3QgYWlDb25maWdGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWktY29uZmlnLWZvcm1dJyk7XG4gICAgaWYgKGFpQ29uZmlnRm9ybSkge1xuICAgICAgY29uc3QgYXBpS2V5SW5wdXQgPSBhaUNvbmZpZ0Zvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYWktYXBpLWtleV0nKTtcbiAgICAgIGNvbnN0IG1vZGVsU2VsZWN0ID0gYWlDb25maWdGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFpLW1vZGVsXScpO1xuICAgICAgY29uc3QgcHJvamVjdFByb21wdFRleHRhcmVhID0gYWlDb25maWdGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFpLXByb2plY3QtcHJvbXB0XScpO1xuICAgICAgY29uc3QgZW5hYmxlZENoZWNrYm94ID0gYWlDb25maWdGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFpLWVuYWJsZWRdJyk7XG4gICAgICBjb25zdCBhaUZlZWRiYWNrID0gYWlDb25maWdGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFpLWZlZWRiYWNrXScpO1xuICAgICAgY29uc3QgYWlTYXZlQnV0dG9uID0gYWlDb25maWdGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFpLXNhdmVdJyk7XG5cbiAgICAgIGNvbnN0IHNhZmVTaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKFxuICAgICAgICB3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnLFxuICAgICAgKTtcbiAgICAgIGNvbnN0IGFpQ29uZmlnQXBpID0gc2FmZVNpdGVTbHVnXG4gICAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnKX0vY29uZmlnL2FpYFxuICAgICAgICA6IG51bGw7XG5cbiAgICAgIGNvbnN0IHNldEFJRmVlZGJhY2sgPSAobWVzc2FnZSwgdG9uZSA9ICdtdXRlZCcpID0+IHtcbiAgICAgICAgaWYgKCFhaUZlZWRiYWNrKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGNvbG9yID1cbiAgICAgICAgICB0b25lID09PSAnc3VjY2VzcydcbiAgICAgICAgICAgID8gJ3RleHQtZW1lcmFsZC02MDAnXG4gICAgICAgICAgICA6IHRvbmUgPT09ICdlcnJvcidcbiAgICAgICAgICAgICAgPyAndGV4dC1yb3NlLTYwMCdcbiAgICAgICAgICAgICAgOiAndGV4dC1zbGF0ZS01MDAnO1xuICAgICAgICBhaUZlZWRiYWNrLnRleHRDb250ZW50ID0gbWVzc2FnZSB8fCAnJztcbiAgICAgICAgYWlGZWVkYmFjay5jbGFzc05hbWUgPSBgdGV4dC1zbSAke2NvbG9yfWA7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBsb2FkQUlDb25maWcgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIGlmICghYWlDb25maWdBcGkpIHJldHVybjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGFpQ29uZmlnQXBpLCB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSByZXR1cm47XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICAvLyBBUEkga2V5IGlzIG1hc2tlZCwgd2Ugc2hvdyBwbGFjZWhvbGRlciBpZiBpdCBleGlzdHNcbiAgICAgICAgICBpZiAoYXBpS2V5SW5wdXQpIHtcbiAgICAgICAgICAgIGFwaUtleUlucHV0LnZhbHVlID0gJyc7XG4gICAgICAgICAgICBhcGlLZXlJbnB1dC5wbGFjZWhvbGRlciA9IHBheWxvYWQuaGFzQXBpS2V5ID8gJ1x1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMicgOiAnQ2xcdTAwRTkgQVBJIEdlbWluaSc7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChtb2RlbFNlbGVjdCkgbW9kZWxTZWxlY3QudmFsdWUgPSBwYXlsb2FkLm1vZGVsIHx8ICdnZW1pbmktMi41LWZsYXNoJztcbiAgICAgICAgICBpZiAocHJvamVjdFByb21wdFRleHRhcmVhKSBwcm9qZWN0UHJvbXB0VGV4dGFyZWEudmFsdWUgPSBwYXlsb2FkLnByb2plY3RQcm9tcHQgfHwgJyc7XG4gICAgICAgICAgaWYgKGVuYWJsZWRDaGVja2JveCkgZW5hYmxlZENoZWNrYm94LmNoZWNrZWQgPSBwYXlsb2FkLmVuYWJsZWQgIT09IGZhbHNlO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIGxvYWQgQUkgY29uZmlnIGZhaWxlZCcsIGVycik7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGFpQ29uZmlnRm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKCFhaUNvbmZpZ0FwaSkge1xuICAgICAgICAgIHNldEFJRmVlZGJhY2soJ0F1Y3VuIHNpdGUgYWN0aWYuJywgJ2Vycm9yJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGFpU2F2ZUJ1dHRvbiAmJiAoYWlTYXZlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZSk7XG4gICAgICAgIHNldEFJRmVlZGJhY2soJycpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgICAgICBtb2RlbDogbW9kZWxTZWxlY3Q/LnZhbHVlIHx8ICdnZW1pbmktMi41LWZsYXNoJyxcbiAgICAgICAgICAgIHByb2plY3RQcm9tcHQ6IHByb2plY3RQcm9tcHRUZXh0YXJlYT8udmFsdWUgfHwgJycsXG4gICAgICAgICAgICBlbmFibGVkOiBlbmFibGVkQ2hlY2tib3g/LmNoZWNrZWQgPz8gdHJ1ZSxcbiAgICAgICAgICB9O1xuICAgICAgICAgIC8vIE9ubHkgaW5jbHVkZSBhcGlLZXkgaWYgdGhlIHVzZXIgZW50ZXJlZCBvbmUgKG5vdCBlbXB0eSlcbiAgICAgICAgICBjb25zdCBhcGlLZXlWYWx1ZSA9IGFwaUtleUlucHV0Py52YWx1ZT8udHJpbSgpO1xuICAgICAgICAgIGlmIChhcGlLZXlWYWx1ZSkge1xuICAgICAgICAgICAgcGF5bG9hZC5hcGlLZXkgPSBhcGlLZXlWYWx1ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGFpQ29uZmlnQXBpLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vayB8fCByZXN1bHQuc3VjY2VzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQubWVzc2FnZSB8fCAnU2F1dmVnYXJkZSBpbXBvc3NpYmxlLicpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXRBSUZlZWRiYWNrKHJlc3VsdC5tZXNzYWdlIHx8ICdDb25maWd1cmF0aW9uIElBIGVucmVnaXN0clx1MDBFOWUuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgICAvLyBDbGVhciB0aGUgQVBJIGtleSBmaWVsZCBhZnRlciBzdWNjZXNzZnVsIHNhdmVcbiAgICAgICAgICBpZiAoYXBpS2V5SW5wdXQpIHtcbiAgICAgICAgICAgIGFwaUtleUlucHV0LnZhbHVlID0gJyc7XG4gICAgICAgICAgICBhcGlLZXlJbnB1dC5wbGFjZWhvbGRlciA9ICdcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjInO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3NldHRpbmdzXSBzYXZlIEFJIGNvbmZpZyBmYWlsZWQnLCBlcnIpO1xuICAgICAgICAgIHNldEFJRmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGRlIGxhIHNhdXZlZ2FyZGUuJywgJ2Vycm9yJyk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgYWlTYXZlQnV0dG9uICYmIChhaVNhdmVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBsb2FkQUlDb25maWcoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBpbml0TWVkaWFXb3Jrc3BhY2UoKSB7XG4gICAgY29uc3QgZ3JpZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWdyaWRdJyk7XG4gICAgaWYgKCFncmlkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGVtcHR5U3RhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1lbXB0eV0nKTtcbiAgICBjb25zdCBjb3VudEJhZGdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtY291bnRdJyk7XG4gICAgY29uc3QgZmlsdGVyVHlwZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWZpbHRlci10eXBlXScpO1xuICAgIGNvbnN0IGRldGFpbEVtcHR5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGV0YWlsLWVtcHR5XScpO1xuICAgIGNvbnN0IGRldGFpbFBhbmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGV0YWlsXScpO1xuICAgIGNvbnN0IGRldGFpbFByZXZpZXcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZXRhaWwtcHJldmlld10nKTtcbiAgICBjb25zdCBkZXRhaWxOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGV0YWlsLW5hbWVdJyk7XG4gICAgY29uc3QgZGV0YWlsVHlwZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRldGFpbC10eXBlXScpO1xuICAgIGNvbnN0IGRldGFpbFNpemUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZXRhaWwtc2l6ZV0nKTtcbiAgICBjb25zdCBkZXRhaWxQYXRoID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGV0YWlsLXBhdGhdJyk7XG4gICAgY29uc3QgZGV0YWlsVXNlZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRldGFpbC11c2VkXScpO1xuICAgIGNvbnN0IGRldGFpbEFsdElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtYWx0LWVkaXRdJyk7XG4gICAgY29uc3QgZGV0YWlsU2F2ZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLXNhdmVdJyk7XG4gICAgY29uc3QgZGV0YWlsRGVsZXRlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGVsZXRlXScpO1xuICAgIGNvbnN0IGRlbGV0ZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGVsZXRlLW1vZGFsXScpO1xuICAgIGNvbnN0IGRlbGV0ZUNhbmNlbEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRlbGV0ZS1jYW5jZWxdJyk7XG4gICAgY29uc3QgZGVsZXRlQ29uZmlybUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRlbGV0ZS1jb25maXJtXScpO1xuICAgIGNvbnN0IHVwbG9hZE9wZW5CdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS11cGxvYWQtb3Blbl0nKTtcbiAgICBjb25zdCBmaWxlSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1maWxlLWlucHV0XScpO1xuICAgIGNvbnN0IHVwbG9hZFN0YXR1cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLXVwbG9hZC1zdGF0dXNdJyk7XG5cbiAgICBjb25zdCBzYWZlU2l0ZVNsdWdWYWx1ZSA9IHN0cmlwTGVhZGluZ1NsYXNoKFxuICAgICAgd29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyxcbiAgICApO1xuICAgIGNvbnN0IG1lZGlhQXBpQmFzZSA9IHNhZmVTaXRlU2x1Z1ZhbHVlXG4gICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Z1ZhbHVlKX0vbWVkaWFgXG4gICAgICA6IG51bGw7XG5cbiAgICBsZXQgbWVkaWFJdGVtcyA9IFtdO1xuICAgIGxldCBmaWx0ZXJlZEl0ZW1zID0gW107XG4gICAgbGV0IGFjdGl2ZU1lZGlhSWQgPSBudWxsO1xuICAgIGxldCBoaWdobGlnaHRNZWRpYUlkID0gbnVsbDtcbiAgICBsZXQgcGVuZGluZ1VwbG9hZEZpbGUgPSBudWxsO1xuICAgIGxldCB1cGxvYWRJblByb2dyZXNzID0gZmFsc2U7XG4gICAgbGV0IGRldGFpbERpcnR5ID0gZmFsc2U7XG4gICAgbGV0IHVwbG9hZE1vZGUgPSBmYWxzZTtcbiAgICBsZXQgdXBsb2FkUHJldmlld1VybCA9IG51bGw7XG5cbiAgICBjb25zdCBkZXJpdmVHcm91cFR5cGUgPSAoaXRlbSkgPT4ge1xuICAgICAgY29uc3QgdHlwZSA9IChpdGVtLnR5cGUgfHwgJycpLnRvTG93ZXJDYXNlKCk7XG4gICAgICBjb25zdCBmaWxlbmFtZSA9IChpdGVtLmZpbGVuYW1lIHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgaWYgKHR5cGUuaW5jbHVkZXMoJ2ltYWdlJykgfHwgL1xcLihwbmd8anBlP2d8d2VicHxzdmd8Z2lmKSQvaS50ZXN0KGZpbGVuYW1lKSkge1xuICAgICAgICByZXR1cm4gJ2ltYWdlJztcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlLmluY2x1ZGVzKCdwZGYnKSB8fCB0eXBlLmluY2x1ZGVzKCdkb2MnKSB8fCAvXFwuKHBkZnxkb2N4PykkL2kudGVzdChmaWxlbmFtZSkpIHtcbiAgICAgICAgcmV0dXJuICdkb2N1bWVudCc7XG4gICAgICB9XG4gICAgICBpZiAodHlwZS5pbmNsdWRlcygndmlkZW8nKSB8fCAvXFwuKG1wNHxtb3Z8d2VibSkkL2kudGVzdChmaWxlbmFtZSkpIHtcbiAgICAgICAgcmV0dXJuICd2aWRlbyc7XG4gICAgICB9XG4gICAgICByZXR1cm4gJ290aGVyJztcbiAgICB9O1xuXG4gICAgY29uc3QgaXNJbWFnZVR5cGUgPSAoaXRlbSkgPT4gZGVyaXZlR3JvdXBUeXBlKGl0ZW0pID09PSAnaW1hZ2UnO1xuXG4gICAgY29uc3QgZm9ybWF0VHlwZUxhYmVsID0gKGl0ZW0pID0+IHtcbiAgICAgIGlmIChpdGVtLnR5cGUpIHtcbiAgICAgICAgcmV0dXJuIGl0ZW0udHlwZS50b1VwcGVyQ2FzZSgpO1xuICAgICAgfVxuICAgICAgY29uc3QgZXh0ID0gKGl0ZW0uZmlsZW5hbWUgfHwgJycpLnNwbGl0KCcuJykucG9wKCk7XG4gICAgICByZXR1cm4gZXh0ID8gZXh0LnRvVXBwZXJDYXNlKCkgOiAnRklMRSc7XG4gICAgfTtcblxuICAgIGNvbnN0IGZvcm1hdEZpbGVTaXplID0gKHNpemUpID0+IHtcbiAgICAgIGlmICghc2l6ZSB8fCBzaXplIDw9IDApIHtcbiAgICAgICAgcmV0dXJuICdcdTIwMTQnO1xuICAgICAgfVxuICAgICAgaWYgKHNpemUgPCAxMDI0KSB7XG4gICAgICAgIHJldHVybiBgJHtzaXplfSBvYDtcbiAgICAgIH1cbiAgICAgIGlmIChzaXplIDwgMTAyNCAqIDEwMjQpIHtcbiAgICAgICAgcmV0dXJuIGAkeyhzaXplIC8gMTAyNCkudG9GaXhlZCgxKX0ga29gO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGAkeyhzaXplIC8gKDEwMjQgKiAxMDI0KSkudG9GaXhlZCgxKX0gTW9gO1xuICAgIH07XG5cbiAgICBjb25zdCByZXNldERldGFpbFBhbmVsID0gKCkgPT4ge1xuICAgICAgZGV0YWlsUGFuZWw/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgZGV0YWlsRW1wdHk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgY2xlYXJVcGxvYWRTdGF0ZSgpO1xuICAgICAgYWN0aXZlTWVkaWFJZCA9IG51bGw7XG4gICAgICBkZXRhaWxEaXJ0eSA9IGZhbHNlO1xuICAgICAgdXBkYXRlRGV0YWlsQWN0aW9ucyhmYWxzZSk7XG4gICAgICBpZiAoZGV0YWlsUHJldmlldykge1xuICAgICAgICBkZXRhaWxQcmV2aWV3LmlubmVySFRNTCA9XG4gICAgICAgICAgJzxzcGFuIGNsYXNzPVwidGV4dC1zbGF0ZS00MDAgdGV4dC1zbVwiPkF1Y3VuIG1cdTAwRTlkaWEgc1x1MDBFOWxlY3Rpb25uXHUwMEU5PC9zcGFuPic7XG4gICAgICB9XG4gICAgICBpZiAoZGV0YWlsTmFtZSkge1xuICAgICAgICBkZXRhaWxOYW1lLnRleHRDb250ZW50ID0gJyc7XG4gICAgICB9XG4gICAgICBkZXRhaWxUeXBlICYmIChkZXRhaWxUeXBlLnRleHRDb250ZW50ID0gJycpO1xuICAgICAgZGV0YWlsU2l6ZSAmJiAoZGV0YWlsU2l6ZS50ZXh0Q29udGVudCA9ICcnKTtcbiAgICAgIGlmIChkZXRhaWxBbHRJbnB1dCkge1xuICAgICAgICBkZXRhaWxBbHRJbnB1dC52YWx1ZSA9ICcnO1xuICAgICAgfVxuICAgICAgZGV0YWlsUGF0aCAmJiAoZGV0YWlsUGF0aC50ZXh0Q29udGVudCA9ICcnKTtcbiAgICAgIGlmIChkZXRhaWxVc2VkKSB7XG4gICAgICAgIGRldGFpbFVzZWQuaW5uZXJIVE1MID0gJyc7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGNsZWFyVXBsb2FkU3RhdGUgPSAoKSA9PiB7XG4gICAgICBwZW5kaW5nVXBsb2FkRmlsZSA9IG51bGw7XG4gICAgICB1cGxvYWRNb2RlID0gZmFsc2U7XG4gICAgICB1cGxvYWRJblByb2dyZXNzID0gZmFsc2U7XG4gICAgICBpZiAodXBsb2FkUHJldmlld1VybCkge1xuICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKHVwbG9hZFByZXZpZXdVcmwpO1xuICAgICAgICB1cGxvYWRQcmV2aWV3VXJsID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIHVwbG9hZFN0YXR1cyAmJiAodXBsb2FkU3RhdHVzLnRleHRDb250ZW50ID0gJ0F1Y3VuIGZpY2hpZXIgc1x1MDBFOWxlY3Rpb25uXHUwMEU5LicpO1xuICAgICAgZmlsZUlucHV0ICYmIChmaWxlSW5wdXQudmFsdWUgPSAnJyk7XG4gICAgfTtcblxuICAgIGNvbnN0IHVwZGF0ZUNvdW50QmFkZ2UgPSAoKSA9PiB7XG4gICAgICBpZiAoIWNvdW50QmFkZ2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFmaWx0ZXJlZEl0ZW1zLmxlbmd0aCkge1xuICAgICAgICBjb3VudEJhZGdlLnRleHRDb250ZW50ID0gJzAgbVx1MDBFOWRpYSc7XG4gICAgICB9IGVsc2UgaWYgKGZpbHRlcmVkSXRlbXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGNvdW50QmFkZ2UudGV4dENvbnRlbnQgPSAnMSBtXHUwMEU5ZGlhJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvdW50QmFkZ2UudGV4dENvbnRlbnQgPSBgJHtmaWx0ZXJlZEl0ZW1zLmxlbmd0aH0gbVx1MDBFOWRpYXNgO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCByZW5kZXJHcmlkID0gKCkgPT4ge1xuICAgICAgZ3JpZC5pbm5lckhUTUwgPSAnJztcbiAgICAgIGlmICghZmlsdGVyZWRJdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgZW1wdHlTdGF0ZT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIHJlc2V0RGV0YWlsUGFuZWwoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZW1wdHlTdGF0ZT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBmaWx0ZXJlZEl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgICAgY29uc3QgY2FyZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICBjYXJkLnR5cGUgPSAnYnV0dG9uJztcbiAgICAgICAgY2FyZC5kYXRhc2V0Lm1lZGlhSWQgPSBpdGVtLmlkO1xuICAgICAgICBjb25zdCBpc0FjdGl2ZSA9IGl0ZW0uaWQgPT09IGFjdGl2ZU1lZGlhSWQ7XG4gICAgICAgIGNhcmQuY2xhc3NOYW1lID0gW1xuICAgICAgICAgICdncm91cCByZWxhdGl2ZSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtMnhsIGJvcmRlciBweC0zIHB5LTMgdGV4dC1sZWZ0IHRyYW5zaXRpb24gZm9jdXMtdmlzaWJsZTpvdXRsaW5lIGZvY3VzLXZpc2libGU6b3V0bGluZS0yIGZvY3VzLXZpc2libGU6b3V0bGluZS1vZmZzZXQtMiBmb2N1cy12aXNpYmxlOm91dGxpbmUtWyM5QzZCRkZdJyxcbiAgICAgICAgICBpc0FjdGl2ZVxuICAgICAgICAgICAgPyAnYm9yZGVyLVsjOUM2QkZGXSBiZy1bI0Y3RjBGRl0vNjAgc2hhZG93LXNtJ1xuICAgICAgICAgICAgOiAnYm9yZGVyLXNsYXRlLTIwMCBob3Zlcjpib3JkZXItWyM5QzZCRkZdLzQwJyxcbiAgICAgICAgXS5qb2luKCcgJyk7XG4gICAgICAgIGNvbnN0IHByZXZpZXcgPSBpc0ltYWdlVHlwZShpdGVtKVxuICAgICAgICAgID8gYDxpbWcgc3JjPVwiJHtpdGVtLnBhdGh9XCIgYWx0PVwiJHtpdGVtLmFsdCB8fCBpdGVtLmZpbGVuYW1lfVwiIGNsYXNzPVwiaC1mdWxsIHctZnVsbCBvYmplY3QtY292ZXJcIiAvPmBcbiAgICAgICAgICA6IGA8ZGl2IGNsYXNzPVwiZmxleCBoLWZ1bGwgdy1mdWxsIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB0ZXh0LTN4bCB0ZXh0LXNsYXRlLTQwMFwiPlx1RDgzRFx1RENDNDwvZGl2PmA7XG4gICAgICAgIGNhcmQuaW5uZXJIVE1MID0gYFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJyZWxhdGl2ZSBhc3BlY3QtWzQvM10gb3ZlcmZsb3ctaGlkZGVuIHJvdW5kZWQteGwgYmctc2xhdGUtMTAwXCI+XG4gICAgICAgICAgICAke3ByZXZpZXd9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cIm10LTIgc3BhY2UteS0xXCI+XG4gICAgICAgICAgICA8cCBjbGFzcz1cInRleHQtc20gZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTkwMCB0cnVuY2F0ZVwiPiR7aXRlbS5maWxlbmFtZX08L3A+XG4gICAgICAgICAgICA8cCBjbGFzcz1cInRleHQteHMgdGV4dC1zbGF0ZS01MDBcIj5cbiAgICAgICAgICAgICAgJHtmb3JtYXRUeXBlTGFiZWwoaXRlbSl9IFx1MDBCNyAke2Zvcm1hdEZpbGVTaXplKGl0ZW0uc2l6ZSl9XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIGA7XG4gICAgICAgIGlmIChpdGVtLmlkID09PSBoaWdobGlnaHRNZWRpYUlkKSB7XG4gICAgICAgICAgY2FyZC5jbGFzc0xpc3QuYWRkKCdyaW5nLTInLCAncmluZy1bIzlDNkJGRl0nKTtcbiAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBjYXJkLmNsYXNzTGlzdC5yZW1vdmUoJ3JpbmctMicsICdyaW5nLVsjOUM2QkZGXScpO1xuICAgICAgICAgIH0sIDE2MDApO1xuICAgICAgICB9XG4gICAgICAgIGNhcmQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBzZWxlY3RNZWRpYShpdGVtLmlkKSk7XG4gICAgICAgIGdyaWQuYXBwZW5kQ2hpbGQoY2FyZCk7XG4gICAgICB9KTtcbiAgICAgIGhpZ2hsaWdodE1lZGlhSWQgPSBudWxsO1xuICAgIH07XG5cbiAgICBjb25zdCByZW5kZXJVc2VkSW4gPSAoaXRlbSkgPT4ge1xuICAgICAgaWYgKCFkZXRhaWxVc2VkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGRldGFpbFVzZWQuaW5uZXJIVE1MID0gJyc7XG4gICAgICBpZiAoIWl0ZW0udXNlZEluIHx8IGl0ZW0udXNlZEluLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICAgIGxpLnRleHRDb250ZW50ID0gJ05vbiB1dGlsaXNcdTAwRTknO1xuICAgICAgICBsaS5jbGFzc05hbWUgPSAndGV4dC14cyB0ZXh0LXNsYXRlLTQwMCc7XG4gICAgICAgIGRldGFpbFVzZWQuYXBwZW5kQ2hpbGQobGkpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpdGVtLnVzZWRJbi5mb3JFYWNoKChlbnRyeSkgPT4ge1xuICAgICAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICAgIGxpLnRleHRDb250ZW50ID0gZW50cnk7XG4gICAgICAgIGxpLmNsYXNzTmFtZSA9ICd0ZXh0LXhzIHRleHQtc2xhdGUtNjAwJztcbiAgICAgICAgZGV0YWlsVXNlZC5hcHBlbmRDaGlsZChsaSk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgdXBkYXRlRGV0YWlsQWN0aW9ucyA9IChzYXZpbmcpID0+IHtcbiAgICAgIGlmICghZGV0YWlsU2F2ZUJ1dHRvbikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAodXBsb2FkTW9kZSkge1xuICAgICAgICBkZXRhaWxTYXZlQnV0dG9uLnRleHRDb250ZW50ID0gc2F2aW5nID8gJ1RcdTAwRTlsXHUwMEU5dmVyc2VtZW50XHUyMDI2JyA6ICdUXHUwMEU5bFx1MDBFOXZlcnNlcic7XG4gICAgICAgIGRldGFpbFNhdmVCdXR0b24uZGlzYWJsZWQgPSBzYXZpbmcgfHwgIXBlbmRpbmdVcGxvYWRGaWxlO1xuICAgICAgICBpZiAoZGV0YWlsRGVsZXRlQnV0dG9uKSB7XG4gICAgICAgICAgZGV0YWlsRGVsZXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGRldGFpbFNhdmVCdXR0b24udGV4dENvbnRlbnQgPSBzYXZpbmcgPyAnRW5yZWdpc3RyZW1lbnRcdTIwMjYnIDogJ0VucmVnaXN0cmVyJztcbiAgICAgIGRldGFpbFNhdmVCdXR0b24uZGlzYWJsZWQgPSBzYXZpbmcgfHwgIWRldGFpbERpcnR5O1xuICAgICAgaWYgKGRldGFpbERlbGV0ZUJ1dHRvbikge1xuICAgICAgICBkZXRhaWxEZWxldGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIGRldGFpbERlbGV0ZUJ1dHRvbi5kaXNhYmxlZCA9ICFhY3RpdmVNZWRpYUlkO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBzZWxlY3RNZWRpYSA9IChtZWRpYUlkKSA9PiB7XG4gICAgICBjb25zdCBpdGVtID0gbWVkaWFJdGVtcy5maW5kKChlbnRyeSkgPT4gZW50cnkuaWQgPT09IG1lZGlhSWQpO1xuICAgICAgaWYgKCFpdGVtKSB7XG4gICAgICAgIHJlc2V0RGV0YWlsUGFuZWwoKTtcbiAgICAgICAgcmVuZGVyR3JpZCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjbGVhclVwbG9hZFN0YXRlKCk7XG4gICAgICBhY3RpdmVNZWRpYUlkID0gaXRlbS5pZDtcbiAgICAgIGRldGFpbERpcnR5ID0gZmFsc2U7XG4gICAgICB1cGRhdGVEZXRhaWxBY3Rpb25zKGZhbHNlKTtcbiAgICAgIHJlbmRlckdyaWQoKTtcbiAgICAgIGRldGFpbEVtcHR5Py5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGRldGFpbFBhbmVsPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGlmIChkZXRhaWxQcmV2aWV3KSB7XG4gICAgICAgIGlmIChpc0ltYWdlVHlwZShpdGVtKSkge1xuICAgICAgICAgIGRldGFpbFByZXZpZXcuaW5uZXJIVE1MID0gYDxpbWcgc3JjPVwiJHtpdGVtLnBhdGh9XCIgYWx0PVwiJHtpdGVtLmFsdCB8fCBpdGVtLmZpbGVuYW1lfVwiIGNsYXNzPVwiaC1mdWxsIHctZnVsbCByb3VuZGVkLTJ4bCBvYmplY3QtY292ZXJcIiAvPmA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGV0YWlsUHJldmlldy5pbm5lckhUTUwgPVxuICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJmbGV4IGgtZnVsbCB3LWZ1bGwgZmxleC1jb2wgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGdhcC0xIHRleHQtc2xhdGUtNDAwXCI+PHNwYW4gY2xhc3M9XCJ0ZXh0LTN4bFwiPlx1RDgzRFx1RENDNDwvc3Bhbj48c3BhbiBjbGFzcz1cInRleHQteHMgZm9udC1zZW1pYm9sZFwiPkRvY3VtZW50PC9zcGFuPjwvZGl2Pic7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGRldGFpbE5hbWUgJiYgKGRldGFpbE5hbWUudGV4dENvbnRlbnQgPSBpdGVtLmZpbGVuYW1lIHx8ICdGaWNoaWVyJyk7XG4gICAgICBkZXRhaWxUeXBlICYmIChkZXRhaWxUeXBlLnRleHRDb250ZW50ID0gZm9ybWF0VHlwZUxhYmVsKGl0ZW0pKTtcbiAgICAgIGRldGFpbFNpemUgJiYgKGRldGFpbFNpemUudGV4dENvbnRlbnQgPSBmb3JtYXRGaWxlU2l6ZShpdGVtLnNpemUpKTtcbiAgICAgIGlmIChkZXRhaWxBbHRJbnB1dCkge1xuICAgICAgICBkZXRhaWxBbHRJbnB1dC52YWx1ZSA9IGl0ZW0uYWx0IHx8ICcnO1xuICAgICAgfVxuICAgICAgZGV0YWlsUGF0aCAmJiAoZGV0YWlsUGF0aC50ZXh0Q29udGVudCA9IGl0ZW0ucGF0aCB8fCAnXHUyMDE0Jyk7XG4gICAgICByZW5kZXJVc2VkSW4oaXRlbSk7XG4gICAgfTtcblxuICAgIGNvbnN0IHNob3dVcGxvYWRQcmV2aWV3ID0gKGZpbGUpID0+IHtcbiAgICAgIGlmICghZmlsZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB1cGxvYWRNb2RlID0gdHJ1ZTtcbiAgICAgIGRldGFpbERpcnR5ID0gZmFsc2U7XG4gICAgICBhY3RpdmVNZWRpYUlkID0gbnVsbDtcbiAgICAgIGRldGFpbEVtcHR5Py5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGRldGFpbFBhbmVsPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGlmICh1cGxvYWRQcmV2aWV3VXJsKSB7XG4gICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwodXBsb2FkUHJldmlld1VybCk7XG4gICAgICB9XG4gICAgICB1cGxvYWRQcmV2aWV3VXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKTtcbiAgICAgIGlmIChkZXRhaWxQcmV2aWV3KSB7XG4gICAgICAgIGRldGFpbFByZXZpZXcuaW5uZXJIVE1MID0gYDxpbWcgc3JjPVwiJHt1cGxvYWRQcmV2aWV3VXJsfVwiIGFsdD1cIiR7ZmlsZS5uYW1lfVwiIGNsYXNzPVwiaC1mdWxsIHctZnVsbCByb3VuZGVkLTJ4bCBvYmplY3QtY292ZXJcIiAvPmA7XG4gICAgICB9XG4gICAgICBkZXRhaWxOYW1lICYmIChkZXRhaWxOYW1lLnRleHRDb250ZW50ID0gZmlsZS5uYW1lKTtcbiAgICAgIGRldGFpbFR5cGUgJiYgKGRldGFpbFR5cGUudGV4dENvbnRlbnQgPSBmb3JtYXRUeXBlTGFiZWwoeyB0eXBlOiBmaWxlLnR5cGUsIGZpbGVuYW1lOiBmaWxlLm5hbWUgfSkpO1xuICAgICAgZGV0YWlsU2l6ZSAmJiAoZGV0YWlsU2l6ZS50ZXh0Q29udGVudCA9IGZvcm1hdEZpbGVTaXplKGZpbGUuc2l6ZSkpO1xuICAgICAgaWYgKGRldGFpbEFsdElucHV0ICYmICFkZXRhaWxBbHRJbnB1dC52YWx1ZS50cmltKCkpIHtcbiAgICAgICAgZGV0YWlsQWx0SW5wdXQudmFsdWUgPSBmaWxlLm5hbWUucmVwbGFjZSgvXFwuW14uXSskLywgJycpLnJlcGxhY2UoL1stX10vZywgJyAnKTtcbiAgICAgIH1cbiAgICAgIGRldGFpbFBhdGggJiYgKGRldGFpbFBhdGgudGV4dENvbnRlbnQgPSAnRW4gYXR0ZW50ZSBkZSB0XHUwMEU5bFx1MDBFOXZlcnNlbWVudCcpO1xuICAgICAgaWYgKGRldGFpbFVzZWQpIHtcbiAgICAgICAgZGV0YWlsVXNlZC5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgY29uc3QgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgICBsaS50ZXh0Q29udGVudCA9ICdOb24gdXRpbGlzXHUwMEU5JztcbiAgICAgICAgbGkuY2xhc3NOYW1lID0gJ3RleHQteHMgdGV4dC1zbGF0ZS00MDAnO1xuICAgICAgICBkZXRhaWxVc2VkLmFwcGVuZENoaWxkKGxpKTtcbiAgICAgIH1cbiAgICAgIHVwZGF0ZURldGFpbEFjdGlvbnMoZmFsc2UpO1xuICAgIH07XG5cbiAgICBjb25zdCBhcHBseUZpbHRlcnMgPSAoKSA9PiB7XG4gICAgICBjb25zdCB0eXBlRmlsdGVyID0gZmlsdGVyVHlwZT8udmFsdWUgfHwgJ2FsbCc7XG4gICAgICBpZiAodHlwZUZpbHRlciA9PT0gJ2FsbCcpIHtcbiAgICAgICAgZmlsdGVyZWRJdGVtcyA9IFsuLi5tZWRpYUl0ZW1zXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZpbHRlcmVkSXRlbXMgPSBtZWRpYUl0ZW1zLmZpbHRlcigoaXRlbSkgPT4gaXRlbS5ncm91cFR5cGUgPT09IHR5cGVGaWx0ZXIpO1xuICAgICAgfVxuICAgICAgaWYgKCFmaWx0ZXJlZEl0ZW1zLnNvbWUoKGl0ZW0pID0+IGl0ZW0uaWQgPT09IGFjdGl2ZU1lZGlhSWQpKSB7XG4gICAgICAgIHJlc2V0RGV0YWlsUGFuZWwoKTtcbiAgICAgIH1cbiAgICAgIHVwZGF0ZUNvdW50QmFkZ2UoKTtcbiAgICAgIHJlbmRlckdyaWQoKTtcbiAgICB9O1xuXG4gICAgY29uc3QgbG9hZE1lZGlhID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFtZWRpYUFwaUJhc2UpIHtcbiAgICAgICAgZW1wdHlTdGF0ZT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2gobWVkaWFBcGlCYXNlLCB7XG4gICAgICAgICAgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxlcyBtXHUwMEU5ZGlhcy4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7IGl0ZW1zOiBbXSB9KSk7XG4gICAgICAgIG1lZGlhSXRlbXMgPSBBcnJheS5pc0FycmF5KHBheWxvYWQuaXRlbXMpXG4gICAgICAgICAgPyBwYXlsb2FkLml0ZW1zLm1hcCgoaXRlbSkgPT4gKHsgLi4uaXRlbSwgZ3JvdXBUeXBlOiBkZXJpdmVHcm91cFR5cGUoaXRlbSkgfSkpXG4gICAgICAgICAgOiBbXTtcbiAgICAgICAgYXBwbHlGaWx0ZXJzKCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW21lZGlhXSBsb2FkIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxlcyBtXHUwMEU5ZGlhcy4nKTtcbiAgICAgICAgbWVkaWFJdGVtcyA9IFtdO1xuICAgICAgICBhcHBseUZpbHRlcnMoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgZmlsdGVyVHlwZT8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICAgICAgYXBwbHlGaWx0ZXJzKCk7XG4gICAgfSk7XG4gICAgZGV0YWlsQWx0SW5wdXQ/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgaWYgKHVwbG9hZE1vZGUpIHtcbiAgICAgICAgdXBkYXRlRGV0YWlsQWN0aW9ucyhmYWxzZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghYWN0aXZlTWVkaWFJZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBkZXRhaWxEaXJ0eSA9IHRydWU7XG4gICAgICB1cGRhdGVEZXRhaWxBY3Rpb25zKGZhbHNlKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IGhhbmRsZUZpbGVTZWxlY3Rpb24gPSAoZmlsZSkgPT4ge1xuICAgICAgaWYgKCFmaWxlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghZmlsZS50eXBlLnN0YXJ0c1dpdGgoJ2ltYWdlLycpKSB7XG4gICAgICAgIHNob3dUb2FzdCgnU2V1bGVzIGxlcyBpbWFnZXMgc29udCBhY2NlcHRcdTAwRTllcyBwb3VyIGxlIG1vbWVudC4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGZpbGUuc2l6ZSA+IDQgKiAxMDI0ICogMTAyNCkge1xuICAgICAgICBzaG93VG9hc3QoJ0ZpY2hpZXIgdHJvcCB2b2x1bWluZXV4ICg0IE1vIG1heCkuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHBlbmRpbmdVcGxvYWRGaWxlID0gZmlsZTtcbiAgICAgIHNob3dVcGxvYWRQcmV2aWV3KGZpbGUpO1xuICAgICAgaWYgKHVwbG9hZFN0YXR1cykge1xuICAgICAgICB1cGxvYWRTdGF0dXMudGV4dENvbnRlbnQgPSBgJHtmaWxlLm5hbWV9IFx1MDBCNyAke2Zvcm1hdEZpbGVTaXplKGZpbGUuc2l6ZSl9YDtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgcmVhZEZpbGVBc0Jhc2U2NCA9IChmaWxlKSA9PlxuICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgICByZWFkZXIub25sb2FkID0gKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHJlYWRlci5yZXN1bHQgfHwgJyc7XG4gICAgICAgICAgY29uc3QgWywgYmFzZTY0ID0gJyddID0gU3RyaW5nKHJlc3VsdCkuc3BsaXQoJywnKTtcbiAgICAgICAgICByZXNvbHZlKGJhc2U2NCk7XG4gICAgICAgIH07XG4gICAgICAgIHJlYWRlci5vbmVycm9yID0gKCkgPT4gcmVqZWN0KG5ldyBFcnJvcignSW1wb3NzaWJsZSBkZSBsaXJlIGNlIGZpY2hpZXIuJykpO1xuICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcbiAgICAgIH0pO1xuXG4gICAgY29uc3QgdXBsb2FkU2VsZWN0ZWRNZWRpYSA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghcGVuZGluZ1VwbG9hZEZpbGUgfHwgIW1lZGlhQXBpQmFzZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB1cGxvYWRJblByb2dyZXNzID0gdHJ1ZTtcbiAgICAgIHVwZGF0ZURldGFpbEFjdGlvbnModHJ1ZSk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBiYXNlNjQgPSBhd2FpdCByZWFkRmlsZUFzQmFzZTY0KHBlbmRpbmdVcGxvYWRGaWxlKTtcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgICBmaWxlbmFtZTogcGVuZGluZ1VwbG9hZEZpbGUubmFtZSxcbiAgICAgICAgICB0eXBlOiBwZW5kaW5nVXBsb2FkRmlsZS50eXBlLFxuICAgICAgICAgIHNpemU6IHBlbmRpbmdVcGxvYWRGaWxlLnNpemUsXG4gICAgICAgICAgYWx0OiBkZXRhaWxBbHRJbnB1dD8udmFsdWUgfHwgJycsXG4gICAgICAgICAgZGF0YTogYmFzZTY0LFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKG1lZGlhQXBpQmFzZSwge1xuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnN0IGVycm9yUGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JQYXlsb2FkLm1lc3NhZ2UgfHwgJ1VwbG9hZCBpbXBvc3NpYmxlLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNhdmVkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBzYXZlZC5ncm91cFR5cGUgPSBkZXJpdmVHcm91cFR5cGUoc2F2ZWQpO1xuICAgICAgICBtZWRpYUl0ZW1zID0gWy4uLm1lZGlhSXRlbXMsIHNhdmVkXTtcbiAgICAgICAgaGlnaGxpZ2h0TWVkaWFJZCA9IHNhdmVkLmlkO1xuICAgICAgICBhcHBseUZpbHRlcnMoKTtcbiAgICAgICAgc2VsZWN0TWVkaWEoc2F2ZWQuaWQpO1xuICAgICAgICBzaG93VG9hc3QoJ01cdTAwRTlkaWEgYWpvdXRcdTAwRTknKTtcbiAgICAgICAgY2xlYXJVcGxvYWRTdGF0ZSgpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1ttZWRpYV0gdXBsb2FkIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSB0XHUwMEU5bFx1MDBFOXZlcnNlciBjZSBtXHUwMEU5ZGlhLicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgdXBsb2FkSW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgICAgICBwZW5kaW5nVXBsb2FkRmlsZSA9IG51bGw7XG4gICAgICAgIHVwZGF0ZURldGFpbEFjdGlvbnMoZmFsc2UpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB1cGxvYWRPcGVuQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGZpbGVJbnB1dD8uY2xpY2soKSk7XG4gICAgZmlsZUlucHV0Py5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgICBpZiAoZmlsZUlucHV0LmZpbGVzICYmIGZpbGVJbnB1dC5maWxlc1swXSkge1xuICAgICAgICBoYW5kbGVGaWxlU2VsZWN0aW9uKGZpbGVJbnB1dC5maWxlc1swXSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgY29uc3QgY2xvc2VEZWxldGVNb2RhbCA9ICgpID0+IHtcbiAgICAgIGlmICghZGVsZXRlTW9kYWwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZGVsZXRlTW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBkZWxldGVNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdmbGV4Jyk7XG4gICAgfTtcblxuICAgIGNvbnN0IG9wZW5EZWxldGVNb2RhbCA9ICgpID0+IHtcbiAgICAgIGlmICghYWN0aXZlTWVkaWFJZCB8fCB1cGxvYWRNb2RlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChkZWxldGVNb2RhbCkge1xuICAgICAgICBkZWxldGVNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgZGVsZXRlTW9kYWwuY2xhc3NMaXN0LmFkZCgnZmxleCcpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBGYWxsYmFjayBzaSBhdWN1bmUgbW9kYWxlIG4nZXN0IGRpc3BvbmlibGVcbiAgICAgIGlmICh3aW5kb3cuY29uZmlybSgnU3VwcHJpbWVyIGNlIG1cdTAwRTlkaWEgPycpKSB7XG4gICAgICAgIGRlbGV0ZUFjdGl2ZU1lZGlhKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGRlbGV0ZUFjdGl2ZU1lZGlhID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFhY3RpdmVNZWRpYUlkIHx8ICFtZWRpYUFwaUJhc2UpIHtcbiAgICAgICAgY2xvc2VEZWxldGVNb2RhbCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBkaXNhYmxlQnV0dG9ucyA9ICgpID0+IHtcbiAgICAgICAgaWYgKGRldGFpbERlbGV0ZUJ1dHRvbikge1xuICAgICAgICAgIGRldGFpbERlbGV0ZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlbGV0ZUNvbmZpcm1CdXR0b24pIHtcbiAgICAgICAgICBkZWxldGVDb25maXJtQnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgICBkZWxldGVDb25maXJtQnV0dG9uLnRleHRDb250ZW50ID0gJ1N1cHByZXNzaW9uXHUyMDI2JztcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGNvbnN0IGVuYWJsZUJ1dHRvbnMgPSAoKSA9PiB7XG4gICAgICAgIGlmIChkZXRhaWxEZWxldGVCdXR0b24pIHtcbiAgICAgICAgICBkZXRhaWxEZWxldGVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVsZXRlQ29uZmlybUJ1dHRvbikge1xuICAgICAgICAgIGRlbGV0ZUNvbmZpcm1CdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICBkZWxldGVDb25maXJtQnV0dG9uLnRleHRDb250ZW50ID0gJ1N1cHByaW1lcic7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBkaXNhYmxlQnV0dG9ucygpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgICBgJHttZWRpYUFwaUJhc2V9LyR7ZW5jb2RlVVJJQ29tcG9uZW50KGFjdGl2ZU1lZGlhSWQpfWAsXG4gICAgICAgICAgeyBtZXRob2Q6ICdERUxFVEUnIH0sXG4gICAgICAgICk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihwYXlsb2FkLm1lc3NhZ2UgfHwgJ1N1cHByZXNzaW9uIGltcG9zc2libGUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgbWVkaWFJdGVtcyA9IG1lZGlhSXRlbXMuZmlsdGVyKChpdGVtKSA9PiBpdGVtLmlkICE9PSBhY3RpdmVNZWRpYUlkKTtcbiAgICAgICAgZmlsdGVyZWRJdGVtcyA9IGZpbHRlcmVkSXRlbXMuZmlsdGVyKChpdGVtKSA9PiBpdGVtLmlkICE9PSBhY3RpdmVNZWRpYUlkKTtcbiAgICAgICAgc2hvd1RvYXN0KCdNXHUwMEU5ZGlhIHN1cHByaW1cdTAwRTknKTtcbiAgICAgICAgcmVzZXREZXRhaWxQYW5lbCgpO1xuICAgICAgICB1cGRhdGVDb3VudEJhZGdlKCk7XG4gICAgICAgIHJlbmRlckdyaWQoKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbbWVkaWFdIGRlbGV0ZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgc3VwcHJpbWVyIGNlIG1cdTAwRTlkaWEuJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBlbmFibGVCdXR0b25zKCk7XG4gICAgICAgIGNsb3NlRGVsZXRlTW9kYWwoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgZGVsZXRlQ2FuY2VsQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlRGVsZXRlTW9kYWwpO1xuICAgIGRlbGV0ZU1vZGFsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gZGVsZXRlTW9kYWwpIHtcbiAgICAgICAgY2xvc2VEZWxldGVNb2RhbCgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgZGVsZXRlQ29uZmlybUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBkZWxldGVBY3RpdmVNZWRpYSgpKTtcbiAgICBkZXRhaWxEZWxldGVCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlbkRlbGV0ZU1vZGFsKTtcblxuICAgIGRldGFpbFNhdmVCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKHVwbG9hZE1vZGUpIHtcbiAgICAgICAgdXBsb2FkU2VsZWN0ZWRNZWRpYSgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWFjdGl2ZU1lZGlhSWQgfHwgIW1lZGlhQXBpQmFzZSB8fCAhZGV0YWlsQWx0SW5wdXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdXBkYXRlRGV0YWlsQWN0aW9ucyh0cnVlKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSB7IGFsdDogZGV0YWlsQWx0SW5wdXQudmFsdWUgfHwgJycgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgICBgJHttZWRpYUFwaUJhc2V9LyR7ZW5jb2RlVVJJQ29tcG9uZW50KGFjdGl2ZU1lZGlhSWQpfWAsXG4gICAgICAgICAge1xuICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgICAgfSxcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnN0IGVycm9yUGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JQYXlsb2FkLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgbWV0dHJlIFx1MDBFMCBqb3VyIGNlIG1cdTAwRTlkaWEuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdXBkYXRlZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgbWVkaWFJdGVtcyA9IG1lZGlhSXRlbXMubWFwKChpdGVtKSA9PlxuICAgICAgICAgIGl0ZW0uaWQgPT09IGFjdGl2ZU1lZGlhSWQgPyB7IC4uLml0ZW0sIC4uLnVwZGF0ZWQgfSA6IGl0ZW0sXG4gICAgICAgICk7XG4gICAgICAgIGZpbHRlcmVkSXRlbXMgPSBmaWx0ZXJlZEl0ZW1zLm1hcCgoaXRlbSkgPT5cbiAgICAgICAgICBpdGVtLmlkID09PSBhY3RpdmVNZWRpYUlkID8geyAuLi5pdGVtLCAuLi51cGRhdGVkIH0gOiBpdGVtLFxuICAgICAgICApO1xuICAgICAgICBkZXRhaWxEaXJ0eSA9IGZhbHNlO1xuICAgICAgICB1cGRhdGVEZXRhaWxBY3Rpb25zKGZhbHNlKTtcbiAgICAgICAgc2hvd1RvYXN0KCdNXHUwMEU5ZGlhIG1pcyBcdTAwRTAgam91cicpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1ttZWRpYV0gdXBkYXRlIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnXHUwMEM5Y2hlYyBkZSBsYSBtaXNlIFx1MDBFMCBqb3VyLicpO1xuICAgICAgICB1cGRhdGVEZXRhaWxBY3Rpb25zKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGxvYWRNZWRpYSgpO1xuICB9XG5cbiAgLy8gXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXG4gIC8vIEFJIENIQVQgLSBBc3Npc3RhbnQgSUEgY29udGV4dHVlbFxuICAvLyBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcblxuICBjb25zdCBhaUNoYXRUb2dnbGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWktY2hhdC10b2dnbGUnKTtcbiAgY29uc3QgYWlDaGF0UGFuZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWktY2hhdC1wYW5lbCcpO1xuICBjb25zdCBhaUNoYXRPdmVybGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FpLWNoYXQtb3ZlcmxheScpO1xuICBjb25zdCBhaUNoYXRDbG9zZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhaS1jaGF0LWNsb3NlJyk7XG4gIGNvbnN0IGFpQ2hhdENsZWFyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FpLWNoYXQtY2xlYXInKTtcbiAgY29uc3QgYWlDaGF0Rm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhaS1jaGF0LWZvcm0nKTtcbiAgY29uc3QgYWlDaGF0SW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWktY2hhdC1pbnB1dCcpO1xuICBjb25zdCBhaUNoYXRNZXNzYWdlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhaS1jaGF0LW1lc3NhZ2VzJyk7XG4gIGNvbnN0IGFpQ2hhdFN0YXR1cyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhaS1jaGF0LXN0YXR1cycpO1xuICBjb25zdCBhaUNoYXROb0FwaSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhaS1jaGF0LW5vLWFwaScpO1xuICBjb25zdCBhaVF1aWNrQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWFpLXF1aWNrXScpO1xuXG4gIGxldCBhaUNoYXRPcGVuID0gZmFsc2U7XG4gIGxldCBhaUlzTG9hZGluZyA9IGZhbHNlO1xuICBsZXQgYWlDb25maWdDaGVja2VkID0gZmFsc2U7XG4gIGxldCBhaUhhc0FwaUtleSA9IGZhbHNlO1xuXG4gIC8qKlxuICAgKiBPdXZyZSBsZSBwYW5lbCBkZSBjaGF0IElBXG4gICAqL1xuICBmdW5jdGlvbiBvcGVuQUlDaGF0KCkge1xuICAgIGlmICghYWlDaGF0UGFuZWwpIHJldHVybjtcbiAgICBhaUNoYXRPcGVuID0gdHJ1ZTtcbiAgICBhaUNoYXRQYW5lbC5jbGFzc0xpc3QucmVtb3ZlKCd0cmFuc2xhdGUteC1mdWxsJyk7XG4gICAgYWlDaGF0UGFuZWwuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICdmYWxzZScpO1xuICAgIGFpQ2hhdE92ZXJsYXk/LmNsYXNzTGlzdC5yZW1vdmUoJ29wYWNpdHktMCcsICdwb2ludGVyLWV2ZW50cy1ub25lJyk7XG4gICAgYWlDaGF0T3ZlcmxheT8uY2xhc3NMaXN0LmFkZCgnb3BhY2l0eS0xMDAnKTtcbiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ292ZXJmbG93LWhpZGRlbicpO1xuICAgIGFpQ2hhdElucHV0Py5mb2N1cygpO1xuXG4gICAgLy8gVlx1MDBFOXJpZmllciBsYSBjb25maWcgQUkgYXUgcHJlbWllciBvdXZlcnR1cmVcbiAgICBpZiAoIWFpQ29uZmlnQ2hlY2tlZCkge1xuICAgICAgY2hlY2tBSUNvbmZpZygpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBGZXJtZSBsZSBwYW5lbCBkZSBjaGF0IElBXG4gICAqL1xuICBmdW5jdGlvbiBjbG9zZUFJQ2hhdCgpIHtcbiAgICBpZiAoIWFpQ2hhdFBhbmVsKSByZXR1cm47XG4gICAgYWlDaGF0T3BlbiA9IGZhbHNlO1xuICAgIGFpQ2hhdFBhbmVsLmNsYXNzTGlzdC5hZGQoJ3RyYW5zbGF0ZS14LWZ1bGwnKTtcbiAgICBhaUNoYXRQYW5lbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcbiAgICBhaUNoYXRPdmVybGF5Py5jbGFzc0xpc3QuYWRkKCdvcGFjaXR5LTAnLCAncG9pbnRlci1ldmVudHMtbm9uZScpO1xuICAgIGFpQ2hhdE92ZXJsYXk/LmNsYXNzTGlzdC5yZW1vdmUoJ29wYWNpdHktMTAwJyk7XG4gICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBWXHUwMEU5cmlmaWUgc2kgbCdBUEkgQUkgZXN0IGNvbmZpZ3VyXHUwMEU5ZVxuICAgKi9cbiAgYXN5bmMgZnVuY3Rpb24gY2hlY2tBSUNvbmZpZygpIHtcbiAgICBjb25zdCBzaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyk7XG4gICAgaWYgKCFzaXRlU2x1Zykge1xuICAgICAgYWlDaGF0Tm9BcGk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzaXRlU2x1Zyl9L2NvbmZpZy9haWApO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykgdGhyb3cgbmV3IEVycm9yKCdDb25maWcgY2hlY2sgZmFpbGVkJyk7XG4gICAgICBjb25zdCBjb25maWcgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBhaUNvbmZpZ0NoZWNrZWQgPSB0cnVlO1xuICAgICAgYWlIYXNBcGlLZXkgPSBjb25maWcuaGFzQXBpS2V5O1xuICAgICAgXG4gICAgICBpZiAoIWNvbmZpZy5lbmFibGVkIHx8ICFjb25maWcuaGFzQXBpS2V5KSB7XG4gICAgICAgIGFpQ2hhdE5vQXBpPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFpQ2hhdE5vQXBpPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgLy8gQ2hhcmdlciBsJ2hpc3RvcmlxdWVcbiAgICAgICAgbG9hZEFJQ2hhdEhpc3RvcnkoKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tBSV0gQ29uZmlnIGNoZWNrIGZhaWxlZDonLCBlcnIpO1xuICAgICAgYWlDaGF0Tm9BcGk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDaGFyZ2UgbCdoaXN0b3JpcXVlIGRlIGNvbnZlcnNhdGlvblxuICAgKi9cbiAgYXN5bmMgZnVuY3Rpb24gbG9hZEFJQ2hhdEhpc3RvcnkoKSB7XG4gICAgY29uc3Qgc2l0ZVNsdWcgPSBzdHJpcExlYWRpbmdTbGFzaChzdG9yZWRTaXRlLnNsdWcgfHwgJycpO1xuICAgIGlmICghc2l0ZVNsdWcgfHwgIWFpQ2hhdE1lc3NhZ2VzKSByZXR1cm47XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2l0ZVNsdWcpfS9haS9oaXN0b3J5YCk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSByZXR1cm47XG4gICAgICBcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBpZiAoZGF0YS5tZXNzYWdlcyAmJiBkYXRhLm1lc3NhZ2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgLy8gRWZmYWNlciBsZSBtZXNzYWdlIGRlIGJpZW52ZW51ZVxuICAgICAgICBjb25zdCB3ZWxjb21lTXNnID0gYWlDaGF0TWVzc2FnZXMucXVlcnlTZWxlY3RvcignW2RhdGEtYWktd2VsY29tZV0nKTtcbiAgICAgICAgaWYgKHdlbGNvbWVNc2cpIHdlbGNvbWVNc2cucmVtb3ZlKCk7XG4gICAgICAgIFxuICAgICAgICAvLyBBZmZpY2hlciBsZXMgbWVzc2FnZXNcbiAgICAgICAgZGF0YS5tZXNzYWdlcy5mb3JFYWNoKG1zZyA9PiB7XG4gICAgICAgICAgYXBwZW5kQUlNZXNzYWdlKG1zZy5jb250ZW50LCBtc2cucm9sZSA9PT0gJ3VzZXInID8gJ3VzZXInIDogJ2Fzc2lzdGFudCcpO1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIFNjcm9sbCB2ZXJzIGxlIGJhc1xuICAgICAgICBhaUNoYXRNZXNzYWdlcy5zY3JvbGxUb3AgPSBhaUNoYXRNZXNzYWdlcy5zY3JvbGxIZWlnaHQ7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdbQUldIEhpc3RvcnkgbG9hZCBmYWlsZWQ6JywgZXJyKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQWpvdXRlIHVuIG1lc3NhZ2UgYXUgY2hhdFxuICAgKi9cbiAgZnVuY3Rpb24gYXBwZW5kQUlNZXNzYWdlKGNvbnRlbnQsIHJvbGUgPSAnYXNzaXN0YW50Jykge1xuICAgIGlmICghYWlDaGF0TWVzc2FnZXMpIHJldHVybjtcbiAgICBcbiAgICBjb25zdCBtc2dEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBtc2dEaXYuY2xhc3NOYW1lID0gJ2ZsZXggZ2FwLTMnO1xuICAgIFxuICAgIGlmIChyb2xlID09PSAndXNlcicpIHtcbiAgICAgIG1zZ0Rpdi5pbm5lckhUTUwgPSBgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4LTFcIj48L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm1heC13LVs4MCVdIGJnLXZpb2xldC02MDAgdGV4dC13aGl0ZSByb3VuZGVkLTJ4bCByb3VuZGVkLXRyLW5vbmUgcC0zXCI+XG4gICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXNtIHdoaXRlc3BhY2UtcHJlLXdyYXBcIj4ke2VzY2FwZUh0bWwoY29udGVudCl9PC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInctOCBoLTggcm91bmRlZC1mdWxsIGJnLXNsYXRlLTIwMCBmbGV4LXNocmluay0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgPHN2ZyBjbGFzcz1cInctNCBoLTQgdGV4dC1zbGF0ZS01MDBcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgIDxwYXRoIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE2IDdhNCA0IDAgMTEtOCAwIDQgNCAwIDAxOCAwek0xMiAxNGE3IDcgMCAwMC03IDdoMTRhNyA3IDAgMDAtNy03elwiLz5cbiAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgPC9kaXY+XG4gICAgICBgO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBGb3JtYXR0ZXIgbGUgY29udGVudSBNYXJrZG93biBiYXNpcXVlXG4gICAgICBjb25zdCBmb3JtYXR0ZWRDb250ZW50ID0gZm9ybWF0QUlSZXNwb25zZShjb250ZW50KTtcbiAgICAgIG1zZ0Rpdi5pbm5lckhUTUwgPSBgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJ3LTggaC04IHJvdW5kZWQtZnVsbCBiZy1ncmFkaWVudC10by1iciBmcm9tLXZpb2xldC01MDAgdG8taW5kaWdvLTYwMCBmbGV4LXNocmluay0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgPHN2ZyBjbGFzcz1cInctNCBoLTQgdGV4dC13aGl0ZVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgPHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNOS42NjMgMTdoNC42NzNNMTIgM3YxbTYuMzY0IDEuNjM2bC0uNzA3LjcwN00yMSAxMmgtMU00IDEySDNtMy4zNDMtNS42NTdsLS43MDctLjcwN20yLjgyOCA5LjlhNSA1IDAgMTE3LjA3MiAwbC0uNTQ4LjU0N0EzLjM3NCAzLjM3NCAwIDAwMTQgMTguNDY5VjE5YTIgMiAwIDExLTQgMHYtLjUzMWMwLS44OTUtLjM1Ni0xLjc1NC0uOTg4LTIuMzg2bC0uNTQ4LS41NDd6XCIvPlxuICAgICAgICAgIDwvc3ZnPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImZsZXgtMSBiZy1zbGF0ZS01MCByb3VuZGVkLTJ4bCByb3VuZGVkLXRsLW5vbmUgcC0zIG92ZXJmbG93LXgtYXV0b1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LXNtIHRleHQtc2xhdGUtNzAwIHByb3NlIHByb3NlLXNtIG1heC13LW5vbmUgWyY+cHJlXTpiZy1zbGF0ZS04MDAgWyY+cHJlXTp0ZXh0LXNsYXRlLTEwMCBbJj5wcmVdOnJvdW5kZWQtbGcgWyY+cHJlXTpwLTMgWyY+cHJlXTpvdmVyZmxvdy14LWF1dG8gWyY+Y29kZV06Ymctc2xhdGUtMjAwIFsmPmNvZGVdOnB4LTEgWyY+Y29kZV06cm91bmRlZFwiPiR7Zm9ybWF0dGVkQ29udGVudH08L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICBgO1xuICAgIH1cbiAgICBcbiAgICBhaUNoYXRNZXNzYWdlcy5hcHBlbmRDaGlsZChtc2dEaXYpO1xuICAgIGFpQ2hhdE1lc3NhZ2VzLnNjcm9sbFRvcCA9IGFpQ2hhdE1lc3NhZ2VzLnNjcm9sbEhlaWdodDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZmZpY2hlIHVuIGluZGljYXRldXIgZGUgY2hhcmdlbWVudFxuICAgKi9cbiAgZnVuY3Rpb24gc2hvd0FJTG9hZGluZygpIHtcbiAgICBpZiAoIWFpQ2hhdE1lc3NhZ2VzKSByZXR1cm47XG4gICAgXG4gICAgY29uc3QgbG9hZGluZ0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGxvYWRpbmdEaXYuY2xhc3NOYW1lID0gJ2ZsZXggZ2FwLTMnO1xuICAgIGxvYWRpbmdEaXYuaWQgPSAnYWktbG9hZGluZy1pbmRpY2F0b3InO1xuICAgIGxvYWRpbmdEaXYuaW5uZXJIVE1MID0gYFxuICAgICAgPGRpdiBjbGFzcz1cInctOCBoLTggcm91bmRlZC1mdWxsIGJnLWdyYWRpZW50LXRvLWJyIGZyb20tdmlvbGV0LTUwMCB0by1pbmRpZ28tNjAwIGZsZXgtc2hyaW5rLTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgPHN2ZyBjbGFzcz1cInctNCBoLTQgdGV4dC13aGl0ZSBhbmltYXRlLXB1bHNlXCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgPHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNOS42NjMgMTdoNC42NzNNMTIgM3YxbTYuMzY0IDEuNjM2bC0uNzA3LjcwN00yMSAxMmgtMU00IDEySDNtMy4zNDMtNS42NTdsLS43MDctLjcwN20yLjgyOCA5LjlhNSA1IDAgMTE3LjA3MiAwbC0uNTQ4LjU0N0EzLjM3NCAzLjM3NCAwIDAwMTQgMTguNDY5VjE5YTIgMiAwIDExLTQgMHYtLjUzMWMwLS44OTUtLjM1Ni0xLjc1NC0uOTg4LTIuMzg2bC0uNTQ4LS41NDd6XCIvPlxuICAgICAgICA8L3N2Zz5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cImZsZXgtMSBiZy1zbGF0ZS01MCByb3VuZGVkLTJ4bCByb3VuZGVkLXRsLW5vbmUgcC0zXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ3LTIgaC0yIGJnLXZpb2xldC00MDAgcm91bmRlZC1mdWxsIGFuaW1hdGUtYm91bmNlXCIgc3R5bGU9XCJhbmltYXRpb24tZGVsYXk6IDBtc1wiPjwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ3LTIgaC0yIGJnLXZpb2xldC00MDAgcm91bmRlZC1mdWxsIGFuaW1hdGUtYm91bmNlXCIgc3R5bGU9XCJhbmltYXRpb24tZGVsYXk6IDE1MG1zXCI+PC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInctMiBoLTIgYmctdmlvbGV0LTQwMCByb3VuZGVkLWZ1bGwgYW5pbWF0ZS1ib3VuY2VcIiBzdHlsZT1cImFuaW1hdGlvbi1kZWxheTogMzAwbXNcIj48L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICBgO1xuICAgIFxuICAgIGFpQ2hhdE1lc3NhZ2VzLmFwcGVuZENoaWxkKGxvYWRpbmdEaXYpO1xuICAgIGFpQ2hhdE1lc3NhZ2VzLnNjcm9sbFRvcCA9IGFpQ2hhdE1lc3NhZ2VzLnNjcm9sbEhlaWdodDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWNoZSBsJ2luZGljYXRldXIgZGUgY2hhcmdlbWVudFxuICAgKi9cbiAgZnVuY3Rpb24gaGlkZUFJTG9hZGluZygpIHtcbiAgICBjb25zdCBsb2FkaW5nRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FpLWxvYWRpbmctaW5kaWNhdG9yJyk7XG4gICAgbG9hZGluZ0Rpdj8ucmVtb3ZlKCk7XG4gIH1cblxuICAvKipcbiAgICogRm9ybWF0ZSBsYSByXHUwMEU5cG9uc2UgZGUgbCdJQSAoTWFya2Rvd24gYmFzaXF1ZSlcbiAgICovXG4gIGZ1bmN0aW9uIGZvcm1hdEFJUmVzcG9uc2UodGV4dCkge1xuICAgIGlmICghdGV4dCkgcmV0dXJuICcnO1xuICAgIFxuICAgIC8vIEVzY2FwZSBIVE1MIGQnYWJvcmRcbiAgICBsZXQgZm9ybWF0dGVkID0gZXNjYXBlSHRtbCh0ZXh0KTtcbiAgICBcbiAgICAvLyBDb2RlIGJsb2NrcyBgYGBcbiAgICBmb3JtYXR0ZWQgPSBmb3JtYXR0ZWQucmVwbGFjZSgvYGBgKFxcdyopXFxuKFtcXHNcXFNdKj8pYGBgL2csIChtYXRjaCwgbGFuZywgY29kZSkgPT4ge1xuICAgICAgcmV0dXJuIGA8cHJlIGNsYXNzPVwibGFuZ3VhZ2UtJHtsYW5nIHx8ICd0ZXh0J31cIj48Y29kZT4ke2NvZGUudHJpbSgpfTwvY29kZT48L3ByZT5gO1xuICAgIH0pO1xuICAgIFxuICAgIC8vIElubGluZSBjb2RlIGBcbiAgICBmb3JtYXR0ZWQgPSBmb3JtYXR0ZWQucmVwbGFjZSgvYChbXmBdKylgL2csICc8Y29kZT4kMTwvY29kZT4nKTtcbiAgICBcbiAgICAvLyBCb2xkICoqdGV4dCoqXG4gICAgZm9ybWF0dGVkID0gZm9ybWF0dGVkLnJlcGxhY2UoL1xcKlxcKihbXipdKylcXCpcXCovZywgJzxzdHJvbmc+JDE8L3N0cm9uZz4nKTtcbiAgICBcbiAgICAvLyBJdGFsaWMgKnRleHQqXG4gICAgZm9ybWF0dGVkID0gZm9ybWF0dGVkLnJlcGxhY2UoL1xcKihbXipdKylcXCovZywgJzxlbT4kMTwvZW0+Jyk7XG4gICAgXG4gICAgLy8gVGl0cmVzXG4gICAgZm9ybWF0dGVkID0gZm9ybWF0dGVkLnJlcGxhY2UoL14jIyMgKC4rKSQvZ20sICc8aDQgY2xhc3M9XCJmb250LXNlbWlib2xkIHRleHQtc2xhdGUtOTAwIG10LTMgbWItMVwiPiQxPC9oND4nKTtcbiAgICBmb3JtYXR0ZWQgPSBmb3JtYXR0ZWQucmVwbGFjZSgvXiMjICguKykkL2dtLCAnPGgzIGNsYXNzPVwiZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTkwMCBtdC0zIG1iLTFcIj4kMTwvaDM+Jyk7XG4gICAgZm9ybWF0dGVkID0gZm9ybWF0dGVkLnJlcGxhY2UoL14jICguKykkL2dtLCAnPGgyIGNsYXNzPVwiZm9udC1ib2xkIHRleHQtc2xhdGUtOTAwIG10LTMgbWItMlwiPiQxPC9oMj4nKTtcbiAgICBcbiAgICAvLyBMaXN0ZXNcbiAgICBmb3JtYXR0ZWQgPSBmb3JtYXR0ZWQucmVwbGFjZSgvXi0gKC4rKSQvZ20sICc8bGkgY2xhc3M9XCJtbC00XCI+JDE8L2xpPicpO1xuICAgIGZvcm1hdHRlZCA9IGZvcm1hdHRlZC5yZXBsYWNlKC9eKFxcZCspXFwuICguKykkL2dtLCAnPGxpIGNsYXNzPVwibWwtNFwiPiQyPC9saT4nKTtcbiAgICBcbiAgICAvLyBQYXJhZ3JhcGhlcyAobGlnbmVzIHZpZGVzKVxuICAgIGZvcm1hdHRlZCA9IGZvcm1hdHRlZC5yZXBsYWNlKC9cXG5cXG4vZywgJzwvcD48cCBjbGFzcz1cIm1iLTJcIj4nKTtcbiAgICBmb3JtYXR0ZWQgPSAnPHAgY2xhc3M9XCJtYi0yXCI+JyArIGZvcm1hdHRlZCArICc8L3A+JztcbiAgICBcbiAgICAvLyBOZXR0b3llciBsZXMgPHA+IHZpZGVzXG4gICAgZm9ybWF0dGVkID0gZm9ybWF0dGVkLnJlcGxhY2UoLzxwIGNsYXNzPVwibWItMlwiPjxcXC9wPi9nLCAnJyk7XG4gICAgXG4gICAgcmV0dXJuIGZvcm1hdHRlZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBcdTAwQzljaGFwcGUgbGUgSFRNTFxuICAgKi9cbiAgZnVuY3Rpb24gZXNjYXBlSHRtbCh0ZXh0KSB7XG4gICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZGl2LnRleHRDb250ZW50ID0gdGV4dDtcbiAgICByZXR1cm4gZGl2LmlubmVySFRNTDtcbiAgfVxuXG4gIC8qKlxuICAgKiBFbnZvaWUgdW4gbWVzc2FnZSBhdSBjaGF0IElBXG4gICAqL1xuICBhc3luYyBmdW5jdGlvbiBzZW5kQUlNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICBjb25zdCBzaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyk7XG4gICAgaWYgKCFtZXNzYWdlIHx8ICFzaXRlU2x1ZyB8fCBhaUlzTG9hZGluZykgcmV0dXJuO1xuICAgIFxuICAgIGFpSXNMb2FkaW5nID0gdHJ1ZTtcbiAgICBhaUNoYXRJbnB1dC5kaXNhYmxlZCA9IHRydWU7XG4gICAgXG4gICAgLy8gRWZmYWNlciBsZSBtZXNzYWdlIGRlIGJpZW52ZW51ZSBhdSBwcmVtaWVyIG1lc3NhZ2VcbiAgICBjb25zdCB3ZWxjb21lTXNnID0gYWlDaGF0TWVzc2FnZXM/LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFpLXdlbGNvbWVdJyk7XG4gICAgaWYgKHdlbGNvbWVNc2cpIHdlbGNvbWVNc2cucmVtb3ZlKCk7XG4gICAgXG4gICAgLy8gQWZmaWNoZXIgbGUgbWVzc2FnZSBkZSBsJ3V0aWxpc2F0ZXVyXG4gICAgYXBwZW5kQUlNZXNzYWdlKG1lc3NhZ2UsICd1c2VyJyk7XG4gICAgXG4gICAgLy8gQWZmaWNoZXIgbGUgbG9hZGVyXG4gICAgc2hvd0FJTG9hZGluZygpO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNpdGVTbHVnKX0vYWkvY2hhdGAsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IG1lc3NhZ2UgfSlcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBoaWRlQUlMb2FkaW5nKCk7XG4gICAgICBcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgZXJyb3IgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvci5tZXNzYWdlIHx8ICdFcnJldXIgZGUgY29tbXVuaWNhdGlvbicpO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgXG4gICAgICBpZiAoZGF0YS5yZXNwb25zZSkge1xuICAgICAgICBhcHBlbmRBSU1lc3NhZ2UoZGF0YS5yZXNwb25zZSwgJ2Fzc2lzdGFudCcpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBHXHUwMEU5cmVyIGxlcyBwcm9wb3NpdGlvbnMgZCdcdTAwRTlkaXRpb24gZGUgcGFnZVxuICAgICAgaWYgKGRhdGEuZWRpdFByb3Bvc2FsKSB7XG4gICAgICAgIGFwcGVuZEVkaXRQcm9wb3NhbChkYXRhLmVkaXRQcm9wb3NhbCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEdcdTAwRTlyZXIgbGVzIHByb3Bvc2l0aW9ucyBkZSBtb2RpZmljYXRpb24gZHUgdGhcdTAwRThtZVxuICAgICAgaWYgKGRhdGEudGhlbWVQcm9wb3NhbCkge1xuICAgICAgICBhcHBlbmRUaGVtZVByb3Bvc2FsKGRhdGEudGhlbWVQcm9wb3NhbCk7XG4gICAgICB9XG4gICAgICBcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGhpZGVBSUxvYWRpbmcoKTtcbiAgICAgIGFwcGVuZEFJTWVzc2FnZShgXHUyNzRDIEVycmV1cjogJHtlcnIubWVzc2FnZX1gLCAnYXNzaXN0YW50Jyk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGFpSXNMb2FkaW5nID0gZmFsc2U7XG4gICAgICBhaUNoYXRJbnB1dC5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgYWlDaGF0SW5wdXQuZm9jdXMoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQWZmaWNoZSB1bmUgcHJvcG9zaXRpb24gZCdcdTAwRTlkaXRpb24gYXZlYyBib3V0b25zIGRlIHZhbGlkYXRpb25cbiAgICovXG4gIGZ1bmN0aW9uIGFwcGVuZEVkaXRQcm9wb3NhbChwcm9wb3NhbCkge1xuICAgIGlmICghYWlDaGF0TWVzc2FnZXMgfHwgIXByb3Bvc2FsKSByZXR1cm47XG4gICAgXG4gICAgY29uc3QgcHJvcG9zYWxEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBwcm9wb3NhbERpdi5jbGFzc05hbWUgPSAnZmxleCBnYXAtMyBtdC0yJztcbiAgICBwcm9wb3NhbERpdi5kYXRhc2V0LnByb3Bvc2FsSWQgPSBwcm9wb3NhbC5wcm9wb3NhbElkO1xuICAgIFxuICAgIC8vIENvbnN0cnVpcmUgbGUgclx1MDBFOXN1bVx1MDBFOSBkZXMgY2hhbmdlbWVudHNcbiAgICBsZXQgY2hhbmdlc0h0bWwgPSAnJztcbiAgICBpZiAocHJvcG9zYWwuY2hhbmdlcykge1xuICAgICAgaWYgKHByb3Bvc2FsLmNoYW5nZXMudGl0bGUpIHtcbiAgICAgICAgY2hhbmdlc0h0bWwgKz0gYDxsaT5UaXRyZSBcdTIxOTIgPHN0cm9uZz4ke2VzY2FwZUh0bWwocHJvcG9zYWwuY2hhbmdlcy50aXRsZSl9PC9zdHJvbmc+PC9saT5gO1xuICAgICAgfVxuICAgICAgaWYgKHByb3Bvc2FsLmNoYW5nZXMuZGVzY3JpcHRpb24pIHtcbiAgICAgICAgY2hhbmdlc0h0bWwgKz0gYDxsaT5EZXNjcmlwdGlvbiBcdTIxOTIgJHtlc2NhcGVIdG1sKHByb3Bvc2FsLmNoYW5nZXMuZGVzY3JpcHRpb24uc3Vic3RyaW5nKDAsIDgwKSl9Li4uPC9saT5gO1xuICAgICAgfVxuICAgICAgaWYgKHByb3Bvc2FsLmNoYW5nZXMuc2VvKSB7XG4gICAgICAgIGlmIChwcm9wb3NhbC5jaGFuZ2VzLnNlby5tZXRhVGl0bGUpIHtcbiAgICAgICAgICBjaGFuZ2VzSHRtbCArPSBgPGxpPk1ldGEgdGl0bGUgXHUyMTkyICR7ZXNjYXBlSHRtbChwcm9wb3NhbC5jaGFuZ2VzLnNlby5tZXRhVGl0bGUpfTwvbGk+YDtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvcG9zYWwuY2hhbmdlcy5zZW8ubWV0YURlc2NyaXB0aW9uKSB7XG4gICAgICAgICAgY2hhbmdlc0h0bWwgKz0gYDxsaT5NZXRhIGRlc2NyaXB0aW9uIFx1MjE5MiAke2VzY2FwZUh0bWwocHJvcG9zYWwuY2hhbmdlcy5zZW8ubWV0YURlc2NyaXB0aW9uLnN1YnN0cmluZygwLCA2MCkpfS4uLjwvbGk+YDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHByb3Bvc2FsLmNoYW5nZXMuYmxvY2tVcGRhdGUpIHtcbiAgICAgICAgY2hhbmdlc0h0bWwgKz0gYDxsaT5CbG9jIFwiJHtwcm9wb3NhbC5jaGFuZ2VzLmJsb2NrVXBkYXRlLmJsb2NrSWR9XCIgbW9kaWZpXHUwMEU5PC9saT5gO1xuICAgICAgICBpZiAocHJvcG9zYWwuY2hhbmdlcy5ibG9ja1VwZGF0ZS5zZXR0aW5ncykge1xuICAgICAgICAgIGNvbnN0IHNldHRpbmdzID0gcHJvcG9zYWwuY2hhbmdlcy5ibG9ja1VwZGF0ZS5zZXR0aW5ncztcbiAgICAgICAgICBpZiAoc2V0dGluZ3MudGl0bGUpIGNoYW5nZXNIdG1sICs9IGA8bGkgY2xhc3M9XCJtbC00XCI+XHUyMTkyIHRpdGxlOiAke2VzY2FwZUh0bWwoc2V0dGluZ3MudGl0bGUpfTwvbGk+YDtcbiAgICAgICAgICBpZiAoc2V0dGluZ3MuY29udGVudCkgY2hhbmdlc0h0bWwgKz0gYDxsaSBjbGFzcz1cIm1sLTRcIj5cdTIxOTIgY29udGVudCBtb2RpZmlcdTAwRTk8L2xpPmA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgcHJvcG9zYWxEaXYuaW5uZXJIVE1MID0gYFxuICAgICAgPGRpdiBjbGFzcz1cInctOCBoLTggcm91bmRlZC1mdWxsIGJnLWFtYmVyLTUwMCBmbGV4LXNocmluay0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgIDxzdmcgY2xhc3M9XCJ3LTQgaC00IHRleHQtd2hpdGVcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICA8cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xMSA1SDZhMiAyIDAgMDAtMiAydjExYTIgMiAwIDAwMiAyaDExYTIgMiAwIDAwMi0ydi01bS0xLjQxNC05LjQxNGEyIDIgMCAxMTIuODI4IDIuODI4TDExLjgyOCAxNUg5di0yLjgyOGw4LjU4Ni04LjU4NnpcIi8+XG4gICAgICAgIDwvc3ZnPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwiZmxleC0xIGJnLWFtYmVyLTUwIGJvcmRlciBib3JkZXItYW1iZXItMjAwIHJvdW5kZWQtMnhsIHJvdW5kZWQtdGwtbm9uZSBwLTRcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIG1iLTJcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQteHMgZm9udC1zZW1pYm9sZCB0ZXh0LWFtYmVyLTcwMCBiZy1hbWJlci0xMDAgcHgtMiBweS0wLjUgcm91bmRlZFwiPlByb3Bvc2l0aW9uIGQnXHUwMEU5ZGl0aW9uPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtc2xhdGUtODAwIG1iLTFcIj5QYWdlIDogJHtlc2NhcGVIdG1sKHByb3Bvc2FsLnBhZ2VUaXRsZSB8fCBwcm9wb3NhbC5wYWdlSWQpfTwvcD5cbiAgICAgICAgJHtwcm9wb3NhbC5yZWFzb24gPyBgPHAgY2xhc3M9XCJ0ZXh0LXNtIHRleHQtc2xhdGUtNjAwIG1iLTJcIj4ke2VzY2FwZUh0bWwocHJvcG9zYWwucmVhc29uKX08L3A+YCA6ICcnfVxuICAgICAgICA8dWwgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNjAwIHNwYWNlLXktMSBtYi0zIGxpc3QtZGlzYyBtbC00XCI+XG4gICAgICAgICAgJHtjaGFuZ2VzSHRtbCB8fCAnPGxpPk1vZGlmaWNhdGlvbnMgcHJvcG9zXHUwMEU5ZXM8L2xpPid9XG4gICAgICAgIDwvdWw+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGdhcC0yXCI+XG4gICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgIGNsYXNzPVwiYWktYXBwbHktZWRpdCBweC0zIHB5LTEuNSB0ZXh0LXhzIGZvbnQtbWVkaXVtIHRleHQtd2hpdGUgYmctZW1lcmFsZC02MDAgaG92ZXI6YmctZW1lcmFsZC03MDAgcm91bmRlZC1sZyB0cmFuc2l0aW9uLWNvbG9ycyBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMVwiXG4gICAgICAgICAgICBkYXRhLXByb3Bvc2FsLWlkPVwiJHtwcm9wb3NhbC5wcm9wb3NhbElkfVwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHN2ZyBjbGFzcz1cInctMy41IGgtMy41XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICAgIDxwYXRoIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTUgMTNsNCA0TDE5IDdcIi8+XG4gICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgIEFwcGxpcXVlclxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICBjbGFzcz1cImFpLXJlamVjdC1lZGl0IHB4LTMgcHktMS41IHRleHQteHMgZm9udC1tZWRpdW0gdGV4dC1zbGF0ZS02MDAgYmctc2xhdGUtMTAwIGhvdmVyOmJnLXNsYXRlLTIwMCByb3VuZGVkLWxnIHRyYW5zaXRpb24tY29sb3JzIGZsZXggaXRlbXMtY2VudGVyIGdhcC0xXCJcbiAgICAgICAgICAgIGRhdGEtcHJvcG9zYWwtaWQ9XCIke3Byb3Bvc2FsLnByb3Bvc2FsSWR9XCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8c3ZnIGNsYXNzPVwidy0zLjUgaC0zLjVcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNiAxOEwxOCA2TTYgNmwxMiAxMlwiLz5cbiAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgUmVqZXRlclxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIGA7XG4gICAgXG4gICAgYWlDaGF0TWVzc2FnZXMuYXBwZW5kQ2hpbGQocHJvcG9zYWxEaXYpO1xuICAgIGFpQ2hhdE1lc3NhZ2VzLnNjcm9sbFRvcCA9IGFpQ2hhdE1lc3NhZ2VzLnNjcm9sbEhlaWdodDtcbiAgICBcbiAgICAvLyBBdHRhY2hlciBsZXMgXHUwMEU5dlx1MDBFOW5lbWVudHMgYXV4IGJvdXRvbnNcbiAgICBwcm9wb3NhbERpdi5xdWVyeVNlbGVjdG9yKCcuYWktYXBwbHktZWRpdCcpPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZUFwcGx5RWRpdCk7XG4gICAgcHJvcG9zYWxEaXYucXVlcnlTZWxlY3RvcignLmFpLXJlamVjdC1lZGl0Jyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlUmVqZWN0RWRpdCk7XG4gIH1cblxuICAvKipcbiAgICogQWZmaWNoZSB1bmUgcHJvcG9zaXRpb24gZGUgbW9kaWZpY2F0aW9uIGR1IHRoXHUwMEU4bWUgYXZlYyBib3V0b25zIGRlIHZhbGlkYXRpb25cbiAgICovXG4gIGZ1bmN0aW9uIGFwcGVuZFRoZW1lUHJvcG9zYWwocHJvcG9zYWwpIHtcbiAgICBpZiAoIWFpQ2hhdE1lc3NhZ2VzIHx8ICFwcm9wb3NhbCkgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0IHByb3Bvc2FsRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgcHJvcG9zYWxEaXYuY2xhc3NOYW1lID0gJ2ZsZXggZ2FwLTMgbXQtMic7XG4gICAgcHJvcG9zYWxEaXYuZGF0YXNldC5wcm9wb3NhbElkID0gcHJvcG9zYWwucHJvcG9zYWxJZDtcbiAgICBcbiAgICAvLyBDb25zdHJ1aXJlIGxlIHJcdTAwRTlzdW1cdTAwRTkgZGVzIGNoYW5nZW1lbnRzIGRlIGNvdWxldXJzXG4gICAgbGV0IGNvbG9yc0h0bWwgPSAnJztcbiAgICBpZiAocHJvcG9zYWwuY2hhbmdlcz8uY29sb3JzKSB7XG4gICAgICBjb25zdCBjb2xvcnMgPSBwcm9wb3NhbC5jaGFuZ2VzLmNvbG9ycztcbiAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGNvbG9ycykpIHtcbiAgICAgICAgY29sb3JzSHRtbCArPSBgPGxpIGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInctNCBoLTQgcm91bmRlZCBib3JkZXIgYm9yZGVyLXNsYXRlLTMwMFwiIHN0eWxlPVwiYmFja2dyb3VuZDogJHtnZXRUYWlsd2luZENvbG9yQ3NzKHZhbHVlKX1cIj48L3NwYW4+XG4gICAgICAgICAgPHNwYW4+JHtrZXl9OiA8c3Ryb25nPiR7ZXNjYXBlSHRtbCh2YWx1ZSl9PC9zdHJvbmc+PC9zcGFuPlxuICAgICAgICA8L2xpPmA7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8vIFR5cG9ncmFwaGllc1xuICAgIGxldCB0eXBvSHRtbCA9ICcnO1xuICAgIGlmIChwcm9wb3NhbC5jaGFuZ2VzPy50eXBvZ3JhcGh5KSB7XG4gICAgICBjb25zdCB0eXBvID0gcHJvcG9zYWwuY2hhbmdlcy50eXBvZ3JhcGh5O1xuICAgICAgaWYgKHR5cG8uaGVhZGluZ3MpIHR5cG9IdG1sICs9IGA8bGk+VGl0cmVzIFx1MjE5MiA8c3Ryb25nPiR7ZXNjYXBlSHRtbCh0eXBvLmhlYWRpbmdzKX08L3N0cm9uZz48L2xpPmA7XG4gICAgICBpZiAodHlwby5ib2R5KSB0eXBvSHRtbCArPSBgPGxpPlRleHRlcyBcdTIxOTIgPHN0cm9uZz4ke2VzY2FwZUh0bWwodHlwby5ib2R5KX08L3N0cm9uZz48L2xpPmA7XG4gICAgfVxuICAgIFxuICAgIHByb3Bvc2FsRGl2LmlubmVySFRNTCA9IGBcbiAgICAgIDxkaXYgY2xhc3M9XCJ3LTggaC04IHJvdW5kZWQtZnVsbCBiZy1wdXJwbGUtNTAwIGZsZXgtc2hyaW5rLTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgPHN2ZyBjbGFzcz1cInctNCBoLTQgdGV4dC13aGl0ZVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgIDxwYXRoIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTcgMjFhNCA0IDAgMDEtNC00VjVhMiAyIDAgMDEyLTJoNGEyIDIgMCAwMTIgMnYxMmE0IDQgMCAwMS00IDR6bTAgMGgxMmEyIDIgMCAwMDItMnYtNGEyIDIgMCAwMC0yLTJoLTIuMzQzTTExIDcuMzQzbDEuNjU3LTEuNjU3YTIgMiAwIDAxMi44MjggMGwyLjgyOSAyLjgyOWEyIDIgMCAwMTAgMi44MjhsLTguNDg2IDguNDg1TTcgMTdoLjAxXCIvPlxuICAgICAgICA8L3N2Zz5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cImZsZXgtMSBiZy1wdXJwbGUtNTAgYm9yZGVyIGJvcmRlci1wdXJwbGUtMjAwIHJvdW5kZWQtMnhsIHJvdW5kZWQtdGwtbm9uZSBwLTRcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIG1iLTJcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQteHMgZm9udC1zZW1pYm9sZCB0ZXh0LXB1cnBsZS03MDAgYmctcHVycGxlLTEwMCBweC0yIHB5LTAuNSByb3VuZGVkXCI+TW9kaWZpY2F0aW9uIGR1IHRoXHUwMEU4bWU8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICAke3Byb3Bvc2FsLnJlYXNvbiA/IGA8cCBjbGFzcz1cInRleHQtc20gdGV4dC1zbGF0ZS02MDAgbWItM1wiPiR7ZXNjYXBlSHRtbChwcm9wb3NhbC5yZWFzb24pfTwvcD5gIDogJyd9XG4gICAgICAgICR7Y29sb3JzSHRtbCA/IGBcbiAgICAgICAgICA8cCBjbGFzcz1cInRleHQteHMgZm9udC1tZWRpdW0gdGV4dC1zbGF0ZS03MDAgbWItMVwiPkNvdWxldXJzIDo8L3A+XG4gICAgICAgICAgPHVsIGNsYXNzPVwidGV4dC14cyB0ZXh0LXNsYXRlLTYwMCBzcGFjZS15LTEgbWItM1wiPiR7Y29sb3JzSHRtbH08L3VsPlxuICAgICAgICBgIDogJyd9XG4gICAgICAgICR7dHlwb0h0bWwgPyBgXG4gICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXhzIGZvbnQtbWVkaXVtIHRleHQtc2xhdGUtNzAwIG1iLTFcIj5UeXBvZ3JhcGhpZXMgOjwvcD5cbiAgICAgICAgICA8dWwgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNjAwIHNwYWNlLXktMSBtYi0zIGxpc3QtZGlzYyBtbC00XCI+JHt0eXBvSHRtbH08L3VsPlxuICAgICAgICBgIDogJyd9XG4gICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGdhcC0yXCI+XG4gICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgIGNsYXNzPVwiYWktYXBwbHktdGhlbWUgcHgtMyBweS0xLjUgdGV4dC14cyBmb250LW1lZGl1bSB0ZXh0LXdoaXRlIGJnLXB1cnBsZS02MDAgaG92ZXI6YmctcHVycGxlLTcwMCByb3VuZGVkLWxnIHRyYW5zaXRpb24tY29sb3JzIGZsZXggaXRlbXMtY2VudGVyIGdhcC0xXCJcbiAgICAgICAgICAgIGRhdGEtcHJvcG9zYWwtaWQ9XCIke3Byb3Bvc2FsLnByb3Bvc2FsSWR9XCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8c3ZnIGNsYXNzPVwidy0zLjUgaC0zLjVcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNSAxM2w0IDRMMTkgN1wiLz5cbiAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgQXBwbGlxdWVyXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgIGNsYXNzPVwiYWktcmVqZWN0LXRoZW1lIHB4LTMgcHktMS41IHRleHQteHMgZm9udC1tZWRpdW0gdGV4dC1zbGF0ZS02MDAgYmctc2xhdGUtMTAwIGhvdmVyOmJnLXNsYXRlLTIwMCByb3VuZGVkLWxnIHRyYW5zaXRpb24tY29sb3JzIGZsZXggaXRlbXMtY2VudGVyIGdhcC0xXCJcbiAgICAgICAgICAgIGRhdGEtcHJvcG9zYWwtaWQ9XCIke3Byb3Bvc2FsLnByb3Bvc2FsSWR9XCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8c3ZnIGNsYXNzPVwidy0zLjUgaC0zLjVcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNiAxOEwxOCA2TTYgNmwxMiAxMlwiLz5cbiAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgUmVqZXRlclxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIGA7XG4gICAgXG4gICAgYWlDaGF0TWVzc2FnZXMuYXBwZW5kQ2hpbGQocHJvcG9zYWxEaXYpO1xuICAgIGFpQ2hhdE1lc3NhZ2VzLnNjcm9sbFRvcCA9IGFpQ2hhdE1lc3NhZ2VzLnNjcm9sbEhlaWdodDtcbiAgICBcbiAgICAvLyBBdHRhY2hlciBsZXMgXHUwMEU5dlx1MDBFOW5lbWVudHMgYXV4IGJvdXRvbnNcbiAgICBwcm9wb3NhbERpdi5xdWVyeVNlbGVjdG9yKCcuYWktYXBwbHktdGhlbWUnKT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVBcHBseVRoZW1lKTtcbiAgICBwcm9wb3NhbERpdi5xdWVyeVNlbGVjdG9yKCcuYWktcmVqZWN0LXRoZW1lJyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlUmVqZWN0RWRpdCk7IC8vIFJcdTAwRTl1dGlsaXNlIGxhIG1cdTAwRUFtZSBsb2dpcXVlIGRlIHJlamV0XG4gIH1cbiAgXG4gIC8qKlxuICAgKiBDb252ZXJ0aXQgdW5lIGNvdWxldXIgVGFpbHdpbmQgZW4gQ1NTIGFwcHJveGltYXRpZiBwb3VyIHByZXZpZXdcbiAgICovXG4gIGZ1bmN0aW9uIGdldFRhaWx3aW5kQ29sb3JDc3MoY29sb3JOYW1lKSB7XG4gICAgY29uc3QgY29sb3JzID0ge1xuICAgICAgJ3doaXRlJzogJyNmZmZmZmYnLCAnYmxhY2snOiAnIzAwMDAwMCcsICd0cmFuc3BhcmVudCc6ICd0cmFuc3BhcmVudCcsXG4gICAgICAnc2xhdGUtNTAnOiAnI2Y4ZmFmYycsICdzbGF0ZS0xMDAnOiAnI2YxZjVmOScsICdzbGF0ZS0yMDAnOiAnI2UyZThmMCcsICdzbGF0ZS0zMDAnOiAnI2NiZDVlMScsICdzbGF0ZS00MDAnOiAnIzk0YTNiOCcsICdzbGF0ZS01MDAnOiAnIzY0NzQ4YicsICdzbGF0ZS02MDAnOiAnIzQ3NTU2OScsICdzbGF0ZS03MDAnOiAnIzMzNDE1NScsICdzbGF0ZS04MDAnOiAnIzFlMjkzYicsICdzbGF0ZS05MDAnOiAnIzBmMTcyYScsXG4gICAgICAnZ3JheS01MCc6ICcjZjlmYWZiJywgJ2dyYXktMTAwJzogJyNmM2Y0ZjYnLCAnZ3JheS0yMDAnOiAnI2U1ZTdlYicsICdncmF5LTMwMCc6ICcjZDFkNWRiJywgJ2dyYXktNDAwJzogJyM5Y2EzYWYnLCAnZ3JheS01MDAnOiAnIzZiNzI4MCcsICdncmF5LTYwMCc6ICcjNGI1NTYzJywgJ2dyYXktNzAwJzogJyMzNzQxNTEnLCAnZ3JheS04MDAnOiAnIzFmMjkzNycsICdncmF5LTkwMCc6ICcjMTExODI3JyxcbiAgICAgICd2aW9sZXQtNTAnOiAnI2Y1ZjNmZicsICd2aW9sZXQtMTAwJzogJyNlZGU5ZmUnLCAndmlvbGV0LTIwMCc6ICcjZGRkNmZlJywgJ3Zpb2xldC0zMDAnOiAnI2M0YjVmZCcsICd2aW9sZXQtNDAwJzogJyNhNzhiZmEnLCAndmlvbGV0LTUwMCc6ICcjOGI1Y2Y2JywgJ3Zpb2xldC02MDAnOiAnIzdjM2FlZCcsICd2aW9sZXQtNzAwJzogJyM2ZDI4ZDknLCAndmlvbGV0LTgwMCc6ICcjNWIyMWI2JywgJ3Zpb2xldC05MDAnOiAnIzRjMWQ5NScsXG4gICAgICAncHVycGxlLTUwJzogJyNmYWY1ZmYnLCAncHVycGxlLTEwMCc6ICcjZjNlOGZmJywgJ3B1cnBsZS0yMDAnOiAnI2U5ZDVmZicsICdwdXJwbGUtMzAwJzogJyNkOGI0ZmUnLCAncHVycGxlLTQwMCc6ICcjYzA4NGZjJywgJ3B1cnBsZS01MDAnOiAnI2E4NTVmNycsICdwdXJwbGUtNjAwJzogJyM5MzMzZWEnLCAncHVycGxlLTcwMCc6ICcjN2UyMmNlJywgJ3B1cnBsZS04MDAnOiAnIzZiMjFhOCcsICdwdXJwbGUtOTAwJzogJyM1ODFjODcnLFxuICAgICAgJ2JsdWUtNTAnOiAnI2VmZjZmZicsICdibHVlLTEwMCc6ICcjZGJlYWZlJywgJ2JsdWUtMjAwJzogJyNiZmRiZmUnLCAnYmx1ZS0zMDAnOiAnIzkzYzVmZCcsICdibHVlLTQwMCc6ICcjNjBhNWZhJywgJ2JsdWUtNTAwJzogJyMzYjgyZjYnLCAnYmx1ZS02MDAnOiAnIzI1NjNlYicsICdibHVlLTcwMCc6ICcjMWQ0ZWQ4JywgJ2JsdWUtODAwJzogJyMxZTQwYWYnLCAnYmx1ZS05MDAnOiAnIzFlM2E4YScsXG4gICAgICAnZW1lcmFsZC01MCc6ICcjZWNmZGY1JywgJ2VtZXJhbGQtMTAwJzogJyNkMWZhZTUnLCAnZW1lcmFsZC0yMDAnOiAnI2E3ZjNkMCcsICdlbWVyYWxkLTMwMCc6ICcjNmVlN2I3JywgJ2VtZXJhbGQtNDAwJzogJyMzNGQzOTknLCAnZW1lcmFsZC01MDAnOiAnIzEwYjk4MScsICdlbWVyYWxkLTYwMCc6ICcjMDU5NjY5JywgJ2VtZXJhbGQtNzAwJzogJyMwNDc4NTcnLCAnZW1lcmFsZC04MDAnOiAnIzA2NWY0NicsICdlbWVyYWxkLTkwMCc6ICcjMDY0ZTNiJyxcbiAgICAgICd0ZWFsLTUwJzogJyNmMGZkZmEnLCAndGVhbC0xMDAnOiAnI2NjZmJmMScsICd0ZWFsLTIwMCc6ICcjOTlmNmU0JywgJ3RlYWwtMzAwJzogJyM1ZWVhZDQnLCAndGVhbC00MDAnOiAnIzJkZDRiZicsICd0ZWFsLTUwMCc6ICcjMTRiOGE2JywgJ3RlYWwtNjAwJzogJyMwZDk0ODgnLCAndGVhbC03MDAnOiAnIzBmNzY2ZScsICd0ZWFsLTgwMCc6ICcjMTE1ZTU5JywgJ3RlYWwtOTAwJzogJyMxMzRlNGEnLFxuICAgICAgJ2FtYmVyLTUwJzogJyNmZmZiZWInLCAnYW1iZXItMTAwJzogJyNmZWYzYzcnLCAnYW1iZXItMjAwJzogJyNmZGU2OGEnLCAnYW1iZXItMzAwJzogJyNmY2QzNGQnLCAnYW1iZXItNDAwJzogJyNmYmJmMjQnLCAnYW1iZXItNTAwJzogJyNmNTllMGInLCAnYW1iZXItNjAwJzogJyNkOTc3MDYnLCAnYW1iZXItNzAwJzogJyNiNDUzMDknLCAnYW1iZXItODAwJzogJyM5MjQwMGUnLCAnYW1iZXItOTAwJzogJyM3ODM1MGYnLFxuICAgICAgJ3JlZC01MCc6ICcjZmVmMmYyJywgJ3JlZC0xMDAnOiAnI2ZlZTJlMicsICdyZWQtMjAwJzogJyNmZWNhY2EnLCAncmVkLTMwMCc6ICcjZmNhNWE1JywgJ3JlZC00MDAnOiAnI2Y4NzE3MScsICdyZWQtNTAwJzogJyNlZjQ0NDQnLCAncmVkLTYwMCc6ICcjZGMyNjI2JywgJ3JlZC03MDAnOiAnI2I5MWMxYycsICdyZWQtODAwJzogJyM5OTFiMWInLCAncmVkLTkwMCc6ICcjN2YxZDFkJ1xuICAgIH07XG4gICAgcmV0dXJuIGNvbG9yc1tjb2xvck5hbWVdIHx8ICcjOUM2QkZGJztcbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBsaXF1ZSB1bmUgcHJvcG9zaXRpb24gZGUgbW9kaWZpY2F0aW9uIGR1IHRoXHUwMEU4bWVcbiAgICovXG4gIGFzeW5jIGZ1bmN0aW9uIGhhbmRsZUFwcGx5VGhlbWUoZSkge1xuICAgIGNvbnN0IHByb3Bvc2FsSWQgPSBlLnRhcmdldC5jbG9zZXN0KCdbZGF0YS1wcm9wb3NhbC1pZF0nKT8uZGF0YXNldC5wcm9wb3NhbElkO1xuICAgIGNvbnN0IHNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goc3RvcmVkU2l0ZS5zbHVnIHx8ICcnKTtcbiAgICBpZiAoIXByb3Bvc2FsSWQgfHwgIXNpdGVTbHVnKSByZXR1cm47XG4gICAgXG4gICAgY29uc3QgYnRuID0gZS50YXJnZXQuY2xvc2VzdCgnYnV0dG9uJyk7XG4gICAgYnRuLmRpc2FibGVkID0gdHJ1ZTtcbiAgICBidG4uaW5uZXJIVE1MID0gJzxzcGFuIGNsYXNzPVwiYW5pbWF0ZS1zcGluXCI+XHUyM0YzPC9zcGFuPiBBcHBsaWNhdGlvbi4uLic7XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2l0ZVNsdWcpfS9haS9hcHBseS10aGVtZWAsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHByb3Bvc2FsSWQgfSlcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgXG4gICAgICBpZiAocmVzcG9uc2Uub2sgJiYgZGF0YS5zdWNjZXNzKSB7XG4gICAgICAgIC8vIFJlbXBsYWNlciBsYSBjYXJkIHBhciB1biBtZXNzYWdlIGRlIHN1Y2NcdTAwRThzXG4gICAgICAgIGNvbnN0IHByb3Bvc2FsQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXByb3Bvc2FsLWlkPVwiJHtwcm9wb3NhbElkfVwiXWApO1xuICAgICAgICBpZiAocHJvcG9zYWxDYXJkKSB7XG4gICAgICAgICAgcHJvcG9zYWxDYXJkLmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ3LTggaC04IHJvdW5kZWQtZnVsbCBiZy1wdXJwbGUtNTAwIGZsZXgtc2hyaW5rLTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgPHN2ZyBjbGFzcz1cInctNCBoLTQgdGV4dC13aGl0ZVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgICAgIDxwYXRoIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTUgMTNsNCA0TDE5IDdcIi8+XG4gICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleC0xIGJnLXB1cnBsZS01MCBib3JkZXIgYm9yZGVyLXB1cnBsZS0yMDAgcm91bmRlZC0yeGwgcm91bmRlZC10bC1ub25lIHAtM1wiPlxuICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQtc20gdGV4dC1wdXJwbGUtNzAwXCI+XHUyNzA1IFRoXHUwMEU4bWUgbWlzIFx1MDBFMCBqb3VyIGF2ZWMgc3VjY1x1MDBFOHMgITwvcD5cbiAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtcHVycGxlLTYwMCBtdC0xXCI+UmVjaGFyZ2V6IGxhIHByZXZpZXcgcG91ciB2b2lyIGxlcyBjaGFuZ2VtZW50cy48L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICBgO1xuICAgICAgICB9XG4gICAgICAgIHNob3dUb2FzdCgnVGhcdTAwRThtZSBtaXMgXHUwMEUwIGpvdXIgIScpO1xuICAgICAgICBcbiAgICAgICAgLy8gRFx1MDBFOWNsZW5jaGVyIHVuIFx1MDBFOXZcdTAwRTluZW1lbnQgcGVyc29ubmFsaXNcdTAwRTkgcG91ciByYWZyYVx1MDBFRWNoaXJcbiAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ2FpLXRoZW1lLXVwZGF0ZWQnLCB7XG4gICAgICAgICAgZGV0YWlsOiB7IHVwZGF0ZWRUaGVtZTogZGF0YS51cGRhdGVkVGhlbWUgfVxuICAgICAgICB9KSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZGF0YS5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsXFwnYXBwbGljYXRpb24nKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGJ0bi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgYnRuLmlubmVySFRNTCA9IGA8c3ZnIGNsYXNzPVwidy0zLjUgaC0zLjVcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk01IDEzbDQgNEwxOSA3XCIvPjwvc3ZnPiBSXHUwMEU5ZXNzYXllcmA7XG4gICAgICBzaG93VG9hc3QoYEVycmV1cjogJHtlcnIubWVzc2FnZX1gKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQXBwbGlxdWUgdW5lIHByb3Bvc2l0aW9uIGQnXHUwMEU5ZGl0aW9uIHZhbGlkXHUwMEU5ZVxuICAgKi9cbiAgYXN5bmMgZnVuY3Rpb24gaGFuZGxlQXBwbHlFZGl0KGUpIHtcbiAgICBjb25zdCBwcm9wb3NhbElkID0gZS50YXJnZXQuY2xvc2VzdCgnW2RhdGEtcHJvcG9zYWwtaWRdJyk/LmRhdGFzZXQucHJvcG9zYWxJZDtcbiAgICBjb25zdCBzaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyk7XG4gICAgaWYgKCFwcm9wb3NhbElkIHx8ICFzaXRlU2x1ZykgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0IGJ0biA9IGUudGFyZ2V0LmNsb3Nlc3QoJ2J1dHRvbicpO1xuICAgIGJ0bi5kaXNhYmxlZCA9IHRydWU7XG4gICAgYnRuLmlubmVySFRNTCA9ICc8c3BhbiBjbGFzcz1cImFuaW1hdGUtc3BpblwiPlx1MjNGMzwvc3Bhbj4gQXBwbGljYXRpb24uLi4nO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNpdGVTbHVnKX0vYWkvYXBwbHktZWRpdGAsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHByb3Bvc2FsSWQgfSlcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgXG4gICAgICBpZiAocmVzcG9uc2Uub2sgJiYgZGF0YS5zdWNjZXNzKSB7XG4gICAgICAgIC8vIFJlbXBsYWNlciBsYSBjYXJkIHBhciB1biBtZXNzYWdlIGRlIHN1Y2NcdTAwRThzXG4gICAgICAgIGNvbnN0IHByb3Bvc2FsQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXByb3Bvc2FsLWlkPVwiJHtwcm9wb3NhbElkfVwiXWApO1xuICAgICAgICBpZiAocHJvcG9zYWxDYXJkKSB7XG4gICAgICAgICAgcHJvcG9zYWxDYXJkLmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ3LTggaC04IHJvdW5kZWQtZnVsbCBiZy1lbWVyYWxkLTUwMCBmbGV4LXNocmluay0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJ3LTQgaC00IHRleHQtd2hpdGVcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgICAgICA8cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk01IDEzbDQgNEwxOSA3XCIvPlxuICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXgtMSBiZy1lbWVyYWxkLTUwIGJvcmRlciBib3JkZXItZW1lcmFsZC0yMDAgcm91bmRlZC0yeGwgcm91bmRlZC10bC1ub25lIHAtM1wiPlxuICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQtc20gdGV4dC1lbWVyYWxkLTcwMFwiPlx1MjcwNSBNb2RpZmljYXRpb25zIGFwcGxpcXVcdTAwRTllcyBhdmVjIHN1Y2NcdTAwRThzICE8L3A+XG4gICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC14cyB0ZXh0LWVtZXJhbGQtNjAwIG10LTFcIj5MYSBwcmV2aWV3IHNlIG1ldCBcdTAwRTAgam91ciBhdXRvbWF0aXF1ZW1lbnQuPC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgYDtcbiAgICAgICAgfVxuICAgICAgICBzaG93VG9hc3QoJ01vZGlmaWNhdGlvbnMgYXBwbGlxdVx1MDBFOWVzICEnKTtcbiAgICAgICAgXG4gICAgICAgIC8vIERcdTAwRTljbGVuY2hlciB1biBcdTAwRTl2XHUwMEU5bmVtZW50IHBlcnNvbm5hbGlzXHUwMEU5IHBvdXIgcmFmcmFcdTAwRUVjaGlyIGxhIHByZXZpZXdcbiAgICAgICAgY29uc3QgcGFnZUlkID0gZGF0YS51cGRhdGVkUGFnZT8uaWQgfHwgbnVsbDtcbiAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ2FpLXBhZ2UtdXBkYXRlZCcsIHtcbiAgICAgICAgICBkZXRhaWw6IHsgcGFnZUlkLCB1cGRhdGVkUGFnZTogZGF0YS51cGRhdGVkUGFnZSB9XG4gICAgICAgIH0pKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihkYXRhLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGRlIGxcXCdhcHBsaWNhdGlvbicpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgYnRuLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICBidG4uaW5uZXJIVE1MID0gYDxzdmcgY2xhc3M9XCJ3LTMuNSBoLTMuNVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTUgMTNsNCA0TDE5IDdcIi8+PC9zdmc+IFJcdTAwRTllc3NheWVyYDtcbiAgICAgIHNob3dUb2FzdChgRXJyZXVyOiAke2Vyci5tZXNzYWdlfWApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZWpldHRlIHVuZSBwcm9wb3NpdGlvbiBkJ1x1MDBFOWRpdGlvblxuICAgKi9cbiAgYXN5bmMgZnVuY3Rpb24gaGFuZGxlUmVqZWN0RWRpdChlKSB7XG4gICAgY29uc3QgcHJvcG9zYWxJZCA9IGUudGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLXByb3Bvc2FsLWlkXScpPy5kYXRhc2V0LnByb3Bvc2FsSWQ7XG4gICAgY29uc3Qgc2l0ZVNsdWcgPSBzdHJpcExlYWRpbmdTbGFzaChzdG9yZWRTaXRlLnNsdWcgfHwgJycpO1xuICAgIGlmICghcHJvcG9zYWxJZCB8fCAhc2l0ZVNsdWcpIHJldHVybjtcbiAgICBcbiAgICB0cnkge1xuICAgICAgYXdhaXQgZmV0Y2goYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2l0ZVNsdWcpfS9haS9wcm9wb3NhbC8ke3Byb3Bvc2FsSWR9YCwge1xuICAgICAgICBtZXRob2Q6ICdERUxFVEUnXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgLy8gUmVtcGxhY2VyIGxhIGNhcmQgcGFyIHVuIG1lc3NhZ2UgZGUgcmVqZXRcbiAgICAgIGNvbnN0IHByb3Bvc2FsQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXByb3Bvc2FsLWlkPVwiJHtwcm9wb3NhbElkfVwiXWApO1xuICAgICAgaWYgKHByb3Bvc2FsQ2FyZCkge1xuICAgICAgICBwcm9wb3NhbENhcmQuaW5uZXJIVE1MID0gYFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ3LTggaC04IHJvdW5kZWQtZnVsbCBiZy1zbGF0ZS00MDAgZmxleC1zaHJpbmstMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgPHN2ZyBjbGFzcz1cInctNCBoLTQgdGV4dC13aGl0ZVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgICA8cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk02IDE4TDE4IDZNNiA2bDEyIDEyXCIvPlxuICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXgtMSBiZy1zbGF0ZS0xMDAgcm91bmRlZC0yeGwgcm91bmRlZC10bC1ub25lIHAtM1wiPlxuICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXNtIHRleHQtc2xhdGUtNTAwXCI+UHJvcG9zaXRpb24gcmVqZXRcdTAwRTllLjwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgYDtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tBSV0gUmVqZWN0IGVkaXQgZXJyb3I6JywgZXJyKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRWZmYWNlIGwnaGlzdG9yaXF1ZSBkdSBjaGF0XG4gICAqL1xuICBhc3luYyBmdW5jdGlvbiBjbGVhckFJSGlzdG9yeSgpIHtcbiAgICBjb25zdCBzaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyk7XG4gICAgaWYgKCFzaXRlU2x1ZyB8fCAhYWlDaGF0TWVzc2FnZXMpIHJldHVybjtcbiAgICBcbiAgICB0cnkge1xuICAgICAgYXdhaXQgZmV0Y2goYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2l0ZVNsdWcpfS9haS9oaXN0b3J5YCwgeyBtZXRob2Q6ICdERUxFVEUnIH0pO1xuICAgICAgXG4gICAgICAvLyBWaWRlciBsZXMgbWVzc2FnZXNcbiAgICAgIGFpQ2hhdE1lc3NhZ2VzLmlubmVySFRNTCA9ICcnO1xuICAgICAgXG4gICAgICAvLyBSXHUwMEU5YWZmaWNoZXIgbGUgbWVzc2FnZSBkZSBiaWVudmVudWVcbiAgICAgIGFpQ2hhdE1lc3NhZ2VzLmlubmVySFRNTCA9IGBcbiAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggZ2FwLTNcIiBkYXRhLWFpLXdlbGNvbWU+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInctOCBoLTggcm91bmRlZC1mdWxsIGJnLWdyYWRpZW50LXRvLWJyIGZyb20tdmlvbGV0LTUwMCB0by1pbmRpZ28tNjAwIGZsZXgtc2hyaW5rLTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJ3LTQgaC00IHRleHQtd2hpdGVcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNOS42NjMgMTdoNC42NzNNMTIgM3YxbTYuMzY0IDEuNjM2bC0uNzA3LjcwN00yMSAxMmgtMU00IDEySDNtMy4zNDMtNS42NTdsLS43MDctLjcwN20yLjgyOCA5LjlhNSA1IDAgMTE3LjA3MiAwbC0uNTQ4LjU0N0EzLjM3NCAzLjM3NCAwIDAwMTQgMTguNDY5VjE5YTIgMiAwIDExLTQgMHYtLjUzMWMwLS44OTUtLjM1Ni0xLjc1NC0uOTg4LTIuMzg2bC0uNTQ4LS41NDd6XCIvPlxuICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXgtMSBiZy1zbGF0ZS01MCByb3VuZGVkLTJ4bCByb3VuZGVkLXRsLW5vbmUgcC0zXCI+XG4gICAgICAgICAgICA8cCBjbGFzcz1cInRleHQtc20gdGV4dC1zbGF0ZS03MDBcIj5cbiAgICAgICAgICAgICAgU2FsdXQgISBcdUQ4M0RcdURDNEIgSmUgc3VpcyB0b24gYXNzaXN0YW50IElBIHBvdXIgY2Ugc2l0ZS4gSmUgcGV1eCB0J2FpZGVyIFx1MDBFMCA6XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8dWwgY2xhc3M9XCJtdC0yIHRleHQtc20gdGV4dC1zbGF0ZS02MDAgc3BhY2UteS0xXCI+XG4gICAgICAgICAgICAgIDxsaT5cdUQ4M0NcdURGQTggU3VnZ1x1MDBFOXJlciBkZXMgcGFsZXR0ZXMgZGUgY291bGV1cnM8L2xpPlxuICAgICAgICAgICAgICA8bGk+XHUyNzBEXHVGRTBGIEdcdTAwRTluXHUwMEU5cmVyIGR1IGNvbnRlbnUgcG91ciB0ZXMgYmxvY3M8L2xpPlxuICAgICAgICAgICAgICA8bGk+XHVEODNEXHVEQ0M0IENyXHUwMEU5ZXIgZGVzIHN0cnVjdHVyZXMgZGUgcGFnZXM8L2xpPlxuICAgICAgICAgICAgICA8bGk+XHVEODNEXHVERDBEIEFtXHUwMEU5bGlvcmVyIHRvbiBTRU88L2xpPlxuICAgICAgICAgICAgICA8bGk+XHUyNzBGXHVGRTBGIDxzdHJvbmc+QW5hbHlzZXIgZXQgbW9kaWZpZXIgdGVzIHBhZ2VzPC9zdHJvbmc+IChhdmVjIHZhbGlkYXRpb24pPC9saT5cbiAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgYDtcbiAgICAgIFxuICAgICAgc2hvd1RvYXN0KCdIaXN0b3JpcXVlIGVmZmFjXHUwMEU5Jyk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdbQUldIENsZWFyIGhpc3RvcnkgZmFpbGVkOicsIGVycik7XG4gICAgICBzaG93VG9hc3QoJ0VycmV1ciBsb3JzIGRlIGxcXCdlZmZhY2VtZW50Jyk7XG4gICAgfVxuICB9XG5cbiAgLy8gUHJvbXB0cyByYXBpZGVzXG4gIGNvbnN0IHF1aWNrUHJvbXB0cyA9IHtcbiAgICBjb2xvcnM6ICdTdWdnXHUwMEU4cmUtbW9pIDMgcGFsZXR0ZXMgZGUgY291bGV1cnMgaGFybW9uaWV1c2VzIHBvdXIgbW9uIHNpdGUuIFBvdXIgY2hhcXVlIHBhbGV0dGUsIGRvbm5lIGxlcyBjb3VsZXVycyBUYWlsd2luZDogcHJpbWFyeSwgc2Vjb25kYXJ5LCBhY2NlbnQsIGV0IGJhY2tncm91bmQuJyxcbiAgICBoZXJvOiAnR1x1MDBFOW5cdTAwRThyZSB1biBibG9jIEhlcm8gZW4gSlNPTiBhdmVjIHVuIHRpdHJlIGFjY3JvY2hldXIsIHVuIHNvdXMtdGl0cmUgZW5nYWdlYW50IGV0IHVuIENUQS4nLFxuICAgIHNlbzogJ0FuYWx5c2UgbW9uIHNpdGUgZXQgc3VnZ1x1MDBFOHJlIGRlcyBhbVx1MDBFOWxpb3JhdGlvbnMgU0VPIHBvdXIgbGUgbWV0YSB0aXRsZSBldCBsYSBtZXRhIGRlc2NyaXB0aW9uIGRlIG1hIHBhZ2UgZFxcJ2FjY3VlaWwuJyxcbiAgICBsYW5kaW5nOiAnR1x1MDBFOW5cdTAwRThyZSBsYSBzdHJ1Y3R1cmUgSlNPTiBkXFwndW5lIGxhbmRpbmcgcGFnZSBjb21wbFx1MDBFOHRlIGF2ZWM6IEhlcm8sIDMgc2VjdGlvbnMgZGUgY29udGVudSwgZXQgdW4gQ1RBIGZpbmFsLicsXG4gICAgYW5hbHl6ZTogJ0FuYWx5c2UgbGUgY29udGVudSBkZSB0b3V0ZXMgbWVzIHBhZ2VzIGV0IHByb3Bvc2UgZGVzIGFtXHUwMEU5bGlvcmF0aW9ucyBjb25jclx1MDBFOHRlcy4gUG91ciBjaGFxdWUgc3VnZ2VzdGlvbiBkXFwnYW1cdTAwRTlsaW9yYXRpb24gZGUgdGV4dGUgb3UgZGUgc3RydWN0dXJlLCB1dGlsaXNlIGxlIGZvcm1hdCBwcm9wb3NlLWVkaXQgcG91ciBxdWUgamUgcHVpc3NlIHZhbGlkZXIuJyxcbiAgICBpbXByb3ZlSG9tZTogJ0FuYWx5c2UgbWEgcGFnZSBkXFwnYWNjdWVpbCBldCBwcm9wb3NlIHVuZSBhbVx1MDBFOWxpb3JhdGlvbiBkdSB0aXRyZSBvdSBkdSBIZXJvIHBvdXIgbGUgcmVuZHJlIHBsdXMgaW1wYWN0YW50LiBVdGlsaXNlIGxlIGZvcm1hdCBwcm9wb3NlLWVkaXQuJ1xuICB9O1xuXG4gIC8vIEV2ZW50IGxpc3RlbmVyc1xuICBhaUNoYXRUb2dnbGU/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGlmIChhaUNoYXRPcGVuKSB7XG4gICAgICBjbG9zZUFJQ2hhdCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvcGVuQUlDaGF0KCk7XG4gICAgfVxuICB9KTtcblxuICBhaUNoYXRDbG9zZT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZUFJQ2hhdCk7XG4gIGFpQ2hhdE92ZXJsYXk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VBSUNoYXQpO1xuXG4gIGFpQ2hhdENsZWFyPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBpZiAoY29uZmlybSgnRWZmYWNlciB0b3V0IGxcXCdoaXN0b3JpcXVlIGRlIGNvbnZlcnNhdGlvbiA/JykpIHtcbiAgICAgIGNsZWFyQUlIaXN0b3J5KCk7XG4gICAgfVxuICB9KTtcblxuICBhaUNoYXRGb3JtPy5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCBtZXNzYWdlID0gYWlDaGF0SW5wdXQ/LnZhbHVlPy50cmltKCk7XG4gICAgaWYgKG1lc3NhZ2UpIHtcbiAgICAgIGFpQ2hhdElucHV0LnZhbHVlID0gJyc7XG4gICAgICBzZW5kQUlNZXNzYWdlKG1lc3NhZ2UpO1xuICAgIH1cbiAgfSk7XG5cbiAgYWlRdWlja0J1dHRvbnMuZm9yRWFjaChidG4gPT4ge1xuICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IGFjdGlvbiA9IGJ0bi5kYXRhc2V0LmFpUXVpY2s7XG4gICAgICBjb25zdCBwcm9tcHQgPSBxdWlja1Byb21wdHNbYWN0aW9uXTtcbiAgICAgIGlmIChwcm9tcHQpIHtcbiAgICAgICAgc2VuZEFJTWVzc2FnZShwcm9tcHQpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcblxuICAvLyBGZXJtZXIgYXZlYyBFc2NhcGVcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChlKSA9PiB7XG4gICAgaWYgKGUua2V5ID09PSAnRXNjYXBlJyAmJiBhaUNoYXRPcGVuKSB7XG4gICAgICBjbG9zZUFJQ2hhdCgpO1xuICAgIH1cbiAgfSk7XG59KTtcbiJdLAogICJtYXBwaW5ncyI6ICJNQUFBLFNBQVMsaUJBQWlCLG1CQUFvQixJ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QUN0Q0EsRUFBRSxNQUFRLFVBQVl1ZSxJQUN4Qk0sR0FBWSxDQUVoQixDQUFDLENBQ0gsQ0FBQyIsCiAgIm5hbWVzIjogWyJsb2dvdXRCdXR0b24iLCAiZXJyIiwgInNpZGViYXIiLCAic2lkZWJhck92ZXJsYXkiLCAic2lkZWJhclRvZ2dsZXMiLCAic2lkZWJhckNsb3NlQnV0dG9ucyIsICJib2R5IiwgInNpZGViYXJPcGVuIiwgImFwcGx5U2lkZWJhclN0YXRlIiwgIm9wZW5TaWRlYmFyIiwgImNsb3NlU2lkZWJhciIsICJidXR0b24iLCAiZXZlbnQiLCAiQUNUSVZFX1NJVEVfS0VZIiwgIkFDVElWRV9TSVRFX05BTUVfS0VZIiwgInN0b3JlZFNpdGUiLCAic2l0ZUNhcmRzIiwgInNpdGVTZWxlY3RCdXR0b25zIiwgInNpdGVOYW1lTGFiZWwiLCAid29ya3NwYWNlU2l0ZUxhYmVsIiwgIndvcmtzcGFjZUJhY2tOYW1lIiwgIndvcmtzcGFjZUJhY2tNb2RhbCIsICJ3b3Jrc3BhY2VCYWNrQnV0dG9ucyIsICJ3b3Jrc3BhY2VCYWNrQ2FuY2VsIiwgIndvcmtzcGFjZUJhY2tDb25maXJtIiwgIndvcmtzcGFjZU5hdkxpbmtzIiwgInNpdGVUb2FzdCIsICJzaXRlVG9hc3RNZXNzYWdlIiwgInNpdGVDcmVhdGVCdXR0b25zIiwgInNpdGVNb2RhbCIsICJzaXRlRm9ybSIsICJzaXRlTmFtZUlucHV0IiwgInNpdGVTbHVnSW5wdXQiLCAic2l0ZVNsdWdFcnJvciIsICJzaXRlTW9kYWxFcnJvciIsICJzaXRlTW9kYWxDYW5jZWxCdXR0b25zIiwgInNpdGVNb2RhbFN1Ym1pdEJ1dHRvbiIsICJ3b3Jrc3BhY2VDb250ZXh0IiwgImdldFdvcmtzcGFjZUNvbnRleHQiLCAic2x1Z01hbnVhbGx5RWRpdGVkIiwgInRvYXN0VGltZW91dElkIiwgImZvY3VzYWJsZVNlbGVjdG9yIiwgIm1vZGFsU3RhY2siLCAiZ2V0Rm9jdXNhYmxlRWxlbWVudHMiLCAibW9kYWwiLCAiZWwiLCAiaGFuZGxlTW9kYWxLZXlkb3duIiwgImN1cnJlbnRFbnRyeSIsICJvbkNsb3NlIiwgImZvY3VzYWJsZUVsZW1lbnRzIiwgImZpcnN0IiwgImxhc3QiLCAiYWN0aXZhdGVNb2RhbCIsICJmb2N1c2FibGUiLCAiX2EiLCAiX2IiLCAiZGVhY3RpdmF0ZU1vZGFsIiwgImluZGV4IiwgImVudHJ5IiwgInNob3dUb2FzdCIsICJtZXNzYWdlIiwgImVuc3VyZUxlYWRpbmdTbGFzaCIsICJzbHVnIiwgInN0cmlwTGVhZGluZ1NsYXNoIiwgInBlcnNpc3RTaXRlU3RhdGUiLCAibmFtZSIsICJub3JtYWxpemVkU2x1ZyIsICJ1cGRhdGVTaXRlTGFiZWxzIiwgInVwZGF0ZVdvcmtzcGFjZU5hdkxpbmtzIiwgImxpbmsiLCAidGFiIiwgInNsdWdQYXRoIiwgImFwcGx5QWN0aXZlU2l0ZSIsICJvcHRpb25zIiwgImFjdGl2ZVNpdGVOYW1lIiwgImNhcmQiLCAiaXNBY3RpdmUiLCAiYmFkZ2UiLCAiZmluYWxOYW1lIiwgInNlbGVjdFNpdGUiLCAicmVzcG9uc2UiLCAicGF5bG9hZCIsICJmaW5hbFNsdWciLCAic3luY0FjdGl2ZVNpdGVGcm9tU2VydmVyIiwgInNpdGUiLCAiZGVmYXVsdENhcmQiLCAid29ya3NwYWNlU2x1Z2lmeSIsICJ2YWx1ZSIsICJub3JtYWxpemVTbHVnVmFsdWUiLCAiYmFzZSIsICJvcGVuU2l0ZU1vZGFsIiwgImNsb3NlU2l0ZU1vZGFsIiwgInNsdWdWYWwiLCAibmFtZVZhbCIsICJnZXRTbHVnU2V0IiwgIm5hbWVWYWx1ZSIsICJzbHVnVmFsdWUiLCAiY3JlYXRlZFNpdGUiLCAiY2xvc2VXb3Jrc3BhY2VCYWNrTW9kYWwiLCAibWF0Y2giLCAiZGV0ZWN0V29ya3NwYWNlU2VjdGlvbiIsICJvcGVuV29ya3NwYWNlQmFja01vZGFsIiwgImFjdGl2ZVNlY3Rpb24iLCAiaW5pdERlc2lnbldvcmtzcGFjZSIsICJpbml0Q29udGVudFdvcmtzcGFjZSIsICJpbml0TWVkaWFXb3Jrc3BhY2UiLCAiaW5pdERlcGxveVdvcmtzcGFjZSIsICJpbml0U2V0dGluZ3NXb3Jrc3BhY2UiLCAicGFnZUxpc3RzIiwgImFjdGl2ZVRpdGxlIiwgImFjdGl2ZVNsdWciLCAicHJldmlld1RhZ3MiLCAicHJldmlld0ZyYW1lIiwgInByZXZpZXdPcGVuQnV0dG9uIiwgInByZXZpZXdTdGF0dXMiLCAicHJldmlld0hpZ2hsaWdodE92ZXJsYXkiLCAic2VvVG9nZ2xlQnV0dG9uIiwgInNlb1BhbmVsIiwgInNlb0Nsb3NlQnV0dG9uIiwgInNlb0Zvcm0iLCAic2VvVGl0bGVJbnB1dCIsICJzZW9EZXNjcmlwdGlvbklucHV0IiwgInNlb0luZGV4ZWRDaGVja2JveCIsICJzZW9GZWVkYmFjayIsICJzZW9TYXZlQnV0dG9uIiwgInBhZ2VBY2Nlc3NpYmlsaXR5VG9nZ2xlQnV0dG9uIiwgInBhZ2VBY2Nlc3NpYmlsaXR5UGFuZWwiLCAicGFnZUFjY2Vzc2liaWxpdHlDbG9zZUJ1dHRvbiIsICJwYWdlQWNjZXNzaWJpbGl0eUZvcm0iLCAicGFnZUFjY2Vzc2liaWxpdHlOYXZDaGVja2JveCIsICJwYWdlQWNjZXNzaWJpbGl0eU1haW5JbnB1dCIsICJwYWdlQWNjZXNzaWJpbGl0eUZlZWRiYWNrIiwgInBhZ2VBY2Nlc3NpYmlsaXR5U2F2ZUJ1dHRvbiIsICJwYWdlUHJvcHNUb2dnbGVCdXR0b24iLCAicGFnZVByb3BzUGFuZWwiLCAicGFnZVByb3BzQ2xvc2VCdXR0b24iLCAicGFnZVByb3BzRm9ybSIsICJwYWdlTmFtZUlucHV0IiwgInBhZ2VUaXRsZUlucHV0IiwgInBhZ2VTbHVnSW5wdXQiLCAicGFnZURlc2NyaXB0aW9uSW5wdXQiLCAicGFnZVByb3BzRmVlZGJhY2siLCAicGFnZVByb3BzU2F2ZUJ1dHRvbiIsICJibG9ja0xpc3QiLCAiYmxvY2tMaXN0RW1wdHkiLCAiYmxvY2tDb3VudEJhZGdlIiwgImJsb2NrTGlicmFyeVRvZ2dsZSIsICJibG9ja0xpYnJhcnkiLCAiYmxvY2tBZGRCdXR0b25zIiwgImJsb2NrRGVsZXRlTW9kYWwiLCAiYmxvY2tEZWxldGVDb25maXJtIiwgImJsb2NrRGVsZXRlQ2FuY2VsIiwgImJsb2NrRGV0YWlsRW1wdHkiLCAiYmxvY2tEZXRhaWxTdGF0dXMiLCAiYmxvY2tFZGl0b3IiLCAiYmxvY2tFZGl0b3JUaXRsZSIsICJibG9ja0VkaXRvclR5cGUiLCAiYmxvY2tFZGl0b3JVbnN1cHBvcnRlZCIsICJibG9ja0Zvcm0iLCAiYmxvY2tGb3JtU2VjdGlvbnMiLCAiYmxvY2tUYWJzIiwgImFjdGl2ZUJsb2NrVGFiIiwgImxlZnRQYW5lbFRhYnMiLCAibGVmdFBhbmVsQmxvY2tzIiwgImxlZnRQYW5lbFBhZ2VzIiwgImFjdGl2ZUxlZnRUYWIiLCAic3dpdGNoTGVmdFRhYiIsICJ0YWJOYW1lIiwgImJsb2NrRm9ybUFjdGlvbnMiLCAiYmxvY2tGb3JtQXV0b3NhdmUiLCAic3dpdGNoQmxvY2tUYWIiLCAicGFuZWwiLCAiY29sbGVjdGlvblNlbGVjdCIsICJjb2xsZWN0aW9uU2VsZWN0aW9uSW5mbyIsICJibG9ja0Zvcm1DYW5jZWwiLCAiZ3JvdXBQcmV2aWV3TW9iaWxlIiwgImdyb3VwUHJldmlld0Rlc2t0b3AiLCAiY29sbGVjdGlvblByZXZpZXdNb2JpbGUiLCAiY29sbGVjdGlvblByZXZpZXdEZXNrdG9wIiwgImJsb2NrVHlwZUZvcm1zIiwgImJsb2NrVHlwZUFsaWFzZXMiLCAiYW5pbWF0aW9uRmllbGRNYXAiLCAiY29uZmlnIiwgInVwZGF0ZUdyb3VwTWluaVByZXZpZXciLCAibW9iaWxlVmFsdWUiLCAiZGVza3RvcFZhbHVlIiwgInJlbmRlckJveGVzIiwgImNvdW50IiwgInVwZGF0ZUNvbGxlY3Rpb25NaW5pUHJldmlldyIsICJmZXRjaFBhZ2VzRnJvbVNlcnZlciIsICJwYWdlc0FwaUJhc2UiLCAiY3JlYXRlUGFnZU9uU2VydmVyIiwgInRpdGxlIiwgInNhdmVQYWdlVG9TZXJ2ZXIiLCAicGFnZSIsICJzYXZlZCIsICJub3JtYWxpemVkIiwgIm5vcm1hbGl6ZVBhZ2VEYXRhIiwgInBhZ2VzIiwgImN1cnJlbnRQYWdlIiwgImxvYWRQYWdlc0Zyb21TZXJ2ZXIiLCAiYWN0aXZlUGFnZUlkIiwgInJlbmRlclBhZ2VMaXN0cyIsICJyZW5kZXJCbG9ja0xpc3QiLCAibG9hZGVkUGFnZXMiLCAiZ2V0TG9hZGluZ1ByZXZpZXdIdG1sIiwgImdldFN0b3JlZEFjdGl2ZVBhZ2UiLCAic2V0QWN0aXZlUGFnZSIsICJub3JtYWxpemVUeXBlIiwgImdldEJsb2NrRm9ybUNvbmZpZyIsICJibG9jayIsICJ0eXBlS2V5IiwgImFsaWFzIiwgInBvcHVsYXRlQmxvY2tGb3JtIiwgIl9jIiwgIl9kIiwgIl9lIiwgInNlY3Rpb24iLCAiZGVzaXJlZFZhbHVlIiwgInVwZGF0ZUNvbGxlY3Rpb25TZWxlY3RPcHRpb25zIiwgInNldHRpbmdLZXkiLCAiZmllbGROYW1lIiwgImlucHV0IiwgImZhbGxiYWNrIiwgInNlbGVjdCIsICJzZWxlY3RlZE9wdGlvbiIsICJjb2xvciIsICJjb2xvclByZXZpZXciLCAiY29sbGVjdEZvcm1WYWx1ZXMiLCAidmFsdWVzIiwgInBhcnNlZCIsICJ1cGRhdGVQcmV2aWV3U3RhdHVzIiwgInRleHQiLCAic2VyaWFsaXplUGFnZUZvclByZXZpZXciLCAic2VyaWFsaXplQmxvY2siLCAiZGVib3VuY2UiLCAiZm4iLCAiZGVsYXkiLCAidGltZW91dElkIiwgImFyZ3MiLCAiYXV0b1NhdmVBcHBlYXJhbmNlIiwgImFjdGl2ZUJsb2NrSWQiLCAiZ2V0QWN0aXZlQmxvY2siLCAidXBkYXRlZEJsb2NrcyIsICJ1cGRhdGVkU2V0dGluZ3MiLCAibmV4dFBhZ2UiLCAicCIsICJ1cGRhdGVQcmV2aWV3QmxvY2tMaXZlIiwgImJsb2NrSWQiLCAic2V0dGluZ3MiLCAiZGVib3VuY2VkUmVmcmVzaFByZXZpZXciLCAicmVmcmVzaFByZXZpZXciLCAiaGFuZGxlQXBwZWFyYW5jZUNoYW5nZSIsICJwcmV2aWV3U2l0ZVNsdWciLCAic2VyaWFsaXplZFBhZ2VzIiwgInByZXZpZXdSZWFkeSIsICJwcmV2aWV3UmVxdWVzdENvbnRyb2xsZXIiLCAiY29udHJvbGxlciIsICJkYXRhIiwgImxhdGVzdFByZXZpZXdIdG1sIiwgImVycm9yIiwgImhhbmRsZUJsb2NrRm9ybVN1Ym1pdCIsICJhbHRWYWx1ZSIsICJ1cGRhdGVkQmxvY2siLCAidXBkYXRlQ3VycmVudFBhZ2VCbG9ja3MiLCAiZHJhd2VyIiwgImRyYXdlckJhY2tkcm9wIiwgImRyYXdlck9wZW5CdXR0b25zIiwgImRyYXdlckNsb3NlQnV0dG9ucyIsICJhZGRQYWdlVG9nZ2xlIiwgImFkZFBhZ2VGb3JtIiwgImFkZFBhZ2VOYW1lIiwgImFkZFBhZ2VUaXRsZSIsICJhZGRQYWdlU2x1ZyIsICJhZGRQYWdlQ2FuY2VsIiwgImFkZFBhZ2VFcnJvciIsICJhZGRQYWdlU3VibWl0QnV0dG9uIiwgImltcG9ydFRvZ2dsZSIsICJpbXBvcnRNb2RhbCIsICJpbXBvcnRDbG9zZUJ1dHRvbnMiLCAiaW1wb3J0RHJvcHpvbmUiLCAiaW1wb3J0RmlsZUlucHV0IiwgImltcG9ydEZpbGVMaXN0IiwgImltcG9ydEZpbGVOYW1lcyIsICJpbXBvcnRSZXN1bHRzIiwgImltcG9ydFJlc3VsdHNDb250ZW50IiwgImltcG9ydFN1Ym1pdCIsICJpbXBvcnRUYWJzIiwgImltcG9ydFBhbmVscyIsICJjb3B5VGVtcGxhdGVCdG4iLCAidGVtcGxhdGVKc29uIiwgImltcG9ydFBhc3RlSW5wdXQiLCAicGFzdGVGb3JtYXRCdG4iLCAicGFzdGVFcnJvciIsICJpbXBvcnRTZWxlY3RlZEZpbGVzIiwgImFjdGl2ZUltcG9ydFRhYiIsICJkZWxldGVQYWdlTW9kYWwiLCAiZGVsZXRlUGFnZU5hbWUiLCAiZGVsZXRlUGFnZUNhbmNlbCIsICJkZWxldGVQYWdlQ29uZmlybSIsICJwYWdlVG9EZWxldGUiLCAic2l0ZUtleSIsICJzaXRlU2x1Z1ZhbHVlIiwgInNhZmVTaXRlU2x1ZyIsICJjb2xsZWN0aW9uc0FwaUJhc2UiLCAic3RvcmFnZUtleXMiLCAiY3JlYXRlQmxvY2siLCAiaWQiLCAibGFiZWwiLCAidHlwZSIsICJzdGF0dXMiLCAiZGVzY3JpcHRpb24iLCAicHJvcHMiLCAiYmxvY2tMaWJyYXJ5RGVmaW5pdGlvbnMiLCAicGVyc2lzdEFjdGl2ZVBhZ2UiLCAicGFnZUlkIiwgInN0b3JlZCIsICJmb3JtYXRCbG9ja0NvdW50IiwgIm5vcm1hbGl6ZVBhZ2VTbHVnIiwgImdlbmVyYXRlQmxvY2tJZCIsICJrZXkiLCAiY3JlYXRlSW5pdGlhbEJsb2NrcyIsICJzZXRBY3RpdmVMYWJlbHMiLCAicmVuZGVyUHJldmlld01ldGEiLCAidGFnIiwgImdldFN0YXR1c0JhZGdlQ2xhc3NlcyIsICJyZW5kZXJCbG9ja0RldGFpbHMiLCAiYXBwbHlQcmV2aWV3SGlnaGxpZ2h0IiwgImRvYyIsICJub2RlIiwgImNyZWF0ZUJsb2NrSXRlbUVsZW1lbnQiLCAiaXNOZXN0ZWQiLCAicGFyZW50SWQiLCAiYmxvY2tUeXBlIiwgImlzR3JvdXAiLCAiaXRlbSIsICJhY2NlbnQiLCAiY29udGVudCIsICJoYW5kbGUiLCAidGV4dFdyYXBwZXIiLCAibWV0YSIsICJ0eXBlQmFkZ2UiLCAic3RhdHVzQmFkZ2UiLCAiY2hpbGRDb3VudCIsICJjaGlsZEJhZGdlIiwgImRpc3BsYXlMYWJlbCIsICJjb2xsZWN0aW9uTmFtZSIsICJkZXNpZ25Db2xsZWN0aW9ucyIsICJpbmZvIiwgImFjdGlvbnMiLCAibW92ZUJ1dHRvbnMiLCAibW92ZVVwIiwgIm1vdmVDaGlsZEJsb2NrQnlPZmZzZXQiLCAibW92ZUJsb2NrQnlPZmZzZXQiLCAibW92ZURvd24iLCAiZGVsZXRlQnV0dG9uIiwgInJlbW92ZUNoaWxkRnJvbUdyb3VwIiwgIm9wZW5CbG9ja0RlbGV0ZU1vZGFsIiwgInNldEFjdGl2ZUJsb2NrIiwgImNyZWF0ZUdyb3VwRHJvcFpvbmUiLCAicGFyZW50QmxvY2siLCAiZHJvcFpvbmUiLCAiZSIsICJtb3ZlQmxvY2tUb0dyb3VwIiwgIm9wZW5BZGRCbG9ja1RvR3JvdXBNb2RhbCIsICJibG9ja3MiLCAiY2hpbGQiLCAiY2hpbGRJdGVtIiwgImdyb3VwSWQiLCAiYmxvY2tJbmRleCIsICJiIiwgImdyb3VwQmxvY2siLCAibW92ZWRCbG9jayIsICJjaGlsZElkIiwgImNoaWxkSW5kZXgiLCAiYyIsICJncm91cEluZGV4IiwgIm9mZnNldCIsICJjdXJyZW50SW5kZXgiLCAibmV3SW5kZXgiLCAicGVuZGluZ0dyb3VwSWRGb3JOZXdCbG9jayIsICJvcGVuRGVsZXRlUGFnZU1vZGFsIiwgImNsb3NlRGVsZXRlUGFnZU1vZGFsIiwgImV4ZWN1dGVEZWxldGVQYWdlIiwgInBhZ2VUaXRsZSIsICJyZXN1bHQiLCAiYWN0aXZlSWQiLCAibGlzdCIsICJkaXNwbGF5TmFtZSIsICJuYXZCYWRnZSIsICJpc0Rlc2t0b3BEcmF3ZXIiLCAiY2xvc2VEcmF3ZXIiLCAiZGVsZXRlQnRuIiwgImFjdGl2ZUJsb2NrUGFyZW50SWQiLCAidGFyZ2V0QmxvY2siLCAiZm91bmQiLCAibmV3QmxvY2tzIiwgInVwZGF0ZUN1cnJlbnRQYWdlU3RhdGUiLCAiaXNEZXNrdG9wUmVvcmRlciIsICJtb3ZlZCIsICJyZW9yZGVyQmxvY2tzIiwgInNvdXJjZUlkIiwgInRhcmdldElkIiwgImZyb21JbmRleCIsICJ0b0luZGV4IiwgInJlb3JkZXJCbG9ja3NXaXRoUG9zaXRpb24iLCAicG9zaXRpb24iLCAiaW5zZXJ0SW5kZXgiLCAidXBkYXRlRHJhZ2dhYmxlU3RhdGUiLCAiZHJhZ2dhYmxlIiwgImNsb3NlQmxvY2tMaWJyYXJ5IiwgImJsb2NrTGlicmFyeU9wZW4iLCAib3BlbkJsb2NrTGlicmFyeSIsICJ0b2dnbGVCbG9ja0xpYnJhcnkiLCAiYWRkQmxvY2tGcm9tTGlicmFyeSIsICJkZWZpbml0aW9uIiwgIm5ld0Jsb2NrIiwgImZpcnN0Q29sbGVjdGlvbklkIiwgIm5leHRCbG9ja3MiLCAiZGVsZXRlQmxvY2tCeUlkIiwgIm5leHRBY3RpdmUiLCAiY2xvc2VCbG9ja0RlbGV0ZU1vZGFsIiwgInBlbmRpbmdEZWxldGVCbG9ja0lkIiwgInRhcmdldCIsICJzeW5jUGFnZUFjY2Vzc2liaWxpdHlGaWVsZHMiLCAic3luY0RyYXdlclN0YXRlIiwgIm9wZW5EcmF3ZXIiLCAib3BlbkFkZFBhZ2VGb3JtIiwgInBhZ2VTbHVnTWFudWFsbHlFZGl0ZWQiLCAiY2xvc2VBZGRQYWdlRm9ybSIsICJzeW5jU2x1Z0Zyb21OYW1lIiwgIm5vcm1hbGl6ZUJsb2NrRGF0YSIsICJsb2FkRGVzaWduQ29sbGVjdGlvbnMiLCAiY3VycmVudFZhbHVlIiwgInN5bmNDb2xsZWN0aW9uU2VsZWN0aW9uSW5mbyIsICJjb2xsZWN0aW9uSWQiLCAiY29sbGVjdGlvbiIsICJkZXRhaWxzIiwgInNlbGVjdGVkVmFsdWUiLCAib3B0aW9uIiwgImZhbGxiYWNrT3B0aW9uIiwgImNyZWF0ZWRQYWdlIiwgInJlc2V0UGFzdGVTdGF0ZSIsICJ2YWxpZGF0ZVBhc3RlSnNvbiIsICJmb3JtYXRQYXN0ZUpzb24iLCAidXBkYXRlSW1wb3J0U3VibWl0U3RhdGUiLCAib3BlbkltcG9ydE1vZGFsIiwgInVwZGF0ZUltcG9ydEZpbGVMaXN0IiwgInQiLCAiY2xvc2VJbXBvcnRNb2RhbCIsICJmIiwgImhhbmRsZUltcG9ydEZpbGVzIiwgImZpbGVzIiwgImpzb25GaWxlcyIsICJleGVjdXRlSW1wb3J0IiwgIl9mIiwgIl9nIiwgIl9oIiwgIl9pIiwgIl9qIiwgIl9rIiwgInBhZ2VzRGF0YSIsICJwYXJzZUVyciIsICJlcnJvckxpbmUiLCAiZXJyb3JEZXRhaWwiLCAicG9zIiwgImxpbmVzIiwgImxpbmVOdW0iLCAiY29sTnVtIiwgImZpbGVFcnJvcnMiLCAiZmlsZSIsICJodG1sIiwgImhhc0RhdGEiLCAiaGFzU3VjY2VzcyIsICJoYXNFcnJvcnMiLCAiY29sbGVjdGlvbnNNc2ciLCAiYnRuIiwgInRhcmdldFBhbmVsIiwgInByZXZpZXdXaW5kb3ciLCAidG9nZ2xlU2VvUGFuZWwiLCAic2hvdyIsICJzZXRTZW9GZWVkYmFjayIsICJ0b25lIiwgImlzVmlzaWJsZSIsICJzZW9EYXRhIiwgInVwZGF0ZWRQYWdlIiwgInRvZ2dsZVBhZ2VBY2Nlc3NpYmlsaXR5UGFuZWwiLCAic2V0UGFnZUFjY2Vzc2liaWxpdHlGZWVkYmFjayIsICJhY2Nlc3NpYmlsaXR5RGF0YSIsICJ0b2dnbGVQYWdlUHJvcHNQYW5lbCIsICJzZXRQYWdlUHJvcHNGZWVkYmFjayIsICJuZXdOYW1lIiwgIm5ld1RpdGxlIiwgIm5ld1NsdWciLCAibmV3RGVzY3JpcHRpb24iLCAiaGFuZGxlQmxvY2tEcmFnU3RhcnQiLCAiZHJhZ1NvdXJjZUlkIiwgImNsZWFyRHJhZ0luZGljYXRvcnMiLCAiaGFuZGxlQmxvY2tEcmFnRW5kIiwgImhhbmRsZUJsb2NrRHJhZ092ZXIiLCAicmVjdCIsICJtaWRZIiwgImlzQWJvdmUiLCAiaGFuZGxlQmxvY2tEcmFnTGVhdmUiLCAicmVsYXRlZFRhcmdldCIsICJoYW5kbGVCbG9ja0Ryb3AiLCAic291cmNlIiwgImRyb3BQb3NpdGlvbiIsICJhY3RpdmVQYWdlIiwgImNvbGxlY3Rpb25MaXN0IiwgImNvbnRlbnRWaWV3cyIsICJjb250ZW50U2VjdGlvbkJ1dHRvbnMiLCAiY29udGVudFNlY3Rpb25UcmlnZ2VycyIsICJjb250ZW50RHJhd2VyIiwgImNvbnRlbnREcmF3ZXJCYWNrZHJvcCIsICJjb250ZW50RHJhd2VyT3BlbkJ1dHRvbnMiLCAiY29udGVudERyYXdlckNsb3NlQnV0dG9ucyIsICJoZWFkZXJTdGF0dXNJbmRpY2F0b3IiLCAiZm9vdGVyU3RhdHVzSW5kaWNhdG9yIiwgImNvbGxlY3Rpb25Db3VudEVsIiwgImhlYWRlckZpZWxkcyIsICJoZWFkZXJOYXZMaXN0IiwgImhlYWRlck5hdkFkZEJ0biIsICJoZWFkZXJTYXZlQnRuIiwgImhlYWRlck5hdkl0ZW1UZW1wbGF0ZSIsICJoZWFkZXJQYWdlc0xpc3QiLCAic2l0ZVBhZ2VzIiwgInNlbGVjdGVkTmF2UGFnZXMiLCAiZm9vdGVyRmllbGRzIiwgImZvb3RlckNvbHVtbnNMaXN0IiwgImZvb3RlckNvbHVtbkFkZEJ0biIsICJmb290ZXJTYXZlQnRuIiwgImZvb3RlckNvbHVtblRlbXBsYXRlIiwgImZvb3RlckxpbmtUZW1wbGF0ZSIsICJhY3RpdmVDb250ZW50U2VjdGlvbiIsICJoZWFkZXJEYXRhIiwgImZvb3RlckRhdGEiLCAic2FmZVNpdGVTbHVnRm9yTGF5b3V0IiwgImxheW91dEFwaUJhc2UiLCAic2hvd0NvbnRlbnRWaWV3IiwgInZpZXdOYW1lIiwgIm9wZW5Db250ZW50RHJhd2VyIiwgImNsb3NlQ29udGVudERyYXdlciIsICJsb2FkU2l0ZVBhZ2VzRm9ySGVhZGVyIiwgInJlbmRlclBhZ2VDaGVja2JveGVzIiwgInBhZ2VTbHVnIiwgInBhZ2VEaXNwbGF5TmFtZSIsICJwYWdlVXJsIiwgImlzU2VsZWN0ZWQiLCAibmF2IiwgImNoZWNrYm94IiwgImNvbGxlY3RIZWFkZXJEYXRhIiwgIl9sIiwgIl9tIiwgInVybCIsICJwb3B1bGF0ZUhlYWRlckZvcm0iLCAiYWRkRm9vdGVyTGluayIsICJjb250YWluZXIiLCAiY2xvbmUiLCAibGFiZWxJbnB1dCIsICJ1cmxJbnB1dCIsICJyZW1vdmVCdG4iLCAiYWRkRm9vdGVyQ29sdW1uIiwgImxpbmtzIiwgImNvbHVtbiIsICJ0aXRsZUlucHV0IiwgImxpbmtzQ29udGFpbmVyIiwgImFkZExpbmtCdG4iLCAiY29sbGVjdEZvb3RlckRhdGEiLCAiX24iLCAiX28iLCAiX3AiLCAiX3EiLCAiX3IiLCAiX3MiLCAiX3QiLCAiY29sdW1ucyIsICJjb2wiLCAibGlua0VsIiwgInBvcHVsYXRlRm9vdGVyRm9ybSIsICJ2IiwgImNvbGxlY3Rpb25FbXB0eVN0YXRlIiwgImNvbGxlY3Rpb25JdGVtc0VtcHR5IiwgIml0ZW1UYWJsZVdyYXBwZXIiLCAiaXRlbVRhYmxlQm9keSIsICJjb2xsZWN0aW9uVGl0bGUiLCAiY29sbGVjdGlvbkRlc2NyaXB0aW9uIiwgIml0ZW1BZGRCdXR0b24iLCAiaXRlbURldGFpbEVtcHR5IiwgIml0ZW1Gb3JtIiwgIml0ZW1Gb3JtRmllbGRzIiwgIml0ZW1TdGF0dXNCYWRnZSIsICJpdGVtRGVsZXRlQnV0dG9uIiwgIml0ZW1EZWxldGVNb2RhbCIsICJpdGVtRGVsZXRlQ2FuY2VsIiwgIml0ZW1EZWxldGVDb25maXJtIiwgIml0ZW1Gb3JtQ2FuY2VsIiwgIml0ZW1Gb3JtU2F2ZSIsICJzdGF0dXNCYWRnZUJhc2VDbGFzcyIsICJzYWZlU2l0ZVNsdWdWYWx1ZSIsICJjb2xsZWN0aW9ucyIsICJjb2xsZWN0aW9uSXRlbXMiLCAiYWN0aXZlQ29sbGVjdGlvbklkIiwgImFjdGl2ZUl0ZW1JZCIsICJpc0NyZWF0aW5nSXRlbSIsICJpdGVtU2x1Z01hbnVhbGx5RWRpdGVkIiwgInBlbmRpbmdEZWxldGVJdGVtSWQiLCAibm9ybWFsaXplSXRlbVNsdWdJbnB1dCIsICJyYXciLCAiY2xlYW5lZFNlZ21lbnRzIiwgInNlZ21lbnQiLCAiZm9ybWF0SXRlbURhdGUiLCAiZGF0ZSIsICJ1cGRhdGVDb2xsZWN0aW9uSGVhZGVyIiwgInVwZGF0ZUl0ZW1zRW1wdHlNZXNzYWdlIiwgImhpZGVJdGVtRm9ybSIsICJzaG93SXRlbUZvcm0iLCAic3luY0FkZEJ1dHRvblN0YXRlIiwgInN5bmNJdGVtU3RhdHVzQmFkZ2UiLCAiY29sb3JDbGFzcyIsICJyZW5kZXJDb2xsZWN0aW9uTGlzdCIsICJzZXRBY3RpdmVDb2xsZWN0aW9uIiwgInJlbmRlckl0ZW1UYWJsZSIsICJyb3ciLCAic3RhdHVzQ2xhc3NlcyIsICJoYW5kbGVTZWxlY3QiLCAic2VsZWN0SXRlbSIsICJpdGVtSWQiLCAicG9wdWxhdGVJdGVtRm9ybSIsICJwcmVwYXJlTmV3SXRlbUZvcm0iLCAiY29sbGVjdEl0ZW1Gb3JtVmFsdWVzIiwgInNsdWdJbnB1dCIsICJzdW1tYXJ5IiwgImltYWdlIiwgImN0YVRleHQiLCAiY3RhVXJsIiwgImN0YSIsICJzZXRGb3JtU2F2aW5nU3RhdGUiLCAiaXNTYXZpbmciLCAiZmV0Y2hDb2xsZWN0aW9uSXRlbXMiLCAiY3JlYXRlQ29sbGVjdGlvbkl0ZW0iLCAidXBkYXRlQ29sbGVjdGlvbkl0ZW0iLCAiZGVsZXRlQ29sbGVjdGlvbkl0ZW0iLCAibG9hZENvbGxlY3Rpb25zIiwgImRlZmF1bHRJZCIsICJzYXZlZEl0ZW0iLCAiY2xvc2VEZWxldGVNb2RhbCIsICJvcGVuRGVsZXRlTW9kYWwiLCAiZm9ybSIsICJwcm90b2NvbFNlbGVjdCIsICJob3N0SW5wdXQiLCAicG9ydElucHV0IiwgInVzZXJJbnB1dCIsICJwYXNzd29yZElucHV0IiwgInNob3dQYXNzd29yZFRvZ2dsZSIsICJyZW1vdGVQYXRoSW5wdXQiLCAiZmVlZGJhY2siLCAic2F2ZUJ1dHRvbiIsICJ0ZXN0QnV0dG9uIiwgImRlcGxveUJ1dHRvbiIsICJoaXN0b3J5TGlzdCIsICJsb2dCb3giLCAiZGVwbG95QXBpQmFzZSIsICJkZXBsb3lSdW5BcGkiLCAiZGVwbG95TG9nQXBpIiwgImhhc1Bhc3N3b3JkIiwgImJ1c3lBY3Rpb24iLCAic2FuaXRpemVSZW1vdGVQYXRoIiwgInRyaW1tZWQiLCAic2V0RmVlZGJhY2siLCAiYmFzZUNsYXNzIiwgInRvbmVDbGFzcyIsICJpY29uIiwgInNldEJ1c3kiLCAiYWN0aW9uIiwgImRpc2FibGUiLCAic3Bpbm5lciIsICJwb3B1bGF0ZUZvcm0iLCAicmVuZGVySGlzdG9yeSIsICJlbnRyaWVzIiwgImxpIiwgImR1cmF0aW9uIiwgInJlbmRlckxvZ3MiLCAiZmV0Y2hIaXN0b3J5IiwgImZldGNoQ29uZmlnIiwgImJ1aWxkUGF5bG9hZCIsICJwd2QiLCAiZXJyb3JQYXlsb2FkIiwgImRvd25sb2FkQnV0dG9uIiwgImRvd25sb2FkRmVlZGJhY2siLCAiZG93bmxvYWRBcGkiLCAic2V0RG93bmxvYWRGZWVkYmFjayIsICJvcmlnaW5hbENvbnRlbnQiLCAiZXJyb3JEYXRhIiwgImJsb2IiLCAiYSIsICJ0YWJCdXR0b25zIiwgInRhYlBhbmVscyIsICJzaXRlRmVlZGJhY2siLCAidGhlbWVGb3JtIiwgInN3aXRjaFRhYiIsICJzdWJtaXQiLCAiZm9ybURhdGEiLCAiY3VycmVudFBhc3N3b3JkIiwgIm5ld1Bhc3N3b3JkIiwgImNvbmZpcm1QYXNzd29yZCIsICJuYW1lSW5wdXQiLCAibGFuZ1NlbGVjdCIsICJ0YWdsaW5lSW5wdXQiLCAic2V0U2l0ZUZlZWRiYWNrIiwgInNpdGVDb25maWdBcGkiLCAibG9hZFNpdGVDb25maWciLCAidGhlbWVBcGkiLCAiY29sb3JTZWxlY3RzIiwgImhlYWRpbmdTZWxlY3QiLCAiYm9keVNlbGVjdCIsICJyYWRpdXNTbWFsbCIsICJyYWRpdXNNZWRpdW0iLCAicmFkaXVzTGFyZ2UiLCAicHJldmlldyIsICJ0aGVtZUZlZWRiYWNrIiwgImFwcGx5QnV0dG9uIiwgInRhaWx3aW5kSHVlcyIsICJ0YWlsd2luZFNoYWRlcyIsICJ0YWlsd2luZFRva2VucyIsICJoIiwgInMiLCAiZmlsbENvbG9yT3B0aW9ucyIsICJzZWwiLCAidG9rZW4iLCAic2V0VGhlbWVGZWVkYmFjayIsICJzeW5jUHJldmlldyIsICJ0b2tlblRvSGV4IiwgInNoYWRlTnVtIiwgImZhY3RvciIsICJ0b1JnYiIsICJoZXgiLCAiciIsICJnIiwgIm1peCIsICJzZXRDb2xvckZpZWxkcyIsICJ1cGRhdGVDb2xvclNlbGVjdFByZXZpZXciLCAiaW5pdENvbG9yUHJldmlld3MiLCAibG9hZFRoZW1lIiwgInNlb0NvbmZpZ0Zvcm0iLCAiaW5kZXhBbGxDaGVja2JveCIsICJzZW9Db25maWdGZWVkYmFjayIsICJsb2FkU2VvQ29uZmlnIiwgImluZGV4QWxsIiwgImN1cnJlbnRSZXMiLCAiY3VycmVudENvbmZpZyIsICJhbmFseXRpY3NGb3JtIiwgImhlYWRUZXh0YXJlYSIsICJib2R5VGV4dGFyZWEiLCAiYW5hbHl0aWNzRmVlZGJhY2siLCAiYW5hbHl0aWNzU2F2ZUJ1dHRvbiIsICJzZXRBbmFseXRpY3NGZWVkYmFjayIsICJsb2FkQW5hbHl0aWNzQ29uZmlnIiwgImFjY2Vzc2liaWxpdHlGb3JtIiwgImFuaW1hdGlvbnNUb2dnbGUiLCAiY29udHJhc3RUb2dnbGUiLCAiYWNjZXNzaWJpbGl0eUZlZWRiYWNrIiwgImFjY2Vzc2liaWxpdHlTYXZlQnV0dG9uIiwgInNldEFjY2Vzc2liaWxpdHlGZWVkYmFjayIsICJsb2FkQWNjZXNzaWJpbGl0eUNvbmZpZyIsICJhaUNvbmZpZ0Zvcm0iLCAiYXBpS2V5SW5wdXQiLCAibW9kZWxTZWxlY3QiLCAicHJvamVjdFByb21wdFRleHRhcmVhIiwgImVuYWJsZWRDaGVja2JveCIsICJhaUZlZWRiYWNrIiwgImFpU2F2ZUJ1dHRvbiIsICJhaUNvbmZpZ0FwaSIsICJzZXRBSUZlZWRiYWNrIiwgImxvYWRBSUNvbmZpZyIsICJhcGlLZXlWYWx1ZSIsICJncmlkIiwgImVtcHR5U3RhdGUiLCAiY291bnRCYWRnZSIsICJmaWx0ZXJUeXBlIiwgImRldGFpbEVtcHR5IiwgImRldGFpbFBhbmVsIiwgImRldGFpbFByZXZpZXciLCAiZGV0YWlsTmFtZSIsICJkZXRhaWxUeXBlIiwgImRldGFpbFNpemUiLCAiZGV0YWlsUGF0aCIsICJkZXRhaWxVc2VkIiwgImRldGFpbEFsdElucHV0IiwgImRldGFpbFNhdmVCdXR0b24iLCAiZGV0YWlsRGVsZXRlQnV0dG9uIiwgImRlbGV0ZU1vZGFsIiwgImRlbGV0ZUNhbmNlbEJ1dHRvbiIsICJkZWxldGVDb25maXJtQnV0dG9uIiwgInVwbG9hZE9wZW5CdXR0b24iLCAiZmlsZUlucHV0IiwgInVwbG9hZFN0YXR1cyIsICJtZWRpYUFwaUJhc2UiLCAibWVkaWFJdGVtcyIsICJmaWx0ZXJlZEl0ZW1zIiwgImFjdGl2ZU1lZGlhSWQiLCAiaGlnaGxpZ2h0TWVkaWFJZCIsICJwZW5kaW5nVXBsb2FkRmlsZSIsICJ1cGxvYWRJblByb2dyZXNzIiwgImRldGFpbERpcnR5IiwgInVwbG9hZE1vZGUiLCAidXBsb2FkUHJldmlld1VybCIsICJkZXJpdmVHcm91cFR5cGUiLCAiZmlsZW5hbWUiLCAiaXNJbWFnZVR5cGUiLCAiZm9ybWF0VHlwZUxhYmVsIiwgImV4dCIsICJmb3JtYXRGaWxlU2l6ZSIsICJzaXplIiwgInJlc2V0RGV0YWlsUGFuZWwiLCAiY2xlYXJVcGxvYWRTdGF0ZSIsICJ1cGRhdGVEZXRhaWxBY3Rpb25zIiwgInVwZGF0ZUNvdW50QmFkZ2UiLCAicmVuZGVyR3JpZCIsICJzZWxlY3RNZWRpYSIsICJyZW5kZXJVc2VkSW4iLCAic2F2aW5nIiwgIm1lZGlhSWQiLCAic2hvd1VwbG9hZFByZXZpZXciLCAiYXBwbHlGaWx0ZXJzIiwgInR5cGVGaWx0ZXIiLCAibG9hZE1lZGlhIiwgImhhbmRsZUZpbGVTZWxlY3Rpb24iLCAicmVhZEZpbGVBc0Jhc2U2NCIsICJyZXNvbHZlIiwgInJlamVjdCIsICJyZWFkZXIiLCAiYmFzZTY0IiwgInVwbG9hZFNlbGVjdGVkTWVkaWEiLCAiZGVsZXRlQWN0aXZlTWVkaWEiLCAiZGlzYWJsZUJ1dHRvbnMiLCAiZW5hYmxlQnV0dG9ucyIsICJ1cGRhdGVkIiwgImFpQ2hhdFRvZ2dsZSIsICJhaUNoYXRQYW5lbCIsICJhaUNoYXRPdmVybGF5IiwgImFpQ2hhdENsb3NlIiwgImFpQ2hhdENsZWFyIiwgImFpQ2hhdEZvcm0iLCAiYWlDaGF0SW5wdXQiLCAiYWlDaGF0TWVzc2FnZXMiLCAiYWlDaGF0U3RhdHVzIiwgImFpQ2hhdE5vQXBpIiwgImFpUXVpY2tCdXR0b25zIiwgImFpQ2hhdE9wZW4iLCAiYWlJc0xvYWRpbmciLCAiYWlDb25maWdDaGVja2VkIiwgImFpSGFzQXBpS2V5IiwgIm9wZW5BSUNoYXQiLCAiY2hlY2tBSUNvbmZpZyIsICJjbG9zZUFJQ2hhdCIsICJzaXRlU2x1ZyIsICJsb2FkQUlDaGF0SGlzdG9yeSIsICJ3ZWxjb21lTXNnIiwgIm1zZyIsICJhcHBlbmRBSU1lc3NhZ2UiLCAicm9sZSIsICJtc2dEaXYiLCAiZXNjYXBlSHRtbCIsICJmb3JtYXR0ZWRDb250ZW50IiwgImZvcm1hdEFJUmVzcG9uc2UiLCAic2hvd0FJTG9hZGluZyIsICJsb2FkaW5nRGl2IiwgImhpZGVBSUxvYWRpbmciLCAiZm9ybWF0dGVkIiwgImxhbmciLCAiY29kZSIsICJkaXYiLCAic2VuZEFJTWVzc2FnZSIsICJhcHBlbmRFZGl0UHJvcG9zYWwiLCAiYXBwZW5kVGhlbWVQcm9wb3NhbCIsICJwcm9wb3NhbCIsICJwcm9wb3NhbERpdiIsICJjaGFuZ2VzSHRtbCIsICJoYW5kbGVBcHBseUVkaXQiLCAiaGFuZGxlUmVqZWN0RWRpdCIsICJjb2xvcnNIdG1sIiwgImNvbG9ycyIsICJnZXRUYWlsd2luZENvbG9yQ3NzIiwgInR5cG9IdG1sIiwgInR5cG8iLCAiaGFuZGxlQXBwbHlUaGVtZSIsICJjb2xvck5hbWUiLCAicHJvcG9zYWxJZCIsICJwcm9wb3NhbENhcmQiLCAiY2xlYXJBSUhpc3RvcnkiLCAicXVpY2tQcm9tcHRzIiwgInByb21wdCJdCn0K
