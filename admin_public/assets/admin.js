(()=>{document.addEventListener("DOMContentLoaded",()=>{var gn;console.log("[admin] Atelier charg\xE9");let xo=document.querySelector("[data-logout]");xo&&xo.addEventListener("click",async()=>{xo.disabled=!0;try{await fetch("/api/logout",{method:"POST",headers:{"Content-Type":"application/json"}})}catch(s){console.error("[admin] Impossible de se d\xE9connecter",s)}finally{window.location.href="/admin/index.html"}});let ws=document.querySelector("[data-admin-sidebar]"),bt=document.querySelector("[data-admin-sidebar-overlay]"),Qo=document.querySelectorAll("[data-admin-sidebar-toggle]"),Dn=document.querySelectorAll("[data-admin-sidebar-close]"),wo=document.body,Ws=!1,Gs=()=>{if(!ws)return;if(window.matchMedia("(min-width: 1024px)").matches){ws.classList.remove("hidden"),bt==null||bt.classList.add("hidden"),wo.classList.remove("overflow-hidden");return}Ws?(ws.classList.remove("hidden"),bt==null||bt.classList.remove("hidden"),wo.classList.add("overflow-hidden")):(ws.classList.add("hidden"),bt==null||bt.classList.add("hidden"),wo.classList.remove("overflow-hidden"))},Hn=()=>{Ws=!0,Gs()},So=()=>{Ws=!1,Gs()};ws&&Qo.length>0&&(Qo.forEach(s=>{s.addEventListener("click",Hn)}),Dn.forEach(s=>{s.addEventListener("click",So)}),bt==null||bt.addEventListener("click",So),window.addEventListener("resize",Gs),window.addEventListener("keydown",s=>{s.key==="Escape"&&Ws&&So()}),Gs());let Xo="clower:currentSite",en="clower:currentSiteName",X={slug:null,name:""};(()=>{try{let s=window.localStorage.getItem(Xo);X.slug=s?It(Te(s)):null,X.name=window.localStorage.getItem(en)||""}catch{X.slug=null,X.name=""}})();let Lo=document.querySelectorAll("[data-site-card]"),Un=document.querySelectorAll("[data-site-select]"),Ss=document.querySelector("[data-current-site-name]"),tn=document.querySelector("[data-workspace-site-name]"),sn=document.querySelector("[data-workspace-back-name]"),$t=document.querySelector("[data-workspace-back-modal]"),Rn=document.querySelectorAll("[data-workspace-back]"),zn=document.querySelectorAll("[data-workspace-back-cancel]"),ko=document.querySelector("[data-workspace-back-confirm]"),Vn=document.querySelectorAll("[data-workspace-tab]"),Co=document.querySelector("[data-site-toast]"),on=document.querySelector("[data-site-toast-message]"),On=document.querySelectorAll("[data-site-create]"),ct=document.querySelector("[data-site-modal]"),nt=document.querySelector("[data-site-form]"),_e=nt==null?void 0:nt.querySelector('input[name="siteName"]'),Pe=nt==null?void 0:nt.querySelector('input[name="siteSlug"]'),Ye=document.querySelector("[data-site-slug-error]"),Qe=document.querySelector("[data-site-modal-error]"),Jn=document.querySelectorAll("[data-site-modal-cancel]"),ls=document.querySelector("[data-site-modal-submit]"),J=or(),Zs=!1,Eo=null,nn='a[href], button:not([disabled]), textarea, input, select, [tabindex]:not([tabindex="-1"])',cs=[],rn=s=>Array.from(s.querySelectorAll(nn)).filter(n=>!n.hasAttribute("disabled")&&!n.getAttribute("aria-hidden")),Wn=s=>{if(!cs.length)return;let n=cs[cs.length-1],{modal:i,onClose:u}=n;if(s.key==="Escape"){s.preventDefault(),u==null||u();return}if(s.key!=="Tab")return;let g=rn(i);if(!g.length)return;let x=g[0],O=g[g.length-1];s.shiftKey?document.activeElement===x&&(s.preventDefault(),O.focus()):document.activeElement===O&&(s.preventDefault(),x.focus())};document.addEventListener("keydown",Wn);let Ls=(s,n)=>{if(!s)return;cs.push({modal:s,onClose:n,trigger:document.activeElement instanceof HTMLElement?document.activeElement:null});let i=rn(s);window.setTimeout(()=>{var u,g;(g=(u=i[0]||s).focus)==null||g.call(u)},0)},ks=s=>{var u,g;let n=cs.findIndex(x=>x.modal===s);if(n===-1)return;let[i]=cs.splice(n,1);(g=(u=i.trigger)==null?void 0:u.focus)==null||g.call(u)},oe=document.querySelector("[data-mobile-panels-overlay]"),ie=document.querySelector("[data-mobile-panels-layer]"),xt={left:document.querySelector('[data-mobile-panel="left"]'),right:document.querySelector('[data-mobile-panel="right"]')},Gt=null;ie!=null&&ie.parentElement&&(Gt=document.createComment("mobile-panels-layer-placeholder"),ie.parentElement.insertBefore(Gt,ie));let Zt=null;(gn=xt.right)!=null&&gn.parentElement&&(Zt=document.createComment("mobile-panel-right-placeholder"),xt.right.parentElement.insertBefore(Zt,xt.right));let an=document.querySelectorAll("[data-mobile-panel-toggle]"),Gn=document.querySelectorAll("[data-mobile-panel-close]"),Cs={left:null,right:null},Ct=null,Kt=()=>window.matchMedia("(min-width: 1024px)").matches,Zn=()=>{if(!(!ie||!Gt)){if(Kt()){let s=Gt.parentElement;if(!s)return;(ie.parentElement!==s||Gt.nextSibling!==ie)&&s.insertBefore(ie,Gt.nextSibling),ie.dataset.mobilePanelPlacement="sidebar";return}ie.parentElement!==document.body&&(document.body.appendChild(ie),ie.dataset.mobilePanelPlacement="overlay")}},Kn=()=>{let s=xt.right;if(!(!s||!Zt)){if(Kt()){let n=Zt.parentElement;if(!n)return;(s.parentElement!==n||Zt.nextSibling!==s)&&n.insertBefore(s,Zt.nextSibling),s.dataset.mobilePanelPlacement="sidebar";return}if(ie){let n=xt.left;n&&n.parentElement===ie?(s.parentElement!==ie||s.previousSibling!==n)&&ie.insertBefore(s,n.nextSibling):s.parentElement!==ie&&ie.appendChild(s),s.dataset.mobilePanelPlacement="overlay"}else s.parentElement!==document.body&&(document.body.appendChild(s),s.dataset.mobilePanelPlacement="overlay")}},ln=()=>{Zn(),Kn()};ln();let Ks={};Object.entries(xt).forEach(([s,n])=>{if(!n)return;let i=Number(window.getComputedStyle(n).zIndex)||0;Ks[s]=i});let _n=(Object.values(Ks).reduce((s,n)=>Math.max(s,n||0),0)||150)+5,_s=(s,n)=>{let i=xt[s];if(i){if(Kt()){i.style.removeProperty("z-index");return}n?i.style.zIndex=String(_n):Ks[s]?i.style.zIndex=String(Ks[s]):i.style.removeProperty("z-index")}},Mt=(s,n,i)=>{!s||!n||n.split(" ").map(u=>u.trim()).filter(Boolean).forEach(u=>s.classList[i](u))},qo=(s,n)=>{if(!s)return;let i=s.dataset.mobilePanelHidden||"",u=s.dataset.mobilePanelVisible||"translate-x-0";n?(Mt(s,u,"remove"),Mt(s,i,"add"),s.classList.add("pointer-events-none"),s.classList.remove("pointer-events-auto"),s.setAttribute("aria-hidden","true"),s.dataset.mobilePanelOpen="false"):(Mt(s,i,"remove"),Mt(s,u,"add"),s.classList.remove("pointer-events-none"),s.classList.add("pointer-events-auto"),s.setAttribute("aria-hidden","false"),s.dataset.mobilePanelOpen="true")},Es=(s=Ct)=>{var u;if(!s||Kt())return;let n=xt[s];if(!n)return;_s(s,!1),qo(n,!0);let i=Cs[s];i&&i.setAttribute("aria-expanded","false"),Cs[s]=null,Ct===s&&(oe==null||oe.classList.add("hidden"),oe==null||oe.classList.remove("pointer-events-auto"),oe==null||oe.classList.add("pointer-events-none"),oe==null||oe.setAttribute("aria-hidden","true"),ie==null||ie.classList.add("pointer-events-none"),document.body.classList.remove("overflow-hidden"),(u=i==null?void 0:i.focus)==null||u.call(i),Ct=null)},Yn=(s,n)=>{if(!s||Kt())return;let i=xt[s];if(!i)return;Ct&&Ct!==s&&Es(Ct),qo(i,!1),_s(s,!0),Ct=s,Cs[s]=n||null,n&&n.setAttribute("aria-expanded","true"),oe==null||oe.classList.remove("hidden","pointer-events-none"),oe==null||oe.classList.add("pointer-events-auto"),oe==null||oe.setAttribute("aria-hidden","false"),ie==null||ie.classList.remove("pointer-events-none"),document.body.classList.add("overflow-hidden");let u=i.querySelector(nn);window.setTimeout(()=>{var g;(g=u==null?void 0:u.focus)==null||g.call(u)},0)},cn=()=>{ln(),Kt()?(oe==null||oe.classList.add("hidden"),ie==null||ie.classList.add("pointer-events-none"),document.body.classList.remove("overflow-hidden"),Ct=null,Object.keys(xt).forEach(s=>{let n=xt[s];if(!n)return;_s(s,!1),n.classList.remove("pointer-events-none"),n.classList.add("pointer-events-auto"),n.setAttribute("aria-hidden","false"),n.dataset.mobilePanelOpen="false";let i=Cs[s];i==null||i.setAttribute("aria-expanded","false"),Cs[s]=null})):(Object.entries(xt).forEach(([s,n])=>{n&&n.dataset.mobilePanelOpen!=="true"&&(qo(n,!0),_s(s,!1))}),Ct||(oe==null||oe.classList.add("hidden","pointer-events-none"),oe==null||oe.classList.remove("pointer-events-auto"),oe==null||oe.setAttribute("aria-hidden","true"),ie==null||ie.classList.add("pointer-events-none")))};an.length>0&&(an.forEach(s=>{let n=s.dataset.mobilePanelToggle;s.addEventListener("click",()=>{Ct===n?Es(n):Yn(n,s)})}),Gn.forEach(s=>{let n=s.dataset.mobilePanelClose;s.addEventListener("click",()=>Es(n))}),oe==null||oe.addEventListener("click",()=>Es()),window.addEventListener("keydown",s=>{s.key==="Escape"&&Ct&&!Kt()&&Es()}),window.addEventListener("resize",cn),cn());let P=s=>{!Co||!on||(on.textContent=s,Co.classList.remove("hidden"),Eo&&clearTimeout(Eo),Eo=setTimeout(()=>{Co.classList.add("hidden")},2500))};function It(s){if(!s)return"";let n=`${s}`.trim();if(!n)return"";let i=n.replace(/^\/+/,"");return i?`/${i}`:"/"}function Te(s){return s?`${s}`.replace(/^\/+/,""):""}let Ys=(s,n)=>{let i=s?It(s):null;try{i&&(window.localStorage.setItem(Xo,i),X.slug=i),typeof n=="string"&&n.length>0&&(window.localStorage.setItem(en,n),X.name=n)}catch{X.slug=i||X.slug,X.name=n||X.name}},dn=s=>{Ss&&s&&(Ss.textContent=s),tn&&s&&(tn.textContent=s),sn&&s&&(sn.textContent=s)},Ao=s=>{Vn.forEach(n=>{let i=n.dataset.workspaceTab;if(!i)return;if(!s){n.href="#",n.classList.add("pointer-events-none","opacity-50","text-slate-400"),n.setAttribute("aria-disabled","true");return}let u=encodeURIComponent(Te(s));n.href=`/admin/site/${u}/${i}`,n.classList.remove("pointer-events-none","opacity-50","text-slate-400"),n.removeAttribute("aria-disabled")})},Qs=(s,n={})=>{if(!s)return;let i=It(s),u=n.siteName||X.name||(Ss==null?void 0:Ss.dataset.defaultSiteName)||"";Lo.forEach(x=>{let U=It(x.dataset.siteCard||"")===i,G=x.querySelector("[data-site-active-badge]");U?(x.classList.add("border-[#9C6BFF]","ring-2","ring-[#9C6BFF]","shadow-md"),x.classList.remove("border-slate-200"),G==null||G.classList.remove("hidden"),u=x.dataset.siteName||u):(x.classList.remove("border-[#9C6BFF]","ring-2","ring-[#9C6BFF]","shadow-md"),x.classList.add("border-slate-200"),G==null||G.classList.add("hidden"))}),n.persist!==!1&&Ys(i,n.siteName||u);let g=n.siteName||u;dn(g),Ao(i)},Qn=async(s,n)=>{let i=It(s);try{let u=await fetch("/api/sites/select",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({slug:i})});if(!u.ok){let G=await u.json().catch(()=>({}));P(G.message||"Impossible de s\xE9lectionner ce site.");return}let g=await u.json().catch(()=>({})),x=It(g.slug||i),O=g.name||n;Ys(x,O),Qs(x,{siteName:O,persist:!1});let U=encodeURIComponent(Te(x));window.location.href=`/admin/site/${U}/design`}catch(u){console.error("[admin] Impossible de s\xE9lectionner le site",u),P("Erreur inattendue lors de la s\xE9lection.")}},Xn=async()=>{try{let s=await fetch("/api/sites/current",{credentials:"same-origin"});if(!s.ok){s.status===404&&J&&(window.location.href="/admin/sites");return}let n=await s.json(),i=It(n.slug);Ys(i,n.name),Qs(i,{siteName:n.name,persist:!1})}catch(s){console.warn("[admin] Impossible de r\xE9cup\xE9rer le site actif",s)}};(()=>{if(X.slug){Qs(X.slug,{siteName:X.name,persist:!1});return}let s=document.querySelector('[data-site-card][data-site-default="true"]')||Lo[0];s&&Qs(s.dataset.siteCard,{siteName:s.dataset.siteName||"",persist:!1})})(),Xn(),J?Ao(J.slugValue):X.slug&&Ao(X.slug),Un.forEach(s=>{s.addEventListener("click",()=>{if(s.disabled)return;let n=s.dataset.siteSelect,i=s.dataset.siteSelectName||"Ce site";n&&(s.disabled=!0,Qn(n,i).finally(()=>{s.disabled=!1}))})});let _t=s=>(s||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),er=s=>{let n=_t(s||"");return n?`/${n}`:""},tr=()=>{ct&&(ct.classList.remove("hidden"),ct.classList.add("flex"),Zs=!1,nt==null||nt.reset(),Ye&&(Ye.textContent=""),Qe&&(Qe.textContent=""),Pe&&_e&&(Pe.value=_t(_e.value)),Ls(ct,qs),window.setTimeout(()=>{_e==null||_e.focus()},0))},qs=()=>{ct&&(ct.classList.add("hidden"),ct.classList.remove("flex"),Zs=!1,nt==null||nt.reset(),Ye&&(Ye.textContent=""),Qe&&(Qe.textContent=""),ks(ct))};On.forEach(s=>{s.addEventListener("click",tr)}),Jn.forEach(s=>{s.addEventListener("click",qs)}),ct==null||ct.addEventListener("click",s=>{s.target===ct&&qs()}),_e==null||_e.addEventListener("input",()=>{Pe&&((!Zs||Pe.value.trim().length===0)&&(Pe.value=_t(_e.value)),Ye&&(Ye.textContent=""),Qe&&(Qe.textContent=""))}),Pe==null||Pe.addEventListener("focus",()=>{let s=(Pe==null?void 0:Pe.value)||"",n=(_e==null?void 0:_e.value)||"";!s.trim()&&n.trim()&&(Pe.value=_t(n))}),Pe==null||Pe.addEventListener("input",()=>{Zs=!0,Ye&&(Ye.textContent=""),Qe&&(Qe.textContent="")});let sr=()=>new Set(Array.from(Lo).map(s=>It(s.dataset.siteCard||"")));nt==null||nt.addEventListener("submit",async s=>{if(s.preventDefault(),console.log("[admin] Form submit - siteNameInput:",_e,"siteSlugInput:",Pe),!_e||!Pe){console.log("[admin] Missing inputs, aborting");return}let n=(_e.value||"").trim(),i=(Pe.value||"").trim();console.log("[admin] nameValue:",n,"slugValue:",i),!i&&n&&(i=_t(n),Pe.value=i,console.log("[admin] Auto-generated slug:",i));let u=er(i);if(console.log("[admin] normalizedSlug:",u),!n){console.log("[admin] Name validation failed"),Qe&&(Qe.textContent="Le nom du site est requis."),_e.focus();return}if(!u){console.log("[admin] Slug validation failed"),Ye&&(Ye.textContent="Le slug ne peut pas \xEAtre vide ou contenir uniquement des caract\xE8res sp\xE9ciaux."),Pe.focus();return}if(sr().has(u)){Ye&&(Ye.textContent="Ce slug est d\xE9j\xE0 utilis\xE9.");return}Ye&&(Ye.textContent=""),Qe&&(Qe.textContent=""),ls&&(ls.disabled=!0,ls.textContent="Cr\xE9ation...");try{let x=await fetch("/api/sites",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:n,slug:u})});if(!x.ok){let Z=await x.json().catch(()=>({})),w=Z.message||"Impossible de cr\xE9er ce site.";Qe&&(Qe.textContent=w),Z.field==="slug"&&Ye&&(Ye.textContent=w);return}let O=await x.json(),U=It((O==null?void 0:O.slug)||u),G=(O==null?void 0:O.name)||n;Ys(U,G),qs();let se=encodeURIComponent(Te(U));window.location.href=`/admin/site/${se}/design`}catch(x){console.error("[admin] Impossible de cr\xE9er le site",x),Qe&&(Qe.textContent="Erreur inattendue. R\xE9essaie dans un instant.")}finally{ls&&(ls.disabled=!1,ls.textContent="Cr\xE9er")}}),window.addEventListener("keydown",s=>{s.key==="Escape"&&(ct&&!ct.classList.contains("hidden")&&qs(),$t&&!$t.classList.contains("hidden")&&Xs(),blockDeleteModal&&!blockDeleteModal.classList.contains("hidden")&&closeBlockDeleteModal(),blockLibraryOpen&&closeBlockLibrary())});function or(){let s=window.location.pathname.match(/^\/admin\/site\/([^/]+)(?:\/([^/]+))?/);return s?{slugPart:decodeURIComponent(s[1]),slugValue:It(decodeURIComponent(s[1])),section:s[2]||"design"}:null}function nr(){return document.querySelector("[data-page-list]")?"design":document.querySelector("[data-collection-list]")?"content":document.querySelector("[data-media-grid]")?"media":document.querySelector("[data-deploy-form]")?"deploy":null}function rr(){if(!$t){window.location.href="/admin/sites";return}$t.classList.remove("hidden"),$t.classList.add("flex"),Ls($t,Xs)}function Xs(){$t&&($t.classList.add("hidden"),$t.classList.remove("flex"),ks($t))}Rn.forEach(s=>{s.addEventListener("click",rr)}),zn.forEach(s=>{s.addEventListener("click",Xs)}),ko==null||ko.addEventListener("click",()=>{Xs(),window.location.href="/admin/sites"});let As=(J==null?void 0:J.section)||nr();As==="design"&&ar(),As==="content"&&ir(),As==="media"&&dr(),As==="deploy"&&lr(),As==="settings"&&cr(),J&&X.name&&dn(X.name);function ar(){let s=document.querySelectorAll("[data-page-list]");if(s.length===0)return;let n=document.querySelector("[data-active-page-title]"),i=document.querySelector("[data-active-page-slug]"),u=document.querySelector("[data-page-preview-tags]"),g=document.querySelector("[data-page-preview-frame]"),x=document.querySelector("[data-page-preview-frame-wrapper]"),O=document.querySelector("[data-page-preview-shell]"),U=document.querySelectorAll("[data-preview-view-button]"),G=document.querySelector("[data-page-preview-current-view]"),se=document.querySelector("[data-preview-open]"),Z=document.querySelector("[data-preview-status]"),w=document.querySelector("[data-preview-highlight]"),A=document.querySelector("[data-seo-toggle]"),I=document.querySelector("[data-seo-panel]"),j=document.querySelector("[data-seo-close]"),B=document.querySelector("[data-seo-form]"),D=document.querySelector("[data-seo-title]"),k=document.querySelector("[data-seo-description]"),L=document.querySelector("[data-seo-indexed]"),b=document.querySelector("[data-seo-feedback]"),q=document.querySelector("[data-seo-save]"),C=document.querySelector("[data-page-accessibility-toggle]"),N=document.querySelector("[data-page-accessibility-panel]"),W=document.querySelector("[data-page-accessibility-close]"),Q=document.querySelector("[data-page-accessibility-form]"),K=document.querySelector("[data-page-accessibility-nav]"),xe=document.querySelector("[data-page-accessibility-main]"),Ce=document.querySelector("[data-page-accessibility-feedback]"),Ve=document.querySelector("[data-page-accessibility-save]"),we=document.querySelector("[data-page-props-toggle]"),_=document.querySelector("[data-page-props-panel]"),je=document.querySelector("[data-page-props-close]"),Ue=document.querySelector("[data-page-props-form]"),T=document.querySelector("[data-page-name]"),E=document.querySelector("[data-page-title-input]"),R=document.querySelector("[data-page-slug-input]"),ve=document.querySelector("[data-page-description]"),pe=document.querySelector("[data-page-props-feedback]"),f=document.querySelector("[data-page-props-save]"),S=document.querySelector("[data-blocks-list]"),z=document.querySelector("[data-blocks-empty]"),V=document.querySelector("[data-block-count]"),le=document.querySelector("[data-block-library-toggle]"),ue=document.querySelector("[data-block-library]"),me=document.querySelectorAll("[data-block-add]"),ne=document.querySelector("[data-block-delete-modal]"),Ee=document.querySelector("[data-block-delete-confirm]"),Ie=document.querySelector("[data-block-delete-cancel]"),ye=document.querySelector("[data-block-detail-empty]"),ge=document.querySelector("[data-block-detail-status]"),$e=document.querySelector("[data-block-editor]"),Nt=document.querySelector("[data-block-editor-block-name]"),v=document.querySelector("[data-block-editor-block-type]"),$=document.querySelector("[data-block-editor-unsupported]"),h=document.querySelector("[data-block-form]"),re=(e,t)=>{if(e){if(t==="transparent"){e.style.background="repeating-conic-gradient(#ccc 0% 25%, white 0% 50%) 50% / 8px 8px",e.style.borderColor="#cbd5f5",e.style.boxShadow="";return}e.style.background=t,e.style.borderColor=t,e.style.boxShadow="0 0 0 1px rgba(15,23,42,0.15)"}},ft=e=>{var d,p,H;if(!e)return;let t=e.options[e.selectedIndex],o=((d=t==null?void 0:t.dataset)==null?void 0:d.color)||"#ffffff",r=(p=e.closest(".relative"))==null?void 0:p.querySelector("[data-color-preview]");r&&(o==="transparent"?r.style.background="repeating-conic-gradient(#ccc 0% 25%, white 0% 50%) 50% / 8px 8px":(r.style.backgroundColor=o,r.style.background=""));let l=(H=e.closest(".relative"))==null?void 0:H.querySelector("[data-theme-color-chip]");re(l,o)},zt=h?Array.from(h.querySelectorAll("[data-theme-color-select]")):[],Ts=[{label:"Couleur primaire",value:"theme-primary",cssVar:"--color-primary"},{label:"Couleur secondaire",value:"theme-secondary",cssVar:"--color-secondary"},{label:"Couleur accent",value:"theme-accent",cssVar:"--color-accent"},{label:"Fond",value:"theme-background",cssVar:"--color-background"},{label:"Texte",value:"theme-text",cssVar:"--color-text"}],Po=(e,t="#ffffff")=>{if(!e)return t;let o=getComputedStyle(document.documentElement).getPropertyValue(e);return o?o.trim():t},oo=e=>{e&&(e.innerHTML="",Ts.forEach(({label:t,value:o,cssVar:r})=>{let l=document.createElement("option");l.value=o;let d=Po(r);l.textContent=`\u2589 ${t}`,l.dataset.color=d,l.style.color=d,e.appendChild(l)}),e.value=Ts[0].value,e.removeAttribute("disabled"),ft(e))},hn=(e,t)=>{if(!e||!t||Array.from(e.options).some(r=>r.value===t))return;let o=document.createElement("option");o.value=t,o.textContent="Couleur personnalis\xE9e",o.dataset.color=t,o.style.color=t==="transparent"?"#475569":t,e.appendChild(o),styleSelectOptions(e)},$s=()=>zt.forEach(oo);$s(),document.addEventListener("ai-theme-updated",$s);let pt=h?Array.from(h.querySelectorAll("[data-editor-section]")):[],Et=document.querySelectorAll("[data-block-tab]"),Re="content",ze=document.querySelectorAll("[data-left-tab]"),Ne=document.querySelector('[data-left-panel="blocks"]'),dt=document.querySelector('[data-left-panel="pages"]'),Yt="blocks",Vt=e=>{Yt=e,ze.forEach(t=>{let o=t.dataset.leftTab===e;t.setAttribute("aria-selected",o?"true":"false"),o?(t.classList.add("text-[#9C6BFF]"),t.classList.remove("text-slate-500","hover:text-slate-700"),t.classList.add("after:absolute","after:bottom-0","after:left-0","after:right-0","after:h-0.5","after:bg-[#9C6BFF]")):(t.classList.remove("text-[#9C6BFF]"),t.classList.add("text-slate-500","hover:text-slate-700"),t.classList.remove("after:absolute","after:bottom-0","after:left-0","after:right-0","after:h-0.5","after:bg-[#9C6BFF]"))}),Ne&&Ne.classList.toggle("hidden",e!=="blocks"),dt&&dt.classList.toggle("hidden",e!=="pages")};ze.forEach(e=>{e.addEventListener("click",()=>{Vt(e.dataset.leftTab)})});let Qt=document.querySelector("[data-block-form-actions]"),Is=document.querySelector("[data-block-form-autosave]"),Xt=e=>{Re=e,Et.forEach(o=>{let r=o.dataset.blockTab===e;o.setAttribute("aria-selected",r?"true":"false"),r?(o.classList.add("text-[#9C6BFF]"),o.classList.remove("text-slate-500","hover:text-slate-700"),o.classList.add("after:absolute","after:bottom-0","after:left-0","after:right-0","after:h-0.5","after:bg-[#9C6BFF]")):(o.classList.remove("text-[#9C6BFF]"),o.classList.add("text-slate-500","hover:text-slate-700"),o.classList.remove("after:absolute","after:bottom-0","after:left-0","after:right-0","after:h-0.5","after:bg-[#9C6BFF]"))});let t=h==null?void 0:h.querySelector("[data-editor-section]:not(.hidden)");t&&t.querySelectorAll("[data-block-panel]").forEach(r=>{r.dataset.blockPanel===e?r.classList.remove("hidden"):r.classList.add("hidden")}),Qt&&Is&&(e==="content"?(Qt.classList.remove("hidden"),Is.classList.add("hidden")):(Qt.classList.add("hidden"),Is.classList.remove("hidden")))};Et.forEach(e=>{e.addEventListener("click",()=>{Xt(e.dataset.blockTab)})});let De=h==null?void 0:h.querySelector('[name="collection-grid-collection"]'),qt=h==null?void 0:h.querySelector("[data-collection-selection-info]"),us=document.querySelector("[data-block-form-cancel]"),es=h==null?void 0:h.querySelector("[data-group-preview-mobile]"),ms=h==null?void 0:h.querySelector("[data-group-preview-desktop]"),Bs=h==null?void 0:h.querySelector("[data-collection-preview-mobile]"),gt=h==null?void 0:h.querySelector("[data-collection-preview-desktop]"),no={hero:{section:"hero",labelField:"title",descriptionField:"subtitle",fields:{title:"hero-title",subtitle:"hero-subtitle",ctaLabel:"hero-cta-label",ctaUrl:"hero-cta-url",image:"hero-image",layout:"hero-layout",height:"hero-height",contentAlign:"hero-content-align",horizontalAlign:"hero-horizontal-align",textAlign:"hero-text-align",overlay:"hero-overlay",titleSize:"hero-title-size",bg:"hero-bg",borderRadius:"hero-border-radius",shadow:"hero-shadow",border:"hero-border"}},paragraphe:{section:"paragraph",labelField:"title",descriptionField:"content",fields:{title:"paragraph-title",content:"paragraph-content",align:"paragraph-align",titleSize:"paragraph-title-size",textSize:"paragraph-text-size",spacing:"paragraph-spacing",bg:"paragraph-bg",borderRadius:"paragraph-border-radius",shadow:"paragraph-shadow",border:"paragraph-border"}},image:{section:"image",labelField:"alt",fields:{src:"image-src",alt:"image-alt",showCaption:"image-caption-toggle",caption:"image-caption",rounded:"image-rounded",shadow:"image-shadow",maxWidth:"image-max-width",height:"image-height",objectFit:"image-object-fit",align:"image-align",bg:"image-bg",borderRadius:"image-border-radius",border:"image-border"}},groupe:{section:"group",fields:{columnsMobile:"group-columns-mobile",columnsDesktop:"group-columns-desktop",gap:"group-gap",itemsAlign:"group-items-align",mobileLayout:"group-mobile-layout",bg:"group-bg",borderRadius:"group-border-radius",shadow:"group-shadow",border:"group-border"}},collectiongrid:{section:"collection",fields:{collectionId:"collection-grid-collection",limit:"collection-grid-limit",columnsMobile:"collection-columns-mobile",columnsDesktop:"collection-columns-desktop",gap:"collection-gap",itemsAlign:"collection-items-align",cardRounded:"collection-card-rounded",mobileLayout:"collection-mobile-layout",bg:"collection-bg",borderRadius:"collection-border-radius",shadow:"collection-shadow",border:"collection-border"}},form:{section:"form",labelField:"formTitle",fields:{formTitle:"form-title",actionUrl:"form-action-url",method:"form-method",serviceName:"form-service-name",submitLabel:"form-submit-label",successMessage:"form-success-message",maxWidth:"form-max-width",align:"form-align",buttonRounded:"form-button-rounded",spacing:"form-spacing",bg:"form-bg",borderRadius:"form-border-radius",shadow:"form-shadow",border:"form-border"}},newsletterembed:{section:"newsletter",labelField:"title",fields:{title:"newsletter-title",serviceName:"newsletter-service-name",embedCode:"newsletter-embed-code",maxWidth:"newsletter-max-width",align:"newsletter-align",padding:"newsletter-padding",bg:"newsletter-bg",borderRadius:"newsletter-border-radius",shadow:"newsletter-shadow",border:"newsletter-border"}}},js={texte:"paragraphe",paragraph:"paragraphe",paragraphs:"paragraphe",paragraphes:"paragraphe",text:"paragraphe",hero:"hero",image:"image",groupe:"groupe",group:"groupe",collection:"collectiongrid",collectiongrid:"collectiongrid","collection-grid":"collectiongrid",form:"form",formulaire:"form",contact:"form",newsletterembed:"newsletterembed",newsletter:"newsletterembed",embed:"newsletterembed"},Fo={animation:"anim-type",animationDelay:"anim-delay",animationDuration:"anim-duration"};Object.values(no).forEach(e=>{e.fields={...e.fields,...Fo}});let ro=(e,t)=>{if(!es||!ms)return;let o=r=>Array.from({length:Number(r)||1}).map(()=>'<span class="block h-2 w-full rounded-full bg-slate-300"></span>').join("");es.innerHTML=o(e),ms.innerHTML=o(t)},Ps=(e,t)=>{if(!Bs||!gt)return;let o=r=>Array.from({length:Number(r)||1}).map(()=>'<span class="block h-2 w-full rounded-full bg-violet-300"></span>').join("");Bs.innerHTML=o(e),gt.innerHTML=o(t)},Fs=async()=>{if(!Lt)return[];let e=await fetch(Lt,{headers:{Accept:"application/json"}});if(!e.ok)throw new Error("Impossible de charger les pages.");let t=await e.json().catch(()=>[]);return Array.isArray(t)?t:[]},ao=async({name:e,title:t,slug:o})=>{if(!Lt)throw new Error("Site inconnu.");let r=await fetch(Lt,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,title:t,slug:o})});if(!r.ok){let l=await r.json().catch(()=>({}));throw new Error(l.message||"Impossible de cr\xE9er la page.")}return r.json().catch(()=>({}))},ts=async e=>{if(!(!Lt||!(e!=null&&e.id)))try{let t=await fetch(`${Lt}/${encodeURIComponent(e.id)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){let r=await t.json().catch(()=>({}));throw new Error(r.message||"Impossible de sauvegarder la page.")}let o=await t.json().catch(()=>({}));if(o!=null&&o.id){let r=as(o);return ae=ae.map(l=>l.id===r.id?r:l),(m==null?void 0:m.id)===r.id&&(m=r),r}return o}catch(t){console.error("[design] Save page failed",t),P(t.message||"Sauvegarde impossible.")}},Mo=async()=>{if(!Lt){ae=[],Fe=null,m=null,Jt(ae,Fe),kt(null),ye==null||ye.classList.remove("hidden"),$e==null||$e.classList.add("hidden");return}try{let e=await Fs();if(ae=(Array.isArray(e)?e:[]).map(t=>as(t)),ae.length===0){Fe=null,m=null,Jt(ae,Fe),kt(null),ye==null||ye.classList.remove("hidden"),$e==null||$e.classList.add("hidden"),g&&(g.srcdoc=Ot());return}Fe=Tr(ae),Tt(Fe)}catch(e){console.error("[design] Impossible de charger les pages",e),P("Impossible de charger les pages.")}},No=e=>(e||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),ss=e=>{if(!e)return null;let t=No(e.type),o=js[t]||t;return no[o]||null},os=e=>{var r,l,d,p,H,ce,Me;if(!h||!$e)return;e&&!e.settings&&(e.settings={});let t=ss(e);if(Nt&&(Nt.textContent=(e==null?void 0:e.label)||"Bloc"),v&&(v.textContent=(e==null?void 0:e.type)||"Bloc"),!t){h.classList.add("hidden"),$==null||$.classList.remove("hidden"),h.dataset.blockId="";return}if($==null||$.classList.add("hidden"),h.classList.remove("hidden"),h.reset(),h.dataset.blockId=e.id,pt.forEach(qe=>{qe.dataset.editorSection===t.section?qe.classList.remove("hidden"):qe.classList.add("hidden")}),Xt("content"),t.section==="collection"){let qe=e.collectionId||((r=e.settings)==null?void 0:r.collectionId)||"";vo(qe)}if(Object.entries(t.fields).forEach(([qe,Ze])=>{var M,ot,Ae;let Ke=h.querySelector(`[name="${Ze}"]`);if(!Ke)return;let de=(M=e.settings)==null?void 0:M[qe];if(Ke.type==="checkbox")Ke.checked=!!de;else if(Ke.type==="number"){let fe=(Ae=(ot=Ke.dataset.default)!=null?ot:Ke.defaultValue)!=null?Ae:"";Ke.value=de!=null?de:fe}else Ke.tagName,Ke.value=de!=null?de:""}),t.section==="group"){let qe=((l=h.querySelector('[name="group-columns-mobile"]'))==null?void 0:l.value)||"1",Ze=((d=h.querySelector('[name="group-columns-desktop"]'))==null?void 0:d.value)||"3";ro(qe,Ze)}if(t.section==="collection"){let qe=((p=h.querySelector('[name="collection-columns-mobile"]'))==null?void 0:p.value)||"1",Ze=((H=h.querySelector('[name="collection-columns-desktop"]'))==null?void 0:H.value)||"3";Ps(qe,Ze)}let o=(ce=t.fields)==null?void 0:ce.bg;if(o){let qe=h.querySelector(`[name="${o}"]`);hn(qe,(Me=e.settings)==null?void 0:Me.bg)}h.querySelectorAll("[data-color-select]").forEach(ft)},fs=e=>{if(!h||!e)return{};let t={};return Object.entries(e.fields).forEach(([o,r])=>{var d,p;let l=h.querySelector(`[name="${r}"]`);if(l)if(l.type==="checkbox")t[o]=l.checked;else if(l.type==="number"){let H=Number(l.value);t[o]=Number.isFinite(H)?H:0}else if(l.tagName==="SELECT"){let H=(p=(d=l.dataset.default)!=null?d:l.value)!=null?p:"";t[o]=l.value||H}else l.tagName==="TEXTAREA"?t[o]=l.value||"":l.type==="select-one"?t[o]=l.value:t[o]=l.value||""}),t},At=e=>{if(Z){if(!e){Z.classList.add("hidden");return}Z.classList.remove("hidden"),Z.textContent=e}},io=e=>{if(!e)return null;let t=o=>{var r;return{id:o.id,type:o.type,label:o.label,status:o.status,description:o.description,props:o.props||[],settings:o.settings||{},collectionId:o.collectionId||((r=o.settings)==null?void 0:r.collectionId)||"",children:(o.children||[]).map(t)}};return{id:e.id,name:e.name,title:e.title,slug:e.slug,description:e.description||"",badges:[...e.badges||[]],seo:e.seo||{},accessibility:e.accessibility||{},blocks:(e.blocks||[]).map(t)}},Ot=()=>'<!DOCTYPE html><html><body style="font-family:Inter,sans-serif;padding:40px;color:#475569;background:#fff;">Pr\xE9paration de la pr\xE9visualisation\u2026</body></html>',a=(e,t)=>{let o;return(...r)=>{clearTimeout(o),o=setTimeout(()=>e(...r),t)}},c=async()=>{if(!m||!Ge)return;let e=ys(),t=ss(e);if(!e||!t)return;let o=fs(t),r=(m.blocks||[]).map(d=>{if(d.id!==e.id)return d;let p={...d.settings||{},...o};return{...d,settings:p}}),l={...m,blocks:r};m=l;try{let d=await ts(l);if(d!=null&&d.id){let p=as(d);m=p,ae=ae.map(H=>H.id===p.id?p:H)}}catch(d){console.warn("[design] auto-save appearance failed",d)}},y=(e,t)=>{!g||!g.contentWindow||g.contentWindow.postMessage({type:"updateBlockStyles",blockId:e,settings:t},"*")},F=a(()=>{m&&te(m)},1500),Y=(e,t)=>{y(e,t),At("Modification\u2026"),c().then(()=>{At("Sauvegard\xE9"),setTimeout(()=>At("\xC0 jour"),1500)}).catch(()=>At("Erreur de sauvegarde")),F()},te=e=>{if(!g||!e)return;let t=(J==null?void 0:J.slugValue)||X.slug||"",o=ae.map(d=>({id:d.id,slug:d.slug,title:d.title,name:d.name,accessibility:d.accessibility})),r={page:io(e),site:{title:X.name||"Site",slug:t,pages:o}};Jo=!1,At("Actualisation\u2026"),g.srcdoc=Ot(),Os&&Os.abort();let l=new AbortController;Os=l,fetch("/api/preview",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r),signal:l.signal}).then(d=>{if(!d.ok)throw new Error("Preview error");return d.json()}).then(d=>{l.signal.aborted||(Oo=d.html||"",g.setAttribute("title",`Pr\xE9visualisation de la page ${e.title||""}`.trim()),g.srcdoc=Oo||Ot(),At("\xC0 jour"))}).catch(d=>{l.signal.aborted||(console.error("[preview] Impossible de rendre la page",d),At("Erreur preview"),g.srcdoc='<!DOCTYPE html><html><body style="font-family:Inter,sans-serif;padding:40px;color:#be123c;background:#fff;">Erreur lors du rendu de la pr\xE9visualisation.</body></html>')}).finally(()=>{Os===l&&(Os=null)})},be=e=>{var d;if(e.preventDefault(),!m||!Ge)return;let t=ys(),o=ss(t);if(!t||!o)return;let r=fs(o);if(o.section==="image"){let p=(r.alt||"").trim();if(r.alt=p,!p){P("Ajoute un texte alternatif pour cette image.","error"),(d=h==null?void 0:h.querySelector('[name="image-alt"]'))==null||d.focus();return}}if(o.section==="collection"){if(!r.collectionId){P("S\xE9lectionnez une collection.");return}r.limit=Math.max(1,Number(r.limit)||1)}let l=(m.blocks||[]).map(p=>{if(p.id!==t.id)return p;let H={...p.settings||{},...r},ce={...p,settings:H};return o.labelField&&r[o.labelField]&&(ce.label=r[o.labelField]),o.descriptionField&&r[o.descriptionField]&&(ce.description=r[o.descriptionField]),o.section==="collection"&&(ce.collectionId=r.collectionId,ce.settings.collectionId=r.collectionId,ce.settings.limit=r.limit),ce});bs(l),P("Bloc mis \xE0 jour"),Tt(m.id,{preserveBlock:!0})},ee=document.querySelector("[data-page-drawer]"),he=document.querySelector("[data-page-drawer-backdrop]"),Xe=document.querySelectorAll("[data-page-drawer-open]"),et=document.querySelectorAll("[data-page-drawer-close]"),Be=document.querySelector("[data-add-page-toggle]"),ke=document.querySelector("[data-add-page-form]"),Se=document.querySelector("[data-add-page-name]"),ht=document.querySelector("[data-add-page-title]"),tt=document.querySelector("[data-add-page-slug]"),Dt=document.querySelector("[data-add-page-cancel]"),Oe=document.querySelector("[data-add-page-error]"),Ht=ke==null?void 0:ke.querySelector('[type="submit"]'),ps=document.querySelector("[data-import-pages-toggle]"),at=document.querySelector("[data-import-modal]"),lo=document.querySelectorAll("[data-import-modal-close]"),it=document.querySelector("[data-import-dropzone]"),ns=document.querySelector("[data-import-file-input]"),gs=document.querySelector("[data-import-file-list]"),Ms=document.querySelector("[data-import-file-names]"),Je=document.querySelector("[data-import-results]"),We=document.querySelector("[data-import-results-content]"),st=document.querySelector("[data-import-submit]"),hs=document.querySelectorAll("[data-import-tab]"),Ns=document.querySelectorAll("[data-import-panel]"),vs=document.querySelector("[data-copy-template]"),Ds=document.querySelector("[data-template-json]"),vt=document.querySelector("[data-import-paste-json]"),Do=document.querySelector("[data-format-json]"),jt=document.querySelector("[data-import-paste-error]"),Ut=[],rs="upload",St=document.querySelector("[data-delete-page-modal]"),vn=document.querySelector("[data-delete-page-name]"),Ho=document.querySelector("[data-delete-page-cancel]"),Rt=document.querySelector("[data-delete-page-confirm]"),Hs=null,Cr=Te((J==null?void 0:J.slugValue)||X.slug||"default")||"default",Er=(J==null?void 0:J.slugValue)||X.slug||"",co=Te(Er)||"",Lt=co?`/api/sites/${encodeURIComponent(co)}/pages`:null,yn=co?`/api/sites/${encodeURIComponent(co)}/collections`:null,bn={active:`clower:activePage:${Cr}`},Uo=(e,t,o,r,l,d=[],p={})=>{let H={id:e,label:t,type:o,status:r,description:l,props:d,settings:{...p}};return H.settings.collectionId&&(H.collectionId=H.settings.collectionId),H},qr={hero:{type:"Hero",label:"Hero de page",description:"Section pleine largeur avec CTA principal.",status:"Brouillon",props:[{label:"CTA",value:"D\xE9couvrir"},{label:"Hauteur",value:"80vh"}],settings:{title:"Titre du hero",subtitle:"",ctaLabel:"D\xE9couvrir",ctaUrl:"#",image:"",align:"center"}},paragraph:{type:"Paragraphe",label:"Bloc \xE9ditorial",description:"Paragraphe libre pour raconter votre histoire.",status:"Brouillon",props:[{label:"Longueur",value:"150 mots"}],settings:{title:"Titre du paragraphe",content:"",align:"left"}},image:{type:"Image",label:"Bloc image",description:"Visuel seul avec l\xE9gende optionnelle.",status:"Brouillon",props:[{label:"Ratio",value:"16:9"},{label:"L\xE9gende",value:"Inactive"}],settings:{src:"",alt:"",showCaption:!1,caption:""}},group:{type:"Groupe",label:"Groupe de sections",description:"Conteneur pour imbriquer plusieurs sous-blocs.",status:"Brouillon",props:[{label:"Disposition",value:"Verticale"}],settings:{layout:"grid",columnsMobile:"1",columnsDesktop:"3",mobileLayout:"stack"}},collectiongrid:{type:"CollectionGrid",label:"Grille de contenus",description:"Affiche automatiquement les items d\u2019une collection.",status:"Brouillon",settings:{collectionId:"",limit:6,mobileLayout:"stack"}},form:{type:"Form",label:"Formulaire de contact",description:"Formulaire avec envoi vers un service externe.",status:"Brouillon",settings:{formTitle:"Contactez-nous",actionUrl:"",method:"POST",serviceName:"",submitLabel:"Envoyer",successMessage:"Merci pour votre message !"}},newsletterembed:{type:"NewsletterEmbed",label:"Newsletter / Embed",description:"Int\xE9gration d'un formulaire newsletter externe (Brevo, Mailchimp\u2026).",status:"Brouillon",settings:{title:"Restez inform\xE9",serviceName:"",embedCode:""}}},Ar=e=>{try{window.localStorage.setItem(bn.active,e)}catch{}},Tr=e=>{var t;try{let o=window.localStorage.getItem(bn.active);if(o&&e.some(r=>r.id===o))return o}catch{}return((t=e[0])==null?void 0:t.id)||null},$r=e=>!e||e<=0?"0 bloc":e===1?"1 bloc":`${e} blocs`,xn=e=>{if(!e||e==="/")return"/";let t=_t(e.replace(/^\//,""));return t?`/${t}`:"/"},Ro=(e="page",t="block")=>`${e}-${t}-${Date.now().toString(36)}-${Math.floor(Math.random()*1e3)}`,da=(e,t)=>[Uo(Ro(e,"intro"),"Introduction","Paragraphe","Brouillon",`Paragraphe introductif pour "${t}".`,[{label:"Longueur",value:"2 paragraphes"}],{title:`Introduction \xE0 ${t}`,content:"Ajoutez votre premier paragraphe de pr\xE9sentation.",align:"left"}),Uo(Ro(e,"content"),"Zone de contenu","Groupe","Brouillon","Section principale \xE0 composer avec textes et visuels.",[{label:"Colonnes",value:"Auto"}],{layout:"grid",columnsMobile:"1",columnsDesktop:"2",mobileLayout:"stack"})],wn=e=>{n&&(n.textContent=(e==null?void 0:e.name)||(e==null?void 0:e.title)||"Page"),i&&(i.textContent=(e==null?void 0:e.slug)||"/")},Ir=e=>{if(!u)return;u.innerHTML="",(e&&e.badges&&e.badges.length>0?e.badges:["Structure en cours"]).forEach(o=>{let r=document.createElement("span");r.className="rounded-full bg-slate-100 px-3 py-1",r.textContent=o,u.appendChild(r)})},Br=e=>{switch((e||"").toLowerCase()){case"en ligne":return"bg-emerald-50 text-emerald-700";case"brouillon":return"bg-amber-50 text-amber-700";default:return"bg-slate-100 text-slate-600"}},uo=e=>{if(!(!ye||!$e)){if(!e){ye.classList.remove("hidden"),$e.classList.add("hidden"),$==null||$.classList.add("hidden"),h==null||h.classList.add("hidden"),ge==null||ge.classList.add("hidden");return}ye.classList.add("hidden"),$e.classList.remove("hidden"),ge&&(e.status?(ge.textContent=e.status,ge.className=`rounded-full px-3 py-1 text-xs font-semibold ${Br(e.status)}`,ge.classList.remove("hidden")):ge.classList.add("hidden")),os(e)}},jr=()=>{let e=getComputedStyle(document.documentElement).getPropertyValue("--color-accent");return e?e.trim():"#9C6BFF"},Us=e=>{if(!g)return;let t=g.contentDocument;if(!t)return;if(t.querySelectorAll("[data-preview-block]").forEach(r=>{r.dataset.previewBlock===e?(r.classList.add("preview-block-active"),Jo&&e&&r.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})):r.classList.remove("preview-block-active")}),w){let r=jr();w.style.borderColor=e?r:"transparent",w.style.opacity=e?"0.5":"0"}},Sn={desktop:{width:"100%",height:"640px",maxWidth:"",margin:"0"},mobile:{width:"375px",height:"780px",maxWidth:"375px",margin:"0 auto"}},Ln=e=>{let t=Sn[e]?e:"desktop";U.forEach(r=>{let l=r.dataset.previewView===t;r.setAttribute("aria-pressed",l?"true":"false"),l?(r.classList.add("bg-slate-900","text-white"),r.classList.remove("bg-slate-200","text-slate-500")):(r.classList.remove("bg-slate-900","text-white"),r.classList.add("bg-slate-200","text-slate-500"))});let o=Sn[t];g&&(g.style.width=o.width,g.style.height=o.height,g.style.maxWidth=o.maxWidth,g.style.margin=o.margin),x&&(x.style.width="100%",x.style.minHeight=o.height,x.style.maxWidth=o.maxWidth||"100%"),O&&(O.dataset.previewShellView=t),G&&(G.textContent=t==="mobile"?"Vue mobile":"Vue bureau")},kn=(e,t=!1,o=null)=>{var Yo;let r=e.id===Ge,l=(e.type||"").toLowerCase(),d=l==="groupe"||l==="group"||l==="sections"||l==="grid",p=document.createElement("div");p.dataset.blockItem="true",p.dataset.blockId=e.id,o&&(p.dataset.parentBlockId=o),d&&(p.dataset.isGroup="true"),p.setAttribute("role","option"),p.setAttribute("aria-selected",r?"true":"false"),p.setAttribute("draggable","true"),p.tabIndex=0,p.className=["relative flex items-center gap-3 rounded-2xl border px-3 py-2 text-left transition group",t?"ml-6 border-dashed":"",r?"bg-slate-100 border-[#9C6BFF]/40 shadow-sm":"border-slate-200 hover:border-[#9C6BFF]/40"].join(" ");let H=document.createElement("span");H.className=`absolute inset-y-2 left-0 w-1 rounded-full bg-[#9C6BFF] ${r?"":"hidden"}`,p.appendChild(H);let ce=document.createElement("div");ce.className="flex flex-1 items-center gap-3";let Me=document.createElement("div");Me.className="hidden lg:flex cursor-grab active:cursor-grabbing flex-shrink-0 items-center text-lg text-slate-400 hover:text-slate-600 transition-colors select-none",Me.innerHTML="\u22EE\u22EE",Me.setAttribute("title","Glisser pour r\xE9ordonner"),ce.appendChild(Me);let qe=document.createElement("div");qe.className="flex-1";let Ze=document.createElement("div");Ze.className="flex items-center gap-2 text-[11px] uppercase tracking-wide text-slate-500";let Ke=document.createElement("span");Ke.className="rounded-full bg-slate-100 px-2 py-0.5 text-[10px] font-semibold text-slate-600",Ke.textContent=e.type;let de=document.createElement("span");if(de.className="text-slate-400",de.textContent=e.status,Ze.appendChild(Ke),d){let ut=(e.children||[]).length,is=document.createElement("span");is.className="rounded-full bg-violet-100 px-2 py-0.5 text-[10px] font-semibold text-violet-600",is.textContent=`${ut} \xE9l\xE9ment${ut!==1?"s":""}`,Ze.appendChild(is)}Ze.appendChild(de);let M=document.createElement("p");M.className="mt-1 text-sm font-semibold text-slate-900";let ot=e.settings&&e.settings.title||e.label||"Bloc sans titre";if(M.textContent=ot,qe.appendChild(Ze),qe.appendChild(M),l==="collectiongrid"&&e.collectionId){let ut=((Yo=Pt.find(ra=>ra.id===e.collectionId))==null?void 0:Yo.name)||e.collectionId,is=document.createElement("p");is.className="text-xs text-slate-400",is.textContent=`Collection : ${ut}`,qe.appendChild(is)}ce.appendChild(qe),p.appendChild(ce);let Ae=document.createElement("div");Ae.className="flex flex-col gap-1 text-xs text-slate-400";let fe=document.createElement("div");fe.className="flex items-center gap-1 lg:hidden";let lt=document.createElement("button");lt.type="button",lt.className="rounded-lg border border-slate-200 px-2 py-1 text-[11px] font-semibold text-slate-500",lt.textContent="\u2191",lt.addEventListener("click",ut=>{ut.stopPropagation(),o?Cn(o,e.id,-1):qn(e.id,-1)});let yt=document.createElement("button");yt.type="button",yt.className="rounded-lg border border-slate-200 px-2 py-1 text-[11px] font-semibold text-slate-500",yt.textContent="\u2193",yt.addEventListener("click",ut=>{ut.stopPropagation(),o?Cn(o,e.id,1):qn(e.id,1)}),fe.appendChild(lt),fe.appendChild(yt),Ae.appendChild(fe);let He=document.createElement("button");return He.type="button",He.className="inline-flex items-center justify-center rounded-lg border border-transparent px-2 py-1 text-[12px] text-rose-500 hover:text-rose-700",He.innerHTML="\u{1F5D1}\uFE0F",He.addEventListener("click",ut=>{ut.stopPropagation(),o?Mr(o,e.id):Or(e.id)}),Ae.appendChild(He),p.appendChild(Ae),p.addEventListener("click",()=>{Wt(e.id,o)}),p.addEventListener("keydown",ut=>{(ut.key==="Enter"||ut.key===" ")&&(ut.preventDefault(),Wt(e.id,o))}),{item:p,isGroup:d,block:e}},Pr=e=>{let t=document.createElement("div");return t.dataset.groupDropZone=e.id,t.className="ml-6 border-2 border-dashed border-slate-200 rounded-xl p-3 text-center text-xs text-slate-400 hover:border-violet-300 hover:bg-violet-50/50 transition-colors cursor-pointer",t.innerHTML='<span class="pointer-events-none">\u{1F4E6} Glissez un bloc ici ou cliquez pour ajouter</span>',t.addEventListener("dragover",o=>{o.preventDefault(),o.stopPropagation(),t.classList.add("border-violet-400","bg-violet-50")}),t.addEventListener("dragleave",o=>{o.stopPropagation(),t.classList.remove("border-violet-400","bg-violet-50")}),t.addEventListener("drop",o=>{o.preventDefault(),o.stopPropagation(),t.classList.remove("border-violet-400","bg-violet-50");let r=o.dataTransfer.getData("text/plain");r&&r!==e.id&&Fr(r,e.id)}),t.addEventListener("click",()=>{Nr(e.id)}),t},kt=e=>{if(!S)return;S.innerHTML="";let t=(e==null?void 0:e.blocks)||[];if(V&&(V.textContent=$r(t.length)),t.length===0){S.classList.add("hidden"),z==null||z.classList.remove("hidden");return}S.classList.remove("hidden"),z==null||z.classList.add("hidden"),t.forEach(o=>{let{item:r,isGroup:l}=kn(o,!1,null);if(S.appendChild(r),l){(o.children||[]).forEach(H=>{let{item:ce}=kn(H,!0,o.id);S.appendChild(ce)});let p=Pr(o);S.appendChild(p)}})},Fr=(e,t)=>{if(!m)return;let o=m.blocks.findIndex(H=>H.id===e),r=m.blocks.find(H=>H.id===t);if(o===-1||!r)return;let d=(m.blocks[o].type||"").toLowerCase();if(d==="groupe"||d==="group"){P("Impossible d'imbriquer des groupes","error");return}let[p]=m.blocks.splice(o,1);r.children||(r.children=[]),r.children.push(p),kt(m),savePageBlocks(),P("Bloc ajout\xE9 au groupe")},Mr=(e,t)=>{if(!m)return;let o=m.blocks.find(p=>p.id===e);if(!o||!o.children)return;let r=o.children.findIndex(p=>p.id===t);if(r===-1)return;let[l]=o.children.splice(r,1),d=m.blocks.findIndex(p=>p.id===e);m.blocks.splice(d+1,0,l),kt(m),savePageBlocks(),P("Bloc sorti du groupe")},Cn=(e,t,o)=>{if(!m)return;let r=m.blocks.find(H=>H.id===e);if(!r||!r.children)return;let l=r.children.findIndex(H=>H.id===t);if(l===-1)return;let d=l+o;if(d<0||d>=r.children.length)return;let[p]=r.children.splice(l,1);r.children.splice(d,0,p),kt(m),savePageBlocks()},Nr=e=>{Rs=e,openBlockPicker()},Rs=null,Dr=e=>{!St||!e||(Hs=e,vn&&(vn.textContent=e.title||e.id),St.classList.remove("hidden"),St.classList.add("flex"),Ls(St,mo))},mo=()=>{St&&(St.classList.add("hidden"),St.classList.remove("flex"),Hs=null,ks(St))},Hr=async()=>{if(!Lt||!Hs)return;let e=Hs.id,t=Hs.title||e;Rt&&(Rt.disabled=!0,Rt.textContent="Suppression...");try{let o=await fetch(`${Lt}/${encodeURIComponent(e)}`,{method:"DELETE",credentials:"include"}),r=await o.json();if(!o.ok)throw new Error(r.message||"Erreur serveur");ae=ae.filter(l=>l.id!==e),Fe===e?ae.length>0?Tt(ae[0].id):(Fe=null,m=null,Jt(ae,null),kt(null),ye==null||ye.classList.remove("hidden"),$e==null||$e.classList.add("hidden"),g&&(g.srcdoc=Ot())):Jt(ae,Fe),mo(),P(`Page "${t}" supprim\xE9e`)}catch(o){console.error("[pages] delete failed",o),P(o.message||"Erreur suppression")}finally{Rt&&(Rt.disabled=!1,Rt.textContent="Supprimer")}},Jt=(e,t)=>{s.forEach(o=>{o.innerHTML="",e.forEach(r=>{var qe;let l=document.createElement("li");l.className="flex items-center gap-1";let d=document.createElement("button");d.type="button",d.dataset.pageId=r.id,d.className=["flex-1 flex items-center gap-3 px-3 py-2 text-left transition",t===r.id?"bg-[#9C6BFF]/10 text-slate-900 border border-[#9C6BFF]/40 rounded-xl shadow-sm":"text-slate-700 hover:bg-slate-50 rounded-xl"].join(" "),t===r.id?d.setAttribute("aria-current","page"):d.removeAttribute("aria-current");let p=r.name||r.title,ce=((qe=r.accessibility)==null?void 0:qe.showInMainNav)===!1?'<span class="text-[10px] font-semibold text-amber-600">Masqu\xE9 du menu</span>':"";d.innerHTML=`
            <span class="flex h-9 w-9 items-center justify-center rounded-xl border border-slate-200 bg-white text-slate-500">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                <path d="M6.5 4.5h7l4 4v11a1 1 0 0 1-1 1h-10a1 1 0 0 1-1-1v-14a1 1 0 0 1 1-1Z" stroke="currentColor" stroke-width="1.4" stroke-linejoin="round"/>
                <path d="M13.5 4.5v4a1 1 0 0 0 1 1h3" stroke="currentColor" stroke-width="1.4"/>
              </svg>
            </span>
            <div class="flex flex-col">
              <span class="text-sm font-semibold">${p}</span>
              <span class="text-xs text-slate-500">${r.slug}</span>
              ${ce}
            </div>
          `,d.addEventListener("click",()=>{Tt(r.id),zo()||Vo()}),l.appendChild(d);let Me=document.createElement("button");Me.type="button",Me.className="flex-shrink-0 p-2 text-slate-400 hover:text-rose-600 hover:bg-rose-50 rounded-lg transition",Me.title="Supprimer cette page",Me.setAttribute("aria-label",`Supprimer ${p}`),Me.innerHTML=`
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M3 6h18M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2m3 0v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6h14ZM10 11v6M14 11v6"/>
            </svg>
          `,Me.addEventListener("click",Ze=>{Ze.stopPropagation(),Dr(r)}),l.appendChild(Me),o.appendChild(l)})})},ys=()=>{if(!m||!Array.isArray(m.blocks))return null;let e=m.blocks.find(t=>t.id===Ge);if(!e){for(let t of m.blocks)if(t.children&&(e=t.children.find(o=>o.id===Ge),e))break}return e||null},En=null,Wt=(e,t=null)=>{if(!m)return;if(!e){Ge=null,En=null,kt(m),uo(null),Us(null);return}let o=null;if(o=m.blocks.find(r=>r.id===e),!o&&t){let r=m.blocks.find(l=>l.id===t);r&&r.children&&(o=r.children.find(l=>l.id===e))}if(!o){for(let r of m.blocks)if(r.children){let l=r.children.find(d=>d.id===e);if(l){o=l,t=r.id;break}}}o||(o=m.blocks[0]||null,t=null),Ge=(o==null?void 0:o.id)||null,En=t,kt(m),uo(o),Us(Ge)},bs=e=>{if(!m)return;let t={...m,blocks:e};Jr(t)},fo=()=>window.matchMedia("(min-width: 1024px)").matches;function qn(e,t){if(!m||!e||!t)return;let o=[...m.blocks||[]],r=o.findIndex(p=>p.id===e);if(r<0)return;let l=r+t;if(l<0||l>=o.length)return;let[d]=o.splice(r,1);o.splice(l,0,d),bs(o),Tt(m.id,{preserveBlock:!0}),Wt(d.id)}function ua(e,t){if(!m||!e||!t||e===t)return;let o=[...m.blocks||[]],r=o.findIndex(p=>p.id===e),l=o.findIndex(p=>p.id===t);if(r<0||l<0)return;let[d]=o.splice(r,1);o.splice(l,0,d),bs(o),Tt(m.id,{preserveBlock:!0}),Wt(d.id)}function Ur(e,t,o){if(!m||!e||!t||e===t)return;let r=[...m.blocks||[]],l=r.findIndex(ce=>ce.id===e),d=r.findIndex(ce=>ce.id===t);if(l<0||d<0)return;let[p]=r.splice(l,1);l<d&&d--;let H=o==="before"?d:d+1;r.splice(H,0,p),bs(r),Tt(m.id,{preserveBlock:!0}),Wt(p.id)}function An(){if(!S)return;let e=fo();S.querySelectorAll("[data-block-item]").forEach(t=>{t.setAttribute("draggable",e?"true":"false")})}function zs(){ue&&(ue.classList.add("hidden"),Vs=!1)}function Rr(){ue&&(ue.classList.remove("hidden"),Vs=!0)}function zr(){Vs?zs():Rr()}function Vr(e){var d;if(!m||!e)return;let t=qr[e];if(!t)return;let o=(m.blocks||[]).filter(p=>p.type===t.type).length+1,r=Uo(Ro(m.id,e),`${t.label} ${o}`,t.type,t.status,t.description,t.props,t.settings||{});if((t.type||"").toLowerCase()==="collectiongrid"){let p=((d=Pt[0])==null?void 0:d.id)||"";r.collectionId=p,r.settings.collectionId=p,r.settings.limit=r.settings.limit||6}if(Rs){let p=m.blocks.find(H=>H.id===Rs);if(p){p.children||(p.children=[]),p.children.push(r),Rs=null,kt(m),savePageBlocks(),Wt(r.id,p.id),zs(),P("Bloc ajout\xE9 au groupe");return}Rs=null}let l=[...m.blocks||[],r];bs(l),Tt(m.id,{preserveBlock:!0}),Wt(r.id),zs(),P("Bloc ajout\xE9")}function Tn(e){var r,l;if(!m)return;let t=(m.blocks||[]).filter(d=>d.id!==e),o=e===Ge?((r=t[0])==null?void 0:r.id)||null:Ge||((l=t[0])==null?void 0:l.id)||null;bs(t),Ge=o,Tt(m.id,{preserveBlock:!0}),Ge?Wt(Ge):(uo(null),Us(null)),P("Bloc supprim\xE9")}function po(){ne&&(ne.classList.add("hidden"),ne.classList.remove("flex"),ho=null,ks(ne))}function Or(e){if(!ne){Tn(e);return}ho=e,ne.classList.remove("hidden"),ne.classList.add("flex"),Ls(ne,po)}let Jr=e=>{if(!e)return;let t=as(e);ae=ae.map(o=>o.id===t.id?t:o),m=t,ts(t)},Tt=(e,t={})=>{var l,d;let o=ae.find(p=>p.id===e)||ae[0]||null;m=o?as(o):null,Fe=(o==null?void 0:o.id)||null,(!t.preserveBlock||!m||!m.blocks.some(p=>p.id===Ge))&&(Ge=((d=(l=m==null?void 0:m.blocks)==null?void 0:l[0])==null?void 0:d.id)||null),Fe&&Ar(Fe),Jt(ae,Fe),wn(m),_o(),Ir(m),te(m),kt(m),uo(ys()),Us(Ge),An(),Vs&&zs()},zo=()=>window.matchMedia("(min-width: 1024px)").matches,$n=()=>{ee&&(zo()?(ee.classList.add("is-open"),he==null||he.classList.add("hidden"),document.body.classList.remove("overflow-hidden")):ee.classList.remove("is-open"))},Wr=()=>{!ee||zo()||(ee.classList.add("is-open"),he==null||he.classList.remove("hidden"),document.body.classList.add("overflow-hidden"))},Vo=()=>{ee&&(ee.classList.remove("is-open"),he==null||he.classList.add("hidden"),document.body.classList.remove("overflow-hidden"))},Gr=()=>{!ke||!Be||(ke.classList.remove("hidden"),Be.classList.add("hidden"),Oe&&(Oe.textContent=""),go=!1,Se&&(Se.value="",Se.focus()),ht&&(ht.value=""),tt&&(tt.value=""))},In=()=>{!ke||!Be||(ke.classList.add("hidden"),Be.classList.remove("hidden"),Oe&&(Oe.textContent=""),go=!1,ke.reset())},Zr=()=>{!Se||!tt||go&&tt.value.trim().length>0||(tt.value=xn(Se.value))},ae=[],Fe=null,go=!1,m=null,Ge=null,Vs=!1,ho=null,Oo="",Jo=!1,Os=null,Pt=[],Kr=e=>{let t={...e,props:Array.isArray(e.props)?e.props:[],settings:{...e.settings||{}}};return(t.type||"").toLowerCase()==="collectiongrid"&&(t.collectionId=t.collectionId||t.settings.collectionId||"",t.settings.collectionId=t.collectionId,t.settings.limit=t.settings.limit||6),t},as=e=>{var t,o,r,l,d;return{...e,blocks:(e.blocks||[]).map(p=>Kr(p)),seo:{title:(((t=e.seo)==null?void 0:t.title)||"").trim(),description:(((o=e.seo)==null?void 0:o.description)||"").trim(),indexed:typeof((r=e.seo)==null?void 0:r.indexed)=="boolean"?e.seo.indexed:null},accessibility:{showInMainNav:((l=e.accessibility)==null?void 0:l.showInMainNav)!==!1,mainLabel:(((d=e.accessibility)==null?void 0:d.mainLabel)||"").trim()}}},_r=async()=>{if(!yn){Pt=[],vo();return}try{let e=await fetch(yn,{headers:{Accept:"application/json"}});if(!e.ok)throw new Error("Impossible de charger les collections.");let t=await e.json().catch(()=>[]);Pt=Array.isArray(t)?t:[];let o=(De==null?void 0:De.value)||"";vo(o)}catch(e){console.error("[design] collections load",e),P("Collections indisponibles."),Pt=[],vo()}},Wo=e=>{if(!qt)return;if(!e){qt.textContent=Pt.length?"S\xE9lectionnez une collection pour afficher ses informations.":"Aucune collection disponible. Ajoutez-en depuis l\u2019onglet Contenus.";return}let t=Pt.find(r=>r.id===e);if(!t){qt.textContent=`Collection ${e}`;return}let o=[];t.description&&o.push(t.description),t.type&&o.push(`Type\xA0: ${t.type}`),qt.textContent=o.join(" \xB7 ")||`Collection ${t.name||t.id}`},vo=(e="")=>{if(De){if(De.innerHTML="",!Pt.length){De.disabled=!0;let t=document.createElement("option");t.value="",t.textContent="Aucune collection disponible",De.appendChild(t),Wo("");return}if(De.disabled=!1,e&&!Pt.some(t=>t.id===e)){let t=document.createElement("option");t.value=e,t.textContent=e,De.appendChild(t)}Pt.forEach(t=>{let o=document.createElement("option");o.value=t.id;let r=t.name||t.id;o.textContent=t.type?`${r} \xB7 ${t.type}`:r,o.dataset.description=t.description||"",De.appendChild(o)}),e&&(De.value=e),Wo(De.value||"")}};_r(),$n(),Xe.forEach(e=>{e.addEventListener("click",Wr)}),et.forEach(e=>{e.addEventListener("click",Vo)}),he==null||he.addEventListener("click",Vo),window.addEventListener("resize",()=>{$n(),An()}),Be==null||Be.addEventListener("click",Gr),Dt==null||Dt.addEventListener("click",In),Se==null||Se.addEventListener("input",Zr),tt==null||tt.addEventListener("input",()=>{Oe&&(Oe.textContent=""),go=!0}),ke==null||ke.addEventListener("submit",async e=>{if(e.preventDefault(),!Lt){Oe&&(Oe.textContent="Aucun site s\xE9lectionn\xE9.");return}if(!Se||!tt)return;let t=Se.value.trim(),o=(ht==null?void 0:ht.value.trim())||t,r=xn(tt.value.trim()||t);if(!t||!r){Oe&&(Oe.textContent="Nom et slug sont requis.");return}Oe&&(Oe.textContent=""),Ht&&(Ht.disabled=!0,Ht.textContent="Cr\xE9ation...");try{let l=await ao({name:t,title:o,slug:r});if(!l||!l.id)throw new Error("R\xE9ponse invalide.");ae=[...ae,as(l)],In(),P("Page cr\xE9\xE9e"),Tt(l.id)}catch(l){console.error("[design] create page failed",l),Oe&&(Oe.textContent=l.message||"Impossible de cr\xE9er la page.")}finally{Ht&&(Ht.disabled=!1,Ht.textContent="Cr\xE9er")}});let Go=()=>{vt&&(vt.value=""),jt&&(jt.classList.add("hidden"),jt.textContent="")},Bn=()=>{if(!vt)return null;let e=vt.value.trim();if(!e)return jt&&jt.classList.add("hidden"),null;try{let t=JSON.parse(e);return jt&&jt.classList.add("hidden"),t}catch(t){return jt&&(jt.classList.remove("hidden"),jt.textContent=`\u274C JSON invalide : ${t.message}`),null}},Yr=()=>{if(!vt)return;let e=vt.value.trim();if(e)try{let t=JSON.parse(e);vt.value=JSON.stringify(t,null,2),Bn()}catch{}},Js=()=>{if(st)if(rs==="upload")st.disabled=Ut.length===0;else if(rs==="paste"){let e=Bn();st.disabled=!e}else st.disabled=!0},Qr=()=>{at&&(at.classList.remove("hidden"),at.classList.add("flex"),Ut=[],rs="upload",Ko(),Go(),Je&&Je.classList.add("hidden"),We&&(We.innerHTML=""),Js(),hs.forEach(e=>{e.dataset.importTab==="upload"?(e.classList.add("bg-[#9C6BFF]","text-white"),e.classList.remove("border","border-slate-200","text-slate-700")):(e.classList.remove("bg-[#9C6BFF]","text-white"),e.classList.add("border","border-slate-200","text-slate-700"))}),Ns.forEach(e=>{e.dataset.importPanel==="upload"?e.classList.remove("hidden"):e.classList.add("hidden")}),Ls(at,Zo))},Zo=()=>{at&&(at.classList.add("hidden"),at.classList.remove("flex"),Ut=[],Go(),ks(at))},Ko=()=>{if(!(!gs||!Ms)){if(Ut.length===0){gs.classList.add("hidden"),Js();return}gs.classList.remove("hidden"),Ms.innerHTML=Ut.map(e=>`<li class="flex items-center gap-2"><span class="text-lg">\u{1F4C4}</span>${e.name}</li>`).join(""),Js()}},jn=e=>{let t=Array.from(e).filter(o=>o.type==="application/json"||o.name.endsWith(".json"));if(t.length===0){P("Aucun fichier JSON valide.");return}Ut=t,Ko()},Xr=async()=>{var o,r,l,d,p,H,ce,Me,qe,Ze,Ke;if(!Lt)return;let e=[];if(console.log("[import] activeImportTab:",rs),rs==="paste"){let de=(o=vt==null?void 0:vt.value)==null?void 0:o.trim();if(console.log("[import] paste text length:",de==null?void 0:de.length),!de){P("Aucun JSON \xE0 importer."),Je&&We&&(Je.classList.remove("hidden"),We.innerHTML='<p class="text-amber-600">\u26A0 Le champ de texte est vide.</p>');return}try{let M=JSON.parse(de);console.log("[import] parsed JSON:",M),console.log("[import] parsed type:",typeof M,Array.isArray(M)?"array":"not array"),M&&!Array.isArray(M)&&M.pages?(console.log("[import] detected pages+collections format"),e=M):Array.isArray(M)?e.push(...M):e.push(M),console.log("[import] pagesData prepared:",e)}catch(M){let ot=M.message.match(/position (\d+)/),Ae=M.message;if(ot){let fe=parseInt(ot[1],10),lt=de.substring(0,fe).split(`
`),yt=lt.length,He=lt[lt.length-1].length+1;Ae=`Ligne ${yt}, colonne ${He}: ${M.message}`}P(`Erreur JSON : ${Ae}`,"error"),console.error("[import] paste parse error",M),Je&&We&&(Je.classList.remove("hidden"),We.innerHTML=`
              <div class="text-rose-600">
                <p class="font-medium">\u2717 Erreur de syntaxe JSON</p>
                <p class="text-xs mt-1">${Ae}</p>
                <p class="text-xs mt-2 text-slate-500">V\xE9rifiez les virgules, guillemets et accolades.</p>
              </div>
            `);return}}else if(rs==="upload"){if(Ut.length===0)return;let de=[];for(let M of Ut){let ot=await M.text();try{let Ae=JSON.parse(ot);Array.isArray(Ae)?e.push(...Ae):e.push(Ae)}catch(Ae){let fe=Ae.message.match(/position (\d+)/),lt=Ae.message;if(fe){let yt=parseInt(fe[1],10);lt=`Ligne ${ot.substring(0,yt).split(`
`).length}: ${Ae.message}`}de.push({file:M.name,error:lt}),console.error("[import] parse error",M.name,Ae)}}if(de.length>0){if(Je&&We){Je.classList.remove("hidden");let M='<div class="text-rose-600"><p class="font-medium">\u2717 Erreurs de syntaxe JSON</p><ul class="ml-4 text-xs mt-1">';de.forEach(ot=>{M+=`<li><strong>${ot.file}</strong>: ${ot.error}</li>`}),M+="</ul></div>",e.length>0&&(M+=`<p class="text-amber-600 mt-2 text-sm">\u26A0 ${e.length} page(s) valide(s) seront import\xE9e(s)</p>`),We.innerHTML=M}if(e.length===0){P("Tous les fichiers contiennent des erreurs JSON","error");return}}}else return;let t=Array.isArray(e)?e.length>0:e&&(((r=e.pages)==null?void 0:r.length)>0||e.title);if(console.log("[import] hasData check:",t,"pagesData:",e),!t){P("Aucune page valide \xE0 importer."),Je&&We&&(Je.classList.remove("hidden"),We.innerHTML=`
            <div class="text-amber-600">
              <p class="font-medium">\u26A0 Aucune page d\xE9tect\xE9e</p>
              <p class="text-xs mt-1">Le JSON doit contenir :</p>
              <ul class="text-xs ml-4 mt-1 list-disc">
                <li>Un objet page avec "title" : <code>{"title": "Ma page", ...}</code></li>
                <li>Un tableau de pages : <code>[{"title": "Page 1"}, {"title": "Page 2"}]</code></li>
                <li>Ou un objet combin\xE9 : <code>{"pages": [...], "collections": {...}}</code></li>
              </ul>
            </div>
          `);return}st&&(st.disabled=!0,st.textContent="Import..."),console.log("[import] Sending to server:",JSON.stringify(e).substring(0,500));try{let de=await fetch(`${Lt}/import`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)});console.log("[import] Server response status:",de.status);let M=await de.json();if(console.log("[import] Server response body:",M),!de.ok)throw Je&&We&&(Je.classList.remove("hidden"),We.innerHTML=`
              <div class="text-rose-600">
                <p class="font-medium">\u2717 Erreur serveur</p>
                <p class="text-xs mt-1">${M.message||"Erreur inconnue"}</p>
                ${M.details?`<p class="text-xs mt-1 text-slate-500">${M.details}</p>`:""}
              </div>
            `),new Error(M.message||"Erreur serveur");if(Je&&We){Je.classList.remove("hidden");let fe="",lt=((l=M.imported)==null?void 0:l.length)>0||((d=M.collectionsCreated)==null?void 0:d.length)>0,yt=((p=M.errors)==null?void 0:p.length)>0;lt&&!yt?fe+='<div class="bg-green-50 border border-green-200 rounded-lg p-3 mb-2"><p class="text-green-800 font-medium">\u2713 Import r\xE9ussi</p></div>':lt&&yt?fe+='<div class="bg-amber-50 border border-amber-200 rounded-lg p-3 mb-2"><p class="text-amber-800 font-medium">\u26A0 Import partiel</p></div>':yt&&(fe+='<div class="bg-rose-50 border border-rose-200 rounded-lg p-3 mb-2"><p class="text-rose-800 font-medium">\u2717 Import \xE9chou\xE9</p></div>'),M.collectionsCreated&&M.collectionsCreated.length>0&&(fe+=`<p class="text-violet-700 mt-2">\u2713 ${M.collectionsCreated.length} collection(s) cr\xE9\xE9e(s)</p>`,fe+='<ul class="ml-4 text-xs text-slate-600">',M.collectionsCreated.forEach(He=>{fe+=`<li>${He.name} (${He.itemsCount} item${He.itemsCount>1?"s":""})</li>`}),fe+="</ul>"),M.imported&&M.imported.length>0&&(fe+=`<p class="text-green-700 mt-2">\u2713 ${M.imported.length} page(s) import\xE9e(s)</p>`,fe+='<ul class="ml-4 text-xs text-slate-600">',M.imported.forEach(He=>{fe+=`<li><strong>${He.title}</strong> \u2192 ${He.slug} (${He.action==="updated"?"mise \xE0 jour":"cr\xE9\xE9e"})</li>`}),fe+="</ul>"),M.errors&&M.errors.length>0&&(fe+=`<p class="text-rose-600 mt-3 font-medium">\u2717 ${M.errors.length} erreur(s)</p>`,fe+='<ul class="ml-4 text-xs text-rose-600 space-y-1 mt-1">',M.errors.forEach(He=>{fe+=`<li class="bg-rose-50 p-2 rounded"><strong>${He.title}</strong><br/><span class="text-rose-500">${He.error}</span></li>`}),fe+="</ul>"),We.innerHTML=fe}let ot=((H=M.imported)==null?void 0:H.length)>0||((ce=M.collectionsCreated)==null?void 0:ce.length)>0,Ae=((Me=M.errors)==null?void 0:Me.length)>0;if(M.imported&&M.imported.length>0&&(ae=await Fs(),Jt(ae,Fe),ae.length>0&&!Fe&&Tt(ae[0].id)),ot&&!Ae){let fe=(qe=M.collectionsCreated)!=null&&qe.length?` + ${M.collectionsCreated.length} collection(s)`:"";P(`\u2713 Import r\xE9ussi : ${((Ze=M.imported)==null?void 0:Ze.length)||0} page(s)${fe}`,"success")}else ot&&Ae?P(`\u26A0 Import partiel : ${((Ke=M.imported)==null?void 0:Ke.length)||0} page(s), ${M.errors.length} erreur(s)`,"warning"):Ae&&P(`\u2717 Import \xE9chou\xE9 : ${M.errors.length} erreur(s)`,"error");Ut=[],Ko(),Go()}catch(de){console.error("[import] failed",de),P(de.message||"Erreur import","error")}finally{st&&(st.disabled=!1,st.textContent="Importer")}};ps==null||ps.addEventListener("click",Qr),lo.forEach(e=>e.addEventListener("click",Zo)),at==null||at.addEventListener("click",e=>{e.target===at&&Zo()}),ns==null||ns.addEventListener("change",e=>{jn(e.target.files)}),it==null||it.addEventListener("dragover",e=>{e.preventDefault(),it.classList.add("border-[#9C6BFF]","bg-[#9C6BFF]/10")}),it==null||it.addEventListener("dragleave",e=>{e.preventDefault(),it.classList.remove("border-[#9C6BFF]","bg-[#9C6BFF]/10")}),it==null||it.addEventListener("drop",e=>{e.preventDefault(),it.classList.remove("border-[#9C6BFF]","bg-[#9C6BFF]/10"),jn(e.dataTransfer.files)}),st==null||st.addEventListener("click",Xr),vt==null||vt.addEventListener("input",()=>{Js()}),Do==null||Do.addEventListener("click",Yr),hs.forEach(e=>{e.addEventListener("click",()=>{let t=e.dataset.importTab;rs=t,hs.forEach(o=>{o.dataset.importTab===t?(o.classList.add("bg-[#9C6BFF]","text-white"),o.classList.remove("border","border-slate-200","text-slate-700")):(o.classList.remove("bg-[#9C6BFF]","text-white"),o.classList.add("border","border-slate-200","text-slate-700"))}),Ns.forEach(o=>{o.dataset.importPanel===t?o.classList.remove("hidden"):o.classList.add("hidden")}),Js()})}),vs==null||vs.addEventListener("click",async()=>{if(!Ds)return;let e=Ds.textContent||"";try{await navigator.clipboard.writeText(e),P("Template copi\xE9 !")}catch(t){console.error("[import] copy failed",t),P("Erreur copie")}}),Ho==null||Ho.addEventListener("click",mo),Rt==null||Rt.addEventListener("click",Hr),St==null||St.addEventListener("click",e=>{e.target===St&&mo()}),le==null||le.addEventListener("click",e=>{e.stopPropagation(),zr()}),document.addEventListener("click",e=>{Vs&&(ue!=null&&ue.contains(e.target)||le!=null&&le.contains(e.target)||zs())}),me.forEach(e=>{e.addEventListener("click",t=>{t.stopPropagation();let o=e.dataset.blockAdd;Vr(o)})}),Ie==null||Ie.addEventListener("click",()=>{po()}),Ee==null||Ee.addEventListener("click",()=>{ho&&Tn(ho),po()}),ne==null||ne.addEventListener("click",e=>{e.target===ne&&po()}),h==null||h.addEventListener("input",e=>{var r,l,d,p;let t=e.target;if(!t||!t.name)return;if(t.name==="group-columns-mobile"||t.name==="group-columns-desktop"){let H=((r=h.querySelector('[name="group-columns-mobile"]'))==null?void 0:r.value)||"1",ce=((l=h.querySelector('[name="group-columns-desktop"]'))==null?void 0:l.value)||"3";ro(H,ce)}if(t.name==="collection-columns-mobile"||t.name==="collection-columns-desktop"){let H=((d=h.querySelector('[name="collection-columns-mobile"]'))==null?void 0:d.value)||"1",ce=((p=h.querySelector('[name="collection-columns-desktop"]'))==null?void 0:p.value)||"3";Ps(H,ce)}let o=t.closest("[data-block-panel]");if(o&&o.dataset.blockPanel==="appearance"){let H=ys(),ce=ss(H);if(H&&ce){let Me=fs(ce);Y(H.id,Me)}}}),h==null||h.addEventListener("change",e=>{var r,l;let t=e.target;if(!t||!t.name)return;if(t.hasAttribute("data-color-select")){let d=t.options[t.selectedIndex],p=((r=d==null?void 0:d.dataset)==null?void 0:r.color)||"#ffffff",H=(l=t.closest(".relative"))==null?void 0:l.querySelector("[data-color-preview]");H&&(p==="transparent"?H.style.background="repeating-conic-gradient(#ccc 0% 25%, white 0% 50%) 50% / 8px 8px":(H.style.backgroundColor=p,H.style.background=""))}let o=t.closest("[data-block-panel]");if(o&&o.dataset.blockPanel==="appearance"){let d=ys(),p=ss(d);if(d&&p){let H=fs(p);Y(d.id,H)}}}),De==null||De.addEventListener("change",e=>{let t=e.target;Wo((t==null?void 0:t.value)||"")}),h==null||h.addEventListener("submit",be),us==null||us.addEventListener("click",e=>{e.preventDefault();let t=ys();t&&os(t)}),U.length>0&&(U.forEach(e=>{e.addEventListener("click",()=>{let t=e.dataset.previewView||"desktop";Ln(t)})}),Ln("desktop")),g==null||g.addEventListener("load",()=>{Jo=!0,At("\xC0 jour"),Us(Ge)}),se==null||se.addEventListener("click",()=>{let e=window.open("","_blank");if(!e)return;e.opener=null;let t=e.document;t.open(),t.write(Oo||Ot()),t.close()});let Pn=e=>{var t,o,r;I&&(e?(I.classList.remove("hidden"),m&&(D&&(D.value=((t=m.seo)==null?void 0:t.title)||""),k&&(k.value=((o=m.seo)==null?void 0:o.description)||""),L&&(L.checked=((r=m.seo)==null?void 0:r.indexed)!==!1))):I.classList.add("hidden"))},yo=(e,t="muted")=>{if(!b)return;let o=t==="success"?"text-emerald-600":t==="error"?"text-rose-600":"text-slate-500";b.textContent=e||"",b.className=`text-sm ${o}`};A==null||A.addEventListener("click",()=>{let e=I&&!I.classList.contains("hidden");Pn(!e)}),j==null||j.addEventListener("click",()=>Pn(!1)),B==null||B.addEventListener("submit",async e=>{var t;if(e.preventDefault(),!m){yo("Aucune page active.","error");return}q&&(q.disabled=!0),yo("");try{let o={title:((D==null?void 0:D.value)||"").trim(),description:((k==null?void 0:k.value)||"").trim(),indexed:(t=L==null?void 0:L.checked)!=null?t:!0},r={...m,seo:o},l=await ts(r);l&&(m=l,yo("SEO enregistr\xE9.","success"),P("SEO mis \xE0 jour"),te(m))}catch(o){console.error("[seo] save failed",o),yo(o.message||"Erreur lors de la sauvegarde.","error")}finally{q&&(q.disabled=!1)}});let _o=()=>{var e,t;if(!(!K&&!xe)){if(!m){K&&(K.checked=!0),xe&&(xe.value="");return}K&&(K.checked=((e=m.accessibility)==null?void 0:e.showInMainNav)!==!1),xe&&(xe.value=((t=m.accessibility)==null?void 0:t.mainLabel)||"")}},Fn=e=>{N&&(e?(_o(),N.classList.remove("hidden")):N.classList.add("hidden"))},bo=(e,t="muted")=>{if(!Ce)return;let o=t==="success"?"text-emerald-600":t==="error"?"text-rose-600":"text-slate-500";Ce.textContent=e||"",Ce.className=`text-sm ${o}`};C==null||C.addEventListener("click",()=>{let e=N&&!N.classList.contains("hidden");Fn(!e)}),W==null||W.addEventListener("click",()=>Fn(!1)),Q==null||Q.addEventListener("submit",async e=>{var t;if(e.preventDefault(),!m){bo("Aucune page active.","error");return}Ve&&(Ve.disabled=!0),bo("");try{let o={showInMainNav:(t=K==null?void 0:K.checked)!=null?t:!0,mainLabel:((xe==null?void 0:xe.value)||"").trim()},r={...m,accessibility:o},l=await ts(r);l&&(m=l,_o(),bo("Accessibilit\xE9 enregistr\xE9e.","success"),P("Accessibilit\xE9 mise \xE0 jour"),Jt(ae,Fe),te(m))}catch(o){console.error("[accessibility] save failed",o),bo(o.message||"Erreur lors de la sauvegarde.","error")}finally{Ve&&(Ve.disabled=!1)}});let Mn=e=>{_&&(e?(_.classList.remove("hidden"),m&&(T&&(T.value=m.name||""),E&&(E.value=m.title||""),R&&(R.value=m.slug||""),ve&&(ve.value=m.description||""))):_.classList.add("hidden"))},xs=(e,t="muted")=>{if(!pe)return;let o=t==="success"?"text-emerald-600":t==="error"?"text-rose-600":"text-slate-500";pe.textContent=e||"",pe.className=`text-sm ${o}`};we==null||we.addEventListener("click",()=>{let e=_&&!_.classList.contains("hidden");Mn(!e)}),je==null||je.addEventListener("click",()=>Mn(!1)),Ue==null||Ue.addEventListener("submit",async e=>{if(e.preventDefault(),!m){xs("Aucune page active.","error");return}f&&(f.disabled=!0),xs("");try{let t=((T==null?void 0:T.value)||"").trim(),o=((E==null?void 0:E.value)||"").trim(),r=((R==null?void 0:R.value)||"").trim(),l=((ve==null?void 0:ve.value)||"").trim();if(!o){xs("Le titre est requis.","error"),f&&(f.disabled=!1);return}if(!r||!r.startsWith("/")){xs("Le slug doit commencer par /.","error"),f&&(f.disabled=!1);return}let d={...m,name:t||o,title:o,slug:r,description:l},p=await ts(d);p&&(m=p,ae=ae.map(H=>H.id===p.id?p:H),xs("Propri\xE9t\xE9s enregistr\xE9es.","success"),P("Page mise \xE0 jour"),wn(m),Jt(ae,Fe),te(m))}catch(t){console.error("[page-props] save failed",t),xs(t.message||"Erreur lors de la sauvegarde.","error")}finally{f&&(f.disabled=!1)}});let ea=e=>{let t=e.target.closest("[data-block-item]");if(!t||!fo()){e.preventDefault();return}if(Ft=t.dataset.blockId||null,!Ft){e.preventDefault();return}e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/plain",Ft),requestAnimationFrame(()=>{t.classList.add("opacity-50","scale-[0.98]","shadow-lg","ring-2","ring-[#9C6BFF]")})},Nn=()=>{S==null||S.querySelectorAll("[data-block-item]").forEach(e=>{e.classList.remove("opacity-50","scale-[0.98]","shadow-lg","ring-2","ring-[#9C6BFF]","border-t-4","border-b-4","border-t-[#9C6BFF]","border-b-[#9C6BFF]","pt-6","pb-6")})},ta=()=>{Ft=null,Nn()},sa=e=>{if(!Ft||!fo())return;let t=e.target.closest("[data-block-item]");if(!t||t.dataset.blockId===Ft)return;e.preventDefault(),e.dataTransfer.dropEffect="move";let o=t.getBoundingClientRect(),r=o.top+o.height/2,l=e.clientY<r;S==null||S.querySelectorAll("[data-block-item]").forEach(d=>{d!==t&&d.dataset.blockId!==Ft&&d.classList.remove("border-t-4","border-b-4","border-t-[#9C6BFF]","border-b-[#9C6BFF]","pt-6","pb-6")}),t.classList.remove("border-t-4","border-b-4","border-t-[#9C6BFF]","border-b-[#9C6BFF]","pt-6","pb-6"),l?t.classList.add("border-t-4","border-t-[#9C6BFF]","pt-6"):t.classList.add("border-b-4","border-b-[#9C6BFF]","pb-6"),t.dataset.dropPosition=l?"before":"after"},oa=e=>{let t=e.target.closest("[data-block-item]");if(!t)return;let o=e.relatedTarget;o&&t.contains(o)||(t.classList.remove("border-t-4","border-b-4","border-t-[#9C6BFF]","border-b-[#9C6BFF]","pt-6","pb-6"),delete t.dataset.dropPosition)},na=e=>{if(!Ft||!fo())return;e.preventDefault();let t=e.target.closest("[data-block-item]"),o=Ft,r=(t==null?void 0:t.dataset.dropPosition)||"after";Ft=null,Nn();let l=(t==null?void 0:t.dataset.blockId)||null;!l||o===l||Ur(o,l,r)},Ft=null;S==null||S.addEventListener("dragstart",ea),S==null||S.addEventListener("dragend",ta),S==null||S.addEventListener("dragover",sa),S==null||S.addEventListener("dragleave",oa),S==null||S.addEventListener("drop",na),Mo(),document.addEventListener("ai-page-updated",async e=>{var t;console.log("[design] Rafra\xEEchissement d\xE9clench\xE9 par IA",e.detail);try{let o=await Fs();if(ae=(Array.isArray(o)?o:[]).map(r=>as(r)),(t=e.detail)!=null&&t.pageId){let r=ae.find(l=>l.id===e.detail.pageId);r&&(m=r,Fe=r.id,te(m),kt(m),P("Page mise \xE0 jour par l'IA"))}else if(Fe){let r=ae.find(l=>l.id===Fe);r&&(m=r,te(m),kt(m))}}catch(o){console.error("[design] Erreur rafra\xEEchissement IA:",o)}})}function ir(){var At,io,Ot;let s=document.querySelector("[data-collection-list]");if(!s)return;let n={empty:document.querySelector('[data-content-view="empty"]'),header:document.querySelector('[data-content-view="header"]'),collection:document.querySelector('[data-content-view="collection"]'),footer:document.querySelector('[data-content-view="footer"]')},i=document.querySelectorAll("[data-content-section]"),u=document.querySelectorAll("[data-content-section-trigger]"),g=document.querySelector("[data-header-status]"),x=document.querySelector("[data-footer-status]"),O=document.querySelector("[data-collection-count]"),U=document.querySelector("[data-item-panel]"),G=document.querySelectorAll("[data-item-panel-close]"),se=document.querySelector("[data-collection-empty]"),Z=document.querySelector("[data-collection-items-empty]"),w=document.querySelector("[data-item-table-wrapper]"),A=document.querySelector("[data-item-table-body]"),I=document.querySelector("[data-collection-title]"),j=document.querySelector("[data-collection-description]"),B=document.querySelector("[data-item-add]"),D=document.querySelector("[data-item-detail-empty]"),k=document.querySelector("[data-item-form]"),L=k?{title:k.querySelector('[name="item-title"]'),slug:k.querySelector('[name="item-slug"]'),excerpt:k.querySelector('[name="item-excerpt"]'),content:k.querySelector('[name="item-content"]'),image:k.querySelector('[name="item-image"]'),ctaText:k.querySelector('[name="item-cta-text"]'),ctaUrl:k.querySelector('[name="item-cta-url"]'),status:k.querySelector('[name="item-status"]')}:{},b=document.querySelector("[data-item-status-badge]"),q=document.querySelector("[data-item-delete]"),C=document.querySelector("[data-item-delete-modal]"),N=document.querySelector("[data-item-delete-cancel]"),W=document.querySelector("[data-item-delete-confirm]"),Q=document.querySelector("[data-item-cancel]"),K=document.querySelector("[data-item-save]"),xe="rounded-full px-3 py-1 text-xs font-semibold",Ce=()=>window.matchMedia("(min-width: 1024px)").matches,Ve=a=>{if(!U||Ce())return;let c=U.dataset.itemPanelHidden||"",y=U.dataset.itemPanelVisible||"";a?(Mt(U,y,"remove"),Mt(U,c,"add"),U.classList.add("pointer-events-none"),U.dataset.itemPanelOpen="false"):(Mt(U,c,"remove"),Mt(U,y,"add"),U.classList.remove("pointer-events-none"),U.dataset.itemPanelOpen="true")},we=()=>{if(U){if(Ce()){let a=U.dataset.itemPanelHidden||"";Mt(U,a,"remove"),U.classList.remove("pointer-events-none"),U.dataset.itemPanelOpen="true";return}k!=null&&k.classList.contains("hidden")?Ve(!0):Ve(!1)}};window.addEventListener("resize",we),G.forEach(a=>{a.addEventListener("click",c=>{c.preventDefault(),!Ce()&&qt()})}),we();let _={logo:document.querySelector('[name="header-logo"]'),logoAlt:document.querySelector('[name="header-logo-alt"]'),logoUrl:document.querySelector('[name="header-logo-url"]'),ctaText:document.querySelector('[name="header-cta-text"]'),ctaUrl:document.querySelector('[name="header-cta-url"]'),ctaStyle:document.querySelector('[name="header-cta-style"]'),position:document.querySelector('[name="header-position"]'),bg:document.querySelector('[name="header-bg"]')},je=document.querySelector("[data-header-nav-list]"),Ue=document.querySelector("[data-header-nav-add]"),T=document.querySelector("[data-header-save]"),E=document.querySelector("[data-template-header-nav-item]"),R=document.querySelector("[data-header-pages-list]"),ve=[],pe=[],f={linkedin:document.querySelector('[name="footer-social-linkedin"]'),twitter:document.querySelector('[name="footer-social-twitter"]'),instagram:document.querySelector('[name="footer-social-instagram"]'),facebook:document.querySelector('[name="footer-social-facebook"]'),youtube:document.querySelector('[name="footer-social-youtube"]'),github:document.querySelector('[name="footer-social-github"]'),copyright:document.querySelector('[name="footer-copyright"]'),legalUrl:document.querySelector('[name="footer-legal-url"]'),privacyUrl:document.querySelector('[name="footer-privacy-url"]'),bg:document.querySelector('[name="footer-bg"]'),columnsCount:document.querySelector('[name="footer-columns-count"]')},S=document.querySelector("[data-footer-columns-list]"),z=document.querySelector("[data-footer-column-add]"),V=document.querySelector("[data-footer-save]"),le=document.querySelector("[data-template-footer-column]"),ue=document.querySelector("[data-template-footer-link]"),me=null,ne={nav:[],logo:{},cta:{},style:{}},Ee={columns:[],socials:{},copyright:"",legal:{},style:{}},Ie=Te((J==null?void 0:J.slugValue)||X.slug||""),ye=Ie,ge=Ie?`/api/sites/${encodeURIComponent(Ie)}/layout`:null,$e=a=>{Object.entries(n).forEach(([c,y])=>{y&&y.classList.toggle("hidden",c!==a)}),i.forEach(c=>{c.dataset.contentSection===a?c.dataset.active="true":delete c.dataset.active}),me=a};i.forEach(a=>{a.addEventListener("click",()=>{let c=a.dataset.contentSection;(c==="header"||c==="footer")&&$e(c)})}),u.forEach(a=>{a.addEventListener("click",()=>{let c=a.dataset.contentSectionTrigger;c&&$e(c)})});let Nt=async()=>{if(!(!ye||!R))try{let a=await fetch(`/api/sites/${ye}/pages`,{credentials:"include"});if(!a.ok)throw new Error("Erreur chargement pages");ve=await a.json(),h()}catch(a){console.error("[header] load pages error",a),R.innerHTML='<p class="text-xs text-red-500">Erreur chargement pages</p>'}},v=a=>{let c=(a||"").toString().trim();if(!c||c==="/"||c==="index")return"/";let y=c.toLowerCase();if(c.startsWith("#")||y.startsWith("mailto:")||y.startsWith("tel:")||/^[a-z]+:\/\//i.test(c))return c;if(c.startsWith("//")){let Y=c.slice(2);if(Y.includes("."))return c;let te=Y.replace(/^\/+/,"").replace(/\/+$/,"");return te?`/${te}`:"/"}let F=c.replace(/^\/+/,"").replace(/\/+$/,"");return F?`/${F}`:"/"},$=(a,c="")=>{let y=(a||"").toString().trim();return y?v(y):c},h=()=>{if(R){if(R.innerHTML="",ve.length===0){R.innerHTML='<p class="text-xs text-slate-400 italic">Aucune page disponible</p>';return}ve.forEach(a=>{let c=a.slug||a.id||"",y=a.name||a.title||c,F=v(c),Y=pe.some(ee=>ee.url===F),te=document.createElement("label");te.className="flex items-center gap-2 px-3 py-2 rounded-lg border border-slate-200 hover:bg-slate-50 cursor-pointer transition-colors",te.innerHTML=`
          <input type="checkbox" name="nav-page" value="${F}" data-page-title="${y}"
                 class="w-4 h-4 rounded border-slate-300 text-violet-600 focus:ring-violet-500"
                 ${Y?"checked":""}>
          <span class="flex-1 text-sm text-slate-700">${y}</span>
          <span class="text-xs text-slate-400">${F}</span>
        `;let be=te.querySelector("input");be.addEventListener("change",()=>{be.checked?pe.some(ee=>ee.url===F)||pe.push({label:y,url:F}):pe=pe.filter(ee=>ee.url!==F)}),R.appendChild(te)})}},re=()=>{var c,y,F,Y,te,be,ee,he,Xe,et,Be;let a=[];return R==null||R.querySelectorAll('input[name="nav-page"]:checked').forEach(ke=>{let Se=v(ke.value),ht=ke.dataset.pageTitle||Se;a.push({label:ht,url:Se})}),{logo:{src:((y=(c=_.logo)==null?void 0:c.value)==null?void 0:y.trim())||"",alt:((Y=(F=_.logoAlt)==null?void 0:F.value)==null?void 0:Y.trim())||"",url:$((te=_.logoUrl)==null?void 0:te.value,"/")},nav:a,cta:{text:((ee=(be=_.ctaText)==null?void 0:be.value)==null?void 0:ee.trim())||"",url:$((he=_.ctaUrl)==null?void 0:he.value,""),style:((Xe=_.ctaStyle)==null?void 0:Xe.value)||"primary"},style:{position:((et=_.position)==null?void 0:et.value)||"static",bg:((Be=_.bg)==null?void 0:Be.value)||"bg-white"}}},ft=async a=>{var y,F,Y,te,be,ee,he,Xe,et,Be,ke;if(!a)return;_.logo&&(_.logo.value=((y=a.logo)==null?void 0:y.src)||""),_.logoAlt&&(_.logoAlt.value=((F=a.logo)==null?void 0:F.alt)||""),_.logoUrl&&(_.logoUrl.value=$((Y=a.logo)==null?void 0:Y.url,"/")),_.ctaText&&(_.ctaText.value=((te=a.cta)==null?void 0:te.text)||""),_.ctaUrl&&(_.ctaUrl.value=$((be=a.cta)==null?void 0:be.url,"")),_.ctaStyle&&(_.ctaStyle.value=((ee=a.cta)==null?void 0:ee.style)||"primary"),_.position&&(_.position.value=((he=a.style)==null?void 0:he.position)||"static"),_.bg&&(_.bg.value=((Xe=a.style)==null?void 0:Xe.bg)||"bg-white"),pe=(a.nav||[]).map(Se=>({...Se,url:v(Se.url)})),await Nt();let c=((et=a.logo)==null?void 0:et.src)||((Be=a.nav)==null?void 0:Be.length)>0||((ke=a.cta)==null?void 0:ke.text);g&&(g.classList.toggle("bg-green-500",!!c),g.classList.toggle("bg-slate-300",!c),g.title=c?"Configur\xE9":"Non configur\xE9")};T==null||T.addEventListener("click",async()=>{if(ge){T.disabled=!0,T.textContent="Enregistrement...";try{let a=re();if(!(await fetch(`${ge}/header`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(a)})).ok)throw new Error("Erreur serveur");ne=a,ft(a),P("Header enregistr\xE9")}catch(a){console.error("[header] save error",a),P("Erreur lors de l'enregistrement","error")}finally{T.disabled=!1,T.textContent="Enregistrer"}}});let zt=(a,c="",y="")=>{if(!ue||!a)return;let F=ue.content.cloneNode(!0),Y=F.querySelector("[data-footer-link]"),te=F.querySelector('[name="link-label"]'),be=F.querySelector('[name="link-url"]'),ee=F.querySelector("[data-link-remove]");te&&(te.value=c),be&&(be.value=y),ee==null||ee.addEventListener("click",()=>Y==null?void 0:Y.remove()),a.appendChild(F)},Ts=(a="",c=[])=>{if(!le||!S)return;let y=le.content.cloneNode(!0),F=y.querySelector("[data-footer-column]"),Y=y.querySelector('[name="column-title"]'),te=y.querySelector("[data-column-links]"),be=y.querySelector("[data-column-link-add]"),ee=y.querySelector("[data-column-remove]");Y&&(Y.value=a),c.forEach(he=>zt(te,he.label,he.url)),be==null||be.addEventListener("click",()=>zt(te)),ee==null||ee.addEventListener("click",()=>F==null?void 0:F.remove()),S.appendChild(y)},Po=()=>{var c,y,F,Y,te,be,ee,he,Xe,et,Be,ke,Se,ht,tt,Dt,Oe,Ht,ps,at;let a=[];return S==null||S.querySelectorAll("[data-footer-column]").forEach(lo=>{var gs,Ms;let it=((Ms=(gs=lo.querySelector('[name="column-title"]'))==null?void 0:gs.value)==null?void 0:Ms.trim())||"",ns=[];lo.querySelectorAll("[data-footer-link]").forEach(Je=>{var hs,Ns,vs,Ds;let We=((Ns=(hs=Je.querySelector('[name="link-label"]'))==null?void 0:hs.value)==null?void 0:Ns.trim())||"",st=((Ds=(vs=Je.querySelector('[name="link-url"]'))==null?void 0:vs.value)==null?void 0:Ds.trim())||"";(We||st)&&ns.push({label:We,url:st})}),(it||ns.length>0)&&a.push({title:it,links:ns})}),{columns:a,socials:{linkedin:((y=(c=f.linkedin)==null?void 0:c.value)==null?void 0:y.trim())||"",twitter:((Y=(F=f.twitter)==null?void 0:F.value)==null?void 0:Y.trim())||"",instagram:((be=(te=f.instagram)==null?void 0:te.value)==null?void 0:be.trim())||"",facebook:((he=(ee=f.facebook)==null?void 0:ee.value)==null?void 0:he.trim())||"",youtube:((et=(Xe=f.youtube)==null?void 0:Xe.value)==null?void 0:et.trim())||"",github:((ke=(Be=f.github)==null?void 0:Be.value)==null?void 0:ke.trim())||""},copyright:((ht=(Se=f.copyright)==null?void 0:Se.value)==null?void 0:ht.trim())||"",legal:{url:((Dt=(tt=f.legalUrl)==null?void 0:tt.value)==null?void 0:Dt.trim())||"",privacyUrl:((Ht=(Oe=f.privacyUrl)==null?void 0:Oe.value)==null?void 0:Ht.trim())||""},style:{bg:((ps=f.bg)==null?void 0:ps.value)||"bg-slate-900 text-white",columnsCount:((at=f.columnsCount)==null?void 0:at.value)||"4"}}},oo=a=>{var y,F,Y,te,be,ee,he,Xe,et,Be,ke;if(!a)return;f.linkedin&&(f.linkedin.value=((y=a.socials)==null?void 0:y.linkedin)||""),f.twitter&&(f.twitter.value=((F=a.socials)==null?void 0:F.twitter)||""),f.instagram&&(f.instagram.value=((Y=a.socials)==null?void 0:Y.instagram)||""),f.facebook&&(f.facebook.value=((te=a.socials)==null?void 0:te.facebook)||""),f.youtube&&(f.youtube.value=((be=a.socials)==null?void 0:be.youtube)||""),f.github&&(f.github.value=((ee=a.socials)==null?void 0:ee.github)||""),f.copyright&&(f.copyright.value=a.copyright||""),f.legalUrl&&(f.legalUrl.value=((he=a.legal)==null?void 0:he.url)||""),f.privacyUrl&&(f.privacyUrl.value=((Xe=a.legal)==null?void 0:Xe.privacyUrl)||""),f.bg&&(f.bg.value=((et=a.style)==null?void 0:et.bg)||"bg-slate-900 text-white"),f.columnsCount&&(f.columnsCount.value=((Be=a.style)==null?void 0:Be.columnsCount)||"4"),S&&(S.innerHTML=""),(a.columns||[]).forEach(Se=>Ts(Se.title,Se.links));let c=((ke=a.columns)==null?void 0:ke.length)>0||a.copyright||Object.values(a.socials||{}).some(Se=>Se);x&&(x.classList.toggle("bg-green-500",!!c),x.classList.toggle("bg-slate-300",!c),x.title=c?"Configur\xE9":"Non configur\xE9")};z==null||z.addEventListener("click",()=>Ts()),V==null||V.addEventListener("click",async()=>{if(ge){V.disabled=!0,V.textContent="Enregistrement...";try{let a=Po();if(!(await fetch(`${ge}/footer`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(a)})).ok)throw new Error("Erreur serveur");Ee=a,oo(a),P("Footer enregistr\xE9")}catch(a){console.error("[footer] save error",a),P("Erreur lors de l'enregistrement","error")}finally{V.disabled=!1,V.textContent="Enregistrer"}}}),(async()=>{if(ge)try{let a=await fetch(ge,{credentials:"include"});if(a.ok){let c=await a.json();c.header&&(ne=c.header,ft(c.header)),c.footer&&(Ee=c.footer,oo(c.footer))}}catch(a){console.error("[layout] load error",a)}})();let $s=Te((J==null?void 0:J.slugValue)||X.slug||""),pt=$s?`/api/sites/${encodeURIComponent($s)}/collections`:null,Et=[],Re=[],ze=null,Ne=null,dt=!1,Yt=!1,Vt=null,Qt=a=>{let c=(a||"").trim();if(!c)return"";if(c==="/")return"/";let F=c.replace(/^\//,"").split("/").map(Y=>_t(Y||"")).filter(Y=>Y.length>0);return F.length?`/${F.join("/")}`:""},Is=a=>{if(!a)return"\u2014";let c=new Date(a);return Number.isNaN(c.getTime())?"\u2014":c.toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric"})},Xt=()=>{let a=Et.find(c=>c.id===ze);I&&(I.textContent=(a==null?void 0:a.name)||"S\xE9lectionnez une collection"),j&&(j.textContent=(a==null?void 0:a.description)||"")},De=a=>{Z&&(Z.textContent=a||(ze?"Aucun item dans cette collection pour le moment.":"Choisissez une collection dans le panneau de gauche."))},qt=()=>{k&&(k.classList.add("hidden"),k.dataset.itemId=""),D==null||D.classList.remove("hidden"),b&&(b.className=`hidden ${xe}`,b.textContent=""),q&&(q.disabled=!0),we()},us=()=>{k&&(k.classList.remove("hidden"),D==null||D.classList.add("hidden"),we())},es=()=>{B&&(B.disabled=!ze,B.disabled?B.classList.add("opacity-60","pointer-events-none"):B.classList.remove("opacity-60","pointer-events-none"))},ms=a=>{if(!b)return;if(!a){b.className=`hidden ${xe}`,b.textContent="";return}let c=a.toLowerCase(),y="bg-slate-100 text-slate-600 border border-slate-200";c==="publi\xE9"||c==="publie"?y="bg-emerald-50 text-emerald-700 border border-emerald-100":c==="brouillon"&&(y="bg-amber-50 text-amber-700 border border-amber-100"),b.className=`${xe} ${y}`,b.textContent=a},Bs=()=>{if(s.innerHTML="",O&&(O.textContent=Et.length),!Et.length){se==null||se.classList.remove("hidden");return}se==null||se.classList.add("hidden"),Et.forEach(a=>{let c=a.id===ze,y=document.createElement("button");y.type="button",y.dataset.collectionId=a.id,y.className=["w-full rounded-xl border px-3 py-2 text-left transition focus:outline-none focus:ring-2 focus:ring-[#9C6BFF]/40",c?"bg-[#F7F0FF] border-[#9C6BFF]/40 text-slate-900":"border-slate-200 text-slate-700 hover:border-[#9C6BFF]/40"].join(" "),y.setAttribute("role","option"),c?y.setAttribute("aria-current","true"):y.removeAttribute("aria-current"),y.innerHTML=`
          <div class="flex items-center justify-between gap-2">
            <div>
              <p class="text-sm font-semibold">${a.name||a.id}</p>
              <p class="text-xs text-slate-500">${a.description||""}</p>
            </div>
            <span class="text-[11px] uppercase tracking-wide text-slate-400">${a.type||""}</span>
          </div>
        `,y.addEventListener("click",()=>{ao(a.id)}),s.appendChild(y)})},gt=()=>{if(A){if(A.innerHTML="",!Re.length||!ze){Z==null||Z.classList.remove("hidden"),De(),w==null||w.classList.add("hidden");return}Z==null||Z.classList.add("hidden"),w==null||w.classList.remove("hidden"),Re.forEach(a=>{let c=document.createElement("tr");c.dataset.itemId=a.id;let y=a.id===Ne&&!dt;c.className=["cursor-pointer transition focus-within:bg-[#F7F0FF]/70 focus:outline-none",y?"bg-[#F7F0FF]/70":"hover:bg-slate-50"].join(" "),c.tabIndex=0,c.setAttribute("role","button"),y?c.setAttribute("aria-current","true"):c.removeAttribute("aria-current");let F=a.status||"Brouillon",Y=F.toLowerCase(),te=Y==="publi\xE9"||Y==="publie"?"bg-emerald-50 text-emerald-700 border border-emerald-100":"bg-amber-50 text-amber-700 border border-amber-100";c.innerHTML=`
          <td class="px-4 py-3 align-top">
            <div class="flex flex-col">
              <span class="text-sm font-semibold text-slate-900">${a.title||"Sans titre"}</span>
              <span class="text-xs text-slate-500">${a.summary||a.excerpt||""}</span>
            </div>
          </td>
          <td class="px-4 py-3 align-top text-sm text-slate-600">${a.slug||""}</td>
          <td class="px-4 py-3 align-top">
            <span class="inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold ${te}">
              ${F}
            </span>
          </td>
          <td class="px-4 py-3 align-top text-sm text-slate-500">${Is(a.updatedAt||a.createdAt)}</td>
        `;let be=()=>{no(a.id)};c.addEventListener("click",be),c.addEventListener("keydown",ee=>{(ee.key==="Enter"||ee.key===" ")&&(ee.preventDefault(),be())}),A.appendChild(c)})}},no=a=>{let c=Re.find(y=>y.id===a);c&&(Ne=c.id,dt=!1,Yt=!0,js(c),gt())},js=a=>{var c,y;if(!k||!a){qt();return}us(),k.dataset.itemId=a.id,L.title&&(L.title.value=a.title||""),L.slug&&(L.slug.value=a.slug||""),L.excerpt&&(L.excerpt.value=a.summary||a.excerpt||""),L.content&&(L.content.value=a.content||""),L.image&&(L.image.value=a.image||""),L.ctaText&&(L.ctaText.value=((c=a.cta)==null?void 0:c.text)||a.ctaText||""),L.ctaUrl&&(L.ctaUrl.value=((y=a.cta)==null?void 0:y.url)||a.ctaUrl||""),L.status&&(L.status.value=a.status||"Brouillon"),ms(a.status||"Brouillon"),q&&(q.disabled=!1)},Fo=()=>{var a;k&&(dt=!0,Ne=null,Yt=!1,k.dataset.itemId="",k.reset(),L.status&&(L.status.value="Brouillon"),L.slug&&(L.slug.value=""),ms("Brouillon"),us(),q&&(q.disabled=!0),(a=L.title)==null||a.focus())},ro=()=>{var Xe,et,Be,ke,Se,ht,tt,Dt;let a=(((Xe=L.title)==null?void 0:Xe.value)||"").trim(),c=(((et=L.slug)==null?void 0:et.value)||"").trim(),y=(((Be=L.excerpt)==null?void 0:Be.value)||"").trim(),F=(((ke=L.content)==null?void 0:ke.value)||"").trim(),Y=(((Se=L.image)==null?void 0:Se.value)||"").trim(),te=(((ht=L.ctaText)==null?void 0:ht.value)||"").trim(),be=(((tt=L.ctaUrl)==null?void 0:tt.value)||"").trim(),ee=((Dt=L.status)==null?void 0:Dt.value)||"Brouillon",he=te||be?{text:te,url:be}:null;return{title:a,slug:Qt(c||a),summary:y,excerpt:y,content:F,image:Y,status:ee,...he&&{cta:he}}},Ps=a=>{K&&(K.disabled=a,K.textContent=a?"Enregistrement\u2026":"Enregistrer"),q&&!dt&&Ne&&(q.disabled=a)},Fs=async a=>{if(!pt)return[];let c=await fetch(`${pt}/${encodeURIComponent(a)}/items`,{headers:{Accept:"application/json"}});if(!c.ok){let F=await c.json().catch(()=>({}));throw new Error(F.message||"Impossible de charger les items.")}let y=await c.json().catch(()=>({}));return Array.isArray(y.items)?y.items:[]},ao=async a=>{if(a&&(ze=a,Ne=null,dt=!1,Yt=!1,$e("collection"),Xt(),es(),Bs(),qt(),Re=[],gt(),De("Chargement des items\u2026"),Z==null||Z.classList.remove("hidden"),w==null||w.classList.add("hidden"),!!pt))try{Re=await Fs(a),gt(),Re.length||De()}catch(c){console.error("[content] items failed",c),P(c.message||"Impossible de charger les items."),Re=[],gt()}},ts=async(a,c)=>{if(!pt)throw new Error("Site inconnu.");let y=await fetch(`${pt}/${encodeURIComponent(a)}/items`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});if(!y.ok){let F=await y.json().catch(()=>({}));throw new Error(F.message||"Impossible de cr\xE9er cet item.")}return y.json()},Mo=async(a,c,y)=>{if(!pt)throw new Error("Site inconnu.");let F=await fetch(`${pt}/${encodeURIComponent(a)}/items/${encodeURIComponent(c)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)});if(!F.ok){let Y=await F.json().catch(()=>({}));throw new Error(Y.message||"Impossible de sauvegarder cet item.")}return F.json()},No=async(a,c)=>{if(!pt)throw new Error("Site inconnu.");let y=await fetch(`${pt}/${encodeURIComponent(a)}/items/${encodeURIComponent(c)}`,{method:"DELETE"});if(!y.ok){let F=await y.json().catch(()=>({}));throw new Error(F.message||"Impossible de supprimer cet item.")}},ss=async()=>{var a;if(!pt){se==null||se.classList.remove("hidden"),ze=null,Re=[],gt(),Xt(),es();return}try{let c=await fetch(pt,{headers:{Accept:"application/json"}});if(!c.ok)throw new Error("Impossible de charger les collections.");let y=await c.json().catch(()=>[]);if(Et=Array.isArray(y)?y:[],Bs(),Et.length>0){let F=((a=Et.find(Y=>Y.id===ze))==null?void 0:a.id)||Et[0].id;ao(F)}else ze=null,Re=[],Xt(),es(),gt()}catch(c){console.error("[content] load collections",c),P(c.message||"Impossible de charger les collections.")}};B==null||B.addEventListener("click",()=>{if(!ze){P("S\xE9lectionnez d\u2019abord une collection.");return}Fo(),gt()}),Q==null||Q.addEventListener("click",a=>{if(a.preventDefault(),dt){dt=!1,Ne=null,qt(),gt();return}if(Ne){let c=Re.find(y=>y.id===Ne);js(c)}else qt()}),(At=L.status)==null||At.addEventListener("change",()=>{ms(L.status.value)}),(io=L.title)==null||io.addEventListener("input",()=>{!dt||!L.slug||Yt||(L.slug.value=Qt(L.title.value))}),(Ot=L.slug)==null||Ot.addEventListener("input",()=>{dt&&(Yt=!0)}),k==null||k.addEventListener("submit",async a=>{var y;if(a.preventDefault(),!ze){P("S\xE9lectionnez une collection.");return}let c=ro();if(!c.title){P("Le titre est requis."),(y=L.title)==null||y.focus();return}Ps(!0);try{let F;dt||!Ne?(F=await ts(ze,c),Re=[...Re,F],P("Item cr\xE9\xE9")):(F=await Mo(ze,Ne,c),Re=Re.map(Y=>Y.id===F.id?F:Y),P("Item mis \xE0 jour")),dt=!1,Ne=F.id,js(F),gt()}catch(F){console.error("[content] save item failed",F),P(F.message||"Impossible de sauvegarder cet item.")}finally{Ps(!1)}});let os=()=>{C&&(C.classList.add("hidden"),C.classList.remove("flex"),Vt=null)},fs=()=>{!C||!Ne||(Vt=Ne,C.classList.remove("hidden"),C.classList.add("flex"))};q==null||q.addEventListener("click",a=>{a.preventDefault(),Ne&&fs()}),N==null||N.addEventListener("click",()=>{os()}),C==null||C.addEventListener("click",a=>{a.target===C&&os()}),W==null||W.addEventListener("click",async()=>{if(!Vt||!ze){os();return}W.disabled=!0,W.textContent="Suppression\u2026";try{await No(ze,Vt),Re=Re.filter(a=>a.id!==Vt),Ne===Vt&&(Ne=null,qt()),P("Item supprim\xE9"),gt()}catch(a){console.error("[content] delete item failed",a),P(a.message||"Impossible de supprimer cet item.")}finally{W.disabled=!1,W.textContent="Supprimer",os()}}),Xt(),es(),ss()}function lr(){let s=document.querySelector("[data-deploy-form]");if(!s)return;let n=document.querySelector("[data-deploy-protocol]"),i=document.querySelector("[data-deploy-host]"),u=document.querySelector("[data-deploy-port]"),g=document.querySelector("[data-deploy-user]"),x=document.querySelector("[data-deploy-password]"),O=document.querySelector("[data-deploy-show-password]"),U=document.querySelector("[data-deploy-remote-path]"),G=document.querySelector("[data-deploy-feedback]"),se=document.querySelector("[data-deploy-save]"),Z=document.querySelector("[data-deploy-test]"),w=document.querySelector("[data-deploy-trigger]"),A=document.querySelector("[data-deploy-history]"),I=document.querySelector("[data-deploy-log]"),j=Te((J==null?void 0:J.slugValue)||X.slug||""),B=j?`/api/sites/${encodeURIComponent(j)}/deploy-config`:null,D=j?`/api/sites/${encodeURIComponent(j)}/deploy`:null,k=j?`/api/sites/${encodeURIComponent(j)}/deploy-log`:null,L=!1,b=null,q=T=>{let E=(T||"").trim();return E?E.startsWith("/")?E:`/${E}`:"/www"},C=(T,E="muted")=>{if(!G)return;let R="inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold",ve=E==="success"?"bg-emerald-50 text-emerald-700 border border-emerald-100":E==="error"?"bg-rose-50 text-rose-700 border border-rose-100":"bg-slate-50 text-slate-600 border border-slate-100";if(!T){G.textContent="",G.className="text-sm text-slate-500";return}let pe=E==="success"?"\u2705":E==="error"?"\u274C":"\u2139\uFE0F";G.innerHTML=`<span class="${R} ${ve}">${pe}<span>${T}</span></span>`,G.className="text-sm"},N=(T=null)=>{b=T;let E=!!T,R='<svg class="h-4 w-4 animate-spin text-white" viewBox="0 0 24 24" fill="none" aria-hidden="true"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"></path></svg>';se&&(se.disabled=E,se.innerHTML=T==="save"?`<span class="inline-flex items-center gap-2">${R}<span>Enregistrement\u2026</span></span>`:"Enregistrer"),Z&&(Z.disabled=E,Z.innerHTML=T==="test"?'<span class="inline-flex items-center gap-2"><span class="h-4 w-4 animate-spin rounded-full border-2 border-slate-200 border-t-slate-600"></span><span>Test en cours\u2026</span></span>':"Tester la connexion"),w&&(w.disabled=E&&T!==null,w.innerHTML=T==="deploy"?'<span class="inline-flex items-center gap-2"><span class="h-4 w-4 animate-spin rounded-full border-2 border-white/60 border-t-white"></span><span>D\xE9ploiement\u2026</span></span>':"D\xE9ployer maintenant")},W=T=>{n&&(n.value=T.protocol||"sftp"),i&&(i.value=T.host||""),u&&(u.value=T.port||""),g&&(g.value=T.user||""),U&&(U.value=T.remotePath||"/www"),L=!!T.hasPassword,x&&(x.value="",x.placeholder=L?"Non affich\xE9":"Mot de passe")},Q=(T=[])=>{if(A){if(A.innerHTML="",!T.length){let E=document.createElement("li");E.className="text-slate-500",E.textContent="Aucun d\xE9ploiement pour le moment.",A.appendChild(E);return}T.forEach(E=>{let R=document.createElement("li");R.className="flex items-center justify-between gap-2 rounded-xl border border-slate-200 px-3 py-2";let ve=E.status==="success"?'<span class="rounded-full bg-emerald-50 px-2 py-0.5 text-[11px] font-semibold text-emerald-700">Succ\xE8s</span>':'<span class="rounded-full bg-rose-50 px-2 py-0.5 text-[11px] font-semibold text-rose-700">\xC9chec</span>',pe=E.finishedAt||E.startedAt||"",f=E.durationMs&&Number(E.durationMs)>=0?`${Math.round(Number(E.durationMs)/1e3)}s`:"";R.innerHTML=`
          <div class="space-y-1">
            <div class="flex items-center gap-2">${ve}<span class="text-xs text-slate-500">${pe}</span></div>
            <p class="text-sm text-slate-800">${E.message||""}</p>
          </div>
          <div class="text-xs text-slate-500">${f}</div>
        `,R.dataset.deployId=E.id||"",R.addEventListener("click",()=>{E.logs&&I&&(I.textContent=E.logs.join(`
`))}),A.appendChild(R)})}},K=(T=[])=>{I&&(I.textContent=T.length?T.join(`
`):"Aucun log pour le moment.")},xe=async()=>{var T;if(k)try{let E=await fetch(k,{headers:{Accept:"application/json"}});if(!E.ok){if(E.status===404){Q([]),K(["API d\xE9ploiement indisponible (red\xE9marre le serveur)."]);return}throw new Error("Impossible de charger l\u2019historique.")}let R=await E.json().catch(()=>({})),ve=Array.isArray(R.entries)?R.entries:[];Q(ve),(T=ve[0])!=null&&T.logs&&K(ve[0].logs)}catch(E){console.error("[deploy] history failed",E)}},Ce=async()=>{if(!B){C("Aucun site actif s\xE9lectionn\xE9.","error");return}N("load");try{let T=await fetch(B,{headers:{Accept:"application/json"}}),E=await T.json().catch(()=>({}));T.ok?(W(E||{}),C("Configuration charg\xE9e.","muted")):(W(E||{}),C(E.message||"Configuration par d\xE9faut charg\xE9e.","muted"))}catch(T){console.error("[deploy] load failed",T),C(T.message||"Erreur lors du chargement.","error")}finally{N(null)}},Ve=()=>{let T={protocol:(n==null?void 0:n.value)||"sftp",host:(i==null?void 0:i.value.trim())||"",port:Number(u==null?void 0:u.value)||void 0,user:(g==null?void 0:g.value.trim())||"",remotePath:q((U==null?void 0:U.value)||"/www")},E=(x==null?void 0:x.value)||"";return E.trim().length>0&&(T.password=E),T};s.addEventListener("submit",async T=>{if(T.preventDefault(),!B){C("Aucun site actif s\xE9lectionn\xE9.","error");return}let E=Ve();N("save");try{let R=await fetch(B,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(E)});if(!R.ok){let pe=await R.json().catch(()=>({}));throw new Error(pe.message||"Sauvegarde impossible.")}let ve=await R.json();W(ve||{}),C("Configuration enregistr\xE9e.","success"),P("Configuration d\xE9ploiement sauvegard\xE9e")}catch(R){console.error("[deploy] save failed",R),C(R.message||"Erreur lors de la sauvegarde.","error")}finally{N(null)}}),Z==null||Z.addEventListener("click",async()=>{if(!B){C("Aucun site actif s\xE9lectionn\xE9.","error");return}let T=Ve();if(!T.host||!T.user||!T.remotePath){C("Remplissez les champs requis avant de tester.","error");return}N("test");try{let E=await fetch(`${B}/test`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(T)}),R=await E.json().catch(()=>({}));if(!E.ok||R.success===!1){C(R.message||"Test de connexion \xE9chou\xE9.","error");return}C(R.message||"Connexion OK.","success"),P("Test de connexion r\xE9ussi")}catch(E){console.error("[deploy] test failed",E),C(E.message||"Test de connexion \xE9chou\xE9.","error")}finally{N(null)}}),w==null||w.addEventListener("click",async()=>{if(!D){C("Aucun site actif s\xE9lectionn\xE9.","error");return}N("deploy"),K(["D\xE9ploiement en cours\u2026"]);try{let T=await fetch(D,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ve())}),E=await T.json().catch(()=>({}));if(!T.ok){if(T.status===404){C("API d\xE9ploiement indisponible (red\xE9marre le serveur).","error"),K(["API d\xE9ploiement indisponible (red\xE9marre le serveur)."]);return}throw K(E.logs||[]),new Error(E.message||"D\xE9ploiement \xE9chou\xE9.")}K(E.logs||[]),await xe(),P("D\xE9ploiement termin\xE9")}catch(T){console.error("[deploy] run failed",T),C(T.message||"D\xE9ploiement \xE9chou\xE9.","error")}finally{N(null)}}),O==null||O.addEventListener("change",()=>{x&&(x.type=O.checked?"text":"password")});let we=document.querySelector("[data-download-build]"),_=document.querySelector("[data-download-feedback]"),je=j?`/api/sites/${encodeURIComponent(j)}/download`:null,Ue=(T,E="muted")=>{if(!_)return;let R=E==="success"?"text-emerald-600":E==="error"?"text-rose-600":"text-slate-500";_.textContent=T||"",_.className=`text-sm ${R}`};we==null||we.addEventListener("click",async()=>{if(!je){Ue("Aucun site actif s\xE9lectionn\xE9.","error");return}we.disabled=!0;let T=we.innerHTML;we.innerHTML=`
        <svg class="w-4 h-4 animate-spin" fill="none" viewBox="0 0 24 24">
          <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
          <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"></path>
        </svg>
        <span>Build en cours...</span>
      `,Ue("G\xE9n\xE9ration du build en cours...","muted");try{let E=await fetch(je);if(!E.ok){let f=await E.json().catch(()=>({}));throw new Error(f.message||"Impossible de g\xE9n\xE9rer le ZIP.")}let R=await E.blob(),ve=window.URL.createObjectURL(R),pe=document.createElement("a");pe.href=ve,pe.download=`${j}-build.zip`,document.body.appendChild(pe),pe.click(),document.body.removeChild(pe),window.URL.revokeObjectURL(ve),Ue("T\xE9l\xE9chargement termin\xE9 !","success"),P("Build t\xE9l\xE9charg\xE9 avec succ\xE8s")}catch(E){console.error("[download] failed",E),Ue(E.message||"Erreur lors du t\xE9l\xE9chargement.","error")}finally{we.disabled=!1,we.innerHTML=T}}),Ce(),xe()}function cr(){let s=document.querySelectorAll("[data-settings-tab]"),n=document.querySelectorAll("[data-settings-panel]"),i=document.querySelector("[data-admin-password-form]"),u=document.querySelector("[data-site-config-form]"),g=document.querySelector("[data-site-config-feedback]"),x=document.querySelector("[data-theme-form]"),O=w=>{s.forEach(A=>{let I=A.dataset.settingsTab===w;A.setAttribute("aria-selected",I?"true":"false"),A.classList.toggle("bg-[#9C6BFF]",I),A.classList.toggle("text-white",I)}),n.forEach(A=>{A.classList.toggle("hidden",A.dataset.settingsPanel!==w)})};if(s.forEach(w=>{w.addEventListener("click",()=>O(w.dataset.settingsTab||"account"))}),O("account"),i){let w=i.querySelector("[data-admin-password-feedback]"),A=i.querySelector("[data-admin-password-submit]"),I=(j,B="muted")=>{if(!w)return;let D=B==="success"?"text-emerald-600":B==="error"?"text-rose-600":"text-slate-500";w.textContent=j||"",w.className=`text-sm ${D}`};i.addEventListener("submit",async j=>{j.preventDefault();let B=new FormData(i),D=B.get("currentPassword")||"",k=B.get("newPassword")||"",L=B.get("confirmPassword")||"";if(!D||!k||!L){I("Compl\xE8te tous les champs.","error");return}A&&(A.disabled=!0),I("");try{let b=await fetch("/api/admin/password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentPassword:D,newPassword:k,confirmPassword:L})}),q=await b.json().catch(()=>({}));if(!b.ok||q.success===!1)throw new Error(q.message||"Impossible de mettre \xE0 jour le mot de passe.");I(q.message||"Mot de passe mis \xE0 jour.","success"),i.reset()}catch(b){console.error("[settings] change password failed",b),I(b.message||"Erreur lors de la mise \xE0 jour.","error")}finally{A&&(A.disabled=!1)}})}if(u){let w=u.querySelector("[data-site-name]"),A=u.querySelector("[data-site-language]"),I=u.querySelector("[data-site-tagline]"),j=u.querySelector("[data-site-save]"),B=(b,q="muted")=>{if(!g)return;let C=q==="success"?"text-emerald-600":q==="error"?"text-rose-600":"text-slate-500";g.textContent=b||"",g.className=`text-sm ${C}`},D=Te((J==null?void 0:J.slugValue)||X.slug||""),k=D?`/api/sites/${encodeURIComponent(D)}/config/site`:null,L=async()=>{if(k)try{let b=await fetch(k,{headers:{Accept:"application/json"}});if(!b.ok)return;let q=await b.json().catch(()=>({}));w&&(w.value=q.name||""),A&&(A.value=q.language||"fr"),I&&(I.value=q.tagline||"")}catch(b){console.error("[settings] load site config failed",b)}};u.addEventListener("submit",async b=>{if(b.preventDefault(),!k){B("Aucun site actif.","error");return}if(!(w!=null&&w.value.trim())){B("Nom requis.","error");return}j&&(j.disabled=!0),B("");try{let q={name:(w==null?void 0:w.value)||"",language:(A==null?void 0:A.value)||"fr",tagline:(I==null?void 0:I.value)||""},C=await fetch(k,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(q)}),N=await C.json().catch(()=>({}));if(!C.ok||N.success===!1)throw new Error(N.message||"Sauvegarde impossible.");B(N.message||"Param\xE8tres enregistr\xE9s.","success")}catch(q){console.error("[settings] save site config failed",q),B(q.message||"Erreur lors de la sauvegarde.","error")}finally{j&&(j.disabled=!1)}}),L()}if(x){let w=Te((J==null?void 0:J.slugValue)||X.slug||""),A=w?`/api/sites/${encodeURIComponent(w)}/config/theme`:null,I={primary:x.querySelector("[data-theme-primary]"),secondary:x.querySelector("[data-theme-secondary]"),accent:x.querySelector("[data-theme-accent]"),background:x.querySelector("[data-theme-background]"),text:x.querySelector("[data-theme-text]")},j=x.querySelector("[data-theme-headings]"),B=x.querySelector("[data-theme-body]"),D=x.querySelector("[data-theme-radius-small]"),k=x.querySelector("[data-theme-radius-medium]"),L=x.querySelector("[data-theme-radius-large]"),b=x.querySelector("[data-theme-preview]"),q=x.querySelector("[data-theme-feedback]"),C=x.querySelector("[data-theme-apply]"),N={slate:"#e2e8f0",gray:"#d1d5db",zinc:"#d4d4d8",neutral:"#d4d4d4",stone:"#d6d3d1",red:"#ef4444",orange:"#f97316",amber:"#f59e0b",yellow:"#eab308",lime:"#84cc16",green:"#22c55e",emerald:"#10b981",teal:"#14b8a6",cyan:"#06b6d4",sky:"#0ea5e9",blue:"#3b82f6",indigo:"#6366f1",violet:"#8b5cf6",purple:"#a855f7",fuchsia:"#d946ef",pink:"#ec4899",rose:"#f43f5e"},W=f=>{if(!f)return null;if(f==="white")return"#ffffff";if(f==="black")return"#000000";if(f==="transparent")return"transparent";let[S,z]=f.split("-");if(!S||!z)return null;let V=N[S];if(!V)return null;let le=Number(z)||500,ue=Math.min(Math.max((le-50)/900,0),1),me=ge=>ge.replace("#","").match(/[A-Fa-f0-9]{2}/g).map($e=>parseInt($e,16)),[ne,Ee,Ie]=me(V),ye=ge=>Math.round(255-(255-ge)*ue);return`rgb(${ye(ne)}, ${ye(Ee)}, ${ye(Ie)})`},Q=["slate","gray","zinc","neutral","stone","red","orange","amber","yellow","lime","green","emerald","teal","cyan","sky","blue","indigo","violet","purple","fuchsia","pink","rose"],K=["50","100","200","300","400","500","600","700","800","900"],xe=Q.flatMap(f=>K.map(S=>`${f}-${S}`)),Ce=[{value:"white",label:"Blanc",color:"#ffffff",emoji:"\u2B1C"},{value:"transparent",label:"Transparent",color:"transparent",emoji:"\u2B1C"},{value:"black",label:"Noir",color:"#000000",emoji:"\u2B1B"}],Ve=(()=>{let f=[];return Ce.forEach(({value:S,label:z,color:V,emoji:le})=>{f.push({value:S,label:`${le} ${z}`,color:V})}),xe.forEach(S=>{let[z,V]=S.split("-"),le=W(S)||"#ffffff";f.push({value:S,label:`${z.charAt(0).toUpperCase()+z.slice(1)} ${V}`,color:le})}),f})(),we=f=>typeof f=="string"?f.trim().toLowerCase():"",_=(f={})=>{Object.entries(I).forEach(([S,z])=>{var le;if(!z)return;let V=we(f[S]);z.innerHTML="",Ve.forEach(({value:ue,label:me,color:ne})=>{let Ee=document.createElement("option");Ee.value=ue,Ee.textContent=me,Ee.dataset.color=ne,V&&V===ue&&(Ee.selected=!0),z.appendChild(Ee)}),z.dataset.default=z.dataset.default||((le=z.options[0])==null?void 0:le.value)||"",!V&&z.dataset.default&&(z.value=z.dataset.default),T(z)})},je=(f,S="muted")=>{if(!q)return;let z=S==="success"?"text-emerald-600":S==="error"?"text-rose-600":"text-slate-500";q.textContent=f||"",q.className=`text-sm ${z}`},Ue=()=>{var S,z,V,le,ue;if(!b)return;let f=me=>{if(!me)return null;if(me==="white")return"#ffffff";if(me==="black")return"#000000";if(me==="transparent")return"transparent";let[ne,Ee]=me.split("-");if(!ne||!Ee)return null;let ye={slate:"#e2e8f0",gray:"#d1d5db",zinc:"#d4d4d8",neutral:"#d4d4d4",stone:"#d6d3d1",red:"#ef4444",orange:"#f97316",amber:"#f59e0b",yellow:"#eab308",lime:"#84cc16",green:"#22c55e",emerald:"#10b981",teal:"#14b8a6",cyan:"#06b6d4",sky:"#0ea5e9",blue:"#3b82f6",indigo:"#6366f1",violet:"#8b5cf6",purple:"#a855f7",fuchsia:"#d946ef",pink:"#ec4899",rose:"#f43f5e"}[ne];if(!ye)return null;let ge=Number(Ee)||500,$e=Math.min(Math.max((ge-50)/900,0),1),Nt=ft=>ft.match(/[A-Fa-f0-9]{2}/g).map(zt=>parseInt(zt,16)),[v,$,h]=Nt(ye.replace("#","")),re=ft=>Math.round(255-(255-ft)*$e);return`rgb(${re(v)}, ${re($)}, ${re(h)})`};b.style.setProperty("--color-primary",W((S=I.primary)==null?void 0:S.value)||"#9C6BFF"),b.style.setProperty("--color-secondary",W((z=I.secondary)==null?void 0:z.value)||"#0EA5E9"),b.style.setProperty("--color-accent",W((V=I.accent)==null?void 0:V.value)||"#F97316"),b.style.setProperty("--color-background",W((le=I.background)==null?void 0:le.value)||"#FFFFFF"),b.style.setProperty("--color-text",W((ue=I.text)==null?void 0:ue.value)||"#0F172A"),b.style.setProperty("--font-headings",(j==null?void 0:j.value)||"Inter, sans-serif"),b.style.setProperty("--font-body",(B==null?void 0:B.value)||"Inter, sans-serif"),b.style.setProperty("--radius-small",(D==null?void 0:D.value)||"8px"),b.style.setProperty("--radius-medium",(k==null?void 0:k.value)||"16px"),b.style.setProperty("--radius-large",(L==null?void 0:L.value)||"24px"),b.style.borderRadius=(k==null?void 0:k.value)||"16px"},T=f=>{f&&Array.from(f.options).forEach(S=>{var V;let z=(V=S.dataset)==null?void 0:V.color;z&&(z==="transparent"?S.style.color="#475569":S.style.color=z)})},E=(f,S)=>{if(f){if(S==="transparent"){f.style.background="repeating-conic-gradient(#ccc 0% 25%, white 0% 50%) 50% / 8px 8px",f.style.borderColor="#cbd5f5",f.style.boxShadow="";return}f.style.background=S,f.style.borderColor=S,f.style.boxShadow="0 0 0 1px rgba(15,23,42,0.15)"}},R=f=>{var ue,me,ne;if(!f)return;let S=f.options[f.selectedIndex],z=((ue=S==null?void 0:S.dataset)==null?void 0:ue.color)||"#ffffff",V=(me=f.closest(".relative"))==null?void 0:me.querySelector("[data-color-preview]");V&&(z==="transparent"?V.style.background="repeating-conic-gradient(#ccc 0% 25%, white 0% 50%) 50% / 8px 8px":(V.style.backgroundColor=z,V.style.background=""));let le=(ne=f.closest(".relative"))==null?void 0:ne.querySelector("[data-theme-color-chip]");E(le,z)},ve=()=>{Object.values(I).forEach(f=>{f&&(T(f),R(f),f.addEventListener("change",()=>R(f)))})};Object.keys(I).forEach(f=>{var S;(S=I[f])==null||S.addEventListener("change",Ue)}),[j,B,D,k,L].forEach(f=>{f==null||f.addEventListener("change",Ue)});let pe=async()=>{var f,S,z,V,le;if(A)try{let ue=await fetch(A,{headers:{Accept:"application/json"},credentials:"include"});if(!ue.ok)return;let me=await ue.json().catch(()=>({})),ne=me.colors||{};_(ne),Object.entries(I).forEach(([Ee,Ie])=>{if(!Ie)return;let ye=ne[Ee],ge=we(ye);ge?(ensureCustomThemeOption(Ie,ge),Ie.value=ge):ye?(ensureCustomThemeOption(Ie,ye),Ie.value=ye):Ie.dataset.default&&(Ie.value=Ie.dataset.default),R(Ie)}),j&&(j.value=((f=me.typography)==null?void 0:f.headings)||"Inter, sans-serif"),B&&(B.value=((S=me.typography)==null?void 0:S.body)||"Inter, sans-serif"),D&&(D.value=((z=me.radius)==null?void 0:z.small)||"8px"),k&&(k.value=((V=me.radius)==null?void 0:V.medium)||"16px"),L&&(L.value=((le=me.radius)==null?void 0:le.large)||"24px"),Ue()}catch(ue){console.error("[settings] load theme failed",ue)}};C==null||C.addEventListener("click",async f=>{var z,V,le,ue,me;if(f.preventDefault(),!A){je("Aucun site actif.","error");return}let S={colors:{primary:((z=I.primary)==null?void 0:z.value)||"violet-500",secondary:((V=I.secondary)==null?void 0:V.value)||"indigo-400",accent:((le=I.accent)==null?void 0:le.value)||"emerald-500",background:((ue=I.background)==null?void 0:ue.value)||"slate-50",text:((me=I.text)==null?void 0:me.value)||"slate-900"},typography:{headings:(j==null?void 0:j.value)||"Inter, sans-serif",body:(B==null?void 0:B.value)||"Inter, sans-serif"},radius:{small:(D==null?void 0:D.value)||"8px",medium:(k==null?void 0:k.value)||"16px",large:(L==null?void 0:L.value)||"24px"}};C.disabled=!0,je("");try{let ne=await fetch(A,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(S)}),Ee=await ne.json().catch(()=>({}));if(!ne.ok||Ee.success===!1)throw new Error(Ee.message||"Application du th\xE8me \xE9chou\xE9e.");await pe(),je(Ee.message||"Th\xE8me appliqu\xE9.","success")}catch(ne){console.error("[settings] apply theme failed",ne),je(ne.message||"Erreur lors de l\u2019application du th\xE8me.","error")}finally{C.disabled=!1}}),_(),ve(),pe(),Ue(),document.addEventListener("ai-theme-updated",()=>{pe(),je("Th\xE8me mis \xE0 jour.","success")})}let U=document.querySelector("[data-seo-config-form]");if(U){let w=U.querySelector("[data-seo-index-all]"),A=U.querySelector("[data-seo-config-feedback]"),I=U.querySelector("[data-seo-save]"),j=Te((J==null?void 0:J.slugValue)||X.slug||""),B=j?`/api/sites/${encodeURIComponent(j)}/config/site`:null,D=(L,b="muted")=>{if(!A)return;let q=b==="success"?"text-emerald-600":b==="error"?"text-rose-600":"text-slate-500";A.textContent=L||"",A.className=`text-sm ${q}`},k=async()=>{var L;if(B)try{let b=await fetch(B,{headers:{Accept:"application/json"}});if(!b.ok)return;let C=((L=(await b.json().catch(()=>({}))).seo)==null?void 0:L.indexAllPagesByDefault)!==!1;w&&(w.checked=C)}catch(b){console.error("[settings] load seo config failed",b)}};U.addEventListener("submit",async L=>{var b;if(L.preventDefault(),!B){D("Aucun site actif.","error");return}I&&(I.disabled=!0),D("");try{let q=await fetch(B,{headers:{Accept:"application/json"}}),C=q.ok?await q.json().catch(()=>({})):{},N={...C,seo:{...C.seo||{},indexAllPagesByDefault:(b=w==null?void 0:w.checked)!=null?b:!0}},W=await fetch(B,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(N)}),Q=await W.json().catch(()=>({}));if(!W.ok||Q.success===!1)throw new Error(Q.message||"Sauvegarde impossible.");D(Q.message||"Param\xE8tres SEO enregistr\xE9s.","success")}catch(q){console.error("[settings] save seo config failed",q),D(q.message||"Erreur lors de la sauvegarde.","error")}finally{I&&(I.disabled=!1)}}),k()}let G=document.querySelector("[data-analytics-form]");if(G){let w=G.querySelector("[data-analytics-head]"),A=G.querySelector("[data-analytics-body]"),I=G.querySelector("[data-analytics-feedback]"),j=G.querySelector("[data-analytics-save]"),B=Te((J==null?void 0:J.slugValue)||X.slug||""),D=B?`/api/sites/${encodeURIComponent(B)}/config/site`:null,k=(b,q="muted")=>{if(!I)return;let C=q==="success"?"text-emerald-600":q==="error"?"text-rose-600":"text-slate-500";I.textContent=b||"",I.className=`text-sm ${C}`},L=async()=>{var b,q;if(D)try{let C=await fetch(D,{headers:{Accept:"application/json"}});if(!C.ok)return;let N=await C.json().catch(()=>({}));w&&(w.value=((b=N.analytics)==null?void 0:b.headCode)||""),A&&(A.value=((q=N.analytics)==null?void 0:q.bodyEndCode)||"")}catch(C){console.error("[settings] load analytics config failed",C)}};G.addEventListener("submit",async b=>{if(b.preventDefault(),!D){k("Aucun site actif.","error");return}j&&(j.disabled=!0),k("");try{let q=await fetch(D,{headers:{Accept:"application/json"}}),N={...q.ok?await q.json().catch(()=>({})):{},analytics:{headCode:(w==null?void 0:w.value)||"",bodyEndCode:(A==null?void 0:A.value)||""}},W=await fetch(D,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(N)}),Q=await W.json().catch(()=>({}));if(!W.ok||Q.success===!1)throw new Error(Q.message||"Sauvegarde impossible.");k(Q.message||"Scripts enregistr\xE9s.","success")}catch(q){console.error("[settings] save analytics config failed",q),k(q.message||"Erreur lors de la sauvegarde.","error")}finally{j&&(j.disabled=!1)}}),L()}let se=document.querySelector("[data-accessibility-form]");if(se){let w=se.querySelector("[data-accessibility-animations]"),A=se.querySelector("[data-accessibility-contrast]"),I=se.querySelector("[data-accessibility-feedback]"),j=se.querySelector("[data-accessibility-save]"),B=Te((J==null?void 0:J.slugValue)||X.slug||""),D=B?`/api/sites/${encodeURIComponent(B)}/config/site`:null,k=(b,q="muted")=>{if(!I)return;let C=q==="success"?"text-emerald-600":q==="error"?"text-rose-600":"text-slate-500";I.textContent=b||"",I.className=`text-sm ${C}`},L=async()=>{var b,q;if(D)try{let C=await fetch(D,{headers:{Accept:"application/json"}});if(!C.ok)return;let N=await C.json().catch(()=>({}));w&&(w.checked=((b=N.accessibility)==null?void 0:b.animationsEnabled)!==!1),A&&(A.checked=((q=N.accessibility)==null?void 0:q.highContrast)===!0)}catch(C){console.error("[settings] load accessibility config failed",C)}};se.addEventListener("submit",async b=>{var q,C;if(b.preventDefault(),!D){k("Aucun site actif.","error");return}j&&(j.disabled=!0),k("");try{let N=await fetch(D,{headers:{Accept:"application/json"}}),Q={...N.ok?await N.json().catch(()=>({})):{},accessibility:{animationsEnabled:(q=w==null?void 0:w.checked)!=null?q:!0,highContrast:(C=A==null?void 0:A.checked)!=null?C:!1}},K=await fetch(D,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(Q)}),xe=await K.json().catch(()=>({}));if(!K.ok||xe.success===!1)throw new Error(xe.message||"Sauvegarde impossible.");k(xe.message||"Pr\xE9f\xE9rences mises \xE0 jour.","success")}catch(N){console.error("[settings] save accessibility config failed",N),k(N.message||"Erreur lors de la sauvegarde.","error")}finally{j&&(j.disabled=!1)}}),L()}let Z=document.querySelector("[data-ai-config-form]");if(Z){let w=Z.querySelector("[data-ai-api-key]"),A=Z.querySelector("[data-ai-model]"),I=Z.querySelector("[data-ai-project-prompt]"),j=Z.querySelector("[data-ai-enabled]"),B=Z.querySelector("[data-ai-feedback]"),D=Z.querySelector("[data-ai-save]"),k=Te((J==null?void 0:J.slugValue)||X.slug||""),L=k?`/api/sites/${encodeURIComponent(k)}/config/ai`:null,b=(C,N="muted")=>{if(!B)return;let W=N==="success"?"text-emerald-600":N==="error"?"text-rose-600":"text-slate-500";B.textContent=C||"",B.className=`text-sm ${W}`},q=async()=>{if(L)try{let C=await fetch(L,{headers:{Accept:"application/json"}});if(!C.ok)return;let N=await C.json().catch(()=>({}));w&&(w.value="",w.placeholder=N.hasApiKey?"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022":"Cl\xE9 API Gemini"),A&&(A.value=N.model||"gemini-2.5-flash"),I&&(I.value=N.projectPrompt||""),j&&(j.checked=N.enabled!==!1)}catch(C){console.error("[settings] load AI config failed",C)}};Z.addEventListener("submit",async C=>{var N,W;if(C.preventDefault(),!L){b("Aucun site actif.","error");return}D&&(D.disabled=!0),b("");try{let Q={model:(A==null?void 0:A.value)||"gemini-2.5-flash",projectPrompt:(I==null?void 0:I.value)||"",enabled:(N=j==null?void 0:j.checked)!=null?N:!0},K=(W=w==null?void 0:w.value)==null?void 0:W.trim();K&&(Q.apiKey=K);let xe=await fetch(L,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(Q)}),Ce=await xe.json().catch(()=>({}));if(!xe.ok||Ce.success===!1)throw new Error(Ce.message||"Sauvegarde impossible.");b(Ce.message||"Configuration IA enregistr\xE9e.","success"),w&&(w.value="",w.placeholder="\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022")}catch(Q){console.error("[settings] save AI config failed",Q),b(Q.message||"Erreur lors de la sauvegarde.","error")}finally{D&&(D.disabled=!1)}}),q()}}function dr(){let s=document.querySelector("[data-media-grid]");if(!s)return;let n=document.querySelector("[data-media-empty]"),i=document.querySelector("[data-media-count]"),u=document.querySelector("[data-media-filter-type]"),g=document.querySelector("[data-media-detail-empty]"),x=document.querySelector("[data-media-detail]"),O=document.querySelector("[data-media-detail-preview]"),U=document.querySelector("[data-media-detail-name]"),G=document.querySelector("[data-media-detail-type]"),se=document.querySelector("[data-media-detail-size]"),Z=document.querySelector("[data-media-detail-path]"),w=document.querySelector("[data-media-detail-used]"),A=document.querySelector("[data-media-alt-edit]"),I=document.querySelector("[data-media-save]"),j=document.querySelector("[data-media-delete]"),B=document.querySelector("[data-media-delete-modal]"),D=document.querySelector("[data-media-delete-cancel]"),k=document.querySelector("[data-media-delete-confirm]"),L=document.querySelector("[data-media-upload-open]"),b=document.querySelector("[data-media-file-input]"),q=document.querySelector("[data-media-upload-status]"),C=Te((J==null?void 0:J.slugValue)||X.slug||""),N=C?`/api/sites/${encodeURIComponent(C)}/media`:null,W=[],Q=[],K=null,xe=null,Ce=null,Ve=!1,we=!1,_=!1,je=null,Ue=v=>{let $=(v.type||"").toLowerCase(),h=(v.filename||"").toLowerCase();return $.includes("image")||/\.(png|jpe?g|webp|svg|gif)$/i.test(h)?"image":$.includes("pdf")||$.includes("doc")||/\.(pdf|docx?)$/i.test(h)?"document":$.includes("video")||/\.(mp4|mov|webm)$/i.test(h)?"video":"other"},T=v=>Ue(v)==="image",E=v=>{if(v.type)return v.type.toUpperCase();let $=(v.filename||"").split(".").pop();return $?$.toUpperCase():"FILE"},R=v=>!v||v<=0?"\u2014":v<1024?`${v} o`:v<1024*1024?`${(v/1024).toFixed(1)} ko`:`${(v/(1024*1024)).toFixed(1)} Mo`,ve=()=>{x==null||x.classList.add("hidden"),g==null||g.classList.remove("hidden"),pe(),K=null,we=!1,V(!1),O&&(O.innerHTML='<span class="text-slate-400 text-sm">Aucun m\xE9dia s\xE9lectionn\xE9</span>'),U&&(U.textContent=""),G&&(G.textContent=""),se&&(se.textContent=""),A&&(A.value=""),Z&&(Z.textContent=""),w&&(w.innerHTML="")},pe=()=>{Ce=null,_=!1,Ve=!1,je&&(URL.revokeObjectURL(je),je=null),q&&(q.textContent="Aucun fichier s\xE9lectionn\xE9."),b&&(b.value="")},f=()=>{i&&(Q.length?Q.length===1?i.textContent="1 m\xE9dia":i.textContent=`${Q.length} m\xE9dias`:i.textContent="0 m\xE9dia")},S=()=>{if(s.innerHTML="",!Q.length){n==null||n.classList.remove("hidden"),ve();return}n==null||n.classList.add("hidden"),Q.forEach(v=>{let $=document.createElement("button");$.type="button",$.dataset.mediaId=v.id;let h=v.id===K;$.className=["group relative flex flex-col rounded-2xl border px-3 py-3 text-left transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[#9C6BFF]",h?"border-[#9C6BFF] bg-[#F7F0FF]/60 shadow-sm":"border-slate-200 hover:border-[#9C6BFF]/40"].join(" ");let re=T(v)?`<img src="${v.path}" alt="${v.alt||v.filename}" class="h-full w-full object-cover" />`:'<div class="flex h-full w-full items-center justify-center text-3xl text-slate-400">\u{1F4C4}</div>';$.innerHTML=`
          <div class="relative aspect-[4/3] overflow-hidden rounded-xl bg-slate-100">
            ${re}
          </div>
          <div class="mt-2 space-y-1">
            <p class="text-sm font-semibold text-slate-900 truncate">${v.filename}</p>
            <p class="text-xs text-slate-500">
              ${E(v)} \xB7 ${R(v.size)}
            </p>
          </div>
        `,v.id===xe&&($.classList.add("ring-2","ring-[#9C6BFF]"),window.setTimeout(()=>{$.classList.remove("ring-2","ring-[#9C6BFF]")},1600)),$.addEventListener("click",()=>le(v.id)),s.appendChild($)}),xe=null},z=v=>{if(w){if(w.innerHTML="",!v.usedIn||v.usedIn.length===0){let $=document.createElement("li");$.textContent="Non utilis\xE9",$.className="text-xs text-slate-400",w.appendChild($);return}v.usedIn.forEach($=>{let h=document.createElement("li");h.textContent=$,h.className="text-xs text-slate-600",w.appendChild(h)})}},V=v=>{if(I){if(_){I.textContent=v?"T\xE9l\xE9versement\u2026":"T\xE9l\xE9verser",I.disabled=v||!Ce,j&&j.classList.add("hidden");return}I.textContent=v?"Enregistrement\u2026":"Enregistrer",I.disabled=v||!we,j&&(j.classList.remove("hidden"),j.disabled=!K)}},le=v=>{let $=W.find(h=>h.id===v);if(!$){ve(),S();return}pe(),K=$.id,we=!1,V(!1),S(),g==null||g.classList.add("hidden"),x==null||x.classList.remove("hidden"),O&&(T($)?O.innerHTML=`<img src="${$.path}" alt="${$.alt||$.filename}" class="h-full w-full rounded-2xl object-cover" />`:O.innerHTML='<div class="flex h-full w-full flex-col items-center justify-center gap-1 text-slate-400"><span class="text-3xl">\u{1F4C4}</span><span class="text-xs font-semibold">Document</span></div>'),U&&(U.textContent=$.filename||"Fichier"),G&&(G.textContent=E($)),se&&(se.textContent=R($.size)),A&&(A.value=$.alt||""),Z&&(Z.textContent=$.path||"\u2014"),z($)},ue=v=>{if(v){if(_=!0,we=!1,K=null,g==null||g.classList.add("hidden"),x==null||x.classList.remove("hidden"),je&&URL.revokeObjectURL(je),je=URL.createObjectURL(v),O&&(O.innerHTML=`<img src="${je}" alt="${v.name}" class="h-full w-full rounded-2xl object-cover" />`),U&&(U.textContent=v.name),G&&(G.textContent=E({type:v.type,filename:v.name})),se&&(se.textContent=R(v.size)),A&&!A.value.trim()&&(A.value=v.name.replace(/\.[^.]+$/,"").replace(/[-_]/g," ")),Z&&(Z.textContent="En attente de t\xE9l\xE9versement"),w){w.innerHTML="";let $=document.createElement("li");$.textContent="Non utilis\xE9",$.className="text-xs text-slate-400",w.appendChild($)}V(!1)}},me=()=>{let v=(u==null?void 0:u.value)||"all";v==="all"?Q=[...W]:Q=W.filter($=>$.groupType===v),Q.some($=>$.id===K)||ve(),f(),S()},ne=async()=>{if(!N){n==null||n.classList.remove("hidden");return}try{let v=await fetch(N,{headers:{Accept:"application/json"}});if(!v.ok)throw new Error("Impossible de charger les m\xE9dias.");let $=await v.json().catch(()=>({items:[]}));W=Array.isArray($.items)?$.items.map(h=>({...h,groupType:Ue(h)})):[],me()}catch(v){console.error("[media] load failed",v),P(v.message||"Impossible de charger les m\xE9dias."),W=[],me()}};u==null||u.addEventListener("change",()=>{me()}),A==null||A.addEventListener("input",()=>{if(_){V(!1);return}K&&(we=!0,V(!1))});let Ee=v=>{if(v){if(!v.type.startsWith("image/")){P("Seules les images sont accept\xE9es pour le moment.");return}if(v.size>4*1024*1024){P("Fichier trop volumineux (4 Mo max).");return}Ce=v,ue(v),q&&(q.textContent=`${v.name} \xB7 ${R(v.size)}`)}},Ie=v=>new Promise(($,h)=>{let re=new FileReader;re.onload=()=>{let ft=re.result||"",[,zt=""]=String(ft).split(",");$(zt)},re.onerror=()=>h(new Error("Impossible de lire ce fichier.")),re.readAsDataURL(v)}),ye=async()=>{if(!(!Ce||!N)){Ve=!0,V(!0);try{let v=await Ie(Ce),$={filename:Ce.name,type:Ce.type,size:Ce.size,alt:(A==null?void 0:A.value)||"",data:v},h=await fetch(N,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify($)});if(!h.ok){let ft=await h.json().catch(()=>({}));throw new Error(ft.message||"Upload impossible.")}let re=await h.json();re.groupType=Ue(re),W=[...W,re],xe=re.id,me(),le(re.id),P("M\xE9dia ajout\xE9"),pe()}catch(v){console.error("[media] upload failed",v),P(v.message||"Impossible de t\xE9l\xE9verser ce m\xE9dia.")}finally{Ve=!1,Ce=null,V(!1)}}};L==null||L.addEventListener("click",()=>b==null?void 0:b.click()),b==null||b.addEventListener("change",()=>{b.files&&b.files[0]&&Ee(b.files[0])});let ge=()=>{B&&(B.classList.add("hidden"),B.classList.remove("flex"))},$e=()=>{if(!(!K||_)){if(B){B.classList.remove("hidden"),B.classList.add("flex");return}window.confirm("Supprimer ce m\xE9dia ?")&&Nt()}},Nt=async()=>{if(!K||!N){ge();return}let v=()=>{j&&(j.disabled=!0),k&&(k.disabled=!0,k.textContent="Suppression\u2026")},$=()=>{j&&(j.disabled=!1),k&&(k.disabled=!1,k.textContent="Supprimer")};v();try{let h=await fetch(`${N}/${encodeURIComponent(K)}`,{method:"DELETE"});if(!h.ok){let re=await h.json().catch(()=>({}));throw new Error(re.message||"Suppression impossible.")}W=W.filter(re=>re.id!==K),Q=Q.filter(re=>re.id!==K),P("M\xE9dia supprim\xE9"),ve(),f(),S()}catch(h){console.error("[media] delete failed",h),P(h.message||"Impossible de supprimer ce m\xE9dia.")}finally{$(),ge()}};D==null||D.addEventListener("click",ge),B==null||B.addEventListener("click",v=>{v.target===B&&ge()}),k==null||k.addEventListener("click",()=>Nt()),j==null||j.addEventListener("click",$e),I==null||I.addEventListener("click",async()=>{if(_){ye();return}if(!(!K||!N||!A)){V(!0);try{let v={alt:A.value||""},$=await fetch(`${N}/${encodeURIComponent(K)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(v)});if(!$.ok){let re=await $.json().catch(()=>({}));throw new Error(re.message||"Impossible de mettre \xE0 jour ce m\xE9dia.")}let h=await $.json();W=W.map(re=>re.id===K?{...re,...h}:re),Q=Q.map(re=>re.id===K?{...re,...h}:re),we=!1,V(!1),P("M\xE9dia mis \xE0 jour")}catch(v){console.error("[media] update failed",v),P(v.message||"\xC9chec de la mise \xE0 jour."),V(!1)}}}),ne()}let To=document.getElementById("ai-chat-toggle"),ds=document.getElementById("ai-chat-panel"),rt=document.getElementById("ai-chat-overlay"),$o=document.getElementById("ai-chat-close"),Io=document.getElementById("ai-chat-clear"),Bo=document.getElementById("ai-chat-form"),Bt=document.getElementById("ai-chat-input"),Le=document.getElementById("ai-chat-messages"),ca=document.getElementById("ai-chat-status"),wt=document.getElementById("ai-chat-no-api"),ur=document.querySelectorAll("[data-ai-quick]"),eo=!1,jo=!1,un=!1,mr=!1;function fr(){ds&&(eo=!0,ds.classList.remove("translate-x-full"),ds.setAttribute("aria-hidden","false"),rt==null||rt.classList.remove("opacity-0","pointer-events-none"),rt==null||rt.classList.add("opacity-100"),document.body.classList.add("overflow-hidden"),Bt==null||Bt.focus(),un||pr())}function to(){ds&&(eo=!1,ds.classList.add("translate-x-full"),ds.setAttribute("aria-hidden","true"),rt==null||rt.classList.add("opacity-0","pointer-events-none"),rt==null||rt.classList.remove("opacity-100"),document.body.classList.remove("overflow-hidden"))}async function pr(){let s=Te(X.slug||"");if(!s){wt==null||wt.classList.remove("hidden");return}try{let n=await fetch(`/api/sites/${encodeURIComponent(s)}/config/ai`);if(!n.ok)throw new Error("Config check failed");let i=await n.json();un=!0,mr=i.hasApiKey,!i.enabled||!i.hasApiKey?wt==null||wt.classList.remove("hidden"):(wt==null||wt.classList.add("hidden"),gr())}catch(n){console.error("[AI] Config check failed:",n),wt==null||wt.classList.remove("hidden")}}async function gr(){let s=Te(X.slug||"");if(!(!s||!Le))try{let n=await fetch(`/api/sites/${encodeURIComponent(s)}/ai/history`);if(!n.ok)return;let i=await n.json();if(i.messages&&i.messages.length>0){let u=Le.querySelector("[data-ai-welcome]");u&&u.remove(),i.messages.forEach(g=>{so(g.content,g.role==="user"?"user":"assistant")}),Le.scrollTop=Le.scrollHeight}}catch(n){console.error("[AI] History load failed:",n)}}function so(s,n="assistant"){if(!Le)return;let i=document.createElement("div");if(i.className="flex gap-3",n==="user")i.innerHTML=`
        <div class="flex-1"></div>
        <div class="max-w-[80%] bg-violet-600 text-white rounded-2xl rounded-tr-none p-3">
          <p class="text-sm whitespace-pre-wrap">${mt(s)}</p>
        </div>
        <div class="w-8 h-8 rounded-full bg-slate-200 flex-shrink-0 flex items-center justify-center">
          <svg class="w-4 h-4 text-slate-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
          </svg>
        </div>
      `;else{let u=vr(s);i.innerHTML=`
        <div class="w-8 h-8 rounded-full bg-gradient-to-br from-violet-500 to-indigo-600 flex-shrink-0 flex items-center justify-center">
          <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
          </svg>
        </div>
        <div class="flex-1 bg-slate-50 rounded-2xl rounded-tl-none p-3 overflow-x-auto">
          <div class="text-sm text-slate-700 prose prose-sm max-w-none [&>pre]:bg-slate-800 [&>pre]:text-slate-100 [&>pre]:rounded-lg [&>pre]:p-3 [&>pre]:overflow-x-auto [&>code]:bg-slate-200 [&>code]:px-1 [&>code]:rounded">${u}</div>
        </div>
      `}Le.appendChild(i),Le.scrollTop=Le.scrollHeight}function hr(){if(!Le)return;let s=document.createElement("div");s.className="flex gap-3",s.id="ai-loading-indicator",s.innerHTML=`
      <div class="w-8 h-8 rounded-full bg-gradient-to-br from-violet-500 to-indigo-600 flex-shrink-0 flex items-center justify-center">
        <svg class="w-4 h-4 text-white animate-pulse" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
        </svg>
      </div>
      <div class="flex-1 bg-slate-50 rounded-2xl rounded-tl-none p-3">
        <div class="flex items-center gap-2">
          <div class="w-2 h-2 bg-violet-400 rounded-full animate-bounce" style="animation-delay: 0ms"></div>
          <div class="w-2 h-2 bg-violet-400 rounded-full animate-bounce" style="animation-delay: 150ms"></div>
          <div class="w-2 h-2 bg-violet-400 rounded-full animate-bounce" style="animation-delay: 300ms"></div>
        </div>
      </div>
    `,Le.appendChild(s),Le.scrollTop=Le.scrollHeight}function mn(){let s=document.getElementById("ai-loading-indicator");s==null||s.remove()}function vr(s){if(!s)return"";let n=mt(s);return n=n.replace(/```(\w*)\n([\s\S]*?)```/g,(i,u,g)=>`<pre class="language-${u||"text"}"><code>${g.trim()}</code></pre>`),n=n.replace(/`([^`]+)`/g,"<code>$1</code>"),n=n.replace(/\*\*([^*]+)\*\*/g,"<strong>$1</strong>"),n=n.replace(/\*([^*]+)\*/g,"<em>$1</em>"),n=n.replace(/^### (.+)$/gm,'<h4 class="font-semibold text-slate-900 mt-3 mb-1">$1</h4>'),n=n.replace(/^## (.+)$/gm,'<h3 class="font-semibold text-slate-900 mt-3 mb-1">$1</h3>'),n=n.replace(/^# (.+)$/gm,'<h2 class="font-bold text-slate-900 mt-3 mb-2">$1</h2>'),n=n.replace(/^- (.+)$/gm,'<li class="ml-4">$1</li>'),n=n.replace(/^(\d+)\. (.+)$/gm,'<li class="ml-4">$2</li>'),n=n.replace(/\n\n/g,'</p><p class="mb-2">'),n='<p class="mb-2">'+n+"</p>",n=n.replace(/<p class="mb-2"><\/p>/g,""),n}function mt(s){let n=document.createElement("div");return n.textContent=s,n.innerHTML}async function fn(s){let n=Te(X.slug||"");if(!s||!n||jo)return;jo=!0,Bt.disabled=!0;let i=Le==null?void 0:Le.querySelector("[data-ai-welcome]");i&&i.remove(),so(s,"user"),hr();try{let u=await fetch(`/api/sites/${encodeURIComponent(n)}/ai/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:s})});if(mn(),!u.ok){let x=await u.json().catch(()=>({}));throw new Error(x.message||"Erreur de communication")}let g=await u.json();g.response&&so(g.response,"assistant"),g.editProposal&&yr(g.editProposal),g.themeProposal&&br(g.themeProposal)}catch(u){mn(),so(`\u274C Erreur: ${u.message}`,"assistant")}finally{jo=!1,Bt.disabled=!1,Bt.focus()}}function yr(s){var u,g;if(!Le||!s)return;let n=document.createElement("div");n.className="flex gap-3 mt-2",n.dataset.proposalId=s.proposalId;let i="";if(s.changes&&(s.changes.title&&(i+=`<li>Titre \u2192 <strong>${mt(s.changes.title)}</strong></li>`),s.changes.description&&(i+=`<li>Description \u2192 ${mt(s.changes.description.substring(0,80))}...</li>`),s.changes.seo&&(s.changes.seo.metaTitle&&(i+=`<li>Meta title \u2192 ${mt(s.changes.seo.metaTitle)}</li>`),s.changes.seo.metaDescription&&(i+=`<li>Meta description \u2192 ${mt(s.changes.seo.metaDescription.substring(0,60))}...</li>`)),s.changes.blockUpdate&&(i+=`<li>Bloc "${s.changes.blockUpdate.blockId}" modifi\xE9</li>`,s.changes.blockUpdate.settings))){let x=s.changes.blockUpdate.settings;x.title&&(i+=`<li class="ml-4">\u2192 title: ${mt(x.title)}</li>`),x.content&&(i+='<li class="ml-4">\u2192 content modifi\xE9</li>')}n.innerHTML=`
      <div class="w-8 h-8 rounded-full bg-amber-500 flex-shrink-0 flex items-center justify-center">
        <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"/>
        </svg>
      </div>
      <div class="flex-1 bg-amber-50 border border-amber-200 rounded-2xl rounded-tl-none p-4">
        <div class="flex items-center gap-2 mb-2">
          <span class="text-xs font-semibold text-amber-700 bg-amber-100 px-2 py-0.5 rounded">Proposition d'\xE9dition</span>
        </div>
        <p class="text-sm font-medium text-slate-800 mb-1">Page : ${mt(s.pageTitle||s.pageId)}</p>
        ${s.reason?`<p class="text-sm text-slate-600 mb-2">${mt(s.reason)}</p>`:""}
        <ul class="text-xs text-slate-600 space-y-1 mb-3 list-disc ml-4">
          ${i||"<li>Modifications propos\xE9es</li>"}
        </ul>
        <div class="flex gap-2">
          <button 
            class="ai-apply-edit px-3 py-1.5 text-xs font-medium text-white bg-emerald-600 hover:bg-emerald-700 rounded-lg transition-colors flex items-center gap-1"
            data-proposal-id="${s.proposalId}"
          >
            <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
            </svg>
            Appliquer
          </button>
          <button 
            class="ai-reject-edit px-3 py-1.5 text-xs font-medium text-slate-600 bg-slate-100 hover:bg-slate-200 rounded-lg transition-colors flex items-center gap-1"
            data-proposal-id="${s.proposalId}"
          >
            <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
            </svg>
            Rejeter
          </button>
        </div>
      </div>
    `,Le.appendChild(n),Le.scrollTop=Le.scrollHeight,(u=n.querySelector(".ai-apply-edit"))==null||u.addEventListener("click",Sr),(g=n.querySelector(".ai-reject-edit"))==null||g.addEventListener("click",pn)}function br(s){var g,x,O,U;if(!Le||!s)return;let n=document.createElement("div");n.className="flex gap-3 mt-2",n.dataset.proposalId=s.proposalId;let i="";if((g=s.changes)!=null&&g.colors){let G=s.changes.colors;for(let[se,Z]of Object.entries(G))i+=`<li class="flex items-center gap-2">
          <span class="w-4 h-4 rounded border border-slate-300" style="background: ${xr(Z)}"></span>
          <span>${se}: <strong>${mt(Z)}</strong></span>
        </li>`}let u="";if((x=s.changes)!=null&&x.typography){let G=s.changes.typography;G.headings&&(u+=`<li>Titres \u2192 <strong>${mt(G.headings)}</strong></li>`),G.body&&(u+=`<li>Textes \u2192 <strong>${mt(G.body)}</strong></li>`)}n.innerHTML=`
      <div class="w-8 h-8 rounded-full bg-purple-500 flex-shrink-0 flex items-center justify-center">
        <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"/>
        </svg>
      </div>
      <div class="flex-1 bg-purple-50 border border-purple-200 rounded-2xl rounded-tl-none p-4">
        <div class="flex items-center gap-2 mb-2">
          <span class="text-xs font-semibold text-purple-700 bg-purple-100 px-2 py-0.5 rounded">Modification du th\xE8me</span>
        </div>
        ${s.reason?`<p class="text-sm text-slate-600 mb-3">${mt(s.reason)}</p>`:""}
        ${i?`
          <p class="text-xs font-medium text-slate-700 mb-1">Couleurs :</p>
          <ul class="text-xs text-slate-600 space-y-1 mb-3">${i}</ul>
        `:""}
        ${u?`
          <p class="text-xs font-medium text-slate-700 mb-1">Typographies :</p>
          <ul class="text-xs text-slate-600 space-y-1 mb-3 list-disc ml-4">${u}</ul>
        `:""}
        <div class="flex gap-2">
          <button 
            class="ai-apply-theme px-3 py-1.5 text-xs font-medium text-white bg-purple-600 hover:bg-purple-700 rounded-lg transition-colors flex items-center gap-1"
            data-proposal-id="${s.proposalId}"
          >
            <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
            </svg>
            Appliquer
          </button>
          <button 
            class="ai-reject-theme px-3 py-1.5 text-xs font-medium text-slate-600 bg-slate-100 hover:bg-slate-200 rounded-lg transition-colors flex items-center gap-1"
            data-proposal-id="${s.proposalId}"
          >
            <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
            </svg>
            Rejeter
          </button>
        </div>
      </div>
    `,Le.appendChild(n),Le.scrollTop=Le.scrollHeight,(O=n.querySelector(".ai-apply-theme"))==null||O.addEventListener("click",wr),(U=n.querySelector(".ai-reject-theme"))==null||U.addEventListener("click",pn)}function xr(s){return{white:"#ffffff",black:"#000000",transparent:"transparent","slate-50":"#f8fafc","slate-100":"#f1f5f9","slate-200":"#e2e8f0","slate-300":"#cbd5e1","slate-400":"#94a3b8","slate-500":"#64748b","slate-600":"#475569","slate-700":"#334155","slate-800":"#1e293b","slate-900":"#0f172a","gray-50":"#f9fafb","gray-100":"#f3f4f6","gray-200":"#e5e7eb","gray-300":"#d1d5db","gray-400":"#9ca3af","gray-500":"#6b7280","gray-600":"#4b5563","gray-700":"#374151","gray-800":"#1f2937","gray-900":"#111827","violet-50":"#f5f3ff","violet-100":"#ede9fe","violet-200":"#ddd6fe","violet-300":"#c4b5fd","violet-400":"#a78bfa","violet-500":"#8b5cf6","violet-600":"#7c3aed","violet-700":"#6d28d9","violet-800":"#5b21b6","violet-900":"#4c1d95","purple-50":"#faf5ff","purple-100":"#f3e8ff","purple-200":"#e9d5ff","purple-300":"#d8b4fe","purple-400":"#c084fc","purple-500":"#a855f7","purple-600":"#9333ea","purple-700":"#7e22ce","purple-800":"#6b21a8","purple-900":"#581c87","blue-50":"#eff6ff","blue-100":"#dbeafe","blue-200":"#bfdbfe","blue-300":"#93c5fd","blue-400":"#60a5fa","blue-500":"#3b82f6","blue-600":"#2563eb","blue-700":"#1d4ed8","blue-800":"#1e40af","blue-900":"#1e3a8a","emerald-50":"#ecfdf5","emerald-100":"#d1fae5","emerald-200":"#a7f3d0","emerald-300":"#6ee7b7","emerald-400":"#34d399","emerald-500":"#10b981","emerald-600":"#059669","emerald-700":"#047857","emerald-800":"#065f46","emerald-900":"#064e3b","teal-50":"#f0fdfa","teal-100":"#ccfbf1","teal-200":"#99f6e4","teal-300":"#5eead4","teal-400":"#2dd4bf","teal-500":"#14b8a6","teal-600":"#0d9488","teal-700":"#0f766e","teal-800":"#115e59","teal-900":"#134e4a","amber-50":"#fffbeb","amber-100":"#fef3c7","amber-200":"#fde68a","amber-300":"#fcd34d","amber-400":"#fbbf24","amber-500":"#f59e0b","amber-600":"#d97706","amber-700":"#b45309","amber-800":"#92400e","amber-900":"#78350f","red-50":"#fef2f2","red-100":"#fee2e2","red-200":"#fecaca","red-300":"#fca5a5","red-400":"#f87171","red-500":"#ef4444","red-600":"#dc2626","red-700":"#b91c1c","red-800":"#991b1b","red-900":"#7f1d1d"}[s]||"#9C6BFF"}async function wr(s){var g;let n=(g=s.target.closest("[data-proposal-id]"))==null?void 0:g.dataset.proposalId,i=Te(X.slug||"");if(!n||!i)return;let u=s.target.closest("button");u.disabled=!0,u.innerHTML='<span class="animate-spin">\u23F3</span> Application...';try{let x=await fetch(`/api/sites/${encodeURIComponent(i)}/ai/apply-theme`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({proposalId:n})}),O=await x.json();if(x.ok&&O.success){let U=document.querySelector(`[data-proposal-id="${n}"]`);U&&(U.innerHTML=`
            <div class="w-8 h-8 rounded-full bg-purple-500 flex-shrink-0 flex items-center justify-center">
              <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
              </svg>
            </div>
            <div class="flex-1 bg-purple-50 border border-purple-200 rounded-2xl rounded-tl-none p-3">
              <p class="text-sm text-purple-700">\u2705 Th\xE8me mis \xE0 jour avec succ\xE8s !</p>
              <p class="text-xs text-purple-600 mt-1">Rechargez la preview pour voir les changements.</p>
            </div>
          `),P("Th\xE8me mis \xE0 jour !"),document.dispatchEvent(new CustomEvent("ai-theme-updated",{detail:{updatedTheme:O.updatedTheme}}))}else throw new Error(O.message||"Erreur lors de l'application")}catch(x){u.disabled=!1,u.innerHTML='<svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg> R\xE9essayer',P(`Erreur: ${x.message}`)}}async function Sr(s){var g,x;let n=(g=s.target.closest("[data-proposal-id]"))==null?void 0:g.dataset.proposalId,i=Te(X.slug||"");if(!n||!i)return;let u=s.target.closest("button");u.disabled=!0,u.innerHTML='<span class="animate-spin">\u23F3</span> Application...';try{let O=await fetch(`/api/sites/${encodeURIComponent(i)}/ai/apply-edit`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({proposalId:n})}),U=await O.json();if(O.ok&&U.success){let G=document.querySelector(`[data-proposal-id="${n}"]`);G&&(G.innerHTML=`
            <div class="w-8 h-8 rounded-full bg-emerald-500 flex-shrink-0 flex items-center justify-center">
              <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
              </svg>
            </div>
            <div class="flex-1 bg-emerald-50 border border-emerald-200 rounded-2xl rounded-tl-none p-3">
              <p class="text-sm text-emerald-700">\u2705 Modifications appliqu\xE9es avec succ\xE8s !</p>
              <p class="text-xs text-emerald-600 mt-1">La preview se met \xE0 jour automatiquement.</p>
            </div>
          `),P("Modifications appliqu\xE9es !");let se=((x=U.updatedPage)==null?void 0:x.id)||null;document.dispatchEvent(new CustomEvent("ai-page-updated",{detail:{pageId:se,updatedPage:U.updatedPage}}))}else throw new Error(U.message||"Erreur lors de l'application")}catch(O){u.disabled=!1,u.innerHTML='<svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg> R\xE9essayer',P(`Erreur: ${O.message}`)}}async function pn(s){var u;let n=(u=s.target.closest("[data-proposal-id]"))==null?void 0:u.dataset.proposalId,i=Te(X.slug||"");if(!(!n||!i))try{await fetch(`/api/sites/${encodeURIComponent(i)}/ai/proposal/${n}`,{method:"DELETE"});let g=document.querySelector(`[data-proposal-id="${n}"]`);g&&(g.innerHTML=`
          <div class="w-8 h-8 rounded-full bg-slate-400 flex-shrink-0 flex items-center justify-center">
            <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
            </svg>
          </div>
          <div class="flex-1 bg-slate-100 rounded-2xl rounded-tl-none p-3">
            <p class="text-sm text-slate-500">Proposition rejet\xE9e.</p>
          </div>
        `)}catch(g){console.error("[AI] Reject edit error:",g)}}async function Lr(){let s=Te(X.slug||"");if(!(!s||!Le))try{await fetch(`/api/sites/${encodeURIComponent(s)}/ai/history`,{method:"DELETE"}),Le.innerHTML="",Le.innerHTML=`
        <div class="flex gap-3" data-ai-welcome>
          <div class="w-8 h-8 rounded-full bg-gradient-to-br from-violet-500 to-indigo-600 flex-shrink-0 flex items-center justify-center">
            <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
            </svg>
          </div>
          <div class="flex-1 bg-slate-50 rounded-2xl rounded-tl-none p-3">
            <p class="text-sm text-slate-700">
              Salut ! \u{1F44B} Je suis ton assistant IA pour ce site. Je peux t'aider \xE0 :
            </p>
            <ul class="mt-2 text-sm text-slate-600 space-y-1">
              <li>\u{1F3A8} Sugg\xE9rer des palettes de couleurs</li>
              <li>\u270D\uFE0F G\xE9n\xE9rer du contenu pour tes blocs</li>
              <li>\u{1F4C4} Cr\xE9er des structures de pages</li>
              <li>\u{1F50D} Am\xE9liorer ton SEO</li>
              <li>\u270F\uFE0F <strong>Analyser et modifier tes pages</strong> (avec validation)</li>
            </ul>
          </div>
        </div>
      `,P("Historique effac\xE9")}catch(n){console.error("[AI] Clear history failed:",n),P("Erreur lors de l'effacement")}}let kr={colors:"Sugg\xE8re-moi 3 palettes de couleurs harmonieuses pour mon site. Pour chaque palette, donne les couleurs Tailwind: primary, secondary, accent, et background.",hero:"G\xE9n\xE8re un bloc Hero en JSON avec un titre accrocheur, un sous-titre engageant et un CTA.",seo:"Analyse mon site et sugg\xE8re des am\xE9liorations SEO pour le meta title et la meta description de ma page d'accueil.",landing:"G\xE9n\xE8re la structure JSON d'une landing page compl\xE8te avec: Hero, 3 sections de contenu, et un CTA final.",analyze:"Analyse le contenu de toutes mes pages et propose des am\xE9liorations concr\xE8tes. Pour chaque suggestion d'am\xE9lioration de texte ou de structure, utilise le format propose-edit pour que je puisse valider.",improveHome:"Analyse ma page d'accueil et propose une am\xE9lioration du titre ou du Hero pour le rendre plus impactant. Utilise le format propose-edit."};To==null||To.addEventListener("click",()=>{eo?to():fr()}),$o==null||$o.addEventListener("click",to),rt==null||rt.addEventListener("click",to),Io==null||Io.addEventListener("click",()=>{confirm("Effacer tout l'historique de conversation ?")&&Lr()}),Bo==null||Bo.addEventListener("submit",s=>{var i;s.preventDefault();let n=(i=Bt==null?void 0:Bt.value)==null?void 0:i.trim();n&&(Bt.value="",fn(n))}),ur.forEach(s=>{s.addEventListener("click",()=>{let n=s.dataset.aiQuick,i=kr[n];i&&fn(i)})}),document.addEventListener("keydown",s=>{s.key==="Escape"&&eo&&to()})});})();
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vY29yZS9zY3JpcHRzL2FkbWluLmpzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuICBjb25zb2xlLmxvZygnW2FkbWluXSBBdGVsaWVyIGNoYXJnXHUwMEU5Jyk7XG4gIGNvbnN0IGxvZ291dEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWxvZ291dF0nKTtcbiAgaWYgKGxvZ291dEJ1dHRvbikge1xuICAgIGxvZ291dEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGxvZ291dEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBmZXRjaCgnL2FwaS9sb2dvdXQnLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbYWRtaW5dIEltcG9zc2libGUgZGUgc2UgZFx1MDBFOWNvbm5lY3RlcicsIGVycik7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvYWRtaW4vaW5kZXguaHRtbCc7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBjb25zdCBzaWRlYmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRtaW4tc2lkZWJhcl0nKTtcbiAgY29uc3Qgc2lkZWJhck92ZXJsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZG1pbi1zaWRlYmFyLW92ZXJsYXldJyk7XG4gIGNvbnN0IHNpZGViYXJUb2dnbGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYWRtaW4tc2lkZWJhci10b2dnbGVdJyk7XG4gIGNvbnN0IHNpZGViYXJDbG9zZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1hZG1pbi1zaWRlYmFyLWNsb3NlXScpO1xuICBjb25zdCBib2R5ID0gZG9jdW1lbnQuYm9keTtcbiAgbGV0IHNpZGViYXJPcGVuID0gZmFsc2U7XG5cbiAgY29uc3QgYXBwbHlTaWRlYmFyU3RhdGUgPSAoKSA9PiB7XG4gICAgaWYgKCFzaWRlYmFyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGlzRGVza3RvcCA9IHdpbmRvdy5tYXRjaE1lZGlhKCcobWluLXdpZHRoOiAxMDI0cHgpJykubWF0Y2hlcztcbiAgICBpZiAoaXNEZXNrdG9wKSB7XG4gICAgICBzaWRlYmFyLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgc2lkZWJhck92ZXJsYXk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHNpZGViYXJPcGVuKSB7XG4gICAgICBzaWRlYmFyLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgc2lkZWJhck92ZXJsYXk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgYm9keS5jbGFzc0xpc3QuYWRkKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2lkZWJhci5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIHNpZGViYXJPdmVybGF5Py5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnb3ZlcmZsb3ctaGlkZGVuJyk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IG9wZW5TaWRlYmFyID0gKCkgPT4ge1xuICAgIHNpZGViYXJPcGVuID0gdHJ1ZTtcbiAgICBhcHBseVNpZGViYXJTdGF0ZSgpO1xuICB9O1xuXG4gIGNvbnN0IGNsb3NlU2lkZWJhciA9ICgpID0+IHtcbiAgICBzaWRlYmFyT3BlbiA9IGZhbHNlO1xuICAgIGFwcGx5U2lkZWJhclN0YXRlKCk7XG4gIH07XG5cbiAgaWYgKHNpZGViYXIgJiYgc2lkZWJhclRvZ2dsZXMubGVuZ3RoID4gMCkge1xuICAgIHNpZGViYXJUb2dnbGVzLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlblNpZGViYXIpO1xuICAgIH0pO1xuICAgIHNpZGViYXJDbG9zZUJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZVNpZGViYXIpO1xuICAgIH0pO1xuICAgIHNpZGViYXJPdmVybGF5Py5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlU2lkZWJhcik7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGFwcGx5U2lkZWJhclN0YXRlKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VzY2FwZScgJiYgc2lkZWJhck9wZW4pIHtcbiAgICAgICAgY2xvc2VTaWRlYmFyKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgYXBwbHlTaWRlYmFyU3RhdGUoKTtcbiAgfVxuXG4gIGNvbnN0IEFDVElWRV9TSVRFX0tFWSA9ICdjbG93ZXI6Y3VycmVudFNpdGUnO1xuICBjb25zdCBBQ1RJVkVfU0lURV9OQU1FX0tFWSA9ICdjbG93ZXI6Y3VycmVudFNpdGVOYW1lJztcbiAgY29uc3Qgc3RvcmVkU2l0ZSA9IHsgc2x1ZzogbnVsbCwgbmFtZTogJycgfTtcbiAgY29uc3QgbG9hZFN0b3JlZFNpdGUgPSAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJhd1NsdWcgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oQUNUSVZFX1NJVEVfS0VZKTtcbiAgICAgIHN0b3JlZFNpdGUuc2x1ZyA9IHJhd1NsdWcgPyBlbnN1cmVMZWFkaW5nU2xhc2goc3RyaXBMZWFkaW5nU2xhc2gocmF3U2x1ZykpIDogbnVsbDtcbiAgICAgIHN0b3JlZFNpdGUubmFtZSA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShBQ1RJVkVfU0lURV9OQU1FX0tFWSkgfHwgJyc7XG4gICAgfSBjYXRjaCB7XG4gICAgICBzdG9yZWRTaXRlLnNsdWcgPSBudWxsO1xuICAgICAgc3RvcmVkU2l0ZS5uYW1lID0gJyc7XG4gICAgfVxuICB9O1xuICBsb2FkU3RvcmVkU2l0ZSgpO1xuXG4gIGNvbnN0IHNpdGVDYXJkcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXNpdGUtY2FyZF0nKTtcbiAgY29uc3Qgc2l0ZVNlbGVjdEJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1zaXRlLXNlbGVjdF0nKTtcbiAgY29uc3Qgc2l0ZU5hbWVMYWJlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWN1cnJlbnQtc2l0ZS1uYW1lXScpO1xuICBjb25zdCB3b3Jrc3BhY2VTaXRlTGFiZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS13b3Jrc3BhY2Utc2l0ZS1uYW1lXScpO1xuICBjb25zdCB3b3Jrc3BhY2VCYWNrTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXdvcmtzcGFjZS1iYWNrLW5hbWVdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZUJhY2tNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXdvcmtzcGFjZS1iYWNrLW1vZGFsXScpO1xuICBjb25zdCB3b3Jrc3BhY2VCYWNrQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXdvcmtzcGFjZS1iYWNrXScpO1xuICBjb25zdCB3b3Jrc3BhY2VCYWNrQ2FuY2VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtd29ya3NwYWNlLWJhY2stY2FuY2VsXScpO1xuICBjb25zdCB3b3Jrc3BhY2VCYWNrQ29uZmlybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXdvcmtzcGFjZS1iYWNrLWNvbmZpcm1dJyk7XG4gIGNvbnN0IHdvcmtzcGFjZU5hdkxpbmtzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtd29ya3NwYWNlLXRhYl0nKTtcbiAgY29uc3Qgc2l0ZVRvYXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS10b2FzdF0nKTtcbiAgY29uc3Qgc2l0ZVRvYXN0TWVzc2FnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtdG9hc3QtbWVzc2FnZV0nKTtcbiAgY29uc3Qgc2l0ZUNyZWF0ZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1zaXRlLWNyZWF0ZV0nKTtcbiAgY29uc3Qgc2l0ZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS1tb2RhbF0nKTtcbiAgY29uc3Qgc2l0ZUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLWZvcm1dJyk7XG4gIC8vIFVzZSBtb3JlIHNwZWNpZmljIHNlbGVjdG9ycyB0byBnZXQgaW5wdXRzIElOU0lERSB0aGUgZm9ybSwgbm90IHNpdGUgY2FyZHNcbiAgY29uc3Qgc2l0ZU5hbWVJbnB1dCA9IHNpdGVGb3JtPy5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPVwic2l0ZU5hbWVcIl0nKTtcbiAgY29uc3Qgc2l0ZVNsdWdJbnB1dCA9IHNpdGVGb3JtPy5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPVwic2l0ZVNsdWdcIl0nKTtcbiAgY29uc3Qgc2l0ZVNsdWdFcnJvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtc2x1Zy1lcnJvcl0nKTtcbiAgY29uc3Qgc2l0ZU1vZGFsRXJyb3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLW1vZGFsLWVycm9yXScpO1xuICBjb25zdCBzaXRlTW9kYWxDYW5jZWxCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtc2l0ZS1tb2RhbC1jYW5jZWxdJyk7XG4gIGNvbnN0IHNpdGVNb2RhbFN1Ym1pdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtbW9kYWwtc3VibWl0XScpO1xuICBjb25zdCB3b3Jrc3BhY2VDb250ZXh0ID0gZ2V0V29ya3NwYWNlQ29udGV4dCgpO1xuICBsZXQgc2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gIGxldCB0b2FzdFRpbWVvdXRJZCA9IG51bGw7XG5cbiAgY29uc3QgZm9jdXNhYmxlU2VsZWN0b3IgPVxuICAgICdhW2hyZWZdLCBidXR0b246bm90KFtkaXNhYmxlZF0pLCB0ZXh0YXJlYSwgaW5wdXQsIHNlbGVjdCwgW3RhYmluZGV4XTpub3QoW3RhYmluZGV4PVwiLTFcIl0pJztcbiAgY29uc3QgbW9kYWxTdGFjayA9IFtdO1xuICBjb25zdCBnZXRGb2N1c2FibGVFbGVtZW50cyA9IChtb2RhbCkgPT5cbiAgICBBcnJheS5mcm9tKG1vZGFsLnF1ZXJ5U2VsZWN0b3JBbGwoZm9jdXNhYmxlU2VsZWN0b3IpKS5maWx0ZXIoXG4gICAgICAoZWwpID0+ICFlbC5oYXNBdHRyaWJ1dGUoJ2Rpc2FibGVkJykgJiYgIWVsLmdldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nKSxcbiAgICApO1xuICBjb25zdCBoYW5kbGVNb2RhbEtleWRvd24gPSAoZXZlbnQpID0+IHtcbiAgICBpZiAoIW1vZGFsU3RhY2subGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGN1cnJlbnRFbnRyeSA9IG1vZGFsU3RhY2tbbW9kYWxTdGFjay5sZW5ndGggLSAxXTtcbiAgICBjb25zdCB7IG1vZGFsLCBvbkNsb3NlIH0gPSBjdXJyZW50RW50cnk7XG4gICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBvbkNsb3NlPy4oKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGV2ZW50LmtleSAhPT0gJ1RhYicpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZm9jdXNhYmxlRWxlbWVudHMgPSBnZXRGb2N1c2FibGVFbGVtZW50cyhtb2RhbCk7XG4gICAgaWYgKCFmb2N1c2FibGVFbGVtZW50cy5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZmlyc3QgPSBmb2N1c2FibGVFbGVtZW50c1swXTtcbiAgICBjb25zdCBsYXN0ID0gZm9jdXNhYmxlRWxlbWVudHNbZm9jdXNhYmxlRWxlbWVudHMubGVuZ3RoIC0gMV07XG4gICAgaWYgKGV2ZW50LnNoaWZ0S2V5KSB7XG4gICAgICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gZmlyc3QpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgbGFzdC5mb2N1cygpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gbGFzdCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGZpcnN0LmZvY3VzKCk7XG4gICAgfVxuICB9O1xuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlTW9kYWxLZXlkb3duKTtcbiAgY29uc3QgYWN0aXZhdGVNb2RhbCA9IChtb2RhbCwgb25DbG9zZSkgPT4ge1xuICAgIGlmICghbW9kYWwpIHJldHVybjtcbiAgICBtb2RhbFN0YWNrLnB1c2goe1xuICAgICAgbW9kYWwsXG4gICAgICBvbkNsb3NlLFxuICAgICAgdHJpZ2dlcjogZG9jdW1lbnQuYWN0aXZlRWxlbWVudCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ID8gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA6IG51bGwsXG4gICAgfSk7XG4gICAgY29uc3QgZm9jdXNhYmxlID0gZ2V0Rm9jdXNhYmxlRWxlbWVudHMobW9kYWwpO1xuICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIChmb2N1c2FibGVbMF0gfHwgbW9kYWwpLmZvY3VzPy4oKTtcbiAgICB9LCAwKTtcbiAgfTtcbiAgY29uc3QgZGVhY3RpdmF0ZU1vZGFsID0gKG1vZGFsKSA9PiB7XG4gICAgY29uc3QgaW5kZXggPSBtb2RhbFN0YWNrLmZpbmRJbmRleCgoZW50cnkpID0+IGVudHJ5Lm1vZGFsID09PSBtb2RhbCk7XG4gICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBbZW50cnldID0gbW9kYWxTdGFjay5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIGVudHJ5LnRyaWdnZXI/LmZvY3VzPy4oKTtcbiAgfTtcbiAgY29uc3QgbW9iaWxlUGFuZWxPdmVybGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbW9iaWxlLXBhbmVscy1vdmVybGF5XScpO1xuICBjb25zdCBtb2JpbGVQYW5lbExheWVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbW9iaWxlLXBhbmVscy1sYXllcl0nKTtcbiAgY29uc3QgbW9iaWxlUGFuZWxzID0ge1xuICAgIGxlZnQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1vYmlsZS1wYW5lbD1cImxlZnRcIl0nKSxcbiAgICByaWdodDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbW9iaWxlLXBhbmVsPVwicmlnaHRcIl0nKSxcbiAgfTtcbiAgbGV0IG1vYmlsZVBhbmVsTGF5ZXJQbGFjZWhvbGRlciA9IG51bGw7XG4gIGlmIChtb2JpbGVQYW5lbExheWVyPy5wYXJlbnRFbGVtZW50KSB7XG4gICAgbW9iaWxlUGFuZWxMYXllclBsYWNlaG9sZGVyID0gZG9jdW1lbnQuY3JlYXRlQ29tbWVudCgnbW9iaWxlLXBhbmVscy1sYXllci1wbGFjZWhvbGRlcicpO1xuICAgIG1vYmlsZVBhbmVsTGF5ZXIucGFyZW50RWxlbWVudC5pbnNlcnRCZWZvcmUobW9iaWxlUGFuZWxMYXllclBsYWNlaG9sZGVyLCBtb2JpbGVQYW5lbExheWVyKTtcbiAgfVxuICBsZXQgcmlnaHRQYW5lbFBsYWNlaG9sZGVyID0gbnVsbDtcbiAgaWYgKG1vYmlsZVBhbmVscy5yaWdodD8ucGFyZW50RWxlbWVudCkge1xuICAgIHJpZ2h0UGFuZWxQbGFjZWhvbGRlciA9IGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoJ21vYmlsZS1wYW5lbC1yaWdodC1wbGFjZWhvbGRlcicpO1xuICAgIG1vYmlsZVBhbmVscy5yaWdodC5wYXJlbnRFbGVtZW50Lmluc2VydEJlZm9yZShyaWdodFBhbmVsUGxhY2Vob2xkZXIsIG1vYmlsZVBhbmVscy5yaWdodCk7XG4gIH1cbiAgY29uc3QgbW9iaWxlUGFuZWxUb2dnbGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtbW9iaWxlLXBhbmVsLXRvZ2dsZV0nKTtcbiAgY29uc3QgbW9iaWxlUGFuZWxDbG9zZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1tb2JpbGUtcGFuZWwtY2xvc2VdJyk7XG4gIGNvbnN0IG1vYmlsZVBhbmVsVHJpZ2dlcnMgPSB7IGxlZnQ6IG51bGwsIHJpZ2h0OiBudWxsIH07XG4gIGxldCBhY3RpdmVNb2JpbGVQYW5lbCA9IG51bGw7XG4gIGNvbnN0IGlzRGVza3RvcFZpZXdwb3J0ID0gKCkgPT4gd2luZG93Lm1hdGNoTWVkaWEoJyhtaW4td2lkdGg6IDEwMjRweCknKS5tYXRjaGVzO1xuICBjb25zdCBlbnN1cmVNb2JpbGVQYW5lbExheWVyUGxhY2VtZW50ID0gKCkgPT4ge1xuICAgIGlmICghbW9iaWxlUGFuZWxMYXllciB8fCAhbW9iaWxlUGFuZWxMYXllclBsYWNlaG9sZGVyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChpc0Rlc2t0b3BWaWV3cG9ydCgpKSB7XG4gICAgICBjb25zdCB0YXJnZXRQYXJlbnQgPSBtb2JpbGVQYW5lbExheWVyUGxhY2Vob2xkZXIucGFyZW50RWxlbWVudDtcbiAgICAgIGlmICghdGFyZ2V0UGFyZW50KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChtb2JpbGVQYW5lbExheWVyLnBhcmVudEVsZW1lbnQgIT09IHRhcmdldFBhcmVudCkge1xuICAgICAgICB0YXJnZXRQYXJlbnQuaW5zZXJ0QmVmb3JlKG1vYmlsZVBhbmVsTGF5ZXIsIG1vYmlsZVBhbmVsTGF5ZXJQbGFjZWhvbGRlci5uZXh0U2libGluZyk7XG4gICAgICB9IGVsc2UgaWYgKG1vYmlsZVBhbmVsTGF5ZXJQbGFjZWhvbGRlci5uZXh0U2libGluZyAhPT0gbW9iaWxlUGFuZWxMYXllcikge1xuICAgICAgICB0YXJnZXRQYXJlbnQuaW5zZXJ0QmVmb3JlKG1vYmlsZVBhbmVsTGF5ZXIsIG1vYmlsZVBhbmVsTGF5ZXJQbGFjZWhvbGRlci5uZXh0U2libGluZyk7XG4gICAgICB9XG4gICAgICBtb2JpbGVQYW5lbExheWVyLmRhdGFzZXQubW9iaWxlUGFuZWxQbGFjZW1lbnQgPSAnc2lkZWJhcic7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChtb2JpbGVQYW5lbExheWVyLnBhcmVudEVsZW1lbnQgIT09IGRvY3VtZW50LmJvZHkpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobW9iaWxlUGFuZWxMYXllcik7XG4gICAgICBtb2JpbGVQYW5lbExheWVyLmRhdGFzZXQubW9iaWxlUGFuZWxQbGFjZW1lbnQgPSAnb3ZlcmxheSc7XG4gICAgfVxuICB9O1xuICBjb25zdCBlbnN1cmVSaWdodFBhbmVsUGxhY2VtZW50ID0gKCkgPT4ge1xuICAgIGNvbnN0IHBhbmVsID0gbW9iaWxlUGFuZWxzLnJpZ2h0O1xuICAgIGlmICghcGFuZWwgfHwgIXJpZ2h0UGFuZWxQbGFjZWhvbGRlcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoaXNEZXNrdG9wVmlld3BvcnQoKSkge1xuICAgICAgY29uc3QgdGFyZ2V0UGFyZW50ID0gcmlnaHRQYW5lbFBsYWNlaG9sZGVyLnBhcmVudEVsZW1lbnQ7XG4gICAgICBpZiAoIXRhcmdldFBhcmVudCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAocGFuZWwucGFyZW50RWxlbWVudCAhPT0gdGFyZ2V0UGFyZW50KSB7XG4gICAgICAgIHRhcmdldFBhcmVudC5pbnNlcnRCZWZvcmUocGFuZWwsIHJpZ2h0UGFuZWxQbGFjZWhvbGRlci5uZXh0U2libGluZyk7XG4gICAgICB9IGVsc2UgaWYgKHJpZ2h0UGFuZWxQbGFjZWhvbGRlci5uZXh0U2libGluZyAhPT0gcGFuZWwpIHtcbiAgICAgICAgdGFyZ2V0UGFyZW50Lmluc2VydEJlZm9yZShwYW5lbCwgcmlnaHRQYW5lbFBsYWNlaG9sZGVyLm5leHRTaWJsaW5nKTtcbiAgICAgIH1cbiAgICAgIHBhbmVsLmRhdGFzZXQubW9iaWxlUGFuZWxQbGFjZW1lbnQgPSAnc2lkZWJhcic7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChtb2JpbGVQYW5lbExheWVyKSB7XG4gICAgICBjb25zdCBsZWZ0UGFuZWwgPSBtb2JpbGVQYW5lbHMubGVmdDtcbiAgICAgIGlmIChsZWZ0UGFuZWwgJiYgbGVmdFBhbmVsLnBhcmVudEVsZW1lbnQgPT09IG1vYmlsZVBhbmVsTGF5ZXIpIHtcbiAgICAgICAgaWYgKHBhbmVsLnBhcmVudEVsZW1lbnQgIT09IG1vYmlsZVBhbmVsTGF5ZXIgfHwgcGFuZWwucHJldmlvdXNTaWJsaW5nICE9PSBsZWZ0UGFuZWwpIHtcbiAgICAgICAgICBtb2JpbGVQYW5lbExheWVyLmluc2VydEJlZm9yZShwYW5lbCwgbGVmdFBhbmVsLm5leHRTaWJsaW5nKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChwYW5lbC5wYXJlbnRFbGVtZW50ICE9PSBtb2JpbGVQYW5lbExheWVyKSB7XG4gICAgICAgIG1vYmlsZVBhbmVsTGF5ZXIuYXBwZW5kQ2hpbGQocGFuZWwpO1xuICAgICAgfVxuICAgICAgcGFuZWwuZGF0YXNldC5tb2JpbGVQYW5lbFBsYWNlbWVudCA9ICdvdmVybGF5JztcbiAgICB9IGVsc2UgaWYgKHBhbmVsLnBhcmVudEVsZW1lbnQgIT09IGRvY3VtZW50LmJvZHkpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQocGFuZWwpO1xuICAgICAgcGFuZWwuZGF0YXNldC5tb2JpbGVQYW5lbFBsYWNlbWVudCA9ICdvdmVybGF5JztcbiAgICB9XG4gIH07XG4gIGNvbnN0IGVuc3VyZU1vYmlsZVBhbmVsUGxhY2VtZW50ID0gKCkgPT4ge1xuICAgIGVuc3VyZU1vYmlsZVBhbmVsTGF5ZXJQbGFjZW1lbnQoKTtcbiAgICBlbnN1cmVSaWdodFBhbmVsUGxhY2VtZW50KCk7XG4gIH07XG4gIGVuc3VyZU1vYmlsZVBhbmVsUGxhY2VtZW50KCk7XG4gIGNvbnN0IHBhbmVsRGVmYXVsdFogPSB7fTtcbiAgT2JqZWN0LmVudHJpZXMobW9iaWxlUGFuZWxzKS5mb3JFYWNoKChbc2lkZSwgcGFuZWxdKSA9PiB7XG4gICAgaWYgKCFwYW5lbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBjb21wdXRlZFogPSBOdW1iZXIod2luZG93LmdldENvbXB1dGVkU3R5bGUocGFuZWwpLnpJbmRleCkgfHwgMDtcbiAgICBwYW5lbERlZmF1bHRaW3NpZGVdID0gY29tcHV0ZWRaO1xuICB9KTtcbiAgY29uc3QgbWF4RGVmYXVsdFogPVxuICAgIE9iamVjdC52YWx1ZXMocGFuZWxEZWZhdWx0WikucmVkdWNlKChtYXgsIHZhbHVlKSA9PiBNYXRoLm1heChtYXgsIHZhbHVlIHx8IDApLCAwKSB8fCAxNTA7XG4gIGNvbnN0IGFjdGl2ZVBhbmVsWiA9IG1heERlZmF1bHRaICsgNTtcbiAgY29uc3Qgc2V0UGFuZWxaU3RhdGUgPSAoc2lkZSwgaXNBY3RpdmUpID0+IHtcbiAgICBjb25zdCBwYW5lbCA9IG1vYmlsZVBhbmVsc1tzaWRlXTtcbiAgICBpZiAoIXBhbmVsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChpc0Rlc2t0b3BWaWV3cG9ydCgpKSB7XG4gICAgICBwYW5lbC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnei1pbmRleCcpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoaXNBY3RpdmUpIHtcbiAgICAgIHBhbmVsLnN0eWxlLnpJbmRleCA9IFN0cmluZyhhY3RpdmVQYW5lbFopO1xuICAgIH0gZWxzZSBpZiAocGFuZWxEZWZhdWx0WltzaWRlXSkge1xuICAgICAgcGFuZWwuc3R5bGUuekluZGV4ID0gU3RyaW5nKHBhbmVsRGVmYXVsdFpbc2lkZV0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBwYW5lbC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnei1pbmRleCcpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgYXBwbHlQYW5lbENsYXNzZXMgPSAocGFuZWwsIGNsYXNzZXMsIG1ldGhvZCkgPT4ge1xuICAgIGlmICghcGFuZWwgfHwgIWNsYXNzZXMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY2xhc3Nlc1xuICAgICAgLnNwbGl0KCcgJylcbiAgICAgIC5tYXAoKGNscykgPT4gY2xzLnRyaW0oKSlcbiAgICAgIC5maWx0ZXIoQm9vbGVhbilcbiAgICAgIC5mb3JFYWNoKChjbHMpID0+IHBhbmVsLmNsYXNzTGlzdFttZXRob2RdKGNscykpO1xuICB9O1xuICBjb25zdCBzZXRQYW5lbEhpZGRlblN0YXRlID0gKHBhbmVsLCBoaWRkZW4pID0+IHtcbiAgICBpZiAoIXBhbmVsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGhpZGRlbkNsYXNzZXMgPSBwYW5lbC5kYXRhc2V0Lm1vYmlsZVBhbmVsSGlkZGVuIHx8ICcnO1xuICAgIGNvbnN0IHZpc2libGVDbGFzc2VzID0gcGFuZWwuZGF0YXNldC5tb2JpbGVQYW5lbFZpc2libGUgfHwgJ3RyYW5zbGF0ZS14LTAnO1xuICAgIGlmIChoaWRkZW4pIHtcbiAgICAgIGFwcGx5UGFuZWxDbGFzc2VzKHBhbmVsLCB2aXNpYmxlQ2xhc3NlcywgJ3JlbW92ZScpO1xuICAgICAgYXBwbHlQYW5lbENsYXNzZXMocGFuZWwsIGhpZGRlbkNsYXNzZXMsICdhZGQnKTtcbiAgICAgIHBhbmVsLmNsYXNzTGlzdC5hZGQoJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICAgIHBhbmVsLmNsYXNzTGlzdC5yZW1vdmUoJ3BvaW50ZXItZXZlbnRzLWF1dG8nKTtcbiAgICAgIHBhbmVsLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuICAgICAgcGFuZWwuZGF0YXNldC5tb2JpbGVQYW5lbE9wZW4gPSAnZmFsc2UnO1xuICAgIH0gZWxzZSB7XG4gICAgICBhcHBseVBhbmVsQ2xhc3NlcyhwYW5lbCwgaGlkZGVuQ2xhc3NlcywgJ3JlbW92ZScpO1xuICAgICAgYXBwbHlQYW5lbENsYXNzZXMocGFuZWwsIHZpc2libGVDbGFzc2VzLCAnYWRkJyk7XG4gICAgICBwYW5lbC5jbGFzc0xpc3QucmVtb3ZlKCdwb2ludGVyLWV2ZW50cy1ub25lJyk7XG4gICAgICBwYW5lbC5jbGFzc0xpc3QuYWRkKCdwb2ludGVyLWV2ZW50cy1hdXRvJyk7XG4gICAgICBwYW5lbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ2ZhbHNlJyk7XG4gICAgICBwYW5lbC5kYXRhc2V0Lm1vYmlsZVBhbmVsT3BlbiA9ICd0cnVlJztcbiAgICB9XG4gIH07XG4gIGNvbnN0IGNsb3NlTW9iaWxlUGFuZWwgPSAoc2lkZSA9IGFjdGl2ZU1vYmlsZVBhbmVsKSA9PiB7XG4gICAgaWYgKCFzaWRlIHx8IGlzRGVza3RvcFZpZXdwb3J0KCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcGFuZWwgPSBtb2JpbGVQYW5lbHNbc2lkZV07XG4gICAgaWYgKCFwYW5lbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzZXRQYW5lbFpTdGF0ZShzaWRlLCBmYWxzZSk7XG4gICAgc2V0UGFuZWxIaWRkZW5TdGF0ZShwYW5lbCwgdHJ1ZSk7XG4gICAgY29uc3QgdHJpZ2dlciA9IG1vYmlsZVBhbmVsVHJpZ2dlcnNbc2lkZV07XG4gICAgaWYgKHRyaWdnZXIpIHtcbiAgICAgIHRyaWdnZXIuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJyk7XG4gICAgfVxuICAgIG1vYmlsZVBhbmVsVHJpZ2dlcnNbc2lkZV0gPSBudWxsO1xuICAgIGlmIChhY3RpdmVNb2JpbGVQYW5lbCA9PT0gc2lkZSkge1xuICAgICAgbW9iaWxlUGFuZWxPdmVybGF5Py5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIG1vYmlsZVBhbmVsT3ZlcmxheT8uY2xhc3NMaXN0LnJlbW92ZSgncG9pbnRlci1ldmVudHMtYXV0bycpO1xuICAgICAgbW9iaWxlUGFuZWxPdmVybGF5Py5jbGFzc0xpc3QuYWRkKCdwb2ludGVyLWV2ZW50cy1ub25lJyk7XG4gICAgICBtb2JpbGVQYW5lbE92ZXJsYXk/LnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuICAgICAgbW9iaWxlUGFuZWxMYXllcj8uY2xhc3NMaXN0LmFkZCgncG9pbnRlci1ldmVudHMtbm9uZScpO1xuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICAgIHRyaWdnZXI/LmZvY3VzPy4oKTtcbiAgICAgIGFjdGl2ZU1vYmlsZVBhbmVsID0gbnVsbDtcbiAgICB9XG4gIH07XG4gIGNvbnN0IG9wZW5Nb2JpbGVQYW5lbCA9IChzaWRlLCB0cmlnZ2VyKSA9PiB7XG4gICAgaWYgKCFzaWRlIHx8IGlzRGVza3RvcFZpZXdwb3J0KCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcGFuZWwgPSBtb2JpbGVQYW5lbHNbc2lkZV07XG4gICAgaWYgKCFwYW5lbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoYWN0aXZlTW9iaWxlUGFuZWwgJiYgYWN0aXZlTW9iaWxlUGFuZWwgIT09IHNpZGUpIHtcbiAgICAgIGNsb3NlTW9iaWxlUGFuZWwoYWN0aXZlTW9iaWxlUGFuZWwpO1xuICAgIH1cbiAgICBzZXRQYW5lbEhpZGRlblN0YXRlKHBhbmVsLCBmYWxzZSk7XG4gICAgc2V0UGFuZWxaU3RhdGUoc2lkZSwgdHJ1ZSk7XG4gICAgYWN0aXZlTW9iaWxlUGFuZWwgPSBzaWRlO1xuICAgIG1vYmlsZVBhbmVsVHJpZ2dlcnNbc2lkZV0gPSB0cmlnZ2VyIHx8IG51bGw7XG4gICAgaWYgKHRyaWdnZXIpIHtcbiAgICAgIHRyaWdnZXIuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ3RydWUnKTtcbiAgICB9XG4gICAgbW9iaWxlUGFuZWxPdmVybGF5Py5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nLCAncG9pbnRlci1ldmVudHMtbm9uZScpO1xuICAgIG1vYmlsZVBhbmVsT3ZlcmxheT8uY2xhc3NMaXN0LmFkZCgncG9pbnRlci1ldmVudHMtYXV0bycpO1xuICAgIG1vYmlsZVBhbmVsT3ZlcmxheT8uc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICdmYWxzZScpO1xuICAgIG1vYmlsZVBhbmVsTGF5ZXI/LmNsYXNzTGlzdC5yZW1vdmUoJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ292ZXJmbG93LWhpZGRlbicpO1xuICAgIGNvbnN0IGZvY3VzVGFyZ2V0ID0gcGFuZWwucXVlcnlTZWxlY3Rvcihmb2N1c2FibGVTZWxlY3Rvcik7XG4gICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgZm9jdXNUYXJnZXQ/LmZvY3VzPy4oKTtcbiAgICB9LCAwKTtcbiAgfTtcbiAgY29uc3Qgc3luY01vYmlsZVBhbmVsc1dpdGhWaWV3cG9ydCA9ICgpID0+IHtcbiAgICBlbnN1cmVNb2JpbGVQYW5lbFBsYWNlbWVudCgpO1xuICAgIGlmIChpc0Rlc2t0b3BWaWV3cG9ydCgpKSB7XG4gICAgICBtb2JpbGVQYW5lbE92ZXJsYXk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgbW9iaWxlUGFuZWxMYXllcj8uY2xhc3NMaXN0LmFkZCgncG9pbnRlci1ldmVudHMtbm9uZScpO1xuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICAgIGFjdGl2ZU1vYmlsZVBhbmVsID0gbnVsbDtcbiAgICAgIE9iamVjdC5rZXlzKG1vYmlsZVBhbmVscykuZm9yRWFjaCgoc2lkZSkgPT4ge1xuICAgICAgICBjb25zdCBwYW5lbCA9IG1vYmlsZVBhbmVsc1tzaWRlXTtcbiAgICAgICAgaWYgKCFwYW5lbCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzZXRQYW5lbFpTdGF0ZShzaWRlLCBmYWxzZSk7XG4gICAgICAgIHBhbmVsLmNsYXNzTGlzdC5yZW1vdmUoJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICAgICAgcGFuZWwuY2xhc3NMaXN0LmFkZCgncG9pbnRlci1ldmVudHMtYXV0bycpO1xuICAgICAgICBwYW5lbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ2ZhbHNlJyk7XG4gICAgICAgIHBhbmVsLmRhdGFzZXQubW9iaWxlUGFuZWxPcGVuID0gJ2ZhbHNlJztcbiAgICAgICAgY29uc3QgdHJpZ2dlciA9IG1vYmlsZVBhbmVsVHJpZ2dlcnNbc2lkZV07XG4gICAgICAgIHRyaWdnZXI/LnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsICdmYWxzZScpO1xuICAgICAgICBtb2JpbGVQYW5lbFRyaWdnZXJzW3NpZGVdID0gbnVsbDtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBPYmplY3QuZW50cmllcyhtb2JpbGVQYW5lbHMpLmZvckVhY2goKFtzaWRlLCBwYW5lbF0pID0+IHtcbiAgICAgICAgaWYgKCFwYW5lbCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFuZWwuZGF0YXNldC5tb2JpbGVQYW5lbE9wZW4gIT09ICd0cnVlJykge1xuICAgICAgICAgIHNldFBhbmVsSGlkZGVuU3RhdGUocGFuZWwsIHRydWUpO1xuICAgICAgICAgIHNldFBhbmVsWlN0YXRlKHNpZGUsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoIWFjdGl2ZU1vYmlsZVBhbmVsKSB7XG4gICAgICAgIG1vYmlsZVBhbmVsT3ZlcmxheT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJywgJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICAgICAgbW9iaWxlUGFuZWxPdmVybGF5Py5jbGFzc0xpc3QucmVtb3ZlKCdwb2ludGVyLWV2ZW50cy1hdXRvJyk7XG4gICAgICAgIG1vYmlsZVBhbmVsT3ZlcmxheT8uc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJyk7XG4gICAgICAgIG1vYmlsZVBhbmVsTGF5ZXI/LmNsYXNzTGlzdC5hZGQoJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIGlmIChtb2JpbGVQYW5lbFRvZ2dsZXMubGVuZ3RoID4gMCkge1xuICAgIG1vYmlsZVBhbmVsVG9nZ2xlcy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICAgIGNvbnN0IHNpZGUgPSBidXR0b24uZGF0YXNldC5tb2JpbGVQYW5lbFRvZ2dsZTtcbiAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgaWYgKGFjdGl2ZU1vYmlsZVBhbmVsID09PSBzaWRlKSB7XG4gICAgICAgICAgY2xvc2VNb2JpbGVQYW5lbChzaWRlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvcGVuTW9iaWxlUGFuZWwoc2lkZSwgYnV0dG9uKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgbW9iaWxlUGFuZWxDbG9zZUJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICBjb25zdCBzaWRlID0gYnV0dG9uLmRhdGFzZXQubW9iaWxlUGFuZWxDbG9zZTtcbiAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGNsb3NlTW9iaWxlUGFuZWwoc2lkZSkpO1xuICAgIH0pO1xuICAgIG1vYmlsZVBhbmVsT3ZlcmxheT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBjbG9zZU1vYmlsZVBhbmVsKCkpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQua2V5ID09PSAnRXNjYXBlJyAmJiBhY3RpdmVNb2JpbGVQYW5lbCAmJiAhaXNEZXNrdG9wVmlld3BvcnQoKSkge1xuICAgICAgICBjbG9zZU1vYmlsZVBhbmVsKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHN5bmNNb2JpbGVQYW5lbHNXaXRoVmlld3BvcnQpO1xuICAgIHN5bmNNb2JpbGVQYW5lbHNXaXRoVmlld3BvcnQoKTtcbiAgfVxuXG4gIGNvbnN0IHNob3dUb2FzdCA9IChtZXNzYWdlKSA9PiB7XG4gICAgaWYgKCFzaXRlVG9hc3QgfHwgIXNpdGVUb2FzdE1lc3NhZ2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2l0ZVRvYXN0TWVzc2FnZS50ZXh0Q29udGVudCA9IG1lc3NhZ2U7XG4gICAgc2l0ZVRvYXN0LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgIGlmICh0b2FzdFRpbWVvdXRJZCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRvYXN0VGltZW91dElkKTtcbiAgICB9XG4gICAgdG9hc3RUaW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHNpdGVUb2FzdC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICB9LCAyNTAwKTtcbiAgfTtcblxuICBmdW5jdGlvbiBlbnN1cmVMZWFkaW5nU2xhc2goc2x1Zykge1xuICAgIGlmICghc2x1Zykge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICBjb25zdCB0cmltbWVkID0gYCR7c2x1Z31gLnRyaW0oKTtcbiAgICBpZiAoIXRyaW1tZWQpIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgY29uc3Qgd2l0aG91dExlYWRpbmcgPSB0cmltbWVkLnJlcGxhY2UoL15cXC8rLywgJycpO1xuICAgIGlmICghd2l0aG91dExlYWRpbmcpIHtcbiAgICAgIHJldHVybiAnLyc7XG4gICAgfVxuICAgIHJldHVybiBgLyR7d2l0aG91dExlYWRpbmd9YDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHN0cmlwTGVhZGluZ1NsYXNoKHNsdWcpIHtcbiAgICBpZiAoIXNsdWcpIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgcmV0dXJuIGAke3NsdWd9YC5yZXBsYWNlKC9eXFwvKy8sICcnKTtcbiAgfVxuXG4gIGNvbnN0IHBlcnNpc3RTaXRlU3RhdGUgPSAoc2x1ZywgbmFtZSkgPT4ge1xuICAgIGNvbnN0IG5vcm1hbGl6ZWRTbHVnID0gc2x1ZyA/IGVuc3VyZUxlYWRpbmdTbGFzaChzbHVnKSA6IG51bGw7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChub3JtYWxpemVkU2x1Zykge1xuICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oQUNUSVZFX1NJVEVfS0VZLCBub3JtYWxpemVkU2x1Zyk7XG4gICAgICAgIHN0b3JlZFNpdGUuc2x1ZyA9IG5vcm1hbGl6ZWRTbHVnO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBuYW1lID09PSAnc3RyaW5nJyAmJiBuYW1lLmxlbmd0aCA+IDApIHtcbiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKEFDVElWRV9TSVRFX05BTUVfS0VZLCBuYW1lKTtcbiAgICAgICAgc3RvcmVkU2l0ZS5uYW1lID0gbmFtZTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIHtcbiAgICAgIHN0b3JlZFNpdGUuc2x1ZyA9IG5vcm1hbGl6ZWRTbHVnIHx8IHN0b3JlZFNpdGUuc2x1ZztcbiAgICAgIHN0b3JlZFNpdGUubmFtZSA9IG5hbWUgfHwgc3RvcmVkU2l0ZS5uYW1lO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCB1cGRhdGVTaXRlTGFiZWxzID0gKG5hbWUpID0+IHtcbiAgICBpZiAoc2l0ZU5hbWVMYWJlbCAmJiBuYW1lKSB7XG4gICAgICBzaXRlTmFtZUxhYmVsLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICB9XG4gICAgaWYgKHdvcmtzcGFjZVNpdGVMYWJlbCAmJiBuYW1lKSB7XG4gICAgICB3b3Jrc3BhY2VTaXRlTGFiZWwudGV4dENvbnRlbnQgPSBuYW1lO1xuICAgIH1cbiAgICBpZiAod29ya3NwYWNlQmFja05hbWUgJiYgbmFtZSkge1xuICAgICAgd29ya3NwYWNlQmFja05hbWUudGV4dENvbnRlbnQgPSBuYW1lO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCB1cGRhdGVXb3Jrc3BhY2VOYXZMaW5rcyA9IChzbHVnKSA9PiB7XG4gICAgd29ya3NwYWNlTmF2TGlua3MuZm9yRWFjaCgobGluaykgPT4ge1xuICAgICAgY29uc3QgdGFiID0gbGluay5kYXRhc2V0LndvcmtzcGFjZVRhYjtcbiAgICAgIGlmICghdGFiKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghc2x1Zykge1xuICAgICAgICBsaW5rLmhyZWYgPSAnIyc7XG4gICAgICAgIGxpbmsuY2xhc3NMaXN0LmFkZCgncG9pbnRlci1ldmVudHMtbm9uZScsICdvcGFjaXR5LTUwJywgJ3RleHQtc2xhdGUtNDAwJyk7XG4gICAgICAgIGxpbmsuc2V0QXR0cmlidXRlKCdhcmlhLWRpc2FibGVkJywgJ3RydWUnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3Qgc2x1Z1BhdGggPSBlbmNvZGVVUklDb21wb25lbnQoc3RyaXBMZWFkaW5nU2xhc2goc2x1ZykpO1xuICAgICAgbGluay5ocmVmID0gYC9hZG1pbi9zaXRlLyR7c2x1Z1BhdGh9LyR7dGFifWA7XG4gICAgICBsaW5rLmNsYXNzTGlzdC5yZW1vdmUoJ3BvaW50ZXItZXZlbnRzLW5vbmUnLCAnb3BhY2l0eS01MCcsICd0ZXh0LXNsYXRlLTQwMCcpO1xuICAgICAgbGluay5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtZGlzYWJsZWQnKTtcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBhcHBseUFjdGl2ZVNpdGUgPSAoc2x1Zywgb3B0aW9ucyA9IHt9KSA9PiB7XG4gICAgaWYgKCFzbHVnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG5vcm1hbGl6ZWRTbHVnID0gZW5zdXJlTGVhZGluZ1NsYXNoKHNsdWcpO1xuICAgIGxldCBhY3RpdmVTaXRlTmFtZSA9XG4gICAgICBvcHRpb25zLnNpdGVOYW1lIHx8IHN0b3JlZFNpdGUubmFtZSB8fCBzaXRlTmFtZUxhYmVsPy5kYXRhc2V0LmRlZmF1bHRTaXRlTmFtZSB8fCAnJztcbiAgICBzaXRlQ2FyZHMuZm9yRWFjaCgoY2FyZCkgPT4ge1xuICAgICAgY29uc3QgY2FyZFNsdWcgPSBlbnN1cmVMZWFkaW5nU2xhc2goY2FyZC5kYXRhc2V0LnNpdGVDYXJkIHx8ICcnKTtcbiAgICAgIGNvbnN0IGlzQWN0aXZlID0gY2FyZFNsdWcgPT09IG5vcm1hbGl6ZWRTbHVnO1xuICAgICAgY29uc3QgYmFkZ2UgPSBjYXJkLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtYWN0aXZlLWJhZGdlXScpO1xuICAgICAgaWYgKGlzQWN0aXZlKSB7XG4gICAgICAgIGNhcmQuY2xhc3NMaXN0LmFkZCgnYm9yZGVyLVsjOUM2QkZGXScsICdyaW5nLTInLCAncmluZy1bIzlDNkJGRl0nLCAnc2hhZG93LW1kJyk7XG4gICAgICAgIGNhcmQuY2xhc3NMaXN0LnJlbW92ZSgnYm9yZGVyLXNsYXRlLTIwMCcpO1xuICAgICAgICBiYWRnZT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIGFjdGl2ZVNpdGVOYW1lID0gY2FyZC5kYXRhc2V0LnNpdGVOYW1lIHx8IGFjdGl2ZVNpdGVOYW1lO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FyZC5jbGFzc0xpc3QucmVtb3ZlKCdib3JkZXItWyM5QzZCRkZdJywgJ3JpbmctMicsICdyaW5nLVsjOUM2QkZGXScsICdzaGFkb3ctbWQnKTtcbiAgICAgICAgY2FyZC5jbGFzc0xpc3QuYWRkKCdib3JkZXItc2xhdGUtMjAwJyk7XG4gICAgICAgIGJhZGdlPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAob3B0aW9ucy5wZXJzaXN0ICE9PSBmYWxzZSkge1xuICAgICAgcGVyc2lzdFNpdGVTdGF0ZShub3JtYWxpemVkU2x1Zywgb3B0aW9ucy5zaXRlTmFtZSB8fCBhY3RpdmVTaXRlTmFtZSk7XG4gICAgfVxuICAgIGNvbnN0IGZpbmFsTmFtZSA9IG9wdGlvbnMuc2l0ZU5hbWUgfHwgYWN0aXZlU2l0ZU5hbWU7XG4gICAgdXBkYXRlU2l0ZUxhYmVscyhmaW5hbE5hbWUpO1xuICAgIHVwZGF0ZVdvcmtzcGFjZU5hdkxpbmtzKG5vcm1hbGl6ZWRTbHVnKTtcbiAgfTtcblxuICBjb25zdCBzZWxlY3RTaXRlID0gYXN5bmMgKHNsdWcsIG5hbWUpID0+IHtcbiAgICBjb25zdCBub3JtYWxpemVkU2x1ZyA9IGVuc3VyZUxlYWRpbmdTbGFzaChzbHVnKTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9zaXRlcy9zZWxlY3QnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBzbHVnOiBub3JtYWxpemVkU2x1ZyB9KSxcbiAgICAgIH0pO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICBzaG93VG9hc3QocGF5bG9hZC5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIHNcdTAwRTlsZWN0aW9ubmVyIGNlIHNpdGUuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICBjb25zdCBmaW5hbFNsdWcgPSBlbnN1cmVMZWFkaW5nU2xhc2gocGF5bG9hZC5zbHVnIHx8IG5vcm1hbGl6ZWRTbHVnKTtcbiAgICAgIGNvbnN0IGZpbmFsTmFtZSA9IHBheWxvYWQubmFtZSB8fCBuYW1lO1xuICAgICAgcGVyc2lzdFNpdGVTdGF0ZShmaW5hbFNsdWcsIGZpbmFsTmFtZSk7XG4gICAgICBhcHBseUFjdGl2ZVNpdGUoZmluYWxTbHVnLCB7IHNpdGVOYW1lOiBmaW5hbE5hbWUsIHBlcnNpc3Q6IGZhbHNlIH0pO1xuICAgICAgY29uc3Qgc2x1Z1BhdGggPSBlbmNvZGVVUklDb21wb25lbnQoc3RyaXBMZWFkaW5nU2xhc2goZmluYWxTbHVnKSk7XG4gICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGAvYWRtaW4vc2l0ZS8ke3NsdWdQYXRofS9kZXNpZ25gO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignW2FkbWluXSBJbXBvc3NpYmxlIGRlIHNcdTAwRTlsZWN0aW9ubmVyIGxlIHNpdGUnLCBlcnIpO1xuICAgICAgc2hvd1RvYXN0KCdFcnJldXIgaW5hdHRlbmR1ZSBsb3JzIGRlIGxhIHNcdTAwRTlsZWN0aW9uLicpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBzeW5jQWN0aXZlU2l0ZUZyb21TZXJ2ZXIgPSBhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvc2l0ZXMvY3VycmVudCcsIHsgY3JlZGVudGlhbHM6ICdzYW1lLW9yaWdpbicgfSk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwNCAmJiB3b3Jrc3BhY2VDb250ZXh0KSB7XG4gICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnL2FkbWluL3NpdGVzJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBzaXRlID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgY29uc3Qgbm9ybWFsaXplZFNsdWcgPSBlbnN1cmVMZWFkaW5nU2xhc2goc2l0ZS5zbHVnKTtcbiAgICAgIHBlcnNpc3RTaXRlU3RhdGUobm9ybWFsaXplZFNsdWcsIHNpdGUubmFtZSk7XG4gICAgICBhcHBseUFjdGl2ZVNpdGUobm9ybWFsaXplZFNsdWcsIHsgc2l0ZU5hbWU6IHNpdGUubmFtZSwgcGVyc2lzdDogZmFsc2UgfSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ1thZG1pbl0gSW1wb3NzaWJsZSBkZSByXHUwMEU5Y3VwXHUwMEU5cmVyIGxlIHNpdGUgYWN0aWYnLCBlcnIpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoaWdobGlnaHRGcm9tU3RvcmFnZU9yRGVmYXVsdCA9ICgpID0+IHtcbiAgICBpZiAoc3RvcmVkU2l0ZS5zbHVnKSB7XG4gICAgICBhcHBseUFjdGl2ZVNpdGUoc3RvcmVkU2l0ZS5zbHVnLCB7IHNpdGVOYW1lOiBzdG9yZWRTaXRlLm5hbWUsIHBlcnNpc3Q6IGZhbHNlIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBkZWZhdWx0Q2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtY2FyZF1bZGF0YS1zaXRlLWRlZmF1bHQ9XCJ0cnVlXCJdJykgfHwgc2l0ZUNhcmRzWzBdO1xuICAgIGlmIChkZWZhdWx0Q2FyZCkge1xuICAgICAgYXBwbHlBY3RpdmVTaXRlKGRlZmF1bHRDYXJkLmRhdGFzZXQuc2l0ZUNhcmQsIHtcbiAgICAgICAgc2l0ZU5hbWU6IGRlZmF1bHRDYXJkLmRhdGFzZXQuc2l0ZU5hbWUgfHwgJycsXG4gICAgICAgIHBlcnNpc3Q6IGZhbHNlLFxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIGhpZ2hsaWdodEZyb21TdG9yYWdlT3JEZWZhdWx0KCk7XG4gIHN5bmNBY3RpdmVTaXRlRnJvbVNlcnZlcigpO1xuICBpZiAod29ya3NwYWNlQ29udGV4dCkge1xuICAgIHVwZGF0ZVdvcmtzcGFjZU5hdkxpbmtzKHdvcmtzcGFjZUNvbnRleHQuc2x1Z1ZhbHVlKTtcbiAgfSBlbHNlIGlmIChzdG9yZWRTaXRlLnNsdWcpIHtcbiAgICB1cGRhdGVXb3Jrc3BhY2VOYXZMaW5rcyhzdG9yZWRTaXRlLnNsdWcpO1xuICB9XG5cbiAgc2l0ZVNlbGVjdEJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgaWYgKGJ1dHRvbi5kaXNhYmxlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBzbHVnID0gYnV0dG9uLmRhdGFzZXQuc2l0ZVNlbGVjdDtcbiAgICAgIGNvbnN0IG5hbWUgPSBidXR0b24uZGF0YXNldC5zaXRlU2VsZWN0TmFtZSB8fCAnQ2Ugc2l0ZSc7XG4gICAgICBpZiAoIXNsdWcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIHNlbGVjdFNpdGUoc2x1ZywgbmFtZSkuZmluYWxseSgoKSA9PiB7XG4gICAgICAgIGJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGNvbnN0IHdvcmtzcGFjZVNsdWdpZnkgPSAodmFsdWUpID0+XG4gICAgKHZhbHVlIHx8ICcnKVxuICAgICAgLm5vcm1hbGl6ZSgnTkZEJylcbiAgICAgIC5yZXBsYWNlKC9bXFx1MDMwMC1cXHUwMzZmXS9nLCAnJylcbiAgICAgIC50b0xvd2VyQ2FzZSgpXG4gICAgICAucmVwbGFjZSgvW15hLXowLTldKy9nLCAnLScpXG4gICAgICAucmVwbGFjZSgvXi0rfC0rJC9nLCAnJyk7XG5cbiAgY29uc3Qgbm9ybWFsaXplU2x1Z1ZhbHVlID0gKHZhbHVlKSA9PiB7XG4gICAgY29uc3QgYmFzZSA9IHdvcmtzcGFjZVNsdWdpZnkodmFsdWUgfHwgJycpO1xuICAgIGlmICghYmFzZSkge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICByZXR1cm4gYC8ke2Jhc2V9YDtcbiAgfTtcblxuICBjb25zdCBvcGVuU2l0ZU1vZGFsID0gKCkgPT4ge1xuICAgIGlmICghc2l0ZU1vZGFsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHNpdGVNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICBzaXRlTW9kYWwuY2xhc3NMaXN0LmFkZCgnZmxleCcpO1xuICAgIHNsdWdNYW51YWxseUVkaXRlZCA9IGZhbHNlO1xuICAgIHNpdGVGb3JtPy5yZXNldCgpO1xuICAgIHNpdGVTbHVnRXJyb3IgJiYgKHNpdGVTbHVnRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgc2l0ZU1vZGFsRXJyb3IgJiYgKHNpdGVNb2RhbEVycm9yLnRleHRDb250ZW50ID0gJycpO1xuICAgIGlmIChzaXRlU2x1Z0lucHV0ICYmIHNpdGVOYW1lSW5wdXQpIHtcbiAgICAgIHNpdGVTbHVnSW5wdXQudmFsdWUgPSB3b3Jrc3BhY2VTbHVnaWZ5KHNpdGVOYW1lSW5wdXQudmFsdWUpO1xuICAgIH1cbiAgICBhY3RpdmF0ZU1vZGFsKHNpdGVNb2RhbCwgY2xvc2VTaXRlTW9kYWwpO1xuICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHNpdGVOYW1lSW5wdXQ/LmZvY3VzKCk7XG4gICAgfSwgMCk7XG4gIH07XG5cbiAgY29uc3QgY2xvc2VTaXRlTW9kYWwgPSAoKSA9PiB7XG4gICAgaWYgKCFzaXRlTW9kYWwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2l0ZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgIHNpdGVNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdmbGV4Jyk7XG4gICAgc2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gICAgc2l0ZUZvcm0/LnJlc2V0KCk7XG4gICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICBzaXRlTW9kYWxFcnJvciAmJiAoc2l0ZU1vZGFsRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgZGVhY3RpdmF0ZU1vZGFsKHNpdGVNb2RhbCk7XG4gIH07XG5cbiAgc2l0ZUNyZWF0ZUJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlblNpdGVNb2RhbCk7XG4gIH0pO1xuXG4gIHNpdGVNb2RhbENhbmNlbEJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VTaXRlTW9kYWwpO1xuICB9KTtcblxuICBzaXRlTW9kYWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gc2l0ZU1vZGFsKSB7XG4gICAgICBjbG9zZVNpdGVNb2RhbCgpO1xuICAgIH1cbiAgfSk7XG5cbiAgc2l0ZU5hbWVJbnB1dD8uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgaWYgKCFzaXRlU2x1Z0lucHV0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghc2x1Z01hbnVhbGx5RWRpdGVkIHx8IHNpdGVTbHVnSW5wdXQudmFsdWUudHJpbSgpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgc2l0ZVNsdWdJbnB1dC52YWx1ZSA9IHdvcmtzcGFjZVNsdWdpZnkoc2l0ZU5hbWVJbnB1dC52YWx1ZSk7XG4gICAgfVxuICAgIC8vIENsZWFyIGVycm9ycyB3aGVuIHVzZXIgdHlwZXNcbiAgICBzaXRlU2x1Z0Vycm9yICYmIChzaXRlU2x1Z0Vycm9yLnRleHRDb250ZW50ID0gJycpO1xuICAgIHNpdGVNb2RhbEVycm9yICYmIChzaXRlTW9kYWxFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgfSk7XG5cbiAgc2l0ZVNsdWdJbnB1dD8uYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCAoKSA9PiB7XG4gICAgLy8gQXV0by1maWxsIHNsdWcgZnJvbSBuYW1lIGlmIGVtcHR5IHdoZW4gdXNlciBmb2N1c2VzIHRoZSBzbHVnIGZpZWxkXG4gICAgY29uc3Qgc2x1Z1ZhbCA9IHNpdGVTbHVnSW5wdXQ/LnZhbHVlIHx8ICcnO1xuICAgIGNvbnN0IG5hbWVWYWwgPSBzaXRlTmFtZUlucHV0Py52YWx1ZSB8fCAnJztcbiAgICBpZiAoIXNsdWdWYWwudHJpbSgpICYmIG5hbWVWYWwudHJpbSgpKSB7XG4gICAgICBzaXRlU2x1Z0lucHV0LnZhbHVlID0gd29ya3NwYWNlU2x1Z2lmeShuYW1lVmFsKTtcbiAgICB9XG4gIH0pO1xuXG4gIHNpdGVTbHVnSW5wdXQ/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgIHNsdWdNYW51YWxseUVkaXRlZCA9IHRydWU7XG4gICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICBzaXRlTW9kYWxFcnJvciAmJiAoc2l0ZU1vZGFsRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gIH0pO1xuXG4gIGNvbnN0IGdldFNsdWdTZXQgPSAoKSA9PlxuICAgIG5ldyBTZXQoQXJyYXkuZnJvbShzaXRlQ2FyZHMpLm1hcCgoY2FyZCkgPT4gZW5zdXJlTGVhZGluZ1NsYXNoKGNhcmQuZGF0YXNldC5zaXRlQ2FyZCB8fCAnJykpKTtcblxuICBzaXRlRm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zb2xlLmxvZygnW2FkbWluXSBGb3JtIHN1Ym1pdCAtIHNpdGVOYW1lSW5wdXQ6Jywgc2l0ZU5hbWVJbnB1dCwgJ3NpdGVTbHVnSW5wdXQ6Jywgc2l0ZVNsdWdJbnB1dCk7XG4gICAgXG4gICAgaWYgKCFzaXRlTmFtZUlucHV0IHx8ICFzaXRlU2x1Z0lucHV0KSB7XG4gICAgICBjb25zb2xlLmxvZygnW2FkbWluXSBNaXNzaW5nIGlucHV0cywgYWJvcnRpbmcnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgbmFtZVZhbHVlID0gKHNpdGVOYW1lSW5wdXQudmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICBsZXQgc2x1Z1ZhbHVlID0gKHNpdGVTbHVnSW5wdXQudmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICBcbiAgICBjb25zb2xlLmxvZygnW2FkbWluXSBuYW1lVmFsdWU6JywgbmFtZVZhbHVlLCAnc2x1Z1ZhbHVlOicsIHNsdWdWYWx1ZSk7XG4gICAgXG4gICAgLy8gQXV0by1nZW5lcmF0ZSBzbHVnIGZyb20gbmFtZSBpZiBlbXB0eVxuICAgIGlmICghc2x1Z1ZhbHVlICYmIG5hbWVWYWx1ZSkge1xuICAgICAgc2x1Z1ZhbHVlID0gd29ya3NwYWNlU2x1Z2lmeShuYW1lVmFsdWUpO1xuICAgICAgc2l0ZVNsdWdJbnB1dC52YWx1ZSA9IHNsdWdWYWx1ZTtcbiAgICAgIGNvbnNvbGUubG9nKCdbYWRtaW5dIEF1dG8tZ2VuZXJhdGVkIHNsdWc6Jywgc2x1Z1ZhbHVlKTtcbiAgICB9XG4gICAgXG4gICAgY29uc3Qgbm9ybWFsaXplZFNsdWcgPSBub3JtYWxpemVTbHVnVmFsdWUoc2x1Z1ZhbHVlKTtcbiAgICBjb25zb2xlLmxvZygnW2FkbWluXSBub3JtYWxpemVkU2x1ZzonLCBub3JtYWxpemVkU2x1Zyk7XG4gICAgXG4gICAgLy8gVmFsaWRhdGUgbmFtZVxuICAgIGlmICghbmFtZVZhbHVlKSB7XG4gICAgICBjb25zb2xlLmxvZygnW2FkbWluXSBOYW1lIHZhbGlkYXRpb24gZmFpbGVkJyk7XG4gICAgICBzaXRlTW9kYWxFcnJvciAmJiAoc2l0ZU1vZGFsRXJyb3IudGV4dENvbnRlbnQgPSAnTGUgbm9tIGR1IHNpdGUgZXN0IHJlcXVpcy4nKTtcbiAgICAgIHNpdGVOYW1lSW5wdXQuZm9jdXMoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgLy8gVmFsaWRhdGUgc2x1Z1xuICAgIGlmICghbm9ybWFsaXplZFNsdWcpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdbYWRtaW5dIFNsdWcgdmFsaWRhdGlvbiBmYWlsZWQnKTtcbiAgICAgIHNpdGVTbHVnRXJyb3IgJiYgKHNpdGVTbHVnRXJyb3IudGV4dENvbnRlbnQgPSAnTGUgc2x1ZyBuZSBwZXV0IHBhcyBcdTAwRUF0cmUgdmlkZSBvdSBjb250ZW5pciB1bmlxdWVtZW50IGRlcyBjYXJhY3RcdTAwRThyZXMgc3BcdTAwRTljaWF1eC4nKTtcbiAgICAgIHNpdGVTbHVnSW5wdXQuZm9jdXMoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgZXhpc3RpbmdTbHVncyA9IGdldFNsdWdTZXQoKTtcbiAgICBpZiAoZXhpc3RpbmdTbHVncy5oYXMobm9ybWFsaXplZFNsdWcpKSB7XG4gICAgICBzaXRlU2x1Z0Vycm9yICYmIChzaXRlU2x1Z0Vycm9yLnRleHRDb250ZW50ID0gJ0NlIHNsdWcgZXN0IGRcdTAwRTlqXHUwMEUwIHV0aWxpc1x1MDBFOS4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICBzaXRlTW9kYWxFcnJvciAmJiAoc2l0ZU1vZGFsRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgaWYgKHNpdGVNb2RhbFN1Ym1pdEJ1dHRvbikge1xuICAgICAgc2l0ZU1vZGFsU3VibWl0QnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIHNpdGVNb2RhbFN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9ICdDclx1MDBFOWF0aW9uLi4uJztcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvc2l0ZXMnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBuYW1lOiBuYW1lVmFsdWUsIHNsdWc6IG5vcm1hbGl6ZWRTbHVnIH0pLFxuICAgICAgfSk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBwYXlsb2FkLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgY3JcdTAwRTllciBjZSBzaXRlLic7XG4gICAgICAgIHNpdGVNb2RhbEVycm9yICYmIChzaXRlTW9kYWxFcnJvci50ZXh0Q29udGVudCA9IG1lc3NhZ2UpO1xuICAgICAgICBpZiAocGF5bG9hZC5maWVsZCA9PT0gJ3NsdWcnKSB7XG4gICAgICAgICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9IG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNyZWF0ZWRTaXRlID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgY29uc3QgZmluYWxTbHVnID0gZW5zdXJlTGVhZGluZ1NsYXNoKGNyZWF0ZWRTaXRlPy5zbHVnIHx8IG5vcm1hbGl6ZWRTbHVnKTtcbiAgICAgIGNvbnN0IGZpbmFsTmFtZSA9IGNyZWF0ZWRTaXRlPy5uYW1lIHx8IG5hbWVWYWx1ZTtcbiAgICAgIHBlcnNpc3RTaXRlU3RhdGUoZmluYWxTbHVnLCBmaW5hbE5hbWUpO1xuICAgICAgY2xvc2VTaXRlTW9kYWwoKTtcbiAgICAgIGNvbnN0IHNsdWdQYXRoID0gZW5jb2RlVVJJQ29tcG9uZW50KHN0cmlwTGVhZGluZ1NsYXNoKGZpbmFsU2x1ZykpO1xuICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBgL2FkbWluL3NpdGUvJHtzbHVnUGF0aH0vZGVzaWduYDtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1thZG1pbl0gSW1wb3NzaWJsZSBkZSBjclx1MDBFOWVyIGxlIHNpdGUnLCBlcnIpO1xuICAgICAgc2l0ZU1vZGFsRXJyb3IgJiYgKHNpdGVNb2RhbEVycm9yLnRleHRDb250ZW50ID0gJ0VycmV1ciBpbmF0dGVuZHVlLiBSXHUwMEU5ZXNzYWllIGRhbnMgdW4gaW5zdGFudC4nKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKHNpdGVNb2RhbFN1Ym1pdEJ1dHRvbikge1xuICAgICAgICBzaXRlTW9kYWxTdWJtaXRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgc2l0ZU1vZGFsU3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gJ0NyXHUwMEU5ZXInO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZlbnQpID0+IHtcbiAgICBpZiAoZXZlbnQua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgaWYgKHNpdGVNb2RhbCAmJiAhc2l0ZU1vZGFsLmNsYXNzTGlzdC5jb250YWlucygnaGlkZGVuJykpIHtcbiAgICAgICAgY2xvc2VTaXRlTW9kYWwoKTtcbiAgICAgIH1cbiAgICAgIGlmICh3b3Jrc3BhY2VCYWNrTW9kYWwgJiYgIXdvcmtzcGFjZUJhY2tNb2RhbC5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpKSB7XG4gICAgICAgIGNsb3NlV29ya3NwYWNlQmFja01vZGFsKCk7XG4gICAgICB9XG4gICAgICBpZiAoYmxvY2tEZWxldGVNb2RhbCAmJiAhYmxvY2tEZWxldGVNb2RhbC5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpKSB7XG4gICAgICAgIGNsb3NlQmxvY2tEZWxldGVNb2RhbCgpO1xuICAgICAgfVxuICAgICAgaWYgKGJsb2NrTGlicmFyeU9wZW4pIHtcbiAgICAgICAgY2xvc2VCbG9ja0xpYnJhcnkoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIGdldFdvcmtzcGFjZUNvbnRleHQoKSB7XG4gICAgY29uc3QgbWF0Y2ggPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUubWF0Y2goL15cXC9hZG1pblxcL3NpdGVcXC8oW14vXSspKD86XFwvKFteL10rKSk/Lyk7XG4gICAgaWYgKCFtYXRjaCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBzbHVnUGFydDogZGVjb2RlVVJJQ29tcG9uZW50KG1hdGNoWzFdKSxcbiAgICAgIHNsdWdWYWx1ZTogZW5zdXJlTGVhZGluZ1NsYXNoKGRlY29kZVVSSUNvbXBvbmVudChtYXRjaFsxXSkpLFxuICAgICAgc2VjdGlvbjogbWF0Y2hbMl0gfHwgJ2Rlc2lnbicsXG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRldGVjdFdvcmtzcGFjZVNlY3Rpb24oKSB7XG4gICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXBhZ2UtbGlzdF0nKSkge1xuICAgICAgcmV0dXJuICdkZXNpZ24nO1xuICAgIH1cbiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29sbGVjdGlvbi1saXN0XScpKSB7XG4gICAgICByZXR1cm4gJ2NvbnRlbnQnO1xuICAgIH1cbiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZ3JpZF0nKSkge1xuICAgICAgcmV0dXJuICdtZWRpYSc7XG4gICAgfVxuICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktZm9ybV0nKSkge1xuICAgICAgcmV0dXJuICdkZXBsb3knO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9wZW5Xb3Jrc3BhY2VCYWNrTW9kYWwoKSB7XG4gICAgaWYgKCF3b3Jrc3BhY2VCYWNrTW9kYWwpIHtcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9hZG1pbi9zaXRlcyc7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHdvcmtzcGFjZUJhY2tNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICB3b3Jrc3BhY2VCYWNrTW9kYWwuY2xhc3NMaXN0LmFkZCgnZmxleCcpO1xuICAgIGFjdGl2YXRlTW9kYWwod29ya3NwYWNlQmFja01vZGFsLCBjbG9zZVdvcmtzcGFjZUJhY2tNb2RhbCk7XG4gIH1cblxuICBmdW5jdGlvbiBjbG9zZVdvcmtzcGFjZUJhY2tNb2RhbCgpIHtcbiAgICBpZiAoIXdvcmtzcGFjZUJhY2tNb2RhbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB3b3Jrc3BhY2VCYWNrTW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgd29ya3NwYWNlQmFja01vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2ZsZXgnKTtcbiAgICBkZWFjdGl2YXRlTW9kYWwod29ya3NwYWNlQmFja01vZGFsKTtcbiAgfVxuXG4gIHdvcmtzcGFjZUJhY2tCdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5Xb3Jrc3BhY2VCYWNrTW9kYWwpO1xuICB9KTtcbiAgd29ya3NwYWNlQmFja0NhbmNlbC5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZVdvcmtzcGFjZUJhY2tNb2RhbCk7XG4gIH0pO1xuICB3b3Jrc3BhY2VCYWNrQ29uZmlybT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgY2xvc2VXb3Jrc3BhY2VCYWNrTW9kYWwoKTtcbiAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvYWRtaW4vc2l0ZXMnO1xuICB9KTtcblxuICBjb25zdCBhY3RpdmVTZWN0aW9uID0gd29ya3NwYWNlQ29udGV4dD8uc2VjdGlvbiB8fCBkZXRlY3RXb3Jrc3BhY2VTZWN0aW9uKCk7XG5cbiAgaWYgKGFjdGl2ZVNlY3Rpb24gPT09ICdkZXNpZ24nKSB7XG4gICAgaW5pdERlc2lnbldvcmtzcGFjZSgpO1xuICB9XG4gIGlmIChhY3RpdmVTZWN0aW9uID09PSAnY29udGVudCcpIHtcbiAgICBpbml0Q29udGVudFdvcmtzcGFjZSgpO1xuICB9XG4gIGlmIChhY3RpdmVTZWN0aW9uID09PSAnbWVkaWEnKSB7XG4gICAgaW5pdE1lZGlhV29ya3NwYWNlKCk7XG4gIH1cbiAgaWYgKGFjdGl2ZVNlY3Rpb24gPT09ICdkZXBsb3knKSB7XG4gICAgaW5pdERlcGxveVdvcmtzcGFjZSgpO1xuICB9XG4gIGlmIChhY3RpdmVTZWN0aW9uID09PSAnc2V0dGluZ3MnKSB7XG4gICAgaW5pdFNldHRpbmdzV29ya3NwYWNlKCk7XG4gIH1cblxuICBpZiAod29ya3NwYWNlQ29udGV4dCAmJiBzdG9yZWRTaXRlLm5hbWUpIHtcbiAgICB1cGRhdGVTaXRlTGFiZWxzKHN0b3JlZFNpdGUubmFtZSk7XG4gIH1cblxuICBmdW5jdGlvbiBpbml0RGVzaWduV29ya3NwYWNlKCkge1xuICAgIGNvbnN0IHBhZ2VMaXN0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXBhZ2UtbGlzdF0nKTtcbiAgICBpZiAocGFnZUxpc3RzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBhY3RpdmVUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFjdGl2ZS1wYWdlLXRpdGxlXScpO1xuICAgIGNvbnN0IGFjdGl2ZVNsdWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hY3RpdmUtcGFnZS1zbHVnXScpO1xuICAgIGNvbnN0IHByZXZpZXdUYWdzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcmV2aWV3LXRhZ3NdJyk7XG4gICAgY29uc3QgcHJldmlld0ZyYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcmV2aWV3LWZyYW1lXScpO1xuICAgIGNvbnN0IHByZXZpZXdGcmFtZVdyYXBwZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLXByZXZpZXctZnJhbWUtd3JhcHBlcl0nKTtcbiAgICBjb25zdCBwcmV2aWV3U2hlbGwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLXByZXZpZXctc2hlbGxdJyk7XG4gICAgY29uc3QgcHJldmlld1ZpZXdCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtcHJldmlldy12aWV3LWJ1dHRvbl0nKTtcbiAgICBjb25zdCBwcmV2aWV3Q3VycmVudFZpZXdMYWJlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXBhZ2UtcHJldmlldy1jdXJyZW50LXZpZXddJyk7XG4gICAgY29uc3QgcHJldmlld09wZW5CdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wcmV2aWV3LW9wZW5dJyk7XG4gICAgY29uc3QgcHJldmlld1N0YXR1cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXByZXZpZXctc3RhdHVzXScpO1xuICAgIGNvbnN0IHByZXZpZXdIaWdobGlnaHRPdmVybGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcHJldmlldy1oaWdobGlnaHRdJyk7XG4gICAgLy8gU0VPIHBhbmVsIGVsZW1lbnRzXG4gICAgY29uc3Qgc2VvVG9nZ2xlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2VvLXRvZ2dsZV0nKTtcbiAgICBjb25zdCBzZW9QYW5lbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby1wYW5lbF0nKTtcbiAgICBjb25zdCBzZW9DbG9zZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby1jbG9zZV0nKTtcbiAgICBjb25zdCBzZW9Gb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2VvLWZvcm1dJyk7XG4gICAgY29uc3Qgc2VvVGl0bGVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby10aXRsZV0nKTtcbiAgICBjb25zdCBzZW9EZXNjcmlwdGlvbklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2VvLWRlc2NyaXB0aW9uXScpO1xuICAgIGNvbnN0IHNlb0luZGV4ZWRDaGVja2JveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby1pbmRleGVkXScpO1xuICAgIGNvbnN0IHNlb0ZlZWRiYWNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2VvLWZlZWRiYWNrXScpO1xuICAgIGNvbnN0IHNlb1NhdmVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8tc2F2ZV0nKTtcbiAgICBjb25zdCBwYWdlQWNjZXNzaWJpbGl0eVRvZ2dsZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAnW2RhdGEtcGFnZS1hY2Nlc3NpYmlsaXR5LXRvZ2dsZV0nLFxuICAgICk7XG4gICAgY29uc3QgcGFnZUFjY2Vzc2liaWxpdHlQYW5lbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXBhZ2UtYWNjZXNzaWJpbGl0eS1wYW5lbF0nKTtcbiAgICBjb25zdCBwYWdlQWNjZXNzaWJpbGl0eUNsb3NlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgICdbZGF0YS1wYWdlLWFjY2Vzc2liaWxpdHktY2xvc2VdJyxcbiAgICApO1xuICAgIGNvbnN0IHBhZ2VBY2Nlc3NpYmlsaXR5Rm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXBhZ2UtYWNjZXNzaWJpbGl0eS1mb3JtXScpO1xuICAgIGNvbnN0IHBhZ2VBY2Nlc3NpYmlsaXR5TmF2Q2hlY2tib3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgJ1tkYXRhLXBhZ2UtYWNjZXNzaWJpbGl0eS1uYXZdJyxcbiAgICApO1xuICAgIGNvbnN0IHBhZ2VBY2Nlc3NpYmlsaXR5TWFpbklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgICdbZGF0YS1wYWdlLWFjY2Vzc2liaWxpdHktbWFpbl0nLFxuICAgICk7XG4gICAgY29uc3QgcGFnZUFjY2Vzc2liaWxpdHlGZWVkYmFjayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAnW2RhdGEtcGFnZS1hY2Nlc3NpYmlsaXR5LWZlZWRiYWNrXScsXG4gICAgKTtcbiAgICBjb25zdCBwYWdlQWNjZXNzaWJpbGl0eVNhdmVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgJ1tkYXRhLXBhZ2UtYWNjZXNzaWJpbGl0eS1zYXZlXScsXG4gICAgKTtcbiAgICAvLyBQYWdlIHByb3BlcnRpZXMgcGFuZWwgZWxlbWVudHNcbiAgICBjb25zdCBwYWdlUHJvcHNUb2dnbGVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLXByb3BzLXRvZ2dsZV0nKTtcbiAgICBjb25zdCBwYWdlUHJvcHNQYW5lbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXBhZ2UtcHJvcHMtcGFuZWxdJyk7XG4gICAgY29uc3QgcGFnZVByb3BzQ2xvc2VCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLXByb3BzLWNsb3NlXScpO1xuICAgIGNvbnN0IHBhZ2VQcm9wc0Zvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLXByb3BzLWZvcm1dJyk7XG4gICAgY29uc3QgcGFnZU5hbWVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXBhZ2UtbmFtZV0nKTtcbiAgICBjb25zdCBwYWdlVGl0bGVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXBhZ2UtdGl0bGUtaW5wdXRdJyk7XG4gICAgY29uc3QgcGFnZVNsdWdJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXBhZ2Utc2x1Zy1pbnB1dF0nKTtcbiAgICBjb25zdCBwYWdlRGVzY3JpcHRpb25JbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXBhZ2UtZGVzY3JpcHRpb25dJyk7XG4gICAgY29uc3QgcGFnZVByb3BzRmVlZGJhY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLXByb3BzLWZlZWRiYWNrXScpO1xuICAgIGNvbnN0IHBhZ2VQcm9wc1NhdmVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLXByb3BzLXNhdmVdJyk7XG4gICAgY29uc3QgYmxvY2tMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2tzLWxpc3RdJyk7XG4gICAgY29uc3QgYmxvY2tMaXN0RW1wdHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9ja3MtZW1wdHldJyk7XG4gICAgY29uc3QgYmxvY2tDb3VudEJhZGdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stY291bnRdJyk7XG4gICAgY29uc3QgYmxvY2tMaWJyYXJ5VG9nZ2xlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stbGlicmFyeS10b2dnbGVdJyk7XG4gICAgY29uc3QgYmxvY2tMaWJyYXJ5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stbGlicmFyeV0nKTtcbiAgICBjb25zdCBibG9ja0FkZEJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1ibG9jay1hZGRdJyk7XG4gICAgY29uc3QgYmxvY2tEZWxldGVNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWRlbGV0ZS1tb2RhbF0nKTtcbiAgICBjb25zdCBibG9ja0RlbGV0ZUNvbmZpcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1kZWxldGUtY29uZmlybV0nKTtcbiAgICBjb25zdCBibG9ja0RlbGV0ZUNhbmNlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWRlbGV0ZS1jYW5jZWxdJyk7XG4gICAgY29uc3QgYmxvY2tEZXRhaWxFbXB0eSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWRldGFpbC1lbXB0eV0nKTtcbiAgICBjb25zdCBibG9ja0RldGFpbFN0YXR1cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWRldGFpbC1zdGF0dXNdJyk7XG4gICAgY29uc3QgYmxvY2tFZGl0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1lZGl0b3JdJyk7XG4gICAgY29uc3QgYmxvY2tFZGl0b3JUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWVkaXRvci1ibG9jay1uYW1lXScpO1xuICAgIGNvbnN0IGJsb2NrRWRpdG9yVHlwZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWVkaXRvci1ibG9jay10eXBlXScpO1xuICAgIGNvbnN0IGJsb2NrRWRpdG9yVW5zdXBwb3J0ZWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1lZGl0b3ItdW5zdXBwb3J0ZWRdJyk7XG4gICAgY29uc3QgYmxvY2tGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZm9ybV0nKTtcbiAgICBjb25zdCBzdHlsZUNvbG9yQ2hpcCA9IChjaGlwLCBjb2xvcikgPT4ge1xuICAgICAgaWYgKCFjaGlwKSByZXR1cm47XG4gICAgICBpZiAoY29sb3IgPT09ICd0cmFuc3BhcmVudCcpIHtcbiAgICAgICAgY2hpcC5zdHlsZS5iYWNrZ3JvdW5kID0gJ3JlcGVhdGluZy1jb25pYy1ncmFkaWVudCgjY2NjIDAlIDI1JSwgd2hpdGUgMCUgNTAlKSA1MCUgLyA4cHggOHB4JztcbiAgICAgICAgY2hpcC5zdHlsZS5ib3JkZXJDb2xvciA9ICcjY2JkNWY1JztcbiAgICAgICAgY2hpcC5zdHlsZS5ib3hTaGFkb3cgPSAnJztcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY2hpcC5zdHlsZS5iYWNrZ3JvdW5kID0gY29sb3I7XG4gICAgICBjaGlwLnN0eWxlLmJvcmRlckNvbG9yID0gY29sb3I7XG4gICAgICBjaGlwLnN0eWxlLmJveFNoYWRvdyA9ICcwIDAgMCAxcHggcmdiYSgxNSwyMyw0MiwwLjE1KSc7XG4gICAgfTtcbiAgICBjb25zdCB1cGRhdGVDb2xvclNlbGVjdFByZXZpZXcgPSAoc2VsZWN0KSA9PiB7XG4gICAgICBpZiAoIXNlbGVjdCkgcmV0dXJuO1xuICAgICAgY29uc3Qgc2VsZWN0ZWRPcHRpb24gPSBzZWxlY3Qub3B0aW9uc1tzZWxlY3Quc2VsZWN0ZWRJbmRleF07XG4gICAgICBjb25zdCBjb2xvciA9IHNlbGVjdGVkT3B0aW9uPy5kYXRhc2V0Py5jb2xvciB8fCAnI2ZmZmZmZic7XG4gICAgICBjb25zdCBjb2xvclByZXZpZXcgPSBzZWxlY3QuY2xvc2VzdCgnLnJlbGF0aXZlJyk/LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbG9yLXByZXZpZXddJyk7XG4gICAgICBpZiAoY29sb3JQcmV2aWV3KSB7XG4gICAgICAgIGlmIChjb2xvciA9PT0gJ3RyYW5zcGFyZW50Jykge1xuICAgICAgICAgIGNvbG9yUHJldmlldy5zdHlsZS5iYWNrZ3JvdW5kID0gJ3JlcGVhdGluZy1jb25pYy1ncmFkaWVudCgjY2NjIDAlIDI1JSwgd2hpdGUgMCUgNTAlKSA1MCUgLyA4cHggOHB4JztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb2xvclByZXZpZXcuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gY29sb3I7XG4gICAgICAgICAgY29sb3JQcmV2aWV3LnN0eWxlLmJhY2tncm91bmQgPSAnJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3QgY29sb3JDaGlwID0gc2VsZWN0LmNsb3Nlc3QoJy5yZWxhdGl2ZScpPy5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1jb2xvci1jaGlwXScpO1xuICAgICAgc3R5bGVDb2xvckNoaXAoY29sb3JDaGlwLCBjb2xvcik7XG4gICAgfTtcblxuICAgIGNvbnN0IHRoZW1lQ29sb3JTZWxlY3RzID0gYmxvY2tGb3JtXG4gICAgICA/IEFycmF5LmZyb20oYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXRoZW1lLWNvbG9yLXNlbGVjdF0nKSlcbiAgICAgIDogW107XG4gICAgY29uc3QgdGhlbWVDb2xvclByZXNldHMgPSBbXG4gICAgICB7IGxhYmVsOiAnQ291bGV1ciBwcmltYWlyZScsIHZhbHVlOiAndGhlbWUtcHJpbWFyeScsIGNzc1ZhcjogJy0tY29sb3ItcHJpbWFyeScgfSxcbiAgICAgIHsgbGFiZWw6ICdDb3VsZXVyIHNlY29uZGFpcmUnLCB2YWx1ZTogJ3RoZW1lLXNlY29uZGFyeScsIGNzc1ZhcjogJy0tY29sb3Itc2Vjb25kYXJ5JyB9LFxuICAgICAgeyBsYWJlbDogJ0NvdWxldXIgYWNjZW50JywgdmFsdWU6ICd0aGVtZS1hY2NlbnQnLCBjc3NWYXI6ICctLWNvbG9yLWFjY2VudCcgfSxcbiAgICAgIHsgbGFiZWw6ICdGb25kJywgdmFsdWU6ICd0aGVtZS1iYWNrZ3JvdW5kJywgY3NzVmFyOiAnLS1jb2xvci1iYWNrZ3JvdW5kJyB9LFxuICAgICAgeyBsYWJlbDogJ1RleHRlJywgdmFsdWU6ICd0aGVtZS10ZXh0JywgY3NzVmFyOiAnLS1jb2xvci10ZXh0JyB9LFxuICAgIF07XG4gICAgY29uc3QgZ2V0Q29tcHV0ZWRUaGVtZUNvbG9yVmFsdWUgPSAoY3NzVmFyLCBmYWxsYmFjayA9ICcjZmZmZmZmJykgPT4ge1xuICAgICAgaWYgKCFjc3NWYXIpIHJldHVybiBmYWxsYmFjaztcbiAgICAgIGNvbnN0IGNvbXB1dGVkID0gZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLmdldFByb3BlcnR5VmFsdWUoY3NzVmFyKTtcbiAgICAgIHJldHVybiBjb21wdXRlZCA/IGNvbXB1dGVkLnRyaW0oKSA6IGZhbGxiYWNrO1xuICAgIH07XG4gICAgY29uc3QgZmlsbFRoZW1lQ29sb3JTZWxlY3QgPSAoc2VsZWN0KSA9PiB7XG4gICAgICBpZiAoIXNlbGVjdCkgcmV0dXJuO1xuICAgICAgc2VsZWN0LmlubmVySFRNTCA9ICcnO1xuICAgICAgdGhlbWVDb2xvclByZXNldHMuZm9yRWFjaCgoeyBsYWJlbCwgdmFsdWUsIGNzc1ZhciB9KSA9PiB7XG4gICAgICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICBvcHRpb24udmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgY29uc3QgY29sb3JWYWx1ZSA9IGdldENvbXB1dGVkVGhlbWVDb2xvclZhbHVlKGNzc1Zhcik7XG4gICAgICAgIG9wdGlvbi50ZXh0Q29udGVudCA9IGBcdTI1ODkgJHtsYWJlbH1gO1xuICAgICAgICBvcHRpb24uZGF0YXNldC5jb2xvciA9IGNvbG9yVmFsdWU7XG4gICAgICAgIG9wdGlvbi5zdHlsZS5jb2xvciA9IGNvbG9yVmFsdWU7XG4gICAgICAgIHNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb24pO1xuICAgICAgfSk7XG4gICAgICBzZWxlY3QudmFsdWUgPSB0aGVtZUNvbG9yUHJlc2V0c1swXS52YWx1ZTtcbiAgICAgIHNlbGVjdC5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XG4gICAgICB1cGRhdGVDb2xvclNlbGVjdFByZXZpZXcoc2VsZWN0KTtcbiAgICB9O1xuICAgICAgY29uc3QgZW5zdXJlQ3VzdG9tVGhlbWVPcHRpb24gPSAoc2VsZWN0LCB2YWx1ZSkgPT4ge1xuICAgICAgICBpZiAoIXNlbGVjdCB8fCAhdmFsdWUpIHJldHVybjtcbiAgICAgICAgaWYgKEFycmF5LmZyb20oc2VsZWN0Lm9wdGlvbnMpLnNvbWUoKG9wdCkgPT4gb3B0LnZhbHVlID09PSB2YWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICAgIG9wdGlvbi52YWx1ZSA9IHZhbHVlO1xuICAgICAgICBvcHRpb24udGV4dENvbnRlbnQgPSAnQ291bGV1ciBwZXJzb25uYWxpc1x1MDBFOWUnO1xuICAgICAgICBvcHRpb24uZGF0YXNldC5jb2xvciA9IHZhbHVlO1xuICAgICAgICBvcHRpb24uc3R5bGUuY29sb3IgPSB2YWx1ZSA9PT0gJ3RyYW5zcGFyZW50JyA/ICcjNDc1NTY5JyA6IHZhbHVlO1xuICAgICAgICBzZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uKTtcbiAgICAgICAgc3R5bGVTZWxlY3RPcHRpb25zKHNlbGVjdCk7XG4gICAgICB9O1xuICAgIGNvbnN0IHJlZnJlc2hUaGVtZUNvbG9yU2VsZWN0cyA9ICgpID0+IHRoZW1lQ29sb3JTZWxlY3RzLmZvckVhY2goZmlsbFRoZW1lQ29sb3JTZWxlY3QpO1xuICAgIHJlZnJlc2hUaGVtZUNvbG9yU2VsZWN0cygpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2FpLXRoZW1lLXVwZGF0ZWQnLCByZWZyZXNoVGhlbWVDb2xvclNlbGVjdHMpO1xuICAgIGNvbnN0IGJsb2NrRm9ybVNlY3Rpb25zID0gYmxvY2tGb3JtXG4gICAgICA/IEFycmF5LmZyb20oYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWVkaXRvci1zZWN0aW9uXScpKVxuICAgICAgOiBbXTtcbiAgICAvLyBPbmdsZXRzIENvbnRlbnUgLyBBcHBhcmVuY2VcbiAgICBjb25zdCBibG9ja1RhYnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1ibG9jay10YWJdJyk7XG4gICAgbGV0IGFjdGl2ZUJsb2NrVGFiID0gJ2NvbnRlbnQnO1xuXG4gICAgLy8gT25nbGV0cyBwYW5uZWF1IGdhdWNoZSAoQmxvY3MgLyBQYWdlcylcbiAgICBjb25zdCBsZWZ0UGFuZWxUYWJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtbGVmdC10YWJdJyk7XG4gICAgY29uc3QgbGVmdFBhbmVsQmxvY2tzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbGVmdC1wYW5lbD1cImJsb2Nrc1wiXScpO1xuICAgIGNvbnN0IGxlZnRQYW5lbFBhZ2VzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbGVmdC1wYW5lbD1cInBhZ2VzXCJdJyk7XG4gICAgbGV0IGFjdGl2ZUxlZnRUYWIgPSAnYmxvY2tzJztcblxuICAgIC8vIEZvbmN0aW9uIHBvdXIgc3dpdGNoZXIgZW50cmUgbGVzIG9uZ2xldHMgQmxvY3MvUGFnZXMgZHUgcGFubmVhdSBnYXVjaGVcbiAgICBjb25zdCBzd2l0Y2hMZWZ0VGFiID0gKHRhYk5hbWUpID0+IHtcbiAgICAgIGFjdGl2ZUxlZnRUYWIgPSB0YWJOYW1lO1xuICAgICAgbGVmdFBhbmVsVGFicy5mb3JFYWNoKCh0YWIpID0+IHtcbiAgICAgICAgY29uc3QgaXNBY3RpdmUgPSB0YWIuZGF0YXNldC5sZWZ0VGFiID09PSB0YWJOYW1lO1xuICAgICAgICB0YWIuc2V0QXR0cmlidXRlKCdhcmlhLXNlbGVjdGVkJywgaXNBY3RpdmUgPyAndHJ1ZScgOiAnZmFsc2UnKTtcbiAgICAgICAgaWYgKGlzQWN0aXZlKSB7XG4gICAgICAgICAgdGFiLmNsYXNzTGlzdC5hZGQoJ3RleHQtWyM5QzZCRkZdJyk7XG4gICAgICAgICAgdGFiLmNsYXNzTGlzdC5yZW1vdmUoJ3RleHQtc2xhdGUtNTAwJywgJ2hvdmVyOnRleHQtc2xhdGUtNzAwJyk7XG4gICAgICAgICAgdGFiLmNsYXNzTGlzdC5hZGQoJ2FmdGVyOmFic29sdXRlJywgJ2FmdGVyOmJvdHRvbS0wJywgJ2FmdGVyOmxlZnQtMCcsICdhZnRlcjpyaWdodC0wJywgJ2FmdGVyOmgtMC41JywgJ2FmdGVyOmJnLVsjOUM2QkZGXScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRhYi5jbGFzc0xpc3QucmVtb3ZlKCd0ZXh0LVsjOUM2QkZGXScpO1xuICAgICAgICAgIHRhYi5jbGFzc0xpc3QuYWRkKCd0ZXh0LXNsYXRlLTUwMCcsICdob3Zlcjp0ZXh0LXNsYXRlLTcwMCcpO1xuICAgICAgICAgIHRhYi5jbGFzc0xpc3QucmVtb3ZlKCdhZnRlcjphYnNvbHV0ZScsICdhZnRlcjpib3R0b20tMCcsICdhZnRlcjpsZWZ0LTAnLCAnYWZ0ZXI6cmlnaHQtMCcsICdhZnRlcjpoLTAuNScsICdhZnRlcjpiZy1bIzlDNkJGRl0nKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICAvLyBBZmZpY2hlci9tYXNxdWVyIGxlcyBwYW5lbHNcbiAgICAgIGlmIChsZWZ0UGFuZWxCbG9ja3MpIHtcbiAgICAgICAgbGVmdFBhbmVsQmxvY2tzLmNsYXNzTGlzdC50b2dnbGUoJ2hpZGRlbicsIHRhYk5hbWUgIT09ICdibG9ja3MnKTtcbiAgICAgIH1cbiAgICAgIGlmIChsZWZ0UGFuZWxQYWdlcykge1xuICAgICAgICBsZWZ0UGFuZWxQYWdlcy5jbGFzc0xpc3QudG9nZ2xlKCdoaWRkZW4nLCB0YWJOYW1lICE9PSAncGFnZXMnKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gRXZlbnQgbGlzdGVuZXJzIHBvdXIgbGVzIG9uZ2xldHMgZHUgcGFubmVhdSBnYXVjaGVcbiAgICBsZWZ0UGFuZWxUYWJzLmZvckVhY2goKHRhYikgPT4ge1xuICAgICAgdGFiLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBzd2l0Y2hMZWZ0VGFiKHRhYi5kYXRhc2V0LmxlZnRUYWIpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgXG4gICAgLy8gRFx1MDBFOWNsYXJhdGlvbnMgZGVzIFx1MDBFOWxcdTAwRTltZW50cyBkJ2FjdGlvbnMgZHUgZm9ybXVsYWlyZSAoYXZhbnQgc3dpdGNoQmxvY2tUYWIpXG4gICAgY29uc3QgYmxvY2tGb3JtQWN0aW9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWZvcm0tYWN0aW9uc10nKTtcbiAgICBjb25zdCBibG9ja0Zvcm1BdXRvc2F2ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWZvcm0tYXV0b3NhdmVdJyk7XG5cbiAgICAvLyBGb25jdGlvbiBwb3VyIHN3aXRjaGVyIGVudHJlIGxlcyBvbmdsZXRzIENvbnRlbnUvQXBwYXJlbmNlXG4gICAgY29uc3Qgc3dpdGNoQmxvY2tUYWIgPSAodGFiTmFtZSkgPT4ge1xuICAgICAgYWN0aXZlQmxvY2tUYWIgPSB0YWJOYW1lO1xuICAgICAgLy8gTWV0dHJlIFx1MDBFMCBqb3VyIGxlcyBzdHlsZXMgZGVzIGJvdXRvbnMgZCdvbmdsZXRcbiAgICAgIGJsb2NrVGFicy5mb3JFYWNoKCh0YWIpID0+IHtcbiAgICAgICAgY29uc3QgaXNBY3RpdmUgPSB0YWIuZGF0YXNldC5ibG9ja1RhYiA9PT0gdGFiTmFtZTtcbiAgICAgICAgdGFiLnNldEF0dHJpYnV0ZSgnYXJpYS1zZWxlY3RlZCcsIGlzQWN0aXZlID8gJ3RydWUnIDogJ2ZhbHNlJyk7XG4gICAgICAgIGlmIChpc0FjdGl2ZSkge1xuICAgICAgICAgIHRhYi5jbGFzc0xpc3QuYWRkKCd0ZXh0LVsjOUM2QkZGXScpO1xuICAgICAgICAgIHRhYi5jbGFzc0xpc3QucmVtb3ZlKCd0ZXh0LXNsYXRlLTUwMCcsICdob3Zlcjp0ZXh0LXNsYXRlLTcwMCcpO1xuICAgICAgICAgIHRhYi5jbGFzc0xpc3QuYWRkKCdhZnRlcjphYnNvbHV0ZScsICdhZnRlcjpib3R0b20tMCcsICdhZnRlcjpsZWZ0LTAnLCAnYWZ0ZXI6cmlnaHQtMCcsICdhZnRlcjpoLTAuNScsICdhZnRlcjpiZy1bIzlDNkJGRl0nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0YWIuY2xhc3NMaXN0LnJlbW92ZSgndGV4dC1bIzlDNkJGRl0nKTtcbiAgICAgICAgICB0YWIuY2xhc3NMaXN0LmFkZCgndGV4dC1zbGF0ZS01MDAnLCAnaG92ZXI6dGV4dC1zbGF0ZS03MDAnKTtcbiAgICAgICAgICB0YWIuY2xhc3NMaXN0LnJlbW92ZSgnYWZ0ZXI6YWJzb2x1dGUnLCAnYWZ0ZXI6Ym90dG9tLTAnLCAnYWZ0ZXI6bGVmdC0wJywgJ2FmdGVyOnJpZ2h0LTAnLCAnYWZ0ZXI6aC0wLjUnLCAnYWZ0ZXI6YmctWyM5QzZCRkZdJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgLy8gQWZmaWNoZXIvbWFzcXVlciBsZXMgcGFuZWxzIGRhbnMgbGEgc2VjdGlvbiBhY3RpdmVcbiAgICAgIGNvbnN0IGFjdGl2ZVNlY3Rpb24gPSBibG9ja0Zvcm0/LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWVkaXRvci1zZWN0aW9uXTpub3QoLmhpZGRlbiknKTtcbiAgICAgIGlmIChhY3RpdmVTZWN0aW9uKSB7XG4gICAgICAgIGNvbnN0IHBhbmVscyA9IGFjdGl2ZVNlY3Rpb24ucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYmxvY2stcGFuZWxdJyk7XG4gICAgICAgIHBhbmVscy5mb3JFYWNoKChwYW5lbCkgPT4ge1xuICAgICAgICAgIGlmIChwYW5lbC5kYXRhc2V0LmJsb2NrUGFuZWwgPT09IHRhYk5hbWUpIHtcbiAgICAgICAgICAgIHBhbmVsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYW5lbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgLy8gQWZmaWNoZXIvbWFzcXVlciBsZXMgYm91dG9ucyBzZWxvbiBsJ29uZ2xldFxuICAgICAgLy8gQ29udGVudSBcdTIxOTIgYm91dG9ucyBFbnJlZ2lzdHJlci9Bbm51bGVyXG4gICAgICAvLyBBcHBhcmVuY2UgXHUyMTkyIGluZGljYXRldXIgYXV0by1zYXZlXG4gICAgICBpZiAoYmxvY2tGb3JtQWN0aW9ucyAmJiBibG9ja0Zvcm1BdXRvc2F2ZSkge1xuICAgICAgICBpZiAodGFiTmFtZSA9PT0gJ2NvbnRlbnQnKSB7XG4gICAgICAgICAgYmxvY2tGb3JtQWN0aW9ucy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICBibG9ja0Zvcm1BdXRvc2F2ZS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBibG9ja0Zvcm1BY3Rpb25zLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICAgIGJsb2NrRm9ybUF1dG9zYXZlLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIEV2ZW50IGxpc3RlbmVycyBwb3VyIGxlcyBvbmdsZXRzXG4gICAgYmxvY2tUYWJzLmZvckVhY2goKHRhYikgPT4ge1xuICAgICAgdGFiLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBzd2l0Y2hCbG9ja1RhYih0YWIuZGF0YXNldC5ibG9ja1RhYik7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGNvbnN0IGNvbGxlY3Rpb25TZWxlY3QgPSBibG9ja0Zvcm0/LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiY29sbGVjdGlvbi1ncmlkLWNvbGxlY3Rpb25cIl0nKTtcbiAgICBjb25zdCBjb2xsZWN0aW9uU2VsZWN0aW9uSW5mbyA9IGJsb2NrRm9ybT8ucXVlcnlTZWxlY3RvcihcbiAgICAgICdbZGF0YS1jb2xsZWN0aW9uLXNlbGVjdGlvbi1pbmZvXScsXG4gICAgKTtcbiAgICBjb25zdCBibG9ja0Zvcm1DYW5jZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1mb3JtLWNhbmNlbF0nKTtcbiAgICBjb25zdCBncm91cFByZXZpZXdNb2JpbGUgPSBibG9ja0Zvcm0/LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWdyb3VwLXByZXZpZXctbW9iaWxlXScpO1xuICAgIGNvbnN0IGdyb3VwUHJldmlld0Rlc2t0b3AgPSBibG9ja0Zvcm0/LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWdyb3VwLXByZXZpZXctZGVza3RvcF0nKTtcbiAgICBjb25zdCBjb2xsZWN0aW9uUHJldmlld01vYmlsZSA9IGJsb2NrRm9ybT8ucXVlcnlTZWxlY3RvcignW2RhdGEtY29sbGVjdGlvbi1wcmV2aWV3LW1vYmlsZV0nKTtcbiAgICBjb25zdCBjb2xsZWN0aW9uUHJldmlld0Rlc2t0b3AgPSBibG9ja0Zvcm0/LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbGxlY3Rpb24tcHJldmlldy1kZXNrdG9wXScpO1xuICAgIGNvbnN0IGJsb2NrVHlwZUZvcm1zID0ge1xuICAgICAgaGVybzoge1xuICAgICAgICBzZWN0aW9uOiAnaGVybycsXG4gICAgICAgIGxhYmVsRmllbGQ6ICd0aXRsZScsXG4gICAgICAgIGRlc2NyaXB0aW9uRmllbGQ6ICdzdWJ0aXRsZScsXG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIHRpdGxlOiAnaGVyby10aXRsZScsXG4gICAgICAgICAgc3VidGl0bGU6ICdoZXJvLXN1YnRpdGxlJyxcbiAgICAgICAgICBjdGFMYWJlbDogJ2hlcm8tY3RhLWxhYmVsJyxcbiAgICAgICAgICBjdGFVcmw6ICdoZXJvLWN0YS11cmwnLFxuICAgICAgICAgIC8vIEFwcGFyZW5jZVxuICAgICAgICAgIGltYWdlOiAnaGVyby1pbWFnZScsXG4gICAgICAgICAgbGF5b3V0OiAnaGVyby1sYXlvdXQnLFxuICAgICAgICAgIGhlaWdodDogJ2hlcm8taGVpZ2h0JyxcbiAgICAgICAgICBjb250ZW50QWxpZ246ICdoZXJvLWNvbnRlbnQtYWxpZ24nLFxuICAgICAgICAgIGhvcml6b250YWxBbGlnbjogJ2hlcm8taG9yaXpvbnRhbC1hbGlnbicsXG4gICAgICAgICAgdGV4dEFsaWduOiAnaGVyby10ZXh0LWFsaWduJyxcbiAgICAgICAgICBvdmVybGF5OiAnaGVyby1vdmVybGF5JyxcbiAgICAgICAgICB0aXRsZVNpemU6ICdoZXJvLXRpdGxlLXNpemUnLFxuICAgICAgICAgIC8vIENhcmQgc3R5bGVcbiAgICAgICAgICBiZzogJ2hlcm8tYmcnLFxuICAgICAgICAgIGJvcmRlclJhZGl1czogJ2hlcm8tYm9yZGVyLXJhZGl1cycsXG4gICAgICAgICAgc2hhZG93OiAnaGVyby1zaGFkb3cnLFxuICAgICAgICAgIGJvcmRlcjogJ2hlcm8tYm9yZGVyJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBwYXJhZ3JhcGhlOiB7XG4gICAgICAgIHNlY3Rpb246ICdwYXJhZ3JhcGgnLFxuICAgICAgICBsYWJlbEZpZWxkOiAndGl0bGUnLFxuICAgICAgICBkZXNjcmlwdGlvbkZpZWxkOiAnY29udGVudCcsXG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIHRpdGxlOiAncGFyYWdyYXBoLXRpdGxlJyxcbiAgICAgICAgICBjb250ZW50OiAncGFyYWdyYXBoLWNvbnRlbnQnLFxuICAgICAgICAgIC8vIEFwcGFyZW5jZVxuICAgICAgICAgIGFsaWduOiAncGFyYWdyYXBoLWFsaWduJyxcbiAgICAgICAgICB0aXRsZVNpemU6ICdwYXJhZ3JhcGgtdGl0bGUtc2l6ZScsXG4gICAgICAgICAgdGV4dFNpemU6ICdwYXJhZ3JhcGgtdGV4dC1zaXplJyxcbiAgICAgICAgICBzcGFjaW5nOiAncGFyYWdyYXBoLXNwYWNpbmcnLFxuICAgICAgICAgIC8vIENhcmQgc3R5bGVcbiAgICAgICAgICBiZzogJ3BhcmFncmFwaC1iZycsXG4gICAgICAgICAgYm9yZGVyUmFkaXVzOiAncGFyYWdyYXBoLWJvcmRlci1yYWRpdXMnLFxuICAgICAgICAgIHNoYWRvdzogJ3BhcmFncmFwaC1zaGFkb3cnLFxuICAgICAgICAgIGJvcmRlcjogJ3BhcmFncmFwaC1ib3JkZXInLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGltYWdlOiB7XG4gICAgICAgIHNlY3Rpb246ICdpbWFnZScsXG4gICAgICAgIGxhYmVsRmllbGQ6ICdhbHQnLFxuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBzcmM6ICdpbWFnZS1zcmMnLFxuICAgICAgICAgIGFsdDogJ2ltYWdlLWFsdCcsXG4gICAgICAgICAgc2hvd0NhcHRpb246ICdpbWFnZS1jYXB0aW9uLXRvZ2dsZScsXG4gICAgICAgICAgY2FwdGlvbjogJ2ltYWdlLWNhcHRpb24nLFxuICAgICAgICAgIC8vIEFwcGFyZW5jZVxuICAgICAgICAgIHJvdW5kZWQ6ICdpbWFnZS1yb3VuZGVkJyxcbiAgICAgICAgICBzaGFkb3c6ICdpbWFnZS1zaGFkb3cnLFxuICAgICAgICAgIG1heFdpZHRoOiAnaW1hZ2UtbWF4LXdpZHRoJyxcbiAgICAgICAgICBoZWlnaHQ6ICdpbWFnZS1oZWlnaHQnLFxuICAgICAgICAgIG9iamVjdEZpdDogJ2ltYWdlLW9iamVjdC1maXQnLFxuICAgICAgICAgIGFsaWduOiAnaW1hZ2UtYWxpZ24nLFxuICAgICAgICAgIC8vIENhcmQgc3R5bGVcbiAgICAgICAgICBiZzogJ2ltYWdlLWJnJyxcbiAgICAgICAgICBib3JkZXJSYWRpdXM6ICdpbWFnZS1ib3JkZXItcmFkaXVzJyxcbiAgICAgICAgICBib3JkZXI6ICdpbWFnZS1ib3JkZXInLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGdyb3VwZToge1xuICAgICAgICBzZWN0aW9uOiAnZ3JvdXAnLFxuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAvLyBBcHBhcmVuY2VcbiAgICAgICAgICBjb2x1bW5zTW9iaWxlOiAnZ3JvdXAtY29sdW1ucy1tb2JpbGUnLFxuICAgICAgICAgIGNvbHVtbnNEZXNrdG9wOiAnZ3JvdXAtY29sdW1ucy1kZXNrdG9wJyxcbiAgICAgICAgICBnYXA6ICdncm91cC1nYXAnLFxuICAgICAgICAgIGl0ZW1zQWxpZ246ICdncm91cC1pdGVtcy1hbGlnbicsXG4gICAgICAgICAgbW9iaWxlTGF5b3V0OiAnZ3JvdXAtbW9iaWxlLWxheW91dCcsXG4gICAgICAgICAgLy8gQ2FyZCBzdHlsZVxuICAgICAgICAgIGJnOiAnZ3JvdXAtYmcnLFxuICAgICAgICAgIGJvcmRlclJhZGl1czogJ2dyb3VwLWJvcmRlci1yYWRpdXMnLFxuICAgICAgICAgIHNoYWRvdzogJ2dyb3VwLXNoYWRvdycsXG4gICAgICAgICAgYm9yZGVyOiAnZ3JvdXAtYm9yZGVyJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBjb2xsZWN0aW9uZ3JpZDoge1xuICAgICAgICBzZWN0aW9uOiAnY29sbGVjdGlvbicsXG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIGNvbGxlY3Rpb25JZDogJ2NvbGxlY3Rpb24tZ3JpZC1jb2xsZWN0aW9uJyxcbiAgICAgICAgICBsaW1pdDogJ2NvbGxlY3Rpb24tZ3JpZC1saW1pdCcsXG4gICAgICAgICAgLy8gQXBwYXJlbmNlXG4gICAgICAgICAgY29sdW1uc01vYmlsZTogJ2NvbGxlY3Rpb24tY29sdW1ucy1tb2JpbGUnLFxuICAgICAgICAgIGNvbHVtbnNEZXNrdG9wOiAnY29sbGVjdGlvbi1jb2x1bW5zLWRlc2t0b3AnLFxuICAgICAgICAgIGdhcDogJ2NvbGxlY3Rpb24tZ2FwJyxcbiAgICAgICAgICBpdGVtc0FsaWduOiAnY29sbGVjdGlvbi1pdGVtcy1hbGlnbicsXG4gICAgICAgICAgY2FyZFJvdW5kZWQ6ICdjb2xsZWN0aW9uLWNhcmQtcm91bmRlZCcsXG4gICAgICAgICAgbW9iaWxlTGF5b3V0OiAnY29sbGVjdGlvbi1tb2JpbGUtbGF5b3V0JyxcbiAgICAgICAgICAvLyBDYXJkIHN0eWxlXG4gICAgICAgICAgYmc6ICdjb2xsZWN0aW9uLWJnJyxcbiAgICAgICAgICBib3JkZXJSYWRpdXM6ICdjb2xsZWN0aW9uLWJvcmRlci1yYWRpdXMnLFxuICAgICAgICAgIHNoYWRvdzogJ2NvbGxlY3Rpb24tc2hhZG93JyxcbiAgICAgICAgICBib3JkZXI6ICdjb2xsZWN0aW9uLWJvcmRlcicsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgZm9ybToge1xuICAgICAgICBzZWN0aW9uOiAnZm9ybScsXG4gICAgICAgIGxhYmVsRmllbGQ6ICdmb3JtVGl0bGUnLFxuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBmb3JtVGl0bGU6ICdmb3JtLXRpdGxlJyxcbiAgICAgICAgICBhY3Rpb25Vcmw6ICdmb3JtLWFjdGlvbi11cmwnLFxuICAgICAgICAgIG1ldGhvZDogJ2Zvcm0tbWV0aG9kJyxcbiAgICAgICAgICBzZXJ2aWNlTmFtZTogJ2Zvcm0tc2VydmljZS1uYW1lJyxcbiAgICAgICAgICBzdWJtaXRMYWJlbDogJ2Zvcm0tc3VibWl0LWxhYmVsJyxcbiAgICAgICAgICBzdWNjZXNzTWVzc2FnZTogJ2Zvcm0tc3VjY2Vzcy1tZXNzYWdlJyxcbiAgICAgICAgICAvLyBBcHBhcmVuY2VcbiAgICAgICAgICBtYXhXaWR0aDogJ2Zvcm0tbWF4LXdpZHRoJyxcbiAgICAgICAgICBhbGlnbjogJ2Zvcm0tYWxpZ24nLFxuICAgICAgICAgIGJ1dHRvblJvdW5kZWQ6ICdmb3JtLWJ1dHRvbi1yb3VuZGVkJyxcbiAgICAgICAgICBzcGFjaW5nOiAnZm9ybS1zcGFjaW5nJyxcbiAgICAgICAgICAvLyBDYXJkIHN0eWxlXG4gICAgICAgICAgYmc6ICdmb3JtLWJnJyxcbiAgICAgICAgICBib3JkZXJSYWRpdXM6ICdmb3JtLWJvcmRlci1yYWRpdXMnLFxuICAgICAgICAgIHNoYWRvdzogJ2Zvcm0tc2hhZG93JyxcbiAgICAgICAgICBib3JkZXI6ICdmb3JtLWJvcmRlcicsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgbmV3c2xldHRlcmVtYmVkOiB7XG4gICAgICAgIHNlY3Rpb246ICduZXdzbGV0dGVyJyxcbiAgICAgICAgbGFiZWxGaWVsZDogJ3RpdGxlJyxcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgdGl0bGU6ICduZXdzbGV0dGVyLXRpdGxlJyxcbiAgICAgICAgICBzZXJ2aWNlTmFtZTogJ25ld3NsZXR0ZXItc2VydmljZS1uYW1lJyxcbiAgICAgICAgICBlbWJlZENvZGU6ICduZXdzbGV0dGVyLWVtYmVkLWNvZGUnLFxuICAgICAgICAgIC8vIEFwcGFyZW5jZVxuICAgICAgICAgIG1heFdpZHRoOiAnbmV3c2xldHRlci1tYXgtd2lkdGgnLFxuICAgICAgICAgIGFsaWduOiAnbmV3c2xldHRlci1hbGlnbicsXG4gICAgICAgICAgcGFkZGluZzogJ25ld3NsZXR0ZXItcGFkZGluZycsXG4gICAgICAgICAgYmc6ICduZXdzbGV0dGVyLWJnJyxcbiAgICAgICAgICAvLyBDYXJkIHN0eWxlXG4gICAgICAgICAgYm9yZGVyUmFkaXVzOiAnbmV3c2xldHRlci1ib3JkZXItcmFkaXVzJyxcbiAgICAgICAgICBzaGFkb3c6ICduZXdzbGV0dGVyLXNoYWRvdycsXG4gICAgICAgICAgYm9yZGVyOiAnbmV3c2xldHRlci1ib3JkZXInLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9O1xuICAgIGNvbnN0IGJsb2NrVHlwZUFsaWFzZXMgPSB7XG4gICAgICB0ZXh0ZTogJ3BhcmFncmFwaGUnLFxuICAgICAgcGFyYWdyYXBoOiAncGFyYWdyYXBoZScsXG4gICAgICBwYXJhZ3JhcGhzOiAncGFyYWdyYXBoZScsXG4gICAgICBwYXJhZ3JhcGhlczogJ3BhcmFncmFwaGUnLFxuICAgICAgdGV4dDogJ3BhcmFncmFwaGUnLFxuICAgICAgaGVybzogJ2hlcm8nLFxuICAgICAgaW1hZ2U6ICdpbWFnZScsXG4gICAgICBncm91cGU6ICdncm91cGUnLFxuICAgICAgZ3JvdXA6ICdncm91cGUnLFxuICAgICAgY29sbGVjdGlvbjogJ2NvbGxlY3Rpb25ncmlkJyxcbiAgICAgIGNvbGxlY3Rpb25ncmlkOiAnY29sbGVjdGlvbmdyaWQnLFxuICAgICAgJ2NvbGxlY3Rpb24tZ3JpZCc6ICdjb2xsZWN0aW9uZ3JpZCcsXG4gICAgICBmb3JtOiAnZm9ybScsXG4gICAgICBmb3JtdWxhaXJlOiAnZm9ybScsXG4gICAgICBjb250YWN0OiAnZm9ybScsXG4gICAgICBuZXdzbGV0dGVyZW1iZWQ6ICduZXdzbGV0dGVyZW1iZWQnLFxuICAgICAgbmV3c2xldHRlcjogJ25ld3NsZXR0ZXJlbWJlZCcsXG4gICAgICBlbWJlZDogJ25ld3NsZXR0ZXJlbWJlZCcsXG4gICAgfTtcbiAgICBjb25zdCBhbmltYXRpb25GaWVsZE1hcCA9IHtcbiAgICAgIGFuaW1hdGlvbjogJ2FuaW0tdHlwZScsXG4gICAgICBhbmltYXRpb25EZWxheTogJ2FuaW0tZGVsYXknLFxuICAgICAgYW5pbWF0aW9uRHVyYXRpb246ICdhbmltLWR1cmF0aW9uJyxcbiAgICB9O1xuICAgIE9iamVjdC52YWx1ZXMoYmxvY2tUeXBlRm9ybXMpLmZvckVhY2goKGNvbmZpZykgPT4ge1xuICAgICAgY29uZmlnLmZpZWxkcyA9IHsgLi4uY29uZmlnLmZpZWxkcywgLi4uYW5pbWF0aW9uRmllbGRNYXAgfTtcbiAgICB9KTtcbiAgICBjb25zdCB1cGRhdGVHcm91cE1pbmlQcmV2aWV3ID0gKG1vYmlsZVZhbHVlLCBkZXNrdG9wVmFsdWUpID0+IHtcbiAgICAgIGlmICghZ3JvdXBQcmV2aWV3TW9iaWxlIHx8ICFncm91cFByZXZpZXdEZXNrdG9wKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlbmRlckJveGVzID0gKGNvdW50KSA9PlxuICAgICAgICBBcnJheS5mcm9tKHsgbGVuZ3RoOiBOdW1iZXIoY291bnQpIHx8IDEgfSlcbiAgICAgICAgICAubWFwKCgpID0+ICc8c3BhbiBjbGFzcz1cImJsb2NrIGgtMiB3LWZ1bGwgcm91bmRlZC1mdWxsIGJnLXNsYXRlLTMwMFwiPjwvc3Bhbj4nKVxuICAgICAgICAgIC5qb2luKCcnKTtcbiAgICAgIGdyb3VwUHJldmlld01vYmlsZS5pbm5lckhUTUwgPSByZW5kZXJCb3hlcyhtb2JpbGVWYWx1ZSk7XG4gICAgICBncm91cFByZXZpZXdEZXNrdG9wLmlubmVySFRNTCA9IHJlbmRlckJveGVzKGRlc2t0b3BWYWx1ZSk7XG4gICAgfTtcbiAgICBjb25zdCB1cGRhdGVDb2xsZWN0aW9uTWluaVByZXZpZXcgPSAobW9iaWxlVmFsdWUsIGRlc2t0b3BWYWx1ZSkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uUHJldmlld01vYmlsZSB8fCAhY29sbGVjdGlvblByZXZpZXdEZXNrdG9wKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlbmRlckJveGVzID0gKGNvdW50KSA9PlxuICAgICAgICBBcnJheS5mcm9tKHsgbGVuZ3RoOiBOdW1iZXIoY291bnQpIHx8IDEgfSlcbiAgICAgICAgICAubWFwKCgpID0+ICc8c3BhbiBjbGFzcz1cImJsb2NrIGgtMiB3LWZ1bGwgcm91bmRlZC1mdWxsIGJnLXZpb2xldC0zMDBcIj48L3NwYW4+JylcbiAgICAgICAgICAuam9pbignJyk7XG4gICAgICBjb2xsZWN0aW9uUHJldmlld01vYmlsZS5pbm5lckhUTUwgPSByZW5kZXJCb3hlcyhtb2JpbGVWYWx1ZSk7XG4gICAgICBjb2xsZWN0aW9uUHJldmlld0Rlc2t0b3AuaW5uZXJIVE1MID0gcmVuZGVyQm94ZXMoZGVza3RvcFZhbHVlKTtcbiAgICB9O1xuICAgIGNvbnN0IGZldGNoUGFnZXNGcm9tU2VydmVyID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFwYWdlc0FwaUJhc2UpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChwYWdlc0FwaUJhc2UsIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ltcG9zc2libGUgZGUgY2hhcmdlciBsZXMgcGFnZXMuJyk7XG4gICAgICB9XG4gICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+IFtdKTtcbiAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHBheWxvYWQpID8gcGF5bG9hZCA6IFtdO1xuICAgIH07XG4gICAgY29uc3QgY3JlYXRlUGFnZU9uU2VydmVyID0gYXN5bmMgKHsgbmFtZSwgdGl0bGUsIHNsdWcgfSkgPT4ge1xuICAgICAgaWYgKCFwYWdlc0FwaUJhc2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTaXRlIGluY29ubnUuJyk7XG4gICAgICB9XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHBhZ2VzQXBpQmFzZSwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgbmFtZSwgdGl0bGUsIHNsdWcgfSksXG4gICAgICB9KTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHBheWxvYWQubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBjclx1MDBFOWVyIGxhIHBhZ2UuJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgIH07XG4gICAgY29uc3Qgc2F2ZVBhZ2VUb1NlcnZlciA9IGFzeW5jIChwYWdlKSA9PiB7XG4gICAgICBpZiAoIXBhZ2VzQXBpQmFzZSB8fCAhcGFnZT8uaWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtwYWdlc0FwaUJhc2V9LyR7ZW5jb2RlVVJJQ29tcG9uZW50KHBhZ2UuaWQpfWAsIHtcbiAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYWdlKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihwYXlsb2FkLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgc2F1dmVnYXJkZXIgbGEgcGFnZS4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzYXZlZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgaWYgKHNhdmVkPy5pZCkge1xuICAgICAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBub3JtYWxpemVQYWdlRGF0YShzYXZlZCk7XG4gICAgICAgICAgcGFnZXMgPSBwYWdlcy5tYXAoKGVudHJ5KSA9PiAoZW50cnkuaWQgPT09IG5vcm1hbGl6ZWQuaWQgPyBub3JtYWxpemVkIDogZW50cnkpKTtcbiAgICAgICAgICBpZiAoY3VycmVudFBhZ2U/LmlkID09PSBub3JtYWxpemVkLmlkKSB7XG4gICAgICAgICAgICBjdXJyZW50UGFnZSA9IG5vcm1hbGl6ZWQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBub3JtYWxpemVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzYXZlZDtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZGVzaWduXSBTYXZlIHBhZ2UgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdTYXV2ZWdhcmRlIGltcG9zc2libGUuJyk7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBsb2FkUGFnZXNGcm9tU2VydmVyID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFwYWdlc0FwaUJhc2UpIHtcbiAgICAgICAgcGFnZXMgPSBbXTtcbiAgICAgICAgYWN0aXZlUGFnZUlkID0gbnVsbDtcbiAgICAgICAgY3VycmVudFBhZ2UgPSBudWxsO1xuICAgICAgICByZW5kZXJQYWdlTGlzdHMocGFnZXMsIGFjdGl2ZVBhZ2VJZCk7XG4gICAgICAgIHJlbmRlckJsb2NrTGlzdChudWxsKTtcbiAgICAgICAgYmxvY2tEZXRhaWxFbXB0eT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIGJsb2NrRWRpdG9yPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgbG9hZGVkUGFnZXMgPSBhd2FpdCBmZXRjaFBhZ2VzRnJvbVNlcnZlcigpO1xuICAgICAgICBwYWdlcyA9IChBcnJheS5pc0FycmF5KGxvYWRlZFBhZ2VzKSA/IGxvYWRlZFBhZ2VzIDogW10pLm1hcCgocGFnZSkgPT5cbiAgICAgICAgICBub3JtYWxpemVQYWdlRGF0YShwYWdlKSxcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKHBhZ2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIGFjdGl2ZVBhZ2VJZCA9IG51bGw7XG4gICAgICAgICAgY3VycmVudFBhZ2UgPSBudWxsO1xuICAgICAgICAgIHJlbmRlclBhZ2VMaXN0cyhwYWdlcywgYWN0aXZlUGFnZUlkKTtcbiAgICAgICAgICByZW5kZXJCbG9ja0xpc3QobnVsbCk7XG4gICAgICAgICAgYmxvY2tEZXRhaWxFbXB0eT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgYmxvY2tFZGl0b3I/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICAgIHByZXZpZXdGcmFtZSAmJiAocHJldmlld0ZyYW1lLnNyY2RvYyA9IGdldExvYWRpbmdQcmV2aWV3SHRtbCgpKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgYWN0aXZlUGFnZUlkID0gZ2V0U3RvcmVkQWN0aXZlUGFnZShwYWdlcyk7XG4gICAgICAgIHNldEFjdGl2ZVBhZ2UoYWN0aXZlUGFnZUlkKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZGVzaWduXSBJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIHBhZ2VzJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KCdJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIHBhZ2VzLicpO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3Qgbm9ybWFsaXplVHlwZSA9ICh2YWx1ZSkgPT5cbiAgICAgICh2YWx1ZSB8fCAnJykubm9ybWFsaXplKCdORkQnKS5yZXBsYWNlKC9bXFx1MDMwMC1cXHUwMzZmXS9nLCAnJykudG9Mb3dlckNhc2UoKTtcbiAgICBjb25zdCBnZXRCbG9ja0Zvcm1Db25maWcgPSAoYmxvY2spID0+IHtcbiAgICAgIGlmICghYmxvY2spIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICBjb25zdCB0eXBlS2V5ID0gbm9ybWFsaXplVHlwZShibG9jay50eXBlKTtcbiAgICAgIGNvbnN0IGFsaWFzID0gYmxvY2tUeXBlQWxpYXNlc1t0eXBlS2V5XSB8fCB0eXBlS2V5O1xuICAgICAgcmV0dXJuIGJsb2NrVHlwZUZvcm1zW2FsaWFzXSB8fCBudWxsO1xuICAgIH07XG4gICAgY29uc3QgcG9wdWxhdGVCbG9ja0Zvcm0gPSAoYmxvY2spID0+IHtcbiAgICAgIGlmICghYmxvY2tGb3JtIHx8ICFibG9ja0VkaXRvcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoYmxvY2sgJiYgIWJsb2NrLnNldHRpbmdzKSB7XG4gICAgICAgIGJsb2NrLnNldHRpbmdzID0ge307XG4gICAgICB9XG4gICAgICBjb25zdCBjb25maWcgPSBnZXRCbG9ja0Zvcm1Db25maWcoYmxvY2spO1xuICAgICAgaWYgKGJsb2NrRWRpdG9yVGl0bGUpIHtcbiAgICAgICAgYmxvY2tFZGl0b3JUaXRsZS50ZXh0Q29udGVudCA9IGJsb2NrPy5sYWJlbCB8fCAnQmxvYyc7XG4gICAgICB9XG4gICAgICBpZiAoYmxvY2tFZGl0b3JUeXBlKSB7XG4gICAgICAgIGJsb2NrRWRpdG9yVHlwZS50ZXh0Q29udGVudCA9IGJsb2NrPy50eXBlIHx8ICdCbG9jJztcbiAgICAgIH1cbiAgICAgIGlmICghY29uZmlnKSB7XG4gICAgICAgIGJsb2NrRm9ybS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgYmxvY2tFZGl0b3JVbnN1cHBvcnRlZD8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIGJsb2NrRm9ybS5kYXRhc2V0LmJsb2NrSWQgPSAnJztcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYmxvY2tFZGl0b3JVbnN1cHBvcnRlZD8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBibG9ja0Zvcm0uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBibG9ja0Zvcm0ucmVzZXQoKTtcbiAgICAgIGJsb2NrRm9ybS5kYXRhc2V0LmJsb2NrSWQgPSBibG9jay5pZDtcbiAgICAgIGJsb2NrRm9ybVNlY3Rpb25zLmZvckVhY2goKHNlY3Rpb24pID0+IHtcbiAgICAgICAgY29uc3Qgc2VjdGlvbklkID0gc2VjdGlvbi5kYXRhc2V0LmVkaXRvclNlY3Rpb247XG4gICAgICAgIGlmIChzZWN0aW9uSWQgPT09IGNvbmZpZy5zZWN0aW9uKSB7XG4gICAgICAgICAgc2VjdGlvbi5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWN0aW9uLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIC8vIFJcdTAwRTlpbml0aWFsaXNlciBzdXIgbCdvbmdsZXQgQ29udGVudVxuICAgICAgc3dpdGNoQmxvY2tUYWIoJ2NvbnRlbnQnKTtcbiAgICAgIGlmIChjb25maWcuc2VjdGlvbiA9PT0gJ2NvbGxlY3Rpb24nKSB7XG4gICAgICAgIGNvbnN0IGRlc2lyZWRWYWx1ZSA9IGJsb2NrLmNvbGxlY3Rpb25JZCB8fCBibG9jay5zZXR0aW5ncz8uY29sbGVjdGlvbklkIHx8ICcnO1xuICAgICAgICB1cGRhdGVDb2xsZWN0aW9uU2VsZWN0T3B0aW9ucyhkZXNpcmVkVmFsdWUpO1xuICAgICAgfVxuICAgICAgT2JqZWN0LmVudHJpZXMoY29uZmlnLmZpZWxkcykuZm9yRWFjaCgoW3NldHRpbmdLZXksIGZpZWxkTmFtZV0pID0+IHtcbiAgICAgICAgY29uc3QgaW5wdXQgPSBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcihgW25hbWU9XCIke2ZpZWxkTmFtZX1cIl1gKTtcbiAgICAgICAgaWYgKCFpbnB1dCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2YWx1ZSA9IGJsb2NrLnNldHRpbmdzPy5bc2V0dGluZ0tleV07XG4gICAgICAgIGlmIChpbnB1dC50eXBlID09PSAnY2hlY2tib3gnKSB7XG4gICAgICAgICAgaW5wdXQuY2hlY2tlZCA9IEJvb2xlYW4odmFsdWUpO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0LnR5cGUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgY29uc3QgZmFsbGJhY2sgPSBpbnB1dC5kYXRhc2V0LmRlZmF1bHQgPz8gaW5wdXQuZGVmYXVsdFZhbHVlID8/ICcnO1xuICAgICAgICAgIGlucHV0LnZhbHVlID0gdmFsdWUgPz8gZmFsbGJhY2s7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5wdXQudGFnTmFtZSA9PT0gJ1RFWFRBUkVBJykge1xuICAgICAgICAgIGlucHV0LnZhbHVlID0gdmFsdWUgPz8gJyc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaW5wdXQudmFsdWUgPSB2YWx1ZSA/PyAnJztcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoY29uZmlnLnNlY3Rpb24gPT09ICdncm91cCcpIHtcbiAgICAgICAgY29uc3QgbW9iaWxlVmFsdWUgPVxuICAgICAgICAgIGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImdyb3VwLWNvbHVtbnMtbW9iaWxlXCJdJyk/LnZhbHVlIHx8ICcxJztcbiAgICAgICAgY29uc3QgZGVza3RvcFZhbHVlID1cbiAgICAgICAgICBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJncm91cC1jb2x1bW5zLWRlc2t0b3BcIl0nKT8udmFsdWUgfHwgJzMnO1xuICAgICAgICB1cGRhdGVHcm91cE1pbmlQcmV2aWV3KG1vYmlsZVZhbHVlLCBkZXNrdG9wVmFsdWUpO1xuICAgICAgfVxuICAgICAgaWYgKGNvbmZpZy5zZWN0aW9uID09PSAnY29sbGVjdGlvbicpIHtcbiAgICAgICAgY29uc3QgbW9iaWxlVmFsdWUgPVxuICAgICAgICAgIGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImNvbGxlY3Rpb24tY29sdW1ucy1tb2JpbGVcIl0nKT8udmFsdWUgfHwgJzEnO1xuICAgICAgICBjb25zdCBkZXNrdG9wVmFsdWUgPVxuICAgICAgICAgIGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImNvbGxlY3Rpb24tY29sdW1ucy1kZXNrdG9wXCJdJyk/LnZhbHVlIHx8ICczJztcbiAgICAgICAgdXBkYXRlQ29sbGVjdGlvbk1pbmlQcmV2aWV3KG1vYmlsZVZhbHVlLCBkZXNrdG9wVmFsdWUpO1xuICAgICAgfVxuICAgICAgY29uc3QgYmdGaWVsZE5hbWUgPSBjb25maWcuZmllbGRzPy5iZztcbiAgICAgIGlmIChiZ0ZpZWxkTmFtZSkge1xuICAgICAgICBjb25zdCBiZ1NlbGVjdCA9IGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yKGBbbmFtZT1cIiR7YmdGaWVsZE5hbWV9XCJdYCk7XG4gICAgICAgIGVuc3VyZUN1c3RvbVRoZW1lT3B0aW9uKGJnU2VsZWN0LCBibG9jay5zZXR0aW5ncz8uYmcpO1xuICAgICAgfVxuICAgICAgYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWNvbG9yLXNlbGVjdF0nKS5mb3JFYWNoKHVwZGF0ZUNvbG9yU2VsZWN0UHJldmlldyk7XG4gICAgfTtcbiAgICBjb25zdCBjb2xsZWN0Rm9ybVZhbHVlcyA9IChjb25maWcpID0+IHtcbiAgICAgIGlmICghYmxvY2tGb3JtIHx8ICFjb25maWcpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgfVxuICAgICAgY29uc3QgdmFsdWVzID0ge307XG4gICAgICBPYmplY3QuZW50cmllcyhjb25maWcuZmllbGRzKS5mb3JFYWNoKChbc2V0dGluZ0tleSwgZmllbGROYW1lXSkgPT4ge1xuICAgICAgICBjb25zdCBpbnB1dCA9IGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yKGBbbmFtZT1cIiR7ZmllbGROYW1lfVwiXWApO1xuICAgICAgICBpZiAoIWlucHV0KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbnB1dC50eXBlID09PSAnY2hlY2tib3gnKSB7XG4gICAgICAgICAgdmFsdWVzW3NldHRpbmdLZXldID0gaW5wdXQuY2hlY2tlZDtcbiAgICAgICAgfSBlbHNlIGlmIChpbnB1dC50eXBlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIGNvbnN0IHBhcnNlZCA9IE51bWJlcihpbnB1dC52YWx1ZSk7XG4gICAgICAgICAgdmFsdWVzW3NldHRpbmdLZXldID0gTnVtYmVyLmlzRmluaXRlKHBhcnNlZCkgPyBwYXJzZWQgOiAwO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0LnRhZ05hbWUgPT09ICdTRUxFQ1QnKSB7XG4gICAgICAgICAgY29uc3QgZmFsbGJhY2sgPSBpbnB1dC5kYXRhc2V0LmRlZmF1bHQgPz8gaW5wdXQudmFsdWUgPz8gJyc7XG4gICAgICAgICAgdmFsdWVzW3NldHRpbmdLZXldID0gaW5wdXQudmFsdWUgfHwgZmFsbGJhY2s7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5wdXQudGFnTmFtZSA9PT0gJ1RFWFRBUkVBJykge1xuICAgICAgICAgIHZhbHVlc1tzZXR0aW5nS2V5XSA9IGlucHV0LnZhbHVlIHx8ICcnO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0LnR5cGUgPT09ICdzZWxlY3Qtb25lJykge1xuICAgICAgICAgIHZhbHVlc1tzZXR0aW5nS2V5XSA9IGlucHV0LnZhbHVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhbHVlc1tzZXR0aW5nS2V5XSA9IGlucHV0LnZhbHVlIHx8ICcnO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgfTtcbiAgICBjb25zdCB1cGRhdGVQcmV2aWV3U3RhdHVzID0gKHRleHQpID0+IHtcbiAgICAgIGlmICghcHJldmlld1N0YXR1cykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIXRleHQpIHtcbiAgICAgICAgcHJldmlld1N0YXR1cy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcHJldmlld1N0YXR1cy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIHByZXZpZXdTdGF0dXMudGV4dENvbnRlbnQgPSB0ZXh0O1xuICAgIH07XG4gICAgY29uc3Qgc2VyaWFsaXplUGFnZUZvclByZXZpZXcgPSAocGFnZSkgPT4ge1xuICAgICAgaWYgKCFwYWdlKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBGb25jdGlvbiBwb3VyIHNcdTAwRTlyaWFsaXNlciB1biBibG9jICh1dGlsaXNcdTAwRTkgcG91ciBsZXMgYmxvY3MgZXQgbGV1cnMgZW5mYW50cylcbiAgICAgIGNvbnN0IHNlcmlhbGl6ZUJsb2NrID0gKGJsb2NrKSA9PiAoe1xuICAgICAgICBpZDogYmxvY2suaWQsXG4gICAgICAgIHR5cGU6IGJsb2NrLnR5cGUsXG4gICAgICAgIGxhYmVsOiBibG9jay5sYWJlbCxcbiAgICAgICAgc3RhdHVzOiBibG9jay5zdGF0dXMsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBibG9jay5kZXNjcmlwdGlvbixcbiAgICAgICAgcHJvcHM6IGJsb2NrLnByb3BzIHx8IFtdLFxuICAgICAgICBzZXR0aW5nczogYmxvY2suc2V0dGluZ3MgfHwge30sXG4gICAgICAgIGNvbGxlY3Rpb25JZDogYmxvY2suY29sbGVjdGlvbklkIHx8IGJsb2NrLnNldHRpbmdzPy5jb2xsZWN0aW9uSWQgfHwgJycsXG4gICAgICAgIGNoaWxkcmVuOiAoYmxvY2suY2hpbGRyZW4gfHwgW10pLm1hcChzZXJpYWxpemVCbG9jayksXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IHBhZ2UuaWQsXG4gICAgICAgIG5hbWU6IHBhZ2UubmFtZSxcbiAgICAgICAgdGl0bGU6IHBhZ2UudGl0bGUsXG4gICAgICAgIHNsdWc6IHBhZ2Uuc2x1ZyxcbiAgICAgICAgZGVzY3JpcHRpb246IHBhZ2UuZGVzY3JpcHRpb24gfHwgJycsXG4gICAgICAgIGJhZGdlczogWy4uLihwYWdlLmJhZGdlcyB8fCBbXSldLFxuICAgICAgICBzZW86IHBhZ2Uuc2VvIHx8IHt9LFxuICAgICAgICBhY2Nlc3NpYmlsaXR5OiBwYWdlLmFjY2Vzc2liaWxpdHkgfHwge30sXG4gICAgICAgIGJsb2NrczogKHBhZ2UuYmxvY2tzIHx8IFtdKS5tYXAoc2VyaWFsaXplQmxvY2spLFxuICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IGdldExvYWRpbmdQcmV2aWV3SHRtbCA9ICgpID0+XG4gICAgICAnPCFET0NUWVBFIGh0bWw+PGh0bWw+PGJvZHkgc3R5bGU9XCJmb250LWZhbWlseTpJbnRlcixzYW5zLXNlcmlmO3BhZGRpbmc6NDBweDtjb2xvcjojNDc1NTY5O2JhY2tncm91bmQ6I2ZmZjtcIj5Qclx1MDBFOXBhcmF0aW9uIGRlIGxhIHByXHUwMEU5dmlzdWFsaXNhdGlvblx1MjAyNjwvYm9keT48L2h0bWw+JztcblxuICAgIC8vIERlYm91bmNlIHV0aWxpdHlcbiAgICBjb25zdCBkZWJvdW5jZSA9IChmbiwgZGVsYXkpID0+IHtcbiAgICAgIGxldCB0aW1lb3V0SWQ7XG4gICAgICByZXR1cm4gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG4gICAgICAgIHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4gZm4oLi4uYXJncyksIGRlbGF5KTtcbiAgICAgIH07XG4gICAgfTtcblxuICAgIC8vIEF1dG8tc2F2ZSBwb3VyIGwnYXBwYXJlbmNlIChpbW1cdTAwRTlkaWF0IHBvdXIgXHUwMEU5dml0ZXIgbGVzIHBlcnRlcylcbiAgICBjb25zdCBhdXRvU2F2ZUFwcGVhcmFuY2UgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlIHx8ICFhY3RpdmVCbG9ja0lkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGJsb2NrID0gZ2V0QWN0aXZlQmxvY2soKTtcbiAgICAgIGNvbnN0IGNvbmZpZyA9IGdldEJsb2NrRm9ybUNvbmZpZyhibG9jayk7XG4gICAgICBpZiAoIWJsb2NrIHx8ICFjb25maWcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgdmFsdWVzID0gY29sbGVjdEZvcm1WYWx1ZXMoY29uZmlnKTtcbiAgICAgIGNvbnN0IHVwZGF0ZWRCbG9ja3MgPSAoY3VycmVudFBhZ2UuYmxvY2tzIHx8IFtdKS5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIGlmIChlbnRyeS5pZCAhPT0gYmxvY2suaWQpIHtcbiAgICAgICAgICByZXR1cm4gZW50cnk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdXBkYXRlZFNldHRpbmdzID0geyAuLi4oZW50cnkuc2V0dGluZ3MgfHwge30pLCAuLi52YWx1ZXMgfTtcbiAgICAgICAgcmV0dXJuIHsgLi4uZW50cnksIHNldHRpbmdzOiB1cGRhdGVkU2V0dGluZ3MgfTtcbiAgICAgIH0pO1xuICAgICAgLy8gTWlzZSBcdTAwRTAgam91ciBzaWxlbmNpZXVzZSAoc2FucyB0b2FzdCBuaSByZWZyZXNoIGNvbXBsZXQpXG4gICAgICBjb25zdCBuZXh0UGFnZSA9IHsgLi4uY3VycmVudFBhZ2UsIGJsb2NrczogdXBkYXRlZEJsb2NrcyB9O1xuICAgICAgY3VycmVudFBhZ2UgPSBuZXh0UGFnZTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHNhdmVkID0gYXdhaXQgc2F2ZVBhZ2VUb1NlcnZlcihuZXh0UGFnZSk7XG4gICAgICAgIGlmIChzYXZlZD8uaWQpIHtcbiAgICAgICAgICBjb25zdCBub3JtYWxpemVkID0gbm9ybWFsaXplUGFnZURhdGEoc2F2ZWQpO1xuICAgICAgICAgIGN1cnJlbnRQYWdlID0gbm9ybWFsaXplZDtcbiAgICAgICAgICBwYWdlcyA9IHBhZ2VzLm1hcCgocCkgPT4gKHAuaWQgPT09IG5vcm1hbGl6ZWQuaWQgPyBub3JtYWxpemVkIDogcCkpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdbZGVzaWduXSBhdXRvLXNhdmUgYXBwZWFyYW5jZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBNaXNlIFx1MDBFMCBqb3VyIGxpdmUgZGUgbGEgcHJldmlldyB2aWEgcG9zdE1lc3NhZ2UgKHNhbnMgcmVjaGFyZ2VyIGwnaWZyYW1lKVxuICAgIGNvbnN0IHVwZGF0ZVByZXZpZXdCbG9ja0xpdmUgPSAoYmxvY2tJZCwgc2V0dGluZ3MpID0+IHtcbiAgICAgIGlmICghcHJldmlld0ZyYW1lIHx8ICFwcmV2aWV3RnJhbWUuY29udGVudFdpbmRvdykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBFbnZvaWUgbGVzIG5vdXZlbGxlcyBjbGFzc2VzIGF1IGJsb2MgZGFucyBsJ2lmcmFtZVxuICAgICAgcHJldmlld0ZyYW1lLmNvbnRlbnRXaW5kb3cucG9zdE1lc3NhZ2Uoe1xuICAgICAgICB0eXBlOiAndXBkYXRlQmxvY2tTdHlsZXMnLFxuICAgICAgICBibG9ja0lkLFxuICAgICAgICBzZXR0aW5ncyxcbiAgICAgIH0sICcqJyk7XG4gICAgfTtcblxuICAgIC8vIFJlZnJlc2ggcHJldmlldyBjb21wbGV0IGRlYm91bmNlZCAocG91ciBsZXMgY2hhbmdlbWVudHMgY29tcGxleGVzKVxuICAgIGNvbnN0IGRlYm91bmNlZFJlZnJlc2hQcmV2aWV3ID0gZGVib3VuY2UoKCkgPT4ge1xuICAgICAgaWYgKGN1cnJlbnRQYWdlKSB7XG4gICAgICAgIHJlZnJlc2hQcmV2aWV3KGN1cnJlbnRQYWdlKTtcbiAgICAgIH1cbiAgICB9LCAxNTAwKTtcblxuICAgIC8vIE1pc2UgXHUwMEUwIGpvdXIgbGl2ZSBpbW1cdTAwRTlkaWF0ZSAocG91ciBsYSBwcmV2aWV3KVxuICAgIGNvbnN0IGhhbmRsZUFwcGVhcmFuY2VDaGFuZ2UgPSAoYmxvY2tJZCwgc2V0dGluZ3MpID0+IHtcbiAgICAgIHVwZGF0ZVByZXZpZXdCbG9ja0xpdmUoYmxvY2tJZCwgc2V0dGluZ3MpO1xuICAgICAgdXBkYXRlUHJldmlld1N0YXR1cygnTW9kaWZpY2F0aW9uXHUyMDI2Jyk7XG4gICAgICBhdXRvU2F2ZUFwcGVhcmFuY2UoKVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgdXBkYXRlUHJldmlld1N0YXR1cygnU2F1dmVnYXJkXHUwMEU5Jyk7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB1cGRhdGVQcmV2aWV3U3RhdHVzKCdcdTAwQzAgam91cicpLCAxNTAwKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKCgpID0+IHVwZGF0ZVByZXZpZXdTdGF0dXMoJ0VycmV1ciBkZSBzYXV2ZWdhcmRlJykpO1xuICAgICAgLy8gUmVmcmVzaCBjb21wbGV0IGFwclx1MDBFOHMgdW4gZFx1MDBFOWxhaSBwbHVzIGxvbmcgKHBvdXIgbGVzIGNoYW5nZW1lbnRzIGRlIGxheW91dCwgZXRjLilcbiAgICAgIGRlYm91bmNlZFJlZnJlc2hQcmV2aWV3KCk7XG4gICAgfTtcblxuICAgIGNvbnN0IHJlZnJlc2hQcmV2aWV3ID0gKHBhZ2UpID0+IHtcbiAgICAgIGlmICghcHJldmlld0ZyYW1lIHx8ICFwYWdlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHByZXZpZXdTaXRlU2x1ZyA9IHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJyc7XG4gICAgICBjb25zdCBzZXJpYWxpemVkUGFnZXMgPSBwYWdlcy5tYXAoKGVudHJ5KSA9PiAoe1xuICAgICAgICBpZDogZW50cnkuaWQsXG4gICAgICAgIHNsdWc6IGVudHJ5LnNsdWcsXG4gICAgICAgIHRpdGxlOiBlbnRyeS50aXRsZSxcbiAgICAgICAgbmFtZTogZW50cnkubmFtZSxcbiAgICAgICAgYWNjZXNzaWJpbGl0eTogZW50cnkuYWNjZXNzaWJpbGl0eSxcbiAgICAgIH0pKTtcbiAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgIHBhZ2U6IHNlcmlhbGl6ZVBhZ2VGb3JQcmV2aWV3KHBhZ2UpLFxuICAgICAgICBzaXRlOiB7XG4gICAgICAgICAgdGl0bGU6IHN0b3JlZFNpdGUubmFtZSB8fCAnU2l0ZScsXG4gICAgICAgICAgc2x1ZzogcHJldmlld1NpdGVTbHVnLFxuICAgICAgICAgIHBhZ2VzOiBzZXJpYWxpemVkUGFnZXMsXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgICAgcHJldmlld1JlYWR5ID0gZmFsc2U7XG4gICAgICB1cGRhdGVQcmV2aWV3U3RhdHVzKCdBY3R1YWxpc2F0aW9uXHUyMDI2Jyk7XG4gICAgICBwcmV2aWV3RnJhbWUuc3JjZG9jID0gZ2V0TG9hZGluZ1ByZXZpZXdIdG1sKCk7XG4gICAgICBpZiAocHJldmlld1JlcXVlc3RDb250cm9sbGVyKSB7XG4gICAgICAgIHByZXZpZXdSZXF1ZXN0Q29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgfVxuICAgICAgY29uc3QgY29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICAgIHByZXZpZXdSZXF1ZXN0Q29udHJvbGxlciA9IGNvbnRyb2xsZXI7XG4gICAgICBmZXRjaCgnL2FwaS9wcmV2aWV3Jywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICBzaWduYWw6IGNvbnRyb2xsZXIuc2lnbmFsLFxuICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQcmV2aWV3IGVycm9yJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgICAgaWYgKGNvbnRyb2xsZXIuc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgbGF0ZXN0UHJldmlld0h0bWwgPSBkYXRhLmh0bWwgfHwgJyc7XG4gICAgICAgICAgcHJldmlld0ZyYW1lLnNldEF0dHJpYnV0ZShcbiAgICAgICAgICAgICd0aXRsZScsXG4gICAgICAgICAgICBgUHJcdTAwRTl2aXN1YWxpc2F0aW9uIGRlIGxhIHBhZ2UgJHtwYWdlLnRpdGxlIHx8ICcnfWAudHJpbSgpLFxuICAgICAgICAgICk7XG4gICAgICAgICAgcHJldmlld0ZyYW1lLnNyY2RvYyA9IGxhdGVzdFByZXZpZXdIdG1sIHx8IGdldExvYWRpbmdQcmV2aWV3SHRtbCgpO1xuICAgICAgICAgIHVwZGF0ZVByZXZpZXdTdGF0dXMoJ1x1MDBDMCBqb3VyJyk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICBpZiAoY29udHJvbGxlci5zaWduYWwuYWJvcnRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbcHJldmlld10gSW1wb3NzaWJsZSBkZSByZW5kcmUgbGEgcGFnZScsIGVycm9yKTtcbiAgICAgICAgICB1cGRhdGVQcmV2aWV3U3RhdHVzKCdFcnJldXIgcHJldmlldycpO1xuICAgICAgICAgIHByZXZpZXdGcmFtZS5zcmNkb2MgPVxuICAgICAgICAgICAgJzwhRE9DVFlQRSBodG1sPjxodG1sPjxib2R5IHN0eWxlPVwiZm9udC1mYW1pbHk6SW50ZXIsc2Fucy1zZXJpZjtwYWRkaW5nOjQwcHg7Y29sb3I6I2JlMTIzYztiYWNrZ3JvdW5kOiNmZmY7XCI+RXJyZXVyIGxvcnMgZHUgcmVuZHUgZGUgbGEgcHJcdTAwRTl2aXN1YWxpc2F0aW9uLjwvYm9keT48L2h0bWw+JztcbiAgICAgICAgfSlcbiAgICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICAgIGlmIChwcmV2aWV3UmVxdWVzdENvbnRyb2xsZXIgPT09IGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgIHByZXZpZXdSZXF1ZXN0Q29udHJvbGxlciA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZUJsb2NrRm9ybVN1Ym1pdCA9IChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmICghY3VycmVudFBhZ2UgfHwgIWFjdGl2ZUJsb2NrSWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgYmxvY2sgPSBnZXRBY3RpdmVCbG9jaygpO1xuICAgICAgY29uc3QgY29uZmlnID0gZ2V0QmxvY2tGb3JtQ29uZmlnKGJsb2NrKTtcbiAgICAgIGlmICghYmxvY2sgfHwgIWNvbmZpZykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCB2YWx1ZXMgPSBjb2xsZWN0Rm9ybVZhbHVlcyhjb25maWcpO1xuICAgICAgaWYgKGNvbmZpZy5zZWN0aW9uID09PSAnaW1hZ2UnKSB7XG4gICAgICAgIGNvbnN0IGFsdFZhbHVlID0gKHZhbHVlcy5hbHQgfHwgJycpLnRyaW0oKTtcbiAgICAgICAgdmFsdWVzLmFsdCA9IGFsdFZhbHVlO1xuICAgICAgICBpZiAoIWFsdFZhbHVlKSB7XG4gICAgICAgICAgc2hvd1RvYXN0KCdBam91dGUgdW4gdGV4dGUgYWx0ZXJuYXRpZiBwb3VyIGNldHRlIGltYWdlLicsICdlcnJvcicpO1xuICAgICAgICAgIGJsb2NrRm9ybT8ucXVlcnlTZWxlY3RvcignW25hbWU9XCJpbWFnZS1hbHRcIl0nKT8uZm9jdXMoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChjb25maWcuc2VjdGlvbiA9PT0gJ2NvbGxlY3Rpb24nKSB7XG4gICAgICAgIGlmICghdmFsdWVzLmNvbGxlY3Rpb25JZCkge1xuICAgICAgICAgIHNob3dUb2FzdCgnU1x1MDBFOWxlY3Rpb25uZXogdW5lIGNvbGxlY3Rpb24uJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhbHVlcy5saW1pdCA9IE1hdGgubWF4KDEsIE51bWJlcih2YWx1ZXMubGltaXQpIHx8IDEpO1xuICAgICAgfVxuICAgICAgY29uc3QgdXBkYXRlZEJsb2NrcyA9IChjdXJyZW50UGFnZS5ibG9ja3MgfHwgW10pLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgaWYgKGVudHJ5LmlkICE9PSBibG9jay5pZCkge1xuICAgICAgICAgIHJldHVybiBlbnRyeTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB1cGRhdGVkU2V0dGluZ3MgPSB7IC4uLihlbnRyeS5zZXR0aW5ncyB8fCB7fSksIC4uLnZhbHVlcyB9O1xuICAgICAgICBjb25zdCB1cGRhdGVkQmxvY2sgPSB7XG4gICAgICAgICAgLi4uZW50cnksXG4gICAgICAgICAgc2V0dGluZ3M6IHVwZGF0ZWRTZXR0aW5ncyxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGNvbmZpZy5sYWJlbEZpZWxkICYmIHZhbHVlc1tjb25maWcubGFiZWxGaWVsZF0pIHtcbiAgICAgICAgICB1cGRhdGVkQmxvY2subGFiZWwgPSB2YWx1ZXNbY29uZmlnLmxhYmVsRmllbGRdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb25maWcuZGVzY3JpcHRpb25GaWVsZCAmJiB2YWx1ZXNbY29uZmlnLmRlc2NyaXB0aW9uRmllbGRdKSB7XG4gICAgICAgICAgdXBkYXRlZEJsb2NrLmRlc2NyaXB0aW9uID0gdmFsdWVzW2NvbmZpZy5kZXNjcmlwdGlvbkZpZWxkXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29uZmlnLnNlY3Rpb24gPT09ICdjb2xsZWN0aW9uJykge1xuICAgICAgICAgIHVwZGF0ZWRCbG9jay5jb2xsZWN0aW9uSWQgPSB2YWx1ZXMuY29sbGVjdGlvbklkO1xuICAgICAgICAgIHVwZGF0ZWRCbG9jay5zZXR0aW5ncy5jb2xsZWN0aW9uSWQgPSB2YWx1ZXMuY29sbGVjdGlvbklkO1xuICAgICAgICAgIHVwZGF0ZWRCbG9jay5zZXR0aW5ncy5saW1pdCA9IHZhbHVlcy5saW1pdDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdXBkYXRlZEJsb2NrO1xuICAgICAgfSk7XG4gICAgICB1cGRhdGVDdXJyZW50UGFnZUJsb2Nrcyh1cGRhdGVkQmxvY2tzKTtcbiAgICAgIHNob3dUb2FzdCgnQmxvYyBtaXMgXHUwMEUwIGpvdXInKTtcbiAgICAgIHNldEFjdGl2ZVBhZ2UoY3VycmVudFBhZ2UuaWQsIHsgcHJlc2VydmVCbG9jazogdHJ1ZSB9KTtcbiAgICB9O1xuICAgIGNvbnN0IGRyYXdlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXBhZ2UtZHJhd2VyXScpO1xuICAgIGNvbnN0IGRyYXdlckJhY2tkcm9wID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1kcmF3ZXItYmFja2Ryb3BdJyk7XG4gICAgY29uc3QgZHJhd2VyT3BlbkJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1wYWdlLWRyYXdlci1vcGVuXScpO1xuICAgIGNvbnN0IGRyYXdlckNsb3NlQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXBhZ2UtZHJhd2VyLWNsb3NlXScpO1xuICAgIGNvbnN0IGFkZFBhZ2VUb2dnbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZGQtcGFnZS10b2dnbGVdJyk7XG4gICAgY29uc3QgYWRkUGFnZUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZGQtcGFnZS1mb3JtXScpO1xuICAgIGNvbnN0IGFkZFBhZ2VOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRkLXBhZ2UtbmFtZV0nKTtcbiAgICBjb25zdCBhZGRQYWdlVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZGQtcGFnZS10aXRsZV0nKTtcbiAgICBjb25zdCBhZGRQYWdlU2x1ZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFkZC1wYWdlLXNsdWddJyk7XG4gICAgY29uc3QgYWRkUGFnZUNhbmNlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFkZC1wYWdlLWNhbmNlbF0nKTtcbiAgICBjb25zdCBhZGRQYWdlRXJyb3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZGQtcGFnZS1lcnJvcl0nKTtcbiAgICBjb25zdCBhZGRQYWdlU3VibWl0QnV0dG9uID0gYWRkUGFnZUZvcm0/LnF1ZXJ5U2VsZWN0b3IoJ1t0eXBlPVwic3VibWl0XCJdJyk7XG4gICAgLy8gSW1wb3J0IEpTT04gZWxlbWVudHNcbiAgICBjb25zdCBpbXBvcnRUb2dnbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbXBvcnQtcGFnZXMtdG9nZ2xlXScpO1xuICAgIGNvbnN0IGltcG9ydE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaW1wb3J0LW1vZGFsXScpO1xuICAgIGNvbnN0IGltcG9ydENsb3NlQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWltcG9ydC1tb2RhbC1jbG9zZV0nKTtcbiAgICBjb25zdCBpbXBvcnREcm9wem9uZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWltcG9ydC1kcm9wem9uZV0nKTtcbiAgICBjb25zdCBpbXBvcnRGaWxlSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbXBvcnQtZmlsZS1pbnB1dF0nKTtcbiAgICBjb25zdCBpbXBvcnRGaWxlTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWltcG9ydC1maWxlLWxpc3RdJyk7XG4gICAgY29uc3QgaW1wb3J0RmlsZU5hbWVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaW1wb3J0LWZpbGUtbmFtZXNdJyk7XG4gICAgY29uc3QgaW1wb3J0UmVzdWx0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWltcG9ydC1yZXN1bHRzXScpO1xuICAgIGNvbnN0IGltcG9ydFJlc3VsdHNDb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaW1wb3J0LXJlc3VsdHMtY29udGVudF0nKTtcbiAgICBjb25zdCBpbXBvcnRTdWJtaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbXBvcnQtc3VibWl0XScpO1xuICAgIGNvbnN0IGltcG9ydFRhYnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1pbXBvcnQtdGFiXScpO1xuICAgIGNvbnN0IGltcG9ydFBhbmVscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWltcG9ydC1wYW5lbF0nKTtcbiAgICBjb25zdCBjb3B5VGVtcGxhdGVCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb3B5LXRlbXBsYXRlXScpO1xuICAgIGNvbnN0IHRlbXBsYXRlSnNvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRlbXBsYXRlLWpzb25dJyk7XG4gICAgLy8gUGFzdGUgSlNPTiBlbGVtZW50c1xuICAgIGNvbnN0IGltcG9ydFBhc3RlSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbXBvcnQtcGFzdGUtanNvbl0nKTtcbiAgICBjb25zdCBwYXN0ZUZvcm1hdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWZvcm1hdC1qc29uXScpO1xuICAgIGNvbnN0IHBhc3RlRXJyb3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbXBvcnQtcGFzdGUtZXJyb3JdJyk7XG4gICAgbGV0IGltcG9ydFNlbGVjdGVkRmlsZXMgPSBbXTtcbiAgICBsZXQgYWN0aXZlSW1wb3J0VGFiID0gJ3VwbG9hZCc7XG4gICAgLy8gRGVsZXRlIHBhZ2UgZWxlbWVudHNcbiAgICBjb25zdCBkZWxldGVQYWdlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZWxldGUtcGFnZS1tb2RhbF0nKTtcbiAgICBjb25zdCBkZWxldGVQYWdlTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlbGV0ZS1wYWdlLW5hbWVdJyk7XG4gICAgY29uc3QgZGVsZXRlUGFnZUNhbmNlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlbGV0ZS1wYWdlLWNhbmNlbF0nKTtcbiAgICBjb25zdCBkZWxldGVQYWdlQ29uZmlybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlbGV0ZS1wYWdlLWNvbmZpcm1dJyk7XG4gICAgbGV0IHBhZ2VUb0RlbGV0ZSA9IG51bGw7XG4gICAgY29uc3Qgc2l0ZUtleSA9XG4gICAgICBzdHJpcExlYWRpbmdTbGFzaCh3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICdkZWZhdWx0JykgfHwgJ2RlZmF1bHQnO1xuICAgIGNvbnN0IHNpdGVTbHVnVmFsdWUgPSB3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnO1xuICAgIGNvbnN0IHNhZmVTaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKHNpdGVTbHVnVmFsdWUpIHx8ICcnO1xuICAgIGNvbnN0IHBhZ2VzQXBpQmFzZSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9wYWdlc2BcbiAgICAgIDogbnVsbDtcbiAgICBjb25zdCBjb2xsZWN0aW9uc0FwaUJhc2UgPSBzYWZlU2l0ZVNsdWdcbiAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnKX0vY29sbGVjdGlvbnNgXG4gICAgICA6IG51bGw7XG4gICAgY29uc3Qgc3RvcmFnZUtleXMgPSB7XG4gICAgICBhY3RpdmU6IGBjbG93ZXI6YWN0aXZlUGFnZToke3NpdGVLZXl9YCxcbiAgICB9O1xuICAgIGNvbnN0IGNyZWF0ZUJsb2NrID0gKGlkLCBsYWJlbCwgdHlwZSwgc3RhdHVzLCBkZXNjcmlwdGlvbiwgcHJvcHMgPSBbXSwgc2V0dGluZ3MgPSB7fSkgPT4ge1xuICAgICAgY29uc3QgYmxvY2sgPSB7XG4gICAgICAgIGlkLFxuICAgICAgICBsYWJlbCxcbiAgICAgICAgdHlwZSxcbiAgICAgICAgc3RhdHVzLFxuICAgICAgICBkZXNjcmlwdGlvbixcbiAgICAgICAgcHJvcHMsXG4gICAgICAgIHNldHRpbmdzOiB7IC4uLnNldHRpbmdzIH0sXG4gICAgICB9O1xuICAgICAgaWYgKGJsb2NrLnNldHRpbmdzLmNvbGxlY3Rpb25JZCkge1xuICAgICAgICBibG9jay5jb2xsZWN0aW9uSWQgPSBibG9jay5zZXR0aW5ncy5jb2xsZWN0aW9uSWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmxvY2s7XG4gICAgfTtcbiAgICBjb25zdCBibG9ja0xpYnJhcnlEZWZpbml0aW9ucyA9IHtcbiAgICAgIGhlcm86IHtcbiAgICAgICAgdHlwZTogJ0hlcm8nLFxuICAgICAgICBsYWJlbDogJ0hlcm8gZGUgcGFnZScsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnU2VjdGlvbiBwbGVpbmUgbGFyZ2V1ciBhdmVjIENUQSBwcmluY2lwYWwuJyxcbiAgICAgICAgc3RhdHVzOiAnQnJvdWlsbG9uJyxcbiAgICAgICAgcHJvcHM6IFtcbiAgICAgICAgICB7IGxhYmVsOiAnQ1RBJywgdmFsdWU6ICdEXHUwMEU5Y291dnJpcicgfSxcbiAgICAgICAgICB7IGxhYmVsOiAnSGF1dGV1cicsIHZhbHVlOiAnODB2aCcgfSxcbiAgICAgICAgXSxcbiAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICB0aXRsZTogJ1RpdHJlIGR1IGhlcm8nLFxuICAgICAgICAgIHN1YnRpdGxlOiAnJyxcbiAgICAgICAgICBjdGFMYWJlbDogJ0RcdTAwRTljb3V2cmlyJyxcbiAgICAgICAgICBjdGFVcmw6ICcjJyxcbiAgICAgICAgICBpbWFnZTogJycsXG4gICAgICAgICAgYWxpZ246ICdjZW50ZXInLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIHBhcmFncmFwaDoge1xuICAgICAgICB0eXBlOiAnUGFyYWdyYXBoZScsXG4gICAgICAgIGxhYmVsOiAnQmxvYyBcdTAwRTlkaXRvcmlhbCcsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnUGFyYWdyYXBoZSBsaWJyZSBwb3VyIHJhY29udGVyIHZvdHJlIGhpc3RvaXJlLicsXG4gICAgICAgIHN0YXR1czogJ0Jyb3VpbGxvbicsXG4gICAgICAgIHByb3BzOiBbeyBsYWJlbDogJ0xvbmd1ZXVyJywgdmFsdWU6ICcxNTAgbW90cycgfV0sXG4gICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgdGl0bGU6ICdUaXRyZSBkdSBwYXJhZ3JhcGhlJyxcbiAgICAgICAgICBjb250ZW50OiAnJyxcbiAgICAgICAgICBhbGlnbjogJ2xlZnQnLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGltYWdlOiB7XG4gICAgICAgIHR5cGU6ICdJbWFnZScsXG4gICAgICAgIGxhYmVsOiAnQmxvYyBpbWFnZScsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnVmlzdWVsIHNldWwgYXZlYyBsXHUwMEU5Z2VuZGUgb3B0aW9ubmVsbGUuJyxcbiAgICAgICAgc3RhdHVzOiAnQnJvdWlsbG9uJyxcbiAgICAgICAgcHJvcHM6IFtcbiAgICAgICAgICB7IGxhYmVsOiAnUmF0aW8nLCB2YWx1ZTogJzE2OjknIH0sXG4gICAgICAgICAgeyBsYWJlbDogJ0xcdTAwRTlnZW5kZScsIHZhbHVlOiAnSW5hY3RpdmUnIH0sXG4gICAgICAgIF0sXG4gICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgc3JjOiAnJyxcbiAgICAgICAgICBhbHQ6ICcnLFxuICAgICAgICAgIHNob3dDYXB0aW9uOiBmYWxzZSxcbiAgICAgICAgICBjYXB0aW9uOiAnJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBncm91cDoge1xuICAgICAgICB0eXBlOiAnR3JvdXBlJyxcbiAgICAgICAgbGFiZWw6ICdHcm91cGUgZGUgc2VjdGlvbnMnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0NvbnRlbmV1ciBwb3VyIGltYnJpcXVlciBwbHVzaWV1cnMgc291cy1ibG9jcy4nLFxuICAgICAgICBzdGF0dXM6ICdCcm91aWxsb24nLFxuICAgICAgICBwcm9wczogW3sgbGFiZWw6ICdEaXNwb3NpdGlvbicsIHZhbHVlOiAnVmVydGljYWxlJyB9XSxcbiAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICBsYXlvdXQ6ICdncmlkJyxcbiAgICAgICAgICBjb2x1bW5zTW9iaWxlOiAnMScsXG4gICAgICAgICAgY29sdW1uc0Rlc2t0b3A6ICczJyxcbiAgICAgICAgICBtb2JpbGVMYXlvdXQ6ICdzdGFjaycsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgY29sbGVjdGlvbmdyaWQ6IHtcbiAgICAgICAgdHlwZTogJ0NvbGxlY3Rpb25HcmlkJyxcbiAgICAgICAgbGFiZWw6ICdHcmlsbGUgZGUgY29udGVudXMnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0FmZmljaGUgYXV0b21hdGlxdWVtZW50IGxlcyBpdGVtcyBkXHUyMDE5dW5lIGNvbGxlY3Rpb24uJyxcbiAgICAgICAgc3RhdHVzOiAnQnJvdWlsbG9uJyxcbiAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICBjb2xsZWN0aW9uSWQ6ICcnLFxuICAgICAgICAgIGxpbWl0OiA2LFxuICAgICAgICAgIG1vYmlsZUxheW91dDogJ3N0YWNrJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBmb3JtOiB7XG4gICAgICAgIHR5cGU6ICdGb3JtJyxcbiAgICAgICAgbGFiZWw6ICdGb3JtdWxhaXJlIGRlIGNvbnRhY3QnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0Zvcm11bGFpcmUgYXZlYyBlbnZvaSB2ZXJzIHVuIHNlcnZpY2UgZXh0ZXJuZS4nLFxuICAgICAgICBzdGF0dXM6ICdCcm91aWxsb24nLFxuICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgIGZvcm1UaXRsZTogJ0NvbnRhY3Rlei1ub3VzJyxcbiAgICAgICAgICBhY3Rpb25Vcmw6ICcnLFxuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIHNlcnZpY2VOYW1lOiAnJyxcbiAgICAgICAgICBzdWJtaXRMYWJlbDogJ0Vudm95ZXInLFxuICAgICAgICAgIHN1Y2Nlc3NNZXNzYWdlOiAnTWVyY2kgcG91ciB2b3RyZSBtZXNzYWdlICEnLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIG5ld3NsZXR0ZXJlbWJlZDoge1xuICAgICAgICB0eXBlOiAnTmV3c2xldHRlckVtYmVkJyxcbiAgICAgICAgbGFiZWw6ICdOZXdzbGV0dGVyIC8gRW1iZWQnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0ludFx1MDBFOWdyYXRpb24gZFxcJ3VuIGZvcm11bGFpcmUgbmV3c2xldHRlciBleHRlcm5lIChCcmV2bywgTWFpbGNoaW1wXHUyMDI2KS4nLFxuICAgICAgICBzdGF0dXM6ICdCcm91aWxsb24nLFxuICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgIHRpdGxlOiAnUmVzdGV6IGluZm9ybVx1MDBFOScsXG4gICAgICAgICAgc2VydmljZU5hbWU6ICcnLFxuICAgICAgICAgIGVtYmVkQ29kZTogJycsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH07XG4gICAgY29uc3QgcGVyc2lzdEFjdGl2ZVBhZ2UgPSAocGFnZUlkKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oc3RvcmFnZUtleXMuYWN0aXZlLCBwYWdlSWQpO1xuICAgICAgfSBjYXRjaCB7XG4gICAgICAgIC8qIGlnbm9yZSBzdG9yYWdlIGVycm9ycyAqL1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgZ2V0U3RvcmVkQWN0aXZlUGFnZSA9IChwYWdlcykgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgc3RvcmVkID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKHN0b3JhZ2VLZXlzLmFjdGl2ZSk7XG4gICAgICAgIGlmIChzdG9yZWQgJiYgcGFnZXMuc29tZSgocGFnZSkgPT4gcGFnZS5pZCA9PT0gc3RvcmVkKSkge1xuICAgICAgICAgIHJldHVybiBzdG9yZWQ7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2gge1xuICAgICAgICAvKiBpZ25vcmUgc3RvcmFnZSBlcnJvcnMgKi9cbiAgICAgIH1cbiAgICAgIHJldHVybiBwYWdlc1swXT8uaWQgfHwgbnVsbDtcbiAgICB9O1xuICAgIGNvbnN0IGZvcm1hdEJsb2NrQ291bnQgPSAoY291bnQpID0+IHtcbiAgICAgIGlmICghY291bnQgfHwgY291bnQgPD0gMCkge1xuICAgICAgICByZXR1cm4gJzAgYmxvYyc7XG4gICAgICB9XG4gICAgICByZXR1cm4gY291bnQgPT09IDEgPyAnMSBibG9jJyA6IGAke2NvdW50fSBibG9jc2A7XG4gICAgfTtcbiAgICBjb25zdCBub3JtYWxpemVQYWdlU2x1ZyA9ICh2YWx1ZSkgPT4ge1xuICAgICAgaWYgKCF2YWx1ZSB8fCB2YWx1ZSA9PT0gJy8nKSB7XG4gICAgICAgIHJldHVybiAnLyc7XG4gICAgICB9XG4gICAgICBjb25zdCBiYXNlID0gd29ya3NwYWNlU2x1Z2lmeSh2YWx1ZS5yZXBsYWNlKC9eXFwvLywgJycpKTtcbiAgICAgIHJldHVybiBiYXNlID8gYC8ke2Jhc2V9YCA6ICcvJztcbiAgICB9O1xuICAgIGNvbnN0IGdlbmVyYXRlQmxvY2tJZCA9IChwYWdlSWQgPSAncGFnZScsIGtleSA9ICdibG9jaycpID0+XG4gICAgICBgJHtwYWdlSWR9LSR7a2V5fS0ke0RhdGUubm93KCkudG9TdHJpbmcoMzYpfS0ke01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDApfWA7XG4gICAgY29uc3QgY3JlYXRlSW5pdGlhbEJsb2NrcyA9IChwYWdlSWQsIHRpdGxlKSA9PiBbXG4gICAgICBjcmVhdGVCbG9jayhcbiAgICAgICAgZ2VuZXJhdGVCbG9ja0lkKHBhZ2VJZCwgJ2ludHJvJyksXG4gICAgICAgICdJbnRyb2R1Y3Rpb24nLFxuICAgICAgICAnUGFyYWdyYXBoZScsXG4gICAgICAgICdCcm91aWxsb24nLFxuICAgICAgICBgUGFyYWdyYXBoZSBpbnRyb2R1Y3RpZiBwb3VyIFwiJHt0aXRsZX1cIi5gLFxuICAgICAgICBbeyBsYWJlbDogJ0xvbmd1ZXVyJywgdmFsdWU6ICcyIHBhcmFncmFwaGVzJyB9XSxcbiAgICAgICAge1xuICAgICAgICAgIHRpdGxlOiBgSW50cm9kdWN0aW9uIFx1MDBFMCAke3RpdGxlfWAsXG4gICAgICAgICAgY29udGVudDogJ0Fqb3V0ZXogdm90cmUgcHJlbWllciBwYXJhZ3JhcGhlIGRlIHByXHUwMEU5c2VudGF0aW9uLicsXG4gICAgICAgICAgYWxpZ246ICdsZWZ0JyxcbiAgICAgICAgfSxcbiAgICAgICksXG4gICAgICBjcmVhdGVCbG9jayhcbiAgICAgICAgZ2VuZXJhdGVCbG9ja0lkKHBhZ2VJZCwgJ2NvbnRlbnQnKSxcbiAgICAgICAgJ1pvbmUgZGUgY29udGVudScsXG4gICAgICAgICdHcm91cGUnLFxuICAgICAgICAnQnJvdWlsbG9uJyxcbiAgICAgICAgJ1NlY3Rpb24gcHJpbmNpcGFsZSBcdTAwRTAgY29tcG9zZXIgYXZlYyB0ZXh0ZXMgZXQgdmlzdWVscy4nLFxuICAgICAgICBbeyBsYWJlbDogJ0NvbG9ubmVzJywgdmFsdWU6ICdBdXRvJyB9XSxcbiAgICAgICAge1xuICAgICAgICAgIGxheW91dDogJ2dyaWQnLFxuICAgICAgICAgIGNvbHVtbnNNb2JpbGU6ICcxJyxcbiAgICAgICAgICBjb2x1bW5zRGVza3RvcDogJzInLFxuICAgICAgICAgIG1vYmlsZUxheW91dDogJ3N0YWNrJyxcbiAgICAgICAgfSxcbiAgICAgICksXG4gICAgXTtcbiAgICBjb25zdCBzZXRBY3RpdmVMYWJlbHMgPSAocGFnZSkgPT4ge1xuICAgICAgaWYgKGFjdGl2ZVRpdGxlKSB7XG4gICAgICAgIC8vIFVzZSBwYWdlLm5hbWUgKHNob3J0IG5hbWUpIGlmIGF2YWlsYWJsZSwgZmFsbGJhY2sgdG8gdGl0bGVcbiAgICAgICAgYWN0aXZlVGl0bGUudGV4dENvbnRlbnQgPSBwYWdlPy5uYW1lIHx8IHBhZ2U/LnRpdGxlIHx8ICdQYWdlJztcbiAgICAgIH1cbiAgICAgIGlmIChhY3RpdmVTbHVnKSB7XG4gICAgICAgIGFjdGl2ZVNsdWcudGV4dENvbnRlbnQgPSBwYWdlPy5zbHVnIHx8ICcvJztcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHJlbmRlclByZXZpZXdNZXRhID0gKHBhZ2UpID0+IHtcbiAgICAgIGlmICghcHJldmlld1RhZ3MpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcHJldmlld1RhZ3MuaW5uZXJIVE1MID0gJyc7XG4gICAgICBjb25zdCB0YWdzID1cbiAgICAgICAgcGFnZSAmJiBwYWdlLmJhZGdlcyAmJiBwYWdlLmJhZGdlcy5sZW5ndGggPiAwID8gcGFnZS5iYWRnZXMgOiBbJ1N0cnVjdHVyZSBlbiBjb3VycyddO1xuICAgICAgdGFncy5mb3JFYWNoKCh0YWcpID0+IHtcbiAgICAgICAgY29uc3QgYmFkZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgIGJhZGdlLmNsYXNzTmFtZSA9ICdyb3VuZGVkLWZ1bGwgYmctc2xhdGUtMTAwIHB4LTMgcHktMSc7XG4gICAgICAgIGJhZGdlLnRleHRDb250ZW50ID0gdGFnO1xuICAgICAgICBwcmV2aWV3VGFncy5hcHBlbmRDaGlsZChiYWRnZSk7XG4gICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IGdldFN0YXR1c0JhZGdlQ2xhc3NlcyA9IChzdGF0dXMpID0+IHtcbiAgICAgIHN3aXRjaCAoKHN0YXR1cyB8fCAnJykudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICBjYXNlICdlbiBsaWduZSc6XG4gICAgICAgICAgcmV0dXJuICdiZy1lbWVyYWxkLTUwIHRleHQtZW1lcmFsZC03MDAnO1xuICAgICAgICBjYXNlICdicm91aWxsb24nOlxuICAgICAgICAgIHJldHVybiAnYmctYW1iZXItNTAgdGV4dC1hbWJlci03MDAnO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiAnYmctc2xhdGUtMTAwIHRleHQtc2xhdGUtNjAwJztcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHJlbmRlckJsb2NrRGV0YWlscyA9IChibG9jaykgPT4ge1xuICAgICAgaWYgKCFibG9ja0RldGFpbEVtcHR5IHx8ICFibG9ja0VkaXRvcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWJsb2NrKSB7XG4gICAgICAgIGJsb2NrRGV0YWlsRW1wdHkuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIGJsb2NrRWRpdG9yLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBibG9ja0VkaXRvclVuc3VwcG9ydGVkPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgYmxvY2tGb3JtPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgYmxvY2tEZXRhaWxTdGF0dXM/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBibG9ja0RldGFpbEVtcHR5LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgYmxvY2tFZGl0b3IuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBpZiAoYmxvY2tEZXRhaWxTdGF0dXMpIHtcbiAgICAgICAgaWYgKGJsb2NrLnN0YXR1cykge1xuICAgICAgICAgIGJsb2NrRGV0YWlsU3RhdHVzLnRleHRDb250ZW50ID0gYmxvY2suc3RhdHVzO1xuICAgICAgICAgIGJsb2NrRGV0YWlsU3RhdHVzLmNsYXNzTmFtZSA9IGByb3VuZGVkLWZ1bGwgcHgtMyBweS0xIHRleHQteHMgZm9udC1zZW1pYm9sZCAke2dldFN0YXR1c0JhZGdlQ2xhc3NlcyhcbiAgICAgICAgICAgIGJsb2NrLnN0YXR1cyxcbiAgICAgICAgICApfWA7XG4gICAgICAgICAgYmxvY2tEZXRhaWxTdGF0dXMuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYmxvY2tEZXRhaWxTdGF0dXMuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHBvcHVsYXRlQmxvY2tGb3JtKGJsb2NrKTtcbiAgICB9O1xuICAgIGNvbnN0IHJlYWRBY2NlbnRDb2xvciA9ICgpID0+IHtcbiAgICAgIGNvbnN0IGNvbXB1dGVkID0gZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLmdldFByb3BlcnR5VmFsdWUoJy0tY29sb3ItYWNjZW50Jyk7XG4gICAgICByZXR1cm4gY29tcHV0ZWQgPyBjb21wdXRlZC50cmltKCkgOiAnIzlDNkJGRic7XG4gICAgfTtcbiAgICBjb25zdCBhcHBseVByZXZpZXdIaWdobGlnaHQgPSAoYmxvY2tJZCkgPT4ge1xuICAgICAgaWYgKCFwcmV2aWV3RnJhbWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgZG9jID0gcHJldmlld0ZyYW1lLmNvbnRlbnREb2N1bWVudDtcbiAgICAgIGlmICghZG9jKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG5vZGVzID0gZG9jLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXByZXZpZXctYmxvY2tdJyk7XG4gICAgICBub2Rlcy5mb3JFYWNoKChub2RlKSA9PiB7XG4gICAgICAgIGlmIChub2RlLmRhdGFzZXQucHJldmlld0Jsb2NrID09PSBibG9ja0lkKSB7XG4gICAgICAgICAgbm9kZS5jbGFzc0xpc3QuYWRkKCdwcmV2aWV3LWJsb2NrLWFjdGl2ZScpO1xuICAgICAgICAgIGlmIChwcmV2aWV3UmVhZHkgJiYgYmxvY2tJZCkge1xuICAgICAgICAgICAgbm9kZS5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiAnc21vb3RoJywgYmxvY2s6ICdjZW50ZXInLCBpbmxpbmU6ICduZWFyZXN0JyB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbm9kZS5jbGFzc0xpc3QucmVtb3ZlKCdwcmV2aWV3LWJsb2NrLWFjdGl2ZScpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmIChwcmV2aWV3SGlnaGxpZ2h0T3ZlcmxheSkge1xuICAgICAgICBjb25zdCBhY2NlbnQgPSByZWFkQWNjZW50Q29sb3IoKTtcbiAgICAgICAgcHJldmlld0hpZ2hsaWdodE92ZXJsYXkuc3R5bGUuYm9yZGVyQ29sb3IgPSBibG9ja0lkID8gYWNjZW50IDogJ3RyYW5zcGFyZW50JztcbiAgICAgICAgcHJldmlld0hpZ2hsaWdodE92ZXJsYXkuc3R5bGUub3BhY2l0eSA9IGJsb2NrSWQgPyAnMC41JyA6ICcwJztcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHByZXZpZXdWaWV3UHJlc2V0cyA9IHtcbiAgICAgIGRlc2t0b3A6IHsgd2lkdGg6ICcxMDAlJywgaGVpZ2h0OiAnNjQwcHgnLCBtYXhXaWR0aDogJycsIG1hcmdpbjogJzAnIH0sXG4gICAgICBtb2JpbGU6IHsgd2lkdGg6ICczNzVweCcsIGhlaWdodDogJzc4MHB4JywgbWF4V2lkdGg6ICczNzVweCcsIG1hcmdpbjogJzAgYXV0bycgfSxcbiAgICB9O1xuICAgIGNvbnN0IHNldFByZXZpZXdWaWV3ID0gKHZpZXcpID0+IHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IHByZXZpZXdWaWV3UHJlc2V0c1t2aWV3XSA/IHZpZXcgOiAnZGVza3RvcCc7XG4gICAgICBwcmV2aWV3Vmlld0J1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICAgIGNvbnN0IGlzQWN0aXZlID0gYnV0dG9uLmRhdGFzZXQucHJldmlld1ZpZXcgPT09IHRhcmdldDtcbiAgICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZSgnYXJpYS1wcmVzc2VkJywgaXNBY3RpdmUgPyAndHJ1ZScgOiAnZmFsc2UnKTtcbiAgICAgICAgaWYgKGlzQWN0aXZlKSB7XG4gICAgICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2JnLXNsYXRlLTkwMCcsICd0ZXh0LXdoaXRlJyk7XG4gICAgICAgICAgYnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2JnLXNsYXRlLTIwMCcsICd0ZXh0LXNsYXRlLTUwMCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdiZy1zbGF0ZS05MDAnLCAndGV4dC13aGl0ZScpO1xuICAgICAgICAgIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdiZy1zbGF0ZS0yMDAnLCAndGV4dC1zbGF0ZS01MDAnKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBjb25zdCBzdHlsZXMgPSBwcmV2aWV3Vmlld1ByZXNldHNbdGFyZ2V0XTtcbiAgICAgIGlmIChwcmV2aWV3RnJhbWUpIHtcbiAgICAgICAgcHJldmlld0ZyYW1lLnN0eWxlLndpZHRoID0gc3R5bGVzLndpZHRoO1xuICAgICAgICBwcmV2aWV3RnJhbWUuc3R5bGUuaGVpZ2h0ID0gc3R5bGVzLmhlaWdodDtcbiAgICAgICAgcHJldmlld0ZyYW1lLnN0eWxlLm1heFdpZHRoID0gc3R5bGVzLm1heFdpZHRoO1xuICAgICAgICBwcmV2aWV3RnJhbWUuc3R5bGUubWFyZ2luID0gc3R5bGVzLm1hcmdpbjtcbiAgICAgIH1cbiAgICAgIGlmIChwcmV2aWV3RnJhbWVXcmFwcGVyKSB7XG4gICAgICAgIHByZXZpZXdGcmFtZVdyYXBwZXIuc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgICAgIHByZXZpZXdGcmFtZVdyYXBwZXIuc3R5bGUubWluSGVpZ2h0ID0gc3R5bGVzLmhlaWdodDtcbiAgICAgICAgcHJldmlld0ZyYW1lV3JhcHBlci5zdHlsZS5tYXhXaWR0aCA9IHN0eWxlcy5tYXhXaWR0aCB8fCAnMTAwJSc7XG4gICAgICB9XG4gICAgICBpZiAocHJldmlld1NoZWxsKSB7XG4gICAgICAgIHByZXZpZXdTaGVsbC5kYXRhc2V0LnByZXZpZXdTaGVsbFZpZXcgPSB0YXJnZXQ7XG4gICAgICB9XG4gICAgICBpZiAocHJldmlld0N1cnJlbnRWaWV3TGFiZWwpIHtcbiAgICAgICAgcHJldmlld0N1cnJlbnRWaWV3TGFiZWwudGV4dENvbnRlbnQgPSB0YXJnZXQgPT09ICdtb2JpbGUnID8gJ1Z1ZSBtb2JpbGUnIDogJ1Z1ZSBidXJlYXUnO1xuICAgICAgfVxuICAgIH07XG4gICAgLy8gRm9uY3Rpb24gcG91ciBjclx1MDBFOWVyIHVuIFx1MDBFOWxcdTAwRTltZW50IGRlIGJsb2MgKHV0aWxpc1x1MDBFOSBwb3VyIGxlcyBibG9jcyBldCBsZXMgZW5mYW50cyBkZSBncm91cGUpXG4gICAgY29uc3QgY3JlYXRlQmxvY2tJdGVtRWxlbWVudCA9IChibG9jaywgaXNOZXN0ZWQgPSBmYWxzZSwgcGFyZW50SWQgPSBudWxsKSA9PiB7XG4gICAgICBjb25zdCBpc0FjdGl2ZSA9IGJsb2NrLmlkID09PSBhY3RpdmVCbG9ja0lkO1xuICAgICAgY29uc3QgYmxvY2tUeXBlID0gKGJsb2NrLnR5cGUgfHwgJycpLnRvTG93ZXJDYXNlKCk7XG4gICAgICBjb25zdCBpc0dyb3VwID0gYmxvY2tUeXBlID09PSAnZ3JvdXBlJyB8fCBibG9ja1R5cGUgPT09ICdncm91cCcgfHwgYmxvY2tUeXBlID09PSAnc2VjdGlvbnMnIHx8IGJsb2NrVHlwZSA9PT0gJ2dyaWQnO1xuICAgICAgXG4gICAgICBjb25zdCBpdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBpdGVtLmRhdGFzZXQuYmxvY2tJdGVtID0gJ3RydWUnO1xuICAgICAgaXRlbS5kYXRhc2V0LmJsb2NrSWQgPSBibG9jay5pZDtcbiAgICAgIGlmIChwYXJlbnRJZCkgaXRlbS5kYXRhc2V0LnBhcmVudEJsb2NrSWQgPSBwYXJlbnRJZDtcbiAgICAgIGlmIChpc0dyb3VwKSBpdGVtLmRhdGFzZXQuaXNHcm91cCA9ICd0cnVlJztcbiAgICAgIGl0ZW0uc2V0QXR0cmlidXRlKCdyb2xlJywgJ29wdGlvbicpO1xuICAgICAgaXRlbS5zZXRBdHRyaWJ1dGUoJ2FyaWEtc2VsZWN0ZWQnLCBpc0FjdGl2ZSA/ICd0cnVlJyA6ICdmYWxzZScpO1xuICAgICAgaXRlbS5zZXRBdHRyaWJ1dGUoJ2RyYWdnYWJsZScsICd0cnVlJyk7XG4gICAgICBpdGVtLnRhYkluZGV4ID0gMDtcbiAgICAgIGl0ZW0uY2xhc3NOYW1lID0gW1xuICAgICAgICAncmVsYXRpdmUgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTMgcm91bmRlZC0yeGwgYm9yZGVyIHB4LTMgcHktMiB0ZXh0LWxlZnQgdHJhbnNpdGlvbiBncm91cCcsXG4gICAgICAgIGlzTmVzdGVkID8gJ21sLTYgYm9yZGVyLWRhc2hlZCcgOiAnJyxcbiAgICAgICAgaXNBY3RpdmVcbiAgICAgICAgICA/ICdiZy1zbGF0ZS0xMDAgYm9yZGVyLVsjOUM2QkZGXS80MCBzaGFkb3ctc20nXG4gICAgICAgICAgOiAnYm9yZGVyLXNsYXRlLTIwMCBob3Zlcjpib3JkZXItWyM5QzZCRkZdLzQwJyxcbiAgICAgIF0uam9pbignICcpO1xuICAgICAgXG4gICAgICBjb25zdCBhY2NlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICBhY2NlbnQuY2xhc3NOYW1lID0gYGFic29sdXRlIGluc2V0LXktMiBsZWZ0LTAgdy0xIHJvdW5kZWQtZnVsbCBiZy1bIzlDNkJGRl0gJHtpc0FjdGl2ZSA/ICcnIDogJ2hpZGRlbid9YDtcbiAgICAgIGl0ZW0uYXBwZW5kQ2hpbGQoYWNjZW50KTtcblxuICAgICAgY29uc3QgY29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgY29udGVudC5jbGFzc05hbWUgPSAnZmxleCBmbGV4LTEgaXRlbXMtY2VudGVyIGdhcC0zJztcbiAgICAgIFxuICAgICAgY29uc3QgaGFuZGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBoYW5kbGUuY2xhc3NOYW1lID0gJ2hpZGRlbiBsZzpmbGV4IGN1cnNvci1ncmFiIGFjdGl2ZTpjdXJzb3ItZ3JhYmJpbmcgZmxleC1zaHJpbmstMCBpdGVtcy1jZW50ZXIgdGV4dC1sZyB0ZXh0LXNsYXRlLTQwMCBob3Zlcjp0ZXh0LXNsYXRlLTYwMCB0cmFuc2l0aW9uLWNvbG9ycyBzZWxlY3Qtbm9uZSc7XG4gICAgICBoYW5kbGUuaW5uZXJIVE1MID0gJ1x1MjJFRVx1MjJFRSc7XG4gICAgICBoYW5kbGUuc2V0QXR0cmlidXRlKCd0aXRsZScsICdHbGlzc2VyIHBvdXIgclx1MDBFOW9yZG9ubmVyJyk7XG4gICAgICBjb250ZW50LmFwcGVuZENoaWxkKGhhbmRsZSk7XG5cbiAgICAgIGNvbnN0IHRleHRXcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICB0ZXh0V3JhcHBlci5jbGFzc05hbWUgPSAnZmxleC0xJztcbiAgICAgIFxuICAgICAgY29uc3QgbWV0YSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgbWV0YS5jbGFzc05hbWUgPSAnZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgdGV4dC1bMTFweF0gdXBwZXJjYXNlIHRyYWNraW5nLXdpZGUgdGV4dC1zbGF0ZS01MDAnO1xuICAgICAgXG4gICAgICBjb25zdCB0eXBlQmFkZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICB0eXBlQmFkZ2UuY2xhc3NOYW1lID0gJ3JvdW5kZWQtZnVsbCBiZy1zbGF0ZS0xMDAgcHgtMiBweS0wLjUgdGV4dC1bMTBweF0gZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTYwMCc7XG4gICAgICB0eXBlQmFkZ2UudGV4dENvbnRlbnQgPSBibG9jay50eXBlO1xuICAgICAgXG4gICAgICBjb25zdCBzdGF0dXNCYWRnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgIHN0YXR1c0JhZGdlLmNsYXNzTmFtZSA9ICd0ZXh0LXNsYXRlLTQwMCc7XG4gICAgICBzdGF0dXNCYWRnZS50ZXh0Q29udGVudCA9IGJsb2NrLnN0YXR1cztcbiAgICAgIFxuICAgICAgbWV0YS5hcHBlbmRDaGlsZCh0eXBlQmFkZ2UpO1xuICAgICAgaWYgKGlzR3JvdXApIHtcbiAgICAgICAgY29uc3QgY2hpbGRDb3VudCA9IChibG9jay5jaGlsZHJlbiB8fCBbXSkubGVuZ3RoO1xuICAgICAgICBjb25zdCBjaGlsZEJhZGdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICBjaGlsZEJhZGdlLmNsYXNzTmFtZSA9ICdyb3VuZGVkLWZ1bGwgYmctdmlvbGV0LTEwMCBweC0yIHB5LTAuNSB0ZXh0LVsxMHB4XSBmb250LXNlbWlib2xkIHRleHQtdmlvbGV0LTYwMCc7XG4gICAgICAgIGNoaWxkQmFkZ2UudGV4dENvbnRlbnQgPSBgJHtjaGlsZENvdW50fSBcdTAwRTlsXHUwMEU5bWVudCR7Y2hpbGRDb3VudCAhPT0gMSA/ICdzJyA6ICcnfWA7XG4gICAgICAgIG1ldGEuYXBwZW5kQ2hpbGQoY2hpbGRCYWRnZSk7XG4gICAgICB9XG4gICAgICBtZXRhLmFwcGVuZENoaWxkKHN0YXR1c0JhZGdlKTtcbiAgICAgIFxuICAgICAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgICB0aXRsZS5jbGFzc05hbWUgPSAnbXQtMSB0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgdGV4dC1zbGF0ZS05MDAnO1xuICAgICAgY29uc3QgZGlzcGxheUxhYmVsID0gKGJsb2NrLnNldHRpbmdzICYmIGJsb2NrLnNldHRpbmdzLnRpdGxlKSB8fCBibG9jay5sYWJlbCB8fCAnQmxvYyBzYW5zIHRpdHJlJztcbiAgICAgIHRpdGxlLnRleHRDb250ZW50ID0gZGlzcGxheUxhYmVsO1xuICAgICAgXG4gICAgICB0ZXh0V3JhcHBlci5hcHBlbmRDaGlsZChtZXRhKTtcbiAgICAgIHRleHRXcmFwcGVyLmFwcGVuZENoaWxkKHRpdGxlKTtcbiAgICAgIFxuICAgICAgaWYgKGJsb2NrVHlwZSA9PT0gJ2NvbGxlY3Rpb25ncmlkJyAmJiBibG9jay5jb2xsZWN0aW9uSWQpIHtcbiAgICAgICAgY29uc3QgY29sbGVjdGlvbk5hbWUgPSBkZXNpZ25Db2xsZWN0aW9ucy5maW5kKChlbnRyeSkgPT4gZW50cnkuaWQgPT09IGJsb2NrLmNvbGxlY3Rpb25JZCk/Lm5hbWUgfHwgYmxvY2suY29sbGVjdGlvbklkO1xuICAgICAgICBjb25zdCBpbmZvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgICAgICBpbmZvLmNsYXNzTmFtZSA9ICd0ZXh0LXhzIHRleHQtc2xhdGUtNDAwJztcbiAgICAgICAgaW5mby50ZXh0Q29udGVudCA9IGBDb2xsZWN0aW9uIDogJHtjb2xsZWN0aW9uTmFtZX1gO1xuICAgICAgICB0ZXh0V3JhcHBlci5hcHBlbmRDaGlsZChpbmZvKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29udGVudC5hcHBlbmRDaGlsZCh0ZXh0V3JhcHBlcik7XG4gICAgICBpdGVtLmFwcGVuZENoaWxkKGNvbnRlbnQpO1xuXG4gICAgICBjb25zdCBhY3Rpb25zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBhY3Rpb25zLmNsYXNzTmFtZSA9ICdmbGV4IGZsZXgtY29sIGdhcC0xIHRleHQteHMgdGV4dC1zbGF0ZS00MDAnO1xuXG4gICAgICBjb25zdCBtb3ZlQnV0dG9ucyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgbW92ZUJ1dHRvbnMuY2xhc3NOYW1lID0gJ2ZsZXggaXRlbXMtY2VudGVyIGdhcC0xIGxnOmhpZGRlbic7XG4gICAgICBjb25zdCBtb3ZlVXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgIG1vdmVVcC50eXBlID0gJ2J1dHRvbic7XG4gICAgICBtb3ZlVXAuY2xhc3NOYW1lID0gJ3JvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1zbGF0ZS0yMDAgcHgtMiBweS0xIHRleHQtWzExcHhdIGZvbnQtc2VtaWJvbGQgdGV4dC1zbGF0ZS01MDAnO1xuICAgICAgbW92ZVVwLnRleHRDb250ZW50ID0gJ1x1MjE5MSc7XG4gICAgICBtb3ZlVXAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGlmIChwYXJlbnRJZCkge1xuICAgICAgICAgIG1vdmVDaGlsZEJsb2NrQnlPZmZzZXQocGFyZW50SWQsIGJsb2NrLmlkLCAtMSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbW92ZUJsb2NrQnlPZmZzZXQoYmxvY2suaWQsIC0xKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBjb25zdCBtb3ZlRG93biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgbW92ZURvd24udHlwZSA9ICdidXR0b24nO1xuICAgICAgbW92ZURvd24uY2xhc3NOYW1lID0gJ3JvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1zbGF0ZS0yMDAgcHgtMiBweS0xIHRleHQtWzExcHhdIGZvbnQtc2VtaWJvbGQgdGV4dC1zbGF0ZS01MDAnO1xuICAgICAgbW92ZURvd24udGV4dENvbnRlbnQgPSAnXHUyMTkzJztcbiAgICAgIG1vdmVEb3duLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBpZiAocGFyZW50SWQpIHtcbiAgICAgICAgICBtb3ZlQ2hpbGRCbG9ja0J5T2Zmc2V0KHBhcmVudElkLCBibG9jay5pZCwgMSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbW92ZUJsb2NrQnlPZmZzZXQoYmxvY2suaWQsIDEpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIG1vdmVCdXR0b25zLmFwcGVuZENoaWxkKG1vdmVVcCk7XG4gICAgICBtb3ZlQnV0dG9ucy5hcHBlbmRDaGlsZChtb3ZlRG93bik7XG4gICAgICBhY3Rpb25zLmFwcGVuZENoaWxkKG1vdmVCdXR0b25zKTtcblxuICAgICAgY29uc3QgZGVsZXRlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICBkZWxldGVCdXR0b24udHlwZSA9ICdidXR0b24nO1xuICAgICAgZGVsZXRlQnV0dG9uLmNsYXNzTmFtZSA9ICdpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLXRyYW5zcGFyZW50IHB4LTIgcHktMSB0ZXh0LVsxMnB4XSB0ZXh0LXJvc2UtNTAwIGhvdmVyOnRleHQtcm9zZS03MDAnO1xuICAgICAgZGVsZXRlQnV0dG9uLmlubmVySFRNTCA9ICdcdUQ4M0RcdURERDFcdUZFMEYnO1xuICAgICAgZGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBpZiAocGFyZW50SWQpIHtcbiAgICAgICAgICByZW1vdmVDaGlsZEZyb21Hcm91cChwYXJlbnRJZCwgYmxvY2suaWQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9wZW5CbG9ja0RlbGV0ZU1vZGFsKGJsb2NrLmlkKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGFjdGlvbnMuYXBwZW5kQ2hpbGQoZGVsZXRlQnV0dG9uKTtcbiAgICAgIGl0ZW0uYXBwZW5kQ2hpbGQoYWN0aW9ucyk7XG5cbiAgICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIHNldEFjdGl2ZUJsb2NrKGJsb2NrLmlkLCBwYXJlbnRJZCk7XG4gICAgICB9KTtcbiAgICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldmVudCkgPT4ge1xuICAgICAgICBpZiAoZXZlbnQua2V5ID09PSAnRW50ZXInIHx8IGV2ZW50LmtleSA9PT0gJyAnKSB7XG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBzZXRBY3RpdmVCbG9jayhibG9jay5pZCwgcGFyZW50SWQpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHsgaXRlbSwgaXNHcm91cCwgYmxvY2sgfTtcbiAgICB9O1xuICAgIFxuICAgIC8vIEZvbmN0aW9uIHBvdXIgY3JcdTAwRTllciBsYSB6b25lIGRlIGRyb3AgcG91ciB1biBncm91cGVcbiAgICBjb25zdCBjcmVhdGVHcm91cERyb3Bab25lID0gKHBhcmVudEJsb2NrKSA9PiB7XG4gICAgICBjb25zdCBkcm9wWm9uZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgZHJvcFpvbmUuZGF0YXNldC5ncm91cERyb3Bab25lID0gcGFyZW50QmxvY2suaWQ7XG4gICAgICBkcm9wWm9uZS5jbGFzc05hbWUgPSAnbWwtNiBib3JkZXItMiBib3JkZXItZGFzaGVkIGJvcmRlci1zbGF0ZS0yMDAgcm91bmRlZC14bCBwLTMgdGV4dC1jZW50ZXIgdGV4dC14cyB0ZXh0LXNsYXRlLTQwMCBob3Zlcjpib3JkZXItdmlvbGV0LTMwMCBob3ZlcjpiZy12aW9sZXQtNTAvNTAgdHJhbnNpdGlvbi1jb2xvcnMgY3Vyc29yLXBvaW50ZXInO1xuICAgICAgZHJvcFpvbmUuaW5uZXJIVE1MID0gJzxzcGFuIGNsYXNzPVwicG9pbnRlci1ldmVudHMtbm9uZVwiPlx1RDgzRFx1RENFNiBHbGlzc2V6IHVuIGJsb2MgaWNpIG91IGNsaXF1ZXogcG91ciBham91dGVyPC9zcGFuPic7XG4gICAgICBcbiAgICAgIC8vIFx1MDBDOXZcdTAwRTluZW1lbnRzIGRlIGRyYWcgJiBkcm9wXG4gICAgICBkcm9wWm9uZS5hZGRFdmVudExpc3RlbmVyKCdkcmFnb3ZlcicsIChlKSA9PiB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgZHJvcFpvbmUuY2xhc3NMaXN0LmFkZCgnYm9yZGVyLXZpb2xldC00MDAnLCAnYmctdmlvbGV0LTUwJyk7XG4gICAgICB9KTtcbiAgICAgIGRyb3Bab25lLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdsZWF2ZScsIChlKSA9PiB7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGRyb3Bab25lLmNsYXNzTGlzdC5yZW1vdmUoJ2JvcmRlci12aW9sZXQtNDAwJywgJ2JnLXZpb2xldC01MCcpO1xuICAgICAgfSk7XG4gICAgICBkcm9wWm9uZS5hZGRFdmVudExpc3RlbmVyKCdkcm9wJywgKGUpID0+IHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBkcm9wWm9uZS5jbGFzc0xpc3QucmVtb3ZlKCdib3JkZXItdmlvbGV0LTQwMCcsICdiZy12aW9sZXQtNTAnKTtcbiAgICAgICAgY29uc3QgYmxvY2tJZCA9IGUuZGF0YVRyYW5zZmVyLmdldERhdGEoJ3RleHQvcGxhaW4nKTtcbiAgICAgICAgaWYgKGJsb2NrSWQgJiYgYmxvY2tJZCAhPT0gcGFyZW50QmxvY2suaWQpIHtcbiAgICAgICAgICBtb3ZlQmxvY2tUb0dyb3VwKGJsb2NrSWQsIHBhcmVudEJsb2NrLmlkKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIC8vIENsaWMgcG91ciBham91dGVyIHVuIGJsb2MgYXUgZ3JvdXBlXG4gICAgICBkcm9wWm9uZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgb3BlbkFkZEJsb2NrVG9Hcm91cE1vZGFsKHBhcmVudEJsb2NrLmlkKTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICByZXR1cm4gZHJvcFpvbmU7XG4gICAgfTtcblxuICAgIGNvbnN0IHJlbmRlckJsb2NrTGlzdCA9IChwYWdlKSA9PiB7XG4gICAgICBpZiAoIWJsb2NrTGlzdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBibG9ja0xpc3QuaW5uZXJIVE1MID0gJyc7XG4gICAgICBjb25zdCBibG9ja3MgPSBwYWdlPy5ibG9ja3MgfHwgW107XG4gICAgICBpZiAoYmxvY2tDb3VudEJhZGdlKSB7XG4gICAgICAgIGJsb2NrQ291bnRCYWRnZS50ZXh0Q29udGVudCA9IGZvcm1hdEJsb2NrQ291bnQoYmxvY2tzLmxlbmd0aCk7XG4gICAgICB9XG4gICAgICBpZiAoYmxvY2tzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBibG9ja0xpc3QuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIGJsb2NrTGlzdEVtcHR5Py5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYmxvY2tMaXN0LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgYmxvY2tMaXN0RW1wdHk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgXG4gICAgICBibG9ja3MuZm9yRWFjaCgoYmxvY2spID0+IHtcbiAgICAgICAgY29uc3QgeyBpdGVtLCBpc0dyb3VwIH0gPSBjcmVhdGVCbG9ja0l0ZW1FbGVtZW50KGJsb2NrLCBmYWxzZSwgbnVsbCk7XG4gICAgICAgIGJsb2NrTGlzdC5hcHBlbmRDaGlsZChpdGVtKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFNpIGMnZXN0IHVuIGdyb3VwZSwgYWZmaWNoZXIgbGVzIGVuZmFudHMgZXQgbGEgem9uZSBkZSBkcm9wXG4gICAgICAgIGlmIChpc0dyb3VwKSB7XG4gICAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBibG9jay5jaGlsZHJlbiB8fCBbXTtcbiAgICAgICAgICBjaGlsZHJlbi5mb3JFYWNoKChjaGlsZCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyBpdGVtOiBjaGlsZEl0ZW0gfSA9IGNyZWF0ZUJsb2NrSXRlbUVsZW1lbnQoY2hpbGQsIHRydWUsIGJsb2NrLmlkKTtcbiAgICAgICAgICAgIGJsb2NrTGlzdC5hcHBlbmRDaGlsZChjaGlsZEl0ZW0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIC8vIFpvbmUgZGUgZHJvcCBwb3VyIGFqb3V0ZXIgZGVzIGJsb2NzIGF1IGdyb3VwZVxuICAgICAgICAgIGNvbnN0IGRyb3Bab25lID0gY3JlYXRlR3JvdXBEcm9wWm9uZShibG9jayk7XG4gICAgICAgICAgYmxvY2tMaXN0LmFwcGVuZENoaWxkKGRyb3Bab25lKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcbiAgICBcbiAgICAvLyBGb25jdGlvbnMgcG91ciBnXHUwMEU5cmVyIGxlcyBlbmZhbnRzIGRlcyBncm91cGVzXG4gICAgY29uc3QgbW92ZUJsb2NrVG9Hcm91cCA9IChibG9ja0lkLCBncm91cElkKSA9PiB7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlKSByZXR1cm47XG4gICAgICBjb25zdCBibG9ja0luZGV4ID0gY3VycmVudFBhZ2UuYmxvY2tzLmZpbmRJbmRleCgoYikgPT4gYi5pZCA9PT0gYmxvY2tJZCk7XG4gICAgICBjb25zdCBncm91cEJsb2NrID0gY3VycmVudFBhZ2UuYmxvY2tzLmZpbmQoKGIpID0+IGIuaWQgPT09IGdyb3VwSWQpO1xuICAgICAgaWYgKGJsb2NrSW5kZXggPT09IC0xIHx8ICFncm91cEJsb2NrKSByZXR1cm47XG4gICAgICBcbiAgICAgIC8vIE5lIHBhcyBwZXJtZXR0cmUgZGUgZFx1MDBFOXBsYWNlciB1biBncm91cGUgZGFucyB1biBncm91cGVcbiAgICAgIGNvbnN0IGJsb2NrID0gY3VycmVudFBhZ2UuYmxvY2tzW2Jsb2NrSW5kZXhdO1xuICAgICAgY29uc3QgYmxvY2tUeXBlID0gKGJsb2NrLnR5cGUgfHwgJycpLnRvTG93ZXJDYXNlKCk7XG4gICAgICBpZiAoYmxvY2tUeXBlID09PSAnZ3JvdXBlJyB8fCBibG9ja1R5cGUgPT09ICdncm91cCcpIHtcbiAgICAgICAgc2hvd1RvYXN0KCdJbXBvc3NpYmxlIGRcXCdpbWJyaXF1ZXIgZGVzIGdyb3VwZXMnLCAnZXJyb3InKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBSZXRpcmVyIGxlIGJsb2MgZGUgbGEgbGlzdGUgcHJpbmNpcGFsZVxuICAgICAgY29uc3QgW21vdmVkQmxvY2tdID0gY3VycmVudFBhZ2UuYmxvY2tzLnNwbGljZShibG9ja0luZGV4LCAxKTtcbiAgICAgIFxuICAgICAgLy8gQWpvdXRlciBhdSBncm91cGVcbiAgICAgIGlmICghZ3JvdXBCbG9jay5jaGlsZHJlbikgZ3JvdXBCbG9jay5jaGlsZHJlbiA9IFtdO1xuICAgICAgZ3JvdXBCbG9jay5jaGlsZHJlbi5wdXNoKG1vdmVkQmxvY2spO1xuICAgICAgXG4gICAgICByZW5kZXJCbG9ja0xpc3QoY3VycmVudFBhZ2UpO1xuICAgICAgc2F2ZVBhZ2VCbG9ja3MoKTtcbiAgICAgIHNob3dUb2FzdChgQmxvYyBham91dFx1MDBFOSBhdSBncm91cGVgKTtcbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IHJlbW92ZUNoaWxkRnJvbUdyb3VwID0gKGdyb3VwSWQsIGNoaWxkSWQpID0+IHtcbiAgICAgIGlmICghY3VycmVudFBhZ2UpIHJldHVybjtcbiAgICAgIGNvbnN0IGdyb3VwQmxvY2sgPSBjdXJyZW50UGFnZS5ibG9ja3MuZmluZCgoYikgPT4gYi5pZCA9PT0gZ3JvdXBJZCk7XG4gICAgICBpZiAoIWdyb3VwQmxvY2sgfHwgIWdyb3VwQmxvY2suY2hpbGRyZW4pIHJldHVybjtcbiAgICAgIFxuICAgICAgY29uc3QgY2hpbGRJbmRleCA9IGdyb3VwQmxvY2suY2hpbGRyZW4uZmluZEluZGV4KChjKSA9PiBjLmlkID09PSBjaGlsZElkKTtcbiAgICAgIGlmIChjaGlsZEluZGV4ID09PSAtMSkgcmV0dXJuO1xuICAgICAgXG4gICAgICAvLyBSZXRpcmVyIGwnZW5mYW50IGR1IGdyb3VwZSBldCBsZSByZW1ldHRyZSBkYW5zIGxhIGxpc3RlIHByaW5jaXBhbGUgYXByXHUwMEU4cyBsZSBncm91cGVcbiAgICAgIGNvbnN0IFtjaGlsZF0gPSBncm91cEJsb2NrLmNoaWxkcmVuLnNwbGljZShjaGlsZEluZGV4LCAxKTtcbiAgICAgIGNvbnN0IGdyb3VwSW5kZXggPSBjdXJyZW50UGFnZS5ibG9ja3MuZmluZEluZGV4KChiKSA9PiBiLmlkID09PSBncm91cElkKTtcbiAgICAgIGN1cnJlbnRQYWdlLmJsb2Nrcy5zcGxpY2UoZ3JvdXBJbmRleCArIDEsIDAsIGNoaWxkKTtcbiAgICAgIFxuICAgICAgcmVuZGVyQmxvY2tMaXN0KGN1cnJlbnRQYWdlKTtcbiAgICAgIHNhdmVQYWdlQmxvY2tzKCk7XG4gICAgICBzaG93VG9hc3QoYEJsb2Mgc29ydGkgZHUgZ3JvdXBlYCk7XG4gICAgfTtcbiAgICBcbiAgICBjb25zdCBtb3ZlQ2hpbGRCbG9ja0J5T2Zmc2V0ID0gKGdyb3VwSWQsIGNoaWxkSWQsIG9mZnNldCkgPT4ge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSkgcmV0dXJuO1xuICAgICAgY29uc3QgZ3JvdXBCbG9jayA9IGN1cnJlbnRQYWdlLmJsb2Nrcy5maW5kKChiKSA9PiBiLmlkID09PSBncm91cElkKTtcbiAgICAgIGlmICghZ3JvdXBCbG9jayB8fCAhZ3JvdXBCbG9jay5jaGlsZHJlbikgcmV0dXJuO1xuICAgICAgXG4gICAgICBjb25zdCBjdXJyZW50SW5kZXggPSBncm91cEJsb2NrLmNoaWxkcmVuLmZpbmRJbmRleCgoYykgPT4gYy5pZCA9PT0gY2hpbGRJZCk7XG4gICAgICBpZiAoY3VycmVudEluZGV4ID09PSAtMSkgcmV0dXJuO1xuICAgICAgXG4gICAgICBjb25zdCBuZXdJbmRleCA9IGN1cnJlbnRJbmRleCArIG9mZnNldDtcbiAgICAgIGlmIChuZXdJbmRleCA8IDAgfHwgbmV3SW5kZXggPj0gZ3JvdXBCbG9jay5jaGlsZHJlbi5sZW5ndGgpIHJldHVybjtcbiAgICAgIFxuICAgICAgY29uc3QgW2NoaWxkXSA9IGdyb3VwQmxvY2suY2hpbGRyZW4uc3BsaWNlKGN1cnJlbnRJbmRleCwgMSk7XG4gICAgICBncm91cEJsb2NrLmNoaWxkcmVuLnNwbGljZShuZXdJbmRleCwgMCwgY2hpbGQpO1xuICAgICAgXG4gICAgICByZW5kZXJCbG9ja0xpc3QoY3VycmVudFBhZ2UpO1xuICAgICAgc2F2ZVBhZ2VCbG9ja3MoKTtcbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IG9wZW5BZGRCbG9ja1RvR3JvdXBNb2RhbCA9IChncm91cElkKSA9PiB7XG4gICAgICAvLyBVdGlsaXNlciBsZSBtXHUwMEVBbWUgbW9kYWwgZCdham91dCBkZSBibG9jLCBtYWlzIGF2ZWMgbGUgY29udGV4dGUgZHUgZ3JvdXBlXG4gICAgICBwZW5kaW5nR3JvdXBJZEZvck5ld0Jsb2NrID0gZ3JvdXBJZDtcbiAgICAgIG9wZW5CbG9ja1BpY2tlcigpO1xuICAgIH07XG4gICAgXG4gICAgbGV0IHBlbmRpbmdHcm91cElkRm9yTmV3QmxvY2sgPSBudWxsO1xuXG4gICAgLy8gPT09IERlbGV0ZSBwYWdlIGhhbmRsZXJzIChkZWZpbmVkIGJlZm9yZSByZW5kZXJQYWdlTGlzdHMpID09PVxuICAgIGNvbnN0IG9wZW5EZWxldGVQYWdlTW9kYWwgPSAocGFnZSkgPT4ge1xuICAgICAgaWYgKCFkZWxldGVQYWdlTW9kYWwgfHwgIXBhZ2UpIHJldHVybjtcbiAgICAgIHBhZ2VUb0RlbGV0ZSA9IHBhZ2U7XG4gICAgICBpZiAoZGVsZXRlUGFnZU5hbWUpIGRlbGV0ZVBhZ2VOYW1lLnRleHRDb250ZW50ID0gcGFnZS50aXRsZSB8fCBwYWdlLmlkO1xuICAgICAgZGVsZXRlUGFnZU1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgZGVsZXRlUGFnZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2ZsZXgnKTtcbiAgICAgIGFjdGl2YXRlTW9kYWwoZGVsZXRlUGFnZU1vZGFsLCBjbG9zZURlbGV0ZVBhZ2VNb2RhbCk7XG4gICAgfTtcbiAgICBjb25zdCBjbG9zZURlbGV0ZVBhZ2VNb2RhbCA9ICgpID0+IHtcbiAgICAgIGlmICghZGVsZXRlUGFnZU1vZGFsKSByZXR1cm47XG4gICAgICBkZWxldGVQYWdlTW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBkZWxldGVQYWdlTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnZmxleCcpO1xuICAgICAgcGFnZVRvRGVsZXRlID0gbnVsbDtcbiAgICAgIGRlYWN0aXZhdGVNb2RhbChkZWxldGVQYWdlTW9kYWwpO1xuICAgIH07XG4gICAgY29uc3QgZXhlY3V0ZURlbGV0ZVBhZ2UgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXBhZ2VzQXBpQmFzZSB8fCAhcGFnZVRvRGVsZXRlKSByZXR1cm47XG4gICAgICBjb25zdCBwYWdlSWQgPSBwYWdlVG9EZWxldGUuaWQ7XG4gICAgICBjb25zdCBwYWdlVGl0bGUgPSBwYWdlVG9EZWxldGUudGl0bGUgfHwgcGFnZUlkO1xuICAgICAgaWYgKGRlbGV0ZVBhZ2VDb25maXJtKSB7XG4gICAgICAgIGRlbGV0ZVBhZ2VDb25maXJtLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgZGVsZXRlUGFnZUNvbmZpcm0udGV4dENvbnRlbnQgPSAnU3VwcHJlc3Npb24uLi4nO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtwYWdlc0FwaUJhc2V9LyR7ZW5jb2RlVVJJQ29tcG9uZW50KHBhZ2VJZCl9YCwge1xuICAgICAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICAgICAgY3JlZGVudGlhbHM6ICdpbmNsdWRlJyxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQubWVzc2FnZSB8fCAnRXJyZXVyIHNlcnZldXInKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTdXBwcmltZXIgZGUgbGEgbGlzdGUgbG9jYWxlXG4gICAgICAgIHBhZ2VzID0gcGFnZXMuZmlsdGVyKChwKSA9PiBwLmlkICE9PSBwYWdlSWQpO1xuICAgICAgICAvLyBTaSBsYSBwYWdlIHN1cHByaW1cdTAwRTllIFx1MDBFOXRhaXQgYWN0aXZlLCBzXHUwMEU5bGVjdGlvbm5lciBsYSBwcmVtaVx1MDBFOHJlXG4gICAgICAgIGlmIChhY3RpdmVQYWdlSWQgPT09IHBhZ2VJZCkge1xuICAgICAgICAgIGlmIChwYWdlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBzZXRBY3RpdmVQYWdlKHBhZ2VzWzBdLmlkKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYWN0aXZlUGFnZUlkID0gbnVsbDtcbiAgICAgICAgICAgIGN1cnJlbnRQYWdlID0gbnVsbDtcbiAgICAgICAgICAgIHJlbmRlclBhZ2VMaXN0cyhwYWdlcywgbnVsbCk7XG4gICAgICAgICAgICByZW5kZXJCbG9ja0xpc3QobnVsbCk7XG4gICAgICAgICAgICBibG9ja0RldGFpbEVtcHR5Py5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIGJsb2NrRWRpdG9yPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIHByZXZpZXdGcmFtZSAmJiAocHJldmlld0ZyYW1lLnNyY2RvYyA9IGdldExvYWRpbmdQcmV2aWV3SHRtbCgpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVuZGVyUGFnZUxpc3RzKHBhZ2VzLCBhY3RpdmVQYWdlSWQpO1xuICAgICAgICB9XG4gICAgICAgIGNsb3NlRGVsZXRlUGFnZU1vZGFsKCk7XG4gICAgICAgIHNob3dUb2FzdChgUGFnZSBcIiR7cGFnZVRpdGxlfVwiIHN1cHByaW1cdTAwRTllYCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW3BhZ2VzXSBkZWxldGUgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdFcnJldXIgc3VwcHJlc3Npb24nKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmIChkZWxldGVQYWdlQ29uZmlybSkge1xuICAgICAgICAgIGRlbGV0ZVBhZ2VDb25maXJtLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgZGVsZXRlUGFnZUNvbmZpcm0udGV4dENvbnRlbnQgPSAnU3VwcHJpbWVyJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCByZW5kZXJQYWdlTGlzdHMgPSAocGFnZXMsIGFjdGl2ZUlkKSA9PiB7XG4gICAgICBwYWdlTGlzdHMuZm9yRWFjaCgobGlzdCkgPT4ge1xuICAgICAgICBsaXN0LmlubmVySFRNTCA9ICcnO1xuICAgICAgICBwYWdlcy5mb3JFYWNoKChwYWdlKSA9PiB7XG4gICAgICAgICAgY29uc3QgaXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICAgICAgaXRlbS5jbGFzc05hbWUgPSAnZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEnO1xuICAgICAgICAgIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICAgIGJ1dHRvbi50eXBlID0gJ2J1dHRvbic7XG4gICAgICAgICAgYnV0dG9uLmRhdGFzZXQucGFnZUlkID0gcGFnZS5pZDtcbiAgICAgICAgICBidXR0b24uY2xhc3NOYW1lID0gW1xuICAgICAgICAgICAgJ2ZsZXgtMSBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMyBweC0zIHB5LTIgdGV4dC1sZWZ0IHRyYW5zaXRpb24nLFxuICAgICAgICAgICAgYWN0aXZlSWQgPT09IHBhZ2UuaWRcbiAgICAgICAgICAgICAgPyAnYmctWyM5QzZCRkZdLzEwIHRleHQtc2xhdGUtOTAwIGJvcmRlciBib3JkZXItWyM5QzZCRkZdLzQwIHJvdW5kZWQteGwgc2hhZG93LXNtJ1xuICAgICAgICAgICAgICA6ICd0ZXh0LXNsYXRlLTcwMCBob3ZlcjpiZy1zbGF0ZS01MCByb3VuZGVkLXhsJyxcbiAgICAgICAgICBdLmpvaW4oJyAnKTtcbiAgICAgICAgICBpZiAoYWN0aXZlSWQgPT09IHBhZ2UuaWQpIHtcbiAgICAgICAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtY3VycmVudCcsICdwYWdlJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJ1dHRvbi5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtY3VycmVudCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBVc2UgcGFnZS5uYW1lIChzaG9ydCBuYW1lKSBpZiBhdmFpbGFibGUsIGZhbGxiYWNrIHRvIHRpdGxlXG4gICAgICAgICAgY29uc3QgZGlzcGxheU5hbWUgPSBwYWdlLm5hbWUgfHwgcGFnZS50aXRsZTtcbiAgICAgICAgICBjb25zdCBpc0hpZGRlbkZyb21OYXYgPSBwYWdlLmFjY2Vzc2liaWxpdHk/LnNob3dJbk1haW5OYXYgPT09IGZhbHNlO1xuICAgICAgICAgIGNvbnN0IG5hdkJhZGdlID0gaXNIaWRkZW5Gcm9tTmF2XG4gICAgICAgICAgICA/ICc8c3BhbiBjbGFzcz1cInRleHQtWzEwcHhdIGZvbnQtc2VtaWJvbGQgdGV4dC1hbWJlci02MDBcIj5NYXNxdVx1MDBFOSBkdSBtZW51PC9zcGFuPidcbiAgICAgICAgICAgIDogJyc7XG4gICAgICAgICAgYnV0dG9uLmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZmxleCBoLTkgdy05IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciByb3VuZGVkLXhsIGJvcmRlciBib3JkZXItc2xhdGUtMjAwIGJnLXdoaXRlIHRleHQtc2xhdGUtNTAwXCI+XG4gICAgICAgICAgICAgIDxzdmcgd2lkdGg9XCIxOFwiIGhlaWdodD1cIjE4XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+XG4gICAgICAgICAgICAgICAgPHBhdGggZD1cIk02LjUgNC41aDdsNCA0djExYTEgMSAwIDAgMS0xIDFoLTEwYTEgMSAwIDAgMS0xLTF2LTE0YTEgMSAwIDAgMSAxLTFaXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMS40XCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIi8+XG4gICAgICAgICAgICAgICAgPHBhdGggZD1cIk0xMy41IDQuNXY0YTEgMSAwIDAgMCAxIDFoM1wiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjEuNFwiLz5cbiAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQtc20gZm9udC1zZW1pYm9sZFwiPiR7ZGlzcGxheU5hbWV9PC9zcGFuPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQteHMgdGV4dC1zbGF0ZS01MDBcIj4ke3BhZ2Uuc2x1Z308L3NwYW4+XG4gICAgICAgICAgICAgICR7bmF2QmFkZ2V9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICBgO1xuICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIHNldEFjdGl2ZVBhZ2UocGFnZS5pZCk7XG4gICAgICAgICAgICBpZiAoIWlzRGVza3RvcERyYXdlcigpKSB7XG4gICAgICAgICAgICAgIGNsb3NlRHJhd2VyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaXRlbS5hcHBlbmRDaGlsZChidXR0b24pO1xuICAgICAgICAgIC8vIEJvdXRvbiBkZSBzdXBwcmVzc2lvblxuICAgICAgICAgIGNvbnN0IGRlbGV0ZUJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICAgIGRlbGV0ZUJ0bi50eXBlID0gJ2J1dHRvbic7XG4gICAgICAgICAgZGVsZXRlQnRuLmNsYXNzTmFtZSA9ICdmbGV4LXNocmluay0wIHAtMiB0ZXh0LXNsYXRlLTQwMCBob3Zlcjp0ZXh0LXJvc2UtNjAwIGhvdmVyOmJnLXJvc2UtNTAgcm91bmRlZC1sZyB0cmFuc2l0aW9uJztcbiAgICAgICAgICBkZWxldGVCdG4udGl0bGUgPSAnU3VwcHJpbWVyIGNldHRlIHBhZ2UnO1xuICAgICAgICAgIGRlbGV0ZUJ0bi5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCBgU3VwcHJpbWVyICR7ZGlzcGxheU5hbWV9YCk7XG4gICAgICAgICAgZGVsZXRlQnRuLmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgIDxzdmcgd2lkdGg9XCIxNlwiIGhlaWdodD1cIjE2XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiPlxuICAgICAgICAgICAgICA8cGF0aCBkPVwiTTMgNmgxOE04IDZWNGEyIDIgMCAwIDEgMi0yaDRhMiAyIDAgMCAxIDIgMnYybTMgMHYxNGEyIDIgMCAwIDEtMiAySDdhMiAyIDAgMCAxLTItMlY2aDE0Wk0xMCAxMXY2TTE0IDExdjZcIi8+XG4gICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICBgO1xuICAgICAgICAgIGRlbGV0ZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgb3BlbkRlbGV0ZVBhZ2VNb2RhbChwYWdlKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpdGVtLmFwcGVuZENoaWxkKGRlbGV0ZUJ0bik7XG4gICAgICAgICAgbGlzdC5hcHBlbmRDaGlsZChpdGVtKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IGdldEFjdGl2ZUJsb2NrID0gKCkgPT4ge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSB8fCAhQXJyYXkuaXNBcnJheShjdXJyZW50UGFnZS5ibG9ja3MpKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgLy8gQ2hlcmNoZXIgbGUgYmxvYyBkYW5zIGxhIGxpc3RlIHByaW5jaXBhbGUgb3UgZGFucyBsZXMgZW5mYW50cyBkZXMgZ3JvdXBlc1xuICAgICAgbGV0IGJsb2NrID0gY3VycmVudFBhZ2UuYmxvY2tzLmZpbmQoKGJsb2NrKSA9PiBibG9jay5pZCA9PT0gYWN0aXZlQmxvY2tJZCk7XG4gICAgICBpZiAoIWJsb2NrKSB7XG4gICAgICAgIGZvciAoY29uc3QgYiBvZiBjdXJyZW50UGFnZS5ibG9ja3MpIHtcbiAgICAgICAgICBpZiAoYi5jaGlsZHJlbikge1xuICAgICAgICAgICAgYmxvY2sgPSBiLmNoaWxkcmVuLmZpbmQoKGNoaWxkKSA9PiBjaGlsZC5pZCA9PT0gYWN0aXZlQmxvY2tJZCk7XG4gICAgICAgICAgICBpZiAoYmxvY2spIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGJsb2NrIHx8IG51bGw7XG4gICAgfTtcbiAgICBcbiAgICAvLyBWYXJpYWJsZSBwb3VyIHN0b2NrZXIgbGUgcGFyZW50IGR1IGJsb2MgYWN0aWYgKHNpIGMnZXN0IHVuIGVuZmFudCBkZSBncm91cGUpXG4gICAgbGV0IGFjdGl2ZUJsb2NrUGFyZW50SWQgPSBudWxsO1xuICAgIFxuICAgIGNvbnN0IHNldEFjdGl2ZUJsb2NrID0gKGJsb2NrSWQsIHBhcmVudElkID0gbnVsbCkgPT4ge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWJsb2NrSWQpIHtcbiAgICAgICAgYWN0aXZlQmxvY2tJZCA9IG51bGw7XG4gICAgICAgIGFjdGl2ZUJsb2NrUGFyZW50SWQgPSBudWxsO1xuICAgICAgICByZW5kZXJCbG9ja0xpc3QoY3VycmVudFBhZ2UpO1xuICAgICAgICByZW5kZXJCbG9ja0RldGFpbHMobnVsbCk7XG4gICAgICAgIGFwcGx5UHJldmlld0hpZ2hsaWdodChudWxsKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgXG4gICAgICBsZXQgdGFyZ2V0QmxvY2sgPSBudWxsO1xuICAgICAgXG4gICAgICAvLyBDaGVyY2hlciBkYW5zIGxlcyBibG9jcyBwcmluY2lwYXV4XG4gICAgICB0YXJnZXRCbG9jayA9IGN1cnJlbnRQYWdlLmJsb2Nrcy5maW5kKChibG9jaykgPT4gYmxvY2suaWQgPT09IGJsb2NrSWQpO1xuICAgICAgXG4gICAgICAvLyBTaSBwYXMgdHJvdXZcdTAwRTkgZXQgcXUnb24gYSB1biBwYXJlbnRJZCwgY2hlcmNoZXIgZGFucyBsZXMgZW5mYW50cyBkdSBwYXJlbnRcbiAgICAgIGlmICghdGFyZ2V0QmxvY2sgJiYgcGFyZW50SWQpIHtcbiAgICAgICAgY29uc3QgcGFyZW50QmxvY2sgPSBjdXJyZW50UGFnZS5ibG9ja3MuZmluZCgoYikgPT4gYi5pZCA9PT0gcGFyZW50SWQpO1xuICAgICAgICBpZiAocGFyZW50QmxvY2sgJiYgcGFyZW50QmxvY2suY2hpbGRyZW4pIHtcbiAgICAgICAgICB0YXJnZXRCbG9jayA9IHBhcmVudEJsb2NrLmNoaWxkcmVuLmZpbmQoKGNoaWxkKSA9PiBjaGlsZC5pZCA9PT0gYmxvY2tJZCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gU2lub24gY2hlcmNoZXIgZGFucyB0b3VzIGxlcyBncm91cGVzXG4gICAgICBpZiAoIXRhcmdldEJsb2NrKSB7XG4gICAgICAgIGZvciAoY29uc3QgYiBvZiBjdXJyZW50UGFnZS5ibG9ja3MpIHtcbiAgICAgICAgICBpZiAoYi5jaGlsZHJlbikge1xuICAgICAgICAgICAgY29uc3QgZm91bmQgPSBiLmNoaWxkcmVuLmZpbmQoKGNoaWxkKSA9PiBjaGlsZC5pZCA9PT0gYmxvY2tJZCk7XG4gICAgICAgICAgICBpZiAoZm91bmQpIHtcbiAgICAgICAgICAgICAgdGFyZ2V0QmxvY2sgPSBmb3VuZDtcbiAgICAgICAgICAgICAgcGFyZW50SWQgPSBiLmlkO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gRmFsbGJhY2sgc3VyIGxlIHByZW1pZXIgYmxvY1xuICAgICAgaWYgKCF0YXJnZXRCbG9jaykge1xuICAgICAgICB0YXJnZXRCbG9jayA9IGN1cnJlbnRQYWdlLmJsb2Nrc1swXSB8fCBudWxsO1xuICAgICAgICBwYXJlbnRJZCA9IG51bGw7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGFjdGl2ZUJsb2NrSWQgPSB0YXJnZXRCbG9jaz8uaWQgfHwgbnVsbDtcbiAgICAgIGFjdGl2ZUJsb2NrUGFyZW50SWQgPSBwYXJlbnRJZDtcbiAgICAgIHJlbmRlckJsb2NrTGlzdChjdXJyZW50UGFnZSk7XG4gICAgICByZW5kZXJCbG9ja0RldGFpbHModGFyZ2V0QmxvY2spO1xuICAgICAgYXBwbHlQcmV2aWV3SGlnaGxpZ2h0KGFjdGl2ZUJsb2NrSWQpO1xuICAgIH07XG4gICAgY29uc3QgdXBkYXRlQ3VycmVudFBhZ2VCbG9ja3MgPSAobmV3QmxvY2tzKSA9PiB7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG5leHRQYWdlID0geyAuLi5jdXJyZW50UGFnZSwgYmxvY2tzOiBuZXdCbG9ja3MgfTtcbiAgICAgIHVwZGF0ZUN1cnJlbnRQYWdlU3RhdGUobmV4dFBhZ2UpO1xuICAgIH07XG4gICAgY29uc3QgaXNEZXNrdG9wUmVvcmRlciA9ICgpID0+IHdpbmRvdy5tYXRjaE1lZGlhKCcobWluLXdpZHRoOiAxMDI0cHgpJykubWF0Y2hlcztcbiAgICBmdW5jdGlvbiBtb3ZlQmxvY2tCeU9mZnNldChibG9ja0lkLCBvZmZzZXQpIHtcbiAgICAgIGlmICghY3VycmVudFBhZ2UgfHwgIWJsb2NrSWQgfHwgIW9mZnNldCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBibG9ja3MgPSBbLi4uKGN1cnJlbnRQYWdlLmJsb2NrcyB8fCBbXSldO1xuICAgICAgY29uc3QgaW5kZXggPSBibG9ja3MuZmluZEluZGV4KChibG9jaykgPT4gYmxvY2suaWQgPT09IGJsb2NrSWQpO1xuICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBuZXdJbmRleCA9IGluZGV4ICsgb2Zmc2V0O1xuICAgICAgaWYgKG5ld0luZGV4IDwgMCB8fCBuZXdJbmRleCA+PSBibG9ja3MubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IFttb3ZlZF0gPSBibG9ja3Muc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIGJsb2Nrcy5zcGxpY2UobmV3SW5kZXgsIDAsIG1vdmVkKTtcbiAgICAgIHVwZGF0ZUN1cnJlbnRQYWdlQmxvY2tzKGJsb2Nrcyk7XG4gICAgICBzZXRBY3RpdmVQYWdlKGN1cnJlbnRQYWdlLmlkLCB7IHByZXNlcnZlQmxvY2s6IHRydWUgfSk7XG4gICAgICBzZXRBY3RpdmVCbG9jayhtb3ZlZC5pZCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlb3JkZXJCbG9ja3Moc291cmNlSWQsIHRhcmdldElkKSB7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlIHx8ICFzb3VyY2VJZCB8fCAhdGFyZ2V0SWQgfHwgc291cmNlSWQgPT09IHRhcmdldElkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGJsb2NrcyA9IFsuLi4oY3VycmVudFBhZ2UuYmxvY2tzIHx8IFtdKV07XG4gICAgICBjb25zdCBmcm9tSW5kZXggPSBibG9ja3MuZmluZEluZGV4KChibG9jaykgPT4gYmxvY2suaWQgPT09IHNvdXJjZUlkKTtcbiAgICAgIGNvbnN0IHRvSW5kZXggPSBibG9ja3MuZmluZEluZGV4KChibG9jaykgPT4gYmxvY2suaWQgPT09IHRhcmdldElkKTtcbiAgICAgIGlmIChmcm9tSW5kZXggPCAwIHx8IHRvSW5kZXggPCAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IFttb3ZlZF0gPSBibG9ja3Muc3BsaWNlKGZyb21JbmRleCwgMSk7XG4gICAgICBibG9ja3Muc3BsaWNlKHRvSW5kZXgsIDAsIG1vdmVkKTtcbiAgICAgIHVwZGF0ZUN1cnJlbnRQYWdlQmxvY2tzKGJsb2Nrcyk7XG4gICAgICBzZXRBY3RpdmVQYWdlKGN1cnJlbnRQYWdlLmlkLCB7IHByZXNlcnZlQmxvY2s6IHRydWUgfSk7XG4gICAgICBzZXRBY3RpdmVCbG9jayhtb3ZlZC5pZCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlb3JkZXJCbG9ja3NXaXRoUG9zaXRpb24oc291cmNlSWQsIHRhcmdldElkLCBwb3NpdGlvbikge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSB8fCAhc291cmNlSWQgfHwgIXRhcmdldElkIHx8IHNvdXJjZUlkID09PSB0YXJnZXRJZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBibG9ja3MgPSBbLi4uKGN1cnJlbnRQYWdlLmJsb2NrcyB8fCBbXSldO1xuICAgICAgY29uc3QgZnJvbUluZGV4ID0gYmxvY2tzLmZpbmRJbmRleCgoYmxvY2spID0+IGJsb2NrLmlkID09PSBzb3VyY2VJZCk7XG4gICAgICBsZXQgdG9JbmRleCA9IGJsb2Nrcy5maW5kSW5kZXgoKGJsb2NrKSA9PiBibG9jay5pZCA9PT0gdGFyZ2V0SWQpO1xuICAgICAgaWYgKGZyb21JbmRleCA8IDAgfHwgdG9JbmRleCA8IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgW21vdmVkXSA9IGJsb2Nrcy5zcGxpY2UoZnJvbUluZGV4LCAxKTtcbiAgICAgIC8vIEFqdXN0ZXIgbCdpbmRleCBzaSBuXHUwMEU5Y2Vzc2FpcmUgYXByXHUwMEU4cyBsYSBzdXBwcmVzc2lvblxuICAgICAgaWYgKGZyb21JbmRleCA8IHRvSW5kZXgpIHtcbiAgICAgICAgdG9JbmRleC0tO1xuICAgICAgfVxuICAgICAgLy8gSW5zXHUwMEU5cmVyIGF2YW50IG91IGFwclx1MDBFOHMgbGEgY2libGVcbiAgICAgIGNvbnN0IGluc2VydEluZGV4ID0gcG9zaXRpb24gPT09ICdiZWZvcmUnID8gdG9JbmRleCA6IHRvSW5kZXggKyAxO1xuICAgICAgYmxvY2tzLnNwbGljZShpbnNlcnRJbmRleCwgMCwgbW92ZWQpO1xuICAgICAgdXBkYXRlQ3VycmVudFBhZ2VCbG9ja3MoYmxvY2tzKTtcbiAgICAgIHNldEFjdGl2ZVBhZ2UoY3VycmVudFBhZ2UuaWQsIHsgcHJlc2VydmVCbG9jazogdHJ1ZSB9KTtcbiAgICAgIHNldEFjdGl2ZUJsb2NrKG1vdmVkLmlkKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlRHJhZ2dhYmxlU3RhdGUoKSB7XG4gICAgICBpZiAoIWJsb2NrTGlzdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBkcmFnZ2FibGUgPSBpc0Rlc2t0b3BSZW9yZGVyKCk7XG4gICAgICBibG9ja0xpc3QucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYmxvY2staXRlbV0nKS5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgIGl0ZW0uc2V0QXR0cmlidXRlKCdkcmFnZ2FibGUnLCBkcmFnZ2FibGUgPyAndHJ1ZScgOiAnZmFsc2UnKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjbG9zZUJsb2NrTGlicmFyeSgpIHtcbiAgICAgIGlmICghYmxvY2tMaWJyYXJ5KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGJsb2NrTGlicmFyeS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGJsb2NrTGlicmFyeU9wZW4gPSBmYWxzZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gb3BlbkJsb2NrTGlicmFyeSgpIHtcbiAgICAgIGlmICghYmxvY2tMaWJyYXJ5KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGJsb2NrTGlicmFyeS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGJsb2NrTGlicmFyeU9wZW4gPSB0cnVlO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0b2dnbGVCbG9ja0xpYnJhcnkoKSB7XG4gICAgICBibG9ja0xpYnJhcnlPcGVuID8gY2xvc2VCbG9ja0xpYnJhcnkoKSA6IG9wZW5CbG9ja0xpYnJhcnkoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYWRkQmxvY2tGcm9tTGlicmFyeSh0eXBlKSB7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlIHx8ICF0eXBlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRlZmluaXRpb24gPSBibG9ja0xpYnJhcnlEZWZpbml0aW9uc1t0eXBlXTtcbiAgICAgIGlmICghZGVmaW5pdGlvbikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBjb3VudCA9XG4gICAgICAgIChjdXJyZW50UGFnZS5ibG9ja3MgfHwgW10pLmZpbHRlcigoYmxvY2spID0+IGJsb2NrLnR5cGUgPT09IGRlZmluaXRpb24udHlwZSkubGVuZ3RoICsgMTtcbiAgICAgIGNvbnN0IG5ld0Jsb2NrID0gY3JlYXRlQmxvY2soXG4gICAgICAgIGdlbmVyYXRlQmxvY2tJZChjdXJyZW50UGFnZS5pZCwgdHlwZSksXG4gICAgICAgIGAke2RlZmluaXRpb24ubGFiZWx9ICR7Y291bnR9YCxcbiAgICAgICAgZGVmaW5pdGlvbi50eXBlLFxuICAgICAgICBkZWZpbml0aW9uLnN0YXR1cyxcbiAgICAgICAgZGVmaW5pdGlvbi5kZXNjcmlwdGlvbixcbiAgICAgICAgZGVmaW5pdGlvbi5wcm9wcyxcbiAgICAgICAgZGVmaW5pdGlvbi5zZXR0aW5ncyB8fCB7fSxcbiAgICAgICk7XG4gICAgICBpZiAoKGRlZmluaXRpb24udHlwZSB8fCAnJykudG9Mb3dlckNhc2UoKSA9PT0gJ2NvbGxlY3Rpb25ncmlkJykge1xuICAgICAgICBjb25zdCBmaXJzdENvbGxlY3Rpb25JZCA9IGRlc2lnbkNvbGxlY3Rpb25zWzBdPy5pZCB8fCAnJztcbiAgICAgICAgbmV3QmxvY2suY29sbGVjdGlvbklkID0gZmlyc3RDb2xsZWN0aW9uSWQ7XG4gICAgICAgIG5ld0Jsb2NrLnNldHRpbmdzLmNvbGxlY3Rpb25JZCA9IGZpcnN0Q29sbGVjdGlvbklkO1xuICAgICAgICBuZXdCbG9jay5zZXR0aW5ncy5saW1pdCA9IG5ld0Jsb2NrLnNldHRpbmdzLmxpbWl0IHx8IDY7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFNpIG9uIGFqb3V0ZSBcdTAwRTAgdW4gZ3JvdXBlXG4gICAgICBpZiAocGVuZGluZ0dyb3VwSWRGb3JOZXdCbG9jaykge1xuICAgICAgICBjb25zdCBncm91cEJsb2NrID0gY3VycmVudFBhZ2UuYmxvY2tzLmZpbmQoKGIpID0+IGIuaWQgPT09IHBlbmRpbmdHcm91cElkRm9yTmV3QmxvY2spO1xuICAgICAgICBpZiAoZ3JvdXBCbG9jaykge1xuICAgICAgICAgIGlmICghZ3JvdXBCbG9jay5jaGlsZHJlbikgZ3JvdXBCbG9jay5jaGlsZHJlbiA9IFtdO1xuICAgICAgICAgIGdyb3VwQmxvY2suY2hpbGRyZW4ucHVzaChuZXdCbG9jayk7XG4gICAgICAgICAgcGVuZGluZ0dyb3VwSWRGb3JOZXdCbG9jayA9IG51bGw7XG4gICAgICAgICAgcmVuZGVyQmxvY2tMaXN0KGN1cnJlbnRQYWdlKTtcbiAgICAgICAgICBzYXZlUGFnZUJsb2NrcygpO1xuICAgICAgICAgIHNldEFjdGl2ZUJsb2NrKG5ld0Jsb2NrLmlkLCBncm91cEJsb2NrLmlkKTtcbiAgICAgICAgICBjbG9zZUJsb2NrTGlicmFyeSgpO1xuICAgICAgICAgIHNob3dUb2FzdCgnQmxvYyBham91dFx1MDBFOSBhdSBncm91cGUnKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcGVuZGluZ0dyb3VwSWRGb3JOZXdCbG9jayA9IG51bGw7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IG5leHRCbG9ja3MgPSBbLi4uKGN1cnJlbnRQYWdlLmJsb2NrcyB8fCBbXSksIG5ld0Jsb2NrXTtcbiAgICAgIHVwZGF0ZUN1cnJlbnRQYWdlQmxvY2tzKG5leHRCbG9ja3MpO1xuICAgICAgc2V0QWN0aXZlUGFnZShjdXJyZW50UGFnZS5pZCwgeyBwcmVzZXJ2ZUJsb2NrOiB0cnVlIH0pO1xuICAgICAgc2V0QWN0aXZlQmxvY2sobmV3QmxvY2suaWQpO1xuICAgICAgY2xvc2VCbG9ja0xpYnJhcnkoKTtcbiAgICAgIHNob3dUb2FzdCgnQmxvYyBham91dFx1MDBFOScpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkZWxldGVCbG9ja0J5SWQoYmxvY2tJZCkge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBibG9ja3MgPSAoY3VycmVudFBhZ2UuYmxvY2tzIHx8IFtdKS5maWx0ZXIoKGJsb2NrKSA9PiBibG9jay5pZCAhPT0gYmxvY2tJZCk7XG4gICAgICBjb25zdCBuZXh0QWN0aXZlID1cbiAgICAgICAgYmxvY2tJZCA9PT0gYWN0aXZlQmxvY2tJZCA/IGJsb2Nrc1swXT8uaWQgfHwgbnVsbCA6IGFjdGl2ZUJsb2NrSWQgfHwgYmxvY2tzWzBdPy5pZCB8fCBudWxsO1xuICAgICAgdXBkYXRlQ3VycmVudFBhZ2VCbG9ja3MoYmxvY2tzKTtcbiAgICAgIGFjdGl2ZUJsb2NrSWQgPSBuZXh0QWN0aXZlO1xuICAgICAgc2V0QWN0aXZlUGFnZShjdXJyZW50UGFnZS5pZCwgeyBwcmVzZXJ2ZUJsb2NrOiB0cnVlIH0pO1xuICAgICAgaWYgKGFjdGl2ZUJsb2NrSWQpIHtcbiAgICAgICAgc2V0QWN0aXZlQmxvY2soYWN0aXZlQmxvY2tJZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZW5kZXJCbG9ja0RldGFpbHMobnVsbCk7XG4gICAgICAgIGFwcGx5UHJldmlld0hpZ2hsaWdodChudWxsKTtcbiAgICAgIH1cbiAgICAgIHNob3dUb2FzdCgnQmxvYyBzdXBwcmltXHUwMEU5Jyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNsb3NlQmxvY2tEZWxldGVNb2RhbCgpIHtcbiAgICAgIGlmICghYmxvY2tEZWxldGVNb2RhbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBibG9ja0RlbGV0ZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgYmxvY2tEZWxldGVNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdmbGV4Jyk7XG4gICAgICBwZW5kaW5nRGVsZXRlQmxvY2tJZCA9IG51bGw7XG4gICAgICBkZWFjdGl2YXRlTW9kYWwoYmxvY2tEZWxldGVNb2RhbCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG9wZW5CbG9ja0RlbGV0ZU1vZGFsKGJsb2NrSWQpIHtcbiAgICAgIGlmICghYmxvY2tEZWxldGVNb2RhbCkge1xuICAgICAgICBkZWxldGVCbG9ja0J5SWQoYmxvY2tJZCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHBlbmRpbmdEZWxldGVCbG9ja0lkID0gYmxvY2tJZDtcbiAgICAgIGJsb2NrRGVsZXRlTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBibG9ja0RlbGV0ZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2ZsZXgnKTtcbiAgICAgIGFjdGl2YXRlTW9kYWwoYmxvY2tEZWxldGVNb2RhbCwgY2xvc2VCbG9ja0RlbGV0ZU1vZGFsKTtcbiAgICB9XG4gICAgY29uc3QgdXBkYXRlQ3VycmVudFBhZ2VTdGF0ZSA9IChuZXh0UGFnZSkgPT4ge1xuICAgICAgaWYgKCFuZXh0UGFnZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBub3JtYWxpemVkID0gbm9ybWFsaXplUGFnZURhdGEobmV4dFBhZ2UpO1xuICAgICAgcGFnZXMgPSBwYWdlcy5tYXAoKHBhZ2UpID0+IChwYWdlLmlkID09PSBub3JtYWxpemVkLmlkID8gbm9ybWFsaXplZCA6IHBhZ2UpKTtcbiAgICAgIGN1cnJlbnRQYWdlID0gbm9ybWFsaXplZDtcbiAgICAgIHNhdmVQYWdlVG9TZXJ2ZXIobm9ybWFsaXplZCk7XG4gICAgfTtcbiAgICBjb25zdCBzZXRBY3RpdmVQYWdlID0gKHBhZ2VJZCwgb3B0aW9ucyA9IHt9KSA9PiB7XG4gICAgICBjb25zdCB0YXJnZXQgPSBwYWdlcy5maW5kKChwYWdlKSA9PiBwYWdlLmlkID09PSBwYWdlSWQpIHx8IHBhZ2VzWzBdIHx8IG51bGw7XG4gICAgICBjb25zdCBub3JtYWxpemVkVGFyZ2V0ID0gdGFyZ2V0ID8gbm9ybWFsaXplUGFnZURhdGEodGFyZ2V0KSA6IG51bGw7XG4gICAgICBjdXJyZW50UGFnZSA9IG5vcm1hbGl6ZWRUYXJnZXQ7XG4gICAgICBhY3RpdmVQYWdlSWQgPSB0YXJnZXQ/LmlkIHx8IG51bGw7XG4gICAgICBpZiAoIW9wdGlvbnMucHJlc2VydmVCbG9jayB8fCAhY3VycmVudFBhZ2UgfHwgIWN1cnJlbnRQYWdlLmJsb2Nrcy5zb21lKChibG9jaykgPT4gYmxvY2suaWQgPT09IGFjdGl2ZUJsb2NrSWQpKSB7XG4gICAgICAgIGFjdGl2ZUJsb2NrSWQgPSBjdXJyZW50UGFnZT8uYmxvY2tzPy5bMF0/LmlkIHx8IG51bGw7XG4gICAgICB9XG4gICAgICBpZiAoYWN0aXZlUGFnZUlkKSB7XG4gICAgICAgIHBlcnNpc3RBY3RpdmVQYWdlKGFjdGl2ZVBhZ2VJZCk7XG4gICAgICB9XG4gICAgICByZW5kZXJQYWdlTGlzdHMocGFnZXMsIGFjdGl2ZVBhZ2VJZCk7XG4gICAgICBzZXRBY3RpdmVMYWJlbHMoY3VycmVudFBhZ2UpO1xuICAgICAgc3luY1BhZ2VBY2Nlc3NpYmlsaXR5RmllbGRzKCk7XG4gICAgICByZW5kZXJQcmV2aWV3TWV0YShjdXJyZW50UGFnZSk7XG4gICAgICByZWZyZXNoUHJldmlldyhjdXJyZW50UGFnZSk7XG4gICAgICByZW5kZXJCbG9ja0xpc3QoY3VycmVudFBhZ2UpO1xuICAgICAgcmVuZGVyQmxvY2tEZXRhaWxzKGdldEFjdGl2ZUJsb2NrKCkpO1xuICAgICAgYXBwbHlQcmV2aWV3SGlnaGxpZ2h0KGFjdGl2ZUJsb2NrSWQpO1xuICAgICAgdXBkYXRlRHJhZ2dhYmxlU3RhdGUoKTtcbiAgICAgIGlmIChibG9ja0xpYnJhcnlPcGVuKSB7XG4gICAgICAgIGNsb3NlQmxvY2tMaWJyYXJ5KCk7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBpc0Rlc2t0b3BEcmF3ZXIgPSAoKSA9PiB3aW5kb3cubWF0Y2hNZWRpYSgnKG1pbi13aWR0aDogMTAyNHB4KScpLm1hdGNoZXM7XG4gICAgY29uc3Qgc3luY0RyYXdlclN0YXRlID0gKCkgPT4ge1xuICAgICAgaWYgKCFkcmF3ZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGlzRGVza3RvcERyYXdlcigpKSB7XG4gICAgICAgIGRyYXdlci5jbGFzc0xpc3QuYWRkKCdpcy1vcGVuJyk7XG4gICAgICAgIGRyYXdlckJhY2tkcm9wPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRyYXdlci5jbGFzc0xpc3QucmVtb3ZlKCdpcy1vcGVuJyk7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBvcGVuRHJhd2VyID0gKCkgPT4ge1xuICAgICAgaWYgKCFkcmF3ZXIgfHwgaXNEZXNrdG9wRHJhd2VyKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZHJhd2VyLmNsYXNzTGlzdC5hZGQoJ2lzLW9wZW4nKTtcbiAgICAgIGRyYXdlckJhY2tkcm9wPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnb3ZlcmZsb3ctaGlkZGVuJyk7XG4gICAgfTtcbiAgICBjb25zdCBjbG9zZURyYXdlciA9ICgpID0+IHtcbiAgICAgIGlmICghZHJhd2VyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGRyYXdlci5jbGFzc0xpc3QucmVtb3ZlKCdpcy1vcGVuJyk7XG4gICAgICBkcmF3ZXJCYWNrZHJvcD8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ292ZXJmbG93LWhpZGRlbicpO1xuICAgIH07XG4gICAgY29uc3Qgb3BlbkFkZFBhZ2VGb3JtID0gKCkgPT4ge1xuICAgICAgaWYgKCFhZGRQYWdlRm9ybSB8fCAhYWRkUGFnZVRvZ2dsZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhZGRQYWdlRm9ybS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGFkZFBhZ2VUb2dnbGUuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBhZGRQYWdlRXJyb3IgJiYgKGFkZFBhZ2VFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICAgIHBhZ2VTbHVnTWFudWFsbHlFZGl0ZWQgPSBmYWxzZTtcbiAgICAgIGlmIChhZGRQYWdlTmFtZSkge1xuICAgICAgICBhZGRQYWdlTmFtZS52YWx1ZSA9ICcnO1xuICAgICAgICBhZGRQYWdlTmFtZS5mb2N1cygpO1xuICAgICAgfVxuICAgICAgaWYgKGFkZFBhZ2VUaXRsZSkge1xuICAgICAgICBhZGRQYWdlVGl0bGUudmFsdWUgPSAnJztcbiAgICAgIH1cbiAgICAgIGlmIChhZGRQYWdlU2x1Zykge1xuICAgICAgICBhZGRQYWdlU2x1Zy52YWx1ZSA9ICcnO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgY2xvc2VBZGRQYWdlRm9ybSA9ICgpID0+IHtcbiAgICAgIGlmICghYWRkUGFnZUZvcm0gfHwgIWFkZFBhZ2VUb2dnbGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYWRkUGFnZUZvcm0uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBhZGRQYWdlVG9nZ2xlLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgYWRkUGFnZUVycm9yICYmIChhZGRQYWdlRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgICBwYWdlU2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gICAgICBhZGRQYWdlRm9ybS5yZXNldCgpO1xuICAgIH07XG4gICAgY29uc3Qgc3luY1NsdWdGcm9tTmFtZSA9ICgpID0+IHtcbiAgICAgIGlmICghYWRkUGFnZU5hbWUgfHwgIWFkZFBhZ2VTbHVnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChwYWdlU2x1Z01hbnVhbGx5RWRpdGVkICYmIGFkZFBhZ2VTbHVnLnZhbHVlLnRyaW0oKS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGFkZFBhZ2VTbHVnLnZhbHVlID0gbm9ybWFsaXplUGFnZVNsdWcoYWRkUGFnZU5hbWUudmFsdWUpO1xuICAgIH07XG5cbiAgICBsZXQgcGFnZXMgPSBbXTtcbiAgICBsZXQgYWN0aXZlUGFnZUlkID0gbnVsbDtcbiAgICBsZXQgcGFnZVNsdWdNYW51YWxseUVkaXRlZCA9IGZhbHNlO1xuICAgIGxldCBjdXJyZW50UGFnZSA9IG51bGw7XG4gICAgbGV0IGFjdGl2ZUJsb2NrSWQgPSBudWxsO1xuICAgIGxldCBibG9ja0xpYnJhcnlPcGVuID0gZmFsc2U7XG4gICAgbGV0IHBlbmRpbmdEZWxldGVCbG9ja0lkID0gbnVsbDtcbiAgICBsZXQgbGF0ZXN0UHJldmlld0h0bWwgPSAnJztcbiAgICBsZXQgcHJldmlld1JlYWR5ID0gZmFsc2U7XG4gICAgbGV0IHByZXZpZXdSZXF1ZXN0Q29udHJvbGxlciA9IG51bGw7XG4gICAgbGV0IGRlc2lnbkNvbGxlY3Rpb25zID0gW107XG5cbiAgICBjb25zdCBub3JtYWxpemVCbG9ja0RhdGEgPSAoYmxvY2spID0+IHtcbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSB7XG4gICAgICAgIC4uLmJsb2NrLFxuICAgICAgICBwcm9wczogQXJyYXkuaXNBcnJheShibG9jay5wcm9wcykgPyBibG9jay5wcm9wcyA6IFtdLFxuICAgICAgICBzZXR0aW5nczogeyAuLi4oYmxvY2suc2V0dGluZ3MgfHwge30pIH0sXG4gICAgICB9O1xuICAgICAgY29uc3QgdHlwZSA9IChub3JtYWxpemVkLnR5cGUgfHwgJycpLnRvTG93ZXJDYXNlKCk7XG4gICAgICBpZiAodHlwZSA9PT0gJ2NvbGxlY3Rpb25ncmlkJykge1xuICAgICAgICBub3JtYWxpemVkLmNvbGxlY3Rpb25JZCA9XG4gICAgICAgICAgbm9ybWFsaXplZC5jb2xsZWN0aW9uSWQgfHwgbm9ybWFsaXplZC5zZXR0aW5ncy5jb2xsZWN0aW9uSWQgfHwgJyc7XG4gICAgICAgIG5vcm1hbGl6ZWQuc2V0dGluZ3MuY29sbGVjdGlvbklkID0gbm9ybWFsaXplZC5jb2xsZWN0aW9uSWQ7XG4gICAgICAgIG5vcm1hbGl6ZWQuc2V0dGluZ3MubGltaXQgPSBub3JtYWxpemVkLnNldHRpbmdzLmxpbWl0IHx8IDY7XG4gICAgICB9XG4gICAgICByZXR1cm4gbm9ybWFsaXplZDtcbiAgICB9O1xuXG4gICAgY29uc3Qgbm9ybWFsaXplUGFnZURhdGEgPSAocGFnZSkgPT4gKHtcbiAgICAgIC4uLnBhZ2UsXG4gICAgICBibG9ja3M6IChwYWdlLmJsb2NrcyB8fCBbXSkubWFwKChibG9jaykgPT4gbm9ybWFsaXplQmxvY2tEYXRhKGJsb2NrKSksXG4gICAgICBzZW86IHtcbiAgICAgICAgdGl0bGU6IChwYWdlLnNlbz8udGl0bGUgfHwgJycpLnRyaW0oKSxcbiAgICAgICAgZGVzY3JpcHRpb246IChwYWdlLnNlbz8uZGVzY3JpcHRpb24gfHwgJycpLnRyaW0oKSxcbiAgICAgICAgaW5kZXhlZDpcbiAgICAgICAgICB0eXBlb2YgcGFnZS5zZW8/LmluZGV4ZWQgPT09ICdib29sZWFuJyA/IHBhZ2Uuc2VvLmluZGV4ZWQgOiBudWxsLFxuICAgICAgfSxcbiAgICAgIGFjY2Vzc2liaWxpdHk6IHtcbiAgICAgICAgc2hvd0luTWFpbk5hdjogcGFnZS5hY2Nlc3NpYmlsaXR5Py5zaG93SW5NYWluTmF2ICE9PSBmYWxzZSxcbiAgICAgICAgbWFpbkxhYmVsOiAocGFnZS5hY2Nlc3NpYmlsaXR5Py5tYWluTGFiZWwgfHwgJycpLnRyaW0oKSxcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICBjb25zdCBsb2FkRGVzaWduQ29sbGVjdGlvbnMgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25zQXBpQmFzZSkge1xuICAgICAgICBkZXNpZ25Db2xsZWN0aW9ucyA9IFtdO1xuICAgICAgICB1cGRhdGVDb2xsZWN0aW9uU2VsZWN0T3B0aW9ucygpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGNvbGxlY3Rpb25zQXBpQmFzZSwge1xuICAgICAgICAgIGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ltcG9zc2libGUgZGUgY2hhcmdlciBsZXMgY29sbGVjdGlvbnMuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiBbXSk7XG4gICAgICAgIGRlc2lnbkNvbGxlY3Rpb25zID0gQXJyYXkuaXNBcnJheShwYXlsb2FkKSA/IHBheWxvYWQgOiBbXTtcbiAgICAgICAgY29uc3QgY3VycmVudFZhbHVlID0gY29sbGVjdGlvblNlbGVjdD8udmFsdWUgfHwgJyc7XG4gICAgICAgIHVwZGF0ZUNvbGxlY3Rpb25TZWxlY3RPcHRpb25zKGN1cnJlbnRWYWx1ZSk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2Rlc2lnbl0gY29sbGVjdGlvbnMgbG9hZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdCgnQ29sbGVjdGlvbnMgaW5kaXNwb25pYmxlcy4nKTtcbiAgICAgICAgZGVzaWduQ29sbGVjdGlvbnMgPSBbXTtcbiAgICAgICAgdXBkYXRlQ29sbGVjdGlvblNlbGVjdE9wdGlvbnMoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3Qgc3luY0NvbGxlY3Rpb25TZWxlY3Rpb25JbmZvID0gKGNvbGxlY3Rpb25JZCkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uU2VsZWN0aW9uSW5mbykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWNvbGxlY3Rpb25JZCkge1xuICAgICAgICBjb2xsZWN0aW9uU2VsZWN0aW9uSW5mby50ZXh0Q29udGVudCA9IGRlc2lnbkNvbGxlY3Rpb25zLmxlbmd0aFxuICAgICAgICAgID8gJ1NcdTAwRTlsZWN0aW9ubmV6IHVuZSBjb2xsZWN0aW9uIHBvdXIgYWZmaWNoZXIgc2VzIGluZm9ybWF0aW9ucy4nXG4gICAgICAgICAgOiAnQXVjdW5lIGNvbGxlY3Rpb24gZGlzcG9uaWJsZS4gQWpvdXRlei1lbiBkZXB1aXMgbFx1MjAxOW9uZ2xldCBDb250ZW51cy4nO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBlbnRyeSA9IGRlc2lnbkNvbGxlY3Rpb25zLmZpbmQoKGNvbGxlY3Rpb24pID0+IGNvbGxlY3Rpb24uaWQgPT09IGNvbGxlY3Rpb25JZCk7XG4gICAgICBpZiAoIWVudHJ5KSB7XG4gICAgICAgIGNvbGxlY3Rpb25TZWxlY3Rpb25JbmZvLnRleHRDb250ZW50ID0gYENvbGxlY3Rpb24gJHtjb2xsZWN0aW9uSWR9YDtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgZGV0YWlscyA9IFtdO1xuICAgICAgaWYgKGVudHJ5LmRlc2NyaXB0aW9uKSB7XG4gICAgICAgIGRldGFpbHMucHVzaChlbnRyeS5kZXNjcmlwdGlvbik7XG4gICAgICB9XG4gICAgICBpZiAoZW50cnkudHlwZSkge1xuICAgICAgICBkZXRhaWxzLnB1c2goYFR5cGVcdTAwQTA6ICR7ZW50cnkudHlwZX1gKTtcbiAgICAgIH1cbiAgICAgIGNvbGxlY3Rpb25TZWxlY3Rpb25JbmZvLnRleHRDb250ZW50ID1cbiAgICAgICAgZGV0YWlscy5qb2luKCcgXHUwMEI3ICcpIHx8IGBDb2xsZWN0aW9uICR7ZW50cnkubmFtZSB8fCBlbnRyeS5pZH1gO1xuICAgIH07XG5cbiAgICBjb25zdCB1cGRhdGVDb2xsZWN0aW9uU2VsZWN0T3B0aW9ucyA9IChzZWxlY3RlZFZhbHVlID0gJycpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvblNlbGVjdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb2xsZWN0aW9uU2VsZWN0LmlubmVySFRNTCA9ICcnO1xuICAgICAgaWYgKCFkZXNpZ25Db2xsZWN0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgY29sbGVjdGlvblNlbGVjdC5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICBvcHRpb24udmFsdWUgPSAnJztcbiAgICAgICAgb3B0aW9uLnRleHRDb250ZW50ID0gJ0F1Y3VuZSBjb2xsZWN0aW9uIGRpc3BvbmlibGUnO1xuICAgICAgICBjb2xsZWN0aW9uU2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbik7XG4gICAgICAgIHN5bmNDb2xsZWN0aW9uU2VsZWN0aW9uSW5mbygnJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbGxlY3Rpb25TZWxlY3QuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgIGlmIChzZWxlY3RlZFZhbHVlICYmICFkZXNpZ25Db2xsZWN0aW9ucy5zb21lKChlbnRyeSkgPT4gZW50cnkuaWQgPT09IHNlbGVjdGVkVmFsdWUpKSB7XG4gICAgICAgIGNvbnN0IGZhbGxiYWNrT3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICAgIGZhbGxiYWNrT3B0aW9uLnZhbHVlID0gc2VsZWN0ZWRWYWx1ZTtcbiAgICAgICAgZmFsbGJhY2tPcHRpb24udGV4dENvbnRlbnQgPSBzZWxlY3RlZFZhbHVlO1xuICAgICAgICBjb2xsZWN0aW9uU2VsZWN0LmFwcGVuZENoaWxkKGZhbGxiYWNrT3B0aW9uKTtcbiAgICAgIH1cbiAgICAgIGRlc2lnbkNvbGxlY3Rpb25zLmZvckVhY2goKGNvbGxlY3Rpb24pID0+IHtcbiAgICAgICAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICAgIG9wdGlvbi52YWx1ZSA9IGNvbGxlY3Rpb24uaWQ7XG4gICAgICAgIGNvbnN0IGxhYmVsID0gY29sbGVjdGlvbi5uYW1lIHx8IGNvbGxlY3Rpb24uaWQ7XG4gICAgICAgIG9wdGlvbi50ZXh0Q29udGVudCA9IGNvbGxlY3Rpb24udHlwZSA/IGAke2xhYmVsfSBcdTAwQjcgJHtjb2xsZWN0aW9uLnR5cGV9YCA6IGxhYmVsO1xuICAgICAgICBvcHRpb24uZGF0YXNldC5kZXNjcmlwdGlvbiA9IGNvbGxlY3Rpb24uZGVzY3JpcHRpb24gfHwgJyc7XG4gICAgICAgIGNvbGxlY3Rpb25TZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uKTtcbiAgICAgIH0pO1xuICAgICAgaWYgKHNlbGVjdGVkVmFsdWUpIHtcbiAgICAgICAgY29sbGVjdGlvblNlbGVjdC52YWx1ZSA9IHNlbGVjdGVkVmFsdWU7XG4gICAgICB9XG4gICAgICBzeW5jQ29sbGVjdGlvblNlbGVjdGlvbkluZm8oY29sbGVjdGlvblNlbGVjdC52YWx1ZSB8fCAnJyk7XG4gICAgfTtcblxuICAgIGxvYWREZXNpZ25Db2xsZWN0aW9ucygpO1xuICAgIHN5bmNEcmF3ZXJTdGF0ZSgpO1xuXG4gICAgZHJhd2VyT3BlbkJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuRHJhd2VyKTtcbiAgICB9KTtcbiAgICBkcmF3ZXJDbG9zZUJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZURyYXdlcik7XG4gICAgfSk7XG4gICAgZHJhd2VyQmFja2Ryb3A/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VEcmF3ZXIpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCAoKSA9PiB7XG4gICAgICBzeW5jRHJhd2VyU3RhdGUoKTtcbiAgICAgIHVwZGF0ZURyYWdnYWJsZVN0YXRlKCk7XG4gICAgfSk7XG5cbiAgICBhZGRQYWdlVG9nZ2xlPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5BZGRQYWdlRm9ybSk7XG4gICAgYWRkUGFnZUNhbmNlbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZUFkZFBhZ2VGb3JtKTtcbiAgICBhZGRQYWdlTmFtZT8uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBzeW5jU2x1Z0Zyb21OYW1lKTtcbiAgICBhZGRQYWdlU2x1Zz8uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgICBhZGRQYWdlRXJyb3IgJiYgKGFkZFBhZ2VFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICAgIHBhZ2VTbHVnTWFudWFsbHlFZGl0ZWQgPSB0cnVlO1xuICAgIH0pO1xuICAgIGFkZFBhZ2VGb3JtPy5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoIXBhZ2VzQXBpQmFzZSkge1xuICAgICAgICBhZGRQYWdlRXJyb3IgJiYgKGFkZFBhZ2VFcnJvci50ZXh0Q29udGVudCA9ICdBdWN1biBzaXRlIHNcdTAwRTlsZWN0aW9ublx1MDBFOS4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFhZGRQYWdlTmFtZSB8fCAhYWRkUGFnZVNsdWcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgbmFtZSA9IGFkZFBhZ2VOYW1lLnZhbHVlLnRyaW0oKTtcbiAgICAgIGNvbnN0IHRpdGxlID0gYWRkUGFnZVRpdGxlPy52YWx1ZS50cmltKCkgfHwgbmFtZTsgLy8gRmFsbGJhY2sgdG8gbmFtZSBpZiB0aXRsZSBpcyBlbXB0eVxuICAgICAgY29uc3Qgc2x1ZyA9IG5vcm1hbGl6ZVBhZ2VTbHVnKGFkZFBhZ2VTbHVnLnZhbHVlLnRyaW0oKSB8fCBuYW1lKTtcbiAgICAgIGlmICghbmFtZSB8fCAhc2x1Zykge1xuICAgICAgICBhZGRQYWdlRXJyb3IgJiYgKGFkZFBhZ2VFcnJvci50ZXh0Q29udGVudCA9ICdOb20gZXQgc2x1ZyBzb250IHJlcXVpcy4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYWRkUGFnZUVycm9yICYmIChhZGRQYWdlRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgICBpZiAoYWRkUGFnZVN1Ym1pdEJ1dHRvbikge1xuICAgICAgICBhZGRQYWdlU3VibWl0QnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgYWRkUGFnZVN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9ICdDclx1MDBFOWF0aW9uLi4uJztcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGNyZWF0ZWRQYWdlID0gYXdhaXQgY3JlYXRlUGFnZU9uU2VydmVyKHsgbmFtZSwgdGl0bGUsIHNsdWcgfSk7XG4gICAgICAgIGlmICghY3JlYXRlZFBhZ2UgfHwgIWNyZWF0ZWRQYWdlLmlkKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSXHUwMEU5cG9uc2UgaW52YWxpZGUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgcGFnZXMgPSBbLi4ucGFnZXMsIG5vcm1hbGl6ZVBhZ2VEYXRhKGNyZWF0ZWRQYWdlKV07XG4gICAgICAgIGNsb3NlQWRkUGFnZUZvcm0oKTtcbiAgICAgICAgc2hvd1RvYXN0KCdQYWdlIGNyXHUwMEU5XHUwMEU5ZScpO1xuICAgICAgICBzZXRBY3RpdmVQYWdlKGNyZWF0ZWRQYWdlLmlkKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZGVzaWduXSBjcmVhdGUgcGFnZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBhZGRQYWdlRXJyb3IgJiYgKGFkZFBhZ2VFcnJvci50ZXh0Q29udGVudCA9IGVyci5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIGNyXHUwMEU5ZXIgbGEgcGFnZS4nKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmIChhZGRQYWdlU3VibWl0QnV0dG9uKSB7XG4gICAgICAgICAgYWRkUGFnZVN1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgIGFkZFBhZ2VTdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSAnQ3JcdTAwRTllcic7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vID09PSBJbXBvcnQgSlNPTiBoYW5kbGVycyA9PT1cbiAgICBjb25zdCByZXNldFBhc3RlU3RhdGUgPSAoKSA9PiB7XG4gICAgICBpZiAoaW1wb3J0UGFzdGVJbnB1dCkgaW1wb3J0UGFzdGVJbnB1dC52YWx1ZSA9ICcnO1xuICAgICAgaWYgKHBhc3RlRXJyb3IpIHtcbiAgICAgICAgcGFzdGVFcnJvci5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgcGFzdGVFcnJvci50ZXh0Q29udGVudCA9ICcnO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCB2YWxpZGF0ZVBhc3RlSnNvbiA9ICgpID0+IHtcbiAgICAgIGlmICghaW1wb3J0UGFzdGVJbnB1dCkgcmV0dXJuIG51bGw7XG4gICAgICBjb25zdCB0ZXh0ID0gaW1wb3J0UGFzdGVJbnB1dC52YWx1ZS50cmltKCk7XG4gICAgICBpZiAoIXRleHQpIHtcbiAgICAgICAgaWYgKHBhc3RlRXJyb3IpIHBhc3RlRXJyb3IuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcGFyc2VkID0gSlNPTi5wYXJzZSh0ZXh0KTtcbiAgICAgICAgaWYgKHBhc3RlRXJyb3IpIHBhc3RlRXJyb3IuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIHJldHVybiBwYXJzZWQ7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgaWYgKHBhc3RlRXJyb3IpIHtcbiAgICAgICAgICBwYXN0ZUVycm9yLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgIHBhc3RlRXJyb3IudGV4dENvbnRlbnQgPSBgXHUyNzRDIEpTT04gaW52YWxpZGUgOiAke2Vyci5tZXNzYWdlfWA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGZvcm1hdFBhc3RlSnNvbiA9ICgpID0+IHtcbiAgICAgIGlmICghaW1wb3J0UGFzdGVJbnB1dCkgcmV0dXJuO1xuICAgICAgY29uc3QgdGV4dCA9IGltcG9ydFBhc3RlSW5wdXQudmFsdWUudHJpbSgpO1xuICAgICAgaWYgKCF0ZXh0KSByZXR1cm47XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBwYXJzZWQgPSBKU09OLnBhcnNlKHRleHQpO1xuICAgICAgICBpbXBvcnRQYXN0ZUlucHV0LnZhbHVlID0gSlNPTi5zdHJpbmdpZnkocGFyc2VkLCBudWxsLCAyKTtcbiAgICAgICAgdmFsaWRhdGVQYXN0ZUpzb24oKTtcbiAgICAgIH0gY2F0Y2gge1xuICAgICAgICAvLyBTaSBwYXMgdmFsaWRlLCBvbiBuZSBmb3JtYXRlIHBhc1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCB1cGRhdGVJbXBvcnRTdWJtaXRTdGF0ZSA9ICgpID0+IHtcbiAgICAgIGlmICghaW1wb3J0U3VibWl0KSByZXR1cm47XG4gICAgICBpZiAoYWN0aXZlSW1wb3J0VGFiID09PSAndXBsb2FkJykge1xuICAgICAgICBpbXBvcnRTdWJtaXQuZGlzYWJsZWQgPSBpbXBvcnRTZWxlY3RlZEZpbGVzLmxlbmd0aCA9PT0gMDtcbiAgICAgIH0gZWxzZSBpZiAoYWN0aXZlSW1wb3J0VGFiID09PSAncGFzdGUnKSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZCA9IHZhbGlkYXRlUGFzdGVKc29uKCk7XG4gICAgICAgIGltcG9ydFN1Ym1pdC5kaXNhYmxlZCA9ICFwYXJzZWQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbXBvcnRTdWJtaXQuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBvcGVuSW1wb3J0TW9kYWwgPSAoKSA9PiB7XG4gICAgICBpZiAoIWltcG9ydE1vZGFsKSByZXR1cm47XG4gICAgICBpbXBvcnRNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGltcG9ydE1vZGFsLmNsYXNzTGlzdC5hZGQoJ2ZsZXgnKTtcbiAgICAgIGltcG9ydFNlbGVjdGVkRmlsZXMgPSBbXTtcbiAgICAgIGFjdGl2ZUltcG9ydFRhYiA9ICd1cGxvYWQnO1xuICAgICAgdXBkYXRlSW1wb3J0RmlsZUxpc3QoKTtcbiAgICAgIHJlc2V0UGFzdGVTdGF0ZSgpO1xuICAgICAgaWYgKGltcG9ydFJlc3VsdHMpIGltcG9ydFJlc3VsdHMuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBpZiAoaW1wb3J0UmVzdWx0c0NvbnRlbnQpIGltcG9ydFJlc3VsdHNDb250ZW50LmlubmVySFRNTCA9ICcnO1xuICAgICAgdXBkYXRlSW1wb3J0U3VibWl0U3RhdGUoKTtcbiAgICAgIC8vIFJlc2V0IHRhYnMgdG8gdXBsb2FkXG4gICAgICBpbXBvcnRUYWJzLmZvckVhY2goKHQpID0+IHtcbiAgICAgICAgaWYgKHQuZGF0YXNldC5pbXBvcnRUYWIgPT09ICd1cGxvYWQnKSB7XG4gICAgICAgICAgdC5jbGFzc0xpc3QuYWRkKCdiZy1bIzlDNkJGRl0nLCAndGV4dC13aGl0ZScpO1xuICAgICAgICAgIHQuY2xhc3NMaXN0LnJlbW92ZSgnYm9yZGVyJywgJ2JvcmRlci1zbGF0ZS0yMDAnLCAndGV4dC1zbGF0ZS03MDAnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0LmNsYXNzTGlzdC5yZW1vdmUoJ2JnLVsjOUM2QkZGXScsICd0ZXh0LXdoaXRlJyk7XG4gICAgICAgICAgdC5jbGFzc0xpc3QuYWRkKCdib3JkZXInLCAnYm9yZGVyLXNsYXRlLTIwMCcsICd0ZXh0LXNsYXRlLTcwMCcpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGltcG9ydFBhbmVscy5mb3JFYWNoKChwKSA9PiB7XG4gICAgICAgIGlmIChwLmRhdGFzZXQuaW1wb3J0UGFuZWwgPT09ICd1cGxvYWQnKSB7XG4gICAgICAgICAgcC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGFjdGl2YXRlTW9kYWwoaW1wb3J0TW9kYWwsIGNsb3NlSW1wb3J0TW9kYWwpO1xuICAgIH07XG4gICAgY29uc3QgY2xvc2VJbXBvcnRNb2RhbCA9ICgpID0+IHtcbiAgICAgIGlmICghaW1wb3J0TW9kYWwpIHJldHVybjtcbiAgICAgIGltcG9ydE1vZGFsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgaW1wb3J0TW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnZmxleCcpO1xuICAgICAgaW1wb3J0U2VsZWN0ZWRGaWxlcyA9IFtdO1xuICAgICAgcmVzZXRQYXN0ZVN0YXRlKCk7XG4gICAgICBkZWFjdGl2YXRlTW9kYWwoaW1wb3J0TW9kYWwpO1xuICAgIH07XG4gICAgY29uc3QgdXBkYXRlSW1wb3J0RmlsZUxpc3QgPSAoKSA9PiB7XG4gICAgICBpZiAoIWltcG9ydEZpbGVMaXN0IHx8ICFpbXBvcnRGaWxlTmFtZXMpIHJldHVybjtcbiAgICAgIGlmIChpbXBvcnRTZWxlY3RlZEZpbGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBpbXBvcnRGaWxlTGlzdC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgdXBkYXRlSW1wb3J0U3VibWl0U3RhdGUoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaW1wb3J0RmlsZUxpc3QuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBpbXBvcnRGaWxlTmFtZXMuaW5uZXJIVE1MID0gaW1wb3J0U2VsZWN0ZWRGaWxlc1xuICAgICAgICAubWFwKChmKSA9PiBgPGxpIGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj48c3BhbiBjbGFzcz1cInRleHQtbGdcIj5cdUQ4M0RcdURDQzQ8L3NwYW4+JHtmLm5hbWV9PC9saT5gKVxuICAgICAgICAuam9pbignJyk7XG4gICAgICB1cGRhdGVJbXBvcnRTdWJtaXRTdGF0ZSgpO1xuICAgIH07XG4gICAgY29uc3QgaGFuZGxlSW1wb3J0RmlsZXMgPSAoZmlsZXMpID0+IHtcbiAgICAgIGNvbnN0IGpzb25GaWxlcyA9IEFycmF5LmZyb20oZmlsZXMpLmZpbHRlcihcbiAgICAgICAgKGYpID0+IGYudHlwZSA9PT0gJ2FwcGxpY2F0aW9uL2pzb24nIHx8IGYubmFtZS5lbmRzV2l0aCgnLmpzb24nKVxuICAgICAgKTtcbiAgICAgIGlmIChqc29uRmlsZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHNob3dUb2FzdCgnQXVjdW4gZmljaGllciBKU09OIHZhbGlkZS4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaW1wb3J0U2VsZWN0ZWRGaWxlcyA9IGpzb25GaWxlcztcbiAgICAgIHVwZGF0ZUltcG9ydEZpbGVMaXN0KCk7XG4gICAgfTtcbiAgICBjb25zdCBleGVjdXRlSW1wb3J0ID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFwYWdlc0FwaUJhc2UpIHJldHVybjtcbiAgICAgIFxuICAgICAgLy8gRGV0ZXJtaW5lIHNvdXJjZSBvZiBkYXRhIGJhc2VkIG9uIGFjdGl2ZSB0YWJcbiAgICAgIGxldCBwYWdlc0RhdGEgPSBbXTtcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coJ1tpbXBvcnRdIGFjdGl2ZUltcG9ydFRhYjonLCBhY3RpdmVJbXBvcnRUYWIpO1xuICAgICAgXG4gICAgICBpZiAoYWN0aXZlSW1wb3J0VGFiID09PSAncGFzdGUnKSB7XG4gICAgICAgIC8vIEltcG9ydCBmcm9tIHBhc3RlZCBKU09OXG4gICAgICAgIGNvbnN0IHRleHQgPSBpbXBvcnRQYXN0ZUlucHV0Py52YWx1ZT8udHJpbSgpO1xuICAgICAgICBjb25zb2xlLmxvZygnW2ltcG9ydF0gcGFzdGUgdGV4dCBsZW5ndGg6JywgdGV4dD8ubGVuZ3RoKTtcbiAgICAgICAgaWYgKCF0ZXh0KSB7XG4gICAgICAgICAgc2hvd1RvYXN0KCdBdWN1biBKU09OIFx1MDBFMCBpbXBvcnRlci4nKTtcbiAgICAgICAgICBpZiAoaW1wb3J0UmVzdWx0cyAmJiBpbXBvcnRSZXN1bHRzQ29udGVudCkge1xuICAgICAgICAgICAgaW1wb3J0UmVzdWx0cy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIGltcG9ydFJlc3VsdHNDb250ZW50LmlubmVySFRNTCA9ICc8cCBjbGFzcz1cInRleHQtYW1iZXItNjAwXCI+XHUyNkEwIExlIGNoYW1wIGRlIHRleHRlIGVzdCB2aWRlLjwvcD4nO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBwYXJzZWQgPSBKU09OLnBhcnNlKHRleHQpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdbaW1wb3J0XSBwYXJzZWQgSlNPTjonLCBwYXJzZWQpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdbaW1wb3J0XSBwYXJzZWQgdHlwZTonLCB0eXBlb2YgcGFyc2VkLCBBcnJheS5pc0FycmF5KHBhcnNlZCkgPyAnYXJyYXknIDogJ25vdCBhcnJheScpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIFN1cHBvcnQgZm9ybWF0IHsgcGFnZXM6IFsuLi5dLCBjb2xsZWN0aW9uczogey4uLn0gfVxuICAgICAgICAgIGlmIChwYXJzZWQgJiYgIUFycmF5LmlzQXJyYXkocGFyc2VkKSAmJiBwYXJzZWQucGFnZXMpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbaW1wb3J0XSBkZXRlY3RlZCBwYWdlcytjb2xsZWN0aW9ucyBmb3JtYXQnKTtcbiAgICAgICAgICAgIHBhZ2VzRGF0YSA9IHBhcnNlZDsgLy8gU2VuZCB0aGUgd2hvbGUgb2JqZWN0LCBiYWNrZW5kIHdpbGwgaGFuZGxlIGl0XG4gICAgICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHBhcnNlZCkpIHtcbiAgICAgICAgICAgIHBhZ2VzRGF0YS5wdXNoKC4uLnBhcnNlZCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhZ2VzRGF0YS5wdXNoKHBhcnNlZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnNvbGUubG9nKCdbaW1wb3J0XSBwYWdlc0RhdGEgcHJlcGFyZWQ6JywgcGFnZXNEYXRhKTtcbiAgICAgICAgfSBjYXRjaCAocGFyc2VFcnIpIHtcbiAgICAgICAgICAvLyBBZmZpY2hlciBsZSBkXHUwMEU5dGFpbCBkZSBsJ2VycmV1ciBkZSBwYXJzaW5nXG4gICAgICAgICAgY29uc3QgZXJyb3JMaW5lID0gcGFyc2VFcnIubWVzc2FnZS5tYXRjaCgvcG9zaXRpb24gKFxcZCspLyk7XG4gICAgICAgICAgbGV0IGVycm9yRGV0YWlsID0gcGFyc2VFcnIubWVzc2FnZTtcbiAgICAgICAgICBpZiAoZXJyb3JMaW5lKSB7XG4gICAgICAgICAgICBjb25zdCBwb3MgPSBwYXJzZUludChlcnJvckxpbmVbMV0sIDEwKTtcbiAgICAgICAgICAgIGNvbnN0IGxpbmVzID0gdGV4dC5zdWJzdHJpbmcoMCwgcG9zKS5zcGxpdCgnXFxuJyk7XG4gICAgICAgICAgICBjb25zdCBsaW5lTnVtID0gbGluZXMubGVuZ3RoO1xuICAgICAgICAgICAgY29uc3QgY29sTnVtID0gbGluZXNbbGluZXMubGVuZ3RoIC0gMV0ubGVuZ3RoICsgMTtcbiAgICAgICAgICAgIGVycm9yRGV0YWlsID0gYExpZ25lICR7bGluZU51bX0sIGNvbG9ubmUgJHtjb2xOdW19OiAke3BhcnNlRXJyLm1lc3NhZ2V9YDtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2hvd1RvYXN0KGBFcnJldXIgSlNPTiA6ICR7ZXJyb3JEZXRhaWx9YCwgJ2Vycm9yJyk7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW2ltcG9ydF0gcGFzdGUgcGFyc2UgZXJyb3InLCBwYXJzZUVycik7XG4gICAgICAgICAgLy8gU2hvdyBlcnJvciBpbiByZXN1bHRzIGFyZWFcbiAgICAgICAgICBpZiAoaW1wb3J0UmVzdWx0cyAmJiBpbXBvcnRSZXN1bHRzQ29udGVudCkge1xuICAgICAgICAgICAgaW1wb3J0UmVzdWx0cy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIGltcG9ydFJlc3VsdHNDb250ZW50LmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRleHQtcm9zZS02MDBcIj5cbiAgICAgICAgICAgICAgICA8cCBjbGFzcz1cImZvbnQtbWVkaXVtXCI+XHUyNzE3IEVycmV1ciBkZSBzeW50YXhlIEpTT048L3A+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXhzIG10LTFcIj4ke2Vycm9yRGV0YWlsfTwvcD5cbiAgICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQteHMgbXQtMiB0ZXh0LXNsYXRlLTUwMFwiPlZcdTAwRTlyaWZpZXogbGVzIHZpcmd1bGVzLCBndWlsbGVtZXRzIGV0IGFjY29sYWRlcy48L3A+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgYDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGFjdGl2ZUltcG9ydFRhYiA9PT0gJ3VwbG9hZCcpIHtcbiAgICAgICAgLy8gSW1wb3J0IGZyb20gZmlsZXNcbiAgICAgICAgaWYgKGltcG9ydFNlbGVjdGVkRmlsZXMubGVuZ3RoID09PSAwKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGZpbGVFcnJvcnMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBmaWxlIG9mIGltcG9ydFNlbGVjdGVkRmlsZXMpIHtcbiAgICAgICAgICBjb25zdCB0ZXh0ID0gYXdhaXQgZmlsZS50ZXh0KCk7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZCA9IEpTT04ucGFyc2UodGV4dCk7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwYXJzZWQpKSB7XG4gICAgICAgICAgICAgIHBhZ2VzRGF0YS5wdXNoKC4uLnBhcnNlZCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwYWdlc0RhdGEucHVzaChwYXJzZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2ggKHBhcnNlRXJyKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvckxpbmUgPSBwYXJzZUVyci5tZXNzYWdlLm1hdGNoKC9wb3NpdGlvbiAoXFxkKykvKTtcbiAgICAgICAgICAgIGxldCBlcnJvckRldGFpbCA9IHBhcnNlRXJyLm1lc3NhZ2U7XG4gICAgICAgICAgICBpZiAoZXJyb3JMaW5lKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHBvcyA9IHBhcnNlSW50KGVycm9yTGluZVsxXSwgMTApO1xuICAgICAgICAgICAgICBjb25zdCBsaW5lcyA9IHRleHQuc3Vic3RyaW5nKDAsIHBvcykuc3BsaXQoJ1xcbicpO1xuICAgICAgICAgICAgICBjb25zdCBsaW5lTnVtID0gbGluZXMubGVuZ3RoO1xuICAgICAgICAgICAgICBlcnJvckRldGFpbCA9IGBMaWduZSAke2xpbmVOdW19OiAke3BhcnNlRXJyLm1lc3NhZ2V9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbGVFcnJvcnMucHVzaCh7IGZpbGU6IGZpbGUubmFtZSwgZXJyb3I6IGVycm9yRGV0YWlsIH0pO1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignW2ltcG9ydF0gcGFyc2UgZXJyb3InLCBmaWxlLm5hbWUsIHBhcnNlRXJyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2hvdyBmaWxlIHBhcnNpbmcgZXJyb3JzIGlmIGFueVxuICAgICAgICBpZiAoZmlsZUVycm9ycy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgaWYgKGltcG9ydFJlc3VsdHMgJiYgaW1wb3J0UmVzdWx0c0NvbnRlbnQpIHtcbiAgICAgICAgICAgIGltcG9ydFJlc3VsdHMuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgICBsZXQgaHRtbCA9ICc8ZGl2IGNsYXNzPVwidGV4dC1yb3NlLTYwMFwiPjxwIGNsYXNzPVwiZm9udC1tZWRpdW1cIj5cdTI3MTcgRXJyZXVycyBkZSBzeW50YXhlIEpTT048L3A+PHVsIGNsYXNzPVwibWwtNCB0ZXh0LXhzIG10LTFcIj4nO1xuICAgICAgICAgICAgZmlsZUVycm9ycy5mb3JFYWNoKGUgPT4ge1xuICAgICAgICAgICAgICBodG1sICs9IGA8bGk+PHN0cm9uZz4ke2UuZmlsZX08L3N0cm9uZz46ICR7ZS5lcnJvcn08L2xpPmA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGh0bWwgKz0gJzwvdWw+PC9kaXY+JztcbiAgICAgICAgICAgIGlmIChwYWdlc0RhdGEubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICBodG1sICs9IGA8cCBjbGFzcz1cInRleHQtYW1iZXItNjAwIG10LTIgdGV4dC1zbVwiPlx1MjZBMCAke3BhZ2VzRGF0YS5sZW5ndGh9IHBhZ2UocykgdmFsaWRlKHMpIHNlcm9udCBpbXBvcnRcdTAwRTllKHMpPC9wPmA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbXBvcnRSZXN1bHRzQ29udGVudC5pbm5lckhUTUwgPSBodG1sO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocGFnZXNEYXRhLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgc2hvd1RvYXN0KCdUb3VzIGxlcyBmaWNoaWVycyBjb250aWVubmVudCBkZXMgZXJyZXVycyBKU09OJywgJ2Vycm9yJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIFZcdTAwRTlyaWZpZXIgcXUnb24gYSBkZXMgZG9ublx1MDBFOWVzIFx1MDBFMCBpbXBvcnRlclxuICAgICAgY29uc3QgaGFzRGF0YSA9IEFycmF5LmlzQXJyYXkocGFnZXNEYXRhKSBcbiAgICAgICAgPyBwYWdlc0RhdGEubGVuZ3RoID4gMCBcbiAgICAgICAgOiAocGFnZXNEYXRhICYmIChwYWdlc0RhdGEucGFnZXM/Lmxlbmd0aCA+IDAgfHwgcGFnZXNEYXRhLnRpdGxlKSk7XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKCdbaW1wb3J0XSBoYXNEYXRhIGNoZWNrOicsIGhhc0RhdGEsICdwYWdlc0RhdGE6JywgcGFnZXNEYXRhKTtcbiAgICAgIFxuICAgICAgaWYgKCFoYXNEYXRhKSB7XG4gICAgICAgIHNob3dUb2FzdCgnQXVjdW5lIHBhZ2UgdmFsaWRlIFx1MDBFMCBpbXBvcnRlci4nKTtcbiAgICAgICAgaWYgKGltcG9ydFJlc3VsdHMgJiYgaW1wb3J0UmVzdWx0c0NvbnRlbnQpIHtcbiAgICAgICAgICBpbXBvcnRSZXN1bHRzLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgIGltcG9ydFJlc3VsdHNDb250ZW50LmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LWFtYmVyLTYwMFwiPlxuICAgICAgICAgICAgICA8cCBjbGFzcz1cImZvbnQtbWVkaXVtXCI+XHUyNkEwIEF1Y3VuZSBwYWdlIGRcdTAwRTl0ZWN0XHUwMEU5ZTwvcD5cbiAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXhzIG10LTFcIj5MZSBKU09OIGRvaXQgY29udGVuaXIgOjwvcD5cbiAgICAgICAgICAgICAgPHVsIGNsYXNzPVwidGV4dC14cyBtbC00IG10LTEgbGlzdC1kaXNjXCI+XG4gICAgICAgICAgICAgICAgPGxpPlVuIG9iamV0IHBhZ2UgYXZlYyBcInRpdGxlXCIgOiA8Y29kZT57XCJ0aXRsZVwiOiBcIk1hIHBhZ2VcIiwgLi4ufTwvY29kZT48L2xpPlxuICAgICAgICAgICAgICAgIDxsaT5VbiB0YWJsZWF1IGRlIHBhZ2VzIDogPGNvZGU+W3tcInRpdGxlXCI6IFwiUGFnZSAxXCJ9LCB7XCJ0aXRsZVwiOiBcIlBhZ2UgMlwifV08L2NvZGU+PC9saT5cbiAgICAgICAgICAgICAgICA8bGk+T3UgdW4gb2JqZXQgY29tYmluXHUwMEU5IDogPGNvZGU+e1wicGFnZXNcIjogWy4uLl0sIFwiY29sbGVjdGlvbnNcIjogey4uLn19PC9jb2RlPjwvbGk+XG4gICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICBgO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGltcG9ydFN1Ym1pdCkge1xuICAgICAgICBpbXBvcnRTdWJtaXQuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICBpbXBvcnRTdWJtaXQudGV4dENvbnRlbnQgPSAnSW1wb3J0Li4uJztcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gQWZmaWNoZXIgY2UgcXUnb24gdmEgZW52b3llciAoZGVidWcpXG4gICAgICBjb25zb2xlLmxvZygnW2ltcG9ydF0gU2VuZGluZyB0byBzZXJ2ZXI6JywgSlNPTi5zdHJpbmdpZnkocGFnZXNEYXRhKS5zdWJzdHJpbmcoMCwgNTAwKSk7XG4gICAgICBcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7cGFnZXNBcGlCYXNlfS9pbXBvcnRgLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgY3JlZGVudGlhbHM6ICdpbmNsdWRlJyxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYWdlc0RhdGEpLFxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGNvbnNvbGUubG9nKCdbaW1wb3J0XSBTZXJ2ZXIgcmVzcG9uc2Ugc3RhdHVzOicsIHJlc3BvbnNlLnN0YXR1cyk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdbaW1wb3J0XSBTZXJ2ZXIgcmVzcG9uc2UgYm9keTonLCByZXN1bHQpO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgLy8gQWZmaWNoZXIgbGUgZFx1MDBFOXRhaWwgZGUgbCdlcnJldXIgc2VydmV1clxuICAgICAgICAgIGlmIChpbXBvcnRSZXN1bHRzICYmIGltcG9ydFJlc3VsdHNDb250ZW50KSB7XG4gICAgICAgICAgICBpbXBvcnRSZXN1bHRzLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgICAgaW1wb3J0UmVzdWx0c0NvbnRlbnQuaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC1yb3NlLTYwMFwiPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwiZm9udC1tZWRpdW1cIj5cdTI3MTcgRXJyZXVyIHNlcnZldXI8L3A+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXhzIG10LTFcIj4ke3Jlc3VsdC5tZXNzYWdlIHx8ICdFcnJldXIgaW5jb25udWUnfTwvcD5cbiAgICAgICAgICAgICAgICAke3Jlc3VsdC5kZXRhaWxzID8gYDxwIGNsYXNzPVwidGV4dC14cyBtdC0xIHRleHQtc2xhdGUtNTAwXCI+JHtyZXN1bHQuZGV0YWlsc308L3A+YCA6ICcnfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIGA7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQubWVzc2FnZSB8fCAnRXJyZXVyIHNlcnZldXInKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTaG93IHJlc3VsdHNcbiAgICAgICAgaWYgKGltcG9ydFJlc3VsdHMgJiYgaW1wb3J0UmVzdWx0c0NvbnRlbnQpIHtcbiAgICAgICAgICBpbXBvcnRSZXN1bHRzLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgIGxldCBodG1sID0gJyc7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gRW50XHUwMEVBdGUgc3VjY1x1MDBFOHMvZXJyZXVyXG4gICAgICAgICAgY29uc3QgaGFzU3VjY2VzcyA9IChyZXN1bHQuaW1wb3J0ZWQ/Lmxlbmd0aCA+IDApIHx8IChyZXN1bHQuY29sbGVjdGlvbnNDcmVhdGVkPy5sZW5ndGggPiAwKTtcbiAgICAgICAgICBjb25zdCBoYXNFcnJvcnMgPSByZXN1bHQuZXJyb3JzPy5sZW5ndGggPiAwO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmIChoYXNTdWNjZXNzICYmICFoYXNFcnJvcnMpIHtcbiAgICAgICAgICAgIGh0bWwgKz0gJzxkaXYgY2xhc3M9XCJiZy1ncmVlbi01MCBib3JkZXIgYm9yZGVyLWdyZWVuLTIwMCByb3VuZGVkLWxnIHAtMyBtYi0yXCI+PHAgY2xhc3M9XCJ0ZXh0LWdyZWVuLTgwMCBmb250LW1lZGl1bVwiPlx1MjcxMyBJbXBvcnQgclx1MDBFOXVzc2k8L3A+PC9kaXY+JztcbiAgICAgICAgICB9IGVsc2UgaWYgKGhhc1N1Y2Nlc3MgJiYgaGFzRXJyb3JzKSB7XG4gICAgICAgICAgICBodG1sICs9ICc8ZGl2IGNsYXNzPVwiYmctYW1iZXItNTAgYm9yZGVyIGJvcmRlci1hbWJlci0yMDAgcm91bmRlZC1sZyBwLTMgbWItMlwiPjxwIGNsYXNzPVwidGV4dC1hbWJlci04MDAgZm9udC1tZWRpdW1cIj5cdTI2QTAgSW1wb3J0IHBhcnRpZWw8L3A+PC9kaXY+JztcbiAgICAgICAgICB9IGVsc2UgaWYgKGhhc0Vycm9ycykge1xuICAgICAgICAgICAgaHRtbCArPSAnPGRpdiBjbGFzcz1cImJnLXJvc2UtNTAgYm9yZGVyIGJvcmRlci1yb3NlLTIwMCByb3VuZGVkLWxnIHAtMyBtYi0yXCI+PHAgY2xhc3M9XCJ0ZXh0LXJvc2UtODAwIGZvbnQtbWVkaXVtXCI+XHUyNzE3IEltcG9ydCBcdTAwRTljaG91XHUwMEU5PC9wPjwvZGl2Pic7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIENvbGxlY3Rpb25zIGNyXHUwMEU5XHUwMEU5ZXNcbiAgICAgICAgICBpZiAocmVzdWx0LmNvbGxlY3Rpb25zQ3JlYXRlZCAmJiByZXN1bHQuY29sbGVjdGlvbnNDcmVhdGVkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGh0bWwgKz0gYDxwIGNsYXNzPVwidGV4dC12aW9sZXQtNzAwIG10LTJcIj5cdTI3MTMgJHtyZXN1bHQuY29sbGVjdGlvbnNDcmVhdGVkLmxlbmd0aH0gY29sbGVjdGlvbihzKSBjclx1MDBFOVx1MDBFOWUocyk8L3A+YDtcbiAgICAgICAgICAgIGh0bWwgKz0gJzx1bCBjbGFzcz1cIm1sLTQgdGV4dC14cyB0ZXh0LXNsYXRlLTYwMFwiPic7XG4gICAgICAgICAgICByZXN1bHQuY29sbGVjdGlvbnNDcmVhdGVkLmZvckVhY2goKGMpID0+IHtcbiAgICAgICAgICAgICAgaHRtbCArPSBgPGxpPiR7Yy5uYW1lfSAoJHtjLml0ZW1zQ291bnR9IGl0ZW0ke2MuaXRlbXNDb3VudCA+IDEgPyAncycgOiAnJ30pPC9saT5gO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBodG1sICs9ICc8L3VsPic7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIFBhZ2VzIGltcG9ydFx1MDBFOWVzXG4gICAgICAgICAgaWYgKHJlc3VsdC5pbXBvcnRlZCAmJiByZXN1bHQuaW1wb3J0ZWQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgaHRtbCArPSBgPHAgY2xhc3M9XCJ0ZXh0LWdyZWVuLTcwMCBtdC0yXCI+XHUyNzEzICR7cmVzdWx0LmltcG9ydGVkLmxlbmd0aH0gcGFnZShzKSBpbXBvcnRcdTAwRTllKHMpPC9wPmA7XG4gICAgICAgICAgICBodG1sICs9ICc8dWwgY2xhc3M9XCJtbC00IHRleHQteHMgdGV4dC1zbGF0ZS02MDBcIj4nO1xuICAgICAgICAgICAgcmVzdWx0LmltcG9ydGVkLmZvckVhY2goKHApID0+IHtcbiAgICAgICAgICAgICAgaHRtbCArPSBgPGxpPjxzdHJvbmc+JHtwLnRpdGxlfTwvc3Ryb25nPiBcdTIxOTIgJHtwLnNsdWd9ICgke3AuYWN0aW9uID09PSAndXBkYXRlZCcgPyAnbWlzZSBcdTAwRTAgam91cicgOiAnY3JcdTAwRTlcdTAwRTllJ30pPC9saT5gO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBodG1sICs9ICc8L3VsPic7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIEVycmV1cnMgYXZlYyBkXHUwMEU5dGFpbHNcbiAgICAgICAgICBpZiAocmVzdWx0LmVycm9ycyAmJiByZXN1bHQuZXJyb3JzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGh0bWwgKz0gYDxwIGNsYXNzPVwidGV4dC1yb3NlLTYwMCBtdC0zIGZvbnQtbWVkaXVtXCI+XHUyNzE3ICR7cmVzdWx0LmVycm9ycy5sZW5ndGh9IGVycmV1cihzKTwvcD5gO1xuICAgICAgICAgICAgaHRtbCArPSAnPHVsIGNsYXNzPVwibWwtNCB0ZXh0LXhzIHRleHQtcm9zZS02MDAgc3BhY2UteS0xIG10LTFcIj4nO1xuICAgICAgICAgICAgcmVzdWx0LmVycm9ycy5mb3JFYWNoKChlKSA9PiB7XG4gICAgICAgICAgICAgIGh0bWwgKz0gYDxsaSBjbGFzcz1cImJnLXJvc2UtNTAgcC0yIHJvdW5kZWRcIj48c3Ryb25nPiR7ZS50aXRsZX08L3N0cm9uZz48YnIvPjxzcGFuIGNsYXNzPVwidGV4dC1yb3NlLTUwMFwiPiR7ZS5lcnJvcn08L3NwYW4+PC9saT5gO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBodG1sICs9ICc8L3VsPic7XG4gICAgICAgICAgfVxuICAgICAgICAgIGltcG9ydFJlc3VsdHNDb250ZW50LmlubmVySFRNTCA9IGh0bWw7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVsb2FkIHBhZ2VzIGxpc3QgYW5kIHNob3cgdG9hc3RcbiAgICAgICAgY29uc3QgaGFzU3VjY2VzcyA9IChyZXN1bHQuaW1wb3J0ZWQ/Lmxlbmd0aCA+IDApIHx8IChyZXN1bHQuY29sbGVjdGlvbnNDcmVhdGVkPy5sZW5ndGggPiAwKTtcbiAgICAgICAgY29uc3QgaGFzRXJyb3JzID0gcmVzdWx0LmVycm9ycz8ubGVuZ3RoID4gMDtcbiAgICAgICAgXG4gICAgICAgIGlmIChyZXN1bHQuaW1wb3J0ZWQgJiYgcmVzdWx0LmltcG9ydGVkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBjb25zdCBmcmVzaFBhZ2VzID0gYXdhaXQgZmV0Y2hQYWdlc0Zyb21TZXJ2ZXIoKTtcbiAgICAgICAgICBwYWdlcyA9IGZyZXNoUGFnZXM7XG4gICAgICAgICAgcmVuZGVyUGFnZUxpc3RzKHBhZ2VzLCBhY3RpdmVQYWdlSWQpO1xuICAgICAgICAgIGlmIChwYWdlcy5sZW5ndGggPiAwICYmICFhY3RpdmVQYWdlSWQpIHtcbiAgICAgICAgICAgIHNldEFjdGl2ZVBhZ2UocGFnZXNbMF0uaWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gVG9hc3QgYXZlYyBzdGF0dXQgYXBwcm9wcmlcdTAwRTlcbiAgICAgICAgaWYgKGhhc1N1Y2Nlc3MgJiYgIWhhc0Vycm9ycykge1xuICAgICAgICAgIGNvbnN0IGNvbGxlY3Rpb25zTXNnID0gcmVzdWx0LmNvbGxlY3Rpb25zQ3JlYXRlZD8ubGVuZ3RoIFxuICAgICAgICAgICAgPyBgICsgJHtyZXN1bHQuY29sbGVjdGlvbnNDcmVhdGVkLmxlbmd0aH0gY29sbGVjdGlvbihzKWAgXG4gICAgICAgICAgICA6ICcnO1xuICAgICAgICAgIHNob3dUb2FzdChgXHUyNzEzIEltcG9ydCByXHUwMEU5dXNzaSA6ICR7cmVzdWx0LmltcG9ydGVkPy5sZW5ndGggfHwgMH0gcGFnZShzKSR7Y29sbGVjdGlvbnNNc2d9YCwgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgfSBlbHNlIGlmIChoYXNTdWNjZXNzICYmIGhhc0Vycm9ycykge1xuICAgICAgICAgIHNob3dUb2FzdChgXHUyNkEwIEltcG9ydCBwYXJ0aWVsIDogJHtyZXN1bHQuaW1wb3J0ZWQ/Lmxlbmd0aCB8fCAwfSBwYWdlKHMpLCAke3Jlc3VsdC5lcnJvcnMubGVuZ3RofSBlcnJldXIocylgLCAnd2FybmluZycpO1xuICAgICAgICB9IGVsc2UgaWYgKGhhc0Vycm9ycykge1xuICAgICAgICAgIHNob3dUb2FzdChgXHUyNzE3IEltcG9ydCBcdTAwRTljaG91XHUwMEU5IDogJHtyZXN1bHQuZXJyb3JzLmxlbmd0aH0gZXJyZXVyKHMpYCwgJ2Vycm9yJyk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGltcG9ydFNlbGVjdGVkRmlsZXMgPSBbXTtcbiAgICAgICAgdXBkYXRlSW1wb3J0RmlsZUxpc3QoKTtcbiAgICAgICAgcmVzZXRQYXN0ZVN0YXRlKCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2ltcG9ydF0gZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdFcnJldXIgaW1wb3J0JywgJ2Vycm9yJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoaW1wb3J0U3VibWl0KSB7XG4gICAgICAgICAgaW1wb3J0U3VibWl0LmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgaW1wb3J0U3VibWl0LnRleHRDb250ZW50ID0gJ0ltcG9ydGVyJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgaW1wb3J0VG9nZ2xlPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5JbXBvcnRNb2RhbCk7XG4gICAgaW1wb3J0Q2xvc2VCdXR0b25zLmZvckVhY2goKGJ0bikgPT4gYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VJbXBvcnRNb2RhbCkpO1xuICAgIGltcG9ydE1vZGFsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBpZiAoZS50YXJnZXQgPT09IGltcG9ydE1vZGFsKSBjbG9zZUltcG9ydE1vZGFsKCk7XG4gICAgfSk7XG4gICAgaW1wb3J0RmlsZUlucHV0Py5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZSkgPT4ge1xuICAgICAgaGFuZGxlSW1wb3J0RmlsZXMoZS50YXJnZXQuZmlsZXMpO1xuICAgIH0pO1xuICAgIGltcG9ydERyb3B6b25lPy5hZGRFdmVudExpc3RlbmVyKCdkcmFnb3ZlcicsIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpbXBvcnREcm9wem9uZS5jbGFzc0xpc3QuYWRkKCdib3JkZXItWyM5QzZCRkZdJywgJ2JnLVsjOUM2QkZGXS8xMCcpO1xuICAgIH0pO1xuICAgIGltcG9ydERyb3B6b25lPy5hZGRFdmVudExpc3RlbmVyKCdkcmFnbGVhdmUnLCAoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaW1wb3J0RHJvcHpvbmUuY2xhc3NMaXN0LnJlbW92ZSgnYm9yZGVyLVsjOUM2QkZGXScsICdiZy1bIzlDNkJGRl0vMTAnKTtcbiAgICB9KTtcbiAgICBpbXBvcnREcm9wem9uZT8uYWRkRXZlbnRMaXN0ZW5lcignZHJvcCcsIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpbXBvcnREcm9wem9uZS5jbGFzc0xpc3QucmVtb3ZlKCdib3JkZXItWyM5QzZCRkZdJywgJ2JnLVsjOUM2QkZGXS8xMCcpO1xuICAgICAgaGFuZGxlSW1wb3J0RmlsZXMoZS5kYXRhVHJhbnNmZXIuZmlsZXMpO1xuICAgIH0pO1xuICAgIGltcG9ydFN1Ym1pdD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBleGVjdXRlSW1wb3J0KTtcbiAgICAvLyBQYXN0ZSBKU09OIGhhbmRsZXJzXG4gICAgaW1wb3J0UGFzdGVJbnB1dD8uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgICB1cGRhdGVJbXBvcnRTdWJtaXRTdGF0ZSgpO1xuICAgIH0pO1xuICAgIHBhc3RlRm9ybWF0QnRuPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZvcm1hdFBhc3RlSnNvbik7XG4gICAgLy8gSW1wb3J0IHRhYnNcbiAgICBpbXBvcnRUYWJzLmZvckVhY2goKHRhYikgPT4ge1xuICAgICAgdGFiLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBjb25zdCB0YXJnZXRQYW5lbCA9IHRhYi5kYXRhc2V0LmltcG9ydFRhYjtcbiAgICAgICAgYWN0aXZlSW1wb3J0VGFiID0gdGFyZ2V0UGFuZWw7XG4gICAgICAgIGltcG9ydFRhYnMuZm9yRWFjaCgodCkgPT4ge1xuICAgICAgICAgIGlmICh0LmRhdGFzZXQuaW1wb3J0VGFiID09PSB0YXJnZXRQYW5lbCkge1xuICAgICAgICAgICAgdC5jbGFzc0xpc3QuYWRkKCdiZy1bIzlDNkJGRl0nLCAndGV4dC13aGl0ZScpO1xuICAgICAgICAgICAgdC5jbGFzc0xpc3QucmVtb3ZlKCdib3JkZXInLCAnYm9yZGVyLXNsYXRlLTIwMCcsICd0ZXh0LXNsYXRlLTcwMCcpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0LmNsYXNzTGlzdC5yZW1vdmUoJ2JnLVsjOUM2QkZGXScsICd0ZXh0LXdoaXRlJyk7XG4gICAgICAgICAgICB0LmNsYXNzTGlzdC5hZGQoJ2JvcmRlcicsICdib3JkZXItc2xhdGUtMjAwJywgJ3RleHQtc2xhdGUtNzAwJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaW1wb3J0UGFuZWxzLmZvckVhY2goKHApID0+IHtcbiAgICAgICAgICBpZiAocC5kYXRhc2V0LmltcG9ydFBhbmVsID09PSB0YXJnZXRQYW5lbCkge1xuICAgICAgICAgICAgcC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB1cGRhdGVJbXBvcnRTdWJtaXRTdGF0ZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgY29weVRlbXBsYXRlQnRuPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghdGVtcGxhdGVKc29uKSByZXR1cm47XG4gICAgICBjb25zdCB0ZXh0ID0gdGVtcGxhdGVKc29uLnRleHRDb250ZW50IHx8ICcnO1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQodGV4dCk7XG4gICAgICAgIHNob3dUb2FzdCgnVGVtcGxhdGUgY29waVx1MDBFOSAhJyk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2ltcG9ydF0gY29weSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoJ0VycmV1ciBjb3BpZScpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gRGVsZXRlIHBhZ2UgbW9kYWwgbGlzdGVuZXJzXG4gICAgZGVsZXRlUGFnZUNhbmNlbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZURlbGV0ZVBhZ2VNb2RhbCk7XG4gICAgZGVsZXRlUGFnZUNvbmZpcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZXhlY3V0ZURlbGV0ZVBhZ2UpO1xuICAgIGRlbGV0ZVBhZ2VNb2RhbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgaWYgKGUudGFyZ2V0ID09PSBkZWxldGVQYWdlTW9kYWwpIGNsb3NlRGVsZXRlUGFnZU1vZGFsKCk7XG4gICAgfSk7XG5cbiAgICBibG9ja0xpYnJhcnlUb2dnbGU/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIHRvZ2dsZUJsb2NrTGlicmFyeSgpO1xuICAgIH0pO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoIWJsb2NrTGlicmFyeU9wZW4pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKFxuICAgICAgICBibG9ja0xpYnJhcnk/LmNvbnRhaW5zKGV2ZW50LnRhcmdldCkgfHxcbiAgICAgICAgYmxvY2tMaWJyYXJ5VG9nZ2xlPy5jb250YWlucyhldmVudC50YXJnZXQpXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY2xvc2VCbG9ja0xpYnJhcnkoKTtcbiAgICB9KTtcbiAgICBibG9ja0FkZEJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGNvbnN0IHR5cGUgPSBidXR0b24uZGF0YXNldC5ibG9ja0FkZDtcbiAgICAgICAgYWRkQmxvY2tGcm9tTGlicmFyeSh0eXBlKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGJsb2NrRGVsZXRlQ2FuY2VsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNsb3NlQmxvY2tEZWxldGVNb2RhbCgpO1xuICAgIH0pO1xuICAgIGJsb2NrRGVsZXRlQ29uZmlybT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBpZiAocGVuZGluZ0RlbGV0ZUJsb2NrSWQpIHtcbiAgICAgICAgZGVsZXRlQmxvY2tCeUlkKHBlbmRpbmdEZWxldGVCbG9ja0lkKTtcbiAgICAgIH1cbiAgICAgIGNsb3NlQmxvY2tEZWxldGVNb2RhbCgpO1xuICAgIH0pO1xuICAgIGJsb2NrRGVsZXRlTW9kYWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSBibG9ja0RlbGV0ZU1vZGFsKSB7XG4gICAgICAgIGNsb3NlQmxvY2tEZWxldGVNb2RhbCgpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGJsb2NrRm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICAgIGlmICghdGFyZ2V0IHx8ICF0YXJnZXQubmFtZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBNaW5pIHByZXZpZXcgcG91ciBncm91cGVcbiAgICAgIGlmICh0YXJnZXQubmFtZSA9PT0gJ2dyb3VwLWNvbHVtbnMtbW9iaWxlJyB8fCB0YXJnZXQubmFtZSA9PT0gJ2dyb3VwLWNvbHVtbnMtZGVza3RvcCcpIHtcbiAgICAgICAgY29uc3QgbW9iaWxlVmFsdWUgPVxuICAgICAgICAgIGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImdyb3VwLWNvbHVtbnMtbW9iaWxlXCJdJyk/LnZhbHVlIHx8ICcxJztcbiAgICAgICAgY29uc3QgZGVza3RvcFZhbHVlID1cbiAgICAgICAgICBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJncm91cC1jb2x1bW5zLWRlc2t0b3BcIl0nKT8udmFsdWUgfHwgJzMnO1xuICAgICAgICB1cGRhdGVHcm91cE1pbmlQcmV2aWV3KG1vYmlsZVZhbHVlLCBkZXNrdG9wVmFsdWUpO1xuICAgICAgfVxuICAgICAgLy8gTWluaSBwcmV2aWV3IHBvdXIgY29sbGVjdGlvblxuICAgICAgaWYgKHRhcmdldC5uYW1lID09PSAnY29sbGVjdGlvbi1jb2x1bW5zLW1vYmlsZScgfHwgdGFyZ2V0Lm5hbWUgPT09ICdjb2xsZWN0aW9uLWNvbHVtbnMtZGVza3RvcCcpIHtcbiAgICAgICAgY29uc3QgbW9iaWxlVmFsdWUgPVxuICAgICAgICAgIGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImNvbGxlY3Rpb24tY29sdW1ucy1tb2JpbGVcIl0nKT8udmFsdWUgfHwgJzEnO1xuICAgICAgICBjb25zdCBkZXNrdG9wVmFsdWUgPVxuICAgICAgICAgIGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImNvbGxlY3Rpb24tY29sdW1ucy1kZXNrdG9wXCJdJyk/LnZhbHVlIHx8ICczJztcbiAgICAgICAgdXBkYXRlQ29sbGVjdGlvbk1pbmlQcmV2aWV3KG1vYmlsZVZhbHVlLCBkZXNrdG9wVmFsdWUpO1xuICAgICAgfVxuICAgICAgLy8gRFx1MDBFOXRlY3Rpb24gc2kgb24gZXN0IGRhbnMgbGUgcGFuZWwgQXBwYXJlbmNlIFx1MjE5MiBhdXRvLXNhdmVcbiAgICAgIGNvbnN0IHBhbmVsID0gdGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLWJsb2NrLXBhbmVsXScpO1xuICAgICAgaWYgKHBhbmVsICYmIHBhbmVsLmRhdGFzZXQuYmxvY2tQYW5lbCA9PT0gJ2FwcGVhcmFuY2UnKSB7XG4gICAgICAgIC8vIEF1dG8tc2F2ZSArIHJlZnJlc2ggcHJldmlldyBwb3VyIGwnYXBwYXJlbmNlXG4gICAgICAgIGNvbnN0IGJsb2NrID0gZ2V0QWN0aXZlQmxvY2soKTtcbiAgICAgICAgY29uc3QgY29uZmlnID0gZ2V0QmxvY2tGb3JtQ29uZmlnKGJsb2NrKTtcbiAgICAgICAgaWYgKGJsb2NrICYmIGNvbmZpZykge1xuICAgICAgICAgIGNvbnN0IHZhbHVlcyA9IGNvbGxlY3RGb3JtVmFsdWVzKGNvbmZpZyk7XG4gICAgICAgICAgaGFuZGxlQXBwZWFyYW5jZUNoYW5nZShibG9jay5pZCwgdmFsdWVzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIC8vIFx1MDBDOWdhbGVtZW50IHN1ciAnY2hhbmdlJyBwb3VyIGxlcyBzZWxlY3RzXG4gICAgYmxvY2tGb3JtPy5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICAgIGlmICghdGFyZ2V0IHx8ICF0YXJnZXQubmFtZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBNaXNlIFx1MDBFMCBqb3VyIGR1IHByZXZpZXcgZGUgY291bGV1ciBwb3VyIGxlcyBjb2xvciBzZWxlY3RzXG4gICAgICBpZiAodGFyZ2V0Lmhhc0F0dHJpYnV0ZSgnZGF0YS1jb2xvci1zZWxlY3QnKSkge1xuICAgICAgICBjb25zdCBzZWxlY3RlZE9wdGlvbiA9IHRhcmdldC5vcHRpb25zW3RhcmdldC5zZWxlY3RlZEluZGV4XTtcbiAgICAgICAgY29uc3QgY29sb3IgPSBzZWxlY3RlZE9wdGlvbj8uZGF0YXNldD8uY29sb3IgfHwgJyNmZmZmZmYnO1xuICAgICAgICBjb25zdCBjb2xvclByZXZpZXcgPSB0YXJnZXQuY2xvc2VzdCgnLnJlbGF0aXZlJyk/LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbG9yLXByZXZpZXddJyk7XG4gICAgICAgIGlmIChjb2xvclByZXZpZXcpIHtcbiAgICAgICAgICBpZiAoY29sb3IgPT09ICd0cmFuc3BhcmVudCcpIHtcbiAgICAgICAgICAgIGNvbG9yUHJldmlldy5zdHlsZS5iYWNrZ3JvdW5kID0gJ3JlcGVhdGluZy1jb25pYy1ncmFkaWVudCgjY2NjIDAlIDI1JSwgd2hpdGUgMCUgNTAlKSA1MCUgLyA4cHggOHB4JztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29sb3JQcmV2aWV3LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGNvbG9yO1xuICAgICAgICAgICAgY29sb3JQcmV2aWV3LnN0eWxlLmJhY2tncm91bmQgPSAnJztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNvbnN0IHBhbmVsID0gdGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLWJsb2NrLXBhbmVsXScpO1xuICAgICAgaWYgKHBhbmVsICYmIHBhbmVsLmRhdGFzZXQuYmxvY2tQYW5lbCA9PT0gJ2FwcGVhcmFuY2UnKSB7XG4gICAgICAgIGNvbnN0IGJsb2NrID0gZ2V0QWN0aXZlQmxvY2soKTtcbiAgICAgICAgY29uc3QgY29uZmlnID0gZ2V0QmxvY2tGb3JtQ29uZmlnKGJsb2NrKTtcbiAgICAgICAgaWYgKGJsb2NrICYmIGNvbmZpZykge1xuICAgICAgICAgIGNvbnN0IHZhbHVlcyA9IGNvbGxlY3RGb3JtVmFsdWVzKGNvbmZpZyk7XG4gICAgICAgICAgaGFuZGxlQXBwZWFyYW5jZUNoYW5nZShibG9jay5pZCwgdmFsdWVzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbGxlY3Rpb25TZWxlY3Q/LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIChldmVudCkgPT4ge1xuICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgc3luY0NvbGxlY3Rpb25TZWxlY3Rpb25JbmZvKHRhcmdldD8udmFsdWUgfHwgJycpO1xuICAgIH0pO1xuICAgIGJsb2NrRm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgaGFuZGxlQmxvY2tGb3JtU3VibWl0KTtcbiAgICBibG9ja0Zvcm1DYW5jZWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgY29uc3QgYmxvY2sgPSBnZXRBY3RpdmVCbG9jaygpO1xuICAgICAgaWYgKGJsb2NrKSB7XG4gICAgICAgIHBvcHVsYXRlQmxvY2tGb3JtKGJsb2NrKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAocHJldmlld1ZpZXdCdXR0b25zLmxlbmd0aCA+IDApIHtcbiAgICAgIHByZXZpZXdWaWV3QnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHRhcmdldFZpZXcgPSBidXR0b24uZGF0YXNldC5wcmV2aWV3VmlldyB8fCAnZGVza3RvcCc7XG4gICAgICAgICAgc2V0UHJldmlld1ZpZXcodGFyZ2V0Vmlldyk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICBzZXRQcmV2aWV3VmlldygnZGVza3RvcCcpO1xuICAgIH1cbiAgICBwcmV2aWV3RnJhbWU/LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoKSA9PiB7XG4gICAgICBwcmV2aWV3UmVhZHkgPSB0cnVlO1xuICAgICAgdXBkYXRlUHJldmlld1N0YXR1cygnXHUwMEMwIGpvdXInKTtcbiAgICAgIGFwcGx5UHJldmlld0hpZ2hsaWdodChhY3RpdmVCbG9ja0lkKTtcbiAgICB9KTtcbiAgICBwcmV2aWV3T3BlbkJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBwcmV2aWV3V2luZG93ID0gd2luZG93Lm9wZW4oJycsICdfYmxhbmsnKTtcbiAgICAgIGlmICghcHJldmlld1dpbmRvdykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwcmV2aWV3V2luZG93Lm9wZW5lciA9IG51bGw7XG4gICAgICBjb25zdCBkb2MgPSBwcmV2aWV3V2luZG93LmRvY3VtZW50O1xuICAgICAgZG9jLm9wZW4oKTtcbiAgICAgIGRvYy53cml0ZShsYXRlc3RQcmV2aWV3SHRtbCB8fCBnZXRMb2FkaW5nUHJldmlld0h0bWwoKSk7XG4gICAgICBkb2MuY2xvc2UoKTtcbiAgICB9KTtcblxuICAgIC8vIFNFTyBwYW5lbCBsb2dpY1xuICAgIGNvbnN0IHRvZ2dsZVNlb1BhbmVsID0gKHNob3cpID0+IHtcbiAgICAgIGlmICghc2VvUGFuZWwpIHJldHVybjtcbiAgICAgIGlmIChzaG93KSB7XG4gICAgICAgIHNlb1BhbmVsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAvLyBQb3B1bGF0ZSBmaWVsZHMgd2l0aCBjdXJyZW50IHBhZ2UgU0VPIGRhdGFcbiAgICAgICAgaWYgKGN1cnJlbnRQYWdlKSB7XG4gICAgICAgICAgc2VvVGl0bGVJbnB1dCAmJiAoc2VvVGl0bGVJbnB1dC52YWx1ZSA9IGN1cnJlbnRQYWdlLnNlbz8udGl0bGUgfHwgJycpO1xuICAgICAgICAgIHNlb0Rlc2NyaXB0aW9uSW5wdXQgJiYgKHNlb0Rlc2NyaXB0aW9uSW5wdXQudmFsdWUgPSBjdXJyZW50UGFnZS5zZW8/LmRlc2NyaXB0aW9uIHx8ICcnKTtcbiAgICAgICAgICAvLyBpbmRleGVkOiB0cnVlIGJ5IGRlZmF1bHQgaWYgbm90IGV4cGxpY2l0bHkgc2V0IHRvIGZhbHNlXG4gICAgICAgICAgc2VvSW5kZXhlZENoZWNrYm94ICYmIChzZW9JbmRleGVkQ2hlY2tib3guY2hlY2tlZCA9IGN1cnJlbnRQYWdlLnNlbz8uaW5kZXhlZCAhPT0gZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZW9QYW5lbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHNldFNlb0ZlZWRiYWNrID0gKG1lc3NhZ2UsIHRvbmUgPSAnbXV0ZWQnKSA9PiB7XG4gICAgICBpZiAoIXNlb0ZlZWRiYWNrKSByZXR1cm47XG4gICAgICBjb25zdCBjb2xvciA9IHRvbmUgPT09ICdzdWNjZXNzJyA/ICd0ZXh0LWVtZXJhbGQtNjAwJyA6IHRvbmUgPT09ICdlcnJvcicgPyAndGV4dC1yb3NlLTYwMCcgOiAndGV4dC1zbGF0ZS01MDAnO1xuICAgICAgc2VvRmVlZGJhY2sudGV4dENvbnRlbnQgPSBtZXNzYWdlIHx8ICcnO1xuICAgICAgc2VvRmVlZGJhY2suY2xhc3NOYW1lID0gYHRleHQtc20gJHtjb2xvcn1gO1xuICAgIH07XG4gICAgc2VvVG9nZ2xlQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IGlzVmlzaWJsZSA9IHNlb1BhbmVsICYmICFzZW9QYW5lbC5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpO1xuICAgICAgdG9nZ2xlU2VvUGFuZWwoIWlzVmlzaWJsZSk7XG4gICAgfSk7XG4gICAgc2VvQ2xvc2VCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdG9nZ2xlU2VvUGFuZWwoZmFsc2UpKTtcbiAgICBzZW9Gb3JtPy5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlKSB7XG4gICAgICAgIHNldFNlb0ZlZWRiYWNrKCdBdWN1bmUgcGFnZSBhY3RpdmUuJywgJ2Vycm9yJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNlb1NhdmVCdXR0b24gJiYgKHNlb1NhdmVCdXR0b24uZGlzYWJsZWQgPSB0cnVlKTtcbiAgICAgIHNldFNlb0ZlZWRiYWNrKCcnKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHNlb0RhdGEgPSB7XG4gICAgICAgICAgdGl0bGU6IChzZW9UaXRsZUlucHV0Py52YWx1ZSB8fCAnJykudHJpbSgpLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAoc2VvRGVzY3JpcHRpb25JbnB1dD8udmFsdWUgfHwgJycpLnRyaW0oKSxcbiAgICAgICAgICBpbmRleGVkOiBzZW9JbmRleGVkQ2hlY2tib3g/LmNoZWNrZWQgPz8gdHJ1ZSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgdXBkYXRlZFBhZ2UgPSB7IC4uLmN1cnJlbnRQYWdlLCBzZW86IHNlb0RhdGEgfTtcbiAgICAgICAgY29uc3Qgc2F2ZWQgPSBhd2FpdCBzYXZlUGFnZVRvU2VydmVyKHVwZGF0ZWRQYWdlKTtcbiAgICAgICAgaWYgKHNhdmVkKSB7XG4gICAgICAgICAgY3VycmVudFBhZ2UgPSBzYXZlZDtcbiAgICAgICAgICBzZXRTZW9GZWVkYmFjaygnU0VPIGVucmVnaXN0clx1MDBFOS4nLCAnc3VjY2VzcycpO1xuICAgICAgICAgIHNob3dUb2FzdCgnU0VPIG1pcyBcdTAwRTAgam91cicpO1xuICAgICAgICAgIHJlZnJlc2hQcmV2aWV3KGN1cnJlbnRQYWdlKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZW9dIHNhdmUgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2V0U2VvRmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGRlIGxhIHNhdXZlZ2FyZGUuJywgJ2Vycm9yJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZW9TYXZlQnV0dG9uICYmIChzZW9TYXZlQnV0dG9uLmRpc2FibGVkID0gZmFsc2UpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgY29uc3Qgc3luY1BhZ2VBY2Nlc3NpYmlsaXR5RmllbGRzID0gKCkgPT4ge1xuICAgICAgaWYgKCFwYWdlQWNjZXNzaWJpbGl0eU5hdkNoZWNrYm94ICYmICFwYWdlQWNjZXNzaWJpbGl0eU1haW5JbnB1dCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlKSB7XG4gICAgICAgIHBhZ2VBY2Nlc3NpYmlsaXR5TmF2Q2hlY2tib3ggJiYgKHBhZ2VBY2Nlc3NpYmlsaXR5TmF2Q2hlY2tib3guY2hlY2tlZCA9IHRydWUpO1xuICAgICAgICBwYWdlQWNjZXNzaWJpbGl0eU1haW5JbnB1dCAmJiAocGFnZUFjY2Vzc2liaWxpdHlNYWluSW5wdXQudmFsdWUgPSAnJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChwYWdlQWNjZXNzaWJpbGl0eU5hdkNoZWNrYm94KSB7XG4gICAgICAgIHBhZ2VBY2Nlc3NpYmlsaXR5TmF2Q2hlY2tib3guY2hlY2tlZCA9XG4gICAgICAgICAgY3VycmVudFBhZ2UuYWNjZXNzaWJpbGl0eT8uc2hvd0luTWFpbk5hdiAhPT0gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAocGFnZUFjY2Vzc2liaWxpdHlNYWluSW5wdXQpIHtcbiAgICAgICAgcGFnZUFjY2Vzc2liaWxpdHlNYWluSW5wdXQudmFsdWUgPSBjdXJyZW50UGFnZS5hY2Nlc3NpYmlsaXR5Py5tYWluTGFiZWwgfHwgJyc7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHRvZ2dsZVBhZ2VBY2Nlc3NpYmlsaXR5UGFuZWwgPSAoc2hvdykgPT4ge1xuICAgICAgaWYgKCFwYWdlQWNjZXNzaWJpbGl0eVBhbmVsKSByZXR1cm47XG4gICAgICBpZiAoc2hvdykge1xuICAgICAgICBzeW5jUGFnZUFjY2Vzc2liaWxpdHlGaWVsZHMoKTtcbiAgICAgICAgcGFnZUFjY2Vzc2liaWxpdHlQYW5lbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhZ2VBY2Nlc3NpYmlsaXR5UGFuZWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHNldFBhZ2VBY2Nlc3NpYmlsaXR5RmVlZGJhY2sgPSAobWVzc2FnZSwgdG9uZSA9ICdtdXRlZCcpID0+IHtcbiAgICAgIGlmICghcGFnZUFjY2Vzc2liaWxpdHlGZWVkYmFjaykgcmV0dXJuO1xuICAgICAgY29uc3QgY29sb3IgPVxuICAgICAgICB0b25lID09PSAnc3VjY2VzcydcbiAgICAgICAgICA/ICd0ZXh0LWVtZXJhbGQtNjAwJ1xuICAgICAgICAgIDogdG9uZSA9PT0gJ2Vycm9yJ1xuICAgICAgICAgICAgPyAndGV4dC1yb3NlLTYwMCdcbiAgICAgICAgICAgIDogJ3RleHQtc2xhdGUtNTAwJztcbiAgICAgIHBhZ2VBY2Nlc3NpYmlsaXR5RmVlZGJhY2sudGV4dENvbnRlbnQgPSBtZXNzYWdlIHx8ICcnO1xuICAgICAgcGFnZUFjY2Vzc2liaWxpdHlGZWVkYmFjay5jbGFzc05hbWUgPSBgdGV4dC1zbSAke2NvbG9yfWA7XG4gICAgfTtcblxuICAgIHBhZ2VBY2Nlc3NpYmlsaXR5VG9nZ2xlQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IGlzVmlzaWJsZSA9XG4gICAgICAgIHBhZ2VBY2Nlc3NpYmlsaXR5UGFuZWwgJiYgIXBhZ2VBY2Nlc3NpYmlsaXR5UGFuZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdoaWRkZW4nKTtcbiAgICAgIHRvZ2dsZVBhZ2VBY2Nlc3NpYmlsaXR5UGFuZWwoIWlzVmlzaWJsZSk7XG4gICAgfSk7XG4gICAgcGFnZUFjY2Vzc2liaWxpdHlDbG9zZUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PlxuICAgICAgdG9nZ2xlUGFnZUFjY2Vzc2liaWxpdHlQYW5lbChmYWxzZSksXG4gICAgKTtcblxuICAgIHBhZ2VBY2Nlc3NpYmlsaXR5Rm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSkge1xuICAgICAgICBzZXRQYWdlQWNjZXNzaWJpbGl0eUZlZWRiYWNrKCdBdWN1bmUgcGFnZSBhY3RpdmUuJywgJ2Vycm9yJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHBhZ2VBY2Nlc3NpYmlsaXR5U2F2ZUJ1dHRvbiAmJiAocGFnZUFjY2Vzc2liaWxpdHlTYXZlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZSk7XG4gICAgICBzZXRQYWdlQWNjZXNzaWJpbGl0eUZlZWRiYWNrKCcnKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGFjY2Vzc2liaWxpdHlEYXRhID0ge1xuICAgICAgICAgIHNob3dJbk1haW5OYXY6IHBhZ2VBY2Nlc3NpYmlsaXR5TmF2Q2hlY2tib3g/LmNoZWNrZWQgPz8gdHJ1ZSxcbiAgICAgICAgICBtYWluTGFiZWw6IChwYWdlQWNjZXNzaWJpbGl0eU1haW5JbnB1dD8udmFsdWUgfHwgJycpLnRyaW0oKSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgdXBkYXRlZFBhZ2UgPSB7XG4gICAgICAgICAgLi4uY3VycmVudFBhZ2UsXG4gICAgICAgICAgYWNjZXNzaWJpbGl0eTogYWNjZXNzaWJpbGl0eURhdGEsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHNhdmVkID0gYXdhaXQgc2F2ZVBhZ2VUb1NlcnZlcih1cGRhdGVkUGFnZSk7XG4gICAgICAgIGlmIChzYXZlZCkge1xuICAgICAgICAgIGN1cnJlbnRQYWdlID0gc2F2ZWQ7XG4gICAgICAgICAgc3luY1BhZ2VBY2Nlc3NpYmlsaXR5RmllbGRzKCk7XG4gICAgICAgICAgc2V0UGFnZUFjY2Vzc2liaWxpdHlGZWVkYmFjaygnQWNjZXNzaWJpbGl0XHUwMEU5IGVucmVnaXN0clx1MDBFOWUuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgICBzaG93VG9hc3QoJ0FjY2Vzc2liaWxpdFx1MDBFOSBtaXNlIFx1MDBFMCBqb3VyJyk7XG4gICAgICAgICAgcmVuZGVyUGFnZUxpc3RzKHBhZ2VzLCBhY3RpdmVQYWdlSWQpO1xuICAgICAgICAgIHJlZnJlc2hQcmV2aWV3KGN1cnJlbnRQYWdlKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1thY2Nlc3NpYmlsaXR5XSBzYXZlIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNldFBhZ2VBY2Nlc3NpYmlsaXR5RmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGRlIGxhIHNhdXZlZ2FyZGUuJywgJ2Vycm9yJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBwYWdlQWNjZXNzaWJpbGl0eVNhdmVCdXR0b24gJiYgKHBhZ2VBY2Nlc3NpYmlsaXR5U2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIFBhZ2UgcHJvcGVydGllcyBwYW5lbCBsb2dpY1xuICAgIGNvbnN0IHRvZ2dsZVBhZ2VQcm9wc1BhbmVsID0gKHNob3cpID0+IHtcbiAgICAgIGlmICghcGFnZVByb3BzUGFuZWwpIHJldHVybjtcbiAgICAgIGlmIChzaG93KSB7XG4gICAgICAgIHBhZ2VQcm9wc1BhbmVsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAvLyBQb3B1bGF0ZSBmaWVsZHMgd2l0aCBjdXJyZW50IHBhZ2UgZGF0YVxuICAgICAgICBpZiAoY3VycmVudFBhZ2UpIHtcbiAgICAgICAgICBwYWdlTmFtZUlucHV0ICYmIChwYWdlTmFtZUlucHV0LnZhbHVlID0gY3VycmVudFBhZ2UubmFtZSB8fCAnJyk7XG4gICAgICAgICAgcGFnZVRpdGxlSW5wdXQgJiYgKHBhZ2VUaXRsZUlucHV0LnZhbHVlID0gY3VycmVudFBhZ2UudGl0bGUgfHwgJycpO1xuICAgICAgICAgIHBhZ2VTbHVnSW5wdXQgJiYgKHBhZ2VTbHVnSW5wdXQudmFsdWUgPSBjdXJyZW50UGFnZS5zbHVnIHx8ICcnKTtcbiAgICAgICAgICBwYWdlRGVzY3JpcHRpb25JbnB1dCAmJiAocGFnZURlc2NyaXB0aW9uSW5wdXQudmFsdWUgPSBjdXJyZW50UGFnZS5kZXNjcmlwdGlvbiB8fCAnJyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhZ2VQcm9wc1BhbmVsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3Qgc2V0UGFnZVByb3BzRmVlZGJhY2sgPSAobWVzc2FnZSwgdG9uZSA9ICdtdXRlZCcpID0+IHtcbiAgICAgIGlmICghcGFnZVByb3BzRmVlZGJhY2spIHJldHVybjtcbiAgICAgIGNvbnN0IGNvbG9yID0gdG9uZSA9PT0gJ3N1Y2Nlc3MnID8gJ3RleHQtZW1lcmFsZC02MDAnIDogdG9uZSA9PT0gJ2Vycm9yJyA/ICd0ZXh0LXJvc2UtNjAwJyA6ICd0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICBwYWdlUHJvcHNGZWVkYmFjay50ZXh0Q29udGVudCA9IG1lc3NhZ2UgfHwgJyc7XG4gICAgICBwYWdlUHJvcHNGZWVkYmFjay5jbGFzc05hbWUgPSBgdGV4dC1zbSAke2NvbG9yfWA7XG4gICAgfTtcbiAgICBwYWdlUHJvcHNUb2dnbGVCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgaXNWaXNpYmxlID0gcGFnZVByb3BzUGFuZWwgJiYgIXBhZ2VQcm9wc1BhbmVsLmNsYXNzTGlzdC5jb250YWlucygnaGlkZGVuJyk7XG4gICAgICB0b2dnbGVQYWdlUHJvcHNQYW5lbCghaXNWaXNpYmxlKTtcbiAgICB9KTtcbiAgICBwYWdlUHJvcHNDbG9zZUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0b2dnbGVQYWdlUHJvcHNQYW5lbChmYWxzZSkpO1xuICAgIHBhZ2VQcm9wc0Zvcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmICghY3VycmVudFBhZ2UpIHtcbiAgICAgICAgc2V0UGFnZVByb3BzRmVlZGJhY2soJ0F1Y3VuZSBwYWdlIGFjdGl2ZS4nLCAnZXJyb3InKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcGFnZVByb3BzU2F2ZUJ1dHRvbiAmJiAocGFnZVByb3BzU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWUpO1xuICAgICAgc2V0UGFnZVByb3BzRmVlZGJhY2soJycpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgbmV3TmFtZSA9IChwYWdlTmFtZUlucHV0Py52YWx1ZSB8fCAnJykudHJpbSgpO1xuICAgICAgICBjb25zdCBuZXdUaXRsZSA9IChwYWdlVGl0bGVJbnB1dD8udmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgICAgY29uc3QgbmV3U2x1ZyA9IChwYWdlU2x1Z0lucHV0Py52YWx1ZSB8fCAnJykudHJpbSgpO1xuICAgICAgICBjb25zdCBuZXdEZXNjcmlwdGlvbiA9IChwYWdlRGVzY3JpcHRpb25JbnB1dD8udmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFZhbGlkYXRpb24gYmFzaXF1ZVxuICAgICAgICBpZiAoIW5ld1RpdGxlKSB7XG4gICAgICAgICAgc2V0UGFnZVByb3BzRmVlZGJhY2soJ0xlIHRpdHJlIGVzdCByZXF1aXMuJywgJ2Vycm9yJyk7XG4gICAgICAgICAgcGFnZVByb3BzU2F2ZUJ1dHRvbiAmJiAocGFnZVByb3BzU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFuZXdTbHVnIHx8ICFuZXdTbHVnLnN0YXJ0c1dpdGgoJy8nKSkge1xuICAgICAgICAgIHNldFBhZ2VQcm9wc0ZlZWRiYWNrKCdMZSBzbHVnIGRvaXQgY29tbWVuY2VyIHBhciAvLicsICdlcnJvcicpO1xuICAgICAgICAgIHBhZ2VQcm9wc1NhdmVCdXR0b24gJiYgKHBhZ2VQcm9wc1NhdmVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBjb25zdCB1cGRhdGVkUGFnZSA9IHtcbiAgICAgICAgICAuLi5jdXJyZW50UGFnZSxcbiAgICAgICAgICBuYW1lOiBuZXdOYW1lIHx8IG5ld1RpdGxlLCAvLyBGYWxsYmFjayB0byB0aXRsZSBpZiBuYW1lIGlzIGVtcHR5XG4gICAgICAgICAgdGl0bGU6IG5ld1RpdGxlLFxuICAgICAgICAgIHNsdWc6IG5ld1NsdWcsXG4gICAgICAgICAgZGVzY3JpcHRpb246IG5ld0Rlc2NyaXB0aW9uLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBzYXZlZCA9IGF3YWl0IHNhdmVQYWdlVG9TZXJ2ZXIodXBkYXRlZFBhZ2UpO1xuICAgICAgICBpZiAoc2F2ZWQpIHtcbiAgICAgICAgICBjdXJyZW50UGFnZSA9IHNhdmVkO1xuICAgICAgICAgIC8vIFVwZGF0ZSBwYWdlcyBhcnJheVxuICAgICAgICAgIHBhZ2VzID0gcGFnZXMubWFwKChwKSA9PiAocC5pZCA9PT0gc2F2ZWQuaWQgPyBzYXZlZCA6IHApKTtcbiAgICAgICAgICBzZXRQYWdlUHJvcHNGZWVkYmFjaygnUHJvcHJpXHUwMEU5dFx1MDBFOXMgZW5yZWdpc3RyXHUwMEU5ZXMuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgICBzaG93VG9hc3QoJ1BhZ2UgbWlzZSBcdTAwRTAgam91cicpO1xuICAgICAgICAgIC8vIFVwZGF0ZSBVSVxuICAgICAgICAgIHNldEFjdGl2ZUxhYmVscyhjdXJyZW50UGFnZSk7XG4gICAgICAgICAgcmVuZGVyUGFnZUxpc3RzKHBhZ2VzLCBhY3RpdmVQYWdlSWQpO1xuICAgICAgICAgIHJlZnJlc2hQcmV2aWV3KGN1cnJlbnRQYWdlKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1twYWdlLXByb3BzXSBzYXZlIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNldFBhZ2VQcm9wc0ZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsYSBzYXV2ZWdhcmRlLicsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgcGFnZVByb3BzU2F2ZUJ1dHRvbiAmJiAocGFnZVByb3BzU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGNvbnN0IGhhbmRsZUJsb2NrRHJhZ1N0YXJ0ID0gKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCBpdGVtID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLWJsb2NrLWl0ZW1dJyk7XG4gICAgICBpZiAoIWl0ZW0gfHwgIWlzRGVza3RvcFJlb3JkZXIoKSkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBkcmFnU291cmNlSWQgPSBpdGVtLmRhdGFzZXQuYmxvY2tJZCB8fCBudWxsO1xuICAgICAgaWYgKCFkcmFnU291cmNlSWQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZXZlbnQuZGF0YVRyYW5zZmVyLmVmZmVjdEFsbG93ZWQgPSAnbW92ZSc7XG4gICAgICBldmVudC5kYXRhVHJhbnNmZXIuc2V0RGF0YSgndGV4dC9wbGFpbicsIGRyYWdTb3VyY2VJZCk7XG4gICAgICAvLyBTdHlsZSBkdSBibG9jIGVuIGNvdXJzIGRlIGRyYWdcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgIGl0ZW0uY2xhc3NMaXN0LmFkZCgnb3BhY2l0eS01MCcsICdzY2FsZS1bMC45OF0nLCAnc2hhZG93LWxnJywgJ3JpbmctMicsICdyaW5nLVsjOUM2QkZGXScpO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICBjb25zdCBjbGVhckRyYWdJbmRpY2F0b3JzID0gKCkgPT4ge1xuICAgICAgYmxvY2tMaXN0XG4gICAgICAgID8ucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYmxvY2staXRlbV0nKVxuICAgICAgICAuZm9yRWFjaCgobm9kZSkgPT4ge1xuICAgICAgICAgIG5vZGUuY2xhc3NMaXN0LnJlbW92ZShcbiAgICAgICAgICAgICdvcGFjaXR5LTUwJywgJ3NjYWxlLVswLjk4XScsICdzaGFkb3ctbGcnLCAncmluZy0yJywgJ3JpbmctWyM5QzZCRkZdJyxcbiAgICAgICAgICAgICdib3JkZXItdC00JywgJ2JvcmRlci1iLTQnLCAnYm9yZGVyLXQtWyM5QzZCRkZdJywgJ2JvcmRlci1iLVsjOUM2QkZGXScsXG4gICAgICAgICAgICAncHQtNicsICdwYi02J1xuICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgY29uc3QgaGFuZGxlQmxvY2tEcmFnRW5kID0gKCkgPT4ge1xuICAgICAgZHJhZ1NvdXJjZUlkID0gbnVsbDtcbiAgICAgIGNsZWFyRHJhZ0luZGljYXRvcnMoKTtcbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZUJsb2NrRHJhZ092ZXIgPSAoZXZlbnQpID0+IHtcbiAgICAgIGlmICghZHJhZ1NvdXJjZUlkIHx8ICFpc0Rlc2t0b3BSZW9yZGVyKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLWJsb2NrLWl0ZW1dJyk7XG4gICAgICBpZiAoIXRhcmdldCB8fCB0YXJnZXQuZGF0YXNldC5ibG9ja0lkID09PSBkcmFnU291cmNlSWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGV2ZW50LmRhdGFUcmFuc2Zlci5kcm9wRWZmZWN0ID0gJ21vdmUnO1xuICAgICAgLy8gRFx1MDBFOXRlcm1pbmUgc2kgb24gZHJvcCBhdmFudCBvdSBhcHJcdTAwRThzXG4gICAgICBjb25zdCByZWN0ID0gdGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgY29uc3QgbWlkWSA9IHJlY3QudG9wICsgcmVjdC5oZWlnaHQgLyAyO1xuICAgICAgY29uc3QgaXNBYm92ZSA9IGV2ZW50LmNsaWVudFkgPCBtaWRZO1xuICAgICAgLy8gTmV0dG9pZSBsZXMgYXV0cmVzIGluZGljYXRldXJzXG4gICAgICBibG9ja0xpc3Q/LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWJsb2NrLWl0ZW1dJykuZm9yRWFjaCgobm9kZSkgPT4ge1xuICAgICAgICBpZiAobm9kZSAhPT0gdGFyZ2V0ICYmIG5vZGUuZGF0YXNldC5ibG9ja0lkICE9PSBkcmFnU291cmNlSWQpIHtcbiAgICAgICAgICBub2RlLmNsYXNzTGlzdC5yZW1vdmUoJ2JvcmRlci10LTQnLCAnYm9yZGVyLWItNCcsICdib3JkZXItdC1bIzlDNkJGRl0nLCAnYm9yZGVyLWItWyM5QzZCRkZdJywgJ3B0LTYnLCAncGItNicpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIC8vIEFwcGxpcXVlIGwnaW5kaWNhdGV1ciBkZSBwb3NpdGlvblxuICAgICAgdGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoJ2JvcmRlci10LTQnLCAnYm9yZGVyLWItNCcsICdib3JkZXItdC1bIzlDNkJGRl0nLCAnYm9yZGVyLWItWyM5QzZCRkZdJywgJ3B0LTYnLCAncGItNicpO1xuICAgICAgaWYgKGlzQWJvdmUpIHtcbiAgICAgICAgdGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2JvcmRlci10LTQnLCAnYm9yZGVyLXQtWyM5QzZCRkZdJywgJ3B0LTYnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRhcmdldC5jbGFzc0xpc3QuYWRkKCdib3JkZXItYi00JywgJ2JvcmRlci1iLVsjOUM2QkZGXScsICdwYi02Jyk7XG4gICAgICB9XG4gICAgICB0YXJnZXQuZGF0YXNldC5kcm9wUG9zaXRpb24gPSBpc0Fib3ZlID8gJ2JlZm9yZScgOiAnYWZ0ZXInO1xuICAgIH07XG4gICAgY29uc3QgaGFuZGxlQmxvY2tEcmFnTGVhdmUgPSAoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCdbZGF0YS1ibG9jay1pdGVtXScpO1xuICAgICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gVlx1MDBFOXJpZmllIHNpIG9uIHF1aXR0ZSB2cmFpbWVudCBsJ1x1MDBFOWxcdTAwRTltZW50IChwYXMganVzdGUgdmVycyB1biBlbmZhbnQpXG4gICAgICBjb25zdCByZWxhdGVkVGFyZ2V0ID0gZXZlbnQucmVsYXRlZFRhcmdldDtcbiAgICAgIGlmIChyZWxhdGVkVGFyZ2V0ICYmIHRhcmdldC5jb250YWlucyhyZWxhdGVkVGFyZ2V0KSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0YXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgnYm9yZGVyLXQtNCcsICdib3JkZXItYi00JywgJ2JvcmRlci10LVsjOUM2QkZGXScsICdib3JkZXItYi1bIzlDNkJGRl0nLCAncHQtNicsICdwYi02Jyk7XG4gICAgICBkZWxldGUgdGFyZ2V0LmRhdGFzZXQuZHJvcFBvc2l0aW9uO1xuICAgIH07XG4gICAgY29uc3QgaGFuZGxlQmxvY2tEcm9wID0gKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoIWRyYWdTb3VyY2VJZCB8fCAhaXNEZXNrdG9wUmVvcmRlcigpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQuY2xvc2VzdCgnW2RhdGEtYmxvY2staXRlbV0nKTtcbiAgICAgIGNvbnN0IHNvdXJjZSA9IGRyYWdTb3VyY2VJZDtcbiAgICAgIGNvbnN0IGRyb3BQb3NpdGlvbiA9IHRhcmdldD8uZGF0YXNldC5kcm9wUG9zaXRpb24gfHwgJ2FmdGVyJztcbiAgICAgIGRyYWdTb3VyY2VJZCA9IG51bGw7XG4gICAgICBjbGVhckRyYWdJbmRpY2F0b3JzKCk7XG4gICAgICBjb25zdCB0YXJnZXRJZCA9IHRhcmdldD8uZGF0YXNldC5ibG9ja0lkIHx8IG51bGw7XG4gICAgICBpZiAoIXRhcmdldElkIHx8IHNvdXJjZSA9PT0gdGFyZ2V0SWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcmVvcmRlckJsb2Nrc1dpdGhQb3NpdGlvbihzb3VyY2UsIHRhcmdldElkLCBkcm9wUG9zaXRpb24pO1xuICAgIH07XG4gICAgbGV0IGRyYWdTb3VyY2VJZCA9IG51bGw7XG4gICAgYmxvY2tMaXN0Py5hZGRFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCBoYW5kbGVCbG9ja0RyYWdTdGFydCk7XG4gICAgYmxvY2tMaXN0Py5hZGRFdmVudExpc3RlbmVyKCdkcmFnZW5kJywgaGFuZGxlQmxvY2tEcmFnRW5kKTtcbiAgICBibG9ja0xpc3Q/LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgaGFuZGxlQmxvY2tEcmFnT3Zlcik7XG4gICAgYmxvY2tMaXN0Py5hZGRFdmVudExpc3RlbmVyKCdkcmFnbGVhdmUnLCBoYW5kbGVCbG9ja0RyYWdMZWF2ZSk7XG4gICAgYmxvY2tMaXN0Py5hZGRFdmVudExpc3RlbmVyKCdkcm9wJywgaGFuZGxlQmxvY2tEcm9wKTtcbiAgICBsb2FkUGFnZXNGcm9tU2VydmVyKCk7XG5cbiAgICAvLyBcdTAwQzljb3V0ZXIgbCdcdTAwRTl2XHUwMEU5bmVtZW50IGRlIHJhZnJhXHUwMEVFY2hpc3NlbWVudCBkXHUwMEU5Y2xlbmNoXHUwMEU5IHBhciBsJ0lBXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignYWktcGFnZS11cGRhdGVkJywgYXN5bmMgKGUpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCdbZGVzaWduXSBSYWZyYVx1MDBFRWNoaXNzZW1lbnQgZFx1MDBFOWNsZW5jaFx1MDBFOSBwYXIgSUEnLCBlLmRldGFpbCk7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBSZWNoYXJnZXIgbGVzIHBhZ2VzIGRlcHVpcyBsZSBzZXJ2ZXVyXG4gICAgICAgIGNvbnN0IGxvYWRlZFBhZ2VzID0gYXdhaXQgZmV0Y2hQYWdlc0Zyb21TZXJ2ZXIoKTtcbiAgICAgICAgcGFnZXMgPSAoQXJyYXkuaXNBcnJheShsb2FkZWRQYWdlcykgPyBsb2FkZWRQYWdlcyA6IFtdKS5tYXAoKHBhZ2UpID0+XG4gICAgICAgICAgbm9ybWFsaXplUGFnZURhdGEocGFnZSksXG4gICAgICAgICk7XG4gICAgICAgIFxuICAgICAgICAvLyBUcm91dmVyIGV0IG1ldHRyZSBcdTAwRTAgam91ciBsYSBwYWdlIGFjdGl2ZVxuICAgICAgICBpZiAoZS5kZXRhaWw/LnBhZ2VJZCkge1xuICAgICAgICAgIGNvbnN0IHVwZGF0ZWRQYWdlID0gcGFnZXMuZmluZChwID0+IHAuaWQgPT09IGUuZGV0YWlsLnBhZ2VJZCk7XG4gICAgICAgICAgaWYgKHVwZGF0ZWRQYWdlKSB7XG4gICAgICAgICAgICBjdXJyZW50UGFnZSA9IHVwZGF0ZWRQYWdlO1xuICAgICAgICAgICAgYWN0aXZlUGFnZUlkID0gdXBkYXRlZFBhZ2UuaWQ7XG4gICAgICAgICAgICAvLyBSYWZyYVx1MDBFRWNoaXIgbGEgcHJldmlldyBhdmVjIGxhIHBhZ2UgbWlzZSBcdTAwRTAgam91clxuICAgICAgICAgICAgcmVmcmVzaFByZXZpZXcoY3VycmVudFBhZ2UpO1xuICAgICAgICAgICAgLy8gUmFmcmFcdTAwRUVjaGlyIGxhIGxpc3RlIGRlcyBibG9jc1xuICAgICAgICAgICAgcmVuZGVyQmxvY2tMaXN0KGN1cnJlbnRQYWdlKTtcbiAgICAgICAgICAgIHNob3dUb2FzdCgnUGFnZSBtaXNlIFx1MDBFMCBqb3VyIHBhciBsXFwnSUEnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoYWN0aXZlUGFnZUlkKSB7XG4gICAgICAgICAgLy8gUmFmcmFcdTAwRUVjaGlyIGxhIHBhZ2UgYWN0aXZlIGFjdHVlbGxlXG4gICAgICAgICAgY29uc3QgYWN0aXZlUGFnZSA9IHBhZ2VzLmZpbmQocCA9PiBwLmlkID09PSBhY3RpdmVQYWdlSWQpO1xuICAgICAgICAgIGlmIChhY3RpdmVQYWdlKSB7XG4gICAgICAgICAgICBjdXJyZW50UGFnZSA9IGFjdGl2ZVBhZ2U7XG4gICAgICAgICAgICByZWZyZXNoUHJldmlldyhjdXJyZW50UGFnZSk7XG4gICAgICAgICAgICByZW5kZXJCbG9ja0xpc3QoY3VycmVudFBhZ2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkZXNpZ25dIEVycmV1ciByYWZyYVx1MDBFRWNoaXNzZW1lbnQgSUE6JywgZXJyKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXRDb250ZW50V29ya3NwYWNlKCkge1xuICAgIGNvbnN0IGNvbGxlY3Rpb25MaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29sbGVjdGlvbi1saXN0XScpO1xuICAgIGlmICghY29sbGVjdGlvbkxpc3QpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgLy8gXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXG4gICAgLy8gSEVBREVSICYgRk9PVEVSIE1BTkFHRU1FTlRcbiAgICAvLyBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcbiAgICBjb25zdCBjb250ZW50Vmlld3MgPSB7XG4gICAgICBlbXB0eTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29udGVudC12aWV3PVwiZW1wdHlcIl0nKSxcbiAgICAgIGhlYWRlcjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29udGVudC12aWV3PVwiaGVhZGVyXCJdJyksXG4gICAgICBjb2xsZWN0aW9uOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb250ZW50LXZpZXc9XCJjb2xsZWN0aW9uXCJdJyksXG4gICAgICBmb290ZXI6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbnRlbnQtdmlldz1cImZvb3RlclwiXScpLFxuICAgIH07XG4gICAgY29uc3QgY29udGVudFNlY3Rpb25CdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtY29udGVudC1zZWN0aW9uXScpO1xuICAgIGNvbnN0IGNvbnRlbnRTZWN0aW9uVHJpZ2dlcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1jb250ZW50LXNlY3Rpb24tdHJpZ2dlcl0nKTtcbiAgICBjb25zdCBoZWFkZXJTdGF0dXNJbmRpY2F0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1oZWFkZXItc3RhdHVzXScpO1xuICAgIGNvbnN0IGZvb3RlclN0YXR1c0luZGljYXRvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWZvb3Rlci1zdGF0dXNdJyk7XG4gICAgY29uc3QgY29sbGVjdGlvbkNvdW50RWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xsZWN0aW9uLWNvdW50XScpO1xuICAgIGNvbnN0IGl0ZW1QYW5lbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tcGFuZWxdJyk7XG4gICAgY29uc3QgaXRlbVBhbmVsQ2xvc2VCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtaXRlbS1wYW5lbC1jbG9zZV0nKTtcbiAgICBjb25zdCBjb2xsZWN0aW9uRW1wdHlTdGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbGxlY3Rpb24tZW1wdHldJyk7XG4gICAgY29uc3QgY29sbGVjdGlvbkl0ZW1zRW1wdHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xsZWN0aW9uLWl0ZW1zLWVtcHR5XScpO1xuICAgIGNvbnN0IGl0ZW1UYWJsZVdyYXBwZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLXRhYmxlLXdyYXBwZXJdJyk7XG4gICAgY29uc3QgaXRlbVRhYmxlQm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tdGFibGUtYm9keV0nKTtcbiAgICBjb25zdCBjb2xsZWN0aW9uVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xsZWN0aW9uLXRpdGxlXScpO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25EZXNjcmlwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbGxlY3Rpb24tZGVzY3JpcHRpb25dJyk7XG4gICAgY29uc3QgaXRlbUFkZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tYWRkXScpO1xuICAgIGNvbnN0IGl0ZW1EZXRhaWxFbXB0eSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tZGV0YWlsLWVtcHR5XScpO1xuICAgIGNvbnN0IGl0ZW1Gb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS1mb3JtXScpO1xuICAgIGNvbnN0IGl0ZW1Gb3JtRmllbGRzID0gaXRlbUZvcm1cbiAgICAgID8ge1xuICAgICAgICAgIHRpdGxlOiBpdGVtRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cIml0ZW0tdGl0bGVcIl0nKSxcbiAgICAgICAgICBzbHVnOiBpdGVtRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cIml0ZW0tc2x1Z1wiXScpLFxuICAgICAgICAgIGV4Y2VycHQ6IGl0ZW1Gb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaXRlbS1leGNlcnB0XCJdJyksXG4gICAgICAgICAgY29udGVudDogaXRlbUZvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJpdGVtLWNvbnRlbnRcIl0nKSxcbiAgICAgICAgICBpbWFnZTogaXRlbUZvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJpdGVtLWltYWdlXCJdJyksXG4gICAgICAgICAgY3RhVGV4dDogaXRlbUZvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJpdGVtLWN0YS10ZXh0XCJdJyksXG4gICAgICAgICAgY3RhVXJsOiBpdGVtRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cIml0ZW0tY3RhLXVybFwiXScpLFxuICAgICAgICAgIHN0YXR1czogaXRlbUZvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJpdGVtLXN0YXR1c1wiXScpLFxuICAgICAgICB9XG4gICAgICA6IHt9O1xuICAgIGNvbnN0IGl0ZW1TdGF0dXNCYWRnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tc3RhdHVzLWJhZGdlXScpO1xuICAgIGNvbnN0IGl0ZW1EZWxldGVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLWRlbGV0ZV0nKTtcbiAgICBjb25zdCBpdGVtRGVsZXRlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLWRlbGV0ZS1tb2RhbF0nKTtcbiAgICBjb25zdCBpdGVtRGVsZXRlQ2FuY2VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS1kZWxldGUtY2FuY2VsXScpO1xuICAgIGNvbnN0IGl0ZW1EZWxldGVDb25maXJtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS1kZWxldGUtY29uZmlybV0nKTtcbiAgICBjb25zdCBpdGVtRm9ybUNhbmNlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tY2FuY2VsXScpO1xuICAgIGNvbnN0IGl0ZW1Gb3JtU2F2ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tc2F2ZV0nKTtcbiAgICBjb25zdCBzdGF0dXNCYWRnZUJhc2VDbGFzcyA9ICdyb3VuZGVkLWZ1bGwgcHgtMyBweS0xIHRleHQteHMgZm9udC1zZW1pYm9sZCc7XG4gICAgY29uc3QgaXNEZXNrdG9wVmlld3BvcnQgPSAoKSA9PiB3aW5kb3cubWF0Y2hNZWRpYSgnKG1pbi13aWR0aDogMTAyNHB4KScpLm1hdGNoZXM7XG4gICAgY29uc3Qgc2V0SXRlbVBhbmVsSGlkZGVuU3RhdGUgPSAoaGlkZGVuKSA9PiB7XG4gICAgICBpZiAoIWl0ZW1QYW5lbCB8fCBpc0Rlc2t0b3BWaWV3cG9ydCgpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGhpZGRlbkNsYXNzZXMgPSBpdGVtUGFuZWwuZGF0YXNldC5pdGVtUGFuZWxIaWRkZW4gfHwgJyc7XG4gICAgICBjb25zdCB2aXNpYmxlQ2xhc3NlcyA9IGl0ZW1QYW5lbC5kYXRhc2V0Lml0ZW1QYW5lbFZpc2libGUgfHwgJyc7XG4gICAgICBpZiAoaGlkZGVuKSB7XG4gICAgICAgIGFwcGx5UGFuZWxDbGFzc2VzKGl0ZW1QYW5lbCwgdmlzaWJsZUNsYXNzZXMsICdyZW1vdmUnKTtcbiAgICAgICAgYXBwbHlQYW5lbENsYXNzZXMoaXRlbVBhbmVsLCBoaWRkZW5DbGFzc2VzLCAnYWRkJyk7XG4gICAgICAgIGl0ZW1QYW5lbC5jbGFzc0xpc3QuYWRkKCdwb2ludGVyLWV2ZW50cy1ub25lJyk7XG4gICAgICAgIGl0ZW1QYW5lbC5kYXRhc2V0Lml0ZW1QYW5lbE9wZW4gPSAnZmFsc2UnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXBwbHlQYW5lbENsYXNzZXMoaXRlbVBhbmVsLCBoaWRkZW5DbGFzc2VzLCAncmVtb3ZlJyk7XG4gICAgICAgIGFwcGx5UGFuZWxDbGFzc2VzKGl0ZW1QYW5lbCwgdmlzaWJsZUNsYXNzZXMsICdhZGQnKTtcbiAgICAgICAgaXRlbVBhbmVsLmNsYXNzTGlzdC5yZW1vdmUoJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICAgICAgaXRlbVBhbmVsLmRhdGFzZXQuaXRlbVBhbmVsT3BlbiA9ICd0cnVlJztcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHN5bmNJdGVtUGFuZWxXaXRoVmlld3BvcnQgPSAoKSA9PiB7XG4gICAgICBpZiAoIWl0ZW1QYW5lbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoaXNEZXNrdG9wVmlld3BvcnQoKSkge1xuICAgICAgICBjb25zdCBoaWRkZW5DbGFzc2VzID0gaXRlbVBhbmVsLmRhdGFzZXQuaXRlbVBhbmVsSGlkZGVuIHx8ICcnO1xuICAgICAgICBhcHBseVBhbmVsQ2xhc3NlcyhpdGVtUGFuZWwsIGhpZGRlbkNsYXNzZXMsICdyZW1vdmUnKTtcbiAgICAgICAgaXRlbVBhbmVsLmNsYXNzTGlzdC5yZW1vdmUoJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICAgICAgaXRlbVBhbmVsLmRhdGFzZXQuaXRlbVBhbmVsT3BlbiA9ICd0cnVlJztcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1Gb3JtPy5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpKSB7XG4gICAgICAgIHNldEl0ZW1QYW5lbEhpZGRlblN0YXRlKHRydWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0SXRlbVBhbmVsSGlkZGVuU3RhdGUoZmFsc2UpO1xuICAgICAgfVxuICAgIH07XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHN5bmNJdGVtUGFuZWxXaXRoVmlld3BvcnQpO1xuICAgIGl0ZW1QYW5lbENsb3NlQnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAoaXNEZXNrdG9wVmlld3BvcnQoKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBoaWRlSXRlbUZvcm0oKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHN5bmNJdGVtUGFuZWxXaXRoVmlld3BvcnQoKTtcbiAgICBcbiAgICAvLyBIZWFkZXIgZmllbGRzXG4gICAgY29uc3QgaGVhZGVyRmllbGRzID0ge1xuICAgICAgbG9nbzogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJoZWFkZXItbG9nb1wiXScpLFxuICAgICAgbG9nb0FsdDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJoZWFkZXItbG9nby1hbHRcIl0nKSxcbiAgICAgIGxvZ29Vcmw6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaGVhZGVyLWxvZ28tdXJsXCJdJyksXG4gICAgICBjdGFUZXh0OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImhlYWRlci1jdGEtdGV4dFwiXScpLFxuICAgICAgY3RhVXJsOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImhlYWRlci1jdGEtdXJsXCJdJyksXG4gICAgICBjdGFTdHlsZTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJoZWFkZXItY3RhLXN0eWxlXCJdJyksXG4gICAgICBwb3NpdGlvbjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJoZWFkZXItcG9zaXRpb25cIl0nKSxcbiAgICAgIGJnOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImhlYWRlci1iZ1wiXScpLFxuICAgIH07XG4gICAgY29uc3QgaGVhZGVyTmF2TGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWhlYWRlci1uYXYtbGlzdF0nKTtcbiAgICBjb25zdCBoZWFkZXJOYXZBZGRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1oZWFkZXItbmF2LWFkZF0nKTtcbiAgICBjb25zdCBoZWFkZXJTYXZlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaGVhZGVyLXNhdmVdJyk7XG4gICAgY29uc3QgaGVhZGVyTmF2SXRlbVRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtdGVtcGxhdGUtaGVhZGVyLW5hdi1pdGVtXScpO1xuICAgIGNvbnN0IGhlYWRlclBhZ2VzTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWhlYWRlci1wYWdlcy1saXN0XScpO1xuICAgIGxldCBzaXRlUGFnZXMgPSBbXTsgLy8gUGFnZXMgZHUgc2l0ZSBwb3VyIGxlcyBjaGVja2JveGVzXG4gICAgbGV0IHNlbGVjdGVkTmF2UGFnZXMgPSBbXTsgLy8gUGFnZXMgc1x1MDBFOWxlY3Rpb25uXHUwMEU5ZXMgcG91ciBsZSBtZW51IChhdmVjIG9yZHJlKVxuICAgIFxuICAgIC8vIEZvb3RlciBmaWVsZHNcbiAgICBjb25zdCBmb290ZXJGaWVsZHMgPSB7XG4gICAgICBsaW5rZWRpbjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJmb290ZXItc29jaWFsLWxpbmtlZGluXCJdJyksXG4gICAgICB0d2l0dGVyOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImZvb3Rlci1zb2NpYWwtdHdpdHRlclwiXScpLFxuICAgICAgaW5zdGFncmFtOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImZvb3Rlci1zb2NpYWwtaW5zdGFncmFtXCJdJyksXG4gICAgICBmYWNlYm9vazogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJmb290ZXItc29jaWFsLWZhY2Vib29rXCJdJyksXG4gICAgICB5b3V0dWJlOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImZvb3Rlci1zb2NpYWwteW91dHViZVwiXScpLFxuICAgICAgZ2l0aHViOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImZvb3Rlci1zb2NpYWwtZ2l0aHViXCJdJyksXG4gICAgICBjb3B5cmlnaHQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZm9vdGVyLWNvcHlyaWdodFwiXScpLFxuICAgICAgbGVnYWxVcmw6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZm9vdGVyLWxlZ2FsLXVybFwiXScpLFxuICAgICAgcHJpdmFjeVVybDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJmb290ZXItcHJpdmFjeS11cmxcIl0nKSxcbiAgICAgIGJnOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImZvb3Rlci1iZ1wiXScpLFxuICAgICAgY29sdW1uc0NvdW50OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImZvb3Rlci1jb2x1bW5zLWNvdW50XCJdJyksXG4gICAgfTtcbiAgICBjb25zdCBmb290ZXJDb2x1bW5zTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWZvb3Rlci1jb2x1bW5zLWxpc3RdJyk7XG4gICAgY29uc3QgZm9vdGVyQ29sdW1uQWRkQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZm9vdGVyLWNvbHVtbi1hZGRdJyk7XG4gICAgY29uc3QgZm9vdGVyU2F2ZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWZvb3Rlci1zYXZlXScpO1xuICAgIGNvbnN0IGZvb3RlckNvbHVtblRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtdGVtcGxhdGUtZm9vdGVyLWNvbHVtbl0nKTtcbiAgICBjb25zdCBmb290ZXJMaW5rVGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS10ZW1wbGF0ZS1mb290ZXItbGlua10nKTtcbiAgICBcbiAgICBsZXQgYWN0aXZlQ29udGVudFNlY3Rpb24gPSBudWxsO1xuICAgIGxldCBoZWFkZXJEYXRhID0geyBuYXY6IFtdLCBsb2dvOiB7fSwgY3RhOiB7fSwgc3R5bGU6IHt9IH07XG4gICAgbGV0IGZvb3RlckRhdGEgPSB7IGNvbHVtbnM6IFtdLCBzb2NpYWxzOiB7fSwgY29weXJpZ2h0OiAnJywgbGVnYWw6IHt9LCBzdHlsZToge30gfTtcbiAgICBcbiAgICBjb25zdCBzYWZlU2l0ZVNsdWdGb3JMYXlvdXQgPSBzdHJpcExlYWRpbmdTbGFzaCh3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnKTtcbiAgICBjb25zdCBzbHVnID0gc2FmZVNpdGVTbHVnRm9yTGF5b3V0OyAvLyBBbGlhcyBwb3VyIGxlcyBmb25jdGlvbnMgcXVpIHV0aWxpc2VudCBzbHVnXG4gICAgY29uc3QgbGF5b3V0QXBpQmFzZSA9IHNhZmVTaXRlU2x1Z0ZvckxheW91dCA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Z0ZvckxheW91dCl9L2xheW91dGAgOiBudWxsO1xuICAgIFxuICAgIC8vIFZpZXcgc3dpdGNoaW5nXG4gICAgY29uc3Qgc2hvd0NvbnRlbnRWaWV3ID0gKHZpZXdOYW1lKSA9PiB7XG4gICAgICBPYmplY3QuZW50cmllcyhjb250ZW50Vmlld3MpLmZvckVhY2goKFtuYW1lLCBlbF0pID0+IHtcbiAgICAgICAgaWYgKGVsKSBlbC5jbGFzc0xpc3QudG9nZ2xlKCdoaWRkZW4nLCBuYW1lICE9PSB2aWV3TmFtZSk7XG4gICAgICB9KTtcbiAgICAgIGNvbnRlbnRTZWN0aW9uQnV0dG9ucy5mb3JFYWNoKGJ0biA9PiB7XG4gICAgICAgIGNvbnN0IHNlY3Rpb24gPSBidG4uZGF0YXNldC5jb250ZW50U2VjdGlvbjtcbiAgICAgICAgaWYgKHNlY3Rpb24gPT09IHZpZXdOYW1lKSB7XG4gICAgICAgICAgYnRuLmRhdGFzZXQuYWN0aXZlID0gJ3RydWUnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRlbGV0ZSBidG4uZGF0YXNldC5hY3RpdmU7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgYWN0aXZlQ29udGVudFNlY3Rpb24gPSB2aWV3TmFtZTtcbiAgICB9O1xuICAgIFxuICAgIC8vIFNlY3Rpb24gYnV0dG9uIGhhbmRsZXJzXG4gICAgY29udGVudFNlY3Rpb25CdXR0b25zLmZvckVhY2goYnRuID0+IHtcbiAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgY29uc3Qgc2VjdGlvbiA9IGJ0bi5kYXRhc2V0LmNvbnRlbnRTZWN0aW9uO1xuICAgICAgICBpZiAoc2VjdGlvbiA9PT0gJ2hlYWRlcicgfHwgc2VjdGlvbiA9PT0gJ2Zvb3RlcicpIHtcbiAgICAgICAgICBzaG93Q29udGVudFZpZXcoc2VjdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGNvbnRlbnRTZWN0aW9uVHJpZ2dlcnMuZm9yRWFjaChidG4gPT4ge1xuICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBjb25zdCBzZWN0aW9uID0gYnRuLmRhdGFzZXQuY29udGVudFNlY3Rpb25UcmlnZ2VyO1xuICAgICAgICBpZiAoc2VjdGlvbikgc2hvd0NvbnRlbnRWaWV3KHNlY3Rpb24pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgXG4gICAgLy8gXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXG4gICAgLy8gSEVBREVSIEZVTkNUSU9OU1xuICAgIC8vIFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFxuICAgIFxuICAgIC8vIENoYXJnZXIgbGEgbGlzdGUgZGVzIHBhZ2VzIGR1IHNpdGUgcG91ciBsZXMgY2hlY2tib3hlc1xuICAgIGNvbnN0IGxvYWRTaXRlUGFnZXNGb3JIZWFkZXIgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXNsdWcgfHwgIWhlYWRlclBhZ2VzTGlzdCkgcmV0dXJuO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9zaXRlcy8ke3NsdWd9L3BhZ2VzYCwgeyBjcmVkZW50aWFsczogJ2luY2x1ZGUnIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB0aHJvdyBuZXcgRXJyb3IoJ0VycmV1ciBjaGFyZ2VtZW50IHBhZ2VzJyk7XG4gICAgICAgIHNpdGVQYWdlcyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgcmVuZGVyUGFnZUNoZWNrYm94ZXMoKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbaGVhZGVyXSBsb2FkIHBhZ2VzIGVycm9yJywgZXJyKTtcbiAgICAgICAgaGVhZGVyUGFnZXNMaXN0LmlubmVySFRNTCA9ICc8cCBjbGFzcz1cInRleHQteHMgdGV4dC1yZWQtNTAwXCI+RXJyZXVyIGNoYXJnZW1lbnQgcGFnZXM8L3A+JztcbiAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIC8vIEFmZmljaGVyIGxlcyBjaGVja2JveGVzIHBvdXIgY2hhcXVlIHBhZ2VcbiAgY29uc3Qgbm9ybWFsaXplTmF2UGFnZVVybCA9ICh2YWx1ZSkgPT4ge1xuICAgIGNvbnN0IHJhdyA9ICh2YWx1ZSB8fCAnJykudG9TdHJpbmcoKS50cmltKCk7XG4gICAgaWYgKCFyYXcgfHwgcmF3ID09PSAnLycgfHwgcmF3ID09PSAnaW5kZXgnKSB7XG4gICAgICByZXR1cm4gJy8nO1xuICAgIH1cbiAgICBjb25zdCBsb3dlciA9IHJhdy50b0xvd2VyQ2FzZSgpO1xuICAgIGlmIChyYXcuc3RhcnRzV2l0aCgnIycpKSB7XG4gICAgICByZXR1cm4gcmF3O1xuICAgIH1cbiAgICBpZiAobG93ZXIuc3RhcnRzV2l0aCgnbWFpbHRvOicpIHx8IGxvd2VyLnN0YXJ0c1dpdGgoJ3RlbDonKSkge1xuICAgICAgcmV0dXJuIHJhdztcbiAgICB9XG4gICAgaWYgKC9eW2Etel0rOlxcL1xcLy9pLnRlc3QocmF3KSkge1xuICAgICAgcmV0dXJuIHJhdztcbiAgICB9XG4gICAgaWYgKHJhdy5zdGFydHNXaXRoKCcvLycpKSB7XG4gICAgICBjb25zdCB3aXRob3V0U2xhc2hlcyA9IHJhdy5zbGljZSgyKTtcbiAgICAgIGlmICh3aXRob3V0U2xhc2hlcy5pbmNsdWRlcygnLicpKSB7XG4gICAgICAgIHJldHVybiByYXc7XG4gICAgICB9XG4gICAgICBjb25zdCBjbGVhbmVkSW50ZXJuYWwgPSB3aXRob3V0U2xhc2hlcy5yZXBsYWNlKC9eXFwvKy8sICcnKS5yZXBsYWNlKC9cXC8rJC8sICcnKTtcbiAgICAgIHJldHVybiBjbGVhbmVkSW50ZXJuYWwgPyBgLyR7Y2xlYW5lZEludGVybmFsfWAgOiAnLyc7XG4gICAgfVxuICAgIGNvbnN0IGNsZWFuZWQgPSByYXcucmVwbGFjZSgvXlxcLysvLCAnJykucmVwbGFjZSgvXFwvKyQvLCAnJyk7XG4gICAgcmV0dXJuIGNsZWFuZWQgPyBgLyR7Y2xlYW5lZH1gIDogJy8nO1xuICB9O1xuICBjb25zdCBub3JtYWxpemVPcHRpb25hbE5hdlVybCA9ICh2YWx1ZSwgZGVmYXVsdFZhbHVlID0gJycpID0+IHtcbiAgICBjb25zdCB0cmltbWVkID0gKHZhbHVlIHx8ICcnKS50b1N0cmluZygpLnRyaW0oKTtcbiAgICBpZiAoIXRyaW1tZWQpIHtcbiAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBub3JtYWxpemVOYXZQYWdlVXJsKHRyaW1tZWQpO1xuICB9O1xuXG4gIGNvbnN0IHJlbmRlclBhZ2VDaGVja2JveGVzID0gKCkgPT4ge1xuICAgIGlmICghaGVhZGVyUGFnZXNMaXN0KSByZXR1cm47XG4gICAgaGVhZGVyUGFnZXNMaXN0LmlubmVySFRNTCA9ICcnO1xuXG4gICAgaWYgKHNpdGVQYWdlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgaGVhZGVyUGFnZXNMaXN0LmlubmVySFRNTCA9ICc8cCBjbGFzcz1cInRleHQteHMgdGV4dC1zbGF0ZS00MDAgaXRhbGljXCI+QXVjdW5lIHBhZ2UgZGlzcG9uaWJsZTwvcD4nO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBcbiAgICBzaXRlUGFnZXMuZm9yRWFjaChwYWdlID0+IHtcbiAgICAgIGNvbnN0IHBhZ2VTbHVnID0gcGFnZS5zbHVnIHx8IHBhZ2UuaWQgfHwgJyc7XG4gICAgICAvLyBVc2UgcGFnZS5uYW1lIChzaG9ydCBuYW1lKSBpZiBhdmFpbGFibGUsIGZhbGxiYWNrIHRvIHRpdGxlXG4gICAgICBjb25zdCBwYWdlRGlzcGxheU5hbWUgPSBwYWdlLm5hbWUgfHwgcGFnZS50aXRsZSB8fCBwYWdlU2x1ZztcbiAgICAgIGNvbnN0IHBhZ2VVcmwgPSBub3JtYWxpemVOYXZQYWdlVXJsKHBhZ2VTbHVnKTtcblxuICAgICAgLy8gVlx1MDBFOXJpZmllciBzaSBjZXR0ZSBwYWdlIGVzdCBzXHUwMEU5bGVjdGlvbm5cdTAwRTllIGRhbnMgbGEgbmF2XG4gICAgICBjb25zdCBpc1NlbGVjdGVkID0gc2VsZWN0ZWROYXZQYWdlcy5zb21lKG5hdiA9PiBuYXYudXJsID09PSBwYWdlVXJsKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgICAgICAgbGFiZWwuY2xhc3NOYW1lID0gJ2ZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHB4LTMgcHktMiByb3VuZGVkLWxnIGJvcmRlciBib3JkZXItc2xhdGUtMjAwIGhvdmVyOmJnLXNsYXRlLTUwIGN1cnNvci1wb2ludGVyIHRyYW5zaXRpb24tY29sb3JzJztcbiAgICAgICAgbGFiZWwuaW5uZXJIVE1MID0gYFxuICAgICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuYW1lPVwibmF2LXBhZ2VcIiB2YWx1ZT1cIiR7cGFnZVVybH1cIiBkYXRhLXBhZ2UtdGl0bGU9XCIke3BhZ2VEaXNwbGF5TmFtZX1cIlxuICAgICAgICAgICAgICAgICBjbGFzcz1cInctNCBoLTQgcm91bmRlZCBib3JkZXItc2xhdGUtMzAwIHRleHQtdmlvbGV0LTYwMCBmb2N1czpyaW5nLXZpb2xldC01MDBcIlxuICAgICAgICAgICAgICAgICAke2lzU2VsZWN0ZWQgPyAnY2hlY2tlZCcgOiAnJ30+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJmbGV4LTEgdGV4dC1zbSB0ZXh0LXNsYXRlLTcwMFwiPiR7cGFnZURpc3BsYXlOYW1lfTwvc3Bhbj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQteHMgdGV4dC1zbGF0ZS00MDBcIj4ke3BhZ2VVcmx9PC9zcGFuPlxuICAgICAgICBgO1xuICAgICAgICBcbiAgICAgICAgLy8gTWV0dHJlIFx1MDBFMCBqb3VyIHNlbGVjdGVkTmF2UGFnZXMgcXVhbmQgb24gY29jaGUvZFx1MDBFOWNvY2hlXG4gICAgICAgIGNvbnN0IGNoZWNrYm94ID0gbGFiZWwucXVlcnlTZWxlY3RvcignaW5wdXQnKTtcbiAgICAgICAgY2hlY2tib3guYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICAgICAgICAgIGlmIChjaGVja2JveC5jaGVja2VkKSB7XG4gICAgICAgICAgICAvLyBBam91dGVyIFx1MDBFMCBsYSBsaXN0ZVxuICAgICAgICAgICAgaWYgKCFzZWxlY3RlZE5hdlBhZ2VzLnNvbWUobmF2ID0+IG5hdi51cmwgPT09IHBhZ2VVcmwpKSB7XG4gICAgICAgICAgICAgIHNlbGVjdGVkTmF2UGFnZXMucHVzaCh7IGxhYmVsOiBwYWdlRGlzcGxheU5hbWUsIHVybDogcGFnZVVybCB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gUmV0aXJlciBkZSBsYSBsaXN0ZVxuICAgICAgICAgICAgc2VsZWN0ZWROYXZQYWdlcyA9IHNlbGVjdGVkTmF2UGFnZXMuZmlsdGVyKG5hdiA9PiBuYXYudXJsICE9PSBwYWdlVXJsKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgaGVhZGVyUGFnZXNMaXN0LmFwcGVuZENoaWxkKGxhYmVsKTtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgXG4gICAgY29uc3QgY29sbGVjdEhlYWRlckRhdGEgPSAoKSA9PiB7XG4gICAgICAvLyBDb2xsZWN0ZXIgbGVzIHBhZ2VzIGNvY2hcdTAwRTllcyBkYW5zIGwnb3JkcmUgYWN0dWVsXG4gICAgICBjb25zdCBuYXYgPSBbXTtcbiAgICAgIGhlYWRlclBhZ2VzTGlzdD8ucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbbmFtZT1cIm5hdi1wYWdlXCJdOmNoZWNrZWQnKS5mb3JFYWNoKGNoZWNrYm94ID0+IHtcbiAgICAgICAgY29uc3QgdXJsID0gbm9ybWFsaXplTmF2UGFnZVVybChjaGVja2JveC52YWx1ZSk7XG4gICAgICAgIGNvbnN0IGxhYmVsID0gY2hlY2tib3guZGF0YXNldC5wYWdlVGl0bGUgfHwgdXJsO1xuICAgICAgICBuYXYucHVzaCh7IGxhYmVsLCB1cmwgfSk7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbG9nbzoge1xuICAgICAgICAgIHNyYzogaGVhZGVyRmllbGRzLmxvZ28/LnZhbHVlPy50cmltKCkgfHwgJycsXG4gICAgICAgICAgYWx0OiBoZWFkZXJGaWVsZHMubG9nb0FsdD8udmFsdWU/LnRyaW0oKSB8fCAnJyxcbiAgICAgICAgICB1cmw6IG5vcm1hbGl6ZU9wdGlvbmFsTmF2VXJsKGhlYWRlckZpZWxkcy5sb2dvVXJsPy52YWx1ZSwgJy8nKSxcbiAgICAgICAgfSxcbiAgICAgICAgbmF2LFxuICAgICAgICBjdGE6IHtcbiAgICAgICAgICB0ZXh0OiBoZWFkZXJGaWVsZHMuY3RhVGV4dD8udmFsdWU/LnRyaW0oKSB8fCAnJyxcbiAgICAgICAgICB1cmw6IG5vcm1hbGl6ZU9wdGlvbmFsTmF2VXJsKGhlYWRlckZpZWxkcy5jdGFVcmw/LnZhbHVlLCAnJyksXG4gICAgICAgICAgc3R5bGU6IGhlYWRlckZpZWxkcy5jdGFTdHlsZT8udmFsdWUgfHwgJ3ByaW1hcnknLFxuICAgICAgICB9LFxuICAgICAgICBzdHlsZToge1xuICAgICAgICAgIHBvc2l0aW9uOiBoZWFkZXJGaWVsZHMucG9zaXRpb24/LnZhbHVlIHx8ICdzdGF0aWMnLFxuICAgICAgICAgIGJnOiBoZWFkZXJGaWVsZHMuYmc/LnZhbHVlIHx8ICdiZy13aGl0ZScsXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgIH07XG4gICAgXG4gICAgY29uc3QgcG9wdWxhdGVIZWFkZXJGb3JtID0gYXN5bmMgKGRhdGEpID0+IHtcbiAgICAgIGlmICghZGF0YSkgcmV0dXJuO1xuICAgICAgaWYgKGhlYWRlckZpZWxkcy5sb2dvKSBoZWFkZXJGaWVsZHMubG9nby52YWx1ZSA9IGRhdGEubG9nbz8uc3JjIHx8ICcnO1xuICAgICAgaWYgKGhlYWRlckZpZWxkcy5sb2dvQWx0KSBoZWFkZXJGaWVsZHMubG9nb0FsdC52YWx1ZSA9IGRhdGEubG9nbz8uYWx0IHx8ICcnO1xuICAgICAgaWYgKGhlYWRlckZpZWxkcy5sb2dvVXJsKSBoZWFkZXJGaWVsZHMubG9nb1VybC52YWx1ZSA9IG5vcm1hbGl6ZU9wdGlvbmFsTmF2VXJsKGRhdGEubG9nbz8udXJsLCAnLycpO1xuICAgICAgaWYgKGhlYWRlckZpZWxkcy5jdGFUZXh0KSBoZWFkZXJGaWVsZHMuY3RhVGV4dC52YWx1ZSA9IGRhdGEuY3RhPy50ZXh0IHx8ICcnO1xuICAgICAgaWYgKGhlYWRlckZpZWxkcy5jdGFVcmwpIGhlYWRlckZpZWxkcy5jdGFVcmwudmFsdWUgPSBub3JtYWxpemVPcHRpb25hbE5hdlVybChkYXRhLmN0YT8udXJsLCAnJyk7XG4gICAgICBpZiAoaGVhZGVyRmllbGRzLmN0YVN0eWxlKSBoZWFkZXJGaWVsZHMuY3RhU3R5bGUudmFsdWUgPSBkYXRhLmN0YT8uc3R5bGUgfHwgJ3ByaW1hcnknO1xuICAgICAgaWYgKGhlYWRlckZpZWxkcy5wb3NpdGlvbikgaGVhZGVyRmllbGRzLnBvc2l0aW9uLnZhbHVlID0gZGF0YS5zdHlsZT8ucG9zaXRpb24gfHwgJ3N0YXRpYyc7XG4gICAgICBpZiAoaGVhZGVyRmllbGRzLmJnKSBoZWFkZXJGaWVsZHMuYmcudmFsdWUgPSBkYXRhLnN0eWxlPy5iZyB8fCAnYmctd2hpdGUnO1xuICAgICAgXG4gICAgICAvLyBTdG9ja2VyIGxlcyBwYWdlcyBzXHUwMEU5bGVjdGlvbm5cdTAwRTllcyBwb3VyIGxlcyBjaGVja2JveGVzXG4gICAgICBzZWxlY3RlZE5hdlBhZ2VzID0gKGRhdGEubmF2IHx8IFtdKS5tYXAoKGl0ZW0pID0+ICh7XG4gICAgICAgIC4uLml0ZW0sXG4gICAgICAgIHVybDogbm9ybWFsaXplTmF2UGFnZVVybChpdGVtLnVybCksXG4gICAgICB9KSk7XG4gICAgICBcbiAgICAgIC8vIENoYXJnZXIgbGVzIHBhZ2VzIGV0IGFmZmljaGVyIGxlcyBjaGVja2JveGVzXG4gICAgICBhd2FpdCBsb2FkU2l0ZVBhZ2VzRm9ySGVhZGVyKCk7XG4gICAgICBcbiAgICAgIC8vIFVwZGF0ZSBzdGF0dXMgaW5kaWNhdG9yXG4gICAgICBjb25zdCBoYXNEYXRhID0gZGF0YS5sb2dvPy5zcmMgfHwgZGF0YS5uYXY/Lmxlbmd0aCA+IDAgfHwgZGF0YS5jdGE/LnRleHQ7XG4gICAgICBpZiAoaGVhZGVyU3RhdHVzSW5kaWNhdG9yKSB7XG4gICAgICAgIGhlYWRlclN0YXR1c0luZGljYXRvci5jbGFzc0xpc3QudG9nZ2xlKCdiZy1ncmVlbi01MDAnLCAhIWhhc0RhdGEpO1xuICAgICAgICBoZWFkZXJTdGF0dXNJbmRpY2F0b3IuY2xhc3NMaXN0LnRvZ2dsZSgnYmctc2xhdGUtMzAwJywgIWhhc0RhdGEpO1xuICAgICAgICBoZWFkZXJTdGF0dXNJbmRpY2F0b3IudGl0bGUgPSBoYXNEYXRhID8gJ0NvbmZpZ3VyXHUwMEU5JyA6ICdOb24gY29uZmlndXJcdTAwRTknO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBoZWFkZXJTYXZlQnRuPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghbGF5b3V0QXBpQmFzZSkgcmV0dXJuO1xuICAgICAgaGVhZGVyU2F2ZUJ0bi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICBoZWFkZXJTYXZlQnRuLnRleHRDb250ZW50ID0gJ0VucmVnaXN0cmVtZW50Li4uJztcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBjb2xsZWN0SGVhZGVyRGF0YSgpO1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke2xheW91dEFwaUJhc2V9L2hlYWRlcmAsIHtcbiAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZScsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB0aHJvdyBuZXcgRXJyb3IoJ0VycmV1ciBzZXJ2ZXVyJyk7XG4gICAgICAgIGhlYWRlckRhdGEgPSBkYXRhO1xuICAgICAgICBwb3B1bGF0ZUhlYWRlckZvcm0oZGF0YSk7XG4gICAgICAgIHNob3dUb2FzdCgnSGVhZGVyIGVucmVnaXN0clx1MDBFOScpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1toZWFkZXJdIHNhdmUgZXJyb3InLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoJ0VycmV1ciBsb3JzIGRlIGxcXCdlbnJlZ2lzdHJlbWVudCcsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaGVhZGVyU2F2ZUJ0bi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICBoZWFkZXJTYXZlQnRuLnRleHRDb250ZW50ID0gJ0VucmVnaXN0cmVyJztcbiAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICAvLyBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcbiAgICAvLyBGT09URVIgRlVOQ1RJT05TXG4gICAgLy8gXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXG4gICAgY29uc3QgYWRkRm9vdGVyTGluayA9IChjb250YWluZXIsIGxhYmVsID0gJycsIHVybCA9ICcnKSA9PiB7XG4gICAgICBpZiAoIWZvb3RlckxpbmtUZW1wbGF0ZSB8fCAhY29udGFpbmVyKSByZXR1cm47XG4gICAgICBjb25zdCBjbG9uZSA9IGZvb3RlckxpbmtUZW1wbGF0ZS5jb250ZW50LmNsb25lTm9kZSh0cnVlKTtcbiAgICAgIGNvbnN0IGl0ZW0gPSBjbG9uZS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1mb290ZXItbGlua10nKTtcbiAgICAgIGNvbnN0IGxhYmVsSW5wdXQgPSBjbG9uZS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImxpbmstbGFiZWxcIl0nKTtcbiAgICAgIGNvbnN0IHVybElucHV0ID0gY2xvbmUucXVlcnlTZWxlY3RvcignW25hbWU9XCJsaW5rLXVybFwiXScpO1xuICAgICAgY29uc3QgcmVtb3ZlQnRuID0gY2xvbmUucXVlcnlTZWxlY3RvcignW2RhdGEtbGluay1yZW1vdmVdJyk7XG4gICAgICBpZiAobGFiZWxJbnB1dCkgbGFiZWxJbnB1dC52YWx1ZSA9IGxhYmVsO1xuICAgICAgaWYgKHVybElucHV0KSB1cmxJbnB1dC52YWx1ZSA9IHVybDtcbiAgICAgIHJlbW92ZUJ0bj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBpdGVtPy5yZW1vdmUoKSk7XG4gICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoY2xvbmUpO1xuICAgIH07XG4gICAgXG4gICAgY29uc3QgYWRkRm9vdGVyQ29sdW1uID0gKHRpdGxlID0gJycsIGxpbmtzID0gW10pID0+IHtcbiAgICAgIGlmICghZm9vdGVyQ29sdW1uVGVtcGxhdGUgfHwgIWZvb3RlckNvbHVtbnNMaXN0KSByZXR1cm47XG4gICAgICBjb25zdCBjbG9uZSA9IGZvb3RlckNvbHVtblRlbXBsYXRlLmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpO1xuICAgICAgY29uc3QgY29sdW1uID0gY2xvbmUucXVlcnlTZWxlY3RvcignW2RhdGEtZm9vdGVyLWNvbHVtbl0nKTtcbiAgICAgIGNvbnN0IHRpdGxlSW5wdXQgPSBjbG9uZS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImNvbHVtbi10aXRsZVwiXScpO1xuICAgICAgY29uc3QgbGlua3NDb250YWluZXIgPSBjbG9uZS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2x1bW4tbGlua3NdJyk7XG4gICAgICBjb25zdCBhZGRMaW5rQnRuID0gY2xvbmUucXVlcnlTZWxlY3RvcignW2RhdGEtY29sdW1uLWxpbmstYWRkXScpO1xuICAgICAgY29uc3QgcmVtb3ZlQnRuID0gY2xvbmUucXVlcnlTZWxlY3RvcignW2RhdGEtY29sdW1uLXJlbW92ZV0nKTtcbiAgICAgIGlmICh0aXRsZUlucHV0KSB0aXRsZUlucHV0LnZhbHVlID0gdGl0bGU7XG4gICAgICBsaW5rcy5mb3JFYWNoKGxpbmsgPT4gYWRkRm9vdGVyTGluayhsaW5rc0NvbnRhaW5lciwgbGluay5sYWJlbCwgbGluay51cmwpKTtcbiAgICAgIGFkZExpbmtCdG4/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gYWRkRm9vdGVyTGluayhsaW5rc0NvbnRhaW5lcikpO1xuICAgICAgcmVtb3ZlQnRuPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGNvbHVtbj8ucmVtb3ZlKCkpO1xuICAgICAgZm9vdGVyQ29sdW1uc0xpc3QuYXBwZW5kQ2hpbGQoY2xvbmUpO1xuICAgIH07XG4gICAgXG4gICAgY29uc3QgY29sbGVjdEZvb3RlckRhdGEgPSAoKSA9PiB7XG4gICAgICBjb25zdCBjb2x1bW5zID0gW107XG4gICAgICBmb290ZXJDb2x1bW5zTGlzdD8ucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtZm9vdGVyLWNvbHVtbl0nKS5mb3JFYWNoKGNvbCA9PiB7XG4gICAgICAgIGNvbnN0IHRpdGxlID0gY29sLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiY29sdW1uLXRpdGxlXCJdJyk/LnZhbHVlPy50cmltKCkgfHwgJyc7XG4gICAgICAgIGNvbnN0IGxpbmtzID0gW107XG4gICAgICAgIGNvbC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1mb290ZXItbGlua10nKS5mb3JFYWNoKGxpbmtFbCA9PiB7XG4gICAgICAgICAgY29uc3QgbGFiZWwgPSBsaW5rRWwucXVlcnlTZWxlY3RvcignW25hbWU9XCJsaW5rLWxhYmVsXCJdJyk/LnZhbHVlPy50cmltKCkgfHwgJyc7XG4gICAgICAgICAgY29uc3QgdXJsID0gbGlua0VsLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwibGluay11cmxcIl0nKT8udmFsdWU/LnRyaW0oKSB8fCAnJztcbiAgICAgICAgICBpZiAobGFiZWwgfHwgdXJsKSBsaW5rcy5wdXNoKHsgbGFiZWwsIHVybCB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh0aXRsZSB8fCBsaW5rcy5sZW5ndGggPiAwKSBjb2x1bW5zLnB1c2goeyB0aXRsZSwgbGlua3MgfSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNvbHVtbnMsXG4gICAgICAgIHNvY2lhbHM6IHtcbiAgICAgICAgICBsaW5rZWRpbjogZm9vdGVyRmllbGRzLmxpbmtlZGluPy52YWx1ZT8udHJpbSgpIHx8ICcnLFxuICAgICAgICAgIHR3aXR0ZXI6IGZvb3RlckZpZWxkcy50d2l0dGVyPy52YWx1ZT8udHJpbSgpIHx8ICcnLFxuICAgICAgICAgIGluc3RhZ3JhbTogZm9vdGVyRmllbGRzLmluc3RhZ3JhbT8udmFsdWU/LnRyaW0oKSB8fCAnJyxcbiAgICAgICAgICBmYWNlYm9vazogZm9vdGVyRmllbGRzLmZhY2Vib29rPy52YWx1ZT8udHJpbSgpIHx8ICcnLFxuICAgICAgICAgIHlvdXR1YmU6IGZvb3RlckZpZWxkcy55b3V0dWJlPy52YWx1ZT8udHJpbSgpIHx8ICcnLFxuICAgICAgICAgIGdpdGh1YjogZm9vdGVyRmllbGRzLmdpdGh1Yj8udmFsdWU/LnRyaW0oKSB8fCAnJyxcbiAgICAgICAgfSxcbiAgICAgICAgY29weXJpZ2h0OiBmb290ZXJGaWVsZHMuY29weXJpZ2h0Py52YWx1ZT8udHJpbSgpIHx8ICcnLFxuICAgICAgICBsZWdhbDoge1xuICAgICAgICAgIHVybDogZm9vdGVyRmllbGRzLmxlZ2FsVXJsPy52YWx1ZT8udHJpbSgpIHx8ICcnLFxuICAgICAgICAgIHByaXZhY3lVcmw6IGZvb3RlckZpZWxkcy5wcml2YWN5VXJsPy52YWx1ZT8udHJpbSgpIHx8ICcnLFxuICAgICAgICB9LFxuICAgICAgICBzdHlsZToge1xuICAgICAgICAgIGJnOiBmb290ZXJGaWVsZHMuYmc/LnZhbHVlIHx8ICdiZy1zbGF0ZS05MDAgdGV4dC13aGl0ZScsXG4gICAgICAgICAgY29sdW1uc0NvdW50OiBmb290ZXJGaWVsZHMuY29sdW1uc0NvdW50Py52YWx1ZSB8fCAnNCcsXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgIH07XG4gICAgXG4gICAgY29uc3QgcG9wdWxhdGVGb290ZXJGb3JtID0gKGRhdGEpID0+IHtcbiAgICAgIGlmICghZGF0YSkgcmV0dXJuO1xuICAgICAgaWYgKGZvb3RlckZpZWxkcy5saW5rZWRpbikgZm9vdGVyRmllbGRzLmxpbmtlZGluLnZhbHVlID0gZGF0YS5zb2NpYWxzPy5saW5rZWRpbiB8fCAnJztcbiAgICAgIGlmIChmb290ZXJGaWVsZHMudHdpdHRlcikgZm9vdGVyRmllbGRzLnR3aXR0ZXIudmFsdWUgPSBkYXRhLnNvY2lhbHM/LnR3aXR0ZXIgfHwgJyc7XG4gICAgICBpZiAoZm9vdGVyRmllbGRzLmluc3RhZ3JhbSkgZm9vdGVyRmllbGRzLmluc3RhZ3JhbS52YWx1ZSA9IGRhdGEuc29jaWFscz8uaW5zdGFncmFtIHx8ICcnO1xuICAgICAgaWYgKGZvb3RlckZpZWxkcy5mYWNlYm9vaykgZm9vdGVyRmllbGRzLmZhY2Vib29rLnZhbHVlID0gZGF0YS5zb2NpYWxzPy5mYWNlYm9vayB8fCAnJztcbiAgICAgIGlmIChmb290ZXJGaWVsZHMueW91dHViZSkgZm9vdGVyRmllbGRzLnlvdXR1YmUudmFsdWUgPSBkYXRhLnNvY2lhbHM/LnlvdXR1YmUgfHwgJyc7XG4gICAgICBpZiAoZm9vdGVyRmllbGRzLmdpdGh1YikgZm9vdGVyRmllbGRzLmdpdGh1Yi52YWx1ZSA9IGRhdGEuc29jaWFscz8uZ2l0aHViIHx8ICcnO1xuICAgICAgaWYgKGZvb3RlckZpZWxkcy5jb3B5cmlnaHQpIGZvb3RlckZpZWxkcy5jb3B5cmlnaHQudmFsdWUgPSBkYXRhLmNvcHlyaWdodCB8fCAnJztcbiAgICAgIGlmIChmb290ZXJGaWVsZHMubGVnYWxVcmwpIGZvb3RlckZpZWxkcy5sZWdhbFVybC52YWx1ZSA9IGRhdGEubGVnYWw/LnVybCB8fCAnJztcbiAgICAgIGlmIChmb290ZXJGaWVsZHMucHJpdmFjeVVybCkgZm9vdGVyRmllbGRzLnByaXZhY3lVcmwudmFsdWUgPSBkYXRhLmxlZ2FsPy5wcml2YWN5VXJsIHx8ICcnO1xuICAgICAgaWYgKGZvb3RlckZpZWxkcy5iZykgZm9vdGVyRmllbGRzLmJnLnZhbHVlID0gZGF0YS5zdHlsZT8uYmcgfHwgJ2JnLXNsYXRlLTkwMCB0ZXh0LXdoaXRlJztcbiAgICAgIGlmIChmb290ZXJGaWVsZHMuY29sdW1uc0NvdW50KSBmb290ZXJGaWVsZHMuY29sdW1uc0NvdW50LnZhbHVlID0gZGF0YS5zdHlsZT8uY29sdW1uc0NvdW50IHx8ICc0JztcbiAgICAgIC8vIFBvcHVsYXRlIGNvbHVtbnNcbiAgICAgIGlmIChmb290ZXJDb2x1bW5zTGlzdCkgZm9vdGVyQ29sdW1uc0xpc3QuaW5uZXJIVE1MID0gJyc7XG4gICAgICAoZGF0YS5jb2x1bW5zIHx8IFtdKS5mb3JFYWNoKGNvbCA9PiBhZGRGb290ZXJDb2x1bW4oY29sLnRpdGxlLCBjb2wubGlua3MpKTtcbiAgICAgIC8vIFVwZGF0ZSBzdGF0dXMgaW5kaWNhdG9yXG4gICAgICBjb25zdCBoYXNEYXRhID0gZGF0YS5jb2x1bW5zPy5sZW5ndGggPiAwIHx8IGRhdGEuY29weXJpZ2h0IHx8IE9iamVjdC52YWx1ZXMoZGF0YS5zb2NpYWxzIHx8IHt9KS5zb21lKHYgPT4gdik7XG4gICAgICBpZiAoZm9vdGVyU3RhdHVzSW5kaWNhdG9yKSB7XG4gICAgICAgIGZvb3RlclN0YXR1c0luZGljYXRvci5jbGFzc0xpc3QudG9nZ2xlKCdiZy1ncmVlbi01MDAnLCAhIWhhc0RhdGEpO1xuICAgICAgICBmb290ZXJTdGF0dXNJbmRpY2F0b3IuY2xhc3NMaXN0LnRvZ2dsZSgnYmctc2xhdGUtMzAwJywgIWhhc0RhdGEpO1xuICAgICAgICBmb290ZXJTdGF0dXNJbmRpY2F0b3IudGl0bGUgPSBoYXNEYXRhID8gJ0NvbmZpZ3VyXHUwMEU5JyA6ICdOb24gY29uZmlndXJcdTAwRTknO1xuICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgZm9vdGVyQ29sdW1uQWRkQnRuPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGFkZEZvb3RlckNvbHVtbigpKTtcbiAgICBcbiAgICBmb290ZXJTYXZlQnRuPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghbGF5b3V0QXBpQmFzZSkgcmV0dXJuO1xuICAgICAgZm9vdGVyU2F2ZUJ0bi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICBmb290ZXJTYXZlQnRuLnRleHRDb250ZW50ID0gJ0VucmVnaXN0cmVtZW50Li4uJztcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBjb2xsZWN0Rm9vdGVyRGF0YSgpO1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke2xheW91dEFwaUJhc2V9L2Zvb3RlcmAsIHtcbiAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZScsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB0aHJvdyBuZXcgRXJyb3IoJ0VycmV1ciBzZXJ2ZXVyJyk7XG4gICAgICAgIGZvb3RlckRhdGEgPSBkYXRhO1xuICAgICAgICBwb3B1bGF0ZUZvb3RlckZvcm0oZGF0YSk7XG4gICAgICAgIHNob3dUb2FzdCgnRm9vdGVyIGVucmVnaXN0clx1MDBFOScpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tmb290ZXJdIHNhdmUgZXJyb3InLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoJ0VycmV1ciBsb3JzIGRlIGxcXCdlbnJlZ2lzdHJlbWVudCcsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgZm9vdGVyU2F2ZUJ0bi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICBmb290ZXJTYXZlQnRuLnRleHRDb250ZW50ID0gJ0VucmVnaXN0cmVyJztcbiAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICAvLyBMb2FkIGxheW91dCBkYXRhIG9uIGluaXRcbiAgICBjb25zdCBsb2FkTGF5b3V0RGF0YSA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghbGF5b3V0QXBpQmFzZSkgcmV0dXJuO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChsYXlvdXRBcGlCYXNlLCB7IGNyZWRlbnRpYWxzOiAnaW5jbHVkZScgfSk7XG4gICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgaWYgKGRhdGEuaGVhZGVyKSB7XG4gICAgICAgICAgICBoZWFkZXJEYXRhID0gZGF0YS5oZWFkZXI7XG4gICAgICAgICAgICBwb3B1bGF0ZUhlYWRlckZvcm0oZGF0YS5oZWFkZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZGF0YS5mb290ZXIpIHtcbiAgICAgICAgICAgIGZvb3RlckRhdGEgPSBkYXRhLmZvb3RlcjtcbiAgICAgICAgICAgIHBvcHVsYXRlRm9vdGVyRm9ybShkYXRhLmZvb3Rlcik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2xheW91dF0gbG9hZCBlcnJvcicsIGVycik7XG4gICAgICB9XG4gICAgfTtcbiAgICBcbiAgICAvLyBJbml0aWFsaXplIGxheW91dCBkYXRhXG4gICAgbG9hZExheW91dERhdGEoKTtcbiAgICBcbiAgICBjb25zdCBzYWZlU2l0ZVNsdWdWYWx1ZSA9IHN0cmlwTGVhZGluZ1NsYXNoKFxuICAgICAgd29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyxcbiAgICApO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25zQXBpQmFzZSA9IHNhZmVTaXRlU2x1Z1ZhbHVlXG4gICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Z1ZhbHVlKX0vY29sbGVjdGlvbnNgXG4gICAgICA6IG51bGw7XG5cbiAgICBsZXQgY29sbGVjdGlvbnMgPSBbXTtcbiAgICBsZXQgY29sbGVjdGlvbkl0ZW1zID0gW107XG4gICAgbGV0IGFjdGl2ZUNvbGxlY3Rpb25JZCA9IG51bGw7XG4gICAgbGV0IGFjdGl2ZUl0ZW1JZCA9IG51bGw7XG4gICAgbGV0IGlzQ3JlYXRpbmdJdGVtID0gZmFsc2U7XG4gICAgbGV0IGl0ZW1TbHVnTWFudWFsbHlFZGl0ZWQgPSBmYWxzZTtcbiAgICBsZXQgcGVuZGluZ0RlbGV0ZUl0ZW1JZCA9IG51bGw7XG5cbiAgICBjb25zdCBub3JtYWxpemVJdGVtU2x1Z0lucHV0ID0gKHZhbHVlKSA9PiB7XG4gICAgICBjb25zdCByYXcgPSAodmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgIGlmICghcmF3KSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICAgIH1cbiAgICAgIGlmIChyYXcgPT09ICcvJykge1xuICAgICAgICByZXR1cm4gJy8nO1xuICAgICAgfVxuICAgICAgY29uc3Qgc2VnbWVudHMgPSByYXcucmVwbGFjZSgvXlxcLy8sICcnKS5zcGxpdCgnLycpO1xuICAgICAgY29uc3QgY2xlYW5lZFNlZ21lbnRzID0gc2VnbWVudHNcbiAgICAgICAgLm1hcCgoc2VnbWVudCkgPT4gd29ya3NwYWNlU2x1Z2lmeShzZWdtZW50IHx8ICcnKSlcbiAgICAgICAgLmZpbHRlcigoc2VnbWVudCkgPT4gc2VnbWVudC5sZW5ndGggPiAwKTtcbiAgICAgIGlmICghY2xlYW5lZFNlZ21lbnRzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgICB9XG4gICAgICByZXR1cm4gYC8ke2NsZWFuZWRTZWdtZW50cy5qb2luKCcvJyl9YDtcbiAgICB9O1xuXG4gICAgY29uc3QgZm9ybWF0SXRlbURhdGUgPSAodmFsdWUpID0+IHtcbiAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuICdcdTIwMTQnO1xuICAgICAgfVxuICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKHZhbHVlKTtcbiAgICAgIGlmIChOdW1iZXIuaXNOYU4oZGF0ZS5nZXRUaW1lKCkpKSB7XG4gICAgICAgIHJldHVybiAnXHUyMDE0JztcbiAgICAgIH1cbiAgICAgIHJldHVybiBkYXRlLnRvTG9jYWxlRGF0ZVN0cmluZygnZnItRlInLCB7IGRheTogJzItZGlnaXQnLCBtb250aDogJ3Nob3J0JywgeWVhcjogJ251bWVyaWMnIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCB1cGRhdGVDb2xsZWN0aW9uSGVhZGVyID0gKCkgPT4ge1xuICAgICAgY29uc3QgY29sbGVjdGlvbiA9IGNvbGxlY3Rpb25zLmZpbmQoKGVudHJ5KSA9PiBlbnRyeS5pZCA9PT0gYWN0aXZlQ29sbGVjdGlvbklkKTtcbiAgICAgIGlmIChjb2xsZWN0aW9uVGl0bGUpIHtcbiAgICAgICAgY29sbGVjdGlvblRpdGxlLnRleHRDb250ZW50ID0gY29sbGVjdGlvbj8ubmFtZSB8fCAnU1x1MDBFOWxlY3Rpb25uZXogdW5lIGNvbGxlY3Rpb24nO1xuICAgICAgfVxuICAgICAgaWYgKGNvbGxlY3Rpb25EZXNjcmlwdGlvbikge1xuICAgICAgICBjb2xsZWN0aW9uRGVzY3JpcHRpb24udGV4dENvbnRlbnQgPSBjb2xsZWN0aW9uPy5kZXNjcmlwdGlvbiB8fCAnJztcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgdXBkYXRlSXRlbXNFbXB0eU1lc3NhZ2UgPSAobWVzc2FnZSkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uSXRlbXNFbXB0eSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb2xsZWN0aW9uSXRlbXNFbXB0eS50ZXh0Q29udGVudCA9XG4gICAgICAgIG1lc3NhZ2UgfHxcbiAgICAgICAgKGFjdGl2ZUNvbGxlY3Rpb25JZFxuICAgICAgICAgID8gJ0F1Y3VuIGl0ZW0gZGFucyBjZXR0ZSBjb2xsZWN0aW9uIHBvdXIgbGUgbW9tZW50LidcbiAgICAgICAgICA6ICdDaG9pc2lzc2V6IHVuZSBjb2xsZWN0aW9uIGRhbnMgbGUgcGFubmVhdSBkZSBnYXVjaGUuJyk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhpZGVJdGVtRm9ybSA9ICgpID0+IHtcbiAgICAgIGlmIChpdGVtRm9ybSkge1xuICAgICAgICBpdGVtRm9ybS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgaXRlbUZvcm0uZGF0YXNldC5pdGVtSWQgPSAnJztcbiAgICAgIH1cbiAgICAgIGl0ZW1EZXRhaWxFbXB0eT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBpZiAoaXRlbVN0YXR1c0JhZGdlKSB7XG4gICAgICAgIGl0ZW1TdGF0dXNCYWRnZS5jbGFzc05hbWUgPSBgaGlkZGVuICR7c3RhdHVzQmFkZ2VCYXNlQ2xhc3N9YDtcbiAgICAgICAgaXRlbVN0YXR1c0JhZGdlLnRleHRDb250ZW50ID0gJyc7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbURlbGV0ZUJ1dHRvbikge1xuICAgICAgICBpdGVtRGVsZXRlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHN5bmNJdGVtUGFuZWxXaXRoVmlld3BvcnQoKTtcbiAgICB9O1xuXG4gICAgY29uc3Qgc2hvd0l0ZW1Gb3JtID0gKCkgPT4ge1xuICAgICAgaWYgKCFpdGVtRm9ybSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpdGVtRm9ybS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGl0ZW1EZXRhaWxFbXB0eT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBzeW5jSXRlbVBhbmVsV2l0aFZpZXdwb3J0KCk7XG4gICAgfTtcblxuICAgIGNvbnN0IHN5bmNBZGRCdXR0b25TdGF0ZSA9ICgpID0+IHtcbiAgICAgIGlmICghaXRlbUFkZEJ1dHRvbikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpdGVtQWRkQnV0dG9uLmRpc2FibGVkID0gIWFjdGl2ZUNvbGxlY3Rpb25JZDtcbiAgICAgIGlmIChpdGVtQWRkQnV0dG9uLmRpc2FibGVkKSB7XG4gICAgICAgIGl0ZW1BZGRCdXR0b24uY2xhc3NMaXN0LmFkZCgnb3BhY2l0eS02MCcsICdwb2ludGVyLWV2ZW50cy1ub25lJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpdGVtQWRkQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ29wYWNpdHktNjAnLCAncG9pbnRlci1ldmVudHMtbm9uZScpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBzeW5jSXRlbVN0YXR1c0JhZGdlID0gKHN0YXR1cykgPT4ge1xuICAgICAgaWYgKCFpdGVtU3RhdHVzQmFkZ2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFzdGF0dXMpIHtcbiAgICAgICAgaXRlbVN0YXR1c0JhZGdlLmNsYXNzTmFtZSA9IGBoaWRkZW4gJHtzdGF0dXNCYWRnZUJhc2VDbGFzc31gO1xuICAgICAgICBpdGVtU3RhdHVzQmFkZ2UudGV4dENvbnRlbnQgPSAnJztcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IHN0YXR1cy50b0xvd2VyQ2FzZSgpO1xuICAgICAgbGV0IGNvbG9yQ2xhc3MgPSAnYmctc2xhdGUtMTAwIHRleHQtc2xhdGUtNjAwIGJvcmRlciBib3JkZXItc2xhdGUtMjAwJztcbiAgICAgIGlmIChub3JtYWxpemVkID09PSAncHVibGlcdTAwRTknIHx8IG5vcm1hbGl6ZWQgPT09ICdwdWJsaWUnKSB7XG4gICAgICAgIGNvbG9yQ2xhc3MgPSAnYmctZW1lcmFsZC01MCB0ZXh0LWVtZXJhbGQtNzAwIGJvcmRlciBib3JkZXItZW1lcmFsZC0xMDAnO1xuICAgICAgfSBlbHNlIGlmIChub3JtYWxpemVkID09PSAnYnJvdWlsbG9uJykge1xuICAgICAgICBjb2xvckNsYXNzID0gJ2JnLWFtYmVyLTUwIHRleHQtYW1iZXItNzAwIGJvcmRlciBib3JkZXItYW1iZXItMTAwJztcbiAgICAgIH1cbiAgICAgIGl0ZW1TdGF0dXNCYWRnZS5jbGFzc05hbWUgPSBgJHtzdGF0dXNCYWRnZUJhc2VDbGFzc30gJHtjb2xvckNsYXNzfWA7XG4gICAgICBpdGVtU3RhdHVzQmFkZ2UudGV4dENvbnRlbnQgPSBzdGF0dXM7XG4gICAgfTtcblxuICAgIGNvbnN0IHJlbmRlckNvbGxlY3Rpb25MaXN0ID0gKCkgPT4ge1xuICAgICAgY29sbGVjdGlvbkxpc3QuaW5uZXJIVE1MID0gJyc7XG4gICAgICAvLyBVcGRhdGUgY29sbGVjdGlvbiBjb3VudFxuICAgICAgaWYgKGNvbGxlY3Rpb25Db3VudEVsKSBjb2xsZWN0aW9uQ291bnRFbC50ZXh0Q29udGVudCA9IGNvbGxlY3Rpb25zLmxlbmd0aDtcbiAgICAgIGlmICghY29sbGVjdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgIGNvbGxlY3Rpb25FbXB0eVN0YXRlPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29sbGVjdGlvbkVtcHR5U3RhdGU/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgY29sbGVjdGlvbnMuZm9yRWFjaCgoY29sbGVjdGlvbikgPT4ge1xuICAgICAgICBjb25zdCBpc0FjdGl2ZSA9IGNvbGxlY3Rpb24uaWQgPT09IGFjdGl2ZUNvbGxlY3Rpb25JZDtcbiAgICAgICAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIGJ1dHRvbi50eXBlID0gJ2J1dHRvbic7XG4gICAgICAgIGJ1dHRvbi5kYXRhc2V0LmNvbGxlY3Rpb25JZCA9IGNvbGxlY3Rpb24uaWQ7XG4gICAgICAgIGJ1dHRvbi5jbGFzc05hbWUgPSBbXG4gICAgICAgICAgJ3ctZnVsbCByb3VuZGVkLXhsIGJvcmRlciBweC0zIHB5LTIgdGV4dC1sZWZ0IHRyYW5zaXRpb24gZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLVsjOUM2QkZGXS80MCcsXG4gICAgICAgICAgaXNBY3RpdmVcbiAgICAgICAgICAgID8gJ2JnLVsjRjdGMEZGXSBib3JkZXItWyM5QzZCRkZdLzQwIHRleHQtc2xhdGUtOTAwJ1xuICAgICAgICAgICAgOiAnYm9yZGVyLXNsYXRlLTIwMCB0ZXh0LXNsYXRlLTcwMCBob3Zlcjpib3JkZXItWyM5QzZCRkZdLzQwJyxcbiAgICAgICAgXS5qb2luKCcgJyk7XG4gICAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnb3B0aW9uJyk7XG4gICAgICAgIGlmIChpc0FjdGl2ZSkge1xuICAgICAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtY3VycmVudCcsICd0cnVlJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYnV0dG9uLnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1jdXJyZW50Jyk7XG4gICAgICAgIH1cbiAgICAgICAgYnV0dG9uLmlubmVySFRNTCA9IGBcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIGdhcC0yXCI+XG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQtc20gZm9udC1zZW1pYm9sZFwiPiR7Y29sbGVjdGlvbi5uYW1lIHx8IGNvbGxlY3Rpb24uaWR9PC9wPlxuICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQteHMgdGV4dC1zbGF0ZS01MDBcIj4ke2NvbGxlY3Rpb24uZGVzY3JpcHRpb24gfHwgJyd9PC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQtWzExcHhdIHVwcGVyY2FzZSB0cmFja2luZy13aWRlIHRleHQtc2xhdGUtNDAwXCI+JHtjb2xsZWN0aW9uLnR5cGUgfHwgJyd9PC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICBgO1xuICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgc2V0QWN0aXZlQ29sbGVjdGlvbihjb2xsZWN0aW9uLmlkKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbGxlY3Rpb25MaXN0LmFwcGVuZENoaWxkKGJ1dHRvbik7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgcmVuZGVySXRlbVRhYmxlID0gKCkgPT4ge1xuICAgICAgaWYgKCFpdGVtVGFibGVCb2R5KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGl0ZW1UYWJsZUJvZHkuaW5uZXJIVE1MID0gJyc7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25JdGVtcy5sZW5ndGggfHwgIWFjdGl2ZUNvbGxlY3Rpb25JZCkge1xuICAgICAgICBjb2xsZWN0aW9uSXRlbXNFbXB0eT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIHVwZGF0ZUl0ZW1zRW1wdHlNZXNzYWdlKCk7XG4gICAgICAgIGl0ZW1UYWJsZVdyYXBwZXI/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb2xsZWN0aW9uSXRlbXNFbXB0eT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBpdGVtVGFibGVXcmFwcGVyPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGNvbGxlY3Rpb25JdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgIGNvbnN0IHJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyJyk7XG4gICAgICAgIHJvdy5kYXRhc2V0Lml0ZW1JZCA9IGl0ZW0uaWQ7XG4gICAgICAgIGNvbnN0IGlzQWN0aXZlID0gaXRlbS5pZCA9PT0gYWN0aXZlSXRlbUlkICYmICFpc0NyZWF0aW5nSXRlbTtcbiAgICAgICAgcm93LmNsYXNzTmFtZSA9IFtcbiAgICAgICAgICAnY3Vyc29yLXBvaW50ZXIgdHJhbnNpdGlvbiBmb2N1cy13aXRoaW46YmctWyNGN0YwRkZdLzcwIGZvY3VzOm91dGxpbmUtbm9uZScsXG4gICAgICAgICAgaXNBY3RpdmUgPyAnYmctWyNGN0YwRkZdLzcwJyA6ICdob3ZlcjpiZy1zbGF0ZS01MCcsXG4gICAgICAgIF0uam9pbignICcpO1xuICAgICAgICByb3cudGFiSW5kZXggPSAwO1xuICAgICAgICByb3cuc2V0QXR0cmlidXRlKCdyb2xlJywgJ2J1dHRvbicpO1xuICAgICAgICBpZiAoaXNBY3RpdmUpIHtcbiAgICAgICAgICByb3cuc2V0QXR0cmlidXRlKCdhcmlhLWN1cnJlbnQnLCAndHJ1ZScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJvdy5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtY3VycmVudCcpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHN0YXR1cyA9IGl0ZW0uc3RhdHVzIHx8ICdCcm91aWxsb24nO1xuICAgICAgICBjb25zdCBub3JtYWxpemVkID0gc3RhdHVzLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGNvbnN0IHN0YXR1c0NsYXNzZXMgPVxuICAgICAgICAgIG5vcm1hbGl6ZWQgPT09ICdwdWJsaVx1MDBFOScgfHwgbm9ybWFsaXplZCA9PT0gJ3B1YmxpZSdcbiAgICAgICAgICAgID8gJ2JnLWVtZXJhbGQtNTAgdGV4dC1lbWVyYWxkLTcwMCBib3JkZXIgYm9yZGVyLWVtZXJhbGQtMTAwJ1xuICAgICAgICAgICAgOiAnYmctYW1iZXItNTAgdGV4dC1hbWJlci03MDAgYm9yZGVyIGJvcmRlci1hbWJlci0xMDAnO1xuICAgICAgICByb3cuaW5uZXJIVE1MID0gYFxuICAgICAgICAgIDx0ZCBjbGFzcz1cInB4LTQgcHktMyBhbGlnbi10b3BcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC1zbSBmb250LXNlbWlib2xkIHRleHQtc2xhdGUtOTAwXCI+JHtpdGVtLnRpdGxlIHx8ICdTYW5zIHRpdHJlJ308L3NwYW4+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC14cyB0ZXh0LXNsYXRlLTUwMFwiPiR7aXRlbS5zdW1tYXJ5IHx8IGl0ZW0uZXhjZXJwdCB8fCAnJ308L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L3RkPlxuICAgICAgICAgIDx0ZCBjbGFzcz1cInB4LTQgcHktMyBhbGlnbi10b3AgdGV4dC1zbSB0ZXh0LXNsYXRlLTYwMFwiPiR7aXRlbS5zbHVnIHx8ICcnfTwvdGQ+XG4gICAgICAgICAgPHRkIGNsYXNzPVwicHgtNCBweS0zIGFsaWduLXRvcFwiPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgcm91bmRlZC1mdWxsIHB4LTMgcHktMSB0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgJHtzdGF0dXNDbGFzc2VzfVwiPlxuICAgICAgICAgICAgICAke3N0YXR1c31cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L3RkPlxuICAgICAgICAgIDx0ZCBjbGFzcz1cInB4LTQgcHktMyBhbGlnbi10b3AgdGV4dC1zbSB0ZXh0LXNsYXRlLTUwMFwiPiR7Zm9ybWF0SXRlbURhdGUoXG4gICAgICAgICAgICBpdGVtLnVwZGF0ZWRBdCB8fCBpdGVtLmNyZWF0ZWRBdCxcbiAgICAgICAgICApfTwvdGQ+XG4gICAgICAgIGA7XG4gICAgICAgIGNvbnN0IGhhbmRsZVNlbGVjdCA9ICgpID0+IHtcbiAgICAgICAgICBzZWxlY3RJdGVtKGl0ZW0uaWQpO1xuICAgICAgICB9O1xuICAgICAgICByb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVTZWxlY3QpO1xuICAgICAgICByb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldmVudCkgPT4ge1xuICAgICAgICAgIGlmIChldmVudC5rZXkgPT09ICdFbnRlcicgfHwgZXZlbnQua2V5ID09PSAnICcpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBoYW5kbGVTZWxlY3QoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpdGVtVGFibGVCb2R5LmFwcGVuZENoaWxkKHJvdyk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgY29uc3Qgc2VsZWN0SXRlbSA9IChpdGVtSWQpID0+IHtcbiAgICAgIGNvbnN0IGl0ZW0gPSBjb2xsZWN0aW9uSXRlbXMuZmluZCgoZW50cnkpID0+IGVudHJ5LmlkID09PSBpdGVtSWQpO1xuICAgICAgaWYgKCFpdGVtKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGFjdGl2ZUl0ZW1JZCA9IGl0ZW0uaWQ7XG4gICAgICBpc0NyZWF0aW5nSXRlbSA9IGZhbHNlO1xuICAgICAgaXRlbVNsdWdNYW51YWxseUVkaXRlZCA9IHRydWU7XG4gICAgICBwb3B1bGF0ZUl0ZW1Gb3JtKGl0ZW0pO1xuICAgICAgcmVuZGVySXRlbVRhYmxlKCk7XG4gICAgfTtcblxuICAgIGNvbnN0IHBvcHVsYXRlSXRlbUZvcm0gPSAoaXRlbSkgPT4ge1xuICAgICAgaWYgKCFpdGVtRm9ybSB8fCAhaXRlbSkge1xuICAgICAgICBoaWRlSXRlbUZvcm0oKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2hvd0l0ZW1Gb3JtKCk7XG4gICAgICBpdGVtRm9ybS5kYXRhc2V0Lml0ZW1JZCA9IGl0ZW0uaWQ7XG4gICAgICBpZiAoaXRlbUZvcm1GaWVsZHMudGl0bGUpIHtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMudGl0bGUudmFsdWUgPSBpdGVtLnRpdGxlIHx8ICcnO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1Gb3JtRmllbGRzLnNsdWcpIHtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMuc2x1Zy52YWx1ZSA9IGl0ZW0uc2x1ZyB8fCAnJztcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtRm9ybUZpZWxkcy5leGNlcnB0KSB7XG4gICAgICAgIGl0ZW1Gb3JtRmllbGRzLmV4Y2VycHQudmFsdWUgPSBpdGVtLnN1bW1hcnkgfHwgaXRlbS5leGNlcnB0IHx8ICcnO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1Gb3JtRmllbGRzLmNvbnRlbnQpIHtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMuY29udGVudC52YWx1ZSA9IGl0ZW0uY29udGVudCB8fCAnJztcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtRm9ybUZpZWxkcy5pbWFnZSkge1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy5pbWFnZS52YWx1ZSA9IGl0ZW0uaW1hZ2UgfHwgJyc7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbUZvcm1GaWVsZHMuY3RhVGV4dCkge1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy5jdGFUZXh0LnZhbHVlID0gaXRlbS5jdGE/LnRleHQgfHwgaXRlbS5jdGFUZXh0IHx8ICcnO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1Gb3JtRmllbGRzLmN0YVVybCkge1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy5jdGFVcmwudmFsdWUgPSBpdGVtLmN0YT8udXJsIHx8IGl0ZW0uY3RhVXJsIHx8ICcnO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1Gb3JtRmllbGRzLnN0YXR1cykge1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy5zdGF0dXMudmFsdWUgPSBpdGVtLnN0YXR1cyB8fCAnQnJvdWlsbG9uJztcbiAgICAgIH1cbiAgICAgIHN5bmNJdGVtU3RhdHVzQmFkZ2UoaXRlbS5zdGF0dXMgfHwgJ0Jyb3VpbGxvbicpO1xuICAgICAgaWYgKGl0ZW1EZWxldGVCdXR0b24pIHtcbiAgICAgICAgaXRlbURlbGV0ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBwcmVwYXJlTmV3SXRlbUZvcm0gPSAoKSA9PiB7XG4gICAgICBpZiAoIWl0ZW1Gb3JtKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlzQ3JlYXRpbmdJdGVtID0gdHJ1ZTtcbiAgICAgIGFjdGl2ZUl0ZW1JZCA9IG51bGw7XG4gICAgICBpdGVtU2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gICAgICBpdGVtRm9ybS5kYXRhc2V0Lml0ZW1JZCA9ICcnO1xuICAgICAgaXRlbUZvcm0ucmVzZXQoKTtcbiAgICAgIGlmIChpdGVtRm9ybUZpZWxkcy5zdGF0dXMpIHtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMuc3RhdHVzLnZhbHVlID0gJ0Jyb3VpbGxvbic7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbUZvcm1GaWVsZHMuc2x1Zykge1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy5zbHVnLnZhbHVlID0gJyc7XG4gICAgICB9XG4gICAgICBzeW5jSXRlbVN0YXR1c0JhZGdlKCdCcm91aWxsb24nKTtcbiAgICAgIHNob3dJdGVtRm9ybSgpO1xuICAgICAgaWYgKGl0ZW1EZWxldGVCdXR0b24pIHtcbiAgICAgICAgaXRlbURlbGV0ZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICB9XG4gICAgICBpdGVtRm9ybUZpZWxkcy50aXRsZT8uZm9jdXMoKTtcbiAgICB9O1xuXG4gICAgY29uc3QgY29sbGVjdEl0ZW1Gb3JtVmFsdWVzID0gKCkgPT4ge1xuICAgICAgY29uc3QgdGl0bGUgPSAoaXRlbUZvcm1GaWVsZHMudGl0bGU/LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICBjb25zdCBzbHVnSW5wdXQgPSAoaXRlbUZvcm1GaWVsZHMuc2x1Zz8udmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgIGNvbnN0IHN1bW1hcnkgPSAoaXRlbUZvcm1GaWVsZHMuZXhjZXJwdD8udmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgIGNvbnN0IGNvbnRlbnQgPSAoaXRlbUZvcm1GaWVsZHMuY29udGVudD8udmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgIGNvbnN0IGltYWdlID0gKGl0ZW1Gb3JtRmllbGRzLmltYWdlPy52YWx1ZSB8fCAnJykudHJpbSgpO1xuICAgICAgY29uc3QgY3RhVGV4dCA9IChpdGVtRm9ybUZpZWxkcy5jdGFUZXh0Py52YWx1ZSB8fCAnJykudHJpbSgpO1xuICAgICAgY29uc3QgY3RhVXJsID0gKGl0ZW1Gb3JtRmllbGRzLmN0YVVybD8udmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgIGNvbnN0IHN0YXR1cyA9IGl0ZW1Gb3JtRmllbGRzLnN0YXR1cz8udmFsdWUgfHwgJ0Jyb3VpbGxvbic7XG4gICAgICBcbiAgICAgIC8vIEJ1aWxkIENUQSBvYmplY3Qgb25seSBpZiBhdCBsZWFzdCBvbmUgZmllbGQgaXMgZmlsbGVkXG4gICAgICBjb25zdCBjdGEgPSAoY3RhVGV4dCB8fCBjdGFVcmwpID8geyB0ZXh0OiBjdGFUZXh0LCB1cmw6IGN0YVVybCB9IDogbnVsbDtcbiAgICAgIFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdGl0bGUsXG4gICAgICAgIHNsdWc6IHNsdWdJbnB1dCA/IG5vcm1hbGl6ZUl0ZW1TbHVnSW5wdXQoc2x1Z0lucHV0KSA6IG5vcm1hbGl6ZUl0ZW1TbHVnSW5wdXQodGl0bGUpLFxuICAgICAgICBzdW1tYXJ5LFxuICAgICAgICBleGNlcnB0OiBzdW1tYXJ5LFxuICAgICAgICBjb250ZW50LFxuICAgICAgICBpbWFnZSxcbiAgICAgICAgc3RhdHVzLFxuICAgICAgICAuLi4oY3RhICYmIHsgY3RhIH0pLFxuICAgICAgfTtcbiAgICB9O1xuXG4gICAgY29uc3Qgc2V0Rm9ybVNhdmluZ1N0YXRlID0gKGlzU2F2aW5nKSA9PiB7XG4gICAgICBpZiAoaXRlbUZvcm1TYXZlKSB7XG4gICAgICAgIGl0ZW1Gb3JtU2F2ZS5kaXNhYmxlZCA9IGlzU2F2aW5nO1xuICAgICAgICBpdGVtRm9ybVNhdmUudGV4dENvbnRlbnQgPSBpc1NhdmluZyA/ICdFbnJlZ2lzdHJlbWVudFx1MjAyNicgOiAnRW5yZWdpc3RyZXInO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1EZWxldGVCdXR0b24gJiYgIWlzQ3JlYXRpbmdJdGVtICYmIGFjdGl2ZUl0ZW1JZCkge1xuICAgICAgICBpdGVtRGVsZXRlQnV0dG9uLmRpc2FibGVkID0gaXNTYXZpbmc7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGZldGNoQ29sbGVjdGlvbkl0ZW1zID0gYXN5bmMgKGNvbGxlY3Rpb25JZCkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uc0FwaUJhc2UpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgYCR7Y29sbGVjdGlvbnNBcGlCYXNlfS8ke2VuY29kZVVSSUNvbXBvbmVudChjb2xsZWN0aW9uSWQpfS9pdGVtc2AsXG4gICAgICAgIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0sXG4gICAgICApO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IocGF5bG9hZC5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIGl0ZW1zLicpO1xuICAgICAgfVxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KGRhdGEuaXRlbXMpID8gZGF0YS5pdGVtcyA6IFtdO1xuICAgIH07XG5cbiAgICBjb25zdCBzZXRBY3RpdmVDb2xsZWN0aW9uID0gYXN5bmMgKGNvbGxlY3Rpb25JZCkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uSWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYWN0aXZlQ29sbGVjdGlvbklkID0gY29sbGVjdGlvbklkO1xuICAgICAgYWN0aXZlSXRlbUlkID0gbnVsbDtcbiAgICAgIGlzQ3JlYXRpbmdJdGVtID0gZmFsc2U7XG4gICAgICBpdGVtU2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gICAgICAvLyBTd2l0Y2ggdG8gY29sbGVjdGlvbiB2aWV3XG4gICAgICBzaG93Q29udGVudFZpZXcoJ2NvbGxlY3Rpb24nKTtcbiAgICAgIHVwZGF0ZUNvbGxlY3Rpb25IZWFkZXIoKTtcbiAgICAgIHN5bmNBZGRCdXR0b25TdGF0ZSgpO1xuICAgICAgcmVuZGVyQ29sbGVjdGlvbkxpc3QoKTtcbiAgICAgIGhpZGVJdGVtRm9ybSgpO1xuICAgICAgY29sbGVjdGlvbkl0ZW1zID0gW107XG4gICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICAgIHVwZGF0ZUl0ZW1zRW1wdHlNZXNzYWdlKCdDaGFyZ2VtZW50IGRlcyBpdGVtc1x1MjAyNicpO1xuICAgICAgY29sbGVjdGlvbkl0ZW1zRW1wdHk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgaXRlbVRhYmxlV3JhcHBlcj8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25zQXBpQmFzZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb2xsZWN0aW9uSXRlbXMgPSBhd2FpdCBmZXRjaENvbGxlY3Rpb25JdGVtcyhjb2xsZWN0aW9uSWQpO1xuICAgICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICAgICAgaWYgKCFjb2xsZWN0aW9uSXRlbXMubGVuZ3RoKSB7XG4gICAgICAgICAgdXBkYXRlSXRlbXNFbXB0eU1lc3NhZ2UoKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tjb250ZW50XSBpdGVtcyBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgY2hhcmdlciBsZXMgaXRlbXMuJyk7XG4gICAgICAgIGNvbGxlY3Rpb25JdGVtcyA9IFtdO1xuICAgICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgY3JlYXRlQ29sbGVjdGlvbkl0ZW0gPSBhc3luYyAoY29sbGVjdGlvbklkLCBwYXlsb2FkKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25zQXBpQmFzZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NpdGUgaW5jb25udS4nKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgIGAke2NvbGxlY3Rpb25zQXBpQmFzZX0vJHtlbmNvZGVVUklDb21wb25lbnQoY29sbGVjdGlvbklkKX0vaXRlbXNgLFxuICAgICAgICB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgIH0sXG4gICAgICApO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZGF0YS5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIGNyXHUwMEU5ZXIgY2V0IGl0ZW0uJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgIH07XG5cbiAgICBjb25zdCB1cGRhdGVDb2xsZWN0aW9uSXRlbSA9IGFzeW5jIChjb2xsZWN0aW9uSWQsIGl0ZW1JZCwgcGF5bG9hZCkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uc0FwaUJhc2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTaXRlIGluY29ubnUuJyk7XG4gICAgICB9XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgICBgJHtjb2xsZWN0aW9uc0FwaUJhc2V9LyR7ZW5jb2RlVVJJQ29tcG9uZW50KGNvbGxlY3Rpb25JZCl9L2l0ZW1zLyR7ZW5jb2RlVVJJQ29tcG9uZW50KGl0ZW1JZCl9YCxcbiAgICAgICAge1xuICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgIH0sXG4gICAgICApO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZGF0YS5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIHNhdXZlZ2FyZGVyIGNldCBpdGVtLicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICB9O1xuXG4gICAgY29uc3QgZGVsZXRlQ29sbGVjdGlvbkl0ZW0gPSBhc3luYyAoY29sbGVjdGlvbklkLCBpdGVtSWQpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvbnNBcGlCYXNlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignU2l0ZSBpbmNvbm51LicpO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgYCR7Y29sbGVjdGlvbnNBcGlCYXNlfS8ke2VuY29kZVVSSUNvbXBvbmVudChjb2xsZWN0aW9uSWQpfS9pdGVtcy8ke2VuY29kZVVSSUNvbXBvbmVudChpdGVtSWQpfWAsXG4gICAgICAgIHsgbWV0aG9kOiAnREVMRVRFJyB9LFxuICAgICAgKTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGRhdGEubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBzdXBwcmltZXIgY2V0IGl0ZW0uJyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGxvYWRDb2xsZWN0aW9ucyA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvbnNBcGlCYXNlKSB7XG4gICAgICAgIGNvbGxlY3Rpb25FbXB0eVN0YXRlPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgYWN0aXZlQ29sbGVjdGlvbklkID0gbnVsbDtcbiAgICAgICAgY29sbGVjdGlvbkl0ZW1zID0gW107XG4gICAgICAgIHJlbmRlckl0ZW1UYWJsZSgpO1xuICAgICAgICB1cGRhdGVDb2xsZWN0aW9uSGVhZGVyKCk7XG4gICAgICAgIHN5bmNBZGRCdXR0b25TdGF0ZSgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGNvbGxlY3Rpb25zQXBpQmFzZSwge1xuICAgICAgICAgIGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ltcG9zc2libGUgZGUgY2hhcmdlciBsZXMgY29sbGVjdGlvbnMuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiBbXSk7XG4gICAgICAgIGNvbGxlY3Rpb25zID0gQXJyYXkuaXNBcnJheShwYXlsb2FkKSA/IHBheWxvYWQgOiBbXTtcbiAgICAgICAgcmVuZGVyQ29sbGVjdGlvbkxpc3QoKTtcbiAgICAgICAgaWYgKGNvbGxlY3Rpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBjb25zdCBkZWZhdWx0SWQgPSBjb2xsZWN0aW9ucy5maW5kKChlbnRyeSkgPT4gZW50cnkuaWQgPT09IGFjdGl2ZUNvbGxlY3Rpb25JZCk/LmlkXG4gICAgICAgICAgICB8fCBjb2xsZWN0aW9uc1swXS5pZDtcbiAgICAgICAgICBzZXRBY3RpdmVDb2xsZWN0aW9uKGRlZmF1bHRJZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYWN0aXZlQ29sbGVjdGlvbklkID0gbnVsbDtcbiAgICAgICAgICBjb2xsZWN0aW9uSXRlbXMgPSBbXTtcbiAgICAgICAgICB1cGRhdGVDb2xsZWN0aW9uSGVhZGVyKCk7XG4gICAgICAgICAgc3luY0FkZEJ1dHRvblN0YXRlKCk7XG4gICAgICAgICAgcmVuZGVySXRlbVRhYmxlKCk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbY29udGVudF0gbG9hZCBjb2xsZWN0aW9ucycsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxlcyBjb2xsZWN0aW9ucy4nKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaXRlbUFkZEJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBpZiAoIWFjdGl2ZUNvbGxlY3Rpb25JZCkge1xuICAgICAgICBzaG93VG9hc3QoJ1NcdTAwRTlsZWN0aW9ubmV6IGRcdTIwMTlhYm9yZCB1bmUgY29sbGVjdGlvbi4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcHJlcGFyZU5ld0l0ZW1Gb3JtKCk7XG4gICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICB9KTtcblxuICAgIGl0ZW1Gb3JtQ2FuY2VsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmIChpc0NyZWF0aW5nSXRlbSkge1xuICAgICAgICBpc0NyZWF0aW5nSXRlbSA9IGZhbHNlO1xuICAgICAgICBhY3RpdmVJdGVtSWQgPSBudWxsO1xuICAgICAgICBoaWRlSXRlbUZvcm0oKTtcbiAgICAgICAgcmVuZGVySXRlbVRhYmxlKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChhY3RpdmVJdGVtSWQpIHtcbiAgICAgICAgY29uc3QgaXRlbSA9IGNvbGxlY3Rpb25JdGVtcy5maW5kKChlbnRyeSkgPT4gZW50cnkuaWQgPT09IGFjdGl2ZUl0ZW1JZCk7XG4gICAgICAgIHBvcHVsYXRlSXRlbUZvcm0oaXRlbSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBoaWRlSXRlbUZvcm0oKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGl0ZW1Gb3JtRmllbGRzLnN0YXR1cz8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICAgICAgc3luY0l0ZW1TdGF0dXNCYWRnZShpdGVtRm9ybUZpZWxkcy5zdGF0dXMudmFsdWUpO1xuICAgIH0pO1xuXG4gICAgaXRlbUZvcm1GaWVsZHMudGl0bGU/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgaWYgKCFpc0NyZWF0aW5nSXRlbSB8fCAhaXRlbUZvcm1GaWVsZHMuc2x1ZyB8fCBpdGVtU2x1Z01hbnVhbGx5RWRpdGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGl0ZW1Gb3JtRmllbGRzLnNsdWcudmFsdWUgPSBub3JtYWxpemVJdGVtU2x1Z0lucHV0KGl0ZW1Gb3JtRmllbGRzLnRpdGxlLnZhbHVlKTtcbiAgICB9KTtcblxuICAgIGl0ZW1Gb3JtRmllbGRzLnNsdWc/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgaWYgKCFpc0NyZWF0aW5nSXRlbSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpdGVtU2x1Z01hbnVhbGx5RWRpdGVkID0gdHJ1ZTtcbiAgICB9KTtcblxuICAgIGl0ZW1Gb3JtPy5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoIWFjdGl2ZUNvbGxlY3Rpb25JZCkge1xuICAgICAgICBzaG93VG9hc3QoJ1NcdTAwRTlsZWN0aW9ubmV6IHVuZSBjb2xsZWN0aW9uLicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCB2YWx1ZXMgPSBjb2xsZWN0SXRlbUZvcm1WYWx1ZXMoKTtcbiAgICAgIGlmICghdmFsdWVzLnRpdGxlKSB7XG4gICAgICAgIHNob3dUb2FzdCgnTGUgdGl0cmUgZXN0IHJlcXVpcy4nKTtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMudGl0bGU/LmZvY3VzKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNldEZvcm1TYXZpbmdTdGF0ZSh0cnVlKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGxldCBzYXZlZEl0ZW07XG4gICAgICAgIGlmIChpc0NyZWF0aW5nSXRlbSB8fCAhYWN0aXZlSXRlbUlkKSB7XG4gICAgICAgICAgc2F2ZWRJdGVtID0gYXdhaXQgY3JlYXRlQ29sbGVjdGlvbkl0ZW0oYWN0aXZlQ29sbGVjdGlvbklkLCB2YWx1ZXMpO1xuICAgICAgICAgIGNvbGxlY3Rpb25JdGVtcyA9IFsuLi5jb2xsZWN0aW9uSXRlbXMsIHNhdmVkSXRlbV07XG4gICAgICAgICAgc2hvd1RvYXN0KCdJdGVtIGNyXHUwMEU5XHUwMEU5Jyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2F2ZWRJdGVtID0gYXdhaXQgdXBkYXRlQ29sbGVjdGlvbkl0ZW0oYWN0aXZlQ29sbGVjdGlvbklkLCBhY3RpdmVJdGVtSWQsIHZhbHVlcyk7XG4gICAgICAgICAgY29sbGVjdGlvbkl0ZW1zID0gY29sbGVjdGlvbkl0ZW1zLm1hcCgoaXRlbSkgPT5cbiAgICAgICAgICAgIGl0ZW0uaWQgPT09IHNhdmVkSXRlbS5pZCA/IHNhdmVkSXRlbSA6IGl0ZW0sXG4gICAgICAgICAgKTtcbiAgICAgICAgICBzaG93VG9hc3QoJ0l0ZW0gbWlzIFx1MDBFMCBqb3VyJyk7XG4gICAgICAgIH1cbiAgICAgICAgaXNDcmVhdGluZ0l0ZW0gPSBmYWxzZTtcbiAgICAgICAgYWN0aXZlSXRlbUlkID0gc2F2ZWRJdGVtLmlkO1xuICAgICAgICBwb3B1bGF0ZUl0ZW1Gb3JtKHNhdmVkSXRlbSk7XG4gICAgICAgIHJlbmRlckl0ZW1UYWJsZSgpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tjb250ZW50XSBzYXZlIGl0ZW0gZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIHNhdXZlZ2FyZGVyIGNldCBpdGVtLicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0Rm9ybVNhdmluZ1N0YXRlKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGNvbnN0IGNsb3NlRGVsZXRlTW9kYWwgPSAoKSA9PiB7XG4gICAgICBpZiAoIWl0ZW1EZWxldGVNb2RhbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpdGVtRGVsZXRlTW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBpdGVtRGVsZXRlTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnZmxleCcpO1xuICAgICAgcGVuZGluZ0RlbGV0ZUl0ZW1JZCA9IG51bGw7XG4gICAgfTtcblxuICAgIGNvbnN0IG9wZW5EZWxldGVNb2RhbCA9ICgpID0+IHtcbiAgICAgIGlmICghaXRlbURlbGV0ZU1vZGFsIHx8ICFhY3RpdmVJdGVtSWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcGVuZGluZ0RlbGV0ZUl0ZW1JZCA9IGFjdGl2ZUl0ZW1JZDtcbiAgICAgIGl0ZW1EZWxldGVNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGl0ZW1EZWxldGVNb2RhbC5jbGFzc0xpc3QuYWRkKCdmbGV4Jyk7XG4gICAgfTtcblxuICAgIGl0ZW1EZWxldGVCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKCFhY3RpdmVJdGVtSWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgb3BlbkRlbGV0ZU1vZGFsKCk7XG4gICAgfSk7XG5cbiAgICBpdGVtRGVsZXRlQ2FuY2VsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNsb3NlRGVsZXRlTW9kYWwoKTtcbiAgICB9KTtcblxuICAgIGl0ZW1EZWxldGVNb2RhbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIGlmIChldmVudC50YXJnZXQgPT09IGl0ZW1EZWxldGVNb2RhbCkge1xuICAgICAgICBjbG9zZURlbGV0ZU1vZGFsKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpdGVtRGVsZXRlQ29uZmlybT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXBlbmRpbmdEZWxldGVJdGVtSWQgfHwgIWFjdGl2ZUNvbGxlY3Rpb25JZCkge1xuICAgICAgICBjbG9zZURlbGV0ZU1vZGFsKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGl0ZW1EZWxldGVDb25maXJtLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIGl0ZW1EZWxldGVDb25maXJtLnRleHRDb250ZW50ID0gJ1N1cHByZXNzaW9uXHUyMDI2JztcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IGRlbGV0ZUNvbGxlY3Rpb25JdGVtKGFjdGl2ZUNvbGxlY3Rpb25JZCwgcGVuZGluZ0RlbGV0ZUl0ZW1JZCk7XG4gICAgICAgIGNvbGxlY3Rpb25JdGVtcyA9IGNvbGxlY3Rpb25JdGVtcy5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0uaWQgIT09IHBlbmRpbmdEZWxldGVJdGVtSWQpO1xuICAgICAgICBpZiAoYWN0aXZlSXRlbUlkID09PSBwZW5kaW5nRGVsZXRlSXRlbUlkKSB7XG4gICAgICAgICAgYWN0aXZlSXRlbUlkID0gbnVsbDtcbiAgICAgICAgICBoaWRlSXRlbUZvcm0oKTtcbiAgICAgICAgfVxuICAgICAgICBzaG93VG9hc3QoJ0l0ZW0gc3VwcHJpbVx1MDBFOScpO1xuICAgICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbY29udGVudF0gZGVsZXRlIGl0ZW0gZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIHN1cHByaW1lciBjZXQgaXRlbS4nKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGl0ZW1EZWxldGVDb25maXJtLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIGl0ZW1EZWxldGVDb25maXJtLnRleHRDb250ZW50ID0gJ1N1cHByaW1lcic7XG4gICAgICAgIGNsb3NlRGVsZXRlTW9kYWwoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHVwZGF0ZUNvbGxlY3Rpb25IZWFkZXIoKTtcbiAgICBzeW5jQWRkQnV0dG9uU3RhdGUoKTtcbiAgICBsb2FkQ29sbGVjdGlvbnMoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXREZXBsb3lXb3Jrc3BhY2UoKSB7XG4gICAgY29uc3QgZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1mb3JtXScpO1xuICAgIGlmICghZm9ybSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBwcm90b2NvbFNlbGVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1wcm90b2NvbF0nKTtcbiAgICBjb25zdCBob3N0SW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktaG9zdF0nKTtcbiAgICBjb25zdCBwb3J0SW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktcG9ydF0nKTtcbiAgICBjb25zdCB1c2VySW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktdXNlcl0nKTtcbiAgICBjb25zdCBwYXNzd29yZElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LXBhc3N3b3JkXScpO1xuICAgIGNvbnN0IHNob3dQYXNzd29yZFRvZ2dsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1zaG93LXBhc3N3b3JkXScpO1xuICAgIGNvbnN0IHJlbW90ZVBhdGhJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1yZW1vdGUtcGF0aF0nKTtcbiAgICBjb25zdCBmZWVkYmFjayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1mZWVkYmFja10nKTtcbiAgICBjb25zdCBzYXZlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LXNhdmVdJyk7XG4gICAgY29uc3QgdGVzdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS10ZXN0XScpO1xuICAgIGNvbnN0IGRlcGxveUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS10cmlnZ2VyXScpO1xuICAgIGNvbnN0IGhpc3RvcnlMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LWhpc3RvcnldJyk7XG4gICAgY29uc3QgbG9nQm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LWxvZ10nKTtcblxuICAgIGNvbnN0IHNhZmVTaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKFxuICAgICAgd29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyxcbiAgICApO1xuICAgIGNvbnN0IGRlcGxveUFwaUJhc2UgPSBzYWZlU2l0ZVNsdWdcbiAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnKX0vZGVwbG95LWNvbmZpZ2BcbiAgICAgIDogbnVsbDtcbiAgICBjb25zdCBkZXBsb3lSdW5BcGkgPSBzYWZlU2l0ZVNsdWdcbiAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnKX0vZGVwbG95YFxuICAgICAgOiBudWxsO1xuICAgIGNvbnN0IGRlcGxveUxvZ0FwaSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9kZXBsb3ktbG9nYFxuICAgICAgOiBudWxsO1xuXG4gICAgbGV0IGhhc1Bhc3N3b3JkID0gZmFsc2U7XG4gICAgbGV0IGJ1c3lBY3Rpb24gPSBudWxsO1xuXG4gICAgY29uc3Qgc2FuaXRpemVSZW1vdGVQYXRoID0gKHZhbHVlKSA9PiB7XG4gICAgICBjb25zdCB0cmltbWVkID0gKHZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICBpZiAoIXRyaW1tZWQpIHtcbiAgICAgICAgcmV0dXJuICcvd3d3JztcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cmltbWVkLnN0YXJ0c1dpdGgoJy8nKSA/IHRyaW1tZWQgOiBgLyR7dHJpbW1lZH1gO1xuICAgIH07XG5cbiAgICBjb25zdCBzZXRGZWVkYmFjayA9IChtZXNzYWdlLCB0b25lID0gJ211dGVkJykgPT4ge1xuICAgICAgaWYgKCFmZWVkYmFjaykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBiYXNlQ2xhc3MgPSAnaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHJvdW5kZWQtZnVsbCBweC0zIHB5LTEgdGV4dC14cyBmb250LXNlbWlib2xkJztcbiAgICAgIGNvbnN0IHRvbmVDbGFzcyA9XG4gICAgICAgIHRvbmUgPT09ICdzdWNjZXNzJ1xuICAgICAgICAgID8gJ2JnLWVtZXJhbGQtNTAgdGV4dC1lbWVyYWxkLTcwMCBib3JkZXIgYm9yZGVyLWVtZXJhbGQtMTAwJ1xuICAgICAgICAgIDogdG9uZSA9PT0gJ2Vycm9yJ1xuICAgICAgICAgICAgPyAnYmctcm9zZS01MCB0ZXh0LXJvc2UtNzAwIGJvcmRlciBib3JkZXItcm9zZS0xMDAnXG4gICAgICAgICAgICA6ICdiZy1zbGF0ZS01MCB0ZXh0LXNsYXRlLTYwMCBib3JkZXIgYm9yZGVyLXNsYXRlLTEwMCc7XG4gICAgICBpZiAoIW1lc3NhZ2UpIHtcbiAgICAgICAgZmVlZGJhY2sudGV4dENvbnRlbnQgPSAnJztcbiAgICAgICAgZmVlZGJhY2suY2xhc3NOYW1lID0gJ3RleHQtc20gdGV4dC1zbGF0ZS01MDAnO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBpY29uID0gdG9uZSA9PT0gJ3N1Y2Nlc3MnID8gJ1x1MjcwNScgOiB0b25lID09PSAnZXJyb3InID8gJ1x1Mjc0QycgOiAnXHUyMTM5XHVGRTBGJztcbiAgICAgIGZlZWRiYWNrLmlubmVySFRNTCA9IGA8c3BhbiBjbGFzcz1cIiR7YmFzZUNsYXNzfSAke3RvbmVDbGFzc31cIj4ke2ljb259PHNwYW4+JHttZXNzYWdlfTwvc3Bhbj48L3NwYW4+YDtcbiAgICAgIGZlZWRiYWNrLmNsYXNzTmFtZSA9ICd0ZXh0LXNtJztcbiAgICB9O1xuXG4gICAgY29uc3Qgc2V0QnVzeSA9IChhY3Rpb24gPSBudWxsKSA9PiB7XG4gICAgICBidXN5QWN0aW9uID0gYWN0aW9uO1xuICAgICAgY29uc3QgZGlzYWJsZSA9IEJvb2xlYW4oYWN0aW9uKTtcbiAgICAgIGNvbnN0IHNwaW5uZXIgPVxuICAgICAgICAnPHN2ZyBjbGFzcz1cImgtNCB3LTQgYW5pbWF0ZS1zcGluIHRleHQtd2hpdGVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48Y2lyY2xlIGNsYXNzPVwib3BhY2l0eS0yNVwiIGN4PVwiMTJcIiBjeT1cIjEyXCIgcj1cIjEwXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiNFwiPjwvY2lyY2xlPjxwYXRoIGNsYXNzPVwib3BhY2l0eS03NVwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIiBkPVwiTTQgMTJhOCA4IDAgMDE4LTh2NGE0IDQgMCAwMC00IDRINHpcIj48L3BhdGg+PC9zdmc+JztcbiAgICAgIGlmIChzYXZlQnV0dG9uKSB7XG4gICAgICAgIHNhdmVCdXR0b24uZGlzYWJsZWQgPSBkaXNhYmxlO1xuICAgICAgICBzYXZlQnV0dG9uLmlubmVySFRNTCA9XG4gICAgICAgICAgYWN0aW9uID09PSAnc2F2ZSdcbiAgICAgICAgICAgID8gYDxzcGFuIGNsYXNzPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+JHtzcGlubmVyfTxzcGFuPkVucmVnaXN0cmVtZW50XHUyMDI2PC9zcGFuPjwvc3Bhbj5gXG4gICAgICAgICAgICA6ICdFbnJlZ2lzdHJlcic7XG4gICAgICB9XG4gICAgICBpZiAodGVzdEJ1dHRvbikge1xuICAgICAgICB0ZXN0QnV0dG9uLmRpc2FibGVkID0gZGlzYWJsZTtcbiAgICAgICAgdGVzdEJ1dHRvbi5pbm5lckhUTUwgPVxuICAgICAgICAgIGFjdGlvbiA9PT0gJ3Rlc3QnXG4gICAgICAgICAgICA/IGA8c3BhbiBjbGFzcz1cImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPjxzcGFuIGNsYXNzPVwiaC00IHctNCBhbmltYXRlLXNwaW4gcm91bmRlZC1mdWxsIGJvcmRlci0yIGJvcmRlci1zbGF0ZS0yMDAgYm9yZGVyLXQtc2xhdGUtNjAwXCI+PC9zcGFuPjxzcGFuPlRlc3QgZW4gY291cnNcdTIwMjY8L3NwYW4+PC9zcGFuPmBcbiAgICAgICAgICAgIDogJ1Rlc3RlciBsYSBjb25uZXhpb24nO1xuICAgICAgfVxuICAgICAgaWYgKGRlcGxveUJ1dHRvbikge1xuICAgICAgICBkZXBsb3lCdXR0b24uZGlzYWJsZWQgPSBkaXNhYmxlICYmIGFjdGlvbiAhPT0gbnVsbDtcbiAgICAgICAgZGVwbG95QnV0dG9uLmlubmVySFRNTCA9XG4gICAgICAgICAgYWN0aW9uID09PSAnZGVwbG95J1xuICAgICAgICAgICAgPyBgPHNwYW4gY2xhc3M9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj48c3BhbiBjbGFzcz1cImgtNCB3LTQgYW5pbWF0ZS1zcGluIHJvdW5kZWQtZnVsbCBib3JkZXItMiBib3JkZXItd2hpdGUvNjAgYm9yZGVyLXQtd2hpdGVcIj48L3NwYW4+PHNwYW4+RFx1MDBFOXBsb2llbWVudFx1MjAyNjwvc3Bhbj48L3NwYW4+YFxuICAgICAgICAgICAgOiAnRFx1MDBFOXBsb3llciBtYWludGVuYW50JztcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgcG9wdWxhdGVGb3JtID0gKGNvbmZpZykgPT4ge1xuICAgICAgcHJvdG9jb2xTZWxlY3QgJiYgKHByb3RvY29sU2VsZWN0LnZhbHVlID0gY29uZmlnLnByb3RvY29sIHx8ICdzZnRwJyk7XG4gICAgICBob3N0SW5wdXQgJiYgKGhvc3RJbnB1dC52YWx1ZSA9IGNvbmZpZy5ob3N0IHx8ICcnKTtcbiAgICAgIHBvcnRJbnB1dCAmJiAocG9ydElucHV0LnZhbHVlID0gY29uZmlnLnBvcnQgfHwgJycpO1xuICAgICAgdXNlcklucHV0ICYmICh1c2VySW5wdXQudmFsdWUgPSBjb25maWcudXNlciB8fCAnJyk7XG4gICAgICByZW1vdGVQYXRoSW5wdXQgJiYgKHJlbW90ZVBhdGhJbnB1dC52YWx1ZSA9IGNvbmZpZy5yZW1vdGVQYXRoIHx8ICcvd3d3Jyk7XG4gICAgICBoYXNQYXNzd29yZCA9IEJvb2xlYW4oY29uZmlnLmhhc1Bhc3N3b3JkKTtcbiAgICAgIGlmIChwYXNzd29yZElucHV0KSB7XG4gICAgICAgIHBhc3N3b3JkSW5wdXQudmFsdWUgPSAnJztcbiAgICAgICAgcGFzc3dvcmRJbnB1dC5wbGFjZWhvbGRlciA9IGhhc1Bhc3N3b3JkID8gJ05vbiBhZmZpY2hcdTAwRTknIDogJ01vdCBkZSBwYXNzZSc7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHJlbmRlckhpc3RvcnkgPSAoZW50cmllcyA9IFtdKSA9PiB7XG4gICAgICBpZiAoIWhpc3RvcnlMaXN0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGhpc3RvcnlMaXN0LmlubmVySFRNTCA9ICcnO1xuICAgICAgaWYgKCFlbnRyaWVzLmxlbmd0aCkge1xuICAgICAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICAgIGxpLmNsYXNzTmFtZSA9ICd0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICAgIGxpLnRleHRDb250ZW50ID0gJ0F1Y3VuIGRcdTAwRTlwbG9pZW1lbnQgcG91ciBsZSBtb21lbnQuJztcbiAgICAgICAgaGlzdG9yeUxpc3QuYXBwZW5kQ2hpbGQobGkpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBlbnRyaWVzLmZvckVhY2goKGVudHJ5KSA9PiB7XG4gICAgICAgIGNvbnN0IGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgbGkuY2xhc3NOYW1lID1cbiAgICAgICAgICAnZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIGdhcC0yIHJvdW5kZWQteGwgYm9yZGVyIGJvcmRlci1zbGF0ZS0yMDAgcHgtMyBweS0yJztcbiAgICAgICAgY29uc3Qgc3RhdHVzQmFkZ2UgPVxuICAgICAgICAgIGVudHJ5LnN0YXR1cyA9PT0gJ3N1Y2Nlc3MnXG4gICAgICAgICAgICA/ICc8c3BhbiBjbGFzcz1cInJvdW5kZWQtZnVsbCBiZy1lbWVyYWxkLTUwIHB4LTIgcHktMC41IHRleHQtWzExcHhdIGZvbnQtc2VtaWJvbGQgdGV4dC1lbWVyYWxkLTcwMFwiPlN1Y2NcdTAwRThzPC9zcGFuPidcbiAgICAgICAgICAgIDogJzxzcGFuIGNsYXNzPVwicm91bmRlZC1mdWxsIGJnLXJvc2UtNTAgcHgtMiBweS0wLjUgdGV4dC1bMTFweF0gZm9udC1zZW1pYm9sZCB0ZXh0LXJvc2UtNzAwXCI+XHUwMEM5Y2hlYzwvc3Bhbj4nO1xuICAgICAgICBjb25zdCBkYXRlID0gZW50cnkuZmluaXNoZWRBdCB8fCBlbnRyeS5zdGFydGVkQXQgfHwgJyc7XG4gICAgICAgIGNvbnN0IGR1cmF0aW9uID1cbiAgICAgICAgICBlbnRyeS5kdXJhdGlvbk1zICYmIE51bWJlcihlbnRyeS5kdXJhdGlvbk1zKSA+PSAwXG4gICAgICAgICAgICA/IGAke01hdGgucm91bmQoTnVtYmVyKGVudHJ5LmR1cmF0aW9uTXMpIC8gMTAwMCl9c2BcbiAgICAgICAgICAgIDogJyc7XG4gICAgICAgIGxpLmlubmVySFRNTCA9IGBcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwic3BhY2UteS0xXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj4ke3N0YXR1c0JhZGdlfTxzcGFuIGNsYXNzPVwidGV4dC14cyB0ZXh0LXNsYXRlLTUwMFwiPiR7ZGF0ZX08L3NwYW4+PC9kaXY+XG4gICAgICAgICAgICA8cCBjbGFzcz1cInRleHQtc20gdGV4dC1zbGF0ZS04MDBcIj4ke2VudHJ5Lm1lc3NhZ2UgfHwgJyd9PC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNTAwXCI+JHtkdXJhdGlvbn08L2Rpdj5cbiAgICAgICAgYDtcbiAgICAgICAgbGkuZGF0YXNldC5kZXBsb3lJZCA9IGVudHJ5LmlkIHx8ICcnO1xuICAgICAgICBsaS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICBpZiAoZW50cnkubG9ncyAmJiBsb2dCb3gpIHtcbiAgICAgICAgICAgIGxvZ0JveC50ZXh0Q29udGVudCA9IGVudHJ5LmxvZ3Muam9pbignXFxuJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaGlzdG9yeUxpc3QuYXBwZW5kQ2hpbGQobGkpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IHJlbmRlckxvZ3MgPSAobGluZXMgPSBbXSkgPT4ge1xuICAgICAgaWYgKCFsb2dCb3gpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbG9nQm94LnRleHRDb250ZW50ID0gbGluZXMubGVuZ3RoID8gbGluZXMuam9pbignXFxuJykgOiAnQXVjdW4gbG9nIHBvdXIgbGUgbW9tZW50Lic7XG4gICAgfTtcblxuICAgIGNvbnN0IGZldGNoSGlzdG9yeSA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghZGVwbG95TG9nQXBpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goZGVwbG95TG9nQXBpLCB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwNCkge1xuICAgICAgICAgICAgcmVuZGVySGlzdG9yeShbXSk7XG4gICAgICAgICAgICByZW5kZXJMb2dzKFsnQVBJIGRcdTAwRTlwbG9pZW1lbnQgaW5kaXNwb25pYmxlIChyZWRcdTAwRTltYXJyZSBsZSBzZXJ2ZXVyKS4nXSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxcdTIwMTloaXN0b3JpcXVlLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIGNvbnN0IGVudHJpZXMgPSBBcnJheS5pc0FycmF5KHBheWxvYWQuZW50cmllcykgPyBwYXlsb2FkLmVudHJpZXMgOiBbXTtcbiAgICAgICAgcmVuZGVySGlzdG9yeShlbnRyaWVzKTtcbiAgICAgICAgaWYgKGVudHJpZXNbMF0/LmxvZ3MpIHtcbiAgICAgICAgICByZW5kZXJMb2dzKGVudHJpZXNbMF0ubG9ncyk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZGVwbG95XSBoaXN0b3J5IGZhaWxlZCcsIGVycik7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGZldGNoQ29uZmlnID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFkZXBsb3lBcGlCYXNlKSB7XG4gICAgICAgIHNldEZlZWRiYWNrKCdBdWN1biBzaXRlIGFjdGlmIHNcdTAwRTlsZWN0aW9ublx1MDBFOS4nLCAnZXJyb3InKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2V0QnVzeSgnbG9hZCcpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChkZXBsb3lBcGlCYXNlLCB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgcG9wdWxhdGVGb3JtKHBheWxvYWQgfHwge30pO1xuICAgICAgICAgIHNldEZlZWRiYWNrKCdDb25maWd1cmF0aW9uIGNoYXJnXHUwMEU5ZS4nLCAnbXV0ZWQnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwb3B1bGF0ZUZvcm0ocGF5bG9hZCB8fCB7fSk7XG4gICAgICAgICAgc2V0RmVlZGJhY2socGF5bG9hZC5tZXNzYWdlIHx8ICdDb25maWd1cmF0aW9uIHBhciBkXHUwMEU5ZmF1dCBjaGFyZ1x1MDBFOWUuJywgJ211dGVkJyk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZGVwbG95XSBsb2FkIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNldEZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkdSBjaGFyZ2VtZW50LicsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0QnVzeShudWxsKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgYnVpbGRQYXlsb2FkID0gKCkgPT4ge1xuICAgICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgcHJvdG9jb2w6IHByb3RvY29sU2VsZWN0Py52YWx1ZSB8fCAnc2Z0cCcsXG4gICAgICAgIGhvc3Q6IGhvc3RJbnB1dD8udmFsdWUudHJpbSgpIHx8ICcnLFxuICAgICAgICBwb3J0OiBOdW1iZXIocG9ydElucHV0Py52YWx1ZSkgfHwgdW5kZWZpbmVkLFxuICAgICAgICB1c2VyOiB1c2VySW5wdXQ/LnZhbHVlLnRyaW0oKSB8fCAnJyxcbiAgICAgICAgcmVtb3RlUGF0aDogc2FuaXRpemVSZW1vdGVQYXRoKHJlbW90ZVBhdGhJbnB1dD8udmFsdWUgfHwgJy93d3cnKSxcbiAgICAgIH07XG4gICAgICBjb25zdCBwd2QgPSBwYXNzd29yZElucHV0Py52YWx1ZSB8fCAnJztcbiAgICAgIGlmIChwd2QudHJpbSgpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcGF5bG9hZC5wYXNzd29yZCA9IHB3ZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH07XG5cbiAgICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmICghZGVwbG95QXBpQmFzZSkge1xuICAgICAgICBzZXRGZWVkYmFjaygnQXVjdW4gc2l0ZSBhY3RpZiBzXHUwMEU5bGVjdGlvbm5cdTAwRTkuJywgJ2Vycm9yJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHBheWxvYWQgPSBidWlsZFBheWxvYWQoKTtcbiAgICAgIHNldEJ1c3koJ3NhdmUnKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goZGVwbG95QXBpQmFzZSwge1xuICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgY29uc3QgZXJyb3JQYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvclBheWxvYWQubWVzc2FnZSB8fCAnU2F1dmVnYXJkZSBpbXBvc3NpYmxlLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNhdmVkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBwb3B1bGF0ZUZvcm0oc2F2ZWQgfHwge30pO1xuICAgICAgICBzZXRGZWVkYmFjaygnQ29uZmlndXJhdGlvbiBlbnJlZ2lzdHJcdTAwRTllLicsICdzdWNjZXNzJyk7XG4gICAgICAgIHNob3dUb2FzdCgnQ29uZmlndXJhdGlvbiBkXHUwMEU5cGxvaWVtZW50IHNhdXZlZ2FyZFx1MDBFOWUnKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZGVwbG95XSBzYXZlIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNldEZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsYSBzYXV2ZWdhcmRlLicsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0QnVzeShudWxsKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRlc3RCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFkZXBsb3lBcGlCYXNlKSB7XG4gICAgICAgIHNldEZlZWRiYWNrKCdBdWN1biBzaXRlIGFjdGlmIHNcdTAwRTlsZWN0aW9ublx1MDBFOS4nLCAnZXJyb3InKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgcGF5bG9hZCA9IGJ1aWxkUGF5bG9hZCgpO1xuICAgICAgaWYgKCFwYXlsb2FkLmhvc3QgfHwgIXBheWxvYWQudXNlciB8fCAhcGF5bG9hZC5yZW1vdGVQYXRoKSB7XG4gICAgICAgIHNldEZlZWRiYWNrKCdSZW1wbGlzc2V6IGxlcyBjaGFtcHMgcmVxdWlzIGF2YW50IGRlIHRlc3Rlci4nLCAnZXJyb3InKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2V0QnVzeSgndGVzdCcpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtkZXBsb3lBcGlCYXNlfS90ZXN0YCwge1xuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rIHx8IHJlc3VsdC5zdWNjZXNzID09PSBmYWxzZSkge1xuICAgICAgICAgIHNldEZlZWRiYWNrKHJlc3VsdC5tZXNzYWdlIHx8ICdUZXN0IGRlIGNvbm5leGlvbiBcdTAwRTljaG91XHUwMEU5LicsICdlcnJvcicpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzZXRGZWVkYmFjayhyZXN1bHQubWVzc2FnZSB8fCAnQ29ubmV4aW9uIE9LLicsICdzdWNjZXNzJyk7XG4gICAgICAgIHNob3dUb2FzdCgnVGVzdCBkZSBjb25uZXhpb24gclx1MDBFOXVzc2knKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZGVwbG95XSB0ZXN0IGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNldEZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdUZXN0IGRlIGNvbm5leGlvbiBcdTAwRTljaG91XHUwMEU5LicsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0QnVzeShudWxsKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGRlcGxveUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWRlcGxveVJ1bkFwaSkge1xuICAgICAgICBzZXRGZWVkYmFjaygnQXVjdW4gc2l0ZSBhY3RpZiBzXHUwMEU5bGVjdGlvbm5cdTAwRTkuJywgJ2Vycm9yJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNldEJ1c3koJ2RlcGxveScpO1xuICAgICAgcmVuZGVyTG9ncyhbJ0RcdTAwRTlwbG9pZW1lbnQgZW4gY291cnNcdTIwMjYnXSk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGRlcGxveVJ1bkFwaSwge1xuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJ1aWxkUGF5bG9hZCgpKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwNCkge1xuICAgICAgICAgICAgc2V0RmVlZGJhY2soJ0FQSSBkXHUwMEU5cGxvaWVtZW50IGluZGlzcG9uaWJsZSAocmVkXHUwMEU5bWFycmUgbGUgc2VydmV1cikuJywgJ2Vycm9yJyk7XG4gICAgICAgICAgICByZW5kZXJMb2dzKFsnQVBJIGRcdTAwRTlwbG9pZW1lbnQgaW5kaXNwb25pYmxlIChyZWRcdTAwRTltYXJyZSBsZSBzZXJ2ZXVyKS4nXSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlbmRlckxvZ3MocmVzdWx0LmxvZ3MgfHwgW10pO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQubWVzc2FnZSB8fCAnRFx1MDBFOXBsb2llbWVudCBcdTAwRTljaG91XHUwMEU5LicpO1xuICAgICAgICB9XG4gICAgICAgIHJlbmRlckxvZ3MocmVzdWx0LmxvZ3MgfHwgW10pO1xuICAgICAgICBhd2FpdCBmZXRjaEhpc3RvcnkoKTtcbiAgICAgICAgc2hvd1RvYXN0KCdEXHUwMEU5cGxvaWVtZW50IHRlcm1pblx1MDBFOScpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkZXBsb3ldIHJ1biBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzZXRGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRFx1MDBFOXBsb2llbWVudCBcdTAwRTljaG91XHUwMEU5LicsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0QnVzeShudWxsKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHNob3dQYXNzd29yZFRvZ2dsZT8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICAgICAgaWYgKCFwYXNzd29yZElucHV0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHBhc3N3b3JkSW5wdXQudHlwZSA9IHNob3dQYXNzd29yZFRvZ2dsZS5jaGVja2VkID8gJ3RleHQnIDogJ3Bhc3N3b3JkJztcbiAgICB9KTtcblxuICAgIC8vIERvd25sb2FkIGJ1aWxkIGFzIFpJUFxuICAgIGNvbnN0IGRvd25sb2FkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZG93bmxvYWQtYnVpbGRdJyk7XG4gICAgY29uc3QgZG93bmxvYWRGZWVkYmFjayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRvd25sb2FkLWZlZWRiYWNrXScpO1xuICAgIGNvbnN0IGRvd25sb2FkQXBpID0gc2FmZVNpdGVTbHVnXG4gICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Zyl9L2Rvd25sb2FkYFxuICAgICAgOiBudWxsO1xuXG4gICAgY29uc3Qgc2V0RG93bmxvYWRGZWVkYmFjayA9IChtZXNzYWdlLCB0b25lID0gJ211dGVkJykgPT4ge1xuICAgICAgaWYgKCFkb3dubG9hZEZlZWRiYWNrKSByZXR1cm47XG4gICAgICBjb25zdCBjb2xvciA9XG4gICAgICAgIHRvbmUgPT09ICdzdWNjZXNzJ1xuICAgICAgICAgID8gJ3RleHQtZW1lcmFsZC02MDAnXG4gICAgICAgICAgOiB0b25lID09PSAnZXJyb3InXG4gICAgICAgICAgICA/ICd0ZXh0LXJvc2UtNjAwJ1xuICAgICAgICAgICAgOiAndGV4dC1zbGF0ZS01MDAnO1xuICAgICAgZG93bmxvYWRGZWVkYmFjay50ZXh0Q29udGVudCA9IG1lc3NhZ2UgfHwgJyc7XG4gICAgICBkb3dubG9hZEZlZWRiYWNrLmNsYXNzTmFtZSA9IGB0ZXh0LXNtICR7Y29sb3J9YDtcbiAgICB9O1xuXG4gICAgZG93bmxvYWRCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFkb3dubG9hZEFwaSkge1xuICAgICAgICBzZXREb3dubG9hZEZlZWRiYWNrKCdBdWN1biBzaXRlIGFjdGlmIHNcdTAwRTlsZWN0aW9ublx1MDBFOS4nLCAnZXJyb3InKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZG93bmxvYWRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgY29uc3Qgb3JpZ2luYWxDb250ZW50ID0gZG93bmxvYWRCdXR0b24uaW5uZXJIVE1MO1xuICAgICAgZG93bmxvYWRCdXR0b24uaW5uZXJIVE1MID0gYFxuICAgICAgICA8c3ZnIGNsYXNzPVwidy00IGgtNCBhbmltYXRlLXNwaW5cIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICA8Y2lyY2xlIGNsYXNzPVwib3BhY2l0eS0yNVwiIGN4PVwiMTJcIiBjeT1cIjEyXCIgcj1cIjEwXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiNFwiPjwvY2lyY2xlPlxuICAgICAgICAgIDxwYXRoIGNsYXNzPVwib3BhY2l0eS03NVwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIiBkPVwiTTQgMTJhOCA4IDAgMDE4LTh2NGE0IDQgMCAwMC00IDRINHpcIj48L3BhdGg+XG4gICAgICAgIDwvc3ZnPlxuICAgICAgICA8c3Bhbj5CdWlsZCBlbiBjb3Vycy4uLjwvc3Bhbj5cbiAgICAgIGA7XG4gICAgICBzZXREb3dubG9hZEZlZWRiYWNrKCdHXHUwMEU5blx1MDBFOXJhdGlvbiBkdSBidWlsZCBlbiBjb3Vycy4uLicsICdtdXRlZCcpO1xuXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGRvd25sb2FkQXBpKTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnN0IGVycm9yRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JEYXRhLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgZ1x1MDBFOW5cdTAwRTlyZXIgbGUgWklQLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRcdTAwRTlsXHUwMEU5Y2hhcmdlciBsZSBmaWNoaWVyXG4gICAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCByZXNwb25zZS5ibG9iKCk7XG4gICAgICAgIGNvbnN0IHVybCA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICAgICAgICBjb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgICBhLmhyZWYgPSB1cmw7XG4gICAgICAgIGEuZG93bmxvYWQgPSBgJHtzYWZlU2l0ZVNsdWd9LWJ1aWxkLnppcGA7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSk7XG4gICAgICAgIGEuY2xpY2soKTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChhKTtcbiAgICAgICAgd2luZG93LlVSTC5yZXZva2VPYmplY3RVUkwodXJsKTtcbiAgICAgICAgc2V0RG93bmxvYWRGZWVkYmFjaygnVFx1MDBFOWxcdTAwRTljaGFyZ2VtZW50IHRlcm1pblx1MDBFOSAhJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgc2hvd1RvYXN0KCdCdWlsZCB0XHUwMEU5bFx1MDBFOWNoYXJnXHUwMEU5IGF2ZWMgc3VjY1x1MDBFOHMnKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZG93bmxvYWRdIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNldERvd25sb2FkRmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGR1IHRcdTAwRTlsXHUwMEU5Y2hhcmdlbWVudC4nLCAnZXJyb3InKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGRvd25sb2FkQnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIGRvd25sb2FkQnV0dG9uLmlubmVySFRNTCA9IG9yaWdpbmFsQ29udGVudDtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGZldGNoQ29uZmlnKCk7XG4gICAgZmV0Y2hIaXN0b3J5KCk7XG4gIH1cblxuICBmdW5jdGlvbiBpbml0U2V0dGluZ3NXb3Jrc3BhY2UoKSB7XG4gICAgY29uc3QgdGFiQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXNldHRpbmdzLXRhYl0nKTtcbiAgICBjb25zdCB0YWJQYW5lbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1zZXR0aW5ncy1wYW5lbF0nKTtcbiAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRtaW4tcGFzc3dvcmQtZm9ybV0nKTtcbiAgICBjb25zdCBzaXRlRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtY29uZmlnLWZvcm1dJyk7XG4gICAgY29uc3Qgc2l0ZUZlZWRiYWNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS1jb25maWctZmVlZGJhY2tdJyk7XG4gICAgY29uc3QgdGhlbWVGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtZm9ybV0nKTtcbiAgICBjb25zdCBzd2l0Y2hUYWIgPSAobmFtZSkgPT4ge1xuICAgICAgdGFiQnV0dG9ucy5mb3JFYWNoKChidG4pID0+IHtcbiAgICAgICAgY29uc3QgaXNBY3RpdmUgPSBidG4uZGF0YXNldC5zZXR0aW5nc1RhYiA9PT0gbmFtZTtcbiAgICAgICAgYnRuLnNldEF0dHJpYnV0ZSgnYXJpYS1zZWxlY3RlZCcsIGlzQWN0aXZlID8gJ3RydWUnIDogJ2ZhbHNlJyk7XG4gICAgICAgIGJ0bi5jbGFzc0xpc3QudG9nZ2xlKCdiZy1bIzlDNkJGRl0nLCBpc0FjdGl2ZSk7XG4gICAgICAgIGJ0bi5jbGFzc0xpc3QudG9nZ2xlKCd0ZXh0LXdoaXRlJywgaXNBY3RpdmUpO1xuICAgICAgfSk7XG4gICAgICB0YWJQYW5lbHMuZm9yRWFjaCgocGFuZWwpID0+IHtcbiAgICAgICAgcGFuZWwuY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZGVuJywgcGFuZWwuZGF0YXNldC5zZXR0aW5nc1BhbmVsICE9PSBuYW1lKTtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgdGFiQnV0dG9ucy5mb3JFYWNoKChidG4pID0+IHtcbiAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHN3aXRjaFRhYihidG4uZGF0YXNldC5zZXR0aW5nc1RhYiB8fCAnYWNjb3VudCcpKTtcbiAgICB9KTtcbiAgICBzd2l0Y2hUYWIoJ2FjY291bnQnKTtcblxuICAgIGlmICghZm9ybSkge1xuICAgICAgLy8gc3RpbGwgYWxsb3cgc2l0ZSBmb3JtIGV2ZW4gaWYgcGFzc3dvcmQgZm9ybSBhYnNlbnRcbiAgICB9XG4gICAgaWYgKGZvcm0pIHtcbiAgICAgIGNvbnN0IGZlZWRiYWNrID0gZm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZG1pbi1wYXNzd29yZC1mZWVkYmFja10nKTtcbiAgICAgIGNvbnN0IHN1Ym1pdCA9IGZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYWRtaW4tcGFzc3dvcmQtc3VibWl0XScpO1xuICAgICAgY29uc3Qgc2V0RmVlZGJhY2sgPSAobWVzc2FnZSwgdG9uZSA9ICdtdXRlZCcpID0+IHtcbiAgICAgICAgaWYgKCFmZWVkYmFjaykgcmV0dXJuO1xuICAgICAgICBjb25zdCBjb2xvciA9XG4gICAgICAgICAgdG9uZSA9PT0gJ3N1Y2Nlc3MnXG4gICAgICAgICAgICA/ICd0ZXh0LWVtZXJhbGQtNjAwJ1xuICAgICAgICAgICAgOiB0b25lID09PSAnZXJyb3InXG4gICAgICAgICAgICAgID8gJ3RleHQtcm9zZS02MDAnXG4gICAgICAgICAgICAgIDogJ3RleHQtc2xhdGUtNTAwJztcbiAgICAgICAgZmVlZGJhY2sudGV4dENvbnRlbnQgPSBtZXNzYWdlIHx8ICcnO1xuICAgICAgICBmZWVkYmFjay5jbGFzc05hbWUgPSBgdGV4dC1zbSAke2NvbG9yfWA7XG4gICAgICB9O1xuICAgICAgZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoZm9ybSk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRQYXNzd29yZCA9IGZvcm1EYXRhLmdldCgnY3VycmVudFBhc3N3b3JkJykgfHwgJyc7XG4gICAgICAgIGNvbnN0IG5ld1Bhc3N3b3JkID0gZm9ybURhdGEuZ2V0KCduZXdQYXNzd29yZCcpIHx8ICcnO1xuICAgICAgICBjb25zdCBjb25maXJtUGFzc3dvcmQgPSBmb3JtRGF0YS5nZXQoJ2NvbmZpcm1QYXNzd29yZCcpIHx8ICcnO1xuICAgICAgICBpZiAoIWN1cnJlbnRQYXNzd29yZCB8fCAhbmV3UGFzc3dvcmQgfHwgIWNvbmZpcm1QYXNzd29yZCkge1xuICAgICAgICAgIHNldEZlZWRiYWNrKCdDb21wbFx1MDBFOHRlIHRvdXMgbGVzIGNoYW1wcy4nLCAnZXJyb3InKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc3VibWl0ICYmIChzdWJtaXQuZGlzYWJsZWQgPSB0cnVlKTtcbiAgICAgICAgc2V0RmVlZGJhY2soJycpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvYWRtaW4vcGFzc3dvcmQnLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBjdXJyZW50UGFzc3dvcmQsIG5ld1Bhc3N3b3JkLCBjb25maXJtUGFzc3dvcmQgfSksXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rIHx8IHBheWxvYWQuc3VjY2VzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihwYXlsb2FkLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgbWV0dHJlIFx1MDBFMCBqb3VyIGxlIG1vdCBkZSBwYXNzZS4nKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0RmVlZGJhY2socGF5bG9hZC5tZXNzYWdlIHx8ICdNb3QgZGUgcGFzc2UgbWlzIFx1MDBFMCBqb3VyLicsICdzdWNjZXNzJyk7XG4gICAgICAgICAgZm9ybS5yZXNldCgpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIGNoYW5nZSBwYXNzd29yZCBmYWlsZWQnLCBlcnIpO1xuICAgICAgICAgIHNldEZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsYSBtaXNlIFx1MDBFMCBqb3VyLicsICdlcnJvcicpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIHN1Ym1pdCAmJiAoc3VibWl0LmRpc2FibGVkID0gZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoc2l0ZUZvcm0pIHtcbiAgICAgIGNvbnN0IG5hbWVJbnB1dCA9IHNpdGVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtbmFtZV0nKTtcbiAgICAgIGNvbnN0IGxhbmdTZWxlY3QgPSBzaXRlRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLWxhbmd1YWdlXScpO1xuICAgICAgY29uc3QgdGFnbGluZUlucHV0ID0gc2l0ZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS10YWdsaW5lXScpO1xuICAgICAgY29uc3Qgc2F2ZUJ1dHRvbiA9IHNpdGVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtc2F2ZV0nKTtcbiAgICAgIGNvbnN0IHNldFNpdGVGZWVkYmFjayA9IChtZXNzYWdlLCB0b25lID0gJ211dGVkJykgPT4ge1xuICAgICAgICBpZiAoIXNpdGVGZWVkYmFjaykgcmV0dXJuO1xuICAgICAgICBjb25zdCBjb2xvciA9XG4gICAgICAgICAgdG9uZSA9PT0gJ3N1Y2Nlc3MnXG4gICAgICAgICAgICA/ICd0ZXh0LWVtZXJhbGQtNjAwJ1xuICAgICAgICAgICAgOiB0b25lID09PSAnZXJyb3InXG4gICAgICAgICAgICAgID8gJ3RleHQtcm9zZS02MDAnXG4gICAgICAgICAgICAgIDogJ3RleHQtc2xhdGUtNTAwJztcbiAgICAgICAgc2l0ZUZlZWRiYWNrLnRleHRDb250ZW50ID0gbWVzc2FnZSB8fCAnJztcbiAgICAgICAgc2l0ZUZlZWRiYWNrLmNsYXNzTmFtZSA9IGB0ZXh0LXNtICR7Y29sb3J9YDtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHNhZmVTaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKFxuICAgICAgICB3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnLFxuICAgICAgKTtcbiAgICAgIGNvbnN0IHNpdGVDb25maWdBcGkgPSBzYWZlU2l0ZVNsdWdcbiAgICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9jb25maWcvc2l0ZWBcbiAgICAgICAgOiBudWxsO1xuXG4gICAgICBjb25zdCBsb2FkU2l0ZUNvbmZpZyA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKCFzaXRlQ29uZmlnQXBpKSByZXR1cm47XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChzaXRlQ29uZmlnQXBpLCB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSByZXR1cm47XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICBpZiAobmFtZUlucHV0KSBuYW1lSW5wdXQudmFsdWUgPSBwYXlsb2FkLm5hbWUgfHwgJyc7XG4gICAgICAgICAgaWYgKGxhbmdTZWxlY3QpIGxhbmdTZWxlY3QudmFsdWUgPSBwYXlsb2FkLmxhbmd1YWdlIHx8ICdmcic7XG4gICAgICAgICAgaWYgKHRhZ2xpbmVJbnB1dCkgdGFnbGluZUlucHV0LnZhbHVlID0gcGF5bG9hZC50YWdsaW5lIHx8ICcnO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIGxvYWQgc2l0ZSBjb25maWcgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgc2l0ZUZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmICghc2l0ZUNvbmZpZ0FwaSkge1xuICAgICAgICAgIHNldFNpdGVGZWVkYmFjaygnQXVjdW4gc2l0ZSBhY3RpZi4nLCAnZXJyb3InKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFuYW1lSW5wdXQ/LnZhbHVlLnRyaW0oKSkge1xuICAgICAgICAgIHNldFNpdGVGZWVkYmFjaygnTm9tIHJlcXVpcy4nLCAnZXJyb3InKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc2F2ZUJ1dHRvbiAmJiAoc2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWUpO1xuICAgICAgICBzZXRTaXRlRmVlZGJhY2soJycpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgICAgICBuYW1lOiBuYW1lSW5wdXQ/LnZhbHVlIHx8ICcnLFxuICAgICAgICAgICAgbGFuZ3VhZ2U6IGxhbmdTZWxlY3Q/LnZhbHVlIHx8ICdmcicsXG4gICAgICAgICAgICB0YWdsaW5lOiB0YWdsaW5lSW5wdXQ/LnZhbHVlIHx8ICcnLFxuICAgICAgICAgIH07XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChzaXRlQ29uZmlnQXBpLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vayB8fCByZXN1bHQuc3VjY2VzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQubWVzc2FnZSB8fCAnU2F1dmVnYXJkZSBpbXBvc3NpYmxlLicpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXRTaXRlRmVlZGJhY2socmVzdWx0Lm1lc3NhZ2UgfHwgJ1BhcmFtXHUwMEU4dHJlcyBlbnJlZ2lzdHJcdTAwRTlzLicsICdzdWNjZXNzJyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gc2F2ZSBzaXRlIGNvbmZpZyBmYWlsZWQnLCBlcnIpO1xuICAgICAgICAgIHNldFNpdGVGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZGUgbGEgc2F1dmVnYXJkZS4nLCAnZXJyb3InKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBzYXZlQnV0dG9uICYmIChzYXZlQnV0dG9uLmRpc2FibGVkID0gZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgbG9hZFNpdGVDb25maWcoKTtcbiAgICB9XG5cbiAgICBpZiAodGhlbWVGb3JtKSB7XG4gICAgICBjb25zdCBzYWZlU2l0ZVNsdWcgPSBzdHJpcExlYWRpbmdTbGFzaChcbiAgICAgICAgd29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyxcbiAgICAgICk7XG4gICAgICBjb25zdCB0aGVtZUFwaSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Zyl9L2NvbmZpZy90aGVtZWBcbiAgICAgICAgOiBudWxsO1xuXG4gICAgICBjb25zdCBjb2xvclNlbGVjdHMgPSB7XG4gICAgICAgIHByaW1hcnk6IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1wcmltYXJ5XScpLFxuICAgICAgICBzZWNvbmRhcnk6IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1zZWNvbmRhcnldJyksXG4gICAgICAgIGFjY2VudDogdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLWFjY2VudF0nKSxcbiAgICAgICAgYmFja2dyb3VuZDogdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLWJhY2tncm91bmRdJyksXG4gICAgICAgIHRleHQ6IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS10ZXh0XScpLFxuICAgICAgfTtcbiAgICAgIGNvbnN0IGhlYWRpbmdTZWxlY3QgPSB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtaGVhZGluZ3NdJyk7XG4gICAgICBjb25zdCBib2R5U2VsZWN0ID0gdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLWJvZHldJyk7XG4gICAgICBjb25zdCByYWRpdXNTbWFsbCA9IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1yYWRpdXMtc21hbGxdJyk7XG4gICAgICBjb25zdCByYWRpdXNNZWRpdW0gPSB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtcmFkaXVzLW1lZGl1bV0nKTtcbiAgICAgIGNvbnN0IHJhZGl1c0xhcmdlID0gdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLXJhZGl1cy1sYXJnZV0nKTtcbiAgICAgIGNvbnN0IHByZXZpZXcgPSB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtcHJldmlld10nKTtcbiAgICAgIGNvbnN0IHRoZW1lRmVlZGJhY2sgPSB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtZmVlZGJhY2tdJyk7XG4gICAgICBjb25zdCBhcHBseUJ1dHRvbiA9IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1hcHBseV0nKTtcbiAgICAgIGNvbnN0IHRhaWx3aW5kQmFzZU1hcCA9IHtcbiAgICAgICAgc2xhdGU6JyNlMmU4ZjAnLGdyYXk6JyNkMWQ1ZGInLHppbmM6JyNkNGQ0ZDgnLG5ldXRyYWw6JyNkNGQ0ZDQnLHN0b25lOicjZDZkM2QxJyxcbiAgICAgICAgcmVkOicjZWY0NDQ0JyxvcmFuZ2U6JyNmOTczMTYnLGFtYmVyOicjZjU5ZTBiJyx5ZWxsb3c6JyNlYWIzMDgnLGxpbWU6JyM4NGNjMTYnLFxuICAgICAgICBncmVlbjonIzIyYzU1ZScsZW1lcmFsZDonIzEwYjk4MScsdGVhbDonIzE0YjhhNicsY3lhbjonIzA2YjZkNCcsc2t5OicjMGVhNWU5JyxcbiAgICAgICAgYmx1ZTonIzNiODJmNicsaW5kaWdvOicjNjM2NmYxJyx2aW9sZXQ6JyM4YjVjZjYnLHB1cnBsZTonI2E4NTVmNycsZnVjaHNpYTonI2Q5NDZlZicsXG4gICAgICAgIHBpbms6JyNlYzQ4OTknLHJvc2U6JyNmNDNmNWUnXG4gICAgICB9O1xuICAgICAgY29uc3QgdGFpbHdpbmRUb2tlblRvSGV4ID0gKHRva2VuKSA9PiB7XG4gICAgICAgIGlmICghdG9rZW4pIHJldHVybiBudWxsO1xuICAgICAgICBpZiAodG9rZW4gPT09ICd3aGl0ZScpIHJldHVybiAnI2ZmZmZmZic7XG4gICAgICAgIGlmICh0b2tlbiA9PT0gJ2JsYWNrJykgcmV0dXJuICcjMDAwMDAwJztcbiAgICAgICAgaWYgKHRva2VuID09PSAndHJhbnNwYXJlbnQnKSByZXR1cm4gJ3RyYW5zcGFyZW50JztcbiAgICAgICAgY29uc3QgW2gsc10gPSB0b2tlbi5zcGxpdCgnLScpO1xuICAgICAgICBpZiAoIWggfHwgIXMpIHJldHVybiBudWxsO1xuICAgICAgICBjb25zdCBiYXNlID0gdGFpbHdpbmRCYXNlTWFwW2hdO1xuICAgICAgICBpZiAoIWJhc2UpIHJldHVybiBudWxsO1xuICAgICAgICBjb25zdCBzaGFkZU51bSA9IE51bWJlcihzKSB8fCA1MDA7XG4gICAgICAgIGNvbnN0IGZhY3RvciA9IE1hdGgubWluKE1hdGgubWF4KChzaGFkZU51bSAtIDUwKSAvIDkwMCwgMCksIDEpO1xuICAgICAgICBjb25zdCB0b1JnYiA9IChoZXgpID0+XG4gICAgICAgICAgaGV4XG4gICAgICAgICAgICAucmVwbGFjZSgnIycsICcnKVxuICAgICAgICAgICAgLm1hdGNoKC9bQS1GYS1mMC05XXsyfS9nKVxuICAgICAgICAgICAgLm1hcCgodikgPT4gcGFyc2VJbnQodiwgMTYpKTtcbiAgICAgICAgY29uc3QgW3IsIGcsIGJdID0gdG9SZ2IoYmFzZSk7XG4gICAgICAgIGNvbnN0IG1peCA9ICh2KSA9PiBNYXRoLnJvdW5kKDI1NSAtICgyNTUgLSB2KSAqIGZhY3Rvcik7XG4gICAgICAgIHJldHVybiBgcmdiKCR7bWl4KHIpfSwgJHttaXgoZyl9LCAke21peChiKX0pYDtcbiAgICAgIH07XG4gICAgICBjb25zdCB0YWlsd2luZEh1ZXMgPSBbXG4gICAgICAgICdzbGF0ZScsJ2dyYXknLCd6aW5jJywnbmV1dHJhbCcsJ3N0b25lJywncmVkJywnb3JhbmdlJywnYW1iZXInLCd5ZWxsb3cnLCdsaW1lJywnZ3JlZW4nLCdlbWVyYWxkJywndGVhbCcsJ2N5YW4nLCdza3knLCdibHVlJywnaW5kaWdvJywndmlvbGV0JywncHVycGxlJywnZnVjaHNpYScsJ3BpbmsnLCdyb3NlJ1xuICAgICAgXTtcbiAgICAgIGNvbnN0IHRhaWx3aW5kU2hhZGVzID0gWyc1MCcsJzEwMCcsJzIwMCcsJzMwMCcsJzQwMCcsJzUwMCcsJzYwMCcsJzcwMCcsJzgwMCcsJzkwMCddO1xuICAgICAgY29uc3QgdGFpbHdpbmRUb2tlbnMgPSB0YWlsd2luZEh1ZXMuZmxhdE1hcCgoaCk9PnRhaWx3aW5kU2hhZGVzLm1hcCgocyk9PmAke2h9LSR7c31gKSk7XG5cbiAgICAgIGNvbnN0IG5ldXRyYWxUb2tlbnMgPSBbXG4gICAgICAgIHsgdmFsdWU6ICd3aGl0ZScsIGxhYmVsOiAnQmxhbmMnLCBjb2xvcjogJyNmZmZmZmYnLCBlbW9qaTogJ1x1MkIxQycgfSxcbiAgICAgICAgeyB2YWx1ZTogJ3RyYW5zcGFyZW50JywgbGFiZWw6ICdUcmFuc3BhcmVudCcsIGNvbG9yOiAndHJhbnNwYXJlbnQnLCBlbW9qaTogJ1x1MkIxQycgfSxcbiAgICAgICAgeyB2YWx1ZTogJ2JsYWNrJywgbGFiZWw6ICdOb2lyJywgY29sb3I6ICcjMDAwMDAwJywgZW1vamk6ICdcdTJCMUInIH0sXG4gICAgICBdO1xuXG4gICAgICBjb25zdCBjb2xvck9wdGlvbkRlZmluaXRpb25zID0gKCgpID0+IHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IFtdO1xuICAgICAgICBuZXV0cmFsVG9rZW5zLmZvckVhY2goKHsgdmFsdWUsIGxhYmVsLCBjb2xvciwgZW1vamkgfSkgPT4ge1xuICAgICAgICAgIG9wdGlvbnMucHVzaCh7XG4gICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgIGxhYmVsOiBgJHtlbW9qaX0gJHtsYWJlbH1gLFxuICAgICAgICAgICAgY29sb3IsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0YWlsd2luZFRva2Vucy5mb3JFYWNoKCh0b2tlbikgPT4ge1xuICAgICAgICAgIGNvbnN0IFtoLCBzXSA9IHRva2VuLnNwbGl0KCctJyk7XG4gICAgICAgICAgY29uc3QgY29sb3JWYWx1ZSA9IHRhaWx3aW5kVG9rZW5Ub0hleCh0b2tlbikgfHwgJyNmZmZmZmYnO1xuICAgICAgICAgIG9wdGlvbnMucHVzaCh7XG4gICAgICAgICAgICB2YWx1ZTogdG9rZW4sXG4gICAgICAgICAgICBsYWJlbDogYCR7aC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGguc2xpY2UoMSl9ICR7c31gLFxuICAgICAgICAgICAgY29sb3I6IGNvbG9yVmFsdWUsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gb3B0aW9ucztcbiAgICAgIH0pKCk7XG5cbiAgICAgIGNvbnN0IG5vcm1hbGl6ZVNlbGVjdENvbG9yID0gKHZhbHVlKSA9PlxuICAgICAgICB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnID8gdmFsdWUudHJpbSgpLnRvTG93ZXJDYXNlKCkgOiAnJztcblxuICAgICAgY29uc3QgZmlsbENvbG9yT3B0aW9ucyA9IChzZWxlY3RlZENvbG9ycyA9IHt9KSA9PiB7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKGNvbG9yU2VsZWN0cykuZm9yRWFjaCgoW2tleSwgc2VsXSkgPT4ge1xuICAgICAgICAgIGlmICghc2VsKSByZXR1cm47XG4gICAgICAgICAgY29uc3Qgbm9ybWFsaXplZFZhbHVlID0gbm9ybWFsaXplU2VsZWN0Q29sb3Ioc2VsZWN0ZWRDb2xvcnNba2V5XSk7XG4gICAgICAgICAgc2VsLmlubmVySFRNTCA9ICcnO1xuICAgICAgICAgIGNvbG9yT3B0aW9uRGVmaW5pdGlvbnMuZm9yRWFjaCgoeyB2YWx1ZSwgbGFiZWwsIGNvbG9yIH0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICAgICAgb3B0aW9uLnZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICBvcHRpb24udGV4dENvbnRlbnQgPSBsYWJlbDtcbiAgICAgICAgICAgIG9wdGlvbi5kYXRhc2V0LmNvbG9yID0gY29sb3I7XG4gICAgICAgICAgICBpZiAobm9ybWFsaXplZFZhbHVlICYmIG5vcm1hbGl6ZWRWYWx1ZSA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgb3B0aW9uLnNlbGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNlbC5hcHBlbmRDaGlsZChvcHRpb24pO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNlbC5kYXRhc2V0LmRlZmF1bHQgPSBzZWwuZGF0YXNldC5kZWZhdWx0IHx8IHNlbC5vcHRpb25zWzBdPy52YWx1ZSB8fCAnJztcbiAgICAgICAgICBpZiAoIW5vcm1hbGl6ZWRWYWx1ZSAmJiBzZWwuZGF0YXNldC5kZWZhdWx0KSB7XG4gICAgICAgICAgICBzZWwudmFsdWUgPSBzZWwuZGF0YXNldC5kZWZhdWx0O1xuICAgICAgICAgIH1cbiAgICAgICAgICBzdHlsZVNlbGVjdE9wdGlvbnMoc2VsKTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBzZXRUaGVtZUZlZWRiYWNrID0gKG1lc3NhZ2UsIHRvbmUgPSAnbXV0ZWQnKSA9PiB7XG4gICAgICAgIGlmICghdGhlbWVGZWVkYmFjaykgcmV0dXJuO1xuICAgICAgICBjb25zdCBjb2xvciA9XG4gICAgICAgICAgdG9uZSA9PT0gJ3N1Y2Nlc3MnXG4gICAgICAgICAgICA/ICd0ZXh0LWVtZXJhbGQtNjAwJ1xuICAgICAgICAgICAgOiB0b25lID09PSAnZXJyb3InXG4gICAgICAgICAgICAgID8gJ3RleHQtcm9zZS02MDAnXG4gICAgICAgICAgICAgIDogJ3RleHQtc2xhdGUtNTAwJztcbiAgICAgICAgdGhlbWVGZWVkYmFjay50ZXh0Q29udGVudCA9IG1lc3NhZ2UgfHwgJyc7XG4gICAgICAgIHRoZW1lRmVlZGJhY2suY2xhc3NOYW1lID0gYHRleHQtc20gJHtjb2xvcn1gO1xuICAgICAgfTtcblxuICAgICAgY29uc3Qgc3luY1ByZXZpZXcgPSAoKSA9PiB7XG4gICAgICAgIGlmICghcHJldmlldykgcmV0dXJuO1xuICAgICAgICBjb25zdCB0b2tlblRvSGV4ID0gKHRva2VuKSA9PiB7XG4gICAgICAgICAgaWYgKCF0b2tlbikgcmV0dXJuIG51bGw7XG4gICAgICAgICAgLy8gR1x1MDBFOXJlciBsZXMgY2FzIHNwXHUwMEU5Y2lhdXggd2hpdGUsIGJsYWNrLCB0cmFuc3BhcmVudFxuICAgICAgICAgIGlmICh0b2tlbiA9PT0gJ3doaXRlJykgcmV0dXJuICcjZmZmZmZmJztcbiAgICAgICAgICBpZiAodG9rZW4gPT09ICdibGFjaycpIHJldHVybiAnIzAwMDAwMCc7XG4gICAgICAgICAgaWYgKHRva2VuID09PSAndHJhbnNwYXJlbnQnKSByZXR1cm4gJ3RyYW5zcGFyZW50JztcbiAgICAgICAgICBcbiAgICAgICAgICBjb25zdCBbaCxzXT10b2tlbi5zcGxpdCgnLScpO1xuICAgICAgICAgIGlmICghaCB8fCAhcykgcmV0dXJuIG51bGw7IC8vIEZvcm1hdCBpbnZhbGlkZVxuICAgICAgICAgIFxuICAgICAgICAgIGNvbnN0IG1hcCA9IHtcbiAgICAgICAgICAgIHNsYXRlOicjZTJlOGYwJyxncmF5OicjZDFkNWRiJyx6aW5jOicjZDRkNGQ4JyxuZXV0cmFsOicjZDRkNGQ0JyxzdG9uZTonI2Q2ZDNkMScsXG4gICAgICAgICAgICByZWQ6JyNlZjQ0NDQnLG9yYW5nZTonI2Y5NzMxNicsYW1iZXI6JyNmNTllMGInLHllbGxvdzonI2VhYjMwOCcsbGltZTonIzg0Y2MxNicsXG4gICAgICAgICAgICBncmVlbjonIzIyYzU1ZScsZW1lcmFsZDonIzEwYjk4MScsdGVhbDonIzE0YjhhNicsY3lhbjonIzA2YjZkNCcsc2t5OicjMGVhNWU5JyxcbiAgICAgICAgICAgIGJsdWU6JyMzYjgyZjYnLGluZGlnbzonIzYzNjZmMScsdmlvbGV0OicjOGI1Y2Y2JyxwdXJwbGU6JyNhODU1ZjcnLGZ1Y2hzaWE6JyNkOTQ2ZWYnLFxuICAgICAgICAgICAgcGluazonI2VjNDg5OScscm9zZTonI2Y0M2Y1ZSdcbiAgICAgICAgICB9O1xuICAgICAgICAgIGNvbnN0IGJhc2U9bWFwW2hdO1xuICAgICAgICAgIGlmICghYmFzZSkgcmV0dXJuIG51bGw7XG4gICAgICAgICAgLy8gcm91Z2ggc2hhZGUgdHdlYWsgdXNpbmcgb3BhY2l0eTsgbm90IGV4YWN0IFRhaWx3aW5kIHBhbGV0dGUgYnV0IHByZXZpZXctZnJpZW5kbHlcbiAgICAgICAgICBjb25zdCBzaGFkZU51bT1OdW1iZXIocyl8fDUwMDtcbiAgICAgICAgICBjb25zdCBmYWN0b3IgPSBNYXRoLm1pbihNYXRoLm1heCgoc2hhZGVOdW0tNTApLzkwMCwwKSwxKTtcbiAgICAgICAgICBjb25zdCB0b1JnYj0oaGV4KT0+aGV4Lm1hdGNoKC9bQS1GYS1mMC05XXsyfS9nKS5tYXAoKHYpPT5wYXJzZUludCh2LDE2KSk7XG4gICAgICAgICAgY29uc3QgW3IsZyxiXT10b1JnYihiYXNlLnJlcGxhY2UoJyMnLCcnKSk7XG4gICAgICAgICAgY29uc3QgbWl4PSh2KT0+TWF0aC5yb3VuZCgyNTUgLSAoMjU1IC0gdikqZmFjdG9yKTtcbiAgICAgICAgICByZXR1cm4gYHJnYigke21peChyKX0sICR7bWl4KGcpfSwgJHttaXgoYil9KWA7XG4gICAgICAgIH07XG4gICAgICAgIHByZXZpZXcuc3R5bGUuc2V0UHJvcGVydHkoJy0tY29sb3ItcHJpbWFyeScsIHRhaWx3aW5kVG9rZW5Ub0hleChjb2xvclNlbGVjdHMucHJpbWFyeT8udmFsdWUpIHx8ICcjOUM2QkZGJyk7XG4gICAgICAgIHByZXZpZXcuc3R5bGUuc2V0UHJvcGVydHkoJy0tY29sb3Itc2Vjb25kYXJ5JywgdGFpbHdpbmRUb2tlblRvSGV4KGNvbG9yU2VsZWN0cy5zZWNvbmRhcnk/LnZhbHVlKSB8fCAnIzBFQTVFOScpO1xuICAgICAgICBwcmV2aWV3LnN0eWxlLnNldFByb3BlcnR5KCctLWNvbG9yLWFjY2VudCcsIHRhaWx3aW5kVG9rZW5Ub0hleChjb2xvclNlbGVjdHMuYWNjZW50Py52YWx1ZSkgfHwgJyNGOTczMTYnKTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1jb2xvci1iYWNrZ3JvdW5kJywgdGFpbHdpbmRUb2tlblRvSGV4KGNvbG9yU2VsZWN0cy5iYWNrZ3JvdW5kPy52YWx1ZSkgfHwgJyNGRkZGRkYnKTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1jb2xvci10ZXh0JywgdGFpbHdpbmRUb2tlblRvSGV4KGNvbG9yU2VsZWN0cy50ZXh0Py52YWx1ZSkgfHwgJyMwRjE3MkEnKTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1mb250LWhlYWRpbmdzJywgaGVhZGluZ1NlbGVjdD8udmFsdWUgfHwgJ0ludGVyLCBzYW5zLXNlcmlmJyk7XG4gICAgICAgIHByZXZpZXcuc3R5bGUuc2V0UHJvcGVydHkoJy0tZm9udC1ib2R5JywgYm9keVNlbGVjdD8udmFsdWUgfHwgJ0ludGVyLCBzYW5zLXNlcmlmJyk7XG4gICAgICAgIHByZXZpZXcuc3R5bGUuc2V0UHJvcGVydHkoJy0tcmFkaXVzLXNtYWxsJywgcmFkaXVzU21hbGw/LnZhbHVlIHx8ICc4cHgnKTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1yYWRpdXMtbWVkaXVtJywgcmFkaXVzTWVkaXVtPy52YWx1ZSB8fCAnMTZweCcpO1xuICAgICAgICBwcmV2aWV3LnN0eWxlLnNldFByb3BlcnR5KCctLXJhZGl1cy1sYXJnZScsIHJhZGl1c0xhcmdlPy52YWx1ZSB8fCAnMjRweCcpO1xuICAgICAgICBwcmV2aWV3LnN0eWxlLmJvcmRlclJhZGl1cyA9IHJhZGl1c01lZGl1bT8udmFsdWUgfHwgJzE2cHgnO1xuICAgICAgfTtcblxuICAgICAgLy8gSW5pdGlhbGlzZXIgbGVzIHByZXZpZXdzIGRlIGNvdWxldXIgZXQgYWpvdXRlciBsZXMgbGlzdGVuZXJzXG4gICAgICBjb25zdCBzdHlsZVNlbGVjdE9wdGlvbnMgPSAoc2VsZWN0KSA9PiB7XG4gICAgICAgIGlmICghc2VsZWN0KSByZXR1cm47XG4gICAgICAgIEFycmF5LmZyb20oc2VsZWN0Lm9wdGlvbnMpLmZvckVhY2goKG9wdGlvbikgPT4ge1xuICAgICAgICAgIGNvbnN0IG9wdGlvbkNvbG9yID0gb3B0aW9uLmRhdGFzZXQ/LmNvbG9yO1xuICAgICAgICAgIGlmICghb3B0aW9uQ29sb3IpIHJldHVybjtcbiAgICAgICAgICBpZiAob3B0aW9uQ29sb3IgPT09ICd0cmFuc3BhcmVudCcpIHtcbiAgICAgICAgICAgIG9wdGlvbi5zdHlsZS5jb2xvciA9ICcjNDc1NTY5JztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb3B0aW9uLnN0eWxlLmNvbG9yID0gb3B0aW9uQ29sb3I7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHN0eWxlVGhlbWVDb2xvckNoaXAgPSAoY2hpcCwgY29sb3IpID0+IHtcbiAgICAgICAgaWYgKCFjaGlwKSByZXR1cm47XG4gICAgICAgIGlmIChjb2xvciA9PT0gJ3RyYW5zcGFyZW50Jykge1xuICAgICAgICAgIGNoaXAuc3R5bGUuYmFja2dyb3VuZCA9ICdyZXBlYXRpbmctY29uaWMtZ3JhZGllbnQoI2NjYyAwJSAyNSUsIHdoaXRlIDAlIDUwJSkgNTAlIC8gOHB4IDhweCc7XG4gICAgICAgICAgY2hpcC5zdHlsZS5ib3JkZXJDb2xvciA9ICcjY2JkNWY1JztcbiAgICAgICAgICBjaGlwLnN0eWxlLmJveFNoYWRvdyA9ICcnO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjaGlwLnN0eWxlLmJhY2tncm91bmQgPSBjb2xvcjtcbiAgICAgICAgY2hpcC5zdHlsZS5ib3JkZXJDb2xvciA9IGNvbG9yO1xuICAgICAgICBjaGlwLnN0eWxlLmJveFNoYWRvdyA9ICcwIDAgMCAxcHggcmdiYSgxNSwyMyw0MiwwLjE1KSc7XG4gICAgICB9O1xuICAgICAgY29uc3QgdXBkYXRlVGhlbWVDb2xvclByZXZpZXcgPSAoc2VsZWN0KSA9PiB7XG4gICAgICAgIGlmICghc2VsZWN0KSByZXR1cm47XG4gICAgICAgIGNvbnN0IHNlbGVjdGVkT3B0aW9uID0gc2VsZWN0Lm9wdGlvbnNbc2VsZWN0LnNlbGVjdGVkSW5kZXhdO1xuICAgICAgICBjb25zdCBjb2xvciA9IHNlbGVjdGVkT3B0aW9uPy5kYXRhc2V0Py5jb2xvciB8fCAnI2ZmZmZmZic7XG4gICAgICAgIGNvbnN0IGNvbG9yUHJldmlldyA9IHNlbGVjdC5jbG9zZXN0KCcucmVsYXRpdmUnKT8ucXVlcnlTZWxlY3RvcignW2RhdGEtY29sb3ItcHJldmlld10nKTtcbiAgICAgICAgaWYgKGNvbG9yUHJldmlldykge1xuICAgICAgICAgIGlmIChjb2xvciA9PT0gJ3RyYW5zcGFyZW50Jykge1xuICAgICAgICAgICAgY29sb3JQcmV2aWV3LnN0eWxlLmJhY2tncm91bmQgPSAncmVwZWF0aW5nLWNvbmljLWdyYWRpZW50KCNjY2MgMCUgMjUlLCB3aGl0ZSAwJSA1MCUpIDUwJSAvIDhweCA4cHgnO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb2xvclByZXZpZXcuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gY29sb3I7XG4gICAgICAgICAgICBjb2xvclByZXZpZXcuc3R5bGUuYmFja2dyb3VuZCA9ICcnO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb2xvckNoaXAgPSBzZWxlY3QuY2xvc2VzdCgnLnJlbGF0aXZlJyk/LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLWNvbG9yLWNoaXBdJyk7XG4gICAgICAgIHN0eWxlVGhlbWVDb2xvckNoaXAoY29sb3JDaGlwLCBjb2xvcik7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBpbml0Q29sb3JQcmV2aWV3cyA9ICgpID0+IHtcbiAgICAgICAgT2JqZWN0LnZhbHVlcyhjb2xvclNlbGVjdHMpLmZvckVhY2goKHNlbGVjdCkgPT4ge1xuICAgICAgICAgIGlmICghc2VsZWN0KSByZXR1cm47XG4gICAgICAgICAgc3R5bGVTZWxlY3RPcHRpb25zKHNlbGVjdCk7XG4gICAgICAgICAgdXBkYXRlVGhlbWVDb2xvclByZXZpZXcoc2VsZWN0KTtcbiAgICAgICAgICBzZWxlY3QuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4gdXBkYXRlVGhlbWVDb2xvclByZXZpZXcoc2VsZWN0KSk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcblxuICAgICAgT2JqZWN0LmtleXMoY29sb3JTZWxlY3RzKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgY29sb3JTZWxlY3RzW2tleV0/LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHN5bmNQcmV2aWV3KTtcbiAgICAgIH0pO1xuICAgICAgW2hlYWRpbmdTZWxlY3QsIGJvZHlTZWxlY3QsIHJhZGl1c1NtYWxsLCByYWRpdXNNZWRpdW0sIHJhZGl1c0xhcmdlXS5mb3JFYWNoKChlbCkgPT4ge1xuICAgICAgICBlbD8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgc3luY1ByZXZpZXcpO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGxvYWRUaGVtZSA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKCF0aGVtZUFwaSkgcmV0dXJuO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godGhlbWVBcGksIHtcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZScsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgcmV0dXJuO1xuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgY29uc3QgdGhlbWVDb2xvcnMgPSBwYXlsb2FkLmNvbG9ycyB8fCB7fTtcbiAgICAgICAgICBmaWxsQ29sb3JPcHRpb25zKHRoZW1lQ29sb3JzKTtcbiAgICAgICAgICBPYmplY3QuZW50cmllcyhjb2xvclNlbGVjdHMpLmZvckVhY2goKFtrZXksIHNlbGVjdF0pID0+IHtcbiAgICAgICAgICAgIGlmICghc2VsZWN0KSByZXR1cm47XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHRoZW1lQ29sb3JzW2tleV07XG4gICAgICAgICAgICBjb25zdCBub3JtYWxpemVkVmFsdWUgPSBub3JtYWxpemVTZWxlY3RDb2xvcih2YWx1ZSk7XG4gICAgICAgICAgICBpZiAobm9ybWFsaXplZFZhbHVlKSB7XG4gICAgICAgICAgICAgIGVuc3VyZUN1c3RvbVRoZW1lT3B0aW9uKHNlbGVjdCwgbm9ybWFsaXplZFZhbHVlKTtcbiAgICAgICAgICAgICAgc2VsZWN0LnZhbHVlID0gbm9ybWFsaXplZFZhbHVlO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICBlbnN1cmVDdXN0b21UaGVtZU9wdGlvbihzZWxlY3QsIHZhbHVlKTtcbiAgICAgICAgICAgICAgc2VsZWN0LnZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHNlbGVjdC5kYXRhc2V0LmRlZmF1bHQpIHtcbiAgICAgICAgICAgICAgc2VsZWN0LnZhbHVlID0gc2VsZWN0LmRhdGFzZXQuZGVmYXVsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHVwZGF0ZVRoZW1lQ29sb3JQcmV2aWV3KHNlbGVjdCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaWYgKGhlYWRpbmdTZWxlY3QpIGhlYWRpbmdTZWxlY3QudmFsdWUgPSBwYXlsb2FkLnR5cG9ncmFwaHk/LmhlYWRpbmdzIHx8ICdJbnRlciwgc2Fucy1zZXJpZic7XG4gICAgICAgICAgaWYgKGJvZHlTZWxlY3QpIGJvZHlTZWxlY3QudmFsdWUgPSBwYXlsb2FkLnR5cG9ncmFwaHk/LmJvZHkgfHwgJ0ludGVyLCBzYW5zLXNlcmlmJztcbiAgICAgICAgICBpZiAocmFkaXVzU21hbGwpIHJhZGl1c1NtYWxsLnZhbHVlID0gcGF5bG9hZC5yYWRpdXM/LnNtYWxsIHx8ICc4cHgnO1xuICAgICAgICAgIGlmIChyYWRpdXNNZWRpdW0pIHJhZGl1c01lZGl1bS52YWx1ZSA9IHBheWxvYWQucmFkaXVzPy5tZWRpdW0gfHwgJzE2cHgnO1xuICAgICAgICAgIGlmIChyYWRpdXNMYXJnZSkgcmFkaXVzTGFyZ2UudmFsdWUgPSBwYXlsb2FkLnJhZGl1cz8ubGFyZ2UgfHwgJzI0cHgnO1xuICAgICAgICAgIHN5bmNQcmV2aWV3KCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gbG9hZCB0aGVtZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBhcHBseUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKCF0aGVtZUFwaSkge1xuICAgICAgICAgIHNldFRoZW1lRmVlZGJhY2soJ0F1Y3VuIHNpdGUgYWN0aWYuJywgJ2Vycm9yJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgICAgY29sb3JzOiB7XG4gICAgICAgICAgICBwcmltYXJ5OiBjb2xvclNlbGVjdHMucHJpbWFyeT8udmFsdWUgfHwgJ3Zpb2xldC01MDAnLFxuICAgICAgICAgICAgc2Vjb25kYXJ5OiBjb2xvclNlbGVjdHMuc2Vjb25kYXJ5Py52YWx1ZSB8fCAnaW5kaWdvLTQwMCcsXG4gICAgICAgICAgICBhY2NlbnQ6IGNvbG9yU2VsZWN0cy5hY2NlbnQ/LnZhbHVlIHx8ICdlbWVyYWxkLTUwMCcsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiBjb2xvclNlbGVjdHMuYmFja2dyb3VuZD8udmFsdWUgfHwgJ3NsYXRlLTUwJyxcbiAgICAgICAgICAgIHRleHQ6IGNvbG9yU2VsZWN0cy50ZXh0Py52YWx1ZSB8fCAnc2xhdGUtOTAwJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHR5cG9ncmFwaHk6IHtcbiAgICAgICAgICAgIGhlYWRpbmdzOiBoZWFkaW5nU2VsZWN0Py52YWx1ZSB8fCAnSW50ZXIsIHNhbnMtc2VyaWYnLFxuICAgICAgICAgICAgYm9keTogYm9keVNlbGVjdD8udmFsdWUgfHwgJ0ludGVyLCBzYW5zLXNlcmlmJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHJhZGl1czoge1xuICAgICAgICAgICAgc21hbGw6IHJhZGl1c1NtYWxsPy52YWx1ZSB8fCAnOHB4JyxcbiAgICAgICAgICAgIG1lZGl1bTogcmFkaXVzTWVkaXVtPy52YWx1ZSB8fCAnMTZweCcsXG4gICAgICAgICAgICBsYXJnZTogcmFkaXVzTGFyZ2U/LnZhbHVlIHx8ICcyNHB4JyxcbiAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgICBhcHBseUJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIHNldFRoZW1lRmVlZGJhY2soJycpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godGhlbWVBcGksIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZScsXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vayB8fCByZXN1bHQuc3VjY2VzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQubWVzc2FnZSB8fCAnQXBwbGljYXRpb24gZHUgdGhcdTAwRThtZSBcdTAwRTljaG91XHUwMEU5ZS4nKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYXdhaXQgbG9hZFRoZW1lKCk7XG4gICAgICAgICAgc2V0VGhlbWVGZWVkYmFjayhyZXN1bHQubWVzc2FnZSB8fCAnVGhcdTAwRThtZSBhcHBsaXF1XHUwMEU5LicsICdzdWNjZXNzJyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gYXBwbHkgdGhlbWUgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgICBzZXRUaGVtZUZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsXHUyMDE5YXBwbGljYXRpb24gZHUgdGhcdTAwRThtZS4nLCAnZXJyb3InKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBhcHBseUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgZmlsbENvbG9yT3B0aW9ucygpO1xuICAgICAgaW5pdENvbG9yUHJldmlld3MoKTtcbiAgICAgIGxvYWRUaGVtZSgpO1xuICAgICAgc3luY1ByZXZpZXcoKTtcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2FpLXRoZW1lLXVwZGF0ZWQnLCAoKSA9PiB7XG4gICAgICAgIGxvYWRUaGVtZSgpO1xuICAgICAgICBzZXRUaGVtZUZlZWRiYWNrKCdUaFx1MDBFOG1lIG1pcyBcdTAwRTAgam91ci4nLCAnc3VjY2VzcycpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gU0VPIENvbmZpZyBmb3JtIChVUzkuQjEpXG4gICAgY29uc3Qgc2VvQ29uZmlnRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby1jb25maWctZm9ybV0nKTtcbiAgICBpZiAoc2VvQ29uZmlnRm9ybSkge1xuICAgICAgY29uc3QgaW5kZXhBbGxDaGVja2JveCA9IHNlb0NvbmZpZ0Zvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtc2VvLWluZGV4LWFsbF0nKTtcbiAgICAgIGNvbnN0IHNlb0NvbmZpZ0ZlZWRiYWNrID0gc2VvQ29uZmlnRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8tY29uZmlnLWZlZWRiYWNrXScpO1xuICAgICAgY29uc3Qgc2VvU2F2ZUJ1dHRvbiA9IHNlb0NvbmZpZ0Zvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtc2VvLXNhdmVdJyk7XG5cbiAgICAgIGNvbnN0IHNhZmVTaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKFxuICAgICAgICB3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnLFxuICAgICAgKTtcbiAgICAgIGNvbnN0IHNpdGVDb25maWdBcGkgPSBzYWZlU2l0ZVNsdWdcbiAgICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9jb25maWcvc2l0ZWBcbiAgICAgICAgOiBudWxsO1xuXG4gICAgICBjb25zdCBzZXRTZW9GZWVkYmFjayA9IChtZXNzYWdlLCB0b25lID0gJ211dGVkJykgPT4ge1xuICAgICAgICBpZiAoIXNlb0NvbmZpZ0ZlZWRiYWNrKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGNvbG9yID1cbiAgICAgICAgICB0b25lID09PSAnc3VjY2VzcydcbiAgICAgICAgICAgID8gJ3RleHQtZW1lcmFsZC02MDAnXG4gICAgICAgICAgICA6IHRvbmUgPT09ICdlcnJvcidcbiAgICAgICAgICAgICAgPyAndGV4dC1yb3NlLTYwMCdcbiAgICAgICAgICAgICAgOiAndGV4dC1zbGF0ZS01MDAnO1xuICAgICAgICBzZW9Db25maWdGZWVkYmFjay50ZXh0Q29udGVudCA9IG1lc3NhZ2UgfHwgJyc7XG4gICAgICAgIHNlb0NvbmZpZ0ZlZWRiYWNrLmNsYXNzTmFtZSA9IGB0ZXh0LXNtICR7Y29sb3J9YDtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGxvYWRTZW9Db25maWcgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIGlmICghc2l0ZUNvbmZpZ0FwaSkgcmV0dXJuO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goc2l0ZUNvbmZpZ0FwaSwgeyBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgcmV0dXJuO1xuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgY29uc3QgaW5kZXhBbGwgPSBwYXlsb2FkLnNlbz8uaW5kZXhBbGxQYWdlc0J5RGVmYXVsdCAhPT0gZmFsc2U7XG4gICAgICAgICAgaWYgKGluZGV4QWxsQ2hlY2tib3gpIGluZGV4QWxsQ2hlY2tib3guY2hlY2tlZCA9IGluZGV4QWxsO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIGxvYWQgc2VvIGNvbmZpZyBmYWlsZWQnLCBlcnIpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBzZW9Db25maWdGb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAoIXNpdGVDb25maWdBcGkpIHtcbiAgICAgICAgICBzZXRTZW9GZWVkYmFjaygnQXVjdW4gc2l0ZSBhY3RpZi4nLCAnZXJyb3InKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc2VvU2F2ZUJ1dHRvbiAmJiAoc2VvU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWUpO1xuICAgICAgICBzZXRTZW9GZWVkYmFjaygnJyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gRmlyc3QgbG9hZCBjdXJyZW50IGNvbmZpZyB0byBwcmVzZXJ2ZSBvdGhlciBmaWVsZHNcbiAgICAgICAgICBjb25zdCBjdXJyZW50UmVzID0gYXdhaXQgZmV0Y2goc2l0ZUNvbmZpZ0FwaSwgeyBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSk7XG4gICAgICAgICAgY29uc3QgY3VycmVudENvbmZpZyA9IGN1cnJlbnRSZXMub2sgPyBhd2FpdCBjdXJyZW50UmVzLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKSA6IHt9O1xuXG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgICAgIC4uLmN1cnJlbnRDb25maWcsXG4gICAgICAgICAgICBzZW86IHtcbiAgICAgICAgICAgICAgLi4uKGN1cnJlbnRDb25maWcuc2VvIHx8IHt9KSxcbiAgICAgICAgICAgICAgaW5kZXhBbGxQYWdlc0J5RGVmYXVsdDogaW5kZXhBbGxDaGVja2JveD8uY2hlY2tlZCA/PyB0cnVlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9O1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goc2l0ZUNvbmZpZ0FwaSwge1xuICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2sgfHwgcmVzdWx0LnN1Y2Nlc3MgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzdWx0Lm1lc3NhZ2UgfHwgJ1NhdXZlZ2FyZGUgaW1wb3NzaWJsZS4nKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0U2VvRmVlZGJhY2socmVzdWx0Lm1lc3NhZ2UgfHwgJ1BhcmFtXHUwMEU4dHJlcyBTRU8gZW5yZWdpc3RyXHUwMEU5cy4nLCAnc3VjY2VzcycpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIHNhdmUgc2VvIGNvbmZpZyBmYWlsZWQnLCBlcnIpO1xuICAgICAgICAgIHNldFNlb0ZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsYSBzYXV2ZWdhcmRlLicsICdlcnJvcicpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIHNlb1NhdmVCdXR0b24gJiYgKHNlb1NhdmVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBsb2FkU2VvQ29uZmlnKCk7XG4gICAgfVxuXG4gICAgLy8gQW5hbHl0aWNzIGZvcm0gKFVTOS5CMilcbiAgICBjb25zdCBhbmFseXRpY3NGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYW5hbHl0aWNzLWZvcm1dJyk7XG4gICAgaWYgKGFuYWx5dGljc0Zvcm0pIHtcbiAgICAgIGNvbnN0IGhlYWRUZXh0YXJlYSA9IGFuYWx5dGljc0Zvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYW5hbHl0aWNzLWhlYWRdJyk7XG4gICAgICBjb25zdCBib2R5VGV4dGFyZWEgPSBhbmFseXRpY3NGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFuYWx5dGljcy1ib2R5XScpO1xuICAgICAgY29uc3QgYW5hbHl0aWNzRmVlZGJhY2sgPSBhbmFseXRpY3NGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFuYWx5dGljcy1mZWVkYmFja10nKTtcbiAgICAgIGNvbnN0IGFuYWx5dGljc1NhdmVCdXR0b24gPSBhbmFseXRpY3NGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFuYWx5dGljcy1zYXZlXScpO1xuXG4gICAgICBjb25zdCBzYWZlU2l0ZVNsdWcgPSBzdHJpcExlYWRpbmdTbGFzaChcbiAgICAgICAgd29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyxcbiAgICAgICk7XG4gICAgICBjb25zdCBzaXRlQ29uZmlnQXBpID0gc2FmZVNpdGVTbHVnXG4gICAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnKX0vY29uZmlnL3NpdGVgXG4gICAgICAgIDogbnVsbDtcblxuICAgICAgY29uc3Qgc2V0QW5hbHl0aWNzRmVlZGJhY2sgPSAobWVzc2FnZSwgdG9uZSA9ICdtdXRlZCcpID0+IHtcbiAgICAgICAgaWYgKCFhbmFseXRpY3NGZWVkYmFjaykgcmV0dXJuO1xuICAgICAgICBjb25zdCBjb2xvciA9XG4gICAgICAgICAgdG9uZSA9PT0gJ3N1Y2Nlc3MnXG4gICAgICAgICAgICA/ICd0ZXh0LWVtZXJhbGQtNjAwJ1xuICAgICAgICAgICAgOiB0b25lID09PSAnZXJyb3InXG4gICAgICAgICAgICAgID8gJ3RleHQtcm9zZS02MDAnXG4gICAgICAgICAgICAgIDogJ3RleHQtc2xhdGUtNTAwJztcbiAgICAgICAgYW5hbHl0aWNzRmVlZGJhY2sudGV4dENvbnRlbnQgPSBtZXNzYWdlIHx8ICcnO1xuICAgICAgICBhbmFseXRpY3NGZWVkYmFjay5jbGFzc05hbWUgPSBgdGV4dC1zbSAke2NvbG9yfWA7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBsb2FkQW5hbHl0aWNzQ29uZmlnID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoIXNpdGVDb25maWdBcGkpIHJldHVybjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHNpdGVDb25maWdBcGksIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHJldHVybjtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIGlmIChoZWFkVGV4dGFyZWEpIGhlYWRUZXh0YXJlYS52YWx1ZSA9IHBheWxvYWQuYW5hbHl0aWNzPy5oZWFkQ29kZSB8fCAnJztcbiAgICAgICAgICBpZiAoYm9keVRleHRhcmVhKSBib2R5VGV4dGFyZWEudmFsdWUgPSBwYXlsb2FkLmFuYWx5dGljcz8uYm9keUVuZENvZGUgfHwgJyc7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gbG9hZCBhbmFseXRpY3MgY29uZmlnIGZhaWxlZCcsIGVycik7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGFuYWx5dGljc0Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmICghc2l0ZUNvbmZpZ0FwaSkge1xuICAgICAgICAgIHNldEFuYWx5dGljc0ZlZWRiYWNrKCdBdWN1biBzaXRlIGFjdGlmLicsICdlcnJvcicpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBhbmFseXRpY3NTYXZlQnV0dG9uICYmIChhbmFseXRpY3NTYXZlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZSk7XG4gICAgICAgIHNldEFuYWx5dGljc0ZlZWRiYWNrKCcnKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBGaXJzdCBsb2FkIGN1cnJlbnQgY29uZmlnIHRvIHByZXNlcnZlIG90aGVyIGZpZWxkc1xuICAgICAgICAgIGNvbnN0IGN1cnJlbnRSZXMgPSBhd2FpdCBmZXRjaChzaXRlQ29uZmlnQXBpLCB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcbiAgICAgICAgICBjb25zdCBjdXJyZW50Q29uZmlnID0gY3VycmVudFJlcy5vayA/IGF3YWl0IGN1cnJlbnRSZXMuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpIDoge307XG5cbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICAgICAgLi4uY3VycmVudENvbmZpZyxcbiAgICAgICAgICAgIGFuYWx5dGljczoge1xuICAgICAgICAgICAgICBoZWFkQ29kZTogaGVhZFRleHRhcmVhPy52YWx1ZSB8fCAnJyxcbiAgICAgICAgICAgICAgYm9keUVuZENvZGU6IGJvZHlUZXh0YXJlYT8udmFsdWUgfHwgJycsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH07XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChzaXRlQ29uZmlnQXBpLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vayB8fCByZXN1bHQuc3VjY2VzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQubWVzc2FnZSB8fCAnU2F1dmVnYXJkZSBpbXBvc3NpYmxlLicpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXRBbmFseXRpY3NGZWVkYmFjayhyZXN1bHQubWVzc2FnZSB8fCAnU2NyaXB0cyBlbnJlZ2lzdHJcdTAwRTlzLicsICdzdWNjZXNzJyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gc2F2ZSBhbmFseXRpY3MgY29uZmlnIGZhaWxlZCcsIGVycik7XG4gICAgICAgICAgc2V0QW5hbHl0aWNzRmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGRlIGxhIHNhdXZlZ2FyZGUuJywgJ2Vycm9yJyk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgYW5hbHl0aWNzU2F2ZUJ1dHRvbiAmJiAoYW5hbHl0aWNzU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGxvYWRBbmFseXRpY3NDb25maWcoKTtcbiAgICB9XG5cbiAgICBjb25zdCBhY2Nlc3NpYmlsaXR5Rm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFjY2Vzc2liaWxpdHktZm9ybV0nKTtcbiAgICBpZiAoYWNjZXNzaWJpbGl0eUZvcm0pIHtcbiAgICAgIGNvbnN0IGFuaW1hdGlvbnNUb2dnbGUgPSBhY2Nlc3NpYmlsaXR5Rm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hY2Nlc3NpYmlsaXR5LWFuaW1hdGlvbnNdJyk7XG4gICAgICBjb25zdCBjb250cmFzdFRvZ2dsZSA9IGFjY2Vzc2liaWxpdHlGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFjY2Vzc2liaWxpdHktY29udHJhc3RdJyk7XG4gICAgICBjb25zdCBhY2Nlc3NpYmlsaXR5RmVlZGJhY2sgPSBhY2Nlc3NpYmlsaXR5Rm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hY2Nlc3NpYmlsaXR5LWZlZWRiYWNrXScpO1xuICAgICAgY29uc3QgYWNjZXNzaWJpbGl0eVNhdmVCdXR0b24gPSBhY2Nlc3NpYmlsaXR5Rm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hY2Nlc3NpYmlsaXR5LXNhdmVdJyk7XG5cbiAgICAgIGNvbnN0IHNhZmVTaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKFxuICAgICAgICB3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnLFxuICAgICAgKTtcbiAgICAgIGNvbnN0IHNpdGVDb25maWdBcGkgPSBzYWZlU2l0ZVNsdWdcbiAgICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9jb25maWcvc2l0ZWBcbiAgICAgICAgOiBudWxsO1xuXG4gICAgICBjb25zdCBzZXRBY2Nlc3NpYmlsaXR5RmVlZGJhY2sgPSAobWVzc2FnZSwgdG9uZSA9ICdtdXRlZCcpID0+IHtcbiAgICAgICAgaWYgKCFhY2Nlc3NpYmlsaXR5RmVlZGJhY2spIHJldHVybjtcbiAgICAgICAgY29uc3QgY29sb3IgPVxuICAgICAgICAgIHRvbmUgPT09ICdzdWNjZXNzJ1xuICAgICAgICAgICAgPyAndGV4dC1lbWVyYWxkLTYwMCdcbiAgICAgICAgICAgIDogdG9uZSA9PT0gJ2Vycm9yJ1xuICAgICAgICAgICAgICA/ICd0ZXh0LXJvc2UtNjAwJ1xuICAgICAgICAgICAgICA6ICd0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICAgIGFjY2Vzc2liaWxpdHlGZWVkYmFjay50ZXh0Q29udGVudCA9IG1lc3NhZ2UgfHwgJyc7XG4gICAgICAgIGFjY2Vzc2liaWxpdHlGZWVkYmFjay5jbGFzc05hbWUgPSBgdGV4dC1zbSAke2NvbG9yfWA7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBsb2FkQWNjZXNzaWJpbGl0eUNvbmZpZyA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKCFzaXRlQ29uZmlnQXBpKSByZXR1cm47XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChzaXRlQ29uZmlnQXBpLCB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSByZXR1cm47XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICBpZiAoYW5pbWF0aW9uc1RvZ2dsZSkge1xuICAgICAgICAgICAgYW5pbWF0aW9uc1RvZ2dsZS5jaGVja2VkID0gcGF5bG9hZC5hY2Nlc3NpYmlsaXR5Py5hbmltYXRpb25zRW5hYmxlZCAhPT0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChjb250cmFzdFRvZ2dsZSkge1xuICAgICAgICAgICAgY29udHJhc3RUb2dnbGUuY2hlY2tlZCA9IHBheWxvYWQuYWNjZXNzaWJpbGl0eT8uaGlnaENvbnRyYXN0ID09PSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3NldHRpbmdzXSBsb2FkIGFjY2Vzc2liaWxpdHkgY29uZmlnIGZhaWxlZCcsIGVycik7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGFjY2Vzc2liaWxpdHlGb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAoIXNpdGVDb25maWdBcGkpIHtcbiAgICAgICAgICBzZXRBY2Nlc3NpYmlsaXR5RmVlZGJhY2soJ0F1Y3VuIHNpdGUgYWN0aWYuJywgJ2Vycm9yJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGFjY2Vzc2liaWxpdHlTYXZlQnV0dG9uICYmIChhY2Nlc3NpYmlsaXR5U2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWUpO1xuICAgICAgICBzZXRBY2Nlc3NpYmlsaXR5RmVlZGJhY2soJycpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IGN1cnJlbnRSZXMgPSBhd2FpdCBmZXRjaChzaXRlQ29uZmlnQXBpLCB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcbiAgICAgICAgICBjb25zdCBjdXJyZW50Q29uZmlnID0gY3VycmVudFJlcy5vayA/IGF3YWl0IGN1cnJlbnRSZXMuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpIDoge307XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgICAgIC4uLmN1cnJlbnRDb25maWcsXG4gICAgICAgICAgICBhY2Nlc3NpYmlsaXR5OiB7XG4gICAgICAgICAgICAgIGFuaW1hdGlvbnNFbmFibGVkOiBhbmltYXRpb25zVG9nZ2xlPy5jaGVja2VkID8/IHRydWUsXG4gICAgICAgICAgICAgIGhpZ2hDb250cmFzdDogY29udHJhc3RUb2dnbGU/LmNoZWNrZWQgPz8gZmFsc2UsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH07XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChzaXRlQ29uZmlnQXBpLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vayB8fCByZXN1bHQuc3VjY2VzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQubWVzc2FnZSB8fCAnU2F1dmVnYXJkZSBpbXBvc3NpYmxlLicpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXRBY2Nlc3NpYmlsaXR5RmVlZGJhY2socmVzdWx0Lm1lc3NhZ2UgfHwgJ1ByXHUwMEU5Zlx1MDBFOXJlbmNlcyBtaXNlcyBcdTAwRTAgam91ci4nLCAnc3VjY2VzcycpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIHNhdmUgYWNjZXNzaWJpbGl0eSBjb25maWcgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgICBzZXRBY2Nlc3NpYmlsaXR5RmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGRlIGxhIHNhdXZlZ2FyZGUuJywgJ2Vycm9yJyk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgYWNjZXNzaWJpbGl0eVNhdmVCdXR0b24gJiYgKGFjY2Vzc2liaWxpdHlTYXZlQnV0dG9uLmRpc2FibGVkID0gZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgbG9hZEFjY2Vzc2liaWxpdHlDb25maWcoKTtcbiAgICB9XG5cbiAgICAvLyBBSSBDb25maWcgZm9ybSAoVVMgLSBBSSBBc3Npc3RhbnQpXG4gICAgY29uc3QgYWlDb25maWdGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWktY29uZmlnLWZvcm1dJyk7XG4gICAgaWYgKGFpQ29uZmlnRm9ybSkge1xuICAgICAgY29uc3QgYXBpS2V5SW5wdXQgPSBhaUNvbmZpZ0Zvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYWktYXBpLWtleV0nKTtcbiAgICAgIGNvbnN0IG1vZGVsU2VsZWN0ID0gYWlDb25maWdGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFpLW1vZGVsXScpO1xuICAgICAgY29uc3QgcHJvamVjdFByb21wdFRleHRhcmVhID0gYWlDb25maWdGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFpLXByb2plY3QtcHJvbXB0XScpO1xuICAgICAgY29uc3QgZW5hYmxlZENoZWNrYm94ID0gYWlDb25maWdGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFpLWVuYWJsZWRdJyk7XG4gICAgICBjb25zdCBhaUZlZWRiYWNrID0gYWlDb25maWdGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFpLWZlZWRiYWNrXScpO1xuICAgICAgY29uc3QgYWlTYXZlQnV0dG9uID0gYWlDb25maWdGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFpLXNhdmVdJyk7XG5cbiAgICAgIGNvbnN0IHNhZmVTaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKFxuICAgICAgICB3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnLFxuICAgICAgKTtcbiAgICAgIGNvbnN0IGFpQ29uZmlnQXBpID0gc2FmZVNpdGVTbHVnXG4gICAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnKX0vY29uZmlnL2FpYFxuICAgICAgICA6IG51bGw7XG5cbiAgICAgIGNvbnN0IHNldEFJRmVlZGJhY2sgPSAobWVzc2FnZSwgdG9uZSA9ICdtdXRlZCcpID0+IHtcbiAgICAgICAgaWYgKCFhaUZlZWRiYWNrKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGNvbG9yID1cbiAgICAgICAgICB0b25lID09PSAnc3VjY2VzcydcbiAgICAgICAgICAgID8gJ3RleHQtZW1lcmFsZC02MDAnXG4gICAgICAgICAgICA6IHRvbmUgPT09ICdlcnJvcidcbiAgICAgICAgICAgICAgPyAndGV4dC1yb3NlLTYwMCdcbiAgICAgICAgICAgICAgOiAndGV4dC1zbGF0ZS01MDAnO1xuICAgICAgICBhaUZlZWRiYWNrLnRleHRDb250ZW50ID0gbWVzc2FnZSB8fCAnJztcbiAgICAgICAgYWlGZWVkYmFjay5jbGFzc05hbWUgPSBgdGV4dC1zbSAke2NvbG9yfWA7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBsb2FkQUlDb25maWcgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIGlmICghYWlDb25maWdBcGkpIHJldHVybjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGFpQ29uZmlnQXBpLCB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSByZXR1cm47XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICAvLyBBUEkga2V5IGlzIG1hc2tlZCwgd2Ugc2hvdyBwbGFjZWhvbGRlciBpZiBpdCBleGlzdHNcbiAgICAgICAgICBpZiAoYXBpS2V5SW5wdXQpIHtcbiAgICAgICAgICAgIGFwaUtleUlucHV0LnZhbHVlID0gJyc7XG4gICAgICAgICAgICBhcGlLZXlJbnB1dC5wbGFjZWhvbGRlciA9IHBheWxvYWQuaGFzQXBpS2V5ID8gJ1x1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMicgOiAnQ2xcdTAwRTkgQVBJIEdlbWluaSc7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChtb2RlbFNlbGVjdCkgbW9kZWxTZWxlY3QudmFsdWUgPSBwYXlsb2FkLm1vZGVsIHx8ICdnZW1pbmktMi41LWZsYXNoJztcbiAgICAgICAgICBpZiAocHJvamVjdFByb21wdFRleHRhcmVhKSBwcm9qZWN0UHJvbXB0VGV4dGFyZWEudmFsdWUgPSBwYXlsb2FkLnByb2plY3RQcm9tcHQgfHwgJyc7XG4gICAgICAgICAgaWYgKGVuYWJsZWRDaGVja2JveCkgZW5hYmxlZENoZWNrYm94LmNoZWNrZWQgPSBwYXlsb2FkLmVuYWJsZWQgIT09IGZhbHNlO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIGxvYWQgQUkgY29uZmlnIGZhaWxlZCcsIGVycik7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGFpQ29uZmlnRm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKCFhaUNvbmZpZ0FwaSkge1xuICAgICAgICAgIHNldEFJRmVlZGJhY2soJ0F1Y3VuIHNpdGUgYWN0aWYuJywgJ2Vycm9yJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGFpU2F2ZUJ1dHRvbiAmJiAoYWlTYXZlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZSk7XG4gICAgICAgIHNldEFJRmVlZGJhY2soJycpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgICAgICBtb2RlbDogbW9kZWxTZWxlY3Q/LnZhbHVlIHx8ICdnZW1pbmktMi41LWZsYXNoJyxcbiAgICAgICAgICAgIHByb2plY3RQcm9tcHQ6IHByb2plY3RQcm9tcHRUZXh0YXJlYT8udmFsdWUgfHwgJycsXG4gICAgICAgICAgICBlbmFibGVkOiBlbmFibGVkQ2hlY2tib3g/LmNoZWNrZWQgPz8gdHJ1ZSxcbiAgICAgICAgICB9O1xuICAgICAgICAgIC8vIE9ubHkgaW5jbHVkZSBhcGlLZXkgaWYgdGhlIHVzZXIgZW50ZXJlZCBvbmUgKG5vdCBlbXB0eSlcbiAgICAgICAgICBjb25zdCBhcGlLZXlWYWx1ZSA9IGFwaUtleUlucHV0Py52YWx1ZT8udHJpbSgpO1xuICAgICAgICAgIGlmIChhcGlLZXlWYWx1ZSkge1xuICAgICAgICAgICAgcGF5bG9hZC5hcGlLZXkgPSBhcGlLZXlWYWx1ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGFpQ29uZmlnQXBpLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vayB8fCByZXN1bHQuc3VjY2VzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQubWVzc2FnZSB8fCAnU2F1dmVnYXJkZSBpbXBvc3NpYmxlLicpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXRBSUZlZWRiYWNrKHJlc3VsdC5tZXNzYWdlIHx8ICdDb25maWd1cmF0aW9uIElBIGVucmVnaXN0clx1MDBFOWUuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgICAvLyBDbGVhciB0aGUgQVBJIGtleSBmaWVsZCBhZnRlciBzdWNjZXNzZnVsIHNhdmVcbiAgICAgICAgICBpZiAoYXBpS2V5SW5wdXQpIHtcbiAgICAgICAgICAgIGFwaUtleUlucHV0LnZhbHVlID0gJyc7XG4gICAgICAgICAgICBhcGlLZXlJbnB1dC5wbGFjZWhvbGRlciA9ICdcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjInO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3NldHRpbmdzXSBzYXZlIEFJIGNvbmZpZyBmYWlsZWQnLCBlcnIpO1xuICAgICAgICAgIHNldEFJRmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGRlIGxhIHNhdXZlZ2FyZGUuJywgJ2Vycm9yJyk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgYWlTYXZlQnV0dG9uICYmIChhaVNhdmVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBsb2FkQUlDb25maWcoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBpbml0TWVkaWFXb3Jrc3BhY2UoKSB7XG4gICAgY29uc3QgZ3JpZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWdyaWRdJyk7XG4gICAgaWYgKCFncmlkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGVtcHR5U3RhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1lbXB0eV0nKTtcbiAgICBjb25zdCBjb3VudEJhZGdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtY291bnRdJyk7XG4gICAgY29uc3QgZmlsdGVyVHlwZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWZpbHRlci10eXBlXScpO1xuICAgIGNvbnN0IGRldGFpbEVtcHR5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGV0YWlsLWVtcHR5XScpO1xuICAgIGNvbnN0IGRldGFpbFBhbmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGV0YWlsXScpO1xuICAgIGNvbnN0IGRldGFpbFByZXZpZXcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZXRhaWwtcHJldmlld10nKTtcbiAgICBjb25zdCBkZXRhaWxOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGV0YWlsLW5hbWVdJyk7XG4gICAgY29uc3QgZGV0YWlsVHlwZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRldGFpbC10eXBlXScpO1xuICAgIGNvbnN0IGRldGFpbFNpemUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZXRhaWwtc2l6ZV0nKTtcbiAgICBjb25zdCBkZXRhaWxQYXRoID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGV0YWlsLXBhdGhdJyk7XG4gICAgY29uc3QgZGV0YWlsVXNlZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRldGFpbC11c2VkXScpO1xuICAgIGNvbnN0IGRldGFpbEFsdElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtYWx0LWVkaXRdJyk7XG4gICAgY29uc3QgZGV0YWlsU2F2ZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLXNhdmVdJyk7XG4gICAgY29uc3QgZGV0YWlsRGVsZXRlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGVsZXRlXScpO1xuICAgIGNvbnN0IGRlbGV0ZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGVsZXRlLW1vZGFsXScpO1xuICAgIGNvbnN0IGRlbGV0ZUNhbmNlbEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRlbGV0ZS1jYW5jZWxdJyk7XG4gICAgY29uc3QgZGVsZXRlQ29uZmlybUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRlbGV0ZS1jb25maXJtXScpO1xuICAgIGNvbnN0IHVwbG9hZE9wZW5CdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS11cGxvYWQtb3Blbl0nKTtcbiAgICBjb25zdCBmaWxlSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1maWxlLWlucHV0XScpO1xuICAgIGNvbnN0IHVwbG9hZFN0YXR1cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLXVwbG9hZC1zdGF0dXNdJyk7XG5cbiAgICBjb25zdCBzYWZlU2l0ZVNsdWdWYWx1ZSA9IHN0cmlwTGVhZGluZ1NsYXNoKFxuICAgICAgd29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyxcbiAgICApO1xuICAgIGNvbnN0IG1lZGlhQXBpQmFzZSA9IHNhZmVTaXRlU2x1Z1ZhbHVlXG4gICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Z1ZhbHVlKX0vbWVkaWFgXG4gICAgICA6IG51bGw7XG5cbiAgICBsZXQgbWVkaWFJdGVtcyA9IFtdO1xuICAgIGxldCBmaWx0ZXJlZEl0ZW1zID0gW107XG4gICAgbGV0IGFjdGl2ZU1lZGlhSWQgPSBudWxsO1xuICAgIGxldCBoaWdobGlnaHRNZWRpYUlkID0gbnVsbDtcbiAgICBsZXQgcGVuZGluZ1VwbG9hZEZpbGUgPSBudWxsO1xuICAgIGxldCB1cGxvYWRJblByb2dyZXNzID0gZmFsc2U7XG4gICAgbGV0IGRldGFpbERpcnR5ID0gZmFsc2U7XG4gICAgbGV0IHVwbG9hZE1vZGUgPSBmYWxzZTtcbiAgICBsZXQgdXBsb2FkUHJldmlld1VybCA9IG51bGw7XG5cbiAgICBjb25zdCBkZXJpdmVHcm91cFR5cGUgPSAoaXRlbSkgPT4ge1xuICAgICAgY29uc3QgdHlwZSA9IChpdGVtLnR5cGUgfHwgJycpLnRvTG93ZXJDYXNlKCk7XG4gICAgICBjb25zdCBmaWxlbmFtZSA9IChpdGVtLmZpbGVuYW1lIHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgaWYgKHR5cGUuaW5jbHVkZXMoJ2ltYWdlJykgfHwgL1xcLihwbmd8anBlP2d8d2VicHxzdmd8Z2lmKSQvaS50ZXN0KGZpbGVuYW1lKSkge1xuICAgICAgICByZXR1cm4gJ2ltYWdlJztcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlLmluY2x1ZGVzKCdwZGYnKSB8fCB0eXBlLmluY2x1ZGVzKCdkb2MnKSB8fCAvXFwuKHBkZnxkb2N4PykkL2kudGVzdChmaWxlbmFtZSkpIHtcbiAgICAgICAgcmV0dXJuICdkb2N1bWVudCc7XG4gICAgICB9XG4gICAgICBpZiAodHlwZS5pbmNsdWRlcygndmlkZW8nKSB8fCAvXFwuKG1wNHxtb3Z8d2VibSkkL2kudGVzdChmaWxlbmFtZSkpIHtcbiAgICAgICAgcmV0dXJuICd2aWRlbyc7XG4gICAgICB9XG4gICAgICByZXR1cm4gJ290aGVyJztcbiAgICB9O1xuXG4gICAgY29uc3QgaXNJbWFnZVR5cGUgPSAoaXRlbSkgPT4gZGVyaXZlR3JvdXBUeXBlKGl0ZW0pID09PSAnaW1hZ2UnO1xuXG4gICAgY29uc3QgZm9ybWF0VHlwZUxhYmVsID0gKGl0ZW0pID0+IHtcbiAgICAgIGlmIChpdGVtLnR5cGUpIHtcbiAgICAgICAgcmV0dXJuIGl0ZW0udHlwZS50b1VwcGVyQ2FzZSgpO1xuICAgICAgfVxuICAgICAgY29uc3QgZXh0ID0gKGl0ZW0uZmlsZW5hbWUgfHwgJycpLnNwbGl0KCcuJykucG9wKCk7XG4gICAgICByZXR1cm4gZXh0ID8gZXh0LnRvVXBwZXJDYXNlKCkgOiAnRklMRSc7XG4gICAgfTtcblxuICAgIGNvbnN0IGZvcm1hdEZpbGVTaXplID0gKHNpemUpID0+IHtcbiAgICAgIGlmICghc2l6ZSB8fCBzaXplIDw9IDApIHtcbiAgICAgICAgcmV0dXJuICdcdTIwMTQnO1xuICAgICAgfVxuICAgICAgaWYgKHNpemUgPCAxMDI0KSB7XG4gICAgICAgIHJldHVybiBgJHtzaXplfSBvYDtcbiAgICAgIH1cbiAgICAgIGlmIChzaXplIDwgMTAyNCAqIDEwMjQpIHtcbiAgICAgICAgcmV0dXJuIGAkeyhzaXplIC8gMTAyNCkudG9GaXhlZCgxKX0ga29gO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGAkeyhzaXplIC8gKDEwMjQgKiAxMDI0KSkudG9GaXhlZCgxKX0gTW9gO1xuICAgIH07XG5cbiAgICBjb25zdCByZXNldERldGFpbFBhbmVsID0gKCkgPT4ge1xuICAgICAgZGV0YWlsUGFuZWw/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgZGV0YWlsRW1wdHk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgY2xlYXJVcGxvYWRTdGF0ZSgpO1xuICAgICAgYWN0aXZlTWVkaWFJZCA9IG51bGw7XG4gICAgICBkZXRhaWxEaXJ0eSA9IGZhbHNlO1xuICAgICAgdXBkYXRlRGV0YWlsQWN0aW9ucyhmYWxzZSk7XG4gICAgICBpZiAoZGV0YWlsUHJldmlldykge1xuICAgICAgICBkZXRhaWxQcmV2aWV3LmlubmVySFRNTCA9XG4gICAgICAgICAgJzxzcGFuIGNsYXNzPVwidGV4dC1zbGF0ZS00MDAgdGV4dC1zbVwiPkF1Y3VuIG1cdTAwRTlkaWEgc1x1MDBFOWxlY3Rpb25uXHUwMEU5PC9zcGFuPic7XG4gICAgICB9XG4gICAgICBpZiAoZGV0YWlsTmFtZSkge1xuICAgICAgICBkZXRhaWxOYW1lLnRleHRDb250ZW50ID0gJyc7XG4gICAgICB9XG4gICAgICBkZXRhaWxUeXBlICYmIChkZXRhaWxUeXBlLnRleHRDb250ZW50ID0gJycpO1xuICAgICAgZGV0YWlsU2l6ZSAmJiAoZGV0YWlsU2l6ZS50ZXh0Q29udGVudCA9ICcnKTtcbiAgICAgIGlmIChkZXRhaWxBbHRJbnB1dCkge1xuICAgICAgICBkZXRhaWxBbHRJbnB1dC52YWx1ZSA9ICcnO1xuICAgICAgfVxuICAgICAgZGV0YWlsUGF0aCAmJiAoZGV0YWlsUGF0aC50ZXh0Q29udGVudCA9ICcnKTtcbiAgICAgIGlmIChkZXRhaWxVc2VkKSB7XG4gICAgICAgIGRldGFpbFVzZWQuaW5uZXJIVE1MID0gJyc7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGNsZWFyVXBsb2FkU3RhdGUgPSAoKSA9PiB7XG4gICAgICBwZW5kaW5nVXBsb2FkRmlsZSA9IG51bGw7XG4gICAgICB1cGxvYWRNb2RlID0gZmFsc2U7XG4gICAgICB1cGxvYWRJblByb2dyZXNzID0gZmFsc2U7XG4gICAgICBpZiAodXBsb2FkUHJldmlld1VybCkge1xuICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKHVwbG9hZFByZXZpZXdVcmwpO1xuICAgICAgICB1cGxvYWRQcmV2aWV3VXJsID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIHVwbG9hZFN0YXR1cyAmJiAodXBsb2FkU3RhdHVzLnRleHRDb250ZW50ID0gJ0F1Y3VuIGZpY2hpZXIgc1x1MDBFOWxlY3Rpb25uXHUwMEU5LicpO1xuICAgICAgZmlsZUlucHV0ICYmIChmaWxlSW5wdXQudmFsdWUgPSAnJyk7XG4gICAgfTtcblxuICAgIGNvbnN0IHVwZGF0ZUNvdW50QmFkZ2UgPSAoKSA9PiB7XG4gICAgICBpZiAoIWNvdW50QmFkZ2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFmaWx0ZXJlZEl0ZW1zLmxlbmd0aCkge1xuICAgICAgICBjb3VudEJhZGdlLnRleHRDb250ZW50ID0gJzAgbVx1MDBFOWRpYSc7XG4gICAgICB9IGVsc2UgaWYgKGZpbHRlcmVkSXRlbXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGNvdW50QmFkZ2UudGV4dENvbnRlbnQgPSAnMSBtXHUwMEU5ZGlhJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvdW50QmFkZ2UudGV4dENvbnRlbnQgPSBgJHtmaWx0ZXJlZEl0ZW1zLmxlbmd0aH0gbVx1MDBFOWRpYXNgO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCByZW5kZXJHcmlkID0gKCkgPT4ge1xuICAgICAgZ3JpZC5pbm5lckhUTUwgPSAnJztcbiAgICAgIGlmICghZmlsdGVyZWRJdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgZW1wdHlTdGF0ZT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIHJlc2V0RGV0YWlsUGFuZWwoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZW1wdHlTdGF0ZT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBmaWx0ZXJlZEl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgICAgY29uc3QgY2FyZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICBjYXJkLnR5cGUgPSAnYnV0dG9uJztcbiAgICAgICAgY2FyZC5kYXRhc2V0Lm1lZGlhSWQgPSBpdGVtLmlkO1xuICAgICAgICBjb25zdCBpc0FjdGl2ZSA9IGl0ZW0uaWQgPT09IGFjdGl2ZU1lZGlhSWQ7XG4gICAgICAgIGNhcmQuY2xhc3NOYW1lID0gW1xuICAgICAgICAgICdncm91cCByZWxhdGl2ZSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtMnhsIGJvcmRlciBweC0zIHB5LTMgdGV4dC1sZWZ0IHRyYW5zaXRpb24gZm9jdXMtdmlzaWJsZTpvdXRsaW5lIGZvY3VzLXZpc2libGU6b3V0bGluZS0yIGZvY3VzLXZpc2libGU6b3V0bGluZS1vZmZzZXQtMiBmb2N1cy12aXNpYmxlOm91dGxpbmUtWyM5QzZCRkZdJyxcbiAgICAgICAgICBpc0FjdGl2ZVxuICAgICAgICAgICAgPyAnYm9yZGVyLVsjOUM2QkZGXSBiZy1bI0Y3RjBGRl0vNjAgc2hhZG93LXNtJ1xuICAgICAgICAgICAgOiAnYm9yZGVyLXNsYXRlLTIwMCBob3Zlcjpib3JkZXItWyM5QzZCRkZdLzQwJyxcbiAgICAgICAgXS5qb2luKCcgJyk7XG4gICAgICAgIGNvbnN0IHByZXZpZXcgPSBpc0ltYWdlVHlwZShpdGVtKVxuICAgICAgICAgID8gYDxpbWcgc3JjPVwiJHtpdGVtLnBhdGh9XCIgYWx0PVwiJHtpdGVtLmFsdCB8fCBpdGVtLmZpbGVuYW1lfVwiIGNsYXNzPVwiaC1mdWxsIHctZnVsbCBvYmplY3QtY292ZXJcIiAvPmBcbiAgICAgICAgICA6IGA8ZGl2IGNsYXNzPVwiZmxleCBoLWZ1bGwgdy1mdWxsIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB0ZXh0LTN4bCB0ZXh0LXNsYXRlLTQwMFwiPlx1RDgzRFx1RENDNDwvZGl2PmA7XG4gICAgICAgIGNhcmQuaW5uZXJIVE1MID0gYFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJyZWxhdGl2ZSBhc3BlY3QtWzQvM10gb3ZlcmZsb3ctaGlkZGVuIHJvdW5kZWQteGwgYmctc2xhdGUtMTAwXCI+XG4gICAgICAgICAgICAke3ByZXZpZXd9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cIm10LTIgc3BhY2UteS0xXCI+XG4gICAgICAgICAgICA8cCBjbGFzcz1cInRleHQtc20gZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTkwMCB0cnVuY2F0ZVwiPiR7aXRlbS5maWxlbmFtZX08L3A+XG4gICAgICAgICAgICA8cCBjbGFzcz1cInRleHQteHMgdGV4dC1zbGF0ZS01MDBcIj5cbiAgICAgICAgICAgICAgJHtmb3JtYXRUeXBlTGFiZWwoaXRlbSl9IFx1MDBCNyAke2Zvcm1hdEZpbGVTaXplKGl0ZW0uc2l6ZSl9XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIGA7XG4gICAgICAgIGlmIChpdGVtLmlkID09PSBoaWdobGlnaHRNZWRpYUlkKSB7XG4gICAgICAgICAgY2FyZC5jbGFzc0xpc3QuYWRkKCdyaW5nLTInLCAncmluZy1bIzlDNkJGRl0nKTtcbiAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBjYXJkLmNsYXNzTGlzdC5yZW1vdmUoJ3JpbmctMicsICdyaW5nLVsjOUM2QkZGXScpO1xuICAgICAgICAgIH0sIDE2MDApO1xuICAgICAgICB9XG4gICAgICAgIGNhcmQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBzZWxlY3RNZWRpYShpdGVtLmlkKSk7XG4gICAgICAgIGdyaWQuYXBwZW5kQ2hpbGQoY2FyZCk7XG4gICAgICB9KTtcbiAgICAgIGhpZ2hsaWdodE1lZGlhSWQgPSBudWxsO1xuICAgIH07XG5cbiAgICBjb25zdCByZW5kZXJVc2VkSW4gPSAoaXRlbSkgPT4ge1xuICAgICAgaWYgKCFkZXRhaWxVc2VkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGRldGFpbFVzZWQuaW5uZXJIVE1MID0gJyc7XG4gICAgICBpZiAoIWl0ZW0udXNlZEluIHx8IGl0ZW0udXNlZEluLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICAgIGxpLnRleHRDb250ZW50ID0gJ05vbiB1dGlsaXNcdTAwRTknO1xuICAgICAgICBsaS5jbGFzc05hbWUgPSAndGV4dC14cyB0ZXh0LXNsYXRlLTQwMCc7XG4gICAgICAgIGRldGFpbFVzZWQuYXBwZW5kQ2hpbGQobGkpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpdGVtLnVzZWRJbi5mb3JFYWNoKChlbnRyeSkgPT4ge1xuICAgICAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICAgIGxpLnRleHRDb250ZW50ID0gZW50cnk7XG4gICAgICAgIGxpLmNsYXNzTmFtZSA9ICd0ZXh0LXhzIHRleHQtc2xhdGUtNjAwJztcbiAgICAgICAgZGV0YWlsVXNlZC5hcHBlbmRDaGlsZChsaSk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgdXBkYXRlRGV0YWlsQWN0aW9ucyA9IChzYXZpbmcpID0+IHtcbiAgICAgIGlmICghZGV0YWlsU2F2ZUJ1dHRvbikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAodXBsb2FkTW9kZSkge1xuICAgICAgICBkZXRhaWxTYXZlQnV0dG9uLnRleHRDb250ZW50ID0gc2F2aW5nID8gJ1RcdTAwRTlsXHUwMEU5dmVyc2VtZW50XHUyMDI2JyA6ICdUXHUwMEU5bFx1MDBFOXZlcnNlcic7XG4gICAgICAgIGRldGFpbFNhdmVCdXR0b24uZGlzYWJsZWQgPSBzYXZpbmcgfHwgIXBlbmRpbmdVcGxvYWRGaWxlO1xuICAgICAgICBpZiAoZGV0YWlsRGVsZXRlQnV0dG9uKSB7XG4gICAgICAgICAgZGV0YWlsRGVsZXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGRldGFpbFNhdmVCdXR0b24udGV4dENvbnRlbnQgPSBzYXZpbmcgPyAnRW5yZWdpc3RyZW1lbnRcdTIwMjYnIDogJ0VucmVnaXN0cmVyJztcbiAgICAgIGRldGFpbFNhdmVCdXR0b24uZGlzYWJsZWQgPSBzYXZpbmcgfHwgIWRldGFpbERpcnR5O1xuICAgICAgaWYgKGRldGFpbERlbGV0ZUJ1dHRvbikge1xuICAgICAgICBkZXRhaWxEZWxldGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIGRldGFpbERlbGV0ZUJ1dHRvbi5kaXNhYmxlZCA9ICFhY3RpdmVNZWRpYUlkO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBzZWxlY3RNZWRpYSA9IChtZWRpYUlkKSA9PiB7XG4gICAgICBjb25zdCBpdGVtID0gbWVkaWFJdGVtcy5maW5kKChlbnRyeSkgPT4gZW50cnkuaWQgPT09IG1lZGlhSWQpO1xuICAgICAgaWYgKCFpdGVtKSB7XG4gICAgICAgIHJlc2V0RGV0YWlsUGFuZWwoKTtcbiAgICAgICAgcmVuZGVyR3JpZCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjbGVhclVwbG9hZFN0YXRlKCk7XG4gICAgICBhY3RpdmVNZWRpYUlkID0gaXRlbS5pZDtcbiAgICAgIGRldGFpbERpcnR5ID0gZmFsc2U7XG4gICAgICB1cGRhdGVEZXRhaWxBY3Rpb25zKGZhbHNlKTtcbiAgICAgIHJlbmRlckdyaWQoKTtcbiAgICAgIGRldGFpbEVtcHR5Py5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGRldGFpbFBhbmVsPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGlmIChkZXRhaWxQcmV2aWV3KSB7XG4gICAgICAgIGlmIChpc0ltYWdlVHlwZShpdGVtKSkge1xuICAgICAgICAgIGRldGFpbFByZXZpZXcuaW5uZXJIVE1MID0gYDxpbWcgc3JjPVwiJHtpdGVtLnBhdGh9XCIgYWx0PVwiJHtpdGVtLmFsdCB8fCBpdGVtLmZpbGVuYW1lfVwiIGNsYXNzPVwiaC1mdWxsIHctZnVsbCByb3VuZGVkLTJ4bCBvYmplY3QtY292ZXJcIiAvPmA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGV0YWlsUHJldmlldy5pbm5lckhUTUwgPVxuICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJmbGV4IGgtZnVsbCB3LWZ1bGwgZmxleC1jb2wgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGdhcC0xIHRleHQtc2xhdGUtNDAwXCI+PHNwYW4gY2xhc3M9XCJ0ZXh0LTN4bFwiPlx1RDgzRFx1RENDNDwvc3Bhbj48c3BhbiBjbGFzcz1cInRleHQteHMgZm9udC1zZW1pYm9sZFwiPkRvY3VtZW50PC9zcGFuPjwvZGl2Pic7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGRldGFpbE5hbWUgJiYgKGRldGFpbE5hbWUudGV4dENvbnRlbnQgPSBpdGVtLmZpbGVuYW1lIHx8ICdGaWNoaWVyJyk7XG4gICAgICBkZXRhaWxUeXBlICYmIChkZXRhaWxUeXBlLnRleHRDb250ZW50ID0gZm9ybWF0VHlwZUxhYmVsKGl0ZW0pKTtcbiAgICAgIGRldGFpbFNpemUgJiYgKGRldGFpbFNpemUudGV4dENvbnRlbnQgPSBmb3JtYXRGaWxlU2l6ZShpdGVtLnNpemUpKTtcbiAgICAgIGlmIChkZXRhaWxBbHRJbnB1dCkge1xuICAgICAgICBkZXRhaWxBbHRJbnB1dC52YWx1ZSA9IGl0ZW0uYWx0IHx8ICcnO1xuICAgICAgfVxuICAgICAgZGV0YWlsUGF0aCAmJiAoZGV0YWlsUGF0aC50ZXh0Q29udGVudCA9IGl0ZW0ucGF0aCB8fCAnXHUyMDE0Jyk7XG4gICAgICByZW5kZXJVc2VkSW4oaXRlbSk7XG4gICAgfTtcblxuICAgIGNvbnN0IHNob3dVcGxvYWRQcmV2aWV3ID0gKGZpbGUpID0+IHtcbiAgICAgIGlmICghZmlsZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB1cGxvYWRNb2RlID0gdHJ1ZTtcbiAgICAgIGRldGFpbERpcnR5ID0gZmFsc2U7XG4gICAgICBhY3RpdmVNZWRpYUlkID0gbnVsbDtcbiAgICAgIGRldGFpbEVtcHR5Py5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGRldGFpbFBhbmVsPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGlmICh1cGxvYWRQcmV2aWV3VXJsKSB7XG4gICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwodXBsb2FkUHJldmlld1VybCk7XG4gICAgICB9XG4gICAgICB1cGxvYWRQcmV2aWV3VXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKTtcbiAgICAgIGlmIChkZXRhaWxQcmV2aWV3KSB7XG4gICAgICAgIGRldGFpbFByZXZpZXcuaW5uZXJIVE1MID0gYDxpbWcgc3JjPVwiJHt1cGxvYWRQcmV2aWV3VXJsfVwiIGFsdD1cIiR7ZmlsZS5uYW1lfVwiIGNsYXNzPVwiaC1mdWxsIHctZnVsbCByb3VuZGVkLTJ4bCBvYmplY3QtY292ZXJcIiAvPmA7XG4gICAgICB9XG4gICAgICBkZXRhaWxOYW1lICYmIChkZXRhaWxOYW1lLnRleHRDb250ZW50ID0gZmlsZS5uYW1lKTtcbiAgICAgIGRldGFpbFR5cGUgJiYgKGRldGFpbFR5cGUudGV4dENvbnRlbnQgPSBmb3JtYXRUeXBlTGFiZWwoeyB0eXBlOiBmaWxlLnR5cGUsIGZpbGVuYW1lOiBmaWxlLm5hbWUgfSkpO1xuICAgICAgZGV0YWlsU2l6ZSAmJiAoZGV0YWlsU2l6ZS50ZXh0Q29udGVudCA9IGZvcm1hdEZpbGVTaXplKGZpbGUuc2l6ZSkpO1xuICAgICAgaWYgKGRldGFpbEFsdElucHV0ICYmICFkZXRhaWxBbHRJbnB1dC52YWx1ZS50cmltKCkpIHtcbiAgICAgICAgZGV0YWlsQWx0SW5wdXQudmFsdWUgPSBmaWxlLm5hbWUucmVwbGFjZSgvXFwuW14uXSskLywgJycpLnJlcGxhY2UoL1stX10vZywgJyAnKTtcbiAgICAgIH1cbiAgICAgIGRldGFpbFBhdGggJiYgKGRldGFpbFBhdGgudGV4dENvbnRlbnQgPSAnRW4gYXR0ZW50ZSBkZSB0XHUwMEU5bFx1MDBFOXZlcnNlbWVudCcpO1xuICAgICAgaWYgKGRldGFpbFVzZWQpIHtcbiAgICAgICAgZGV0YWlsVXNlZC5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgY29uc3QgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgICBsaS50ZXh0Q29udGVudCA9ICdOb24gdXRpbGlzXHUwMEU5JztcbiAgICAgICAgbGkuY2xhc3NOYW1lID0gJ3RleHQteHMgdGV4dC1zbGF0ZS00MDAnO1xuICAgICAgICBkZXRhaWxVc2VkLmFwcGVuZENoaWxkKGxpKTtcbiAgICAgIH1cbiAgICAgIHVwZGF0ZURldGFpbEFjdGlvbnMoZmFsc2UpO1xuICAgIH07XG5cbiAgICBjb25zdCBhcHBseUZpbHRlcnMgPSAoKSA9PiB7XG4gICAgICBjb25zdCB0eXBlRmlsdGVyID0gZmlsdGVyVHlwZT8udmFsdWUgfHwgJ2FsbCc7XG4gICAgICBpZiAodHlwZUZpbHRlciA9PT0gJ2FsbCcpIHtcbiAgICAgICAgZmlsdGVyZWRJdGVtcyA9IFsuLi5tZWRpYUl0ZW1zXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZpbHRlcmVkSXRlbXMgPSBtZWRpYUl0ZW1zLmZpbHRlcigoaXRlbSkgPT4gaXRlbS5ncm91cFR5cGUgPT09IHR5cGVGaWx0ZXIpO1xuICAgICAgfVxuICAgICAgaWYgKCFmaWx0ZXJlZEl0ZW1zLnNvbWUoKGl0ZW0pID0+IGl0ZW0uaWQgPT09IGFjdGl2ZU1lZGlhSWQpKSB7XG4gICAgICAgIHJlc2V0RGV0YWlsUGFuZWwoKTtcbiAgICAgIH1cbiAgICAgIHVwZGF0ZUNvdW50QmFkZ2UoKTtcbiAgICAgIHJlbmRlckdyaWQoKTtcbiAgICB9O1xuXG4gICAgY29uc3QgbG9hZE1lZGlhID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFtZWRpYUFwaUJhc2UpIHtcbiAgICAgICAgZW1wdHlTdGF0ZT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2gobWVkaWFBcGlCYXNlLCB7XG4gICAgICAgICAgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxlcyBtXHUwMEU5ZGlhcy4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7IGl0ZW1zOiBbXSB9KSk7XG4gICAgICAgIG1lZGlhSXRlbXMgPSBBcnJheS5pc0FycmF5KHBheWxvYWQuaXRlbXMpXG4gICAgICAgICAgPyBwYXlsb2FkLml0ZW1zLm1hcCgoaXRlbSkgPT4gKHsgLi4uaXRlbSwgZ3JvdXBUeXBlOiBkZXJpdmVHcm91cFR5cGUoaXRlbSkgfSkpXG4gICAgICAgICAgOiBbXTtcbiAgICAgICAgYXBwbHlGaWx0ZXJzKCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW21lZGlhXSBsb2FkIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxlcyBtXHUwMEU5ZGlhcy4nKTtcbiAgICAgICAgbWVkaWFJdGVtcyA9IFtdO1xuICAgICAgICBhcHBseUZpbHRlcnMoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgZmlsdGVyVHlwZT8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICAgICAgYXBwbHlGaWx0ZXJzKCk7XG4gICAgfSk7XG4gICAgZGV0YWlsQWx0SW5wdXQ/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgaWYgKHVwbG9hZE1vZGUpIHtcbiAgICAgICAgdXBkYXRlRGV0YWlsQWN0aW9ucyhmYWxzZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghYWN0aXZlTWVkaWFJZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBkZXRhaWxEaXJ0eSA9IHRydWU7XG4gICAgICB1cGRhdGVEZXRhaWxBY3Rpb25zKGZhbHNlKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IGhhbmRsZUZpbGVTZWxlY3Rpb24gPSAoZmlsZSkgPT4ge1xuICAgICAgaWYgKCFmaWxlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghZmlsZS50eXBlLnN0YXJ0c1dpdGgoJ2ltYWdlLycpKSB7XG4gICAgICAgIHNob3dUb2FzdCgnU2V1bGVzIGxlcyBpbWFnZXMgc29udCBhY2NlcHRcdTAwRTllcyBwb3VyIGxlIG1vbWVudC4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGZpbGUuc2l6ZSA+IDQgKiAxMDI0ICogMTAyNCkge1xuICAgICAgICBzaG93VG9hc3QoJ0ZpY2hpZXIgdHJvcCB2b2x1bWluZXV4ICg0IE1vIG1heCkuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHBlbmRpbmdVcGxvYWRGaWxlID0gZmlsZTtcbiAgICAgIHNob3dVcGxvYWRQcmV2aWV3KGZpbGUpO1xuICAgICAgaWYgKHVwbG9hZFN0YXR1cykge1xuICAgICAgICB1cGxvYWRTdGF0dXMudGV4dENvbnRlbnQgPSBgJHtmaWxlLm5hbWV9IFx1MDBCNyAke2Zvcm1hdEZpbGVTaXplKGZpbGUuc2l6ZSl9YDtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgcmVhZEZpbGVBc0Jhc2U2NCA9IChmaWxlKSA9PlxuICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgICByZWFkZXIub25sb2FkID0gKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHJlYWRlci5yZXN1bHQgfHwgJyc7XG4gICAgICAgICAgY29uc3QgWywgYmFzZTY0ID0gJyddID0gU3RyaW5nKHJlc3VsdCkuc3BsaXQoJywnKTtcbiAgICAgICAgICByZXNvbHZlKGJhc2U2NCk7XG4gICAgICAgIH07XG4gICAgICAgIHJlYWRlci5vbmVycm9yID0gKCkgPT4gcmVqZWN0KG5ldyBFcnJvcignSW1wb3NzaWJsZSBkZSBsaXJlIGNlIGZpY2hpZXIuJykpO1xuICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcbiAgICAgIH0pO1xuXG4gICAgY29uc3QgdXBsb2FkU2VsZWN0ZWRNZWRpYSA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghcGVuZGluZ1VwbG9hZEZpbGUgfHwgIW1lZGlhQXBpQmFzZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB1cGxvYWRJblByb2dyZXNzID0gdHJ1ZTtcbiAgICAgIHVwZGF0ZURldGFpbEFjdGlvbnModHJ1ZSk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBiYXNlNjQgPSBhd2FpdCByZWFkRmlsZUFzQmFzZTY0KHBlbmRpbmdVcGxvYWRGaWxlKTtcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgICBmaWxlbmFtZTogcGVuZGluZ1VwbG9hZEZpbGUubmFtZSxcbiAgICAgICAgICB0eXBlOiBwZW5kaW5nVXBsb2FkRmlsZS50eXBlLFxuICAgICAgICAgIHNpemU6IHBlbmRpbmdVcGxvYWRGaWxlLnNpemUsXG4gICAgICAgICAgYWx0OiBkZXRhaWxBbHRJbnB1dD8udmFsdWUgfHwgJycsXG4gICAgICAgICAgZGF0YTogYmFzZTY0LFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKG1lZGlhQXBpQmFzZSwge1xuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnN0IGVycm9yUGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JQYXlsb2FkLm1lc3NhZ2UgfHwgJ1VwbG9hZCBpbXBvc3NpYmxlLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNhdmVkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBzYXZlZC5ncm91cFR5cGUgPSBkZXJpdmVHcm91cFR5cGUoc2F2ZWQpO1xuICAgICAgICBtZWRpYUl0ZW1zID0gWy4uLm1lZGlhSXRlbXMsIHNhdmVkXTtcbiAgICAgICAgaGlnaGxpZ2h0TWVkaWFJZCA9IHNhdmVkLmlkO1xuICAgICAgICBhcHBseUZpbHRlcnMoKTtcbiAgICAgICAgc2VsZWN0TWVkaWEoc2F2ZWQuaWQpO1xuICAgICAgICBzaG93VG9hc3QoJ01cdTAwRTlkaWEgYWpvdXRcdTAwRTknKTtcbiAgICAgICAgY2xlYXJVcGxvYWRTdGF0ZSgpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1ttZWRpYV0gdXBsb2FkIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSB0XHUwMEU5bFx1MDBFOXZlcnNlciBjZSBtXHUwMEU5ZGlhLicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgdXBsb2FkSW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgICAgICBwZW5kaW5nVXBsb2FkRmlsZSA9IG51bGw7XG4gICAgICAgIHVwZGF0ZURldGFpbEFjdGlvbnMoZmFsc2UpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB1cGxvYWRPcGVuQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGZpbGVJbnB1dD8uY2xpY2soKSk7XG4gICAgZmlsZUlucHV0Py5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgICBpZiAoZmlsZUlucHV0LmZpbGVzICYmIGZpbGVJbnB1dC5maWxlc1swXSkge1xuICAgICAgICBoYW5kbGVGaWxlU2VsZWN0aW9uKGZpbGVJbnB1dC5maWxlc1swXSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgY29uc3QgY2xvc2VEZWxldGVNb2RhbCA9ICgpID0+IHtcbiAgICAgIGlmICghZGVsZXRlTW9kYWwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZGVsZXRlTW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBkZWxldGVNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdmbGV4Jyk7XG4gICAgfTtcblxuICAgIGNvbnN0IG9wZW5EZWxldGVNb2RhbCA9ICgpID0+IHtcbiAgICAgIGlmICghYWN0aXZlTWVkaWFJZCB8fCB1cGxvYWRNb2RlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChkZWxldGVNb2RhbCkge1xuICAgICAgICBkZWxldGVNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgZGVsZXRlTW9kYWwuY2xhc3NMaXN0LmFkZCgnZmxleCcpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBGYWxsYmFjayBzaSBhdWN1bmUgbW9kYWxlIG4nZXN0IGRpc3BvbmlibGVcbiAgICAgIGlmICh3aW5kb3cuY29uZmlybSgnU3VwcHJpbWVyIGNlIG1cdTAwRTlkaWEgPycpKSB7XG4gICAgICAgIGRlbGV0ZUFjdGl2ZU1lZGlhKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGRlbGV0ZUFjdGl2ZU1lZGlhID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFhY3RpdmVNZWRpYUlkIHx8ICFtZWRpYUFwaUJhc2UpIHtcbiAgICAgICAgY2xvc2VEZWxldGVNb2RhbCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBkaXNhYmxlQnV0dG9ucyA9ICgpID0+IHtcbiAgICAgICAgaWYgKGRldGFpbERlbGV0ZUJ1dHRvbikge1xuICAgICAgICAgIGRldGFpbERlbGV0ZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlbGV0ZUNvbmZpcm1CdXR0b24pIHtcbiAgICAgICAgICBkZWxldGVDb25maXJtQnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgICBkZWxldGVDb25maXJtQnV0dG9uLnRleHRDb250ZW50ID0gJ1N1cHByZXNzaW9uXHUyMDI2JztcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGNvbnN0IGVuYWJsZUJ1dHRvbnMgPSAoKSA9PiB7XG4gICAgICAgIGlmIChkZXRhaWxEZWxldGVCdXR0b24pIHtcbiAgICAgICAgICBkZXRhaWxEZWxldGVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVsZXRlQ29uZmlybUJ1dHRvbikge1xuICAgICAgICAgIGRlbGV0ZUNvbmZpcm1CdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICBkZWxldGVDb25maXJtQnV0dG9uLnRleHRDb250ZW50ID0gJ1N1cHByaW1lcic7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBkaXNhYmxlQnV0dG9ucygpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgICBgJHttZWRpYUFwaUJhc2V9LyR7ZW5jb2RlVVJJQ29tcG9uZW50KGFjdGl2ZU1lZGlhSWQpfWAsXG4gICAgICAgICAgeyBtZXRob2Q6ICdERUxFVEUnIH0sXG4gICAgICAgICk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihwYXlsb2FkLm1lc3NhZ2UgfHwgJ1N1cHByZXNzaW9uIGltcG9zc2libGUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgbWVkaWFJdGVtcyA9IG1lZGlhSXRlbXMuZmlsdGVyKChpdGVtKSA9PiBpdGVtLmlkICE9PSBhY3RpdmVNZWRpYUlkKTtcbiAgICAgICAgZmlsdGVyZWRJdGVtcyA9IGZpbHRlcmVkSXRlbXMuZmlsdGVyKChpdGVtKSA9PiBpdGVtLmlkICE9PSBhY3RpdmVNZWRpYUlkKTtcbiAgICAgICAgc2hvd1RvYXN0KCdNXHUwMEU5ZGlhIHN1cHByaW1cdTAwRTknKTtcbiAgICAgICAgcmVzZXREZXRhaWxQYW5lbCgpO1xuICAgICAgICB1cGRhdGVDb3VudEJhZGdlKCk7XG4gICAgICAgIHJlbmRlckdyaWQoKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbbWVkaWFdIGRlbGV0ZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgc3VwcHJpbWVyIGNlIG1cdTAwRTlkaWEuJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBlbmFibGVCdXR0b25zKCk7XG4gICAgICAgIGNsb3NlRGVsZXRlTW9kYWwoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgZGVsZXRlQ2FuY2VsQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlRGVsZXRlTW9kYWwpO1xuICAgIGRlbGV0ZU1vZGFsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gZGVsZXRlTW9kYWwpIHtcbiAgICAgICAgY2xvc2VEZWxldGVNb2RhbCgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgZGVsZXRlQ29uZmlybUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBkZWxldGVBY3RpdmVNZWRpYSgpKTtcbiAgICBkZXRhaWxEZWxldGVCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlbkRlbGV0ZU1vZGFsKTtcblxuICAgIGRldGFpbFNhdmVCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKHVwbG9hZE1vZGUpIHtcbiAgICAgICAgdXBsb2FkU2VsZWN0ZWRNZWRpYSgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWFjdGl2ZU1lZGlhSWQgfHwgIW1lZGlhQXBpQmFzZSB8fCAhZGV0YWlsQWx0SW5wdXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdXBkYXRlRGV0YWlsQWN0aW9ucyh0cnVlKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSB7IGFsdDogZGV0YWlsQWx0SW5wdXQudmFsdWUgfHwgJycgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgICBgJHttZWRpYUFwaUJhc2V9LyR7ZW5jb2RlVVJJQ29tcG9uZW50KGFjdGl2ZU1lZGlhSWQpfWAsXG4gICAgICAgICAge1xuICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgICAgfSxcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnN0IGVycm9yUGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JQYXlsb2FkLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgbWV0dHJlIFx1MDBFMCBqb3VyIGNlIG1cdTAwRTlkaWEuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdXBkYXRlZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgbWVkaWFJdGVtcyA9IG1lZGlhSXRlbXMubWFwKChpdGVtKSA9PlxuICAgICAgICAgIGl0ZW0uaWQgPT09IGFjdGl2ZU1lZGlhSWQgPyB7IC4uLml0ZW0sIC4uLnVwZGF0ZWQgfSA6IGl0ZW0sXG4gICAgICAgICk7XG4gICAgICAgIGZpbHRlcmVkSXRlbXMgPSBmaWx0ZXJlZEl0ZW1zLm1hcCgoaXRlbSkgPT5cbiAgICAgICAgICBpdGVtLmlkID09PSBhY3RpdmVNZWRpYUlkID8geyAuLi5pdGVtLCAuLi51cGRhdGVkIH0gOiBpdGVtLFxuICAgICAgICApO1xuICAgICAgICBkZXRhaWxEaXJ0eSA9IGZhbHNlO1xuICAgICAgICB1cGRhdGVEZXRhaWxBY3Rpb25zKGZhbHNlKTtcbiAgICAgICAgc2hvd1RvYXN0KCdNXHUwMEU5ZGlhIG1pcyBcdTAwRTAgam91cicpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1ttZWRpYV0gdXBkYXRlIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnXHUwMEM5Y2hlYyBkZSBsYSBtaXNlIFx1MDBFMCBqb3VyLicpO1xuICAgICAgICB1cGRhdGVEZXRhaWxBY3Rpb25zKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGxvYWRNZWRpYSgpO1xuICB9XG5cbiAgLy8gXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXG4gIC8vIEFJIENIQVQgLSBBc3Npc3RhbnQgSUEgY29udGV4dHVlbFxuICAvLyBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcblxuICBjb25zdCBhaUNoYXRUb2dnbGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWktY2hhdC10b2dnbGUnKTtcbiAgY29uc3QgYWlDaGF0UGFuZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWktY2hhdC1wYW5lbCcpO1xuICBjb25zdCBhaUNoYXRPdmVybGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FpLWNoYXQtb3ZlcmxheScpO1xuICBjb25zdCBhaUNoYXRDbG9zZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhaS1jaGF0LWNsb3NlJyk7XG4gIGNvbnN0IGFpQ2hhdENsZWFyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FpLWNoYXQtY2xlYXInKTtcbiAgY29uc3QgYWlDaGF0Rm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhaS1jaGF0LWZvcm0nKTtcbiAgY29uc3QgYWlDaGF0SW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWktY2hhdC1pbnB1dCcpO1xuICBjb25zdCBhaUNoYXRNZXNzYWdlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhaS1jaGF0LW1lc3NhZ2VzJyk7XG4gIGNvbnN0IGFpQ2hhdFN0YXR1cyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhaS1jaGF0LXN0YXR1cycpO1xuICBjb25zdCBhaUNoYXROb0FwaSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhaS1jaGF0LW5vLWFwaScpO1xuICBjb25zdCBhaVF1aWNrQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWFpLXF1aWNrXScpO1xuXG4gIGxldCBhaUNoYXRPcGVuID0gZmFsc2U7XG4gIGxldCBhaUlzTG9hZGluZyA9IGZhbHNlO1xuICBsZXQgYWlDb25maWdDaGVja2VkID0gZmFsc2U7XG4gIGxldCBhaUhhc0FwaUtleSA9IGZhbHNlO1xuXG4gIC8qKlxuICAgKiBPdXZyZSBsZSBwYW5lbCBkZSBjaGF0IElBXG4gICAqL1xuICBmdW5jdGlvbiBvcGVuQUlDaGF0KCkge1xuICAgIGlmICghYWlDaGF0UGFuZWwpIHJldHVybjtcbiAgICBhaUNoYXRPcGVuID0gdHJ1ZTtcbiAgICBhaUNoYXRQYW5lbC5jbGFzc0xpc3QucmVtb3ZlKCd0cmFuc2xhdGUteC1mdWxsJyk7XG4gICAgYWlDaGF0UGFuZWwuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICdmYWxzZScpO1xuICAgIGFpQ2hhdE92ZXJsYXk/LmNsYXNzTGlzdC5yZW1vdmUoJ29wYWNpdHktMCcsICdwb2ludGVyLWV2ZW50cy1ub25lJyk7XG4gICAgYWlDaGF0T3ZlcmxheT8uY2xhc3NMaXN0LmFkZCgnb3BhY2l0eS0xMDAnKTtcbiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ292ZXJmbG93LWhpZGRlbicpO1xuICAgIGFpQ2hhdElucHV0Py5mb2N1cygpO1xuXG4gICAgLy8gVlx1MDBFOXJpZmllciBsYSBjb25maWcgQUkgYXUgcHJlbWllciBvdXZlcnR1cmVcbiAgICBpZiAoIWFpQ29uZmlnQ2hlY2tlZCkge1xuICAgICAgY2hlY2tBSUNvbmZpZygpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBGZXJtZSBsZSBwYW5lbCBkZSBjaGF0IElBXG4gICAqL1xuICBmdW5jdGlvbiBjbG9zZUFJQ2hhdCgpIHtcbiAgICBpZiAoIWFpQ2hhdFBhbmVsKSByZXR1cm47XG4gICAgYWlDaGF0T3BlbiA9IGZhbHNlO1xuICAgIGFpQ2hhdFBhbmVsLmNsYXNzTGlzdC5hZGQoJ3RyYW5zbGF0ZS14LWZ1bGwnKTtcbiAgICBhaUNoYXRQYW5lbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcbiAgICBhaUNoYXRPdmVybGF5Py5jbGFzc0xpc3QuYWRkKCdvcGFjaXR5LTAnLCAncG9pbnRlci1ldmVudHMtbm9uZScpO1xuICAgIGFpQ2hhdE92ZXJsYXk/LmNsYXNzTGlzdC5yZW1vdmUoJ29wYWNpdHktMTAwJyk7XG4gICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBWXHUwMEU5cmlmaWUgc2kgbCdBUEkgQUkgZXN0IGNvbmZpZ3VyXHUwMEU5ZVxuICAgKi9cbiAgYXN5bmMgZnVuY3Rpb24gY2hlY2tBSUNvbmZpZygpIHtcbiAgICBjb25zdCBzaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyk7XG4gICAgaWYgKCFzaXRlU2x1Zykge1xuICAgICAgYWlDaGF0Tm9BcGk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzaXRlU2x1Zyl9L2NvbmZpZy9haWApO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykgdGhyb3cgbmV3IEVycm9yKCdDb25maWcgY2hlY2sgZmFpbGVkJyk7XG4gICAgICBjb25zdCBjb25maWcgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBhaUNvbmZpZ0NoZWNrZWQgPSB0cnVlO1xuICAgICAgYWlIYXNBcGlLZXkgPSBjb25maWcuaGFzQXBpS2V5O1xuICAgICAgXG4gICAgICBpZiAoIWNvbmZpZy5lbmFibGVkIHx8ICFjb25maWcuaGFzQXBpS2V5KSB7XG4gICAgICAgIGFpQ2hhdE5vQXBpPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFpQ2hhdE5vQXBpPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgLy8gQ2hhcmdlciBsJ2hpc3RvcmlxdWVcbiAgICAgICAgbG9hZEFJQ2hhdEhpc3RvcnkoKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tBSV0gQ29uZmlnIGNoZWNrIGZhaWxlZDonLCBlcnIpO1xuICAgICAgYWlDaGF0Tm9BcGk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDaGFyZ2UgbCdoaXN0b3JpcXVlIGRlIGNvbnZlcnNhdGlvblxuICAgKi9cbiAgYXN5bmMgZnVuY3Rpb24gbG9hZEFJQ2hhdEhpc3RvcnkoKSB7XG4gICAgY29uc3Qgc2l0ZVNsdWcgPSBzdHJpcExlYWRpbmdTbGFzaChzdG9yZWRTaXRlLnNsdWcgfHwgJycpO1xuICAgIGlmICghc2l0ZVNsdWcgfHwgIWFpQ2hhdE1lc3NhZ2VzKSByZXR1cm47XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2l0ZVNsdWcpfS9haS9oaXN0b3J5YCk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSByZXR1cm47XG4gICAgICBcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBpZiAoZGF0YS5tZXNzYWdlcyAmJiBkYXRhLm1lc3NhZ2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgLy8gRWZmYWNlciBsZSBtZXNzYWdlIGRlIGJpZW52ZW51ZVxuICAgICAgICBjb25zdCB3ZWxjb21lTXNnID0gYWlDaGF0TWVzc2FnZXMucXVlcnlTZWxlY3RvcignW2RhdGEtYWktd2VsY29tZV0nKTtcbiAgICAgICAgaWYgKHdlbGNvbWVNc2cpIHdlbGNvbWVNc2cucmVtb3ZlKCk7XG4gICAgICAgIFxuICAgICAgICAvLyBBZmZpY2hlciBsZXMgbWVzc2FnZXNcbiAgICAgICAgZGF0YS5tZXNzYWdlcy5mb3JFYWNoKG1zZyA9PiB7XG4gICAgICAgICAgYXBwZW5kQUlNZXNzYWdlKG1zZy5jb250ZW50LCBtc2cucm9sZSA9PT0gJ3VzZXInID8gJ3VzZXInIDogJ2Fzc2lzdGFudCcpO1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIFNjcm9sbCB2ZXJzIGxlIGJhc1xuICAgICAgICBhaUNoYXRNZXNzYWdlcy5zY3JvbGxUb3AgPSBhaUNoYXRNZXNzYWdlcy5zY3JvbGxIZWlnaHQ7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdbQUldIEhpc3RvcnkgbG9hZCBmYWlsZWQ6JywgZXJyKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQWpvdXRlIHVuIG1lc3NhZ2UgYXUgY2hhdFxuICAgKi9cbiAgZnVuY3Rpb24gYXBwZW5kQUlNZXNzYWdlKGNvbnRlbnQsIHJvbGUgPSAnYXNzaXN0YW50Jykge1xuICAgIGlmICghYWlDaGF0TWVzc2FnZXMpIHJldHVybjtcbiAgICBcbiAgICBjb25zdCBtc2dEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBtc2dEaXYuY2xhc3NOYW1lID0gJ2ZsZXggZ2FwLTMnO1xuICAgIFxuICAgIGlmIChyb2xlID09PSAndXNlcicpIHtcbiAgICAgIG1zZ0Rpdi5pbm5lckhUTUwgPSBgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4LTFcIj48L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm1heC13LVs4MCVdIGJnLXZpb2xldC02MDAgdGV4dC13aGl0ZSByb3VuZGVkLTJ4bCByb3VuZGVkLXRyLW5vbmUgcC0zXCI+XG4gICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXNtIHdoaXRlc3BhY2UtcHJlLXdyYXBcIj4ke2VzY2FwZUh0bWwoY29udGVudCl9PC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInctOCBoLTggcm91bmRlZC1mdWxsIGJnLXNsYXRlLTIwMCBmbGV4LXNocmluay0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgPHN2ZyBjbGFzcz1cInctNCBoLTQgdGV4dC1zbGF0ZS01MDBcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgIDxwYXRoIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE2IDdhNCA0IDAgMTEtOCAwIDQgNCAwIDAxOCAwek0xMiAxNGE3IDcgMCAwMC03IDdoMTRhNyA3IDAgMDAtNy03elwiLz5cbiAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgPC9kaXY+XG4gICAgICBgO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBGb3JtYXR0ZXIgbGUgY29udGVudSBNYXJrZG93biBiYXNpcXVlXG4gICAgICBjb25zdCBmb3JtYXR0ZWRDb250ZW50ID0gZm9ybWF0QUlSZXNwb25zZShjb250ZW50KTtcbiAgICAgIG1zZ0Rpdi5pbm5lckhUTUwgPSBgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJ3LTggaC04IHJvdW5kZWQtZnVsbCBiZy1ncmFkaWVudC10by1iciBmcm9tLXZpb2xldC01MDAgdG8taW5kaWdvLTYwMCBmbGV4LXNocmluay0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgPHN2ZyBjbGFzcz1cInctNCBoLTQgdGV4dC13aGl0ZVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgPHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNOS42NjMgMTdoNC42NzNNMTIgM3YxbTYuMzY0IDEuNjM2bC0uNzA3LjcwN00yMSAxMmgtMU00IDEySDNtMy4zNDMtNS42NTdsLS43MDctLjcwN20yLjgyOCA5LjlhNSA1IDAgMTE3LjA3MiAwbC0uNTQ4LjU0N0EzLjM3NCAzLjM3NCAwIDAwMTQgMTguNDY5VjE5YTIgMiAwIDExLTQgMHYtLjUzMWMwLS44OTUtLjM1Ni0xLjc1NC0uOTg4LTIuMzg2bC0uNTQ4LS41NDd6XCIvPlxuICAgICAgICAgIDwvc3ZnPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImZsZXgtMSBiZy1zbGF0ZS01MCByb3VuZGVkLTJ4bCByb3VuZGVkLXRsLW5vbmUgcC0zIG92ZXJmbG93LXgtYXV0b1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LXNtIHRleHQtc2xhdGUtNzAwIHByb3NlIHByb3NlLXNtIG1heC13LW5vbmUgWyY+cHJlXTpiZy1zbGF0ZS04MDAgWyY+cHJlXTp0ZXh0LXNsYXRlLTEwMCBbJj5wcmVdOnJvdW5kZWQtbGcgWyY+cHJlXTpwLTMgWyY+cHJlXTpvdmVyZmxvdy14LWF1dG8gWyY+Y29kZV06Ymctc2xhdGUtMjAwIFsmPmNvZGVdOnB4LTEgWyY+Y29kZV06cm91bmRlZFwiPiR7Zm9ybWF0dGVkQ29udGVudH08L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICBgO1xuICAgIH1cbiAgICBcbiAgICBhaUNoYXRNZXNzYWdlcy5hcHBlbmRDaGlsZChtc2dEaXYpO1xuICAgIGFpQ2hhdE1lc3NhZ2VzLnNjcm9sbFRvcCA9IGFpQ2hhdE1lc3NhZ2VzLnNjcm9sbEhlaWdodDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZmZpY2hlIHVuIGluZGljYXRldXIgZGUgY2hhcmdlbWVudFxuICAgKi9cbiAgZnVuY3Rpb24gc2hvd0FJTG9hZGluZygpIHtcbiAgICBpZiAoIWFpQ2hhdE1lc3NhZ2VzKSByZXR1cm47XG4gICAgXG4gICAgY29uc3QgbG9hZGluZ0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGxvYWRpbmdEaXYuY2xhc3NOYW1lID0gJ2ZsZXggZ2FwLTMnO1xuICAgIGxvYWRpbmdEaXYuaWQgPSAnYWktbG9hZGluZy1pbmRpY2F0b3InO1xuICAgIGxvYWRpbmdEaXYuaW5uZXJIVE1MID0gYFxuICAgICAgPGRpdiBjbGFzcz1cInctOCBoLTggcm91bmRlZC1mdWxsIGJnLWdyYWRpZW50LXRvLWJyIGZyb20tdmlvbGV0LTUwMCB0by1pbmRpZ28tNjAwIGZsZXgtc2hyaW5rLTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgPHN2ZyBjbGFzcz1cInctNCBoLTQgdGV4dC13aGl0ZSBhbmltYXRlLXB1bHNlXCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgPHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNOS42NjMgMTdoNC42NzNNMTIgM3YxbTYuMzY0IDEuNjM2bC0uNzA3LjcwN00yMSAxMmgtMU00IDEySDNtMy4zNDMtNS42NTdsLS43MDctLjcwN20yLjgyOCA5LjlhNSA1IDAgMTE3LjA3MiAwbC0uNTQ4LjU0N0EzLjM3NCAzLjM3NCAwIDAwMTQgMTguNDY5VjE5YTIgMiAwIDExLTQgMHYtLjUzMWMwLS44OTUtLjM1Ni0xLjc1NC0uOTg4LTIuMzg2bC0uNTQ4LS41NDd6XCIvPlxuICAgICAgICA8L3N2Zz5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cImZsZXgtMSBiZy1zbGF0ZS01MCByb3VuZGVkLTJ4bCByb3VuZGVkLXRsLW5vbmUgcC0zXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ3LTIgaC0yIGJnLXZpb2xldC00MDAgcm91bmRlZC1mdWxsIGFuaW1hdGUtYm91bmNlXCIgc3R5bGU9XCJhbmltYXRpb24tZGVsYXk6IDBtc1wiPjwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ3LTIgaC0yIGJnLXZpb2xldC00MDAgcm91bmRlZC1mdWxsIGFuaW1hdGUtYm91bmNlXCIgc3R5bGU9XCJhbmltYXRpb24tZGVsYXk6IDE1MG1zXCI+PC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInctMiBoLTIgYmctdmlvbGV0LTQwMCByb3VuZGVkLWZ1bGwgYW5pbWF0ZS1ib3VuY2VcIiBzdHlsZT1cImFuaW1hdGlvbi1kZWxheTogMzAwbXNcIj48L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICBgO1xuICAgIFxuICAgIGFpQ2hhdE1lc3NhZ2VzLmFwcGVuZENoaWxkKGxvYWRpbmdEaXYpO1xuICAgIGFpQ2hhdE1lc3NhZ2VzLnNjcm9sbFRvcCA9IGFpQ2hhdE1lc3NhZ2VzLnNjcm9sbEhlaWdodDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWNoZSBsJ2luZGljYXRldXIgZGUgY2hhcmdlbWVudFxuICAgKi9cbiAgZnVuY3Rpb24gaGlkZUFJTG9hZGluZygpIHtcbiAgICBjb25zdCBsb2FkaW5nRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FpLWxvYWRpbmctaW5kaWNhdG9yJyk7XG4gICAgbG9hZGluZ0Rpdj8ucmVtb3ZlKCk7XG4gIH1cblxuICAvKipcbiAgICogRm9ybWF0ZSBsYSByXHUwMEU5cG9uc2UgZGUgbCdJQSAoTWFya2Rvd24gYmFzaXF1ZSlcbiAgICovXG4gIGZ1bmN0aW9uIGZvcm1hdEFJUmVzcG9uc2UodGV4dCkge1xuICAgIGlmICghdGV4dCkgcmV0dXJuICcnO1xuICAgIFxuICAgIC8vIEVzY2FwZSBIVE1MIGQnYWJvcmRcbiAgICBsZXQgZm9ybWF0dGVkID0gZXNjYXBlSHRtbCh0ZXh0KTtcbiAgICBcbiAgICAvLyBDb2RlIGJsb2NrcyBgYGBcbiAgICBmb3JtYXR0ZWQgPSBmb3JtYXR0ZWQucmVwbGFjZSgvYGBgKFxcdyopXFxuKFtcXHNcXFNdKj8pYGBgL2csIChtYXRjaCwgbGFuZywgY29kZSkgPT4ge1xuICAgICAgcmV0dXJuIGA8cHJlIGNsYXNzPVwibGFuZ3VhZ2UtJHtsYW5nIHx8ICd0ZXh0J31cIj48Y29kZT4ke2NvZGUudHJpbSgpfTwvY29kZT48L3ByZT5gO1xuICAgIH0pO1xuICAgIFxuICAgIC8vIElubGluZSBjb2RlIGBcbiAgICBmb3JtYXR0ZWQgPSBmb3JtYXR0ZWQucmVwbGFjZSgvYChbXmBdKylgL2csICc8Y29kZT4kMTwvY29kZT4nKTtcbiAgICBcbiAgICAvLyBCb2xkICoqdGV4dCoqXG4gICAgZm9ybWF0dGVkID0gZm9ybWF0dGVkLnJlcGxhY2UoL1xcKlxcKihbXipdKylcXCpcXCovZywgJzxzdHJvbmc+JDE8L3N0cm9uZz4nKTtcbiAgICBcbiAgICAvLyBJdGFsaWMgKnRleHQqXG4gICAgZm9ybWF0dGVkID0gZm9ybWF0dGVkLnJlcGxhY2UoL1xcKihbXipdKylcXCovZywgJzxlbT4kMTwvZW0+Jyk7XG4gICAgXG4gICAgLy8gVGl0cmVzXG4gICAgZm9ybWF0dGVkID0gZm9ybWF0dGVkLnJlcGxhY2UoL14jIyMgKC4rKSQvZ20sICc8aDQgY2xhc3M9XCJmb250LXNlbWlib2xkIHRleHQtc2xhdGUtOTAwIG10LTMgbWItMVwiPiQxPC9oND4nKTtcbiAgICBmb3JtYXR0ZWQgPSBmb3JtYXR0ZWQucmVwbGFjZSgvXiMjICguKykkL2dtLCAnPGgzIGNsYXNzPVwiZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTkwMCBtdC0zIG1iLTFcIj4kMTwvaDM+Jyk7XG4gICAgZm9ybWF0dGVkID0gZm9ybWF0dGVkLnJlcGxhY2UoL14jICguKykkL2dtLCAnPGgyIGNsYXNzPVwiZm9udC1ib2xkIHRleHQtc2xhdGUtOTAwIG10LTMgbWItMlwiPiQxPC9oMj4nKTtcbiAgICBcbiAgICAvLyBMaXN0ZXNcbiAgICBmb3JtYXR0ZWQgPSBmb3JtYXR0ZWQucmVwbGFjZSgvXi0gKC4rKSQvZ20sICc8bGkgY2xhc3M9XCJtbC00XCI+JDE8L2xpPicpO1xuICAgIGZvcm1hdHRlZCA9IGZvcm1hdHRlZC5yZXBsYWNlKC9eKFxcZCspXFwuICguKykkL2dtLCAnPGxpIGNsYXNzPVwibWwtNFwiPiQyPC9saT4nKTtcbiAgICBcbiAgICAvLyBQYXJhZ3JhcGhlcyAobGlnbmVzIHZpZGVzKVxuICAgIGZvcm1hdHRlZCA9IGZvcm1hdHRlZC5yZXBsYWNlKC9cXG5cXG4vZywgJzwvcD48cCBjbGFzcz1cIm1iLTJcIj4nKTtcbiAgICBmb3JtYXR0ZWQgPSAnPHAgY2xhc3M9XCJtYi0yXCI+JyArIGZvcm1hdHRlZCArICc8L3A+JztcbiAgICBcbiAgICAvLyBOZXR0b3llciBsZXMgPHA+IHZpZGVzXG4gICAgZm9ybWF0dGVkID0gZm9ybWF0dGVkLnJlcGxhY2UoLzxwIGNsYXNzPVwibWItMlwiPjxcXC9wPi9nLCAnJyk7XG4gICAgXG4gICAgcmV0dXJuIGZvcm1hdHRlZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBcdTAwQzljaGFwcGUgbGUgSFRNTFxuICAgKi9cbiAgZnVuY3Rpb24gZXNjYXBlSHRtbCh0ZXh0KSB7XG4gICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZGl2LnRleHRDb250ZW50ID0gdGV4dDtcbiAgICByZXR1cm4gZGl2LmlubmVySFRNTDtcbiAgfVxuXG4gIC8qKlxuICAgKiBFbnZvaWUgdW4gbWVzc2FnZSBhdSBjaGF0IElBXG4gICAqL1xuICBhc3luYyBmdW5jdGlvbiBzZW5kQUlNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICBjb25zdCBzaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyk7XG4gICAgaWYgKCFtZXNzYWdlIHx8ICFzaXRlU2x1ZyB8fCBhaUlzTG9hZGluZykgcmV0dXJuO1xuICAgIFxuICAgIGFpSXNMb2FkaW5nID0gdHJ1ZTtcbiAgICBhaUNoYXRJbnB1dC5kaXNhYmxlZCA9IHRydWU7XG4gICAgXG4gICAgLy8gRWZmYWNlciBsZSBtZXNzYWdlIGRlIGJpZW52ZW51ZSBhdSBwcmVtaWVyIG1lc3NhZ2VcbiAgICBjb25zdCB3ZWxjb21lTXNnID0gYWlDaGF0TWVzc2FnZXM/LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFpLXdlbGNvbWVdJyk7XG4gICAgaWYgKHdlbGNvbWVNc2cpIHdlbGNvbWVNc2cucmVtb3ZlKCk7XG4gICAgXG4gICAgLy8gQWZmaWNoZXIgbGUgbWVzc2FnZSBkZSBsJ3V0aWxpc2F0ZXVyXG4gICAgYXBwZW5kQUlNZXNzYWdlKG1lc3NhZ2UsICd1c2VyJyk7XG4gICAgXG4gICAgLy8gQWZmaWNoZXIgbGUgbG9hZGVyXG4gICAgc2hvd0FJTG9hZGluZygpO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNpdGVTbHVnKX0vYWkvY2hhdGAsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IG1lc3NhZ2UgfSlcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBoaWRlQUlMb2FkaW5nKCk7XG4gICAgICBcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgZXJyb3IgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvci5tZXNzYWdlIHx8ICdFcnJldXIgZGUgY29tbXVuaWNhdGlvbicpO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgXG4gICAgICBpZiAoZGF0YS5yZXNwb25zZSkge1xuICAgICAgICBhcHBlbmRBSU1lc3NhZ2UoZGF0YS5yZXNwb25zZSwgJ2Fzc2lzdGFudCcpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBHXHUwMEU5cmVyIGxlcyBwcm9wb3NpdGlvbnMgZCdcdTAwRTlkaXRpb24gZGUgcGFnZVxuICAgICAgaWYgKGRhdGEuZWRpdFByb3Bvc2FsKSB7XG4gICAgICAgIGFwcGVuZEVkaXRQcm9wb3NhbChkYXRhLmVkaXRQcm9wb3NhbCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEdcdTAwRTlyZXIgbGVzIHByb3Bvc2l0aW9ucyBkZSBtb2RpZmljYXRpb24gZHUgdGhcdTAwRThtZVxuICAgICAgaWYgKGRhdGEudGhlbWVQcm9wb3NhbCkge1xuICAgICAgICBhcHBlbmRUaGVtZVByb3Bvc2FsKGRhdGEudGhlbWVQcm9wb3NhbCk7XG4gICAgICB9XG4gICAgICBcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGhpZGVBSUxvYWRpbmcoKTtcbiAgICAgIGFwcGVuZEFJTWVzc2FnZShgXHUyNzRDIEVycmV1cjogJHtlcnIubWVzc2FnZX1gLCAnYXNzaXN0YW50Jyk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGFpSXNMb2FkaW5nID0gZmFsc2U7XG4gICAgICBhaUNoYXRJbnB1dC5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgYWlDaGF0SW5wdXQuZm9jdXMoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQWZmaWNoZSB1bmUgcHJvcG9zaXRpb24gZCdcdTAwRTlkaXRpb24gYXZlYyBib3V0b25zIGRlIHZhbGlkYXRpb25cbiAgICovXG4gIGZ1bmN0aW9uIGFwcGVuZEVkaXRQcm9wb3NhbChwcm9wb3NhbCkge1xuICAgIGlmICghYWlDaGF0TWVzc2FnZXMgfHwgIXByb3Bvc2FsKSByZXR1cm47XG4gICAgXG4gICAgY29uc3QgcHJvcG9zYWxEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBwcm9wb3NhbERpdi5jbGFzc05hbWUgPSAnZmxleCBnYXAtMyBtdC0yJztcbiAgICBwcm9wb3NhbERpdi5kYXRhc2V0LnByb3Bvc2FsSWQgPSBwcm9wb3NhbC5wcm9wb3NhbElkO1xuICAgIFxuICAgIC8vIENvbnN0cnVpcmUgbGUgclx1MDBFOXN1bVx1MDBFOSBkZXMgY2hhbmdlbWVudHNcbiAgICBsZXQgY2hhbmdlc0h0bWwgPSAnJztcbiAgICBpZiAocHJvcG9zYWwuY2hhbmdlcykge1xuICAgICAgaWYgKHByb3Bvc2FsLmNoYW5nZXMudGl0bGUpIHtcbiAgICAgICAgY2hhbmdlc0h0bWwgKz0gYDxsaT5UaXRyZSBcdTIxOTIgPHN0cm9uZz4ke2VzY2FwZUh0bWwocHJvcG9zYWwuY2hhbmdlcy50aXRsZSl9PC9zdHJvbmc+PC9saT5gO1xuICAgICAgfVxuICAgICAgaWYgKHByb3Bvc2FsLmNoYW5nZXMuZGVzY3JpcHRpb24pIHtcbiAgICAgICAgY2hhbmdlc0h0bWwgKz0gYDxsaT5EZXNjcmlwdGlvbiBcdTIxOTIgJHtlc2NhcGVIdG1sKHByb3Bvc2FsLmNoYW5nZXMuZGVzY3JpcHRpb24uc3Vic3RyaW5nKDAsIDgwKSl9Li4uPC9saT5gO1xuICAgICAgfVxuICAgICAgaWYgKHByb3Bvc2FsLmNoYW5nZXMuc2VvKSB7XG4gICAgICAgIGlmIChwcm9wb3NhbC5jaGFuZ2VzLnNlby5tZXRhVGl0bGUpIHtcbiAgICAgICAgICBjaGFuZ2VzSHRtbCArPSBgPGxpPk1ldGEgdGl0bGUgXHUyMTkyICR7ZXNjYXBlSHRtbChwcm9wb3NhbC5jaGFuZ2VzLnNlby5tZXRhVGl0bGUpfTwvbGk+YDtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvcG9zYWwuY2hhbmdlcy5zZW8ubWV0YURlc2NyaXB0aW9uKSB7XG4gICAgICAgICAgY2hhbmdlc0h0bWwgKz0gYDxsaT5NZXRhIGRlc2NyaXB0aW9uIFx1MjE5MiAke2VzY2FwZUh0bWwocHJvcG9zYWwuY2hhbmdlcy5zZW8ubWV0YURlc2NyaXB0aW9uLnN1YnN0cmluZygwLCA2MCkpfS4uLjwvbGk+YDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHByb3Bvc2FsLmNoYW5nZXMuYmxvY2tVcGRhdGUpIHtcbiAgICAgICAgY2hhbmdlc0h0bWwgKz0gYDxsaT5CbG9jIFwiJHtwcm9wb3NhbC5jaGFuZ2VzLmJsb2NrVXBkYXRlLmJsb2NrSWR9XCIgbW9kaWZpXHUwMEU5PC9saT5gO1xuICAgICAgICBpZiAocHJvcG9zYWwuY2hhbmdlcy5ibG9ja1VwZGF0ZS5zZXR0aW5ncykge1xuICAgICAgICAgIGNvbnN0IHNldHRpbmdzID0gcHJvcG9zYWwuY2hhbmdlcy5ibG9ja1VwZGF0ZS5zZXR0aW5ncztcbiAgICAgICAgICBpZiAoc2V0dGluZ3MudGl0bGUpIGNoYW5nZXNIdG1sICs9IGA8bGkgY2xhc3M9XCJtbC00XCI+XHUyMTkyIHRpdGxlOiAke2VzY2FwZUh0bWwoc2V0dGluZ3MudGl0bGUpfTwvbGk+YDtcbiAgICAgICAgICBpZiAoc2V0dGluZ3MuY29udGVudCkgY2hhbmdlc0h0bWwgKz0gYDxsaSBjbGFzcz1cIm1sLTRcIj5cdTIxOTIgY29udGVudCBtb2RpZmlcdTAwRTk8L2xpPmA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgcHJvcG9zYWxEaXYuaW5uZXJIVE1MID0gYFxuICAgICAgPGRpdiBjbGFzcz1cInctOCBoLTggcm91bmRlZC1mdWxsIGJnLWFtYmVyLTUwMCBmbGV4LXNocmluay0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgIDxzdmcgY2xhc3M9XCJ3LTQgaC00IHRleHQtd2hpdGVcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICA8cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xMSA1SDZhMiAyIDAgMDAtMiAydjExYTIgMiAwIDAwMiAyaDExYTIgMiAwIDAwMi0ydi01bS0xLjQxNC05LjQxNGEyIDIgMCAxMTIuODI4IDIuODI4TDExLjgyOCAxNUg5di0yLjgyOGw4LjU4Ni04LjU4NnpcIi8+XG4gICAgICAgIDwvc3ZnPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwiZmxleC0xIGJnLWFtYmVyLTUwIGJvcmRlciBib3JkZXItYW1iZXItMjAwIHJvdW5kZWQtMnhsIHJvdW5kZWQtdGwtbm9uZSBwLTRcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIG1iLTJcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQteHMgZm9udC1zZW1pYm9sZCB0ZXh0LWFtYmVyLTcwMCBiZy1hbWJlci0xMDAgcHgtMiBweS0wLjUgcm91bmRlZFwiPlByb3Bvc2l0aW9uIGQnXHUwMEU5ZGl0aW9uPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtc2xhdGUtODAwIG1iLTFcIj5QYWdlIDogJHtlc2NhcGVIdG1sKHByb3Bvc2FsLnBhZ2VUaXRsZSB8fCBwcm9wb3NhbC5wYWdlSWQpfTwvcD5cbiAgICAgICAgJHtwcm9wb3NhbC5yZWFzb24gPyBgPHAgY2xhc3M9XCJ0ZXh0LXNtIHRleHQtc2xhdGUtNjAwIG1iLTJcIj4ke2VzY2FwZUh0bWwocHJvcG9zYWwucmVhc29uKX08L3A+YCA6ICcnfVxuICAgICAgICA8dWwgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNjAwIHNwYWNlLXktMSBtYi0zIGxpc3QtZGlzYyBtbC00XCI+XG4gICAgICAgICAgJHtjaGFuZ2VzSHRtbCB8fCAnPGxpPk1vZGlmaWNhdGlvbnMgcHJvcG9zXHUwMEU5ZXM8L2xpPid9XG4gICAgICAgIDwvdWw+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGdhcC0yXCI+XG4gICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgIGNsYXNzPVwiYWktYXBwbHktZWRpdCBweC0zIHB5LTEuNSB0ZXh0LXhzIGZvbnQtbWVkaXVtIHRleHQtd2hpdGUgYmctZW1lcmFsZC02MDAgaG92ZXI6YmctZW1lcmFsZC03MDAgcm91bmRlZC1sZyB0cmFuc2l0aW9uLWNvbG9ycyBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMVwiXG4gICAgICAgICAgICBkYXRhLXByb3Bvc2FsLWlkPVwiJHtwcm9wb3NhbC5wcm9wb3NhbElkfVwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHN2ZyBjbGFzcz1cInctMy41IGgtMy41XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICAgIDxwYXRoIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTUgMTNsNCA0TDE5IDdcIi8+XG4gICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgIEFwcGxpcXVlclxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICBjbGFzcz1cImFpLXJlamVjdC1lZGl0IHB4LTMgcHktMS41IHRleHQteHMgZm9udC1tZWRpdW0gdGV4dC1zbGF0ZS02MDAgYmctc2xhdGUtMTAwIGhvdmVyOmJnLXNsYXRlLTIwMCByb3VuZGVkLWxnIHRyYW5zaXRpb24tY29sb3JzIGZsZXggaXRlbXMtY2VudGVyIGdhcC0xXCJcbiAgICAgICAgICAgIGRhdGEtcHJvcG9zYWwtaWQ9XCIke3Byb3Bvc2FsLnByb3Bvc2FsSWR9XCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8c3ZnIGNsYXNzPVwidy0zLjUgaC0zLjVcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNiAxOEwxOCA2TTYgNmwxMiAxMlwiLz5cbiAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgUmVqZXRlclxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIGA7XG4gICAgXG4gICAgYWlDaGF0TWVzc2FnZXMuYXBwZW5kQ2hpbGQocHJvcG9zYWxEaXYpO1xuICAgIGFpQ2hhdE1lc3NhZ2VzLnNjcm9sbFRvcCA9IGFpQ2hhdE1lc3NhZ2VzLnNjcm9sbEhlaWdodDtcbiAgICBcbiAgICAvLyBBdHRhY2hlciBsZXMgXHUwMEU5dlx1MDBFOW5lbWVudHMgYXV4IGJvdXRvbnNcbiAgICBwcm9wb3NhbERpdi5xdWVyeVNlbGVjdG9yKCcuYWktYXBwbHktZWRpdCcpPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZUFwcGx5RWRpdCk7XG4gICAgcHJvcG9zYWxEaXYucXVlcnlTZWxlY3RvcignLmFpLXJlamVjdC1lZGl0Jyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlUmVqZWN0RWRpdCk7XG4gIH1cblxuICAvKipcbiAgICogQWZmaWNoZSB1bmUgcHJvcG9zaXRpb24gZGUgbW9kaWZpY2F0aW9uIGR1IHRoXHUwMEU4bWUgYXZlYyBib3V0b25zIGRlIHZhbGlkYXRpb25cbiAgICovXG4gIGZ1bmN0aW9uIGFwcGVuZFRoZW1lUHJvcG9zYWwocHJvcG9zYWwpIHtcbiAgICBpZiAoIWFpQ2hhdE1lc3NhZ2VzIHx8ICFwcm9wb3NhbCkgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0IHByb3Bvc2FsRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgcHJvcG9zYWxEaXYuY2xhc3NOYW1lID0gJ2ZsZXggZ2FwLTMgbXQtMic7XG4gICAgcHJvcG9zYWxEaXYuZGF0YXNldC5wcm9wb3NhbElkID0gcHJvcG9zYWwucHJvcG9zYWxJZDtcbiAgICBcbiAgICAvLyBDb25zdHJ1aXJlIGxlIHJcdTAwRTlzdW1cdTAwRTkgZGVzIGNoYW5nZW1lbnRzIGRlIGNvdWxldXJzXG4gICAgbGV0IGNvbG9yc0h0bWwgPSAnJztcbiAgICBpZiAocHJvcG9zYWwuY2hhbmdlcz8uY29sb3JzKSB7XG4gICAgICBjb25zdCBjb2xvcnMgPSBwcm9wb3NhbC5jaGFuZ2VzLmNvbG9ycztcbiAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGNvbG9ycykpIHtcbiAgICAgICAgY29sb3JzSHRtbCArPSBgPGxpIGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInctNCBoLTQgcm91bmRlZCBib3JkZXIgYm9yZGVyLXNsYXRlLTMwMFwiIHN0eWxlPVwiYmFja2dyb3VuZDogJHtnZXRUYWlsd2luZENvbG9yQ3NzKHZhbHVlKX1cIj48L3NwYW4+XG4gICAgICAgICAgPHNwYW4+JHtrZXl9OiA8c3Ryb25nPiR7ZXNjYXBlSHRtbCh2YWx1ZSl9PC9zdHJvbmc+PC9zcGFuPlxuICAgICAgICA8L2xpPmA7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8vIFR5cG9ncmFwaGllc1xuICAgIGxldCB0eXBvSHRtbCA9ICcnO1xuICAgIGlmIChwcm9wb3NhbC5jaGFuZ2VzPy50eXBvZ3JhcGh5KSB7XG4gICAgICBjb25zdCB0eXBvID0gcHJvcG9zYWwuY2hhbmdlcy50eXBvZ3JhcGh5O1xuICAgICAgaWYgKHR5cG8uaGVhZGluZ3MpIHR5cG9IdG1sICs9IGA8bGk+VGl0cmVzIFx1MjE5MiA8c3Ryb25nPiR7ZXNjYXBlSHRtbCh0eXBvLmhlYWRpbmdzKX08L3N0cm9uZz48L2xpPmA7XG4gICAgICBpZiAodHlwby5ib2R5KSB0eXBvSHRtbCArPSBgPGxpPlRleHRlcyBcdTIxOTIgPHN0cm9uZz4ke2VzY2FwZUh0bWwodHlwby5ib2R5KX08L3N0cm9uZz48L2xpPmA7XG4gICAgfVxuICAgIFxuICAgIHByb3Bvc2FsRGl2LmlubmVySFRNTCA9IGBcbiAgICAgIDxkaXYgY2xhc3M9XCJ3LTggaC04IHJvdW5kZWQtZnVsbCBiZy1wdXJwbGUtNTAwIGZsZXgtc2hyaW5rLTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgPHN2ZyBjbGFzcz1cInctNCBoLTQgdGV4dC13aGl0ZVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgIDxwYXRoIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTcgMjFhNCA0IDAgMDEtNC00VjVhMiAyIDAgMDEyLTJoNGEyIDIgMCAwMTIgMnYxMmE0IDQgMCAwMS00IDR6bTAgMGgxMmEyIDIgMCAwMDItMnYtNGEyIDIgMCAwMC0yLTJoLTIuMzQzTTExIDcuMzQzbDEuNjU3LTEuNjU3YTIgMiAwIDAxMi44MjggMGwyLjgyOSAyLjgyOWEyIDIgMCAwMTAgMi44MjhsLTguNDg2IDguNDg1TTcgMTdoLjAxXCIvPlxuICAgICAgICA8L3N2Zz5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cImZsZXgtMSBiZy1wdXJwbGUtNTAgYm9yZGVyIGJvcmRlci1wdXJwbGUtMjAwIHJvdW5kZWQtMnhsIHJvdW5kZWQtdGwtbm9uZSBwLTRcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIG1iLTJcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQteHMgZm9udC1zZW1pYm9sZCB0ZXh0LXB1cnBsZS03MDAgYmctcHVycGxlLTEwMCBweC0yIHB5LTAuNSByb3VuZGVkXCI+TW9kaWZpY2F0aW9uIGR1IHRoXHUwMEU4bWU8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICAke3Byb3Bvc2FsLnJlYXNvbiA/IGA8cCBjbGFzcz1cInRleHQtc20gdGV4dC1zbGF0ZS02MDAgbWItM1wiPiR7ZXNjYXBlSHRtbChwcm9wb3NhbC5yZWFzb24pfTwvcD5gIDogJyd9XG4gICAgICAgICR7Y29sb3JzSHRtbCA/IGBcbiAgICAgICAgICA8cCBjbGFzcz1cInRleHQteHMgZm9udC1tZWRpdW0gdGV4dC1zbGF0ZS03MDAgbWItMVwiPkNvdWxldXJzIDo8L3A+XG4gICAgICAgICAgPHVsIGNsYXNzPVwidGV4dC14cyB0ZXh0LXNsYXRlLTYwMCBzcGFjZS15LTEgbWItM1wiPiR7Y29sb3JzSHRtbH08L3VsPlxuICAgICAgICBgIDogJyd9XG4gICAgICAgICR7dHlwb0h0bWwgPyBgXG4gICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXhzIGZvbnQtbWVkaXVtIHRleHQtc2xhdGUtNzAwIG1iLTFcIj5UeXBvZ3JhcGhpZXMgOjwvcD5cbiAgICAgICAgICA8dWwgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNjAwIHNwYWNlLXktMSBtYi0zIGxpc3QtZGlzYyBtbC00XCI+JHt0eXBvSHRtbH08L3VsPlxuICAgICAgICBgIDogJyd9XG4gICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGdhcC0yXCI+XG4gICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgIGNsYXNzPVwiYWktYXBwbHktdGhlbWUgcHgtMyBweS0xLjUgdGV4dC14cyBmb250LW1lZGl1bSB0ZXh0LXdoaXRlIGJnLXB1cnBsZS02MDAgaG92ZXI6YmctcHVycGxlLTcwMCByb3VuZGVkLWxnIHRyYW5zaXRpb24tY29sb3JzIGZsZXggaXRlbXMtY2VudGVyIGdhcC0xXCJcbiAgICAgICAgICAgIGRhdGEtcHJvcG9zYWwtaWQ9XCIke3Byb3Bvc2FsLnByb3Bvc2FsSWR9XCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8c3ZnIGNsYXNzPVwidy0zLjUgaC0zLjVcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNSAxM2w0IDRMMTkgN1wiLz5cbiAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgQXBwbGlxdWVyXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgIGNsYXNzPVwiYWktcmVqZWN0LXRoZW1lIHB4LTMgcHktMS41IHRleHQteHMgZm9udC1tZWRpdW0gdGV4dC1zbGF0ZS02MDAgYmctc2xhdGUtMTAwIGhvdmVyOmJnLXNsYXRlLTIwMCByb3VuZGVkLWxnIHRyYW5zaXRpb24tY29sb3JzIGZsZXggaXRlbXMtY2VudGVyIGdhcC0xXCJcbiAgICAgICAgICAgIGRhdGEtcHJvcG9zYWwtaWQ9XCIke3Byb3Bvc2FsLnByb3Bvc2FsSWR9XCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8c3ZnIGNsYXNzPVwidy0zLjUgaC0zLjVcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNiAxOEwxOCA2TTYgNmwxMiAxMlwiLz5cbiAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgUmVqZXRlclxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIGA7XG4gICAgXG4gICAgYWlDaGF0TWVzc2FnZXMuYXBwZW5kQ2hpbGQocHJvcG9zYWxEaXYpO1xuICAgIGFpQ2hhdE1lc3NhZ2VzLnNjcm9sbFRvcCA9IGFpQ2hhdE1lc3NhZ2VzLnNjcm9sbEhlaWdodDtcbiAgICBcbiAgICAvLyBBdHRhY2hlciBsZXMgXHUwMEU5dlx1MDBFOW5lbWVudHMgYXV4IGJvdXRvbnNcbiAgICBwcm9wb3NhbERpdi5xdWVyeVNlbGVjdG9yKCcuYWktYXBwbHktdGhlbWUnKT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVBcHBseVRoZW1lKTtcbiAgICBwcm9wb3NhbERpdi5xdWVyeVNlbGVjdG9yKCcuYWktcmVqZWN0LXRoZW1lJyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlUmVqZWN0RWRpdCk7IC8vIFJcdTAwRTl1dGlsaXNlIGxhIG1cdTAwRUFtZSBsb2dpcXVlIGRlIHJlamV0XG4gIH1cbiAgXG4gIC8qKlxuICAgKiBDb252ZXJ0aXQgdW5lIGNvdWxldXIgVGFpbHdpbmQgZW4gQ1NTIGFwcHJveGltYXRpZiBwb3VyIHByZXZpZXdcbiAgICovXG4gIGZ1bmN0aW9uIGdldFRhaWx3aW5kQ29sb3JDc3MoY29sb3JOYW1lKSB7XG4gICAgY29uc3QgY29sb3JzID0ge1xuICAgICAgJ3doaXRlJzogJyNmZmZmZmYnLCAnYmxhY2snOiAnIzAwMDAwMCcsICd0cmFuc3BhcmVudCc6ICd0cmFuc3BhcmVudCcsXG4gICAgICAnc2xhdGUtNTAnOiAnI2Y4ZmFmYycsICdzbGF0ZS0xMDAnOiAnI2YxZjVmOScsICdzbGF0ZS0yMDAnOiAnI2UyZThmMCcsICdzbGF0ZS0zMDAnOiAnI2NiZDVlMScsICdzbGF0ZS00MDAnOiAnIzk0YTNiOCcsICdzbGF0ZS01MDAnOiAnIzY0NzQ4YicsICdzbGF0ZS02MDAnOiAnIzQ3NTU2OScsICdzbGF0ZS03MDAnOiAnIzMzNDE1NScsICdzbGF0ZS04MDAnOiAnIzFlMjkzYicsICdzbGF0ZS05MDAnOiAnIzBmMTcyYScsXG4gICAgICAnZ3JheS01MCc6ICcjZjlmYWZiJywgJ2dyYXktMTAwJzogJyNmM2Y0ZjYnLCAnZ3JheS0yMDAnOiAnI2U1ZTdlYicsICdncmF5LTMwMCc6ICcjZDFkNWRiJywgJ2dyYXktNDAwJzogJyM5Y2EzYWYnLCAnZ3JheS01MDAnOiAnIzZiNzI4MCcsICdncmF5LTYwMCc6ICcjNGI1NTYzJywgJ2dyYXktNzAwJzogJyMzNzQxNTEnLCAnZ3JheS04MDAnOiAnIzFmMjkzNycsICdncmF5LTkwMCc6ICcjMTExODI3JyxcbiAgICAgICd2aW9sZXQtNTAnOiAnI2Y1ZjNmZicsICd2aW9sZXQtMTAwJzogJyNlZGU5ZmUnLCAndmlvbGV0LTIwMCc6ICcjZGRkNmZlJywgJ3Zpb2xldC0zMDAnOiAnI2M0YjVmZCcsICd2aW9sZXQtNDAwJzogJyNhNzhiZmEnLCAndmlvbGV0LTUwMCc6ICcjOGI1Y2Y2JywgJ3Zpb2xldC02MDAnOiAnIzdjM2FlZCcsICd2aW9sZXQtNzAwJzogJyM2ZDI4ZDknLCAndmlvbGV0LTgwMCc6ICcjNWIyMWI2JywgJ3Zpb2xldC05MDAnOiAnIzRjMWQ5NScsXG4gICAgICAncHVycGxlLTUwJzogJyNmYWY1ZmYnLCAncHVycGxlLTEwMCc6ICcjZjNlOGZmJywgJ3B1cnBsZS0yMDAnOiAnI2U5ZDVmZicsICdwdXJwbGUtMzAwJzogJyNkOGI0ZmUnLCAncHVycGxlLTQwMCc6ICcjYzA4NGZjJywgJ3B1cnBsZS01MDAnOiAnI2E4NTVmNycsICdwdXJwbGUtNjAwJzogJyM5MzMzZWEnLCAncHVycGxlLTcwMCc6ICcjN2UyMmNlJywgJ3B1cnBsZS04MDAnOiAnIzZiMjFhOCcsICdwdXJwbGUtOTAwJzogJyM1ODFjODcnLFxuICAgICAgJ2JsdWUtNTAnOiAnI2VmZjZmZicsICdibHVlLTEwMCc6ICcjZGJlYWZlJywgJ2JsdWUtMjAwJzogJyNiZmRiZmUnLCAnYmx1ZS0zMDAnOiAnIzkzYzVmZCcsICdibHVlLTQwMCc6ICcjNjBhNWZhJywgJ2JsdWUtNTAwJzogJyMzYjgyZjYnLCAnYmx1ZS02MDAnOiAnIzI1NjNlYicsICdibHVlLTcwMCc6ICcjMWQ0ZWQ4JywgJ2JsdWUtODAwJzogJyMxZTQwYWYnLCAnYmx1ZS05MDAnOiAnIzFlM2E4YScsXG4gICAgICAnZW1lcmFsZC01MCc6ICcjZWNmZGY1JywgJ2VtZXJhbGQtMTAwJzogJyNkMWZhZTUnLCAnZW1lcmFsZC0yMDAnOiAnI2E3ZjNkMCcsICdlbWVyYWxkLTMwMCc6ICcjNmVlN2I3JywgJ2VtZXJhbGQtNDAwJzogJyMzNGQzOTknLCAnZW1lcmFsZC01MDAnOiAnIzEwYjk4MScsICdlbWVyYWxkLTYwMCc6ICcjMDU5NjY5JywgJ2VtZXJhbGQtNzAwJzogJyMwNDc4NTcnLCAnZW1lcmFsZC04MDAnOiAnIzA2NWY0NicsICdlbWVyYWxkLTkwMCc6ICcjMDY0ZTNiJyxcbiAgICAgICd0ZWFsLTUwJzogJyNmMGZkZmEnLCAndGVhbC0xMDAnOiAnI2NjZmJmMScsICd0ZWFsLTIwMCc6ICcjOTlmNmU0JywgJ3RlYWwtMzAwJzogJyM1ZWVhZDQnLCAndGVhbC00MDAnOiAnIzJkZDRiZicsICd0ZWFsLTUwMCc6ICcjMTRiOGE2JywgJ3RlYWwtNjAwJzogJyMwZDk0ODgnLCAndGVhbC03MDAnOiAnIzBmNzY2ZScsICd0ZWFsLTgwMCc6ICcjMTE1ZTU5JywgJ3RlYWwtOTAwJzogJyMxMzRlNGEnLFxuICAgICAgJ2FtYmVyLTUwJzogJyNmZmZiZWInLCAnYW1iZXItMTAwJzogJyNmZWYzYzcnLCAnYW1iZXItMjAwJzogJyNmZGU2OGEnLCAnYW1iZXItMzAwJzogJyNmY2QzNGQnLCAnYW1iZXItNDAwJzogJyNmYmJmMjQnLCAnYW1iZXItNTAwJzogJyNmNTllMGInLCAnYW1iZXItNjAwJzogJyNkOTc3MDYnLCAnYW1iZXItNzAwJzogJyNiNDUzMDknLCAnYW1iZXItODAwJzogJyM5MjQwMGUnLCAnYW1iZXItOTAwJzogJyM3ODM1MGYnLFxuICAgICAgJ3JlZC01MCc6ICcjZmVmMmYyJywgJ3JlZC0xMDAnOiAnI2ZlZTJlMicsICdyZWQtMjAwJzogJyNmZWNhY2EnLCAncmVkLTMwMCc6ICcjZmNhNWE1JywgJ3JlZC00MDAnOiAnI2Y4NzE3MScsICdyZWQtNTAwJzogJyNlZjQ0NDQnLCAncmVkLTYwMCc6ICcjZGMyNjI2JywgJ3JlZC03MDAnOiAnI2I5MWMxYycsICdyZWQtODAwJzogJyM5OTFiMWInLCAncmVkLTkwMCc6ICcjN2YxZDFkJ1xuICAgIH07XG4gICAgcmV0dXJuIGNvbG9yc1tjb2xvck5hbWVdIHx8ICcjOUM2QkZGJztcbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBsaXF1ZSB1bmUgcHJvcG9zaXRpb24gZGUgbW9kaWZpY2F0aW9uIGR1IHRoXHUwMEU4bWVcbiAgICovXG4gIGFzeW5jIGZ1bmN0aW9uIGhhbmRsZUFwcGx5VGhlbWUoZSkge1xuICAgIGNvbnN0IHByb3Bvc2FsSWQgPSBlLnRhcmdldC5jbG9zZXN0KCdbZGF0YS1wcm9wb3NhbC1pZF0nKT8uZGF0YXNldC5wcm9wb3NhbElkO1xuICAgIGNvbnN0IHNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goc3RvcmVkU2l0ZS5zbHVnIHx8ICcnKTtcbiAgICBpZiAoIXByb3Bvc2FsSWQgfHwgIXNpdGVTbHVnKSByZXR1cm47XG4gICAgXG4gICAgY29uc3QgYnRuID0gZS50YXJnZXQuY2xvc2VzdCgnYnV0dG9uJyk7XG4gICAgYnRuLmRpc2FibGVkID0gdHJ1ZTtcbiAgICBidG4uaW5uZXJIVE1MID0gJzxzcGFuIGNsYXNzPVwiYW5pbWF0ZS1zcGluXCI+XHUyM0YzPC9zcGFuPiBBcHBsaWNhdGlvbi4uLic7XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2l0ZVNsdWcpfS9haS9hcHBseS10aGVtZWAsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHByb3Bvc2FsSWQgfSlcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgXG4gICAgICBpZiAocmVzcG9uc2Uub2sgJiYgZGF0YS5zdWNjZXNzKSB7XG4gICAgICAgIC8vIFJlbXBsYWNlciBsYSBjYXJkIHBhciB1biBtZXNzYWdlIGRlIHN1Y2NcdTAwRThzXG4gICAgICAgIGNvbnN0IHByb3Bvc2FsQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXByb3Bvc2FsLWlkPVwiJHtwcm9wb3NhbElkfVwiXWApO1xuICAgICAgICBpZiAocHJvcG9zYWxDYXJkKSB7XG4gICAgICAgICAgcHJvcG9zYWxDYXJkLmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ3LTggaC04IHJvdW5kZWQtZnVsbCBiZy1wdXJwbGUtNTAwIGZsZXgtc2hyaW5rLTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgPHN2ZyBjbGFzcz1cInctNCBoLTQgdGV4dC13aGl0ZVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgICAgIDxwYXRoIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTUgMTNsNCA0TDE5IDdcIi8+XG4gICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleC0xIGJnLXB1cnBsZS01MCBib3JkZXIgYm9yZGVyLXB1cnBsZS0yMDAgcm91bmRlZC0yeGwgcm91bmRlZC10bC1ub25lIHAtM1wiPlxuICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQtc20gdGV4dC1wdXJwbGUtNzAwXCI+XHUyNzA1IFRoXHUwMEU4bWUgbWlzIFx1MDBFMCBqb3VyIGF2ZWMgc3VjY1x1MDBFOHMgITwvcD5cbiAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtcHVycGxlLTYwMCBtdC0xXCI+UmVjaGFyZ2V6IGxhIHByZXZpZXcgcG91ciB2b2lyIGxlcyBjaGFuZ2VtZW50cy48L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICBgO1xuICAgICAgICB9XG4gICAgICAgIHNob3dUb2FzdCgnVGhcdTAwRThtZSBtaXMgXHUwMEUwIGpvdXIgIScpO1xuICAgICAgICBcbiAgICAgICAgLy8gRFx1MDBFOWNsZW5jaGVyIHVuIFx1MDBFOXZcdTAwRTluZW1lbnQgcGVyc29ubmFsaXNcdTAwRTkgcG91ciByYWZyYVx1MDBFRWNoaXJcbiAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ2FpLXRoZW1lLXVwZGF0ZWQnLCB7XG4gICAgICAgICAgZGV0YWlsOiB7IHVwZGF0ZWRUaGVtZTogZGF0YS51cGRhdGVkVGhlbWUgfVxuICAgICAgICB9KSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZGF0YS5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsXFwnYXBwbGljYXRpb24nKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGJ0bi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgYnRuLmlubmVySFRNTCA9IGA8c3ZnIGNsYXNzPVwidy0zLjUgaC0zLjVcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk01IDEzbDQgNEwxOSA3XCIvPjwvc3ZnPiBSXHUwMEU5ZXNzYXllcmA7XG4gICAgICBzaG93VG9hc3QoYEVycmV1cjogJHtlcnIubWVzc2FnZX1gKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQXBwbGlxdWUgdW5lIHByb3Bvc2l0aW9uIGQnXHUwMEU5ZGl0aW9uIHZhbGlkXHUwMEU5ZVxuICAgKi9cbiAgYXN5bmMgZnVuY3Rpb24gaGFuZGxlQXBwbHlFZGl0KGUpIHtcbiAgICBjb25zdCBwcm9wb3NhbElkID0gZS50YXJnZXQuY2xvc2VzdCgnW2RhdGEtcHJvcG9zYWwtaWRdJyk/LmRhdGFzZXQucHJvcG9zYWxJZDtcbiAgICBjb25zdCBzaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyk7XG4gICAgaWYgKCFwcm9wb3NhbElkIHx8ICFzaXRlU2x1ZykgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0IGJ0biA9IGUudGFyZ2V0LmNsb3Nlc3QoJ2J1dHRvbicpO1xuICAgIGJ0bi5kaXNhYmxlZCA9IHRydWU7XG4gICAgYnRuLmlubmVySFRNTCA9ICc8c3BhbiBjbGFzcz1cImFuaW1hdGUtc3BpblwiPlx1MjNGMzwvc3Bhbj4gQXBwbGljYXRpb24uLi4nO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNpdGVTbHVnKX0vYWkvYXBwbHktZWRpdGAsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHByb3Bvc2FsSWQgfSlcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgXG4gICAgICBpZiAocmVzcG9uc2Uub2sgJiYgZGF0YS5zdWNjZXNzKSB7XG4gICAgICAgIC8vIFJlbXBsYWNlciBsYSBjYXJkIHBhciB1biBtZXNzYWdlIGRlIHN1Y2NcdTAwRThzXG4gICAgICAgIGNvbnN0IHByb3Bvc2FsQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXByb3Bvc2FsLWlkPVwiJHtwcm9wb3NhbElkfVwiXWApO1xuICAgICAgICBpZiAocHJvcG9zYWxDYXJkKSB7XG4gICAgICAgICAgcHJvcG9zYWxDYXJkLmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ3LTggaC04IHJvdW5kZWQtZnVsbCBiZy1lbWVyYWxkLTUwMCBmbGV4LXNocmluay0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJ3LTQgaC00IHRleHQtd2hpdGVcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgICAgICA8cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk01IDEzbDQgNEwxOSA3XCIvPlxuICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXgtMSBiZy1lbWVyYWxkLTUwIGJvcmRlciBib3JkZXItZW1lcmFsZC0yMDAgcm91bmRlZC0yeGwgcm91bmRlZC10bC1ub25lIHAtM1wiPlxuICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQtc20gdGV4dC1lbWVyYWxkLTcwMFwiPlx1MjcwNSBNb2RpZmljYXRpb25zIGFwcGxpcXVcdTAwRTllcyBhdmVjIHN1Y2NcdTAwRThzICE8L3A+XG4gICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC14cyB0ZXh0LWVtZXJhbGQtNjAwIG10LTFcIj5MYSBwcmV2aWV3IHNlIG1ldCBcdTAwRTAgam91ciBhdXRvbWF0aXF1ZW1lbnQuPC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgYDtcbiAgICAgICAgfVxuICAgICAgICBzaG93VG9hc3QoJ01vZGlmaWNhdGlvbnMgYXBwbGlxdVx1MDBFOWVzICEnKTtcbiAgICAgICAgXG4gICAgICAgIC8vIERcdTAwRTljbGVuY2hlciB1biBcdTAwRTl2XHUwMEU5bmVtZW50IHBlcnNvbm5hbGlzXHUwMEU5IHBvdXIgcmFmcmFcdTAwRUVjaGlyIGxhIHByZXZpZXdcbiAgICAgICAgY29uc3QgcGFnZUlkID0gZGF0YS51cGRhdGVkUGFnZT8uaWQgfHwgbnVsbDtcbiAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ2FpLXBhZ2UtdXBkYXRlZCcsIHtcbiAgICAgICAgICBkZXRhaWw6IHsgcGFnZUlkLCB1cGRhdGVkUGFnZTogZGF0YS51cGRhdGVkUGFnZSB9XG4gICAgICAgIH0pKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihkYXRhLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGRlIGxcXCdhcHBsaWNhdGlvbicpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgYnRuLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICBidG4uaW5uZXJIVE1MID0gYDxzdmcgY2xhc3M9XCJ3LTMuNSBoLTMuNVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTUgMTNsNCA0TDE5IDdcIi8+PC9zdmc+IFJcdTAwRTllc3NheWVyYDtcbiAgICAgIHNob3dUb2FzdChgRXJyZXVyOiAke2Vyci5tZXNzYWdlfWApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZWpldHRlIHVuZSBwcm9wb3NpdGlvbiBkJ1x1MDBFOWRpdGlvblxuICAgKi9cbiAgYXN5bmMgZnVuY3Rpb24gaGFuZGxlUmVqZWN0RWRpdChlKSB7XG4gICAgY29uc3QgcHJvcG9zYWxJZCA9IGUudGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLXByb3Bvc2FsLWlkXScpPy5kYXRhc2V0LnByb3Bvc2FsSWQ7XG4gICAgY29uc3Qgc2l0ZVNsdWcgPSBzdHJpcExlYWRpbmdTbGFzaChzdG9yZWRTaXRlLnNsdWcgfHwgJycpO1xuICAgIGlmICghcHJvcG9zYWxJZCB8fCAhc2l0ZVNsdWcpIHJldHVybjtcbiAgICBcbiAgICB0cnkge1xuICAgICAgYXdhaXQgZmV0Y2goYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2l0ZVNsdWcpfS9haS9wcm9wb3NhbC8ke3Byb3Bvc2FsSWR9YCwge1xuICAgICAgICBtZXRob2Q6ICdERUxFVEUnXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgLy8gUmVtcGxhY2VyIGxhIGNhcmQgcGFyIHVuIG1lc3NhZ2UgZGUgcmVqZXRcbiAgICAgIGNvbnN0IHByb3Bvc2FsQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXByb3Bvc2FsLWlkPVwiJHtwcm9wb3NhbElkfVwiXWApO1xuICAgICAgaWYgKHByb3Bvc2FsQ2FyZCkge1xuICAgICAgICBwcm9wb3NhbENhcmQuaW5uZXJIVE1MID0gYFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ3LTggaC04IHJvdW5kZWQtZnVsbCBiZy1zbGF0ZS00MDAgZmxleC1zaHJpbmstMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgPHN2ZyBjbGFzcz1cInctNCBoLTQgdGV4dC13aGl0ZVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgICA8cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk02IDE4TDE4IDZNNiA2bDEyIDEyXCIvPlxuICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXgtMSBiZy1zbGF0ZS0xMDAgcm91bmRlZC0yeGwgcm91bmRlZC10bC1ub25lIHAtM1wiPlxuICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXNtIHRleHQtc2xhdGUtNTAwXCI+UHJvcG9zaXRpb24gcmVqZXRcdTAwRTllLjwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgYDtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tBSV0gUmVqZWN0IGVkaXQgZXJyb3I6JywgZXJyKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRWZmYWNlIGwnaGlzdG9yaXF1ZSBkdSBjaGF0XG4gICAqL1xuICBhc3luYyBmdW5jdGlvbiBjbGVhckFJSGlzdG9yeSgpIHtcbiAgICBjb25zdCBzaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyk7XG4gICAgaWYgKCFzaXRlU2x1ZyB8fCAhYWlDaGF0TWVzc2FnZXMpIHJldHVybjtcbiAgICBcbiAgICB0cnkge1xuICAgICAgYXdhaXQgZmV0Y2goYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2l0ZVNsdWcpfS9haS9oaXN0b3J5YCwgeyBtZXRob2Q6ICdERUxFVEUnIH0pO1xuICAgICAgXG4gICAgICAvLyBWaWRlciBsZXMgbWVzc2FnZXNcbiAgICAgIGFpQ2hhdE1lc3NhZ2VzLmlubmVySFRNTCA9ICcnO1xuICAgICAgXG4gICAgICAvLyBSXHUwMEU5YWZmaWNoZXIgbGUgbWVzc2FnZSBkZSBiaWVudmVudWVcbiAgICAgIGFpQ2hhdE1lc3NhZ2VzLmlubmVySFRNTCA9IGBcbiAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggZ2FwLTNcIiBkYXRhLWFpLXdlbGNvbWU+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInctOCBoLTggcm91bmRlZC1mdWxsIGJnLWdyYWRpZW50LXRvLWJyIGZyb20tdmlvbGV0LTUwMCB0by1pbmRpZ28tNjAwIGZsZXgtc2hyaW5rLTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJ3LTQgaC00IHRleHQtd2hpdGVcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNOS42NjMgMTdoNC42NzNNMTIgM3YxbTYuMzY0IDEuNjM2bC0uNzA3LjcwN00yMSAxMmgtMU00IDEySDNtMy4zNDMtNS42NTdsLS43MDctLjcwN20yLjgyOCA5LjlhNSA1IDAgMTE3LjA3MiAwbC0uNTQ4LjU0N0EzLjM3NCAzLjM3NCAwIDAwMTQgMTguNDY5VjE5YTIgMiAwIDExLTQgMHYtLjUzMWMwLS44OTUtLjM1Ni0xLjc1NC0uOTg4LTIuMzg2bC0uNTQ4LS41NDd6XCIvPlxuICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXgtMSBiZy1zbGF0ZS01MCByb3VuZGVkLTJ4bCByb3VuZGVkLXRsLW5vbmUgcC0zXCI+XG4gICAgICAgICAgICA8cCBjbGFzcz1cInRleHQtc20gdGV4dC1zbGF0ZS03MDBcIj5cbiAgICAgICAgICAgICAgU2FsdXQgISBcdUQ4M0RcdURDNEIgSmUgc3VpcyB0b24gYXNzaXN0YW50IElBIHBvdXIgY2Ugc2l0ZS4gSmUgcGV1eCB0J2FpZGVyIFx1MDBFMCA6XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8dWwgY2xhc3M9XCJtdC0yIHRleHQtc20gdGV4dC1zbGF0ZS02MDAgc3BhY2UteS0xXCI+XG4gICAgICAgICAgICAgIDxsaT5cdUQ4M0NcdURGQTggU3VnZ1x1MDBFOXJlciBkZXMgcGFsZXR0ZXMgZGUgY291bGV1cnM8L2xpPlxuICAgICAgICAgICAgICA8bGk+XHUyNzBEXHVGRTBGIEdcdTAwRTluXHUwMEU5cmVyIGR1IGNvbnRlbnUgcG91ciB0ZXMgYmxvY3M8L2xpPlxuICAgICAgICAgICAgICA8bGk+XHVEODNEXHVEQ0M0IENyXHUwMEU5ZXIgZGVzIHN0cnVjdHVyZXMgZGUgcGFnZXM8L2xpPlxuICAgICAgICAgICAgICA8bGk+XHVEODNEXHVERDBEIEFtXHUwMEU5bGlvcmVyIHRvbiBTRU88L2xpPlxuICAgICAgICAgICAgICA8bGk+XHUyNzBGXHVGRTBGIDxzdHJvbmc+QW5hbHlzZXIgZXQgbW9kaWZpZXIgdGVzIHBhZ2VzPC9zdHJvbmc+IChhdmVjIHZhbGlkYXRpb24pPC9saT5cbiAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgYDtcbiAgICAgIFxuICAgICAgc2hvd1RvYXN0KCdIaXN0b3JpcXVlIGVmZmFjXHUwMEU5Jyk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdbQUldIENsZWFyIGhpc3RvcnkgZmFpbGVkOicsIGVycik7XG4gICAgICBzaG93VG9hc3QoJ0VycmV1ciBsb3JzIGRlIGxcXCdlZmZhY2VtZW50Jyk7XG4gICAgfVxuICB9XG5cbiAgLy8gUHJvbXB0cyByYXBpZGVzXG4gIGNvbnN0IHF1aWNrUHJvbXB0cyA9IHtcbiAgICBjb2xvcnM6ICdTdWdnXHUwMEU4cmUtbW9pIDMgcGFsZXR0ZXMgZGUgY291bGV1cnMgaGFybW9uaWV1c2VzIHBvdXIgbW9uIHNpdGUuIFBvdXIgY2hhcXVlIHBhbGV0dGUsIGRvbm5lIGxlcyBjb3VsZXVycyBUYWlsd2luZDogcHJpbWFyeSwgc2Vjb25kYXJ5LCBhY2NlbnQsIGV0IGJhY2tncm91bmQuJyxcbiAgICBoZXJvOiAnR1x1MDBFOW5cdTAwRThyZSB1biBibG9jIEhlcm8gZW4gSlNPTiBhdmVjIHVuIHRpdHJlIGFjY3JvY2hldXIsIHVuIHNvdXMtdGl0cmUgZW5nYWdlYW50IGV0IHVuIENUQS4nLFxuICAgIHNlbzogJ0FuYWx5c2UgbW9uIHNpdGUgZXQgc3VnZ1x1MDBFOHJlIGRlcyBhbVx1MDBFOWxpb3JhdGlvbnMgU0VPIHBvdXIgbGUgbWV0YSB0aXRsZSBldCBsYSBtZXRhIGRlc2NyaXB0aW9uIGRlIG1hIHBhZ2UgZFxcJ2FjY3VlaWwuJyxcbiAgICBsYW5kaW5nOiAnR1x1MDBFOW5cdTAwRThyZSBsYSBzdHJ1Y3R1cmUgSlNPTiBkXFwndW5lIGxhbmRpbmcgcGFnZSBjb21wbFx1MDBFOHRlIGF2ZWM6IEhlcm8sIDMgc2VjdGlvbnMgZGUgY29udGVudSwgZXQgdW4gQ1RBIGZpbmFsLicsXG4gICAgYW5hbHl6ZTogJ0FuYWx5c2UgbGUgY29udGVudSBkZSB0b3V0ZXMgbWVzIHBhZ2VzIGV0IHByb3Bvc2UgZGVzIGFtXHUwMEU5bGlvcmF0aW9ucyBjb25jclx1MDBFOHRlcy4gUG91ciBjaGFxdWUgc3VnZ2VzdGlvbiBkXFwnYW1cdTAwRTlsaW9yYXRpb24gZGUgdGV4dGUgb3UgZGUgc3RydWN0dXJlLCB1dGlsaXNlIGxlIGZvcm1hdCBwcm9wb3NlLWVkaXQgcG91ciBxdWUgamUgcHVpc3NlIHZhbGlkZXIuJyxcbiAgICBpbXByb3ZlSG9tZTogJ0FuYWx5c2UgbWEgcGFnZSBkXFwnYWNjdWVpbCBldCBwcm9wb3NlIHVuZSBhbVx1MDBFOWxpb3JhdGlvbiBkdSB0aXRyZSBvdSBkdSBIZXJvIHBvdXIgbGUgcmVuZHJlIHBsdXMgaW1wYWN0YW50LiBVdGlsaXNlIGxlIGZvcm1hdCBwcm9wb3NlLWVkaXQuJ1xuICB9O1xuXG4gIC8vIEV2ZW50IGxpc3RlbmVyc1xuICBhaUNoYXRUb2dnbGU/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGlmIChhaUNoYXRPcGVuKSB7XG4gICAgICBjbG9zZUFJQ2hhdCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvcGVuQUlDaGF0KCk7XG4gICAgfVxuICB9KTtcblxuICBhaUNoYXRDbG9zZT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZUFJQ2hhdCk7XG4gIGFpQ2hhdE92ZXJsYXk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VBSUNoYXQpO1xuXG4gIGFpQ2hhdENsZWFyPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBpZiAoY29uZmlybSgnRWZmYWNlciB0b3V0IGxcXCdoaXN0b3JpcXVlIGRlIGNvbnZlcnNhdGlvbiA/JykpIHtcbiAgICAgIGNsZWFyQUlIaXN0b3J5KCk7XG4gICAgfVxuICB9KTtcblxuICBhaUNoYXRGb3JtPy5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCBtZXNzYWdlID0gYWlDaGF0SW5wdXQ/LnZhbHVlPy50cmltKCk7XG4gICAgaWYgKG1lc3NhZ2UpIHtcbiAgICAgIGFpQ2hhdElucHV0LnZhbHVlID0gJyc7XG4gICAgICBzZW5kQUlNZXNzYWdlKG1lc3NhZ2UpO1xuICAgIH1cbiAgfSk7XG5cbiAgYWlRdWlja0J1dHRvbnMuZm9yRWFjaChidG4gPT4ge1xuICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IGFjdGlvbiA9IGJ0bi5kYXRhc2V0LmFpUXVpY2s7XG4gICAgICBjb25zdCBwcm9tcHQgPSBxdWlja1Byb21wdHNbYWN0aW9uXTtcbiAgICAgIGlmIChwcm9tcHQpIHtcbiAgICAgICAgc2VuZEFJTWVzc2FnZShwcm9tcHQpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcblxuICAvLyBGZXJtZXIgYXZlYyBFc2NhcGVcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChlKSA9PiB7XG4gICAgaWYgKGUua2V5ID09PSAnRXNjYXBlJyAmJiBhaUNoYXRPcGVuKSB7XG4gICAgICBjbG9zZUFJQ2hhdCgpO1xuICAgIH1cbiAgfSk7XG59KTtcbiJdLAogICJtYXBwaW5ncyI6ICJNQUFBLFNBQVMsaUJBQWlCLG1CQUFvQixJQUFNLENBQXBELElBQUFBLEdBQ0UsUUFBUSxJQUFJLDJCQUF3QixFQUNwQyxJQUFNQyxHQUFlLFNBQVMsY0FBYyxlQUFlLEVBQ3ZEQSxJQUNGQSxHQUFhLGlCQUFpQixRQUFTLFNBQVksQ0FDakRBLEdBQWEsU0FBVyxHQUN4QixHQUFJLENBQ0YsTUFBTSxNQUFNLGNBQWUsQ0FDekIsT0FBUSxPQUNSLFFBQVMsQ0FDUCxlQUFnQixrQkFDbEIsQ0FDRixDQUFDLENBQ0gsT0FBU0MsRUFBSyxDQUNaLFFBQVEsTUFBTSwwQ0FBd0NBLENBQUcsQ0FDM0QsUUFBRSxDQUNBLE9BQU8sU0FBUyxLQUFPLG1CQUN6QixDQUNGLENBQUMsRUFHSCxJQUFNQyxHQUFVLFNBQVMsY0FBYyxzQkFBc0IsRUFDdkRDLEdBQWlCLFNBQVMsY0FBYyw4QkFBOEIsRUFDdEVDLEdBQWlCLFNBQVMsaUJBQWlCLDZCQUE2QixFQUN4RUMsR0FBc0IsU0FBUyxpQkFBaUIsNEJBQTRCLEVBQzVFQyxHQUFPLFNBQVMsS0FDbEJDLEdBQWMsR0FFWkMsR0FBb0IsSUFBTSxDQUM5QixHQUFJLENBQUNOLEdBQ0gsT0FHRixHQURrQixPQUFPLFdBQVcscUJBQXFCLEVBQUUsUUFDNUMsQ0FDYkEsR0FBUSxVQUFVLE9BQU8sUUFBUSxFQUNqQ0MsSUFBQSxNQUFBQSxHQUFnQixVQUFVLElBQUksVUFDOUJHLEdBQUssVUFBVSxPQUFPLGlCQUFpQixFQUN2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QUFjbUIsQ0FBTSxDQUV4QixDQUFDLENBQ0gsQ0FBQyxFQUdELFNBQVMsaUJBQWlCLFVBQVk5aEIsR0FBTSxDQUN0Q0EsRUFBRSxNQUFRLFVBQVltZixJQUN4Qk0sR0FBWSxDQUVoQixDQUFDLENBQ0gsQ0FBQyIsCiAgIm5hbWVzIjogWyJfYSIsICJsb2dvdXRCdXR0b24iLCAiZXJyIiwgInNpZGViYXIiLCAic2lkZWJhck92ZXJsYXkiLCAic2lkZWJhclRvZ2dsZXMiLCAic2lkZWJhckNsb3NlQnV0dG9ucyIsICJib2R5IiwgInNpZGViYXJPcGVuIiwgImFwcGx5U2lkZWJhclN0YXRlIiwgIm9wZW5TaWRlYmFyIiwgImNsb3NlU2lkZWJhciIsICJidXR0b24iLCAiZXZlbnQiLCAiQUNUSVZFX1NJVEVfS0VZIiwgIkFDVElWRV9TSVRFX05BTUVfS0VZIiwgInN0b3JlZFNpdGUiLCAicmF3U2x1ZyIsICJlbnN1cmVMZWFkaW5nU2xhc2giLCAic3RyaXBMZWFkaW5nU2xhc2giLCAic2l0ZUNhcmRzIiwgInNpdGVTZWxlY3RCdXR0b25zIiwgInNpdGVOYW1lTGFiZWwiLCAid29ya3NwYWNlU2l0ZUxhYmVsIiwgIndvcmtzcGFjZUJhY2tOYW1lIiwgIndvcmtzcGFjZUJhY2tNb2RhbCIsICJ3b3Jrc3BhY2VCYWNrQnV0dG9ucyIsICJ3b3Jrc3BhY2VCYWNrQ2FuY2VsIiwgIndvcmtzcGFjZUJhY2tDb25maXJtIiwgIndvcmtzcGFjZU5hdkxpbmtzIiwgInNpdGVUb2FzdCIsICJzaXRlVG9hc3RNZXNzYWdlIiwgInNpdGVDcmVhdGVCdXR0b25zIiwgInNpdGVNb2RhbCIsICJzaXRlRm9ybSIsICJzaXRlTmFtZUlucHV0IiwgInNpdGVTbHVnSW5wdXQiLCAic2l0ZVNsdWdFcnJvciIsICJzaXRlTW9kYWxFcnJvciIsICJzaXRlTW9kYWxDYW5jZWxCdXR0b25zIiwgInNpdGVNb2RhbFN1Ym1pdEJ1dHRvbiIsICJ3b3Jrc3BhY2VDb250ZXh0IiwgImdldFdvcmtzcGFjZUNvbnRleHQiLCAic2x1Z01hbnVhbGx5RWRpdGVkIiwgInRvYXN0VGltZW91dElkIiwgImZvY3VzYWJsZVNlbGVjdG9yIiwgIm1vZGFsU3RhY2siLCAiZ2V0Rm9jdXNhYmxlRWxlbWVudHMiLCAibW9kYWwiLCAiZWwiLCAiaGFuZGxlTW9kYWxLZXlkb3duIiwgImN1cnJlbnRFbnRyeSIsICJvbkNsb3NlIiwgImZvY3VzYWJsZUVsZW1lbnRzIiwgImZpcnN0IiwgImxhc3QiLCAiYWN0aXZhdGVNb2RhbCIsICJmb2N1c2FibGUiLCAiX2IiLCAiZGVhY3RpdmF0ZU1vZGFsIiwgImluZGV4IiwgImVudHJ5IiwgIm1vYmlsZVBhbmVsT3ZlcmxheSIsICJtb2JpbGVQYW5lbExheWVyIiwgIm1vYmlsZVBhbmVscyIsICJtb2JpbGVQYW5lbExheWVyUGxhY2Vob2xkZXIiLCAicmlnaHRQYW5lbFBsYWNlaG9sZGVyIiwgIm1vYmlsZVBhbmVsVG9nZ2xlcyIsICJtb2JpbGVQYW5lbENsb3NlQnV0dG9ucyIsICJtb2JpbGVQYW5lbFRyaWdnZXJzIiwgImFjdGl2ZU1vYmlsZVBhbmVsIiwgImlzRGVza3RvcFZpZXdwb3J0IiwgImVuc3VyZU1vYmlsZVBhbmVsTGF5ZXJQbGFjZW1lbnQiLCAidGFyZ2V0UGFyZW50IiwgImVuc3VyZVJpZ2h0UGFuZWxQbGFjZW1lbnQiLCAicGFuZWwiLCAibGVmdFBhbmVsIiwgImVuc3VyZU1vYmlsZVBhbmVsUGxhY2VtZW50IiwgInBhbmVsRGVmYXVsdFoiLCAic2lkZSIsICJjb21wdXRlZFoiLCAiYWN0aXZlUGFuZWxaIiwgIm1heCIsICJ2YWx1ZSIsICJzZXRQYW5lbFpTdGF0ZSIsICJpc0FjdGl2ZSIsICJhcHBseVBhbmVsQ2xhc3NlcyIsICJjbGFzc2VzIiwgIm1ldGhvZCIsICJjbHMiLCAic2V0UGFuZWxIaWRkZW5TdGF0ZSIsICJoaWRkZW4iLCAiaGlkZGVuQ2xhc3NlcyIsICJ2aXNpYmxlQ2xhc3NlcyIsICJjbG9zZU1vYmlsZVBhbmVsIiwgInRyaWdnZXIiLCAib3Blbk1vYmlsZVBhbmVsIiwgImZvY3VzVGFyZ2V0IiwgInN5bmNNb2JpbGVQYW5lbHNXaXRoVmlld3BvcnQiLCAic2hvd1RvYXN0IiwgIm1lc3NhZ2UiLCAic2x1ZyIsICJ0cmltbWVkIiwgIndpdGhvdXRMZWFkaW5nIiwgInBlcnNpc3RTaXRlU3RhdGUiLCAibmFtZSIsICJub3JtYWxpemVkU2x1ZyIsICJ1cGRhdGVTaXRlTGFiZWxzIiwgInVwZGF0ZVdvcmtzcGFjZU5hdkxpbmtzIiwgImxpbmsiLCAidGFiIiwgInNsdWdQYXRoIiwgImFwcGx5QWN0aXZlU2l0ZSIsICJvcHRpb25zIiwgImFjdGl2ZVNpdGVOYW1lIiwgImNhcmQiLCAiYmFkZ2UiLCAiZmluYWxOYW1lIiwgInNlbGVjdFNpdGUiLCAicmVzcG9uc2UiLCAicGF5bG9hZCIsICJmaW5hbFNsdWciLCAic3luY0FjdGl2ZVNpdGVGcm9tU2VydmVyIiwgInNpdGUiLCAiZGVmYXVsdENhcmQiLCAid29ya3NwYWNlU2x1Z2lmeSIsICJub3JtYWxpemVTbHVnVmFsdWUiLCAiYmFzZSIsICJvcGVuU2l0ZU1vZGFsIiwgImNsb3NlU2l0ZU1vZGFsIiwgInNsdWdWYWwiLCAibmFtZVZhbCIsICJnZXRTbHVnU2V0IiwgIm5hbWVWYWx1ZSIsICJzbHVnVmFsdWUiLCAiY3JlYXRlZFNpdGUiLCAiY2xvc2VXb3Jrc3BhY2VCYWNrTW9kYWwiLCAibWF0Y2giLCAiZGV0ZWN0V29ya3NwYWNlU2VjdGlvbiIsICJvcGVuV29ya3NwYWNlQmFja01vZGFsIiwgImFjdGl2ZVNlY3Rpb24iLCAiaW5pdERlc2lnbldvcmtzcGFjZSIsICJpbml0Q29udGVudFdvcmtzcGFjZSIsICJpbml0TWVkaWFXb3Jrc3BhY2UiLCAiaW5pdERlcGxveVdvcmtzcGFjZSIsICJpbml0U2V0dGluZ3NXb3Jrc3BhY2UiLCAicGFnZUxpc3RzIiwgImFjdGl2ZVRpdGxlIiwgImFjdGl2ZVNsdWciLCAicHJldmlld1RhZ3MiLCAicHJldmlld0ZyYW1lIiwgInByZXZpZXdGcmFtZVdyYXBwZXIiLCAicHJldmlld1NoZWxsIiwgInByZXZpZXdWaWV3QnV0dG9ucyIsICJwcmV2aWV3Q3VycmVudFZpZXdMYWJlbCIsICJwcmV2aWV3T3BlbkJ1dHRvbiIsICJwcmV2aWV3U3RhdHVzIiwgInByZXZpZXdIaWdobGlnaHRPdmVybGF5IiwgInNlb1RvZ2dsZUJ1dHRvbiIsICJzZW9QYW5lbCIsICJzZW9DbG9zZUJ1dHRvbiIsICJzZW9Gb3JtIiwgInNlb1RpdGxlSW5wdXQiLCAic2VvRGVzY3JpcHRpb25JbnB1dCIsICJzZW9JbmRleGVkQ2hlY2tib3giLCAic2VvRmVlZGJhY2siLCAic2VvU2F2ZUJ1dHRvbiIsICJwYWdlQWNjZXNzaWJpbGl0eVRvZ2dsZUJ1dHRvbiIsICJwYWdlQWNjZXNzaWJpbGl0eVBhbmVsIiwgInBhZ2VBY2Nlc3NpYmlsaXR5Q2xvc2VCdXR0b24iLCAicGFnZUFjY2Vzc2liaWxpdHlGb3JtIiwgInBhZ2VBY2Nlc3NpYmlsaXR5TmF2Q2hlY2tib3giLCAicGFnZUFjY2Vzc2liaWxpdHlNYWluSW5wdXQiLCAicGFnZUFjY2Vzc2liaWxpdHlGZWVkYmFjayIsICJwYWdlQWNjZXNzaWJpbGl0eVNhdmVCdXR0b24iLCAicGFnZVByb3BzVG9nZ2xlQnV0dG9uIiwgInBhZ2VQcm9wc1BhbmVsIiwgInBhZ2VQcm9wc0Nsb3NlQnV0dG9uIiwgInBhZ2VQcm9wc0Zvcm0iLCAicGFnZU5hbWVJbnB1dCIsICJwYWdlVGl0bGVJbnB1dCIsICJwYWdlU2x1Z0lucHV0IiwgInBhZ2VEZXNjcmlwdGlvbklucHV0IiwgInBhZ2VQcm9wc0ZlZWRiYWNrIiwgInBhZ2VQcm9wc1NhdmVCdXR0b24iLCAiYmxvY2tMaXN0IiwgImJsb2NrTGlzdEVtcHR5IiwgImJsb2NrQ291bnRCYWRnZSIsICJibG9ja0xpYnJhcnlUb2dnbGUiLCAiYmxvY2tMaWJyYXJ5IiwgImJsb2NrQWRkQnV0dG9ucyIsICJibG9ja0RlbGV0ZU1vZGFsIiwgImJsb2NrRGVsZXRlQ29uZmlybSIsICJibG9ja0RlbGV0ZUNhbmNlbCIsICJibG9ja0RldGFpbEVtcHR5IiwgImJsb2NrRGV0YWlsU3RhdHVzIiwgImJsb2NrRWRpdG9yIiwgImJsb2NrRWRpdG9yVGl0bGUiLCAiYmxvY2tFZGl0b3JUeXBlIiwgImJsb2NrRWRpdG9yVW5zdXBwb3J0ZWQiLCAiYmxvY2tGb3JtIiwgInN0eWxlQ29sb3JDaGlwIiwgImNoaXAiLCAiY29sb3IiLCAidXBkYXRlQ29sb3JTZWxlY3RQcmV2aWV3IiwgInNlbGVjdCIsICJfYyIsICJzZWxlY3RlZE9wdGlvbiIsICJjb2xvclByZXZpZXciLCAiY29sb3JDaGlwIiwgInRoZW1lQ29sb3JTZWxlY3RzIiwgInRoZW1lQ29sb3JQcmVzZXRzIiwgImdldENvbXB1dGVkVGhlbWVDb2xvclZhbHVlIiwgImNzc1ZhciIsICJmYWxsYmFjayIsICJjb21wdXRlZCIsICJmaWxsVGhlbWVDb2xvclNlbGVjdCIsICJsYWJlbCIsICJvcHRpb24iLCAiY29sb3JWYWx1ZSIsICJlbnN1cmVDdXN0b21UaGVtZU9wdGlvbiIsICJvcHQiLCAicmVmcmVzaFRoZW1lQ29sb3JTZWxlY3RzIiwgImJsb2NrRm9ybVNlY3Rpb25zIiwgImJsb2NrVGFicyIsICJhY3RpdmVCbG9ja1RhYiIsICJsZWZ0UGFuZWxUYWJzIiwgImxlZnRQYW5lbEJsb2NrcyIsICJsZWZ0UGFuZWxQYWdlcyIsICJhY3RpdmVMZWZ0VGFiIiwgInN3aXRjaExlZnRUYWIiLCAidGFiTmFtZSIsICJibG9ja0Zvcm1BY3Rpb25zIiwgImJsb2NrRm9ybUF1dG9zYXZlIiwgInN3aXRjaEJsb2NrVGFiIiwgImNvbGxlY3Rpb25TZWxlY3QiLCAiY29sbGVjdGlvblNlbGVjdGlvbkluZm8iLCAiYmxvY2tGb3JtQ2FuY2VsIiwgImdyb3VwUHJldmlld01vYmlsZSIsICJncm91cFByZXZpZXdEZXNrdG9wIiwgImNvbGxlY3Rpb25QcmV2aWV3TW9iaWxlIiwgImNvbGxlY3Rpb25QcmV2aWV3RGVza3RvcCIsICJibG9ja1R5cGVGb3JtcyIsICJibG9ja1R5cGVBbGlhc2VzIiwgImFuaW1hdGlvbkZpZWxkTWFwIiwgImNvbmZpZyIsICJ1cGRhdGVHcm91cE1pbmlQcmV2aWV3IiwgIm1vYmlsZVZhbHVlIiwgImRlc2t0b3BWYWx1ZSIsICJyZW5kZXJCb3hlcyIsICJjb3VudCIsICJ1cGRhdGVDb2xsZWN0aW9uTWluaVByZXZpZXciLCAiZmV0Y2hQYWdlc0Zyb21TZXJ2ZXIiLCAicGFnZXNBcGlCYXNlIiwgImNyZWF0ZVBhZ2VPblNlcnZlciIsICJ0aXRsZSIsICJzYXZlUGFnZVRvU2VydmVyIiwgInBhZ2UiLCAic2F2ZWQiLCAibm9ybWFsaXplZCIsICJub3JtYWxpemVQYWdlRGF0YSIsICJwYWdlcyIsICJjdXJyZW50UGFnZSIsICJsb2FkUGFnZXNGcm9tU2VydmVyIiwgImFjdGl2ZVBhZ2VJZCIsICJyZW5kZXJQYWdlTGlzdHMiLCAicmVuZGVyQmxvY2tMaXN0IiwgImxvYWRlZFBhZ2VzIiwgImdldExvYWRpbmdQcmV2aWV3SHRtbCIsICJnZXRTdG9yZWRBY3RpdmVQYWdlIiwgInNldEFjdGl2ZVBhZ2UiLCAibm9ybWFsaXplVHlwZSIsICJnZXRCbG9ja0Zvcm1Db25maWciLCAiYmxvY2siLCAidHlwZUtleSIsICJhbGlhcyIsICJwb3B1bGF0ZUJsb2NrRm9ybSIsICJfZCIsICJfZSIsICJfZiIsICJfZyIsICJzZWN0aW9uIiwgImRlc2lyZWRWYWx1ZSIsICJ1cGRhdGVDb2xsZWN0aW9uU2VsZWN0T3B0aW9ucyIsICJzZXR0aW5nS2V5IiwgImZpZWxkTmFtZSIsICJpbnB1dCIsICJiZ0ZpZWxkTmFtZSIsICJiZ1NlbGVjdCIsICJjb2xsZWN0Rm9ybVZhbHVlcyIsICJ2YWx1ZXMiLCAicGFyc2VkIiwgInVwZGF0ZVByZXZpZXdTdGF0dXMiLCAidGV4dCIsICJzZXJpYWxpemVQYWdlRm9yUHJldmlldyIsICJzZXJpYWxpemVCbG9jayIsICJkZWJvdW5jZSIsICJmbiIsICJkZWxheSIsICJ0aW1lb3V0SWQiLCAiYXJncyIsICJhdXRvU2F2ZUFwcGVhcmFuY2UiLCAiYWN0aXZlQmxvY2tJZCIsICJnZXRBY3RpdmVCbG9jayIsICJ1cGRhdGVkQmxvY2tzIiwgInVwZGF0ZWRTZXR0aW5ncyIsICJuZXh0UGFnZSIsICJwIiwgInVwZGF0ZVByZXZpZXdCbG9ja0xpdmUiLCAiYmxvY2tJZCIsICJzZXR0aW5ncyIsICJkZWJvdW5jZWRSZWZyZXNoUHJldmlldyIsICJyZWZyZXNoUHJldmlldyIsICJoYW5kbGVBcHBlYXJhbmNlQ2hhbmdlIiwgInByZXZpZXdTaXRlU2x1ZyIsICJzZXJpYWxpemVkUGFnZXMiLCAicHJldmlld1JlYWR5IiwgInByZXZpZXdSZXF1ZXN0Q29udHJvbGxlciIsICJjb250cm9sbGVyIiwgImRhdGEiLCAibGF0ZXN0UHJldmlld0h0bWwiLCAiZXJyb3IiLCAiaGFuZGxlQmxvY2tGb3JtU3VibWl0IiwgImFsdFZhbHVlIiwgInVwZGF0ZWRCbG9jayIsICJ1cGRhdGVDdXJyZW50UGFnZUJsb2NrcyIsICJkcmF3ZXIiLCAiZHJhd2VyQmFja2Ryb3AiLCAiZHJhd2VyT3BlbkJ1dHRvbnMiLCAiZHJhd2VyQ2xvc2VCdXR0b25zIiwgImFkZFBhZ2VUb2dnbGUiLCAiYWRkUGFnZUZvcm0iLCAiYWRkUGFnZU5hbWUiLCAiYWRkUGFnZVRpdGxlIiwgImFkZFBhZ2VTbHVnIiwgImFkZFBhZ2VDYW5jZWwiLCAiYWRkUGFnZUVycm9yIiwgImFkZFBhZ2VTdWJtaXRCdXR0b24iLCAiaW1wb3J0VG9nZ2xlIiwgImltcG9ydE1vZGFsIiwgImltcG9ydENsb3NlQnV0dG9ucyIsICJpbXBvcnREcm9wem9uZSIsICJpbXBvcnRGaWxlSW5wdXQiLCAiaW1wb3J0RmlsZUxpc3QiLCAiaW1wb3J0RmlsZU5hbWVzIiwgImltcG9ydFJlc3VsdHMiLCAiaW1wb3J0UmVzdWx0c0NvbnRlbnQiLCAiaW1wb3J0U3VibWl0IiwgImltcG9ydFRhYnMiLCAiaW1wb3J0UGFuZWxzIiwgImNvcHlUZW1wbGF0ZUJ0biIsICJ0ZW1wbGF0ZUpzb24iLCAiaW1wb3J0UGFzdGVJbnB1dCIsICJwYXN0ZUZvcm1hdEJ0biIsICJwYXN0ZUVycm9yIiwgImltcG9ydFNlbGVjdGVkRmlsZXMiLCAiYWN0aXZlSW1wb3J0VGFiIiwgImRlbGV0ZVBhZ2VNb2RhbCIsICJkZWxldGVQYWdlTmFtZSIsICJkZWxldGVQYWdlQ2FuY2VsIiwgImRlbGV0ZVBhZ2VDb25maXJtIiwgInBhZ2VUb0RlbGV0ZSIsICJzaXRlS2V5IiwgInNpdGVTbHVnVmFsdWUiLCAic2FmZVNpdGVTbHVnIiwgImNvbGxlY3Rpb25zQXBpQmFzZSIsICJzdG9yYWdlS2V5cyIsICJjcmVhdGVCbG9jayIsICJpZCIsICJ0eXBlIiwgInN0YXR1cyIsICJkZXNjcmlwdGlvbiIsICJwcm9wcyIsICJibG9ja0xpYnJhcnlEZWZpbml0aW9ucyIsICJwZXJzaXN0QWN0aXZlUGFnZSIsICJwYWdlSWQiLCAic3RvcmVkIiwgImZvcm1hdEJsb2NrQ291bnQiLCAibm9ybWFsaXplUGFnZVNsdWciLCAiZ2VuZXJhdGVCbG9ja0lkIiwgImtleSIsICJjcmVhdGVJbml0aWFsQmxvY2tzIiwgInNldEFjdGl2ZUxhYmVscyIsICJyZW5kZXJQcmV2aWV3TWV0YSIsICJ0YWciLCAiZ2V0U3RhdHVzQmFkZ2VDbGFzc2VzIiwgInJlbmRlckJsb2NrRGV0YWlscyIsICJyZWFkQWNjZW50Q29sb3IiLCAiYXBwbHlQcmV2aWV3SGlnaGxpZ2h0IiwgImRvYyIsICJub2RlIiwgImFjY2VudCIsICJwcmV2aWV3Vmlld1ByZXNldHMiLCAic2V0UHJldmlld1ZpZXciLCAidmlldyIsICJ0YXJnZXQiLCAic3R5bGVzIiwgImNyZWF0ZUJsb2NrSXRlbUVsZW1lbnQiLCAiaXNOZXN0ZWQiLCAicGFyZW50SWQiLCAiYmxvY2tUeXBlIiwgImlzR3JvdXAiLCAiaXRlbSIsICJjb250ZW50IiwgImhhbmRsZSIsICJ0ZXh0V3JhcHBlciIsICJtZXRhIiwgInR5cGVCYWRnZSIsICJzdGF0dXNCYWRnZSIsICJjaGlsZENvdW50IiwgImNoaWxkQmFkZ2UiLCAiZGlzcGxheUxhYmVsIiwgImNvbGxlY3Rpb25OYW1lIiwgImRlc2lnbkNvbGxlY3Rpb25zIiwgImluZm8iLCAiYWN0aW9ucyIsICJtb3ZlQnV0dG9ucyIsICJtb3ZlVXAiLCAibW92ZUNoaWxkQmxvY2tCeU9mZnNldCIsICJtb3ZlQmxvY2tCeU9mZnNldCIsICJtb3ZlRG93biIsICJkZWxldGVCdXR0b24iLCAicmVtb3ZlQ2hpbGRGcm9tR3JvdXAiLCAib3BlbkJsb2NrRGVsZXRlTW9kYWwiLCAic2V0QWN0aXZlQmxvY2siLCAiY3JlYXRlR3JvdXBEcm9wWm9uZSIsICJwYXJlbnRCbG9jayIsICJkcm9wWm9uZSIsICJlIiwgIm1vdmVCbG9ja1RvR3JvdXAiLCAib3BlbkFkZEJsb2NrVG9Hcm91cE1vZGFsIiwgImJsb2NrcyIsICJjaGlsZCIsICJjaGlsZEl0ZW0iLCAiZ3JvdXBJZCIsICJibG9ja0luZGV4IiwgImIiLCAiZ3JvdXBCbG9jayIsICJtb3ZlZEJsb2NrIiwgImNoaWxkSWQiLCAiY2hpbGRJbmRleCIsICJjIiwgImdyb3VwSW5kZXgiLCAib2Zmc2V0IiwgImN1cnJlbnRJbmRleCIsICJuZXdJbmRleCIsICJwZW5kaW5nR3JvdXBJZEZvck5ld0Jsb2NrIiwgIm9wZW5EZWxldGVQYWdlTW9kYWwiLCAiY2xvc2VEZWxldGVQYWdlTW9kYWwiLCAiZXhlY3V0ZURlbGV0ZVBhZ2UiLCAicGFnZVRpdGxlIiwgInJlc3VsdCIsICJhY3RpdmVJZCIsICJsaXN0IiwgImRpc3BsYXlOYW1lIiwgIm5hdkJhZGdlIiwgImlzRGVza3RvcERyYXdlciIsICJjbG9zZURyYXdlciIsICJkZWxldGVCdG4iLCAiYWN0aXZlQmxvY2tQYXJlbnRJZCIsICJ0YXJnZXRCbG9jayIsICJmb3VuZCIsICJuZXdCbG9ja3MiLCAidXBkYXRlQ3VycmVudFBhZ2VTdGF0ZSIsICJpc0Rlc2t0b3BSZW9yZGVyIiwgIm1vdmVkIiwgInJlb3JkZXJCbG9ja3MiLCAic291cmNlSWQiLCAidGFyZ2V0SWQiLCAiZnJvbUluZGV4IiwgInRvSW5kZXgiLCAicmVvcmRlckJsb2Nrc1dpdGhQb3NpdGlvbiIsICJwb3NpdGlvbiIsICJpbnNlcnRJbmRleCIsICJ1cGRhdGVEcmFnZ2FibGVTdGF0ZSIsICJkcmFnZ2FibGUiLCAiY2xvc2VCbG9ja0xpYnJhcnkiLCAiYmxvY2tMaWJyYXJ5T3BlbiIsICJvcGVuQmxvY2tMaWJyYXJ5IiwgInRvZ2dsZUJsb2NrTGlicmFyeSIsICJhZGRCbG9ja0Zyb21MaWJyYXJ5IiwgImRlZmluaXRpb24iLCAibmV3QmxvY2siLCAiZmlyc3RDb2xsZWN0aW9uSWQiLCAibmV4dEJsb2NrcyIsICJkZWxldGVCbG9ja0J5SWQiLCAibmV4dEFjdGl2ZSIsICJjbG9zZUJsb2NrRGVsZXRlTW9kYWwiLCAicGVuZGluZ0RlbGV0ZUJsb2NrSWQiLCAic3luY1BhZ2VBY2Nlc3NpYmlsaXR5RmllbGRzIiwgInN5bmNEcmF3ZXJTdGF0ZSIsICJvcGVuRHJhd2VyIiwgIm9wZW5BZGRQYWdlRm9ybSIsICJwYWdlU2x1Z01hbnVhbGx5RWRpdGVkIiwgImNsb3NlQWRkUGFnZUZvcm0iLCAic3luY1NsdWdGcm9tTmFtZSIsICJub3JtYWxpemVCbG9ja0RhdGEiLCAibG9hZERlc2lnbkNvbGxlY3Rpb25zIiwgImN1cnJlbnRWYWx1ZSIsICJzeW5jQ29sbGVjdGlvblNlbGVjdGlvbkluZm8iLCAiY29sbGVjdGlvbklkIiwgImNvbGxlY3Rpb24iLCAiZGV0YWlscyIsICJzZWxlY3RlZFZhbHVlIiwgImZhbGxiYWNrT3B0aW9uIiwgImNyZWF0ZWRQYWdlIiwgInJlc2V0UGFzdGVTdGF0ZSIsICJ2YWxpZGF0ZVBhc3RlSnNvbiIsICJmb3JtYXRQYXN0ZUpzb24iLCAidXBkYXRlSW1wb3J0U3VibWl0U3RhdGUiLCAib3BlbkltcG9ydE1vZGFsIiwgInVwZGF0ZUltcG9ydEZpbGVMaXN0IiwgInQiLCAiY2xvc2VJbXBvcnRNb2RhbCIsICJmIiwgImhhbmRsZUltcG9ydEZpbGVzIiwgImZpbGVzIiwgImpzb25GaWxlcyIsICJleGVjdXRlSW1wb3J0IiwgIl9oIiwgIl9pIiwgIl9qIiwgIl9rIiwgInBhZ2VzRGF0YSIsICJwYXJzZUVyciIsICJlcnJvckxpbmUiLCAiZXJyb3JEZXRhaWwiLCAicG9zIiwgImxpbmVzIiwgImxpbmVOdW0iLCAiY29sTnVtIiwgImZpbGVFcnJvcnMiLCAiZmlsZSIsICJodG1sIiwgImhhc0RhdGEiLCAiaGFzU3VjY2VzcyIsICJoYXNFcnJvcnMiLCAiY29sbGVjdGlvbnNNc2ciLCAiYnRuIiwgInRhcmdldFBhbmVsIiwgInRhcmdldFZpZXciLCAicHJldmlld1dpbmRvdyIsICJ0b2dnbGVTZW9QYW5lbCIsICJzaG93IiwgInNldFNlb0ZlZWRiYWNrIiwgInRvbmUiLCAiaXNWaXNpYmxlIiwgInNlb0RhdGEiLCAidXBkYXRlZFBhZ2UiLCAidG9nZ2xlUGFnZUFjY2Vzc2liaWxpdHlQYW5lbCIsICJzZXRQYWdlQWNjZXNzaWJpbGl0eUZlZWRiYWNrIiwgImFjY2Vzc2liaWxpdHlEYXRhIiwgInRvZ2dsZVBhZ2VQcm9wc1BhbmVsIiwgInNldFBhZ2VQcm9wc0ZlZWRiYWNrIiwgIm5ld05hbWUiLCAibmV3VGl0bGUiLCAibmV3U2x1ZyIsICJuZXdEZXNjcmlwdGlvbiIsICJoYW5kbGVCbG9ja0RyYWdTdGFydCIsICJkcmFnU291cmNlSWQiLCAiY2xlYXJEcmFnSW5kaWNhdG9ycyIsICJoYW5kbGVCbG9ja0RyYWdFbmQiLCAiaGFuZGxlQmxvY2tEcmFnT3ZlciIsICJyZWN0IiwgIm1pZFkiLCAiaXNBYm92ZSIsICJoYW5kbGVCbG9ja0RyYWdMZWF2ZSIsICJyZWxhdGVkVGFyZ2V0IiwgImhhbmRsZUJsb2NrRHJvcCIsICJzb3VyY2UiLCAiZHJvcFBvc2l0aW9uIiwgImFjdGl2ZVBhZ2UiLCAiY29sbGVjdGlvbkxpc3QiLCAiY29udGVudFZpZXdzIiwgImNvbnRlbnRTZWN0aW9uQnV0dG9ucyIsICJjb250ZW50U2VjdGlvblRyaWdnZXJzIiwgImhlYWRlclN0YXR1c0luZGljYXRvciIsICJmb290ZXJTdGF0dXNJbmRpY2F0b3IiLCAiY29sbGVjdGlvbkNvdW50RWwiLCAiaXRlbVBhbmVsIiwgIml0ZW1QYW5lbENsb3NlQnV0dG9ucyIsICJjb2xsZWN0aW9uRW1wdHlTdGF0ZSIsICJjb2xsZWN0aW9uSXRlbXNFbXB0eSIsICJpdGVtVGFibGVXcmFwcGVyIiwgIml0ZW1UYWJsZUJvZHkiLCAiY29sbGVjdGlvblRpdGxlIiwgImNvbGxlY3Rpb25EZXNjcmlwdGlvbiIsICJpdGVtQWRkQnV0dG9uIiwgIml0ZW1EZXRhaWxFbXB0eSIsICJpdGVtRm9ybSIsICJpdGVtRm9ybUZpZWxkcyIsICJpdGVtU3RhdHVzQmFkZ2UiLCAiaXRlbURlbGV0ZUJ1dHRvbiIsICJpdGVtRGVsZXRlTW9kYWwiLCAiaXRlbURlbGV0ZUNhbmNlbCIsICJpdGVtRGVsZXRlQ29uZmlybSIsICJpdGVtRm9ybUNhbmNlbCIsICJpdGVtRm9ybVNhdmUiLCAic3RhdHVzQmFkZ2VCYXNlQ2xhc3MiLCAic2V0SXRlbVBhbmVsSGlkZGVuU3RhdGUiLCAic3luY0l0ZW1QYW5lbFdpdGhWaWV3cG9ydCIsICJoaWRlSXRlbUZvcm0iLCAiaGVhZGVyRmllbGRzIiwgImhlYWRlck5hdkxpc3QiLCAiaGVhZGVyTmF2QWRkQnRuIiwgImhlYWRlclNhdmVCdG4iLCAiaGVhZGVyTmF2SXRlbVRlbXBsYXRlIiwgImhlYWRlclBhZ2VzTGlzdCIsICJzaXRlUGFnZXMiLCAic2VsZWN0ZWROYXZQYWdlcyIsICJmb290ZXJGaWVsZHMiLCAiZm9vdGVyQ29sdW1uc0xpc3QiLCAiZm9vdGVyQ29sdW1uQWRkQnRuIiwgImZvb3RlclNhdmVCdG4iLCAiZm9vdGVyQ29sdW1uVGVtcGxhdGUiLCAiZm9vdGVyTGlua1RlbXBsYXRlIiwgImFjdGl2ZUNvbnRlbnRTZWN0aW9uIiwgImhlYWRlckRhdGEiLCAiZm9vdGVyRGF0YSIsICJzYWZlU2l0ZVNsdWdGb3JMYXlvdXQiLCAibGF5b3V0QXBpQmFzZSIsICJzaG93Q29udGVudFZpZXciLCAidmlld05hbWUiLCAibG9hZFNpdGVQYWdlc0ZvckhlYWRlciIsICJyZW5kZXJQYWdlQ2hlY2tib3hlcyIsICJub3JtYWxpemVOYXZQYWdlVXJsIiwgInJhdyIsICJsb3dlciIsICJ3aXRob3V0U2xhc2hlcyIsICJjbGVhbmVkSW50ZXJuYWwiLCAiY2xlYW5lZCIsICJub3JtYWxpemVPcHRpb25hbE5hdlVybCIsICJkZWZhdWx0VmFsdWUiLCAicGFnZVNsdWciLCAicGFnZURpc3BsYXlOYW1lIiwgInBhZ2VVcmwiLCAiaXNTZWxlY3RlZCIsICJuYXYiLCAiY2hlY2tib3giLCAiY29sbGVjdEhlYWRlckRhdGEiLCAidXJsIiwgInBvcHVsYXRlSGVhZGVyRm9ybSIsICJhZGRGb290ZXJMaW5rIiwgImNvbnRhaW5lciIsICJjbG9uZSIsICJsYWJlbElucHV0IiwgInVybElucHV0IiwgInJlbW92ZUJ0biIsICJhZGRGb290ZXJDb2x1bW4iLCAibGlua3MiLCAiY29sdW1uIiwgInRpdGxlSW5wdXQiLCAibGlua3NDb250YWluZXIiLCAiYWRkTGlua0J0biIsICJjb2xsZWN0Rm9vdGVyRGF0YSIsICJfbCIsICJfbSIsICJfbiIsICJfbyIsICJfcCIsICJfcSIsICJfciIsICJfcyIsICJfdCIsICJjb2x1bW5zIiwgImNvbCIsICJsaW5rRWwiLCAicG9wdWxhdGVGb290ZXJGb3JtIiwgInYiLCAic2FmZVNpdGVTbHVnVmFsdWUiLCAiY29sbGVjdGlvbnMiLCAiY29sbGVjdGlvbkl0ZW1zIiwgImFjdGl2ZUNvbGxlY3Rpb25JZCIsICJhY3RpdmVJdGVtSWQiLCAiaXNDcmVhdGluZ0l0ZW0iLCAiaXRlbVNsdWdNYW51YWxseUVkaXRlZCIsICJwZW5kaW5nRGVsZXRlSXRlbUlkIiwgIm5vcm1hbGl6ZUl0ZW1TbHVnSW5wdXQiLCAiY2xlYW5lZFNlZ21lbnRzIiwgInNlZ21lbnQiLCAiZm9ybWF0SXRlbURhdGUiLCAiZGF0ZSIsICJ1cGRhdGVDb2xsZWN0aW9uSGVhZGVyIiwgInVwZGF0ZUl0ZW1zRW1wdHlNZXNzYWdlIiwgInNob3dJdGVtRm9ybSIsICJzeW5jQWRkQnV0dG9uU3RhdGUiLCAic3luY0l0ZW1TdGF0dXNCYWRnZSIsICJjb2xvckNsYXNzIiwgInJlbmRlckNvbGxlY3Rpb25MaXN0IiwgInNldEFjdGl2ZUNvbGxlY3Rpb24iLCAicmVuZGVySXRlbVRhYmxlIiwgInJvdyIsICJzdGF0dXNDbGFzc2VzIiwgImhhbmRsZVNlbGVjdCIsICJzZWxlY3RJdGVtIiwgIml0ZW1JZCIsICJwb3B1bGF0ZUl0ZW1Gb3JtIiwgInByZXBhcmVOZXdJdGVtRm9ybSIsICJjb2xsZWN0SXRlbUZvcm1WYWx1ZXMiLCAic2x1Z0lucHV0IiwgInN1bW1hcnkiLCAiaW1hZ2UiLCAiY3RhVGV4dCIsICJjdGFVcmwiLCAiY3RhIiwgInNldEZvcm1TYXZpbmdTdGF0ZSIsICJpc1NhdmluZyIsICJmZXRjaENvbGxlY3Rpb25JdGVtcyIsICJjcmVhdGVDb2xsZWN0aW9uSXRlbSIsICJ1cGRhdGVDb2xsZWN0aW9uSXRlbSIsICJkZWxldGVDb2xsZWN0aW9uSXRlbSIsICJsb2FkQ29sbGVjdGlvbnMiLCAiZGVmYXVsdElkIiwgInNhdmVkSXRlbSIsICJjbG9zZURlbGV0ZU1vZGFsIiwgIm9wZW5EZWxldGVNb2RhbCIsICJmb3JtIiwgInByb3RvY29sU2VsZWN0IiwgImhvc3RJbnB1dCIsICJwb3J0SW5wdXQiLCAidXNlcklucHV0IiwgInBhc3N3b3JkSW5wdXQiLCAic2hvd1Bhc3N3b3JkVG9nZ2xlIiwgInJlbW90ZVBhdGhJbnB1dCIsICJmZWVkYmFjayIsICJzYXZlQnV0dG9uIiwgInRlc3RCdXR0b24iLCAiZGVwbG95QnV0dG9uIiwgImhpc3RvcnlMaXN0IiwgImxvZ0JveCIsICJkZXBsb3lBcGlCYXNlIiwgImRlcGxveVJ1bkFwaSIsICJkZXBsb3lMb2dBcGkiLCAiaGFzUGFzc3dvcmQiLCAiYnVzeUFjdGlvbiIsICJzYW5pdGl6ZVJlbW90ZVBhdGgiLCAic2V0RmVlZGJhY2siLCAiYmFzZUNsYXNzIiwgInRvbmVDbGFzcyIsICJpY29uIiwgInNldEJ1c3kiLCAiYWN0aW9uIiwgImRpc2FibGUiLCAic3Bpbm5lciIsICJwb3B1bGF0ZUZvcm0iLCAicmVuZGVySGlzdG9yeSIsICJlbnRyaWVzIiwgImxpIiwgImR1cmF0aW9uIiwgInJlbmRlckxvZ3MiLCAiZmV0Y2hIaXN0b3J5IiwgImZldGNoQ29uZmlnIiwgImJ1aWxkUGF5bG9hZCIsICJwd2QiLCAiZXJyb3JQYXlsb2FkIiwgImRvd25sb2FkQnV0dG9uIiwgImRvd25sb2FkRmVlZGJhY2siLCAiZG93bmxvYWRBcGkiLCAic2V0RG93bmxvYWRGZWVkYmFjayIsICJvcmlnaW5hbENvbnRlbnQiLCAiZXJyb3JEYXRhIiwgImJsb2IiLCAiYSIsICJ0YWJCdXR0b25zIiwgInRhYlBhbmVscyIsICJzaXRlRmVlZGJhY2siLCAidGhlbWVGb3JtIiwgInN3aXRjaFRhYiIsICJzdWJtaXQiLCAiZm9ybURhdGEiLCAiY3VycmVudFBhc3N3b3JkIiwgIm5ld1Bhc3N3b3JkIiwgImNvbmZpcm1QYXNzd29yZCIsICJuYW1lSW5wdXQiLCAibGFuZ1NlbGVjdCIsICJ0YWdsaW5lSW5wdXQiLCAic2V0U2l0ZUZlZWRiYWNrIiwgInNpdGVDb25maWdBcGkiLCAibG9hZFNpdGVDb25maWciLCAidGhlbWVBcGkiLCAiY29sb3JTZWxlY3RzIiwgImhlYWRpbmdTZWxlY3QiLCAiYm9keVNlbGVjdCIsICJyYWRpdXNTbWFsbCIsICJyYWRpdXNNZWRpdW0iLCAicmFkaXVzTGFyZ2UiLCAicHJldmlldyIsICJ0aGVtZUZlZWRiYWNrIiwgImFwcGx5QnV0dG9uIiwgInRhaWx3aW5kQmFzZU1hcCIsICJ0YWlsd2luZFRva2VuVG9IZXgiLCAidG9rZW4iLCAiaCIsICJzIiwgInNoYWRlTnVtIiwgImZhY3RvciIsICJ0b1JnYiIsICJoZXgiLCAiciIsICJnIiwgIm1peCIsICJ0YWlsd2luZEh1ZXMiLCAidGFpbHdpbmRTaGFkZXMiLCAidGFpbHdpbmRUb2tlbnMiLCAibmV1dHJhbFRva2VucyIsICJjb2xvck9wdGlvbkRlZmluaXRpb25zIiwgImVtb2ppIiwgIm5vcm1hbGl6ZVNlbGVjdENvbG9yIiwgImZpbGxDb2xvck9wdGlvbnMiLCAic2VsZWN0ZWRDb2xvcnMiLCAic2VsIiwgIm5vcm1hbGl6ZWRWYWx1ZSIsICJzdHlsZVNlbGVjdE9wdGlvbnMiLCAic2V0VGhlbWVGZWVkYmFjayIsICJzeW5jUHJldmlldyIsICJ0b2tlblRvSGV4IiwgIm9wdGlvbkNvbG9yIiwgInN0eWxlVGhlbWVDb2xvckNoaXAiLCAidXBkYXRlVGhlbWVDb2xvclByZXZpZXciLCAiaW5pdENvbG9yUHJldmlld3MiLCAibG9hZFRoZW1lIiwgInRoZW1lQ29sb3JzIiwgInNlb0NvbmZpZ0Zvcm0iLCAiaW5kZXhBbGxDaGVja2JveCIsICJzZW9Db25maWdGZWVkYmFjayIsICJsb2FkU2VvQ29uZmlnIiwgImluZGV4QWxsIiwgImN1cnJlbnRSZXMiLCAiY3VycmVudENvbmZpZyIsICJhbmFseXRpY3NGb3JtIiwgImhlYWRUZXh0YXJlYSIsICJib2R5VGV4dGFyZWEiLCAiYW5hbHl0aWNzRmVlZGJhY2siLCAiYW5hbHl0aWNzU2F2ZUJ1dHRvbiIsICJzZXRBbmFseXRpY3NGZWVkYmFjayIsICJsb2FkQW5hbHl0aWNzQ29uZmlnIiwgImFjY2Vzc2liaWxpdHlGb3JtIiwgImFuaW1hdGlvbnNUb2dnbGUiLCAiY29udHJhc3RUb2dnbGUiLCAiYWNjZXNzaWJpbGl0eUZlZWRiYWNrIiwgImFjY2Vzc2liaWxpdHlTYXZlQnV0dG9uIiwgInNldEFjY2Vzc2liaWxpdHlGZWVkYmFjayIsICJsb2FkQWNjZXNzaWJpbGl0eUNvbmZpZyIsICJhaUNvbmZpZ0Zvcm0iLCAiYXBpS2V5SW5wdXQiLCAibW9kZWxTZWxlY3QiLCAicHJvamVjdFByb21wdFRleHRhcmVhIiwgImVuYWJsZWRDaGVja2JveCIsICJhaUZlZWRiYWNrIiwgImFpU2F2ZUJ1dHRvbiIsICJhaUNvbmZpZ0FwaSIsICJzZXRBSUZlZWRiYWNrIiwgImxvYWRBSUNvbmZpZyIsICJhcGlLZXlWYWx1ZSIsICJncmlkIiwgImVtcHR5U3RhdGUiLCAiY291bnRCYWRnZSIsICJmaWx0ZXJUeXBlIiwgImRldGFpbEVtcHR5IiwgImRldGFpbFBhbmVsIiwgImRldGFpbFByZXZpZXciLCAiZGV0YWlsTmFtZSIsICJkZXRhaWxUeXBlIiwgImRldGFpbFNpemUiLCAiZGV0YWlsUGF0aCIsICJkZXRhaWxVc2VkIiwgImRldGFpbEFsdElucHV0IiwgImRldGFpbFNhdmVCdXR0b24iLCAiZGV0YWlsRGVsZXRlQnV0dG9uIiwgImRlbGV0ZU1vZGFsIiwgImRlbGV0ZUNhbmNlbEJ1dHRvbiIsICJkZWxldGVDb25maXJtQnV0dG9uIiwgInVwbG9hZE9wZW5CdXR0b24iLCAiZmlsZUlucHV0IiwgInVwbG9hZFN0YXR1cyIsICJtZWRpYUFwaUJhc2UiLCAibWVkaWFJdGVtcyIsICJmaWx0ZXJlZEl0ZW1zIiwgImFjdGl2ZU1lZGlhSWQiLCAiaGlnaGxpZ2h0TWVkaWFJZCIsICJwZW5kaW5nVXBsb2FkRmlsZSIsICJ1cGxvYWRJblByb2dyZXNzIiwgImRldGFpbERpcnR5IiwgInVwbG9hZE1vZGUiLCAidXBsb2FkUHJldmlld1VybCIsICJkZXJpdmVHcm91cFR5cGUiLCAiZmlsZW5hbWUiLCAiaXNJbWFnZVR5cGUiLCAiZm9ybWF0VHlwZUxhYmVsIiwgImV4dCIsICJmb3JtYXRGaWxlU2l6ZSIsICJzaXplIiwgInJlc2V0RGV0YWlsUGFuZWwiLCAiY2xlYXJVcGxvYWRTdGF0ZSIsICJ1cGRhdGVEZXRhaWxBY3Rpb25zIiwgInVwZGF0ZUNvdW50QmFkZ2UiLCAicmVuZGVyR3JpZCIsICJzZWxlY3RNZWRpYSIsICJyZW5kZXJVc2VkSW4iLCAic2F2aW5nIiwgIm1lZGlhSWQiLCAic2hvd1VwbG9hZFByZXZpZXciLCAiYXBwbHlGaWx0ZXJzIiwgInR5cGVGaWx0ZXIiLCAibG9hZE1lZGlhIiwgImhhbmRsZUZpbGVTZWxlY3Rpb24iLCAicmVhZEZpbGVBc0Jhc2U2NCIsICJyZXNvbHZlIiwgInJlamVjdCIsICJyZWFkZXIiLCAiYmFzZTY0IiwgInVwbG9hZFNlbGVjdGVkTWVkaWEiLCAiZGVsZXRlQWN0aXZlTWVkaWEiLCAiZGlzYWJsZUJ1dHRvbnMiLCAiZW5hYmxlQnV0dG9ucyIsICJ1cGRhdGVkIiwgImFpQ2hhdFRvZ2dsZSIsICJhaUNoYXRQYW5lbCIsICJhaUNoYXRPdmVybGF5IiwgImFpQ2hhdENsb3NlIiwgImFpQ2hhdENsZWFyIiwgImFpQ2hhdEZvcm0iLCAiYWlDaGF0SW5wdXQiLCAiYWlDaGF0TWVzc2FnZXMiLCAiYWlDaGF0U3RhdHVzIiwgImFpQ2hhdE5vQXBpIiwgImFpUXVpY2tCdXR0b25zIiwgImFpQ2hhdE9wZW4iLCAiYWlJc0xvYWRpbmciLCAiYWlDb25maWdDaGVja2VkIiwgImFpSGFzQXBpS2V5IiwgIm9wZW5BSUNoYXQiLCAiY2hlY2tBSUNvbmZpZyIsICJjbG9zZUFJQ2hhdCIsICJzaXRlU2x1ZyIsICJsb2FkQUlDaGF0SGlzdG9yeSIsICJ3ZWxjb21lTXNnIiwgIm1zZyIsICJhcHBlbmRBSU1lc3NhZ2UiLCAicm9sZSIsICJtc2dEaXYiLCAiZXNjYXBlSHRtbCIsICJmb3JtYXR0ZWRDb250ZW50IiwgImZvcm1hdEFJUmVzcG9uc2UiLCAic2hvd0FJTG9hZGluZyIsICJsb2FkaW5nRGl2IiwgImhpZGVBSUxvYWRpbmciLCAiZm9ybWF0dGVkIiwgImxhbmciLCAiY29kZSIsICJkaXYiLCAic2VuZEFJTWVzc2FnZSIsICJhcHBlbmRFZGl0UHJvcG9zYWwiLCAiYXBwZW5kVGhlbWVQcm9wb3NhbCIsICJwcm9wb3NhbCIsICJwcm9wb3NhbERpdiIsICJjaGFuZ2VzSHRtbCIsICJoYW5kbGVBcHBseUVkaXQiLCAiaGFuZGxlUmVqZWN0RWRpdCIsICJjb2xvcnNIdG1sIiwgImNvbG9ycyIsICJnZXRUYWlsd2luZENvbG9yQ3NzIiwgInR5cG9IdG1sIiwgInR5cG8iLCAiaGFuZGxlQXBwbHlUaGVtZSIsICJjb2xvck5hbWUiLCAicHJvcG9zYWxJZCIsICJwcm9wb3NhbENhcmQiLCAiY2xlYXJBSUhpc3RvcnkiLCAicXVpY2tQcm9tcHRzIiwgInByb21wdCJdCn0K
