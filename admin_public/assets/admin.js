(()=>{document.addEventListener("DOMContentLoaded",()=>{var Lr;console.log("[admin] Atelier charg\xE9");let ko=document.querySelector("[data-logout]");ko&&ko.addEventListener("click",async()=>{ko.disabled=!0;try{await fetch("/api/logout",{method:"POST",headers:{"Content-Type":"application/json"}})}catch(o){console.error("[admin] Impossible de se d\xE9connecter",o)}finally{window.location.href="/admin/index.html"}});let Ss=document.querySelector("[data-admin-sidebar]"),bt=document.querySelector("[data-admin-sidebar-overlay]"),ir=document.querySelectorAll("[data-admin-sidebar-toggle]"),Yr=document.querySelectorAll("[data-admin-sidebar-close]"),Co=document.body,Js=!1,Ws=()=>{if(!Ss)return;if(window.matchMedia("(min-width: 1024px)").matches){Ss.classList.remove("hidden"),bt==null||bt.classList.add("hidden"),Co.classList.remove("overflow-hidden");return}Js?(Ss.classList.remove("hidden"),bt==null||bt.classList.remove("hidden"),Co.classList.add("overflow-hidden")):(Ss.classList.add("hidden"),bt==null||bt.classList.add("hidden"),Co.classList.remove("overflow-hidden"))},Qr=()=>{Js=!0,Ws()},Eo=()=>{Js=!1,Ws()};Ss&&ir.length>0&&(ir.forEach(o=>{o.addEventListener("click",Qr)}),Yr.forEach(o=>{o.addEventListener("click",Eo)}),bt==null||bt.addEventListener("click",Eo),window.addEventListener("resize",Ws),window.addEventListener("keydown",o=>{o.key==="Escape"&&Js&&Eo()}),Ws());let lr="clower:currentSite",cr="clower:currentSiteName",te={slug:null,name:""};(()=>{try{let o=window.localStorage.getItem(lr);te.slug=o?Tt(Te(o)):null,te.name=window.localStorage.getItem(cr)||""}catch{te.slug=null,te.name=""}})();let qo=document.querySelectorAll("[data-site-card]"),Xr=document.querySelectorAll("[data-site-select]"),Ls=document.querySelector("[data-current-site-name]"),dr=document.querySelector("[data-workspace-site-name]"),ur=document.querySelector("[data-workspace-back-name]"),At=document.querySelector("[data-workspace-back-modal]"),en=document.querySelectorAll("[data-workspace-back]"),tn=document.querySelectorAll("[data-workspace-back-cancel]"),Ao=document.querySelector("[data-workspace-back-confirm]"),sn=document.querySelectorAll("[data-workspace-tab]"),To=document.querySelector("[data-site-toast]"),mr=document.querySelector("[data-site-toast-message]"),on=document.querySelectorAll("[data-site-create]"),dt=document.querySelector("[data-site-modal]"),at=document.querySelector("[data-site-form]"),Ye=at==null?void 0:at.querySelector('input[name="siteName"]'),Me=at==null?void 0:at.querySelector('input[name="siteSlug"]'),Qe=document.querySelector("[data-site-slug-error]"),Xe=document.querySelector("[data-site-modal-error]"),rn=document.querySelectorAll("[data-site-modal-cancel]"),as=document.querySelector("[data-site-modal-submit]"),J=yn(),Gs=!1,Io=null,fr='a[href], button:not([disabled]), textarea, input, select, [tabindex]:not([tabindex="-1"])',is=[],pr=o=>Array.from(o.querySelectorAll(fr)).filter(n=>!n.hasAttribute("disabled")&&!n.getAttribute("aria-hidden")),nn=o=>{if(!is.length)return;let n=is[is.length-1],{modal:l,onClose:f}=n;if(o.key==="Escape"){o.preventDefault(),f==null||f();return}if(o.key!=="Tab")return;let p=pr(l);if(!p.length)return;let y=p[0],V=p[p.length-1];o.shiftKey?document.activeElement===y&&(o.preventDefault(),V.focus()):document.activeElement===V&&(o.preventDefault(),y.focus())};document.addEventListener("keydown",nn);let ks=(o,n)=>{if(!o)return;is.push({modal:o,onClose:n,trigger:document.activeElement instanceof HTMLElement?document.activeElement:null});let l=pr(o);window.setTimeout(()=>{var f,p;(p=(f=l[0]||o).focus)==null||p.call(f)},0)},Cs=o=>{var f,p;let n=is.findIndex(y=>y.modal===o);if(n===-1)return;let[l]=is.splice(n,1);(p=(f=l.trigger)==null?void 0:f.focus)==null||p.call(f)},se=document.querySelector("[data-mobile-panels-overlay]"),fe=document.querySelector("[data-mobile-panels-layer]"),vt={left:document.querySelector('[data-mobile-panel="left"]'),right:document.querySelector('[data-mobile-panel="right"]')},Zt=null;fe!=null&&fe.parentElement&&(Zt=document.createComment("mobile-panels-layer-placeholder"),fe.parentElement.insertBefore(Zt,fe));let Kt=null;(Lr=vt.right)!=null&&Lr.parentElement&&(Kt=document.createComment("mobile-panel-right-placeholder"),vt.right.parentElement.insertBefore(Kt,vt.right));let gr=document.querySelectorAll("[data-mobile-panel-toggle]"),an=document.querySelectorAll("[data-mobile-panel-close]"),Es={left:null,right:null},kt=null,_t=()=>window.matchMedia("(min-width: 1024px)").matches,ln=()=>{if(!(!fe||!Zt)){if(_t()){let o=Zt.parentElement;if(!o)return;(fe.parentElement!==o||Zt.nextSibling!==fe)&&o.insertBefore(fe,Zt.nextSibling),fe.dataset.mobilePanelPlacement="sidebar";return}fe.parentElement!==document.body&&(document.body.appendChild(fe),fe.dataset.mobilePanelPlacement="overlay")}},cn=()=>{let o=vt.right;if(!(!o||!Kt)){if(_t()){let n=Kt.parentElement;if(!n)return;(o.parentElement!==n||Kt.nextSibling!==o)&&n.insertBefore(o,Kt.nextSibling),o.dataset.mobilePanelPlacement="sidebar";return}if(fe){let n=vt.left;n&&n.parentElement===fe?(o.parentElement!==fe||o.previousSibling!==n)&&fe.insertBefore(o,n.nextSibling):o.parentElement!==fe&&fe.appendChild(o),o.dataset.mobilePanelPlacement="overlay"}else o.parentElement!==document.body&&(document.body.appendChild(o),o.dataset.mobilePanelPlacement="overlay")}},hr=()=>{ln(),cn()};hr();let Zs={};Object.entries(vt).forEach(([o,n])=>{if(!n)return;let l=Number(window.getComputedStyle(n).zIndex)||0;Zs[o]=l});let dn=(Object.values(Zs).reduce((o,n)=>Math.max(o,n||0),0)||150)+5,Ks=(o,n)=>{let l=vt[o];if(l){if(_t()){l.style.removeProperty("z-index");return}n?l.style.zIndex=String(dn):Zs[o]?l.style.zIndex=String(Zs[o]):l.style.removeProperty("z-index")}},Nt=(o,n,l)=>{!o||!n||n.split(" ").map(f=>f.trim()).filter(Boolean).forEach(f=>o.classList[l](f))},$o=(o,n)=>{if(!o)return;let l=o.dataset.mobilePanelHidden||"",f=o.dataset.mobilePanelVisible||"translate-x-0";n?(Nt(o,f,"remove"),Nt(o,l,"add"),o.classList.add("pointer-events-none"),o.classList.remove("pointer-events-auto"),o.setAttribute("aria-hidden","true"),o.dataset.mobilePanelOpen="false"):(Nt(o,l,"remove"),Nt(o,f,"add"),o.classList.remove("pointer-events-none"),o.classList.add("pointer-events-auto"),o.setAttribute("aria-hidden","false"),o.dataset.mobilePanelOpen="true")},qs=(o=kt)=>{var f;if(!o||_t())return;let n=vt[o];if(!n)return;Ks(o,!1),$o(n,!0);let l=Es[o];l&&l.setAttribute("aria-expanded","false"),Es[o]=null,kt===o&&(se==null||se.classList.add("hidden"),se==null||se.classList.remove("pointer-events-auto"),se==null||se.classList.add("pointer-events-none"),se==null||se.setAttribute("aria-hidden","true"),fe==null||fe.classList.add("pointer-events-none"),document.body.classList.remove("overflow-hidden"),(f=l==null?void 0:l.focus)==null||f.call(l),kt=null)},un=(o,n)=>{if(!o||_t())return;let l=vt[o];if(!l)return;kt&&kt!==o&&qs(kt),$o(l,!1),Ks(o,!0),kt=o,Es[o]=n||null,n&&n.setAttribute("aria-expanded","true"),se==null||se.classList.remove("hidden","pointer-events-none"),se==null||se.classList.add("pointer-events-auto"),se==null||se.setAttribute("aria-hidden","false"),fe==null||fe.classList.remove("pointer-events-none"),document.body.classList.add("overflow-hidden");let f=l.querySelector(fr);window.setTimeout(()=>{var p;(p=f==null?void 0:f.focus)==null||p.call(f)},0)},yr=()=>{hr(),_t()?(se==null||se.classList.add("hidden"),fe==null||fe.classList.add("pointer-events-none"),document.body.classList.remove("overflow-hidden"),kt=null,Object.keys(vt).forEach(o=>{let n=vt[o];if(!n)return;Ks(o,!1),n.classList.remove("pointer-events-none"),n.classList.add("pointer-events-auto"),n.setAttribute("aria-hidden","false"),n.dataset.mobilePanelOpen="false";let l=Es[o];l==null||l.setAttribute("aria-expanded","false"),Es[o]=null})):(Object.entries(vt).forEach(([o,n])=>{n&&n.dataset.mobilePanelOpen!=="true"&&($o(n,!0),Ks(o,!1))}),kt||(se==null||se.classList.add("hidden","pointer-events-none"),se==null||se.classList.remove("pointer-events-auto"),se==null||se.setAttribute("aria-hidden","true"),fe==null||fe.classList.add("pointer-events-none")))};gr.length>0&&(gr.forEach(o=>{let n=o.dataset.mobilePanelToggle;o.addEventListener("click",()=>{kt===n?qs(n):un(n,o)})}),an.forEach(o=>{let n=o.dataset.mobilePanelClose;o.addEventListener("click",()=>qs(n))}),se==null||se.addEventListener("click",()=>qs()),window.addEventListener("keydown",o=>{o.key==="Escape"&&kt&&!_t()&&qs()}),window.addEventListener("resize",yr),yr());let j=o=>{!To||!mr||(mr.textContent=o,To.classList.remove("hidden"),Io&&clearTimeout(Io),Io=setTimeout(()=>{To.classList.add("hidden")},2500))};function Tt(o){if(!o)return"";let n=`${o}`.trim();if(!n)return"";let l=n.replace(/^\/+/,"");return l?`/${l}`:"/"}function Te(o){return o?`${o}`.replace(/^\/+/,""):""}let _s=(o,n)=>{let l=o?Tt(o):null;try{l&&(window.localStorage.setItem(lr,l),te.slug=l),typeof n=="string"&&n.length>0&&(window.localStorage.setItem(cr,n),te.name=n)}catch{te.slug=l||te.slug,te.name=n||te.name}},br=o=>{Ls&&o&&(Ls.textContent=o),dr&&o&&(dr.textContent=o),ur&&o&&(ur.textContent=o)},Bo=o=>{sn.forEach(n=>{let l=n.dataset.workspaceTab;if(!l)return;if(!o){n.href="#",n.classList.add("pointer-events-none","opacity-50","text-slate-400"),n.setAttribute("aria-disabled","true");return}let f=encodeURIComponent(Te(o));n.href=`/admin/site/${f}/${l}`,n.classList.remove("pointer-events-none","opacity-50","text-slate-400"),n.removeAttribute("aria-disabled")})},Ys=(o,n={})=>{if(!o)return;let l=Tt(o),f=n.siteName||te.name||(Ls==null?void 0:Ls.dataset.defaultSiteName)||"";qo.forEach(y=>{let U=Tt(y.dataset.siteCard||"")===l,O=y.querySelector("[data-site-active-badge]");U?(y.classList.add("border-[#9C6BFF]","ring-2","ring-[#9C6BFF]","shadow-md"),y.classList.remove("border-slate-200"),O==null||O.classList.remove("hidden"),f=y.dataset.siteName||f):(y.classList.remove("border-[#9C6BFF]","ring-2","ring-[#9C6BFF]","shadow-md"),y.classList.add("border-slate-200"),O==null||O.classList.add("hidden"))}),n.persist!==!1&&_s(l,n.siteName||f);let p=n.siteName||f;br(p),Bo(l)},mn=async(o,n)=>{let l=Tt(o);try{let f=await fetch("/api/sites/select",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({slug:l})});if(!f.ok){let O=await f.json().catch(()=>({}));j(O.message||"Impossible de s\xE9lectionner ce site.");return}let p=await f.json().catch(()=>({})),y=Tt(p.slug||l),V=p.name||n;_s(y,V),Ys(y,{siteName:V,persist:!1});let U=encodeURIComponent(Te(y));window.location.href=`/admin/site/${U}/design`}catch(f){console.error("[admin] Impossible de s\xE9lectionner le site",f),j("Erreur inattendue lors de la s\xE9lection.")}},fn=async()=>{try{let o=await fetch("/api/sites/current",{credentials:"same-origin"});if(!o.ok){o.status===404&&J&&(window.location.href="/admin/sites");return}let n=await o.json(),l=Tt(n.slug);_s(l,n.name),Ys(l,{siteName:n.name,persist:!1})}catch(o){console.warn("[admin] Impossible de r\xE9cup\xE9rer le site actif",o)}};(()=>{if(te.slug){Ys(te.slug,{siteName:te.name,persist:!1});return}let o=document.querySelector('[data-site-card][data-site-default="true"]')||qo[0];o&&Ys(o.dataset.siteCard,{siteName:o.dataset.siteName||"",persist:!1})})(),fn(),J?Bo(J.slugValue):te.slug&&Bo(te.slug),Xr.forEach(o=>{o.addEventListener("click",()=>{if(o.disabled)return;let n=o.dataset.siteSelect,l=o.dataset.siteSelectName||"Ce site";n&&(o.disabled=!0,mn(n,l).finally(()=>{o.disabled=!1}))})});let Yt=o=>(o||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),pn=o=>{let n=Yt(o||"");return n?`/${n}`:""},gn=()=>{dt&&(dt.classList.remove("hidden"),dt.classList.add("flex"),Gs=!1,at==null||at.reset(),Qe&&(Qe.textContent=""),Xe&&(Xe.textContent=""),Me&&Ye&&(Me.value=Yt(Ye.value)),ks(dt,As),window.setTimeout(()=>{Ye==null||Ye.focus()},0))},As=()=>{dt&&(dt.classList.add("hidden"),dt.classList.remove("flex"),Gs=!1,at==null||at.reset(),Qe&&(Qe.textContent=""),Xe&&(Xe.textContent=""),Cs(dt))};on.forEach(o=>{o.addEventListener("click",gn)}),rn.forEach(o=>{o.addEventListener("click",As)}),dt==null||dt.addEventListener("click",o=>{o.target===dt&&As()}),Ye==null||Ye.addEventListener("input",()=>{Me&&((!Gs||Me.value.trim().length===0)&&(Me.value=Yt(Ye.value)),Qe&&(Qe.textContent=""),Xe&&(Xe.textContent=""))}),Me==null||Me.addEventListener("focus",()=>{let o=(Me==null?void 0:Me.value)||"",n=(Ye==null?void 0:Ye.value)||"";!o.trim()&&n.trim()&&(Me.value=Yt(n))}),Me==null||Me.addEventListener("input",()=>{Gs=!0,Qe&&(Qe.textContent=""),Xe&&(Xe.textContent="")});let hn=()=>new Set(Array.from(qo).map(o=>Tt(o.dataset.siteCard||"")));at==null||at.addEventListener("submit",async o=>{if(o.preventDefault(),console.log("[admin] Form submit - siteNameInput:",Ye,"siteSlugInput:",Me),!Ye||!Me){console.log("[admin] Missing inputs, aborting");return}let n=(Ye.value||"").trim(),l=(Me.value||"").trim();console.log("[admin] nameValue:",n,"slugValue:",l),!l&&n&&(l=Yt(n),Me.value=l,console.log("[admin] Auto-generated slug:",l));let f=pn(l);if(console.log("[admin] normalizedSlug:",f),!n){console.log("[admin] Name validation failed"),Xe&&(Xe.textContent="Le nom du site est requis."),Ye.focus();return}if(!f){console.log("[admin] Slug validation failed"),Qe&&(Qe.textContent="Le slug ne peut pas \xEAtre vide ou contenir uniquement des caract\xE8res sp\xE9ciaux."),Me.focus();return}if(hn().has(f)){Qe&&(Qe.textContent="Ce slug est d\xE9j\xE0 utilis\xE9.");return}Qe&&(Qe.textContent=""),Xe&&(Xe.textContent=""),as&&(as.disabled=!0,as.textContent="Cr\xE9ation...");try{let y=await fetch("/api/sites",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:n,slug:f})});if(!y.ok){let G=await y.json().catch(()=>({})),w=G.message||"Impossible de cr\xE9er ce site.";Xe&&(Xe.textContent=w),G.field==="slug"&&Qe&&(Qe.textContent=w);return}let V=await y.json(),U=Tt((V==null?void 0:V.slug)||f),O=(V==null?void 0:V.name)||n;_s(U,O),As();let ee=encodeURIComponent(Te(U));window.location.href=`/admin/site/${ee}/design`}catch(y){console.error("[admin] Impossible de cr\xE9er le site",y),Xe&&(Xe.textContent="Erreur inattendue. R\xE9essaie dans un instant.")}finally{as&&(as.disabled=!1,as.textContent="Cr\xE9er")}}),window.addEventListener("keydown",o=>{o.key==="Escape"&&(dt&&!dt.classList.contains("hidden")&&As(),At&&!At.classList.contains("hidden")&&Qs(),blockDeleteModal&&!blockDeleteModal.classList.contains("hidden")&&closeBlockDeleteModal(),blockLibraryOpen&&closeBlockLibrary())});function yn(){let o=window.location.pathname.match(/^\/admin\/site\/([^/]+)(?:\/([^/]+))?/);return o?{slugPart:decodeURIComponent(o[1]),slugValue:Tt(decodeURIComponent(o[1])),section:o[2]||"design"}:null}function bn(){return document.querySelector("[data-page-list]")?"design":document.querySelector("[data-collection-list]")?"content":document.querySelector("[data-media-grid]")?"media":document.querySelector("[data-deploy-form]")?"deploy":null}function vn(){if(!At){window.location.href="/admin/sites";return}At.classList.remove("hidden"),At.classList.add("flex"),ks(At,Qs)}function Qs(){At&&(At.classList.add("hidden"),At.classList.remove("flex"),Cs(At))}en.forEach(o=>{o.addEventListener("click",vn)}),tn.forEach(o=>{o.addEventListener("click",Qs)}),Ao==null||Ao.addEventListener("click",()=>{Qs(),window.location.href="/admin/sites"});let Qt="repeating-conic-gradient(#ccc 0% 25%, white 0% 50%) 50% / 8px 8px",xn=o=>{if(!o||typeof o!="string")return null;let n=o.trim().toLowerCase();if(n==="transparent")return null;let l=n.match(/^rgb\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*\\)$/);if(l)return[Math.min(255,Math.max(0,Number(l[1]))),Math.min(255,Math.max(0,Number(l[2]))),Math.min(255,Math.max(0,Number(l[3])))];let f=n.match(/^#([a-f0-9]{3}|[a-f0-9]{6})$/);if(f){let p=f[1],y=p.length===3?p.split("").map(ee=>`${ee}${ee}`).join(""):p,V=parseInt(y.slice(0,2),16),U=parseInt(y.slice(2,4),16),O=parseInt(y.slice(4,6),16);return[V,U,O]}return null},Po=o=>{let n=xn(o);if(!n)return"#0f172a";let[l,f,p]=n;return(.2126*l+.7152*f+.0722*p)/255>.62?"#0f172a":"#ffffff"},Xs=o=>{o&&Array.from(o.options).forEach(n=>{var f;let l=(f=n.dataset)==null?void 0:f.color;if(l){if(l==="transparent"){n.style.background=Qt,n.style.color="#475569";return}n.style.background=l,n.style.color=Po(l)}})},Ts=(J==null?void 0:J.section)||bn();Ts==="design"&&wn(),Ts==="content"&&Sn(),Ts==="media"&&Cn(),Ts==="deploy"&&Ln(),Ts==="settings"&&kn(),J&&te.name&&br(te.name);function wn(){let o=document.querySelectorAll("[data-page-list]");if(o.length===0)return;let n=document.querySelector("[data-active-page-title]"),l=document.querySelector("[data-active-page-slug]"),f=document.querySelector("[data-page-preview-tags]"),p=document.querySelector("[data-page-preview-frame]"),y=document.querySelector("[data-page-preview-frame-wrapper]"),V=document.querySelector("[data-page-preview-shell]"),U=document.querySelectorAll("[data-preview-view-button]"),O=document.querySelector("[data-page-preview-current-view]"),ee=document.querySelector("[data-preview-open]"),G=document.querySelector("[data-preview-status]"),w=document.querySelector("[data-preview-highlight]"),T=document.querySelector("[data-seo-toggle]"),B=document.querySelector("[data-seo-panel]"),M=document.querySelector("[data-seo-close]"),P=document.querySelector("[data-seo-form]"),R=document.querySelector("[data-seo-title]"),L=document.querySelector("[data-seo-description]"),S=document.querySelector("[data-seo-indexed]"),v=document.querySelector("[data-seo-feedback]"),A=document.querySelector("[data-seo-save]"),q=document.querySelector("[data-page-accessibility-toggle]"),H=document.querySelector("[data-page-accessibility-panel]"),W=document.querySelector("[data-page-accessibility-close]"),Y=document.querySelector("[data-page-accessibility-form]"),Z=document.querySelector("[data-page-accessibility-nav]"),ye=document.querySelector("[data-page-accessibility-main]"),Ce=document.querySelector("[data-page-accessibility-feedback]"),Je=document.querySelector("[data-page-accessibility-save]"),ve=document.querySelector("[data-page-props-toggle]"),K=document.querySelector("[data-page-props-panel]"),Be=document.querySelector("[data-page-props-close]"),Ve=document.querySelector("[data-page-props-form]"),I=document.querySelector("[data-page-name]"),k=document.querySelector("[data-page-title-input]"),z=document.querySelector("[data-page-slug-input]"),pe=document.querySelector("[data-page-description]"),C=document.querySelector("[data-page-props-feedback]"),x=document.querySelector("[data-page-props-save]"),E=document.querySelector("[data-blocks-list]"),oe=document.querySelector("[data-blocks-empty]"),Q=document.querySelector("[data-block-count]"),ge=document.querySelector("[data-block-library-toggle]"),ne=document.querySelector("[data-block-library]"),xe=document.querySelectorAll("[data-block-add]"),ce=document.querySelector("[data-block-delete-modal]"),He=document.querySelector("[data-block-delete-confirm]"),Fe=document.querySelector("[data-block-delete-cancel]"),ke=document.querySelector("[data-block-detail-empty]"),qe=document.querySelector("[data-block-detail-status]"),Pe=document.querySelector("[data-block-editor]"),Dt=document.querySelector("[data-block-editor-block-name]"),h=document.querySelector("[data-block-editor-block-type]"),$=document.querySelector("[data-block-editor-unsupported]"),g=document.querySelector("[data-block-form]"),re=(e,t)=>{if(e){if(t==="transparent"){e.style.background=Qt,e.style.borderColor="#cbd5f5",e.style.boxShadow="";return}e.style.background=t,e.style.borderColor=t,e.style.boxShadow="0 0 0 1px rgba(15,23,42,0.15)"}},$t=(e,t)=>{if(!e||!t||Array.from(e.options).some(r=>r.value===t))return;let s=document.createElement("option");s.value=t,s.textContent="Couleur personnalis\xE9e",s.dataset.color=t,t==="transparent"?(s.style.background=Qt,s.style.color="#475569"):(s.style.background=t,s.style.color=Po(t)),e.appendChild(s),Xs(e)},Xt=e=>{var c,m,F;if(!e)return;let t=e.options[e.selectedIndex],s=((c=t==null?void 0:t.dataset)==null?void 0:c.color)||"#ffffff",r=(m=e.closest(".relative"))==null?void 0:m.querySelector("[data-color-preview]");r&&(s==="transparent"?r.style.background=Qt:r.style.background=s);let i=(F=e.closest(".relative"))==null?void 0:F.querySelector("[data-theme-color-chip]");re(i,s)},oo=g?Array.from(g.querySelectorAll("[data-theme-color-select]")):[],Ho=e=>{var s;return(((s=e==null?void 0:e.getAttribute)==null?void 0:s.call(e,"name"))||"").endsWith("-bg")},Is=[{label:"Couleur primaire",value:"theme-primary",cssVar:"--color-primary"},{label:"Couleur secondaire",value:"theme-secondary",cssVar:"--color-secondary"},{label:"Couleur accent",value:"theme-accent",cssVar:"--color-accent"},{label:"Fond",value:"theme-background",cssVar:"--color-background"},{label:"Texte",value:"theme-text",cssVar:"--color-text"}],kr=(e,t="#ffffff")=>{if(!e)return t;let s=getComputedStyle(document.documentElement).getPropertyValue(e);return s?s.trim():t},ro=e=>{e&&(e.innerHTML="",Is.forEach(({label:t,value:s,cssVar:r})=>{let i=document.createElement("option");i.value=s;let c=kr(r);i.textContent=t,i.dataset.color=c,c==="transparent"?(i.style.background=Qt,i.style.color="#475569"):(i.style.background=c,i.style.color=Po(c)),e.appendChild(i)}),e.value=Is[0].value,e.removeAttribute("disabled"),Ho(e)&&Xs(e),Xt(e))},ut=()=>oo.forEach(ro);ut(),document.addEventListener("ai-theme-updated",ut);let Bt=g?Array.from(g.querySelectorAll("[data-editor-section]")):[],Ue=document.querySelectorAll("[data-block-tab]"),We="content",Re=document.querySelectorAll("[data-left-tab]"),mt=document.querySelector('[data-left-panel="blocks"]'),Vt=document.querySelector('[data-left-panel="pages"]'),Ot="blocks",$s=e=>{Ot=e,Re.forEach(t=>{let s=t.dataset.leftTab===e;t.setAttribute("aria-selected",s?"true":"false"),s?(t.classList.add("text-[#9C6BFF]"),t.classList.remove("text-slate-500","hover:text-slate-700"),t.classList.add("after:absolute","after:bottom-0","after:left-0","after:right-0","after:h-0.5","after:bg-[#9C6BFF]")):(t.classList.remove("text-[#9C6BFF]"),t.classList.add("text-slate-500","hover:text-slate-700"),t.classList.remove("after:absolute","after:bottom-0","after:left-0","after:right-0","after:h-0.5","after:bg-[#9C6BFF]"))}),mt&&mt.classList.toggle("hidden",e!=="blocks"),Vt&&Vt.classList.toggle("hidden",e!=="pages")};Re.forEach(e=>{e.addEventListener("click",()=>{$s(e.dataset.leftTab)})});let Bs=document.querySelector("[data-block-form-actions]"),Jt=document.querySelector("[data-block-form-autosave]"),cs=e=>{We=e,Ue.forEach(s=>{let r=s.dataset.blockTab===e;s.setAttribute("aria-selected",r?"true":"false"),r?(s.classList.add("text-[#9C6BFF]"),s.classList.remove("text-slate-500","hover:text-slate-700"),s.classList.add("after:absolute","after:bottom-0","after:left-0","after:right-0","after:h-0.5","after:bg-[#9C6BFF]")):(s.classList.remove("text-[#9C6BFF]"),s.classList.add("text-slate-500","hover:text-slate-700"),s.classList.remove("after:absolute","after:bottom-0","after:left-0","after:right-0","after:h-0.5","after:bg-[#9C6BFF]"))});let t=g==null?void 0:g.querySelector("[data-editor-section]:not(.hidden)");t&&t.querySelectorAll("[data-block-panel]").forEach(r=>{r.dataset.blockPanel===e?r.classList.remove("hidden"):r.classList.add("hidden")}),Bs&&Jt&&(e==="content"?(Bs.classList.remove("hidden"),Jt.classList.add("hidden")):(Bs.classList.add("hidden"),Jt.classList.remove("hidden")))};Ue.forEach(e=>{e.addEventListener("click",()=>{cs(e.dataset.blockTab)})});let Ie=g==null?void 0:g.querySelector('[name="collection-grid-collection"]'),es=g==null?void 0:g.querySelector("[data-collection-selection-info]"),Wt=document.querySelector("[data-block-form-cancel]"),ds=g==null?void 0:g.querySelector("[data-group-preview-mobile]"),Ps=g==null?void 0:g.querySelector("[data-group-preview-desktop]"),gt=g==null?void 0:g.querySelector("[data-collection-preview-mobile]"),no=g==null?void 0:g.querySelector("[data-collection-preview-desktop]"),us={hero:{section:"hero",labelField:"title",descriptionField:"subtitle",fields:{title:"hero-title",subtitle:"hero-subtitle",ctaLabel:"hero-cta-label",ctaUrl:"hero-cta-url",image:"hero-image",layout:"hero-layout",imageWidth:"hero-image-width",imageHeight:"hero-image-height",imageObjectFit:"hero-image-object-fit",height:"hero-height",contentAlign:"hero-content-align",horizontalAlign:"hero-horizontal-align",textAlign:"hero-text-align",overlay:"hero-overlay",titleSize:"hero-title-size",bg:"hero-bg",borderRadius:"hero-border-radius",shadow:"hero-shadow",border:"hero-border"}},paragraphe:{section:"paragraph",labelField:"title",descriptionField:"content",fields:{title:"paragraph-title",content:"paragraph-content",align:"paragraph-align",titleSize:"paragraph-title-size",textSize:"paragraph-text-size",spacing:"paragraph-spacing",bg:"paragraph-bg",borderRadius:"paragraph-border-radius",shadow:"paragraph-shadow",border:"paragraph-border"}},image:{section:"image",labelField:"alt",fields:{src:"image-src",alt:"image-alt",showCaption:"image-caption-toggle",caption:"image-caption",rounded:"image-rounded",shadow:"image-shadow",maxWidth:"image-max-width",height:"image-height",objectFit:"image-object-fit",align:"image-align",bg:"image-bg",borderRadius:"image-border-radius",border:"image-border"}},groupe:{section:"group",fields:{columnsMobile:"group-columns-mobile",columnsDesktop:"group-columns-desktop",gap:"group-gap",itemsAlign:"group-items-align",mobileLayout:"group-mobile-layout",bg:"group-bg",borderRadius:"group-border-radius",shadow:"group-shadow",border:"group-border"}},collectiongrid:{section:"collection",fields:{collectionId:"collection-grid-collection",limit:"collection-grid-limit",columnsMobile:"collection-columns-mobile",columnsDesktop:"collection-columns-desktop",gap:"collection-gap",itemsAlign:"collection-items-align",cardRounded:"collection-card-rounded",mobileLayout:"collection-mobile-layout",bg:"collection-bg",borderRadius:"collection-border-radius",shadow:"collection-shadow",border:"collection-border"}},form:{section:"form",labelField:"formTitle",fields:{formTitle:"form-title",actionUrl:"form-action-url",method:"form-method",serviceName:"form-service-name",submitLabel:"form-submit-label",successMessage:"form-success-message",maxWidth:"form-max-width",align:"form-align",buttonRounded:"form-button-rounded",spacing:"form-spacing",bg:"form-bg",borderRadius:"form-border-radius",shadow:"form-shadow",border:"form-border"}},newsletterembed:{section:"newsletter",labelField:"title",fields:{title:"newsletter-title",serviceName:"newsletter-service-name",embedCode:"newsletter-embed-code",maxWidth:"newsletter-max-width",align:"newsletter-align",padding:"newsletter-padding",bg:"newsletter-bg",borderRadius:"newsletter-border-radius",shadow:"newsletter-shadow",border:"newsletter-border"}}},Uo={texte:"paragraphe",paragraph:"paragraphe",paragraphs:"paragraphe",paragraphes:"paragraphe",text:"paragraphe",hero:"hero",image:"image",groupe:"groupe",group:"groupe",collection:"collectiongrid",collectiongrid:"collectiongrid","collection-grid":"collectiongrid",form:"form",formulaire:"form",contact:"form",newsletterembed:"newsletterembed",newsletter:"newsletterembed",embed:"newsletterembed"},Ro={animation:"anim-type",animationDelay:"anim-delay",animationDuration:"anim-duration"};Object.values(us).forEach(e=>{e.fields={...e.fields,...Ro}});let js=(e,t)=>{if(!ds||!Ps)return;let s=r=>Array.from({length:Number(r)||1}).map(()=>'<span class="block h-2 w-full rounded-full bg-slate-300"></span>').join("");ds.innerHTML=s(e),Ps.innerHTML=s(t)},ao=(e,t)=>{if(!gt||!no)return;let s=r=>Array.from({length:Number(r)||1}).map(()=>'<span class="block h-2 w-full rounded-full bg-violet-300"></span>').join("");gt.innerHTML=s(e),no.innerHTML=s(t)},ms=async()=>{if(!St)return[];let e=await fetch(St,{headers:{Accept:"application/json"}});if(!e.ok)throw new Error("Impossible de charger les pages.");let t=await e.json().catch(()=>[]);return Array.isArray(t)?t:[]},zo=async({name:e,title:t,slug:s})=>{if(!St)throw new Error("Site inconnu.");let r=await fetch(St,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,title:t,slug:s})});if(!r.ok){let i=await r.json().catch(()=>({}));throw new Error(i.message||"Impossible de cr\xE9er la page.")}return r.json().catch(()=>({}))},ts=async e=>{if(!(!St||!(e!=null&&e.id)))try{let t=await fetch(`${St}/${encodeURIComponent(e.id)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){let r=await t.json().catch(()=>({}));throw new Error(r.message||"Impossible de sauvegarder la page.")}let s=await t.json().catch(()=>({}));if(s!=null&&s.id){let r=rs(s);return ie=ie.map(i=>i.id===r.id?r:i),(u==null?void 0:u.id)===r.id&&(u=r),r}return s}catch(t){console.error("[design] Save page failed",t),j(t.message||"Sauvegarde impossible.")}},Vo=async()=>{if(!St){ie=[],Ne=null,u=null,Gt(ie,Ne),Lt(null),ke==null||ke.classList.remove("hidden"),Pe==null||Pe.classList.add("hidden");return}try{let e=await ms();if(ie=(Array.isArray(e)?e:[]).map(t=>rs(t)),ie.length===0){Ne=null,u=null,Gt(ie,Ne),Lt(null),ke==null||ke.classList.remove("hidden"),Pe==null||Pe.classList.add("hidden"),p&&(p.srcdoc=a());return}Ne=On(ie),qt(Ne)}catch(e){console.error("[design] Impossible de charger les pages",e),j("Impossible de charger les pages.")}},Oo=e=>(e||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),Pt=e=>{if(!e)return null;let t=Oo(e.type),s=Uo[t]||t;return us[s]||null},io=e=>{var r,i,c,m,F,_,Se;if(!g||!Pe)return;e&&!e.settings&&(e.settings={});let t=Pt(e);if(Dt&&(Dt.textContent=(e==null?void 0:e.label)||"Bloc"),h&&(h.textContent=(e==null?void 0:e.type)||"Bloc"),!t){g.classList.add("hidden"),$==null||$.classList.remove("hidden"),g.dataset.blockId="";return}if($==null||$.classList.add("hidden"),g.classList.remove("hidden"),g.reset(),g.dataset.blockId=e.id,Bt.forEach(de=>{de.dataset.editorSection===t.section?de.classList.remove("hidden"):de.classList.add("hidden")}),cs("content"),t.section==="collection"){let de=e.collectionId||((r=e.settings)==null?void 0:r.collectionId)||"";wo(de)}if(Object.entries(t.fields).forEach(([de,De])=>{var N,nt,Ae;let je=g.querySelector(`[name="${De}"]`);if(!je)return;let le=(N=e.settings)==null?void 0:N[de];if(je.type==="checkbox")je.checked=!!le;else if(je.type==="number"){let he=(Ae=(nt=je.dataset.default)!=null?nt:je.defaultValue)!=null?Ae:"";je.value=le!=null?le:he}else je.tagName,je.value=le!=null?le:""}),t.section==="group"){let de=((i=g.querySelector('[name="group-columns-mobile"]'))==null?void 0:i.value)||"1",De=((c=g.querySelector('[name="group-columns-desktop"]'))==null?void 0:c.value)||"3";js(de,De)}if(t.section==="collection"){let de=((m=g.querySelector('[name="collection-columns-mobile"]'))==null?void 0:m.value)||"1",De=((F=g.querySelector('[name="collection-columns-desktop"]'))==null?void 0:F.value)||"3";ao(de,De)}let s=(_=t.fields)==null?void 0:_.bg;if(s){let de=g.querySelector(`[name="${s}"]`);$t(de,(Se=e.settings)==null?void 0:Se.bg)}g.querySelectorAll("[data-color-select]").forEach(Xt)},ss=e=>{if(!g||!e)return{};let t={};return Object.entries(e.fields).forEach(([s,r])=>{var c,m;let i=g.querySelector(`[name="${r}"]`);if(i)if(i.type==="checkbox")t[s]=i.checked;else if(i.type==="number"){let F=Number(i.value);t[s]=Number.isFinite(F)?F:0}else if(i.tagName==="SELECT"){let F=(m=(c=i.dataset.default)!=null?c:i.value)!=null?m:"";t[s]=i.value||F}else i.tagName==="TEXTAREA"?t[s]=i.value||"":i.type==="select-one"?t[s]=i.value:t[s]=i.value||""}),t},Ct=e=>{if(G){if(!e){G.classList.add("hidden");return}G.classList.remove("hidden"),G.textContent=e}},lo=e=>{if(!e)return null;let t=s=>{var r;return{id:s.id,type:s.type,label:s.label,status:s.status,description:s.description,props:s.props||[],settings:s.settings||{},collectionId:s.collectionId||((r=s.settings)==null?void 0:r.collectionId)||"",children:(s.children||[]).map(t)}};return{id:e.id,name:e.name,title:e.title,slug:e.slug,description:e.description||"",badges:[...e.badges||[]],seo:e.seo||{},accessibility:e.accessibility||{},blocks:(e.blocks||[]).map(t)}},a=()=>'<!DOCTYPE html><html><body style="font-family:Inter,sans-serif;padding:40px;color:#475569;background:#fff;">Pr\xE9paration de la pr\xE9visualisation\u2026</body></html>',d=(e,t)=>{let s;return(...r)=>{clearTimeout(s),s=setTimeout(()=>e(...r),t)}},b=async()=>{if(!u||!_e)return;let e=vs(),t=Pt(e);if(!e||!t)return;let s=ss(t),r=(u.blocks||[]).map(c=>{if(c.id!==e.id)return c;let m={...c.settings||{},...s};return{...c,settings:m}}),i={...u,blocks:r};u=i;try{let c=await ts(i);if(c!=null&&c.id){let m=rs(c);u=m,ie=ie.map(F=>F.id===m.id?m:F)}}catch(c){console.warn("[design] auto-save appearance failed",c)}},D=(e,t)=>{!p||!p.contentWindow||p.contentWindow.postMessage({type:"updateBlockStyles",blockId:e,settings:t},"*")},X=d(()=>{u&&ae(u)},1500),ue=(e,t)=>{D(e,t),Ct("Modification\u2026"),b().then(()=>{Ct("Sauvegard\xE9"),setTimeout(()=>Ct("\xC0 jour"),1500)}).catch(()=>Ct("Erreur de sauvegarde")),X()},ae=e=>{if(!p||!e)return;let t=(J==null?void 0:J.slugValue)||te.slug||"",s=ie.map(c=>({id:c.id,slug:c.slug,title:c.title,name:c.name,accessibility:c.accessibility})),r={page:lo(e),site:{title:te.name||"Site",slug:t,pages:s}};er=!1,Ct("Actualisation\u2026"),p.srcdoc=a(),zs&&zs.abort();let i=new AbortController;zs=i,fetch("/api/preview",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r),signal:i.signal}).then(c=>{if(!c.ok)throw new Error("Preview error");return c.json()}).then(c=>{i.signal.aborted||(Xo=c.html||"",p.setAttribute("title",`Pr\xE9visualisation de la page ${e.title||""}`.trim()),p.srcdoc=Xo||a(),Ct("\xC0 jour"))}).catch(c=>{i.signal.aborted||(console.error("[preview] Impossible de rendre la page",c),Ct("Erreur preview"),p.srcdoc='<!DOCTYPE html><html><body style="font-family:Inter,sans-serif;padding:40px;color:#be123c;background:#fff;">Erreur lors du rendu de la pr\xE9visualisation.</body></html>')}).finally(()=>{zs===i&&(zs=null)})},me=e=>{var c;if(e.preventDefault(),!u||!_e)return;let t=vs(),s=Pt(t);if(!t||!s)return;let r=ss(s);if(s.section==="image"){let m=(r.alt||"").trim();if(r.alt=m,!m){j("Ajoute un texte alternatif pour cette image.","error"),(c=g==null?void 0:g.querySelector('[name="image-alt"]'))==null||c.focus();return}}if(s.section==="collection"){if(!r.collectionId){j("S\xE9lectionnez une collection.");return}r.limit=Math.max(1,Number(r.limit)||1)}let i=(u.blocks||[]).map(m=>{if(m.id!==t.id)return m;let F={...m.settings||{},...r},_={...m,settings:F};return s.labelField&&r[s.labelField]&&(_.label=r[s.labelField]),s.descriptionField&&r[s.descriptionField]&&(_.description=r[s.descriptionField]),s.section==="collection"&&(_.collectionId=r.collectionId,_.settings.collectionId=r.collectionId,_.settings.limit=r.limit),_});xs(i),j("Bloc mis \xE0 jour"),qt(u.id,{preserveBlock:!0})},Ee=document.querySelector("[data-page-drawer]"),we=document.querySelector("[data-page-drawer-backdrop]"),et=document.querySelectorAll("[data-page-drawer-open]"),tt=document.querySelectorAll("[data-page-drawer-close]"),$e=document.querySelector("[data-add-page-toggle]"),be=document.querySelector("[data-add-page-form]"),Oe=document.querySelector("[data-add-page-name]"),Et=document.querySelector("[data-add-page-title]"),st=document.querySelector("[data-add-page-slug]"),fs=document.querySelector("[data-add-page-cancel]"),Ge=document.querySelector("[data-add-page-error]"),Ht=be==null?void 0:be.querySelector('[type="submit"]'),ps=document.querySelector("[data-import-pages-toggle]"),lt=document.querySelector("[data-import-modal]"),co=document.querySelectorAll("[data-import-modal-close]"),ot=document.querySelector("[data-import-dropzone]"),gs=document.querySelector("[data-import-file-input]"),hs=document.querySelector("[data-import-file-list]"),Ms=document.querySelector("[data-import-file-names]"),Ze=document.querySelector("[data-import-results]"),Ke=document.querySelector("[data-import-results-content]"),rt=document.querySelector("[data-import-submit]"),ys=document.querySelectorAll("[data-import-tab]"),Fs=document.querySelectorAll("[data-import-panel]"),bs=document.querySelector("[data-copy-prompt]"),Jo=document.querySelector("[data-copy-template]"),Cr=document.querySelector("[data-template-json]"),Er=document.querySelector("[data-import-ai-prompt]"),ht=document.querySelector("[data-import-paste-json]"),Wo=document.querySelector("[data-format-json]"),jt=document.querySelector("[data-import-paste-error]"),Ut=[],os="upload",wt=document.querySelector("[data-delete-page-modal]"),qr=document.querySelector("[data-delete-page-name]"),Go=document.querySelector("[data-delete-page-cancel]"),Rt=document.querySelector("[data-delete-page-confirm]"),Ns=null,Un=Te((J==null?void 0:J.slugValue)||te.slug||"default")||"default",Rn=(J==null?void 0:J.slugValue)||te.slug||"",uo=Te(Rn)||"",St=uo?`/api/sites/${encodeURIComponent(uo)}/pages`:null,Ar=uo?`/api/sites/${encodeURIComponent(uo)}/collections`:null,Tr={active:`clower:activePage:${Un}`},Zo=(e,t,s,r,i,c=[],m={})=>{let F={id:e,label:t,type:s,status:r,description:i,props:c,settings:{...m}};return F.settings.collectionId&&(F.collectionId=F.settings.collectionId),F},zn={hero:{type:"Hero",label:"Hero de page",description:"Section pleine largeur avec CTA principal.",status:"Brouillon",props:[{label:"CTA",value:"D\xE9couvrir"},{label:"Hauteur",value:"80vh"}],settings:{title:"Titre du hero",subtitle:"",ctaLabel:"D\xE9couvrir",ctaUrl:"#",image:"",align:"center"}},paragraph:{type:"Paragraphe",label:"Bloc \xE9ditorial",description:"Paragraphe libre pour raconter votre histoire.",status:"Brouillon",props:[{label:"Longueur",value:"150 mots"}],settings:{title:"Titre du paragraphe",content:"",align:"left"}},image:{type:"Image",label:"Bloc image",description:"Visuel seul avec l\xE9gende optionnelle.",status:"Brouillon",props:[{label:"Ratio",value:"16:9"},{label:"L\xE9gende",value:"Inactive"}],settings:{src:"",alt:"",showCaption:!1,caption:""}},group:{type:"Groupe",label:"Groupe de sections",description:"Conteneur pour imbriquer plusieurs sous-blocs.",status:"Brouillon",props:[{label:"Disposition",value:"Verticale"}],settings:{layout:"grid",columnsMobile:"1",columnsDesktop:"3",mobileLayout:"stack"}},collectiongrid:{type:"CollectionGrid",label:"Grille de contenus",description:"Affiche automatiquement les items d\u2019une collection.",status:"Brouillon",settings:{collectionId:"",limit:6,mobileLayout:"stack"}},form:{type:"Form",label:"Formulaire de contact",description:"Formulaire avec envoi vers un service externe.",status:"Brouillon",settings:{formTitle:"Contactez-nous",actionUrl:"",method:"POST",serviceName:"",submitLabel:"Envoyer",successMessage:"Merci pour votre message !"}},newsletterembed:{type:"NewsletterEmbed",label:"Newsletter / Embed",description:"Int\xE9gration d'un formulaire newsletter externe (Brevo, Mailchimp\u2026).",status:"Brouillon",settings:{title:"Restez inform\xE9",serviceName:"",embedCode:""}}},Vn=e=>{try{window.localStorage.setItem(Tr.active,e)}catch{}},On=e=>{var t;try{let s=window.localStorage.getItem(Tr.active);if(s&&e.some(r=>r.id===s))return s}catch{}return((t=e[0])==null?void 0:t.id)||null},Jn=e=>!e||e<=0?"0 bloc":e===1?"1 bloc":`${e} blocs`,Ir=e=>{if(!e||e==="/")return"/";let t=Yt(e.replace(/^\//,""));return t?`/${t}`:"/"},Ko=(e="page",t="block")=>`${e}-${t}-${Date.now().toString(36)}-${Math.floor(Math.random()*1e3)}`,qa=(e,t)=>[Zo(Ko(e,"intro"),"Introduction","Paragraphe","Brouillon",`Paragraphe introductif pour "${t}".`,[{label:"Longueur",value:"2 paragraphes"}],{title:`Introduction \xE0 ${t}`,content:"Ajoutez votre premier paragraphe de pr\xE9sentation.",align:"left"}),Zo(Ko(e,"content"),"Zone de contenu","Groupe","Brouillon","Section principale \xE0 composer avec textes et visuels.",[{label:"Colonnes",value:"Auto"}],{layout:"grid",columnsMobile:"1",columnsDesktop:"2",mobileLayout:"stack"})],$r=e=>{n&&(n.textContent=(e==null?void 0:e.name)||(e==null?void 0:e.title)||"Page"),l&&(l.textContent=(e==null?void 0:e.slug)||"/")},Wn=e=>{if(!f)return;f.innerHTML="",(e&&e.badges&&e.badges.length>0?e.badges:["Structure en cours"]).forEach(s=>{let r=document.createElement("span");r.className="rounded-full bg-slate-100 px-3 py-1",r.textContent=s,f.appendChild(r)})},Gn=e=>{switch((e||"").toLowerCase()){case"en ligne":return"bg-emerald-50 text-emerald-700";case"brouillon":return"bg-amber-50 text-amber-700";default:return"bg-slate-100 text-slate-600"}},mo=e=>{if(!(!ke||!Pe)){if(!e){ke.classList.remove("hidden"),Pe.classList.add("hidden"),$==null||$.classList.add("hidden"),g==null||g.classList.add("hidden"),qe==null||qe.classList.add("hidden");return}ke.classList.add("hidden"),Pe.classList.remove("hidden"),qe&&(e.status?(qe.textContent=e.status,qe.className=`rounded-full px-3 py-1 text-xs font-semibold ${Gn(e.status)}`,qe.classList.remove("hidden")):qe.classList.add("hidden")),io(e)}},Zn=()=>{let e=getComputedStyle(document.documentElement).getPropertyValue("--color-accent");return e?e.trim():"#9C6BFF"},Ds=e=>{if(!p)return;let t=p.contentDocument;if(!t)return;if(t.querySelectorAll("[data-preview-block]").forEach(r=>{r.dataset.previewBlock===e?(r.classList.add("preview-block-active"),er&&e&&r.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})):r.classList.remove("preview-block-active")}),w){let r=Zn();w.style.borderColor=e?r:"transparent",w.style.opacity=e?"0.5":"0"}},Br={desktop:{width:"100%",height:"640px",maxWidth:"",margin:"0"},mobile:{width:"375px",height:"780px",maxWidth:"375px",margin:"0 auto"}},Pr=e=>{let t=Br[e]?e:"desktop";U.forEach(r=>{let i=r.dataset.previewView===t;r.setAttribute("aria-pressed",i?"true":"false"),i?(r.classList.add("bg-slate-900","text-white"),r.classList.remove("bg-slate-200","text-slate-500")):(r.classList.remove("bg-slate-900","text-white"),r.classList.add("bg-slate-200","text-slate-500"))});let s=Br[t];p&&(p.style.width=s.width,p.style.height=s.height,p.style.maxWidth=s.maxWidth,p.style.margin=s.margin),y&&(y.style.width="100%",y.style.minHeight=s.height,y.style.maxWidth=s.maxWidth||"100%"),V&&(V.dataset.previewShellView=t),O&&(O.textContent=t==="mobile"?"Vue mobile":"Vue bureau")},jr=(e,t=!1,s=null)=>{var ar;let r=e.id===_e,i=(e.type||"").toLowerCase(),c=i==="groupe"||i==="group"||i==="sections"||i==="grid",m=document.createElement("div");m.dataset.blockItem="true",m.dataset.blockId=e.id,s&&(m.dataset.parentBlockId=s),c&&(m.dataset.isGroup="true"),m.setAttribute("role","option"),m.setAttribute("aria-selected",r?"true":"false"),m.setAttribute("draggable","true"),m.tabIndex=0,m.className=["relative flex items-center gap-3 rounded-2xl border px-3 py-2 text-left transition group",t?"ml-6 border-dashed":"",r?"bg-slate-100 border-[#9C6BFF]/40 shadow-sm":"border-slate-200 hover:border-[#9C6BFF]/40"].join(" ");let F=document.createElement("span");F.className=`absolute inset-y-2 left-0 w-1 rounded-full bg-[#9C6BFF] ${r?"":"hidden"}`,m.appendChild(F);let _=document.createElement("div");_.className="flex flex-1 items-center gap-3";let Se=document.createElement("div");Se.className="hidden lg:flex cursor-grab active:cursor-grabbing flex-shrink-0 items-center text-lg text-slate-400 hover:text-slate-600 transition-colors select-none",Se.innerHTML="\u22EE\u22EE",Se.setAttribute("title","Glisser pour r\xE9ordonner"),_.appendChild(Se);let de=document.createElement("div");de.className="flex-1";let De=document.createElement("div");De.className="flex items-center gap-2 text-[11px] uppercase tracking-wide text-slate-500";let je=document.createElement("span");je.className="rounded-full bg-slate-100 px-2 py-0.5 text-[10px] font-semibold text-slate-600",je.textContent=e.type;let le=document.createElement("span");if(le.className="text-slate-400",le.textContent=e.status,De.appendChild(je),c){let ft=(e.children||[]).length,ns=document.createElement("span");ns.className="rounded-full bg-violet-100 px-2 py-0.5 text-[10px] font-semibold text-violet-600",ns.textContent=`${ft} \xE9l\xE9ment${ft!==1?"s":""}`,De.appendChild(ns)}De.appendChild(le);let N=document.createElement("p");N.className="mt-1 text-sm font-semibold text-slate-900";let nt=e.settings&&e.settings.title||e.label||"Bloc sans titre";if(N.textContent=nt,de.appendChild(De),de.appendChild(N),i==="collectiongrid"&&e.collectionId){let ft=((ar=Mt.find(Sa=>Sa.id===e.collectionId))==null?void 0:ar.name)||e.collectionId,ns=document.createElement("p");ns.className="text-xs text-slate-400",ns.textContent=`Collection : ${ft}`,de.appendChild(ns)}_.appendChild(de),m.appendChild(_);let Ae=document.createElement("div");Ae.className="flex flex-col gap-1 text-xs text-slate-400";let he=document.createElement("div");he.className="flex items-center gap-1 lg:hidden";let ct=document.createElement("button");ct.type="button",ct.className="rounded-lg border border-slate-200 px-2 py-1 text-[11px] font-semibold text-slate-500",ct.textContent="\u2191",ct.addEventListener("click",ft=>{ft.stopPropagation(),s?Dr(s,e.id,-1):Ur(e.id,-1)});let yt=document.createElement("button");yt.type="button",yt.className="rounded-lg border border-slate-200 px-2 py-1 text-[11px] font-semibold text-slate-500",yt.textContent="\u2193",yt.addEventListener("click",ft=>{ft.stopPropagation(),s?Dr(s,e.id,1):Ur(e.id,1)}),he.appendChild(ct),he.appendChild(yt),Ae.appendChild(he);let ze=document.createElement("button");return ze.type="button",ze.className="inline-flex items-center justify-center rounded-lg border border-transparent px-2 py-1 text-[12px] text-rose-500 hover:text-rose-700",ze.innerHTML="\u{1F5D1}\uFE0F",ze.addEventListener("click",ft=>{ft.stopPropagation(),s?Qn(s,e.id):ia(e.id)}),Ae.appendChild(ze),m.appendChild(Ae),m.addEventListener("click",()=>{zt(e.id,s)}),m.addEventListener("keydown",ft=>{(ft.key==="Enter"||ft.key===" ")&&(ft.preventDefault(),zt(e.id,s))}),{item:m,isGroup:c,block:e}},Kn=e=>{let t=document.createElement("div");return t.dataset.groupDropZone=e.id,t.className="ml-6 border-2 border-dashed border-slate-200 rounded-xl p-3 text-center text-xs text-slate-400 hover:border-violet-300 hover:bg-violet-50/50 transition-colors cursor-pointer",t.innerHTML='<span class="pointer-events-none">\u{1F4E6} Glissez un bloc ici ou cliquez pour ajouter</span>',t.addEventListener("dragover",s=>{s.preventDefault(),s.stopPropagation(),t.classList.add("border-violet-400","bg-violet-50")}),t.addEventListener("dragleave",s=>{s.stopPropagation(),t.classList.remove("border-violet-400","bg-violet-50")}),t.addEventListener("drop",s=>{s.preventDefault(),s.stopPropagation(),t.classList.remove("border-violet-400","bg-violet-50");let r=s.dataTransfer.getData("text/plain");r&&r!==e.id&&Yn(r,e.id)}),t.addEventListener("click",()=>{ea(e.id)}),t},Lt=e=>{if(!E)return;E.innerHTML="";let t=(e==null?void 0:e.blocks)||[];if(Q&&(Q.textContent=Jn(t.length)),t.length===0){E.classList.add("hidden"),oe==null||oe.classList.remove("hidden");return}E.classList.remove("hidden"),oe==null||oe.classList.add("hidden"),t.forEach(s=>{let{item:r,isGroup:i}=jr(s,!1,null);if(E.appendChild(r),i){(s.children||[]).forEach(F=>{let{item:_}=jr(F,!0,s.id);E.appendChild(_)});let m=Kn(s);E.appendChild(m)}})},_n=e=>{if(!u||!e)return null;for(let t=0;t<u.blocks.length;t++){let s=u.blocks[t],r=((s==null?void 0:s.type)||"").toLowerCase();if(!(r==="groupe"||r==="group"||r==="sections"||r==="grid")||!Array.isArray(s.children))continue;let c=s.children.findIndex(m=>m.id===e);if(c!==-1)return{groupId:s.id,groupIndex:t,childIndex:c}}return null},Mr=e=>{if(!u||!e)return null;let t=u.blocks.findIndex(c=>c.id===e);if(t!==-1){let[c]=u.blocks.splice(t,1);return{block:c,from:{type:"root",index:t}}}let s=_n(e);if(!s)return null;let r=u.blocks.find(c=>c.id===s.groupId);if(!r||!Array.isArray(r.children))return null;let[i]=r.children.splice(s.childIndex,1);return{block:i,from:{type:"group",groupId:s.groupId,index:s.childIndex}}},fo=(e,t)=>{if(!u||!e)return;let s=Math.min(Math.max(0,t!=null?t:u.blocks.length),u.blocks.length);u.blocks.splice(s,0,e)},po=(e,t,s)=>{if(!u||!e||!t)return!1;let r=u.blocks.find(c=>c.id===t);if(!r)return!1;Array.isArray(r.children)||(r.children=[]);let i=Math.min(Math.max(0,s!=null?s:r.children.length),r.children.length);return r.children.splice(i,0,e),!0},Fr=(e,t,s=1)=>typeof e!="number"||e<0?null:t==="before"?e:e+s,go=(e=null,t=null,s=null)=>{Lt(u),savePageBlocks(),e&&zt(e,t),s&&j(s)},Yn=(e,t)=>{var c,m,F;if(!u||!e||!t||e===t)return;let s=u.blocks.find(_=>_.id===t);if(!s)return;let r=Mr(e);if(!(r!=null&&r.block))return;let i=(r.block.type||"").toLowerCase();if(i==="groupe"||i==="group"){j("Impossible d'imbriquer des groupes","error"),((c=r.from)==null?void 0:c.type)==="root"?fo(r.block,r.from.index):((m=r.from)==null?void 0:m.type)==="group"&&po(r.block,r.from.groupId,r.from.index);return}if(((F=r.from)==null?void 0:F.type)==="group"&&r.from.groupId===t){po(r.block,r.from.groupId,r.from.index);return}Array.isArray(s.children)||(s.children=[]),s.children.push(r.block),go(r.block.id,t,"Bloc ajout\xE9 au groupe")},Qn=(e,t)=>{if(!u)return;let s=u.blocks.find(m=>m.id===e);if(!s||!s.children)return;let r=s.children.findIndex(m=>m.id===t);if(r===-1)return;let[i]=s.children.splice(r,1),c=u.blocks.findIndex(m=>m.id===e);u.blocks.splice(c+1,0,i),Lt(u),savePageBlocks(),j("Bloc sorti du groupe")},_o=(e,t,s)=>{if(!u)return;let r=u.blocks.find(m=>m.id===e);if(!r||!Array.isArray(r.children))return;let i=r.children.findIndex(m=>m.id===t);if(i===-1)return;let[c]=r.children.splice(i,1);fo(c,s),go(c.id,null,"Bloc sorti du groupe")},Xn=(e,t,s,r)=>{if(!u)return;let i=u.blocks.find(de=>de.id===e);if(!i||!Array.isArray(i.children))return;let c=i.children.findIndex(de=>de.id===t),m=i.children.findIndex(de=>de.id===s);if(c===-1||m===-1||t===s)return;let[F]=i.children.splice(c,1),_=c<m?m-1:m,Se=r==="before"?_:_+1;i.children.splice(Se,0,F),go(F.id,e,null)},Nr=(e,t,s,r)=>{var _,Se,de,De;if(!u||!e||!t)return;let i=Mr(e);if(!(i!=null&&i.block))return;let c=(i.block.type||"").toLowerCase();if(c==="groupe"||c==="group"){j("Impossible d'imbriquer des groupes","error"),((_=i.from)==null?void 0:_.type)==="root"?fo(i.block,i.from.index):((Se=i.from)==null?void 0:Se.type)==="group"&&po(i.block,i.from.groupId,i.from.index);return}let m=u.blocks.find(je=>je.id===t);if(!m){((de=i.from)==null?void 0:de.type)==="root"?fo(i.block,i.from.index):((De=i.from)==null?void 0:De.type)==="group"&&po(i.block,i.from.groupId,i.from.index);return}Array.isArray(m.children)||(m.children=[]);let F=m.children.length;if(s){let je=m.children.findIndex(N=>N.id===s),le=Fr(je,r,1);le!==null&&(F=le)}m.children.splice(F,0,i.block),go(i.block.id,t,"Bloc ajout\xE9 au groupe")},Dr=(e,t,s)=>{if(!u)return;let r=u.blocks.find(F=>F.id===e);if(!r||!r.children)return;let i=r.children.findIndex(F=>F.id===t);if(i===-1)return;let c=i+s;if(c<0||c>=r.children.length)return;let[m]=r.children.splice(i,1);r.children.splice(c,0,m),Lt(u),savePageBlocks()},ea=e=>{Hs=e,openBlockPicker()},Hs=null,ta=e=>{!wt||!e||(Ns=e,qr&&(qr.textContent=e.title||e.id),wt.classList.remove("hidden"),wt.classList.add("flex"),ks(wt,ho))},ho=()=>{wt&&(wt.classList.add("hidden"),wt.classList.remove("flex"),Ns=null,Cs(wt))},sa=async()=>{if(!St||!Ns)return;let e=Ns.id,t=Ns.title||e;Rt&&(Rt.disabled=!0,Rt.textContent="Suppression...");try{let s=await fetch(`${St}/${encodeURIComponent(e)}`,{method:"DELETE",credentials:"include"}),r=await s.json();if(!s.ok)throw new Error(r.message||"Erreur serveur");ie=ie.filter(i=>i.id!==e),Ne===e?ie.length>0?qt(ie[0].id):(Ne=null,u=null,Gt(ie,null),Lt(null),ke==null||ke.classList.remove("hidden"),Pe==null||Pe.classList.add("hidden"),p&&(p.srcdoc=a())):Gt(ie,Ne),ho(),j(`Page "${t}" supprim\xE9e`)}catch(s){console.error("[pages] delete failed",s),j(s.message||"Erreur suppression")}finally{Rt&&(Rt.disabled=!1,Rt.textContent="Supprimer")}},Gt=(e,t)=>{o.forEach(s=>{s.innerHTML="",e.forEach(r=>{var de;let i=document.createElement("li");i.className="flex items-center gap-1";let c=document.createElement("button");c.type="button",c.dataset.pageId=r.id,c.className=["flex-1 flex items-center gap-3 px-3 py-2 text-left transition",t===r.id?"bg-[#9C6BFF]/10 text-slate-900 border border-[#9C6BFF]/40 rounded-xl shadow-sm":"text-slate-700 hover:bg-slate-50 rounded-xl"].join(" "),t===r.id?c.setAttribute("aria-current","page"):c.removeAttribute("aria-current");let m=r.name||r.title,_=((de=r.accessibility)==null?void 0:de.showInMainNav)===!1?'<span class="text-[10px] font-semibold text-amber-600">Masqu\xE9 du menu</span>':"";c.innerHTML=`
            <span class="flex h-9 w-9 items-center justify-center rounded-xl border border-slate-200 bg-white text-slate-500">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                <path d="M6.5 4.5h7l4 4v11a1 1 0 0 1-1 1h-10a1 1 0 0 1-1-1v-14a1 1 0 0 1 1-1Z" stroke="currentColor" stroke-width="1.4" stroke-linejoin="round"/>
                <path d="M13.5 4.5v4a1 1 0 0 0 1 1h3" stroke="currentColor" stroke-width="1.4"/>
              </svg>
            </span>
            <div class="flex flex-col">
              <span class="text-sm font-semibold">${m}</span>
              <span class="text-xs text-slate-500">${r.slug}</span>
              ${_}
            </div>
          `,c.addEventListener("click",()=>{qt(r.id),Yo()||Qo()}),i.appendChild(c);let Se=document.createElement("button");Se.type="button",Se.className="flex-shrink-0 p-2 text-slate-400 hover:text-rose-600 hover:bg-rose-50 rounded-lg transition",Se.title="Supprimer cette page",Se.setAttribute("aria-label",`Supprimer ${m}`),Se.innerHTML=`
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M3 6h18M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2m3 0v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6h14ZM10 11v6M14 11v6"/>
            </svg>
          `,Se.addEventListener("click",De=>{De.stopPropagation(),ta(r)}),i.appendChild(Se),s.appendChild(i)})})},vs=()=>{if(!u||!Array.isArray(u.blocks))return null;let e=u.blocks.find(t=>t.id===_e);if(!e){for(let t of u.blocks)if(t.children&&(e=t.children.find(s=>s.id===_e),e))break}return e||null},Hr=null,zt=(e,t=null)=>{if(!u)return;if(!e){_e=null,Hr=null,Lt(u),mo(null),Ds(null);return}let s=null;if(s=u.blocks.find(r=>r.id===e),!s&&t){let r=u.blocks.find(i=>i.id===t);r&&r.children&&(s=r.children.find(i=>i.id===e))}if(!s){for(let r of u.blocks)if(r.children){let i=r.children.find(c=>c.id===e);if(i){s=i,t=r.id;break}}}s||(s=u.blocks[0]||null,t=null),_e=(s==null?void 0:s.id)||null,Hr=t,Lt(u),mo(s),Ds(_e)},xs=e=>{if(!u)return;let t={...u,blocks:e};la(t)},yo=()=>window.matchMedia("(min-width: 1024px)").matches;function Ur(e,t){if(!u||!e||!t)return;let s=[...u.blocks||[]],r=s.findIndex(m=>m.id===e);if(r<0)return;let i=r+t;if(i<0||i>=s.length)return;let[c]=s.splice(r,1);s.splice(i,0,c),xs(s),qt(u.id,{preserveBlock:!0}),zt(c.id)}function Aa(e,t){if(!u||!e||!t||e===t)return;let s=[...u.blocks||[]],r=s.findIndex(m=>m.id===e),i=s.findIndex(m=>m.id===t);if(r<0||i<0)return;let[c]=s.splice(r,1);s.splice(i,0,c),xs(s),qt(u.id,{preserveBlock:!0}),zt(c.id)}function oa(e,t,s){if(!u||!e||!t||e===t)return;let r=[...u.blocks||[]],i=r.findIndex(_=>_.id===e),c=r.findIndex(_=>_.id===t);if(i<0||c<0)return;let[m]=r.splice(i,1);i<c&&c--;let F=s==="before"?c:c+1;r.splice(F,0,m),xs(r),qt(u.id,{preserveBlock:!0}),zt(m.id)}function Rr(){if(!E)return;let e=yo();E.querySelectorAll("[data-block-item]").forEach(t=>{t.setAttribute("draggable",e?"true":"false")})}function Us(){ne&&(ne.classList.add("hidden"),Rs=!1)}function ra(){ne&&(ne.classList.remove("hidden"),Rs=!0)}function na(){Rs?Us():ra()}function aa(e){var c;if(!u||!e)return;let t=zn[e];if(!t)return;let s=(u.blocks||[]).filter(m=>m.type===t.type).length+1,r=Zo(Ko(u.id,e),`${t.label} ${s}`,t.type,t.status,t.description,t.props,t.settings||{});if((t.type||"").toLowerCase()==="collectiongrid"){let m=((c=Mt[0])==null?void 0:c.id)||"";r.collectionId=m,r.settings.collectionId=m,r.settings.limit=r.settings.limit||6}if(Hs){let m=u.blocks.find(F=>F.id===Hs);if(m){m.children||(m.children=[]),m.children.push(r),Hs=null,Lt(u),savePageBlocks(),zt(r.id,m.id),Us(),j("Bloc ajout\xE9 au groupe");return}Hs=null}let i=[...u.blocks||[],r];xs(i),qt(u.id,{preserveBlock:!0}),zt(r.id),Us(),j("Bloc ajout\xE9")}function zr(e){var r,i;if(!u)return;let t=(u.blocks||[]).filter(c=>c.id!==e),s=e===_e?((r=t[0])==null?void 0:r.id)||null:_e||((i=t[0])==null?void 0:i.id)||null;xs(t),_e=s,qt(u.id,{preserveBlock:!0}),_e?zt(_e):(mo(null),Ds(null)),j("Bloc supprim\xE9")}function bo(){ce&&(ce.classList.add("hidden"),ce.classList.remove("flex"),xo=null,Cs(ce))}function ia(e){if(!ce){zr(e);return}xo=e,ce.classList.remove("hidden"),ce.classList.add("flex"),ks(ce,bo)}let la=e=>{if(!e)return;let t=rs(e);ie=ie.map(s=>s.id===t.id?t:s),u=t,ts(t)},qt=(e,t={})=>{var i,c;let s=ie.find(m=>m.id===e)||ie[0]||null;u=s?rs(s):null,Ne=(s==null?void 0:s.id)||null,(!t.preserveBlock||!u||!u.blocks.some(m=>m.id===_e))&&(_e=((c=(i=u==null?void 0:u.blocks)==null?void 0:i[0])==null?void 0:c.id)||null),Ne&&Vn(Ne),Gt(ie,Ne),$r(u),nr(),Wn(u),ae(u),Lt(u),mo(vs()),Ds(_e),Rr(),Rs&&Us()},Yo=()=>window.matchMedia("(min-width: 1024px)").matches,Vr=()=>{Ee&&(Yo()?(Ee.classList.add("is-open"),we==null||we.classList.add("hidden"),document.body.classList.remove("overflow-hidden")):Ee.classList.remove("is-open"))},ca=()=>{!Ee||Yo()||(Ee.classList.add("is-open"),we==null||we.classList.remove("hidden"),document.body.classList.add("overflow-hidden"))},Qo=()=>{Ee&&(Ee.classList.remove("is-open"),we==null||we.classList.add("hidden"),document.body.classList.remove("overflow-hidden"))},da=()=>{!be||!$e||(be.classList.remove("hidden"),$e.classList.add("hidden"),Ge&&(Ge.textContent=""),vo=!1,Oe&&(Oe.value="",Oe.focus()),Et&&(Et.value=""),st&&(st.value=""))},Or=()=>{!be||!$e||(be.classList.add("hidden"),$e.classList.remove("hidden"),Ge&&(Ge.textContent=""),vo=!1,be.reset())},ua=()=>{!Oe||!st||vo&&st.value.trim().length>0||(st.value=Ir(Oe.value))},ie=[],Ne=null,vo=!1,u=null,_e=null,Rs=!1,xo=null,Xo="",er=!1,zs=null,Mt=[],ma=e=>{let t={...e,props:Array.isArray(e.props)?e.props:[],settings:{...e.settings||{}}};return(t.type||"").toLowerCase()==="collectiongrid"&&(t.collectionId=t.collectionId||t.settings.collectionId||"",t.settings.collectionId=t.collectionId,t.settings.limit=t.settings.limit||6),t},rs=e=>{var t,s,r,i,c;return{...e,blocks:(e.blocks||[]).map(m=>ma(m)),seo:{title:(((t=e.seo)==null?void 0:t.title)||"").trim(),description:(((s=e.seo)==null?void 0:s.description)||"").trim(),indexed:typeof((r=e.seo)==null?void 0:r.indexed)=="boolean"?e.seo.indexed:null},accessibility:{showInMainNav:((i=e.accessibility)==null?void 0:i.showInMainNav)!==!1,mainLabel:(((c=e.accessibility)==null?void 0:c.mainLabel)||"").trim()}}},fa=async()=>{if(!Ar){Mt=[],wo();return}try{let e=await fetch(Ar,{headers:{Accept:"application/json"}});if(!e.ok)throw new Error("Impossible de charger les collections.");let t=await e.json().catch(()=>[]);Mt=Array.isArray(t)?t:[];let s=(Ie==null?void 0:Ie.value)||"";wo(s)}catch(e){console.error("[design] collections load",e),j("Collections indisponibles."),Mt=[],wo()}},tr=e=>{if(!es)return;if(!e){es.textContent=Mt.length?"S\xE9lectionnez une collection pour afficher ses informations.":"Aucune collection disponible. Ajoutez-en depuis l\u2019onglet Contenus.";return}let t=Mt.find(r=>r.id===e);if(!t){es.textContent=`Collection ${e}`;return}let s=[];t.description&&s.push(t.description),t.type&&s.push(`Type\xA0: ${t.type}`),es.textContent=s.join(" \xB7 ")||`Collection ${t.name||t.id}`},wo=(e="")=>{if(Ie){if(Ie.innerHTML="",!Mt.length){Ie.disabled=!0;let t=document.createElement("option");t.value="",t.textContent="Aucune collection disponible",Ie.appendChild(t),tr("");return}if(Ie.disabled=!1,e&&!Mt.some(t=>t.id===e)){let t=document.createElement("option");t.value=e,t.textContent=e,Ie.appendChild(t)}Mt.forEach(t=>{let s=document.createElement("option");s.value=t.id;let r=t.name||t.id;s.textContent=t.type?`${r} \xB7 ${t.type}`:r,s.dataset.description=t.description||"",Ie.appendChild(s)}),e&&(Ie.value=e),tr(Ie.value||"")}};fa(),Vr(),et.forEach(e=>{e.addEventListener("click",ca)}),tt.forEach(e=>{e.addEventListener("click",Qo)}),we==null||we.addEventListener("click",Qo),window.addEventListener("resize",()=>{Vr(),Rr()}),$e==null||$e.addEventListener("click",da),fs==null||fs.addEventListener("click",Or),Oe==null||Oe.addEventListener("input",ua),st==null||st.addEventListener("input",()=>{Ge&&(Ge.textContent=""),vo=!0}),be==null||be.addEventListener("submit",async e=>{if(e.preventDefault(),!St){Ge&&(Ge.textContent="Aucun site s\xE9lectionn\xE9.");return}if(!Oe||!st)return;let t=Oe.value.trim(),s=(Et==null?void 0:Et.value.trim())||t,r=Ir(st.value.trim()||t);if(!t||!r){Ge&&(Ge.textContent="Nom et slug sont requis.");return}Ge&&(Ge.textContent=""),Ht&&(Ht.disabled=!0,Ht.textContent="Cr\xE9ation...");try{let i=await zo({name:t,title:s,slug:r});if(!i||!i.id)throw new Error("R\xE9ponse invalide.");ie=[...ie,rs(i)],Or(),j("Page cr\xE9\xE9e"),qt(i.id)}catch(i){console.error("[design] create page failed",i),Ge&&(Ge.textContent=i.message||"Impossible de cr\xE9er la page.")}finally{Ht&&(Ht.disabled=!1,Ht.textContent="Cr\xE9er")}});let sr=()=>{ht&&(ht.value=""),jt&&(jt.classList.add("hidden"),jt.textContent="")},Jr=()=>{if(!ht)return null;let e=ht.value.trim();if(!e)return jt&&jt.classList.add("hidden"),null;try{let t=JSON.parse(e);return jt&&jt.classList.add("hidden"),t}catch(t){return jt&&(jt.classList.remove("hidden"),jt.textContent=`\u274C JSON invalide : ${t.message}`),null}},pa=()=>{if(!ht)return;let e=ht.value.trim();if(e)try{let t=JSON.parse(e);ht.value=JSON.stringify(t,null,2),Jr()}catch{}},Vs=()=>{if(rt)if(os==="upload")rt.disabled=Ut.length===0;else if(os==="paste"){let e=Jr();rt.disabled=!e}else rt.disabled=!0},ga=()=>{lt&&(lt.classList.remove("hidden"),lt.classList.add("flex"),Ut=[],os="upload",rr(),sr(),Ze&&Ze.classList.add("hidden"),Ke&&(Ke.innerHTML=""),Vs(),ys.forEach(e=>{e.dataset.importTab==="upload"?(e.classList.add("bg-[#9C6BFF]","text-white"),e.classList.remove("border","border-slate-200","text-slate-700")):(e.classList.remove("bg-[#9C6BFF]","text-white"),e.classList.add("border","border-slate-200","text-slate-700"))}),Fs.forEach(e=>{e.dataset.importPanel==="upload"?e.classList.remove("hidden"):e.classList.add("hidden")}),ks(lt,or))},or=()=>{lt&&(lt.classList.add("hidden"),lt.classList.remove("flex"),Ut=[],sr(),Cs(lt))},rr=()=>{if(!(!hs||!Ms)){if(Ut.length===0){hs.classList.add("hidden"),Vs();return}hs.classList.remove("hidden"),Ms.innerHTML=Ut.map(e=>`<li class="flex items-center gap-2"><span class="text-lg">\u{1F4C4}</span>${e.name}</li>`).join(""),Vs()}},Wr=e=>{let t=Array.from(e).filter(s=>s.type==="application/json"||s.name.endsWith(".json"));if(t.length===0){j("Aucun fichier JSON valide.");return}Ut=t,rr()},ha=async()=>{var s,r,i,c,m,F,_,Se,de,De,je;if(!St)return;let e=[];if(console.log("[import] activeImportTab:",os),os==="paste"){let le=(s=ht==null?void 0:ht.value)==null?void 0:s.trim();if(console.log("[import] paste text length:",le==null?void 0:le.length),!le){j("Aucun JSON \xE0 importer."),Ze&&Ke&&(Ze.classList.remove("hidden"),Ke.innerHTML='<p class="text-amber-600">\u26A0 Le champ de texte est vide.</p>');return}try{let N=JSON.parse(le);console.log("[import] parsed JSON:",N),console.log("[import] parsed type:",typeof N,Array.isArray(N)?"array":"not array"),N&&!Array.isArray(N)&&N.pages?(console.log("[import] detected pages+collections format"),e=N):Array.isArray(N)?e.push(...N):e.push(N),console.log("[import] pagesData prepared:",e)}catch(N){let nt=N.message.match(/position (\d+)/),Ae=N.message;if(nt){let he=parseInt(nt[1],10),ct=le.substring(0,he).split(`
`),yt=ct.length,ze=ct[ct.length-1].length+1;Ae=`Ligne ${yt}, colonne ${ze}: ${N.message}`}j(`Erreur JSON : ${Ae}`,"error"),console.error("[import] paste parse error",N),Ze&&Ke&&(Ze.classList.remove("hidden"),Ke.innerHTML=`
              <div class="text-rose-600">
                <p class="font-medium">\u2717 Erreur de syntaxe JSON</p>
                <p class="text-xs mt-1">${Ae}</p>
                <p class="text-xs mt-2 text-slate-500">V\xE9rifiez les virgules, guillemets et accolades.</p>
              </div>
            `);return}}else if(os==="upload"){if(Ut.length===0)return;let le=[];for(let N of Ut){let nt=await N.text();try{let Ae=JSON.parse(nt);Array.isArray(Ae)?e.push(...Ae):e.push(Ae)}catch(Ae){let he=Ae.message.match(/position (\d+)/),ct=Ae.message;if(he){let yt=parseInt(he[1],10);ct=`Ligne ${nt.substring(0,yt).split(`
`).length}: ${Ae.message}`}le.push({file:N.name,error:ct}),console.error("[import] parse error",N.name,Ae)}}if(le.length>0){if(Ze&&Ke){Ze.classList.remove("hidden");let N='<div class="text-rose-600"><p class="font-medium">\u2717 Erreurs de syntaxe JSON</p><ul class="ml-4 text-xs mt-1">';le.forEach(nt=>{N+=`<li><strong>${nt.file}</strong>: ${nt.error}</li>`}),N+="</ul></div>",e.length>0&&(N+=`<p class="text-amber-600 mt-2 text-sm">\u26A0 ${e.length} page(s) valide(s) seront import\xE9e(s)</p>`),Ke.innerHTML=N}if(e.length===0){j("Tous les fichiers contiennent des erreurs JSON","error");return}}}else return;let t=Array.isArray(e)?e.length>0:e&&(((r=e.pages)==null?void 0:r.length)>0||e.title);if(console.log("[import] hasData check:",t,"pagesData:",e),!t){j("Aucune page valide \xE0 importer."),Ze&&Ke&&(Ze.classList.remove("hidden"),Ke.innerHTML=`
            <div class="text-amber-600">
              <p class="font-medium">\u26A0 Aucune page d\xE9tect\xE9e</p>
              <p class="text-xs mt-1">Le JSON doit contenir :</p>
              <ul class="text-xs ml-4 mt-1 list-disc">
                <li>Un objet page avec "title" : <code>{"title": "Ma page", ...}</code></li>
                <li>Un tableau de pages : <code>[{"title": "Page 1"}, {"title": "Page 2"}]</code></li>
                <li>Ou un objet combin\xE9 : <code>{"pages": [...], "collections": {...}}</code></li>
              </ul>
            </div>
          `);return}rt&&(rt.disabled=!0,rt.textContent="Import..."),console.log("[import] Sending to server:",JSON.stringify(e).substring(0,500));try{let le=await fetch(`${St}/import`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)});console.log("[import] Server response status:",le.status);let N=await le.json();if(console.log("[import] Server response body:",N),!le.ok)throw Ze&&Ke&&(Ze.classList.remove("hidden"),Ke.innerHTML=`
              <div class="text-rose-600">
                <p class="font-medium">\u2717 Erreur serveur</p>
                <p class="text-xs mt-1">${N.message||"Erreur inconnue"}</p>
                ${N.details?`<p class="text-xs mt-1 text-slate-500">${N.details}</p>`:""}
              </div>
            `),new Error(N.message||"Erreur serveur");if(Ze&&Ke){Ze.classList.remove("hidden");let he="",ct=((i=N.imported)==null?void 0:i.length)>0||((c=N.collectionsCreated)==null?void 0:c.length)>0,yt=((m=N.errors)==null?void 0:m.length)>0;ct&&!yt?he+='<div class="bg-green-50 border border-green-200 rounded-lg p-3 mb-2"><p class="text-green-800 font-medium">\u2713 Import r\xE9ussi</p></div>':ct&&yt?he+='<div class="bg-amber-50 border border-amber-200 rounded-lg p-3 mb-2"><p class="text-amber-800 font-medium">\u26A0 Import partiel</p></div>':yt&&(he+='<div class="bg-rose-50 border border-rose-200 rounded-lg p-3 mb-2"><p class="text-rose-800 font-medium">\u2717 Import \xE9chou\xE9</p></div>'),N.collectionsCreated&&N.collectionsCreated.length>0&&(he+=`<p class="text-violet-700 mt-2">\u2713 ${N.collectionsCreated.length} collection(s) cr\xE9\xE9e(s)</p>`,he+='<ul class="ml-4 text-xs text-slate-600">',N.collectionsCreated.forEach(ze=>{he+=`<li>${ze.name} (${ze.itemsCount} item${ze.itemsCount>1?"s":""})</li>`}),he+="</ul>"),N.imported&&N.imported.length>0&&(he+=`<p class="text-green-700 mt-2">\u2713 ${N.imported.length} page(s) import\xE9e(s)</p>`,he+='<ul class="ml-4 text-xs text-slate-600">',N.imported.forEach(ze=>{he+=`<li><strong>${ze.title}</strong> \u2192 ${ze.slug} (${ze.action==="updated"?"mise \xE0 jour":"cr\xE9\xE9e"})</li>`}),he+="</ul>"),N.errors&&N.errors.length>0&&(he+=`<p class="text-rose-600 mt-3 font-medium">\u2717 ${N.errors.length} erreur(s)</p>`,he+='<ul class="ml-4 text-xs text-rose-600 space-y-1 mt-1">',N.errors.forEach(ze=>{he+=`<li class="bg-rose-50 p-2 rounded"><strong>${ze.title}</strong><br/><span class="text-rose-500">${ze.error}</span></li>`}),he+="</ul>"),Ke.innerHTML=he}let nt=((F=N.imported)==null?void 0:F.length)>0||((_=N.collectionsCreated)==null?void 0:_.length)>0,Ae=((Se=N.errors)==null?void 0:Se.length)>0;if(N.imported&&N.imported.length>0&&(ie=await ms(),Gt(ie,Ne),ie.length>0&&!Ne&&qt(ie[0].id)),nt&&!Ae){let he=(de=N.collectionsCreated)!=null&&de.length?` + ${N.collectionsCreated.length} collection(s)`:"";j(`\u2713 Import r\xE9ussi : ${((De=N.imported)==null?void 0:De.length)||0} page(s)${he}`,"success")}else nt&&Ae?j(`\u26A0 Import partiel : ${((je=N.imported)==null?void 0:je.length)||0} page(s), ${N.errors.length} erreur(s)`,"warning"):Ae&&j(`\u2717 Import \xE9chou\xE9 : ${N.errors.length} erreur(s)`,"error");Ut=[],rr(),sr()}catch(le){console.error("[import] failed",le),j(le.message||"Erreur import","error")}finally{rt&&(rt.disabled=!1,rt.textContent="Importer")}};ps==null||ps.addEventListener("click",ga),co.forEach(e=>e.addEventListener("click",or)),lt==null||lt.addEventListener("click",e=>{e.target===lt&&or()}),gs==null||gs.addEventListener("change",e=>{Wr(e.target.files)}),ot==null||ot.addEventListener("dragover",e=>{e.preventDefault(),ot.classList.add("border-[#9C6BFF]","bg-[#9C6BFF]/10")}),ot==null||ot.addEventListener("dragleave",e=>{e.preventDefault(),ot.classList.remove("border-[#9C6BFF]","bg-[#9C6BFF]/10")}),ot==null||ot.addEventListener("drop",e=>{e.preventDefault(),ot.classList.remove("border-[#9C6BFF]","bg-[#9C6BFF]/10"),Wr(e.dataTransfer.files)}),rt==null||rt.addEventListener("click",ha),ht==null||ht.addEventListener("input",()=>{Vs()}),Wo==null||Wo.addEventListener("click",pa),ys.forEach(e=>{e.addEventListener("click",()=>{let t=e.dataset.importTab;os=t,ys.forEach(s=>{s.dataset.importTab===t?(s.classList.add("bg-[#9C6BFF]","text-white"),s.classList.remove("border","border-slate-200","text-slate-700")):(s.classList.remove("bg-[#9C6BFF]","text-white"),s.classList.add("border","border-slate-200","text-slate-700"))}),Fs.forEach(s=>{s.dataset.importPanel===t?s.classList.remove("hidden"):s.classList.add("hidden")}),Vs()})}),Jo==null||Jo.addEventListener("click",async()=>{if(!Cr)return;let e=Cr.textContent||"";try{await navigator.clipboard.writeText(e),j("Template copi\xE9 !")}catch(t){console.error("[import] copy failed",t),j("Erreur copie")}}),bs==null||bs.addEventListener("click",async()=>{if(!Er)return;let e=Er.textContent||"";try{await navigator.clipboard.writeText(e),j("Prompt copi\xE9 !")}catch(t){console.error("[import] copy prompt failed",t),j("Erreur copie")}}),Go==null||Go.addEventListener("click",ho),Rt==null||Rt.addEventListener("click",sa),wt==null||wt.addEventListener("click",e=>{e.target===wt&&ho()}),ge==null||ge.addEventListener("click",e=>{e.stopPropagation(),na()}),document.addEventListener("click",e=>{Rs&&(ne!=null&&ne.contains(e.target)||ge!=null&&ge.contains(e.target)||Us())}),xe.forEach(e=>{e.addEventListener("click",t=>{t.stopPropagation();let s=e.dataset.blockAdd;aa(s)})}),Fe==null||Fe.addEventListener("click",()=>{bo()}),He==null||He.addEventListener("click",()=>{xo&&zr(xo),bo()}),ce==null||ce.addEventListener("click",e=>{e.target===ce&&bo()}),g==null||g.addEventListener("input",e=>{var r,i,c,m;let t=e.target;if(!t||!t.name)return;if(t.name==="group-columns-mobile"||t.name==="group-columns-desktop"){let F=((r=g.querySelector('[name="group-columns-mobile"]'))==null?void 0:r.value)||"1",_=((i=g.querySelector('[name="group-columns-desktop"]'))==null?void 0:i.value)||"3";js(F,_)}if(t.name==="collection-columns-mobile"||t.name==="collection-columns-desktop"){let F=((c=g.querySelector('[name="collection-columns-mobile"]'))==null?void 0:c.value)||"1",_=((m=g.querySelector('[name="collection-columns-desktop"]'))==null?void 0:m.value)||"3";ao(F,_)}let s=t.closest("[data-block-panel]");if(s&&s.dataset.blockPanel==="appearance"){let F=vs(),_=Pt(F);if(F&&_){let Se=ss(_);ue(F.id,Se)}}}),g==null||g.addEventListener("change",e=>{var r,i;let t=e.target;if(!t||!t.name)return;if(t.hasAttribute("data-color-select")){let c=t.options[t.selectedIndex],m=((r=c==null?void 0:c.dataset)==null?void 0:r.color)||"#ffffff",F=(i=t.closest(".relative"))==null?void 0:i.querySelector("[data-color-preview]");F&&(m==="transparent"?F.style.background=Qt:F.style.background=m)}let s=t.closest("[data-block-panel]");if(s&&s.dataset.blockPanel==="appearance"){let c=vs(),m=Pt(c);if(c&&m){let F=ss(m);ue(c.id,F)}}}),Ie==null||Ie.addEventListener("change",e=>{let t=e.target;tr((t==null?void 0:t.value)||"")}),g==null||g.addEventListener("submit",me),Wt==null||Wt.addEventListener("click",e=>{e.preventDefault();let t=vs();t&&io(t)}),U.length>0&&(U.forEach(e=>{e.addEventListener("click",()=>{let t=e.dataset.previewView||"desktop";Pr(t)})}),Pr("desktop")),p==null||p.addEventListener("load",()=>{er=!0,Ct("\xC0 jour"),Ds(_e)}),ee==null||ee.addEventListener("click",()=>{let e=window.open("","_blank");if(!e)return;e.opener=null;let t=e.document;t.open(),t.write(Xo||a()),t.close()});let Gr=e=>{var t,s,r;B&&(e?(B.classList.remove("hidden"),u&&(R&&(R.value=((t=u.seo)==null?void 0:t.title)||""),L&&(L.value=((s=u.seo)==null?void 0:s.description)||""),S&&(S.checked=((r=u.seo)==null?void 0:r.indexed)!==!1))):B.classList.add("hidden"))},So=(e,t="muted")=>{if(!v)return;let s=t==="success"?"text-emerald-600":t==="error"?"text-rose-600":"text-slate-500";v.textContent=e||"",v.className=`text-sm ${s}`};T==null||T.addEventListener("click",()=>{let e=B&&!B.classList.contains("hidden");Gr(!e)}),M==null||M.addEventListener("click",()=>Gr(!1)),P==null||P.addEventListener("submit",async e=>{var t;if(e.preventDefault(),!u){So("Aucune page active.","error");return}A&&(A.disabled=!0),So("");try{let s={title:((R==null?void 0:R.value)||"").trim(),description:((L==null?void 0:L.value)||"").trim(),indexed:(t=S==null?void 0:S.checked)!=null?t:!0},r={...u,seo:s},i=await ts(r);i&&(u=i,So("SEO enregistr\xE9.","success"),j("SEO mis \xE0 jour"),ae(u))}catch(s){console.error("[seo] save failed",s),So(s.message||"Erreur lors de la sauvegarde.","error")}finally{A&&(A.disabled=!1)}});let nr=()=>{var e,t;if(!(!Z&&!ye)){if(!u){Z&&(Z.checked=!0),ye&&(ye.value="");return}Z&&(Z.checked=((e=u.accessibility)==null?void 0:e.showInMainNav)!==!1),ye&&(ye.value=((t=u.accessibility)==null?void 0:t.mainLabel)||"")}},Zr=e=>{H&&(e?(nr(),H.classList.remove("hidden")):H.classList.add("hidden"))},Lo=(e,t="muted")=>{if(!Ce)return;let s=t==="success"?"text-emerald-600":t==="error"?"text-rose-600":"text-slate-500";Ce.textContent=e||"",Ce.className=`text-sm ${s}`};q==null||q.addEventListener("click",()=>{let e=H&&!H.classList.contains("hidden");Zr(!e)}),W==null||W.addEventListener("click",()=>Zr(!1)),Y==null||Y.addEventListener("submit",async e=>{var t;if(e.preventDefault(),!u){Lo("Aucune page active.","error");return}Je&&(Je.disabled=!0),Lo("");try{let s={showInMainNav:(t=Z==null?void 0:Z.checked)!=null?t:!0,mainLabel:((ye==null?void 0:ye.value)||"").trim()},r={...u,accessibility:s},i=await ts(r);i&&(u=i,nr(),Lo("Accessibilit\xE9 enregistr\xE9e.","success"),j("Accessibilit\xE9 mise \xE0 jour"),Gt(ie,Ne),ae(u))}catch(s){console.error("[accessibility] save failed",s),Lo(s.message||"Erreur lors de la sauvegarde.","error")}finally{Je&&(Je.disabled=!1)}});let Kr=e=>{K&&(e?(K.classList.remove("hidden"),u&&(I&&(I.value=u.name||""),k&&(k.value=u.title||""),z&&(z.value=u.slug||""),pe&&(pe.value=u.description||""))):K.classList.add("hidden"))},ws=(e,t="muted")=>{if(!C)return;let s=t==="success"?"text-emerald-600":t==="error"?"text-rose-600":"text-slate-500";C.textContent=e||"",C.className=`text-sm ${s}`};ve==null||ve.addEventListener("click",()=>{let e=K&&!K.classList.contains("hidden");Kr(!e)}),Be==null||Be.addEventListener("click",()=>Kr(!1)),Ve==null||Ve.addEventListener("submit",async e=>{if(e.preventDefault(),!u){ws("Aucune page active.","error");return}x&&(x.disabled=!0),ws("");try{let t=((I==null?void 0:I.value)||"").trim(),s=((k==null?void 0:k.value)||"").trim(),r=((z==null?void 0:z.value)||"").trim(),i=((pe==null?void 0:pe.value)||"").trim();if(!s){ws("Le titre est requis.","error"),x&&(x.disabled=!1);return}if(!r||!r.startsWith("/")){ws("Le slug doit commencer par /.","error"),x&&(x.disabled=!1);return}let c={...u,name:t||s,title:s,slug:r,description:i},m=await ts(c);m&&(u=m,ie=ie.map(F=>F.id===m.id?m:F),ws("Propri\xE9t\xE9s enregistr\xE9es.","success"),j("Page mise \xE0 jour"),$r(u),Gt(ie,Ne),ae(u))}catch(t){console.error("[page-props] save failed",t),ws(t.message||"Erreur lors de la sauvegarde.","error")}finally{x&&(x.disabled=!1)}});let ya=e=>{let t=e.target.closest("[data-block-item]");if(!t||!yo()){e.preventDefault();return}if(Ft=t.dataset.blockId||null,Os=t.dataset.parentBlockId||null,!Ft){e.preventDefault();return}e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/plain",Ft),e.dataTransfer.setData("application/x-rawdit-parent",Os||""),requestAnimationFrame(()=>{t.classList.add("opacity-50","scale-[0.98]","shadow-lg","ring-2","ring-[#9C6BFF]")})},_r=()=>{E==null||E.querySelectorAll("[data-block-item]").forEach(e=>{e.classList.remove("opacity-50","scale-[0.98]","shadow-lg","ring-2","ring-[#9C6BFF]","border-t-4","border-b-4","border-t-[#9C6BFF]","border-b-[#9C6BFF]","pt-6","pb-6")})},ba=()=>{Ft=null,Os=null,_r()},va=e=>{if(!Ft||!yo())return;let t=e.target.closest("[data-block-item]");if(!t||t.dataset.blockId===Ft)return;e.preventDefault(),e.dataTransfer.dropEffect="move";let s=t.getBoundingClientRect(),r=s.top+s.height/2,i=e.clientY<r;E==null||E.querySelectorAll("[data-block-item]").forEach(c=>{c!==t&&c.dataset.blockId!==Ft&&c.classList.remove("border-t-4","border-b-4","border-t-[#9C6BFF]","border-b-[#9C6BFF]","pt-6","pb-6")}),t.classList.remove("border-t-4","border-b-4","border-t-[#9C6BFF]","border-b-[#9C6BFF]","pt-6","pb-6"),i?t.classList.add("border-t-4","border-t-[#9C6BFF]","pt-6"):t.classList.add("border-b-4","border-b-[#9C6BFF]","pb-6"),t.dataset.dropPosition=i?"before":"after"},xa=e=>{let t=e.target.closest("[data-block-item]");if(!t)return;let s=e.relatedTarget;s&&t.contains(s)||(t.classList.remove("border-t-4","border-b-4","border-t-[#9C6BFF]","border-b-[#9C6BFF]","pt-6","pb-6"),delete t.dataset.dropPosition)},wa=e=>{if(!Ft||!yo())return;e.preventDefault();let t=e.target.closest("[data-block-item]"),s=Ft,r=Os,i=(t==null?void 0:t.dataset.dropPosition)||"after";Ft=null,Os=null,_r();let c=(t==null?void 0:t.dataset.blockId)||null;if(!u||!s)return;if(!c){r&&_o(r,s,u.blocks.length);return}if(s===c)return;let m=(t==null?void 0:t.dataset.parentBlockId)||null;if(r){if(m){if(m===r){Xn(r,s,c,i);return}Nr(s,m,c,i);return}let F=u.blocks.findIndex(Se=>Se.id===c);if(F===-1){_o(r,s,u.blocks.length);return}let _=Fr(F,i,1);_o(r,s,_!=null?_:u.blocks.length);return}if(m){Nr(s,m,c,i);return}oa(s,c,i)},Ft=null,Os=null;E==null||E.addEventListener("dragstart",ya),E==null||E.addEventListener("dragend",ba),E==null||E.addEventListener("dragover",va),E==null||E.addEventListener("dragleave",xa),E==null||E.addEventListener("drop",wa),Vo(),document.addEventListener("ai-page-updated",async e=>{var t;console.log("[design] Rafra\xEEchissement d\xE9clench\xE9 par IA",e.detail);try{let s=await ms();if(ie=(Array.isArray(s)?s:[]).map(r=>rs(r)),(t=e.detail)!=null&&t.pageId){let r=ie.find(i=>i.id===e.detail.pageId);r&&(u=r,Ne=r.id,ae(u),Lt(u),j("Page mise \xE0 jour par l'IA"))}else if(Ne){let r=ie.find(i=>i.id===Ne);r&&(u=r,ae(u),Lt(u))}}catch(s){console.error("[design] Erreur rafra\xEEchissement IA:",s)}})}function Sn(){var ss,Ct,lo;let o=document.querySelector("[data-collection-list]");if(!o)return;let n={empty:document.querySelector('[data-content-view="empty"]'),header:document.querySelector('[data-content-view="header"]'),collection:document.querySelector('[data-content-view="collection"]'),footer:document.querySelector('[data-content-view="footer"]')},l=document.querySelectorAll("[data-content-section]"),f=document.querySelectorAll("[data-content-section-trigger]"),p=document.querySelector("[data-header-status]"),y=document.querySelector("[data-footer-status]"),V=document.querySelector("[data-collection-count]"),U=document.querySelector("[data-item-panel]"),O=document.querySelectorAll("[data-item-panel-close]"),ee=document.querySelector("[data-collection-empty]"),G=document.querySelector("[data-collection-items-empty]"),w=document.querySelector("[data-item-table-wrapper]"),T=document.querySelector("[data-item-table-body]"),B=document.querySelector("[data-collection-title]"),M=document.querySelector("[data-collection-description]"),P=document.querySelector("[data-item-add]"),R=document.querySelector("[data-item-detail-empty]"),L=document.querySelector("[data-item-form]"),S=L?{title:L.querySelector('[name="item-title"]'),slug:L.querySelector('[name="item-slug"]'),excerpt:L.querySelector('[name="item-excerpt"]'),content:L.querySelector('[name="item-content"]'),image:L.querySelector('[name="item-image"]'),ctaText:L.querySelector('[name="item-cta-text"]'),ctaUrl:L.querySelector('[name="item-cta-url"]'),status:L.querySelector('[name="item-status"]')}:{},v=document.querySelector("[data-item-status-badge]"),A=document.querySelector("[data-item-delete]"),q=document.querySelector("[data-item-delete-modal]"),H=document.querySelector("[data-item-delete-cancel]"),W=document.querySelector("[data-item-delete-confirm]"),Y=document.querySelector("[data-item-cancel]"),Z=document.querySelector("[data-item-save]"),ye="rounded-full px-3 py-1 text-xs font-semibold",Ce=()=>window.matchMedia("(min-width: 1024px)").matches,Je=a=>{if(!U||Ce())return;let d=U.dataset.itemPanelHidden||"",b=U.dataset.itemPanelVisible||"";a?(Nt(U,b,"remove"),Nt(U,d,"add"),U.classList.add("pointer-events-none"),U.dataset.itemPanelOpen="false"):(Nt(U,d,"remove"),Nt(U,b,"add"),U.classList.remove("pointer-events-none"),U.dataset.itemPanelOpen="true")},ve=()=>{if(U){if(Ce()){let a=U.dataset.itemPanelHidden||"";Nt(U,a,"remove"),U.classList.remove("pointer-events-none"),U.dataset.itemPanelOpen="true";return}L!=null&&L.classList.contains("hidden")?Je(!0):Je(!1)}};window.addEventListener("resize",ve),O.forEach(a=>{a.addEventListener("click",d=>{d.preventDefault(),!Ce()&&Ie()})}),ve();let K={logo:document.querySelector('[name="header-logo"]'),logoAlt:document.querySelector('[name="header-logo-alt"]'),logoUrl:document.querySelector('[name="header-logo-url"]'),ctaText:document.querySelector('[name="header-cta-text"]'),ctaUrl:document.querySelector('[name="header-cta-url"]'),ctaStyle:document.querySelector('[name="header-cta-style"]'),position:document.querySelector('[name="header-position"]'),bg:document.querySelector('[name="header-bg"]')},Be=document.querySelector("[data-header-nav-list]"),Ve=document.querySelector("[data-header-nav-add]"),I=document.querySelector("[data-header-save]"),k=document.querySelector("[data-template-header-nav-item]"),z=document.querySelector("[data-header-pages-list]"),pe=[],C=[],x={linkedin:document.querySelector('[name="footer-social-linkedin"]'),twitter:document.querySelector('[name="footer-social-twitter"]'),instagram:document.querySelector('[name="footer-social-instagram"]'),facebook:document.querySelector('[name="footer-social-facebook"]'),youtube:document.querySelector('[name="footer-social-youtube"]'),github:document.querySelector('[name="footer-social-github"]'),copyright:document.querySelector('[name="footer-copyright"]'),legalUrl:document.querySelector('[name="footer-legal-url"]'),privacyUrl:document.querySelector('[name="footer-privacy-url"]'),bg:document.querySelector('[name="footer-bg"]'),columnsCount:document.querySelector('[name="footer-columns-count"]')},E=document.querySelector("[data-footer-columns-list]"),oe=document.querySelector("[data-footer-column-add]"),Q=document.querySelector("[data-footer-save]"),ge=document.querySelector("[data-template-footer-column]"),ne=document.querySelector("[data-template-footer-link]"),xe=null,ce={nav:[],logo:{},cta:{},style:{}},He={columns:[],socials:{},copyright:"",legal:{},style:{}},Fe=Te((J==null?void 0:J.slugValue)||te.slug||""),ke=Fe,qe=Fe?`/api/sites/${encodeURIComponent(Fe)}/layout`:null,Pe=a=>{Object.entries(n).forEach(([d,b])=>{b&&b.classList.toggle("hidden",d!==a)}),l.forEach(d=>{d.dataset.contentSection===a?d.dataset.active="true":delete d.dataset.active}),xe=a};l.forEach(a=>{a.addEventListener("click",()=>{let d=a.dataset.contentSection;(d==="header"||d==="footer")&&Pe(d)})}),f.forEach(a=>{a.addEventListener("click",()=>{let d=a.dataset.contentSectionTrigger;d&&Pe(d)})});let Dt=async()=>{if(!(!ke||!z))try{let a=await fetch(`/api/sites/${ke}/pages`,{credentials:"include"});if(!a.ok)throw new Error("Erreur chargement pages");pe=await a.json(),g()}catch(a){console.error("[header] load pages error",a),z.innerHTML='<p class="text-xs text-red-500">Erreur chargement pages</p>'}},h=a=>{let d=(a||"").toString().trim();if(!d||d==="/"||d==="index")return"/";let b=d.toLowerCase();if(d.startsWith("#")||b.startsWith("mailto:")||b.startsWith("tel:")||/^[a-z]+:\/\//i.test(d))return d;if(d.startsWith("//")){let X=d.slice(2);if(X.includes("."))return d;let ue=X.replace(/^\/+/,"").replace(/\/+$/,"");return ue?`/${ue}`:"/"}let D=d.replace(/^\/+/,"").replace(/\/+$/,"");return D?`/${D}`:"/"},$=(a,d="")=>{let b=(a||"").toString().trim();return b?h(b):d},g=()=>{if(z){if(z.innerHTML="",pe.length===0){z.innerHTML='<p class="text-xs text-slate-400 italic">Aucune page disponible</p>';return}pe.forEach(a=>{let d=a.slug||a.id||"",b=a.name||a.title||d,D=h(d),X=C.some(me=>me.url===D),ue=document.createElement("label");ue.className="flex items-center gap-2 px-3 py-2 rounded-lg border border-slate-200 hover:bg-slate-50 cursor-pointer transition-colors",ue.innerHTML=`
          <input type="checkbox" name="nav-page" value="${D}" data-page-title="${b}"
                 class="w-4 h-4 rounded border-slate-300 text-violet-600 focus:ring-violet-500"
                 ${X?"checked":""}>
          <span class="flex-1 text-sm text-slate-700">${b}</span>
          <span class="text-xs text-slate-400">${D}</span>
        `;let ae=ue.querySelector("input");ae.addEventListener("change",()=>{ae.checked?C.some(me=>me.url===D)||C.push({label:b,url:D}):C=C.filter(me=>me.url!==D)}),z.appendChild(ue)})}},re=()=>{var d,b,D,X,ue,ae,me,Ee,we,et,tt;let a=[];return z==null||z.querySelectorAll('input[name="nav-page"]:checked').forEach($e=>{let be=h($e.value),Oe=$e.dataset.pageTitle||be;a.push({label:Oe,url:be})}),{logo:{src:((b=(d=K.logo)==null?void 0:d.value)==null?void 0:b.trim())||"",alt:((X=(D=K.logoAlt)==null?void 0:D.value)==null?void 0:X.trim())||"",url:$((ue=K.logoUrl)==null?void 0:ue.value,"/")},nav:a,cta:{text:((me=(ae=K.ctaText)==null?void 0:ae.value)==null?void 0:me.trim())||"",url:$((Ee=K.ctaUrl)==null?void 0:Ee.value,""),style:((we=K.ctaStyle)==null?void 0:we.value)||"primary"},style:{position:((et=K.position)==null?void 0:et.value)||"static",bg:((tt=K.bg)==null?void 0:tt.value)||"bg-white"}}},$t=async a=>{var b,D,X,ue,ae,me,Ee,we,et,tt,$e;if(!a)return;K.logo&&(K.logo.value=((b=a.logo)==null?void 0:b.src)||""),K.logoAlt&&(K.logoAlt.value=((D=a.logo)==null?void 0:D.alt)||""),K.logoUrl&&(K.logoUrl.value=$((X=a.logo)==null?void 0:X.url,"/")),K.ctaText&&(K.ctaText.value=((ue=a.cta)==null?void 0:ue.text)||""),K.ctaUrl&&(K.ctaUrl.value=$((ae=a.cta)==null?void 0:ae.url,"")),K.ctaStyle&&(K.ctaStyle.value=((me=a.cta)==null?void 0:me.style)||"primary"),K.position&&(K.position.value=((Ee=a.style)==null?void 0:Ee.position)||"static"),K.bg&&(K.bg.value=((we=a.style)==null?void 0:we.bg)||"bg-white"),C=(a.nav||[]).map(be=>({...be,url:h(be.url)})),await Dt();let d=((et=a.logo)==null?void 0:et.src)||((tt=a.nav)==null?void 0:tt.length)>0||(($e=a.cta)==null?void 0:$e.text);p&&(p.classList.toggle("bg-green-500",!!d),p.classList.toggle("bg-slate-300",!d),p.title=d?"Configur\xE9":"Non configur\xE9")};I==null||I.addEventListener("click",async()=>{if(qe){I.disabled=!0,I.textContent="Enregistrement...";try{let a=re();if(!(await fetch(`${qe}/header`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(a)})).ok)throw new Error("Erreur serveur");ce=a,$t(a),j("Header enregistr\xE9")}catch(a){console.error("[header] save error",a),j("Erreur lors de l'enregistrement","error")}finally{I.disabled=!1,I.textContent="Enregistrer"}}});let Xt=(a,d="",b="")=>{if(!ne||!a)return;let D=ne.content.cloneNode(!0),X=D.querySelector("[data-footer-link]"),ue=D.querySelector('[name="link-label"]'),ae=D.querySelector('[name="link-url"]'),me=D.querySelector("[data-link-remove]");ue&&(ue.value=d),ae&&(ae.value=b),me==null||me.addEventListener("click",()=>X==null?void 0:X.remove()),a.appendChild(D)},oo=(a="",d=[])=>{if(!ge||!E)return;let b=ge.content.cloneNode(!0),D=b.querySelector("[data-footer-column]"),X=b.querySelector('[name="column-title"]'),ue=b.querySelector("[data-column-links]"),ae=b.querySelector("[data-column-link-add]"),me=b.querySelector("[data-column-remove]");X&&(X.value=a),d.forEach(Ee=>Xt(ue,Ee.label,Ee.url)),ae==null||ae.addEventListener("click",()=>Xt(ue)),me==null||me.addEventListener("click",()=>D==null?void 0:D.remove()),E.appendChild(b)},Ho=()=>{var d,b,D,X,ue,ae,me,Ee,we,et,tt,$e,be,Oe,Et,st,fs,Ge,Ht,ps;let a=[];return E==null||E.querySelectorAll("[data-footer-column]").forEach(lt=>{var gs,hs;let co=((hs=(gs=lt.querySelector('[name="column-title"]'))==null?void 0:gs.value)==null?void 0:hs.trim())||"",ot=[];lt.querySelectorAll("[data-footer-link]").forEach(Ms=>{var rt,ys,Fs,bs;let Ze=((ys=(rt=Ms.querySelector('[name="link-label"]'))==null?void 0:rt.value)==null?void 0:ys.trim())||"",Ke=((bs=(Fs=Ms.querySelector('[name="link-url"]'))==null?void 0:Fs.value)==null?void 0:bs.trim())||"";(Ze||Ke)&&ot.push({label:Ze,url:Ke})}),(co||ot.length>0)&&a.push({title:co,links:ot})}),{columns:a,socials:{linkedin:((b=(d=x.linkedin)==null?void 0:d.value)==null?void 0:b.trim())||"",twitter:((X=(D=x.twitter)==null?void 0:D.value)==null?void 0:X.trim())||"",instagram:((ae=(ue=x.instagram)==null?void 0:ue.value)==null?void 0:ae.trim())||"",facebook:((Ee=(me=x.facebook)==null?void 0:me.value)==null?void 0:Ee.trim())||"",youtube:((et=(we=x.youtube)==null?void 0:we.value)==null?void 0:et.trim())||"",github:(($e=(tt=x.github)==null?void 0:tt.value)==null?void 0:$e.trim())||""},copyright:((Oe=(be=x.copyright)==null?void 0:be.value)==null?void 0:Oe.trim())||"",legal:{url:((st=(Et=x.legalUrl)==null?void 0:Et.value)==null?void 0:st.trim())||"",privacyUrl:((Ge=(fs=x.privacyUrl)==null?void 0:fs.value)==null?void 0:Ge.trim())||""},style:{bg:((Ht=x.bg)==null?void 0:Ht.value)||"bg-slate-900 text-white",columnsCount:((ps=x.columnsCount)==null?void 0:ps.value)||"4"}}},Is=a=>{var b,D,X,ue,ae,me,Ee,we,et,tt,$e;if(!a)return;x.linkedin&&(x.linkedin.value=((b=a.socials)==null?void 0:b.linkedin)||""),x.twitter&&(x.twitter.value=((D=a.socials)==null?void 0:D.twitter)||""),x.instagram&&(x.instagram.value=((X=a.socials)==null?void 0:X.instagram)||""),x.facebook&&(x.facebook.value=((ue=a.socials)==null?void 0:ue.facebook)||""),x.youtube&&(x.youtube.value=((ae=a.socials)==null?void 0:ae.youtube)||""),x.github&&(x.github.value=((me=a.socials)==null?void 0:me.github)||""),x.copyright&&(x.copyright.value=a.copyright||""),x.legalUrl&&(x.legalUrl.value=((Ee=a.legal)==null?void 0:Ee.url)||""),x.privacyUrl&&(x.privacyUrl.value=((we=a.legal)==null?void 0:we.privacyUrl)||""),x.bg&&(x.bg.value=((et=a.style)==null?void 0:et.bg)||"bg-slate-900 text-white"),x.columnsCount&&(x.columnsCount.value=((tt=a.style)==null?void 0:tt.columnsCount)||"4"),E&&(E.innerHTML=""),(a.columns||[]).forEach(be=>oo(be.title,be.links));let d=(($e=a.columns)==null?void 0:$e.length)>0||a.copyright||Object.values(a.socials||{}).some(be=>be);y&&(y.classList.toggle("bg-green-500",!!d),y.classList.toggle("bg-slate-300",!d),y.title=d?"Configur\xE9":"Non configur\xE9")};oe==null||oe.addEventListener("click",()=>oo()),Q==null||Q.addEventListener("click",async()=>{if(qe){Q.disabled=!0,Q.textContent="Enregistrement...";try{let a=Ho();if(!(await fetch(`${qe}/footer`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(a)})).ok)throw new Error("Erreur serveur");He=a,Is(a),j("Footer enregistr\xE9")}catch(a){console.error("[footer] save error",a),j("Erreur lors de l'enregistrement","error")}finally{Q.disabled=!1,Q.textContent="Enregistrer"}}}),(async()=>{if(qe)try{let a=await fetch(qe,{credentials:"include"});if(a.ok){let d=await a.json();d.header&&(ce=d.header,$t(d.header)),d.footer&&(He=d.footer,Is(d.footer))}}catch(a){console.error("[layout] load error",a)}})();let ro=Te((J==null?void 0:J.slugValue)||te.slug||""),ut=ro?`/api/sites/${encodeURIComponent(ro)}/collections`:null,Bt=[],Ue=[],We=null,Re=null,mt=!1,Vt=!1,Ot=null,$s=a=>{let d=(a||"").trim();if(!d)return"";if(d==="/")return"/";let D=d.replace(/^\//,"").split("/").map(X=>Yt(X||"")).filter(X=>X.length>0);return D.length?`/${D.join("/")}`:""},Bs=a=>{if(!a)return"\u2014";let d=new Date(a);return Number.isNaN(d.getTime())?"\u2014":d.toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric"})},Jt=()=>{let a=Bt.find(d=>d.id===We);B&&(B.textContent=(a==null?void 0:a.name)||"S\xE9lectionnez une collection"),M&&(M.textContent=(a==null?void 0:a.description)||"")},cs=a=>{G&&(G.textContent=a||(We?"Aucun item dans cette collection pour le moment.":"Choisissez une collection dans le panneau de gauche."))},Ie=()=>{L&&(L.classList.add("hidden"),L.dataset.itemId=""),R==null||R.classList.remove("hidden"),v&&(v.className=`hidden ${ye}`,v.textContent=""),A&&(A.disabled=!0),ve()},es=()=>{L&&(L.classList.remove("hidden"),R==null||R.classList.add("hidden"),ve())},Wt=()=>{P&&(P.disabled=!We,P.disabled?P.classList.add("opacity-60","pointer-events-none"):P.classList.remove("opacity-60","pointer-events-none"))},ds=a=>{if(!v)return;if(!a){v.className=`hidden ${ye}`,v.textContent="";return}let d=a.toLowerCase(),b="bg-slate-100 text-slate-600 border border-slate-200";d==="publi\xE9"||d==="publie"?b="bg-emerald-50 text-emerald-700 border border-emerald-100":d==="brouillon"&&(b="bg-amber-50 text-amber-700 border border-amber-100"),v.className=`${ye} ${b}`,v.textContent=a},Ps=()=>{if(o.innerHTML="",V&&(V.textContent=Bt.length),!Bt.length){ee==null||ee.classList.remove("hidden");return}ee==null||ee.classList.add("hidden"),Bt.forEach(a=>{let d=a.id===We,b=document.createElement("button");b.type="button",b.dataset.collectionId=a.id,b.className=["w-full rounded-xl border px-3 py-2 text-left transition focus:outline-none focus:ring-2 focus:ring-[#9C6BFF]/40",d?"bg-[#F7F0FF] border-[#9C6BFF]/40 text-slate-900":"border-slate-200 text-slate-700 hover:border-[#9C6BFF]/40"].join(" "),b.setAttribute("role","option"),d?b.setAttribute("aria-current","true"):b.removeAttribute("aria-current"),b.innerHTML=`
          <div class="flex items-center justify-between gap-2">
            <div>
              <p class="text-sm font-semibold">${a.name||a.id}</p>
              <p class="text-xs text-slate-500">${a.description||""}</p>
            </div>
            <span class="text-[11px] uppercase tracking-wide text-slate-400">${a.type||""}</span>
          </div>
        `,b.addEventListener("click",()=>{ms(a.id)}),o.appendChild(b)})},gt=()=>{if(T){if(T.innerHTML="",!Ue.length||!We){G==null||G.classList.remove("hidden"),cs(),w==null||w.classList.add("hidden");return}G==null||G.classList.add("hidden"),w==null||w.classList.remove("hidden"),Ue.forEach(a=>{let d=document.createElement("tr");d.dataset.itemId=a.id;let b=a.id===Re&&!mt;d.className=["cursor-pointer transition focus-within:bg-[#F7F0FF]/70 focus:outline-none",b?"bg-[#F7F0FF]/70":"hover:bg-slate-50"].join(" "),d.tabIndex=0,d.setAttribute("role","button"),b?d.setAttribute("aria-current","true"):d.removeAttribute("aria-current");let D=a.status||"Brouillon",X=D.toLowerCase(),ue=X==="publi\xE9"||X==="publie"?"bg-emerald-50 text-emerald-700 border border-emerald-100":"bg-amber-50 text-amber-700 border border-amber-100";d.innerHTML=`
          <td class="px-4 py-3 align-top">
            <div class="flex flex-col">
              <span class="text-sm font-semibold text-slate-900">${a.title||"Sans titre"}</span>
              <span class="text-xs text-slate-500">${a.summary||a.excerpt||""}</span>
            </div>
          </td>
          <td class="px-4 py-3 align-top text-sm text-slate-600">${a.slug||""}</td>
          <td class="px-4 py-3 align-top">
            <span class="inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold ${ue}">
              ${D}
            </span>
          </td>
          <td class="px-4 py-3 align-top text-sm text-slate-500">${Bs(a.updatedAt||a.createdAt)}</td>
        `;let ae=()=>{no(a.id)};d.addEventListener("click",ae),d.addEventListener("keydown",me=>{(me.key==="Enter"||me.key===" ")&&(me.preventDefault(),ae())}),T.appendChild(d)})}},no=a=>{let d=Ue.find(b=>b.id===a);d&&(Re=d.id,mt=!1,Vt=!0,us(d),gt())},us=a=>{var d,b;if(!L||!a){Ie();return}es(),L.dataset.itemId=a.id,S.title&&(S.title.value=a.title||""),S.slug&&(S.slug.value=a.slug||""),S.excerpt&&(S.excerpt.value=a.summary||a.excerpt||""),S.content&&(S.content.value=a.content||""),S.image&&(S.image.value=a.image||""),S.ctaText&&(S.ctaText.value=((d=a.cta)==null?void 0:d.text)||a.ctaText||""),S.ctaUrl&&(S.ctaUrl.value=((b=a.cta)==null?void 0:b.url)||a.ctaUrl||""),S.status&&(S.status.value=a.status||"Brouillon"),ds(a.status||"Brouillon"),A&&(A.disabled=!1)},Uo=()=>{var a;L&&(mt=!0,Re=null,Vt=!1,L.dataset.itemId="",L.reset(),S.status&&(S.status.value="Brouillon"),S.slug&&(S.slug.value=""),ds("Brouillon"),es(),A&&(A.disabled=!0),(a=S.title)==null||a.focus())},Ro=()=>{var we,et,tt,$e,be,Oe,Et,st;let a=(((we=S.title)==null?void 0:we.value)||"").trim(),d=(((et=S.slug)==null?void 0:et.value)||"").trim(),b=(((tt=S.excerpt)==null?void 0:tt.value)||"").trim(),D=((($e=S.content)==null?void 0:$e.value)||"").trim(),X=(((be=S.image)==null?void 0:be.value)||"").trim(),ue=(((Oe=S.ctaText)==null?void 0:Oe.value)||"").trim(),ae=(((Et=S.ctaUrl)==null?void 0:Et.value)||"").trim(),me=((st=S.status)==null?void 0:st.value)||"Brouillon",Ee=ue||ae?{text:ue,url:ae}:null;return{title:a,slug:$s(d||a),summary:b,excerpt:b,content:D,image:X,status:me,...Ee&&{cta:Ee}}},js=a=>{Z&&(Z.disabled=a,Z.textContent=a?"Enregistrement\u2026":"Enregistrer"),A&&!mt&&Re&&(A.disabled=a)},ao=async a=>{if(!ut)return[];let d=await fetch(`${ut}/${encodeURIComponent(a)}/items`,{headers:{Accept:"application/json"}});if(!d.ok){let D=await d.json().catch(()=>({}));throw new Error(D.message||"Impossible de charger les items.")}let b=await d.json().catch(()=>({}));return Array.isArray(b.items)?b.items:[]},ms=async a=>{if(a&&(We=a,Re=null,mt=!1,Vt=!1,Pe("collection"),Jt(),Wt(),Ps(),Ie(),Ue=[],gt(),cs("Chargement des items\u2026"),G==null||G.classList.remove("hidden"),w==null||w.classList.add("hidden"),!!ut))try{Ue=await ao(a),gt(),Ue.length||cs()}catch(d){console.error("[content] items failed",d),j(d.message||"Impossible de charger les items."),Ue=[],gt()}},zo=async(a,d)=>{if(!ut)throw new Error("Site inconnu.");let b=await fetch(`${ut}/${encodeURIComponent(a)}/items`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)});if(!b.ok){let D=await b.json().catch(()=>({}));throw new Error(D.message||"Impossible de cr\xE9er cet item.")}return b.json()},ts=async(a,d,b)=>{if(!ut)throw new Error("Site inconnu.");let D=await fetch(`${ut}/${encodeURIComponent(a)}/items/${encodeURIComponent(d)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});if(!D.ok){let X=await D.json().catch(()=>({}));throw new Error(X.message||"Impossible de sauvegarder cet item.")}return D.json()},Vo=async(a,d)=>{if(!ut)throw new Error("Site inconnu.");let b=await fetch(`${ut}/${encodeURIComponent(a)}/items/${encodeURIComponent(d)}`,{method:"DELETE"});if(!b.ok){let D=await b.json().catch(()=>({}));throw new Error(D.message||"Impossible de supprimer cet item.")}},Oo=async()=>{var a;if(!ut){ee==null||ee.classList.remove("hidden"),We=null,Ue=[],gt(),Jt(),Wt();return}try{let d=await fetch(ut,{headers:{Accept:"application/json"}});if(!d.ok)throw new Error("Impossible de charger les collections.");let b=await d.json().catch(()=>[]);if(Bt=Array.isArray(b)?b:[],Ps(),Bt.length>0){let D=((a=Bt.find(X=>X.id===We))==null?void 0:a.id)||Bt[0].id;ms(D)}else We=null,Ue=[],Jt(),Wt(),gt()}catch(d){console.error("[content] load collections",d),j(d.message||"Impossible de charger les collections.")}};P==null||P.addEventListener("click",()=>{if(!We){j("S\xE9lectionnez d\u2019abord une collection.");return}Uo(),gt()}),Y==null||Y.addEventListener("click",a=>{if(a.preventDefault(),mt){mt=!1,Re=null,Ie(),gt();return}if(Re){let d=Ue.find(b=>b.id===Re);us(d)}else Ie()}),(ss=S.status)==null||ss.addEventListener("change",()=>{ds(S.status.value)}),(Ct=S.title)==null||Ct.addEventListener("input",()=>{!mt||!S.slug||Vt||(S.slug.value=$s(S.title.value))}),(lo=S.slug)==null||lo.addEventListener("input",()=>{mt&&(Vt=!0)}),L==null||L.addEventListener("submit",async a=>{var b;if(a.preventDefault(),!We){j("S\xE9lectionnez une collection.");return}let d=Ro();if(!d.title){j("Le titre est requis."),(b=S.title)==null||b.focus();return}js(!0);try{let D;mt||!Re?(D=await zo(We,d),Ue=[...Ue,D],j("Item cr\xE9\xE9")):(D=await ts(We,Re,d),Ue=Ue.map(X=>X.id===D.id?D:X),j("Item mis \xE0 jour")),mt=!1,Re=D.id,us(D),gt()}catch(D){console.error("[content] save item failed",D),j(D.message||"Impossible de sauvegarder cet item.")}finally{js(!1)}});let Pt=()=>{q&&(q.classList.add("hidden"),q.classList.remove("flex"),Ot=null)},io=()=>{!q||!Re||(Ot=Re,q.classList.remove("hidden"),q.classList.add("flex"))};A==null||A.addEventListener("click",a=>{a.preventDefault(),Re&&io()}),H==null||H.addEventListener("click",()=>{Pt()}),q==null||q.addEventListener("click",a=>{a.target===q&&Pt()}),W==null||W.addEventListener("click",async()=>{if(!Ot||!We){Pt();return}W.disabled=!0,W.textContent="Suppression\u2026";try{await Vo(We,Ot),Ue=Ue.filter(a=>a.id!==Ot),Re===Ot&&(Re=null,Ie()),j("Item supprim\xE9"),gt()}catch(a){console.error("[content] delete item failed",a),j(a.message||"Impossible de supprimer cet item.")}finally{W.disabled=!1,W.textContent="Supprimer",Pt()}}),Jt(),Wt(),Oo()}function Ln(){let o=document.querySelector("[data-deploy-form]");if(!o)return;let n=document.querySelector("[data-deploy-protocol]"),l=document.querySelector("[data-deploy-host]"),f=document.querySelector("[data-deploy-port]"),p=document.querySelector("[data-deploy-user]"),y=document.querySelector("[data-deploy-password]"),V=document.querySelector("[data-deploy-show-password]"),U=document.querySelector("[data-deploy-remote-path]"),O=document.querySelector("[data-deploy-feedback]"),ee=document.querySelector("[data-deploy-save]"),G=document.querySelector("[data-deploy-test]"),w=document.querySelector("[data-deploy-trigger]"),T=document.querySelector("[data-deploy-history]"),B=document.querySelector("[data-deploy-log]"),M=Te((J==null?void 0:J.slugValue)||te.slug||""),P=M?`/api/sites/${encodeURIComponent(M)}/deploy-config`:null,R=M?`/api/sites/${encodeURIComponent(M)}/deploy`:null,L=M?`/api/sites/${encodeURIComponent(M)}/deploy-log`:null,S=!1,v=null,A=I=>{let k=(I||"").trim();return k?k.startsWith("/")?k:`/${k}`:"/www"},q=(I,k="muted")=>{if(!O)return;let z="inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold",pe=k==="success"?"bg-emerald-50 text-emerald-700 border border-emerald-100":k==="error"?"bg-rose-50 text-rose-700 border border-rose-100":"bg-slate-50 text-slate-600 border border-slate-100";if(!I){O.textContent="",O.className="text-sm text-slate-500";return}let C=k==="success"?"\u2705":k==="error"?"\u274C":"\u2139\uFE0F";O.innerHTML=`<span class="${z} ${pe}">${C}<span>${I}</span></span>`,O.className="text-sm"},H=(I=null)=>{v=I;let k=!!I,z='<svg class="h-4 w-4 animate-spin text-white" viewBox="0 0 24 24" fill="none" aria-hidden="true"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"></path></svg>';ee&&(ee.disabled=k,ee.innerHTML=I==="save"?`<span class="inline-flex items-center gap-2">${z}<span>Enregistrement\u2026</span></span>`:"Enregistrer"),G&&(G.disabled=k,G.innerHTML=I==="test"?'<span class="inline-flex items-center gap-2"><span class="h-4 w-4 animate-spin rounded-full border-2 border-slate-200 border-t-slate-600"></span><span>Test en cours\u2026</span></span>':"Tester la connexion"),w&&(w.disabled=k&&I!==null,w.innerHTML=I==="deploy"?'<span class="inline-flex items-center gap-2"><span class="h-4 w-4 animate-spin rounded-full border-2 border-white/60 border-t-white"></span><span>D\xE9ploiement\u2026</span></span>':"D\xE9ployer maintenant")},W=I=>{n&&(n.value=I.protocol||"sftp"),l&&(l.value=I.host||""),f&&(f.value=I.port||""),p&&(p.value=I.user||""),U&&(U.value=I.remotePath||"/www"),S=!!I.hasPassword,y&&(y.value="",y.placeholder=S?"Non affich\xE9":"Mot de passe")},Y=(I=[])=>{if(T){if(T.innerHTML="",!I.length){let k=document.createElement("li");k.className="text-slate-500",k.textContent="Aucun d\xE9ploiement pour le moment.",T.appendChild(k);return}I.forEach(k=>{let z=document.createElement("li");z.className="flex items-center justify-between gap-2 rounded-xl border border-slate-200 px-3 py-2";let pe=k.status==="success"?'<span class="rounded-full bg-emerald-50 px-2 py-0.5 text-[11px] font-semibold text-emerald-700">Succ\xE8s</span>':'<span class="rounded-full bg-rose-50 px-2 py-0.5 text-[11px] font-semibold text-rose-700">\xC9chec</span>',C=k.finishedAt||k.startedAt||"",x=k.durationMs&&Number(k.durationMs)>=0?`${Math.round(Number(k.durationMs)/1e3)}s`:"";z.innerHTML=`
          <div class="space-y-1">
            <div class="flex items-center gap-2">${pe}<span class="text-xs text-slate-500">${C}</span></div>
            <p class="text-sm text-slate-800">${k.message||""}</p>
          </div>
          <div class="text-xs text-slate-500">${x}</div>
        `,z.dataset.deployId=k.id||"",z.addEventListener("click",()=>{k.logs&&B&&(B.textContent=k.logs.join(`
`))}),T.appendChild(z)})}},Z=(I=[])=>{B&&(B.textContent=I.length?I.join(`
`):"Aucun log pour le moment.")},ye=async()=>{var I;if(L)try{let k=await fetch(L,{headers:{Accept:"application/json"}});if(!k.ok){if(k.status===404){Y([]),Z(["API d\xE9ploiement indisponible (red\xE9marre le serveur)."]);return}throw new Error("Impossible de charger l\u2019historique.")}let z=await k.json().catch(()=>({})),pe=Array.isArray(z.entries)?z.entries:[];Y(pe),(I=pe[0])!=null&&I.logs&&Z(pe[0].logs)}catch(k){console.error("[deploy] history failed",k)}},Ce=async()=>{if(!P){q("Aucun site actif s\xE9lectionn\xE9.","error");return}H("load");try{let I=await fetch(P,{headers:{Accept:"application/json"}}),k=await I.json().catch(()=>({}));I.ok?(W(k||{}),q("Configuration charg\xE9e.","muted")):(W(k||{}),q(k.message||"Configuration par d\xE9faut charg\xE9e.","muted"))}catch(I){console.error("[deploy] load failed",I),q(I.message||"Erreur lors du chargement.","error")}finally{H(null)}},Je=()=>{let I={protocol:(n==null?void 0:n.value)||"sftp",host:(l==null?void 0:l.value.trim())||"",port:Number(f==null?void 0:f.value)||void 0,user:(p==null?void 0:p.value.trim())||"",remotePath:A((U==null?void 0:U.value)||"/www")},k=(y==null?void 0:y.value)||"";return k.trim().length>0&&(I.password=k),I};o.addEventListener("submit",async I=>{if(I.preventDefault(),!P){q("Aucun site actif s\xE9lectionn\xE9.","error");return}let k=Je();H("save");try{let z=await fetch(P,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(k)});if(!z.ok){let C=await z.json().catch(()=>({}));throw new Error(C.message||"Sauvegarde impossible.")}let pe=await z.json();W(pe||{}),q("Configuration enregistr\xE9e.","success"),j("Configuration d\xE9ploiement sauvegard\xE9e")}catch(z){console.error("[deploy] save failed",z),q(z.message||"Erreur lors de la sauvegarde.","error")}finally{H(null)}}),G==null||G.addEventListener("click",async()=>{if(!P){q("Aucun site actif s\xE9lectionn\xE9.","error");return}let I=Je();if(!I.host||!I.user||!I.remotePath){q("Remplissez les champs requis avant de tester.","error");return}H("test");try{let k=await fetch(`${P}/test`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(I)}),z=await k.json().catch(()=>({}));if(!k.ok||z.success===!1){q(z.message||"Test de connexion \xE9chou\xE9.","error");return}q(z.message||"Connexion OK.","success"),j("Test de connexion r\xE9ussi")}catch(k){console.error("[deploy] test failed",k),q(k.message||"Test de connexion \xE9chou\xE9.","error")}finally{H(null)}}),w==null||w.addEventListener("click",async()=>{if(!R){q("Aucun site actif s\xE9lectionn\xE9.","error");return}H("deploy"),Z(["D\xE9ploiement en cours\u2026"]);try{let I=await fetch(R,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Je())}),k=await I.json().catch(()=>({}));if(!I.ok){if(I.status===404){q("API d\xE9ploiement indisponible (red\xE9marre le serveur).","error"),Z(["API d\xE9ploiement indisponible (red\xE9marre le serveur)."]);return}throw Z(k.logs||[]),new Error(k.message||"D\xE9ploiement \xE9chou\xE9.")}Z(k.logs||[]),await ye(),j("D\xE9ploiement termin\xE9")}catch(I){console.error("[deploy] run failed",I),q(I.message||"D\xE9ploiement \xE9chou\xE9.","error")}finally{H(null)}}),V==null||V.addEventListener("change",()=>{y&&(y.type=V.checked?"text":"password")});let ve=document.querySelector("[data-download-build]"),K=document.querySelector("[data-download-feedback]"),Be=M?`/api/sites/${encodeURIComponent(M)}/download`:null,Ve=(I,k="muted")=>{if(!K)return;let z=k==="success"?"text-emerald-600":k==="error"?"text-rose-600":"text-slate-500";K.textContent=I||"",K.className=`text-sm ${z}`};ve==null||ve.addEventListener("click",async()=>{if(!Be){Ve("Aucun site actif s\xE9lectionn\xE9.","error");return}ve.disabled=!0;let I=ve.innerHTML;ve.innerHTML=`
        <svg class="w-4 h-4 animate-spin" fill="none" viewBox="0 0 24 24">
          <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
          <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"></path>
        </svg>
        <span>Build en cours...</span>
      `,Ve("G\xE9n\xE9ration du build en cours...","muted");try{let k=await fetch(Be);if(!k.ok){let x=await k.json().catch(()=>({}));throw new Error(x.message||"Impossible de g\xE9n\xE9rer le ZIP.")}let z=await k.blob(),pe=window.URL.createObjectURL(z),C=document.createElement("a");C.href=pe,C.download=`${M}-build.zip`,document.body.appendChild(C),C.click(),document.body.removeChild(C),window.URL.revokeObjectURL(pe),Ve("T\xE9l\xE9chargement termin\xE9 !","success"),j("Build t\xE9l\xE9charg\xE9 avec succ\xE8s")}catch(k){console.error("[download] failed",k),Ve(k.message||"Erreur lors du t\xE9l\xE9chargement.","error")}finally{ve.disabled=!1,ve.innerHTML=I}}),Ce(),ye()}function kn(){let o=document.querySelectorAll("[data-settings-tab]"),n=document.querySelectorAll("[data-settings-panel]"),l=document.querySelector("[data-admin-password-form]"),f=document.querySelector("[data-site-config-form]"),p=document.querySelector("[data-site-config-feedback]"),y=document.querySelector("[data-theme-form]"),V=w=>{o.forEach(T=>{let B=T.dataset.settingsTab===w;T.setAttribute("aria-selected",B?"true":"false"),T.classList.toggle("bg-[#9C6BFF]",B),T.classList.toggle("text-white",B)}),n.forEach(T=>{T.classList.toggle("hidden",T.dataset.settingsPanel!==w)})};if(o.forEach(w=>{w.addEventListener("click",()=>V(w.dataset.settingsTab||"account"))}),V("account"),l){let w=l.querySelector("[data-admin-password-feedback]"),T=l.querySelector("[data-admin-password-submit]"),B=(M,P="muted")=>{if(!w)return;let R=P==="success"?"text-emerald-600":P==="error"?"text-rose-600":"text-slate-500";w.textContent=M||"",w.className=`text-sm ${R}`};l.addEventListener("submit",async M=>{M.preventDefault();let P=new FormData(l),R=P.get("currentPassword")||"",L=P.get("newPassword")||"",S=P.get("confirmPassword")||"";if(!R||!L||!S){B("Compl\xE8te tous les champs.","error");return}T&&(T.disabled=!0),B("");try{let v=await fetch("/api/admin/password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentPassword:R,newPassword:L,confirmPassword:S})}),A=await v.json().catch(()=>({}));if(!v.ok||A.success===!1)throw new Error(A.message||"Impossible de mettre \xE0 jour le mot de passe.");B(A.message||"Mot de passe mis \xE0 jour.","success"),l.reset()}catch(v){console.error("[settings] change password failed",v),B(v.message||"Erreur lors de la mise \xE0 jour.","error")}finally{T&&(T.disabled=!1)}})}if(f){let w=f.querySelector("[data-site-name]"),T=f.querySelector("[data-site-language]"),B=f.querySelector("[data-site-tagline]"),M=f.querySelector("[data-site-save]"),P=(v,A="muted")=>{if(!p)return;let q=A==="success"?"text-emerald-600":A==="error"?"text-rose-600":"text-slate-500";p.textContent=v||"",p.className=`text-sm ${q}`},R=Te((J==null?void 0:J.slugValue)||te.slug||""),L=R?`/api/sites/${encodeURIComponent(R)}/config/site`:null,S=async()=>{if(L)try{let v=await fetch(L,{headers:{Accept:"application/json"}});if(!v.ok)return;let A=await v.json().catch(()=>({}));w&&(w.value=A.name||""),T&&(T.value=A.language||"fr"),B&&(B.value=A.tagline||"")}catch(v){console.error("[settings] load site config failed",v)}};f.addEventListener("submit",async v=>{if(v.preventDefault(),!L){P("Aucun site actif.","error");return}if(!(w!=null&&w.value.trim())){P("Nom requis.","error");return}M&&(M.disabled=!0),P("");try{let A={name:(w==null?void 0:w.value)||"",language:(T==null?void 0:T.value)||"fr",tagline:(B==null?void 0:B.value)||""},q=await fetch(L,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(A)}),H=await q.json().catch(()=>({}));if(!q.ok||H.success===!1)throw new Error(H.message||"Sauvegarde impossible.");P(H.message||"Param\xE8tres enregistr\xE9s.","success")}catch(A){console.error("[settings] save site config failed",A),P(A.message||"Erreur lors de la sauvegarde.","error")}finally{M&&(M.disabled=!1)}}),S()}if(y){let w=Te((J==null?void 0:J.slugValue)||te.slug||""),T=w?`/api/sites/${encodeURIComponent(w)}/config/theme`:null,B={primary:y.querySelector("[data-theme-primary]"),secondary:y.querySelector("[data-theme-secondary]"),accent:y.querySelector("[data-theme-accent]"),background:y.querySelector("[data-theme-background]"),text:y.querySelector("[data-theme-text]")},M=y.querySelector("[data-theme-headings]"),P=y.querySelector("[data-theme-body]"),R=y.querySelector("[data-theme-radius-small]"),L=y.querySelector("[data-theme-radius-medium]"),S=y.querySelector("[data-theme-radius-large]"),v=y.querySelector("[data-theme-preview]"),A=y.querySelector("[data-theme-feedback]"),q=y.querySelector("[data-theme-apply]"),H={slate:"#e2e8f0",gray:"#d1d5db",zinc:"#d4d4d8",neutral:"#d4d4d4",stone:"#d6d3d1",red:"#ef4444",orange:"#f97316",amber:"#f59e0b",yellow:"#eab308",lime:"#84cc16",green:"#22c55e",emerald:"#10b981",teal:"#14b8a6",cyan:"#06b6d4",sky:"#0ea5e9",blue:"#3b82f6",indigo:"#6366f1",violet:"#8b5cf6",purple:"#a855f7",fuchsia:"#d946ef",pink:"#ec4899",rose:"#f43f5e"},W=C=>{if(!C)return null;if(C==="white")return"#ffffff";if(C==="black")return"#000000";if(C==="transparent")return"transparent";let[x,E]=C.split("-");if(!x||!E)return null;let oe=H[x];if(!oe)return null;let Q=Number(E)||500,ge=Math.min(Math.max((Q-50)/900,0),1),ne=ke=>ke.replace("#","").match(/[A-Fa-f0-9]{2}/g).map(qe=>parseInt(qe,16)),[xe,ce,He]=ne(oe),Fe=ke=>Math.round(255-(255-ke)*ge);return`rgb(${Fe(xe)}, ${Fe(ce)}, ${Fe(He)})`},Y=["slate","gray","zinc","neutral","stone","red","orange","amber","yellow","lime","green","emerald","teal","cyan","sky","blue","indigo","violet","purple","fuchsia","pink","rose"],Z=["50","100","200","300","400","500","600","700","800","900"],ye=Y.flatMap(C=>Z.map(x=>`${C}-${x}`)),Ce=[{value:"white",label:"Blanc",color:"#ffffff",emoji:"\u2B1C"},{value:"transparent",label:"Transparent",color:"transparent",emoji:"\u2B1C"},{value:"black",label:"Noir",color:"#000000",emoji:"\u2B1B"}],Je=(()=>{let C=[];return Ce.forEach(({value:x,label:E,color:oe,emoji:Q})=>{C.push({value:x,label:`${Q} ${E}`,color:oe})}),ye.forEach(x=>{let[E,oe]=x.split("-"),Q=W(x)||"#ffffff";C.push({value:x,label:`${E.charAt(0).toUpperCase()+E.slice(1)} ${oe}`,color:Q})}),C})(),ve=C=>typeof C=="string"?C.trim().toLowerCase():"",K=(C={})=>{Object.entries(B).forEach(([x,E])=>{var Q;if(!E)return;let oe=ve(C[x]);E.innerHTML="",Je.forEach(({value:ge,label:ne,color:xe})=>{let ce=document.createElement("option");ce.value=ge,ce.textContent=ne,ce.dataset.color=xe,oe&&oe===ge&&(ce.selected=!0),E.appendChild(ce)}),E.dataset.default=E.dataset.default||((Q=E.options[0])==null?void 0:Q.value)||"",!oe&&E.dataset.default&&(E.value=E.dataset.default),Xs(E)})},Be=(C,x="muted")=>{if(!A)return;let E=x==="success"?"text-emerald-600":x==="error"?"text-rose-600":"text-slate-500";A.textContent=C||"",A.className=`text-sm ${E}`},Ve=()=>{var x,E,oe,Q,ge;if(!v)return;let C=ne=>{if(!ne)return null;if(ne==="white")return"#ffffff";if(ne==="black")return"#000000";if(ne==="transparent")return"transparent";let[xe,ce]=ne.split("-");if(!xe||!ce)return null;let Fe={slate:"#e2e8f0",gray:"#d1d5db",zinc:"#d4d4d8",neutral:"#d4d4d4",stone:"#d6d3d1",red:"#ef4444",orange:"#f97316",amber:"#f59e0b",yellow:"#eab308",lime:"#84cc16",green:"#22c55e",emerald:"#10b981",teal:"#14b8a6",cyan:"#06b6d4",sky:"#0ea5e9",blue:"#3b82f6",indigo:"#6366f1",violet:"#8b5cf6",purple:"#a855f7",fuchsia:"#d946ef",pink:"#ec4899",rose:"#f43f5e"}[xe];if(!Fe)return null;let ke=Number(ce)||500,qe=Math.min(Math.max((ke-50)/900,0),1),Pe=re=>re.match(/[A-Fa-f0-9]{2}/g).map($t=>parseInt($t,16)),[Dt,h,$]=Pe(Fe.replace("#","")),g=re=>Math.round(255-(255-re)*qe);return`rgb(${g(Dt)}, ${g(h)}, ${g($)})`};v.style.setProperty("--color-primary",W((x=B.primary)==null?void 0:x.value)||"#9C6BFF"),v.style.setProperty("--color-secondary",W((E=B.secondary)==null?void 0:E.value)||"#0EA5E9"),v.style.setProperty("--color-accent",W((oe=B.accent)==null?void 0:oe.value)||"#F97316"),v.style.setProperty("--color-background",W((Q=B.background)==null?void 0:Q.value)||"#FFFFFF"),v.style.setProperty("--color-text",W((ge=B.text)==null?void 0:ge.value)||"#0F172A"),v.style.setProperty("--font-headings",(M==null?void 0:M.value)||"Inter, sans-serif"),v.style.setProperty("--font-body",(P==null?void 0:P.value)||"Inter, sans-serif"),v.style.setProperty("--radius-small",(R==null?void 0:R.value)||"8px"),v.style.setProperty("--radius-medium",(L==null?void 0:L.value)||"16px"),v.style.setProperty("--radius-large",(S==null?void 0:S.value)||"24px"),v.style.borderRadius=(L==null?void 0:L.value)||"16px"},I=(C,x)=>{if(C){if(x==="transparent"){C.style.background="repeating-conic-gradient(#ccc 0% 25%, white 0% 50%) 50% / 8px 8px",C.style.borderColor="#cbd5f5",C.style.boxShadow="";return}C.style.background=x,C.style.borderColor=x,C.style.boxShadow="0 0 0 1px rgba(15,23,42,0.15)"}},k=C=>{var ge,ne,xe;if(!C)return;let x=C.options[C.selectedIndex],E=((ge=x==null?void 0:x.dataset)==null?void 0:ge.color)||"#ffffff",oe=(ne=C.closest(".relative"))==null?void 0:ne.querySelector("[data-color-preview]");oe&&(E==="transparent"?oe.style.background=Qt:oe.style.background=E);let Q=(xe=C.closest(".relative"))==null?void 0:xe.querySelector("[data-theme-color-chip]");I(Q,E)},z=()=>{Object.values(B).forEach(C=>{C&&(Xs(C),k(C),C.addEventListener("change",()=>k(C)))})};Object.keys(B).forEach(C=>{var x;(x=B[C])==null||x.addEventListener("change",Ve)}),[M,P,R,L,S].forEach(C=>{C==null||C.addEventListener("change",Ve)});let pe=async()=>{var C,x,E,oe,Q;if(T)try{let ge=await fetch(T,{headers:{Accept:"application/json"},credentials:"include"});if(!ge.ok)return;let ne=await ge.json().catch(()=>({})),xe=ne.colors||{};K(xe),Object.entries(B).forEach(([ce,He])=>{if(!He)return;let Fe=xe[ce],ke=ve(Fe);ke?He.value=ke:Fe?He.value=Fe:He.dataset.default&&(He.value=He.dataset.default),k(He)}),M&&(M.value=((C=ne.typography)==null?void 0:C.headings)||"Inter, sans-serif"),P&&(P.value=((x=ne.typography)==null?void 0:x.body)||"Inter, sans-serif"),R&&(R.value=((E=ne.radius)==null?void 0:E.small)||"8px"),L&&(L.value=((oe=ne.radius)==null?void 0:oe.medium)||"16px"),S&&(S.value=((Q=ne.radius)==null?void 0:Q.large)||"24px"),Ve()}catch(ge){console.error("[settings] load theme failed",ge)}};q==null||q.addEventListener("click",async C=>{var E,oe,Q,ge,ne;if(C.preventDefault(),!T){Be("Aucun site actif.","error");return}let x={colors:{primary:((E=B.primary)==null?void 0:E.value)||"violet-500",secondary:((oe=B.secondary)==null?void 0:oe.value)||"indigo-400",accent:((Q=B.accent)==null?void 0:Q.value)||"emerald-500",background:((ge=B.background)==null?void 0:ge.value)||"slate-50",text:((ne=B.text)==null?void 0:ne.value)||"slate-900"},typography:{headings:(M==null?void 0:M.value)||"Inter, sans-serif",body:(P==null?void 0:P.value)||"Inter, sans-serif"},radius:{small:(R==null?void 0:R.value)||"8px",medium:(L==null?void 0:L.value)||"16px",large:(S==null?void 0:S.value)||"24px"}};q.disabled=!0,Be("");try{let xe=await fetch(T,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(x)}),ce=await xe.json().catch(()=>({}));if(!xe.ok||ce.success===!1)throw new Error(ce.message||"Application du th\xE8me \xE9chou\xE9e.");await pe(),Be(ce.message||"Th\xE8me appliqu\xE9.","success")}catch(xe){console.error("[settings] apply theme failed",xe),Be(xe.message||"Erreur lors de l\u2019application du th\xE8me.","error")}finally{q.disabled=!1}}),K(),z(),pe(),Ve(),document.addEventListener("ai-theme-updated",()=>{pe(),Be("Th\xE8me mis \xE0 jour.","success")})}let U=document.querySelector("[data-seo-config-form]");if(U){let w=U.querySelector("[data-seo-index-all]"),T=U.querySelector("[data-seo-config-feedback]"),B=U.querySelector("[data-seo-save]"),M=Te((J==null?void 0:J.slugValue)||te.slug||""),P=M?`/api/sites/${encodeURIComponent(M)}/config/site`:null,R=(S,v="muted")=>{if(!T)return;let A=v==="success"?"text-emerald-600":v==="error"?"text-rose-600":"text-slate-500";T.textContent=S||"",T.className=`text-sm ${A}`},L=async()=>{var S;if(P)try{let v=await fetch(P,{headers:{Accept:"application/json"}});if(!v.ok)return;let q=((S=(await v.json().catch(()=>({}))).seo)==null?void 0:S.indexAllPagesByDefault)!==!1;w&&(w.checked=q)}catch(v){console.error("[settings] load seo config failed",v)}};U.addEventListener("submit",async S=>{var v;if(S.preventDefault(),!P){R("Aucun site actif.","error");return}B&&(B.disabled=!0),R("");try{let A=await fetch(P,{headers:{Accept:"application/json"}}),q=A.ok?await A.json().catch(()=>({})):{},H={...q,seo:{...q.seo||{},indexAllPagesByDefault:(v=w==null?void 0:w.checked)!=null?v:!0}},W=await fetch(P,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(H)}),Y=await W.json().catch(()=>({}));if(!W.ok||Y.success===!1)throw new Error(Y.message||"Sauvegarde impossible.");R(Y.message||"Param\xE8tres SEO enregistr\xE9s.","success")}catch(A){console.error("[settings] save seo config failed",A),R(A.message||"Erreur lors de la sauvegarde.","error")}finally{B&&(B.disabled=!1)}}),L()}let O=document.querySelector("[data-analytics-form]");if(O){let w=O.querySelector("[data-analytics-head]"),T=O.querySelector("[data-analytics-body]"),B=O.querySelector("[data-analytics-feedback]"),M=O.querySelector("[data-analytics-save]"),P=Te((J==null?void 0:J.slugValue)||te.slug||""),R=P?`/api/sites/${encodeURIComponent(P)}/config/site`:null,L=(v,A="muted")=>{if(!B)return;let q=A==="success"?"text-emerald-600":A==="error"?"text-rose-600":"text-slate-500";B.textContent=v||"",B.className=`text-sm ${q}`},S=async()=>{var v,A;if(R)try{let q=await fetch(R,{headers:{Accept:"application/json"}});if(!q.ok)return;let H=await q.json().catch(()=>({}));w&&(w.value=((v=H.analytics)==null?void 0:v.headCode)||""),T&&(T.value=((A=H.analytics)==null?void 0:A.bodyEndCode)||"")}catch(q){console.error("[settings] load analytics config failed",q)}};O.addEventListener("submit",async v=>{if(v.preventDefault(),!R){L("Aucun site actif.","error");return}M&&(M.disabled=!0),L("");try{let A=await fetch(R,{headers:{Accept:"application/json"}}),H={...A.ok?await A.json().catch(()=>({})):{},analytics:{headCode:(w==null?void 0:w.value)||"",bodyEndCode:(T==null?void 0:T.value)||""}},W=await fetch(R,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(H)}),Y=await W.json().catch(()=>({}));if(!W.ok||Y.success===!1)throw new Error(Y.message||"Sauvegarde impossible.");L(Y.message||"Scripts enregistr\xE9s.","success")}catch(A){console.error("[settings] save analytics config failed",A),L(A.message||"Erreur lors de la sauvegarde.","error")}finally{M&&(M.disabled=!1)}}),S()}let ee=document.querySelector("[data-accessibility-form]");if(ee){let w=ee.querySelector("[data-accessibility-animations]"),T=ee.querySelector("[data-accessibility-contrast]"),B=ee.querySelector("[data-accessibility-feedback]"),M=ee.querySelector("[data-accessibility-save]"),P=Te((J==null?void 0:J.slugValue)||te.slug||""),R=P?`/api/sites/${encodeURIComponent(P)}/config/site`:null,L=(v,A="muted")=>{if(!B)return;let q=A==="success"?"text-emerald-600":A==="error"?"text-rose-600":"text-slate-500";B.textContent=v||"",B.className=`text-sm ${q}`},S=async()=>{var v,A;if(R)try{let q=await fetch(R,{headers:{Accept:"application/json"}});if(!q.ok)return;let H=await q.json().catch(()=>({}));w&&(w.checked=((v=H.accessibility)==null?void 0:v.animationsEnabled)!==!1),T&&(T.checked=((A=H.accessibility)==null?void 0:A.highContrast)===!0)}catch(q){console.error("[settings] load accessibility config failed",q)}};ee.addEventListener("submit",async v=>{var A,q;if(v.preventDefault(),!R){L("Aucun site actif.","error");return}M&&(M.disabled=!0),L("");try{let H=await fetch(R,{headers:{Accept:"application/json"}}),Y={...H.ok?await H.json().catch(()=>({})):{},accessibility:{animationsEnabled:(A=w==null?void 0:w.checked)!=null?A:!0,highContrast:(q=T==null?void 0:T.checked)!=null?q:!1}},Z=await fetch(R,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(Y)}),ye=await Z.json().catch(()=>({}));if(!Z.ok||ye.success===!1)throw new Error(ye.message||"Sauvegarde impossible.");L(ye.message||"Pr\xE9f\xE9rences mises \xE0 jour.","success")}catch(H){console.error("[settings] save accessibility config failed",H),L(H.message||"Erreur lors de la sauvegarde.","error")}finally{M&&(M.disabled=!1)}}),S()}let G=document.querySelector("[data-ai-config-form]");if(G){let w=G.querySelector("[data-ai-api-key]"),T=G.querySelector("[data-ai-model]"),B=G.querySelector("[data-ai-project-prompt]"),M=G.querySelector("[data-ai-enabled]"),P=G.querySelector("[data-ai-feedback]"),R=G.querySelector("[data-ai-save]"),L=Te((J==null?void 0:J.slugValue)||te.slug||""),S=L?`/api/sites/${encodeURIComponent(L)}/config/ai`:null,v=(q,H="muted")=>{if(!P)return;let W=H==="success"?"text-emerald-600":H==="error"?"text-rose-600":"text-slate-500";P.textContent=q||"",P.className=`text-sm ${W}`},A=async()=>{if(S)try{let q=await fetch(S,{headers:{Accept:"application/json"}});if(!q.ok)return;let H=await q.json().catch(()=>({}));w&&(w.value="",w.placeholder=H.hasApiKey?"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022":"Cl\xE9 API Gemini"),T&&(T.value=H.model||"gemini-2.5-flash"),B&&(B.value=H.projectPrompt||""),M&&(M.checked=H.enabled!==!1)}catch(q){console.error("[settings] load AI config failed",q)}};G.addEventListener("submit",async q=>{var H,W;if(q.preventDefault(),!S){v("Aucun site actif.","error");return}R&&(R.disabled=!0),v("");try{let Y={model:(T==null?void 0:T.value)||"gemini-2.5-flash",projectPrompt:(B==null?void 0:B.value)||"",enabled:(H=M==null?void 0:M.checked)!=null?H:!0},Z=(W=w==null?void 0:w.value)==null?void 0:W.trim();Z&&(Y.apiKey=Z);let ye=await fetch(S,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(Y)}),Ce=await ye.json().catch(()=>({}));if(!ye.ok||Ce.success===!1)throw new Error(Ce.message||"Sauvegarde impossible.");v(Ce.message||"Configuration IA enregistr\xE9e.","success"),w&&(w.value="",w.placeholder="\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022")}catch(Y){console.error("[settings] save AI config failed",Y),v(Y.message||"Erreur lors de la sauvegarde.","error")}finally{R&&(R.disabled=!1)}}),A()}}function Cn(){let o=document.querySelector("[data-media-grid]");if(!o)return;let n=document.querySelector("[data-media-empty]"),l=document.querySelector("[data-media-count]"),f=document.querySelector("[data-media-filter-type]"),p=document.querySelector("[data-media-detail-empty]"),y=document.querySelector("[data-media-detail]"),V=document.querySelector("[data-media-detail-preview]"),U=document.querySelector("[data-media-detail-name]"),O=document.querySelector("[data-media-detail-type]"),ee=document.querySelector("[data-media-detail-size]"),G=document.querySelector("[data-media-detail-path]"),w=document.querySelector("[data-media-detail-used]"),T=document.querySelector("[data-media-alt-edit]"),B=document.querySelector("[data-media-save]"),M=document.querySelector("[data-media-delete]"),P=document.querySelector("[data-media-delete-modal]"),R=document.querySelector("[data-media-delete-cancel]"),L=document.querySelector("[data-media-delete-confirm]"),S=document.querySelector("[data-media-upload-open]"),v=document.querySelector("[data-media-file-input]"),A=document.querySelector("[data-media-upload-status]"),q=Te((J==null?void 0:J.slugValue)||te.slug||""),H=q?`/api/sites/${encodeURIComponent(q)}/media`:null,W=[],Y=[],Z=null,ye=null,Ce=null,Je=!1,ve=!1,K=!1,Be=null,Ve=h=>{let $=(h.type||"").toLowerCase(),g=(h.filename||"").toLowerCase();return $.includes("image")||/\.(png|jpe?g|webp|svg|gif)$/i.test(g)?"image":$.includes("pdf")||$.includes("doc")||/\.(pdf|docx?)$/i.test(g)?"document":$.includes("video")||/\.(mp4|mov|webm)$/i.test(g)?"video":"other"},I=h=>Ve(h)==="image",k=h=>{if(h.type)return h.type.toUpperCase();let $=(h.filename||"").split(".").pop();return $?$.toUpperCase():"FILE"},z=h=>!h||h<=0?"\u2014":h<1024?`${h} o`:h<1024*1024?`${(h/1024).toFixed(1)} ko`:`${(h/(1024*1024)).toFixed(1)} Mo`,pe=()=>{y==null||y.classList.add("hidden"),p==null||p.classList.remove("hidden"),C(),Z=null,ve=!1,Q(!1),V&&(V.innerHTML='<span class="text-slate-400 text-sm">Aucun m\xE9dia s\xE9lectionn\xE9</span>'),U&&(U.textContent=""),O&&(O.textContent=""),ee&&(ee.textContent=""),T&&(T.value=""),G&&(G.textContent=""),w&&(w.innerHTML="")},C=()=>{Ce=null,K=!1,Je=!1,Be&&(URL.revokeObjectURL(Be),Be=null),A&&(A.textContent="Aucun fichier s\xE9lectionn\xE9."),v&&(v.value="")},x=()=>{l&&(Y.length?Y.length===1?l.textContent="1 m\xE9dia":l.textContent=`${Y.length} m\xE9dias`:l.textContent="0 m\xE9dia")},E=()=>{if(o.innerHTML="",!Y.length){n==null||n.classList.remove("hidden"),pe();return}n==null||n.classList.add("hidden"),Y.forEach(h=>{let $=document.createElement("button");$.type="button",$.dataset.mediaId=h.id;let g=h.id===Z;$.className=["group relative flex flex-col rounded-2xl border px-3 py-3 text-left transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[#9C6BFF]",g?"border-[#9C6BFF] bg-[#F7F0FF]/60 shadow-sm":"border-slate-200 hover:border-[#9C6BFF]/40"].join(" ");let re=I(h)?`<img src="${h.path}" alt="${h.alt||h.filename}" class="h-full w-full object-cover" />`:'<div class="flex h-full w-full items-center justify-center text-3xl text-slate-400">\u{1F4C4}</div>';$.innerHTML=`
          <div class="relative aspect-[4/3] overflow-hidden rounded-xl bg-slate-100">
            ${re}
          </div>
          <div class="mt-2 space-y-1">
            <p class="text-sm font-semibold text-slate-900 truncate">${h.filename}</p>
            <p class="text-xs text-slate-500">
              ${k(h)} \xB7 ${z(h.size)}
            </p>
          </div>
        `,h.id===ye&&($.classList.add("ring-2","ring-[#9C6BFF]"),window.setTimeout(()=>{$.classList.remove("ring-2","ring-[#9C6BFF]")},1600)),$.addEventListener("click",()=>ge(h.id)),o.appendChild($)}),ye=null},oe=h=>{if(w){if(w.innerHTML="",!h.usedIn||h.usedIn.length===0){let $=document.createElement("li");$.textContent="Non utilis\xE9",$.className="text-xs text-slate-400",w.appendChild($);return}h.usedIn.forEach($=>{let g=document.createElement("li");g.textContent=$,g.className="text-xs text-slate-600",w.appendChild(g)})}},Q=h=>{if(B){if(K){B.textContent=h?"T\xE9l\xE9versement\u2026":"T\xE9l\xE9verser",B.disabled=h||!Ce,M&&M.classList.add("hidden");return}B.textContent=h?"Enregistrement\u2026":"Enregistrer",B.disabled=h||!ve,M&&(M.classList.remove("hidden"),M.disabled=!Z)}},ge=h=>{let $=W.find(g=>g.id===h);if(!$){pe(),E();return}C(),Z=$.id,ve=!1,Q(!1),E(),p==null||p.classList.add("hidden"),y==null||y.classList.remove("hidden"),V&&(I($)?V.innerHTML=`<img src="${$.path}" alt="${$.alt||$.filename}" class="h-full w-full rounded-2xl object-cover" />`:V.innerHTML='<div class="flex h-full w-full flex-col items-center justify-center gap-1 text-slate-400"><span class="text-3xl">\u{1F4C4}</span><span class="text-xs font-semibold">Document</span></div>'),U&&(U.textContent=$.filename||"Fichier"),O&&(O.textContent=k($)),ee&&(ee.textContent=z($.size)),T&&(T.value=$.alt||""),G&&(G.textContent=$.path||"\u2014"),oe($)},ne=h=>{if(h){if(K=!0,ve=!1,Z=null,p==null||p.classList.add("hidden"),y==null||y.classList.remove("hidden"),Be&&URL.revokeObjectURL(Be),Be=URL.createObjectURL(h),V&&(V.innerHTML=`<img src="${Be}" alt="${h.name}" class="h-full w-full rounded-2xl object-cover" />`),U&&(U.textContent=h.name),O&&(O.textContent=k({type:h.type,filename:h.name})),ee&&(ee.textContent=z(h.size)),T&&!T.value.trim()&&(T.value=h.name.replace(/\.[^.]+$/,"").replace(/[-_]/g," ")),G&&(G.textContent="En attente de t\xE9l\xE9versement"),w){w.innerHTML="";let $=document.createElement("li");$.textContent="Non utilis\xE9",$.className="text-xs text-slate-400",w.appendChild($)}Q(!1)}},xe=()=>{let h=(f==null?void 0:f.value)||"all";h==="all"?Y=[...W]:Y=W.filter($=>$.groupType===h),Y.some($=>$.id===Z)||pe(),x(),E()},ce=async()=>{if(!H){n==null||n.classList.remove("hidden");return}try{let h=await fetch(H,{headers:{Accept:"application/json"}});if(!h.ok)throw new Error("Impossible de charger les m\xE9dias.");let $=await h.json().catch(()=>({items:[]}));W=Array.isArray($.items)?$.items.map(g=>({...g,groupType:Ve(g)})):[],xe()}catch(h){console.error("[media] load failed",h),j(h.message||"Impossible de charger les m\xE9dias."),W=[],xe()}};f==null||f.addEventListener("change",()=>{xe()}),T==null||T.addEventListener("input",()=>{if(K){Q(!1);return}Z&&(ve=!0,Q(!1))});let He=h=>{if(h){if(!h.type.startsWith("image/")){j("Seules les images sont accept\xE9es pour le moment.");return}if(h.size>4*1024*1024){j("Fichier trop volumineux (4 Mo max).");return}Ce=h,ne(h),A&&(A.textContent=`${h.name} \xB7 ${z(h.size)}`)}},Fe=h=>new Promise(($,g)=>{let re=new FileReader;re.onload=()=>{let $t=re.result||"",[,Xt=""]=String($t).split(",");$(Xt)},re.onerror=()=>g(new Error("Impossible de lire ce fichier.")),re.readAsDataURL(h)}),ke=async()=>{if(!(!Ce||!H)){Je=!0,Q(!0);try{let h=await Fe(Ce),$={filename:Ce.name,type:Ce.type,size:Ce.size,alt:(T==null?void 0:T.value)||"",data:h},g=await fetch(H,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify($)});if(!g.ok){let $t=await g.json().catch(()=>({}));throw new Error($t.message||"Upload impossible.")}let re=await g.json();re.groupType=Ve(re),W=[...W,re],ye=re.id,xe(),ge(re.id),j("M\xE9dia ajout\xE9"),C()}catch(h){console.error("[media] upload failed",h),j(h.message||"Impossible de t\xE9l\xE9verser ce m\xE9dia.")}finally{Je=!1,Ce=null,Q(!1)}}};S==null||S.addEventListener("click",()=>v==null?void 0:v.click()),v==null||v.addEventListener("change",()=>{v.files&&v.files[0]&&He(v.files[0])});let qe=()=>{P&&(P.classList.add("hidden"),P.classList.remove("flex"))},Pe=()=>{if(!(!Z||K)){if(P){P.classList.remove("hidden"),P.classList.add("flex");return}window.confirm("Supprimer ce m\xE9dia ?")&&Dt()}},Dt=async()=>{if(!Z||!H){qe();return}let h=()=>{M&&(M.disabled=!0),L&&(L.disabled=!0,L.textContent="Suppression\u2026")},$=()=>{M&&(M.disabled=!1),L&&(L.disabled=!1,L.textContent="Supprimer")};h();try{let g=await fetch(`${H}/${encodeURIComponent(Z)}`,{method:"DELETE"});if(!g.ok){let re=await g.json().catch(()=>({}));throw new Error(re.message||"Suppression impossible.")}W=W.filter(re=>re.id!==Z),Y=Y.filter(re=>re.id!==Z),j("M\xE9dia supprim\xE9"),pe(),x(),E()}catch(g){console.error("[media] delete failed",g),j(g.message||"Impossible de supprimer ce m\xE9dia.")}finally{$(),qe()}};R==null||R.addEventListener("click",qe),P==null||P.addEventListener("click",h=>{h.target===P&&qe()}),L==null||L.addEventListener("click",()=>Dt()),M==null||M.addEventListener("click",Pe),B==null||B.addEventListener("click",async()=>{if(K){ke();return}if(!(!Z||!H||!T)){Q(!0);try{let h={alt:T.value||""},$=await fetch(`${H}/${encodeURIComponent(Z)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)});if(!$.ok){let re=await $.json().catch(()=>({}));throw new Error(re.message||"Impossible de mettre \xE0 jour ce m\xE9dia.")}let g=await $.json();W=W.map(re=>re.id===Z?{...re,...g}:re),Y=Y.map(re=>re.id===Z?{...re,...g}:re),ve=!1,Q(!1),j("M\xE9dia mis \xE0 jour")}catch(h){console.error("[media] update failed",h),j(h.message||"\xC9chec de la mise \xE0 jour."),Q(!1)}}}),ce()}let jo=document.getElementById("ai-chat-toggle"),ls=document.getElementById("ai-chat-panel"),it=document.getElementById("ai-chat-overlay"),Mo=document.getElementById("ai-chat-close"),Fo=document.getElementById("ai-chat-clear"),No=document.getElementById("ai-chat-form"),It=document.getElementById("ai-chat-input"),Le=document.getElementById("ai-chat-messages"),Ea=document.getElementById("ai-chat-status"),xt=document.getElementById("ai-chat-no-api"),En=document.querySelectorAll("[data-ai-quick]"),eo=!1,Do=!1,vr=!1,qn=!1;function An(){ls&&(eo=!0,ls.classList.remove("translate-x-full"),ls.setAttribute("aria-hidden","false"),it==null||it.classList.remove("opacity-0","pointer-events-none"),it==null||it.classList.add("opacity-100"),document.body.classList.add("overflow-hidden"),It==null||It.focus(),vr||Tn())}function to(){ls&&(eo=!1,ls.classList.add("translate-x-full"),ls.setAttribute("aria-hidden","true"),it==null||it.classList.add("opacity-0","pointer-events-none"),it==null||it.classList.remove("opacity-100"),document.body.classList.remove("overflow-hidden"))}async function Tn(){let o=Te(te.slug||"");if(!o){xt==null||xt.classList.remove("hidden");return}try{let n=await fetch(`/api/sites/${encodeURIComponent(o)}/config/ai`);if(!n.ok)throw new Error("Config check failed");let l=await n.json();vr=!0,qn=l.hasApiKey,!l.enabled||!l.hasApiKey?xt==null||xt.classList.remove("hidden"):(xt==null||xt.classList.add("hidden"),In())}catch(n){console.error("[AI] Config check failed:",n),xt==null||xt.classList.remove("hidden")}}async function In(){let o=Te(te.slug||"");if(!(!o||!Le))try{let n=await fetch(`/api/sites/${encodeURIComponent(o)}/ai/history`);if(!n.ok)return;let l=await n.json();if(l.messages&&l.messages.length>0){let f=Le.querySelector("[data-ai-welcome]");f&&f.remove(),l.messages.forEach(p=>{so(p.content,p.role==="user"?"user":"assistant")}),Le.scrollTop=Le.scrollHeight}}catch(n){console.error("[AI] History load failed:",n)}}function so(o,n="assistant"){if(!Le)return;let l=document.createElement("div");if(l.className="flex gap-3",n==="user")l.innerHTML=`
        <div class="flex-1"></div>
        <div class="max-w-[80%] bg-violet-600 text-white rounded-2xl rounded-tr-none p-3">
          <p class="text-sm whitespace-pre-wrap">${pt(o)}</p>
        </div>
        <div class="w-8 h-8 rounded-full bg-slate-200 flex-shrink-0 flex items-center justify-center">
          <svg class="w-4 h-4 text-slate-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
          </svg>
        </div>
      `;else{let f=Bn(o);l.innerHTML=`
        <div class="w-8 h-8 rounded-full bg-gradient-to-br from-violet-500 to-indigo-600 flex-shrink-0 flex items-center justify-center">
          <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
          </svg>
        </div>
        <div class="flex-1 bg-slate-50 rounded-2xl rounded-tl-none p-3 overflow-x-auto">
          <div class="text-sm text-slate-700 prose prose-sm max-w-none [&>pre]:bg-slate-800 [&>pre]:text-slate-100 [&>pre]:rounded-lg [&>pre]:p-3 [&>pre]:overflow-x-auto [&>code]:bg-slate-200 [&>code]:px-1 [&>code]:rounded">${f}</div>
        </div>
      `}Le.appendChild(l),Le.scrollTop=Le.scrollHeight}function $n(){if(!Le)return;let o=document.createElement("div");o.className="flex gap-3",o.id="ai-loading-indicator",o.innerHTML=`
      <div class="w-8 h-8 rounded-full bg-gradient-to-br from-violet-500 to-indigo-600 flex-shrink-0 flex items-center justify-center">
        <svg class="w-4 h-4 text-white animate-pulse" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
        </svg>
      </div>
      <div class="flex-1 bg-slate-50 rounded-2xl rounded-tl-none p-3">
        <div class="flex items-center gap-2">
          <div class="w-2 h-2 bg-violet-400 rounded-full animate-bounce" style="animation-delay: 0ms"></div>
          <div class="w-2 h-2 bg-violet-400 rounded-full animate-bounce" style="animation-delay: 150ms"></div>
          <div class="w-2 h-2 bg-violet-400 rounded-full animate-bounce" style="animation-delay: 300ms"></div>
        </div>
      </div>
    `,Le.appendChild(o),Le.scrollTop=Le.scrollHeight}function xr(){let o=document.getElementById("ai-loading-indicator");o==null||o.remove()}function Bn(o){if(!o)return"";let n=pt(o);return n=n.replace(/```(\w*)\n([\s\S]*?)```/g,(l,f,p)=>`<pre class="language-${f||"text"}"><code>${p.trim()}</code></pre>`),n=n.replace(/`([^`]+)`/g,"<code>$1</code>"),n=n.replace(/\*\*([^*]+)\*\*/g,"<strong>$1</strong>"),n=n.replace(/\*([^*]+)\*/g,"<em>$1</em>"),n=n.replace(/^### (.+)$/gm,'<h4 class="font-semibold text-slate-900 mt-3 mb-1">$1</h4>'),n=n.replace(/^## (.+)$/gm,'<h3 class="font-semibold text-slate-900 mt-3 mb-1">$1</h3>'),n=n.replace(/^# (.+)$/gm,'<h2 class="font-bold text-slate-900 mt-3 mb-2">$1</h2>'),n=n.replace(/^- (.+)$/gm,'<li class="ml-4">$1</li>'),n=n.replace(/^(\d+)\. (.+)$/gm,'<li class="ml-4">$2</li>'),n=n.replace(/\n\n/g,'</p><p class="mb-2">'),n='<p class="mb-2">'+n+"</p>",n=n.replace(/<p class="mb-2"><\/p>/g,""),n}function pt(o){let n=document.createElement("div");return n.textContent=o,n.innerHTML}async function wr(o){let n=Te(te.slug||"");if(!o||!n||Do)return;Do=!0,It.disabled=!0;let l=Le==null?void 0:Le.querySelector("[data-ai-welcome]");l&&l.remove(),so(o,"user"),$n();try{let f=await fetch(`/api/sites/${encodeURIComponent(n)}/ai/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:o})});if(xr(),!f.ok){let y=await f.json().catch(()=>({}));throw new Error(y.message||"Erreur de communication")}let p=await f.json();p.response&&so(p.response,"assistant"),p.editProposal&&Pn(p.editProposal),p.themeProposal&&jn(p.themeProposal)}catch(f){xr(),so(`\u274C Erreur: ${f.message}`,"assistant")}finally{Do=!1,It.disabled=!1,It.focus()}}function Pn(o){var f,p;if(!Le||!o)return;let n=document.createElement("div");n.className="flex gap-3 mt-2",n.dataset.proposalId=o.proposalId;let l="";if(o.changes&&(o.changes.title&&(l+=`<li>Titre \u2192 <strong>${pt(o.changes.title)}</strong></li>`),o.changes.description&&(l+=`<li>Description \u2192 ${pt(o.changes.description.substring(0,80))}...</li>`),o.changes.seo&&(o.changes.seo.metaTitle&&(l+=`<li>Meta title \u2192 ${pt(o.changes.seo.metaTitle)}</li>`),o.changes.seo.metaDescription&&(l+=`<li>Meta description \u2192 ${pt(o.changes.seo.metaDescription.substring(0,60))}...</li>`)),o.changes.blockUpdate&&(l+=`<li>Bloc "${o.changes.blockUpdate.blockId}" modifi\xE9</li>`,o.changes.blockUpdate.settings))){let y=o.changes.blockUpdate.settings;y.title&&(l+=`<li class="ml-4">\u2192 title: ${pt(y.title)}</li>`),y.content&&(l+='<li class="ml-4">\u2192 content modifi\xE9</li>')}n.innerHTML=`
      <div class="w-8 h-8 rounded-full bg-amber-500 flex-shrink-0 flex items-center justify-center">
        <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"/>
        </svg>
      </div>
      <div class="flex-1 bg-amber-50 border border-amber-200 rounded-2xl rounded-tl-none p-4">
        <div class="flex items-center gap-2 mb-2">
          <span class="text-xs font-semibold text-amber-700 bg-amber-100 px-2 py-0.5 rounded">Proposition d'\xE9dition</span>
        </div>
        <p class="text-sm font-medium text-slate-800 mb-1">Page : ${pt(o.pageTitle||o.pageId)}</p>
        ${o.reason?`<p class="text-sm text-slate-600 mb-2">${pt(o.reason)}</p>`:""}
        <ul class="text-xs text-slate-600 space-y-1 mb-3 list-disc ml-4">
          ${l||"<li>Modifications propos\xE9es</li>"}
        </ul>
        <div class="flex gap-2">
          <button 
            class="ai-apply-edit px-3 py-1.5 text-xs font-medium text-white bg-emerald-600 hover:bg-emerald-700 rounded-lg transition-colors flex items-center gap-1"
            data-proposal-id="${o.proposalId}"
          >
            <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
            </svg>
            Appliquer
          </button>
          <button 
            class="ai-reject-edit px-3 py-1.5 text-xs font-medium text-slate-600 bg-slate-100 hover:bg-slate-200 rounded-lg transition-colors flex items-center gap-1"
            data-proposal-id="${o.proposalId}"
          >
            <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
            </svg>
            Rejeter
          </button>
        </div>
      </div>
    `,Le.appendChild(n),Le.scrollTop=Le.scrollHeight,(f=n.querySelector(".ai-apply-edit"))==null||f.addEventListener("click",Nn),(p=n.querySelector(".ai-reject-edit"))==null||p.addEventListener("click",Sr)}function jn(o){var p,y,V,U;if(!Le||!o)return;let n=document.createElement("div");n.className="flex gap-3 mt-2",n.dataset.proposalId=o.proposalId;let l="";if((p=o.changes)!=null&&p.colors){let O=o.changes.colors;for(let[ee,G]of Object.entries(O))l+=`<li class="flex items-center gap-2">
          <span class="w-4 h-4 rounded border border-slate-300" style="background: ${Mn(G)}"></span>
          <span>${ee}: <strong>${pt(G)}</strong></span>
        </li>`}let f="";if((y=o.changes)!=null&&y.typography){let O=o.changes.typography;O.headings&&(f+=`<li>Titres \u2192 <strong>${pt(O.headings)}</strong></li>`),O.body&&(f+=`<li>Textes \u2192 <strong>${pt(O.body)}</strong></li>`)}n.innerHTML=`
      <div class="w-8 h-8 rounded-full bg-purple-500 flex-shrink-0 flex items-center justify-center">
        <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"/>
        </svg>
      </div>
      <div class="flex-1 bg-purple-50 border border-purple-200 rounded-2xl rounded-tl-none p-4">
        <div class="flex items-center gap-2 mb-2">
          <span class="text-xs font-semibold text-purple-700 bg-purple-100 px-2 py-0.5 rounded">Modification du th\xE8me</span>
        </div>
        ${o.reason?`<p class="text-sm text-slate-600 mb-3">${pt(o.reason)}</p>`:""}
        ${l?`
          <p class="text-xs font-medium text-slate-700 mb-1">Couleurs :</p>
          <ul class="text-xs text-slate-600 space-y-1 mb-3">${l}</ul>
        `:""}
        ${f?`
          <p class="text-xs font-medium text-slate-700 mb-1">Typographies :</p>
          <ul class="text-xs text-slate-600 space-y-1 mb-3 list-disc ml-4">${f}</ul>
        `:""}
        <div class="flex gap-2">
          <button 
            class="ai-apply-theme px-3 py-1.5 text-xs font-medium text-white bg-purple-600 hover:bg-purple-700 rounded-lg transition-colors flex items-center gap-1"
            data-proposal-id="${o.proposalId}"
          >
            <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
            </svg>
            Appliquer
          </button>
          <button 
            class="ai-reject-theme px-3 py-1.5 text-xs font-medium text-slate-600 bg-slate-100 hover:bg-slate-200 rounded-lg transition-colors flex items-center gap-1"
            data-proposal-id="${o.proposalId}"
          >
            <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
            </svg>
            Rejeter
          </button>
        </div>
      </div>
    `,Le.appendChild(n),Le.scrollTop=Le.scrollHeight,(V=n.querySelector(".ai-apply-theme"))==null||V.addEventListener("click",Fn),(U=n.querySelector(".ai-reject-theme"))==null||U.addEventListener("click",Sr)}function Mn(o){return{white:"#ffffff",black:"#000000",transparent:"transparent","slate-50":"#f8fafc","slate-100":"#f1f5f9","slate-200":"#e2e8f0","slate-300":"#cbd5e1","slate-400":"#94a3b8","slate-500":"#64748b","slate-600":"#475569","slate-700":"#334155","slate-800":"#1e293b","slate-900":"#0f172a","gray-50":"#f9fafb","gray-100":"#f3f4f6","gray-200":"#e5e7eb","gray-300":"#d1d5db","gray-400":"#9ca3af","gray-500":"#6b7280","gray-600":"#4b5563","gray-700":"#374151","gray-800":"#1f2937","gray-900":"#111827","violet-50":"#f5f3ff","violet-100":"#ede9fe","violet-200":"#ddd6fe","violet-300":"#c4b5fd","violet-400":"#a78bfa","violet-500":"#8b5cf6","violet-600":"#7c3aed","violet-700":"#6d28d9","violet-800":"#5b21b6","violet-900":"#4c1d95","purple-50":"#faf5ff","purple-100":"#f3e8ff","purple-200":"#e9d5ff","purple-300":"#d8b4fe","purple-400":"#c084fc","purple-500":"#a855f7","purple-600":"#9333ea","purple-700":"#7e22ce","purple-800":"#6b21a8","purple-900":"#581c87","blue-50":"#eff6ff","blue-100":"#dbeafe","blue-200":"#bfdbfe","blue-300":"#93c5fd","blue-400":"#60a5fa","blue-500":"#3b82f6","blue-600":"#2563eb","blue-700":"#1d4ed8","blue-800":"#1e40af","blue-900":"#1e3a8a","emerald-50":"#ecfdf5","emerald-100":"#d1fae5","emerald-200":"#a7f3d0","emerald-300":"#6ee7b7","emerald-400":"#34d399","emerald-500":"#10b981","emerald-600":"#059669","emerald-700":"#047857","emerald-800":"#065f46","emerald-900":"#064e3b","teal-50":"#f0fdfa","teal-100":"#ccfbf1","teal-200":"#99f6e4","teal-300":"#5eead4","teal-400":"#2dd4bf","teal-500":"#14b8a6","teal-600":"#0d9488","teal-700":"#0f766e","teal-800":"#115e59","teal-900":"#134e4a","amber-50":"#fffbeb","amber-100":"#fef3c7","amber-200":"#fde68a","amber-300":"#fcd34d","amber-400":"#fbbf24","amber-500":"#f59e0b","amber-600":"#d97706","amber-700":"#b45309","amber-800":"#92400e","amber-900":"#78350f","red-50":"#fef2f2","red-100":"#fee2e2","red-200":"#fecaca","red-300":"#fca5a5","red-400":"#f87171","red-500":"#ef4444","red-600":"#dc2626","red-700":"#b91c1c","red-800":"#991b1b","red-900":"#7f1d1d"}[o]||"#9C6BFF"}async function Fn(o){var p;let n=(p=o.target.closest("[data-proposal-id]"))==null?void 0:p.dataset.proposalId,l=Te(te.slug||"");if(!n||!l)return;let f=o.target.closest("button");f.disabled=!0,f.innerHTML='<span class="animate-spin">\u23F3</span> Application...';try{let y=await fetch(`/api/sites/${encodeURIComponent(l)}/ai/apply-theme`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({proposalId:n})}),V=await y.json();if(y.ok&&V.success){let U=document.querySelector(`[data-proposal-id="${n}"]`);U&&(U.innerHTML=`
            <div class="w-8 h-8 rounded-full bg-purple-500 flex-shrink-0 flex items-center justify-center">
              <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
              </svg>
            </div>
            <div class="flex-1 bg-purple-50 border border-purple-200 rounded-2xl rounded-tl-none p-3">
              <p class="text-sm text-purple-700">\u2705 Th\xE8me mis \xE0 jour avec succ\xE8s !</p>
              <p class="text-xs text-purple-600 mt-1">Rechargez la preview pour voir les changements.</p>
            </div>
          `),j("Th\xE8me mis \xE0 jour !"),document.dispatchEvent(new CustomEvent("ai-theme-updated",{detail:{updatedTheme:V.updatedTheme}}))}else throw new Error(V.message||"Erreur lors de l'application")}catch(y){f.disabled=!1,f.innerHTML='<svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg> R\xE9essayer',j(`Erreur: ${y.message}`)}}async function Nn(o){var p,y;let n=(p=o.target.closest("[data-proposal-id]"))==null?void 0:p.dataset.proposalId,l=Te(te.slug||"");if(!n||!l)return;let f=o.target.closest("button");f.disabled=!0,f.innerHTML='<span class="animate-spin">\u23F3</span> Application...';try{let V=await fetch(`/api/sites/${encodeURIComponent(l)}/ai/apply-edit`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({proposalId:n})}),U=await V.json();if(V.ok&&U.success){let O=document.querySelector(`[data-proposal-id="${n}"]`);O&&(O.innerHTML=`
            <div class="w-8 h-8 rounded-full bg-emerald-500 flex-shrink-0 flex items-center justify-center">
              <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
              </svg>
            </div>
            <div class="flex-1 bg-emerald-50 border border-emerald-200 rounded-2xl rounded-tl-none p-3">
              <p class="text-sm text-emerald-700">\u2705 Modifications appliqu\xE9es avec succ\xE8s !</p>
              <p class="text-xs text-emerald-600 mt-1">La preview se met \xE0 jour automatiquement.</p>
            </div>
          `),j("Modifications appliqu\xE9es !");let ee=((y=U.updatedPage)==null?void 0:y.id)||null;document.dispatchEvent(new CustomEvent("ai-page-updated",{detail:{pageId:ee,updatedPage:U.updatedPage}}))}else throw new Error(U.message||"Erreur lors de l'application")}catch(V){f.disabled=!1,f.innerHTML='<svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg> R\xE9essayer',j(`Erreur: ${V.message}`)}}async function Sr(o){var f;let n=(f=o.target.closest("[data-proposal-id]"))==null?void 0:f.dataset.proposalId,l=Te(te.slug||"");if(!(!n||!l))try{await fetch(`/api/sites/${encodeURIComponent(l)}/ai/proposal/${n}`,{method:"DELETE"});let p=document.querySelector(`[data-proposal-id="${n}"]`);p&&(p.innerHTML=`
          <div class="w-8 h-8 rounded-full bg-slate-400 flex-shrink-0 flex items-center justify-center">
            <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
            </svg>
          </div>
          <div class="flex-1 bg-slate-100 rounded-2xl rounded-tl-none p-3">
            <p class="text-sm text-slate-500">Proposition rejet\xE9e.</p>
          </div>
        `)}catch(p){console.error("[AI] Reject edit error:",p)}}async function Dn(){let o=Te(te.slug||"");if(!(!o||!Le))try{await fetch(`/api/sites/${encodeURIComponent(o)}/ai/history`,{method:"DELETE"}),Le.innerHTML="",Le.innerHTML=`
        <div class="flex gap-3" data-ai-welcome>
          <div class="w-8 h-8 rounded-full bg-gradient-to-br from-violet-500 to-indigo-600 flex-shrink-0 flex items-center justify-center">
            <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
            </svg>
          </div>
          <div class="flex-1 bg-slate-50 rounded-2xl rounded-tl-none p-3">
            <p class="text-sm text-slate-700">
              Salut ! \u{1F44B} Je suis ton assistant IA pour ce site. Je peux t'aider \xE0 :
            </p>
            <ul class="mt-2 text-sm text-slate-600 space-y-1">
              <li>\u{1F3A8} Sugg\xE9rer des palettes de couleurs</li>
              <li>\u270D\uFE0F G\xE9n\xE9rer du contenu pour tes blocs</li>
              <li>\u{1F4C4} Cr\xE9er des structures de pages</li>
              <li>\u{1F50D} Am\xE9liorer ton SEO</li>
              <li>\u270F\uFE0F <strong>Analyser et modifier tes pages</strong> (avec validation)</li>
            </ul>
          </div>
        </div>
      `,j("Historique effac\xE9")}catch(n){console.error("[AI] Clear history failed:",n),j("Erreur lors de l'effacement")}}let Hn={colors:"Sugg\xE8re-moi 3 palettes de couleurs harmonieuses pour mon site. Pour chaque palette, donne les couleurs Tailwind: primary, secondary, accent, et background.",hero:"G\xE9n\xE8re un bloc Hero en JSON avec un titre accrocheur, un sous-titre engageant et un CTA.",seo:"Analyse mon site et sugg\xE8re des am\xE9liorations SEO pour le meta title et la meta description de ma page d'accueil.",landing:"G\xE9n\xE8re la structure JSON d'une landing page compl\xE8te avec: Hero, 3 sections de contenu, et un CTA final.",analyze:"Analyse le contenu de toutes mes pages et propose des am\xE9liorations concr\xE8tes. Pour chaque suggestion d'am\xE9lioration de texte ou de structure, utilise le format propose-edit pour que je puisse valider.",improveHome:"Analyse ma page d'accueil et propose une am\xE9lioration du titre ou du Hero pour le rendre plus impactant. Utilise le format propose-edit."};jo==null||jo.addEventListener("click",()=>{eo?to():An()}),Mo==null||Mo.addEventListener("click",to),it==null||it.addEventListener("click",to),Fo==null||Fo.addEventListener("click",()=>{confirm("Effacer tout l'historique de conversation ?")&&Dn()}),No==null||No.addEventListener("submit",o=>{var l;o.preventDefault();let n=(l=It==null?void 0:It.value)==null?void 0:l.trim();n&&(It.value="",wr(n))}),En.forEach(o=>{o.addEventListener("click",()=>{let n=o.dataset.aiQuick,l=Hn[n];l&&wr(l)})}),document.addEventListener("keydown",o=>{o.key==="Escape"&&eo&&to()})});})();
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vY29yZS9zY3JpcHRzL2FkbWluLmpzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuICBjb25zb2xlLmxvZygnW2FkbWluXSBBdGVsaWVyIGNoYXJnXHUwMEU5Jyk7XG4gIGNvbnN0IGxvZ291dEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWxvZ291dF0nKTtcbiAgaWYgKGxvZ291dEJ1dHRvbikge1xuICAgIGxvZ291dEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGxvZ291dEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBmZXRjaCgnL2FwaS9sb2dvdXQnLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbYWRtaW5dIEltcG9zc2libGUgZGUgc2UgZFx1MDBFOWNvbm5lY3RlcicsIGVycik7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvYWRtaW4vaW5kZXguaHRtbCc7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBjb25zdCBzaWRlYmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRtaW4tc2lkZWJhcl0nKTtcbiAgY29uc3Qgc2lkZWJhck92ZXJsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZG1pbi1zaWRlYmFyLW92ZXJsYXldJyk7XG4gIGNvbnN0IHNpZGViYXJUb2dnbGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYWRtaW4tc2lkZWJhci10b2dnbGVdJyk7XG4gIGNvbnN0IHNpZGViYXJDbG9zZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1hZG1pbi1zaWRlYmFyLWNsb3NlXScpO1xuICBjb25zdCBib2R5ID0gZG9jdW1lbnQuYm9keTtcbiAgbGV0IHNpZGViYXJPcGVuID0gZmFsc2U7XG5cbiAgY29uc3QgYXBwbHlTaWRlYmFyU3RhdGUgPSAoKSA9PiB7XG4gICAgaWYgKCFzaWRlYmFyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGlzRGVza3RvcCA9IHdpbmRvdy5tYXRjaE1lZGlhKCcobWluLXdpZHRoOiAxMDI0cHgpJykubWF0Y2hlcztcbiAgICBpZiAoaXNEZXNrdG9wKSB7XG4gICAgICBzaWRlYmFyLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgc2lkZWJhck92ZXJsYXk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHNpZGViYXJPcGVuKSB7XG4gICAgICBzaWRlYmFyLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgc2lkZWJhck92ZXJsYXk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgYm9keS5jbGFzc0xpc3QuYWRkKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2lkZWJhci5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIHNpZGViYXJPdmVybGF5Py5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnb3ZlcmZsb3ctaGlkZGVuJyk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IG9wZW5TaWRlYmFyID0gKCkgPT4ge1xuICAgIHNpZGViYXJPcGVuID0gdHJ1ZTtcbiAgICBhcHBseVNpZGViYXJTdGF0ZSgpO1xuICB9O1xuXG4gIGNvbnN0IGNsb3NlU2lkZWJhciA9ICgpID0+IHtcbiAgICBzaWRlYmFyT3BlbiA9IGZhbHNlO1xuICAgIGFwcGx5U2lkZWJhclN0YXRlKCk7XG4gIH07XG5cbiAgaWYgKHNpZGViYXIgJiYgc2lkZWJhclRvZ2dsZXMubGVuZ3RoID4gMCkge1xuICAgIHNpZGViYXJUb2dnbGVzLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlblNpZGViYXIpO1xuICAgIH0pO1xuICAgIHNpZGViYXJDbG9zZUJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZVNpZGViYXIpO1xuICAgIH0pO1xuICAgIHNpZGViYXJPdmVybGF5Py5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlU2lkZWJhcik7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGFwcGx5U2lkZWJhclN0YXRlKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VzY2FwZScgJiYgc2lkZWJhck9wZW4pIHtcbiAgICAgICAgY2xvc2VTaWRlYmFyKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgYXBwbHlTaWRlYmFyU3RhdGUoKTtcbiAgfVxuXG4gIGNvbnN0IEFDVElWRV9TSVRFX0tFWSA9ICdjbG93ZXI6Y3VycmVudFNpdGUnO1xuICBjb25zdCBBQ1RJVkVfU0lURV9OQU1FX0tFWSA9ICdjbG93ZXI6Y3VycmVudFNpdGVOYW1lJztcbiAgY29uc3Qgc3RvcmVkU2l0ZSA9IHsgc2x1ZzogbnVsbCwgbmFtZTogJycgfTtcbiAgY29uc3QgbG9hZFN0b3JlZFNpdGUgPSAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJhd1NsdWcgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oQUNUSVZFX1NJVEVfS0VZKTtcbiAgICAgIHN0b3JlZFNpdGUuc2x1ZyA9IHJhd1NsdWcgPyBlbnN1cmVMZWFkaW5nU2xhc2goc3RyaXBMZWFkaW5nU2xhc2gocmF3U2x1ZykpIDogbnVsbDtcbiAgICAgIHN0b3JlZFNpdGUubmFtZSA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShBQ1RJVkVfU0lURV9OQU1FX0tFWSkgfHwgJyc7XG4gICAgfSBjYXRjaCB7XG4gICAgICBzdG9yZWRTaXRlLnNsdWcgPSBudWxsO1xuICAgICAgc3RvcmVkU2l0ZS5uYW1lID0gJyc7XG4gICAgfVxuICB9O1xuICBsb2FkU3RvcmVkU2l0ZSgpO1xuXG4gIGNvbnN0IHNpdGVDYXJkcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXNpdGUtY2FyZF0nKTtcbiAgY29uc3Qgc2l0ZVNlbGVjdEJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1zaXRlLXNlbGVjdF0nKTtcbiAgY29uc3Qgc2l0ZU5hbWVMYWJlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWN1cnJlbnQtc2l0ZS1uYW1lXScpO1xuICBjb25zdCB3b3Jrc3BhY2VTaXRlTGFiZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS13b3Jrc3BhY2Utc2l0ZS1uYW1lXScpO1xuICBjb25zdCB3b3Jrc3BhY2VCYWNrTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXdvcmtzcGFjZS1iYWNrLW5hbWVdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZUJhY2tNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXdvcmtzcGFjZS1iYWNrLW1vZGFsXScpO1xuICBjb25zdCB3b3Jrc3BhY2VCYWNrQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXdvcmtzcGFjZS1iYWNrXScpO1xuICBjb25zdCB3b3Jrc3BhY2VCYWNrQ2FuY2VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtd29ya3NwYWNlLWJhY2stY2FuY2VsXScpO1xuICBjb25zdCB3b3Jrc3BhY2VCYWNrQ29uZmlybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXdvcmtzcGFjZS1iYWNrLWNvbmZpcm1dJyk7XG4gIGNvbnN0IHdvcmtzcGFjZU5hdkxpbmtzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtd29ya3NwYWNlLXRhYl0nKTtcbiAgY29uc3Qgc2l0ZVRvYXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS10b2FzdF0nKTtcbiAgY29uc3Qgc2l0ZVRvYXN0TWVzc2FnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtdG9hc3QtbWVzc2FnZV0nKTtcbiAgY29uc3Qgc2l0ZUNyZWF0ZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1zaXRlLWNyZWF0ZV0nKTtcbiAgY29uc3Qgc2l0ZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS1tb2RhbF0nKTtcbiAgY29uc3Qgc2l0ZUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLWZvcm1dJyk7XG4gIC8vIFVzZSBtb3JlIHNwZWNpZmljIHNlbGVjdG9ycyB0byBnZXQgaW5wdXRzIElOU0lERSB0aGUgZm9ybSwgbm90IHNpdGUgY2FyZHNcbiAgY29uc3Qgc2l0ZU5hbWVJbnB1dCA9IHNpdGVGb3JtPy5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPVwic2l0ZU5hbWVcIl0nKTtcbiAgY29uc3Qgc2l0ZVNsdWdJbnB1dCA9IHNpdGVGb3JtPy5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPVwic2l0ZVNsdWdcIl0nKTtcbiAgY29uc3Qgc2l0ZVNsdWdFcnJvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtc2x1Zy1lcnJvcl0nKTtcbiAgY29uc3Qgc2l0ZU1vZGFsRXJyb3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLW1vZGFsLWVycm9yXScpO1xuICBjb25zdCBzaXRlTW9kYWxDYW5jZWxCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtc2l0ZS1tb2RhbC1jYW5jZWxdJyk7XG4gIGNvbnN0IHNpdGVNb2RhbFN1Ym1pdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtbW9kYWwtc3VibWl0XScpO1xuICBjb25zdCB3b3Jrc3BhY2VDb250ZXh0ID0gZ2V0V29ya3NwYWNlQ29udGV4dCgpO1xuICBsZXQgc2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gIGxldCB0b2FzdFRpbWVvdXRJZCA9IG51bGw7XG5cbiAgY29uc3QgZm9jdXNhYmxlU2VsZWN0b3IgPVxuICAgICdhW2hyZWZdLCBidXR0b246bm90KFtkaXNhYmxlZF0pLCB0ZXh0YXJlYSwgaW5wdXQsIHNlbGVjdCwgW3RhYmluZGV4XTpub3QoW3RhYmluZGV4PVwiLTFcIl0pJztcbiAgY29uc3QgbW9kYWxTdGFjayA9IFtdO1xuICBjb25zdCBnZXRGb2N1c2FibGVFbGVtZW50cyA9IChtb2RhbCkgPT5cbiAgICBBcnJheS5mcm9tKG1vZGFsLnF1ZXJ5U2VsZWN0b3JBbGwoZm9jdXNhYmxlU2VsZWN0b3IpKS5maWx0ZXIoXG4gICAgICAoZWwpID0+ICFlbC5oYXNBdHRyaWJ1dGUoJ2Rpc2FibGVkJykgJiYgIWVsLmdldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nKSxcbiAgICApO1xuICBjb25zdCBoYW5kbGVNb2RhbEtleWRvd24gPSAoZXZlbnQpID0+IHtcbiAgICBpZiAoIW1vZGFsU3RhY2subGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGN1cnJlbnRFbnRyeSA9IG1vZGFsU3RhY2tbbW9kYWxTdGFjay5sZW5ndGggLSAxXTtcbiAgICBjb25zdCB7IG1vZGFsLCBvbkNsb3NlIH0gPSBjdXJyZW50RW50cnk7XG4gICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBvbkNsb3NlPy4oKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGV2ZW50LmtleSAhPT0gJ1RhYicpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZm9jdXNhYmxlRWxlbWVudHMgPSBnZXRGb2N1c2FibGVFbGVtZW50cyhtb2RhbCk7XG4gICAgaWYgKCFmb2N1c2FibGVFbGVtZW50cy5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZmlyc3QgPSBmb2N1c2FibGVFbGVtZW50c1swXTtcbiAgICBjb25zdCBsYXN0ID0gZm9jdXNhYmxlRWxlbWVudHNbZm9jdXNhYmxlRWxlbWVudHMubGVuZ3RoIC0gMV07XG4gICAgaWYgKGV2ZW50LnNoaWZ0S2V5KSB7XG4gICAgICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gZmlyc3QpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgbGFzdC5mb2N1cygpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gbGFzdCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGZpcnN0LmZvY3VzKCk7XG4gICAgfVxuICB9O1xuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlTW9kYWxLZXlkb3duKTtcbiAgY29uc3QgYWN0aXZhdGVNb2RhbCA9IChtb2RhbCwgb25DbG9zZSkgPT4ge1xuICAgIGlmICghbW9kYWwpIHJldHVybjtcbiAgICBtb2RhbFN0YWNrLnB1c2goe1xuICAgICAgbW9kYWwsXG4gICAgICBvbkNsb3NlLFxuICAgICAgdHJpZ2dlcjogZG9jdW1lbnQuYWN0aXZlRWxlbWVudCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ID8gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA6IG51bGwsXG4gICAgfSk7XG4gICAgY29uc3QgZm9jdXNhYmxlID0gZ2V0Rm9jdXNhYmxlRWxlbWVudHMobW9kYWwpO1xuICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIChmb2N1c2FibGVbMF0gfHwgbW9kYWwpLmZvY3VzPy4oKTtcbiAgICB9LCAwKTtcbiAgfTtcbiAgY29uc3QgZGVhY3RpdmF0ZU1vZGFsID0gKG1vZGFsKSA9PiB7XG4gICAgY29uc3QgaW5kZXggPSBtb2RhbFN0YWNrLmZpbmRJbmRleCgoZW50cnkpID0+IGVudHJ5Lm1vZGFsID09PSBtb2RhbCk7XG4gICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBbZW50cnldID0gbW9kYWxTdGFjay5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIGVudHJ5LnRyaWdnZXI/LmZvY3VzPy4oKTtcbiAgfTtcbiAgY29uc3QgbW9iaWxlUGFuZWxPdmVybGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbW9iaWxlLXBhbmVscy1vdmVybGF5XScpO1xuICBjb25zdCBtb2JpbGVQYW5lbExheWVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbW9iaWxlLXBhbmVscy1sYXllcl0nKTtcbiAgY29uc3QgbW9iaWxlUGFuZWxzID0ge1xuICAgIGxlZnQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1vYmlsZS1wYW5lbD1cImxlZnRcIl0nKSxcbiAgICByaWdodDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbW9iaWxlLXBhbmVsPVwicmlnaHRcIl0nKSxcbiAgfTtcbiAgbGV0IG1vYmlsZVBhbmVsTGF5ZXJQbGFjZWhvbGRlciA9IG51bGw7XG4gIGlmIChtb2JpbGVQYW5lbExheWVyPy5wYXJlbnRFbGVtZW50KSB7XG4gICAgbW9iaWxlUGFuZWxMYXllclBsYWNlaG9sZGVyID0gZG9jdW1lbnQuY3JlYXRlQ29tbWVudCgnbW9iaWxlLXBhbmVscy1sYXllci1wbGFjZWhvbGRlcicpO1xuICAgIG1vYmlsZVBhbmVsTGF5ZXIucGFyZW50RWxlbWVudC5pbnNlcnRCZWZvcmUobW9iaWxlUGFuZWxMYXllclBsYWNlaG9sZGVyLCBtb2JpbGVQYW5lbExheWVyKTtcbiAgfVxuICBsZXQgcmlnaHRQYW5lbFBsYWNlaG9sZGVyID0gbnVsbDtcbiAgaWYgKG1vYmlsZVBhbmVscy5yaWdodD8ucGFyZW50RWxlbWVudCkge1xuICAgIHJpZ2h0UGFuZWxQbGFjZWhvbGRlciA9IGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoJ21vYmlsZS1wYW5lbC1yaWdodC1wbGFjZWhvbGRlcicpO1xuICAgIG1vYmlsZVBhbmVscy5yaWdodC5wYXJlbnRFbGVtZW50Lmluc2VydEJlZm9yZShyaWdodFBhbmVsUGxhY2Vob2xkZXIsIG1vYmlsZVBhbmVscy5yaWdodCk7XG4gIH1cbiAgY29uc3QgbW9iaWxlUGFuZWxUb2dnbGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtbW9iaWxlLXBhbmVsLXRvZ2dsZV0nKTtcbiAgY29uc3QgbW9iaWxlUGFuZWxDbG9zZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1tb2JpbGUtcGFuZWwtY2xvc2VdJyk7XG4gIGNvbnN0IG1vYmlsZVBhbmVsVHJpZ2dlcnMgPSB7IGxlZnQ6IG51bGwsIHJpZ2h0OiBudWxsIH07XG4gIGxldCBhY3RpdmVNb2JpbGVQYW5lbCA9IG51bGw7XG4gIGNvbnN0IGlzRGVza3RvcFZpZXdwb3J0ID0gKCkgPT4gd2luZG93Lm1hdGNoTWVkaWEoJyhtaW4td2lkdGg6IDEwMjRweCknKS5tYXRjaGVzO1xuICBjb25zdCBlbnN1cmVNb2JpbGVQYW5lbExheWVyUGxhY2VtZW50ID0gKCkgPT4ge1xuICAgIGlmICghbW9iaWxlUGFuZWxMYXllciB8fCAhbW9iaWxlUGFuZWxMYXllclBsYWNlaG9sZGVyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChpc0Rlc2t0b3BWaWV3cG9ydCgpKSB7XG4gICAgICBjb25zdCB0YXJnZXRQYXJlbnQgPSBtb2JpbGVQYW5lbExheWVyUGxhY2Vob2xkZXIucGFyZW50RWxlbWVudDtcbiAgICAgIGlmICghdGFyZ2V0UGFyZW50KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChtb2JpbGVQYW5lbExheWVyLnBhcmVudEVsZW1lbnQgIT09IHRhcmdldFBhcmVudCkge1xuICAgICAgICB0YXJnZXRQYXJlbnQuaW5zZXJ0QmVmb3JlKG1vYmlsZVBhbmVsTGF5ZXIsIG1vYmlsZVBhbmVsTGF5ZXJQbGFjZWhvbGRlci5uZXh0U2libGluZyk7XG4gICAgICB9IGVsc2UgaWYgKG1vYmlsZVBhbmVsTGF5ZXJQbGFjZWhvbGRlci5uZXh0U2libGluZyAhPT0gbW9iaWxlUGFuZWxMYXllcikge1xuICAgICAgICB0YXJnZXRQYXJlbnQuaW5zZXJ0QmVmb3JlKG1vYmlsZVBhbmVsTGF5ZXIsIG1vYmlsZVBhbmVsTGF5ZXJQbGFjZWhvbGRlci5uZXh0U2libGluZyk7XG4gICAgICB9XG4gICAgICBtb2JpbGVQYW5lbExheWVyLmRhdGFzZXQubW9iaWxlUGFuZWxQbGFjZW1lbnQgPSAnc2lkZWJhcic7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChtb2JpbGVQYW5lbExheWVyLnBhcmVudEVsZW1lbnQgIT09IGRvY3VtZW50LmJvZHkpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobW9iaWxlUGFuZWxMYXllcik7XG4gICAgICBtb2JpbGVQYW5lbExheWVyLmRhdGFzZXQubW9iaWxlUGFuZWxQbGFjZW1lbnQgPSAnb3ZlcmxheSc7XG4gICAgfVxuICB9O1xuICBjb25zdCBlbnN1cmVSaWdodFBhbmVsUGxhY2VtZW50ID0gKCkgPT4ge1xuICAgIGNvbnN0IHBhbmVsID0gbW9iaWxlUGFuZWxzLnJpZ2h0O1xuICAgIGlmICghcGFuZWwgfHwgIXJpZ2h0UGFuZWxQbGFjZWhvbGRlcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoaXNEZXNrdG9wVmlld3BvcnQoKSkge1xuICAgICAgY29uc3QgdGFyZ2V0UGFyZW50ID0gcmlnaHRQYW5lbFBsYWNlaG9sZGVyLnBhcmVudEVsZW1lbnQ7XG4gICAgICBpZiAoIXRhcmdldFBhcmVudCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAocGFuZWwucGFyZW50RWxlbWVudCAhPT0gdGFyZ2V0UGFyZW50KSB7XG4gICAgICAgIHRhcmdldFBhcmVudC5pbnNlcnRCZWZvcmUocGFuZWwsIHJpZ2h0UGFuZWxQbGFjZWhvbGRlci5uZXh0U2libGluZyk7XG4gICAgICB9IGVsc2UgaWYgKHJpZ2h0UGFuZWxQbGFjZWhvbGRlci5uZXh0U2libGluZyAhPT0gcGFuZWwpIHtcbiAgICAgICAgdGFyZ2V0UGFyZW50Lmluc2VydEJlZm9yZShwYW5lbCwgcmlnaHRQYW5lbFBsYWNlaG9sZGVyLm5leHRTaWJsaW5nKTtcbiAgICAgIH1cbiAgICAgIHBhbmVsLmRhdGFzZXQubW9iaWxlUGFuZWxQbGFjZW1lbnQgPSAnc2lkZWJhcic7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChtb2JpbGVQYW5lbExheWVyKSB7XG4gICAgICBjb25zdCBsZWZ0UGFuZWwgPSBtb2JpbGVQYW5lbHMubGVmdDtcbiAgICAgIGlmIChsZWZ0UGFuZWwgJiYgbGVmdFBhbmVsLnBhcmVudEVsZW1lbnQgPT09IG1vYmlsZVBhbmVsTGF5ZXIpIHtcbiAgICAgICAgaWYgKHBhbmVsLnBhcmVudEVsZW1lbnQgIT09IG1vYmlsZVBhbmVsTGF5ZXIgfHwgcGFuZWwucHJldmlvdXNTaWJsaW5nICE9PSBsZWZ0UGFuZWwpIHtcbiAgICAgICAgICBtb2JpbGVQYW5lbExheWVyLmluc2VydEJlZm9yZShwYW5lbCwgbGVmdFBhbmVsLm5leHRTaWJsaW5nKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChwYW5lbC5wYXJlbnRFbGVtZW50ICE9PSBtb2JpbGVQYW5lbExheWVyKSB7XG4gICAgICAgIG1vYmlsZVBhbmVsTGF5ZXIuYXBwZW5kQ2hpbGQocGFuZWwpO1xuICAgICAgfVxuICAgICAgcGFuZWwuZGF0YXNldC5tb2JpbGVQYW5lbFBsYWNlbWVudCA9ICdvdmVybGF5JztcbiAgICB9IGVsc2UgaWYgKHBhbmVsLnBhcmVudEVsZW1lbnQgIT09IGRvY3VtZW50LmJvZHkpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQocGFuZWwpO1xuICAgICAgcGFuZWwuZGF0YXNldC5tb2JpbGVQYW5lbFBsYWNlbWVudCA9ICdvdmVybGF5JztcbiAgICB9XG4gIH07XG4gIGNvbnN0IGVuc3VyZU1vYmlsZVBhbmVsUGxhY2VtZW50ID0gKCkgPT4ge1xuICAgIGVuc3VyZU1vYmlsZVBhbmVsTGF5ZXJQbGFjZW1lbnQoKTtcbiAgICBlbnN1cmVSaWdodFBhbmVsUGxhY2VtZW50KCk7XG4gIH07XG4gIGVuc3VyZU1vYmlsZVBhbmVsUGxhY2VtZW50KCk7XG4gIGNvbnN0IHBhbmVsRGVmYXVsdFogPSB7fTtcbiAgT2JqZWN0LmVudHJpZXMobW9iaWxlUGFuZWxzKS5mb3JFYWNoKChbc2lkZSwgcGFuZWxdKSA9PiB7XG4gICAgaWYgKCFwYW5lbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBjb21wdXRlZFogPSBOdW1iZXIod2luZG93LmdldENvbXB1dGVkU3R5bGUocGFuZWwpLnpJbmRleCkgfHwgMDtcbiAgICBwYW5lbERlZmF1bHRaW3NpZGVdID0gY29tcHV0ZWRaO1xuICB9KTtcbiAgY29uc3QgbWF4RGVmYXVsdFogPVxuICAgIE9iamVjdC52YWx1ZXMocGFuZWxEZWZhdWx0WikucmVkdWNlKChtYXgsIHZhbHVlKSA9PiBNYXRoLm1heChtYXgsIHZhbHVlIHx8IDApLCAwKSB8fCAxNTA7XG4gIGNvbnN0IGFjdGl2ZVBhbmVsWiA9IG1heERlZmF1bHRaICsgNTtcbiAgY29uc3Qgc2V0UGFuZWxaU3RhdGUgPSAoc2lkZSwgaXNBY3RpdmUpID0+IHtcbiAgICBjb25zdCBwYW5lbCA9IG1vYmlsZVBhbmVsc1tzaWRlXTtcbiAgICBpZiAoIXBhbmVsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChpc0Rlc2t0b3BWaWV3cG9ydCgpKSB7XG4gICAgICBwYW5lbC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnei1pbmRleCcpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoaXNBY3RpdmUpIHtcbiAgICAgIHBhbmVsLnN0eWxlLnpJbmRleCA9IFN0cmluZyhhY3RpdmVQYW5lbFopO1xuICAgIH0gZWxzZSBpZiAocGFuZWxEZWZhdWx0WltzaWRlXSkge1xuICAgICAgcGFuZWwuc3R5bGUuekluZGV4ID0gU3RyaW5nKHBhbmVsRGVmYXVsdFpbc2lkZV0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBwYW5lbC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnei1pbmRleCcpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgYXBwbHlQYW5lbENsYXNzZXMgPSAocGFuZWwsIGNsYXNzZXMsIG1ldGhvZCkgPT4ge1xuICAgIGlmICghcGFuZWwgfHwgIWNsYXNzZXMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY2xhc3Nlc1xuICAgICAgLnNwbGl0KCcgJylcbiAgICAgIC5tYXAoKGNscykgPT4gY2xzLnRyaW0oKSlcbiAgICAgIC5maWx0ZXIoQm9vbGVhbilcbiAgICAgIC5mb3JFYWNoKChjbHMpID0+IHBhbmVsLmNsYXNzTGlzdFttZXRob2RdKGNscykpO1xuICB9O1xuICBjb25zdCBzZXRQYW5lbEhpZGRlblN0YXRlID0gKHBhbmVsLCBoaWRkZW4pID0+IHtcbiAgICBpZiAoIXBhbmVsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGhpZGRlbkNsYXNzZXMgPSBwYW5lbC5kYXRhc2V0Lm1vYmlsZVBhbmVsSGlkZGVuIHx8ICcnO1xuICAgIGNvbnN0IHZpc2libGVDbGFzc2VzID0gcGFuZWwuZGF0YXNldC5tb2JpbGVQYW5lbFZpc2libGUgfHwgJ3RyYW5zbGF0ZS14LTAnO1xuICAgIGlmIChoaWRkZW4pIHtcbiAgICAgIGFwcGx5UGFuZWxDbGFzc2VzKHBhbmVsLCB2aXNpYmxlQ2xhc3NlcywgJ3JlbW92ZScpO1xuICAgICAgYXBwbHlQYW5lbENsYXNzZXMocGFuZWwsIGhpZGRlbkNsYXNzZXMsICdhZGQnKTtcbiAgICAgIHBhbmVsLmNsYXNzTGlzdC5hZGQoJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICAgIHBhbmVsLmNsYXNzTGlzdC5yZW1vdmUoJ3BvaW50ZXItZXZlbnRzLWF1dG8nKTtcbiAgICAgIHBhbmVsLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuICAgICAgcGFuZWwuZGF0YXNldC5tb2JpbGVQYW5lbE9wZW4gPSAnZmFsc2UnO1xuICAgIH0gZWxzZSB7XG4gICAgICBhcHBseVBhbmVsQ2xhc3NlcyhwYW5lbCwgaGlkZGVuQ2xhc3NlcywgJ3JlbW92ZScpO1xuICAgICAgYXBwbHlQYW5lbENsYXNzZXMocGFuZWwsIHZpc2libGVDbGFzc2VzLCAnYWRkJyk7XG4gICAgICBwYW5lbC5jbGFzc0xpc3QucmVtb3ZlKCdwb2ludGVyLWV2ZW50cy1ub25lJyk7XG4gICAgICBwYW5lbC5jbGFzc0xpc3QuYWRkKCdwb2ludGVyLWV2ZW50cy1hdXRvJyk7XG4gICAgICBwYW5lbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ2ZhbHNlJyk7XG4gICAgICBwYW5lbC5kYXRhc2V0Lm1vYmlsZVBhbmVsT3BlbiA9ICd0cnVlJztcbiAgICB9XG4gIH07XG4gIGNvbnN0IGNsb3NlTW9iaWxlUGFuZWwgPSAoc2lkZSA9IGFjdGl2ZU1vYmlsZVBhbmVsKSA9PiB7XG4gICAgaWYgKCFzaWRlIHx8IGlzRGVza3RvcFZpZXdwb3J0KCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcGFuZWwgPSBtb2JpbGVQYW5lbHNbc2lkZV07XG4gICAgaWYgKCFwYW5lbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzZXRQYW5lbFpTdGF0ZShzaWRlLCBmYWxzZSk7XG4gICAgc2V0UGFuZWxIaWRkZW5TdGF0ZShwYW5lbCwgdHJ1ZSk7XG4gICAgY29uc3QgdHJpZ2dlciA9IG1vYmlsZVBhbmVsVHJpZ2dlcnNbc2lkZV07XG4gICAgaWYgKHRyaWdnZXIpIHtcbiAgICAgIHRyaWdnZXIuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJyk7XG4gICAgfVxuICAgIG1vYmlsZVBhbmVsVHJpZ2dlcnNbc2lkZV0gPSBudWxsO1xuICAgIGlmIChhY3RpdmVNb2JpbGVQYW5lbCA9PT0gc2lkZSkge1xuICAgICAgbW9iaWxlUGFuZWxPdmVybGF5Py5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIG1vYmlsZVBhbmVsT3ZlcmxheT8uY2xhc3NMaXN0LnJlbW92ZSgncG9pbnRlci1ldmVudHMtYXV0bycpO1xuICAgICAgbW9iaWxlUGFuZWxPdmVybGF5Py5jbGFzc0xpc3QuYWRkKCdwb2ludGVyLWV2ZW50cy1ub25lJyk7XG4gICAgICBtb2JpbGVQYW5lbE92ZXJsYXk/LnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuICAgICAgbW9iaWxlUGFuZWxMYXllcj8uY2xhc3NMaXN0LmFkZCgncG9pbnRlci1ldmVudHMtbm9uZScpO1xuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICAgIHRyaWdnZXI/LmZvY3VzPy4oKTtcbiAgICAgIGFjdGl2ZU1vYmlsZVBhbmVsID0gbnVsbDtcbiAgICB9XG4gIH07XG4gIGNvbnN0IG9wZW5Nb2JpbGVQYW5lbCA9IChzaWRlLCB0cmlnZ2VyKSA9PiB7XG4gICAgaWYgKCFzaWRlIHx8IGlzRGVza3RvcFZpZXdwb3J0KCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcGFuZWwgPSBtb2JpbGVQYW5lbHNbc2lkZV07XG4gICAgaWYgKCFwYW5lbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoYWN0aXZlTW9iaWxlUGFuZWwgJiYgYWN0aXZlTW9iaWxlUGFuZWwgIT09IHNpZGUpIHtcbiAgICAgIGNsb3NlTW9iaWxlUGFuZWwoYWN0aXZlTW9iaWxlUGFuZWwpO1xuICAgIH1cbiAgICBzZXRQYW5lbEhpZGRlblN0YXRlKHBhbmVsLCBmYWxzZSk7XG4gICAgc2V0UGFuZWxaU3RhdGUoc2lkZSwgdHJ1ZSk7XG4gICAgYWN0aXZlTW9iaWxlUGFuZWwgPSBzaWRlO1xuICAgIG1vYmlsZVBhbmVsVHJpZ2dlcnNbc2lkZV0gPSB0cmlnZ2VyIHx8IG51bGw7XG4gICAgaWYgKHRyaWdnZXIpIHtcbiAgICAgIHRyaWdnZXIuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ3RydWUnKTtcbiAgICB9XG4gICAgbW9iaWxlUGFuZWxPdmVybGF5Py5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nLCAncG9pbnRlci1ldmVudHMtbm9uZScpO1xuICAgIG1vYmlsZVBhbmVsT3ZlcmxheT8uY2xhc3NMaXN0LmFkZCgncG9pbnRlci1ldmVudHMtYXV0bycpO1xuICAgIG1vYmlsZVBhbmVsT3ZlcmxheT8uc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICdmYWxzZScpO1xuICAgIG1vYmlsZVBhbmVsTGF5ZXI/LmNsYXNzTGlzdC5yZW1vdmUoJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ292ZXJmbG93LWhpZGRlbicpO1xuICAgIGNvbnN0IGZvY3VzVGFyZ2V0ID0gcGFuZWwucXVlcnlTZWxlY3Rvcihmb2N1c2FibGVTZWxlY3Rvcik7XG4gICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgZm9jdXNUYXJnZXQ/LmZvY3VzPy4oKTtcbiAgICB9LCAwKTtcbiAgfTtcbiAgY29uc3Qgc3luY01vYmlsZVBhbmVsc1dpdGhWaWV3cG9ydCA9ICgpID0+IHtcbiAgICBlbnN1cmVNb2JpbGVQYW5lbFBsYWNlbWVudCgpO1xuICAgIGlmIChpc0Rlc2t0b3BWaWV3cG9ydCgpKSB7XG4gICAgICBtb2JpbGVQYW5lbE92ZXJsYXk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgbW9iaWxlUGFuZWxMYXllcj8uY2xhc3NMaXN0LmFkZCgncG9pbnRlci1ldmVudHMtbm9uZScpO1xuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICAgIGFjdGl2ZU1vYmlsZVBhbmVsID0gbnVsbDtcbiAgICAgIE9iamVjdC5rZXlzKG1vYmlsZVBhbmVscykuZm9yRWFjaCgoc2lkZSkgPT4ge1xuICAgICAgICBjb25zdCBwYW5lbCA9IG1vYmlsZVBhbmVsc1tzaWRlXTtcbiAgICAgICAgaWYgKCFwYW5lbCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzZXRQYW5lbFpTdGF0ZShzaWRlLCBmYWxzZSk7XG4gICAgICAgIHBhbmVsLmNsYXNzTGlzdC5yZW1vdmUoJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICAgICAgcGFuZWwuY2xhc3NMaXN0LmFkZCgncG9pbnRlci1ldmVudHMtYXV0bycpO1xuICAgICAgICBwYW5lbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ2ZhbHNlJyk7XG4gICAgICAgIHBhbmVsLmRhdGFzZXQubW9iaWxlUGFuZWxPcGVuID0gJ2ZhbHNlJztcbiAgICAgICAgY29uc3QgdHJpZ2dlciA9IG1vYmlsZVBhbmVsVHJpZ2dlcnNbc2lkZV07XG4gICAgICAgIHRyaWdnZXI/LnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsICdmYWxzZScpO1xuICAgICAgICBtb2JpbGVQYW5lbFRyaWdnZXJzW3NpZGVdID0gbnVsbDtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBPYmplY3QuZW50cmllcyhtb2JpbGVQYW5lbHMpLmZvckVhY2goKFtzaWRlLCBwYW5lbF0pID0+IHtcbiAgICAgICAgaWYgKCFwYW5lbCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFuZWwuZGF0YXNldC5tb2JpbGVQYW5lbE9wZW4gIT09ICd0cnVlJykge1xuICAgICAgICAgIHNldFBhbmVsSGlkZGVuU3RhdGUocGFuZWwsIHRydWUpO1xuICAgICAgICAgIHNldFBhbmVsWlN0YXRlKHNpZGUsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoIWFjdGl2ZU1vYmlsZVBhbmVsKSB7XG4gICAgICAgIG1vYmlsZVBhbmVsT3ZlcmxheT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJywgJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICAgICAgbW9iaWxlUGFuZWxPdmVybGF5Py5jbGFzc0xpc3QucmVtb3ZlKCdwb2ludGVyLWV2ZW50cy1hdXRvJyk7XG4gICAgICAgIG1vYmlsZVBhbmVsT3ZlcmxheT8uc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJyk7XG4gICAgICAgIG1vYmlsZVBhbmVsTGF5ZXI/LmNsYXNzTGlzdC5hZGQoJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIGlmIChtb2JpbGVQYW5lbFRvZ2dsZXMubGVuZ3RoID4gMCkge1xuICAgIG1vYmlsZVBhbmVsVG9nZ2xlcy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICAgIGNvbnN0IHNpZGUgPSBidXR0b24uZGF0YXNldC5tb2JpbGVQYW5lbFRvZ2dsZTtcbiAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgaWYgKGFjdGl2ZU1vYmlsZVBhbmVsID09PSBzaWRlKSB7XG4gICAgICAgICAgY2xvc2VNb2JpbGVQYW5lbChzaWRlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvcGVuTW9iaWxlUGFuZWwoc2lkZSwgYnV0dG9uKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgbW9iaWxlUGFuZWxDbG9zZUJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICBjb25zdCBzaWRlID0gYnV0dG9uLmRhdGFzZXQubW9iaWxlUGFuZWxDbG9zZTtcbiAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGNsb3NlTW9iaWxlUGFuZWwoc2lkZSkpO1xuICAgIH0pO1xuICAgIG1vYmlsZVBhbmVsT3ZlcmxheT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBjbG9zZU1vYmlsZVBhbmVsKCkpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQua2V5ID09PSAnRXNjYXBlJyAmJiBhY3RpdmVNb2JpbGVQYW5lbCAmJiAhaXNEZXNrdG9wVmlld3BvcnQoKSkge1xuICAgICAgICBjbG9zZU1vYmlsZVBhbmVsKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHN5bmNNb2JpbGVQYW5lbHNXaXRoVmlld3BvcnQpO1xuICAgIHN5bmNNb2JpbGVQYW5lbHNXaXRoVmlld3BvcnQoKTtcbiAgfVxuXG4gIGNvbnN0IHNob3dUb2FzdCA9IChtZXNzYWdlKSA9PiB7XG4gICAgaWYgKCFzaXRlVG9hc3QgfHwgIXNpdGVUb2FzdE1lc3NhZ2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2l0ZVRvYXN0TWVzc2FnZS50ZXh0Q29udGVudCA9IG1lc3NhZ2U7XG4gICAgc2l0ZVRvYXN0LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgIGlmICh0b2FzdFRpbWVvdXRJZCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRvYXN0VGltZW91dElkKTtcbiAgICB9XG4gICAgdG9hc3RUaW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHNpdGVUb2FzdC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICB9LCAyNTAwKTtcbiAgfTtcblxuICBmdW5jdGlvbiBlbnN1cmVMZWFkaW5nU2xhc2goc2x1Zykge1xuICAgIGlmICghc2x1Zykge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICBjb25zdCB0cmltbWVkID0gYCR7c2x1Z31gLnRyaW0oKTtcbiAgICBpZiAoIXRyaW1tZWQpIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgY29uc3Qgd2l0aG91dExlYWRpbmcgPSB0cmltbWVkLnJlcGxhY2UoL15cXC8rLywgJycpO1xuICAgIGlmICghd2l0aG91dExlYWRpbmcpIHtcbiAgICAgIHJldHVybiAnLyc7XG4gICAgfVxuICAgIHJldHVybiBgLyR7d2l0aG91dExlYWRpbmd9YDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHN0cmlwTGVhZGluZ1NsYXNoKHNsdWcpIHtcbiAgICBpZiAoIXNsdWcpIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgcmV0dXJuIGAke3NsdWd9YC5yZXBsYWNlKC9eXFwvKy8sICcnKTtcbiAgfVxuXG4gIGNvbnN0IHBlcnNpc3RTaXRlU3RhdGUgPSAoc2x1ZywgbmFtZSkgPT4ge1xuICAgIGNvbnN0IG5vcm1hbGl6ZWRTbHVnID0gc2x1ZyA/IGVuc3VyZUxlYWRpbmdTbGFzaChzbHVnKSA6IG51bGw7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChub3JtYWxpemVkU2x1Zykge1xuICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oQUNUSVZFX1NJVEVfS0VZLCBub3JtYWxpemVkU2x1Zyk7XG4gICAgICAgIHN0b3JlZFNpdGUuc2x1ZyA9IG5vcm1hbGl6ZWRTbHVnO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBuYW1lID09PSAnc3RyaW5nJyAmJiBuYW1lLmxlbmd0aCA+IDApIHtcbiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKEFDVElWRV9TSVRFX05BTUVfS0VZLCBuYW1lKTtcbiAgICAgICAgc3RvcmVkU2l0ZS5uYW1lID0gbmFtZTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIHtcbiAgICAgIHN0b3JlZFNpdGUuc2x1ZyA9IG5vcm1hbGl6ZWRTbHVnIHx8IHN0b3JlZFNpdGUuc2x1ZztcbiAgICAgIHN0b3JlZFNpdGUubmFtZSA9IG5hbWUgfHwgc3RvcmVkU2l0ZS5uYW1lO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCB1cGRhdGVTaXRlTGFiZWxzID0gKG5hbWUpID0+IHtcbiAgICBpZiAoc2l0ZU5hbWVMYWJlbCAmJiBuYW1lKSB7XG4gICAgICBzaXRlTmFtZUxhYmVsLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICB9XG4gICAgaWYgKHdvcmtzcGFjZVNpdGVMYWJlbCAmJiBuYW1lKSB7XG4gICAgICB3b3Jrc3BhY2VTaXRlTGFiZWwudGV4dENvbnRlbnQgPSBuYW1lO1xuICAgIH1cbiAgICBpZiAod29ya3NwYWNlQmFja05hbWUgJiYgbmFtZSkge1xuICAgICAgd29ya3NwYWNlQmFja05hbWUudGV4dENvbnRlbnQgPSBuYW1lO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCB1cGRhdGVXb3Jrc3BhY2VOYXZMaW5rcyA9IChzbHVnKSA9PiB7XG4gICAgd29ya3NwYWNlTmF2TGlua3MuZm9yRWFjaCgobGluaykgPT4ge1xuICAgICAgY29uc3QgdGFiID0gbGluay5kYXRhc2V0LndvcmtzcGFjZVRhYjtcbiAgICAgIGlmICghdGFiKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghc2x1Zykge1xuICAgICAgICBsaW5rLmhyZWYgPSAnIyc7XG4gICAgICAgIGxpbmsuY2xhc3NMaXN0LmFkZCgncG9pbnRlci1ldmVudHMtbm9uZScsICdvcGFjaXR5LTUwJywgJ3RleHQtc2xhdGUtNDAwJyk7XG4gICAgICAgIGxpbmsuc2V0QXR0cmlidXRlKCdhcmlhLWRpc2FibGVkJywgJ3RydWUnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3Qgc2x1Z1BhdGggPSBlbmNvZGVVUklDb21wb25lbnQoc3RyaXBMZWFkaW5nU2xhc2goc2x1ZykpO1xuICAgICAgbGluay5ocmVmID0gYC9hZG1pbi9zaXRlLyR7c2x1Z1BhdGh9LyR7dGFifWA7XG4gICAgICBsaW5rLmNsYXNzTGlzdC5yZW1vdmUoJ3BvaW50ZXItZXZlbnRzLW5vbmUnLCAnb3BhY2l0eS01MCcsICd0ZXh0LXNsYXRlLTQwMCcpO1xuICAgICAgbGluay5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtZGlzYWJsZWQnKTtcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBhcHBseUFjdGl2ZVNpdGUgPSAoc2x1Zywgb3B0aW9ucyA9IHt9KSA9PiB7XG4gICAgaWYgKCFzbHVnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG5vcm1hbGl6ZWRTbHVnID0gZW5zdXJlTGVhZGluZ1NsYXNoKHNsdWcpO1xuICAgIGxldCBhY3RpdmVTaXRlTmFtZSA9XG4gICAgICBvcHRpb25zLnNpdGVOYW1lIHx8IHN0b3JlZFNpdGUubmFtZSB8fCBzaXRlTmFtZUxhYmVsPy5kYXRhc2V0LmRlZmF1bHRTaXRlTmFtZSB8fCAnJztcbiAgICBzaXRlQ2FyZHMuZm9yRWFjaCgoY2FyZCkgPT4ge1xuICAgICAgY29uc3QgY2FyZFNsdWcgPSBlbnN1cmVMZWFkaW5nU2xhc2goY2FyZC5kYXRhc2V0LnNpdGVDYXJkIHx8ICcnKTtcbiAgICAgIGNvbnN0IGlzQWN0aXZlID0gY2FyZFNsdWcgPT09IG5vcm1hbGl6ZWRTbHVnO1xuICAgICAgY29uc3QgYmFkZ2UgPSBjYXJkLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtYWN0aXZlLWJhZGdlXScpO1xuICAgICAgaWYgKGlzQWN0aXZlKSB7XG4gICAgICAgIGNhcmQuY2xhc3NMaXN0LmFkZCgnYm9yZGVyLVsjOUM2QkZGXScsICdyaW5nLTInLCAncmluZy1bIzlDNkJGRl0nLCAnc2hhZG93LW1kJyk7XG4gICAgICAgIGNhcmQuY2xhc3NMaXN0LnJlbW92ZSgnYm9yZGVyLXNsYXRlLTIwMCcpO1xuICAgICAgICBiYWRnZT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIGFjdGl2ZVNpdGVOYW1lID0gY2FyZC5kYXRhc2V0LnNpdGVOYW1lIHx8IGFjdGl2ZVNpdGVOYW1lO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FyZC5jbGFzc0xpc3QucmVtb3ZlKCdib3JkZXItWyM5QzZCRkZdJywgJ3JpbmctMicsICdyaW5nLVsjOUM2QkZGXScsICdzaGFkb3ctbWQnKTtcbiAgICAgICAgY2FyZC5jbGFzc0xpc3QuYWRkKCdib3JkZXItc2xhdGUtMjAwJyk7XG4gICAgICAgIGJhZGdlPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAob3B0aW9ucy5wZXJzaXN0ICE9PSBmYWxzZSkge1xuICAgICAgcGVyc2lzdFNpdGVTdGF0ZShub3JtYWxpemVkU2x1Zywgb3B0aW9ucy5zaXRlTmFtZSB8fCBhY3RpdmVTaXRlTmFtZSk7XG4gICAgfVxuICAgIGNvbnN0IGZpbmFsTmFtZSA9IG9wdGlvbnMuc2l0ZU5hbWUgfHwgYWN0aXZlU2l0ZU5hbWU7XG4gICAgdXBkYXRlU2l0ZUxhYmVscyhmaW5hbE5hbWUpO1xuICAgIHVwZGF0ZVdvcmtzcGFjZU5hdkxpbmtzKG5vcm1hbGl6ZWRTbHVnKTtcbiAgfTtcblxuICBjb25zdCBzZWxlY3RTaXRlID0gYXN5bmMgKHNsdWcsIG5hbWUpID0+IHtcbiAgICBjb25zdCBub3JtYWxpemVkU2x1ZyA9IGVuc3VyZUxlYWRpbmdTbGFzaChzbHVnKTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9zaXRlcy9zZWxlY3QnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBzbHVnOiBub3JtYWxpemVkU2x1ZyB9KSxcbiAgICAgIH0pO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICBzaG93VG9hc3QocGF5bG9hZC5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIHNcdTAwRTlsZWN0aW9ubmVyIGNlIHNpdGUuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICBjb25zdCBmaW5hbFNsdWcgPSBlbnN1cmVMZWFkaW5nU2xhc2gocGF5bG9hZC5zbHVnIHx8IG5vcm1hbGl6ZWRTbHVnKTtcbiAgICAgIGNvbnN0IGZpbmFsTmFtZSA9IHBheWxvYWQubmFtZSB8fCBuYW1lO1xuICAgICAgcGVyc2lzdFNpdGVTdGF0ZShmaW5hbFNsdWcsIGZpbmFsTmFtZSk7XG4gICAgICBhcHBseUFjdGl2ZVNpdGUoZmluYWxTbHVnLCB7IHNpdGVOYW1lOiBmaW5hbE5hbWUsIHBlcnNpc3Q6IGZhbHNlIH0pO1xuICAgICAgY29uc3Qgc2x1Z1BhdGggPSBlbmNvZGVVUklDb21wb25lbnQoc3RyaXBMZWFkaW5nU2xhc2goZmluYWxTbHVnKSk7XG4gICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGAvYWRtaW4vc2l0ZS8ke3NsdWdQYXRofS9kZXNpZ25gO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignW2FkbWluXSBJbXBvc3NpYmxlIGRlIHNcdTAwRTlsZWN0aW9ubmVyIGxlIHNpdGUnLCBlcnIpO1xuICAgICAgc2hvd1RvYXN0KCdFcnJldXIgaW5hdHRlbmR1ZSBsb3JzIGRlIGxhIHNcdTAwRTlsZWN0aW9uLicpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBzeW5jQWN0aXZlU2l0ZUZyb21TZXJ2ZXIgPSBhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvc2l0ZXMvY3VycmVudCcsIHsgY3JlZGVudGlhbHM6ICdzYW1lLW9yaWdpbicgfSk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwNCAmJiB3b3Jrc3BhY2VDb250ZXh0KSB7XG4gICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnL2FkbWluL3NpdGVzJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBzaXRlID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgY29uc3Qgbm9ybWFsaXplZFNsdWcgPSBlbnN1cmVMZWFkaW5nU2xhc2goc2l0ZS5zbHVnKTtcbiAgICAgIHBlcnNpc3RTaXRlU3RhdGUobm9ybWFsaXplZFNsdWcsIHNpdGUubmFtZSk7XG4gICAgICBhcHBseUFjdGl2ZVNpdGUobm9ybWFsaXplZFNsdWcsIHsgc2l0ZU5hbWU6IHNpdGUubmFtZSwgcGVyc2lzdDogZmFsc2UgfSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ1thZG1pbl0gSW1wb3NzaWJsZSBkZSByXHUwMEU5Y3VwXHUwMEU5cmVyIGxlIHNpdGUgYWN0aWYnLCBlcnIpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoaWdobGlnaHRGcm9tU3RvcmFnZU9yRGVmYXVsdCA9ICgpID0+IHtcbiAgICBpZiAoc3RvcmVkU2l0ZS5zbHVnKSB7XG4gICAgICBhcHBseUFjdGl2ZVNpdGUoc3RvcmVkU2l0ZS5zbHVnLCB7IHNpdGVOYW1lOiBzdG9yZWRTaXRlLm5hbWUsIHBlcnNpc3Q6IGZhbHNlIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBkZWZhdWx0Q2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtY2FyZF1bZGF0YS1zaXRlLWRlZmF1bHQ9XCJ0cnVlXCJdJykgfHwgc2l0ZUNhcmRzWzBdO1xuICAgIGlmIChkZWZhdWx0Q2FyZCkge1xuICAgICAgYXBwbHlBY3RpdmVTaXRlKGRlZmF1bHRDYXJkLmRhdGFzZXQuc2l0ZUNhcmQsIHtcbiAgICAgICAgc2l0ZU5hbWU6IGRlZmF1bHRDYXJkLmRhdGFzZXQuc2l0ZU5hbWUgfHwgJycsXG4gICAgICAgIHBlcnNpc3Q6IGZhbHNlLFxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIGhpZ2hsaWdodEZyb21TdG9yYWdlT3JEZWZhdWx0KCk7XG4gIHN5bmNBY3RpdmVTaXRlRnJvbVNlcnZlcigpO1xuICBpZiAod29ya3NwYWNlQ29udGV4dCkge1xuICAgIHVwZGF0ZVdvcmtzcGFjZU5hdkxpbmtzKHdvcmtzcGFjZUNvbnRleHQuc2x1Z1ZhbHVlKTtcbiAgfSBlbHNlIGlmIChzdG9yZWRTaXRlLnNsdWcpIHtcbiAgICB1cGRhdGVXb3Jrc3BhY2VOYXZMaW5rcyhzdG9yZWRTaXRlLnNsdWcpO1xuICB9XG5cbiAgc2l0ZVNlbGVjdEJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgaWYgKGJ1dHRvbi5kaXNhYmxlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBzbHVnID0gYnV0dG9uLmRhdGFzZXQuc2l0ZVNlbGVjdDtcbiAgICAgIGNvbnN0IG5hbWUgPSBidXR0b24uZGF0YXNldC5zaXRlU2VsZWN0TmFtZSB8fCAnQ2Ugc2l0ZSc7XG4gICAgICBpZiAoIXNsdWcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIHNlbGVjdFNpdGUoc2x1ZywgbmFtZSkuZmluYWxseSgoKSA9PiB7XG4gICAgICAgIGJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGNvbnN0IHdvcmtzcGFjZVNsdWdpZnkgPSAodmFsdWUpID0+XG4gICAgKHZhbHVlIHx8ICcnKVxuICAgICAgLm5vcm1hbGl6ZSgnTkZEJylcbiAgICAgIC5yZXBsYWNlKC9bXFx1MDMwMC1cXHUwMzZmXS9nLCAnJylcbiAgICAgIC50b0xvd2VyQ2FzZSgpXG4gICAgICAucmVwbGFjZSgvW15hLXowLTldKy9nLCAnLScpXG4gICAgICAucmVwbGFjZSgvXi0rfC0rJC9nLCAnJyk7XG5cbiAgY29uc3Qgbm9ybWFsaXplU2x1Z1ZhbHVlID0gKHZhbHVlKSA9PiB7XG4gICAgY29uc3QgYmFzZSA9IHdvcmtzcGFjZVNsdWdpZnkodmFsdWUgfHwgJycpO1xuICAgIGlmICghYmFzZSkge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICByZXR1cm4gYC8ke2Jhc2V9YDtcbiAgfTtcblxuICBjb25zdCBvcGVuU2l0ZU1vZGFsID0gKCkgPT4ge1xuICAgIGlmICghc2l0ZU1vZGFsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHNpdGVNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICBzaXRlTW9kYWwuY2xhc3NMaXN0LmFkZCgnZmxleCcpO1xuICAgIHNsdWdNYW51YWxseUVkaXRlZCA9IGZhbHNlO1xuICAgIHNpdGVGb3JtPy5yZXNldCgpO1xuICAgIHNpdGVTbHVnRXJyb3IgJiYgKHNpdGVTbHVnRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgc2l0ZU1vZGFsRXJyb3IgJiYgKHNpdGVNb2RhbEVycm9yLnRleHRDb250ZW50ID0gJycpO1xuICAgIGlmIChzaXRlU2x1Z0lucHV0ICYmIHNpdGVOYW1lSW5wdXQpIHtcbiAgICAgIHNpdGVTbHVnSW5wdXQudmFsdWUgPSB3b3Jrc3BhY2VTbHVnaWZ5KHNpdGVOYW1lSW5wdXQudmFsdWUpO1xuICAgIH1cbiAgICBhY3RpdmF0ZU1vZGFsKHNpdGVNb2RhbCwgY2xvc2VTaXRlTW9kYWwpO1xuICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHNpdGVOYW1lSW5wdXQ/LmZvY3VzKCk7XG4gICAgfSwgMCk7XG4gIH07XG5cbiAgY29uc3QgY2xvc2VTaXRlTW9kYWwgPSAoKSA9PiB7XG4gICAgaWYgKCFzaXRlTW9kYWwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2l0ZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgIHNpdGVNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdmbGV4Jyk7XG4gICAgc2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gICAgc2l0ZUZvcm0/LnJlc2V0KCk7XG4gICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICBzaXRlTW9kYWxFcnJvciAmJiAoc2l0ZU1vZGFsRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgZGVhY3RpdmF0ZU1vZGFsKHNpdGVNb2RhbCk7XG4gIH07XG5cbiAgc2l0ZUNyZWF0ZUJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlblNpdGVNb2RhbCk7XG4gIH0pO1xuXG4gIHNpdGVNb2RhbENhbmNlbEJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VTaXRlTW9kYWwpO1xuICB9KTtcblxuICBzaXRlTW9kYWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gc2l0ZU1vZGFsKSB7XG4gICAgICBjbG9zZVNpdGVNb2RhbCgpO1xuICAgIH1cbiAgfSk7XG5cbiAgc2l0ZU5hbWVJbnB1dD8uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgaWYgKCFzaXRlU2x1Z0lucHV0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghc2x1Z01hbnVhbGx5RWRpdGVkIHx8IHNpdGVTbHVnSW5wdXQudmFsdWUudHJpbSgpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgc2l0ZVNsdWdJbnB1dC52YWx1ZSA9IHdvcmtzcGFjZVNsdWdpZnkoc2l0ZU5hbWVJbnB1dC52YWx1ZSk7XG4gICAgfVxuICAgIC8vIENsZWFyIGVycm9ycyB3aGVuIHVzZXIgdHlwZXNcbiAgICBzaXRlU2x1Z0Vycm9yICYmIChzaXRlU2x1Z0Vycm9yLnRleHRDb250ZW50ID0gJycpO1xuICAgIHNpdGVNb2RhbEVycm9yICYmIChzaXRlTW9kYWxFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgfSk7XG5cbiAgc2l0ZVNsdWdJbnB1dD8uYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCAoKSA9PiB7XG4gICAgLy8gQXV0by1maWxsIHNsdWcgZnJvbSBuYW1lIGlmIGVtcHR5IHdoZW4gdXNlciBmb2N1c2VzIHRoZSBzbHVnIGZpZWxkXG4gICAgY29uc3Qgc2x1Z1ZhbCA9IHNpdGVTbHVnSW5wdXQ/LnZhbHVlIHx8ICcnO1xuICAgIGNvbnN0IG5hbWVWYWwgPSBzaXRlTmFtZUlucHV0Py52YWx1ZSB8fCAnJztcbiAgICBpZiAoIXNsdWdWYWwudHJpbSgpICYmIG5hbWVWYWwudHJpbSgpKSB7XG4gICAgICBzaXRlU2x1Z0lucHV0LnZhbHVlID0gd29ya3NwYWNlU2x1Z2lmeShuYW1lVmFsKTtcbiAgICB9XG4gIH0pO1xuXG4gIHNpdGVTbHVnSW5wdXQ/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgIHNsdWdNYW51YWxseUVkaXRlZCA9IHRydWU7XG4gICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICBzaXRlTW9kYWxFcnJvciAmJiAoc2l0ZU1vZGFsRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gIH0pO1xuXG4gIGNvbnN0IGdldFNsdWdTZXQgPSAoKSA9PlxuICAgIG5ldyBTZXQoQXJyYXkuZnJvbShzaXRlQ2FyZHMpLm1hcCgoY2FyZCkgPT4gZW5zdXJlTGVhZGluZ1NsYXNoKGNhcmQuZGF0YXNldC5zaXRlQ2FyZCB8fCAnJykpKTtcblxuICBzaXRlRm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zb2xlLmxvZygnW2FkbWluXSBGb3JtIHN1Ym1pdCAtIHNpdGVOYW1lSW5wdXQ6Jywgc2l0ZU5hbWVJbnB1dCwgJ3NpdGVTbHVnSW5wdXQ6Jywgc2l0ZVNsdWdJbnB1dCk7XG4gICAgXG4gICAgaWYgKCFzaXRlTmFtZUlucHV0IHx8ICFzaXRlU2x1Z0lucHV0KSB7XG4gICAgICBjb25zb2xlLmxvZygnW2FkbWluXSBNaXNzaW5nIGlucHV0cywgYWJvcnRpbmcnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgbmFtZVZhbHVlID0gKHNpdGVOYW1lSW5wdXQudmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICBsZXQgc2x1Z1ZhbHVlID0gKHNpdGVTbHVnSW5wdXQudmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICBcbiAgICBjb25zb2xlLmxvZygnW2FkbWluXSBuYW1lVmFsdWU6JywgbmFtZVZhbHVlLCAnc2x1Z1ZhbHVlOicsIHNsdWdWYWx1ZSk7XG4gICAgXG4gICAgLy8gQXV0by1nZW5lcmF0ZSBzbHVnIGZyb20gbmFtZSBpZiBlbXB0eVxuICAgIGlmICghc2x1Z1ZhbHVlICYmIG5hbWVWYWx1ZSkge1xuICAgICAgc2x1Z1ZhbHVlID0gd29ya3NwYWNlU2x1Z2lmeShuYW1lVmFsdWUpO1xuICAgICAgc2l0ZVNsdWdJbnB1dC52YWx1ZSA9IHNsdWdWYWx1ZTtcbiAgICAgIGNvbnNvbGUubG9nKCdbYWRtaW5dIEF1dG8tZ2VuZXJhdGVkIHNsdWc6Jywgc2x1Z1ZhbHVlKTtcbiAgICB9XG4gICAgXG4gICAgY29uc3Qgbm9ybWFsaXplZFNsdWcgPSBub3JtYWxpemVTbHVnVmFsdWUoc2x1Z1ZhbHVlKTtcbiAgICBjb25zb2xlLmxvZygnW2FkbWluXSBub3JtYWxpemVkU2x1ZzonLCBub3JtYWxpemVkU2x1Zyk7XG4gICAgXG4gICAgLy8gVmFsaWRhdGUgbmFtZVxuICAgIGlmICghbmFtZVZhbHVlKSB7XG4gICAgICBjb25zb2xlLmxvZygnW2FkbWluXSBOYW1lIHZhbGlkYXRpb24gZmFpbGVkJyk7XG4gICAgICBzaXRlTW9kYWxFcnJvciAmJiAoc2l0ZU1vZGFsRXJyb3IudGV4dENvbnRlbnQgPSAnTGUgbm9tIGR1IHNpdGUgZXN0IHJlcXVpcy4nKTtcbiAgICAgIHNpdGVOYW1lSW5wdXQuZm9jdXMoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgLy8gVmFsaWRhdGUgc2x1Z1xuICAgIGlmICghbm9ybWFsaXplZFNsdWcpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdbYWRtaW5dIFNsdWcgdmFsaWRhdGlvbiBmYWlsZWQnKTtcbiAgICAgIHNpdGVTbHVnRXJyb3IgJiYgKHNpdGVTbHVnRXJyb3IudGV4dENvbnRlbnQgPSAnTGUgc2x1ZyBuZSBwZXV0IHBhcyBcdTAwRUF0cmUgdmlkZSBvdSBjb250ZW5pciB1bmlxdWVtZW50IGRlcyBjYXJhY3RcdTAwRThyZXMgc3BcdTAwRTljaWF1eC4nKTtcbiAgICAgIHNpdGVTbHVnSW5wdXQuZm9jdXMoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgZXhpc3RpbmdTbHVncyA9IGdldFNsdWdTZXQoKTtcbiAgICBpZiAoZXhpc3RpbmdTbHVncy5oYXMobm9ybWFsaXplZFNsdWcpKSB7XG4gICAgICBzaXRlU2x1Z0Vycm9yICYmIChzaXRlU2x1Z0Vycm9yLnRleHRDb250ZW50ID0gJ0NlIHNsdWcgZXN0IGRcdTAwRTlqXHUwMEUwIHV0aWxpc1x1MDBFOS4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICBzaXRlTW9kYWxFcnJvciAmJiAoc2l0ZU1vZGFsRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgaWYgKHNpdGVNb2RhbFN1Ym1pdEJ1dHRvbikge1xuICAgICAgc2l0ZU1vZGFsU3VibWl0QnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIHNpdGVNb2RhbFN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9ICdDclx1MDBFOWF0aW9uLi4uJztcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvc2l0ZXMnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBuYW1lOiBuYW1lVmFsdWUsIHNsdWc6IG5vcm1hbGl6ZWRTbHVnIH0pLFxuICAgICAgfSk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBwYXlsb2FkLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgY3JcdTAwRTllciBjZSBzaXRlLic7XG4gICAgICAgIHNpdGVNb2RhbEVycm9yICYmIChzaXRlTW9kYWxFcnJvci50ZXh0Q29udGVudCA9IG1lc3NhZ2UpO1xuICAgICAgICBpZiAocGF5bG9hZC5maWVsZCA9PT0gJ3NsdWcnKSB7XG4gICAgICAgICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9IG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNyZWF0ZWRTaXRlID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgY29uc3QgZmluYWxTbHVnID0gZW5zdXJlTGVhZGluZ1NsYXNoKGNyZWF0ZWRTaXRlPy5zbHVnIHx8IG5vcm1hbGl6ZWRTbHVnKTtcbiAgICAgIGNvbnN0IGZpbmFsTmFtZSA9IGNyZWF0ZWRTaXRlPy5uYW1lIHx8IG5hbWVWYWx1ZTtcbiAgICAgIHBlcnNpc3RTaXRlU3RhdGUoZmluYWxTbHVnLCBmaW5hbE5hbWUpO1xuICAgICAgY2xvc2VTaXRlTW9kYWwoKTtcbiAgICAgIGNvbnN0IHNsdWdQYXRoID0gZW5jb2RlVVJJQ29tcG9uZW50KHN0cmlwTGVhZGluZ1NsYXNoKGZpbmFsU2x1ZykpO1xuICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBgL2FkbWluL3NpdGUvJHtzbHVnUGF0aH0vZGVzaWduYDtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1thZG1pbl0gSW1wb3NzaWJsZSBkZSBjclx1MDBFOWVyIGxlIHNpdGUnLCBlcnIpO1xuICAgICAgc2l0ZU1vZGFsRXJyb3IgJiYgKHNpdGVNb2RhbEVycm9yLnRleHRDb250ZW50ID0gJ0VycmV1ciBpbmF0dGVuZHVlLiBSXHUwMEU5ZXNzYWllIGRhbnMgdW4gaW5zdGFudC4nKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKHNpdGVNb2RhbFN1Ym1pdEJ1dHRvbikge1xuICAgICAgICBzaXRlTW9kYWxTdWJtaXRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgc2l0ZU1vZGFsU3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gJ0NyXHUwMEU5ZXInO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZlbnQpID0+IHtcbiAgICBpZiAoZXZlbnQua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgaWYgKHNpdGVNb2RhbCAmJiAhc2l0ZU1vZGFsLmNsYXNzTGlzdC5jb250YWlucygnaGlkZGVuJykpIHtcbiAgICAgICAgY2xvc2VTaXRlTW9kYWwoKTtcbiAgICAgIH1cbiAgICAgIGlmICh3b3Jrc3BhY2VCYWNrTW9kYWwgJiYgIXdvcmtzcGFjZUJhY2tNb2RhbC5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpKSB7XG4gICAgICAgIGNsb3NlV29ya3NwYWNlQmFja01vZGFsKCk7XG4gICAgICB9XG4gICAgICBpZiAoYmxvY2tEZWxldGVNb2RhbCAmJiAhYmxvY2tEZWxldGVNb2RhbC5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpKSB7XG4gICAgICAgIGNsb3NlQmxvY2tEZWxldGVNb2RhbCgpO1xuICAgICAgfVxuICAgICAgaWYgKGJsb2NrTGlicmFyeU9wZW4pIHtcbiAgICAgICAgY2xvc2VCbG9ja0xpYnJhcnkoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIGdldFdvcmtzcGFjZUNvbnRleHQoKSB7XG4gICAgY29uc3QgbWF0Y2ggPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUubWF0Y2goL15cXC9hZG1pblxcL3NpdGVcXC8oW14vXSspKD86XFwvKFteL10rKSk/Lyk7XG4gICAgaWYgKCFtYXRjaCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBzbHVnUGFydDogZGVjb2RlVVJJQ29tcG9uZW50KG1hdGNoWzFdKSxcbiAgICAgIHNsdWdWYWx1ZTogZW5zdXJlTGVhZGluZ1NsYXNoKGRlY29kZVVSSUNvbXBvbmVudChtYXRjaFsxXSkpLFxuICAgICAgc2VjdGlvbjogbWF0Y2hbMl0gfHwgJ2Rlc2lnbicsXG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRldGVjdFdvcmtzcGFjZVNlY3Rpb24oKSB7XG4gICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXBhZ2UtbGlzdF0nKSkge1xuICAgICAgcmV0dXJuICdkZXNpZ24nO1xuICAgIH1cbiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29sbGVjdGlvbi1saXN0XScpKSB7XG4gICAgICByZXR1cm4gJ2NvbnRlbnQnO1xuICAgIH1cbiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZ3JpZF0nKSkge1xuICAgICAgcmV0dXJuICdtZWRpYSc7XG4gICAgfVxuICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktZm9ybV0nKSkge1xuICAgICAgcmV0dXJuICdkZXBsb3knO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9wZW5Xb3Jrc3BhY2VCYWNrTW9kYWwoKSB7XG4gICAgaWYgKCF3b3Jrc3BhY2VCYWNrTW9kYWwpIHtcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9hZG1pbi9zaXRlcyc7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHdvcmtzcGFjZUJhY2tNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICB3b3Jrc3BhY2VCYWNrTW9kYWwuY2xhc3NMaXN0LmFkZCgnZmxleCcpO1xuICAgIGFjdGl2YXRlTW9kYWwod29ya3NwYWNlQmFja01vZGFsLCBjbG9zZVdvcmtzcGFjZUJhY2tNb2RhbCk7XG4gIH1cblxuICBmdW5jdGlvbiBjbG9zZVdvcmtzcGFjZUJhY2tNb2RhbCgpIHtcbiAgICBpZiAoIXdvcmtzcGFjZUJhY2tNb2RhbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB3b3Jrc3BhY2VCYWNrTW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgd29ya3NwYWNlQmFja01vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2ZsZXgnKTtcbiAgICBkZWFjdGl2YXRlTW9kYWwod29ya3NwYWNlQmFja01vZGFsKTtcbiAgfVxuXG4gIHdvcmtzcGFjZUJhY2tCdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5Xb3Jrc3BhY2VCYWNrTW9kYWwpO1xuICB9KTtcbiAgd29ya3NwYWNlQmFja0NhbmNlbC5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZVdvcmtzcGFjZUJhY2tNb2RhbCk7XG4gIH0pO1xuICB3b3Jrc3BhY2VCYWNrQ29uZmlybT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgY2xvc2VXb3Jrc3BhY2VCYWNrTW9kYWwoKTtcbiAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvYWRtaW4vc2l0ZXMnO1xuICB9KTtcblxuICBjb25zdCBUUkFOU1BBUkVOVF9QQVRURVJOID1cbiAgICAncmVwZWF0aW5nLWNvbmljLWdyYWRpZW50KCNjY2MgMCUgMjUlLCB3aGl0ZSAwJSA1MCUpIDUwJSAvIDhweCA4cHgnO1xuICBjb25zdCBwYXJzZUNzc0NvbG9yVG9SZ2IgPSAodmFsdWUpID0+IHtcbiAgICBpZiAoIXZhbHVlIHx8IHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpIHJldHVybiBudWxsO1xuICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSB2YWx1ZS50cmltKCkudG9Mb3dlckNhc2UoKTtcbiAgICBpZiAobm9ybWFsaXplZCA9PT0gJ3RyYW5zcGFyZW50JykgcmV0dXJuIG51bGw7XG4gICAgY29uc3QgcmdiTWF0Y2ggPSBub3JtYWxpemVkLm1hdGNoKFxuICAgICAgL15yZ2JcXFxcKFxcXFxzKihcXFxcZHsxLDN9KVxcXFxzKixcXFxccyooXFxcXGR7MSwzfSlcXFxccyosXFxcXHMqKFxcXFxkezEsM30pXFxcXHMqXFxcXCkkLyxcbiAgICApO1xuICAgIGlmIChyZ2JNYXRjaCkge1xuICAgICAgcmV0dXJuIFtcbiAgICAgICAgTWF0aC5taW4oMjU1LCBNYXRoLm1heCgwLCBOdW1iZXIocmdiTWF0Y2hbMV0pKSksXG4gICAgICAgIE1hdGgubWluKDI1NSwgTWF0aC5tYXgoMCwgTnVtYmVyKHJnYk1hdGNoWzJdKSkpLFxuICAgICAgICBNYXRoLm1pbigyNTUsIE1hdGgubWF4KDAsIE51bWJlcihyZ2JNYXRjaFszXSkpKSxcbiAgICAgIF07XG4gICAgfVxuICAgIGNvbnN0IGhleE1hdGNoID0gbm9ybWFsaXplZC5tYXRjaCgvXiMoW2EtZjAtOV17M318W2EtZjAtOV17Nn0pJC8pO1xuICAgIGlmIChoZXhNYXRjaCkge1xuICAgICAgY29uc3QgaGV4ID0gaGV4TWF0Y2hbMV07XG4gICAgICBjb25zdCBub3JtYWxpemVkSGV4ID1cbiAgICAgICAgaGV4Lmxlbmd0aCA9PT0gMyA/IGhleC5zcGxpdCgnJykubWFwKChjKSA9PiBgJHtjfSR7Y31gKS5qb2luKCcnKSA6IGhleDtcbiAgICAgIGNvbnN0IHIgPSBwYXJzZUludChub3JtYWxpemVkSGV4LnNsaWNlKDAsIDIpLCAxNik7XG4gICAgICBjb25zdCBnID0gcGFyc2VJbnQobm9ybWFsaXplZEhleC5zbGljZSgyLCA0KSwgMTYpO1xuICAgICAgY29uc3QgYiA9IHBhcnNlSW50KG5vcm1hbGl6ZWRIZXguc2xpY2UoNCwgNiksIDE2KTtcbiAgICAgIHJldHVybiBbciwgZywgYl07XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9O1xuICBjb25zdCBnZXRSZWFkYWJsZVRleHRDb2xvciA9IChiYWNrZ3JvdW5kQ29sb3IpID0+IHtcbiAgICBjb25zdCByZ2IgPSBwYXJzZUNzc0NvbG9yVG9SZ2IoYmFja2dyb3VuZENvbG9yKTtcbiAgICBpZiAoIXJnYikgcmV0dXJuICcjMGYxNzJhJztcbiAgICBjb25zdCBbciwgZywgYl0gPSByZ2I7XG4gICAgY29uc3QgbHVtaW5hbmNlID0gKDAuMjEyNiAqIHIgKyAwLjcxNTIgKiBnICsgMC4wNzIyICogYikgLyAyNTU7XG4gICAgcmV0dXJuIGx1bWluYW5jZSA+IDAuNjIgPyAnIzBmMTcyYScgOiAnI2ZmZmZmZic7XG4gIH07XG4gIGNvbnN0IHN0eWxlU2VsZWN0T3B0aW9ucyA9IChzZWxlY3QpID0+IHtcbiAgICBpZiAoIXNlbGVjdCkgcmV0dXJuO1xuICAgIEFycmF5LmZyb20oc2VsZWN0Lm9wdGlvbnMpLmZvckVhY2goKG9wdGlvbikgPT4ge1xuICAgICAgY29uc3Qgb3B0aW9uQ29sb3IgPSBvcHRpb24uZGF0YXNldD8uY29sb3I7XG4gICAgICBpZiAoIW9wdGlvbkNvbG9yKSByZXR1cm47XG4gICAgICBpZiAob3B0aW9uQ29sb3IgPT09ICd0cmFuc3BhcmVudCcpIHtcbiAgICAgICAgb3B0aW9uLnN0eWxlLmJhY2tncm91bmQgPSBUUkFOU1BBUkVOVF9QQVRURVJOO1xuICAgICAgICBvcHRpb24uc3R5bGUuY29sb3IgPSAnIzQ3NTU2OSc7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIG9wdGlvbi5zdHlsZS5iYWNrZ3JvdW5kID0gb3B0aW9uQ29sb3I7XG4gICAgICBvcHRpb24uc3R5bGUuY29sb3IgPSBnZXRSZWFkYWJsZVRleHRDb2xvcihvcHRpb25Db2xvcik7XG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3QgYWN0aXZlU2VjdGlvbiA9IHdvcmtzcGFjZUNvbnRleHQ/LnNlY3Rpb24gfHwgZGV0ZWN0V29ya3NwYWNlU2VjdGlvbigpO1xuXG4gIGlmIChhY3RpdmVTZWN0aW9uID09PSAnZGVzaWduJykge1xuICAgIGluaXREZXNpZ25Xb3Jrc3BhY2UoKTtcbiAgfVxuICBpZiAoYWN0aXZlU2VjdGlvbiA9PT0gJ2NvbnRlbnQnKSB7XG4gICAgaW5pdENvbnRlbnRXb3Jrc3BhY2UoKTtcbiAgfVxuICBpZiAoYWN0aXZlU2VjdGlvbiA9PT0gJ21lZGlhJykge1xuICAgIGluaXRNZWRpYVdvcmtzcGFjZSgpO1xuICB9XG4gIGlmIChhY3RpdmVTZWN0aW9uID09PSAnZGVwbG95Jykge1xuICAgIGluaXREZXBsb3lXb3Jrc3BhY2UoKTtcbiAgfVxuICBpZiAoYWN0aXZlU2VjdGlvbiA9PT0gJ3NldHRpbmdzJykge1xuICAgIGluaXRTZXR0aW5nc1dvcmtzcGFjZSgpO1xuICB9XG5cbiAgaWYgKHdvcmtzcGFjZUNvbnRleHQgJiYgc3RvcmVkU2l0ZS5uYW1lKSB7XG4gICAgdXBkYXRlU2l0ZUxhYmVscyhzdG9yZWRTaXRlLm5hbWUpO1xuICB9XG5cbiAgZnVuY3Rpb24gaW5pdERlc2lnbldvcmtzcGFjZSgpIHtcbiAgICBjb25zdCBwYWdlTGlzdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1wYWdlLWxpc3RdJyk7XG4gICAgaWYgKHBhZ2VMaXN0cy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgYWN0aXZlVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hY3RpdmUtcGFnZS10aXRsZV0nKTtcbiAgICBjb25zdCBhY3RpdmVTbHVnID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWN0aXZlLXBhZ2Utc2x1Z10nKTtcbiAgICBjb25zdCBwcmV2aWV3VGFncyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXBhZ2UtcHJldmlldy10YWdzXScpO1xuICAgIGNvbnN0IHByZXZpZXdGcmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXBhZ2UtcHJldmlldy1mcmFtZV0nKTtcbiAgICBjb25zdCBwcmV2aWV3RnJhbWVXcmFwcGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcmV2aWV3LWZyYW1lLXdyYXBwZXJdJyk7XG4gICAgY29uc3QgcHJldmlld1NoZWxsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcmV2aWV3LXNoZWxsXScpO1xuICAgIGNvbnN0IHByZXZpZXdWaWV3QnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXByZXZpZXctdmlldy1idXR0b25dJyk7XG4gICAgY29uc3QgcHJldmlld0N1cnJlbnRWaWV3TGFiZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLXByZXZpZXctY3VycmVudC12aWV3XScpO1xuICAgIGNvbnN0IHByZXZpZXdPcGVuQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcHJldmlldy1vcGVuXScpO1xuICAgIGNvbnN0IHByZXZpZXdTdGF0dXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wcmV2aWV3LXN0YXR1c10nKTtcbiAgICBjb25zdCBwcmV2aWV3SGlnaGxpZ2h0T3ZlcmxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXByZXZpZXctaGlnaGxpZ2h0XScpO1xuICAgIC8vIFNFTyBwYW5lbCBlbGVtZW50c1xuICAgIGNvbnN0IHNlb1RvZ2dsZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby10b2dnbGVdJyk7XG4gICAgY29uc3Qgc2VvUGFuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8tcGFuZWxdJyk7XG4gICAgY29uc3Qgc2VvQ2xvc2VCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8tY2xvc2VdJyk7XG4gICAgY29uc3Qgc2VvRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby1mb3JtXScpO1xuICAgIGNvbnN0IHNlb1RpdGxlSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8tdGl0bGVdJyk7XG4gICAgY29uc3Qgc2VvRGVzY3JpcHRpb25JbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby1kZXNjcmlwdGlvbl0nKTtcbiAgICBjb25zdCBzZW9JbmRleGVkQ2hlY2tib3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8taW5kZXhlZF0nKTtcbiAgICBjb25zdCBzZW9GZWVkYmFjayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby1mZWVkYmFja10nKTtcbiAgICBjb25zdCBzZW9TYXZlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2VvLXNhdmVdJyk7XG4gICAgY29uc3QgcGFnZUFjY2Vzc2liaWxpdHlUb2dnbGVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgJ1tkYXRhLXBhZ2UtYWNjZXNzaWJpbGl0eS10b2dnbGVdJyxcbiAgICApO1xuICAgIGNvbnN0IHBhZ2VBY2Nlc3NpYmlsaXR5UGFuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLWFjY2Vzc2liaWxpdHktcGFuZWxdJyk7XG4gICAgY29uc3QgcGFnZUFjY2Vzc2liaWxpdHlDbG9zZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAnW2RhdGEtcGFnZS1hY2Nlc3NpYmlsaXR5LWNsb3NlXScsXG4gICAgKTtcbiAgICBjb25zdCBwYWdlQWNjZXNzaWJpbGl0eUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLWFjY2Vzc2liaWxpdHktZm9ybV0nKTtcbiAgICBjb25zdCBwYWdlQWNjZXNzaWJpbGl0eU5hdkNoZWNrYm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgICdbZGF0YS1wYWdlLWFjY2Vzc2liaWxpdHktbmF2XScsXG4gICAgKTtcbiAgICBjb25zdCBwYWdlQWNjZXNzaWJpbGl0eU1haW5JbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAnW2RhdGEtcGFnZS1hY2Nlc3NpYmlsaXR5LW1haW5dJyxcbiAgICApO1xuICAgIGNvbnN0IHBhZ2VBY2Nlc3NpYmlsaXR5RmVlZGJhY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgJ1tkYXRhLXBhZ2UtYWNjZXNzaWJpbGl0eS1mZWVkYmFja10nLFxuICAgICk7XG4gICAgY29uc3QgcGFnZUFjY2Vzc2liaWxpdHlTYXZlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgICdbZGF0YS1wYWdlLWFjY2Vzc2liaWxpdHktc2F2ZV0nLFxuICAgICk7XG4gICAgLy8gUGFnZSBwcm9wZXJ0aWVzIHBhbmVsIGVsZW1lbnRzXG4gICAgY29uc3QgcGFnZVByb3BzVG9nZ2xlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcm9wcy10b2dnbGVdJyk7XG4gICAgY29uc3QgcGFnZVByb3BzUGFuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLXByb3BzLXBhbmVsXScpO1xuICAgIGNvbnN0IHBhZ2VQcm9wc0Nsb3NlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcm9wcy1jbG9zZV0nKTtcbiAgICBjb25zdCBwYWdlUHJvcHNGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcm9wcy1mb3JtXScpO1xuICAgIGNvbnN0IHBhZ2VOYW1lSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLW5hbWVdJyk7XG4gICAgY29uc3QgcGFnZVRpdGxlSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLXRpdGxlLWlucHV0XScpO1xuICAgIGNvbnN0IHBhZ2VTbHVnSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLXNsdWctaW5wdXRdJyk7XG4gICAgY29uc3QgcGFnZURlc2NyaXB0aW9uSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLWRlc2NyaXB0aW9uXScpO1xuICAgIGNvbnN0IHBhZ2VQcm9wc0ZlZWRiYWNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcm9wcy1mZWVkYmFja10nKTtcbiAgICBjb25zdCBwYWdlUHJvcHNTYXZlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcm9wcy1zYXZlXScpO1xuICAgIGNvbnN0IGJsb2NrTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2Nrcy1saXN0XScpO1xuICAgIGNvbnN0IGJsb2NrTGlzdEVtcHR5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2tzLWVtcHR5XScpO1xuICAgIGNvbnN0IGJsb2NrQ291bnRCYWRnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWNvdW50XScpO1xuICAgIGNvbnN0IGJsb2NrTGlicmFyeVRvZ2dsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWxpYnJhcnktdG9nZ2xlXScpO1xuICAgIGNvbnN0IGJsb2NrTGlicmFyeSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWxpYnJhcnldJyk7XG4gICAgY29uc3QgYmxvY2tBZGRCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYmxvY2stYWRkXScpO1xuICAgIGNvbnN0IGJsb2NrRGVsZXRlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1kZWxldGUtbW9kYWxdJyk7XG4gICAgY29uc3QgYmxvY2tEZWxldGVDb25maXJtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZGVsZXRlLWNvbmZpcm1dJyk7XG4gICAgY29uc3QgYmxvY2tEZWxldGVDYW5jZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1kZWxldGUtY2FuY2VsXScpO1xuICAgIGNvbnN0IGJsb2NrRGV0YWlsRW1wdHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1kZXRhaWwtZW1wdHldJyk7XG4gICAgY29uc3QgYmxvY2tEZXRhaWxTdGF0dXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1kZXRhaWwtc3RhdHVzXScpO1xuICAgIGNvbnN0IGJsb2NrRWRpdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZWRpdG9yXScpO1xuICAgIGNvbnN0IGJsb2NrRWRpdG9yVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1lZGl0b3ItYmxvY2stbmFtZV0nKTtcbiAgICBjb25zdCBibG9ja0VkaXRvclR5cGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1lZGl0b3ItYmxvY2stdHlwZV0nKTtcbiAgICBjb25zdCBibG9ja0VkaXRvclVuc3VwcG9ydGVkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZWRpdG9yLXVuc3VwcG9ydGVkXScpO1xuICAgIGNvbnN0IGJsb2NrRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWZvcm1dJyk7XG4gICAgY29uc3Qgc3R5bGVDb2xvckNoaXAgPSAoY2hpcCwgY29sb3IpID0+IHtcbiAgICAgIGlmICghY2hpcCkgcmV0dXJuO1xuICAgICAgaWYgKGNvbG9yID09PSAndHJhbnNwYXJlbnQnKSB7XG4gICAgICAgIGNoaXAuc3R5bGUuYmFja2dyb3VuZCA9IFRSQU5TUEFSRU5UX1BBVFRFUk47XG4gICAgICAgIGNoaXAuc3R5bGUuYm9yZGVyQ29sb3IgPSAnI2NiZDVmNSc7XG4gICAgICAgIGNoaXAuc3R5bGUuYm94U2hhZG93ID0gJyc7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNoaXAuc3R5bGUuYmFja2dyb3VuZCA9IGNvbG9yO1xuICAgICAgY2hpcC5zdHlsZS5ib3JkZXJDb2xvciA9IGNvbG9yO1xuICAgICAgY2hpcC5zdHlsZS5ib3hTaGFkb3cgPSAnMCAwIDAgMXB4IHJnYmEoMTUsMjMsNDIsMC4xNSknO1xuICAgIH07XG4gICAgY29uc3QgZW5zdXJlQ3VzdG9tVGhlbWVPcHRpb24gPSAoc2VsZWN0LCB2YWx1ZSkgPT4ge1xuICAgICAgaWYgKCFzZWxlY3QgfHwgIXZhbHVlKSByZXR1cm47XG4gICAgICBpZiAoQXJyYXkuZnJvbShzZWxlY3Qub3B0aW9ucykuc29tZSgob3B0KSA9PiBvcHQudmFsdWUgPT09IHZhbHVlKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgIG9wdGlvbi52YWx1ZSA9IHZhbHVlO1xuICAgICAgb3B0aW9uLnRleHRDb250ZW50ID0gJ0NvdWxldXIgcGVyc29ubmFsaXNcdTAwRTllJztcbiAgICAgIG9wdGlvbi5kYXRhc2V0LmNvbG9yID0gdmFsdWU7XG4gICAgICBpZiAodmFsdWUgPT09ICd0cmFuc3BhcmVudCcpIHtcbiAgICAgICAgb3B0aW9uLnN0eWxlLmJhY2tncm91bmQgPSBUUkFOU1BBUkVOVF9QQVRURVJOO1xuICAgICAgICBvcHRpb24uc3R5bGUuY29sb3IgPSAnIzQ3NTU2OSc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvcHRpb24uc3R5bGUuYmFja2dyb3VuZCA9IHZhbHVlO1xuICAgICAgICBvcHRpb24uc3R5bGUuY29sb3IgPSBnZXRSZWFkYWJsZVRleHRDb2xvcih2YWx1ZSk7XG4gICAgICB9XG4gICAgICBzZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uKTtcbiAgICAgIHN0eWxlU2VsZWN0T3B0aW9ucyhzZWxlY3QpO1xuICAgIH07XG4gICAgY29uc3QgdXBkYXRlQ29sb3JTZWxlY3RQcmV2aWV3ID0gKHNlbGVjdCkgPT4ge1xuICAgICAgaWYgKCFzZWxlY3QpIHJldHVybjtcbiAgICAgIGNvbnN0IHNlbGVjdGVkT3B0aW9uID0gc2VsZWN0Lm9wdGlvbnNbc2VsZWN0LnNlbGVjdGVkSW5kZXhdO1xuICAgICAgY29uc3QgY29sb3IgPSBzZWxlY3RlZE9wdGlvbj8uZGF0YXNldD8uY29sb3IgfHwgJyNmZmZmZmYnO1xuICAgICAgY29uc3QgY29sb3JQcmV2aWV3ID0gc2VsZWN0LmNsb3Nlc3QoJy5yZWxhdGl2ZScpPy5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xvci1wcmV2aWV3XScpO1xuICAgICAgaWYgKGNvbG9yUHJldmlldykge1xuICAgICAgICBpZiAoY29sb3IgPT09ICd0cmFuc3BhcmVudCcpIHtcbiAgICAgICAgICBjb2xvclByZXZpZXcuc3R5bGUuYmFja2dyb3VuZCA9IFRSQU5TUEFSRU5UX1BBVFRFUk47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29sb3JQcmV2aWV3LnN0eWxlLmJhY2tncm91bmQgPSBjb2xvcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3QgY29sb3JDaGlwID0gc2VsZWN0LmNsb3Nlc3QoJy5yZWxhdGl2ZScpPy5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1jb2xvci1jaGlwXScpO1xuICAgICAgc3R5bGVDb2xvckNoaXAoY29sb3JDaGlwLCBjb2xvcik7XG4gICAgfTtcblxuICAgIGNvbnN0IHRoZW1lQ29sb3JTZWxlY3RzID0gYmxvY2tGb3JtXG4gICAgICA/IEFycmF5LmZyb20oYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXRoZW1lLWNvbG9yLXNlbGVjdF0nKSlcbiAgICAgIDogW107XG4gICAgY29uc3QgaXNCYWNrZ3JvdW5kVGhlbWVTZWxlY3QgPSAoc2VsZWN0KSA9PiB7XG4gICAgICBjb25zdCBuYW1lID0gc2VsZWN0Py5nZXRBdHRyaWJ1dGU/LignbmFtZScpIHx8ICcnO1xuICAgICAgcmV0dXJuIG5hbWUuZW5kc1dpdGgoJy1iZycpO1xuICAgIH07XG4gICAgY29uc3QgdGhlbWVDb2xvclByZXNldHMgPSBbXG4gICAgICB7IGxhYmVsOiAnQ291bGV1ciBwcmltYWlyZScsIHZhbHVlOiAndGhlbWUtcHJpbWFyeScsIGNzc1ZhcjogJy0tY29sb3ItcHJpbWFyeScgfSxcbiAgICAgIHsgbGFiZWw6ICdDb3VsZXVyIHNlY29uZGFpcmUnLCB2YWx1ZTogJ3RoZW1lLXNlY29uZGFyeScsIGNzc1ZhcjogJy0tY29sb3Itc2Vjb25kYXJ5JyB9LFxuICAgICAgeyBsYWJlbDogJ0NvdWxldXIgYWNjZW50JywgdmFsdWU6ICd0aGVtZS1hY2NlbnQnLCBjc3NWYXI6ICctLWNvbG9yLWFjY2VudCcgfSxcbiAgICAgIHsgbGFiZWw6ICdGb25kJywgdmFsdWU6ICd0aGVtZS1iYWNrZ3JvdW5kJywgY3NzVmFyOiAnLS1jb2xvci1iYWNrZ3JvdW5kJyB9LFxuICAgICAgeyBsYWJlbDogJ1RleHRlJywgdmFsdWU6ICd0aGVtZS10ZXh0JywgY3NzVmFyOiAnLS1jb2xvci10ZXh0JyB9LFxuICAgIF07XG4gICAgY29uc3QgZ2V0Q29tcHV0ZWRUaGVtZUNvbG9yVmFsdWUgPSAoY3NzVmFyLCBmYWxsYmFjayA9ICcjZmZmZmZmJykgPT4ge1xuICAgICAgaWYgKCFjc3NWYXIpIHJldHVybiBmYWxsYmFjaztcbiAgICAgIGNvbnN0IGNvbXB1dGVkID0gZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLmdldFByb3BlcnR5VmFsdWUoY3NzVmFyKTtcbiAgICAgIHJldHVybiBjb21wdXRlZCA/IGNvbXB1dGVkLnRyaW0oKSA6IGZhbGxiYWNrO1xuICAgIH07XG4gICAgY29uc3QgZmlsbFRoZW1lQ29sb3JTZWxlY3QgPSAoc2VsZWN0KSA9PiB7XG4gICAgICBpZiAoIXNlbGVjdCkgcmV0dXJuO1xuICAgICAgc2VsZWN0LmlubmVySFRNTCA9ICcnO1xuICAgICAgdGhlbWVDb2xvclByZXNldHMuZm9yRWFjaCgoeyBsYWJlbCwgdmFsdWUsIGNzc1ZhciB9KSA9PiB7XG4gICAgICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICBvcHRpb24udmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgY29uc3QgY29sb3JWYWx1ZSA9IGdldENvbXB1dGVkVGhlbWVDb2xvclZhbHVlKGNzc1Zhcik7XG4gICAgICAgIG9wdGlvbi50ZXh0Q29udGVudCA9IGxhYmVsO1xuICAgICAgICBvcHRpb24uZGF0YXNldC5jb2xvciA9IGNvbG9yVmFsdWU7XG4gICAgICAgIGlmIChjb2xvclZhbHVlID09PSAndHJhbnNwYXJlbnQnKSB7XG4gICAgICAgICAgb3B0aW9uLnN0eWxlLmJhY2tncm91bmQgPSBUUkFOU1BBUkVOVF9QQVRURVJOO1xuICAgICAgICAgIG9wdGlvbi5zdHlsZS5jb2xvciA9ICcjNDc1NTY5JztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9wdGlvbi5zdHlsZS5iYWNrZ3JvdW5kID0gY29sb3JWYWx1ZTtcbiAgICAgICAgICAgIG9wdGlvbi5zdHlsZS5jb2xvciA9IGdldFJlYWRhYmxlVGV4dENvbG9yKGNvbG9yVmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNlbGVjdC52YWx1ZSA9IHRoZW1lQ29sb3JQcmVzZXRzWzBdLnZhbHVlO1xuICAgICAgICBzZWxlY3QucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xuICAgICAgICBpZiAoaXNCYWNrZ3JvdW5kVGhlbWVTZWxlY3Qoc2VsZWN0KSkge1xuICAgICAgICAgIHN0eWxlU2VsZWN0T3B0aW9ucyhzZWxlY3QpO1xuICAgICAgICB9XG4gICAgICAgIHVwZGF0ZUNvbG9yU2VsZWN0UHJldmlldyhzZWxlY3QpO1xuICAgICAgfTtcbiAgICAgIGNvbnN0IHJlZnJlc2hUaGVtZUNvbG9yU2VsZWN0cyA9ICgpID0+IHRoZW1lQ29sb3JTZWxlY3RzLmZvckVhY2goZmlsbFRoZW1lQ29sb3JTZWxlY3QpO1xuICAgICAgcmVmcmVzaFRoZW1lQ29sb3JTZWxlY3RzKCk7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdhaS10aGVtZS11cGRhdGVkJywgcmVmcmVzaFRoZW1lQ29sb3JTZWxlY3RzKTtcbiAgICBjb25zdCBibG9ja0Zvcm1TZWN0aW9ucyA9IGJsb2NrRm9ybVxuICAgICAgPyBBcnJheS5mcm9tKGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1lZGl0b3Itc2VjdGlvbl0nKSlcbiAgICAgIDogW107XG4gICAgLy8gT25nbGV0cyBDb250ZW51IC8gQXBwYXJlbmNlXG4gICAgY29uc3QgYmxvY2tUYWJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYmxvY2stdGFiXScpO1xuICAgIGxldCBhY3RpdmVCbG9ja1RhYiA9ICdjb250ZW50JztcblxuICAgIC8vIE9uZ2xldHMgcGFubmVhdSBnYXVjaGUgKEJsb2NzIC8gUGFnZXMpXG4gICAgY29uc3QgbGVmdFBhbmVsVGFicyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWxlZnQtdGFiXScpO1xuICAgIGNvbnN0IGxlZnRQYW5lbEJsb2NrcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWxlZnQtcGFuZWw9XCJibG9ja3NcIl0nKTtcbiAgICBjb25zdCBsZWZ0UGFuZWxQYWdlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWxlZnQtcGFuZWw9XCJwYWdlc1wiXScpO1xuICAgIGxldCBhY3RpdmVMZWZ0VGFiID0gJ2Jsb2Nrcyc7XG5cbiAgICAvLyBGb25jdGlvbiBwb3VyIHN3aXRjaGVyIGVudHJlIGxlcyBvbmdsZXRzIEJsb2NzL1BhZ2VzIGR1IHBhbm5lYXUgZ2F1Y2hlXG4gICAgY29uc3Qgc3dpdGNoTGVmdFRhYiA9ICh0YWJOYW1lKSA9PiB7XG4gICAgICBhY3RpdmVMZWZ0VGFiID0gdGFiTmFtZTtcbiAgICAgIGxlZnRQYW5lbFRhYnMuZm9yRWFjaCgodGFiKSA9PiB7XG4gICAgICAgIGNvbnN0IGlzQWN0aXZlID0gdGFiLmRhdGFzZXQubGVmdFRhYiA9PT0gdGFiTmFtZTtcbiAgICAgICAgdGFiLnNldEF0dHJpYnV0ZSgnYXJpYS1zZWxlY3RlZCcsIGlzQWN0aXZlID8gJ3RydWUnIDogJ2ZhbHNlJyk7XG4gICAgICAgIGlmIChpc0FjdGl2ZSkge1xuICAgICAgICAgIHRhYi5jbGFzc0xpc3QuYWRkKCd0ZXh0LVsjOUM2QkZGXScpO1xuICAgICAgICAgIHRhYi5jbGFzc0xpc3QucmVtb3ZlKCd0ZXh0LXNsYXRlLTUwMCcsICdob3Zlcjp0ZXh0LXNsYXRlLTcwMCcpO1xuICAgICAgICAgIHRhYi5jbGFzc0xpc3QuYWRkKCdhZnRlcjphYnNvbHV0ZScsICdhZnRlcjpib3R0b20tMCcsICdhZnRlcjpsZWZ0LTAnLCAnYWZ0ZXI6cmlnaHQtMCcsICdhZnRlcjpoLTAuNScsICdhZnRlcjpiZy1bIzlDNkJGRl0nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0YWIuY2xhc3NMaXN0LnJlbW92ZSgndGV4dC1bIzlDNkJGRl0nKTtcbiAgICAgICAgICB0YWIuY2xhc3NMaXN0LmFkZCgndGV4dC1zbGF0ZS01MDAnLCAnaG92ZXI6dGV4dC1zbGF0ZS03MDAnKTtcbiAgICAgICAgICB0YWIuY2xhc3NMaXN0LnJlbW92ZSgnYWZ0ZXI6YWJzb2x1dGUnLCAnYWZ0ZXI6Ym90dG9tLTAnLCAnYWZ0ZXI6bGVmdC0wJywgJ2FmdGVyOnJpZ2h0LTAnLCAnYWZ0ZXI6aC0wLjUnLCAnYWZ0ZXI6YmctWyM5QzZCRkZdJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgLy8gQWZmaWNoZXIvbWFzcXVlciBsZXMgcGFuZWxzXG4gICAgICBpZiAobGVmdFBhbmVsQmxvY2tzKSB7XG4gICAgICAgIGxlZnRQYW5lbEJsb2Nrcy5jbGFzc0xpc3QudG9nZ2xlKCdoaWRkZW4nLCB0YWJOYW1lICE9PSAnYmxvY2tzJyk7XG4gICAgICB9XG4gICAgICBpZiAobGVmdFBhbmVsUGFnZXMpIHtcbiAgICAgICAgbGVmdFBhbmVsUGFnZXMuY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZGVuJywgdGFiTmFtZSAhPT0gJ3BhZ2VzJyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIEV2ZW50IGxpc3RlbmVycyBwb3VyIGxlcyBvbmdsZXRzIGR1IHBhbm5lYXUgZ2F1Y2hlXG4gICAgbGVmdFBhbmVsVGFicy5mb3JFYWNoKCh0YWIpID0+IHtcbiAgICAgIHRhYi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgc3dpdGNoTGVmdFRhYih0YWIuZGF0YXNldC5sZWZ0VGFiKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIFxuICAgIC8vIERcdTAwRTljbGFyYXRpb25zIGRlcyBcdTAwRTlsXHUwMEU5bWVudHMgZCdhY3Rpb25zIGR1IGZvcm11bGFpcmUgKGF2YW50IHN3aXRjaEJsb2NrVGFiKVxuICAgIGNvbnN0IGJsb2NrRm9ybUFjdGlvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1mb3JtLWFjdGlvbnNdJyk7XG4gICAgY29uc3QgYmxvY2tGb3JtQXV0b3NhdmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1mb3JtLWF1dG9zYXZlXScpO1xuXG4gICAgLy8gRm9uY3Rpb24gcG91ciBzd2l0Y2hlciBlbnRyZSBsZXMgb25nbGV0cyBDb250ZW51L0FwcGFyZW5jZVxuICAgIGNvbnN0IHN3aXRjaEJsb2NrVGFiID0gKHRhYk5hbWUpID0+IHtcbiAgICAgIGFjdGl2ZUJsb2NrVGFiID0gdGFiTmFtZTtcbiAgICAgIC8vIE1ldHRyZSBcdTAwRTAgam91ciBsZXMgc3R5bGVzIGRlcyBib3V0b25zIGQnb25nbGV0XG4gICAgICBibG9ja1RhYnMuZm9yRWFjaCgodGFiKSA9PiB7XG4gICAgICAgIGNvbnN0IGlzQWN0aXZlID0gdGFiLmRhdGFzZXQuYmxvY2tUYWIgPT09IHRhYk5hbWU7XG4gICAgICAgIHRhYi5zZXRBdHRyaWJ1dGUoJ2FyaWEtc2VsZWN0ZWQnLCBpc0FjdGl2ZSA/ICd0cnVlJyA6ICdmYWxzZScpO1xuICAgICAgICBpZiAoaXNBY3RpdmUpIHtcbiAgICAgICAgICB0YWIuY2xhc3NMaXN0LmFkZCgndGV4dC1bIzlDNkJGRl0nKTtcbiAgICAgICAgICB0YWIuY2xhc3NMaXN0LnJlbW92ZSgndGV4dC1zbGF0ZS01MDAnLCAnaG92ZXI6dGV4dC1zbGF0ZS03MDAnKTtcbiAgICAgICAgICB0YWIuY2xhc3NMaXN0LmFkZCgnYWZ0ZXI6YWJzb2x1dGUnLCAnYWZ0ZXI6Ym90dG9tLTAnLCAnYWZ0ZXI6bGVmdC0wJywgJ2FmdGVyOnJpZ2h0LTAnLCAnYWZ0ZXI6aC0wLjUnLCAnYWZ0ZXI6YmctWyM5QzZCRkZdJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGFiLmNsYXNzTGlzdC5yZW1vdmUoJ3RleHQtWyM5QzZCRkZdJyk7XG4gICAgICAgICAgdGFiLmNsYXNzTGlzdC5hZGQoJ3RleHQtc2xhdGUtNTAwJywgJ2hvdmVyOnRleHQtc2xhdGUtNzAwJyk7XG4gICAgICAgICAgdGFiLmNsYXNzTGlzdC5yZW1vdmUoJ2FmdGVyOmFic29sdXRlJywgJ2FmdGVyOmJvdHRvbS0wJywgJ2FmdGVyOmxlZnQtMCcsICdhZnRlcjpyaWdodC0wJywgJ2FmdGVyOmgtMC41JywgJ2FmdGVyOmJnLVsjOUM2QkZGXScpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIC8vIEFmZmljaGVyL21hc3F1ZXIgbGVzIHBhbmVscyBkYW5zIGxhIHNlY3Rpb24gYWN0aXZlXG4gICAgICBjb25zdCBhY3RpdmVTZWN0aW9uID0gYmxvY2tGb3JtPy5xdWVyeVNlbGVjdG9yKCdbZGF0YS1lZGl0b3Itc2VjdGlvbl06bm90KC5oaWRkZW4pJyk7XG4gICAgICBpZiAoYWN0aXZlU2VjdGlvbikge1xuICAgICAgICBjb25zdCBwYW5lbHMgPSBhY3RpdmVTZWN0aW9uLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWJsb2NrLXBhbmVsXScpO1xuICAgICAgICBwYW5lbHMuZm9yRWFjaCgocGFuZWwpID0+IHtcbiAgICAgICAgICBpZiAocGFuZWwuZGF0YXNldC5ibG9ja1BhbmVsID09PSB0YWJOYW1lKSB7XG4gICAgICAgICAgICBwYW5lbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFuZWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIC8vIEFmZmljaGVyL21hc3F1ZXIgbGVzIGJvdXRvbnMgc2Vsb24gbCdvbmdsZXRcbiAgICAgIC8vIENvbnRlbnUgXHUyMTkyIGJvdXRvbnMgRW5yZWdpc3RyZXIvQW5udWxlclxuICAgICAgLy8gQXBwYXJlbmNlIFx1MjE5MiBpbmRpY2F0ZXVyIGF1dG8tc2F2ZVxuICAgICAgaWYgKGJsb2NrRm9ybUFjdGlvbnMgJiYgYmxvY2tGb3JtQXV0b3NhdmUpIHtcbiAgICAgICAgaWYgKHRhYk5hbWUgPT09ICdjb250ZW50Jykge1xuICAgICAgICAgIGJsb2NrRm9ybUFjdGlvbnMuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgYmxvY2tGb3JtQXV0b3NhdmUuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYmxvY2tGb3JtQWN0aW9ucy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgICBibG9ja0Zvcm1BdXRvc2F2ZS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBFdmVudCBsaXN0ZW5lcnMgcG91ciBsZXMgb25nbGV0c1xuICAgIGJsb2NrVGFicy5mb3JFYWNoKCh0YWIpID0+IHtcbiAgICAgIHRhYi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgc3dpdGNoQmxvY2tUYWIodGFiLmRhdGFzZXQuYmxvY2tUYWIpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBjb25zdCBjb2xsZWN0aW9uU2VsZWN0ID0gYmxvY2tGb3JtPy5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImNvbGxlY3Rpb24tZ3JpZC1jb2xsZWN0aW9uXCJdJyk7XG4gICAgY29uc3QgY29sbGVjdGlvblNlbGVjdGlvbkluZm8gPSBibG9ja0Zvcm0/LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAnW2RhdGEtY29sbGVjdGlvbi1zZWxlY3Rpb24taW5mb10nLFxuICAgICk7XG4gICAgY29uc3QgYmxvY2tGb3JtQ2FuY2VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZm9ybS1jYW5jZWxdJyk7XG4gICAgY29uc3QgZ3JvdXBQcmV2aWV3TW9iaWxlID0gYmxvY2tGb3JtPy5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ncm91cC1wcmV2aWV3LW1vYmlsZV0nKTtcbiAgICBjb25zdCBncm91cFByZXZpZXdEZXNrdG9wID0gYmxvY2tGb3JtPy5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ncm91cC1wcmV2aWV3LWRlc2t0b3BdJyk7XG4gICAgY29uc3QgY29sbGVjdGlvblByZXZpZXdNb2JpbGUgPSBibG9ja0Zvcm0/LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbGxlY3Rpb24tcHJldmlldy1tb2JpbGVdJyk7XG4gICAgY29uc3QgY29sbGVjdGlvblByZXZpZXdEZXNrdG9wID0gYmxvY2tGb3JtPy5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xsZWN0aW9uLXByZXZpZXctZGVza3RvcF0nKTtcbiAgICBjb25zdCBibG9ja1R5cGVGb3JtcyA9IHtcbiAgICAgIGhlcm86IHtcbiAgICAgICAgc2VjdGlvbjogJ2hlcm8nLFxuICAgICAgICBsYWJlbEZpZWxkOiAndGl0bGUnLFxuICAgICAgICBkZXNjcmlwdGlvbkZpZWxkOiAnc3VidGl0bGUnLFxuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICB0aXRsZTogJ2hlcm8tdGl0bGUnLFxuICAgICAgICAgIHN1YnRpdGxlOiAnaGVyby1zdWJ0aXRsZScsXG4gICAgICAgICAgY3RhTGFiZWw6ICdoZXJvLWN0YS1sYWJlbCcsXG4gICAgICAgICAgY3RhVXJsOiAnaGVyby1jdGEtdXJsJyxcbiAgICAgICAgICAvLyBBcHBhcmVuY2VcbiAgICAgICAgICBpbWFnZTogJ2hlcm8taW1hZ2UnLFxuICAgICAgICAgIGxheW91dDogJ2hlcm8tbGF5b3V0JyxcbiAgICAgICAgICBpbWFnZVdpZHRoOiAnaGVyby1pbWFnZS13aWR0aCcsXG4gICAgICAgICAgaW1hZ2VIZWlnaHQ6ICdoZXJvLWltYWdlLWhlaWdodCcsXG4gICAgICAgICAgaW1hZ2VPYmplY3RGaXQ6ICdoZXJvLWltYWdlLW9iamVjdC1maXQnLFxuICAgICAgICAgIGhlaWdodDogJ2hlcm8taGVpZ2h0JyxcbiAgICAgICAgICBjb250ZW50QWxpZ246ICdoZXJvLWNvbnRlbnQtYWxpZ24nLFxuICAgICAgICAgIGhvcml6b250YWxBbGlnbjogJ2hlcm8taG9yaXpvbnRhbC1hbGlnbicsXG4gICAgICAgICAgdGV4dEFsaWduOiAnaGVyby10ZXh0LWFsaWduJyxcbiAgICAgICAgICBvdmVybGF5OiAnaGVyby1vdmVybGF5JyxcbiAgICAgICAgICB0aXRsZVNpemU6ICdoZXJvLXRpdGxlLXNpemUnLFxuICAgICAgICAgIC8vIENhcmQgc3R5bGVcbiAgICAgICAgICBiZzogJ2hlcm8tYmcnLFxuICAgICAgICAgIGJvcmRlclJhZGl1czogJ2hlcm8tYm9yZGVyLXJhZGl1cycsXG4gICAgICAgICAgc2hhZG93OiAnaGVyby1zaGFkb3cnLFxuICAgICAgICAgIGJvcmRlcjogJ2hlcm8tYm9yZGVyJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBwYXJhZ3JhcGhlOiB7XG4gICAgICAgIHNlY3Rpb246ICdwYXJhZ3JhcGgnLFxuICAgICAgICBsYWJlbEZpZWxkOiAndGl0bGUnLFxuICAgICAgICBkZXNjcmlwdGlvbkZpZWxkOiAnY29udGVudCcsXG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIHRpdGxlOiAncGFyYWdyYXBoLXRpdGxlJyxcbiAgICAgICAgICBjb250ZW50OiAncGFyYWdyYXBoLWNvbnRlbnQnLFxuICAgICAgICAgIC8vIEFwcGFyZW5jZVxuICAgICAgICAgIGFsaWduOiAncGFyYWdyYXBoLWFsaWduJyxcbiAgICAgICAgICB0aXRsZVNpemU6ICdwYXJhZ3JhcGgtdGl0bGUtc2l6ZScsXG4gICAgICAgICAgdGV4dFNpemU6ICdwYXJhZ3JhcGgtdGV4dC1zaXplJyxcbiAgICAgICAgICBzcGFjaW5nOiAncGFyYWdyYXBoLXNwYWNpbmcnLFxuICAgICAgICAgIC8vIENhcmQgc3R5bGVcbiAgICAgICAgICBiZzogJ3BhcmFncmFwaC1iZycsXG4gICAgICAgICAgYm9yZGVyUmFkaXVzOiAncGFyYWdyYXBoLWJvcmRlci1yYWRpdXMnLFxuICAgICAgICAgIHNoYWRvdzogJ3BhcmFncmFwaC1zaGFkb3cnLFxuICAgICAgICAgIGJvcmRlcjogJ3BhcmFncmFwaC1ib3JkZXInLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGltYWdlOiB7XG4gICAgICAgIHNlY3Rpb246ICdpbWFnZScsXG4gICAgICAgIGxhYmVsRmllbGQ6ICdhbHQnLFxuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBzcmM6ICdpbWFnZS1zcmMnLFxuICAgICAgICAgIGFsdDogJ2ltYWdlLWFsdCcsXG4gICAgICAgICAgc2hvd0NhcHRpb246ICdpbWFnZS1jYXB0aW9uLXRvZ2dsZScsXG4gICAgICAgICAgY2FwdGlvbjogJ2ltYWdlLWNhcHRpb24nLFxuICAgICAgICAgIC8vIEFwcGFyZW5jZVxuICAgICAgICAgIHJvdW5kZWQ6ICdpbWFnZS1yb3VuZGVkJyxcbiAgICAgICAgICBzaGFkb3c6ICdpbWFnZS1zaGFkb3cnLFxuICAgICAgICAgIG1heFdpZHRoOiAnaW1hZ2UtbWF4LXdpZHRoJyxcbiAgICAgICAgICBoZWlnaHQ6ICdpbWFnZS1oZWlnaHQnLFxuICAgICAgICAgIG9iamVjdEZpdDogJ2ltYWdlLW9iamVjdC1maXQnLFxuICAgICAgICAgIGFsaWduOiAnaW1hZ2UtYWxpZ24nLFxuICAgICAgICAgIC8vIENhcmQgc3R5bGVcbiAgICAgICAgICBiZzogJ2ltYWdlLWJnJyxcbiAgICAgICAgICBib3JkZXJSYWRpdXM6ICdpbWFnZS1ib3JkZXItcmFkaXVzJyxcbiAgICAgICAgICBib3JkZXI6ICdpbWFnZS1ib3JkZXInLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGdyb3VwZToge1xuICAgICAgICBzZWN0aW9uOiAnZ3JvdXAnLFxuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAvLyBBcHBhcmVuY2VcbiAgICAgICAgICBjb2x1bW5zTW9iaWxlOiAnZ3JvdXAtY29sdW1ucy1tb2JpbGUnLFxuICAgICAgICAgIGNvbHVtbnNEZXNrdG9wOiAnZ3JvdXAtY29sdW1ucy1kZXNrdG9wJyxcbiAgICAgICAgICBnYXA6ICdncm91cC1nYXAnLFxuICAgICAgICAgIGl0ZW1zQWxpZ246ICdncm91cC1pdGVtcy1hbGlnbicsXG4gICAgICAgICAgbW9iaWxlTGF5b3V0OiAnZ3JvdXAtbW9iaWxlLWxheW91dCcsXG4gICAgICAgICAgLy8gQ2FyZCBzdHlsZVxuICAgICAgICAgIGJnOiAnZ3JvdXAtYmcnLFxuICAgICAgICAgIGJvcmRlclJhZGl1czogJ2dyb3VwLWJvcmRlci1yYWRpdXMnLFxuICAgICAgICAgIHNoYWRvdzogJ2dyb3VwLXNoYWRvdycsXG4gICAgICAgICAgYm9yZGVyOiAnZ3JvdXAtYm9yZGVyJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBjb2xsZWN0aW9uZ3JpZDoge1xuICAgICAgICBzZWN0aW9uOiAnY29sbGVjdGlvbicsXG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIGNvbGxlY3Rpb25JZDogJ2NvbGxlY3Rpb24tZ3JpZC1jb2xsZWN0aW9uJyxcbiAgICAgICAgICBsaW1pdDogJ2NvbGxlY3Rpb24tZ3JpZC1saW1pdCcsXG4gICAgICAgICAgLy8gQXBwYXJlbmNlXG4gICAgICAgICAgY29sdW1uc01vYmlsZTogJ2NvbGxlY3Rpb24tY29sdW1ucy1tb2JpbGUnLFxuICAgICAgICAgIGNvbHVtbnNEZXNrdG9wOiAnY29sbGVjdGlvbi1jb2x1bW5zLWRlc2t0b3AnLFxuICAgICAgICAgIGdhcDogJ2NvbGxlY3Rpb24tZ2FwJyxcbiAgICAgICAgICBpdGVtc0FsaWduOiAnY29sbGVjdGlvbi1pdGVtcy1hbGlnbicsXG4gICAgICAgICAgY2FyZFJvdW5kZWQ6ICdjb2xsZWN0aW9uLWNhcmQtcm91bmRlZCcsXG4gICAgICAgICAgbW9iaWxlTGF5b3V0OiAnY29sbGVjdGlvbi1tb2JpbGUtbGF5b3V0JyxcbiAgICAgICAgICAvLyBDYXJkIHN0eWxlXG4gICAgICAgICAgYmc6ICdjb2xsZWN0aW9uLWJnJyxcbiAgICAgICAgICBib3JkZXJSYWRpdXM6ICdjb2xsZWN0aW9uLWJvcmRlci1yYWRpdXMnLFxuICAgICAgICAgIHNoYWRvdzogJ2NvbGxlY3Rpb24tc2hhZG93JyxcbiAgICAgICAgICBib3JkZXI6ICdjb2xsZWN0aW9uLWJvcmRlcicsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgZm9ybToge1xuICAgICAgICBzZWN0aW9uOiAnZm9ybScsXG4gICAgICAgIGxhYmVsRmllbGQ6ICdmb3JtVGl0bGUnLFxuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBmb3JtVGl0bGU6ICdmb3JtLXRpdGxlJyxcbiAgICAgICAgICBhY3Rpb25Vcmw6ICdmb3JtLWFjdGlvbi11cmwnLFxuICAgICAgICAgIG1ldGhvZDogJ2Zvcm0tbWV0aG9kJyxcbiAgICAgICAgICBzZXJ2aWNlTmFtZTogJ2Zvcm0tc2VydmljZS1uYW1lJyxcbiAgICAgICAgICBzdWJtaXRMYWJlbDogJ2Zvcm0tc3VibWl0LWxhYmVsJyxcbiAgICAgICAgICBzdWNjZXNzTWVzc2FnZTogJ2Zvcm0tc3VjY2Vzcy1tZXNzYWdlJyxcbiAgICAgICAgICAvLyBBcHBhcmVuY2VcbiAgICAgICAgICBtYXhXaWR0aDogJ2Zvcm0tbWF4LXdpZHRoJyxcbiAgICAgICAgICBhbGlnbjogJ2Zvcm0tYWxpZ24nLFxuICAgICAgICAgIGJ1dHRvblJvdW5kZWQ6ICdmb3JtLWJ1dHRvbi1yb3VuZGVkJyxcbiAgICAgICAgICBzcGFjaW5nOiAnZm9ybS1zcGFjaW5nJyxcbiAgICAgICAgICAvLyBDYXJkIHN0eWxlXG4gICAgICAgICAgYmc6ICdmb3JtLWJnJyxcbiAgICAgICAgICBib3JkZXJSYWRpdXM6ICdmb3JtLWJvcmRlci1yYWRpdXMnLFxuICAgICAgICAgIHNoYWRvdzogJ2Zvcm0tc2hhZG93JyxcbiAgICAgICAgICBib3JkZXI6ICdmb3JtLWJvcmRlcicsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgbmV3c2xldHRlcmVtYmVkOiB7XG4gICAgICAgIHNlY3Rpb246ICduZXdzbGV0dGVyJyxcbiAgICAgICAgbGFiZWxGaWVsZDogJ3RpdGxlJyxcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgdGl0bGU6ICduZXdzbGV0dGVyLXRpdGxlJyxcbiAgICAgICAgICBzZXJ2aWNlTmFtZTogJ25ld3NsZXR0ZXItc2VydmljZS1uYW1lJyxcbiAgICAgICAgICBlbWJlZENvZGU6ICduZXdzbGV0dGVyLWVtYmVkLWNvZGUnLFxuICAgICAgICAgIC8vIEFwcGFyZW5jZVxuICAgICAgICAgIG1heFdpZHRoOiAnbmV3c2xldHRlci1tYXgtd2lkdGgnLFxuICAgICAgICAgIGFsaWduOiAnbmV3c2xldHRlci1hbGlnbicsXG4gICAgICAgICAgcGFkZGluZzogJ25ld3NsZXR0ZXItcGFkZGluZycsXG4gICAgICAgICAgYmc6ICduZXdzbGV0dGVyLWJnJyxcbiAgICAgICAgICAvLyBDYXJkIHN0eWxlXG4gICAgICAgICAgYm9yZGVyUmFkaXVzOiAnbmV3c2xldHRlci1ib3JkZXItcmFkaXVzJyxcbiAgICAgICAgICBzaGFkb3c6ICduZXdzbGV0dGVyLXNoYWRvdycsXG4gICAgICAgICAgYm9yZGVyOiAnbmV3c2xldHRlci1ib3JkZXInLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9O1xuICAgIGNvbnN0IGJsb2NrVHlwZUFsaWFzZXMgPSB7XG4gICAgICB0ZXh0ZTogJ3BhcmFncmFwaGUnLFxuICAgICAgcGFyYWdyYXBoOiAncGFyYWdyYXBoZScsXG4gICAgICBwYXJhZ3JhcGhzOiAncGFyYWdyYXBoZScsXG4gICAgICBwYXJhZ3JhcGhlczogJ3BhcmFncmFwaGUnLFxuICAgICAgdGV4dDogJ3BhcmFncmFwaGUnLFxuICAgICAgaGVybzogJ2hlcm8nLFxuICAgICAgaW1hZ2U6ICdpbWFnZScsXG4gICAgICBncm91cGU6ICdncm91cGUnLFxuICAgICAgZ3JvdXA6ICdncm91cGUnLFxuICAgICAgY29sbGVjdGlvbjogJ2NvbGxlY3Rpb25ncmlkJyxcbiAgICAgIGNvbGxlY3Rpb25ncmlkOiAnY29sbGVjdGlvbmdyaWQnLFxuICAgICAgJ2NvbGxlY3Rpb24tZ3JpZCc6ICdjb2xsZWN0aW9uZ3JpZCcsXG4gICAgICBmb3JtOiAnZm9ybScsXG4gICAgICBmb3JtdWxhaXJlOiAnZm9ybScsXG4gICAgICBjb250YWN0OiAnZm9ybScsXG4gICAgICBuZXdzbGV0dGVyZW1iZWQ6ICduZXdzbGV0dGVyZW1iZWQnLFxuICAgICAgbmV3c2xldHRlcjogJ25ld3NsZXR0ZXJlbWJlZCcsXG4gICAgICBlbWJlZDogJ25ld3NsZXR0ZXJlbWJlZCcsXG4gICAgfTtcbiAgICBjb25zdCBhbmltYXRpb25GaWVsZE1hcCA9IHtcbiAgICAgIGFuaW1hdGlvbjogJ2FuaW0tdHlwZScsXG4gICAgICBhbmltYXRpb25EZWxheTogJ2FuaW0tZGVsYXknLFxuICAgICAgYW5pbWF0aW9uRHVyYXRpb246ICdhbmltLWR1cmF0aW9uJyxcbiAgICB9O1xuICAgIE9iamVjdC52YWx1ZXMoYmxvY2tUeXBlRm9ybXMpLmZvckVhY2goKGNvbmZpZykgPT4ge1xuICAgICAgY29uZmlnLmZpZWxkcyA9IHsgLi4uY29uZmlnLmZpZWxkcywgLi4uYW5pbWF0aW9uRmllbGRNYXAgfTtcbiAgICB9KTtcbiAgICBjb25zdCB1cGRhdGVHcm91cE1pbmlQcmV2aWV3ID0gKG1vYmlsZVZhbHVlLCBkZXNrdG9wVmFsdWUpID0+IHtcbiAgICAgIGlmICghZ3JvdXBQcmV2aWV3TW9iaWxlIHx8ICFncm91cFByZXZpZXdEZXNrdG9wKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlbmRlckJveGVzID0gKGNvdW50KSA9PlxuICAgICAgICBBcnJheS5mcm9tKHsgbGVuZ3RoOiBOdW1iZXIoY291bnQpIHx8IDEgfSlcbiAgICAgICAgICAubWFwKCgpID0+ICc8c3BhbiBjbGFzcz1cImJsb2NrIGgtMiB3LWZ1bGwgcm91bmRlZC1mdWxsIGJnLXNsYXRlLTMwMFwiPjwvc3Bhbj4nKVxuICAgICAgICAgIC5qb2luKCcnKTtcbiAgICAgIGdyb3VwUHJldmlld01vYmlsZS5pbm5lckhUTUwgPSByZW5kZXJCb3hlcyhtb2JpbGVWYWx1ZSk7XG4gICAgICBncm91cFByZXZpZXdEZXNrdG9wLmlubmVySFRNTCA9IHJlbmRlckJveGVzKGRlc2t0b3BWYWx1ZSk7XG4gICAgfTtcbiAgICBjb25zdCB1cGRhdGVDb2xsZWN0aW9uTWluaVByZXZpZXcgPSAobW9iaWxlVmFsdWUsIGRlc2t0b3BWYWx1ZSkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uUHJldmlld01vYmlsZSB8fCAhY29sbGVjdGlvblByZXZpZXdEZXNrdG9wKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlbmRlckJveGVzID0gKGNvdW50KSA9PlxuICAgICAgICBBcnJheS5mcm9tKHsgbGVuZ3RoOiBOdW1iZXIoY291bnQpIHx8IDEgfSlcbiAgICAgICAgICAubWFwKCgpID0+ICc8c3BhbiBjbGFzcz1cImJsb2NrIGgtMiB3LWZ1bGwgcm91bmRlZC1mdWxsIGJnLXZpb2xldC0zMDBcIj48L3NwYW4+JylcbiAgICAgICAgICAuam9pbignJyk7XG4gICAgICBjb2xsZWN0aW9uUHJldmlld01vYmlsZS5pbm5lckhUTUwgPSByZW5kZXJCb3hlcyhtb2JpbGVWYWx1ZSk7XG4gICAgICBjb2xsZWN0aW9uUHJldmlld0Rlc2t0b3AuaW5uZXJIVE1MID0gcmVuZGVyQm94ZXMoZGVza3RvcFZhbHVlKTtcbiAgICB9O1xuICAgIGNvbnN0IGZldGNoUGFnZXNGcm9tU2VydmVyID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFwYWdlc0FwaUJhc2UpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChwYWdlc0FwaUJhc2UsIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ltcG9zc2libGUgZGUgY2hhcmdlciBsZXMgcGFnZXMuJyk7XG4gICAgICB9XG4gICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+IFtdKTtcbiAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHBheWxvYWQpID8gcGF5bG9hZCA6IFtdO1xuICAgIH07XG4gICAgY29uc3QgY3JlYXRlUGFnZU9uU2VydmVyID0gYXN5bmMgKHsgbmFtZSwgdGl0bGUsIHNsdWcgfSkgPT4ge1xuICAgICAgaWYgKCFwYWdlc0FwaUJhc2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTaXRlIGluY29ubnUuJyk7XG4gICAgICB9XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHBhZ2VzQXBpQmFzZSwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgbmFtZSwgdGl0bGUsIHNsdWcgfSksXG4gICAgICB9KTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHBheWxvYWQubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBjclx1MDBFOWVyIGxhIHBhZ2UuJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgIH07XG4gICAgY29uc3Qgc2F2ZVBhZ2VUb1NlcnZlciA9IGFzeW5jIChwYWdlKSA9PiB7XG4gICAgICBpZiAoIXBhZ2VzQXBpQmFzZSB8fCAhcGFnZT8uaWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtwYWdlc0FwaUJhc2V9LyR7ZW5jb2RlVVJJQ29tcG9uZW50KHBhZ2UuaWQpfWAsIHtcbiAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYWdlKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihwYXlsb2FkLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgc2F1dmVnYXJkZXIgbGEgcGFnZS4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzYXZlZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgaWYgKHNhdmVkPy5pZCkge1xuICAgICAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBub3JtYWxpemVQYWdlRGF0YShzYXZlZCk7XG4gICAgICAgICAgcGFnZXMgPSBwYWdlcy5tYXAoKGVudHJ5KSA9PiAoZW50cnkuaWQgPT09IG5vcm1hbGl6ZWQuaWQgPyBub3JtYWxpemVkIDogZW50cnkpKTtcbiAgICAgICAgICBpZiAoY3VycmVudFBhZ2U/LmlkID09PSBub3JtYWxpemVkLmlkKSB7XG4gICAgICAgICAgICBjdXJyZW50UGFnZSA9IG5vcm1hbGl6ZWQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBub3JtYWxpemVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzYXZlZDtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZGVzaWduXSBTYXZlIHBhZ2UgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdTYXV2ZWdhcmRlIGltcG9zc2libGUuJyk7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBsb2FkUGFnZXNGcm9tU2VydmVyID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFwYWdlc0FwaUJhc2UpIHtcbiAgICAgICAgcGFnZXMgPSBbXTtcbiAgICAgICAgYWN0aXZlUGFnZUlkID0gbnVsbDtcbiAgICAgICAgY3VycmVudFBhZ2UgPSBudWxsO1xuICAgICAgICByZW5kZXJQYWdlTGlzdHMocGFnZXMsIGFjdGl2ZVBhZ2VJZCk7XG4gICAgICAgIHJlbmRlckJsb2NrTGlzdChudWxsKTtcbiAgICAgICAgYmxvY2tEZXRhaWxFbXB0eT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIGJsb2NrRWRpdG9yPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgbG9hZGVkUGFnZXMgPSBhd2FpdCBmZXRjaFBhZ2VzRnJvbVNlcnZlcigpO1xuICAgICAgICBwYWdlcyA9IChBcnJheS5pc0FycmF5KGxvYWRlZFBhZ2VzKSA/IGxvYWRlZFBhZ2VzIDogW10pLm1hcCgocGFnZSkgPT5cbiAgICAgICAgICBub3JtYWxpemVQYWdlRGF0YShwYWdlKSxcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKHBhZ2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIGFjdGl2ZVBhZ2VJZCA9IG51bGw7XG4gICAgICAgICAgY3VycmVudFBhZ2UgPSBudWxsO1xuICAgICAgICAgIHJlbmRlclBhZ2VMaXN0cyhwYWdlcywgYWN0aXZlUGFnZUlkKTtcbiAgICAgICAgICByZW5kZXJCbG9ja0xpc3QobnVsbCk7XG4gICAgICAgICAgYmxvY2tEZXRhaWxFbXB0eT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgYmxvY2tFZGl0b3I/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICAgIHByZXZpZXdGcmFtZSAmJiAocHJldmlld0ZyYW1lLnNyY2RvYyA9IGdldExvYWRpbmdQcmV2aWV3SHRtbCgpKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgYWN0aXZlUGFnZUlkID0gZ2V0U3RvcmVkQWN0aXZlUGFnZShwYWdlcyk7XG4gICAgICAgIHNldEFjdGl2ZVBhZ2UoYWN0aXZlUGFnZUlkKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZGVzaWduXSBJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIHBhZ2VzJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KCdJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIHBhZ2VzLicpO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3Qgbm9ybWFsaXplVHlwZSA9ICh2YWx1ZSkgPT5cbiAgICAgICh2YWx1ZSB8fCAnJykubm9ybWFsaXplKCdORkQnKS5yZXBsYWNlKC9bXFx1MDMwMC1cXHUwMzZmXS9nLCAnJykudG9Mb3dlckNhc2UoKTtcbiAgICBjb25zdCBnZXRCbG9ja0Zvcm1Db25maWcgPSAoYmxvY2spID0+IHtcbiAgICAgIGlmICghYmxvY2spIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICBjb25zdCB0eXBlS2V5ID0gbm9ybWFsaXplVHlwZShibG9jay50eXBlKTtcbiAgICAgIGNvbnN0IGFsaWFzID0gYmxvY2tUeXBlQWxpYXNlc1t0eXBlS2V5XSB8fCB0eXBlS2V5O1xuICAgICAgcmV0dXJuIGJsb2NrVHlwZUZvcm1zW2FsaWFzXSB8fCBudWxsO1xuICAgIH07XG4gICAgY29uc3QgcG9wdWxhdGVCbG9ja0Zvcm0gPSAoYmxvY2spID0+IHtcbiAgICAgIGlmICghYmxvY2tGb3JtIHx8ICFibG9ja0VkaXRvcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoYmxvY2sgJiYgIWJsb2NrLnNldHRpbmdzKSB7XG4gICAgICAgIGJsb2NrLnNldHRpbmdzID0ge307XG4gICAgICB9XG4gICAgICBjb25zdCBjb25maWcgPSBnZXRCbG9ja0Zvcm1Db25maWcoYmxvY2spO1xuICAgICAgaWYgKGJsb2NrRWRpdG9yVGl0bGUpIHtcbiAgICAgICAgYmxvY2tFZGl0b3JUaXRsZS50ZXh0Q29udGVudCA9IGJsb2NrPy5sYWJlbCB8fCAnQmxvYyc7XG4gICAgICB9XG4gICAgICBpZiAoYmxvY2tFZGl0b3JUeXBlKSB7XG4gICAgICAgIGJsb2NrRWRpdG9yVHlwZS50ZXh0Q29udGVudCA9IGJsb2NrPy50eXBlIHx8ICdCbG9jJztcbiAgICAgIH1cbiAgICAgIGlmICghY29uZmlnKSB7XG4gICAgICAgIGJsb2NrRm9ybS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgYmxvY2tFZGl0b3JVbnN1cHBvcnRlZD8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIGJsb2NrRm9ybS5kYXRhc2V0LmJsb2NrSWQgPSAnJztcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYmxvY2tFZGl0b3JVbnN1cHBvcnRlZD8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBibG9ja0Zvcm0uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBibG9ja0Zvcm0ucmVzZXQoKTtcbiAgICAgIGJsb2NrRm9ybS5kYXRhc2V0LmJsb2NrSWQgPSBibG9jay5pZDtcbiAgICAgIGJsb2NrRm9ybVNlY3Rpb25zLmZvckVhY2goKHNlY3Rpb24pID0+IHtcbiAgICAgICAgY29uc3Qgc2VjdGlvbklkID0gc2VjdGlvbi5kYXRhc2V0LmVkaXRvclNlY3Rpb247XG4gICAgICAgIGlmIChzZWN0aW9uSWQgPT09IGNvbmZpZy5zZWN0aW9uKSB7XG4gICAgICAgICAgc2VjdGlvbi5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWN0aW9uLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIC8vIFJcdTAwRTlpbml0aWFsaXNlciBzdXIgbCdvbmdsZXQgQ29udGVudVxuICAgICAgc3dpdGNoQmxvY2tUYWIoJ2NvbnRlbnQnKTtcbiAgICAgIGlmIChjb25maWcuc2VjdGlvbiA9PT0gJ2NvbGxlY3Rpb24nKSB7XG4gICAgICAgIGNvbnN0IGRlc2lyZWRWYWx1ZSA9IGJsb2NrLmNvbGxlY3Rpb25JZCB8fCBibG9jay5zZXR0aW5ncz8uY29sbGVjdGlvbklkIHx8ICcnO1xuICAgICAgICB1cGRhdGVDb2xsZWN0aW9uU2VsZWN0T3B0aW9ucyhkZXNpcmVkVmFsdWUpO1xuICAgICAgfVxuICAgICAgT2JqZWN0LmVudHJpZXMoY29uZmlnLmZpZWxkcykuZm9yRWFjaCgoW3NldHRpbmdLZXksIGZpZWxkTmFtZV0pID0+IHtcbiAgICAgICAgY29uc3QgaW5wdXQgPSBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcihgW25hbWU9XCIke2ZpZWxkTmFtZX1cIl1gKTtcbiAgICAgICAgaWYgKCFpbnB1dCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2YWx1ZSA9IGJsb2NrLnNldHRpbmdzPy5bc2V0dGluZ0tleV07XG4gICAgICAgIGlmIChpbnB1dC50eXBlID09PSAnY2hlY2tib3gnKSB7XG4gICAgICAgICAgaW5wdXQuY2hlY2tlZCA9IEJvb2xlYW4odmFsdWUpO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0LnR5cGUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgY29uc3QgZmFsbGJhY2sgPSBpbnB1dC5kYXRhc2V0LmRlZmF1bHQgPz8gaW5wdXQuZGVmYXVsdFZhbHVlID8/ICcnO1xuICAgICAgICAgIGlucHV0LnZhbHVlID0gdmFsdWUgPz8gZmFsbGJhY2s7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5wdXQudGFnTmFtZSA9PT0gJ1RFWFRBUkVBJykge1xuICAgICAgICAgIGlucHV0LnZhbHVlID0gdmFsdWUgPz8gJyc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaW5wdXQudmFsdWUgPSB2YWx1ZSA/PyAnJztcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoY29uZmlnLnNlY3Rpb24gPT09ICdncm91cCcpIHtcbiAgICAgICAgY29uc3QgbW9iaWxlVmFsdWUgPVxuICAgICAgICAgIGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImdyb3VwLWNvbHVtbnMtbW9iaWxlXCJdJyk/LnZhbHVlIHx8ICcxJztcbiAgICAgICAgY29uc3QgZGVza3RvcFZhbHVlID1cbiAgICAgICAgICBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJncm91cC1jb2x1bW5zLWRlc2t0b3BcIl0nKT8udmFsdWUgfHwgJzMnO1xuICAgICAgICB1cGRhdGVHcm91cE1pbmlQcmV2aWV3KG1vYmlsZVZhbHVlLCBkZXNrdG9wVmFsdWUpO1xuICAgICAgfVxuICAgICAgaWYgKGNvbmZpZy5zZWN0aW9uID09PSAnY29sbGVjdGlvbicpIHtcbiAgICAgICAgY29uc3QgbW9iaWxlVmFsdWUgPVxuICAgICAgICAgIGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImNvbGxlY3Rpb24tY29sdW1ucy1tb2JpbGVcIl0nKT8udmFsdWUgfHwgJzEnO1xuICAgICAgICBjb25zdCBkZXNrdG9wVmFsdWUgPVxuICAgICAgICAgIGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImNvbGxlY3Rpb24tY29sdW1ucy1kZXNrdG9wXCJdJyk/LnZhbHVlIHx8ICczJztcbiAgICAgICAgdXBkYXRlQ29sbGVjdGlvbk1pbmlQcmV2aWV3KG1vYmlsZVZhbHVlLCBkZXNrdG9wVmFsdWUpO1xuICAgICAgfVxuICAgICAgY29uc3QgYmdGaWVsZE5hbWUgPSBjb25maWcuZmllbGRzPy5iZztcbiAgICAgIGlmIChiZ0ZpZWxkTmFtZSkge1xuICAgICAgICBjb25zdCBiZ1NlbGVjdCA9IGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yKGBbbmFtZT1cIiR7YmdGaWVsZE5hbWV9XCJdYCk7XG4gICAgICAgIGVuc3VyZUN1c3RvbVRoZW1lT3B0aW9uKGJnU2VsZWN0LCBibG9jay5zZXR0aW5ncz8uYmcpO1xuICAgICAgfVxuICAgICAgYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWNvbG9yLXNlbGVjdF0nKS5mb3JFYWNoKHVwZGF0ZUNvbG9yU2VsZWN0UHJldmlldyk7XG4gICAgfTtcbiAgICBjb25zdCBjb2xsZWN0Rm9ybVZhbHVlcyA9IChjb25maWcpID0+IHtcbiAgICAgIGlmICghYmxvY2tGb3JtIHx8ICFjb25maWcpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgfVxuICAgICAgY29uc3QgdmFsdWVzID0ge307XG4gICAgICBPYmplY3QuZW50cmllcyhjb25maWcuZmllbGRzKS5mb3JFYWNoKChbc2V0dGluZ0tleSwgZmllbGROYW1lXSkgPT4ge1xuICAgICAgICBjb25zdCBpbnB1dCA9IGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yKGBbbmFtZT1cIiR7ZmllbGROYW1lfVwiXWApO1xuICAgICAgICBpZiAoIWlucHV0KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbnB1dC50eXBlID09PSAnY2hlY2tib3gnKSB7XG4gICAgICAgICAgdmFsdWVzW3NldHRpbmdLZXldID0gaW5wdXQuY2hlY2tlZDtcbiAgICAgICAgfSBlbHNlIGlmIChpbnB1dC50eXBlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIGNvbnN0IHBhcnNlZCA9IE51bWJlcihpbnB1dC52YWx1ZSk7XG4gICAgICAgICAgdmFsdWVzW3NldHRpbmdLZXldID0gTnVtYmVyLmlzRmluaXRlKHBhcnNlZCkgPyBwYXJzZWQgOiAwO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0LnRhZ05hbWUgPT09ICdTRUxFQ1QnKSB7XG4gICAgICAgICAgY29uc3QgZmFsbGJhY2sgPSBpbnB1dC5kYXRhc2V0LmRlZmF1bHQgPz8gaW5wdXQudmFsdWUgPz8gJyc7XG4gICAgICAgICAgdmFsdWVzW3NldHRpbmdLZXldID0gaW5wdXQudmFsdWUgfHwgZmFsbGJhY2s7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5wdXQudGFnTmFtZSA9PT0gJ1RFWFRBUkVBJykge1xuICAgICAgICAgIHZhbHVlc1tzZXR0aW5nS2V5XSA9IGlucHV0LnZhbHVlIHx8ICcnO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0LnR5cGUgPT09ICdzZWxlY3Qtb25lJykge1xuICAgICAgICAgIHZhbHVlc1tzZXR0aW5nS2V5XSA9IGlucHV0LnZhbHVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhbHVlc1tzZXR0aW5nS2V5XSA9IGlucHV0LnZhbHVlIHx8ICcnO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgfTtcbiAgICBjb25zdCB1cGRhdGVQcmV2aWV3U3RhdHVzID0gKHRleHQpID0+IHtcbiAgICAgIGlmICghcHJldmlld1N0YXR1cykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIXRleHQpIHtcbiAgICAgICAgcHJldmlld1N0YXR1cy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcHJldmlld1N0YXR1cy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIHByZXZpZXdTdGF0dXMudGV4dENvbnRlbnQgPSB0ZXh0O1xuICAgIH07XG4gICAgY29uc3Qgc2VyaWFsaXplUGFnZUZvclByZXZpZXcgPSAocGFnZSkgPT4ge1xuICAgICAgaWYgKCFwYWdlKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBGb25jdGlvbiBwb3VyIHNcdTAwRTlyaWFsaXNlciB1biBibG9jICh1dGlsaXNcdTAwRTkgcG91ciBsZXMgYmxvY3MgZXQgbGV1cnMgZW5mYW50cylcbiAgICAgIGNvbnN0IHNlcmlhbGl6ZUJsb2NrID0gKGJsb2NrKSA9PiAoe1xuICAgICAgICBpZDogYmxvY2suaWQsXG4gICAgICAgIHR5cGU6IGJsb2NrLnR5cGUsXG4gICAgICAgIGxhYmVsOiBibG9jay5sYWJlbCxcbiAgICAgICAgc3RhdHVzOiBibG9jay5zdGF0dXMsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBibG9jay5kZXNjcmlwdGlvbixcbiAgICAgICAgcHJvcHM6IGJsb2NrLnByb3BzIHx8IFtdLFxuICAgICAgICBzZXR0aW5nczogYmxvY2suc2V0dGluZ3MgfHwge30sXG4gICAgICAgIGNvbGxlY3Rpb25JZDogYmxvY2suY29sbGVjdGlvbklkIHx8IGJsb2NrLnNldHRpbmdzPy5jb2xsZWN0aW9uSWQgfHwgJycsXG4gICAgICAgIGNoaWxkcmVuOiAoYmxvY2suY2hpbGRyZW4gfHwgW10pLm1hcChzZXJpYWxpemVCbG9jayksXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IHBhZ2UuaWQsXG4gICAgICAgIG5hbWU6IHBhZ2UubmFtZSxcbiAgICAgICAgdGl0bGU6IHBhZ2UudGl0bGUsXG4gICAgICAgIHNsdWc6IHBhZ2Uuc2x1ZyxcbiAgICAgICAgZGVzY3JpcHRpb246IHBhZ2UuZGVzY3JpcHRpb24gfHwgJycsXG4gICAgICAgIGJhZGdlczogWy4uLihwYWdlLmJhZGdlcyB8fCBbXSldLFxuICAgICAgICBzZW86IHBhZ2Uuc2VvIHx8IHt9LFxuICAgICAgICBhY2Nlc3NpYmlsaXR5OiBwYWdlLmFjY2Vzc2liaWxpdHkgfHwge30sXG4gICAgICAgIGJsb2NrczogKHBhZ2UuYmxvY2tzIHx8IFtdKS5tYXAoc2VyaWFsaXplQmxvY2spLFxuICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IGdldExvYWRpbmdQcmV2aWV3SHRtbCA9ICgpID0+XG4gICAgICAnPCFET0NUWVBFIGh0bWw+PGh0bWw+PGJvZHkgc3R5bGU9XCJmb250LWZhbWlseTpJbnRlcixzYW5zLXNlcmlmO3BhZGRpbmc6NDBweDtjb2xvcjojNDc1NTY5O2JhY2tncm91bmQ6I2ZmZjtcIj5Qclx1MDBFOXBhcmF0aW9uIGRlIGxhIHByXHUwMEU5dmlzdWFsaXNhdGlvblx1MjAyNjwvYm9keT48L2h0bWw+JztcblxuICAgIC8vIERlYm91bmNlIHV0aWxpdHlcbiAgICBjb25zdCBkZWJvdW5jZSA9IChmbiwgZGVsYXkpID0+IHtcbiAgICAgIGxldCB0aW1lb3V0SWQ7XG4gICAgICByZXR1cm4gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG4gICAgICAgIHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4gZm4oLi4uYXJncyksIGRlbGF5KTtcbiAgICAgIH07XG4gICAgfTtcblxuICAgIC8vIEF1dG8tc2F2ZSBwb3VyIGwnYXBwYXJlbmNlIChpbW1cdTAwRTlkaWF0IHBvdXIgXHUwMEU5dml0ZXIgbGVzIHBlcnRlcylcbiAgICBjb25zdCBhdXRvU2F2ZUFwcGVhcmFuY2UgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlIHx8ICFhY3RpdmVCbG9ja0lkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGJsb2NrID0gZ2V0QWN0aXZlQmxvY2soKTtcbiAgICAgIGNvbnN0IGNvbmZpZyA9IGdldEJsb2NrRm9ybUNvbmZpZyhibG9jayk7XG4gICAgICBpZiAoIWJsb2NrIHx8ICFjb25maWcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgdmFsdWVzID0gY29sbGVjdEZvcm1WYWx1ZXMoY29uZmlnKTtcbiAgICAgIGNvbnN0IHVwZGF0ZWRCbG9ja3MgPSAoY3VycmVudFBhZ2UuYmxvY2tzIHx8IFtdKS5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIGlmIChlbnRyeS5pZCAhPT0gYmxvY2suaWQpIHtcbiAgICAgICAgICByZXR1cm4gZW50cnk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdXBkYXRlZFNldHRpbmdzID0geyAuLi4oZW50cnkuc2V0dGluZ3MgfHwge30pLCAuLi52YWx1ZXMgfTtcbiAgICAgICAgcmV0dXJuIHsgLi4uZW50cnksIHNldHRpbmdzOiB1cGRhdGVkU2V0dGluZ3MgfTtcbiAgICAgIH0pO1xuICAgICAgLy8gTWlzZSBcdTAwRTAgam91ciBzaWxlbmNpZXVzZSAoc2FucyB0b2FzdCBuaSByZWZyZXNoIGNvbXBsZXQpXG4gICAgICBjb25zdCBuZXh0UGFnZSA9IHsgLi4uY3VycmVudFBhZ2UsIGJsb2NrczogdXBkYXRlZEJsb2NrcyB9O1xuICAgICAgY3VycmVudFBhZ2UgPSBuZXh0UGFnZTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHNhdmVkID0gYXdhaXQgc2F2ZVBhZ2VUb1NlcnZlcihuZXh0UGFnZSk7XG4gICAgICAgIGlmIChzYXZlZD8uaWQpIHtcbiAgICAgICAgICBjb25zdCBub3JtYWxpemVkID0gbm9ybWFsaXplUGFnZURhdGEoc2F2ZWQpO1xuICAgICAgICAgIGN1cnJlbnRQYWdlID0gbm9ybWFsaXplZDtcbiAgICAgICAgICBwYWdlcyA9IHBhZ2VzLm1hcCgocCkgPT4gKHAuaWQgPT09IG5vcm1hbGl6ZWQuaWQgPyBub3JtYWxpemVkIDogcCkpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdbZGVzaWduXSBhdXRvLXNhdmUgYXBwZWFyYW5jZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBNaXNlIFx1MDBFMCBqb3VyIGxpdmUgZGUgbGEgcHJldmlldyB2aWEgcG9zdE1lc3NhZ2UgKHNhbnMgcmVjaGFyZ2VyIGwnaWZyYW1lKVxuICAgIGNvbnN0IHVwZGF0ZVByZXZpZXdCbG9ja0xpdmUgPSAoYmxvY2tJZCwgc2V0dGluZ3MpID0+IHtcbiAgICAgIGlmICghcHJldmlld0ZyYW1lIHx8ICFwcmV2aWV3RnJhbWUuY29udGVudFdpbmRvdykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBFbnZvaWUgbGVzIG5vdXZlbGxlcyBjbGFzc2VzIGF1IGJsb2MgZGFucyBsJ2lmcmFtZVxuICAgICAgcHJldmlld0ZyYW1lLmNvbnRlbnRXaW5kb3cucG9zdE1lc3NhZ2Uoe1xuICAgICAgICB0eXBlOiAndXBkYXRlQmxvY2tTdHlsZXMnLFxuICAgICAgICBibG9ja0lkLFxuICAgICAgICBzZXR0aW5ncyxcbiAgICAgIH0sICcqJyk7XG4gICAgfTtcblxuICAgIC8vIFJlZnJlc2ggcHJldmlldyBjb21wbGV0IGRlYm91bmNlZCAocG91ciBsZXMgY2hhbmdlbWVudHMgY29tcGxleGVzKVxuICAgIGNvbnN0IGRlYm91bmNlZFJlZnJlc2hQcmV2aWV3ID0gZGVib3VuY2UoKCkgPT4ge1xuICAgICAgaWYgKGN1cnJlbnRQYWdlKSB7XG4gICAgICAgIHJlZnJlc2hQcmV2aWV3KGN1cnJlbnRQYWdlKTtcbiAgICAgIH1cbiAgICB9LCAxNTAwKTtcblxuICAgIC8vIE1pc2UgXHUwMEUwIGpvdXIgbGl2ZSBpbW1cdTAwRTlkaWF0ZSAocG91ciBsYSBwcmV2aWV3KVxuICAgIGNvbnN0IGhhbmRsZUFwcGVhcmFuY2VDaGFuZ2UgPSAoYmxvY2tJZCwgc2V0dGluZ3MpID0+IHtcbiAgICAgIHVwZGF0ZVByZXZpZXdCbG9ja0xpdmUoYmxvY2tJZCwgc2V0dGluZ3MpO1xuICAgICAgdXBkYXRlUHJldmlld1N0YXR1cygnTW9kaWZpY2F0aW9uXHUyMDI2Jyk7XG4gICAgICBhdXRvU2F2ZUFwcGVhcmFuY2UoKVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgdXBkYXRlUHJldmlld1N0YXR1cygnU2F1dmVnYXJkXHUwMEU5Jyk7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB1cGRhdGVQcmV2aWV3U3RhdHVzKCdcdTAwQzAgam91cicpLCAxNTAwKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKCgpID0+IHVwZGF0ZVByZXZpZXdTdGF0dXMoJ0VycmV1ciBkZSBzYXV2ZWdhcmRlJykpO1xuICAgICAgLy8gUmVmcmVzaCBjb21wbGV0IGFwclx1MDBFOHMgdW4gZFx1MDBFOWxhaSBwbHVzIGxvbmcgKHBvdXIgbGVzIGNoYW5nZW1lbnRzIGRlIGxheW91dCwgZXRjLilcbiAgICAgIGRlYm91bmNlZFJlZnJlc2hQcmV2aWV3KCk7XG4gICAgfTtcblxuICAgIGNvbnN0IHJlZnJlc2hQcmV2aWV3ID0gKHBhZ2UpID0+IHtcbiAgICAgIGlmICghcHJldmlld0ZyYW1lIHx8ICFwYWdlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHByZXZpZXdTaXRlU2x1ZyA9IHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJyc7XG4gICAgICBjb25zdCBzZXJpYWxpemVkUGFnZXMgPSBwYWdlcy5tYXAoKGVudHJ5KSA9PiAoe1xuICAgICAgICBpZDogZW50cnkuaWQsXG4gICAgICAgIHNsdWc6IGVudHJ5LnNsdWcsXG4gICAgICAgIHRpdGxlOiBlbnRyeS50aXRsZSxcbiAgICAgICAgbmFtZTogZW50cnkubmFtZSxcbiAgICAgICAgYWNjZXNzaWJpbGl0eTogZW50cnkuYWNjZXNzaWJpbGl0eSxcbiAgICAgIH0pKTtcbiAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgIHBhZ2U6IHNlcmlhbGl6ZVBhZ2VGb3JQcmV2aWV3KHBhZ2UpLFxuICAgICAgICBzaXRlOiB7XG4gICAgICAgICAgdGl0bGU6IHN0b3JlZFNpdGUubmFtZSB8fCAnU2l0ZScsXG4gICAgICAgICAgc2x1ZzogcHJldmlld1NpdGVTbHVnLFxuICAgICAgICAgIHBhZ2VzOiBzZXJpYWxpemVkUGFnZXMsXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgICAgcHJldmlld1JlYWR5ID0gZmFsc2U7XG4gICAgICB1cGRhdGVQcmV2aWV3U3RhdHVzKCdBY3R1YWxpc2F0aW9uXHUyMDI2Jyk7XG4gICAgICBwcmV2aWV3RnJhbWUuc3JjZG9jID0gZ2V0TG9hZGluZ1ByZXZpZXdIdG1sKCk7XG4gICAgICBpZiAocHJldmlld1JlcXVlc3RDb250cm9sbGVyKSB7XG4gICAgICAgIHByZXZpZXdSZXF1ZXN0Q29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgfVxuICAgICAgY29uc3QgY29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICAgIHByZXZpZXdSZXF1ZXN0Q29udHJvbGxlciA9IGNvbnRyb2xsZXI7XG4gICAgICBmZXRjaCgnL2FwaS9wcmV2aWV3Jywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICBzaWduYWw6IGNvbnRyb2xsZXIuc2lnbmFsLFxuICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQcmV2aWV3IGVycm9yJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgICAgaWYgKGNvbnRyb2xsZXIuc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgbGF0ZXN0UHJldmlld0h0bWwgPSBkYXRhLmh0bWwgfHwgJyc7XG4gICAgICAgICAgcHJldmlld0ZyYW1lLnNldEF0dHJpYnV0ZShcbiAgICAgICAgICAgICd0aXRsZScsXG4gICAgICAgICAgICBgUHJcdTAwRTl2aXN1YWxpc2F0aW9uIGRlIGxhIHBhZ2UgJHtwYWdlLnRpdGxlIHx8ICcnfWAudHJpbSgpLFxuICAgICAgICAgICk7XG4gICAgICAgICAgcHJldmlld0ZyYW1lLnNyY2RvYyA9IGxhdGVzdFByZXZpZXdIdG1sIHx8IGdldExvYWRpbmdQcmV2aWV3SHRtbCgpO1xuICAgICAgICAgIHVwZGF0ZVByZXZpZXdTdGF0dXMoJ1x1MDBDMCBqb3VyJyk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICBpZiAoY29udHJvbGxlci5zaWduYWwuYWJvcnRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbcHJldmlld10gSW1wb3NzaWJsZSBkZSByZW5kcmUgbGEgcGFnZScsIGVycm9yKTtcbiAgICAgICAgICB1cGRhdGVQcmV2aWV3U3RhdHVzKCdFcnJldXIgcHJldmlldycpO1xuICAgICAgICAgIHByZXZpZXdGcmFtZS5zcmNkb2MgPVxuICAgICAgICAgICAgJzwhRE9DVFlQRSBodG1sPjxodG1sPjxib2R5IHN0eWxlPVwiZm9udC1mYW1pbHk6SW50ZXIsc2Fucy1zZXJpZjtwYWRkaW5nOjQwcHg7Y29sb3I6I2JlMTIzYztiYWNrZ3JvdW5kOiNmZmY7XCI+RXJyZXVyIGxvcnMgZHUgcmVuZHUgZGUgbGEgcHJcdTAwRTl2aXN1YWxpc2F0aW9uLjwvYm9keT48L2h0bWw+JztcbiAgICAgICAgfSlcbiAgICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICAgIGlmIChwcmV2aWV3UmVxdWVzdENvbnRyb2xsZXIgPT09IGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgIHByZXZpZXdSZXF1ZXN0Q29udHJvbGxlciA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZUJsb2NrRm9ybVN1Ym1pdCA9IChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmICghY3VycmVudFBhZ2UgfHwgIWFjdGl2ZUJsb2NrSWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgYmxvY2sgPSBnZXRBY3RpdmVCbG9jaygpO1xuICAgICAgY29uc3QgY29uZmlnID0gZ2V0QmxvY2tGb3JtQ29uZmlnKGJsb2NrKTtcbiAgICAgIGlmICghYmxvY2sgfHwgIWNvbmZpZykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCB2YWx1ZXMgPSBjb2xsZWN0Rm9ybVZhbHVlcyhjb25maWcpO1xuICAgICAgaWYgKGNvbmZpZy5zZWN0aW9uID09PSAnaW1hZ2UnKSB7XG4gICAgICAgIGNvbnN0IGFsdFZhbHVlID0gKHZhbHVlcy5hbHQgfHwgJycpLnRyaW0oKTtcbiAgICAgICAgdmFsdWVzLmFsdCA9IGFsdFZhbHVlO1xuICAgICAgICBpZiAoIWFsdFZhbHVlKSB7XG4gICAgICAgICAgc2hvd1RvYXN0KCdBam91dGUgdW4gdGV4dGUgYWx0ZXJuYXRpZiBwb3VyIGNldHRlIGltYWdlLicsICdlcnJvcicpO1xuICAgICAgICAgIGJsb2NrRm9ybT8ucXVlcnlTZWxlY3RvcignW25hbWU9XCJpbWFnZS1hbHRcIl0nKT8uZm9jdXMoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChjb25maWcuc2VjdGlvbiA9PT0gJ2NvbGxlY3Rpb24nKSB7XG4gICAgICAgIGlmICghdmFsdWVzLmNvbGxlY3Rpb25JZCkge1xuICAgICAgICAgIHNob3dUb2FzdCgnU1x1MDBFOWxlY3Rpb25uZXogdW5lIGNvbGxlY3Rpb24uJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhbHVlcy5saW1pdCA9IE1hdGgubWF4KDEsIE51bWJlcih2YWx1ZXMubGltaXQpIHx8IDEpO1xuICAgICAgfVxuICAgICAgY29uc3QgdXBkYXRlZEJsb2NrcyA9IChjdXJyZW50UGFnZS5ibG9ja3MgfHwgW10pLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgaWYgKGVudHJ5LmlkICE9PSBibG9jay5pZCkge1xuICAgICAgICAgIHJldHVybiBlbnRyeTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB1cGRhdGVkU2V0dGluZ3MgPSB7IC4uLihlbnRyeS5zZXR0aW5ncyB8fCB7fSksIC4uLnZhbHVlcyB9O1xuICAgICAgICBjb25zdCB1cGRhdGVkQmxvY2sgPSB7XG4gICAgICAgICAgLi4uZW50cnksXG4gICAgICAgICAgc2V0dGluZ3M6IHVwZGF0ZWRTZXR0aW5ncyxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGNvbmZpZy5sYWJlbEZpZWxkICYmIHZhbHVlc1tjb25maWcubGFiZWxGaWVsZF0pIHtcbiAgICAgICAgICB1cGRhdGVkQmxvY2subGFiZWwgPSB2YWx1ZXNbY29uZmlnLmxhYmVsRmllbGRdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb25maWcuZGVzY3JpcHRpb25GaWVsZCAmJiB2YWx1ZXNbY29uZmlnLmRlc2NyaXB0aW9uRmllbGRdKSB7XG4gICAgICAgICAgdXBkYXRlZEJsb2NrLmRlc2NyaXB0aW9uID0gdmFsdWVzW2NvbmZpZy5kZXNjcmlwdGlvbkZpZWxkXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29uZmlnLnNlY3Rpb24gPT09ICdjb2xsZWN0aW9uJykge1xuICAgICAgICAgIHVwZGF0ZWRCbG9jay5jb2xsZWN0aW9uSWQgPSB2YWx1ZXMuY29sbGVjdGlvbklkO1xuICAgICAgICAgIHVwZGF0ZWRCbG9jay5zZXR0aW5ncy5jb2xsZWN0aW9uSWQgPSB2YWx1ZXMuY29sbGVjdGlvbklkO1xuICAgICAgICAgIHVwZGF0ZWRCbG9jay5zZXR0aW5ncy5saW1pdCA9IHZhbHVlcy5saW1pdDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdXBkYXRlZEJsb2NrO1xuICAgICAgfSk7XG4gICAgICB1cGRhdGVDdXJyZW50UGFnZUJsb2Nrcyh1cGRhdGVkQmxvY2tzKTtcbiAgICAgIHNob3dUb2FzdCgnQmxvYyBtaXMgXHUwMEUwIGpvdXInKTtcbiAgICAgIHNldEFjdGl2ZVBhZ2UoY3VycmVudFBhZ2UuaWQsIHsgcHJlc2VydmVCbG9jazogdHJ1ZSB9KTtcbiAgICB9O1xuICAgIGNvbnN0IGRyYXdlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXBhZ2UtZHJhd2VyXScpO1xuICAgIGNvbnN0IGRyYXdlckJhY2tkcm9wID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1kcmF3ZXItYmFja2Ryb3BdJyk7XG4gICAgY29uc3QgZHJhd2VyT3BlbkJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1wYWdlLWRyYXdlci1vcGVuXScpO1xuICAgIGNvbnN0IGRyYXdlckNsb3NlQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXBhZ2UtZHJhd2VyLWNsb3NlXScpO1xuICAgIGNvbnN0IGFkZFBhZ2VUb2dnbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZGQtcGFnZS10b2dnbGVdJyk7XG4gICAgY29uc3QgYWRkUGFnZUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZGQtcGFnZS1mb3JtXScpO1xuICAgIGNvbnN0IGFkZFBhZ2VOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRkLXBhZ2UtbmFtZV0nKTtcbiAgICBjb25zdCBhZGRQYWdlVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZGQtcGFnZS10aXRsZV0nKTtcbiAgICBjb25zdCBhZGRQYWdlU2x1ZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFkZC1wYWdlLXNsdWddJyk7XG4gICAgY29uc3QgYWRkUGFnZUNhbmNlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFkZC1wYWdlLWNhbmNlbF0nKTtcbiAgICBjb25zdCBhZGRQYWdlRXJyb3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZGQtcGFnZS1lcnJvcl0nKTtcbiAgICBjb25zdCBhZGRQYWdlU3VibWl0QnV0dG9uID0gYWRkUGFnZUZvcm0/LnF1ZXJ5U2VsZWN0b3IoJ1t0eXBlPVwic3VibWl0XCJdJyk7XG4gICAgLy8gSW1wb3J0IEpTT04gZWxlbWVudHNcbiAgICBjb25zdCBpbXBvcnRUb2dnbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbXBvcnQtcGFnZXMtdG9nZ2xlXScpO1xuICAgIGNvbnN0IGltcG9ydE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaW1wb3J0LW1vZGFsXScpO1xuICAgIGNvbnN0IGltcG9ydENsb3NlQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWltcG9ydC1tb2RhbC1jbG9zZV0nKTtcbiAgICBjb25zdCBpbXBvcnREcm9wem9uZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWltcG9ydC1kcm9wem9uZV0nKTtcbiAgICBjb25zdCBpbXBvcnRGaWxlSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbXBvcnQtZmlsZS1pbnB1dF0nKTtcbiAgICBjb25zdCBpbXBvcnRGaWxlTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWltcG9ydC1maWxlLWxpc3RdJyk7XG4gICAgY29uc3QgaW1wb3J0RmlsZU5hbWVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaW1wb3J0LWZpbGUtbmFtZXNdJyk7XG4gICAgY29uc3QgaW1wb3J0UmVzdWx0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWltcG9ydC1yZXN1bHRzXScpO1xuICAgIGNvbnN0IGltcG9ydFJlc3VsdHNDb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaW1wb3J0LXJlc3VsdHMtY29udGVudF0nKTtcbiAgICBjb25zdCBpbXBvcnRTdWJtaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbXBvcnQtc3VibWl0XScpO1xuICAgIGNvbnN0IGltcG9ydFRhYnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1pbXBvcnQtdGFiXScpO1xuICAgIGNvbnN0IGltcG9ydFBhbmVscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWltcG9ydC1wYW5lbF0nKTtcbiAgICBjb25zdCBjb3B5UHJvbXB0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29weS1wcm9tcHRdJyk7XG4gICAgY29uc3QgY29weVRlbXBsYXRlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29weS10ZW1wbGF0ZV0nKTtcbiAgICBjb25zdCB0ZW1wbGF0ZUpzb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS10ZW1wbGF0ZS1qc29uXScpO1xuICAgIGNvbnN0IGltcG9ydEFpUHJvbXB0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaW1wb3J0LWFpLXByb21wdF0nKTtcbiAgICAvLyBQYXN0ZSBKU09OIGVsZW1lbnRzXG4gICAgY29uc3QgaW1wb3J0UGFzdGVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWltcG9ydC1wYXN0ZS1qc29uXScpO1xuICAgIGNvbnN0IHBhc3RlRm9ybWF0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZm9ybWF0LWpzb25dJyk7XG4gICAgY29uc3QgcGFzdGVFcnJvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWltcG9ydC1wYXN0ZS1lcnJvcl0nKTtcbiAgICBsZXQgaW1wb3J0U2VsZWN0ZWRGaWxlcyA9IFtdO1xuICAgIGxldCBhY3RpdmVJbXBvcnRUYWIgPSAndXBsb2FkJztcbiAgICAvLyBEZWxldGUgcGFnZSBlbGVtZW50c1xuICAgIGNvbnN0IGRlbGV0ZVBhZ2VNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlbGV0ZS1wYWdlLW1vZGFsXScpO1xuICAgIGNvbnN0IGRlbGV0ZVBhZ2VOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVsZXRlLXBhZ2UtbmFtZV0nKTtcbiAgICBjb25zdCBkZWxldGVQYWdlQ2FuY2VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVsZXRlLXBhZ2UtY2FuY2VsXScpO1xuICAgIGNvbnN0IGRlbGV0ZVBhZ2VDb25maXJtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVsZXRlLXBhZ2UtY29uZmlybV0nKTtcbiAgICBsZXQgcGFnZVRvRGVsZXRlID0gbnVsbDtcbiAgICBjb25zdCBzaXRlS2V5ID1cbiAgICAgIHN0cmlwTGVhZGluZ1NsYXNoKHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJ2RlZmF1bHQnKSB8fCAnZGVmYXVsdCc7XG4gICAgY29uc3Qgc2l0ZVNsdWdWYWx1ZSA9IHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJyc7XG4gICAgY29uc3Qgc2FmZVNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goc2l0ZVNsdWdWYWx1ZSkgfHwgJyc7XG4gICAgY29uc3QgcGFnZXNBcGlCYXNlID0gc2FmZVNpdGVTbHVnXG4gICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Zyl9L3BhZ2VzYFxuICAgICAgOiBudWxsO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25zQXBpQmFzZSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9jb2xsZWN0aW9uc2BcbiAgICAgIDogbnVsbDtcbiAgICBjb25zdCBzdG9yYWdlS2V5cyA9IHtcbiAgICAgIGFjdGl2ZTogYGNsb3dlcjphY3RpdmVQYWdlOiR7c2l0ZUtleX1gLFxuICAgIH07XG4gICAgY29uc3QgY3JlYXRlQmxvY2sgPSAoaWQsIGxhYmVsLCB0eXBlLCBzdGF0dXMsIGRlc2NyaXB0aW9uLCBwcm9wcyA9IFtdLCBzZXR0aW5ncyA9IHt9KSA9PiB7XG4gICAgICBjb25zdCBibG9jayA9IHtcbiAgICAgICAgaWQsXG4gICAgICAgIGxhYmVsLFxuICAgICAgICB0eXBlLFxuICAgICAgICBzdGF0dXMsXG4gICAgICAgIGRlc2NyaXB0aW9uLFxuICAgICAgICBwcm9wcyxcbiAgICAgICAgc2V0dGluZ3M6IHsgLi4uc2V0dGluZ3MgfSxcbiAgICAgIH07XG4gICAgICBpZiAoYmxvY2suc2V0dGluZ3MuY29sbGVjdGlvbklkKSB7XG4gICAgICAgIGJsb2NrLmNvbGxlY3Rpb25JZCA9IGJsb2NrLnNldHRpbmdzLmNvbGxlY3Rpb25JZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBibG9jaztcbiAgICB9O1xuICAgIGNvbnN0IGJsb2NrTGlicmFyeURlZmluaXRpb25zID0ge1xuICAgICAgaGVybzoge1xuICAgICAgICB0eXBlOiAnSGVybycsXG4gICAgICAgIGxhYmVsOiAnSGVybyBkZSBwYWdlJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdTZWN0aW9uIHBsZWluZSBsYXJnZXVyIGF2ZWMgQ1RBIHByaW5jaXBhbC4nLFxuICAgICAgICBzdGF0dXM6ICdCcm91aWxsb24nLFxuICAgICAgICBwcm9wczogW1xuICAgICAgICAgIHsgbGFiZWw6ICdDVEEnLCB2YWx1ZTogJ0RcdTAwRTljb3V2cmlyJyB9LFxuICAgICAgICAgIHsgbGFiZWw6ICdIYXV0ZXVyJywgdmFsdWU6ICc4MHZoJyB9LFxuICAgICAgICBdLFxuICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgIHRpdGxlOiAnVGl0cmUgZHUgaGVybycsXG4gICAgICAgICAgc3VidGl0bGU6ICcnLFxuICAgICAgICAgIGN0YUxhYmVsOiAnRFx1MDBFOWNvdXZyaXInLFxuICAgICAgICAgIGN0YVVybDogJyMnLFxuICAgICAgICAgIGltYWdlOiAnJyxcbiAgICAgICAgICBhbGlnbjogJ2NlbnRlcicsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgcGFyYWdyYXBoOiB7XG4gICAgICAgIHR5cGU6ICdQYXJhZ3JhcGhlJyxcbiAgICAgICAgbGFiZWw6ICdCbG9jIFx1MDBFOWRpdG9yaWFsJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdQYXJhZ3JhcGhlIGxpYnJlIHBvdXIgcmFjb250ZXIgdm90cmUgaGlzdG9pcmUuJyxcbiAgICAgICAgc3RhdHVzOiAnQnJvdWlsbG9uJyxcbiAgICAgICAgcHJvcHM6IFt7IGxhYmVsOiAnTG9uZ3VldXInLCB2YWx1ZTogJzE1MCBtb3RzJyB9XSxcbiAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICB0aXRsZTogJ1RpdHJlIGR1IHBhcmFncmFwaGUnLFxuICAgICAgICAgIGNvbnRlbnQ6ICcnLFxuICAgICAgICAgIGFsaWduOiAnbGVmdCcsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgaW1hZ2U6IHtcbiAgICAgICAgdHlwZTogJ0ltYWdlJyxcbiAgICAgICAgbGFiZWw6ICdCbG9jIGltYWdlJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdWaXN1ZWwgc2V1bCBhdmVjIGxcdTAwRTlnZW5kZSBvcHRpb25uZWxsZS4nLFxuICAgICAgICBzdGF0dXM6ICdCcm91aWxsb24nLFxuICAgICAgICBwcm9wczogW1xuICAgICAgICAgIHsgbGFiZWw6ICdSYXRpbycsIHZhbHVlOiAnMTY6OScgfSxcbiAgICAgICAgICB7IGxhYmVsOiAnTFx1MDBFOWdlbmRlJywgdmFsdWU6ICdJbmFjdGl2ZScgfSxcbiAgICAgICAgXSxcbiAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICBzcmM6ICcnLFxuICAgICAgICAgIGFsdDogJycsXG4gICAgICAgICAgc2hvd0NhcHRpb246IGZhbHNlLFxuICAgICAgICAgIGNhcHRpb246ICcnLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGdyb3VwOiB7XG4gICAgICAgIHR5cGU6ICdHcm91cGUnLFxuICAgICAgICBsYWJlbDogJ0dyb3VwZSBkZSBzZWN0aW9ucycsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnQ29udGVuZXVyIHBvdXIgaW1icmlxdWVyIHBsdXNpZXVycyBzb3VzLWJsb2NzLicsXG4gICAgICAgIHN0YXR1czogJ0Jyb3VpbGxvbicsXG4gICAgICAgIHByb3BzOiBbeyBsYWJlbDogJ0Rpc3Bvc2l0aW9uJywgdmFsdWU6ICdWZXJ0aWNhbGUnIH1dLFxuICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgIGxheW91dDogJ2dyaWQnLFxuICAgICAgICAgIGNvbHVtbnNNb2JpbGU6ICcxJyxcbiAgICAgICAgICBjb2x1bW5zRGVza3RvcDogJzMnLFxuICAgICAgICAgIG1vYmlsZUxheW91dDogJ3N0YWNrJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBjb2xsZWN0aW9uZ3JpZDoge1xuICAgICAgICB0eXBlOiAnQ29sbGVjdGlvbkdyaWQnLFxuICAgICAgICBsYWJlbDogJ0dyaWxsZSBkZSBjb250ZW51cycsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnQWZmaWNoZSBhdXRvbWF0aXF1ZW1lbnQgbGVzIGl0ZW1zIGRcdTIwMTl1bmUgY29sbGVjdGlvbi4nLFxuICAgICAgICBzdGF0dXM6ICdCcm91aWxsb24nLFxuICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgIGNvbGxlY3Rpb25JZDogJycsXG4gICAgICAgICAgbGltaXQ6IDYsXG4gICAgICAgICAgbW9iaWxlTGF5b3V0OiAnc3RhY2snLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGZvcm06IHtcbiAgICAgICAgdHlwZTogJ0Zvcm0nLFxuICAgICAgICBsYWJlbDogJ0Zvcm11bGFpcmUgZGUgY29udGFjdCcsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnRm9ybXVsYWlyZSBhdmVjIGVudm9pIHZlcnMgdW4gc2VydmljZSBleHRlcm5lLicsXG4gICAgICAgIHN0YXR1czogJ0Jyb3VpbGxvbicsXG4gICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgZm9ybVRpdGxlOiAnQ29udGFjdGV6LW5vdXMnLFxuICAgICAgICAgIGFjdGlvblVybDogJycsXG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgc2VydmljZU5hbWU6ICcnLFxuICAgICAgICAgIHN1Ym1pdExhYmVsOiAnRW52b3llcicsXG4gICAgICAgICAgc3VjY2Vzc01lc3NhZ2U6ICdNZXJjaSBwb3VyIHZvdHJlIG1lc3NhZ2UgIScsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgbmV3c2xldHRlcmVtYmVkOiB7XG4gICAgICAgIHR5cGU6ICdOZXdzbGV0dGVyRW1iZWQnLFxuICAgICAgICBsYWJlbDogJ05ld3NsZXR0ZXIgLyBFbWJlZCcsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnSW50XHUwMEU5Z3JhdGlvbiBkXFwndW4gZm9ybXVsYWlyZSBuZXdzbGV0dGVyIGV4dGVybmUgKEJyZXZvLCBNYWlsY2hpbXBcdTIwMjYpLicsXG4gICAgICAgIHN0YXR1czogJ0Jyb3VpbGxvbicsXG4gICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgdGl0bGU6ICdSZXN0ZXogaW5mb3JtXHUwMEU5JyxcbiAgICAgICAgICBzZXJ2aWNlTmFtZTogJycsXG4gICAgICAgICAgZW1iZWRDb2RlOiAnJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfTtcbiAgICBjb25zdCBwZXJzaXN0QWN0aXZlUGFnZSA9IChwYWdlSWQpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShzdG9yYWdlS2V5cy5hY3RpdmUsIHBhZ2VJZCk7XG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgLyogaWdub3JlIHN0b3JhZ2UgZXJyb3JzICovXG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBnZXRTdG9yZWRBY3RpdmVQYWdlID0gKHBhZ2VzKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBzdG9yZWQgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oc3RvcmFnZUtleXMuYWN0aXZlKTtcbiAgICAgICAgaWYgKHN0b3JlZCAmJiBwYWdlcy5zb21lKChwYWdlKSA9PiBwYWdlLmlkID09PSBzdG9yZWQpKSB7XG4gICAgICAgICAgcmV0dXJuIHN0b3JlZDtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCB7XG4gICAgICAgIC8qIGlnbm9yZSBzdG9yYWdlIGVycm9ycyAqL1xuICAgICAgfVxuICAgICAgcmV0dXJuIHBhZ2VzWzBdPy5pZCB8fCBudWxsO1xuICAgIH07XG4gICAgY29uc3QgZm9ybWF0QmxvY2tDb3VudCA9IChjb3VudCkgPT4ge1xuICAgICAgaWYgKCFjb3VudCB8fCBjb3VudCA8PSAwKSB7XG4gICAgICAgIHJldHVybiAnMCBibG9jJztcbiAgICAgIH1cbiAgICAgIHJldHVybiBjb3VudCA9PT0gMSA/ICcxIGJsb2MnIDogYCR7Y291bnR9IGJsb2NzYDtcbiAgICB9O1xuICAgIGNvbnN0IG5vcm1hbGl6ZVBhZ2VTbHVnID0gKHZhbHVlKSA9PiB7XG4gICAgICBpZiAoIXZhbHVlIHx8IHZhbHVlID09PSAnLycpIHtcbiAgICAgICAgcmV0dXJuICcvJztcbiAgICAgIH1cbiAgICAgIGNvbnN0IGJhc2UgPSB3b3Jrc3BhY2VTbHVnaWZ5KHZhbHVlLnJlcGxhY2UoL15cXC8vLCAnJykpO1xuICAgICAgcmV0dXJuIGJhc2UgPyBgLyR7YmFzZX1gIDogJy8nO1xuICAgIH07XG4gICAgY29uc3QgZ2VuZXJhdGVCbG9ja0lkID0gKHBhZ2VJZCA9ICdwYWdlJywga2V5ID0gJ2Jsb2NrJykgPT5cbiAgICAgIGAke3BhZ2VJZH0tJHtrZXl9LSR7RGF0ZS5ub3coKS50b1N0cmluZygzNil9LSR7TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMCl9YDtcbiAgICBjb25zdCBjcmVhdGVJbml0aWFsQmxvY2tzID0gKHBhZ2VJZCwgdGl0bGUpID0+IFtcbiAgICAgIGNyZWF0ZUJsb2NrKFxuICAgICAgICBnZW5lcmF0ZUJsb2NrSWQocGFnZUlkLCAnaW50cm8nKSxcbiAgICAgICAgJ0ludHJvZHVjdGlvbicsXG4gICAgICAgICdQYXJhZ3JhcGhlJyxcbiAgICAgICAgJ0Jyb3VpbGxvbicsXG4gICAgICAgIGBQYXJhZ3JhcGhlIGludHJvZHVjdGlmIHBvdXIgXCIke3RpdGxlfVwiLmAsXG4gICAgICAgIFt7IGxhYmVsOiAnTG9uZ3VldXInLCB2YWx1ZTogJzIgcGFyYWdyYXBoZXMnIH1dLFxuICAgICAgICB7XG4gICAgICAgICAgdGl0bGU6IGBJbnRyb2R1Y3Rpb24gXHUwMEUwICR7dGl0bGV9YCxcbiAgICAgICAgICBjb250ZW50OiAnQWpvdXRleiB2b3RyZSBwcmVtaWVyIHBhcmFncmFwaGUgZGUgcHJcdTAwRTlzZW50YXRpb24uJyxcbiAgICAgICAgICBhbGlnbjogJ2xlZnQnLFxuICAgICAgICB9LFxuICAgICAgKSxcbiAgICAgIGNyZWF0ZUJsb2NrKFxuICAgICAgICBnZW5lcmF0ZUJsb2NrSWQocGFnZUlkLCAnY29udGVudCcpLFxuICAgICAgICAnWm9uZSBkZSBjb250ZW51JyxcbiAgICAgICAgJ0dyb3VwZScsXG4gICAgICAgICdCcm91aWxsb24nLFxuICAgICAgICAnU2VjdGlvbiBwcmluY2lwYWxlIFx1MDBFMCBjb21wb3NlciBhdmVjIHRleHRlcyBldCB2aXN1ZWxzLicsXG4gICAgICAgIFt7IGxhYmVsOiAnQ29sb25uZXMnLCB2YWx1ZTogJ0F1dG8nIH1dLFxuICAgICAgICB7XG4gICAgICAgICAgbGF5b3V0OiAnZ3JpZCcsXG4gICAgICAgICAgY29sdW1uc01vYmlsZTogJzEnLFxuICAgICAgICAgIGNvbHVtbnNEZXNrdG9wOiAnMicsXG4gICAgICAgICAgbW9iaWxlTGF5b3V0OiAnc3RhY2snLFxuICAgICAgICB9LFxuICAgICAgKSxcbiAgICBdO1xuICAgIGNvbnN0IHNldEFjdGl2ZUxhYmVscyA9IChwYWdlKSA9PiB7XG4gICAgICBpZiAoYWN0aXZlVGl0bGUpIHtcbiAgICAgICAgLy8gVXNlIHBhZ2UubmFtZSAoc2hvcnQgbmFtZSkgaWYgYXZhaWxhYmxlLCBmYWxsYmFjayB0byB0aXRsZVxuICAgICAgICBhY3RpdmVUaXRsZS50ZXh0Q29udGVudCA9IHBhZ2U/Lm5hbWUgfHwgcGFnZT8udGl0bGUgfHwgJ1BhZ2UnO1xuICAgICAgfVxuICAgICAgaWYgKGFjdGl2ZVNsdWcpIHtcbiAgICAgICAgYWN0aXZlU2x1Zy50ZXh0Q29udGVudCA9IHBhZ2U/LnNsdWcgfHwgJy8nO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgcmVuZGVyUHJldmlld01ldGEgPSAocGFnZSkgPT4ge1xuICAgICAgaWYgKCFwcmV2aWV3VGFncykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwcmV2aWV3VGFncy5pbm5lckhUTUwgPSAnJztcbiAgICAgIGNvbnN0IHRhZ3MgPVxuICAgICAgICBwYWdlICYmIHBhZ2UuYmFkZ2VzICYmIHBhZ2UuYmFkZ2VzLmxlbmd0aCA+IDAgPyBwYWdlLmJhZGdlcyA6IFsnU3RydWN0dXJlIGVuIGNvdXJzJ107XG4gICAgICB0YWdzLmZvckVhY2goKHRhZykgPT4ge1xuICAgICAgICBjb25zdCBiYWRnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgYmFkZ2UuY2xhc3NOYW1lID0gJ3JvdW5kZWQtZnVsbCBiZy1zbGF0ZS0xMDAgcHgtMyBweS0xJztcbiAgICAgICAgYmFkZ2UudGV4dENvbnRlbnQgPSB0YWc7XG4gICAgICAgIHByZXZpZXdUYWdzLmFwcGVuZENoaWxkKGJhZGdlKTtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgY29uc3QgZ2V0U3RhdHVzQmFkZ2VDbGFzc2VzID0gKHN0YXR1cykgPT4ge1xuICAgICAgc3dpdGNoICgoc3RhdHVzIHx8ICcnKS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgIGNhc2UgJ2VuIGxpZ25lJzpcbiAgICAgICAgICByZXR1cm4gJ2JnLWVtZXJhbGQtNTAgdGV4dC1lbWVyYWxkLTcwMCc7XG4gICAgICAgIGNhc2UgJ2Jyb3VpbGxvbic6XG4gICAgICAgICAgcmV0dXJuICdiZy1hbWJlci01MCB0ZXh0LWFtYmVyLTcwMCc7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuICdiZy1zbGF0ZS0xMDAgdGV4dC1zbGF0ZS02MDAnO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgcmVuZGVyQmxvY2tEZXRhaWxzID0gKGJsb2NrKSA9PiB7XG4gICAgICBpZiAoIWJsb2NrRGV0YWlsRW1wdHkgfHwgIWJsb2NrRWRpdG9yKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghYmxvY2spIHtcbiAgICAgICAgYmxvY2tEZXRhaWxFbXB0eS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgYmxvY2tFZGl0b3IuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIGJsb2NrRWRpdG9yVW5zdXBwb3J0ZWQ/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBibG9ja0Zvcm0/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBibG9ja0RldGFpbFN0YXR1cz8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGJsb2NrRGV0YWlsRW1wdHkuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBibG9ja0VkaXRvci5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGlmIChibG9ja0RldGFpbFN0YXR1cykge1xuICAgICAgICBpZiAoYmxvY2suc3RhdHVzKSB7XG4gICAgICAgICAgYmxvY2tEZXRhaWxTdGF0dXMudGV4dENvbnRlbnQgPSBibG9jay5zdGF0dXM7XG4gICAgICAgICAgYmxvY2tEZXRhaWxTdGF0dXMuY2xhc3NOYW1lID0gYHJvdW5kZWQtZnVsbCBweC0zIHB5LTEgdGV4dC14cyBmb250LXNlbWlib2xkICR7Z2V0U3RhdHVzQmFkZ2VDbGFzc2VzKFxuICAgICAgICAgICAgYmxvY2suc3RhdHVzLFxuICAgICAgICAgICl9YDtcbiAgICAgICAgICBibG9ja0RldGFpbFN0YXR1cy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBibG9ja0RldGFpbFN0YXR1cy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcG9wdWxhdGVCbG9ja0Zvcm0oYmxvY2spO1xuICAgIH07XG4gICAgY29uc3QgcmVhZEFjY2VudENvbG9yID0gKCkgPT4ge1xuICAgICAgY29uc3QgY29tcHV0ZWQgPSBnZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkuZ2V0UHJvcGVydHlWYWx1ZSgnLS1jb2xvci1hY2NlbnQnKTtcbiAgICAgIHJldHVybiBjb21wdXRlZCA/IGNvbXB1dGVkLnRyaW0oKSA6ICcjOUM2QkZGJztcbiAgICB9O1xuICAgIGNvbnN0IGFwcGx5UHJldmlld0hpZ2hsaWdodCA9IChibG9ja0lkKSA9PiB7XG4gICAgICBpZiAoIXByZXZpZXdGcmFtZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBkb2MgPSBwcmV2aWV3RnJhbWUuY29udGVudERvY3VtZW50O1xuICAgICAgaWYgKCFkb2MpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3Qgbm9kZXMgPSBkb2MucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtcHJldmlldy1ibG9ja10nKTtcbiAgICAgIG5vZGVzLmZvckVhY2goKG5vZGUpID0+IHtcbiAgICAgICAgaWYgKG5vZGUuZGF0YXNldC5wcmV2aWV3QmxvY2sgPT09IGJsb2NrSWQpIHtcbiAgICAgICAgICBub2RlLmNsYXNzTGlzdC5hZGQoJ3ByZXZpZXctYmxvY2stYWN0aXZlJyk7XG4gICAgICAgICAgaWYgKHByZXZpZXdSZWFkeSAmJiBibG9ja0lkKSB7XG4gICAgICAgICAgICBub2RlLnNjcm9sbEludG9WaWV3KHsgYmVoYXZpb3I6ICdzbW9vdGgnLCBibG9jazogJ2NlbnRlcicsIGlubGluZTogJ25lYXJlc3QnIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBub2RlLmNsYXNzTGlzdC5yZW1vdmUoJ3ByZXZpZXctYmxvY2stYWN0aXZlJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKHByZXZpZXdIaWdobGlnaHRPdmVybGF5KSB7XG4gICAgICAgIGNvbnN0IGFjY2VudCA9IHJlYWRBY2NlbnRDb2xvcigpO1xuICAgICAgICBwcmV2aWV3SGlnaGxpZ2h0T3ZlcmxheS5zdHlsZS5ib3JkZXJDb2xvciA9IGJsb2NrSWQgPyBhY2NlbnQgOiAndHJhbnNwYXJlbnQnO1xuICAgICAgICBwcmV2aWV3SGlnaGxpZ2h0T3ZlcmxheS5zdHlsZS5vcGFjaXR5ID0gYmxvY2tJZCA/ICcwLjUnIDogJzAnO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgcHJldmlld1ZpZXdQcmVzZXRzID0ge1xuICAgICAgZGVza3RvcDogeyB3aWR0aDogJzEwMCUnLCBoZWlnaHQ6ICc2NDBweCcsIG1heFdpZHRoOiAnJywgbWFyZ2luOiAnMCcgfSxcbiAgICAgIG1vYmlsZTogeyB3aWR0aDogJzM3NXB4JywgaGVpZ2h0OiAnNzgwcHgnLCBtYXhXaWR0aDogJzM3NXB4JywgbWFyZ2luOiAnMCBhdXRvJyB9LFxuICAgIH07XG4gICAgY29uc3Qgc2V0UHJldmlld1ZpZXcgPSAodmlldykgPT4ge1xuICAgICAgY29uc3QgdGFyZ2V0ID0gcHJldmlld1ZpZXdQcmVzZXRzW3ZpZXddID8gdmlldyA6ICdkZXNrdG9wJztcbiAgICAgIHByZXZpZXdWaWV3QnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICAgICAgY29uc3QgaXNBY3RpdmUgPSBidXR0b24uZGF0YXNldC5wcmV2aWV3VmlldyA9PT0gdGFyZ2V0O1xuICAgICAgICBidXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLXByZXNzZWQnLCBpc0FjdGl2ZSA/ICd0cnVlJyA6ICdmYWxzZScpO1xuICAgICAgICBpZiAoaXNBY3RpdmUpIHtcbiAgICAgICAgICBidXR0b24uY2xhc3NMaXN0LmFkZCgnYmctc2xhdGUtOTAwJywgJ3RleHQtd2hpdGUnKTtcbiAgICAgICAgICBidXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnYmctc2xhdGUtMjAwJywgJ3RleHQtc2xhdGUtNTAwJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2JnLXNsYXRlLTkwMCcsICd0ZXh0LXdoaXRlJyk7XG4gICAgICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2JnLXNsYXRlLTIwMCcsICd0ZXh0LXNsYXRlLTUwMCcpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGNvbnN0IHN0eWxlcyA9IHByZXZpZXdWaWV3UHJlc2V0c1t0YXJnZXRdO1xuICAgICAgaWYgKHByZXZpZXdGcmFtZSkge1xuICAgICAgICBwcmV2aWV3RnJhbWUuc3R5bGUud2lkdGggPSBzdHlsZXMud2lkdGg7XG4gICAgICAgIHByZXZpZXdGcmFtZS5zdHlsZS5oZWlnaHQgPSBzdHlsZXMuaGVpZ2h0O1xuICAgICAgICBwcmV2aWV3RnJhbWUuc3R5bGUubWF4V2lkdGggPSBzdHlsZXMubWF4V2lkdGg7XG4gICAgICAgIHByZXZpZXdGcmFtZS5zdHlsZS5tYXJnaW4gPSBzdHlsZXMubWFyZ2luO1xuICAgICAgfVxuICAgICAgaWYgKHByZXZpZXdGcmFtZVdyYXBwZXIpIHtcbiAgICAgICAgcHJldmlld0ZyYW1lV3JhcHBlci5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICAgICAgcHJldmlld0ZyYW1lV3JhcHBlci5zdHlsZS5taW5IZWlnaHQgPSBzdHlsZXMuaGVpZ2h0O1xuICAgICAgICBwcmV2aWV3RnJhbWVXcmFwcGVyLnN0eWxlLm1heFdpZHRoID0gc3R5bGVzLm1heFdpZHRoIHx8ICcxMDAlJztcbiAgICAgIH1cbiAgICAgIGlmIChwcmV2aWV3U2hlbGwpIHtcbiAgICAgICAgcHJldmlld1NoZWxsLmRhdGFzZXQucHJldmlld1NoZWxsVmlldyA9IHRhcmdldDtcbiAgICAgIH1cbiAgICAgIGlmIChwcmV2aWV3Q3VycmVudFZpZXdMYWJlbCkge1xuICAgICAgICBwcmV2aWV3Q3VycmVudFZpZXdMYWJlbC50ZXh0Q29udGVudCA9IHRhcmdldCA9PT0gJ21vYmlsZScgPyAnVnVlIG1vYmlsZScgOiAnVnVlIGJ1cmVhdSc7XG4gICAgICB9XG4gICAgfTtcbiAgICAvLyBGb25jdGlvbiBwb3VyIGNyXHUwMEU5ZXIgdW4gXHUwMEU5bFx1MDBFOW1lbnQgZGUgYmxvYyAodXRpbGlzXHUwMEU5IHBvdXIgbGVzIGJsb2NzIGV0IGxlcyBlbmZhbnRzIGRlIGdyb3VwZSlcbiAgICBjb25zdCBjcmVhdGVCbG9ja0l0ZW1FbGVtZW50ID0gKGJsb2NrLCBpc05lc3RlZCA9IGZhbHNlLCBwYXJlbnRJZCA9IG51bGwpID0+IHtcbiAgICAgIGNvbnN0IGlzQWN0aXZlID0gYmxvY2suaWQgPT09IGFjdGl2ZUJsb2NrSWQ7XG4gICAgICBjb25zdCBibG9ja1R5cGUgPSAoYmxvY2sudHlwZSB8fCAnJykudG9Mb3dlckNhc2UoKTtcbiAgICAgIGNvbnN0IGlzR3JvdXAgPSBibG9ja1R5cGUgPT09ICdncm91cGUnIHx8IGJsb2NrVHlwZSA9PT0gJ2dyb3VwJyB8fCBibG9ja1R5cGUgPT09ICdzZWN0aW9ucycgfHwgYmxvY2tUeXBlID09PSAnZ3JpZCc7XG4gICAgICBcbiAgICAgIGNvbnN0IGl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGl0ZW0uZGF0YXNldC5ibG9ja0l0ZW0gPSAndHJ1ZSc7XG4gICAgICBpdGVtLmRhdGFzZXQuYmxvY2tJZCA9IGJsb2NrLmlkO1xuICAgICAgaWYgKHBhcmVudElkKSBpdGVtLmRhdGFzZXQucGFyZW50QmxvY2tJZCA9IHBhcmVudElkO1xuICAgICAgaWYgKGlzR3JvdXApIGl0ZW0uZGF0YXNldC5pc0dyb3VwID0gJ3RydWUnO1xuICAgICAgaXRlbS5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnb3B0aW9uJyk7XG4gICAgICBpdGVtLnNldEF0dHJpYnV0ZSgnYXJpYS1zZWxlY3RlZCcsIGlzQWN0aXZlID8gJ3RydWUnIDogJ2ZhbHNlJyk7XG4gICAgICBpdGVtLnNldEF0dHJpYnV0ZSgnZHJhZ2dhYmxlJywgJ3RydWUnKTtcbiAgICAgIGl0ZW0udGFiSW5kZXggPSAwO1xuICAgICAgaXRlbS5jbGFzc05hbWUgPSBbXG4gICAgICAgICdyZWxhdGl2ZSBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMyByb3VuZGVkLTJ4bCBib3JkZXIgcHgtMyBweS0yIHRleHQtbGVmdCB0cmFuc2l0aW9uIGdyb3VwJyxcbiAgICAgICAgaXNOZXN0ZWQgPyAnbWwtNiBib3JkZXItZGFzaGVkJyA6ICcnLFxuICAgICAgICBpc0FjdGl2ZVxuICAgICAgICAgID8gJ2JnLXNsYXRlLTEwMCBib3JkZXItWyM5QzZCRkZdLzQwIHNoYWRvdy1zbSdcbiAgICAgICAgICA6ICdib3JkZXItc2xhdGUtMjAwIGhvdmVyOmJvcmRlci1bIzlDNkJGRl0vNDAnLFxuICAgICAgXS5qb2luKCcgJyk7XG4gICAgICBcbiAgICAgIGNvbnN0IGFjY2VudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgIGFjY2VudC5jbGFzc05hbWUgPSBgYWJzb2x1dGUgaW5zZXQteS0yIGxlZnQtMCB3LTEgcm91bmRlZC1mdWxsIGJnLVsjOUM2QkZGXSAke2lzQWN0aXZlID8gJycgOiAnaGlkZGVuJ31gO1xuICAgICAgaXRlbS5hcHBlbmRDaGlsZChhY2NlbnQpO1xuXG4gICAgICBjb25zdCBjb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBjb250ZW50LmNsYXNzTmFtZSA9ICdmbGV4IGZsZXgtMSBpdGVtcy1jZW50ZXIgZ2FwLTMnO1xuICAgICAgXG4gICAgICBjb25zdCBoYW5kbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGhhbmRsZS5jbGFzc05hbWUgPSAnaGlkZGVuIGxnOmZsZXggY3Vyc29yLWdyYWIgYWN0aXZlOmN1cnNvci1ncmFiYmluZyBmbGV4LXNocmluay0wIGl0ZW1zLWNlbnRlciB0ZXh0LWxnIHRleHQtc2xhdGUtNDAwIGhvdmVyOnRleHQtc2xhdGUtNjAwIHRyYW5zaXRpb24tY29sb3JzIHNlbGVjdC1ub25lJztcbiAgICAgIGhhbmRsZS5pbm5lckhUTUwgPSAnXHUyMkVFXHUyMkVFJztcbiAgICAgIGhhbmRsZS5zZXRBdHRyaWJ1dGUoJ3RpdGxlJywgJ0dsaXNzZXIgcG91ciByXHUwMEU5b3Jkb25uZXInKTtcbiAgICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQoaGFuZGxlKTtcblxuICAgICAgY29uc3QgdGV4dFdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHRleHRXcmFwcGVyLmNsYXNzTmFtZSA9ICdmbGV4LTEnO1xuICAgICAgXG4gICAgICBjb25zdCBtZXRhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBtZXRhLmNsYXNzTmFtZSA9ICdmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiB0ZXh0LVsxMXB4XSB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZSB0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICBcbiAgICAgIGNvbnN0IHR5cGVCYWRnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgIHR5cGVCYWRnZS5jbGFzc05hbWUgPSAncm91bmRlZC1mdWxsIGJnLXNsYXRlLTEwMCBweC0yIHB5LTAuNSB0ZXh0LVsxMHB4XSBmb250LXNlbWlib2xkIHRleHQtc2xhdGUtNjAwJztcbiAgICAgIHR5cGVCYWRnZS50ZXh0Q29udGVudCA9IGJsb2NrLnR5cGU7XG4gICAgICBcbiAgICAgIGNvbnN0IHN0YXR1c0JhZGdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgc3RhdHVzQmFkZ2UuY2xhc3NOYW1lID0gJ3RleHQtc2xhdGUtNDAwJztcbiAgICAgIHN0YXR1c0JhZGdlLnRleHRDb250ZW50ID0gYmxvY2suc3RhdHVzO1xuICAgICAgXG4gICAgICBtZXRhLmFwcGVuZENoaWxkKHR5cGVCYWRnZSk7XG4gICAgICBpZiAoaXNHcm91cCkge1xuICAgICAgICBjb25zdCBjaGlsZENvdW50ID0gKGJsb2NrLmNoaWxkcmVuIHx8IFtdKS5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGNoaWxkQmFkZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgIGNoaWxkQmFkZ2UuY2xhc3NOYW1lID0gJ3JvdW5kZWQtZnVsbCBiZy12aW9sZXQtMTAwIHB4LTIgcHktMC41IHRleHQtWzEwcHhdIGZvbnQtc2VtaWJvbGQgdGV4dC12aW9sZXQtNjAwJztcbiAgICAgICAgY2hpbGRCYWRnZS50ZXh0Q29udGVudCA9IGAke2NoaWxkQ291bnR9IFx1MDBFOWxcdTAwRTltZW50JHtjaGlsZENvdW50ICE9PSAxID8gJ3MnIDogJyd9YDtcbiAgICAgICAgbWV0YS5hcHBlbmRDaGlsZChjaGlsZEJhZGdlKTtcbiAgICAgIH1cbiAgICAgIG1ldGEuYXBwZW5kQ2hpbGQoc3RhdHVzQmFkZ2UpO1xuICAgICAgXG4gICAgICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICAgIHRpdGxlLmNsYXNzTmFtZSA9ICdtdC0xIHRleHQtc20gZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTkwMCc7XG4gICAgICBjb25zdCBkaXNwbGF5TGFiZWwgPSAoYmxvY2suc2V0dGluZ3MgJiYgYmxvY2suc2V0dGluZ3MudGl0bGUpIHx8IGJsb2NrLmxhYmVsIHx8ICdCbG9jIHNhbnMgdGl0cmUnO1xuICAgICAgdGl0bGUudGV4dENvbnRlbnQgPSBkaXNwbGF5TGFiZWw7XG4gICAgICBcbiAgICAgIHRleHRXcmFwcGVyLmFwcGVuZENoaWxkKG1ldGEpO1xuICAgICAgdGV4dFdyYXBwZXIuYXBwZW5kQ2hpbGQodGl0bGUpO1xuICAgICAgXG4gICAgICBpZiAoYmxvY2tUeXBlID09PSAnY29sbGVjdGlvbmdyaWQnICYmIGJsb2NrLmNvbGxlY3Rpb25JZCkge1xuICAgICAgICBjb25zdCBjb2xsZWN0aW9uTmFtZSA9IGRlc2lnbkNvbGxlY3Rpb25zLmZpbmQoKGVudHJ5KSA9PiBlbnRyeS5pZCA9PT0gYmxvY2suY29sbGVjdGlvbklkKT8ubmFtZSB8fCBibG9jay5jb2xsZWN0aW9uSWQ7XG4gICAgICAgIGNvbnN0IGluZm8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgICAgIGluZm8uY2xhc3NOYW1lID0gJ3RleHQteHMgdGV4dC1zbGF0ZS00MDAnO1xuICAgICAgICBpbmZvLnRleHRDb250ZW50ID0gYENvbGxlY3Rpb24gOiAke2NvbGxlY3Rpb25OYW1lfWA7XG4gICAgICAgIHRleHRXcmFwcGVyLmFwcGVuZENoaWxkKGluZm8pO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb250ZW50LmFwcGVuZENoaWxkKHRleHRXcmFwcGVyKTtcbiAgICAgIGl0ZW0uYXBwZW5kQ2hpbGQoY29udGVudCk7XG5cbiAgICAgIGNvbnN0IGFjdGlvbnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGFjdGlvbnMuY2xhc3NOYW1lID0gJ2ZsZXggZmxleC1jb2wgZ2FwLTEgdGV4dC14cyB0ZXh0LXNsYXRlLTQwMCc7XG5cbiAgICAgIGNvbnN0IG1vdmVCdXR0b25zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBtb3ZlQnV0dG9ucy5jbGFzc05hbWUgPSAnZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEgbGc6aGlkZGVuJztcbiAgICAgIGNvbnN0IG1vdmVVcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgbW92ZVVwLnR5cGUgPSAnYnV0dG9uJztcbiAgICAgIG1vdmVVcC5jbGFzc05hbWUgPSAncm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLXNsYXRlLTIwMCBweC0yIHB5LTEgdGV4dC1bMTFweF0gZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICBtb3ZlVXAudGV4dENvbnRlbnQgPSAnXHUyMTkxJztcbiAgICAgIG1vdmVVcC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgaWYgKHBhcmVudElkKSB7XG4gICAgICAgICAgbW92ZUNoaWxkQmxvY2tCeU9mZnNldChwYXJlbnRJZCwgYmxvY2suaWQsIC0xKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtb3ZlQmxvY2tCeU9mZnNldChibG9jay5pZCwgLTEpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGNvbnN0IG1vdmVEb3duID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICBtb3ZlRG93bi50eXBlID0gJ2J1dHRvbic7XG4gICAgICBtb3ZlRG93bi5jbGFzc05hbWUgPSAncm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLXNsYXRlLTIwMCBweC0yIHB5LTEgdGV4dC1bMTFweF0gZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICBtb3ZlRG93bi50ZXh0Q29udGVudCA9ICdcdTIxOTMnO1xuICAgICAgbW92ZURvd24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGlmIChwYXJlbnRJZCkge1xuICAgICAgICAgIG1vdmVDaGlsZEJsb2NrQnlPZmZzZXQocGFyZW50SWQsIGJsb2NrLmlkLCAxKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtb3ZlQmxvY2tCeU9mZnNldChibG9jay5pZCwgMSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgbW92ZUJ1dHRvbnMuYXBwZW5kQ2hpbGQobW92ZVVwKTtcbiAgICAgIG1vdmVCdXR0b25zLmFwcGVuZENoaWxkKG1vdmVEb3duKTtcbiAgICAgIGFjdGlvbnMuYXBwZW5kQ2hpbGQobW92ZUJ1dHRvbnMpO1xuXG4gICAgICBjb25zdCBkZWxldGVCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgIGRlbGV0ZUJ1dHRvbi50eXBlID0gJ2J1dHRvbic7XG4gICAgICBkZWxldGVCdXR0b24uY2xhc3NOYW1lID0gJ2lubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciByb3VuZGVkLWxnIGJvcmRlciBib3JkZXItdHJhbnNwYXJlbnQgcHgtMiBweS0xIHRleHQtWzEycHhdIHRleHQtcm9zZS01MDAgaG92ZXI6dGV4dC1yb3NlLTcwMCc7XG4gICAgICBkZWxldGVCdXR0b24uaW5uZXJIVE1MID0gJ1x1RDgzRFx1REREMVx1RkUwRic7XG4gICAgICBkZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGlmIChwYXJlbnRJZCkge1xuICAgICAgICAgIHJlbW92ZUNoaWxkRnJvbUdyb3VwKHBhcmVudElkLCBibG9jay5pZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb3BlbkJsb2NrRGVsZXRlTW9kYWwoYmxvY2suaWQpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgYWN0aW9ucy5hcHBlbmRDaGlsZChkZWxldGVCdXR0b24pO1xuICAgICAgaXRlbS5hcHBlbmRDaGlsZChhY3Rpb25zKTtcblxuICAgICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgc2V0QWN0aXZlQmxvY2soYmxvY2suaWQsIHBhcmVudElkKTtcbiAgICAgIH0pO1xuICAgICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmIChldmVudC5rZXkgPT09ICdFbnRlcicgfHwgZXZlbnQua2V5ID09PSAnICcpIHtcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIHNldEFjdGl2ZUJsb2NrKGJsb2NrLmlkLCBwYXJlbnRJZCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgXG4gICAgICByZXR1cm4geyBpdGVtLCBpc0dyb3VwLCBibG9jayB9O1xuICAgIH07XG4gICAgXG4gICAgLy8gRm9uY3Rpb24gcG91ciBjclx1MDBFOWVyIGxhIHpvbmUgZGUgZHJvcCBwb3VyIHVuIGdyb3VwZVxuICAgIGNvbnN0IGNyZWF0ZUdyb3VwRHJvcFpvbmUgPSAocGFyZW50QmxvY2spID0+IHtcbiAgICAgIGNvbnN0IGRyb3Bab25lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBkcm9wWm9uZS5kYXRhc2V0Lmdyb3VwRHJvcFpvbmUgPSBwYXJlbnRCbG9jay5pZDtcbiAgICAgIGRyb3Bab25lLmNsYXNzTmFtZSA9ICdtbC02IGJvcmRlci0yIGJvcmRlci1kYXNoZWQgYm9yZGVyLXNsYXRlLTIwMCByb3VuZGVkLXhsIHAtMyB0ZXh0LWNlbnRlciB0ZXh0LXhzIHRleHQtc2xhdGUtNDAwIGhvdmVyOmJvcmRlci12aW9sZXQtMzAwIGhvdmVyOmJnLXZpb2xldC01MC81MCB0cmFuc2l0aW9uLWNvbG9ycyBjdXJzb3ItcG9pbnRlcic7XG4gICAgICBkcm9wWm9uZS5pbm5lckhUTUwgPSAnPHNwYW4gY2xhc3M9XCJwb2ludGVyLWV2ZW50cy1ub25lXCI+XHVEODNEXHVEQ0U2IEdsaXNzZXogdW4gYmxvYyBpY2kgb3UgY2xpcXVleiBwb3VyIGFqb3V0ZXI8L3NwYW4+JztcbiAgICAgIFxuICAgICAgLy8gXHUwMEM5dlx1MDBFOW5lbWVudHMgZGUgZHJhZyAmIGRyb3BcbiAgICAgIGRyb3Bab25lLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgKGUpID0+IHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBkcm9wWm9uZS5jbGFzc0xpc3QuYWRkKCdib3JkZXItdmlvbGV0LTQwMCcsICdiZy12aW9sZXQtNTAnKTtcbiAgICAgIH0pO1xuICAgICAgZHJvcFpvbmUuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2xlYXZlJywgKGUpID0+IHtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgZHJvcFpvbmUuY2xhc3NMaXN0LnJlbW92ZSgnYm9yZGVyLXZpb2xldC00MDAnLCAnYmctdmlvbGV0LTUwJyk7XG4gICAgICB9KTtcbiAgICAgIGRyb3Bab25lLmFkZEV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCAoZSkgPT4ge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGRyb3Bab25lLmNsYXNzTGlzdC5yZW1vdmUoJ2JvcmRlci12aW9sZXQtNDAwJywgJ2JnLXZpb2xldC01MCcpO1xuICAgICAgICBjb25zdCBibG9ja0lkID0gZS5kYXRhVHJhbnNmZXIuZ2V0RGF0YSgndGV4dC9wbGFpbicpO1xuICAgICAgICBpZiAoYmxvY2tJZCAmJiBibG9ja0lkICE9PSBwYXJlbnRCbG9jay5pZCkge1xuICAgICAgICAgIG1vdmVCbG9ja1RvR3JvdXAoYmxvY2tJZCwgcGFyZW50QmxvY2suaWQpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgLy8gQ2xpYyBwb3VyIGFqb3V0ZXIgdW4gYmxvYyBhdSBncm91cGVcbiAgICAgIGRyb3Bab25lLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBvcGVuQWRkQmxvY2tUb0dyb3VwTW9kYWwocGFyZW50QmxvY2suaWQpO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIHJldHVybiBkcm9wWm9uZTtcbiAgICB9O1xuXG5cdCAgICBjb25zdCByZW5kZXJCbG9ja0xpc3QgPSAocGFnZSkgPT4ge1xuXHQgICAgICBpZiAoIWJsb2NrTGlzdCkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuICAgICAgYmxvY2tMaXN0LmlubmVySFRNTCA9ICcnO1xuICAgICAgY29uc3QgYmxvY2tzID0gcGFnZT8uYmxvY2tzIHx8IFtdO1xuICAgICAgaWYgKGJsb2NrQ291bnRCYWRnZSkge1xuICAgICAgICBibG9ja0NvdW50QmFkZ2UudGV4dENvbnRlbnQgPSBmb3JtYXRCbG9ja0NvdW50KGJsb2Nrcy5sZW5ndGgpO1xuICAgICAgfVxuICAgICAgaWYgKGJsb2Nrcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgYmxvY2tMaXN0LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBibG9ja0xpc3RFbXB0eT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGJsb2NrTGlzdC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGJsb2NrTGlzdEVtcHR5Py5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIFxuICAgICAgYmxvY2tzLmZvckVhY2goKGJsb2NrKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgaXRlbSwgaXNHcm91cCB9ID0gY3JlYXRlQmxvY2tJdGVtRWxlbWVudChibG9jaywgZmFsc2UsIG51bGwpO1xuICAgICAgICBibG9ja0xpc3QuYXBwZW5kQ2hpbGQoaXRlbSk7XG4gICAgICAgIFxuICAgICAgICAvLyBTaSBjJ2VzdCB1biBncm91cGUsIGFmZmljaGVyIGxlcyBlbmZhbnRzIGV0IGxhIHpvbmUgZGUgZHJvcFxuICAgICAgICBpZiAoaXNHcm91cCkge1xuICAgICAgICAgIGNvbnN0IGNoaWxkcmVuID0gYmxvY2suY2hpbGRyZW4gfHwgW107XG4gICAgICAgICAgY2hpbGRyZW4uZm9yRWFjaCgoY2hpbGQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgaXRlbTogY2hpbGRJdGVtIH0gPSBjcmVhdGVCbG9ja0l0ZW1FbGVtZW50KGNoaWxkLCB0cnVlLCBibG9jay5pZCk7XG4gICAgICAgICAgICBibG9ja0xpc3QuYXBwZW5kQ2hpbGQoY2hpbGRJdGVtKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICAvLyBab25lIGRlIGRyb3AgcG91ciBham91dGVyIGRlcyBibG9jcyBhdSBncm91cGVcbiAgICAgICAgICBjb25zdCBkcm9wWm9uZSA9IGNyZWF0ZUdyb3VwRHJvcFpvbmUoYmxvY2spO1xuICAgICAgICAgIGJsb2NrTGlzdC5hcHBlbmRDaGlsZChkcm9wWm9uZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXHQgICAgfTtcblx0ICAgIFxuXHQgICAgLy8gRm9uY3Rpb25zIHBvdXIgZ1x1MDBFOXJlciBsZXMgZW5mYW50cyBkZXMgZ3JvdXBlc1xuXHQgICAgY29uc3QgZmluZENoaWxkTG9jYXRpb24gPSAoY2hpbGRJZCkgPT4ge1xuXHQgICAgICBpZiAoIWN1cnJlbnRQYWdlIHx8ICFjaGlsZElkKSByZXR1cm4gbnVsbDtcblx0ICAgICAgZm9yIChsZXQgZ3JvdXBJbmRleCA9IDA7IGdyb3VwSW5kZXggPCBjdXJyZW50UGFnZS5ibG9ja3MubGVuZ3RoOyBncm91cEluZGV4KyspIHtcblx0ICAgICAgICBjb25zdCBncm91cEJsb2NrID0gY3VycmVudFBhZ2UuYmxvY2tzW2dyb3VwSW5kZXhdO1xuXHQgICAgICAgIGNvbnN0IGdyb3VwVHlwZSA9IChncm91cEJsb2NrPy50eXBlIHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xuXHQgICAgICAgIGNvbnN0IGlzR3JvdXAgPVxuXHQgICAgICAgICAgZ3JvdXBUeXBlID09PSAnZ3JvdXBlJyB8fCBncm91cFR5cGUgPT09ICdncm91cCcgfHwgZ3JvdXBUeXBlID09PSAnc2VjdGlvbnMnIHx8IGdyb3VwVHlwZSA9PT0gJ2dyaWQnO1xuXHQgICAgICAgIGlmICghaXNHcm91cCB8fCAhQXJyYXkuaXNBcnJheShncm91cEJsb2NrLmNoaWxkcmVuKSkgY29udGludWU7XG5cdCAgICAgICAgY29uc3QgY2hpbGRJbmRleCA9IGdyb3VwQmxvY2suY2hpbGRyZW4uZmluZEluZGV4KChjaGlsZCkgPT4gY2hpbGQuaWQgPT09IGNoaWxkSWQpO1xuXHQgICAgICAgIGlmIChjaGlsZEluZGV4ICE9PSAtMSkge1xuXHQgICAgICAgICAgcmV0dXJuIHsgZ3JvdXBJZDogZ3JvdXBCbG9jay5pZCwgZ3JvdXBJbmRleCwgY2hpbGRJbmRleCB9O1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gbnVsbDtcblx0ICAgIH07XG5cdCAgICBjb25zdCBleHRyYWN0QmxvY2tCeUlkID0gKGJsb2NrSWQpID0+IHtcblx0ICAgICAgaWYgKCFjdXJyZW50UGFnZSB8fCAhYmxvY2tJZCkgcmV0dXJuIG51bGw7XG5cdCAgICAgIGNvbnN0IHJvb3RJbmRleCA9IGN1cnJlbnRQYWdlLmJsb2Nrcy5maW5kSW5kZXgoKGIpID0+IGIuaWQgPT09IGJsb2NrSWQpO1xuXHQgICAgICBpZiAocm9vdEluZGV4ICE9PSAtMSkge1xuXHQgICAgICAgIGNvbnN0IFtibG9ja10gPSBjdXJyZW50UGFnZS5ibG9ja3Muc3BsaWNlKHJvb3RJbmRleCwgMSk7XG5cdCAgICAgICAgcmV0dXJuIHsgYmxvY2ssIGZyb206IHsgdHlwZTogJ3Jvb3QnLCBpbmRleDogcm9vdEluZGV4IH0gfTtcblx0ICAgICAgfVxuXHQgICAgICBjb25zdCBjaGlsZExvYyA9IGZpbmRDaGlsZExvY2F0aW9uKGJsb2NrSWQpO1xuXHQgICAgICBpZiAoIWNoaWxkTG9jKSByZXR1cm4gbnVsbDtcblx0ICAgICAgY29uc3QgZ3JvdXBCbG9jayA9IGN1cnJlbnRQYWdlLmJsb2Nrcy5maW5kKChiKSA9PiBiLmlkID09PSBjaGlsZExvYy5ncm91cElkKTtcblx0ICAgICAgaWYgKCFncm91cEJsb2NrIHx8ICFBcnJheS5pc0FycmF5KGdyb3VwQmxvY2suY2hpbGRyZW4pKSByZXR1cm4gbnVsbDtcblx0ICAgICAgY29uc3QgW2Jsb2NrXSA9IGdyb3VwQmxvY2suY2hpbGRyZW4uc3BsaWNlKGNoaWxkTG9jLmNoaWxkSW5kZXgsIDEpO1xuXHQgICAgICByZXR1cm4geyBibG9jaywgZnJvbTogeyB0eXBlOiAnZ3JvdXAnLCBncm91cElkOiBjaGlsZExvYy5ncm91cElkLCBpbmRleDogY2hpbGRMb2MuY2hpbGRJbmRleCB9IH07XG5cdCAgICB9O1xuXHQgICAgY29uc3QgaW5zZXJ0QmxvY2tJbnRvUm9vdCA9IChibG9jaywgaW5kZXgpID0+IHtcblx0ICAgICAgaWYgKCFjdXJyZW50UGFnZSB8fCAhYmxvY2spIHJldHVybjtcblx0ICAgICAgY29uc3Qgc2FmZUluZGV4ID0gTWF0aC5taW4oTWF0aC5tYXgoMCwgaW5kZXggPz8gY3VycmVudFBhZ2UuYmxvY2tzLmxlbmd0aCksIGN1cnJlbnRQYWdlLmJsb2Nrcy5sZW5ndGgpO1xuXHQgICAgICBjdXJyZW50UGFnZS5ibG9ja3Muc3BsaWNlKHNhZmVJbmRleCwgMCwgYmxvY2spO1xuXHQgICAgfTtcblx0ICAgIGNvbnN0IGluc2VydEJsb2NrSW50b0dyb3VwID0gKGJsb2NrLCBncm91cElkLCBpbmRleCkgPT4ge1xuXHQgICAgICBpZiAoIWN1cnJlbnRQYWdlIHx8ICFibG9jayB8fCAhZ3JvdXBJZCkgcmV0dXJuIGZhbHNlO1xuXHQgICAgICBjb25zdCBncm91cEJsb2NrID0gY3VycmVudFBhZ2UuYmxvY2tzLmZpbmQoKGIpID0+IGIuaWQgPT09IGdyb3VwSWQpO1xuXHQgICAgICBpZiAoIWdyb3VwQmxvY2spIHJldHVybiBmYWxzZTtcblx0ICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGdyb3VwQmxvY2suY2hpbGRyZW4pKSBncm91cEJsb2NrLmNoaWxkcmVuID0gW107XG5cdCAgICAgIGNvbnN0IHNhZmVJbmRleCA9IE1hdGgubWluKFxuXHQgICAgICAgIE1hdGgubWF4KDAsIGluZGV4ID8/IGdyb3VwQmxvY2suY2hpbGRyZW4ubGVuZ3RoKSxcblx0ICAgICAgICBncm91cEJsb2NrLmNoaWxkcmVuLmxlbmd0aCxcblx0ICAgICAgKTtcblx0ICAgICAgZ3JvdXBCbG9jay5jaGlsZHJlbi5zcGxpY2Uoc2FmZUluZGV4LCAwLCBibG9jayk7XG5cdCAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgfTtcblx0ICAgIGNvbnN0IGdldEluc2VydEluZGV4RnJvbVBvc2l0aW9uID0gKGJhc2VJbmRleCwgcG9zaXRpb24sIG9mZnNldFdoZW5BZnRlciA9IDEpID0+IHtcblx0ICAgICAgaWYgKHR5cGVvZiBiYXNlSW5kZXggIT09ICdudW1iZXInIHx8IGJhc2VJbmRleCA8IDApIHJldHVybiBudWxsO1xuXHQgICAgICByZXR1cm4gcG9zaXRpb24gPT09ICdiZWZvcmUnID8gYmFzZUluZGV4IDogYmFzZUluZGV4ICsgb2Zmc2V0V2hlbkFmdGVyO1xuXHQgICAgfTtcblx0ICAgIGNvbnN0IGNvbW1pdEJsb2Nrc0NoYW5nZSA9IChhY3RpdmVJZCA9IG51bGwsIGFjdGl2ZVBhcmVudElkID0gbnVsbCwgdG9hc3RNZXNzYWdlID0gbnVsbCkgPT4ge1xuXHQgICAgICByZW5kZXJCbG9ja0xpc3QoY3VycmVudFBhZ2UpO1xuXHQgICAgICBzYXZlUGFnZUJsb2NrcygpO1xuXHQgICAgICBpZiAoYWN0aXZlSWQpIHtcblx0ICAgICAgICBzZXRBY3RpdmVCbG9jayhhY3RpdmVJZCwgYWN0aXZlUGFyZW50SWQpO1xuXHQgICAgICB9XG5cdCAgICAgIGlmICh0b2FzdE1lc3NhZ2UpIHtcblx0ICAgICAgICBzaG93VG9hc3QodG9hc3RNZXNzYWdlKTtcblx0ICAgICAgfVxuXHQgICAgfTtcblxuXHQgICAgY29uc3QgbW92ZUJsb2NrVG9Hcm91cCA9IChibG9ja0lkLCBncm91cElkKSA9PiB7XG5cdCAgICAgIGlmICghY3VycmVudFBhZ2UpIHJldHVybjtcblx0ICAgICAgaWYgKCFibG9ja0lkIHx8ICFncm91cElkIHx8IGJsb2NrSWQgPT09IGdyb3VwSWQpIHJldHVybjtcblx0ICAgICAgY29uc3QgZ3JvdXBCbG9jayA9IGN1cnJlbnRQYWdlLmJsb2Nrcy5maW5kKChiKSA9PiBiLmlkID09PSBncm91cElkKTtcblx0ICAgICAgaWYgKCFncm91cEJsb2NrKSByZXR1cm47XG5cdCAgICAgIFxuXHQgICAgICAvLyBOZSBwYXMgcGVybWV0dHJlIGRlIGRcdTAwRTlwbGFjZXIgdW4gZ3JvdXBlIGRhbnMgdW4gZ3JvdXBlXG5cdCAgICAgIGNvbnN0IGV4dHJhY3RlZCA9IGV4dHJhY3RCbG9ja0J5SWQoYmxvY2tJZCk7XG5cdCAgICAgIGlmICghZXh0cmFjdGVkPy5ibG9jaykgcmV0dXJuO1xuXHQgICAgICBjb25zdCBibG9ja1R5cGUgPSAoZXh0cmFjdGVkLmJsb2NrLnR5cGUgfHwgJycpLnRvTG93ZXJDYXNlKCk7XG5cdCAgICAgIGlmIChibG9ja1R5cGUgPT09ICdncm91cGUnIHx8IGJsb2NrVHlwZSA9PT0gJ2dyb3VwJykge1xuXHQgICAgICAgIHNob3dUb2FzdCgnSW1wb3NzaWJsZSBkXFwnaW1icmlxdWVyIGRlcyBncm91cGVzJywgJ2Vycm9yJyk7XG5cdCAgICAgICAgLy8gUmVtZXR0cmUgbGUgYmxvYyBcdTAwRTAgc2EgcGxhY2UgZCdvcmlnaW5lXG5cdCAgICAgICAgaWYgKGV4dHJhY3RlZC5mcm9tPy50eXBlID09PSAncm9vdCcpIHtcblx0ICAgICAgICAgIGluc2VydEJsb2NrSW50b1Jvb3QoZXh0cmFjdGVkLmJsb2NrLCBleHRyYWN0ZWQuZnJvbS5pbmRleCk7XG5cdCAgICAgICAgfSBlbHNlIGlmIChleHRyYWN0ZWQuZnJvbT8udHlwZSA9PT0gJ2dyb3VwJykge1xuXHQgICAgICAgICAgaW5zZXJ0QmxvY2tJbnRvR3JvdXAoZXh0cmFjdGVkLmJsb2NrLCBleHRyYWN0ZWQuZnJvbS5ncm91cElkLCBleHRyYWN0ZWQuZnJvbS5pbmRleCk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHQgICAgICBcblx0ICAgICAgLy8gRFx1MDBFOWpcdTAwRTAgZGFucyBjZSBncm91cGUgXHUyMTkyIG5vLW9wXG5cdCAgICAgIGlmIChleHRyYWN0ZWQuZnJvbT8udHlwZSA9PT0gJ2dyb3VwJyAmJiBleHRyYWN0ZWQuZnJvbS5ncm91cElkID09PSBncm91cElkKSB7XG5cdCAgICAgICAgaW5zZXJ0QmxvY2tJbnRvR3JvdXAoZXh0cmFjdGVkLmJsb2NrLCBleHRyYWN0ZWQuZnJvbS5ncm91cElkLCBleHRyYWN0ZWQuZnJvbS5pbmRleCk7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cblx0ICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGdyb3VwQmxvY2suY2hpbGRyZW4pKSBncm91cEJsb2NrLmNoaWxkcmVuID0gW107XG5cdCAgICAgIGdyb3VwQmxvY2suY2hpbGRyZW4ucHVzaChleHRyYWN0ZWQuYmxvY2spO1xuXHQgICAgICBjb21taXRCbG9ja3NDaGFuZ2UoZXh0cmFjdGVkLmJsb2NrLmlkLCBncm91cElkLCBgQmxvYyBham91dFx1MDBFOSBhdSBncm91cGVgKTtcblx0ICAgIH07XG5cdCAgICBcblx0ICAgIGNvbnN0IHJlbW92ZUNoaWxkRnJvbUdyb3VwID0gKGdyb3VwSWQsIGNoaWxkSWQpID0+IHtcblx0ICAgICAgaWYgKCFjdXJyZW50UGFnZSkgcmV0dXJuO1xuICAgICAgY29uc3QgZ3JvdXBCbG9jayA9IGN1cnJlbnRQYWdlLmJsb2Nrcy5maW5kKChiKSA9PiBiLmlkID09PSBncm91cElkKTtcbiAgICAgIGlmICghZ3JvdXBCbG9jayB8fCAhZ3JvdXBCbG9jay5jaGlsZHJlbikgcmV0dXJuO1xuICAgICAgXG4gICAgICBjb25zdCBjaGlsZEluZGV4ID0gZ3JvdXBCbG9jay5jaGlsZHJlbi5maW5kSW5kZXgoKGMpID0+IGMuaWQgPT09IGNoaWxkSWQpO1xuICAgICAgaWYgKGNoaWxkSW5kZXggPT09IC0xKSByZXR1cm47XG4gICAgICBcbiAgICAgIC8vIFJldGlyZXIgbCdlbmZhbnQgZHUgZ3JvdXBlIGV0IGxlIHJlbWV0dHJlIGRhbnMgbGEgbGlzdGUgcHJpbmNpcGFsZSBhcHJcdTAwRThzIGxlIGdyb3VwZVxuICAgICAgY29uc3QgW2NoaWxkXSA9IGdyb3VwQmxvY2suY2hpbGRyZW4uc3BsaWNlKGNoaWxkSW5kZXgsIDEpO1xuICAgICAgY29uc3QgZ3JvdXBJbmRleCA9IGN1cnJlbnRQYWdlLmJsb2Nrcy5maW5kSW5kZXgoKGIpID0+IGIuaWQgPT09IGdyb3VwSWQpO1xuICAgICAgY3VycmVudFBhZ2UuYmxvY2tzLnNwbGljZShncm91cEluZGV4ICsgMSwgMCwgY2hpbGQpO1xuICAgICAgXG5cdCAgICAgIHJlbmRlckJsb2NrTGlzdChjdXJyZW50UGFnZSk7XG5cdCAgICAgIHNhdmVQYWdlQmxvY2tzKCk7XG5cdCAgICAgIHNob3dUb2FzdChgQmxvYyBzb3J0aSBkdSBncm91cGVgKTtcblx0ICAgIH07XG5cblx0ICAgIGNvbnN0IG1vdmVDaGlsZEZyb21Hcm91cFRvUm9vdEF0ID0gKGdyb3VwSWQsIGNoaWxkSWQsIGluc2VydEluZGV4KSA9PiB7XG5cdCAgICAgIGlmICghY3VycmVudFBhZ2UpIHJldHVybjtcblx0ICAgICAgY29uc3QgZ3JvdXBCbG9jayA9IGN1cnJlbnRQYWdlLmJsb2Nrcy5maW5kKChiKSA9PiBiLmlkID09PSBncm91cElkKTtcblx0ICAgICAgaWYgKCFncm91cEJsb2NrIHx8ICFBcnJheS5pc0FycmF5KGdyb3VwQmxvY2suY2hpbGRyZW4pKSByZXR1cm47XG5cdCAgICAgIGNvbnN0IGNoaWxkSW5kZXggPSBncm91cEJsb2NrLmNoaWxkcmVuLmZpbmRJbmRleCgoYykgPT4gYy5pZCA9PT0gY2hpbGRJZCk7XG5cdCAgICAgIGlmIChjaGlsZEluZGV4ID09PSAtMSkgcmV0dXJuO1xuXHQgICAgICBjb25zdCBbY2hpbGRdID0gZ3JvdXBCbG9jay5jaGlsZHJlbi5zcGxpY2UoY2hpbGRJbmRleCwgMSk7XG5cdCAgICAgIGluc2VydEJsb2NrSW50b1Jvb3QoY2hpbGQsIGluc2VydEluZGV4KTtcblx0ICAgICAgY29tbWl0QmxvY2tzQ2hhbmdlKGNoaWxkLmlkLCBudWxsLCAnQmxvYyBzb3J0aSBkdSBncm91cGUnKTtcblx0ICAgIH07XG5cblx0ICAgIGNvbnN0IG1vdmVDaGlsZFdpdGhpbkdyb3VwID0gKGdyb3VwSWQsIGNoaWxkSWQsIHRhcmdldENoaWxkSWQsIHBvc2l0aW9uKSA9PiB7XG5cdCAgICAgIGlmICghY3VycmVudFBhZ2UpIHJldHVybjtcblx0ICAgICAgY29uc3QgZ3JvdXBCbG9jayA9IGN1cnJlbnRQYWdlLmJsb2Nrcy5maW5kKChiKSA9PiBiLmlkID09PSBncm91cElkKTtcblx0ICAgICAgaWYgKCFncm91cEJsb2NrIHx8ICFBcnJheS5pc0FycmF5KGdyb3VwQmxvY2suY2hpbGRyZW4pKSByZXR1cm47XG5cdCAgICAgIGNvbnN0IGZyb21JbmRleCA9IGdyb3VwQmxvY2suY2hpbGRyZW4uZmluZEluZGV4KChjKSA9PiBjLmlkID09PSBjaGlsZElkKTtcblx0ICAgICAgY29uc3QgdG9JbmRleEJhc2UgPSBncm91cEJsb2NrLmNoaWxkcmVuLmZpbmRJbmRleCgoYykgPT4gYy5pZCA9PT0gdGFyZ2V0Q2hpbGRJZCk7XG5cdCAgICAgIGlmIChmcm9tSW5kZXggPT09IC0xIHx8IHRvSW5kZXhCYXNlID09PSAtMSB8fCBjaGlsZElkID09PSB0YXJnZXRDaGlsZElkKSByZXR1cm47XG5cdCAgICAgIGNvbnN0IFttb3ZlZF0gPSBncm91cEJsb2NrLmNoaWxkcmVuLnNwbGljZShmcm9tSW5kZXgsIDEpO1xuXHQgICAgICBjb25zdCBhZGp1c3RlZFRvSW5kZXhCYXNlID0gZnJvbUluZGV4IDwgdG9JbmRleEJhc2UgPyB0b0luZGV4QmFzZSAtIDEgOiB0b0luZGV4QmFzZTtcblx0ICAgICAgY29uc3QgaW5zZXJ0SW5kZXggPVxuXHQgICAgICAgIHBvc2l0aW9uID09PSAnYmVmb3JlJyA/IGFkanVzdGVkVG9JbmRleEJhc2UgOiBhZGp1c3RlZFRvSW5kZXhCYXNlICsgMTtcblx0ICAgICAgZ3JvdXBCbG9jay5jaGlsZHJlbi5zcGxpY2UoaW5zZXJ0SW5kZXgsIDAsIG1vdmVkKTtcblx0ICAgICAgY29tbWl0QmxvY2tzQ2hhbmdlKG1vdmVkLmlkLCBncm91cElkLCBudWxsKTtcblx0ICAgIH07XG5cblx0ICAgIGNvbnN0IG1vdmVBbnlCbG9ja1RvR3JvdXBBdCA9IChibG9ja0lkLCBncm91cElkLCB0YXJnZXRDaGlsZElkLCBwb3NpdGlvbikgPT4ge1xuXHQgICAgICBpZiAoIWN1cnJlbnRQYWdlKSByZXR1cm47XG5cdCAgICAgIGlmICghYmxvY2tJZCB8fCAhZ3JvdXBJZCkgcmV0dXJuO1xuXHQgICAgICBjb25zdCBleHRyYWN0ZWQgPSBleHRyYWN0QmxvY2tCeUlkKGJsb2NrSWQpO1xuXHQgICAgICBpZiAoIWV4dHJhY3RlZD8uYmxvY2spIHJldHVybjtcblx0ICAgICAgY29uc3QgYmxvY2tUeXBlID0gKGV4dHJhY3RlZC5ibG9jay50eXBlIHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xuXHQgICAgICBpZiAoYmxvY2tUeXBlID09PSAnZ3JvdXBlJyB8fCBibG9ja1R5cGUgPT09ICdncm91cCcpIHtcblx0ICAgICAgICBzaG93VG9hc3QoXCJJbXBvc3NpYmxlIGQnaW1icmlxdWVyIGRlcyBncm91cGVzXCIsICdlcnJvcicpO1xuXHQgICAgICAgIGlmIChleHRyYWN0ZWQuZnJvbT8udHlwZSA9PT0gJ3Jvb3QnKSB7XG5cdCAgICAgICAgICBpbnNlcnRCbG9ja0ludG9Sb290KGV4dHJhY3RlZC5ibG9jaywgZXh0cmFjdGVkLmZyb20uaW5kZXgpO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoZXh0cmFjdGVkLmZyb20/LnR5cGUgPT09ICdncm91cCcpIHtcblx0ICAgICAgICAgIGluc2VydEJsb2NrSW50b0dyb3VwKGV4dHJhY3RlZC5ibG9jaywgZXh0cmFjdGVkLmZyb20uZ3JvdXBJZCwgZXh0cmFjdGVkLmZyb20uaW5kZXgpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cblx0ICAgICAgY29uc3QgZ3JvdXBCbG9jayA9IGN1cnJlbnRQYWdlLmJsb2Nrcy5maW5kKChiKSA9PiBiLmlkID09PSBncm91cElkKTtcblx0ICAgICAgaWYgKCFncm91cEJsb2NrKSB7XG5cdCAgICAgICAgLy8gUmVtZXR0cmUgbGUgYmxvY1xuXHQgICAgICAgIGlmIChleHRyYWN0ZWQuZnJvbT8udHlwZSA9PT0gJ3Jvb3QnKSB7XG5cdCAgICAgICAgICBpbnNlcnRCbG9ja0ludG9Sb290KGV4dHJhY3RlZC5ibG9jaywgZXh0cmFjdGVkLmZyb20uaW5kZXgpO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoZXh0cmFjdGVkLmZyb20/LnR5cGUgPT09ICdncm91cCcpIHtcblx0ICAgICAgICAgIGluc2VydEJsb2NrSW50b0dyb3VwKGV4dHJhY3RlZC5ibG9jaywgZXh0cmFjdGVkLmZyb20uZ3JvdXBJZCwgZXh0cmFjdGVkLmZyb20uaW5kZXgpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGdyb3VwQmxvY2suY2hpbGRyZW4pKSBncm91cEJsb2NrLmNoaWxkcmVuID0gW107XG5cdCAgICAgIGxldCBpbnNlcnRJbmRleCA9IGdyb3VwQmxvY2suY2hpbGRyZW4ubGVuZ3RoO1xuXHQgICAgICBpZiAodGFyZ2V0Q2hpbGRJZCkge1xuXHQgICAgICAgIGNvbnN0IHRhcmdldEluZGV4ID0gZ3JvdXBCbG9jay5jaGlsZHJlbi5maW5kSW5kZXgoKGMpID0+IGMuaWQgPT09IHRhcmdldENoaWxkSWQpO1xuXHQgICAgICAgIGNvbnN0IHJlc29sdmVkID0gZ2V0SW5zZXJ0SW5kZXhGcm9tUG9zaXRpb24odGFyZ2V0SW5kZXgsIHBvc2l0aW9uLCAxKTtcblx0ICAgICAgICBpZiAocmVzb2x2ZWQgIT09IG51bGwpIGluc2VydEluZGV4ID0gcmVzb2x2ZWQ7XG5cdCAgICAgIH1cblx0ICAgICAgZ3JvdXBCbG9jay5jaGlsZHJlbi5zcGxpY2UoaW5zZXJ0SW5kZXgsIDAsIGV4dHJhY3RlZC5ibG9jayk7XG5cdCAgICAgIGNvbW1pdEJsb2Nrc0NoYW5nZShleHRyYWN0ZWQuYmxvY2suaWQsIGdyb3VwSWQsICdCbG9jIGFqb3V0XHUwMEU5IGF1IGdyb3VwZScpO1xuXHQgICAgfTtcbiAgICBcbiAgICBjb25zdCBtb3ZlQ2hpbGRCbG9ja0J5T2Zmc2V0ID0gKGdyb3VwSWQsIGNoaWxkSWQsIG9mZnNldCkgPT4ge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSkgcmV0dXJuO1xuICAgICAgY29uc3QgZ3JvdXBCbG9jayA9IGN1cnJlbnRQYWdlLmJsb2Nrcy5maW5kKChiKSA9PiBiLmlkID09PSBncm91cElkKTtcbiAgICAgIGlmICghZ3JvdXBCbG9jayB8fCAhZ3JvdXBCbG9jay5jaGlsZHJlbikgcmV0dXJuO1xuICAgICAgXG4gICAgICBjb25zdCBjdXJyZW50SW5kZXggPSBncm91cEJsb2NrLmNoaWxkcmVuLmZpbmRJbmRleCgoYykgPT4gYy5pZCA9PT0gY2hpbGRJZCk7XG4gICAgICBpZiAoY3VycmVudEluZGV4ID09PSAtMSkgcmV0dXJuO1xuICAgICAgXG4gICAgICBjb25zdCBuZXdJbmRleCA9IGN1cnJlbnRJbmRleCArIG9mZnNldDtcbiAgICAgIGlmIChuZXdJbmRleCA8IDAgfHwgbmV3SW5kZXggPj0gZ3JvdXBCbG9jay5jaGlsZHJlbi5sZW5ndGgpIHJldHVybjtcbiAgICAgIFxuICAgICAgY29uc3QgW2NoaWxkXSA9IGdyb3VwQmxvY2suY2hpbGRyZW4uc3BsaWNlKGN1cnJlbnRJbmRleCwgMSk7XG4gICAgICBncm91cEJsb2NrLmNoaWxkcmVuLnNwbGljZShuZXdJbmRleCwgMCwgY2hpbGQpO1xuICAgICAgXG4gICAgICByZW5kZXJCbG9ja0xpc3QoY3VycmVudFBhZ2UpO1xuICAgICAgc2F2ZVBhZ2VCbG9ja3MoKTtcbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IG9wZW5BZGRCbG9ja1RvR3JvdXBNb2RhbCA9IChncm91cElkKSA9PiB7XG4gICAgICAvLyBVdGlsaXNlciBsZSBtXHUwMEVBbWUgbW9kYWwgZCdham91dCBkZSBibG9jLCBtYWlzIGF2ZWMgbGUgY29udGV4dGUgZHUgZ3JvdXBlXG4gICAgICBwZW5kaW5nR3JvdXBJZEZvck5ld0Jsb2NrID0gZ3JvdXBJZDtcbiAgICAgIG9wZW5CbG9ja1BpY2tlcigpO1xuICAgIH07XG4gICAgXG4gICAgbGV0IHBlbmRpbmdHcm91cElkRm9yTmV3QmxvY2sgPSBudWxsO1xuXG4gICAgLy8gPT09IERlbGV0ZSBwYWdlIGhhbmRsZXJzIChkZWZpbmVkIGJlZm9yZSByZW5kZXJQYWdlTGlzdHMpID09PVxuICAgIGNvbnN0IG9wZW5EZWxldGVQYWdlTW9kYWwgPSAocGFnZSkgPT4ge1xuICAgICAgaWYgKCFkZWxldGVQYWdlTW9kYWwgfHwgIXBhZ2UpIHJldHVybjtcbiAgICAgIHBhZ2VUb0RlbGV0ZSA9IHBhZ2U7XG4gICAgICBpZiAoZGVsZXRlUGFnZU5hbWUpIGRlbGV0ZVBhZ2VOYW1lLnRleHRDb250ZW50ID0gcGFnZS50aXRsZSB8fCBwYWdlLmlkO1xuICAgICAgZGVsZXRlUGFnZU1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgZGVsZXRlUGFnZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2ZsZXgnKTtcbiAgICAgIGFjdGl2YXRlTW9kYWwoZGVsZXRlUGFnZU1vZGFsLCBjbG9zZURlbGV0ZVBhZ2VNb2RhbCk7XG4gICAgfTtcbiAgICBjb25zdCBjbG9zZURlbGV0ZVBhZ2VNb2RhbCA9ICgpID0+IHtcbiAgICAgIGlmICghZGVsZXRlUGFnZU1vZGFsKSByZXR1cm47XG4gICAgICBkZWxldGVQYWdlTW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBkZWxldGVQYWdlTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnZmxleCcpO1xuICAgICAgcGFnZVRvRGVsZXRlID0gbnVsbDtcbiAgICAgIGRlYWN0aXZhdGVNb2RhbChkZWxldGVQYWdlTW9kYWwpO1xuICAgIH07XG4gICAgY29uc3QgZXhlY3V0ZURlbGV0ZVBhZ2UgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXBhZ2VzQXBpQmFzZSB8fCAhcGFnZVRvRGVsZXRlKSByZXR1cm47XG4gICAgICBjb25zdCBwYWdlSWQgPSBwYWdlVG9EZWxldGUuaWQ7XG4gICAgICBjb25zdCBwYWdlVGl0bGUgPSBwYWdlVG9EZWxldGUudGl0bGUgfHwgcGFnZUlkO1xuICAgICAgaWYgKGRlbGV0ZVBhZ2VDb25maXJtKSB7XG4gICAgICAgIGRlbGV0ZVBhZ2VDb25maXJtLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgZGVsZXRlUGFnZUNvbmZpcm0udGV4dENvbnRlbnQgPSAnU3VwcHJlc3Npb24uLi4nO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtwYWdlc0FwaUJhc2V9LyR7ZW5jb2RlVVJJQ29tcG9uZW50KHBhZ2VJZCl9YCwge1xuICAgICAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICAgICAgY3JlZGVudGlhbHM6ICdpbmNsdWRlJyxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQubWVzc2FnZSB8fCAnRXJyZXVyIHNlcnZldXInKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTdXBwcmltZXIgZGUgbGEgbGlzdGUgbG9jYWxlXG4gICAgICAgIHBhZ2VzID0gcGFnZXMuZmlsdGVyKChwKSA9PiBwLmlkICE9PSBwYWdlSWQpO1xuICAgICAgICAvLyBTaSBsYSBwYWdlIHN1cHByaW1cdTAwRTllIFx1MDBFOXRhaXQgYWN0aXZlLCBzXHUwMEU5bGVjdGlvbm5lciBsYSBwcmVtaVx1MDBFOHJlXG4gICAgICAgIGlmIChhY3RpdmVQYWdlSWQgPT09IHBhZ2VJZCkge1xuICAgICAgICAgIGlmIChwYWdlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBzZXRBY3RpdmVQYWdlKHBhZ2VzWzBdLmlkKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYWN0aXZlUGFnZUlkID0gbnVsbDtcbiAgICAgICAgICAgIGN1cnJlbnRQYWdlID0gbnVsbDtcbiAgICAgICAgICAgIHJlbmRlclBhZ2VMaXN0cyhwYWdlcywgbnVsbCk7XG4gICAgICAgICAgICByZW5kZXJCbG9ja0xpc3QobnVsbCk7XG4gICAgICAgICAgICBibG9ja0RldGFpbEVtcHR5Py5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIGJsb2NrRWRpdG9yPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIHByZXZpZXdGcmFtZSAmJiAocHJldmlld0ZyYW1lLnNyY2RvYyA9IGdldExvYWRpbmdQcmV2aWV3SHRtbCgpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVuZGVyUGFnZUxpc3RzKHBhZ2VzLCBhY3RpdmVQYWdlSWQpO1xuICAgICAgICB9XG4gICAgICAgIGNsb3NlRGVsZXRlUGFnZU1vZGFsKCk7XG4gICAgICAgIHNob3dUb2FzdChgUGFnZSBcIiR7cGFnZVRpdGxlfVwiIHN1cHByaW1cdTAwRTllYCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW3BhZ2VzXSBkZWxldGUgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdFcnJldXIgc3VwcHJlc3Npb24nKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmIChkZWxldGVQYWdlQ29uZmlybSkge1xuICAgICAgICAgIGRlbGV0ZVBhZ2VDb25maXJtLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgZGVsZXRlUGFnZUNvbmZpcm0udGV4dENvbnRlbnQgPSAnU3VwcHJpbWVyJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCByZW5kZXJQYWdlTGlzdHMgPSAocGFnZXMsIGFjdGl2ZUlkKSA9PiB7XG4gICAgICBwYWdlTGlzdHMuZm9yRWFjaCgobGlzdCkgPT4ge1xuICAgICAgICBsaXN0LmlubmVySFRNTCA9ICcnO1xuICAgICAgICBwYWdlcy5mb3JFYWNoKChwYWdlKSA9PiB7XG4gICAgICAgICAgY29uc3QgaXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICAgICAgaXRlbS5jbGFzc05hbWUgPSAnZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEnO1xuICAgICAgICAgIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICAgIGJ1dHRvbi50eXBlID0gJ2J1dHRvbic7XG4gICAgICAgICAgYnV0dG9uLmRhdGFzZXQucGFnZUlkID0gcGFnZS5pZDtcbiAgICAgICAgICBidXR0b24uY2xhc3NOYW1lID0gW1xuICAgICAgICAgICAgJ2ZsZXgtMSBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMyBweC0zIHB5LTIgdGV4dC1sZWZ0IHRyYW5zaXRpb24nLFxuICAgICAgICAgICAgYWN0aXZlSWQgPT09IHBhZ2UuaWRcbiAgICAgICAgICAgICAgPyAnYmctWyM5QzZCRkZdLzEwIHRleHQtc2xhdGUtOTAwIGJvcmRlciBib3JkZXItWyM5QzZCRkZdLzQwIHJvdW5kZWQteGwgc2hhZG93LXNtJ1xuICAgICAgICAgICAgICA6ICd0ZXh0LXNsYXRlLTcwMCBob3ZlcjpiZy1zbGF0ZS01MCByb3VuZGVkLXhsJyxcbiAgICAgICAgICBdLmpvaW4oJyAnKTtcbiAgICAgICAgICBpZiAoYWN0aXZlSWQgPT09IHBhZ2UuaWQpIHtcbiAgICAgICAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtY3VycmVudCcsICdwYWdlJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJ1dHRvbi5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtY3VycmVudCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBVc2UgcGFnZS5uYW1lIChzaG9ydCBuYW1lKSBpZiBhdmFpbGFibGUsIGZhbGxiYWNrIHRvIHRpdGxlXG4gICAgICAgICAgY29uc3QgZGlzcGxheU5hbWUgPSBwYWdlLm5hbWUgfHwgcGFnZS50aXRsZTtcbiAgICAgICAgICBjb25zdCBpc0hpZGRlbkZyb21OYXYgPSBwYWdlLmFjY2Vzc2liaWxpdHk/LnNob3dJbk1haW5OYXYgPT09IGZhbHNlO1xuICAgICAgICAgIGNvbnN0IG5hdkJhZGdlID0gaXNIaWRkZW5Gcm9tTmF2XG4gICAgICAgICAgICA/ICc8c3BhbiBjbGFzcz1cInRleHQtWzEwcHhdIGZvbnQtc2VtaWJvbGQgdGV4dC1hbWJlci02MDBcIj5NYXNxdVx1MDBFOSBkdSBtZW51PC9zcGFuPidcbiAgICAgICAgICAgIDogJyc7XG4gICAgICAgICAgYnV0dG9uLmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZmxleCBoLTkgdy05IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciByb3VuZGVkLXhsIGJvcmRlciBib3JkZXItc2xhdGUtMjAwIGJnLXdoaXRlIHRleHQtc2xhdGUtNTAwXCI+XG4gICAgICAgICAgICAgIDxzdmcgd2lkdGg9XCIxOFwiIGhlaWdodD1cIjE4XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+XG4gICAgICAgICAgICAgICAgPHBhdGggZD1cIk02LjUgNC41aDdsNCA0djExYTEgMSAwIDAgMS0xIDFoLTEwYTEgMSAwIDAgMS0xLTF2LTE0YTEgMSAwIDAgMSAxLTFaXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMS40XCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIi8+XG4gICAgICAgICAgICAgICAgPHBhdGggZD1cIk0xMy41IDQuNXY0YTEgMSAwIDAgMCAxIDFoM1wiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjEuNFwiLz5cbiAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQtc20gZm9udC1zZW1pYm9sZFwiPiR7ZGlzcGxheU5hbWV9PC9zcGFuPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQteHMgdGV4dC1zbGF0ZS01MDBcIj4ke3BhZ2Uuc2x1Z308L3NwYW4+XG4gICAgICAgICAgICAgICR7bmF2QmFkZ2V9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICBgO1xuICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIHNldEFjdGl2ZVBhZ2UocGFnZS5pZCk7XG4gICAgICAgICAgICBpZiAoIWlzRGVza3RvcERyYXdlcigpKSB7XG4gICAgICAgICAgICAgIGNsb3NlRHJhd2VyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaXRlbS5hcHBlbmRDaGlsZChidXR0b24pO1xuICAgICAgICAgIC8vIEJvdXRvbiBkZSBzdXBwcmVzc2lvblxuICAgICAgICAgIGNvbnN0IGRlbGV0ZUJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICAgIGRlbGV0ZUJ0bi50eXBlID0gJ2J1dHRvbic7XG4gICAgICAgICAgZGVsZXRlQnRuLmNsYXNzTmFtZSA9ICdmbGV4LXNocmluay0wIHAtMiB0ZXh0LXNsYXRlLTQwMCBob3Zlcjp0ZXh0LXJvc2UtNjAwIGhvdmVyOmJnLXJvc2UtNTAgcm91bmRlZC1sZyB0cmFuc2l0aW9uJztcbiAgICAgICAgICBkZWxldGVCdG4udGl0bGUgPSAnU3VwcHJpbWVyIGNldHRlIHBhZ2UnO1xuICAgICAgICAgIGRlbGV0ZUJ0bi5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCBgU3VwcHJpbWVyICR7ZGlzcGxheU5hbWV9YCk7XG4gICAgICAgICAgZGVsZXRlQnRuLmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgIDxzdmcgd2lkdGg9XCIxNlwiIGhlaWdodD1cIjE2XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiPlxuICAgICAgICAgICAgICA8cGF0aCBkPVwiTTMgNmgxOE04IDZWNGEyIDIgMCAwIDEgMi0yaDRhMiAyIDAgMCAxIDIgMnYybTMgMHYxNGEyIDIgMCAwIDEtMiAySDdhMiAyIDAgMCAxLTItMlY2aDE0Wk0xMCAxMXY2TTE0IDExdjZcIi8+XG4gICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICBgO1xuICAgICAgICAgIGRlbGV0ZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgb3BlbkRlbGV0ZVBhZ2VNb2RhbChwYWdlKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpdGVtLmFwcGVuZENoaWxkKGRlbGV0ZUJ0bik7XG4gICAgICAgICAgbGlzdC5hcHBlbmRDaGlsZChpdGVtKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IGdldEFjdGl2ZUJsb2NrID0gKCkgPT4ge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSB8fCAhQXJyYXkuaXNBcnJheShjdXJyZW50UGFnZS5ibG9ja3MpKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgLy8gQ2hlcmNoZXIgbGUgYmxvYyBkYW5zIGxhIGxpc3RlIHByaW5jaXBhbGUgb3UgZGFucyBsZXMgZW5mYW50cyBkZXMgZ3JvdXBlc1xuICAgICAgbGV0IGJsb2NrID0gY3VycmVudFBhZ2UuYmxvY2tzLmZpbmQoKGJsb2NrKSA9PiBibG9jay5pZCA9PT0gYWN0aXZlQmxvY2tJZCk7XG4gICAgICBpZiAoIWJsb2NrKSB7XG4gICAgICAgIGZvciAoY29uc3QgYiBvZiBjdXJyZW50UGFnZS5ibG9ja3MpIHtcbiAgICAgICAgICBpZiAoYi5jaGlsZHJlbikge1xuICAgICAgICAgICAgYmxvY2sgPSBiLmNoaWxkcmVuLmZpbmQoKGNoaWxkKSA9PiBjaGlsZC5pZCA9PT0gYWN0aXZlQmxvY2tJZCk7XG4gICAgICAgICAgICBpZiAoYmxvY2spIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGJsb2NrIHx8IG51bGw7XG4gICAgfTtcbiAgICBcbiAgICAvLyBWYXJpYWJsZSBwb3VyIHN0b2NrZXIgbGUgcGFyZW50IGR1IGJsb2MgYWN0aWYgKHNpIGMnZXN0IHVuIGVuZmFudCBkZSBncm91cGUpXG4gICAgbGV0IGFjdGl2ZUJsb2NrUGFyZW50SWQgPSBudWxsO1xuICAgIFxuICAgIGNvbnN0IHNldEFjdGl2ZUJsb2NrID0gKGJsb2NrSWQsIHBhcmVudElkID0gbnVsbCkgPT4ge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWJsb2NrSWQpIHtcbiAgICAgICAgYWN0aXZlQmxvY2tJZCA9IG51bGw7XG4gICAgICAgIGFjdGl2ZUJsb2NrUGFyZW50SWQgPSBudWxsO1xuICAgICAgICByZW5kZXJCbG9ja0xpc3QoY3VycmVudFBhZ2UpO1xuICAgICAgICByZW5kZXJCbG9ja0RldGFpbHMobnVsbCk7XG4gICAgICAgIGFwcGx5UHJldmlld0hpZ2hsaWdodChudWxsKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgXG4gICAgICBsZXQgdGFyZ2V0QmxvY2sgPSBudWxsO1xuICAgICAgXG4gICAgICAvLyBDaGVyY2hlciBkYW5zIGxlcyBibG9jcyBwcmluY2lwYXV4XG4gICAgICB0YXJnZXRCbG9jayA9IGN1cnJlbnRQYWdlLmJsb2Nrcy5maW5kKChibG9jaykgPT4gYmxvY2suaWQgPT09IGJsb2NrSWQpO1xuICAgICAgXG4gICAgICAvLyBTaSBwYXMgdHJvdXZcdTAwRTkgZXQgcXUnb24gYSB1biBwYXJlbnRJZCwgY2hlcmNoZXIgZGFucyBsZXMgZW5mYW50cyBkdSBwYXJlbnRcbiAgICAgIGlmICghdGFyZ2V0QmxvY2sgJiYgcGFyZW50SWQpIHtcbiAgICAgICAgY29uc3QgcGFyZW50QmxvY2sgPSBjdXJyZW50UGFnZS5ibG9ja3MuZmluZCgoYikgPT4gYi5pZCA9PT0gcGFyZW50SWQpO1xuICAgICAgICBpZiAocGFyZW50QmxvY2sgJiYgcGFyZW50QmxvY2suY2hpbGRyZW4pIHtcbiAgICAgICAgICB0YXJnZXRCbG9jayA9IHBhcmVudEJsb2NrLmNoaWxkcmVuLmZpbmQoKGNoaWxkKSA9PiBjaGlsZC5pZCA9PT0gYmxvY2tJZCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gU2lub24gY2hlcmNoZXIgZGFucyB0b3VzIGxlcyBncm91cGVzXG4gICAgICBpZiAoIXRhcmdldEJsb2NrKSB7XG4gICAgICAgIGZvciAoY29uc3QgYiBvZiBjdXJyZW50UGFnZS5ibG9ja3MpIHtcbiAgICAgICAgICBpZiAoYi5jaGlsZHJlbikge1xuICAgICAgICAgICAgY29uc3QgZm91bmQgPSBiLmNoaWxkcmVuLmZpbmQoKGNoaWxkKSA9PiBjaGlsZC5pZCA9PT0gYmxvY2tJZCk7XG4gICAgICAgICAgICBpZiAoZm91bmQpIHtcbiAgICAgICAgICAgICAgdGFyZ2V0QmxvY2sgPSBmb3VuZDtcbiAgICAgICAgICAgICAgcGFyZW50SWQgPSBiLmlkO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gRmFsbGJhY2sgc3VyIGxlIHByZW1pZXIgYmxvY1xuICAgICAgaWYgKCF0YXJnZXRCbG9jaykge1xuICAgICAgICB0YXJnZXRCbG9jayA9IGN1cnJlbnRQYWdlLmJsb2Nrc1swXSB8fCBudWxsO1xuICAgICAgICBwYXJlbnRJZCA9IG51bGw7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGFjdGl2ZUJsb2NrSWQgPSB0YXJnZXRCbG9jaz8uaWQgfHwgbnVsbDtcbiAgICAgIGFjdGl2ZUJsb2NrUGFyZW50SWQgPSBwYXJlbnRJZDtcbiAgICAgIHJlbmRlckJsb2NrTGlzdChjdXJyZW50UGFnZSk7XG4gICAgICByZW5kZXJCbG9ja0RldGFpbHModGFyZ2V0QmxvY2spO1xuICAgICAgYXBwbHlQcmV2aWV3SGlnaGxpZ2h0KGFjdGl2ZUJsb2NrSWQpO1xuICAgIH07XG4gICAgY29uc3QgdXBkYXRlQ3VycmVudFBhZ2VCbG9ja3MgPSAobmV3QmxvY2tzKSA9PiB7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG5leHRQYWdlID0geyAuLi5jdXJyZW50UGFnZSwgYmxvY2tzOiBuZXdCbG9ja3MgfTtcbiAgICAgIHVwZGF0ZUN1cnJlbnRQYWdlU3RhdGUobmV4dFBhZ2UpO1xuICAgIH07XG4gICAgY29uc3QgaXNEZXNrdG9wUmVvcmRlciA9ICgpID0+IHdpbmRvdy5tYXRjaE1lZGlhKCcobWluLXdpZHRoOiAxMDI0cHgpJykubWF0Y2hlcztcbiAgICBmdW5jdGlvbiBtb3ZlQmxvY2tCeU9mZnNldChibG9ja0lkLCBvZmZzZXQpIHtcbiAgICAgIGlmICghY3VycmVudFBhZ2UgfHwgIWJsb2NrSWQgfHwgIW9mZnNldCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBibG9ja3MgPSBbLi4uKGN1cnJlbnRQYWdlLmJsb2NrcyB8fCBbXSldO1xuICAgICAgY29uc3QgaW5kZXggPSBibG9ja3MuZmluZEluZGV4KChibG9jaykgPT4gYmxvY2suaWQgPT09IGJsb2NrSWQpO1xuICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBuZXdJbmRleCA9IGluZGV4ICsgb2Zmc2V0O1xuICAgICAgaWYgKG5ld0luZGV4IDwgMCB8fCBuZXdJbmRleCA+PSBibG9ja3MubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IFttb3ZlZF0gPSBibG9ja3Muc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIGJsb2Nrcy5zcGxpY2UobmV3SW5kZXgsIDAsIG1vdmVkKTtcbiAgICAgIHVwZGF0ZUN1cnJlbnRQYWdlQmxvY2tzKGJsb2Nrcyk7XG4gICAgICBzZXRBY3RpdmVQYWdlKGN1cnJlbnRQYWdlLmlkLCB7IHByZXNlcnZlQmxvY2s6IHRydWUgfSk7XG4gICAgICBzZXRBY3RpdmVCbG9jayhtb3ZlZC5pZCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlb3JkZXJCbG9ja3Moc291cmNlSWQsIHRhcmdldElkKSB7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlIHx8ICFzb3VyY2VJZCB8fCAhdGFyZ2V0SWQgfHwgc291cmNlSWQgPT09IHRhcmdldElkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGJsb2NrcyA9IFsuLi4oY3VycmVudFBhZ2UuYmxvY2tzIHx8IFtdKV07XG4gICAgICBjb25zdCBmcm9tSW5kZXggPSBibG9ja3MuZmluZEluZGV4KChibG9jaykgPT4gYmxvY2suaWQgPT09IHNvdXJjZUlkKTtcbiAgICAgIGNvbnN0IHRvSW5kZXggPSBibG9ja3MuZmluZEluZGV4KChibG9jaykgPT4gYmxvY2suaWQgPT09IHRhcmdldElkKTtcbiAgICAgIGlmIChmcm9tSW5kZXggPCAwIHx8IHRvSW5kZXggPCAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IFttb3ZlZF0gPSBibG9ja3Muc3BsaWNlKGZyb21JbmRleCwgMSk7XG4gICAgICBibG9ja3Muc3BsaWNlKHRvSW5kZXgsIDAsIG1vdmVkKTtcbiAgICAgIHVwZGF0ZUN1cnJlbnRQYWdlQmxvY2tzKGJsb2Nrcyk7XG4gICAgICBzZXRBY3RpdmVQYWdlKGN1cnJlbnRQYWdlLmlkLCB7IHByZXNlcnZlQmxvY2s6IHRydWUgfSk7XG4gICAgICBzZXRBY3RpdmVCbG9jayhtb3ZlZC5pZCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlb3JkZXJCbG9ja3NXaXRoUG9zaXRpb24oc291cmNlSWQsIHRhcmdldElkLCBwb3NpdGlvbikge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSB8fCAhc291cmNlSWQgfHwgIXRhcmdldElkIHx8IHNvdXJjZUlkID09PSB0YXJnZXRJZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBibG9ja3MgPSBbLi4uKGN1cnJlbnRQYWdlLmJsb2NrcyB8fCBbXSldO1xuICAgICAgY29uc3QgZnJvbUluZGV4ID0gYmxvY2tzLmZpbmRJbmRleCgoYmxvY2spID0+IGJsb2NrLmlkID09PSBzb3VyY2VJZCk7XG4gICAgICBsZXQgdG9JbmRleCA9IGJsb2Nrcy5maW5kSW5kZXgoKGJsb2NrKSA9PiBibG9jay5pZCA9PT0gdGFyZ2V0SWQpO1xuICAgICAgaWYgKGZyb21JbmRleCA8IDAgfHwgdG9JbmRleCA8IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgW21vdmVkXSA9IGJsb2Nrcy5zcGxpY2UoZnJvbUluZGV4LCAxKTtcbiAgICAgIC8vIEFqdXN0ZXIgbCdpbmRleCBzaSBuXHUwMEU5Y2Vzc2FpcmUgYXByXHUwMEU4cyBsYSBzdXBwcmVzc2lvblxuICAgICAgaWYgKGZyb21JbmRleCA8IHRvSW5kZXgpIHtcbiAgICAgICAgdG9JbmRleC0tO1xuICAgICAgfVxuICAgICAgLy8gSW5zXHUwMEU5cmVyIGF2YW50IG91IGFwclx1MDBFOHMgbGEgY2libGVcbiAgICAgIGNvbnN0IGluc2VydEluZGV4ID0gcG9zaXRpb24gPT09ICdiZWZvcmUnID8gdG9JbmRleCA6IHRvSW5kZXggKyAxO1xuICAgICAgYmxvY2tzLnNwbGljZShpbnNlcnRJbmRleCwgMCwgbW92ZWQpO1xuICAgICAgdXBkYXRlQ3VycmVudFBhZ2VCbG9ja3MoYmxvY2tzKTtcbiAgICAgIHNldEFjdGl2ZVBhZ2UoY3VycmVudFBhZ2UuaWQsIHsgcHJlc2VydmVCbG9jazogdHJ1ZSB9KTtcbiAgICAgIHNldEFjdGl2ZUJsb2NrKG1vdmVkLmlkKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlRHJhZ2dhYmxlU3RhdGUoKSB7XG4gICAgICBpZiAoIWJsb2NrTGlzdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBkcmFnZ2FibGUgPSBpc0Rlc2t0b3BSZW9yZGVyKCk7XG4gICAgICBibG9ja0xpc3QucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYmxvY2staXRlbV0nKS5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgIGl0ZW0uc2V0QXR0cmlidXRlKCdkcmFnZ2FibGUnLCBkcmFnZ2FibGUgPyAndHJ1ZScgOiAnZmFsc2UnKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjbG9zZUJsb2NrTGlicmFyeSgpIHtcbiAgICAgIGlmICghYmxvY2tMaWJyYXJ5KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGJsb2NrTGlicmFyeS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGJsb2NrTGlicmFyeU9wZW4gPSBmYWxzZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gb3BlbkJsb2NrTGlicmFyeSgpIHtcbiAgICAgIGlmICghYmxvY2tMaWJyYXJ5KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGJsb2NrTGlicmFyeS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGJsb2NrTGlicmFyeU9wZW4gPSB0cnVlO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0b2dnbGVCbG9ja0xpYnJhcnkoKSB7XG4gICAgICBibG9ja0xpYnJhcnlPcGVuID8gY2xvc2VCbG9ja0xpYnJhcnkoKSA6IG9wZW5CbG9ja0xpYnJhcnkoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYWRkQmxvY2tGcm9tTGlicmFyeSh0eXBlKSB7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlIHx8ICF0eXBlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRlZmluaXRpb24gPSBibG9ja0xpYnJhcnlEZWZpbml0aW9uc1t0eXBlXTtcbiAgICAgIGlmICghZGVmaW5pdGlvbikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBjb3VudCA9XG4gICAgICAgIChjdXJyZW50UGFnZS5ibG9ja3MgfHwgW10pLmZpbHRlcigoYmxvY2spID0+IGJsb2NrLnR5cGUgPT09IGRlZmluaXRpb24udHlwZSkubGVuZ3RoICsgMTtcbiAgICAgIGNvbnN0IG5ld0Jsb2NrID0gY3JlYXRlQmxvY2soXG4gICAgICAgIGdlbmVyYXRlQmxvY2tJZChjdXJyZW50UGFnZS5pZCwgdHlwZSksXG4gICAgICAgIGAke2RlZmluaXRpb24ubGFiZWx9ICR7Y291bnR9YCxcbiAgICAgICAgZGVmaW5pdGlvbi50eXBlLFxuICAgICAgICBkZWZpbml0aW9uLnN0YXR1cyxcbiAgICAgICAgZGVmaW5pdGlvbi5kZXNjcmlwdGlvbixcbiAgICAgICAgZGVmaW5pdGlvbi5wcm9wcyxcbiAgICAgICAgZGVmaW5pdGlvbi5zZXR0aW5ncyB8fCB7fSxcbiAgICAgICk7XG4gICAgICBpZiAoKGRlZmluaXRpb24udHlwZSB8fCAnJykudG9Mb3dlckNhc2UoKSA9PT0gJ2NvbGxlY3Rpb25ncmlkJykge1xuICAgICAgICBjb25zdCBmaXJzdENvbGxlY3Rpb25JZCA9IGRlc2lnbkNvbGxlY3Rpb25zWzBdPy5pZCB8fCAnJztcbiAgICAgICAgbmV3QmxvY2suY29sbGVjdGlvbklkID0gZmlyc3RDb2xsZWN0aW9uSWQ7XG4gICAgICAgIG5ld0Jsb2NrLnNldHRpbmdzLmNvbGxlY3Rpb25JZCA9IGZpcnN0Q29sbGVjdGlvbklkO1xuICAgICAgICBuZXdCbG9jay5zZXR0aW5ncy5saW1pdCA9IG5ld0Jsb2NrLnNldHRpbmdzLmxpbWl0IHx8IDY7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFNpIG9uIGFqb3V0ZSBcdTAwRTAgdW4gZ3JvdXBlXG4gICAgICBpZiAocGVuZGluZ0dyb3VwSWRGb3JOZXdCbG9jaykge1xuICAgICAgICBjb25zdCBncm91cEJsb2NrID0gY3VycmVudFBhZ2UuYmxvY2tzLmZpbmQoKGIpID0+IGIuaWQgPT09IHBlbmRpbmdHcm91cElkRm9yTmV3QmxvY2spO1xuICAgICAgICBpZiAoZ3JvdXBCbG9jaykge1xuICAgICAgICAgIGlmICghZ3JvdXBCbG9jay5jaGlsZHJlbikgZ3JvdXBCbG9jay5jaGlsZHJlbiA9IFtdO1xuICAgICAgICAgIGdyb3VwQmxvY2suY2hpbGRyZW4ucHVzaChuZXdCbG9jayk7XG4gICAgICAgICAgcGVuZGluZ0dyb3VwSWRGb3JOZXdCbG9jayA9IG51bGw7XG4gICAgICAgICAgcmVuZGVyQmxvY2tMaXN0KGN1cnJlbnRQYWdlKTtcbiAgICAgICAgICBzYXZlUGFnZUJsb2NrcygpO1xuICAgICAgICAgIHNldEFjdGl2ZUJsb2NrKG5ld0Jsb2NrLmlkLCBncm91cEJsb2NrLmlkKTtcbiAgICAgICAgICBjbG9zZUJsb2NrTGlicmFyeSgpO1xuICAgICAgICAgIHNob3dUb2FzdCgnQmxvYyBham91dFx1MDBFOSBhdSBncm91cGUnKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcGVuZGluZ0dyb3VwSWRGb3JOZXdCbG9jayA9IG51bGw7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IG5leHRCbG9ja3MgPSBbLi4uKGN1cnJlbnRQYWdlLmJsb2NrcyB8fCBbXSksIG5ld0Jsb2NrXTtcbiAgICAgIHVwZGF0ZUN1cnJlbnRQYWdlQmxvY2tzKG5leHRCbG9ja3MpO1xuICAgICAgc2V0QWN0aXZlUGFnZShjdXJyZW50UGFnZS5pZCwgeyBwcmVzZXJ2ZUJsb2NrOiB0cnVlIH0pO1xuICAgICAgc2V0QWN0aXZlQmxvY2sobmV3QmxvY2suaWQpO1xuICAgICAgY2xvc2VCbG9ja0xpYnJhcnkoKTtcbiAgICAgIHNob3dUb2FzdCgnQmxvYyBham91dFx1MDBFOScpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkZWxldGVCbG9ja0J5SWQoYmxvY2tJZCkge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBibG9ja3MgPSAoY3VycmVudFBhZ2UuYmxvY2tzIHx8IFtdKS5maWx0ZXIoKGJsb2NrKSA9PiBibG9jay5pZCAhPT0gYmxvY2tJZCk7XG4gICAgICBjb25zdCBuZXh0QWN0aXZlID1cbiAgICAgICAgYmxvY2tJZCA9PT0gYWN0aXZlQmxvY2tJZCA/IGJsb2Nrc1swXT8uaWQgfHwgbnVsbCA6IGFjdGl2ZUJsb2NrSWQgfHwgYmxvY2tzWzBdPy5pZCB8fCBudWxsO1xuICAgICAgdXBkYXRlQ3VycmVudFBhZ2VCbG9ja3MoYmxvY2tzKTtcbiAgICAgIGFjdGl2ZUJsb2NrSWQgPSBuZXh0QWN0aXZlO1xuICAgICAgc2V0QWN0aXZlUGFnZShjdXJyZW50UGFnZS5pZCwgeyBwcmVzZXJ2ZUJsb2NrOiB0cnVlIH0pO1xuICAgICAgaWYgKGFjdGl2ZUJsb2NrSWQpIHtcbiAgICAgICAgc2V0QWN0aXZlQmxvY2soYWN0aXZlQmxvY2tJZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZW5kZXJCbG9ja0RldGFpbHMobnVsbCk7XG4gICAgICAgIGFwcGx5UHJldmlld0hpZ2hsaWdodChudWxsKTtcbiAgICAgIH1cbiAgICAgIHNob3dUb2FzdCgnQmxvYyBzdXBwcmltXHUwMEU5Jyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNsb3NlQmxvY2tEZWxldGVNb2RhbCgpIHtcbiAgICAgIGlmICghYmxvY2tEZWxldGVNb2RhbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBibG9ja0RlbGV0ZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgYmxvY2tEZWxldGVNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdmbGV4Jyk7XG4gICAgICBwZW5kaW5nRGVsZXRlQmxvY2tJZCA9IG51bGw7XG4gICAgICBkZWFjdGl2YXRlTW9kYWwoYmxvY2tEZWxldGVNb2RhbCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG9wZW5CbG9ja0RlbGV0ZU1vZGFsKGJsb2NrSWQpIHtcbiAgICAgIGlmICghYmxvY2tEZWxldGVNb2RhbCkge1xuICAgICAgICBkZWxldGVCbG9ja0J5SWQoYmxvY2tJZCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHBlbmRpbmdEZWxldGVCbG9ja0lkID0gYmxvY2tJZDtcbiAgICAgIGJsb2NrRGVsZXRlTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBibG9ja0RlbGV0ZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2ZsZXgnKTtcbiAgICAgIGFjdGl2YXRlTW9kYWwoYmxvY2tEZWxldGVNb2RhbCwgY2xvc2VCbG9ja0RlbGV0ZU1vZGFsKTtcbiAgICB9XG4gICAgY29uc3QgdXBkYXRlQ3VycmVudFBhZ2VTdGF0ZSA9IChuZXh0UGFnZSkgPT4ge1xuICAgICAgaWYgKCFuZXh0UGFnZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBub3JtYWxpemVkID0gbm9ybWFsaXplUGFnZURhdGEobmV4dFBhZ2UpO1xuICAgICAgcGFnZXMgPSBwYWdlcy5tYXAoKHBhZ2UpID0+IChwYWdlLmlkID09PSBub3JtYWxpemVkLmlkID8gbm9ybWFsaXplZCA6IHBhZ2UpKTtcbiAgICAgIGN1cnJlbnRQYWdlID0gbm9ybWFsaXplZDtcbiAgICAgIHNhdmVQYWdlVG9TZXJ2ZXIobm9ybWFsaXplZCk7XG4gICAgfTtcbiAgICBjb25zdCBzZXRBY3RpdmVQYWdlID0gKHBhZ2VJZCwgb3B0aW9ucyA9IHt9KSA9PiB7XG4gICAgICBjb25zdCB0YXJnZXQgPSBwYWdlcy5maW5kKChwYWdlKSA9PiBwYWdlLmlkID09PSBwYWdlSWQpIHx8IHBhZ2VzWzBdIHx8IG51bGw7XG4gICAgICBjb25zdCBub3JtYWxpemVkVGFyZ2V0ID0gdGFyZ2V0ID8gbm9ybWFsaXplUGFnZURhdGEodGFyZ2V0KSA6IG51bGw7XG4gICAgICBjdXJyZW50UGFnZSA9IG5vcm1hbGl6ZWRUYXJnZXQ7XG4gICAgICBhY3RpdmVQYWdlSWQgPSB0YXJnZXQ/LmlkIHx8IG51bGw7XG4gICAgICBpZiAoIW9wdGlvbnMucHJlc2VydmVCbG9jayB8fCAhY3VycmVudFBhZ2UgfHwgIWN1cnJlbnRQYWdlLmJsb2Nrcy5zb21lKChibG9jaykgPT4gYmxvY2suaWQgPT09IGFjdGl2ZUJsb2NrSWQpKSB7XG4gICAgICAgIGFjdGl2ZUJsb2NrSWQgPSBjdXJyZW50UGFnZT8uYmxvY2tzPy5bMF0/LmlkIHx8IG51bGw7XG4gICAgICB9XG4gICAgICBpZiAoYWN0aXZlUGFnZUlkKSB7XG4gICAgICAgIHBlcnNpc3RBY3RpdmVQYWdlKGFjdGl2ZVBhZ2VJZCk7XG4gICAgICB9XG4gICAgICByZW5kZXJQYWdlTGlzdHMocGFnZXMsIGFjdGl2ZVBhZ2VJZCk7XG4gICAgICBzZXRBY3RpdmVMYWJlbHMoY3VycmVudFBhZ2UpO1xuICAgICAgc3luY1BhZ2VBY2Nlc3NpYmlsaXR5RmllbGRzKCk7XG4gICAgICByZW5kZXJQcmV2aWV3TWV0YShjdXJyZW50UGFnZSk7XG4gICAgICByZWZyZXNoUHJldmlldyhjdXJyZW50UGFnZSk7XG4gICAgICByZW5kZXJCbG9ja0xpc3QoY3VycmVudFBhZ2UpO1xuICAgICAgcmVuZGVyQmxvY2tEZXRhaWxzKGdldEFjdGl2ZUJsb2NrKCkpO1xuICAgICAgYXBwbHlQcmV2aWV3SGlnaGxpZ2h0KGFjdGl2ZUJsb2NrSWQpO1xuICAgICAgdXBkYXRlRHJhZ2dhYmxlU3RhdGUoKTtcbiAgICAgIGlmIChibG9ja0xpYnJhcnlPcGVuKSB7XG4gICAgICAgIGNsb3NlQmxvY2tMaWJyYXJ5KCk7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBpc0Rlc2t0b3BEcmF3ZXIgPSAoKSA9PiB3aW5kb3cubWF0Y2hNZWRpYSgnKG1pbi13aWR0aDogMTAyNHB4KScpLm1hdGNoZXM7XG4gICAgY29uc3Qgc3luY0RyYXdlclN0YXRlID0gKCkgPT4ge1xuICAgICAgaWYgKCFkcmF3ZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGlzRGVza3RvcERyYXdlcigpKSB7XG4gICAgICAgIGRyYXdlci5jbGFzc0xpc3QuYWRkKCdpcy1vcGVuJyk7XG4gICAgICAgIGRyYXdlckJhY2tkcm9wPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRyYXdlci5jbGFzc0xpc3QucmVtb3ZlKCdpcy1vcGVuJyk7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBvcGVuRHJhd2VyID0gKCkgPT4ge1xuICAgICAgaWYgKCFkcmF3ZXIgfHwgaXNEZXNrdG9wRHJhd2VyKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZHJhd2VyLmNsYXNzTGlzdC5hZGQoJ2lzLW9wZW4nKTtcbiAgICAgIGRyYXdlckJhY2tkcm9wPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnb3ZlcmZsb3ctaGlkZGVuJyk7XG4gICAgfTtcbiAgICBjb25zdCBjbG9zZURyYXdlciA9ICgpID0+IHtcbiAgICAgIGlmICghZHJhd2VyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGRyYXdlci5jbGFzc0xpc3QucmVtb3ZlKCdpcy1vcGVuJyk7XG4gICAgICBkcmF3ZXJCYWNrZHJvcD8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ292ZXJmbG93LWhpZGRlbicpO1xuICAgIH07XG4gICAgY29uc3Qgb3BlbkFkZFBhZ2VGb3JtID0gKCkgPT4ge1xuICAgICAgaWYgKCFhZGRQYWdlRm9ybSB8fCAhYWRkUGFnZVRvZ2dsZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhZGRQYWdlRm9ybS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGFkZFBhZ2VUb2dnbGUuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBhZGRQYWdlRXJyb3IgJiYgKGFkZFBhZ2VFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICAgIHBhZ2VTbHVnTWFudWFsbHlFZGl0ZWQgPSBmYWxzZTtcbiAgICAgIGlmIChhZGRQYWdlTmFtZSkge1xuICAgICAgICBhZGRQYWdlTmFtZS52YWx1ZSA9ICcnO1xuICAgICAgICBhZGRQYWdlTmFtZS5mb2N1cygpO1xuICAgICAgfVxuICAgICAgaWYgKGFkZFBhZ2VUaXRsZSkge1xuICAgICAgICBhZGRQYWdlVGl0bGUudmFsdWUgPSAnJztcbiAgICAgIH1cbiAgICAgIGlmIChhZGRQYWdlU2x1Zykge1xuICAgICAgICBhZGRQYWdlU2x1Zy52YWx1ZSA9ICcnO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgY2xvc2VBZGRQYWdlRm9ybSA9ICgpID0+IHtcbiAgICAgIGlmICghYWRkUGFnZUZvcm0gfHwgIWFkZFBhZ2VUb2dnbGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYWRkUGFnZUZvcm0uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBhZGRQYWdlVG9nZ2xlLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgYWRkUGFnZUVycm9yICYmIChhZGRQYWdlRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgICBwYWdlU2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gICAgICBhZGRQYWdlRm9ybS5yZXNldCgpO1xuICAgIH07XG4gICAgY29uc3Qgc3luY1NsdWdGcm9tTmFtZSA9ICgpID0+IHtcbiAgICAgIGlmICghYWRkUGFnZU5hbWUgfHwgIWFkZFBhZ2VTbHVnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChwYWdlU2x1Z01hbnVhbGx5RWRpdGVkICYmIGFkZFBhZ2VTbHVnLnZhbHVlLnRyaW0oKS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGFkZFBhZ2VTbHVnLnZhbHVlID0gbm9ybWFsaXplUGFnZVNsdWcoYWRkUGFnZU5hbWUudmFsdWUpO1xuICAgIH07XG5cbiAgICBsZXQgcGFnZXMgPSBbXTtcbiAgICBsZXQgYWN0aXZlUGFnZUlkID0gbnVsbDtcbiAgICBsZXQgcGFnZVNsdWdNYW51YWxseUVkaXRlZCA9IGZhbHNlO1xuICAgIGxldCBjdXJyZW50UGFnZSA9IG51bGw7XG4gICAgbGV0IGFjdGl2ZUJsb2NrSWQgPSBudWxsO1xuICAgIGxldCBibG9ja0xpYnJhcnlPcGVuID0gZmFsc2U7XG4gICAgbGV0IHBlbmRpbmdEZWxldGVCbG9ja0lkID0gbnVsbDtcbiAgICBsZXQgbGF0ZXN0UHJldmlld0h0bWwgPSAnJztcbiAgICBsZXQgcHJldmlld1JlYWR5ID0gZmFsc2U7XG4gICAgbGV0IHByZXZpZXdSZXF1ZXN0Q29udHJvbGxlciA9IG51bGw7XG4gICAgbGV0IGRlc2lnbkNvbGxlY3Rpb25zID0gW107XG5cbiAgICBjb25zdCBub3JtYWxpemVCbG9ja0RhdGEgPSAoYmxvY2spID0+IHtcbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSB7XG4gICAgICAgIC4uLmJsb2NrLFxuICAgICAgICBwcm9wczogQXJyYXkuaXNBcnJheShibG9jay5wcm9wcykgPyBibG9jay5wcm9wcyA6IFtdLFxuICAgICAgICBzZXR0aW5nczogeyAuLi4oYmxvY2suc2V0dGluZ3MgfHwge30pIH0sXG4gICAgICB9O1xuICAgICAgY29uc3QgdHlwZSA9IChub3JtYWxpemVkLnR5cGUgfHwgJycpLnRvTG93ZXJDYXNlKCk7XG4gICAgICBpZiAodHlwZSA9PT0gJ2NvbGxlY3Rpb25ncmlkJykge1xuICAgICAgICBub3JtYWxpemVkLmNvbGxlY3Rpb25JZCA9XG4gICAgICAgICAgbm9ybWFsaXplZC5jb2xsZWN0aW9uSWQgfHwgbm9ybWFsaXplZC5zZXR0aW5ncy5jb2xsZWN0aW9uSWQgfHwgJyc7XG4gICAgICAgIG5vcm1hbGl6ZWQuc2V0dGluZ3MuY29sbGVjdGlvbklkID0gbm9ybWFsaXplZC5jb2xsZWN0aW9uSWQ7XG4gICAgICAgIG5vcm1hbGl6ZWQuc2V0dGluZ3MubGltaXQgPSBub3JtYWxpemVkLnNldHRpbmdzLmxpbWl0IHx8IDY7XG4gICAgICB9XG4gICAgICByZXR1cm4gbm9ybWFsaXplZDtcbiAgICB9O1xuXG4gICAgY29uc3Qgbm9ybWFsaXplUGFnZURhdGEgPSAocGFnZSkgPT4gKHtcbiAgICAgIC4uLnBhZ2UsXG4gICAgICBibG9ja3M6IChwYWdlLmJsb2NrcyB8fCBbXSkubWFwKChibG9jaykgPT4gbm9ybWFsaXplQmxvY2tEYXRhKGJsb2NrKSksXG4gICAgICBzZW86IHtcbiAgICAgICAgdGl0bGU6IChwYWdlLnNlbz8udGl0bGUgfHwgJycpLnRyaW0oKSxcbiAgICAgICAgZGVzY3JpcHRpb246IChwYWdlLnNlbz8uZGVzY3JpcHRpb24gfHwgJycpLnRyaW0oKSxcbiAgICAgICAgaW5kZXhlZDpcbiAgICAgICAgICB0eXBlb2YgcGFnZS5zZW8/LmluZGV4ZWQgPT09ICdib29sZWFuJyA/IHBhZ2Uuc2VvLmluZGV4ZWQgOiBudWxsLFxuICAgICAgfSxcbiAgICAgIGFjY2Vzc2liaWxpdHk6IHtcbiAgICAgICAgc2hvd0luTWFpbk5hdjogcGFnZS5hY2Nlc3NpYmlsaXR5Py5zaG93SW5NYWluTmF2ICE9PSBmYWxzZSxcbiAgICAgICAgbWFpbkxhYmVsOiAocGFnZS5hY2Nlc3NpYmlsaXR5Py5tYWluTGFiZWwgfHwgJycpLnRyaW0oKSxcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICBjb25zdCBsb2FkRGVzaWduQ29sbGVjdGlvbnMgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25zQXBpQmFzZSkge1xuICAgICAgICBkZXNpZ25Db2xsZWN0aW9ucyA9IFtdO1xuICAgICAgICB1cGRhdGVDb2xsZWN0aW9uU2VsZWN0T3B0aW9ucygpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGNvbGxlY3Rpb25zQXBpQmFzZSwge1xuICAgICAgICAgIGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ltcG9zc2libGUgZGUgY2hhcmdlciBsZXMgY29sbGVjdGlvbnMuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiBbXSk7XG4gICAgICAgIGRlc2lnbkNvbGxlY3Rpb25zID0gQXJyYXkuaXNBcnJheShwYXlsb2FkKSA/IHBheWxvYWQgOiBbXTtcbiAgICAgICAgY29uc3QgY3VycmVudFZhbHVlID0gY29sbGVjdGlvblNlbGVjdD8udmFsdWUgfHwgJyc7XG4gICAgICAgIHVwZGF0ZUNvbGxlY3Rpb25TZWxlY3RPcHRpb25zKGN1cnJlbnRWYWx1ZSk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2Rlc2lnbl0gY29sbGVjdGlvbnMgbG9hZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdCgnQ29sbGVjdGlvbnMgaW5kaXNwb25pYmxlcy4nKTtcbiAgICAgICAgZGVzaWduQ29sbGVjdGlvbnMgPSBbXTtcbiAgICAgICAgdXBkYXRlQ29sbGVjdGlvblNlbGVjdE9wdGlvbnMoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3Qgc3luY0NvbGxlY3Rpb25TZWxlY3Rpb25JbmZvID0gKGNvbGxlY3Rpb25JZCkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uU2VsZWN0aW9uSW5mbykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWNvbGxlY3Rpb25JZCkge1xuICAgICAgICBjb2xsZWN0aW9uU2VsZWN0aW9uSW5mby50ZXh0Q29udGVudCA9IGRlc2lnbkNvbGxlY3Rpb25zLmxlbmd0aFxuICAgICAgICAgID8gJ1NcdTAwRTlsZWN0aW9ubmV6IHVuZSBjb2xsZWN0aW9uIHBvdXIgYWZmaWNoZXIgc2VzIGluZm9ybWF0aW9ucy4nXG4gICAgICAgICAgOiAnQXVjdW5lIGNvbGxlY3Rpb24gZGlzcG9uaWJsZS4gQWpvdXRlei1lbiBkZXB1aXMgbFx1MjAxOW9uZ2xldCBDb250ZW51cy4nO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBlbnRyeSA9IGRlc2lnbkNvbGxlY3Rpb25zLmZpbmQoKGNvbGxlY3Rpb24pID0+IGNvbGxlY3Rpb24uaWQgPT09IGNvbGxlY3Rpb25JZCk7XG4gICAgICBpZiAoIWVudHJ5KSB7XG4gICAgICAgIGNvbGxlY3Rpb25TZWxlY3Rpb25JbmZvLnRleHRDb250ZW50ID0gYENvbGxlY3Rpb24gJHtjb2xsZWN0aW9uSWR9YDtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgZGV0YWlscyA9IFtdO1xuICAgICAgaWYgKGVudHJ5LmRlc2NyaXB0aW9uKSB7XG4gICAgICAgIGRldGFpbHMucHVzaChlbnRyeS5kZXNjcmlwdGlvbik7XG4gICAgICB9XG4gICAgICBpZiAoZW50cnkudHlwZSkge1xuICAgICAgICBkZXRhaWxzLnB1c2goYFR5cGVcdTAwQTA6ICR7ZW50cnkudHlwZX1gKTtcbiAgICAgIH1cbiAgICAgIGNvbGxlY3Rpb25TZWxlY3Rpb25JbmZvLnRleHRDb250ZW50ID1cbiAgICAgICAgZGV0YWlscy5qb2luKCcgXHUwMEI3ICcpIHx8IGBDb2xsZWN0aW9uICR7ZW50cnkubmFtZSB8fCBlbnRyeS5pZH1gO1xuICAgIH07XG5cbiAgICBjb25zdCB1cGRhdGVDb2xsZWN0aW9uU2VsZWN0T3B0aW9ucyA9IChzZWxlY3RlZFZhbHVlID0gJycpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvblNlbGVjdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb2xsZWN0aW9uU2VsZWN0LmlubmVySFRNTCA9ICcnO1xuICAgICAgaWYgKCFkZXNpZ25Db2xsZWN0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgY29sbGVjdGlvblNlbGVjdC5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICBvcHRpb24udmFsdWUgPSAnJztcbiAgICAgICAgb3B0aW9uLnRleHRDb250ZW50ID0gJ0F1Y3VuZSBjb2xsZWN0aW9uIGRpc3BvbmlibGUnO1xuICAgICAgICBjb2xsZWN0aW9uU2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbik7XG4gICAgICAgIHN5bmNDb2xsZWN0aW9uU2VsZWN0aW9uSW5mbygnJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbGxlY3Rpb25TZWxlY3QuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgIGlmIChzZWxlY3RlZFZhbHVlICYmICFkZXNpZ25Db2xsZWN0aW9ucy5zb21lKChlbnRyeSkgPT4gZW50cnkuaWQgPT09IHNlbGVjdGVkVmFsdWUpKSB7XG4gICAgICAgIGNvbnN0IGZhbGxiYWNrT3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICAgIGZhbGxiYWNrT3B0aW9uLnZhbHVlID0gc2VsZWN0ZWRWYWx1ZTtcbiAgICAgICAgZmFsbGJhY2tPcHRpb24udGV4dENvbnRlbnQgPSBzZWxlY3RlZFZhbHVlO1xuICAgICAgICBjb2xsZWN0aW9uU2VsZWN0LmFwcGVuZENoaWxkKGZhbGxiYWNrT3B0aW9uKTtcbiAgICAgIH1cbiAgICAgIGRlc2lnbkNvbGxlY3Rpb25zLmZvckVhY2goKGNvbGxlY3Rpb24pID0+IHtcbiAgICAgICAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICAgIG9wdGlvbi52YWx1ZSA9IGNvbGxlY3Rpb24uaWQ7XG4gICAgICAgIGNvbnN0IGxhYmVsID0gY29sbGVjdGlvbi5uYW1lIHx8IGNvbGxlY3Rpb24uaWQ7XG4gICAgICAgIG9wdGlvbi50ZXh0Q29udGVudCA9IGNvbGxlY3Rpb24udHlwZSA/IGAke2xhYmVsfSBcdTAwQjcgJHtjb2xsZWN0aW9uLnR5cGV9YCA6IGxhYmVsO1xuICAgICAgICBvcHRpb24uZGF0YXNldC5kZXNjcmlwdGlvbiA9IGNvbGxlY3Rpb24uZGVzY3JpcHRpb24gfHwgJyc7XG4gICAgICAgIGNvbGxlY3Rpb25TZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uKTtcbiAgICAgIH0pO1xuICAgICAgaWYgKHNlbGVjdGVkVmFsdWUpIHtcbiAgICAgICAgY29sbGVjdGlvblNlbGVjdC52YWx1ZSA9IHNlbGVjdGVkVmFsdWU7XG4gICAgICB9XG4gICAgICBzeW5jQ29sbGVjdGlvblNlbGVjdGlvbkluZm8oY29sbGVjdGlvblNlbGVjdC52YWx1ZSB8fCAnJyk7XG4gICAgfTtcblxuICAgIGxvYWREZXNpZ25Db2xsZWN0aW9ucygpO1xuICAgIHN5bmNEcmF3ZXJTdGF0ZSgpO1xuXG4gICAgZHJhd2VyT3BlbkJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuRHJhd2VyKTtcbiAgICB9KTtcbiAgICBkcmF3ZXJDbG9zZUJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZURyYXdlcik7XG4gICAgfSk7XG4gICAgZHJhd2VyQmFja2Ryb3A/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VEcmF3ZXIpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCAoKSA9PiB7XG4gICAgICBzeW5jRHJhd2VyU3RhdGUoKTtcbiAgICAgIHVwZGF0ZURyYWdnYWJsZVN0YXRlKCk7XG4gICAgfSk7XG5cbiAgICBhZGRQYWdlVG9nZ2xlPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5BZGRQYWdlRm9ybSk7XG4gICAgYWRkUGFnZUNhbmNlbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZUFkZFBhZ2VGb3JtKTtcbiAgICBhZGRQYWdlTmFtZT8uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBzeW5jU2x1Z0Zyb21OYW1lKTtcbiAgICBhZGRQYWdlU2x1Zz8uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgICBhZGRQYWdlRXJyb3IgJiYgKGFkZFBhZ2VFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICAgIHBhZ2VTbHVnTWFudWFsbHlFZGl0ZWQgPSB0cnVlO1xuICAgIH0pO1xuICAgIGFkZFBhZ2VGb3JtPy5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoIXBhZ2VzQXBpQmFzZSkge1xuICAgICAgICBhZGRQYWdlRXJyb3IgJiYgKGFkZFBhZ2VFcnJvci50ZXh0Q29udGVudCA9ICdBdWN1biBzaXRlIHNcdTAwRTlsZWN0aW9ublx1MDBFOS4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFhZGRQYWdlTmFtZSB8fCAhYWRkUGFnZVNsdWcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgbmFtZSA9IGFkZFBhZ2VOYW1lLnZhbHVlLnRyaW0oKTtcbiAgICAgIGNvbnN0IHRpdGxlID0gYWRkUGFnZVRpdGxlPy52YWx1ZS50cmltKCkgfHwgbmFtZTsgLy8gRmFsbGJhY2sgdG8gbmFtZSBpZiB0aXRsZSBpcyBlbXB0eVxuICAgICAgY29uc3Qgc2x1ZyA9IG5vcm1hbGl6ZVBhZ2VTbHVnKGFkZFBhZ2VTbHVnLnZhbHVlLnRyaW0oKSB8fCBuYW1lKTtcbiAgICAgIGlmICghbmFtZSB8fCAhc2x1Zykge1xuICAgICAgICBhZGRQYWdlRXJyb3IgJiYgKGFkZFBhZ2VFcnJvci50ZXh0Q29udGVudCA9ICdOb20gZXQgc2x1ZyBzb250IHJlcXVpcy4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYWRkUGFnZUVycm9yICYmIChhZGRQYWdlRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgICBpZiAoYWRkUGFnZVN1Ym1pdEJ1dHRvbikge1xuICAgICAgICBhZGRQYWdlU3VibWl0QnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgYWRkUGFnZVN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9ICdDclx1MDBFOWF0aW9uLi4uJztcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGNyZWF0ZWRQYWdlID0gYXdhaXQgY3JlYXRlUGFnZU9uU2VydmVyKHsgbmFtZSwgdGl0bGUsIHNsdWcgfSk7XG4gICAgICAgIGlmICghY3JlYXRlZFBhZ2UgfHwgIWNyZWF0ZWRQYWdlLmlkKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSXHUwMEU5cG9uc2UgaW52YWxpZGUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgcGFnZXMgPSBbLi4ucGFnZXMsIG5vcm1hbGl6ZVBhZ2VEYXRhKGNyZWF0ZWRQYWdlKV07XG4gICAgICAgIGNsb3NlQWRkUGFnZUZvcm0oKTtcbiAgICAgICAgc2hvd1RvYXN0KCdQYWdlIGNyXHUwMEU5XHUwMEU5ZScpO1xuICAgICAgICBzZXRBY3RpdmVQYWdlKGNyZWF0ZWRQYWdlLmlkKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZGVzaWduXSBjcmVhdGUgcGFnZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBhZGRQYWdlRXJyb3IgJiYgKGFkZFBhZ2VFcnJvci50ZXh0Q29udGVudCA9IGVyci5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIGNyXHUwMEU5ZXIgbGEgcGFnZS4nKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmIChhZGRQYWdlU3VibWl0QnV0dG9uKSB7XG4gICAgICAgICAgYWRkUGFnZVN1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgIGFkZFBhZ2VTdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSAnQ3JcdTAwRTllcic7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vID09PSBJbXBvcnQgSlNPTiBoYW5kbGVycyA9PT1cbiAgICBjb25zdCByZXNldFBhc3RlU3RhdGUgPSAoKSA9PiB7XG4gICAgICBpZiAoaW1wb3J0UGFzdGVJbnB1dCkgaW1wb3J0UGFzdGVJbnB1dC52YWx1ZSA9ICcnO1xuICAgICAgaWYgKHBhc3RlRXJyb3IpIHtcbiAgICAgICAgcGFzdGVFcnJvci5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgcGFzdGVFcnJvci50ZXh0Q29udGVudCA9ICcnO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCB2YWxpZGF0ZVBhc3RlSnNvbiA9ICgpID0+IHtcbiAgICAgIGlmICghaW1wb3J0UGFzdGVJbnB1dCkgcmV0dXJuIG51bGw7XG4gICAgICBjb25zdCB0ZXh0ID0gaW1wb3J0UGFzdGVJbnB1dC52YWx1ZS50cmltKCk7XG4gICAgICBpZiAoIXRleHQpIHtcbiAgICAgICAgaWYgKHBhc3RlRXJyb3IpIHBhc3RlRXJyb3IuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcGFyc2VkID0gSlNPTi5wYXJzZSh0ZXh0KTtcbiAgICAgICAgaWYgKHBhc3RlRXJyb3IpIHBhc3RlRXJyb3IuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIHJldHVybiBwYXJzZWQ7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgaWYgKHBhc3RlRXJyb3IpIHtcbiAgICAgICAgICBwYXN0ZUVycm9yLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgIHBhc3RlRXJyb3IudGV4dENvbnRlbnQgPSBgXHUyNzRDIEpTT04gaW52YWxpZGUgOiAke2Vyci5tZXNzYWdlfWA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGZvcm1hdFBhc3RlSnNvbiA9ICgpID0+IHtcbiAgICAgIGlmICghaW1wb3J0UGFzdGVJbnB1dCkgcmV0dXJuO1xuICAgICAgY29uc3QgdGV4dCA9IGltcG9ydFBhc3RlSW5wdXQudmFsdWUudHJpbSgpO1xuICAgICAgaWYgKCF0ZXh0KSByZXR1cm47XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBwYXJzZWQgPSBKU09OLnBhcnNlKHRleHQpO1xuICAgICAgICBpbXBvcnRQYXN0ZUlucHV0LnZhbHVlID0gSlNPTi5zdHJpbmdpZnkocGFyc2VkLCBudWxsLCAyKTtcbiAgICAgICAgdmFsaWRhdGVQYXN0ZUpzb24oKTtcbiAgICAgIH0gY2F0Y2gge1xuICAgICAgICAvLyBTaSBwYXMgdmFsaWRlLCBvbiBuZSBmb3JtYXRlIHBhc1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCB1cGRhdGVJbXBvcnRTdWJtaXRTdGF0ZSA9ICgpID0+IHtcbiAgICAgIGlmICghaW1wb3J0U3VibWl0KSByZXR1cm47XG4gICAgICBpZiAoYWN0aXZlSW1wb3J0VGFiID09PSAndXBsb2FkJykge1xuICAgICAgICBpbXBvcnRTdWJtaXQuZGlzYWJsZWQgPSBpbXBvcnRTZWxlY3RlZEZpbGVzLmxlbmd0aCA9PT0gMDtcbiAgICAgIH0gZWxzZSBpZiAoYWN0aXZlSW1wb3J0VGFiID09PSAncGFzdGUnKSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZCA9IHZhbGlkYXRlUGFzdGVKc29uKCk7XG4gICAgICAgIGltcG9ydFN1Ym1pdC5kaXNhYmxlZCA9ICFwYXJzZWQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbXBvcnRTdWJtaXQuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBvcGVuSW1wb3J0TW9kYWwgPSAoKSA9PiB7XG4gICAgICBpZiAoIWltcG9ydE1vZGFsKSByZXR1cm47XG4gICAgICBpbXBvcnRNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGltcG9ydE1vZGFsLmNsYXNzTGlzdC5hZGQoJ2ZsZXgnKTtcbiAgICAgIGltcG9ydFNlbGVjdGVkRmlsZXMgPSBbXTtcbiAgICAgIGFjdGl2ZUltcG9ydFRhYiA9ICd1cGxvYWQnO1xuICAgICAgdXBkYXRlSW1wb3J0RmlsZUxpc3QoKTtcbiAgICAgIHJlc2V0UGFzdGVTdGF0ZSgpO1xuICAgICAgaWYgKGltcG9ydFJlc3VsdHMpIGltcG9ydFJlc3VsdHMuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBpZiAoaW1wb3J0UmVzdWx0c0NvbnRlbnQpIGltcG9ydFJlc3VsdHNDb250ZW50LmlubmVySFRNTCA9ICcnO1xuICAgICAgdXBkYXRlSW1wb3J0U3VibWl0U3RhdGUoKTtcbiAgICAgIC8vIFJlc2V0IHRhYnMgdG8gdXBsb2FkXG4gICAgICBpbXBvcnRUYWJzLmZvckVhY2goKHQpID0+IHtcbiAgICAgICAgaWYgKHQuZGF0YXNldC5pbXBvcnRUYWIgPT09ICd1cGxvYWQnKSB7XG4gICAgICAgICAgdC5jbGFzc0xpc3QuYWRkKCdiZy1bIzlDNkJGRl0nLCAndGV4dC13aGl0ZScpO1xuICAgICAgICAgIHQuY2xhc3NMaXN0LnJlbW92ZSgnYm9yZGVyJywgJ2JvcmRlci1zbGF0ZS0yMDAnLCAndGV4dC1zbGF0ZS03MDAnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0LmNsYXNzTGlzdC5yZW1vdmUoJ2JnLVsjOUM2QkZGXScsICd0ZXh0LXdoaXRlJyk7XG4gICAgICAgICAgdC5jbGFzc0xpc3QuYWRkKCdib3JkZXInLCAnYm9yZGVyLXNsYXRlLTIwMCcsICd0ZXh0LXNsYXRlLTcwMCcpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGltcG9ydFBhbmVscy5mb3JFYWNoKChwKSA9PiB7XG4gICAgICAgIGlmIChwLmRhdGFzZXQuaW1wb3J0UGFuZWwgPT09ICd1cGxvYWQnKSB7XG4gICAgICAgICAgcC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGFjdGl2YXRlTW9kYWwoaW1wb3J0TW9kYWwsIGNsb3NlSW1wb3J0TW9kYWwpO1xuICAgIH07XG4gICAgY29uc3QgY2xvc2VJbXBvcnRNb2RhbCA9ICgpID0+IHtcbiAgICAgIGlmICghaW1wb3J0TW9kYWwpIHJldHVybjtcbiAgICAgIGltcG9ydE1vZGFsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgaW1wb3J0TW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnZmxleCcpO1xuICAgICAgaW1wb3J0U2VsZWN0ZWRGaWxlcyA9IFtdO1xuICAgICAgcmVzZXRQYXN0ZVN0YXRlKCk7XG4gICAgICBkZWFjdGl2YXRlTW9kYWwoaW1wb3J0TW9kYWwpO1xuICAgIH07XG4gICAgY29uc3QgdXBkYXRlSW1wb3J0RmlsZUxpc3QgPSAoKSA9PiB7XG4gICAgICBpZiAoIWltcG9ydEZpbGVMaXN0IHx8ICFpbXBvcnRGaWxlTmFtZXMpIHJldHVybjtcbiAgICAgIGlmIChpbXBvcnRTZWxlY3RlZEZpbGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBpbXBvcnRGaWxlTGlzdC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgdXBkYXRlSW1wb3J0U3VibWl0U3RhdGUoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaW1wb3J0RmlsZUxpc3QuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBpbXBvcnRGaWxlTmFtZXMuaW5uZXJIVE1MID0gaW1wb3J0U2VsZWN0ZWRGaWxlc1xuICAgICAgICAubWFwKChmKSA9PiBgPGxpIGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj48c3BhbiBjbGFzcz1cInRleHQtbGdcIj5cdUQ4M0RcdURDQzQ8L3NwYW4+JHtmLm5hbWV9PC9saT5gKVxuICAgICAgICAuam9pbignJyk7XG4gICAgICB1cGRhdGVJbXBvcnRTdWJtaXRTdGF0ZSgpO1xuICAgIH07XG4gICAgY29uc3QgaGFuZGxlSW1wb3J0RmlsZXMgPSAoZmlsZXMpID0+IHtcbiAgICAgIGNvbnN0IGpzb25GaWxlcyA9IEFycmF5LmZyb20oZmlsZXMpLmZpbHRlcihcbiAgICAgICAgKGYpID0+IGYudHlwZSA9PT0gJ2FwcGxpY2F0aW9uL2pzb24nIHx8IGYubmFtZS5lbmRzV2l0aCgnLmpzb24nKVxuICAgICAgKTtcbiAgICAgIGlmIChqc29uRmlsZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHNob3dUb2FzdCgnQXVjdW4gZmljaGllciBKU09OIHZhbGlkZS4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaW1wb3J0U2VsZWN0ZWRGaWxlcyA9IGpzb25GaWxlcztcbiAgICAgIHVwZGF0ZUltcG9ydEZpbGVMaXN0KCk7XG4gICAgfTtcbiAgICBjb25zdCBleGVjdXRlSW1wb3J0ID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFwYWdlc0FwaUJhc2UpIHJldHVybjtcbiAgICAgIFxuICAgICAgLy8gRGV0ZXJtaW5lIHNvdXJjZSBvZiBkYXRhIGJhc2VkIG9uIGFjdGl2ZSB0YWJcbiAgICAgIGxldCBwYWdlc0RhdGEgPSBbXTtcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coJ1tpbXBvcnRdIGFjdGl2ZUltcG9ydFRhYjonLCBhY3RpdmVJbXBvcnRUYWIpO1xuICAgICAgXG4gICAgICBpZiAoYWN0aXZlSW1wb3J0VGFiID09PSAncGFzdGUnKSB7XG4gICAgICAgIC8vIEltcG9ydCBmcm9tIHBhc3RlZCBKU09OXG4gICAgICAgIGNvbnN0IHRleHQgPSBpbXBvcnRQYXN0ZUlucHV0Py52YWx1ZT8udHJpbSgpO1xuICAgICAgICBjb25zb2xlLmxvZygnW2ltcG9ydF0gcGFzdGUgdGV4dCBsZW5ndGg6JywgdGV4dD8ubGVuZ3RoKTtcbiAgICAgICAgaWYgKCF0ZXh0KSB7XG4gICAgICAgICAgc2hvd1RvYXN0KCdBdWN1biBKU09OIFx1MDBFMCBpbXBvcnRlci4nKTtcbiAgICAgICAgICBpZiAoaW1wb3J0UmVzdWx0cyAmJiBpbXBvcnRSZXN1bHRzQ29udGVudCkge1xuICAgICAgICAgICAgaW1wb3J0UmVzdWx0cy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIGltcG9ydFJlc3VsdHNDb250ZW50LmlubmVySFRNTCA9ICc8cCBjbGFzcz1cInRleHQtYW1iZXItNjAwXCI+XHUyNkEwIExlIGNoYW1wIGRlIHRleHRlIGVzdCB2aWRlLjwvcD4nO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBwYXJzZWQgPSBKU09OLnBhcnNlKHRleHQpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdbaW1wb3J0XSBwYXJzZWQgSlNPTjonLCBwYXJzZWQpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdbaW1wb3J0XSBwYXJzZWQgdHlwZTonLCB0eXBlb2YgcGFyc2VkLCBBcnJheS5pc0FycmF5KHBhcnNlZCkgPyAnYXJyYXknIDogJ25vdCBhcnJheScpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIFN1cHBvcnQgZm9ybWF0IHsgcGFnZXM6IFsuLi5dLCBjb2xsZWN0aW9uczogey4uLn0gfVxuICAgICAgICAgIGlmIChwYXJzZWQgJiYgIUFycmF5LmlzQXJyYXkocGFyc2VkKSAmJiBwYXJzZWQucGFnZXMpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbaW1wb3J0XSBkZXRlY3RlZCBwYWdlcytjb2xsZWN0aW9ucyBmb3JtYXQnKTtcbiAgICAgICAgICAgIHBhZ2VzRGF0YSA9IHBhcnNlZDsgLy8gU2VuZCB0aGUgd2hvbGUgb2JqZWN0LCBiYWNrZW5kIHdpbGwgaGFuZGxlIGl0XG4gICAgICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHBhcnNlZCkpIHtcbiAgICAgICAgICAgIHBhZ2VzRGF0YS5wdXNoKC4uLnBhcnNlZCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhZ2VzRGF0YS5wdXNoKHBhcnNlZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnNvbGUubG9nKCdbaW1wb3J0XSBwYWdlc0RhdGEgcHJlcGFyZWQ6JywgcGFnZXNEYXRhKTtcbiAgICAgICAgfSBjYXRjaCAocGFyc2VFcnIpIHtcbiAgICAgICAgICAvLyBBZmZpY2hlciBsZSBkXHUwMEU5dGFpbCBkZSBsJ2VycmV1ciBkZSBwYXJzaW5nXG4gICAgICAgICAgY29uc3QgZXJyb3JMaW5lID0gcGFyc2VFcnIubWVzc2FnZS5tYXRjaCgvcG9zaXRpb24gKFxcZCspLyk7XG4gICAgICAgICAgbGV0IGVycm9yRGV0YWlsID0gcGFyc2VFcnIubWVzc2FnZTtcbiAgICAgICAgICBpZiAoZXJyb3JMaW5lKSB7XG4gICAgICAgICAgICBjb25zdCBwb3MgPSBwYXJzZUludChlcnJvckxpbmVbMV0sIDEwKTtcbiAgICAgICAgICAgIGNvbnN0IGxpbmVzID0gdGV4dC5zdWJzdHJpbmcoMCwgcG9zKS5zcGxpdCgnXFxuJyk7XG4gICAgICAgICAgICBjb25zdCBsaW5lTnVtID0gbGluZXMubGVuZ3RoO1xuICAgICAgICAgICAgY29uc3QgY29sTnVtID0gbGluZXNbbGluZXMubGVuZ3RoIC0gMV0ubGVuZ3RoICsgMTtcbiAgICAgICAgICAgIGVycm9yRGV0YWlsID0gYExpZ25lICR7bGluZU51bX0sIGNvbG9ubmUgJHtjb2xOdW19OiAke3BhcnNlRXJyLm1lc3NhZ2V9YDtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2hvd1RvYXN0KGBFcnJldXIgSlNPTiA6ICR7ZXJyb3JEZXRhaWx9YCwgJ2Vycm9yJyk7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW2ltcG9ydF0gcGFzdGUgcGFyc2UgZXJyb3InLCBwYXJzZUVycik7XG4gICAgICAgICAgLy8gU2hvdyBlcnJvciBpbiByZXN1bHRzIGFyZWFcbiAgICAgICAgICBpZiAoaW1wb3J0UmVzdWx0cyAmJiBpbXBvcnRSZXN1bHRzQ29udGVudCkge1xuICAgICAgICAgICAgaW1wb3J0UmVzdWx0cy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIGltcG9ydFJlc3VsdHNDb250ZW50LmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRleHQtcm9zZS02MDBcIj5cbiAgICAgICAgICAgICAgICA8cCBjbGFzcz1cImZvbnQtbWVkaXVtXCI+XHUyNzE3IEVycmV1ciBkZSBzeW50YXhlIEpTT048L3A+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXhzIG10LTFcIj4ke2Vycm9yRGV0YWlsfTwvcD5cbiAgICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQteHMgbXQtMiB0ZXh0LXNsYXRlLTUwMFwiPlZcdTAwRTlyaWZpZXogbGVzIHZpcmd1bGVzLCBndWlsbGVtZXRzIGV0IGFjY29sYWRlcy48L3A+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgYDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGFjdGl2ZUltcG9ydFRhYiA9PT0gJ3VwbG9hZCcpIHtcbiAgICAgICAgLy8gSW1wb3J0IGZyb20gZmlsZXNcbiAgICAgICAgaWYgKGltcG9ydFNlbGVjdGVkRmlsZXMubGVuZ3RoID09PSAwKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGZpbGVFcnJvcnMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBmaWxlIG9mIGltcG9ydFNlbGVjdGVkRmlsZXMpIHtcbiAgICAgICAgICBjb25zdCB0ZXh0ID0gYXdhaXQgZmlsZS50ZXh0KCk7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZCA9IEpTT04ucGFyc2UodGV4dCk7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwYXJzZWQpKSB7XG4gICAgICAgICAgICAgIHBhZ2VzRGF0YS5wdXNoKC4uLnBhcnNlZCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwYWdlc0RhdGEucHVzaChwYXJzZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2ggKHBhcnNlRXJyKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvckxpbmUgPSBwYXJzZUVyci5tZXNzYWdlLm1hdGNoKC9wb3NpdGlvbiAoXFxkKykvKTtcbiAgICAgICAgICAgIGxldCBlcnJvckRldGFpbCA9IHBhcnNlRXJyLm1lc3NhZ2U7XG4gICAgICAgICAgICBpZiAoZXJyb3JMaW5lKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHBvcyA9IHBhcnNlSW50KGVycm9yTGluZVsxXSwgMTApO1xuICAgICAgICAgICAgICBjb25zdCBsaW5lcyA9IHRleHQuc3Vic3RyaW5nKDAsIHBvcykuc3BsaXQoJ1xcbicpO1xuICAgICAgICAgICAgICBjb25zdCBsaW5lTnVtID0gbGluZXMubGVuZ3RoO1xuICAgICAgICAgICAgICBlcnJvckRldGFpbCA9IGBMaWduZSAke2xpbmVOdW19OiAke3BhcnNlRXJyLm1lc3NhZ2V9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbGVFcnJvcnMucHVzaCh7IGZpbGU6IGZpbGUubmFtZSwgZXJyb3I6IGVycm9yRGV0YWlsIH0pO1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignW2ltcG9ydF0gcGFyc2UgZXJyb3InLCBmaWxlLm5hbWUsIHBhcnNlRXJyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2hvdyBmaWxlIHBhcnNpbmcgZXJyb3JzIGlmIGFueVxuICAgICAgICBpZiAoZmlsZUVycm9ycy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgaWYgKGltcG9ydFJlc3VsdHMgJiYgaW1wb3J0UmVzdWx0c0NvbnRlbnQpIHtcbiAgICAgICAgICAgIGltcG9ydFJlc3VsdHMuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgICBsZXQgaHRtbCA9ICc8ZGl2IGNsYXNzPVwidGV4dC1yb3NlLTYwMFwiPjxwIGNsYXNzPVwiZm9udC1tZWRpdW1cIj5cdTI3MTcgRXJyZXVycyBkZSBzeW50YXhlIEpTT048L3A+PHVsIGNsYXNzPVwibWwtNCB0ZXh0LXhzIG10LTFcIj4nO1xuICAgICAgICAgICAgZmlsZUVycm9ycy5mb3JFYWNoKGUgPT4ge1xuICAgICAgICAgICAgICBodG1sICs9IGA8bGk+PHN0cm9uZz4ke2UuZmlsZX08L3N0cm9uZz46ICR7ZS5lcnJvcn08L2xpPmA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGh0bWwgKz0gJzwvdWw+PC9kaXY+JztcbiAgICAgICAgICAgIGlmIChwYWdlc0RhdGEubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICBodG1sICs9IGA8cCBjbGFzcz1cInRleHQtYW1iZXItNjAwIG10LTIgdGV4dC1zbVwiPlx1MjZBMCAke3BhZ2VzRGF0YS5sZW5ndGh9IHBhZ2UocykgdmFsaWRlKHMpIHNlcm9udCBpbXBvcnRcdTAwRTllKHMpPC9wPmA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbXBvcnRSZXN1bHRzQ29udGVudC5pbm5lckhUTUwgPSBodG1sO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocGFnZXNEYXRhLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgc2hvd1RvYXN0KCdUb3VzIGxlcyBmaWNoaWVycyBjb250aWVubmVudCBkZXMgZXJyZXVycyBKU09OJywgJ2Vycm9yJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIFZcdTAwRTlyaWZpZXIgcXUnb24gYSBkZXMgZG9ublx1MDBFOWVzIFx1MDBFMCBpbXBvcnRlclxuICAgICAgY29uc3QgaGFzRGF0YSA9IEFycmF5LmlzQXJyYXkocGFnZXNEYXRhKSBcbiAgICAgICAgPyBwYWdlc0RhdGEubGVuZ3RoID4gMCBcbiAgICAgICAgOiAocGFnZXNEYXRhICYmIChwYWdlc0RhdGEucGFnZXM/Lmxlbmd0aCA+IDAgfHwgcGFnZXNEYXRhLnRpdGxlKSk7XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKCdbaW1wb3J0XSBoYXNEYXRhIGNoZWNrOicsIGhhc0RhdGEsICdwYWdlc0RhdGE6JywgcGFnZXNEYXRhKTtcbiAgICAgIFxuICAgICAgaWYgKCFoYXNEYXRhKSB7XG4gICAgICAgIHNob3dUb2FzdCgnQXVjdW5lIHBhZ2UgdmFsaWRlIFx1MDBFMCBpbXBvcnRlci4nKTtcbiAgICAgICAgaWYgKGltcG9ydFJlc3VsdHMgJiYgaW1wb3J0UmVzdWx0c0NvbnRlbnQpIHtcbiAgICAgICAgICBpbXBvcnRSZXN1bHRzLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgIGltcG9ydFJlc3VsdHNDb250ZW50LmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LWFtYmVyLTYwMFwiPlxuICAgICAgICAgICAgICA8cCBjbGFzcz1cImZvbnQtbWVkaXVtXCI+XHUyNkEwIEF1Y3VuZSBwYWdlIGRcdTAwRTl0ZWN0XHUwMEU5ZTwvcD5cbiAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXhzIG10LTFcIj5MZSBKU09OIGRvaXQgY29udGVuaXIgOjwvcD5cbiAgICAgICAgICAgICAgPHVsIGNsYXNzPVwidGV4dC14cyBtbC00IG10LTEgbGlzdC1kaXNjXCI+XG4gICAgICAgICAgICAgICAgPGxpPlVuIG9iamV0IHBhZ2UgYXZlYyBcInRpdGxlXCIgOiA8Y29kZT57XCJ0aXRsZVwiOiBcIk1hIHBhZ2VcIiwgLi4ufTwvY29kZT48L2xpPlxuICAgICAgICAgICAgICAgIDxsaT5VbiB0YWJsZWF1IGRlIHBhZ2VzIDogPGNvZGU+W3tcInRpdGxlXCI6IFwiUGFnZSAxXCJ9LCB7XCJ0aXRsZVwiOiBcIlBhZ2UgMlwifV08L2NvZGU+PC9saT5cbiAgICAgICAgICAgICAgICA8bGk+T3UgdW4gb2JqZXQgY29tYmluXHUwMEU5IDogPGNvZGU+e1wicGFnZXNcIjogWy4uLl0sIFwiY29sbGVjdGlvbnNcIjogey4uLn19PC9jb2RlPjwvbGk+XG4gICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICBgO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGltcG9ydFN1Ym1pdCkge1xuICAgICAgICBpbXBvcnRTdWJtaXQuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICBpbXBvcnRTdWJtaXQudGV4dENvbnRlbnQgPSAnSW1wb3J0Li4uJztcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gQWZmaWNoZXIgY2UgcXUnb24gdmEgZW52b3llciAoZGVidWcpXG4gICAgICBjb25zb2xlLmxvZygnW2ltcG9ydF0gU2VuZGluZyB0byBzZXJ2ZXI6JywgSlNPTi5zdHJpbmdpZnkocGFnZXNEYXRhKS5zdWJzdHJpbmcoMCwgNTAwKSk7XG4gICAgICBcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7cGFnZXNBcGlCYXNlfS9pbXBvcnRgLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgY3JlZGVudGlhbHM6ICdpbmNsdWRlJyxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYWdlc0RhdGEpLFxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGNvbnNvbGUubG9nKCdbaW1wb3J0XSBTZXJ2ZXIgcmVzcG9uc2Ugc3RhdHVzOicsIHJlc3BvbnNlLnN0YXR1cyk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdbaW1wb3J0XSBTZXJ2ZXIgcmVzcG9uc2UgYm9keTonLCByZXN1bHQpO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgLy8gQWZmaWNoZXIgbGUgZFx1MDBFOXRhaWwgZGUgbCdlcnJldXIgc2VydmV1clxuICAgICAgICAgIGlmIChpbXBvcnRSZXN1bHRzICYmIGltcG9ydFJlc3VsdHNDb250ZW50KSB7XG4gICAgICAgICAgICBpbXBvcnRSZXN1bHRzLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgICAgaW1wb3J0UmVzdWx0c0NvbnRlbnQuaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC1yb3NlLTYwMFwiPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwiZm9udC1tZWRpdW1cIj5cdTI3MTcgRXJyZXVyIHNlcnZldXI8L3A+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXhzIG10LTFcIj4ke3Jlc3VsdC5tZXNzYWdlIHx8ICdFcnJldXIgaW5jb25udWUnfTwvcD5cbiAgICAgICAgICAgICAgICAke3Jlc3VsdC5kZXRhaWxzID8gYDxwIGNsYXNzPVwidGV4dC14cyBtdC0xIHRleHQtc2xhdGUtNTAwXCI+JHtyZXN1bHQuZGV0YWlsc308L3A+YCA6ICcnfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIGA7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQubWVzc2FnZSB8fCAnRXJyZXVyIHNlcnZldXInKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTaG93IHJlc3VsdHNcbiAgICAgICAgaWYgKGltcG9ydFJlc3VsdHMgJiYgaW1wb3J0UmVzdWx0c0NvbnRlbnQpIHtcbiAgICAgICAgICBpbXBvcnRSZXN1bHRzLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgIGxldCBodG1sID0gJyc7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gRW50XHUwMEVBdGUgc3VjY1x1MDBFOHMvZXJyZXVyXG4gICAgICAgICAgY29uc3QgaGFzU3VjY2VzcyA9IChyZXN1bHQuaW1wb3J0ZWQ/Lmxlbmd0aCA+IDApIHx8IChyZXN1bHQuY29sbGVjdGlvbnNDcmVhdGVkPy5sZW5ndGggPiAwKTtcbiAgICAgICAgICBjb25zdCBoYXNFcnJvcnMgPSByZXN1bHQuZXJyb3JzPy5sZW5ndGggPiAwO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmIChoYXNTdWNjZXNzICYmICFoYXNFcnJvcnMpIHtcbiAgICAgICAgICAgIGh0bWwgKz0gJzxkaXYgY2xhc3M9XCJiZy1ncmVlbi01MCBib3JkZXIgYm9yZGVyLWdyZWVuLTIwMCByb3VuZGVkLWxnIHAtMyBtYi0yXCI+PHAgY2xhc3M9XCJ0ZXh0LWdyZWVuLTgwMCBmb250LW1lZGl1bVwiPlx1MjcxMyBJbXBvcnQgclx1MDBFOXVzc2k8L3A+PC9kaXY+JztcbiAgICAgICAgICB9IGVsc2UgaWYgKGhhc1N1Y2Nlc3MgJiYgaGFzRXJyb3JzKSB7XG4gICAgICAgICAgICBodG1sICs9ICc8ZGl2IGNsYXNzPVwiYmctYW1iZXItNTAgYm9yZGVyIGJvcmRlci1hbWJlci0yMDAgcm91bmRlZC1sZyBwLTMgbWItMlwiPjxwIGNsYXNzPVwidGV4dC1hbWJlci04MDAgZm9udC1tZWRpdW1cIj5cdTI2QTAgSW1wb3J0IHBhcnRpZWw8L3A+PC9kaXY+JztcbiAgICAgICAgICB9IGVsc2UgaWYgKGhhc0Vycm9ycykge1xuICAgICAgICAgICAgaHRtbCArPSAnPGRpdiBjbGFzcz1cImJnLXJvc2UtNTAgYm9yZGVyIGJvcmRlci1yb3NlLTIwMCByb3VuZGVkLWxnIHAtMyBtYi0yXCI+PHAgY2xhc3M9XCJ0ZXh0LXJvc2UtODAwIGZvbnQtbWVkaXVtXCI+XHUyNzE3IEltcG9ydCBcdTAwRTljaG91XHUwMEU5PC9wPjwvZGl2Pic7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIENvbGxlY3Rpb25zIGNyXHUwMEU5XHUwMEU5ZXNcbiAgICAgICAgICBpZiAocmVzdWx0LmNvbGxlY3Rpb25zQ3JlYXRlZCAmJiByZXN1bHQuY29sbGVjdGlvbnNDcmVhdGVkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGh0bWwgKz0gYDxwIGNsYXNzPVwidGV4dC12aW9sZXQtNzAwIG10LTJcIj5cdTI3MTMgJHtyZXN1bHQuY29sbGVjdGlvbnNDcmVhdGVkLmxlbmd0aH0gY29sbGVjdGlvbihzKSBjclx1MDBFOVx1MDBFOWUocyk8L3A+YDtcbiAgICAgICAgICAgIGh0bWwgKz0gJzx1bCBjbGFzcz1cIm1sLTQgdGV4dC14cyB0ZXh0LXNsYXRlLTYwMFwiPic7XG4gICAgICAgICAgICByZXN1bHQuY29sbGVjdGlvbnNDcmVhdGVkLmZvckVhY2goKGMpID0+IHtcbiAgICAgICAgICAgICAgaHRtbCArPSBgPGxpPiR7Yy5uYW1lfSAoJHtjLml0ZW1zQ291bnR9IGl0ZW0ke2MuaXRlbXNDb3VudCA+IDEgPyAncycgOiAnJ30pPC9saT5gO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBodG1sICs9ICc8L3VsPic7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIFBhZ2VzIGltcG9ydFx1MDBFOWVzXG4gICAgICAgICAgaWYgKHJlc3VsdC5pbXBvcnRlZCAmJiByZXN1bHQuaW1wb3J0ZWQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgaHRtbCArPSBgPHAgY2xhc3M9XCJ0ZXh0LWdyZWVuLTcwMCBtdC0yXCI+XHUyNzEzICR7cmVzdWx0LmltcG9ydGVkLmxlbmd0aH0gcGFnZShzKSBpbXBvcnRcdTAwRTllKHMpPC9wPmA7XG4gICAgICAgICAgICBodG1sICs9ICc8dWwgY2xhc3M9XCJtbC00IHRleHQteHMgdGV4dC1zbGF0ZS02MDBcIj4nO1xuICAgICAgICAgICAgcmVzdWx0LmltcG9ydGVkLmZvckVhY2goKHApID0+IHtcbiAgICAgICAgICAgICAgaHRtbCArPSBgPGxpPjxzdHJvbmc+JHtwLnRpdGxlfTwvc3Ryb25nPiBcdTIxOTIgJHtwLnNsdWd9ICgke3AuYWN0aW9uID09PSAndXBkYXRlZCcgPyAnbWlzZSBcdTAwRTAgam91cicgOiAnY3JcdTAwRTlcdTAwRTllJ30pPC9saT5gO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBodG1sICs9ICc8L3VsPic7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIEVycmV1cnMgYXZlYyBkXHUwMEU5dGFpbHNcbiAgICAgICAgICBpZiAocmVzdWx0LmVycm9ycyAmJiByZXN1bHQuZXJyb3JzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGh0bWwgKz0gYDxwIGNsYXNzPVwidGV4dC1yb3NlLTYwMCBtdC0zIGZvbnQtbWVkaXVtXCI+XHUyNzE3ICR7cmVzdWx0LmVycm9ycy5sZW5ndGh9IGVycmV1cihzKTwvcD5gO1xuICAgICAgICAgICAgaHRtbCArPSAnPHVsIGNsYXNzPVwibWwtNCB0ZXh0LXhzIHRleHQtcm9zZS02MDAgc3BhY2UteS0xIG10LTFcIj4nO1xuICAgICAgICAgICAgcmVzdWx0LmVycm9ycy5mb3JFYWNoKChlKSA9PiB7XG4gICAgICAgICAgICAgIGh0bWwgKz0gYDxsaSBjbGFzcz1cImJnLXJvc2UtNTAgcC0yIHJvdW5kZWRcIj48c3Ryb25nPiR7ZS50aXRsZX08L3N0cm9uZz48YnIvPjxzcGFuIGNsYXNzPVwidGV4dC1yb3NlLTUwMFwiPiR7ZS5lcnJvcn08L3NwYW4+PC9saT5gO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBodG1sICs9ICc8L3VsPic7XG4gICAgICAgICAgfVxuICAgICAgICAgIGltcG9ydFJlc3VsdHNDb250ZW50LmlubmVySFRNTCA9IGh0bWw7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVsb2FkIHBhZ2VzIGxpc3QgYW5kIHNob3cgdG9hc3RcbiAgICAgICAgY29uc3QgaGFzU3VjY2VzcyA9IChyZXN1bHQuaW1wb3J0ZWQ/Lmxlbmd0aCA+IDApIHx8IChyZXN1bHQuY29sbGVjdGlvbnNDcmVhdGVkPy5sZW5ndGggPiAwKTtcbiAgICAgICAgY29uc3QgaGFzRXJyb3JzID0gcmVzdWx0LmVycm9ycz8ubGVuZ3RoID4gMDtcbiAgICAgICAgXG4gICAgICAgIGlmIChyZXN1bHQuaW1wb3J0ZWQgJiYgcmVzdWx0LmltcG9ydGVkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBjb25zdCBmcmVzaFBhZ2VzID0gYXdhaXQgZmV0Y2hQYWdlc0Zyb21TZXJ2ZXIoKTtcbiAgICAgICAgICBwYWdlcyA9IGZyZXNoUGFnZXM7XG4gICAgICAgICAgcmVuZGVyUGFnZUxpc3RzKHBhZ2VzLCBhY3RpdmVQYWdlSWQpO1xuICAgICAgICAgIGlmIChwYWdlcy5sZW5ndGggPiAwICYmICFhY3RpdmVQYWdlSWQpIHtcbiAgICAgICAgICAgIHNldEFjdGl2ZVBhZ2UocGFnZXNbMF0uaWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gVG9hc3QgYXZlYyBzdGF0dXQgYXBwcm9wcmlcdTAwRTlcbiAgICAgICAgaWYgKGhhc1N1Y2Nlc3MgJiYgIWhhc0Vycm9ycykge1xuICAgICAgICAgIGNvbnN0IGNvbGxlY3Rpb25zTXNnID0gcmVzdWx0LmNvbGxlY3Rpb25zQ3JlYXRlZD8ubGVuZ3RoIFxuICAgICAgICAgICAgPyBgICsgJHtyZXN1bHQuY29sbGVjdGlvbnNDcmVhdGVkLmxlbmd0aH0gY29sbGVjdGlvbihzKWAgXG4gICAgICAgICAgICA6ICcnO1xuICAgICAgICAgIHNob3dUb2FzdChgXHUyNzEzIEltcG9ydCByXHUwMEU5dXNzaSA6ICR7cmVzdWx0LmltcG9ydGVkPy5sZW5ndGggfHwgMH0gcGFnZShzKSR7Y29sbGVjdGlvbnNNc2d9YCwgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgfSBlbHNlIGlmIChoYXNTdWNjZXNzICYmIGhhc0Vycm9ycykge1xuICAgICAgICAgIHNob3dUb2FzdChgXHUyNkEwIEltcG9ydCBwYXJ0aWVsIDogJHtyZXN1bHQuaW1wb3J0ZWQ/Lmxlbmd0aCB8fCAwfSBwYWdlKHMpLCAke3Jlc3VsdC5lcnJvcnMubGVuZ3RofSBlcnJldXIocylgLCAnd2FybmluZycpO1xuICAgICAgICB9IGVsc2UgaWYgKGhhc0Vycm9ycykge1xuICAgICAgICAgIHNob3dUb2FzdChgXHUyNzE3IEltcG9ydCBcdTAwRTljaG91XHUwMEU5IDogJHtyZXN1bHQuZXJyb3JzLmxlbmd0aH0gZXJyZXVyKHMpYCwgJ2Vycm9yJyk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGltcG9ydFNlbGVjdGVkRmlsZXMgPSBbXTtcbiAgICAgICAgdXBkYXRlSW1wb3J0RmlsZUxpc3QoKTtcbiAgICAgICAgcmVzZXRQYXN0ZVN0YXRlKCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2ltcG9ydF0gZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdFcnJldXIgaW1wb3J0JywgJ2Vycm9yJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoaW1wb3J0U3VibWl0KSB7XG4gICAgICAgICAgaW1wb3J0U3VibWl0LmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgaW1wb3J0U3VibWl0LnRleHRDb250ZW50ID0gJ0ltcG9ydGVyJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgaW1wb3J0VG9nZ2xlPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5JbXBvcnRNb2RhbCk7XG4gICAgaW1wb3J0Q2xvc2VCdXR0b25zLmZvckVhY2goKGJ0bikgPT4gYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VJbXBvcnRNb2RhbCkpO1xuICAgIGltcG9ydE1vZGFsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBpZiAoZS50YXJnZXQgPT09IGltcG9ydE1vZGFsKSBjbG9zZUltcG9ydE1vZGFsKCk7XG4gICAgfSk7XG4gICAgaW1wb3J0RmlsZUlucHV0Py5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZSkgPT4ge1xuICAgICAgaGFuZGxlSW1wb3J0RmlsZXMoZS50YXJnZXQuZmlsZXMpO1xuICAgIH0pO1xuICAgIGltcG9ydERyb3B6b25lPy5hZGRFdmVudExpc3RlbmVyKCdkcmFnb3ZlcicsIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpbXBvcnREcm9wem9uZS5jbGFzc0xpc3QuYWRkKCdib3JkZXItWyM5QzZCRkZdJywgJ2JnLVsjOUM2QkZGXS8xMCcpO1xuICAgIH0pO1xuICAgIGltcG9ydERyb3B6b25lPy5hZGRFdmVudExpc3RlbmVyKCdkcmFnbGVhdmUnLCAoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaW1wb3J0RHJvcHpvbmUuY2xhc3NMaXN0LnJlbW92ZSgnYm9yZGVyLVsjOUM2QkZGXScsICdiZy1bIzlDNkJGRl0vMTAnKTtcbiAgICB9KTtcbiAgICBpbXBvcnREcm9wem9uZT8uYWRkRXZlbnRMaXN0ZW5lcignZHJvcCcsIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpbXBvcnREcm9wem9uZS5jbGFzc0xpc3QucmVtb3ZlKCdib3JkZXItWyM5QzZCRkZdJywgJ2JnLVsjOUM2QkZGXS8xMCcpO1xuICAgICAgaGFuZGxlSW1wb3J0RmlsZXMoZS5kYXRhVHJhbnNmZXIuZmlsZXMpO1xuICAgIH0pO1xuICAgIGltcG9ydFN1Ym1pdD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBleGVjdXRlSW1wb3J0KTtcbiAgICAvLyBQYXN0ZSBKU09OIGhhbmRsZXJzXG4gICAgaW1wb3J0UGFzdGVJbnB1dD8uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgICB1cGRhdGVJbXBvcnRTdWJtaXRTdGF0ZSgpO1xuICAgIH0pO1xuICAgIHBhc3RlRm9ybWF0QnRuPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZvcm1hdFBhc3RlSnNvbik7XG4gICAgLy8gSW1wb3J0IHRhYnNcbiAgICBpbXBvcnRUYWJzLmZvckVhY2goKHRhYikgPT4ge1xuICAgICAgdGFiLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBjb25zdCB0YXJnZXRQYW5lbCA9IHRhYi5kYXRhc2V0LmltcG9ydFRhYjtcbiAgICAgICAgYWN0aXZlSW1wb3J0VGFiID0gdGFyZ2V0UGFuZWw7XG4gICAgICAgIGltcG9ydFRhYnMuZm9yRWFjaCgodCkgPT4ge1xuICAgICAgICAgIGlmICh0LmRhdGFzZXQuaW1wb3J0VGFiID09PSB0YXJnZXRQYW5lbCkge1xuICAgICAgICAgICAgdC5jbGFzc0xpc3QuYWRkKCdiZy1bIzlDNkJGRl0nLCAndGV4dC13aGl0ZScpO1xuICAgICAgICAgICAgdC5jbGFzc0xpc3QucmVtb3ZlKCdib3JkZXInLCAnYm9yZGVyLXNsYXRlLTIwMCcsICd0ZXh0LXNsYXRlLTcwMCcpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0LmNsYXNzTGlzdC5yZW1vdmUoJ2JnLVsjOUM2QkZGXScsICd0ZXh0LXdoaXRlJyk7XG4gICAgICAgICAgICB0LmNsYXNzTGlzdC5hZGQoJ2JvcmRlcicsICdib3JkZXItc2xhdGUtMjAwJywgJ3RleHQtc2xhdGUtNzAwJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaW1wb3J0UGFuZWxzLmZvckVhY2goKHApID0+IHtcbiAgICAgICAgICBpZiAocC5kYXRhc2V0LmltcG9ydFBhbmVsID09PSB0YXJnZXRQYW5lbCkge1xuICAgICAgICAgICAgcC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB1cGRhdGVJbXBvcnRTdWJtaXRTdGF0ZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgY29weVRlbXBsYXRlQnRuPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghdGVtcGxhdGVKc29uKSByZXR1cm47XG4gICAgICBjb25zdCB0ZXh0ID0gdGVtcGxhdGVKc29uLnRleHRDb250ZW50IHx8ICcnO1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQodGV4dCk7XG4gICAgICAgIHNob3dUb2FzdCgnVGVtcGxhdGUgY29waVx1MDBFOSAhJyk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2ltcG9ydF0gY29weSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoJ0VycmV1ciBjb3BpZScpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgY29weVByb21wdEJ0bj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWltcG9ydEFpUHJvbXB0KSByZXR1cm47XG4gICAgICBjb25zdCB0ZXh0ID0gaW1wb3J0QWlQcm9tcHQudGV4dENvbnRlbnQgfHwgJyc7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dCh0ZXh0KTtcbiAgICAgICAgc2hvd1RvYXN0KCdQcm9tcHQgY29waVx1MDBFOSAhJyk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2ltcG9ydF0gY29weSBwcm9tcHQgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KCdFcnJldXIgY29waWUnKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIERlbGV0ZSBwYWdlIG1vZGFsIGxpc3RlbmVyc1xuICAgIGRlbGV0ZVBhZ2VDYW5jZWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VEZWxldGVQYWdlTW9kYWwpO1xuICAgIGRlbGV0ZVBhZ2VDb25maXJtPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGV4ZWN1dGVEZWxldGVQYWdlKTtcbiAgICBkZWxldGVQYWdlTW9kYWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGlmIChlLnRhcmdldCA9PT0gZGVsZXRlUGFnZU1vZGFsKSBjbG9zZURlbGV0ZVBhZ2VNb2RhbCgpO1xuICAgIH0pO1xuXG4gICAgYmxvY2tMaWJyYXJ5VG9nZ2xlPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB0b2dnbGVCbG9ja0xpYnJhcnkoKTtcbiAgICB9KTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgaWYgKCFibG9ja0xpYnJhcnlPcGVuKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChcbiAgICAgICAgYmxvY2tMaWJyYXJ5Py5jb250YWlucyhldmVudC50YXJnZXQpIHx8XG4gICAgICAgIGJsb2NrTGlicmFyeVRvZ2dsZT8uY29udGFpbnMoZXZlbnQudGFyZ2V0KVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNsb3NlQmxvY2tMaWJyYXJ5KCk7XG4gICAgfSk7XG4gICAgYmxvY2tBZGRCdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBjb25zdCB0eXBlID0gYnV0dG9uLmRhdGFzZXQuYmxvY2tBZGQ7XG4gICAgICAgIGFkZEJsb2NrRnJvbUxpYnJhcnkodHlwZSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBibG9ja0RlbGV0ZUNhbmNlbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjbG9zZUJsb2NrRGVsZXRlTW9kYWwoKTtcbiAgICB9KTtcbiAgICBibG9ja0RlbGV0ZUNvbmZpcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgaWYgKHBlbmRpbmdEZWxldGVCbG9ja0lkKSB7XG4gICAgICAgIGRlbGV0ZUJsb2NrQnlJZChwZW5kaW5nRGVsZXRlQmxvY2tJZCk7XG4gICAgICB9XG4gICAgICBjbG9zZUJsb2NrRGVsZXRlTW9kYWwoKTtcbiAgICB9KTtcbiAgICBibG9ja0RlbGV0ZU1vZGFsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gYmxvY2tEZWxldGVNb2RhbCkge1xuICAgICAgICBjbG9zZUJsb2NrRGVsZXRlTW9kYWwoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBibG9ja0Zvcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQ7XG4gICAgICBpZiAoIXRhcmdldCB8fCAhdGFyZ2V0Lm5hbWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gTWluaSBwcmV2aWV3IHBvdXIgZ3JvdXBlXG4gICAgICBpZiAodGFyZ2V0Lm5hbWUgPT09ICdncm91cC1jb2x1bW5zLW1vYmlsZScgfHwgdGFyZ2V0Lm5hbWUgPT09ICdncm91cC1jb2x1bW5zLWRlc2t0b3AnKSB7XG4gICAgICAgIGNvbnN0IG1vYmlsZVZhbHVlID1cbiAgICAgICAgICBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJncm91cC1jb2x1bW5zLW1vYmlsZVwiXScpPy52YWx1ZSB8fCAnMSc7XG4gICAgICAgIGNvbnN0IGRlc2t0b3BWYWx1ZSA9XG4gICAgICAgICAgYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZ3JvdXAtY29sdW1ucy1kZXNrdG9wXCJdJyk/LnZhbHVlIHx8ICczJztcbiAgICAgICAgdXBkYXRlR3JvdXBNaW5pUHJldmlldyhtb2JpbGVWYWx1ZSwgZGVza3RvcFZhbHVlKTtcbiAgICAgIH1cbiAgICAgIC8vIE1pbmkgcHJldmlldyBwb3VyIGNvbGxlY3Rpb25cbiAgICAgIGlmICh0YXJnZXQubmFtZSA9PT0gJ2NvbGxlY3Rpb24tY29sdW1ucy1tb2JpbGUnIHx8IHRhcmdldC5uYW1lID09PSAnY29sbGVjdGlvbi1jb2x1bW5zLWRlc2t0b3AnKSB7XG4gICAgICAgIGNvbnN0IG1vYmlsZVZhbHVlID1cbiAgICAgICAgICBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJjb2xsZWN0aW9uLWNvbHVtbnMtbW9iaWxlXCJdJyk/LnZhbHVlIHx8ICcxJztcbiAgICAgICAgY29uc3QgZGVza3RvcFZhbHVlID1cbiAgICAgICAgICBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJjb2xsZWN0aW9uLWNvbHVtbnMtZGVza3RvcFwiXScpPy52YWx1ZSB8fCAnMyc7XG4gICAgICAgIHVwZGF0ZUNvbGxlY3Rpb25NaW5pUHJldmlldyhtb2JpbGVWYWx1ZSwgZGVza3RvcFZhbHVlKTtcbiAgICAgIH1cbiAgICAgIC8vIERcdTAwRTl0ZWN0aW9uIHNpIG9uIGVzdCBkYW5zIGxlIHBhbmVsIEFwcGFyZW5jZSBcdTIxOTIgYXV0by1zYXZlXG4gICAgICBjb25zdCBwYW5lbCA9IHRhcmdldC5jbG9zZXN0KCdbZGF0YS1ibG9jay1wYW5lbF0nKTtcbiAgICAgIGlmIChwYW5lbCAmJiBwYW5lbC5kYXRhc2V0LmJsb2NrUGFuZWwgPT09ICdhcHBlYXJhbmNlJykge1xuICAgICAgICAvLyBBdXRvLXNhdmUgKyByZWZyZXNoIHByZXZpZXcgcG91ciBsJ2FwcGFyZW5jZVxuICAgICAgICBjb25zdCBibG9jayA9IGdldEFjdGl2ZUJsb2NrKCk7XG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IGdldEJsb2NrRm9ybUNvbmZpZyhibG9jayk7XG4gICAgICAgIGlmIChibG9jayAmJiBjb25maWcpIHtcbiAgICAgICAgICBjb25zdCB2YWx1ZXMgPSBjb2xsZWN0Rm9ybVZhbHVlcyhjb25maWcpO1xuICAgICAgICAgIGhhbmRsZUFwcGVhcmFuY2VDaGFuZ2UoYmxvY2suaWQsIHZhbHVlcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICAvLyBcdTAwQzlnYWxlbWVudCBzdXIgJ2NoYW5nZScgcG91ciBsZXMgc2VsZWN0c1xuICAgIGJsb2NrRm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQ7XG4gICAgICBpZiAoIXRhcmdldCB8fCAhdGFyZ2V0Lm5hbWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gTWlzZSBcdTAwRTAgam91ciBkdSBwcmV2aWV3IGRlIGNvdWxldXIgcG91ciBsZXMgY29sb3Igc2VsZWN0c1xuICAgICAgaWYgKHRhcmdldC5oYXNBdHRyaWJ1dGUoJ2RhdGEtY29sb3Itc2VsZWN0JykpIHtcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRPcHRpb24gPSB0YXJnZXQub3B0aW9uc1t0YXJnZXQuc2VsZWN0ZWRJbmRleF07XG4gICAgICAgIGNvbnN0IGNvbG9yID0gc2VsZWN0ZWRPcHRpb24/LmRhdGFzZXQ/LmNvbG9yIHx8ICcjZmZmZmZmJztcbiAgICAgICAgY29uc3QgY29sb3JQcmV2aWV3ID0gdGFyZ2V0LmNsb3Nlc3QoJy5yZWxhdGl2ZScpPy5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xvci1wcmV2aWV3XScpO1xuICAgICAgICBpZiAoY29sb3JQcmV2aWV3KSB7XG4gICAgICAgICAgaWYgKGNvbG9yID09PSAndHJhbnNwYXJlbnQnKSB7XG4gICAgICAgICAgICBjb2xvclByZXZpZXcuc3R5bGUuYmFja2dyb3VuZCA9IFRSQU5TUEFSRU5UX1BBVFRFUk47XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbG9yUHJldmlldy5zdHlsZS5iYWNrZ3JvdW5kID0gY29sb3I7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb25zdCBwYW5lbCA9IHRhcmdldC5jbG9zZXN0KCdbZGF0YS1ibG9jay1wYW5lbF0nKTtcbiAgICAgIGlmIChwYW5lbCAmJiBwYW5lbC5kYXRhc2V0LmJsb2NrUGFuZWwgPT09ICdhcHBlYXJhbmNlJykge1xuICAgICAgICBjb25zdCBibG9jayA9IGdldEFjdGl2ZUJsb2NrKCk7XG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IGdldEJsb2NrRm9ybUNvbmZpZyhibG9jayk7XG4gICAgICAgIGlmIChibG9jayAmJiBjb25maWcpIHtcbiAgICAgICAgICBjb25zdCB2YWx1ZXMgPSBjb2xsZWN0Rm9ybVZhbHVlcyhjb25maWcpO1xuICAgICAgICAgIGhhbmRsZUFwcGVhcmFuY2VDaGFuZ2UoYmxvY2suaWQsIHZhbHVlcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICBjb2xsZWN0aW9uU2VsZWN0Py5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICAgIHN5bmNDb2xsZWN0aW9uU2VsZWN0aW9uSW5mbyh0YXJnZXQ/LnZhbHVlIHx8ICcnKTtcbiAgICB9KTtcbiAgICBibG9ja0Zvcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGhhbmRsZUJsb2NrRm9ybVN1Ym1pdCk7XG4gICAgYmxvY2tGb3JtQ2FuY2VsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGNvbnN0IGJsb2NrID0gZ2V0QWN0aXZlQmxvY2soKTtcbiAgICAgIGlmIChibG9jaykge1xuICAgICAgICBwb3B1bGF0ZUJsb2NrRm9ybShibG9jayk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKHByZXZpZXdWaWV3QnV0dG9ucy5sZW5ndGggPiAwKSB7XG4gICAgICBwcmV2aWV3Vmlld0J1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICBjb25zdCB0YXJnZXRWaWV3ID0gYnV0dG9uLmRhdGFzZXQucHJldmlld1ZpZXcgfHwgJ2Rlc2t0b3AnO1xuICAgICAgICAgIHNldFByZXZpZXdWaWV3KHRhcmdldFZpZXcpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgc2V0UHJldmlld1ZpZXcoJ2Rlc2t0b3AnKTtcbiAgICB9XG4gICAgcHJldmlld0ZyYW1lPy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xuICAgICAgcHJldmlld1JlYWR5ID0gdHJ1ZTtcbiAgICAgIHVwZGF0ZVByZXZpZXdTdGF0dXMoJ1x1MDBDMCBqb3VyJyk7XG4gICAgICBhcHBseVByZXZpZXdIaWdobGlnaHQoYWN0aXZlQmxvY2tJZCk7XG4gICAgfSk7XG4gICAgcHJldmlld09wZW5CdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgcHJldmlld1dpbmRvdyA9IHdpbmRvdy5vcGVuKCcnLCAnX2JsYW5rJyk7XG4gICAgICBpZiAoIXByZXZpZXdXaW5kb3cpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcHJldmlld1dpbmRvdy5vcGVuZXIgPSBudWxsO1xuICAgICAgY29uc3QgZG9jID0gcHJldmlld1dpbmRvdy5kb2N1bWVudDtcbiAgICAgIGRvYy5vcGVuKCk7XG4gICAgICBkb2Mud3JpdGUobGF0ZXN0UHJldmlld0h0bWwgfHwgZ2V0TG9hZGluZ1ByZXZpZXdIdG1sKCkpO1xuICAgICAgZG9jLmNsb3NlKCk7XG4gICAgfSk7XG5cbiAgICAvLyBTRU8gcGFuZWwgbG9naWNcbiAgICBjb25zdCB0b2dnbGVTZW9QYW5lbCA9IChzaG93KSA9PiB7XG4gICAgICBpZiAoIXNlb1BhbmVsKSByZXR1cm47XG4gICAgICBpZiAoc2hvdykge1xuICAgICAgICBzZW9QYW5lbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgLy8gUG9wdWxhdGUgZmllbGRzIHdpdGggY3VycmVudCBwYWdlIFNFTyBkYXRhXG4gICAgICAgIGlmIChjdXJyZW50UGFnZSkge1xuICAgICAgICAgIHNlb1RpdGxlSW5wdXQgJiYgKHNlb1RpdGxlSW5wdXQudmFsdWUgPSBjdXJyZW50UGFnZS5zZW8/LnRpdGxlIHx8ICcnKTtcbiAgICAgICAgICBzZW9EZXNjcmlwdGlvbklucHV0ICYmIChzZW9EZXNjcmlwdGlvbklucHV0LnZhbHVlID0gY3VycmVudFBhZ2Uuc2VvPy5kZXNjcmlwdGlvbiB8fCAnJyk7XG4gICAgICAgICAgLy8gaW5kZXhlZDogdHJ1ZSBieSBkZWZhdWx0IGlmIG5vdCBleHBsaWNpdGx5IHNldCB0byBmYWxzZVxuICAgICAgICAgIHNlb0luZGV4ZWRDaGVja2JveCAmJiAoc2VvSW5kZXhlZENoZWNrYm94LmNoZWNrZWQgPSBjdXJyZW50UGFnZS5zZW8/LmluZGV4ZWQgIT09IGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2VvUGFuZWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBzZXRTZW9GZWVkYmFjayA9IChtZXNzYWdlLCB0b25lID0gJ211dGVkJykgPT4ge1xuICAgICAgaWYgKCFzZW9GZWVkYmFjaykgcmV0dXJuO1xuICAgICAgY29uc3QgY29sb3IgPSB0b25lID09PSAnc3VjY2VzcycgPyAndGV4dC1lbWVyYWxkLTYwMCcgOiB0b25lID09PSAnZXJyb3InID8gJ3RleHQtcm9zZS02MDAnIDogJ3RleHQtc2xhdGUtNTAwJztcbiAgICAgIHNlb0ZlZWRiYWNrLnRleHRDb250ZW50ID0gbWVzc2FnZSB8fCAnJztcbiAgICAgIHNlb0ZlZWRiYWNrLmNsYXNzTmFtZSA9IGB0ZXh0LXNtICR7Y29sb3J9YDtcbiAgICB9O1xuICAgIHNlb1RvZ2dsZUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBpc1Zpc2libGUgPSBzZW9QYW5lbCAmJiAhc2VvUGFuZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdoaWRkZW4nKTtcbiAgICAgIHRvZ2dsZVNlb1BhbmVsKCFpc1Zpc2libGUpO1xuICAgIH0pO1xuICAgIHNlb0Nsb3NlQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRvZ2dsZVNlb1BhbmVsKGZhbHNlKSk7XG4gICAgc2VvRm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSkge1xuICAgICAgICBzZXRTZW9GZWVkYmFjaygnQXVjdW5lIHBhZ2UgYWN0aXZlLicsICdlcnJvcicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZW9TYXZlQnV0dG9uICYmIChzZW9TYXZlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZSk7XG4gICAgICBzZXRTZW9GZWVkYmFjaygnJyk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBzZW9EYXRhID0ge1xuICAgICAgICAgIHRpdGxlOiAoc2VvVGl0bGVJbnB1dD8udmFsdWUgfHwgJycpLnRyaW0oKSxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogKHNlb0Rlc2NyaXB0aW9uSW5wdXQ/LnZhbHVlIHx8ICcnKS50cmltKCksXG4gICAgICAgICAgaW5kZXhlZDogc2VvSW5kZXhlZENoZWNrYm94Py5jaGVja2VkID8/IHRydWUsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRQYWdlID0geyAuLi5jdXJyZW50UGFnZSwgc2VvOiBzZW9EYXRhIH07XG4gICAgICAgIGNvbnN0IHNhdmVkID0gYXdhaXQgc2F2ZVBhZ2VUb1NlcnZlcih1cGRhdGVkUGFnZSk7XG4gICAgICAgIGlmIChzYXZlZCkge1xuICAgICAgICAgIGN1cnJlbnRQYWdlID0gc2F2ZWQ7XG4gICAgICAgICAgc2V0U2VvRmVlZGJhY2soJ1NFTyBlbnJlZ2lzdHJcdTAwRTkuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgICBzaG93VG9hc3QoJ1NFTyBtaXMgXHUwMEUwIGpvdXInKTtcbiAgICAgICAgICByZWZyZXNoUHJldmlldyhjdXJyZW50UGFnZSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbc2VvXSBzYXZlIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNldFNlb0ZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsYSBzYXV2ZWdhcmRlLicsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2VvU2F2ZUJ1dHRvbiAmJiAoc2VvU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGNvbnN0IHN5bmNQYWdlQWNjZXNzaWJpbGl0eUZpZWxkcyA9ICgpID0+IHtcbiAgICAgIGlmICghcGFnZUFjY2Vzc2liaWxpdHlOYXZDaGVja2JveCAmJiAhcGFnZUFjY2Vzc2liaWxpdHlNYWluSW5wdXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFjdXJyZW50UGFnZSkge1xuICAgICAgICBwYWdlQWNjZXNzaWJpbGl0eU5hdkNoZWNrYm94ICYmIChwYWdlQWNjZXNzaWJpbGl0eU5hdkNoZWNrYm94LmNoZWNrZWQgPSB0cnVlKTtcbiAgICAgICAgcGFnZUFjY2Vzc2liaWxpdHlNYWluSW5wdXQgJiYgKHBhZ2VBY2Nlc3NpYmlsaXR5TWFpbklucHV0LnZhbHVlID0gJycpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAocGFnZUFjY2Vzc2liaWxpdHlOYXZDaGVja2JveCkge1xuICAgICAgICBwYWdlQWNjZXNzaWJpbGl0eU5hdkNoZWNrYm94LmNoZWNrZWQgPVxuICAgICAgICAgIGN1cnJlbnRQYWdlLmFjY2Vzc2liaWxpdHk/LnNob3dJbk1haW5OYXYgIT09IGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKHBhZ2VBY2Nlc3NpYmlsaXR5TWFpbklucHV0KSB7XG4gICAgICAgIHBhZ2VBY2Nlc3NpYmlsaXR5TWFpbklucHV0LnZhbHVlID0gY3VycmVudFBhZ2UuYWNjZXNzaWJpbGl0eT8ubWFpbkxhYmVsIHx8ICcnO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCB0b2dnbGVQYWdlQWNjZXNzaWJpbGl0eVBhbmVsID0gKHNob3cpID0+IHtcbiAgICAgIGlmICghcGFnZUFjY2Vzc2liaWxpdHlQYW5lbCkgcmV0dXJuO1xuICAgICAgaWYgKHNob3cpIHtcbiAgICAgICAgc3luY1BhZ2VBY2Nlc3NpYmlsaXR5RmllbGRzKCk7XG4gICAgICAgIHBhZ2VBY2Nlc3NpYmlsaXR5UGFuZWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYWdlQWNjZXNzaWJpbGl0eVBhbmVsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBzZXRQYWdlQWNjZXNzaWJpbGl0eUZlZWRiYWNrID0gKG1lc3NhZ2UsIHRvbmUgPSAnbXV0ZWQnKSA9PiB7XG4gICAgICBpZiAoIXBhZ2VBY2Nlc3NpYmlsaXR5RmVlZGJhY2spIHJldHVybjtcbiAgICAgIGNvbnN0IGNvbG9yID1cbiAgICAgICAgdG9uZSA9PT0gJ3N1Y2Nlc3MnXG4gICAgICAgICAgPyAndGV4dC1lbWVyYWxkLTYwMCdcbiAgICAgICAgICA6IHRvbmUgPT09ICdlcnJvcidcbiAgICAgICAgICAgID8gJ3RleHQtcm9zZS02MDAnXG4gICAgICAgICAgICA6ICd0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICBwYWdlQWNjZXNzaWJpbGl0eUZlZWRiYWNrLnRleHRDb250ZW50ID0gbWVzc2FnZSB8fCAnJztcbiAgICAgIHBhZ2VBY2Nlc3NpYmlsaXR5RmVlZGJhY2suY2xhc3NOYW1lID0gYHRleHQtc20gJHtjb2xvcn1gO1xuICAgIH07XG5cbiAgICBwYWdlQWNjZXNzaWJpbGl0eVRvZ2dsZUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBpc1Zpc2libGUgPVxuICAgICAgICBwYWdlQWNjZXNzaWJpbGl0eVBhbmVsICYmICFwYWdlQWNjZXNzaWJpbGl0eVBhbmVsLmNsYXNzTGlzdC5jb250YWlucygnaGlkZGVuJyk7XG4gICAgICB0b2dnbGVQYWdlQWNjZXNzaWJpbGl0eVBhbmVsKCFpc1Zpc2libGUpO1xuICAgIH0pO1xuICAgIHBhZ2VBY2Nlc3NpYmlsaXR5Q2xvc2VCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT5cbiAgICAgIHRvZ2dsZVBhZ2VBY2Nlc3NpYmlsaXR5UGFuZWwoZmFsc2UpLFxuICAgICk7XG5cbiAgICBwYWdlQWNjZXNzaWJpbGl0eUZvcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmICghY3VycmVudFBhZ2UpIHtcbiAgICAgICAgc2V0UGFnZUFjY2Vzc2liaWxpdHlGZWVkYmFjaygnQXVjdW5lIHBhZ2UgYWN0aXZlLicsICdlcnJvcicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwYWdlQWNjZXNzaWJpbGl0eVNhdmVCdXR0b24gJiYgKHBhZ2VBY2Nlc3NpYmlsaXR5U2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWUpO1xuICAgICAgc2V0UGFnZUFjY2Vzc2liaWxpdHlGZWVkYmFjaygnJyk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBhY2Nlc3NpYmlsaXR5RGF0YSA9IHtcbiAgICAgICAgICBzaG93SW5NYWluTmF2OiBwYWdlQWNjZXNzaWJpbGl0eU5hdkNoZWNrYm94Py5jaGVja2VkID8/IHRydWUsXG4gICAgICAgICAgbWFpbkxhYmVsOiAocGFnZUFjY2Vzc2liaWxpdHlNYWluSW5wdXQ/LnZhbHVlIHx8ICcnKS50cmltKCksXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRQYWdlID0ge1xuICAgICAgICAgIC4uLmN1cnJlbnRQYWdlLFxuICAgICAgICAgIGFjY2Vzc2liaWxpdHk6IGFjY2Vzc2liaWxpdHlEYXRhLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBzYXZlZCA9IGF3YWl0IHNhdmVQYWdlVG9TZXJ2ZXIodXBkYXRlZFBhZ2UpO1xuICAgICAgICBpZiAoc2F2ZWQpIHtcbiAgICAgICAgICBjdXJyZW50UGFnZSA9IHNhdmVkO1xuICAgICAgICAgIHN5bmNQYWdlQWNjZXNzaWJpbGl0eUZpZWxkcygpO1xuICAgICAgICAgIHNldFBhZ2VBY2Nlc3NpYmlsaXR5RmVlZGJhY2soJ0FjY2Vzc2liaWxpdFx1MDBFOSBlbnJlZ2lzdHJcdTAwRTllLicsICdzdWNjZXNzJyk7XG4gICAgICAgICAgc2hvd1RvYXN0KCdBY2Nlc3NpYmlsaXRcdTAwRTkgbWlzZSBcdTAwRTAgam91cicpO1xuICAgICAgICAgIHJlbmRlclBhZ2VMaXN0cyhwYWdlcywgYWN0aXZlUGFnZUlkKTtcbiAgICAgICAgICByZWZyZXNoUHJldmlldyhjdXJyZW50UGFnZSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbYWNjZXNzaWJpbGl0eV0gc2F2ZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzZXRQYWdlQWNjZXNzaWJpbGl0eUZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsYSBzYXV2ZWdhcmRlLicsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgcGFnZUFjY2Vzc2liaWxpdHlTYXZlQnV0dG9uICYmIChwYWdlQWNjZXNzaWJpbGl0eVNhdmVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBQYWdlIHByb3BlcnRpZXMgcGFuZWwgbG9naWNcbiAgICBjb25zdCB0b2dnbGVQYWdlUHJvcHNQYW5lbCA9IChzaG93KSA9PiB7XG4gICAgICBpZiAoIXBhZ2VQcm9wc1BhbmVsKSByZXR1cm47XG4gICAgICBpZiAoc2hvdykge1xuICAgICAgICBwYWdlUHJvcHNQYW5lbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgLy8gUG9wdWxhdGUgZmllbGRzIHdpdGggY3VycmVudCBwYWdlIGRhdGFcbiAgICAgICAgaWYgKGN1cnJlbnRQYWdlKSB7XG4gICAgICAgICAgcGFnZU5hbWVJbnB1dCAmJiAocGFnZU5hbWVJbnB1dC52YWx1ZSA9IGN1cnJlbnRQYWdlLm5hbWUgfHwgJycpO1xuICAgICAgICAgIHBhZ2VUaXRsZUlucHV0ICYmIChwYWdlVGl0bGVJbnB1dC52YWx1ZSA9IGN1cnJlbnRQYWdlLnRpdGxlIHx8ICcnKTtcbiAgICAgICAgICBwYWdlU2x1Z0lucHV0ICYmIChwYWdlU2x1Z0lucHV0LnZhbHVlID0gY3VycmVudFBhZ2Uuc2x1ZyB8fCAnJyk7XG4gICAgICAgICAgcGFnZURlc2NyaXB0aW9uSW5wdXQgJiYgKHBhZ2VEZXNjcmlwdGlvbklucHV0LnZhbHVlID0gY3VycmVudFBhZ2UuZGVzY3JpcHRpb24gfHwgJycpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYWdlUHJvcHNQYW5lbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHNldFBhZ2VQcm9wc0ZlZWRiYWNrID0gKG1lc3NhZ2UsIHRvbmUgPSAnbXV0ZWQnKSA9PiB7XG4gICAgICBpZiAoIXBhZ2VQcm9wc0ZlZWRiYWNrKSByZXR1cm47XG4gICAgICBjb25zdCBjb2xvciA9IHRvbmUgPT09ICdzdWNjZXNzJyA/ICd0ZXh0LWVtZXJhbGQtNjAwJyA6IHRvbmUgPT09ICdlcnJvcicgPyAndGV4dC1yb3NlLTYwMCcgOiAndGV4dC1zbGF0ZS01MDAnO1xuICAgICAgcGFnZVByb3BzRmVlZGJhY2sudGV4dENvbnRlbnQgPSBtZXNzYWdlIHx8ICcnO1xuICAgICAgcGFnZVByb3BzRmVlZGJhY2suY2xhc3NOYW1lID0gYHRleHQtc20gJHtjb2xvcn1gO1xuICAgIH07XG4gICAgcGFnZVByb3BzVG9nZ2xlQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IGlzVmlzaWJsZSA9IHBhZ2VQcm9wc1BhbmVsICYmICFwYWdlUHJvcHNQYW5lbC5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpO1xuICAgICAgdG9nZ2xlUGFnZVByb3BzUGFuZWwoIWlzVmlzaWJsZSk7XG4gICAgfSk7XG4gICAgcGFnZVByb3BzQ2xvc2VCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdG9nZ2xlUGFnZVByb3BzUGFuZWwoZmFsc2UpKTtcbiAgICBwYWdlUHJvcHNGb3JtPy5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlKSB7XG4gICAgICAgIHNldFBhZ2VQcm9wc0ZlZWRiYWNrKCdBdWN1bmUgcGFnZSBhY3RpdmUuJywgJ2Vycm9yJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHBhZ2VQcm9wc1NhdmVCdXR0b24gJiYgKHBhZ2VQcm9wc1NhdmVCdXR0b24uZGlzYWJsZWQgPSB0cnVlKTtcbiAgICAgIHNldFBhZ2VQcm9wc0ZlZWRiYWNrKCcnKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IG5ld05hbWUgPSAocGFnZU5hbWVJbnB1dD8udmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgICAgY29uc3QgbmV3VGl0bGUgPSAocGFnZVRpdGxlSW5wdXQ/LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICAgIGNvbnN0IG5ld1NsdWcgPSAocGFnZVNsdWdJbnB1dD8udmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgICAgY29uc3QgbmV3RGVzY3JpcHRpb24gPSAocGFnZURlc2NyaXB0aW9uSW5wdXQ/LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICAgIFxuICAgICAgICAvLyBWYWxpZGF0aW9uIGJhc2lxdWVcbiAgICAgICAgaWYgKCFuZXdUaXRsZSkge1xuICAgICAgICAgIHNldFBhZ2VQcm9wc0ZlZWRiYWNrKCdMZSB0aXRyZSBlc3QgcmVxdWlzLicsICdlcnJvcicpO1xuICAgICAgICAgIHBhZ2VQcm9wc1NhdmVCdXR0b24gJiYgKHBhZ2VQcm9wc1NhdmVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghbmV3U2x1ZyB8fCAhbmV3U2x1Zy5zdGFydHNXaXRoKCcvJykpIHtcbiAgICAgICAgICBzZXRQYWdlUHJvcHNGZWVkYmFjaygnTGUgc2x1ZyBkb2l0IGNvbW1lbmNlciBwYXIgLy4nLCAnZXJyb3InKTtcbiAgICAgICAgICBwYWdlUHJvcHNTYXZlQnV0dG9uICYmIChwYWdlUHJvcHNTYXZlQnV0dG9uLmRpc2FibGVkID0gZmFsc2UpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgY29uc3QgdXBkYXRlZFBhZ2UgPSB7XG4gICAgICAgICAgLi4uY3VycmVudFBhZ2UsXG4gICAgICAgICAgbmFtZTogbmV3TmFtZSB8fCBuZXdUaXRsZSwgLy8gRmFsbGJhY2sgdG8gdGl0bGUgaWYgbmFtZSBpcyBlbXB0eVxuICAgICAgICAgIHRpdGxlOiBuZXdUaXRsZSxcbiAgICAgICAgICBzbHVnOiBuZXdTbHVnLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBuZXdEZXNjcmlwdGlvbixcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3Qgc2F2ZWQgPSBhd2FpdCBzYXZlUGFnZVRvU2VydmVyKHVwZGF0ZWRQYWdlKTtcbiAgICAgICAgaWYgKHNhdmVkKSB7XG4gICAgICAgICAgY3VycmVudFBhZ2UgPSBzYXZlZDtcbiAgICAgICAgICAvLyBVcGRhdGUgcGFnZXMgYXJyYXlcbiAgICAgICAgICBwYWdlcyA9IHBhZ2VzLm1hcCgocCkgPT4gKHAuaWQgPT09IHNhdmVkLmlkID8gc2F2ZWQgOiBwKSk7XG4gICAgICAgICAgc2V0UGFnZVByb3BzRmVlZGJhY2soJ1Byb3ByaVx1MDBFOXRcdTAwRTlzIGVucmVnaXN0clx1MDBFOWVzLicsICdzdWNjZXNzJyk7XG4gICAgICAgICAgc2hvd1RvYXN0KCdQYWdlIG1pc2UgXHUwMEUwIGpvdXInKTtcbiAgICAgICAgICAvLyBVcGRhdGUgVUlcbiAgICAgICAgICBzZXRBY3RpdmVMYWJlbHMoY3VycmVudFBhZ2UpO1xuICAgICAgICAgIHJlbmRlclBhZ2VMaXN0cyhwYWdlcywgYWN0aXZlUGFnZUlkKTtcbiAgICAgICAgICByZWZyZXNoUHJldmlldyhjdXJyZW50UGFnZSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbcGFnZS1wcm9wc10gc2F2ZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzZXRQYWdlUHJvcHNGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZGUgbGEgc2F1dmVnYXJkZS4nLCAnZXJyb3InKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHBhZ2VQcm9wc1NhdmVCdXR0b24gJiYgKHBhZ2VQcm9wc1NhdmVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZSk7XG4gICAgICB9XG4gICAgfSk7XG5cblx0ICAgIGNvbnN0IGhhbmRsZUJsb2NrRHJhZ1N0YXJ0ID0gKGV2ZW50KSA9PiB7XG5cdCAgICAgIGNvbnN0IGl0ZW0gPSBldmVudC50YXJnZXQuY2xvc2VzdCgnW2RhdGEtYmxvY2staXRlbV0nKTtcblx0ICAgICAgaWYgKCFpdGVtIHx8ICFpc0Rlc2t0b3BSZW9yZGVyKCkpIHtcblx0ICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHQgICAgICBkcmFnU291cmNlSWQgPSBpdGVtLmRhdGFzZXQuYmxvY2tJZCB8fCBudWxsO1xuXHQgICAgICBkcmFnU291cmNlUGFyZW50SWQgPSBpdGVtLmRhdGFzZXQucGFyZW50QmxvY2tJZCB8fCBudWxsO1xuXHQgICAgICBpZiAoIWRyYWdTb3VyY2VJZCkge1xuXHQgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cdCAgICAgIGV2ZW50LmRhdGFUcmFuc2Zlci5lZmZlY3RBbGxvd2VkID0gJ21vdmUnO1xuXHQgICAgICBldmVudC5kYXRhVHJhbnNmZXIuc2V0RGF0YSgndGV4dC9wbGFpbicsIGRyYWdTb3VyY2VJZCk7XG5cdCAgICAgIGV2ZW50LmRhdGFUcmFuc2Zlci5zZXREYXRhKCdhcHBsaWNhdGlvbi94LXJhd2RpdC1wYXJlbnQnLCBkcmFnU291cmNlUGFyZW50SWQgfHwgJycpO1xuXHQgICAgICAvLyBTdHlsZSBkdSBibG9jIGVuIGNvdXJzIGRlIGRyYWdcblx0ICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcblx0ICAgICAgICBpdGVtLmNsYXNzTGlzdC5hZGQoJ29wYWNpdHktNTAnLCAnc2NhbGUtWzAuOThdJywgJ3NoYWRvdy1sZycsICdyaW5nLTInLCAncmluZy1bIzlDNkJGRl0nKTtcblx0ICAgICAgfSk7XG5cdCAgICB9O1xuICAgIGNvbnN0IGNsZWFyRHJhZ0luZGljYXRvcnMgPSAoKSA9PiB7XG4gICAgICBibG9ja0xpc3RcbiAgICAgICAgPy5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1ibG9jay1pdGVtXScpXG4gICAgICAgIC5mb3JFYWNoKChub2RlKSA9PiB7XG4gICAgICAgICAgbm9kZS5jbGFzc0xpc3QucmVtb3ZlKFxuICAgICAgICAgICAgJ29wYWNpdHktNTAnLCAnc2NhbGUtWzAuOThdJywgJ3NoYWRvdy1sZycsICdyaW5nLTInLCAncmluZy1bIzlDNkJGRl0nLFxuICAgICAgICAgICAgJ2JvcmRlci10LTQnLCAnYm9yZGVyLWItNCcsICdib3JkZXItdC1bIzlDNkJGRl0nLCAnYm9yZGVyLWItWyM5QzZCRkZdJyxcbiAgICAgICAgICAgICdwdC02JywgJ3BiLTYnXG4gICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblx0ICAgIGNvbnN0IGhhbmRsZUJsb2NrRHJhZ0VuZCA9ICgpID0+IHtcblx0ICAgICAgZHJhZ1NvdXJjZUlkID0gbnVsbDtcblx0ICAgICAgZHJhZ1NvdXJjZVBhcmVudElkID0gbnVsbDtcblx0ICAgICAgY2xlYXJEcmFnSW5kaWNhdG9ycygpO1xuXHQgICAgfTtcbiAgICBjb25zdCBoYW5kbGVCbG9ja0RyYWdPdmVyID0gKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoIWRyYWdTb3VyY2VJZCB8fCAhaXNEZXNrdG9wUmVvcmRlcigpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCdbZGF0YS1ibG9jay1pdGVtXScpO1xuICAgICAgaWYgKCF0YXJnZXQgfHwgdGFyZ2V0LmRhdGFzZXQuYmxvY2tJZCA9PT0gZHJhZ1NvdXJjZUlkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBldmVudC5kYXRhVHJhbnNmZXIuZHJvcEVmZmVjdCA9ICdtb3ZlJztcbiAgICAgIC8vIERcdTAwRTl0ZXJtaW5lIHNpIG9uIGRyb3AgYXZhbnQgb3UgYXByXHUwMEU4c1xuICAgICAgY29uc3QgcmVjdCA9IHRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIGNvbnN0IG1pZFkgPSByZWN0LnRvcCArIHJlY3QuaGVpZ2h0IC8gMjtcbiAgICAgIGNvbnN0IGlzQWJvdmUgPSBldmVudC5jbGllbnRZIDwgbWlkWTtcbiAgICAgIC8vIE5ldHRvaWUgbGVzIGF1dHJlcyBpbmRpY2F0ZXVyc1xuICAgICAgYmxvY2tMaXN0Py5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1ibG9jay1pdGVtXScpLmZvckVhY2goKG5vZGUpID0+IHtcbiAgICAgICAgaWYgKG5vZGUgIT09IHRhcmdldCAmJiBub2RlLmRhdGFzZXQuYmxvY2tJZCAhPT0gZHJhZ1NvdXJjZUlkKSB7XG4gICAgICAgICAgbm9kZS5jbGFzc0xpc3QucmVtb3ZlKCdib3JkZXItdC00JywgJ2JvcmRlci1iLTQnLCAnYm9yZGVyLXQtWyM5QzZCRkZdJywgJ2JvcmRlci1iLVsjOUM2QkZGXScsICdwdC02JywgJ3BiLTYnKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICAvLyBBcHBsaXF1ZSBsJ2luZGljYXRldXIgZGUgcG9zaXRpb25cbiAgICAgIHRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKCdib3JkZXItdC00JywgJ2JvcmRlci1iLTQnLCAnYm9yZGVyLXQtWyM5QzZCRkZdJywgJ2JvcmRlci1iLVsjOUM2QkZGXScsICdwdC02JywgJ3BiLTYnKTtcbiAgICAgIGlmIChpc0Fib3ZlKSB7XG4gICAgICAgIHRhcmdldC5jbGFzc0xpc3QuYWRkKCdib3JkZXItdC00JywgJ2JvcmRlci10LVsjOUM2QkZGXScsICdwdC02Jyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0YXJnZXQuY2xhc3NMaXN0LmFkZCgnYm9yZGVyLWItNCcsICdib3JkZXItYi1bIzlDNkJGRl0nLCAncGItNicpO1xuICAgICAgfVxuICAgICAgdGFyZ2V0LmRhdGFzZXQuZHJvcFBvc2l0aW9uID0gaXNBYm92ZSA/ICdiZWZvcmUnIDogJ2FmdGVyJztcbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZUJsb2NrRHJhZ0xlYXZlID0gKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQuY2xvc2VzdCgnW2RhdGEtYmxvY2staXRlbV0nKTtcbiAgICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vIFZcdTAwRTlyaWZpZSBzaSBvbiBxdWl0dGUgdnJhaW1lbnQgbCdcdTAwRTlsXHUwMEU5bWVudCAocGFzIGp1c3RlIHZlcnMgdW4gZW5mYW50KVxuICAgICAgY29uc3QgcmVsYXRlZFRhcmdldCA9IGV2ZW50LnJlbGF0ZWRUYXJnZXQ7XG4gICAgICBpZiAocmVsYXRlZFRhcmdldCAmJiB0YXJnZXQuY29udGFpbnMocmVsYXRlZFRhcmdldCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoJ2JvcmRlci10LTQnLCAnYm9yZGVyLWItNCcsICdib3JkZXItdC1bIzlDNkJGRl0nLCAnYm9yZGVyLWItWyM5QzZCRkZdJywgJ3B0LTYnLCAncGItNicpO1xuICAgICAgZGVsZXRlIHRhcmdldC5kYXRhc2V0LmRyb3BQb3NpdGlvbjtcbiAgICB9O1xuXHQgICAgY29uc3QgaGFuZGxlQmxvY2tEcm9wID0gKGV2ZW50KSA9PiB7XG5cdCAgICAgIGlmICghZHJhZ1NvdXJjZUlkIHx8ICFpc0Rlc2t0b3BSZW9yZGVyKCkpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cblx0ICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0ICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLWJsb2NrLWl0ZW1dJyk7XG5cdCAgICAgIGNvbnN0IHNvdXJjZSA9IGRyYWdTb3VyY2VJZDtcblx0ICAgICAgY29uc3Qgc291cmNlUGFyZW50ID0gZHJhZ1NvdXJjZVBhcmVudElkO1xuXHQgICAgICBjb25zdCBkcm9wUG9zaXRpb24gPSB0YXJnZXQ/LmRhdGFzZXQuZHJvcFBvc2l0aW9uIHx8ICdhZnRlcic7XG5cdCAgICAgIGRyYWdTb3VyY2VJZCA9IG51bGw7XG5cdCAgICAgIGRyYWdTb3VyY2VQYXJlbnRJZCA9IG51bGw7XG5cdCAgICAgIGNsZWFyRHJhZ0luZGljYXRvcnMoKTtcblx0ICAgICAgY29uc3QgdGFyZ2V0SWQgPSB0YXJnZXQ/LmRhdGFzZXQuYmxvY2tJZCB8fCBudWxsO1xuXHQgICAgICBpZiAoIWN1cnJlbnRQYWdlIHx8ICFzb3VyY2UpIHJldHVybjtcblx0ICAgICAgaWYgKCF0YXJnZXRJZCkge1xuXHQgICAgICAgIGlmIChzb3VyY2VQYXJlbnQpIHtcblx0ICAgICAgICAgIG1vdmVDaGlsZEZyb21Hcm91cFRvUm9vdEF0KHNvdXJjZVBhcmVudCwgc291cmNlLCBjdXJyZW50UGFnZS5ibG9ja3MubGVuZ3RoKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cdCAgICAgIGlmIChzb3VyY2UgPT09IHRhcmdldElkKSByZXR1cm47XG5cblx0ICAgICAgY29uc3QgdGFyZ2V0UGFyZW50ID0gdGFyZ2V0Py5kYXRhc2V0LnBhcmVudEJsb2NrSWQgfHwgbnVsbDtcblxuXHQgICAgICAvLyBEXHUwMEU5cGxhY2VyIGRlcHVpcyB1biBncm91cGVcblx0ICAgICAgaWYgKHNvdXJjZVBhcmVudCkge1xuXHQgICAgICAgIGlmICh0YXJnZXRQYXJlbnQpIHtcblx0ICAgICAgICAgIC8vIFZlcnMgdW4gZW5mYW50IGQndW4gZ3JvdXBlIChtXHUwMEVBbWUgZ3JvdXBlIFx1MjE5MiByZW9yZGVyLCBhdXRyZSBncm91cGUgXHUyMTkyIG1vdmUpXG5cdCAgICAgICAgICBpZiAodGFyZ2V0UGFyZW50ID09PSBzb3VyY2VQYXJlbnQpIHtcblx0ICAgICAgICAgICAgbW92ZUNoaWxkV2l0aGluR3JvdXAoc291cmNlUGFyZW50LCBzb3VyY2UsIHRhcmdldElkLCBkcm9wUG9zaXRpb24pO1xuXHQgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICBtb3ZlQW55QmxvY2tUb0dyb3VwQXQoc291cmNlLCB0YXJnZXRQYXJlbnQsIHRhcmdldElkLCBkcm9wUG9zaXRpb24pO1xuXHQgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIC8vIERyb3Agc3VyIHVuIGJsb2MgcmFjaW5lIFx1MjE5MiBzb3J0aXIgZHUgZ3JvdXBlIFx1MDBFMCB1bmUgcG9zaXRpb25cblx0ICAgICAgICBjb25zdCB0YXJnZXRSb290SW5kZXggPSBjdXJyZW50UGFnZS5ibG9ja3MuZmluZEluZGV4KChiKSA9PiBiLmlkID09PSB0YXJnZXRJZCk7XG5cdCAgICAgICAgaWYgKHRhcmdldFJvb3RJbmRleCA9PT0gLTEpIHtcblx0ICAgICAgICAgIG1vdmVDaGlsZEZyb21Hcm91cFRvUm9vdEF0KHNvdXJjZVBhcmVudCwgc291cmNlLCBjdXJyZW50UGFnZS5ibG9ja3MubGVuZ3RoKTtcblx0ICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICB9XG5cdCAgICAgICAgY29uc3QgaW5zZXJ0SW5kZXggPSBnZXRJbnNlcnRJbmRleEZyb21Qb3NpdGlvbih0YXJnZXRSb290SW5kZXgsIGRyb3BQb3NpdGlvbiwgMSk7XG5cdCAgICAgICAgbW92ZUNoaWxkRnJvbUdyb3VwVG9Sb290QXQoc291cmNlUGFyZW50LCBzb3VyY2UsIGluc2VydEluZGV4ID8/IGN1cnJlbnRQYWdlLmJsb2Nrcy5sZW5ndGgpO1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXG5cdCAgICAgIC8vIERcdTAwRTlwbGFjZXIgZGVwdWlzIGxhIGxpc3RlIHJhY2luZSB2ZXJzIGwnaW50XHUwMEU5cmlldXIgZCd1biBncm91cGUgKGRyb3Agc3VyIGVuZmFudClcblx0ICAgICAgaWYgKHRhcmdldFBhcmVudCkge1xuXHQgICAgICAgIG1vdmVBbnlCbG9ja1RvR3JvdXBBdChzb3VyY2UsIHRhcmdldFBhcmVudCwgdGFyZ2V0SWQsIGRyb3BQb3NpdGlvbik7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cblx0ICAgICAgLy8gUGFyIGRcdTAwRTlmYXV0OiByZW9yZGVyIGRlcyBibG9jcyByYWNpbmVcblx0ICAgICAgcmVvcmRlckJsb2Nrc1dpdGhQb3NpdGlvbihzb3VyY2UsIHRhcmdldElkLCBkcm9wUG9zaXRpb24pO1xuXHQgICAgfTtcblx0ICAgIGxldCBkcmFnU291cmNlSWQgPSBudWxsO1xuXHQgICAgbGV0IGRyYWdTb3VyY2VQYXJlbnRJZCA9IG51bGw7XG4gICAgYmxvY2tMaXN0Py5hZGRFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCBoYW5kbGVCbG9ja0RyYWdTdGFydCk7XG4gICAgYmxvY2tMaXN0Py5hZGRFdmVudExpc3RlbmVyKCdkcmFnZW5kJywgaGFuZGxlQmxvY2tEcmFnRW5kKTtcbiAgICBibG9ja0xpc3Q/LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgaGFuZGxlQmxvY2tEcmFnT3Zlcik7XG4gICAgYmxvY2tMaXN0Py5hZGRFdmVudExpc3RlbmVyKCdkcmFnbGVhdmUnLCBoYW5kbGVCbG9ja0RyYWdMZWF2ZSk7XG4gICAgYmxvY2tMaXN0Py5hZGRFdmVudExpc3RlbmVyKCdkcm9wJywgaGFuZGxlQmxvY2tEcm9wKTtcbiAgICBsb2FkUGFnZXNGcm9tU2VydmVyKCk7XG5cbiAgICAvLyBcdTAwQzljb3V0ZXIgbCdcdTAwRTl2XHUwMEU5bmVtZW50IGRlIHJhZnJhXHUwMEVFY2hpc3NlbWVudCBkXHUwMEU5Y2xlbmNoXHUwMEU5IHBhciBsJ0lBXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignYWktcGFnZS11cGRhdGVkJywgYXN5bmMgKGUpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCdbZGVzaWduXSBSYWZyYVx1MDBFRWNoaXNzZW1lbnQgZFx1MDBFOWNsZW5jaFx1MDBFOSBwYXIgSUEnLCBlLmRldGFpbCk7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBSZWNoYXJnZXIgbGVzIHBhZ2VzIGRlcHVpcyBsZSBzZXJ2ZXVyXG4gICAgICAgIGNvbnN0IGxvYWRlZFBhZ2VzID0gYXdhaXQgZmV0Y2hQYWdlc0Zyb21TZXJ2ZXIoKTtcbiAgICAgICAgcGFnZXMgPSAoQXJyYXkuaXNBcnJheShsb2FkZWRQYWdlcykgPyBsb2FkZWRQYWdlcyA6IFtdKS5tYXAoKHBhZ2UpID0+XG4gICAgICAgICAgbm9ybWFsaXplUGFnZURhdGEocGFnZSksXG4gICAgICAgICk7XG4gICAgICAgIFxuICAgICAgICAvLyBUcm91dmVyIGV0IG1ldHRyZSBcdTAwRTAgam91ciBsYSBwYWdlIGFjdGl2ZVxuICAgICAgICBpZiAoZS5kZXRhaWw/LnBhZ2VJZCkge1xuICAgICAgICAgIGNvbnN0IHVwZGF0ZWRQYWdlID0gcGFnZXMuZmluZChwID0+IHAuaWQgPT09IGUuZGV0YWlsLnBhZ2VJZCk7XG4gICAgICAgICAgaWYgKHVwZGF0ZWRQYWdlKSB7XG4gICAgICAgICAgICBjdXJyZW50UGFnZSA9IHVwZGF0ZWRQYWdlO1xuICAgICAgICAgICAgYWN0aXZlUGFnZUlkID0gdXBkYXRlZFBhZ2UuaWQ7XG4gICAgICAgICAgICAvLyBSYWZyYVx1MDBFRWNoaXIgbGEgcHJldmlldyBhdmVjIGxhIHBhZ2UgbWlzZSBcdTAwRTAgam91clxuICAgICAgICAgICAgcmVmcmVzaFByZXZpZXcoY3VycmVudFBhZ2UpO1xuICAgICAgICAgICAgLy8gUmFmcmFcdTAwRUVjaGlyIGxhIGxpc3RlIGRlcyBibG9jc1xuICAgICAgICAgICAgcmVuZGVyQmxvY2tMaXN0KGN1cnJlbnRQYWdlKTtcbiAgICAgICAgICAgIHNob3dUb2FzdCgnUGFnZSBtaXNlIFx1MDBFMCBqb3VyIHBhciBsXFwnSUEnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoYWN0aXZlUGFnZUlkKSB7XG4gICAgICAgICAgLy8gUmFmcmFcdTAwRUVjaGlyIGxhIHBhZ2UgYWN0aXZlIGFjdHVlbGxlXG4gICAgICAgICAgY29uc3QgYWN0aXZlUGFnZSA9IHBhZ2VzLmZpbmQocCA9PiBwLmlkID09PSBhY3RpdmVQYWdlSWQpO1xuICAgICAgICAgIGlmIChhY3RpdmVQYWdlKSB7XG4gICAgICAgICAgICBjdXJyZW50UGFnZSA9IGFjdGl2ZVBhZ2U7XG4gICAgICAgICAgICByZWZyZXNoUHJldmlldyhjdXJyZW50UGFnZSk7XG4gICAgICAgICAgICByZW5kZXJCbG9ja0xpc3QoY3VycmVudFBhZ2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkZXNpZ25dIEVycmV1ciByYWZyYVx1MDBFRWNoaXNzZW1lbnQgSUE6JywgZXJyKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXRDb250ZW50V29ya3NwYWNlKCkge1xuICAgIGNvbnN0IGNvbGxlY3Rpb25MaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29sbGVjdGlvbi1saXN0XScpO1xuICAgIGlmICghY29sbGVjdGlvbkxpc3QpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgLy8gXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXG4gICAgLy8gSEVBREVSICYgRk9PVEVSIE1BTkFHRU1FTlRcbiAgICAvLyBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcbiAgICBjb25zdCBjb250ZW50Vmlld3MgPSB7XG4gICAgICBlbXB0eTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29udGVudC12aWV3PVwiZW1wdHlcIl0nKSxcbiAgICAgIGhlYWRlcjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29udGVudC12aWV3PVwiaGVhZGVyXCJdJyksXG4gICAgICBjb2xsZWN0aW9uOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb250ZW50LXZpZXc9XCJjb2xsZWN0aW9uXCJdJyksXG4gICAgICBmb290ZXI6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbnRlbnQtdmlldz1cImZvb3RlclwiXScpLFxuICAgIH07XG4gICAgY29uc3QgY29udGVudFNlY3Rpb25CdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtY29udGVudC1zZWN0aW9uXScpO1xuICAgIGNvbnN0IGNvbnRlbnRTZWN0aW9uVHJpZ2dlcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1jb250ZW50LXNlY3Rpb24tdHJpZ2dlcl0nKTtcbiAgICBjb25zdCBoZWFkZXJTdGF0dXNJbmRpY2F0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1oZWFkZXItc3RhdHVzXScpO1xuICAgIGNvbnN0IGZvb3RlclN0YXR1c0luZGljYXRvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWZvb3Rlci1zdGF0dXNdJyk7XG4gICAgY29uc3QgY29sbGVjdGlvbkNvdW50RWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xsZWN0aW9uLWNvdW50XScpO1xuICAgIGNvbnN0IGl0ZW1QYW5lbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tcGFuZWxdJyk7XG4gICAgY29uc3QgaXRlbVBhbmVsQ2xvc2VCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtaXRlbS1wYW5lbC1jbG9zZV0nKTtcbiAgICBjb25zdCBjb2xsZWN0aW9uRW1wdHlTdGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbGxlY3Rpb24tZW1wdHldJyk7XG4gICAgY29uc3QgY29sbGVjdGlvbkl0ZW1zRW1wdHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xsZWN0aW9uLWl0ZW1zLWVtcHR5XScpO1xuICAgIGNvbnN0IGl0ZW1UYWJsZVdyYXBwZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLXRhYmxlLXdyYXBwZXJdJyk7XG4gICAgY29uc3QgaXRlbVRhYmxlQm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tdGFibGUtYm9keV0nKTtcbiAgICBjb25zdCBjb2xsZWN0aW9uVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xsZWN0aW9uLXRpdGxlXScpO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25EZXNjcmlwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbGxlY3Rpb24tZGVzY3JpcHRpb25dJyk7XG4gICAgY29uc3QgaXRlbUFkZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tYWRkXScpO1xuICAgIGNvbnN0IGl0ZW1EZXRhaWxFbXB0eSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tZGV0YWlsLWVtcHR5XScpO1xuICAgIGNvbnN0IGl0ZW1Gb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS1mb3JtXScpO1xuICAgIGNvbnN0IGl0ZW1Gb3JtRmllbGRzID0gaXRlbUZvcm1cbiAgICAgID8ge1xuICAgICAgICAgIHRpdGxlOiBpdGVtRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cIml0ZW0tdGl0bGVcIl0nKSxcbiAgICAgICAgICBzbHVnOiBpdGVtRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cIml0ZW0tc2x1Z1wiXScpLFxuICAgICAgICAgIGV4Y2VycHQ6IGl0ZW1Gb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaXRlbS1leGNlcnB0XCJdJyksXG4gICAgICAgICAgY29udGVudDogaXRlbUZvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJpdGVtLWNvbnRlbnRcIl0nKSxcbiAgICAgICAgICBpbWFnZTogaXRlbUZvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJpdGVtLWltYWdlXCJdJyksXG4gICAgICAgICAgY3RhVGV4dDogaXRlbUZvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJpdGVtLWN0YS10ZXh0XCJdJyksXG4gICAgICAgICAgY3RhVXJsOiBpdGVtRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cIml0ZW0tY3RhLXVybFwiXScpLFxuICAgICAgICAgIHN0YXR1czogaXRlbUZvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJpdGVtLXN0YXR1c1wiXScpLFxuICAgICAgICB9XG4gICAgICA6IHt9O1xuICAgIGNvbnN0IGl0ZW1TdGF0dXNCYWRnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tc3RhdHVzLWJhZGdlXScpO1xuICAgIGNvbnN0IGl0ZW1EZWxldGVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLWRlbGV0ZV0nKTtcbiAgICBjb25zdCBpdGVtRGVsZXRlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLWRlbGV0ZS1tb2RhbF0nKTtcbiAgICBjb25zdCBpdGVtRGVsZXRlQ2FuY2VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS1kZWxldGUtY2FuY2VsXScpO1xuICAgIGNvbnN0IGl0ZW1EZWxldGVDb25maXJtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS1kZWxldGUtY29uZmlybV0nKTtcbiAgICBjb25zdCBpdGVtRm9ybUNhbmNlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tY2FuY2VsXScpO1xuICAgIGNvbnN0IGl0ZW1Gb3JtU2F2ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tc2F2ZV0nKTtcbiAgICBjb25zdCBzdGF0dXNCYWRnZUJhc2VDbGFzcyA9ICdyb3VuZGVkLWZ1bGwgcHgtMyBweS0xIHRleHQteHMgZm9udC1zZW1pYm9sZCc7XG4gICAgY29uc3QgaXNEZXNrdG9wVmlld3BvcnQgPSAoKSA9PiB3aW5kb3cubWF0Y2hNZWRpYSgnKG1pbi13aWR0aDogMTAyNHB4KScpLm1hdGNoZXM7XG4gICAgY29uc3Qgc2V0SXRlbVBhbmVsSGlkZGVuU3RhdGUgPSAoaGlkZGVuKSA9PiB7XG4gICAgICBpZiAoIWl0ZW1QYW5lbCB8fCBpc0Rlc2t0b3BWaWV3cG9ydCgpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGhpZGRlbkNsYXNzZXMgPSBpdGVtUGFuZWwuZGF0YXNldC5pdGVtUGFuZWxIaWRkZW4gfHwgJyc7XG4gICAgICBjb25zdCB2aXNpYmxlQ2xhc3NlcyA9IGl0ZW1QYW5lbC5kYXRhc2V0Lml0ZW1QYW5lbFZpc2libGUgfHwgJyc7XG4gICAgICBpZiAoaGlkZGVuKSB7XG4gICAgICAgIGFwcGx5UGFuZWxDbGFzc2VzKGl0ZW1QYW5lbCwgdmlzaWJsZUNsYXNzZXMsICdyZW1vdmUnKTtcbiAgICAgICAgYXBwbHlQYW5lbENsYXNzZXMoaXRlbVBhbmVsLCBoaWRkZW5DbGFzc2VzLCAnYWRkJyk7XG4gICAgICAgIGl0ZW1QYW5lbC5jbGFzc0xpc3QuYWRkKCdwb2ludGVyLWV2ZW50cy1ub25lJyk7XG4gICAgICAgIGl0ZW1QYW5lbC5kYXRhc2V0Lml0ZW1QYW5lbE9wZW4gPSAnZmFsc2UnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXBwbHlQYW5lbENsYXNzZXMoaXRlbVBhbmVsLCBoaWRkZW5DbGFzc2VzLCAncmVtb3ZlJyk7XG4gICAgICAgIGFwcGx5UGFuZWxDbGFzc2VzKGl0ZW1QYW5lbCwgdmlzaWJsZUNsYXNzZXMsICdhZGQnKTtcbiAgICAgICAgaXRlbVBhbmVsLmNsYXNzTGlzdC5yZW1vdmUoJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICAgICAgaXRlbVBhbmVsLmRhdGFzZXQuaXRlbVBhbmVsT3BlbiA9ICd0cnVlJztcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHN5bmNJdGVtUGFuZWxXaXRoVmlld3BvcnQgPSAoKSA9PiB7XG4gICAgICBpZiAoIWl0ZW1QYW5lbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoaXNEZXNrdG9wVmlld3BvcnQoKSkge1xuICAgICAgICBjb25zdCBoaWRkZW5DbGFzc2VzID0gaXRlbVBhbmVsLmRhdGFzZXQuaXRlbVBhbmVsSGlkZGVuIHx8ICcnO1xuICAgICAgICBhcHBseVBhbmVsQ2xhc3NlcyhpdGVtUGFuZWwsIGhpZGRlbkNsYXNzZXMsICdyZW1vdmUnKTtcbiAgICAgICAgaXRlbVBhbmVsLmNsYXNzTGlzdC5yZW1vdmUoJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICAgICAgaXRlbVBhbmVsLmRhdGFzZXQuaXRlbVBhbmVsT3BlbiA9ICd0cnVlJztcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1Gb3JtPy5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpKSB7XG4gICAgICAgIHNldEl0ZW1QYW5lbEhpZGRlblN0YXRlKHRydWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0SXRlbVBhbmVsSGlkZGVuU3RhdGUoZmFsc2UpO1xuICAgICAgfVxuICAgIH07XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHN5bmNJdGVtUGFuZWxXaXRoVmlld3BvcnQpO1xuICAgIGl0ZW1QYW5lbENsb3NlQnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAoaXNEZXNrdG9wVmlld3BvcnQoKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBoaWRlSXRlbUZvcm0oKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHN5bmNJdGVtUGFuZWxXaXRoVmlld3BvcnQoKTtcbiAgICBcbiAgICAvLyBIZWFkZXIgZmllbGRzXG4gICAgY29uc3QgaGVhZGVyRmllbGRzID0ge1xuICAgICAgbG9nbzogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJoZWFkZXItbG9nb1wiXScpLFxuICAgICAgbG9nb0FsdDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJoZWFkZXItbG9nby1hbHRcIl0nKSxcbiAgICAgIGxvZ29Vcmw6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaGVhZGVyLWxvZ28tdXJsXCJdJyksXG4gICAgICBjdGFUZXh0OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImhlYWRlci1jdGEtdGV4dFwiXScpLFxuICAgICAgY3RhVXJsOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImhlYWRlci1jdGEtdXJsXCJdJyksXG4gICAgICBjdGFTdHlsZTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJoZWFkZXItY3RhLXN0eWxlXCJdJyksXG4gICAgICBwb3NpdGlvbjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJoZWFkZXItcG9zaXRpb25cIl0nKSxcbiAgICAgIGJnOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImhlYWRlci1iZ1wiXScpLFxuICAgIH07XG4gICAgY29uc3QgaGVhZGVyTmF2TGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWhlYWRlci1uYXYtbGlzdF0nKTtcbiAgICBjb25zdCBoZWFkZXJOYXZBZGRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1oZWFkZXItbmF2LWFkZF0nKTtcbiAgICBjb25zdCBoZWFkZXJTYXZlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaGVhZGVyLXNhdmVdJyk7XG4gICAgY29uc3QgaGVhZGVyTmF2SXRlbVRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtdGVtcGxhdGUtaGVhZGVyLW5hdi1pdGVtXScpO1xuICAgIGNvbnN0IGhlYWRlclBhZ2VzTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWhlYWRlci1wYWdlcy1saXN0XScpO1xuICAgIGxldCBzaXRlUGFnZXMgPSBbXTsgLy8gUGFnZXMgZHUgc2l0ZSBwb3VyIGxlcyBjaGVja2JveGVzXG4gICAgbGV0IHNlbGVjdGVkTmF2UGFnZXMgPSBbXTsgLy8gUGFnZXMgc1x1MDBFOWxlY3Rpb25uXHUwMEU5ZXMgcG91ciBsZSBtZW51IChhdmVjIG9yZHJlKVxuICAgIFxuICAgIC8vIEZvb3RlciBmaWVsZHNcbiAgICBjb25zdCBmb290ZXJGaWVsZHMgPSB7XG4gICAgICBsaW5rZWRpbjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJmb290ZXItc29jaWFsLWxpbmtlZGluXCJdJyksXG4gICAgICB0d2l0dGVyOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImZvb3Rlci1zb2NpYWwtdHdpdHRlclwiXScpLFxuICAgICAgaW5zdGFncmFtOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImZvb3Rlci1zb2NpYWwtaW5zdGFncmFtXCJdJyksXG4gICAgICBmYWNlYm9vazogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJmb290ZXItc29jaWFsLWZhY2Vib29rXCJdJyksXG4gICAgICB5b3V0dWJlOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImZvb3Rlci1zb2NpYWwteW91dHViZVwiXScpLFxuICAgICAgZ2l0aHViOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImZvb3Rlci1zb2NpYWwtZ2l0aHViXCJdJyksXG4gICAgICBjb3B5cmlnaHQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZm9vdGVyLWNvcHlyaWdodFwiXScpLFxuICAgICAgbGVnYWxVcmw6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZm9vdGVyLWxlZ2FsLXVybFwiXScpLFxuICAgICAgcHJpdmFjeVVybDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJmb290ZXItcHJpdmFjeS11cmxcIl0nKSxcbiAgICAgIGJnOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImZvb3Rlci1iZ1wiXScpLFxuICAgICAgY29sdW1uc0NvdW50OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImZvb3Rlci1jb2x1bW5zLWNvdW50XCJdJyksXG4gICAgfTtcbiAgICBjb25zdCBmb290ZXJDb2x1bW5zTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWZvb3Rlci1jb2x1bW5zLWxpc3RdJyk7XG4gICAgY29uc3QgZm9vdGVyQ29sdW1uQWRkQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZm9vdGVyLWNvbHVtbi1hZGRdJyk7XG4gICAgY29uc3QgZm9vdGVyU2F2ZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWZvb3Rlci1zYXZlXScpO1xuICAgIGNvbnN0IGZvb3RlckNvbHVtblRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtdGVtcGxhdGUtZm9vdGVyLWNvbHVtbl0nKTtcbiAgICBjb25zdCBmb290ZXJMaW5rVGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS10ZW1wbGF0ZS1mb290ZXItbGlua10nKTtcbiAgICBcbiAgICBsZXQgYWN0aXZlQ29udGVudFNlY3Rpb24gPSBudWxsO1xuICAgIGxldCBoZWFkZXJEYXRhID0geyBuYXY6IFtdLCBsb2dvOiB7fSwgY3RhOiB7fSwgc3R5bGU6IHt9IH07XG4gICAgbGV0IGZvb3RlckRhdGEgPSB7IGNvbHVtbnM6IFtdLCBzb2NpYWxzOiB7fSwgY29weXJpZ2h0OiAnJywgbGVnYWw6IHt9LCBzdHlsZToge30gfTtcbiAgICBcbiAgICBjb25zdCBzYWZlU2l0ZVNsdWdGb3JMYXlvdXQgPSBzdHJpcExlYWRpbmdTbGFzaCh3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnKTtcbiAgICBjb25zdCBzbHVnID0gc2FmZVNpdGVTbHVnRm9yTGF5b3V0OyAvLyBBbGlhcyBwb3VyIGxlcyBmb25jdGlvbnMgcXVpIHV0aWxpc2VudCBzbHVnXG4gICAgY29uc3QgbGF5b3V0QXBpQmFzZSA9IHNhZmVTaXRlU2x1Z0ZvckxheW91dCA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Z0ZvckxheW91dCl9L2xheW91dGAgOiBudWxsO1xuICAgIFxuICAgIC8vIFZpZXcgc3dpdGNoaW5nXG4gICAgY29uc3Qgc2hvd0NvbnRlbnRWaWV3ID0gKHZpZXdOYW1lKSA9PiB7XG4gICAgICBPYmplY3QuZW50cmllcyhjb250ZW50Vmlld3MpLmZvckVhY2goKFtuYW1lLCBlbF0pID0+IHtcbiAgICAgICAgaWYgKGVsKSBlbC5jbGFzc0xpc3QudG9nZ2xlKCdoaWRkZW4nLCBuYW1lICE9PSB2aWV3TmFtZSk7XG4gICAgICB9KTtcbiAgICAgIGNvbnRlbnRTZWN0aW9uQnV0dG9ucy5mb3JFYWNoKGJ0biA9PiB7XG4gICAgICAgIGNvbnN0IHNlY3Rpb24gPSBidG4uZGF0YXNldC5jb250ZW50U2VjdGlvbjtcbiAgICAgICAgaWYgKHNlY3Rpb24gPT09IHZpZXdOYW1lKSB7XG4gICAgICAgICAgYnRuLmRhdGFzZXQuYWN0aXZlID0gJ3RydWUnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRlbGV0ZSBidG4uZGF0YXNldC5hY3RpdmU7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgYWN0aXZlQ29udGVudFNlY3Rpb24gPSB2aWV3TmFtZTtcbiAgICB9O1xuICAgIFxuICAgIC8vIFNlY3Rpb24gYnV0dG9uIGhhbmRsZXJzXG4gICAgY29udGVudFNlY3Rpb25CdXR0b25zLmZvckVhY2goYnRuID0+IHtcbiAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgY29uc3Qgc2VjdGlvbiA9IGJ0bi5kYXRhc2V0LmNvbnRlbnRTZWN0aW9uO1xuICAgICAgICBpZiAoc2VjdGlvbiA9PT0gJ2hlYWRlcicgfHwgc2VjdGlvbiA9PT0gJ2Zvb3RlcicpIHtcbiAgICAgICAgICBzaG93Q29udGVudFZpZXcoc2VjdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGNvbnRlbnRTZWN0aW9uVHJpZ2dlcnMuZm9yRWFjaChidG4gPT4ge1xuICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBjb25zdCBzZWN0aW9uID0gYnRuLmRhdGFzZXQuY29udGVudFNlY3Rpb25UcmlnZ2VyO1xuICAgICAgICBpZiAoc2VjdGlvbikgc2hvd0NvbnRlbnRWaWV3KHNlY3Rpb24pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgXG4gICAgLy8gXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXG4gICAgLy8gSEVBREVSIEZVTkNUSU9OU1xuICAgIC8vIFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFxuICAgIFxuICAgIC8vIENoYXJnZXIgbGEgbGlzdGUgZGVzIHBhZ2VzIGR1IHNpdGUgcG91ciBsZXMgY2hlY2tib3hlc1xuICAgIGNvbnN0IGxvYWRTaXRlUGFnZXNGb3JIZWFkZXIgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXNsdWcgfHwgIWhlYWRlclBhZ2VzTGlzdCkgcmV0dXJuO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9zaXRlcy8ke3NsdWd9L3BhZ2VzYCwgeyBjcmVkZW50aWFsczogJ2luY2x1ZGUnIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB0aHJvdyBuZXcgRXJyb3IoJ0VycmV1ciBjaGFyZ2VtZW50IHBhZ2VzJyk7XG4gICAgICAgIHNpdGVQYWdlcyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgcmVuZGVyUGFnZUNoZWNrYm94ZXMoKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbaGVhZGVyXSBsb2FkIHBhZ2VzIGVycm9yJywgZXJyKTtcbiAgICAgICAgaGVhZGVyUGFnZXNMaXN0LmlubmVySFRNTCA9ICc8cCBjbGFzcz1cInRleHQteHMgdGV4dC1yZWQtNTAwXCI+RXJyZXVyIGNoYXJnZW1lbnQgcGFnZXM8L3A+JztcbiAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIC8vIEFmZmljaGVyIGxlcyBjaGVja2JveGVzIHBvdXIgY2hhcXVlIHBhZ2VcbiAgY29uc3Qgbm9ybWFsaXplTmF2UGFnZVVybCA9ICh2YWx1ZSkgPT4ge1xuICAgIGNvbnN0IHJhdyA9ICh2YWx1ZSB8fCAnJykudG9TdHJpbmcoKS50cmltKCk7XG4gICAgaWYgKCFyYXcgfHwgcmF3ID09PSAnLycgfHwgcmF3ID09PSAnaW5kZXgnKSB7XG4gICAgICByZXR1cm4gJy8nO1xuICAgIH1cbiAgICBjb25zdCBsb3dlciA9IHJhdy50b0xvd2VyQ2FzZSgpO1xuICAgIGlmIChyYXcuc3RhcnRzV2l0aCgnIycpKSB7XG4gICAgICByZXR1cm4gcmF3O1xuICAgIH1cbiAgICBpZiAobG93ZXIuc3RhcnRzV2l0aCgnbWFpbHRvOicpIHx8IGxvd2VyLnN0YXJ0c1dpdGgoJ3RlbDonKSkge1xuICAgICAgcmV0dXJuIHJhdztcbiAgICB9XG4gICAgaWYgKC9eW2Etel0rOlxcL1xcLy9pLnRlc3QocmF3KSkge1xuICAgICAgcmV0dXJuIHJhdztcbiAgICB9XG4gICAgaWYgKHJhdy5zdGFydHNXaXRoKCcvLycpKSB7XG4gICAgICBjb25zdCB3aXRob3V0U2xhc2hlcyA9IHJhdy5zbGljZSgyKTtcbiAgICAgIGlmICh3aXRob3V0U2xhc2hlcy5pbmNsdWRlcygnLicpKSB7XG4gICAgICAgIHJldHVybiByYXc7XG4gICAgICB9XG4gICAgICBjb25zdCBjbGVhbmVkSW50ZXJuYWwgPSB3aXRob3V0U2xhc2hlcy5yZXBsYWNlKC9eXFwvKy8sICcnKS5yZXBsYWNlKC9cXC8rJC8sICcnKTtcbiAgICAgIHJldHVybiBjbGVhbmVkSW50ZXJuYWwgPyBgLyR7Y2xlYW5lZEludGVybmFsfWAgOiAnLyc7XG4gICAgfVxuICAgIGNvbnN0IGNsZWFuZWQgPSByYXcucmVwbGFjZSgvXlxcLysvLCAnJykucmVwbGFjZSgvXFwvKyQvLCAnJyk7XG4gICAgcmV0dXJuIGNsZWFuZWQgPyBgLyR7Y2xlYW5lZH1gIDogJy8nO1xuICB9O1xuICBjb25zdCBub3JtYWxpemVPcHRpb25hbE5hdlVybCA9ICh2YWx1ZSwgZGVmYXVsdFZhbHVlID0gJycpID0+IHtcbiAgICBjb25zdCB0cmltbWVkID0gKHZhbHVlIHx8ICcnKS50b1N0cmluZygpLnRyaW0oKTtcbiAgICBpZiAoIXRyaW1tZWQpIHtcbiAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBub3JtYWxpemVOYXZQYWdlVXJsKHRyaW1tZWQpO1xuICB9O1xuXG4gIGNvbnN0IHJlbmRlclBhZ2VDaGVja2JveGVzID0gKCkgPT4ge1xuICAgIGlmICghaGVhZGVyUGFnZXNMaXN0KSByZXR1cm47XG4gICAgaGVhZGVyUGFnZXNMaXN0LmlubmVySFRNTCA9ICcnO1xuXG4gICAgaWYgKHNpdGVQYWdlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgaGVhZGVyUGFnZXNMaXN0LmlubmVySFRNTCA9ICc8cCBjbGFzcz1cInRleHQteHMgdGV4dC1zbGF0ZS00MDAgaXRhbGljXCI+QXVjdW5lIHBhZ2UgZGlzcG9uaWJsZTwvcD4nO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBcbiAgICBzaXRlUGFnZXMuZm9yRWFjaChwYWdlID0+IHtcbiAgICAgIGNvbnN0IHBhZ2VTbHVnID0gcGFnZS5zbHVnIHx8IHBhZ2UuaWQgfHwgJyc7XG4gICAgICAvLyBVc2UgcGFnZS5uYW1lIChzaG9ydCBuYW1lKSBpZiBhdmFpbGFibGUsIGZhbGxiYWNrIHRvIHRpdGxlXG4gICAgICBjb25zdCBwYWdlRGlzcGxheU5hbWUgPSBwYWdlLm5hbWUgfHwgcGFnZS50aXRsZSB8fCBwYWdlU2x1ZztcbiAgICAgIGNvbnN0IHBhZ2VVcmwgPSBub3JtYWxpemVOYXZQYWdlVXJsKHBhZ2VTbHVnKTtcblxuICAgICAgLy8gVlx1MDBFOXJpZmllciBzaSBjZXR0ZSBwYWdlIGVzdCBzXHUwMEU5bGVjdGlvbm5cdTAwRTllIGRhbnMgbGEgbmF2XG4gICAgICBjb25zdCBpc1NlbGVjdGVkID0gc2VsZWN0ZWROYXZQYWdlcy5zb21lKG5hdiA9PiBuYXYudXJsID09PSBwYWdlVXJsKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgICAgICAgbGFiZWwuY2xhc3NOYW1lID0gJ2ZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHB4LTMgcHktMiByb3VuZGVkLWxnIGJvcmRlciBib3JkZXItc2xhdGUtMjAwIGhvdmVyOmJnLXNsYXRlLTUwIGN1cnNvci1wb2ludGVyIHRyYW5zaXRpb24tY29sb3JzJztcbiAgICAgICAgbGFiZWwuaW5uZXJIVE1MID0gYFxuICAgICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuYW1lPVwibmF2LXBhZ2VcIiB2YWx1ZT1cIiR7cGFnZVVybH1cIiBkYXRhLXBhZ2UtdGl0bGU9XCIke3BhZ2VEaXNwbGF5TmFtZX1cIlxuICAgICAgICAgICAgICAgICBjbGFzcz1cInctNCBoLTQgcm91bmRlZCBib3JkZXItc2xhdGUtMzAwIHRleHQtdmlvbGV0LTYwMCBmb2N1czpyaW5nLXZpb2xldC01MDBcIlxuICAgICAgICAgICAgICAgICAke2lzU2VsZWN0ZWQgPyAnY2hlY2tlZCcgOiAnJ30+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJmbGV4LTEgdGV4dC1zbSB0ZXh0LXNsYXRlLTcwMFwiPiR7cGFnZURpc3BsYXlOYW1lfTwvc3Bhbj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQteHMgdGV4dC1zbGF0ZS00MDBcIj4ke3BhZ2VVcmx9PC9zcGFuPlxuICAgICAgICBgO1xuICAgICAgICBcbiAgICAgICAgLy8gTWV0dHJlIFx1MDBFMCBqb3VyIHNlbGVjdGVkTmF2UGFnZXMgcXVhbmQgb24gY29jaGUvZFx1MDBFOWNvY2hlXG4gICAgICAgIGNvbnN0IGNoZWNrYm94ID0gbGFiZWwucXVlcnlTZWxlY3RvcignaW5wdXQnKTtcbiAgICAgICAgY2hlY2tib3guYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICAgICAgICAgIGlmIChjaGVja2JveC5jaGVja2VkKSB7XG4gICAgICAgICAgICAvLyBBam91dGVyIFx1MDBFMCBsYSBsaXN0ZVxuICAgICAgICAgICAgaWYgKCFzZWxlY3RlZE5hdlBhZ2VzLnNvbWUobmF2ID0+IG5hdi51cmwgPT09IHBhZ2VVcmwpKSB7XG4gICAgICAgICAgICAgIHNlbGVjdGVkTmF2UGFnZXMucHVzaCh7IGxhYmVsOiBwYWdlRGlzcGxheU5hbWUsIHVybDogcGFnZVVybCB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gUmV0aXJlciBkZSBsYSBsaXN0ZVxuICAgICAgICAgICAgc2VsZWN0ZWROYXZQYWdlcyA9IHNlbGVjdGVkTmF2UGFnZXMuZmlsdGVyKG5hdiA9PiBuYXYudXJsICE9PSBwYWdlVXJsKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgaGVhZGVyUGFnZXNMaXN0LmFwcGVuZENoaWxkKGxhYmVsKTtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgXG4gICAgY29uc3QgY29sbGVjdEhlYWRlckRhdGEgPSAoKSA9PiB7XG4gICAgICAvLyBDb2xsZWN0ZXIgbGVzIHBhZ2VzIGNvY2hcdTAwRTllcyBkYW5zIGwnb3JkcmUgYWN0dWVsXG4gICAgICBjb25zdCBuYXYgPSBbXTtcbiAgICAgIGhlYWRlclBhZ2VzTGlzdD8ucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbbmFtZT1cIm5hdi1wYWdlXCJdOmNoZWNrZWQnKS5mb3JFYWNoKGNoZWNrYm94ID0+IHtcbiAgICAgICAgY29uc3QgdXJsID0gbm9ybWFsaXplTmF2UGFnZVVybChjaGVja2JveC52YWx1ZSk7XG4gICAgICAgIGNvbnN0IGxhYmVsID0gY2hlY2tib3guZGF0YXNldC5wYWdlVGl0bGUgfHwgdXJsO1xuICAgICAgICBuYXYucHVzaCh7IGxhYmVsLCB1cmwgfSk7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbG9nbzoge1xuICAgICAgICAgIHNyYzogaGVhZGVyRmllbGRzLmxvZ28/LnZhbHVlPy50cmltKCkgfHwgJycsXG4gICAgICAgICAgYWx0OiBoZWFkZXJGaWVsZHMubG9nb0FsdD8udmFsdWU/LnRyaW0oKSB8fCAnJyxcbiAgICAgICAgICB1cmw6IG5vcm1hbGl6ZU9wdGlvbmFsTmF2VXJsKGhlYWRlckZpZWxkcy5sb2dvVXJsPy52YWx1ZSwgJy8nKSxcbiAgICAgICAgfSxcbiAgICAgICAgbmF2LFxuICAgICAgICBjdGE6IHtcbiAgICAgICAgICB0ZXh0OiBoZWFkZXJGaWVsZHMuY3RhVGV4dD8udmFsdWU/LnRyaW0oKSB8fCAnJyxcbiAgICAgICAgICB1cmw6IG5vcm1hbGl6ZU9wdGlvbmFsTmF2VXJsKGhlYWRlckZpZWxkcy5jdGFVcmw/LnZhbHVlLCAnJyksXG4gICAgICAgICAgc3R5bGU6IGhlYWRlckZpZWxkcy5jdGFTdHlsZT8udmFsdWUgfHwgJ3ByaW1hcnknLFxuICAgICAgICB9LFxuICAgICAgICBzdHlsZToge1xuICAgICAgICAgIHBvc2l0aW9uOiBoZWFkZXJGaWVsZHMucG9zaXRpb24/LnZhbHVlIHx8ICdzdGF0aWMnLFxuICAgICAgICAgIGJnOiBoZWFkZXJGaWVsZHMuYmc/LnZhbHVlIHx8ICdiZy13aGl0ZScsXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgIH07XG4gICAgXG4gICAgY29uc3QgcG9wdWxhdGVIZWFkZXJGb3JtID0gYXN5bmMgKGRhdGEpID0+IHtcbiAgICAgIGlmICghZGF0YSkgcmV0dXJuO1xuICAgICAgaWYgKGhlYWRlckZpZWxkcy5sb2dvKSBoZWFkZXJGaWVsZHMubG9nby52YWx1ZSA9IGRhdGEubG9nbz8uc3JjIHx8ICcnO1xuICAgICAgaWYgKGhlYWRlckZpZWxkcy5sb2dvQWx0KSBoZWFkZXJGaWVsZHMubG9nb0FsdC52YWx1ZSA9IGRhdGEubG9nbz8uYWx0IHx8ICcnO1xuICAgICAgaWYgKGhlYWRlckZpZWxkcy5sb2dvVXJsKSBoZWFkZXJGaWVsZHMubG9nb1VybC52YWx1ZSA9IG5vcm1hbGl6ZU9wdGlvbmFsTmF2VXJsKGRhdGEubG9nbz8udXJsLCAnLycpO1xuICAgICAgaWYgKGhlYWRlckZpZWxkcy5jdGFUZXh0KSBoZWFkZXJGaWVsZHMuY3RhVGV4dC52YWx1ZSA9IGRhdGEuY3RhPy50ZXh0IHx8ICcnO1xuICAgICAgaWYgKGhlYWRlckZpZWxkcy5jdGFVcmwpIGhlYWRlckZpZWxkcy5jdGFVcmwudmFsdWUgPSBub3JtYWxpemVPcHRpb25hbE5hdlVybChkYXRhLmN0YT8udXJsLCAnJyk7XG4gICAgICBpZiAoaGVhZGVyRmllbGRzLmN0YVN0eWxlKSBoZWFkZXJGaWVsZHMuY3RhU3R5bGUudmFsdWUgPSBkYXRhLmN0YT8uc3R5bGUgfHwgJ3ByaW1hcnknO1xuICAgICAgaWYgKGhlYWRlckZpZWxkcy5wb3NpdGlvbikgaGVhZGVyRmllbGRzLnBvc2l0aW9uLnZhbHVlID0gZGF0YS5zdHlsZT8ucG9zaXRpb24gfHwgJ3N0YXRpYyc7XG4gICAgICBpZiAoaGVhZGVyRmllbGRzLmJnKSBoZWFkZXJGaWVsZHMuYmcudmFsdWUgPSBkYXRhLnN0eWxlPy5iZyB8fCAnYmctd2hpdGUnO1xuICAgICAgXG4gICAgICAvLyBTdG9ja2VyIGxlcyBwYWdlcyBzXHUwMEU5bGVjdGlvbm5cdTAwRTllcyBwb3VyIGxlcyBjaGVja2JveGVzXG4gICAgICBzZWxlY3RlZE5hdlBhZ2VzID0gKGRhdGEubmF2IHx8IFtdKS5tYXAoKGl0ZW0pID0+ICh7XG4gICAgICAgIC4uLml0ZW0sXG4gICAgICAgIHVybDogbm9ybWFsaXplTmF2UGFnZVVybChpdGVtLnVybCksXG4gICAgICB9KSk7XG4gICAgICBcbiAgICAgIC8vIENoYXJnZXIgbGVzIHBhZ2VzIGV0IGFmZmljaGVyIGxlcyBjaGVja2JveGVzXG4gICAgICBhd2FpdCBsb2FkU2l0ZVBhZ2VzRm9ySGVhZGVyKCk7XG4gICAgICBcbiAgICAgIC8vIFVwZGF0ZSBzdGF0dXMgaW5kaWNhdG9yXG4gICAgICBjb25zdCBoYXNEYXRhID0gZGF0YS5sb2dvPy5zcmMgfHwgZGF0YS5uYXY/Lmxlbmd0aCA+IDAgfHwgZGF0YS5jdGE/LnRleHQ7XG4gICAgICBpZiAoaGVhZGVyU3RhdHVzSW5kaWNhdG9yKSB7XG4gICAgICAgIGhlYWRlclN0YXR1c0luZGljYXRvci5jbGFzc0xpc3QudG9nZ2xlKCdiZy1ncmVlbi01MDAnLCAhIWhhc0RhdGEpO1xuICAgICAgICBoZWFkZXJTdGF0dXNJbmRpY2F0b3IuY2xhc3NMaXN0LnRvZ2dsZSgnYmctc2xhdGUtMzAwJywgIWhhc0RhdGEpO1xuICAgICAgICBoZWFkZXJTdGF0dXNJbmRpY2F0b3IudGl0bGUgPSBoYXNEYXRhID8gJ0NvbmZpZ3VyXHUwMEU5JyA6ICdOb24gY29uZmlndXJcdTAwRTknO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBoZWFkZXJTYXZlQnRuPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghbGF5b3V0QXBpQmFzZSkgcmV0dXJuO1xuICAgICAgaGVhZGVyU2F2ZUJ0bi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICBoZWFkZXJTYXZlQnRuLnRleHRDb250ZW50ID0gJ0VucmVnaXN0cmVtZW50Li4uJztcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBjb2xsZWN0SGVhZGVyRGF0YSgpO1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke2xheW91dEFwaUJhc2V9L2hlYWRlcmAsIHtcbiAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZScsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB0aHJvdyBuZXcgRXJyb3IoJ0VycmV1ciBzZXJ2ZXVyJyk7XG4gICAgICAgIGhlYWRlckRhdGEgPSBkYXRhO1xuICAgICAgICBwb3B1bGF0ZUhlYWRlckZvcm0oZGF0YSk7XG4gICAgICAgIHNob3dUb2FzdCgnSGVhZGVyIGVucmVnaXN0clx1MDBFOScpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1toZWFkZXJdIHNhdmUgZXJyb3InLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoJ0VycmV1ciBsb3JzIGRlIGxcXCdlbnJlZ2lzdHJlbWVudCcsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaGVhZGVyU2F2ZUJ0bi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICBoZWFkZXJTYXZlQnRuLnRleHRDb250ZW50ID0gJ0VucmVnaXN0cmVyJztcbiAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICAvLyBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcbiAgICAvLyBGT09URVIgRlVOQ1RJT05TXG4gICAgLy8gXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXG4gICAgY29uc3QgYWRkRm9vdGVyTGluayA9IChjb250YWluZXIsIGxhYmVsID0gJycsIHVybCA9ICcnKSA9PiB7XG4gICAgICBpZiAoIWZvb3RlckxpbmtUZW1wbGF0ZSB8fCAhY29udGFpbmVyKSByZXR1cm47XG4gICAgICBjb25zdCBjbG9uZSA9IGZvb3RlckxpbmtUZW1wbGF0ZS5jb250ZW50LmNsb25lTm9kZSh0cnVlKTtcbiAgICAgIGNvbnN0IGl0ZW0gPSBjbG9uZS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1mb290ZXItbGlua10nKTtcbiAgICAgIGNvbnN0IGxhYmVsSW5wdXQgPSBjbG9uZS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImxpbmstbGFiZWxcIl0nKTtcbiAgICAgIGNvbnN0IHVybElucHV0ID0gY2xvbmUucXVlcnlTZWxlY3RvcignW25hbWU9XCJsaW5rLXVybFwiXScpO1xuICAgICAgY29uc3QgcmVtb3ZlQnRuID0gY2xvbmUucXVlcnlTZWxlY3RvcignW2RhdGEtbGluay1yZW1vdmVdJyk7XG4gICAgICBpZiAobGFiZWxJbnB1dCkgbGFiZWxJbnB1dC52YWx1ZSA9IGxhYmVsO1xuICAgICAgaWYgKHVybElucHV0KSB1cmxJbnB1dC52YWx1ZSA9IHVybDtcbiAgICAgIHJlbW92ZUJ0bj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBpdGVtPy5yZW1vdmUoKSk7XG4gICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoY2xvbmUpO1xuICAgIH07XG4gICAgXG4gICAgY29uc3QgYWRkRm9vdGVyQ29sdW1uID0gKHRpdGxlID0gJycsIGxpbmtzID0gW10pID0+IHtcbiAgICAgIGlmICghZm9vdGVyQ29sdW1uVGVtcGxhdGUgfHwgIWZvb3RlckNvbHVtbnNMaXN0KSByZXR1cm47XG4gICAgICBjb25zdCBjbG9uZSA9IGZvb3RlckNvbHVtblRlbXBsYXRlLmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpO1xuICAgICAgY29uc3QgY29sdW1uID0gY2xvbmUucXVlcnlTZWxlY3RvcignW2RhdGEtZm9vdGVyLWNvbHVtbl0nKTtcbiAgICAgIGNvbnN0IHRpdGxlSW5wdXQgPSBjbG9uZS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImNvbHVtbi10aXRsZVwiXScpO1xuICAgICAgY29uc3QgbGlua3NDb250YWluZXIgPSBjbG9uZS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2x1bW4tbGlua3NdJyk7XG4gICAgICBjb25zdCBhZGRMaW5rQnRuID0gY2xvbmUucXVlcnlTZWxlY3RvcignW2RhdGEtY29sdW1uLWxpbmstYWRkXScpO1xuICAgICAgY29uc3QgcmVtb3ZlQnRuID0gY2xvbmUucXVlcnlTZWxlY3RvcignW2RhdGEtY29sdW1uLXJlbW92ZV0nKTtcbiAgICAgIGlmICh0aXRsZUlucHV0KSB0aXRsZUlucHV0LnZhbHVlID0gdGl0bGU7XG4gICAgICBsaW5rcy5mb3JFYWNoKGxpbmsgPT4gYWRkRm9vdGVyTGluayhsaW5rc0NvbnRhaW5lciwgbGluay5sYWJlbCwgbGluay51cmwpKTtcbiAgICAgIGFkZExpbmtCdG4/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gYWRkRm9vdGVyTGluayhsaW5rc0NvbnRhaW5lcikpO1xuICAgICAgcmVtb3ZlQnRuPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGNvbHVtbj8ucmVtb3ZlKCkpO1xuICAgICAgZm9vdGVyQ29sdW1uc0xpc3QuYXBwZW5kQ2hpbGQoY2xvbmUpO1xuICAgIH07XG4gICAgXG4gICAgY29uc3QgY29sbGVjdEZvb3RlckRhdGEgPSAoKSA9PiB7XG4gICAgICBjb25zdCBjb2x1bW5zID0gW107XG4gICAgICBmb290ZXJDb2x1bW5zTGlzdD8ucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtZm9vdGVyLWNvbHVtbl0nKS5mb3JFYWNoKGNvbCA9PiB7XG4gICAgICAgIGNvbnN0IHRpdGxlID0gY29sLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiY29sdW1uLXRpdGxlXCJdJyk/LnZhbHVlPy50cmltKCkgfHwgJyc7XG4gICAgICAgIGNvbnN0IGxpbmtzID0gW107XG4gICAgICAgIGNvbC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1mb290ZXItbGlua10nKS5mb3JFYWNoKGxpbmtFbCA9PiB7XG4gICAgICAgICAgY29uc3QgbGFiZWwgPSBsaW5rRWwucXVlcnlTZWxlY3RvcignW25hbWU9XCJsaW5rLWxhYmVsXCJdJyk/LnZhbHVlPy50cmltKCkgfHwgJyc7XG4gICAgICAgICAgY29uc3QgdXJsID0gbGlua0VsLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwibGluay11cmxcIl0nKT8udmFsdWU/LnRyaW0oKSB8fCAnJztcbiAgICAgICAgICBpZiAobGFiZWwgfHwgdXJsKSBsaW5rcy5wdXNoKHsgbGFiZWwsIHVybCB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh0aXRsZSB8fCBsaW5rcy5sZW5ndGggPiAwKSBjb2x1bW5zLnB1c2goeyB0aXRsZSwgbGlua3MgfSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNvbHVtbnMsXG4gICAgICAgIHNvY2lhbHM6IHtcbiAgICAgICAgICBsaW5rZWRpbjogZm9vdGVyRmllbGRzLmxpbmtlZGluPy52YWx1ZT8udHJpbSgpIHx8ICcnLFxuICAgICAgICAgIHR3aXR0ZXI6IGZvb3RlckZpZWxkcy50d2l0dGVyPy52YWx1ZT8udHJpbSgpIHx8ICcnLFxuICAgICAgICAgIGluc3RhZ3JhbTogZm9vdGVyRmllbGRzLmluc3RhZ3JhbT8udmFsdWU/LnRyaW0oKSB8fCAnJyxcbiAgICAgICAgICBmYWNlYm9vazogZm9vdGVyRmllbGRzLmZhY2Vib29rPy52YWx1ZT8udHJpbSgpIHx8ICcnLFxuICAgICAgICAgIHlvdXR1YmU6IGZvb3RlckZpZWxkcy55b3V0dWJlPy52YWx1ZT8udHJpbSgpIHx8ICcnLFxuICAgICAgICAgIGdpdGh1YjogZm9vdGVyRmllbGRzLmdpdGh1Yj8udmFsdWU/LnRyaW0oKSB8fCAnJyxcbiAgICAgICAgfSxcbiAgICAgICAgY29weXJpZ2h0OiBmb290ZXJGaWVsZHMuY29weXJpZ2h0Py52YWx1ZT8udHJpbSgpIHx8ICcnLFxuICAgICAgICBsZWdhbDoge1xuICAgICAgICAgIHVybDogZm9vdGVyRmllbGRzLmxlZ2FsVXJsPy52YWx1ZT8udHJpbSgpIHx8ICcnLFxuICAgICAgICAgIHByaXZhY3lVcmw6IGZvb3RlckZpZWxkcy5wcml2YWN5VXJsPy52YWx1ZT8udHJpbSgpIHx8ICcnLFxuICAgICAgICB9LFxuICAgICAgICBzdHlsZToge1xuICAgICAgICAgIGJnOiBmb290ZXJGaWVsZHMuYmc/LnZhbHVlIHx8ICdiZy1zbGF0ZS05MDAgdGV4dC13aGl0ZScsXG4gICAgICAgICAgY29sdW1uc0NvdW50OiBmb290ZXJGaWVsZHMuY29sdW1uc0NvdW50Py52YWx1ZSB8fCAnNCcsXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgIH07XG4gICAgXG4gICAgY29uc3QgcG9wdWxhdGVGb290ZXJGb3JtID0gKGRhdGEpID0+IHtcbiAgICAgIGlmICghZGF0YSkgcmV0dXJuO1xuICAgICAgaWYgKGZvb3RlckZpZWxkcy5saW5rZWRpbikgZm9vdGVyRmllbGRzLmxpbmtlZGluLnZhbHVlID0gZGF0YS5zb2NpYWxzPy5saW5rZWRpbiB8fCAnJztcbiAgICAgIGlmIChmb290ZXJGaWVsZHMudHdpdHRlcikgZm9vdGVyRmllbGRzLnR3aXR0ZXIudmFsdWUgPSBkYXRhLnNvY2lhbHM/LnR3aXR0ZXIgfHwgJyc7XG4gICAgICBpZiAoZm9vdGVyRmllbGRzLmluc3RhZ3JhbSkgZm9vdGVyRmllbGRzLmluc3RhZ3JhbS52YWx1ZSA9IGRhdGEuc29jaWFscz8uaW5zdGFncmFtIHx8ICcnO1xuICAgICAgaWYgKGZvb3RlckZpZWxkcy5mYWNlYm9vaykgZm9vdGVyRmllbGRzLmZhY2Vib29rLnZhbHVlID0gZGF0YS5zb2NpYWxzPy5mYWNlYm9vayB8fCAnJztcbiAgICAgIGlmIChmb290ZXJGaWVsZHMueW91dHViZSkgZm9vdGVyRmllbGRzLnlvdXR1YmUudmFsdWUgPSBkYXRhLnNvY2lhbHM/LnlvdXR1YmUgfHwgJyc7XG4gICAgICBpZiAoZm9vdGVyRmllbGRzLmdpdGh1YikgZm9vdGVyRmllbGRzLmdpdGh1Yi52YWx1ZSA9IGRhdGEuc29jaWFscz8uZ2l0aHViIHx8ICcnO1xuICAgICAgaWYgKGZvb3RlckZpZWxkcy5jb3B5cmlnaHQpIGZvb3RlckZpZWxkcy5jb3B5cmlnaHQudmFsdWUgPSBkYXRhLmNvcHlyaWdodCB8fCAnJztcbiAgICAgIGlmIChmb290ZXJGaWVsZHMubGVnYWxVcmwpIGZvb3RlckZpZWxkcy5sZWdhbFVybC52YWx1ZSA9IGRhdGEubGVnYWw/LnVybCB8fCAnJztcbiAgICAgIGlmIChmb290ZXJGaWVsZHMucHJpdmFjeVVybCkgZm9vdGVyRmllbGRzLnByaXZhY3lVcmwudmFsdWUgPSBkYXRhLmxlZ2FsPy5wcml2YWN5VXJsIHx8ICcnO1xuICAgICAgaWYgKGZvb3RlckZpZWxkcy5iZykgZm9vdGVyRmllbGRzLmJnLnZhbHVlID0gZGF0YS5zdHlsZT8uYmcgfHwgJ2JnLXNsYXRlLTkwMCB0ZXh0LXdoaXRlJztcbiAgICAgIGlmIChmb290ZXJGaWVsZHMuY29sdW1uc0NvdW50KSBmb290ZXJGaWVsZHMuY29sdW1uc0NvdW50LnZhbHVlID0gZGF0YS5zdHlsZT8uY29sdW1uc0NvdW50IHx8ICc0JztcbiAgICAgIC8vIFBvcHVsYXRlIGNvbHVtbnNcbiAgICAgIGlmIChmb290ZXJDb2x1bW5zTGlzdCkgZm9vdGVyQ29sdW1uc0xpc3QuaW5uZXJIVE1MID0gJyc7XG4gICAgICAoZGF0YS5jb2x1bW5zIHx8IFtdKS5mb3JFYWNoKGNvbCA9PiBhZGRGb290ZXJDb2x1bW4oY29sLnRpdGxlLCBjb2wubGlua3MpKTtcbiAgICAgIC8vIFVwZGF0ZSBzdGF0dXMgaW5kaWNhdG9yXG4gICAgICBjb25zdCBoYXNEYXRhID0gZGF0YS5jb2x1bW5zPy5sZW5ndGggPiAwIHx8IGRhdGEuY29weXJpZ2h0IHx8IE9iamVjdC52YWx1ZXMoZGF0YS5zb2NpYWxzIHx8IHt9KS5zb21lKHYgPT4gdik7XG4gICAgICBpZiAoZm9vdGVyU3RhdHVzSW5kaWNhdG9yKSB7XG4gICAgICAgIGZvb3RlclN0YXR1c0luZGljYXRvci5jbGFzc0xpc3QudG9nZ2xlKCdiZy1ncmVlbi01MDAnLCAhIWhhc0RhdGEpO1xuICAgICAgICBmb290ZXJTdGF0dXNJbmRpY2F0b3IuY2xhc3NMaXN0LnRvZ2dsZSgnYmctc2xhdGUtMzAwJywgIWhhc0RhdGEpO1xuICAgICAgICBmb290ZXJTdGF0dXNJbmRpY2F0b3IudGl0bGUgPSBoYXNEYXRhID8gJ0NvbmZpZ3VyXHUwMEU5JyA6ICdOb24gY29uZmlndXJcdTAwRTknO1xuICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgZm9vdGVyQ29sdW1uQWRkQnRuPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGFkZEZvb3RlckNvbHVtbigpKTtcbiAgICBcbiAgICBmb290ZXJTYXZlQnRuPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghbGF5b3V0QXBpQmFzZSkgcmV0dXJuO1xuICAgICAgZm9vdGVyU2F2ZUJ0bi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICBmb290ZXJTYXZlQnRuLnRleHRDb250ZW50ID0gJ0VucmVnaXN0cmVtZW50Li4uJztcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBjb2xsZWN0Rm9vdGVyRGF0YSgpO1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke2xheW91dEFwaUJhc2V9L2Zvb3RlcmAsIHtcbiAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZScsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB0aHJvdyBuZXcgRXJyb3IoJ0VycmV1ciBzZXJ2ZXVyJyk7XG4gICAgICAgIGZvb3RlckRhdGEgPSBkYXRhO1xuICAgICAgICBwb3B1bGF0ZUZvb3RlckZvcm0oZGF0YSk7XG4gICAgICAgIHNob3dUb2FzdCgnRm9vdGVyIGVucmVnaXN0clx1MDBFOScpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tmb290ZXJdIHNhdmUgZXJyb3InLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoJ0VycmV1ciBsb3JzIGRlIGxcXCdlbnJlZ2lzdHJlbWVudCcsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgZm9vdGVyU2F2ZUJ0bi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICBmb290ZXJTYXZlQnRuLnRleHRDb250ZW50ID0gJ0VucmVnaXN0cmVyJztcbiAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICAvLyBMb2FkIGxheW91dCBkYXRhIG9uIGluaXRcbiAgICBjb25zdCBsb2FkTGF5b3V0RGF0YSA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghbGF5b3V0QXBpQmFzZSkgcmV0dXJuO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChsYXlvdXRBcGlCYXNlLCB7IGNyZWRlbnRpYWxzOiAnaW5jbHVkZScgfSk7XG4gICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgaWYgKGRhdGEuaGVhZGVyKSB7XG4gICAgICAgICAgICBoZWFkZXJEYXRhID0gZGF0YS5oZWFkZXI7XG4gICAgICAgICAgICBwb3B1bGF0ZUhlYWRlckZvcm0oZGF0YS5oZWFkZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZGF0YS5mb290ZXIpIHtcbiAgICAgICAgICAgIGZvb3RlckRhdGEgPSBkYXRhLmZvb3RlcjtcbiAgICAgICAgICAgIHBvcHVsYXRlRm9vdGVyRm9ybShkYXRhLmZvb3Rlcik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2xheW91dF0gbG9hZCBlcnJvcicsIGVycik7XG4gICAgICB9XG4gICAgfTtcbiAgICBcbiAgICAvLyBJbml0aWFsaXplIGxheW91dCBkYXRhXG4gICAgbG9hZExheW91dERhdGEoKTtcbiAgICBcbiAgICBjb25zdCBzYWZlU2l0ZVNsdWdWYWx1ZSA9IHN0cmlwTGVhZGluZ1NsYXNoKFxuICAgICAgd29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyxcbiAgICApO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25zQXBpQmFzZSA9IHNhZmVTaXRlU2x1Z1ZhbHVlXG4gICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Z1ZhbHVlKX0vY29sbGVjdGlvbnNgXG4gICAgICA6IG51bGw7XG5cbiAgICBsZXQgY29sbGVjdGlvbnMgPSBbXTtcbiAgICBsZXQgY29sbGVjdGlvbkl0ZW1zID0gW107XG4gICAgbGV0IGFjdGl2ZUNvbGxlY3Rpb25JZCA9IG51bGw7XG4gICAgbGV0IGFjdGl2ZUl0ZW1JZCA9IG51bGw7XG4gICAgbGV0IGlzQ3JlYXRpbmdJdGVtID0gZmFsc2U7XG4gICAgbGV0IGl0ZW1TbHVnTWFudWFsbHlFZGl0ZWQgPSBmYWxzZTtcbiAgICBsZXQgcGVuZGluZ0RlbGV0ZUl0ZW1JZCA9IG51bGw7XG5cbiAgICBjb25zdCBub3JtYWxpemVJdGVtU2x1Z0lucHV0ID0gKHZhbHVlKSA9PiB7XG4gICAgICBjb25zdCByYXcgPSAodmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgIGlmICghcmF3KSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICAgIH1cbiAgICAgIGlmIChyYXcgPT09ICcvJykge1xuICAgICAgICByZXR1cm4gJy8nO1xuICAgICAgfVxuICAgICAgY29uc3Qgc2VnbWVudHMgPSByYXcucmVwbGFjZSgvXlxcLy8sICcnKS5zcGxpdCgnLycpO1xuICAgICAgY29uc3QgY2xlYW5lZFNlZ21lbnRzID0gc2VnbWVudHNcbiAgICAgICAgLm1hcCgoc2VnbWVudCkgPT4gd29ya3NwYWNlU2x1Z2lmeShzZWdtZW50IHx8ICcnKSlcbiAgICAgICAgLmZpbHRlcigoc2VnbWVudCkgPT4gc2VnbWVudC5sZW5ndGggPiAwKTtcbiAgICAgIGlmICghY2xlYW5lZFNlZ21lbnRzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgICB9XG4gICAgICByZXR1cm4gYC8ke2NsZWFuZWRTZWdtZW50cy5qb2luKCcvJyl9YDtcbiAgICB9O1xuXG4gICAgY29uc3QgZm9ybWF0SXRlbURhdGUgPSAodmFsdWUpID0+IHtcbiAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuICdcdTIwMTQnO1xuICAgICAgfVxuICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKHZhbHVlKTtcbiAgICAgIGlmIChOdW1iZXIuaXNOYU4oZGF0ZS5nZXRUaW1lKCkpKSB7XG4gICAgICAgIHJldHVybiAnXHUyMDE0JztcbiAgICAgIH1cbiAgICAgIHJldHVybiBkYXRlLnRvTG9jYWxlRGF0ZVN0cmluZygnZnItRlInLCB7IGRheTogJzItZGlnaXQnLCBtb250aDogJ3Nob3J0JywgeWVhcjogJ251bWVyaWMnIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCB1cGRhdGVDb2xsZWN0aW9uSGVhZGVyID0gKCkgPT4ge1xuICAgICAgY29uc3QgY29sbGVjdGlvbiA9IGNvbGxlY3Rpb25zLmZpbmQoKGVudHJ5KSA9PiBlbnRyeS5pZCA9PT0gYWN0aXZlQ29sbGVjdGlvbklkKTtcbiAgICAgIGlmIChjb2xsZWN0aW9uVGl0bGUpIHtcbiAgICAgICAgY29sbGVjdGlvblRpdGxlLnRleHRDb250ZW50ID0gY29sbGVjdGlvbj8ubmFtZSB8fCAnU1x1MDBFOWxlY3Rpb25uZXogdW5lIGNvbGxlY3Rpb24nO1xuICAgICAgfVxuICAgICAgaWYgKGNvbGxlY3Rpb25EZXNjcmlwdGlvbikge1xuICAgICAgICBjb2xsZWN0aW9uRGVzY3JpcHRpb24udGV4dENvbnRlbnQgPSBjb2xsZWN0aW9uPy5kZXNjcmlwdGlvbiB8fCAnJztcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgdXBkYXRlSXRlbXNFbXB0eU1lc3NhZ2UgPSAobWVzc2FnZSkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uSXRlbXNFbXB0eSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb2xsZWN0aW9uSXRlbXNFbXB0eS50ZXh0Q29udGVudCA9XG4gICAgICAgIG1lc3NhZ2UgfHxcbiAgICAgICAgKGFjdGl2ZUNvbGxlY3Rpb25JZFxuICAgICAgICAgID8gJ0F1Y3VuIGl0ZW0gZGFucyBjZXR0ZSBjb2xsZWN0aW9uIHBvdXIgbGUgbW9tZW50LidcbiAgICAgICAgICA6ICdDaG9pc2lzc2V6IHVuZSBjb2xsZWN0aW9uIGRhbnMgbGUgcGFubmVhdSBkZSBnYXVjaGUuJyk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhpZGVJdGVtRm9ybSA9ICgpID0+IHtcbiAgICAgIGlmIChpdGVtRm9ybSkge1xuICAgICAgICBpdGVtRm9ybS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgaXRlbUZvcm0uZGF0YXNldC5pdGVtSWQgPSAnJztcbiAgICAgIH1cbiAgICAgIGl0ZW1EZXRhaWxFbXB0eT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBpZiAoaXRlbVN0YXR1c0JhZGdlKSB7XG4gICAgICAgIGl0ZW1TdGF0dXNCYWRnZS5jbGFzc05hbWUgPSBgaGlkZGVuICR7c3RhdHVzQmFkZ2VCYXNlQ2xhc3N9YDtcbiAgICAgICAgaXRlbVN0YXR1c0JhZGdlLnRleHRDb250ZW50ID0gJyc7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbURlbGV0ZUJ1dHRvbikge1xuICAgICAgICBpdGVtRGVsZXRlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHN5bmNJdGVtUGFuZWxXaXRoVmlld3BvcnQoKTtcbiAgICB9O1xuXG4gICAgY29uc3Qgc2hvd0l0ZW1Gb3JtID0gKCkgPT4ge1xuICAgICAgaWYgKCFpdGVtRm9ybSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpdGVtRm9ybS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGl0ZW1EZXRhaWxFbXB0eT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBzeW5jSXRlbVBhbmVsV2l0aFZpZXdwb3J0KCk7XG4gICAgfTtcblxuICAgIGNvbnN0IHN5bmNBZGRCdXR0b25TdGF0ZSA9ICgpID0+IHtcbiAgICAgIGlmICghaXRlbUFkZEJ1dHRvbikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpdGVtQWRkQnV0dG9uLmRpc2FibGVkID0gIWFjdGl2ZUNvbGxlY3Rpb25JZDtcbiAgICAgIGlmIChpdGVtQWRkQnV0dG9uLmRpc2FibGVkKSB7XG4gICAgICAgIGl0ZW1BZGRCdXR0b24uY2xhc3NMaXN0LmFkZCgnb3BhY2l0eS02MCcsICdwb2ludGVyLWV2ZW50cy1ub25lJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpdGVtQWRkQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ29wYWNpdHktNjAnLCAncG9pbnRlci1ldmVudHMtbm9uZScpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBzeW5jSXRlbVN0YXR1c0JhZGdlID0gKHN0YXR1cykgPT4ge1xuICAgICAgaWYgKCFpdGVtU3RhdHVzQmFkZ2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFzdGF0dXMpIHtcbiAgICAgICAgaXRlbVN0YXR1c0JhZGdlLmNsYXNzTmFtZSA9IGBoaWRkZW4gJHtzdGF0dXNCYWRnZUJhc2VDbGFzc31gO1xuICAgICAgICBpdGVtU3RhdHVzQmFkZ2UudGV4dENvbnRlbnQgPSAnJztcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IHN0YXR1cy50b0xvd2VyQ2FzZSgpO1xuICAgICAgbGV0IGNvbG9yQ2xhc3MgPSAnYmctc2xhdGUtMTAwIHRleHQtc2xhdGUtNjAwIGJvcmRlciBib3JkZXItc2xhdGUtMjAwJztcbiAgICAgIGlmIChub3JtYWxpemVkID09PSAncHVibGlcdTAwRTknIHx8IG5vcm1hbGl6ZWQgPT09ICdwdWJsaWUnKSB7XG4gICAgICAgIGNvbG9yQ2xhc3MgPSAnYmctZW1lcmFsZC01MCB0ZXh0LWVtZXJhbGQtNzAwIGJvcmRlciBib3JkZXItZW1lcmFsZC0xMDAnO1xuICAgICAgfSBlbHNlIGlmIChub3JtYWxpemVkID09PSAnYnJvdWlsbG9uJykge1xuICAgICAgICBjb2xvckNsYXNzID0gJ2JnLWFtYmVyLTUwIHRleHQtYW1iZXItNzAwIGJvcmRlciBib3JkZXItYW1iZXItMTAwJztcbiAgICAgIH1cbiAgICAgIGl0ZW1TdGF0dXNCYWRnZS5jbGFzc05hbWUgPSBgJHtzdGF0dXNCYWRnZUJhc2VDbGFzc30gJHtjb2xvckNsYXNzfWA7XG4gICAgICBpdGVtU3RhdHVzQmFkZ2UudGV4dENvbnRlbnQgPSBzdGF0dXM7XG4gICAgfTtcblxuICAgIGNvbnN0IHJlbmRlckNvbGxlY3Rpb25MaXN0ID0gKCkgPT4ge1xuICAgICAgY29sbGVjdGlvbkxpc3QuaW5uZXJIVE1MID0gJyc7XG4gICAgICAvLyBVcGRhdGUgY29sbGVjdGlvbiBjb3VudFxuICAgICAgaWYgKGNvbGxlY3Rpb25Db3VudEVsKSBjb2xsZWN0aW9uQ291bnRFbC50ZXh0Q29udGVudCA9IGNvbGxlY3Rpb25zLmxlbmd0aDtcbiAgICAgIGlmICghY29sbGVjdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgIGNvbGxlY3Rpb25FbXB0eVN0YXRlPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29sbGVjdGlvbkVtcHR5U3RhdGU/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgY29sbGVjdGlvbnMuZm9yRWFjaCgoY29sbGVjdGlvbikgPT4ge1xuICAgICAgICBjb25zdCBpc0FjdGl2ZSA9IGNvbGxlY3Rpb24uaWQgPT09IGFjdGl2ZUNvbGxlY3Rpb25JZDtcbiAgICAgICAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIGJ1dHRvbi50eXBlID0gJ2J1dHRvbic7XG4gICAgICAgIGJ1dHRvbi5kYXRhc2V0LmNvbGxlY3Rpb25JZCA9IGNvbGxlY3Rpb24uaWQ7XG4gICAgICAgIGJ1dHRvbi5jbGFzc05hbWUgPSBbXG4gICAgICAgICAgJ3ctZnVsbCByb3VuZGVkLXhsIGJvcmRlciBweC0zIHB5LTIgdGV4dC1sZWZ0IHRyYW5zaXRpb24gZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLVsjOUM2QkZGXS80MCcsXG4gICAgICAgICAgaXNBY3RpdmVcbiAgICAgICAgICAgID8gJ2JnLVsjRjdGMEZGXSBib3JkZXItWyM5QzZCRkZdLzQwIHRleHQtc2xhdGUtOTAwJ1xuICAgICAgICAgICAgOiAnYm9yZGVyLXNsYXRlLTIwMCB0ZXh0LXNsYXRlLTcwMCBob3Zlcjpib3JkZXItWyM5QzZCRkZdLzQwJyxcbiAgICAgICAgXS5qb2luKCcgJyk7XG4gICAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnb3B0aW9uJyk7XG4gICAgICAgIGlmIChpc0FjdGl2ZSkge1xuICAgICAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtY3VycmVudCcsICd0cnVlJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYnV0dG9uLnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1jdXJyZW50Jyk7XG4gICAgICAgIH1cbiAgICAgICAgYnV0dG9uLmlubmVySFRNTCA9IGBcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIGdhcC0yXCI+XG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQtc20gZm9udC1zZW1pYm9sZFwiPiR7Y29sbGVjdGlvbi5uYW1lIHx8IGNvbGxlY3Rpb24uaWR9PC9wPlxuICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQteHMgdGV4dC1zbGF0ZS01MDBcIj4ke2NvbGxlY3Rpb24uZGVzY3JpcHRpb24gfHwgJyd9PC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQtWzExcHhdIHVwcGVyY2FzZSB0cmFja2luZy13aWRlIHRleHQtc2xhdGUtNDAwXCI+JHtjb2xsZWN0aW9uLnR5cGUgfHwgJyd9PC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICBgO1xuICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgc2V0QWN0aXZlQ29sbGVjdGlvbihjb2xsZWN0aW9uLmlkKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbGxlY3Rpb25MaXN0LmFwcGVuZENoaWxkKGJ1dHRvbik7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgcmVuZGVySXRlbVRhYmxlID0gKCkgPT4ge1xuICAgICAgaWYgKCFpdGVtVGFibGVCb2R5KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGl0ZW1UYWJsZUJvZHkuaW5uZXJIVE1MID0gJyc7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25JdGVtcy5sZW5ndGggfHwgIWFjdGl2ZUNvbGxlY3Rpb25JZCkge1xuICAgICAgICBjb2xsZWN0aW9uSXRlbXNFbXB0eT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIHVwZGF0ZUl0ZW1zRW1wdHlNZXNzYWdlKCk7XG4gICAgICAgIGl0ZW1UYWJsZVdyYXBwZXI/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb2xsZWN0aW9uSXRlbXNFbXB0eT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBpdGVtVGFibGVXcmFwcGVyPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGNvbGxlY3Rpb25JdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgIGNvbnN0IHJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyJyk7XG4gICAgICAgIHJvdy5kYXRhc2V0Lml0ZW1JZCA9IGl0ZW0uaWQ7XG4gICAgICAgIGNvbnN0IGlzQWN0aXZlID0gaXRlbS5pZCA9PT0gYWN0aXZlSXRlbUlkICYmICFpc0NyZWF0aW5nSXRlbTtcbiAgICAgICAgcm93LmNsYXNzTmFtZSA9IFtcbiAgICAgICAgICAnY3Vyc29yLXBvaW50ZXIgdHJhbnNpdGlvbiBmb2N1cy13aXRoaW46YmctWyNGN0YwRkZdLzcwIGZvY3VzOm91dGxpbmUtbm9uZScsXG4gICAgICAgICAgaXNBY3RpdmUgPyAnYmctWyNGN0YwRkZdLzcwJyA6ICdob3ZlcjpiZy1zbGF0ZS01MCcsXG4gICAgICAgIF0uam9pbignICcpO1xuICAgICAgICByb3cudGFiSW5kZXggPSAwO1xuICAgICAgICByb3cuc2V0QXR0cmlidXRlKCdyb2xlJywgJ2J1dHRvbicpO1xuICAgICAgICBpZiAoaXNBY3RpdmUpIHtcbiAgICAgICAgICByb3cuc2V0QXR0cmlidXRlKCdhcmlhLWN1cnJlbnQnLCAndHJ1ZScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJvdy5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtY3VycmVudCcpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHN0YXR1cyA9IGl0ZW0uc3RhdHVzIHx8ICdCcm91aWxsb24nO1xuICAgICAgICBjb25zdCBub3JtYWxpemVkID0gc3RhdHVzLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGNvbnN0IHN0YXR1c0NsYXNzZXMgPVxuICAgICAgICAgIG5vcm1hbGl6ZWQgPT09ICdwdWJsaVx1MDBFOScgfHwgbm9ybWFsaXplZCA9PT0gJ3B1YmxpZSdcbiAgICAgICAgICAgID8gJ2JnLWVtZXJhbGQtNTAgdGV4dC1lbWVyYWxkLTcwMCBib3JkZXIgYm9yZGVyLWVtZXJhbGQtMTAwJ1xuICAgICAgICAgICAgOiAnYmctYW1iZXItNTAgdGV4dC1hbWJlci03MDAgYm9yZGVyIGJvcmRlci1hbWJlci0xMDAnO1xuICAgICAgICByb3cuaW5uZXJIVE1MID0gYFxuICAgICAgICAgIDx0ZCBjbGFzcz1cInB4LTQgcHktMyBhbGlnbi10b3BcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC1zbSBmb250LXNlbWlib2xkIHRleHQtc2xhdGUtOTAwXCI+JHtpdGVtLnRpdGxlIHx8ICdTYW5zIHRpdHJlJ308L3NwYW4+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC14cyB0ZXh0LXNsYXRlLTUwMFwiPiR7aXRlbS5zdW1tYXJ5IHx8IGl0ZW0uZXhjZXJwdCB8fCAnJ308L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L3RkPlxuICAgICAgICAgIDx0ZCBjbGFzcz1cInB4LTQgcHktMyBhbGlnbi10b3AgdGV4dC1zbSB0ZXh0LXNsYXRlLTYwMFwiPiR7aXRlbS5zbHVnIHx8ICcnfTwvdGQ+XG4gICAgICAgICAgPHRkIGNsYXNzPVwicHgtNCBweS0zIGFsaWduLXRvcFwiPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgcm91bmRlZC1mdWxsIHB4LTMgcHktMSB0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgJHtzdGF0dXNDbGFzc2VzfVwiPlxuICAgICAgICAgICAgICAke3N0YXR1c31cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L3RkPlxuICAgICAgICAgIDx0ZCBjbGFzcz1cInB4LTQgcHktMyBhbGlnbi10b3AgdGV4dC1zbSB0ZXh0LXNsYXRlLTUwMFwiPiR7Zm9ybWF0SXRlbURhdGUoXG4gICAgICAgICAgICBpdGVtLnVwZGF0ZWRBdCB8fCBpdGVtLmNyZWF0ZWRBdCxcbiAgICAgICAgICApfTwvdGQ+XG4gICAgICAgIGA7XG4gICAgICAgIGNvbnN0IGhhbmRsZVNlbGVjdCA9ICgpID0+IHtcbiAgICAgICAgICBzZWxlY3RJdGVtKGl0ZW0uaWQpO1xuICAgICAgICB9O1xuICAgICAgICByb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVTZWxlY3QpO1xuICAgICAgICByb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldmVudCkgPT4ge1xuICAgICAgICAgIGlmIChldmVudC5rZXkgPT09ICdFbnRlcicgfHwgZXZlbnQua2V5ID09PSAnICcpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBoYW5kbGVTZWxlY3QoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpdGVtVGFibGVCb2R5LmFwcGVuZENoaWxkKHJvdyk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgY29uc3Qgc2VsZWN0SXRlbSA9IChpdGVtSWQpID0+IHtcbiAgICAgIGNvbnN0IGl0ZW0gPSBjb2xsZWN0aW9uSXRlbXMuZmluZCgoZW50cnkpID0+IGVudHJ5LmlkID09PSBpdGVtSWQpO1xuICAgICAgaWYgKCFpdGVtKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGFjdGl2ZUl0ZW1JZCA9IGl0ZW0uaWQ7XG4gICAgICBpc0NyZWF0aW5nSXRlbSA9IGZhbHNlO1xuICAgICAgaXRlbVNsdWdNYW51YWxseUVkaXRlZCA9IHRydWU7XG4gICAgICBwb3B1bGF0ZUl0ZW1Gb3JtKGl0ZW0pO1xuICAgICAgcmVuZGVySXRlbVRhYmxlKCk7XG4gICAgfTtcblxuICAgIGNvbnN0IHBvcHVsYXRlSXRlbUZvcm0gPSAoaXRlbSkgPT4ge1xuICAgICAgaWYgKCFpdGVtRm9ybSB8fCAhaXRlbSkge1xuICAgICAgICBoaWRlSXRlbUZvcm0oKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2hvd0l0ZW1Gb3JtKCk7XG4gICAgICBpdGVtRm9ybS5kYXRhc2V0Lml0ZW1JZCA9IGl0ZW0uaWQ7XG4gICAgICBpZiAoaXRlbUZvcm1GaWVsZHMudGl0bGUpIHtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMudGl0bGUudmFsdWUgPSBpdGVtLnRpdGxlIHx8ICcnO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1Gb3JtRmllbGRzLnNsdWcpIHtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMuc2x1Zy52YWx1ZSA9IGl0ZW0uc2x1ZyB8fCAnJztcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtRm9ybUZpZWxkcy5leGNlcnB0KSB7XG4gICAgICAgIGl0ZW1Gb3JtRmllbGRzLmV4Y2VycHQudmFsdWUgPSBpdGVtLnN1bW1hcnkgfHwgaXRlbS5leGNlcnB0IHx8ICcnO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1Gb3JtRmllbGRzLmNvbnRlbnQpIHtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMuY29udGVudC52YWx1ZSA9IGl0ZW0uY29udGVudCB8fCAnJztcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtRm9ybUZpZWxkcy5pbWFnZSkge1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy5pbWFnZS52YWx1ZSA9IGl0ZW0uaW1hZ2UgfHwgJyc7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbUZvcm1GaWVsZHMuY3RhVGV4dCkge1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy5jdGFUZXh0LnZhbHVlID0gaXRlbS5jdGE/LnRleHQgfHwgaXRlbS5jdGFUZXh0IHx8ICcnO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1Gb3JtRmllbGRzLmN0YVVybCkge1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy5jdGFVcmwudmFsdWUgPSBpdGVtLmN0YT8udXJsIHx8IGl0ZW0uY3RhVXJsIHx8ICcnO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1Gb3JtRmllbGRzLnN0YXR1cykge1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy5zdGF0dXMudmFsdWUgPSBpdGVtLnN0YXR1cyB8fCAnQnJvdWlsbG9uJztcbiAgICAgIH1cbiAgICAgIHN5bmNJdGVtU3RhdHVzQmFkZ2UoaXRlbS5zdGF0dXMgfHwgJ0Jyb3VpbGxvbicpO1xuICAgICAgaWYgKGl0ZW1EZWxldGVCdXR0b24pIHtcbiAgICAgICAgaXRlbURlbGV0ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBwcmVwYXJlTmV3SXRlbUZvcm0gPSAoKSA9PiB7XG4gICAgICBpZiAoIWl0ZW1Gb3JtKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlzQ3JlYXRpbmdJdGVtID0gdHJ1ZTtcbiAgICAgIGFjdGl2ZUl0ZW1JZCA9IG51bGw7XG4gICAgICBpdGVtU2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gICAgICBpdGVtRm9ybS5kYXRhc2V0Lml0ZW1JZCA9ICcnO1xuICAgICAgaXRlbUZvcm0ucmVzZXQoKTtcbiAgICAgIGlmIChpdGVtRm9ybUZpZWxkcy5zdGF0dXMpIHtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMuc3RhdHVzLnZhbHVlID0gJ0Jyb3VpbGxvbic7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbUZvcm1GaWVsZHMuc2x1Zykge1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy5zbHVnLnZhbHVlID0gJyc7XG4gICAgICB9XG4gICAgICBzeW5jSXRlbVN0YXR1c0JhZGdlKCdCcm91aWxsb24nKTtcbiAgICAgIHNob3dJdGVtRm9ybSgpO1xuICAgICAgaWYgKGl0ZW1EZWxldGVCdXR0b24pIHtcbiAgICAgICAgaXRlbURlbGV0ZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICB9XG4gICAgICBpdGVtRm9ybUZpZWxkcy50aXRsZT8uZm9jdXMoKTtcbiAgICB9O1xuXG4gICAgY29uc3QgY29sbGVjdEl0ZW1Gb3JtVmFsdWVzID0gKCkgPT4ge1xuICAgICAgY29uc3QgdGl0bGUgPSAoaXRlbUZvcm1GaWVsZHMudGl0bGU/LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICBjb25zdCBzbHVnSW5wdXQgPSAoaXRlbUZvcm1GaWVsZHMuc2x1Zz8udmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgIGNvbnN0IHN1bW1hcnkgPSAoaXRlbUZvcm1GaWVsZHMuZXhjZXJwdD8udmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgIGNvbnN0IGNvbnRlbnQgPSAoaXRlbUZvcm1GaWVsZHMuY29udGVudD8udmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgIGNvbnN0IGltYWdlID0gKGl0ZW1Gb3JtRmllbGRzLmltYWdlPy52YWx1ZSB8fCAnJykudHJpbSgpO1xuICAgICAgY29uc3QgY3RhVGV4dCA9IChpdGVtRm9ybUZpZWxkcy5jdGFUZXh0Py52YWx1ZSB8fCAnJykudHJpbSgpO1xuICAgICAgY29uc3QgY3RhVXJsID0gKGl0ZW1Gb3JtRmllbGRzLmN0YVVybD8udmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgIGNvbnN0IHN0YXR1cyA9IGl0ZW1Gb3JtRmllbGRzLnN0YXR1cz8udmFsdWUgfHwgJ0Jyb3VpbGxvbic7XG4gICAgICBcbiAgICAgIC8vIEJ1aWxkIENUQSBvYmplY3Qgb25seSBpZiBhdCBsZWFzdCBvbmUgZmllbGQgaXMgZmlsbGVkXG4gICAgICBjb25zdCBjdGEgPSAoY3RhVGV4dCB8fCBjdGFVcmwpID8geyB0ZXh0OiBjdGFUZXh0LCB1cmw6IGN0YVVybCB9IDogbnVsbDtcbiAgICAgIFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdGl0bGUsXG4gICAgICAgIHNsdWc6IHNsdWdJbnB1dCA/IG5vcm1hbGl6ZUl0ZW1TbHVnSW5wdXQoc2x1Z0lucHV0KSA6IG5vcm1hbGl6ZUl0ZW1TbHVnSW5wdXQodGl0bGUpLFxuICAgICAgICBzdW1tYXJ5LFxuICAgICAgICBleGNlcnB0OiBzdW1tYXJ5LFxuICAgICAgICBjb250ZW50LFxuICAgICAgICBpbWFnZSxcbiAgICAgICAgc3RhdHVzLFxuICAgICAgICAuLi4oY3RhICYmIHsgY3RhIH0pLFxuICAgICAgfTtcbiAgICB9O1xuXG4gICAgY29uc3Qgc2V0Rm9ybVNhdmluZ1N0YXRlID0gKGlzU2F2aW5nKSA9PiB7XG4gICAgICBpZiAoaXRlbUZvcm1TYXZlKSB7XG4gICAgICAgIGl0ZW1Gb3JtU2F2ZS5kaXNhYmxlZCA9IGlzU2F2aW5nO1xuICAgICAgICBpdGVtRm9ybVNhdmUudGV4dENvbnRlbnQgPSBpc1NhdmluZyA/ICdFbnJlZ2lzdHJlbWVudFx1MjAyNicgOiAnRW5yZWdpc3RyZXInO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1EZWxldGVCdXR0b24gJiYgIWlzQ3JlYXRpbmdJdGVtICYmIGFjdGl2ZUl0ZW1JZCkge1xuICAgICAgICBpdGVtRGVsZXRlQnV0dG9uLmRpc2FibGVkID0gaXNTYXZpbmc7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGZldGNoQ29sbGVjdGlvbkl0ZW1zID0gYXN5bmMgKGNvbGxlY3Rpb25JZCkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uc0FwaUJhc2UpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgYCR7Y29sbGVjdGlvbnNBcGlCYXNlfS8ke2VuY29kZVVSSUNvbXBvbmVudChjb2xsZWN0aW9uSWQpfS9pdGVtc2AsXG4gICAgICAgIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0sXG4gICAgICApO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IocGF5bG9hZC5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIGl0ZW1zLicpO1xuICAgICAgfVxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KGRhdGEuaXRlbXMpID8gZGF0YS5pdGVtcyA6IFtdO1xuICAgIH07XG5cbiAgICBjb25zdCBzZXRBY3RpdmVDb2xsZWN0aW9uID0gYXN5bmMgKGNvbGxlY3Rpb25JZCkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uSWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYWN0aXZlQ29sbGVjdGlvbklkID0gY29sbGVjdGlvbklkO1xuICAgICAgYWN0aXZlSXRlbUlkID0gbnVsbDtcbiAgICAgIGlzQ3JlYXRpbmdJdGVtID0gZmFsc2U7XG4gICAgICBpdGVtU2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gICAgICAvLyBTd2l0Y2ggdG8gY29sbGVjdGlvbiB2aWV3XG4gICAgICBzaG93Q29udGVudFZpZXcoJ2NvbGxlY3Rpb24nKTtcbiAgICAgIHVwZGF0ZUNvbGxlY3Rpb25IZWFkZXIoKTtcbiAgICAgIHN5bmNBZGRCdXR0b25TdGF0ZSgpO1xuICAgICAgcmVuZGVyQ29sbGVjdGlvbkxpc3QoKTtcbiAgICAgIGhpZGVJdGVtRm9ybSgpO1xuICAgICAgY29sbGVjdGlvbkl0ZW1zID0gW107XG4gICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICAgIHVwZGF0ZUl0ZW1zRW1wdHlNZXNzYWdlKCdDaGFyZ2VtZW50IGRlcyBpdGVtc1x1MjAyNicpO1xuICAgICAgY29sbGVjdGlvbkl0ZW1zRW1wdHk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgaXRlbVRhYmxlV3JhcHBlcj8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25zQXBpQmFzZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb2xsZWN0aW9uSXRlbXMgPSBhd2FpdCBmZXRjaENvbGxlY3Rpb25JdGVtcyhjb2xsZWN0aW9uSWQpO1xuICAgICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICAgICAgaWYgKCFjb2xsZWN0aW9uSXRlbXMubGVuZ3RoKSB7XG4gICAgICAgICAgdXBkYXRlSXRlbXNFbXB0eU1lc3NhZ2UoKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tjb250ZW50XSBpdGVtcyBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgY2hhcmdlciBsZXMgaXRlbXMuJyk7XG4gICAgICAgIGNvbGxlY3Rpb25JdGVtcyA9IFtdO1xuICAgICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgY3JlYXRlQ29sbGVjdGlvbkl0ZW0gPSBhc3luYyAoY29sbGVjdGlvbklkLCBwYXlsb2FkKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25zQXBpQmFzZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NpdGUgaW5jb25udS4nKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgIGAke2NvbGxlY3Rpb25zQXBpQmFzZX0vJHtlbmNvZGVVUklDb21wb25lbnQoY29sbGVjdGlvbklkKX0vaXRlbXNgLFxuICAgICAgICB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgIH0sXG4gICAgICApO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZGF0YS5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIGNyXHUwMEU5ZXIgY2V0IGl0ZW0uJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgIH07XG5cbiAgICBjb25zdCB1cGRhdGVDb2xsZWN0aW9uSXRlbSA9IGFzeW5jIChjb2xsZWN0aW9uSWQsIGl0ZW1JZCwgcGF5bG9hZCkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uc0FwaUJhc2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTaXRlIGluY29ubnUuJyk7XG4gICAgICB9XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgICBgJHtjb2xsZWN0aW9uc0FwaUJhc2V9LyR7ZW5jb2RlVVJJQ29tcG9uZW50KGNvbGxlY3Rpb25JZCl9L2l0ZW1zLyR7ZW5jb2RlVVJJQ29tcG9uZW50KGl0ZW1JZCl9YCxcbiAgICAgICAge1xuICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgIH0sXG4gICAgICApO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZGF0YS5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIHNhdXZlZ2FyZGVyIGNldCBpdGVtLicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICB9O1xuXG4gICAgY29uc3QgZGVsZXRlQ29sbGVjdGlvbkl0ZW0gPSBhc3luYyAoY29sbGVjdGlvbklkLCBpdGVtSWQpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvbnNBcGlCYXNlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignU2l0ZSBpbmNvbm51LicpO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgYCR7Y29sbGVjdGlvbnNBcGlCYXNlfS8ke2VuY29kZVVSSUNvbXBvbmVudChjb2xsZWN0aW9uSWQpfS9pdGVtcy8ke2VuY29kZVVSSUNvbXBvbmVudChpdGVtSWQpfWAsXG4gICAgICAgIHsgbWV0aG9kOiAnREVMRVRFJyB9LFxuICAgICAgKTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGRhdGEubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBzdXBwcmltZXIgY2V0IGl0ZW0uJyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGxvYWRDb2xsZWN0aW9ucyA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvbnNBcGlCYXNlKSB7XG4gICAgICAgIGNvbGxlY3Rpb25FbXB0eVN0YXRlPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgYWN0aXZlQ29sbGVjdGlvbklkID0gbnVsbDtcbiAgICAgICAgY29sbGVjdGlvbkl0ZW1zID0gW107XG4gICAgICAgIHJlbmRlckl0ZW1UYWJsZSgpO1xuICAgICAgICB1cGRhdGVDb2xsZWN0aW9uSGVhZGVyKCk7XG4gICAgICAgIHN5bmNBZGRCdXR0b25TdGF0ZSgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGNvbGxlY3Rpb25zQXBpQmFzZSwge1xuICAgICAgICAgIGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ltcG9zc2libGUgZGUgY2hhcmdlciBsZXMgY29sbGVjdGlvbnMuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiBbXSk7XG4gICAgICAgIGNvbGxlY3Rpb25zID0gQXJyYXkuaXNBcnJheShwYXlsb2FkKSA/IHBheWxvYWQgOiBbXTtcbiAgICAgICAgcmVuZGVyQ29sbGVjdGlvbkxpc3QoKTtcbiAgICAgICAgaWYgKGNvbGxlY3Rpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBjb25zdCBkZWZhdWx0SWQgPSBjb2xsZWN0aW9ucy5maW5kKChlbnRyeSkgPT4gZW50cnkuaWQgPT09IGFjdGl2ZUNvbGxlY3Rpb25JZCk/LmlkXG4gICAgICAgICAgICB8fCBjb2xsZWN0aW9uc1swXS5pZDtcbiAgICAgICAgICBzZXRBY3RpdmVDb2xsZWN0aW9uKGRlZmF1bHRJZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYWN0aXZlQ29sbGVjdGlvbklkID0gbnVsbDtcbiAgICAgICAgICBjb2xsZWN0aW9uSXRlbXMgPSBbXTtcbiAgICAgICAgICB1cGRhdGVDb2xsZWN0aW9uSGVhZGVyKCk7XG4gICAgICAgICAgc3luY0FkZEJ1dHRvblN0YXRlKCk7XG4gICAgICAgICAgcmVuZGVySXRlbVRhYmxlKCk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbY29udGVudF0gbG9hZCBjb2xsZWN0aW9ucycsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxlcyBjb2xsZWN0aW9ucy4nKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaXRlbUFkZEJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBpZiAoIWFjdGl2ZUNvbGxlY3Rpb25JZCkge1xuICAgICAgICBzaG93VG9hc3QoJ1NcdTAwRTlsZWN0aW9ubmV6IGRcdTIwMTlhYm9yZCB1bmUgY29sbGVjdGlvbi4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcHJlcGFyZU5ld0l0ZW1Gb3JtKCk7XG4gICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICB9KTtcblxuICAgIGl0ZW1Gb3JtQ2FuY2VsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmIChpc0NyZWF0aW5nSXRlbSkge1xuICAgICAgICBpc0NyZWF0aW5nSXRlbSA9IGZhbHNlO1xuICAgICAgICBhY3RpdmVJdGVtSWQgPSBudWxsO1xuICAgICAgICBoaWRlSXRlbUZvcm0oKTtcbiAgICAgICAgcmVuZGVySXRlbVRhYmxlKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChhY3RpdmVJdGVtSWQpIHtcbiAgICAgICAgY29uc3QgaXRlbSA9IGNvbGxlY3Rpb25JdGVtcy5maW5kKChlbnRyeSkgPT4gZW50cnkuaWQgPT09IGFjdGl2ZUl0ZW1JZCk7XG4gICAgICAgIHBvcHVsYXRlSXRlbUZvcm0oaXRlbSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBoaWRlSXRlbUZvcm0oKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGl0ZW1Gb3JtRmllbGRzLnN0YXR1cz8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICAgICAgc3luY0l0ZW1TdGF0dXNCYWRnZShpdGVtRm9ybUZpZWxkcy5zdGF0dXMudmFsdWUpO1xuICAgIH0pO1xuXG4gICAgaXRlbUZvcm1GaWVsZHMudGl0bGU/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgaWYgKCFpc0NyZWF0aW5nSXRlbSB8fCAhaXRlbUZvcm1GaWVsZHMuc2x1ZyB8fCBpdGVtU2x1Z01hbnVhbGx5RWRpdGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGl0ZW1Gb3JtRmllbGRzLnNsdWcudmFsdWUgPSBub3JtYWxpemVJdGVtU2x1Z0lucHV0KGl0ZW1Gb3JtRmllbGRzLnRpdGxlLnZhbHVlKTtcbiAgICB9KTtcblxuICAgIGl0ZW1Gb3JtRmllbGRzLnNsdWc/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgaWYgKCFpc0NyZWF0aW5nSXRlbSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpdGVtU2x1Z01hbnVhbGx5RWRpdGVkID0gdHJ1ZTtcbiAgICB9KTtcblxuICAgIGl0ZW1Gb3JtPy5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoIWFjdGl2ZUNvbGxlY3Rpb25JZCkge1xuICAgICAgICBzaG93VG9hc3QoJ1NcdTAwRTlsZWN0aW9ubmV6IHVuZSBjb2xsZWN0aW9uLicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCB2YWx1ZXMgPSBjb2xsZWN0SXRlbUZvcm1WYWx1ZXMoKTtcbiAgICAgIGlmICghdmFsdWVzLnRpdGxlKSB7XG4gICAgICAgIHNob3dUb2FzdCgnTGUgdGl0cmUgZXN0IHJlcXVpcy4nKTtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMudGl0bGU/LmZvY3VzKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNldEZvcm1TYXZpbmdTdGF0ZSh0cnVlKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGxldCBzYXZlZEl0ZW07XG4gICAgICAgIGlmIChpc0NyZWF0aW5nSXRlbSB8fCAhYWN0aXZlSXRlbUlkKSB7XG4gICAgICAgICAgc2F2ZWRJdGVtID0gYXdhaXQgY3JlYXRlQ29sbGVjdGlvbkl0ZW0oYWN0aXZlQ29sbGVjdGlvbklkLCB2YWx1ZXMpO1xuICAgICAgICAgIGNvbGxlY3Rpb25JdGVtcyA9IFsuLi5jb2xsZWN0aW9uSXRlbXMsIHNhdmVkSXRlbV07XG4gICAgICAgICAgc2hvd1RvYXN0KCdJdGVtIGNyXHUwMEU5XHUwMEU5Jyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2F2ZWRJdGVtID0gYXdhaXQgdXBkYXRlQ29sbGVjdGlvbkl0ZW0oYWN0aXZlQ29sbGVjdGlvbklkLCBhY3RpdmVJdGVtSWQsIHZhbHVlcyk7XG4gICAgICAgICAgY29sbGVjdGlvbkl0ZW1zID0gY29sbGVjdGlvbkl0ZW1zLm1hcCgoaXRlbSkgPT5cbiAgICAgICAgICAgIGl0ZW0uaWQgPT09IHNhdmVkSXRlbS5pZCA/IHNhdmVkSXRlbSA6IGl0ZW0sXG4gICAgICAgICAgKTtcbiAgICAgICAgICBzaG93VG9hc3QoJ0l0ZW0gbWlzIFx1MDBFMCBqb3VyJyk7XG4gICAgICAgIH1cbiAgICAgICAgaXNDcmVhdGluZ0l0ZW0gPSBmYWxzZTtcbiAgICAgICAgYWN0aXZlSXRlbUlkID0gc2F2ZWRJdGVtLmlkO1xuICAgICAgICBwb3B1bGF0ZUl0ZW1Gb3JtKHNhdmVkSXRlbSk7XG4gICAgICAgIHJlbmRlckl0ZW1UYWJsZSgpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tjb250ZW50XSBzYXZlIGl0ZW0gZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIHNhdXZlZ2FyZGVyIGNldCBpdGVtLicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0Rm9ybVNhdmluZ1N0YXRlKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGNvbnN0IGNsb3NlRGVsZXRlTW9kYWwgPSAoKSA9PiB7XG4gICAgICBpZiAoIWl0ZW1EZWxldGVNb2RhbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpdGVtRGVsZXRlTW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBpdGVtRGVsZXRlTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnZmxleCcpO1xuICAgICAgcGVuZGluZ0RlbGV0ZUl0ZW1JZCA9IG51bGw7XG4gICAgfTtcblxuICAgIGNvbnN0IG9wZW5EZWxldGVNb2RhbCA9ICgpID0+IHtcbiAgICAgIGlmICghaXRlbURlbGV0ZU1vZGFsIHx8ICFhY3RpdmVJdGVtSWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcGVuZGluZ0RlbGV0ZUl0ZW1JZCA9IGFjdGl2ZUl0ZW1JZDtcbiAgICAgIGl0ZW1EZWxldGVNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGl0ZW1EZWxldGVNb2RhbC5jbGFzc0xpc3QuYWRkKCdmbGV4Jyk7XG4gICAgfTtcblxuICAgIGl0ZW1EZWxldGVCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKCFhY3RpdmVJdGVtSWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgb3BlbkRlbGV0ZU1vZGFsKCk7XG4gICAgfSk7XG5cbiAgICBpdGVtRGVsZXRlQ2FuY2VsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNsb3NlRGVsZXRlTW9kYWwoKTtcbiAgICB9KTtcblxuICAgIGl0ZW1EZWxldGVNb2RhbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIGlmIChldmVudC50YXJnZXQgPT09IGl0ZW1EZWxldGVNb2RhbCkge1xuICAgICAgICBjbG9zZURlbGV0ZU1vZGFsKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpdGVtRGVsZXRlQ29uZmlybT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXBlbmRpbmdEZWxldGVJdGVtSWQgfHwgIWFjdGl2ZUNvbGxlY3Rpb25JZCkge1xuICAgICAgICBjbG9zZURlbGV0ZU1vZGFsKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGl0ZW1EZWxldGVDb25maXJtLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIGl0ZW1EZWxldGVDb25maXJtLnRleHRDb250ZW50ID0gJ1N1cHByZXNzaW9uXHUyMDI2JztcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IGRlbGV0ZUNvbGxlY3Rpb25JdGVtKGFjdGl2ZUNvbGxlY3Rpb25JZCwgcGVuZGluZ0RlbGV0ZUl0ZW1JZCk7XG4gICAgICAgIGNvbGxlY3Rpb25JdGVtcyA9IGNvbGxlY3Rpb25JdGVtcy5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0uaWQgIT09IHBlbmRpbmdEZWxldGVJdGVtSWQpO1xuICAgICAgICBpZiAoYWN0aXZlSXRlbUlkID09PSBwZW5kaW5nRGVsZXRlSXRlbUlkKSB7XG4gICAgICAgICAgYWN0aXZlSXRlbUlkID0gbnVsbDtcbiAgICAgICAgICBoaWRlSXRlbUZvcm0oKTtcbiAgICAgICAgfVxuICAgICAgICBzaG93VG9hc3QoJ0l0ZW0gc3VwcHJpbVx1MDBFOScpO1xuICAgICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbY29udGVudF0gZGVsZXRlIGl0ZW0gZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIHN1cHByaW1lciBjZXQgaXRlbS4nKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGl0ZW1EZWxldGVDb25maXJtLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIGl0ZW1EZWxldGVDb25maXJtLnRleHRDb250ZW50ID0gJ1N1cHByaW1lcic7XG4gICAgICAgIGNsb3NlRGVsZXRlTW9kYWwoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHVwZGF0ZUNvbGxlY3Rpb25IZWFkZXIoKTtcbiAgICBzeW5jQWRkQnV0dG9uU3RhdGUoKTtcbiAgICBsb2FkQ29sbGVjdGlvbnMoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXREZXBsb3lXb3Jrc3BhY2UoKSB7XG4gICAgY29uc3QgZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1mb3JtXScpO1xuICAgIGlmICghZm9ybSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBwcm90b2NvbFNlbGVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1wcm90b2NvbF0nKTtcbiAgICBjb25zdCBob3N0SW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktaG9zdF0nKTtcbiAgICBjb25zdCBwb3J0SW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktcG9ydF0nKTtcbiAgICBjb25zdCB1c2VySW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktdXNlcl0nKTtcbiAgICBjb25zdCBwYXNzd29yZElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LXBhc3N3b3JkXScpO1xuICAgIGNvbnN0IHNob3dQYXNzd29yZFRvZ2dsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1zaG93LXBhc3N3b3JkXScpO1xuICAgIGNvbnN0IHJlbW90ZVBhdGhJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1yZW1vdGUtcGF0aF0nKTtcbiAgICBjb25zdCBmZWVkYmFjayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1mZWVkYmFja10nKTtcbiAgICBjb25zdCBzYXZlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LXNhdmVdJyk7XG4gICAgY29uc3QgdGVzdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS10ZXN0XScpO1xuICAgIGNvbnN0IGRlcGxveUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS10cmlnZ2VyXScpO1xuICAgIGNvbnN0IGhpc3RvcnlMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LWhpc3RvcnldJyk7XG4gICAgY29uc3QgbG9nQm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LWxvZ10nKTtcblxuICAgIGNvbnN0IHNhZmVTaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKFxuICAgICAgd29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyxcbiAgICApO1xuICAgIGNvbnN0IGRlcGxveUFwaUJhc2UgPSBzYWZlU2l0ZVNsdWdcbiAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnKX0vZGVwbG95LWNvbmZpZ2BcbiAgICAgIDogbnVsbDtcbiAgICBjb25zdCBkZXBsb3lSdW5BcGkgPSBzYWZlU2l0ZVNsdWdcbiAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnKX0vZGVwbG95YFxuICAgICAgOiBudWxsO1xuICAgIGNvbnN0IGRlcGxveUxvZ0FwaSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9kZXBsb3ktbG9nYFxuICAgICAgOiBudWxsO1xuXG4gICAgbGV0IGhhc1Bhc3N3b3JkID0gZmFsc2U7XG4gICAgbGV0IGJ1c3lBY3Rpb24gPSBudWxsO1xuXG4gICAgY29uc3Qgc2FuaXRpemVSZW1vdGVQYXRoID0gKHZhbHVlKSA9PiB7XG4gICAgICBjb25zdCB0cmltbWVkID0gKHZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICBpZiAoIXRyaW1tZWQpIHtcbiAgICAgICAgcmV0dXJuICcvd3d3JztcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cmltbWVkLnN0YXJ0c1dpdGgoJy8nKSA/IHRyaW1tZWQgOiBgLyR7dHJpbW1lZH1gO1xuICAgIH07XG5cbiAgICBjb25zdCBzZXRGZWVkYmFjayA9IChtZXNzYWdlLCB0b25lID0gJ211dGVkJykgPT4ge1xuICAgICAgaWYgKCFmZWVkYmFjaykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBiYXNlQ2xhc3MgPSAnaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHJvdW5kZWQtZnVsbCBweC0zIHB5LTEgdGV4dC14cyBmb250LXNlbWlib2xkJztcbiAgICAgIGNvbnN0IHRvbmVDbGFzcyA9XG4gICAgICAgIHRvbmUgPT09ICdzdWNjZXNzJ1xuICAgICAgICAgID8gJ2JnLWVtZXJhbGQtNTAgdGV4dC1lbWVyYWxkLTcwMCBib3JkZXIgYm9yZGVyLWVtZXJhbGQtMTAwJ1xuICAgICAgICAgIDogdG9uZSA9PT0gJ2Vycm9yJ1xuICAgICAgICAgICAgPyAnYmctcm9zZS01MCB0ZXh0LXJvc2UtNzAwIGJvcmRlciBib3JkZXItcm9zZS0xMDAnXG4gICAgICAgICAgICA6ICdiZy1zbGF0ZS01MCB0ZXh0LXNsYXRlLTYwMCBib3JkZXIgYm9yZGVyLXNsYXRlLTEwMCc7XG4gICAgICBpZiAoIW1lc3NhZ2UpIHtcbiAgICAgICAgZmVlZGJhY2sudGV4dENvbnRlbnQgPSAnJztcbiAgICAgICAgZmVlZGJhY2suY2xhc3NOYW1lID0gJ3RleHQtc20gdGV4dC1zbGF0ZS01MDAnO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBpY29uID0gdG9uZSA9PT0gJ3N1Y2Nlc3MnID8gJ1x1MjcwNScgOiB0b25lID09PSAnZXJyb3InID8gJ1x1Mjc0QycgOiAnXHUyMTM5XHVGRTBGJztcbiAgICAgIGZlZWRiYWNrLmlubmVySFRNTCA9IGA8c3BhbiBjbGFzcz1cIiR7YmFzZUNsYXNzfSAke3RvbmVDbGFzc31cIj4ke2ljb259PHNwYW4+JHttZXNzYWdlfTwvc3Bhbj48L3NwYW4+YDtcbiAgICAgIGZlZWRiYWNrLmNsYXNzTmFtZSA9ICd0ZXh0LXNtJztcbiAgICB9O1xuXG4gICAgY29uc3Qgc2V0QnVzeSA9IChhY3Rpb24gPSBudWxsKSA9PiB7XG4gICAgICBidXN5QWN0aW9uID0gYWN0aW9uO1xuICAgICAgY29uc3QgZGlzYWJsZSA9IEJvb2xlYW4oYWN0aW9uKTtcbiAgICAgIGNvbnN0IHNwaW5uZXIgPVxuICAgICAgICAnPHN2ZyBjbGFzcz1cImgtNCB3LTQgYW5pbWF0ZS1zcGluIHRleHQtd2hpdGVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48Y2lyY2xlIGNsYXNzPVwib3BhY2l0eS0yNVwiIGN4PVwiMTJcIiBjeT1cIjEyXCIgcj1cIjEwXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiNFwiPjwvY2lyY2xlPjxwYXRoIGNsYXNzPVwib3BhY2l0eS03NVwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIiBkPVwiTTQgMTJhOCA4IDAgMDE4LTh2NGE0IDQgMCAwMC00IDRINHpcIj48L3BhdGg+PC9zdmc+JztcbiAgICAgIGlmIChzYXZlQnV0dG9uKSB7XG4gICAgICAgIHNhdmVCdXR0b24uZGlzYWJsZWQgPSBkaXNhYmxlO1xuICAgICAgICBzYXZlQnV0dG9uLmlubmVySFRNTCA9XG4gICAgICAgICAgYWN0aW9uID09PSAnc2F2ZSdcbiAgICAgICAgICAgID8gYDxzcGFuIGNsYXNzPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+JHtzcGlubmVyfTxzcGFuPkVucmVnaXN0cmVtZW50XHUyMDI2PC9zcGFuPjwvc3Bhbj5gXG4gICAgICAgICAgICA6ICdFbnJlZ2lzdHJlcic7XG4gICAgICB9XG4gICAgICBpZiAodGVzdEJ1dHRvbikge1xuICAgICAgICB0ZXN0QnV0dG9uLmRpc2FibGVkID0gZGlzYWJsZTtcbiAgICAgICAgdGVzdEJ1dHRvbi5pbm5lckhUTUwgPVxuICAgICAgICAgIGFjdGlvbiA9PT0gJ3Rlc3QnXG4gICAgICAgICAgICA/IGA8c3BhbiBjbGFzcz1cImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPjxzcGFuIGNsYXNzPVwiaC00IHctNCBhbmltYXRlLXNwaW4gcm91bmRlZC1mdWxsIGJvcmRlci0yIGJvcmRlci1zbGF0ZS0yMDAgYm9yZGVyLXQtc2xhdGUtNjAwXCI+PC9zcGFuPjxzcGFuPlRlc3QgZW4gY291cnNcdTIwMjY8L3NwYW4+PC9zcGFuPmBcbiAgICAgICAgICAgIDogJ1Rlc3RlciBsYSBjb25uZXhpb24nO1xuICAgICAgfVxuICAgICAgaWYgKGRlcGxveUJ1dHRvbikge1xuICAgICAgICBkZXBsb3lCdXR0b24uZGlzYWJsZWQgPSBkaXNhYmxlICYmIGFjdGlvbiAhPT0gbnVsbDtcbiAgICAgICAgZGVwbG95QnV0dG9uLmlubmVySFRNTCA9XG4gICAgICAgICAgYWN0aW9uID09PSAnZGVwbG95J1xuICAgICAgICAgICAgPyBgPHNwYW4gY2xhc3M9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj48c3BhbiBjbGFzcz1cImgtNCB3LTQgYW5pbWF0ZS1zcGluIHJvdW5kZWQtZnVsbCBib3JkZXItMiBib3JkZXItd2hpdGUvNjAgYm9yZGVyLXQtd2hpdGVcIj48L3NwYW4+PHNwYW4+RFx1MDBFOXBsb2llbWVudFx1MjAyNjwvc3Bhbj48L3NwYW4+YFxuICAgICAgICAgICAgOiAnRFx1MDBFOXBsb3llciBtYWludGVuYW50JztcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgcG9wdWxhdGVGb3JtID0gKGNvbmZpZykgPT4ge1xuICAgICAgcHJvdG9jb2xTZWxlY3QgJiYgKHByb3RvY29sU2VsZWN0LnZhbHVlID0gY29uZmlnLnByb3RvY29sIHx8ICdzZnRwJyk7XG4gICAgICBob3N0SW5wdXQgJiYgKGhvc3RJbnB1dC52YWx1ZSA9IGNvbmZpZy5ob3N0IHx8ICcnKTtcbiAgICAgIHBvcnRJbnB1dCAmJiAocG9ydElucHV0LnZhbHVlID0gY29uZmlnLnBvcnQgfHwgJycpO1xuICAgICAgdXNlcklucHV0ICYmICh1c2VySW5wdXQudmFsdWUgPSBjb25maWcudXNlciB8fCAnJyk7XG4gICAgICByZW1vdGVQYXRoSW5wdXQgJiYgKHJlbW90ZVBhdGhJbnB1dC52YWx1ZSA9IGNvbmZpZy5yZW1vdGVQYXRoIHx8ICcvd3d3Jyk7XG4gICAgICBoYXNQYXNzd29yZCA9IEJvb2xlYW4oY29uZmlnLmhhc1Bhc3N3b3JkKTtcbiAgICAgIGlmIChwYXNzd29yZElucHV0KSB7XG4gICAgICAgIHBhc3N3b3JkSW5wdXQudmFsdWUgPSAnJztcbiAgICAgICAgcGFzc3dvcmRJbnB1dC5wbGFjZWhvbGRlciA9IGhhc1Bhc3N3b3JkID8gJ05vbiBhZmZpY2hcdTAwRTknIDogJ01vdCBkZSBwYXNzZSc7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHJlbmRlckhpc3RvcnkgPSAoZW50cmllcyA9IFtdKSA9PiB7XG4gICAgICBpZiAoIWhpc3RvcnlMaXN0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGhpc3RvcnlMaXN0LmlubmVySFRNTCA9ICcnO1xuICAgICAgaWYgKCFlbnRyaWVzLmxlbmd0aCkge1xuICAgICAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICAgIGxpLmNsYXNzTmFtZSA9ICd0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICAgIGxpLnRleHRDb250ZW50ID0gJ0F1Y3VuIGRcdTAwRTlwbG9pZW1lbnQgcG91ciBsZSBtb21lbnQuJztcbiAgICAgICAgaGlzdG9yeUxpc3QuYXBwZW5kQ2hpbGQobGkpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBlbnRyaWVzLmZvckVhY2goKGVudHJ5KSA9PiB7XG4gICAgICAgIGNvbnN0IGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgbGkuY2xhc3NOYW1lID1cbiAgICAgICAgICAnZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIGdhcC0yIHJvdW5kZWQteGwgYm9yZGVyIGJvcmRlci1zbGF0ZS0yMDAgcHgtMyBweS0yJztcbiAgICAgICAgY29uc3Qgc3RhdHVzQmFkZ2UgPVxuICAgICAgICAgIGVudHJ5LnN0YXR1cyA9PT0gJ3N1Y2Nlc3MnXG4gICAgICAgICAgICA/ICc8c3BhbiBjbGFzcz1cInJvdW5kZWQtZnVsbCBiZy1lbWVyYWxkLTUwIHB4LTIgcHktMC41IHRleHQtWzExcHhdIGZvbnQtc2VtaWJvbGQgdGV4dC1lbWVyYWxkLTcwMFwiPlN1Y2NcdTAwRThzPC9zcGFuPidcbiAgICAgICAgICAgIDogJzxzcGFuIGNsYXNzPVwicm91bmRlZC1mdWxsIGJnLXJvc2UtNTAgcHgtMiBweS0wLjUgdGV4dC1bMTFweF0gZm9udC1zZW1pYm9sZCB0ZXh0LXJvc2UtNzAwXCI+XHUwMEM5Y2hlYzwvc3Bhbj4nO1xuICAgICAgICBjb25zdCBkYXRlID0gZW50cnkuZmluaXNoZWRBdCB8fCBlbnRyeS5zdGFydGVkQXQgfHwgJyc7XG4gICAgICAgIGNvbnN0IGR1cmF0aW9uID1cbiAgICAgICAgICBlbnRyeS5kdXJhdGlvbk1zICYmIE51bWJlcihlbnRyeS5kdXJhdGlvbk1zKSA+PSAwXG4gICAgICAgICAgICA/IGAke01hdGgucm91bmQoTnVtYmVyKGVudHJ5LmR1cmF0aW9uTXMpIC8gMTAwMCl9c2BcbiAgICAgICAgICAgIDogJyc7XG4gICAgICAgIGxpLmlubmVySFRNTCA9IGBcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwic3BhY2UteS0xXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj4ke3N0YXR1c0JhZGdlfTxzcGFuIGNsYXNzPVwidGV4dC14cyB0ZXh0LXNsYXRlLTUwMFwiPiR7ZGF0ZX08L3NwYW4+PC9kaXY+XG4gICAgICAgICAgICA8cCBjbGFzcz1cInRleHQtc20gdGV4dC1zbGF0ZS04MDBcIj4ke2VudHJ5Lm1lc3NhZ2UgfHwgJyd9PC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNTAwXCI+JHtkdXJhdGlvbn08L2Rpdj5cbiAgICAgICAgYDtcbiAgICAgICAgbGkuZGF0YXNldC5kZXBsb3lJZCA9IGVudHJ5LmlkIHx8ICcnO1xuICAgICAgICBsaS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICBpZiAoZW50cnkubG9ncyAmJiBsb2dCb3gpIHtcbiAgICAgICAgICAgIGxvZ0JveC50ZXh0Q29udGVudCA9IGVudHJ5LmxvZ3Muam9pbignXFxuJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaGlzdG9yeUxpc3QuYXBwZW5kQ2hpbGQobGkpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IHJlbmRlckxvZ3MgPSAobGluZXMgPSBbXSkgPT4ge1xuICAgICAgaWYgKCFsb2dCb3gpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbG9nQm94LnRleHRDb250ZW50ID0gbGluZXMubGVuZ3RoID8gbGluZXMuam9pbignXFxuJykgOiAnQXVjdW4gbG9nIHBvdXIgbGUgbW9tZW50Lic7XG4gICAgfTtcblxuICAgIGNvbnN0IGZldGNoSGlzdG9yeSA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghZGVwbG95TG9nQXBpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goZGVwbG95TG9nQXBpLCB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwNCkge1xuICAgICAgICAgICAgcmVuZGVySGlzdG9yeShbXSk7XG4gICAgICAgICAgICByZW5kZXJMb2dzKFsnQVBJIGRcdTAwRTlwbG9pZW1lbnQgaW5kaXNwb25pYmxlIChyZWRcdTAwRTltYXJyZSBsZSBzZXJ2ZXVyKS4nXSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxcdTIwMTloaXN0b3JpcXVlLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIGNvbnN0IGVudHJpZXMgPSBBcnJheS5pc0FycmF5KHBheWxvYWQuZW50cmllcykgPyBwYXlsb2FkLmVudHJpZXMgOiBbXTtcbiAgICAgICAgcmVuZGVySGlzdG9yeShlbnRyaWVzKTtcbiAgICAgICAgaWYgKGVudHJpZXNbMF0/LmxvZ3MpIHtcbiAgICAgICAgICByZW5kZXJMb2dzKGVudHJpZXNbMF0ubG9ncyk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZGVwbG95XSBoaXN0b3J5IGZhaWxlZCcsIGVycik7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGZldGNoQ29uZmlnID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFkZXBsb3lBcGlCYXNlKSB7XG4gICAgICAgIHNldEZlZWRiYWNrKCdBdWN1biBzaXRlIGFjdGlmIHNcdTAwRTlsZWN0aW9ublx1MDBFOS4nLCAnZXJyb3InKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2V0QnVzeSgnbG9hZCcpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChkZXBsb3lBcGlCYXNlLCB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgcG9wdWxhdGVGb3JtKHBheWxvYWQgfHwge30pO1xuICAgICAgICAgIHNldEZlZWRiYWNrKCdDb25maWd1cmF0aW9uIGNoYXJnXHUwMEU5ZS4nLCAnbXV0ZWQnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwb3B1bGF0ZUZvcm0ocGF5bG9hZCB8fCB7fSk7XG4gICAgICAgICAgc2V0RmVlZGJhY2socGF5bG9hZC5tZXNzYWdlIHx8ICdDb25maWd1cmF0aW9uIHBhciBkXHUwMEU5ZmF1dCBjaGFyZ1x1MDBFOWUuJywgJ211dGVkJyk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZGVwbG95XSBsb2FkIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNldEZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkdSBjaGFyZ2VtZW50LicsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0QnVzeShudWxsKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgYnVpbGRQYXlsb2FkID0gKCkgPT4ge1xuICAgICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgcHJvdG9jb2w6IHByb3RvY29sU2VsZWN0Py52YWx1ZSB8fCAnc2Z0cCcsXG4gICAgICAgIGhvc3Q6IGhvc3RJbnB1dD8udmFsdWUudHJpbSgpIHx8ICcnLFxuICAgICAgICBwb3J0OiBOdW1iZXIocG9ydElucHV0Py52YWx1ZSkgfHwgdW5kZWZpbmVkLFxuICAgICAgICB1c2VyOiB1c2VySW5wdXQ/LnZhbHVlLnRyaW0oKSB8fCAnJyxcbiAgICAgICAgcmVtb3RlUGF0aDogc2FuaXRpemVSZW1vdGVQYXRoKHJlbW90ZVBhdGhJbnB1dD8udmFsdWUgfHwgJy93d3cnKSxcbiAgICAgIH07XG4gICAgICBjb25zdCBwd2QgPSBwYXNzd29yZElucHV0Py52YWx1ZSB8fCAnJztcbiAgICAgIGlmIChwd2QudHJpbSgpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcGF5bG9hZC5wYXNzd29yZCA9IHB3ZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH07XG5cbiAgICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmICghZGVwbG95QXBpQmFzZSkge1xuICAgICAgICBzZXRGZWVkYmFjaygnQXVjdW4gc2l0ZSBhY3RpZiBzXHUwMEU5bGVjdGlvbm5cdTAwRTkuJywgJ2Vycm9yJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHBheWxvYWQgPSBidWlsZFBheWxvYWQoKTtcbiAgICAgIHNldEJ1c3koJ3NhdmUnKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goZGVwbG95QXBpQmFzZSwge1xuICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgY29uc3QgZXJyb3JQYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvclBheWxvYWQubWVzc2FnZSB8fCAnU2F1dmVnYXJkZSBpbXBvc3NpYmxlLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNhdmVkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBwb3B1bGF0ZUZvcm0oc2F2ZWQgfHwge30pO1xuICAgICAgICBzZXRGZWVkYmFjaygnQ29uZmlndXJhdGlvbiBlbnJlZ2lzdHJcdTAwRTllLicsICdzdWNjZXNzJyk7XG4gICAgICAgIHNob3dUb2FzdCgnQ29uZmlndXJhdGlvbiBkXHUwMEU5cGxvaWVtZW50IHNhdXZlZ2FyZFx1MDBFOWUnKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZGVwbG95XSBzYXZlIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNldEZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsYSBzYXV2ZWdhcmRlLicsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0QnVzeShudWxsKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRlc3RCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFkZXBsb3lBcGlCYXNlKSB7XG4gICAgICAgIHNldEZlZWRiYWNrKCdBdWN1biBzaXRlIGFjdGlmIHNcdTAwRTlsZWN0aW9ublx1MDBFOS4nLCAnZXJyb3InKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgcGF5bG9hZCA9IGJ1aWxkUGF5bG9hZCgpO1xuICAgICAgaWYgKCFwYXlsb2FkLmhvc3QgfHwgIXBheWxvYWQudXNlciB8fCAhcGF5bG9hZC5yZW1vdGVQYXRoKSB7XG4gICAgICAgIHNldEZlZWRiYWNrKCdSZW1wbGlzc2V6IGxlcyBjaGFtcHMgcmVxdWlzIGF2YW50IGRlIHRlc3Rlci4nLCAnZXJyb3InKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2V0QnVzeSgndGVzdCcpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtkZXBsb3lBcGlCYXNlfS90ZXN0YCwge1xuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rIHx8IHJlc3VsdC5zdWNjZXNzID09PSBmYWxzZSkge1xuICAgICAgICAgIHNldEZlZWRiYWNrKHJlc3VsdC5tZXNzYWdlIHx8ICdUZXN0IGRlIGNvbm5leGlvbiBcdTAwRTljaG91XHUwMEU5LicsICdlcnJvcicpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzZXRGZWVkYmFjayhyZXN1bHQubWVzc2FnZSB8fCAnQ29ubmV4aW9uIE9LLicsICdzdWNjZXNzJyk7XG4gICAgICAgIHNob3dUb2FzdCgnVGVzdCBkZSBjb25uZXhpb24gclx1MDBFOXVzc2knKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZGVwbG95XSB0ZXN0IGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNldEZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdUZXN0IGRlIGNvbm5leGlvbiBcdTAwRTljaG91XHUwMEU5LicsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0QnVzeShudWxsKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGRlcGxveUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWRlcGxveVJ1bkFwaSkge1xuICAgICAgICBzZXRGZWVkYmFjaygnQXVjdW4gc2l0ZSBhY3RpZiBzXHUwMEU5bGVjdGlvbm5cdTAwRTkuJywgJ2Vycm9yJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNldEJ1c3koJ2RlcGxveScpO1xuICAgICAgcmVuZGVyTG9ncyhbJ0RcdTAwRTlwbG9pZW1lbnQgZW4gY291cnNcdTIwMjYnXSk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGRlcGxveVJ1bkFwaSwge1xuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJ1aWxkUGF5bG9hZCgpKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwNCkge1xuICAgICAgICAgICAgc2V0RmVlZGJhY2soJ0FQSSBkXHUwMEU5cGxvaWVtZW50IGluZGlzcG9uaWJsZSAocmVkXHUwMEU5bWFycmUgbGUgc2VydmV1cikuJywgJ2Vycm9yJyk7XG4gICAgICAgICAgICByZW5kZXJMb2dzKFsnQVBJIGRcdTAwRTlwbG9pZW1lbnQgaW5kaXNwb25pYmxlIChyZWRcdTAwRTltYXJyZSBsZSBzZXJ2ZXVyKS4nXSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlbmRlckxvZ3MocmVzdWx0LmxvZ3MgfHwgW10pO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQubWVzc2FnZSB8fCAnRFx1MDBFOXBsb2llbWVudCBcdTAwRTljaG91XHUwMEU5LicpO1xuICAgICAgICB9XG4gICAgICAgIHJlbmRlckxvZ3MocmVzdWx0LmxvZ3MgfHwgW10pO1xuICAgICAgICBhd2FpdCBmZXRjaEhpc3RvcnkoKTtcbiAgICAgICAgc2hvd1RvYXN0KCdEXHUwMEU5cGxvaWVtZW50IHRlcm1pblx1MDBFOScpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkZXBsb3ldIHJ1biBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzZXRGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRFx1MDBFOXBsb2llbWVudCBcdTAwRTljaG91XHUwMEU5LicsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0QnVzeShudWxsKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHNob3dQYXNzd29yZFRvZ2dsZT8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICAgICAgaWYgKCFwYXNzd29yZElucHV0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHBhc3N3b3JkSW5wdXQudHlwZSA9IHNob3dQYXNzd29yZFRvZ2dsZS5jaGVja2VkID8gJ3RleHQnIDogJ3Bhc3N3b3JkJztcbiAgICB9KTtcblxuICAgIC8vIERvd25sb2FkIGJ1aWxkIGFzIFpJUFxuICAgIGNvbnN0IGRvd25sb2FkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZG93bmxvYWQtYnVpbGRdJyk7XG4gICAgY29uc3QgZG93bmxvYWRGZWVkYmFjayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRvd25sb2FkLWZlZWRiYWNrXScpO1xuICAgIGNvbnN0IGRvd25sb2FkQXBpID0gc2FmZVNpdGVTbHVnXG4gICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Zyl9L2Rvd25sb2FkYFxuICAgICAgOiBudWxsO1xuXG4gICAgY29uc3Qgc2V0RG93bmxvYWRGZWVkYmFjayA9IChtZXNzYWdlLCB0b25lID0gJ211dGVkJykgPT4ge1xuICAgICAgaWYgKCFkb3dubG9hZEZlZWRiYWNrKSByZXR1cm47XG4gICAgICBjb25zdCBjb2xvciA9XG4gICAgICAgIHRvbmUgPT09ICdzdWNjZXNzJ1xuICAgICAgICAgID8gJ3RleHQtZW1lcmFsZC02MDAnXG4gICAgICAgICAgOiB0b25lID09PSAnZXJyb3InXG4gICAgICAgICAgICA/ICd0ZXh0LXJvc2UtNjAwJ1xuICAgICAgICAgICAgOiAndGV4dC1zbGF0ZS01MDAnO1xuICAgICAgZG93bmxvYWRGZWVkYmFjay50ZXh0Q29udGVudCA9IG1lc3NhZ2UgfHwgJyc7XG4gICAgICBkb3dubG9hZEZlZWRiYWNrLmNsYXNzTmFtZSA9IGB0ZXh0LXNtICR7Y29sb3J9YDtcbiAgICB9O1xuXG4gICAgZG93bmxvYWRCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFkb3dubG9hZEFwaSkge1xuICAgICAgICBzZXREb3dubG9hZEZlZWRiYWNrKCdBdWN1biBzaXRlIGFjdGlmIHNcdTAwRTlsZWN0aW9ublx1MDBFOS4nLCAnZXJyb3InKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZG93bmxvYWRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgY29uc3Qgb3JpZ2luYWxDb250ZW50ID0gZG93bmxvYWRCdXR0b24uaW5uZXJIVE1MO1xuICAgICAgZG93bmxvYWRCdXR0b24uaW5uZXJIVE1MID0gYFxuICAgICAgICA8c3ZnIGNsYXNzPVwidy00IGgtNCBhbmltYXRlLXNwaW5cIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICA8Y2lyY2xlIGNsYXNzPVwib3BhY2l0eS0yNVwiIGN4PVwiMTJcIiBjeT1cIjEyXCIgcj1cIjEwXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiNFwiPjwvY2lyY2xlPlxuICAgICAgICAgIDxwYXRoIGNsYXNzPVwib3BhY2l0eS03NVwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIiBkPVwiTTQgMTJhOCA4IDAgMDE4LTh2NGE0IDQgMCAwMC00IDRINHpcIj48L3BhdGg+XG4gICAgICAgIDwvc3ZnPlxuICAgICAgICA8c3Bhbj5CdWlsZCBlbiBjb3Vycy4uLjwvc3Bhbj5cbiAgICAgIGA7XG4gICAgICBzZXREb3dubG9hZEZlZWRiYWNrKCdHXHUwMEU5blx1MDBFOXJhdGlvbiBkdSBidWlsZCBlbiBjb3Vycy4uLicsICdtdXRlZCcpO1xuXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGRvd25sb2FkQXBpKTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnN0IGVycm9yRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JEYXRhLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgZ1x1MDBFOW5cdTAwRTlyZXIgbGUgWklQLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRcdTAwRTlsXHUwMEU5Y2hhcmdlciBsZSBmaWNoaWVyXG4gICAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCByZXNwb25zZS5ibG9iKCk7XG4gICAgICAgIGNvbnN0IHVybCA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICAgICAgICBjb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgICBhLmhyZWYgPSB1cmw7XG4gICAgICAgIGEuZG93bmxvYWQgPSBgJHtzYWZlU2l0ZVNsdWd9LWJ1aWxkLnppcGA7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSk7XG4gICAgICAgIGEuY2xpY2soKTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChhKTtcbiAgICAgICAgd2luZG93LlVSTC5yZXZva2VPYmplY3RVUkwodXJsKTtcbiAgICAgICAgc2V0RG93bmxvYWRGZWVkYmFjaygnVFx1MDBFOWxcdTAwRTljaGFyZ2VtZW50IHRlcm1pblx1MDBFOSAhJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgc2hvd1RvYXN0KCdCdWlsZCB0XHUwMEU5bFx1MDBFOWNoYXJnXHUwMEU5IGF2ZWMgc3VjY1x1MDBFOHMnKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZG93bmxvYWRdIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNldERvd25sb2FkRmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGR1IHRcdTAwRTlsXHUwMEU5Y2hhcmdlbWVudC4nLCAnZXJyb3InKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGRvd25sb2FkQnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIGRvd25sb2FkQnV0dG9uLmlubmVySFRNTCA9IG9yaWdpbmFsQ29udGVudDtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGZldGNoQ29uZmlnKCk7XG4gICAgZmV0Y2hIaXN0b3J5KCk7XG4gIH1cblxuICBmdW5jdGlvbiBpbml0U2V0dGluZ3NXb3Jrc3BhY2UoKSB7XG4gICAgY29uc3QgdGFiQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXNldHRpbmdzLXRhYl0nKTtcbiAgICBjb25zdCB0YWJQYW5lbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1zZXR0aW5ncy1wYW5lbF0nKTtcbiAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRtaW4tcGFzc3dvcmQtZm9ybV0nKTtcbiAgICBjb25zdCBzaXRlRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtY29uZmlnLWZvcm1dJyk7XG4gICAgY29uc3Qgc2l0ZUZlZWRiYWNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS1jb25maWctZmVlZGJhY2tdJyk7XG4gICAgY29uc3QgdGhlbWVGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtZm9ybV0nKTtcbiAgICBjb25zdCBzd2l0Y2hUYWIgPSAobmFtZSkgPT4ge1xuICAgICAgdGFiQnV0dG9ucy5mb3JFYWNoKChidG4pID0+IHtcbiAgICAgICAgY29uc3QgaXNBY3RpdmUgPSBidG4uZGF0YXNldC5zZXR0aW5nc1RhYiA9PT0gbmFtZTtcbiAgICAgICAgYnRuLnNldEF0dHJpYnV0ZSgnYXJpYS1zZWxlY3RlZCcsIGlzQWN0aXZlID8gJ3RydWUnIDogJ2ZhbHNlJyk7XG4gICAgICAgIGJ0bi5jbGFzc0xpc3QudG9nZ2xlKCdiZy1bIzlDNkJGRl0nLCBpc0FjdGl2ZSk7XG4gICAgICAgIGJ0bi5jbGFzc0xpc3QudG9nZ2xlKCd0ZXh0LXdoaXRlJywgaXNBY3RpdmUpO1xuICAgICAgfSk7XG4gICAgICB0YWJQYW5lbHMuZm9yRWFjaCgocGFuZWwpID0+IHtcbiAgICAgICAgcGFuZWwuY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZGVuJywgcGFuZWwuZGF0YXNldC5zZXR0aW5nc1BhbmVsICE9PSBuYW1lKTtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgdGFiQnV0dG9ucy5mb3JFYWNoKChidG4pID0+IHtcbiAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHN3aXRjaFRhYihidG4uZGF0YXNldC5zZXR0aW5nc1RhYiB8fCAnYWNjb3VudCcpKTtcbiAgICB9KTtcbiAgICBzd2l0Y2hUYWIoJ2FjY291bnQnKTtcblxuICAgIGlmICghZm9ybSkge1xuICAgICAgLy8gc3RpbGwgYWxsb3cgc2l0ZSBmb3JtIGV2ZW4gaWYgcGFzc3dvcmQgZm9ybSBhYnNlbnRcbiAgICB9XG4gICAgaWYgKGZvcm0pIHtcbiAgICAgIGNvbnN0IGZlZWRiYWNrID0gZm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZG1pbi1wYXNzd29yZC1mZWVkYmFja10nKTtcbiAgICAgIGNvbnN0IHN1Ym1pdCA9IGZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYWRtaW4tcGFzc3dvcmQtc3VibWl0XScpO1xuICAgICAgY29uc3Qgc2V0RmVlZGJhY2sgPSAobWVzc2FnZSwgdG9uZSA9ICdtdXRlZCcpID0+IHtcbiAgICAgICAgaWYgKCFmZWVkYmFjaykgcmV0dXJuO1xuICAgICAgICBjb25zdCBjb2xvciA9XG4gICAgICAgICAgdG9uZSA9PT0gJ3N1Y2Nlc3MnXG4gICAgICAgICAgICA/ICd0ZXh0LWVtZXJhbGQtNjAwJ1xuICAgICAgICAgICAgOiB0b25lID09PSAnZXJyb3InXG4gICAgICAgICAgICAgID8gJ3RleHQtcm9zZS02MDAnXG4gICAgICAgICAgICAgIDogJ3RleHQtc2xhdGUtNTAwJztcbiAgICAgICAgZmVlZGJhY2sudGV4dENvbnRlbnQgPSBtZXNzYWdlIHx8ICcnO1xuICAgICAgICBmZWVkYmFjay5jbGFzc05hbWUgPSBgdGV4dC1zbSAke2NvbG9yfWA7XG4gICAgICB9O1xuICAgICAgZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoZm9ybSk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRQYXNzd29yZCA9IGZvcm1EYXRhLmdldCgnY3VycmVudFBhc3N3b3JkJykgfHwgJyc7XG4gICAgICAgIGNvbnN0IG5ld1Bhc3N3b3JkID0gZm9ybURhdGEuZ2V0KCduZXdQYXNzd29yZCcpIHx8ICcnO1xuICAgICAgICBjb25zdCBjb25maXJtUGFzc3dvcmQgPSBmb3JtRGF0YS5nZXQoJ2NvbmZpcm1QYXNzd29yZCcpIHx8ICcnO1xuICAgICAgICBpZiAoIWN1cnJlbnRQYXNzd29yZCB8fCAhbmV3UGFzc3dvcmQgfHwgIWNvbmZpcm1QYXNzd29yZCkge1xuICAgICAgICAgIHNldEZlZWRiYWNrKCdDb21wbFx1MDBFOHRlIHRvdXMgbGVzIGNoYW1wcy4nLCAnZXJyb3InKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc3VibWl0ICYmIChzdWJtaXQuZGlzYWJsZWQgPSB0cnVlKTtcbiAgICAgICAgc2V0RmVlZGJhY2soJycpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvYWRtaW4vcGFzc3dvcmQnLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBjdXJyZW50UGFzc3dvcmQsIG5ld1Bhc3N3b3JkLCBjb25maXJtUGFzc3dvcmQgfSksXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rIHx8IHBheWxvYWQuc3VjY2VzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihwYXlsb2FkLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgbWV0dHJlIFx1MDBFMCBqb3VyIGxlIG1vdCBkZSBwYXNzZS4nKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0RmVlZGJhY2socGF5bG9hZC5tZXNzYWdlIHx8ICdNb3QgZGUgcGFzc2UgbWlzIFx1MDBFMCBqb3VyLicsICdzdWNjZXNzJyk7XG4gICAgICAgICAgZm9ybS5yZXNldCgpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIGNoYW5nZSBwYXNzd29yZCBmYWlsZWQnLCBlcnIpO1xuICAgICAgICAgIHNldEZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsYSBtaXNlIFx1MDBFMCBqb3VyLicsICdlcnJvcicpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIHN1Ym1pdCAmJiAoc3VibWl0LmRpc2FibGVkID0gZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoc2l0ZUZvcm0pIHtcbiAgICAgIGNvbnN0IG5hbWVJbnB1dCA9IHNpdGVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtbmFtZV0nKTtcbiAgICAgIGNvbnN0IGxhbmdTZWxlY3QgPSBzaXRlRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLWxhbmd1YWdlXScpO1xuICAgICAgY29uc3QgdGFnbGluZUlucHV0ID0gc2l0ZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS10YWdsaW5lXScpO1xuICAgICAgY29uc3Qgc2F2ZUJ1dHRvbiA9IHNpdGVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtc2F2ZV0nKTtcbiAgICAgIGNvbnN0IHNldFNpdGVGZWVkYmFjayA9IChtZXNzYWdlLCB0b25lID0gJ211dGVkJykgPT4ge1xuICAgICAgICBpZiAoIXNpdGVGZWVkYmFjaykgcmV0dXJuO1xuICAgICAgICBjb25zdCBjb2xvciA9XG4gICAgICAgICAgdG9uZSA9PT0gJ3N1Y2Nlc3MnXG4gICAgICAgICAgICA/ICd0ZXh0LWVtZXJhbGQtNjAwJ1xuICAgICAgICAgICAgOiB0b25lID09PSAnZXJyb3InXG4gICAgICAgICAgICAgID8gJ3RleHQtcm9zZS02MDAnXG4gICAgICAgICAgICAgIDogJ3RleHQtc2xhdGUtNTAwJztcbiAgICAgICAgc2l0ZUZlZWRiYWNrLnRleHRDb250ZW50ID0gbWVzc2FnZSB8fCAnJztcbiAgICAgICAgc2l0ZUZlZWRiYWNrLmNsYXNzTmFtZSA9IGB0ZXh0LXNtICR7Y29sb3J9YDtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHNhZmVTaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKFxuICAgICAgICB3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnLFxuICAgICAgKTtcbiAgICAgIGNvbnN0IHNpdGVDb25maWdBcGkgPSBzYWZlU2l0ZVNsdWdcbiAgICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9jb25maWcvc2l0ZWBcbiAgICAgICAgOiBudWxsO1xuXG4gICAgICBjb25zdCBsb2FkU2l0ZUNvbmZpZyA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKCFzaXRlQ29uZmlnQXBpKSByZXR1cm47XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChzaXRlQ29uZmlnQXBpLCB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSByZXR1cm47XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICBpZiAobmFtZUlucHV0KSBuYW1lSW5wdXQudmFsdWUgPSBwYXlsb2FkLm5hbWUgfHwgJyc7XG4gICAgICAgICAgaWYgKGxhbmdTZWxlY3QpIGxhbmdTZWxlY3QudmFsdWUgPSBwYXlsb2FkLmxhbmd1YWdlIHx8ICdmcic7XG4gICAgICAgICAgaWYgKHRhZ2xpbmVJbnB1dCkgdGFnbGluZUlucHV0LnZhbHVlID0gcGF5bG9hZC50YWdsaW5lIHx8ICcnO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIGxvYWQgc2l0ZSBjb25maWcgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgc2l0ZUZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmICghc2l0ZUNvbmZpZ0FwaSkge1xuICAgICAgICAgIHNldFNpdGVGZWVkYmFjaygnQXVjdW4gc2l0ZSBhY3RpZi4nLCAnZXJyb3InKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFuYW1lSW5wdXQ/LnZhbHVlLnRyaW0oKSkge1xuICAgICAgICAgIHNldFNpdGVGZWVkYmFjaygnTm9tIHJlcXVpcy4nLCAnZXJyb3InKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc2F2ZUJ1dHRvbiAmJiAoc2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWUpO1xuICAgICAgICBzZXRTaXRlRmVlZGJhY2soJycpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgICAgICBuYW1lOiBuYW1lSW5wdXQ/LnZhbHVlIHx8ICcnLFxuICAgICAgICAgICAgbGFuZ3VhZ2U6IGxhbmdTZWxlY3Q/LnZhbHVlIHx8ICdmcicsXG4gICAgICAgICAgICB0YWdsaW5lOiB0YWdsaW5lSW5wdXQ/LnZhbHVlIHx8ICcnLFxuICAgICAgICAgIH07XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChzaXRlQ29uZmlnQXBpLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vayB8fCByZXN1bHQuc3VjY2VzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQubWVzc2FnZSB8fCAnU2F1dmVnYXJkZSBpbXBvc3NpYmxlLicpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXRTaXRlRmVlZGJhY2socmVzdWx0Lm1lc3NhZ2UgfHwgJ1BhcmFtXHUwMEU4dHJlcyBlbnJlZ2lzdHJcdTAwRTlzLicsICdzdWNjZXNzJyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gc2F2ZSBzaXRlIGNvbmZpZyBmYWlsZWQnLCBlcnIpO1xuICAgICAgICAgIHNldFNpdGVGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZGUgbGEgc2F1dmVnYXJkZS4nLCAnZXJyb3InKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBzYXZlQnV0dG9uICYmIChzYXZlQnV0dG9uLmRpc2FibGVkID0gZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgbG9hZFNpdGVDb25maWcoKTtcbiAgICB9XG5cbiAgICBpZiAodGhlbWVGb3JtKSB7XG4gICAgICBjb25zdCBzYWZlU2l0ZVNsdWcgPSBzdHJpcExlYWRpbmdTbGFzaChcbiAgICAgICAgd29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyxcbiAgICAgICk7XG4gICAgICBjb25zdCB0aGVtZUFwaSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Zyl9L2NvbmZpZy90aGVtZWBcbiAgICAgICAgOiBudWxsO1xuXG4gICAgICBjb25zdCBjb2xvclNlbGVjdHMgPSB7XG4gICAgICAgIHByaW1hcnk6IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1wcmltYXJ5XScpLFxuICAgICAgICBzZWNvbmRhcnk6IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1zZWNvbmRhcnldJyksXG4gICAgICAgIGFjY2VudDogdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLWFjY2VudF0nKSxcbiAgICAgICAgYmFja2dyb3VuZDogdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLWJhY2tncm91bmRdJyksXG4gICAgICAgIHRleHQ6IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS10ZXh0XScpLFxuICAgICAgfTtcbiAgICAgIGNvbnN0IGhlYWRpbmdTZWxlY3QgPSB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtaGVhZGluZ3NdJyk7XG4gICAgICBjb25zdCBib2R5U2VsZWN0ID0gdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLWJvZHldJyk7XG4gICAgICBjb25zdCByYWRpdXNTbWFsbCA9IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1yYWRpdXMtc21hbGxdJyk7XG4gICAgICBjb25zdCByYWRpdXNNZWRpdW0gPSB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtcmFkaXVzLW1lZGl1bV0nKTtcbiAgICAgIGNvbnN0IHJhZGl1c0xhcmdlID0gdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLXJhZGl1cy1sYXJnZV0nKTtcbiAgICAgIGNvbnN0IHByZXZpZXcgPSB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtcHJldmlld10nKTtcbiAgICAgIGNvbnN0IHRoZW1lRmVlZGJhY2sgPSB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtZmVlZGJhY2tdJyk7XG4gICAgICBjb25zdCBhcHBseUJ1dHRvbiA9IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1hcHBseV0nKTtcbiAgICAgIGNvbnN0IHRhaWx3aW5kQmFzZU1hcCA9IHtcbiAgICAgICAgc2xhdGU6JyNlMmU4ZjAnLGdyYXk6JyNkMWQ1ZGInLHppbmM6JyNkNGQ0ZDgnLG5ldXRyYWw6JyNkNGQ0ZDQnLHN0b25lOicjZDZkM2QxJyxcbiAgICAgICAgcmVkOicjZWY0NDQ0JyxvcmFuZ2U6JyNmOTczMTYnLGFtYmVyOicjZjU5ZTBiJyx5ZWxsb3c6JyNlYWIzMDgnLGxpbWU6JyM4NGNjMTYnLFxuICAgICAgICBncmVlbjonIzIyYzU1ZScsZW1lcmFsZDonIzEwYjk4MScsdGVhbDonIzE0YjhhNicsY3lhbjonIzA2YjZkNCcsc2t5OicjMGVhNWU5JyxcbiAgICAgICAgYmx1ZTonIzNiODJmNicsaW5kaWdvOicjNjM2NmYxJyx2aW9sZXQ6JyM4YjVjZjYnLHB1cnBsZTonI2E4NTVmNycsZnVjaHNpYTonI2Q5NDZlZicsXG4gICAgICAgIHBpbms6JyNlYzQ4OTknLHJvc2U6JyNmNDNmNWUnXG4gICAgICB9O1xuICAgICAgY29uc3QgdGFpbHdpbmRUb2tlblRvSGV4ID0gKHRva2VuKSA9PiB7XG4gICAgICAgIGlmICghdG9rZW4pIHJldHVybiBudWxsO1xuICAgICAgICBpZiAodG9rZW4gPT09ICd3aGl0ZScpIHJldHVybiAnI2ZmZmZmZic7XG4gICAgICAgIGlmICh0b2tlbiA9PT0gJ2JsYWNrJykgcmV0dXJuICcjMDAwMDAwJztcbiAgICAgICAgaWYgKHRva2VuID09PSAndHJhbnNwYXJlbnQnKSByZXR1cm4gJ3RyYW5zcGFyZW50JztcbiAgICAgICAgY29uc3QgW2gsc10gPSB0b2tlbi5zcGxpdCgnLScpO1xuICAgICAgICBpZiAoIWggfHwgIXMpIHJldHVybiBudWxsO1xuICAgICAgICBjb25zdCBiYXNlID0gdGFpbHdpbmRCYXNlTWFwW2hdO1xuICAgICAgICBpZiAoIWJhc2UpIHJldHVybiBudWxsO1xuICAgICAgICBjb25zdCBzaGFkZU51bSA9IE51bWJlcihzKSB8fCA1MDA7XG4gICAgICAgIGNvbnN0IGZhY3RvciA9IE1hdGgubWluKE1hdGgubWF4KChzaGFkZU51bSAtIDUwKSAvIDkwMCwgMCksIDEpO1xuICAgICAgICBjb25zdCB0b1JnYiA9IChoZXgpID0+XG4gICAgICAgICAgaGV4XG4gICAgICAgICAgICAucmVwbGFjZSgnIycsICcnKVxuICAgICAgICAgICAgLm1hdGNoKC9bQS1GYS1mMC05XXsyfS9nKVxuICAgICAgICAgICAgLm1hcCgodikgPT4gcGFyc2VJbnQodiwgMTYpKTtcbiAgICAgICAgY29uc3QgW3IsIGcsIGJdID0gdG9SZ2IoYmFzZSk7XG4gICAgICAgIGNvbnN0IG1peCA9ICh2KSA9PiBNYXRoLnJvdW5kKDI1NSAtICgyNTUgLSB2KSAqIGZhY3Rvcik7XG4gICAgICAgIHJldHVybiBgcmdiKCR7bWl4KHIpfSwgJHttaXgoZyl9LCAke21peChiKX0pYDtcbiAgICAgIH07XG4gICAgICBjb25zdCB0YWlsd2luZEh1ZXMgPSBbXG4gICAgICAgICdzbGF0ZScsJ2dyYXknLCd6aW5jJywnbmV1dHJhbCcsJ3N0b25lJywncmVkJywnb3JhbmdlJywnYW1iZXInLCd5ZWxsb3cnLCdsaW1lJywnZ3JlZW4nLCdlbWVyYWxkJywndGVhbCcsJ2N5YW4nLCdza3knLCdibHVlJywnaW5kaWdvJywndmlvbGV0JywncHVycGxlJywnZnVjaHNpYScsJ3BpbmsnLCdyb3NlJ1xuICAgICAgXTtcbiAgICAgIGNvbnN0IHRhaWx3aW5kU2hhZGVzID0gWyc1MCcsJzEwMCcsJzIwMCcsJzMwMCcsJzQwMCcsJzUwMCcsJzYwMCcsJzcwMCcsJzgwMCcsJzkwMCddO1xuICAgICAgY29uc3QgdGFpbHdpbmRUb2tlbnMgPSB0YWlsd2luZEh1ZXMuZmxhdE1hcCgoaCk9PnRhaWx3aW5kU2hhZGVzLm1hcCgocyk9PmAke2h9LSR7c31gKSk7XG5cbiAgICAgIGNvbnN0IG5ldXRyYWxUb2tlbnMgPSBbXG4gICAgICAgIHsgdmFsdWU6ICd3aGl0ZScsIGxhYmVsOiAnQmxhbmMnLCBjb2xvcjogJyNmZmZmZmYnLCBlbW9qaTogJ1x1MkIxQycgfSxcbiAgICAgICAgeyB2YWx1ZTogJ3RyYW5zcGFyZW50JywgbGFiZWw6ICdUcmFuc3BhcmVudCcsIGNvbG9yOiAndHJhbnNwYXJlbnQnLCBlbW9qaTogJ1x1MkIxQycgfSxcbiAgICAgICAgeyB2YWx1ZTogJ2JsYWNrJywgbGFiZWw6ICdOb2lyJywgY29sb3I6ICcjMDAwMDAwJywgZW1vamk6ICdcdTJCMUInIH0sXG4gICAgICBdO1xuXG4gICAgICBjb25zdCBjb2xvck9wdGlvbkRlZmluaXRpb25zID0gKCgpID0+IHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IFtdO1xuICAgICAgICBuZXV0cmFsVG9rZW5zLmZvckVhY2goKHsgdmFsdWUsIGxhYmVsLCBjb2xvciwgZW1vamkgfSkgPT4ge1xuICAgICAgICAgIG9wdGlvbnMucHVzaCh7XG4gICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgIGxhYmVsOiBgJHtlbW9qaX0gJHtsYWJlbH1gLFxuICAgICAgICAgICAgY29sb3IsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0YWlsd2luZFRva2Vucy5mb3JFYWNoKCh0b2tlbikgPT4ge1xuICAgICAgICAgIGNvbnN0IFtoLCBzXSA9IHRva2VuLnNwbGl0KCctJyk7XG4gICAgICAgICAgY29uc3QgY29sb3JWYWx1ZSA9IHRhaWx3aW5kVG9rZW5Ub0hleCh0b2tlbikgfHwgJyNmZmZmZmYnO1xuICAgICAgICAgIG9wdGlvbnMucHVzaCh7XG4gICAgICAgICAgICB2YWx1ZTogdG9rZW4sXG4gICAgICAgICAgICBsYWJlbDogYCR7aC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGguc2xpY2UoMSl9ICR7c31gLFxuICAgICAgICAgICAgY29sb3I6IGNvbG9yVmFsdWUsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gb3B0aW9ucztcbiAgICAgIH0pKCk7XG5cbiAgICAgIGNvbnN0IG5vcm1hbGl6ZVNlbGVjdENvbG9yID0gKHZhbHVlKSA9PlxuICAgICAgICB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnID8gdmFsdWUudHJpbSgpLnRvTG93ZXJDYXNlKCkgOiAnJztcblxuICAgICAgY29uc3QgZmlsbENvbG9yT3B0aW9ucyA9IChzZWxlY3RlZENvbG9ycyA9IHt9KSA9PiB7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKGNvbG9yU2VsZWN0cykuZm9yRWFjaCgoW2tleSwgc2VsXSkgPT4ge1xuICAgICAgICAgIGlmICghc2VsKSByZXR1cm47XG4gICAgICAgICAgY29uc3Qgbm9ybWFsaXplZFZhbHVlID0gbm9ybWFsaXplU2VsZWN0Q29sb3Ioc2VsZWN0ZWRDb2xvcnNba2V5XSk7XG4gICAgICAgICAgc2VsLmlubmVySFRNTCA9ICcnO1xuICAgICAgICAgIGNvbG9yT3B0aW9uRGVmaW5pdGlvbnMuZm9yRWFjaCgoeyB2YWx1ZSwgbGFiZWwsIGNvbG9yIH0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICAgICAgb3B0aW9uLnZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICBvcHRpb24udGV4dENvbnRlbnQgPSBsYWJlbDtcbiAgICAgICAgICAgIG9wdGlvbi5kYXRhc2V0LmNvbG9yID0gY29sb3I7XG4gICAgICAgICAgICBpZiAobm9ybWFsaXplZFZhbHVlICYmIG5vcm1hbGl6ZWRWYWx1ZSA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgb3B0aW9uLnNlbGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNlbC5hcHBlbmRDaGlsZChvcHRpb24pO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNlbC5kYXRhc2V0LmRlZmF1bHQgPSBzZWwuZGF0YXNldC5kZWZhdWx0IHx8IHNlbC5vcHRpb25zWzBdPy52YWx1ZSB8fCAnJztcbiAgICAgICAgICBpZiAoIW5vcm1hbGl6ZWRWYWx1ZSAmJiBzZWwuZGF0YXNldC5kZWZhdWx0KSB7XG4gICAgICAgICAgICBzZWwudmFsdWUgPSBzZWwuZGF0YXNldC5kZWZhdWx0O1xuICAgICAgICAgIH1cbiAgICAgICAgICBzdHlsZVNlbGVjdE9wdGlvbnMoc2VsKTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBzZXRUaGVtZUZlZWRiYWNrID0gKG1lc3NhZ2UsIHRvbmUgPSAnbXV0ZWQnKSA9PiB7XG4gICAgICAgIGlmICghdGhlbWVGZWVkYmFjaykgcmV0dXJuO1xuICAgICAgICBjb25zdCBjb2xvciA9XG4gICAgICAgICAgdG9uZSA9PT0gJ3N1Y2Nlc3MnXG4gICAgICAgICAgICA/ICd0ZXh0LWVtZXJhbGQtNjAwJ1xuICAgICAgICAgICAgOiB0b25lID09PSAnZXJyb3InXG4gICAgICAgICAgICAgID8gJ3RleHQtcm9zZS02MDAnXG4gICAgICAgICAgICAgIDogJ3RleHQtc2xhdGUtNTAwJztcbiAgICAgICAgdGhlbWVGZWVkYmFjay50ZXh0Q29udGVudCA9IG1lc3NhZ2UgfHwgJyc7XG4gICAgICAgIHRoZW1lRmVlZGJhY2suY2xhc3NOYW1lID0gYHRleHQtc20gJHtjb2xvcn1gO1xuICAgICAgfTtcblxuICAgICAgY29uc3Qgc3luY1ByZXZpZXcgPSAoKSA9PiB7XG4gICAgICAgIGlmICghcHJldmlldykgcmV0dXJuO1xuICAgICAgICBjb25zdCB0b2tlblRvSGV4ID0gKHRva2VuKSA9PiB7XG4gICAgICAgICAgaWYgKCF0b2tlbikgcmV0dXJuIG51bGw7XG4gICAgICAgICAgLy8gR1x1MDBFOXJlciBsZXMgY2FzIHNwXHUwMEU5Y2lhdXggd2hpdGUsIGJsYWNrLCB0cmFuc3BhcmVudFxuICAgICAgICAgIGlmICh0b2tlbiA9PT0gJ3doaXRlJykgcmV0dXJuICcjZmZmZmZmJztcbiAgICAgICAgICBpZiAodG9rZW4gPT09ICdibGFjaycpIHJldHVybiAnIzAwMDAwMCc7XG4gICAgICAgICAgaWYgKHRva2VuID09PSAndHJhbnNwYXJlbnQnKSByZXR1cm4gJ3RyYW5zcGFyZW50JztcbiAgICAgICAgICBcbiAgICAgICAgICBjb25zdCBbaCxzXT10b2tlbi5zcGxpdCgnLScpO1xuICAgICAgICAgIGlmICghaCB8fCAhcykgcmV0dXJuIG51bGw7IC8vIEZvcm1hdCBpbnZhbGlkZVxuICAgICAgICAgIFxuICAgICAgICAgIGNvbnN0IG1hcCA9IHtcbiAgICAgICAgICAgIHNsYXRlOicjZTJlOGYwJyxncmF5OicjZDFkNWRiJyx6aW5jOicjZDRkNGQ4JyxuZXV0cmFsOicjZDRkNGQ0JyxzdG9uZTonI2Q2ZDNkMScsXG4gICAgICAgICAgICByZWQ6JyNlZjQ0NDQnLG9yYW5nZTonI2Y5NzMxNicsYW1iZXI6JyNmNTllMGInLHllbGxvdzonI2VhYjMwOCcsbGltZTonIzg0Y2MxNicsXG4gICAgICAgICAgICBncmVlbjonIzIyYzU1ZScsZW1lcmFsZDonIzEwYjk4MScsdGVhbDonIzE0YjhhNicsY3lhbjonIzA2YjZkNCcsc2t5OicjMGVhNWU5JyxcbiAgICAgICAgICAgIGJsdWU6JyMzYjgyZjYnLGluZGlnbzonIzYzNjZmMScsdmlvbGV0OicjOGI1Y2Y2JyxwdXJwbGU6JyNhODU1ZjcnLGZ1Y2hzaWE6JyNkOTQ2ZWYnLFxuICAgICAgICAgICAgcGluazonI2VjNDg5OScscm9zZTonI2Y0M2Y1ZSdcbiAgICAgICAgICB9O1xuICAgICAgICAgIGNvbnN0IGJhc2U9bWFwW2hdO1xuICAgICAgICAgIGlmICghYmFzZSkgcmV0dXJuIG51bGw7XG4gICAgICAgICAgLy8gcm91Z2ggc2hhZGUgdHdlYWsgdXNpbmcgb3BhY2l0eTsgbm90IGV4YWN0IFRhaWx3aW5kIHBhbGV0dGUgYnV0IHByZXZpZXctZnJpZW5kbHlcbiAgICAgICAgICBjb25zdCBzaGFkZU51bT1OdW1iZXIocyl8fDUwMDtcbiAgICAgICAgICBjb25zdCBmYWN0b3IgPSBNYXRoLm1pbihNYXRoLm1heCgoc2hhZGVOdW0tNTApLzkwMCwwKSwxKTtcbiAgICAgICAgICBjb25zdCB0b1JnYj0oaGV4KT0+aGV4Lm1hdGNoKC9bQS1GYS1mMC05XXsyfS9nKS5tYXAoKHYpPT5wYXJzZUludCh2LDE2KSk7XG4gICAgICAgICAgY29uc3QgW3IsZyxiXT10b1JnYihiYXNlLnJlcGxhY2UoJyMnLCcnKSk7XG4gICAgICAgICAgY29uc3QgbWl4PSh2KT0+TWF0aC5yb3VuZCgyNTUgLSAoMjU1IC0gdikqZmFjdG9yKTtcbiAgICAgICAgICByZXR1cm4gYHJnYigke21peChyKX0sICR7bWl4KGcpfSwgJHttaXgoYil9KWA7XG4gICAgICAgIH07XG4gICAgICAgIHByZXZpZXcuc3R5bGUuc2V0UHJvcGVydHkoJy0tY29sb3ItcHJpbWFyeScsIHRhaWx3aW5kVG9rZW5Ub0hleChjb2xvclNlbGVjdHMucHJpbWFyeT8udmFsdWUpIHx8ICcjOUM2QkZGJyk7XG4gICAgICAgIHByZXZpZXcuc3R5bGUuc2V0UHJvcGVydHkoJy0tY29sb3Itc2Vjb25kYXJ5JywgdGFpbHdpbmRUb2tlblRvSGV4KGNvbG9yU2VsZWN0cy5zZWNvbmRhcnk/LnZhbHVlKSB8fCAnIzBFQTVFOScpO1xuICAgICAgICBwcmV2aWV3LnN0eWxlLnNldFByb3BlcnR5KCctLWNvbG9yLWFjY2VudCcsIHRhaWx3aW5kVG9rZW5Ub0hleChjb2xvclNlbGVjdHMuYWNjZW50Py52YWx1ZSkgfHwgJyNGOTczMTYnKTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1jb2xvci1iYWNrZ3JvdW5kJywgdGFpbHdpbmRUb2tlblRvSGV4KGNvbG9yU2VsZWN0cy5iYWNrZ3JvdW5kPy52YWx1ZSkgfHwgJyNGRkZGRkYnKTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1jb2xvci10ZXh0JywgdGFpbHdpbmRUb2tlblRvSGV4KGNvbG9yU2VsZWN0cy50ZXh0Py52YWx1ZSkgfHwgJyMwRjE3MkEnKTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1mb250LWhlYWRpbmdzJywgaGVhZGluZ1NlbGVjdD8udmFsdWUgfHwgJ0ludGVyLCBzYW5zLXNlcmlmJyk7XG4gICAgICAgIHByZXZpZXcuc3R5bGUuc2V0UHJvcGVydHkoJy0tZm9udC1ib2R5JywgYm9keVNlbGVjdD8udmFsdWUgfHwgJ0ludGVyLCBzYW5zLXNlcmlmJyk7XG4gICAgICAgIHByZXZpZXcuc3R5bGUuc2V0UHJvcGVydHkoJy0tcmFkaXVzLXNtYWxsJywgcmFkaXVzU21hbGw/LnZhbHVlIHx8ICc4cHgnKTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1yYWRpdXMtbWVkaXVtJywgcmFkaXVzTWVkaXVtPy52YWx1ZSB8fCAnMTZweCcpO1xuICAgICAgICBwcmV2aWV3LnN0eWxlLnNldFByb3BlcnR5KCctLXJhZGl1cy1sYXJnZScsIHJhZGl1c0xhcmdlPy52YWx1ZSB8fCAnMjRweCcpO1xuICAgICAgICBwcmV2aWV3LnN0eWxlLmJvcmRlclJhZGl1cyA9IHJhZGl1c01lZGl1bT8udmFsdWUgfHwgJzE2cHgnO1xuICAgICAgfTtcblxuICAgICAgLy8gSW5pdGlhbGlzZXIgbGVzIHByZXZpZXdzIGRlIGNvdWxldXIgZXQgYWpvdXRlciBsZXMgbGlzdGVuZXJzXG4gICAgICBjb25zdCBzdHlsZVRoZW1lQ29sb3JDaGlwID0gKGNoaXAsIGNvbG9yKSA9PiB7XG4gICAgICAgIGlmICghY2hpcCkgcmV0dXJuO1xuICAgICAgICBpZiAoY29sb3IgPT09ICd0cmFuc3BhcmVudCcpIHtcbiAgICAgICAgICBjaGlwLnN0eWxlLmJhY2tncm91bmQgPSAncmVwZWF0aW5nLWNvbmljLWdyYWRpZW50KCNjY2MgMCUgMjUlLCB3aGl0ZSAwJSA1MCUpIDUwJSAvIDhweCA4cHgnO1xuICAgICAgICAgIGNoaXAuc3R5bGUuYm9yZGVyQ29sb3IgPSAnI2NiZDVmNSc7XG4gICAgICAgICAgY2hpcC5zdHlsZS5ib3hTaGFkb3cgPSAnJztcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY2hpcC5zdHlsZS5iYWNrZ3JvdW5kID0gY29sb3I7XG4gICAgICAgIGNoaXAuc3R5bGUuYm9yZGVyQ29sb3IgPSBjb2xvcjtcbiAgICAgICAgY2hpcC5zdHlsZS5ib3hTaGFkb3cgPSAnMCAwIDAgMXB4IHJnYmEoMTUsMjMsNDIsMC4xNSknO1xuICAgICAgfTtcbiAgICAgIGNvbnN0IHVwZGF0ZVRoZW1lQ29sb3JQcmV2aWV3ID0gKHNlbGVjdCkgPT4ge1xuICAgICAgICBpZiAoIXNlbGVjdCkgcmV0dXJuO1xuICAgICAgICBjb25zdCBzZWxlY3RlZE9wdGlvbiA9IHNlbGVjdC5vcHRpb25zW3NlbGVjdC5zZWxlY3RlZEluZGV4XTtcbiAgICAgICAgY29uc3QgY29sb3IgPSBzZWxlY3RlZE9wdGlvbj8uZGF0YXNldD8uY29sb3IgfHwgJyNmZmZmZmYnO1xuICAgICAgICBjb25zdCBjb2xvclByZXZpZXcgPSBzZWxlY3QuY2xvc2VzdCgnLnJlbGF0aXZlJyk/LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbG9yLXByZXZpZXddJyk7XG4gICAgICAgIGlmIChjb2xvclByZXZpZXcpIHtcbiAgICAgICAgICBpZiAoY29sb3IgPT09ICd0cmFuc3BhcmVudCcpIHtcbiAgICAgICAgICAgIGNvbG9yUHJldmlldy5zdHlsZS5iYWNrZ3JvdW5kID0gVFJBTlNQQVJFTlRfUEFUVEVSTjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29sb3JQcmV2aWV3LnN0eWxlLmJhY2tncm91bmQgPSBjb2xvcjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29sb3JDaGlwID0gc2VsZWN0LmNsb3Nlc3QoJy5yZWxhdGl2ZScpPy5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1jb2xvci1jaGlwXScpO1xuICAgICAgICBzdHlsZVRoZW1lQ29sb3JDaGlwKGNvbG9yQ2hpcCwgY29sb3IpO1xuICAgICAgfTtcblxuICAgICAgY29uc3QgaW5pdENvbG9yUHJldmlld3MgPSAoKSA9PiB7XG4gICAgICAgIE9iamVjdC52YWx1ZXMoY29sb3JTZWxlY3RzKS5mb3JFYWNoKChzZWxlY3QpID0+IHtcbiAgICAgICAgICBpZiAoIXNlbGVjdCkgcmV0dXJuO1xuICAgICAgICAgIHN0eWxlU2VsZWN0T3B0aW9ucyhzZWxlY3QpO1xuICAgICAgICAgIHVwZGF0ZVRoZW1lQ29sb3JQcmV2aWV3KHNlbGVjdCk7XG4gICAgICAgICAgc2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHVwZGF0ZVRoZW1lQ29sb3JQcmV2aWV3KHNlbGVjdCkpO1xuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgIE9iamVjdC5rZXlzKGNvbG9yU2VsZWN0cykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgIGNvbG9yU2VsZWN0c1trZXldPy5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBzeW5jUHJldmlldyk7XG4gICAgICB9KTtcbiAgICAgIFtoZWFkaW5nU2VsZWN0LCBib2R5U2VsZWN0LCByYWRpdXNTbWFsbCwgcmFkaXVzTWVkaXVtLCByYWRpdXNMYXJnZV0uZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgICAgZWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHN5bmNQcmV2aWV3KTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBsb2FkVGhlbWUgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIGlmICghdGhlbWVBcGkpIHJldHVybjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHRoZW1lQXBpLCB7XG4gICAgICAgICAgICBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICBjcmVkZW50aWFsczogJ2luY2x1ZGUnLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHJldHVybjtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIGNvbnN0IHRoZW1lQ29sb3JzID0gcGF5bG9hZC5jb2xvcnMgfHwge307XG4gICAgICAgICAgZmlsbENvbG9yT3B0aW9ucyh0aGVtZUNvbG9ycyk7XG4gICAgICAgICAgT2JqZWN0LmVudHJpZXMoY29sb3JTZWxlY3RzKS5mb3JFYWNoKChba2V5LCBzZWxlY3RdKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXNlbGVjdCkgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSB0aGVtZUNvbG9yc1trZXldO1xuICAgICAgICAgICAgY29uc3Qgbm9ybWFsaXplZFZhbHVlID0gbm9ybWFsaXplU2VsZWN0Q29sb3IodmFsdWUpO1xuICAgICAgICAgICAgaWYgKG5vcm1hbGl6ZWRWYWx1ZSkge1xuICAgICAgICAgICAgICBzZWxlY3QudmFsdWUgPSBub3JtYWxpemVkVmFsdWU7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgIHNlbGVjdC52YWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzZWxlY3QuZGF0YXNldC5kZWZhdWx0KSB7XG4gICAgICAgICAgICAgIHNlbGVjdC52YWx1ZSA9IHNlbGVjdC5kYXRhc2V0LmRlZmF1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1cGRhdGVUaGVtZUNvbG9yUHJldmlldyhzZWxlY3QpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGlmIChoZWFkaW5nU2VsZWN0KSBoZWFkaW5nU2VsZWN0LnZhbHVlID0gcGF5bG9hZC50eXBvZ3JhcGh5Py5oZWFkaW5ncyB8fCAnSW50ZXIsIHNhbnMtc2VyaWYnO1xuICAgICAgICAgIGlmIChib2R5U2VsZWN0KSBib2R5U2VsZWN0LnZhbHVlID0gcGF5bG9hZC50eXBvZ3JhcGh5Py5ib2R5IHx8ICdJbnRlciwgc2Fucy1zZXJpZic7XG4gICAgICAgICAgaWYgKHJhZGl1c1NtYWxsKSByYWRpdXNTbWFsbC52YWx1ZSA9IHBheWxvYWQucmFkaXVzPy5zbWFsbCB8fCAnOHB4JztcbiAgICAgICAgICBpZiAocmFkaXVzTWVkaXVtKSByYWRpdXNNZWRpdW0udmFsdWUgPSBwYXlsb2FkLnJhZGl1cz8ubWVkaXVtIHx8ICcxNnB4JztcbiAgICAgICAgICBpZiAocmFkaXVzTGFyZ2UpIHJhZGl1c0xhcmdlLnZhbHVlID0gcGF5bG9hZC5yYWRpdXM/LmxhcmdlIHx8ICcyNHB4JztcbiAgICAgICAgICBzeW5jUHJldmlldygpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIGxvYWQgdGhlbWUgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgYXBwbHlCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmICghdGhlbWVBcGkpIHtcbiAgICAgICAgICBzZXRUaGVtZUZlZWRiYWNrKCdBdWN1biBzaXRlIGFjdGlmLicsICdlcnJvcicpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICAgIGNvbG9yczoge1xuICAgICAgICAgICAgcHJpbWFyeTogY29sb3JTZWxlY3RzLnByaW1hcnk/LnZhbHVlIHx8ICd2aW9sZXQtNTAwJyxcbiAgICAgICAgICAgIHNlY29uZGFyeTogY29sb3JTZWxlY3RzLnNlY29uZGFyeT8udmFsdWUgfHwgJ2luZGlnby00MDAnLFxuICAgICAgICAgICAgYWNjZW50OiBjb2xvclNlbGVjdHMuYWNjZW50Py52YWx1ZSB8fCAnZW1lcmFsZC01MDAnLFxuICAgICAgICAgICAgYmFja2dyb3VuZDogY29sb3JTZWxlY3RzLmJhY2tncm91bmQ/LnZhbHVlIHx8ICdzbGF0ZS01MCcsXG4gICAgICAgICAgICB0ZXh0OiBjb2xvclNlbGVjdHMudGV4dD8udmFsdWUgfHwgJ3NsYXRlLTkwMCcsXG4gICAgICAgICAgfSxcbiAgICAgICAgICB0eXBvZ3JhcGh5OiB7XG4gICAgICAgICAgICBoZWFkaW5nczogaGVhZGluZ1NlbGVjdD8udmFsdWUgfHwgJ0ludGVyLCBzYW5zLXNlcmlmJyxcbiAgICAgICAgICAgIGJvZHk6IGJvZHlTZWxlY3Q/LnZhbHVlIHx8ICdJbnRlciwgc2Fucy1zZXJpZicsXG4gICAgICAgICAgfSxcbiAgICAgICAgICByYWRpdXM6IHtcbiAgICAgICAgICAgIHNtYWxsOiByYWRpdXNTbWFsbD8udmFsdWUgfHwgJzhweCcsXG4gICAgICAgICAgICBtZWRpdW06IHJhZGl1c01lZGl1bT8udmFsdWUgfHwgJzE2cHgnLFxuICAgICAgICAgICAgbGFyZ2U6IHJhZGl1c0xhcmdlPy52YWx1ZSB8fCAnMjRweCcsXG4gICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgYXBwbHlCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICBzZXRUaGVtZUZlZWRiYWNrKCcnKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHRoZW1lQXBpLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICBjcmVkZW50aWFsczogJ2luY2x1ZGUnLFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2sgfHwgcmVzdWx0LnN1Y2Nlc3MgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzdWx0Lm1lc3NhZ2UgfHwgJ0FwcGxpY2F0aW9uIGR1IHRoXHUwMEU4bWUgXHUwMEU5Y2hvdVx1MDBFOWUuJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGF3YWl0IGxvYWRUaGVtZSgpO1xuICAgICAgICAgIHNldFRoZW1lRmVlZGJhY2socmVzdWx0Lm1lc3NhZ2UgfHwgJ1RoXHUwMEU4bWUgYXBwbGlxdVx1MDBFOS4nLCAnc3VjY2VzcycpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIGFwcGx5IHRoZW1lIGZhaWxlZCcsIGVycik7XG4gICAgICAgICAgc2V0VGhlbWVGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZGUgbFx1MjAxOWFwcGxpY2F0aW9uIGR1IHRoXHUwMEU4bWUuJywgJ2Vycm9yJyk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgYXBwbHlCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGZpbGxDb2xvck9wdGlvbnMoKTtcbiAgICAgIGluaXRDb2xvclByZXZpZXdzKCk7XG4gICAgICBsb2FkVGhlbWUoKTtcbiAgICAgIHN5bmNQcmV2aWV3KCk7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdhaS10aGVtZS11cGRhdGVkJywgKCkgPT4ge1xuICAgICAgICBsb2FkVGhlbWUoKTtcbiAgICAgICAgc2V0VGhlbWVGZWVkYmFjaygnVGhcdTAwRThtZSBtaXMgXHUwMEUwIGpvdXIuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIFNFTyBDb25maWcgZm9ybSAoVVM5LkIxKVxuICAgIGNvbnN0IHNlb0NvbmZpZ0Zvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8tY29uZmlnLWZvcm1dJyk7XG4gICAgaWYgKHNlb0NvbmZpZ0Zvcm0pIHtcbiAgICAgIGNvbnN0IGluZGV4QWxsQ2hlY2tib3ggPSBzZW9Db25maWdGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby1pbmRleC1hbGxdJyk7XG4gICAgICBjb25zdCBzZW9Db25maWdGZWVkYmFjayA9IHNlb0NvbmZpZ0Zvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtc2VvLWNvbmZpZy1mZWVkYmFja10nKTtcbiAgICAgIGNvbnN0IHNlb1NhdmVCdXR0b24gPSBzZW9Db25maWdGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby1zYXZlXScpO1xuXG4gICAgICBjb25zdCBzYWZlU2l0ZVNsdWcgPSBzdHJpcExlYWRpbmdTbGFzaChcbiAgICAgICAgd29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyxcbiAgICAgICk7XG4gICAgICBjb25zdCBzaXRlQ29uZmlnQXBpID0gc2FmZVNpdGVTbHVnXG4gICAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnKX0vY29uZmlnL3NpdGVgXG4gICAgICAgIDogbnVsbDtcblxuICAgICAgY29uc3Qgc2V0U2VvRmVlZGJhY2sgPSAobWVzc2FnZSwgdG9uZSA9ICdtdXRlZCcpID0+IHtcbiAgICAgICAgaWYgKCFzZW9Db25maWdGZWVkYmFjaykgcmV0dXJuO1xuICAgICAgICBjb25zdCBjb2xvciA9XG4gICAgICAgICAgdG9uZSA9PT0gJ3N1Y2Nlc3MnXG4gICAgICAgICAgICA/ICd0ZXh0LWVtZXJhbGQtNjAwJ1xuICAgICAgICAgICAgOiB0b25lID09PSAnZXJyb3InXG4gICAgICAgICAgICAgID8gJ3RleHQtcm9zZS02MDAnXG4gICAgICAgICAgICAgIDogJ3RleHQtc2xhdGUtNTAwJztcbiAgICAgICAgc2VvQ29uZmlnRmVlZGJhY2sudGV4dENvbnRlbnQgPSBtZXNzYWdlIHx8ICcnO1xuICAgICAgICBzZW9Db25maWdGZWVkYmFjay5jbGFzc05hbWUgPSBgdGV4dC1zbSAke2NvbG9yfWA7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBsb2FkU2VvQ29uZmlnID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoIXNpdGVDb25maWdBcGkpIHJldHVybjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHNpdGVDb25maWdBcGksIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHJldHVybjtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIGNvbnN0IGluZGV4QWxsID0gcGF5bG9hZC5zZW8/LmluZGV4QWxsUGFnZXNCeURlZmF1bHQgIT09IGZhbHNlO1xuICAgICAgICAgIGlmIChpbmRleEFsbENoZWNrYm94KSBpbmRleEFsbENoZWNrYm94LmNoZWNrZWQgPSBpbmRleEFsbDtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3NldHRpbmdzXSBsb2FkIHNlbyBjb25maWcgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgc2VvQ29uZmlnRm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKCFzaXRlQ29uZmlnQXBpKSB7XG4gICAgICAgICAgc2V0U2VvRmVlZGJhY2soJ0F1Y3VuIHNpdGUgYWN0aWYuJywgJ2Vycm9yJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNlb1NhdmVCdXR0b24gJiYgKHNlb1NhdmVCdXR0b24uZGlzYWJsZWQgPSB0cnVlKTtcbiAgICAgICAgc2V0U2VvRmVlZGJhY2soJycpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIEZpcnN0IGxvYWQgY3VycmVudCBjb25maWcgdG8gcHJlc2VydmUgb3RoZXIgZmllbGRzXG4gICAgICAgICAgY29uc3QgY3VycmVudFJlcyA9IGF3YWl0IGZldGNoKHNpdGVDb25maWdBcGksIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xuICAgICAgICAgIGNvbnN0IGN1cnJlbnRDb25maWcgPSBjdXJyZW50UmVzLm9rID8gYXdhaXQgY3VycmVudFJlcy5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSkgOiB7fTtcblxuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgICAgICAuLi5jdXJyZW50Q29uZmlnLFxuICAgICAgICAgICAgc2VvOiB7XG4gICAgICAgICAgICAgIC4uLihjdXJyZW50Q29uZmlnLnNlbyB8fCB7fSksXG4gICAgICAgICAgICAgIGluZGV4QWxsUGFnZXNCeURlZmF1bHQ6IGluZGV4QWxsQ2hlY2tib3g/LmNoZWNrZWQgPz8gdHJ1ZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfTtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHNpdGVDb25maWdBcGksIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rIHx8IHJlc3VsdC5zdWNjZXNzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5tZXNzYWdlIHx8ICdTYXV2ZWdhcmRlIGltcG9zc2libGUuJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNldFNlb0ZlZWRiYWNrKHJlc3VsdC5tZXNzYWdlIHx8ICdQYXJhbVx1MDBFOHRyZXMgU0VPIGVucmVnaXN0clx1MDBFOXMuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3NldHRpbmdzXSBzYXZlIHNlbyBjb25maWcgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgICBzZXRTZW9GZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZGUgbGEgc2F1dmVnYXJkZS4nLCAnZXJyb3InKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBzZW9TYXZlQnV0dG9uICYmIChzZW9TYXZlQnV0dG9uLmRpc2FibGVkID0gZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgbG9hZFNlb0NvbmZpZygpO1xuICAgIH1cblxuICAgIC8vIEFuYWx5dGljcyBmb3JtIChVUzkuQjIpXG4gICAgY29uc3QgYW5hbHl0aWNzRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFuYWx5dGljcy1mb3JtXScpO1xuICAgIGlmIChhbmFseXRpY3NGb3JtKSB7XG4gICAgICBjb25zdCBoZWFkVGV4dGFyZWEgPSBhbmFseXRpY3NGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFuYWx5dGljcy1oZWFkXScpO1xuICAgICAgY29uc3QgYm9keVRleHRhcmVhID0gYW5hbHl0aWNzRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hbmFseXRpY3MtYm9keV0nKTtcbiAgICAgIGNvbnN0IGFuYWx5dGljc0ZlZWRiYWNrID0gYW5hbHl0aWNzRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hbmFseXRpY3MtZmVlZGJhY2tdJyk7XG4gICAgICBjb25zdCBhbmFseXRpY3NTYXZlQnV0dG9uID0gYW5hbHl0aWNzRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hbmFseXRpY3Mtc2F2ZV0nKTtcblxuICAgICAgY29uc3Qgc2FmZVNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goXG4gICAgICAgIHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJycsXG4gICAgICApO1xuICAgICAgY29uc3Qgc2l0ZUNvbmZpZ0FwaSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Zyl9L2NvbmZpZy9zaXRlYFxuICAgICAgICA6IG51bGw7XG5cbiAgICAgIGNvbnN0IHNldEFuYWx5dGljc0ZlZWRiYWNrID0gKG1lc3NhZ2UsIHRvbmUgPSAnbXV0ZWQnKSA9PiB7XG4gICAgICAgIGlmICghYW5hbHl0aWNzRmVlZGJhY2spIHJldHVybjtcbiAgICAgICAgY29uc3QgY29sb3IgPVxuICAgICAgICAgIHRvbmUgPT09ICdzdWNjZXNzJ1xuICAgICAgICAgICAgPyAndGV4dC1lbWVyYWxkLTYwMCdcbiAgICAgICAgICAgIDogdG9uZSA9PT0gJ2Vycm9yJ1xuICAgICAgICAgICAgICA/ICd0ZXh0LXJvc2UtNjAwJ1xuICAgICAgICAgICAgICA6ICd0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICAgIGFuYWx5dGljc0ZlZWRiYWNrLnRleHRDb250ZW50ID0gbWVzc2FnZSB8fCAnJztcbiAgICAgICAgYW5hbHl0aWNzRmVlZGJhY2suY2xhc3NOYW1lID0gYHRleHQtc20gJHtjb2xvcn1gO1xuICAgICAgfTtcblxuICAgICAgY29uc3QgbG9hZEFuYWx5dGljc0NvbmZpZyA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKCFzaXRlQ29uZmlnQXBpKSByZXR1cm47XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChzaXRlQ29uZmlnQXBpLCB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSByZXR1cm47XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICBpZiAoaGVhZFRleHRhcmVhKSBoZWFkVGV4dGFyZWEudmFsdWUgPSBwYXlsb2FkLmFuYWx5dGljcz8uaGVhZENvZGUgfHwgJyc7XG4gICAgICAgICAgaWYgKGJvZHlUZXh0YXJlYSkgYm9keVRleHRhcmVhLnZhbHVlID0gcGF5bG9hZC5hbmFseXRpY3M/LmJvZHlFbmRDb2RlIHx8ICcnO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIGxvYWQgYW5hbHl0aWNzIGNvbmZpZyBmYWlsZWQnLCBlcnIpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBhbmFseXRpY3NGb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAoIXNpdGVDb25maWdBcGkpIHtcbiAgICAgICAgICBzZXRBbmFseXRpY3NGZWVkYmFjaygnQXVjdW4gc2l0ZSBhY3RpZi4nLCAnZXJyb3InKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgYW5hbHl0aWNzU2F2ZUJ1dHRvbiAmJiAoYW5hbHl0aWNzU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWUpO1xuICAgICAgICBzZXRBbmFseXRpY3NGZWVkYmFjaygnJyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gRmlyc3QgbG9hZCBjdXJyZW50IGNvbmZpZyB0byBwcmVzZXJ2ZSBvdGhlciBmaWVsZHNcbiAgICAgICAgICBjb25zdCBjdXJyZW50UmVzID0gYXdhaXQgZmV0Y2goc2l0ZUNvbmZpZ0FwaSwgeyBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSk7XG4gICAgICAgICAgY29uc3QgY3VycmVudENvbmZpZyA9IGN1cnJlbnRSZXMub2sgPyBhd2FpdCBjdXJyZW50UmVzLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKSA6IHt9O1xuXG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgICAgIC4uLmN1cnJlbnRDb25maWcsXG4gICAgICAgICAgICBhbmFseXRpY3M6IHtcbiAgICAgICAgICAgICAgaGVhZENvZGU6IGhlYWRUZXh0YXJlYT8udmFsdWUgfHwgJycsXG4gICAgICAgICAgICAgIGJvZHlFbmRDb2RlOiBib2R5VGV4dGFyZWE/LnZhbHVlIHx8ICcnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9O1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goc2l0ZUNvbmZpZ0FwaSwge1xuICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2sgfHwgcmVzdWx0LnN1Y2Nlc3MgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzdWx0Lm1lc3NhZ2UgfHwgJ1NhdXZlZ2FyZGUgaW1wb3NzaWJsZS4nKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0QW5hbHl0aWNzRmVlZGJhY2socmVzdWx0Lm1lc3NhZ2UgfHwgJ1NjcmlwdHMgZW5yZWdpc3RyXHUwMEU5cy4nLCAnc3VjY2VzcycpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIHNhdmUgYW5hbHl0aWNzIGNvbmZpZyBmYWlsZWQnLCBlcnIpO1xuICAgICAgICAgIHNldEFuYWx5dGljc0ZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsYSBzYXV2ZWdhcmRlLicsICdlcnJvcicpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGFuYWx5dGljc1NhdmVCdXR0b24gJiYgKGFuYWx5dGljc1NhdmVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBsb2FkQW5hbHl0aWNzQ29uZmlnKCk7XG4gICAgfVxuXG4gICAgY29uc3QgYWNjZXNzaWJpbGl0eUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hY2Nlc3NpYmlsaXR5LWZvcm1dJyk7XG4gICAgaWYgKGFjY2Vzc2liaWxpdHlGb3JtKSB7XG4gICAgICBjb25zdCBhbmltYXRpb25zVG9nZ2xlID0gYWNjZXNzaWJpbGl0eUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYWNjZXNzaWJpbGl0eS1hbmltYXRpb25zXScpO1xuICAgICAgY29uc3QgY29udHJhc3RUb2dnbGUgPSBhY2Nlc3NpYmlsaXR5Rm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hY2Nlc3NpYmlsaXR5LWNvbnRyYXN0XScpO1xuICAgICAgY29uc3QgYWNjZXNzaWJpbGl0eUZlZWRiYWNrID0gYWNjZXNzaWJpbGl0eUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYWNjZXNzaWJpbGl0eS1mZWVkYmFja10nKTtcbiAgICAgIGNvbnN0IGFjY2Vzc2liaWxpdHlTYXZlQnV0dG9uID0gYWNjZXNzaWJpbGl0eUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYWNjZXNzaWJpbGl0eS1zYXZlXScpO1xuXG4gICAgICBjb25zdCBzYWZlU2l0ZVNsdWcgPSBzdHJpcExlYWRpbmdTbGFzaChcbiAgICAgICAgd29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyxcbiAgICAgICk7XG4gICAgICBjb25zdCBzaXRlQ29uZmlnQXBpID0gc2FmZVNpdGVTbHVnXG4gICAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnKX0vY29uZmlnL3NpdGVgXG4gICAgICAgIDogbnVsbDtcblxuICAgICAgY29uc3Qgc2V0QWNjZXNzaWJpbGl0eUZlZWRiYWNrID0gKG1lc3NhZ2UsIHRvbmUgPSAnbXV0ZWQnKSA9PiB7XG4gICAgICAgIGlmICghYWNjZXNzaWJpbGl0eUZlZWRiYWNrKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGNvbG9yID1cbiAgICAgICAgICB0b25lID09PSAnc3VjY2VzcydcbiAgICAgICAgICAgID8gJ3RleHQtZW1lcmFsZC02MDAnXG4gICAgICAgICAgICA6IHRvbmUgPT09ICdlcnJvcidcbiAgICAgICAgICAgICAgPyAndGV4dC1yb3NlLTYwMCdcbiAgICAgICAgICAgICAgOiAndGV4dC1zbGF0ZS01MDAnO1xuICAgICAgICBhY2Nlc3NpYmlsaXR5RmVlZGJhY2sudGV4dENvbnRlbnQgPSBtZXNzYWdlIHx8ICcnO1xuICAgICAgICBhY2Nlc3NpYmlsaXR5RmVlZGJhY2suY2xhc3NOYW1lID0gYHRleHQtc20gJHtjb2xvcn1gO1xuICAgICAgfTtcblxuICAgICAgY29uc3QgbG9hZEFjY2Vzc2liaWxpdHlDb25maWcgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIGlmICghc2l0ZUNvbmZpZ0FwaSkgcmV0dXJuO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goc2l0ZUNvbmZpZ0FwaSwgeyBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgcmV0dXJuO1xuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgaWYgKGFuaW1hdGlvbnNUb2dnbGUpIHtcbiAgICAgICAgICAgIGFuaW1hdGlvbnNUb2dnbGUuY2hlY2tlZCA9IHBheWxvYWQuYWNjZXNzaWJpbGl0eT8uYW5pbWF0aW9uc0VuYWJsZWQgIT09IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoY29udHJhc3RUb2dnbGUpIHtcbiAgICAgICAgICAgIGNvbnRyYXN0VG9nZ2xlLmNoZWNrZWQgPSBwYXlsb2FkLmFjY2Vzc2liaWxpdHk/LmhpZ2hDb250cmFzdCA9PT0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gbG9hZCBhY2Nlc3NpYmlsaXR5IGNvbmZpZyBmYWlsZWQnLCBlcnIpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBhY2Nlc3NpYmlsaXR5Rm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKCFzaXRlQ29uZmlnQXBpKSB7XG4gICAgICAgICAgc2V0QWNjZXNzaWJpbGl0eUZlZWRiYWNrKCdBdWN1biBzaXRlIGFjdGlmLicsICdlcnJvcicpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBhY2Nlc3NpYmlsaXR5U2F2ZUJ1dHRvbiAmJiAoYWNjZXNzaWJpbGl0eVNhdmVCdXR0b24uZGlzYWJsZWQgPSB0cnVlKTtcbiAgICAgICAgc2V0QWNjZXNzaWJpbGl0eUZlZWRiYWNrKCcnKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBjdXJyZW50UmVzID0gYXdhaXQgZmV0Y2goc2l0ZUNvbmZpZ0FwaSwgeyBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSk7XG4gICAgICAgICAgY29uc3QgY3VycmVudENvbmZpZyA9IGN1cnJlbnRSZXMub2sgPyBhd2FpdCBjdXJyZW50UmVzLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKSA6IHt9O1xuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgICAgICAuLi5jdXJyZW50Q29uZmlnLFxuICAgICAgICAgICAgYWNjZXNzaWJpbGl0eToge1xuICAgICAgICAgICAgICBhbmltYXRpb25zRW5hYmxlZDogYW5pbWF0aW9uc1RvZ2dsZT8uY2hlY2tlZCA/PyB0cnVlLFxuICAgICAgICAgICAgICBoaWdoQ29udHJhc3Q6IGNvbnRyYXN0VG9nZ2xlPy5jaGVja2VkID8/IGZhbHNlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9O1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goc2l0ZUNvbmZpZ0FwaSwge1xuICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2sgfHwgcmVzdWx0LnN1Y2Nlc3MgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzdWx0Lm1lc3NhZ2UgfHwgJ1NhdXZlZ2FyZGUgaW1wb3NzaWJsZS4nKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0QWNjZXNzaWJpbGl0eUZlZWRiYWNrKHJlc3VsdC5tZXNzYWdlIHx8ICdQclx1MDBFOWZcdTAwRTlyZW5jZXMgbWlzZXMgXHUwMEUwIGpvdXIuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3NldHRpbmdzXSBzYXZlIGFjY2Vzc2liaWxpdHkgY29uZmlnIGZhaWxlZCcsIGVycik7XG4gICAgICAgICAgc2V0QWNjZXNzaWJpbGl0eUZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsYSBzYXV2ZWdhcmRlLicsICdlcnJvcicpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGFjY2Vzc2liaWxpdHlTYXZlQnV0dG9uICYmIChhY2Nlc3NpYmlsaXR5U2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGxvYWRBY2Nlc3NpYmlsaXR5Q29uZmlnKCk7XG4gICAgfVxuXG4gICAgLy8gQUkgQ29uZmlnIGZvcm0gKFVTIC0gQUkgQXNzaXN0YW50KVxuICAgIGNvbnN0IGFpQ29uZmlnRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFpLWNvbmZpZy1mb3JtXScpO1xuICAgIGlmIChhaUNvbmZpZ0Zvcm0pIHtcbiAgICAgIGNvbnN0IGFwaUtleUlucHV0ID0gYWlDb25maWdGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFpLWFwaS1rZXldJyk7XG4gICAgICBjb25zdCBtb2RlbFNlbGVjdCA9IGFpQ29uZmlnRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1haS1tb2RlbF0nKTtcbiAgICAgIGNvbnN0IHByb2plY3RQcm9tcHRUZXh0YXJlYSA9IGFpQ29uZmlnRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1haS1wcm9qZWN0LXByb21wdF0nKTtcbiAgICAgIGNvbnN0IGVuYWJsZWRDaGVja2JveCA9IGFpQ29uZmlnRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1haS1lbmFibGVkXScpO1xuICAgICAgY29uc3QgYWlGZWVkYmFjayA9IGFpQ29uZmlnRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1haS1mZWVkYmFja10nKTtcbiAgICAgIGNvbnN0IGFpU2F2ZUJ1dHRvbiA9IGFpQ29uZmlnRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1haS1zYXZlXScpO1xuXG4gICAgICBjb25zdCBzYWZlU2l0ZVNsdWcgPSBzdHJpcExlYWRpbmdTbGFzaChcbiAgICAgICAgd29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyxcbiAgICAgICk7XG4gICAgICBjb25zdCBhaUNvbmZpZ0FwaSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Zyl9L2NvbmZpZy9haWBcbiAgICAgICAgOiBudWxsO1xuXG4gICAgICBjb25zdCBzZXRBSUZlZWRiYWNrID0gKG1lc3NhZ2UsIHRvbmUgPSAnbXV0ZWQnKSA9PiB7XG4gICAgICAgIGlmICghYWlGZWVkYmFjaykgcmV0dXJuO1xuICAgICAgICBjb25zdCBjb2xvciA9XG4gICAgICAgICAgdG9uZSA9PT0gJ3N1Y2Nlc3MnXG4gICAgICAgICAgICA/ICd0ZXh0LWVtZXJhbGQtNjAwJ1xuICAgICAgICAgICAgOiB0b25lID09PSAnZXJyb3InXG4gICAgICAgICAgICAgID8gJ3RleHQtcm9zZS02MDAnXG4gICAgICAgICAgICAgIDogJ3RleHQtc2xhdGUtNTAwJztcbiAgICAgICAgYWlGZWVkYmFjay50ZXh0Q29udGVudCA9IG1lc3NhZ2UgfHwgJyc7XG4gICAgICAgIGFpRmVlZGJhY2suY2xhc3NOYW1lID0gYHRleHQtc20gJHtjb2xvcn1gO1xuICAgICAgfTtcblxuICAgICAgY29uc3QgbG9hZEFJQ29uZmlnID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoIWFpQ29uZmlnQXBpKSByZXR1cm47XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChhaUNvbmZpZ0FwaSwgeyBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgcmV0dXJuO1xuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgLy8gQVBJIGtleSBpcyBtYXNrZWQsIHdlIHNob3cgcGxhY2Vob2xkZXIgaWYgaXQgZXhpc3RzXG4gICAgICAgICAgaWYgKGFwaUtleUlucHV0KSB7XG4gICAgICAgICAgICBhcGlLZXlJbnB1dC52YWx1ZSA9ICcnO1xuICAgICAgICAgICAgYXBpS2V5SW5wdXQucGxhY2Vob2xkZXIgPSBwYXlsb2FkLmhhc0FwaUtleSA/ICdcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjInIDogJ0NsXHUwMEU5IEFQSSBHZW1pbmknO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAobW9kZWxTZWxlY3QpIG1vZGVsU2VsZWN0LnZhbHVlID0gcGF5bG9hZC5tb2RlbCB8fCAnZ2VtaW5pLTIuNS1mbGFzaCc7XG4gICAgICAgICAgaWYgKHByb2plY3RQcm9tcHRUZXh0YXJlYSkgcHJvamVjdFByb21wdFRleHRhcmVhLnZhbHVlID0gcGF5bG9hZC5wcm9qZWN0UHJvbXB0IHx8ICcnO1xuICAgICAgICAgIGlmIChlbmFibGVkQ2hlY2tib3gpIGVuYWJsZWRDaGVja2JveC5jaGVja2VkID0gcGF5bG9hZC5lbmFibGVkICE9PSBmYWxzZTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3NldHRpbmdzXSBsb2FkIEFJIGNvbmZpZyBmYWlsZWQnLCBlcnIpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBhaUNvbmZpZ0Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmICghYWlDb25maWdBcGkpIHtcbiAgICAgICAgICBzZXRBSUZlZWRiYWNrKCdBdWN1biBzaXRlIGFjdGlmLicsICdlcnJvcicpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBhaVNhdmVCdXR0b24gJiYgKGFpU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWUpO1xuICAgICAgICBzZXRBSUZlZWRiYWNrKCcnKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICAgICAgbW9kZWw6IG1vZGVsU2VsZWN0Py52YWx1ZSB8fCAnZ2VtaW5pLTIuNS1mbGFzaCcsXG4gICAgICAgICAgICBwcm9qZWN0UHJvbXB0OiBwcm9qZWN0UHJvbXB0VGV4dGFyZWE/LnZhbHVlIHx8ICcnLFxuICAgICAgICAgICAgZW5hYmxlZDogZW5hYmxlZENoZWNrYm94Py5jaGVja2VkID8/IHRydWUsXG4gICAgICAgICAgfTtcbiAgICAgICAgICAvLyBPbmx5IGluY2x1ZGUgYXBpS2V5IGlmIHRoZSB1c2VyIGVudGVyZWQgb25lIChub3QgZW1wdHkpXG4gICAgICAgICAgY29uc3QgYXBpS2V5VmFsdWUgPSBhcGlLZXlJbnB1dD8udmFsdWU/LnRyaW0oKTtcbiAgICAgICAgICBpZiAoYXBpS2V5VmFsdWUpIHtcbiAgICAgICAgICAgIHBheWxvYWQuYXBpS2V5ID0gYXBpS2V5VmFsdWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChhaUNvbmZpZ0FwaSwge1xuICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2sgfHwgcmVzdWx0LnN1Y2Nlc3MgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzdWx0Lm1lc3NhZ2UgfHwgJ1NhdXZlZ2FyZGUgaW1wb3NzaWJsZS4nKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0QUlGZWVkYmFjayhyZXN1bHQubWVzc2FnZSB8fCAnQ29uZmlndXJhdGlvbiBJQSBlbnJlZ2lzdHJcdTAwRTllLicsICdzdWNjZXNzJyk7XG4gICAgICAgICAgLy8gQ2xlYXIgdGhlIEFQSSBrZXkgZmllbGQgYWZ0ZXIgc3VjY2Vzc2Z1bCBzYXZlXG4gICAgICAgICAgaWYgKGFwaUtleUlucHV0KSB7XG4gICAgICAgICAgICBhcGlLZXlJbnB1dC52YWx1ZSA9ICcnO1xuICAgICAgICAgICAgYXBpS2V5SW5wdXQucGxhY2Vob2xkZXIgPSAnXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyJztcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gc2F2ZSBBSSBjb25maWcgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgICBzZXRBSUZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsYSBzYXV2ZWdhcmRlLicsICdlcnJvcicpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGFpU2F2ZUJ1dHRvbiAmJiAoYWlTYXZlQnV0dG9uLmRpc2FibGVkID0gZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgbG9hZEFJQ29uZmlnKCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaW5pdE1lZGlhV29ya3NwYWNlKCkge1xuICAgIGNvbnN0IGdyaWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1ncmlkXScpO1xuICAgIGlmICghZ3JpZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBlbXB0eVN0YXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZW1wdHldJyk7XG4gICAgY29uc3QgY291bnRCYWRnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWNvdW50XScpO1xuICAgIGNvbnN0IGZpbHRlclR5cGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1maWx0ZXItdHlwZV0nKTtcbiAgICBjb25zdCBkZXRhaWxFbXB0eSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRldGFpbC1lbXB0eV0nKTtcbiAgICBjb25zdCBkZXRhaWxQYW5lbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRldGFpbF0nKTtcbiAgICBjb25zdCBkZXRhaWxQcmV2aWV3ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGV0YWlsLXByZXZpZXddJyk7XG4gICAgY29uc3QgZGV0YWlsTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRldGFpbC1uYW1lXScpO1xuICAgIGNvbnN0IGRldGFpbFR5cGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZXRhaWwtdHlwZV0nKTtcbiAgICBjb25zdCBkZXRhaWxTaXplID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGV0YWlsLXNpemVdJyk7XG4gICAgY29uc3QgZGV0YWlsUGF0aCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRldGFpbC1wYXRoXScpO1xuICAgIGNvbnN0IGRldGFpbFVzZWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZXRhaWwtdXNlZF0nKTtcbiAgICBjb25zdCBkZXRhaWxBbHRJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWFsdC1lZGl0XScpO1xuICAgIGNvbnN0IGRldGFpbFNhdmVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1zYXZlXScpO1xuICAgIGNvbnN0IGRldGFpbERlbGV0ZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRlbGV0ZV0nKTtcbiAgICBjb25zdCBkZWxldGVNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRlbGV0ZS1tb2RhbF0nKTtcbiAgICBjb25zdCBkZWxldGVDYW5jZWxCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZWxldGUtY2FuY2VsXScpO1xuICAgIGNvbnN0IGRlbGV0ZUNvbmZpcm1CdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZWxldGUtY29uZmlybV0nKTtcbiAgICBjb25zdCB1cGxvYWRPcGVuQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtdXBsb2FkLW9wZW5dJyk7XG4gICAgY29uc3QgZmlsZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZmlsZS1pbnB1dF0nKTtcbiAgICBjb25zdCB1cGxvYWRTdGF0dXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS11cGxvYWQtc3RhdHVzXScpO1xuXG4gICAgY29uc3Qgc2FmZVNpdGVTbHVnVmFsdWUgPSBzdHJpcExlYWRpbmdTbGFzaChcbiAgICAgIHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJycsXG4gICAgKTtcbiAgICBjb25zdCBtZWRpYUFwaUJhc2UgPSBzYWZlU2l0ZVNsdWdWYWx1ZVxuICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWdWYWx1ZSl9L21lZGlhYFxuICAgICAgOiBudWxsO1xuXG4gICAgbGV0IG1lZGlhSXRlbXMgPSBbXTtcbiAgICBsZXQgZmlsdGVyZWRJdGVtcyA9IFtdO1xuICAgIGxldCBhY3RpdmVNZWRpYUlkID0gbnVsbDtcbiAgICBsZXQgaGlnaGxpZ2h0TWVkaWFJZCA9IG51bGw7XG4gICAgbGV0IHBlbmRpbmdVcGxvYWRGaWxlID0gbnVsbDtcbiAgICBsZXQgdXBsb2FkSW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgIGxldCBkZXRhaWxEaXJ0eSA9IGZhbHNlO1xuICAgIGxldCB1cGxvYWRNb2RlID0gZmFsc2U7XG4gICAgbGV0IHVwbG9hZFByZXZpZXdVcmwgPSBudWxsO1xuXG4gICAgY29uc3QgZGVyaXZlR3JvdXBUeXBlID0gKGl0ZW0pID0+IHtcbiAgICAgIGNvbnN0IHR5cGUgPSAoaXRlbS50eXBlIHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgY29uc3QgZmlsZW5hbWUgPSAoaXRlbS5maWxlbmFtZSB8fCAnJykudG9Mb3dlckNhc2UoKTtcbiAgICAgIGlmICh0eXBlLmluY2x1ZGVzKCdpbWFnZScpIHx8IC9cXC4ocG5nfGpwZT9nfHdlYnB8c3ZnfGdpZikkL2kudGVzdChmaWxlbmFtZSkpIHtcbiAgICAgICAgcmV0dXJuICdpbWFnZSc7XG4gICAgICB9XG4gICAgICBpZiAodHlwZS5pbmNsdWRlcygncGRmJykgfHwgdHlwZS5pbmNsdWRlcygnZG9jJykgfHwgL1xcLihwZGZ8ZG9jeD8pJC9pLnRlc3QoZmlsZW5hbWUpKSB7XG4gICAgICAgIHJldHVybiAnZG9jdW1lbnQnO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGUuaW5jbHVkZXMoJ3ZpZGVvJykgfHwgL1xcLihtcDR8bW92fHdlYm0pJC9pLnRlc3QoZmlsZW5hbWUpKSB7XG4gICAgICAgIHJldHVybiAndmlkZW8nO1xuICAgICAgfVxuICAgICAgcmV0dXJuICdvdGhlcic7XG4gICAgfTtcblxuICAgIGNvbnN0IGlzSW1hZ2VUeXBlID0gKGl0ZW0pID0+IGRlcml2ZUdyb3VwVHlwZShpdGVtKSA9PT0gJ2ltYWdlJztcblxuICAgIGNvbnN0IGZvcm1hdFR5cGVMYWJlbCA9IChpdGVtKSA9PiB7XG4gICAgICBpZiAoaXRlbS50eXBlKSB7XG4gICAgICAgIHJldHVybiBpdGVtLnR5cGUudG9VcHBlckNhc2UoKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGV4dCA9IChpdGVtLmZpbGVuYW1lIHx8ICcnKS5zcGxpdCgnLicpLnBvcCgpO1xuICAgICAgcmV0dXJuIGV4dCA/IGV4dC50b1VwcGVyQ2FzZSgpIDogJ0ZJTEUnO1xuICAgIH07XG5cbiAgICBjb25zdCBmb3JtYXRGaWxlU2l6ZSA9IChzaXplKSA9PiB7XG4gICAgICBpZiAoIXNpemUgfHwgc2l6ZSA8PSAwKSB7XG4gICAgICAgIHJldHVybiAnXHUyMDE0JztcbiAgICAgIH1cbiAgICAgIGlmIChzaXplIDwgMTAyNCkge1xuICAgICAgICByZXR1cm4gYCR7c2l6ZX0gb2A7XG4gICAgICB9XG4gICAgICBpZiAoc2l6ZSA8IDEwMjQgKiAxMDI0KSB7XG4gICAgICAgIHJldHVybiBgJHsoc2l6ZSAvIDEwMjQpLnRvRml4ZWQoMSl9IGtvYDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBgJHsoc2l6ZSAvICgxMDI0ICogMTAyNCkpLnRvRml4ZWQoMSl9IE1vYDtcbiAgICB9O1xuXG4gICAgY29uc3QgcmVzZXREZXRhaWxQYW5lbCA9ICgpID0+IHtcbiAgICAgIGRldGFpbFBhbmVsPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGRldGFpbEVtcHR5Py5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGNsZWFyVXBsb2FkU3RhdGUoKTtcbiAgICAgIGFjdGl2ZU1lZGlhSWQgPSBudWxsO1xuICAgICAgZGV0YWlsRGlydHkgPSBmYWxzZTtcbiAgICAgIHVwZGF0ZURldGFpbEFjdGlvbnMoZmFsc2UpO1xuICAgICAgaWYgKGRldGFpbFByZXZpZXcpIHtcbiAgICAgICAgZGV0YWlsUHJldmlldy5pbm5lckhUTUwgPVxuICAgICAgICAgICc8c3BhbiBjbGFzcz1cInRleHQtc2xhdGUtNDAwIHRleHQtc21cIj5BdWN1biBtXHUwMEU5ZGlhIHNcdTAwRTlsZWN0aW9ublx1MDBFOTwvc3Bhbj4nO1xuICAgICAgfVxuICAgICAgaWYgKGRldGFpbE5hbWUpIHtcbiAgICAgICAgZGV0YWlsTmFtZS50ZXh0Q29udGVudCA9ICcnO1xuICAgICAgfVxuICAgICAgZGV0YWlsVHlwZSAmJiAoZGV0YWlsVHlwZS50ZXh0Q29udGVudCA9ICcnKTtcbiAgICAgIGRldGFpbFNpemUgJiYgKGRldGFpbFNpemUudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgICBpZiAoZGV0YWlsQWx0SW5wdXQpIHtcbiAgICAgICAgZGV0YWlsQWx0SW5wdXQudmFsdWUgPSAnJztcbiAgICAgIH1cbiAgICAgIGRldGFpbFBhdGggJiYgKGRldGFpbFBhdGgudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgICBpZiAoZGV0YWlsVXNlZCkge1xuICAgICAgICBkZXRhaWxVc2VkLmlubmVySFRNTCA9ICcnO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBjbGVhclVwbG9hZFN0YXRlID0gKCkgPT4ge1xuICAgICAgcGVuZGluZ1VwbG9hZEZpbGUgPSBudWxsO1xuICAgICAgdXBsb2FkTW9kZSA9IGZhbHNlO1xuICAgICAgdXBsb2FkSW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgICAgaWYgKHVwbG9hZFByZXZpZXdVcmwpIHtcbiAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTCh1cGxvYWRQcmV2aWV3VXJsKTtcbiAgICAgICAgdXBsb2FkUHJldmlld1VybCA9IG51bGw7XG4gICAgICB9XG4gICAgICB1cGxvYWRTdGF0dXMgJiYgKHVwbG9hZFN0YXR1cy50ZXh0Q29udGVudCA9ICdBdWN1biBmaWNoaWVyIHNcdTAwRTlsZWN0aW9ublx1MDBFOS4nKTtcbiAgICAgIGZpbGVJbnB1dCAmJiAoZmlsZUlucHV0LnZhbHVlID0gJycpO1xuICAgIH07XG5cbiAgICBjb25zdCB1cGRhdGVDb3VudEJhZGdlID0gKCkgPT4ge1xuICAgICAgaWYgKCFjb3VudEJhZGdlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghZmlsdGVyZWRJdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgY291bnRCYWRnZS50ZXh0Q29udGVudCA9ICcwIG1cdTAwRTlkaWEnO1xuICAgICAgfSBlbHNlIGlmIChmaWx0ZXJlZEl0ZW1zLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICBjb3VudEJhZGdlLnRleHRDb250ZW50ID0gJzEgbVx1MDBFOWRpYSc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb3VudEJhZGdlLnRleHRDb250ZW50ID0gYCR7ZmlsdGVyZWRJdGVtcy5sZW5ndGh9IG1cdTAwRTlkaWFzYDtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgcmVuZGVyR3JpZCA9ICgpID0+IHtcbiAgICAgIGdyaWQuaW5uZXJIVE1MID0gJyc7XG4gICAgICBpZiAoIWZpbHRlcmVkSXRlbXMubGVuZ3RoKSB7XG4gICAgICAgIGVtcHR5U3RhdGU/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICByZXNldERldGFpbFBhbmVsKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGVtcHR5U3RhdGU/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgZmlsdGVyZWRJdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgIGNvbnN0IGNhcmQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgY2FyZC50eXBlID0gJ2J1dHRvbic7XG4gICAgICAgIGNhcmQuZGF0YXNldC5tZWRpYUlkID0gaXRlbS5pZDtcbiAgICAgICAgY29uc3QgaXNBY3RpdmUgPSBpdGVtLmlkID09PSBhY3RpdmVNZWRpYUlkO1xuICAgICAgICBjYXJkLmNsYXNzTmFtZSA9IFtcbiAgICAgICAgICAnZ3JvdXAgcmVsYXRpdmUgZmxleCBmbGV4LWNvbCByb3VuZGVkLTJ4bCBib3JkZXIgcHgtMyBweS0zIHRleHQtbGVmdCB0cmFuc2l0aW9uIGZvY3VzLXZpc2libGU6b3V0bGluZSBmb2N1cy12aXNpYmxlOm91dGxpbmUtMiBmb2N1cy12aXNpYmxlOm91dGxpbmUtb2Zmc2V0LTIgZm9jdXMtdmlzaWJsZTpvdXRsaW5lLVsjOUM2QkZGXScsXG4gICAgICAgICAgaXNBY3RpdmVcbiAgICAgICAgICAgID8gJ2JvcmRlci1bIzlDNkJGRl0gYmctWyNGN0YwRkZdLzYwIHNoYWRvdy1zbSdcbiAgICAgICAgICAgIDogJ2JvcmRlci1zbGF0ZS0yMDAgaG92ZXI6Ym9yZGVyLVsjOUM2QkZGXS80MCcsXG4gICAgICAgIF0uam9pbignICcpO1xuICAgICAgICBjb25zdCBwcmV2aWV3ID0gaXNJbWFnZVR5cGUoaXRlbSlcbiAgICAgICAgICA/IGA8aW1nIHNyYz1cIiR7aXRlbS5wYXRofVwiIGFsdD1cIiR7aXRlbS5hbHQgfHwgaXRlbS5maWxlbmFtZX1cIiBjbGFzcz1cImgtZnVsbCB3LWZ1bGwgb2JqZWN0LWNvdmVyXCIgLz5gXG4gICAgICAgICAgOiBgPGRpdiBjbGFzcz1cImZsZXggaC1mdWxsIHctZnVsbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdGV4dC0zeGwgdGV4dC1zbGF0ZS00MDBcIj5cdUQ4M0RcdURDQzQ8L2Rpdj5gO1xuICAgICAgICBjYXJkLmlubmVySFRNTCA9IGBcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwicmVsYXRpdmUgYXNwZWN0LVs0LzNdIG92ZXJmbG93LWhpZGRlbiByb3VuZGVkLXhsIGJnLXNsYXRlLTEwMFwiPlxuICAgICAgICAgICAgJHtwcmV2aWV3fVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJtdC0yIHNwYWNlLXktMVwiPlxuICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgdGV4dC1zbGF0ZS05MDAgdHJ1bmNhdGVcIj4ke2l0ZW0uZmlsZW5hbWV9PC9wPlxuICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNTAwXCI+XG4gICAgICAgICAgICAgICR7Zm9ybWF0VHlwZUxhYmVsKGl0ZW0pfSBcdTAwQjcgJHtmb3JtYXRGaWxlU2l6ZShpdGVtLnNpemUpfVxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICBgO1xuICAgICAgICBpZiAoaXRlbS5pZCA9PT0gaGlnaGxpZ2h0TWVkaWFJZCkge1xuICAgICAgICAgIGNhcmQuY2xhc3NMaXN0LmFkZCgncmluZy0yJywgJ3JpbmctWyM5QzZCRkZdJyk7XG4gICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgY2FyZC5jbGFzc0xpc3QucmVtb3ZlKCdyaW5nLTInLCAncmluZy1bIzlDNkJGRl0nKTtcbiAgICAgICAgICB9LCAxNjAwKTtcbiAgICAgICAgfVxuICAgICAgICBjYXJkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gc2VsZWN0TWVkaWEoaXRlbS5pZCkpO1xuICAgICAgICBncmlkLmFwcGVuZENoaWxkKGNhcmQpO1xuICAgICAgfSk7XG4gICAgICBoaWdobGlnaHRNZWRpYUlkID0gbnVsbDtcbiAgICB9O1xuXG4gICAgY29uc3QgcmVuZGVyVXNlZEluID0gKGl0ZW0pID0+IHtcbiAgICAgIGlmICghZGV0YWlsVXNlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBkZXRhaWxVc2VkLmlubmVySFRNTCA9ICcnO1xuICAgICAgaWYgKCFpdGVtLnVzZWRJbiB8fCBpdGVtLnVzZWRJbi5sZW5ndGggPT09IDApIHtcbiAgICAgICAgY29uc3QgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgICBsaS50ZXh0Q29udGVudCA9ICdOb24gdXRpbGlzXHUwMEU5JztcbiAgICAgICAgbGkuY2xhc3NOYW1lID0gJ3RleHQteHMgdGV4dC1zbGF0ZS00MDAnO1xuICAgICAgICBkZXRhaWxVc2VkLmFwcGVuZENoaWxkKGxpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaXRlbS51c2VkSW4uZm9yRWFjaCgoZW50cnkpID0+IHtcbiAgICAgICAgY29uc3QgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgICBsaS50ZXh0Q29udGVudCA9IGVudHJ5O1xuICAgICAgICBsaS5jbGFzc05hbWUgPSAndGV4dC14cyB0ZXh0LXNsYXRlLTYwMCc7XG4gICAgICAgIGRldGFpbFVzZWQuYXBwZW5kQ2hpbGQobGkpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IHVwZGF0ZURldGFpbEFjdGlvbnMgPSAoc2F2aW5nKSA9PiB7XG4gICAgICBpZiAoIWRldGFpbFNhdmVCdXR0b24pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHVwbG9hZE1vZGUpIHtcbiAgICAgICAgZGV0YWlsU2F2ZUJ1dHRvbi50ZXh0Q29udGVudCA9IHNhdmluZyA/ICdUXHUwMEU5bFx1MDBFOXZlcnNlbWVudFx1MjAyNicgOiAnVFx1MDBFOWxcdTAwRTl2ZXJzZXInO1xuICAgICAgICBkZXRhaWxTYXZlQnV0dG9uLmRpc2FibGVkID0gc2F2aW5nIHx8ICFwZW5kaW5nVXBsb2FkRmlsZTtcbiAgICAgICAgaWYgKGRldGFpbERlbGV0ZUJ1dHRvbikge1xuICAgICAgICAgIGRldGFpbERlbGV0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBkZXRhaWxTYXZlQnV0dG9uLnRleHRDb250ZW50ID0gc2F2aW5nID8gJ0VucmVnaXN0cmVtZW50XHUyMDI2JyA6ICdFbnJlZ2lzdHJlcic7XG4gICAgICBkZXRhaWxTYXZlQnV0dG9uLmRpc2FibGVkID0gc2F2aW5nIHx8ICFkZXRhaWxEaXJ0eTtcbiAgICAgIGlmIChkZXRhaWxEZWxldGVCdXR0b24pIHtcbiAgICAgICAgZGV0YWlsRGVsZXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICBkZXRhaWxEZWxldGVCdXR0b24uZGlzYWJsZWQgPSAhYWN0aXZlTWVkaWFJZDtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3Qgc2VsZWN0TWVkaWEgPSAobWVkaWFJZCkgPT4ge1xuICAgICAgY29uc3QgaXRlbSA9IG1lZGlhSXRlbXMuZmluZCgoZW50cnkpID0+IGVudHJ5LmlkID09PSBtZWRpYUlkKTtcbiAgICAgIGlmICghaXRlbSkge1xuICAgICAgICByZXNldERldGFpbFBhbmVsKCk7XG4gICAgICAgIHJlbmRlckdyaWQoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY2xlYXJVcGxvYWRTdGF0ZSgpO1xuICAgICAgYWN0aXZlTWVkaWFJZCA9IGl0ZW0uaWQ7XG4gICAgICBkZXRhaWxEaXJ0eSA9IGZhbHNlO1xuICAgICAgdXBkYXRlRGV0YWlsQWN0aW9ucyhmYWxzZSk7XG4gICAgICByZW5kZXJHcmlkKCk7XG4gICAgICBkZXRhaWxFbXB0eT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBkZXRhaWxQYW5lbD8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBpZiAoZGV0YWlsUHJldmlldykge1xuICAgICAgICBpZiAoaXNJbWFnZVR5cGUoaXRlbSkpIHtcbiAgICAgICAgICBkZXRhaWxQcmV2aWV3LmlubmVySFRNTCA9IGA8aW1nIHNyYz1cIiR7aXRlbS5wYXRofVwiIGFsdD1cIiR7aXRlbS5hbHQgfHwgaXRlbS5maWxlbmFtZX1cIiBjbGFzcz1cImgtZnVsbCB3LWZ1bGwgcm91bmRlZC0yeGwgb2JqZWN0LWNvdmVyXCIgLz5gO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRldGFpbFByZXZpZXcuaW5uZXJIVE1MID1cbiAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiZmxleCBoLWZ1bGwgdy1mdWxsIGZsZXgtY29sIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBnYXAtMSB0ZXh0LXNsYXRlLTQwMFwiPjxzcGFuIGNsYXNzPVwidGV4dC0zeGxcIj5cdUQ4M0RcdURDQzQ8L3NwYW4+PHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIGZvbnQtc2VtaWJvbGRcIj5Eb2N1bWVudDwvc3Bhbj48L2Rpdj4nO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBkZXRhaWxOYW1lICYmIChkZXRhaWxOYW1lLnRleHRDb250ZW50ID0gaXRlbS5maWxlbmFtZSB8fCAnRmljaGllcicpO1xuICAgICAgZGV0YWlsVHlwZSAmJiAoZGV0YWlsVHlwZS50ZXh0Q29udGVudCA9IGZvcm1hdFR5cGVMYWJlbChpdGVtKSk7XG4gICAgICBkZXRhaWxTaXplICYmIChkZXRhaWxTaXplLnRleHRDb250ZW50ID0gZm9ybWF0RmlsZVNpemUoaXRlbS5zaXplKSk7XG4gICAgICBpZiAoZGV0YWlsQWx0SW5wdXQpIHtcbiAgICAgICAgZGV0YWlsQWx0SW5wdXQudmFsdWUgPSBpdGVtLmFsdCB8fCAnJztcbiAgICAgIH1cbiAgICAgIGRldGFpbFBhdGggJiYgKGRldGFpbFBhdGgudGV4dENvbnRlbnQgPSBpdGVtLnBhdGggfHwgJ1x1MjAxNCcpO1xuICAgICAgcmVuZGVyVXNlZEluKGl0ZW0pO1xuICAgIH07XG5cbiAgICBjb25zdCBzaG93VXBsb2FkUHJldmlldyA9IChmaWxlKSA9PiB7XG4gICAgICBpZiAoIWZpbGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdXBsb2FkTW9kZSA9IHRydWU7XG4gICAgICBkZXRhaWxEaXJ0eSA9IGZhbHNlO1xuICAgICAgYWN0aXZlTWVkaWFJZCA9IG51bGw7XG4gICAgICBkZXRhaWxFbXB0eT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBkZXRhaWxQYW5lbD8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBpZiAodXBsb2FkUHJldmlld1VybCkge1xuICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKHVwbG9hZFByZXZpZXdVcmwpO1xuICAgICAgfVxuICAgICAgdXBsb2FkUHJldmlld1VybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZSk7XG4gICAgICBpZiAoZGV0YWlsUHJldmlldykge1xuICAgICAgICBkZXRhaWxQcmV2aWV3LmlubmVySFRNTCA9IGA8aW1nIHNyYz1cIiR7dXBsb2FkUHJldmlld1VybH1cIiBhbHQ9XCIke2ZpbGUubmFtZX1cIiBjbGFzcz1cImgtZnVsbCB3LWZ1bGwgcm91bmRlZC0yeGwgb2JqZWN0LWNvdmVyXCIgLz5gO1xuICAgICAgfVxuICAgICAgZGV0YWlsTmFtZSAmJiAoZGV0YWlsTmFtZS50ZXh0Q29udGVudCA9IGZpbGUubmFtZSk7XG4gICAgICBkZXRhaWxUeXBlICYmIChkZXRhaWxUeXBlLnRleHRDb250ZW50ID0gZm9ybWF0VHlwZUxhYmVsKHsgdHlwZTogZmlsZS50eXBlLCBmaWxlbmFtZTogZmlsZS5uYW1lIH0pKTtcbiAgICAgIGRldGFpbFNpemUgJiYgKGRldGFpbFNpemUudGV4dENvbnRlbnQgPSBmb3JtYXRGaWxlU2l6ZShmaWxlLnNpemUpKTtcbiAgICAgIGlmIChkZXRhaWxBbHRJbnB1dCAmJiAhZGV0YWlsQWx0SW5wdXQudmFsdWUudHJpbSgpKSB7XG4gICAgICAgIGRldGFpbEFsdElucHV0LnZhbHVlID0gZmlsZS5uYW1lLnJlcGxhY2UoL1xcLlteLl0rJC8sICcnKS5yZXBsYWNlKC9bLV9dL2csICcgJyk7XG4gICAgICB9XG4gICAgICBkZXRhaWxQYXRoICYmIChkZXRhaWxQYXRoLnRleHRDb250ZW50ID0gJ0VuIGF0dGVudGUgZGUgdFx1MDBFOWxcdTAwRTl2ZXJzZW1lbnQnKTtcbiAgICAgIGlmIChkZXRhaWxVc2VkKSB7XG4gICAgICAgIGRldGFpbFVzZWQuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgIGNvbnN0IGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgbGkudGV4dENvbnRlbnQgPSAnTm9uIHV0aWxpc1x1MDBFOSc7XG4gICAgICAgIGxpLmNsYXNzTmFtZSA9ICd0ZXh0LXhzIHRleHQtc2xhdGUtNDAwJztcbiAgICAgICAgZGV0YWlsVXNlZC5hcHBlbmRDaGlsZChsaSk7XG4gICAgICB9XG4gICAgICB1cGRhdGVEZXRhaWxBY3Rpb25zKGZhbHNlKTtcbiAgICB9O1xuXG4gICAgY29uc3QgYXBwbHlGaWx0ZXJzID0gKCkgPT4ge1xuICAgICAgY29uc3QgdHlwZUZpbHRlciA9IGZpbHRlclR5cGU/LnZhbHVlIHx8ICdhbGwnO1xuICAgICAgaWYgKHR5cGVGaWx0ZXIgPT09ICdhbGwnKSB7XG4gICAgICAgIGZpbHRlcmVkSXRlbXMgPSBbLi4ubWVkaWFJdGVtc107XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmaWx0ZXJlZEl0ZW1zID0gbWVkaWFJdGVtcy5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0uZ3JvdXBUeXBlID09PSB0eXBlRmlsdGVyKTtcbiAgICAgIH1cbiAgICAgIGlmICghZmlsdGVyZWRJdGVtcy5zb21lKChpdGVtKSA9PiBpdGVtLmlkID09PSBhY3RpdmVNZWRpYUlkKSkge1xuICAgICAgICByZXNldERldGFpbFBhbmVsKCk7XG4gICAgICB9XG4gICAgICB1cGRhdGVDb3VudEJhZGdlKCk7XG4gICAgICByZW5kZXJHcmlkKCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGxvYWRNZWRpYSA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghbWVkaWFBcGlCYXNlKSB7XG4gICAgICAgIGVtcHR5U3RhdGU/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKG1lZGlhQXBpQmFzZSwge1xuICAgICAgICAgIGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ltcG9zc2libGUgZGUgY2hhcmdlciBsZXMgbVx1MDBFOWRpYXMuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoeyBpdGVtczogW10gfSkpO1xuICAgICAgICBtZWRpYUl0ZW1zID0gQXJyYXkuaXNBcnJheShwYXlsb2FkLml0ZW1zKVxuICAgICAgICAgID8gcGF5bG9hZC5pdGVtcy5tYXAoKGl0ZW0pID0+ICh7IC4uLml0ZW0sIGdyb3VwVHlwZTogZGVyaXZlR3JvdXBUeXBlKGl0ZW0pIH0pKVxuICAgICAgICAgIDogW107XG4gICAgICAgIGFwcGx5RmlsdGVycygpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1ttZWRpYV0gbG9hZCBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgY2hhcmdlciBsZXMgbVx1MDBFOWRpYXMuJyk7XG4gICAgICAgIG1lZGlhSXRlbXMgPSBbXTtcbiAgICAgICAgYXBwbHlGaWx0ZXJzKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGZpbHRlclR5cGU/LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgICAgIGFwcGx5RmlsdGVycygpO1xuICAgIH0pO1xuICAgIGRldGFpbEFsdElucHV0Py5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICAgIGlmICh1cGxvYWRNb2RlKSB7XG4gICAgICAgIHVwZGF0ZURldGFpbEFjdGlvbnMoZmFsc2UpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWFjdGl2ZU1lZGlhSWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZGV0YWlsRGlydHkgPSB0cnVlO1xuICAgICAgdXBkYXRlRGV0YWlsQWN0aW9ucyhmYWxzZSk7XG4gICAgfSk7XG5cbiAgICBjb25zdCBoYW5kbGVGaWxlU2VsZWN0aW9uID0gKGZpbGUpID0+IHtcbiAgICAgIGlmICghZmlsZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWZpbGUudHlwZS5zdGFydHNXaXRoKCdpbWFnZS8nKSkge1xuICAgICAgICBzaG93VG9hc3QoJ1NldWxlcyBsZXMgaW1hZ2VzIHNvbnQgYWNjZXB0XHUwMEU5ZXMgcG91ciBsZSBtb21lbnQuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChmaWxlLnNpemUgPiA0ICogMTAyNCAqIDEwMjQpIHtcbiAgICAgICAgc2hvd1RvYXN0KCdGaWNoaWVyIHRyb3Agdm9sdW1pbmV1eCAoNCBNbyBtYXgpLicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwZW5kaW5nVXBsb2FkRmlsZSA9IGZpbGU7XG4gICAgICBzaG93VXBsb2FkUHJldmlldyhmaWxlKTtcbiAgICAgIGlmICh1cGxvYWRTdGF0dXMpIHtcbiAgICAgICAgdXBsb2FkU3RhdHVzLnRleHRDb250ZW50ID0gYCR7ZmlsZS5uYW1lfSBcdTAwQjcgJHtmb3JtYXRGaWxlU2l6ZShmaWxlLnNpemUpfWA7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHJlYWRGaWxlQXNCYXNlNjQgPSAoZmlsZSkgPT5cbiAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgICAgcmVhZGVyLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSByZWFkZXIucmVzdWx0IHx8ICcnO1xuICAgICAgICAgIGNvbnN0IFssIGJhc2U2NCA9ICcnXSA9IFN0cmluZyhyZXN1bHQpLnNwbGl0KCcsJyk7XG4gICAgICAgICAgcmVzb2x2ZShiYXNlNjQpO1xuICAgICAgICB9O1xuICAgICAgICByZWFkZXIub25lcnJvciA9ICgpID0+IHJlamVjdChuZXcgRXJyb3IoJ0ltcG9zc2libGUgZGUgbGlyZSBjZSBmaWNoaWVyLicpKTtcbiAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XG4gICAgICB9KTtcblxuICAgIGNvbnN0IHVwbG9hZFNlbGVjdGVkTWVkaWEgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXBlbmRpbmdVcGxvYWRGaWxlIHx8ICFtZWRpYUFwaUJhc2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdXBsb2FkSW5Qcm9ncmVzcyA9IHRydWU7XG4gICAgICB1cGRhdGVEZXRhaWxBY3Rpb25zKHRydWUpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgYmFzZTY0ID0gYXdhaXQgcmVhZEZpbGVBc0Jhc2U2NChwZW5kaW5nVXBsb2FkRmlsZSk7XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgICAgZmlsZW5hbWU6IHBlbmRpbmdVcGxvYWRGaWxlLm5hbWUsXG4gICAgICAgICAgdHlwZTogcGVuZGluZ1VwbG9hZEZpbGUudHlwZSxcbiAgICAgICAgICBzaXplOiBwZW5kaW5nVXBsb2FkRmlsZS5zaXplLFxuICAgICAgICAgIGFsdDogZGV0YWlsQWx0SW5wdXQ/LnZhbHVlIHx8ICcnLFxuICAgICAgICAgIGRhdGE6IGJhc2U2NCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChtZWRpYUFwaUJhc2UsIHtcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBjb25zdCBlcnJvclBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yUGF5bG9hZC5tZXNzYWdlIHx8ICdVcGxvYWQgaW1wb3NzaWJsZS4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzYXZlZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgc2F2ZWQuZ3JvdXBUeXBlID0gZGVyaXZlR3JvdXBUeXBlKHNhdmVkKTtcbiAgICAgICAgbWVkaWFJdGVtcyA9IFsuLi5tZWRpYUl0ZW1zLCBzYXZlZF07XG4gICAgICAgIGhpZ2hsaWdodE1lZGlhSWQgPSBzYXZlZC5pZDtcbiAgICAgICAgYXBwbHlGaWx0ZXJzKCk7XG4gICAgICAgIHNlbGVjdE1lZGlhKHNhdmVkLmlkKTtcbiAgICAgICAgc2hvd1RvYXN0KCdNXHUwMEU5ZGlhIGFqb3V0XHUwMEU5Jyk7XG4gICAgICAgIGNsZWFyVXBsb2FkU3RhdGUoKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbbWVkaWFdIHVwbG9hZCBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgdFx1MDBFOWxcdTAwRTl2ZXJzZXIgY2UgbVx1MDBFOWRpYS4nKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHVwbG9hZEluUHJvZ3Jlc3MgPSBmYWxzZTtcbiAgICAgICAgcGVuZGluZ1VwbG9hZEZpbGUgPSBudWxsO1xuICAgICAgICB1cGRhdGVEZXRhaWxBY3Rpb25zKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdXBsb2FkT3BlbkJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBmaWxlSW5wdXQ/LmNsaWNrKCkpO1xuICAgIGZpbGVJbnB1dD8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICAgICAgaWYgKGZpbGVJbnB1dC5maWxlcyAmJiBmaWxlSW5wdXQuZmlsZXNbMF0pIHtcbiAgICAgICAgaGFuZGxlRmlsZVNlbGVjdGlvbihmaWxlSW5wdXQuZmlsZXNbMF0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IGNsb3NlRGVsZXRlTW9kYWwgPSAoKSA9PiB7XG4gICAgICBpZiAoIWRlbGV0ZU1vZGFsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGRlbGV0ZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgZGVsZXRlTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnZmxleCcpO1xuICAgIH07XG5cbiAgICBjb25zdCBvcGVuRGVsZXRlTW9kYWwgPSAoKSA9PiB7XG4gICAgICBpZiAoIWFjdGl2ZU1lZGlhSWQgfHwgdXBsb2FkTW9kZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoZGVsZXRlTW9kYWwpIHtcbiAgICAgICAgZGVsZXRlTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIGRlbGV0ZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2ZsZXgnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gRmFsbGJhY2sgc2kgYXVjdW5lIG1vZGFsZSBuJ2VzdCBkaXNwb25pYmxlXG4gICAgICBpZiAod2luZG93LmNvbmZpcm0oJ1N1cHByaW1lciBjZSBtXHUwMEU5ZGlhID8nKSkge1xuICAgICAgICBkZWxldGVBY3RpdmVNZWRpYSgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBkZWxldGVBY3RpdmVNZWRpYSA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghYWN0aXZlTWVkaWFJZCB8fCAhbWVkaWFBcGlCYXNlKSB7XG4gICAgICAgIGNsb3NlRGVsZXRlTW9kYWwoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgZGlzYWJsZUJ1dHRvbnMgPSAoKSA9PiB7XG4gICAgICAgIGlmIChkZXRhaWxEZWxldGVCdXR0b24pIHtcbiAgICAgICAgICBkZXRhaWxEZWxldGVCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkZWxldGVDb25maXJtQnV0dG9uKSB7XG4gICAgICAgICAgZGVsZXRlQ29uZmlybUJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgICAgZGVsZXRlQ29uZmlybUJ1dHRvbi50ZXh0Q29udGVudCA9ICdTdXBwcmVzc2lvblx1MjAyNic7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBjb25zdCBlbmFibGVCdXR0b25zID0gKCkgPT4ge1xuICAgICAgICBpZiAoZGV0YWlsRGVsZXRlQnV0dG9uKSB7XG4gICAgICAgICAgZGV0YWlsRGVsZXRlQnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlbGV0ZUNvbmZpcm1CdXR0b24pIHtcbiAgICAgICAgICBkZWxldGVDb25maXJtQnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgZGVsZXRlQ29uZmlybUJ1dHRvbi50ZXh0Q29udGVudCA9ICdTdXBwcmltZXInO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgZGlzYWJsZUJ1dHRvbnMoKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgICAgYCR7bWVkaWFBcGlCYXNlfS8ke2VuY29kZVVSSUNvbXBvbmVudChhY3RpdmVNZWRpYUlkKX1gLFxuICAgICAgICAgIHsgbWV0aG9kOiAnREVMRVRFJyB9LFxuICAgICAgICApO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocGF5bG9hZC5tZXNzYWdlIHx8ICdTdXBwcmVzc2lvbiBpbXBvc3NpYmxlLicpO1xuICAgICAgICB9XG4gICAgICAgIG1lZGlhSXRlbXMgPSBtZWRpYUl0ZW1zLmZpbHRlcigoaXRlbSkgPT4gaXRlbS5pZCAhPT0gYWN0aXZlTWVkaWFJZCk7XG4gICAgICAgIGZpbHRlcmVkSXRlbXMgPSBmaWx0ZXJlZEl0ZW1zLmZpbHRlcigoaXRlbSkgPT4gaXRlbS5pZCAhPT0gYWN0aXZlTWVkaWFJZCk7XG4gICAgICAgIHNob3dUb2FzdCgnTVx1MDBFOWRpYSBzdXBwcmltXHUwMEU5Jyk7XG4gICAgICAgIHJlc2V0RGV0YWlsUGFuZWwoKTtcbiAgICAgICAgdXBkYXRlQ291bnRCYWRnZSgpO1xuICAgICAgICByZW5kZXJHcmlkKCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW21lZGlhXSBkZWxldGUgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIHN1cHByaW1lciBjZSBtXHUwMEU5ZGlhLicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgZW5hYmxlQnV0dG9ucygpO1xuICAgICAgICBjbG9zZURlbGV0ZU1vZGFsKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGRlbGV0ZUNhbmNlbEJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZURlbGV0ZU1vZGFsKTtcbiAgICBkZWxldGVNb2RhbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIGlmIChldmVudC50YXJnZXQgPT09IGRlbGV0ZU1vZGFsKSB7XG4gICAgICAgIGNsb3NlRGVsZXRlTW9kYWwoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGRlbGV0ZUNvbmZpcm1CdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gZGVsZXRlQWN0aXZlTWVkaWEoKSk7XG4gICAgZGV0YWlsRGVsZXRlQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5EZWxldGVNb2RhbCk7XG5cbiAgICBkZXRhaWxTYXZlQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGlmICh1cGxvYWRNb2RlKSB7XG4gICAgICAgIHVwbG9hZFNlbGVjdGVkTWVkaWEoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFhY3RpdmVNZWRpYUlkIHx8ICFtZWRpYUFwaUJhc2UgfHwgIWRldGFpbEFsdElucHV0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHVwZGF0ZURldGFpbEFjdGlvbnModHJ1ZSk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBwYXlsb2FkID0geyBhbHQ6IGRldGFpbEFsdElucHV0LnZhbHVlIHx8ICcnIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgICAgYCR7bWVkaWFBcGlCYXNlfS8ke2VuY29kZVVSSUNvbXBvbmVudChhY3RpdmVNZWRpYUlkKX1gLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICAgIH0sXG4gICAgICAgICk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBjb25zdCBlcnJvclBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yUGF5bG9hZC5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIG1ldHRyZSBcdTAwRTAgam91ciBjZSBtXHUwMEU5ZGlhLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHVwZGF0ZWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIG1lZGlhSXRlbXMgPSBtZWRpYUl0ZW1zLm1hcCgoaXRlbSkgPT5cbiAgICAgICAgICBpdGVtLmlkID09PSBhY3RpdmVNZWRpYUlkID8geyAuLi5pdGVtLCAuLi51cGRhdGVkIH0gOiBpdGVtLFxuICAgICAgICApO1xuICAgICAgICBmaWx0ZXJlZEl0ZW1zID0gZmlsdGVyZWRJdGVtcy5tYXAoKGl0ZW0pID0+XG4gICAgICAgICAgaXRlbS5pZCA9PT0gYWN0aXZlTWVkaWFJZCA/IHsgLi4uaXRlbSwgLi4udXBkYXRlZCB9IDogaXRlbSxcbiAgICAgICAgKTtcbiAgICAgICAgZGV0YWlsRGlydHkgPSBmYWxzZTtcbiAgICAgICAgdXBkYXRlRGV0YWlsQWN0aW9ucyhmYWxzZSk7XG4gICAgICAgIHNob3dUb2FzdCgnTVx1MDBFOWRpYSBtaXMgXHUwMEUwIGpvdXInKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbbWVkaWFdIHVwZGF0ZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UgfHwgJ1x1MDBDOWNoZWMgZGUgbGEgbWlzZSBcdTAwRTAgam91ci4nKTtcbiAgICAgICAgdXBkYXRlRGV0YWlsQWN0aW9ucyhmYWxzZSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBsb2FkTWVkaWEoKTtcbiAgfVxuXG4gIC8vIFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFxuICAvLyBBSSBDSEFUIC0gQXNzaXN0YW50IElBIGNvbnRleHR1ZWxcbiAgLy8gXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXG5cbiAgY29uc3QgYWlDaGF0VG9nZ2xlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FpLWNoYXQtdG9nZ2xlJyk7XG4gIGNvbnN0IGFpQ2hhdFBhbmVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FpLWNoYXQtcGFuZWwnKTtcbiAgY29uc3QgYWlDaGF0T3ZlcmxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhaS1jaGF0LW92ZXJsYXknKTtcbiAgY29uc3QgYWlDaGF0Q2xvc2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWktY2hhdC1jbG9zZScpO1xuICBjb25zdCBhaUNoYXRDbGVhciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhaS1jaGF0LWNsZWFyJyk7XG4gIGNvbnN0IGFpQ2hhdEZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWktY2hhdC1mb3JtJyk7XG4gIGNvbnN0IGFpQ2hhdElucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FpLWNoYXQtaW5wdXQnKTtcbiAgY29uc3QgYWlDaGF0TWVzc2FnZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWktY2hhdC1tZXNzYWdlcycpO1xuICBjb25zdCBhaUNoYXRTdGF0dXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWktY2hhdC1zdGF0dXMnKTtcbiAgY29uc3QgYWlDaGF0Tm9BcGkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWktY2hhdC1uby1hcGknKTtcbiAgY29uc3QgYWlRdWlja0J1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1haS1xdWlja10nKTtcblxuICBsZXQgYWlDaGF0T3BlbiA9IGZhbHNlO1xuICBsZXQgYWlJc0xvYWRpbmcgPSBmYWxzZTtcbiAgbGV0IGFpQ29uZmlnQ2hlY2tlZCA9IGZhbHNlO1xuICBsZXQgYWlIYXNBcGlLZXkgPSBmYWxzZTtcblxuICAvKipcbiAgICogT3V2cmUgbGUgcGFuZWwgZGUgY2hhdCBJQVxuICAgKi9cbiAgZnVuY3Rpb24gb3BlbkFJQ2hhdCgpIHtcbiAgICBpZiAoIWFpQ2hhdFBhbmVsKSByZXR1cm47XG4gICAgYWlDaGF0T3BlbiA9IHRydWU7XG4gICAgYWlDaGF0UGFuZWwuY2xhc3NMaXN0LnJlbW92ZSgndHJhbnNsYXRlLXgtZnVsbCcpO1xuICAgIGFpQ2hhdFBhbmVsLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAnZmFsc2UnKTtcbiAgICBhaUNoYXRPdmVybGF5Py5jbGFzc0xpc3QucmVtb3ZlKCdvcGFjaXR5LTAnLCAncG9pbnRlci1ldmVudHMtbm9uZScpO1xuICAgIGFpQ2hhdE92ZXJsYXk/LmNsYXNzTGlzdC5hZGQoJ29wYWNpdHktMTAwJyk7XG4gICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICBhaUNoYXRJbnB1dD8uZm9jdXMoKTtcblxuICAgIC8vIFZcdTAwRTlyaWZpZXIgbGEgY29uZmlnIEFJIGF1IHByZW1pZXIgb3V2ZXJ0dXJlXG4gICAgaWYgKCFhaUNvbmZpZ0NoZWNrZWQpIHtcbiAgICAgIGNoZWNrQUlDb25maWcoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRmVybWUgbGUgcGFuZWwgZGUgY2hhdCBJQVxuICAgKi9cbiAgZnVuY3Rpb24gY2xvc2VBSUNoYXQoKSB7XG4gICAgaWYgKCFhaUNoYXRQYW5lbCkgcmV0dXJuO1xuICAgIGFpQ2hhdE9wZW4gPSBmYWxzZTtcbiAgICBhaUNoYXRQYW5lbC5jbGFzc0xpc3QuYWRkKCd0cmFuc2xhdGUteC1mdWxsJyk7XG4gICAgYWlDaGF0UGFuZWwuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJyk7XG4gICAgYWlDaGF0T3ZlcmxheT8uY2xhc3NMaXN0LmFkZCgnb3BhY2l0eS0wJywgJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICBhaUNoYXRPdmVybGF5Py5jbGFzc0xpc3QucmVtb3ZlKCdvcGFjaXR5LTEwMCcpO1xuICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnb3ZlcmZsb3ctaGlkZGVuJyk7XG4gIH1cblxuICAvKipcbiAgICogVlx1MDBFOXJpZmllIHNpIGwnQVBJIEFJIGVzdCBjb25maWd1clx1MDBFOWVcbiAgICovXG4gIGFzeW5jIGZ1bmN0aW9uIGNoZWNrQUlDb25maWcoKSB7XG4gICAgY29uc3Qgc2l0ZVNsdWcgPSBzdHJpcExlYWRpbmdTbGFzaChzdG9yZWRTaXRlLnNsdWcgfHwgJycpO1xuICAgIGlmICghc2l0ZVNsdWcpIHtcbiAgICAgIGFpQ2hhdE5vQXBpPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2l0ZVNsdWcpfS9jb25maWcvYWlgKTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHRocm93IG5ldyBFcnJvcignQ29uZmlnIGNoZWNrIGZhaWxlZCcpO1xuICAgICAgY29uc3QgY29uZmlnID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgYWlDb25maWdDaGVja2VkID0gdHJ1ZTtcbiAgICAgIGFpSGFzQXBpS2V5ID0gY29uZmlnLmhhc0FwaUtleTtcbiAgICAgIFxuICAgICAgaWYgKCFjb25maWcuZW5hYmxlZCB8fCAhY29uZmlnLmhhc0FwaUtleSkge1xuICAgICAgICBhaUNoYXROb0FwaT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhaUNoYXROb0FwaT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIC8vIENoYXJnZXIgbCdoaXN0b3JpcXVlXG4gICAgICAgIGxvYWRBSUNoYXRIaXN0b3J5KCk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdbQUldIENvbmZpZyBjaGVjayBmYWlsZWQ6JywgZXJyKTtcbiAgICAgIGFpQ2hhdE5vQXBpPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2hhcmdlIGwnaGlzdG9yaXF1ZSBkZSBjb252ZXJzYXRpb25cbiAgICovXG4gIGFzeW5jIGZ1bmN0aW9uIGxvYWRBSUNoYXRIaXN0b3J5KCkge1xuICAgIGNvbnN0IHNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goc3RvcmVkU2l0ZS5zbHVnIHx8ICcnKTtcbiAgICBpZiAoIXNpdGVTbHVnIHx8ICFhaUNoYXRNZXNzYWdlcykgcmV0dXJuO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNpdGVTbHVnKX0vYWkvaGlzdG9yeWApO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykgcmV0dXJuO1xuICAgICAgXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgaWYgKGRhdGEubWVzc2FnZXMgJiYgZGF0YS5tZXNzYWdlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIC8vIEVmZmFjZXIgbGUgbWVzc2FnZSBkZSBiaWVudmVudWVcbiAgICAgICAgY29uc3Qgd2VsY29tZU1zZyA9IGFpQ2hhdE1lc3NhZ2VzLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFpLXdlbGNvbWVdJyk7XG4gICAgICAgIGlmICh3ZWxjb21lTXNnKSB3ZWxjb21lTXNnLnJlbW92ZSgpO1xuICAgICAgICBcbiAgICAgICAgLy8gQWZmaWNoZXIgbGVzIG1lc3NhZ2VzXG4gICAgICAgIGRhdGEubWVzc2FnZXMuZm9yRWFjaChtc2cgPT4ge1xuICAgICAgICAgIGFwcGVuZEFJTWVzc2FnZShtc2cuY29udGVudCwgbXNnLnJvbGUgPT09ICd1c2VyJyA/ICd1c2VyJyA6ICdhc3Npc3RhbnQnKTtcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICAvLyBTY3JvbGwgdmVycyBsZSBiYXNcbiAgICAgICAgYWlDaGF0TWVzc2FnZXMuc2Nyb2xsVG9wID0gYWlDaGF0TWVzc2FnZXMuc2Nyb2xsSGVpZ2h0O1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignW0FJXSBIaXN0b3J5IGxvYWQgZmFpbGVkOicsIGVycik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFqb3V0ZSB1biBtZXNzYWdlIGF1IGNoYXRcbiAgICovXG4gIGZ1bmN0aW9uIGFwcGVuZEFJTWVzc2FnZShjb250ZW50LCByb2xlID0gJ2Fzc2lzdGFudCcpIHtcbiAgICBpZiAoIWFpQ2hhdE1lc3NhZ2VzKSByZXR1cm47XG4gICAgXG4gICAgY29uc3QgbXNnRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgbXNnRGl2LmNsYXNzTmFtZSA9ICdmbGV4IGdhcC0zJztcbiAgICBcbiAgICBpZiAocm9sZSA9PT0gJ3VzZXInKSB7XG4gICAgICBtc2dEaXYuaW5uZXJIVE1MID0gYFxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleC0xXCI+PC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJtYXgtdy1bODAlXSBiZy12aW9sZXQtNjAwIHRleHQtd2hpdGUgcm91bmRlZC0yeGwgcm91bmRlZC10ci1ub25lIHAtM1wiPlxuICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1zbSB3aGl0ZXNwYWNlLXByZS13cmFwXCI+JHtlc2NhcGVIdG1sKGNvbnRlbnQpfTwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJ3LTggaC04IHJvdW5kZWQtZnVsbCBiZy1zbGF0ZS0yMDAgZmxleC1zaHJpbmstMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgIDxzdmcgY2xhc3M9XCJ3LTQgaC00IHRleHQtc2xhdGUtNTAwXCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICA8cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xNiA3YTQgNCAwIDExLTggMCA0IDQgMCAwMTggMHpNMTIgMTRhNyA3IDAgMDAtNyA3aDE0YTcgNyAwIDAwLTctN3pcIi8+XG4gICAgICAgICAgPC9zdmc+XG4gICAgICAgIDwvZGl2PlxuICAgICAgYDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRm9ybWF0dGVyIGxlIGNvbnRlbnUgTWFya2Rvd24gYmFzaXF1ZVxuICAgICAgY29uc3QgZm9ybWF0dGVkQ29udGVudCA9IGZvcm1hdEFJUmVzcG9uc2UoY29udGVudCk7XG4gICAgICBtc2dEaXYuaW5uZXJIVE1MID0gYFxuICAgICAgICA8ZGl2IGNsYXNzPVwidy04IGgtOCByb3VuZGVkLWZ1bGwgYmctZ3JhZGllbnQtdG8tYnIgZnJvbS12aW9sZXQtNTAwIHRvLWluZGlnby02MDAgZmxleC1zaHJpbmstMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgIDxzdmcgY2xhc3M9XCJ3LTQgaC00IHRleHQtd2hpdGVcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgIDxwYXRoIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTkuNjYzIDE3aDQuNjczTTEyIDN2MW02LjM2NCAxLjYzNmwtLjcwNy43MDdNMjEgMTJoLTFNNCAxMkgzbTMuMzQzLTUuNjU3bC0uNzA3LS43MDdtMi44MjggOS45YTUgNSAwIDExNy4wNzIgMGwtLjU0OC41NDdBMy4zNzQgMy4zNzQgMCAwMDE0IDE4LjQ2OVYxOWEyIDIgMCAxMS00IDB2LS41MzFjMC0uODk1LS4zNTYtMS43NTQtLjk4OC0yLjM4NmwtLjU0OC0uNTQ3elwiLz5cbiAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4LTEgYmctc2xhdGUtNTAgcm91bmRlZC0yeGwgcm91bmRlZC10bC1ub25lIHAtMyBvdmVyZmxvdy14LWF1dG9cIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC1zbSB0ZXh0LXNsYXRlLTcwMCBwcm9zZSBwcm9zZS1zbSBtYXgtdy1ub25lIFsmPnByZV06Ymctc2xhdGUtODAwIFsmPnByZV06dGV4dC1zbGF0ZS0xMDAgWyY+cHJlXTpyb3VuZGVkLWxnIFsmPnByZV06cC0zIFsmPnByZV06b3ZlcmZsb3cteC1hdXRvIFsmPmNvZGVdOmJnLXNsYXRlLTIwMCBbJj5jb2RlXTpweC0xIFsmPmNvZGVdOnJvdW5kZWRcIj4ke2Zvcm1hdHRlZENvbnRlbnR9PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgYDtcbiAgICB9XG4gICAgXG4gICAgYWlDaGF0TWVzc2FnZXMuYXBwZW5kQ2hpbGQobXNnRGl2KTtcbiAgICBhaUNoYXRNZXNzYWdlcy5zY3JvbGxUb3AgPSBhaUNoYXRNZXNzYWdlcy5zY3JvbGxIZWlnaHQ7XG4gIH1cblxuICAvKipcbiAgICogQWZmaWNoZSB1biBpbmRpY2F0ZXVyIGRlIGNoYXJnZW1lbnRcbiAgICovXG4gIGZ1bmN0aW9uIHNob3dBSUxvYWRpbmcoKSB7XG4gICAgaWYgKCFhaUNoYXRNZXNzYWdlcykgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0IGxvYWRpbmdEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBsb2FkaW5nRGl2LmNsYXNzTmFtZSA9ICdmbGV4IGdhcC0zJztcbiAgICBsb2FkaW5nRGl2LmlkID0gJ2FpLWxvYWRpbmctaW5kaWNhdG9yJztcbiAgICBsb2FkaW5nRGl2LmlubmVySFRNTCA9IGBcbiAgICAgIDxkaXYgY2xhc3M9XCJ3LTggaC04IHJvdW5kZWQtZnVsbCBiZy1ncmFkaWVudC10by1iciBmcm9tLXZpb2xldC01MDAgdG8taW5kaWdvLTYwMCBmbGV4LXNocmluay0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgIDxzdmcgY2xhc3M9XCJ3LTQgaC00IHRleHQtd2hpdGUgYW5pbWF0ZS1wdWxzZVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgIDxwYXRoIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTkuNjYzIDE3aDQuNjczTTEyIDN2MW02LjM2NCAxLjYzNmwtLjcwNy43MDdNMjEgMTJoLTFNNCAxMkgzbTMuMzQzLTUuNjU3bC0uNzA3LS43MDdtMi44MjggOS45YTUgNSAwIDExNy4wNzIgMGwtLjU0OC41NDdBMy4zNzQgMy4zNzQgMCAwMDE0IDE4LjQ2OVYxOWEyIDIgMCAxMS00IDB2LS41MzFjMC0uODk1LS4zNTYtMS43NTQtLjk4OC0yLjM4NmwtLjU0OC0uNTQ3elwiLz5cbiAgICAgICAgPC9zdmc+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJmbGV4LTEgYmctc2xhdGUtNTAgcm91bmRlZC0yeGwgcm91bmRlZC10bC1ub25lIHAtM1wiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwidy0yIGgtMiBiZy12aW9sZXQtNDAwIHJvdW5kZWQtZnVsbCBhbmltYXRlLWJvdW5jZVwiIHN0eWxlPVwiYW5pbWF0aW9uLWRlbGF5OiAwbXNcIj48L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwidy0yIGgtMiBiZy12aW9sZXQtNDAwIHJvdW5kZWQtZnVsbCBhbmltYXRlLWJvdW5jZVwiIHN0eWxlPVwiYW5pbWF0aW9uLWRlbGF5OiAxNTBtc1wiPjwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ3LTIgaC0yIGJnLXZpb2xldC00MDAgcm91bmRlZC1mdWxsIGFuaW1hdGUtYm91bmNlXCIgc3R5bGU9XCJhbmltYXRpb24tZGVsYXk6IDMwMG1zXCI+PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgYDtcbiAgICBcbiAgICBhaUNoYXRNZXNzYWdlcy5hcHBlbmRDaGlsZChsb2FkaW5nRGl2KTtcbiAgICBhaUNoYXRNZXNzYWdlcy5zY3JvbGxUb3AgPSBhaUNoYXRNZXNzYWdlcy5zY3JvbGxIZWlnaHQ7XG4gIH1cblxuICAvKipcbiAgICogQ2FjaGUgbCdpbmRpY2F0ZXVyIGRlIGNoYXJnZW1lbnRcbiAgICovXG4gIGZ1bmN0aW9uIGhpZGVBSUxvYWRpbmcoKSB7XG4gICAgY29uc3QgbG9hZGluZ0RpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhaS1sb2FkaW5nLWluZGljYXRvcicpO1xuICAgIGxvYWRpbmdEaXY/LnJlbW92ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEZvcm1hdGUgbGEgclx1MDBFOXBvbnNlIGRlIGwnSUEgKE1hcmtkb3duIGJhc2lxdWUpXG4gICAqL1xuICBmdW5jdGlvbiBmb3JtYXRBSVJlc3BvbnNlKHRleHQpIHtcbiAgICBpZiAoIXRleHQpIHJldHVybiAnJztcbiAgICBcbiAgICAvLyBFc2NhcGUgSFRNTCBkJ2Fib3JkXG4gICAgbGV0IGZvcm1hdHRlZCA9IGVzY2FwZUh0bWwodGV4dCk7XG4gICAgXG4gICAgLy8gQ29kZSBibG9ja3MgYGBgXG4gICAgZm9ybWF0dGVkID0gZm9ybWF0dGVkLnJlcGxhY2UoL2BgYChcXHcqKVxcbihbXFxzXFxTXSo/KWBgYC9nLCAobWF0Y2gsIGxhbmcsIGNvZGUpID0+IHtcbiAgICAgIHJldHVybiBgPHByZSBjbGFzcz1cImxhbmd1YWdlLSR7bGFuZyB8fCAndGV4dCd9XCI+PGNvZGU+JHtjb2RlLnRyaW0oKX08L2NvZGU+PC9wcmU+YDtcbiAgICB9KTtcbiAgICBcbiAgICAvLyBJbmxpbmUgY29kZSBgXG4gICAgZm9ybWF0dGVkID0gZm9ybWF0dGVkLnJlcGxhY2UoL2AoW15gXSspYC9nLCAnPGNvZGU+JDE8L2NvZGU+Jyk7XG4gICAgXG4gICAgLy8gQm9sZCAqKnRleHQqKlxuICAgIGZvcm1hdHRlZCA9IGZvcm1hdHRlZC5yZXBsYWNlKC9cXCpcXCooW14qXSspXFwqXFwqL2csICc8c3Ryb25nPiQxPC9zdHJvbmc+Jyk7XG4gICAgXG4gICAgLy8gSXRhbGljICp0ZXh0KlxuICAgIGZvcm1hdHRlZCA9IGZvcm1hdHRlZC5yZXBsYWNlKC9cXCooW14qXSspXFwqL2csICc8ZW0+JDE8L2VtPicpO1xuICAgIFxuICAgIC8vIFRpdHJlc1xuICAgIGZvcm1hdHRlZCA9IGZvcm1hdHRlZC5yZXBsYWNlKC9eIyMjICguKykkL2dtLCAnPGg0IGNsYXNzPVwiZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTkwMCBtdC0zIG1iLTFcIj4kMTwvaDQ+Jyk7XG4gICAgZm9ybWF0dGVkID0gZm9ybWF0dGVkLnJlcGxhY2UoL14jIyAoLispJC9nbSwgJzxoMyBjbGFzcz1cImZvbnQtc2VtaWJvbGQgdGV4dC1zbGF0ZS05MDAgbXQtMyBtYi0xXCI+JDE8L2gzPicpO1xuICAgIGZvcm1hdHRlZCA9IGZvcm1hdHRlZC5yZXBsYWNlKC9eIyAoLispJC9nbSwgJzxoMiBjbGFzcz1cImZvbnQtYm9sZCB0ZXh0LXNsYXRlLTkwMCBtdC0zIG1iLTJcIj4kMTwvaDI+Jyk7XG4gICAgXG4gICAgLy8gTGlzdGVzXG4gICAgZm9ybWF0dGVkID0gZm9ybWF0dGVkLnJlcGxhY2UoL14tICguKykkL2dtLCAnPGxpIGNsYXNzPVwibWwtNFwiPiQxPC9saT4nKTtcbiAgICBmb3JtYXR0ZWQgPSBmb3JtYXR0ZWQucmVwbGFjZSgvXihcXGQrKVxcLiAoLispJC9nbSwgJzxsaSBjbGFzcz1cIm1sLTRcIj4kMjwvbGk+Jyk7XG4gICAgXG4gICAgLy8gUGFyYWdyYXBoZXMgKGxpZ25lcyB2aWRlcylcbiAgICBmb3JtYXR0ZWQgPSBmb3JtYXR0ZWQucmVwbGFjZSgvXFxuXFxuL2csICc8L3A+PHAgY2xhc3M9XCJtYi0yXCI+Jyk7XG4gICAgZm9ybWF0dGVkID0gJzxwIGNsYXNzPVwibWItMlwiPicgKyBmb3JtYXR0ZWQgKyAnPC9wPic7XG4gICAgXG4gICAgLy8gTmV0dG95ZXIgbGVzIDxwPiB2aWRlc1xuICAgIGZvcm1hdHRlZCA9IGZvcm1hdHRlZC5yZXBsYWNlKC88cCBjbGFzcz1cIm1iLTJcIj48XFwvcD4vZywgJycpO1xuICAgIFxuICAgIHJldHVybiBmb3JtYXR0ZWQ7XG4gIH1cblxuICAvKipcbiAgICogXHUwMEM5Y2hhcHBlIGxlIEhUTUxcbiAgICovXG4gIGZ1bmN0aW9uIGVzY2FwZUh0bWwodGV4dCkge1xuICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGRpdi50ZXh0Q29udGVudCA9IHRleHQ7XG4gICAgcmV0dXJuIGRpdi5pbm5lckhUTUw7XG4gIH1cblxuICAvKipcbiAgICogRW52b2llIHVuIG1lc3NhZ2UgYXUgY2hhdCBJQVxuICAgKi9cbiAgYXN5bmMgZnVuY3Rpb24gc2VuZEFJTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgY29uc3Qgc2l0ZVNsdWcgPSBzdHJpcExlYWRpbmdTbGFzaChzdG9yZWRTaXRlLnNsdWcgfHwgJycpO1xuICAgIGlmICghbWVzc2FnZSB8fCAhc2l0ZVNsdWcgfHwgYWlJc0xvYWRpbmcpIHJldHVybjtcbiAgICBcbiAgICBhaUlzTG9hZGluZyA9IHRydWU7XG4gICAgYWlDaGF0SW5wdXQuZGlzYWJsZWQgPSB0cnVlO1xuICAgIFxuICAgIC8vIEVmZmFjZXIgbGUgbWVzc2FnZSBkZSBiaWVudmVudWUgYXUgcHJlbWllciBtZXNzYWdlXG4gICAgY29uc3Qgd2VsY29tZU1zZyA9IGFpQ2hhdE1lc3NhZ2VzPy5xdWVyeVNlbGVjdG9yKCdbZGF0YS1haS13ZWxjb21lXScpO1xuICAgIGlmICh3ZWxjb21lTXNnKSB3ZWxjb21lTXNnLnJlbW92ZSgpO1xuICAgIFxuICAgIC8vIEFmZmljaGVyIGxlIG1lc3NhZ2UgZGUgbCd1dGlsaXNhdGV1clxuICAgIGFwcGVuZEFJTWVzc2FnZShtZXNzYWdlLCAndXNlcicpO1xuICAgIFxuICAgIC8vIEFmZmljaGVyIGxlIGxvYWRlclxuICAgIHNob3dBSUxvYWRpbmcoKTtcbiAgICBcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzaXRlU2x1Zyl9L2FpL2NoYXRgLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBtZXNzYWdlIH0pXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgaGlkZUFJTG9hZGluZygpO1xuICAgICAgXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IGVycm9yID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IubWVzc2FnZSB8fCAnRXJyZXVyIGRlIGNvbW11bmljYXRpb24nKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIFxuICAgICAgaWYgKGRhdGEucmVzcG9uc2UpIHtcbiAgICAgICAgYXBwZW5kQUlNZXNzYWdlKGRhdGEucmVzcG9uc2UsICdhc3Npc3RhbnQnKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gR1x1MDBFOXJlciBsZXMgcHJvcG9zaXRpb25zIGQnXHUwMEU5ZGl0aW9uIGRlIHBhZ2VcbiAgICAgIGlmIChkYXRhLmVkaXRQcm9wb3NhbCkge1xuICAgICAgICBhcHBlbmRFZGl0UHJvcG9zYWwoZGF0YS5lZGl0UHJvcG9zYWwpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBHXHUwMEU5cmVyIGxlcyBwcm9wb3NpdGlvbnMgZGUgbW9kaWZpY2F0aW9uIGR1IHRoXHUwMEU4bWVcbiAgICAgIGlmIChkYXRhLnRoZW1lUHJvcG9zYWwpIHtcbiAgICAgICAgYXBwZW5kVGhlbWVQcm9wb3NhbChkYXRhLnRoZW1lUHJvcG9zYWwpO1xuICAgICAgfVxuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBoaWRlQUlMb2FkaW5nKCk7XG4gICAgICBhcHBlbmRBSU1lc3NhZ2UoYFx1Mjc0QyBFcnJldXI6ICR7ZXJyLm1lc3NhZ2V9YCwgJ2Fzc2lzdGFudCcpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBhaUlzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgYWlDaGF0SW5wdXQuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgIGFpQ2hhdElucHV0LmZvY3VzKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFmZmljaGUgdW5lIHByb3Bvc2l0aW9uIGQnXHUwMEU5ZGl0aW9uIGF2ZWMgYm91dG9ucyBkZSB2YWxpZGF0aW9uXG4gICAqL1xuICBmdW5jdGlvbiBhcHBlbmRFZGl0UHJvcG9zYWwocHJvcG9zYWwpIHtcbiAgICBpZiAoIWFpQ2hhdE1lc3NhZ2VzIHx8ICFwcm9wb3NhbCkgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0IHByb3Bvc2FsRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgcHJvcG9zYWxEaXYuY2xhc3NOYW1lID0gJ2ZsZXggZ2FwLTMgbXQtMic7XG4gICAgcHJvcG9zYWxEaXYuZGF0YXNldC5wcm9wb3NhbElkID0gcHJvcG9zYWwucHJvcG9zYWxJZDtcbiAgICBcbiAgICAvLyBDb25zdHJ1aXJlIGxlIHJcdTAwRTlzdW1cdTAwRTkgZGVzIGNoYW5nZW1lbnRzXG4gICAgbGV0IGNoYW5nZXNIdG1sID0gJyc7XG4gICAgaWYgKHByb3Bvc2FsLmNoYW5nZXMpIHtcbiAgICAgIGlmIChwcm9wb3NhbC5jaGFuZ2VzLnRpdGxlKSB7XG4gICAgICAgIGNoYW5nZXNIdG1sICs9IGA8bGk+VGl0cmUgXHUyMTkyIDxzdHJvbmc+JHtlc2NhcGVIdG1sKHByb3Bvc2FsLmNoYW5nZXMudGl0bGUpfTwvc3Ryb25nPjwvbGk+YDtcbiAgICAgIH1cbiAgICAgIGlmIChwcm9wb3NhbC5jaGFuZ2VzLmRlc2NyaXB0aW9uKSB7XG4gICAgICAgIGNoYW5nZXNIdG1sICs9IGA8bGk+RGVzY3JpcHRpb24gXHUyMTkyICR7ZXNjYXBlSHRtbChwcm9wb3NhbC5jaGFuZ2VzLmRlc2NyaXB0aW9uLnN1YnN0cmluZygwLCA4MCkpfS4uLjwvbGk+YDtcbiAgICAgIH1cbiAgICAgIGlmIChwcm9wb3NhbC5jaGFuZ2VzLnNlbykge1xuICAgICAgICBpZiAocHJvcG9zYWwuY2hhbmdlcy5zZW8ubWV0YVRpdGxlKSB7XG4gICAgICAgICAgY2hhbmdlc0h0bWwgKz0gYDxsaT5NZXRhIHRpdGxlIFx1MjE5MiAke2VzY2FwZUh0bWwocHJvcG9zYWwuY2hhbmdlcy5zZW8ubWV0YVRpdGxlKX08L2xpPmA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByb3Bvc2FsLmNoYW5nZXMuc2VvLm1ldGFEZXNjcmlwdGlvbikge1xuICAgICAgICAgIGNoYW5nZXNIdG1sICs9IGA8bGk+TWV0YSBkZXNjcmlwdGlvbiBcdTIxOTIgJHtlc2NhcGVIdG1sKHByb3Bvc2FsLmNoYW5nZXMuc2VvLm1ldGFEZXNjcmlwdGlvbi5zdWJzdHJpbmcoMCwgNjApKX0uLi48L2xpPmA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChwcm9wb3NhbC5jaGFuZ2VzLmJsb2NrVXBkYXRlKSB7XG4gICAgICAgIGNoYW5nZXNIdG1sICs9IGA8bGk+QmxvYyBcIiR7cHJvcG9zYWwuY2hhbmdlcy5ibG9ja1VwZGF0ZS5ibG9ja0lkfVwiIG1vZGlmaVx1MDBFOTwvbGk+YDtcbiAgICAgICAgaWYgKHByb3Bvc2FsLmNoYW5nZXMuYmxvY2tVcGRhdGUuc2V0dGluZ3MpIHtcbiAgICAgICAgICBjb25zdCBzZXR0aW5ncyA9IHByb3Bvc2FsLmNoYW5nZXMuYmxvY2tVcGRhdGUuc2V0dGluZ3M7XG4gICAgICAgICAgaWYgKHNldHRpbmdzLnRpdGxlKSBjaGFuZ2VzSHRtbCArPSBgPGxpIGNsYXNzPVwibWwtNFwiPlx1MjE5MiB0aXRsZTogJHtlc2NhcGVIdG1sKHNldHRpbmdzLnRpdGxlKX08L2xpPmA7XG4gICAgICAgICAgaWYgKHNldHRpbmdzLmNvbnRlbnQpIGNoYW5nZXNIdG1sICs9IGA8bGkgY2xhc3M9XCJtbC00XCI+XHUyMTkyIGNvbnRlbnQgbW9kaWZpXHUwMEU5PC9saT5gO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIHByb3Bvc2FsRGl2LmlubmVySFRNTCA9IGBcbiAgICAgIDxkaXYgY2xhc3M9XCJ3LTggaC04IHJvdW5kZWQtZnVsbCBiZy1hbWJlci01MDAgZmxleC1zaHJpbmstMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICA8c3ZnIGNsYXNzPVwidy00IGgtNCB0ZXh0LXdoaXRlXCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgPHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTEgNUg2YTIgMiAwIDAwLTIgMnYxMWEyIDIgMCAwMDIgMmgxMWEyIDIgMCAwMDItMnYtNW0tMS40MTQtOS40MTRhMiAyIDAgMTEyLjgyOCAyLjgyOEwxMS44MjggMTVIOXYtMi44MjhsOC41ODYtOC41ODZ6XCIvPlxuICAgICAgICA8L3N2Zz5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cImZsZXgtMSBiZy1hbWJlci01MCBib3JkZXIgYm9yZGVyLWFtYmVyLTIwMCByb3VuZGVkLTJ4bCByb3VuZGVkLXRsLW5vbmUgcC00XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBtYi0yXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgdGV4dC1hbWJlci03MDAgYmctYW1iZXItMTAwIHB4LTIgcHktMC41IHJvdW5kZWRcIj5Qcm9wb3NpdGlvbiBkJ1x1MDBFOWRpdGlvbjwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxwIGNsYXNzPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LXNsYXRlLTgwMCBtYi0xXCI+UGFnZSA6ICR7ZXNjYXBlSHRtbChwcm9wb3NhbC5wYWdlVGl0bGUgfHwgcHJvcG9zYWwucGFnZUlkKX08L3A+XG4gICAgICAgICR7cHJvcG9zYWwucmVhc29uID8gYDxwIGNsYXNzPVwidGV4dC1zbSB0ZXh0LXNsYXRlLTYwMCBtYi0yXCI+JHtlc2NhcGVIdG1sKHByb3Bvc2FsLnJlYXNvbil9PC9wPmAgOiAnJ31cbiAgICAgICAgPHVsIGNsYXNzPVwidGV4dC14cyB0ZXh0LXNsYXRlLTYwMCBzcGFjZS15LTEgbWItMyBsaXN0LWRpc2MgbWwtNFwiPlxuICAgICAgICAgICR7Y2hhbmdlc0h0bWwgfHwgJzxsaT5Nb2RpZmljYXRpb25zIHByb3Bvc1x1MDBFOWVzPC9saT4nfVxuICAgICAgICA8L3VsPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBnYXAtMlwiPlxuICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICBjbGFzcz1cImFpLWFwcGx5LWVkaXQgcHgtMyBweS0xLjUgdGV4dC14cyBmb250LW1lZGl1bSB0ZXh0LXdoaXRlIGJnLWVtZXJhbGQtNjAwIGhvdmVyOmJnLWVtZXJhbGQtNzAwIHJvdW5kZWQtbGcgdHJhbnNpdGlvbi1jb2xvcnMgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTFcIlxuICAgICAgICAgICAgZGF0YS1wcm9wb3NhbC1pZD1cIiR7cHJvcG9zYWwucHJvcG9zYWxJZH1cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJ3LTMuNSBoLTMuNVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgICA8cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk01IDEzbDQgNEwxOSA3XCIvPlxuICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICBBcHBsaXF1ZXJcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgY2xhc3M9XCJhaS1yZWplY3QtZWRpdCBweC0zIHB5LTEuNSB0ZXh0LXhzIGZvbnQtbWVkaXVtIHRleHQtc2xhdGUtNjAwIGJnLXNsYXRlLTEwMCBob3ZlcjpiZy1zbGF0ZS0yMDAgcm91bmRlZC1sZyB0cmFuc2l0aW9uLWNvbG9ycyBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMVwiXG4gICAgICAgICAgICBkYXRhLXByb3Bvc2FsLWlkPVwiJHtwcm9wb3NhbC5wcm9wb3NhbElkfVwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHN2ZyBjbGFzcz1cInctMy41IGgtMy41XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICAgIDxwYXRoIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTYgMThMMTggNk02IDZsMTIgMTJcIi8+XG4gICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgIFJlamV0ZXJcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICBgO1xuICAgIFxuICAgIGFpQ2hhdE1lc3NhZ2VzLmFwcGVuZENoaWxkKHByb3Bvc2FsRGl2KTtcbiAgICBhaUNoYXRNZXNzYWdlcy5zY3JvbGxUb3AgPSBhaUNoYXRNZXNzYWdlcy5zY3JvbGxIZWlnaHQ7XG4gICAgXG4gICAgLy8gQXR0YWNoZXIgbGVzIFx1MDBFOXZcdTAwRTluZW1lbnRzIGF1eCBib3V0b25zXG4gICAgcHJvcG9zYWxEaXYucXVlcnlTZWxlY3RvcignLmFpLWFwcGx5LWVkaXQnKT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVBcHBseUVkaXQpO1xuICAgIHByb3Bvc2FsRGl2LnF1ZXJ5U2VsZWN0b3IoJy5haS1yZWplY3QtZWRpdCcpPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZVJlamVjdEVkaXQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFmZmljaGUgdW5lIHByb3Bvc2l0aW9uIGRlIG1vZGlmaWNhdGlvbiBkdSB0aFx1MDBFOG1lIGF2ZWMgYm91dG9ucyBkZSB2YWxpZGF0aW9uXG4gICAqL1xuICBmdW5jdGlvbiBhcHBlbmRUaGVtZVByb3Bvc2FsKHByb3Bvc2FsKSB7XG4gICAgaWYgKCFhaUNoYXRNZXNzYWdlcyB8fCAhcHJvcG9zYWwpIHJldHVybjtcbiAgICBcbiAgICBjb25zdCBwcm9wb3NhbERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHByb3Bvc2FsRGl2LmNsYXNzTmFtZSA9ICdmbGV4IGdhcC0zIG10LTInO1xuICAgIHByb3Bvc2FsRGl2LmRhdGFzZXQucHJvcG9zYWxJZCA9IHByb3Bvc2FsLnByb3Bvc2FsSWQ7XG4gICAgXG4gICAgLy8gQ29uc3RydWlyZSBsZSByXHUwMEU5c3VtXHUwMEU5IGRlcyBjaGFuZ2VtZW50cyBkZSBjb3VsZXVyc1xuICAgIGxldCBjb2xvcnNIdG1sID0gJyc7XG4gICAgaWYgKHByb3Bvc2FsLmNoYW5nZXM/LmNvbG9ycykge1xuICAgICAgY29uc3QgY29sb3JzID0gcHJvcG9zYWwuY2hhbmdlcy5jb2xvcnM7XG4gICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhjb2xvcnMpKSB7XG4gICAgICAgIGNvbG9yc0h0bWwgKz0gYDxsaSBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJ3LTQgaC00IHJvdW5kZWQgYm9yZGVyIGJvcmRlci1zbGF0ZS0zMDBcIiBzdHlsZT1cImJhY2tncm91bmQ6ICR7Z2V0VGFpbHdpbmRDb2xvckNzcyh2YWx1ZSl9XCI+PC9zcGFuPlxuICAgICAgICAgIDxzcGFuPiR7a2V5fTogPHN0cm9uZz4ke2VzY2FwZUh0bWwodmFsdWUpfTwvc3Ryb25nPjwvc3Bhbj5cbiAgICAgICAgPC9saT5gO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvLyBUeXBvZ3JhcGhpZXNcbiAgICBsZXQgdHlwb0h0bWwgPSAnJztcbiAgICBpZiAocHJvcG9zYWwuY2hhbmdlcz8udHlwb2dyYXBoeSkge1xuICAgICAgY29uc3QgdHlwbyA9IHByb3Bvc2FsLmNoYW5nZXMudHlwb2dyYXBoeTtcbiAgICAgIGlmICh0eXBvLmhlYWRpbmdzKSB0eXBvSHRtbCArPSBgPGxpPlRpdHJlcyBcdTIxOTIgPHN0cm9uZz4ke2VzY2FwZUh0bWwodHlwby5oZWFkaW5ncyl9PC9zdHJvbmc+PC9saT5gO1xuICAgICAgaWYgKHR5cG8uYm9keSkgdHlwb0h0bWwgKz0gYDxsaT5UZXh0ZXMgXHUyMTkyIDxzdHJvbmc+JHtlc2NhcGVIdG1sKHR5cG8uYm9keSl9PC9zdHJvbmc+PC9saT5gO1xuICAgIH1cbiAgICBcbiAgICBwcm9wb3NhbERpdi5pbm5lckhUTUwgPSBgXG4gICAgICA8ZGl2IGNsYXNzPVwidy04IGgtOCByb3VuZGVkLWZ1bGwgYmctcHVycGxlLTUwMCBmbGV4LXNocmluay0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgIDxzdmcgY2xhc3M9XCJ3LTQgaC00IHRleHQtd2hpdGVcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICA8cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk03IDIxYTQgNCAwIDAxLTQtNFY1YTIgMiAwIDAxMi0yaDRhMiAyIDAgMDEyIDJ2MTJhNCA0IDAgMDEtNCA0em0wIDBoMTJhMiAyIDAgMDAyLTJ2LTRhMiAyIDAgMDAtMi0yaC0yLjM0M00xMSA3LjM0M2wxLjY1Ny0xLjY1N2EyIDIgMCAwMTIuODI4IDBsMi44MjkgMi44MjlhMiAyIDAgMDEwIDIuODI4bC04LjQ4NiA4LjQ4NU03IDE3aC4wMVwiLz5cbiAgICAgICAgPC9zdmc+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJmbGV4LTEgYmctcHVycGxlLTUwIGJvcmRlciBib3JkZXItcHVycGxlLTIwMCByb3VuZGVkLTJ4bCByb3VuZGVkLXRsLW5vbmUgcC00XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBtYi0yXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgdGV4dC1wdXJwbGUtNzAwIGJnLXB1cnBsZS0xMDAgcHgtMiBweS0wLjUgcm91bmRlZFwiPk1vZGlmaWNhdGlvbiBkdSB0aFx1MDBFOG1lPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgJHtwcm9wb3NhbC5yZWFzb24gPyBgPHAgY2xhc3M9XCJ0ZXh0LXNtIHRleHQtc2xhdGUtNjAwIG1iLTNcIj4ke2VzY2FwZUh0bWwocHJvcG9zYWwucmVhc29uKX08L3A+YCA6ICcnfVxuICAgICAgICAke2NvbG9yc0h0bWwgPyBgXG4gICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXhzIGZvbnQtbWVkaXVtIHRleHQtc2xhdGUtNzAwIG1iLTFcIj5Db3VsZXVycyA6PC9wPlxuICAgICAgICAgIDx1bCBjbGFzcz1cInRleHQteHMgdGV4dC1zbGF0ZS02MDAgc3BhY2UteS0xIG1iLTNcIj4ke2NvbG9yc0h0bWx9PC91bD5cbiAgICAgICAgYCA6ICcnfVxuICAgICAgICAke3R5cG9IdG1sID8gYFxuICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC14cyBmb250LW1lZGl1bSB0ZXh0LXNsYXRlLTcwMCBtYi0xXCI+VHlwb2dyYXBoaWVzIDo8L3A+XG4gICAgICAgICAgPHVsIGNsYXNzPVwidGV4dC14cyB0ZXh0LXNsYXRlLTYwMCBzcGFjZS15LTEgbWItMyBsaXN0LWRpc2MgbWwtNFwiPiR7dHlwb0h0bWx9PC91bD5cbiAgICAgICAgYCA6ICcnfVxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBnYXAtMlwiPlxuICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICBjbGFzcz1cImFpLWFwcGx5LXRoZW1lIHB4LTMgcHktMS41IHRleHQteHMgZm9udC1tZWRpdW0gdGV4dC13aGl0ZSBiZy1wdXJwbGUtNjAwIGhvdmVyOmJnLXB1cnBsZS03MDAgcm91bmRlZC1sZyB0cmFuc2l0aW9uLWNvbG9ycyBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMVwiXG4gICAgICAgICAgICBkYXRhLXByb3Bvc2FsLWlkPVwiJHtwcm9wb3NhbC5wcm9wb3NhbElkfVwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHN2ZyBjbGFzcz1cInctMy41IGgtMy41XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICAgIDxwYXRoIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTUgMTNsNCA0TDE5IDdcIi8+XG4gICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgIEFwcGxpcXVlclxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICBjbGFzcz1cImFpLXJlamVjdC10aGVtZSBweC0zIHB5LTEuNSB0ZXh0LXhzIGZvbnQtbWVkaXVtIHRleHQtc2xhdGUtNjAwIGJnLXNsYXRlLTEwMCBob3ZlcjpiZy1zbGF0ZS0yMDAgcm91bmRlZC1sZyB0cmFuc2l0aW9uLWNvbG9ycyBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMVwiXG4gICAgICAgICAgICBkYXRhLXByb3Bvc2FsLWlkPVwiJHtwcm9wb3NhbC5wcm9wb3NhbElkfVwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHN2ZyBjbGFzcz1cInctMy41IGgtMy41XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICAgIDxwYXRoIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTYgMThMMTggNk02IDZsMTIgMTJcIi8+XG4gICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgIFJlamV0ZXJcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICBgO1xuICAgIFxuICAgIGFpQ2hhdE1lc3NhZ2VzLmFwcGVuZENoaWxkKHByb3Bvc2FsRGl2KTtcbiAgICBhaUNoYXRNZXNzYWdlcy5zY3JvbGxUb3AgPSBhaUNoYXRNZXNzYWdlcy5zY3JvbGxIZWlnaHQ7XG4gICAgXG4gICAgLy8gQXR0YWNoZXIgbGVzIFx1MDBFOXZcdTAwRTluZW1lbnRzIGF1eCBib3V0b25zXG4gICAgcHJvcG9zYWxEaXYucXVlcnlTZWxlY3RvcignLmFpLWFwcGx5LXRoZW1lJyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlQXBwbHlUaGVtZSk7XG4gICAgcHJvcG9zYWxEaXYucXVlcnlTZWxlY3RvcignLmFpLXJlamVjdC10aGVtZScpPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZVJlamVjdEVkaXQpOyAvLyBSXHUwMEU5dXRpbGlzZSBsYSBtXHUwMEVBbWUgbG9naXF1ZSBkZSByZWpldFxuICB9XG4gIFxuICAvKipcbiAgICogQ29udmVydGl0IHVuZSBjb3VsZXVyIFRhaWx3aW5kIGVuIENTUyBhcHByb3hpbWF0aWYgcG91ciBwcmV2aWV3XG4gICAqL1xuICBmdW5jdGlvbiBnZXRUYWlsd2luZENvbG9yQ3NzKGNvbG9yTmFtZSkge1xuICAgIGNvbnN0IGNvbG9ycyA9IHtcbiAgICAgICd3aGl0ZSc6ICcjZmZmZmZmJywgJ2JsYWNrJzogJyMwMDAwMDAnLCAndHJhbnNwYXJlbnQnOiAndHJhbnNwYXJlbnQnLFxuICAgICAgJ3NsYXRlLTUwJzogJyNmOGZhZmMnLCAnc2xhdGUtMTAwJzogJyNmMWY1ZjknLCAnc2xhdGUtMjAwJzogJyNlMmU4ZjAnLCAnc2xhdGUtMzAwJzogJyNjYmQ1ZTEnLCAnc2xhdGUtNDAwJzogJyM5NGEzYjgnLCAnc2xhdGUtNTAwJzogJyM2NDc0OGInLCAnc2xhdGUtNjAwJzogJyM0NzU1NjknLCAnc2xhdGUtNzAwJzogJyMzMzQxNTUnLCAnc2xhdGUtODAwJzogJyMxZTI5M2InLCAnc2xhdGUtOTAwJzogJyMwZjE3MmEnLFxuICAgICAgJ2dyYXktNTAnOiAnI2Y5ZmFmYicsICdncmF5LTEwMCc6ICcjZjNmNGY2JywgJ2dyYXktMjAwJzogJyNlNWU3ZWInLCAnZ3JheS0zMDAnOiAnI2QxZDVkYicsICdncmF5LTQwMCc6ICcjOWNhM2FmJywgJ2dyYXktNTAwJzogJyM2YjcyODAnLCAnZ3JheS02MDAnOiAnIzRiNTU2MycsICdncmF5LTcwMCc6ICcjMzc0MTUxJywgJ2dyYXktODAwJzogJyMxZjI5MzcnLCAnZ3JheS05MDAnOiAnIzExMTgyNycsXG4gICAgICAndmlvbGV0LTUwJzogJyNmNWYzZmYnLCAndmlvbGV0LTEwMCc6ICcjZWRlOWZlJywgJ3Zpb2xldC0yMDAnOiAnI2RkZDZmZScsICd2aW9sZXQtMzAwJzogJyNjNGI1ZmQnLCAndmlvbGV0LTQwMCc6ICcjYTc4YmZhJywgJ3Zpb2xldC01MDAnOiAnIzhiNWNmNicsICd2aW9sZXQtNjAwJzogJyM3YzNhZWQnLCAndmlvbGV0LTcwMCc6ICcjNmQyOGQ5JywgJ3Zpb2xldC04MDAnOiAnIzViMjFiNicsICd2aW9sZXQtOTAwJzogJyM0YzFkOTUnLFxuICAgICAgJ3B1cnBsZS01MCc6ICcjZmFmNWZmJywgJ3B1cnBsZS0xMDAnOiAnI2YzZThmZicsICdwdXJwbGUtMjAwJzogJyNlOWQ1ZmYnLCAncHVycGxlLTMwMCc6ICcjZDhiNGZlJywgJ3B1cnBsZS00MDAnOiAnI2MwODRmYycsICdwdXJwbGUtNTAwJzogJyNhODU1ZjcnLCAncHVycGxlLTYwMCc6ICcjOTMzM2VhJywgJ3B1cnBsZS03MDAnOiAnIzdlMjJjZScsICdwdXJwbGUtODAwJzogJyM2YjIxYTgnLCAncHVycGxlLTkwMCc6ICcjNTgxYzg3JyxcbiAgICAgICdibHVlLTUwJzogJyNlZmY2ZmYnLCAnYmx1ZS0xMDAnOiAnI2RiZWFmZScsICdibHVlLTIwMCc6ICcjYmZkYmZlJywgJ2JsdWUtMzAwJzogJyM5M2M1ZmQnLCAnYmx1ZS00MDAnOiAnIzYwYTVmYScsICdibHVlLTUwMCc6ICcjM2I4MmY2JywgJ2JsdWUtNjAwJzogJyMyNTYzZWInLCAnYmx1ZS03MDAnOiAnIzFkNGVkOCcsICdibHVlLTgwMCc6ICcjMWU0MGFmJywgJ2JsdWUtOTAwJzogJyMxZTNhOGEnLFxuICAgICAgJ2VtZXJhbGQtNTAnOiAnI2VjZmRmNScsICdlbWVyYWxkLTEwMCc6ICcjZDFmYWU1JywgJ2VtZXJhbGQtMjAwJzogJyNhN2YzZDAnLCAnZW1lcmFsZC0zMDAnOiAnIzZlZTdiNycsICdlbWVyYWxkLTQwMCc6ICcjMzRkMzk5JywgJ2VtZXJhbGQtNTAwJzogJyMxMGI5ODEnLCAnZW1lcmFsZC02MDAnOiAnIzA1OTY2OScsICdlbWVyYWxkLTcwMCc6ICcjMDQ3ODU3JywgJ2VtZXJhbGQtODAwJzogJyMwNjVmNDYnLCAnZW1lcmFsZC05MDAnOiAnIzA2NGUzYicsXG4gICAgICAndGVhbC01MCc6ICcjZjBmZGZhJywgJ3RlYWwtMTAwJzogJyNjY2ZiZjEnLCAndGVhbC0yMDAnOiAnIzk5ZjZlNCcsICd0ZWFsLTMwMCc6ICcjNWVlYWQ0JywgJ3RlYWwtNDAwJzogJyMyZGQ0YmYnLCAndGVhbC01MDAnOiAnIzE0YjhhNicsICd0ZWFsLTYwMCc6ICcjMGQ5NDg4JywgJ3RlYWwtNzAwJzogJyMwZjc2NmUnLCAndGVhbC04MDAnOiAnIzExNWU1OScsICd0ZWFsLTkwMCc6ICcjMTM0ZTRhJyxcbiAgICAgICdhbWJlci01MCc6ICcjZmZmYmViJywgJ2FtYmVyLTEwMCc6ICcjZmVmM2M3JywgJ2FtYmVyLTIwMCc6ICcjZmRlNjhhJywgJ2FtYmVyLTMwMCc6ICcjZmNkMzRkJywgJ2FtYmVyLTQwMCc6ICcjZmJiZjI0JywgJ2FtYmVyLTUwMCc6ICcjZjU5ZTBiJywgJ2FtYmVyLTYwMCc6ICcjZDk3NzA2JywgJ2FtYmVyLTcwMCc6ICcjYjQ1MzA5JywgJ2FtYmVyLTgwMCc6ICcjOTI0MDBlJywgJ2FtYmVyLTkwMCc6ICcjNzgzNTBmJyxcbiAgICAgICdyZWQtNTAnOiAnI2ZlZjJmMicsICdyZWQtMTAwJzogJyNmZWUyZTInLCAncmVkLTIwMCc6ICcjZmVjYWNhJywgJ3JlZC0zMDAnOiAnI2ZjYTVhNScsICdyZWQtNDAwJzogJyNmODcxNzEnLCAncmVkLTUwMCc6ICcjZWY0NDQ0JywgJ3JlZC02MDAnOiAnI2RjMjYyNicsICdyZWQtNzAwJzogJyNiOTFjMWMnLCAncmVkLTgwMCc6ICcjOTkxYjFiJywgJ3JlZC05MDAnOiAnIzdmMWQxZCdcbiAgICB9O1xuICAgIHJldHVybiBjb2xvcnNbY29sb3JOYW1lXSB8fCAnIzlDNkJGRic7XG4gIH1cblxuICAvKipcbiAgICogQXBwbGlxdWUgdW5lIHByb3Bvc2l0aW9uIGRlIG1vZGlmaWNhdGlvbiBkdSB0aFx1MDBFOG1lXG4gICAqL1xuICBhc3luYyBmdW5jdGlvbiBoYW5kbGVBcHBseVRoZW1lKGUpIHtcbiAgICBjb25zdCBwcm9wb3NhbElkID0gZS50YXJnZXQuY2xvc2VzdCgnW2RhdGEtcHJvcG9zYWwtaWRdJyk/LmRhdGFzZXQucHJvcG9zYWxJZDtcbiAgICBjb25zdCBzaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyk7XG4gICAgaWYgKCFwcm9wb3NhbElkIHx8ICFzaXRlU2x1ZykgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0IGJ0biA9IGUudGFyZ2V0LmNsb3Nlc3QoJ2J1dHRvbicpO1xuICAgIGJ0bi5kaXNhYmxlZCA9IHRydWU7XG4gICAgYnRuLmlubmVySFRNTCA9ICc8c3BhbiBjbGFzcz1cImFuaW1hdGUtc3BpblwiPlx1MjNGMzwvc3Bhbj4gQXBwbGljYXRpb24uLi4nO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNpdGVTbHVnKX0vYWkvYXBwbHktdGhlbWVgLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBwcm9wb3NhbElkIH0pXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIFxuICAgICAgaWYgKHJlc3BvbnNlLm9rICYmIGRhdGEuc3VjY2Vzcykge1xuICAgICAgICAvLyBSZW1wbGFjZXIgbGEgY2FyZCBwYXIgdW4gbWVzc2FnZSBkZSBzdWNjXHUwMEU4c1xuICAgICAgICBjb25zdCBwcm9wb3NhbENhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1wcm9wb3NhbC1pZD1cIiR7cHJvcG9zYWxJZH1cIl1gKTtcbiAgICAgICAgaWYgKHByb3Bvc2FsQ2FyZCkge1xuICAgICAgICAgIHByb3Bvc2FsQ2FyZC5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwidy04IGgtOCByb3VuZGVkLWZ1bGwgYmctcHVycGxlLTUwMCBmbGV4LXNocmluay0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJ3LTQgaC00IHRleHQtd2hpdGVcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgICAgICA8cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk01IDEzbDQgNEwxOSA3XCIvPlxuICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXgtMSBiZy1wdXJwbGUtNTAgYm9yZGVyIGJvcmRlci1wdXJwbGUtMjAwIHJvdW5kZWQtMnhsIHJvdW5kZWQtdGwtbm9uZSBwLTNcIj5cbiAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXNtIHRleHQtcHVycGxlLTcwMFwiPlx1MjcwNSBUaFx1MDBFOG1lIG1pcyBcdTAwRTAgam91ciBhdmVjIHN1Y2NcdTAwRThzICE8L3A+XG4gICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC14cyB0ZXh0LXB1cnBsZS02MDAgbXQtMVwiPlJlY2hhcmdleiBsYSBwcmV2aWV3IHBvdXIgdm9pciBsZXMgY2hhbmdlbWVudHMuPC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgYDtcbiAgICAgICAgfVxuICAgICAgICBzaG93VG9hc3QoJ1RoXHUwMEU4bWUgbWlzIFx1MDBFMCBqb3VyICEnKTtcbiAgICAgICAgXG4gICAgICAgIC8vIERcdTAwRTljbGVuY2hlciB1biBcdTAwRTl2XHUwMEU5bmVtZW50IHBlcnNvbm5hbGlzXHUwMEU5IHBvdXIgcmFmcmFcdTAwRUVjaGlyXG4gICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdhaS10aGVtZS11cGRhdGVkJywge1xuICAgICAgICAgIGRldGFpbDogeyB1cGRhdGVkVGhlbWU6IGRhdGEudXBkYXRlZFRoZW1lIH1cbiAgICAgICAgfSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGRhdGEubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZGUgbFxcJ2FwcGxpY2F0aW9uJyk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBidG4uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgIGJ0bi5pbm5lckhUTUwgPSBgPHN2ZyBjbGFzcz1cInctMy41IGgtMy41XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNSAxM2w0IDRMMTkgN1wiLz48L3N2Zz4gUlx1MDBFOWVzc2F5ZXJgO1xuICAgICAgc2hvd1RvYXN0KGBFcnJldXI6ICR7ZXJyLm1lc3NhZ2V9YCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFwcGxpcXVlIHVuZSBwcm9wb3NpdGlvbiBkJ1x1MDBFOWRpdGlvbiB2YWxpZFx1MDBFOWVcbiAgICovXG4gIGFzeW5jIGZ1bmN0aW9uIGhhbmRsZUFwcGx5RWRpdChlKSB7XG4gICAgY29uc3QgcHJvcG9zYWxJZCA9IGUudGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLXByb3Bvc2FsLWlkXScpPy5kYXRhc2V0LnByb3Bvc2FsSWQ7XG4gICAgY29uc3Qgc2l0ZVNsdWcgPSBzdHJpcExlYWRpbmdTbGFzaChzdG9yZWRTaXRlLnNsdWcgfHwgJycpO1xuICAgIGlmICghcHJvcG9zYWxJZCB8fCAhc2l0ZVNsdWcpIHJldHVybjtcbiAgICBcbiAgICBjb25zdCBidG4gPSBlLnRhcmdldC5jbG9zZXN0KCdidXR0b24nKTtcbiAgICBidG4uZGlzYWJsZWQgPSB0cnVlO1xuICAgIGJ0bi5pbm5lckhUTUwgPSAnPHNwYW4gY2xhc3M9XCJhbmltYXRlLXNwaW5cIj5cdTIzRjM8L3NwYW4+IEFwcGxpY2F0aW9uLi4uJztcbiAgICBcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzaXRlU2x1Zyl9L2FpL2FwcGx5LWVkaXRgLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBwcm9wb3NhbElkIH0pXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIFxuICAgICAgaWYgKHJlc3BvbnNlLm9rICYmIGRhdGEuc3VjY2Vzcykge1xuICAgICAgICAvLyBSZW1wbGFjZXIgbGEgY2FyZCBwYXIgdW4gbWVzc2FnZSBkZSBzdWNjXHUwMEU4c1xuICAgICAgICBjb25zdCBwcm9wb3NhbENhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1wcm9wb3NhbC1pZD1cIiR7cHJvcG9zYWxJZH1cIl1gKTtcbiAgICAgICAgaWYgKHByb3Bvc2FsQ2FyZCkge1xuICAgICAgICAgIHByb3Bvc2FsQ2FyZC5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwidy04IGgtOCByb3VuZGVkLWZ1bGwgYmctZW1lcmFsZC01MDAgZmxleC1zaHJpbmstMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICA8c3ZnIGNsYXNzPVwidy00IGgtNCB0ZXh0LXdoaXRlXCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNSAxM2w0IDRMMTkgN1wiLz5cbiAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4LTEgYmctZW1lcmFsZC01MCBib3JkZXIgYm9yZGVyLWVtZXJhbGQtMjAwIHJvdW5kZWQtMnhsIHJvdW5kZWQtdGwtbm9uZSBwLTNcIj5cbiAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXNtIHRleHQtZW1lcmFsZC03MDBcIj5cdTI3MDUgTW9kaWZpY2F0aW9ucyBhcHBsaXF1XHUwMEU5ZXMgYXZlYyBzdWNjXHUwMEU4cyAhPC9wPlxuICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQteHMgdGV4dC1lbWVyYWxkLTYwMCBtdC0xXCI+TGEgcHJldmlldyBzZSBtZXQgXHUwMEUwIGpvdXIgYXV0b21hdGlxdWVtZW50LjwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIGA7XG4gICAgICAgIH1cbiAgICAgICAgc2hvd1RvYXN0KCdNb2RpZmljYXRpb25zIGFwcGxpcXVcdTAwRTllcyAhJyk7XG4gICAgICAgIFxuICAgICAgICAvLyBEXHUwMEU5Y2xlbmNoZXIgdW4gXHUwMEU5dlx1MDBFOW5lbWVudCBwZXJzb25uYWxpc1x1MDBFOSBwb3VyIHJhZnJhXHUwMEVFY2hpciBsYSBwcmV2aWV3XG4gICAgICAgIGNvbnN0IHBhZ2VJZCA9IGRhdGEudXBkYXRlZFBhZ2U/LmlkIHx8IG51bGw7XG4gICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdhaS1wYWdlLXVwZGF0ZWQnLCB7XG4gICAgICAgICAgZGV0YWlsOiB7IHBhZ2VJZCwgdXBkYXRlZFBhZ2U6IGRhdGEudXBkYXRlZFBhZ2UgfVxuICAgICAgICB9KSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZGF0YS5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsXFwnYXBwbGljYXRpb24nKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGJ0bi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgYnRuLmlubmVySFRNTCA9IGA8c3ZnIGNsYXNzPVwidy0zLjUgaC0zLjVcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk01IDEzbDQgNEwxOSA3XCIvPjwvc3ZnPiBSXHUwMEU5ZXNzYXllcmA7XG4gICAgICBzaG93VG9hc3QoYEVycmV1cjogJHtlcnIubWVzc2FnZX1gKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVqZXR0ZSB1bmUgcHJvcG9zaXRpb24gZCdcdTAwRTlkaXRpb25cbiAgICovXG4gIGFzeW5jIGZ1bmN0aW9uIGhhbmRsZVJlamVjdEVkaXQoZSkge1xuICAgIGNvbnN0IHByb3Bvc2FsSWQgPSBlLnRhcmdldC5jbG9zZXN0KCdbZGF0YS1wcm9wb3NhbC1pZF0nKT8uZGF0YXNldC5wcm9wb3NhbElkO1xuICAgIGNvbnN0IHNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goc3RvcmVkU2l0ZS5zbHVnIHx8ICcnKTtcbiAgICBpZiAoIXByb3Bvc2FsSWQgfHwgIXNpdGVTbHVnKSByZXR1cm47XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IGZldGNoKGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNpdGVTbHVnKX0vYWkvcHJvcG9zYWwvJHtwcm9wb3NhbElkfWAsIHtcbiAgICAgICAgbWV0aG9kOiAnREVMRVRFJ1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIC8vIFJlbXBsYWNlciBsYSBjYXJkIHBhciB1biBtZXNzYWdlIGRlIHJlamV0XG4gICAgICBjb25zdCBwcm9wb3NhbENhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1wcm9wb3NhbC1pZD1cIiR7cHJvcG9zYWxJZH1cIl1gKTtcbiAgICAgIGlmIChwcm9wb3NhbENhcmQpIHtcbiAgICAgICAgcHJvcG9zYWxDYXJkLmlubmVySFRNTCA9IGBcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwidy04IGgtOCByb3VuZGVkLWZ1bGwgYmctc2xhdGUtNDAwIGZsZXgtc2hyaW5rLTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJ3LTQgaC00IHRleHQtd2hpdGVcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNiAxOEwxOCA2TTYgNmwxMiAxMlwiLz5cbiAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4LTEgYmctc2xhdGUtMTAwIHJvdW5kZWQtMnhsIHJvdW5kZWQtdGwtbm9uZSBwLTNcIj5cbiAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1zbSB0ZXh0LXNsYXRlLTUwMFwiPlByb3Bvc2l0aW9uIHJlamV0XHUwMEU5ZS48L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIGA7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdbQUldIFJlamVjdCBlZGl0IGVycm9yOicsIGVycik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEVmZmFjZSBsJ2hpc3RvcmlxdWUgZHUgY2hhdFxuICAgKi9cbiAgYXN5bmMgZnVuY3Rpb24gY2xlYXJBSUhpc3RvcnkoKSB7XG4gICAgY29uc3Qgc2l0ZVNsdWcgPSBzdHJpcExlYWRpbmdTbGFzaChzdG9yZWRTaXRlLnNsdWcgfHwgJycpO1xuICAgIGlmICghc2l0ZVNsdWcgfHwgIWFpQ2hhdE1lc3NhZ2VzKSByZXR1cm47XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IGZldGNoKGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNpdGVTbHVnKX0vYWkvaGlzdG9yeWAsIHsgbWV0aG9kOiAnREVMRVRFJyB9KTtcbiAgICAgIFxuICAgICAgLy8gVmlkZXIgbGVzIG1lc3NhZ2VzXG4gICAgICBhaUNoYXRNZXNzYWdlcy5pbm5lckhUTUwgPSAnJztcbiAgICAgIFxuICAgICAgLy8gUlx1MDBFOWFmZmljaGVyIGxlIG1lc3NhZ2UgZGUgYmllbnZlbnVlXG4gICAgICBhaUNoYXRNZXNzYWdlcy5pbm5lckhUTUwgPSBgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGdhcC0zXCIgZGF0YS1haS13ZWxjb21lPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ3LTggaC04IHJvdW5kZWQtZnVsbCBiZy1ncmFkaWVudC10by1iciBmcm9tLXZpb2xldC01MDAgdG8taW5kaWdvLTYwMCBmbGV4LXNocmluay0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICA8c3ZnIGNsYXNzPVwidy00IGgtNCB0ZXh0LXdoaXRlXCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICAgIDxwYXRoIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTkuNjYzIDE3aDQuNjczTTEyIDN2MW02LjM2NCAxLjYzNmwtLjcwNy43MDdNMjEgMTJoLTFNNCAxMkgzbTMuMzQzLTUuNjU3bC0uNzA3LS43MDdtMi44MjggOS45YTUgNSAwIDExNy4wNzIgMGwtLjU0OC41NDdBMy4zNzQgMy4zNzQgMCAwMDE0IDE4LjQ2OVYxOWEyIDIgMCAxMS00IDB2LS41MzFjMC0uODk1LS4zNTYtMS43NTQtLjk4OC0yLjM4NmwtLjU0OC0uNTQ3elwiLz5cbiAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4LTEgYmctc2xhdGUtNTAgcm91bmRlZC0yeGwgcm91bmRlZC10bC1ub25lIHAtM1wiPlxuICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXNtIHRleHQtc2xhdGUtNzAwXCI+XG4gICAgICAgICAgICAgIFNhbHV0ICEgXHVEODNEXHVEQzRCIEplIHN1aXMgdG9uIGFzc2lzdGFudCBJQSBwb3VyIGNlIHNpdGUuIEplIHBldXggdCdhaWRlciBcdTAwRTAgOlxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPHVsIGNsYXNzPVwibXQtMiB0ZXh0LXNtIHRleHQtc2xhdGUtNjAwIHNwYWNlLXktMVwiPlxuICAgICAgICAgICAgICA8bGk+XHVEODNDXHVERkE4IFN1Z2dcdTAwRTlyZXIgZGVzIHBhbGV0dGVzIGRlIGNvdWxldXJzPC9saT5cbiAgICAgICAgICAgICAgPGxpPlx1MjcwRFx1RkUwRiBHXHUwMEU5blx1MDBFOXJlciBkdSBjb250ZW51IHBvdXIgdGVzIGJsb2NzPC9saT5cbiAgICAgICAgICAgICAgPGxpPlx1RDgzRFx1RENDNCBDclx1MDBFOWVyIGRlcyBzdHJ1Y3R1cmVzIGRlIHBhZ2VzPC9saT5cbiAgICAgICAgICAgICAgPGxpPlx1RDgzRFx1REQwRCBBbVx1MDBFOWxpb3JlciB0b24gU0VPPC9saT5cbiAgICAgICAgICAgICAgPGxpPlx1MjcwRlx1RkUwRiA8c3Ryb25nPkFuYWx5c2VyIGV0IG1vZGlmaWVyIHRlcyBwYWdlczwvc3Ryb25nPiAoYXZlYyB2YWxpZGF0aW9uKTwvbGk+XG4gICAgICAgICAgICA8L3VsPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIGA7XG4gICAgICBcbiAgICAgIHNob3dUb2FzdCgnSGlzdG9yaXF1ZSBlZmZhY1x1MDBFOScpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignW0FJXSBDbGVhciBoaXN0b3J5IGZhaWxlZDonLCBlcnIpO1xuICAgICAgc2hvd1RvYXN0KCdFcnJldXIgbG9ycyBkZSBsXFwnZWZmYWNlbWVudCcpO1xuICAgIH1cbiAgfVxuXG4gIC8vIFByb21wdHMgcmFwaWRlc1xuICBjb25zdCBxdWlja1Byb21wdHMgPSB7XG4gICAgY29sb3JzOiAnU3VnZ1x1MDBFOHJlLW1vaSAzIHBhbGV0dGVzIGRlIGNvdWxldXJzIGhhcm1vbmlldXNlcyBwb3VyIG1vbiBzaXRlLiBQb3VyIGNoYXF1ZSBwYWxldHRlLCBkb25uZSBsZXMgY291bGV1cnMgVGFpbHdpbmQ6IHByaW1hcnksIHNlY29uZGFyeSwgYWNjZW50LCBldCBiYWNrZ3JvdW5kLicsXG4gICAgaGVybzogJ0dcdTAwRTluXHUwMEU4cmUgdW4gYmxvYyBIZXJvIGVuIEpTT04gYXZlYyB1biB0aXRyZSBhY2Nyb2NoZXVyLCB1biBzb3VzLXRpdHJlIGVuZ2FnZWFudCBldCB1biBDVEEuJyxcbiAgICBzZW86ICdBbmFseXNlIG1vbiBzaXRlIGV0IHN1Z2dcdTAwRThyZSBkZXMgYW1cdTAwRTlsaW9yYXRpb25zIFNFTyBwb3VyIGxlIG1ldGEgdGl0bGUgZXQgbGEgbWV0YSBkZXNjcmlwdGlvbiBkZSBtYSBwYWdlIGRcXCdhY2N1ZWlsLicsXG4gICAgbGFuZGluZzogJ0dcdTAwRTluXHUwMEU4cmUgbGEgc3RydWN0dXJlIEpTT04gZFxcJ3VuZSBsYW5kaW5nIHBhZ2UgY29tcGxcdTAwRTh0ZSBhdmVjOiBIZXJvLCAzIHNlY3Rpb25zIGRlIGNvbnRlbnUsIGV0IHVuIENUQSBmaW5hbC4nLFxuICAgIGFuYWx5emU6ICdBbmFseXNlIGxlIGNvbnRlbnUgZGUgdG91dGVzIG1lcyBwYWdlcyBldCBwcm9wb3NlIGRlcyBhbVx1MDBFOWxpb3JhdGlvbnMgY29uY3JcdTAwRTh0ZXMuIFBvdXIgY2hhcXVlIHN1Z2dlc3Rpb24gZFxcJ2FtXHUwMEU5bGlvcmF0aW9uIGRlIHRleHRlIG91IGRlIHN0cnVjdHVyZSwgdXRpbGlzZSBsZSBmb3JtYXQgcHJvcG9zZS1lZGl0IHBvdXIgcXVlIGplIHB1aXNzZSB2YWxpZGVyLicsXG4gICAgaW1wcm92ZUhvbWU6ICdBbmFseXNlIG1hIHBhZ2UgZFxcJ2FjY3VlaWwgZXQgcHJvcG9zZSB1bmUgYW1cdTAwRTlsaW9yYXRpb24gZHUgdGl0cmUgb3UgZHUgSGVybyBwb3VyIGxlIHJlbmRyZSBwbHVzIGltcGFjdGFudC4gVXRpbGlzZSBsZSBmb3JtYXQgcHJvcG9zZS1lZGl0LidcbiAgfTtcblxuICAvLyBFdmVudCBsaXN0ZW5lcnNcbiAgYWlDaGF0VG9nZ2xlPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBpZiAoYWlDaGF0T3Blbikge1xuICAgICAgY2xvc2VBSUNoYXQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3BlbkFJQ2hhdCgpO1xuICAgIH1cbiAgfSk7XG5cbiAgYWlDaGF0Q2xvc2U/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VBSUNoYXQpO1xuICBhaUNoYXRPdmVybGF5Py5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlQUlDaGF0KTtcblxuICBhaUNoYXRDbGVhcj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgaWYgKGNvbmZpcm0oJ0VmZmFjZXIgdG91dCBsXFwnaGlzdG9yaXF1ZSBkZSBjb252ZXJzYXRpb24gPycpKSB7XG4gICAgICBjbGVhckFJSGlzdG9yeSgpO1xuICAgIH1cbiAgfSk7XG5cbiAgYWlDaGF0Rm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgbWVzc2FnZSA9IGFpQ2hhdElucHV0Py52YWx1ZT8udHJpbSgpO1xuICAgIGlmIChtZXNzYWdlKSB7XG4gICAgICBhaUNoYXRJbnB1dC52YWx1ZSA9ICcnO1xuICAgICAgc2VuZEFJTWVzc2FnZShtZXNzYWdlKTtcbiAgICB9XG4gIH0pO1xuXG4gIGFpUXVpY2tCdXR0b25zLmZvckVhY2goYnRuID0+IHtcbiAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBhY3Rpb24gPSBidG4uZGF0YXNldC5haVF1aWNrO1xuICAgICAgY29uc3QgcHJvbXB0ID0gcXVpY2tQcm9tcHRzW2FjdGlvbl07XG4gICAgICBpZiAocHJvbXB0KSB7XG4gICAgICAgIHNlbmRBSU1lc3NhZ2UocHJvbXB0KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gRmVybWVyIGF2ZWMgRXNjYXBlXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZSkgPT4ge1xuICAgIGlmIChlLmtleSA9PT0gJ0VzY2FwZScgJiYgYWlDaGF0T3Blbikge1xuICAgICAgY2xvc2VBSUNoYXQoKTtcbiAgICB9XG4gIH0pO1xufSk7XG4iXSwKICAibWFwcGluZ3MiOiAiTUFBQSxTQUFTLGlCQUFpQixtQkFBb0IsSUFBTSxDQUFwRCxJQUFBQSxHQUNFLFFBQVEsSUFBSSwyQkFBd0IsRUFDcEMsSUFBTUMsR0FBZSxTQUFTLGNB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QUNoQ29HLElBQ0Z5MUIsR0FBWSxNQUFRLEdBQ3BCNkIsR0FBY3QzQixDQUFPLEVBRXpCLEdBRUE2MUIsR0FBZSxRQUFRbFksR0FBTyxDQUM1QkEsRUFBSSxpQkFBaUIsUUFBUyxJQUFNLENBQ2xDLElBQU04TSxFQUFTOU0sRUFBSSxRQUFRLFFBQ3JCOGEsRUFBU0QsR0FBYS9OLENBQU0sRUFDOUJnTyxHQUNGbkIsR0FBY21CLENBQU0sQ0FFeEIsQ0FBQyxDQUNILENBQUMsRUFHRCxTQUFTLGlCQUFpQixVQUFZL2lCLEdBQU0sQ0FDdENBLEVBQUUsTUFBUSxVQUFZb2dCLElBQ3hCTSxHQUFZLENBRWhCLENBQUMsQ0FDSCxDQUFDIiwKICAibmFtZXMiOiBbIl9hIiwgImxvZ291dEJ1dHRvbiIsICJlcnIiLCAic2lkZWJhciIsICJzaWRlYmFyT3ZlcmxheSIsICJzaWRlYmFyVG9nZ2xlcyIsICJzaWRlYmFyQ2xvc2VCdXR0b25zIiwgImJvZHkiLCAic2lkZWJhck9wZW4iLCAiYXBwbHlTaWRlYmFyU3RhdGUiLCAib3BlblNpZGViYXIiLCAiY2xvc2VTaWRlYmFyIiwgImJ1dHRvbiIsICJldmVudCIsICJBQ1RJVkVfU0lURV9LRVkiLCAiQUNUSVZFX1NJVEVfTkFNRV9LRVkiLCAic3RvcmVkU2l0ZSIsICJyYXdTbHVnIiwgImVuc3VyZUxlYWRpbmdTbGFzaCIsICJzdHJpcExlYWRpbmdTbGFzaCIsICJzaXRlQ2FyZHMiLCAic2l0ZVNlbGVjdEJ1dHRvbnMiLCAic2l0ZU5hbWVMYWJlbCIsICJ3b3Jrc3BhY2VTaXRlTGFiZWwiLCAid29ya3NwYWNlQmFja05hbWUiLCAid29ya3NwYWNlQmFja01vZGFsIiwgIndvcmtzcGFjZUJhY2tCdXR0b25zIiwgIndvcmtzcGFjZUJhY2tDYW5jZWwiLCAid29ya3NwYWNlQmFja0NvbmZpcm0iLCAid29ya3NwYWNlTmF2TGlua3MiLCAic2l0ZVRvYXN0IiwgInNpdGVUb2FzdE1lc3NhZ2UiLCAic2l0ZUNyZWF0ZUJ1dHRvbnMiLCAic2l0ZU1vZGFsIiwgInNpdGVGb3JtIiwgInNpdGVOYW1lSW5wdXQiLCAic2l0ZVNsdWdJbnB1dCIsICJzaXRlU2x1Z0Vycm9yIiwgInNpdGVNb2RhbEVycm9yIiwgInNpdGVNb2RhbENhbmNlbEJ1dHRvbnMiLCAic2l0ZU1vZGFsU3VibWl0QnV0dG9uIiwgIndvcmtzcGFjZUNvbnRleHQiLCAiZ2V0V29ya3NwYWNlQ29udGV4dCIsICJzbHVnTWFudWFsbHlFZGl0ZWQiLCAidG9hc3RUaW1lb3V0SWQiLCAiZm9jdXNhYmxlU2VsZWN0b3IiLCAibW9kYWxTdGFjayIsICJnZXRGb2N1c2FibGVFbGVtZW50cyIsICJtb2RhbCIsICJlbCIsICJoYW5kbGVNb2RhbEtleWRvd24iLCAiY3VycmVudEVudHJ5IiwgIm9uQ2xvc2UiLCAiZm9jdXNhYmxlRWxlbWVudHMiLCAiZmlyc3QiLCAibGFzdCIsICJhY3RpdmF0ZU1vZGFsIiwgImZvY3VzYWJsZSIsICJfYiIsICJkZWFjdGl2YXRlTW9kYWwiLCAiaW5kZXgiLCAiZW50cnkiLCAibW9iaWxlUGFuZWxPdmVybGF5IiwgIm1vYmlsZVBhbmVsTGF5ZXIiLCAibW9iaWxlUGFuZWxzIiwgIm1vYmlsZVBhbmVsTGF5ZXJQbGFjZWhvbGRlciIsICJyaWdodFBhbmVsUGxhY2Vob2xkZXIiLCAibW9iaWxlUGFuZWxUb2dnbGVzIiwgIm1vYmlsZVBhbmVsQ2xvc2VCdXR0b25zIiwgIm1vYmlsZVBhbmVsVHJpZ2dlcnMiLCAiYWN0aXZlTW9iaWxlUGFuZWwiLCAiaXNEZXNrdG9wVmlld3BvcnQiLCAiZW5zdXJlTW9iaWxlUGFuZWxMYXllclBsYWNlbWVudCIsICJ0YXJnZXRQYXJlbnQiLCAiZW5zdXJlUmlnaHRQYW5lbFBsYWNlbWVudCIsICJwYW5lbCIsICJsZWZ0UGFuZWwiLCAiZW5zdXJlTW9iaWxlUGFuZWxQbGFjZW1lbnQiLCAicGFuZWxEZWZhdWx0WiIsICJzaWRlIiwgImNvbXB1dGVkWiIsICJhY3RpdmVQYW5lbFoiLCAibWF4IiwgInZhbHVlIiwgInNldFBhbmVsWlN0YXRlIiwgImlzQWN0aXZlIiwgImFwcGx5UGFuZWxDbGFzc2VzIiwgImNsYXNzZXMiLCAibWV0aG9kIiwgImNscyIsICJzZXRQYW5lbEhpZGRlblN0YXRlIiwgImhpZGRlbiIsICJoaWRkZW5DbGFzc2VzIiwgInZpc2libGVDbGFzc2VzIiwgImNsb3NlTW9iaWxlUGFuZWwiLCAidHJpZ2dlciIsICJvcGVuTW9iaWxlUGFuZWwiLCAiZm9jdXNUYXJnZXQiLCAic3luY01vYmlsZVBhbmVsc1dpdGhWaWV3cG9ydCIsICJzaG93VG9hc3QiLCAibWVzc2FnZSIsICJzbHVnIiwgInRyaW1tZWQiLCAid2l0aG91dExlYWRpbmciLCAicGVyc2lzdFNpdGVTdGF0ZSIsICJuYW1lIiwgIm5vcm1hbGl6ZWRTbHVnIiwgInVwZGF0ZVNpdGVMYWJlbHMiLCAidXBkYXRlV29ya3NwYWNlTmF2TGlua3MiLCAibGluayIsICJ0YWIiLCAic2x1Z1BhdGgiLCAiYXBwbHlBY3RpdmVTaXRlIiwgIm9wdGlvbnMiLCAiYWN0aXZlU2l0ZU5hbWUiLCAiY2FyZCIsICJiYWRnZSIsICJmaW5hbE5hbWUiLCAic2VsZWN0U2l0ZSIsICJyZXNwb25zZSIsICJwYXlsb2FkIiwgImZpbmFsU2x1ZyIsICJzeW5jQWN0aXZlU2l0ZUZyb21TZXJ2ZXIiLCAic2l0ZSIsICJkZWZhdWx0Q2FyZCIsICJ3b3Jrc3BhY2VTbHVnaWZ5IiwgIm5vcm1hbGl6ZVNsdWdWYWx1ZSIsICJiYXNlIiwgIm9wZW5TaXRlTW9kYWwiLCAiY2xvc2VTaXRlTW9kYWwiLCAic2x1Z1ZhbCIsICJuYW1lVmFsIiwgImdldFNsdWdTZXQiLCAibmFtZVZhbHVlIiwgInNsdWdWYWx1ZSIsICJjcmVhdGVkU2l0ZSIsICJjbG9zZVdvcmtzcGFjZUJhY2tNb2RhbCIsICJtYXRjaCIsICJkZXRlY3RXb3Jrc3BhY2VTZWN0aW9uIiwgIm9wZW5Xb3Jrc3BhY2VCYWNrTW9kYWwiLCAiVFJBTlNQQVJFTlRfUEFUVEVSTiIsICJwYXJzZUNzc0NvbG9yVG9SZ2IiLCAibm9ybWFsaXplZCIsICJyZ2JNYXRjaCIsICJoZXhNYXRjaCIsICJoZXgiLCAibm9ybWFsaXplZEhleCIsICJjIiwgInIiLCAiZyIsICJiIiwgImdldFJlYWRhYmxlVGV4dENvbG9yIiwgImJhY2tncm91bmRDb2xvciIsICJyZ2IiLCAic3R5bGVTZWxlY3RPcHRpb25zIiwgInNlbGVjdCIsICJvcHRpb24iLCAib3B0aW9uQ29sb3IiLCAiYWN0aXZlU2VjdGlvbiIsICJpbml0RGVzaWduV29ya3NwYWNlIiwgImluaXRDb250ZW50V29ya3NwYWNlIiwgImluaXRNZWRpYVdvcmtzcGFjZSIsICJpbml0RGVwbG95V29ya3NwYWNlIiwgImluaXRTZXR0aW5nc1dvcmtzcGFjZSIsICJwYWdlTGlzdHMiLCAiYWN0aXZlVGl0bGUiLCAiYWN0aXZlU2x1ZyIsICJwcmV2aWV3VGFncyIsICJwcmV2aWV3RnJhbWUiLCAicHJldmlld0ZyYW1lV3JhcHBlciIsICJwcmV2aWV3U2hlbGwiLCAicHJldmlld1ZpZXdCdXR0b25zIiwgInByZXZpZXdDdXJyZW50Vmlld0xhYmVsIiwgInByZXZpZXdPcGVuQnV0dG9uIiwgInByZXZpZXdTdGF0dXMiLCAicHJldmlld0hpZ2hsaWdodE92ZXJsYXkiLCAic2VvVG9nZ2xlQnV0dG9uIiwgInNlb1BhbmVsIiwgInNlb0Nsb3NlQnV0dG9uIiwgInNlb0Zvcm0iLCAic2VvVGl0bGVJbnB1dCIsICJzZW9EZXNjcmlwdGlvbklucHV0IiwgInNlb0luZGV4ZWRDaGVja2JveCIsICJzZW9GZWVkYmFjayIsICJzZW9TYXZlQnV0dG9uIiwgInBhZ2VBY2Nlc3NpYmlsaXR5VG9nZ2xlQnV0dG9uIiwgInBhZ2VBY2Nlc3NpYmlsaXR5UGFuZWwiLCAicGFnZUFjY2Vzc2liaWxpdHlDbG9zZUJ1dHRvbiIsICJwYWdlQWNjZXNzaWJpbGl0eUZvcm0iLCAicGFnZUFjY2Vzc2liaWxpdHlOYXZDaGVja2JveCIsICJwYWdlQWNjZXNzaWJpbGl0eU1haW5JbnB1dCIsICJwYWdlQWNjZXNzaWJpbGl0eUZlZWRiYWNrIiwgInBhZ2VBY2Nlc3NpYmlsaXR5U2F2ZUJ1dHRvbiIsICJwYWdlUHJvcHNUb2dnbGVCdXR0b24iLCAicGFnZVByb3BzUGFuZWwiLCAicGFnZVByb3BzQ2xvc2VCdXR0b24iLCAicGFnZVByb3BzRm9ybSIsICJwYWdlTmFtZUlucHV0IiwgInBhZ2VUaXRsZUlucHV0IiwgInBhZ2VTbHVnSW5wdXQiLCAicGFnZURlc2NyaXB0aW9uSW5wdXQiLCAicGFnZVByb3BzRmVlZGJhY2siLCAicGFnZVByb3BzU2F2ZUJ1dHRvbiIsICJibG9ja0xpc3QiLCAiYmxvY2tMaXN0RW1wdHkiLCAiYmxvY2tDb3VudEJhZGdlIiwgImJsb2NrTGlicmFyeVRvZ2dsZSIsICJibG9ja0xpYnJhcnkiLCAiYmxvY2tBZGRCdXR0b25zIiwgImJsb2NrRGVsZXRlTW9kYWwiLCAiYmxvY2tEZWxldGVDb25maXJtIiwgImJsb2NrRGVsZXRlQ2FuY2VsIiwgImJsb2NrRGV0YWlsRW1wdHkiLCAiYmxvY2tEZXRhaWxTdGF0dXMiLCAiYmxvY2tFZGl0b3IiLCAiYmxvY2tFZGl0b3JUaXRsZSIsICJibG9ja0VkaXRvclR5cGUiLCAiYmxvY2tFZGl0b3JVbnN1cHBvcnRlZCIsICJibG9ja0Zvcm0iLCAic3R5bGVDb2xvckNoaXAiLCAiY2hpcCIsICJjb2xvciIsICJlbnN1cmVDdXN0b21UaGVtZU9wdGlvbiIsICJvcHQiLCAidXBkYXRlQ29sb3JTZWxlY3RQcmV2aWV3IiwgIl9jIiwgInNlbGVjdGVkT3B0aW9uIiwgImNvbG9yUHJldmlldyIsICJjb2xvckNoaXAiLCAidGhlbWVDb2xvclNlbGVjdHMiLCAiaXNCYWNrZ3JvdW5kVGhlbWVTZWxlY3QiLCAidGhlbWVDb2xvclByZXNldHMiLCAiZ2V0Q29tcHV0ZWRUaGVtZUNvbG9yVmFsdWUiLCAiY3NzVmFyIiwgImZhbGxiYWNrIiwgImNvbXB1dGVkIiwgImZpbGxUaGVtZUNvbG9yU2VsZWN0IiwgImxhYmVsIiwgImNvbG9yVmFsdWUiLCAicmVmcmVzaFRoZW1lQ29sb3JTZWxlY3RzIiwgImJsb2NrRm9ybVNlY3Rpb25zIiwgImJsb2NrVGFicyIsICJhY3RpdmVCbG9ja1RhYiIsICJsZWZ0UGFuZWxUYWJzIiwgImxlZnRQYW5lbEJsb2NrcyIsICJsZWZ0UGFuZWxQYWdlcyIsICJhY3RpdmVMZWZ0VGFiIiwgInN3aXRjaExlZnRUYWIiLCAidGFiTmFtZSIsICJibG9ja0Zvcm1BY3Rpb25zIiwgImJsb2NrRm9ybUF1dG9zYXZlIiwgInN3aXRjaEJsb2NrVGFiIiwgImNvbGxlY3Rpb25TZWxlY3QiLCAiY29sbGVjdGlvblNlbGVjdGlvbkluZm8iLCAiYmxvY2tGb3JtQ2FuY2VsIiwgImdyb3VwUHJldmlld01vYmlsZSIsICJncm91cFByZXZpZXdEZXNrdG9wIiwgImNvbGxlY3Rpb25QcmV2aWV3TW9iaWxlIiwgImNvbGxlY3Rpb25QcmV2aWV3RGVza3RvcCIsICJibG9ja1R5cGVGb3JtcyIsICJibG9ja1R5cGVBbGlhc2VzIiwgImFuaW1hdGlvbkZpZWxkTWFwIiwgImNvbmZpZyIsICJ1cGRhdGVHcm91cE1pbmlQcmV2aWV3IiwgIm1vYmlsZVZhbHVlIiwgImRlc2t0b3BWYWx1ZSIsICJyZW5kZXJCb3hlcyIsICJjb3VudCIsICJ1cGRhdGVDb2xsZWN0aW9uTWluaVByZXZpZXciLCAiZmV0Y2hQYWdlc0Zyb21TZXJ2ZXIiLCAicGFnZXNBcGlCYXNlIiwgImNyZWF0ZVBhZ2VPblNlcnZlciIsICJ0aXRsZSIsICJzYXZlUGFnZVRvU2VydmVyIiwgInBhZ2UiLCAic2F2ZWQiLCAibm9ybWFsaXplUGFnZURhdGEiLCAicGFnZXMiLCAiY3VycmVudFBhZ2UiLCAibG9hZFBhZ2VzRnJvbVNlcnZlciIsICJhY3RpdmVQYWdlSWQiLCAicmVuZGVyUGFnZUxpc3RzIiwgInJlbmRlckJsb2NrTGlzdCIsICJsb2FkZWRQYWdlcyIsICJnZXRMb2FkaW5nUHJldmlld0h0bWwiLCAiZ2V0U3RvcmVkQWN0aXZlUGFnZSIsICJzZXRBY3RpdmVQYWdlIiwgIm5vcm1hbGl6ZVR5cGUiLCAiZ2V0QmxvY2tGb3JtQ29uZmlnIiwgImJsb2NrIiwgInR5cGVLZXkiLCAiYWxpYXMiLCAicG9wdWxhdGVCbG9ja0Zvcm0iLCAiX2QiLCAiX2UiLCAiX2YiLCAiX2ciLCAic2VjdGlvbiIsICJkZXNpcmVkVmFsdWUiLCAidXBkYXRlQ29sbGVjdGlvblNlbGVjdE9wdGlvbnMiLCAic2V0dGluZ0tleSIsICJmaWVsZE5hbWUiLCAiaW5wdXQiLCAiYmdGaWVsZE5hbWUiLCAiYmdTZWxlY3QiLCAiY29sbGVjdEZvcm1WYWx1ZXMiLCAidmFsdWVzIiwgInBhcnNlZCIsICJ1cGRhdGVQcmV2aWV3U3RhdHVzIiwgInRleHQiLCAic2VyaWFsaXplUGFnZUZvclByZXZpZXciLCAic2VyaWFsaXplQmxvY2siLCAiZGVib3VuY2UiLCAiZm4iLCAiZGVsYXkiLCAidGltZW91dElkIiwgImFyZ3MiLCAiYXV0b1NhdmVBcHBlYXJhbmNlIiwgImFjdGl2ZUJsb2NrSWQiLCAiZ2V0QWN0aXZlQmxvY2siLCAidXBkYXRlZEJsb2NrcyIsICJ1cGRhdGVkU2V0dGluZ3MiLCAibmV4dFBhZ2UiLCAicCIsICJ1cGRhdGVQcmV2aWV3QmxvY2tMaXZlIiwgImJsb2NrSWQiLCAic2V0dGluZ3MiLCAiZGVib3VuY2VkUmVmcmVzaFByZXZpZXciLCAicmVmcmVzaFByZXZpZXciLCAiaGFuZGxlQXBwZWFyYW5jZUNoYW5nZSIsICJwcmV2aWV3U2l0ZVNsdWciLCAic2VyaWFsaXplZFBhZ2VzIiwgInByZXZpZXdSZWFkeSIsICJwcmV2aWV3UmVxdWVzdENvbnRyb2xsZXIiLCAiY29udHJvbGxlciIsICJkYXRhIiwgImxhdGVzdFByZXZpZXdIdG1sIiwgImVycm9yIiwgImhhbmRsZUJsb2NrRm9ybVN1Ym1pdCIsICJhbHRWYWx1ZSIsICJ1cGRhdGVkQmxvY2siLCAidXBkYXRlQ3VycmVudFBhZ2VCbG9ja3MiLCAiZHJhd2VyIiwgImRyYXdlckJhY2tkcm9wIiwgImRyYXdlck9wZW5CdXR0b25zIiwgImRyYXdlckNsb3NlQnV0dG9ucyIsICJhZGRQYWdlVG9nZ2xlIiwgImFkZFBhZ2VGb3JtIiwgImFkZFBhZ2VOYW1lIiwgImFkZFBhZ2VUaXRsZSIsICJhZGRQYWdlU2x1ZyIsICJhZGRQYWdlQ2FuY2VsIiwgImFkZFBhZ2VFcnJvciIsICJhZGRQYWdlU3VibWl0QnV0dG9uIiwgImltcG9ydFRvZ2dsZSIsICJpbXBvcnRNb2RhbCIsICJpbXBvcnRDbG9zZUJ1dHRvbnMiLCAiaW1wb3J0RHJvcHpvbmUiLCAiaW1wb3J0RmlsZUlucHV0IiwgImltcG9ydEZpbGVMaXN0IiwgImltcG9ydEZpbGVOYW1lcyIsICJpbXBvcnRSZXN1bHRzIiwgImltcG9ydFJlc3VsdHNDb250ZW50IiwgImltcG9ydFN1Ym1pdCIsICJpbXBvcnRUYWJzIiwgImltcG9ydFBhbmVscyIsICJjb3B5UHJvbXB0QnRuIiwgImNvcHlUZW1wbGF0ZUJ0biIsICJ0ZW1wbGF0ZUpzb24iLCAiaW1wb3J0QWlQcm9tcHQiLCAiaW1wb3J0UGFzdGVJbnB1dCIsICJwYXN0ZUZvcm1hdEJ0biIsICJwYXN0ZUVycm9yIiwgImltcG9ydFNlbGVjdGVkRmlsZXMiLCAiYWN0aXZlSW1wb3J0VGFiIiwgImRlbGV0ZVBhZ2VNb2RhbCIsICJkZWxldGVQYWdlTmFtZSIsICJkZWxldGVQYWdlQ2FuY2VsIiwgImRlbGV0ZVBhZ2VDb25maXJtIiwgInBhZ2VUb0RlbGV0ZSIsICJzaXRlS2V5IiwgInNpdGVTbHVnVmFsdWUiLCAic2FmZVNpdGVTbHVnIiwgImNvbGxlY3Rpb25zQXBpQmFzZSIsICJzdG9yYWdlS2V5cyIsICJjcmVhdGVCbG9jayIsICJpZCIsICJ0eXBlIiwgInN0YXR1cyIsICJkZXNjcmlwdGlvbiIsICJwcm9wcyIsICJibG9ja0xpYnJhcnlEZWZpbml0aW9ucyIsICJwZXJzaXN0QWN0aXZlUGFnZSIsICJwYWdlSWQiLCAic3RvcmVkIiwgImZvcm1hdEJsb2NrQ291bnQiLCAibm9ybWFsaXplUGFnZVNsdWciLCAiZ2VuZXJhdGVCbG9ja0lkIiwgImtleSIsICJjcmVhdGVJbml0aWFsQmxvY2tzIiwgInNldEFjdGl2ZUxhYmVscyIsICJyZW5kZXJQcmV2aWV3TWV0YSIsICJ0YWciLCAiZ2V0U3RhdHVzQmFkZ2VDbGFzc2VzIiwgInJlbmRlckJsb2NrRGV0YWlscyIsICJyZWFkQWNjZW50Q29sb3IiLCAiYXBwbHlQcmV2aWV3SGlnaGxpZ2h0IiwgImRvYyIsICJub2RlIiwgImFjY2VudCIsICJwcmV2aWV3Vmlld1ByZXNldHMiLCAic2V0UHJldmlld1ZpZXciLCAidmlldyIsICJ0YXJnZXQiLCAic3R5bGVzIiwgImNyZWF0ZUJsb2NrSXRlbUVsZW1lbnQiLCAiaXNOZXN0ZWQiLCAicGFyZW50SWQiLCAiYmxvY2tUeXBlIiwgImlzR3JvdXAiLCAiaXRlbSIsICJjb250ZW50IiwgImhhbmRsZSIsICJ0ZXh0V3JhcHBlciIsICJtZXRhIiwgInR5cGVCYWRnZSIsICJzdGF0dXNCYWRnZSIsICJjaGlsZENvdW50IiwgImNoaWxkQmFkZ2UiLCAiZGlzcGxheUxhYmVsIiwgImNvbGxlY3Rpb25OYW1lIiwgImRlc2lnbkNvbGxlY3Rpb25zIiwgImluZm8iLCAiYWN0aW9ucyIsICJtb3ZlQnV0dG9ucyIsICJtb3ZlVXAiLCAibW92ZUNoaWxkQmxvY2tCeU9mZnNldCIsICJtb3ZlQmxvY2tCeU9mZnNldCIsICJtb3ZlRG93biIsICJkZWxldGVCdXR0b24iLCAicmVtb3ZlQ2hpbGRGcm9tR3JvdXAiLCAib3BlbkJsb2NrRGVsZXRlTW9kYWwiLCAic2V0QWN0aXZlQmxvY2siLCAiY3JlYXRlR3JvdXBEcm9wWm9uZSIsICJwYXJlbnRCbG9jayIsICJkcm9wWm9uZSIsICJlIiwgIm1vdmVCbG9ja1RvR3JvdXAiLCAib3BlbkFkZEJsb2NrVG9Hcm91cE1vZGFsIiwgImJsb2NrcyIsICJjaGlsZCIsICJjaGlsZEl0ZW0iLCAiZmluZENoaWxkTG9jYXRpb24iLCAiY2hpbGRJZCIsICJncm91cEluZGV4IiwgImdyb3VwQmxvY2siLCAiZ3JvdXBUeXBlIiwgImNoaWxkSW5kZXgiLCAiZXh0cmFjdEJsb2NrQnlJZCIsICJyb290SW5kZXgiLCAiY2hpbGRMb2MiLCAiaW5zZXJ0QmxvY2tJbnRvUm9vdCIsICJzYWZlSW5kZXgiLCAiaW5zZXJ0QmxvY2tJbnRvR3JvdXAiLCAiZ3JvdXBJZCIsICJnZXRJbnNlcnRJbmRleEZyb21Qb3NpdGlvbiIsICJiYXNlSW5kZXgiLCAicG9zaXRpb24iLCAib2Zmc2V0V2hlbkFmdGVyIiwgImNvbW1pdEJsb2Nrc0NoYW5nZSIsICJhY3RpdmVJZCIsICJhY3RpdmVQYXJlbnRJZCIsICJ0b2FzdE1lc3NhZ2UiLCAiZXh0cmFjdGVkIiwgIm1vdmVDaGlsZEZyb21Hcm91cFRvUm9vdEF0IiwgImluc2VydEluZGV4IiwgIm1vdmVDaGlsZFdpdGhpbkdyb3VwIiwgInRhcmdldENoaWxkSWQiLCAiZnJvbUluZGV4IiwgInRvSW5kZXhCYXNlIiwgIm1vdmVkIiwgImFkanVzdGVkVG9JbmRleEJhc2UiLCAibW92ZUFueUJsb2NrVG9Hcm91cEF0IiwgInRhcmdldEluZGV4IiwgInJlc29sdmVkIiwgIm9mZnNldCIsICJjdXJyZW50SW5kZXgiLCAibmV3SW5kZXgiLCAicGVuZGluZ0dyb3VwSWRGb3JOZXdCbG9jayIsICJvcGVuRGVsZXRlUGFnZU1vZGFsIiwgImNsb3NlRGVsZXRlUGFnZU1vZGFsIiwgImV4ZWN1dGVEZWxldGVQYWdlIiwgInBhZ2VUaXRsZSIsICJyZXN1bHQiLCAibGlzdCIsICJkaXNwbGF5TmFtZSIsICJuYXZCYWRnZSIsICJpc0Rlc2t0b3BEcmF3ZXIiLCAiY2xvc2VEcmF3ZXIiLCAiZGVsZXRlQnRuIiwgImFjdGl2ZUJsb2NrUGFyZW50SWQiLCAidGFyZ2V0QmxvY2siLCAiZm91bmQiLCAibmV3QmxvY2tzIiwgInVwZGF0ZUN1cnJlbnRQYWdlU3RhdGUiLCAiaXNEZXNrdG9wUmVvcmRlciIsICJyZW9yZGVyQmxvY2tzIiwgInNvdXJjZUlkIiwgInRhcmdldElkIiwgInRvSW5kZXgiLCAicmVvcmRlckJsb2Nrc1dpdGhQb3NpdGlvbiIsICJ1cGRhdGVEcmFnZ2FibGVTdGF0ZSIsICJkcmFnZ2FibGUiLCAiY2xvc2VCbG9ja0xpYnJhcnkiLCAiYmxvY2tMaWJyYXJ5T3BlbiIsICJvcGVuQmxvY2tMaWJyYXJ5IiwgInRvZ2dsZUJsb2NrTGlicmFyeSIsICJhZGRCbG9ja0Zyb21MaWJyYXJ5IiwgImRlZmluaXRpb24iLCAibmV3QmxvY2siLCAiZmlyc3RDb2xsZWN0aW9uSWQiLCAibmV4dEJsb2NrcyIsICJkZWxldGVCbG9ja0J5SWQiLCAibmV4dEFjdGl2ZSIsICJjbG9zZUJsb2NrRGVsZXRlTW9kYWwiLCAicGVuZGluZ0RlbGV0ZUJsb2NrSWQiLCAic3luY1BhZ2VBY2Nlc3NpYmlsaXR5RmllbGRzIiwgInN5bmNEcmF3ZXJTdGF0ZSIsICJvcGVuRHJhd2VyIiwgIm9wZW5BZGRQYWdlRm9ybSIsICJwYWdlU2x1Z01hbnVhbGx5RWRpdGVkIiwgImNsb3NlQWRkUGFnZUZvcm0iLCAic3luY1NsdWdGcm9tTmFtZSIsICJub3JtYWxpemVCbG9ja0RhdGEiLCAibG9hZERlc2lnbkNvbGxlY3Rpb25zIiwgImN1cnJlbnRWYWx1ZSIsICJzeW5jQ29sbGVjdGlvblNlbGVjdGlvbkluZm8iLCAiY29sbGVjdGlvbklkIiwgImNvbGxlY3Rpb24iLCAiZGV0YWlscyIsICJzZWxlY3RlZFZhbHVlIiwgImZhbGxiYWNrT3B0aW9uIiwgImNyZWF0ZWRQYWdlIiwgInJlc2V0UGFzdGVTdGF0ZSIsICJ2YWxpZGF0ZVBhc3RlSnNvbiIsICJmb3JtYXRQYXN0ZUpzb24iLCAidXBkYXRlSW1wb3J0U3VibWl0U3RhdGUiLCAib3BlbkltcG9ydE1vZGFsIiwgInVwZGF0ZUltcG9ydEZpbGVMaXN0IiwgInQiLCAiY2xvc2VJbXBvcnRNb2RhbCIsICJmIiwgImhhbmRsZUltcG9ydEZpbGVzIiwgImZpbGVzIiwgImpzb25GaWxlcyIsICJleGVjdXRlSW1wb3J0IiwgIl9oIiwgIl9pIiwgIl9qIiwgIl9rIiwgInBhZ2VzRGF0YSIsICJwYXJzZUVyciIsICJlcnJvckxpbmUiLCAiZXJyb3JEZXRhaWwiLCAicG9zIiwgImxpbmVzIiwgImxpbmVOdW0iLCAiY29sTnVtIiwgImZpbGVFcnJvcnMiLCAiZmlsZSIsICJodG1sIiwgImhhc0RhdGEiLCAiaGFzU3VjY2VzcyIsICJoYXNFcnJvcnMiLCAiY29sbGVjdGlvbnNNc2ciLCAiYnRuIiwgInRhcmdldFBhbmVsIiwgInRhcmdldFZpZXciLCAicHJldmlld1dpbmRvdyIsICJ0b2dnbGVTZW9QYW5lbCIsICJzaG93IiwgInNldFNlb0ZlZWRiYWNrIiwgInRvbmUiLCAiaXNWaXNpYmxlIiwgInNlb0RhdGEiLCAidXBkYXRlZFBhZ2UiLCAidG9nZ2xlUGFnZUFjY2Vzc2liaWxpdHlQYW5lbCIsICJzZXRQYWdlQWNjZXNzaWJpbGl0eUZlZWRiYWNrIiwgImFjY2Vzc2liaWxpdHlEYXRhIiwgInRvZ2dsZVBhZ2VQcm9wc1BhbmVsIiwgInNldFBhZ2VQcm9wc0ZlZWRiYWNrIiwgIm5ld05hbWUiLCAibmV3VGl0bGUiLCAibmV3U2x1ZyIsICJuZXdEZXNjcmlwdGlvbiIsICJoYW5kbGVCbG9ja0RyYWdTdGFydCIsICJkcmFnU291cmNlSWQiLCAiZHJhZ1NvdXJjZVBhcmVudElkIiwgImNsZWFyRHJhZ0luZGljYXRvcnMiLCAiaGFuZGxlQmxvY2tEcmFnRW5kIiwgImhhbmRsZUJsb2NrRHJhZ092ZXIiLCAicmVjdCIsICJtaWRZIiwgImlzQWJvdmUiLCAiaGFuZGxlQmxvY2tEcmFnTGVhdmUiLCAicmVsYXRlZFRhcmdldCIsICJoYW5kbGVCbG9ja0Ryb3AiLCAic291cmNlIiwgInNvdXJjZVBhcmVudCIsICJkcm9wUG9zaXRpb24iLCAidGFyZ2V0Um9vdEluZGV4IiwgImFjdGl2ZVBhZ2UiLCAiY29sbGVjdGlvbkxpc3QiLCAiY29udGVudFZpZXdzIiwgImNvbnRlbnRTZWN0aW9uQnV0dG9ucyIsICJjb250ZW50U2VjdGlvblRyaWdnZXJzIiwgImhlYWRlclN0YXR1c0luZGljYXRvciIsICJmb290ZXJTdGF0dXNJbmRpY2F0b3IiLCAiY29sbGVjdGlvbkNvdW50RWwiLCAiaXRlbVBhbmVsIiwgIml0ZW1QYW5lbENsb3NlQnV0dG9ucyIsICJjb2xsZWN0aW9uRW1wdHlTdGF0ZSIsICJjb2xsZWN0aW9uSXRlbXNFbXB0eSIsICJpdGVtVGFibGVXcmFwcGVyIiwgIml0ZW1UYWJsZUJvZHkiLCAiY29sbGVjdGlvblRpdGxlIiwgImNvbGxlY3Rpb25EZXNjcmlwdGlvbiIsICJpdGVtQWRkQnV0dG9uIiwgIml0ZW1EZXRhaWxFbXB0eSIsICJpdGVtRm9ybSIsICJpdGVtRm9ybUZpZWxkcyIsICJpdGVtU3RhdHVzQmFkZ2UiLCAiaXRlbURlbGV0ZUJ1dHRvbiIsICJpdGVtRGVsZXRlTW9kYWwiLCAiaXRlbURlbGV0ZUNhbmNlbCIsICJpdGVtRGVsZXRlQ29uZmlybSIsICJpdGVtRm9ybUNhbmNlbCIsICJpdGVtRm9ybVNhdmUiLCAic3RhdHVzQmFkZ2VCYXNlQ2xhc3MiLCAic2V0SXRlbVBhbmVsSGlkZGVuU3RhdGUiLCAic3luY0l0ZW1QYW5lbFdpdGhWaWV3cG9ydCIsICJoaWRlSXRlbUZvcm0iLCAiaGVhZGVyRmllbGRzIiwgImhlYWRlck5hdkxpc3QiLCAiaGVhZGVyTmF2QWRkQnRuIiwgImhlYWRlclNhdmVCdG4iLCAiaGVhZGVyTmF2SXRlbVRlbXBsYXRlIiwgImhlYWRlclBhZ2VzTGlzdCIsICJzaXRlUGFnZXMiLCAic2VsZWN0ZWROYXZQYWdlcyIsICJmb290ZXJGaWVsZHMiLCAiZm9vdGVyQ29sdW1uc0xpc3QiLCAiZm9vdGVyQ29sdW1uQWRkQnRuIiwgImZvb3RlclNhdmVCdG4iLCAiZm9vdGVyQ29sdW1uVGVtcGxhdGUiLCAiZm9vdGVyTGlua1RlbXBsYXRlIiwgImFjdGl2ZUNvbnRlbnRTZWN0aW9uIiwgImhlYWRlckRhdGEiLCAiZm9vdGVyRGF0YSIsICJzYWZlU2l0ZVNsdWdGb3JMYXlvdXQiLCAibGF5b3V0QXBpQmFzZSIsICJzaG93Q29udGVudFZpZXciLCAidmlld05hbWUiLCAibG9hZFNpdGVQYWdlc0ZvckhlYWRlciIsICJyZW5kZXJQYWdlQ2hlY2tib3hlcyIsICJub3JtYWxpemVOYXZQYWdlVXJsIiwgInJhdyIsICJsb3dlciIsICJ3aXRob3V0U2xhc2hlcyIsICJjbGVhbmVkSW50ZXJuYWwiLCAiY2xlYW5lZCIsICJub3JtYWxpemVPcHRpb25hbE5hdlVybCIsICJkZWZhdWx0VmFsdWUiLCAicGFnZVNsdWciLCAicGFnZURpc3BsYXlOYW1lIiwgInBhZ2VVcmwiLCAiaXNTZWxlY3RlZCIsICJuYXYiLCAiY2hlY2tib3giLCAiY29sbGVjdEhlYWRlckRhdGEiLCAidXJsIiwgInBvcHVsYXRlSGVhZGVyRm9ybSIsICJhZGRGb290ZXJMaW5rIiwgImNvbnRhaW5lciIsICJjbG9uZSIsICJsYWJlbElucHV0IiwgInVybElucHV0IiwgInJlbW92ZUJ0biIsICJhZGRGb290ZXJDb2x1bW4iLCAibGlua3MiLCAiY29sdW1uIiwgInRpdGxlSW5wdXQiLCAibGlua3NDb250YWluZXIiLCAiYWRkTGlua0J0biIsICJjb2xsZWN0Rm9vdGVyRGF0YSIsICJfbCIsICJfbSIsICJfbiIsICJfbyIsICJfcCIsICJfcSIsICJfciIsICJfcyIsICJfdCIsICJjb2x1bW5zIiwgImNvbCIsICJsaW5rRWwiLCAicG9wdWxhdGVGb290ZXJGb3JtIiwgInYiLCAic2FmZVNpdGVTbHVnVmFsdWUiLCAiY29sbGVjdGlvbnMiLCAiY29sbGVjdGlvbkl0ZW1zIiwgImFjdGl2ZUNvbGxlY3Rpb25JZCIsICJhY3RpdmVJdGVtSWQiLCAiaXNDcmVhdGluZ0l0ZW0iLCAiaXRlbVNsdWdNYW51YWxseUVkaXRlZCIsICJwZW5kaW5nRGVsZXRlSXRlbUlkIiwgIm5vcm1hbGl6ZUl0ZW1TbHVnSW5wdXQiLCAiY2xlYW5lZFNlZ21lbnRzIiwgInNlZ21lbnQiLCAiZm9ybWF0SXRlbURhdGUiLCAiZGF0ZSIsICJ1cGRhdGVDb2xsZWN0aW9uSGVhZGVyIiwgInVwZGF0ZUl0ZW1zRW1wdHlNZXNzYWdlIiwgInNob3dJdGVtRm9ybSIsICJzeW5jQWRkQnV0dG9uU3RhdGUiLCAic3luY0l0ZW1TdGF0dXNCYWRnZSIsICJjb2xvckNsYXNzIiwgInJlbmRlckNvbGxlY3Rpb25MaXN0IiwgInNldEFjdGl2ZUNvbGxlY3Rpb24iLCAicmVuZGVySXRlbVRhYmxlIiwgInJvdyIsICJzdGF0dXNDbGFzc2VzIiwgImhhbmRsZVNlbGVjdCIsICJzZWxlY3RJdGVtIiwgIml0ZW1JZCIsICJwb3B1bGF0ZUl0ZW1Gb3JtIiwgInByZXBhcmVOZXdJdGVtRm9ybSIsICJjb2xsZWN0SXRlbUZvcm1WYWx1ZXMiLCAic2x1Z0lucHV0IiwgInN1bW1hcnkiLCAiaW1hZ2UiLCAiY3RhVGV4dCIsICJjdGFVcmwiLCAiY3RhIiwgInNldEZvcm1TYXZpbmdTdGF0ZSIsICJpc1NhdmluZyIsICJmZXRjaENvbGxlY3Rpb25JdGVtcyIsICJjcmVhdGVDb2xsZWN0aW9uSXRlbSIsICJ1cGRhdGVDb2xsZWN0aW9uSXRlbSIsICJkZWxldGVDb2xsZWN0aW9uSXRlbSIsICJsb2FkQ29sbGVjdGlvbnMiLCAiZGVmYXVsdElkIiwgInNhdmVkSXRlbSIsICJjbG9zZURlbGV0ZU1vZGFsIiwgIm9wZW5EZWxldGVNb2RhbCIsICJmb3JtIiwgInByb3RvY29sU2VsZWN0IiwgImhvc3RJbnB1dCIsICJwb3J0SW5wdXQiLCAidXNlcklucHV0IiwgInBhc3N3b3JkSW5wdXQiLCAic2hvd1Bhc3N3b3JkVG9nZ2xlIiwgInJlbW90ZVBhdGhJbnB1dCIsICJmZWVkYmFjayIsICJzYXZlQnV0dG9uIiwgInRlc3RCdXR0b24iLCAiZGVwbG95QnV0dG9uIiwgImhpc3RvcnlMaXN0IiwgImxvZ0JveCIsICJkZXBsb3lBcGlCYXNlIiwgImRlcGxveVJ1bkFwaSIsICJkZXBsb3lMb2dBcGkiLCAiaGFzUGFzc3dvcmQiLCAiYnVzeUFjdGlvbiIsICJzYW5pdGl6ZVJlbW90ZVBhdGgiLCAic2V0RmVlZGJhY2siLCAiYmFzZUNsYXNzIiwgInRvbmVDbGFzcyIsICJpY29uIiwgInNldEJ1c3kiLCAiYWN0aW9uIiwgImRpc2FibGUiLCAic3Bpbm5lciIsICJwb3B1bGF0ZUZvcm0iLCAicmVuZGVySGlzdG9yeSIsICJlbnRyaWVzIiwgImxpIiwgImR1cmF0aW9uIiwgInJlbmRlckxvZ3MiLCAiZmV0Y2hIaXN0b3J5IiwgImZldGNoQ29uZmlnIiwgImJ1aWxkUGF5bG9hZCIsICJwd2QiLCAiZXJyb3JQYXlsb2FkIiwgImRvd25sb2FkQnV0dG9uIiwgImRvd25sb2FkRmVlZGJhY2siLCAiZG93bmxvYWRBcGkiLCAic2V0RG93bmxvYWRGZWVkYmFjayIsICJvcmlnaW5hbENvbnRlbnQiLCAiZXJyb3JEYXRhIiwgImJsb2IiLCAiYSIsICJ0YWJCdXR0b25zIiwgInRhYlBhbmVscyIsICJzaXRlRmVlZGJhY2siLCAidGhlbWVGb3JtIiwgInN3aXRjaFRhYiIsICJzdWJtaXQiLCAiZm9ybURhdGEiLCAiY3VycmVudFBhc3N3b3JkIiwgIm5ld1Bhc3N3b3JkIiwgImNvbmZpcm1QYXNzd29yZCIsICJuYW1lSW5wdXQiLCAibGFuZ1NlbGVjdCIsICJ0YWdsaW5lSW5wdXQiLCAic2V0U2l0ZUZlZWRiYWNrIiwgInNpdGVDb25maWdBcGkiLCAibG9hZFNpdGVDb25maWciLCAidGhlbWVBcGkiLCAiY29sb3JTZWxlY3RzIiwgImhlYWRpbmdTZWxlY3QiLCAiYm9keVNlbGVjdCIsICJyYWRpdXNTbWFsbCIsICJyYWRpdXNNZWRpdW0iLCAicmFkaXVzTGFyZ2UiLCAicHJldmlldyIsICJ0aGVtZUZlZWRiYWNrIiwgImFwcGx5QnV0dG9uIiwgInRhaWx3aW5kQmFzZU1hcCIsICJ0YWlsd2luZFRva2VuVG9IZXgiLCAidG9rZW4iLCAiaCIsICJzIiwgInNoYWRlTnVtIiwgImZhY3RvciIsICJ0b1JnYiIsICJtaXgiLCAidGFpbHdpbmRIdWVzIiwgInRhaWx3aW5kU2hhZGVzIiwgInRhaWx3aW5kVG9rZW5zIiwgIm5ldXRyYWxUb2tlbnMiLCAiY29sb3JPcHRpb25EZWZpbml0aW9ucyIsICJlbW9qaSIsICJub3JtYWxpemVTZWxlY3RDb2xvciIsICJmaWxsQ29sb3JPcHRpb25zIiwgInNlbGVjdGVkQ29sb3JzIiwgInNlbCIsICJub3JtYWxpemVkVmFsdWUiLCAic2V0VGhlbWVGZWVkYmFjayIsICJzeW5jUHJldmlldyIsICJ0b2tlblRvSGV4IiwgInN0eWxlVGhlbWVDb2xvckNoaXAiLCAidXBkYXRlVGhlbWVDb2xvclByZXZpZXciLCAiaW5pdENvbG9yUHJldmlld3MiLCAibG9hZFRoZW1lIiwgInRoZW1lQ29sb3JzIiwgInNlb0NvbmZpZ0Zvcm0iLCAiaW5kZXhBbGxDaGVja2JveCIsICJzZW9Db25maWdGZWVkYmFjayIsICJsb2FkU2VvQ29uZmlnIiwgImluZGV4QWxsIiwgImN1cnJlbnRSZXMiLCAiY3VycmVudENvbmZpZyIsICJhbmFseXRpY3NGb3JtIiwgImhlYWRUZXh0YXJlYSIsICJib2R5VGV4dGFyZWEiLCAiYW5hbHl0aWNzRmVlZGJhY2siLCAiYW5hbHl0aWNzU2F2ZUJ1dHRvbiIsICJzZXRBbmFseXRpY3NGZWVkYmFjayIsICJsb2FkQW5hbHl0aWNzQ29uZmlnIiwgImFjY2Vzc2liaWxpdHlGb3JtIiwgImFuaW1hdGlvbnNUb2dnbGUiLCAiY29udHJhc3RUb2dnbGUiLCAiYWNjZXNzaWJpbGl0eUZlZWRiYWNrIiwgImFjY2Vzc2liaWxpdHlTYXZlQnV0dG9uIiwgInNldEFjY2Vzc2liaWxpdHlGZWVkYmFjayIsICJsb2FkQWNjZXNzaWJpbGl0eUNvbmZpZyIsICJhaUNvbmZpZ0Zvcm0iLCAiYXBpS2V5SW5wdXQiLCAibW9kZWxTZWxlY3QiLCAicHJvamVjdFByb21wdFRleHRhcmVhIiwgImVuYWJsZWRDaGVja2JveCIsICJhaUZlZWRiYWNrIiwgImFpU2F2ZUJ1dHRvbiIsICJhaUNvbmZpZ0FwaSIsICJzZXRBSUZlZWRiYWNrIiwgImxvYWRBSUNvbmZpZyIsICJhcGlLZXlWYWx1ZSIsICJncmlkIiwgImVtcHR5U3RhdGUiLCAiY291bnRCYWRnZSIsICJmaWx0ZXJUeXBlIiwgImRldGFpbEVtcHR5IiwgImRldGFpbFBhbmVsIiwgImRldGFpbFByZXZpZXciLCAiZGV0YWlsTmFtZSIsICJkZXRhaWxUeXBlIiwgImRldGFpbFNpemUiLCAiZGV0YWlsUGF0aCIsICJkZXRhaWxVc2VkIiwgImRldGFpbEFsdElucHV0IiwgImRldGFpbFNhdmVCdXR0b24iLCAiZGV0YWlsRGVsZXRlQnV0dG9uIiwgImRlbGV0ZU1vZGFsIiwgImRlbGV0ZUNhbmNlbEJ1dHRvbiIsICJkZWxldGVDb25maXJtQnV0dG9uIiwgInVwbG9hZE9wZW5CdXR0b24iLCAiZmlsZUlucHV0IiwgInVwbG9hZFN0YXR1cyIsICJtZWRpYUFwaUJhc2UiLCAibWVkaWFJdGVtcyIsICJmaWx0ZXJlZEl0ZW1zIiwgImFjdGl2ZU1lZGlhSWQiLCAiaGlnaGxpZ2h0TWVkaWFJZCIsICJwZW5kaW5nVXBsb2FkRmlsZSIsICJ1cGxvYWRJblByb2dyZXNzIiwgImRldGFpbERpcnR5IiwgInVwbG9hZE1vZGUiLCAidXBsb2FkUHJldmlld1VybCIsICJkZXJpdmVHcm91cFR5cGUiLCAiZmlsZW5hbWUiLCAiaXNJbWFnZVR5cGUiLCAiZm9ybWF0VHlwZUxhYmVsIiwgImV4dCIsICJmb3JtYXRGaWxlU2l6ZSIsICJzaXplIiwgInJlc2V0RGV0YWlsUGFuZWwiLCAiY2xlYXJVcGxvYWRTdGF0ZSIsICJ1cGRhdGVEZXRhaWxBY3Rpb25zIiwgInVwZGF0ZUNvdW50QmFkZ2UiLCAicmVuZGVyR3JpZCIsICJzZWxlY3RNZWRpYSIsICJyZW5kZXJVc2VkSW4iLCAic2F2aW5nIiwgIm1lZGlhSWQiLCAic2hvd1VwbG9hZFByZXZpZXciLCAiYXBwbHlGaWx0ZXJzIiwgInR5cGVGaWx0ZXIiLCAibG9hZE1lZGlhIiwgImhhbmRsZUZpbGVTZWxlY3Rpb24iLCAicmVhZEZpbGVBc0Jhc2U2NCIsICJyZXNvbHZlIiwgInJlamVjdCIsICJyZWFkZXIiLCAiYmFzZTY0IiwgInVwbG9hZFNlbGVjdGVkTWVkaWEiLCAiZGVsZXRlQWN0aXZlTWVkaWEiLCAiZGlzYWJsZUJ1dHRvbnMiLCAiZW5hYmxlQnV0dG9ucyIsICJ1cGRhdGVkIiwgImFpQ2hhdFRvZ2dsZSIsICJhaUNoYXRQYW5lbCIsICJhaUNoYXRPdmVybGF5IiwgImFpQ2hhdENsb3NlIiwgImFpQ2hhdENsZWFyIiwgImFpQ2hhdEZvcm0iLCAiYWlDaGF0SW5wdXQiLCAiYWlDaGF0TWVzc2FnZXMiLCAiYWlDaGF0U3RhdHVzIiwgImFpQ2hhdE5vQXBpIiwgImFpUXVpY2tCdXR0b25zIiwgImFpQ2hhdE9wZW4iLCAiYWlJc0xvYWRpbmciLCAiYWlDb25maWdDaGVja2VkIiwgImFpSGFzQXBpS2V5IiwgIm9wZW5BSUNoYXQiLCAiY2hlY2tBSUNvbmZpZyIsICJjbG9zZUFJQ2hhdCIsICJzaXRlU2x1ZyIsICJsb2FkQUlDaGF0SGlzdG9yeSIsICJ3ZWxjb21lTXNnIiwgIm1zZyIsICJhcHBlbmRBSU1lc3NhZ2UiLCAicm9sZSIsICJtc2dEaXYiLCAiZXNjYXBlSHRtbCIsICJmb3JtYXR0ZWRDb250ZW50IiwgImZvcm1hdEFJUmVzcG9uc2UiLCAic2hvd0FJTG9hZGluZyIsICJsb2FkaW5nRGl2IiwgImhpZGVBSUxvYWRpbmciLCAiZm9ybWF0dGVkIiwgImxhbmciLCAiY29kZSIsICJkaXYiLCAic2VuZEFJTWVzc2FnZSIsICJhcHBlbmRFZGl0UHJvcG9zYWwiLCAiYXBwZW5kVGhlbWVQcm9wb3NhbCIsICJwcm9wb3NhbCIsICJwcm9wb3NhbERpdiIsICJjaGFuZ2VzSHRtbCIsICJoYW5kbGVBcHBseUVkaXQiLCAiaGFuZGxlUmVqZWN0RWRpdCIsICJjb2xvcnNIdG1sIiwgImNvbG9ycyIsICJnZXRUYWlsd2luZENvbG9yQ3NzIiwgInR5cG9IdG1sIiwgInR5cG8iLCAiaGFuZGxlQXBwbHlUaGVtZSIsICJjb2xvck5hbWUiLCAicHJvcG9zYWxJZCIsICJwcm9wb3NhbENhcmQiLCAiY2xlYXJBSUhpc3RvcnkiLCAicXVpY2tQcm9tcHRzIiwgInByb21wdCJdCn0K
