(()=>{document.addEventListener("DOMContentLoaded",()=>{console.log("[admin] Atelier charg\xE9");let uo=document.querySelector("[data-logout]");uo&&uo.addEventListener("click",async()=>{uo.disabled=!0;try{await fetch("/api/logout",{method:"POST",headers:{"Content-Type":"application/json"}})}catch(s){console.error("[admin] Impossible de se d\xE9connecter",s)}finally{window.location.href="/admin/index.html"}});let ps=document.querySelector("[data-admin-sidebar]"),yt=document.querySelector("[data-admin-sidebar-overlay]"),Ro=document.querySelectorAll("[data-admin-sidebar-toggle]"),Sn=document.querySelectorAll("[data-admin-sidebar-close]"),mo=document.body,Ns=!1,Ds=()=>{if(!ps)return;if(window.matchMedia("(min-width: 1024px)").matches){ps.classList.remove("hidden"),yt==null||yt.classList.add("hidden"),mo.classList.remove("overflow-hidden");return}Ns?(ps.classList.remove("hidden"),yt==null||yt.classList.remove("hidden"),mo.classList.add("overflow-hidden")):(ps.classList.add("hidden"),yt==null||yt.classList.add("hidden"),mo.classList.remove("overflow-hidden"))},Ln=()=>{Ns=!0,Ds()},fo=()=>{Ns=!1,Ds()};ps&&Ro.length>0&&(Ro.forEach(s=>{s.addEventListener("click",Ln)}),Sn.forEach(s=>{s.addEventListener("click",fo)}),yt==null||yt.addEventListener("click",fo),window.addEventListener("resize",Ds),window.addEventListener("keydown",s=>{s.key==="Escape"&&Ns&&fo()}),Ds());let zo="clower:currentSite",Oo="clower:currentSiteName",Y={slug:null,name:""};(()=>{try{Y.slug=window.localStorage.getItem(zo),Y.name=window.localStorage.getItem(Oo)||""}catch{Y.slug=null,Y.name=""}})();let po=document.querySelectorAll("[data-site-card]"),kn=document.querySelectorAll("[data-site-select]"),gs=document.querySelector("[data-current-site-name]"),Vo=document.querySelector("[data-workspace-site-name]"),Jo=document.querySelector("[data-workspace-back-name]"),Tt=document.querySelector("[data-workspace-back-modal]"),En=document.querySelectorAll("[data-workspace-back]"),Cn=document.querySelectorAll("[data-workspace-back-cancel]"),go=document.querySelector("[data-workspace-back-confirm]"),qn=document.querySelectorAll("[data-workspace-tab]"),ho=document.querySelector("[data-site-toast]"),Go=document.querySelector("[data-site-toast-message]"),An=document.querySelectorAll("[data-site-create]"),lt=document.querySelector("[data-site-modal]"),tt=document.querySelector("[data-site-form]"),We=tt==null?void 0:tt.querySelector('input[name="siteName"]'),Ie=tt==null?void 0:tt.querySelector('input[name="siteSlug"]'),Ke=document.querySelector("[data-site-slug-error]"),Ze=document.querySelector("[data-site-modal-error]"),Tn=document.querySelectorAll("[data-site-modal-cancel]"),ss=document.querySelector("[data-site-modal-submit]"),V=Dn(),Hs=!1,vo=null,Wo='a[href], button:not([disabled]), textarea, input, select, [tabindex]:not([tabindex="-1"])',os=[],Ko=s=>Array.from(s.querySelectorAll(Wo)).filter(a=>!a.hasAttribute("disabled")&&!a.getAttribute("aria-hidden")),$n=s=>{if(!os.length)return;let a=os[os.length-1],{modal:l,onClose:u}=a;if(s.key==="Escape"){s.preventDefault(),u==null||u();return}if(s.key!=="Tab")return;let g=Ko(l);if(!g.length)return;let w=g[0],O=g[g.length-1];s.shiftKey?document.activeElement===w&&(s.preventDefault(),O.focus()):document.activeElement===O&&(s.preventDefault(),w.focus())};document.addEventListener("keydown",$n);let hs=(s,a)=>{if(!s)return;os.push({modal:s,onClose:a,trigger:document.activeElement instanceof HTMLElement?document.activeElement:null});let l=Ko(s);window.setTimeout(()=>{var u,g;(g=(u=l[0]||s).focus)==null||g.call(u)},0)},vs=s=>{var u,g;let a=os.findIndex(w=>w.modal===s);if(a===-1)return;let[l]=os.splice(a,1);(g=(u=l.trigger)==null?void 0:u.focus)==null||g.call(u)},ee=document.querySelector("[data-mobile-panels-overlay]"),be=document.querySelector("[data-mobile-panels-layer]"),ys={left:document.querySelector('[data-mobile-panel="left"]'),right:document.querySelector('[data-mobile-panel="right"]')},Wt=null;be!=null&&be.parentElement&&(Wt=document.createComment("mobile-panels-layer-placeholder"),be.parentElement.insertBefore(Wt,be));let Zo=document.querySelectorAll("[data-mobile-panel-toggle]"),In=document.querySelectorAll("[data-mobile-panel-close]"),bs={left:null,right:null},kt=null,xs=()=>window.matchMedia("(min-width: 1024px)").matches,_o=()=>{if(!(!be||!Wt)){if(xs()){let s=Wt.parentElement;if(!s)return;(be.parentElement!==s||Wt.nextSibling!==be)&&s.insertBefore(be,Wt.nextSibling),be.dataset.mobilePanelPlacement="sidebar";return}be.parentElement!==document.body&&(document.body.appendChild(be),be.dataset.mobilePanelPlacement="overlay")}};_o();let Us=(s,a,l)=>{!s||!a||a.split(" ").map(u=>u.trim()).filter(Boolean).forEach(u=>s.classList[l](u))},yo=(s,a)=>{if(!s)return;let l=s.dataset.mobilePanelHidden||"",u=s.dataset.mobilePanelVisible||"translate-x-0";a?(Us(s,u,"remove"),Us(s,l,"add"),s.classList.add("pointer-events-none"),s.classList.remove("pointer-events-auto"),s.setAttribute("aria-hidden","true"),s.dataset.mobilePanelOpen="false"):(Us(s,l,"remove"),Us(s,u,"add"),s.classList.remove("pointer-events-none"),s.classList.add("pointer-events-auto"),s.setAttribute("aria-hidden","false"),s.dataset.mobilePanelOpen="true")},ws=(s=kt)=>{var u;if(!s||xs())return;let a=ys[s];if(!a)return;yo(a,!0);let l=bs[s];l&&l.setAttribute("aria-expanded","false"),bs[s]=null,kt===s&&(ee==null||ee.classList.add("hidden"),ee==null||ee.classList.remove("pointer-events-auto"),ee==null||ee.classList.add("pointer-events-none"),ee==null||ee.setAttribute("aria-hidden","true"),be==null||be.classList.add("pointer-events-none"),document.body.classList.remove("overflow-hidden"),(u=l==null?void 0:l.focus)==null||u.call(l),kt=null)},jn=(s,a)=>{if(!s||xs())return;let l=ys[s];if(!l)return;kt&&kt!==s&&ws(kt),yo(l,!1),kt=s,bs[s]=a||null,a&&a.setAttribute("aria-expanded","true"),ee==null||ee.classList.remove("hidden","pointer-events-none"),ee==null||ee.classList.add("pointer-events-auto"),ee==null||ee.setAttribute("aria-hidden","false"),be==null||be.classList.remove("pointer-events-none"),document.body.classList.add("overflow-hidden");let u=l.querySelector(Wo);window.setTimeout(()=>{var g;(g=u==null?void 0:u.focus)==null||g.call(u)},0)},Yo=()=>{_o(),xs()?(ee==null||ee.classList.add("hidden"),be==null||be.classList.add("pointer-events-none"),document.body.classList.remove("overflow-hidden"),kt=null,Object.keys(ys).forEach(s=>{let a=ys[s];if(!a)return;a.classList.remove("pointer-events-none"),a.classList.add("pointer-events-auto"),a.setAttribute("aria-hidden","false"),a.dataset.mobilePanelOpen="false";let l=bs[s];l==null||l.setAttribute("aria-expanded","false"),bs[s]=null})):(Object.entries(ys).forEach(([s,a])=>{a&&a.dataset.mobilePanelOpen!=="true"&&yo(a,!0)}),kt||(ee==null||ee.classList.add("hidden","pointer-events-none"),ee==null||ee.classList.remove("pointer-events-auto"),ee==null||ee.setAttribute("aria-hidden","true"),be==null||be.classList.add("pointer-events-none")))};Zo.length>0&&(Zo.forEach(s=>{let a=s.dataset.mobilePanelToggle;s.addEventListener("click",()=>{kt===a?ws(a):jn(a,s)})}),In.forEach(s=>{let a=s.dataset.mobilePanelClose;s.addEventListener("click",()=>ws(a))}),ee==null||ee.addEventListener("click",()=>ws()),window.addEventListener("keydown",s=>{s.key==="Escape"&&kt&&!xs()&&ws()}),window.addEventListener("resize",Yo),Yo());let j=s=>{!ho||!Go||(Go.textContent=s,ho.classList.remove("hidden"),vo&&clearTimeout(vo),vo=setTimeout(()=>{ho.classList.add("hidden")},2500))};function Nt(s){return s?s.startsWith("/")?s:`/${s}`:""}function Le(s){return(s==null?void 0:s.replace(/^\//,""))||""}let Rs=(s,a)=>{let l=s?Nt(s):null;try{l&&(window.localStorage.setItem(zo,l),Y.slug=l),typeof a=="string"&&a.length>0&&(window.localStorage.setItem(Oo,a),Y.name=a)}catch{Y.slug=l||Y.slug,Y.name=a||Y.name}},Xo=s=>{gs&&s&&(gs.textContent=s),Vo&&s&&(Vo.textContent=s),Jo&&s&&(Jo.textContent=s)},bo=s=>{qn.forEach(a=>{let l=a.dataset.workspaceTab;if(!l)return;if(!s){a.href="#",a.classList.add("pointer-events-none","opacity-50","text-slate-400"),a.setAttribute("aria-disabled","true");return}let u=encodeURIComponent(Le(s));a.href=`/admin/site/${u}/${l}`,a.classList.remove("pointer-events-none","opacity-50","text-slate-400"),a.removeAttribute("aria-disabled")})},zs=(s,a={})=>{if(!s)return;let l=Nt(s),u=a.siteName||Y.name||(gs==null?void 0:gs.dataset.defaultSiteName)||"";po.forEach(w=>{let W=Nt(w.dataset.siteCard||"")===l,z=w.querySelector("[data-site-active-badge]");W?(w.classList.add("border-[#9C6BFF]","ring-2","ring-[#9C6BFF]","shadow-md"),w.classList.remove("border-slate-200"),z==null||z.classList.remove("hidden"),u=w.dataset.siteName||u):(w.classList.remove("border-[#9C6BFF]","ring-2","ring-[#9C6BFF]","shadow-md"),w.classList.add("border-slate-200"),z==null||z.classList.add("hidden"))}),a.persist!==!1&&Rs(l,a.siteName||u);let g=a.siteName||u;Xo(g),bo(l)},Bn=async(s,a)=>{let l=Nt(s);try{let u=await fetch("/api/sites/select",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({slug:l})});if(!u.ok){let z=await u.json().catch(()=>({}));j(z.message||"Impossible de s\xE9lectionner ce site.");return}let g=await u.json().catch(()=>({})),w=Nt(g.slug||l),O=g.name||a;Rs(w,O),zs(w,{siteName:O,persist:!1});let W=encodeURIComponent(Le(w));window.location.href=`/admin/site/${W}/design`}catch(u){console.error("[admin] Impossible de s\xE9lectionner le site",u),j("Erreur inattendue lors de la s\xE9lection.")}},Fn=async()=>{try{let s=await fetch("/api/sites/current",{credentials:"same-origin"});if(!s.ok){s.status===404&&V&&(window.location.href="/admin/sites");return}let a=await s.json(),l=Nt(a.slug);Rs(l,a.name),zs(l,{siteName:a.name,persist:!1})}catch(s){console.warn("[admin] Impossible de r\xE9cup\xE9rer le site actif",s)}};(()=>{if(Y.slug){zs(Y.slug,{siteName:Y.name,persist:!1});return}let s=document.querySelector('[data-site-card][data-site-default="true"]')||po[0];s&&zs(s.dataset.siteCard,{siteName:s.dataset.siteName||"",persist:!1})})(),Fn(),V?bo(V.slugValue):Y.slug&&bo(Y.slug),kn.forEach(s=>{s.addEventListener("click",()=>{if(s.disabled)return;let a=s.dataset.siteSelect,l=s.dataset.siteSelectName||"Ce site";a&&(s.disabled=!0,Bn(a,l).finally(()=>{s.disabled=!1}))})});let Kt=s=>(s||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),Mn=s=>{let a=Kt(s||"");return a?`/${a}`:""},Pn=()=>{lt&&(lt.classList.remove("hidden"),lt.classList.add("flex"),Hs=!1,tt==null||tt.reset(),Ke&&(Ke.textContent=""),Ze&&(Ze.textContent=""),Ie&&We&&(Ie.value=Kt(We.value)),hs(lt,Ss),window.setTimeout(()=>{We==null||We.focus()},0))},Ss=()=>{lt&&(lt.classList.add("hidden"),lt.classList.remove("flex"),Hs=!1,tt==null||tt.reset(),Ke&&(Ke.textContent=""),Ze&&(Ze.textContent=""),vs(lt))};An.forEach(s=>{s.addEventListener("click",Pn)}),Tn.forEach(s=>{s.addEventListener("click",Ss)}),lt==null||lt.addEventListener("click",s=>{s.target===lt&&Ss()}),We==null||We.addEventListener("input",()=>{Ie&&((!Hs||Ie.value.trim().length===0)&&(Ie.value=Kt(We.value)),Ke&&(Ke.textContent=""),Ze&&(Ze.textContent=""))}),Ie==null||Ie.addEventListener("focus",()=>{let s=(Ie==null?void 0:Ie.value)||"",a=(We==null?void 0:We.value)||"";!s.trim()&&a.trim()&&(Ie.value=Kt(a))}),Ie==null||Ie.addEventListener("input",()=>{Hs=!0,Ke&&(Ke.textContent=""),Ze&&(Ze.textContent="")});let Nn=()=>new Set(Array.from(po).map(s=>Nt(s.dataset.siteCard||"")));tt==null||tt.addEventListener("submit",async s=>{if(s.preventDefault(),console.log("[admin] Form submit - siteNameInput:",We,"siteSlugInput:",Ie),!We||!Ie){console.log("[admin] Missing inputs, aborting");return}let a=(We.value||"").trim(),l=(Ie.value||"").trim();console.log("[admin] nameValue:",a,"slugValue:",l),!l&&a&&(l=Kt(a),Ie.value=l,console.log("[admin] Auto-generated slug:",l));let u=Mn(l);if(console.log("[admin] normalizedSlug:",u),!a){console.log("[admin] Name validation failed"),Ze&&(Ze.textContent="Le nom du site est requis."),We.focus();return}if(!u){console.log("[admin] Slug validation failed"),Ke&&(Ke.textContent="Le slug ne peut pas \xEAtre vide ou contenir uniquement des caract\xE8res sp\xE9ciaux."),Ie.focus();return}if(Nn().has(u)){Ke&&(Ke.textContent="Ce slug est d\xE9j\xE0 utilis\xE9.");return}Ke&&(Ke.textContent=""),Ze&&(Ze.textContent=""),ss&&(ss.disabled=!0,ss.textContent="Cr\xE9ation...");try{let w=await fetch("/api/sites",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a,slug:u})});if(!w.ok){let se=await w.json().catch(()=>({})),p=se.message||"Impossible de cr\xE9er ce site.";Ze&&(Ze.textContent=p),se.field==="slug"&&Ke&&(Ke.textContent=p);return}let O=await w.json(),W=Nt((O==null?void 0:O.slug)||u),z=(O==null?void 0:O.name)||a;Rs(W,z),Ss();let ne=encodeURIComponent(Le(W));window.location.href=`/admin/site/${ne}/design`}catch(w){console.error("[admin] Impossible de cr\xE9er le site",w),Ze&&(Ze.textContent="Erreur inattendue. R\xE9essaie dans un instant.")}finally{ss&&(ss.disabled=!1,ss.textContent="Cr\xE9er")}}),window.addEventListener("keydown",s=>{s.key==="Escape"&&(lt&&!lt.classList.contains("hidden")&&Ss(),Tt&&!Tt.classList.contains("hidden")&&Os(),blockDeleteModal&&!blockDeleteModal.classList.contains("hidden")&&closeBlockDeleteModal(),blockLibraryOpen&&closeBlockLibrary())});function Dn(){let s=window.location.pathname.match(/^\/admin\/site\/([^/]+)(?:\/([^/]+))?/);return s?{slugPart:decodeURIComponent(s[1]),slugValue:Nt(decodeURIComponent(s[1])),section:s[2]||"design"}:null}function Hn(){return document.querySelector("[data-page-list]")?"design":document.querySelector("[data-collection-list]")?"content":document.querySelector("[data-media-grid]")?"media":document.querySelector("[data-deploy-form]")?"deploy":null}function Un(){if(!Tt){window.location.href="/admin/sites";return}Tt.classList.remove("hidden"),Tt.classList.add("flex"),hs(Tt,Os)}function Os(){Tt&&(Tt.classList.add("hidden"),Tt.classList.remove("flex"),vs(Tt))}En.forEach(s=>{s.addEventListener("click",Un)}),Cn.forEach(s=>{s.addEventListener("click",Os)}),go==null||go.addEventListener("click",()=>{Os(),window.location.href="/admin/sites"});let Ls=(V==null?void 0:V.section)||Hn();Ls==="design"&&Rn(),Ls==="content"&&zn(),Ls==="media"&&Jn(),Ls==="deploy"&&On(),Ls==="settings"&&Vn(),V&&Y.name&&Xo(Y.name);function Rn(){let s=document.querySelectorAll("[data-page-list]");if(s.length===0)return;let a=document.querySelector("[data-active-page-title]"),l=document.querySelector("[data-active-page-slug]"),u=document.querySelector("[data-page-preview-tags]"),g=document.querySelector("[data-page-preview-frame]"),w=document.querySelector("[data-preview-open]"),O=document.querySelector("[data-preview-status]"),W=document.querySelector("[data-preview-highlight]"),z=document.querySelector("[data-seo-toggle]"),ne=document.querySelector("[data-seo-panel]"),se=document.querySelector("[data-seo-close]"),p=document.querySelector("[data-seo-form]"),C=document.querySelector("[data-seo-title]"),q=document.querySelector("[data-seo-description]"),k=document.querySelector("[data-seo-indexed]"),P=document.querySelector("[data-seo-feedback]"),N=document.querySelector("[data-seo-save]"),D=document.querySelector("[data-page-accessibility-toggle]"),R=document.querySelector("[data-page-accessibility-panel]"),d=document.querySelector("[data-page-accessibility-close]"),A=document.querySelector("[data-page-accessibility-form]"),E=document.querySelector("[data-page-accessibility-nav]"),$=document.querySelector("[data-page-accessibility-main]"),te=document.querySelector("[data-page-accessibility-feedback]"),K=document.querySelector("[data-page-accessibility-save]"),X=document.querySelector("[data-page-props-toggle]"),pe=document.querySelector("[data-page-props-panel]"),me=document.querySelector("[data-page-props-close]"),qe=document.querySelector("[data-page-props-form]"),fe=document.querySelector("[data-page-name]"),we=document.querySelector("[data-page-title-input]"),ke=document.querySelector("[data-page-slug-input]"),H=document.querySelector("[data-page-description]"),y=document.querySelector("[data-page-props-feedback]"),h=document.querySelector("[data-page-props-save]"),S=document.querySelector("[data-blocks-list]"),G=document.querySelector("[data-blocks-empty]"),re=document.querySelector("[data-block-count]"),ge=document.querySelector("[data-block-library-toggle]"),he=document.querySelector("[data-block-library]"),_e=document.querySelectorAll("[data-block-add]"),ce=document.querySelector("[data-block-delete-modal]"),Ye=document.querySelector("[data-block-delete-confirm]"),Ae=document.querySelector("[data-block-delete-cancel]"),je=document.querySelector("[data-block-detail-empty]"),Ee=document.querySelector("[data-block-detail-status]"),de=document.querySelector("[data-block-editor]"),Xe=document.querySelector("[data-block-editor-block-name]"),It=document.querySelector("[data-block-editor-block-type]"),Te=document.querySelector("[data-block-editor-unsupported]"),B=document.querySelector("[data-block-form]"),ot=B?Array.from(B.querySelectorAll("[data-editor-section]")):[],b=document.querySelectorAll("[data-block-tab]"),L="content",T=document.querySelectorAll("[data-left-tab]"),Z=document.querySelector('[data-left-panel="blocks"]'),Ue=document.querySelector('[data-left-panel="pages"]'),ct="blocks",ks=e=>{ct=e,T.forEach(t=>{let o=t.dataset.leftTab===e;t.setAttribute("aria-selected",o?"true":"false"),o?(t.classList.add("text-[#9C6BFF]"),t.classList.remove("text-slate-500","hover:text-slate-700"),t.classList.add("after:absolute","after:bottom-0","after:left-0","after:right-0","after:h-0.5","after:bg-[#9C6BFF]")):(t.classList.remove("text-[#9C6BFF]"),t.classList.add("text-slate-500","hover:text-slate-700"),t.classList.remove("after:absolute","after:bottom-0","after:left-0","after:right-0","after:h-0.5","after:bg-[#9C6BFF]"))}),Z&&Z.classList.toggle("hidden",e!=="blocks"),Ue&&Ue.classList.toggle("hidden",e!=="pages")};T.forEach(e=>{e.addEventListener("click",()=>{ks(e.dataset.leftTab)})});let Et=document.querySelector("[data-block-form-actions]"),Zt=document.querySelector("[data-block-form-autosave]"),rs=e=>{L=e,b.forEach(o=>{let r=o.dataset.blockTab===e;o.setAttribute("aria-selected",r?"true":"false"),r?(o.classList.add("text-[#9C6BFF]"),o.classList.remove("text-slate-500","hover:text-slate-700"),o.classList.add("after:absolute","after:bottom-0","after:left-0","after:right-0","after:h-0.5","after:bg-[#9C6BFF]")):(o.classList.remove("text-[#9C6BFF]"),o.classList.add("text-slate-500","hover:text-slate-700"),o.classList.remove("after:absolute","after:bottom-0","after:left-0","after:right-0","after:h-0.5","after:bg-[#9C6BFF]"))});let t=B==null?void 0:B.querySelector("[data-editor-section]:not(.hidden)");t&&t.querySelectorAll("[data-block-panel]").forEach(r=>{r.dataset.blockPanel===e?r.classList.remove("hidden"):r.classList.add("hidden")}),Et&&Zt&&(e==="content"?(Et.classList.remove("hidden"),Zt.classList.add("hidden")):(Et.classList.add("hidden"),Zt.classList.remove("hidden")))};b.forEach(e=>{e.addEventListener("click",()=>{rs(e.dataset.blockTab)})});let Fe=B==null?void 0:B.querySelector('[name="collection-grid-collection"]'),_t=B==null?void 0:B.querySelector("[data-collection-selection-info]"),nt=document.querySelector("[data-block-form-cancel]"),Ct=B==null?void 0:B.querySelector("[data-group-preview-mobile]"),Me=B==null?void 0:B.querySelector("[data-group-preview-desktop]"),Re=B==null?void 0:B.querySelector("[data-collection-preview-mobile]"),Pe=B==null?void 0:B.querySelector("[data-collection-preview-desktop]"),dt={hero:{section:"hero",labelField:"title",descriptionField:"subtitle",fields:{title:"hero-title",subtitle:"hero-subtitle",ctaLabel:"hero-cta-label",ctaUrl:"hero-cta-url",image:"hero-image",layout:"hero-layout",height:"hero-height",contentAlign:"hero-content-align",horizontalAlign:"hero-horizontal-align",textAlign:"hero-text-align",overlay:"hero-overlay",titleSize:"hero-title-size",bg:"hero-bg",borderRadius:"hero-border-radius",shadow:"hero-shadow"}},paragraphe:{section:"paragraph",labelField:"title",descriptionField:"content",fields:{title:"paragraph-title",content:"paragraph-content",align:"paragraph-align",titleSize:"paragraph-title-size",textSize:"paragraph-text-size",spacing:"paragraph-spacing",bg:"paragraph-bg",borderRadius:"paragraph-border-radius",shadow:"paragraph-shadow"}},image:{section:"image",labelField:"alt",fields:{src:"image-src",alt:"image-alt",showCaption:"image-caption-toggle",caption:"image-caption",rounded:"image-rounded",shadow:"image-shadow",maxWidth:"image-max-width",height:"image-height",objectFit:"image-object-fit",align:"image-align",bg:"image-bg",borderRadius:"image-border-radius"}},groupe:{section:"group",fields:{columnsMobile:"group-columns-mobile",columnsDesktop:"group-columns-desktop",gap:"group-gap",itemsAlign:"group-items-align",mobileLayout:"group-mobile-layout",bg:"group-bg",borderRadius:"group-border-radius",shadow:"group-shadow"}},collectiongrid:{section:"collection",fields:{collectionId:"collection-grid-collection",limit:"collection-grid-limit",columnsMobile:"collection-columns-mobile",columnsDesktop:"collection-columns-desktop",gap:"collection-gap",itemsAlign:"collection-items-align",cardRounded:"collection-card-rounded",mobileLayout:"collection-mobile-layout",bg:"collection-bg",borderRadius:"collection-border-radius",shadow:"collection-shadow"}},form:{section:"form",labelField:"formTitle",fields:{formTitle:"form-title",actionUrl:"form-action-url",method:"form-method",serviceName:"form-service-name",submitLabel:"form-submit-label",successMessage:"form-success-message",maxWidth:"form-max-width",align:"form-align",buttonRounded:"form-button-rounded",spacing:"form-spacing",bg:"form-bg",borderRadius:"form-border-radius",shadow:"form-shadow"}},newsletterembed:{section:"newsletter",labelField:"title",fields:{title:"newsletter-title",serviceName:"newsletter-service-name",embedCode:"newsletter-embed-code",maxWidth:"newsletter-max-width",align:"newsletter-align",padding:"newsletter-padding",bg:"newsletter-bg",borderRadius:"newsletter-border-radius",shadow:"newsletter-shadow"}}},Yt={texte:"paragraphe",paragraph:"paragraphe",paragraphs:"paragraphe",paragraphes:"paragraphe",text:"paragraphe",hero:"hero",image:"image",groupe:"groupe",group:"groupe",collection:"collectiongrid",collectiongrid:"collectiongrid","collection-grid":"collectiongrid",form:"form",formulaire:"form",contact:"form",newsletterembed:"newsletterembed",newsletter:"newsletterembed",embed:"newsletterembed"},zt={animation:"anim-type",animationDelay:"anim-delay",animationDuration:"anim-duration"};Object.values(dt).forEach(e=>{e.fields={...e.fields,...zt}});let as=(e,t)=>{if(!Ct||!Me)return;let o=r=>Array.from({length:Number(r)||1}).map(()=>'<span class="block h-2 w-full rounded-full bg-slate-300"></span>').join("");Ct.innerHTML=o(e),Me.innerHTML=o(t)},Ws=(e,t)=>{if(!Re||!Pe)return;let o=r=>Array.from({length:Number(r)||1}).map(()=>'<span class="block h-2 w-full rounded-full bg-violet-300"></span>').join("");Re.innerHTML=o(e),Pe.innerHTML=o(t)},Ot=async()=>{if(!wt)return[];let e=await fetch(wt,{headers:{Accept:"application/json"}});if(!e.ok)throw new Error("Impossible de charger les pages.");let t=await e.json().catch(()=>[]);return Array.isArray(t)?t:[]},Es=async({name:e,title:t,slug:o})=>{if(!wt)throw new Error("Site inconnu.");let r=await fetch(wt,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,title:t,slug:o})});if(!r.ok){let c=await r.json().catch(()=>({}));throw new Error(c.message||"Impossible de cr\xE9er la page.")}return r.json().catch(()=>({}))},qt=async e=>{if(!(!wt||!(e!=null&&e.id)))try{let t=await fetch(`${wt}/${encodeURIComponent(e.id)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){let r=await t.json().catch(()=>({}));throw new Error(r.message||"Impossible de sauvegarder la page.")}let o=await t.json().catch(()=>({}));if(o!=null&&o.id){let r=es(o);return oe=oe.map(c=>c.id===r.id?r:c),(m==null?void 0:m.id)===r.id&&(m=r),r}return o}catch(t){console.error("[design] Save page failed",t),j(t.message||"Sauvegarde impossible.")}},Ks=async()=>{if(!wt){oe=[],Be=null,m=null,Jt(oe,Be),St(null),je==null||je.classList.remove("hidden"),de==null||de.classList.add("hidden");return}try{let e=await Ot();if(oe=(Array.isArray(e)?e:[]).map(t=>es(t)),oe.length===0){Be=null,m=null,Jt(oe,Be),St(null),je==null||je.classList.remove("hidden"),de==null||de.classList.add("hidden"),g&&(g.srcdoc=Xt());return}Be=lr(oe),At(Be)}catch(e){console.error("[design] Impossible de charger les pages",e),j("Impossible de charger les pages.")}},is=e=>(e||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),Dt=e=>{if(!e)return null;let t=is(e.type),o=Yt[t]||t;return dt[o]||null},Cs=e=>{var o,r,c,f,v;if(!B||!de)return;e&&!e.settings&&(e.settings={});let t=Dt(e);if(Xe&&(Xe.textContent=(e==null?void 0:e.label)||"Bloc"),It&&(It.textContent=(e==null?void 0:e.type)||"Bloc"),!t){B.classList.add("hidden"),Te==null||Te.classList.remove("hidden"),B.dataset.blockId="";return}if(Te==null||Te.classList.add("hidden"),B.classList.remove("hidden"),B.reset(),B.dataset.blockId=e.id,ot.forEach(F=>{F.dataset.editorSection===t.section?F.classList.remove("hidden"):F.classList.add("hidden")}),rs("content"),t.section==="collection"){let F=e.collectionId||((o=e.settings)==null?void 0:o.collectionId)||"";io(F)}if(Object.entries(t.fields).forEach(([F,_])=>{var et,Lt,Se;let le=B.querySelector(`[name="${_}"]`);if(!le)return;let ye=(et=e.settings)==null?void 0:et[F];if(le.type==="checkbox")le.checked=!!ye;else if(le.type==="number"){let M=(Se=(Lt=le.dataset.default)!=null?Lt:le.defaultValue)!=null?Se:"";le.value=ye!=null?ye:M}else le.tagName,le.value=ye!=null?ye:""}),t.section==="group"){let F=((r=B.querySelector('[name="group-columns-mobile"]'))==null?void 0:r.value)||"1",_=((c=B.querySelector('[name="group-columns-desktop"]'))==null?void 0:c.value)||"3";as(F,_)}if(t.section==="collection"){let F=((f=B.querySelector('[name="collection-columns-mobile"]'))==null?void 0:f.value)||"1",_=((v=B.querySelector('[name="collection-columns-desktop"]'))==null?void 0:v.value)||"3";Ws(F,_)}B.querySelectorAll("[data-color-select]").forEach(F=>{var et,Lt;let _=F.options[F.selectedIndex],le=((et=_==null?void 0:_.dataset)==null?void 0:et.color)||"#ffffff",ye=(Lt=F.closest(".relative"))==null?void 0:Lt.querySelector("[data-color-preview]");ye&&(le==="transparent"?ye.style.background="repeating-conic-gradient(#ccc 0% 25%, white 0% 50%) 50% / 8px 8px":(ye.style.backgroundColor=le,ye.style.background=""))})},rt=e=>{if(!B||!e)return{};let t={};return Object.entries(e.fields).forEach(([o,r])=>{let c=B.querySelector(`[name="${r}"]`);if(c)if(c.type==="checkbox")t[o]=c.checked;else if(c.type==="number"){let f=Number(c.value);t[o]=Number.isFinite(f)?f:0}else c.tagName==="TEXTAREA"?t[o]=c.value||"":c.type==="select-one"?t[o]=c.value:t[o]=c.value||""}),t},jt=e=>{if(O){if(!e){O.classList.add("hidden");return}O.classList.remove("hidden"),O.textContent=e}},qs=e=>{if(!e)return null;let t=o=>{var r;return{id:o.id,type:o.type,label:o.label,status:o.status,description:o.description,props:o.props||[],settings:o.settings||{},collectionId:o.collectionId||((r=o.settings)==null?void 0:r.collectionId)||"",children:(o.children||[]).map(t)}};return{id:e.id,name:e.name,title:e.title,slug:e.slug,description:e.description||"",badges:[...e.badges||[]],seo:e.seo||{},accessibility:e.accessibility||{},blocks:(e.blocks||[]).map(t)}},Xt=()=>'<!DOCTYPE html><html><body style="font-family:Inter,sans-serif;padding:40px;color:#475569;background:#fff;">Pr\xE9paration de la pr\xE9visualisation\u2026</body></html>',Eo=(e,t)=>{let o;return(...r)=>{clearTimeout(o),o=setTimeout(()=>e(...r),t)}},Zs=async()=>{if(!m||!Ge)return;let e=us(),t=Dt(e);if(!e||!t)return;let o=rt(t),r=(m.blocks||[]).map(f=>{if(f.id!==e.id)return f;let v={...f.settings||{},...o};return{...f,settings:v}}),c={...m,blocks:r};m=c;try{let f=await qt(c);if(f!=null&&f.id){let v=es(f);m=v,oe=oe.map(F=>F.id===v.id?v:F)}}catch(f){console.warn("[design] auto-save appearance failed",f)}},Co=(e,t)=>{!g||!g.contentWindow||g.contentWindow.postMessage({type:"updateBlockStyles",blockId:e,settings:t},"*")},_s=Eo(()=>{m&&Ht(m)},1500),Ys=(e,t)=>{Co(e,t),jt("Modification\u2026"),Zs().then(()=>{jt("Sauvegard\xE9"),setTimeout(()=>jt("\xC0 jour"),1500)}).catch(()=>jt("Erreur de sauvegarde")),_s()},Ht=e=>{if(!g||!e)return;let t=(V==null?void 0:V.slugValue)||Y.slug||"",o=oe.map(f=>({id:f.id,slug:f.slug,title:f.title,name:f.name,accessibility:f.accessibility})),r={page:qs(e),site:{title:Y.name||"Site",slug:t,pages:o}};Fo=!1,jt("Actualisation\u2026"),g.srcdoc=Xt(),Ms&&Ms.abort();let c=new AbortController;Ms=c,fetch("/api/preview",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r),signal:c.signal}).then(f=>{if(!f.ok)throw new Error("Preview error");return f.json()}).then(f=>{c.signal.aborted||(Bo=f.html||"",g.setAttribute("title",`Pr\xE9visualisation de la page ${e.title||""}`.trim()),g.srcdoc=Bo||Xt(),jt("\xC0 jour"))}).catch(f=>{c.signal.aborted||(console.error("[preview] Impossible de rendre la page",f),jt("Erreur preview"),g.srcdoc='<!DOCTYPE html><html><body style="font-family:Inter,sans-serif;padding:40px;color:#be123c;background:#fff;">Erreur lors du rendu de la pr\xE9visualisation.</body></html>')}).finally(()=>{Ms===c&&(Ms=null)})},qo=e=>{var f;if(e.preventDefault(),!m||!Ge)return;let t=us(),o=Dt(t);if(!t||!o)return;let r=rt(o);if(o.section==="image"){let v=(r.alt||"").trim();if(r.alt=v,!v){j("Ajoute un texte alternatif pour cette image.","error"),(f=B==null?void 0:B.querySelector('[name="image-alt"]'))==null||f.focus();return}}if(o.section==="collection"){if(!r.collectionId){j("S\xE9lectionnez une collection.");return}r.limit=Math.max(1,Number(r.limit)||1)}let c=(m.blocks||[]).map(v=>{if(v.id!==t.id)return v;let F={...v.settings||{},...r},_={...v,settings:F};return o.labelField&&r[o.labelField]&&(_.label=r[o.labelField]),o.descriptionField&&r[o.descriptionField]&&(_.description=r[o.descriptionField]),o.section==="collection"&&(_.collectionId=r.collectionId,_.settings.collectionId=r.collectionId,_.settings.limit=r.limit),_});ms(c),j("Bloc mis \xE0 jour"),At(m.id,{preserveBlock:!0})},Ut=document.querySelector("[data-page-drawer]"),Ve=document.querySelector("[data-page-drawer-backdrop]"),Ao=document.querySelectorAll("[data-page-drawer-open]"),Xs=document.querySelectorAll("[data-page-drawer-close]"),Bt=document.querySelector("[data-add-page-toggle]"),ut=document.querySelector("[data-add-page-form]"),n=document.querySelector("[data-add-page-name]"),i=document.querySelector("[data-add-page-title]"),x=document.querySelector("[data-add-page-slug]"),I=document.querySelector("[data-add-page-cancel]"),U=document.querySelector("[data-add-page-error]"),Q=ut==null?void 0:ut.querySelector('[type="submit"]'),ae=document.querySelector("[data-import-pages-toggle]"),J=document.querySelector("[data-import-modal]"),Ne=document.querySelectorAll("[data-import-modal-close]"),ve=document.querySelector("[data-import-dropzone]"),ze=document.querySelector("[data-import-file-input]"),Oe=document.querySelector("[data-import-file-list]"),Je=document.querySelector("[data-import-file-names]"),ie=document.querySelector("[data-import-results]"),Ce=document.querySelector("[data-import-results-content]"),De=document.querySelector("[data-import-submit]"),Rt=document.querySelectorAll("[data-import-tab]"),As=document.querySelectorAll("[data-import-panel]"),ls=document.querySelector("[data-copy-template]"),Ts=document.querySelector("[data-template-json]"),Qe=document.querySelector("[data-import-paste-json]"),cs=document.querySelector("[data-format-json]"),pt=document.querySelector("[data-import-paste-error]"),gt=[],Ft="upload",at=document.querySelector("[data-delete-page-modal]"),$s=document.querySelector("[data-delete-page-name]"),ds=document.querySelector("[data-delete-page-cancel]"),xt=document.querySelector("[data-delete-page-confirm]"),Vt=null,Qs=Le((V==null?void 0:V.slugValue)||Y.slug||"default")||"default",eo=(V==null?void 0:V.slugValue)||Y.slug||"",Qt=Le(eo)||"",wt=Qt?`/api/sites/${encodeURIComponent(Qt)}/pages`:null,on=Qt?`/api/sites/${encodeURIComponent(Qt)}/collections`:null,nn={active:`clower:activePage:${Qs}`},To=(e,t,o,r,c,f=[],v={})=>{let F={id:e,label:t,type:o,status:r,description:c,props:f,settings:{...v}};return F.settings.collectionId&&(F.collectionId=F.settings.collectionId),F},ar={hero:{type:"Hero",label:"Hero de page",description:"Section pleine largeur avec CTA principal.",status:"Brouillon",props:[{label:"CTA",value:"D\xE9couvrir"},{label:"Hauteur",value:"80vh"}],settings:{title:"Titre du hero",subtitle:"",ctaLabel:"D\xE9couvrir",ctaUrl:"#",image:"",align:"center"}},paragraph:{type:"Paragraphe",label:"Bloc \xE9ditorial",description:"Paragraphe libre pour raconter votre histoire.",status:"Brouillon",props:[{label:"Longueur",value:"150 mots"}],settings:{title:"Titre du paragraphe",content:"",align:"left"}},image:{type:"Image",label:"Bloc image",description:"Visuel seul avec l\xE9gende optionnelle.",status:"Brouillon",props:[{label:"Ratio",value:"16:9"},{label:"L\xE9gende",value:"Inactive"}],settings:{src:"",alt:"",showCaption:!1,caption:""}},group:{type:"Groupe",label:"Groupe de sections",description:"Conteneur pour imbriquer plusieurs sous-blocs.",status:"Brouillon",props:[{label:"Disposition",value:"Verticale"}],settings:{layout:"grid",columnsMobile:"1",columnsDesktop:"3",mobileLayout:"stack"}},collectiongrid:{type:"CollectionGrid",label:"Grille de contenus",description:"Affiche automatiquement les items d\u2019une collection.",status:"Brouillon",settings:{collectionId:"",limit:6,mobileLayout:"stack"}},form:{type:"Form",label:"Formulaire de contact",description:"Formulaire avec envoi vers un service externe.",status:"Brouillon",settings:{formTitle:"Contactez-nous",actionUrl:"",method:"POST",serviceName:"",submitLabel:"Envoyer",successMessage:"Merci pour votre message !"}},newsletterembed:{type:"NewsletterEmbed",label:"Newsletter / Embed",description:"Int\xE9gration d'un formulaire newsletter externe (Brevo, Mailchimp\u2026).",status:"Brouillon",settings:{title:"Restez inform\xE9",serviceName:"",embedCode:""}}},ir=e=>{try{window.localStorage.setItem(nn.active,e)}catch{}},lr=e=>{var t;try{let o=window.localStorage.getItem(nn.active);if(o&&e.some(r=>r.id===o))return o}catch{}return((t=e[0])==null?void 0:t.id)||null},cr=e=>!e||e<=0?"0 bloc":e===1?"1 bloc":`${e} blocs`,rn=e=>{if(!e||e==="/")return"/";let t=Kt(e.replace(/^\//,""));return t?`/${t}`:"/"},$o=(e="page",t="block")=>`${e}-${t}-${Date.now().toString(36)}-${Math.floor(Math.random()*1e3)}`,Rr=(e,t)=>[To($o(e,"intro"),"Introduction","Paragraphe","Brouillon",`Paragraphe introductif pour "${t}".`,[{label:"Longueur",value:"2 paragraphes"}],{title:`Introduction \xE0 ${t}`,content:"Ajoutez votre premier paragraphe de pr\xE9sentation.",align:"left"}),To($o(e,"content"),"Zone de contenu","Groupe","Brouillon","Section principale \xE0 composer avec textes et visuels.",[{label:"Colonnes",value:"Auto"}],{layout:"grid",columnsMobile:"1",columnsDesktop:"2",mobileLayout:"stack"})],an=e=>{a&&(a.textContent=(e==null?void 0:e.name)||(e==null?void 0:e.title)||"Page"),l&&(l.textContent=(e==null?void 0:e.slug)||"/")},dr=e=>{if(!u)return;u.innerHTML="",(e&&e.badges&&e.badges.length>0?e.badges:["Structure en cours"]).forEach(o=>{let r=document.createElement("span");r.className="rounded-full bg-slate-100 px-3 py-1",r.textContent=o,u.appendChild(r)})},ur=e=>{switch((e||"").toLowerCase()){case"en ligne":return"bg-emerald-50 text-emerald-700";case"brouillon":return"bg-amber-50 text-amber-700";default:return"bg-slate-100 text-slate-600"}},to=e=>{if(!(!je||!de)){if(!e){je.classList.remove("hidden"),de.classList.add("hidden"),Te==null||Te.classList.add("hidden"),B==null||B.classList.add("hidden"),Ee==null||Ee.classList.add("hidden");return}je.classList.add("hidden"),de.classList.remove("hidden"),Ee&&(e.status?(Ee.textContent=e.status,Ee.className=`rounded-full px-3 py-1 text-xs font-semibold ${ur(e.status)}`,Ee.classList.remove("hidden")):Ee.classList.add("hidden")),Cs(e)}},Is=e=>{if(!g)return;let t=g.contentDocument;if(!t)return;t.querySelectorAll("[data-preview-block]").forEach(r=>{r.dataset.previewBlock===e?(r.classList.add("preview-block-active"),Fo&&e&&r.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})):r.classList.remove("preview-block-active")}),W&&(W.style.borderColor=e?"rgba(156, 107, 255, 0.5)":"transparent")},ln=(e,t=!1,o=null)=>{var Uo;let r=e.id===Ge,c=(e.type||"").toLowerCase(),f=c==="groupe"||c==="group"||c==="sections"||c==="grid",v=document.createElement("div");v.dataset.blockItem="true",v.dataset.blockId=e.id,o&&(v.dataset.parentBlockId=o),f&&(v.dataset.isGroup="true"),v.setAttribute("role","option"),v.setAttribute("aria-selected",r?"true":"false"),v.setAttribute("draggable","true"),v.tabIndex=0,v.className=["relative flex items-center gap-3 rounded-2xl border px-3 py-2 text-left transition group",t?"ml-6 border-dashed":"",r?"bg-slate-100 border-[#9C6BFF]/40 shadow-sm":"border-slate-200 hover:border-[#9C6BFF]/40"].join(" ");let F=document.createElement("span");F.className=`absolute inset-y-2 left-0 w-1 rounded-full bg-[#9C6BFF] ${r?"":"hidden"}`,v.appendChild(F);let _=document.createElement("div");_.className="flex flex-1 items-center gap-3";let le=document.createElement("div");le.className="hidden lg:flex cursor-grab active:cursor-grabbing flex-shrink-0 items-center text-lg text-slate-400 hover:text-slate-600 transition-colors select-none",le.innerHTML="\u22EE\u22EE",le.setAttribute("title","Glisser pour r\xE9ordonner"),_.appendChild(le);let ye=document.createElement("div");ye.className="flex-1";let et=document.createElement("div");et.className="flex items-center gap-2 text-[11px] uppercase tracking-wide text-slate-500";let Lt=document.createElement("span");Lt.className="rounded-full bg-slate-100 px-2 py-0.5 text-[10px] font-semibold text-slate-600",Lt.textContent=e.type;let Se=document.createElement("span");if(Se.className="text-slate-400",Se.textContent=e.status,et.appendChild(Lt),f){let mt=(e.children||[]).length,ts=document.createElement("span");ts.className="rounded-full bg-violet-100 px-2 py-0.5 text-[10px] font-semibold text-violet-600",ts.textContent=`${mt} \xE9l\xE9ment${mt!==1?"s":""}`,et.appendChild(ts)}et.appendChild(Se);let M=document.createElement("p");M.className="mt-1 text-sm font-semibold text-slate-900";let ht=e.settings&&e.settings.title||e.label||"Bloc sans titre";if(M.textContent=ht,ye.appendChild(et),ye.appendChild(M),c==="collectiongrid"&&e.collectionId){let mt=((Uo=Mt.find(Nr=>Nr.id===e.collectionId))==null?void 0:Uo.name)||e.collectionId,ts=document.createElement("p");ts.className="text-xs text-slate-400",ts.textContent=`Collection : ${mt}`,ye.appendChild(ts)}_.appendChild(ye),v.appendChild(_);let $e=document.createElement("div");$e.className="flex flex-col gap-1 text-xs text-slate-400";let ue=document.createElement("div");ue.className="flex items-center gap-1 lg:hidden";let it=document.createElement("button");it.type="button",it.className="rounded-lg border border-slate-200 px-2 py-1 text-[11px] font-semibold text-slate-500",it.textContent="\u2191",it.addEventListener("click",mt=>{mt.stopPropagation(),o?cn(o,e.id,-1):un(e.id,-1)});let vt=document.createElement("button");vt.type="button",vt.className="rounded-lg border border-slate-200 px-2 py-1 text-[11px] font-semibold text-slate-500",vt.textContent="\u2193",vt.addEventListener("click",mt=>{mt.stopPropagation(),o?cn(o,e.id,1):un(e.id,1)}),ue.appendChild(it),ue.appendChild(vt),$e.appendChild(ue);let He=document.createElement("button");return He.type="button",He.className="inline-flex items-center justify-center rounded-lg border border-transparent px-2 py-1 text-[12px] text-rose-500 hover:text-rose-700",He.innerHTML="\u{1F5D1}\uFE0F",He.addEventListener("click",mt=>{mt.stopPropagation(),o?pr(o,e.id):Sr(e.id)}),$e.appendChild(He),v.appendChild($e),v.addEventListener("click",()=>{Gt(e.id,o)}),v.addEventListener("keydown",mt=>{(mt.key==="Enter"||mt.key===" ")&&(mt.preventDefault(),Gt(e.id,o))}),{item:v,isGroup:f,block:e}},mr=e=>{let t=document.createElement("div");return t.dataset.groupDropZone=e.id,t.className="ml-6 border-2 border-dashed border-slate-200 rounded-xl p-3 text-center text-xs text-slate-400 hover:border-violet-300 hover:bg-violet-50/50 transition-colors cursor-pointer",t.innerHTML='<span class="pointer-events-none">\u{1F4E6} Glissez un bloc ici ou cliquez pour ajouter</span>',t.addEventListener("dragover",o=>{o.preventDefault(),o.stopPropagation(),t.classList.add("border-violet-400","bg-violet-50")}),t.addEventListener("dragleave",o=>{o.stopPropagation(),t.classList.remove("border-violet-400","bg-violet-50")}),t.addEventListener("drop",o=>{o.preventDefault(),o.stopPropagation(),t.classList.remove("border-violet-400","bg-violet-50");let r=o.dataTransfer.getData("text/plain");r&&r!==e.id&&fr(r,e.id)}),t.addEventListener("click",()=>{gr(e.id)}),t},St=e=>{if(!S)return;S.innerHTML="";let t=(e==null?void 0:e.blocks)||[];if(re&&(re.textContent=cr(t.length)),t.length===0){S.classList.add("hidden"),G==null||G.classList.remove("hidden");return}S.classList.remove("hidden"),G==null||G.classList.add("hidden"),t.forEach(o=>{let{item:r,isGroup:c}=ln(o,!1,null);if(S.appendChild(r),c){(o.children||[]).forEach(F=>{let{item:_}=ln(F,!0,o.id);S.appendChild(_)});let v=mr(o);S.appendChild(v)}})},fr=(e,t)=>{if(!m)return;let o=m.blocks.findIndex(F=>F.id===e),r=m.blocks.find(F=>F.id===t);if(o===-1||!r)return;let f=(m.blocks[o].type||"").toLowerCase();if(f==="groupe"||f==="group"){j("Impossible d'imbriquer des groupes","error");return}let[v]=m.blocks.splice(o,1);r.children||(r.children=[]),r.children.push(v),St(m),savePageBlocks(),j("Bloc ajout\xE9 au groupe")},pr=(e,t)=>{if(!m)return;let o=m.blocks.find(v=>v.id===e);if(!o||!o.children)return;let r=o.children.findIndex(v=>v.id===t);if(r===-1)return;let[c]=o.children.splice(r,1),f=m.blocks.findIndex(v=>v.id===e);m.blocks.splice(f+1,0,c),St(m),savePageBlocks(),j("Bloc sorti du groupe")},cn=(e,t,o)=>{if(!m)return;let r=m.blocks.find(F=>F.id===e);if(!r||!r.children)return;let c=r.children.findIndex(F=>F.id===t);if(c===-1)return;let f=c+o;if(f<0||f>=r.children.length)return;let[v]=r.children.splice(c,1);r.children.splice(f,0,v),St(m),savePageBlocks()},gr=e=>{js=e,openBlockPicker()},js=null,hr=e=>{!at||!e||(Vt=e,$s&&($s.textContent=e.title||e.id),at.classList.remove("hidden"),at.classList.add("flex"),hs(at,so))},so=()=>{at&&(at.classList.add("hidden"),at.classList.remove("flex"),Vt=null,vs(at))},vr=async()=>{if(!wt||!Vt)return;let e=Vt.id,t=Vt.title||e;xt&&(xt.disabled=!0,xt.textContent="Suppression...");try{let o=await fetch(`${wt}/${encodeURIComponent(e)}`,{method:"DELETE",credentials:"include"}),r=await o.json();if(!o.ok)throw new Error(r.message||"Erreur serveur");oe=oe.filter(c=>c.id!==e),Be===e?oe.length>0?At(oe[0].id):(Be=null,m=null,Jt(oe,null),St(null),je==null||je.classList.remove("hidden"),de==null||de.classList.add("hidden"),g&&(g.srcdoc=Xt())):Jt(oe,Be),so(),j(`Page "${t}" supprim\xE9e`)}catch(o){console.error("[pages] delete failed",o),j(o.message||"Erreur suppression")}finally{xt&&(xt.disabled=!1,xt.textContent="Supprimer")}},Jt=(e,t)=>{s.forEach(o=>{o.innerHTML="",e.forEach(r=>{var ye;let c=document.createElement("li");c.className="flex items-center gap-1";let f=document.createElement("button");f.type="button",f.dataset.pageId=r.id,f.className=["flex-1 flex items-center gap-3 px-3 py-2 text-left transition",t===r.id?"bg-[#9C6BFF]/10 text-slate-900 border border-[#9C6BFF]/40 rounded-xl shadow-sm":"text-slate-700 hover:bg-slate-50 rounded-xl"].join(" "),t===r.id?f.setAttribute("aria-current","page"):f.removeAttribute("aria-current");let v=r.name||r.title,_=((ye=r.accessibility)==null?void 0:ye.showInMainNav)===!1?'<span class="text-[10px] font-semibold text-amber-600">Masqu\xE9 du menu</span>':"";f.innerHTML=`
            <span class="flex h-9 w-9 items-center justify-center rounded-xl border border-slate-200 bg-white text-slate-500">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                <path d="M6.5 4.5h7l4 4v11a1 1 0 0 1-1 1h-10a1 1 0 0 1-1-1v-14a1 1 0 0 1 1-1Z" stroke="currentColor" stroke-width="1.4" stroke-linejoin="round"/>
                <path d="M13.5 4.5v4a1 1 0 0 0 1 1h3" stroke="currentColor" stroke-width="1.4"/>
              </svg>
            </span>
            <div class="flex flex-col">
              <span class="text-sm font-semibold">${v}</span>
              <span class="text-xs text-slate-500">${r.slug}</span>
              ${_}
            </div>
          `,f.addEventListener("click",()=>{At(r.id),Io()||jo()}),c.appendChild(f);let le=document.createElement("button");le.type="button",le.className="flex-shrink-0 p-2 text-slate-400 hover:text-rose-600 hover:bg-rose-50 rounded-lg transition",le.title="Supprimer cette page",le.setAttribute("aria-label",`Supprimer ${v}`),le.innerHTML=`
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M3 6h18M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2m3 0v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6h14ZM10 11v6M14 11v6"/>
            </svg>
          `,le.addEventListener("click",et=>{et.stopPropagation(),hr(r)}),c.appendChild(le),o.appendChild(c)})})},us=()=>{if(!m||!Array.isArray(m.blocks))return null;let e=m.blocks.find(t=>t.id===Ge);if(!e){for(let t of m.blocks)if(t.children&&(e=t.children.find(o=>o.id===Ge),e))break}return e||null},dn=null,Gt=(e,t=null)=>{if(!m)return;if(!e){Ge=null,dn=null,St(m),to(null),Is(null);return}let o=null;if(o=m.blocks.find(r=>r.id===e),!o&&t){let r=m.blocks.find(c=>c.id===t);r&&r.children&&(o=r.children.find(c=>c.id===e))}if(!o){for(let r of m.blocks)if(r.children){let c=r.children.find(f=>f.id===e);if(c){o=c,t=r.id;break}}}o||(o=m.blocks[0]||null,t=null),Ge=(o==null?void 0:o.id)||null,dn=t,St(m),to(o),Is(Ge)},ms=e=>{if(!m)return;let t={...m,blocks:e};Lr(t)},oo=()=>window.matchMedia("(min-width: 1024px)").matches;function un(e,t){if(!m||!e||!t)return;let o=[...m.blocks||[]],r=o.findIndex(v=>v.id===e);if(r<0)return;let c=r+t;if(c<0||c>=o.length)return;let[f]=o.splice(r,1);o.splice(c,0,f),ms(o),At(m.id,{preserveBlock:!0}),Gt(f.id)}function zr(e,t){if(!m||!e||!t||e===t)return;let o=[...m.blocks||[]],r=o.findIndex(v=>v.id===e),c=o.findIndex(v=>v.id===t);if(r<0||c<0)return;let[f]=o.splice(r,1);o.splice(c,0,f),ms(o),At(m.id,{preserveBlock:!0}),Gt(f.id)}function yr(e,t,o){if(!m||!e||!t||e===t)return;let r=[...m.blocks||[]],c=r.findIndex(_=>_.id===e),f=r.findIndex(_=>_.id===t);if(c<0||f<0)return;let[v]=r.splice(c,1);c<f&&f--;let F=o==="before"?f:f+1;r.splice(F,0,v),ms(r),At(m.id,{preserveBlock:!0}),Gt(v.id)}function mn(){if(!S)return;let e=oo();S.querySelectorAll("[data-block-item]").forEach(t=>{t.setAttribute("draggable",e?"true":"false")})}function Bs(){he&&(he.classList.add("hidden"),Fs=!1)}function br(){he&&(he.classList.remove("hidden"),Fs=!0)}function xr(){Fs?Bs():br()}function wr(e){var f;if(!m||!e)return;let t=ar[e];if(!t)return;let o=(m.blocks||[]).filter(v=>v.type===t.type).length+1,r=To($o(m.id,e),`${t.label} ${o}`,t.type,t.status,t.description,t.props,t.settings||{});if((t.type||"").toLowerCase()==="collectiongrid"){let v=((f=Mt[0])==null?void 0:f.id)||"";r.collectionId=v,r.settings.collectionId=v,r.settings.limit=r.settings.limit||6}if(js){let v=m.blocks.find(F=>F.id===js);if(v){v.children||(v.children=[]),v.children.push(r),js=null,St(m),savePageBlocks(),Gt(r.id,v.id),Bs(),j("Bloc ajout\xE9 au groupe");return}js=null}let c=[...m.blocks||[],r];ms(c),At(m.id,{preserveBlock:!0}),Gt(r.id),Bs(),j("Bloc ajout\xE9")}function fn(e){var r,c;if(!m)return;let t=(m.blocks||[]).filter(f=>f.id!==e),o=e===Ge?((r=t[0])==null?void 0:r.id)||null:Ge||((c=t[0])==null?void 0:c.id)||null;ms(t),Ge=o,At(m.id,{preserveBlock:!0}),Ge?Gt(Ge):(to(null),Is(null)),j("Bloc supprim\xE9")}function no(){ce&&(ce.classList.add("hidden"),ce.classList.remove("flex"),ao=null,vs(ce))}function Sr(e){if(!ce){fn(e);return}ao=e,ce.classList.remove("hidden"),ce.classList.add("flex"),hs(ce,no)}let Lr=e=>{if(!e)return;let t=es(e);oe=oe.map(o=>o.id===t.id?t:o),m=t,qt(t)},At=(e,t={})=>{var c,f;let o=oe.find(v=>v.id===e)||oe[0]||null;m=o?es(o):null,Be=(o==null?void 0:o.id)||null,(!t.preserveBlock||!m||!m.blocks.some(v=>v.id===Ge))&&(Ge=((f=(c=m==null?void 0:m.blocks)==null?void 0:c[0])==null?void 0:f.id)||null),Be&&ir(Be),Jt(oe,Be),an(m),Ho(),dr(m),Ht(m),St(m),to(us()),Is(Ge),mn(),Fs&&Bs()},Io=()=>window.matchMedia("(min-width: 1024px)").matches,pn=()=>{Ut&&(Io()?(Ut.classList.add("is-open"),Ve==null||Ve.classList.add("hidden"),document.body.classList.remove("overflow-hidden")):Ut.classList.remove("is-open"))},kr=()=>{!Ut||Io()||(Ut.classList.add("is-open"),Ve==null||Ve.classList.remove("hidden"),document.body.classList.add("overflow-hidden"))},jo=()=>{Ut&&(Ut.classList.remove("is-open"),Ve==null||Ve.classList.add("hidden"),document.body.classList.remove("overflow-hidden"))},Er=()=>{!ut||!Bt||(ut.classList.remove("hidden"),Bt.classList.add("hidden"),U&&(U.textContent=""),ro=!1,n&&(n.value="",n.focus()),i&&(i.value=""),x&&(x.value=""))},gn=()=>{!ut||!Bt||(ut.classList.add("hidden"),Bt.classList.remove("hidden"),U&&(U.textContent=""),ro=!1,ut.reset())},Cr=()=>{!n||!x||ro&&x.value.trim().length>0||(x.value=rn(n.value))},oe=[],Be=null,ro=!1,m=null,Ge=null,Fs=!1,ao=null,Bo="",Fo=!1,Ms=null,Mt=[],qr=e=>{let t={...e,props:Array.isArray(e.props)?e.props:[],settings:{...e.settings||{}}};return(t.type||"").toLowerCase()==="collectiongrid"&&(t.collectionId=t.collectionId||t.settings.collectionId||"",t.settings.collectionId=t.collectionId,t.settings.limit=t.settings.limit||6),t},es=e=>{var t,o,r,c,f;return{...e,blocks:(e.blocks||[]).map(v=>qr(v)),seo:{title:(((t=e.seo)==null?void 0:t.title)||"").trim(),description:(((o=e.seo)==null?void 0:o.description)||"").trim(),indexed:typeof((r=e.seo)==null?void 0:r.indexed)=="boolean"?e.seo.indexed:null},accessibility:{showInMainNav:((c=e.accessibility)==null?void 0:c.showInMainNav)!==!1,mainLabel:(((f=e.accessibility)==null?void 0:f.mainLabel)||"").trim()}}},Ar=async()=>{if(!on){Mt=[],io();return}try{let e=await fetch(on,{headers:{Accept:"application/json"}});if(!e.ok)throw new Error("Impossible de charger les collections.");let t=await e.json().catch(()=>[]);Mt=Array.isArray(t)?t:[];let o=(Fe==null?void 0:Fe.value)||"";io(o)}catch(e){console.error("[design] collections load",e),j("Collections indisponibles."),Mt=[],io()}},Mo=e=>{if(!_t)return;if(!e){_t.textContent=Mt.length?"S\xE9lectionnez une collection pour afficher ses informations.":"Aucune collection disponible. Ajoutez-en depuis l\u2019onglet Contenus.";return}let t=Mt.find(r=>r.id===e);if(!t){_t.textContent=`Collection ${e}`;return}let o=[];t.description&&o.push(t.description),t.type&&o.push(`Type\xA0: ${t.type}`),_t.textContent=o.join(" \xB7 ")||`Collection ${t.name||t.id}`},io=(e="")=>{if(Fe){if(Fe.innerHTML="",!Mt.length){Fe.disabled=!0;let t=document.createElement("option");t.value="",t.textContent="Aucune collection disponible",Fe.appendChild(t),Mo("");return}if(Fe.disabled=!1,e&&!Mt.some(t=>t.id===e)){let t=document.createElement("option");t.value=e,t.textContent=e,Fe.appendChild(t)}Mt.forEach(t=>{let o=document.createElement("option");o.value=t.id;let r=t.name||t.id;o.textContent=t.type?`${r} \xB7 ${t.type}`:r,o.dataset.description=t.description||"",Fe.appendChild(o)}),e&&(Fe.value=e),Mo(Fe.value||"")}};Ar(),pn(),Ao.forEach(e=>{e.addEventListener("click",kr)}),Xs.forEach(e=>{e.addEventListener("click",jo)}),Ve==null||Ve.addEventListener("click",jo),window.addEventListener("resize",()=>{pn(),mn()}),Bt==null||Bt.addEventListener("click",Er),I==null||I.addEventListener("click",gn),n==null||n.addEventListener("input",Cr),x==null||x.addEventListener("input",()=>{U&&(U.textContent=""),ro=!0}),ut==null||ut.addEventListener("submit",async e=>{if(e.preventDefault(),!wt){U&&(U.textContent="Aucun site s\xE9lectionn\xE9.");return}if(!n||!x)return;let t=n.value.trim(),o=(i==null?void 0:i.value.trim())||t,r=rn(x.value.trim()||t);if(!t||!r){U&&(U.textContent="Nom et slug sont requis.");return}U&&(U.textContent=""),Q&&(Q.disabled=!0,Q.textContent="Cr\xE9ation...");try{let c=await Es({name:t,title:o,slug:r});if(!c||!c.id)throw new Error("R\xE9ponse invalide.");oe=[...oe,es(c)],gn(),j("Page cr\xE9\xE9e"),At(c.id)}catch(c){console.error("[design] create page failed",c),U&&(U.textContent=c.message||"Impossible de cr\xE9er la page.")}finally{Q&&(Q.disabled=!1,Q.textContent="Cr\xE9er")}});let Po=()=>{Qe&&(Qe.value=""),pt&&(pt.classList.add("hidden"),pt.textContent="")},hn=()=>{if(!Qe)return null;let e=Qe.value.trim();if(!e)return pt&&pt.classList.add("hidden"),null;try{let t=JSON.parse(e);return pt&&pt.classList.add("hidden"),t}catch(t){return pt&&(pt.classList.remove("hidden"),pt.textContent=`\u274C JSON invalide : ${t.message}`),null}},Tr=()=>{if(!Qe)return;let e=Qe.value.trim();if(e)try{let t=JSON.parse(e);Qe.value=JSON.stringify(t,null,2),hn()}catch{}},Ps=()=>{if(De)if(Ft==="upload")De.disabled=gt.length===0;else if(Ft==="paste"){let e=hn();De.disabled=!e}else De.disabled=!0},$r=()=>{J&&(J.classList.remove("hidden"),J.classList.add("flex"),gt=[],Ft="upload",Do(),Po(),ie&&ie.classList.add("hidden"),Ce&&(Ce.innerHTML=""),Ps(),Rt.forEach(e=>{e.dataset.importTab==="upload"?(e.classList.add("bg-[#9C6BFF]","text-white"),e.classList.remove("border","border-slate-200","text-slate-700")):(e.classList.remove("bg-[#9C6BFF]","text-white"),e.classList.add("border","border-slate-200","text-slate-700"))}),As.forEach(e=>{e.dataset.importPanel==="upload"?e.classList.remove("hidden"):e.classList.add("hidden")}),hs(J,No))},No=()=>{J&&(J.classList.add("hidden"),J.classList.remove("flex"),gt=[],Po(),vs(J))},Do=()=>{if(!(!Oe||!Je)){if(gt.length===0){Oe.classList.add("hidden"),Ps();return}Oe.classList.remove("hidden"),Je.innerHTML=gt.map(e=>`<li class="flex items-center gap-2"><span class="text-lg">\u{1F4C4}</span>${e.name}</li>`).join(""),Ps()}},vn=e=>{let t=Array.from(e).filter(o=>o.type==="application/json"||o.name.endsWith(".json"));if(t.length===0){j("Aucun fichier JSON valide.");return}gt=t,Do()},Ir=async()=>{var o,r,c,f,v,F,_,le,ye,et,Lt;if(!wt)return;let e=[];if(console.log("[import] activeImportTab:",Ft),Ft==="paste"){let Se=(o=Qe==null?void 0:Qe.value)==null?void 0:o.trim();if(console.log("[import] paste text length:",Se==null?void 0:Se.length),!Se){j("Aucun JSON \xE0 importer."),ie&&Ce&&(ie.classList.remove("hidden"),Ce.innerHTML='<p class="text-amber-600">\u26A0 Le champ de texte est vide.</p>');return}try{let M=JSON.parse(Se);console.log("[import] parsed JSON:",M),console.log("[import] parsed type:",typeof M,Array.isArray(M)?"array":"not array"),M&&!Array.isArray(M)&&M.pages?(console.log("[import] detected pages+collections format"),e=M):Array.isArray(M)?e.push(...M):e.push(M),console.log("[import] pagesData prepared:",e)}catch(M){let ht=M.message.match(/position (\d+)/),$e=M.message;if(ht){let ue=parseInt(ht[1],10),it=Se.substring(0,ue).split(`
`),vt=it.length,He=it[it.length-1].length+1;$e=`Ligne ${vt}, colonne ${He}: ${M.message}`}j(`Erreur JSON : ${$e}`,"error"),console.error("[import] paste parse error",M),ie&&Ce&&(ie.classList.remove("hidden"),Ce.innerHTML=`
              <div class="text-rose-600">
                <p class="font-medium">\u2717 Erreur de syntaxe JSON</p>
                <p class="text-xs mt-1">${$e}</p>
                <p class="text-xs mt-2 text-slate-500">V\xE9rifiez les virgules, guillemets et accolades.</p>
              </div>
            `);return}}else if(Ft==="upload"){if(gt.length===0)return;let Se=[];for(let M of gt){let ht=await M.text();try{let $e=JSON.parse(ht);Array.isArray($e)?e.push(...$e):e.push($e)}catch($e){let ue=$e.message.match(/position (\d+)/),it=$e.message;if(ue){let vt=parseInt(ue[1],10);it=`Ligne ${ht.substring(0,vt).split(`
`).length}: ${$e.message}`}Se.push({file:M.name,error:it}),console.error("[import] parse error",M.name,$e)}}if(Se.length>0){if(ie&&Ce){ie.classList.remove("hidden");let M='<div class="text-rose-600"><p class="font-medium">\u2717 Erreurs de syntaxe JSON</p><ul class="ml-4 text-xs mt-1">';Se.forEach(ht=>{M+=`<li><strong>${ht.file}</strong>: ${ht.error}</li>`}),M+="</ul></div>",e.length>0&&(M+=`<p class="text-amber-600 mt-2 text-sm">\u26A0 ${e.length} page(s) valide(s) seront import\xE9e(s)</p>`),Ce.innerHTML=M}if(e.length===0){j("Tous les fichiers contiennent des erreurs JSON","error");return}}}else return;let t=Array.isArray(e)?e.length>0:e&&(((r=e.pages)==null?void 0:r.length)>0||e.title);if(console.log("[import] hasData check:",t,"pagesData:",e),!t){j("Aucune page valide \xE0 importer."),ie&&Ce&&(ie.classList.remove("hidden"),Ce.innerHTML=`
            <div class="text-amber-600">
              <p class="font-medium">\u26A0 Aucune page d\xE9tect\xE9e</p>
              <p class="text-xs mt-1">Le JSON doit contenir :</p>
              <ul class="text-xs ml-4 mt-1 list-disc">
                <li>Un objet page avec "title" : <code>{"title": "Ma page", ...}</code></li>
                <li>Un tableau de pages : <code>[{"title": "Page 1"}, {"title": "Page 2"}]</code></li>
                <li>Ou un objet combin\xE9 : <code>{"pages": [...], "collections": {...}}</code></li>
              </ul>
            </div>
          `);return}De&&(De.disabled=!0,De.textContent="Import..."),console.log("[import] Sending to server:",JSON.stringify(e).substring(0,500));try{let Se=await fetch(`${wt}/import`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)});console.log("[import] Server response status:",Se.status);let M=await Se.json();if(console.log("[import] Server response body:",M),!Se.ok)throw ie&&Ce&&(ie.classList.remove("hidden"),Ce.innerHTML=`
              <div class="text-rose-600">
                <p class="font-medium">\u2717 Erreur serveur</p>
                <p class="text-xs mt-1">${M.message||"Erreur inconnue"}</p>
                ${M.details?`<p class="text-xs mt-1 text-slate-500">${M.details}</p>`:""}
              </div>
            `),new Error(M.message||"Erreur serveur");if(ie&&Ce){ie.classList.remove("hidden");let ue="",it=((c=M.imported)==null?void 0:c.length)>0||((f=M.collectionsCreated)==null?void 0:f.length)>0,vt=((v=M.errors)==null?void 0:v.length)>0;it&&!vt?ue+='<div class="bg-green-50 border border-green-200 rounded-lg p-3 mb-2"><p class="text-green-800 font-medium">\u2713 Import r\xE9ussi</p></div>':it&&vt?ue+='<div class="bg-amber-50 border border-amber-200 rounded-lg p-3 mb-2"><p class="text-amber-800 font-medium">\u26A0 Import partiel</p></div>':vt&&(ue+='<div class="bg-rose-50 border border-rose-200 rounded-lg p-3 mb-2"><p class="text-rose-800 font-medium">\u2717 Import \xE9chou\xE9</p></div>'),M.collectionsCreated&&M.collectionsCreated.length>0&&(ue+=`<p class="text-violet-700 mt-2">\u2713 ${M.collectionsCreated.length} collection(s) cr\xE9\xE9e(s)</p>`,ue+='<ul class="ml-4 text-xs text-slate-600">',M.collectionsCreated.forEach(He=>{ue+=`<li>${He.name} (${He.itemsCount} item${He.itemsCount>1?"s":""})</li>`}),ue+="</ul>"),M.imported&&M.imported.length>0&&(ue+=`<p class="text-green-700 mt-2">\u2713 ${M.imported.length} page(s) import\xE9e(s)</p>`,ue+='<ul class="ml-4 text-xs text-slate-600">',M.imported.forEach(He=>{ue+=`<li><strong>${He.title}</strong> \u2192 ${He.slug} (${He.action==="updated"?"mise \xE0 jour":"cr\xE9\xE9e"})</li>`}),ue+="</ul>"),M.errors&&M.errors.length>0&&(ue+=`<p class="text-rose-600 mt-3 font-medium">\u2717 ${M.errors.length} erreur(s)</p>`,ue+='<ul class="ml-4 text-xs text-rose-600 space-y-1 mt-1">',M.errors.forEach(He=>{ue+=`<li class="bg-rose-50 p-2 rounded"><strong>${He.title}</strong><br/><span class="text-rose-500">${He.error}</span></li>`}),ue+="</ul>"),Ce.innerHTML=ue}let ht=((F=M.imported)==null?void 0:F.length)>0||((_=M.collectionsCreated)==null?void 0:_.length)>0,$e=((le=M.errors)==null?void 0:le.length)>0;if(M.imported&&M.imported.length>0&&(oe=await Ot(),Jt(oe,Be),oe.length>0&&!Be&&At(oe[0].id)),ht&&!$e){let ue=(ye=M.collectionsCreated)!=null&&ye.length?` + ${M.collectionsCreated.length} collection(s)`:"";j(`\u2713 Import r\xE9ussi : ${((et=M.imported)==null?void 0:et.length)||0} page(s)${ue}`,"success")}else ht&&$e?j(`\u26A0 Import partiel : ${((Lt=M.imported)==null?void 0:Lt.length)||0} page(s), ${M.errors.length} erreur(s)`,"warning"):$e&&j(`\u2717 Import \xE9chou\xE9 : ${M.errors.length} erreur(s)`,"error");gt=[],Do(),Po()}catch(Se){console.error("[import] failed",Se),j(Se.message||"Erreur import","error")}finally{De&&(De.disabled=!1,De.textContent="Importer")}};ae==null||ae.addEventListener("click",$r),Ne.forEach(e=>e.addEventListener("click",No)),J==null||J.addEventListener("click",e=>{e.target===J&&No()}),ze==null||ze.addEventListener("change",e=>{vn(e.target.files)}),ve==null||ve.addEventListener("dragover",e=>{e.preventDefault(),ve.classList.add("border-[#9C6BFF]","bg-[#9C6BFF]/10")}),ve==null||ve.addEventListener("dragleave",e=>{e.preventDefault(),ve.classList.remove("border-[#9C6BFF]","bg-[#9C6BFF]/10")}),ve==null||ve.addEventListener("drop",e=>{e.preventDefault(),ve.classList.remove("border-[#9C6BFF]","bg-[#9C6BFF]/10"),vn(e.dataTransfer.files)}),De==null||De.addEventListener("click",Ir),Qe==null||Qe.addEventListener("input",()=>{Ps()}),cs==null||cs.addEventListener("click",Tr),Rt.forEach(e=>{e.addEventListener("click",()=>{let t=e.dataset.importTab;Ft=t,Rt.forEach(o=>{o.dataset.importTab===t?(o.classList.add("bg-[#9C6BFF]","text-white"),o.classList.remove("border","border-slate-200","text-slate-700")):(o.classList.remove("bg-[#9C6BFF]","text-white"),o.classList.add("border","border-slate-200","text-slate-700"))}),As.forEach(o=>{o.dataset.importPanel===t?o.classList.remove("hidden"):o.classList.add("hidden")}),Ps()})}),ls==null||ls.addEventListener("click",async()=>{if(!Ts)return;let e=Ts.textContent||"";try{await navigator.clipboard.writeText(e),j("Template copi\xE9 !")}catch(t){console.error("[import] copy failed",t),j("Erreur copie")}}),ds==null||ds.addEventListener("click",so),xt==null||xt.addEventListener("click",vr),at==null||at.addEventListener("click",e=>{e.target===at&&so()}),ge==null||ge.addEventListener("click",e=>{e.stopPropagation(),xr()}),document.addEventListener("click",e=>{Fs&&(he!=null&&he.contains(e.target)||ge!=null&&ge.contains(e.target)||Bs())}),_e.forEach(e=>{e.addEventListener("click",t=>{t.stopPropagation();let o=e.dataset.blockAdd;wr(o)})}),Ae==null||Ae.addEventListener("click",()=>{no()}),Ye==null||Ye.addEventListener("click",()=>{ao&&fn(ao),no()}),ce==null||ce.addEventListener("click",e=>{e.target===ce&&no()}),B==null||B.addEventListener("input",e=>{var r,c,f,v;let t=e.target;if(!t||!t.name)return;if(t.name==="group-columns-mobile"||t.name==="group-columns-desktop"){let F=((r=B.querySelector('[name="group-columns-mobile"]'))==null?void 0:r.value)||"1",_=((c=B.querySelector('[name="group-columns-desktop"]'))==null?void 0:c.value)||"3";as(F,_)}if(t.name==="collection-columns-mobile"||t.name==="collection-columns-desktop"){let F=((f=B.querySelector('[name="collection-columns-mobile"]'))==null?void 0:f.value)||"1",_=((v=B.querySelector('[name="collection-columns-desktop"]'))==null?void 0:v.value)||"3";Ws(F,_)}let o=t.closest("[data-block-panel]");if(o&&o.dataset.blockPanel==="appearance"){let F=us(),_=Dt(F);if(F&&_){let le=rt(_);Ys(F.id,le)}}}),B==null||B.addEventListener("change",e=>{var r,c;let t=e.target;if(!t||!t.name)return;if(t.hasAttribute("data-color-select")){let f=t.options[t.selectedIndex],v=((r=f==null?void 0:f.dataset)==null?void 0:r.color)||"#ffffff",F=(c=t.closest(".relative"))==null?void 0:c.querySelector("[data-color-preview]");F&&(v==="transparent"?F.style.background="repeating-conic-gradient(#ccc 0% 25%, white 0% 50%) 50% / 8px 8px":(F.style.backgroundColor=v,F.style.background=""))}let o=t.closest("[data-block-panel]");if(o&&o.dataset.blockPanel==="appearance"){let f=us(),v=Dt(f);if(f&&v){let F=rt(v);Ys(f.id,F)}}}),Fe==null||Fe.addEventListener("change",e=>{let t=e.target;Mo((t==null?void 0:t.value)||"")}),B==null||B.addEventListener("submit",qo),nt==null||nt.addEventListener("click",e=>{e.preventDefault();let t=us();t&&Cs(t)}),g==null||g.addEventListener("load",()=>{Fo=!0,jt("\xC0 jour"),Is(Ge)}),w==null||w.addEventListener("click",()=>{let e=window.open("","_blank");if(!e)return;e.opener=null;let t=e.document;t.open(),t.write(Bo||Xt()),t.close()});let yn=e=>{var t,o,r;ne&&(e?(ne.classList.remove("hidden"),m&&(C&&(C.value=((t=m.seo)==null?void 0:t.title)||""),q&&(q.value=((o=m.seo)==null?void 0:o.description)||""),k&&(k.checked=((r=m.seo)==null?void 0:r.indexed)!==!1))):ne.classList.add("hidden"))},lo=(e,t="muted")=>{if(!P)return;let o=t==="success"?"text-emerald-600":t==="error"?"text-rose-600":"text-slate-500";P.textContent=e||"",P.className=`text-sm ${o}`};z==null||z.addEventListener("click",()=>{let e=ne&&!ne.classList.contains("hidden");yn(!e)}),se==null||se.addEventListener("click",()=>yn(!1)),p==null||p.addEventListener("submit",async e=>{var t;if(e.preventDefault(),!m){lo("Aucune page active.","error");return}N&&(N.disabled=!0),lo("");try{let o={title:((C==null?void 0:C.value)||"").trim(),description:((q==null?void 0:q.value)||"").trim(),indexed:(t=k==null?void 0:k.checked)!=null?t:!0},r={...m,seo:o},c=await qt(r);c&&(m=c,lo("SEO enregistr\xE9.","success"),j("SEO mis \xE0 jour"),Ht(m))}catch(o){console.error("[seo] save failed",o),lo(o.message||"Erreur lors de la sauvegarde.","error")}finally{N&&(N.disabled=!1)}});let Ho=()=>{var e,t;if(!(!E&&!$)){if(!m){E&&(E.checked=!0),$&&($.value="");return}E&&(E.checked=((e=m.accessibility)==null?void 0:e.showInMainNav)!==!1),$&&($.value=((t=m.accessibility)==null?void 0:t.mainLabel)||"")}},bn=e=>{R&&(e?(Ho(),R.classList.remove("hidden")):R.classList.add("hidden"))},co=(e,t="muted")=>{if(!te)return;let o=t==="success"?"text-emerald-600":t==="error"?"text-rose-600":"text-slate-500";te.textContent=e||"",te.className=`text-sm ${o}`};D==null||D.addEventListener("click",()=>{let e=R&&!R.classList.contains("hidden");bn(!e)}),d==null||d.addEventListener("click",()=>bn(!1)),A==null||A.addEventListener("submit",async e=>{var t;if(e.preventDefault(),!m){co("Aucune page active.","error");return}K&&(K.disabled=!0),co("");try{let o={showInMainNav:(t=E==null?void 0:E.checked)!=null?t:!0,mainLabel:(($==null?void 0:$.value)||"").trim()},r={...m,accessibility:o},c=await qt(r);c&&(m=c,Ho(),co("Accessibilit\xE9 enregistr\xE9e.","success"),j("Accessibilit\xE9 mise \xE0 jour"),Jt(oe,Be),Ht(m))}catch(o){console.error("[accessibility] save failed",o),co(o.message||"Erreur lors de la sauvegarde.","error")}finally{K&&(K.disabled=!1)}});let xn=e=>{pe&&(e?(pe.classList.remove("hidden"),m&&(fe&&(fe.value=m.name||""),we&&(we.value=m.title||""),ke&&(ke.value=m.slug||""),H&&(H.value=m.description||""))):pe.classList.add("hidden"))},fs=(e,t="muted")=>{if(!y)return;let o=t==="success"?"text-emerald-600":t==="error"?"text-rose-600":"text-slate-500";y.textContent=e||"",y.className=`text-sm ${o}`};X==null||X.addEventListener("click",()=>{let e=pe&&!pe.classList.contains("hidden");xn(!e)}),me==null||me.addEventListener("click",()=>xn(!1)),qe==null||qe.addEventListener("submit",async e=>{if(e.preventDefault(),!m){fs("Aucune page active.","error");return}h&&(h.disabled=!0),fs("");try{let t=((fe==null?void 0:fe.value)||"").trim(),o=((we==null?void 0:we.value)||"").trim(),r=((ke==null?void 0:ke.value)||"").trim(),c=((H==null?void 0:H.value)||"").trim();if(!o){fs("Le titre est requis.","error"),h&&(h.disabled=!1);return}if(!r||!r.startsWith("/")){fs("Le slug doit commencer par /.","error"),h&&(h.disabled=!1);return}let f={...m,name:t||o,title:o,slug:r,description:c},v=await qt(f);v&&(m=v,oe=oe.map(F=>F.id===v.id?v:F),fs("Propri\xE9t\xE9s enregistr\xE9es.","success"),j("Page mise \xE0 jour"),an(m),Jt(oe,Be),Ht(m))}catch(t){console.error("[page-props] save failed",t),fs(t.message||"Erreur lors de la sauvegarde.","error")}finally{h&&(h.disabled=!1)}});let jr=e=>{let t=e.target.closest("[data-block-item]");if(!t||!oo()){e.preventDefault();return}if(Pt=t.dataset.blockId||null,!Pt){e.preventDefault();return}e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/plain",Pt),requestAnimationFrame(()=>{t.classList.add("opacity-50","scale-[0.98]","shadow-lg","ring-2","ring-[#9C6BFF]")})},wn=()=>{S==null||S.querySelectorAll("[data-block-item]").forEach(e=>{e.classList.remove("opacity-50","scale-[0.98]","shadow-lg","ring-2","ring-[#9C6BFF]","border-t-4","border-b-4","border-t-[#9C6BFF]","border-b-[#9C6BFF]","pt-6","pb-6")})},Br=()=>{Pt=null,wn()},Fr=e=>{if(!Pt||!oo())return;let t=e.target.closest("[data-block-item]");if(!t||t.dataset.blockId===Pt)return;e.preventDefault(),e.dataTransfer.dropEffect="move";let o=t.getBoundingClientRect(),r=o.top+o.height/2,c=e.clientY<r;S==null||S.querySelectorAll("[data-block-item]").forEach(f=>{f!==t&&f.dataset.blockId!==Pt&&f.classList.remove("border-t-4","border-b-4","border-t-[#9C6BFF]","border-b-[#9C6BFF]","pt-6","pb-6")}),t.classList.remove("border-t-4","border-b-4","border-t-[#9C6BFF]","border-b-[#9C6BFF]","pt-6","pb-6"),c?t.classList.add("border-t-4","border-t-[#9C6BFF]","pt-6"):t.classList.add("border-b-4","border-b-[#9C6BFF]","pb-6"),t.dataset.dropPosition=c?"before":"after"},Mr=e=>{let t=e.target.closest("[data-block-item]");if(!t)return;let o=e.relatedTarget;o&&t.contains(o)||(t.classList.remove("border-t-4","border-b-4","border-t-[#9C6BFF]","border-b-[#9C6BFF]","pt-6","pb-6"),delete t.dataset.dropPosition)},Pr=e=>{if(!Pt||!oo())return;e.preventDefault();let t=e.target.closest("[data-block-item]"),o=Pt,r=(t==null?void 0:t.dataset.dropPosition)||"after";Pt=null,wn();let c=(t==null?void 0:t.dataset.blockId)||null;!c||o===c||yr(o,c,r)},Pt=null;S==null||S.addEventListener("dragstart",jr),S==null||S.addEventListener("dragend",Br),S==null||S.addEventListener("dragover",Fr),S==null||S.addEventListener("dragleave",Mr),S==null||S.addEventListener("drop",Pr),Ks(),document.addEventListener("ai-page-updated",async e=>{var t;console.log("[design] Rafra\xEEchissement d\xE9clench\xE9 par IA",e.detail);try{let o=await Ot();if(oe=(Array.isArray(o)?o:[]).map(r=>es(r)),(t=e.detail)!=null&&t.pageId){let r=oe.find(c=>c.id===e.detail.pageId);r&&(m=r,Be=r.id,Ht(m),St(m),j("Page mise \xE0 jour par l'IA"))}else if(Be){let r=oe.find(c=>c.id===Be);r&&(m=r,Ht(m),St(m))}}catch(o){console.error("[design] Erreur rafra\xEEchissement IA:",o)}})}function zn(){var Xs,Bt,ut;let s=document.querySelector("[data-collection-list]");if(!s)return;let a={empty:document.querySelector('[data-content-view="empty"]'),header:document.querySelector('[data-content-view="header"]'),collection:document.querySelector('[data-content-view="collection"]'),footer:document.querySelector('[data-content-view="footer"]')},l=document.querySelectorAll("[data-content-section]"),u=document.querySelectorAll("[data-content-section-trigger]"),g=document.querySelector("[data-content-drawer]"),w=document.querySelector("[data-content-drawer-backdrop]"),O=document.querySelectorAll("[data-content-drawer-open]"),W=document.querySelectorAll("[data-content-drawer-close]"),z=document.querySelector("[data-header-status]"),ne=document.querySelector("[data-footer-status]"),se=document.querySelector("[data-collection-count]"),p={logo:document.querySelector('[name="header-logo"]'),logoAlt:document.querySelector('[name="header-logo-alt"]'),logoUrl:document.querySelector('[name="header-logo-url"]'),ctaText:document.querySelector('[name="header-cta-text"]'),ctaUrl:document.querySelector('[name="header-cta-url"]'),ctaStyle:document.querySelector('[name="header-cta-style"]'),position:document.querySelector('[name="header-position"]'),bg:document.querySelector('[name="header-bg"]')},C=document.querySelector("[data-header-nav-list]"),q=document.querySelector("[data-header-nav-add]"),k=document.querySelector("[data-header-save]"),P=document.querySelector("[data-template-header-nav-item]"),N=document.querySelector("[data-header-pages-list]"),D=[],R=[],d={linkedin:document.querySelector('[name="footer-social-linkedin"]'),twitter:document.querySelector('[name="footer-social-twitter"]'),instagram:document.querySelector('[name="footer-social-instagram"]'),facebook:document.querySelector('[name="footer-social-facebook"]'),youtube:document.querySelector('[name="footer-social-youtube"]'),github:document.querySelector('[name="footer-social-github"]'),copyright:document.querySelector('[name="footer-copyright"]'),legalUrl:document.querySelector('[name="footer-legal-url"]'),privacyUrl:document.querySelector('[name="footer-privacy-url"]'),bg:document.querySelector('[name="footer-bg"]'),columnsCount:document.querySelector('[name="footer-columns-count"]')},A=document.querySelector("[data-footer-columns-list]"),E=document.querySelector("[data-footer-column-add]"),$=document.querySelector("[data-footer-save]"),te=document.querySelector("[data-template-footer-column]"),K=document.querySelector("[data-template-footer-link]"),X=null,pe={nav:[],logo:{},cta:{},style:{}},me={columns:[],socials:{},copyright:"",legal:{},style:{}},qe=Le((V==null?void 0:V.slugValue)||Y.slug||""),fe=qe,we=qe?`/api/sites/${encodeURIComponent(qe)}/layout`:null,ke=n=>{Object.entries(a).forEach(([i,x])=>{x&&x.classList.toggle("hidden",i!==n)}),l.forEach(i=>{i.dataset.contentSection===n?i.dataset.active="true":delete i.dataset.active}),X=n},H=()=>{g==null||g.classList.add("is-open"),g&&(g.style.transform="translateX(0)"),w==null||w.classList.remove("hidden"),document.body.classList.add("overflow-hidden")},y=()=>{g==null||g.classList.remove("is-open"),g&&(g.style.transform=""),w==null||w.classList.add("hidden"),document.body.classList.remove("overflow-hidden")};O.forEach(n=>n.addEventListener("click",H)),W.forEach(n=>n.addEventListener("click",y)),w==null||w.addEventListener("click",y),l.forEach(n=>{n.addEventListener("click",()=>{let i=n.dataset.contentSection;(i==="header"||i==="footer")&&ke(i),y()})}),u.forEach(n=>{n.addEventListener("click",()=>{let i=n.dataset.contentSectionTrigger;i&&ke(i)})});let h=async()=>{if(!(!fe||!N))try{let n=await fetch(`/api/sites/${fe}/pages`,{credentials:"include"});if(!n.ok)throw new Error("Erreur chargement pages");D=await n.json(),re()}catch(n){console.error("[header] load pages error",n),N.innerHTML='<p class="text-xs text-red-500">Erreur chargement pages</p>'}},S=n=>{let i=(n||"").toString().trim();if(!i||i==="/"||i==="index")return"/";let x=i.toLowerCase();if(i.startsWith("#")||x.startsWith("mailto:")||x.startsWith("tel:")||/^[a-z]+:\/\//i.test(i))return i;if(i.startsWith("//")){let U=i.slice(2);if(U.includes("."))return i;let Q=U.replace(/^\/+/,"").replace(/\/+$/,"");return Q?`/${Q}`:"/"}let I=i.replace(/^\/+/,"").replace(/\/+$/,"");return I?`/${I}`:"/"},G=(n,i="")=>{let x=(n||"").toString().trim();return x?S(x):i},re=()=>{if(N){if(N.innerHTML="",D.length===0){N.innerHTML='<p class="text-xs text-slate-400 italic">Aucune page disponible</p>';return}D.forEach(n=>{let i=n.slug||n.id||"",x=n.name||n.title||i,I=S(i),U=R.some(J=>J.url===I),Q=document.createElement("label");Q.className="flex items-center gap-2 px-3 py-2 rounded-lg border border-slate-200 hover:bg-slate-50 cursor-pointer transition-colors",Q.innerHTML=`
          <input type="checkbox" name="nav-page" value="${I}" data-page-title="${x}"
                 class="w-4 h-4 rounded border-slate-300 text-violet-600 focus:ring-violet-500"
                 ${U?"checked":""}>
          <span class="flex-1 text-sm text-slate-700">${x}</span>
          <span class="text-xs text-slate-400">${I}</span>
        `;let ae=Q.querySelector("input");ae.addEventListener("change",()=>{ae.checked?R.some(J=>J.url===I)||R.push({label:x,url:I}):R=R.filter(J=>J.url!==I)}),N.appendChild(Q)})}},ge=()=>{var i,x,I,U,Q,ae,J,Ne,ve,ze,Oe;let n=[];return N==null||N.querySelectorAll('input[name="nav-page"]:checked').forEach(Je=>{let ie=S(Je.value),Ce=Je.dataset.pageTitle||ie;n.push({label:Ce,url:ie})}),{logo:{src:((x=(i=p.logo)==null?void 0:i.value)==null?void 0:x.trim())||"",alt:((U=(I=p.logoAlt)==null?void 0:I.value)==null?void 0:U.trim())||"",url:G((Q=p.logoUrl)==null?void 0:Q.value,"/")},nav:n,cta:{text:((J=(ae=p.ctaText)==null?void 0:ae.value)==null?void 0:J.trim())||"",url:G((Ne=p.ctaUrl)==null?void 0:Ne.value,""),style:((ve=p.ctaStyle)==null?void 0:ve.value)||"primary"},style:{position:((ze=p.position)==null?void 0:ze.value)||"static",bg:((Oe=p.bg)==null?void 0:Oe.value)||"bg-white"}}},he=async n=>{var x,I,U,Q,ae,J,Ne,ve,ze,Oe,Je;if(!n)return;p.logo&&(p.logo.value=((x=n.logo)==null?void 0:x.src)||""),p.logoAlt&&(p.logoAlt.value=((I=n.logo)==null?void 0:I.alt)||""),p.logoUrl&&(p.logoUrl.value=G((U=n.logo)==null?void 0:U.url,"/")),p.ctaText&&(p.ctaText.value=((Q=n.cta)==null?void 0:Q.text)||""),p.ctaUrl&&(p.ctaUrl.value=G((ae=n.cta)==null?void 0:ae.url,"")),p.ctaStyle&&(p.ctaStyle.value=((J=n.cta)==null?void 0:J.style)||"primary"),p.position&&(p.position.value=((Ne=n.style)==null?void 0:Ne.position)||"static"),p.bg&&(p.bg.value=((ve=n.style)==null?void 0:ve.bg)||"bg-white"),R=(n.nav||[]).map(ie=>({...ie,url:S(ie.url)})),await h();let i=((ze=n.logo)==null?void 0:ze.src)||((Oe=n.nav)==null?void 0:Oe.length)>0||((Je=n.cta)==null?void 0:Je.text);z&&(z.classList.toggle("bg-green-500",!!i),z.classList.toggle("bg-slate-300",!i),z.title=i?"Configur\xE9":"Non configur\xE9")};k==null||k.addEventListener("click",async()=>{if(we){k.disabled=!0,k.textContent="Enregistrement...";try{let n=ge();if(!(await fetch(`${we}/header`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(n)})).ok)throw new Error("Erreur serveur");pe=n,he(n),j("Header enregistr\xE9")}catch(n){console.error("[header] save error",n),j("Erreur lors de l'enregistrement","error")}finally{k.disabled=!1,k.textContent="Enregistrer"}}});let _e=(n,i="",x="")=>{if(!K||!n)return;let I=K.content.cloneNode(!0),U=I.querySelector("[data-footer-link]"),Q=I.querySelector('[name="link-label"]'),ae=I.querySelector('[name="link-url"]'),J=I.querySelector("[data-link-remove]");Q&&(Q.value=i),ae&&(ae.value=x),J==null||J.addEventListener("click",()=>U==null?void 0:U.remove()),n.appendChild(I)},ce=(n="",i=[])=>{if(!te||!A)return;let x=te.content.cloneNode(!0),I=x.querySelector("[data-footer-column]"),U=x.querySelector('[name="column-title"]'),Q=x.querySelector("[data-column-links]"),ae=x.querySelector("[data-column-link-add]"),J=x.querySelector("[data-column-remove]");U&&(U.value=n),i.forEach(Ne=>_e(Q,Ne.label,Ne.url)),ae==null||ae.addEventListener("click",()=>_e(Q)),J==null||J.addEventListener("click",()=>I==null?void 0:I.remove()),A.appendChild(x)},Ye=()=>{var i,x,I,U,Q,ae,J,Ne,ve,ze,Oe,Je,ie,Ce,De,Rt,As,ls,Ts,Qe;let n=[];return A==null||A.querySelectorAll("[data-footer-column]").forEach(cs=>{var Ft,at;let pt=((at=(Ft=cs.querySelector('[name="column-title"]'))==null?void 0:Ft.value)==null?void 0:at.trim())||"",gt=[];cs.querySelectorAll("[data-footer-link]").forEach($s=>{var Vt,Qs,eo,Qt;let ds=((Qs=(Vt=$s.querySelector('[name="link-label"]'))==null?void 0:Vt.value)==null?void 0:Qs.trim())||"",xt=((Qt=(eo=$s.querySelector('[name="link-url"]'))==null?void 0:eo.value)==null?void 0:Qt.trim())||"";(ds||xt)&&gt.push({label:ds,url:xt})}),(pt||gt.length>0)&&n.push({title:pt,links:gt})}),{columns:n,socials:{linkedin:((x=(i=d.linkedin)==null?void 0:i.value)==null?void 0:x.trim())||"",twitter:((U=(I=d.twitter)==null?void 0:I.value)==null?void 0:U.trim())||"",instagram:((ae=(Q=d.instagram)==null?void 0:Q.value)==null?void 0:ae.trim())||"",facebook:((Ne=(J=d.facebook)==null?void 0:J.value)==null?void 0:Ne.trim())||"",youtube:((ze=(ve=d.youtube)==null?void 0:ve.value)==null?void 0:ze.trim())||"",github:((Je=(Oe=d.github)==null?void 0:Oe.value)==null?void 0:Je.trim())||""},copyright:((Ce=(ie=d.copyright)==null?void 0:ie.value)==null?void 0:Ce.trim())||"",legal:{url:((Rt=(De=d.legalUrl)==null?void 0:De.value)==null?void 0:Rt.trim())||"",privacyUrl:((ls=(As=d.privacyUrl)==null?void 0:As.value)==null?void 0:ls.trim())||""},style:{bg:((Ts=d.bg)==null?void 0:Ts.value)||"bg-slate-900 text-white",columnsCount:((Qe=d.columnsCount)==null?void 0:Qe.value)||"4"}}},Ae=n=>{var x,I,U,Q,ae,J,Ne,ve,ze,Oe,Je;if(!n)return;d.linkedin&&(d.linkedin.value=((x=n.socials)==null?void 0:x.linkedin)||""),d.twitter&&(d.twitter.value=((I=n.socials)==null?void 0:I.twitter)||""),d.instagram&&(d.instagram.value=((U=n.socials)==null?void 0:U.instagram)||""),d.facebook&&(d.facebook.value=((Q=n.socials)==null?void 0:Q.facebook)||""),d.youtube&&(d.youtube.value=((ae=n.socials)==null?void 0:ae.youtube)||""),d.github&&(d.github.value=((J=n.socials)==null?void 0:J.github)||""),d.copyright&&(d.copyright.value=n.copyright||""),d.legalUrl&&(d.legalUrl.value=((Ne=n.legal)==null?void 0:Ne.url)||""),d.privacyUrl&&(d.privacyUrl.value=((ve=n.legal)==null?void 0:ve.privacyUrl)||""),d.bg&&(d.bg.value=((ze=n.style)==null?void 0:ze.bg)||"bg-slate-900 text-white"),d.columnsCount&&(d.columnsCount.value=((Oe=n.style)==null?void 0:Oe.columnsCount)||"4"),A&&(A.innerHTML=""),(n.columns||[]).forEach(ie=>ce(ie.title,ie.links));let i=((Je=n.columns)==null?void 0:Je.length)>0||n.copyright||Object.values(n.socials||{}).some(ie=>ie);ne&&(ne.classList.toggle("bg-green-500",!!i),ne.classList.toggle("bg-slate-300",!i),ne.title=i?"Configur\xE9":"Non configur\xE9")};E==null||E.addEventListener("click",()=>ce()),$==null||$.addEventListener("click",async()=>{if(we){$.disabled=!0,$.textContent="Enregistrement...";try{let n=Ye();if(!(await fetch(`${we}/footer`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(n)})).ok)throw new Error("Erreur serveur");me=n,Ae(n),j("Footer enregistr\xE9")}catch(n){console.error("[footer] save error",n),j("Erreur lors de l'enregistrement","error")}finally{$.disabled=!1,$.textContent="Enregistrer"}}}),(async()=>{if(we)try{let n=await fetch(we,{credentials:"include"});if(n.ok){let i=await n.json();i.header&&(pe=i.header,he(i.header)),i.footer&&(me=i.footer,Ae(i.footer))}}catch(n){console.error("[layout] load error",n)}})();let Ee=document.querySelector("[data-collection-empty]"),de=document.querySelector("[data-collection-items-empty]"),Xe=document.querySelector("[data-item-table-wrapper]"),It=document.querySelector("[data-item-table-body]"),Te=document.querySelector("[data-collection-title]"),B=document.querySelector("[data-collection-description]"),ot=document.querySelector("[data-item-add]"),b=document.querySelector("[data-item-detail-empty]"),L=document.querySelector("[data-item-form]"),T=L?{title:L.querySelector('[name="item-title"]'),slug:L.querySelector('[name="item-slug"]'),excerpt:L.querySelector('[name="item-excerpt"]'),content:L.querySelector('[name="item-content"]'),image:L.querySelector('[name="item-image"]'),ctaText:L.querySelector('[name="item-cta-text"]'),ctaUrl:L.querySelector('[name="item-cta-url"]'),status:L.querySelector('[name="item-status"]')}:{},Z=document.querySelector("[data-item-status-badge]"),Ue=document.querySelector("[data-item-delete]"),ct=document.querySelector("[data-item-delete-modal]"),ks=document.querySelector("[data-item-delete-cancel]"),Et=document.querySelector("[data-item-delete-confirm]"),Zt=document.querySelector("[data-item-cancel]"),rs=document.querySelector("[data-item-save]"),Fe="rounded-full px-3 py-1 text-xs font-semibold",_t=Le((V==null?void 0:V.slugValue)||Y.slug||""),nt=_t?`/api/sites/${encodeURIComponent(_t)}/collections`:null,Ct=[],Me=[],Re=null,Pe=null,dt=!1,Yt=!1,zt=null,as=n=>{let i=(n||"").trim();if(!i)return"";if(i==="/")return"/";let I=i.replace(/^\//,"").split("/").map(U=>Kt(U||"")).filter(U=>U.length>0);return I.length?`/${I.join("/")}`:""},Ws=n=>{if(!n)return"\u2014";let i=new Date(n);return Number.isNaN(i.getTime())?"\u2014":i.toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric"})},Ot=()=>{let n=Ct.find(i=>i.id===Re);Te&&(Te.textContent=(n==null?void 0:n.name)||"S\xE9lectionnez une collection"),B&&(B.textContent=(n==null?void 0:n.description)||"")},Es=n=>{de&&(de.textContent=n||(Re?"Aucun item dans cette collection pour le moment.":"Choisissez une collection dans le panneau de gauche."))},qt=()=>{L&&(L.classList.add("hidden"),L.dataset.itemId=""),b==null||b.classList.remove("hidden"),Z&&(Z.className=`hidden ${Fe}`,Z.textContent=""),Ue&&(Ue.disabled=!0)},Ks=()=>{L&&(L.classList.remove("hidden"),b==null||b.classList.add("hidden"))},is=()=>{ot&&(ot.disabled=!Re,ot.disabled?ot.classList.add("opacity-60","pointer-events-none"):ot.classList.remove("opacity-60","pointer-events-none"))},Dt=n=>{if(!Z)return;if(!n){Z.className=`hidden ${Fe}`,Z.textContent="";return}let i=n.toLowerCase(),x="bg-slate-100 text-slate-600 border border-slate-200";i==="publi\xE9"||i==="publie"?x="bg-emerald-50 text-emerald-700 border border-emerald-100":i==="brouillon"&&(x="bg-amber-50 text-amber-700 border border-amber-100"),Z.className=`${Fe} ${x}`,Z.textContent=n},Cs=()=>{if(s.innerHTML="",se&&(se.textContent=Ct.length),!Ct.length){Ee==null||Ee.classList.remove("hidden");return}Ee==null||Ee.classList.add("hidden"),Ct.forEach(n=>{let i=n.id===Re,x=document.createElement("button");x.type="button",x.dataset.collectionId=n.id,x.className=["w-full rounded-xl border px-3 py-2 text-left transition focus:outline-none focus:ring-2 focus:ring-[#9C6BFF]/40",i?"bg-[#F7F0FF] border-[#9C6BFF]/40 text-slate-900":"border-slate-200 text-slate-700 hover:border-[#9C6BFF]/40"].join(" "),x.setAttribute("role","option"),i?x.setAttribute("aria-current","true"):x.removeAttribute("aria-current"),x.innerHTML=`
          <div class="flex items-center justify-between gap-2">
            <div>
              <p class="text-sm font-semibold">${n.name||n.id}</p>
              <p class="text-xs text-slate-500">${n.description||""}</p>
            </div>
            <span class="text-[11px] uppercase tracking-wide text-slate-400">${n.type||""}</span>
          </div>
        `,x.addEventListener("click",()=>{_s(n.id),window.matchMedia("(min-width: 1024px)").matches||y()}),s.appendChild(x)})},rt=()=>{if(It){if(It.innerHTML="",!Me.length||!Re){de==null||de.classList.remove("hidden"),Es(),Xe==null||Xe.classList.add("hidden");return}de==null||de.classList.add("hidden"),Xe==null||Xe.classList.remove("hidden"),Me.forEach(n=>{let i=document.createElement("tr");i.dataset.itemId=n.id;let x=n.id===Pe&&!dt;i.className=["cursor-pointer transition focus-within:bg-[#F7F0FF]/70 focus:outline-none",x?"bg-[#F7F0FF]/70":"hover:bg-slate-50"].join(" "),i.tabIndex=0,i.setAttribute("role","button"),x?i.setAttribute("aria-current","true"):i.removeAttribute("aria-current");let I=n.status||"Brouillon",U=I.toLowerCase(),Q=U==="publi\xE9"||U==="publie"?"bg-emerald-50 text-emerald-700 border border-emerald-100":"bg-amber-50 text-amber-700 border border-amber-100";i.innerHTML=`
          <td class="px-4 py-3 align-top">
            <div class="flex flex-col">
              <span class="text-sm font-semibold text-slate-900">${n.title||"Sans titre"}</span>
              <span class="text-xs text-slate-500">${n.summary||n.excerpt||""}</span>
            </div>
          </td>
          <td class="px-4 py-3 align-top text-sm text-slate-600">${n.slug||""}</td>
          <td class="px-4 py-3 align-top">
            <span class="inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold ${Q}">
              ${I}
            </span>
          </td>
          <td class="px-4 py-3 align-top text-sm text-slate-500">${Ws(n.updatedAt||n.createdAt)}</td>
        `;let ae=()=>{jt(n.id)};i.addEventListener("click",ae),i.addEventListener("keydown",J=>{(J.key==="Enter"||J.key===" ")&&(J.preventDefault(),ae())}),It.appendChild(i)})}},jt=n=>{let i=Me.find(x=>x.id===n);i&&(Pe=i.id,dt=!1,Yt=!0,qs(i),rt())},qs=n=>{var i,x;if(!L||!n){qt();return}Ks(),L.dataset.itemId=n.id,T.title&&(T.title.value=n.title||""),T.slug&&(T.slug.value=n.slug||""),T.excerpt&&(T.excerpt.value=n.summary||n.excerpt||""),T.content&&(T.content.value=n.content||""),T.image&&(T.image.value=n.image||""),T.ctaText&&(T.ctaText.value=((i=n.cta)==null?void 0:i.text)||n.ctaText||""),T.ctaUrl&&(T.ctaUrl.value=((x=n.cta)==null?void 0:x.url)||n.ctaUrl||""),T.status&&(T.status.value=n.status||"Brouillon"),Dt(n.status||"Brouillon"),Ue&&(Ue.disabled=!1)},Xt=()=>{var n;L&&(dt=!0,Pe=null,Yt=!1,L.dataset.itemId="",L.reset(),T.status&&(T.status.value="Brouillon"),T.slug&&(T.slug.value=""),Dt("Brouillon"),Ks(),Ue&&(Ue.disabled=!0),(n=T.title)==null||n.focus())},Eo=()=>{var ve,ze,Oe,Je,ie,Ce,De,Rt;let n=(((ve=T.title)==null?void 0:ve.value)||"").trim(),i=(((ze=T.slug)==null?void 0:ze.value)||"").trim(),x=(((Oe=T.excerpt)==null?void 0:Oe.value)||"").trim(),I=(((Je=T.content)==null?void 0:Je.value)||"").trim(),U=(((ie=T.image)==null?void 0:ie.value)||"").trim(),Q=(((Ce=T.ctaText)==null?void 0:Ce.value)||"").trim(),ae=(((De=T.ctaUrl)==null?void 0:De.value)||"").trim(),J=((Rt=T.status)==null?void 0:Rt.value)||"Brouillon",Ne=Q||ae?{text:Q,url:ae}:null;return{title:n,slug:as(i||n),summary:x,excerpt:x,content:I,image:U,status:J,...Ne&&{cta:Ne}}},Zs=n=>{rs&&(rs.disabled=n,rs.textContent=n?"Enregistrement\u2026":"Enregistrer"),Ue&&!dt&&Pe&&(Ue.disabled=n)},Co=async n=>{if(!nt)return[];let i=await fetch(`${nt}/${encodeURIComponent(n)}/items`,{headers:{Accept:"application/json"}});if(!i.ok){let I=await i.json().catch(()=>({}));throw new Error(I.message||"Impossible de charger les items.")}let x=await i.json().catch(()=>({}));return Array.isArray(x.items)?x.items:[]},_s=async n=>{if(n&&(Re=n,Pe=null,dt=!1,Yt=!1,ke("collection"),Ot(),is(),Cs(),qt(),Me=[],rt(),Es("Chargement des items\u2026"),de==null||de.classList.remove("hidden"),Xe==null||Xe.classList.add("hidden"),!!nt))try{Me=await Co(n),rt(),Me.length||Es()}catch(i){console.error("[content] items failed",i),j(i.message||"Impossible de charger les items."),Me=[],rt()}},Ys=async(n,i)=>{if(!nt)throw new Error("Site inconnu.");let x=await fetch(`${nt}/${encodeURIComponent(n)}/items`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!x.ok){let I=await x.json().catch(()=>({}));throw new Error(I.message||"Impossible de cr\xE9er cet item.")}return x.json()},Ht=async(n,i,x)=>{if(!nt)throw new Error("Site inconnu.");let I=await fetch(`${nt}/${encodeURIComponent(n)}/items/${encodeURIComponent(i)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(x)});if(!I.ok){let U=await I.json().catch(()=>({}));throw new Error(U.message||"Impossible de sauvegarder cet item.")}return I.json()},qo=async(n,i)=>{if(!nt)throw new Error("Site inconnu.");let x=await fetch(`${nt}/${encodeURIComponent(n)}/items/${encodeURIComponent(i)}`,{method:"DELETE"});if(!x.ok){let I=await x.json().catch(()=>({}));throw new Error(I.message||"Impossible de supprimer cet item.")}},Ut=async()=>{var n;if(!nt){Ee==null||Ee.classList.remove("hidden"),Re=null,Me=[],rt(),Ot(),is();return}try{let i=await fetch(nt,{headers:{Accept:"application/json"}});if(!i.ok)throw new Error("Impossible de charger les collections.");let x=await i.json().catch(()=>[]);if(Ct=Array.isArray(x)?x:[],Cs(),Ct.length>0){let I=((n=Ct.find(U=>U.id===Re))==null?void 0:n.id)||Ct[0].id;_s(I)}else Re=null,Me=[],Ot(),is(),rt()}catch(i){console.error("[content] load collections",i),j(i.message||"Impossible de charger les collections.")}};ot==null||ot.addEventListener("click",()=>{if(!Re){j("S\xE9lectionnez d\u2019abord une collection.");return}Xt(),rt()}),Zt==null||Zt.addEventListener("click",n=>{if(n.preventDefault(),dt){dt=!1,Pe=null,qt(),rt();return}if(Pe){let i=Me.find(x=>x.id===Pe);qs(i)}else qt()}),(Xs=T.status)==null||Xs.addEventListener("change",()=>{Dt(T.status.value)}),(Bt=T.title)==null||Bt.addEventListener("input",()=>{!dt||!T.slug||Yt||(T.slug.value=as(T.title.value))}),(ut=T.slug)==null||ut.addEventListener("input",()=>{dt&&(Yt=!0)}),L==null||L.addEventListener("submit",async n=>{var x;if(n.preventDefault(),!Re){j("S\xE9lectionnez une collection.");return}let i=Eo();if(!i.title){j("Le titre est requis."),(x=T.title)==null||x.focus();return}Zs(!0);try{let I;dt||!Pe?(I=await Ys(Re,i),Me=[...Me,I],j("Item cr\xE9\xE9")):(I=await Ht(Re,Pe,i),Me=Me.map(U=>U.id===I.id?I:U),j("Item mis \xE0 jour")),dt=!1,Pe=I.id,qs(I),rt()}catch(I){console.error("[content] save item failed",I),j(I.message||"Impossible de sauvegarder cet item.")}finally{Zs(!1)}});let Ve=()=>{ct&&(ct.classList.add("hidden"),ct.classList.remove("flex"),zt=null)},Ao=()=>{!ct||!Pe||(zt=Pe,ct.classList.remove("hidden"),ct.classList.add("flex"))};Ue==null||Ue.addEventListener("click",n=>{n.preventDefault(),Pe&&Ao()}),ks==null||ks.addEventListener("click",()=>{Ve()}),ct==null||ct.addEventListener("click",n=>{n.target===ct&&Ve()}),Et==null||Et.addEventListener("click",async()=>{if(!zt||!Re){Ve();return}Et.disabled=!0,Et.textContent="Suppression\u2026";try{await qo(Re,zt),Me=Me.filter(n=>n.id!==zt),Pe===zt&&(Pe=null,qt()),j("Item supprim\xE9"),rt()}catch(n){console.error("[content] delete item failed",n),j(n.message||"Impossible de supprimer cet item.")}finally{Et.disabled=!1,Et.textContent="Supprimer",Ve()}}),Ot(),is(),Ut()}function On(){let s=document.querySelector("[data-deploy-form]");if(!s)return;let a=document.querySelector("[data-deploy-protocol]"),l=document.querySelector("[data-deploy-host]"),u=document.querySelector("[data-deploy-port]"),g=document.querySelector("[data-deploy-user]"),w=document.querySelector("[data-deploy-password]"),O=document.querySelector("[data-deploy-show-password]"),W=document.querySelector("[data-deploy-remote-path]"),z=document.querySelector("[data-deploy-feedback]"),ne=document.querySelector("[data-deploy-save]"),se=document.querySelector("[data-deploy-test]"),p=document.querySelector("[data-deploy-trigger]"),C=document.querySelector("[data-deploy-history]"),q=document.querySelector("[data-deploy-log]"),k=Le((V==null?void 0:V.slugValue)||Y.slug||""),P=k?`/api/sites/${encodeURIComponent(k)}/deploy-config`:null,N=k?`/api/sites/${encodeURIComponent(k)}/deploy`:null,D=k?`/api/sites/${encodeURIComponent(k)}/deploy-log`:null,R=!1,d=null,A=y=>{let h=(y||"").trim();return h?h.startsWith("/")?h:`/${h}`:"/www"},E=(y,h="muted")=>{if(!z)return;let S="inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold",G=h==="success"?"bg-emerald-50 text-emerald-700 border border-emerald-100":h==="error"?"bg-rose-50 text-rose-700 border border-rose-100":"bg-slate-50 text-slate-600 border border-slate-100";if(!y){z.textContent="",z.className="text-sm text-slate-500";return}let re=h==="success"?"\u2705":h==="error"?"\u274C":"\u2139\uFE0F";z.innerHTML=`<span class="${S} ${G}">${re}<span>${y}</span></span>`,z.className="text-sm"},$=(y=null)=>{d=y;let h=!!y,S='<svg class="h-4 w-4 animate-spin text-white" viewBox="0 0 24 24" fill="none" aria-hidden="true"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"></path></svg>';ne&&(ne.disabled=h,ne.innerHTML=y==="save"?`<span class="inline-flex items-center gap-2">${S}<span>Enregistrement\u2026</span></span>`:"Enregistrer"),se&&(se.disabled=h,se.innerHTML=y==="test"?'<span class="inline-flex items-center gap-2"><span class="h-4 w-4 animate-spin rounded-full border-2 border-slate-200 border-t-slate-600"></span><span>Test en cours\u2026</span></span>':"Tester la connexion"),p&&(p.disabled=h&&y!==null,p.innerHTML=y==="deploy"?'<span class="inline-flex items-center gap-2"><span class="h-4 w-4 animate-spin rounded-full border-2 border-white/60 border-t-white"></span><span>D\xE9ploiement\u2026</span></span>':"D\xE9ployer maintenant")},te=y=>{a&&(a.value=y.protocol||"sftp"),l&&(l.value=y.host||""),u&&(u.value=y.port||""),g&&(g.value=y.user||""),W&&(W.value=y.remotePath||"/www"),R=!!y.hasPassword,w&&(w.value="",w.placeholder=R?"Non affich\xE9":"Mot de passe")},K=(y=[])=>{if(C){if(C.innerHTML="",!y.length){let h=document.createElement("li");h.className="text-slate-500",h.textContent="Aucun d\xE9ploiement pour le moment.",C.appendChild(h);return}y.forEach(h=>{let S=document.createElement("li");S.className="flex items-center justify-between gap-2 rounded-xl border border-slate-200 px-3 py-2";let G=h.status==="success"?'<span class="rounded-full bg-emerald-50 px-2 py-0.5 text-[11px] font-semibold text-emerald-700">Succ\xE8s</span>':'<span class="rounded-full bg-rose-50 px-2 py-0.5 text-[11px] font-semibold text-rose-700">\xC9chec</span>',re=h.finishedAt||h.startedAt||"",ge=h.durationMs&&Number(h.durationMs)>=0?`${Math.round(Number(h.durationMs)/1e3)}s`:"";S.innerHTML=`
          <div class="space-y-1">
            <div class="flex items-center gap-2">${G}<span class="text-xs text-slate-500">${re}</span></div>
            <p class="text-sm text-slate-800">${h.message||""}</p>
          </div>
          <div class="text-xs text-slate-500">${ge}</div>
        `,S.dataset.deployId=h.id||"",S.addEventListener("click",()=>{h.logs&&q&&(q.textContent=h.logs.join(`
`))}),C.appendChild(S)})}},X=(y=[])=>{q&&(q.textContent=y.length?y.join(`
`):"Aucun log pour le moment.")},pe=async()=>{var y;if(D)try{let h=await fetch(D,{headers:{Accept:"application/json"}});if(!h.ok){if(h.status===404){K([]),X(["API d\xE9ploiement indisponible (red\xE9marre le serveur)."]);return}throw new Error("Impossible de charger l\u2019historique.")}let S=await h.json().catch(()=>({})),G=Array.isArray(S.entries)?S.entries:[];K(G),(y=G[0])!=null&&y.logs&&X(G[0].logs)}catch(h){console.error("[deploy] history failed",h)}},me=async()=>{if(!P){E("Aucun site actif s\xE9lectionn\xE9.","error");return}$("load");try{let y=await fetch(P,{headers:{Accept:"application/json"}}),h=await y.json().catch(()=>({}));y.ok?(te(h||{}),E("Configuration charg\xE9e.","muted")):(te(h||{}),E(h.message||"Configuration par d\xE9faut charg\xE9e.","muted"))}catch(y){console.error("[deploy] load failed",y),E(y.message||"Erreur lors du chargement.","error")}finally{$(null)}},qe=()=>{let y={protocol:(a==null?void 0:a.value)||"sftp",host:(l==null?void 0:l.value.trim())||"",port:Number(u==null?void 0:u.value)||void 0,user:(g==null?void 0:g.value.trim())||"",remotePath:A((W==null?void 0:W.value)||"/www")},h=(w==null?void 0:w.value)||"";return h.trim().length>0&&(y.password=h),y};s.addEventListener("submit",async y=>{if(y.preventDefault(),!P){E("Aucun site actif s\xE9lectionn\xE9.","error");return}let h=qe();$("save");try{let S=await fetch(P,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)});if(!S.ok){let re=await S.json().catch(()=>({}));throw new Error(re.message||"Sauvegarde impossible.")}let G=await S.json();te(G||{}),E("Configuration enregistr\xE9e.","success"),j("Configuration d\xE9ploiement sauvegard\xE9e")}catch(S){console.error("[deploy] save failed",S),E(S.message||"Erreur lors de la sauvegarde.","error")}finally{$(null)}}),se==null||se.addEventListener("click",async()=>{if(!P){E("Aucun site actif s\xE9lectionn\xE9.","error");return}let y=qe();if(!y.host||!y.user||!y.remotePath){E("Remplissez les champs requis avant de tester.","error");return}$("test");try{let h=await fetch(`${P}/test`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)}),S=await h.json().catch(()=>({}));if(!h.ok||S.success===!1){E(S.message||"Test de connexion \xE9chou\xE9.","error");return}E(S.message||"Connexion OK.","success"),j("Test de connexion r\xE9ussi")}catch(h){console.error("[deploy] test failed",h),E(h.message||"Test de connexion \xE9chou\xE9.","error")}finally{$(null)}}),p==null||p.addEventListener("click",async()=>{if(!N){E("Aucun site actif s\xE9lectionn\xE9.","error");return}$("deploy"),X(["D\xE9ploiement en cours\u2026"]);try{let y=await fetch(N,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(qe())}),h=await y.json().catch(()=>({}));if(!y.ok){if(y.status===404){E("API d\xE9ploiement indisponible (red\xE9marre le serveur).","error"),X(["API d\xE9ploiement indisponible (red\xE9marre le serveur)."]);return}throw X(h.logs||[]),new Error(h.message||"D\xE9ploiement \xE9chou\xE9.")}X(h.logs||[]),await pe(),j("D\xE9ploiement termin\xE9")}catch(y){console.error("[deploy] run failed",y),E(y.message||"D\xE9ploiement \xE9chou\xE9.","error")}finally{$(null)}}),O==null||O.addEventListener("change",()=>{w&&(w.type=O.checked?"text":"password")});let fe=document.querySelector("[data-download-build]"),we=document.querySelector("[data-download-feedback]"),ke=k?`/api/sites/${encodeURIComponent(k)}/download`:null,H=(y,h="muted")=>{if(!we)return;let S=h==="success"?"text-emerald-600":h==="error"?"text-rose-600":"text-slate-500";we.textContent=y||"",we.className=`text-sm ${S}`};fe==null||fe.addEventListener("click",async()=>{if(!ke){H("Aucun site actif s\xE9lectionn\xE9.","error");return}fe.disabled=!0;let y=fe.innerHTML;fe.innerHTML=`
        <svg class="w-4 h-4 animate-spin" fill="none" viewBox="0 0 24 24">
          <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
          <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"></path>
        </svg>
        <span>Build en cours...</span>
      `,H("G\xE9n\xE9ration du build en cours...","muted");try{let h=await fetch(ke);if(!h.ok){let ge=await h.json().catch(()=>({}));throw new Error(ge.message||"Impossible de g\xE9n\xE9rer le ZIP.")}let S=await h.blob(),G=window.URL.createObjectURL(S),re=document.createElement("a");re.href=G,re.download=`${k}-build.zip`,document.body.appendChild(re),re.click(),document.body.removeChild(re),window.URL.revokeObjectURL(G),H("T\xE9l\xE9chargement termin\xE9 !","success"),j("Build t\xE9l\xE9charg\xE9 avec succ\xE8s")}catch(h){console.error("[download] failed",h),H(h.message||"Erreur lors du t\xE9l\xE9chargement.","error")}finally{fe.disabled=!1,fe.innerHTML=y}}),me(),pe()}function Vn(){let s=document.querySelectorAll("[data-settings-tab]"),a=document.querySelectorAll("[data-settings-panel]"),l=document.querySelector("[data-admin-password-form]"),u=document.querySelector("[data-site-config-form]"),g=document.querySelector("[data-site-config-feedback]"),w=document.querySelector("[data-theme-form]"),O=p=>{s.forEach(C=>{let q=C.dataset.settingsTab===p;C.setAttribute("aria-selected",q?"true":"false"),C.classList.toggle("bg-[#9C6BFF]",q),C.classList.toggle("text-white",q)}),a.forEach(C=>{C.classList.toggle("hidden",C.dataset.settingsPanel!==p)})};if(s.forEach(p=>{p.addEventListener("click",()=>O(p.dataset.settingsTab||"account"))}),O("account"),l){let p=l.querySelector("[data-admin-password-feedback]"),C=l.querySelector("[data-admin-password-submit]"),q=(k,P="muted")=>{if(!p)return;let N=P==="success"?"text-emerald-600":P==="error"?"text-rose-600":"text-slate-500";p.textContent=k||"",p.className=`text-sm ${N}`};l.addEventListener("submit",async k=>{k.preventDefault();let P=new FormData(l),N=P.get("currentPassword")||"",D=P.get("newPassword")||"",R=P.get("confirmPassword")||"";if(!N||!D||!R){q("Compl\xE8te tous les champs.","error");return}C&&(C.disabled=!0),q("");try{let d=await fetch("/api/admin/password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentPassword:N,newPassword:D,confirmPassword:R})}),A=await d.json().catch(()=>({}));if(!d.ok||A.success===!1)throw new Error(A.message||"Impossible de mettre \xE0 jour le mot de passe.");q(A.message||"Mot de passe mis \xE0 jour.","success"),l.reset()}catch(d){console.error("[settings] change password failed",d),q(d.message||"Erreur lors de la mise \xE0 jour.","error")}finally{C&&(C.disabled=!1)}})}if(u){let p=u.querySelector("[data-site-name]"),C=u.querySelector("[data-site-language]"),q=u.querySelector("[data-site-tagline]"),k=u.querySelector("[data-site-save]"),P=(d,A="muted")=>{if(!g)return;let E=A==="success"?"text-emerald-600":A==="error"?"text-rose-600":"text-slate-500";g.textContent=d||"",g.className=`text-sm ${E}`},N=Le((V==null?void 0:V.slugValue)||Y.slug||""),D=N?`/api/sites/${encodeURIComponent(N)}/config/site`:null,R=async()=>{if(D)try{let d=await fetch(D,{headers:{Accept:"application/json"}});if(!d.ok)return;let A=await d.json().catch(()=>({}));p&&(p.value=A.name||""),C&&(C.value=A.language||"fr"),q&&(q.value=A.tagline||"")}catch(d){console.error("[settings] load site config failed",d)}};u.addEventListener("submit",async d=>{if(d.preventDefault(),!D){P("Aucun site actif.","error");return}if(!(p!=null&&p.value.trim())){P("Nom requis.","error");return}k&&(k.disabled=!0),P("");try{let A={name:(p==null?void 0:p.value)||"",language:(C==null?void 0:C.value)||"fr",tagline:(q==null?void 0:q.value)||""},E=await fetch(D,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(A)}),$=await E.json().catch(()=>({}));if(!E.ok||$.success===!1)throw new Error($.message||"Sauvegarde impossible.");P($.message||"Param\xE8tres enregistr\xE9s.","success")}catch(A){console.error("[settings] save site config failed",A),P(A.message||"Erreur lors de la sauvegarde.","error")}finally{k&&(k.disabled=!1)}}),R()}if(w){let p=Le((V==null?void 0:V.slugValue)||Y.slug||""),C=p?`/api/sites/${encodeURIComponent(p)}/config/theme`:null,q={primary:w.querySelector("[data-theme-primary]"),secondary:w.querySelector("[data-theme-secondary]"),accent:w.querySelector("[data-theme-accent]"),background:w.querySelector("[data-theme-background]"),text:w.querySelector("[data-theme-text]")},k=w.querySelector("[data-theme-headings]"),P=w.querySelector("[data-theme-body]"),N=w.querySelector("[data-theme-radius-small]"),D=w.querySelector("[data-theme-radius-medium]"),R=w.querySelector("[data-theme-radius-large]"),d=w.querySelector("[data-theme-preview]"),A=w.querySelector("[data-theme-feedback]"),E=w.querySelector("[data-theme-apply]"),$=["slate","gray","zinc","neutral","stone","red","orange","amber","yellow","lime","green","emerald","teal","cyan","sky","blue","indigo","violet","purple","fuchsia","pink","rose"],te=["50","100","200","300","400","500","600","700","800","900"],K=$.flatMap(H=>te.map(y=>`${H}-${y}`)),X=()=>{Object.values(q).forEach(H=>{!H||H.options.length||K.forEach(y=>{let h=document.createElement("option");h.value=y;let[S,G]=y.split("-");h.textContent=`${S.charAt(0).toUpperCase()+S.slice(1)} ${G}`,H.appendChild(h)})})},pe=(H,y="muted")=>{if(!A)return;let h=y==="success"?"text-emerald-600":y==="error"?"text-rose-600":"text-slate-500";A.textContent=H||"",A.className=`text-sm ${h}`},me=()=>{var y,h,S,G,re;if(!d)return;let H=ge=>{if(!ge)return null;if(ge==="white")return"#ffffff";if(ge==="black")return"#000000";if(ge==="transparent")return"transparent";let[he,_e]=ge.split("-");if(!he||!_e)return null;let Ye={slate:"#e2e8f0",gray:"#d1d5db",zinc:"#d4d4d8",neutral:"#d4d4d4",stone:"#d6d3d1",red:"#ef4444",orange:"#f97316",amber:"#f59e0b",yellow:"#eab308",lime:"#84cc16",green:"#22c55e",emerald:"#10b981",teal:"#14b8a6",cyan:"#06b6d4",sky:"#0ea5e9",blue:"#3b82f6",indigo:"#6366f1",violet:"#8b5cf6",purple:"#a855f7",fuchsia:"#d946ef",pink:"#ec4899",rose:"#f43f5e"}[he];if(!Ye)return null;let Ae=Number(_e)||500,je=Math.min(Math.max((Ae-50)/900,0),1),Ee=B=>B.match(/[A-Fa-f0-9]{2}/g).map(ot=>parseInt(ot,16)),[de,Xe,It]=Ee(Ye.replace("#","")),Te=B=>Math.round(255-(255-B)*je);return`rgb(${Te(de)}, ${Te(Xe)}, ${Te(It)})`};d.style.setProperty("--color-primary",H((y=q.primary)==null?void 0:y.value)||"#9C6BFF"),d.style.setProperty("--color-secondary",H((h=q.secondary)==null?void 0:h.value)||"#0EA5E9"),d.style.setProperty("--color-accent",H((S=q.accent)==null?void 0:S.value)||"#F97316"),d.style.setProperty("--color-background",H((G=q.background)==null?void 0:G.value)||"#FFFFFF"),d.style.setProperty("--color-text",H((re=q.text)==null?void 0:re.value)||"#0F172A"),d.style.setProperty("--font-headings",(k==null?void 0:k.value)||"Inter, sans-serif"),d.style.setProperty("--font-body",(P==null?void 0:P.value)||"Inter, sans-serif"),d.style.setProperty("--radius-small",(N==null?void 0:N.value)||"8px"),d.style.setProperty("--radius-medium",(D==null?void 0:D.value)||"16px"),d.style.setProperty("--radius-large",(R==null?void 0:R.value)||"24px"),d.style.borderRadius=(D==null?void 0:D.value)||"16px"},qe=(H,y)=>{q[H]&&(q[H].value=y)},fe=H=>{var G,re;if(!H)return;let y=H.options[H.selectedIndex],h=((G=y==null?void 0:y.dataset)==null?void 0:G.color)||"#ffffff",S=(re=H.closest(".relative"))==null?void 0:re.querySelector("[data-color-preview]");S&&(h==="transparent"?S.style.background="repeating-conic-gradient(#ccc 0% 25%, white 0% 50%) 50% / 8px 8px":(S.style.backgroundColor=h,S.style.background=""))},we=()=>{Object.values(q).forEach(H=>{H&&(fe(H),H.addEventListener("change",()=>fe(H)))})};Object.keys(q).forEach(H=>{var y;(y=q[H])==null||y.addEventListener("change",me)}),[k,P,N,D,R].forEach(H=>{H==null||H.addEventListener("change",me)});let ke=async()=>{var H,y,h,S,G,re,ge,he,_e,ce;if(C)try{let Ye=await fetch(C,{headers:{Accept:"application/json"},credentials:"include"});if(!Ye.ok)return;let Ae=await Ye.json().catch(()=>({}));qe("primary",((H=Ae.colors)==null?void 0:H.primary)||"violet-500"),qe("secondary",((y=Ae.colors)==null?void 0:y.secondary)||"indigo-400"),qe("accent",((h=Ae.colors)==null?void 0:h.accent)||"emerald-500"),qe("background",((S=Ae.colors)==null?void 0:S.background)||"slate-50"),qe("text",((G=Ae.colors)==null?void 0:G.text)||"slate-900"),k&&(k.value=((re=Ae.typography)==null?void 0:re.headings)||"Inter, sans-serif"),P&&(P.value=((ge=Ae.typography)==null?void 0:ge.body)||"Inter, sans-serif"),N&&(N.value=((he=Ae.radius)==null?void 0:he.small)||"8px"),D&&(D.value=((_e=Ae.radius)==null?void 0:_e.medium)||"16px"),R&&(R.value=((ce=Ae.radius)==null?void 0:ce.large)||"24px"),me(),Object.values(q).forEach(fe)}catch(Ye){console.error("[settings] load theme failed",Ye)}};X(),we(),E==null||E.addEventListener("click",async H=>{var h,S,G,re,ge;if(H.preventDefault(),!C){pe("Aucun site actif.","error");return}let y={colors:{primary:((h=q.primary)==null?void 0:h.value)||"violet-500",secondary:((S=q.secondary)==null?void 0:S.value)||"indigo-400",accent:((G=q.accent)==null?void 0:G.value)||"emerald-500",background:((re=q.background)==null?void 0:re.value)||"slate-50",text:((ge=q.text)==null?void 0:ge.value)||"slate-900"},typography:{headings:(k==null?void 0:k.value)||"Inter, sans-serif",body:(P==null?void 0:P.value)||"Inter, sans-serif"},radius:{small:(N==null?void 0:N.value)||"8px",medium:(D==null?void 0:D.value)||"16px",large:(R==null?void 0:R.value)||"24px"}};E.disabled=!0,pe("");try{let he=await fetch(C,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(y)}),_e=await he.json().catch(()=>({}));if(!he.ok||_e.success===!1)throw new Error(_e.message||"Application du th\xE8me \xE9chou\xE9e.");pe(_e.message||"Th\xE8me appliqu\xE9.","success"),me()}catch(he){console.error("[settings] apply theme failed",he),pe(he.message||"Erreur lors de l\u2019application du th\xE8me.","error")}finally{E.disabled=!1}}),X(),we(),ke(),me()}let W=document.querySelector("[data-seo-config-form]");if(W){let p=W.querySelector("[data-seo-index-all]"),C=W.querySelector("[data-seo-config-feedback]"),q=W.querySelector("[data-seo-save]"),k=Le((V==null?void 0:V.slugValue)||Y.slug||""),P=k?`/api/sites/${encodeURIComponent(k)}/config/site`:null,N=(R,d="muted")=>{if(!C)return;let A=d==="success"?"text-emerald-600":d==="error"?"text-rose-600":"text-slate-500";C.textContent=R||"",C.className=`text-sm ${A}`},D=async()=>{var R;if(P)try{let d=await fetch(P,{headers:{Accept:"application/json"}});if(!d.ok)return;let E=((R=(await d.json().catch(()=>({}))).seo)==null?void 0:R.indexAllPagesByDefault)!==!1;p&&(p.checked=E)}catch(d){console.error("[settings] load seo config failed",d)}};W.addEventListener("submit",async R=>{var d;if(R.preventDefault(),!P){N("Aucun site actif.","error");return}q&&(q.disabled=!0),N("");try{let A=await fetch(P,{headers:{Accept:"application/json"}}),E=A.ok?await A.json().catch(()=>({})):{},$={...E,seo:{...E.seo||{},indexAllPagesByDefault:(d=p==null?void 0:p.checked)!=null?d:!0}},te=await fetch(P,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify($)}),K=await te.json().catch(()=>({}));if(!te.ok||K.success===!1)throw new Error(K.message||"Sauvegarde impossible.");N(K.message||"Param\xE8tres SEO enregistr\xE9s.","success")}catch(A){console.error("[settings] save seo config failed",A),N(A.message||"Erreur lors de la sauvegarde.","error")}finally{q&&(q.disabled=!1)}}),D()}let z=document.querySelector("[data-analytics-form]");if(z){let p=z.querySelector("[data-analytics-head]"),C=z.querySelector("[data-analytics-body]"),q=z.querySelector("[data-analytics-feedback]"),k=z.querySelector("[data-analytics-save]"),P=Le((V==null?void 0:V.slugValue)||Y.slug||""),N=P?`/api/sites/${encodeURIComponent(P)}/config/site`:null,D=(d,A="muted")=>{if(!q)return;let E=A==="success"?"text-emerald-600":A==="error"?"text-rose-600":"text-slate-500";q.textContent=d||"",q.className=`text-sm ${E}`},R=async()=>{var d,A;if(N)try{let E=await fetch(N,{headers:{Accept:"application/json"}});if(!E.ok)return;let $=await E.json().catch(()=>({}));p&&(p.value=((d=$.analytics)==null?void 0:d.headCode)||""),C&&(C.value=((A=$.analytics)==null?void 0:A.bodyEndCode)||"")}catch(E){console.error("[settings] load analytics config failed",E)}};z.addEventListener("submit",async d=>{if(d.preventDefault(),!N){D("Aucun site actif.","error");return}k&&(k.disabled=!0),D("");try{let A=await fetch(N,{headers:{Accept:"application/json"}}),$={...A.ok?await A.json().catch(()=>({})):{},analytics:{headCode:(p==null?void 0:p.value)||"",bodyEndCode:(C==null?void 0:C.value)||""}},te=await fetch(N,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify($)}),K=await te.json().catch(()=>({}));if(!te.ok||K.success===!1)throw new Error(K.message||"Sauvegarde impossible.");D(K.message||"Scripts enregistr\xE9s.","success")}catch(A){console.error("[settings] save analytics config failed",A),D(A.message||"Erreur lors de la sauvegarde.","error")}finally{k&&(k.disabled=!1)}}),R()}let ne=document.querySelector("[data-accessibility-form]");if(ne){let p=ne.querySelector("[data-accessibility-animations]"),C=ne.querySelector("[data-accessibility-contrast]"),q=ne.querySelector("[data-accessibility-feedback]"),k=ne.querySelector("[data-accessibility-save]"),P=Le((V==null?void 0:V.slugValue)||Y.slug||""),N=P?`/api/sites/${encodeURIComponent(P)}/config/site`:null,D=(d,A="muted")=>{if(!q)return;let E=A==="success"?"text-emerald-600":A==="error"?"text-rose-600":"text-slate-500";q.textContent=d||"",q.className=`text-sm ${E}`},R=async()=>{var d,A;if(N)try{let E=await fetch(N,{headers:{Accept:"application/json"}});if(!E.ok)return;let $=await E.json().catch(()=>({}));p&&(p.checked=((d=$.accessibility)==null?void 0:d.animationsEnabled)!==!1),C&&(C.checked=((A=$.accessibility)==null?void 0:A.highContrast)===!0)}catch(E){console.error("[settings] load accessibility config failed",E)}};ne.addEventListener("submit",async d=>{var A,E;if(d.preventDefault(),!N){D("Aucun site actif.","error");return}k&&(k.disabled=!0),D("");try{let $=await fetch(N,{headers:{Accept:"application/json"}}),K={...$.ok?await $.json().catch(()=>({})):{},accessibility:{animationsEnabled:(A=p==null?void 0:p.checked)!=null?A:!0,highContrast:(E=C==null?void 0:C.checked)!=null?E:!1}},X=await fetch(N,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(K)}),pe=await X.json().catch(()=>({}));if(!X.ok||pe.success===!1)throw new Error(pe.message||"Sauvegarde impossible.");D(pe.message||"Pr\xE9f\xE9rences mises \xE0 jour.","success")}catch($){console.error("[settings] save accessibility config failed",$),D($.message||"Erreur lors de la sauvegarde.","error")}finally{k&&(k.disabled=!1)}}),R()}let se=document.querySelector("[data-ai-config-form]");if(se){let p=se.querySelector("[data-ai-api-key]"),C=se.querySelector("[data-ai-model]"),q=se.querySelector("[data-ai-project-prompt]"),k=se.querySelector("[data-ai-enabled]"),P=se.querySelector("[data-ai-feedback]"),N=se.querySelector("[data-ai-save]"),D=Le((V==null?void 0:V.slugValue)||Y.slug||""),R=D?`/api/sites/${encodeURIComponent(D)}/config/ai`:null,d=(E,$="muted")=>{if(!P)return;let te=$==="success"?"text-emerald-600":$==="error"?"text-rose-600":"text-slate-500";P.textContent=E||"",P.className=`text-sm ${te}`},A=async()=>{if(R)try{let E=await fetch(R,{headers:{Accept:"application/json"}});if(!E.ok)return;let $=await E.json().catch(()=>({}));p&&(p.value="",p.placeholder=$.hasApiKey?"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022":"Cl\xE9 API Gemini"),C&&(C.value=$.model||"gemini-2.5-flash"),q&&(q.value=$.projectPrompt||""),k&&(k.checked=$.enabled!==!1)}catch(E){console.error("[settings] load AI config failed",E)}};se.addEventListener("submit",async E=>{var $,te;if(E.preventDefault(),!R){d("Aucun site actif.","error");return}N&&(N.disabled=!0),d("");try{let K={model:(C==null?void 0:C.value)||"gemini-2.5-flash",projectPrompt:(q==null?void 0:q.value)||"",enabled:($=k==null?void 0:k.checked)!=null?$:!0},X=(te=p==null?void 0:p.value)==null?void 0:te.trim();X&&(K.apiKey=X);let pe=await fetch(R,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(K)}),me=await pe.json().catch(()=>({}));if(!pe.ok||me.success===!1)throw new Error(me.message||"Sauvegarde impossible.");d(me.message||"Configuration IA enregistr\xE9e.","success"),p&&(p.value="",p.placeholder="\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022")}catch(K){console.error("[settings] save AI config failed",K),d(K.message||"Erreur lors de la sauvegarde.","error")}finally{N&&(N.disabled=!1)}}),A()}}function Jn(){let s=document.querySelector("[data-media-grid]");if(!s)return;let a=document.querySelector("[data-media-empty]"),l=document.querySelector("[data-media-count]"),u=document.querySelector("[data-media-filter-type]"),g=document.querySelector("[data-media-detail-empty]"),w=document.querySelector("[data-media-detail]"),O=document.querySelector("[data-media-detail-preview]"),W=document.querySelector("[data-media-detail-name]"),z=document.querySelector("[data-media-detail-type]"),ne=document.querySelector("[data-media-detail-size]"),se=document.querySelector("[data-media-detail-path]"),p=document.querySelector("[data-media-detail-used]"),C=document.querySelector("[data-media-alt-edit]"),q=document.querySelector("[data-media-save]"),k=document.querySelector("[data-media-delete]"),P=document.querySelector("[data-media-delete-modal]"),N=document.querySelector("[data-media-delete-cancel]"),D=document.querySelector("[data-media-delete-confirm]"),R=document.querySelector("[data-media-upload-open]"),d=document.querySelector("[data-media-file-input]"),A=document.querySelector("[data-media-upload-status]"),E=Le((V==null?void 0:V.slugValue)||Y.slug||""),$=E?`/api/sites/${encodeURIComponent(E)}/media`:null,te=[],K=[],X=null,pe=null,me=null,qe=!1,fe=!1,we=!1,ke=null,H=b=>{let L=(b.type||"").toLowerCase(),T=(b.filename||"").toLowerCase();return L.includes("image")||/\.(png|jpe?g|webp|svg|gif)$/i.test(T)?"image":L.includes("pdf")||L.includes("doc")||/\.(pdf|docx?)$/i.test(T)?"document":L.includes("video")||/\.(mp4|mov|webm)$/i.test(T)?"video":"other"},y=b=>H(b)==="image",h=b=>{if(b.type)return b.type.toUpperCase();let L=(b.filename||"").split(".").pop();return L?L.toUpperCase():"FILE"},S=b=>!b||b<=0?"\u2014":b<1024?`${b} o`:b<1024*1024?`${(b/1024).toFixed(1)} ko`:`${(b/(1024*1024)).toFixed(1)} Mo`,G=()=>{w==null||w.classList.add("hidden"),g==null||g.classList.remove("hidden"),re(),X=null,fe=!1,ce(!1),O&&(O.innerHTML='<span class="text-slate-400 text-sm">Aucun m\xE9dia s\xE9lectionn\xE9</span>'),W&&(W.textContent=""),z&&(z.textContent=""),ne&&(ne.textContent=""),C&&(C.value=""),se&&(se.textContent=""),p&&(p.innerHTML="")},re=()=>{me=null,we=!1,qe=!1,ke&&(URL.revokeObjectURL(ke),ke=null),A&&(A.textContent="Aucun fichier s\xE9lectionn\xE9."),d&&(d.value="")},ge=()=>{l&&(K.length?K.length===1?l.textContent="1 m\xE9dia":l.textContent=`${K.length} m\xE9dias`:l.textContent="0 m\xE9dia")},he=()=>{if(s.innerHTML="",!K.length){a==null||a.classList.remove("hidden"),G();return}a==null||a.classList.add("hidden"),K.forEach(b=>{let L=document.createElement("button");L.type="button",L.dataset.mediaId=b.id;let T=b.id===X;L.className=["group relative flex flex-col rounded-2xl border px-3 py-3 text-left transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[#9C6BFF]",T?"border-[#9C6BFF] bg-[#F7F0FF]/60 shadow-sm":"border-slate-200 hover:border-[#9C6BFF]/40"].join(" ");let Z=y(b)?`<img src="${b.path}" alt="${b.alt||b.filename}" class="h-full w-full object-cover" />`:'<div class="flex h-full w-full items-center justify-center text-3xl text-slate-400">\u{1F4C4}</div>';L.innerHTML=`
          <div class="relative aspect-[4/3] overflow-hidden rounded-xl bg-slate-100">
            ${Z}
          </div>
          <div class="mt-2 space-y-1">
            <p class="text-sm font-semibold text-slate-900 truncate">${b.filename}</p>
            <p class="text-xs text-slate-500">
              ${h(b)} \xB7 ${S(b.size)}
            </p>
          </div>
        `,b.id===pe&&(L.classList.add("ring-2","ring-[#9C6BFF]"),window.setTimeout(()=>{L.classList.remove("ring-2","ring-[#9C6BFF]")},1600)),L.addEventListener("click",()=>Ye(b.id)),s.appendChild(L)}),pe=null},_e=b=>{if(p){if(p.innerHTML="",!b.usedIn||b.usedIn.length===0){let L=document.createElement("li");L.textContent="Non utilis\xE9",L.className="text-xs text-slate-400",p.appendChild(L);return}b.usedIn.forEach(L=>{let T=document.createElement("li");T.textContent=L,T.className="text-xs text-slate-600",p.appendChild(T)})}},ce=b=>{if(q){if(we){q.textContent=b?"T\xE9l\xE9versement\u2026":"T\xE9l\xE9verser",q.disabled=b||!me,k&&k.classList.add("hidden");return}q.textContent=b?"Enregistrement\u2026":"Enregistrer",q.disabled=b||!fe,k&&(k.classList.remove("hidden"),k.disabled=!X)}},Ye=b=>{let L=te.find(T=>T.id===b);if(!L){G(),he();return}re(),X=L.id,fe=!1,ce(!1),he(),g==null||g.classList.add("hidden"),w==null||w.classList.remove("hidden"),O&&(y(L)?O.innerHTML=`<img src="${L.path}" alt="${L.alt||L.filename}" class="h-full w-full rounded-2xl object-cover" />`:O.innerHTML='<div class="flex h-full w-full flex-col items-center justify-center gap-1 text-slate-400"><span class="text-3xl">\u{1F4C4}</span><span class="text-xs font-semibold">Document</span></div>'),W&&(W.textContent=L.filename||"Fichier"),z&&(z.textContent=h(L)),ne&&(ne.textContent=S(L.size)),C&&(C.value=L.alt||""),se&&(se.textContent=L.path||"\u2014"),_e(L)},Ae=b=>{if(b){if(we=!0,fe=!1,X=null,g==null||g.classList.add("hidden"),w==null||w.classList.remove("hidden"),ke&&URL.revokeObjectURL(ke),ke=URL.createObjectURL(b),O&&(O.innerHTML=`<img src="${ke}" alt="${b.name}" class="h-full w-full rounded-2xl object-cover" />`),W&&(W.textContent=b.name),z&&(z.textContent=h({type:b.type,filename:b.name})),ne&&(ne.textContent=S(b.size)),C&&!C.value.trim()&&(C.value=b.name.replace(/\.[^.]+$/,"").replace(/[-_]/g," ")),se&&(se.textContent="En attente de t\xE9l\xE9versement"),p){p.innerHTML="";let L=document.createElement("li");L.textContent="Non utilis\xE9",L.className="text-xs text-slate-400",p.appendChild(L)}ce(!1)}},je=()=>{let b=(u==null?void 0:u.value)||"all";b==="all"?K=[...te]:K=te.filter(L=>L.groupType===b),K.some(L=>L.id===X)||G(),ge(),he()},Ee=async()=>{if(!$){a==null||a.classList.remove("hidden");return}try{let b=await fetch($,{headers:{Accept:"application/json"}});if(!b.ok)throw new Error("Impossible de charger les m\xE9dias.");let L=await b.json().catch(()=>({items:[]}));te=Array.isArray(L.items)?L.items.map(T=>({...T,groupType:H(T)})):[],je()}catch(b){console.error("[media] load failed",b),j(b.message||"Impossible de charger les m\xE9dias."),te=[],je()}};u==null||u.addEventListener("change",()=>{je()}),C==null||C.addEventListener("input",()=>{if(we){ce(!1);return}X&&(fe=!0,ce(!1))});let de=b=>{if(b){if(!b.type.startsWith("image/")){j("Seules les images sont accept\xE9es pour le moment.");return}if(b.size>4*1024*1024){j("Fichier trop volumineux (4 Mo max).");return}me=b,Ae(b),A&&(A.textContent=`${b.name} \xB7 ${S(b.size)}`)}},Xe=b=>new Promise((L,T)=>{let Z=new FileReader;Z.onload=()=>{let Ue=Z.result||"",[,ct=""]=String(Ue).split(",");L(ct)},Z.onerror=()=>T(new Error("Impossible de lire ce fichier.")),Z.readAsDataURL(b)}),It=async()=>{if(!(!me||!$)){qe=!0,ce(!0);try{let b=await Xe(me),L={filename:me.name,type:me.type,size:me.size,alt:(C==null?void 0:C.value)||"",data:b},T=await fetch($,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(L)});if(!T.ok){let Ue=await T.json().catch(()=>({}));throw new Error(Ue.message||"Upload impossible.")}let Z=await T.json();Z.groupType=H(Z),te=[...te,Z],pe=Z.id,je(),Ye(Z.id),j("M\xE9dia ajout\xE9"),re()}catch(b){console.error("[media] upload failed",b),j(b.message||"Impossible de t\xE9l\xE9verser ce m\xE9dia.")}finally{qe=!1,me=null,ce(!1)}}};R==null||R.addEventListener("click",()=>d==null?void 0:d.click()),d==null||d.addEventListener("change",()=>{d.files&&d.files[0]&&de(d.files[0])});let Te=()=>{P&&(P.classList.add("hidden"),P.classList.remove("flex"))},B=()=>{if(!(!X||we)){if(P){P.classList.remove("hidden"),P.classList.add("flex");return}window.confirm("Supprimer ce m\xE9dia ?")&&ot()}},ot=async()=>{if(!X||!$){Te();return}let b=()=>{k&&(k.disabled=!0),D&&(D.disabled=!0,D.textContent="Suppression\u2026")},L=()=>{k&&(k.disabled=!1),D&&(D.disabled=!1,D.textContent="Supprimer")};b();try{let T=await fetch(`${$}/${encodeURIComponent(X)}`,{method:"DELETE"});if(!T.ok){let Z=await T.json().catch(()=>({}));throw new Error(Z.message||"Suppression impossible.")}te=te.filter(Z=>Z.id!==X),K=K.filter(Z=>Z.id!==X),j("M\xE9dia supprim\xE9"),G(),ge(),he()}catch(T){console.error("[media] delete failed",T),j(T.message||"Impossible de supprimer ce m\xE9dia.")}finally{L(),Te()}};N==null||N.addEventListener("click",Te),P==null||P.addEventListener("click",b=>{b.target===P&&Te()}),D==null||D.addEventListener("click",()=>ot()),k==null||k.addEventListener("click",B),q==null||q.addEventListener("click",async()=>{if(we){It();return}if(!(!X||!$||!C)){ce(!0);try{let b={alt:C.value||""},L=await fetch(`${$}/${encodeURIComponent(X)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});if(!L.ok){let Z=await L.json().catch(()=>({}));throw new Error(Z.message||"Impossible de mettre \xE0 jour ce m\xE9dia.")}let T=await L.json();te=te.map(Z=>Z.id===X?{...Z,...T}:Z),K=K.map(Z=>Z.id===X?{...Z,...T}:Z),fe=!1,ce(!1),j("M\xE9dia mis \xE0 jour")}catch(b){console.error("[media] update failed",b),j(b.message||"\xC9chec de la mise \xE0 jour."),ce(!1)}}}),Ee()}let xo=document.getElementById("ai-chat-toggle"),ns=document.getElementById("ai-chat-panel"),st=document.getElementById("ai-chat-overlay"),wo=document.getElementById("ai-chat-close"),So=document.getElementById("ai-chat-clear"),Lo=document.getElementById("ai-chat-form"),$t=document.getElementById("ai-chat-input"),xe=document.getElementById("ai-chat-messages"),Ur=document.getElementById("ai-chat-status"),bt=document.getElementById("ai-chat-no-api"),Gn=document.querySelectorAll("[data-ai-quick]"),Vs=!1,ko=!1,Qo=!1,Wn=!1;function Kn(){ns&&(Vs=!0,ns.classList.remove("translate-x-full"),ns.setAttribute("aria-hidden","false"),st==null||st.classList.remove("opacity-0","pointer-events-none"),st==null||st.classList.add("opacity-100"),document.body.classList.add("overflow-hidden"),$t==null||$t.focus(),Qo||Zn())}function Js(){ns&&(Vs=!1,ns.classList.add("translate-x-full"),ns.setAttribute("aria-hidden","true"),st==null||st.classList.add("opacity-0","pointer-events-none"),st==null||st.classList.remove("opacity-100"),document.body.classList.remove("overflow-hidden"))}async function Zn(){let s=Le(Y.slug||"");if(!s){bt==null||bt.classList.remove("hidden");return}try{let a=await fetch(`/api/sites/${encodeURIComponent(s)}/config/ai`);if(!a.ok)throw new Error("Config check failed");let l=await a.json();Qo=!0,Wn=l.hasApiKey,!l.enabled||!l.hasApiKey?bt==null||bt.classList.remove("hidden"):(bt==null||bt.classList.add("hidden"),_n())}catch(a){console.error("[AI] Config check failed:",a),bt==null||bt.classList.remove("hidden")}}async function _n(){let s=Le(Y.slug||"");if(!(!s||!xe))try{let a=await fetch(`/api/sites/${encodeURIComponent(s)}/ai/history`);if(!a.ok)return;let l=await a.json();if(l.messages&&l.messages.length>0){let u=xe.querySelector("[data-ai-welcome]");u&&u.remove(),l.messages.forEach(g=>{Gs(g.content,g.role==="user"?"user":"assistant")}),xe.scrollTop=xe.scrollHeight}}catch(a){console.error("[AI] History load failed:",a)}}function Gs(s,a="assistant"){if(!xe)return;let l=document.createElement("div");if(l.className="flex gap-3",a==="user")l.innerHTML=`
        <div class="flex-1"></div>
        <div class="max-w-[80%] bg-violet-600 text-white rounded-2xl rounded-tr-none p-3">
          <p class="text-sm whitespace-pre-wrap">${ft(s)}</p>
        </div>
        <div class="w-8 h-8 rounded-full bg-slate-200 flex-shrink-0 flex items-center justify-center">
          <svg class="w-4 h-4 text-slate-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
          </svg>
        </div>
      `;else{let u=Xn(s);l.innerHTML=`
        <div class="w-8 h-8 rounded-full bg-gradient-to-br from-violet-500 to-indigo-600 flex-shrink-0 flex items-center justify-center">
          <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
          </svg>
        </div>
        <div class="flex-1 bg-slate-50 rounded-2xl rounded-tl-none p-3 overflow-x-auto">
          <div class="text-sm text-slate-700 prose prose-sm max-w-none [&>pre]:bg-slate-800 [&>pre]:text-slate-100 [&>pre]:rounded-lg [&>pre]:p-3 [&>pre]:overflow-x-auto [&>code]:bg-slate-200 [&>code]:px-1 [&>code]:rounded">${u}</div>
        </div>
      `}xe.appendChild(l),xe.scrollTop=xe.scrollHeight}function Yn(){if(!xe)return;let s=document.createElement("div");s.className="flex gap-3",s.id="ai-loading-indicator",s.innerHTML=`
      <div class="w-8 h-8 rounded-full bg-gradient-to-br from-violet-500 to-indigo-600 flex-shrink-0 flex items-center justify-center">
        <svg class="w-4 h-4 text-white animate-pulse" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
        </svg>
      </div>
      <div class="flex-1 bg-slate-50 rounded-2xl rounded-tl-none p-3">
        <div class="flex items-center gap-2">
          <div class="w-2 h-2 bg-violet-400 rounded-full animate-bounce" style="animation-delay: 0ms"></div>
          <div class="w-2 h-2 bg-violet-400 rounded-full animate-bounce" style="animation-delay: 150ms"></div>
          <div class="w-2 h-2 bg-violet-400 rounded-full animate-bounce" style="animation-delay: 300ms"></div>
        </div>
      </div>
    `,xe.appendChild(s),xe.scrollTop=xe.scrollHeight}function en(){let s=document.getElementById("ai-loading-indicator");s==null||s.remove()}function Xn(s){if(!s)return"";let a=ft(s);return a=a.replace(/```(\w*)\n([\s\S]*?)```/g,(l,u,g)=>`<pre class="language-${u||"text"}"><code>${g.trim()}</code></pre>`),a=a.replace(/`([^`]+)`/g,"<code>$1</code>"),a=a.replace(/\*\*([^*]+)\*\*/g,"<strong>$1</strong>"),a=a.replace(/\*([^*]+)\*/g,"<em>$1</em>"),a=a.replace(/^### (.+)$/gm,'<h4 class="font-semibold text-slate-900 mt-3 mb-1">$1</h4>'),a=a.replace(/^## (.+)$/gm,'<h3 class="font-semibold text-slate-900 mt-3 mb-1">$1</h3>'),a=a.replace(/^# (.+)$/gm,'<h2 class="font-bold text-slate-900 mt-3 mb-2">$1</h2>'),a=a.replace(/^- (.+)$/gm,'<li class="ml-4">$1</li>'),a=a.replace(/^(\d+)\. (.+)$/gm,'<li class="ml-4">$2</li>'),a=a.replace(/\n\n/g,'</p><p class="mb-2">'),a='<p class="mb-2">'+a+"</p>",a=a.replace(/<p class="mb-2"><\/p>/g,""),a}function ft(s){let a=document.createElement("div");return a.textContent=s,a.innerHTML}async function tn(s){let a=Le(Y.slug||"");if(!s||!a||ko)return;ko=!0,$t.disabled=!0;let l=xe==null?void 0:xe.querySelector("[data-ai-welcome]");l&&l.remove(),Gs(s,"user"),Yn();try{let u=await fetch(`/api/sites/${encodeURIComponent(a)}/ai/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:s})});if(en(),!u.ok){let w=await u.json().catch(()=>({}));throw new Error(w.message||"Erreur de communication")}let g=await u.json();g.response&&Gs(g.response,"assistant"),g.editProposal&&Qn(g.editProposal),g.themeProposal&&er(g.themeProposal)}catch(u){en(),Gs(`\u274C Erreur: ${u.message}`,"assistant")}finally{ko=!1,$t.disabled=!1,$t.focus()}}function Qn(s){var u,g;if(!xe||!s)return;let a=document.createElement("div");a.className="flex gap-3 mt-2",a.dataset.proposalId=s.proposalId;let l="";if(s.changes&&(s.changes.title&&(l+=`<li>Titre \u2192 <strong>${ft(s.changes.title)}</strong></li>`),s.changes.description&&(l+=`<li>Description \u2192 ${ft(s.changes.description.substring(0,80))}...</li>`),s.changes.seo&&(s.changes.seo.metaTitle&&(l+=`<li>Meta title \u2192 ${ft(s.changes.seo.metaTitle)}</li>`),s.changes.seo.metaDescription&&(l+=`<li>Meta description \u2192 ${ft(s.changes.seo.metaDescription.substring(0,60))}...</li>`)),s.changes.blockUpdate&&(l+=`<li>Bloc "${s.changes.blockUpdate.blockId}" modifi\xE9</li>`,s.changes.blockUpdate.settings))){let w=s.changes.blockUpdate.settings;w.title&&(l+=`<li class="ml-4">\u2192 title: ${ft(w.title)}</li>`),w.content&&(l+='<li class="ml-4">\u2192 content modifi\xE9</li>')}a.innerHTML=`
      <div class="w-8 h-8 rounded-full bg-amber-500 flex-shrink-0 flex items-center justify-center">
        <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"/>
        </svg>
      </div>
      <div class="flex-1 bg-amber-50 border border-amber-200 rounded-2xl rounded-tl-none p-4">
        <div class="flex items-center gap-2 mb-2">
          <span class="text-xs font-semibold text-amber-700 bg-amber-100 px-2 py-0.5 rounded">Proposition d'\xE9dition</span>
        </div>
        <p class="text-sm font-medium text-slate-800 mb-1">Page : ${ft(s.pageTitle||s.pageId)}</p>
        ${s.reason?`<p class="text-sm text-slate-600 mb-2">${ft(s.reason)}</p>`:""}
        <ul class="text-xs text-slate-600 space-y-1 mb-3 list-disc ml-4">
          ${l||"<li>Modifications propos\xE9es</li>"}
        </ul>
        <div class="flex gap-2">
          <button 
            class="ai-apply-edit px-3 py-1.5 text-xs font-medium text-white bg-emerald-600 hover:bg-emerald-700 rounded-lg transition-colors flex items-center gap-1"
            data-proposal-id="${s.proposalId}"
          >
            <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
            </svg>
            Appliquer
          </button>
          <button 
            class="ai-reject-edit px-3 py-1.5 text-xs font-medium text-slate-600 bg-slate-100 hover:bg-slate-200 rounded-lg transition-colors flex items-center gap-1"
            data-proposal-id="${s.proposalId}"
          >
            <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
            </svg>
            Rejeter
          </button>
        </div>
      </div>
    `,xe.appendChild(a),xe.scrollTop=xe.scrollHeight,(u=a.querySelector(".ai-apply-edit"))==null||u.addEventListener("click",or),(g=a.querySelector(".ai-reject-edit"))==null||g.addEventListener("click",sn)}function er(s){var g,w,O,W;if(!xe||!s)return;let a=document.createElement("div");a.className="flex gap-3 mt-2",a.dataset.proposalId=s.proposalId;let l="";if((g=s.changes)!=null&&g.colors){let z=s.changes.colors;for(let[ne,se]of Object.entries(z))l+=`<li class="flex items-center gap-2">
          <span class="w-4 h-4 rounded border border-slate-300" style="background: ${tr(se)}"></span>
          <span>${ne}: <strong>${ft(se)}</strong></span>
        </li>`}let u="";if((w=s.changes)!=null&&w.typography){let z=s.changes.typography;z.headings&&(u+=`<li>Titres \u2192 <strong>${ft(z.headings)}</strong></li>`),z.body&&(u+=`<li>Textes \u2192 <strong>${ft(z.body)}</strong></li>`)}a.innerHTML=`
      <div class="w-8 h-8 rounded-full bg-purple-500 flex-shrink-0 flex items-center justify-center">
        <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"/>
        </svg>
      </div>
      <div class="flex-1 bg-purple-50 border border-purple-200 rounded-2xl rounded-tl-none p-4">
        <div class="flex items-center gap-2 mb-2">
          <span class="text-xs font-semibold text-purple-700 bg-purple-100 px-2 py-0.5 rounded">Modification du th\xE8me</span>
        </div>
        ${s.reason?`<p class="text-sm text-slate-600 mb-3">${ft(s.reason)}</p>`:""}
        ${l?`
          <p class="text-xs font-medium text-slate-700 mb-1">Couleurs :</p>
          <ul class="text-xs text-slate-600 space-y-1 mb-3">${l}</ul>
        `:""}
        ${u?`
          <p class="text-xs font-medium text-slate-700 mb-1">Typographies :</p>
          <ul class="text-xs text-slate-600 space-y-1 mb-3 list-disc ml-4">${u}</ul>
        `:""}
        <div class="flex gap-2">
          <button 
            class="ai-apply-theme px-3 py-1.5 text-xs font-medium text-white bg-purple-600 hover:bg-purple-700 rounded-lg transition-colors flex items-center gap-1"
            data-proposal-id="${s.proposalId}"
          >
            <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
            </svg>
            Appliquer
          </button>
          <button 
            class="ai-reject-theme px-3 py-1.5 text-xs font-medium text-slate-600 bg-slate-100 hover:bg-slate-200 rounded-lg transition-colors flex items-center gap-1"
            data-proposal-id="${s.proposalId}"
          >
            <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
            </svg>
            Rejeter
          </button>
        </div>
      </div>
    `,xe.appendChild(a),xe.scrollTop=xe.scrollHeight,(O=a.querySelector(".ai-apply-theme"))==null||O.addEventListener("click",sr),(W=a.querySelector(".ai-reject-theme"))==null||W.addEventListener("click",sn)}function tr(s){return{white:"#ffffff",black:"#000000",transparent:"transparent","slate-50":"#f8fafc","slate-100":"#f1f5f9","slate-200":"#e2e8f0","slate-300":"#cbd5e1","slate-400":"#94a3b8","slate-500":"#64748b","slate-600":"#475569","slate-700":"#334155","slate-800":"#1e293b","slate-900":"#0f172a","gray-50":"#f9fafb","gray-100":"#f3f4f6","gray-200":"#e5e7eb","gray-300":"#d1d5db","gray-400":"#9ca3af","gray-500":"#6b7280","gray-600":"#4b5563","gray-700":"#374151","gray-800":"#1f2937","gray-900":"#111827","violet-50":"#f5f3ff","violet-100":"#ede9fe","violet-200":"#ddd6fe","violet-300":"#c4b5fd","violet-400":"#a78bfa","violet-500":"#8b5cf6","violet-600":"#7c3aed","violet-700":"#6d28d9","violet-800":"#5b21b6","violet-900":"#4c1d95","purple-50":"#faf5ff","purple-100":"#f3e8ff","purple-200":"#e9d5ff","purple-300":"#d8b4fe","purple-400":"#c084fc","purple-500":"#a855f7","purple-600":"#9333ea","purple-700":"#7e22ce","purple-800":"#6b21a8","purple-900":"#581c87","blue-50":"#eff6ff","blue-100":"#dbeafe","blue-200":"#bfdbfe","blue-300":"#93c5fd","blue-400":"#60a5fa","blue-500":"#3b82f6","blue-600":"#2563eb","blue-700":"#1d4ed8","blue-800":"#1e40af","blue-900":"#1e3a8a","emerald-50":"#ecfdf5","emerald-100":"#d1fae5","emerald-200":"#a7f3d0","emerald-300":"#6ee7b7","emerald-400":"#34d399","emerald-500":"#10b981","emerald-600":"#059669","emerald-700":"#047857","emerald-800":"#065f46","emerald-900":"#064e3b","teal-50":"#f0fdfa","teal-100":"#ccfbf1","teal-200":"#99f6e4","teal-300":"#5eead4","teal-400":"#2dd4bf","teal-500":"#14b8a6","teal-600":"#0d9488","teal-700":"#0f766e","teal-800":"#115e59","teal-900":"#134e4a","amber-50":"#fffbeb","amber-100":"#fef3c7","amber-200":"#fde68a","amber-300":"#fcd34d","amber-400":"#fbbf24","amber-500":"#f59e0b","amber-600":"#d97706","amber-700":"#b45309","amber-800":"#92400e","amber-900":"#78350f","red-50":"#fef2f2","red-100":"#fee2e2","red-200":"#fecaca","red-300":"#fca5a5","red-400":"#f87171","red-500":"#ef4444","red-600":"#dc2626","red-700":"#b91c1c","red-800":"#991b1b","red-900":"#7f1d1d"}[s]||"#9C6BFF"}async function sr(s){var g;let a=(g=s.target.closest("[data-proposal-id]"))==null?void 0:g.dataset.proposalId,l=Le(Y.slug||"");if(!a||!l)return;let u=s.target.closest("button");u.disabled=!0,u.innerHTML='<span class="animate-spin">\u23F3</span> Application...';try{let w=await fetch(`/api/sites/${encodeURIComponent(l)}/ai/apply-theme`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({proposalId:a})}),O=await w.json();if(w.ok&&O.success){let W=document.querySelector(`[data-proposal-id="${a}"]`);W&&(W.innerHTML=`
            <div class="w-8 h-8 rounded-full bg-purple-500 flex-shrink-0 flex items-center justify-center">
              <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
              </svg>
            </div>
            <div class="flex-1 bg-purple-50 border border-purple-200 rounded-2xl rounded-tl-none p-3">
              <p class="text-sm text-purple-700">\u2705 Th\xE8me mis \xE0 jour avec succ\xE8s !</p>
              <p class="text-xs text-purple-600 mt-1">Rechargez la preview pour voir les changements.</p>
            </div>
          `),j("Th\xE8me mis \xE0 jour !"),document.dispatchEvent(new CustomEvent("ai-theme-updated",{detail:{updatedTheme:O.updatedTheme}}))}else throw new Error(O.message||"Erreur lors de l'application")}catch(w){u.disabled=!1,u.innerHTML='<svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg> R\xE9essayer',j(`Erreur: ${w.message}`)}}async function or(s){var g,w;let a=(g=s.target.closest("[data-proposal-id]"))==null?void 0:g.dataset.proposalId,l=Le(Y.slug||"");if(!a||!l)return;let u=s.target.closest("button");u.disabled=!0,u.innerHTML='<span class="animate-spin">\u23F3</span> Application...';try{let O=await fetch(`/api/sites/${encodeURIComponent(l)}/ai/apply-edit`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({proposalId:a})}),W=await O.json();if(O.ok&&W.success){let z=document.querySelector(`[data-proposal-id="${a}"]`);z&&(z.innerHTML=`
            <div class="w-8 h-8 rounded-full bg-emerald-500 flex-shrink-0 flex items-center justify-center">
              <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
              </svg>
            </div>
            <div class="flex-1 bg-emerald-50 border border-emerald-200 rounded-2xl rounded-tl-none p-3">
              <p class="text-sm text-emerald-700">\u2705 Modifications appliqu\xE9es avec succ\xE8s !</p>
              <p class="text-xs text-emerald-600 mt-1">La preview se met \xE0 jour automatiquement.</p>
            </div>
          `),j("Modifications appliqu\xE9es !");let ne=((w=W.updatedPage)==null?void 0:w.id)||null;document.dispatchEvent(new CustomEvent("ai-page-updated",{detail:{pageId:ne,updatedPage:W.updatedPage}}))}else throw new Error(W.message||"Erreur lors de l'application")}catch(O){u.disabled=!1,u.innerHTML='<svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg> R\xE9essayer',j(`Erreur: ${O.message}`)}}async function sn(s){var u;let a=(u=s.target.closest("[data-proposal-id]"))==null?void 0:u.dataset.proposalId,l=Le(Y.slug||"");if(!(!a||!l))try{await fetch(`/api/sites/${encodeURIComponent(l)}/ai/proposal/${a}`,{method:"DELETE"});let g=document.querySelector(`[data-proposal-id="${a}"]`);g&&(g.innerHTML=`
          <div class="w-8 h-8 rounded-full bg-slate-400 flex-shrink-0 flex items-center justify-center">
            <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
            </svg>
          </div>
          <div class="flex-1 bg-slate-100 rounded-2xl rounded-tl-none p-3">
            <p class="text-sm text-slate-500">Proposition rejet\xE9e.</p>
          </div>
        `)}catch(g){console.error("[AI] Reject edit error:",g)}}async function nr(){let s=Le(Y.slug||"");if(!(!s||!xe))try{await fetch(`/api/sites/${encodeURIComponent(s)}/ai/history`,{method:"DELETE"}),xe.innerHTML="",xe.innerHTML=`
        <div class="flex gap-3" data-ai-welcome>
          <div class="w-8 h-8 rounded-full bg-gradient-to-br from-violet-500 to-indigo-600 flex-shrink-0 flex items-center justify-center">
            <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
            </svg>
          </div>
          <div class="flex-1 bg-slate-50 rounded-2xl rounded-tl-none p-3">
            <p class="text-sm text-slate-700">
              Salut ! \u{1F44B} Je suis ton assistant IA pour ce site. Je peux t'aider \xE0 :
            </p>
            <ul class="mt-2 text-sm text-slate-600 space-y-1">
              <li>\u{1F3A8} Sugg\xE9rer des palettes de couleurs</li>
              <li>\u270D\uFE0F G\xE9n\xE9rer du contenu pour tes blocs</li>
              <li>\u{1F4C4} Cr\xE9er des structures de pages</li>
              <li>\u{1F50D} Am\xE9liorer ton SEO</li>
              <li>\u270F\uFE0F <strong>Analyser et modifier tes pages</strong> (avec validation)</li>
            </ul>
          </div>
        </div>
      `,j("Historique effac\xE9")}catch(a){console.error("[AI] Clear history failed:",a),j("Erreur lors de l'effacement")}}let rr={colors:"Sugg\xE8re-moi 3 palettes de couleurs harmonieuses pour mon site. Pour chaque palette, donne les couleurs Tailwind: primary, secondary, accent, et background.",hero:"G\xE9n\xE8re un bloc Hero en JSON avec un titre accrocheur, un sous-titre engageant et un CTA.",seo:"Analyse mon site et sugg\xE8re des am\xE9liorations SEO pour le meta title et la meta description de ma page d'accueil.",landing:"G\xE9n\xE8re la structure JSON d'une landing page compl\xE8te avec: Hero, 3 sections de contenu, et un CTA final.",analyze:"Analyse le contenu de toutes mes pages et propose des am\xE9liorations concr\xE8tes. Pour chaque suggestion d'am\xE9lioration de texte ou de structure, utilise le format propose-edit pour que je puisse valider.",improveHome:"Analyse ma page d'accueil et propose une am\xE9lioration du titre ou du Hero pour le rendre plus impactant. Utilise le format propose-edit."};xo==null||xo.addEventListener("click",()=>{Vs?Js():Kn()}),wo==null||wo.addEventListener("click",Js),st==null||st.addEventListener("click",Js),So==null||So.addEventListener("click",()=>{confirm("Effacer tout l'historique de conversation ?")&&nr()}),Lo==null||Lo.addEventListener("submit",s=>{var l;s.preventDefault();let a=(l=$t==null?void 0:$t.value)==null?void 0:l.trim();a&&($t.value="",tn(a))}),Gn.forEach(s=>{s.addEventListener("click",()=>{let a=s.dataset.aiQuick,l=rr[a];l&&tn(l)})}),document.addEventListener("keydown",s=>{s.key==="Escape"&&Vs&&Js()})});})();
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vY29yZS9zY3JpcHRzL2FkbWluLmpzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuICBjb25zb2xlLmxvZygnW2FkbWluXSBBdGVsaWVyIGNoYXJnXHUwMEU5Jyk7XG4gIGNvbnN0IGxvZ291dEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWxvZ291dF0nKTtcbiAgaWYgKGxvZ291dEJ1dHRvbikge1xuICAgIGxvZ291dEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGxvZ291dEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBmZXRjaCgnL2FwaS9sb2dvdXQnLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbYWRtaW5dIEltcG9zc2libGUgZGUgc2UgZFx1MDBFOWNvbm5lY3RlcicsIGVycik7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvYWRtaW4vaW5kZXguaHRtbCc7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBjb25zdCBzaWRlYmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRtaW4tc2lkZWJhcl0nKTtcbiAgY29uc3Qgc2lkZWJhck92ZXJsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZG1pbi1zaWRlYmFyLW92ZXJsYXldJyk7XG4gIGNvbnN0IHNpZGViYXJUb2dnbGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYWRtaW4tc2lkZWJhci10b2dnbGVdJyk7XG4gIGNvbnN0IHNpZGViYXJDbG9zZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1hZG1pbi1zaWRlYmFyLWNsb3NlXScpO1xuICBjb25zdCBib2R5ID0gZG9jdW1lbnQuYm9keTtcbiAgbGV0IHNpZGViYXJPcGVuID0gZmFsc2U7XG5cbiAgY29uc3QgYXBwbHlTaWRlYmFyU3RhdGUgPSAoKSA9PiB7XG4gICAgaWYgKCFzaWRlYmFyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGlzRGVza3RvcCA9IHdpbmRvdy5tYXRjaE1lZGlhKCcobWluLXdpZHRoOiAxMDI0cHgpJykubWF0Y2hlcztcbiAgICBpZiAoaXNEZXNrdG9wKSB7XG4gICAgICBzaWRlYmFyLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgc2lkZWJhck92ZXJsYXk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHNpZGViYXJPcGVuKSB7XG4gICAgICBzaWRlYmFyLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgc2lkZWJhck92ZXJsYXk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgYm9keS5jbGFzc0xpc3QuYWRkKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2lkZWJhci5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIHNpZGViYXJPdmVybGF5Py5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnb3ZlcmZsb3ctaGlkZGVuJyk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IG9wZW5TaWRlYmFyID0gKCkgPT4ge1xuICAgIHNpZGViYXJPcGVuID0gdHJ1ZTtcbiAgICBhcHBseVNpZGViYXJTdGF0ZSgpO1xuICB9O1xuXG4gIGNvbnN0IGNsb3NlU2lkZWJhciA9ICgpID0+IHtcbiAgICBzaWRlYmFyT3BlbiA9IGZhbHNlO1xuICAgIGFwcGx5U2lkZWJhclN0YXRlKCk7XG4gIH07XG5cbiAgaWYgKHNpZGViYXIgJiYgc2lkZWJhclRvZ2dsZXMubGVuZ3RoID4gMCkge1xuICAgIHNpZGViYXJUb2dnbGVzLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlblNpZGViYXIpO1xuICAgIH0pO1xuICAgIHNpZGViYXJDbG9zZUJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZVNpZGViYXIpO1xuICAgIH0pO1xuICAgIHNpZGViYXJPdmVybGF5Py5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlU2lkZWJhcik7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGFwcGx5U2lkZWJhclN0YXRlKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VzY2FwZScgJiYgc2lkZWJhck9wZW4pIHtcbiAgICAgICAgY2xvc2VTaWRlYmFyKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgYXBwbHlTaWRlYmFyU3RhdGUoKTtcbiAgfVxuXG4gIGNvbnN0IEFDVElWRV9TSVRFX0tFWSA9ICdjbG93ZXI6Y3VycmVudFNpdGUnO1xuICBjb25zdCBBQ1RJVkVfU0lURV9OQU1FX0tFWSA9ICdjbG93ZXI6Y3VycmVudFNpdGVOYW1lJztcbiAgY29uc3Qgc3RvcmVkU2l0ZSA9IHsgc2x1ZzogbnVsbCwgbmFtZTogJycgfTtcbiAgY29uc3QgbG9hZFN0b3JlZFNpdGUgPSAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHN0b3JlZFNpdGUuc2x1ZyA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShBQ1RJVkVfU0lURV9LRVkpO1xuICAgICAgc3RvcmVkU2l0ZS5uYW1lID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKEFDVElWRV9TSVRFX05BTUVfS0VZKSB8fCAnJztcbiAgICB9IGNhdGNoIHtcbiAgICAgIHN0b3JlZFNpdGUuc2x1ZyA9IG51bGw7XG4gICAgICBzdG9yZWRTaXRlLm5hbWUgPSAnJztcbiAgICB9XG4gIH07XG4gIGxvYWRTdG9yZWRTaXRlKCk7XG5cbiAgY29uc3Qgc2l0ZUNhcmRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtc2l0ZS1jYXJkXScpO1xuICBjb25zdCBzaXRlU2VsZWN0QnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXNpdGUtc2VsZWN0XScpO1xuICBjb25zdCBzaXRlTmFtZUxhYmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY3VycmVudC1zaXRlLW5hbWVdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZVNpdGVMYWJlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXdvcmtzcGFjZS1zaXRlLW5hbWVdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZUJhY2tOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtd29ya3NwYWNlLWJhY2stbmFtZV0nKTtcbiAgY29uc3Qgd29ya3NwYWNlQmFja01vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtd29ya3NwYWNlLWJhY2stbW9kYWxdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZUJhY2tCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtd29ya3NwYWNlLWJhY2tdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZUJhY2tDYW5jZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS13b3Jrc3BhY2UtYmFjay1jYW5jZWxdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZUJhY2tDb25maXJtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtd29ya3NwYWNlLWJhY2stY29uZmlybV0nKTtcbiAgY29uc3Qgd29ya3NwYWNlTmF2TGlua3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS13b3Jrc3BhY2UtdGFiXScpO1xuICBjb25zdCBzaXRlVG9hc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLXRvYXN0XScpO1xuICBjb25zdCBzaXRlVG9hc3RNZXNzYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS10b2FzdC1tZXNzYWdlXScpO1xuICBjb25zdCBzaXRlQ3JlYXRlQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXNpdGUtY3JlYXRlXScpO1xuICBjb25zdCBzaXRlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLW1vZGFsXScpO1xuICBjb25zdCBzaXRlRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtZm9ybV0nKTtcbiAgLy8gVXNlIG1vcmUgc3BlY2lmaWMgc2VsZWN0b3JzIHRvIGdldCBpbnB1dHMgSU5TSURFIHRoZSBmb3JtLCBub3Qgc2l0ZSBjYXJkc1xuICBjb25zdCBzaXRlTmFtZUlucHV0ID0gc2l0ZUZvcm0/LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9XCJzaXRlTmFtZVwiXScpO1xuICBjb25zdCBzaXRlU2x1Z0lucHV0ID0gc2l0ZUZvcm0/LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9XCJzaXRlU2x1Z1wiXScpO1xuICBjb25zdCBzaXRlU2x1Z0Vycm9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS1zbHVnLWVycm9yXScpO1xuICBjb25zdCBzaXRlTW9kYWxFcnJvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtbW9kYWwtZXJyb3JdJyk7XG4gIGNvbnN0IHNpdGVNb2RhbENhbmNlbEJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1zaXRlLW1vZGFsLWNhbmNlbF0nKTtcbiAgY29uc3Qgc2l0ZU1vZGFsU3VibWl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS1tb2RhbC1zdWJtaXRdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZUNvbnRleHQgPSBnZXRXb3Jrc3BhY2VDb250ZXh0KCk7XG4gIGxldCBzbHVnTWFudWFsbHlFZGl0ZWQgPSBmYWxzZTtcbiAgbGV0IHRvYXN0VGltZW91dElkID0gbnVsbDtcblxuICBjb25zdCBmb2N1c2FibGVTZWxlY3RvciA9XG4gICAgJ2FbaHJlZl0sIGJ1dHRvbjpub3QoW2Rpc2FibGVkXSksIHRleHRhcmVhLCBpbnB1dCwgc2VsZWN0LCBbdGFiaW5kZXhdOm5vdChbdGFiaW5kZXg9XCItMVwiXSknO1xuICBjb25zdCBtb2RhbFN0YWNrID0gW107XG4gIGNvbnN0IGdldEZvY3VzYWJsZUVsZW1lbnRzID0gKG1vZGFsKSA9PlxuICAgIEFycmF5LmZyb20obW9kYWwucXVlcnlTZWxlY3RvckFsbChmb2N1c2FibGVTZWxlY3RvcikpLmZpbHRlcihcbiAgICAgIChlbCkgPT4gIWVsLmhhc0F0dHJpYnV0ZSgnZGlzYWJsZWQnKSAmJiAhZWwuZ2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicpLFxuICAgICk7XG4gIGNvbnN0IGhhbmRsZU1vZGFsS2V5ZG93biA9IChldmVudCkgPT4ge1xuICAgIGlmICghbW9kYWxTdGFjay5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgY3VycmVudEVudHJ5ID0gbW9kYWxTdGFja1ttb2RhbFN0YWNrLmxlbmd0aCAtIDFdO1xuICAgIGNvbnN0IHsgbW9kYWwsIG9uQ2xvc2UgfSA9IGN1cnJlbnRFbnRyeTtcbiAgICBpZiAoZXZlbnQua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIG9uQ2xvc2U/LigpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoZXZlbnQua2V5ICE9PSAnVGFiJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBmb2N1c2FibGVFbGVtZW50cyA9IGdldEZvY3VzYWJsZUVsZW1lbnRzKG1vZGFsKTtcbiAgICBpZiAoIWZvY3VzYWJsZUVsZW1lbnRzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBmaXJzdCA9IGZvY3VzYWJsZUVsZW1lbnRzWzBdO1xuICAgIGNvbnN0IGxhc3QgPSBmb2N1c2FibGVFbGVtZW50c1tmb2N1c2FibGVFbGVtZW50cy5sZW5ndGggLSAxXTtcbiAgICBpZiAoZXZlbnQuc2hpZnRLZXkpIHtcbiAgICAgIGlmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSBmaXJzdCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBsYXN0LmZvY3VzKCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSBsYXN0KSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZmlyc3QuZm9jdXMoKTtcbiAgICB9XG4gIH07XG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVNb2RhbEtleWRvd24pO1xuICBjb25zdCBhY3RpdmF0ZU1vZGFsID0gKG1vZGFsLCBvbkNsb3NlKSA9PiB7XG4gICAgaWYgKCFtb2RhbCkgcmV0dXJuO1xuICAgIG1vZGFsU3RhY2sucHVzaCh7XG4gICAgICBtb2RhbCxcbiAgICAgIG9uQ2xvc2UsXG4gICAgICB0cmlnZ2VyOiBkb2N1bWVudC5hY3RpdmVFbGVtZW50IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgPyBkb2N1bWVudC5hY3RpdmVFbGVtZW50IDogbnVsbCxcbiAgICB9KTtcbiAgICBjb25zdCBmb2N1c2FibGUgPSBnZXRGb2N1c2FibGVFbGVtZW50cyhtb2RhbCk7XG4gICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgKGZvY3VzYWJsZVswXSB8fCBtb2RhbCkuZm9jdXM/LigpO1xuICAgIH0sIDApO1xuICB9O1xuICBjb25zdCBkZWFjdGl2YXRlTW9kYWwgPSAobW9kYWwpID0+IHtcbiAgICBjb25zdCBpbmRleCA9IG1vZGFsU3RhY2suZmluZEluZGV4KChlbnRyeSkgPT4gZW50cnkubW9kYWwgPT09IG1vZGFsKTtcbiAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IFtlbnRyeV0gPSBtb2RhbFN0YWNrLnNwbGljZShpbmRleCwgMSk7XG4gICAgZW50cnkudHJpZ2dlcj8uZm9jdXM/LigpO1xuICB9O1xuICBjb25zdCBtb2JpbGVQYW5lbE92ZXJsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tb2JpbGUtcGFuZWxzLW92ZXJsYXldJyk7XG4gIGNvbnN0IG1vYmlsZVBhbmVsTGF5ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tb2JpbGUtcGFuZWxzLWxheWVyXScpO1xuICBjb25zdCBtb2JpbGVQYW5lbHMgPSB7XG4gICAgbGVmdDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbW9iaWxlLXBhbmVsPVwibGVmdFwiXScpLFxuICAgIHJpZ2h0OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tb2JpbGUtcGFuZWw9XCJyaWdodFwiXScpLFxuICB9O1xuICBsZXQgbW9iaWxlUGFuZWxMYXllclBsYWNlaG9sZGVyID0gbnVsbDtcbiAgaWYgKG1vYmlsZVBhbmVsTGF5ZXI/LnBhcmVudEVsZW1lbnQpIHtcbiAgICBtb2JpbGVQYW5lbExheWVyUGxhY2Vob2xkZXIgPSBkb2N1bWVudC5jcmVhdGVDb21tZW50KCdtb2JpbGUtcGFuZWxzLWxheWVyLXBsYWNlaG9sZGVyJyk7XG4gICAgbW9iaWxlUGFuZWxMYXllci5wYXJlbnRFbGVtZW50Lmluc2VydEJlZm9yZShtb2JpbGVQYW5lbExheWVyUGxhY2Vob2xkZXIsIG1vYmlsZVBhbmVsTGF5ZXIpO1xuICB9XG4gIGNvbnN0IG1vYmlsZVBhbmVsVG9nZ2xlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLW1vYmlsZS1wYW5lbC10b2dnbGVdJyk7XG4gIGNvbnN0IG1vYmlsZVBhbmVsQ2xvc2VCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtbW9iaWxlLXBhbmVsLWNsb3NlXScpO1xuICBjb25zdCBtb2JpbGVQYW5lbFRyaWdnZXJzID0geyBsZWZ0OiBudWxsLCByaWdodDogbnVsbCB9O1xuICBsZXQgYWN0aXZlTW9iaWxlUGFuZWwgPSBudWxsO1xuICBjb25zdCBpc0Rlc2t0b3BWaWV3cG9ydCA9ICgpID0+IHdpbmRvdy5tYXRjaE1lZGlhKCcobWluLXdpZHRoOiAxMDI0cHgpJykubWF0Y2hlcztcbiAgY29uc3QgZW5zdXJlTW9iaWxlUGFuZWxMYXllclBsYWNlbWVudCA9ICgpID0+IHtcbiAgICBpZiAoIW1vYmlsZVBhbmVsTGF5ZXIgfHwgIW1vYmlsZVBhbmVsTGF5ZXJQbGFjZWhvbGRlcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoaXNEZXNrdG9wVmlld3BvcnQoKSkge1xuICAgICAgY29uc3QgdGFyZ2V0UGFyZW50ID0gbW9iaWxlUGFuZWxMYXllclBsYWNlaG9sZGVyLnBhcmVudEVsZW1lbnQ7XG4gICAgICBpZiAoIXRhcmdldFBhcmVudCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAobW9iaWxlUGFuZWxMYXllci5wYXJlbnRFbGVtZW50ICE9PSB0YXJnZXRQYXJlbnQpIHtcbiAgICAgICAgdGFyZ2V0UGFyZW50Lmluc2VydEJlZm9yZShtb2JpbGVQYW5lbExheWVyLCBtb2JpbGVQYW5lbExheWVyUGxhY2Vob2xkZXIubmV4dFNpYmxpbmcpO1xuICAgICAgfSBlbHNlIGlmIChtb2JpbGVQYW5lbExheWVyUGxhY2Vob2xkZXIubmV4dFNpYmxpbmcgIT09IG1vYmlsZVBhbmVsTGF5ZXIpIHtcbiAgICAgICAgdGFyZ2V0UGFyZW50Lmluc2VydEJlZm9yZShtb2JpbGVQYW5lbExheWVyLCBtb2JpbGVQYW5lbExheWVyUGxhY2Vob2xkZXIubmV4dFNpYmxpbmcpO1xuICAgICAgfVxuICAgICAgbW9iaWxlUGFuZWxMYXllci5kYXRhc2V0Lm1vYmlsZVBhbmVsUGxhY2VtZW50ID0gJ3NpZGViYXInO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAobW9iaWxlUGFuZWxMYXllci5wYXJlbnRFbGVtZW50ICE9PSBkb2N1bWVudC5ib2R5KSB7XG4gICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG1vYmlsZVBhbmVsTGF5ZXIpO1xuICAgICAgbW9iaWxlUGFuZWxMYXllci5kYXRhc2V0Lm1vYmlsZVBhbmVsUGxhY2VtZW50ID0gJ292ZXJsYXknO1xuICAgIH1cbiAgfTtcbiAgZW5zdXJlTW9iaWxlUGFuZWxMYXllclBsYWNlbWVudCgpO1xuICBjb25zdCBhcHBseVBhbmVsQ2xhc3NlcyA9IChwYW5lbCwgY2xhc3NlcywgbWV0aG9kKSA9PiB7XG4gICAgaWYgKCFwYW5lbCB8fCAhY2xhc3Nlcykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjbGFzc2VzXG4gICAgICAuc3BsaXQoJyAnKVxuICAgICAgLm1hcCgoY2xzKSA9PiBjbHMudHJpbSgpKVxuICAgICAgLmZpbHRlcihCb29sZWFuKVxuICAgICAgLmZvckVhY2goKGNscykgPT4gcGFuZWwuY2xhc3NMaXN0W21ldGhvZF0oY2xzKSk7XG4gIH07XG4gIGNvbnN0IHNldFBhbmVsSGlkZGVuU3RhdGUgPSAocGFuZWwsIGhpZGRlbikgPT4ge1xuICAgIGlmICghcGFuZWwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgaGlkZGVuQ2xhc3NlcyA9IHBhbmVsLmRhdGFzZXQubW9iaWxlUGFuZWxIaWRkZW4gfHwgJyc7XG4gICAgY29uc3QgdmlzaWJsZUNsYXNzZXMgPSBwYW5lbC5kYXRhc2V0Lm1vYmlsZVBhbmVsVmlzaWJsZSB8fCAndHJhbnNsYXRlLXgtMCc7XG4gICAgaWYgKGhpZGRlbikge1xuICAgICAgYXBwbHlQYW5lbENsYXNzZXMocGFuZWwsIHZpc2libGVDbGFzc2VzLCAncmVtb3ZlJyk7XG4gICAgICBhcHBseVBhbmVsQ2xhc3NlcyhwYW5lbCwgaGlkZGVuQ2xhc3NlcywgJ2FkZCcpO1xuICAgICAgcGFuZWwuY2xhc3NMaXN0LmFkZCgncG9pbnRlci1ldmVudHMtbm9uZScpO1xuICAgICAgcGFuZWwuY2xhc3NMaXN0LnJlbW92ZSgncG9pbnRlci1ldmVudHMtYXV0bycpO1xuICAgICAgcGFuZWwuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJyk7XG4gICAgICBwYW5lbC5kYXRhc2V0Lm1vYmlsZVBhbmVsT3BlbiA9ICdmYWxzZSc7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFwcGx5UGFuZWxDbGFzc2VzKHBhbmVsLCBoaWRkZW5DbGFzc2VzLCAncmVtb3ZlJyk7XG4gICAgICBhcHBseVBhbmVsQ2xhc3NlcyhwYW5lbCwgdmlzaWJsZUNsYXNzZXMsICdhZGQnKTtcbiAgICAgIHBhbmVsLmNsYXNzTGlzdC5yZW1vdmUoJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICAgIHBhbmVsLmNsYXNzTGlzdC5hZGQoJ3BvaW50ZXItZXZlbnRzLWF1dG8nKTtcbiAgICAgIHBhbmVsLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAnZmFsc2UnKTtcbiAgICAgIHBhbmVsLmRhdGFzZXQubW9iaWxlUGFuZWxPcGVuID0gJ3RydWUnO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgY2xvc2VNb2JpbGVQYW5lbCA9IChzaWRlID0gYWN0aXZlTW9iaWxlUGFuZWwpID0+IHtcbiAgICBpZiAoIXNpZGUgfHwgaXNEZXNrdG9wVmlld3BvcnQoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBwYW5lbCA9IG1vYmlsZVBhbmVsc1tzaWRlXTtcbiAgICBpZiAoIXBhbmVsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHNldFBhbmVsSGlkZGVuU3RhdGUocGFuZWwsIHRydWUpO1xuICAgIGNvbnN0IHRyaWdnZXIgPSBtb2JpbGVQYW5lbFRyaWdnZXJzW3NpZGVdO1xuICAgIGlmICh0cmlnZ2VyKSB7XG4gICAgICB0cmlnZ2VyLnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsICdmYWxzZScpO1xuICAgIH1cbiAgICBtb2JpbGVQYW5lbFRyaWdnZXJzW3NpZGVdID0gbnVsbDtcbiAgICBpZiAoYWN0aXZlTW9iaWxlUGFuZWwgPT09IHNpZGUpIHtcbiAgICAgIG1vYmlsZVBhbmVsT3ZlcmxheT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBtb2JpbGVQYW5lbE92ZXJsYXk/LmNsYXNzTGlzdC5yZW1vdmUoJ3BvaW50ZXItZXZlbnRzLWF1dG8nKTtcbiAgICAgIG1vYmlsZVBhbmVsT3ZlcmxheT8uY2xhc3NMaXN0LmFkZCgncG9pbnRlci1ldmVudHMtbm9uZScpO1xuICAgICAgbW9iaWxlUGFuZWxPdmVybGF5Py5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcbiAgICAgIG1vYmlsZVBhbmVsTGF5ZXI/LmNsYXNzTGlzdC5hZGQoJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnb3ZlcmZsb3ctaGlkZGVuJyk7XG4gICAgICB0cmlnZ2VyPy5mb2N1cz8uKCk7XG4gICAgICBhY3RpdmVNb2JpbGVQYW5lbCA9IG51bGw7XG4gICAgfVxuICB9O1xuICBjb25zdCBvcGVuTW9iaWxlUGFuZWwgPSAoc2lkZSwgdHJpZ2dlcikgPT4ge1xuICAgIGlmICghc2lkZSB8fCBpc0Rlc2t0b3BWaWV3cG9ydCgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHBhbmVsID0gbW9iaWxlUGFuZWxzW3NpZGVdO1xuICAgIGlmICghcGFuZWwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGFjdGl2ZU1vYmlsZVBhbmVsICYmIGFjdGl2ZU1vYmlsZVBhbmVsICE9PSBzaWRlKSB7XG4gICAgICBjbG9zZU1vYmlsZVBhbmVsKGFjdGl2ZU1vYmlsZVBhbmVsKTtcbiAgICB9XG4gICAgc2V0UGFuZWxIaWRkZW5TdGF0ZShwYW5lbCwgZmFsc2UpO1xuICAgIGFjdGl2ZU1vYmlsZVBhbmVsID0gc2lkZTtcbiAgICBtb2JpbGVQYW5lbFRyaWdnZXJzW3NpZGVdID0gdHJpZ2dlciB8fCBudWxsO1xuICAgIGlmICh0cmlnZ2VyKSB7XG4gICAgICB0cmlnZ2VyLnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsICd0cnVlJyk7XG4gICAgfVxuICAgIG1vYmlsZVBhbmVsT3ZlcmxheT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJywgJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICBtb2JpbGVQYW5lbE92ZXJsYXk/LmNsYXNzTGlzdC5hZGQoJ3BvaW50ZXItZXZlbnRzLWF1dG8nKTtcbiAgICBtb2JpbGVQYW5lbE92ZXJsYXk/LnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAnZmFsc2UnKTtcbiAgICBtb2JpbGVQYW5lbExheWVyPy5jbGFzc0xpc3QucmVtb3ZlKCdwb2ludGVyLWV2ZW50cy1ub25lJyk7XG4gICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICBjb25zdCBmb2N1c1RhcmdldCA9IHBhbmVsLnF1ZXJ5U2VsZWN0b3IoZm9jdXNhYmxlU2VsZWN0b3IpO1xuICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGZvY3VzVGFyZ2V0Py5mb2N1cz8uKCk7XG4gICAgfSwgMCk7XG4gIH07XG4gIGNvbnN0IHN5bmNNb2JpbGVQYW5lbHNXaXRoVmlld3BvcnQgPSAoKSA9PiB7XG4gICAgZW5zdXJlTW9iaWxlUGFuZWxMYXllclBsYWNlbWVudCgpO1xuICAgIGlmIChpc0Rlc2t0b3BWaWV3cG9ydCgpKSB7XG4gICAgICBtb2JpbGVQYW5lbE92ZXJsYXk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgbW9iaWxlUGFuZWxMYXllcj8uY2xhc3NMaXN0LmFkZCgncG9pbnRlci1ldmVudHMtbm9uZScpO1xuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICAgIGFjdGl2ZU1vYmlsZVBhbmVsID0gbnVsbDtcbiAgICAgIE9iamVjdC5rZXlzKG1vYmlsZVBhbmVscykuZm9yRWFjaCgoc2lkZSkgPT4ge1xuICAgICAgICBjb25zdCBwYW5lbCA9IG1vYmlsZVBhbmVsc1tzaWRlXTtcbiAgICAgICAgaWYgKCFwYW5lbCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBwYW5lbC5jbGFzc0xpc3QucmVtb3ZlKCdwb2ludGVyLWV2ZW50cy1ub25lJyk7XG4gICAgICAgIHBhbmVsLmNsYXNzTGlzdC5hZGQoJ3BvaW50ZXItZXZlbnRzLWF1dG8nKTtcbiAgICAgICAgcGFuZWwuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICdmYWxzZScpO1xuICAgICAgICBwYW5lbC5kYXRhc2V0Lm1vYmlsZVBhbmVsT3BlbiA9ICdmYWxzZSc7XG4gICAgICAgIGNvbnN0IHRyaWdnZXIgPSBtb2JpbGVQYW5lbFRyaWdnZXJzW3NpZGVdO1xuICAgICAgICB0cmlnZ2VyPy5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAnZmFsc2UnKTtcbiAgICAgICAgbW9iaWxlUGFuZWxUcmlnZ2Vyc1tzaWRlXSA9IG51bGw7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgT2JqZWN0LmVudHJpZXMobW9iaWxlUGFuZWxzKS5mb3JFYWNoKChbc2lkZSwgcGFuZWxdKSA9PiB7XG4gICAgICAgIGlmICghcGFuZWwpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhbmVsLmRhdGFzZXQubW9iaWxlUGFuZWxPcGVuICE9PSAndHJ1ZScpIHtcbiAgICAgICAgICBzZXRQYW5lbEhpZGRlblN0YXRlKHBhbmVsLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoIWFjdGl2ZU1vYmlsZVBhbmVsKSB7XG4gICAgICAgIG1vYmlsZVBhbmVsT3ZlcmxheT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJywgJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICAgICAgbW9iaWxlUGFuZWxPdmVybGF5Py5jbGFzc0xpc3QucmVtb3ZlKCdwb2ludGVyLWV2ZW50cy1hdXRvJyk7XG4gICAgICAgIG1vYmlsZVBhbmVsT3ZlcmxheT8uc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJyk7XG4gICAgICAgIG1vYmlsZVBhbmVsTGF5ZXI/LmNsYXNzTGlzdC5hZGQoJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIGlmIChtb2JpbGVQYW5lbFRvZ2dsZXMubGVuZ3RoID4gMCkge1xuICAgIG1vYmlsZVBhbmVsVG9nZ2xlcy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICAgIGNvbnN0IHNpZGUgPSBidXR0b24uZGF0YXNldC5tb2JpbGVQYW5lbFRvZ2dsZTtcbiAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgaWYgKGFjdGl2ZU1vYmlsZVBhbmVsID09PSBzaWRlKSB7XG4gICAgICAgICAgY2xvc2VNb2JpbGVQYW5lbChzaWRlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvcGVuTW9iaWxlUGFuZWwoc2lkZSwgYnV0dG9uKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgbW9iaWxlUGFuZWxDbG9zZUJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICBjb25zdCBzaWRlID0gYnV0dG9uLmRhdGFzZXQubW9iaWxlUGFuZWxDbG9zZTtcbiAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGNsb3NlTW9iaWxlUGFuZWwoc2lkZSkpO1xuICAgIH0pO1xuICAgIG1vYmlsZVBhbmVsT3ZlcmxheT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBjbG9zZU1vYmlsZVBhbmVsKCkpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQua2V5ID09PSAnRXNjYXBlJyAmJiBhY3RpdmVNb2JpbGVQYW5lbCAmJiAhaXNEZXNrdG9wVmlld3BvcnQoKSkge1xuICAgICAgICBjbG9zZU1vYmlsZVBhbmVsKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHN5bmNNb2JpbGVQYW5lbHNXaXRoVmlld3BvcnQpO1xuICAgIHN5bmNNb2JpbGVQYW5lbHNXaXRoVmlld3BvcnQoKTtcbiAgfVxuXG4gIGNvbnN0IHNob3dUb2FzdCA9IChtZXNzYWdlKSA9PiB7XG4gICAgaWYgKCFzaXRlVG9hc3QgfHwgIXNpdGVUb2FzdE1lc3NhZ2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2l0ZVRvYXN0TWVzc2FnZS50ZXh0Q29udGVudCA9IG1lc3NhZ2U7XG4gICAgc2l0ZVRvYXN0LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgIGlmICh0b2FzdFRpbWVvdXRJZCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRvYXN0VGltZW91dElkKTtcbiAgICB9XG4gICAgdG9hc3RUaW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHNpdGVUb2FzdC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICB9LCAyNTAwKTtcbiAgfTtcblxuICBmdW5jdGlvbiBlbnN1cmVMZWFkaW5nU2xhc2goc2x1Zykge1xuICAgIGlmICghc2x1Zykge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICByZXR1cm4gc2x1Zy5zdGFydHNXaXRoKCcvJykgPyBzbHVnIDogYC8ke3NsdWd9YDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHN0cmlwTGVhZGluZ1NsYXNoKHNsdWcpIHtcbiAgICByZXR1cm4gc2x1Zz8ucmVwbGFjZSgvXlxcLy8sICcnKSB8fCAnJztcbiAgfVxuXG4gIGNvbnN0IHBlcnNpc3RTaXRlU3RhdGUgPSAoc2x1ZywgbmFtZSkgPT4ge1xuICAgIGNvbnN0IG5vcm1hbGl6ZWRTbHVnID0gc2x1ZyA/IGVuc3VyZUxlYWRpbmdTbGFzaChzbHVnKSA6IG51bGw7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChub3JtYWxpemVkU2x1Zykge1xuICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oQUNUSVZFX1NJVEVfS0VZLCBub3JtYWxpemVkU2x1Zyk7XG4gICAgICAgIHN0b3JlZFNpdGUuc2x1ZyA9IG5vcm1hbGl6ZWRTbHVnO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBuYW1lID09PSAnc3RyaW5nJyAmJiBuYW1lLmxlbmd0aCA+IDApIHtcbiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKEFDVElWRV9TSVRFX05BTUVfS0VZLCBuYW1lKTtcbiAgICAgICAgc3RvcmVkU2l0ZS5uYW1lID0gbmFtZTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIHtcbiAgICAgIHN0b3JlZFNpdGUuc2x1ZyA9IG5vcm1hbGl6ZWRTbHVnIHx8IHN0b3JlZFNpdGUuc2x1ZztcbiAgICAgIHN0b3JlZFNpdGUubmFtZSA9IG5hbWUgfHwgc3RvcmVkU2l0ZS5uYW1lO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCB1cGRhdGVTaXRlTGFiZWxzID0gKG5hbWUpID0+IHtcbiAgICBpZiAoc2l0ZU5hbWVMYWJlbCAmJiBuYW1lKSB7XG4gICAgICBzaXRlTmFtZUxhYmVsLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICB9XG4gICAgaWYgKHdvcmtzcGFjZVNpdGVMYWJlbCAmJiBuYW1lKSB7XG4gICAgICB3b3Jrc3BhY2VTaXRlTGFiZWwudGV4dENvbnRlbnQgPSBuYW1lO1xuICAgIH1cbiAgICBpZiAod29ya3NwYWNlQmFja05hbWUgJiYgbmFtZSkge1xuICAgICAgd29ya3NwYWNlQmFja05hbWUudGV4dENvbnRlbnQgPSBuYW1lO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCB1cGRhdGVXb3Jrc3BhY2VOYXZMaW5rcyA9IChzbHVnKSA9PiB7XG4gICAgd29ya3NwYWNlTmF2TGlua3MuZm9yRWFjaCgobGluaykgPT4ge1xuICAgICAgY29uc3QgdGFiID0gbGluay5kYXRhc2V0LndvcmtzcGFjZVRhYjtcbiAgICAgIGlmICghdGFiKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghc2x1Zykge1xuICAgICAgICBsaW5rLmhyZWYgPSAnIyc7XG4gICAgICAgIGxpbmsuY2xhc3NMaXN0LmFkZCgncG9pbnRlci1ldmVudHMtbm9uZScsICdvcGFjaXR5LTUwJywgJ3RleHQtc2xhdGUtNDAwJyk7XG4gICAgICAgIGxpbmsuc2V0QXR0cmlidXRlKCdhcmlhLWRpc2FibGVkJywgJ3RydWUnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3Qgc2x1Z1BhdGggPSBlbmNvZGVVUklDb21wb25lbnQoc3RyaXBMZWFkaW5nU2xhc2goc2x1ZykpO1xuICAgICAgbGluay5ocmVmID0gYC9hZG1pbi9zaXRlLyR7c2x1Z1BhdGh9LyR7dGFifWA7XG4gICAgICBsaW5rLmNsYXNzTGlzdC5yZW1vdmUoJ3BvaW50ZXItZXZlbnRzLW5vbmUnLCAnb3BhY2l0eS01MCcsICd0ZXh0LXNsYXRlLTQwMCcpO1xuICAgICAgbGluay5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtZGlzYWJsZWQnKTtcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBhcHBseUFjdGl2ZVNpdGUgPSAoc2x1Zywgb3B0aW9ucyA9IHt9KSA9PiB7XG4gICAgaWYgKCFzbHVnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG5vcm1hbGl6ZWRTbHVnID0gZW5zdXJlTGVhZGluZ1NsYXNoKHNsdWcpO1xuICAgIGxldCBhY3RpdmVTaXRlTmFtZSA9XG4gICAgICBvcHRpb25zLnNpdGVOYW1lIHx8IHN0b3JlZFNpdGUubmFtZSB8fCBzaXRlTmFtZUxhYmVsPy5kYXRhc2V0LmRlZmF1bHRTaXRlTmFtZSB8fCAnJztcbiAgICBzaXRlQ2FyZHMuZm9yRWFjaCgoY2FyZCkgPT4ge1xuICAgICAgY29uc3QgY2FyZFNsdWcgPSBlbnN1cmVMZWFkaW5nU2xhc2goY2FyZC5kYXRhc2V0LnNpdGVDYXJkIHx8ICcnKTtcbiAgICAgIGNvbnN0IGlzQWN0aXZlID0gY2FyZFNsdWcgPT09IG5vcm1hbGl6ZWRTbHVnO1xuICAgICAgY29uc3QgYmFkZ2UgPSBjYXJkLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtYWN0aXZlLWJhZGdlXScpO1xuICAgICAgaWYgKGlzQWN0aXZlKSB7XG4gICAgICAgIGNhcmQuY2xhc3NMaXN0LmFkZCgnYm9yZGVyLVsjOUM2QkZGXScsICdyaW5nLTInLCAncmluZy1bIzlDNkJGRl0nLCAnc2hhZG93LW1kJyk7XG4gICAgICAgIGNhcmQuY2xhc3NMaXN0LnJlbW92ZSgnYm9yZGVyLXNsYXRlLTIwMCcpO1xuICAgICAgICBiYWRnZT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIGFjdGl2ZVNpdGVOYW1lID0gY2FyZC5kYXRhc2V0LnNpdGVOYW1lIHx8IGFjdGl2ZVNpdGVOYW1lO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FyZC5jbGFzc0xpc3QucmVtb3ZlKCdib3JkZXItWyM5QzZCRkZdJywgJ3JpbmctMicsICdyaW5nLVsjOUM2QkZGXScsICdzaGFkb3ctbWQnKTtcbiAgICAgICAgY2FyZC5jbGFzc0xpc3QuYWRkKCdib3JkZXItc2xhdGUtMjAwJyk7XG4gICAgICAgIGJhZGdlPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAob3B0aW9ucy5wZXJzaXN0ICE9PSBmYWxzZSkge1xuICAgICAgcGVyc2lzdFNpdGVTdGF0ZShub3JtYWxpemVkU2x1Zywgb3B0aW9ucy5zaXRlTmFtZSB8fCBhY3RpdmVTaXRlTmFtZSk7XG4gICAgfVxuICAgIGNvbnN0IGZpbmFsTmFtZSA9IG9wdGlvbnMuc2l0ZU5hbWUgfHwgYWN0aXZlU2l0ZU5hbWU7XG4gICAgdXBkYXRlU2l0ZUxhYmVscyhmaW5hbE5hbWUpO1xuICAgIHVwZGF0ZVdvcmtzcGFjZU5hdkxpbmtzKG5vcm1hbGl6ZWRTbHVnKTtcbiAgfTtcblxuICBjb25zdCBzZWxlY3RTaXRlID0gYXN5bmMgKHNsdWcsIG5hbWUpID0+IHtcbiAgICBjb25zdCBub3JtYWxpemVkU2x1ZyA9IGVuc3VyZUxlYWRpbmdTbGFzaChzbHVnKTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9zaXRlcy9zZWxlY3QnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBzbHVnOiBub3JtYWxpemVkU2x1ZyB9KSxcbiAgICAgIH0pO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICBzaG93VG9hc3QocGF5bG9hZC5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIHNcdTAwRTlsZWN0aW9ubmVyIGNlIHNpdGUuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICBjb25zdCBmaW5hbFNsdWcgPSBlbnN1cmVMZWFkaW5nU2xhc2gocGF5bG9hZC5zbHVnIHx8IG5vcm1hbGl6ZWRTbHVnKTtcbiAgICAgIGNvbnN0IGZpbmFsTmFtZSA9IHBheWxvYWQubmFtZSB8fCBuYW1lO1xuICAgICAgcGVyc2lzdFNpdGVTdGF0ZShmaW5hbFNsdWcsIGZpbmFsTmFtZSk7XG4gICAgICBhcHBseUFjdGl2ZVNpdGUoZmluYWxTbHVnLCB7IHNpdGVOYW1lOiBmaW5hbE5hbWUsIHBlcnNpc3Q6IGZhbHNlIH0pO1xuICAgICAgY29uc3Qgc2x1Z1BhdGggPSBlbmNvZGVVUklDb21wb25lbnQoc3RyaXBMZWFkaW5nU2xhc2goZmluYWxTbHVnKSk7XG4gICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGAvYWRtaW4vc2l0ZS8ke3NsdWdQYXRofS9kZXNpZ25gO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignW2FkbWluXSBJbXBvc3NpYmxlIGRlIHNcdTAwRTlsZWN0aW9ubmVyIGxlIHNpdGUnLCBlcnIpO1xuICAgICAgc2hvd1RvYXN0KCdFcnJldXIgaW5hdHRlbmR1ZSBsb3JzIGRlIGxhIHNcdTAwRTlsZWN0aW9uLicpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBzeW5jQWN0aXZlU2l0ZUZyb21TZXJ2ZXIgPSBhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvc2l0ZXMvY3VycmVudCcsIHsgY3JlZGVudGlhbHM6ICdzYW1lLW9yaWdpbicgfSk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwNCAmJiB3b3Jrc3BhY2VDb250ZXh0KSB7XG4gICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnL2FkbWluL3NpdGVzJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBzaXRlID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgY29uc3Qgbm9ybWFsaXplZFNsdWcgPSBlbnN1cmVMZWFkaW5nU2xhc2goc2l0ZS5zbHVnKTtcbiAgICAgIHBlcnNpc3RTaXRlU3RhdGUobm9ybWFsaXplZFNsdWcsIHNpdGUubmFtZSk7XG4gICAgICBhcHBseUFjdGl2ZVNpdGUobm9ybWFsaXplZFNsdWcsIHsgc2l0ZU5hbWU6IHNpdGUubmFtZSwgcGVyc2lzdDogZmFsc2UgfSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ1thZG1pbl0gSW1wb3NzaWJsZSBkZSByXHUwMEU5Y3VwXHUwMEU5cmVyIGxlIHNpdGUgYWN0aWYnLCBlcnIpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoaWdobGlnaHRGcm9tU3RvcmFnZU9yRGVmYXVsdCA9ICgpID0+IHtcbiAgICBpZiAoc3RvcmVkU2l0ZS5zbHVnKSB7XG4gICAgICBhcHBseUFjdGl2ZVNpdGUoc3RvcmVkU2l0ZS5zbHVnLCB7IHNpdGVOYW1lOiBzdG9yZWRTaXRlLm5hbWUsIHBlcnNpc3Q6IGZhbHNlIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBkZWZhdWx0Q2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtY2FyZF1bZGF0YS1zaXRlLWRlZmF1bHQ9XCJ0cnVlXCJdJykgfHwgc2l0ZUNhcmRzWzBdO1xuICAgIGlmIChkZWZhdWx0Q2FyZCkge1xuICAgICAgYXBwbHlBY3RpdmVTaXRlKGRlZmF1bHRDYXJkLmRhdGFzZXQuc2l0ZUNhcmQsIHtcbiAgICAgICAgc2l0ZU5hbWU6IGRlZmF1bHRDYXJkLmRhdGFzZXQuc2l0ZU5hbWUgfHwgJycsXG4gICAgICAgIHBlcnNpc3Q6IGZhbHNlLFxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIGhpZ2hsaWdodEZyb21TdG9yYWdlT3JEZWZhdWx0KCk7XG4gIHN5bmNBY3RpdmVTaXRlRnJvbVNlcnZlcigpO1xuICBpZiAod29ya3NwYWNlQ29udGV4dCkge1xuICAgIHVwZGF0ZVdvcmtzcGFjZU5hdkxpbmtzKHdvcmtzcGFjZUNvbnRleHQuc2x1Z1ZhbHVlKTtcbiAgfSBlbHNlIGlmIChzdG9yZWRTaXRlLnNsdWcpIHtcbiAgICB1cGRhdGVXb3Jrc3BhY2VOYXZMaW5rcyhzdG9yZWRTaXRlLnNsdWcpO1xuICB9XG5cbiAgc2l0ZVNlbGVjdEJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgaWYgKGJ1dHRvbi5kaXNhYmxlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBzbHVnID0gYnV0dG9uLmRhdGFzZXQuc2l0ZVNlbGVjdDtcbiAgICAgIGNvbnN0IG5hbWUgPSBidXR0b24uZGF0YXNldC5zaXRlU2VsZWN0TmFtZSB8fCAnQ2Ugc2l0ZSc7XG4gICAgICBpZiAoIXNsdWcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIHNlbGVjdFNpdGUoc2x1ZywgbmFtZSkuZmluYWxseSgoKSA9PiB7XG4gICAgICAgIGJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGNvbnN0IHdvcmtzcGFjZVNsdWdpZnkgPSAodmFsdWUpID0+XG4gICAgKHZhbHVlIHx8ICcnKVxuICAgICAgLm5vcm1hbGl6ZSgnTkZEJylcbiAgICAgIC5yZXBsYWNlKC9bXFx1MDMwMC1cXHUwMzZmXS9nLCAnJylcbiAgICAgIC50b0xvd2VyQ2FzZSgpXG4gICAgICAucmVwbGFjZSgvW15hLXowLTldKy9nLCAnLScpXG4gICAgICAucmVwbGFjZSgvXi0rfC0rJC9nLCAnJyk7XG5cbiAgY29uc3Qgbm9ybWFsaXplU2x1Z1ZhbHVlID0gKHZhbHVlKSA9PiB7XG4gICAgY29uc3QgYmFzZSA9IHdvcmtzcGFjZVNsdWdpZnkodmFsdWUgfHwgJycpO1xuICAgIGlmICghYmFzZSkge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICByZXR1cm4gYC8ke2Jhc2V9YDtcbiAgfTtcblxuICBjb25zdCBvcGVuU2l0ZU1vZGFsID0gKCkgPT4ge1xuICAgIGlmICghc2l0ZU1vZGFsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHNpdGVNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICBzaXRlTW9kYWwuY2xhc3NMaXN0LmFkZCgnZmxleCcpO1xuICAgIHNsdWdNYW51YWxseUVkaXRlZCA9IGZhbHNlO1xuICAgIHNpdGVGb3JtPy5yZXNldCgpO1xuICAgIHNpdGVTbHVnRXJyb3IgJiYgKHNpdGVTbHVnRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgc2l0ZU1vZGFsRXJyb3IgJiYgKHNpdGVNb2RhbEVycm9yLnRleHRDb250ZW50ID0gJycpO1xuICAgIGlmIChzaXRlU2x1Z0lucHV0ICYmIHNpdGVOYW1lSW5wdXQpIHtcbiAgICAgIHNpdGVTbHVnSW5wdXQudmFsdWUgPSB3b3Jrc3BhY2VTbHVnaWZ5KHNpdGVOYW1lSW5wdXQudmFsdWUpO1xuICAgIH1cbiAgICBhY3RpdmF0ZU1vZGFsKHNpdGVNb2RhbCwgY2xvc2VTaXRlTW9kYWwpO1xuICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHNpdGVOYW1lSW5wdXQ/LmZvY3VzKCk7XG4gICAgfSwgMCk7XG4gIH07XG5cbiAgY29uc3QgY2xvc2VTaXRlTW9kYWwgPSAoKSA9PiB7XG4gICAgaWYgKCFzaXRlTW9kYWwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2l0ZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgIHNpdGVNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdmbGV4Jyk7XG4gICAgc2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gICAgc2l0ZUZvcm0/LnJlc2V0KCk7XG4gICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICBzaXRlTW9kYWxFcnJvciAmJiAoc2l0ZU1vZGFsRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgZGVhY3RpdmF0ZU1vZGFsKHNpdGVNb2RhbCk7XG4gIH07XG5cbiAgc2l0ZUNyZWF0ZUJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlblNpdGVNb2RhbCk7XG4gIH0pO1xuXG4gIHNpdGVNb2RhbENhbmNlbEJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VTaXRlTW9kYWwpO1xuICB9KTtcblxuICBzaXRlTW9kYWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gc2l0ZU1vZGFsKSB7XG4gICAgICBjbG9zZVNpdGVNb2RhbCgpO1xuICAgIH1cbiAgfSk7XG5cbiAgc2l0ZU5hbWVJbnB1dD8uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgaWYgKCFzaXRlU2x1Z0lucHV0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghc2x1Z01hbnVhbGx5RWRpdGVkIHx8IHNpdGVTbHVnSW5wdXQudmFsdWUudHJpbSgpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgc2l0ZVNsdWdJbnB1dC52YWx1ZSA9IHdvcmtzcGFjZVNsdWdpZnkoc2l0ZU5hbWVJbnB1dC52YWx1ZSk7XG4gICAgfVxuICAgIC8vIENsZWFyIGVycm9ycyB3aGVuIHVzZXIgdHlwZXNcbiAgICBzaXRlU2x1Z0Vycm9yICYmIChzaXRlU2x1Z0Vycm9yLnRleHRDb250ZW50ID0gJycpO1xuICAgIHNpdGVNb2RhbEVycm9yICYmIChzaXRlTW9kYWxFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgfSk7XG5cbiAgc2l0ZVNsdWdJbnB1dD8uYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCAoKSA9PiB7XG4gICAgLy8gQXV0by1maWxsIHNsdWcgZnJvbSBuYW1lIGlmIGVtcHR5IHdoZW4gdXNlciBmb2N1c2VzIHRoZSBzbHVnIGZpZWxkXG4gICAgY29uc3Qgc2x1Z1ZhbCA9IHNpdGVTbHVnSW5wdXQ/LnZhbHVlIHx8ICcnO1xuICAgIGNvbnN0IG5hbWVWYWwgPSBzaXRlTmFtZUlucHV0Py52YWx1ZSB8fCAnJztcbiAgICBpZiAoIXNsdWdWYWwudHJpbSgpICYmIG5hbWVWYWwudHJpbSgpKSB7XG4gICAgICBzaXRlU2x1Z0lucHV0LnZhbHVlID0gd29ya3NwYWNlU2x1Z2lmeShuYW1lVmFsKTtcbiAgICB9XG4gIH0pO1xuXG4gIHNpdGVTbHVnSW5wdXQ/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgIHNsdWdNYW51YWxseUVkaXRlZCA9IHRydWU7XG4gICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICBzaXRlTW9kYWxFcnJvciAmJiAoc2l0ZU1vZGFsRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gIH0pO1xuXG4gIGNvbnN0IGdldFNsdWdTZXQgPSAoKSA9PlxuICAgIG5ldyBTZXQoQXJyYXkuZnJvbShzaXRlQ2FyZHMpLm1hcCgoY2FyZCkgPT4gZW5zdXJlTGVhZGluZ1NsYXNoKGNhcmQuZGF0YXNldC5zaXRlQ2FyZCB8fCAnJykpKTtcblxuICBzaXRlRm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zb2xlLmxvZygnW2FkbWluXSBGb3JtIHN1Ym1pdCAtIHNpdGVOYW1lSW5wdXQ6Jywgc2l0ZU5hbWVJbnB1dCwgJ3NpdGVTbHVnSW5wdXQ6Jywgc2l0ZVNsdWdJbnB1dCk7XG4gICAgXG4gICAgaWYgKCFzaXRlTmFtZUlucHV0IHx8ICFzaXRlU2x1Z0lucHV0KSB7XG4gICAgICBjb25zb2xlLmxvZygnW2FkbWluXSBNaXNzaW5nIGlucHV0cywgYWJvcnRpbmcnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgbmFtZVZhbHVlID0gKHNpdGVOYW1lSW5wdXQudmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICBsZXQgc2x1Z1ZhbHVlID0gKHNpdGVTbHVnSW5wdXQudmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICBcbiAgICBjb25zb2xlLmxvZygnW2FkbWluXSBuYW1lVmFsdWU6JywgbmFtZVZhbHVlLCAnc2x1Z1ZhbHVlOicsIHNsdWdWYWx1ZSk7XG4gICAgXG4gICAgLy8gQXV0by1nZW5lcmF0ZSBzbHVnIGZyb20gbmFtZSBpZiBlbXB0eVxuICAgIGlmICghc2x1Z1ZhbHVlICYmIG5hbWVWYWx1ZSkge1xuICAgICAgc2x1Z1ZhbHVlID0gd29ya3NwYWNlU2x1Z2lmeShuYW1lVmFsdWUpO1xuICAgICAgc2l0ZVNsdWdJbnB1dC52YWx1ZSA9IHNsdWdWYWx1ZTtcbiAgICAgIGNvbnNvbGUubG9nKCdbYWRtaW5dIEF1dG8tZ2VuZXJhdGVkIHNsdWc6Jywgc2x1Z1ZhbHVlKTtcbiAgICB9XG4gICAgXG4gICAgY29uc3Qgbm9ybWFsaXplZFNsdWcgPSBub3JtYWxpemVTbHVnVmFsdWUoc2x1Z1ZhbHVlKTtcbiAgICBjb25zb2xlLmxvZygnW2FkbWluXSBub3JtYWxpemVkU2x1ZzonLCBub3JtYWxpemVkU2x1Zyk7XG4gICAgXG4gICAgLy8gVmFsaWRhdGUgbmFtZVxuICAgIGlmICghbmFtZVZhbHVlKSB7XG4gICAgICBjb25zb2xlLmxvZygnW2FkbWluXSBOYW1lIHZhbGlkYXRpb24gZmFpbGVkJyk7XG4gICAgICBzaXRlTW9kYWxFcnJvciAmJiAoc2l0ZU1vZGFsRXJyb3IudGV4dENvbnRlbnQgPSAnTGUgbm9tIGR1IHNpdGUgZXN0IHJlcXVpcy4nKTtcbiAgICAgIHNpdGVOYW1lSW5wdXQuZm9jdXMoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgLy8gVmFsaWRhdGUgc2x1Z1xuICAgIGlmICghbm9ybWFsaXplZFNsdWcpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdbYWRtaW5dIFNsdWcgdmFsaWRhdGlvbiBmYWlsZWQnKTtcbiAgICAgIHNpdGVTbHVnRXJyb3IgJiYgKHNpdGVTbHVnRXJyb3IudGV4dENvbnRlbnQgPSAnTGUgc2x1ZyBuZSBwZXV0IHBhcyBcdTAwRUF0cmUgdmlkZSBvdSBjb250ZW5pciB1bmlxdWVtZW50IGRlcyBjYXJhY3RcdTAwRThyZXMgc3BcdTAwRTljaWF1eC4nKTtcbiAgICAgIHNpdGVTbHVnSW5wdXQuZm9jdXMoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgZXhpc3RpbmdTbHVncyA9IGdldFNsdWdTZXQoKTtcbiAgICBpZiAoZXhpc3RpbmdTbHVncy5oYXMobm9ybWFsaXplZFNsdWcpKSB7XG4gICAgICBzaXRlU2x1Z0Vycm9yICYmIChzaXRlU2x1Z0Vycm9yLnRleHRDb250ZW50ID0gJ0NlIHNsdWcgZXN0IGRcdTAwRTlqXHUwMEUwIHV0aWxpc1x1MDBFOS4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICBzaXRlTW9kYWxFcnJvciAmJiAoc2l0ZU1vZGFsRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgaWYgKHNpdGVNb2RhbFN1Ym1pdEJ1dHRvbikge1xuICAgICAgc2l0ZU1vZGFsU3VibWl0QnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIHNpdGVNb2RhbFN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9ICdDclx1MDBFOWF0aW9uLi4uJztcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvc2l0ZXMnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBuYW1lOiBuYW1lVmFsdWUsIHNsdWc6IG5vcm1hbGl6ZWRTbHVnIH0pLFxuICAgICAgfSk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBwYXlsb2FkLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgY3JcdTAwRTllciBjZSBzaXRlLic7XG4gICAgICAgIHNpdGVNb2RhbEVycm9yICYmIChzaXRlTW9kYWxFcnJvci50ZXh0Q29udGVudCA9IG1lc3NhZ2UpO1xuICAgICAgICBpZiAocGF5bG9hZC5maWVsZCA9PT0gJ3NsdWcnKSB7XG4gICAgICAgICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9IG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNyZWF0ZWRTaXRlID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgY29uc3QgZmluYWxTbHVnID0gZW5zdXJlTGVhZGluZ1NsYXNoKGNyZWF0ZWRTaXRlPy5zbHVnIHx8IG5vcm1hbGl6ZWRTbHVnKTtcbiAgICAgIGNvbnN0IGZpbmFsTmFtZSA9IGNyZWF0ZWRTaXRlPy5uYW1lIHx8IG5hbWVWYWx1ZTtcbiAgICAgIHBlcnNpc3RTaXRlU3RhdGUoZmluYWxTbHVnLCBmaW5hbE5hbWUpO1xuICAgICAgY2xvc2VTaXRlTW9kYWwoKTtcbiAgICAgIGNvbnN0IHNsdWdQYXRoID0gZW5jb2RlVVJJQ29tcG9uZW50KHN0cmlwTGVhZGluZ1NsYXNoKGZpbmFsU2x1ZykpO1xuICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBgL2FkbWluL3NpdGUvJHtzbHVnUGF0aH0vZGVzaWduYDtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1thZG1pbl0gSW1wb3NzaWJsZSBkZSBjclx1MDBFOWVyIGxlIHNpdGUnLCBlcnIpO1xuICAgICAgc2l0ZU1vZGFsRXJyb3IgJiYgKHNpdGVNb2RhbEVycm9yLnRleHRDb250ZW50ID0gJ0VycmV1ciBpbmF0dGVuZHVlLiBSXHUwMEU5ZXNzYWllIGRhbnMgdW4gaW5zdGFudC4nKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKHNpdGVNb2RhbFN1Ym1pdEJ1dHRvbikge1xuICAgICAgICBzaXRlTW9kYWxTdWJtaXRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgc2l0ZU1vZGFsU3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gJ0NyXHUwMEU5ZXInO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZlbnQpID0+IHtcbiAgICBpZiAoZXZlbnQua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgaWYgKHNpdGVNb2RhbCAmJiAhc2l0ZU1vZGFsLmNsYXNzTGlzdC5jb250YWlucygnaGlkZGVuJykpIHtcbiAgICAgICAgY2xvc2VTaXRlTW9kYWwoKTtcbiAgICAgIH1cbiAgICAgIGlmICh3b3Jrc3BhY2VCYWNrTW9kYWwgJiYgIXdvcmtzcGFjZUJhY2tNb2RhbC5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpKSB7XG4gICAgICAgIGNsb3NlV29ya3NwYWNlQmFja01vZGFsKCk7XG4gICAgICB9XG4gICAgICBpZiAoYmxvY2tEZWxldGVNb2RhbCAmJiAhYmxvY2tEZWxldGVNb2RhbC5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpKSB7XG4gICAgICAgIGNsb3NlQmxvY2tEZWxldGVNb2RhbCgpO1xuICAgICAgfVxuICAgICAgaWYgKGJsb2NrTGlicmFyeU9wZW4pIHtcbiAgICAgICAgY2xvc2VCbG9ja0xpYnJhcnkoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIGdldFdvcmtzcGFjZUNvbnRleHQoKSB7XG4gICAgY29uc3QgbWF0Y2ggPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUubWF0Y2goL15cXC9hZG1pblxcL3NpdGVcXC8oW14vXSspKD86XFwvKFteL10rKSk/Lyk7XG4gICAgaWYgKCFtYXRjaCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBzbHVnUGFydDogZGVjb2RlVVJJQ29tcG9uZW50KG1hdGNoWzFdKSxcbiAgICAgIHNsdWdWYWx1ZTogZW5zdXJlTGVhZGluZ1NsYXNoKGRlY29kZVVSSUNvbXBvbmVudChtYXRjaFsxXSkpLFxuICAgICAgc2VjdGlvbjogbWF0Y2hbMl0gfHwgJ2Rlc2lnbicsXG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRldGVjdFdvcmtzcGFjZVNlY3Rpb24oKSB7XG4gICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXBhZ2UtbGlzdF0nKSkge1xuICAgICAgcmV0dXJuICdkZXNpZ24nO1xuICAgIH1cbiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29sbGVjdGlvbi1saXN0XScpKSB7XG4gICAgICByZXR1cm4gJ2NvbnRlbnQnO1xuICAgIH1cbiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZ3JpZF0nKSkge1xuICAgICAgcmV0dXJuICdtZWRpYSc7XG4gICAgfVxuICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktZm9ybV0nKSkge1xuICAgICAgcmV0dXJuICdkZXBsb3knO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9wZW5Xb3Jrc3BhY2VCYWNrTW9kYWwoKSB7XG4gICAgaWYgKCF3b3Jrc3BhY2VCYWNrTW9kYWwpIHtcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9hZG1pbi9zaXRlcyc7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHdvcmtzcGFjZUJhY2tNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICB3b3Jrc3BhY2VCYWNrTW9kYWwuY2xhc3NMaXN0LmFkZCgnZmxleCcpO1xuICAgIGFjdGl2YXRlTW9kYWwod29ya3NwYWNlQmFja01vZGFsLCBjbG9zZVdvcmtzcGFjZUJhY2tNb2RhbCk7XG4gIH1cblxuICBmdW5jdGlvbiBjbG9zZVdvcmtzcGFjZUJhY2tNb2RhbCgpIHtcbiAgICBpZiAoIXdvcmtzcGFjZUJhY2tNb2RhbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB3b3Jrc3BhY2VCYWNrTW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgd29ya3NwYWNlQmFja01vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2ZsZXgnKTtcbiAgICBkZWFjdGl2YXRlTW9kYWwod29ya3NwYWNlQmFja01vZGFsKTtcbiAgfVxuXG4gIHdvcmtzcGFjZUJhY2tCdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5Xb3Jrc3BhY2VCYWNrTW9kYWwpO1xuICB9KTtcbiAgd29ya3NwYWNlQmFja0NhbmNlbC5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZVdvcmtzcGFjZUJhY2tNb2RhbCk7XG4gIH0pO1xuICB3b3Jrc3BhY2VCYWNrQ29uZmlybT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgY2xvc2VXb3Jrc3BhY2VCYWNrTW9kYWwoKTtcbiAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvYWRtaW4vc2l0ZXMnO1xuICB9KTtcblxuICBjb25zdCBhY3RpdmVTZWN0aW9uID0gd29ya3NwYWNlQ29udGV4dD8uc2VjdGlvbiB8fCBkZXRlY3RXb3Jrc3BhY2VTZWN0aW9uKCk7XG5cbiAgaWYgKGFjdGl2ZVNlY3Rpb24gPT09ICdkZXNpZ24nKSB7XG4gICAgaW5pdERlc2lnbldvcmtzcGFjZSgpO1xuICB9XG4gIGlmIChhY3RpdmVTZWN0aW9uID09PSAnY29udGVudCcpIHtcbiAgICBpbml0Q29udGVudFdvcmtzcGFjZSgpO1xuICB9XG4gIGlmIChhY3RpdmVTZWN0aW9uID09PSAnbWVkaWEnKSB7XG4gICAgaW5pdE1lZGlhV29ya3NwYWNlKCk7XG4gIH1cbiAgaWYgKGFjdGl2ZVNlY3Rpb24gPT09ICdkZXBsb3knKSB7XG4gICAgaW5pdERlcGxveVdvcmtzcGFjZSgpO1xuICB9XG4gIGlmIChhY3RpdmVTZWN0aW9uID09PSAnc2V0dGluZ3MnKSB7XG4gICAgaW5pdFNldHRpbmdzV29ya3NwYWNlKCk7XG4gIH1cblxuICBpZiAod29ya3NwYWNlQ29udGV4dCAmJiBzdG9yZWRTaXRlLm5hbWUpIHtcbiAgICB1cGRhdGVTaXRlTGFiZWxzKHN0b3JlZFNpdGUubmFtZSk7XG4gIH1cblxuICBmdW5jdGlvbiBpbml0RGVzaWduV29ya3NwYWNlKCkge1xuICAgIGNvbnN0IHBhZ2VMaXN0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXBhZ2UtbGlzdF0nKTtcbiAgICBpZiAocGFnZUxpc3RzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBhY3RpdmVUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFjdGl2ZS1wYWdlLXRpdGxlXScpO1xuICAgIGNvbnN0IGFjdGl2ZVNsdWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hY3RpdmUtcGFnZS1zbHVnXScpO1xuICAgIGNvbnN0IHByZXZpZXdUYWdzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcmV2aWV3LXRhZ3NdJyk7XG4gICAgY29uc3QgcHJldmlld0ZyYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcmV2aWV3LWZyYW1lXScpO1xuICAgIGNvbnN0IHByZXZpZXdPcGVuQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcHJldmlldy1vcGVuXScpO1xuICAgIGNvbnN0IHByZXZpZXdTdGF0dXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wcmV2aWV3LXN0YXR1c10nKTtcbiAgICBjb25zdCBwcmV2aWV3SGlnaGxpZ2h0T3ZlcmxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXByZXZpZXctaGlnaGxpZ2h0XScpO1xuICAgIC8vIFNFTyBwYW5lbCBlbGVtZW50c1xuICAgIGNvbnN0IHNlb1RvZ2dsZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby10b2dnbGVdJyk7XG4gICAgY29uc3Qgc2VvUGFuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8tcGFuZWxdJyk7XG4gICAgY29uc3Qgc2VvQ2xvc2VCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8tY2xvc2VdJyk7XG4gICAgY29uc3Qgc2VvRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby1mb3JtXScpO1xuICAgIGNvbnN0IHNlb1RpdGxlSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8tdGl0bGVdJyk7XG4gICAgY29uc3Qgc2VvRGVzY3JpcHRpb25JbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby1kZXNjcmlwdGlvbl0nKTtcbiAgICBjb25zdCBzZW9JbmRleGVkQ2hlY2tib3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8taW5kZXhlZF0nKTtcbiAgICBjb25zdCBzZW9GZWVkYmFjayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby1mZWVkYmFja10nKTtcbiAgICBjb25zdCBzZW9TYXZlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2VvLXNhdmVdJyk7XG4gICAgY29uc3QgcGFnZUFjY2Vzc2liaWxpdHlUb2dnbGVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgJ1tkYXRhLXBhZ2UtYWNjZXNzaWJpbGl0eS10b2dnbGVdJyxcbiAgICApO1xuICAgIGNvbnN0IHBhZ2VBY2Nlc3NpYmlsaXR5UGFuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLWFjY2Vzc2liaWxpdHktcGFuZWxdJyk7XG4gICAgY29uc3QgcGFnZUFjY2Vzc2liaWxpdHlDbG9zZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAnW2RhdGEtcGFnZS1hY2Nlc3NpYmlsaXR5LWNsb3NlXScsXG4gICAgKTtcbiAgICBjb25zdCBwYWdlQWNjZXNzaWJpbGl0eUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLWFjY2Vzc2liaWxpdHktZm9ybV0nKTtcbiAgICBjb25zdCBwYWdlQWNjZXNzaWJpbGl0eU5hdkNoZWNrYm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgICdbZGF0YS1wYWdlLWFjY2Vzc2liaWxpdHktbmF2XScsXG4gICAgKTtcbiAgICBjb25zdCBwYWdlQWNjZXNzaWJpbGl0eU1haW5JbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAnW2RhdGEtcGFnZS1hY2Nlc3NpYmlsaXR5LW1haW5dJyxcbiAgICApO1xuICAgIGNvbnN0IHBhZ2VBY2Nlc3NpYmlsaXR5RmVlZGJhY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgJ1tkYXRhLXBhZ2UtYWNjZXNzaWJpbGl0eS1mZWVkYmFja10nLFxuICAgICk7XG4gICAgY29uc3QgcGFnZUFjY2Vzc2liaWxpdHlTYXZlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgICdbZGF0YS1wYWdlLWFjY2Vzc2liaWxpdHktc2F2ZV0nLFxuICAgICk7XG4gICAgLy8gUGFnZSBwcm9wZXJ0aWVzIHBhbmVsIGVsZW1lbnRzXG4gICAgY29uc3QgcGFnZVByb3BzVG9nZ2xlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcm9wcy10b2dnbGVdJyk7XG4gICAgY29uc3QgcGFnZVByb3BzUGFuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLXByb3BzLXBhbmVsXScpO1xuICAgIGNvbnN0IHBhZ2VQcm9wc0Nsb3NlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcm9wcy1jbG9zZV0nKTtcbiAgICBjb25zdCBwYWdlUHJvcHNGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcm9wcy1mb3JtXScpO1xuICAgIGNvbnN0IHBhZ2VOYW1lSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLW5hbWVdJyk7XG4gICAgY29uc3QgcGFnZVRpdGxlSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLXRpdGxlLWlucHV0XScpO1xuICAgIGNvbnN0IHBhZ2VTbHVnSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLXNsdWctaW5wdXRdJyk7XG4gICAgY29uc3QgcGFnZURlc2NyaXB0aW9uSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLWRlc2NyaXB0aW9uXScpO1xuICAgIGNvbnN0IHBhZ2VQcm9wc0ZlZWRiYWNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcm9wcy1mZWVkYmFja10nKTtcbiAgICBjb25zdCBwYWdlUHJvcHNTYXZlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcm9wcy1zYXZlXScpO1xuICAgIGNvbnN0IGJsb2NrTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2Nrcy1saXN0XScpO1xuICAgIGNvbnN0IGJsb2NrTGlzdEVtcHR5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2tzLWVtcHR5XScpO1xuICAgIGNvbnN0IGJsb2NrQ291bnRCYWRnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWNvdW50XScpO1xuICAgIGNvbnN0IGJsb2NrTGlicmFyeVRvZ2dsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWxpYnJhcnktdG9nZ2xlXScpO1xuICAgIGNvbnN0IGJsb2NrTGlicmFyeSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWxpYnJhcnldJyk7XG4gICAgY29uc3QgYmxvY2tBZGRCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYmxvY2stYWRkXScpO1xuICAgIGNvbnN0IGJsb2NrRGVsZXRlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1kZWxldGUtbW9kYWxdJyk7XG4gICAgY29uc3QgYmxvY2tEZWxldGVDb25maXJtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZGVsZXRlLWNvbmZpcm1dJyk7XG4gICAgY29uc3QgYmxvY2tEZWxldGVDYW5jZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1kZWxldGUtY2FuY2VsXScpO1xuICAgIGNvbnN0IGJsb2NrRGV0YWlsRW1wdHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1kZXRhaWwtZW1wdHldJyk7XG4gICAgY29uc3QgYmxvY2tEZXRhaWxTdGF0dXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1kZXRhaWwtc3RhdHVzXScpO1xuICAgIGNvbnN0IGJsb2NrRWRpdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZWRpdG9yXScpO1xuICAgIGNvbnN0IGJsb2NrRWRpdG9yVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1lZGl0b3ItYmxvY2stbmFtZV0nKTtcbiAgICBjb25zdCBibG9ja0VkaXRvclR5cGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1lZGl0b3ItYmxvY2stdHlwZV0nKTtcbiAgICBjb25zdCBibG9ja0VkaXRvclVuc3VwcG9ydGVkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZWRpdG9yLXVuc3VwcG9ydGVkXScpO1xuICAgIGNvbnN0IGJsb2NrRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWZvcm1dJyk7XG4gICAgY29uc3QgYmxvY2tGb3JtU2VjdGlvbnMgPSBibG9ja0Zvcm1cbiAgICAgID8gQXJyYXkuZnJvbShibG9ja0Zvcm0ucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtZWRpdG9yLXNlY3Rpb25dJykpXG4gICAgICA6IFtdO1xuICAgIC8vIE9uZ2xldHMgQ29udGVudSAvIEFwcGFyZW5jZVxuICAgIGNvbnN0IGJsb2NrVGFicyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWJsb2NrLXRhYl0nKTtcbiAgICBsZXQgYWN0aXZlQmxvY2tUYWIgPSAnY29udGVudCc7XG5cbiAgICAvLyBPbmdsZXRzIHBhbm5lYXUgZ2F1Y2hlIChCbG9jcyAvIFBhZ2VzKVxuICAgIGNvbnN0IGxlZnRQYW5lbFRhYnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1sZWZ0LXRhYl0nKTtcbiAgICBjb25zdCBsZWZ0UGFuZWxCbG9ja3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1sZWZ0LXBhbmVsPVwiYmxvY2tzXCJdJyk7XG4gICAgY29uc3QgbGVmdFBhbmVsUGFnZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1sZWZ0LXBhbmVsPVwicGFnZXNcIl0nKTtcbiAgICBsZXQgYWN0aXZlTGVmdFRhYiA9ICdibG9ja3MnO1xuXG4gICAgLy8gRm9uY3Rpb24gcG91ciBzd2l0Y2hlciBlbnRyZSBsZXMgb25nbGV0cyBCbG9jcy9QYWdlcyBkdSBwYW5uZWF1IGdhdWNoZVxuICAgIGNvbnN0IHN3aXRjaExlZnRUYWIgPSAodGFiTmFtZSkgPT4ge1xuICAgICAgYWN0aXZlTGVmdFRhYiA9IHRhYk5hbWU7XG4gICAgICBsZWZ0UGFuZWxUYWJzLmZvckVhY2goKHRhYikgPT4ge1xuICAgICAgICBjb25zdCBpc0FjdGl2ZSA9IHRhYi5kYXRhc2V0LmxlZnRUYWIgPT09IHRhYk5hbWU7XG4gICAgICAgIHRhYi5zZXRBdHRyaWJ1dGUoJ2FyaWEtc2VsZWN0ZWQnLCBpc0FjdGl2ZSA/ICd0cnVlJyA6ICdmYWxzZScpO1xuICAgICAgICBpZiAoaXNBY3RpdmUpIHtcbiAgICAgICAgICB0YWIuY2xhc3NMaXN0LmFkZCgndGV4dC1bIzlDNkJGRl0nKTtcbiAgICAgICAgICB0YWIuY2xhc3NMaXN0LnJlbW92ZSgndGV4dC1zbGF0ZS01MDAnLCAnaG92ZXI6dGV4dC1zbGF0ZS03MDAnKTtcbiAgICAgICAgICB0YWIuY2xhc3NMaXN0LmFkZCgnYWZ0ZXI6YWJzb2x1dGUnLCAnYWZ0ZXI6Ym90dG9tLTAnLCAnYWZ0ZXI6bGVmdC0wJywgJ2FmdGVyOnJpZ2h0LTAnLCAnYWZ0ZXI6aC0wLjUnLCAnYWZ0ZXI6YmctWyM5QzZCRkZdJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGFiLmNsYXNzTGlzdC5yZW1vdmUoJ3RleHQtWyM5QzZCRkZdJyk7XG4gICAgICAgICAgdGFiLmNsYXNzTGlzdC5hZGQoJ3RleHQtc2xhdGUtNTAwJywgJ2hvdmVyOnRleHQtc2xhdGUtNzAwJyk7XG4gICAgICAgICAgdGFiLmNsYXNzTGlzdC5yZW1vdmUoJ2FmdGVyOmFic29sdXRlJywgJ2FmdGVyOmJvdHRvbS0wJywgJ2FmdGVyOmxlZnQtMCcsICdhZnRlcjpyaWdodC0wJywgJ2FmdGVyOmgtMC41JywgJ2FmdGVyOmJnLVsjOUM2QkZGXScpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIC8vIEFmZmljaGVyL21hc3F1ZXIgbGVzIHBhbmVsc1xuICAgICAgaWYgKGxlZnRQYW5lbEJsb2Nrcykge1xuICAgICAgICBsZWZ0UGFuZWxCbG9ja3MuY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZGVuJywgdGFiTmFtZSAhPT0gJ2Jsb2NrcycpO1xuICAgICAgfVxuICAgICAgaWYgKGxlZnRQYW5lbFBhZ2VzKSB7XG4gICAgICAgIGxlZnRQYW5lbFBhZ2VzLmNsYXNzTGlzdC50b2dnbGUoJ2hpZGRlbicsIHRhYk5hbWUgIT09ICdwYWdlcycpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBFdmVudCBsaXN0ZW5lcnMgcG91ciBsZXMgb25nbGV0cyBkdSBwYW5uZWF1IGdhdWNoZVxuICAgIGxlZnRQYW5lbFRhYnMuZm9yRWFjaCgodGFiKSA9PiB7XG4gICAgICB0YWIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIHN3aXRjaExlZnRUYWIodGFiLmRhdGFzZXQubGVmdFRhYik7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBcbiAgICAvLyBEXHUwMEU5Y2xhcmF0aW9ucyBkZXMgXHUwMEU5bFx1MDBFOW1lbnRzIGQnYWN0aW9ucyBkdSBmb3JtdWxhaXJlIChhdmFudCBzd2l0Y2hCbG9ja1RhYilcbiAgICBjb25zdCBibG9ja0Zvcm1BY3Rpb25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZm9ybS1hY3Rpb25zXScpO1xuICAgIGNvbnN0IGJsb2NrRm9ybUF1dG9zYXZlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZm9ybS1hdXRvc2F2ZV0nKTtcblxuICAgIC8vIEZvbmN0aW9uIHBvdXIgc3dpdGNoZXIgZW50cmUgbGVzIG9uZ2xldHMgQ29udGVudS9BcHBhcmVuY2VcbiAgICBjb25zdCBzd2l0Y2hCbG9ja1RhYiA9ICh0YWJOYW1lKSA9PiB7XG4gICAgICBhY3RpdmVCbG9ja1RhYiA9IHRhYk5hbWU7XG4gICAgICAvLyBNZXR0cmUgXHUwMEUwIGpvdXIgbGVzIHN0eWxlcyBkZXMgYm91dG9ucyBkJ29uZ2xldFxuICAgICAgYmxvY2tUYWJzLmZvckVhY2goKHRhYikgPT4ge1xuICAgICAgICBjb25zdCBpc0FjdGl2ZSA9IHRhYi5kYXRhc2V0LmJsb2NrVGFiID09PSB0YWJOYW1lO1xuICAgICAgICB0YWIuc2V0QXR0cmlidXRlKCdhcmlhLXNlbGVjdGVkJywgaXNBY3RpdmUgPyAndHJ1ZScgOiAnZmFsc2UnKTtcbiAgICAgICAgaWYgKGlzQWN0aXZlKSB7XG4gICAgICAgICAgdGFiLmNsYXNzTGlzdC5hZGQoJ3RleHQtWyM5QzZCRkZdJyk7XG4gICAgICAgICAgdGFiLmNsYXNzTGlzdC5yZW1vdmUoJ3RleHQtc2xhdGUtNTAwJywgJ2hvdmVyOnRleHQtc2xhdGUtNzAwJyk7XG4gICAgICAgICAgdGFiLmNsYXNzTGlzdC5hZGQoJ2FmdGVyOmFic29sdXRlJywgJ2FmdGVyOmJvdHRvbS0wJywgJ2FmdGVyOmxlZnQtMCcsICdhZnRlcjpyaWdodC0wJywgJ2FmdGVyOmgtMC41JywgJ2FmdGVyOmJnLVsjOUM2QkZGXScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRhYi5jbGFzc0xpc3QucmVtb3ZlKCd0ZXh0LVsjOUM2QkZGXScpO1xuICAgICAgICAgIHRhYi5jbGFzc0xpc3QuYWRkKCd0ZXh0LXNsYXRlLTUwMCcsICdob3Zlcjp0ZXh0LXNsYXRlLTcwMCcpO1xuICAgICAgICAgIHRhYi5jbGFzc0xpc3QucmVtb3ZlKCdhZnRlcjphYnNvbHV0ZScsICdhZnRlcjpib3R0b20tMCcsICdhZnRlcjpsZWZ0LTAnLCAnYWZ0ZXI6cmlnaHQtMCcsICdhZnRlcjpoLTAuNScsICdhZnRlcjpiZy1bIzlDNkJGRl0nKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICAvLyBBZmZpY2hlci9tYXNxdWVyIGxlcyBwYW5lbHMgZGFucyBsYSBzZWN0aW9uIGFjdGl2ZVxuICAgICAgY29uc3QgYWN0aXZlU2VjdGlvbiA9IGJsb2NrRm9ybT8ucXVlcnlTZWxlY3RvcignW2RhdGEtZWRpdG9yLXNlY3Rpb25dOm5vdCguaGlkZGVuKScpO1xuICAgICAgaWYgKGFjdGl2ZVNlY3Rpb24pIHtcbiAgICAgICAgY29uc3QgcGFuZWxzID0gYWN0aXZlU2VjdGlvbi5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1ibG9jay1wYW5lbF0nKTtcbiAgICAgICAgcGFuZWxzLmZvckVhY2goKHBhbmVsKSA9PiB7XG4gICAgICAgICAgaWYgKHBhbmVsLmRhdGFzZXQuYmxvY2tQYW5lbCA9PT0gdGFiTmFtZSkge1xuICAgICAgICAgICAgcGFuZWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhbmVsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICAvLyBBZmZpY2hlci9tYXNxdWVyIGxlcyBib3V0b25zIHNlbG9uIGwnb25nbGV0XG4gICAgICAvLyBDb250ZW51IFx1MjE5MiBib3V0b25zIEVucmVnaXN0cmVyL0FubnVsZXJcbiAgICAgIC8vIEFwcGFyZW5jZSBcdTIxOTIgaW5kaWNhdGV1ciBhdXRvLXNhdmVcbiAgICAgIGlmIChibG9ja0Zvcm1BY3Rpb25zICYmIGJsb2NrRm9ybUF1dG9zYXZlKSB7XG4gICAgICAgIGlmICh0YWJOYW1lID09PSAnY29udGVudCcpIHtcbiAgICAgICAgICBibG9ja0Zvcm1BY3Rpb25zLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgIGJsb2NrRm9ybUF1dG9zYXZlLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGJsb2NrRm9ybUFjdGlvbnMuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgICAgYmxvY2tGb3JtQXV0b3NhdmUuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gRXZlbnQgbGlzdGVuZXJzIHBvdXIgbGVzIG9uZ2xldHNcbiAgICBibG9ja1RhYnMuZm9yRWFjaCgodGFiKSA9PiB7XG4gICAgICB0YWIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIHN3aXRjaEJsb2NrVGFiKHRhYi5kYXRhc2V0LmJsb2NrVGFiKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgY29uc3QgY29sbGVjdGlvblNlbGVjdCA9IGJsb2NrRm9ybT8ucXVlcnlTZWxlY3RvcignW25hbWU9XCJjb2xsZWN0aW9uLWdyaWQtY29sbGVjdGlvblwiXScpO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25TZWxlY3Rpb25JbmZvID0gYmxvY2tGb3JtPy5xdWVyeVNlbGVjdG9yKFxuICAgICAgJ1tkYXRhLWNvbGxlY3Rpb24tc2VsZWN0aW9uLWluZm9dJyxcbiAgICApO1xuICAgIGNvbnN0IGJsb2NrRm9ybUNhbmNlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWZvcm0tY2FuY2VsXScpO1xuICAgIGNvbnN0IGdyb3VwUHJldmlld01vYmlsZSA9IGJsb2NrRm9ybT8ucXVlcnlTZWxlY3RvcignW2RhdGEtZ3JvdXAtcHJldmlldy1tb2JpbGVdJyk7XG4gICAgY29uc3QgZ3JvdXBQcmV2aWV3RGVza3RvcCA9IGJsb2NrRm9ybT8ucXVlcnlTZWxlY3RvcignW2RhdGEtZ3JvdXAtcHJldmlldy1kZXNrdG9wXScpO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25QcmV2aWV3TW9iaWxlID0gYmxvY2tGb3JtPy5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xsZWN0aW9uLXByZXZpZXctbW9iaWxlXScpO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25QcmV2aWV3RGVza3RvcCA9IGJsb2NrRm9ybT8ucXVlcnlTZWxlY3RvcignW2RhdGEtY29sbGVjdGlvbi1wcmV2aWV3LWRlc2t0b3BdJyk7XG4gICAgY29uc3QgYmxvY2tUeXBlRm9ybXMgPSB7XG4gICAgICBoZXJvOiB7XG4gICAgICAgIHNlY3Rpb246ICdoZXJvJyxcbiAgICAgICAgbGFiZWxGaWVsZDogJ3RpdGxlJyxcbiAgICAgICAgZGVzY3JpcHRpb25GaWVsZDogJ3N1YnRpdGxlJyxcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgdGl0bGU6ICdoZXJvLXRpdGxlJyxcbiAgICAgICAgICBzdWJ0aXRsZTogJ2hlcm8tc3VidGl0bGUnLFxuICAgICAgICAgIGN0YUxhYmVsOiAnaGVyby1jdGEtbGFiZWwnLFxuICAgICAgICAgIGN0YVVybDogJ2hlcm8tY3RhLXVybCcsXG4gICAgICAgICAgLy8gQXBwYXJlbmNlXG4gICAgICAgICAgaW1hZ2U6ICdoZXJvLWltYWdlJyxcbiAgICAgICAgICBsYXlvdXQ6ICdoZXJvLWxheW91dCcsXG4gICAgICAgICAgaGVpZ2h0OiAnaGVyby1oZWlnaHQnLFxuICAgICAgICAgIGNvbnRlbnRBbGlnbjogJ2hlcm8tY29udGVudC1hbGlnbicsXG4gICAgICAgICAgaG9yaXpvbnRhbEFsaWduOiAnaGVyby1ob3Jpem9udGFsLWFsaWduJyxcbiAgICAgICAgICB0ZXh0QWxpZ246ICdoZXJvLXRleHQtYWxpZ24nLFxuICAgICAgICAgIG92ZXJsYXk6ICdoZXJvLW92ZXJsYXknLFxuICAgICAgICAgIHRpdGxlU2l6ZTogJ2hlcm8tdGl0bGUtc2l6ZScsXG4gICAgICAgICAgLy8gQ2FyZCBzdHlsZVxuICAgICAgICAgIGJnOiAnaGVyby1iZycsXG4gICAgICAgICAgYm9yZGVyUmFkaXVzOiAnaGVyby1ib3JkZXItcmFkaXVzJyxcbiAgICAgICAgICBzaGFkb3c6ICdoZXJvLXNoYWRvdycsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgcGFyYWdyYXBoZToge1xuICAgICAgICBzZWN0aW9uOiAncGFyYWdyYXBoJyxcbiAgICAgICAgbGFiZWxGaWVsZDogJ3RpdGxlJyxcbiAgICAgICAgZGVzY3JpcHRpb25GaWVsZDogJ2NvbnRlbnQnLFxuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICB0aXRsZTogJ3BhcmFncmFwaC10aXRsZScsXG4gICAgICAgICAgY29udGVudDogJ3BhcmFncmFwaC1jb250ZW50JyxcbiAgICAgICAgICAvLyBBcHBhcmVuY2VcbiAgICAgICAgICBhbGlnbjogJ3BhcmFncmFwaC1hbGlnbicsXG4gICAgICAgICAgdGl0bGVTaXplOiAncGFyYWdyYXBoLXRpdGxlLXNpemUnLFxuICAgICAgICAgIHRleHRTaXplOiAncGFyYWdyYXBoLXRleHQtc2l6ZScsXG4gICAgICAgICAgc3BhY2luZzogJ3BhcmFncmFwaC1zcGFjaW5nJyxcbiAgICAgICAgICAvLyBDYXJkIHN0eWxlXG4gICAgICAgICAgYmc6ICdwYXJhZ3JhcGgtYmcnLFxuICAgICAgICAgIGJvcmRlclJhZGl1czogJ3BhcmFncmFwaC1ib3JkZXItcmFkaXVzJyxcbiAgICAgICAgICBzaGFkb3c6ICdwYXJhZ3JhcGgtc2hhZG93JyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBpbWFnZToge1xuICAgICAgICBzZWN0aW9uOiAnaW1hZ2UnLFxuICAgICAgICBsYWJlbEZpZWxkOiAnYWx0JyxcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgc3JjOiAnaW1hZ2Utc3JjJyxcbiAgICAgICAgICBhbHQ6ICdpbWFnZS1hbHQnLFxuICAgICAgICAgIHNob3dDYXB0aW9uOiAnaW1hZ2UtY2FwdGlvbi10b2dnbGUnLFxuICAgICAgICAgIGNhcHRpb246ICdpbWFnZS1jYXB0aW9uJyxcbiAgICAgICAgICAvLyBBcHBhcmVuY2VcbiAgICAgICAgICByb3VuZGVkOiAnaW1hZ2Utcm91bmRlZCcsXG4gICAgICAgICAgc2hhZG93OiAnaW1hZ2Utc2hhZG93JyxcbiAgICAgICAgICBtYXhXaWR0aDogJ2ltYWdlLW1heC13aWR0aCcsXG4gICAgICAgICAgaGVpZ2h0OiAnaW1hZ2UtaGVpZ2h0JyxcbiAgICAgICAgICBvYmplY3RGaXQ6ICdpbWFnZS1vYmplY3QtZml0JyxcbiAgICAgICAgICBhbGlnbjogJ2ltYWdlLWFsaWduJyxcbiAgICAgICAgICAvLyBDYXJkIHN0eWxlXG4gICAgICAgICAgYmc6ICdpbWFnZS1iZycsXG4gICAgICAgICAgYm9yZGVyUmFkaXVzOiAnaW1hZ2UtYm9yZGVyLXJhZGl1cycsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgZ3JvdXBlOiB7XG4gICAgICAgIHNlY3Rpb246ICdncm91cCcsXG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIC8vIEFwcGFyZW5jZVxuICAgICAgICAgIGNvbHVtbnNNb2JpbGU6ICdncm91cC1jb2x1bW5zLW1vYmlsZScsXG4gICAgICAgICAgY29sdW1uc0Rlc2t0b3A6ICdncm91cC1jb2x1bW5zLWRlc2t0b3AnLFxuICAgICAgICAgIGdhcDogJ2dyb3VwLWdhcCcsXG4gICAgICAgICAgaXRlbXNBbGlnbjogJ2dyb3VwLWl0ZW1zLWFsaWduJyxcbiAgICAgICAgICBtb2JpbGVMYXlvdXQ6ICdncm91cC1tb2JpbGUtbGF5b3V0JyxcbiAgICAgICAgICAvLyBDYXJkIHN0eWxlXG4gICAgICAgICAgYmc6ICdncm91cC1iZycsXG4gICAgICAgICAgYm9yZGVyUmFkaXVzOiAnZ3JvdXAtYm9yZGVyLXJhZGl1cycsXG4gICAgICAgICAgc2hhZG93OiAnZ3JvdXAtc2hhZG93JyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBjb2xsZWN0aW9uZ3JpZDoge1xuICAgICAgICBzZWN0aW9uOiAnY29sbGVjdGlvbicsXG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIGNvbGxlY3Rpb25JZDogJ2NvbGxlY3Rpb24tZ3JpZC1jb2xsZWN0aW9uJyxcbiAgICAgICAgICBsaW1pdDogJ2NvbGxlY3Rpb24tZ3JpZC1saW1pdCcsXG4gICAgICAgICAgLy8gQXBwYXJlbmNlXG4gICAgICAgICAgY29sdW1uc01vYmlsZTogJ2NvbGxlY3Rpb24tY29sdW1ucy1tb2JpbGUnLFxuICAgICAgICAgIGNvbHVtbnNEZXNrdG9wOiAnY29sbGVjdGlvbi1jb2x1bW5zLWRlc2t0b3AnLFxuICAgICAgICAgIGdhcDogJ2NvbGxlY3Rpb24tZ2FwJyxcbiAgICAgICAgICBpdGVtc0FsaWduOiAnY29sbGVjdGlvbi1pdGVtcy1hbGlnbicsXG4gICAgICAgICAgY2FyZFJvdW5kZWQ6ICdjb2xsZWN0aW9uLWNhcmQtcm91bmRlZCcsXG4gICAgICAgICAgbW9iaWxlTGF5b3V0OiAnY29sbGVjdGlvbi1tb2JpbGUtbGF5b3V0JyxcbiAgICAgICAgICAvLyBDYXJkIHN0eWxlXG4gICAgICAgICAgYmc6ICdjb2xsZWN0aW9uLWJnJyxcbiAgICAgICAgICBib3JkZXJSYWRpdXM6ICdjb2xsZWN0aW9uLWJvcmRlci1yYWRpdXMnLFxuICAgICAgICAgIHNoYWRvdzogJ2NvbGxlY3Rpb24tc2hhZG93JyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBmb3JtOiB7XG4gICAgICAgIHNlY3Rpb246ICdmb3JtJyxcbiAgICAgICAgbGFiZWxGaWVsZDogJ2Zvcm1UaXRsZScsXG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIGZvcm1UaXRsZTogJ2Zvcm0tdGl0bGUnLFxuICAgICAgICAgIGFjdGlvblVybDogJ2Zvcm0tYWN0aW9uLXVybCcsXG4gICAgICAgICAgbWV0aG9kOiAnZm9ybS1tZXRob2QnLFxuICAgICAgICAgIHNlcnZpY2VOYW1lOiAnZm9ybS1zZXJ2aWNlLW5hbWUnLFxuICAgICAgICAgIHN1Ym1pdExhYmVsOiAnZm9ybS1zdWJtaXQtbGFiZWwnLFxuICAgICAgICAgIHN1Y2Nlc3NNZXNzYWdlOiAnZm9ybS1zdWNjZXNzLW1lc3NhZ2UnLFxuICAgICAgICAgIC8vIEFwcGFyZW5jZVxuICAgICAgICAgIG1heFdpZHRoOiAnZm9ybS1tYXgtd2lkdGgnLFxuICAgICAgICAgIGFsaWduOiAnZm9ybS1hbGlnbicsXG4gICAgICAgICAgYnV0dG9uUm91bmRlZDogJ2Zvcm0tYnV0dG9uLXJvdW5kZWQnLFxuICAgICAgICAgIHNwYWNpbmc6ICdmb3JtLXNwYWNpbmcnLFxuICAgICAgICAgIC8vIENhcmQgc3R5bGVcbiAgICAgICAgICBiZzogJ2Zvcm0tYmcnLFxuICAgICAgICAgIGJvcmRlclJhZGl1czogJ2Zvcm0tYm9yZGVyLXJhZGl1cycsXG4gICAgICAgICAgc2hhZG93OiAnZm9ybS1zaGFkb3cnLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIG5ld3NsZXR0ZXJlbWJlZDoge1xuICAgICAgICBzZWN0aW9uOiAnbmV3c2xldHRlcicsXG4gICAgICAgIGxhYmVsRmllbGQ6ICd0aXRsZScsXG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIHRpdGxlOiAnbmV3c2xldHRlci10aXRsZScsXG4gICAgICAgICAgc2VydmljZU5hbWU6ICduZXdzbGV0dGVyLXNlcnZpY2UtbmFtZScsXG4gICAgICAgICAgZW1iZWRDb2RlOiAnbmV3c2xldHRlci1lbWJlZC1jb2RlJyxcbiAgICAgICAgICAvLyBBcHBhcmVuY2VcbiAgICAgICAgICBtYXhXaWR0aDogJ25ld3NsZXR0ZXItbWF4LXdpZHRoJyxcbiAgICAgICAgICBhbGlnbjogJ25ld3NsZXR0ZXItYWxpZ24nLFxuICAgICAgICAgIHBhZGRpbmc6ICduZXdzbGV0dGVyLXBhZGRpbmcnLFxuICAgICAgICAgIGJnOiAnbmV3c2xldHRlci1iZycsXG4gICAgICAgICAgLy8gQ2FyZCBzdHlsZVxuICAgICAgICAgIGJvcmRlclJhZGl1czogJ25ld3NsZXR0ZXItYm9yZGVyLXJhZGl1cycsXG4gICAgICAgICAgc2hhZG93OiAnbmV3c2xldHRlci1zaGFkb3cnLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9O1xuICAgIGNvbnN0IGJsb2NrVHlwZUFsaWFzZXMgPSB7XG4gICAgICB0ZXh0ZTogJ3BhcmFncmFwaGUnLFxuICAgICAgcGFyYWdyYXBoOiAncGFyYWdyYXBoZScsXG4gICAgICBwYXJhZ3JhcGhzOiAncGFyYWdyYXBoZScsXG4gICAgICBwYXJhZ3JhcGhlczogJ3BhcmFncmFwaGUnLFxuICAgICAgdGV4dDogJ3BhcmFncmFwaGUnLFxuICAgICAgaGVybzogJ2hlcm8nLFxuICAgICAgaW1hZ2U6ICdpbWFnZScsXG4gICAgICBncm91cGU6ICdncm91cGUnLFxuICAgICAgZ3JvdXA6ICdncm91cGUnLFxuICAgICAgY29sbGVjdGlvbjogJ2NvbGxlY3Rpb25ncmlkJyxcbiAgICAgIGNvbGxlY3Rpb25ncmlkOiAnY29sbGVjdGlvbmdyaWQnLFxuICAgICAgJ2NvbGxlY3Rpb24tZ3JpZCc6ICdjb2xsZWN0aW9uZ3JpZCcsXG4gICAgICBmb3JtOiAnZm9ybScsXG4gICAgICBmb3JtdWxhaXJlOiAnZm9ybScsXG4gICAgICBjb250YWN0OiAnZm9ybScsXG4gICAgICBuZXdzbGV0dGVyZW1iZWQ6ICduZXdzbGV0dGVyZW1iZWQnLFxuICAgICAgbmV3c2xldHRlcjogJ25ld3NsZXR0ZXJlbWJlZCcsXG4gICAgICBlbWJlZDogJ25ld3NsZXR0ZXJlbWJlZCcsXG4gICAgfTtcbiAgICBjb25zdCBhbmltYXRpb25GaWVsZE1hcCA9IHtcbiAgICAgIGFuaW1hdGlvbjogJ2FuaW0tdHlwZScsXG4gICAgICBhbmltYXRpb25EZWxheTogJ2FuaW0tZGVsYXknLFxuICAgICAgYW5pbWF0aW9uRHVyYXRpb246ICdhbmltLWR1cmF0aW9uJyxcbiAgICB9O1xuICAgIE9iamVjdC52YWx1ZXMoYmxvY2tUeXBlRm9ybXMpLmZvckVhY2goKGNvbmZpZykgPT4ge1xuICAgICAgY29uZmlnLmZpZWxkcyA9IHsgLi4uY29uZmlnLmZpZWxkcywgLi4uYW5pbWF0aW9uRmllbGRNYXAgfTtcbiAgICB9KTtcbiAgICBjb25zdCB1cGRhdGVHcm91cE1pbmlQcmV2aWV3ID0gKG1vYmlsZVZhbHVlLCBkZXNrdG9wVmFsdWUpID0+IHtcbiAgICAgIGlmICghZ3JvdXBQcmV2aWV3TW9iaWxlIHx8ICFncm91cFByZXZpZXdEZXNrdG9wKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlbmRlckJveGVzID0gKGNvdW50KSA9PlxuICAgICAgICBBcnJheS5mcm9tKHsgbGVuZ3RoOiBOdW1iZXIoY291bnQpIHx8IDEgfSlcbiAgICAgICAgICAubWFwKCgpID0+ICc8c3BhbiBjbGFzcz1cImJsb2NrIGgtMiB3LWZ1bGwgcm91bmRlZC1mdWxsIGJnLXNsYXRlLTMwMFwiPjwvc3Bhbj4nKVxuICAgICAgICAgIC5qb2luKCcnKTtcbiAgICAgIGdyb3VwUHJldmlld01vYmlsZS5pbm5lckhUTUwgPSByZW5kZXJCb3hlcyhtb2JpbGVWYWx1ZSk7XG4gICAgICBncm91cFByZXZpZXdEZXNrdG9wLmlubmVySFRNTCA9IHJlbmRlckJveGVzKGRlc2t0b3BWYWx1ZSk7XG4gICAgfTtcbiAgICBjb25zdCB1cGRhdGVDb2xsZWN0aW9uTWluaVByZXZpZXcgPSAobW9iaWxlVmFsdWUsIGRlc2t0b3BWYWx1ZSkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uUHJldmlld01vYmlsZSB8fCAhY29sbGVjdGlvblByZXZpZXdEZXNrdG9wKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlbmRlckJveGVzID0gKGNvdW50KSA9PlxuICAgICAgICBBcnJheS5mcm9tKHsgbGVuZ3RoOiBOdW1iZXIoY291bnQpIHx8IDEgfSlcbiAgICAgICAgICAubWFwKCgpID0+ICc8c3BhbiBjbGFzcz1cImJsb2NrIGgtMiB3LWZ1bGwgcm91bmRlZC1mdWxsIGJnLXZpb2xldC0zMDBcIj48L3NwYW4+JylcbiAgICAgICAgICAuam9pbignJyk7XG4gICAgICBjb2xsZWN0aW9uUHJldmlld01vYmlsZS5pbm5lckhUTUwgPSByZW5kZXJCb3hlcyhtb2JpbGVWYWx1ZSk7XG4gICAgICBjb2xsZWN0aW9uUHJldmlld0Rlc2t0b3AuaW5uZXJIVE1MID0gcmVuZGVyQm94ZXMoZGVza3RvcFZhbHVlKTtcbiAgICB9O1xuICAgIGNvbnN0IGZldGNoUGFnZXNGcm9tU2VydmVyID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFwYWdlc0FwaUJhc2UpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChwYWdlc0FwaUJhc2UsIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ltcG9zc2libGUgZGUgY2hhcmdlciBsZXMgcGFnZXMuJyk7XG4gICAgICB9XG4gICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+IFtdKTtcbiAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHBheWxvYWQpID8gcGF5bG9hZCA6IFtdO1xuICAgIH07XG4gICAgY29uc3QgY3JlYXRlUGFnZU9uU2VydmVyID0gYXN5bmMgKHsgbmFtZSwgdGl0bGUsIHNsdWcgfSkgPT4ge1xuICAgICAgaWYgKCFwYWdlc0FwaUJhc2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTaXRlIGluY29ubnUuJyk7XG4gICAgICB9XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHBhZ2VzQXBpQmFzZSwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgbmFtZSwgdGl0bGUsIHNsdWcgfSksXG4gICAgICB9KTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHBheWxvYWQubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBjclx1MDBFOWVyIGxhIHBhZ2UuJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgIH07XG4gICAgY29uc3Qgc2F2ZVBhZ2VUb1NlcnZlciA9IGFzeW5jIChwYWdlKSA9PiB7XG4gICAgICBpZiAoIXBhZ2VzQXBpQmFzZSB8fCAhcGFnZT8uaWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtwYWdlc0FwaUJhc2V9LyR7ZW5jb2RlVVJJQ29tcG9uZW50KHBhZ2UuaWQpfWAsIHtcbiAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYWdlKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihwYXlsb2FkLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgc2F1dmVnYXJkZXIgbGEgcGFnZS4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzYXZlZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgaWYgKHNhdmVkPy5pZCkge1xuICAgICAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBub3JtYWxpemVQYWdlRGF0YShzYXZlZCk7XG4gICAgICAgICAgcGFnZXMgPSBwYWdlcy5tYXAoKGVudHJ5KSA9PiAoZW50cnkuaWQgPT09IG5vcm1hbGl6ZWQuaWQgPyBub3JtYWxpemVkIDogZW50cnkpKTtcbiAgICAgICAgICBpZiAoY3VycmVudFBhZ2U/LmlkID09PSBub3JtYWxpemVkLmlkKSB7XG4gICAgICAgICAgICBjdXJyZW50UGFnZSA9IG5vcm1hbGl6ZWQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBub3JtYWxpemVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzYXZlZDtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZGVzaWduXSBTYXZlIHBhZ2UgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdTYXV2ZWdhcmRlIGltcG9zc2libGUuJyk7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBsb2FkUGFnZXNGcm9tU2VydmVyID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFwYWdlc0FwaUJhc2UpIHtcbiAgICAgICAgcGFnZXMgPSBbXTtcbiAgICAgICAgYWN0aXZlUGFnZUlkID0gbnVsbDtcbiAgICAgICAgY3VycmVudFBhZ2UgPSBudWxsO1xuICAgICAgICByZW5kZXJQYWdlTGlzdHMocGFnZXMsIGFjdGl2ZVBhZ2VJZCk7XG4gICAgICAgIHJlbmRlckJsb2NrTGlzdChudWxsKTtcbiAgICAgICAgYmxvY2tEZXRhaWxFbXB0eT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIGJsb2NrRWRpdG9yPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgbG9hZGVkUGFnZXMgPSBhd2FpdCBmZXRjaFBhZ2VzRnJvbVNlcnZlcigpO1xuICAgICAgICBwYWdlcyA9IChBcnJheS5pc0FycmF5KGxvYWRlZFBhZ2VzKSA/IGxvYWRlZFBhZ2VzIDogW10pLm1hcCgocGFnZSkgPT5cbiAgICAgICAgICBub3JtYWxpemVQYWdlRGF0YShwYWdlKSxcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKHBhZ2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIGFjdGl2ZVBhZ2VJZCA9IG51bGw7XG4gICAgICAgICAgY3VycmVudFBhZ2UgPSBudWxsO1xuICAgICAgICAgIHJlbmRlclBhZ2VMaXN0cyhwYWdlcywgYWN0aXZlUGFnZUlkKTtcbiAgICAgICAgICByZW5kZXJCbG9ja0xpc3QobnVsbCk7XG4gICAgICAgICAgYmxvY2tEZXRhaWxFbXB0eT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgYmxvY2tFZGl0b3I/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICAgIHByZXZpZXdGcmFtZSAmJiAocHJldmlld0ZyYW1lLnNyY2RvYyA9IGdldExvYWRpbmdQcmV2aWV3SHRtbCgpKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgYWN0aXZlUGFnZUlkID0gZ2V0U3RvcmVkQWN0aXZlUGFnZShwYWdlcyk7XG4gICAgICAgIHNldEFjdGl2ZVBhZ2UoYWN0aXZlUGFnZUlkKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZGVzaWduXSBJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIHBhZ2VzJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KCdJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIHBhZ2VzLicpO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3Qgbm9ybWFsaXplVHlwZSA9ICh2YWx1ZSkgPT5cbiAgICAgICh2YWx1ZSB8fCAnJykubm9ybWFsaXplKCdORkQnKS5yZXBsYWNlKC9bXFx1MDMwMC1cXHUwMzZmXS9nLCAnJykudG9Mb3dlckNhc2UoKTtcbiAgICBjb25zdCBnZXRCbG9ja0Zvcm1Db25maWcgPSAoYmxvY2spID0+IHtcbiAgICAgIGlmICghYmxvY2spIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICBjb25zdCB0eXBlS2V5ID0gbm9ybWFsaXplVHlwZShibG9jay50eXBlKTtcbiAgICAgIGNvbnN0IGFsaWFzID0gYmxvY2tUeXBlQWxpYXNlc1t0eXBlS2V5XSB8fCB0eXBlS2V5O1xuICAgICAgcmV0dXJuIGJsb2NrVHlwZUZvcm1zW2FsaWFzXSB8fCBudWxsO1xuICAgIH07XG4gICAgY29uc3QgcG9wdWxhdGVCbG9ja0Zvcm0gPSAoYmxvY2spID0+IHtcbiAgICAgIGlmICghYmxvY2tGb3JtIHx8ICFibG9ja0VkaXRvcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoYmxvY2sgJiYgIWJsb2NrLnNldHRpbmdzKSB7XG4gICAgICAgIGJsb2NrLnNldHRpbmdzID0ge307XG4gICAgICB9XG4gICAgICBjb25zdCBjb25maWcgPSBnZXRCbG9ja0Zvcm1Db25maWcoYmxvY2spO1xuICAgICAgaWYgKGJsb2NrRWRpdG9yVGl0bGUpIHtcbiAgICAgICAgYmxvY2tFZGl0b3JUaXRsZS50ZXh0Q29udGVudCA9IGJsb2NrPy5sYWJlbCB8fCAnQmxvYyc7XG4gICAgICB9XG4gICAgICBpZiAoYmxvY2tFZGl0b3JUeXBlKSB7XG4gICAgICAgIGJsb2NrRWRpdG9yVHlwZS50ZXh0Q29udGVudCA9IGJsb2NrPy50eXBlIHx8ICdCbG9jJztcbiAgICAgIH1cbiAgICAgIGlmICghY29uZmlnKSB7XG4gICAgICAgIGJsb2NrRm9ybS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgYmxvY2tFZGl0b3JVbnN1cHBvcnRlZD8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIGJsb2NrRm9ybS5kYXRhc2V0LmJsb2NrSWQgPSAnJztcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYmxvY2tFZGl0b3JVbnN1cHBvcnRlZD8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBibG9ja0Zvcm0uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBibG9ja0Zvcm0ucmVzZXQoKTtcbiAgICAgIGJsb2NrRm9ybS5kYXRhc2V0LmJsb2NrSWQgPSBibG9jay5pZDtcbiAgICAgIGJsb2NrRm9ybVNlY3Rpb25zLmZvckVhY2goKHNlY3Rpb24pID0+IHtcbiAgICAgICAgY29uc3Qgc2VjdGlvbklkID0gc2VjdGlvbi5kYXRhc2V0LmVkaXRvclNlY3Rpb247XG4gICAgICAgIGlmIChzZWN0aW9uSWQgPT09IGNvbmZpZy5zZWN0aW9uKSB7XG4gICAgICAgICAgc2VjdGlvbi5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWN0aW9uLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIC8vIFJcdTAwRTlpbml0aWFsaXNlciBzdXIgbCdvbmdsZXQgQ29udGVudVxuICAgICAgc3dpdGNoQmxvY2tUYWIoJ2NvbnRlbnQnKTtcbiAgICAgIGlmIChjb25maWcuc2VjdGlvbiA9PT0gJ2NvbGxlY3Rpb24nKSB7XG4gICAgICAgIGNvbnN0IGRlc2lyZWRWYWx1ZSA9IGJsb2NrLmNvbGxlY3Rpb25JZCB8fCBibG9jay5zZXR0aW5ncz8uY29sbGVjdGlvbklkIHx8ICcnO1xuICAgICAgICB1cGRhdGVDb2xsZWN0aW9uU2VsZWN0T3B0aW9ucyhkZXNpcmVkVmFsdWUpO1xuICAgICAgfVxuICAgICAgT2JqZWN0LmVudHJpZXMoY29uZmlnLmZpZWxkcykuZm9yRWFjaCgoW3NldHRpbmdLZXksIGZpZWxkTmFtZV0pID0+IHtcbiAgICAgICAgY29uc3QgaW5wdXQgPSBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcihgW25hbWU9XCIke2ZpZWxkTmFtZX1cIl1gKTtcbiAgICAgICAgaWYgKCFpbnB1dCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2YWx1ZSA9IGJsb2NrLnNldHRpbmdzPy5bc2V0dGluZ0tleV07XG4gICAgICAgIGlmIChpbnB1dC50eXBlID09PSAnY2hlY2tib3gnKSB7XG4gICAgICAgICAgaW5wdXQuY2hlY2tlZCA9IEJvb2xlYW4odmFsdWUpO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0LnR5cGUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgY29uc3QgZmFsbGJhY2sgPSBpbnB1dC5kYXRhc2V0LmRlZmF1bHQgPz8gaW5wdXQuZGVmYXVsdFZhbHVlID8/ICcnO1xuICAgICAgICAgIGlucHV0LnZhbHVlID0gdmFsdWUgPz8gZmFsbGJhY2s7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5wdXQudGFnTmFtZSA9PT0gJ1RFWFRBUkVBJykge1xuICAgICAgICAgIGlucHV0LnZhbHVlID0gdmFsdWUgPz8gJyc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaW5wdXQudmFsdWUgPSB2YWx1ZSA/PyAnJztcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoY29uZmlnLnNlY3Rpb24gPT09ICdncm91cCcpIHtcbiAgICAgICAgY29uc3QgbW9iaWxlVmFsdWUgPVxuICAgICAgICAgIGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImdyb3VwLWNvbHVtbnMtbW9iaWxlXCJdJyk/LnZhbHVlIHx8ICcxJztcbiAgICAgICAgY29uc3QgZGVza3RvcFZhbHVlID1cbiAgICAgICAgICBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJncm91cC1jb2x1bW5zLWRlc2t0b3BcIl0nKT8udmFsdWUgfHwgJzMnO1xuICAgICAgICB1cGRhdGVHcm91cE1pbmlQcmV2aWV3KG1vYmlsZVZhbHVlLCBkZXNrdG9wVmFsdWUpO1xuICAgICAgfVxuICAgICAgaWYgKGNvbmZpZy5zZWN0aW9uID09PSAnY29sbGVjdGlvbicpIHtcbiAgICAgICAgY29uc3QgbW9iaWxlVmFsdWUgPVxuICAgICAgICAgIGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImNvbGxlY3Rpb24tY29sdW1ucy1tb2JpbGVcIl0nKT8udmFsdWUgfHwgJzEnO1xuICAgICAgICBjb25zdCBkZXNrdG9wVmFsdWUgPVxuICAgICAgICAgIGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImNvbGxlY3Rpb24tY29sdW1ucy1kZXNrdG9wXCJdJyk/LnZhbHVlIHx8ICczJztcbiAgICAgICAgdXBkYXRlQ29sbGVjdGlvbk1pbmlQcmV2aWV3KG1vYmlsZVZhbHVlLCBkZXNrdG9wVmFsdWUpO1xuICAgICAgfVxuICAgICAgLy8gTWlzZSBcdTAwRTAgam91ciBkZXMgcHJldmlld3MgZGUgY291bGV1clxuICAgICAgYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWNvbG9yLXNlbGVjdF0nKS5mb3JFYWNoKChzZWxlY3QpID0+IHtcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRPcHRpb24gPSBzZWxlY3Qub3B0aW9uc1tzZWxlY3Quc2VsZWN0ZWRJbmRleF07XG4gICAgICAgIGNvbnN0IGNvbG9yID0gc2VsZWN0ZWRPcHRpb24/LmRhdGFzZXQ/LmNvbG9yIHx8ICcjZmZmZmZmJztcbiAgICAgICAgY29uc3QgY29sb3JQcmV2aWV3ID0gc2VsZWN0LmNsb3Nlc3QoJy5yZWxhdGl2ZScpPy5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xvci1wcmV2aWV3XScpO1xuICAgICAgICBpZiAoY29sb3JQcmV2aWV3KSB7XG4gICAgICAgICAgaWYgKGNvbG9yID09PSAndHJhbnNwYXJlbnQnKSB7XG4gICAgICAgICAgICBjb2xvclByZXZpZXcuc3R5bGUuYmFja2dyb3VuZCA9ICdyZXBlYXRpbmctY29uaWMtZ3JhZGllbnQoI2NjYyAwJSAyNSUsIHdoaXRlIDAlIDUwJSkgNTAlIC8gOHB4IDhweCc7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbG9yUHJldmlldy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBjb2xvcjtcbiAgICAgICAgICAgIGNvbG9yUHJldmlldy5zdHlsZS5iYWNrZ3JvdW5kID0gJyc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IGNvbGxlY3RGb3JtVmFsdWVzID0gKGNvbmZpZykgPT4ge1xuICAgICAgaWYgKCFibG9ja0Zvcm0gfHwgIWNvbmZpZykge1xuICAgICAgICByZXR1cm4ge307XG4gICAgICB9XG4gICAgICBjb25zdCB2YWx1ZXMgPSB7fTtcbiAgICAgIE9iamVjdC5lbnRyaWVzKGNvbmZpZy5maWVsZHMpLmZvckVhY2goKFtzZXR0aW5nS2V5LCBmaWVsZE5hbWVdKSA9PiB7XG4gICAgICAgIGNvbnN0IGlucHV0ID0gYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3IoYFtuYW1lPVwiJHtmaWVsZE5hbWV9XCJdYCk7XG4gICAgICAgIGlmICghaW5wdXQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlucHV0LnR5cGUgPT09ICdjaGVja2JveCcpIHtcbiAgICAgICAgICB2YWx1ZXNbc2V0dGluZ0tleV0gPSBpbnB1dC5jaGVja2VkO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0LnR5cGUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgY29uc3QgcGFyc2VkID0gTnVtYmVyKGlucHV0LnZhbHVlKTtcbiAgICAgICAgICB2YWx1ZXNbc2V0dGluZ0tleV0gPSBOdW1iZXIuaXNGaW5pdGUocGFyc2VkKSA/IHBhcnNlZCA6IDA7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5wdXQudGFnTmFtZSA9PT0gJ1RFWFRBUkVBJykge1xuICAgICAgICAgIHZhbHVlc1tzZXR0aW5nS2V5XSA9IGlucHV0LnZhbHVlIHx8ICcnO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0LnR5cGUgPT09ICdzZWxlY3Qtb25lJykge1xuICAgICAgICAgIHZhbHVlc1tzZXR0aW5nS2V5XSA9IGlucHV0LnZhbHVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhbHVlc1tzZXR0aW5nS2V5XSA9IGlucHV0LnZhbHVlIHx8ICcnO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgfTtcbiAgICBjb25zdCB1cGRhdGVQcmV2aWV3U3RhdHVzID0gKHRleHQpID0+IHtcbiAgICAgIGlmICghcHJldmlld1N0YXR1cykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIXRleHQpIHtcbiAgICAgICAgcHJldmlld1N0YXR1cy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcHJldmlld1N0YXR1cy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIHByZXZpZXdTdGF0dXMudGV4dENvbnRlbnQgPSB0ZXh0O1xuICAgIH07XG4gICAgY29uc3Qgc2VyaWFsaXplUGFnZUZvclByZXZpZXcgPSAocGFnZSkgPT4ge1xuICAgICAgaWYgKCFwYWdlKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBGb25jdGlvbiBwb3VyIHNcdTAwRTlyaWFsaXNlciB1biBibG9jICh1dGlsaXNcdTAwRTkgcG91ciBsZXMgYmxvY3MgZXQgbGV1cnMgZW5mYW50cylcbiAgICAgIGNvbnN0IHNlcmlhbGl6ZUJsb2NrID0gKGJsb2NrKSA9PiAoe1xuICAgICAgICBpZDogYmxvY2suaWQsXG4gICAgICAgIHR5cGU6IGJsb2NrLnR5cGUsXG4gICAgICAgIGxhYmVsOiBibG9jay5sYWJlbCxcbiAgICAgICAgc3RhdHVzOiBibG9jay5zdGF0dXMsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBibG9jay5kZXNjcmlwdGlvbixcbiAgICAgICAgcHJvcHM6IGJsb2NrLnByb3BzIHx8IFtdLFxuICAgICAgICBzZXR0aW5nczogYmxvY2suc2V0dGluZ3MgfHwge30sXG4gICAgICAgIGNvbGxlY3Rpb25JZDogYmxvY2suY29sbGVjdGlvbklkIHx8IGJsb2NrLnNldHRpbmdzPy5jb2xsZWN0aW9uSWQgfHwgJycsXG4gICAgICAgIGNoaWxkcmVuOiAoYmxvY2suY2hpbGRyZW4gfHwgW10pLm1hcChzZXJpYWxpemVCbG9jayksXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IHBhZ2UuaWQsXG4gICAgICAgIG5hbWU6IHBhZ2UubmFtZSxcbiAgICAgICAgdGl0bGU6IHBhZ2UudGl0bGUsXG4gICAgICAgIHNsdWc6IHBhZ2Uuc2x1ZyxcbiAgICAgICAgZGVzY3JpcHRpb246IHBhZ2UuZGVzY3JpcHRpb24gfHwgJycsXG4gICAgICAgIGJhZGdlczogWy4uLihwYWdlLmJhZGdlcyB8fCBbXSldLFxuICAgICAgICBzZW86IHBhZ2Uuc2VvIHx8IHt9LFxuICAgICAgICBhY2Nlc3NpYmlsaXR5OiBwYWdlLmFjY2Vzc2liaWxpdHkgfHwge30sXG4gICAgICAgIGJsb2NrczogKHBhZ2UuYmxvY2tzIHx8IFtdKS5tYXAoc2VyaWFsaXplQmxvY2spLFxuICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IGdldExvYWRpbmdQcmV2aWV3SHRtbCA9ICgpID0+XG4gICAgICAnPCFET0NUWVBFIGh0bWw+PGh0bWw+PGJvZHkgc3R5bGU9XCJmb250LWZhbWlseTpJbnRlcixzYW5zLXNlcmlmO3BhZGRpbmc6NDBweDtjb2xvcjojNDc1NTY5O2JhY2tncm91bmQ6I2ZmZjtcIj5Qclx1MDBFOXBhcmF0aW9uIGRlIGxhIHByXHUwMEU5dmlzdWFsaXNhdGlvblx1MjAyNjwvYm9keT48L2h0bWw+JztcblxuICAgIC8vIERlYm91bmNlIHV0aWxpdHlcbiAgICBjb25zdCBkZWJvdW5jZSA9IChmbiwgZGVsYXkpID0+IHtcbiAgICAgIGxldCB0aW1lb3V0SWQ7XG4gICAgICByZXR1cm4gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG4gICAgICAgIHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4gZm4oLi4uYXJncyksIGRlbGF5KTtcbiAgICAgIH07XG4gICAgfTtcblxuICAgIC8vIEF1dG8tc2F2ZSBwb3VyIGwnYXBwYXJlbmNlIChpbW1cdTAwRTlkaWF0IHBvdXIgXHUwMEU5dml0ZXIgbGVzIHBlcnRlcylcbiAgICBjb25zdCBhdXRvU2F2ZUFwcGVhcmFuY2UgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlIHx8ICFhY3RpdmVCbG9ja0lkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGJsb2NrID0gZ2V0QWN0aXZlQmxvY2soKTtcbiAgICAgIGNvbnN0IGNvbmZpZyA9IGdldEJsb2NrRm9ybUNvbmZpZyhibG9jayk7XG4gICAgICBpZiAoIWJsb2NrIHx8ICFjb25maWcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgdmFsdWVzID0gY29sbGVjdEZvcm1WYWx1ZXMoY29uZmlnKTtcbiAgICAgIGNvbnN0IHVwZGF0ZWRCbG9ja3MgPSAoY3VycmVudFBhZ2UuYmxvY2tzIHx8IFtdKS5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIGlmIChlbnRyeS5pZCAhPT0gYmxvY2suaWQpIHtcbiAgICAgICAgICByZXR1cm4gZW50cnk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdXBkYXRlZFNldHRpbmdzID0geyAuLi4oZW50cnkuc2V0dGluZ3MgfHwge30pLCAuLi52YWx1ZXMgfTtcbiAgICAgICAgcmV0dXJuIHsgLi4uZW50cnksIHNldHRpbmdzOiB1cGRhdGVkU2V0dGluZ3MgfTtcbiAgICAgIH0pO1xuICAgICAgLy8gTWlzZSBcdTAwRTAgam91ciBzaWxlbmNpZXVzZSAoc2FucyB0b2FzdCBuaSByZWZyZXNoIGNvbXBsZXQpXG4gICAgICBjb25zdCBuZXh0UGFnZSA9IHsgLi4uY3VycmVudFBhZ2UsIGJsb2NrczogdXBkYXRlZEJsb2NrcyB9O1xuICAgICAgY3VycmVudFBhZ2UgPSBuZXh0UGFnZTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHNhdmVkID0gYXdhaXQgc2F2ZVBhZ2VUb1NlcnZlcihuZXh0UGFnZSk7XG4gICAgICAgIGlmIChzYXZlZD8uaWQpIHtcbiAgICAgICAgICBjb25zdCBub3JtYWxpemVkID0gbm9ybWFsaXplUGFnZURhdGEoc2F2ZWQpO1xuICAgICAgICAgIGN1cnJlbnRQYWdlID0gbm9ybWFsaXplZDtcbiAgICAgICAgICBwYWdlcyA9IHBhZ2VzLm1hcCgocCkgPT4gKHAuaWQgPT09IG5vcm1hbGl6ZWQuaWQgPyBub3JtYWxpemVkIDogcCkpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdbZGVzaWduXSBhdXRvLXNhdmUgYXBwZWFyYW5jZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBNaXNlIFx1MDBFMCBqb3VyIGxpdmUgZGUgbGEgcHJldmlldyB2aWEgcG9zdE1lc3NhZ2UgKHNhbnMgcmVjaGFyZ2VyIGwnaWZyYW1lKVxuICAgIGNvbnN0IHVwZGF0ZVByZXZpZXdCbG9ja0xpdmUgPSAoYmxvY2tJZCwgc2V0dGluZ3MpID0+IHtcbiAgICAgIGlmICghcHJldmlld0ZyYW1lIHx8ICFwcmV2aWV3RnJhbWUuY29udGVudFdpbmRvdykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBFbnZvaWUgbGVzIG5vdXZlbGxlcyBjbGFzc2VzIGF1IGJsb2MgZGFucyBsJ2lmcmFtZVxuICAgICAgcHJldmlld0ZyYW1lLmNvbnRlbnRXaW5kb3cucG9zdE1lc3NhZ2Uoe1xuICAgICAgICB0eXBlOiAndXBkYXRlQmxvY2tTdHlsZXMnLFxuICAgICAgICBibG9ja0lkLFxuICAgICAgICBzZXR0aW5ncyxcbiAgICAgIH0sICcqJyk7XG4gICAgfTtcblxuICAgIC8vIFJlZnJlc2ggcHJldmlldyBjb21wbGV0IGRlYm91bmNlZCAocG91ciBsZXMgY2hhbmdlbWVudHMgY29tcGxleGVzKVxuICAgIGNvbnN0IGRlYm91bmNlZFJlZnJlc2hQcmV2aWV3ID0gZGVib3VuY2UoKCkgPT4ge1xuICAgICAgaWYgKGN1cnJlbnRQYWdlKSB7XG4gICAgICAgIHJlZnJlc2hQcmV2aWV3KGN1cnJlbnRQYWdlKTtcbiAgICAgIH1cbiAgICB9LCAxNTAwKTtcblxuICAgIC8vIE1pc2UgXHUwMEUwIGpvdXIgbGl2ZSBpbW1cdTAwRTlkaWF0ZSAocG91ciBsYSBwcmV2aWV3KVxuICAgIGNvbnN0IGhhbmRsZUFwcGVhcmFuY2VDaGFuZ2UgPSAoYmxvY2tJZCwgc2V0dGluZ3MpID0+IHtcbiAgICAgIHVwZGF0ZVByZXZpZXdCbG9ja0xpdmUoYmxvY2tJZCwgc2V0dGluZ3MpO1xuICAgICAgdXBkYXRlUHJldmlld1N0YXR1cygnTW9kaWZpY2F0aW9uXHUyMDI2Jyk7XG4gICAgICBhdXRvU2F2ZUFwcGVhcmFuY2UoKVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgdXBkYXRlUHJldmlld1N0YXR1cygnU2F1dmVnYXJkXHUwMEU5Jyk7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB1cGRhdGVQcmV2aWV3U3RhdHVzKCdcdTAwQzAgam91cicpLCAxNTAwKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKCgpID0+IHVwZGF0ZVByZXZpZXdTdGF0dXMoJ0VycmV1ciBkZSBzYXV2ZWdhcmRlJykpO1xuICAgICAgLy8gUmVmcmVzaCBjb21wbGV0IGFwclx1MDBFOHMgdW4gZFx1MDBFOWxhaSBwbHVzIGxvbmcgKHBvdXIgbGVzIGNoYW5nZW1lbnRzIGRlIGxheW91dCwgZXRjLilcbiAgICAgIGRlYm91bmNlZFJlZnJlc2hQcmV2aWV3KCk7XG4gICAgfTtcblxuICAgIGNvbnN0IHJlZnJlc2hQcmV2aWV3ID0gKHBhZ2UpID0+IHtcbiAgICAgIGlmICghcHJldmlld0ZyYW1lIHx8ICFwYWdlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHByZXZpZXdTaXRlU2x1ZyA9IHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJyc7XG4gICAgICBjb25zdCBzZXJpYWxpemVkUGFnZXMgPSBwYWdlcy5tYXAoKGVudHJ5KSA9PiAoe1xuICAgICAgICBpZDogZW50cnkuaWQsXG4gICAgICAgIHNsdWc6IGVudHJ5LnNsdWcsXG4gICAgICAgIHRpdGxlOiBlbnRyeS50aXRsZSxcbiAgICAgICAgbmFtZTogZW50cnkubmFtZSxcbiAgICAgICAgYWNjZXNzaWJpbGl0eTogZW50cnkuYWNjZXNzaWJpbGl0eSxcbiAgICAgIH0pKTtcbiAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgIHBhZ2U6IHNlcmlhbGl6ZVBhZ2VGb3JQcmV2aWV3KHBhZ2UpLFxuICAgICAgICBzaXRlOiB7XG4gICAgICAgICAgdGl0bGU6IHN0b3JlZFNpdGUubmFtZSB8fCAnU2l0ZScsXG4gICAgICAgICAgc2x1ZzogcHJldmlld1NpdGVTbHVnLFxuICAgICAgICAgIHBhZ2VzOiBzZXJpYWxpemVkUGFnZXMsXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgICAgcHJldmlld1JlYWR5ID0gZmFsc2U7XG4gICAgICB1cGRhdGVQcmV2aWV3U3RhdHVzKCdBY3R1YWxpc2F0aW9uXHUyMDI2Jyk7XG4gICAgICBwcmV2aWV3RnJhbWUuc3JjZG9jID0gZ2V0TG9hZGluZ1ByZXZpZXdIdG1sKCk7XG4gICAgICBpZiAocHJldmlld1JlcXVlc3RDb250cm9sbGVyKSB7XG4gICAgICAgIHByZXZpZXdSZXF1ZXN0Q29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgfVxuICAgICAgY29uc3QgY29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICAgIHByZXZpZXdSZXF1ZXN0Q29udHJvbGxlciA9IGNvbnRyb2xsZXI7XG4gICAgICBmZXRjaCgnL2FwaS9wcmV2aWV3Jywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICBzaWduYWw6IGNvbnRyb2xsZXIuc2lnbmFsLFxuICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQcmV2aWV3IGVycm9yJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgICAgaWYgKGNvbnRyb2xsZXIuc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgbGF0ZXN0UHJldmlld0h0bWwgPSBkYXRhLmh0bWwgfHwgJyc7XG4gICAgICAgICAgcHJldmlld0ZyYW1lLnNldEF0dHJpYnV0ZShcbiAgICAgICAgICAgICd0aXRsZScsXG4gICAgICAgICAgICBgUHJcdTAwRTl2aXN1YWxpc2F0aW9uIGRlIGxhIHBhZ2UgJHtwYWdlLnRpdGxlIHx8ICcnfWAudHJpbSgpLFxuICAgICAgICAgICk7XG4gICAgICAgICAgcHJldmlld0ZyYW1lLnNyY2RvYyA9IGxhdGVzdFByZXZpZXdIdG1sIHx8IGdldExvYWRpbmdQcmV2aWV3SHRtbCgpO1xuICAgICAgICAgIHVwZGF0ZVByZXZpZXdTdGF0dXMoJ1x1MDBDMCBqb3VyJyk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICBpZiAoY29udHJvbGxlci5zaWduYWwuYWJvcnRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbcHJldmlld10gSW1wb3NzaWJsZSBkZSByZW5kcmUgbGEgcGFnZScsIGVycm9yKTtcbiAgICAgICAgICB1cGRhdGVQcmV2aWV3U3RhdHVzKCdFcnJldXIgcHJldmlldycpO1xuICAgICAgICAgIHByZXZpZXdGcmFtZS5zcmNkb2MgPVxuICAgICAgICAgICAgJzwhRE9DVFlQRSBodG1sPjxodG1sPjxib2R5IHN0eWxlPVwiZm9udC1mYW1pbHk6SW50ZXIsc2Fucy1zZXJpZjtwYWRkaW5nOjQwcHg7Y29sb3I6I2JlMTIzYztiYWNrZ3JvdW5kOiNmZmY7XCI+RXJyZXVyIGxvcnMgZHUgcmVuZHUgZGUgbGEgcHJcdTAwRTl2aXN1YWxpc2F0aW9uLjwvYm9keT48L2h0bWw+JztcbiAgICAgICAgfSlcbiAgICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICAgIGlmIChwcmV2aWV3UmVxdWVzdENvbnRyb2xsZXIgPT09IGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgIHByZXZpZXdSZXF1ZXN0Q29udHJvbGxlciA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZUJsb2NrRm9ybVN1Ym1pdCA9IChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmICghY3VycmVudFBhZ2UgfHwgIWFjdGl2ZUJsb2NrSWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgYmxvY2sgPSBnZXRBY3RpdmVCbG9jaygpO1xuICAgICAgY29uc3QgY29uZmlnID0gZ2V0QmxvY2tGb3JtQ29uZmlnKGJsb2NrKTtcbiAgICAgIGlmICghYmxvY2sgfHwgIWNvbmZpZykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCB2YWx1ZXMgPSBjb2xsZWN0Rm9ybVZhbHVlcyhjb25maWcpO1xuICAgICAgaWYgKGNvbmZpZy5zZWN0aW9uID09PSAnaW1hZ2UnKSB7XG4gICAgICAgIGNvbnN0IGFsdFZhbHVlID0gKHZhbHVlcy5hbHQgfHwgJycpLnRyaW0oKTtcbiAgICAgICAgdmFsdWVzLmFsdCA9IGFsdFZhbHVlO1xuICAgICAgICBpZiAoIWFsdFZhbHVlKSB7XG4gICAgICAgICAgc2hvd1RvYXN0KCdBam91dGUgdW4gdGV4dGUgYWx0ZXJuYXRpZiBwb3VyIGNldHRlIGltYWdlLicsICdlcnJvcicpO1xuICAgICAgICAgIGJsb2NrRm9ybT8ucXVlcnlTZWxlY3RvcignW25hbWU9XCJpbWFnZS1hbHRcIl0nKT8uZm9jdXMoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChjb25maWcuc2VjdGlvbiA9PT0gJ2NvbGxlY3Rpb24nKSB7XG4gICAgICAgIGlmICghdmFsdWVzLmNvbGxlY3Rpb25JZCkge1xuICAgICAgICAgIHNob3dUb2FzdCgnU1x1MDBFOWxlY3Rpb25uZXogdW5lIGNvbGxlY3Rpb24uJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhbHVlcy5saW1pdCA9IE1hdGgubWF4KDEsIE51bWJlcih2YWx1ZXMubGltaXQpIHx8IDEpO1xuICAgICAgfVxuICAgICAgY29uc3QgdXBkYXRlZEJsb2NrcyA9IChjdXJyZW50UGFnZS5ibG9ja3MgfHwgW10pLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgaWYgKGVudHJ5LmlkICE9PSBibG9jay5pZCkge1xuICAgICAgICAgIHJldHVybiBlbnRyeTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB1cGRhdGVkU2V0dGluZ3MgPSB7IC4uLihlbnRyeS5zZXR0aW5ncyB8fCB7fSksIC4uLnZhbHVlcyB9O1xuICAgICAgICBjb25zdCB1cGRhdGVkQmxvY2sgPSB7XG4gICAgICAgICAgLi4uZW50cnksXG4gICAgICAgICAgc2V0dGluZ3M6IHVwZGF0ZWRTZXR0aW5ncyxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGNvbmZpZy5sYWJlbEZpZWxkICYmIHZhbHVlc1tjb25maWcubGFiZWxGaWVsZF0pIHtcbiAgICAgICAgICB1cGRhdGVkQmxvY2subGFiZWwgPSB2YWx1ZXNbY29uZmlnLmxhYmVsRmllbGRdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb25maWcuZGVzY3JpcHRpb25GaWVsZCAmJiB2YWx1ZXNbY29uZmlnLmRlc2NyaXB0aW9uRmllbGRdKSB7XG4gICAgICAgICAgdXBkYXRlZEJsb2NrLmRlc2NyaXB0aW9uID0gdmFsdWVzW2NvbmZpZy5kZXNjcmlwdGlvbkZpZWxkXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29uZmlnLnNlY3Rpb24gPT09ICdjb2xsZWN0aW9uJykge1xuICAgICAgICAgIHVwZGF0ZWRCbG9jay5jb2xsZWN0aW9uSWQgPSB2YWx1ZXMuY29sbGVjdGlvbklkO1xuICAgICAgICAgIHVwZGF0ZWRCbG9jay5zZXR0aW5ncy5jb2xsZWN0aW9uSWQgPSB2YWx1ZXMuY29sbGVjdGlvbklkO1xuICAgICAgICAgIHVwZGF0ZWRCbG9jay5zZXR0aW5ncy5saW1pdCA9IHZhbHVlcy5saW1pdDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdXBkYXRlZEJsb2NrO1xuICAgICAgfSk7XG4gICAgICB1cGRhdGVDdXJyZW50UGFnZUJsb2Nrcyh1cGRhdGVkQmxvY2tzKTtcbiAgICAgIHNob3dUb2FzdCgnQmxvYyBtaXMgXHUwMEUwIGpvdXInKTtcbiAgICAgIHNldEFjdGl2ZVBhZ2UoY3VycmVudFBhZ2UuaWQsIHsgcHJlc2VydmVCbG9jazogdHJ1ZSB9KTtcbiAgICB9O1xuICAgIGNvbnN0IGRyYXdlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXBhZ2UtZHJhd2VyXScpO1xuICAgIGNvbnN0IGRyYXdlckJhY2tkcm9wID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1kcmF3ZXItYmFja2Ryb3BdJyk7XG4gICAgY29uc3QgZHJhd2VyT3BlbkJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1wYWdlLWRyYXdlci1vcGVuXScpO1xuICAgIGNvbnN0IGRyYXdlckNsb3NlQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXBhZ2UtZHJhd2VyLWNsb3NlXScpO1xuICAgIGNvbnN0IGFkZFBhZ2VUb2dnbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZGQtcGFnZS10b2dnbGVdJyk7XG4gICAgY29uc3QgYWRkUGFnZUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZGQtcGFnZS1mb3JtXScpO1xuICAgIGNvbnN0IGFkZFBhZ2VOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRkLXBhZ2UtbmFtZV0nKTtcbiAgICBjb25zdCBhZGRQYWdlVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZGQtcGFnZS10aXRsZV0nKTtcbiAgICBjb25zdCBhZGRQYWdlU2x1ZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFkZC1wYWdlLXNsdWddJyk7XG4gICAgY29uc3QgYWRkUGFnZUNhbmNlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFkZC1wYWdlLWNhbmNlbF0nKTtcbiAgICBjb25zdCBhZGRQYWdlRXJyb3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZGQtcGFnZS1lcnJvcl0nKTtcbiAgICBjb25zdCBhZGRQYWdlU3VibWl0QnV0dG9uID0gYWRkUGFnZUZvcm0/LnF1ZXJ5U2VsZWN0b3IoJ1t0eXBlPVwic3VibWl0XCJdJyk7XG4gICAgLy8gSW1wb3J0IEpTT04gZWxlbWVudHNcbiAgICBjb25zdCBpbXBvcnRUb2dnbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbXBvcnQtcGFnZXMtdG9nZ2xlXScpO1xuICAgIGNvbnN0IGltcG9ydE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaW1wb3J0LW1vZGFsXScpO1xuICAgIGNvbnN0IGltcG9ydENsb3NlQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWltcG9ydC1tb2RhbC1jbG9zZV0nKTtcbiAgICBjb25zdCBpbXBvcnREcm9wem9uZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWltcG9ydC1kcm9wem9uZV0nKTtcbiAgICBjb25zdCBpbXBvcnRGaWxlSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbXBvcnQtZmlsZS1pbnB1dF0nKTtcbiAgICBjb25zdCBpbXBvcnRGaWxlTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWltcG9ydC1maWxlLWxpc3RdJyk7XG4gICAgY29uc3QgaW1wb3J0RmlsZU5hbWVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaW1wb3J0LWZpbGUtbmFtZXNdJyk7XG4gICAgY29uc3QgaW1wb3J0UmVzdWx0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWltcG9ydC1yZXN1bHRzXScpO1xuICAgIGNvbnN0IGltcG9ydFJlc3VsdHNDb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaW1wb3J0LXJlc3VsdHMtY29udGVudF0nKTtcbiAgICBjb25zdCBpbXBvcnRTdWJtaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbXBvcnQtc3VibWl0XScpO1xuICAgIGNvbnN0IGltcG9ydFRhYnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1pbXBvcnQtdGFiXScpO1xuICAgIGNvbnN0IGltcG9ydFBhbmVscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWltcG9ydC1wYW5lbF0nKTtcbiAgICBjb25zdCBjb3B5VGVtcGxhdGVCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb3B5LXRlbXBsYXRlXScpO1xuICAgIGNvbnN0IHRlbXBsYXRlSnNvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRlbXBsYXRlLWpzb25dJyk7XG4gICAgLy8gUGFzdGUgSlNPTiBlbGVtZW50c1xuICAgIGNvbnN0IGltcG9ydFBhc3RlSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbXBvcnQtcGFzdGUtanNvbl0nKTtcbiAgICBjb25zdCBwYXN0ZUZvcm1hdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWZvcm1hdC1qc29uXScpO1xuICAgIGNvbnN0IHBhc3RlRXJyb3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbXBvcnQtcGFzdGUtZXJyb3JdJyk7XG4gICAgbGV0IGltcG9ydFNlbGVjdGVkRmlsZXMgPSBbXTtcbiAgICBsZXQgYWN0aXZlSW1wb3J0VGFiID0gJ3VwbG9hZCc7XG4gICAgLy8gRGVsZXRlIHBhZ2UgZWxlbWVudHNcbiAgICBjb25zdCBkZWxldGVQYWdlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZWxldGUtcGFnZS1tb2RhbF0nKTtcbiAgICBjb25zdCBkZWxldGVQYWdlTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlbGV0ZS1wYWdlLW5hbWVdJyk7XG4gICAgY29uc3QgZGVsZXRlUGFnZUNhbmNlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlbGV0ZS1wYWdlLWNhbmNlbF0nKTtcbiAgICBjb25zdCBkZWxldGVQYWdlQ29uZmlybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlbGV0ZS1wYWdlLWNvbmZpcm1dJyk7XG4gICAgbGV0IHBhZ2VUb0RlbGV0ZSA9IG51bGw7XG4gICAgY29uc3Qgc2l0ZUtleSA9XG4gICAgICBzdHJpcExlYWRpbmdTbGFzaCh3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICdkZWZhdWx0JykgfHwgJ2RlZmF1bHQnO1xuICAgIGNvbnN0IHNpdGVTbHVnVmFsdWUgPSB3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnO1xuICAgIGNvbnN0IHNhZmVTaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKHNpdGVTbHVnVmFsdWUpIHx8ICcnO1xuICAgIGNvbnN0IHBhZ2VzQXBpQmFzZSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9wYWdlc2BcbiAgICAgIDogbnVsbDtcbiAgICBjb25zdCBjb2xsZWN0aW9uc0FwaUJhc2UgPSBzYWZlU2l0ZVNsdWdcbiAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnKX0vY29sbGVjdGlvbnNgXG4gICAgICA6IG51bGw7XG4gICAgY29uc3Qgc3RvcmFnZUtleXMgPSB7XG4gICAgICBhY3RpdmU6IGBjbG93ZXI6YWN0aXZlUGFnZToke3NpdGVLZXl9YCxcbiAgICB9O1xuICAgIGNvbnN0IGNyZWF0ZUJsb2NrID0gKGlkLCBsYWJlbCwgdHlwZSwgc3RhdHVzLCBkZXNjcmlwdGlvbiwgcHJvcHMgPSBbXSwgc2V0dGluZ3MgPSB7fSkgPT4ge1xuICAgICAgY29uc3QgYmxvY2sgPSB7XG4gICAgICAgIGlkLFxuICAgICAgICBsYWJlbCxcbiAgICAgICAgdHlwZSxcbiAgICAgICAgc3RhdHVzLFxuICAgICAgICBkZXNjcmlwdGlvbixcbiAgICAgICAgcHJvcHMsXG4gICAgICAgIHNldHRpbmdzOiB7IC4uLnNldHRpbmdzIH0sXG4gICAgICB9O1xuICAgICAgaWYgKGJsb2NrLnNldHRpbmdzLmNvbGxlY3Rpb25JZCkge1xuICAgICAgICBibG9jay5jb2xsZWN0aW9uSWQgPSBibG9jay5zZXR0aW5ncy5jb2xsZWN0aW9uSWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmxvY2s7XG4gICAgfTtcbiAgICBjb25zdCBibG9ja0xpYnJhcnlEZWZpbml0aW9ucyA9IHtcbiAgICAgIGhlcm86IHtcbiAgICAgICAgdHlwZTogJ0hlcm8nLFxuICAgICAgICBsYWJlbDogJ0hlcm8gZGUgcGFnZScsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnU2VjdGlvbiBwbGVpbmUgbGFyZ2V1ciBhdmVjIENUQSBwcmluY2lwYWwuJyxcbiAgICAgICAgc3RhdHVzOiAnQnJvdWlsbG9uJyxcbiAgICAgICAgcHJvcHM6IFtcbiAgICAgICAgICB7IGxhYmVsOiAnQ1RBJywgdmFsdWU6ICdEXHUwMEU5Y291dnJpcicgfSxcbiAgICAgICAgICB7IGxhYmVsOiAnSGF1dGV1cicsIHZhbHVlOiAnODB2aCcgfSxcbiAgICAgICAgXSxcbiAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICB0aXRsZTogJ1RpdHJlIGR1IGhlcm8nLFxuICAgICAgICAgIHN1YnRpdGxlOiAnJyxcbiAgICAgICAgICBjdGFMYWJlbDogJ0RcdTAwRTljb3V2cmlyJyxcbiAgICAgICAgICBjdGFVcmw6ICcjJyxcbiAgICAgICAgICBpbWFnZTogJycsXG4gICAgICAgICAgYWxpZ246ICdjZW50ZXInLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIHBhcmFncmFwaDoge1xuICAgICAgICB0eXBlOiAnUGFyYWdyYXBoZScsXG4gICAgICAgIGxhYmVsOiAnQmxvYyBcdTAwRTlkaXRvcmlhbCcsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnUGFyYWdyYXBoZSBsaWJyZSBwb3VyIHJhY29udGVyIHZvdHJlIGhpc3RvaXJlLicsXG4gICAgICAgIHN0YXR1czogJ0Jyb3VpbGxvbicsXG4gICAgICAgIHByb3BzOiBbeyBsYWJlbDogJ0xvbmd1ZXVyJywgdmFsdWU6ICcxNTAgbW90cycgfV0sXG4gICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgdGl0bGU6ICdUaXRyZSBkdSBwYXJhZ3JhcGhlJyxcbiAgICAgICAgICBjb250ZW50OiAnJyxcbiAgICAgICAgICBhbGlnbjogJ2xlZnQnLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGltYWdlOiB7XG4gICAgICAgIHR5cGU6ICdJbWFnZScsXG4gICAgICAgIGxhYmVsOiAnQmxvYyBpbWFnZScsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnVmlzdWVsIHNldWwgYXZlYyBsXHUwMEU5Z2VuZGUgb3B0aW9ubmVsbGUuJyxcbiAgICAgICAgc3RhdHVzOiAnQnJvdWlsbG9uJyxcbiAgICAgICAgcHJvcHM6IFtcbiAgICAgICAgICB7IGxhYmVsOiAnUmF0aW8nLCB2YWx1ZTogJzE2OjknIH0sXG4gICAgICAgICAgeyBsYWJlbDogJ0xcdTAwRTlnZW5kZScsIHZhbHVlOiAnSW5hY3RpdmUnIH0sXG4gICAgICAgIF0sXG4gICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgc3JjOiAnJyxcbiAgICAgICAgICBhbHQ6ICcnLFxuICAgICAgICAgIHNob3dDYXB0aW9uOiBmYWxzZSxcbiAgICAgICAgICBjYXB0aW9uOiAnJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBncm91cDoge1xuICAgICAgICB0eXBlOiAnR3JvdXBlJyxcbiAgICAgICAgbGFiZWw6ICdHcm91cGUgZGUgc2VjdGlvbnMnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0NvbnRlbmV1ciBwb3VyIGltYnJpcXVlciBwbHVzaWV1cnMgc291cy1ibG9jcy4nLFxuICAgICAgICBzdGF0dXM6ICdCcm91aWxsb24nLFxuICAgICAgICBwcm9wczogW3sgbGFiZWw6ICdEaXNwb3NpdGlvbicsIHZhbHVlOiAnVmVydGljYWxlJyB9XSxcbiAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICBsYXlvdXQ6ICdncmlkJyxcbiAgICAgICAgICBjb2x1bW5zTW9iaWxlOiAnMScsXG4gICAgICAgICAgY29sdW1uc0Rlc2t0b3A6ICczJyxcbiAgICAgICAgICBtb2JpbGVMYXlvdXQ6ICdzdGFjaycsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgY29sbGVjdGlvbmdyaWQ6IHtcbiAgICAgICAgdHlwZTogJ0NvbGxlY3Rpb25HcmlkJyxcbiAgICAgICAgbGFiZWw6ICdHcmlsbGUgZGUgY29udGVudXMnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0FmZmljaGUgYXV0b21hdGlxdWVtZW50IGxlcyBpdGVtcyBkXHUyMDE5dW5lIGNvbGxlY3Rpb24uJyxcbiAgICAgICAgc3RhdHVzOiAnQnJvdWlsbG9uJyxcbiAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICBjb2xsZWN0aW9uSWQ6ICcnLFxuICAgICAgICAgIGxpbWl0OiA2LFxuICAgICAgICAgIG1vYmlsZUxheW91dDogJ3N0YWNrJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBmb3JtOiB7XG4gICAgICAgIHR5cGU6ICdGb3JtJyxcbiAgICAgICAgbGFiZWw6ICdGb3JtdWxhaXJlIGRlIGNvbnRhY3QnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0Zvcm11bGFpcmUgYXZlYyBlbnZvaSB2ZXJzIHVuIHNlcnZpY2UgZXh0ZXJuZS4nLFxuICAgICAgICBzdGF0dXM6ICdCcm91aWxsb24nLFxuICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgIGZvcm1UaXRsZTogJ0NvbnRhY3Rlei1ub3VzJyxcbiAgICAgICAgICBhY3Rpb25Vcmw6ICcnLFxuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIHNlcnZpY2VOYW1lOiAnJyxcbiAgICAgICAgICBzdWJtaXRMYWJlbDogJ0Vudm95ZXInLFxuICAgICAgICAgIHN1Y2Nlc3NNZXNzYWdlOiAnTWVyY2kgcG91ciB2b3RyZSBtZXNzYWdlICEnLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIG5ld3NsZXR0ZXJlbWJlZDoge1xuICAgICAgICB0eXBlOiAnTmV3c2xldHRlckVtYmVkJyxcbiAgICAgICAgbGFiZWw6ICdOZXdzbGV0dGVyIC8gRW1iZWQnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0ludFx1MDBFOWdyYXRpb24gZFxcJ3VuIGZvcm11bGFpcmUgbmV3c2xldHRlciBleHRlcm5lIChCcmV2bywgTWFpbGNoaW1wXHUyMDI2KS4nLFxuICAgICAgICBzdGF0dXM6ICdCcm91aWxsb24nLFxuICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgIHRpdGxlOiAnUmVzdGV6IGluZm9ybVx1MDBFOScsXG4gICAgICAgICAgc2VydmljZU5hbWU6ICcnLFxuICAgICAgICAgIGVtYmVkQ29kZTogJycsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH07XG4gICAgY29uc3QgcGVyc2lzdEFjdGl2ZVBhZ2UgPSAocGFnZUlkKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oc3RvcmFnZUtleXMuYWN0aXZlLCBwYWdlSWQpO1xuICAgICAgfSBjYXRjaCB7XG4gICAgICAgIC8qIGlnbm9yZSBzdG9yYWdlIGVycm9ycyAqL1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgZ2V0U3RvcmVkQWN0aXZlUGFnZSA9IChwYWdlcykgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgc3RvcmVkID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKHN0b3JhZ2VLZXlzLmFjdGl2ZSk7XG4gICAgICAgIGlmIChzdG9yZWQgJiYgcGFnZXMuc29tZSgocGFnZSkgPT4gcGFnZS5pZCA9PT0gc3RvcmVkKSkge1xuICAgICAgICAgIHJldHVybiBzdG9yZWQ7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2gge1xuICAgICAgICAvKiBpZ25vcmUgc3RvcmFnZSBlcnJvcnMgKi9cbiAgICAgIH1cbiAgICAgIHJldHVybiBwYWdlc1swXT8uaWQgfHwgbnVsbDtcbiAgICB9O1xuICAgIGNvbnN0IGZvcm1hdEJsb2NrQ291bnQgPSAoY291bnQpID0+IHtcbiAgICAgIGlmICghY291bnQgfHwgY291bnQgPD0gMCkge1xuICAgICAgICByZXR1cm4gJzAgYmxvYyc7XG4gICAgICB9XG4gICAgICByZXR1cm4gY291bnQgPT09IDEgPyAnMSBibG9jJyA6IGAke2NvdW50fSBibG9jc2A7XG4gICAgfTtcbiAgICBjb25zdCBub3JtYWxpemVQYWdlU2x1ZyA9ICh2YWx1ZSkgPT4ge1xuICAgICAgaWYgKCF2YWx1ZSB8fCB2YWx1ZSA9PT0gJy8nKSB7XG4gICAgICAgIHJldHVybiAnLyc7XG4gICAgICB9XG4gICAgICBjb25zdCBiYXNlID0gd29ya3NwYWNlU2x1Z2lmeSh2YWx1ZS5yZXBsYWNlKC9eXFwvLywgJycpKTtcbiAgICAgIHJldHVybiBiYXNlID8gYC8ke2Jhc2V9YCA6ICcvJztcbiAgICB9O1xuICAgIGNvbnN0IGdlbmVyYXRlQmxvY2tJZCA9IChwYWdlSWQgPSAncGFnZScsIGtleSA9ICdibG9jaycpID0+XG4gICAgICBgJHtwYWdlSWR9LSR7a2V5fS0ke0RhdGUubm93KCkudG9TdHJpbmcoMzYpfS0ke01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDApfWA7XG4gICAgY29uc3QgY3JlYXRlSW5pdGlhbEJsb2NrcyA9IChwYWdlSWQsIHRpdGxlKSA9PiBbXG4gICAgICBjcmVhdGVCbG9jayhcbiAgICAgICAgZ2VuZXJhdGVCbG9ja0lkKHBhZ2VJZCwgJ2ludHJvJyksXG4gICAgICAgICdJbnRyb2R1Y3Rpb24nLFxuICAgICAgICAnUGFyYWdyYXBoZScsXG4gICAgICAgICdCcm91aWxsb24nLFxuICAgICAgICBgUGFyYWdyYXBoZSBpbnRyb2R1Y3RpZiBwb3VyIFwiJHt0aXRsZX1cIi5gLFxuICAgICAgICBbeyBsYWJlbDogJ0xvbmd1ZXVyJywgdmFsdWU6ICcyIHBhcmFncmFwaGVzJyB9XSxcbiAgICAgICAge1xuICAgICAgICAgIHRpdGxlOiBgSW50cm9kdWN0aW9uIFx1MDBFMCAke3RpdGxlfWAsXG4gICAgICAgICAgY29udGVudDogJ0Fqb3V0ZXogdm90cmUgcHJlbWllciBwYXJhZ3JhcGhlIGRlIHByXHUwMEU5c2VudGF0aW9uLicsXG4gICAgICAgICAgYWxpZ246ICdsZWZ0JyxcbiAgICAgICAgfSxcbiAgICAgICksXG4gICAgICBjcmVhdGVCbG9jayhcbiAgICAgICAgZ2VuZXJhdGVCbG9ja0lkKHBhZ2VJZCwgJ2NvbnRlbnQnKSxcbiAgICAgICAgJ1pvbmUgZGUgY29udGVudScsXG4gICAgICAgICdHcm91cGUnLFxuICAgICAgICAnQnJvdWlsbG9uJyxcbiAgICAgICAgJ1NlY3Rpb24gcHJpbmNpcGFsZSBcdTAwRTAgY29tcG9zZXIgYXZlYyB0ZXh0ZXMgZXQgdmlzdWVscy4nLFxuICAgICAgICBbeyBsYWJlbDogJ0NvbG9ubmVzJywgdmFsdWU6ICdBdXRvJyB9XSxcbiAgICAgICAge1xuICAgICAgICAgIGxheW91dDogJ2dyaWQnLFxuICAgICAgICAgIGNvbHVtbnNNb2JpbGU6ICcxJyxcbiAgICAgICAgICBjb2x1bW5zRGVza3RvcDogJzInLFxuICAgICAgICAgIG1vYmlsZUxheW91dDogJ3N0YWNrJyxcbiAgICAgICAgfSxcbiAgICAgICksXG4gICAgXTtcbiAgICBjb25zdCBzZXRBY3RpdmVMYWJlbHMgPSAocGFnZSkgPT4ge1xuICAgICAgaWYgKGFjdGl2ZVRpdGxlKSB7XG4gICAgICAgIC8vIFVzZSBwYWdlLm5hbWUgKHNob3J0IG5hbWUpIGlmIGF2YWlsYWJsZSwgZmFsbGJhY2sgdG8gdGl0bGVcbiAgICAgICAgYWN0aXZlVGl0bGUudGV4dENvbnRlbnQgPSBwYWdlPy5uYW1lIHx8IHBhZ2U/LnRpdGxlIHx8ICdQYWdlJztcbiAgICAgIH1cbiAgICAgIGlmIChhY3RpdmVTbHVnKSB7XG4gICAgICAgIGFjdGl2ZVNsdWcudGV4dENvbnRlbnQgPSBwYWdlPy5zbHVnIHx8ICcvJztcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHJlbmRlclByZXZpZXdNZXRhID0gKHBhZ2UpID0+IHtcbiAgICAgIGlmICghcHJldmlld1RhZ3MpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcHJldmlld1RhZ3MuaW5uZXJIVE1MID0gJyc7XG4gICAgICBjb25zdCB0YWdzID1cbiAgICAgICAgcGFnZSAmJiBwYWdlLmJhZGdlcyAmJiBwYWdlLmJhZGdlcy5sZW5ndGggPiAwID8gcGFnZS5iYWRnZXMgOiBbJ1N0cnVjdHVyZSBlbiBjb3VycyddO1xuICAgICAgdGFncy5mb3JFYWNoKCh0YWcpID0+IHtcbiAgICAgICAgY29uc3QgYmFkZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgIGJhZGdlLmNsYXNzTmFtZSA9ICdyb3VuZGVkLWZ1bGwgYmctc2xhdGUtMTAwIHB4LTMgcHktMSc7XG4gICAgICAgIGJhZGdlLnRleHRDb250ZW50ID0gdGFnO1xuICAgICAgICBwcmV2aWV3VGFncy5hcHBlbmRDaGlsZChiYWRnZSk7XG4gICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IGdldFN0YXR1c0JhZGdlQ2xhc3NlcyA9IChzdGF0dXMpID0+IHtcbiAgICAgIHN3aXRjaCAoKHN0YXR1cyB8fCAnJykudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICBjYXNlICdlbiBsaWduZSc6XG4gICAgICAgICAgcmV0dXJuICdiZy1lbWVyYWxkLTUwIHRleHQtZW1lcmFsZC03MDAnO1xuICAgICAgICBjYXNlICdicm91aWxsb24nOlxuICAgICAgICAgIHJldHVybiAnYmctYW1iZXItNTAgdGV4dC1hbWJlci03MDAnO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiAnYmctc2xhdGUtMTAwIHRleHQtc2xhdGUtNjAwJztcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHJlbmRlckJsb2NrRGV0YWlscyA9IChibG9jaykgPT4ge1xuICAgICAgaWYgKCFibG9ja0RldGFpbEVtcHR5IHx8ICFibG9ja0VkaXRvcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWJsb2NrKSB7XG4gICAgICAgIGJsb2NrRGV0YWlsRW1wdHkuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIGJsb2NrRWRpdG9yLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBibG9ja0VkaXRvclVuc3VwcG9ydGVkPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgYmxvY2tGb3JtPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgYmxvY2tEZXRhaWxTdGF0dXM/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBibG9ja0RldGFpbEVtcHR5LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgYmxvY2tFZGl0b3IuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBpZiAoYmxvY2tEZXRhaWxTdGF0dXMpIHtcbiAgICAgICAgaWYgKGJsb2NrLnN0YXR1cykge1xuICAgICAgICAgIGJsb2NrRGV0YWlsU3RhdHVzLnRleHRDb250ZW50ID0gYmxvY2suc3RhdHVzO1xuICAgICAgICAgIGJsb2NrRGV0YWlsU3RhdHVzLmNsYXNzTmFtZSA9IGByb3VuZGVkLWZ1bGwgcHgtMyBweS0xIHRleHQteHMgZm9udC1zZW1pYm9sZCAke2dldFN0YXR1c0JhZGdlQ2xhc3NlcyhcbiAgICAgICAgICAgIGJsb2NrLnN0YXR1cyxcbiAgICAgICAgICApfWA7XG4gICAgICAgICAgYmxvY2tEZXRhaWxTdGF0dXMuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYmxvY2tEZXRhaWxTdGF0dXMuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHBvcHVsYXRlQmxvY2tGb3JtKGJsb2NrKTtcbiAgICB9O1xuICAgIGNvbnN0IGFwcGx5UHJldmlld0hpZ2hsaWdodCA9IChibG9ja0lkKSA9PiB7XG4gICAgICBpZiAoIXByZXZpZXdGcmFtZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBkb2MgPSBwcmV2aWV3RnJhbWUuY29udGVudERvY3VtZW50O1xuICAgICAgaWYgKCFkb2MpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3Qgbm9kZXMgPSBkb2MucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtcHJldmlldy1ibG9ja10nKTtcbiAgICAgIG5vZGVzLmZvckVhY2goKG5vZGUpID0+IHtcbiAgICAgICAgaWYgKG5vZGUuZGF0YXNldC5wcmV2aWV3QmxvY2sgPT09IGJsb2NrSWQpIHtcbiAgICAgICAgICBub2RlLmNsYXNzTGlzdC5hZGQoJ3ByZXZpZXctYmxvY2stYWN0aXZlJyk7XG4gICAgICAgICAgaWYgKHByZXZpZXdSZWFkeSAmJiBibG9ja0lkKSB7XG4gICAgICAgICAgICBub2RlLnNjcm9sbEludG9WaWV3KHsgYmVoYXZpb3I6ICdzbW9vdGgnLCBibG9jazogJ2NlbnRlcicsIGlubGluZTogJ25lYXJlc3QnIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBub2RlLmNsYXNzTGlzdC5yZW1vdmUoJ3ByZXZpZXctYmxvY2stYWN0aXZlJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKHByZXZpZXdIaWdobGlnaHRPdmVybGF5KSB7XG4gICAgICAgIHByZXZpZXdIaWdobGlnaHRPdmVybGF5LnN0eWxlLmJvcmRlckNvbG9yID0gYmxvY2tJZCA/ICdyZ2JhKDE1NiwgMTA3LCAyNTUsIDAuNSknIDogJ3RyYW5zcGFyZW50JztcbiAgICAgIH1cbiAgICB9O1xuICAgIC8vIEZvbmN0aW9uIHBvdXIgY3JcdTAwRTllciB1biBcdTAwRTlsXHUwMEU5bWVudCBkZSBibG9jICh1dGlsaXNcdTAwRTkgcG91ciBsZXMgYmxvY3MgZXQgbGVzIGVuZmFudHMgZGUgZ3JvdXBlKVxuICAgIGNvbnN0IGNyZWF0ZUJsb2NrSXRlbUVsZW1lbnQgPSAoYmxvY2ssIGlzTmVzdGVkID0gZmFsc2UsIHBhcmVudElkID0gbnVsbCkgPT4ge1xuICAgICAgY29uc3QgaXNBY3RpdmUgPSBibG9jay5pZCA9PT0gYWN0aXZlQmxvY2tJZDtcbiAgICAgIGNvbnN0IGJsb2NrVHlwZSA9IChibG9jay50eXBlIHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgY29uc3QgaXNHcm91cCA9IGJsb2NrVHlwZSA9PT0gJ2dyb3VwZScgfHwgYmxvY2tUeXBlID09PSAnZ3JvdXAnIHx8IGJsb2NrVHlwZSA9PT0gJ3NlY3Rpb25zJyB8fCBibG9ja1R5cGUgPT09ICdncmlkJztcbiAgICAgIFxuICAgICAgY29uc3QgaXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgaXRlbS5kYXRhc2V0LmJsb2NrSXRlbSA9ICd0cnVlJztcbiAgICAgIGl0ZW0uZGF0YXNldC5ibG9ja0lkID0gYmxvY2suaWQ7XG4gICAgICBpZiAocGFyZW50SWQpIGl0ZW0uZGF0YXNldC5wYXJlbnRCbG9ja0lkID0gcGFyZW50SWQ7XG4gICAgICBpZiAoaXNHcm91cCkgaXRlbS5kYXRhc2V0LmlzR3JvdXAgPSAndHJ1ZSc7XG4gICAgICBpdGVtLnNldEF0dHJpYnV0ZSgncm9sZScsICdvcHRpb24nKTtcbiAgICAgIGl0ZW0uc2V0QXR0cmlidXRlKCdhcmlhLXNlbGVjdGVkJywgaXNBY3RpdmUgPyAndHJ1ZScgOiAnZmFsc2UnKTtcbiAgICAgIGl0ZW0uc2V0QXR0cmlidXRlKCdkcmFnZ2FibGUnLCAndHJ1ZScpO1xuICAgICAgaXRlbS50YWJJbmRleCA9IDA7XG4gICAgICBpdGVtLmNsYXNzTmFtZSA9IFtcbiAgICAgICAgJ3JlbGF0aXZlIGZsZXggaXRlbXMtY2VudGVyIGdhcC0zIHJvdW5kZWQtMnhsIGJvcmRlciBweC0zIHB5LTIgdGV4dC1sZWZ0IHRyYW5zaXRpb24gZ3JvdXAnLFxuICAgICAgICBpc05lc3RlZCA/ICdtbC02IGJvcmRlci1kYXNoZWQnIDogJycsXG4gICAgICAgIGlzQWN0aXZlXG4gICAgICAgICAgPyAnYmctc2xhdGUtMTAwIGJvcmRlci1bIzlDNkJGRl0vNDAgc2hhZG93LXNtJ1xuICAgICAgICAgIDogJ2JvcmRlci1zbGF0ZS0yMDAgaG92ZXI6Ym9yZGVyLVsjOUM2QkZGXS80MCcsXG4gICAgICBdLmpvaW4oJyAnKTtcbiAgICAgIFxuICAgICAgY29uc3QgYWNjZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgYWNjZW50LmNsYXNzTmFtZSA9IGBhYnNvbHV0ZSBpbnNldC15LTIgbGVmdC0wIHctMSByb3VuZGVkLWZ1bGwgYmctWyM5QzZCRkZdICR7aXNBY3RpdmUgPyAnJyA6ICdoaWRkZW4nfWA7XG4gICAgICBpdGVtLmFwcGVuZENoaWxkKGFjY2VudCk7XG5cbiAgICAgIGNvbnN0IGNvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGNvbnRlbnQuY2xhc3NOYW1lID0gJ2ZsZXggZmxleC0xIGl0ZW1zLWNlbnRlciBnYXAtMyc7XG4gICAgICBcbiAgICAgIGNvbnN0IGhhbmRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgaGFuZGxlLmNsYXNzTmFtZSA9ICdoaWRkZW4gbGc6ZmxleCBjdXJzb3ItZ3JhYiBhY3RpdmU6Y3Vyc29yLWdyYWJiaW5nIGZsZXgtc2hyaW5rLTAgaXRlbXMtY2VudGVyIHRleHQtbGcgdGV4dC1zbGF0ZS00MDAgaG92ZXI6dGV4dC1zbGF0ZS02MDAgdHJhbnNpdGlvbi1jb2xvcnMgc2VsZWN0LW5vbmUnO1xuICAgICAgaGFuZGxlLmlubmVySFRNTCA9ICdcdTIyRUVcdTIyRUUnO1xuICAgICAgaGFuZGxlLnNldEF0dHJpYnV0ZSgndGl0bGUnLCAnR2xpc3NlciBwb3VyIHJcdTAwRTlvcmRvbm5lcicpO1xuICAgICAgY29udGVudC5hcHBlbmRDaGlsZChoYW5kbGUpO1xuXG4gICAgICBjb25zdCB0ZXh0V3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgdGV4dFdyYXBwZXIuY2xhc3NOYW1lID0gJ2ZsZXgtMSc7XG4gICAgICBcbiAgICAgIGNvbnN0IG1ldGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIG1ldGEuY2xhc3NOYW1lID0gJ2ZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHRleHQtWzExcHhdIHVwcGVyY2FzZSB0cmFja2luZy13aWRlIHRleHQtc2xhdGUtNTAwJztcbiAgICAgIFxuICAgICAgY29uc3QgdHlwZUJhZGdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgdHlwZUJhZGdlLmNsYXNzTmFtZSA9ICdyb3VuZGVkLWZ1bGwgYmctc2xhdGUtMTAwIHB4LTIgcHktMC41IHRleHQtWzEwcHhdIGZvbnQtc2VtaWJvbGQgdGV4dC1zbGF0ZS02MDAnO1xuICAgICAgdHlwZUJhZGdlLnRleHRDb250ZW50ID0gYmxvY2sudHlwZTtcbiAgICAgIFxuICAgICAgY29uc3Qgc3RhdHVzQmFkZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICBzdGF0dXNCYWRnZS5jbGFzc05hbWUgPSAndGV4dC1zbGF0ZS00MDAnO1xuICAgICAgc3RhdHVzQmFkZ2UudGV4dENvbnRlbnQgPSBibG9jay5zdGF0dXM7XG4gICAgICBcbiAgICAgIG1ldGEuYXBwZW5kQ2hpbGQodHlwZUJhZGdlKTtcbiAgICAgIGlmIChpc0dyb3VwKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkQ291bnQgPSAoYmxvY2suY2hpbGRyZW4gfHwgW10pLmxlbmd0aDtcbiAgICAgICAgY29uc3QgY2hpbGRCYWRnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgY2hpbGRCYWRnZS5jbGFzc05hbWUgPSAncm91bmRlZC1mdWxsIGJnLXZpb2xldC0xMDAgcHgtMiBweS0wLjUgdGV4dC1bMTBweF0gZm9udC1zZW1pYm9sZCB0ZXh0LXZpb2xldC02MDAnO1xuICAgICAgICBjaGlsZEJhZGdlLnRleHRDb250ZW50ID0gYCR7Y2hpbGRDb3VudH0gXHUwMEU5bFx1MDBFOW1lbnQke2NoaWxkQ291bnQgIT09IDEgPyAncycgOiAnJ31gO1xuICAgICAgICBtZXRhLmFwcGVuZENoaWxkKGNoaWxkQmFkZ2UpO1xuICAgICAgfVxuICAgICAgbWV0YS5hcHBlbmRDaGlsZChzdGF0dXNCYWRnZSk7XG4gICAgICBcbiAgICAgIGNvbnN0IHRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgICAgdGl0bGUuY2xhc3NOYW1lID0gJ210LTEgdGV4dC1zbSBmb250LXNlbWlib2xkIHRleHQtc2xhdGUtOTAwJztcbiAgICAgIGNvbnN0IGRpc3BsYXlMYWJlbCA9IChibG9jay5zZXR0aW5ncyAmJiBibG9jay5zZXR0aW5ncy50aXRsZSkgfHwgYmxvY2subGFiZWwgfHwgJ0Jsb2Mgc2FucyB0aXRyZSc7XG4gICAgICB0aXRsZS50ZXh0Q29udGVudCA9IGRpc3BsYXlMYWJlbDtcbiAgICAgIFxuICAgICAgdGV4dFdyYXBwZXIuYXBwZW5kQ2hpbGQobWV0YSk7XG4gICAgICB0ZXh0V3JhcHBlci5hcHBlbmRDaGlsZCh0aXRsZSk7XG4gICAgICBcbiAgICAgIGlmIChibG9ja1R5cGUgPT09ICdjb2xsZWN0aW9uZ3JpZCcgJiYgYmxvY2suY29sbGVjdGlvbklkKSB7XG4gICAgICAgIGNvbnN0IGNvbGxlY3Rpb25OYW1lID0gZGVzaWduQ29sbGVjdGlvbnMuZmluZCgoZW50cnkpID0+IGVudHJ5LmlkID09PSBibG9jay5jb2xsZWN0aW9uSWQpPy5uYW1lIHx8IGJsb2NrLmNvbGxlY3Rpb25JZDtcbiAgICAgICAgY29uc3QgaW5mbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICAgICAgaW5mby5jbGFzc05hbWUgPSAndGV4dC14cyB0ZXh0LXNsYXRlLTQwMCc7XG4gICAgICAgIGluZm8udGV4dENvbnRlbnQgPSBgQ29sbGVjdGlvbiA6ICR7Y29sbGVjdGlvbk5hbWV9YDtcbiAgICAgICAgdGV4dFdyYXBwZXIuYXBwZW5kQ2hpbGQoaW5mbyk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQodGV4dFdyYXBwZXIpO1xuICAgICAgaXRlbS5hcHBlbmRDaGlsZChjb250ZW50KTtcblxuICAgICAgY29uc3QgYWN0aW9ucyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgYWN0aW9ucy5jbGFzc05hbWUgPSAnZmxleCBmbGV4LWNvbCBnYXAtMSB0ZXh0LXhzIHRleHQtc2xhdGUtNDAwJztcblxuICAgICAgY29uc3QgbW92ZUJ1dHRvbnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIG1vdmVCdXR0b25zLmNsYXNzTmFtZSA9ICdmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMSBsZzpoaWRkZW4nO1xuICAgICAgY29uc3QgbW92ZVVwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICBtb3ZlVXAudHlwZSA9ICdidXR0b24nO1xuICAgICAgbW92ZVVwLmNsYXNzTmFtZSA9ICdyb3VuZGVkLWxnIGJvcmRlciBib3JkZXItc2xhdGUtMjAwIHB4LTIgcHktMSB0ZXh0LVsxMXB4XSBmb250LXNlbWlib2xkIHRleHQtc2xhdGUtNTAwJztcbiAgICAgIG1vdmVVcC50ZXh0Q29udGVudCA9ICdcdTIxOTEnO1xuICAgICAgbW92ZVVwLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBpZiAocGFyZW50SWQpIHtcbiAgICAgICAgICBtb3ZlQ2hpbGRCbG9ja0J5T2Zmc2V0KHBhcmVudElkLCBibG9jay5pZCwgLTEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1vdmVCbG9ja0J5T2Zmc2V0KGJsb2NrLmlkLCAtMSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgY29uc3QgbW92ZURvd24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgIG1vdmVEb3duLnR5cGUgPSAnYnV0dG9uJztcbiAgICAgIG1vdmVEb3duLmNsYXNzTmFtZSA9ICdyb3VuZGVkLWxnIGJvcmRlciBib3JkZXItc2xhdGUtMjAwIHB4LTIgcHktMSB0ZXh0LVsxMXB4XSBmb250LXNlbWlib2xkIHRleHQtc2xhdGUtNTAwJztcbiAgICAgIG1vdmVEb3duLnRleHRDb250ZW50ID0gJ1x1MjE5Myc7XG4gICAgICBtb3ZlRG93bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgaWYgKHBhcmVudElkKSB7XG4gICAgICAgICAgbW92ZUNoaWxkQmxvY2tCeU9mZnNldChwYXJlbnRJZCwgYmxvY2suaWQsIDEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1vdmVCbG9ja0J5T2Zmc2V0KGJsb2NrLmlkLCAxKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBtb3ZlQnV0dG9ucy5hcHBlbmRDaGlsZChtb3ZlVXApO1xuICAgICAgbW92ZUJ1dHRvbnMuYXBwZW5kQ2hpbGQobW92ZURvd24pO1xuICAgICAgYWN0aW9ucy5hcHBlbmRDaGlsZChtb3ZlQnV0dG9ucyk7XG5cbiAgICAgIGNvbnN0IGRlbGV0ZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgZGVsZXRlQnV0dG9uLnR5cGUgPSAnYnV0dG9uJztcbiAgICAgIGRlbGV0ZUJ1dHRvbi5jbGFzc05hbWUgPSAnaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci10cmFuc3BhcmVudCBweC0yIHB5LTEgdGV4dC1bMTJweF0gdGV4dC1yb3NlLTUwMCBob3Zlcjp0ZXh0LXJvc2UtNzAwJztcbiAgICAgIGRlbGV0ZUJ1dHRvbi5pbm5lckhUTUwgPSAnXHVEODNEXHVEREQxXHVGRTBGJztcbiAgICAgIGRlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgaWYgKHBhcmVudElkKSB7XG4gICAgICAgICAgcmVtb3ZlQ2hpbGRGcm9tR3JvdXAocGFyZW50SWQsIGJsb2NrLmlkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvcGVuQmxvY2tEZWxldGVNb2RhbChibG9jay5pZCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBhY3Rpb25zLmFwcGVuZENoaWxkKGRlbGV0ZUJ1dHRvbik7XG4gICAgICBpdGVtLmFwcGVuZENoaWxkKGFjdGlvbnMpO1xuXG4gICAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBzZXRBY3RpdmVCbG9jayhibG9jay5pZCwgcGFyZW50SWQpO1xuICAgICAgfSk7XG4gICAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZlbnQpID0+IHtcbiAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VudGVyJyB8fCBldmVudC5rZXkgPT09ICcgJykge1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgc2V0QWN0aXZlQmxvY2soYmxvY2suaWQsIHBhcmVudElkKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIHJldHVybiB7IGl0ZW0sIGlzR3JvdXAsIGJsb2NrIH07XG4gICAgfTtcbiAgICBcbiAgICAvLyBGb25jdGlvbiBwb3VyIGNyXHUwMEU5ZXIgbGEgem9uZSBkZSBkcm9wIHBvdXIgdW4gZ3JvdXBlXG4gICAgY29uc3QgY3JlYXRlR3JvdXBEcm9wWm9uZSA9IChwYXJlbnRCbG9jaykgPT4ge1xuICAgICAgY29uc3QgZHJvcFpvbmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGRyb3Bab25lLmRhdGFzZXQuZ3JvdXBEcm9wWm9uZSA9IHBhcmVudEJsb2NrLmlkO1xuICAgICAgZHJvcFpvbmUuY2xhc3NOYW1lID0gJ21sLTYgYm9yZGVyLTIgYm9yZGVyLWRhc2hlZCBib3JkZXItc2xhdGUtMjAwIHJvdW5kZWQteGwgcC0zIHRleHQtY2VudGVyIHRleHQteHMgdGV4dC1zbGF0ZS00MDAgaG92ZXI6Ym9yZGVyLXZpb2xldC0zMDAgaG92ZXI6YmctdmlvbGV0LTUwLzUwIHRyYW5zaXRpb24tY29sb3JzIGN1cnNvci1wb2ludGVyJztcbiAgICAgIGRyb3Bab25lLmlubmVySFRNTCA9ICc8c3BhbiBjbGFzcz1cInBvaW50ZXItZXZlbnRzLW5vbmVcIj5cdUQ4M0RcdURDRTYgR2xpc3NleiB1biBibG9jIGljaSBvdSBjbGlxdWV6IHBvdXIgYWpvdXRlcjwvc3Bhbj4nO1xuICAgICAgXG4gICAgICAvLyBcdTAwQzl2XHUwMEU5bmVtZW50cyBkZSBkcmFnICYgZHJvcFxuICAgICAgZHJvcFpvbmUuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ292ZXInLCAoZSkgPT4ge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGRyb3Bab25lLmNsYXNzTGlzdC5hZGQoJ2JvcmRlci12aW9sZXQtNDAwJywgJ2JnLXZpb2xldC01MCcpO1xuICAgICAgfSk7XG4gICAgICBkcm9wWm9uZS5hZGRFdmVudExpc3RlbmVyKCdkcmFnbGVhdmUnLCAoZSkgPT4ge1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBkcm9wWm9uZS5jbGFzc0xpc3QucmVtb3ZlKCdib3JkZXItdmlvbGV0LTQwMCcsICdiZy12aW9sZXQtNTAnKTtcbiAgICAgIH0pO1xuICAgICAgZHJvcFpvbmUuYWRkRXZlbnRMaXN0ZW5lcignZHJvcCcsIChlKSA9PiB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgZHJvcFpvbmUuY2xhc3NMaXN0LnJlbW92ZSgnYm9yZGVyLXZpb2xldC00MDAnLCAnYmctdmlvbGV0LTUwJyk7XG4gICAgICAgIGNvbnN0IGJsb2NrSWQgPSBlLmRhdGFUcmFuc2Zlci5nZXREYXRhKCd0ZXh0L3BsYWluJyk7XG4gICAgICAgIGlmIChibG9ja0lkICYmIGJsb2NrSWQgIT09IHBhcmVudEJsb2NrLmlkKSB7XG4gICAgICAgICAgbW92ZUJsb2NrVG9Hcm91cChibG9ja0lkLCBwYXJlbnRCbG9jay5pZCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBDbGljIHBvdXIgYWpvdXRlciB1biBibG9jIGF1IGdyb3VwZVxuICAgICAgZHJvcFpvbmUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIG9wZW5BZGRCbG9ja1RvR3JvdXBNb2RhbChwYXJlbnRCbG9jay5pZCk7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgcmV0dXJuIGRyb3Bab25lO1xuICAgIH07XG5cbiAgICBjb25zdCByZW5kZXJCbG9ja0xpc3QgPSAocGFnZSkgPT4ge1xuICAgICAgaWYgKCFibG9ja0xpc3QpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYmxvY2tMaXN0LmlubmVySFRNTCA9ICcnO1xuICAgICAgY29uc3QgYmxvY2tzID0gcGFnZT8uYmxvY2tzIHx8IFtdO1xuICAgICAgaWYgKGJsb2NrQ291bnRCYWRnZSkge1xuICAgICAgICBibG9ja0NvdW50QmFkZ2UudGV4dENvbnRlbnQgPSBmb3JtYXRCbG9ja0NvdW50KGJsb2Nrcy5sZW5ndGgpO1xuICAgICAgfVxuICAgICAgaWYgKGJsb2Nrcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgYmxvY2tMaXN0LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBibG9ja0xpc3RFbXB0eT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGJsb2NrTGlzdC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGJsb2NrTGlzdEVtcHR5Py5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIFxuICAgICAgYmxvY2tzLmZvckVhY2goKGJsb2NrKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgaXRlbSwgaXNHcm91cCB9ID0gY3JlYXRlQmxvY2tJdGVtRWxlbWVudChibG9jaywgZmFsc2UsIG51bGwpO1xuICAgICAgICBibG9ja0xpc3QuYXBwZW5kQ2hpbGQoaXRlbSk7XG4gICAgICAgIFxuICAgICAgICAvLyBTaSBjJ2VzdCB1biBncm91cGUsIGFmZmljaGVyIGxlcyBlbmZhbnRzIGV0IGxhIHpvbmUgZGUgZHJvcFxuICAgICAgICBpZiAoaXNHcm91cCkge1xuICAgICAgICAgIGNvbnN0IGNoaWxkcmVuID0gYmxvY2suY2hpbGRyZW4gfHwgW107XG4gICAgICAgICAgY2hpbGRyZW4uZm9yRWFjaCgoY2hpbGQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgaXRlbTogY2hpbGRJdGVtIH0gPSBjcmVhdGVCbG9ja0l0ZW1FbGVtZW50KGNoaWxkLCB0cnVlLCBibG9jay5pZCk7XG4gICAgICAgICAgICBibG9ja0xpc3QuYXBwZW5kQ2hpbGQoY2hpbGRJdGVtKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICAvLyBab25lIGRlIGRyb3AgcG91ciBham91dGVyIGRlcyBibG9jcyBhdSBncm91cGVcbiAgICAgICAgICBjb25zdCBkcm9wWm9uZSA9IGNyZWF0ZUdyb3VwRHJvcFpvbmUoYmxvY2spO1xuICAgICAgICAgIGJsb2NrTGlzdC5hcHBlbmRDaGlsZChkcm9wWm9uZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG4gICAgXG4gICAgLy8gRm9uY3Rpb25zIHBvdXIgZ1x1MDBFOXJlciBsZXMgZW5mYW50cyBkZXMgZ3JvdXBlc1xuICAgIGNvbnN0IG1vdmVCbG9ja1RvR3JvdXAgPSAoYmxvY2tJZCwgZ3JvdXBJZCkgPT4ge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSkgcmV0dXJuO1xuICAgICAgY29uc3QgYmxvY2tJbmRleCA9IGN1cnJlbnRQYWdlLmJsb2Nrcy5maW5kSW5kZXgoKGIpID0+IGIuaWQgPT09IGJsb2NrSWQpO1xuICAgICAgY29uc3QgZ3JvdXBCbG9jayA9IGN1cnJlbnRQYWdlLmJsb2Nrcy5maW5kKChiKSA9PiBiLmlkID09PSBncm91cElkKTtcbiAgICAgIGlmIChibG9ja0luZGV4ID09PSAtMSB8fCAhZ3JvdXBCbG9jaykgcmV0dXJuO1xuICAgICAgXG4gICAgICAvLyBOZSBwYXMgcGVybWV0dHJlIGRlIGRcdTAwRTlwbGFjZXIgdW4gZ3JvdXBlIGRhbnMgdW4gZ3JvdXBlXG4gICAgICBjb25zdCBibG9jayA9IGN1cnJlbnRQYWdlLmJsb2Nrc1tibG9ja0luZGV4XTtcbiAgICAgIGNvbnN0IGJsb2NrVHlwZSA9IChibG9jay50eXBlIHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgaWYgKGJsb2NrVHlwZSA9PT0gJ2dyb3VwZScgfHwgYmxvY2tUeXBlID09PSAnZ3JvdXAnKSB7XG4gICAgICAgIHNob3dUb2FzdCgnSW1wb3NzaWJsZSBkXFwnaW1icmlxdWVyIGRlcyBncm91cGVzJywgJ2Vycm9yJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gUmV0aXJlciBsZSBibG9jIGRlIGxhIGxpc3RlIHByaW5jaXBhbGVcbiAgICAgIGNvbnN0IFttb3ZlZEJsb2NrXSA9IGN1cnJlbnRQYWdlLmJsb2Nrcy5zcGxpY2UoYmxvY2tJbmRleCwgMSk7XG4gICAgICBcbiAgICAgIC8vIEFqb3V0ZXIgYXUgZ3JvdXBlXG4gICAgICBpZiAoIWdyb3VwQmxvY2suY2hpbGRyZW4pIGdyb3VwQmxvY2suY2hpbGRyZW4gPSBbXTtcbiAgICAgIGdyb3VwQmxvY2suY2hpbGRyZW4ucHVzaChtb3ZlZEJsb2NrKTtcbiAgICAgIFxuICAgICAgcmVuZGVyQmxvY2tMaXN0KGN1cnJlbnRQYWdlKTtcbiAgICAgIHNhdmVQYWdlQmxvY2tzKCk7XG4gICAgICBzaG93VG9hc3QoYEJsb2MgYWpvdXRcdTAwRTkgYXUgZ3JvdXBlYCk7XG4gICAgfTtcbiAgICBcbiAgICBjb25zdCByZW1vdmVDaGlsZEZyb21Hcm91cCA9IChncm91cElkLCBjaGlsZElkKSA9PiB7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlKSByZXR1cm47XG4gICAgICBjb25zdCBncm91cEJsb2NrID0gY3VycmVudFBhZ2UuYmxvY2tzLmZpbmQoKGIpID0+IGIuaWQgPT09IGdyb3VwSWQpO1xuICAgICAgaWYgKCFncm91cEJsb2NrIHx8ICFncm91cEJsb2NrLmNoaWxkcmVuKSByZXR1cm47XG4gICAgICBcbiAgICAgIGNvbnN0IGNoaWxkSW5kZXggPSBncm91cEJsb2NrLmNoaWxkcmVuLmZpbmRJbmRleCgoYykgPT4gYy5pZCA9PT0gY2hpbGRJZCk7XG4gICAgICBpZiAoY2hpbGRJbmRleCA9PT0gLTEpIHJldHVybjtcbiAgICAgIFxuICAgICAgLy8gUmV0aXJlciBsJ2VuZmFudCBkdSBncm91cGUgZXQgbGUgcmVtZXR0cmUgZGFucyBsYSBsaXN0ZSBwcmluY2lwYWxlIGFwclx1MDBFOHMgbGUgZ3JvdXBlXG4gICAgICBjb25zdCBbY2hpbGRdID0gZ3JvdXBCbG9jay5jaGlsZHJlbi5zcGxpY2UoY2hpbGRJbmRleCwgMSk7XG4gICAgICBjb25zdCBncm91cEluZGV4ID0gY3VycmVudFBhZ2UuYmxvY2tzLmZpbmRJbmRleCgoYikgPT4gYi5pZCA9PT0gZ3JvdXBJZCk7XG4gICAgICBjdXJyZW50UGFnZS5ibG9ja3Muc3BsaWNlKGdyb3VwSW5kZXggKyAxLCAwLCBjaGlsZCk7XG4gICAgICBcbiAgICAgIHJlbmRlckJsb2NrTGlzdChjdXJyZW50UGFnZSk7XG4gICAgICBzYXZlUGFnZUJsb2NrcygpO1xuICAgICAgc2hvd1RvYXN0KGBCbG9jIHNvcnRpIGR1IGdyb3VwZWApO1xuICAgIH07XG4gICAgXG4gICAgY29uc3QgbW92ZUNoaWxkQmxvY2tCeU9mZnNldCA9IChncm91cElkLCBjaGlsZElkLCBvZmZzZXQpID0+IHtcbiAgICAgIGlmICghY3VycmVudFBhZ2UpIHJldHVybjtcbiAgICAgIGNvbnN0IGdyb3VwQmxvY2sgPSBjdXJyZW50UGFnZS5ibG9ja3MuZmluZCgoYikgPT4gYi5pZCA9PT0gZ3JvdXBJZCk7XG4gICAgICBpZiAoIWdyb3VwQmxvY2sgfHwgIWdyb3VwQmxvY2suY2hpbGRyZW4pIHJldHVybjtcbiAgICAgIFxuICAgICAgY29uc3QgY3VycmVudEluZGV4ID0gZ3JvdXBCbG9jay5jaGlsZHJlbi5maW5kSW5kZXgoKGMpID0+IGMuaWQgPT09IGNoaWxkSWQpO1xuICAgICAgaWYgKGN1cnJlbnRJbmRleCA9PT0gLTEpIHJldHVybjtcbiAgICAgIFxuICAgICAgY29uc3QgbmV3SW5kZXggPSBjdXJyZW50SW5kZXggKyBvZmZzZXQ7XG4gICAgICBpZiAobmV3SW5kZXggPCAwIHx8IG5ld0luZGV4ID49IGdyb3VwQmxvY2suY2hpbGRyZW4ubGVuZ3RoKSByZXR1cm47XG4gICAgICBcbiAgICAgIGNvbnN0IFtjaGlsZF0gPSBncm91cEJsb2NrLmNoaWxkcmVuLnNwbGljZShjdXJyZW50SW5kZXgsIDEpO1xuICAgICAgZ3JvdXBCbG9jay5jaGlsZHJlbi5zcGxpY2UobmV3SW5kZXgsIDAsIGNoaWxkKTtcbiAgICAgIFxuICAgICAgcmVuZGVyQmxvY2tMaXN0KGN1cnJlbnRQYWdlKTtcbiAgICAgIHNhdmVQYWdlQmxvY2tzKCk7XG4gICAgfTtcbiAgICBcbiAgICBjb25zdCBvcGVuQWRkQmxvY2tUb0dyb3VwTW9kYWwgPSAoZ3JvdXBJZCkgPT4ge1xuICAgICAgLy8gVXRpbGlzZXIgbGUgbVx1MDBFQW1lIG1vZGFsIGQnYWpvdXQgZGUgYmxvYywgbWFpcyBhdmVjIGxlIGNvbnRleHRlIGR1IGdyb3VwZVxuICAgICAgcGVuZGluZ0dyb3VwSWRGb3JOZXdCbG9jayA9IGdyb3VwSWQ7XG4gICAgICBvcGVuQmxvY2tQaWNrZXIoKTtcbiAgICB9O1xuICAgIFxuICAgIGxldCBwZW5kaW5nR3JvdXBJZEZvck5ld0Jsb2NrID0gbnVsbDtcblxuICAgIC8vID09PSBEZWxldGUgcGFnZSBoYW5kbGVycyAoZGVmaW5lZCBiZWZvcmUgcmVuZGVyUGFnZUxpc3RzKSA9PT1cbiAgICBjb25zdCBvcGVuRGVsZXRlUGFnZU1vZGFsID0gKHBhZ2UpID0+IHtcbiAgICAgIGlmICghZGVsZXRlUGFnZU1vZGFsIHx8ICFwYWdlKSByZXR1cm47XG4gICAgICBwYWdlVG9EZWxldGUgPSBwYWdlO1xuICAgICAgaWYgKGRlbGV0ZVBhZ2VOYW1lKSBkZWxldGVQYWdlTmFtZS50ZXh0Q29udGVudCA9IHBhZ2UudGl0bGUgfHwgcGFnZS5pZDtcbiAgICAgIGRlbGV0ZVBhZ2VNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGRlbGV0ZVBhZ2VNb2RhbC5jbGFzc0xpc3QuYWRkKCdmbGV4Jyk7XG4gICAgICBhY3RpdmF0ZU1vZGFsKGRlbGV0ZVBhZ2VNb2RhbCwgY2xvc2VEZWxldGVQYWdlTW9kYWwpO1xuICAgIH07XG4gICAgY29uc3QgY2xvc2VEZWxldGVQYWdlTW9kYWwgPSAoKSA9PiB7XG4gICAgICBpZiAoIWRlbGV0ZVBhZ2VNb2RhbCkgcmV0dXJuO1xuICAgICAgZGVsZXRlUGFnZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgZGVsZXRlUGFnZU1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2ZsZXgnKTtcbiAgICAgIHBhZ2VUb0RlbGV0ZSA9IG51bGw7XG4gICAgICBkZWFjdGl2YXRlTW9kYWwoZGVsZXRlUGFnZU1vZGFsKTtcbiAgICB9O1xuICAgIGNvbnN0IGV4ZWN1dGVEZWxldGVQYWdlID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFwYWdlc0FwaUJhc2UgfHwgIXBhZ2VUb0RlbGV0ZSkgcmV0dXJuO1xuICAgICAgY29uc3QgcGFnZUlkID0gcGFnZVRvRGVsZXRlLmlkO1xuICAgICAgY29uc3QgcGFnZVRpdGxlID0gcGFnZVRvRGVsZXRlLnRpdGxlIHx8IHBhZ2VJZDtcbiAgICAgIGlmIChkZWxldGVQYWdlQ29uZmlybSkge1xuICAgICAgICBkZWxldGVQYWdlQ29uZmlybS5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIGRlbGV0ZVBhZ2VDb25maXJtLnRleHRDb250ZW50ID0gJ1N1cHByZXNzaW9uLi4uJztcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7cGFnZXNBcGlCYXNlfS8ke2VuY29kZVVSSUNvbXBvbmVudChwYWdlSWQpfWAsIHtcbiAgICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZScsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzdWx0Lm1lc3NhZ2UgfHwgJ0VycmV1ciBzZXJ2ZXVyJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU3VwcHJpbWVyIGRlIGxhIGxpc3RlIGxvY2FsZVxuICAgICAgICBwYWdlcyA9IHBhZ2VzLmZpbHRlcigocCkgPT4gcC5pZCAhPT0gcGFnZUlkKTtcbiAgICAgICAgLy8gU2kgbGEgcGFnZSBzdXBwcmltXHUwMEU5ZSBcdTAwRTl0YWl0IGFjdGl2ZSwgc1x1MDBFOWxlY3Rpb25uZXIgbGEgcHJlbWlcdTAwRThyZVxuICAgICAgICBpZiAoYWN0aXZlUGFnZUlkID09PSBwYWdlSWQpIHtcbiAgICAgICAgICBpZiAocGFnZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgc2V0QWN0aXZlUGFnZShwYWdlc1swXS5pZCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFjdGl2ZVBhZ2VJZCA9IG51bGw7XG4gICAgICAgICAgICBjdXJyZW50UGFnZSA9IG51bGw7XG4gICAgICAgICAgICByZW5kZXJQYWdlTGlzdHMocGFnZXMsIG51bGwpO1xuICAgICAgICAgICAgcmVuZGVyQmxvY2tMaXN0KG51bGwpO1xuICAgICAgICAgICAgYmxvY2tEZXRhaWxFbXB0eT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgICBibG9ja0VkaXRvcj8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgICAgICBwcmV2aWV3RnJhbWUgJiYgKHByZXZpZXdGcmFtZS5zcmNkb2MgPSBnZXRMb2FkaW5nUHJldmlld0h0bWwoKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlbmRlclBhZ2VMaXN0cyhwYWdlcywgYWN0aXZlUGFnZUlkKTtcbiAgICAgICAgfVxuICAgICAgICBjbG9zZURlbGV0ZVBhZ2VNb2RhbCgpO1xuICAgICAgICBzaG93VG9hc3QoYFBhZ2UgXCIke3BhZ2VUaXRsZX1cIiBzdXBwcmltXHUwMEU5ZWApO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1twYWdlc10gZGVsZXRlIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnRXJyZXVyIHN1cHByZXNzaW9uJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoZGVsZXRlUGFnZUNvbmZpcm0pIHtcbiAgICAgICAgICBkZWxldGVQYWdlQ29uZmlybS5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgIGRlbGV0ZVBhZ2VDb25maXJtLnRleHRDb250ZW50ID0gJ1N1cHByaW1lcic7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgcmVuZGVyUGFnZUxpc3RzID0gKHBhZ2VzLCBhY3RpdmVJZCkgPT4ge1xuICAgICAgcGFnZUxpc3RzLmZvckVhY2goKGxpc3QpID0+IHtcbiAgICAgICAgbGlzdC5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgcGFnZXMuZm9yRWFjaCgocGFnZSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgICAgIGl0ZW0uY2xhc3NOYW1lID0gJ2ZsZXggaXRlbXMtY2VudGVyIGdhcC0xJztcbiAgICAgICAgICBjb25zdCBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgICBidXR0b24udHlwZSA9ICdidXR0b24nO1xuICAgICAgICAgIGJ1dHRvbi5kYXRhc2V0LnBhZ2VJZCA9IHBhZ2UuaWQ7XG4gICAgICAgICAgYnV0dG9uLmNsYXNzTmFtZSA9IFtcbiAgICAgICAgICAgICdmbGV4LTEgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTMgcHgtMyBweS0yIHRleHQtbGVmdCB0cmFuc2l0aW9uJyxcbiAgICAgICAgICAgIGFjdGl2ZUlkID09PSBwYWdlLmlkXG4gICAgICAgICAgICAgID8gJ2JnLVsjOUM2QkZGXS8xMCB0ZXh0LXNsYXRlLTkwMCBib3JkZXIgYm9yZGVyLVsjOUM2QkZGXS80MCByb3VuZGVkLXhsIHNoYWRvdy1zbSdcbiAgICAgICAgICAgICAgOiAndGV4dC1zbGF0ZS03MDAgaG92ZXI6Ymctc2xhdGUtNTAgcm91bmRlZC14bCcsXG4gICAgICAgICAgXS5qb2luKCcgJyk7XG4gICAgICAgICAgaWYgKGFjdGl2ZUlkID09PSBwYWdlLmlkKSB7XG4gICAgICAgICAgICBidXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLWN1cnJlbnQnLCAncGFnZScpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBidXR0b24ucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWN1cnJlbnQnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gVXNlIHBhZ2UubmFtZSAoc2hvcnQgbmFtZSkgaWYgYXZhaWxhYmxlLCBmYWxsYmFjayB0byB0aXRsZVxuICAgICAgICAgIGNvbnN0IGRpc3BsYXlOYW1lID0gcGFnZS5uYW1lIHx8IHBhZ2UudGl0bGU7XG4gICAgICAgICAgY29uc3QgaXNIaWRkZW5Gcm9tTmF2ID0gcGFnZS5hY2Nlc3NpYmlsaXR5Py5zaG93SW5NYWluTmF2ID09PSBmYWxzZTtcbiAgICAgICAgICBjb25zdCBuYXZCYWRnZSA9IGlzSGlkZGVuRnJvbU5hdlxuICAgICAgICAgICAgPyAnPHNwYW4gY2xhc3M9XCJ0ZXh0LVsxMHB4XSBmb250LXNlbWlib2xkIHRleHQtYW1iZXItNjAwXCI+TWFzcXVcdTAwRTkgZHUgbWVudTwvc3Bhbj4nXG4gICAgICAgICAgICA6ICcnO1xuICAgICAgICAgIGJ1dHRvbi5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cImZsZXggaC05IHctOSBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcm91bmRlZC14bCBib3JkZXIgYm9yZGVyLXNsYXRlLTIwMCBiZy13aGl0ZSB0ZXh0LXNsYXRlLTUwMFwiPlxuICAgICAgICAgICAgICA8c3ZnIHdpZHRoPVwiMThcIiBoZWlnaHQ9XCIxOFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPlxuICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNNi41IDQuNWg3bDQgNHYxMWExIDEgMCAwIDEtMSAxaC0xMGExIDEgMCAwIDEtMS0xdi0xNGExIDEgMCAwIDEgMS0xWlwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjEuNFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIvPlxuICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMTMuNSA0LjV2NGExIDEgMCAwIDAgMSAxaDNcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIxLjRcIi8+XG4gICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXNtIGZvbnQtc2VtaWJvbGRcIj4ke2Rpc3BsYXlOYW1lfTwvc3Bhbj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNTAwXCI+JHtwYWdlLnNsdWd9PC9zcGFuPlxuICAgICAgICAgICAgICAke25hdkJhZGdlfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgYDtcbiAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICBzZXRBY3RpdmVQYWdlKHBhZ2UuaWQpO1xuICAgICAgICAgICAgaWYgKCFpc0Rlc2t0b3BEcmF3ZXIoKSkge1xuICAgICAgICAgICAgICBjbG9zZURyYXdlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGl0ZW0uYXBwZW5kQ2hpbGQoYnV0dG9uKTtcbiAgICAgICAgICAvLyBCb3V0b24gZGUgc3VwcHJlc3Npb25cbiAgICAgICAgICBjb25zdCBkZWxldGVCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgICBkZWxldGVCdG4udHlwZSA9ICdidXR0b24nO1xuICAgICAgICAgIGRlbGV0ZUJ0bi5jbGFzc05hbWUgPSAnZmxleC1zaHJpbmstMCBwLTIgdGV4dC1zbGF0ZS00MDAgaG92ZXI6dGV4dC1yb3NlLTYwMCBob3ZlcjpiZy1yb3NlLTUwIHJvdW5kZWQtbGcgdHJhbnNpdGlvbic7XG4gICAgICAgICAgZGVsZXRlQnRuLnRpdGxlID0gJ1N1cHByaW1lciBjZXR0ZSBwYWdlJztcbiAgICAgICAgICBkZWxldGVCdG4uc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgYFN1cHByaW1lciAke2Rpc3BsYXlOYW1lfWApO1xuICAgICAgICAgIGRlbGV0ZUJ0bi5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICA8c3ZnIHdpZHRoPVwiMTZcIiBoZWlnaHQ9XCIxNlwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIj5cbiAgICAgICAgICAgICAgPHBhdGggZD1cIk0zIDZoMThNOCA2VjRhMiAyIDAgMCAxIDItMmg0YTIgMiAwIDAgMSAyIDJ2Mm0zIDB2MTRhMiAyIDAgMCAxLTIgMkg3YTIgMiAwIDAgMS0yLTJWNmgxNFpNMTAgMTF2Nk0xNCAxMXY2XCIvPlxuICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgYDtcbiAgICAgICAgICBkZWxldGVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIG9wZW5EZWxldGVQYWdlTW9kYWwocGFnZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaXRlbS5hcHBlbmRDaGlsZChkZWxldGVCdG4pO1xuICAgICAgICAgIGxpc3QuYXBwZW5kQ2hpbGQoaXRlbSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICBjb25zdCBnZXRBY3RpdmVCbG9jayA9ICgpID0+IHtcbiAgICAgIGlmICghY3VycmVudFBhZ2UgfHwgIUFycmF5LmlzQXJyYXkoY3VycmVudFBhZ2UuYmxvY2tzKSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIC8vIENoZXJjaGVyIGxlIGJsb2MgZGFucyBsYSBsaXN0ZSBwcmluY2lwYWxlIG91IGRhbnMgbGVzIGVuZmFudHMgZGVzIGdyb3VwZXNcbiAgICAgIGxldCBibG9jayA9IGN1cnJlbnRQYWdlLmJsb2Nrcy5maW5kKChibG9jaykgPT4gYmxvY2suaWQgPT09IGFjdGl2ZUJsb2NrSWQpO1xuICAgICAgaWYgKCFibG9jaykge1xuICAgICAgICBmb3IgKGNvbnN0IGIgb2YgY3VycmVudFBhZ2UuYmxvY2tzKSB7XG4gICAgICAgICAgaWYgKGIuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGJsb2NrID0gYi5jaGlsZHJlbi5maW5kKChjaGlsZCkgPT4gY2hpbGQuaWQgPT09IGFjdGl2ZUJsb2NrSWQpO1xuICAgICAgICAgICAgaWYgKGJsb2NrKSBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBibG9jayB8fCBudWxsO1xuICAgIH07XG4gICAgXG4gICAgLy8gVmFyaWFibGUgcG91ciBzdG9ja2VyIGxlIHBhcmVudCBkdSBibG9jIGFjdGlmIChzaSBjJ2VzdCB1biBlbmZhbnQgZGUgZ3JvdXBlKVxuICAgIGxldCBhY3RpdmVCbG9ja1BhcmVudElkID0gbnVsbDtcbiAgICBcbiAgICBjb25zdCBzZXRBY3RpdmVCbG9jayA9IChibG9ja0lkLCBwYXJlbnRJZCA9IG51bGwpID0+IHtcbiAgICAgIGlmICghY3VycmVudFBhZ2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFibG9ja0lkKSB7XG4gICAgICAgIGFjdGl2ZUJsb2NrSWQgPSBudWxsO1xuICAgICAgICBhY3RpdmVCbG9ja1BhcmVudElkID0gbnVsbDtcbiAgICAgICAgcmVuZGVyQmxvY2tMaXN0KGN1cnJlbnRQYWdlKTtcbiAgICAgICAgcmVuZGVyQmxvY2tEZXRhaWxzKG51bGwpO1xuICAgICAgICBhcHBseVByZXZpZXdIaWdobGlnaHQobnVsbCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgbGV0IHRhcmdldEJsb2NrID0gbnVsbDtcbiAgICAgIFxuICAgICAgLy8gQ2hlcmNoZXIgZGFucyBsZXMgYmxvY3MgcHJpbmNpcGF1eFxuICAgICAgdGFyZ2V0QmxvY2sgPSBjdXJyZW50UGFnZS5ibG9ja3MuZmluZCgoYmxvY2spID0+IGJsb2NrLmlkID09PSBibG9ja0lkKTtcbiAgICAgIFxuICAgICAgLy8gU2kgcGFzIHRyb3V2XHUwMEU5IGV0IHF1J29uIGEgdW4gcGFyZW50SWQsIGNoZXJjaGVyIGRhbnMgbGVzIGVuZmFudHMgZHUgcGFyZW50XG4gICAgICBpZiAoIXRhcmdldEJsb2NrICYmIHBhcmVudElkKSB7XG4gICAgICAgIGNvbnN0IHBhcmVudEJsb2NrID0gY3VycmVudFBhZ2UuYmxvY2tzLmZpbmQoKGIpID0+IGIuaWQgPT09IHBhcmVudElkKTtcbiAgICAgICAgaWYgKHBhcmVudEJsb2NrICYmIHBhcmVudEJsb2NrLmNoaWxkcmVuKSB7XG4gICAgICAgICAgdGFyZ2V0QmxvY2sgPSBwYXJlbnRCbG9jay5jaGlsZHJlbi5maW5kKChjaGlsZCkgPT4gY2hpbGQuaWQgPT09IGJsb2NrSWQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFNpbm9uIGNoZXJjaGVyIGRhbnMgdG91cyBsZXMgZ3JvdXBlc1xuICAgICAgaWYgKCF0YXJnZXRCbG9jaykge1xuICAgICAgICBmb3IgKGNvbnN0IGIgb2YgY3VycmVudFBhZ2UuYmxvY2tzKSB7XG4gICAgICAgICAgaWYgKGIuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGNvbnN0IGZvdW5kID0gYi5jaGlsZHJlbi5maW5kKChjaGlsZCkgPT4gY2hpbGQuaWQgPT09IGJsb2NrSWQpO1xuICAgICAgICAgICAgaWYgKGZvdW5kKSB7XG4gICAgICAgICAgICAgIHRhcmdldEJsb2NrID0gZm91bmQ7XG4gICAgICAgICAgICAgIHBhcmVudElkID0gYi5pZDtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEZhbGxiYWNrIHN1ciBsZSBwcmVtaWVyIGJsb2NcbiAgICAgIGlmICghdGFyZ2V0QmxvY2spIHtcbiAgICAgICAgdGFyZ2V0QmxvY2sgPSBjdXJyZW50UGFnZS5ibG9ja3NbMF0gfHwgbnVsbDtcbiAgICAgICAgcGFyZW50SWQgPSBudWxsO1xuICAgICAgfVxuICAgICAgXG4gICAgICBhY3RpdmVCbG9ja0lkID0gdGFyZ2V0QmxvY2s/LmlkIHx8IG51bGw7XG4gICAgICBhY3RpdmVCbG9ja1BhcmVudElkID0gcGFyZW50SWQ7XG4gICAgICByZW5kZXJCbG9ja0xpc3QoY3VycmVudFBhZ2UpO1xuICAgICAgcmVuZGVyQmxvY2tEZXRhaWxzKHRhcmdldEJsb2NrKTtcbiAgICAgIGFwcGx5UHJldmlld0hpZ2hsaWdodChhY3RpdmVCbG9ja0lkKTtcbiAgICB9O1xuICAgIGNvbnN0IHVwZGF0ZUN1cnJlbnRQYWdlQmxvY2tzID0gKG5ld0Jsb2NrcykgPT4ge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBuZXh0UGFnZSA9IHsgLi4uY3VycmVudFBhZ2UsIGJsb2NrczogbmV3QmxvY2tzIH07XG4gICAgICB1cGRhdGVDdXJyZW50UGFnZVN0YXRlKG5leHRQYWdlKTtcbiAgICB9O1xuICAgIGNvbnN0IGlzRGVza3RvcFJlb3JkZXIgPSAoKSA9PiB3aW5kb3cubWF0Y2hNZWRpYSgnKG1pbi13aWR0aDogMTAyNHB4KScpLm1hdGNoZXM7XG4gICAgZnVuY3Rpb24gbW92ZUJsb2NrQnlPZmZzZXQoYmxvY2tJZCwgb2Zmc2V0KSB7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlIHx8ICFibG9ja0lkIHx8ICFvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgYmxvY2tzID0gWy4uLihjdXJyZW50UGFnZS5ibG9ja3MgfHwgW10pXTtcbiAgICAgIGNvbnN0IGluZGV4ID0gYmxvY2tzLmZpbmRJbmRleCgoYmxvY2spID0+IGJsb2NrLmlkID09PSBibG9ja0lkKTtcbiAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgbmV3SW5kZXggPSBpbmRleCArIG9mZnNldDtcbiAgICAgIGlmIChuZXdJbmRleCA8IDAgfHwgbmV3SW5kZXggPj0gYmxvY2tzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBbbW92ZWRdID0gYmxvY2tzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICBibG9ja3Muc3BsaWNlKG5ld0luZGV4LCAwLCBtb3ZlZCk7XG4gICAgICB1cGRhdGVDdXJyZW50UGFnZUJsb2NrcyhibG9ja3MpO1xuICAgICAgc2V0QWN0aXZlUGFnZShjdXJyZW50UGFnZS5pZCwgeyBwcmVzZXJ2ZUJsb2NrOiB0cnVlIH0pO1xuICAgICAgc2V0QWN0aXZlQmxvY2sobW92ZWQuaWQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZW9yZGVyQmxvY2tzKHNvdXJjZUlkLCB0YXJnZXRJZCkge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSB8fCAhc291cmNlSWQgfHwgIXRhcmdldElkIHx8IHNvdXJjZUlkID09PSB0YXJnZXRJZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBibG9ja3MgPSBbLi4uKGN1cnJlbnRQYWdlLmJsb2NrcyB8fCBbXSldO1xuICAgICAgY29uc3QgZnJvbUluZGV4ID0gYmxvY2tzLmZpbmRJbmRleCgoYmxvY2spID0+IGJsb2NrLmlkID09PSBzb3VyY2VJZCk7XG4gICAgICBjb25zdCB0b0luZGV4ID0gYmxvY2tzLmZpbmRJbmRleCgoYmxvY2spID0+IGJsb2NrLmlkID09PSB0YXJnZXRJZCk7XG4gICAgICBpZiAoZnJvbUluZGV4IDwgMCB8fCB0b0luZGV4IDwgMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBbbW92ZWRdID0gYmxvY2tzLnNwbGljZShmcm9tSW5kZXgsIDEpO1xuICAgICAgYmxvY2tzLnNwbGljZSh0b0luZGV4LCAwLCBtb3ZlZCk7XG4gICAgICB1cGRhdGVDdXJyZW50UGFnZUJsb2NrcyhibG9ja3MpO1xuICAgICAgc2V0QWN0aXZlUGFnZShjdXJyZW50UGFnZS5pZCwgeyBwcmVzZXJ2ZUJsb2NrOiB0cnVlIH0pO1xuICAgICAgc2V0QWN0aXZlQmxvY2sobW92ZWQuaWQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZW9yZGVyQmxvY2tzV2l0aFBvc2l0aW9uKHNvdXJjZUlkLCB0YXJnZXRJZCwgcG9zaXRpb24pIHtcbiAgICAgIGlmICghY3VycmVudFBhZ2UgfHwgIXNvdXJjZUlkIHx8ICF0YXJnZXRJZCB8fCBzb3VyY2VJZCA9PT0gdGFyZ2V0SWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgYmxvY2tzID0gWy4uLihjdXJyZW50UGFnZS5ibG9ja3MgfHwgW10pXTtcbiAgICAgIGNvbnN0IGZyb21JbmRleCA9IGJsb2Nrcy5maW5kSW5kZXgoKGJsb2NrKSA9PiBibG9jay5pZCA9PT0gc291cmNlSWQpO1xuICAgICAgbGV0IHRvSW5kZXggPSBibG9ja3MuZmluZEluZGV4KChibG9jaykgPT4gYmxvY2suaWQgPT09IHRhcmdldElkKTtcbiAgICAgIGlmIChmcm9tSW5kZXggPCAwIHx8IHRvSW5kZXggPCAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IFttb3ZlZF0gPSBibG9ja3Muc3BsaWNlKGZyb21JbmRleCwgMSk7XG4gICAgICAvLyBBanVzdGVyIGwnaW5kZXggc2kgblx1MDBFOWNlc3NhaXJlIGFwclx1MDBFOHMgbGEgc3VwcHJlc3Npb25cbiAgICAgIGlmIChmcm9tSW5kZXggPCB0b0luZGV4KSB7XG4gICAgICAgIHRvSW5kZXgtLTtcbiAgICAgIH1cbiAgICAgIC8vIEluc1x1MDBFOXJlciBhdmFudCBvdSBhcHJcdTAwRThzIGxhIGNpYmxlXG4gICAgICBjb25zdCBpbnNlcnRJbmRleCA9IHBvc2l0aW9uID09PSAnYmVmb3JlJyA/IHRvSW5kZXggOiB0b0luZGV4ICsgMTtcbiAgICAgIGJsb2Nrcy5zcGxpY2UoaW5zZXJ0SW5kZXgsIDAsIG1vdmVkKTtcbiAgICAgIHVwZGF0ZUN1cnJlbnRQYWdlQmxvY2tzKGJsb2Nrcyk7XG4gICAgICBzZXRBY3RpdmVQYWdlKGN1cnJlbnRQYWdlLmlkLCB7IHByZXNlcnZlQmxvY2s6IHRydWUgfSk7XG4gICAgICBzZXRBY3RpdmVCbG9jayhtb3ZlZC5pZCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZURyYWdnYWJsZVN0YXRlKCkge1xuICAgICAgaWYgKCFibG9ja0xpc3QpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgZHJhZ2dhYmxlID0gaXNEZXNrdG9wUmVvcmRlcigpO1xuICAgICAgYmxvY2tMaXN0LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWJsb2NrLWl0ZW1dJykuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICBpdGVtLnNldEF0dHJpYnV0ZSgnZHJhZ2dhYmxlJywgZHJhZ2dhYmxlID8gJ3RydWUnIDogJ2ZhbHNlJyk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2xvc2VCbG9ja0xpYnJhcnkoKSB7XG4gICAgICBpZiAoIWJsb2NrTGlicmFyeSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBibG9ja0xpYnJhcnkuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBibG9ja0xpYnJhcnlPcGVuID0gZmFsc2U7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG9wZW5CbG9ja0xpYnJhcnkoKSB7XG4gICAgICBpZiAoIWJsb2NrTGlicmFyeSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBibG9ja0xpYnJhcnkuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBibG9ja0xpYnJhcnlPcGVuID0gdHJ1ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdG9nZ2xlQmxvY2tMaWJyYXJ5KCkge1xuICAgICAgYmxvY2tMaWJyYXJ5T3BlbiA/IGNsb3NlQmxvY2tMaWJyYXJ5KCkgOiBvcGVuQmxvY2tMaWJyYXJ5KCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFkZEJsb2NrRnJvbUxpYnJhcnkodHlwZSkge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSB8fCAhdHlwZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBkZWZpbml0aW9uID0gYmxvY2tMaWJyYXJ5RGVmaW5pdGlvbnNbdHlwZV07XG4gICAgICBpZiAoIWRlZmluaXRpb24pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgY291bnQgPVxuICAgICAgICAoY3VycmVudFBhZ2UuYmxvY2tzIHx8IFtdKS5maWx0ZXIoKGJsb2NrKSA9PiBibG9jay50eXBlID09PSBkZWZpbml0aW9uLnR5cGUpLmxlbmd0aCArIDE7XG4gICAgICBjb25zdCBuZXdCbG9jayA9IGNyZWF0ZUJsb2NrKFxuICAgICAgICBnZW5lcmF0ZUJsb2NrSWQoY3VycmVudFBhZ2UuaWQsIHR5cGUpLFxuICAgICAgICBgJHtkZWZpbml0aW9uLmxhYmVsfSAke2NvdW50fWAsXG4gICAgICAgIGRlZmluaXRpb24udHlwZSxcbiAgICAgICAgZGVmaW5pdGlvbi5zdGF0dXMsXG4gICAgICAgIGRlZmluaXRpb24uZGVzY3JpcHRpb24sXG4gICAgICAgIGRlZmluaXRpb24ucHJvcHMsXG4gICAgICAgIGRlZmluaXRpb24uc2V0dGluZ3MgfHwge30sXG4gICAgICApO1xuICAgICAgaWYgKChkZWZpbml0aW9uLnR5cGUgfHwgJycpLnRvTG93ZXJDYXNlKCkgPT09ICdjb2xsZWN0aW9uZ3JpZCcpIHtcbiAgICAgICAgY29uc3QgZmlyc3RDb2xsZWN0aW9uSWQgPSBkZXNpZ25Db2xsZWN0aW9uc1swXT8uaWQgfHwgJyc7XG4gICAgICAgIG5ld0Jsb2NrLmNvbGxlY3Rpb25JZCA9IGZpcnN0Q29sbGVjdGlvbklkO1xuICAgICAgICBuZXdCbG9jay5zZXR0aW5ncy5jb2xsZWN0aW9uSWQgPSBmaXJzdENvbGxlY3Rpb25JZDtcbiAgICAgICAgbmV3QmxvY2suc2V0dGluZ3MubGltaXQgPSBuZXdCbG9jay5zZXR0aW5ncy5saW1pdCB8fCA2O1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBTaSBvbiBham91dGUgXHUwMEUwIHVuIGdyb3VwZVxuICAgICAgaWYgKHBlbmRpbmdHcm91cElkRm9yTmV3QmxvY2spIHtcbiAgICAgICAgY29uc3QgZ3JvdXBCbG9jayA9IGN1cnJlbnRQYWdlLmJsb2Nrcy5maW5kKChiKSA9PiBiLmlkID09PSBwZW5kaW5nR3JvdXBJZEZvck5ld0Jsb2NrKTtcbiAgICAgICAgaWYgKGdyb3VwQmxvY2spIHtcbiAgICAgICAgICBpZiAoIWdyb3VwQmxvY2suY2hpbGRyZW4pIGdyb3VwQmxvY2suY2hpbGRyZW4gPSBbXTtcbiAgICAgICAgICBncm91cEJsb2NrLmNoaWxkcmVuLnB1c2gobmV3QmxvY2spO1xuICAgICAgICAgIHBlbmRpbmdHcm91cElkRm9yTmV3QmxvY2sgPSBudWxsO1xuICAgICAgICAgIHJlbmRlckJsb2NrTGlzdChjdXJyZW50UGFnZSk7XG4gICAgICAgICAgc2F2ZVBhZ2VCbG9ja3MoKTtcbiAgICAgICAgICBzZXRBY3RpdmVCbG9jayhuZXdCbG9jay5pZCwgZ3JvdXBCbG9jay5pZCk7XG4gICAgICAgICAgY2xvc2VCbG9ja0xpYnJhcnkoKTtcbiAgICAgICAgICBzaG93VG9hc3QoJ0Jsb2MgYWpvdXRcdTAwRTkgYXUgZ3JvdXBlJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHBlbmRpbmdHcm91cElkRm9yTmV3QmxvY2sgPSBudWxsO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCBuZXh0QmxvY2tzID0gWy4uLihjdXJyZW50UGFnZS5ibG9ja3MgfHwgW10pLCBuZXdCbG9ja107XG4gICAgICB1cGRhdGVDdXJyZW50UGFnZUJsb2NrcyhuZXh0QmxvY2tzKTtcbiAgICAgIHNldEFjdGl2ZVBhZ2UoY3VycmVudFBhZ2UuaWQsIHsgcHJlc2VydmVCbG9jazogdHJ1ZSB9KTtcbiAgICAgIHNldEFjdGl2ZUJsb2NrKG5ld0Jsb2NrLmlkKTtcbiAgICAgIGNsb3NlQmxvY2tMaWJyYXJ5KCk7XG4gICAgICBzaG93VG9hc3QoJ0Jsb2MgYWpvdXRcdTAwRTknKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGVsZXRlQmxvY2tCeUlkKGJsb2NrSWQpIHtcbiAgICAgIGlmICghY3VycmVudFBhZ2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgYmxvY2tzID0gKGN1cnJlbnRQYWdlLmJsb2NrcyB8fCBbXSkuZmlsdGVyKChibG9jaykgPT4gYmxvY2suaWQgIT09IGJsb2NrSWQpO1xuICAgICAgY29uc3QgbmV4dEFjdGl2ZSA9XG4gICAgICAgIGJsb2NrSWQgPT09IGFjdGl2ZUJsb2NrSWQgPyBibG9ja3NbMF0/LmlkIHx8IG51bGwgOiBhY3RpdmVCbG9ja0lkIHx8IGJsb2Nrc1swXT8uaWQgfHwgbnVsbDtcbiAgICAgIHVwZGF0ZUN1cnJlbnRQYWdlQmxvY2tzKGJsb2Nrcyk7XG4gICAgICBhY3RpdmVCbG9ja0lkID0gbmV4dEFjdGl2ZTtcbiAgICAgIHNldEFjdGl2ZVBhZ2UoY3VycmVudFBhZ2UuaWQsIHsgcHJlc2VydmVCbG9jazogdHJ1ZSB9KTtcbiAgICAgIGlmIChhY3RpdmVCbG9ja0lkKSB7XG4gICAgICAgIHNldEFjdGl2ZUJsb2NrKGFjdGl2ZUJsb2NrSWQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVuZGVyQmxvY2tEZXRhaWxzKG51bGwpO1xuICAgICAgICBhcHBseVByZXZpZXdIaWdobGlnaHQobnVsbCk7XG4gICAgICB9XG4gICAgICBzaG93VG9hc3QoJ0Jsb2Mgc3VwcHJpbVx1MDBFOScpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjbG9zZUJsb2NrRGVsZXRlTW9kYWwoKSB7XG4gICAgICBpZiAoIWJsb2NrRGVsZXRlTW9kYWwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYmxvY2tEZWxldGVNb2RhbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGJsb2NrRGVsZXRlTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnZmxleCcpO1xuICAgICAgcGVuZGluZ0RlbGV0ZUJsb2NrSWQgPSBudWxsO1xuICAgICAgZGVhY3RpdmF0ZU1vZGFsKGJsb2NrRGVsZXRlTW9kYWwpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBvcGVuQmxvY2tEZWxldGVNb2RhbChibG9ja0lkKSB7XG4gICAgICBpZiAoIWJsb2NrRGVsZXRlTW9kYWwpIHtcbiAgICAgICAgZGVsZXRlQmxvY2tCeUlkKGJsb2NrSWQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwZW5kaW5nRGVsZXRlQmxvY2tJZCA9IGJsb2NrSWQ7XG4gICAgICBibG9ja0RlbGV0ZU1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgYmxvY2tEZWxldGVNb2RhbC5jbGFzc0xpc3QuYWRkKCdmbGV4Jyk7XG4gICAgICBhY3RpdmF0ZU1vZGFsKGJsb2NrRGVsZXRlTW9kYWwsIGNsb3NlQmxvY2tEZWxldGVNb2RhbCk7XG4gICAgfVxuICAgIGNvbnN0IHVwZGF0ZUN1cnJlbnRQYWdlU3RhdGUgPSAobmV4dFBhZ2UpID0+IHtcbiAgICAgIGlmICghbmV4dFBhZ2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZVBhZ2VEYXRhKG5leHRQYWdlKTtcbiAgICAgIHBhZ2VzID0gcGFnZXMubWFwKChwYWdlKSA9PiAocGFnZS5pZCA9PT0gbm9ybWFsaXplZC5pZCA/IG5vcm1hbGl6ZWQgOiBwYWdlKSk7XG4gICAgICBjdXJyZW50UGFnZSA9IG5vcm1hbGl6ZWQ7XG4gICAgICBzYXZlUGFnZVRvU2VydmVyKG5vcm1hbGl6ZWQpO1xuICAgIH07XG4gICAgY29uc3Qgc2V0QWN0aXZlUGFnZSA9IChwYWdlSWQsIG9wdGlvbnMgPSB7fSkgPT4ge1xuICAgICAgY29uc3QgdGFyZ2V0ID0gcGFnZXMuZmluZCgocGFnZSkgPT4gcGFnZS5pZCA9PT0gcGFnZUlkKSB8fCBwYWdlc1swXSB8fCBudWxsO1xuICAgICAgY29uc3Qgbm9ybWFsaXplZFRhcmdldCA9IHRhcmdldCA/IG5vcm1hbGl6ZVBhZ2VEYXRhKHRhcmdldCkgOiBudWxsO1xuICAgICAgY3VycmVudFBhZ2UgPSBub3JtYWxpemVkVGFyZ2V0O1xuICAgICAgYWN0aXZlUGFnZUlkID0gdGFyZ2V0Py5pZCB8fCBudWxsO1xuICAgICAgaWYgKCFvcHRpb25zLnByZXNlcnZlQmxvY2sgfHwgIWN1cnJlbnRQYWdlIHx8ICFjdXJyZW50UGFnZS5ibG9ja3Muc29tZSgoYmxvY2spID0+IGJsb2NrLmlkID09PSBhY3RpdmVCbG9ja0lkKSkge1xuICAgICAgICBhY3RpdmVCbG9ja0lkID0gY3VycmVudFBhZ2U/LmJsb2Nrcz8uWzBdPy5pZCB8fCBudWxsO1xuICAgICAgfVxuICAgICAgaWYgKGFjdGl2ZVBhZ2VJZCkge1xuICAgICAgICBwZXJzaXN0QWN0aXZlUGFnZShhY3RpdmVQYWdlSWQpO1xuICAgICAgfVxuICAgICAgcmVuZGVyUGFnZUxpc3RzKHBhZ2VzLCBhY3RpdmVQYWdlSWQpO1xuICAgICAgc2V0QWN0aXZlTGFiZWxzKGN1cnJlbnRQYWdlKTtcbiAgICAgIHN5bmNQYWdlQWNjZXNzaWJpbGl0eUZpZWxkcygpO1xuICAgICAgcmVuZGVyUHJldmlld01ldGEoY3VycmVudFBhZ2UpO1xuICAgICAgcmVmcmVzaFByZXZpZXcoY3VycmVudFBhZ2UpO1xuICAgICAgcmVuZGVyQmxvY2tMaXN0KGN1cnJlbnRQYWdlKTtcbiAgICAgIHJlbmRlckJsb2NrRGV0YWlscyhnZXRBY3RpdmVCbG9jaygpKTtcbiAgICAgIGFwcGx5UHJldmlld0hpZ2hsaWdodChhY3RpdmVCbG9ja0lkKTtcbiAgICAgIHVwZGF0ZURyYWdnYWJsZVN0YXRlKCk7XG4gICAgICBpZiAoYmxvY2tMaWJyYXJ5T3Blbikge1xuICAgICAgICBjbG9zZUJsb2NrTGlicmFyeSgpO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgaXNEZXNrdG9wRHJhd2VyID0gKCkgPT4gd2luZG93Lm1hdGNoTWVkaWEoJyhtaW4td2lkdGg6IDEwMjRweCknKS5tYXRjaGVzO1xuICAgIGNvbnN0IHN5bmNEcmF3ZXJTdGF0ZSA9ICgpID0+IHtcbiAgICAgIGlmICghZHJhd2VyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChpc0Rlc2t0b3BEcmF3ZXIoKSkge1xuICAgICAgICBkcmF3ZXIuY2xhc3NMaXN0LmFkZCgnaXMtb3BlbicpO1xuICAgICAgICBkcmF3ZXJCYWNrZHJvcD8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnb3ZlcmZsb3ctaGlkZGVuJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkcmF3ZXIuY2xhc3NMaXN0LnJlbW92ZSgnaXMtb3BlbicpO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3Qgb3BlbkRyYXdlciA9ICgpID0+IHtcbiAgICAgIGlmICghZHJhd2VyIHx8IGlzRGVza3RvcERyYXdlcigpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGRyYXdlci5jbGFzc0xpc3QuYWRkKCdpcy1vcGVuJyk7XG4gICAgICBkcmF3ZXJCYWNrZHJvcD8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ292ZXJmbG93LWhpZGRlbicpO1xuICAgIH07XG4gICAgY29uc3QgY2xvc2VEcmF3ZXIgPSAoKSA9PiB7XG4gICAgICBpZiAoIWRyYXdlcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBkcmF3ZXIuY2xhc3NMaXN0LnJlbW92ZSgnaXMtb3BlbicpO1xuICAgICAgZHJhd2VyQmFja2Ryb3A/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICB9O1xuICAgIGNvbnN0IG9wZW5BZGRQYWdlRm9ybSA9ICgpID0+IHtcbiAgICAgIGlmICghYWRkUGFnZUZvcm0gfHwgIWFkZFBhZ2VUb2dnbGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYWRkUGFnZUZvcm0uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBhZGRQYWdlVG9nZ2xlLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgYWRkUGFnZUVycm9yICYmIChhZGRQYWdlRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgICBwYWdlU2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gICAgICBpZiAoYWRkUGFnZU5hbWUpIHtcbiAgICAgICAgYWRkUGFnZU5hbWUudmFsdWUgPSAnJztcbiAgICAgICAgYWRkUGFnZU5hbWUuZm9jdXMoKTtcbiAgICAgIH1cbiAgICAgIGlmIChhZGRQYWdlVGl0bGUpIHtcbiAgICAgICAgYWRkUGFnZVRpdGxlLnZhbHVlID0gJyc7XG4gICAgICB9XG4gICAgICBpZiAoYWRkUGFnZVNsdWcpIHtcbiAgICAgICAgYWRkUGFnZVNsdWcudmFsdWUgPSAnJztcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGNsb3NlQWRkUGFnZUZvcm0gPSAoKSA9PiB7XG4gICAgICBpZiAoIWFkZFBhZ2VGb3JtIHx8ICFhZGRQYWdlVG9nZ2xlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGFkZFBhZ2VGb3JtLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgYWRkUGFnZVRvZ2dsZS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGFkZFBhZ2VFcnJvciAmJiAoYWRkUGFnZUVycm9yLnRleHRDb250ZW50ID0gJycpO1xuICAgICAgcGFnZVNsdWdNYW51YWxseUVkaXRlZCA9IGZhbHNlO1xuICAgICAgYWRkUGFnZUZvcm0ucmVzZXQoKTtcbiAgICB9O1xuICAgIGNvbnN0IHN5bmNTbHVnRnJvbU5hbWUgPSAoKSA9PiB7XG4gICAgICBpZiAoIWFkZFBhZ2VOYW1lIHx8ICFhZGRQYWdlU2x1Zykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAocGFnZVNsdWdNYW51YWxseUVkaXRlZCAmJiBhZGRQYWdlU2x1Zy52YWx1ZS50cmltKCkubGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhZGRQYWdlU2x1Zy52YWx1ZSA9IG5vcm1hbGl6ZVBhZ2VTbHVnKGFkZFBhZ2VOYW1lLnZhbHVlKTtcbiAgICB9O1xuXG4gICAgbGV0IHBhZ2VzID0gW107XG4gICAgbGV0IGFjdGl2ZVBhZ2VJZCA9IG51bGw7XG4gICAgbGV0IHBhZ2VTbHVnTWFudWFsbHlFZGl0ZWQgPSBmYWxzZTtcbiAgICBsZXQgY3VycmVudFBhZ2UgPSBudWxsO1xuICAgIGxldCBhY3RpdmVCbG9ja0lkID0gbnVsbDtcbiAgICBsZXQgYmxvY2tMaWJyYXJ5T3BlbiA9IGZhbHNlO1xuICAgIGxldCBwZW5kaW5nRGVsZXRlQmxvY2tJZCA9IG51bGw7XG4gICAgbGV0IGxhdGVzdFByZXZpZXdIdG1sID0gJyc7XG4gICAgbGV0IHByZXZpZXdSZWFkeSA9IGZhbHNlO1xuICAgIGxldCBwcmV2aWV3UmVxdWVzdENvbnRyb2xsZXIgPSBudWxsO1xuICAgIGxldCBkZXNpZ25Db2xsZWN0aW9ucyA9IFtdO1xuXG4gICAgY29uc3Qgbm9ybWFsaXplQmxvY2tEYXRhID0gKGJsb2NrKSA9PiB7XG4gICAgICBjb25zdCBub3JtYWxpemVkID0ge1xuICAgICAgICAuLi5ibG9jayxcbiAgICAgICAgcHJvcHM6IEFycmF5LmlzQXJyYXkoYmxvY2sucHJvcHMpID8gYmxvY2sucHJvcHMgOiBbXSxcbiAgICAgICAgc2V0dGluZ3M6IHsgLi4uKGJsb2NrLnNldHRpbmdzIHx8IHt9KSB9LFxuICAgICAgfTtcbiAgICAgIGNvbnN0IHR5cGUgPSAobm9ybWFsaXplZC50eXBlIHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgaWYgKHR5cGUgPT09ICdjb2xsZWN0aW9uZ3JpZCcpIHtcbiAgICAgICAgbm9ybWFsaXplZC5jb2xsZWN0aW9uSWQgPVxuICAgICAgICAgIG5vcm1hbGl6ZWQuY29sbGVjdGlvbklkIHx8IG5vcm1hbGl6ZWQuc2V0dGluZ3MuY29sbGVjdGlvbklkIHx8ICcnO1xuICAgICAgICBub3JtYWxpemVkLnNldHRpbmdzLmNvbGxlY3Rpb25JZCA9IG5vcm1hbGl6ZWQuY29sbGVjdGlvbklkO1xuICAgICAgICBub3JtYWxpemVkLnNldHRpbmdzLmxpbWl0ID0gbm9ybWFsaXplZC5zZXR0aW5ncy5saW1pdCB8fCA2O1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5vcm1hbGl6ZWQ7XG4gICAgfTtcblxuICAgIGNvbnN0IG5vcm1hbGl6ZVBhZ2VEYXRhID0gKHBhZ2UpID0+ICh7XG4gICAgICAuLi5wYWdlLFxuICAgICAgYmxvY2tzOiAocGFnZS5ibG9ja3MgfHwgW10pLm1hcCgoYmxvY2spID0+IG5vcm1hbGl6ZUJsb2NrRGF0YShibG9jaykpLFxuICAgICAgc2VvOiB7XG4gICAgICAgIHRpdGxlOiAocGFnZS5zZW8/LnRpdGxlIHx8ICcnKS50cmltKCksXG4gICAgICAgIGRlc2NyaXB0aW9uOiAocGFnZS5zZW8/LmRlc2NyaXB0aW9uIHx8ICcnKS50cmltKCksXG4gICAgICAgIGluZGV4ZWQ6XG4gICAgICAgICAgdHlwZW9mIHBhZ2Uuc2VvPy5pbmRleGVkID09PSAnYm9vbGVhbicgPyBwYWdlLnNlby5pbmRleGVkIDogbnVsbCxcbiAgICAgIH0sXG4gICAgICBhY2Nlc3NpYmlsaXR5OiB7XG4gICAgICAgIHNob3dJbk1haW5OYXY6IHBhZ2UuYWNjZXNzaWJpbGl0eT8uc2hvd0luTWFpbk5hdiAhPT0gZmFsc2UsXG4gICAgICAgIG1haW5MYWJlbDogKHBhZ2UuYWNjZXNzaWJpbGl0eT8ubWFpbkxhYmVsIHx8ICcnKS50cmltKCksXG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgY29uc3QgbG9hZERlc2lnbkNvbGxlY3Rpb25zID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uc0FwaUJhc2UpIHtcbiAgICAgICAgZGVzaWduQ29sbGVjdGlvbnMgPSBbXTtcbiAgICAgICAgdXBkYXRlQ29sbGVjdGlvblNlbGVjdE9wdGlvbnMoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChjb2xsZWN0aW9uc0FwaUJhc2UsIHtcbiAgICAgICAgICBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIGNvbGxlY3Rpb25zLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gW10pO1xuICAgICAgICBkZXNpZ25Db2xsZWN0aW9ucyA9IEFycmF5LmlzQXJyYXkocGF5bG9hZCkgPyBwYXlsb2FkIDogW107XG4gICAgICAgIGNvbnN0IGN1cnJlbnRWYWx1ZSA9IGNvbGxlY3Rpb25TZWxlY3Q/LnZhbHVlIHx8ICcnO1xuICAgICAgICB1cGRhdGVDb2xsZWN0aW9uU2VsZWN0T3B0aW9ucyhjdXJyZW50VmFsdWUpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkZXNpZ25dIGNvbGxlY3Rpb25zIGxvYWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoJ0NvbGxlY3Rpb25zIGluZGlzcG9uaWJsZXMuJyk7XG4gICAgICAgIGRlc2lnbkNvbGxlY3Rpb25zID0gW107XG4gICAgICAgIHVwZGF0ZUNvbGxlY3Rpb25TZWxlY3RPcHRpb25zKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHN5bmNDb2xsZWN0aW9uU2VsZWN0aW9uSW5mbyA9IChjb2xsZWN0aW9uSWQpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvblNlbGVjdGlvbkluZm8pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFjb2xsZWN0aW9uSWQpIHtcbiAgICAgICAgY29sbGVjdGlvblNlbGVjdGlvbkluZm8udGV4dENvbnRlbnQgPSBkZXNpZ25Db2xsZWN0aW9ucy5sZW5ndGhcbiAgICAgICAgICA/ICdTXHUwMEU5bGVjdGlvbm5leiB1bmUgY29sbGVjdGlvbiBwb3VyIGFmZmljaGVyIHNlcyBpbmZvcm1hdGlvbnMuJ1xuICAgICAgICAgIDogJ0F1Y3VuZSBjb2xsZWN0aW9uIGRpc3BvbmlibGUuIEFqb3V0ZXotZW4gZGVwdWlzIGxcdTIwMTlvbmdsZXQgQ29udGVudXMuJztcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgZW50cnkgPSBkZXNpZ25Db2xsZWN0aW9ucy5maW5kKChjb2xsZWN0aW9uKSA9PiBjb2xsZWN0aW9uLmlkID09PSBjb2xsZWN0aW9uSWQpO1xuICAgICAgaWYgKCFlbnRyeSkge1xuICAgICAgICBjb2xsZWN0aW9uU2VsZWN0aW9uSW5mby50ZXh0Q29udGVudCA9IGBDb2xsZWN0aW9uICR7Y29sbGVjdGlvbklkfWA7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRldGFpbHMgPSBbXTtcbiAgICAgIGlmIChlbnRyeS5kZXNjcmlwdGlvbikge1xuICAgICAgICBkZXRhaWxzLnB1c2goZW50cnkuZGVzY3JpcHRpb24pO1xuICAgICAgfVxuICAgICAgaWYgKGVudHJ5LnR5cGUpIHtcbiAgICAgICAgZGV0YWlscy5wdXNoKGBUeXBlXHUwMEEwOiAke2VudHJ5LnR5cGV9YCk7XG4gICAgICB9XG4gICAgICBjb2xsZWN0aW9uU2VsZWN0aW9uSW5mby50ZXh0Q29udGVudCA9XG4gICAgICAgIGRldGFpbHMuam9pbignIFx1MDBCNyAnKSB8fCBgQ29sbGVjdGlvbiAke2VudHJ5Lm5hbWUgfHwgZW50cnkuaWR9YDtcbiAgICB9O1xuXG4gICAgY29uc3QgdXBkYXRlQ29sbGVjdGlvblNlbGVjdE9wdGlvbnMgPSAoc2VsZWN0ZWRWYWx1ZSA9ICcnKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25TZWxlY3QpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29sbGVjdGlvblNlbGVjdC5pbm5lckhUTUwgPSAnJztcbiAgICAgIGlmICghZGVzaWduQ29sbGVjdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgIGNvbGxlY3Rpb25TZWxlY3QuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgICAgb3B0aW9uLnZhbHVlID0gJyc7XG4gICAgICAgIG9wdGlvbi50ZXh0Q29udGVudCA9ICdBdWN1bmUgY29sbGVjdGlvbiBkaXNwb25pYmxlJztcbiAgICAgICAgY29sbGVjdGlvblNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb24pO1xuICAgICAgICBzeW5jQ29sbGVjdGlvblNlbGVjdGlvbkluZm8oJycpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb2xsZWN0aW9uU2VsZWN0LmRpc2FibGVkID0gZmFsc2U7XG4gICAgICBpZiAoc2VsZWN0ZWRWYWx1ZSAmJiAhZGVzaWduQ29sbGVjdGlvbnMuc29tZSgoZW50cnkpID0+IGVudHJ5LmlkID09PSBzZWxlY3RlZFZhbHVlKSkge1xuICAgICAgICBjb25zdCBmYWxsYmFja09wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICBmYWxsYmFja09wdGlvbi52YWx1ZSA9IHNlbGVjdGVkVmFsdWU7XG4gICAgICAgIGZhbGxiYWNrT3B0aW9uLnRleHRDb250ZW50ID0gc2VsZWN0ZWRWYWx1ZTtcbiAgICAgICAgY29sbGVjdGlvblNlbGVjdC5hcHBlbmRDaGlsZChmYWxsYmFja09wdGlvbik7XG4gICAgICB9XG4gICAgICBkZXNpZ25Db2xsZWN0aW9ucy5mb3JFYWNoKChjb2xsZWN0aW9uKSA9PiB7XG4gICAgICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICBvcHRpb24udmFsdWUgPSBjb2xsZWN0aW9uLmlkO1xuICAgICAgICBjb25zdCBsYWJlbCA9IGNvbGxlY3Rpb24ubmFtZSB8fCBjb2xsZWN0aW9uLmlkO1xuICAgICAgICBvcHRpb24udGV4dENvbnRlbnQgPSBjb2xsZWN0aW9uLnR5cGUgPyBgJHtsYWJlbH0gXHUwMEI3ICR7Y29sbGVjdGlvbi50eXBlfWAgOiBsYWJlbDtcbiAgICAgICAgb3B0aW9uLmRhdGFzZXQuZGVzY3JpcHRpb24gPSBjb2xsZWN0aW9uLmRlc2NyaXB0aW9uIHx8ICcnO1xuICAgICAgICBjb2xsZWN0aW9uU2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbik7XG4gICAgICB9KTtcbiAgICAgIGlmIChzZWxlY3RlZFZhbHVlKSB7XG4gICAgICAgIGNvbGxlY3Rpb25TZWxlY3QudmFsdWUgPSBzZWxlY3RlZFZhbHVlO1xuICAgICAgfVxuICAgICAgc3luY0NvbGxlY3Rpb25TZWxlY3Rpb25JbmZvKGNvbGxlY3Rpb25TZWxlY3QudmFsdWUgfHwgJycpO1xuICAgIH07XG5cbiAgICBsb2FkRGVzaWduQ29sbGVjdGlvbnMoKTtcbiAgICBzeW5jRHJhd2VyU3RhdGUoKTtcblxuICAgIGRyYXdlck9wZW5CdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlbkRyYXdlcik7XG4gICAgfSk7XG4gICAgZHJhd2VyQ2xvc2VCdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VEcmF3ZXIpO1xuICAgIH0pO1xuICAgIGRyYXdlckJhY2tkcm9wPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlRHJhd2VyKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgKCkgPT4ge1xuICAgICAgc3luY0RyYXdlclN0YXRlKCk7XG4gICAgICB1cGRhdGVEcmFnZ2FibGVTdGF0ZSgpO1xuICAgIH0pO1xuXG4gICAgYWRkUGFnZVRvZ2dsZT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuQWRkUGFnZUZvcm0pO1xuICAgIGFkZFBhZ2VDYW5jZWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VBZGRQYWdlRm9ybSk7XG4gICAgYWRkUGFnZU5hbWU/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0Jywgc3luY1NsdWdGcm9tTmFtZSk7XG4gICAgYWRkUGFnZVNsdWc/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgYWRkUGFnZUVycm9yICYmIChhZGRQYWdlRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgICBwYWdlU2x1Z01hbnVhbGx5RWRpdGVkID0gdHJ1ZTtcbiAgICB9KTtcbiAgICBhZGRQYWdlRm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKCFwYWdlc0FwaUJhc2UpIHtcbiAgICAgICAgYWRkUGFnZUVycm9yICYmIChhZGRQYWdlRXJyb3IudGV4dENvbnRlbnQgPSAnQXVjdW4gc2l0ZSBzXHUwMEU5bGVjdGlvbm5cdTAwRTkuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghYWRkUGFnZU5hbWUgfHwgIWFkZFBhZ2VTbHVnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG5hbWUgPSBhZGRQYWdlTmFtZS52YWx1ZS50cmltKCk7XG4gICAgICBjb25zdCB0aXRsZSA9IGFkZFBhZ2VUaXRsZT8udmFsdWUudHJpbSgpIHx8IG5hbWU7IC8vIEZhbGxiYWNrIHRvIG5hbWUgaWYgdGl0bGUgaXMgZW1wdHlcbiAgICAgIGNvbnN0IHNsdWcgPSBub3JtYWxpemVQYWdlU2x1ZyhhZGRQYWdlU2x1Zy52YWx1ZS50cmltKCkgfHwgbmFtZSk7XG4gICAgICBpZiAoIW5hbWUgfHwgIXNsdWcpIHtcbiAgICAgICAgYWRkUGFnZUVycm9yICYmIChhZGRQYWdlRXJyb3IudGV4dENvbnRlbnQgPSAnTm9tIGV0IHNsdWcgc29udCByZXF1aXMuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGFkZFBhZ2VFcnJvciAmJiAoYWRkUGFnZUVycm9yLnRleHRDb250ZW50ID0gJycpO1xuICAgICAgaWYgKGFkZFBhZ2VTdWJtaXRCdXR0b24pIHtcbiAgICAgICAgYWRkUGFnZVN1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIGFkZFBhZ2VTdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSAnQ3JcdTAwRTlhdGlvbi4uLic7XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBjcmVhdGVkUGFnZSA9IGF3YWl0IGNyZWF0ZVBhZ2VPblNlcnZlcih7IG5hbWUsIHRpdGxlLCBzbHVnIH0pO1xuICAgICAgICBpZiAoIWNyZWF0ZWRQYWdlIHx8ICFjcmVhdGVkUGFnZS5pZCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUlx1MDBFOXBvbnNlIGludmFsaWRlLicpO1xuICAgICAgICB9XG4gICAgICAgIHBhZ2VzID0gWy4uLnBhZ2VzLCBub3JtYWxpemVQYWdlRGF0YShjcmVhdGVkUGFnZSldO1xuICAgICAgICBjbG9zZUFkZFBhZ2VGb3JtKCk7XG4gICAgICAgIHNob3dUb2FzdCgnUGFnZSBjclx1MDBFOVx1MDBFOWUnKTtcbiAgICAgICAgc2V0QWN0aXZlUGFnZShjcmVhdGVkUGFnZS5pZCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2Rlc2lnbl0gY3JlYXRlIHBhZ2UgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgYWRkUGFnZUVycm9yICYmIChhZGRQYWdlRXJyb3IudGV4dENvbnRlbnQgPSBlcnIubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBjclx1MDBFOWVyIGxhIHBhZ2UuJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoYWRkUGFnZVN1Ym1pdEJ1dHRvbikge1xuICAgICAgICAgIGFkZFBhZ2VTdWJtaXRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICBhZGRQYWdlU3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gJ0NyXHUwMEU5ZXInO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyA9PT0gSW1wb3J0IEpTT04gaGFuZGxlcnMgPT09XG4gICAgY29uc3QgcmVzZXRQYXN0ZVN0YXRlID0gKCkgPT4ge1xuICAgICAgaWYgKGltcG9ydFBhc3RlSW5wdXQpIGltcG9ydFBhc3RlSW5wdXQudmFsdWUgPSAnJztcbiAgICAgIGlmIChwYXN0ZUVycm9yKSB7XG4gICAgICAgIHBhc3RlRXJyb3IuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIHBhc3RlRXJyb3IudGV4dENvbnRlbnQgPSAnJztcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgdmFsaWRhdGVQYXN0ZUpzb24gPSAoKSA9PiB7XG4gICAgICBpZiAoIWltcG9ydFBhc3RlSW5wdXQpIHJldHVybiBudWxsO1xuICAgICAgY29uc3QgdGV4dCA9IGltcG9ydFBhc3RlSW5wdXQudmFsdWUudHJpbSgpO1xuICAgICAgaWYgKCF0ZXh0KSB7XG4gICAgICAgIGlmIChwYXN0ZUVycm9yKSBwYXN0ZUVycm9yLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZCA9IEpTT04ucGFyc2UodGV4dCk7XG4gICAgICAgIGlmIChwYXN0ZUVycm9yKSBwYXN0ZUVycm9yLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICByZXR1cm4gcGFyc2VkO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGlmIChwYXN0ZUVycm9yKSB7XG4gICAgICAgICAgcGFzdGVFcnJvci5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICBwYXN0ZUVycm9yLnRleHRDb250ZW50ID0gYFx1Mjc0QyBKU09OIGludmFsaWRlIDogJHtlcnIubWVzc2FnZX1gO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBmb3JtYXRQYXN0ZUpzb24gPSAoKSA9PiB7XG4gICAgICBpZiAoIWltcG9ydFBhc3RlSW5wdXQpIHJldHVybjtcbiAgICAgIGNvbnN0IHRleHQgPSBpbXBvcnRQYXN0ZUlucHV0LnZhbHVlLnRyaW0oKTtcbiAgICAgIGlmICghdGV4dCkgcmV0dXJuO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcGFyc2VkID0gSlNPTi5wYXJzZSh0ZXh0KTtcbiAgICAgICAgaW1wb3J0UGFzdGVJbnB1dC52YWx1ZSA9IEpTT04uc3RyaW5naWZ5KHBhcnNlZCwgbnVsbCwgMik7XG4gICAgICAgIHZhbGlkYXRlUGFzdGVKc29uKCk7XG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgLy8gU2kgcGFzIHZhbGlkZSwgb24gbmUgZm9ybWF0ZSBwYXNcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgdXBkYXRlSW1wb3J0U3VibWl0U3RhdGUgPSAoKSA9PiB7XG4gICAgICBpZiAoIWltcG9ydFN1Ym1pdCkgcmV0dXJuO1xuICAgICAgaWYgKGFjdGl2ZUltcG9ydFRhYiA9PT0gJ3VwbG9hZCcpIHtcbiAgICAgICAgaW1wb3J0U3VibWl0LmRpc2FibGVkID0gaW1wb3J0U2VsZWN0ZWRGaWxlcy5sZW5ndGggPT09IDA7XG4gICAgICB9IGVsc2UgaWYgKGFjdGl2ZUltcG9ydFRhYiA9PT0gJ3Bhc3RlJykge1xuICAgICAgICBjb25zdCBwYXJzZWQgPSB2YWxpZGF0ZVBhc3RlSnNvbigpO1xuICAgICAgICBpbXBvcnRTdWJtaXQuZGlzYWJsZWQgPSAhcGFyc2VkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW1wb3J0U3VibWl0LmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3Qgb3BlbkltcG9ydE1vZGFsID0gKCkgPT4ge1xuICAgICAgaWYgKCFpbXBvcnRNb2RhbCkgcmV0dXJuO1xuICAgICAgaW1wb3J0TW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBpbXBvcnRNb2RhbC5jbGFzc0xpc3QuYWRkKCdmbGV4Jyk7XG4gICAgICBpbXBvcnRTZWxlY3RlZEZpbGVzID0gW107XG4gICAgICBhY3RpdmVJbXBvcnRUYWIgPSAndXBsb2FkJztcbiAgICAgIHVwZGF0ZUltcG9ydEZpbGVMaXN0KCk7XG4gICAgICByZXNldFBhc3RlU3RhdGUoKTtcbiAgICAgIGlmIChpbXBvcnRSZXN1bHRzKSBpbXBvcnRSZXN1bHRzLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgaWYgKGltcG9ydFJlc3VsdHNDb250ZW50KSBpbXBvcnRSZXN1bHRzQ29udGVudC5pbm5lckhUTUwgPSAnJztcbiAgICAgIHVwZGF0ZUltcG9ydFN1Ym1pdFN0YXRlKCk7XG4gICAgICAvLyBSZXNldCB0YWJzIHRvIHVwbG9hZFxuICAgICAgaW1wb3J0VGFicy5mb3JFYWNoKCh0KSA9PiB7XG4gICAgICAgIGlmICh0LmRhdGFzZXQuaW1wb3J0VGFiID09PSAndXBsb2FkJykge1xuICAgICAgICAgIHQuY2xhc3NMaXN0LmFkZCgnYmctWyM5QzZCRkZdJywgJ3RleHQtd2hpdGUnKTtcbiAgICAgICAgICB0LmNsYXNzTGlzdC5yZW1vdmUoJ2JvcmRlcicsICdib3JkZXItc2xhdGUtMjAwJywgJ3RleHQtc2xhdGUtNzAwJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdC5jbGFzc0xpc3QucmVtb3ZlKCdiZy1bIzlDNkJGRl0nLCAndGV4dC13aGl0ZScpO1xuICAgICAgICAgIHQuY2xhc3NMaXN0LmFkZCgnYm9yZGVyJywgJ2JvcmRlci1zbGF0ZS0yMDAnLCAndGV4dC1zbGF0ZS03MDAnKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpbXBvcnRQYW5lbHMuZm9yRWFjaCgocCkgPT4ge1xuICAgICAgICBpZiAocC5kYXRhc2V0LmltcG9ydFBhbmVsID09PSAndXBsb2FkJykge1xuICAgICAgICAgIHAuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBhY3RpdmF0ZU1vZGFsKGltcG9ydE1vZGFsLCBjbG9zZUltcG9ydE1vZGFsKTtcbiAgICB9O1xuICAgIGNvbnN0IGNsb3NlSW1wb3J0TW9kYWwgPSAoKSA9PiB7XG4gICAgICBpZiAoIWltcG9ydE1vZGFsKSByZXR1cm47XG4gICAgICBpbXBvcnRNb2RhbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGltcG9ydE1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2ZsZXgnKTtcbiAgICAgIGltcG9ydFNlbGVjdGVkRmlsZXMgPSBbXTtcbiAgICAgIHJlc2V0UGFzdGVTdGF0ZSgpO1xuICAgICAgZGVhY3RpdmF0ZU1vZGFsKGltcG9ydE1vZGFsKTtcbiAgICB9O1xuICAgIGNvbnN0IHVwZGF0ZUltcG9ydEZpbGVMaXN0ID0gKCkgPT4ge1xuICAgICAgaWYgKCFpbXBvcnRGaWxlTGlzdCB8fCAhaW1wb3J0RmlsZU5hbWVzKSByZXR1cm47XG4gICAgICBpZiAoaW1wb3J0U2VsZWN0ZWRGaWxlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgaW1wb3J0RmlsZUxpc3QuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIHVwZGF0ZUltcG9ydFN1Ym1pdFN0YXRlKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGltcG9ydEZpbGVMaXN0LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgaW1wb3J0RmlsZU5hbWVzLmlubmVySFRNTCA9IGltcG9ydFNlbGVjdGVkRmlsZXNcbiAgICAgICAgLm1hcCgoZikgPT4gYDxsaSBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+PHNwYW4gY2xhc3M9XCJ0ZXh0LWxnXCI+XHVEODNEXHVEQ0M0PC9zcGFuPiR7Zi5uYW1lfTwvbGk+YClcbiAgICAgICAgLmpvaW4oJycpO1xuICAgICAgdXBkYXRlSW1wb3J0U3VibWl0U3RhdGUoKTtcbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZUltcG9ydEZpbGVzID0gKGZpbGVzKSA9PiB7XG4gICAgICBjb25zdCBqc29uRmlsZXMgPSBBcnJheS5mcm9tKGZpbGVzKS5maWx0ZXIoXG4gICAgICAgIChmKSA9PiBmLnR5cGUgPT09ICdhcHBsaWNhdGlvbi9qc29uJyB8fCBmLm5hbWUuZW5kc1dpdGgoJy5qc29uJylcbiAgICAgICk7XG4gICAgICBpZiAoanNvbkZpbGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBzaG93VG9hc3QoJ0F1Y3VuIGZpY2hpZXIgSlNPTiB2YWxpZGUuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGltcG9ydFNlbGVjdGVkRmlsZXMgPSBqc29uRmlsZXM7XG4gICAgICB1cGRhdGVJbXBvcnRGaWxlTGlzdCgpO1xuICAgIH07XG4gICAgY29uc3QgZXhlY3V0ZUltcG9ydCA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghcGFnZXNBcGlCYXNlKSByZXR1cm47XG4gICAgICBcbiAgICAgIC8vIERldGVybWluZSBzb3VyY2Ugb2YgZGF0YSBiYXNlZCBvbiBhY3RpdmUgdGFiXG4gICAgICBsZXQgcGFnZXNEYXRhID0gW107XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKCdbaW1wb3J0XSBhY3RpdmVJbXBvcnRUYWI6JywgYWN0aXZlSW1wb3J0VGFiKTtcbiAgICAgIFxuICAgICAgaWYgKGFjdGl2ZUltcG9ydFRhYiA9PT0gJ3Bhc3RlJykge1xuICAgICAgICAvLyBJbXBvcnQgZnJvbSBwYXN0ZWQgSlNPTlxuICAgICAgICBjb25zdCB0ZXh0ID0gaW1wb3J0UGFzdGVJbnB1dD8udmFsdWU/LnRyaW0oKTtcbiAgICAgICAgY29uc29sZS5sb2coJ1tpbXBvcnRdIHBhc3RlIHRleHQgbGVuZ3RoOicsIHRleHQ/Lmxlbmd0aCk7XG4gICAgICAgIGlmICghdGV4dCkge1xuICAgICAgICAgIHNob3dUb2FzdCgnQXVjdW4gSlNPTiBcdTAwRTAgaW1wb3J0ZXIuJyk7XG4gICAgICAgICAgaWYgKGltcG9ydFJlc3VsdHMgJiYgaW1wb3J0UmVzdWx0c0NvbnRlbnQpIHtcbiAgICAgICAgICAgIGltcG9ydFJlc3VsdHMuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgICBpbXBvcnRSZXN1bHRzQ29udGVudC5pbm5lckhUTUwgPSAnPHAgY2xhc3M9XCJ0ZXh0LWFtYmVyLTYwMFwiPlx1MjZBMCBMZSBjaGFtcCBkZSB0ZXh0ZSBlc3QgdmlkZS48L3A+JztcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcGFyc2VkID0gSlNPTi5wYXJzZSh0ZXh0KTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnW2ltcG9ydF0gcGFyc2VkIEpTT046JywgcGFyc2VkKTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnW2ltcG9ydF0gcGFyc2VkIHR5cGU6JywgdHlwZW9mIHBhcnNlZCwgQXJyYXkuaXNBcnJheShwYXJzZWQpID8gJ2FycmF5JyA6ICdub3QgYXJyYXknKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBTdXBwb3J0IGZvcm1hdCB7IHBhZ2VzOiBbLi4uXSwgY29sbGVjdGlvbnM6IHsuLi59IH1cbiAgICAgICAgICBpZiAocGFyc2VkICYmICFBcnJheS5pc0FycmF5KHBhcnNlZCkgJiYgcGFyc2VkLnBhZ2VzKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnW2ltcG9ydF0gZGV0ZWN0ZWQgcGFnZXMrY29sbGVjdGlvbnMgZm9ybWF0Jyk7XG4gICAgICAgICAgICBwYWdlc0RhdGEgPSBwYXJzZWQ7IC8vIFNlbmQgdGhlIHdob2xlIG9iamVjdCwgYmFja2VuZCB3aWxsIGhhbmRsZSBpdFxuICAgICAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShwYXJzZWQpKSB7XG4gICAgICAgICAgICBwYWdlc0RhdGEucHVzaCguLi5wYXJzZWQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYWdlc0RhdGEucHVzaChwYXJzZWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zb2xlLmxvZygnW2ltcG9ydF0gcGFnZXNEYXRhIHByZXBhcmVkOicsIHBhZ2VzRGF0YSk7XG4gICAgICAgIH0gY2F0Y2ggKHBhcnNlRXJyKSB7XG4gICAgICAgICAgLy8gQWZmaWNoZXIgbGUgZFx1MDBFOXRhaWwgZGUgbCdlcnJldXIgZGUgcGFyc2luZ1xuICAgICAgICAgIGNvbnN0IGVycm9yTGluZSA9IHBhcnNlRXJyLm1lc3NhZ2UubWF0Y2goL3Bvc2l0aW9uIChcXGQrKS8pO1xuICAgICAgICAgIGxldCBlcnJvckRldGFpbCA9IHBhcnNlRXJyLm1lc3NhZ2U7XG4gICAgICAgICAgaWYgKGVycm9yTGluZSkge1xuICAgICAgICAgICAgY29uc3QgcG9zID0gcGFyc2VJbnQoZXJyb3JMaW5lWzFdLCAxMCk7XG4gICAgICAgICAgICBjb25zdCBsaW5lcyA9IHRleHQuc3Vic3RyaW5nKDAsIHBvcykuc3BsaXQoJ1xcbicpO1xuICAgICAgICAgICAgY29uc3QgbGluZU51bSA9IGxpbmVzLmxlbmd0aDtcbiAgICAgICAgICAgIGNvbnN0IGNvbE51bSA9IGxpbmVzW2xpbmVzLmxlbmd0aCAtIDFdLmxlbmd0aCArIDE7XG4gICAgICAgICAgICBlcnJvckRldGFpbCA9IGBMaWduZSAke2xpbmVOdW19LCBjb2xvbm5lICR7Y29sTnVtfTogJHtwYXJzZUVyci5tZXNzYWdlfWA7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNob3dUb2FzdChgRXJyZXVyIEpTT04gOiAke2Vycm9yRGV0YWlsfWAsICdlcnJvcicpO1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tpbXBvcnRdIHBhc3RlIHBhcnNlIGVycm9yJywgcGFyc2VFcnIpO1xuICAgICAgICAgIC8vIFNob3cgZXJyb3IgaW4gcmVzdWx0cyBhcmVhXG4gICAgICAgICAgaWYgKGltcG9ydFJlc3VsdHMgJiYgaW1wb3J0UmVzdWx0c0NvbnRlbnQpIHtcbiAgICAgICAgICAgIGltcG9ydFJlc3VsdHMuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgICBpbXBvcnRSZXN1bHRzQ29udGVudC5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LXJvc2UtNjAwXCI+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJmb250LW1lZGl1bVwiPlx1MjcxNyBFcnJldXIgZGUgc3ludGF4ZSBKU09OPC9wPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC14cyBtdC0xXCI+JHtlcnJvckRldGFpbH08L3A+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXhzIG10LTIgdGV4dC1zbGF0ZS01MDBcIj5WXHUwMEU5cmlmaWV6IGxlcyB2aXJndWxlcywgZ3VpbGxlbWV0cyBldCBhY2NvbGFkZXMuPC9wPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIGA7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChhY3RpdmVJbXBvcnRUYWIgPT09ICd1cGxvYWQnKSB7XG4gICAgICAgIC8vIEltcG9ydCBmcm9tIGZpbGVzXG4gICAgICAgIGlmIChpbXBvcnRTZWxlY3RlZEZpbGVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICAgICAgICBjb25zdCBmaWxlRXJyb3JzID0gW107XG4gICAgICAgIGZvciAoY29uc3QgZmlsZSBvZiBpbXBvcnRTZWxlY3RlZEZpbGVzKSB7XG4gICAgICAgICAgY29uc3QgdGV4dCA9IGF3YWl0IGZpbGUudGV4dCgpO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBwYXJzZWQgPSBKU09OLnBhcnNlKHRleHQpO1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocGFyc2VkKSkge1xuICAgICAgICAgICAgICBwYWdlc0RhdGEucHVzaCguLi5wYXJzZWQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGFnZXNEYXRhLnB1c2gocGFyc2VkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoIChwYXJzZUVycikge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JMaW5lID0gcGFyc2VFcnIubWVzc2FnZS5tYXRjaCgvcG9zaXRpb24gKFxcZCspLyk7XG4gICAgICAgICAgICBsZXQgZXJyb3JEZXRhaWwgPSBwYXJzZUVyci5tZXNzYWdlO1xuICAgICAgICAgICAgaWYgKGVycm9yTGluZSkge1xuICAgICAgICAgICAgICBjb25zdCBwb3MgPSBwYXJzZUludChlcnJvckxpbmVbMV0sIDEwKTtcbiAgICAgICAgICAgICAgY29uc3QgbGluZXMgPSB0ZXh0LnN1YnN0cmluZygwLCBwb3MpLnNwbGl0KCdcXG4nKTtcbiAgICAgICAgICAgICAgY29uc3QgbGluZU51bSA9IGxpbmVzLmxlbmd0aDtcbiAgICAgICAgICAgICAgZXJyb3JEZXRhaWwgPSBgTGlnbmUgJHtsaW5lTnVtfTogJHtwYXJzZUVyci5tZXNzYWdlfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaWxlRXJyb3JzLnB1c2goeyBmaWxlOiBmaWxlLm5hbWUsIGVycm9yOiBlcnJvckRldGFpbCB9KTtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tpbXBvcnRdIHBhcnNlIGVycm9yJywgZmlsZS5uYW1lLCBwYXJzZUVycik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFNob3cgZmlsZSBwYXJzaW5nIGVycm9ycyBpZiBhbnlcbiAgICAgICAgaWYgKGZpbGVFcnJvcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGlmIChpbXBvcnRSZXN1bHRzICYmIGltcG9ydFJlc3VsdHNDb250ZW50KSB7XG4gICAgICAgICAgICBpbXBvcnRSZXN1bHRzLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgICAgbGV0IGh0bWwgPSAnPGRpdiBjbGFzcz1cInRleHQtcm9zZS02MDBcIj48cCBjbGFzcz1cImZvbnQtbWVkaXVtXCI+XHUyNzE3IEVycmV1cnMgZGUgc3ludGF4ZSBKU09OPC9wPjx1bCBjbGFzcz1cIm1sLTQgdGV4dC14cyBtdC0xXCI+JztcbiAgICAgICAgICAgIGZpbGVFcnJvcnMuZm9yRWFjaChlID0+IHtcbiAgICAgICAgICAgICAgaHRtbCArPSBgPGxpPjxzdHJvbmc+JHtlLmZpbGV9PC9zdHJvbmc+OiAke2UuZXJyb3J9PC9saT5gO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBodG1sICs9ICc8L3VsPjwvZGl2Pic7XG4gICAgICAgICAgICBpZiAocGFnZXNEYXRhLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgaHRtbCArPSBgPHAgY2xhc3M9XCJ0ZXh0LWFtYmVyLTYwMCBtdC0yIHRleHQtc21cIj5cdTI2QTAgJHtwYWdlc0RhdGEubGVuZ3RofSBwYWdlKHMpIHZhbGlkZShzKSBzZXJvbnQgaW1wb3J0XHUwMEU5ZShzKTwvcD5gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW1wb3J0UmVzdWx0c0NvbnRlbnQuaW5uZXJIVE1MID0gaHRtbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHBhZ2VzRGF0YS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHNob3dUb2FzdCgnVG91cyBsZXMgZmljaGllcnMgY29udGllbm5lbnQgZGVzIGVycmV1cnMgSlNPTicsICdlcnJvcicpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBWXHUwMEU5cmlmaWVyIHF1J29uIGEgZGVzIGRvbm5cdTAwRTllcyBcdTAwRTAgaW1wb3J0ZXJcbiAgICAgIGNvbnN0IGhhc0RhdGEgPSBBcnJheS5pc0FycmF5KHBhZ2VzRGF0YSkgXG4gICAgICAgID8gcGFnZXNEYXRhLmxlbmd0aCA+IDAgXG4gICAgICAgIDogKHBhZ2VzRGF0YSAmJiAocGFnZXNEYXRhLnBhZ2VzPy5sZW5ndGggPiAwIHx8IHBhZ2VzRGF0YS50aXRsZSkpO1xuICAgICAgXG4gICAgICBjb25zb2xlLmxvZygnW2ltcG9ydF0gaGFzRGF0YSBjaGVjazonLCBoYXNEYXRhLCAncGFnZXNEYXRhOicsIHBhZ2VzRGF0YSk7XG4gICAgICBcbiAgICAgIGlmICghaGFzRGF0YSkge1xuICAgICAgICBzaG93VG9hc3QoJ0F1Y3VuZSBwYWdlIHZhbGlkZSBcdTAwRTAgaW1wb3J0ZXIuJyk7XG4gICAgICAgIGlmIChpbXBvcnRSZXN1bHRzICYmIGltcG9ydFJlc3VsdHNDb250ZW50KSB7XG4gICAgICAgICAgaW1wb3J0UmVzdWx0cy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICBpbXBvcnRSZXN1bHRzQ29udGVudC5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC1hbWJlci02MDBcIj5cbiAgICAgICAgICAgICAgPHAgY2xhc3M9XCJmb250LW1lZGl1bVwiPlx1MjZBMCBBdWN1bmUgcGFnZSBkXHUwMEU5dGVjdFx1MDBFOWU8L3A+XG4gICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC14cyBtdC0xXCI+TGUgSlNPTiBkb2l0IGNvbnRlbmlyIDo8L3A+XG4gICAgICAgICAgICAgIDx1bCBjbGFzcz1cInRleHQteHMgbWwtNCBtdC0xIGxpc3QtZGlzY1wiPlxuICAgICAgICAgICAgICAgIDxsaT5VbiBvYmpldCBwYWdlIGF2ZWMgXCJ0aXRsZVwiIDogPGNvZGU+e1widGl0bGVcIjogXCJNYSBwYWdlXCIsIC4uLn08L2NvZGU+PC9saT5cbiAgICAgICAgICAgICAgICA8bGk+VW4gdGFibGVhdSBkZSBwYWdlcyA6IDxjb2RlPlt7XCJ0aXRsZVwiOiBcIlBhZ2UgMVwifSwge1widGl0bGVcIjogXCJQYWdlIDJcIn1dPC9jb2RlPjwvbGk+XG4gICAgICAgICAgICAgICAgPGxpPk91IHVuIG9iamV0IGNvbWJpblx1MDBFOSA6IDxjb2RlPntcInBhZ2VzXCI6IFsuLi5dLCBcImNvbGxlY3Rpb25zXCI6IHsuLi59fTwvY29kZT48L2xpPlxuICAgICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgYDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChpbXBvcnRTdWJtaXQpIHtcbiAgICAgICAgaW1wb3J0U3VibWl0LmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgaW1wb3J0U3VibWl0LnRleHRDb250ZW50ID0gJ0ltcG9ydC4uLic7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEFmZmljaGVyIGNlIHF1J29uIHZhIGVudm95ZXIgKGRlYnVnKVxuICAgICAgY29uc29sZS5sb2coJ1tpbXBvcnRdIFNlbmRpbmcgdG8gc2VydmVyOicsIEpTT04uc3RyaW5naWZ5KHBhZ2VzRGF0YSkuc3Vic3RyaW5nKDAsIDUwMCkpO1xuICAgICAgXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke3BhZ2VzQXBpQmFzZX0vaW1wb3J0YCwge1xuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZScsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGFnZXNEYXRhKSxcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBjb25zb2xlLmxvZygnW2ltcG9ydF0gU2VydmVyIHJlc3BvbnNlIHN0YXR1czonLCByZXNwb25zZS5zdGF0dXMpO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBjb25zb2xlLmxvZygnW2ltcG9ydF0gU2VydmVyIHJlc3BvbnNlIGJvZHk6JywgcmVzdWx0KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIC8vIEFmZmljaGVyIGxlIGRcdTAwRTl0YWlsIGRlIGwnZXJyZXVyIHNlcnZldXJcbiAgICAgICAgICBpZiAoaW1wb3J0UmVzdWx0cyAmJiBpbXBvcnRSZXN1bHRzQ29udGVudCkge1xuICAgICAgICAgICAgaW1wb3J0UmVzdWx0cy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIGltcG9ydFJlc3VsdHNDb250ZW50LmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRleHQtcm9zZS02MDBcIj5cbiAgICAgICAgICAgICAgICA8cCBjbGFzcz1cImZvbnQtbWVkaXVtXCI+XHUyNzE3IEVycmV1ciBzZXJ2ZXVyPC9wPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC14cyBtdC0xXCI+JHtyZXN1bHQubWVzc2FnZSB8fCAnRXJyZXVyIGluY29ubnVlJ308L3A+XG4gICAgICAgICAgICAgICAgJHtyZXN1bHQuZGV0YWlscyA/IGA8cCBjbGFzcz1cInRleHQteHMgbXQtMSB0ZXh0LXNsYXRlLTUwMFwiPiR7cmVzdWx0LmRldGFpbHN9PC9wPmAgOiAnJ31cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICBgO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzdWx0Lm1lc3NhZ2UgfHwgJ0VycmV1ciBzZXJ2ZXVyJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2hvdyByZXN1bHRzXG4gICAgICAgIGlmIChpbXBvcnRSZXN1bHRzICYmIGltcG9ydFJlc3VsdHNDb250ZW50KSB7XG4gICAgICAgICAgaW1wb3J0UmVzdWx0cy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICBsZXQgaHRtbCA9ICcnO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIEVudFx1MDBFQXRlIHN1Y2NcdTAwRThzL2VycmV1clxuICAgICAgICAgIGNvbnN0IGhhc1N1Y2Nlc3MgPSAocmVzdWx0LmltcG9ydGVkPy5sZW5ndGggPiAwKSB8fCAocmVzdWx0LmNvbGxlY3Rpb25zQ3JlYXRlZD8ubGVuZ3RoID4gMCk7XG4gICAgICAgICAgY29uc3QgaGFzRXJyb3JzID0gcmVzdWx0LmVycm9ycz8ubGVuZ3RoID4gMDtcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoaGFzU3VjY2VzcyAmJiAhaGFzRXJyb3JzKSB7XG4gICAgICAgICAgICBodG1sICs9ICc8ZGl2IGNsYXNzPVwiYmctZ3JlZW4tNTAgYm9yZGVyIGJvcmRlci1ncmVlbi0yMDAgcm91bmRlZC1sZyBwLTMgbWItMlwiPjxwIGNsYXNzPVwidGV4dC1ncmVlbi04MDAgZm9udC1tZWRpdW1cIj5cdTI3MTMgSW1wb3J0IHJcdTAwRTl1c3NpPC9wPjwvZGl2Pic7XG4gICAgICAgICAgfSBlbHNlIGlmIChoYXNTdWNjZXNzICYmIGhhc0Vycm9ycykge1xuICAgICAgICAgICAgaHRtbCArPSAnPGRpdiBjbGFzcz1cImJnLWFtYmVyLTUwIGJvcmRlciBib3JkZXItYW1iZXItMjAwIHJvdW5kZWQtbGcgcC0zIG1iLTJcIj48cCBjbGFzcz1cInRleHQtYW1iZXItODAwIGZvbnQtbWVkaXVtXCI+XHUyNkEwIEltcG9ydCBwYXJ0aWVsPC9wPjwvZGl2Pic7XG4gICAgICAgICAgfSBlbHNlIGlmIChoYXNFcnJvcnMpIHtcbiAgICAgICAgICAgIGh0bWwgKz0gJzxkaXYgY2xhc3M9XCJiZy1yb3NlLTUwIGJvcmRlciBib3JkZXItcm9zZS0yMDAgcm91bmRlZC1sZyBwLTMgbWItMlwiPjxwIGNsYXNzPVwidGV4dC1yb3NlLTgwMCBmb250LW1lZGl1bVwiPlx1MjcxNyBJbXBvcnQgXHUwMEU5Y2hvdVx1MDBFOTwvcD48L2Rpdj4nO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAvLyBDb2xsZWN0aW9ucyBjclx1MDBFOVx1MDBFOWVzXG4gICAgICAgICAgaWYgKHJlc3VsdC5jb2xsZWN0aW9uc0NyZWF0ZWQgJiYgcmVzdWx0LmNvbGxlY3Rpb25zQ3JlYXRlZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBodG1sICs9IGA8cCBjbGFzcz1cInRleHQtdmlvbGV0LTcwMCBtdC0yXCI+XHUyNzEzICR7cmVzdWx0LmNvbGxlY3Rpb25zQ3JlYXRlZC5sZW5ndGh9IGNvbGxlY3Rpb24ocykgY3JcdTAwRTlcdTAwRTllKHMpPC9wPmA7XG4gICAgICAgICAgICBodG1sICs9ICc8dWwgY2xhc3M9XCJtbC00IHRleHQteHMgdGV4dC1zbGF0ZS02MDBcIj4nO1xuICAgICAgICAgICAgcmVzdWx0LmNvbGxlY3Rpb25zQ3JlYXRlZC5mb3JFYWNoKChjKSA9PiB7XG4gICAgICAgICAgICAgIGh0bWwgKz0gYDxsaT4ke2MubmFtZX0gKCR7Yy5pdGVtc0NvdW50fSBpdGVtJHtjLml0ZW1zQ291bnQgPiAxID8gJ3MnIDogJyd9KTwvbGk+YDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaHRtbCArPSAnPC91bD4nO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBQYWdlcyBpbXBvcnRcdTAwRTllc1xuICAgICAgICAgIGlmIChyZXN1bHQuaW1wb3J0ZWQgJiYgcmVzdWx0LmltcG9ydGVkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGh0bWwgKz0gYDxwIGNsYXNzPVwidGV4dC1ncmVlbi03MDAgbXQtMlwiPlx1MjcxMyAke3Jlc3VsdC5pbXBvcnRlZC5sZW5ndGh9IHBhZ2UocykgaW1wb3J0XHUwMEU5ZShzKTwvcD5gO1xuICAgICAgICAgICAgaHRtbCArPSAnPHVsIGNsYXNzPVwibWwtNCB0ZXh0LXhzIHRleHQtc2xhdGUtNjAwXCI+JztcbiAgICAgICAgICAgIHJlc3VsdC5pbXBvcnRlZC5mb3JFYWNoKChwKSA9PiB7XG4gICAgICAgICAgICAgIGh0bWwgKz0gYDxsaT48c3Ryb25nPiR7cC50aXRsZX08L3N0cm9uZz4gXHUyMTkyICR7cC5zbHVnfSAoJHtwLmFjdGlvbiA9PT0gJ3VwZGF0ZWQnID8gJ21pc2UgXHUwMEUwIGpvdXInIDogJ2NyXHUwMEU5XHUwMEU5ZSd9KTwvbGk+YDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaHRtbCArPSAnPC91bD4nO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBFcnJldXJzIGF2ZWMgZFx1MDBFOXRhaWxzXG4gICAgICAgICAgaWYgKHJlc3VsdC5lcnJvcnMgJiYgcmVzdWx0LmVycm9ycy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBodG1sICs9IGA8cCBjbGFzcz1cInRleHQtcm9zZS02MDAgbXQtMyBmb250LW1lZGl1bVwiPlx1MjcxNyAke3Jlc3VsdC5lcnJvcnMubGVuZ3RofSBlcnJldXIocyk8L3A+YDtcbiAgICAgICAgICAgIGh0bWwgKz0gJzx1bCBjbGFzcz1cIm1sLTQgdGV4dC14cyB0ZXh0LXJvc2UtNjAwIHNwYWNlLXktMSBtdC0xXCI+JztcbiAgICAgICAgICAgIHJlc3VsdC5lcnJvcnMuZm9yRWFjaCgoZSkgPT4ge1xuICAgICAgICAgICAgICBodG1sICs9IGA8bGkgY2xhc3M9XCJiZy1yb3NlLTUwIHAtMiByb3VuZGVkXCI+PHN0cm9uZz4ke2UudGl0bGV9PC9zdHJvbmc+PGJyLz48c3BhbiBjbGFzcz1cInRleHQtcm9zZS01MDBcIj4ke2UuZXJyb3J9PC9zcGFuPjwvbGk+YDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaHRtbCArPSAnPC91bD4nO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpbXBvcnRSZXN1bHRzQ29udGVudC5pbm5lckhUTUwgPSBodG1sO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlbG9hZCBwYWdlcyBsaXN0IGFuZCBzaG93IHRvYXN0XG4gICAgICAgIGNvbnN0IGhhc1N1Y2Nlc3MgPSAocmVzdWx0LmltcG9ydGVkPy5sZW5ndGggPiAwKSB8fCAocmVzdWx0LmNvbGxlY3Rpb25zQ3JlYXRlZD8ubGVuZ3RoID4gMCk7XG4gICAgICAgIGNvbnN0IGhhc0Vycm9ycyA9IHJlc3VsdC5lcnJvcnM/Lmxlbmd0aCA+IDA7XG4gICAgICAgIFxuICAgICAgICBpZiAocmVzdWx0LmltcG9ydGVkICYmIHJlc3VsdC5pbXBvcnRlZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY29uc3QgZnJlc2hQYWdlcyA9IGF3YWl0IGZldGNoUGFnZXNGcm9tU2VydmVyKCk7XG4gICAgICAgICAgcGFnZXMgPSBmcmVzaFBhZ2VzO1xuICAgICAgICAgIHJlbmRlclBhZ2VMaXN0cyhwYWdlcywgYWN0aXZlUGFnZUlkKTtcbiAgICAgICAgICBpZiAocGFnZXMubGVuZ3RoID4gMCAmJiAhYWN0aXZlUGFnZUlkKSB7XG4gICAgICAgICAgICBzZXRBY3RpdmVQYWdlKHBhZ2VzWzBdLmlkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFRvYXN0IGF2ZWMgc3RhdHV0IGFwcHJvcHJpXHUwMEU5XG4gICAgICAgIGlmIChoYXNTdWNjZXNzICYmICFoYXNFcnJvcnMpIHtcbiAgICAgICAgICBjb25zdCBjb2xsZWN0aW9uc01zZyA9IHJlc3VsdC5jb2xsZWN0aW9uc0NyZWF0ZWQ/Lmxlbmd0aCBcbiAgICAgICAgICAgID8gYCArICR7cmVzdWx0LmNvbGxlY3Rpb25zQ3JlYXRlZC5sZW5ndGh9IGNvbGxlY3Rpb24ocylgIFxuICAgICAgICAgICAgOiAnJztcbiAgICAgICAgICBzaG93VG9hc3QoYFx1MjcxMyBJbXBvcnQgclx1MDBFOXVzc2kgOiAke3Jlc3VsdC5pbXBvcnRlZD8ubGVuZ3RoIHx8IDB9IHBhZ2Uocykke2NvbGxlY3Rpb25zTXNnfWAsICdzdWNjZXNzJyk7XG4gICAgICAgIH0gZWxzZSBpZiAoaGFzU3VjY2VzcyAmJiBoYXNFcnJvcnMpIHtcbiAgICAgICAgICBzaG93VG9hc3QoYFx1MjZBMCBJbXBvcnQgcGFydGllbCA6ICR7cmVzdWx0LmltcG9ydGVkPy5sZW5ndGggfHwgMH0gcGFnZShzKSwgJHtyZXN1bHQuZXJyb3JzLmxlbmd0aH0gZXJyZXVyKHMpYCwgJ3dhcm5pbmcnKTtcbiAgICAgICAgfSBlbHNlIGlmIChoYXNFcnJvcnMpIHtcbiAgICAgICAgICBzaG93VG9hc3QoYFx1MjcxNyBJbXBvcnQgXHUwMEU5Y2hvdVx1MDBFOSA6ICR7cmVzdWx0LmVycm9ycy5sZW5ndGh9IGVycmV1cihzKWAsICdlcnJvcicpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpbXBvcnRTZWxlY3RlZEZpbGVzID0gW107XG4gICAgICAgIHVwZGF0ZUltcG9ydEZpbGVMaXN0KCk7XG4gICAgICAgIHJlc2V0UGFzdGVTdGF0ZSgpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tpbXBvcnRdIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGltcG9ydCcsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKGltcG9ydFN1Ym1pdCkge1xuICAgICAgICAgIGltcG9ydFN1Ym1pdC5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgIGltcG9ydFN1Ym1pdC50ZXh0Q29udGVudCA9ICdJbXBvcnRlcic7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIGltcG9ydFRvZ2dsZT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuSW1wb3J0TW9kYWwpO1xuICAgIGltcG9ydENsb3NlQnV0dG9ucy5mb3JFYWNoKChidG4pID0+IGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlSW1wb3J0TW9kYWwpKTtcbiAgICBpbXBvcnRNb2RhbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgaWYgKGUudGFyZ2V0ID09PSBpbXBvcnRNb2RhbCkgY2xvc2VJbXBvcnRNb2RhbCgpO1xuICAgIH0pO1xuICAgIGltcG9ydEZpbGVJbnB1dD8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGUpID0+IHtcbiAgICAgIGhhbmRsZUltcG9ydEZpbGVzKGUudGFyZ2V0LmZpbGVzKTtcbiAgICB9KTtcbiAgICBpbXBvcnREcm9wem9uZT8uYWRkRXZlbnRMaXN0ZW5lcignZHJhZ292ZXInLCAoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaW1wb3J0RHJvcHpvbmUuY2xhc3NMaXN0LmFkZCgnYm9yZGVyLVsjOUM2QkZGXScsICdiZy1bIzlDNkJGRl0vMTAnKTtcbiAgICB9KTtcbiAgICBpbXBvcnREcm9wem9uZT8uYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2xlYXZlJywgKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGltcG9ydERyb3B6b25lLmNsYXNzTGlzdC5yZW1vdmUoJ2JvcmRlci1bIzlDNkJGRl0nLCAnYmctWyM5QzZCRkZdLzEwJyk7XG4gICAgfSk7XG4gICAgaW1wb3J0RHJvcHpvbmU/LmFkZEV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCAoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaW1wb3J0RHJvcHpvbmUuY2xhc3NMaXN0LnJlbW92ZSgnYm9yZGVyLVsjOUM2QkZGXScsICdiZy1bIzlDNkJGRl0vMTAnKTtcbiAgICAgIGhhbmRsZUltcG9ydEZpbGVzKGUuZGF0YVRyYW5zZmVyLmZpbGVzKTtcbiAgICB9KTtcbiAgICBpbXBvcnRTdWJtaXQ/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZXhlY3V0ZUltcG9ydCk7XG4gICAgLy8gUGFzdGUgSlNPTiBoYW5kbGVyc1xuICAgIGltcG9ydFBhc3RlSW5wdXQ/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgdXBkYXRlSW1wb3J0U3VibWl0U3RhdGUoKTtcbiAgICB9KTtcbiAgICBwYXN0ZUZvcm1hdEJ0bj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmb3JtYXRQYXN0ZUpzb24pO1xuICAgIC8vIEltcG9ydCB0YWJzXG4gICAgaW1wb3J0VGFicy5mb3JFYWNoKCh0YWIpID0+IHtcbiAgICAgIHRhYi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgY29uc3QgdGFyZ2V0UGFuZWwgPSB0YWIuZGF0YXNldC5pbXBvcnRUYWI7XG4gICAgICAgIGFjdGl2ZUltcG9ydFRhYiA9IHRhcmdldFBhbmVsO1xuICAgICAgICBpbXBvcnRUYWJzLmZvckVhY2goKHQpID0+IHtcbiAgICAgICAgICBpZiAodC5kYXRhc2V0LmltcG9ydFRhYiA9PT0gdGFyZ2V0UGFuZWwpIHtcbiAgICAgICAgICAgIHQuY2xhc3NMaXN0LmFkZCgnYmctWyM5QzZCRkZdJywgJ3RleHQtd2hpdGUnKTtcbiAgICAgICAgICAgIHQuY2xhc3NMaXN0LnJlbW92ZSgnYm9yZGVyJywgJ2JvcmRlci1zbGF0ZS0yMDAnLCAndGV4dC1zbGF0ZS03MDAnKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdC5jbGFzc0xpc3QucmVtb3ZlKCdiZy1bIzlDNkJGRl0nLCAndGV4dC13aGl0ZScpO1xuICAgICAgICAgICAgdC5jbGFzc0xpc3QuYWRkKCdib3JkZXInLCAnYm9yZGVyLXNsYXRlLTIwMCcsICd0ZXh0LXNsYXRlLTcwMCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGltcG9ydFBhbmVscy5mb3JFYWNoKChwKSA9PiB7XG4gICAgICAgICAgaWYgKHAuZGF0YXNldC5pbXBvcnRQYW5lbCA9PT0gdGFyZ2V0UGFuZWwpIHtcbiAgICAgICAgICAgIHAuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHAuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdXBkYXRlSW1wb3J0U3VibWl0U3RhdGUoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGNvcHlUZW1wbGF0ZUJ0bj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXRlbXBsYXRlSnNvbikgcmV0dXJuO1xuICAgICAgY29uc3QgdGV4dCA9IHRlbXBsYXRlSnNvbi50ZXh0Q29udGVudCB8fCAnJztcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KHRleHQpO1xuICAgICAgICBzaG93VG9hc3QoJ1RlbXBsYXRlIGNvcGlcdTAwRTkgIScpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tpbXBvcnRdIGNvcHkgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KCdFcnJldXIgY29waWUnKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIERlbGV0ZSBwYWdlIG1vZGFsIGxpc3RlbmVyc1xuICAgIGRlbGV0ZVBhZ2VDYW5jZWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VEZWxldGVQYWdlTW9kYWwpO1xuICAgIGRlbGV0ZVBhZ2VDb25maXJtPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGV4ZWN1dGVEZWxldGVQYWdlKTtcbiAgICBkZWxldGVQYWdlTW9kYWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGlmIChlLnRhcmdldCA9PT0gZGVsZXRlUGFnZU1vZGFsKSBjbG9zZURlbGV0ZVBhZ2VNb2RhbCgpO1xuICAgIH0pO1xuXG4gICAgYmxvY2tMaWJyYXJ5VG9nZ2xlPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB0b2dnbGVCbG9ja0xpYnJhcnkoKTtcbiAgICB9KTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgaWYgKCFibG9ja0xpYnJhcnlPcGVuKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChcbiAgICAgICAgYmxvY2tMaWJyYXJ5Py5jb250YWlucyhldmVudC50YXJnZXQpIHx8XG4gICAgICAgIGJsb2NrTGlicmFyeVRvZ2dsZT8uY29udGFpbnMoZXZlbnQudGFyZ2V0KVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNsb3NlQmxvY2tMaWJyYXJ5KCk7XG4gICAgfSk7XG4gICAgYmxvY2tBZGRCdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBjb25zdCB0eXBlID0gYnV0dG9uLmRhdGFzZXQuYmxvY2tBZGQ7XG4gICAgICAgIGFkZEJsb2NrRnJvbUxpYnJhcnkodHlwZSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBibG9ja0RlbGV0ZUNhbmNlbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjbG9zZUJsb2NrRGVsZXRlTW9kYWwoKTtcbiAgICB9KTtcbiAgICBibG9ja0RlbGV0ZUNvbmZpcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgaWYgKHBlbmRpbmdEZWxldGVCbG9ja0lkKSB7XG4gICAgICAgIGRlbGV0ZUJsb2NrQnlJZChwZW5kaW5nRGVsZXRlQmxvY2tJZCk7XG4gICAgICB9XG4gICAgICBjbG9zZUJsb2NrRGVsZXRlTW9kYWwoKTtcbiAgICB9KTtcbiAgICBibG9ja0RlbGV0ZU1vZGFsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gYmxvY2tEZWxldGVNb2RhbCkge1xuICAgICAgICBjbG9zZUJsb2NrRGVsZXRlTW9kYWwoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBibG9ja0Zvcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQ7XG4gICAgICBpZiAoIXRhcmdldCB8fCAhdGFyZ2V0Lm5hbWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gTWluaSBwcmV2aWV3IHBvdXIgZ3JvdXBlXG4gICAgICBpZiAodGFyZ2V0Lm5hbWUgPT09ICdncm91cC1jb2x1bW5zLW1vYmlsZScgfHwgdGFyZ2V0Lm5hbWUgPT09ICdncm91cC1jb2x1bW5zLWRlc2t0b3AnKSB7XG4gICAgICAgIGNvbnN0IG1vYmlsZVZhbHVlID1cbiAgICAgICAgICBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJncm91cC1jb2x1bW5zLW1vYmlsZVwiXScpPy52YWx1ZSB8fCAnMSc7XG4gICAgICAgIGNvbnN0IGRlc2t0b3BWYWx1ZSA9XG4gICAgICAgICAgYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZ3JvdXAtY29sdW1ucy1kZXNrdG9wXCJdJyk/LnZhbHVlIHx8ICczJztcbiAgICAgICAgdXBkYXRlR3JvdXBNaW5pUHJldmlldyhtb2JpbGVWYWx1ZSwgZGVza3RvcFZhbHVlKTtcbiAgICAgIH1cbiAgICAgIC8vIE1pbmkgcHJldmlldyBwb3VyIGNvbGxlY3Rpb25cbiAgICAgIGlmICh0YXJnZXQubmFtZSA9PT0gJ2NvbGxlY3Rpb24tY29sdW1ucy1tb2JpbGUnIHx8IHRhcmdldC5uYW1lID09PSAnY29sbGVjdGlvbi1jb2x1bW5zLWRlc2t0b3AnKSB7XG4gICAgICAgIGNvbnN0IG1vYmlsZVZhbHVlID1cbiAgICAgICAgICBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJjb2xsZWN0aW9uLWNvbHVtbnMtbW9iaWxlXCJdJyk/LnZhbHVlIHx8ICcxJztcbiAgICAgICAgY29uc3QgZGVza3RvcFZhbHVlID1cbiAgICAgICAgICBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJjb2xsZWN0aW9uLWNvbHVtbnMtZGVza3RvcFwiXScpPy52YWx1ZSB8fCAnMyc7XG4gICAgICAgIHVwZGF0ZUNvbGxlY3Rpb25NaW5pUHJldmlldyhtb2JpbGVWYWx1ZSwgZGVza3RvcFZhbHVlKTtcbiAgICAgIH1cbiAgICAgIC8vIERcdTAwRTl0ZWN0aW9uIHNpIG9uIGVzdCBkYW5zIGxlIHBhbmVsIEFwcGFyZW5jZSBcdTIxOTIgYXV0by1zYXZlXG4gICAgICBjb25zdCBwYW5lbCA9IHRhcmdldC5jbG9zZXN0KCdbZGF0YS1ibG9jay1wYW5lbF0nKTtcbiAgICAgIGlmIChwYW5lbCAmJiBwYW5lbC5kYXRhc2V0LmJsb2NrUGFuZWwgPT09ICdhcHBlYXJhbmNlJykge1xuICAgICAgICAvLyBBdXRvLXNhdmUgKyByZWZyZXNoIHByZXZpZXcgcG91ciBsJ2FwcGFyZW5jZVxuICAgICAgICBjb25zdCBibG9jayA9IGdldEFjdGl2ZUJsb2NrKCk7XG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IGdldEJsb2NrRm9ybUNvbmZpZyhibG9jayk7XG4gICAgICAgIGlmIChibG9jayAmJiBjb25maWcpIHtcbiAgICAgICAgICBjb25zdCB2YWx1ZXMgPSBjb2xsZWN0Rm9ybVZhbHVlcyhjb25maWcpO1xuICAgICAgICAgIGhhbmRsZUFwcGVhcmFuY2VDaGFuZ2UoYmxvY2suaWQsIHZhbHVlcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICAvLyBcdTAwQzlnYWxlbWVudCBzdXIgJ2NoYW5nZScgcG91ciBsZXMgc2VsZWN0c1xuICAgIGJsb2NrRm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQ7XG4gICAgICBpZiAoIXRhcmdldCB8fCAhdGFyZ2V0Lm5hbWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gTWlzZSBcdTAwRTAgam91ciBkdSBwcmV2aWV3IGRlIGNvdWxldXIgcG91ciBsZXMgY29sb3Igc2VsZWN0c1xuICAgICAgaWYgKHRhcmdldC5oYXNBdHRyaWJ1dGUoJ2RhdGEtY29sb3Itc2VsZWN0JykpIHtcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRPcHRpb24gPSB0YXJnZXQub3B0aW9uc1t0YXJnZXQuc2VsZWN0ZWRJbmRleF07XG4gICAgICAgIGNvbnN0IGNvbG9yID0gc2VsZWN0ZWRPcHRpb24/LmRhdGFzZXQ/LmNvbG9yIHx8ICcjZmZmZmZmJztcbiAgICAgICAgY29uc3QgY29sb3JQcmV2aWV3ID0gdGFyZ2V0LmNsb3Nlc3QoJy5yZWxhdGl2ZScpPy5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xvci1wcmV2aWV3XScpO1xuICAgICAgICBpZiAoY29sb3JQcmV2aWV3KSB7XG4gICAgICAgICAgaWYgKGNvbG9yID09PSAndHJhbnNwYXJlbnQnKSB7XG4gICAgICAgICAgICBjb2xvclByZXZpZXcuc3R5bGUuYmFja2dyb3VuZCA9ICdyZXBlYXRpbmctY29uaWMtZ3JhZGllbnQoI2NjYyAwJSAyNSUsIHdoaXRlIDAlIDUwJSkgNTAlIC8gOHB4IDhweCc7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbG9yUHJldmlldy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBjb2xvcjtcbiAgICAgICAgICAgIGNvbG9yUHJldmlldy5zdHlsZS5iYWNrZ3JvdW5kID0gJyc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb25zdCBwYW5lbCA9IHRhcmdldC5jbG9zZXN0KCdbZGF0YS1ibG9jay1wYW5lbF0nKTtcbiAgICAgIGlmIChwYW5lbCAmJiBwYW5lbC5kYXRhc2V0LmJsb2NrUGFuZWwgPT09ICdhcHBlYXJhbmNlJykge1xuICAgICAgICBjb25zdCBibG9jayA9IGdldEFjdGl2ZUJsb2NrKCk7XG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IGdldEJsb2NrRm9ybUNvbmZpZyhibG9jayk7XG4gICAgICAgIGlmIChibG9jayAmJiBjb25maWcpIHtcbiAgICAgICAgICBjb25zdCB2YWx1ZXMgPSBjb2xsZWN0Rm9ybVZhbHVlcyhjb25maWcpO1xuICAgICAgICAgIGhhbmRsZUFwcGVhcmFuY2VDaGFuZ2UoYmxvY2suaWQsIHZhbHVlcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICBjb2xsZWN0aW9uU2VsZWN0Py5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICAgIHN5bmNDb2xsZWN0aW9uU2VsZWN0aW9uSW5mbyh0YXJnZXQ/LnZhbHVlIHx8ICcnKTtcbiAgICB9KTtcbiAgICBibG9ja0Zvcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGhhbmRsZUJsb2NrRm9ybVN1Ym1pdCk7XG4gICAgYmxvY2tGb3JtQ2FuY2VsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGNvbnN0IGJsb2NrID0gZ2V0QWN0aXZlQmxvY2soKTtcbiAgICAgIGlmIChibG9jaykge1xuICAgICAgICBwb3B1bGF0ZUJsb2NrRm9ybShibG9jayk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcHJldmlld0ZyYW1lPy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xuICAgICAgcHJldmlld1JlYWR5ID0gdHJ1ZTtcbiAgICAgIHVwZGF0ZVByZXZpZXdTdGF0dXMoJ1x1MDBDMCBqb3VyJyk7XG4gICAgICBhcHBseVByZXZpZXdIaWdobGlnaHQoYWN0aXZlQmxvY2tJZCk7XG4gICAgfSk7XG4gICAgcHJldmlld09wZW5CdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgcHJldmlld1dpbmRvdyA9IHdpbmRvdy5vcGVuKCcnLCAnX2JsYW5rJyk7XG4gICAgICBpZiAoIXByZXZpZXdXaW5kb3cpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcHJldmlld1dpbmRvdy5vcGVuZXIgPSBudWxsO1xuICAgICAgY29uc3QgZG9jID0gcHJldmlld1dpbmRvdy5kb2N1bWVudDtcbiAgICAgIGRvYy5vcGVuKCk7XG4gICAgICBkb2Mud3JpdGUobGF0ZXN0UHJldmlld0h0bWwgfHwgZ2V0TG9hZGluZ1ByZXZpZXdIdG1sKCkpO1xuICAgICAgZG9jLmNsb3NlKCk7XG4gICAgfSk7XG5cbiAgICAvLyBTRU8gcGFuZWwgbG9naWNcbiAgICBjb25zdCB0b2dnbGVTZW9QYW5lbCA9IChzaG93KSA9PiB7XG4gICAgICBpZiAoIXNlb1BhbmVsKSByZXR1cm47XG4gICAgICBpZiAoc2hvdykge1xuICAgICAgICBzZW9QYW5lbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgLy8gUG9wdWxhdGUgZmllbGRzIHdpdGggY3VycmVudCBwYWdlIFNFTyBkYXRhXG4gICAgICAgIGlmIChjdXJyZW50UGFnZSkge1xuICAgICAgICAgIHNlb1RpdGxlSW5wdXQgJiYgKHNlb1RpdGxlSW5wdXQudmFsdWUgPSBjdXJyZW50UGFnZS5zZW8/LnRpdGxlIHx8ICcnKTtcbiAgICAgICAgICBzZW9EZXNjcmlwdGlvbklucHV0ICYmIChzZW9EZXNjcmlwdGlvbklucHV0LnZhbHVlID0gY3VycmVudFBhZ2Uuc2VvPy5kZXNjcmlwdGlvbiB8fCAnJyk7XG4gICAgICAgICAgLy8gaW5kZXhlZDogdHJ1ZSBieSBkZWZhdWx0IGlmIG5vdCBleHBsaWNpdGx5IHNldCB0byBmYWxzZVxuICAgICAgICAgIHNlb0luZGV4ZWRDaGVja2JveCAmJiAoc2VvSW5kZXhlZENoZWNrYm94LmNoZWNrZWQgPSBjdXJyZW50UGFnZS5zZW8/LmluZGV4ZWQgIT09IGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2VvUGFuZWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBzZXRTZW9GZWVkYmFjayA9IChtZXNzYWdlLCB0b25lID0gJ211dGVkJykgPT4ge1xuICAgICAgaWYgKCFzZW9GZWVkYmFjaykgcmV0dXJuO1xuICAgICAgY29uc3QgY29sb3IgPSB0b25lID09PSAnc3VjY2VzcycgPyAndGV4dC1lbWVyYWxkLTYwMCcgOiB0b25lID09PSAnZXJyb3InID8gJ3RleHQtcm9zZS02MDAnIDogJ3RleHQtc2xhdGUtNTAwJztcbiAgICAgIHNlb0ZlZWRiYWNrLnRleHRDb250ZW50ID0gbWVzc2FnZSB8fCAnJztcbiAgICAgIHNlb0ZlZWRiYWNrLmNsYXNzTmFtZSA9IGB0ZXh0LXNtICR7Y29sb3J9YDtcbiAgICB9O1xuICAgIHNlb1RvZ2dsZUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBpc1Zpc2libGUgPSBzZW9QYW5lbCAmJiAhc2VvUGFuZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdoaWRkZW4nKTtcbiAgICAgIHRvZ2dsZVNlb1BhbmVsKCFpc1Zpc2libGUpO1xuICAgIH0pO1xuICAgIHNlb0Nsb3NlQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRvZ2dsZVNlb1BhbmVsKGZhbHNlKSk7XG4gICAgc2VvRm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSkge1xuICAgICAgICBzZXRTZW9GZWVkYmFjaygnQXVjdW5lIHBhZ2UgYWN0aXZlLicsICdlcnJvcicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZW9TYXZlQnV0dG9uICYmIChzZW9TYXZlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZSk7XG4gICAgICBzZXRTZW9GZWVkYmFjaygnJyk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBzZW9EYXRhID0ge1xuICAgICAgICAgIHRpdGxlOiAoc2VvVGl0bGVJbnB1dD8udmFsdWUgfHwgJycpLnRyaW0oKSxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogKHNlb0Rlc2NyaXB0aW9uSW5wdXQ/LnZhbHVlIHx8ICcnKS50cmltKCksXG4gICAgICAgICAgaW5kZXhlZDogc2VvSW5kZXhlZENoZWNrYm94Py5jaGVja2VkID8/IHRydWUsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRQYWdlID0geyAuLi5jdXJyZW50UGFnZSwgc2VvOiBzZW9EYXRhIH07XG4gICAgICAgIGNvbnN0IHNhdmVkID0gYXdhaXQgc2F2ZVBhZ2VUb1NlcnZlcih1cGRhdGVkUGFnZSk7XG4gICAgICAgIGlmIChzYXZlZCkge1xuICAgICAgICAgIGN1cnJlbnRQYWdlID0gc2F2ZWQ7XG4gICAgICAgICAgc2V0U2VvRmVlZGJhY2soJ1NFTyBlbnJlZ2lzdHJcdTAwRTkuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgICBzaG93VG9hc3QoJ1NFTyBtaXMgXHUwMEUwIGpvdXInKTtcbiAgICAgICAgICByZWZyZXNoUHJldmlldyhjdXJyZW50UGFnZSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbc2VvXSBzYXZlIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNldFNlb0ZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsYSBzYXV2ZWdhcmRlLicsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2VvU2F2ZUJ1dHRvbiAmJiAoc2VvU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGNvbnN0IHN5bmNQYWdlQWNjZXNzaWJpbGl0eUZpZWxkcyA9ICgpID0+IHtcbiAgICAgIGlmICghcGFnZUFjY2Vzc2liaWxpdHlOYXZDaGVja2JveCAmJiAhcGFnZUFjY2Vzc2liaWxpdHlNYWluSW5wdXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFjdXJyZW50UGFnZSkge1xuICAgICAgICBwYWdlQWNjZXNzaWJpbGl0eU5hdkNoZWNrYm94ICYmIChwYWdlQWNjZXNzaWJpbGl0eU5hdkNoZWNrYm94LmNoZWNrZWQgPSB0cnVlKTtcbiAgICAgICAgcGFnZUFjY2Vzc2liaWxpdHlNYWluSW5wdXQgJiYgKHBhZ2VBY2Nlc3NpYmlsaXR5TWFpbklucHV0LnZhbHVlID0gJycpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAocGFnZUFjY2Vzc2liaWxpdHlOYXZDaGVja2JveCkge1xuICAgICAgICBwYWdlQWNjZXNzaWJpbGl0eU5hdkNoZWNrYm94LmNoZWNrZWQgPVxuICAgICAgICAgIGN1cnJlbnRQYWdlLmFjY2Vzc2liaWxpdHk/LnNob3dJbk1haW5OYXYgIT09IGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKHBhZ2VBY2Nlc3NpYmlsaXR5TWFpbklucHV0KSB7XG4gICAgICAgIHBhZ2VBY2Nlc3NpYmlsaXR5TWFpbklucHV0LnZhbHVlID0gY3VycmVudFBhZ2UuYWNjZXNzaWJpbGl0eT8ubWFpbkxhYmVsIHx8ICcnO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCB0b2dnbGVQYWdlQWNjZXNzaWJpbGl0eVBhbmVsID0gKHNob3cpID0+IHtcbiAgICAgIGlmICghcGFnZUFjY2Vzc2liaWxpdHlQYW5lbCkgcmV0dXJuO1xuICAgICAgaWYgKHNob3cpIHtcbiAgICAgICAgc3luY1BhZ2VBY2Nlc3NpYmlsaXR5RmllbGRzKCk7XG4gICAgICAgIHBhZ2VBY2Nlc3NpYmlsaXR5UGFuZWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYWdlQWNjZXNzaWJpbGl0eVBhbmVsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBzZXRQYWdlQWNjZXNzaWJpbGl0eUZlZWRiYWNrID0gKG1lc3NhZ2UsIHRvbmUgPSAnbXV0ZWQnKSA9PiB7XG4gICAgICBpZiAoIXBhZ2VBY2Nlc3NpYmlsaXR5RmVlZGJhY2spIHJldHVybjtcbiAgICAgIGNvbnN0IGNvbG9yID1cbiAgICAgICAgdG9uZSA9PT0gJ3N1Y2Nlc3MnXG4gICAgICAgICAgPyAndGV4dC1lbWVyYWxkLTYwMCdcbiAgICAgICAgICA6IHRvbmUgPT09ICdlcnJvcidcbiAgICAgICAgICAgID8gJ3RleHQtcm9zZS02MDAnXG4gICAgICAgICAgICA6ICd0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICBwYWdlQWNjZXNzaWJpbGl0eUZlZWRiYWNrLnRleHRDb250ZW50ID0gbWVzc2FnZSB8fCAnJztcbiAgICAgIHBhZ2VBY2Nlc3NpYmlsaXR5RmVlZGJhY2suY2xhc3NOYW1lID0gYHRleHQtc20gJHtjb2xvcn1gO1xuICAgIH07XG5cbiAgICBwYWdlQWNjZXNzaWJpbGl0eVRvZ2dsZUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBpc1Zpc2libGUgPVxuICAgICAgICBwYWdlQWNjZXNzaWJpbGl0eVBhbmVsICYmICFwYWdlQWNjZXNzaWJpbGl0eVBhbmVsLmNsYXNzTGlzdC5jb250YWlucygnaGlkZGVuJyk7XG4gICAgICB0b2dnbGVQYWdlQWNjZXNzaWJpbGl0eVBhbmVsKCFpc1Zpc2libGUpO1xuICAgIH0pO1xuICAgIHBhZ2VBY2Nlc3NpYmlsaXR5Q2xvc2VCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT5cbiAgICAgIHRvZ2dsZVBhZ2VBY2Nlc3NpYmlsaXR5UGFuZWwoZmFsc2UpLFxuICAgICk7XG5cbiAgICBwYWdlQWNjZXNzaWJpbGl0eUZvcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmICghY3VycmVudFBhZ2UpIHtcbiAgICAgICAgc2V0UGFnZUFjY2Vzc2liaWxpdHlGZWVkYmFjaygnQXVjdW5lIHBhZ2UgYWN0aXZlLicsICdlcnJvcicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwYWdlQWNjZXNzaWJpbGl0eVNhdmVCdXR0b24gJiYgKHBhZ2VBY2Nlc3NpYmlsaXR5U2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWUpO1xuICAgICAgc2V0UGFnZUFjY2Vzc2liaWxpdHlGZWVkYmFjaygnJyk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBhY2Nlc3NpYmlsaXR5RGF0YSA9IHtcbiAgICAgICAgICBzaG93SW5NYWluTmF2OiBwYWdlQWNjZXNzaWJpbGl0eU5hdkNoZWNrYm94Py5jaGVja2VkID8/IHRydWUsXG4gICAgICAgICAgbWFpbkxhYmVsOiAocGFnZUFjY2Vzc2liaWxpdHlNYWluSW5wdXQ/LnZhbHVlIHx8ICcnKS50cmltKCksXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRQYWdlID0ge1xuICAgICAgICAgIC4uLmN1cnJlbnRQYWdlLFxuICAgICAgICAgIGFjY2Vzc2liaWxpdHk6IGFjY2Vzc2liaWxpdHlEYXRhLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBzYXZlZCA9IGF3YWl0IHNhdmVQYWdlVG9TZXJ2ZXIodXBkYXRlZFBhZ2UpO1xuICAgICAgICBpZiAoc2F2ZWQpIHtcbiAgICAgICAgICBjdXJyZW50UGFnZSA9IHNhdmVkO1xuICAgICAgICAgIHN5bmNQYWdlQWNjZXNzaWJpbGl0eUZpZWxkcygpO1xuICAgICAgICAgIHNldFBhZ2VBY2Nlc3NpYmlsaXR5RmVlZGJhY2soJ0FjY2Vzc2liaWxpdFx1MDBFOSBlbnJlZ2lzdHJcdTAwRTllLicsICdzdWNjZXNzJyk7XG4gICAgICAgICAgc2hvd1RvYXN0KCdBY2Nlc3NpYmlsaXRcdTAwRTkgbWlzZSBcdTAwRTAgam91cicpO1xuICAgICAgICAgIHJlbmRlclBhZ2VMaXN0cyhwYWdlcywgYWN0aXZlUGFnZUlkKTtcbiAgICAgICAgICByZWZyZXNoUHJldmlldyhjdXJyZW50UGFnZSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbYWNjZXNzaWJpbGl0eV0gc2F2ZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzZXRQYWdlQWNjZXNzaWJpbGl0eUZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsYSBzYXV2ZWdhcmRlLicsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgcGFnZUFjY2Vzc2liaWxpdHlTYXZlQnV0dG9uICYmIChwYWdlQWNjZXNzaWJpbGl0eVNhdmVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBQYWdlIHByb3BlcnRpZXMgcGFuZWwgbG9naWNcbiAgICBjb25zdCB0b2dnbGVQYWdlUHJvcHNQYW5lbCA9IChzaG93KSA9PiB7XG4gICAgICBpZiAoIXBhZ2VQcm9wc1BhbmVsKSByZXR1cm47XG4gICAgICBpZiAoc2hvdykge1xuICAgICAgICBwYWdlUHJvcHNQYW5lbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgLy8gUG9wdWxhdGUgZmllbGRzIHdpdGggY3VycmVudCBwYWdlIGRhdGFcbiAgICAgICAgaWYgKGN1cnJlbnRQYWdlKSB7XG4gICAgICAgICAgcGFnZU5hbWVJbnB1dCAmJiAocGFnZU5hbWVJbnB1dC52YWx1ZSA9IGN1cnJlbnRQYWdlLm5hbWUgfHwgJycpO1xuICAgICAgICAgIHBhZ2VUaXRsZUlucHV0ICYmIChwYWdlVGl0bGVJbnB1dC52YWx1ZSA9IGN1cnJlbnRQYWdlLnRpdGxlIHx8ICcnKTtcbiAgICAgICAgICBwYWdlU2x1Z0lucHV0ICYmIChwYWdlU2x1Z0lucHV0LnZhbHVlID0gY3VycmVudFBhZ2Uuc2x1ZyB8fCAnJyk7XG4gICAgICAgICAgcGFnZURlc2NyaXB0aW9uSW5wdXQgJiYgKHBhZ2VEZXNjcmlwdGlvbklucHV0LnZhbHVlID0gY3VycmVudFBhZ2UuZGVzY3JpcHRpb24gfHwgJycpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYWdlUHJvcHNQYW5lbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHNldFBhZ2VQcm9wc0ZlZWRiYWNrID0gKG1lc3NhZ2UsIHRvbmUgPSAnbXV0ZWQnKSA9PiB7XG4gICAgICBpZiAoIXBhZ2VQcm9wc0ZlZWRiYWNrKSByZXR1cm47XG4gICAgICBjb25zdCBjb2xvciA9IHRvbmUgPT09ICdzdWNjZXNzJyA/ICd0ZXh0LWVtZXJhbGQtNjAwJyA6IHRvbmUgPT09ICdlcnJvcicgPyAndGV4dC1yb3NlLTYwMCcgOiAndGV4dC1zbGF0ZS01MDAnO1xuICAgICAgcGFnZVByb3BzRmVlZGJhY2sudGV4dENvbnRlbnQgPSBtZXNzYWdlIHx8ICcnO1xuICAgICAgcGFnZVByb3BzRmVlZGJhY2suY2xhc3NOYW1lID0gYHRleHQtc20gJHtjb2xvcn1gO1xuICAgIH07XG4gICAgcGFnZVByb3BzVG9nZ2xlQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IGlzVmlzaWJsZSA9IHBhZ2VQcm9wc1BhbmVsICYmICFwYWdlUHJvcHNQYW5lbC5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpO1xuICAgICAgdG9nZ2xlUGFnZVByb3BzUGFuZWwoIWlzVmlzaWJsZSk7XG4gICAgfSk7XG4gICAgcGFnZVByb3BzQ2xvc2VCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdG9nZ2xlUGFnZVByb3BzUGFuZWwoZmFsc2UpKTtcbiAgICBwYWdlUHJvcHNGb3JtPy5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlKSB7XG4gICAgICAgIHNldFBhZ2VQcm9wc0ZlZWRiYWNrKCdBdWN1bmUgcGFnZSBhY3RpdmUuJywgJ2Vycm9yJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHBhZ2VQcm9wc1NhdmVCdXR0b24gJiYgKHBhZ2VQcm9wc1NhdmVCdXR0b24uZGlzYWJsZWQgPSB0cnVlKTtcbiAgICAgIHNldFBhZ2VQcm9wc0ZlZWRiYWNrKCcnKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IG5ld05hbWUgPSAocGFnZU5hbWVJbnB1dD8udmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgICAgY29uc3QgbmV3VGl0bGUgPSAocGFnZVRpdGxlSW5wdXQ/LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICAgIGNvbnN0IG5ld1NsdWcgPSAocGFnZVNsdWdJbnB1dD8udmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgICAgY29uc3QgbmV3RGVzY3JpcHRpb24gPSAocGFnZURlc2NyaXB0aW9uSW5wdXQ/LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICAgIFxuICAgICAgICAvLyBWYWxpZGF0aW9uIGJhc2lxdWVcbiAgICAgICAgaWYgKCFuZXdUaXRsZSkge1xuICAgICAgICAgIHNldFBhZ2VQcm9wc0ZlZWRiYWNrKCdMZSB0aXRyZSBlc3QgcmVxdWlzLicsICdlcnJvcicpO1xuICAgICAgICAgIHBhZ2VQcm9wc1NhdmVCdXR0b24gJiYgKHBhZ2VQcm9wc1NhdmVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghbmV3U2x1ZyB8fCAhbmV3U2x1Zy5zdGFydHNXaXRoKCcvJykpIHtcbiAgICAgICAgICBzZXRQYWdlUHJvcHNGZWVkYmFjaygnTGUgc2x1ZyBkb2l0IGNvbW1lbmNlciBwYXIgLy4nLCAnZXJyb3InKTtcbiAgICAgICAgICBwYWdlUHJvcHNTYXZlQnV0dG9uICYmIChwYWdlUHJvcHNTYXZlQnV0dG9uLmRpc2FibGVkID0gZmFsc2UpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgY29uc3QgdXBkYXRlZFBhZ2UgPSB7XG4gICAgICAgICAgLi4uY3VycmVudFBhZ2UsXG4gICAgICAgICAgbmFtZTogbmV3TmFtZSB8fCBuZXdUaXRsZSwgLy8gRmFsbGJhY2sgdG8gdGl0bGUgaWYgbmFtZSBpcyBlbXB0eVxuICAgICAgICAgIHRpdGxlOiBuZXdUaXRsZSxcbiAgICAgICAgICBzbHVnOiBuZXdTbHVnLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBuZXdEZXNjcmlwdGlvbixcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3Qgc2F2ZWQgPSBhd2FpdCBzYXZlUGFnZVRvU2VydmVyKHVwZGF0ZWRQYWdlKTtcbiAgICAgICAgaWYgKHNhdmVkKSB7XG4gICAgICAgICAgY3VycmVudFBhZ2UgPSBzYXZlZDtcbiAgICAgICAgICAvLyBVcGRhdGUgcGFnZXMgYXJyYXlcbiAgICAgICAgICBwYWdlcyA9IHBhZ2VzLm1hcCgocCkgPT4gKHAuaWQgPT09IHNhdmVkLmlkID8gc2F2ZWQgOiBwKSk7XG4gICAgICAgICAgc2V0UGFnZVByb3BzRmVlZGJhY2soJ1Byb3ByaVx1MDBFOXRcdTAwRTlzIGVucmVnaXN0clx1MDBFOWVzLicsICdzdWNjZXNzJyk7XG4gICAgICAgICAgc2hvd1RvYXN0KCdQYWdlIG1pc2UgXHUwMEUwIGpvdXInKTtcbiAgICAgICAgICAvLyBVcGRhdGUgVUlcbiAgICAgICAgICBzZXRBY3RpdmVMYWJlbHMoY3VycmVudFBhZ2UpO1xuICAgICAgICAgIHJlbmRlclBhZ2VMaXN0cyhwYWdlcywgYWN0aXZlUGFnZUlkKTtcbiAgICAgICAgICByZWZyZXNoUHJldmlldyhjdXJyZW50UGFnZSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbcGFnZS1wcm9wc10gc2F2ZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzZXRQYWdlUHJvcHNGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZGUgbGEgc2F1dmVnYXJkZS4nLCAnZXJyb3InKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHBhZ2VQcm9wc1NhdmVCdXR0b24gJiYgKHBhZ2VQcm9wc1NhdmVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBjb25zdCBoYW5kbGVCbG9ja0RyYWdTdGFydCA9IChldmVudCkgPT4ge1xuICAgICAgY29uc3QgaXRlbSA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCdbZGF0YS1ibG9jay1pdGVtXScpO1xuICAgICAgaWYgKCFpdGVtIHx8ICFpc0Rlc2t0b3BSZW9yZGVyKCkpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZHJhZ1NvdXJjZUlkID0gaXRlbS5kYXRhc2V0LmJsb2NrSWQgfHwgbnVsbDtcbiAgICAgIGlmICghZHJhZ1NvdXJjZUlkKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGV2ZW50LmRhdGFUcmFuc2Zlci5lZmZlY3RBbGxvd2VkID0gJ21vdmUnO1xuICAgICAgZXZlbnQuZGF0YVRyYW5zZmVyLnNldERhdGEoJ3RleHQvcGxhaW4nLCBkcmFnU291cmNlSWQpO1xuICAgICAgLy8gU3R5bGUgZHUgYmxvYyBlbiBjb3VycyBkZSBkcmFnXG4gICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICBpdGVtLmNsYXNzTGlzdC5hZGQoJ29wYWNpdHktNTAnLCAnc2NhbGUtWzAuOThdJywgJ3NoYWRvdy1sZycsICdyaW5nLTInLCAncmluZy1bIzlDNkJGRl0nKTtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgY29uc3QgY2xlYXJEcmFnSW5kaWNhdG9ycyA9ICgpID0+IHtcbiAgICAgIGJsb2NrTGlzdFxuICAgICAgICA/LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWJsb2NrLWl0ZW1dJylcbiAgICAgICAgLmZvckVhY2goKG5vZGUpID0+IHtcbiAgICAgICAgICBub2RlLmNsYXNzTGlzdC5yZW1vdmUoXG4gICAgICAgICAgICAnb3BhY2l0eS01MCcsICdzY2FsZS1bMC45OF0nLCAnc2hhZG93LWxnJywgJ3JpbmctMicsICdyaW5nLVsjOUM2QkZGXScsXG4gICAgICAgICAgICAnYm9yZGVyLXQtNCcsICdib3JkZXItYi00JywgJ2JvcmRlci10LVsjOUM2QkZGXScsICdib3JkZXItYi1bIzlDNkJGRl0nLFxuICAgICAgICAgICAgJ3B0LTYnLCAncGItNidcbiAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZUJsb2NrRHJhZ0VuZCA9ICgpID0+IHtcbiAgICAgIGRyYWdTb3VyY2VJZCA9IG51bGw7XG4gICAgICBjbGVhckRyYWdJbmRpY2F0b3JzKCk7XG4gICAgfTtcbiAgICBjb25zdCBoYW5kbGVCbG9ja0RyYWdPdmVyID0gKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoIWRyYWdTb3VyY2VJZCB8fCAhaXNEZXNrdG9wUmVvcmRlcigpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCdbZGF0YS1ibG9jay1pdGVtXScpO1xuICAgICAgaWYgKCF0YXJnZXQgfHwgdGFyZ2V0LmRhdGFzZXQuYmxvY2tJZCA9PT0gZHJhZ1NvdXJjZUlkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBldmVudC5kYXRhVHJhbnNmZXIuZHJvcEVmZmVjdCA9ICdtb3ZlJztcbiAgICAgIC8vIERcdTAwRTl0ZXJtaW5lIHNpIG9uIGRyb3AgYXZhbnQgb3UgYXByXHUwMEU4c1xuICAgICAgY29uc3QgcmVjdCA9IHRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIGNvbnN0IG1pZFkgPSByZWN0LnRvcCArIHJlY3QuaGVpZ2h0IC8gMjtcbiAgICAgIGNvbnN0IGlzQWJvdmUgPSBldmVudC5jbGllbnRZIDwgbWlkWTtcbiAgICAgIC8vIE5ldHRvaWUgbGVzIGF1dHJlcyBpbmRpY2F0ZXVyc1xuICAgICAgYmxvY2tMaXN0Py5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1ibG9jay1pdGVtXScpLmZvckVhY2goKG5vZGUpID0+IHtcbiAgICAgICAgaWYgKG5vZGUgIT09IHRhcmdldCAmJiBub2RlLmRhdGFzZXQuYmxvY2tJZCAhPT0gZHJhZ1NvdXJjZUlkKSB7XG4gICAgICAgICAgbm9kZS5jbGFzc0xpc3QucmVtb3ZlKCdib3JkZXItdC00JywgJ2JvcmRlci1iLTQnLCAnYm9yZGVyLXQtWyM5QzZCRkZdJywgJ2JvcmRlci1iLVsjOUM2QkZGXScsICdwdC02JywgJ3BiLTYnKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICAvLyBBcHBsaXF1ZSBsJ2luZGljYXRldXIgZGUgcG9zaXRpb25cbiAgICAgIHRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKCdib3JkZXItdC00JywgJ2JvcmRlci1iLTQnLCAnYm9yZGVyLXQtWyM5QzZCRkZdJywgJ2JvcmRlci1iLVsjOUM2QkZGXScsICdwdC02JywgJ3BiLTYnKTtcbiAgICAgIGlmIChpc0Fib3ZlKSB7XG4gICAgICAgIHRhcmdldC5jbGFzc0xpc3QuYWRkKCdib3JkZXItdC00JywgJ2JvcmRlci10LVsjOUM2QkZGXScsICdwdC02Jyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0YXJnZXQuY2xhc3NMaXN0LmFkZCgnYm9yZGVyLWItNCcsICdib3JkZXItYi1bIzlDNkJGRl0nLCAncGItNicpO1xuICAgICAgfVxuICAgICAgdGFyZ2V0LmRhdGFzZXQuZHJvcFBvc2l0aW9uID0gaXNBYm92ZSA/ICdiZWZvcmUnIDogJ2FmdGVyJztcbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZUJsb2NrRHJhZ0xlYXZlID0gKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQuY2xvc2VzdCgnW2RhdGEtYmxvY2staXRlbV0nKTtcbiAgICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vIFZcdTAwRTlyaWZpZSBzaSBvbiBxdWl0dGUgdnJhaW1lbnQgbCdcdTAwRTlsXHUwMEU5bWVudCAocGFzIGp1c3RlIHZlcnMgdW4gZW5mYW50KVxuICAgICAgY29uc3QgcmVsYXRlZFRhcmdldCA9IGV2ZW50LnJlbGF0ZWRUYXJnZXQ7XG4gICAgICBpZiAocmVsYXRlZFRhcmdldCAmJiB0YXJnZXQuY29udGFpbnMocmVsYXRlZFRhcmdldCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoJ2JvcmRlci10LTQnLCAnYm9yZGVyLWItNCcsICdib3JkZXItdC1bIzlDNkJGRl0nLCAnYm9yZGVyLWItWyM5QzZCRkZdJywgJ3B0LTYnLCAncGItNicpO1xuICAgICAgZGVsZXRlIHRhcmdldC5kYXRhc2V0LmRyb3BQb3NpdGlvbjtcbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZUJsb2NrRHJvcCA9IChldmVudCkgPT4ge1xuICAgICAgaWYgKCFkcmFnU291cmNlSWQgfHwgIWlzRGVza3RvcFJlb3JkZXIoKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLWJsb2NrLWl0ZW1dJyk7XG4gICAgICBjb25zdCBzb3VyY2UgPSBkcmFnU291cmNlSWQ7XG4gICAgICBjb25zdCBkcm9wUG9zaXRpb24gPSB0YXJnZXQ/LmRhdGFzZXQuZHJvcFBvc2l0aW9uIHx8ICdhZnRlcic7XG4gICAgICBkcmFnU291cmNlSWQgPSBudWxsO1xuICAgICAgY2xlYXJEcmFnSW5kaWNhdG9ycygpO1xuICAgICAgY29uc3QgdGFyZ2V0SWQgPSB0YXJnZXQ/LmRhdGFzZXQuYmxvY2tJZCB8fCBudWxsO1xuICAgICAgaWYgKCF0YXJnZXRJZCB8fCBzb3VyY2UgPT09IHRhcmdldElkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHJlb3JkZXJCbG9ja3NXaXRoUG9zaXRpb24oc291cmNlLCB0YXJnZXRJZCwgZHJvcFBvc2l0aW9uKTtcbiAgICB9O1xuICAgIGxldCBkcmFnU291cmNlSWQgPSBudWxsO1xuICAgIGJsb2NrTGlzdD8uYWRkRXZlbnRMaXN0ZW5lcignZHJhZ3N0YXJ0JywgaGFuZGxlQmxvY2tEcmFnU3RhcnQpO1xuICAgIGJsb2NrTGlzdD8uYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2VuZCcsIGhhbmRsZUJsb2NrRHJhZ0VuZCk7XG4gICAgYmxvY2tMaXN0Py5hZGRFdmVudExpc3RlbmVyKCdkcmFnb3ZlcicsIGhhbmRsZUJsb2NrRHJhZ092ZXIpO1xuICAgIGJsb2NrTGlzdD8uYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2xlYXZlJywgaGFuZGxlQmxvY2tEcmFnTGVhdmUpO1xuICAgIGJsb2NrTGlzdD8uYWRkRXZlbnRMaXN0ZW5lcignZHJvcCcsIGhhbmRsZUJsb2NrRHJvcCk7XG4gICAgbG9hZFBhZ2VzRnJvbVNlcnZlcigpO1xuXG4gICAgLy8gXHUwMEM5Y291dGVyIGwnXHUwMEU5dlx1MDBFOW5lbWVudCBkZSByYWZyYVx1MDBFRWNoaXNzZW1lbnQgZFx1MDBFOWNsZW5jaFx1MDBFOSBwYXIgbCdJQVxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2FpLXBhZ2UtdXBkYXRlZCcsIGFzeW5jIChlKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZygnW2Rlc2lnbl0gUmFmcmFcdTAwRUVjaGlzc2VtZW50IGRcdTAwRTljbGVuY2hcdTAwRTkgcGFyIElBJywgZS5kZXRhaWwpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gUmVjaGFyZ2VyIGxlcyBwYWdlcyBkZXB1aXMgbGUgc2VydmV1clxuICAgICAgICBjb25zdCBsb2FkZWRQYWdlcyA9IGF3YWl0IGZldGNoUGFnZXNGcm9tU2VydmVyKCk7XG4gICAgICAgIHBhZ2VzID0gKEFycmF5LmlzQXJyYXkobG9hZGVkUGFnZXMpID8gbG9hZGVkUGFnZXMgOiBbXSkubWFwKChwYWdlKSA9PlxuICAgICAgICAgIG5vcm1hbGl6ZVBhZ2VEYXRhKHBhZ2UpLFxuICAgICAgICApO1xuICAgICAgICBcbiAgICAgICAgLy8gVHJvdXZlciBldCBtZXR0cmUgXHUwMEUwIGpvdXIgbGEgcGFnZSBhY3RpdmVcbiAgICAgICAgaWYgKGUuZGV0YWlsPy5wYWdlSWQpIHtcbiAgICAgICAgICBjb25zdCB1cGRhdGVkUGFnZSA9IHBhZ2VzLmZpbmQocCA9PiBwLmlkID09PSBlLmRldGFpbC5wYWdlSWQpO1xuICAgICAgICAgIGlmICh1cGRhdGVkUGFnZSkge1xuICAgICAgICAgICAgY3VycmVudFBhZ2UgPSB1cGRhdGVkUGFnZTtcbiAgICAgICAgICAgIGFjdGl2ZVBhZ2VJZCA9IHVwZGF0ZWRQYWdlLmlkO1xuICAgICAgICAgICAgLy8gUmFmcmFcdTAwRUVjaGlyIGxhIHByZXZpZXcgYXZlYyBsYSBwYWdlIG1pc2UgXHUwMEUwIGpvdXJcbiAgICAgICAgICAgIHJlZnJlc2hQcmV2aWV3KGN1cnJlbnRQYWdlKTtcbiAgICAgICAgICAgIC8vIFJhZnJhXHUwMEVFY2hpciBsYSBsaXN0ZSBkZXMgYmxvY3NcbiAgICAgICAgICAgIHJlbmRlckJsb2NrTGlzdChjdXJyZW50UGFnZSk7XG4gICAgICAgICAgICBzaG93VG9hc3QoJ1BhZ2UgbWlzZSBcdTAwRTAgam91ciBwYXIgbFxcJ0lBJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGFjdGl2ZVBhZ2VJZCkge1xuICAgICAgICAgIC8vIFJhZnJhXHUwMEVFY2hpciBsYSBwYWdlIGFjdGl2ZSBhY3R1ZWxsZVxuICAgICAgICAgIGNvbnN0IGFjdGl2ZVBhZ2UgPSBwYWdlcy5maW5kKHAgPT4gcC5pZCA9PT0gYWN0aXZlUGFnZUlkKTtcbiAgICAgICAgICBpZiAoYWN0aXZlUGFnZSkge1xuICAgICAgICAgICAgY3VycmVudFBhZ2UgPSBhY3RpdmVQYWdlO1xuICAgICAgICAgICAgcmVmcmVzaFByZXZpZXcoY3VycmVudFBhZ2UpO1xuICAgICAgICAgICAgcmVuZGVyQmxvY2tMaXN0KGN1cnJlbnRQYWdlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZGVzaWduXSBFcnJldXIgcmFmcmFcdTAwRUVjaGlzc2VtZW50IElBOicsIGVycik7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBpbml0Q29udGVudFdvcmtzcGFjZSgpIHtcbiAgICBjb25zdCBjb2xsZWN0aW9uTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbGxlY3Rpb24tbGlzdF0nKTtcbiAgICBpZiAoIWNvbGxlY3Rpb25MaXN0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIC8vIFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFxuICAgIC8vIEhFQURFUiAmIEZPT1RFUiBNQU5BR0VNRU5UXG4gICAgLy8gXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXG4gICAgY29uc3QgY29udGVudFZpZXdzID0ge1xuICAgICAgZW1wdHk6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbnRlbnQtdmlldz1cImVtcHR5XCJdJyksXG4gICAgICBoZWFkZXI6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbnRlbnQtdmlldz1cImhlYWRlclwiXScpLFxuICAgICAgY29sbGVjdGlvbjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29udGVudC12aWV3PVwiY29sbGVjdGlvblwiXScpLFxuICAgICAgZm9vdGVyOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb250ZW50LXZpZXc9XCJmb290ZXJcIl0nKSxcbiAgICB9O1xuICAgIGNvbnN0IGNvbnRlbnRTZWN0aW9uQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWNvbnRlbnQtc2VjdGlvbl0nKTtcbiAgICBjb25zdCBjb250ZW50U2VjdGlvblRyaWdnZXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtY29udGVudC1zZWN0aW9uLXRyaWdnZXJdJyk7XG4gICAgY29uc3QgY29udGVudERyYXdlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbnRlbnQtZHJhd2VyXScpO1xuICAgIGNvbnN0IGNvbnRlbnREcmF3ZXJCYWNrZHJvcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbnRlbnQtZHJhd2VyLWJhY2tkcm9wXScpO1xuICAgIGNvbnN0IGNvbnRlbnREcmF3ZXJPcGVuQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWNvbnRlbnQtZHJhd2VyLW9wZW5dJyk7XG4gICAgY29uc3QgY29udGVudERyYXdlckNsb3NlQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWNvbnRlbnQtZHJhd2VyLWNsb3NlXScpO1xuICAgIGNvbnN0IGhlYWRlclN0YXR1c0luZGljYXRvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWhlYWRlci1zdGF0dXNdJyk7XG4gICAgY29uc3QgZm9vdGVyU3RhdHVzSW5kaWNhdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZm9vdGVyLXN0YXR1c10nKTtcbiAgICBjb25zdCBjb2xsZWN0aW9uQ291bnRFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbGxlY3Rpb24tY291bnRdJyk7XG4gICAgXG4gICAgLy8gSGVhZGVyIGZpZWxkc1xuICAgIGNvbnN0IGhlYWRlckZpZWxkcyA9IHtcbiAgICAgIGxvZ286IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaGVhZGVyLWxvZ29cIl0nKSxcbiAgICAgIGxvZ29BbHQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaGVhZGVyLWxvZ28tYWx0XCJdJyksXG4gICAgICBsb2dvVXJsOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImhlYWRlci1sb2dvLXVybFwiXScpLFxuICAgICAgY3RhVGV4dDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJoZWFkZXItY3RhLXRleHRcIl0nKSxcbiAgICAgIGN0YVVybDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJoZWFkZXItY3RhLXVybFwiXScpLFxuICAgICAgY3RhU3R5bGU6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaGVhZGVyLWN0YS1zdHlsZVwiXScpLFxuICAgICAgcG9zaXRpb246IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaGVhZGVyLXBvc2l0aW9uXCJdJyksXG4gICAgICBiZzogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJoZWFkZXItYmdcIl0nKSxcbiAgICB9O1xuICAgIGNvbnN0IGhlYWRlck5hdkxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1oZWFkZXItbmF2LWxpc3RdJyk7XG4gICAgY29uc3QgaGVhZGVyTmF2QWRkQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaGVhZGVyLW5hdi1hZGRdJyk7XG4gICAgY29uc3QgaGVhZGVyU2F2ZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWhlYWRlci1zYXZlXScpO1xuICAgIGNvbnN0IGhlYWRlck5hdkl0ZW1UZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRlbXBsYXRlLWhlYWRlci1uYXYtaXRlbV0nKTtcbiAgICBjb25zdCBoZWFkZXJQYWdlc0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1oZWFkZXItcGFnZXMtbGlzdF0nKTtcbiAgICBsZXQgc2l0ZVBhZ2VzID0gW107IC8vIFBhZ2VzIGR1IHNpdGUgcG91ciBsZXMgY2hlY2tib3hlc1xuICAgIGxldCBzZWxlY3RlZE5hdlBhZ2VzID0gW107IC8vIFBhZ2VzIHNcdTAwRTlsZWN0aW9ublx1MDBFOWVzIHBvdXIgbGUgbWVudSAoYXZlYyBvcmRyZSlcbiAgICBcbiAgICAvLyBGb290ZXIgZmllbGRzXG4gICAgY29uc3QgZm9vdGVyRmllbGRzID0ge1xuICAgICAgbGlua2VkaW46IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZm9vdGVyLXNvY2lhbC1saW5rZWRpblwiXScpLFxuICAgICAgdHdpdHRlcjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJmb290ZXItc29jaWFsLXR3aXR0ZXJcIl0nKSxcbiAgICAgIGluc3RhZ3JhbTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJmb290ZXItc29jaWFsLWluc3RhZ3JhbVwiXScpLFxuICAgICAgZmFjZWJvb2s6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZm9vdGVyLXNvY2lhbC1mYWNlYm9va1wiXScpLFxuICAgICAgeW91dHViZTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJmb290ZXItc29jaWFsLXlvdXR1YmVcIl0nKSxcbiAgICAgIGdpdGh1YjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJmb290ZXItc29jaWFsLWdpdGh1YlwiXScpLFxuICAgICAgY29weXJpZ2h0OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImZvb3Rlci1jb3B5cmlnaHRcIl0nKSxcbiAgICAgIGxlZ2FsVXJsOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImZvb3Rlci1sZWdhbC11cmxcIl0nKSxcbiAgICAgIHByaXZhY3lVcmw6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZm9vdGVyLXByaXZhY3ktdXJsXCJdJyksXG4gICAgICBiZzogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJmb290ZXItYmdcIl0nKSxcbiAgICAgIGNvbHVtbnNDb3VudDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJmb290ZXItY29sdW1ucy1jb3VudFwiXScpLFxuICAgIH07XG4gICAgY29uc3QgZm9vdGVyQ29sdW1uc0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1mb290ZXItY29sdW1ucy1saXN0XScpO1xuICAgIGNvbnN0IGZvb3RlckNvbHVtbkFkZEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWZvb3Rlci1jb2x1bW4tYWRkXScpO1xuICAgIGNvbnN0IGZvb3RlclNhdmVCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1mb290ZXItc2F2ZV0nKTtcbiAgICBjb25zdCBmb290ZXJDb2x1bW5UZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRlbXBsYXRlLWZvb3Rlci1jb2x1bW5dJyk7XG4gICAgY29uc3QgZm9vdGVyTGlua1RlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtdGVtcGxhdGUtZm9vdGVyLWxpbmtdJyk7XG4gICAgXG4gICAgbGV0IGFjdGl2ZUNvbnRlbnRTZWN0aW9uID0gbnVsbDtcbiAgICBsZXQgaGVhZGVyRGF0YSA9IHsgbmF2OiBbXSwgbG9nbzoge30sIGN0YToge30sIHN0eWxlOiB7fSB9O1xuICAgIGxldCBmb290ZXJEYXRhID0geyBjb2x1bW5zOiBbXSwgc29jaWFsczoge30sIGNvcHlyaWdodDogJycsIGxlZ2FsOiB7fSwgc3R5bGU6IHt9IH07XG4gICAgXG4gICAgY29uc3Qgc2FmZVNpdGVTbHVnRm9yTGF5b3V0ID0gc3RyaXBMZWFkaW5nU2xhc2god29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyk7XG4gICAgY29uc3Qgc2x1ZyA9IHNhZmVTaXRlU2x1Z0ZvckxheW91dDsgLy8gQWxpYXMgcG91ciBsZXMgZm9uY3Rpb25zIHF1aSB1dGlsaXNlbnQgc2x1Z1xuICAgIGNvbnN0IGxheW91dEFwaUJhc2UgPSBzYWZlU2l0ZVNsdWdGb3JMYXlvdXQgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWdGb3JMYXlvdXQpfS9sYXlvdXRgIDogbnVsbDtcbiAgICBcbiAgICAvLyBWaWV3IHN3aXRjaGluZ1xuICAgIGNvbnN0IHNob3dDb250ZW50VmlldyA9ICh2aWV3TmFtZSkgPT4ge1xuICAgICAgT2JqZWN0LmVudHJpZXMoY29udGVudFZpZXdzKS5mb3JFYWNoKChbbmFtZSwgZWxdKSA9PiB7XG4gICAgICAgIGlmIChlbCkgZWwuY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZGVuJywgbmFtZSAhPT0gdmlld05hbWUpO1xuICAgICAgfSk7XG4gICAgICBjb250ZW50U2VjdGlvbkJ1dHRvbnMuZm9yRWFjaChidG4gPT4ge1xuICAgICAgICBjb25zdCBzZWN0aW9uID0gYnRuLmRhdGFzZXQuY29udGVudFNlY3Rpb247XG4gICAgICAgIGlmIChzZWN0aW9uID09PSB2aWV3TmFtZSkge1xuICAgICAgICAgIGJ0bi5kYXRhc2V0LmFjdGl2ZSA9ICd0cnVlJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkZWxldGUgYnRuLmRhdGFzZXQuYWN0aXZlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGFjdGl2ZUNvbnRlbnRTZWN0aW9uID0gdmlld05hbWU7XG4gICAgfTtcbiAgICBcbiAgICAvLyBEcmF3ZXIgbWFuYWdlbWVudFxuICAgIGNvbnN0IG9wZW5Db250ZW50RHJhd2VyID0gKCkgPT4ge1xuICAgICAgY29udGVudERyYXdlcj8uY2xhc3NMaXN0LmFkZCgnaXMtb3BlbicpO1xuICAgICAgY29udGVudERyYXdlciAmJiAoY29udGVudERyYXdlci5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWCgwKScpO1xuICAgICAgY29udGVudERyYXdlckJhY2tkcm9wPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnb3ZlcmZsb3ctaGlkZGVuJyk7XG4gICAgfTtcbiAgICBjb25zdCBjbG9zZUNvbnRlbnREcmF3ZXIgPSAoKSA9PiB7XG4gICAgICBjb250ZW50RHJhd2VyPy5jbGFzc0xpc3QucmVtb3ZlKCdpcy1vcGVuJyk7XG4gICAgICBjb250ZW50RHJhd2VyICYmIChjb250ZW50RHJhd2VyLnN0eWxlLnRyYW5zZm9ybSA9ICcnKTtcbiAgICAgIGNvbnRlbnREcmF3ZXJCYWNrZHJvcD8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ292ZXJmbG93LWhpZGRlbicpO1xuICAgIH07XG4gICAgXG4gICAgY29udGVudERyYXdlck9wZW5CdXR0b25zLmZvckVhY2goYnRuID0+IGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5Db250ZW50RHJhd2VyKSk7XG4gICAgY29udGVudERyYXdlckNsb3NlQnV0dG9ucy5mb3JFYWNoKGJ0biA9PiBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZUNvbnRlbnREcmF3ZXIpKTtcbiAgICBjb250ZW50RHJhd2VyQmFja2Ryb3A/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VDb250ZW50RHJhd2VyKTtcbiAgICBcbiAgICAvLyBTZWN0aW9uIGJ1dHRvbiBoYW5kbGVyc1xuICAgIGNvbnRlbnRTZWN0aW9uQnV0dG9ucy5mb3JFYWNoKGJ0biA9PiB7XG4gICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHNlY3Rpb24gPSBidG4uZGF0YXNldC5jb250ZW50U2VjdGlvbjtcbiAgICAgICAgaWYgKHNlY3Rpb24gPT09ICdoZWFkZXInIHx8IHNlY3Rpb24gPT09ICdmb290ZXInKSB7XG4gICAgICAgICAgc2hvd0NvbnRlbnRWaWV3KHNlY3Rpb24pO1xuICAgICAgICB9XG4gICAgICAgIGNsb3NlQ29udGVudERyYXdlcigpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgY29udGVudFNlY3Rpb25UcmlnZ2Vycy5mb3JFYWNoKGJ0biA9PiB7XG4gICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHNlY3Rpb24gPSBidG4uZGF0YXNldC5jb250ZW50U2VjdGlvblRyaWdnZXI7XG4gICAgICAgIGlmIChzZWN0aW9uKSBzaG93Q29udGVudFZpZXcoc2VjdGlvbik7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBcbiAgICAvLyBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcbiAgICAvLyBIRUFERVIgRlVOQ1RJT05TXG4gICAgLy8gXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXG4gICAgXG4gICAgLy8gQ2hhcmdlciBsYSBsaXN0ZSBkZXMgcGFnZXMgZHUgc2l0ZSBwb3VyIGxlcyBjaGVja2JveGVzXG4gICAgY29uc3QgbG9hZFNpdGVQYWdlc0ZvckhlYWRlciA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghc2x1ZyB8fCAhaGVhZGVyUGFnZXNMaXN0KSByZXR1cm47XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL3NpdGVzLyR7c2x1Z30vcGFnZXNgLCB7IGNyZWRlbnRpYWxzOiAnaW5jbHVkZScgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHRocm93IG5ldyBFcnJvcignRXJyZXVyIGNoYXJnZW1lbnQgcGFnZXMnKTtcbiAgICAgICAgc2l0ZVBhZ2VzID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICByZW5kZXJQYWdlQ2hlY2tib3hlcygpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1toZWFkZXJdIGxvYWQgcGFnZXMgZXJyb3InLCBlcnIpO1xuICAgICAgICBoZWFkZXJQYWdlc0xpc3QuaW5uZXJIVE1MID0gJzxwIGNsYXNzPVwidGV4dC14cyB0ZXh0LXJlZC01MDBcIj5FcnJldXIgY2hhcmdlbWVudCBwYWdlczwvcD4nO1xuICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgLy8gQWZmaWNoZXIgbGVzIGNoZWNrYm94ZXMgcG91ciBjaGFxdWUgcGFnZVxuICBjb25zdCBub3JtYWxpemVOYXZQYWdlVXJsID0gKHZhbHVlKSA9PiB7XG4gICAgY29uc3QgcmF3ID0gKHZhbHVlIHx8ICcnKS50b1N0cmluZygpLnRyaW0oKTtcbiAgICBpZiAoIXJhdyB8fCByYXcgPT09ICcvJyB8fCByYXcgPT09ICdpbmRleCcpIHtcbiAgICAgIHJldHVybiAnLyc7XG4gICAgfVxuICAgIGNvbnN0IGxvd2VyID0gcmF3LnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKHJhdy5zdGFydHNXaXRoKCcjJykpIHtcbiAgICAgIHJldHVybiByYXc7XG4gICAgfVxuICAgIGlmIChsb3dlci5zdGFydHNXaXRoKCdtYWlsdG86JykgfHwgbG93ZXIuc3RhcnRzV2l0aCgndGVsOicpKSB7XG4gICAgICByZXR1cm4gcmF3O1xuICAgIH1cbiAgICBpZiAoL15bYS16XSs6XFwvXFwvL2kudGVzdChyYXcpKSB7XG4gICAgICByZXR1cm4gcmF3O1xuICAgIH1cbiAgICBpZiAocmF3LnN0YXJ0c1dpdGgoJy8vJykpIHtcbiAgICAgIGNvbnN0IHdpdGhvdXRTbGFzaGVzID0gcmF3LnNsaWNlKDIpO1xuICAgICAgaWYgKHdpdGhvdXRTbGFzaGVzLmluY2x1ZGVzKCcuJykpIHtcbiAgICAgICAgcmV0dXJuIHJhdztcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNsZWFuZWRJbnRlcm5hbCA9IHdpdGhvdXRTbGFzaGVzLnJlcGxhY2UoL15cXC8rLywgJycpLnJlcGxhY2UoL1xcLyskLywgJycpO1xuICAgICAgcmV0dXJuIGNsZWFuZWRJbnRlcm5hbCA/IGAvJHtjbGVhbmVkSW50ZXJuYWx9YCA6ICcvJztcbiAgICB9XG4gICAgY29uc3QgY2xlYW5lZCA9IHJhdy5yZXBsYWNlKC9eXFwvKy8sICcnKS5yZXBsYWNlKC9cXC8rJC8sICcnKTtcbiAgICByZXR1cm4gY2xlYW5lZCA/IGAvJHtjbGVhbmVkfWAgOiAnLyc7XG4gIH07XG4gIGNvbnN0IG5vcm1hbGl6ZU9wdGlvbmFsTmF2VXJsID0gKHZhbHVlLCBkZWZhdWx0VmFsdWUgPSAnJykgPT4ge1xuICAgIGNvbnN0IHRyaW1tZWQgPSAodmFsdWUgfHwgJycpLnRvU3RyaW5nKCkudHJpbSgpO1xuICAgIGlmICghdHJpbW1lZCkge1xuICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIG5vcm1hbGl6ZU5hdlBhZ2VVcmwodHJpbW1lZCk7XG4gIH07XG5cbiAgY29uc3QgcmVuZGVyUGFnZUNoZWNrYm94ZXMgPSAoKSA9PiB7XG4gICAgaWYgKCFoZWFkZXJQYWdlc0xpc3QpIHJldHVybjtcbiAgICBoZWFkZXJQYWdlc0xpc3QuaW5uZXJIVE1MID0gJyc7XG5cbiAgICBpZiAoc2l0ZVBhZ2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBoZWFkZXJQYWdlc0xpc3QuaW5uZXJIVE1MID0gJzxwIGNsYXNzPVwidGV4dC14cyB0ZXh0LXNsYXRlLTQwMCBpdGFsaWNcIj5BdWN1bmUgcGFnZSBkaXNwb25pYmxlPC9wPic7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIFxuICAgIHNpdGVQYWdlcy5mb3JFYWNoKHBhZ2UgPT4ge1xuICAgICAgY29uc3QgcGFnZVNsdWcgPSBwYWdlLnNsdWcgfHwgcGFnZS5pZCB8fCAnJztcbiAgICAgIC8vIFVzZSBwYWdlLm5hbWUgKHNob3J0IG5hbWUpIGlmIGF2YWlsYWJsZSwgZmFsbGJhY2sgdG8gdGl0bGVcbiAgICAgIGNvbnN0IHBhZ2VEaXNwbGF5TmFtZSA9IHBhZ2UubmFtZSB8fCBwYWdlLnRpdGxlIHx8IHBhZ2VTbHVnO1xuICAgICAgY29uc3QgcGFnZVVybCA9IG5vcm1hbGl6ZU5hdlBhZ2VVcmwocGFnZVNsdWcpO1xuXG4gICAgICAvLyBWXHUwMEU5cmlmaWVyIHNpIGNldHRlIHBhZ2UgZXN0IHNcdTAwRTlsZWN0aW9ublx1MDBFOWUgZGFucyBsYSBuYXZcbiAgICAgIGNvbnN0IGlzU2VsZWN0ZWQgPSBzZWxlY3RlZE5hdlBhZ2VzLnNvbWUobmF2ID0+IG5hdi51cmwgPT09IHBhZ2VVcmwpO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICAgICAgICBsYWJlbC5jbGFzc05hbWUgPSAnZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgcHgtMyBweS0yIHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1zbGF0ZS0yMDAgaG92ZXI6Ymctc2xhdGUtNTAgY3Vyc29yLXBvaW50ZXIgdHJhbnNpdGlvbi1jb2xvcnMnO1xuICAgICAgICBsYWJlbC5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5hbWU9XCJuYXYtcGFnZVwiIHZhbHVlPVwiJHtwYWdlVXJsfVwiIGRhdGEtcGFnZS10aXRsZT1cIiR7cGFnZURpc3BsYXlOYW1lfVwiXG4gICAgICAgICAgICAgICAgIGNsYXNzPVwidy00IGgtNCByb3VuZGVkIGJvcmRlci1zbGF0ZS0zMDAgdGV4dC12aW9sZXQtNjAwIGZvY3VzOnJpbmctdmlvbGV0LTUwMFwiXG4gICAgICAgICAgICAgICAgICR7aXNTZWxlY3RlZCA/ICdjaGVja2VkJyA6ICcnfT5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cImZsZXgtMSB0ZXh0LXNtIHRleHQtc2xhdGUtNzAwXCI+JHtwYWdlRGlzcGxheU5hbWV9PC9zcGFuPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC14cyB0ZXh0LXNsYXRlLTQwMFwiPiR7cGFnZVVybH08L3NwYW4+XG4gICAgICAgIGA7XG4gICAgICAgIFxuICAgICAgICAvLyBNZXR0cmUgXHUwMEUwIGpvdXIgc2VsZWN0ZWROYXZQYWdlcyBxdWFuZCBvbiBjb2NoZS9kXHUwMEU5Y29jaGVcbiAgICAgICAgY29uc3QgY2hlY2tib3ggPSBsYWJlbC5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpO1xuICAgICAgICBjaGVja2JveC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgICAgICAgaWYgKGNoZWNrYm94LmNoZWNrZWQpIHtcbiAgICAgICAgICAgIC8vIEFqb3V0ZXIgXHUwMEUwIGxhIGxpc3RlXG4gICAgICAgICAgICBpZiAoIXNlbGVjdGVkTmF2UGFnZXMuc29tZShuYXYgPT4gbmF2LnVybCA9PT0gcGFnZVVybCkpIHtcbiAgICAgICAgICAgICAgc2VsZWN0ZWROYXZQYWdlcy5wdXNoKHsgbGFiZWw6IHBhZ2VEaXNwbGF5TmFtZSwgdXJsOiBwYWdlVXJsIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBSZXRpcmVyIGRlIGxhIGxpc3RlXG4gICAgICAgICAgICBzZWxlY3RlZE5hdlBhZ2VzID0gc2VsZWN0ZWROYXZQYWdlcy5maWx0ZXIobmF2ID0+IG5hdi51cmwgIT09IHBhZ2VVcmwpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBoZWFkZXJQYWdlc0xpc3QuYXBwZW5kQ2hpbGQobGFiZWwpO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICBcbiAgICBjb25zdCBjb2xsZWN0SGVhZGVyRGF0YSA9ICgpID0+IHtcbiAgICAgIC8vIENvbGxlY3RlciBsZXMgcGFnZXMgY29jaFx1MDBFOWVzIGRhbnMgbCdvcmRyZSBhY3R1ZWxcbiAgICAgIGNvbnN0IG5hdiA9IFtdO1xuICAgICAgaGVhZGVyUGFnZXNMaXN0Py5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dFtuYW1lPVwibmF2LXBhZ2VcIl06Y2hlY2tlZCcpLmZvckVhY2goY2hlY2tib3ggPT4ge1xuICAgICAgICBjb25zdCB1cmwgPSBub3JtYWxpemVOYXZQYWdlVXJsKGNoZWNrYm94LnZhbHVlKTtcbiAgICAgICAgY29uc3QgbGFiZWwgPSBjaGVja2JveC5kYXRhc2V0LnBhZ2VUaXRsZSB8fCB1cmw7XG4gICAgICAgIG5hdi5wdXNoKHsgbGFiZWwsIHVybCB9KTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICByZXR1cm4ge1xuICAgICAgICBsb2dvOiB7XG4gICAgICAgICAgc3JjOiBoZWFkZXJGaWVsZHMubG9nbz8udmFsdWU/LnRyaW0oKSB8fCAnJyxcbiAgICAgICAgICBhbHQ6IGhlYWRlckZpZWxkcy5sb2dvQWx0Py52YWx1ZT8udHJpbSgpIHx8ICcnLFxuICAgICAgICAgIHVybDogbm9ybWFsaXplT3B0aW9uYWxOYXZVcmwoaGVhZGVyRmllbGRzLmxvZ29Vcmw/LnZhbHVlLCAnLycpLFxuICAgICAgICB9LFxuICAgICAgICBuYXYsXG4gICAgICAgIGN0YToge1xuICAgICAgICAgIHRleHQ6IGhlYWRlckZpZWxkcy5jdGFUZXh0Py52YWx1ZT8udHJpbSgpIHx8ICcnLFxuICAgICAgICAgIHVybDogbm9ybWFsaXplT3B0aW9uYWxOYXZVcmwoaGVhZGVyRmllbGRzLmN0YVVybD8udmFsdWUsICcnKSxcbiAgICAgICAgICBzdHlsZTogaGVhZGVyRmllbGRzLmN0YVN0eWxlPy52YWx1ZSB8fCAncHJpbWFyeScsXG4gICAgICAgIH0sXG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgcG9zaXRpb246IGhlYWRlckZpZWxkcy5wb3NpdGlvbj8udmFsdWUgfHwgJ3N0YXRpYycsXG4gICAgICAgICAgYmc6IGhlYWRlckZpZWxkcy5iZz8udmFsdWUgfHwgJ2JnLXdoaXRlJyxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgfTtcbiAgICBcbiAgICBjb25zdCBwb3B1bGF0ZUhlYWRlckZvcm0gPSBhc3luYyAoZGF0YSkgPT4ge1xuICAgICAgaWYgKCFkYXRhKSByZXR1cm47XG4gICAgICBpZiAoaGVhZGVyRmllbGRzLmxvZ28pIGhlYWRlckZpZWxkcy5sb2dvLnZhbHVlID0gZGF0YS5sb2dvPy5zcmMgfHwgJyc7XG4gICAgICBpZiAoaGVhZGVyRmllbGRzLmxvZ29BbHQpIGhlYWRlckZpZWxkcy5sb2dvQWx0LnZhbHVlID0gZGF0YS5sb2dvPy5hbHQgfHwgJyc7XG4gICAgICBpZiAoaGVhZGVyRmllbGRzLmxvZ29VcmwpIGhlYWRlckZpZWxkcy5sb2dvVXJsLnZhbHVlID0gbm9ybWFsaXplT3B0aW9uYWxOYXZVcmwoZGF0YS5sb2dvPy51cmwsICcvJyk7XG4gICAgICBpZiAoaGVhZGVyRmllbGRzLmN0YVRleHQpIGhlYWRlckZpZWxkcy5jdGFUZXh0LnZhbHVlID0gZGF0YS5jdGE/LnRleHQgfHwgJyc7XG4gICAgICBpZiAoaGVhZGVyRmllbGRzLmN0YVVybCkgaGVhZGVyRmllbGRzLmN0YVVybC52YWx1ZSA9IG5vcm1hbGl6ZU9wdGlvbmFsTmF2VXJsKGRhdGEuY3RhPy51cmwsICcnKTtcbiAgICAgIGlmIChoZWFkZXJGaWVsZHMuY3RhU3R5bGUpIGhlYWRlckZpZWxkcy5jdGFTdHlsZS52YWx1ZSA9IGRhdGEuY3RhPy5zdHlsZSB8fCAncHJpbWFyeSc7XG4gICAgICBpZiAoaGVhZGVyRmllbGRzLnBvc2l0aW9uKSBoZWFkZXJGaWVsZHMucG9zaXRpb24udmFsdWUgPSBkYXRhLnN0eWxlPy5wb3NpdGlvbiB8fCAnc3RhdGljJztcbiAgICAgIGlmIChoZWFkZXJGaWVsZHMuYmcpIGhlYWRlckZpZWxkcy5iZy52YWx1ZSA9IGRhdGEuc3R5bGU/LmJnIHx8ICdiZy13aGl0ZSc7XG4gICAgICBcbiAgICAgIC8vIFN0b2NrZXIgbGVzIHBhZ2VzIHNcdTAwRTlsZWN0aW9ublx1MDBFOWVzIHBvdXIgbGVzIGNoZWNrYm94ZXNcbiAgICAgIHNlbGVjdGVkTmF2UGFnZXMgPSAoZGF0YS5uYXYgfHwgW10pLm1hcCgoaXRlbSkgPT4gKHtcbiAgICAgICAgLi4uaXRlbSxcbiAgICAgICAgdXJsOiBub3JtYWxpemVOYXZQYWdlVXJsKGl0ZW0udXJsKSxcbiAgICAgIH0pKTtcbiAgICAgIFxuICAgICAgLy8gQ2hhcmdlciBsZXMgcGFnZXMgZXQgYWZmaWNoZXIgbGVzIGNoZWNrYm94ZXNcbiAgICAgIGF3YWl0IGxvYWRTaXRlUGFnZXNGb3JIZWFkZXIoKTtcbiAgICAgIFxuICAgICAgLy8gVXBkYXRlIHN0YXR1cyBpbmRpY2F0b3JcbiAgICAgIGNvbnN0IGhhc0RhdGEgPSBkYXRhLmxvZ28/LnNyYyB8fCBkYXRhLm5hdj8ubGVuZ3RoID4gMCB8fCBkYXRhLmN0YT8udGV4dDtcbiAgICAgIGlmIChoZWFkZXJTdGF0dXNJbmRpY2F0b3IpIHtcbiAgICAgICAgaGVhZGVyU3RhdHVzSW5kaWNhdG9yLmNsYXNzTGlzdC50b2dnbGUoJ2JnLWdyZWVuLTUwMCcsICEhaGFzRGF0YSk7XG4gICAgICAgIGhlYWRlclN0YXR1c0luZGljYXRvci5jbGFzc0xpc3QudG9nZ2xlKCdiZy1zbGF0ZS0zMDAnLCAhaGFzRGF0YSk7XG4gICAgICAgIGhlYWRlclN0YXR1c0luZGljYXRvci50aXRsZSA9IGhhc0RhdGEgPyAnQ29uZmlndXJcdTAwRTknIDogJ05vbiBjb25maWd1clx1MDBFOSc7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGhlYWRlclNhdmVCdG4/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFsYXlvdXRBcGlCYXNlKSByZXR1cm47XG4gICAgICBoZWFkZXJTYXZlQnRuLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIGhlYWRlclNhdmVCdG4udGV4dENvbnRlbnQgPSAnRW5yZWdpc3RyZW1lbnQuLi4nO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGNvbGxlY3RIZWFkZXJEYXRhKCk7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7bGF5b3V0QXBpQmFzZX0vaGVhZGVyYCwge1xuICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgY3JlZGVudGlhbHM6ICdpbmNsdWRlJyxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHRocm93IG5ldyBFcnJvcignRXJyZXVyIHNlcnZldXInKTtcbiAgICAgICAgaGVhZGVyRGF0YSA9IGRhdGE7XG4gICAgICAgIHBvcHVsYXRlSGVhZGVyRm9ybShkYXRhKTtcbiAgICAgICAgc2hvd1RvYXN0KCdIZWFkZXIgZW5yZWdpc3RyXHUwMEU5Jyk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2hlYWRlcl0gc2F2ZSBlcnJvcicsIGVycik7XG4gICAgICAgIHNob3dUb2FzdCgnRXJyZXVyIGxvcnMgZGUgbFxcJ2VucmVnaXN0cmVtZW50JywgJ2Vycm9yJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBoZWFkZXJTYXZlQnRuLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIGhlYWRlclNhdmVCdG4udGV4dENvbnRlbnQgPSAnRW5yZWdpc3RyZXInO1xuICAgICAgfVxuICAgIH0pO1xuICAgIFxuICAgIC8vIFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFxuICAgIC8vIEZPT1RFUiBGVU5DVElPTlNcbiAgICAvLyBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcbiAgICBjb25zdCBhZGRGb290ZXJMaW5rID0gKGNvbnRhaW5lciwgbGFiZWwgPSAnJywgdXJsID0gJycpID0+IHtcbiAgICAgIGlmICghZm9vdGVyTGlua1RlbXBsYXRlIHx8ICFjb250YWluZXIpIHJldHVybjtcbiAgICAgIGNvbnN0IGNsb25lID0gZm9vdGVyTGlua1RlbXBsYXRlLmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpO1xuICAgICAgY29uc3QgaXRlbSA9IGNsb25lLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWZvb3Rlci1saW5rXScpO1xuICAgICAgY29uc3QgbGFiZWxJbnB1dCA9IGNsb25lLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwibGluay1sYWJlbFwiXScpO1xuICAgICAgY29uc3QgdXJsSW5wdXQgPSBjbG9uZS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImxpbmstdXJsXCJdJyk7XG4gICAgICBjb25zdCByZW1vdmVCdG4gPSBjbG9uZS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1saW5rLXJlbW92ZV0nKTtcbiAgICAgIGlmIChsYWJlbElucHV0KSBsYWJlbElucHV0LnZhbHVlID0gbGFiZWw7XG4gICAgICBpZiAodXJsSW5wdXQpIHVybElucHV0LnZhbHVlID0gdXJsO1xuICAgICAgcmVtb3ZlQnRuPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGl0ZW0/LnJlbW92ZSgpKTtcbiAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChjbG9uZSk7XG4gICAgfTtcbiAgICBcbiAgICBjb25zdCBhZGRGb290ZXJDb2x1bW4gPSAodGl0bGUgPSAnJywgbGlua3MgPSBbXSkgPT4ge1xuICAgICAgaWYgKCFmb290ZXJDb2x1bW5UZW1wbGF0ZSB8fCAhZm9vdGVyQ29sdW1uc0xpc3QpIHJldHVybjtcbiAgICAgIGNvbnN0IGNsb25lID0gZm9vdGVyQ29sdW1uVGVtcGxhdGUuY29udGVudC5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICBjb25zdCBjb2x1bW4gPSBjbG9uZS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1mb290ZXItY29sdW1uXScpO1xuICAgICAgY29uc3QgdGl0bGVJbnB1dCA9IGNsb25lLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiY29sdW1uLXRpdGxlXCJdJyk7XG4gICAgICBjb25zdCBsaW5rc0NvbnRhaW5lciA9IGNsb25lLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbHVtbi1saW5rc10nKTtcbiAgICAgIGNvbnN0IGFkZExpbmtCdG4gPSBjbG9uZS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2x1bW4tbGluay1hZGRdJyk7XG4gICAgICBjb25zdCByZW1vdmVCdG4gPSBjbG9uZS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2x1bW4tcmVtb3ZlXScpO1xuICAgICAgaWYgKHRpdGxlSW5wdXQpIHRpdGxlSW5wdXQudmFsdWUgPSB0aXRsZTtcbiAgICAgIGxpbmtzLmZvckVhY2gobGluayA9PiBhZGRGb290ZXJMaW5rKGxpbmtzQ29udGFpbmVyLCBsaW5rLmxhYmVsLCBsaW5rLnVybCkpO1xuICAgICAgYWRkTGlua0J0bj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBhZGRGb290ZXJMaW5rKGxpbmtzQ29udGFpbmVyKSk7XG4gICAgICByZW1vdmVCdG4/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gY29sdW1uPy5yZW1vdmUoKSk7XG4gICAgICBmb290ZXJDb2x1bW5zTGlzdC5hcHBlbmRDaGlsZChjbG9uZSk7XG4gICAgfTtcbiAgICBcbiAgICBjb25zdCBjb2xsZWN0Rm9vdGVyRGF0YSA9ICgpID0+IHtcbiAgICAgIGNvbnN0IGNvbHVtbnMgPSBbXTtcbiAgICAgIGZvb3RlckNvbHVtbnNMaXN0Py5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1mb290ZXItY29sdW1uXScpLmZvckVhY2goY29sID0+IHtcbiAgICAgICAgY29uc3QgdGl0bGUgPSBjb2wucXVlcnlTZWxlY3RvcignW25hbWU9XCJjb2x1bW4tdGl0bGVcIl0nKT8udmFsdWU/LnRyaW0oKSB8fCAnJztcbiAgICAgICAgY29uc3QgbGlua3MgPSBbXTtcbiAgICAgICAgY29sLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWZvb3Rlci1saW5rXScpLmZvckVhY2gobGlua0VsID0+IHtcbiAgICAgICAgICBjb25zdCBsYWJlbCA9IGxpbmtFbC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImxpbmstbGFiZWxcIl0nKT8udmFsdWU/LnRyaW0oKSB8fCAnJztcbiAgICAgICAgICBjb25zdCB1cmwgPSBsaW5rRWwucXVlcnlTZWxlY3RvcignW25hbWU9XCJsaW5rLXVybFwiXScpPy52YWx1ZT8udHJpbSgpIHx8ICcnO1xuICAgICAgICAgIGlmIChsYWJlbCB8fCB1cmwpIGxpbmtzLnB1c2goeyBsYWJlbCwgdXJsIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHRpdGxlIHx8IGxpbmtzLmxlbmd0aCA+IDApIGNvbHVtbnMucHVzaCh7IHRpdGxlLCBsaW5rcyB9KTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY29sdW1ucyxcbiAgICAgICAgc29jaWFsczoge1xuICAgICAgICAgIGxpbmtlZGluOiBmb290ZXJGaWVsZHMubGlua2VkaW4/LnZhbHVlPy50cmltKCkgfHwgJycsXG4gICAgICAgICAgdHdpdHRlcjogZm9vdGVyRmllbGRzLnR3aXR0ZXI/LnZhbHVlPy50cmltKCkgfHwgJycsXG4gICAgICAgICAgaW5zdGFncmFtOiBmb290ZXJGaWVsZHMuaW5zdGFncmFtPy52YWx1ZT8udHJpbSgpIHx8ICcnLFxuICAgICAgICAgIGZhY2Vib29rOiBmb290ZXJGaWVsZHMuZmFjZWJvb2s/LnZhbHVlPy50cmltKCkgfHwgJycsXG4gICAgICAgICAgeW91dHViZTogZm9vdGVyRmllbGRzLnlvdXR1YmU/LnZhbHVlPy50cmltKCkgfHwgJycsXG4gICAgICAgICAgZ2l0aHViOiBmb290ZXJGaWVsZHMuZ2l0aHViPy52YWx1ZT8udHJpbSgpIHx8ICcnLFxuICAgICAgICB9LFxuICAgICAgICBjb3B5cmlnaHQ6IGZvb3RlckZpZWxkcy5jb3B5cmlnaHQ/LnZhbHVlPy50cmltKCkgfHwgJycsXG4gICAgICAgIGxlZ2FsOiB7XG4gICAgICAgICAgdXJsOiBmb290ZXJGaWVsZHMubGVnYWxVcmw/LnZhbHVlPy50cmltKCkgfHwgJycsXG4gICAgICAgICAgcHJpdmFjeVVybDogZm9vdGVyRmllbGRzLnByaXZhY3lVcmw/LnZhbHVlPy50cmltKCkgfHwgJycsXG4gICAgICAgIH0sXG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgYmc6IGZvb3RlckZpZWxkcy5iZz8udmFsdWUgfHwgJ2JnLXNsYXRlLTkwMCB0ZXh0LXdoaXRlJyxcbiAgICAgICAgICBjb2x1bW5zQ291bnQ6IGZvb3RlckZpZWxkcy5jb2x1bW5zQ291bnQ/LnZhbHVlIHx8ICc0JyxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgfTtcbiAgICBcbiAgICBjb25zdCBwb3B1bGF0ZUZvb3RlckZvcm0gPSAoZGF0YSkgPT4ge1xuICAgICAgaWYgKCFkYXRhKSByZXR1cm47XG4gICAgICBpZiAoZm9vdGVyRmllbGRzLmxpbmtlZGluKSBmb290ZXJGaWVsZHMubGlua2VkaW4udmFsdWUgPSBkYXRhLnNvY2lhbHM/LmxpbmtlZGluIHx8ICcnO1xuICAgICAgaWYgKGZvb3RlckZpZWxkcy50d2l0dGVyKSBmb290ZXJGaWVsZHMudHdpdHRlci52YWx1ZSA9IGRhdGEuc29jaWFscz8udHdpdHRlciB8fCAnJztcbiAgICAgIGlmIChmb290ZXJGaWVsZHMuaW5zdGFncmFtKSBmb290ZXJGaWVsZHMuaW5zdGFncmFtLnZhbHVlID0gZGF0YS5zb2NpYWxzPy5pbnN0YWdyYW0gfHwgJyc7XG4gICAgICBpZiAoZm9vdGVyRmllbGRzLmZhY2Vib29rKSBmb290ZXJGaWVsZHMuZmFjZWJvb2sudmFsdWUgPSBkYXRhLnNvY2lhbHM/LmZhY2Vib29rIHx8ICcnO1xuICAgICAgaWYgKGZvb3RlckZpZWxkcy55b3V0dWJlKSBmb290ZXJGaWVsZHMueW91dHViZS52YWx1ZSA9IGRhdGEuc29jaWFscz8ueW91dHViZSB8fCAnJztcbiAgICAgIGlmIChmb290ZXJGaWVsZHMuZ2l0aHViKSBmb290ZXJGaWVsZHMuZ2l0aHViLnZhbHVlID0gZGF0YS5zb2NpYWxzPy5naXRodWIgfHwgJyc7XG4gICAgICBpZiAoZm9vdGVyRmllbGRzLmNvcHlyaWdodCkgZm9vdGVyRmllbGRzLmNvcHlyaWdodC52YWx1ZSA9IGRhdGEuY29weXJpZ2h0IHx8ICcnO1xuICAgICAgaWYgKGZvb3RlckZpZWxkcy5sZWdhbFVybCkgZm9vdGVyRmllbGRzLmxlZ2FsVXJsLnZhbHVlID0gZGF0YS5sZWdhbD8udXJsIHx8ICcnO1xuICAgICAgaWYgKGZvb3RlckZpZWxkcy5wcml2YWN5VXJsKSBmb290ZXJGaWVsZHMucHJpdmFjeVVybC52YWx1ZSA9IGRhdGEubGVnYWw/LnByaXZhY3lVcmwgfHwgJyc7XG4gICAgICBpZiAoZm9vdGVyRmllbGRzLmJnKSBmb290ZXJGaWVsZHMuYmcudmFsdWUgPSBkYXRhLnN0eWxlPy5iZyB8fCAnYmctc2xhdGUtOTAwIHRleHQtd2hpdGUnO1xuICAgICAgaWYgKGZvb3RlckZpZWxkcy5jb2x1bW5zQ291bnQpIGZvb3RlckZpZWxkcy5jb2x1bW5zQ291bnQudmFsdWUgPSBkYXRhLnN0eWxlPy5jb2x1bW5zQ291bnQgfHwgJzQnO1xuICAgICAgLy8gUG9wdWxhdGUgY29sdW1uc1xuICAgICAgaWYgKGZvb3RlckNvbHVtbnNMaXN0KSBmb290ZXJDb2x1bW5zTGlzdC5pbm5lckhUTUwgPSAnJztcbiAgICAgIChkYXRhLmNvbHVtbnMgfHwgW10pLmZvckVhY2goY29sID0+IGFkZEZvb3RlckNvbHVtbihjb2wudGl0bGUsIGNvbC5saW5rcykpO1xuICAgICAgLy8gVXBkYXRlIHN0YXR1cyBpbmRpY2F0b3JcbiAgICAgIGNvbnN0IGhhc0RhdGEgPSBkYXRhLmNvbHVtbnM/Lmxlbmd0aCA+IDAgfHwgZGF0YS5jb3B5cmlnaHQgfHwgT2JqZWN0LnZhbHVlcyhkYXRhLnNvY2lhbHMgfHwge30pLnNvbWUodiA9PiB2KTtcbiAgICAgIGlmIChmb290ZXJTdGF0dXNJbmRpY2F0b3IpIHtcbiAgICAgICAgZm9vdGVyU3RhdHVzSW5kaWNhdG9yLmNsYXNzTGlzdC50b2dnbGUoJ2JnLWdyZWVuLTUwMCcsICEhaGFzRGF0YSk7XG4gICAgICAgIGZvb3RlclN0YXR1c0luZGljYXRvci5jbGFzc0xpc3QudG9nZ2xlKCdiZy1zbGF0ZS0zMDAnLCAhaGFzRGF0YSk7XG4gICAgICAgIGZvb3RlclN0YXR1c0luZGljYXRvci50aXRsZSA9IGhhc0RhdGEgPyAnQ29uZmlndXJcdTAwRTknIDogJ05vbiBjb25maWd1clx1MDBFOSc7XG4gICAgICB9XG4gICAgfTtcbiAgICBcbiAgICBmb290ZXJDb2x1bW5BZGRCdG4/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gYWRkRm9vdGVyQ29sdW1uKCkpO1xuICAgIFxuICAgIGZvb3RlclNhdmVCdG4/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFsYXlvdXRBcGlCYXNlKSByZXR1cm47XG4gICAgICBmb290ZXJTYXZlQnRuLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIGZvb3RlclNhdmVCdG4udGV4dENvbnRlbnQgPSAnRW5yZWdpc3RyZW1lbnQuLi4nO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGNvbGxlY3RGb290ZXJEYXRhKCk7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7bGF5b3V0QXBpQmFzZX0vZm9vdGVyYCwge1xuICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgY3JlZGVudGlhbHM6ICdpbmNsdWRlJyxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHRocm93IG5ldyBFcnJvcignRXJyZXVyIHNlcnZldXInKTtcbiAgICAgICAgZm9vdGVyRGF0YSA9IGRhdGE7XG4gICAgICAgIHBvcHVsYXRlRm9vdGVyRm9ybShkYXRhKTtcbiAgICAgICAgc2hvd1RvYXN0KCdGb290ZXIgZW5yZWdpc3RyXHUwMEU5Jyk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2Zvb3Rlcl0gc2F2ZSBlcnJvcicsIGVycik7XG4gICAgICAgIHNob3dUb2FzdCgnRXJyZXVyIGxvcnMgZGUgbFxcJ2VucmVnaXN0cmVtZW50JywgJ2Vycm9yJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBmb290ZXJTYXZlQnRuLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIGZvb3RlclNhdmVCdG4udGV4dENvbnRlbnQgPSAnRW5yZWdpc3RyZXInO1xuICAgICAgfVxuICAgIH0pO1xuICAgIFxuICAgIC8vIExvYWQgbGF5b3V0IGRhdGEgb24gaW5pdFxuICAgIGNvbnN0IGxvYWRMYXlvdXREYXRhID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFsYXlvdXRBcGlCYXNlKSByZXR1cm47XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGxheW91dEFwaUJhc2UsIHsgY3JlZGVudGlhbHM6ICdpbmNsdWRlJyB9KTtcbiAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICBpZiAoZGF0YS5oZWFkZXIpIHtcbiAgICAgICAgICAgIGhlYWRlckRhdGEgPSBkYXRhLmhlYWRlcjtcbiAgICAgICAgICAgIHBvcHVsYXRlSGVhZGVyRm9ybShkYXRhLmhlYWRlcik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChkYXRhLmZvb3Rlcikge1xuICAgICAgICAgICAgZm9vdGVyRGF0YSA9IGRhdGEuZm9vdGVyO1xuICAgICAgICAgICAgcG9wdWxhdGVGb290ZXJGb3JtKGRhdGEuZm9vdGVyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbbGF5b3V0XSBsb2FkIGVycm9yJywgZXJyKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIC8vIEluaXRpYWxpemUgbGF5b3V0IGRhdGFcbiAgICBsb2FkTGF5b3V0RGF0YSgpO1xuICAgIFxuICAgIC8vIFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFxuICAgIC8vIENPTExFQ1RJT05TIChleGlzdGluZyBjb2RlIGNvbnRpbnVlcyBiZWxvdylcbiAgICAvLyBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcbiAgICBcbiAgICBjb25zdCBjb2xsZWN0aW9uRW1wdHlTdGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbGxlY3Rpb24tZW1wdHldJyk7XG4gICAgY29uc3QgY29sbGVjdGlvbkl0ZW1zRW1wdHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xsZWN0aW9uLWl0ZW1zLWVtcHR5XScpO1xuICAgIGNvbnN0IGl0ZW1UYWJsZVdyYXBwZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLXRhYmxlLXdyYXBwZXJdJyk7XG4gICAgY29uc3QgaXRlbVRhYmxlQm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tdGFibGUtYm9keV0nKTtcbiAgICBjb25zdCBjb2xsZWN0aW9uVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xsZWN0aW9uLXRpdGxlXScpO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25EZXNjcmlwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbGxlY3Rpb24tZGVzY3JpcHRpb25dJyk7XG4gICAgY29uc3QgaXRlbUFkZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tYWRkXScpO1xuICAgIGNvbnN0IGl0ZW1EZXRhaWxFbXB0eSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tZGV0YWlsLWVtcHR5XScpO1xuICAgIGNvbnN0IGl0ZW1Gb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS1mb3JtXScpO1xuICAgIGNvbnN0IGl0ZW1Gb3JtRmllbGRzID0gaXRlbUZvcm1cbiAgICAgID8ge1xuICAgICAgICAgIHRpdGxlOiBpdGVtRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cIml0ZW0tdGl0bGVcIl0nKSxcbiAgICAgICAgICBzbHVnOiBpdGVtRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cIml0ZW0tc2x1Z1wiXScpLFxuICAgICAgICAgIGV4Y2VycHQ6IGl0ZW1Gb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaXRlbS1leGNlcnB0XCJdJyksXG4gICAgICAgICAgY29udGVudDogaXRlbUZvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJpdGVtLWNvbnRlbnRcIl0nKSxcbiAgICAgICAgICBpbWFnZTogaXRlbUZvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJpdGVtLWltYWdlXCJdJyksXG4gICAgICAgICAgY3RhVGV4dDogaXRlbUZvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJpdGVtLWN0YS10ZXh0XCJdJyksXG4gICAgICAgICAgY3RhVXJsOiBpdGVtRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cIml0ZW0tY3RhLXVybFwiXScpLFxuICAgICAgICAgIHN0YXR1czogaXRlbUZvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJpdGVtLXN0YXR1c1wiXScpLFxuICAgICAgICB9XG4gICAgICA6IHt9O1xuICAgIGNvbnN0IGl0ZW1TdGF0dXNCYWRnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tc3RhdHVzLWJhZGdlXScpO1xuICAgIGNvbnN0IGl0ZW1EZWxldGVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLWRlbGV0ZV0nKTtcbiAgICBjb25zdCBpdGVtRGVsZXRlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLWRlbGV0ZS1tb2RhbF0nKTtcbiAgICBjb25zdCBpdGVtRGVsZXRlQ2FuY2VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS1kZWxldGUtY2FuY2VsXScpO1xuICAgIGNvbnN0IGl0ZW1EZWxldGVDb25maXJtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS1kZWxldGUtY29uZmlybV0nKTtcbiAgICBjb25zdCBpdGVtRm9ybUNhbmNlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tY2FuY2VsXScpO1xuICAgIGNvbnN0IGl0ZW1Gb3JtU2F2ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tc2F2ZV0nKTtcbiAgICBjb25zdCBzdGF0dXNCYWRnZUJhc2VDbGFzcyA9ICdyb3VuZGVkLWZ1bGwgcHgtMyBweS0xIHRleHQteHMgZm9udC1zZW1pYm9sZCc7XG5cbiAgICBjb25zdCBzYWZlU2l0ZVNsdWdWYWx1ZSA9IHN0cmlwTGVhZGluZ1NsYXNoKFxuICAgICAgd29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyxcbiAgICApO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25zQXBpQmFzZSA9IHNhZmVTaXRlU2x1Z1ZhbHVlXG4gICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Z1ZhbHVlKX0vY29sbGVjdGlvbnNgXG4gICAgICA6IG51bGw7XG5cbiAgICBsZXQgY29sbGVjdGlvbnMgPSBbXTtcbiAgICBsZXQgY29sbGVjdGlvbkl0ZW1zID0gW107XG4gICAgbGV0IGFjdGl2ZUNvbGxlY3Rpb25JZCA9IG51bGw7XG4gICAgbGV0IGFjdGl2ZUl0ZW1JZCA9IG51bGw7XG4gICAgbGV0IGlzQ3JlYXRpbmdJdGVtID0gZmFsc2U7XG4gICAgbGV0IGl0ZW1TbHVnTWFudWFsbHlFZGl0ZWQgPSBmYWxzZTtcbiAgICBsZXQgcGVuZGluZ0RlbGV0ZUl0ZW1JZCA9IG51bGw7XG5cbiAgICBjb25zdCBub3JtYWxpemVJdGVtU2x1Z0lucHV0ID0gKHZhbHVlKSA9PiB7XG4gICAgICBjb25zdCByYXcgPSAodmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgIGlmICghcmF3KSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICAgIH1cbiAgICAgIGlmIChyYXcgPT09ICcvJykge1xuICAgICAgICByZXR1cm4gJy8nO1xuICAgICAgfVxuICAgICAgY29uc3Qgc2VnbWVudHMgPSByYXcucmVwbGFjZSgvXlxcLy8sICcnKS5zcGxpdCgnLycpO1xuICAgICAgY29uc3QgY2xlYW5lZFNlZ21lbnRzID0gc2VnbWVudHNcbiAgICAgICAgLm1hcCgoc2VnbWVudCkgPT4gd29ya3NwYWNlU2x1Z2lmeShzZWdtZW50IHx8ICcnKSlcbiAgICAgICAgLmZpbHRlcigoc2VnbWVudCkgPT4gc2VnbWVudC5sZW5ndGggPiAwKTtcbiAgICAgIGlmICghY2xlYW5lZFNlZ21lbnRzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgICB9XG4gICAgICByZXR1cm4gYC8ke2NsZWFuZWRTZWdtZW50cy5qb2luKCcvJyl9YDtcbiAgICB9O1xuXG4gICAgY29uc3QgZm9ybWF0SXRlbURhdGUgPSAodmFsdWUpID0+IHtcbiAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuICdcdTIwMTQnO1xuICAgICAgfVxuICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKHZhbHVlKTtcbiAgICAgIGlmIChOdW1iZXIuaXNOYU4oZGF0ZS5nZXRUaW1lKCkpKSB7XG4gICAgICAgIHJldHVybiAnXHUyMDE0JztcbiAgICAgIH1cbiAgICAgIHJldHVybiBkYXRlLnRvTG9jYWxlRGF0ZVN0cmluZygnZnItRlInLCB7IGRheTogJzItZGlnaXQnLCBtb250aDogJ3Nob3J0JywgeWVhcjogJ251bWVyaWMnIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCB1cGRhdGVDb2xsZWN0aW9uSGVhZGVyID0gKCkgPT4ge1xuICAgICAgY29uc3QgY29sbGVjdGlvbiA9IGNvbGxlY3Rpb25zLmZpbmQoKGVudHJ5KSA9PiBlbnRyeS5pZCA9PT0gYWN0aXZlQ29sbGVjdGlvbklkKTtcbiAgICAgIGlmIChjb2xsZWN0aW9uVGl0bGUpIHtcbiAgICAgICAgY29sbGVjdGlvblRpdGxlLnRleHRDb250ZW50ID0gY29sbGVjdGlvbj8ubmFtZSB8fCAnU1x1MDBFOWxlY3Rpb25uZXogdW5lIGNvbGxlY3Rpb24nO1xuICAgICAgfVxuICAgICAgaWYgKGNvbGxlY3Rpb25EZXNjcmlwdGlvbikge1xuICAgICAgICBjb2xsZWN0aW9uRGVzY3JpcHRpb24udGV4dENvbnRlbnQgPSBjb2xsZWN0aW9uPy5kZXNjcmlwdGlvbiB8fCAnJztcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgdXBkYXRlSXRlbXNFbXB0eU1lc3NhZ2UgPSAobWVzc2FnZSkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uSXRlbXNFbXB0eSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb2xsZWN0aW9uSXRlbXNFbXB0eS50ZXh0Q29udGVudCA9XG4gICAgICAgIG1lc3NhZ2UgfHxcbiAgICAgICAgKGFjdGl2ZUNvbGxlY3Rpb25JZFxuICAgICAgICAgID8gJ0F1Y3VuIGl0ZW0gZGFucyBjZXR0ZSBjb2xsZWN0aW9uIHBvdXIgbGUgbW9tZW50LidcbiAgICAgICAgICA6ICdDaG9pc2lzc2V6IHVuZSBjb2xsZWN0aW9uIGRhbnMgbGUgcGFubmVhdSBkZSBnYXVjaGUuJyk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhpZGVJdGVtRm9ybSA9ICgpID0+IHtcbiAgICAgIGlmIChpdGVtRm9ybSkge1xuICAgICAgICBpdGVtRm9ybS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgaXRlbUZvcm0uZGF0YXNldC5pdGVtSWQgPSAnJztcbiAgICAgIH1cbiAgICAgIGl0ZW1EZXRhaWxFbXB0eT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBpZiAoaXRlbVN0YXR1c0JhZGdlKSB7XG4gICAgICAgIGl0ZW1TdGF0dXNCYWRnZS5jbGFzc05hbWUgPSBgaGlkZGVuICR7c3RhdHVzQmFkZ2VCYXNlQ2xhc3N9YDtcbiAgICAgICAgaXRlbVN0YXR1c0JhZGdlLnRleHRDb250ZW50ID0gJyc7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbURlbGV0ZUJ1dHRvbikge1xuICAgICAgICBpdGVtRGVsZXRlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3Qgc2hvd0l0ZW1Gb3JtID0gKCkgPT4ge1xuICAgICAgaWYgKCFpdGVtRm9ybSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpdGVtRm9ybS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGl0ZW1EZXRhaWxFbXB0eT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgfTtcblxuICAgIGNvbnN0IHN5bmNBZGRCdXR0b25TdGF0ZSA9ICgpID0+IHtcbiAgICAgIGlmICghaXRlbUFkZEJ1dHRvbikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpdGVtQWRkQnV0dG9uLmRpc2FibGVkID0gIWFjdGl2ZUNvbGxlY3Rpb25JZDtcbiAgICAgIGlmIChpdGVtQWRkQnV0dG9uLmRpc2FibGVkKSB7XG4gICAgICAgIGl0ZW1BZGRCdXR0b24uY2xhc3NMaXN0LmFkZCgnb3BhY2l0eS02MCcsICdwb2ludGVyLWV2ZW50cy1ub25lJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpdGVtQWRkQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ29wYWNpdHktNjAnLCAncG9pbnRlci1ldmVudHMtbm9uZScpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBzeW5jSXRlbVN0YXR1c0JhZGdlID0gKHN0YXR1cykgPT4ge1xuICAgICAgaWYgKCFpdGVtU3RhdHVzQmFkZ2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFzdGF0dXMpIHtcbiAgICAgICAgaXRlbVN0YXR1c0JhZGdlLmNsYXNzTmFtZSA9IGBoaWRkZW4gJHtzdGF0dXNCYWRnZUJhc2VDbGFzc31gO1xuICAgICAgICBpdGVtU3RhdHVzQmFkZ2UudGV4dENvbnRlbnQgPSAnJztcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IHN0YXR1cy50b0xvd2VyQ2FzZSgpO1xuICAgICAgbGV0IGNvbG9yQ2xhc3MgPSAnYmctc2xhdGUtMTAwIHRleHQtc2xhdGUtNjAwIGJvcmRlciBib3JkZXItc2xhdGUtMjAwJztcbiAgICAgIGlmIChub3JtYWxpemVkID09PSAncHVibGlcdTAwRTknIHx8IG5vcm1hbGl6ZWQgPT09ICdwdWJsaWUnKSB7XG4gICAgICAgIGNvbG9yQ2xhc3MgPSAnYmctZW1lcmFsZC01MCB0ZXh0LWVtZXJhbGQtNzAwIGJvcmRlciBib3JkZXItZW1lcmFsZC0xMDAnO1xuICAgICAgfSBlbHNlIGlmIChub3JtYWxpemVkID09PSAnYnJvdWlsbG9uJykge1xuICAgICAgICBjb2xvckNsYXNzID0gJ2JnLWFtYmVyLTUwIHRleHQtYW1iZXItNzAwIGJvcmRlciBib3JkZXItYW1iZXItMTAwJztcbiAgICAgIH1cbiAgICAgIGl0ZW1TdGF0dXNCYWRnZS5jbGFzc05hbWUgPSBgJHtzdGF0dXNCYWRnZUJhc2VDbGFzc30gJHtjb2xvckNsYXNzfWA7XG4gICAgICBpdGVtU3RhdHVzQmFkZ2UudGV4dENvbnRlbnQgPSBzdGF0dXM7XG4gICAgfTtcblxuICAgIGNvbnN0IHJlbmRlckNvbGxlY3Rpb25MaXN0ID0gKCkgPT4ge1xuICAgICAgY29sbGVjdGlvbkxpc3QuaW5uZXJIVE1MID0gJyc7XG4gICAgICAvLyBVcGRhdGUgY29sbGVjdGlvbiBjb3VudFxuICAgICAgaWYgKGNvbGxlY3Rpb25Db3VudEVsKSBjb2xsZWN0aW9uQ291bnRFbC50ZXh0Q29udGVudCA9IGNvbGxlY3Rpb25zLmxlbmd0aDtcbiAgICAgIGlmICghY29sbGVjdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgIGNvbGxlY3Rpb25FbXB0eVN0YXRlPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29sbGVjdGlvbkVtcHR5U3RhdGU/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgY29sbGVjdGlvbnMuZm9yRWFjaCgoY29sbGVjdGlvbikgPT4ge1xuICAgICAgICBjb25zdCBpc0FjdGl2ZSA9IGNvbGxlY3Rpb24uaWQgPT09IGFjdGl2ZUNvbGxlY3Rpb25JZDtcbiAgICAgICAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIGJ1dHRvbi50eXBlID0gJ2J1dHRvbic7XG4gICAgICAgIGJ1dHRvbi5kYXRhc2V0LmNvbGxlY3Rpb25JZCA9IGNvbGxlY3Rpb24uaWQ7XG4gICAgICAgIGJ1dHRvbi5jbGFzc05hbWUgPSBbXG4gICAgICAgICAgJ3ctZnVsbCByb3VuZGVkLXhsIGJvcmRlciBweC0zIHB5LTIgdGV4dC1sZWZ0IHRyYW5zaXRpb24gZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLVsjOUM2QkZGXS80MCcsXG4gICAgICAgICAgaXNBY3RpdmVcbiAgICAgICAgICAgID8gJ2JnLVsjRjdGMEZGXSBib3JkZXItWyM5QzZCRkZdLzQwIHRleHQtc2xhdGUtOTAwJ1xuICAgICAgICAgICAgOiAnYm9yZGVyLXNsYXRlLTIwMCB0ZXh0LXNsYXRlLTcwMCBob3Zlcjpib3JkZXItWyM5QzZCRkZdLzQwJyxcbiAgICAgICAgXS5qb2luKCcgJyk7XG4gICAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnb3B0aW9uJyk7XG4gICAgICAgIGlmIChpc0FjdGl2ZSkge1xuICAgICAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtY3VycmVudCcsICd0cnVlJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYnV0dG9uLnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1jdXJyZW50Jyk7XG4gICAgICAgIH1cbiAgICAgICAgYnV0dG9uLmlubmVySFRNTCA9IGBcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIGdhcC0yXCI+XG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQtc20gZm9udC1zZW1pYm9sZFwiPiR7Y29sbGVjdGlvbi5uYW1lIHx8IGNvbGxlY3Rpb24uaWR9PC9wPlxuICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQteHMgdGV4dC1zbGF0ZS01MDBcIj4ke2NvbGxlY3Rpb24uZGVzY3JpcHRpb24gfHwgJyd9PC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQtWzExcHhdIHVwcGVyY2FzZSB0cmFja2luZy13aWRlIHRleHQtc2xhdGUtNDAwXCI+JHtjb2xsZWN0aW9uLnR5cGUgfHwgJyd9PC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICBgO1xuICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgc2V0QWN0aXZlQ29sbGVjdGlvbihjb2xsZWN0aW9uLmlkKTtcbiAgICAgICAgICBpZiAoIXdpbmRvdy5tYXRjaE1lZGlhKCcobWluLXdpZHRoOiAxMDI0cHgpJykubWF0Y2hlcykge1xuICAgICAgICAgICAgY2xvc2VDb250ZW50RHJhd2VyKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgY29sbGVjdGlvbkxpc3QuYXBwZW5kQ2hpbGQoYnV0dG9uKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCByZW5kZXJJdGVtVGFibGUgPSAoKSA9PiB7XG4gICAgICBpZiAoIWl0ZW1UYWJsZUJvZHkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaXRlbVRhYmxlQm9keS5pbm5lckhUTUwgPSAnJztcbiAgICAgIGlmICghY29sbGVjdGlvbkl0ZW1zLmxlbmd0aCB8fCAhYWN0aXZlQ29sbGVjdGlvbklkKSB7XG4gICAgICAgIGNvbGxlY3Rpb25JdGVtc0VtcHR5Py5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgdXBkYXRlSXRlbXNFbXB0eU1lc3NhZ2UoKTtcbiAgICAgICAgaXRlbVRhYmxlV3JhcHBlcj8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbGxlY3Rpb25JdGVtc0VtcHR5Py5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGl0ZW1UYWJsZVdyYXBwZXI/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgY29sbGVjdGlvbkl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgICAgY29uc3Qgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKTtcbiAgICAgICAgcm93LmRhdGFzZXQuaXRlbUlkID0gaXRlbS5pZDtcbiAgICAgICAgY29uc3QgaXNBY3RpdmUgPSBpdGVtLmlkID09PSBhY3RpdmVJdGVtSWQgJiYgIWlzQ3JlYXRpbmdJdGVtO1xuICAgICAgICByb3cuY2xhc3NOYW1lID0gW1xuICAgICAgICAgICdjdXJzb3ItcG9pbnRlciB0cmFuc2l0aW9uIGZvY3VzLXdpdGhpbjpiZy1bI0Y3RjBGRl0vNzAgZm9jdXM6b3V0bGluZS1ub25lJyxcbiAgICAgICAgICBpc0FjdGl2ZSA/ICdiZy1bI0Y3RjBGRl0vNzAnIDogJ2hvdmVyOmJnLXNsYXRlLTUwJyxcbiAgICAgICAgXS5qb2luKCcgJyk7XG4gICAgICAgIHJvdy50YWJJbmRleCA9IDA7XG4gICAgICAgIHJvdy5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnYnV0dG9uJyk7XG4gICAgICAgIGlmIChpc0FjdGl2ZSkge1xuICAgICAgICAgIHJvdy5zZXRBdHRyaWJ1dGUoJ2FyaWEtY3VycmVudCcsICd0cnVlJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcm93LnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1jdXJyZW50Jyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3RhdHVzID0gaXRlbS5zdGF0dXMgfHwgJ0Jyb3VpbGxvbic7XG4gICAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBzdGF0dXMudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgY29uc3Qgc3RhdHVzQ2xhc3NlcyA9XG4gICAgICAgICAgbm9ybWFsaXplZCA9PT0gJ3B1YmxpXHUwMEU5JyB8fCBub3JtYWxpemVkID09PSAncHVibGllJ1xuICAgICAgICAgICAgPyAnYmctZW1lcmFsZC01MCB0ZXh0LWVtZXJhbGQtNzAwIGJvcmRlciBib3JkZXItZW1lcmFsZC0xMDAnXG4gICAgICAgICAgICA6ICdiZy1hbWJlci01MCB0ZXh0LWFtYmVyLTcwMCBib3JkZXIgYm9yZGVyLWFtYmVyLTEwMCc7XG4gICAgICAgIHJvdy5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgPHRkIGNsYXNzPVwicHgtNCBweS0zIGFsaWduLXRvcFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgdGV4dC1zbGF0ZS05MDBcIj4ke2l0ZW0udGl0bGUgfHwgJ1NhbnMgdGl0cmUnfTwvc3Bhbj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNTAwXCI+JHtpdGVtLnN1bW1hcnkgfHwgaXRlbS5leGNlcnB0IHx8ICcnfTwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgPHRkIGNsYXNzPVwicHgtNCBweS0zIGFsaWduLXRvcCB0ZXh0LXNtIHRleHQtc2xhdGUtNjAwXCI+JHtpdGVtLnNsdWcgfHwgJyd9PC90ZD5cbiAgICAgICAgICA8dGQgY2xhc3M9XCJweC00IHB5LTMgYWxpZ24tdG9wXCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciByb3VuZGVkLWZ1bGwgcHgtMyBweS0xIHRleHQteHMgZm9udC1zZW1pYm9sZCAke3N0YXR1c0NsYXNzZXN9XCI+XG4gICAgICAgICAgICAgICR7c3RhdHVzfVxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgPHRkIGNsYXNzPVwicHgtNCBweS0zIGFsaWduLXRvcCB0ZXh0LXNtIHRleHQtc2xhdGUtNTAwXCI+JHtmb3JtYXRJdGVtRGF0ZShcbiAgICAgICAgICAgIGl0ZW0udXBkYXRlZEF0IHx8IGl0ZW0uY3JlYXRlZEF0LFxuICAgICAgICAgICl9PC90ZD5cbiAgICAgICAgYDtcbiAgICAgICAgY29uc3QgaGFuZGxlU2VsZWN0ID0gKCkgPT4ge1xuICAgICAgICAgIHNlbGVjdEl0ZW0oaXRlbS5pZCk7XG4gICAgICAgIH07XG4gICAgICAgIHJvdy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZVNlbGVjdCk7XG4gICAgICAgIHJvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VudGVyJyB8fCBldmVudC5rZXkgPT09ICcgJykge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGhhbmRsZVNlbGVjdCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGl0ZW1UYWJsZUJvZHkuYXBwZW5kQ2hpbGQocm93KTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCBzZWxlY3RJdGVtID0gKGl0ZW1JZCkgPT4ge1xuICAgICAgY29uc3QgaXRlbSA9IGNvbGxlY3Rpb25JdGVtcy5maW5kKChlbnRyeSkgPT4gZW50cnkuaWQgPT09IGl0ZW1JZCk7XG4gICAgICBpZiAoIWl0ZW0pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYWN0aXZlSXRlbUlkID0gaXRlbS5pZDtcbiAgICAgIGlzQ3JlYXRpbmdJdGVtID0gZmFsc2U7XG4gICAgICBpdGVtU2x1Z01hbnVhbGx5RWRpdGVkID0gdHJ1ZTtcbiAgICAgIHBvcHVsYXRlSXRlbUZvcm0oaXRlbSk7XG4gICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICB9O1xuXG4gICAgY29uc3QgcG9wdWxhdGVJdGVtRm9ybSA9IChpdGVtKSA9PiB7XG4gICAgICBpZiAoIWl0ZW1Gb3JtIHx8ICFpdGVtKSB7XG4gICAgICAgIGhpZGVJdGVtRm9ybSgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzaG93SXRlbUZvcm0oKTtcbiAgICAgIGl0ZW1Gb3JtLmRhdGFzZXQuaXRlbUlkID0gaXRlbS5pZDtcbiAgICAgIGlmIChpdGVtRm9ybUZpZWxkcy50aXRsZSkge1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy50aXRsZS52YWx1ZSA9IGl0ZW0udGl0bGUgfHwgJyc7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbUZvcm1GaWVsZHMuc2x1Zykge1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy5zbHVnLnZhbHVlID0gaXRlbS5zbHVnIHx8ICcnO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1Gb3JtRmllbGRzLmV4Y2VycHQpIHtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMuZXhjZXJwdC52YWx1ZSA9IGl0ZW0uc3VtbWFyeSB8fCBpdGVtLmV4Y2VycHQgfHwgJyc7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbUZvcm1GaWVsZHMuY29udGVudCkge1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy5jb250ZW50LnZhbHVlID0gaXRlbS5jb250ZW50IHx8ICcnO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1Gb3JtRmllbGRzLmltYWdlKSB7XG4gICAgICAgIGl0ZW1Gb3JtRmllbGRzLmltYWdlLnZhbHVlID0gaXRlbS5pbWFnZSB8fCAnJztcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtRm9ybUZpZWxkcy5jdGFUZXh0KSB7XG4gICAgICAgIGl0ZW1Gb3JtRmllbGRzLmN0YVRleHQudmFsdWUgPSBpdGVtLmN0YT8udGV4dCB8fCBpdGVtLmN0YVRleHQgfHwgJyc7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbUZvcm1GaWVsZHMuY3RhVXJsKSB7XG4gICAgICAgIGl0ZW1Gb3JtRmllbGRzLmN0YVVybC52YWx1ZSA9IGl0ZW0uY3RhPy51cmwgfHwgaXRlbS5jdGFVcmwgfHwgJyc7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbUZvcm1GaWVsZHMuc3RhdHVzKSB7XG4gICAgICAgIGl0ZW1Gb3JtRmllbGRzLnN0YXR1cy52YWx1ZSA9IGl0ZW0uc3RhdHVzIHx8ICdCcm91aWxsb24nO1xuICAgICAgfVxuICAgICAgc3luY0l0ZW1TdGF0dXNCYWRnZShpdGVtLnN0YXR1cyB8fCAnQnJvdWlsbG9uJyk7XG4gICAgICBpZiAoaXRlbURlbGV0ZUJ1dHRvbikge1xuICAgICAgICBpdGVtRGVsZXRlQnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHByZXBhcmVOZXdJdGVtRm9ybSA9ICgpID0+IHtcbiAgICAgIGlmICghaXRlbUZvcm0pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaXNDcmVhdGluZ0l0ZW0gPSB0cnVlO1xuICAgICAgYWN0aXZlSXRlbUlkID0gbnVsbDtcbiAgICAgIGl0ZW1TbHVnTWFudWFsbHlFZGl0ZWQgPSBmYWxzZTtcbiAgICAgIGl0ZW1Gb3JtLmRhdGFzZXQuaXRlbUlkID0gJyc7XG4gICAgICBpdGVtRm9ybS5yZXNldCgpO1xuICAgICAgaWYgKGl0ZW1Gb3JtRmllbGRzLnN0YXR1cykge1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy5zdGF0dXMudmFsdWUgPSAnQnJvdWlsbG9uJztcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtRm9ybUZpZWxkcy5zbHVnKSB7XG4gICAgICAgIGl0ZW1Gb3JtRmllbGRzLnNsdWcudmFsdWUgPSAnJztcbiAgICAgIH1cbiAgICAgIHN5bmNJdGVtU3RhdHVzQmFkZ2UoJ0Jyb3VpbGxvbicpO1xuICAgICAgc2hvd0l0ZW1Gb3JtKCk7XG4gICAgICBpZiAoaXRlbURlbGV0ZUJ1dHRvbikge1xuICAgICAgICBpdGVtRGVsZXRlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGl0ZW1Gb3JtRmllbGRzLnRpdGxlPy5mb2N1cygpO1xuICAgIH07XG5cbiAgICBjb25zdCBjb2xsZWN0SXRlbUZvcm1WYWx1ZXMgPSAoKSA9PiB7XG4gICAgICBjb25zdCB0aXRsZSA9IChpdGVtRm9ybUZpZWxkcy50aXRsZT8udmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgIGNvbnN0IHNsdWdJbnB1dCA9IChpdGVtRm9ybUZpZWxkcy5zbHVnPy52YWx1ZSB8fCAnJykudHJpbSgpO1xuICAgICAgY29uc3Qgc3VtbWFyeSA9IChpdGVtRm9ybUZpZWxkcy5leGNlcnB0Py52YWx1ZSB8fCAnJykudHJpbSgpO1xuICAgICAgY29uc3QgY29udGVudCA9IChpdGVtRm9ybUZpZWxkcy5jb250ZW50Py52YWx1ZSB8fCAnJykudHJpbSgpO1xuICAgICAgY29uc3QgaW1hZ2UgPSAoaXRlbUZvcm1GaWVsZHMuaW1hZ2U/LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICBjb25zdCBjdGFUZXh0ID0gKGl0ZW1Gb3JtRmllbGRzLmN0YVRleHQ/LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICBjb25zdCBjdGFVcmwgPSAoaXRlbUZvcm1GaWVsZHMuY3RhVXJsPy52YWx1ZSB8fCAnJykudHJpbSgpO1xuICAgICAgY29uc3Qgc3RhdHVzID0gaXRlbUZvcm1GaWVsZHMuc3RhdHVzPy52YWx1ZSB8fCAnQnJvdWlsbG9uJztcbiAgICAgIFxuICAgICAgLy8gQnVpbGQgQ1RBIG9iamVjdCBvbmx5IGlmIGF0IGxlYXN0IG9uZSBmaWVsZCBpcyBmaWxsZWRcbiAgICAgIGNvbnN0IGN0YSA9IChjdGFUZXh0IHx8IGN0YVVybCkgPyB7IHRleHQ6IGN0YVRleHQsIHVybDogY3RhVXJsIH0gOiBudWxsO1xuICAgICAgXG4gICAgICByZXR1cm4ge1xuICAgICAgICB0aXRsZSxcbiAgICAgICAgc2x1Zzogc2x1Z0lucHV0ID8gbm9ybWFsaXplSXRlbVNsdWdJbnB1dChzbHVnSW5wdXQpIDogbm9ybWFsaXplSXRlbVNsdWdJbnB1dCh0aXRsZSksXG4gICAgICAgIHN1bW1hcnksXG4gICAgICAgIGV4Y2VycHQ6IHN1bW1hcnksXG4gICAgICAgIGNvbnRlbnQsXG4gICAgICAgIGltYWdlLFxuICAgICAgICBzdGF0dXMsXG4gICAgICAgIC4uLihjdGEgJiYgeyBjdGEgfSksXG4gICAgICB9O1xuICAgIH07XG5cbiAgICBjb25zdCBzZXRGb3JtU2F2aW5nU3RhdGUgPSAoaXNTYXZpbmcpID0+IHtcbiAgICAgIGlmIChpdGVtRm9ybVNhdmUpIHtcbiAgICAgICAgaXRlbUZvcm1TYXZlLmRpc2FibGVkID0gaXNTYXZpbmc7XG4gICAgICAgIGl0ZW1Gb3JtU2F2ZS50ZXh0Q29udGVudCA9IGlzU2F2aW5nID8gJ0VucmVnaXN0cmVtZW50XHUyMDI2JyA6ICdFbnJlZ2lzdHJlcic7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbURlbGV0ZUJ1dHRvbiAmJiAhaXNDcmVhdGluZ0l0ZW0gJiYgYWN0aXZlSXRlbUlkKSB7XG4gICAgICAgIGl0ZW1EZWxldGVCdXR0b24uZGlzYWJsZWQgPSBpc1NhdmluZztcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgZmV0Y2hDb2xsZWN0aW9uSXRlbXMgPSBhc3luYyAoY29sbGVjdGlvbklkKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25zQXBpQmFzZSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgICBgJHtjb2xsZWN0aW9uc0FwaUJhc2V9LyR7ZW5jb2RlVVJJQ29tcG9uZW50KGNvbGxlY3Rpb25JZCl9L2l0ZW1zYCxcbiAgICAgICAgeyBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSxcbiAgICAgICk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihwYXlsb2FkLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgY2hhcmdlciBsZXMgaXRlbXMuJyk7XG4gICAgICB9XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoZGF0YS5pdGVtcykgPyBkYXRhLml0ZW1zIDogW107XG4gICAgfTtcblxuICAgIGNvbnN0IHNldEFjdGl2ZUNvbGxlY3Rpb24gPSBhc3luYyAoY29sbGVjdGlvbklkKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25JZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhY3RpdmVDb2xsZWN0aW9uSWQgPSBjb2xsZWN0aW9uSWQ7XG4gICAgICBhY3RpdmVJdGVtSWQgPSBudWxsO1xuICAgICAgaXNDcmVhdGluZ0l0ZW0gPSBmYWxzZTtcbiAgICAgIGl0ZW1TbHVnTWFudWFsbHlFZGl0ZWQgPSBmYWxzZTtcbiAgICAgIC8vIFN3aXRjaCB0byBjb2xsZWN0aW9uIHZpZXdcbiAgICAgIHNob3dDb250ZW50VmlldygnY29sbGVjdGlvbicpO1xuICAgICAgdXBkYXRlQ29sbGVjdGlvbkhlYWRlcigpO1xuICAgICAgc3luY0FkZEJ1dHRvblN0YXRlKCk7XG4gICAgICByZW5kZXJDb2xsZWN0aW9uTGlzdCgpO1xuICAgICAgaGlkZUl0ZW1Gb3JtKCk7XG4gICAgICBjb2xsZWN0aW9uSXRlbXMgPSBbXTtcbiAgICAgIHJlbmRlckl0ZW1UYWJsZSgpO1xuICAgICAgdXBkYXRlSXRlbXNFbXB0eU1lc3NhZ2UoJ0NoYXJnZW1lbnQgZGVzIGl0ZW1zXHUyMDI2Jyk7XG4gICAgICBjb2xsZWN0aW9uSXRlbXNFbXB0eT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBpdGVtVGFibGVXcmFwcGVyPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGlmICghY29sbGVjdGlvbnNBcGlCYXNlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbGxlY3Rpb25JdGVtcyA9IGF3YWl0IGZldGNoQ29sbGVjdGlvbkl0ZW1zKGNvbGxlY3Rpb25JZCk7XG4gICAgICAgIHJlbmRlckl0ZW1UYWJsZSgpO1xuICAgICAgICBpZiAoIWNvbGxlY3Rpb25JdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgICB1cGRhdGVJdGVtc0VtcHR5TWVzc2FnZSgpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2NvbnRlbnRdIGl0ZW1zIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxlcyBpdGVtcy4nKTtcbiAgICAgICAgY29sbGVjdGlvbkl0ZW1zID0gW107XG4gICAgICAgIHJlbmRlckl0ZW1UYWJsZSgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBjcmVhdGVDb2xsZWN0aW9uSXRlbSA9IGFzeW5jIChjb2xsZWN0aW9uSWQsIHBheWxvYWQpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvbnNBcGlCYXNlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignU2l0ZSBpbmNvbm51LicpO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgYCR7Y29sbGVjdGlvbnNBcGlCYXNlfS8ke2VuY29kZVVSSUNvbXBvbmVudChjb2xsZWN0aW9uSWQpfS9pdGVtc2AsXG4gICAgICAgIHtcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgfSxcbiAgICAgICk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihkYXRhLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgY3JcdTAwRTllciBjZXQgaXRlbS4nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgfTtcblxuICAgIGNvbnN0IHVwZGF0ZUNvbGxlY3Rpb25JdGVtID0gYXN5bmMgKGNvbGxlY3Rpb25JZCwgaXRlbUlkLCBwYXlsb2FkKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25zQXBpQmFzZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NpdGUgaW5jb25udS4nKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgIGAke2NvbGxlY3Rpb25zQXBpQmFzZX0vJHtlbmNvZGVVUklDb21wb25lbnQoY29sbGVjdGlvbklkKX0vaXRlbXMvJHtlbmNvZGVVUklDb21wb25lbnQoaXRlbUlkKX1gLFxuICAgICAgICB7XG4gICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgfSxcbiAgICAgICk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihkYXRhLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgc2F1dmVnYXJkZXIgY2V0IGl0ZW0uJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgIH07XG5cbiAgICBjb25zdCBkZWxldGVDb2xsZWN0aW9uSXRlbSA9IGFzeW5jIChjb2xsZWN0aW9uSWQsIGl0ZW1JZCkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uc0FwaUJhc2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTaXRlIGluY29ubnUuJyk7XG4gICAgICB9XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgICBgJHtjb2xsZWN0aW9uc0FwaUJhc2V9LyR7ZW5jb2RlVVJJQ29tcG9uZW50KGNvbGxlY3Rpb25JZCl9L2l0ZW1zLyR7ZW5jb2RlVVJJQ29tcG9uZW50KGl0ZW1JZCl9YCxcbiAgICAgICAgeyBtZXRob2Q6ICdERUxFVEUnIH0sXG4gICAgICApO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZGF0YS5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIHN1cHByaW1lciBjZXQgaXRlbS4nKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgbG9hZENvbGxlY3Rpb25zID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uc0FwaUJhc2UpIHtcbiAgICAgICAgY29sbGVjdGlvbkVtcHR5U3RhdGU/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICBhY3RpdmVDb2xsZWN0aW9uSWQgPSBudWxsO1xuICAgICAgICBjb2xsZWN0aW9uSXRlbXMgPSBbXTtcbiAgICAgICAgcmVuZGVySXRlbVRhYmxlKCk7XG4gICAgICAgIHVwZGF0ZUNvbGxlY3Rpb25IZWFkZXIoKTtcbiAgICAgICAgc3luY0FkZEJ1dHRvblN0YXRlKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goY29sbGVjdGlvbnNBcGlCYXNlLCB7XG4gICAgICAgICAgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxlcyBjb2xsZWN0aW9ucy4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+IFtdKTtcbiAgICAgICAgY29sbGVjdGlvbnMgPSBBcnJheS5pc0FycmF5KHBheWxvYWQpID8gcGF5bG9hZCA6IFtdO1xuICAgICAgICByZW5kZXJDb2xsZWN0aW9uTGlzdCgpO1xuICAgICAgICBpZiAoY29sbGVjdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGNvbnN0IGRlZmF1bHRJZCA9IGNvbGxlY3Rpb25zLmZpbmQoKGVudHJ5KSA9PiBlbnRyeS5pZCA9PT0gYWN0aXZlQ29sbGVjdGlvbklkKT8uaWRcbiAgICAgICAgICAgIHx8IGNvbGxlY3Rpb25zWzBdLmlkO1xuICAgICAgICAgIHNldEFjdGl2ZUNvbGxlY3Rpb24oZGVmYXVsdElkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhY3RpdmVDb2xsZWN0aW9uSWQgPSBudWxsO1xuICAgICAgICAgIGNvbGxlY3Rpb25JdGVtcyA9IFtdO1xuICAgICAgICAgIHVwZGF0ZUNvbGxlY3Rpb25IZWFkZXIoKTtcbiAgICAgICAgICBzeW5jQWRkQnV0dG9uU3RhdGUoKTtcbiAgICAgICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tjb250ZW50XSBsb2FkIGNvbGxlY3Rpb25zJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIGNvbGxlY3Rpb25zLicpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBpdGVtQWRkQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGlmICghYWN0aXZlQ29sbGVjdGlvbklkKSB7XG4gICAgICAgIHNob3dUb2FzdCgnU1x1MDBFOWxlY3Rpb25uZXogZFx1MjAxOWFib3JkIHVuZSBjb2xsZWN0aW9uLicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwcmVwYXJlTmV3SXRlbUZvcm0oKTtcbiAgICAgIHJlbmRlckl0ZW1UYWJsZSgpO1xuICAgIH0pO1xuXG4gICAgaXRlbUZvcm1DYW5jZWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKGlzQ3JlYXRpbmdJdGVtKSB7XG4gICAgICAgIGlzQ3JlYXRpbmdJdGVtID0gZmFsc2U7XG4gICAgICAgIGFjdGl2ZUl0ZW1JZCA9IG51bGw7XG4gICAgICAgIGhpZGVJdGVtRm9ybSgpO1xuICAgICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGFjdGl2ZUl0ZW1JZCkge1xuICAgICAgICBjb25zdCBpdGVtID0gY29sbGVjdGlvbkl0ZW1zLmZpbmQoKGVudHJ5KSA9PiBlbnRyeS5pZCA9PT0gYWN0aXZlSXRlbUlkKTtcbiAgICAgICAgcG9wdWxhdGVJdGVtRm9ybShpdGVtKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGhpZGVJdGVtRm9ybSgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaXRlbUZvcm1GaWVsZHMuc3RhdHVzPy5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgICBzeW5jSXRlbVN0YXR1c0JhZGdlKGl0ZW1Gb3JtRmllbGRzLnN0YXR1cy52YWx1ZSk7XG4gICAgfSk7XG5cbiAgICBpdGVtRm9ybUZpZWxkcy50aXRsZT8uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgICBpZiAoIWlzQ3JlYXRpbmdJdGVtIHx8ICFpdGVtRm9ybUZpZWxkcy5zbHVnIHx8IGl0ZW1TbHVnTWFudWFsbHlFZGl0ZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaXRlbUZvcm1GaWVsZHMuc2x1Zy52YWx1ZSA9IG5vcm1hbGl6ZUl0ZW1TbHVnSW5wdXQoaXRlbUZvcm1GaWVsZHMudGl0bGUudmFsdWUpO1xuICAgIH0pO1xuXG4gICAgaXRlbUZvcm1GaWVsZHMuc2x1Zz8uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgICBpZiAoIWlzQ3JlYXRpbmdJdGVtKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGl0ZW1TbHVnTWFudWFsbHlFZGl0ZWQgPSB0cnVlO1xuICAgIH0pO1xuXG4gICAgaXRlbUZvcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmICghYWN0aXZlQ29sbGVjdGlvbklkKSB7XG4gICAgICAgIHNob3dUb2FzdCgnU1x1MDBFOWxlY3Rpb25uZXogdW5lIGNvbGxlY3Rpb24uJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHZhbHVlcyA9IGNvbGxlY3RJdGVtRm9ybVZhbHVlcygpO1xuICAgICAgaWYgKCF2YWx1ZXMudGl0bGUpIHtcbiAgICAgICAgc2hvd1RvYXN0KCdMZSB0aXRyZSBlc3QgcmVxdWlzLicpO1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy50aXRsZT8uZm9jdXMoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2V0Rm9ybVNhdmluZ1N0YXRlKHRydWUpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgbGV0IHNhdmVkSXRlbTtcbiAgICAgICAgaWYgKGlzQ3JlYXRpbmdJdGVtIHx8ICFhY3RpdmVJdGVtSWQpIHtcbiAgICAgICAgICBzYXZlZEl0ZW0gPSBhd2FpdCBjcmVhdGVDb2xsZWN0aW9uSXRlbShhY3RpdmVDb2xsZWN0aW9uSWQsIHZhbHVlcyk7XG4gICAgICAgICAgY29sbGVjdGlvbkl0ZW1zID0gWy4uLmNvbGxlY3Rpb25JdGVtcywgc2F2ZWRJdGVtXTtcbiAgICAgICAgICBzaG93VG9hc3QoJ0l0ZW0gY3JcdTAwRTlcdTAwRTknKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzYXZlZEl0ZW0gPSBhd2FpdCB1cGRhdGVDb2xsZWN0aW9uSXRlbShhY3RpdmVDb2xsZWN0aW9uSWQsIGFjdGl2ZUl0ZW1JZCwgdmFsdWVzKTtcbiAgICAgICAgICBjb2xsZWN0aW9uSXRlbXMgPSBjb2xsZWN0aW9uSXRlbXMubWFwKChpdGVtKSA9PlxuICAgICAgICAgICAgaXRlbS5pZCA9PT0gc2F2ZWRJdGVtLmlkID8gc2F2ZWRJdGVtIDogaXRlbSxcbiAgICAgICAgICApO1xuICAgICAgICAgIHNob3dUb2FzdCgnSXRlbSBtaXMgXHUwMEUwIGpvdXInKTtcbiAgICAgICAgfVxuICAgICAgICBpc0NyZWF0aW5nSXRlbSA9IGZhbHNlO1xuICAgICAgICBhY3RpdmVJdGVtSWQgPSBzYXZlZEl0ZW0uaWQ7XG4gICAgICAgIHBvcHVsYXRlSXRlbUZvcm0oc2F2ZWRJdGVtKTtcbiAgICAgICAgcmVuZGVySXRlbVRhYmxlKCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2NvbnRlbnRdIHNhdmUgaXRlbSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgc2F1dmVnYXJkZXIgY2V0IGl0ZW0uJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZXRGb3JtU2F2aW5nU3RhdGUoZmFsc2UpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgY29uc3QgY2xvc2VEZWxldGVNb2RhbCA9ICgpID0+IHtcbiAgICAgIGlmICghaXRlbURlbGV0ZU1vZGFsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGl0ZW1EZWxldGVNb2RhbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGl0ZW1EZWxldGVNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdmbGV4Jyk7XG4gICAgICBwZW5kaW5nRGVsZXRlSXRlbUlkID0gbnVsbDtcbiAgICB9O1xuXG4gICAgY29uc3Qgb3BlbkRlbGV0ZU1vZGFsID0gKCkgPT4ge1xuICAgICAgaWYgKCFpdGVtRGVsZXRlTW9kYWwgfHwgIWFjdGl2ZUl0ZW1JZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwZW5kaW5nRGVsZXRlSXRlbUlkID0gYWN0aXZlSXRlbUlkO1xuICAgICAgaXRlbURlbGV0ZU1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgaXRlbURlbGV0ZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2ZsZXgnKTtcbiAgICB9O1xuXG4gICAgaXRlbURlbGV0ZUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoIWFjdGl2ZUl0ZW1JZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBvcGVuRGVsZXRlTW9kYWwoKTtcbiAgICB9KTtcblxuICAgIGl0ZW1EZWxldGVDYW5jZWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY2xvc2VEZWxldGVNb2RhbCgpO1xuICAgIH0pO1xuXG4gICAgaXRlbURlbGV0ZU1vZGFsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gaXRlbURlbGV0ZU1vZGFsKSB7XG4gICAgICAgIGNsb3NlRGVsZXRlTW9kYWwoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGl0ZW1EZWxldGVDb25maXJtPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghcGVuZGluZ0RlbGV0ZUl0ZW1JZCB8fCAhYWN0aXZlQ29sbGVjdGlvbklkKSB7XG4gICAgICAgIGNsb3NlRGVsZXRlTW9kYWwoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaXRlbURlbGV0ZUNvbmZpcm0uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgaXRlbURlbGV0ZUNvbmZpcm0udGV4dENvbnRlbnQgPSAnU3VwcHJlc3Npb25cdTIwMjYnO1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgZGVsZXRlQ29sbGVjdGlvbkl0ZW0oYWN0aXZlQ29sbGVjdGlvbklkLCBwZW5kaW5nRGVsZXRlSXRlbUlkKTtcbiAgICAgICAgY29sbGVjdGlvbkl0ZW1zID0gY29sbGVjdGlvbkl0ZW1zLmZpbHRlcigoaXRlbSkgPT4gaXRlbS5pZCAhPT0gcGVuZGluZ0RlbGV0ZUl0ZW1JZCk7XG4gICAgICAgIGlmIChhY3RpdmVJdGVtSWQgPT09IHBlbmRpbmdEZWxldGVJdGVtSWQpIHtcbiAgICAgICAgICBhY3RpdmVJdGVtSWQgPSBudWxsO1xuICAgICAgICAgIGhpZGVJdGVtRm9ybSgpO1xuICAgICAgICB9XG4gICAgICAgIHNob3dUb2FzdCgnSXRlbSBzdXBwcmltXHUwMEU5Jyk7XG4gICAgICAgIHJlbmRlckl0ZW1UYWJsZSgpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tjb250ZW50XSBkZWxldGUgaXRlbSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgc3VwcHJpbWVyIGNldCBpdGVtLicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaXRlbURlbGV0ZUNvbmZpcm0uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgaXRlbURlbGV0ZUNvbmZpcm0udGV4dENvbnRlbnQgPSAnU3VwcHJpbWVyJztcbiAgICAgICAgY2xvc2VEZWxldGVNb2RhbCgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdXBkYXRlQ29sbGVjdGlvbkhlYWRlcigpO1xuICAgIHN5bmNBZGRCdXR0b25TdGF0ZSgpO1xuICAgIGxvYWRDb2xsZWN0aW9ucygpO1xuICB9XG5cbiAgZnVuY3Rpb24gaW5pdERlcGxveVdvcmtzcGFjZSgpIHtcbiAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LWZvcm1dJyk7XG4gICAgaWYgKCFmb3JtKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHByb3RvY29sU2VsZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LXByb3RvY29sXScpO1xuICAgIGNvbnN0IGhvc3RJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1ob3N0XScpO1xuICAgIGNvbnN0IHBvcnRJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1wb3J0XScpO1xuICAgIGNvbnN0IHVzZXJJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS11c2VyXScpO1xuICAgIGNvbnN0IHBhc3N3b3JkSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktcGFzc3dvcmRdJyk7XG4gICAgY29uc3Qgc2hvd1Bhc3N3b3JkVG9nZ2xlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LXNob3ctcGFzc3dvcmRdJyk7XG4gICAgY29uc3QgcmVtb3RlUGF0aElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LXJlbW90ZS1wYXRoXScpO1xuICAgIGNvbnN0IGZlZWRiYWNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LWZlZWRiYWNrXScpO1xuICAgIGNvbnN0IHNhdmVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktc2F2ZV0nKTtcbiAgICBjb25zdCB0ZXN0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LXRlc3RdJyk7XG4gICAgY29uc3QgZGVwbG95QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LXRyaWdnZXJdJyk7XG4gICAgY29uc3QgaGlzdG9yeUxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktaGlzdG9yeV0nKTtcbiAgICBjb25zdCBsb2dCb3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktbG9nXScpO1xuXG4gICAgY29uc3Qgc2FmZVNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goXG4gICAgICB3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnLFxuICAgICk7XG4gICAgY29uc3QgZGVwbG95QXBpQmFzZSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9kZXBsb3ktY29uZmlnYFxuICAgICAgOiBudWxsO1xuICAgIGNvbnN0IGRlcGxveVJ1bkFwaSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9kZXBsb3lgXG4gICAgICA6IG51bGw7XG4gICAgY29uc3QgZGVwbG95TG9nQXBpID0gc2FmZVNpdGVTbHVnXG4gICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Zyl9L2RlcGxveS1sb2dgXG4gICAgICA6IG51bGw7XG5cbiAgICBsZXQgaGFzUGFzc3dvcmQgPSBmYWxzZTtcbiAgICBsZXQgYnVzeUFjdGlvbiA9IG51bGw7XG5cbiAgICBjb25zdCBzYW5pdGl6ZVJlbW90ZVBhdGggPSAodmFsdWUpID0+IHtcbiAgICAgIGNvbnN0IHRyaW1tZWQgPSAodmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgIGlmICghdHJpbW1lZCkge1xuICAgICAgICByZXR1cm4gJy93d3cnO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRyaW1tZWQuc3RhcnRzV2l0aCgnLycpID8gdHJpbW1lZCA6IGAvJHt0cmltbWVkfWA7XG4gICAgfTtcblxuICAgIGNvbnN0IHNldEZlZWRiYWNrID0gKG1lc3NhZ2UsIHRvbmUgPSAnbXV0ZWQnKSA9PiB7XG4gICAgICBpZiAoIWZlZWRiYWNrKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGJhc2VDbGFzcyA9ICdpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgcm91bmRlZC1mdWxsIHB4LTMgcHktMSB0ZXh0LXhzIGZvbnQtc2VtaWJvbGQnO1xuICAgICAgY29uc3QgdG9uZUNsYXNzID1cbiAgICAgICAgdG9uZSA9PT0gJ3N1Y2Nlc3MnXG4gICAgICAgICAgPyAnYmctZW1lcmFsZC01MCB0ZXh0LWVtZXJhbGQtNzAwIGJvcmRlciBib3JkZXItZW1lcmFsZC0xMDAnXG4gICAgICAgICAgOiB0b25lID09PSAnZXJyb3InXG4gICAgICAgICAgICA/ICdiZy1yb3NlLTUwIHRleHQtcm9zZS03MDAgYm9yZGVyIGJvcmRlci1yb3NlLTEwMCdcbiAgICAgICAgICAgIDogJ2JnLXNsYXRlLTUwIHRleHQtc2xhdGUtNjAwIGJvcmRlciBib3JkZXItc2xhdGUtMTAwJztcbiAgICAgIGlmICghbWVzc2FnZSkge1xuICAgICAgICBmZWVkYmFjay50ZXh0Q29udGVudCA9ICcnO1xuICAgICAgICBmZWVkYmFjay5jbGFzc05hbWUgPSAndGV4dC1zbSB0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGljb24gPSB0b25lID09PSAnc3VjY2VzcycgPyAnXHUyNzA1JyA6IHRvbmUgPT09ICdlcnJvcicgPyAnXHUyNzRDJyA6ICdcdTIxMzlcdUZFMEYnO1xuICAgICAgZmVlZGJhY2suaW5uZXJIVE1MID0gYDxzcGFuIGNsYXNzPVwiJHtiYXNlQ2xhc3N9ICR7dG9uZUNsYXNzfVwiPiR7aWNvbn08c3Bhbj4ke21lc3NhZ2V9PC9zcGFuPjwvc3Bhbj5gO1xuICAgICAgZmVlZGJhY2suY2xhc3NOYW1lID0gJ3RleHQtc20nO1xuICAgIH07XG5cbiAgICBjb25zdCBzZXRCdXN5ID0gKGFjdGlvbiA9IG51bGwpID0+IHtcbiAgICAgIGJ1c3lBY3Rpb24gPSBhY3Rpb247XG4gICAgICBjb25zdCBkaXNhYmxlID0gQm9vbGVhbihhY3Rpb24pO1xuICAgICAgY29uc3Qgc3Bpbm5lciA9XG4gICAgICAgICc8c3ZnIGNsYXNzPVwiaC00IHctNCBhbmltYXRlLXNwaW4gdGV4dC13aGl0ZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjxjaXJjbGUgY2xhc3M9XCJvcGFjaXR5LTI1XCIgY3g9XCIxMlwiIGN5PVwiMTJcIiByPVwiMTBcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCI0XCI+PC9jaXJjbGU+PHBhdGggY2xhc3M9XCJvcGFjaXR5LTc1XCIgZmlsbD1cImN1cnJlbnRDb2xvclwiIGQ9XCJNNCAxMmE4IDggMCAwMTgtOHY0YTQgNCAwIDAwLTQgNEg0elwiPjwvcGF0aD48L3N2Zz4nO1xuICAgICAgaWYgKHNhdmVCdXR0b24pIHtcbiAgICAgICAgc2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IGRpc2FibGU7XG4gICAgICAgIHNhdmVCdXR0b24uaW5uZXJIVE1MID1cbiAgICAgICAgICBhY3Rpb24gPT09ICdzYXZlJ1xuICAgICAgICAgICAgPyBgPHNwYW4gY2xhc3M9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj4ke3NwaW5uZXJ9PHNwYW4+RW5yZWdpc3RyZW1lbnRcdTIwMjY8L3NwYW4+PC9zcGFuPmBcbiAgICAgICAgICAgIDogJ0VucmVnaXN0cmVyJztcbiAgICAgIH1cbiAgICAgIGlmICh0ZXN0QnV0dG9uKSB7XG4gICAgICAgIHRlc3RCdXR0b24uZGlzYWJsZWQgPSBkaXNhYmxlO1xuICAgICAgICB0ZXN0QnV0dG9uLmlubmVySFRNTCA9XG4gICAgICAgICAgYWN0aW9uID09PSAndGVzdCdcbiAgICAgICAgICAgID8gYDxzcGFuIGNsYXNzPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+PHNwYW4gY2xhc3M9XCJoLTQgdy00IGFuaW1hdGUtc3BpbiByb3VuZGVkLWZ1bGwgYm9yZGVyLTIgYm9yZGVyLXNsYXRlLTIwMCBib3JkZXItdC1zbGF0ZS02MDBcIj48L3NwYW4+PHNwYW4+VGVzdCBlbiBjb3Vyc1x1MjAyNjwvc3Bhbj48L3NwYW4+YFxuICAgICAgICAgICAgOiAnVGVzdGVyIGxhIGNvbm5leGlvbic7XG4gICAgICB9XG4gICAgICBpZiAoZGVwbG95QnV0dG9uKSB7XG4gICAgICAgIGRlcGxveUJ1dHRvbi5kaXNhYmxlZCA9IGRpc2FibGUgJiYgYWN0aW9uICE9PSBudWxsO1xuICAgICAgICBkZXBsb3lCdXR0b24uaW5uZXJIVE1MID1cbiAgICAgICAgICBhY3Rpb24gPT09ICdkZXBsb3knXG4gICAgICAgICAgICA/IGA8c3BhbiBjbGFzcz1cImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPjxzcGFuIGNsYXNzPVwiaC00IHctNCBhbmltYXRlLXNwaW4gcm91bmRlZC1mdWxsIGJvcmRlci0yIGJvcmRlci13aGl0ZS82MCBib3JkZXItdC13aGl0ZVwiPjwvc3Bhbj48c3Bhbj5EXHUwMEU5cGxvaWVtZW50XHUyMDI2PC9zcGFuPjwvc3Bhbj5gXG4gICAgICAgICAgICA6ICdEXHUwMEU5cGxveWVyIG1haW50ZW5hbnQnO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBwb3B1bGF0ZUZvcm0gPSAoY29uZmlnKSA9PiB7XG4gICAgICBwcm90b2NvbFNlbGVjdCAmJiAocHJvdG9jb2xTZWxlY3QudmFsdWUgPSBjb25maWcucHJvdG9jb2wgfHwgJ3NmdHAnKTtcbiAgICAgIGhvc3RJbnB1dCAmJiAoaG9zdElucHV0LnZhbHVlID0gY29uZmlnLmhvc3QgfHwgJycpO1xuICAgICAgcG9ydElucHV0ICYmIChwb3J0SW5wdXQudmFsdWUgPSBjb25maWcucG9ydCB8fCAnJyk7XG4gICAgICB1c2VySW5wdXQgJiYgKHVzZXJJbnB1dC52YWx1ZSA9IGNvbmZpZy51c2VyIHx8ICcnKTtcbiAgICAgIHJlbW90ZVBhdGhJbnB1dCAmJiAocmVtb3RlUGF0aElucHV0LnZhbHVlID0gY29uZmlnLnJlbW90ZVBhdGggfHwgJy93d3cnKTtcbiAgICAgIGhhc1Bhc3N3b3JkID0gQm9vbGVhbihjb25maWcuaGFzUGFzc3dvcmQpO1xuICAgICAgaWYgKHBhc3N3b3JkSW5wdXQpIHtcbiAgICAgICAgcGFzc3dvcmRJbnB1dC52YWx1ZSA9ICcnO1xuICAgICAgICBwYXNzd29yZElucHV0LnBsYWNlaG9sZGVyID0gaGFzUGFzc3dvcmQgPyAnTm9uIGFmZmljaFx1MDBFOScgOiAnTW90IGRlIHBhc3NlJztcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgcmVuZGVySGlzdG9yeSA9IChlbnRyaWVzID0gW10pID0+IHtcbiAgICAgIGlmICghaGlzdG9yeUxpc3QpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaGlzdG9yeUxpc3QuaW5uZXJIVE1MID0gJyc7XG4gICAgICBpZiAoIWVudHJpZXMubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgbGkuY2xhc3NOYW1lID0gJ3RleHQtc2xhdGUtNTAwJztcbiAgICAgICAgbGkudGV4dENvbnRlbnQgPSAnQXVjdW4gZFx1MDBFOXBsb2llbWVudCBwb3VyIGxlIG1vbWVudC4nO1xuICAgICAgICBoaXN0b3J5TGlzdC5hcHBlbmRDaGlsZChsaSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGVudHJpZXMuZm9yRWFjaCgoZW50cnkpID0+IHtcbiAgICAgICAgY29uc3QgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgICBsaS5jbGFzc05hbWUgPVxuICAgICAgICAgICdmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gZ2FwLTIgcm91bmRlZC14bCBib3JkZXIgYm9yZGVyLXNsYXRlLTIwMCBweC0zIHB5LTInO1xuICAgICAgICBjb25zdCBzdGF0dXNCYWRnZSA9XG4gICAgICAgICAgZW50cnkuc3RhdHVzID09PSAnc3VjY2VzcydcbiAgICAgICAgICAgID8gJzxzcGFuIGNsYXNzPVwicm91bmRlZC1mdWxsIGJnLWVtZXJhbGQtNTAgcHgtMiBweS0wLjUgdGV4dC1bMTFweF0gZm9udC1zZW1pYm9sZCB0ZXh0LWVtZXJhbGQtNzAwXCI+U3VjY1x1MDBFOHM8L3NwYW4+J1xuICAgICAgICAgICAgOiAnPHNwYW4gY2xhc3M9XCJyb3VuZGVkLWZ1bGwgYmctcm9zZS01MCBweC0yIHB5LTAuNSB0ZXh0LVsxMXB4XSBmb250LXNlbWlib2xkIHRleHQtcm9zZS03MDBcIj5cdTAwQzljaGVjPC9zcGFuPic7XG4gICAgICAgIGNvbnN0IGRhdGUgPSBlbnRyeS5maW5pc2hlZEF0IHx8IGVudHJ5LnN0YXJ0ZWRBdCB8fCAnJztcbiAgICAgICAgY29uc3QgZHVyYXRpb24gPVxuICAgICAgICAgIGVudHJ5LmR1cmF0aW9uTXMgJiYgTnVtYmVyKGVudHJ5LmR1cmF0aW9uTXMpID49IDBcbiAgICAgICAgICAgID8gYCR7TWF0aC5yb3VuZChOdW1iZXIoZW50cnkuZHVyYXRpb25NcykgLyAxMDAwKX1zYFxuICAgICAgICAgICAgOiAnJztcbiAgICAgICAgbGkuaW5uZXJIVE1MID0gYFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJzcGFjZS15LTFcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPiR7c3RhdHVzQmFkZ2V9PHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNTAwXCI+JHtkYXRlfTwvc3Bhbj48L2Rpdj5cbiAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1zbSB0ZXh0LXNsYXRlLTgwMFwiPiR7ZW50cnkubWVzc2FnZSB8fCAnJ308L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInRleHQteHMgdGV4dC1zbGF0ZS01MDBcIj4ke2R1cmF0aW9ufTwvZGl2PlxuICAgICAgICBgO1xuICAgICAgICBsaS5kYXRhc2V0LmRlcGxveUlkID0gZW50cnkuaWQgfHwgJyc7XG4gICAgICAgIGxpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgIGlmIChlbnRyeS5sb2dzICYmIGxvZ0JveCkge1xuICAgICAgICAgICAgbG9nQm94LnRleHRDb250ZW50ID0gZW50cnkubG9ncy5qb2luKCdcXG4nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBoaXN0b3J5TGlzdC5hcHBlbmRDaGlsZChsaSk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgcmVuZGVyTG9ncyA9IChsaW5lcyA9IFtdKSA9PiB7XG4gICAgICBpZiAoIWxvZ0JveCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBsb2dCb3gudGV4dENvbnRlbnQgPSBsaW5lcy5sZW5ndGggPyBsaW5lcy5qb2luKCdcXG4nKSA6ICdBdWN1biBsb2cgcG91ciBsZSBtb21lbnQuJztcbiAgICB9O1xuXG4gICAgY29uc3QgZmV0Y2hIaXN0b3J5ID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFkZXBsb3lMb2dBcGkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChkZXBsb3lMb2dBcGksIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICAgICAgICByZW5kZXJIaXN0b3J5KFtdKTtcbiAgICAgICAgICAgIHJlbmRlckxvZ3MoWydBUEkgZFx1MDBFOXBsb2llbWVudCBpbmRpc3BvbmlibGUgKHJlZFx1MDBFOW1hcnJlIGxlIHNlcnZldXIpLiddKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbFx1MjAxOWhpc3RvcmlxdWUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgY29uc3QgZW50cmllcyA9IEFycmF5LmlzQXJyYXkocGF5bG9hZC5lbnRyaWVzKSA/IHBheWxvYWQuZW50cmllcyA6IFtdO1xuICAgICAgICByZW5kZXJIaXN0b3J5KGVudHJpZXMpO1xuICAgICAgICBpZiAoZW50cmllc1swXT8ubG9ncykge1xuICAgICAgICAgIHJlbmRlckxvZ3MoZW50cmllc1swXS5sb2dzKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkZXBsb3ldIGhpc3RvcnkgZmFpbGVkJywgZXJyKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgZmV0Y2hDb25maWcgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWRlcGxveUFwaUJhc2UpIHtcbiAgICAgICAgc2V0RmVlZGJhY2soJ0F1Y3VuIHNpdGUgYWN0aWYgc1x1MDBFOWxlY3Rpb25uXHUwMEU5LicsICdlcnJvcicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZXRCdXN5KCdsb2FkJyk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGRlcGxveUFwaUJhc2UsIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xuICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBwb3B1bGF0ZUZvcm0ocGF5bG9hZCB8fCB7fSk7XG4gICAgICAgICAgc2V0RmVlZGJhY2soJ0NvbmZpZ3VyYXRpb24gY2hhcmdcdTAwRTllLicsICdtdXRlZCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBvcHVsYXRlRm9ybShwYXlsb2FkIHx8IHt9KTtcbiAgICAgICAgICBzZXRGZWVkYmFjayhwYXlsb2FkLm1lc3NhZ2UgfHwgJ0NvbmZpZ3VyYXRpb24gcGFyIGRcdTAwRTlmYXV0IGNoYXJnXHUwMEU5ZS4nLCAnbXV0ZWQnKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkZXBsb3ldIGxvYWQgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2V0RmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGR1IGNoYXJnZW1lbnQuJywgJ2Vycm9yJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZXRCdXN5KG51bGwpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBidWlsZFBheWxvYWQgPSAoKSA9PiB7XG4gICAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICBwcm90b2NvbDogcHJvdG9jb2xTZWxlY3Q/LnZhbHVlIHx8ICdzZnRwJyxcbiAgICAgICAgaG9zdDogaG9zdElucHV0Py52YWx1ZS50cmltKCkgfHwgJycsXG4gICAgICAgIHBvcnQ6IE51bWJlcihwb3J0SW5wdXQ/LnZhbHVlKSB8fCB1bmRlZmluZWQsXG4gICAgICAgIHVzZXI6IHVzZXJJbnB1dD8udmFsdWUudHJpbSgpIHx8ICcnLFxuICAgICAgICByZW1vdGVQYXRoOiBzYW5pdGl6ZVJlbW90ZVBhdGgocmVtb3RlUGF0aElucHV0Py52YWx1ZSB8fCAnL3d3dycpLFxuICAgICAgfTtcbiAgICAgIGNvbnN0IHB3ZCA9IHBhc3N3b3JkSW5wdXQ/LnZhbHVlIHx8ICcnO1xuICAgICAgaWYgKHB3ZC50cmltKCkubGVuZ3RoID4gMCkge1xuICAgICAgICBwYXlsb2FkLnBhc3N3b3JkID0gcHdkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfTtcblxuICAgIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKCFkZXBsb3lBcGlCYXNlKSB7XG4gICAgICAgIHNldEZlZWRiYWNrKCdBdWN1biBzaXRlIGFjdGlmIHNcdTAwRTlsZWN0aW9ublx1MDBFOS4nLCAnZXJyb3InKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgcGF5bG9hZCA9IGJ1aWxkUGF5bG9hZCgpO1xuICAgICAgc2V0QnVzeSgnc2F2ZScpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChkZXBsb3lBcGlCYXNlLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBjb25zdCBlcnJvclBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yUGF5bG9hZC5tZXNzYWdlIHx8ICdTYXV2ZWdhcmRlIGltcG9zc2libGUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2F2ZWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIHBvcHVsYXRlRm9ybShzYXZlZCB8fCB7fSk7XG4gICAgICAgIHNldEZlZWRiYWNrKCdDb25maWd1cmF0aW9uIGVucmVnaXN0clx1MDBFOWUuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgc2hvd1RvYXN0KCdDb25maWd1cmF0aW9uIGRcdTAwRTlwbG9pZW1lbnQgc2F1dmVnYXJkXHUwMEU5ZScpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkZXBsb3ldIHNhdmUgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2V0RmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGRlIGxhIHNhdXZlZ2FyZGUuJywgJ2Vycm9yJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZXRCdXN5KG51bGwpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGVzdEJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWRlcGxveUFwaUJhc2UpIHtcbiAgICAgICAgc2V0RmVlZGJhY2soJ0F1Y3VuIHNpdGUgYWN0aWYgc1x1MDBFOWxlY3Rpb25uXHUwMEU5LicsICdlcnJvcicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBwYXlsb2FkID0gYnVpbGRQYXlsb2FkKCk7XG4gICAgICBpZiAoIXBheWxvYWQuaG9zdCB8fCAhcGF5bG9hZC51c2VyIHx8ICFwYXlsb2FkLnJlbW90ZVBhdGgpIHtcbiAgICAgICAgc2V0RmVlZGJhY2soJ1JlbXBsaXNzZXogbGVzIGNoYW1wcyByZXF1aXMgYXZhbnQgZGUgdGVzdGVyLicsICdlcnJvcicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZXRCdXN5KCd0ZXN0Jyk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke2RlcGxveUFwaUJhc2V9L3Rlc3RgLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2sgfHwgcmVzdWx0LnN1Y2Nlc3MgPT09IGZhbHNlKSB7XG4gICAgICAgICAgc2V0RmVlZGJhY2socmVzdWx0Lm1lc3NhZ2UgfHwgJ1Rlc3QgZGUgY29ubmV4aW9uIFx1MDBFOWNob3VcdTAwRTkuJywgJ2Vycm9yJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNldEZlZWRiYWNrKHJlc3VsdC5tZXNzYWdlIHx8ICdDb25uZXhpb24gT0suJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgc2hvd1RvYXN0KCdUZXN0IGRlIGNvbm5leGlvbiByXHUwMEU5dXNzaScpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkZXBsb3ldIHRlc3QgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2V0RmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ1Rlc3QgZGUgY29ubmV4aW9uIFx1MDBFOWNob3VcdTAwRTkuJywgJ2Vycm9yJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZXRCdXN5KG51bGwpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgZGVwbG95QnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghZGVwbG95UnVuQXBpKSB7XG4gICAgICAgIHNldEZlZWRiYWNrKCdBdWN1biBzaXRlIGFjdGlmIHNcdTAwRTlsZWN0aW9ublx1MDBFOS4nLCAnZXJyb3InKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2V0QnVzeSgnZGVwbG95Jyk7XG4gICAgICByZW5kZXJMb2dzKFsnRFx1MDBFOXBsb2llbWVudCBlbiBjb3Vyc1x1MjAyNiddKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goZGVwbG95UnVuQXBpLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYnVpbGRQYXlsb2FkKCkpLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICAgICAgICBzZXRGZWVkYmFjaygnQVBJIGRcdTAwRTlwbG9pZW1lbnQgaW5kaXNwb25pYmxlIChyZWRcdTAwRTltYXJyZSBsZSBzZXJ2ZXVyKS4nLCAnZXJyb3InKTtcbiAgICAgICAgICAgIHJlbmRlckxvZ3MoWydBUEkgZFx1MDBFOXBsb2llbWVudCBpbmRpc3BvbmlibGUgKHJlZFx1MDBFOW1hcnJlIGxlIHNlcnZldXIpLiddKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVuZGVyTG9ncyhyZXN1bHQubG9ncyB8fCBbXSk7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5tZXNzYWdlIHx8ICdEXHUwMEU5cGxvaWVtZW50IFx1MDBFOWNob3VcdTAwRTkuJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmVuZGVyTG9ncyhyZXN1bHQubG9ncyB8fCBbXSk7XG4gICAgICAgIGF3YWl0IGZldGNoSGlzdG9yeSgpO1xuICAgICAgICBzaG93VG9hc3QoJ0RcdTAwRTlwbG9pZW1lbnQgdGVybWluXHUwMEU5Jyk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2RlcGxveV0gcnVuIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNldEZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdEXHUwMEU5cGxvaWVtZW50IFx1MDBFOWNob3VcdTAwRTkuJywgJ2Vycm9yJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZXRCdXN5KG51bGwpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgc2hvd1Bhc3N3b3JkVG9nZ2xlPy5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgICBpZiAoIXBhc3N3b3JkSW5wdXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcGFzc3dvcmRJbnB1dC50eXBlID0gc2hvd1Bhc3N3b3JkVG9nZ2xlLmNoZWNrZWQgPyAndGV4dCcgOiAncGFzc3dvcmQnO1xuICAgIH0pO1xuXG4gICAgLy8gRG93bmxvYWQgYnVpbGQgYXMgWklQXG4gICAgY29uc3QgZG93bmxvYWRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kb3dubG9hZC1idWlsZF0nKTtcbiAgICBjb25zdCBkb3dubG9hZEZlZWRiYWNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZG93bmxvYWQtZmVlZGJhY2tdJyk7XG4gICAgY29uc3QgZG93bmxvYWRBcGkgPSBzYWZlU2l0ZVNsdWdcbiAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnKX0vZG93bmxvYWRgXG4gICAgICA6IG51bGw7XG5cbiAgICBjb25zdCBzZXREb3dubG9hZEZlZWRiYWNrID0gKG1lc3NhZ2UsIHRvbmUgPSAnbXV0ZWQnKSA9PiB7XG4gICAgICBpZiAoIWRvd25sb2FkRmVlZGJhY2spIHJldHVybjtcbiAgICAgIGNvbnN0IGNvbG9yID1cbiAgICAgICAgdG9uZSA9PT0gJ3N1Y2Nlc3MnXG4gICAgICAgICAgPyAndGV4dC1lbWVyYWxkLTYwMCdcbiAgICAgICAgICA6IHRvbmUgPT09ICdlcnJvcidcbiAgICAgICAgICAgID8gJ3RleHQtcm9zZS02MDAnXG4gICAgICAgICAgICA6ICd0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICBkb3dubG9hZEZlZWRiYWNrLnRleHRDb250ZW50ID0gbWVzc2FnZSB8fCAnJztcbiAgICAgIGRvd25sb2FkRmVlZGJhY2suY2xhc3NOYW1lID0gYHRleHQtc20gJHtjb2xvcn1gO1xuICAgIH07XG5cbiAgICBkb3dubG9hZEJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWRvd25sb2FkQXBpKSB7XG4gICAgICAgIHNldERvd25sb2FkRmVlZGJhY2soJ0F1Y3VuIHNpdGUgYWN0aWYgc1x1MDBFOWxlY3Rpb25uXHUwMEU5LicsICdlcnJvcicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBkb3dubG9hZEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICBjb25zdCBvcmlnaW5hbENvbnRlbnQgPSBkb3dubG9hZEJ1dHRvbi5pbm5lckhUTUw7XG4gICAgICBkb3dubG9hZEJ1dHRvbi5pbm5lckhUTUwgPSBgXG4gICAgICAgIDxzdmcgY2xhc3M9XCJ3LTQgaC00IGFuaW1hdGUtc3BpblwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgIDxjaXJjbGUgY2xhc3M9XCJvcGFjaXR5LTI1XCIgY3g9XCIxMlwiIGN5PVwiMTJcIiByPVwiMTBcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCI0XCI+PC9jaXJjbGU+XG4gICAgICAgICAgPHBhdGggY2xhc3M9XCJvcGFjaXR5LTc1XCIgZmlsbD1cImN1cnJlbnRDb2xvclwiIGQ9XCJNNCAxMmE4IDggMCAwMTgtOHY0YTQgNCAwIDAwLTQgNEg0elwiPjwvcGF0aD5cbiAgICAgICAgPC9zdmc+XG4gICAgICAgIDxzcGFuPkJ1aWxkIGVuIGNvdXJzLi4uPC9zcGFuPlxuICAgICAgYDtcbiAgICAgIHNldERvd25sb2FkRmVlZGJhY2soJ0dcdTAwRTluXHUwMEU5cmF0aW9uIGR1IGJ1aWxkIGVuIGNvdXJzLi4uJywgJ211dGVkJyk7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goZG93bmxvYWRBcGkpO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgY29uc3QgZXJyb3JEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvckRhdGEubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBnXHUwMEU5blx1MDBFOXJlciBsZSBaSVAuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVFx1MDBFOWxcdTAwRTljaGFyZ2VyIGxlIGZpY2hpZXJcbiAgICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IHJlc3BvbnNlLmJsb2IoKTtcbiAgICAgICAgY29uc3QgdXJsID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4gICAgICAgIGNvbnN0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICAgIGEuaHJlZiA9IHVybDtcbiAgICAgICAgYS5kb3dubG9hZCA9IGAke3NhZmVTaXRlU2x1Z30tYnVpbGQuemlwYDtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhKTtcbiAgICAgICAgYS5jbGljaygpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGEpO1xuICAgICAgICB3aW5kb3cuVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpO1xuICAgICAgICBzZXREb3dubG9hZEZlZWRiYWNrKCdUXHUwMEU5bFx1MDBFOWNoYXJnZW1lbnQgdGVybWluXHUwMEU5ICEnLCAnc3VjY2VzcycpO1xuICAgICAgICBzaG93VG9hc3QoJ0J1aWxkIHRcdTAwRTlsXHUwMEU5Y2hhcmdcdTAwRTkgYXZlYyBzdWNjXHUwMEU4cycpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkb3dubG9hZF0gZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2V0RG93bmxvYWRGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZHUgdFx1MDBFOWxcdTAwRTljaGFyZ2VtZW50LicsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgZG93bmxvYWRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgZG93bmxvYWRCdXR0b24uaW5uZXJIVE1MID0gb3JpZ2luYWxDb250ZW50O1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgZmV0Y2hDb25maWcoKTtcbiAgICBmZXRjaEhpc3RvcnkoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXRTZXR0aW5nc1dvcmtzcGFjZSgpIHtcbiAgICBjb25zdCB0YWJCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtc2V0dGluZ3MtdGFiXScpO1xuICAgIGNvbnN0IHRhYlBhbmVscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXNldHRpbmdzLXBhbmVsXScpO1xuICAgIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZG1pbi1wYXNzd29yZC1mb3JtXScpO1xuICAgIGNvbnN0IHNpdGVGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS1jb25maWctZm9ybV0nKTtcbiAgICBjb25zdCBzaXRlRmVlZGJhY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLWNvbmZpZy1mZWVkYmFja10nKTtcbiAgICBjb25zdCB0aGVtZUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1mb3JtXScpO1xuICAgIGNvbnN0IHN3aXRjaFRhYiA9IChuYW1lKSA9PiB7XG4gICAgICB0YWJCdXR0b25zLmZvckVhY2goKGJ0bikgPT4ge1xuICAgICAgICBjb25zdCBpc0FjdGl2ZSA9IGJ0bi5kYXRhc2V0LnNldHRpbmdzVGFiID09PSBuYW1lO1xuICAgICAgICBidG4uc2V0QXR0cmlidXRlKCdhcmlhLXNlbGVjdGVkJywgaXNBY3RpdmUgPyAndHJ1ZScgOiAnZmFsc2UnKTtcbiAgICAgICAgYnRuLmNsYXNzTGlzdC50b2dnbGUoJ2JnLVsjOUM2QkZGXScsIGlzQWN0aXZlKTtcbiAgICAgICAgYnRuLmNsYXNzTGlzdC50b2dnbGUoJ3RleHQtd2hpdGUnLCBpc0FjdGl2ZSk7XG4gICAgICB9KTtcbiAgICAgIHRhYlBhbmVscy5mb3JFYWNoKChwYW5lbCkgPT4ge1xuICAgICAgICBwYW5lbC5jbGFzc0xpc3QudG9nZ2xlKCdoaWRkZW4nLCBwYW5lbC5kYXRhc2V0LnNldHRpbmdzUGFuZWwgIT09IG5hbWUpO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICB0YWJCdXR0b25zLmZvckVhY2goKGJ0bikgPT4ge1xuICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gc3dpdGNoVGFiKGJ0bi5kYXRhc2V0LnNldHRpbmdzVGFiIHx8ICdhY2NvdW50JykpO1xuICAgIH0pO1xuICAgIHN3aXRjaFRhYignYWNjb3VudCcpO1xuXG4gICAgaWYgKCFmb3JtKSB7XG4gICAgICAvLyBzdGlsbCBhbGxvdyBzaXRlIGZvcm0gZXZlbiBpZiBwYXNzd29yZCBmb3JtIGFic2VudFxuICAgIH1cbiAgICBpZiAoZm9ybSkge1xuICAgICAgY29uc3QgZmVlZGJhY2sgPSBmb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFkbWluLXBhc3N3b3JkLWZlZWRiYWNrXScpO1xuICAgICAgY29uc3Qgc3VibWl0ID0gZm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZG1pbi1wYXNzd29yZC1zdWJtaXRdJyk7XG4gICAgICBjb25zdCBzZXRGZWVkYmFjayA9IChtZXNzYWdlLCB0b25lID0gJ211dGVkJykgPT4ge1xuICAgICAgICBpZiAoIWZlZWRiYWNrKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGNvbG9yID1cbiAgICAgICAgICB0b25lID09PSAnc3VjY2VzcydcbiAgICAgICAgICAgID8gJ3RleHQtZW1lcmFsZC02MDAnXG4gICAgICAgICAgICA6IHRvbmUgPT09ICdlcnJvcidcbiAgICAgICAgICAgICAgPyAndGV4dC1yb3NlLTYwMCdcbiAgICAgICAgICAgICAgOiAndGV4dC1zbGF0ZS01MDAnO1xuICAgICAgICBmZWVkYmFjay50ZXh0Q29udGVudCA9IG1lc3NhZ2UgfHwgJyc7XG4gICAgICAgIGZlZWRiYWNrLmNsYXNzTmFtZSA9IGB0ZXh0LXNtICR7Y29sb3J9YDtcbiAgICAgIH07XG4gICAgICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YShmb3JtKTtcbiAgICAgICAgY29uc3QgY3VycmVudFBhc3N3b3JkID0gZm9ybURhdGEuZ2V0KCdjdXJyZW50UGFzc3dvcmQnKSB8fCAnJztcbiAgICAgICAgY29uc3QgbmV3UGFzc3dvcmQgPSBmb3JtRGF0YS5nZXQoJ25ld1Bhc3N3b3JkJykgfHwgJyc7XG4gICAgICAgIGNvbnN0IGNvbmZpcm1QYXNzd29yZCA9IGZvcm1EYXRhLmdldCgnY29uZmlybVBhc3N3b3JkJykgfHwgJyc7XG4gICAgICAgIGlmICghY3VycmVudFBhc3N3b3JkIHx8ICFuZXdQYXNzd29yZCB8fCAhY29uZmlybVBhc3N3b3JkKSB7XG4gICAgICAgICAgc2V0RmVlZGJhY2soJ0NvbXBsXHUwMEU4dGUgdG91cyBsZXMgY2hhbXBzLicsICdlcnJvcicpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzdWJtaXQgJiYgKHN1Ym1pdC5kaXNhYmxlZCA9IHRydWUpO1xuICAgICAgICBzZXRGZWVkYmFjaygnJyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9hZG1pbi9wYXNzd29yZCcsIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGN1cnJlbnRQYXNzd29yZCwgbmV3UGFzc3dvcmQsIGNvbmZpcm1QYXNzd29yZCB9KSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2sgfHwgcGF5bG9hZC5zdWNjZXNzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHBheWxvYWQubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBtZXR0cmUgXHUwMEUwIGpvdXIgbGUgbW90IGRlIHBhc3NlLicpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXRGZWVkYmFjayhwYXlsb2FkLm1lc3NhZ2UgfHwgJ01vdCBkZSBwYXNzZSBtaXMgXHUwMEUwIGpvdXIuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgICBmb3JtLnJlc2V0KCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gY2hhbmdlIHBhc3N3b3JkIGZhaWxlZCcsIGVycik7XG4gICAgICAgICAgc2V0RmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGRlIGxhIG1pc2UgXHUwMEUwIGpvdXIuJywgJ2Vycm9yJyk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgc3VibWl0ICYmIChzdWJtaXQuZGlzYWJsZWQgPSBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChzaXRlRm9ybSkge1xuICAgICAgY29uc3QgbmFtZUlucHV0ID0gc2l0ZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS1uYW1lXScpO1xuICAgICAgY29uc3QgbGFuZ1NlbGVjdCA9IHNpdGVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtbGFuZ3VhZ2VdJyk7XG4gICAgICBjb25zdCB0YWdsaW5lSW5wdXQgPSBzaXRlRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLXRhZ2xpbmVdJyk7XG4gICAgICBjb25zdCBzYXZlQnV0dG9uID0gc2l0ZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS1zYXZlXScpO1xuICAgICAgY29uc3Qgc2V0U2l0ZUZlZWRiYWNrID0gKG1lc3NhZ2UsIHRvbmUgPSAnbXV0ZWQnKSA9PiB7XG4gICAgICAgIGlmICghc2l0ZUZlZWRiYWNrKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGNvbG9yID1cbiAgICAgICAgICB0b25lID09PSAnc3VjY2VzcydcbiAgICAgICAgICAgID8gJ3RleHQtZW1lcmFsZC02MDAnXG4gICAgICAgICAgICA6IHRvbmUgPT09ICdlcnJvcidcbiAgICAgICAgICAgICAgPyAndGV4dC1yb3NlLTYwMCdcbiAgICAgICAgICAgICAgOiAndGV4dC1zbGF0ZS01MDAnO1xuICAgICAgICBzaXRlRmVlZGJhY2sudGV4dENvbnRlbnQgPSBtZXNzYWdlIHx8ICcnO1xuICAgICAgICBzaXRlRmVlZGJhY2suY2xhc3NOYW1lID0gYHRleHQtc20gJHtjb2xvcn1gO1xuICAgICAgfTtcblxuICAgICAgY29uc3Qgc2FmZVNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goXG4gICAgICAgIHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJycsXG4gICAgICApO1xuICAgICAgY29uc3Qgc2l0ZUNvbmZpZ0FwaSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Zyl9L2NvbmZpZy9zaXRlYFxuICAgICAgICA6IG51bGw7XG5cbiAgICAgIGNvbnN0IGxvYWRTaXRlQ29uZmlnID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoIXNpdGVDb25maWdBcGkpIHJldHVybjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHNpdGVDb25maWdBcGksIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHJldHVybjtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIGlmIChuYW1lSW5wdXQpIG5hbWVJbnB1dC52YWx1ZSA9IHBheWxvYWQubmFtZSB8fCAnJztcbiAgICAgICAgICBpZiAobGFuZ1NlbGVjdCkgbGFuZ1NlbGVjdC52YWx1ZSA9IHBheWxvYWQubGFuZ3VhZ2UgfHwgJ2ZyJztcbiAgICAgICAgICBpZiAodGFnbGluZUlucHV0KSB0YWdsaW5lSW5wdXQudmFsdWUgPSBwYXlsb2FkLnRhZ2xpbmUgfHwgJyc7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gbG9hZCBzaXRlIGNvbmZpZyBmYWlsZWQnLCBlcnIpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBzaXRlRm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKCFzaXRlQ29uZmlnQXBpKSB7XG4gICAgICAgICAgc2V0U2l0ZUZlZWRiYWNrKCdBdWN1biBzaXRlIGFjdGlmLicsICdlcnJvcicpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW5hbWVJbnB1dD8udmFsdWUudHJpbSgpKSB7XG4gICAgICAgICAgc2V0U2l0ZUZlZWRiYWNrKCdOb20gcmVxdWlzLicsICdlcnJvcicpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzYXZlQnV0dG9uICYmIChzYXZlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZSk7XG4gICAgICAgIHNldFNpdGVGZWVkYmFjaygnJyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgICAgIG5hbWU6IG5hbWVJbnB1dD8udmFsdWUgfHwgJycsXG4gICAgICAgICAgICBsYW5ndWFnZTogbGFuZ1NlbGVjdD8udmFsdWUgfHwgJ2ZyJyxcbiAgICAgICAgICAgIHRhZ2xpbmU6IHRhZ2xpbmVJbnB1dD8udmFsdWUgfHwgJycsXG4gICAgICAgICAgfTtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHNpdGVDb25maWdBcGksIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rIHx8IHJlc3VsdC5zdWNjZXNzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5tZXNzYWdlIHx8ICdTYXV2ZWdhcmRlIGltcG9zc2libGUuJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNldFNpdGVGZWVkYmFjayhyZXN1bHQubWVzc2FnZSB8fCAnUGFyYW1cdTAwRTh0cmVzIGVucmVnaXN0clx1MDBFOXMuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3NldHRpbmdzXSBzYXZlIHNpdGUgY29uZmlnIGZhaWxlZCcsIGVycik7XG4gICAgICAgICAgc2V0U2l0ZUZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsYSBzYXV2ZWdhcmRlLicsICdlcnJvcicpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIHNhdmVCdXR0b24gJiYgKHNhdmVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBsb2FkU2l0ZUNvbmZpZygpO1xuICAgIH1cblxuICAgIGlmICh0aGVtZUZvcm0pIHtcbiAgICAgIGNvbnN0IHNhZmVTaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKFxuICAgICAgICB3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnLFxuICAgICAgKTtcbiAgICAgIGNvbnN0IHRoZW1lQXBpID0gc2FmZVNpdGVTbHVnXG4gICAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnKX0vY29uZmlnL3RoZW1lYFxuICAgICAgICA6IG51bGw7XG5cbiAgICAgIGNvbnN0IGNvbG9yU2VsZWN0cyA9IHtcbiAgICAgICAgcHJpbWFyeTogdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLXByaW1hcnldJyksXG4gICAgICAgIHNlY29uZGFyeTogdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLXNlY29uZGFyeV0nKSxcbiAgICAgICAgYWNjZW50OiB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtYWNjZW50XScpLFxuICAgICAgICBiYWNrZ3JvdW5kOiB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtYmFja2dyb3VuZF0nKSxcbiAgICAgICAgdGV4dDogdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLXRleHRdJyksXG4gICAgICB9O1xuICAgICAgY29uc3QgaGVhZGluZ1NlbGVjdCA9IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1oZWFkaW5nc10nKTtcbiAgICAgIGNvbnN0IGJvZHlTZWxlY3QgPSB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtYm9keV0nKTtcbiAgICAgIGNvbnN0IHJhZGl1c1NtYWxsID0gdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLXJhZGl1cy1zbWFsbF0nKTtcbiAgICAgIGNvbnN0IHJhZGl1c01lZGl1bSA9IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1yYWRpdXMtbWVkaXVtXScpO1xuICAgICAgY29uc3QgcmFkaXVzTGFyZ2UgPSB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtcmFkaXVzLWxhcmdlXScpO1xuICAgICAgY29uc3QgcHJldmlldyA9IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1wcmV2aWV3XScpO1xuICAgICAgY29uc3QgdGhlbWVGZWVkYmFjayA9IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1mZWVkYmFja10nKTtcbiAgICAgIGNvbnN0IGFwcGx5QnV0dG9uID0gdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLWFwcGx5XScpO1xuICAgICAgY29uc3QgdGFpbHdpbmRIdWVzID0gW1xuICAgICAgICAnc2xhdGUnLCdncmF5JywnemluYycsJ25ldXRyYWwnLCdzdG9uZScsJ3JlZCcsJ29yYW5nZScsJ2FtYmVyJywneWVsbG93JywnbGltZScsJ2dyZWVuJywnZW1lcmFsZCcsJ3RlYWwnLCdjeWFuJywnc2t5JywnYmx1ZScsJ2luZGlnbycsJ3Zpb2xldCcsJ3B1cnBsZScsJ2Z1Y2hzaWEnLCdwaW5rJywncm9zZSdcbiAgICAgIF07XG4gICAgICBjb25zdCB0YWlsd2luZFNoYWRlcyA9IFsnNTAnLCcxMDAnLCcyMDAnLCczMDAnLCc0MDAnLCc1MDAnLCc2MDAnLCc3MDAnLCc4MDAnLCc5MDAnXTtcbiAgICAgIGNvbnN0IHRhaWx3aW5kVG9rZW5zID0gdGFpbHdpbmRIdWVzLmZsYXRNYXAoKGgpPT50YWlsd2luZFNoYWRlcy5tYXAoKHMpPT5gJHtofS0ke3N9YCkpO1xuXG4gICAgICBjb25zdCBmaWxsQ29sb3JPcHRpb25zID0gKCkgPT4ge1xuICAgICAgICBPYmplY3QudmFsdWVzKGNvbG9yU2VsZWN0cykuZm9yRWFjaCgoc2VsKT0+e1xuICAgICAgICAgIGlmICghc2VsIHx8IHNlbC5vcHRpb25zLmxlbmd0aCkgcmV0dXJuO1xuICAgICAgICAgIHRhaWx3aW5kVG9rZW5zLmZvckVhY2goKHRva2VuKT0+e1xuICAgICAgICAgICAgY29uc3Qgb3B0aW9uPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICAgICAgb3B0aW9uLnZhbHVlPXRva2VuO1xuICAgICAgICAgICAgY29uc3QgW2gsc109dG9rZW4uc3BsaXQoJy0nKTtcbiAgICAgICAgICAgIG9wdGlvbi50ZXh0Q29udGVudD1gJHtoLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2guc2xpY2UoMSl9ICR7c31gO1xuICAgICAgICAgICAgc2VsLmFwcGVuZENoaWxkKG9wdGlvbik7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcblxuICAgICAgY29uc3Qgc2V0VGhlbWVGZWVkYmFjayA9IChtZXNzYWdlLCB0b25lID0gJ211dGVkJykgPT4ge1xuICAgICAgICBpZiAoIXRoZW1lRmVlZGJhY2spIHJldHVybjtcbiAgICAgICAgY29uc3QgY29sb3IgPVxuICAgICAgICAgIHRvbmUgPT09ICdzdWNjZXNzJ1xuICAgICAgICAgICAgPyAndGV4dC1lbWVyYWxkLTYwMCdcbiAgICAgICAgICAgIDogdG9uZSA9PT0gJ2Vycm9yJ1xuICAgICAgICAgICAgICA/ICd0ZXh0LXJvc2UtNjAwJ1xuICAgICAgICAgICAgICA6ICd0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICAgIHRoZW1lRmVlZGJhY2sudGV4dENvbnRlbnQgPSBtZXNzYWdlIHx8ICcnO1xuICAgICAgICB0aGVtZUZlZWRiYWNrLmNsYXNzTmFtZSA9IGB0ZXh0LXNtICR7Y29sb3J9YDtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHN5bmNQcmV2aWV3ID0gKCkgPT4ge1xuICAgICAgICBpZiAoIXByZXZpZXcpIHJldHVybjtcbiAgICAgICAgY29uc3QgdG9rZW5Ub0hleCA9ICh0b2tlbikgPT4ge1xuICAgICAgICAgIGlmICghdG9rZW4pIHJldHVybiBudWxsO1xuICAgICAgICAgIC8vIEdcdTAwRTlyZXIgbGVzIGNhcyBzcFx1MDBFOWNpYXV4IHdoaXRlLCBibGFjaywgdHJhbnNwYXJlbnRcbiAgICAgICAgICBpZiAodG9rZW4gPT09ICd3aGl0ZScpIHJldHVybiAnI2ZmZmZmZic7XG4gICAgICAgICAgaWYgKHRva2VuID09PSAnYmxhY2snKSByZXR1cm4gJyMwMDAwMDAnO1xuICAgICAgICAgIGlmICh0b2tlbiA9PT0gJ3RyYW5zcGFyZW50JykgcmV0dXJuICd0cmFuc3BhcmVudCc7XG4gICAgICAgICAgXG4gICAgICAgICAgY29uc3QgW2gsc109dG9rZW4uc3BsaXQoJy0nKTtcbiAgICAgICAgICBpZiAoIWggfHwgIXMpIHJldHVybiBudWxsOyAvLyBGb3JtYXQgaW52YWxpZGVcbiAgICAgICAgICBcbiAgICAgICAgICBjb25zdCBtYXAgPSB7XG4gICAgICAgICAgICBzbGF0ZTonI2UyZThmMCcsZ3JheTonI2QxZDVkYicsemluYzonI2Q0ZDRkOCcsbmV1dHJhbDonI2Q0ZDRkNCcsc3RvbmU6JyNkNmQzZDEnLFxuICAgICAgICAgICAgcmVkOicjZWY0NDQ0JyxvcmFuZ2U6JyNmOTczMTYnLGFtYmVyOicjZjU5ZTBiJyx5ZWxsb3c6JyNlYWIzMDgnLGxpbWU6JyM4NGNjMTYnLFxuICAgICAgICAgICAgZ3JlZW46JyMyMmM1NWUnLGVtZXJhbGQ6JyMxMGI5ODEnLHRlYWw6JyMxNGI4YTYnLGN5YW46JyMwNmI2ZDQnLHNreTonIzBlYTVlOScsXG4gICAgICAgICAgICBibHVlOicjM2I4MmY2JyxpbmRpZ286JyM2MzY2ZjEnLHZpb2xldDonIzhiNWNmNicscHVycGxlOicjYTg1NWY3JyxmdWNoc2lhOicjZDk0NmVmJyxcbiAgICAgICAgICAgIHBpbms6JyNlYzQ4OTknLHJvc2U6JyNmNDNmNWUnXG4gICAgICAgICAgfTtcbiAgICAgICAgICBjb25zdCBiYXNlPW1hcFtoXTtcbiAgICAgICAgICBpZiAoIWJhc2UpIHJldHVybiBudWxsO1xuICAgICAgICAgIC8vIHJvdWdoIHNoYWRlIHR3ZWFrIHVzaW5nIG9wYWNpdHk7IG5vdCBleGFjdCBUYWlsd2luZCBwYWxldHRlIGJ1dCBwcmV2aWV3LWZyaWVuZGx5XG4gICAgICAgICAgY29uc3Qgc2hhZGVOdW09TnVtYmVyKHMpfHw1MDA7XG4gICAgICAgICAgY29uc3QgZmFjdG9yID0gTWF0aC5taW4oTWF0aC5tYXgoKHNoYWRlTnVtLTUwKS85MDAsMCksMSk7XG4gICAgICAgICAgY29uc3QgdG9SZ2I9KGhleCk9PmhleC5tYXRjaCgvW0EtRmEtZjAtOV17Mn0vZykubWFwKCh2KT0+cGFyc2VJbnQodiwxNikpO1xuICAgICAgICAgIGNvbnN0IFtyLGcsYl09dG9SZ2IoYmFzZS5yZXBsYWNlKCcjJywnJykpO1xuICAgICAgICAgIGNvbnN0IG1peD0odik9Pk1hdGgucm91bmQoMjU1IC0gKDI1NSAtIHYpKmZhY3Rvcik7XG4gICAgICAgICAgcmV0dXJuIGByZ2IoJHttaXgocil9LCAke21peChnKX0sICR7bWl4KGIpfSlgO1xuICAgICAgICB9O1xuICAgICAgICBwcmV2aWV3LnN0eWxlLnNldFByb3BlcnR5KCctLWNvbG9yLXByaW1hcnknLCB0b2tlblRvSGV4KGNvbG9yU2VsZWN0cy5wcmltYXJ5Py52YWx1ZSkgfHwgJyM5QzZCRkYnKTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1jb2xvci1zZWNvbmRhcnknLCB0b2tlblRvSGV4KGNvbG9yU2VsZWN0cy5zZWNvbmRhcnk/LnZhbHVlKSB8fCAnIzBFQTVFOScpO1xuICAgICAgICBwcmV2aWV3LnN0eWxlLnNldFByb3BlcnR5KCctLWNvbG9yLWFjY2VudCcsIHRva2VuVG9IZXgoY29sb3JTZWxlY3RzLmFjY2VudD8udmFsdWUpIHx8ICcjRjk3MzE2Jyk7XG4gICAgICAgIHByZXZpZXcuc3R5bGUuc2V0UHJvcGVydHkoJy0tY29sb3ItYmFja2dyb3VuZCcsIHRva2VuVG9IZXgoY29sb3JTZWxlY3RzLmJhY2tncm91bmQ/LnZhbHVlKSB8fCAnI0ZGRkZGRicpO1xuICAgICAgICBwcmV2aWV3LnN0eWxlLnNldFByb3BlcnR5KCctLWNvbG9yLXRleHQnLCB0b2tlblRvSGV4KGNvbG9yU2VsZWN0cy50ZXh0Py52YWx1ZSkgfHwgJyMwRjE3MkEnKTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1mb250LWhlYWRpbmdzJywgaGVhZGluZ1NlbGVjdD8udmFsdWUgfHwgJ0ludGVyLCBzYW5zLXNlcmlmJyk7XG4gICAgICAgIHByZXZpZXcuc3R5bGUuc2V0UHJvcGVydHkoJy0tZm9udC1ib2R5JywgYm9keVNlbGVjdD8udmFsdWUgfHwgJ0ludGVyLCBzYW5zLXNlcmlmJyk7XG4gICAgICAgIHByZXZpZXcuc3R5bGUuc2V0UHJvcGVydHkoJy0tcmFkaXVzLXNtYWxsJywgcmFkaXVzU21hbGw/LnZhbHVlIHx8ICc4cHgnKTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1yYWRpdXMtbWVkaXVtJywgcmFkaXVzTWVkaXVtPy52YWx1ZSB8fCAnMTZweCcpO1xuICAgICAgICBwcmV2aWV3LnN0eWxlLnNldFByb3BlcnR5KCctLXJhZGl1cy1sYXJnZScsIHJhZGl1c0xhcmdlPy52YWx1ZSB8fCAnMjRweCcpO1xuICAgICAgICBwcmV2aWV3LnN0eWxlLmJvcmRlclJhZGl1cyA9IHJhZGl1c01lZGl1bT8udmFsdWUgfHwgJzE2cHgnO1xuICAgICAgfTtcblxuICAgICAgY29uc3Qgc2V0Q29sb3JGaWVsZHMgPSAoa2V5LCB2YWx1ZSkgPT4ge1xuICAgICAgICBpZiAoY29sb3JTZWxlY3RzW2tleV0pIGNvbG9yU2VsZWN0c1trZXldLnZhbHVlID0gdmFsdWU7XG4gICAgICB9O1xuICAgICAgXG4gICAgICAvLyBGb25jdGlvbiBwb3VyIG1ldHRyZSBcdTAwRTAgam91ciBsZSBwcmV2aWV3IGRlIGNvdWxldXIgZCd1biBzZWxlY3RcbiAgICAgIGNvbnN0IHVwZGF0ZUNvbG9yU2VsZWN0UHJldmlldyA9IChzZWxlY3QpID0+IHtcbiAgICAgICAgaWYgKCFzZWxlY3QpIHJldHVybjtcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRPcHRpb24gPSBzZWxlY3Qub3B0aW9uc1tzZWxlY3Quc2VsZWN0ZWRJbmRleF07XG4gICAgICAgIGNvbnN0IGNvbG9yID0gc2VsZWN0ZWRPcHRpb24/LmRhdGFzZXQ/LmNvbG9yIHx8ICcjZmZmZmZmJztcbiAgICAgICAgY29uc3QgY29sb3JQcmV2aWV3ID0gc2VsZWN0LmNsb3Nlc3QoJy5yZWxhdGl2ZScpPy5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xvci1wcmV2aWV3XScpO1xuICAgICAgICBpZiAoY29sb3JQcmV2aWV3KSB7XG4gICAgICAgICAgaWYgKGNvbG9yID09PSAndHJhbnNwYXJlbnQnKSB7XG4gICAgICAgICAgICBjb2xvclByZXZpZXcuc3R5bGUuYmFja2dyb3VuZCA9ICdyZXBlYXRpbmctY29uaWMtZ3JhZGllbnQoI2NjYyAwJSAyNSUsIHdoaXRlIDAlIDUwJSkgNTAlIC8gOHB4IDhweCc7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbG9yUHJldmlldy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBjb2xvcjtcbiAgICAgICAgICAgIGNvbG9yUHJldmlldy5zdHlsZS5iYWNrZ3JvdW5kID0gJyc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgXG4gICAgICAvLyBJbml0aWFsaXNlciBsZXMgcHJldmlld3MgZGUgY291bGV1ciBldCBham91dGVyIGxlcyBsaXN0ZW5lcnNcbiAgICAgIGNvbnN0IGluaXRDb2xvclByZXZpZXdzID0gKCkgPT4ge1xuICAgICAgICBPYmplY3QudmFsdWVzKGNvbG9yU2VsZWN0cykuZm9yRWFjaCgoc2VsZWN0KSA9PiB7XG4gICAgICAgICAgaWYgKCFzZWxlY3QpIHJldHVybjtcbiAgICAgICAgICB1cGRhdGVDb2xvclNlbGVjdFByZXZpZXcoc2VsZWN0KTtcbiAgICAgICAgICBzZWxlY3QuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4gdXBkYXRlQ29sb3JTZWxlY3RQcmV2aWV3KHNlbGVjdCkpO1xuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgIE9iamVjdC5rZXlzKGNvbG9yU2VsZWN0cykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgIGNvbG9yU2VsZWN0c1trZXldPy5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBzeW5jUHJldmlldyk7XG4gICAgICB9KTtcbiAgICAgIFtoZWFkaW5nU2VsZWN0LCBib2R5U2VsZWN0LCByYWRpdXNTbWFsbCwgcmFkaXVzTWVkaXVtLCByYWRpdXNMYXJnZV0uZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgICAgZWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHN5bmNQcmV2aWV3KTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBsb2FkVGhlbWUgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIGlmICghdGhlbWVBcGkpIHJldHVybjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHRoZW1lQXBpLCB7XG4gICAgICAgICAgICBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICBjcmVkZW50aWFsczogJ2luY2x1ZGUnLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHJldHVybjtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIHNldENvbG9yRmllbGRzKCdwcmltYXJ5JywgcGF5bG9hZC5jb2xvcnM/LnByaW1hcnkgfHwgJ3Zpb2xldC01MDAnKTtcbiAgICAgICAgICBzZXRDb2xvckZpZWxkcygnc2Vjb25kYXJ5JywgcGF5bG9hZC5jb2xvcnM/LnNlY29uZGFyeSB8fCAnaW5kaWdvLTQwMCcpO1xuICAgICAgICAgIHNldENvbG9yRmllbGRzKCdhY2NlbnQnLCBwYXlsb2FkLmNvbG9ycz8uYWNjZW50IHx8ICdlbWVyYWxkLTUwMCcpO1xuICAgICAgICAgIHNldENvbG9yRmllbGRzKCdiYWNrZ3JvdW5kJywgcGF5bG9hZC5jb2xvcnM/LmJhY2tncm91bmQgfHwgJ3NsYXRlLTUwJyk7XG4gICAgICAgICAgc2V0Q29sb3JGaWVsZHMoJ3RleHQnLCBwYXlsb2FkLmNvbG9ycz8udGV4dCB8fCAnc2xhdGUtOTAwJyk7XG4gICAgICAgICAgaWYgKGhlYWRpbmdTZWxlY3QpIGhlYWRpbmdTZWxlY3QudmFsdWUgPSBwYXlsb2FkLnR5cG9ncmFwaHk/LmhlYWRpbmdzIHx8ICdJbnRlciwgc2Fucy1zZXJpZic7XG4gICAgICAgICAgaWYgKGJvZHlTZWxlY3QpIGJvZHlTZWxlY3QudmFsdWUgPSBwYXlsb2FkLnR5cG9ncmFwaHk/LmJvZHkgfHwgJ0ludGVyLCBzYW5zLXNlcmlmJztcbiAgICAgICAgICBpZiAocmFkaXVzU21hbGwpIHJhZGl1c1NtYWxsLnZhbHVlID0gcGF5bG9hZC5yYWRpdXM/LnNtYWxsIHx8ICc4cHgnO1xuICAgICAgICAgIGlmIChyYWRpdXNNZWRpdW0pIHJhZGl1c01lZGl1bS52YWx1ZSA9IHBheWxvYWQucmFkaXVzPy5tZWRpdW0gfHwgJzE2cHgnO1xuICAgICAgICAgIGlmIChyYWRpdXNMYXJnZSkgcmFkaXVzTGFyZ2UudmFsdWUgPSBwYXlsb2FkLnJhZGl1cz8ubGFyZ2UgfHwgJzI0cHgnO1xuICAgICAgICAgIHN5bmNQcmV2aWV3KCk7XG4gICAgICAgICAgLy8gTWV0dHJlIFx1MDBFMCBqb3VyIGxlcyBwcmV2aWV3cyBkZSBjb3VsZXVyIGFwclx1MDBFOHMgY2hhcmdlbWVudFxuICAgICAgICAgIE9iamVjdC52YWx1ZXMoY29sb3JTZWxlY3RzKS5mb3JFYWNoKHVwZGF0ZUNvbG9yU2VsZWN0UHJldmlldyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gbG9hZCB0aGVtZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBmaWxsQ29sb3JPcHRpb25zKCk7XG4gICAgICBpbml0Q29sb3JQcmV2aWV3cygpO1xuICAgICAgYXBwbHlCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmICghdGhlbWVBcGkpIHtcbiAgICAgICAgICBzZXRUaGVtZUZlZWRiYWNrKCdBdWN1biBzaXRlIGFjdGlmLicsICdlcnJvcicpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICAgIGNvbG9yczoge1xuICAgICAgICAgICAgcHJpbWFyeTogY29sb3JTZWxlY3RzLnByaW1hcnk/LnZhbHVlIHx8ICd2aW9sZXQtNTAwJyxcbiAgICAgICAgICAgIHNlY29uZGFyeTogY29sb3JTZWxlY3RzLnNlY29uZGFyeT8udmFsdWUgfHwgJ2luZGlnby00MDAnLFxuICAgICAgICAgICAgYWNjZW50OiBjb2xvclNlbGVjdHMuYWNjZW50Py52YWx1ZSB8fCAnZW1lcmFsZC01MDAnLFxuICAgICAgICAgICAgYmFja2dyb3VuZDogY29sb3JTZWxlY3RzLmJhY2tncm91bmQ/LnZhbHVlIHx8ICdzbGF0ZS01MCcsXG4gICAgICAgICAgICB0ZXh0OiBjb2xvclNlbGVjdHMudGV4dD8udmFsdWUgfHwgJ3NsYXRlLTkwMCcsXG4gICAgICAgICAgfSxcbiAgICAgICAgICB0eXBvZ3JhcGh5OiB7XG4gICAgICAgICAgICBoZWFkaW5nczogaGVhZGluZ1NlbGVjdD8udmFsdWUgfHwgJ0ludGVyLCBzYW5zLXNlcmlmJyxcbiAgICAgICAgICAgIGJvZHk6IGJvZHlTZWxlY3Q/LnZhbHVlIHx8ICdJbnRlciwgc2Fucy1zZXJpZicsXG4gICAgICAgICAgfSxcbiAgICAgICAgICByYWRpdXM6IHtcbiAgICAgICAgICAgIHNtYWxsOiByYWRpdXNTbWFsbD8udmFsdWUgfHwgJzhweCcsXG4gICAgICAgICAgICBtZWRpdW06IHJhZGl1c01lZGl1bT8udmFsdWUgfHwgJzE2cHgnLFxuICAgICAgICAgICAgbGFyZ2U6IHJhZGl1c0xhcmdlPy52YWx1ZSB8fCAnMjRweCcsXG4gICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgYXBwbHlCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICBzZXRUaGVtZUZlZWRiYWNrKCcnKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHRoZW1lQXBpLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICBjcmVkZW50aWFsczogJ2luY2x1ZGUnLFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2sgfHwgcmVzdWx0LnN1Y2Nlc3MgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzdWx0Lm1lc3NhZ2UgfHwgJ0FwcGxpY2F0aW9uIGR1IHRoXHUwMEU4bWUgXHUwMEU5Y2hvdVx1MDBFOWUuJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNldFRoZW1lRmVlZGJhY2socmVzdWx0Lm1lc3NhZ2UgfHwgJ1RoXHUwMEU4bWUgYXBwbGlxdVx1MDBFOS4nLCAnc3VjY2VzcycpO1xuICAgICAgICAgIHN5bmNQcmV2aWV3KCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gYXBwbHkgdGhlbWUgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgICBzZXRUaGVtZUZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsXHUyMDE5YXBwbGljYXRpb24gZHUgdGhcdTAwRThtZS4nLCAnZXJyb3InKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBhcHBseUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgZmlsbENvbG9yT3B0aW9ucygpO1xuICAgICAgaW5pdENvbG9yUHJldmlld3MoKTtcbiAgICAgIGxvYWRUaGVtZSgpO1xuICAgICAgc3luY1ByZXZpZXcoKTtcbiAgICB9XG5cbiAgICAvLyBTRU8gQ29uZmlnIGZvcm0gKFVTOS5CMSlcbiAgICBjb25zdCBzZW9Db25maWdGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2VvLWNvbmZpZy1mb3JtXScpO1xuICAgIGlmIChzZW9Db25maWdGb3JtKSB7XG4gICAgICBjb25zdCBpbmRleEFsbENoZWNrYm94ID0gc2VvQ29uZmlnRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8taW5kZXgtYWxsXScpO1xuICAgICAgY29uc3Qgc2VvQ29uZmlnRmVlZGJhY2sgPSBzZW9Db25maWdGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby1jb25maWctZmVlZGJhY2tdJyk7XG4gICAgICBjb25zdCBzZW9TYXZlQnV0dG9uID0gc2VvQ29uZmlnRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8tc2F2ZV0nKTtcblxuICAgICAgY29uc3Qgc2FmZVNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goXG4gICAgICAgIHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJycsXG4gICAgICApO1xuICAgICAgY29uc3Qgc2l0ZUNvbmZpZ0FwaSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Zyl9L2NvbmZpZy9zaXRlYFxuICAgICAgICA6IG51bGw7XG5cbiAgICAgIGNvbnN0IHNldFNlb0ZlZWRiYWNrID0gKG1lc3NhZ2UsIHRvbmUgPSAnbXV0ZWQnKSA9PiB7XG4gICAgICAgIGlmICghc2VvQ29uZmlnRmVlZGJhY2spIHJldHVybjtcbiAgICAgICAgY29uc3QgY29sb3IgPVxuICAgICAgICAgIHRvbmUgPT09ICdzdWNjZXNzJ1xuICAgICAgICAgICAgPyAndGV4dC1lbWVyYWxkLTYwMCdcbiAgICAgICAgICAgIDogdG9uZSA9PT0gJ2Vycm9yJ1xuICAgICAgICAgICAgICA/ICd0ZXh0LXJvc2UtNjAwJ1xuICAgICAgICAgICAgICA6ICd0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICAgIHNlb0NvbmZpZ0ZlZWRiYWNrLnRleHRDb250ZW50ID0gbWVzc2FnZSB8fCAnJztcbiAgICAgICAgc2VvQ29uZmlnRmVlZGJhY2suY2xhc3NOYW1lID0gYHRleHQtc20gJHtjb2xvcn1gO1xuICAgICAgfTtcblxuICAgICAgY29uc3QgbG9hZFNlb0NvbmZpZyA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKCFzaXRlQ29uZmlnQXBpKSByZXR1cm47XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChzaXRlQ29uZmlnQXBpLCB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSByZXR1cm47XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICBjb25zdCBpbmRleEFsbCA9IHBheWxvYWQuc2VvPy5pbmRleEFsbFBhZ2VzQnlEZWZhdWx0ICE9PSBmYWxzZTtcbiAgICAgICAgICBpZiAoaW5kZXhBbGxDaGVja2JveCkgaW5kZXhBbGxDaGVja2JveC5jaGVja2VkID0gaW5kZXhBbGw7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gbG9hZCBzZW8gY29uZmlnIGZhaWxlZCcsIGVycik7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHNlb0NvbmZpZ0Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmICghc2l0ZUNvbmZpZ0FwaSkge1xuICAgICAgICAgIHNldFNlb0ZlZWRiYWNrKCdBdWN1biBzaXRlIGFjdGlmLicsICdlcnJvcicpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzZW9TYXZlQnV0dG9uICYmIChzZW9TYXZlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZSk7XG4gICAgICAgIHNldFNlb0ZlZWRiYWNrKCcnKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBGaXJzdCBsb2FkIGN1cnJlbnQgY29uZmlnIHRvIHByZXNlcnZlIG90aGVyIGZpZWxkc1xuICAgICAgICAgIGNvbnN0IGN1cnJlbnRSZXMgPSBhd2FpdCBmZXRjaChzaXRlQ29uZmlnQXBpLCB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcbiAgICAgICAgICBjb25zdCBjdXJyZW50Q29uZmlnID0gY3VycmVudFJlcy5vayA/IGF3YWl0IGN1cnJlbnRSZXMuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpIDoge307XG5cbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICAgICAgLi4uY3VycmVudENvbmZpZyxcbiAgICAgICAgICAgIHNlbzoge1xuICAgICAgICAgICAgICAuLi4oY3VycmVudENvbmZpZy5zZW8gfHwge30pLFxuICAgICAgICAgICAgICBpbmRleEFsbFBhZ2VzQnlEZWZhdWx0OiBpbmRleEFsbENoZWNrYm94Py5jaGVja2VkID8/IHRydWUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH07XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChzaXRlQ29uZmlnQXBpLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vayB8fCByZXN1bHQuc3VjY2VzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQubWVzc2FnZSB8fCAnU2F1dmVnYXJkZSBpbXBvc3NpYmxlLicpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXRTZW9GZWVkYmFjayhyZXN1bHQubWVzc2FnZSB8fCAnUGFyYW1cdTAwRTh0cmVzIFNFTyBlbnJlZ2lzdHJcdTAwRTlzLicsICdzdWNjZXNzJyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gc2F2ZSBzZW8gY29uZmlnIGZhaWxlZCcsIGVycik7XG4gICAgICAgICAgc2V0U2VvRmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGRlIGxhIHNhdXZlZ2FyZGUuJywgJ2Vycm9yJyk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgc2VvU2F2ZUJ1dHRvbiAmJiAoc2VvU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGxvYWRTZW9Db25maWcoKTtcbiAgICB9XG5cbiAgICAvLyBBbmFseXRpY3MgZm9ybSAoVVM5LkIyKVxuICAgIGNvbnN0IGFuYWx5dGljc0Zvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hbmFseXRpY3MtZm9ybV0nKTtcbiAgICBpZiAoYW5hbHl0aWNzRm9ybSkge1xuICAgICAgY29uc3QgaGVhZFRleHRhcmVhID0gYW5hbHl0aWNzRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hbmFseXRpY3MtaGVhZF0nKTtcbiAgICAgIGNvbnN0IGJvZHlUZXh0YXJlYSA9IGFuYWx5dGljc0Zvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYW5hbHl0aWNzLWJvZHldJyk7XG4gICAgICBjb25zdCBhbmFseXRpY3NGZWVkYmFjayA9IGFuYWx5dGljc0Zvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYW5hbHl0aWNzLWZlZWRiYWNrXScpO1xuICAgICAgY29uc3QgYW5hbHl0aWNzU2F2ZUJ1dHRvbiA9IGFuYWx5dGljc0Zvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYW5hbHl0aWNzLXNhdmVdJyk7XG5cbiAgICAgIGNvbnN0IHNhZmVTaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKFxuICAgICAgICB3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnLFxuICAgICAgKTtcbiAgICAgIGNvbnN0IHNpdGVDb25maWdBcGkgPSBzYWZlU2l0ZVNsdWdcbiAgICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9jb25maWcvc2l0ZWBcbiAgICAgICAgOiBudWxsO1xuXG4gICAgICBjb25zdCBzZXRBbmFseXRpY3NGZWVkYmFjayA9IChtZXNzYWdlLCB0b25lID0gJ211dGVkJykgPT4ge1xuICAgICAgICBpZiAoIWFuYWx5dGljc0ZlZWRiYWNrKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGNvbG9yID1cbiAgICAgICAgICB0b25lID09PSAnc3VjY2VzcydcbiAgICAgICAgICAgID8gJ3RleHQtZW1lcmFsZC02MDAnXG4gICAgICAgICAgICA6IHRvbmUgPT09ICdlcnJvcidcbiAgICAgICAgICAgICAgPyAndGV4dC1yb3NlLTYwMCdcbiAgICAgICAgICAgICAgOiAndGV4dC1zbGF0ZS01MDAnO1xuICAgICAgICBhbmFseXRpY3NGZWVkYmFjay50ZXh0Q29udGVudCA9IG1lc3NhZ2UgfHwgJyc7XG4gICAgICAgIGFuYWx5dGljc0ZlZWRiYWNrLmNsYXNzTmFtZSA9IGB0ZXh0LXNtICR7Y29sb3J9YDtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGxvYWRBbmFseXRpY3NDb25maWcgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIGlmICghc2l0ZUNvbmZpZ0FwaSkgcmV0dXJuO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goc2l0ZUNvbmZpZ0FwaSwgeyBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgcmV0dXJuO1xuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgaWYgKGhlYWRUZXh0YXJlYSkgaGVhZFRleHRhcmVhLnZhbHVlID0gcGF5bG9hZC5hbmFseXRpY3M/LmhlYWRDb2RlIHx8ICcnO1xuICAgICAgICAgIGlmIChib2R5VGV4dGFyZWEpIGJvZHlUZXh0YXJlYS52YWx1ZSA9IHBheWxvYWQuYW5hbHl0aWNzPy5ib2R5RW5kQ29kZSB8fCAnJztcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3NldHRpbmdzXSBsb2FkIGFuYWx5dGljcyBjb25maWcgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgYW5hbHl0aWNzRm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKCFzaXRlQ29uZmlnQXBpKSB7XG4gICAgICAgICAgc2V0QW5hbHl0aWNzRmVlZGJhY2soJ0F1Y3VuIHNpdGUgYWN0aWYuJywgJ2Vycm9yJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGFuYWx5dGljc1NhdmVCdXR0b24gJiYgKGFuYWx5dGljc1NhdmVCdXR0b24uZGlzYWJsZWQgPSB0cnVlKTtcbiAgICAgICAgc2V0QW5hbHl0aWNzRmVlZGJhY2soJycpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIEZpcnN0IGxvYWQgY3VycmVudCBjb25maWcgdG8gcHJlc2VydmUgb3RoZXIgZmllbGRzXG4gICAgICAgICAgY29uc3QgY3VycmVudFJlcyA9IGF3YWl0IGZldGNoKHNpdGVDb25maWdBcGksIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xuICAgICAgICAgIGNvbnN0IGN1cnJlbnRDb25maWcgPSBjdXJyZW50UmVzLm9rID8gYXdhaXQgY3VycmVudFJlcy5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSkgOiB7fTtcblxuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgICAgICAuLi5jdXJyZW50Q29uZmlnLFxuICAgICAgICAgICAgYW5hbHl0aWNzOiB7XG4gICAgICAgICAgICAgIGhlYWRDb2RlOiBoZWFkVGV4dGFyZWE/LnZhbHVlIHx8ICcnLFxuICAgICAgICAgICAgICBib2R5RW5kQ29kZTogYm9keVRleHRhcmVhPy52YWx1ZSB8fCAnJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfTtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHNpdGVDb25maWdBcGksIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rIHx8IHJlc3VsdC5zdWNjZXNzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5tZXNzYWdlIHx8ICdTYXV2ZWdhcmRlIGltcG9zc2libGUuJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNldEFuYWx5dGljc0ZlZWRiYWNrKHJlc3VsdC5tZXNzYWdlIHx8ICdTY3JpcHRzIGVucmVnaXN0clx1MDBFOXMuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3NldHRpbmdzXSBzYXZlIGFuYWx5dGljcyBjb25maWcgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgICBzZXRBbmFseXRpY3NGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZGUgbGEgc2F1dmVnYXJkZS4nLCAnZXJyb3InKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBhbmFseXRpY3NTYXZlQnV0dG9uICYmIChhbmFseXRpY3NTYXZlQnV0dG9uLmRpc2FibGVkID0gZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgbG9hZEFuYWx5dGljc0NvbmZpZygpO1xuICAgIH1cblxuICAgIGNvbnN0IGFjY2Vzc2liaWxpdHlGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWNjZXNzaWJpbGl0eS1mb3JtXScpO1xuICAgIGlmIChhY2Nlc3NpYmlsaXR5Rm9ybSkge1xuICAgICAgY29uc3QgYW5pbWF0aW9uc1RvZ2dsZSA9IGFjY2Vzc2liaWxpdHlGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFjY2Vzc2liaWxpdHktYW5pbWF0aW9uc10nKTtcbiAgICAgIGNvbnN0IGNvbnRyYXN0VG9nZ2xlID0gYWNjZXNzaWJpbGl0eUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYWNjZXNzaWJpbGl0eS1jb250cmFzdF0nKTtcbiAgICAgIGNvbnN0IGFjY2Vzc2liaWxpdHlGZWVkYmFjayA9IGFjY2Vzc2liaWxpdHlGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFjY2Vzc2liaWxpdHktZmVlZGJhY2tdJyk7XG4gICAgICBjb25zdCBhY2Nlc3NpYmlsaXR5U2F2ZUJ1dHRvbiA9IGFjY2Vzc2liaWxpdHlGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFjY2Vzc2liaWxpdHktc2F2ZV0nKTtcblxuICAgICAgY29uc3Qgc2FmZVNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goXG4gICAgICAgIHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJycsXG4gICAgICApO1xuICAgICAgY29uc3Qgc2l0ZUNvbmZpZ0FwaSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Zyl9L2NvbmZpZy9zaXRlYFxuICAgICAgICA6IG51bGw7XG5cbiAgICAgIGNvbnN0IHNldEFjY2Vzc2liaWxpdHlGZWVkYmFjayA9IChtZXNzYWdlLCB0b25lID0gJ211dGVkJykgPT4ge1xuICAgICAgICBpZiAoIWFjY2Vzc2liaWxpdHlGZWVkYmFjaykgcmV0dXJuO1xuICAgICAgICBjb25zdCBjb2xvciA9XG4gICAgICAgICAgdG9uZSA9PT0gJ3N1Y2Nlc3MnXG4gICAgICAgICAgICA/ICd0ZXh0LWVtZXJhbGQtNjAwJ1xuICAgICAgICAgICAgOiB0b25lID09PSAnZXJyb3InXG4gICAgICAgICAgICAgID8gJ3RleHQtcm9zZS02MDAnXG4gICAgICAgICAgICAgIDogJ3RleHQtc2xhdGUtNTAwJztcbiAgICAgICAgYWNjZXNzaWJpbGl0eUZlZWRiYWNrLnRleHRDb250ZW50ID0gbWVzc2FnZSB8fCAnJztcbiAgICAgICAgYWNjZXNzaWJpbGl0eUZlZWRiYWNrLmNsYXNzTmFtZSA9IGB0ZXh0LXNtICR7Y29sb3J9YDtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGxvYWRBY2Nlc3NpYmlsaXR5Q29uZmlnID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoIXNpdGVDb25maWdBcGkpIHJldHVybjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHNpdGVDb25maWdBcGksIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHJldHVybjtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIGlmIChhbmltYXRpb25zVG9nZ2xlKSB7XG4gICAgICAgICAgICBhbmltYXRpb25zVG9nZ2xlLmNoZWNrZWQgPSBwYXlsb2FkLmFjY2Vzc2liaWxpdHk/LmFuaW1hdGlvbnNFbmFibGVkICE9PSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGNvbnRyYXN0VG9nZ2xlKSB7XG4gICAgICAgICAgICBjb250cmFzdFRvZ2dsZS5jaGVja2VkID0gcGF5bG9hZC5hY2Nlc3NpYmlsaXR5Py5oaWdoQ29udHJhc3QgPT09IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIGxvYWQgYWNjZXNzaWJpbGl0eSBjb25maWcgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgYWNjZXNzaWJpbGl0eUZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmICghc2l0ZUNvbmZpZ0FwaSkge1xuICAgICAgICAgIHNldEFjY2Vzc2liaWxpdHlGZWVkYmFjaygnQXVjdW4gc2l0ZSBhY3RpZi4nLCAnZXJyb3InKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgYWNjZXNzaWJpbGl0eVNhdmVCdXR0b24gJiYgKGFjY2Vzc2liaWxpdHlTYXZlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZSk7XG4gICAgICAgIHNldEFjY2Vzc2liaWxpdHlGZWVkYmFjaygnJyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgY3VycmVudFJlcyA9IGF3YWl0IGZldGNoKHNpdGVDb25maWdBcGksIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xuICAgICAgICAgIGNvbnN0IGN1cnJlbnRDb25maWcgPSBjdXJyZW50UmVzLm9rID8gYXdhaXQgY3VycmVudFJlcy5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSkgOiB7fTtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICAgICAgLi4uY3VycmVudENvbmZpZyxcbiAgICAgICAgICAgIGFjY2Vzc2liaWxpdHk6IHtcbiAgICAgICAgICAgICAgYW5pbWF0aW9uc0VuYWJsZWQ6IGFuaW1hdGlvbnNUb2dnbGU/LmNoZWNrZWQgPz8gdHJ1ZSxcbiAgICAgICAgICAgICAgaGlnaENvbnRyYXN0OiBjb250cmFzdFRvZ2dsZT8uY2hlY2tlZCA/PyBmYWxzZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfTtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHNpdGVDb25maWdBcGksIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rIHx8IHJlc3VsdC5zdWNjZXNzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5tZXNzYWdlIHx8ICdTYXV2ZWdhcmRlIGltcG9zc2libGUuJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNldEFjY2Vzc2liaWxpdHlGZWVkYmFjayhyZXN1bHQubWVzc2FnZSB8fCAnUHJcdTAwRTlmXHUwMEU5cmVuY2VzIG1pc2VzIFx1MDBFMCBqb3VyLicsICdzdWNjZXNzJyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gc2F2ZSBhY2Nlc3NpYmlsaXR5IGNvbmZpZyBmYWlsZWQnLCBlcnIpO1xuICAgICAgICAgIHNldEFjY2Vzc2liaWxpdHlGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZGUgbGEgc2F1dmVnYXJkZS4nLCAnZXJyb3InKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBhY2Nlc3NpYmlsaXR5U2F2ZUJ1dHRvbiAmJiAoYWNjZXNzaWJpbGl0eVNhdmVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBsb2FkQWNjZXNzaWJpbGl0eUNvbmZpZygpO1xuICAgIH1cblxuICAgIC8vIEFJIENvbmZpZyBmb3JtIChVUyAtIEFJIEFzc2lzdGFudClcbiAgICBjb25zdCBhaUNvbmZpZ0Zvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1haS1jb25maWctZm9ybV0nKTtcbiAgICBpZiAoYWlDb25maWdGb3JtKSB7XG4gICAgICBjb25zdCBhcGlLZXlJbnB1dCA9IGFpQ29uZmlnRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1haS1hcGkta2V5XScpO1xuICAgICAgY29uc3QgbW9kZWxTZWxlY3QgPSBhaUNvbmZpZ0Zvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYWktbW9kZWxdJyk7XG4gICAgICBjb25zdCBwcm9qZWN0UHJvbXB0VGV4dGFyZWEgPSBhaUNvbmZpZ0Zvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYWktcHJvamVjdC1wcm9tcHRdJyk7XG4gICAgICBjb25zdCBlbmFibGVkQ2hlY2tib3ggPSBhaUNvbmZpZ0Zvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYWktZW5hYmxlZF0nKTtcbiAgICAgIGNvbnN0IGFpRmVlZGJhY2sgPSBhaUNvbmZpZ0Zvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYWktZmVlZGJhY2tdJyk7XG4gICAgICBjb25zdCBhaVNhdmVCdXR0b24gPSBhaUNvbmZpZ0Zvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYWktc2F2ZV0nKTtcblxuICAgICAgY29uc3Qgc2FmZVNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goXG4gICAgICAgIHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJycsXG4gICAgICApO1xuICAgICAgY29uc3QgYWlDb25maWdBcGkgPSBzYWZlU2l0ZVNsdWdcbiAgICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9jb25maWcvYWlgXG4gICAgICAgIDogbnVsbDtcblxuICAgICAgY29uc3Qgc2V0QUlGZWVkYmFjayA9IChtZXNzYWdlLCB0b25lID0gJ211dGVkJykgPT4ge1xuICAgICAgICBpZiAoIWFpRmVlZGJhY2spIHJldHVybjtcbiAgICAgICAgY29uc3QgY29sb3IgPVxuICAgICAgICAgIHRvbmUgPT09ICdzdWNjZXNzJ1xuICAgICAgICAgICAgPyAndGV4dC1lbWVyYWxkLTYwMCdcbiAgICAgICAgICAgIDogdG9uZSA9PT0gJ2Vycm9yJ1xuICAgICAgICAgICAgICA/ICd0ZXh0LXJvc2UtNjAwJ1xuICAgICAgICAgICAgICA6ICd0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICAgIGFpRmVlZGJhY2sudGV4dENvbnRlbnQgPSBtZXNzYWdlIHx8ICcnO1xuICAgICAgICBhaUZlZWRiYWNrLmNsYXNzTmFtZSA9IGB0ZXh0LXNtICR7Y29sb3J9YDtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGxvYWRBSUNvbmZpZyA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKCFhaUNvbmZpZ0FwaSkgcmV0dXJuO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYWlDb25maWdBcGksIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHJldHVybjtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIC8vIEFQSSBrZXkgaXMgbWFza2VkLCB3ZSBzaG93IHBsYWNlaG9sZGVyIGlmIGl0IGV4aXN0c1xuICAgICAgICAgIGlmIChhcGlLZXlJbnB1dCkge1xuICAgICAgICAgICAgYXBpS2V5SW5wdXQudmFsdWUgPSAnJztcbiAgICAgICAgICAgIGFwaUtleUlucHV0LnBsYWNlaG9sZGVyID0gcGF5bG9hZC5oYXNBcGlLZXkgPyAnXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyJyA6ICdDbFx1MDBFOSBBUEkgR2VtaW5pJztcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG1vZGVsU2VsZWN0KSBtb2RlbFNlbGVjdC52YWx1ZSA9IHBheWxvYWQubW9kZWwgfHwgJ2dlbWluaS0yLjUtZmxhc2gnO1xuICAgICAgICAgIGlmIChwcm9qZWN0UHJvbXB0VGV4dGFyZWEpIHByb2plY3RQcm9tcHRUZXh0YXJlYS52YWx1ZSA9IHBheWxvYWQucHJvamVjdFByb21wdCB8fCAnJztcbiAgICAgICAgICBpZiAoZW5hYmxlZENoZWNrYm94KSBlbmFibGVkQ2hlY2tib3guY2hlY2tlZCA9IHBheWxvYWQuZW5hYmxlZCAhPT0gZmFsc2U7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gbG9hZCBBSSBjb25maWcgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgYWlDb25maWdGb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAoIWFpQ29uZmlnQXBpKSB7XG4gICAgICAgICAgc2V0QUlGZWVkYmFjaygnQXVjdW4gc2l0ZSBhY3RpZi4nLCAnZXJyb3InKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgYWlTYXZlQnV0dG9uICYmIChhaVNhdmVCdXR0b24uZGlzYWJsZWQgPSB0cnVlKTtcbiAgICAgICAgc2V0QUlGZWVkYmFjaygnJyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgICAgIG1vZGVsOiBtb2RlbFNlbGVjdD8udmFsdWUgfHwgJ2dlbWluaS0yLjUtZmxhc2gnLFxuICAgICAgICAgICAgcHJvamVjdFByb21wdDogcHJvamVjdFByb21wdFRleHRhcmVhPy52YWx1ZSB8fCAnJyxcbiAgICAgICAgICAgIGVuYWJsZWQ6IGVuYWJsZWRDaGVja2JveD8uY2hlY2tlZCA/PyB0cnVlLFxuICAgICAgICAgIH07XG4gICAgICAgICAgLy8gT25seSBpbmNsdWRlIGFwaUtleSBpZiB0aGUgdXNlciBlbnRlcmVkIG9uZSAobm90IGVtcHR5KVxuICAgICAgICAgIGNvbnN0IGFwaUtleVZhbHVlID0gYXBpS2V5SW5wdXQ/LnZhbHVlPy50cmltKCk7XG4gICAgICAgICAgaWYgKGFwaUtleVZhbHVlKSB7XG4gICAgICAgICAgICBwYXlsb2FkLmFwaUtleSA9IGFwaUtleVZhbHVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYWlDb25maWdBcGksIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rIHx8IHJlc3VsdC5zdWNjZXNzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5tZXNzYWdlIHx8ICdTYXV2ZWdhcmRlIGltcG9zc2libGUuJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNldEFJRmVlZGJhY2socmVzdWx0Lm1lc3NhZ2UgfHwgJ0NvbmZpZ3VyYXRpb24gSUEgZW5yZWdpc3RyXHUwMEU5ZS4nLCAnc3VjY2VzcycpO1xuICAgICAgICAgIC8vIENsZWFyIHRoZSBBUEkga2V5IGZpZWxkIGFmdGVyIHN1Y2Nlc3NmdWwgc2F2ZVxuICAgICAgICAgIGlmIChhcGlLZXlJbnB1dCkge1xuICAgICAgICAgICAgYXBpS2V5SW5wdXQudmFsdWUgPSAnJztcbiAgICAgICAgICAgIGFwaUtleUlucHV0LnBsYWNlaG9sZGVyID0gJ1x1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMic7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIHNhdmUgQUkgY29uZmlnIGZhaWxlZCcsIGVycik7XG4gICAgICAgICAgc2V0QUlGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZGUgbGEgc2F1dmVnYXJkZS4nLCAnZXJyb3InKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBhaVNhdmVCdXR0b24gJiYgKGFpU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGxvYWRBSUNvbmZpZygpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXRNZWRpYVdvcmtzcGFjZSgpIHtcbiAgICBjb25zdCBncmlkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZ3JpZF0nKTtcbiAgICBpZiAoIWdyaWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZW1wdHlTdGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWVtcHR5XScpO1xuICAgIGNvbnN0IGNvdW50QmFkZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1jb3VudF0nKTtcbiAgICBjb25zdCBmaWx0ZXJUeXBlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZmlsdGVyLXR5cGVdJyk7XG4gICAgY29uc3QgZGV0YWlsRW1wdHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZXRhaWwtZW1wdHldJyk7XG4gICAgY29uc3QgZGV0YWlsUGFuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZXRhaWxdJyk7XG4gICAgY29uc3QgZGV0YWlsUHJldmlldyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRldGFpbC1wcmV2aWV3XScpO1xuICAgIGNvbnN0IGRldGFpbE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZXRhaWwtbmFtZV0nKTtcbiAgICBjb25zdCBkZXRhaWxUeXBlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGV0YWlsLXR5cGVdJyk7XG4gICAgY29uc3QgZGV0YWlsU2l6ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRldGFpbC1zaXplXScpO1xuICAgIGNvbnN0IGRldGFpbFBhdGggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZXRhaWwtcGF0aF0nKTtcbiAgICBjb25zdCBkZXRhaWxVc2VkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGV0YWlsLXVzZWRdJyk7XG4gICAgY29uc3QgZGV0YWlsQWx0SW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1hbHQtZWRpdF0nKTtcbiAgICBjb25zdCBkZXRhaWxTYXZlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtc2F2ZV0nKTtcbiAgICBjb25zdCBkZXRhaWxEZWxldGVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZWxldGVdJyk7XG4gICAgY29uc3QgZGVsZXRlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZWxldGUtbW9kYWxdJyk7XG4gICAgY29uc3QgZGVsZXRlQ2FuY2VsQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGVsZXRlLWNhbmNlbF0nKTtcbiAgICBjb25zdCBkZWxldGVDb25maXJtQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGVsZXRlLWNvbmZpcm1dJyk7XG4gICAgY29uc3QgdXBsb2FkT3BlbkJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLXVwbG9hZC1vcGVuXScpO1xuICAgIGNvbnN0IGZpbGVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWZpbGUtaW5wdXRdJyk7XG4gICAgY29uc3QgdXBsb2FkU3RhdHVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtdXBsb2FkLXN0YXR1c10nKTtcblxuICAgIGNvbnN0IHNhZmVTaXRlU2x1Z1ZhbHVlID0gc3RyaXBMZWFkaW5nU2xhc2goXG4gICAgICB3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnLFxuICAgICk7XG4gICAgY29uc3QgbWVkaWFBcGlCYXNlID0gc2FmZVNpdGVTbHVnVmFsdWVcbiAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnVmFsdWUpfS9tZWRpYWBcbiAgICAgIDogbnVsbDtcblxuICAgIGxldCBtZWRpYUl0ZW1zID0gW107XG4gICAgbGV0IGZpbHRlcmVkSXRlbXMgPSBbXTtcbiAgICBsZXQgYWN0aXZlTWVkaWFJZCA9IG51bGw7XG4gICAgbGV0IGhpZ2hsaWdodE1lZGlhSWQgPSBudWxsO1xuICAgIGxldCBwZW5kaW5nVXBsb2FkRmlsZSA9IG51bGw7XG4gICAgbGV0IHVwbG9hZEluUHJvZ3Jlc3MgPSBmYWxzZTtcbiAgICBsZXQgZGV0YWlsRGlydHkgPSBmYWxzZTtcbiAgICBsZXQgdXBsb2FkTW9kZSA9IGZhbHNlO1xuICAgIGxldCB1cGxvYWRQcmV2aWV3VXJsID0gbnVsbDtcblxuICAgIGNvbnN0IGRlcml2ZUdyb3VwVHlwZSA9IChpdGVtKSA9PiB7XG4gICAgICBjb25zdCB0eXBlID0gKGl0ZW0udHlwZSB8fCAnJykudG9Mb3dlckNhc2UoKTtcbiAgICAgIGNvbnN0IGZpbGVuYW1lID0gKGl0ZW0uZmlsZW5hbWUgfHwgJycpLnRvTG93ZXJDYXNlKCk7XG4gICAgICBpZiAodHlwZS5pbmNsdWRlcygnaW1hZ2UnKSB8fCAvXFwuKHBuZ3xqcGU/Z3x3ZWJwfHN2Z3xnaWYpJC9pLnRlc3QoZmlsZW5hbWUpKSB7XG4gICAgICAgIHJldHVybiAnaW1hZ2UnO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGUuaW5jbHVkZXMoJ3BkZicpIHx8IHR5cGUuaW5jbHVkZXMoJ2RvYycpIHx8IC9cXC4ocGRmfGRvY3g/KSQvaS50ZXN0KGZpbGVuYW1lKSkge1xuICAgICAgICByZXR1cm4gJ2RvY3VtZW50JztcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlLmluY2x1ZGVzKCd2aWRlbycpIHx8IC9cXC4obXA0fG1vdnx3ZWJtKSQvaS50ZXN0KGZpbGVuYW1lKSkge1xuICAgICAgICByZXR1cm4gJ3ZpZGVvJztcbiAgICAgIH1cbiAgICAgIHJldHVybiAnb3RoZXInO1xuICAgIH07XG5cbiAgICBjb25zdCBpc0ltYWdlVHlwZSA9IChpdGVtKSA9PiBkZXJpdmVHcm91cFR5cGUoaXRlbSkgPT09ICdpbWFnZSc7XG5cbiAgICBjb25zdCBmb3JtYXRUeXBlTGFiZWwgPSAoaXRlbSkgPT4ge1xuICAgICAgaWYgKGl0ZW0udHlwZSkge1xuICAgICAgICByZXR1cm4gaXRlbS50eXBlLnRvVXBwZXJDYXNlKCk7XG4gICAgICB9XG4gICAgICBjb25zdCBleHQgPSAoaXRlbS5maWxlbmFtZSB8fCAnJykuc3BsaXQoJy4nKS5wb3AoKTtcbiAgICAgIHJldHVybiBleHQgPyBleHQudG9VcHBlckNhc2UoKSA6ICdGSUxFJztcbiAgICB9O1xuXG4gICAgY29uc3QgZm9ybWF0RmlsZVNpemUgPSAoc2l6ZSkgPT4ge1xuICAgICAgaWYgKCFzaXplIHx8IHNpemUgPD0gMCkge1xuICAgICAgICByZXR1cm4gJ1x1MjAxNCc7XG4gICAgICB9XG4gICAgICBpZiAoc2l6ZSA8IDEwMjQpIHtcbiAgICAgICAgcmV0dXJuIGAke3NpemV9IG9gO1xuICAgICAgfVxuICAgICAgaWYgKHNpemUgPCAxMDI0ICogMTAyNCkge1xuICAgICAgICByZXR1cm4gYCR7KHNpemUgLyAxMDI0KS50b0ZpeGVkKDEpfSBrb2A7XG4gICAgICB9XG4gICAgICByZXR1cm4gYCR7KHNpemUgLyAoMTAyNCAqIDEwMjQpKS50b0ZpeGVkKDEpfSBNb2A7XG4gICAgfTtcblxuICAgIGNvbnN0IHJlc2V0RGV0YWlsUGFuZWwgPSAoKSA9PiB7XG4gICAgICBkZXRhaWxQYW5lbD8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBkZXRhaWxFbXB0eT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBjbGVhclVwbG9hZFN0YXRlKCk7XG4gICAgICBhY3RpdmVNZWRpYUlkID0gbnVsbDtcbiAgICAgIGRldGFpbERpcnR5ID0gZmFsc2U7XG4gICAgICB1cGRhdGVEZXRhaWxBY3Rpb25zKGZhbHNlKTtcbiAgICAgIGlmIChkZXRhaWxQcmV2aWV3KSB7XG4gICAgICAgIGRldGFpbFByZXZpZXcuaW5uZXJIVE1MID1cbiAgICAgICAgICAnPHNwYW4gY2xhc3M9XCJ0ZXh0LXNsYXRlLTQwMCB0ZXh0LXNtXCI+QXVjdW4gbVx1MDBFOWRpYSBzXHUwMEU5bGVjdGlvbm5cdTAwRTk8L3NwYW4+JztcbiAgICAgIH1cbiAgICAgIGlmIChkZXRhaWxOYW1lKSB7XG4gICAgICAgIGRldGFpbE5hbWUudGV4dENvbnRlbnQgPSAnJztcbiAgICAgIH1cbiAgICAgIGRldGFpbFR5cGUgJiYgKGRldGFpbFR5cGUudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgICBkZXRhaWxTaXplICYmIChkZXRhaWxTaXplLnRleHRDb250ZW50ID0gJycpO1xuICAgICAgaWYgKGRldGFpbEFsdElucHV0KSB7XG4gICAgICAgIGRldGFpbEFsdElucHV0LnZhbHVlID0gJyc7XG4gICAgICB9XG4gICAgICBkZXRhaWxQYXRoICYmIChkZXRhaWxQYXRoLnRleHRDb250ZW50ID0gJycpO1xuICAgICAgaWYgKGRldGFpbFVzZWQpIHtcbiAgICAgICAgZGV0YWlsVXNlZC5pbm5lckhUTUwgPSAnJztcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgY2xlYXJVcGxvYWRTdGF0ZSA9ICgpID0+IHtcbiAgICAgIHBlbmRpbmdVcGxvYWRGaWxlID0gbnVsbDtcbiAgICAgIHVwbG9hZE1vZGUgPSBmYWxzZTtcbiAgICAgIHVwbG9hZEluUHJvZ3Jlc3MgPSBmYWxzZTtcbiAgICAgIGlmICh1cGxvYWRQcmV2aWV3VXJsKSB7XG4gICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwodXBsb2FkUHJldmlld1VybCk7XG4gICAgICAgIHVwbG9hZFByZXZpZXdVcmwgPSBudWxsO1xuICAgICAgfVxuICAgICAgdXBsb2FkU3RhdHVzICYmICh1cGxvYWRTdGF0dXMudGV4dENvbnRlbnQgPSAnQXVjdW4gZmljaGllciBzXHUwMEU5bGVjdGlvbm5cdTAwRTkuJyk7XG4gICAgICBmaWxlSW5wdXQgJiYgKGZpbGVJbnB1dC52YWx1ZSA9ICcnKTtcbiAgICB9O1xuXG4gICAgY29uc3QgdXBkYXRlQ291bnRCYWRnZSA9ICgpID0+IHtcbiAgICAgIGlmICghY291bnRCYWRnZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWZpbHRlcmVkSXRlbXMubGVuZ3RoKSB7XG4gICAgICAgIGNvdW50QmFkZ2UudGV4dENvbnRlbnQgPSAnMCBtXHUwMEU5ZGlhJztcbiAgICAgIH0gZWxzZSBpZiAoZmlsdGVyZWRJdGVtcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgY291bnRCYWRnZS50ZXh0Q29udGVudCA9ICcxIG1cdTAwRTlkaWEnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY291bnRCYWRnZS50ZXh0Q29udGVudCA9IGAke2ZpbHRlcmVkSXRlbXMubGVuZ3RofSBtXHUwMEU5ZGlhc2A7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHJlbmRlckdyaWQgPSAoKSA9PiB7XG4gICAgICBncmlkLmlubmVySFRNTCA9ICcnO1xuICAgICAgaWYgKCFmaWx0ZXJlZEl0ZW1zLmxlbmd0aCkge1xuICAgICAgICBlbXB0eVN0YXRlPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgcmVzZXREZXRhaWxQYW5lbCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBlbXB0eVN0YXRlPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGZpbHRlcmVkSXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICBjb25zdCBjYXJkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIGNhcmQudHlwZSA9ICdidXR0b24nO1xuICAgICAgICBjYXJkLmRhdGFzZXQubWVkaWFJZCA9IGl0ZW0uaWQ7XG4gICAgICAgIGNvbnN0IGlzQWN0aXZlID0gaXRlbS5pZCA9PT0gYWN0aXZlTWVkaWFJZDtcbiAgICAgICAgY2FyZC5jbGFzc05hbWUgPSBbXG4gICAgICAgICAgJ2dyb3VwIHJlbGF0aXZlIGZsZXggZmxleC1jb2wgcm91bmRlZC0yeGwgYm9yZGVyIHB4LTMgcHktMyB0ZXh0LWxlZnQgdHJhbnNpdGlvbiBmb2N1cy12aXNpYmxlOm91dGxpbmUgZm9jdXMtdmlzaWJsZTpvdXRsaW5lLTIgZm9jdXMtdmlzaWJsZTpvdXRsaW5lLW9mZnNldC0yIGZvY3VzLXZpc2libGU6b3V0bGluZS1bIzlDNkJGRl0nLFxuICAgICAgICAgIGlzQWN0aXZlXG4gICAgICAgICAgICA/ICdib3JkZXItWyM5QzZCRkZdIGJnLVsjRjdGMEZGXS82MCBzaGFkb3ctc20nXG4gICAgICAgICAgICA6ICdib3JkZXItc2xhdGUtMjAwIGhvdmVyOmJvcmRlci1bIzlDNkJGRl0vNDAnLFxuICAgICAgICBdLmpvaW4oJyAnKTtcbiAgICAgICAgY29uc3QgcHJldmlldyA9IGlzSW1hZ2VUeXBlKGl0ZW0pXG4gICAgICAgICAgPyBgPGltZyBzcmM9XCIke2l0ZW0ucGF0aH1cIiBhbHQ9XCIke2l0ZW0uYWx0IHx8IGl0ZW0uZmlsZW5hbWV9XCIgY2xhc3M9XCJoLWZ1bGwgdy1mdWxsIG9iamVjdC1jb3ZlclwiIC8+YFxuICAgICAgICAgIDogYDxkaXYgY2xhc3M9XCJmbGV4IGgtZnVsbCB3LWZ1bGwgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHRleHQtM3hsIHRleHQtc2xhdGUtNDAwXCI+XHVEODNEXHVEQ0M0PC9kaXY+YDtcbiAgICAgICAgY2FyZC5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInJlbGF0aXZlIGFzcGVjdC1bNC8zXSBvdmVyZmxvdy1oaWRkZW4gcm91bmRlZC14bCBiZy1zbGF0ZS0xMDBcIj5cbiAgICAgICAgICAgICR7cHJldmlld31cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwibXQtMiBzcGFjZS15LTFcIj5cbiAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1zbSBmb250LXNlbWlib2xkIHRleHQtc2xhdGUtOTAwIHRydW5jYXRlXCI+JHtpdGVtLmZpbGVuYW1lfTwvcD5cbiAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC14cyB0ZXh0LXNsYXRlLTUwMFwiPlxuICAgICAgICAgICAgICAke2Zvcm1hdFR5cGVMYWJlbChpdGVtKX0gXHUwMEI3ICR7Zm9ybWF0RmlsZVNpemUoaXRlbS5zaXplKX1cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgYDtcbiAgICAgICAgaWYgKGl0ZW0uaWQgPT09IGhpZ2hsaWdodE1lZGlhSWQpIHtcbiAgICAgICAgICBjYXJkLmNsYXNzTGlzdC5hZGQoJ3JpbmctMicsICdyaW5nLVsjOUM2QkZGXScpO1xuICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGNhcmQuY2xhc3NMaXN0LnJlbW92ZSgncmluZy0yJywgJ3JpbmctWyM5QzZCRkZdJyk7XG4gICAgICAgICAgfSwgMTYwMCk7XG4gICAgICAgIH1cbiAgICAgICAgY2FyZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHNlbGVjdE1lZGlhKGl0ZW0uaWQpKTtcbiAgICAgICAgZ3JpZC5hcHBlbmRDaGlsZChjYXJkKTtcbiAgICAgIH0pO1xuICAgICAgaGlnaGxpZ2h0TWVkaWFJZCA9IG51bGw7XG4gICAgfTtcblxuICAgIGNvbnN0IHJlbmRlclVzZWRJbiA9IChpdGVtKSA9PiB7XG4gICAgICBpZiAoIWRldGFpbFVzZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZGV0YWlsVXNlZC5pbm5lckhUTUwgPSAnJztcbiAgICAgIGlmICghaXRlbS51c2VkSW4gfHwgaXRlbS51c2VkSW4ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGNvbnN0IGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgbGkudGV4dENvbnRlbnQgPSAnTm9uIHV0aWxpc1x1MDBFOSc7XG4gICAgICAgIGxpLmNsYXNzTmFtZSA9ICd0ZXh0LXhzIHRleHQtc2xhdGUtNDAwJztcbiAgICAgICAgZGV0YWlsVXNlZC5hcHBlbmRDaGlsZChsaSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGl0ZW0udXNlZEluLmZvckVhY2goKGVudHJ5KSA9PiB7XG4gICAgICAgIGNvbnN0IGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgbGkudGV4dENvbnRlbnQgPSBlbnRyeTtcbiAgICAgICAgbGkuY2xhc3NOYW1lID0gJ3RleHQteHMgdGV4dC1zbGF0ZS02MDAnO1xuICAgICAgICBkZXRhaWxVc2VkLmFwcGVuZENoaWxkKGxpKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCB1cGRhdGVEZXRhaWxBY3Rpb25zID0gKHNhdmluZykgPT4ge1xuICAgICAgaWYgKCFkZXRhaWxTYXZlQnV0dG9uKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICh1cGxvYWRNb2RlKSB7XG4gICAgICAgIGRldGFpbFNhdmVCdXR0b24udGV4dENvbnRlbnQgPSBzYXZpbmcgPyAnVFx1MDBFOWxcdTAwRTl2ZXJzZW1lbnRcdTIwMjYnIDogJ1RcdTAwRTlsXHUwMEU5dmVyc2VyJztcbiAgICAgICAgZGV0YWlsU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IHNhdmluZyB8fCAhcGVuZGluZ1VwbG9hZEZpbGU7XG4gICAgICAgIGlmIChkZXRhaWxEZWxldGVCdXR0b24pIHtcbiAgICAgICAgICBkZXRhaWxEZWxldGVCdXR0b24uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZGV0YWlsU2F2ZUJ1dHRvbi50ZXh0Q29udGVudCA9IHNhdmluZyA/ICdFbnJlZ2lzdHJlbWVudFx1MjAyNicgOiAnRW5yZWdpc3RyZXInO1xuICAgICAgZGV0YWlsU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IHNhdmluZyB8fCAhZGV0YWlsRGlydHk7XG4gICAgICBpZiAoZGV0YWlsRGVsZXRlQnV0dG9uKSB7XG4gICAgICAgIGRldGFpbERlbGV0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgZGV0YWlsRGVsZXRlQnV0dG9uLmRpc2FibGVkID0gIWFjdGl2ZU1lZGlhSWQ7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHNlbGVjdE1lZGlhID0gKG1lZGlhSWQpID0+IHtcbiAgICAgIGNvbnN0IGl0ZW0gPSBtZWRpYUl0ZW1zLmZpbmQoKGVudHJ5KSA9PiBlbnRyeS5pZCA9PT0gbWVkaWFJZCk7XG4gICAgICBpZiAoIWl0ZW0pIHtcbiAgICAgICAgcmVzZXREZXRhaWxQYW5lbCgpO1xuICAgICAgICByZW5kZXJHcmlkKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNsZWFyVXBsb2FkU3RhdGUoKTtcbiAgICAgIGFjdGl2ZU1lZGlhSWQgPSBpdGVtLmlkO1xuICAgICAgZGV0YWlsRGlydHkgPSBmYWxzZTtcbiAgICAgIHVwZGF0ZURldGFpbEFjdGlvbnMoZmFsc2UpO1xuICAgICAgcmVuZGVyR3JpZCgpO1xuICAgICAgZGV0YWlsRW1wdHk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgZGV0YWlsUGFuZWw/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgaWYgKGRldGFpbFByZXZpZXcpIHtcbiAgICAgICAgaWYgKGlzSW1hZ2VUeXBlKGl0ZW0pKSB7XG4gICAgICAgICAgZGV0YWlsUHJldmlldy5pbm5lckhUTUwgPSBgPGltZyBzcmM9XCIke2l0ZW0ucGF0aH1cIiBhbHQ9XCIke2l0ZW0uYWx0IHx8IGl0ZW0uZmlsZW5hbWV9XCIgY2xhc3M9XCJoLWZ1bGwgdy1mdWxsIHJvdW5kZWQtMnhsIG9iamVjdC1jb3ZlclwiIC8+YDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkZXRhaWxQcmV2aWV3LmlubmVySFRNTCA9XG4gICAgICAgICAgICAnPGRpdiBjbGFzcz1cImZsZXggaC1mdWxsIHctZnVsbCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgZ2FwLTEgdGV4dC1zbGF0ZS00MDBcIj48c3BhbiBjbGFzcz1cInRleHQtM3hsXCI+XHVEODNEXHVEQ0M0PC9zcGFuPjxzcGFuIGNsYXNzPVwidGV4dC14cyBmb250LXNlbWlib2xkXCI+RG9jdW1lbnQ8L3NwYW4+PC9kaXY+JztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZGV0YWlsTmFtZSAmJiAoZGV0YWlsTmFtZS50ZXh0Q29udGVudCA9IGl0ZW0uZmlsZW5hbWUgfHwgJ0ZpY2hpZXInKTtcbiAgICAgIGRldGFpbFR5cGUgJiYgKGRldGFpbFR5cGUudGV4dENvbnRlbnQgPSBmb3JtYXRUeXBlTGFiZWwoaXRlbSkpO1xuICAgICAgZGV0YWlsU2l6ZSAmJiAoZGV0YWlsU2l6ZS50ZXh0Q29udGVudCA9IGZvcm1hdEZpbGVTaXplKGl0ZW0uc2l6ZSkpO1xuICAgICAgaWYgKGRldGFpbEFsdElucHV0KSB7XG4gICAgICAgIGRldGFpbEFsdElucHV0LnZhbHVlID0gaXRlbS5hbHQgfHwgJyc7XG4gICAgICB9XG4gICAgICBkZXRhaWxQYXRoICYmIChkZXRhaWxQYXRoLnRleHRDb250ZW50ID0gaXRlbS5wYXRoIHx8ICdcdTIwMTQnKTtcbiAgICAgIHJlbmRlclVzZWRJbihpdGVtKTtcbiAgICB9O1xuXG4gICAgY29uc3Qgc2hvd1VwbG9hZFByZXZpZXcgPSAoZmlsZSkgPT4ge1xuICAgICAgaWYgKCFmaWxlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHVwbG9hZE1vZGUgPSB0cnVlO1xuICAgICAgZGV0YWlsRGlydHkgPSBmYWxzZTtcbiAgICAgIGFjdGl2ZU1lZGlhSWQgPSBudWxsO1xuICAgICAgZGV0YWlsRW1wdHk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgZGV0YWlsUGFuZWw/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgaWYgKHVwbG9hZFByZXZpZXdVcmwpIHtcbiAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTCh1cGxvYWRQcmV2aWV3VXJsKTtcbiAgICAgIH1cbiAgICAgIHVwbG9hZFByZXZpZXdVcmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGUpO1xuICAgICAgaWYgKGRldGFpbFByZXZpZXcpIHtcbiAgICAgICAgZGV0YWlsUHJldmlldy5pbm5lckhUTUwgPSBgPGltZyBzcmM9XCIke3VwbG9hZFByZXZpZXdVcmx9XCIgYWx0PVwiJHtmaWxlLm5hbWV9XCIgY2xhc3M9XCJoLWZ1bGwgdy1mdWxsIHJvdW5kZWQtMnhsIG9iamVjdC1jb3ZlclwiIC8+YDtcbiAgICAgIH1cbiAgICAgIGRldGFpbE5hbWUgJiYgKGRldGFpbE5hbWUudGV4dENvbnRlbnQgPSBmaWxlLm5hbWUpO1xuICAgICAgZGV0YWlsVHlwZSAmJiAoZGV0YWlsVHlwZS50ZXh0Q29udGVudCA9IGZvcm1hdFR5cGVMYWJlbCh7IHR5cGU6IGZpbGUudHlwZSwgZmlsZW5hbWU6IGZpbGUubmFtZSB9KSk7XG4gICAgICBkZXRhaWxTaXplICYmIChkZXRhaWxTaXplLnRleHRDb250ZW50ID0gZm9ybWF0RmlsZVNpemUoZmlsZS5zaXplKSk7XG4gICAgICBpZiAoZGV0YWlsQWx0SW5wdXQgJiYgIWRldGFpbEFsdElucHV0LnZhbHVlLnRyaW0oKSkge1xuICAgICAgICBkZXRhaWxBbHRJbnB1dC52YWx1ZSA9IGZpbGUubmFtZS5yZXBsYWNlKC9cXC5bXi5dKyQvLCAnJykucmVwbGFjZSgvWy1fXS9nLCAnICcpO1xuICAgICAgfVxuICAgICAgZGV0YWlsUGF0aCAmJiAoZGV0YWlsUGF0aC50ZXh0Q29udGVudCA9ICdFbiBhdHRlbnRlIGRlIHRcdTAwRTlsXHUwMEU5dmVyc2VtZW50Jyk7XG4gICAgICBpZiAoZGV0YWlsVXNlZCkge1xuICAgICAgICBkZXRhaWxVc2VkLmlubmVySFRNTCA9ICcnO1xuICAgICAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICAgIGxpLnRleHRDb250ZW50ID0gJ05vbiB1dGlsaXNcdTAwRTknO1xuICAgICAgICBsaS5jbGFzc05hbWUgPSAndGV4dC14cyB0ZXh0LXNsYXRlLTQwMCc7XG4gICAgICAgIGRldGFpbFVzZWQuYXBwZW5kQ2hpbGQobGkpO1xuICAgICAgfVxuICAgICAgdXBkYXRlRGV0YWlsQWN0aW9ucyhmYWxzZSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGFwcGx5RmlsdGVycyA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHR5cGVGaWx0ZXIgPSBmaWx0ZXJUeXBlPy52YWx1ZSB8fCAnYWxsJztcbiAgICAgIGlmICh0eXBlRmlsdGVyID09PSAnYWxsJykge1xuICAgICAgICBmaWx0ZXJlZEl0ZW1zID0gWy4uLm1lZGlhSXRlbXNdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZmlsdGVyZWRJdGVtcyA9IG1lZGlhSXRlbXMuZmlsdGVyKChpdGVtKSA9PiBpdGVtLmdyb3VwVHlwZSA9PT0gdHlwZUZpbHRlcik7XG4gICAgICB9XG4gICAgICBpZiAoIWZpbHRlcmVkSXRlbXMuc29tZSgoaXRlbSkgPT4gaXRlbS5pZCA9PT0gYWN0aXZlTWVkaWFJZCkpIHtcbiAgICAgICAgcmVzZXREZXRhaWxQYW5lbCgpO1xuICAgICAgfVxuICAgICAgdXBkYXRlQ291bnRCYWRnZSgpO1xuICAgICAgcmVuZGVyR3JpZCgpO1xuICAgIH07XG5cbiAgICBjb25zdCBsb2FkTWVkaWEgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIW1lZGlhQXBpQmFzZSkge1xuICAgICAgICBlbXB0eVN0YXRlPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChtZWRpYUFwaUJhc2UsIHtcbiAgICAgICAgICBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIG1cdTAwRTlkaWFzLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHsgaXRlbXM6IFtdIH0pKTtcbiAgICAgICAgbWVkaWFJdGVtcyA9IEFycmF5LmlzQXJyYXkocGF5bG9hZC5pdGVtcylcbiAgICAgICAgICA/IHBheWxvYWQuaXRlbXMubWFwKChpdGVtKSA9PiAoeyAuLi5pdGVtLCBncm91cFR5cGU6IGRlcml2ZUdyb3VwVHlwZShpdGVtKSB9KSlcbiAgICAgICAgICA6IFtdO1xuICAgICAgICBhcHBseUZpbHRlcnMoKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbbWVkaWFdIGxvYWQgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIG1cdTAwRTlkaWFzLicpO1xuICAgICAgICBtZWRpYUl0ZW1zID0gW107XG4gICAgICAgIGFwcGx5RmlsdGVycygpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBmaWx0ZXJUeXBlPy5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgICBhcHBseUZpbHRlcnMoKTtcbiAgICB9KTtcbiAgICBkZXRhaWxBbHRJbnB1dD8uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgICBpZiAodXBsb2FkTW9kZSkge1xuICAgICAgICB1cGRhdGVEZXRhaWxBY3Rpb25zKGZhbHNlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFhY3RpdmVNZWRpYUlkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGRldGFpbERpcnR5ID0gdHJ1ZTtcbiAgICAgIHVwZGF0ZURldGFpbEFjdGlvbnMoZmFsc2UpO1xuICAgIH0pO1xuXG4gICAgY29uc3QgaGFuZGxlRmlsZVNlbGVjdGlvbiA9IChmaWxlKSA9PiB7XG4gICAgICBpZiAoIWZpbGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFmaWxlLnR5cGUuc3RhcnRzV2l0aCgnaW1hZ2UvJykpIHtcbiAgICAgICAgc2hvd1RvYXN0KCdTZXVsZXMgbGVzIGltYWdlcyBzb250IGFjY2VwdFx1MDBFOWVzIHBvdXIgbGUgbW9tZW50LicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoZmlsZS5zaXplID4gNCAqIDEwMjQgKiAxMDI0KSB7XG4gICAgICAgIHNob3dUb2FzdCgnRmljaGllciB0cm9wIHZvbHVtaW5ldXggKDQgTW8gbWF4KS4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcGVuZGluZ1VwbG9hZEZpbGUgPSBmaWxlO1xuICAgICAgc2hvd1VwbG9hZFByZXZpZXcoZmlsZSk7XG4gICAgICBpZiAodXBsb2FkU3RhdHVzKSB7XG4gICAgICAgIHVwbG9hZFN0YXR1cy50ZXh0Q29udGVudCA9IGAke2ZpbGUubmFtZX0gXHUwMEI3ICR7Zm9ybWF0RmlsZVNpemUoZmlsZS5zaXplKX1gO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCByZWFkRmlsZUFzQmFzZTY0ID0gKGZpbGUpID0+XG4gICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICAgIHJlYWRlci5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gcmVhZGVyLnJlc3VsdCB8fCAnJztcbiAgICAgICAgICBjb25zdCBbLCBiYXNlNjQgPSAnJ10gPSBTdHJpbmcocmVzdWx0KS5zcGxpdCgnLCcpO1xuICAgICAgICAgIHJlc29sdmUoYmFzZTY0KTtcbiAgICAgICAgfTtcbiAgICAgICAgcmVhZGVyLm9uZXJyb3IgPSAoKSA9PiByZWplY3QobmV3IEVycm9yKCdJbXBvc3NpYmxlIGRlIGxpcmUgY2UgZmljaGllci4nKSk7XG4gICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xuICAgICAgfSk7XG5cbiAgICBjb25zdCB1cGxvYWRTZWxlY3RlZE1lZGlhID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFwZW5kaW5nVXBsb2FkRmlsZSB8fCAhbWVkaWFBcGlCYXNlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHVwbG9hZEluUHJvZ3Jlc3MgPSB0cnVlO1xuICAgICAgdXBkYXRlRGV0YWlsQWN0aW9ucyh0cnVlKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGJhc2U2NCA9IGF3YWl0IHJlYWRGaWxlQXNCYXNlNjQocGVuZGluZ1VwbG9hZEZpbGUpO1xuICAgICAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICAgIGZpbGVuYW1lOiBwZW5kaW5nVXBsb2FkRmlsZS5uYW1lLFxuICAgICAgICAgIHR5cGU6IHBlbmRpbmdVcGxvYWRGaWxlLnR5cGUsXG4gICAgICAgICAgc2l6ZTogcGVuZGluZ1VwbG9hZEZpbGUuc2l6ZSxcbiAgICAgICAgICBhbHQ6IGRldGFpbEFsdElucHV0Py52YWx1ZSB8fCAnJyxcbiAgICAgICAgICBkYXRhOiBiYXNlNjQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2gobWVkaWFBcGlCYXNlLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgY29uc3QgZXJyb3JQYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvclBheWxvYWQubWVzc2FnZSB8fCAnVXBsb2FkIGltcG9zc2libGUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2F2ZWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIHNhdmVkLmdyb3VwVHlwZSA9IGRlcml2ZUdyb3VwVHlwZShzYXZlZCk7XG4gICAgICAgIG1lZGlhSXRlbXMgPSBbLi4ubWVkaWFJdGVtcywgc2F2ZWRdO1xuICAgICAgICBoaWdobGlnaHRNZWRpYUlkID0gc2F2ZWQuaWQ7XG4gICAgICAgIGFwcGx5RmlsdGVycygpO1xuICAgICAgICBzZWxlY3RNZWRpYShzYXZlZC5pZCk7XG4gICAgICAgIHNob3dUb2FzdCgnTVx1MDBFOWRpYSBham91dFx1MDBFOScpO1xuICAgICAgICBjbGVhclVwbG9hZFN0YXRlKCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW21lZGlhXSB1cGxvYWQgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIHRcdTAwRTlsXHUwMEU5dmVyc2VyIGNlIG1cdTAwRTlkaWEuJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICB1cGxvYWRJblByb2dyZXNzID0gZmFsc2U7XG4gICAgICAgIHBlbmRpbmdVcGxvYWRGaWxlID0gbnVsbDtcbiAgICAgICAgdXBkYXRlRGV0YWlsQWN0aW9ucyhmYWxzZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHVwbG9hZE9wZW5CdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gZmlsZUlucHV0Py5jbGljaygpKTtcbiAgICBmaWxlSW5wdXQ/LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgICAgIGlmIChmaWxlSW5wdXQuZmlsZXMgJiYgZmlsZUlucHV0LmZpbGVzWzBdKSB7XG4gICAgICAgIGhhbmRsZUZpbGVTZWxlY3Rpb24oZmlsZUlucHV0LmZpbGVzWzBdKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBjb25zdCBjbG9zZURlbGV0ZU1vZGFsID0gKCkgPT4ge1xuICAgICAgaWYgKCFkZWxldGVNb2RhbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBkZWxldGVNb2RhbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGRlbGV0ZU1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2ZsZXgnKTtcbiAgICB9O1xuXG4gICAgY29uc3Qgb3BlbkRlbGV0ZU1vZGFsID0gKCkgPT4ge1xuICAgICAgaWYgKCFhY3RpdmVNZWRpYUlkIHx8IHVwbG9hZE1vZGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGRlbGV0ZU1vZGFsKSB7XG4gICAgICAgIGRlbGV0ZU1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICBkZWxldGVNb2RhbC5jbGFzc0xpc3QuYWRkKCdmbGV4Jyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vIEZhbGxiYWNrIHNpIGF1Y3VuZSBtb2RhbGUgbidlc3QgZGlzcG9uaWJsZVxuICAgICAgaWYgKHdpbmRvdy5jb25maXJtKCdTdXBwcmltZXIgY2UgbVx1MDBFOWRpYSA/JykpIHtcbiAgICAgICAgZGVsZXRlQWN0aXZlTWVkaWEoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgZGVsZXRlQWN0aXZlTWVkaWEgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWFjdGl2ZU1lZGlhSWQgfHwgIW1lZGlhQXBpQmFzZSkge1xuICAgICAgICBjbG9zZURlbGV0ZU1vZGFsKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRpc2FibGVCdXR0b25zID0gKCkgPT4ge1xuICAgICAgICBpZiAoZGV0YWlsRGVsZXRlQnV0dG9uKSB7XG4gICAgICAgICAgZGV0YWlsRGVsZXRlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVsZXRlQ29uZmlybUJ1dHRvbikge1xuICAgICAgICAgIGRlbGV0ZUNvbmZpcm1CdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICAgIGRlbGV0ZUNvbmZpcm1CdXR0b24udGV4dENvbnRlbnQgPSAnU3VwcHJlc3Npb25cdTIwMjYnO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgY29uc3QgZW5hYmxlQnV0dG9ucyA9ICgpID0+IHtcbiAgICAgICAgaWYgKGRldGFpbERlbGV0ZUJ1dHRvbikge1xuICAgICAgICAgIGRldGFpbERlbGV0ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkZWxldGVDb25maXJtQnV0dG9uKSB7XG4gICAgICAgICAgZGVsZXRlQ29uZmlybUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgIGRlbGV0ZUNvbmZpcm1CdXR0b24udGV4dENvbnRlbnQgPSAnU3VwcHJpbWVyJztcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGRpc2FibGVCdXR0b25zKCk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgICAgIGAke21lZGlhQXBpQmFzZX0vJHtlbmNvZGVVUklDb21wb25lbnQoYWN0aXZlTWVkaWFJZCl9YCxcbiAgICAgICAgICB7IG1ldGhvZDogJ0RFTEVURScgfSxcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHBheWxvYWQubWVzc2FnZSB8fCAnU3VwcHJlc3Npb24gaW1wb3NzaWJsZS4nKTtcbiAgICAgICAgfVxuICAgICAgICBtZWRpYUl0ZW1zID0gbWVkaWFJdGVtcy5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0uaWQgIT09IGFjdGl2ZU1lZGlhSWQpO1xuICAgICAgICBmaWx0ZXJlZEl0ZW1zID0gZmlsdGVyZWRJdGVtcy5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0uaWQgIT09IGFjdGl2ZU1lZGlhSWQpO1xuICAgICAgICBzaG93VG9hc3QoJ01cdTAwRTlkaWEgc3VwcHJpbVx1MDBFOScpO1xuICAgICAgICByZXNldERldGFpbFBhbmVsKCk7XG4gICAgICAgIHVwZGF0ZUNvdW50QmFkZ2UoKTtcbiAgICAgICAgcmVuZGVyR3JpZCgpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1ttZWRpYV0gZGVsZXRlIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBzdXBwcmltZXIgY2UgbVx1MDBFOWRpYS4nKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGVuYWJsZUJ1dHRvbnMoKTtcbiAgICAgICAgY2xvc2VEZWxldGVNb2RhbCgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBkZWxldGVDYW5jZWxCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VEZWxldGVNb2RhbCk7XG4gICAgZGVsZXRlTW9kYWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSBkZWxldGVNb2RhbCkge1xuICAgICAgICBjbG9zZURlbGV0ZU1vZGFsKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBkZWxldGVDb25maXJtQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGRlbGV0ZUFjdGl2ZU1lZGlhKCkpO1xuICAgIGRldGFpbERlbGV0ZUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuRGVsZXRlTW9kYWwpO1xuXG4gICAgZGV0YWlsU2F2ZUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAodXBsb2FkTW9kZSkge1xuICAgICAgICB1cGxvYWRTZWxlY3RlZE1lZGlhKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghYWN0aXZlTWVkaWFJZCB8fCAhbWVkaWFBcGlCYXNlIHx8ICFkZXRhaWxBbHRJbnB1dCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB1cGRhdGVEZXRhaWxBY3Rpb25zKHRydWUpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IHsgYWx0OiBkZXRhaWxBbHRJbnB1dC52YWx1ZSB8fCAnJyB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgICAgIGAke21lZGlhQXBpQmFzZX0vJHtlbmNvZGVVUklDb21wb25lbnQoYWN0aXZlTWVkaWFJZCl9YCxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgICB9LFxuICAgICAgICApO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgY29uc3QgZXJyb3JQYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvclBheWxvYWQubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBtZXR0cmUgXHUwMEUwIGpvdXIgY2UgbVx1MDBFOWRpYS4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB1cGRhdGVkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBtZWRpYUl0ZW1zID0gbWVkaWFJdGVtcy5tYXAoKGl0ZW0pID0+XG4gICAgICAgICAgaXRlbS5pZCA9PT0gYWN0aXZlTWVkaWFJZCA/IHsgLi4uaXRlbSwgLi4udXBkYXRlZCB9IDogaXRlbSxcbiAgICAgICAgKTtcbiAgICAgICAgZmlsdGVyZWRJdGVtcyA9IGZpbHRlcmVkSXRlbXMubWFwKChpdGVtKSA9PlxuICAgICAgICAgIGl0ZW0uaWQgPT09IGFjdGl2ZU1lZGlhSWQgPyB7IC4uLml0ZW0sIC4uLnVwZGF0ZWQgfSA6IGl0ZW0sXG4gICAgICAgICk7XG4gICAgICAgIGRldGFpbERpcnR5ID0gZmFsc2U7XG4gICAgICAgIHVwZGF0ZURldGFpbEFjdGlvbnMoZmFsc2UpO1xuICAgICAgICBzaG93VG9hc3QoJ01cdTAwRTlkaWEgbWlzIFx1MDBFMCBqb3VyJyk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW21lZGlhXSB1cGRhdGUgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdcdTAwQzljaGVjIGRlIGxhIG1pc2UgXHUwMEUwIGpvdXIuJyk7XG4gICAgICAgIHVwZGF0ZURldGFpbEFjdGlvbnMoZmFsc2UpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgbG9hZE1lZGlhKCk7XG4gIH1cblxuICAvLyBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcbiAgLy8gQUkgQ0hBVCAtIEFzc2lzdGFudCBJQSBjb250ZXh0dWVsXG4gIC8vIFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFxuXG4gIGNvbnN0IGFpQ2hhdFRvZ2dsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhaS1jaGF0LXRvZ2dsZScpO1xuICBjb25zdCBhaUNoYXRQYW5lbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhaS1jaGF0LXBhbmVsJyk7XG4gIGNvbnN0IGFpQ2hhdE92ZXJsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWktY2hhdC1vdmVybGF5Jyk7XG4gIGNvbnN0IGFpQ2hhdENsb3NlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FpLWNoYXQtY2xvc2UnKTtcbiAgY29uc3QgYWlDaGF0Q2xlYXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWktY2hhdC1jbGVhcicpO1xuICBjb25zdCBhaUNoYXRGb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FpLWNoYXQtZm9ybScpO1xuICBjb25zdCBhaUNoYXRJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhaS1jaGF0LWlucHV0Jyk7XG4gIGNvbnN0IGFpQ2hhdE1lc3NhZ2VzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FpLWNoYXQtbWVzc2FnZXMnKTtcbiAgY29uc3QgYWlDaGF0U3RhdHVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FpLWNoYXQtc3RhdHVzJyk7XG4gIGNvbnN0IGFpQ2hhdE5vQXBpID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FpLWNoYXQtbm8tYXBpJyk7XG4gIGNvbnN0IGFpUXVpY2tCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYWktcXVpY2tdJyk7XG5cbiAgbGV0IGFpQ2hhdE9wZW4gPSBmYWxzZTtcbiAgbGV0IGFpSXNMb2FkaW5nID0gZmFsc2U7XG4gIGxldCBhaUNvbmZpZ0NoZWNrZWQgPSBmYWxzZTtcbiAgbGV0IGFpSGFzQXBpS2V5ID0gZmFsc2U7XG5cbiAgLyoqXG4gICAqIE91dnJlIGxlIHBhbmVsIGRlIGNoYXQgSUFcbiAgICovXG4gIGZ1bmN0aW9uIG9wZW5BSUNoYXQoKSB7XG4gICAgaWYgKCFhaUNoYXRQYW5lbCkgcmV0dXJuO1xuICAgIGFpQ2hhdE9wZW4gPSB0cnVlO1xuICAgIGFpQ2hhdFBhbmVsLmNsYXNzTGlzdC5yZW1vdmUoJ3RyYW5zbGF0ZS14LWZ1bGwnKTtcbiAgICBhaUNoYXRQYW5lbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ2ZhbHNlJyk7XG4gICAgYWlDaGF0T3ZlcmxheT8uY2xhc3NMaXN0LnJlbW92ZSgnb3BhY2l0eS0wJywgJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICBhaUNoYXRPdmVybGF5Py5jbGFzc0xpc3QuYWRkKCdvcGFjaXR5LTEwMCcpO1xuICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnb3ZlcmZsb3ctaGlkZGVuJyk7XG4gICAgYWlDaGF0SW5wdXQ/LmZvY3VzKCk7XG5cbiAgICAvLyBWXHUwMEU5cmlmaWVyIGxhIGNvbmZpZyBBSSBhdSBwcmVtaWVyIG91dmVydHVyZVxuICAgIGlmICghYWlDb25maWdDaGVja2VkKSB7XG4gICAgICBjaGVja0FJQ29uZmlnKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEZlcm1lIGxlIHBhbmVsIGRlIGNoYXQgSUFcbiAgICovXG4gIGZ1bmN0aW9uIGNsb3NlQUlDaGF0KCkge1xuICAgIGlmICghYWlDaGF0UGFuZWwpIHJldHVybjtcbiAgICBhaUNoYXRPcGVuID0gZmFsc2U7XG4gICAgYWlDaGF0UGFuZWwuY2xhc3NMaXN0LmFkZCgndHJhbnNsYXRlLXgtZnVsbCcpO1xuICAgIGFpQ2hhdFBhbmVsLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuICAgIGFpQ2hhdE92ZXJsYXk/LmNsYXNzTGlzdC5hZGQoJ29wYWNpdHktMCcsICdwb2ludGVyLWV2ZW50cy1ub25lJyk7XG4gICAgYWlDaGF0T3ZlcmxheT8uY2xhc3NMaXN0LnJlbW92ZSgnb3BhY2l0eS0xMDAnKTtcbiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ292ZXJmbG93LWhpZGRlbicpO1xuICB9XG5cbiAgLyoqXG4gICAqIFZcdTAwRTlyaWZpZSBzaSBsJ0FQSSBBSSBlc3QgY29uZmlndXJcdTAwRTllXG4gICAqL1xuICBhc3luYyBmdW5jdGlvbiBjaGVja0FJQ29uZmlnKCkge1xuICAgIGNvbnN0IHNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goc3RvcmVkU2l0ZS5zbHVnIHx8ICcnKTtcbiAgICBpZiAoIXNpdGVTbHVnKSB7XG4gICAgICBhaUNoYXROb0FwaT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNpdGVTbHVnKX0vY29uZmlnL2FpYCk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB0aHJvdyBuZXcgRXJyb3IoJ0NvbmZpZyBjaGVjayBmYWlsZWQnKTtcbiAgICAgIGNvbnN0IGNvbmZpZyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIGFpQ29uZmlnQ2hlY2tlZCA9IHRydWU7XG4gICAgICBhaUhhc0FwaUtleSA9IGNvbmZpZy5oYXNBcGlLZXk7XG4gICAgICBcbiAgICAgIGlmICghY29uZmlnLmVuYWJsZWQgfHwgIWNvbmZpZy5oYXNBcGlLZXkpIHtcbiAgICAgICAgYWlDaGF0Tm9BcGk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWlDaGF0Tm9BcGk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICAvLyBDaGFyZ2VyIGwnaGlzdG9yaXF1ZVxuICAgICAgICBsb2FkQUlDaGF0SGlzdG9yeSgpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignW0FJXSBDb25maWcgY2hlY2sgZmFpbGVkOicsIGVycik7XG4gICAgICBhaUNoYXROb0FwaT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENoYXJnZSBsJ2hpc3RvcmlxdWUgZGUgY29udmVyc2F0aW9uXG4gICAqL1xuICBhc3luYyBmdW5jdGlvbiBsb2FkQUlDaGF0SGlzdG9yeSgpIHtcbiAgICBjb25zdCBzaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyk7XG4gICAgaWYgKCFzaXRlU2x1ZyB8fCAhYWlDaGF0TWVzc2FnZXMpIHJldHVybjtcbiAgICBcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzaXRlU2x1Zyl9L2FpL2hpc3RvcnlgKTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHJldHVybjtcbiAgICAgIFxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIGlmIChkYXRhLm1lc3NhZ2VzICYmIGRhdGEubWVzc2FnZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAvLyBFZmZhY2VyIGxlIG1lc3NhZ2UgZGUgYmllbnZlbnVlXG4gICAgICAgIGNvbnN0IHdlbGNvbWVNc2cgPSBhaUNoYXRNZXNzYWdlcy5xdWVyeVNlbGVjdG9yKCdbZGF0YS1haS13ZWxjb21lXScpO1xuICAgICAgICBpZiAod2VsY29tZU1zZykgd2VsY29tZU1zZy5yZW1vdmUoKTtcbiAgICAgICAgXG4gICAgICAgIC8vIEFmZmljaGVyIGxlcyBtZXNzYWdlc1xuICAgICAgICBkYXRhLm1lc3NhZ2VzLmZvckVhY2gobXNnID0+IHtcbiAgICAgICAgICBhcHBlbmRBSU1lc3NhZ2UobXNnLmNvbnRlbnQsIG1zZy5yb2xlID09PSAndXNlcicgPyAndXNlcicgOiAnYXNzaXN0YW50Jyk7XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgLy8gU2Nyb2xsIHZlcnMgbGUgYmFzXG4gICAgICAgIGFpQ2hhdE1lc3NhZ2VzLnNjcm9sbFRvcCA9IGFpQ2hhdE1lc3NhZ2VzLnNjcm9sbEhlaWdodDtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tBSV0gSGlzdG9yeSBsb2FkIGZhaWxlZDonLCBlcnIpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBam91dGUgdW4gbWVzc2FnZSBhdSBjaGF0XG4gICAqL1xuICBmdW5jdGlvbiBhcHBlbmRBSU1lc3NhZ2UoY29udGVudCwgcm9sZSA9ICdhc3Npc3RhbnQnKSB7XG4gICAgaWYgKCFhaUNoYXRNZXNzYWdlcykgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0IG1zZ0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIG1zZ0Rpdi5jbGFzc05hbWUgPSAnZmxleCBnYXAtMyc7XG4gICAgXG4gICAgaWYgKHJvbGUgPT09ICd1c2VyJykge1xuICAgICAgbXNnRGl2LmlubmVySFRNTCA9IGBcbiAgICAgICAgPGRpdiBjbGFzcz1cImZsZXgtMVwiPjwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwibWF4LXctWzgwJV0gYmctdmlvbGV0LTYwMCB0ZXh0LXdoaXRlIHJvdW5kZWQtMnhsIHJvdW5kZWQtdHItbm9uZSBwLTNcIj5cbiAgICAgICAgICA8cCBjbGFzcz1cInRleHQtc20gd2hpdGVzcGFjZS1wcmUtd3JhcFwiPiR7ZXNjYXBlSHRtbChjb250ZW50KX08L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwidy04IGgtOCByb3VuZGVkLWZ1bGwgYmctc2xhdGUtMjAwIGZsZXgtc2hyaW5rLTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICA8c3ZnIGNsYXNzPVwidy00IGgtNCB0ZXh0LXNsYXRlLTUwMFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgPHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTYgN2E0IDQgMCAxMS04IDAgNCA0IDAgMDE4IDB6TTEyIDE0YTcgNyAwIDAwLTcgN2gxNGE3IDcgMCAwMC03LTd6XCIvPlxuICAgICAgICAgIDwvc3ZnPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIGA7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEZvcm1hdHRlciBsZSBjb250ZW51IE1hcmtkb3duIGJhc2lxdWVcbiAgICAgIGNvbnN0IGZvcm1hdHRlZENvbnRlbnQgPSBmb3JtYXRBSVJlc3BvbnNlKGNvbnRlbnQpO1xuICAgICAgbXNnRGl2LmlubmVySFRNTCA9IGBcbiAgICAgICAgPGRpdiBjbGFzcz1cInctOCBoLTggcm91bmRlZC1mdWxsIGJnLWdyYWRpZW50LXRvLWJyIGZyb20tdmlvbGV0LTUwMCB0by1pbmRpZ28tNjAwIGZsZXgtc2hyaW5rLTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICA8c3ZnIGNsYXNzPVwidy00IGgtNCB0ZXh0LXdoaXRlXCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICA8cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk05LjY2MyAxN2g0LjY3M00xMiAzdjFtNi4zNjQgMS42MzZsLS43MDcuNzA3TTIxIDEyaC0xTTQgMTJIM20zLjM0My01LjY1N2wtLjcwNy0uNzA3bTIuODI4IDkuOWE1IDUgMCAxMTcuMDcyIDBsLS41NDguNTQ3QTMuMzc0IDMuMzc0IDAgMDAxNCAxOC40NjlWMTlhMiAyIDAgMTEtNCAwdi0uNTMxYzAtLjg5NS0uMzU2LTEuNzU0LS45ODgtMi4zODZsLS41NDgtLjU0N3pcIi8+XG4gICAgICAgICAgPC9zdmc+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleC0xIGJnLXNsYXRlLTUwIHJvdW5kZWQtMnhsIHJvdW5kZWQtdGwtbm9uZSBwLTMgb3ZlcmZsb3cteC1hdXRvXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInRleHQtc20gdGV4dC1zbGF0ZS03MDAgcHJvc2UgcHJvc2Utc20gbWF4LXctbm9uZSBbJj5wcmVdOmJnLXNsYXRlLTgwMCBbJj5wcmVdOnRleHQtc2xhdGUtMTAwIFsmPnByZV06cm91bmRlZC1sZyBbJj5wcmVdOnAtMyBbJj5wcmVdOm92ZXJmbG93LXgtYXV0byBbJj5jb2RlXTpiZy1zbGF0ZS0yMDAgWyY+Y29kZV06cHgtMSBbJj5jb2RlXTpyb3VuZGVkXCI+JHtmb3JtYXR0ZWRDb250ZW50fTwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIGA7XG4gICAgfVxuICAgIFxuICAgIGFpQ2hhdE1lc3NhZ2VzLmFwcGVuZENoaWxkKG1zZ0Rpdik7XG4gICAgYWlDaGF0TWVzc2FnZXMuc2Nyb2xsVG9wID0gYWlDaGF0TWVzc2FnZXMuc2Nyb2xsSGVpZ2h0O1xuICB9XG5cbiAgLyoqXG4gICAqIEFmZmljaGUgdW4gaW5kaWNhdGV1ciBkZSBjaGFyZ2VtZW50XG4gICAqL1xuICBmdW5jdGlvbiBzaG93QUlMb2FkaW5nKCkge1xuICAgIGlmICghYWlDaGF0TWVzc2FnZXMpIHJldHVybjtcbiAgICBcbiAgICBjb25zdCBsb2FkaW5nRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgbG9hZGluZ0Rpdi5jbGFzc05hbWUgPSAnZmxleCBnYXAtMyc7XG4gICAgbG9hZGluZ0Rpdi5pZCA9ICdhaS1sb2FkaW5nLWluZGljYXRvcic7XG4gICAgbG9hZGluZ0Rpdi5pbm5lckhUTUwgPSBgXG4gICAgICA8ZGl2IGNsYXNzPVwidy04IGgtOCByb3VuZGVkLWZ1bGwgYmctZ3JhZGllbnQtdG8tYnIgZnJvbS12aW9sZXQtNTAwIHRvLWluZGlnby02MDAgZmxleC1zaHJpbmstMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICA8c3ZnIGNsYXNzPVwidy00IGgtNCB0ZXh0LXdoaXRlIGFuaW1hdGUtcHVsc2VcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICA8cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk05LjY2MyAxN2g0LjY3M00xMiAzdjFtNi4zNjQgMS42MzZsLS43MDcuNzA3TTIxIDEyaC0xTTQgMTJIM20zLjM0My01LjY1N2wtLjcwNy0uNzA3bTIuODI4IDkuOWE1IDUgMCAxMTcuMDcyIDBsLS41NDguNTQ3QTMuMzc0IDMuMzc0IDAgMDAxNCAxOC40NjlWMTlhMiAyIDAgMTEtNCAwdi0uNTMxYzAtLjg5NS0uMzU2LTEuNzU0LS45ODgtMi4zODZsLS41NDgtLjU0N3pcIi8+XG4gICAgICAgIDwvc3ZnPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwiZmxleC0xIGJnLXNsYXRlLTUwIHJvdW5kZWQtMnhsIHJvdW5kZWQtdGwtbm9uZSBwLTNcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInctMiBoLTIgYmctdmlvbGV0LTQwMCByb3VuZGVkLWZ1bGwgYW5pbWF0ZS1ib3VuY2VcIiBzdHlsZT1cImFuaW1hdGlvbi1kZWxheTogMG1zXCI+PC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInctMiBoLTIgYmctdmlvbGV0LTQwMCByb3VuZGVkLWZ1bGwgYW5pbWF0ZS1ib3VuY2VcIiBzdHlsZT1cImFuaW1hdGlvbi1kZWxheTogMTUwbXNcIj48L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwidy0yIGgtMiBiZy12aW9sZXQtNDAwIHJvdW5kZWQtZnVsbCBhbmltYXRlLWJvdW5jZVwiIHN0eWxlPVwiYW5pbWF0aW9uLWRlbGF5OiAzMDBtc1wiPjwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIGA7XG4gICAgXG4gICAgYWlDaGF0TWVzc2FnZXMuYXBwZW5kQ2hpbGQobG9hZGluZ0Rpdik7XG4gICAgYWlDaGF0TWVzc2FnZXMuc2Nyb2xsVG9wID0gYWlDaGF0TWVzc2FnZXMuc2Nyb2xsSGVpZ2h0O1xuICB9XG5cbiAgLyoqXG4gICAqIENhY2hlIGwnaW5kaWNhdGV1ciBkZSBjaGFyZ2VtZW50XG4gICAqL1xuICBmdW5jdGlvbiBoaWRlQUlMb2FkaW5nKCkge1xuICAgIGNvbnN0IGxvYWRpbmdEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWktbG9hZGluZy1pbmRpY2F0b3InKTtcbiAgICBsb2FkaW5nRGl2Py5yZW1vdmUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGb3JtYXRlIGxhIHJcdTAwRTlwb25zZSBkZSBsJ0lBIChNYXJrZG93biBiYXNpcXVlKVxuICAgKi9cbiAgZnVuY3Rpb24gZm9ybWF0QUlSZXNwb25zZSh0ZXh0KSB7XG4gICAgaWYgKCF0ZXh0KSByZXR1cm4gJyc7XG4gICAgXG4gICAgLy8gRXNjYXBlIEhUTUwgZCdhYm9yZFxuICAgIGxldCBmb3JtYXR0ZWQgPSBlc2NhcGVIdG1sKHRleHQpO1xuICAgIFxuICAgIC8vIENvZGUgYmxvY2tzIGBgYFxuICAgIGZvcm1hdHRlZCA9IGZvcm1hdHRlZC5yZXBsYWNlKC9gYGAoXFx3KilcXG4oW1xcc1xcU10qPylgYGAvZywgKG1hdGNoLCBsYW5nLCBjb2RlKSA9PiB7XG4gICAgICByZXR1cm4gYDxwcmUgY2xhc3M9XCJsYW5ndWFnZS0ke2xhbmcgfHwgJ3RleHQnfVwiPjxjb2RlPiR7Y29kZS50cmltKCl9PC9jb2RlPjwvcHJlPmA7XG4gICAgfSk7XG4gICAgXG4gICAgLy8gSW5saW5lIGNvZGUgYFxuICAgIGZvcm1hdHRlZCA9IGZvcm1hdHRlZC5yZXBsYWNlKC9gKFteYF0rKWAvZywgJzxjb2RlPiQxPC9jb2RlPicpO1xuICAgIFxuICAgIC8vIEJvbGQgKip0ZXh0KipcbiAgICBmb3JtYXR0ZWQgPSBmb3JtYXR0ZWQucmVwbGFjZSgvXFwqXFwqKFteKl0rKVxcKlxcKi9nLCAnPHN0cm9uZz4kMTwvc3Ryb25nPicpO1xuICAgIFxuICAgIC8vIEl0YWxpYyAqdGV4dCpcbiAgICBmb3JtYXR0ZWQgPSBmb3JtYXR0ZWQucmVwbGFjZSgvXFwqKFteKl0rKVxcKi9nLCAnPGVtPiQxPC9lbT4nKTtcbiAgICBcbiAgICAvLyBUaXRyZXNcbiAgICBmb3JtYXR0ZWQgPSBmb3JtYXR0ZWQucmVwbGFjZSgvXiMjIyAoLispJC9nbSwgJzxoNCBjbGFzcz1cImZvbnQtc2VtaWJvbGQgdGV4dC1zbGF0ZS05MDAgbXQtMyBtYi0xXCI+JDE8L2g0PicpO1xuICAgIGZvcm1hdHRlZCA9IGZvcm1hdHRlZC5yZXBsYWNlKC9eIyMgKC4rKSQvZ20sICc8aDMgY2xhc3M9XCJmb250LXNlbWlib2xkIHRleHQtc2xhdGUtOTAwIG10LTMgbWItMVwiPiQxPC9oMz4nKTtcbiAgICBmb3JtYXR0ZWQgPSBmb3JtYXR0ZWQucmVwbGFjZSgvXiMgKC4rKSQvZ20sICc8aDIgY2xhc3M9XCJmb250LWJvbGQgdGV4dC1zbGF0ZS05MDAgbXQtMyBtYi0yXCI+JDE8L2gyPicpO1xuICAgIFxuICAgIC8vIExpc3Rlc1xuICAgIGZvcm1hdHRlZCA9IGZvcm1hdHRlZC5yZXBsYWNlKC9eLSAoLispJC9nbSwgJzxsaSBjbGFzcz1cIm1sLTRcIj4kMTwvbGk+Jyk7XG4gICAgZm9ybWF0dGVkID0gZm9ybWF0dGVkLnJlcGxhY2UoL14oXFxkKylcXC4gKC4rKSQvZ20sICc8bGkgY2xhc3M9XCJtbC00XCI+JDI8L2xpPicpO1xuICAgIFxuICAgIC8vIFBhcmFncmFwaGVzIChsaWduZXMgdmlkZXMpXG4gICAgZm9ybWF0dGVkID0gZm9ybWF0dGVkLnJlcGxhY2UoL1xcblxcbi9nLCAnPC9wPjxwIGNsYXNzPVwibWItMlwiPicpO1xuICAgIGZvcm1hdHRlZCA9ICc8cCBjbGFzcz1cIm1iLTJcIj4nICsgZm9ybWF0dGVkICsgJzwvcD4nO1xuICAgIFxuICAgIC8vIE5ldHRveWVyIGxlcyA8cD4gdmlkZXNcbiAgICBmb3JtYXR0ZWQgPSBmb3JtYXR0ZWQucmVwbGFjZSgvPHAgY2xhc3M9XCJtYi0yXCI+PFxcL3A+L2csICcnKTtcbiAgICBcbiAgICByZXR1cm4gZm9ybWF0dGVkO1xuICB9XG5cbiAgLyoqXG4gICAqIFx1MDBDOWNoYXBwZSBsZSBIVE1MXG4gICAqL1xuICBmdW5jdGlvbiBlc2NhcGVIdG1sKHRleHQpIHtcbiAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBkaXYudGV4dENvbnRlbnQgPSB0ZXh0O1xuICAgIHJldHVybiBkaXYuaW5uZXJIVE1MO1xuICB9XG5cbiAgLyoqXG4gICAqIEVudm9pZSB1biBtZXNzYWdlIGF1IGNoYXQgSUFcbiAgICovXG4gIGFzeW5jIGZ1bmN0aW9uIHNlbmRBSU1lc3NhZ2UobWVzc2FnZSkge1xuICAgIGNvbnN0IHNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goc3RvcmVkU2l0ZS5zbHVnIHx8ICcnKTtcbiAgICBpZiAoIW1lc3NhZ2UgfHwgIXNpdGVTbHVnIHx8IGFpSXNMb2FkaW5nKSByZXR1cm47XG4gICAgXG4gICAgYWlJc0xvYWRpbmcgPSB0cnVlO1xuICAgIGFpQ2hhdElucHV0LmRpc2FibGVkID0gdHJ1ZTtcbiAgICBcbiAgICAvLyBFZmZhY2VyIGxlIG1lc3NhZ2UgZGUgYmllbnZlbnVlIGF1IHByZW1pZXIgbWVzc2FnZVxuICAgIGNvbnN0IHdlbGNvbWVNc2cgPSBhaUNoYXRNZXNzYWdlcz8ucXVlcnlTZWxlY3RvcignW2RhdGEtYWktd2VsY29tZV0nKTtcbiAgICBpZiAod2VsY29tZU1zZykgd2VsY29tZU1zZy5yZW1vdmUoKTtcbiAgICBcbiAgICAvLyBBZmZpY2hlciBsZSBtZXNzYWdlIGRlIGwndXRpbGlzYXRldXJcbiAgICBhcHBlbmRBSU1lc3NhZ2UobWVzc2FnZSwgJ3VzZXInKTtcbiAgICBcbiAgICAvLyBBZmZpY2hlciBsZSBsb2FkZXJcbiAgICBzaG93QUlMb2FkaW5nKCk7XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2l0ZVNsdWcpfS9haS9jaGF0YCwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgbWVzc2FnZSB9KVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGhpZGVBSUxvYWRpbmcoKTtcbiAgICAgIFxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBlcnJvciA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yLm1lc3NhZ2UgfHwgJ0VycmV1ciBkZSBjb21tdW5pY2F0aW9uJyk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBcbiAgICAgIGlmIChkYXRhLnJlc3BvbnNlKSB7XG4gICAgICAgIGFwcGVuZEFJTWVzc2FnZShkYXRhLnJlc3BvbnNlLCAnYXNzaXN0YW50Jyk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEdcdTAwRTlyZXIgbGVzIHByb3Bvc2l0aW9ucyBkJ1x1MDBFOWRpdGlvbiBkZSBwYWdlXG4gICAgICBpZiAoZGF0YS5lZGl0UHJvcG9zYWwpIHtcbiAgICAgICAgYXBwZW5kRWRpdFByb3Bvc2FsKGRhdGEuZWRpdFByb3Bvc2FsKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gR1x1MDBFOXJlciBsZXMgcHJvcG9zaXRpb25zIGRlIG1vZGlmaWNhdGlvbiBkdSB0aFx1MDBFOG1lXG4gICAgICBpZiAoZGF0YS50aGVtZVByb3Bvc2FsKSB7XG4gICAgICAgIGFwcGVuZFRoZW1lUHJvcG9zYWwoZGF0YS50aGVtZVByb3Bvc2FsKTtcbiAgICAgIH1cbiAgICAgIFxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgaGlkZUFJTG9hZGluZygpO1xuICAgICAgYXBwZW5kQUlNZXNzYWdlKGBcdTI3NEMgRXJyZXVyOiAke2Vyci5tZXNzYWdlfWAsICdhc3Npc3RhbnQnKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgYWlJc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgIGFpQ2hhdElucHV0LmRpc2FibGVkID0gZmFsc2U7XG4gICAgICBhaUNoYXRJbnB1dC5mb2N1cygpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBZmZpY2hlIHVuZSBwcm9wb3NpdGlvbiBkJ1x1MDBFOWRpdGlvbiBhdmVjIGJvdXRvbnMgZGUgdmFsaWRhdGlvblxuICAgKi9cbiAgZnVuY3Rpb24gYXBwZW5kRWRpdFByb3Bvc2FsKHByb3Bvc2FsKSB7XG4gICAgaWYgKCFhaUNoYXRNZXNzYWdlcyB8fCAhcHJvcG9zYWwpIHJldHVybjtcbiAgICBcbiAgICBjb25zdCBwcm9wb3NhbERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHByb3Bvc2FsRGl2LmNsYXNzTmFtZSA9ICdmbGV4IGdhcC0zIG10LTInO1xuICAgIHByb3Bvc2FsRGl2LmRhdGFzZXQucHJvcG9zYWxJZCA9IHByb3Bvc2FsLnByb3Bvc2FsSWQ7XG4gICAgXG4gICAgLy8gQ29uc3RydWlyZSBsZSByXHUwMEU5c3VtXHUwMEU5IGRlcyBjaGFuZ2VtZW50c1xuICAgIGxldCBjaGFuZ2VzSHRtbCA9ICcnO1xuICAgIGlmIChwcm9wb3NhbC5jaGFuZ2VzKSB7XG4gICAgICBpZiAocHJvcG9zYWwuY2hhbmdlcy50aXRsZSkge1xuICAgICAgICBjaGFuZ2VzSHRtbCArPSBgPGxpPlRpdHJlIFx1MjE5MiA8c3Ryb25nPiR7ZXNjYXBlSHRtbChwcm9wb3NhbC5jaGFuZ2VzLnRpdGxlKX08L3N0cm9uZz48L2xpPmA7XG4gICAgICB9XG4gICAgICBpZiAocHJvcG9zYWwuY2hhbmdlcy5kZXNjcmlwdGlvbikge1xuICAgICAgICBjaGFuZ2VzSHRtbCArPSBgPGxpPkRlc2NyaXB0aW9uIFx1MjE5MiAke2VzY2FwZUh0bWwocHJvcG9zYWwuY2hhbmdlcy5kZXNjcmlwdGlvbi5zdWJzdHJpbmcoMCwgODApKX0uLi48L2xpPmA7XG4gICAgICB9XG4gICAgICBpZiAocHJvcG9zYWwuY2hhbmdlcy5zZW8pIHtcbiAgICAgICAgaWYgKHByb3Bvc2FsLmNoYW5nZXMuc2VvLm1ldGFUaXRsZSkge1xuICAgICAgICAgIGNoYW5nZXNIdG1sICs9IGA8bGk+TWV0YSB0aXRsZSBcdTIxOTIgJHtlc2NhcGVIdG1sKHByb3Bvc2FsLmNoYW5nZXMuc2VvLm1ldGFUaXRsZSl9PC9saT5gO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9wb3NhbC5jaGFuZ2VzLnNlby5tZXRhRGVzY3JpcHRpb24pIHtcbiAgICAgICAgICBjaGFuZ2VzSHRtbCArPSBgPGxpPk1ldGEgZGVzY3JpcHRpb24gXHUyMTkyICR7ZXNjYXBlSHRtbChwcm9wb3NhbC5jaGFuZ2VzLnNlby5tZXRhRGVzY3JpcHRpb24uc3Vic3RyaW5nKDAsIDYwKSl9Li4uPC9saT5gO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAocHJvcG9zYWwuY2hhbmdlcy5ibG9ja1VwZGF0ZSkge1xuICAgICAgICBjaGFuZ2VzSHRtbCArPSBgPGxpPkJsb2MgXCIke3Byb3Bvc2FsLmNoYW5nZXMuYmxvY2tVcGRhdGUuYmxvY2tJZH1cIiBtb2RpZmlcdTAwRTk8L2xpPmA7XG4gICAgICAgIGlmIChwcm9wb3NhbC5jaGFuZ2VzLmJsb2NrVXBkYXRlLnNldHRpbmdzKSB7XG4gICAgICAgICAgY29uc3Qgc2V0dGluZ3MgPSBwcm9wb3NhbC5jaGFuZ2VzLmJsb2NrVXBkYXRlLnNldHRpbmdzO1xuICAgICAgICAgIGlmIChzZXR0aW5ncy50aXRsZSkgY2hhbmdlc0h0bWwgKz0gYDxsaSBjbGFzcz1cIm1sLTRcIj5cdTIxOTIgdGl0bGU6ICR7ZXNjYXBlSHRtbChzZXR0aW5ncy50aXRsZSl9PC9saT5gO1xuICAgICAgICAgIGlmIChzZXR0aW5ncy5jb250ZW50KSBjaGFuZ2VzSHRtbCArPSBgPGxpIGNsYXNzPVwibWwtNFwiPlx1MjE5MiBjb250ZW50IG1vZGlmaVx1MDBFOTwvbGk+YDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBwcm9wb3NhbERpdi5pbm5lckhUTUwgPSBgXG4gICAgICA8ZGl2IGNsYXNzPVwidy04IGgtOCByb3VuZGVkLWZ1bGwgYmctYW1iZXItNTAwIGZsZXgtc2hyaW5rLTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgPHN2ZyBjbGFzcz1cInctNCBoLTQgdGV4dC13aGl0ZVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgIDxwYXRoIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTExIDVINmEyIDIgMCAwMC0yIDJ2MTFhMiAyIDAgMDAyIDJoMTFhMiAyIDAgMDAyLTJ2LTVtLTEuNDE0LTkuNDE0YTIgMiAwIDExMi44MjggMi44MjhMMTEuODI4IDE1SDl2LTIuODI4bDguNTg2LTguNTg2elwiLz5cbiAgICAgICAgPC9zdmc+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJmbGV4LTEgYmctYW1iZXItNTAgYm9yZGVyIGJvcmRlci1hbWJlci0yMDAgcm91bmRlZC0yeGwgcm91bmRlZC10bC1ub25lIHAtNFwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgbWItMlwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC14cyBmb250LXNlbWlib2xkIHRleHQtYW1iZXItNzAwIGJnLWFtYmVyLTEwMCBweC0yIHB5LTAuNSByb3VuZGVkXCI+UHJvcG9zaXRpb24gZCdcdTAwRTlkaXRpb248L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8cCBjbGFzcz1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1zbGF0ZS04MDAgbWItMVwiPlBhZ2UgOiAke2VzY2FwZUh0bWwocHJvcG9zYWwucGFnZVRpdGxlIHx8IHByb3Bvc2FsLnBhZ2VJZCl9PC9wPlxuICAgICAgICAke3Byb3Bvc2FsLnJlYXNvbiA/IGA8cCBjbGFzcz1cInRleHQtc20gdGV4dC1zbGF0ZS02MDAgbWItMlwiPiR7ZXNjYXBlSHRtbChwcm9wb3NhbC5yZWFzb24pfTwvcD5gIDogJyd9XG4gICAgICAgIDx1bCBjbGFzcz1cInRleHQteHMgdGV4dC1zbGF0ZS02MDAgc3BhY2UteS0xIG1iLTMgbGlzdC1kaXNjIG1sLTRcIj5cbiAgICAgICAgICAke2NoYW5nZXNIdG1sIHx8ICc8bGk+TW9kaWZpY2F0aW9ucyBwcm9wb3NcdTAwRTllczwvbGk+J31cbiAgICAgICAgPC91bD5cbiAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggZ2FwLTJcIj5cbiAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgY2xhc3M9XCJhaS1hcHBseS1lZGl0IHB4LTMgcHktMS41IHRleHQteHMgZm9udC1tZWRpdW0gdGV4dC13aGl0ZSBiZy1lbWVyYWxkLTYwMCBob3ZlcjpiZy1lbWVyYWxkLTcwMCByb3VuZGVkLWxnIHRyYW5zaXRpb24tY29sb3JzIGZsZXggaXRlbXMtY2VudGVyIGdhcC0xXCJcbiAgICAgICAgICAgIGRhdGEtcHJvcG9zYWwtaWQ9XCIke3Byb3Bvc2FsLnByb3Bvc2FsSWR9XCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8c3ZnIGNsYXNzPVwidy0zLjUgaC0zLjVcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNSAxM2w0IDRMMTkgN1wiLz5cbiAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgQXBwbGlxdWVyXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgIGNsYXNzPVwiYWktcmVqZWN0LWVkaXQgcHgtMyBweS0xLjUgdGV4dC14cyBmb250LW1lZGl1bSB0ZXh0LXNsYXRlLTYwMCBiZy1zbGF0ZS0xMDAgaG92ZXI6Ymctc2xhdGUtMjAwIHJvdW5kZWQtbGcgdHJhbnNpdGlvbi1jb2xvcnMgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTFcIlxuICAgICAgICAgICAgZGF0YS1wcm9wb3NhbC1pZD1cIiR7cHJvcG9zYWwucHJvcG9zYWxJZH1cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJ3LTMuNSBoLTMuNVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgICA8cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk02IDE4TDE4IDZNNiA2bDEyIDEyXCIvPlxuICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICBSZWpldGVyXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgYDtcbiAgICBcbiAgICBhaUNoYXRNZXNzYWdlcy5hcHBlbmRDaGlsZChwcm9wb3NhbERpdik7XG4gICAgYWlDaGF0TWVzc2FnZXMuc2Nyb2xsVG9wID0gYWlDaGF0TWVzc2FnZXMuc2Nyb2xsSGVpZ2h0O1xuICAgIFxuICAgIC8vIEF0dGFjaGVyIGxlcyBcdTAwRTl2XHUwMEU5bmVtZW50cyBhdXggYm91dG9uc1xuICAgIHByb3Bvc2FsRGl2LnF1ZXJ5U2VsZWN0b3IoJy5haS1hcHBseS1lZGl0Jyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlQXBwbHlFZGl0KTtcbiAgICBwcm9wb3NhbERpdi5xdWVyeVNlbGVjdG9yKCcuYWktcmVqZWN0LWVkaXQnKT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVSZWplY3RFZGl0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZmZpY2hlIHVuZSBwcm9wb3NpdGlvbiBkZSBtb2RpZmljYXRpb24gZHUgdGhcdTAwRThtZSBhdmVjIGJvdXRvbnMgZGUgdmFsaWRhdGlvblxuICAgKi9cbiAgZnVuY3Rpb24gYXBwZW5kVGhlbWVQcm9wb3NhbChwcm9wb3NhbCkge1xuICAgIGlmICghYWlDaGF0TWVzc2FnZXMgfHwgIXByb3Bvc2FsKSByZXR1cm47XG4gICAgXG4gICAgY29uc3QgcHJvcG9zYWxEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBwcm9wb3NhbERpdi5jbGFzc05hbWUgPSAnZmxleCBnYXAtMyBtdC0yJztcbiAgICBwcm9wb3NhbERpdi5kYXRhc2V0LnByb3Bvc2FsSWQgPSBwcm9wb3NhbC5wcm9wb3NhbElkO1xuICAgIFxuICAgIC8vIENvbnN0cnVpcmUgbGUgclx1MDBFOXN1bVx1MDBFOSBkZXMgY2hhbmdlbWVudHMgZGUgY291bGV1cnNcbiAgICBsZXQgY29sb3JzSHRtbCA9ICcnO1xuICAgIGlmIChwcm9wb3NhbC5jaGFuZ2VzPy5jb2xvcnMpIHtcbiAgICAgIGNvbnN0IGNvbG9ycyA9IHByb3Bvc2FsLmNoYW5nZXMuY29sb3JzO1xuICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoY29sb3JzKSkge1xuICAgICAgICBjb2xvcnNIdG1sICs9IGA8bGkgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwidy00IGgtNCByb3VuZGVkIGJvcmRlciBib3JkZXItc2xhdGUtMzAwXCIgc3R5bGU9XCJiYWNrZ3JvdW5kOiAke2dldFRhaWx3aW5kQ29sb3JDc3ModmFsdWUpfVwiPjwvc3Bhbj5cbiAgICAgICAgICA8c3Bhbj4ke2tleX06IDxzdHJvbmc+JHtlc2NhcGVIdG1sKHZhbHVlKX08L3N0cm9uZz48L3NwYW4+XG4gICAgICAgIDwvbGk+YDtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gVHlwb2dyYXBoaWVzXG4gICAgbGV0IHR5cG9IdG1sID0gJyc7XG4gICAgaWYgKHByb3Bvc2FsLmNoYW5nZXM/LnR5cG9ncmFwaHkpIHtcbiAgICAgIGNvbnN0IHR5cG8gPSBwcm9wb3NhbC5jaGFuZ2VzLnR5cG9ncmFwaHk7XG4gICAgICBpZiAodHlwby5oZWFkaW5ncykgdHlwb0h0bWwgKz0gYDxsaT5UaXRyZXMgXHUyMTkyIDxzdHJvbmc+JHtlc2NhcGVIdG1sKHR5cG8uaGVhZGluZ3MpfTwvc3Ryb25nPjwvbGk+YDtcbiAgICAgIGlmICh0eXBvLmJvZHkpIHR5cG9IdG1sICs9IGA8bGk+VGV4dGVzIFx1MjE5MiA8c3Ryb25nPiR7ZXNjYXBlSHRtbCh0eXBvLmJvZHkpfTwvc3Ryb25nPjwvbGk+YDtcbiAgICB9XG4gICAgXG4gICAgcHJvcG9zYWxEaXYuaW5uZXJIVE1MID0gYFxuICAgICAgPGRpdiBjbGFzcz1cInctOCBoLTggcm91bmRlZC1mdWxsIGJnLXB1cnBsZS01MDAgZmxleC1zaHJpbmstMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICA8c3ZnIGNsYXNzPVwidy00IGgtNCB0ZXh0LXdoaXRlXCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgPHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNyAyMWE0IDQgMCAwMS00LTRWNWEyIDIgMCAwMTItMmg0YTIgMiAwIDAxMiAydjEyYTQgNCAwIDAxLTQgNHptMCAwaDEyYTIgMiAwIDAwMi0ydi00YTIgMiAwIDAwLTItMmgtMi4zNDNNMTEgNy4zNDNsMS42NTctMS42NTdhMiAyIDAgMDEyLjgyOCAwbDIuODI5IDIuODI5YTIgMiAwIDAxMCAyLjgyOGwtOC40ODYgOC40ODVNNyAxN2guMDFcIi8+XG4gICAgICAgIDwvc3ZnPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwiZmxleC0xIGJnLXB1cnBsZS01MCBib3JkZXIgYm9yZGVyLXB1cnBsZS0yMDAgcm91bmRlZC0yeGwgcm91bmRlZC10bC1ub25lIHAtNFwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgbWItMlwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC14cyBmb250LXNlbWlib2xkIHRleHQtcHVycGxlLTcwMCBiZy1wdXJwbGUtMTAwIHB4LTIgcHktMC41IHJvdW5kZWRcIj5Nb2RpZmljYXRpb24gZHUgdGhcdTAwRThtZTwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgICR7cHJvcG9zYWwucmVhc29uID8gYDxwIGNsYXNzPVwidGV4dC1zbSB0ZXh0LXNsYXRlLTYwMCBtYi0zXCI+JHtlc2NhcGVIdG1sKHByb3Bvc2FsLnJlYXNvbil9PC9wPmAgOiAnJ31cbiAgICAgICAgJHtjb2xvcnNIdG1sID8gYFxuICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC14cyBmb250LW1lZGl1bSB0ZXh0LXNsYXRlLTcwMCBtYi0xXCI+Q291bGV1cnMgOjwvcD5cbiAgICAgICAgICA8dWwgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNjAwIHNwYWNlLXktMSBtYi0zXCI+JHtjb2xvcnNIdG1sfTwvdWw+XG4gICAgICAgIGAgOiAnJ31cbiAgICAgICAgJHt0eXBvSHRtbCA/IGBcbiAgICAgICAgICA8cCBjbGFzcz1cInRleHQteHMgZm9udC1tZWRpdW0gdGV4dC1zbGF0ZS03MDAgbWItMVwiPlR5cG9ncmFwaGllcyA6PC9wPlxuICAgICAgICAgIDx1bCBjbGFzcz1cInRleHQteHMgdGV4dC1zbGF0ZS02MDAgc3BhY2UteS0xIG1iLTMgbGlzdC1kaXNjIG1sLTRcIj4ke3R5cG9IdG1sfTwvdWw+XG4gICAgICAgIGAgOiAnJ31cbiAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggZ2FwLTJcIj5cbiAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgY2xhc3M9XCJhaS1hcHBseS10aGVtZSBweC0zIHB5LTEuNSB0ZXh0LXhzIGZvbnQtbWVkaXVtIHRleHQtd2hpdGUgYmctcHVycGxlLTYwMCBob3ZlcjpiZy1wdXJwbGUtNzAwIHJvdW5kZWQtbGcgdHJhbnNpdGlvbi1jb2xvcnMgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTFcIlxuICAgICAgICAgICAgZGF0YS1wcm9wb3NhbC1pZD1cIiR7cHJvcG9zYWwucHJvcG9zYWxJZH1cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJ3LTMuNSBoLTMuNVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgICA8cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk01IDEzbDQgNEwxOSA3XCIvPlxuICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICBBcHBsaXF1ZXJcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgY2xhc3M9XCJhaS1yZWplY3QtdGhlbWUgcHgtMyBweS0xLjUgdGV4dC14cyBmb250LW1lZGl1bSB0ZXh0LXNsYXRlLTYwMCBiZy1zbGF0ZS0xMDAgaG92ZXI6Ymctc2xhdGUtMjAwIHJvdW5kZWQtbGcgdHJhbnNpdGlvbi1jb2xvcnMgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTFcIlxuICAgICAgICAgICAgZGF0YS1wcm9wb3NhbC1pZD1cIiR7cHJvcG9zYWwucHJvcG9zYWxJZH1cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJ3LTMuNSBoLTMuNVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgICA8cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk02IDE4TDE4IDZNNiA2bDEyIDEyXCIvPlxuICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICBSZWpldGVyXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgYDtcbiAgICBcbiAgICBhaUNoYXRNZXNzYWdlcy5hcHBlbmRDaGlsZChwcm9wb3NhbERpdik7XG4gICAgYWlDaGF0TWVzc2FnZXMuc2Nyb2xsVG9wID0gYWlDaGF0TWVzc2FnZXMuc2Nyb2xsSGVpZ2h0O1xuICAgIFxuICAgIC8vIEF0dGFjaGVyIGxlcyBcdTAwRTl2XHUwMEU5bmVtZW50cyBhdXggYm91dG9uc1xuICAgIHByb3Bvc2FsRGl2LnF1ZXJ5U2VsZWN0b3IoJy5haS1hcHBseS10aGVtZScpPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZUFwcGx5VGhlbWUpO1xuICAgIHByb3Bvc2FsRGl2LnF1ZXJ5U2VsZWN0b3IoJy5haS1yZWplY3QtdGhlbWUnKT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVSZWplY3RFZGl0KTsgLy8gUlx1MDBFOXV0aWxpc2UgbGEgbVx1MDBFQW1lIGxvZ2lxdWUgZGUgcmVqZXRcbiAgfVxuICBcbiAgLyoqXG4gICAqIENvbnZlcnRpdCB1bmUgY291bGV1ciBUYWlsd2luZCBlbiBDU1MgYXBwcm94aW1hdGlmIHBvdXIgcHJldmlld1xuICAgKi9cbiAgZnVuY3Rpb24gZ2V0VGFpbHdpbmRDb2xvckNzcyhjb2xvck5hbWUpIHtcbiAgICBjb25zdCBjb2xvcnMgPSB7XG4gICAgICAnd2hpdGUnOiAnI2ZmZmZmZicsICdibGFjayc6ICcjMDAwMDAwJywgJ3RyYW5zcGFyZW50JzogJ3RyYW5zcGFyZW50JyxcbiAgICAgICdzbGF0ZS01MCc6ICcjZjhmYWZjJywgJ3NsYXRlLTEwMCc6ICcjZjFmNWY5JywgJ3NsYXRlLTIwMCc6ICcjZTJlOGYwJywgJ3NsYXRlLTMwMCc6ICcjY2JkNWUxJywgJ3NsYXRlLTQwMCc6ICcjOTRhM2I4JywgJ3NsYXRlLTUwMCc6ICcjNjQ3NDhiJywgJ3NsYXRlLTYwMCc6ICcjNDc1NTY5JywgJ3NsYXRlLTcwMCc6ICcjMzM0MTU1JywgJ3NsYXRlLTgwMCc6ICcjMWUyOTNiJywgJ3NsYXRlLTkwMCc6ICcjMGYxNzJhJyxcbiAgICAgICdncmF5LTUwJzogJyNmOWZhZmInLCAnZ3JheS0xMDAnOiAnI2YzZjRmNicsICdncmF5LTIwMCc6ICcjZTVlN2ViJywgJ2dyYXktMzAwJzogJyNkMWQ1ZGInLCAnZ3JheS00MDAnOiAnIzljYTNhZicsICdncmF5LTUwMCc6ICcjNmI3MjgwJywgJ2dyYXktNjAwJzogJyM0YjU1NjMnLCAnZ3JheS03MDAnOiAnIzM3NDE1MScsICdncmF5LTgwMCc6ICcjMWYyOTM3JywgJ2dyYXktOTAwJzogJyMxMTE4MjcnLFxuICAgICAgJ3Zpb2xldC01MCc6ICcjZjVmM2ZmJywgJ3Zpb2xldC0xMDAnOiAnI2VkZTlmZScsICd2aW9sZXQtMjAwJzogJyNkZGQ2ZmUnLCAndmlvbGV0LTMwMCc6ICcjYzRiNWZkJywgJ3Zpb2xldC00MDAnOiAnI2E3OGJmYScsICd2aW9sZXQtNTAwJzogJyM4YjVjZjYnLCAndmlvbGV0LTYwMCc6ICcjN2MzYWVkJywgJ3Zpb2xldC03MDAnOiAnIzZkMjhkOScsICd2aW9sZXQtODAwJzogJyM1YjIxYjYnLCAndmlvbGV0LTkwMCc6ICcjNGMxZDk1JyxcbiAgICAgICdwdXJwbGUtNTAnOiAnI2ZhZjVmZicsICdwdXJwbGUtMTAwJzogJyNmM2U4ZmYnLCAncHVycGxlLTIwMCc6ICcjZTlkNWZmJywgJ3B1cnBsZS0zMDAnOiAnI2Q4YjRmZScsICdwdXJwbGUtNDAwJzogJyNjMDg0ZmMnLCAncHVycGxlLTUwMCc6ICcjYTg1NWY3JywgJ3B1cnBsZS02MDAnOiAnIzkzMzNlYScsICdwdXJwbGUtNzAwJzogJyM3ZTIyY2UnLCAncHVycGxlLTgwMCc6ICcjNmIyMWE4JywgJ3B1cnBsZS05MDAnOiAnIzU4MWM4NycsXG4gICAgICAnYmx1ZS01MCc6ICcjZWZmNmZmJywgJ2JsdWUtMTAwJzogJyNkYmVhZmUnLCAnYmx1ZS0yMDAnOiAnI2JmZGJmZScsICdibHVlLTMwMCc6ICcjOTNjNWZkJywgJ2JsdWUtNDAwJzogJyM2MGE1ZmEnLCAnYmx1ZS01MDAnOiAnIzNiODJmNicsICdibHVlLTYwMCc6ICcjMjU2M2ViJywgJ2JsdWUtNzAwJzogJyMxZDRlZDgnLCAnYmx1ZS04MDAnOiAnIzFlNDBhZicsICdibHVlLTkwMCc6ICcjMWUzYThhJyxcbiAgICAgICdlbWVyYWxkLTUwJzogJyNlY2ZkZjUnLCAnZW1lcmFsZC0xMDAnOiAnI2QxZmFlNScsICdlbWVyYWxkLTIwMCc6ICcjYTdmM2QwJywgJ2VtZXJhbGQtMzAwJzogJyM2ZWU3YjcnLCAnZW1lcmFsZC00MDAnOiAnIzM0ZDM5OScsICdlbWVyYWxkLTUwMCc6ICcjMTBiOTgxJywgJ2VtZXJhbGQtNjAwJzogJyMwNTk2NjknLCAnZW1lcmFsZC03MDAnOiAnIzA0Nzg1NycsICdlbWVyYWxkLTgwMCc6ICcjMDY1ZjQ2JywgJ2VtZXJhbGQtOTAwJzogJyMwNjRlM2InLFxuICAgICAgJ3RlYWwtNTAnOiAnI2YwZmRmYScsICd0ZWFsLTEwMCc6ICcjY2NmYmYxJywgJ3RlYWwtMjAwJzogJyM5OWY2ZTQnLCAndGVhbC0zMDAnOiAnIzVlZWFkNCcsICd0ZWFsLTQwMCc6ICcjMmRkNGJmJywgJ3RlYWwtNTAwJzogJyMxNGI4YTYnLCAndGVhbC02MDAnOiAnIzBkOTQ4OCcsICd0ZWFsLTcwMCc6ICcjMGY3NjZlJywgJ3RlYWwtODAwJzogJyMxMTVlNTknLCAndGVhbC05MDAnOiAnIzEzNGU0YScsXG4gICAgICAnYW1iZXItNTAnOiAnI2ZmZmJlYicsICdhbWJlci0xMDAnOiAnI2ZlZjNjNycsICdhbWJlci0yMDAnOiAnI2ZkZTY4YScsICdhbWJlci0zMDAnOiAnI2ZjZDM0ZCcsICdhbWJlci00MDAnOiAnI2ZiYmYyNCcsICdhbWJlci01MDAnOiAnI2Y1OWUwYicsICdhbWJlci02MDAnOiAnI2Q5NzcwNicsICdhbWJlci03MDAnOiAnI2I0NTMwOScsICdhbWJlci04MDAnOiAnIzkyNDAwZScsICdhbWJlci05MDAnOiAnIzc4MzUwZicsXG4gICAgICAncmVkLTUwJzogJyNmZWYyZjInLCAncmVkLTEwMCc6ICcjZmVlMmUyJywgJ3JlZC0yMDAnOiAnI2ZlY2FjYScsICdyZWQtMzAwJzogJyNmY2E1YTUnLCAncmVkLTQwMCc6ICcjZjg3MTcxJywgJ3JlZC01MDAnOiAnI2VmNDQ0NCcsICdyZWQtNjAwJzogJyNkYzI2MjYnLCAncmVkLTcwMCc6ICcjYjkxYzFjJywgJ3JlZC04MDAnOiAnIzk5MWIxYicsICdyZWQtOTAwJzogJyM3ZjFkMWQnXG4gICAgfTtcbiAgICByZXR1cm4gY29sb3JzW2NvbG9yTmFtZV0gfHwgJyM5QzZCRkYnO1xuICB9XG5cbiAgLyoqXG4gICAqIEFwcGxpcXVlIHVuZSBwcm9wb3NpdGlvbiBkZSBtb2RpZmljYXRpb24gZHUgdGhcdTAwRThtZVxuICAgKi9cbiAgYXN5bmMgZnVuY3Rpb24gaGFuZGxlQXBwbHlUaGVtZShlKSB7XG4gICAgY29uc3QgcHJvcG9zYWxJZCA9IGUudGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLXByb3Bvc2FsLWlkXScpPy5kYXRhc2V0LnByb3Bvc2FsSWQ7XG4gICAgY29uc3Qgc2l0ZVNsdWcgPSBzdHJpcExlYWRpbmdTbGFzaChzdG9yZWRTaXRlLnNsdWcgfHwgJycpO1xuICAgIGlmICghcHJvcG9zYWxJZCB8fCAhc2l0ZVNsdWcpIHJldHVybjtcbiAgICBcbiAgICBjb25zdCBidG4gPSBlLnRhcmdldC5jbG9zZXN0KCdidXR0b24nKTtcbiAgICBidG4uZGlzYWJsZWQgPSB0cnVlO1xuICAgIGJ0bi5pbm5lckhUTUwgPSAnPHNwYW4gY2xhc3M9XCJhbmltYXRlLXNwaW5cIj5cdTIzRjM8L3NwYW4+IEFwcGxpY2F0aW9uLi4uJztcbiAgICBcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzaXRlU2x1Zyl9L2FpL2FwcGx5LXRoZW1lYCwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgcHJvcG9zYWxJZCB9KVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBcbiAgICAgIGlmIChyZXNwb25zZS5vayAmJiBkYXRhLnN1Y2Nlc3MpIHtcbiAgICAgICAgLy8gUmVtcGxhY2VyIGxhIGNhcmQgcGFyIHVuIG1lc3NhZ2UgZGUgc3VjY1x1MDBFOHNcbiAgICAgICAgY29uc3QgcHJvcG9zYWxDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtcHJvcG9zYWwtaWQ9XCIke3Byb3Bvc2FsSWR9XCJdYCk7XG4gICAgICAgIGlmIChwcm9wb3NhbENhcmQpIHtcbiAgICAgICAgICBwcm9wb3NhbENhcmQuaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInctOCBoLTggcm91bmRlZC1mdWxsIGJnLXB1cnBsZS01MDAgZmxleC1zaHJpbmstMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICA8c3ZnIGNsYXNzPVwidy00IGgtNCB0ZXh0LXdoaXRlXCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNSAxM2w0IDRMMTkgN1wiLz5cbiAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4LTEgYmctcHVycGxlLTUwIGJvcmRlciBib3JkZXItcHVycGxlLTIwMCByb3VuZGVkLTJ4bCByb3VuZGVkLXRsLW5vbmUgcC0zXCI+XG4gICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1zbSB0ZXh0LXB1cnBsZS03MDBcIj5cdTI3MDUgVGhcdTAwRThtZSBtaXMgXHUwMEUwIGpvdXIgYXZlYyBzdWNjXHUwMEU4cyAhPC9wPlxuICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQteHMgdGV4dC1wdXJwbGUtNjAwIG10LTFcIj5SZWNoYXJnZXogbGEgcHJldmlldyBwb3VyIHZvaXIgbGVzIGNoYW5nZW1lbnRzLjwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIGA7XG4gICAgICAgIH1cbiAgICAgICAgc2hvd1RvYXN0KCdUaFx1MDBFOG1lIG1pcyBcdTAwRTAgam91ciAhJyk7XG4gICAgICAgIFxuICAgICAgICAvLyBEXHUwMEU5Y2xlbmNoZXIgdW4gXHUwMEU5dlx1MDBFOW5lbWVudCBwZXJzb25uYWxpc1x1MDBFOSBwb3VyIHJhZnJhXHUwMEVFY2hpclxuICAgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnYWktdGhlbWUtdXBkYXRlZCcsIHtcbiAgICAgICAgICBkZXRhaWw6IHsgdXBkYXRlZFRoZW1lOiBkYXRhLnVwZGF0ZWRUaGVtZSB9XG4gICAgICAgIH0pKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihkYXRhLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGRlIGxcXCdhcHBsaWNhdGlvbicpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgYnRuLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICBidG4uaW5uZXJIVE1MID0gYDxzdmcgY2xhc3M9XCJ3LTMuNSBoLTMuNVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTUgMTNsNCA0TDE5IDdcIi8+PC9zdmc+IFJcdTAwRTllc3NheWVyYDtcbiAgICAgIHNob3dUb2FzdChgRXJyZXVyOiAke2Vyci5tZXNzYWdlfWApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBsaXF1ZSB1bmUgcHJvcG9zaXRpb24gZCdcdTAwRTlkaXRpb24gdmFsaWRcdTAwRTllXG4gICAqL1xuICBhc3luYyBmdW5jdGlvbiBoYW5kbGVBcHBseUVkaXQoZSkge1xuICAgIGNvbnN0IHByb3Bvc2FsSWQgPSBlLnRhcmdldC5jbG9zZXN0KCdbZGF0YS1wcm9wb3NhbC1pZF0nKT8uZGF0YXNldC5wcm9wb3NhbElkO1xuICAgIGNvbnN0IHNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goc3RvcmVkU2l0ZS5zbHVnIHx8ICcnKTtcbiAgICBpZiAoIXByb3Bvc2FsSWQgfHwgIXNpdGVTbHVnKSByZXR1cm47XG4gICAgXG4gICAgY29uc3QgYnRuID0gZS50YXJnZXQuY2xvc2VzdCgnYnV0dG9uJyk7XG4gICAgYnRuLmRpc2FibGVkID0gdHJ1ZTtcbiAgICBidG4uaW5uZXJIVE1MID0gJzxzcGFuIGNsYXNzPVwiYW5pbWF0ZS1zcGluXCI+XHUyM0YzPC9zcGFuPiBBcHBsaWNhdGlvbi4uLic7XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2l0ZVNsdWcpfS9haS9hcHBseS1lZGl0YCwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgcHJvcG9zYWxJZCB9KVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBcbiAgICAgIGlmIChyZXNwb25zZS5vayAmJiBkYXRhLnN1Y2Nlc3MpIHtcbiAgICAgICAgLy8gUmVtcGxhY2VyIGxhIGNhcmQgcGFyIHVuIG1lc3NhZ2UgZGUgc3VjY1x1MDBFOHNcbiAgICAgICAgY29uc3QgcHJvcG9zYWxDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtcHJvcG9zYWwtaWQ9XCIke3Byb3Bvc2FsSWR9XCJdYCk7XG4gICAgICAgIGlmIChwcm9wb3NhbENhcmQpIHtcbiAgICAgICAgICBwcm9wb3NhbENhcmQuaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInctOCBoLTggcm91bmRlZC1mdWxsIGJnLWVtZXJhbGQtNTAwIGZsZXgtc2hyaW5rLTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgPHN2ZyBjbGFzcz1cInctNCBoLTQgdGV4dC13aGl0ZVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgICAgIDxwYXRoIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTUgMTNsNCA0TDE5IDdcIi8+XG4gICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleC0xIGJnLWVtZXJhbGQtNTAgYm9yZGVyIGJvcmRlci1lbWVyYWxkLTIwMCByb3VuZGVkLTJ4bCByb3VuZGVkLXRsLW5vbmUgcC0zXCI+XG4gICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1zbSB0ZXh0LWVtZXJhbGQtNzAwXCI+XHUyNzA1IE1vZGlmaWNhdGlvbnMgYXBwbGlxdVx1MDBFOWVzIGF2ZWMgc3VjY1x1MDBFOHMgITwvcD5cbiAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtZW1lcmFsZC02MDAgbXQtMVwiPkxhIHByZXZpZXcgc2UgbWV0IFx1MDBFMCBqb3VyIGF1dG9tYXRpcXVlbWVudC48L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICBgO1xuICAgICAgICB9XG4gICAgICAgIHNob3dUb2FzdCgnTW9kaWZpY2F0aW9ucyBhcHBsaXF1XHUwMEU5ZXMgIScpO1xuICAgICAgICBcbiAgICAgICAgLy8gRFx1MDBFOWNsZW5jaGVyIHVuIFx1MDBFOXZcdTAwRTluZW1lbnQgcGVyc29ubmFsaXNcdTAwRTkgcG91ciByYWZyYVx1MDBFRWNoaXIgbGEgcHJldmlld1xuICAgICAgICBjb25zdCBwYWdlSWQgPSBkYXRhLnVwZGF0ZWRQYWdlPy5pZCB8fCBudWxsO1xuICAgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnYWktcGFnZS11cGRhdGVkJywge1xuICAgICAgICAgIGRldGFpbDogeyBwYWdlSWQsIHVwZGF0ZWRQYWdlOiBkYXRhLnVwZGF0ZWRQYWdlIH1cbiAgICAgICAgfSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGRhdGEubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZGUgbFxcJ2FwcGxpY2F0aW9uJyk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBidG4uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgIGJ0bi5pbm5lckhUTUwgPSBgPHN2ZyBjbGFzcz1cInctMy41IGgtMy41XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNSAxM2w0IDRMMTkgN1wiLz48L3N2Zz4gUlx1MDBFOWVzc2F5ZXJgO1xuICAgICAgc2hvd1RvYXN0KGBFcnJldXI6ICR7ZXJyLm1lc3NhZ2V9YCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlamV0dGUgdW5lIHByb3Bvc2l0aW9uIGQnXHUwMEU5ZGl0aW9uXG4gICAqL1xuICBhc3luYyBmdW5jdGlvbiBoYW5kbGVSZWplY3RFZGl0KGUpIHtcbiAgICBjb25zdCBwcm9wb3NhbElkID0gZS50YXJnZXQuY2xvc2VzdCgnW2RhdGEtcHJvcG9zYWwtaWRdJyk/LmRhdGFzZXQucHJvcG9zYWxJZDtcbiAgICBjb25zdCBzaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyk7XG4gICAgaWYgKCFwcm9wb3NhbElkIHx8ICFzaXRlU2x1ZykgcmV0dXJuO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICBhd2FpdCBmZXRjaChgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzaXRlU2x1Zyl9L2FpL3Byb3Bvc2FsLyR7cHJvcG9zYWxJZH1gLCB7XG4gICAgICAgIG1ldGhvZDogJ0RFTEVURSdcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBSZW1wbGFjZXIgbGEgY2FyZCBwYXIgdW4gbWVzc2FnZSBkZSByZWpldFxuICAgICAgY29uc3QgcHJvcG9zYWxDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtcHJvcG9zYWwtaWQ9XCIke3Byb3Bvc2FsSWR9XCJdYCk7XG4gICAgICBpZiAocHJvcG9zYWxDYXJkKSB7XG4gICAgICAgIHByb3Bvc2FsQ2FyZC5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInctOCBoLTggcm91bmRlZC1mdWxsIGJnLXNsYXRlLTQwMCBmbGV4LXNocmluay0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICA8c3ZnIGNsYXNzPVwidy00IGgtNCB0ZXh0LXdoaXRlXCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICAgIDxwYXRoIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTYgMThMMTggNk02IDZsMTIgMTJcIi8+XG4gICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleC0xIGJnLXNsYXRlLTEwMCByb3VuZGVkLTJ4bCByb3VuZGVkLXRsLW5vbmUgcC0zXCI+XG4gICAgICAgICAgICA8cCBjbGFzcz1cInRleHQtc20gdGV4dC1zbGF0ZS01MDBcIj5Qcm9wb3NpdGlvbiByZWpldFx1MDBFOWUuPC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICBgO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignW0FJXSBSZWplY3QgZWRpdCBlcnJvcjonLCBlcnIpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBFZmZhY2UgbCdoaXN0b3JpcXVlIGR1IGNoYXRcbiAgICovXG4gIGFzeW5jIGZ1bmN0aW9uIGNsZWFyQUlIaXN0b3J5KCkge1xuICAgIGNvbnN0IHNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goc3RvcmVkU2l0ZS5zbHVnIHx8ICcnKTtcbiAgICBpZiAoIXNpdGVTbHVnIHx8ICFhaUNoYXRNZXNzYWdlcykgcmV0dXJuO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICBhd2FpdCBmZXRjaChgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzaXRlU2x1Zyl9L2FpL2hpc3RvcnlgLCB7IG1ldGhvZDogJ0RFTEVURScgfSk7XG4gICAgICBcbiAgICAgIC8vIFZpZGVyIGxlcyBtZXNzYWdlc1xuICAgICAgYWlDaGF0TWVzc2FnZXMuaW5uZXJIVE1MID0gJyc7XG4gICAgICBcbiAgICAgIC8vIFJcdTAwRTlhZmZpY2hlciBsZSBtZXNzYWdlIGRlIGJpZW52ZW51ZVxuICAgICAgYWlDaGF0TWVzc2FnZXMuaW5uZXJIVE1MID0gYFxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBnYXAtM1wiIGRhdGEtYWktd2VsY29tZT5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwidy04IGgtOCByb3VuZGVkLWZ1bGwgYmctZ3JhZGllbnQtdG8tYnIgZnJvbS12aW9sZXQtNTAwIHRvLWluZGlnby02MDAgZmxleC1zaHJpbmstMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgPHN2ZyBjbGFzcz1cInctNCBoLTQgdGV4dC13aGl0ZVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgICA8cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk05LjY2MyAxN2g0LjY3M00xMiAzdjFtNi4zNjQgMS42MzZsLS43MDcuNzA3TTIxIDEyaC0xTTQgMTJIM20zLjM0My01LjY1N2wtLjcwNy0uNzA3bTIuODI4IDkuOWE1IDUgMCAxMTcuMDcyIDBsLS41NDguNTQ3QTMuMzc0IDMuMzc0IDAgMDAxNCAxOC40NjlWMTlhMiAyIDAgMTEtNCAwdi0uNTMxYzAtLjg5NS0uMzU2LTEuNzU0LS45ODgtMi4zODZsLS41NDgtLjU0N3pcIi8+XG4gICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleC0xIGJnLXNsYXRlLTUwIHJvdW5kZWQtMnhsIHJvdW5kZWQtdGwtbm9uZSBwLTNcIj5cbiAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1zbSB0ZXh0LXNsYXRlLTcwMFwiPlxuICAgICAgICAgICAgICBTYWx1dCAhIFx1RDgzRFx1REM0QiBKZSBzdWlzIHRvbiBhc3Npc3RhbnQgSUEgcG91ciBjZSBzaXRlLiBKZSBwZXV4IHQnYWlkZXIgXHUwMEUwIDpcbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDx1bCBjbGFzcz1cIm10LTIgdGV4dC1zbSB0ZXh0LXNsYXRlLTYwMCBzcGFjZS15LTFcIj5cbiAgICAgICAgICAgICAgPGxpPlx1RDgzQ1x1REZBOCBTdWdnXHUwMEU5cmVyIGRlcyBwYWxldHRlcyBkZSBjb3VsZXVyczwvbGk+XG4gICAgICAgICAgICAgIDxsaT5cdTI3MERcdUZFMEYgR1x1MDBFOW5cdTAwRTlyZXIgZHUgY29udGVudSBwb3VyIHRlcyBibG9jczwvbGk+XG4gICAgICAgICAgICAgIDxsaT5cdUQ4M0RcdURDQzQgQ3JcdTAwRTllciBkZXMgc3RydWN0dXJlcyBkZSBwYWdlczwvbGk+XG4gICAgICAgICAgICAgIDxsaT5cdUQ4M0RcdUREMEQgQW1cdTAwRTlsaW9yZXIgdG9uIFNFTzwvbGk+XG4gICAgICAgICAgICAgIDxsaT5cdTI3MEZcdUZFMEYgPHN0cm9uZz5BbmFseXNlciBldCBtb2RpZmllciB0ZXMgcGFnZXM8L3N0cm9uZz4gKGF2ZWMgdmFsaWRhdGlvbik8L2xpPlxuICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICBgO1xuICAgICAgXG4gICAgICBzaG93VG9hc3QoJ0hpc3RvcmlxdWUgZWZmYWNcdTAwRTknKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tBSV0gQ2xlYXIgaGlzdG9yeSBmYWlsZWQ6JywgZXJyKTtcbiAgICAgIHNob3dUb2FzdCgnRXJyZXVyIGxvcnMgZGUgbFxcJ2VmZmFjZW1lbnQnKTtcbiAgICB9XG4gIH1cblxuICAvLyBQcm9tcHRzIHJhcGlkZXNcbiAgY29uc3QgcXVpY2tQcm9tcHRzID0ge1xuICAgIGNvbG9yczogJ1N1Z2dcdTAwRThyZS1tb2kgMyBwYWxldHRlcyBkZSBjb3VsZXVycyBoYXJtb25pZXVzZXMgcG91ciBtb24gc2l0ZS4gUG91ciBjaGFxdWUgcGFsZXR0ZSwgZG9ubmUgbGVzIGNvdWxldXJzIFRhaWx3aW5kOiBwcmltYXJ5LCBzZWNvbmRhcnksIGFjY2VudCwgZXQgYmFja2dyb3VuZC4nLFxuICAgIGhlcm86ICdHXHUwMEU5blx1MDBFOHJlIHVuIGJsb2MgSGVybyBlbiBKU09OIGF2ZWMgdW4gdGl0cmUgYWNjcm9jaGV1ciwgdW4gc291cy10aXRyZSBlbmdhZ2VhbnQgZXQgdW4gQ1RBLicsXG4gICAgc2VvOiAnQW5hbHlzZSBtb24gc2l0ZSBldCBzdWdnXHUwMEU4cmUgZGVzIGFtXHUwMEU5bGlvcmF0aW9ucyBTRU8gcG91ciBsZSBtZXRhIHRpdGxlIGV0IGxhIG1ldGEgZGVzY3JpcHRpb24gZGUgbWEgcGFnZSBkXFwnYWNjdWVpbC4nLFxuICAgIGxhbmRpbmc6ICdHXHUwMEU5blx1MDBFOHJlIGxhIHN0cnVjdHVyZSBKU09OIGRcXCd1bmUgbGFuZGluZyBwYWdlIGNvbXBsXHUwMEU4dGUgYXZlYzogSGVybywgMyBzZWN0aW9ucyBkZSBjb250ZW51LCBldCB1biBDVEEgZmluYWwuJyxcbiAgICBhbmFseXplOiAnQW5hbHlzZSBsZSBjb250ZW51IGRlIHRvdXRlcyBtZXMgcGFnZXMgZXQgcHJvcG9zZSBkZXMgYW1cdTAwRTlsaW9yYXRpb25zIGNvbmNyXHUwMEU4dGVzLiBQb3VyIGNoYXF1ZSBzdWdnZXN0aW9uIGRcXCdhbVx1MDBFOWxpb3JhdGlvbiBkZSB0ZXh0ZSBvdSBkZSBzdHJ1Y3R1cmUsIHV0aWxpc2UgbGUgZm9ybWF0IHByb3Bvc2UtZWRpdCBwb3VyIHF1ZSBqZSBwdWlzc2UgdmFsaWRlci4nLFxuICAgIGltcHJvdmVIb21lOiAnQW5hbHlzZSBtYSBwYWdlIGRcXCdhY2N1ZWlsIGV0IHByb3Bvc2UgdW5lIGFtXHUwMEU5bGlvcmF0aW9uIGR1IHRpdHJlIG91IGR1IEhlcm8gcG91ciBsZSByZW5kcmUgcGx1cyBpbXBhY3RhbnQuIFV0aWxpc2UgbGUgZm9ybWF0IHByb3Bvc2UtZWRpdC4nXG4gIH07XG5cbiAgLy8gRXZlbnQgbGlzdGVuZXJzXG4gIGFpQ2hhdFRvZ2dsZT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgaWYgKGFpQ2hhdE9wZW4pIHtcbiAgICAgIGNsb3NlQUlDaGF0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9wZW5BSUNoYXQoKTtcbiAgICB9XG4gIH0pO1xuXG4gIGFpQ2hhdENsb3NlPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlQUlDaGF0KTtcbiAgYWlDaGF0T3ZlcmxheT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZUFJQ2hhdCk7XG5cbiAgYWlDaGF0Q2xlYXI/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGlmIChjb25maXJtKCdFZmZhY2VyIHRvdXQgbFxcJ2hpc3RvcmlxdWUgZGUgY29udmVyc2F0aW9uID8nKSkge1xuICAgICAgY2xlYXJBSUhpc3RvcnkoKTtcbiAgICB9XG4gIH0pO1xuXG4gIGFpQ2hhdEZvcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBhaUNoYXRJbnB1dD8udmFsdWU/LnRyaW0oKTtcbiAgICBpZiAobWVzc2FnZSkge1xuICAgICAgYWlDaGF0SW5wdXQudmFsdWUgPSAnJztcbiAgICAgIHNlbmRBSU1lc3NhZ2UobWVzc2FnZSk7XG4gICAgfVxuICB9KTtcblxuICBhaVF1aWNrQnV0dG9ucy5mb3JFYWNoKGJ0biA9PiB7XG4gICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgYWN0aW9uID0gYnRuLmRhdGFzZXQuYWlRdWljaztcbiAgICAgIGNvbnN0IHByb21wdCA9IHF1aWNrUHJvbXB0c1thY3Rpb25dO1xuICAgICAgaWYgKHByb21wdCkge1xuICAgICAgICBzZW5kQUlNZXNzYWdlKHByb21wdCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8vIEZlcm1lciBhdmVjIEVzY2FwZVxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGUpID0+IHtcbiAgICBpZiAoZS5rZXkgPT09ICdFc2NhcGUnICYmIGFpQ2hhdE9wZW4pIHtcbiAgICAgIGNsb3NlQUlDaGF0KCk7XG4gICAgfVxuICB9KTtcbn0pO1xuIl0sCiAgIm1hcHBpbmdzIjogIk1BQUEsU0FBUyxpQkFBaUIsbUJBQW9CLElBQU0sQ0FDbEQsUUFBUSxJQUFJLDJCQUF3QixFQUNwQyxJQUFNQSxHQUFlLFNBQVMsY0FBYyxlQUFlLEVBQ3ZEQSxJQUNGQSxHQUFhLGlCQUFpQixRQUFTLFNBQVksQ0FDakRBLEdBQWEsU0FBVyxHQUN4QixHQUFJLENBQ0YsTUFBTSxNQUFNLGNBQWUsQ0FDekIsT0FB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InNpZGViYXIiLCAic2lkZWJhck92ZXJsYXkiLCAic2lkZWJhclRvZ2dsZXMiLCAic2lkZWJhckNsb3NlQnV0dG9ucyIsICJib2R5IiwgInNpZGViYXJPcGVuIiwgImFwcGx5U2lkZWJhclN0YXRlIiwgIm9wZW5TaWRlYmFyIiwgImNsb3NlU2lkZWJhciIsICJidXR0b24iLCAiZXZlbnQiLCAiQUNUSVZFX1NJVEVfS0VZIiwgIkFDVElWRV9TSVRFX05BTUVfS0VZIiwgInN0b3JlZFNpdGUiLCAic2l0ZUNhcmRzIiwgInNpdGVTZWxlY3RCdXR0b25zIiwgInNpdGVOYW1lTGFiZWwiLCAid29ya3NwYWNlU2l0ZUxhYmVsIiwgIndvcmtzcGFjZUJhY2tOYW1lIiwgIndvcmtzcGFjZUJhY2tNb2RhbCIsICJ3b3Jrc3BhY2VCYWNrQnV0dG9ucyIsICJ3b3Jrc3BhY2VCYWNrQ2FuY2VsIiwgIndvcmtzcGFjZUJhY2tDb25maXJtIiwgIndvcmtzcGFjZU5hdkxpbmtzIiwgInNpdGVUb2FzdCIsICJzaXRlVG9hc3RNZXNzYWdlIiwgInNpdGVDcmVhdGVCdXR0b25zIiwgInNpdGVNb2RhbCIsICJzaXRlRm9ybSIsICJzaXRlTmFtZUlucHV0IiwgInNpdGVTbHVnSW5wdXQiLCAic2l0ZVNsdWdFcnJvciIsICJzaXRlTW9kYWxFcnJvciIsICJzaXRlTW9kYWxDYW5jZWxCdXR0b25zIiwgInNpdGVNb2RhbFN1Ym1pdEJ1dHRvbiIsICJ3b3Jrc3BhY2VDb250ZXh0IiwgImdldFdvcmtzcGFjZUNvbnRleHQiLCAic2x1Z01hbnVhbGx5RWRpdGVkIiwgInRvYXN0VGltZW91dElkIiwgImZvY3VzYWJsZVNlbGVjdG9yIiwgIm1vZGFsU3RhY2siLCAiZ2V0Rm9jdXNhYmxlRWxlbWVudHMiLCAibW9kYWwiLCAiZWwiLCAiaGFuZGxlTW9kYWxLZXlkb3duIiwgImN1cnJlbnRFbnRyeSIsICJvbkNsb3NlIiwgImZvY3VzYWJsZUVsZW1lbnRzIiwgImZpcnN0IiwgImxhc3QiLCAiYWN0aXZhdGVNb2RhbCIsICJmb2N1c2FibGUiLCAiX2EiLCAiX2IiLCAiZGVhY3RpdmF0ZU1vZGFsIiwgImluZGV4IiwgImVudHJ5IiwgIm1vYmlsZVBhbmVsT3ZlcmxheSIsICJtb2JpbGVQYW5lbExheWVyIiwgIm1vYmlsZVBhbmVscyIsICJtb2JpbGVQYW5lbExheWVyUGxhY2Vob2xkZXIiLCAibW9iaWxlUGFuZWxUb2dnbGVzIiwgIm1vYmlsZVBhbmVsQ2xvc2VCdXR0b25zIiwgIm1vYmlsZVBhbmVsVHJpZ2dlcnMiLCAiYWN0aXZlTW9iaWxlUGFuZWwiLCAiaXNEZXNrdG9wVmlld3BvcnQiLCAiZW5zdXJlTW9iaWxlUGFuZWxMYXllclBsYWNlbWVudCIsICJ0YXJnZXRQYXJlbnQiLCAiYXBwbHlQYW5lbENsYXNzZXMiLCAicGFuZWwiLCAiY2xhc3NlcyIsICJtZXRob2QiLCAiY2xzIiwgInNldFBhbmVsSGlkZGVuU3RhdGUiLCAiaGlkZGVuIiwgImhpZGRlbkNsYXNzZXMiLCAidmlzaWJsZUNsYXNzZXMiLCAiY2xvc2VNb2JpbGVQYW5lbCIsICJzaWRlIiwgInRyaWdnZXIiLCAib3Blbk1vYmlsZVBhbmVsIiwgImZvY3VzVGFyZ2V0IiwgInN5bmNNb2JpbGVQYW5lbHNXaXRoVmlld3BvcnQiLCAic2hvd1RvYXN0IiwgIm1lc3NhZ2UiLCAiZW5zdXJlTGVhZGluZ1NsYXNoIiwgInNsdWciLCAic3RyaXBMZWFkaW5nU2xhc2giLCAicGVyc2lzdFNpdGVTdGF0ZSIsICJuYW1lIiwgIm5vcm1hbGl6ZWRTbHVnIiwgInVwZGF0ZVNpdGVMYWJlbHMiLCAidXBkYXRlV29ya3NwYWNlTmF2TGlua3MiLCAibGluayIsICJ0YWIiLCAic2x1Z1BhdGgiLCAiYXBwbHlBY3RpdmVTaXRlIiwgIm9wdGlvbnMiLCAiYWN0aXZlU2l0ZU5hbWUiLCAiY2FyZCIsICJpc0FjdGl2ZSIsICJiYWRnZSIsICJmaW5hbE5hbWUiLCAic2VsZWN0U2l0ZSIsICJyZXNwb25zZSIsICJwYXlsb2FkIiwgImZpbmFsU2x1ZyIsICJzeW5jQWN0aXZlU2l0ZUZyb21TZXJ2ZXIiLCAic2l0ZSIsICJkZWZhdWx0Q2FyZCIsICJ3b3Jrc3BhY2VTbHVnaWZ5IiwgInZhbHVlIiwgIm5vcm1hbGl6ZVNsdWdWYWx1ZSIsICJiYXNlIiwgIm9wZW5TaXRlTW9kYWwiLCAiY2xvc2VTaXRlTW9kYWwiLCAic2x1Z1ZhbCIsICJuYW1lVmFsIiwgImdldFNsdWdTZXQiLCAibmFtZVZhbHVlIiwgInNsdWdWYWx1ZSIsICJjcmVhdGVkU2l0ZSIsICJjbG9zZVdvcmtzcGFjZUJhY2tNb2RhbCIsICJtYXRjaCIsICJkZXRlY3RXb3Jrc3BhY2VTZWN0aW9uIiwgIm9wZW5Xb3Jrc3BhY2VCYWNrTW9kYWwiLCAiYWN0aXZlU2VjdGlvbiIsICJpbml0RGVzaWduV29ya3NwYWNlIiwgImluaXRDb250ZW50V29ya3NwYWNlIiwgImluaXRNZWRpYVdvcmtzcGFjZSIsICJpbml0RGVwbG95V29ya3NwYWNlIiwgImluaXRTZXR0aW5nc1dvcmtzcGFjZSIsICJwYWdlTGlzdHMiLCAiYWN0aXZlVGl0bGUiLCAiYWN0aXZlU2x1ZyIsICJwcmV2aWV3VGFncyIsICJwcmV2aWV3RnJhbWUiLCAicHJldmlld09wZW5CdXR0b24iLCAicHJldmlld1N0YXR1cyIsICJwcmV2aWV3SGlnaGxpZ2h0T3ZlcmxheSIsICJzZW9Ub2dnbGVCdXR0b24iLCAic2VvUGFuZWwiLCAic2VvQ2xvc2VCdXR0b24iLCAic2VvRm9ybSIsICJzZW9UaXRsZUlucHV0IiwgInNlb0Rlc2NyaXB0aW9uSW5wdXQiLCAic2VvSW5kZXhlZENoZWNrYm94IiwgInNlb0ZlZWRiYWNrIiwgInNlb1NhdmVCdXR0b24iLCAicGFnZUFjY2Vzc2liaWxpdHlUb2dnbGVCdXR0b24iLCAicGFnZUFjY2Vzc2liaWxpdHlQYW5lbCIsICJwYWdlQWNjZXNzaWJpbGl0eUNsb3NlQnV0dG9uIiwgInBhZ2VBY2Nlc3NpYmlsaXR5Rm9ybSIsICJwYWdlQWNjZXNzaWJpbGl0eU5hdkNoZWNrYm94IiwgInBhZ2VBY2Nlc3NpYmlsaXR5TWFpbklucHV0IiwgInBhZ2VBY2Nlc3NpYmlsaXR5RmVlZGJhY2siLCAicGFnZUFjY2Vzc2liaWxpdHlTYXZlQnV0dG9uIiwgInBhZ2VQcm9wc1RvZ2dsZUJ1dHRvbiIsICJwYWdlUHJvcHNQYW5lbCIsICJwYWdlUHJvcHNDbG9zZUJ1dHRvbiIsICJwYWdlUHJvcHNGb3JtIiwgInBhZ2VOYW1lSW5wdXQiLCAicGFnZVRpdGxlSW5wdXQiLCAicGFnZVNsdWdJbnB1dCIsICJwYWdlRGVzY3JpcHRpb25JbnB1dCIsICJwYWdlUHJvcHNGZWVkYmFjayIsICJwYWdlUHJvcHNTYXZlQnV0dG9uIiwgImJsb2NrTGlzdCIsICJibG9ja0xpc3RFbXB0eSIsICJibG9ja0NvdW50QmFkZ2UiLCAiYmxvY2tMaWJyYXJ5VG9nZ2xlIiwgImJsb2NrTGlicmFyeSIsICJibG9ja0FkZEJ1dHRvbnMiLCAiYmxvY2tEZWxldGVNb2RhbCIsICJibG9ja0RlbGV0ZUNvbmZpcm0iLCAiYmxvY2tEZWxldGVDYW5jZWwiLCAiYmxvY2tEZXRhaWxFbXB0eSIsICJibG9ja0RldGFpbFN0YXR1cyIsICJibG9ja0VkaXRvciIsICJibG9ja0VkaXRvclRpdGxlIiwgImJsb2NrRWRpdG9yVHlwZSIsICJibG9ja0VkaXRvclVuc3VwcG9ydGVkIiwgImJsb2NrRm9ybSIsICJibG9ja0Zvcm1TZWN0aW9ucyIsICJibG9ja1RhYnMiLCAiYWN0aXZlQmxvY2tUYWIiLCAibGVmdFBhbmVsVGFicyIsICJsZWZ0UGFuZWxCbG9ja3MiLCAibGVmdFBhbmVsUGFnZXMiLCAiYWN0aXZlTGVmdFRhYiIsICJzd2l0Y2hMZWZ0VGFiIiwgInRhYk5hbWUiLCAiYmxvY2tGb3JtQWN0aW9ucyIsICJibG9ja0Zvcm1BdXRvc2F2ZSIsICJzd2l0Y2hCbG9ja1RhYiIsICJjb2xsZWN0aW9uU2VsZWN0IiwgImNvbGxlY3Rpb25TZWxlY3Rpb25JbmZvIiwgImJsb2NrRm9ybUNhbmNlbCIsICJncm91cFByZXZpZXdNb2JpbGUiLCAiZ3JvdXBQcmV2aWV3RGVza3RvcCIsICJjb2xsZWN0aW9uUHJldmlld01vYmlsZSIsICJjb2xsZWN0aW9uUHJldmlld0Rlc2t0b3AiLCAiYmxvY2tUeXBlRm9ybXMiLCAiYmxvY2tUeXBlQWxpYXNlcyIsICJhbmltYXRpb25GaWVsZE1hcCIsICJjb25maWciLCAidXBkYXRlR3JvdXBNaW5pUHJldmlldyIsICJtb2JpbGVWYWx1ZSIsICJkZXNrdG9wVmFsdWUiLCAicmVuZGVyQm94ZXMiLCAiY291bnQiLCAidXBkYXRlQ29sbGVjdGlvbk1pbmlQcmV2aWV3IiwgImZldGNoUGFnZXNGcm9tU2VydmVyIiwgInBhZ2VzQXBpQmFzZSIsICJjcmVhdGVQYWdlT25TZXJ2ZXIiLCAidGl0bGUiLCAic2F2ZVBhZ2VUb1NlcnZlciIsICJwYWdlIiwgInNhdmVkIiwgIm5vcm1hbGl6ZWQiLCAibm9ybWFsaXplUGFnZURhdGEiLCAicGFnZXMiLCAiY3VycmVudFBhZ2UiLCAibG9hZFBhZ2VzRnJvbVNlcnZlciIsICJhY3RpdmVQYWdlSWQiLCAicmVuZGVyUGFnZUxpc3RzIiwgInJlbmRlckJsb2NrTGlzdCIsICJsb2FkZWRQYWdlcyIsICJnZXRMb2FkaW5nUHJldmlld0h0bWwiLCAiZ2V0U3RvcmVkQWN0aXZlUGFnZSIsICJzZXRBY3RpdmVQYWdlIiwgIm5vcm1hbGl6ZVR5cGUiLCAiZ2V0QmxvY2tGb3JtQ29uZmlnIiwgImJsb2NrIiwgInR5cGVLZXkiLCAiYWxpYXMiLCAicG9wdWxhdGVCbG9ja0Zvcm0iLCAiX2MiLCAiX2QiLCAiX2UiLCAic2VjdGlvbiIsICJkZXNpcmVkVmFsdWUiLCAidXBkYXRlQ29sbGVjdGlvblNlbGVjdE9wdGlvbnMiLCAic2V0dGluZ0tleSIsICJmaWVsZE5hbWUiLCAiaW5wdXQiLCAiZmFsbGJhY2siLCAic2VsZWN0IiwgInNlbGVjdGVkT3B0aW9uIiwgImNvbG9yIiwgImNvbG9yUHJldmlldyIsICJjb2xsZWN0Rm9ybVZhbHVlcyIsICJ2YWx1ZXMiLCAicGFyc2VkIiwgInVwZGF0ZVByZXZpZXdTdGF0dXMiLCAidGV4dCIsICJzZXJpYWxpemVQYWdlRm9yUHJldmlldyIsICJzZXJpYWxpemVCbG9jayIsICJkZWJvdW5jZSIsICJmbiIsICJkZWxheSIsICJ0aW1lb3V0SWQiLCAiYXJncyIsICJhdXRvU2F2ZUFwcGVhcmFuY2UiLCAiYWN0aXZlQmxvY2tJZCIsICJnZXRBY3RpdmVCbG9jayIsICJ1cGRhdGVkQmxvY2tzIiwgInVwZGF0ZWRTZXR0aW5ncyIsICJuZXh0UGFnZSIsICJwIiwgInVwZGF0ZVByZXZpZXdCbG9ja0xpdmUiLCAiYmxvY2tJZCIsICJzZXR0aW5ncyIsICJkZWJvdW5jZWRSZWZyZXNoUHJldmlldyIsICJyZWZyZXNoUHJldmlldyIsICJoYW5kbGVBcHBlYXJhbmNlQ2hhbmdlIiwgInByZXZpZXdTaXRlU2x1ZyIsICJzZXJpYWxpemVkUGFnZXMiLCAicHJldmlld1JlYWR5IiwgInByZXZpZXdSZXF1ZXN0Q29udHJvbGxlciIsICJjb250cm9sbGVyIiwgImRhdGEiLCAibGF0ZXN0UHJldmlld0h0bWwiLCAiZXJyb3IiLCAiaGFuZGxlQmxvY2tGb3JtU3VibWl0IiwgImFsdFZhbHVlIiwgInVwZGF0ZWRCbG9jayIsICJ1cGRhdGVDdXJyZW50UGFnZUJsb2NrcyIsICJkcmF3ZXIiLCAiZHJhd2VyQmFja2Ryb3AiLCAiZHJhd2VyT3BlbkJ1dHRvbnMiLCAiZHJhd2VyQ2xvc2VCdXR0b25zIiwgImFkZFBhZ2VUb2dnbGUiLCAiYWRkUGFnZUZvcm0iLCAiYWRkUGFnZU5hbWUiLCAiYWRkUGFnZVRpdGxlIiwgImFkZFBhZ2VTbHVnIiwgImFkZFBhZ2VDYW5jZWwiLCAiYWRkUGFnZUVycm9yIiwgImFkZFBhZ2VTdWJtaXRCdXR0b24iLCAiaW1wb3J0VG9nZ2xlIiwgImltcG9ydE1vZGFsIiwgImltcG9ydENsb3NlQnV0dG9ucyIsICJpbXBvcnREcm9wem9uZSIsICJpbXBvcnRGaWxlSW5wdXQiLCAiaW1wb3J0RmlsZUxpc3QiLCAiaW1wb3J0RmlsZU5hbWVzIiwgImltcG9ydFJlc3VsdHMiLCAiaW1wb3J0UmVzdWx0c0NvbnRlbnQiLCAiaW1wb3J0U3VibWl0IiwgImltcG9ydFRhYnMiLCAiaW1wb3J0UGFuZWxzIiwgImNvcHlUZW1wbGF0ZUJ0biIsICJ0ZW1wbGF0ZUpzb24iLCAiaW1wb3J0UGFzdGVJbnB1dCIsICJwYXN0ZUZvcm1hdEJ0biIsICJwYXN0ZUVycm9yIiwgImltcG9ydFNlbGVjdGVkRmlsZXMiLCAiYWN0aXZlSW1wb3J0VGFiIiwgImRlbGV0ZVBhZ2VNb2RhbCIsICJkZWxldGVQYWdlTmFtZSIsICJkZWxldGVQYWdlQ2FuY2VsIiwgImRlbGV0ZVBhZ2VDb25maXJtIiwgInBhZ2VUb0RlbGV0ZSIsICJzaXRlS2V5IiwgInNpdGVTbHVnVmFsdWUiLCAic2FmZVNpdGVTbHVnIiwgImNvbGxlY3Rpb25zQXBpQmFzZSIsICJzdG9yYWdlS2V5cyIsICJjcmVhdGVCbG9jayIsICJpZCIsICJsYWJlbCIsICJ0eXBlIiwgInN0YXR1cyIsICJkZXNjcmlwdGlvbiIsICJwcm9wcyIsICJibG9ja0xpYnJhcnlEZWZpbml0aW9ucyIsICJwZXJzaXN0QWN0aXZlUGFnZSIsICJwYWdlSWQiLCAic3RvcmVkIiwgImZvcm1hdEJsb2NrQ291bnQiLCAibm9ybWFsaXplUGFnZVNsdWciLCAiZ2VuZXJhdGVCbG9ja0lkIiwgImtleSIsICJjcmVhdGVJbml0aWFsQmxvY2tzIiwgInNldEFjdGl2ZUxhYmVscyIsICJyZW5kZXJQcmV2aWV3TWV0YSIsICJ0YWciLCAiZ2V0U3RhdHVzQmFkZ2VDbGFzc2VzIiwgInJlbmRlckJsb2NrRGV0YWlscyIsICJhcHBseVByZXZpZXdIaWdobGlnaHQiLCAiZG9jIiwgIm5vZGUiLCAiY3JlYXRlQmxvY2tJdGVtRWxlbWVudCIsICJpc05lc3RlZCIsICJwYXJlbnRJZCIsICJibG9ja1R5cGUiLCAiaXNHcm91cCIsICJpdGVtIiwgImFjY2VudCIsICJjb250ZW50IiwgImhhbmRsZSIsICJ0ZXh0V3JhcHBlciIsICJtZXRhIiwgInR5cGVCYWRnZSIsICJzdGF0dXNCYWRnZSIsICJjaGlsZENvdW50IiwgImNoaWxkQmFkZ2UiLCAiZGlzcGxheUxhYmVsIiwgImNvbGxlY3Rpb25OYW1lIiwgImRlc2lnbkNvbGxlY3Rpb25zIiwgImluZm8iLCAiYWN0aW9ucyIsICJtb3ZlQnV0dG9ucyIsICJtb3ZlVXAiLCAibW92ZUNoaWxkQmxvY2tCeU9mZnNldCIsICJtb3ZlQmxvY2tCeU9mZnNldCIsICJtb3ZlRG93biIsICJkZWxldGVCdXR0b24iLCAicmVtb3ZlQ2hpbGRGcm9tR3JvdXAiLCAib3BlbkJsb2NrRGVsZXRlTW9kYWwiLCAic2V0QWN0aXZlQmxvY2siLCAiY3JlYXRlR3JvdXBEcm9wWm9uZSIsICJwYXJlbnRCbG9jayIsICJkcm9wWm9uZSIsICJlIiwgIm1vdmVCbG9ja1RvR3JvdXAiLCAib3BlbkFkZEJsb2NrVG9Hcm91cE1vZGFsIiwgImJsb2NrcyIsICJjaGlsZCIsICJjaGlsZEl0ZW0iLCAiZ3JvdXBJZCIsICJibG9ja0luZGV4IiwgImIiLCAiZ3JvdXBCbG9jayIsICJtb3ZlZEJsb2NrIiwgImNoaWxkSWQiLCAiY2hpbGRJbmRleCIsICJjIiwgImdyb3VwSW5kZXgiLCAib2Zmc2V0IiwgImN1cnJlbnRJbmRleCIsICJuZXdJbmRleCIsICJwZW5kaW5nR3JvdXBJZEZvck5ld0Jsb2NrIiwgIm9wZW5EZWxldGVQYWdlTW9kYWwiLCAiY2xvc2VEZWxldGVQYWdlTW9kYWwiLCAiZXhlY3V0ZURlbGV0ZVBhZ2UiLCAicGFnZVRpdGxlIiwgInJlc3VsdCIsICJhY3RpdmVJZCIsICJsaXN0IiwgImRpc3BsYXlOYW1lIiwgIm5hdkJhZGdlIiwgImlzRGVza3RvcERyYXdlciIsICJjbG9zZURyYXdlciIsICJkZWxldGVCdG4iLCAiYWN0aXZlQmxvY2tQYXJlbnRJZCIsICJ0YXJnZXRCbG9jayIsICJmb3VuZCIsICJuZXdCbG9ja3MiLCAidXBkYXRlQ3VycmVudFBhZ2VTdGF0ZSIsICJpc0Rlc2t0b3BSZW9yZGVyIiwgIm1vdmVkIiwgInJlb3JkZXJCbG9ja3MiLCAic291cmNlSWQiLCAidGFyZ2V0SWQiLCAiZnJvbUluZGV4IiwgInRvSW5kZXgiLCAicmVvcmRlckJsb2Nrc1dpdGhQb3NpdGlvbiIsICJwb3NpdGlvbiIsICJpbnNlcnRJbmRleCIsICJ1cGRhdGVEcmFnZ2FibGVTdGF0ZSIsICJkcmFnZ2FibGUiLCAiY2xvc2VCbG9ja0xpYnJhcnkiLCAiYmxvY2tMaWJyYXJ5T3BlbiIsICJvcGVuQmxvY2tMaWJyYXJ5IiwgInRvZ2dsZUJsb2NrTGlicmFyeSIsICJhZGRCbG9ja0Zyb21MaWJyYXJ5IiwgImRlZmluaXRpb24iLCAibmV3QmxvY2siLCAiZmlyc3RDb2xsZWN0aW9uSWQiLCAibmV4dEJsb2NrcyIsICJkZWxldGVCbG9ja0J5SWQiLCAibmV4dEFjdGl2ZSIsICJjbG9zZUJsb2NrRGVsZXRlTW9kYWwiLCAicGVuZGluZ0RlbGV0ZUJsb2NrSWQiLCAidGFyZ2V0IiwgInN5bmNQYWdlQWNjZXNzaWJpbGl0eUZpZWxkcyIsICJzeW5jRHJhd2VyU3RhdGUiLCAib3BlbkRyYXdlciIsICJvcGVuQWRkUGFnZUZvcm0iLCAicGFnZVNsdWdNYW51YWxseUVkaXRlZCIsICJjbG9zZUFkZFBhZ2VGb3JtIiwgInN5bmNTbHVnRnJvbU5hbWUiLCAibm9ybWFsaXplQmxvY2tEYXRhIiwgImxvYWREZXNpZ25Db2xsZWN0aW9ucyIsICJjdXJyZW50VmFsdWUiLCAic3luY0NvbGxlY3Rpb25TZWxlY3Rpb25JbmZvIiwgImNvbGxlY3Rpb25JZCIsICJjb2xsZWN0aW9uIiwgImRldGFpbHMiLCAic2VsZWN0ZWRWYWx1ZSIsICJvcHRpb24iLCAiZmFsbGJhY2tPcHRpb24iLCAiY3JlYXRlZFBhZ2UiLCAicmVzZXRQYXN0ZVN0YXRlIiwgInZhbGlkYXRlUGFzdGVKc29uIiwgImZvcm1hdFBhc3RlSnNvbiIsICJ1cGRhdGVJbXBvcnRTdWJtaXRTdGF0ZSIsICJvcGVuSW1wb3J0TW9kYWwiLCAidXBkYXRlSW1wb3J0RmlsZUxpc3QiLCAidCIsICJjbG9zZUltcG9ydE1vZGFsIiwgImYiLCAiaGFuZGxlSW1wb3J0RmlsZXMiLCAiZmlsZXMiLCAianNvbkZpbGVzIiwgImV4ZWN1dGVJbXBvcnQiLCAiX2YiLCAiX2ciLCAiX2giLCAiX2kiLCAiX2oiLCAiX2siLCAicGFnZXNEYXRhIiwgInBhcnNlRXJyIiwgImVycm9yTGluZSIsICJlcnJvckRldGFpbCIsICJwb3MiLCAibGluZXMiLCAibGluZU51bSIsICJjb2xOdW0iLCAiZmlsZUVycm9ycyIsICJmaWxlIiwgImh0bWwiLCAiaGFzRGF0YSIsICJoYXNTdWNjZXNzIiwgImhhc0Vycm9ycyIsICJjb2xsZWN0aW9uc01zZyIsICJidG4iLCAidGFyZ2V0UGFuZWwiLCAicHJldmlld1dpbmRvdyIsICJ0b2dnbGVTZW9QYW5lbCIsICJzaG93IiwgInNldFNlb0ZlZWRiYWNrIiwgInRvbmUiLCAiaXNWaXNpYmxlIiwgInNlb0RhdGEiLCAidXBkYXRlZFBhZ2UiLCAidG9nZ2xlUGFnZUFjY2Vzc2liaWxpdHlQYW5lbCIsICJzZXRQYWdlQWNjZXNzaWJpbGl0eUZlZWRiYWNrIiwgImFjY2Vzc2liaWxpdHlEYXRhIiwgInRvZ2dsZVBhZ2VQcm9wc1BhbmVsIiwgInNldFBhZ2VQcm9wc0ZlZWRiYWNrIiwgIm5ld05hbWUiLCAibmV3VGl0bGUiLCAibmV3U2x1ZyIsICJuZXdEZXNjcmlwdGlvbiIsICJoYW5kbGVCbG9ja0RyYWdTdGFydCIsICJkcmFnU291cmNlSWQiLCAiY2xlYXJEcmFnSW5kaWNhdG9ycyIsICJoYW5kbGVCbG9ja0RyYWdFbmQiLCAiaGFuZGxlQmxvY2tEcmFnT3ZlciIsICJyZWN0IiwgIm1pZFkiLCAiaXNBYm92ZSIsICJoYW5kbGVCbG9ja0RyYWdMZWF2ZSIsICJyZWxhdGVkVGFyZ2V0IiwgImhhbmRsZUJsb2NrRHJvcCIsICJzb3VyY2UiLCAiZHJvcFBvc2l0aW9uIiwgImFjdGl2ZVBhZ2UiLCAiY29sbGVjdGlvbkxpc3QiLCAiY29udGVudFZpZXdzIiwgImNvbnRlbnRTZWN0aW9uQnV0dG9ucyIsICJjb250ZW50U2VjdGlvblRyaWdnZXJzIiwgImNvbnRlbnREcmF3ZXIiLCAiY29udGVudERyYXdlckJhY2tkcm9wIiwgImNvbnRlbnREcmF3ZXJPcGVuQnV0dG9ucyIsICJjb250ZW50RHJhd2VyQ2xvc2VCdXR0b25zIiwgImhlYWRlclN0YXR1c0luZGljYXRvciIsICJmb290ZXJTdGF0dXNJbmRpY2F0b3IiLCAiY29sbGVjdGlvbkNvdW50RWwiLCAiaGVhZGVyRmllbGRzIiwgImhlYWRlck5hdkxpc3QiLCAiaGVhZGVyTmF2QWRkQnRuIiwgImhlYWRlclNhdmVCdG4iLCAiaGVhZGVyTmF2SXRlbVRlbXBsYXRlIiwgImhlYWRlclBhZ2VzTGlzdCIsICJzaXRlUGFnZXMiLCAic2VsZWN0ZWROYXZQYWdlcyIsICJmb290ZXJGaWVsZHMiLCAiZm9vdGVyQ29sdW1uc0xpc3QiLCAiZm9vdGVyQ29sdW1uQWRkQnRuIiwgImZvb3RlclNhdmVCdG4iLCAiZm9vdGVyQ29sdW1uVGVtcGxhdGUiLCAiZm9vdGVyTGlua1RlbXBsYXRlIiwgImFjdGl2ZUNvbnRlbnRTZWN0aW9uIiwgImhlYWRlckRhdGEiLCAiZm9vdGVyRGF0YSIsICJzYWZlU2l0ZVNsdWdGb3JMYXlvdXQiLCAibGF5b3V0QXBpQmFzZSIsICJzaG93Q29udGVudFZpZXciLCAidmlld05hbWUiLCAib3BlbkNvbnRlbnREcmF3ZXIiLCAiY2xvc2VDb250ZW50RHJhd2VyIiwgImxvYWRTaXRlUGFnZXNGb3JIZWFkZXIiLCAicmVuZGVyUGFnZUNoZWNrYm94ZXMiLCAibm9ybWFsaXplTmF2UGFnZVVybCIsICJyYXciLCAibG93ZXIiLCAid2l0aG91dFNsYXNoZXMiLCAiY2xlYW5lZEludGVybmFsIiwgImNsZWFuZWQiLCAibm9ybWFsaXplT3B0aW9uYWxOYXZVcmwiLCAiZGVmYXVsdFZhbHVlIiwgInRyaW1tZWQiLCAicGFnZVNsdWciLCAicGFnZURpc3BsYXlOYW1lIiwgInBhZ2VVcmwiLCAiaXNTZWxlY3RlZCIsICJuYXYiLCAiY2hlY2tib3giLCAiY29sbGVjdEhlYWRlckRhdGEiLCAidXJsIiwgInBvcHVsYXRlSGVhZGVyRm9ybSIsICJhZGRGb290ZXJMaW5rIiwgImNvbnRhaW5lciIsICJjbG9uZSIsICJsYWJlbElucHV0IiwgInVybElucHV0IiwgInJlbW92ZUJ0biIsICJhZGRGb290ZXJDb2x1bW4iLCAibGlua3MiLCAiY29sdW1uIiwgInRpdGxlSW5wdXQiLCAibGlua3NDb250YWluZXIiLCAiYWRkTGlua0J0biIsICJjb2xsZWN0Rm9vdGVyRGF0YSIsICJfbCIsICJfbSIsICJfbiIsICJfbyIsICJfcCIsICJfcSIsICJfciIsICJfcyIsICJfdCIsICJjb2x1bW5zIiwgImNvbCIsICJsaW5rRWwiLCAicG9wdWxhdGVGb290ZXJGb3JtIiwgInYiLCAiY29sbGVjdGlvbkVtcHR5U3RhdGUiLCAiY29sbGVjdGlvbkl0ZW1zRW1wdHkiLCAiaXRlbVRhYmxlV3JhcHBlciIsICJpdGVtVGFibGVCb2R5IiwgImNvbGxlY3Rpb25UaXRsZSIsICJjb2xsZWN0aW9uRGVzY3JpcHRpb24iLCAiaXRlbUFkZEJ1dHRvbiIsICJpdGVtRGV0YWlsRW1wdHkiLCAiaXRlbUZvcm0iLCAiaXRlbUZvcm1GaWVsZHMiLCAiaXRlbVN0YXR1c0JhZGdlIiwgIml0ZW1EZWxldGVCdXR0b24iLCAiaXRlbURlbGV0ZU1vZGFsIiwgIml0ZW1EZWxldGVDYW5jZWwiLCAiaXRlbURlbGV0ZUNvbmZpcm0iLCAiaXRlbUZvcm1DYW5jZWwiLCAiaXRlbUZvcm1TYXZlIiwgInN0YXR1c0JhZGdlQmFzZUNsYXNzIiwgInNhZmVTaXRlU2x1Z1ZhbHVlIiwgImNvbGxlY3Rpb25zIiwgImNvbGxlY3Rpb25JdGVtcyIsICJhY3RpdmVDb2xsZWN0aW9uSWQiLCAiYWN0aXZlSXRlbUlkIiwgImlzQ3JlYXRpbmdJdGVtIiwgIml0ZW1TbHVnTWFudWFsbHlFZGl0ZWQiLCAicGVuZGluZ0RlbGV0ZUl0ZW1JZCIsICJub3JtYWxpemVJdGVtU2x1Z0lucHV0IiwgImNsZWFuZWRTZWdtZW50cyIsICJzZWdtZW50IiwgImZvcm1hdEl0ZW1EYXRlIiwgImRhdGUiLCAidXBkYXRlQ29sbGVjdGlvbkhlYWRlciIsICJ1cGRhdGVJdGVtc0VtcHR5TWVzc2FnZSIsICJoaWRlSXRlbUZvcm0iLCAic2hvd0l0ZW1Gb3JtIiwgInN5bmNBZGRCdXR0b25TdGF0ZSIsICJzeW5jSXRlbVN0YXR1c0JhZGdlIiwgImNvbG9yQ2xhc3MiLCAicmVuZGVyQ29sbGVjdGlvbkxpc3QiLCAic2V0QWN0aXZlQ29sbGVjdGlvbiIsICJyZW5kZXJJdGVtVGFibGUiLCAicm93IiwgInN0YXR1c0NsYXNzZXMiLCAiaGFuZGxlU2VsZWN0IiwgInNlbGVjdEl0ZW0iLCAiaXRlbUlkIiwgInBvcHVsYXRlSXRlbUZvcm0iLCAicHJlcGFyZU5ld0l0ZW1Gb3JtIiwgImNvbGxlY3RJdGVtRm9ybVZhbHVlcyIsICJzbHVnSW5wdXQiLCAic3VtbWFyeSIsICJpbWFnZSIsICJjdGFUZXh0IiwgImN0YVVybCIsICJjdGEiLCAic2V0Rm9ybVNhdmluZ1N0YXRlIiwgImlzU2F2aW5nIiwgImZldGNoQ29sbGVjdGlvbkl0ZW1zIiwgImNyZWF0ZUNvbGxlY3Rpb25JdGVtIiwgInVwZGF0ZUNvbGxlY3Rpb25JdGVtIiwgImRlbGV0ZUNvbGxlY3Rpb25JdGVtIiwgImxvYWRDb2xsZWN0aW9ucyIsICJkZWZhdWx0SWQiLCAic2F2ZWRJdGVtIiwgImNsb3NlRGVsZXRlTW9kYWwiLCAib3BlbkRlbGV0ZU1vZGFsIiwgImZvcm0iLCAicHJvdG9jb2xTZWxlY3QiLCAiaG9zdElucHV0IiwgInBvcnRJbnB1dCIsICJ1c2VySW5wdXQiLCAicGFzc3dvcmRJbnB1dCIsICJzaG93UGFzc3dvcmRUb2dnbGUiLCAicmVtb3RlUGF0aElucHV0IiwgImZlZWRiYWNrIiwgInNhdmVCdXR0b24iLCAidGVzdEJ1dHRvbiIsICJkZXBsb3lCdXR0b24iLCAiaGlzdG9yeUxpc3QiLCAibG9nQm94IiwgImRlcGxveUFwaUJhc2UiLCAiZGVwbG95UnVuQXBpIiwgImRlcGxveUxvZ0FwaSIsICJoYXNQYXNzd29yZCIsICJidXN5QWN0aW9uIiwgInNhbml0aXplUmVtb3RlUGF0aCIsICJzZXRGZWVkYmFjayIsICJiYXNlQ2xhc3MiLCAidG9uZUNsYXNzIiwgImljb24iLCAic2V0QnVzeSIsICJhY3Rpb24iLCAiZGlzYWJsZSIsICJzcGlubmVyIiwgInBvcHVsYXRlRm9ybSIsICJyZW5kZXJIaXN0b3J5IiwgImVudHJpZXMiLCAibGkiLCAiZHVyYXRpb24iLCAicmVuZGVyTG9ncyIsICJmZXRjaEhpc3RvcnkiLCAiZmV0Y2hDb25maWciLCAiYnVpbGRQYXlsb2FkIiwgInB3ZCIsICJlcnJvclBheWxvYWQiLCAiZG93bmxvYWRCdXR0b24iLCAiZG93bmxvYWRGZWVkYmFjayIsICJkb3dubG9hZEFwaSIsICJzZXREb3dubG9hZEZlZWRiYWNrIiwgIm9yaWdpbmFsQ29udGVudCIsICJlcnJvckRhdGEiLCAiYmxvYiIsICJhIiwgInRhYkJ1dHRvbnMiLCAidGFiUGFuZWxzIiwgInNpdGVGZWVkYmFjayIsICJ0aGVtZUZvcm0iLCAic3dpdGNoVGFiIiwgInN1Ym1pdCIsICJmb3JtRGF0YSIsICJjdXJyZW50UGFzc3dvcmQiLCAibmV3UGFzc3dvcmQiLCAiY29uZmlybVBhc3N3b3JkIiwgIm5hbWVJbnB1dCIsICJsYW5nU2VsZWN0IiwgInRhZ2xpbmVJbnB1dCIsICJzZXRTaXRlRmVlZGJhY2siLCAic2l0ZUNvbmZpZ0FwaSIsICJsb2FkU2l0ZUNvbmZpZyIsICJ0aGVtZUFwaSIsICJjb2xvclNlbGVjdHMiLCAiaGVhZGluZ1NlbGVjdCIsICJib2R5U2VsZWN0IiwgInJhZGl1c1NtYWxsIiwgInJhZGl1c01lZGl1bSIsICJyYWRpdXNMYXJnZSIsICJwcmV2aWV3IiwgInRoZW1lRmVlZGJhY2siLCAiYXBwbHlCdXR0b24iLCAidGFpbHdpbmRIdWVzIiwgInRhaWx3aW5kU2hhZGVzIiwgInRhaWx3aW5kVG9rZW5zIiwgImgiLCAicyIsICJmaWxsQ29sb3JPcHRpb25zIiwgInNlbCIsICJ0b2tlbiIsICJzZXRUaGVtZUZlZWRiYWNrIiwgInN5bmNQcmV2aWV3IiwgInRva2VuVG9IZXgiLCAic2hhZGVOdW0iLCAiZmFjdG9yIiwgInRvUmdiIiwgImhleCIsICJyIiwgImciLCAibWl4IiwgInNldENvbG9yRmllbGRzIiwgInVwZGF0ZUNvbG9yU2VsZWN0UHJldmlldyIsICJpbml0Q29sb3JQcmV2aWV3cyIsICJsb2FkVGhlbWUiLCAic2VvQ29uZmlnRm9ybSIsICJpbmRleEFsbENoZWNrYm94IiwgInNlb0NvbmZpZ0ZlZWRiYWNrIiwgImxvYWRTZW9Db25maWciLCAiaW5kZXhBbGwiLCAiY3VycmVudFJlcyIsICJjdXJyZW50Q29uZmlnIiwgImFuYWx5dGljc0Zvcm0iLCAiaGVhZFRleHRhcmVhIiwgImJvZHlUZXh0YXJlYSIsICJhbmFseXRpY3NGZWVkYmFjayIsICJhbmFseXRpY3NTYXZlQnV0dG9uIiwgInNldEFuYWx5dGljc0ZlZWRiYWNrIiwgImxvYWRBbmFseXRpY3NDb25maWciLCAiYWNjZXNzaWJpbGl0eUZvcm0iLCAiYW5pbWF0aW9uc1RvZ2dsZSIsICJjb250cmFzdFRvZ2dsZSIsICJhY2Nlc3NpYmlsaXR5RmVlZGJhY2siLCAiYWNjZXNzaWJpbGl0eVNhdmVCdXR0b24iLCAic2V0QWNjZXNzaWJpbGl0eUZlZWRiYWNrIiwgImxvYWRBY2Nlc3NpYmlsaXR5Q29uZmlnIiwgImFpQ29uZmlnRm9ybSIsICJhcGlLZXlJbnB1dCIsICJtb2RlbFNlbGVjdCIsICJwcm9qZWN0UHJvbXB0VGV4dGFyZWEiLCAiZW5hYmxlZENoZWNrYm94IiwgImFpRmVlZGJhY2siLCAiYWlTYXZlQnV0dG9uIiwgImFpQ29uZmlnQXBpIiwgInNldEFJRmVlZGJhY2siLCAibG9hZEFJQ29uZmlnIiwgImFwaUtleVZhbHVlIiwgImdyaWQiLCAiZW1wdHlTdGF0ZSIsICJjb3VudEJhZGdlIiwgImZpbHRlclR5cGUiLCAiZGV0YWlsRW1wdHkiLCAiZGV0YWlsUGFuZWwiLCAiZGV0YWlsUHJldmlldyIsICJkZXRhaWxOYW1lIiwgImRldGFpbFR5cGUiLCAiZGV0YWlsU2l6ZSIsICJkZXRhaWxQYXRoIiwgImRldGFpbFVzZWQiLCAiZGV0YWlsQWx0SW5wdXQiLCAiZGV0YWlsU2F2ZUJ1dHRvbiIsICJkZXRhaWxEZWxldGVCdXR0b24iLCAiZGVsZXRlTW9kYWwiLCAiZGVsZXRlQ2FuY2VsQnV0dG9uIiwgImRlbGV0ZUNvbmZpcm1CdXR0b24iLCAidXBsb2FkT3BlbkJ1dHRvbiIsICJmaWxlSW5wdXQiLCAidXBsb2FkU3RhdHVzIiwgIm1lZGlhQXBpQmFzZSIsICJtZWRpYUl0ZW1zIiwgImZpbHRlcmVkSXRlbXMiLCAiYWN0aXZlTWVkaWFJZCIsICJoaWdobGlnaHRNZWRpYUlkIiwgInBlbmRpbmdVcGxvYWRGaWxlIiwgInVwbG9hZEluUHJvZ3Jlc3MiLCAiZGV0YWlsRGlydHkiLCAidXBsb2FkTW9kZSIsICJ1cGxvYWRQcmV2aWV3VXJsIiwgImRlcml2ZUdyb3VwVHlwZSIsICJmaWxlbmFtZSIsICJpc0ltYWdlVHlwZSIsICJmb3JtYXRUeXBlTGFiZWwiLCAiZXh0IiwgImZvcm1hdEZpbGVTaXplIiwgInNpemUiLCAicmVzZXREZXRhaWxQYW5lbCIsICJjbGVhclVwbG9hZFN0YXRlIiwgInVwZGF0ZURldGFpbEFjdGlvbnMiLCAidXBkYXRlQ291bnRCYWRnZSIsICJyZW5kZXJHcmlkIiwgInNlbGVjdE1lZGlhIiwgInJlbmRlclVzZWRJbiIsICJzYXZpbmciLCAibWVkaWFJZCIsICJzaG93VXBsb2FkUHJldmlldyIsICJhcHBseUZpbHRlcnMiLCAidHlwZUZpbHRlciIsICJsb2FkTWVkaWEiLCAiaGFuZGxlRmlsZVNlbGVjdGlvbiIsICJyZWFkRmlsZUFzQmFzZTY0IiwgInJlc29sdmUiLCAicmVqZWN0IiwgInJlYWRlciIsICJiYXNlNjQiLCAidXBsb2FkU2VsZWN0ZWRNZWRpYSIsICJkZWxldGVBY3RpdmVNZWRpYSIsICJkaXNhYmxlQnV0dG9ucyIsICJlbmFibGVCdXR0b25zIiwgInVwZGF0ZWQiLCAiYWlDaGF0VG9nZ2xlIiwgImFpQ2hhdFBhbmVsIiwgImFpQ2hhdE92ZXJsYXkiLCAiYWlDaGF0Q2xvc2UiLCAiYWlDaGF0Q2xlYXIiLCAiYWlDaGF0Rm9ybSIsICJhaUNoYXRJbnB1dCIsICJhaUNoYXRNZXNzYWdlcyIsICJhaUNoYXRTdGF0dXMiLCAiYWlDaGF0Tm9BcGkiLCAiYWlRdWlja0J1dHRvbnMiLCAiYWlDaGF0T3BlbiIsICJhaUlzTG9hZGluZyIsICJhaUNvbmZpZ0NoZWNrZWQiLCAiYWlIYXNBcGlLZXkiLCAib3BlbkFJQ2hhdCIsICJjaGVja0FJQ29uZmlnIiwgImNsb3NlQUlDaGF0IiwgInNpdGVTbHVnIiwgImxvYWRBSUNoYXRIaXN0b3J5IiwgIndlbGNvbWVNc2ciLCAibXNnIiwgImFwcGVuZEFJTWVzc2FnZSIsICJyb2xlIiwgIm1zZ0RpdiIsICJlc2NhcGVIdG1sIiwgImZvcm1hdHRlZENvbnRlbnQiLCAiZm9ybWF0QUlSZXNwb25zZSIsICJzaG93QUlMb2FkaW5nIiwgImxvYWRpbmdEaXYiLCAiaGlkZUFJTG9hZGluZyIsICJmb3JtYXR0ZWQiLCAibGFuZyIsICJjb2RlIiwgImRpdiIsICJzZW5kQUlNZXNzYWdlIiwgImFwcGVuZEVkaXRQcm9wb3NhbCIsICJhcHBlbmRUaGVtZVByb3Bvc2FsIiwgInByb3Bvc2FsIiwgInByb3Bvc2FsRGl2IiwgImNoYW5nZXNIdG1sIiwgImhhbmRsZUFwcGx5RWRpdCIsICJoYW5kbGVSZWplY3RFZGl0IiwgImNvbG9yc0h0bWwiLCAiY29sb3JzIiwgImdldFRhaWx3aW5kQ29sb3JDc3MiLCAidHlwb0h0bWwiLCAidHlwbyIsICJoYW5kbGVBcHBseVRoZW1lIiwgImNvbG9yTmFtZSIsICJwcm9wb3NhbElkIiwgInByb3Bvc2FsQ2FyZCIsICJjbGVhckFJSGlzdG9yeSIsICJxdWlja1Byb21wdHMiLCAicHJvbXB0Il0KfQo=
