(()=>{document.addEventListener("DOMContentLoaded",()=>{console.log("[admin] Atelier charg\xE9");let Ct=document.querySelector("[data-logout]");Ct&&Ct.addEventListener("click",async()=>{Ct.disabled=!0;try{await fetch("/api/logout",{method:"POST",headers:{"Content-Type":"application/json"}})}catch(n){console.error("[admin] Impossible de se d\xE9connecter",n)}finally{window.location.href="/admin/index.html"}});let We=document.querySelector("[data-admin-sidebar]"),me=document.querySelector("[data-admin-sidebar-overlay]"),Jt=document.querySelectorAll("[data-admin-sidebar-toggle]"),is=document.querySelectorAll("[data-admin-sidebar-close]"),Et=document.body,it=!1,lt=()=>{if(!We)return;if(window.matchMedia("(min-width: 1024px)").matches){We.classList.remove("hidden"),me==null||me.classList.add("hidden"),Et.classList.remove("overflow-hidden");return}it?(We.classList.remove("hidden"),me==null||me.classList.remove("hidden"),Et.classList.add("overflow-hidden")):(We.classList.add("hidden"),me==null||me.classList.add("hidden"),Et.classList.remove("overflow-hidden"))},ls=()=>{it=!0,lt()},qt=()=>{it=!1,lt()};We&&Jt.length>0&&(Jt.forEach(n=>{n.addEventListener("click",ls)}),is.forEach(n=>{n.addEventListener("click",qt)}),me==null||me.addEventListener("click",qt),window.addEventListener("resize",lt),window.addEventListener("keydown",n=>{n.key==="Escape"&&it&&qt()}),lt());let Wt="clower:currentSite",Gt="clower:currentSiteName",Y={slug:null,name:""};(()=>{try{Y.slug=window.localStorage.getItem(Wt),Y.name=window.localStorage.getItem(Gt)||""}catch{Y.slug=null,Y.name=""}})();let kt=document.querySelectorAll("[data-site-card]"),cs=document.querySelectorAll("[data-site-select]"),Ge=document.querySelector("[data-current-site-name]"),_t=document.querySelector("[data-workspace-site-name]"),Yt=document.querySelector("[data-workspace-back-name]"),Be=document.querySelector("[data-workspace-back-modal]"),ds=document.querySelectorAll("[data-workspace-back]"),us=document.querySelectorAll("[data-workspace-back-cancel]"),It=document.querySelector("[data-workspace-back-confirm]"),ms=document.querySelectorAll("[data-workspace-tab]"),At=document.querySelector("[data-site-toast]"),Kt=document.querySelector("[data-site-toast-message]"),ps=document.querySelectorAll("[data-site-create]"),le=document.querySelector("[data-site-modal]"),Ee=document.querySelector("[data-site-form]"),ge=document.querySelector("[data-site-name]"),xe=document.querySelector("[data-site-slug]"),ue=document.querySelector("[data-site-slug-error]"),we=document.querySelector("[data-site-modal-error]"),fs=document.querySelectorAll("[data-site-modal-cancel]"),He=document.querySelector("[data-site-modal-submit]"),G=ws(),ct=!1,dt=null,Bt=null,gs='a[href], button:not([disabled]), textarea, input, select, [tabindex]:not([tabindex="-1"])',Xt=n=>{if(!le||le.classList.contains("hidden")||n.key!=="Tab")return;let i=Array.from(le.querySelectorAll(gs)).filter(w=>!w.hasAttribute("disabled")&&!w.getAttribute("aria-hidden"));if(i.length===0)return;let b=i[0],h=i[i.length-1];n.shiftKey?document.activeElement===b&&(n.preventDefault(),h.focus()):document.activeElement===h&&(n.preventDefault(),b.focus())},H=n=>{!At||!Kt||(Kt.textContent=n,At.classList.remove("hidden"),Bt&&clearTimeout(Bt),Bt=setTimeout(()=>{At.classList.add("hidden")},2500))};function qe(n){return n?n.startsWith("/")?n:`/${n}`:""}function ke(n){return(n==null?void 0:n.replace(/^\//,""))||""}let ut=(n,i)=>{let b=n?qe(n):null;try{b&&(window.localStorage.setItem(Wt,b),Y.slug=b),typeof i=="string"&&i.length>0&&(window.localStorage.setItem(Gt,i),Y.name=i)}catch{Y.slug=b||Y.slug,Y.name=i||Y.name}},Zt=n=>{Ge&&n&&(Ge.textContent=n),_t&&n&&(_t.textContent=n),Yt&&n&&(Yt.textContent=n)},Tt=n=>{ms.forEach(i=>{let b=i.dataset.workspaceTab;if(!b)return;if(!n){i.href="#",i.classList.add("pointer-events-none","opacity-50","text-slate-400"),i.setAttribute("aria-disabled","true");return}let h=encodeURIComponent(ke(n));i.href=`/admin/site/${h}/${b}`,i.classList.remove("pointer-events-none","opacity-50","text-slate-400"),i.removeAttribute("aria-disabled")})},mt=(n,i={})=>{if(!n)return;let b=qe(n),h=i.siteName||Y.name||(Ge==null?void 0:Ge.dataset.defaultSiteName)||"";kt.forEach(x=>{let F=qe(x.dataset.siteCard||"")===b,u=x.querySelector("[data-site-active-badge]");F?(x.classList.add("border-[#9C6BFF]","ring-2","ring-[#9C6BFF]","shadow-md"),x.classList.remove("border-slate-200"),u==null||u.classList.remove("hidden"),h=x.dataset.siteName||h):(x.classList.remove("border-[#9C6BFF]","ring-2","ring-[#9C6BFF]","shadow-md"),x.classList.add("border-slate-200"),u==null||u.classList.add("hidden"))}),i.persist!==!1&&ut(b,i.siteName||h);let w=i.siteName||h;Zt(w),Tt(b)},hs=async(n,i)=>{let b=qe(n);try{let h=await fetch("/api/sites/select",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({slug:b})});if(!h.ok){let u=await h.json().catch(()=>({}));H(u.message||"Impossible de s\xE9lectionner ce site.");return}let w=await h.json().catch(()=>({})),x=qe(w.slug||b),N=w.name||i;ut(x,N),mt(x,{siteName:N,persist:!1});let F=encodeURIComponent(ke(x));window.location.href=`/admin/site/${F}/design`}catch(h){console.error("[admin] Impossible de s\xE9lectionner le site",h),H("Erreur inattendue lors de la s\xE9lection.")}},ys=async()=>{try{let n=await fetch("/api/sites/current",{credentials:"same-origin"});if(!n.ok){n.status===404&&G&&(window.location.href="/admin/sites");return}let i=await n.json(),b=qe(i.slug);ut(b,i.name),mt(b,{siteName:i.name,persist:!1})}catch(n){console.warn("[admin] Impossible de r\xE9cup\xE9rer le site actif",n)}};(()=>{if(Y.slug){mt(Y.slug,{siteName:Y.name,persist:!1});return}let n=document.querySelector('[data-site-card][data-site-default="true"]')||kt[0];n&&mt(n.dataset.siteCard,{siteName:n.dataset.siteName||"",persist:!1})})(),ys(),G?Tt(G.slugValue):Y.slug&&Tt(Y.slug),cs.forEach(n=>{n.addEventListener("click",()=>{if(n.disabled)return;let i=n.dataset.siteSelect,b=n.dataset.siteSelectName||"Ce site";i&&(n.disabled=!0,hs(i,b).finally(()=>{n.disabled=!1}))})});let _e=n=>n.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),vs=n=>{let i=_e(n||"");return i?`/${i}`:""},bs=()=>{le&&(dt=document.activeElement,le.classList.remove("hidden"),le.classList.add("flex"),ct=!1,Ee==null||Ee.reset(),ue&&(ue.textContent=""),we&&(we.textContent=""),xe&&ge&&(xe.value=_e(ge.value)),document.addEventListener("keydown",Xt),window.setTimeout(()=>{ge==null||ge.focus()},0))},pt=()=>{le&&(le.classList.add("hidden"),le.classList.remove("flex"),document.removeEventListener("keydown",Xt),ct=!1,Ee==null||Ee.reset(),ue&&(ue.textContent=""),we&&(we.textContent=""),dt==null||dt.focus())};ps.forEach(n=>{n.addEventListener("click",bs)}),fs.forEach(n=>{n.addEventListener("click",pt)}),le==null||le.addEventListener("click",n=>{n.target===le&&pt()}),ge==null||ge.addEventListener("input",()=>{xe&&(!ct||xe.value.trim().length===0)&&(xe.value=_e(ge.value))}),xe==null||xe.addEventListener("input",()=>{ct=!0,ue&&(ue.textContent="")});let xs=()=>new Set(Array.from(kt).map(n=>qe(n.dataset.siteCard||"")));Ee==null||Ee.addEventListener("submit",async n=>{if(n.preventDefault(),!ge||!xe)return;let i=(ge.value||"").trim(),b=xe.value||"";b||(b=i);let h=vs(b);if(!i||!h){ue&&(ue.textContent="Nom et slug sont requis.");return}if(xs().has(h)){ue&&(ue.textContent="Ce slug est d\xE9j\xE0 utilis\xE9.");return}ue&&(ue.textContent=""),we&&(we.textContent=""),He&&(He.disabled=!0,He.textContent="Cr\xE9ation...");try{let x=await fetch("/api/sites",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:i,slug:h})});if(!x.ok){let J=await x.json().catch(()=>({})),j=J.message||"Impossible de cr\xE9er ce site.";we&&(we.textContent=j),J.field==="slug"&&ue&&(ue.textContent=j);return}let N=await x.json(),F=qe((N==null?void 0:N.slug)||h),u=(N==null?void 0:N.name)||i;ut(F,u),pt();let V=encodeURIComponent(ke(F));window.location.href=`/admin/site/${V}/design`}catch(x){console.error("[admin] Impossible de cr\xE9er le site",x),we&&(we.textContent="Erreur inattendue. R\xE9essaie dans un instant.")}finally{He&&(He.disabled=!1,He.textContent="Cr\xE9er")}}),window.addEventListener("keydown",n=>{n.key==="Escape"&&(le&&!le.classList.contains("hidden")&&pt(),Be&&!Be.classList.contains("hidden")&&Qt(),blockDeleteModal&&!blockDeleteModal.classList.contains("hidden")&&closeBlockDeleteModal(),blockLibraryOpen&&closeBlockLibrary())});function ws(){let n=window.location.pathname.match(/^\/admin\/site\/([^/]+)(?:\/([^/]+))?/);return n?{slugPart:decodeURIComponent(n[1]),slugValue:qe(decodeURIComponent(n[1])),section:n[2]||"design"}:null}function Ss(){return document.querySelector("[data-page-list]")?"design":document.querySelector("[data-collection-list]")?"content":document.querySelector("[data-media-grid]")?"media":document.querySelector("[data-deploy-form]")?"deploy":null}function Ls(){if(!Be){window.location.href="/admin/sites";return}Be.classList.remove("hidden"),Be.classList.add("flex")}function Qt(){Be&&(Be.classList.add("hidden"),Be.classList.remove("flex"))}ds.forEach(n=>{n.addEventListener("click",Ls)}),us.forEach(n=>{n.addEventListener("click",Qt)}),It==null||It.addEventListener("click",()=>{window.location.href="/admin/sites"});let Ye=(G==null?void 0:G.section)||Ss();Ye==="design"&&Cs(),Ye==="content"&&Es(),Ye==="media"&&Is(),Ye==="deploy"&&qs(),Ye==="settings"&&ks(),G&&Y.name&&Zt(Y.name);function Cs(){let n=document.querySelectorAll("[data-page-list]");if(n.length===0)return;let i=document.querySelector("[data-active-page-title]"),b=document.querySelector("[data-active-page-slug]"),h=document.querySelector("[data-page-preview-tags]"),w=document.querySelector("[data-page-preview-frame]"),x=document.querySelector("[data-preview-open]"),N=document.querySelector("[data-preview-status]"),F=document.querySelector("[data-preview-highlight]"),u=document.querySelector("[data-blocks-list]"),V=document.querySelector("[data-blocks-empty]"),J=document.querySelector("[data-block-count]"),j=document.querySelector("[data-block-library-toggle]"),q=document.querySelector("[data-block-library]"),S=document.querySelectorAll("[data-block-add]"),d=document.querySelector("[data-block-delete-modal]"),P=document.querySelector("[data-block-delete-confirm]"),z=document.querySelector("[data-block-delete-cancel]"),I=document.querySelector("[data-block-detail-empty]"),W=document.querySelector("[data-block-detail-status]"),$=document.querySelector("[data-block-editor]"),Q=document.querySelector("[data-block-editor-block-name]"),O=document.querySelector("[data-block-editor-block-type]"),M=document.querySelector("[data-block-editor-unsupported]"),f=document.querySelector("[data-block-form]"),U=f?Array.from(f.querySelectorAll("[data-editor-section]")):[],L=f==null?void 0:f.querySelector('[name="collection-grid-collection"]'),p=f==null?void 0:f.querySelector("[data-collection-selection-info]"),y=document.querySelector("[data-block-form-cancel]"),A=f==null?void 0:f.querySelector("[data-group-preview-mobile]"),l=f==null?void 0:f.querySelector("[data-group-preview-desktop]"),c={hero:{section:"hero",labelField:"title",descriptionField:"subtitle",fields:{title:"hero-title",subtitle:"hero-subtitle",ctaLabel:"hero-cta-label",ctaUrl:"hero-cta-url",image:"hero-image",align:"hero-align"}},paragraphe:{section:"paragraph",labelField:"title",descriptionField:"content",fields:{title:"paragraph-title",content:"paragraph-content",align:"paragraph-align"}},image:{section:"image",labelField:"alt",fields:{src:"image-src",alt:"image-alt",showCaption:"image-caption-toggle",caption:"image-caption"}},groupe:{section:"group",fields:{layout:"group-layout",columnsMobile:"group-columns-mobile",columnsDesktop:"group-columns-desktop"}},collectiongrid:{section:"collection",fields:{collectionId:"collection-grid-collection",limit:"collection-grid-limit"}}},C={texte:"paragraphe",paragraph:"paragraphe",paragraphs:"paragraphe",paragraphes:"paragraphe",text:"paragraphe",hero:"hero",image:"image",groupe:"groupe",group:"groupe",collection:"collectiongrid",collectiongrid:"collectiongrid","collection-grid":"collectiongrid"},K=(e,t)=>{if(!A||!l)return;let s=a=>Array.from({length:Number(a)||1}).map(()=>'<span class="block h-2 w-full rounded-full bg-slate-300"></span>').join("");A.innerHTML=s(e),l.innerHTML=s(t)},ee=async()=>{if(!o)return[];let e=await fetch(o,{headers:{Accept:"application/json"}});if(!e.ok)throw new Error("Impossible de charger les pages.");let t=await e.json().catch(()=>[]);return Array.isArray(t)?t:[]},oe=async({title:e,slug:t})=>{if(!o)throw new Error("Site inconnu.");let s=await fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e,slug:t})});if(!s.ok){let a=await s.json().catch(()=>({}));throw new Error(a.message||"Impossible de cr\xE9er la page.")}return s.json().catch(()=>({}))},te=async e=>{if(!(!o||!(e!=null&&e.id)))try{let t=await fetch(`${o}/${encodeURIComponent(e.id)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){let a=await t.json().catch(()=>({}));throw new Error(a.message||"Impossible de sauvegarder la page.")}let s=await t.json().catch(()=>({}));if(s!=null&&s.id){let a=nt(s);return ce=ce.map(v=>v.id===a.id?a:v),(T==null?void 0:T.id)===a.id&&(T=a),a}return s}catch(t){console.error("[design] Save page failed",t),H(t.message||"Sauvegarde impossible.")}},he=async()=>{if(!o){ce=[],Le=null,T=null,$t(ce,Le),Qe(null),I==null||I.classList.remove("hidden"),$==null||$.classList.add("hidden");return}try{let e=await ee();if(ce=(Array.isArray(e)?e:[]).map(t=>nt(t)),ce.length===0){Le=null,T=null,$t(ce,Le),Qe(null),I==null||I.classList.remove("hidden"),$==null||$.classList.add("hidden"),w&&(w.srcdoc=se());return}Le=Re(ce),Ne(Le)}catch(e){console.error("[design] Impossible de charger les pages",e),H("Impossible de charger les pages.")}},Ie=e=>(e||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),ye=e=>{if(!e)return null;let t=Ie(e.type),s=C[t]||t;return c[s]||null},Se=e=>{var s,a,v;if(!f||!$)return;e&&!e.settings&&(e.settings={});let t=ye(e);if(Q&&(Q.textContent=(e==null?void 0:e.label)||"Bloc"),O&&(O.textContent=(e==null?void 0:e.type)||"Bloc"),!t){f.classList.add("hidden"),M==null||M.classList.remove("hidden"),f.dataset.blockId="";return}if(M==null||M.classList.add("hidden"),f.classList.remove("hidden"),f.reset(),f.dataset.blockId=e.id,U.forEach(k=>{k.dataset.editorSection===t.section?k.classList.remove("hidden"):k.classList.add("hidden")}),t.section==="collection"){let k=e.collectionId||((s=e.settings)==null?void 0:s.collectionId)||"";wt(k)}if(Object.entries(t.fields).forEach(([k,_])=>{var Ue;let X=f.querySelector(`[name="${_}"]`);if(!X)return;let ie=(Ue=e.settings)==null?void 0:Ue[k];X.type==="checkbox"?X.checked=!!ie:X.type==="number"?X.value=ie!=null?ie:1:(X.tagName,X.value=ie!=null?ie:"")}),t.section==="group"){let k=((a=f.querySelector('[name="group-columns-mobile"]'))==null?void 0:a.value)||"1",_=((v=f.querySelector('[name="group-columns-desktop"]'))==null?void 0:v.value)||"3";K(k,_)}},Te=e=>{if(!f||!e)return{};let t={};return Object.entries(e.fields).forEach(([s,a])=>{let v=f.querySelector(`[name="${a}"]`);if(v)if(v.type==="checkbox")t[s]=v.checked;else if(v.type==="number"){let k=Number(v.value);t[s]=Number.isFinite(k)?k:0}else v.tagName==="TEXTAREA"?t[s]=v.value||"":v.type==="select-one"?t[s]=v.value:t[s]=v.value||""}),t},Z=e=>{if(N){if(!e){N.classList.add("hidden");return}N.classList.remove("hidden"),N.textContent=e}},Pe=e=>e?{id:e.id,title:e.title,slug:e.slug,badges:[...e.badges||[]],blocks:(e.blocks||[]).map(t=>{var s;return{id:t.id,type:t.type,label:t.label,status:t.status,description:t.description,props:t.props||[],settings:t.settings||{},collectionId:t.collectionId||((s=t.settings)==null?void 0:s.collectionId)||""}})}:null,se=()=>'<!DOCTYPE html><html><body style="font-family:Inter,sans-serif;padding:40px;color:#475569;background:#fff;">Pr\xE9paration de la pr\xE9visualisation\u2026</body></html>',je=e=>{if(!w||!e)return;let t=(G==null?void 0:G.slugValue)||Y.slug||"",s={page:Pe(e),site:{title:Y.name||"Site",slug:t}};Rt=!1,Z("Actualisation\u2026"),w.srcdoc=se(),st&&st.abort();let a=new AbortController;st=a,fetch("/api/preview",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s),signal:a.signal}).then(v=>{if(!v.ok)throw new Error("Preview error");return v.json()}).then(v=>{a.signal.aborted||(Dt=v.html||"",w.setAttribute("title",`Pr\xE9visualisation de la page ${e.title||""}`.trim()),w.srcdoc=Dt||se(),Z("\xC0 jour"))}).catch(v=>{a.signal.aborted||(console.error("[preview] Impossible de rendre la page",v),Z("Erreur preview"),w.srcdoc='<!DOCTYPE html><html><body style="font-family:Inter,sans-serif;padding:40px;color:#be123c;background:#fff;">Erreur lors du rendu de la pr\xE9visualisation.</body></html>')}).finally(()=>{st===a&&(st=null)})},Me=e=>{if(e.preventDefault(),!T||!de)return;let t=Ft(),s=ye(t);if(!t||!s)return;let a=Te(s);if(s.section==="collection"){if(!a.collectionId){H("S\xE9lectionnez une collection.");return}a.limit=Math.max(1,Number(a.limit)||1)}let v=(T.blocks||[]).map(k=>{if(k.id!==t.id)return k;let _={...k.settings||{},...a},X={...k,settings:_};return s.labelField&&a[s.labelField]&&(X.label=a[s.labelField]),s.descriptionField&&a[s.descriptionField]&&(X.description=a[s.descriptionField]),s.section==="collection"&&(X.collectionId=a.collectionId,X.settings.collectionId=a.collectionId,X.settings.limit=a.limit),X});et(v),H("Bloc mis \xE0 jour"),Ne(T.id,{preserveBlock:!0})},ve=document.querySelector("[data-page-drawer]"),ae=document.querySelector("[data-page-drawer-backdrop]"),ze=document.querySelectorAll("[data-page-drawer-open]"),$e=document.querySelectorAll("[data-page-drawer-close]"),pe=document.querySelector("[data-add-page-toggle]"),re=document.querySelector("[data-add-page-form]"),r=document.querySelector("[data-add-page-title]"),m=document.querySelector("[data-add-page-slug]"),D=document.querySelector("[data-add-page-cancel]"),E=document.querySelector("[data-add-page-error]"),fe=re==null?void 0:re.querySelector('[type="submit"]'),Oe=ke((G==null?void 0:G.slugValue)||Y.slug||"default")||"default",ft=(G==null?void 0:G.slugValue)||Y.slug||"",De=ke(ft)||"",o=De?`/api/sites/${encodeURIComponent(De)}/pages`:null,g=De?`/api/sites/${encodeURIComponent(De)}/collections`:null,B={active:`clower:activePage:${Oe}`},R=(e,t,s,a,v,k=[],_={})=>{let X={id:e,label:t,type:s,status:a,description:v,props:k,settings:{..._}};return X.settings.collectionId&&(X.collectionId=X.settings.collectionId),X},ne={hero:{type:"Hero",label:"Hero de page",description:"Section pleine largeur avec CTA principal.",status:"Brouillon",props:[{label:"CTA",value:"D\xE9couvrir"},{label:"Hauteur",value:"80vh"}],settings:{title:"Titre du hero",subtitle:"",ctaLabel:"D\xE9couvrir",ctaUrl:"#",image:"",align:"center"}},paragraph:{type:"Paragraphe",label:"Bloc \xE9ditorial",description:"Paragraphe libre pour raconter votre histoire.",status:"Brouillon",props:[{label:"Longueur",value:"150 mots"}],settings:{title:"Titre du paragraphe",content:"",align:"left"}},image:{type:"Image",label:"Bloc image",description:"Visuel seul avec l\xE9gende optionnelle.",status:"Brouillon",props:[{label:"Ratio",value:"16:9"},{label:"L\xE9gende",value:"Inactive"}],settings:{src:"",alt:"",showCaption:!1,caption:""}},group:{type:"Groupe",label:"Groupe de sections",description:"Conteneur pour imbriquer plusieurs sous-blocs.",status:"Brouillon",props:[{label:"Disposition",value:"Verticale"}],settings:{layout:"grid",columnsMobile:"1",columnsDesktop:"3"}},collectiongrid:{type:"CollectionGrid",label:"Grille de contenus",description:"Affiche automatiquement les items d\u2019une collection.",status:"Brouillon",settings:{collectionId:"",limit:6}}},Ke=e=>{try{window.localStorage.setItem(B.active,e)}catch{}},Re=e=>{var t;try{let s=window.localStorage.getItem(B.active);if(s&&e.some(a=>a.id===s))return s}catch{}return((t=e[0])==null?void 0:t.id)||null},Fe=e=>!e||e<=0?"0 bloc":e===1?"1 bloc":`${e} blocs`,Xe=e=>{if(!e||e==="/")return"/";let t=_e(e.replace(/^\//,""));return t?`/${t}`:"/"},Ve=(e="page",t="block")=>`${e}-${t}-${Date.now().toString(36)}-${Math.floor(Math.random()*1e3)}`,jt=(e,t)=>[R(Ve(e,"intro"),"Introduction","Paragraphe","Brouillon",`Paragraphe introductif pour "${t}".`,[{label:"Longueur",value:"2 paragraphes"}],{title:`Introduction \xE0 ${t}`,content:"Ajoutez votre premier paragraphe de pr\xE9sentation.",align:"left"}),R(Ve(e,"content"),"Zone de contenu","Groupe","Brouillon","Section principale \xE0 composer avec textes et visuels.",[{label:"Colonnes",value:"Auto"}],{layout:"grid",columnsMobile:"1",columnsDesktop:"2"})],gt=e=>{i&&(i.textContent=(e==null?void 0:e.title)||"Page"),b&&(b.textContent=(e==null?void 0:e.slug)||"/")},As=e=>{if(!h)return;h.innerHTML="",(e&&e.badges&&e.badges.length>0?e.badges:["Structure en cours"]).forEach(s=>{let a=document.createElement("span");a.className="rounded-full bg-slate-100 px-3 py-1",a.textContent=s,h.appendChild(a)})},Bs=e=>{switch((e||"").toLowerCase()){case"en ligne":return"bg-emerald-50 text-emerald-700";case"brouillon":return"bg-amber-50 text-amber-700";default:return"bg-slate-100 text-slate-600"}},ht=e=>{if(!(!I||!$)){if(!e){I.classList.remove("hidden"),$.classList.add("hidden"),M==null||M.classList.add("hidden"),f==null||f.classList.add("hidden"),W==null||W.classList.add("hidden");return}I.classList.add("hidden"),$.classList.remove("hidden"),W&&(e.status?(W.textContent=e.status,W.className=`rounded-full px-3 py-1 text-xs font-semibold ${Bs(e.status)}`,W.classList.remove("hidden")):W.classList.add("hidden")),Se(e)}},Ze=e=>{if(!w)return;let t=w.contentDocument;if(!t)return;t.querySelectorAll("[data-preview-block]").forEach(a=>{a.dataset.previewBlock===e?(a.classList.add("preview-block-active"),Rt&&e&&a.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})):a.classList.remove("preview-block-active")}),F&&(F.style.borderColor=e?"rgba(156, 107, 255, 0.5)":"transparent")},Qe=e=>{if(!u)return;u.innerHTML="";let t=(e==null?void 0:e.blocks)||[];if(J&&(J.textContent=Fe(t.length)),t.length===0){u.classList.add("hidden"),V==null||V.classList.remove("hidden");return}u.classList.remove("hidden"),V==null||V.classList.add("hidden"),t.forEach(s=>{var rs;let a=s.id===de,v=document.createElement("div");v.dataset.blockItem="true",v.dataset.blockId=s.id,v.setAttribute("role","option"),v.setAttribute("aria-selected",a?"true":"false"),v.tabIndex=0,v.className=["relative flex items-center gap-3 rounded-2xl border px-3 py-2 text-left transition",a?"bg-slate-100 border-[#9C6BFF]/40 shadow-sm":"border-slate-200 hover:border-[#9C6BFF]/40"].join(" ");let k=document.createElement("span");k.className=`absolute inset-y-2 left-0 w-1 rounded-full bg-[#9C6BFF] ${a?"":"hidden"}`,v.appendChild(k);let _=document.createElement("div");_.className="flex flex-1 items-center gap-3";let X=document.createElement("div");X.className="hidden lg:flex cursor-grab flex-shrink-0 items-center text-lg text-slate-400",X.innerHTML="&#8801;",_.appendChild(X);let ie=document.createElement("div");ie.className="flex-1";let Ue=document.createElement("div");Ue.className="flex items-center gap-2 text-[11px] uppercase tracking-wide text-slate-500";let Ht=document.createElement("span");Ht.className="rounded-full bg-slate-100 px-2 py-0.5 text-[10px] font-semibold text-slate-600",Ht.textContent=s.type;let zt=document.createElement("span");zt.className="text-slate-400",zt.textContent=s.status,Ue.appendChild(Ht),Ue.appendChild(zt);let Ot=document.createElement("p");Ot.className="mt-1 text-sm font-semibold text-slate-900";let Gs=s.settings&&s.settings.title||s.label||"Bloc sans titre";if(Ot.textContent=Gs,ie.appendChild(Ue),ie.appendChild(Ot),(s.type||"").toLowerCase()==="collectiongrid"&&s.collectionId){let be=((rs=Ce.find(_s=>_s.id===s.collectionId))==null?void 0:rs.name)||s.collectionId,Vt=document.createElement("p");Vt.className="text-xs text-slate-400",Vt.textContent=`Collection : ${be}`,ie.appendChild(Vt)}_.appendChild(ie),v.appendChild(_);let St=document.createElement("div");St.className="flex flex-col gap-1 text-xs text-slate-400";let Lt=document.createElement("div");Lt.className="flex items-center gap-1 lg:hidden";let ot=document.createElement("button");ot.type="button",ot.className="rounded-lg border border-slate-200 px-2 py-1 text-[11px] font-semibold text-slate-500",ot.textContent="\u2191",ot.addEventListener("click",be=>{be.stopPropagation(),es(s.id,-1)});let at=document.createElement("button");at.type="button",at.className="rounded-lg border border-slate-200 px-2 py-1 text-[11px] font-semibold text-slate-500",at.textContent="\u2193",at.addEventListener("click",be=>{be.stopPropagation(),es(s.id,1)}),Lt.appendChild(ot),Lt.appendChild(at),St.appendChild(Lt);let rt=document.createElement("button");rt.type="button",rt.className="inline-flex items-center justify-center rounded-lg border border-transparent px-2 py-1 text-[12px] text-rose-500 hover:text-rose-700",rt.innerHTML="\u{1F5D1}\uFE0F",rt.addEventListener("click",be=>{be.stopPropagation(),Ns(s.id)}),St.appendChild(rt),v.appendChild(St),v.addEventListener("click",()=>{Je(s.id)}),v.addEventListener("keydown",be=>{(be.key==="Enter"||be.key===" ")&&(be.preventDefault(),Je(s.id))}),u.appendChild(v)})},$t=(e,t)=>{n.forEach(s=>{s.innerHTML="",e.forEach(a=>{let v=document.createElement("li"),k=document.createElement("button");k.type="button",k.dataset.pageId=a.id,k.className=["w-full flex items-center justify-between gap-3 px-3 py-2 text-left transition",t===a.id?"bg-[#9C6BFF]/10 text-slate-900 border border-[#9C6BFF]/40 rounded-xl shadow-sm":"text-slate-700 hover:bg-slate-50 rounded-xl"].join(" "),t===a.id?k.setAttribute("aria-current","page"):k.removeAttribute("aria-current"),k.innerHTML=`
            <div class="flex items-center gap-3">
              <span class="flex h-9 w-9 items-center justify-center rounded-xl border border-slate-200 bg-white text-slate-500">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                  <path d="M6.5 4.5h7l4 4v11a1 1 0 0 1-1 1h-10a1 1 0 0 1-1-1v-14a1 1 0 0 1 1-1Z" stroke="currentColor" stroke-width="1.4" stroke-linejoin="round"/>
                  <path d="M13.5 4.5v4a1 1 0 0 0 1 1h3" stroke="currentColor" stroke-width="1.4"/>
                </svg>
              </span>
              <div class="flex flex-col">
                <span class="text-sm font-semibold">${a.title}</span>
                <span class="text-xs text-slate-500">${a.slug}</span>
              </div>
            </div>
          `,k.addEventListener("click",()=>{Ne(a.id),Pt()||Mt()}),v.appendChild(k),s.appendChild(v)})})},Ft=()=>!T||!Array.isArray(T.blocks)?null:T.blocks.find(e=>e.id===de)||null,Je=e=>{if(!T)return;if(!e){de=null,Qe(T),ht(null),Ze(null);return}let t=T.blocks.find(s=>s.id===e)||T.blocks[0]||null;de=(t==null?void 0:t.id)||null,Qe(T),ht(t),Ze(de)},et=e=>{if(!T)return;let t={...T,blocks:e};Ps(t)},yt=()=>window.matchMedia("(min-width: 1024px)").matches;function es(e,t){if(!T||!e||!t)return;let s=[...T.blocks||[]],a=s.findIndex(_=>_.id===e);if(a<0)return;let v=a+t;if(v<0||v>=s.length)return;let[k]=s.splice(a,1);s.splice(v,0,k),et(s),Ne(T.id,{preserveBlock:!0}),Je(k.id)}function Ts(e,t){if(!T||!e||!t||e===t)return;let s=[...T.blocks||[]],a=s.findIndex(_=>_.id===e),v=s.findIndex(_=>_.id===t);if(a<0||v<0)return;let[k]=s.splice(a,1);s.splice(v,0,k),et(s),Ne(T.id,{preserveBlock:!0}),Je(k.id)}function ts(){if(!u)return;let e=yt();u.querySelectorAll("[data-block-item]").forEach(t=>{t.setAttribute("draggable",e?"true":"false")})}function vt(){q&&(q.classList.add("hidden"),tt=!1)}function js(){q&&(q.classList.remove("hidden"),tt=!0)}function $s(){tt?vt():js()}function Fs(e){var k;if(!T||!e)return;let t=ne[e];if(!t)return;let s=(T.blocks||[]).filter(_=>_.type===t.type).length+1,a=R(Ve(T.id,e),`${t.label} ${s}`,t.type,t.status,t.description,t.props,t.settings||{});if((t.type||"").toLowerCase()==="collectiongrid"){let _=((k=Ce[0])==null?void 0:k.id)||"";a.collectionId=_,a.settings.collectionId=_,a.settings.limit=a.settings.limit||6}let v=[...T.blocks||[],a];et(v),Ne(T.id,{preserveBlock:!0}),Je(a.id),vt(),H("Bloc ajout\xE9")}function ss(e){var a,v;if(!T)return;let t=(T.blocks||[]).filter(k=>k.id!==e),s=e===de?((a=t[0])==null?void 0:a.id)||null:de||((v=t[0])==null?void 0:v.id)||null;et(t),de=s,Ne(T.id,{preserveBlock:!0}),de?Je(de):(ht(null),Ze(null)),H("Bloc supprim\xE9")}function Nt(){d&&(d.classList.add("hidden"),d.classList.remove("flex"),xt=null)}function Ns(e){if(!d){ss(e);return}xt=e,d.classList.remove("hidden"),d.classList.add("flex")}let Ps=e=>{if(!e)return;let t=nt(e);ce=ce.map(s=>s.id===t.id?t:s),T=t,te(t)},Ne=(e,t={})=>{var v,k;let s=ce.find(_=>_.id===e)||ce[0]||null;T=s?nt(s):null,Le=(s==null?void 0:s.id)||null,(!t.preserveBlock||!T||!T.blocks.some(_=>_.id===de))&&(de=((k=(v=T==null?void 0:T.blocks)==null?void 0:v[0])==null?void 0:k.id)||null),Le&&Ke(Le),$t(ce,Le),gt(T),As(T),je(T),Qe(T),ht(Ft()),Ze(de),ts(),tt&&vt()},Pt=()=>window.matchMedia("(min-width: 1024px)").matches,ns=()=>{ve&&(Pt()?(ve.classList.add("is-open"),ae==null||ae.classList.add("hidden"),document.body.classList.remove("overflow-hidden")):ve.classList.remove("is-open"))},Ms=()=>{!ve||Pt()||(ve.classList.add("is-open"),ae==null||ae.classList.remove("hidden"),document.body.classList.add("overflow-hidden"))},Mt=()=>{ve&&(ve.classList.remove("is-open"),ae==null||ae.classList.add("hidden"),document.body.classList.remove("overflow-hidden"))},Ds=()=>{!re||!pe||(re.classList.remove("hidden"),pe.classList.add("hidden"),E&&(E.textContent=""),bt=!1,r&&(r.value="",r.focus()),m&&(m.value=""))},os=()=>{!re||!pe||(re.classList.add("hidden"),pe.classList.remove("hidden"),E&&(E.textContent=""),bt=!1,re.reset())},Rs=()=>{!r||!m||bt&&m.value.trim().length>0||(m.value=Xe(r.value))},ce=[],Le=null,bt=!1,T=null,de=null,tt=!1,xt=null,Dt="",Rt=!1,st=null,Ce=[],Us=e=>{let t={...e,props:Array.isArray(e.props)?e.props:[],settings:{...e.settings||{}}};return(t.type||"").toLowerCase()==="collectiongrid"&&(t.collectionId=t.collectionId||t.settings.collectionId||"",t.settings.collectionId=t.collectionId,t.settings.limit=t.settings.limit||6),t},nt=e=>({...e,blocks:(e.blocks||[]).map(t=>Us(t))}),Hs=async()=>{if(!g){Ce=[],wt();return}try{let e=await fetch(g,{headers:{Accept:"application/json"}});if(!e.ok)throw new Error("Impossible de charger les collections.");let t=await e.json().catch(()=>[]);Ce=Array.isArray(t)?t:[];let s=(L==null?void 0:L.value)||"";wt(s)}catch(e){console.error("[design] collections load",e),H("Collections indisponibles."),Ce=[],wt()}},Ut=e=>{if(!p)return;if(!e){p.textContent=Ce.length?"S\xE9lectionnez une collection pour afficher ses informations.":"Aucune collection disponible. Ajoutez-en depuis l\u2019onglet Contenus.";return}let t=Ce.find(a=>a.id===e);if(!t){p.textContent=`Collection ${e}`;return}let s=[];t.description&&s.push(t.description),t.type&&s.push(`Type\xA0: ${t.type}`),p.textContent=s.join(" \xB7 ")||`Collection ${t.name||t.id}`},wt=(e="")=>{if(L){if(L.innerHTML="",!Ce.length){L.disabled=!0;let t=document.createElement("option");t.value="",t.textContent="Aucune collection disponible",L.appendChild(t),Ut("");return}if(L.disabled=!1,e&&!Ce.some(t=>t.id===e)){let t=document.createElement("option");t.value=e,t.textContent=e,L.appendChild(t)}Ce.forEach(t=>{let s=document.createElement("option");s.value=t.id;let a=t.name||t.id;s.textContent=t.type?`${a} \xB7 ${t.type}`:a,s.dataset.description=t.description||"",L.appendChild(s)}),e&&(L.value=e),Ut(L.value||"")}};Hs(),ns(),ze.forEach(e=>{e.addEventListener("click",Ms)}),$e.forEach(e=>{e.addEventListener("click",Mt)}),ae==null||ae.addEventListener("click",Mt),window.addEventListener("resize",()=>{ns(),ts()}),pe==null||pe.addEventListener("click",Ds),D==null||D.addEventListener("click",os),r==null||r.addEventListener("input",Rs),m==null||m.addEventListener("input",()=>{E&&(E.textContent=""),bt=!0}),re==null||re.addEventListener("submit",async e=>{if(e.preventDefault(),!o){E&&(E.textContent="Aucun site s\xE9lectionn\xE9.");return}if(!r||!m)return;let t=r.value.trim(),s=Xe(m.value.trim()||t);if(!t||!s){E&&(E.textContent="Titre et slug sont requis.");return}E&&(E.textContent=""),fe&&(fe.disabled=!0,fe.textContent="Cr\xE9ation...");try{let a=await oe({title:t,slug:s});if(!a||!a.id)throw new Error("R\xE9ponse invalide.");ce=[...ce,nt(a)],os(),H("Page cr\xE9\xE9e"),Ne(a.id)}catch(a){console.error("[design] create page failed",a),E&&(E.textContent=a.message||"Impossible de cr\xE9er la page.")}finally{fe&&(fe.disabled=!1,fe.textContent="Cr\xE9er")}}),j==null||j.addEventListener("click",e=>{e.stopPropagation(),$s()}),document.addEventListener("click",e=>{tt&&(q!=null&&q.contains(e.target)||j!=null&&j.contains(e.target)||vt())}),S.forEach(e=>{e.addEventListener("click",t=>{t.stopPropagation();let s=e.dataset.blockAdd;Fs(s)})}),z==null||z.addEventListener("click",()=>{Nt()}),P==null||P.addEventListener("click",()=>{xt&&ss(xt),Nt()}),d==null||d.addEventListener("click",e=>{e.target===d&&Nt()}),f==null||f.addEventListener("input",e=>{var s,a;let t=e.target;if(!(!t||!t.name)&&(t.name==="group-columns-mobile"||t.name==="group-columns-desktop")){let v=((s=f.querySelector('[name="group-columns-mobile"]'))==null?void 0:s.value)||"1",k=((a=f.querySelector('[name="group-columns-desktop"]'))==null?void 0:a.value)||"3";K(v,k)}}),L==null||L.addEventListener("change",e=>{let t=e.target;Ut((t==null?void 0:t.value)||"")}),f==null||f.addEventListener("submit",Me),y==null||y.addEventListener("click",e=>{e.preventDefault();let t=Ft();t&&Se(t)}),w==null||w.addEventListener("load",()=>{Rt=!0,Z("\xC0 jour"),Ze(de)}),x==null||x.addEventListener("click",()=>{let e=window.open("","_blank");if(!e)return;e.opener=null;let t=e.document;t.open(),t.write(Dt||se()),t.close()});let zs=e=>{let t=e.target.closest("[data-block-item]");!t||!yt()||(Ae=t.dataset.blockId||null,Ae&&(e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/plain",Ae),t.classList.add("opacity-50")))},as=()=>{u==null||u.querySelectorAll("[data-block-item]").forEach(e=>e.classList.remove("opacity-50","ring-2","ring-[#9C6BFF]/50"))},Os=()=>{Ae=null,as()},Vs=e=>{if(!Ae||!yt())return;let t=e.target.closest("[data-block-item]");!t||t.dataset.blockId===Ae||(e.preventDefault(),t.classList.add("ring-2","ring-[#9C6BFF]/50"))},Js=e=>{let t=e.target.closest("[data-block-item]");t&&t.classList.remove("ring-2","ring-[#9C6BFF]/50")},Ws=e=>{if(!Ae||!yt())return;e.preventDefault();let t=e.target.closest("[data-block-item]"),s=Ae;Ae=null,as();let a=(t==null?void 0:t.dataset.blockId)||null;a&&Ts(s,a)},Ae=null;u==null||u.addEventListener("dragstart",zs),u==null||u.addEventListener("dragend",Os),u==null||u.addEventListener("dragover",Vs),u==null||u.addEventListener("dragleave",Js),u==null||u.addEventListener("drop",Ws),he()}function Es(){var Oe,ft,De;let n=document.querySelector("[data-collection-list]");if(!n)return;let i=document.querySelector("[data-collection-empty]"),b=document.querySelector("[data-collection-items-empty]"),h=document.querySelector("[data-item-table-wrapper]"),w=document.querySelector("[data-item-table-body]"),x=document.querySelector("[data-collection-title]"),N=document.querySelector("[data-collection-description]"),F=document.querySelector("[data-collection-drawer]"),u=document.querySelector("[data-collection-drawer-backdrop]"),V=document.querySelectorAll("[data-collection-drawer-open]"),J=document.querySelectorAll("[data-collection-drawer-close]"),j=document.querySelector("[data-item-add]"),q=document.querySelector("[data-item-detail-empty]"),S=document.querySelector("[data-item-form]"),d=S?{title:S.querySelector('[name="item-title"]'),slug:S.querySelector('[name="item-slug"]'),excerpt:S.querySelector('[name="item-excerpt"]'),content:S.querySelector('[name="item-content"]'),image:S.querySelector('[name="item-image"]'),status:S.querySelector('[name="item-status"]')}:{},P=document.querySelector("[data-item-status-badge]"),z=document.querySelector("[data-item-delete]"),I=document.querySelector("[data-item-delete-modal]"),W=document.querySelector("[data-item-delete-cancel]"),$=document.querySelector("[data-item-delete-confirm]"),Q=document.querySelector("[data-item-cancel]"),O=document.querySelector("[data-item-save]"),M="rounded-full px-3 py-1 text-xs font-semibold",f=ke((G==null?void 0:G.slugValue)||Y.slug||""),U=f?`/api/sites/${encodeURIComponent(f)}/collections`:null,L=[],p=[],y=null,A=null,l=!1,c=!1,C=null,K=()=>{F&&(F.classList.add("is-open"),F.style.transform="translateX(0)",u==null||u.classList.remove("hidden"),document.body.classList.add("overflow-hidden"))},ee=()=>{F&&(F.classList.remove("is-open"),F.style.transform="",u==null||u.classList.add("hidden"),document.body.classList.remove("overflow-hidden"))};V.forEach(o=>{o.addEventListener("click",K)}),J.forEach(o=>{o.addEventListener("click",ee)}),u==null||u.addEventListener("click",ee);let oe=o=>{let g=(o||"").trim();if(!g)return"";if(g==="/")return"/";let R=g.replace(/^\//,"").split("/").map(ne=>_e(ne||"")).filter(ne=>ne.length>0);return R.length?`/${R.join("/")}`:""},te=o=>{if(!o)return"\u2014";let g=new Date(o);return Number.isNaN(g.getTime())?"\u2014":g.toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric"})},he=()=>{let o=L.find(g=>g.id===y);x&&(x.textContent=(o==null?void 0:o.name)||"S\xE9lectionnez une collection"),N&&(N.textContent=(o==null?void 0:o.description)||"")},Ie=o=>{b&&(b.textContent=o||(y?"Aucun item dans cette collection pour le moment.":"Choisissez une collection dans le panneau de gauche."))},ye=()=>{S&&(S.classList.add("hidden"),S.dataset.itemId=""),q==null||q.classList.remove("hidden"),P&&(P.className=`hidden ${M}`,P.textContent=""),z&&(z.disabled=!0)},Se=()=>{S&&(S.classList.remove("hidden"),q==null||q.classList.add("hidden"))},Te=()=>{j&&(j.disabled=!y,j.disabled?j.classList.add("opacity-60","pointer-events-none"):j.classList.remove("opacity-60","pointer-events-none"))},Z=o=>{if(!P)return;if(!o){P.className=`hidden ${M}`,P.textContent="";return}let g=o.toLowerCase(),B="bg-slate-100 text-slate-600 border border-slate-200";g==="publi\xE9"||g==="publie"?B="bg-emerald-50 text-emerald-700 border border-emerald-100":g==="brouillon"&&(B="bg-amber-50 text-amber-700 border border-amber-100"),P.className=`${M} ${B}`,P.textContent=o},Pe=()=>{if(n.innerHTML="",!L.length){i==null||i.classList.remove("hidden");return}i==null||i.classList.add("hidden"),L.forEach(o=>{let g=o.id===y,B=document.createElement("button");B.type="button",B.dataset.collectionId=o.id,B.className=["w-full rounded-xl border px-3 py-2 text-left transition focus:outline-none focus:ring-2 focus:ring-[#9C6BFF]/40",g?"bg-[#F7F0FF] border-[#9C6BFF]/40 text-slate-900":"border-slate-200 text-slate-700 hover:border-[#9C6BFF]/40"].join(" "),B.setAttribute("role","option"),g?B.setAttribute("aria-current","true"):B.removeAttribute("aria-current"),B.innerHTML=`
          <div class="flex items-center justify-between gap-2">
            <div>
              <p class="text-sm font-semibold">${o.name||o.id}</p>
              <p class="text-xs text-slate-500">${o.description||""}</p>
            </div>
            <span class="text-[11px] uppercase tracking-wide text-slate-400">${o.type||""}</span>
          </div>
        `,B.addEventListener("click",()=>{pe(o.id),window.matchMedia("(min-width: 1024px)").matches||ee()}),n.appendChild(B)})},se=()=>{if(w){if(w.innerHTML="",!p.length||!y){b==null||b.classList.remove("hidden"),Ie(),h==null||h.classList.add("hidden");return}b==null||b.classList.add("hidden"),h==null||h.classList.remove("hidden"),p.forEach(o=>{let g=document.createElement("tr");g.dataset.itemId=o.id;let B=o.id===A&&!l;g.className=["cursor-pointer transition focus-within:bg-[#F7F0FF]/70 focus:outline-none",B?"bg-[#F7F0FF]/70":"hover:bg-slate-50"].join(" "),g.tabIndex=0,g.setAttribute("role","button"),B?g.setAttribute("aria-current","true"):g.removeAttribute("aria-current");let R=o.status||"Brouillon",ne=R.toLowerCase(),Ke=ne==="publi\xE9"||ne==="publie"?"bg-emerald-50 text-emerald-700 border border-emerald-100":"bg-amber-50 text-amber-700 border border-amber-100";g.innerHTML=`
          <td class="px-4 py-3 align-top">
            <div class="flex flex-col">
              <span class="text-sm font-semibold text-slate-900">${o.title||"Sans titre"}</span>
              <span class="text-xs text-slate-500">${o.summary||o.excerpt||""}</span>
            </div>
          </td>
          <td class="px-4 py-3 align-top text-sm text-slate-600">${o.slug||""}</td>
          <td class="px-4 py-3 align-top">
            <span class="inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold ${Ke}">
              ${R}
            </span>
          </td>
          <td class="px-4 py-3 align-top text-sm text-slate-500">${te(o.updatedAt||o.createdAt)}</td>
        `;let Re=()=>{je(o.id)};g.addEventListener("click",Re),g.addEventListener("keydown",Fe=>{(Fe.key==="Enter"||Fe.key===" ")&&(Fe.preventDefault(),Re())}),w.appendChild(g)})}},je=o=>{let g=p.find(B=>B.id===o);g&&(A=g.id,l=!1,c=!0,Me(g),se())},Me=o=>{if(!S||!o){ye();return}Se(),S.dataset.itemId=o.id,d.title&&(d.title.value=o.title||""),d.slug&&(d.slug.value=o.slug||""),d.excerpt&&(d.excerpt.value=o.summary||o.excerpt||""),d.content&&(d.content.value=o.content||""),d.image&&(d.image.value=o.image||""),d.status&&(d.status.value=o.status||"Brouillon"),Z(o.status||"Brouillon"),z&&(z.disabled=!1)},ve=()=>{var o;S&&(l=!0,A=null,c=!1,S.dataset.itemId="",S.reset(),d.status&&(d.status.value="Brouillon"),d.slug&&(d.slug.value=""),Z("Brouillon"),Se(),z&&(z.disabled=!0),(o=d.title)==null||o.focus())},ae=()=>{var Re,Fe,Xe,Ve,jt,gt;let o=(((Re=d.title)==null?void 0:Re.value)||"").trim(),g=(((Fe=d.slug)==null?void 0:Fe.value)||"").trim(),B=(((Xe=d.excerpt)==null?void 0:Xe.value)||"").trim(),R=(((Ve=d.content)==null?void 0:Ve.value)||"").trim(),ne=(((jt=d.image)==null?void 0:jt.value)||"").trim(),Ke=((gt=d.status)==null?void 0:gt.value)||"Brouillon";return{title:o,slug:oe(g||o),summary:B,excerpt:B,content:R,image:ne,status:Ke}},ze=o=>{O&&(O.disabled=o,O.textContent=o?"Enregistrement\u2026":"Enregistrer"),z&&!l&&A&&(z.disabled=o)},$e=async o=>{if(!U)return[];let g=await fetch(`${U}/${encodeURIComponent(o)}/items`,{headers:{Accept:"application/json"}});if(!g.ok){let R=await g.json().catch(()=>({}));throw new Error(R.message||"Impossible de charger les items.")}let B=await g.json().catch(()=>({}));return Array.isArray(B.items)?B.items:[]},pe=async o=>{if(o&&(y=o,A=null,l=!1,c=!1,he(),Te(),Pe(),ye(),p=[],se(),Ie("Chargement des items\u2026"),b==null||b.classList.remove("hidden"),h==null||h.classList.add("hidden"),!!U))try{p=await $e(o),se(),p.length||Ie()}catch(g){console.error("[content] items failed",g),H(g.message||"Impossible de charger les items."),p=[],se()}},re=async(o,g)=>{if(!U)throw new Error("Site inconnu.");let B=await fetch(`${U}/${encodeURIComponent(o)}/items`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)});if(!B.ok){let R=await B.json().catch(()=>({}));throw new Error(R.message||"Impossible de cr\xE9er cet item.")}return B.json()},r=async(o,g,B)=>{if(!U)throw new Error("Site inconnu.");let R=await fetch(`${U}/${encodeURIComponent(o)}/items/${encodeURIComponent(g)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(B)});if(!R.ok){let ne=await R.json().catch(()=>({}));throw new Error(ne.message||"Impossible de sauvegarder cet item.")}return R.json()},m=async(o,g)=>{if(!U)throw new Error("Site inconnu.");let B=await fetch(`${U}/${encodeURIComponent(o)}/items/${encodeURIComponent(g)}`,{method:"DELETE"});if(!B.ok){let R=await B.json().catch(()=>({}));throw new Error(R.message||"Impossible de supprimer cet item.")}},D=async()=>{var o;if(!U){i==null||i.classList.remove("hidden"),y=null,p=[],se(),he(),Te();return}try{let g=await fetch(U,{headers:{Accept:"application/json"}});if(!g.ok)throw new Error("Impossible de charger les collections.");let B=await g.json().catch(()=>[]);if(L=Array.isArray(B)?B:[],Pe(),L.length>0){let R=((o=L.find(ne=>ne.id===y))==null?void 0:o.id)||L[0].id;pe(R)}else y=null,p=[],he(),Te(),se()}catch(g){console.error("[content] load collections",g),H(g.message||"Impossible de charger les collections.")}};j==null||j.addEventListener("click",()=>{if(!y){H("S\xE9lectionnez d\u2019abord une collection.");return}ve(),se()}),Q==null||Q.addEventListener("click",o=>{if(o.preventDefault(),l){l=!1,A=null,ye(),se();return}if(A){let g=p.find(B=>B.id===A);Me(g)}else ye()}),(Oe=d.status)==null||Oe.addEventListener("change",()=>{Z(d.status.value)}),(ft=d.title)==null||ft.addEventListener("input",()=>{!l||!d.slug||c||(d.slug.value=oe(d.title.value))}),(De=d.slug)==null||De.addEventListener("input",()=>{l&&(c=!0)}),S==null||S.addEventListener("submit",async o=>{var B;if(o.preventDefault(),!y){H("S\xE9lectionnez une collection.");return}let g=ae();if(!g.title){H("Le titre est requis."),(B=d.title)==null||B.focus();return}ze(!0);try{let R;l||!A?(R=await re(y,g),p=[...p,R],H("Item cr\xE9\xE9")):(R=await r(y,A,g),p=p.map(ne=>ne.id===R.id?R:ne),H("Item mis \xE0 jour")),l=!1,A=R.id,Me(R),se()}catch(R){console.error("[content] save item failed",R),H(R.message||"Impossible de sauvegarder cet item.")}finally{ze(!1)}});let E=()=>{I&&(I.classList.add("hidden"),I.classList.remove("flex"),C=null)},fe=()=>{!I||!A||(C=A,I.classList.remove("hidden"),I.classList.add("flex"))};z==null||z.addEventListener("click",o=>{o.preventDefault(),A&&fe()}),W==null||W.addEventListener("click",()=>{E()}),I==null||I.addEventListener("click",o=>{o.target===I&&E()}),$==null||$.addEventListener("click",async()=>{if(!C||!y){E();return}$.disabled=!0,$.textContent="Suppression\u2026";try{await m(y,C),p=p.filter(o=>o.id!==C),A===C&&(A=null,ye()),H("Item supprim\xE9"),se()}catch(o){console.error("[content] delete item failed",o),H(o.message||"Impossible de supprimer cet item.")}finally{$.disabled=!1,$.textContent="Supprimer",E()}}),he(),Te(),D()}function qs(){let n=document.querySelector("[data-deploy-form]");if(!n)return;let i=document.querySelector("[data-deploy-protocol]"),b=document.querySelector("[data-deploy-host]"),h=document.querySelector("[data-deploy-port]"),w=document.querySelector("[data-deploy-user]"),x=document.querySelector("[data-deploy-password]"),N=document.querySelector("[data-deploy-show-password]"),F=document.querySelector("[data-deploy-remote-path]"),u=document.querySelector("[data-deploy-feedback]"),V=document.querySelector("[data-deploy-save]"),J=document.querySelector("[data-deploy-test]"),j=document.querySelector("[data-deploy-trigger]"),q=document.querySelector("[data-deploy-history]"),S=document.querySelector("[data-deploy-log]"),d=ke((G==null?void 0:G.slugValue)||Y.slug||""),P=d?`/api/sites/${encodeURIComponent(d)}/deploy-config`:null,z=d?`/api/sites/${encodeURIComponent(d)}/deploy`:null,I=d?`/api/sites/${encodeURIComponent(d)}/deploy-log`:null,W=!1,$=null,Q=l=>{let c=(l||"").trim();return c?c.startsWith("/")?c:`/${c}`:"/www"},O=(l,c="muted")=>{if(!u)return;let C="inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold",K=c==="success"?"bg-emerald-50 text-emerald-700 border border-emerald-100":c==="error"?"bg-rose-50 text-rose-700 border border-rose-100":"bg-slate-50 text-slate-600 border border-slate-100";if(!l){u.textContent="",u.className="text-sm text-slate-500";return}let ee=c==="success"?"\u2705":c==="error"?"\u274C":"\u2139\uFE0F";u.innerHTML=`<span class="${C} ${K}">${ee}<span>${l}</span></span>`,u.className="text-sm"},M=(l=null)=>{$=l;let c=!!l,C='<svg class="h-4 w-4 animate-spin text-white" viewBox="0 0 24 24" fill="none" aria-hidden="true"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"></path></svg>';V&&(V.disabled=c,V.innerHTML=l==="save"?`<span class="inline-flex items-center gap-2">${C}<span>Enregistrement\u2026</span></span>`:"Enregistrer"),J&&(J.disabled=c,J.innerHTML=l==="test"?'<span class="inline-flex items-center gap-2"><span class="h-4 w-4 animate-spin rounded-full border-2 border-slate-200 border-t-slate-600"></span><span>Test en cours\u2026</span></span>':"Tester la connexion"),j&&(j.disabled=c&&l!==null,j.innerHTML=l==="deploy"?'<span class="inline-flex items-center gap-2"><span class="h-4 w-4 animate-spin rounded-full border-2 border-white/60 border-t-white"></span><span>D\xE9ploiement\u2026</span></span>':"D\xE9ployer maintenant")},f=l=>{i&&(i.value=l.protocol||"sftp"),b&&(b.value=l.host||""),h&&(h.value=l.port||""),w&&(w.value=l.user||""),F&&(F.value=l.remotePath||"/www"),W=!!l.hasPassword,x&&(x.value="",x.placeholder=W?"Non affich\xE9":"Mot de passe")},U=(l=[])=>{if(q){if(q.innerHTML="",!l.length){let c=document.createElement("li");c.className="text-slate-500",c.textContent="Aucun d\xE9ploiement pour le moment.",q.appendChild(c);return}l.forEach(c=>{let C=document.createElement("li");C.className="flex items-center justify-between gap-2 rounded-xl border border-slate-200 px-3 py-2";let K=c.status==="success"?'<span class="rounded-full bg-emerald-50 px-2 py-0.5 text-[11px] font-semibold text-emerald-700">Succ\xE8s</span>':'<span class="rounded-full bg-rose-50 px-2 py-0.5 text-[11px] font-semibold text-rose-700">\xC9chec</span>',ee=c.finishedAt||c.startedAt||"",oe=c.durationMs&&Number(c.durationMs)>=0?`${Math.round(Number(c.durationMs)/1e3)}s`:"";C.innerHTML=`
          <div class="space-y-1">
            <div class="flex items-center gap-2">${K}<span class="text-xs text-slate-500">${ee}</span></div>
            <p class="text-sm text-slate-800">${c.message||""}</p>
          </div>
          <div class="text-xs text-slate-500">${oe}</div>
        `,C.dataset.deployId=c.id||"",C.addEventListener("click",()=>{c.logs&&S&&(S.textContent=c.logs.join(`
`))}),q.appendChild(C)})}},L=(l=[])=>{S&&(S.textContent=l.length?l.join(`
`):"Aucun log pour le moment.")},p=async()=>{var l;if(I)try{let c=await fetch(I,{headers:{Accept:"application/json"}});if(!c.ok){if(c.status===404){U([]),L(["API d\xE9ploiement indisponible (red\xE9marre le serveur)."]);return}throw new Error("Impossible de charger l\u2019historique.")}let C=await c.json().catch(()=>({})),K=Array.isArray(C.entries)?C.entries:[];U(K),(l=K[0])!=null&&l.logs&&L(K[0].logs)}catch(c){console.error("[deploy] history failed",c)}},y=async()=>{if(!P){O("Aucun site actif s\xE9lectionn\xE9.","error");return}M("load");try{let l=await fetch(P,{headers:{Accept:"application/json"}}),c=await l.json().catch(()=>({}));l.ok?(f(c||{}),O("Configuration charg\xE9e.","muted")):(f(c||{}),O(c.message||"Configuration par d\xE9faut charg\xE9e.","muted"))}catch(l){console.error("[deploy] load failed",l),O(l.message||"Erreur lors du chargement.","error")}finally{M(null)}},A=()=>{let l={protocol:(i==null?void 0:i.value)||"sftp",host:(b==null?void 0:b.value.trim())||"",port:Number(h==null?void 0:h.value)||void 0,user:(w==null?void 0:w.value.trim())||"",remotePath:Q((F==null?void 0:F.value)||"/www")},c=(x==null?void 0:x.value)||"";return c.trim().length>0&&(l.password=c),l};n.addEventListener("submit",async l=>{if(l.preventDefault(),!P){O("Aucun site actif s\xE9lectionn\xE9.","error");return}let c=A();M("save");try{let C=await fetch(P,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});if(!C.ok){let ee=await C.json().catch(()=>({}));throw new Error(ee.message||"Sauvegarde impossible.")}let K=await C.json();f(K||{}),O("Configuration enregistr\xE9e.","success"),H("Configuration d\xE9ploiement sauvegard\xE9e")}catch(C){console.error("[deploy] save failed",C),O(C.message||"Erreur lors de la sauvegarde.","error")}finally{M(null)}}),J==null||J.addEventListener("click",async()=>{if(!P){O("Aucun site actif s\xE9lectionn\xE9.","error");return}let l=A();if(!l.host||!l.user||!l.remotePath){O("Remplissez les champs requis avant de tester.","error");return}M("test");try{let c=await fetch(`${P}/test`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}),C=await c.json().catch(()=>({}));if(!c.ok||C.success===!1){O(C.message||"Test de connexion \xE9chou\xE9.","error");return}O(C.message||"Connexion OK.","success"),H("Test de connexion r\xE9ussi")}catch(c){console.error("[deploy] test failed",c),O(c.message||"Test de connexion \xE9chou\xE9.","error")}finally{M(null)}}),j==null||j.addEventListener("click",async()=>{if(!z){O("Aucun site actif s\xE9lectionn\xE9.","error");return}M("deploy"),L(["D\xE9ploiement en cours\u2026"]);try{let l=await fetch(z,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(A())}),c=await l.json().catch(()=>({}));if(!l.ok){if(l.status===404){O("API d\xE9ploiement indisponible (red\xE9marre le serveur).","error"),L(["API d\xE9ploiement indisponible (red\xE9marre le serveur)."]);return}throw L(c.logs||[]),new Error(c.message||"D\xE9ploiement \xE9chou\xE9.")}L(c.logs||[]),await p(),H("D\xE9ploiement termin\xE9")}catch(l){console.error("[deploy] run failed",l),O(l.message||"D\xE9ploiement \xE9chou\xE9.","error")}finally{M(null)}}),N==null||N.addEventListener("change",()=>{x&&(x.type=N.checked?"text":"password")}),y(),p()}function ks(){let n=document.querySelector("[data-admin-password-form]"),i=document.querySelector("[data-site-config-form]"),b=document.querySelector("[data-site-config-feedback]");if(n){let h=n.querySelector("[data-admin-password-feedback]"),w=n.querySelector("[data-admin-password-submit]"),x=(N,F="muted")=>{if(!h)return;let u=F==="success"?"text-emerald-600":F==="error"?"text-rose-600":"text-slate-500";h.textContent=N||"",h.className=`text-sm ${u}`};n.addEventListener("submit",async N=>{N.preventDefault();let F=new FormData(n),u=F.get("currentPassword")||"",V=F.get("newPassword")||"",J=F.get("confirmPassword")||"";if(!u||!V||!J){x("Compl\xE8te tous les champs.","error");return}w&&(w.disabled=!0),x("");try{let j=await fetch("/api/admin/password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentPassword:u,newPassword:V,confirmPassword:J})}),q=await j.json().catch(()=>({}));if(!j.ok||q.success===!1)throw new Error(q.message||"Impossible de mettre \xE0 jour le mot de passe.");x(q.message||"Mot de passe mis \xE0 jour.","success"),n.reset()}catch(j){console.error("[settings] change password failed",j),x(j.message||"Erreur lors de la mise \xE0 jour.","error")}finally{w&&(w.disabled=!1)}})}if(i){let h=i.querySelector("[data-site-name]"),w=i.querySelector("[data-site-language]"),x=i.querySelector("[data-site-tagline]"),N=i.querySelector("[data-site-save]"),F=(p,y="muted")=>{if(!b)return;let A=y==="success"?"text-emerald-600":y==="error"?"text-rose-600":"text-slate-500";b.textContent=p||"",b.className=`text-sm ${A}`},u=ke((G==null?void 0:G.slugValue)||Y.slug||""),V=u?`/api/sites/${encodeURIComponent(u)}/config/site`:null,J=u?`/api/sites/${encodeURIComponent(u)}/config/theme`:null,j=async()=>{if(V)try{let p=await fetch(V,{headers:{Accept:"application/json"}});if(!p.ok)return;let y=await p.json().catch(()=>({}));h&&(h.value=y.name||""),w&&(w.value=y.language||"fr"),x&&(x.value=y.tagline||"")}catch(p){console.error("[settings] load site config failed",p)}};i.addEventListener("submit",async p=>{if(p.preventDefault(),!V){F("Aucun site actif.","error");return}if(!(h!=null&&h.value.trim())){F("Nom requis.","error");return}N&&(N.disabled=!0),F("");try{let y={name:(h==null?void 0:h.value)||"",language:(w==null?void 0:w.value)||"fr",tagline:(x==null?void 0:x.value)||""},A=await fetch(V,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)}),l=await A.json().catch(()=>({}));if(!A.ok||l.success===!1)throw new Error(l.message||"Sauvegarde impossible.");F(l.message||"Param\xE8tres enregistr\xE9s.","success")}catch(y){console.error("[settings] save site config failed",y),F(y.message||"Erreur lors de la sauvegarde.","error")}finally{N&&(N.disabled=!1)}}),j();let q={primary:i.querySelector("[data-theme-primary]"),secondary:i.querySelector("[data-theme-secondary]"),accent:i.querySelector("[data-theme-accent]")},S={primary:i.querySelector("[data-theme-primary-hex]"),secondary:i.querySelector("[data-theme-secondary-hex]"),accent:i.querySelector("[data-theme-accent-hex]")},d=i.querySelector("[data-theme-headings]"),P=i.querySelector("[data-theme-body]"),z=i.querySelector("[data-theme-radius-small]"),I=i.querySelector("[data-theme-radius-medium]"),W=i.querySelector("[data-theme-radius-large]"),$=i.querySelector("[data-theme-preview]"),Q=i.querySelector("[data-theme-feedback]"),O=i.querySelector("[data-theme-apply]"),M=(p,y="muted")=>{if(!Q)return;let A=y==="success"?"text-emerald-600":y==="error"?"text-rose-600":"text-slate-500";Q.textContent=p||"",Q.className=`text-sm ${A}`},f=()=>{var y,A,l;if(!$)return;let p={primary:((y=S.primary)==null?void 0:y.value)||"#9C6BFF",secondary:((A=S.secondary)==null?void 0:A.value)||"#0EA5E9",accent:((l=S.accent)==null?void 0:l.value)||"#F97316"};$.style.setProperty("--color-primary",p.primary),$.style.setProperty("--color-secondary",p.secondary),$.style.setProperty("--color-accent",p.accent),$.style.setProperty("--font-headings",(d==null?void 0:d.value)||"Inter, sans-serif"),$.style.setProperty("--font-body",(P==null?void 0:P.value)||"Inter, sans-serif"),$.style.setProperty("--radius-small",(z==null?void 0:z.value)||"8px"),$.style.setProperty("--radius-medium",(I==null?void 0:I.value)||"16px"),$.style.setProperty("--radius-large",(W==null?void 0:W.value)||"24px"),$.style.borderRadius=(I==null?void 0:I.value)||"16px"},U=(p,y)=>{q[p]&&(q[p].value=y),S[p]&&(S[p].value=y)};Object.keys(q).forEach(p=>{var y,A;(y=q[p])==null||y.addEventListener("input",()=>{let l=q[p].value;S[p]&&(S[p].value=l),f()}),(A=S[p])==null||A.addEventListener("input",()=>{let l=S[p].value;q[p]&&(q[p].value=l),f()})}),[d,P,z,I,W].forEach(p=>{p==null||p.addEventListener("change",f)});let L=async()=>{var p,y,A,l,c,C,K,ee;if(J)try{let oe=await fetch(J,{headers:{Accept:"application/json"}});if(!oe.ok)return;let te=await oe.json().catch(()=>({}));U("primary",((p=te.colors)==null?void 0:p.primary)||"#9C6BFF"),U("secondary",((y=te.colors)==null?void 0:y.secondary)||"#0EA5E9"),U("accent",((A=te.colors)==null?void 0:A.accent)||"#F97316"),d&&(d.value=((l=te.typography)==null?void 0:l.headings)||"Inter, sans-serif"),P&&(P.value=((c=te.typography)==null?void 0:c.body)||"Inter, sans-serif"),z&&(z.value=((C=te.radius)==null?void 0:C.small)||"8px"),I&&(I.value=((K=te.radius)==null?void 0:K.medium)||"16px"),W&&(W.value=((ee=te.radius)==null?void 0:ee.large)||"24px"),f()}catch(oe){console.error("[settings] load theme failed",oe)}};i.addEventListener("submit",async p=>{}),O==null||O.addEventListener("click",async p=>{var A,l,c;if(p.preventDefault(),!J){M("Aucun site actif.","error");return}let y={colors:{primary:((A=S.primary)==null?void 0:A.value)||"#9C6BFF",secondary:((l=S.secondary)==null?void 0:l.value)||"#0EA5E9",accent:((c=S.accent)==null?void 0:c.value)||"#F97316"},typography:{headings:(d==null?void 0:d.value)||"Inter, sans-serif",body:(P==null?void 0:P.value)||"Inter, sans-serif"},radius:{small:(z==null?void 0:z.value)||"8px",medium:(I==null?void 0:I.value)||"16px",large:(W==null?void 0:W.value)||"24px"}};O.disabled=!0,M("");try{let C=await fetch(J,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)}),K=await C.json().catch(()=>({}));if(!C.ok||K.success===!1)throw new Error(K.message||"Application du th\xE8me \xE9chou\xE9e.");M(K.message||"Th\xE8me appliqu\xE9.","success"),f()}catch(C){console.error("[settings] apply theme failed",C),M(C.message||"Erreur lors de l\u2019application du th\xE8me.","error")}finally{O.disabled=!1}}),L(),f()}}function Is(){let n=document.querySelector("[data-media-grid]");if(!n)return;let i=document.querySelector("[data-media-empty]"),b=document.querySelector("[data-media-count]"),h=document.querySelector("[data-media-filter-type]"),w=document.querySelector("[data-media-detail-empty]"),x=document.querySelector("[data-media-detail]"),N=document.querySelector("[data-media-detail-preview]"),F=document.querySelector("[data-media-detail-name]"),u=document.querySelector("[data-media-detail-type]"),V=document.querySelector("[data-media-detail-size]"),J=document.querySelector("[data-media-detail-path]"),j=document.querySelector("[data-media-detail-used]"),q=document.querySelector("[data-media-alt-edit]"),S=document.querySelector("[data-media-save]"),d=document.querySelector("[data-media-delete]"),P=document.querySelector("[data-media-delete-modal]"),z=document.querySelector("[data-media-delete-cancel]"),I=document.querySelector("[data-media-delete-confirm]"),W=document.querySelector("[data-media-upload-open]"),$=document.querySelector("[data-media-file-input]"),Q=document.querySelector("[data-media-upload-status]"),O=ke((G==null?void 0:G.slugValue)||Y.slug||""),M=O?`/api/sites/${encodeURIComponent(O)}/media`:null,f=[],U=[],L=null,p=null,y=null,A=!1,l=!1,c=!1,C=null,K=r=>{let m=(r.type||"").toLowerCase(),D=(r.filename||"").toLowerCase();return m.includes("image")||/\.(png|jpe?g|webp|svg|gif)$/i.test(D)?"image":m.includes("pdf")||m.includes("doc")||/\.(pdf|docx?)$/i.test(D)?"document":m.includes("video")||/\.(mp4|mov|webm)$/i.test(D)?"video":"other"},ee=r=>K(r)==="image",oe=r=>{if(r.type)return r.type.toUpperCase();let m=(r.filename||"").split(".").pop();return m?m.toUpperCase():"FILE"},te=r=>!r||r<=0?"\u2014":r<1024?`${r} o`:r<1024*1024?`${(r/1024).toFixed(1)} ko`:`${(r/(1024*1024)).toFixed(1)} Mo`,he=()=>{x==null||x.classList.add("hidden"),w==null||w.classList.remove("hidden"),Ie(),L=null,l=!1,Z(!1),N&&(N.innerHTML='<span class="text-slate-400 text-sm">Aucun m\xE9dia s\xE9lectionn\xE9</span>'),F&&(F.textContent=""),u&&(u.textContent=""),V&&(V.textContent=""),q&&(q.value=""),J&&(J.textContent=""),j&&(j.innerHTML="")},Ie=()=>{y=null,c=!1,A=!1,C&&(URL.revokeObjectURL(C),C=null),Q&&(Q.textContent="Aucun fichier s\xE9lectionn\xE9."),$&&($.value="")},ye=()=>{b&&(U.length?U.length===1?b.textContent="1 m\xE9dia":b.textContent=`${U.length} m\xE9dias`:b.textContent="0 m\xE9dia")},Se=()=>{if(n.innerHTML="",!U.length){i==null||i.classList.remove("hidden"),he();return}i==null||i.classList.add("hidden"),U.forEach(r=>{let m=document.createElement("button");m.type="button",m.dataset.mediaId=r.id;let D=r.id===L;m.className=["group relative flex flex-col rounded-2xl border px-3 py-3 text-left transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[#9C6BFF]",D?"border-[#9C6BFF] bg-[#F7F0FF]/60 shadow-sm":"border-slate-200 hover:border-[#9C6BFF]/40"].join(" ");let E=ee(r)?`<img src="${r.path}" alt="${r.alt||r.filename}" class="h-full w-full object-cover" />`:'<div class="flex h-full w-full items-center justify-center text-3xl text-slate-400">\u{1F4C4}</div>';m.innerHTML=`
          <div class="relative aspect-[4/3] overflow-hidden rounded-xl bg-slate-100">
            ${E}
          </div>
          <div class="mt-2 space-y-1">
            <p class="text-sm font-semibold text-slate-900 truncate">${r.filename}</p>
            <p class="text-xs text-slate-500">
              ${oe(r)} \xB7 ${te(r.size)}
            </p>
          </div>
        `,r.id===p&&(m.classList.add("ring-2","ring-[#9C6BFF]"),window.setTimeout(()=>{m.classList.remove("ring-2","ring-[#9C6BFF]")},1600)),m.addEventListener("click",()=>Pe(r.id)),n.appendChild(m)}),p=null},Te=r=>{if(j){if(j.innerHTML="",!r.usedIn||r.usedIn.length===0){let m=document.createElement("li");m.textContent="Non utilis\xE9",m.className="text-xs text-slate-400",j.appendChild(m);return}r.usedIn.forEach(m=>{let D=document.createElement("li");D.textContent=m,D.className="text-xs text-slate-600",j.appendChild(D)})}},Z=r=>{if(S){if(c){S.textContent=r?"T\xE9l\xE9versement\u2026":"T\xE9l\xE9verser",S.disabled=r||!y,d&&d.classList.add("hidden");return}S.textContent=r?"Enregistrement\u2026":"Enregistrer",S.disabled=r||!l,d&&(d.classList.remove("hidden"),d.disabled=!L)}},Pe=r=>{let m=f.find(D=>D.id===r);if(!m){he(),Se();return}Ie(),L=m.id,l=!1,Z(!1),Se(),w==null||w.classList.add("hidden"),x==null||x.classList.remove("hidden"),N&&(ee(m)?N.innerHTML=`<img src="${m.path}" alt="${m.alt||m.filename}" class="h-full w-full rounded-2xl object-cover" />`:N.innerHTML='<div class="flex h-full w-full flex-col items-center justify-center gap-1 text-slate-400"><span class="text-3xl">\u{1F4C4}</span><span class="text-xs font-semibold">Document</span></div>'),F&&(F.textContent=m.filename||"Fichier"),u&&(u.textContent=oe(m)),V&&(V.textContent=te(m.size)),q&&(q.value=m.alt||""),J&&(J.textContent=m.path||"\u2014"),Te(m)},se=r=>{if(r){if(c=!0,l=!1,L=null,w==null||w.classList.add("hidden"),x==null||x.classList.remove("hidden"),C&&URL.revokeObjectURL(C),C=URL.createObjectURL(r),N&&(N.innerHTML=`<img src="${C}" alt="${r.name}" class="h-full w-full rounded-2xl object-cover" />`),F&&(F.textContent=r.name),u&&(u.textContent=oe({type:r.type,filename:r.name})),V&&(V.textContent=te(r.size)),q&&!q.value.trim()&&(q.value=r.name.replace(/\.[^.]+$/,"").replace(/[-_]/g," ")),J&&(J.textContent="En attente de t\xE9l\xE9versement"),j){j.innerHTML="";let m=document.createElement("li");m.textContent="Non utilis\xE9",m.className="text-xs text-slate-400",j.appendChild(m)}Z(!1)}},je=()=>{let r=(h==null?void 0:h.value)||"all";r==="all"?U=[...f]:U=f.filter(m=>m.groupType===r),U.some(m=>m.id===L)||he(),ye(),Se()},Me=async()=>{if(!M){i==null||i.classList.remove("hidden");return}try{let r=await fetch(M,{headers:{Accept:"application/json"}});if(!r.ok)throw new Error("Impossible de charger les m\xE9dias.");let m=await r.json().catch(()=>({items:[]}));f=Array.isArray(m.items)?m.items.map(D=>({...D,groupType:K(D)})):[],je()}catch(r){console.error("[media] load failed",r),H(r.message||"Impossible de charger les m\xE9dias."),f=[],je()}};h==null||h.addEventListener("change",()=>{je()}),q==null||q.addEventListener("input",()=>{if(c){Z(!1);return}L&&(l=!0,Z(!1))});let ve=r=>{if(r){if(!r.type.startsWith("image/")){H("Seules les images sont accept\xE9es pour le moment.");return}if(r.size>4*1024*1024){H("Fichier trop volumineux (4 Mo max).");return}y=r,se(r),Q&&(Q.textContent=`${r.name} \xB7 ${te(r.size)}`)}},ae=r=>new Promise((m,D)=>{let E=new FileReader;E.onload=()=>{let fe=E.result||"",[,Oe=""]=String(fe).split(",");m(Oe)},E.onerror=()=>D(new Error("Impossible de lire ce fichier.")),E.readAsDataURL(r)}),ze=async()=>{if(!(!y||!M)){A=!0,Z(!0);try{let r=await ae(y),m={filename:y.name,type:y.type,size:y.size,alt:(q==null?void 0:q.value)||"",data:r},D=await fetch(M,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)});if(!D.ok){let fe=await D.json().catch(()=>({}));throw new Error(fe.message||"Upload impossible.")}let E=await D.json();E.groupType=K(E),f=[...f,E],p=E.id,je(),Pe(E.id),H("M\xE9dia ajout\xE9"),Ie()}catch(r){console.error("[media] upload failed",r),H(r.message||"Impossible de t\xE9l\xE9verser ce m\xE9dia.")}finally{A=!1,y=null,Z(!1)}}};W==null||W.addEventListener("click",()=>$==null?void 0:$.click()),$==null||$.addEventListener("change",()=>{$.files&&$.files[0]&&ve($.files[0])});let $e=()=>{P&&(P.classList.add("hidden"),P.classList.remove("flex"))},pe=()=>{if(!(!L||c)){if(P){P.classList.remove("hidden"),P.classList.add("flex");return}window.confirm("Supprimer ce m\xE9dia ?")&&re()}},re=async()=>{if(!L||!M){$e();return}let r=()=>{d&&(d.disabled=!0),I&&(I.disabled=!0,I.textContent="Suppression\u2026")},m=()=>{d&&(d.disabled=!1),I&&(I.disabled=!1,I.textContent="Supprimer")};r();try{let D=await fetch(`${M}/${encodeURIComponent(L)}`,{method:"DELETE"});if(!D.ok){let E=await D.json().catch(()=>({}));throw new Error(E.message||"Suppression impossible.")}f=f.filter(E=>E.id!==L),U=U.filter(E=>E.id!==L),H("M\xE9dia supprim\xE9"),he(),ye(),Se()}catch(D){console.error("[media] delete failed",D),H(D.message||"Impossible de supprimer ce m\xE9dia.")}finally{m(),$e()}};z==null||z.addEventListener("click",$e),P==null||P.addEventListener("click",r=>{r.target===P&&$e()}),I==null||I.addEventListener("click",()=>re()),d==null||d.addEventListener("click",pe),S==null||S.addEventListener("click",async()=>{if(c){ze();return}if(!(!L||!M||!q)){Z(!0);try{let r={alt:q.value||""},m=await fetch(`${M}/${encodeURIComponent(L)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!m.ok){let E=await m.json().catch(()=>({}));throw new Error(E.message||"Impossible de mettre \xE0 jour ce m\xE9dia.")}let D=await m.json();f=f.map(E=>E.id===L?{...E,...D}:E),U=U.map(E=>E.id===L?{...E,...D}:E),l=!1,Z(!1),H("M\xE9dia mis \xE0 jour")}catch(r){console.error("[media] update failed",r),H(r.message||"\xC9chec de la mise \xE0 jour."),Z(!1)}}}),Me()}});})();
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vY29yZS9zY3JpcHRzL2FkbWluLmpzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuICBjb25zb2xlLmxvZygnW2FkbWluXSBBdGVsaWVyIGNoYXJnXHUwMEU5Jyk7XG4gIGNvbnN0IGxvZ291dEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWxvZ291dF0nKTtcbiAgaWYgKGxvZ291dEJ1dHRvbikge1xuICAgIGxvZ291dEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGxvZ291dEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBmZXRjaCgnL2FwaS9sb2dvdXQnLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbYWRtaW5dIEltcG9zc2libGUgZGUgc2UgZFx1MDBFOWNvbm5lY3RlcicsIGVycik7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvYWRtaW4vaW5kZXguaHRtbCc7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBjb25zdCBzaWRlYmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRtaW4tc2lkZWJhcl0nKTtcbiAgY29uc3Qgc2lkZWJhck92ZXJsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZG1pbi1zaWRlYmFyLW92ZXJsYXldJyk7XG4gIGNvbnN0IHNpZGViYXJUb2dnbGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYWRtaW4tc2lkZWJhci10b2dnbGVdJyk7XG4gIGNvbnN0IHNpZGViYXJDbG9zZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1hZG1pbi1zaWRlYmFyLWNsb3NlXScpO1xuICBjb25zdCBib2R5ID0gZG9jdW1lbnQuYm9keTtcbiAgbGV0IHNpZGViYXJPcGVuID0gZmFsc2U7XG5cbiAgY29uc3QgYXBwbHlTaWRlYmFyU3RhdGUgPSAoKSA9PiB7XG4gICAgaWYgKCFzaWRlYmFyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGlzRGVza3RvcCA9IHdpbmRvdy5tYXRjaE1lZGlhKCcobWluLXdpZHRoOiAxMDI0cHgpJykubWF0Y2hlcztcbiAgICBpZiAoaXNEZXNrdG9wKSB7XG4gICAgICBzaWRlYmFyLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgc2lkZWJhck92ZXJsYXk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHNpZGViYXJPcGVuKSB7XG4gICAgICBzaWRlYmFyLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgc2lkZWJhck92ZXJsYXk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgYm9keS5jbGFzc0xpc3QuYWRkKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2lkZWJhci5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIHNpZGViYXJPdmVybGF5Py5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnb3ZlcmZsb3ctaGlkZGVuJyk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IG9wZW5TaWRlYmFyID0gKCkgPT4ge1xuICAgIHNpZGViYXJPcGVuID0gdHJ1ZTtcbiAgICBhcHBseVNpZGViYXJTdGF0ZSgpO1xuICB9O1xuXG4gIGNvbnN0IGNsb3NlU2lkZWJhciA9ICgpID0+IHtcbiAgICBzaWRlYmFyT3BlbiA9IGZhbHNlO1xuICAgIGFwcGx5U2lkZWJhclN0YXRlKCk7XG4gIH07XG5cbiAgaWYgKHNpZGViYXIgJiYgc2lkZWJhclRvZ2dsZXMubGVuZ3RoID4gMCkge1xuICAgIHNpZGViYXJUb2dnbGVzLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlblNpZGViYXIpO1xuICAgIH0pO1xuICAgIHNpZGViYXJDbG9zZUJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZVNpZGViYXIpO1xuICAgIH0pO1xuICAgIHNpZGViYXJPdmVybGF5Py5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlU2lkZWJhcik7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGFwcGx5U2lkZWJhclN0YXRlKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VzY2FwZScgJiYgc2lkZWJhck9wZW4pIHtcbiAgICAgICAgY2xvc2VTaWRlYmFyKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgYXBwbHlTaWRlYmFyU3RhdGUoKTtcbiAgfVxuXG4gIGNvbnN0IEFDVElWRV9TSVRFX0tFWSA9ICdjbG93ZXI6Y3VycmVudFNpdGUnO1xuICBjb25zdCBBQ1RJVkVfU0lURV9OQU1FX0tFWSA9ICdjbG93ZXI6Y3VycmVudFNpdGVOYW1lJztcbiAgY29uc3Qgc3RvcmVkU2l0ZSA9IHsgc2x1ZzogbnVsbCwgbmFtZTogJycgfTtcbiAgY29uc3QgbG9hZFN0b3JlZFNpdGUgPSAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHN0b3JlZFNpdGUuc2x1ZyA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShBQ1RJVkVfU0lURV9LRVkpO1xuICAgICAgc3RvcmVkU2l0ZS5uYW1lID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKEFDVElWRV9TSVRFX05BTUVfS0VZKSB8fCAnJztcbiAgICB9IGNhdGNoIHtcbiAgICAgIHN0b3JlZFNpdGUuc2x1ZyA9IG51bGw7XG4gICAgICBzdG9yZWRTaXRlLm5hbWUgPSAnJztcbiAgICB9XG4gIH07XG4gIGxvYWRTdG9yZWRTaXRlKCk7XG5cbiAgY29uc3Qgc2l0ZUNhcmRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtc2l0ZS1jYXJkXScpO1xuICBjb25zdCBzaXRlU2VsZWN0QnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXNpdGUtc2VsZWN0XScpO1xuICBjb25zdCBzaXRlTmFtZUxhYmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY3VycmVudC1zaXRlLW5hbWVdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZVNpdGVMYWJlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXdvcmtzcGFjZS1zaXRlLW5hbWVdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZUJhY2tOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtd29ya3NwYWNlLWJhY2stbmFtZV0nKTtcbiAgY29uc3Qgd29ya3NwYWNlQmFja01vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtd29ya3NwYWNlLWJhY2stbW9kYWxdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZUJhY2tCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtd29ya3NwYWNlLWJhY2tdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZUJhY2tDYW5jZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS13b3Jrc3BhY2UtYmFjay1jYW5jZWxdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZUJhY2tDb25maXJtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtd29ya3NwYWNlLWJhY2stY29uZmlybV0nKTtcbiAgY29uc3Qgd29ya3NwYWNlTmF2TGlua3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS13b3Jrc3BhY2UtdGFiXScpO1xuICBjb25zdCBzaXRlVG9hc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLXRvYXN0XScpO1xuICBjb25zdCBzaXRlVG9hc3RNZXNzYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS10b2FzdC1tZXNzYWdlXScpO1xuICBjb25zdCBzaXRlQ3JlYXRlQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXNpdGUtY3JlYXRlXScpO1xuICBjb25zdCBzaXRlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLW1vZGFsXScpO1xuICBjb25zdCBzaXRlRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtZm9ybV0nKTtcbiAgY29uc3Qgc2l0ZU5hbWVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtbmFtZV0nKTtcbiAgY29uc3Qgc2l0ZVNsdWdJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtc2x1Z10nKTtcbiAgY29uc3Qgc2l0ZVNsdWdFcnJvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtc2x1Zy1lcnJvcl0nKTtcbiAgY29uc3Qgc2l0ZU1vZGFsRXJyb3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLW1vZGFsLWVycm9yXScpO1xuICBjb25zdCBzaXRlTW9kYWxDYW5jZWxCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtc2l0ZS1tb2RhbC1jYW5jZWxdJyk7XG4gIGNvbnN0IHNpdGVNb2RhbFN1Ym1pdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtbW9kYWwtc3VibWl0XScpO1xuICBjb25zdCB3b3Jrc3BhY2VDb250ZXh0ID0gZ2V0V29ya3NwYWNlQ29udGV4dCgpO1xuICBsZXQgc2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gIGxldCBsYXN0Rm9jdXNlZEVsZW1lbnQgPSBudWxsO1xuICBsZXQgdG9hc3RUaW1lb3V0SWQgPSBudWxsO1xuXG4gIGNvbnN0IGZvY3VzYWJsZVNlbGVjdG9yID1cbiAgICAnYVtocmVmXSwgYnV0dG9uOm5vdChbZGlzYWJsZWRdKSwgdGV4dGFyZWEsIGlucHV0LCBzZWxlY3QsIFt0YWJpbmRleF06bm90KFt0YWJpbmRleD1cIi0xXCJdKSc7XG4gIGNvbnN0IHRyYXBGb2N1cyA9IChldmVudCkgPT4ge1xuICAgIGlmICghc2l0ZU1vZGFsIHx8IHNpdGVNb2RhbC5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpIHx8IGV2ZW50LmtleSAhPT0gJ1RhYicpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZm9jdXNhYmxlRWxlbWVudHMgPSBBcnJheS5mcm9tKHNpdGVNb2RhbC5xdWVyeVNlbGVjdG9yQWxsKGZvY3VzYWJsZVNlbGVjdG9yKSkuZmlsdGVyKFxuICAgICAgKGVsKSA9PiAhZWwuaGFzQXR0cmlidXRlKCdkaXNhYmxlZCcpICYmICFlbC5nZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJyksXG4gICAgKTtcbiAgICBpZiAoZm9jdXNhYmxlRWxlbWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGZpcnN0ID0gZm9jdXNhYmxlRWxlbWVudHNbMF07XG4gICAgY29uc3QgbGFzdCA9IGZvY3VzYWJsZUVsZW1lbnRzW2ZvY3VzYWJsZUVsZW1lbnRzLmxlbmd0aCAtIDFdO1xuICAgIGlmIChldmVudC5zaGlmdEtleSkge1xuICAgICAgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IGZpcnN0KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGxhc3QuZm9jdXMoKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IGxhc3QpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBmaXJzdC5mb2N1cygpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBzaG93VG9hc3QgPSAobWVzc2FnZSkgPT4ge1xuICAgIGlmICghc2l0ZVRvYXN0IHx8ICFzaXRlVG9hc3RNZXNzYWdlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHNpdGVUb2FzdE1lc3NhZ2UudGV4dENvbnRlbnQgPSBtZXNzYWdlO1xuICAgIHNpdGVUb2FzdC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICBpZiAodG9hc3RUaW1lb3V0SWQpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0b2FzdFRpbWVvdXRJZCk7XG4gICAgfVxuICAgIHRvYXN0VGltZW91dElkID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBzaXRlVG9hc3QuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgfSwgMjUwMCk7XG4gIH07XG5cbiAgZnVuY3Rpb24gZW5zdXJlTGVhZGluZ1NsYXNoKHNsdWcpIHtcbiAgICBpZiAoIXNsdWcpIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgcmV0dXJuIHNsdWcuc3RhcnRzV2l0aCgnLycpID8gc2x1ZyA6IGAvJHtzbHVnfWA7XG4gIH1cblxuICBmdW5jdGlvbiBzdHJpcExlYWRpbmdTbGFzaChzbHVnKSB7XG4gICAgcmV0dXJuIHNsdWc/LnJlcGxhY2UoL15cXC8vLCAnJykgfHwgJyc7XG4gIH1cblxuICBjb25zdCBwZXJzaXN0U2l0ZVN0YXRlID0gKHNsdWcsIG5hbWUpID0+IHtcbiAgICBjb25zdCBub3JtYWxpemVkU2x1ZyA9IHNsdWcgPyBlbnN1cmVMZWFkaW5nU2xhc2goc2x1ZykgOiBudWxsO1xuICAgIHRyeSB7XG4gICAgICBpZiAobm9ybWFsaXplZFNsdWcpIHtcbiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKEFDVElWRV9TSVRFX0tFWSwgbm9ybWFsaXplZFNsdWcpO1xuICAgICAgICBzdG9yZWRTaXRlLnNsdWcgPSBub3JtYWxpemVkU2x1ZztcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgbmFtZSA9PT0gJ3N0cmluZycgJiYgbmFtZS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShBQ1RJVkVfU0lURV9OQU1FX0tFWSwgbmFtZSk7XG4gICAgICAgIHN0b3JlZFNpdGUubmFtZSA9IG5hbWU7XG4gICAgICB9XG4gICAgfSBjYXRjaCB7XG4gICAgICBzdG9yZWRTaXRlLnNsdWcgPSBub3JtYWxpemVkU2x1ZyB8fCBzdG9yZWRTaXRlLnNsdWc7XG4gICAgICBzdG9yZWRTaXRlLm5hbWUgPSBuYW1lIHx8IHN0b3JlZFNpdGUubmFtZTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgdXBkYXRlU2l0ZUxhYmVscyA9IChuYW1lKSA9PiB7XG4gICAgaWYgKHNpdGVOYW1lTGFiZWwgJiYgbmFtZSkge1xuICAgICAgc2l0ZU5hbWVMYWJlbC50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgfVxuICAgIGlmICh3b3Jrc3BhY2VTaXRlTGFiZWwgJiYgbmFtZSkge1xuICAgICAgd29ya3NwYWNlU2l0ZUxhYmVsLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICB9XG4gICAgaWYgKHdvcmtzcGFjZUJhY2tOYW1lICYmIG5hbWUpIHtcbiAgICAgIHdvcmtzcGFjZUJhY2tOYW1lLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgdXBkYXRlV29ya3NwYWNlTmF2TGlua3MgPSAoc2x1ZykgPT4ge1xuICAgIHdvcmtzcGFjZU5hdkxpbmtzLmZvckVhY2goKGxpbmspID0+IHtcbiAgICAgIGNvbnN0IHRhYiA9IGxpbmsuZGF0YXNldC53b3Jrc3BhY2VUYWI7XG4gICAgICBpZiAoIXRhYikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIXNsdWcpIHtcbiAgICAgICAgbGluay5ocmVmID0gJyMnO1xuICAgICAgICBsaW5rLmNsYXNzTGlzdC5hZGQoJ3BvaW50ZXItZXZlbnRzLW5vbmUnLCAnb3BhY2l0eS01MCcsICd0ZXh0LXNsYXRlLTQwMCcpO1xuICAgICAgICBsaW5rLnNldEF0dHJpYnV0ZSgnYXJpYS1kaXNhYmxlZCcsICd0cnVlJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHNsdWdQYXRoID0gZW5jb2RlVVJJQ29tcG9uZW50KHN0cmlwTGVhZGluZ1NsYXNoKHNsdWcpKTtcbiAgICAgIGxpbmsuaHJlZiA9IGAvYWRtaW4vc2l0ZS8ke3NsdWdQYXRofS8ke3RhYn1gO1xuICAgICAgbGluay5jbGFzc0xpc3QucmVtb3ZlKCdwb2ludGVyLWV2ZW50cy1ub25lJywgJ29wYWNpdHktNTAnLCAndGV4dC1zbGF0ZS00MDAnKTtcbiAgICAgIGxpbmsucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWRpc2FibGVkJyk7XG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3QgYXBwbHlBY3RpdmVTaXRlID0gKHNsdWcsIG9wdGlvbnMgPSB7fSkgPT4ge1xuICAgIGlmICghc2x1Zykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBub3JtYWxpemVkU2x1ZyA9IGVuc3VyZUxlYWRpbmdTbGFzaChzbHVnKTtcbiAgICBsZXQgYWN0aXZlU2l0ZU5hbWUgPVxuICAgICAgb3B0aW9ucy5zaXRlTmFtZSB8fCBzdG9yZWRTaXRlLm5hbWUgfHwgc2l0ZU5hbWVMYWJlbD8uZGF0YXNldC5kZWZhdWx0U2l0ZU5hbWUgfHwgJyc7XG4gICAgc2l0ZUNhcmRzLmZvckVhY2goKGNhcmQpID0+IHtcbiAgICAgIGNvbnN0IGNhcmRTbHVnID0gZW5zdXJlTGVhZGluZ1NsYXNoKGNhcmQuZGF0YXNldC5zaXRlQ2FyZCB8fCAnJyk7XG4gICAgICBjb25zdCBpc0FjdGl2ZSA9IGNhcmRTbHVnID09PSBub3JtYWxpemVkU2x1ZztcbiAgICAgIGNvbnN0IGJhZGdlID0gY2FyZC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLWFjdGl2ZS1iYWRnZV0nKTtcbiAgICAgIGlmIChpc0FjdGl2ZSkge1xuICAgICAgICBjYXJkLmNsYXNzTGlzdC5hZGQoJ2JvcmRlci1bIzlDNkJGRl0nLCAncmluZy0yJywgJ3JpbmctWyM5QzZCRkZdJywgJ3NoYWRvdy1tZCcpO1xuICAgICAgICBjYXJkLmNsYXNzTGlzdC5yZW1vdmUoJ2JvcmRlci1zbGF0ZS0yMDAnKTtcbiAgICAgICAgYmFkZ2U/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICBhY3RpdmVTaXRlTmFtZSA9IGNhcmQuZGF0YXNldC5zaXRlTmFtZSB8fCBhY3RpdmVTaXRlTmFtZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhcmQuY2xhc3NMaXN0LnJlbW92ZSgnYm9yZGVyLVsjOUM2QkZGXScsICdyaW5nLTInLCAncmluZy1bIzlDNkJGRl0nLCAnc2hhZG93LW1kJyk7XG4gICAgICAgIGNhcmQuY2xhc3NMaXN0LmFkZCgnYm9yZGVyLXNsYXRlLTIwMCcpO1xuICAgICAgICBiYWRnZT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKG9wdGlvbnMucGVyc2lzdCAhPT0gZmFsc2UpIHtcbiAgICAgIHBlcnNpc3RTaXRlU3RhdGUobm9ybWFsaXplZFNsdWcsIG9wdGlvbnMuc2l0ZU5hbWUgfHwgYWN0aXZlU2l0ZU5hbWUpO1xuICAgIH1cbiAgICBjb25zdCBmaW5hbE5hbWUgPSBvcHRpb25zLnNpdGVOYW1lIHx8IGFjdGl2ZVNpdGVOYW1lO1xuICAgIHVwZGF0ZVNpdGVMYWJlbHMoZmluYWxOYW1lKTtcbiAgICB1cGRhdGVXb3Jrc3BhY2VOYXZMaW5rcyhub3JtYWxpemVkU2x1Zyk7XG4gIH07XG5cbiAgY29uc3Qgc2VsZWN0U2l0ZSA9IGFzeW5jIChzbHVnLCBuYW1lKSA9PiB7XG4gICAgY29uc3Qgbm9ybWFsaXplZFNsdWcgPSBlbnN1cmVMZWFkaW5nU2xhc2goc2x1Zyk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvc2l0ZXMvc2VsZWN0Jywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgc2x1Zzogbm9ybWFsaXplZFNsdWcgfSksXG4gICAgICB9KTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgc2hvd1RvYXN0KHBheWxvYWQubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBzXHUwMEU5bGVjdGlvbm5lciBjZSBzaXRlLicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgY29uc3QgZmluYWxTbHVnID0gZW5zdXJlTGVhZGluZ1NsYXNoKHBheWxvYWQuc2x1ZyB8fCBub3JtYWxpemVkU2x1Zyk7XG4gICAgICBjb25zdCBmaW5hbE5hbWUgPSBwYXlsb2FkLm5hbWUgfHwgbmFtZTtcbiAgICAgIHBlcnNpc3RTaXRlU3RhdGUoZmluYWxTbHVnLCBmaW5hbE5hbWUpO1xuICAgICAgYXBwbHlBY3RpdmVTaXRlKGZpbmFsU2x1ZywgeyBzaXRlTmFtZTogZmluYWxOYW1lLCBwZXJzaXN0OiBmYWxzZSB9KTtcbiAgICAgIGNvbnN0IHNsdWdQYXRoID0gZW5jb2RlVVJJQ29tcG9uZW50KHN0cmlwTGVhZGluZ1NsYXNoKGZpbmFsU2x1ZykpO1xuICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBgL2FkbWluL3NpdGUvJHtzbHVnUGF0aH0vZGVzaWduYDtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1thZG1pbl0gSW1wb3NzaWJsZSBkZSBzXHUwMEU5bGVjdGlvbm5lciBsZSBzaXRlJywgZXJyKTtcbiAgICAgIHNob3dUb2FzdCgnRXJyZXVyIGluYXR0ZW5kdWUgbG9ycyBkZSBsYSBzXHUwMEU5bGVjdGlvbi4nKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3Qgc3luY0FjdGl2ZVNpdGVGcm9tU2VydmVyID0gYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL3NpdGVzL2N1cnJlbnQnLCB7IGNyZWRlbnRpYWxzOiAnc2FtZS1vcmlnaW4nIH0pO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDQgJiYgd29ya3NwYWNlQ29udGV4dCkge1xuICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9hZG1pbi9zaXRlcyc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3Qgc2l0ZSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWRTbHVnID0gZW5zdXJlTGVhZGluZ1NsYXNoKHNpdGUuc2x1Zyk7XG4gICAgICBwZXJzaXN0U2l0ZVN0YXRlKG5vcm1hbGl6ZWRTbHVnLCBzaXRlLm5hbWUpO1xuICAgICAgYXBwbHlBY3RpdmVTaXRlKG5vcm1hbGl6ZWRTbHVnLCB7IHNpdGVOYW1lOiBzaXRlLm5hbWUsIHBlcnNpc3Q6IGZhbHNlIH0pO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS53YXJuKCdbYWRtaW5dIEltcG9zc2libGUgZGUgclx1MDBFOWN1cFx1MDBFOXJlciBsZSBzaXRlIGFjdGlmJywgZXJyKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGlnaGxpZ2h0RnJvbVN0b3JhZ2VPckRlZmF1bHQgPSAoKSA9PiB7XG4gICAgaWYgKHN0b3JlZFNpdGUuc2x1Zykge1xuICAgICAgYXBwbHlBY3RpdmVTaXRlKHN0b3JlZFNpdGUuc2x1ZywgeyBzaXRlTmFtZTogc3RvcmVkU2l0ZS5uYW1lLCBwZXJzaXN0OiBmYWxzZSB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZGVmYXVsdENhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLWNhcmRdW2RhdGEtc2l0ZS1kZWZhdWx0PVwidHJ1ZVwiXScpIHx8IHNpdGVDYXJkc1swXTtcbiAgICBpZiAoZGVmYXVsdENhcmQpIHtcbiAgICAgIGFwcGx5QWN0aXZlU2l0ZShkZWZhdWx0Q2FyZC5kYXRhc2V0LnNpdGVDYXJkLCB7XG4gICAgICAgIHNpdGVOYW1lOiBkZWZhdWx0Q2FyZC5kYXRhc2V0LnNpdGVOYW1lIHx8ICcnLFxuICAgICAgICBwZXJzaXN0OiBmYWxzZSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICBoaWdobGlnaHRGcm9tU3RvcmFnZU9yRGVmYXVsdCgpO1xuICBzeW5jQWN0aXZlU2l0ZUZyb21TZXJ2ZXIoKTtcbiAgaWYgKHdvcmtzcGFjZUNvbnRleHQpIHtcbiAgICB1cGRhdGVXb3Jrc3BhY2VOYXZMaW5rcyh3b3Jrc3BhY2VDb250ZXh0LnNsdWdWYWx1ZSk7XG4gIH0gZWxzZSBpZiAoc3RvcmVkU2l0ZS5zbHVnKSB7XG4gICAgdXBkYXRlV29ya3NwYWNlTmF2TGlua3Moc3RvcmVkU2l0ZS5zbHVnKTtcbiAgfVxuXG4gIHNpdGVTZWxlY3RCdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGlmIChidXR0b24uZGlzYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3Qgc2x1ZyA9IGJ1dHRvbi5kYXRhc2V0LnNpdGVTZWxlY3Q7XG4gICAgICBjb25zdCBuYW1lID0gYnV0dG9uLmRhdGFzZXQuc2l0ZVNlbGVjdE5hbWUgfHwgJ0NlIHNpdGUnO1xuICAgICAgaWYgKCFzbHVnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICBzZWxlY3RTaXRlKHNsdWcsIG5hbWUpLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICBidXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBjb25zdCB3b3Jrc3BhY2VTbHVnaWZ5ID0gKHZhbHVlKSA9PlxuICAgIHZhbHVlXG4gICAgICAubm9ybWFsaXplKCdORkQnKVxuICAgICAgLnJlcGxhY2UoL1tcXHUwMzAwLVxcdTAzNmZdL2csICcnKVxuICAgICAgLnRvTG93ZXJDYXNlKClcbiAgICAgIC5yZXBsYWNlKC9bXmEtejAtOV0rL2csICctJylcbiAgICAgIC5yZXBsYWNlKC9eLSt8LSskL2csICcnKTtcblxuICBjb25zdCBub3JtYWxpemVTbHVnVmFsdWUgPSAodmFsdWUpID0+IHtcbiAgICBjb25zdCBiYXNlID0gd29ya3NwYWNlU2x1Z2lmeSh2YWx1ZSB8fCAnJyk7XG4gICAgaWYgKCFiYXNlKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIHJldHVybiBgLyR7YmFzZX1gO1xuICB9O1xuXG4gIGNvbnN0IG9wZW5TaXRlTW9kYWwgPSAoKSA9PiB7XG4gICAgaWYgKCFzaXRlTW9kYWwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGFzdEZvY3VzZWRFbGVtZW50ID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcbiAgICBzaXRlTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgc2l0ZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2ZsZXgnKTtcbiAgICBzbHVnTWFudWFsbHlFZGl0ZWQgPSBmYWxzZTtcbiAgICBzaXRlRm9ybT8ucmVzZXQoKTtcbiAgICBzaXRlU2x1Z0Vycm9yICYmIChzaXRlU2x1Z0Vycm9yLnRleHRDb250ZW50ID0gJycpO1xuICAgIHNpdGVNb2RhbEVycm9yICYmIChzaXRlTW9kYWxFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICBpZiAoc2l0ZVNsdWdJbnB1dCAmJiBzaXRlTmFtZUlucHV0KSB7XG4gICAgICBzaXRlU2x1Z0lucHV0LnZhbHVlID0gd29ya3NwYWNlU2x1Z2lmeShzaXRlTmFtZUlucHV0LnZhbHVlKTtcbiAgICB9XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRyYXBGb2N1cyk7XG4gICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgc2l0ZU5hbWVJbnB1dD8uZm9jdXMoKTtcbiAgICB9LCAwKTtcbiAgfTtcblxuICBjb25zdCBjbG9zZVNpdGVNb2RhbCA9ICgpID0+IHtcbiAgICBpZiAoIXNpdGVNb2RhbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzaXRlTW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgc2l0ZU1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2ZsZXgnKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdHJhcEZvY3VzKTtcbiAgICBzbHVnTWFudWFsbHlFZGl0ZWQgPSBmYWxzZTtcbiAgICBzaXRlRm9ybT8ucmVzZXQoKTtcbiAgICBzaXRlU2x1Z0Vycm9yICYmIChzaXRlU2x1Z0Vycm9yLnRleHRDb250ZW50ID0gJycpO1xuICAgIHNpdGVNb2RhbEVycm9yICYmIChzaXRlTW9kYWxFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICBsYXN0Rm9jdXNlZEVsZW1lbnQ/LmZvY3VzKCk7XG4gIH07XG5cbiAgc2l0ZUNyZWF0ZUJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlblNpdGVNb2RhbCk7XG4gIH0pO1xuXG4gIHNpdGVNb2RhbENhbmNlbEJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VTaXRlTW9kYWwpO1xuICB9KTtcblxuICBzaXRlTW9kYWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gc2l0ZU1vZGFsKSB7XG4gICAgICBjbG9zZVNpdGVNb2RhbCgpO1xuICAgIH1cbiAgfSk7XG5cbiAgc2l0ZU5hbWVJbnB1dD8uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgaWYgKCFzaXRlU2x1Z0lucHV0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghc2x1Z01hbnVhbGx5RWRpdGVkIHx8IHNpdGVTbHVnSW5wdXQudmFsdWUudHJpbSgpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgc2l0ZVNsdWdJbnB1dC52YWx1ZSA9IHdvcmtzcGFjZVNsdWdpZnkoc2l0ZU5hbWVJbnB1dC52YWx1ZSk7XG4gICAgfVxuICB9KTtcblxuICBzaXRlU2x1Z0lucHV0Py5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICBzbHVnTWFudWFsbHlFZGl0ZWQgPSB0cnVlO1xuICAgIHNpdGVTbHVnRXJyb3IgJiYgKHNpdGVTbHVnRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gIH0pO1xuXG4gIGNvbnN0IGdldFNsdWdTZXQgPSAoKSA9PlxuICAgIG5ldyBTZXQoQXJyYXkuZnJvbShzaXRlQ2FyZHMpLm1hcCgoY2FyZCkgPT4gZW5zdXJlTGVhZGluZ1NsYXNoKGNhcmQuZGF0YXNldC5zaXRlQ2FyZCB8fCAnJykpKTtcblxuICBzaXRlRm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAoIXNpdGVOYW1lSW5wdXQgfHwgIXNpdGVTbHVnSW5wdXQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgbmFtZVZhbHVlID0gKHNpdGVOYW1lSW5wdXQudmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICBsZXQgc2x1Z1ZhbHVlID0gc2l0ZVNsdWdJbnB1dC52YWx1ZSB8fCAnJztcbiAgICBpZiAoIXNsdWdWYWx1ZSkge1xuICAgICAgc2x1Z1ZhbHVlID0gbmFtZVZhbHVlO1xuICAgIH1cbiAgICBjb25zdCBub3JtYWxpemVkU2x1ZyA9IG5vcm1hbGl6ZVNsdWdWYWx1ZShzbHVnVmFsdWUpO1xuICAgIGlmICghbmFtZVZhbHVlIHx8ICFub3JtYWxpemVkU2x1Zykge1xuICAgICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9ICdOb20gZXQgc2x1ZyBzb250IHJlcXVpcy4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZXhpc3RpbmdTbHVncyA9IGdldFNsdWdTZXQoKTtcbiAgICBpZiAoZXhpc3RpbmdTbHVncy5oYXMobm9ybWFsaXplZFNsdWcpKSB7XG4gICAgICBzaXRlU2x1Z0Vycm9yICYmIChzaXRlU2x1Z0Vycm9yLnRleHRDb250ZW50ID0gJ0NlIHNsdWcgZXN0IGRcdTAwRTlqXHUwMEUwIHV0aWxpc1x1MDBFOS4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICBzaXRlTW9kYWxFcnJvciAmJiAoc2l0ZU1vZGFsRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgaWYgKHNpdGVNb2RhbFN1Ym1pdEJ1dHRvbikge1xuICAgICAgc2l0ZU1vZGFsU3VibWl0QnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIHNpdGVNb2RhbFN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9ICdDclx1MDBFOWF0aW9uLi4uJztcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvc2l0ZXMnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBuYW1lOiBuYW1lVmFsdWUsIHNsdWc6IG5vcm1hbGl6ZWRTbHVnIH0pLFxuICAgICAgfSk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBwYXlsb2FkLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgY3JcdTAwRTllciBjZSBzaXRlLic7XG4gICAgICAgIHNpdGVNb2RhbEVycm9yICYmIChzaXRlTW9kYWxFcnJvci50ZXh0Q29udGVudCA9IG1lc3NhZ2UpO1xuICAgICAgICBpZiAocGF5bG9hZC5maWVsZCA9PT0gJ3NsdWcnKSB7XG4gICAgICAgICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9IG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNyZWF0ZWRTaXRlID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgY29uc3QgZmluYWxTbHVnID0gZW5zdXJlTGVhZGluZ1NsYXNoKGNyZWF0ZWRTaXRlPy5zbHVnIHx8IG5vcm1hbGl6ZWRTbHVnKTtcbiAgICAgIGNvbnN0IGZpbmFsTmFtZSA9IGNyZWF0ZWRTaXRlPy5uYW1lIHx8IG5hbWVWYWx1ZTtcbiAgICAgIHBlcnNpc3RTaXRlU3RhdGUoZmluYWxTbHVnLCBmaW5hbE5hbWUpO1xuICAgICAgY2xvc2VTaXRlTW9kYWwoKTtcbiAgICAgIGNvbnN0IHNsdWdQYXRoID0gZW5jb2RlVVJJQ29tcG9uZW50KHN0cmlwTGVhZGluZ1NsYXNoKGZpbmFsU2x1ZykpO1xuICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBgL2FkbWluL3NpdGUvJHtzbHVnUGF0aH0vZGVzaWduYDtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1thZG1pbl0gSW1wb3NzaWJsZSBkZSBjclx1MDBFOWVyIGxlIHNpdGUnLCBlcnIpO1xuICAgICAgc2l0ZU1vZGFsRXJyb3IgJiYgKHNpdGVNb2RhbEVycm9yLnRleHRDb250ZW50ID0gJ0VycmV1ciBpbmF0dGVuZHVlLiBSXHUwMEU5ZXNzYWllIGRhbnMgdW4gaW5zdGFudC4nKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKHNpdGVNb2RhbFN1Ym1pdEJ1dHRvbikge1xuICAgICAgICBzaXRlTW9kYWxTdWJtaXRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgc2l0ZU1vZGFsU3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gJ0NyXHUwMEU5ZXInO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZlbnQpID0+IHtcbiAgICBpZiAoZXZlbnQua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgaWYgKHNpdGVNb2RhbCAmJiAhc2l0ZU1vZGFsLmNsYXNzTGlzdC5jb250YWlucygnaGlkZGVuJykpIHtcbiAgICAgICAgY2xvc2VTaXRlTW9kYWwoKTtcbiAgICAgIH1cbiAgICAgIGlmICh3b3Jrc3BhY2VCYWNrTW9kYWwgJiYgIXdvcmtzcGFjZUJhY2tNb2RhbC5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpKSB7XG4gICAgICAgIGNsb3NlV29ya3NwYWNlQmFja01vZGFsKCk7XG4gICAgICB9XG4gICAgICBpZiAoYmxvY2tEZWxldGVNb2RhbCAmJiAhYmxvY2tEZWxldGVNb2RhbC5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpKSB7XG4gICAgICAgIGNsb3NlQmxvY2tEZWxldGVNb2RhbCgpO1xuICAgICAgfVxuICAgICAgaWYgKGJsb2NrTGlicmFyeU9wZW4pIHtcbiAgICAgICAgY2xvc2VCbG9ja0xpYnJhcnkoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIGdldFdvcmtzcGFjZUNvbnRleHQoKSB7XG4gICAgY29uc3QgbWF0Y2ggPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUubWF0Y2goL15cXC9hZG1pblxcL3NpdGVcXC8oW14vXSspKD86XFwvKFteL10rKSk/Lyk7XG4gICAgaWYgKCFtYXRjaCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBzbHVnUGFydDogZGVjb2RlVVJJQ29tcG9uZW50KG1hdGNoWzFdKSxcbiAgICAgIHNsdWdWYWx1ZTogZW5zdXJlTGVhZGluZ1NsYXNoKGRlY29kZVVSSUNvbXBvbmVudChtYXRjaFsxXSkpLFxuICAgICAgc2VjdGlvbjogbWF0Y2hbMl0gfHwgJ2Rlc2lnbicsXG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRldGVjdFdvcmtzcGFjZVNlY3Rpb24oKSB7XG4gICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXBhZ2UtbGlzdF0nKSkge1xuICAgICAgcmV0dXJuICdkZXNpZ24nO1xuICAgIH1cbiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29sbGVjdGlvbi1saXN0XScpKSB7XG4gICAgICByZXR1cm4gJ2NvbnRlbnQnO1xuICAgIH1cbiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZ3JpZF0nKSkge1xuICAgICAgcmV0dXJuICdtZWRpYSc7XG4gICAgfVxuICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktZm9ybV0nKSkge1xuICAgICAgcmV0dXJuICdkZXBsb3knO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9wZW5Xb3Jrc3BhY2VCYWNrTW9kYWwoKSB7XG4gICAgaWYgKCF3b3Jrc3BhY2VCYWNrTW9kYWwpIHtcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9hZG1pbi9zaXRlcyc7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHdvcmtzcGFjZUJhY2tNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICB3b3Jrc3BhY2VCYWNrTW9kYWwuY2xhc3NMaXN0LmFkZCgnZmxleCcpO1xuICB9XG5cbiAgZnVuY3Rpb24gY2xvc2VXb3Jrc3BhY2VCYWNrTW9kYWwoKSB7XG4gICAgaWYgKCF3b3Jrc3BhY2VCYWNrTW9kYWwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgd29ya3NwYWNlQmFja01vZGFsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgIHdvcmtzcGFjZUJhY2tNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdmbGV4Jyk7XG4gIH1cblxuICB3b3Jrc3BhY2VCYWNrQnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuV29ya3NwYWNlQmFja01vZGFsKTtcbiAgfSk7XG4gIHdvcmtzcGFjZUJhY2tDYW5jZWwuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VXb3Jrc3BhY2VCYWNrTW9kYWwpO1xuICB9KTtcbiAgd29ya3NwYWNlQmFja0NvbmZpcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9hZG1pbi9zaXRlcyc7XG4gIH0pO1xuXG4gIGNvbnN0IGFjdGl2ZVNlY3Rpb24gPSB3b3Jrc3BhY2VDb250ZXh0Py5zZWN0aW9uIHx8IGRldGVjdFdvcmtzcGFjZVNlY3Rpb24oKTtcblxuICBpZiAoYWN0aXZlU2VjdGlvbiA9PT0gJ2Rlc2lnbicpIHtcbiAgICBpbml0RGVzaWduV29ya3NwYWNlKCk7XG4gIH1cbiAgaWYgKGFjdGl2ZVNlY3Rpb24gPT09ICdjb250ZW50Jykge1xuICAgIGluaXRDb250ZW50V29ya3NwYWNlKCk7XG4gIH1cbiAgaWYgKGFjdGl2ZVNlY3Rpb24gPT09ICdtZWRpYScpIHtcbiAgICBpbml0TWVkaWFXb3Jrc3BhY2UoKTtcbiAgfVxuICBpZiAoYWN0aXZlU2VjdGlvbiA9PT0gJ2RlcGxveScpIHtcbiAgICBpbml0RGVwbG95V29ya3NwYWNlKCk7XG4gIH1cbiAgaWYgKGFjdGl2ZVNlY3Rpb24gPT09ICdzZXR0aW5ncycpIHtcbiAgICBpbml0U2V0dGluZ3NXb3Jrc3BhY2UoKTtcbiAgfVxuXG4gIGlmICh3b3Jrc3BhY2VDb250ZXh0ICYmIHN0b3JlZFNpdGUubmFtZSkge1xuICAgIHVwZGF0ZVNpdGVMYWJlbHMoc3RvcmVkU2l0ZS5uYW1lKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXREZXNpZ25Xb3Jrc3BhY2UoKSB7XG4gICAgY29uc3QgcGFnZUxpc3RzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtcGFnZS1saXN0XScpO1xuICAgIGlmIChwYWdlTGlzdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGFjdGl2ZVRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWN0aXZlLXBhZ2UtdGl0bGVdJyk7XG4gICAgY29uc3QgYWN0aXZlU2x1ZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFjdGl2ZS1wYWdlLXNsdWddJyk7XG4gICAgY29uc3QgcHJldmlld1RhZ3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLXByZXZpZXctdGFnc10nKTtcbiAgICBjb25zdCBwcmV2aWV3RnJhbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLXByZXZpZXctZnJhbWVdJyk7XG4gICAgY29uc3QgcHJldmlld09wZW5CdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wcmV2aWV3LW9wZW5dJyk7XG4gICAgY29uc3QgcHJldmlld1N0YXR1cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXByZXZpZXctc3RhdHVzXScpO1xuICAgIGNvbnN0IHByZXZpZXdIaWdobGlnaHRPdmVybGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcHJldmlldy1oaWdobGlnaHRdJyk7XG4gICAgY29uc3QgYmxvY2tMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2tzLWxpc3RdJyk7XG4gICAgY29uc3QgYmxvY2tMaXN0RW1wdHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9ja3MtZW1wdHldJyk7XG4gICAgY29uc3QgYmxvY2tDb3VudEJhZGdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stY291bnRdJyk7XG4gICAgY29uc3QgYmxvY2tMaWJyYXJ5VG9nZ2xlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stbGlicmFyeS10b2dnbGVdJyk7XG4gICAgY29uc3QgYmxvY2tMaWJyYXJ5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stbGlicmFyeV0nKTtcbiAgICBjb25zdCBibG9ja0FkZEJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1ibG9jay1hZGRdJyk7XG4gICAgY29uc3QgYmxvY2tEZWxldGVNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWRlbGV0ZS1tb2RhbF0nKTtcbiAgICBjb25zdCBibG9ja0RlbGV0ZUNvbmZpcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1kZWxldGUtY29uZmlybV0nKTtcbiAgICBjb25zdCBibG9ja0RlbGV0ZUNhbmNlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWRlbGV0ZS1jYW5jZWxdJyk7XG4gICAgY29uc3QgYmxvY2tEZXRhaWxFbXB0eSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWRldGFpbC1lbXB0eV0nKTtcbiAgICBjb25zdCBibG9ja0RldGFpbFN0YXR1cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWRldGFpbC1zdGF0dXNdJyk7XG4gICAgY29uc3QgYmxvY2tFZGl0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1lZGl0b3JdJyk7XG4gICAgY29uc3QgYmxvY2tFZGl0b3JUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWVkaXRvci1ibG9jay1uYW1lXScpO1xuICAgIGNvbnN0IGJsb2NrRWRpdG9yVHlwZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWVkaXRvci1ibG9jay10eXBlXScpO1xuICAgIGNvbnN0IGJsb2NrRWRpdG9yVW5zdXBwb3J0ZWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1lZGl0b3ItdW5zdXBwb3J0ZWRdJyk7XG4gICAgY29uc3QgYmxvY2tGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZm9ybV0nKTtcbiAgICBjb25zdCBibG9ja0Zvcm1TZWN0aW9ucyA9IGJsb2NrRm9ybVxuICAgICAgPyBBcnJheS5mcm9tKGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1lZGl0b3Itc2VjdGlvbl0nKSlcbiAgICAgIDogW107XG4gICAgY29uc3QgY29sbGVjdGlvblNlbGVjdCA9IGJsb2NrRm9ybT8ucXVlcnlTZWxlY3RvcignW25hbWU9XCJjb2xsZWN0aW9uLWdyaWQtY29sbGVjdGlvblwiXScpO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25TZWxlY3Rpb25JbmZvID0gYmxvY2tGb3JtPy5xdWVyeVNlbGVjdG9yKFxuICAgICAgJ1tkYXRhLWNvbGxlY3Rpb24tc2VsZWN0aW9uLWluZm9dJyxcbiAgICApO1xuICAgIGNvbnN0IGJsb2NrRm9ybUNhbmNlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWZvcm0tY2FuY2VsXScpO1xuICAgIGNvbnN0IGdyb3VwUHJldmlld01vYmlsZSA9IGJsb2NrRm9ybT8ucXVlcnlTZWxlY3RvcignW2RhdGEtZ3JvdXAtcHJldmlldy1tb2JpbGVdJyk7XG4gICAgY29uc3QgZ3JvdXBQcmV2aWV3RGVza3RvcCA9IGJsb2NrRm9ybT8ucXVlcnlTZWxlY3RvcignW2RhdGEtZ3JvdXAtcHJldmlldy1kZXNrdG9wXScpO1xuICAgIGNvbnN0IGJsb2NrVHlwZUZvcm1zID0ge1xuICAgICAgaGVybzoge1xuICAgICAgICBzZWN0aW9uOiAnaGVybycsXG4gICAgICAgIGxhYmVsRmllbGQ6ICd0aXRsZScsXG4gICAgICAgIGRlc2NyaXB0aW9uRmllbGQ6ICdzdWJ0aXRsZScsXG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIHRpdGxlOiAnaGVyby10aXRsZScsXG4gICAgICAgICAgc3VidGl0bGU6ICdoZXJvLXN1YnRpdGxlJyxcbiAgICAgICAgICBjdGFMYWJlbDogJ2hlcm8tY3RhLWxhYmVsJyxcbiAgICAgICAgICBjdGFVcmw6ICdoZXJvLWN0YS11cmwnLFxuICAgICAgICAgIGltYWdlOiAnaGVyby1pbWFnZScsXG4gICAgICAgICAgYWxpZ246ICdoZXJvLWFsaWduJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBwYXJhZ3JhcGhlOiB7XG4gICAgICAgIHNlY3Rpb246ICdwYXJhZ3JhcGgnLFxuICAgICAgICBsYWJlbEZpZWxkOiAndGl0bGUnLFxuICAgICAgICBkZXNjcmlwdGlvbkZpZWxkOiAnY29udGVudCcsXG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIHRpdGxlOiAncGFyYWdyYXBoLXRpdGxlJyxcbiAgICAgICAgICBjb250ZW50OiAncGFyYWdyYXBoLWNvbnRlbnQnLFxuICAgICAgICAgIGFsaWduOiAncGFyYWdyYXBoLWFsaWduJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBpbWFnZToge1xuICAgICAgICBzZWN0aW9uOiAnaW1hZ2UnLFxuICAgICAgICBsYWJlbEZpZWxkOiAnYWx0JyxcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgc3JjOiAnaW1hZ2Utc3JjJyxcbiAgICAgICAgICBhbHQ6ICdpbWFnZS1hbHQnLFxuICAgICAgICAgIHNob3dDYXB0aW9uOiAnaW1hZ2UtY2FwdGlvbi10b2dnbGUnLFxuICAgICAgICAgIGNhcHRpb246ICdpbWFnZS1jYXB0aW9uJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBncm91cGU6IHtcbiAgICAgICAgc2VjdGlvbjogJ2dyb3VwJyxcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgbGF5b3V0OiAnZ3JvdXAtbGF5b3V0JyxcbiAgICAgICAgICBjb2x1bW5zTW9iaWxlOiAnZ3JvdXAtY29sdW1ucy1tb2JpbGUnLFxuICAgICAgICAgIGNvbHVtbnNEZXNrdG9wOiAnZ3JvdXAtY29sdW1ucy1kZXNrdG9wJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBjb2xsZWN0aW9uZ3JpZDoge1xuICAgICAgICBzZWN0aW9uOiAnY29sbGVjdGlvbicsXG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIGNvbGxlY3Rpb25JZDogJ2NvbGxlY3Rpb24tZ3JpZC1jb2xsZWN0aW9uJyxcbiAgICAgICAgICBsaW1pdDogJ2NvbGxlY3Rpb24tZ3JpZC1saW1pdCcsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH07XG4gICAgY29uc3QgYmxvY2tUeXBlQWxpYXNlcyA9IHtcbiAgICAgIHRleHRlOiAncGFyYWdyYXBoZScsXG4gICAgICBwYXJhZ3JhcGg6ICdwYXJhZ3JhcGhlJyxcbiAgICAgIHBhcmFncmFwaHM6ICdwYXJhZ3JhcGhlJyxcbiAgICAgIHBhcmFncmFwaGVzOiAncGFyYWdyYXBoZScsXG4gICAgICB0ZXh0OiAncGFyYWdyYXBoZScsXG4gICAgICBoZXJvOiAnaGVybycsXG4gICAgICBpbWFnZTogJ2ltYWdlJyxcbiAgICAgIGdyb3VwZTogJ2dyb3VwZScsXG4gICAgICBncm91cDogJ2dyb3VwZScsXG4gICAgICBjb2xsZWN0aW9uOiAnY29sbGVjdGlvbmdyaWQnLFxuICAgICAgY29sbGVjdGlvbmdyaWQ6ICdjb2xsZWN0aW9uZ3JpZCcsXG4gICAgICAnY29sbGVjdGlvbi1ncmlkJzogJ2NvbGxlY3Rpb25ncmlkJyxcbiAgICB9O1xuICAgIGNvbnN0IHVwZGF0ZUdyb3VwTWluaVByZXZpZXcgPSAobW9iaWxlVmFsdWUsIGRlc2t0b3BWYWx1ZSkgPT4ge1xuICAgICAgaWYgKCFncm91cFByZXZpZXdNb2JpbGUgfHwgIWdyb3VwUHJldmlld0Rlc2t0b3ApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVuZGVyQm94ZXMgPSAoY291bnQpID0+XG4gICAgICAgIEFycmF5LmZyb20oeyBsZW5ndGg6IE51bWJlcihjb3VudCkgfHwgMSB9KVxuICAgICAgICAgIC5tYXAoKCkgPT4gJzxzcGFuIGNsYXNzPVwiYmxvY2sgaC0yIHctZnVsbCByb3VuZGVkLWZ1bGwgYmctc2xhdGUtMzAwXCI+PC9zcGFuPicpXG4gICAgICAgICAgLmpvaW4oJycpO1xuICAgICAgZ3JvdXBQcmV2aWV3TW9iaWxlLmlubmVySFRNTCA9IHJlbmRlckJveGVzKG1vYmlsZVZhbHVlKTtcbiAgICAgIGdyb3VwUHJldmlld0Rlc2t0b3AuaW5uZXJIVE1MID0gcmVuZGVyQm94ZXMoZGVza3RvcFZhbHVlKTtcbiAgICB9O1xuICAgIGNvbnN0IGZldGNoUGFnZXNGcm9tU2VydmVyID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFwYWdlc0FwaUJhc2UpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChwYWdlc0FwaUJhc2UsIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ltcG9zc2libGUgZGUgY2hhcmdlciBsZXMgcGFnZXMuJyk7XG4gICAgICB9XG4gICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+IFtdKTtcbiAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHBheWxvYWQpID8gcGF5bG9hZCA6IFtdO1xuICAgIH07XG4gICAgY29uc3QgY3JlYXRlUGFnZU9uU2VydmVyID0gYXN5bmMgKHsgdGl0bGUsIHNsdWcgfSkgPT4ge1xuICAgICAgaWYgKCFwYWdlc0FwaUJhc2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTaXRlIGluY29ubnUuJyk7XG4gICAgICB9XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHBhZ2VzQXBpQmFzZSwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgdGl0bGUsIHNsdWcgfSksXG4gICAgICB9KTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHBheWxvYWQubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBjclx1MDBFOWVyIGxhIHBhZ2UuJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgIH07XG4gICAgY29uc3Qgc2F2ZVBhZ2VUb1NlcnZlciA9IGFzeW5jIChwYWdlKSA9PiB7XG4gICAgICBpZiAoIXBhZ2VzQXBpQmFzZSB8fCAhcGFnZT8uaWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtwYWdlc0FwaUJhc2V9LyR7ZW5jb2RlVVJJQ29tcG9uZW50KHBhZ2UuaWQpfWAsIHtcbiAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYWdlKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihwYXlsb2FkLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgc2F1dmVnYXJkZXIgbGEgcGFnZS4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzYXZlZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgaWYgKHNhdmVkPy5pZCkge1xuICAgICAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBub3JtYWxpemVQYWdlRGF0YShzYXZlZCk7XG4gICAgICAgICAgcGFnZXMgPSBwYWdlcy5tYXAoKGVudHJ5KSA9PiAoZW50cnkuaWQgPT09IG5vcm1hbGl6ZWQuaWQgPyBub3JtYWxpemVkIDogZW50cnkpKTtcbiAgICAgICAgICBpZiAoY3VycmVudFBhZ2U/LmlkID09PSBub3JtYWxpemVkLmlkKSB7XG4gICAgICAgICAgICBjdXJyZW50UGFnZSA9IG5vcm1hbGl6ZWQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBub3JtYWxpemVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzYXZlZDtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZGVzaWduXSBTYXZlIHBhZ2UgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdTYXV2ZWdhcmRlIGltcG9zc2libGUuJyk7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBsb2FkUGFnZXNGcm9tU2VydmVyID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFwYWdlc0FwaUJhc2UpIHtcbiAgICAgICAgcGFnZXMgPSBbXTtcbiAgICAgICAgYWN0aXZlUGFnZUlkID0gbnVsbDtcbiAgICAgICAgY3VycmVudFBhZ2UgPSBudWxsO1xuICAgICAgICByZW5kZXJQYWdlTGlzdHMocGFnZXMsIGFjdGl2ZVBhZ2VJZCk7XG4gICAgICAgIHJlbmRlckJsb2NrTGlzdChudWxsKTtcbiAgICAgICAgYmxvY2tEZXRhaWxFbXB0eT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIGJsb2NrRWRpdG9yPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgbG9hZGVkUGFnZXMgPSBhd2FpdCBmZXRjaFBhZ2VzRnJvbVNlcnZlcigpO1xuICAgICAgICBwYWdlcyA9IChBcnJheS5pc0FycmF5KGxvYWRlZFBhZ2VzKSA/IGxvYWRlZFBhZ2VzIDogW10pLm1hcCgocGFnZSkgPT5cbiAgICAgICAgICBub3JtYWxpemVQYWdlRGF0YShwYWdlKSxcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKHBhZ2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIGFjdGl2ZVBhZ2VJZCA9IG51bGw7XG4gICAgICAgICAgY3VycmVudFBhZ2UgPSBudWxsO1xuICAgICAgICAgIHJlbmRlclBhZ2VMaXN0cyhwYWdlcywgYWN0aXZlUGFnZUlkKTtcbiAgICAgICAgICByZW5kZXJCbG9ja0xpc3QobnVsbCk7XG4gICAgICAgICAgYmxvY2tEZXRhaWxFbXB0eT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgYmxvY2tFZGl0b3I/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICAgIHByZXZpZXdGcmFtZSAmJiAocHJldmlld0ZyYW1lLnNyY2RvYyA9IGdldExvYWRpbmdQcmV2aWV3SHRtbCgpKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgYWN0aXZlUGFnZUlkID0gZ2V0U3RvcmVkQWN0aXZlUGFnZShwYWdlcyk7XG4gICAgICAgIHNldEFjdGl2ZVBhZ2UoYWN0aXZlUGFnZUlkKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZGVzaWduXSBJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIHBhZ2VzJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KCdJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIHBhZ2VzLicpO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3Qgbm9ybWFsaXplVHlwZSA9ICh2YWx1ZSkgPT5cbiAgICAgICh2YWx1ZSB8fCAnJykubm9ybWFsaXplKCdORkQnKS5yZXBsYWNlKC9bXFx1MDMwMC1cXHUwMzZmXS9nLCAnJykudG9Mb3dlckNhc2UoKTtcbiAgICBjb25zdCBnZXRCbG9ja0Zvcm1Db25maWcgPSAoYmxvY2spID0+IHtcbiAgICAgIGlmICghYmxvY2spIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICBjb25zdCB0eXBlS2V5ID0gbm9ybWFsaXplVHlwZShibG9jay50eXBlKTtcbiAgICAgIGNvbnN0IGFsaWFzID0gYmxvY2tUeXBlQWxpYXNlc1t0eXBlS2V5XSB8fCB0eXBlS2V5O1xuICAgICAgcmV0dXJuIGJsb2NrVHlwZUZvcm1zW2FsaWFzXSB8fCBudWxsO1xuICAgIH07XG4gICAgY29uc3QgcG9wdWxhdGVCbG9ja0Zvcm0gPSAoYmxvY2spID0+IHtcbiAgICAgIGlmICghYmxvY2tGb3JtIHx8ICFibG9ja0VkaXRvcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoYmxvY2sgJiYgIWJsb2NrLnNldHRpbmdzKSB7XG4gICAgICAgIGJsb2NrLnNldHRpbmdzID0ge307XG4gICAgICB9XG4gICAgICBjb25zdCBjb25maWcgPSBnZXRCbG9ja0Zvcm1Db25maWcoYmxvY2spO1xuICAgICAgaWYgKGJsb2NrRWRpdG9yVGl0bGUpIHtcbiAgICAgICAgYmxvY2tFZGl0b3JUaXRsZS50ZXh0Q29udGVudCA9IGJsb2NrPy5sYWJlbCB8fCAnQmxvYyc7XG4gICAgICB9XG4gICAgICBpZiAoYmxvY2tFZGl0b3JUeXBlKSB7XG4gICAgICAgIGJsb2NrRWRpdG9yVHlwZS50ZXh0Q29udGVudCA9IGJsb2NrPy50eXBlIHx8ICdCbG9jJztcbiAgICAgIH1cbiAgICAgIGlmICghY29uZmlnKSB7XG4gICAgICAgIGJsb2NrRm9ybS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgYmxvY2tFZGl0b3JVbnN1cHBvcnRlZD8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIGJsb2NrRm9ybS5kYXRhc2V0LmJsb2NrSWQgPSAnJztcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYmxvY2tFZGl0b3JVbnN1cHBvcnRlZD8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBibG9ja0Zvcm0uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBibG9ja0Zvcm0ucmVzZXQoKTtcbiAgICAgIGJsb2NrRm9ybS5kYXRhc2V0LmJsb2NrSWQgPSBibG9jay5pZDtcbiAgICAgIGJsb2NrRm9ybVNlY3Rpb25zLmZvckVhY2goKHNlY3Rpb24pID0+IHtcbiAgICAgICAgY29uc3Qgc2VjdGlvbklkID0gc2VjdGlvbi5kYXRhc2V0LmVkaXRvclNlY3Rpb247XG4gICAgICAgIGlmIChzZWN0aW9uSWQgPT09IGNvbmZpZy5zZWN0aW9uKSB7XG4gICAgICAgICAgc2VjdGlvbi5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWN0aW9uLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmIChjb25maWcuc2VjdGlvbiA9PT0gJ2NvbGxlY3Rpb24nKSB7XG4gICAgICAgIGNvbnN0IGRlc2lyZWRWYWx1ZSA9IGJsb2NrLmNvbGxlY3Rpb25JZCB8fCBibG9jay5zZXR0aW5ncz8uY29sbGVjdGlvbklkIHx8ICcnO1xuICAgICAgICB1cGRhdGVDb2xsZWN0aW9uU2VsZWN0T3B0aW9ucyhkZXNpcmVkVmFsdWUpO1xuICAgICAgfVxuICAgICAgT2JqZWN0LmVudHJpZXMoY29uZmlnLmZpZWxkcykuZm9yRWFjaCgoW3NldHRpbmdLZXksIGZpZWxkTmFtZV0pID0+IHtcbiAgICAgICAgY29uc3QgaW5wdXQgPSBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcihgW25hbWU9XCIke2ZpZWxkTmFtZX1cIl1gKTtcbiAgICAgICAgaWYgKCFpbnB1dCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2YWx1ZSA9IGJsb2NrLnNldHRpbmdzPy5bc2V0dGluZ0tleV07XG4gICAgICAgIGlmIChpbnB1dC50eXBlID09PSAnY2hlY2tib3gnKSB7XG4gICAgICAgICAgaW5wdXQuY2hlY2tlZCA9IEJvb2xlYW4odmFsdWUpO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0LnR5cGUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgaW5wdXQudmFsdWUgPSB2YWx1ZSA/PyAxO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0LnRhZ05hbWUgPT09ICdURVhUQVJFQScpIHtcbiAgICAgICAgICBpbnB1dC52YWx1ZSA9IHZhbHVlID8/ICcnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlucHV0LnZhbHVlID0gdmFsdWUgPz8gJyc7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKGNvbmZpZy5zZWN0aW9uID09PSAnZ3JvdXAnKSB7XG4gICAgICAgIGNvbnN0IG1vYmlsZVZhbHVlID1cbiAgICAgICAgICBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJncm91cC1jb2x1bW5zLW1vYmlsZVwiXScpPy52YWx1ZSB8fCAnMSc7XG4gICAgICAgIGNvbnN0IGRlc2t0b3BWYWx1ZSA9XG4gICAgICAgICAgYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZ3JvdXAtY29sdW1ucy1kZXNrdG9wXCJdJyk/LnZhbHVlIHx8ICczJztcbiAgICAgICAgdXBkYXRlR3JvdXBNaW5pUHJldmlldyhtb2JpbGVWYWx1ZSwgZGVza3RvcFZhbHVlKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGNvbGxlY3RGb3JtVmFsdWVzID0gKGNvbmZpZykgPT4ge1xuICAgICAgaWYgKCFibG9ja0Zvcm0gfHwgIWNvbmZpZykge1xuICAgICAgICByZXR1cm4ge307XG4gICAgICB9XG4gICAgICBjb25zdCB2YWx1ZXMgPSB7fTtcbiAgICAgIE9iamVjdC5lbnRyaWVzKGNvbmZpZy5maWVsZHMpLmZvckVhY2goKFtzZXR0aW5nS2V5LCBmaWVsZE5hbWVdKSA9PiB7XG4gICAgICAgIGNvbnN0IGlucHV0ID0gYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3IoYFtuYW1lPVwiJHtmaWVsZE5hbWV9XCJdYCk7XG4gICAgICAgIGlmICghaW5wdXQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlucHV0LnR5cGUgPT09ICdjaGVja2JveCcpIHtcbiAgICAgICAgICB2YWx1ZXNbc2V0dGluZ0tleV0gPSBpbnB1dC5jaGVja2VkO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0LnR5cGUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgY29uc3QgcGFyc2VkID0gTnVtYmVyKGlucHV0LnZhbHVlKTtcbiAgICAgICAgICB2YWx1ZXNbc2V0dGluZ0tleV0gPSBOdW1iZXIuaXNGaW5pdGUocGFyc2VkKSA/IHBhcnNlZCA6IDA7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5wdXQudGFnTmFtZSA9PT0gJ1RFWFRBUkVBJykge1xuICAgICAgICAgIHZhbHVlc1tzZXR0aW5nS2V5XSA9IGlucHV0LnZhbHVlIHx8ICcnO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0LnR5cGUgPT09ICdzZWxlY3Qtb25lJykge1xuICAgICAgICAgIHZhbHVlc1tzZXR0aW5nS2V5XSA9IGlucHV0LnZhbHVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhbHVlc1tzZXR0aW5nS2V5XSA9IGlucHV0LnZhbHVlIHx8ICcnO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgfTtcbiAgICBjb25zdCB1cGRhdGVQcmV2aWV3U3RhdHVzID0gKHRleHQpID0+IHtcbiAgICAgIGlmICghcHJldmlld1N0YXR1cykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIXRleHQpIHtcbiAgICAgICAgcHJldmlld1N0YXR1cy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcHJldmlld1N0YXR1cy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIHByZXZpZXdTdGF0dXMudGV4dENvbnRlbnQgPSB0ZXh0O1xuICAgIH07XG4gICAgY29uc3Qgc2VyaWFsaXplUGFnZUZvclByZXZpZXcgPSAocGFnZSkgPT4ge1xuICAgICAgaWYgKCFwYWdlKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IHBhZ2UuaWQsXG4gICAgICAgIHRpdGxlOiBwYWdlLnRpdGxlLFxuICAgICAgICBzbHVnOiBwYWdlLnNsdWcsXG4gICAgICAgIGJhZGdlczogWy4uLihwYWdlLmJhZGdlcyB8fCBbXSldLFxuICAgICAgICBibG9ja3M6IChwYWdlLmJsb2NrcyB8fCBbXSkubWFwKChibG9jaykgPT4gKHtcbiAgICAgICAgICBpZDogYmxvY2suaWQsXG4gICAgICAgICAgdHlwZTogYmxvY2sudHlwZSxcbiAgICAgICAgICBsYWJlbDogYmxvY2subGFiZWwsXG4gICAgICAgICAgc3RhdHVzOiBibG9jay5zdGF0dXMsXG4gICAgICAgICAgZGVzY3JpcHRpb246IGJsb2NrLmRlc2NyaXB0aW9uLFxuICAgICAgICAgIHByb3BzOiBibG9jay5wcm9wcyB8fCBbXSxcbiAgICAgICAgICBzZXR0aW5nczogYmxvY2suc2V0dGluZ3MgfHwge30sXG4gICAgICAgICAgY29sbGVjdGlvbklkOiBibG9jay5jb2xsZWN0aW9uSWQgfHwgYmxvY2suc2V0dGluZ3M/LmNvbGxlY3Rpb25JZCB8fCAnJyxcbiAgICAgICAgfSkpLFxuICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IGdldExvYWRpbmdQcmV2aWV3SHRtbCA9ICgpID0+XG4gICAgICAnPCFET0NUWVBFIGh0bWw+PGh0bWw+PGJvZHkgc3R5bGU9XCJmb250LWZhbWlseTpJbnRlcixzYW5zLXNlcmlmO3BhZGRpbmc6NDBweDtjb2xvcjojNDc1NTY5O2JhY2tncm91bmQ6I2ZmZjtcIj5Qclx1MDBFOXBhcmF0aW9uIGRlIGxhIHByXHUwMEU5dmlzdWFsaXNhdGlvblx1MjAyNjwvYm9keT48L2h0bWw+JztcbiAgICBjb25zdCByZWZyZXNoUHJldmlldyA9IChwYWdlKSA9PiB7XG4gICAgICBpZiAoIXByZXZpZXdGcmFtZSB8fCAhcGFnZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBwcmV2aWV3U2l0ZVNsdWcgPSB3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnO1xuICAgICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgcGFnZTogc2VyaWFsaXplUGFnZUZvclByZXZpZXcocGFnZSksXG4gICAgICAgIHNpdGU6IHtcbiAgICAgICAgICB0aXRsZTogc3RvcmVkU2l0ZS5uYW1lIHx8ICdTaXRlJyxcbiAgICAgICAgICBzbHVnOiBwcmV2aWV3U2l0ZVNsdWcsXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgICAgcHJldmlld1JlYWR5ID0gZmFsc2U7XG4gICAgICB1cGRhdGVQcmV2aWV3U3RhdHVzKCdBY3R1YWxpc2F0aW9uXHUyMDI2Jyk7XG4gICAgICBwcmV2aWV3RnJhbWUuc3JjZG9jID0gZ2V0TG9hZGluZ1ByZXZpZXdIdG1sKCk7XG4gICAgICBpZiAocHJldmlld1JlcXVlc3RDb250cm9sbGVyKSB7XG4gICAgICAgIHByZXZpZXdSZXF1ZXN0Q29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgfVxuICAgICAgY29uc3QgY29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICAgIHByZXZpZXdSZXF1ZXN0Q29udHJvbGxlciA9IGNvbnRyb2xsZXI7XG4gICAgICBmZXRjaCgnL2FwaS9wcmV2aWV3Jywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICBzaWduYWw6IGNvbnRyb2xsZXIuc2lnbmFsLFxuICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQcmV2aWV3IGVycm9yJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgICAgaWYgKGNvbnRyb2xsZXIuc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgbGF0ZXN0UHJldmlld0h0bWwgPSBkYXRhLmh0bWwgfHwgJyc7XG4gICAgICAgICAgcHJldmlld0ZyYW1lLnNldEF0dHJpYnV0ZShcbiAgICAgICAgICAgICd0aXRsZScsXG4gICAgICAgICAgICBgUHJcdTAwRTl2aXN1YWxpc2F0aW9uIGRlIGxhIHBhZ2UgJHtwYWdlLnRpdGxlIHx8ICcnfWAudHJpbSgpLFxuICAgICAgICAgICk7XG4gICAgICAgICAgcHJldmlld0ZyYW1lLnNyY2RvYyA9IGxhdGVzdFByZXZpZXdIdG1sIHx8IGdldExvYWRpbmdQcmV2aWV3SHRtbCgpO1xuICAgICAgICAgIHVwZGF0ZVByZXZpZXdTdGF0dXMoJ1x1MDBDMCBqb3VyJyk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICBpZiAoY29udHJvbGxlci5zaWduYWwuYWJvcnRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbcHJldmlld10gSW1wb3NzaWJsZSBkZSByZW5kcmUgbGEgcGFnZScsIGVycm9yKTtcbiAgICAgICAgICB1cGRhdGVQcmV2aWV3U3RhdHVzKCdFcnJldXIgcHJldmlldycpO1xuICAgICAgICAgIHByZXZpZXdGcmFtZS5zcmNkb2MgPVxuICAgICAgICAgICAgJzwhRE9DVFlQRSBodG1sPjxodG1sPjxib2R5IHN0eWxlPVwiZm9udC1mYW1pbHk6SW50ZXIsc2Fucy1zZXJpZjtwYWRkaW5nOjQwcHg7Y29sb3I6I2JlMTIzYztiYWNrZ3JvdW5kOiNmZmY7XCI+RXJyZXVyIGxvcnMgZHUgcmVuZHUgZGUgbGEgcHJcdTAwRTl2aXN1YWxpc2F0aW9uLjwvYm9keT48L2h0bWw+JztcbiAgICAgICAgfSlcbiAgICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICAgIGlmIChwcmV2aWV3UmVxdWVzdENvbnRyb2xsZXIgPT09IGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgIHByZXZpZXdSZXF1ZXN0Q29udHJvbGxlciA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZUJsb2NrRm9ybVN1Ym1pdCA9IChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmICghY3VycmVudFBhZ2UgfHwgIWFjdGl2ZUJsb2NrSWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgYmxvY2sgPSBnZXRBY3RpdmVCbG9jaygpO1xuICAgICAgY29uc3QgY29uZmlnID0gZ2V0QmxvY2tGb3JtQ29uZmlnKGJsb2NrKTtcbiAgICAgIGlmICghYmxvY2sgfHwgIWNvbmZpZykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCB2YWx1ZXMgPSBjb2xsZWN0Rm9ybVZhbHVlcyhjb25maWcpO1xuICAgICAgaWYgKGNvbmZpZy5zZWN0aW9uID09PSAnY29sbGVjdGlvbicpIHtcbiAgICAgICAgaWYgKCF2YWx1ZXMuY29sbGVjdGlvbklkKSB7XG4gICAgICAgICAgc2hvd1RvYXN0KCdTXHUwMEU5bGVjdGlvbm5leiB1bmUgY29sbGVjdGlvbi4nKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFsdWVzLmxpbWl0ID0gTWF0aC5tYXgoMSwgTnVtYmVyKHZhbHVlcy5saW1pdCkgfHwgMSk7XG4gICAgICB9XG4gICAgICBjb25zdCB1cGRhdGVkQmxvY2tzID0gKGN1cnJlbnRQYWdlLmJsb2NrcyB8fCBbXSkubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICBpZiAoZW50cnkuaWQgIT09IGJsb2NrLmlkKSB7XG4gICAgICAgICAgcmV0dXJuIGVudHJ5O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRTZXR0aW5ncyA9IHsgLi4uKGVudHJ5LnNldHRpbmdzIHx8IHt9KSwgLi4udmFsdWVzIH07XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRCbG9jayA9IHtcbiAgICAgICAgICAuLi5lbnRyeSxcbiAgICAgICAgICBzZXR0aW5nczogdXBkYXRlZFNldHRpbmdzLFxuICAgICAgICB9O1xuICAgICAgICBpZiAoY29uZmlnLmxhYmVsRmllbGQgJiYgdmFsdWVzW2NvbmZpZy5sYWJlbEZpZWxkXSkge1xuICAgICAgICAgIHVwZGF0ZWRCbG9jay5sYWJlbCA9IHZhbHVlc1tjb25maWcubGFiZWxGaWVsZF07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbmZpZy5kZXNjcmlwdGlvbkZpZWxkICYmIHZhbHVlc1tjb25maWcuZGVzY3JpcHRpb25GaWVsZF0pIHtcbiAgICAgICAgICB1cGRhdGVkQmxvY2suZGVzY3JpcHRpb24gPSB2YWx1ZXNbY29uZmlnLmRlc2NyaXB0aW9uRmllbGRdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb25maWcuc2VjdGlvbiA9PT0gJ2NvbGxlY3Rpb24nKSB7XG4gICAgICAgICAgdXBkYXRlZEJsb2NrLmNvbGxlY3Rpb25JZCA9IHZhbHVlcy5jb2xsZWN0aW9uSWQ7XG4gICAgICAgICAgdXBkYXRlZEJsb2NrLnNldHRpbmdzLmNvbGxlY3Rpb25JZCA9IHZhbHVlcy5jb2xsZWN0aW9uSWQ7XG4gICAgICAgICAgdXBkYXRlZEJsb2NrLnNldHRpbmdzLmxpbWl0ID0gdmFsdWVzLmxpbWl0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1cGRhdGVkQmxvY2s7XG4gICAgICB9KTtcbiAgICAgIHVwZGF0ZUN1cnJlbnRQYWdlQmxvY2tzKHVwZGF0ZWRCbG9ja3MpO1xuICAgICAgc2hvd1RvYXN0KCdCbG9jIG1pcyBcdTAwRTAgam91cicpO1xuICAgICAgc2V0QWN0aXZlUGFnZShjdXJyZW50UGFnZS5pZCwgeyBwcmVzZXJ2ZUJsb2NrOiB0cnVlIH0pO1xuICAgIH07XG4gICAgY29uc3QgZHJhd2VyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1kcmF3ZXJdJyk7XG4gICAgY29uc3QgZHJhd2VyQmFja2Ryb3AgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLWRyYXdlci1iYWNrZHJvcF0nKTtcbiAgICBjb25zdCBkcmF3ZXJPcGVuQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXBhZ2UtZHJhd2VyLW9wZW5dJyk7XG4gICAgY29uc3QgZHJhd2VyQ2xvc2VCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtcGFnZS1kcmF3ZXItY2xvc2VdJyk7XG4gICAgY29uc3QgYWRkUGFnZVRvZ2dsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFkZC1wYWdlLXRvZ2dsZV0nKTtcbiAgICBjb25zdCBhZGRQYWdlRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFkZC1wYWdlLWZvcm1dJyk7XG4gICAgY29uc3QgYWRkUGFnZVRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRkLXBhZ2UtdGl0bGVdJyk7XG4gICAgY29uc3QgYWRkUGFnZVNsdWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZGQtcGFnZS1zbHVnXScpO1xuICAgIGNvbnN0IGFkZFBhZ2VDYW5jZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZGQtcGFnZS1jYW5jZWxdJyk7XG4gICAgY29uc3QgYWRkUGFnZUVycm9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRkLXBhZ2UtZXJyb3JdJyk7XG4gICAgY29uc3QgYWRkUGFnZVN1Ym1pdEJ1dHRvbiA9IGFkZFBhZ2VGb3JtPy5xdWVyeVNlbGVjdG9yKCdbdHlwZT1cInN1Ym1pdFwiXScpO1xuICAgIGNvbnN0IHNpdGVLZXkgPVxuICAgICAgc3RyaXBMZWFkaW5nU2xhc2god29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnZGVmYXVsdCcpIHx8ICdkZWZhdWx0JztcbiAgICBjb25zdCBzaXRlU2x1Z1ZhbHVlID0gd29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnJztcbiAgICBjb25zdCBzYWZlU2l0ZVNsdWcgPSBzdHJpcExlYWRpbmdTbGFzaChzaXRlU2x1Z1ZhbHVlKSB8fCAnJztcbiAgICBjb25zdCBwYWdlc0FwaUJhc2UgPSBzYWZlU2l0ZVNsdWdcbiAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnKX0vcGFnZXNgXG4gICAgICA6IG51bGw7XG4gICAgY29uc3QgY29sbGVjdGlvbnNBcGlCYXNlID0gc2FmZVNpdGVTbHVnXG4gICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Zyl9L2NvbGxlY3Rpb25zYFxuICAgICAgOiBudWxsO1xuICAgIGNvbnN0IHN0b3JhZ2VLZXlzID0ge1xuICAgICAgYWN0aXZlOiBgY2xvd2VyOmFjdGl2ZVBhZ2U6JHtzaXRlS2V5fWAsXG4gICAgfTtcbiAgICBjb25zdCBjcmVhdGVCbG9jayA9IChpZCwgbGFiZWwsIHR5cGUsIHN0YXR1cywgZGVzY3JpcHRpb24sIHByb3BzID0gW10sIHNldHRpbmdzID0ge30pID0+IHtcbiAgICAgIGNvbnN0IGJsb2NrID0ge1xuICAgICAgICBpZCxcbiAgICAgICAgbGFiZWwsXG4gICAgICAgIHR5cGUsXG4gICAgICAgIHN0YXR1cyxcbiAgICAgICAgZGVzY3JpcHRpb24sXG4gICAgICAgIHByb3BzLFxuICAgICAgICBzZXR0aW5nczogeyAuLi5zZXR0aW5ncyB9LFxuICAgICAgfTtcbiAgICAgIGlmIChibG9jay5zZXR0aW5ncy5jb2xsZWN0aW9uSWQpIHtcbiAgICAgICAgYmxvY2suY29sbGVjdGlvbklkID0gYmxvY2suc2V0dGluZ3MuY29sbGVjdGlvbklkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJsb2NrO1xuICAgIH07XG4gICAgY29uc3QgYmxvY2tMaWJyYXJ5RGVmaW5pdGlvbnMgPSB7XG4gICAgICBoZXJvOiB7XG4gICAgICAgIHR5cGU6ICdIZXJvJyxcbiAgICAgICAgbGFiZWw6ICdIZXJvIGRlIHBhZ2UnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ1NlY3Rpb24gcGxlaW5lIGxhcmdldXIgYXZlYyBDVEEgcHJpbmNpcGFsLicsXG4gICAgICAgIHN0YXR1czogJ0Jyb3VpbGxvbicsXG4gICAgICAgIHByb3BzOiBbXG4gICAgICAgICAgeyBsYWJlbDogJ0NUQScsIHZhbHVlOiAnRFx1MDBFOWNvdXZyaXInIH0sXG4gICAgICAgICAgeyBsYWJlbDogJ0hhdXRldXInLCB2YWx1ZTogJzgwdmgnIH0sXG4gICAgICAgIF0sXG4gICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgdGl0bGU6ICdUaXRyZSBkdSBoZXJvJyxcbiAgICAgICAgICBzdWJ0aXRsZTogJycsXG4gICAgICAgICAgY3RhTGFiZWw6ICdEXHUwMEU5Y291dnJpcicsXG4gICAgICAgICAgY3RhVXJsOiAnIycsXG4gICAgICAgICAgaW1hZ2U6ICcnLFxuICAgICAgICAgIGFsaWduOiAnY2VudGVyJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBwYXJhZ3JhcGg6IHtcbiAgICAgICAgdHlwZTogJ1BhcmFncmFwaGUnLFxuICAgICAgICBsYWJlbDogJ0Jsb2MgXHUwMEU5ZGl0b3JpYWwnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ1BhcmFncmFwaGUgbGlicmUgcG91ciByYWNvbnRlciB2b3RyZSBoaXN0b2lyZS4nLFxuICAgICAgICBzdGF0dXM6ICdCcm91aWxsb24nLFxuICAgICAgICBwcm9wczogW3sgbGFiZWw6ICdMb25ndWV1cicsIHZhbHVlOiAnMTUwIG1vdHMnIH1dLFxuICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgIHRpdGxlOiAnVGl0cmUgZHUgcGFyYWdyYXBoZScsXG4gICAgICAgICAgY29udGVudDogJycsXG4gICAgICAgICAgYWxpZ246ICdsZWZ0JyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBpbWFnZToge1xuICAgICAgICB0eXBlOiAnSW1hZ2UnLFxuICAgICAgICBsYWJlbDogJ0Jsb2MgaW1hZ2UnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ1Zpc3VlbCBzZXVsIGF2ZWMgbFx1MDBFOWdlbmRlIG9wdGlvbm5lbGxlLicsXG4gICAgICAgIHN0YXR1czogJ0Jyb3VpbGxvbicsXG4gICAgICAgIHByb3BzOiBbXG4gICAgICAgICAgeyBsYWJlbDogJ1JhdGlvJywgdmFsdWU6ICcxNjo5JyB9LFxuICAgICAgICAgIHsgbGFiZWw6ICdMXHUwMEU5Z2VuZGUnLCB2YWx1ZTogJ0luYWN0aXZlJyB9LFxuICAgICAgICBdLFxuICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgIHNyYzogJycsXG4gICAgICAgICAgYWx0OiAnJyxcbiAgICAgICAgICBzaG93Q2FwdGlvbjogZmFsc2UsXG4gICAgICAgICAgY2FwdGlvbjogJycsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgZ3JvdXA6IHtcbiAgICAgICAgdHlwZTogJ0dyb3VwZScsXG4gICAgICAgIGxhYmVsOiAnR3JvdXBlIGRlIHNlY3Rpb25zJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdDb250ZW5ldXIgcG91ciBpbWJyaXF1ZXIgcGx1c2lldXJzIHNvdXMtYmxvY3MuJyxcbiAgICAgICAgc3RhdHVzOiAnQnJvdWlsbG9uJyxcbiAgICAgICAgcHJvcHM6IFt7IGxhYmVsOiAnRGlzcG9zaXRpb24nLCB2YWx1ZTogJ1ZlcnRpY2FsZScgfV0sXG4gICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgbGF5b3V0OiAnZ3JpZCcsXG4gICAgICAgICAgY29sdW1uc01vYmlsZTogJzEnLFxuICAgICAgICAgIGNvbHVtbnNEZXNrdG9wOiAnMycsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgY29sbGVjdGlvbmdyaWQ6IHtcbiAgICAgICAgdHlwZTogJ0NvbGxlY3Rpb25HcmlkJyxcbiAgICAgICAgbGFiZWw6ICdHcmlsbGUgZGUgY29udGVudXMnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0FmZmljaGUgYXV0b21hdGlxdWVtZW50IGxlcyBpdGVtcyBkXHUyMDE5dW5lIGNvbGxlY3Rpb24uJyxcbiAgICAgICAgc3RhdHVzOiAnQnJvdWlsbG9uJyxcbiAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICBjb2xsZWN0aW9uSWQ6ICcnLFxuICAgICAgICAgIGxpbWl0OiA2LFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9O1xuICAgIGNvbnN0IHBlcnNpc3RBY3RpdmVQYWdlID0gKHBhZ2VJZCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKHN0b3JhZ2VLZXlzLmFjdGl2ZSwgcGFnZUlkKTtcbiAgICAgIH0gY2F0Y2gge1xuICAgICAgICAvKiBpZ25vcmUgc3RvcmFnZSBlcnJvcnMgKi9cbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGdldFN0b3JlZEFjdGl2ZVBhZ2UgPSAocGFnZXMpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHN0b3JlZCA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShzdG9yYWdlS2V5cy5hY3RpdmUpO1xuICAgICAgICBpZiAoc3RvcmVkICYmIHBhZ2VzLnNvbWUoKHBhZ2UpID0+IHBhZ2UuaWQgPT09IHN0b3JlZCkpIHtcbiAgICAgICAgICByZXR1cm4gc3RvcmVkO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgLyogaWdub3JlIHN0b3JhZ2UgZXJyb3JzICovXG4gICAgICB9XG4gICAgICByZXR1cm4gcGFnZXNbMF0/LmlkIHx8IG51bGw7XG4gICAgfTtcbiAgICBjb25zdCBmb3JtYXRCbG9ja0NvdW50ID0gKGNvdW50KSA9PiB7XG4gICAgICBpZiAoIWNvdW50IHx8IGNvdW50IDw9IDApIHtcbiAgICAgICAgcmV0dXJuICcwIGJsb2MnO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNvdW50ID09PSAxID8gJzEgYmxvYycgOiBgJHtjb3VudH0gYmxvY3NgO1xuICAgIH07XG4gICAgY29uc3Qgbm9ybWFsaXplUGFnZVNsdWcgPSAodmFsdWUpID0+IHtcbiAgICAgIGlmICghdmFsdWUgfHwgdmFsdWUgPT09ICcvJykge1xuICAgICAgICByZXR1cm4gJy8nO1xuICAgICAgfVxuICAgICAgY29uc3QgYmFzZSA9IHdvcmtzcGFjZVNsdWdpZnkodmFsdWUucmVwbGFjZSgvXlxcLy8sICcnKSk7XG4gICAgICByZXR1cm4gYmFzZSA/IGAvJHtiYXNlfWAgOiAnLyc7XG4gICAgfTtcbiAgICBjb25zdCBnZW5lcmF0ZUJsb2NrSWQgPSAocGFnZUlkID0gJ3BhZ2UnLCBrZXkgPSAnYmxvY2snKSA9PlxuICAgICAgYCR7cGFnZUlkfS0ke2tleX0tJHtEYXRlLm5vdygpLnRvU3RyaW5nKDM2KX0tJHtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwKX1gO1xuICAgIGNvbnN0IGNyZWF0ZUluaXRpYWxCbG9ja3MgPSAocGFnZUlkLCB0aXRsZSkgPT4gW1xuICAgICAgY3JlYXRlQmxvY2soXG4gICAgICAgIGdlbmVyYXRlQmxvY2tJZChwYWdlSWQsICdpbnRybycpLFxuICAgICAgICAnSW50cm9kdWN0aW9uJyxcbiAgICAgICAgJ1BhcmFncmFwaGUnLFxuICAgICAgICAnQnJvdWlsbG9uJyxcbiAgICAgICAgYFBhcmFncmFwaGUgaW50cm9kdWN0aWYgcG91ciBcIiR7dGl0bGV9XCIuYCxcbiAgICAgICAgW3sgbGFiZWw6ICdMb25ndWV1cicsIHZhbHVlOiAnMiBwYXJhZ3JhcGhlcycgfV0sXG4gICAgICAgIHtcbiAgICAgICAgICB0aXRsZTogYEludHJvZHVjdGlvbiBcdTAwRTAgJHt0aXRsZX1gLFxuICAgICAgICAgIGNvbnRlbnQ6ICdBam91dGV6IHZvdHJlIHByZW1pZXIgcGFyYWdyYXBoZSBkZSBwclx1MDBFOXNlbnRhdGlvbi4nLFxuICAgICAgICAgIGFsaWduOiAnbGVmdCcsXG4gICAgICAgIH0sXG4gICAgICApLFxuICAgICAgY3JlYXRlQmxvY2soXG4gICAgICAgIGdlbmVyYXRlQmxvY2tJZChwYWdlSWQsICdjb250ZW50JyksXG4gICAgICAgICdab25lIGRlIGNvbnRlbnUnLFxuICAgICAgICAnR3JvdXBlJyxcbiAgICAgICAgJ0Jyb3VpbGxvbicsXG4gICAgICAgICdTZWN0aW9uIHByaW5jaXBhbGUgXHUwMEUwIGNvbXBvc2VyIGF2ZWMgdGV4dGVzIGV0IHZpc3VlbHMuJyxcbiAgICAgICAgW3sgbGFiZWw6ICdDb2xvbm5lcycsIHZhbHVlOiAnQXV0bycgfV0sXG4gICAgICAgIHtcbiAgICAgICAgICBsYXlvdXQ6ICdncmlkJyxcbiAgICAgICAgICBjb2x1bW5zTW9iaWxlOiAnMScsXG4gICAgICAgICAgY29sdW1uc0Rlc2t0b3A6ICcyJyxcbiAgICAgICAgfSxcbiAgICAgICksXG4gICAgXTtcbiAgICBjb25zdCBzZXRBY3RpdmVMYWJlbHMgPSAocGFnZSkgPT4ge1xuICAgICAgaWYgKGFjdGl2ZVRpdGxlKSB7XG4gICAgICAgIGFjdGl2ZVRpdGxlLnRleHRDb250ZW50ID0gcGFnZT8udGl0bGUgfHwgJ1BhZ2UnO1xuICAgICAgfVxuICAgICAgaWYgKGFjdGl2ZVNsdWcpIHtcbiAgICAgICAgYWN0aXZlU2x1Zy50ZXh0Q29udGVudCA9IHBhZ2U/LnNsdWcgfHwgJy8nO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgcmVuZGVyUHJldmlld01ldGEgPSAocGFnZSkgPT4ge1xuICAgICAgaWYgKCFwcmV2aWV3VGFncykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwcmV2aWV3VGFncy5pbm5lckhUTUwgPSAnJztcbiAgICAgIGNvbnN0IHRhZ3MgPVxuICAgICAgICBwYWdlICYmIHBhZ2UuYmFkZ2VzICYmIHBhZ2UuYmFkZ2VzLmxlbmd0aCA+IDAgPyBwYWdlLmJhZGdlcyA6IFsnU3RydWN0dXJlIGVuIGNvdXJzJ107XG4gICAgICB0YWdzLmZvckVhY2goKHRhZykgPT4ge1xuICAgICAgICBjb25zdCBiYWRnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgYmFkZ2UuY2xhc3NOYW1lID0gJ3JvdW5kZWQtZnVsbCBiZy1zbGF0ZS0xMDAgcHgtMyBweS0xJztcbiAgICAgICAgYmFkZ2UudGV4dENvbnRlbnQgPSB0YWc7XG4gICAgICAgIHByZXZpZXdUYWdzLmFwcGVuZENoaWxkKGJhZGdlKTtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgY29uc3QgZ2V0U3RhdHVzQmFkZ2VDbGFzc2VzID0gKHN0YXR1cykgPT4ge1xuICAgICAgc3dpdGNoICgoc3RhdHVzIHx8ICcnKS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgIGNhc2UgJ2VuIGxpZ25lJzpcbiAgICAgICAgICByZXR1cm4gJ2JnLWVtZXJhbGQtNTAgdGV4dC1lbWVyYWxkLTcwMCc7XG4gICAgICAgIGNhc2UgJ2Jyb3VpbGxvbic6XG4gICAgICAgICAgcmV0dXJuICdiZy1hbWJlci01MCB0ZXh0LWFtYmVyLTcwMCc7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuICdiZy1zbGF0ZS0xMDAgdGV4dC1zbGF0ZS02MDAnO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgcmVuZGVyQmxvY2tEZXRhaWxzID0gKGJsb2NrKSA9PiB7XG4gICAgICBpZiAoIWJsb2NrRGV0YWlsRW1wdHkgfHwgIWJsb2NrRWRpdG9yKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghYmxvY2spIHtcbiAgICAgICAgYmxvY2tEZXRhaWxFbXB0eS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgYmxvY2tFZGl0b3IuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIGJsb2NrRWRpdG9yVW5zdXBwb3J0ZWQ/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBibG9ja0Zvcm0/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBibG9ja0RldGFpbFN0YXR1cz8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGJsb2NrRGV0YWlsRW1wdHkuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBibG9ja0VkaXRvci5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGlmIChibG9ja0RldGFpbFN0YXR1cykge1xuICAgICAgICBpZiAoYmxvY2suc3RhdHVzKSB7XG4gICAgICAgICAgYmxvY2tEZXRhaWxTdGF0dXMudGV4dENvbnRlbnQgPSBibG9jay5zdGF0dXM7XG4gICAgICAgICAgYmxvY2tEZXRhaWxTdGF0dXMuY2xhc3NOYW1lID0gYHJvdW5kZWQtZnVsbCBweC0zIHB5LTEgdGV4dC14cyBmb250LXNlbWlib2xkICR7Z2V0U3RhdHVzQmFkZ2VDbGFzc2VzKFxuICAgICAgICAgICAgYmxvY2suc3RhdHVzLFxuICAgICAgICAgICl9YDtcbiAgICAgICAgICBibG9ja0RldGFpbFN0YXR1cy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBibG9ja0RldGFpbFN0YXR1cy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcG9wdWxhdGVCbG9ja0Zvcm0oYmxvY2spO1xuICAgIH07XG4gICAgY29uc3QgYXBwbHlQcmV2aWV3SGlnaGxpZ2h0ID0gKGJsb2NrSWQpID0+IHtcbiAgICAgIGlmICghcHJldmlld0ZyYW1lKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRvYyA9IHByZXZpZXdGcmFtZS5jb250ZW50RG9jdW1lbnQ7XG4gICAgICBpZiAoIWRvYykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBub2RlcyA9IGRvYy5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1wcmV2aWV3LWJsb2NrXScpO1xuICAgICAgbm9kZXMuZm9yRWFjaCgobm9kZSkgPT4ge1xuICAgICAgICBpZiAobm9kZS5kYXRhc2V0LnByZXZpZXdCbG9jayA9PT0gYmxvY2tJZCkge1xuICAgICAgICAgIG5vZGUuY2xhc3NMaXN0LmFkZCgncHJldmlldy1ibG9jay1hY3RpdmUnKTtcbiAgICAgICAgICBpZiAocHJldmlld1JlYWR5ICYmIGJsb2NrSWQpIHtcbiAgICAgICAgICAgIG5vZGUuc2Nyb2xsSW50b1ZpZXcoeyBiZWhhdmlvcjogJ3Ntb290aCcsIGJsb2NrOiAnY2VudGVyJywgaW5saW5lOiAnbmVhcmVzdCcgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5vZGUuY2xhc3NMaXN0LnJlbW92ZSgncHJldmlldy1ibG9jay1hY3RpdmUnKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAocHJldmlld0hpZ2hsaWdodE92ZXJsYXkpIHtcbiAgICAgICAgcHJldmlld0hpZ2hsaWdodE92ZXJsYXkuc3R5bGUuYm9yZGVyQ29sb3IgPSBibG9ja0lkID8gJ3JnYmEoMTU2LCAxMDcsIDI1NSwgMC41KScgOiAndHJhbnNwYXJlbnQnO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgcmVuZGVyQmxvY2tMaXN0ID0gKHBhZ2UpID0+IHtcbiAgICAgIGlmICghYmxvY2tMaXN0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGJsb2NrTGlzdC5pbm5lckhUTUwgPSAnJztcbiAgICAgIGNvbnN0IGJsb2NrcyA9IHBhZ2U/LmJsb2NrcyB8fCBbXTtcbiAgICAgIGlmIChibG9ja0NvdW50QmFkZ2UpIHtcbiAgICAgICAgYmxvY2tDb3VudEJhZGdlLnRleHRDb250ZW50ID0gZm9ybWF0QmxvY2tDb3VudChibG9ja3MubGVuZ3RoKTtcbiAgICAgIH1cbiAgICAgIGlmIChibG9ja3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGJsb2NrTGlzdC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgYmxvY2tMaXN0RW1wdHk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBibG9ja0xpc3QuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBibG9ja0xpc3RFbXB0eT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBibG9ja3MuZm9yRWFjaCgoYmxvY2spID0+IHtcbiAgICAgICAgY29uc3QgaXNBY3RpdmUgPSBibG9jay5pZCA9PT0gYWN0aXZlQmxvY2tJZDtcbiAgICAgICAgY29uc3QgaXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBpdGVtLmRhdGFzZXQuYmxvY2tJdGVtID0gJ3RydWUnO1xuICAgICAgICBpdGVtLmRhdGFzZXQuYmxvY2tJZCA9IGJsb2NrLmlkO1xuICAgICAgICBpdGVtLnNldEF0dHJpYnV0ZSgncm9sZScsICdvcHRpb24nKTtcbiAgICAgICAgaXRlbS5zZXRBdHRyaWJ1dGUoJ2FyaWEtc2VsZWN0ZWQnLCBpc0FjdGl2ZSA/ICd0cnVlJyA6ICdmYWxzZScpO1xuICAgICAgICBpdGVtLnRhYkluZGV4ID0gMDtcbiAgICAgICAgaXRlbS5jbGFzc05hbWUgPSBbXG4gICAgICAgICAgJ3JlbGF0aXZlIGZsZXggaXRlbXMtY2VudGVyIGdhcC0zIHJvdW5kZWQtMnhsIGJvcmRlciBweC0zIHB5LTIgdGV4dC1sZWZ0IHRyYW5zaXRpb24nLFxuICAgICAgICAgIGlzQWN0aXZlXG4gICAgICAgICAgICA/ICdiZy1zbGF0ZS0xMDAgYm9yZGVyLVsjOUM2QkZGXS80MCBzaGFkb3ctc20nXG4gICAgICAgICAgICA6ICdib3JkZXItc2xhdGUtMjAwIGhvdmVyOmJvcmRlci1bIzlDNkJGRl0vNDAnLFxuICAgICAgICBdLmpvaW4oJyAnKTtcbiAgICAgICAgY29uc3QgYWNjZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICBhY2NlbnQuY2xhc3NOYW1lID0gYGFic29sdXRlIGluc2V0LXktMiBsZWZ0LTAgdy0xIHJvdW5kZWQtZnVsbCBiZy1bIzlDNkJGRl0gJHtcbiAgICAgICAgICBpc0FjdGl2ZSA/ICcnIDogJ2hpZGRlbidcbiAgICAgICAgfWA7XG4gICAgICAgIGl0ZW0uYXBwZW5kQ2hpbGQoYWNjZW50KTtcblxuICAgICAgICBjb25zdCBjb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGNvbnRlbnQuY2xhc3NOYW1lID0gJ2ZsZXggZmxleC0xIGl0ZW1zLWNlbnRlciBnYXAtMyc7XG4gICAgICAgIGNvbnN0IGhhbmRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBoYW5kbGUuY2xhc3NOYW1lID1cbiAgICAgICAgICAnaGlkZGVuIGxnOmZsZXggY3Vyc29yLWdyYWIgZmxleC1zaHJpbmstMCBpdGVtcy1jZW50ZXIgdGV4dC1sZyB0ZXh0LXNsYXRlLTQwMCc7XG4gICAgICAgIGhhbmRsZS5pbm5lckhUTUwgPSAnJiM4ODAxOyc7XG4gICAgICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQoaGFuZGxlKTtcblxuICAgICAgICBjb25zdCB0ZXh0V3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0ZXh0V3JhcHBlci5jbGFzc05hbWUgPSAnZmxleC0xJztcbiAgICAgICAgY29uc3QgbWV0YSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBtZXRhLmNsYXNzTmFtZSA9ICdmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiB0ZXh0LVsxMXB4XSB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZSB0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICAgIGNvbnN0IHR5cGVCYWRnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgdHlwZUJhZGdlLmNsYXNzTmFtZSA9XG4gICAgICAgICAgJ3JvdW5kZWQtZnVsbCBiZy1zbGF0ZS0xMDAgcHgtMiBweS0wLjUgdGV4dC1bMTBweF0gZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTYwMCc7XG4gICAgICAgIHR5cGVCYWRnZS50ZXh0Q29udGVudCA9IGJsb2NrLnR5cGU7XG4gICAgICAgIGNvbnN0IHN0YXR1c0JhZGdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICBzdGF0dXNCYWRnZS5jbGFzc05hbWUgPSAndGV4dC1zbGF0ZS00MDAnO1xuICAgICAgICBzdGF0dXNCYWRnZS50ZXh0Q29udGVudCA9IGJsb2NrLnN0YXR1cztcbiAgICAgICAgbWV0YS5hcHBlbmRDaGlsZCh0eXBlQmFkZ2UpO1xuICAgICAgICBtZXRhLmFwcGVuZENoaWxkKHN0YXR1c0JhZGdlKTtcbiAgICAgICAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgICAgIHRpdGxlLmNsYXNzTmFtZSA9ICdtdC0xIHRleHQtc20gZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTkwMCc7XG4gICAgICAgIGNvbnN0IGRpc3BsYXlMYWJlbCA9XG4gICAgICAgICAgKGJsb2NrLnNldHRpbmdzICYmIGJsb2NrLnNldHRpbmdzLnRpdGxlKSB8fCBibG9jay5sYWJlbCB8fCAnQmxvYyBzYW5zIHRpdHJlJztcbiAgICAgICAgdGl0bGUudGV4dENvbnRlbnQgPSBkaXNwbGF5TGFiZWw7XG4gICAgICAgIHRleHRXcmFwcGVyLmFwcGVuZENoaWxkKG1ldGEpO1xuICAgICAgICB0ZXh0V3JhcHBlci5hcHBlbmRDaGlsZCh0aXRsZSk7XG4gICAgICAgIGNvbnN0IGJsb2NrVHlwZSA9IChibG9jay50eXBlIHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBpZiAoYmxvY2tUeXBlID09PSAnY29sbGVjdGlvbmdyaWQnICYmIGJsb2NrLmNvbGxlY3Rpb25JZCkge1xuICAgICAgICAgIGNvbnN0IGNvbGxlY3Rpb25OYW1lID1cbiAgICAgICAgICAgIGRlc2lnbkNvbGxlY3Rpb25zLmZpbmQoKGVudHJ5KSA9PiBlbnRyeS5pZCA9PT0gYmxvY2suY29sbGVjdGlvbklkKT8ubmFtZSB8fFxuICAgICAgICAgICAgYmxvY2suY29sbGVjdGlvbklkO1xuICAgICAgICAgIGNvbnN0IGluZm8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgICAgICAgaW5mby5jbGFzc05hbWUgPSAndGV4dC14cyB0ZXh0LXNsYXRlLTQwMCc7XG4gICAgICAgICAgaW5mby50ZXh0Q29udGVudCA9IGBDb2xsZWN0aW9uIDogJHtjb2xsZWN0aW9uTmFtZX1gO1xuICAgICAgICAgIHRleHRXcmFwcGVyLmFwcGVuZENoaWxkKGluZm8pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQodGV4dFdyYXBwZXIpO1xuICAgICAgICBpdGVtLmFwcGVuZENoaWxkKGNvbnRlbnQpO1xuXG4gICAgICAgIGNvbnN0IGFjdGlvbnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgYWN0aW9ucy5jbGFzc05hbWUgPSAnZmxleCBmbGV4LWNvbCBnYXAtMSB0ZXh0LXhzIHRleHQtc2xhdGUtNDAwJztcblxuICAgICAgICBjb25zdCBtb3ZlQnV0dG9ucyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBtb3ZlQnV0dG9ucy5jbGFzc05hbWUgPSAnZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEgbGc6aGlkZGVuJztcbiAgICAgICAgY29uc3QgbW92ZVVwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIG1vdmVVcC50eXBlID0gJ2J1dHRvbic7XG4gICAgICAgIG1vdmVVcC5jbGFzc05hbWUgPVxuICAgICAgICAgICdyb3VuZGVkLWxnIGJvcmRlciBib3JkZXItc2xhdGUtMjAwIHB4LTIgcHktMSB0ZXh0LVsxMXB4XSBmb250LXNlbWlib2xkIHRleHQtc2xhdGUtNTAwJztcbiAgICAgICAgbW92ZVVwLnRleHRDb250ZW50ID0gJ1x1MjE5MSc7XG4gICAgICAgIG1vdmVVcC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgIG1vdmVCbG9ja0J5T2Zmc2V0KGJsb2NrLmlkLCAtMSk7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBtb3ZlRG93biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICBtb3ZlRG93bi50eXBlID0gJ2J1dHRvbic7XG4gICAgICAgIG1vdmVEb3duLmNsYXNzTmFtZSA9XG4gICAgICAgICAgJ3JvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1zbGF0ZS0yMDAgcHgtMiBweS0xIHRleHQtWzExcHhdIGZvbnQtc2VtaWJvbGQgdGV4dC1zbGF0ZS01MDAnO1xuICAgICAgICBtb3ZlRG93bi50ZXh0Q29udGVudCA9ICdcdTIxOTMnO1xuICAgICAgICBtb3ZlRG93bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgIG1vdmVCbG9ja0J5T2Zmc2V0KGJsb2NrLmlkLCAxKTtcbiAgICAgICAgfSk7XG4gICAgICAgIG1vdmVCdXR0b25zLmFwcGVuZENoaWxkKG1vdmVVcCk7XG4gICAgICAgIG1vdmVCdXR0b25zLmFwcGVuZENoaWxkKG1vdmVEb3duKTtcbiAgICAgICAgYWN0aW9ucy5hcHBlbmRDaGlsZChtb3ZlQnV0dG9ucyk7XG5cbiAgICAgICAgY29uc3QgZGVsZXRlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIGRlbGV0ZUJ1dHRvbi50eXBlID0gJ2J1dHRvbic7XG4gICAgICAgIGRlbGV0ZUJ1dHRvbi5jbGFzc05hbWUgPVxuICAgICAgICAgICdpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLXRyYW5zcGFyZW50IHB4LTIgcHktMSB0ZXh0LVsxMnB4XSB0ZXh0LXJvc2UtNTAwIGhvdmVyOnRleHQtcm9zZS03MDAnO1xuICAgICAgICBkZWxldGVCdXR0b24uaW5uZXJIVE1MID0gJ1x1RDgzRFx1REREMVx1RkUwRic7XG4gICAgICAgIGRlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgIG9wZW5CbG9ja0RlbGV0ZU1vZGFsKGJsb2NrLmlkKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgYWN0aW9ucy5hcHBlbmRDaGlsZChkZWxldGVCdXR0b24pO1xuICAgICAgICBpdGVtLmFwcGVuZENoaWxkKGFjdGlvbnMpO1xuXG4gICAgICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgc2V0QWN0aXZlQmxvY2soYmxvY2suaWQpO1xuICAgICAgICB9KTtcbiAgICAgICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VudGVyJyB8fCBldmVudC5rZXkgPT09ICcgJykge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHNldEFjdGl2ZUJsb2NrKGJsb2NrLmlkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBibG9ja0xpc3QuYXBwZW5kQ2hpbGQoaXRlbSk7XG4gICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IHJlbmRlclBhZ2VMaXN0cyA9IChwYWdlcywgYWN0aXZlSWQpID0+IHtcbiAgICAgIHBhZ2VMaXN0cy5mb3JFYWNoKChsaXN0KSA9PiB7XG4gICAgICAgIGxpc3QuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgIHBhZ2VzLmZvckVhY2goKHBhZ2UpID0+IHtcbiAgICAgICAgICBjb25zdCBpdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgICBjb25zdCBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgICBidXR0b24udHlwZSA9ICdidXR0b24nO1xuICAgICAgICAgIGJ1dHRvbi5kYXRhc2V0LnBhZ2VJZCA9IHBhZ2UuaWQ7XG4gICAgICAgICAgYnV0dG9uLmNsYXNzTmFtZSA9IFtcbiAgICAgICAgICAgICd3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIGdhcC0zIHB4LTMgcHktMiB0ZXh0LWxlZnQgdHJhbnNpdGlvbicsXG4gICAgICAgICAgICBhY3RpdmVJZCA9PT0gcGFnZS5pZFxuICAgICAgICAgICAgICA/ICdiZy1bIzlDNkJGRl0vMTAgdGV4dC1zbGF0ZS05MDAgYm9yZGVyIGJvcmRlci1bIzlDNkJGRl0vNDAgcm91bmRlZC14bCBzaGFkb3ctc20nXG4gICAgICAgICAgICAgIDogJ3RleHQtc2xhdGUtNzAwIGhvdmVyOmJnLXNsYXRlLTUwIHJvdW5kZWQteGwnLFxuICAgICAgICAgIF0uam9pbignICcpO1xuICAgICAgICAgIGlmIChhY3RpdmVJZCA9PT0gcGFnZS5pZCkge1xuICAgICAgICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZSgnYXJpYS1jdXJyZW50JywgJ3BhZ2UnKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYnV0dG9uLnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1jdXJyZW50Jyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJ1dHRvbi5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTNcIj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJmbGV4IGgtOSB3LTkgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHJvdW5kZWQteGwgYm9yZGVyIGJvcmRlci1zbGF0ZS0yMDAgYmctd2hpdGUgdGV4dC1zbGF0ZS01MDBcIj5cbiAgICAgICAgICAgICAgICA8c3ZnIHdpZHRoPVwiMThcIiBoZWlnaHQ9XCIxOFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPlxuICAgICAgICAgICAgICAgICAgPHBhdGggZD1cIk02LjUgNC41aDdsNCA0djExYTEgMSAwIDAgMS0xIDFoLTEwYTEgMSAwIDAgMS0xLTF2LTE0YTEgMSAwIDAgMSAxLTFaXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMS40XCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIi8+XG4gICAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTEzLjUgNC41djRhMSAxIDAgMCAwIDEgMWgzXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMS40XCIvPlxuICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXNtIGZvbnQtc2VtaWJvbGRcIj4ke3BhZ2UudGl0bGV9PC9zcGFuPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC14cyB0ZXh0LXNsYXRlLTUwMFwiPiR7cGFnZS5zbHVnfTwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICBgO1xuICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIHNldEFjdGl2ZVBhZ2UocGFnZS5pZCk7XG4gICAgICAgICAgICBpZiAoIWlzRGVza3RvcERyYXdlcigpKSB7XG4gICAgICAgICAgICAgIGNsb3NlRHJhd2VyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaXRlbS5hcHBlbmRDaGlsZChidXR0b24pO1xuICAgICAgICAgIGxpc3QuYXBwZW5kQ2hpbGQoaXRlbSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICBjb25zdCBnZXRBY3RpdmVCbG9jayA9ICgpID0+IHtcbiAgICAgIGlmICghY3VycmVudFBhZ2UgfHwgIUFycmF5LmlzQXJyYXkoY3VycmVudFBhZ2UuYmxvY2tzKSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjdXJyZW50UGFnZS5ibG9ja3MuZmluZCgoYmxvY2spID0+IGJsb2NrLmlkID09PSBhY3RpdmVCbG9ja0lkKSB8fCBudWxsO1xuICAgIH07XG4gICAgY29uc3Qgc2V0QWN0aXZlQmxvY2sgPSAoYmxvY2tJZCkgPT4ge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWJsb2NrSWQpIHtcbiAgICAgICAgYWN0aXZlQmxvY2tJZCA9IG51bGw7XG4gICAgICAgIHJlbmRlckJsb2NrTGlzdChjdXJyZW50UGFnZSk7XG4gICAgICAgIHJlbmRlckJsb2NrRGV0YWlscyhudWxsKTtcbiAgICAgICAgYXBwbHlQcmV2aWV3SGlnaGxpZ2h0KG51bGwpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCB0YXJnZXRCbG9jayA9XG4gICAgICAgIGN1cnJlbnRQYWdlLmJsb2Nrcy5maW5kKChibG9jaykgPT4gYmxvY2suaWQgPT09IGJsb2NrSWQpIHx8IGN1cnJlbnRQYWdlLmJsb2Nrc1swXSB8fCBudWxsO1xuICAgICAgYWN0aXZlQmxvY2tJZCA9IHRhcmdldEJsb2NrPy5pZCB8fCBudWxsO1xuICAgICAgcmVuZGVyQmxvY2tMaXN0KGN1cnJlbnRQYWdlKTtcbiAgICAgIHJlbmRlckJsb2NrRGV0YWlscyh0YXJnZXRCbG9jayk7XG4gICAgICBhcHBseVByZXZpZXdIaWdobGlnaHQoYWN0aXZlQmxvY2tJZCk7XG4gICAgfTtcbiAgICBjb25zdCB1cGRhdGVDdXJyZW50UGFnZUJsb2NrcyA9IChuZXdCbG9ja3MpID0+IHtcbiAgICAgIGlmICghY3VycmVudFBhZ2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgbmV4dFBhZ2UgPSB7IC4uLmN1cnJlbnRQYWdlLCBibG9ja3M6IG5ld0Jsb2NrcyB9O1xuICAgICAgdXBkYXRlQ3VycmVudFBhZ2VTdGF0ZShuZXh0UGFnZSk7XG4gICAgfTtcbiAgICBjb25zdCBpc0Rlc2t0b3BSZW9yZGVyID0gKCkgPT4gd2luZG93Lm1hdGNoTWVkaWEoJyhtaW4td2lkdGg6IDEwMjRweCknKS5tYXRjaGVzO1xuICAgIGZ1bmN0aW9uIG1vdmVCbG9ja0J5T2Zmc2V0KGJsb2NrSWQsIG9mZnNldCkge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSB8fCAhYmxvY2tJZCB8fCAhb2Zmc2V0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGJsb2NrcyA9IFsuLi4oY3VycmVudFBhZ2UuYmxvY2tzIHx8IFtdKV07XG4gICAgICBjb25zdCBpbmRleCA9IGJsb2Nrcy5maW5kSW5kZXgoKGJsb2NrKSA9PiBibG9jay5pZCA9PT0gYmxvY2tJZCk7XG4gICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG5ld0luZGV4ID0gaW5kZXggKyBvZmZzZXQ7XG4gICAgICBpZiAobmV3SW5kZXggPCAwIHx8IG5ld0luZGV4ID49IGJsb2Nrcy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgW21vdmVkXSA9IGJsb2Nrcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgYmxvY2tzLnNwbGljZShuZXdJbmRleCwgMCwgbW92ZWQpO1xuICAgICAgdXBkYXRlQ3VycmVudFBhZ2VCbG9ja3MoYmxvY2tzKTtcbiAgICAgIHNldEFjdGl2ZVBhZ2UoY3VycmVudFBhZ2UuaWQsIHsgcHJlc2VydmVCbG9jazogdHJ1ZSB9KTtcbiAgICAgIHNldEFjdGl2ZUJsb2NrKG1vdmVkLmlkKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVvcmRlckJsb2Nrcyhzb3VyY2VJZCwgdGFyZ2V0SWQpIHtcbiAgICAgIGlmICghY3VycmVudFBhZ2UgfHwgIXNvdXJjZUlkIHx8ICF0YXJnZXRJZCB8fCBzb3VyY2VJZCA9PT0gdGFyZ2V0SWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgYmxvY2tzID0gWy4uLihjdXJyZW50UGFnZS5ibG9ja3MgfHwgW10pXTtcbiAgICAgIGNvbnN0IGZyb21JbmRleCA9IGJsb2Nrcy5maW5kSW5kZXgoKGJsb2NrKSA9PiBibG9jay5pZCA9PT0gc291cmNlSWQpO1xuICAgICAgY29uc3QgdG9JbmRleCA9IGJsb2Nrcy5maW5kSW5kZXgoKGJsb2NrKSA9PiBibG9jay5pZCA9PT0gdGFyZ2V0SWQpO1xuICAgICAgaWYgKGZyb21JbmRleCA8IDAgfHwgdG9JbmRleCA8IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgW21vdmVkXSA9IGJsb2Nrcy5zcGxpY2UoZnJvbUluZGV4LCAxKTtcbiAgICAgIGJsb2Nrcy5zcGxpY2UodG9JbmRleCwgMCwgbW92ZWQpO1xuICAgICAgdXBkYXRlQ3VycmVudFBhZ2VCbG9ja3MoYmxvY2tzKTtcbiAgICAgIHNldEFjdGl2ZVBhZ2UoY3VycmVudFBhZ2UuaWQsIHsgcHJlc2VydmVCbG9jazogdHJ1ZSB9KTtcbiAgICAgIHNldEFjdGl2ZUJsb2NrKG1vdmVkLmlkKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlRHJhZ2dhYmxlU3RhdGUoKSB7XG4gICAgICBpZiAoIWJsb2NrTGlzdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBkcmFnZ2FibGUgPSBpc0Rlc2t0b3BSZW9yZGVyKCk7XG4gICAgICBibG9ja0xpc3QucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYmxvY2staXRlbV0nKS5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgIGl0ZW0uc2V0QXR0cmlidXRlKCdkcmFnZ2FibGUnLCBkcmFnZ2FibGUgPyAndHJ1ZScgOiAnZmFsc2UnKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjbG9zZUJsb2NrTGlicmFyeSgpIHtcbiAgICAgIGlmICghYmxvY2tMaWJyYXJ5KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGJsb2NrTGlicmFyeS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGJsb2NrTGlicmFyeU9wZW4gPSBmYWxzZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gb3BlbkJsb2NrTGlicmFyeSgpIHtcbiAgICAgIGlmICghYmxvY2tMaWJyYXJ5KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGJsb2NrTGlicmFyeS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGJsb2NrTGlicmFyeU9wZW4gPSB0cnVlO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0b2dnbGVCbG9ja0xpYnJhcnkoKSB7XG4gICAgICBibG9ja0xpYnJhcnlPcGVuID8gY2xvc2VCbG9ja0xpYnJhcnkoKSA6IG9wZW5CbG9ja0xpYnJhcnkoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYWRkQmxvY2tGcm9tTGlicmFyeSh0eXBlKSB7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlIHx8ICF0eXBlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRlZmluaXRpb24gPSBibG9ja0xpYnJhcnlEZWZpbml0aW9uc1t0eXBlXTtcbiAgICAgIGlmICghZGVmaW5pdGlvbikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBjb3VudCA9XG4gICAgICAgIChjdXJyZW50UGFnZS5ibG9ja3MgfHwgW10pLmZpbHRlcigoYmxvY2spID0+IGJsb2NrLnR5cGUgPT09IGRlZmluaXRpb24udHlwZSkubGVuZ3RoICsgMTtcbiAgICAgIGNvbnN0IG5ld0Jsb2NrID0gY3JlYXRlQmxvY2soXG4gICAgICAgIGdlbmVyYXRlQmxvY2tJZChjdXJyZW50UGFnZS5pZCwgdHlwZSksXG4gICAgICAgIGAke2RlZmluaXRpb24ubGFiZWx9ICR7Y291bnR9YCxcbiAgICAgICAgZGVmaW5pdGlvbi50eXBlLFxuICAgICAgICBkZWZpbml0aW9uLnN0YXR1cyxcbiAgICAgICAgZGVmaW5pdGlvbi5kZXNjcmlwdGlvbixcbiAgICAgICAgZGVmaW5pdGlvbi5wcm9wcyxcbiAgICAgICAgZGVmaW5pdGlvbi5zZXR0aW5ncyB8fCB7fSxcbiAgICAgICk7XG4gICAgICBpZiAoKGRlZmluaXRpb24udHlwZSB8fCAnJykudG9Mb3dlckNhc2UoKSA9PT0gJ2NvbGxlY3Rpb25ncmlkJykge1xuICAgICAgICBjb25zdCBmaXJzdENvbGxlY3Rpb25JZCA9IGRlc2lnbkNvbGxlY3Rpb25zWzBdPy5pZCB8fCAnJztcbiAgICAgICAgbmV3QmxvY2suY29sbGVjdGlvbklkID0gZmlyc3RDb2xsZWN0aW9uSWQ7XG4gICAgICAgIG5ld0Jsb2NrLnNldHRpbmdzLmNvbGxlY3Rpb25JZCA9IGZpcnN0Q29sbGVjdGlvbklkO1xuICAgICAgICBuZXdCbG9jay5zZXR0aW5ncy5saW1pdCA9IG5ld0Jsb2NrLnNldHRpbmdzLmxpbWl0IHx8IDY7XG4gICAgICB9XG4gICAgICBjb25zdCBuZXh0QmxvY2tzID0gWy4uLihjdXJyZW50UGFnZS5ibG9ja3MgfHwgW10pLCBuZXdCbG9ja107XG4gICAgICB1cGRhdGVDdXJyZW50UGFnZUJsb2NrcyhuZXh0QmxvY2tzKTtcbiAgICAgIHNldEFjdGl2ZVBhZ2UoY3VycmVudFBhZ2UuaWQsIHsgcHJlc2VydmVCbG9jazogdHJ1ZSB9KTtcbiAgICAgIHNldEFjdGl2ZUJsb2NrKG5ld0Jsb2NrLmlkKTtcbiAgICAgIGNsb3NlQmxvY2tMaWJyYXJ5KCk7XG4gICAgICBzaG93VG9hc3QoJ0Jsb2MgYWpvdXRcdTAwRTknKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGVsZXRlQmxvY2tCeUlkKGJsb2NrSWQpIHtcbiAgICAgIGlmICghY3VycmVudFBhZ2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgYmxvY2tzID0gKGN1cnJlbnRQYWdlLmJsb2NrcyB8fCBbXSkuZmlsdGVyKChibG9jaykgPT4gYmxvY2suaWQgIT09IGJsb2NrSWQpO1xuICAgICAgY29uc3QgbmV4dEFjdGl2ZSA9XG4gICAgICAgIGJsb2NrSWQgPT09IGFjdGl2ZUJsb2NrSWQgPyBibG9ja3NbMF0/LmlkIHx8IG51bGwgOiBhY3RpdmVCbG9ja0lkIHx8IGJsb2Nrc1swXT8uaWQgfHwgbnVsbDtcbiAgICAgIHVwZGF0ZUN1cnJlbnRQYWdlQmxvY2tzKGJsb2Nrcyk7XG4gICAgICBhY3RpdmVCbG9ja0lkID0gbmV4dEFjdGl2ZTtcbiAgICAgIHNldEFjdGl2ZVBhZ2UoY3VycmVudFBhZ2UuaWQsIHsgcHJlc2VydmVCbG9jazogdHJ1ZSB9KTtcbiAgICAgIGlmIChhY3RpdmVCbG9ja0lkKSB7XG4gICAgICAgIHNldEFjdGl2ZUJsb2NrKGFjdGl2ZUJsb2NrSWQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVuZGVyQmxvY2tEZXRhaWxzKG51bGwpO1xuICAgICAgICBhcHBseVByZXZpZXdIaWdobGlnaHQobnVsbCk7XG4gICAgICB9XG4gICAgICBzaG93VG9hc3QoJ0Jsb2Mgc3VwcHJpbVx1MDBFOScpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjbG9zZUJsb2NrRGVsZXRlTW9kYWwoKSB7XG4gICAgICBpZiAoIWJsb2NrRGVsZXRlTW9kYWwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYmxvY2tEZWxldGVNb2RhbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGJsb2NrRGVsZXRlTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnZmxleCcpO1xuICAgICAgcGVuZGluZ0RlbGV0ZUJsb2NrSWQgPSBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBvcGVuQmxvY2tEZWxldGVNb2RhbChibG9ja0lkKSB7XG4gICAgICBpZiAoIWJsb2NrRGVsZXRlTW9kYWwpIHtcbiAgICAgICAgZGVsZXRlQmxvY2tCeUlkKGJsb2NrSWQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwZW5kaW5nRGVsZXRlQmxvY2tJZCA9IGJsb2NrSWQ7XG4gICAgICBibG9ja0RlbGV0ZU1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgYmxvY2tEZWxldGVNb2RhbC5jbGFzc0xpc3QuYWRkKCdmbGV4Jyk7XG4gICAgfVxuICAgIGNvbnN0IHVwZGF0ZUN1cnJlbnRQYWdlU3RhdGUgPSAobmV4dFBhZ2UpID0+IHtcbiAgICAgIGlmICghbmV4dFBhZ2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZVBhZ2VEYXRhKG5leHRQYWdlKTtcbiAgICAgIHBhZ2VzID0gcGFnZXMubWFwKChwYWdlKSA9PiAocGFnZS5pZCA9PT0gbm9ybWFsaXplZC5pZCA/IG5vcm1hbGl6ZWQgOiBwYWdlKSk7XG4gICAgICBjdXJyZW50UGFnZSA9IG5vcm1hbGl6ZWQ7XG4gICAgICBzYXZlUGFnZVRvU2VydmVyKG5vcm1hbGl6ZWQpO1xuICAgIH07XG4gICAgY29uc3Qgc2V0QWN0aXZlUGFnZSA9IChwYWdlSWQsIG9wdGlvbnMgPSB7fSkgPT4ge1xuICAgICAgY29uc3QgdGFyZ2V0ID0gcGFnZXMuZmluZCgocGFnZSkgPT4gcGFnZS5pZCA9PT0gcGFnZUlkKSB8fCBwYWdlc1swXSB8fCBudWxsO1xuICAgICAgY29uc3Qgbm9ybWFsaXplZFRhcmdldCA9IHRhcmdldCA/IG5vcm1hbGl6ZVBhZ2VEYXRhKHRhcmdldCkgOiBudWxsO1xuICAgICAgY3VycmVudFBhZ2UgPSBub3JtYWxpemVkVGFyZ2V0O1xuICAgICAgYWN0aXZlUGFnZUlkID0gdGFyZ2V0Py5pZCB8fCBudWxsO1xuICAgICAgaWYgKCFvcHRpb25zLnByZXNlcnZlQmxvY2sgfHwgIWN1cnJlbnRQYWdlIHx8ICFjdXJyZW50UGFnZS5ibG9ja3Muc29tZSgoYmxvY2spID0+IGJsb2NrLmlkID09PSBhY3RpdmVCbG9ja0lkKSkge1xuICAgICAgICBhY3RpdmVCbG9ja0lkID0gY3VycmVudFBhZ2U/LmJsb2Nrcz8uWzBdPy5pZCB8fCBudWxsO1xuICAgICAgfVxuICAgICAgaWYgKGFjdGl2ZVBhZ2VJZCkge1xuICAgICAgICBwZXJzaXN0QWN0aXZlUGFnZShhY3RpdmVQYWdlSWQpO1xuICAgICAgfVxuICAgICAgcmVuZGVyUGFnZUxpc3RzKHBhZ2VzLCBhY3RpdmVQYWdlSWQpO1xuICAgICAgc2V0QWN0aXZlTGFiZWxzKGN1cnJlbnRQYWdlKTtcbiAgICAgIHJlbmRlclByZXZpZXdNZXRhKGN1cnJlbnRQYWdlKTtcbiAgICAgIHJlZnJlc2hQcmV2aWV3KGN1cnJlbnRQYWdlKTtcbiAgICAgIHJlbmRlckJsb2NrTGlzdChjdXJyZW50UGFnZSk7XG4gICAgICByZW5kZXJCbG9ja0RldGFpbHMoZ2V0QWN0aXZlQmxvY2soKSk7XG4gICAgICBhcHBseVByZXZpZXdIaWdobGlnaHQoYWN0aXZlQmxvY2tJZCk7XG4gICAgICB1cGRhdGVEcmFnZ2FibGVTdGF0ZSgpO1xuICAgICAgaWYgKGJsb2NrTGlicmFyeU9wZW4pIHtcbiAgICAgICAgY2xvc2VCbG9ja0xpYnJhcnkoKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGlzRGVza3RvcERyYXdlciA9ICgpID0+IHdpbmRvdy5tYXRjaE1lZGlhKCcobWluLXdpZHRoOiAxMDI0cHgpJykubWF0Y2hlcztcbiAgICBjb25zdCBzeW5jRHJhd2VyU3RhdGUgPSAoKSA9PiB7XG4gICAgICBpZiAoIWRyYXdlcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoaXNEZXNrdG9wRHJhd2VyKCkpIHtcbiAgICAgICAgZHJhd2VyLmNsYXNzTGlzdC5hZGQoJ2lzLW9wZW4nKTtcbiAgICAgICAgZHJhd2VyQmFja2Ryb3A/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ292ZXJmbG93LWhpZGRlbicpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZHJhd2VyLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLW9wZW4nKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IG9wZW5EcmF3ZXIgPSAoKSA9PiB7XG4gICAgICBpZiAoIWRyYXdlciB8fCBpc0Rlc2t0b3BEcmF3ZXIoKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBkcmF3ZXIuY2xhc3NMaXN0LmFkZCgnaXMtb3BlbicpO1xuICAgICAgZHJhd2VyQmFja2Ryb3A/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICB9O1xuICAgIGNvbnN0IGNsb3NlRHJhd2VyID0gKCkgPT4ge1xuICAgICAgaWYgKCFkcmF3ZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZHJhd2VyLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLW9wZW4nKTtcbiAgICAgIGRyYXdlckJhY2tkcm9wPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnb3ZlcmZsb3ctaGlkZGVuJyk7XG4gICAgfTtcbiAgICBjb25zdCBvcGVuQWRkUGFnZUZvcm0gPSAoKSA9PiB7XG4gICAgICBpZiAoIWFkZFBhZ2VGb3JtIHx8ICFhZGRQYWdlVG9nZ2xlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGFkZFBhZ2VGb3JtLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgYWRkUGFnZVRvZ2dsZS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGFkZFBhZ2VFcnJvciAmJiAoYWRkUGFnZUVycm9yLnRleHRDb250ZW50ID0gJycpO1xuICAgICAgcGFnZVNsdWdNYW51YWxseUVkaXRlZCA9IGZhbHNlO1xuICAgICAgaWYgKGFkZFBhZ2VUaXRsZSkge1xuICAgICAgICBhZGRQYWdlVGl0bGUudmFsdWUgPSAnJztcbiAgICAgICAgYWRkUGFnZVRpdGxlLmZvY3VzKCk7XG4gICAgICB9XG4gICAgICBpZiAoYWRkUGFnZVNsdWcpIHtcbiAgICAgICAgYWRkUGFnZVNsdWcudmFsdWUgPSAnJztcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGNsb3NlQWRkUGFnZUZvcm0gPSAoKSA9PiB7XG4gICAgICBpZiAoIWFkZFBhZ2VGb3JtIHx8ICFhZGRQYWdlVG9nZ2xlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGFkZFBhZ2VGb3JtLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgYWRkUGFnZVRvZ2dsZS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGFkZFBhZ2VFcnJvciAmJiAoYWRkUGFnZUVycm9yLnRleHRDb250ZW50ID0gJycpO1xuICAgICAgcGFnZVNsdWdNYW51YWxseUVkaXRlZCA9IGZhbHNlO1xuICAgICAgYWRkUGFnZUZvcm0ucmVzZXQoKTtcbiAgICB9O1xuICAgIGNvbnN0IHN5bmNTbHVnRnJvbVRpdGxlID0gKCkgPT4ge1xuICAgICAgaWYgKCFhZGRQYWdlVGl0bGUgfHwgIWFkZFBhZ2VTbHVnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChwYWdlU2x1Z01hbnVhbGx5RWRpdGVkICYmIGFkZFBhZ2VTbHVnLnZhbHVlLnRyaW0oKS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGFkZFBhZ2VTbHVnLnZhbHVlID0gbm9ybWFsaXplUGFnZVNsdWcoYWRkUGFnZVRpdGxlLnZhbHVlKTtcbiAgICB9O1xuXG4gICAgbGV0IHBhZ2VzID0gW107XG4gICAgbGV0IGFjdGl2ZVBhZ2VJZCA9IG51bGw7XG4gICAgbGV0IHBhZ2VTbHVnTWFudWFsbHlFZGl0ZWQgPSBmYWxzZTtcbiAgICBsZXQgY3VycmVudFBhZ2UgPSBudWxsO1xuICAgIGxldCBhY3RpdmVCbG9ja0lkID0gbnVsbDtcbiAgICBsZXQgYmxvY2tMaWJyYXJ5T3BlbiA9IGZhbHNlO1xuICAgIGxldCBwZW5kaW5nRGVsZXRlQmxvY2tJZCA9IG51bGw7XG4gICAgbGV0IGxhdGVzdFByZXZpZXdIdG1sID0gJyc7XG4gICAgbGV0IHByZXZpZXdSZWFkeSA9IGZhbHNlO1xuICAgIGxldCBwcmV2aWV3UmVxdWVzdENvbnRyb2xsZXIgPSBudWxsO1xuICAgIGxldCBkZXNpZ25Db2xsZWN0aW9ucyA9IFtdO1xuXG4gICAgY29uc3Qgbm9ybWFsaXplQmxvY2tEYXRhID0gKGJsb2NrKSA9PiB7XG4gICAgICBjb25zdCBub3JtYWxpemVkID0ge1xuICAgICAgICAuLi5ibG9jayxcbiAgICAgICAgcHJvcHM6IEFycmF5LmlzQXJyYXkoYmxvY2sucHJvcHMpID8gYmxvY2sucHJvcHMgOiBbXSxcbiAgICAgICAgc2V0dGluZ3M6IHsgLi4uKGJsb2NrLnNldHRpbmdzIHx8IHt9KSB9LFxuICAgICAgfTtcbiAgICAgIGNvbnN0IHR5cGUgPSAobm9ybWFsaXplZC50eXBlIHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgaWYgKHR5cGUgPT09ICdjb2xsZWN0aW9uZ3JpZCcpIHtcbiAgICAgICAgbm9ybWFsaXplZC5jb2xsZWN0aW9uSWQgPVxuICAgICAgICAgIG5vcm1hbGl6ZWQuY29sbGVjdGlvbklkIHx8IG5vcm1hbGl6ZWQuc2V0dGluZ3MuY29sbGVjdGlvbklkIHx8ICcnO1xuICAgICAgICBub3JtYWxpemVkLnNldHRpbmdzLmNvbGxlY3Rpb25JZCA9IG5vcm1hbGl6ZWQuY29sbGVjdGlvbklkO1xuICAgICAgICBub3JtYWxpemVkLnNldHRpbmdzLmxpbWl0ID0gbm9ybWFsaXplZC5zZXR0aW5ncy5saW1pdCB8fCA2O1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5vcm1hbGl6ZWQ7XG4gICAgfTtcblxuICAgIGNvbnN0IG5vcm1hbGl6ZVBhZ2VEYXRhID0gKHBhZ2UpID0+ICh7XG4gICAgICAuLi5wYWdlLFxuICAgICAgYmxvY2tzOiAocGFnZS5ibG9ja3MgfHwgW10pLm1hcCgoYmxvY2spID0+IG5vcm1hbGl6ZUJsb2NrRGF0YShibG9jaykpLFxuICAgIH0pO1xuXG4gICAgY29uc3QgbG9hZERlc2lnbkNvbGxlY3Rpb25zID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uc0FwaUJhc2UpIHtcbiAgICAgICAgZGVzaWduQ29sbGVjdGlvbnMgPSBbXTtcbiAgICAgICAgdXBkYXRlQ29sbGVjdGlvblNlbGVjdE9wdGlvbnMoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChjb2xsZWN0aW9uc0FwaUJhc2UsIHtcbiAgICAgICAgICBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIGNvbGxlY3Rpb25zLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gW10pO1xuICAgICAgICBkZXNpZ25Db2xsZWN0aW9ucyA9IEFycmF5LmlzQXJyYXkocGF5bG9hZCkgPyBwYXlsb2FkIDogW107XG4gICAgICAgIGNvbnN0IGN1cnJlbnRWYWx1ZSA9IGNvbGxlY3Rpb25TZWxlY3Q/LnZhbHVlIHx8ICcnO1xuICAgICAgICB1cGRhdGVDb2xsZWN0aW9uU2VsZWN0T3B0aW9ucyhjdXJyZW50VmFsdWUpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkZXNpZ25dIGNvbGxlY3Rpb25zIGxvYWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoJ0NvbGxlY3Rpb25zIGluZGlzcG9uaWJsZXMuJyk7XG4gICAgICAgIGRlc2lnbkNvbGxlY3Rpb25zID0gW107XG4gICAgICAgIHVwZGF0ZUNvbGxlY3Rpb25TZWxlY3RPcHRpb25zKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHN5bmNDb2xsZWN0aW9uU2VsZWN0aW9uSW5mbyA9IChjb2xsZWN0aW9uSWQpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvblNlbGVjdGlvbkluZm8pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFjb2xsZWN0aW9uSWQpIHtcbiAgICAgICAgY29sbGVjdGlvblNlbGVjdGlvbkluZm8udGV4dENvbnRlbnQgPSBkZXNpZ25Db2xsZWN0aW9ucy5sZW5ndGhcbiAgICAgICAgICA/ICdTXHUwMEU5bGVjdGlvbm5leiB1bmUgY29sbGVjdGlvbiBwb3VyIGFmZmljaGVyIHNlcyBpbmZvcm1hdGlvbnMuJ1xuICAgICAgICAgIDogJ0F1Y3VuZSBjb2xsZWN0aW9uIGRpc3BvbmlibGUuIEFqb3V0ZXotZW4gZGVwdWlzIGxcdTIwMTlvbmdsZXQgQ29udGVudXMuJztcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgZW50cnkgPSBkZXNpZ25Db2xsZWN0aW9ucy5maW5kKChjb2xsZWN0aW9uKSA9PiBjb2xsZWN0aW9uLmlkID09PSBjb2xsZWN0aW9uSWQpO1xuICAgICAgaWYgKCFlbnRyeSkge1xuICAgICAgICBjb2xsZWN0aW9uU2VsZWN0aW9uSW5mby50ZXh0Q29udGVudCA9IGBDb2xsZWN0aW9uICR7Y29sbGVjdGlvbklkfWA7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRldGFpbHMgPSBbXTtcbiAgICAgIGlmIChlbnRyeS5kZXNjcmlwdGlvbikge1xuICAgICAgICBkZXRhaWxzLnB1c2goZW50cnkuZGVzY3JpcHRpb24pO1xuICAgICAgfVxuICAgICAgaWYgKGVudHJ5LnR5cGUpIHtcbiAgICAgICAgZGV0YWlscy5wdXNoKGBUeXBlXHUwMEEwOiAke2VudHJ5LnR5cGV9YCk7XG4gICAgICB9XG4gICAgICBjb2xsZWN0aW9uU2VsZWN0aW9uSW5mby50ZXh0Q29udGVudCA9XG4gICAgICAgIGRldGFpbHMuam9pbignIFx1MDBCNyAnKSB8fCBgQ29sbGVjdGlvbiAke2VudHJ5Lm5hbWUgfHwgZW50cnkuaWR9YDtcbiAgICB9O1xuXG4gICAgY29uc3QgdXBkYXRlQ29sbGVjdGlvblNlbGVjdE9wdGlvbnMgPSAoc2VsZWN0ZWRWYWx1ZSA9ICcnKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25TZWxlY3QpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29sbGVjdGlvblNlbGVjdC5pbm5lckhUTUwgPSAnJztcbiAgICAgIGlmICghZGVzaWduQ29sbGVjdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgIGNvbGxlY3Rpb25TZWxlY3QuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgICAgb3B0aW9uLnZhbHVlID0gJyc7XG4gICAgICAgIG9wdGlvbi50ZXh0Q29udGVudCA9ICdBdWN1bmUgY29sbGVjdGlvbiBkaXNwb25pYmxlJztcbiAgICAgICAgY29sbGVjdGlvblNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb24pO1xuICAgICAgICBzeW5jQ29sbGVjdGlvblNlbGVjdGlvbkluZm8oJycpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb2xsZWN0aW9uU2VsZWN0LmRpc2FibGVkID0gZmFsc2U7XG4gICAgICBpZiAoc2VsZWN0ZWRWYWx1ZSAmJiAhZGVzaWduQ29sbGVjdGlvbnMuc29tZSgoZW50cnkpID0+IGVudHJ5LmlkID09PSBzZWxlY3RlZFZhbHVlKSkge1xuICAgICAgICBjb25zdCBmYWxsYmFja09wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICBmYWxsYmFja09wdGlvbi52YWx1ZSA9IHNlbGVjdGVkVmFsdWU7XG4gICAgICAgIGZhbGxiYWNrT3B0aW9uLnRleHRDb250ZW50ID0gc2VsZWN0ZWRWYWx1ZTtcbiAgICAgICAgY29sbGVjdGlvblNlbGVjdC5hcHBlbmRDaGlsZChmYWxsYmFja09wdGlvbik7XG4gICAgICB9XG4gICAgICBkZXNpZ25Db2xsZWN0aW9ucy5mb3JFYWNoKChjb2xsZWN0aW9uKSA9PiB7XG4gICAgICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICBvcHRpb24udmFsdWUgPSBjb2xsZWN0aW9uLmlkO1xuICAgICAgICBjb25zdCBsYWJlbCA9IGNvbGxlY3Rpb24ubmFtZSB8fCBjb2xsZWN0aW9uLmlkO1xuICAgICAgICBvcHRpb24udGV4dENvbnRlbnQgPSBjb2xsZWN0aW9uLnR5cGUgPyBgJHtsYWJlbH0gXHUwMEI3ICR7Y29sbGVjdGlvbi50eXBlfWAgOiBsYWJlbDtcbiAgICAgICAgb3B0aW9uLmRhdGFzZXQuZGVzY3JpcHRpb24gPSBjb2xsZWN0aW9uLmRlc2NyaXB0aW9uIHx8ICcnO1xuICAgICAgICBjb2xsZWN0aW9uU2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbik7XG4gICAgICB9KTtcbiAgICAgIGlmIChzZWxlY3RlZFZhbHVlKSB7XG4gICAgICAgIGNvbGxlY3Rpb25TZWxlY3QudmFsdWUgPSBzZWxlY3RlZFZhbHVlO1xuICAgICAgfVxuICAgICAgc3luY0NvbGxlY3Rpb25TZWxlY3Rpb25JbmZvKGNvbGxlY3Rpb25TZWxlY3QudmFsdWUgfHwgJycpO1xuICAgIH07XG5cbiAgICBsb2FkRGVzaWduQ29sbGVjdGlvbnMoKTtcbiAgICBzeW5jRHJhd2VyU3RhdGUoKTtcblxuICAgIGRyYXdlck9wZW5CdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlbkRyYXdlcik7XG4gICAgfSk7XG4gICAgZHJhd2VyQ2xvc2VCdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VEcmF3ZXIpO1xuICAgIH0pO1xuICAgIGRyYXdlckJhY2tkcm9wPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlRHJhd2VyKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgKCkgPT4ge1xuICAgICAgc3luY0RyYXdlclN0YXRlKCk7XG4gICAgICB1cGRhdGVEcmFnZ2FibGVTdGF0ZSgpO1xuICAgIH0pO1xuXG4gICAgYWRkUGFnZVRvZ2dsZT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuQWRkUGFnZUZvcm0pO1xuICAgIGFkZFBhZ2VDYW5jZWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VBZGRQYWdlRm9ybSk7XG4gICAgYWRkUGFnZVRpdGxlPy5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIHN5bmNTbHVnRnJvbVRpdGxlKTtcbiAgICBhZGRQYWdlU2x1Zz8uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgICBhZGRQYWdlRXJyb3IgJiYgKGFkZFBhZ2VFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICAgIHBhZ2VTbHVnTWFudWFsbHlFZGl0ZWQgPSB0cnVlO1xuICAgIH0pO1xuICAgIGFkZFBhZ2VGb3JtPy5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoIXBhZ2VzQXBpQmFzZSkge1xuICAgICAgICBhZGRQYWdlRXJyb3IgJiYgKGFkZFBhZ2VFcnJvci50ZXh0Q29udGVudCA9ICdBdWN1biBzaXRlIHNcdTAwRTlsZWN0aW9ublx1MDBFOS4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFhZGRQYWdlVGl0bGUgfHwgIWFkZFBhZ2VTbHVnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHRpdGxlID0gYWRkUGFnZVRpdGxlLnZhbHVlLnRyaW0oKTtcbiAgICAgIGNvbnN0IHNsdWcgPSBub3JtYWxpemVQYWdlU2x1ZyhhZGRQYWdlU2x1Zy52YWx1ZS50cmltKCkgfHwgdGl0bGUpO1xuICAgICAgaWYgKCF0aXRsZSB8fCAhc2x1Zykge1xuICAgICAgICBhZGRQYWdlRXJyb3IgJiYgKGFkZFBhZ2VFcnJvci50ZXh0Q29udGVudCA9ICdUaXRyZSBldCBzbHVnIHNvbnQgcmVxdWlzLicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhZGRQYWdlRXJyb3IgJiYgKGFkZFBhZ2VFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICAgIGlmIChhZGRQYWdlU3VibWl0QnV0dG9uKSB7XG4gICAgICAgIGFkZFBhZ2VTdWJtaXRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICBhZGRQYWdlU3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gJ0NyXHUwMEU5YXRpb24uLi4nO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgY3JlYXRlZFBhZ2UgPSBhd2FpdCBjcmVhdGVQYWdlT25TZXJ2ZXIoeyB0aXRsZSwgc2x1ZyB9KTtcbiAgICAgICAgaWYgKCFjcmVhdGVkUGFnZSB8fCAhY3JlYXRlZFBhZ2UuaWQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JcdTAwRTlwb25zZSBpbnZhbGlkZS4nKTtcbiAgICAgICAgfVxuICAgICAgICBwYWdlcyA9IFsuLi5wYWdlcywgbm9ybWFsaXplUGFnZURhdGEoY3JlYXRlZFBhZ2UpXTtcbiAgICAgICAgY2xvc2VBZGRQYWdlRm9ybSgpO1xuICAgICAgICBzaG93VG9hc3QoJ1BhZ2UgY3JcdTAwRTlcdTAwRTllJyk7XG4gICAgICAgIHNldEFjdGl2ZVBhZ2UoY3JlYXRlZFBhZ2UuaWQpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkZXNpZ25dIGNyZWF0ZSBwYWdlIGZhaWxlZCcsIGVycik7XG4gICAgICAgIGFkZFBhZ2VFcnJvciAmJiAoYWRkUGFnZUVycm9yLnRleHRDb250ZW50ID0gZXJyLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgY3JcdTAwRTllciBsYSBwYWdlLicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKGFkZFBhZ2VTdWJtaXRCdXR0b24pIHtcbiAgICAgICAgICBhZGRQYWdlU3VibWl0QnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgYWRkUGFnZVN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9ICdDclx1MDBFOWVyJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIGJsb2NrTGlicmFyeVRvZ2dsZT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgdG9nZ2xlQmxvY2tMaWJyYXJ5KCk7XG4gICAgfSk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIGlmICghYmxvY2tMaWJyYXJ5T3Blbikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoXG4gICAgICAgIGJsb2NrTGlicmFyeT8uY29udGFpbnMoZXZlbnQudGFyZ2V0KSB8fFxuICAgICAgICBibG9ja0xpYnJhcnlUb2dnbGU/LmNvbnRhaW5zKGV2ZW50LnRhcmdldClcbiAgICAgICkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjbG9zZUJsb2NrTGlicmFyeSgpO1xuICAgIH0pO1xuICAgIGJsb2NrQWRkQnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgY29uc3QgdHlwZSA9IGJ1dHRvbi5kYXRhc2V0LmJsb2NrQWRkO1xuICAgICAgICBhZGRCbG9ja0Zyb21MaWJyYXJ5KHR5cGUpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgYmxvY2tEZWxldGVDYW5jZWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY2xvc2VCbG9ja0RlbGV0ZU1vZGFsKCk7XG4gICAgfSk7XG4gICAgYmxvY2tEZWxldGVDb25maXJtPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGlmIChwZW5kaW5nRGVsZXRlQmxvY2tJZCkge1xuICAgICAgICBkZWxldGVCbG9ja0J5SWQocGVuZGluZ0RlbGV0ZUJsb2NrSWQpO1xuICAgICAgfVxuICAgICAgY2xvc2VCbG9ja0RlbGV0ZU1vZGFsKCk7XG4gICAgfSk7XG4gICAgYmxvY2tEZWxldGVNb2RhbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIGlmIChldmVudC50YXJnZXQgPT09IGJsb2NrRGVsZXRlTW9kYWwpIHtcbiAgICAgICAgY2xvc2VCbG9ja0RlbGV0ZU1vZGFsKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgYmxvY2tGb3JtPy5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIChldmVudCkgPT4ge1xuICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgaWYgKCF0YXJnZXQgfHwgIXRhcmdldC5uYW1lKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICh0YXJnZXQubmFtZSA9PT0gJ2dyb3VwLWNvbHVtbnMtbW9iaWxlJyB8fCB0YXJnZXQubmFtZSA9PT0gJ2dyb3VwLWNvbHVtbnMtZGVza3RvcCcpIHtcbiAgICAgICAgY29uc3QgbW9iaWxlVmFsdWUgPVxuICAgICAgICAgIGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImdyb3VwLWNvbHVtbnMtbW9iaWxlXCJdJyk/LnZhbHVlIHx8ICcxJztcbiAgICAgICAgY29uc3QgZGVza3RvcFZhbHVlID1cbiAgICAgICAgICBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJncm91cC1jb2x1bW5zLWRlc2t0b3BcIl0nKT8udmFsdWUgfHwgJzMnO1xuICAgICAgICB1cGRhdGVHcm91cE1pbmlQcmV2aWV3KG1vYmlsZVZhbHVlLCBkZXNrdG9wVmFsdWUpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbGxlY3Rpb25TZWxlY3Q/LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIChldmVudCkgPT4ge1xuICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgc3luY0NvbGxlY3Rpb25TZWxlY3Rpb25JbmZvKHRhcmdldD8udmFsdWUgfHwgJycpO1xuICAgIH0pO1xuICAgIGJsb2NrRm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgaGFuZGxlQmxvY2tGb3JtU3VibWl0KTtcbiAgICBibG9ja0Zvcm1DYW5jZWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgY29uc3QgYmxvY2sgPSBnZXRBY3RpdmVCbG9jaygpO1xuICAgICAgaWYgKGJsb2NrKSB7XG4gICAgICAgIHBvcHVsYXRlQmxvY2tGb3JtKGJsb2NrKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBwcmV2aWV3RnJhbWU/LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoKSA9PiB7XG4gICAgICBwcmV2aWV3UmVhZHkgPSB0cnVlO1xuICAgICAgdXBkYXRlUHJldmlld1N0YXR1cygnXHUwMEMwIGpvdXInKTtcbiAgICAgIGFwcGx5UHJldmlld0hpZ2hsaWdodChhY3RpdmVCbG9ja0lkKTtcbiAgICB9KTtcbiAgICBwcmV2aWV3T3BlbkJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBwcmV2aWV3V2luZG93ID0gd2luZG93Lm9wZW4oJycsICdfYmxhbmsnKTtcbiAgICAgIGlmICghcHJldmlld1dpbmRvdykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwcmV2aWV3V2luZG93Lm9wZW5lciA9IG51bGw7XG4gICAgICBjb25zdCBkb2MgPSBwcmV2aWV3V2luZG93LmRvY3VtZW50O1xuICAgICAgZG9jLm9wZW4oKTtcbiAgICAgIGRvYy53cml0ZShsYXRlc3RQcmV2aWV3SHRtbCB8fCBnZXRMb2FkaW5nUHJldmlld0h0bWwoKSk7XG4gICAgICBkb2MuY2xvc2UoKTtcbiAgICB9KTtcbiAgICBjb25zdCBoYW5kbGVCbG9ja0RyYWdTdGFydCA9IChldmVudCkgPT4ge1xuICAgICAgY29uc3QgaXRlbSA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCdbZGF0YS1ibG9jay1pdGVtXScpO1xuICAgICAgaWYgKCFpdGVtIHx8ICFpc0Rlc2t0b3BSZW9yZGVyKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZHJhZ1NvdXJjZUlkID0gaXRlbS5kYXRhc2V0LmJsb2NrSWQgfHwgbnVsbDtcbiAgICAgIGlmICghZHJhZ1NvdXJjZUlkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGV2ZW50LmRhdGFUcmFuc2Zlci5lZmZlY3RBbGxvd2VkID0gJ21vdmUnO1xuICAgICAgZXZlbnQuZGF0YVRyYW5zZmVyLnNldERhdGEoJ3RleHQvcGxhaW4nLCBkcmFnU291cmNlSWQpO1xuICAgICAgaXRlbS5jbGFzc0xpc3QuYWRkKCdvcGFjaXR5LTUwJyk7XG4gICAgfTtcbiAgICBjb25zdCBjbGVhckRyYWdJbmRpY2F0b3JzID0gKCkgPT4ge1xuICAgICAgYmxvY2tMaXN0XG4gICAgICAgID8ucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYmxvY2staXRlbV0nKVxuICAgICAgICAuZm9yRWFjaCgobm9kZSkgPT4gbm9kZS5jbGFzc0xpc3QucmVtb3ZlKCdvcGFjaXR5LTUwJywgJ3JpbmctMicsICdyaW5nLVsjOUM2QkZGXS81MCcpKTtcbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZUJsb2NrRHJhZ0VuZCA9ICgpID0+IHtcbiAgICAgIGRyYWdTb3VyY2VJZCA9IG51bGw7XG4gICAgICBjbGVhckRyYWdJbmRpY2F0b3JzKCk7XG4gICAgfTtcbiAgICBjb25zdCBoYW5kbGVCbG9ja0RyYWdPdmVyID0gKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoIWRyYWdTb3VyY2VJZCB8fCAhaXNEZXNrdG9wUmVvcmRlcigpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCdbZGF0YS1ibG9jay1pdGVtXScpO1xuICAgICAgaWYgKCF0YXJnZXQgfHwgdGFyZ2V0LmRhdGFzZXQuYmxvY2tJZCA9PT0gZHJhZ1NvdXJjZUlkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0YXJnZXQuY2xhc3NMaXN0LmFkZCgncmluZy0yJywgJ3JpbmctWyM5QzZCRkZdLzUwJyk7XG4gICAgfTtcbiAgICBjb25zdCBoYW5kbGVCbG9ja0RyYWdMZWF2ZSA9IChldmVudCkgPT4ge1xuICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLWJsb2NrLWl0ZW1dJyk7XG4gICAgICBpZiAoIXRhcmdldCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0YXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgncmluZy0yJywgJ3JpbmctWyM5QzZCRkZdLzUwJyk7XG4gICAgfTtcbiAgICBjb25zdCBoYW5kbGVCbG9ja0Ryb3AgPSAoZXZlbnQpID0+IHtcbiAgICAgIGlmICghZHJhZ1NvdXJjZUlkIHx8ICFpc0Rlc2t0b3BSZW9yZGVyKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCdbZGF0YS1ibG9jay1pdGVtXScpO1xuICAgICAgY29uc3Qgc291cmNlID0gZHJhZ1NvdXJjZUlkO1xuICAgICAgZHJhZ1NvdXJjZUlkID0gbnVsbDtcbiAgICAgIGNsZWFyRHJhZ0luZGljYXRvcnMoKTtcbiAgICAgIGNvbnN0IHRhcmdldElkID0gdGFyZ2V0Py5kYXRhc2V0LmJsb2NrSWQgfHwgbnVsbDtcbiAgICAgIGlmICghdGFyZ2V0SWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcmVvcmRlckJsb2Nrcyhzb3VyY2UsIHRhcmdldElkKTtcbiAgICB9O1xuICAgIGxldCBkcmFnU291cmNlSWQgPSBudWxsO1xuICAgIGJsb2NrTGlzdD8uYWRkRXZlbnRMaXN0ZW5lcignZHJhZ3N0YXJ0JywgaGFuZGxlQmxvY2tEcmFnU3RhcnQpO1xuICAgIGJsb2NrTGlzdD8uYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2VuZCcsIGhhbmRsZUJsb2NrRHJhZ0VuZCk7XG4gICAgYmxvY2tMaXN0Py5hZGRFdmVudExpc3RlbmVyKCdkcmFnb3ZlcicsIGhhbmRsZUJsb2NrRHJhZ092ZXIpO1xuICAgIGJsb2NrTGlzdD8uYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2xlYXZlJywgaGFuZGxlQmxvY2tEcmFnTGVhdmUpO1xuICAgIGJsb2NrTGlzdD8uYWRkRXZlbnRMaXN0ZW5lcignZHJvcCcsIGhhbmRsZUJsb2NrRHJvcCk7XG4gICAgbG9hZFBhZ2VzRnJvbVNlcnZlcigpO1xuICB9XG5cbiAgZnVuY3Rpb24gaW5pdENvbnRlbnRXb3Jrc3BhY2UoKSB7XG4gICAgY29uc3QgY29sbGVjdGlvbkxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xsZWN0aW9uLWxpc3RdJyk7XG4gICAgaWYgKCFjb2xsZWN0aW9uTGlzdCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBjb2xsZWN0aW9uRW1wdHlTdGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbGxlY3Rpb24tZW1wdHldJyk7XG4gICAgY29uc3QgY29sbGVjdGlvbkl0ZW1zRW1wdHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xsZWN0aW9uLWl0ZW1zLWVtcHR5XScpO1xuICAgIGNvbnN0IGl0ZW1UYWJsZVdyYXBwZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLXRhYmxlLXdyYXBwZXJdJyk7XG4gICAgY29uc3QgaXRlbVRhYmxlQm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tdGFibGUtYm9keV0nKTtcbiAgICBjb25zdCBjb2xsZWN0aW9uVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xsZWN0aW9uLXRpdGxlXScpO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25EZXNjcmlwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbGxlY3Rpb24tZGVzY3JpcHRpb25dJyk7XG4gICAgY29uc3QgY29sbGVjdGlvbkRyYXdlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbGxlY3Rpb24tZHJhd2VyXScpO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25EcmF3ZXJCYWNrZHJvcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbGxlY3Rpb24tZHJhd2VyLWJhY2tkcm9wXScpO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25EcmF3ZXJPcGVuQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWNvbGxlY3Rpb24tZHJhd2VyLW9wZW5dJyk7XG4gICAgY29uc3QgY29sbGVjdGlvbkRyYXdlckNsb3NlQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWNvbGxlY3Rpb24tZHJhd2VyLWNsb3NlXScpO1xuICAgIGNvbnN0IGl0ZW1BZGRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLWFkZF0nKTtcbiAgICBjb25zdCBpdGVtRGV0YWlsRW1wdHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLWRldGFpbC1lbXB0eV0nKTtcbiAgICBjb25zdCBpdGVtRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tZm9ybV0nKTtcbiAgICBjb25zdCBpdGVtRm9ybUZpZWxkcyA9IGl0ZW1Gb3JtXG4gICAgICA/IHtcbiAgICAgICAgICB0aXRsZTogaXRlbUZvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJpdGVtLXRpdGxlXCJdJyksXG4gICAgICAgICAgc2x1ZzogaXRlbUZvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJpdGVtLXNsdWdcIl0nKSxcbiAgICAgICAgICBleGNlcnB0OiBpdGVtRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cIml0ZW0tZXhjZXJwdFwiXScpLFxuICAgICAgICAgIGNvbnRlbnQ6IGl0ZW1Gb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaXRlbS1jb250ZW50XCJdJyksXG4gICAgICAgICAgaW1hZ2U6IGl0ZW1Gb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaXRlbS1pbWFnZVwiXScpLFxuICAgICAgICAgIHN0YXR1czogaXRlbUZvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJpdGVtLXN0YXR1c1wiXScpLFxuICAgICAgICB9XG4gICAgICA6IHt9O1xuICAgIGNvbnN0IGl0ZW1TdGF0dXNCYWRnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tc3RhdHVzLWJhZGdlXScpO1xuICAgIGNvbnN0IGl0ZW1EZWxldGVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLWRlbGV0ZV0nKTtcbiAgICBjb25zdCBpdGVtRGVsZXRlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLWRlbGV0ZS1tb2RhbF0nKTtcbiAgICBjb25zdCBpdGVtRGVsZXRlQ2FuY2VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS1kZWxldGUtY2FuY2VsXScpO1xuICAgIGNvbnN0IGl0ZW1EZWxldGVDb25maXJtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS1kZWxldGUtY29uZmlybV0nKTtcbiAgICBjb25zdCBpdGVtRm9ybUNhbmNlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tY2FuY2VsXScpO1xuICAgIGNvbnN0IGl0ZW1Gb3JtU2F2ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tc2F2ZV0nKTtcbiAgICBjb25zdCBzdGF0dXNCYWRnZUJhc2VDbGFzcyA9ICdyb3VuZGVkLWZ1bGwgcHgtMyBweS0xIHRleHQteHMgZm9udC1zZW1pYm9sZCc7XG5cbiAgICBjb25zdCBzYWZlU2l0ZVNsdWdWYWx1ZSA9IHN0cmlwTGVhZGluZ1NsYXNoKFxuICAgICAgd29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyxcbiAgICApO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25zQXBpQmFzZSA9IHNhZmVTaXRlU2x1Z1ZhbHVlXG4gICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Z1ZhbHVlKX0vY29sbGVjdGlvbnNgXG4gICAgICA6IG51bGw7XG5cbiAgICBsZXQgY29sbGVjdGlvbnMgPSBbXTtcbiAgICBsZXQgY29sbGVjdGlvbkl0ZW1zID0gW107XG4gICAgbGV0IGFjdGl2ZUNvbGxlY3Rpb25JZCA9IG51bGw7XG4gICAgbGV0IGFjdGl2ZUl0ZW1JZCA9IG51bGw7XG4gICAgbGV0IGlzQ3JlYXRpbmdJdGVtID0gZmFsc2U7XG4gICAgbGV0IGl0ZW1TbHVnTWFudWFsbHlFZGl0ZWQgPSBmYWxzZTtcbiAgICBsZXQgcGVuZGluZ0RlbGV0ZUl0ZW1JZCA9IG51bGw7XG5cbiAgICBjb25zdCBvcGVuQ29sbGVjdGlvbkRyYXdlciA9ICgpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvbkRyYXdlcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb2xsZWN0aW9uRHJhd2VyLmNsYXNzTGlzdC5hZGQoJ2lzLW9wZW4nKTtcbiAgICAgIGNvbGxlY3Rpb25EcmF3ZXIuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVgoMCknO1xuICAgICAgY29sbGVjdGlvbkRyYXdlckJhY2tkcm9wPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnb3ZlcmZsb3ctaGlkZGVuJyk7XG4gICAgfTtcblxuICAgIGNvbnN0IGNsb3NlQ29sbGVjdGlvbkRyYXdlciA9ICgpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvbkRyYXdlcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb2xsZWN0aW9uRHJhd2VyLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLW9wZW4nKTtcbiAgICAgIGNvbGxlY3Rpb25EcmF3ZXIuc3R5bGUudHJhbnNmb3JtID0gJyc7XG4gICAgICBjb2xsZWN0aW9uRHJhd2VyQmFja2Ryb3A/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICB9O1xuXG4gICAgY29sbGVjdGlvbkRyYXdlck9wZW5CdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlbkNvbGxlY3Rpb25EcmF3ZXIpO1xuICAgIH0pO1xuICAgIGNvbGxlY3Rpb25EcmF3ZXJDbG9zZUJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZUNvbGxlY3Rpb25EcmF3ZXIpO1xuICAgIH0pO1xuICAgIGNvbGxlY3Rpb25EcmF3ZXJCYWNrZHJvcD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZUNvbGxlY3Rpb25EcmF3ZXIpO1xuXG4gICAgY29uc3Qgbm9ybWFsaXplSXRlbVNsdWdJbnB1dCA9ICh2YWx1ZSkgPT4ge1xuICAgICAgY29uc3QgcmF3ID0gKHZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICBpZiAoIXJhdykge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgICB9XG4gICAgICBpZiAocmF3ID09PSAnLycpIHtcbiAgICAgICAgcmV0dXJuICcvJztcbiAgICAgIH1cbiAgICAgIGNvbnN0IHNlZ21lbnRzID0gcmF3LnJlcGxhY2UoL15cXC8vLCAnJykuc3BsaXQoJy8nKTtcbiAgICAgIGNvbnN0IGNsZWFuZWRTZWdtZW50cyA9IHNlZ21lbnRzXG4gICAgICAgIC5tYXAoKHNlZ21lbnQpID0+IHdvcmtzcGFjZVNsdWdpZnkoc2VnbWVudCB8fCAnJykpXG4gICAgICAgIC5maWx0ZXIoKHNlZ21lbnQpID0+IHNlZ21lbnQubGVuZ3RoID4gMCk7XG4gICAgICBpZiAoIWNsZWFuZWRTZWdtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGAvJHtjbGVhbmVkU2VnbWVudHMuam9pbignLycpfWA7XG4gICAgfTtcblxuICAgIGNvbnN0IGZvcm1hdEl0ZW1EYXRlID0gKHZhbHVlKSA9PiB7XG4gICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgIHJldHVybiAnXHUyMDE0JztcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSh2YWx1ZSk7XG4gICAgICBpZiAoTnVtYmVyLmlzTmFOKGRhdGUuZ2V0VGltZSgpKSkge1xuICAgICAgICByZXR1cm4gJ1x1MjAxNCc7XG4gICAgICB9XG4gICAgICByZXR1cm4gZGF0ZS50b0xvY2FsZURhdGVTdHJpbmcoJ2ZyLUZSJywgeyBkYXk6ICcyLWRpZ2l0JywgbW9udGg6ICdzaG9ydCcsIHllYXI6ICdudW1lcmljJyB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgdXBkYXRlQ29sbGVjdGlvbkhlYWRlciA9ICgpID0+IHtcbiAgICAgIGNvbnN0IGNvbGxlY3Rpb24gPSBjb2xsZWN0aW9ucy5maW5kKChlbnRyeSkgPT4gZW50cnkuaWQgPT09IGFjdGl2ZUNvbGxlY3Rpb25JZCk7XG4gICAgICBpZiAoY29sbGVjdGlvblRpdGxlKSB7XG4gICAgICAgIGNvbGxlY3Rpb25UaXRsZS50ZXh0Q29udGVudCA9IGNvbGxlY3Rpb24/Lm5hbWUgfHwgJ1NcdTAwRTlsZWN0aW9ubmV6IHVuZSBjb2xsZWN0aW9uJztcbiAgICAgIH1cbiAgICAgIGlmIChjb2xsZWN0aW9uRGVzY3JpcHRpb24pIHtcbiAgICAgICAgY29sbGVjdGlvbkRlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gY29sbGVjdGlvbj8uZGVzY3JpcHRpb24gfHwgJyc7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHVwZGF0ZUl0ZW1zRW1wdHlNZXNzYWdlID0gKG1lc3NhZ2UpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvbkl0ZW1zRW1wdHkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29sbGVjdGlvbkl0ZW1zRW1wdHkudGV4dENvbnRlbnQgPVxuICAgICAgICBtZXNzYWdlIHx8XG4gICAgICAgIChhY3RpdmVDb2xsZWN0aW9uSWRcbiAgICAgICAgICA/ICdBdWN1biBpdGVtIGRhbnMgY2V0dGUgY29sbGVjdGlvbiBwb3VyIGxlIG1vbWVudC4nXG4gICAgICAgICAgOiAnQ2hvaXNpc3NleiB1bmUgY29sbGVjdGlvbiBkYW5zIGxlIHBhbm5lYXUgZGUgZ2F1Y2hlLicpO1xuICAgIH07XG5cbiAgICBjb25zdCBoaWRlSXRlbUZvcm0gPSAoKSA9PiB7XG4gICAgICBpZiAoaXRlbUZvcm0pIHtcbiAgICAgICAgaXRlbUZvcm0uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIGl0ZW1Gb3JtLmRhdGFzZXQuaXRlbUlkID0gJyc7XG4gICAgICB9XG4gICAgICBpdGVtRGV0YWlsRW1wdHk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgaWYgKGl0ZW1TdGF0dXNCYWRnZSkge1xuICAgICAgICBpdGVtU3RhdHVzQmFkZ2UuY2xhc3NOYW1lID0gYGhpZGRlbiAke3N0YXR1c0JhZGdlQmFzZUNsYXNzfWA7XG4gICAgICAgIGl0ZW1TdGF0dXNCYWRnZS50ZXh0Q29udGVudCA9ICcnO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1EZWxldGVCdXR0b24pIHtcbiAgICAgICAgaXRlbURlbGV0ZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHNob3dJdGVtRm9ybSA9ICgpID0+IHtcbiAgICAgIGlmICghaXRlbUZvcm0pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaXRlbUZvcm0uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBpdGVtRGV0YWlsRW1wdHk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgIH07XG5cbiAgICBjb25zdCBzeW5jQWRkQnV0dG9uU3RhdGUgPSAoKSA9PiB7XG4gICAgICBpZiAoIWl0ZW1BZGRCdXR0b24pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaXRlbUFkZEJ1dHRvbi5kaXNhYmxlZCA9ICFhY3RpdmVDb2xsZWN0aW9uSWQ7XG4gICAgICBpZiAoaXRlbUFkZEJ1dHRvbi5kaXNhYmxlZCkge1xuICAgICAgICBpdGVtQWRkQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ29wYWNpdHktNjAnLCAncG9pbnRlci1ldmVudHMtbm9uZScpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaXRlbUFkZEJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdvcGFjaXR5LTYwJywgJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3Qgc3luY0l0ZW1TdGF0dXNCYWRnZSA9IChzdGF0dXMpID0+IHtcbiAgICAgIGlmICghaXRlbVN0YXR1c0JhZGdlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghc3RhdHVzKSB7XG4gICAgICAgIGl0ZW1TdGF0dXNCYWRnZS5jbGFzc05hbWUgPSBgaGlkZGVuICR7c3RhdHVzQmFkZ2VCYXNlQ2xhc3N9YDtcbiAgICAgICAgaXRlbVN0YXR1c0JhZGdlLnRleHRDb250ZW50ID0gJyc7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBzdGF0dXMudG9Mb3dlckNhc2UoKTtcbiAgICAgIGxldCBjb2xvckNsYXNzID0gJ2JnLXNsYXRlLTEwMCB0ZXh0LXNsYXRlLTYwMCBib3JkZXIgYm9yZGVyLXNsYXRlLTIwMCc7XG4gICAgICBpZiAobm9ybWFsaXplZCA9PT0gJ3B1YmxpXHUwMEU5JyB8fCBub3JtYWxpemVkID09PSAncHVibGllJykge1xuICAgICAgICBjb2xvckNsYXNzID0gJ2JnLWVtZXJhbGQtNTAgdGV4dC1lbWVyYWxkLTcwMCBib3JkZXIgYm9yZGVyLWVtZXJhbGQtMTAwJztcbiAgICAgIH0gZWxzZSBpZiAobm9ybWFsaXplZCA9PT0gJ2Jyb3VpbGxvbicpIHtcbiAgICAgICAgY29sb3JDbGFzcyA9ICdiZy1hbWJlci01MCB0ZXh0LWFtYmVyLTcwMCBib3JkZXIgYm9yZGVyLWFtYmVyLTEwMCc7XG4gICAgICB9XG4gICAgICBpdGVtU3RhdHVzQmFkZ2UuY2xhc3NOYW1lID0gYCR7c3RhdHVzQmFkZ2VCYXNlQ2xhc3N9ICR7Y29sb3JDbGFzc31gO1xuICAgICAgaXRlbVN0YXR1c0JhZGdlLnRleHRDb250ZW50ID0gc3RhdHVzO1xuICAgIH07XG5cbiAgICBjb25zdCByZW5kZXJDb2xsZWN0aW9uTGlzdCA9ICgpID0+IHtcbiAgICAgIGNvbGxlY3Rpb25MaXN0LmlubmVySFRNTCA9ICcnO1xuICAgICAgaWYgKCFjb2xsZWN0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgY29sbGVjdGlvbkVtcHR5U3RhdGU/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb2xsZWN0aW9uRW1wdHlTdGF0ZT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBjb2xsZWN0aW9ucy5mb3JFYWNoKChjb2xsZWN0aW9uKSA9PiB7XG4gICAgICAgIGNvbnN0IGlzQWN0aXZlID0gY29sbGVjdGlvbi5pZCA9PT0gYWN0aXZlQ29sbGVjdGlvbklkO1xuICAgICAgICBjb25zdCBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgYnV0dG9uLnR5cGUgPSAnYnV0dG9uJztcbiAgICAgICAgYnV0dG9uLmRhdGFzZXQuY29sbGVjdGlvbklkID0gY29sbGVjdGlvbi5pZDtcbiAgICAgICAgYnV0dG9uLmNsYXNzTmFtZSA9IFtcbiAgICAgICAgICAndy1mdWxsIHJvdW5kZWQteGwgYm9yZGVyIHB4LTMgcHktMiB0ZXh0LWxlZnQgdHJhbnNpdGlvbiBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctWyM5QzZCRkZdLzQwJyxcbiAgICAgICAgICBpc0FjdGl2ZVxuICAgICAgICAgICAgPyAnYmctWyNGN0YwRkZdIGJvcmRlci1bIzlDNkJGRl0vNDAgdGV4dC1zbGF0ZS05MDAnXG4gICAgICAgICAgICA6ICdib3JkZXItc2xhdGUtMjAwIHRleHQtc2xhdGUtNzAwIGhvdmVyOmJvcmRlci1bIzlDNkJGRl0vNDAnLFxuICAgICAgICBdLmpvaW4oJyAnKTtcbiAgICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZSgncm9sZScsICdvcHRpb24nKTtcbiAgICAgICAgaWYgKGlzQWN0aXZlKSB7XG4gICAgICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZSgnYXJpYS1jdXJyZW50JywgJ3RydWUnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBidXR0b24ucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWN1cnJlbnQnKTtcbiAgICAgICAgfVxuICAgICAgICBidXR0b24uaW5uZXJIVE1MID0gYFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gZ2FwLTJcIj5cbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1zbSBmb250LXNlbWlib2xkXCI+JHtjb2xsZWN0aW9uLm5hbWUgfHwgY29sbGVjdGlvbi5pZH08L3A+XG4gICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC14cyB0ZXh0LXNsYXRlLTUwMFwiPiR7Y29sbGVjdGlvbi5kZXNjcmlwdGlvbiB8fCAnJ308L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC1bMTFweF0gdXBwZXJjYXNlIHRyYWNraW5nLXdpZGUgdGV4dC1zbGF0ZS00MDBcIj4ke2NvbGxlY3Rpb24udHlwZSB8fCAnJ308L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIGA7XG4gICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICBzZXRBY3RpdmVDb2xsZWN0aW9uKGNvbGxlY3Rpb24uaWQpO1xuICAgICAgICAgIGlmICghd2luZG93Lm1hdGNoTWVkaWEoJyhtaW4td2lkdGg6IDEwMjRweCknKS5tYXRjaGVzKSB7XG4gICAgICAgICAgICBjbG9zZUNvbGxlY3Rpb25EcmF3ZXIoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBjb2xsZWN0aW9uTGlzdC5hcHBlbmRDaGlsZChidXR0b24pO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IHJlbmRlckl0ZW1UYWJsZSA9ICgpID0+IHtcbiAgICAgIGlmICghaXRlbVRhYmxlQm9keSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpdGVtVGFibGVCb2R5LmlubmVySFRNTCA9ICcnO1xuICAgICAgaWYgKCFjb2xsZWN0aW9uSXRlbXMubGVuZ3RoIHx8ICFhY3RpdmVDb2xsZWN0aW9uSWQpIHtcbiAgICAgICAgY29sbGVjdGlvbkl0ZW1zRW1wdHk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICB1cGRhdGVJdGVtc0VtcHR5TWVzc2FnZSgpO1xuICAgICAgICBpdGVtVGFibGVXcmFwcGVyPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29sbGVjdGlvbkl0ZW1zRW1wdHk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgaXRlbVRhYmxlV3JhcHBlcj8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBjb2xsZWN0aW9uSXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICBjb25zdCByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpO1xuICAgICAgICByb3cuZGF0YXNldC5pdGVtSWQgPSBpdGVtLmlkO1xuICAgICAgICBjb25zdCBpc0FjdGl2ZSA9IGl0ZW0uaWQgPT09IGFjdGl2ZUl0ZW1JZCAmJiAhaXNDcmVhdGluZ0l0ZW07XG4gICAgICAgIHJvdy5jbGFzc05hbWUgPSBbXG4gICAgICAgICAgJ2N1cnNvci1wb2ludGVyIHRyYW5zaXRpb24gZm9jdXMtd2l0aGluOmJnLVsjRjdGMEZGXS83MCBmb2N1czpvdXRsaW5lLW5vbmUnLFxuICAgICAgICAgIGlzQWN0aXZlID8gJ2JnLVsjRjdGMEZGXS83MCcgOiAnaG92ZXI6Ymctc2xhdGUtNTAnLFxuICAgICAgICBdLmpvaW4oJyAnKTtcbiAgICAgICAgcm93LnRhYkluZGV4ID0gMDtcbiAgICAgICAgcm93LnNldEF0dHJpYnV0ZSgncm9sZScsICdidXR0b24nKTtcbiAgICAgICAgaWYgKGlzQWN0aXZlKSB7XG4gICAgICAgICAgcm93LnNldEF0dHJpYnV0ZSgnYXJpYS1jdXJyZW50JywgJ3RydWUnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByb3cucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWN1cnJlbnQnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzdGF0dXMgPSBpdGVtLnN0YXR1cyB8fCAnQnJvdWlsbG9uJztcbiAgICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IHN0YXR1cy50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBjb25zdCBzdGF0dXNDbGFzc2VzID1cbiAgICAgICAgICBub3JtYWxpemVkID09PSAncHVibGlcdTAwRTknIHx8IG5vcm1hbGl6ZWQgPT09ICdwdWJsaWUnXG4gICAgICAgICAgICA/ICdiZy1lbWVyYWxkLTUwIHRleHQtZW1lcmFsZC03MDAgYm9yZGVyIGJvcmRlci1lbWVyYWxkLTEwMCdcbiAgICAgICAgICAgIDogJ2JnLWFtYmVyLTUwIHRleHQtYW1iZXItNzAwIGJvcmRlciBib3JkZXItYW1iZXItMTAwJztcbiAgICAgICAgcm93LmlubmVySFRNTCA9IGBcbiAgICAgICAgICA8dGQgY2xhc3M9XCJweC00IHB5LTMgYWxpZ24tdG9wXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQtc20gZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTkwMFwiPiR7aXRlbS50aXRsZSB8fCAnU2FucyB0aXRyZSd9PC9zcGFuPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQteHMgdGV4dC1zbGF0ZS01MDBcIj4ke2l0ZW0uc3VtbWFyeSB8fCBpdGVtLmV4Y2VycHQgfHwgJyd9PC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC90ZD5cbiAgICAgICAgICA8dGQgY2xhc3M9XCJweC00IHB5LTMgYWxpZ24tdG9wIHRleHQtc20gdGV4dC1zbGF0ZS02MDBcIj4ke2l0ZW0uc2x1ZyB8fCAnJ308L3RkPlxuICAgICAgICAgIDx0ZCBjbGFzcz1cInB4LTQgcHktMyBhbGlnbi10b3BcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIHJvdW5kZWQtZnVsbCBweC0zIHB5LTEgdGV4dC14cyBmb250LXNlbWlib2xkICR7c3RhdHVzQ2xhc3Nlc31cIj5cbiAgICAgICAgICAgICAgJHtzdGF0dXN9XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC90ZD5cbiAgICAgICAgICA8dGQgY2xhc3M9XCJweC00IHB5LTMgYWxpZ24tdG9wIHRleHQtc20gdGV4dC1zbGF0ZS01MDBcIj4ke2Zvcm1hdEl0ZW1EYXRlKFxuICAgICAgICAgICAgaXRlbS51cGRhdGVkQXQgfHwgaXRlbS5jcmVhdGVkQXQsXG4gICAgICAgICAgKX08L3RkPlxuICAgICAgICBgO1xuICAgICAgICBjb25zdCBoYW5kbGVTZWxlY3QgPSAoKSA9PiB7XG4gICAgICAgICAgc2VsZWN0SXRlbShpdGVtLmlkKTtcbiAgICAgICAgfTtcbiAgICAgICAgcm93LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlU2VsZWN0KTtcbiAgICAgICAgcm93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICBpZiAoZXZlbnQua2V5ID09PSAnRW50ZXInIHx8IGV2ZW50LmtleSA9PT0gJyAnKSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgaGFuZGxlU2VsZWN0KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaXRlbVRhYmxlQm9keS5hcHBlbmRDaGlsZChyb3cpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IHNlbGVjdEl0ZW0gPSAoaXRlbUlkKSA9PiB7XG4gICAgICBjb25zdCBpdGVtID0gY29sbGVjdGlvbkl0ZW1zLmZpbmQoKGVudHJ5KSA9PiBlbnRyeS5pZCA9PT0gaXRlbUlkKTtcbiAgICAgIGlmICghaXRlbSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhY3RpdmVJdGVtSWQgPSBpdGVtLmlkO1xuICAgICAgaXNDcmVhdGluZ0l0ZW0gPSBmYWxzZTtcbiAgICAgIGl0ZW1TbHVnTWFudWFsbHlFZGl0ZWQgPSB0cnVlO1xuICAgICAgcG9wdWxhdGVJdGVtRm9ybShpdGVtKTtcbiAgICAgIHJlbmRlckl0ZW1UYWJsZSgpO1xuICAgIH07XG5cbiAgICBjb25zdCBwb3B1bGF0ZUl0ZW1Gb3JtID0gKGl0ZW0pID0+IHtcbiAgICAgIGlmICghaXRlbUZvcm0gfHwgIWl0ZW0pIHtcbiAgICAgICAgaGlkZUl0ZW1Gb3JtKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNob3dJdGVtRm9ybSgpO1xuICAgICAgaXRlbUZvcm0uZGF0YXNldC5pdGVtSWQgPSBpdGVtLmlkO1xuICAgICAgaWYgKGl0ZW1Gb3JtRmllbGRzLnRpdGxlKSB7XG4gICAgICAgIGl0ZW1Gb3JtRmllbGRzLnRpdGxlLnZhbHVlID0gaXRlbS50aXRsZSB8fCAnJztcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtRm9ybUZpZWxkcy5zbHVnKSB7XG4gICAgICAgIGl0ZW1Gb3JtRmllbGRzLnNsdWcudmFsdWUgPSBpdGVtLnNsdWcgfHwgJyc7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbUZvcm1GaWVsZHMuZXhjZXJwdCkge1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy5leGNlcnB0LnZhbHVlID0gaXRlbS5zdW1tYXJ5IHx8IGl0ZW0uZXhjZXJwdCB8fCAnJztcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtRm9ybUZpZWxkcy5jb250ZW50KSB7XG4gICAgICAgIGl0ZW1Gb3JtRmllbGRzLmNvbnRlbnQudmFsdWUgPSBpdGVtLmNvbnRlbnQgfHwgJyc7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbUZvcm1GaWVsZHMuaW1hZ2UpIHtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMuaW1hZ2UudmFsdWUgPSBpdGVtLmltYWdlIHx8ICcnO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1Gb3JtRmllbGRzLnN0YXR1cykge1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy5zdGF0dXMudmFsdWUgPSBpdGVtLnN0YXR1cyB8fCAnQnJvdWlsbG9uJztcbiAgICAgIH1cbiAgICAgIHN5bmNJdGVtU3RhdHVzQmFkZ2UoaXRlbS5zdGF0dXMgfHwgJ0Jyb3VpbGxvbicpO1xuICAgICAgaWYgKGl0ZW1EZWxldGVCdXR0b24pIHtcbiAgICAgICAgaXRlbURlbGV0ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBwcmVwYXJlTmV3SXRlbUZvcm0gPSAoKSA9PiB7XG4gICAgICBpZiAoIWl0ZW1Gb3JtKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlzQ3JlYXRpbmdJdGVtID0gdHJ1ZTtcbiAgICAgIGFjdGl2ZUl0ZW1JZCA9IG51bGw7XG4gICAgICBpdGVtU2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gICAgICBpdGVtRm9ybS5kYXRhc2V0Lml0ZW1JZCA9ICcnO1xuICAgICAgaXRlbUZvcm0ucmVzZXQoKTtcbiAgICAgIGlmIChpdGVtRm9ybUZpZWxkcy5zdGF0dXMpIHtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMuc3RhdHVzLnZhbHVlID0gJ0Jyb3VpbGxvbic7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbUZvcm1GaWVsZHMuc2x1Zykge1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy5zbHVnLnZhbHVlID0gJyc7XG4gICAgICB9XG4gICAgICBzeW5jSXRlbVN0YXR1c0JhZGdlKCdCcm91aWxsb24nKTtcbiAgICAgIHNob3dJdGVtRm9ybSgpO1xuICAgICAgaWYgKGl0ZW1EZWxldGVCdXR0b24pIHtcbiAgICAgICAgaXRlbURlbGV0ZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICB9XG4gICAgICBpdGVtRm9ybUZpZWxkcy50aXRsZT8uZm9jdXMoKTtcbiAgICB9O1xuXG4gICAgY29uc3QgY29sbGVjdEl0ZW1Gb3JtVmFsdWVzID0gKCkgPT4ge1xuICAgICAgY29uc3QgdGl0bGUgPSAoaXRlbUZvcm1GaWVsZHMudGl0bGU/LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICBjb25zdCBzbHVnSW5wdXQgPSAoaXRlbUZvcm1GaWVsZHMuc2x1Zz8udmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgIGNvbnN0IHN1bW1hcnkgPSAoaXRlbUZvcm1GaWVsZHMuZXhjZXJwdD8udmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgIGNvbnN0IGNvbnRlbnQgPSAoaXRlbUZvcm1GaWVsZHMuY29udGVudD8udmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgIGNvbnN0IGltYWdlID0gKGl0ZW1Gb3JtRmllbGRzLmltYWdlPy52YWx1ZSB8fCAnJykudHJpbSgpO1xuICAgICAgY29uc3Qgc3RhdHVzID0gaXRlbUZvcm1GaWVsZHMuc3RhdHVzPy52YWx1ZSB8fCAnQnJvdWlsbG9uJztcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRpdGxlLFxuICAgICAgICBzbHVnOiBzbHVnSW5wdXQgPyBub3JtYWxpemVJdGVtU2x1Z0lucHV0KHNsdWdJbnB1dCkgOiBub3JtYWxpemVJdGVtU2x1Z0lucHV0KHRpdGxlKSxcbiAgICAgICAgc3VtbWFyeSxcbiAgICAgICAgZXhjZXJwdDogc3VtbWFyeSxcbiAgICAgICAgY29udGVudCxcbiAgICAgICAgaW1hZ2UsXG4gICAgICAgIHN0YXR1cyxcbiAgICAgIH07XG4gICAgfTtcblxuICAgIGNvbnN0IHNldEZvcm1TYXZpbmdTdGF0ZSA9IChpc1NhdmluZykgPT4ge1xuICAgICAgaWYgKGl0ZW1Gb3JtU2F2ZSkge1xuICAgICAgICBpdGVtRm9ybVNhdmUuZGlzYWJsZWQgPSBpc1NhdmluZztcbiAgICAgICAgaXRlbUZvcm1TYXZlLnRleHRDb250ZW50ID0gaXNTYXZpbmcgPyAnRW5yZWdpc3RyZW1lbnRcdTIwMjYnIDogJ0VucmVnaXN0cmVyJztcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtRGVsZXRlQnV0dG9uICYmICFpc0NyZWF0aW5nSXRlbSAmJiBhY3RpdmVJdGVtSWQpIHtcbiAgICAgICAgaXRlbURlbGV0ZUJ1dHRvbi5kaXNhYmxlZCA9IGlzU2F2aW5nO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBmZXRjaENvbGxlY3Rpb25JdGVtcyA9IGFzeW5jIChjb2xsZWN0aW9uSWQpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvbnNBcGlCYXNlKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgIGAke2NvbGxlY3Rpb25zQXBpQmFzZX0vJHtlbmNvZGVVUklDb21wb25lbnQoY29sbGVjdGlvbklkKX0vaXRlbXNgLFxuICAgICAgICB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9LFxuICAgICAgKTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHBheWxvYWQubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxlcyBpdGVtcy4nKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICByZXR1cm4gQXJyYXkuaXNBcnJheShkYXRhLml0ZW1zKSA/IGRhdGEuaXRlbXMgOiBbXTtcbiAgICB9O1xuXG4gICAgY29uc3Qgc2V0QWN0aXZlQ29sbGVjdGlvbiA9IGFzeW5jIChjb2xsZWN0aW9uSWQpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvbklkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGFjdGl2ZUNvbGxlY3Rpb25JZCA9IGNvbGxlY3Rpb25JZDtcbiAgICAgIGFjdGl2ZUl0ZW1JZCA9IG51bGw7XG4gICAgICBpc0NyZWF0aW5nSXRlbSA9IGZhbHNlO1xuICAgICAgaXRlbVNsdWdNYW51YWxseUVkaXRlZCA9IGZhbHNlO1xuICAgICAgdXBkYXRlQ29sbGVjdGlvbkhlYWRlcigpO1xuICAgICAgc3luY0FkZEJ1dHRvblN0YXRlKCk7XG4gICAgICByZW5kZXJDb2xsZWN0aW9uTGlzdCgpO1xuICAgICAgaGlkZUl0ZW1Gb3JtKCk7XG4gICAgICBjb2xsZWN0aW9uSXRlbXMgPSBbXTtcbiAgICAgIHJlbmRlckl0ZW1UYWJsZSgpO1xuICAgICAgdXBkYXRlSXRlbXNFbXB0eU1lc3NhZ2UoJ0NoYXJnZW1lbnQgZGVzIGl0ZW1zXHUyMDI2Jyk7XG4gICAgICBjb2xsZWN0aW9uSXRlbXNFbXB0eT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBpdGVtVGFibGVXcmFwcGVyPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGlmICghY29sbGVjdGlvbnNBcGlCYXNlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbGxlY3Rpb25JdGVtcyA9IGF3YWl0IGZldGNoQ29sbGVjdGlvbkl0ZW1zKGNvbGxlY3Rpb25JZCk7XG4gICAgICAgIHJlbmRlckl0ZW1UYWJsZSgpO1xuICAgICAgICBpZiAoIWNvbGxlY3Rpb25JdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgICB1cGRhdGVJdGVtc0VtcHR5TWVzc2FnZSgpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2NvbnRlbnRdIGl0ZW1zIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxlcyBpdGVtcy4nKTtcbiAgICAgICAgY29sbGVjdGlvbkl0ZW1zID0gW107XG4gICAgICAgIHJlbmRlckl0ZW1UYWJsZSgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBjcmVhdGVDb2xsZWN0aW9uSXRlbSA9IGFzeW5jIChjb2xsZWN0aW9uSWQsIHBheWxvYWQpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvbnNBcGlCYXNlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignU2l0ZSBpbmNvbm51LicpO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgYCR7Y29sbGVjdGlvbnNBcGlCYXNlfS8ke2VuY29kZVVSSUNvbXBvbmVudChjb2xsZWN0aW9uSWQpfS9pdGVtc2AsXG4gICAgICAgIHtcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgfSxcbiAgICAgICk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihkYXRhLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgY3JcdTAwRTllciBjZXQgaXRlbS4nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgfTtcblxuICAgIGNvbnN0IHVwZGF0ZUNvbGxlY3Rpb25JdGVtID0gYXN5bmMgKGNvbGxlY3Rpb25JZCwgaXRlbUlkLCBwYXlsb2FkKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25zQXBpQmFzZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NpdGUgaW5jb25udS4nKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgIGAke2NvbGxlY3Rpb25zQXBpQmFzZX0vJHtlbmNvZGVVUklDb21wb25lbnQoY29sbGVjdGlvbklkKX0vaXRlbXMvJHtlbmNvZGVVUklDb21wb25lbnQoaXRlbUlkKX1gLFxuICAgICAgICB7XG4gICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgfSxcbiAgICAgICk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihkYXRhLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgc2F1dmVnYXJkZXIgY2V0IGl0ZW0uJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgIH07XG5cbiAgICBjb25zdCBkZWxldGVDb2xsZWN0aW9uSXRlbSA9IGFzeW5jIChjb2xsZWN0aW9uSWQsIGl0ZW1JZCkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uc0FwaUJhc2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTaXRlIGluY29ubnUuJyk7XG4gICAgICB9XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgICBgJHtjb2xsZWN0aW9uc0FwaUJhc2V9LyR7ZW5jb2RlVVJJQ29tcG9uZW50KGNvbGxlY3Rpb25JZCl9L2l0ZW1zLyR7ZW5jb2RlVVJJQ29tcG9uZW50KGl0ZW1JZCl9YCxcbiAgICAgICAgeyBtZXRob2Q6ICdERUxFVEUnIH0sXG4gICAgICApO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZGF0YS5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIHN1cHByaW1lciBjZXQgaXRlbS4nKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgbG9hZENvbGxlY3Rpb25zID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uc0FwaUJhc2UpIHtcbiAgICAgICAgY29sbGVjdGlvbkVtcHR5U3RhdGU/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICBhY3RpdmVDb2xsZWN0aW9uSWQgPSBudWxsO1xuICAgICAgICBjb2xsZWN0aW9uSXRlbXMgPSBbXTtcbiAgICAgICAgcmVuZGVySXRlbVRhYmxlKCk7XG4gICAgICAgIHVwZGF0ZUNvbGxlY3Rpb25IZWFkZXIoKTtcbiAgICAgICAgc3luY0FkZEJ1dHRvblN0YXRlKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goY29sbGVjdGlvbnNBcGlCYXNlLCB7XG4gICAgICAgICAgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxlcyBjb2xsZWN0aW9ucy4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+IFtdKTtcbiAgICAgICAgY29sbGVjdGlvbnMgPSBBcnJheS5pc0FycmF5KHBheWxvYWQpID8gcGF5bG9hZCA6IFtdO1xuICAgICAgICByZW5kZXJDb2xsZWN0aW9uTGlzdCgpO1xuICAgICAgICBpZiAoY29sbGVjdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGNvbnN0IGRlZmF1bHRJZCA9IGNvbGxlY3Rpb25zLmZpbmQoKGVudHJ5KSA9PiBlbnRyeS5pZCA9PT0gYWN0aXZlQ29sbGVjdGlvbklkKT8uaWRcbiAgICAgICAgICAgIHx8IGNvbGxlY3Rpb25zWzBdLmlkO1xuICAgICAgICAgIHNldEFjdGl2ZUNvbGxlY3Rpb24oZGVmYXVsdElkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhY3RpdmVDb2xsZWN0aW9uSWQgPSBudWxsO1xuICAgICAgICAgIGNvbGxlY3Rpb25JdGVtcyA9IFtdO1xuICAgICAgICAgIHVwZGF0ZUNvbGxlY3Rpb25IZWFkZXIoKTtcbiAgICAgICAgICBzeW5jQWRkQnV0dG9uU3RhdGUoKTtcbiAgICAgICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tjb250ZW50XSBsb2FkIGNvbGxlY3Rpb25zJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIGNvbGxlY3Rpb25zLicpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBpdGVtQWRkQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGlmICghYWN0aXZlQ29sbGVjdGlvbklkKSB7XG4gICAgICAgIHNob3dUb2FzdCgnU1x1MDBFOWxlY3Rpb25uZXogZFx1MjAxOWFib3JkIHVuZSBjb2xsZWN0aW9uLicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwcmVwYXJlTmV3SXRlbUZvcm0oKTtcbiAgICAgIHJlbmRlckl0ZW1UYWJsZSgpO1xuICAgIH0pO1xuXG4gICAgaXRlbUZvcm1DYW5jZWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKGlzQ3JlYXRpbmdJdGVtKSB7XG4gICAgICAgIGlzQ3JlYXRpbmdJdGVtID0gZmFsc2U7XG4gICAgICAgIGFjdGl2ZUl0ZW1JZCA9IG51bGw7XG4gICAgICAgIGhpZGVJdGVtRm9ybSgpO1xuICAgICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGFjdGl2ZUl0ZW1JZCkge1xuICAgICAgICBjb25zdCBpdGVtID0gY29sbGVjdGlvbkl0ZW1zLmZpbmQoKGVudHJ5KSA9PiBlbnRyeS5pZCA9PT0gYWN0aXZlSXRlbUlkKTtcbiAgICAgICAgcG9wdWxhdGVJdGVtRm9ybShpdGVtKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGhpZGVJdGVtRm9ybSgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaXRlbUZvcm1GaWVsZHMuc3RhdHVzPy5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgICBzeW5jSXRlbVN0YXR1c0JhZGdlKGl0ZW1Gb3JtRmllbGRzLnN0YXR1cy52YWx1ZSk7XG4gICAgfSk7XG5cbiAgICBpdGVtRm9ybUZpZWxkcy50aXRsZT8uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgICBpZiAoIWlzQ3JlYXRpbmdJdGVtIHx8ICFpdGVtRm9ybUZpZWxkcy5zbHVnIHx8IGl0ZW1TbHVnTWFudWFsbHlFZGl0ZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaXRlbUZvcm1GaWVsZHMuc2x1Zy52YWx1ZSA9IG5vcm1hbGl6ZUl0ZW1TbHVnSW5wdXQoaXRlbUZvcm1GaWVsZHMudGl0bGUudmFsdWUpO1xuICAgIH0pO1xuXG4gICAgaXRlbUZvcm1GaWVsZHMuc2x1Zz8uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgICBpZiAoIWlzQ3JlYXRpbmdJdGVtKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGl0ZW1TbHVnTWFudWFsbHlFZGl0ZWQgPSB0cnVlO1xuICAgIH0pO1xuXG4gICAgaXRlbUZvcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmICghYWN0aXZlQ29sbGVjdGlvbklkKSB7XG4gICAgICAgIHNob3dUb2FzdCgnU1x1MDBFOWxlY3Rpb25uZXogdW5lIGNvbGxlY3Rpb24uJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHZhbHVlcyA9IGNvbGxlY3RJdGVtRm9ybVZhbHVlcygpO1xuICAgICAgaWYgKCF2YWx1ZXMudGl0bGUpIHtcbiAgICAgICAgc2hvd1RvYXN0KCdMZSB0aXRyZSBlc3QgcmVxdWlzLicpO1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy50aXRsZT8uZm9jdXMoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2V0Rm9ybVNhdmluZ1N0YXRlKHRydWUpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgbGV0IHNhdmVkSXRlbTtcbiAgICAgICAgaWYgKGlzQ3JlYXRpbmdJdGVtIHx8ICFhY3RpdmVJdGVtSWQpIHtcbiAgICAgICAgICBzYXZlZEl0ZW0gPSBhd2FpdCBjcmVhdGVDb2xsZWN0aW9uSXRlbShhY3RpdmVDb2xsZWN0aW9uSWQsIHZhbHVlcyk7XG4gICAgICAgICAgY29sbGVjdGlvbkl0ZW1zID0gWy4uLmNvbGxlY3Rpb25JdGVtcywgc2F2ZWRJdGVtXTtcbiAgICAgICAgICBzaG93VG9hc3QoJ0l0ZW0gY3JcdTAwRTlcdTAwRTknKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzYXZlZEl0ZW0gPSBhd2FpdCB1cGRhdGVDb2xsZWN0aW9uSXRlbShhY3RpdmVDb2xsZWN0aW9uSWQsIGFjdGl2ZUl0ZW1JZCwgdmFsdWVzKTtcbiAgICAgICAgICBjb2xsZWN0aW9uSXRlbXMgPSBjb2xsZWN0aW9uSXRlbXMubWFwKChpdGVtKSA9PlxuICAgICAgICAgICAgaXRlbS5pZCA9PT0gc2F2ZWRJdGVtLmlkID8gc2F2ZWRJdGVtIDogaXRlbSxcbiAgICAgICAgICApO1xuICAgICAgICAgIHNob3dUb2FzdCgnSXRlbSBtaXMgXHUwMEUwIGpvdXInKTtcbiAgICAgICAgfVxuICAgICAgICBpc0NyZWF0aW5nSXRlbSA9IGZhbHNlO1xuICAgICAgICBhY3RpdmVJdGVtSWQgPSBzYXZlZEl0ZW0uaWQ7XG4gICAgICAgIHBvcHVsYXRlSXRlbUZvcm0oc2F2ZWRJdGVtKTtcbiAgICAgICAgcmVuZGVySXRlbVRhYmxlKCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2NvbnRlbnRdIHNhdmUgaXRlbSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgc2F1dmVnYXJkZXIgY2V0IGl0ZW0uJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZXRGb3JtU2F2aW5nU3RhdGUoZmFsc2UpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgY29uc3QgY2xvc2VEZWxldGVNb2RhbCA9ICgpID0+IHtcbiAgICAgIGlmICghaXRlbURlbGV0ZU1vZGFsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGl0ZW1EZWxldGVNb2RhbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGl0ZW1EZWxldGVNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdmbGV4Jyk7XG4gICAgICBwZW5kaW5nRGVsZXRlSXRlbUlkID0gbnVsbDtcbiAgICB9O1xuXG4gICAgY29uc3Qgb3BlbkRlbGV0ZU1vZGFsID0gKCkgPT4ge1xuICAgICAgaWYgKCFpdGVtRGVsZXRlTW9kYWwgfHwgIWFjdGl2ZUl0ZW1JZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwZW5kaW5nRGVsZXRlSXRlbUlkID0gYWN0aXZlSXRlbUlkO1xuICAgICAgaXRlbURlbGV0ZU1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgaXRlbURlbGV0ZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2ZsZXgnKTtcbiAgICB9O1xuXG4gICAgaXRlbURlbGV0ZUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoIWFjdGl2ZUl0ZW1JZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBvcGVuRGVsZXRlTW9kYWwoKTtcbiAgICB9KTtcblxuICAgIGl0ZW1EZWxldGVDYW5jZWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY2xvc2VEZWxldGVNb2RhbCgpO1xuICAgIH0pO1xuXG4gICAgaXRlbURlbGV0ZU1vZGFsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gaXRlbURlbGV0ZU1vZGFsKSB7XG4gICAgICAgIGNsb3NlRGVsZXRlTW9kYWwoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGl0ZW1EZWxldGVDb25maXJtPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghcGVuZGluZ0RlbGV0ZUl0ZW1JZCB8fCAhYWN0aXZlQ29sbGVjdGlvbklkKSB7XG4gICAgICAgIGNsb3NlRGVsZXRlTW9kYWwoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaXRlbURlbGV0ZUNvbmZpcm0uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgaXRlbURlbGV0ZUNvbmZpcm0udGV4dENvbnRlbnQgPSAnU3VwcHJlc3Npb25cdTIwMjYnO1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgZGVsZXRlQ29sbGVjdGlvbkl0ZW0oYWN0aXZlQ29sbGVjdGlvbklkLCBwZW5kaW5nRGVsZXRlSXRlbUlkKTtcbiAgICAgICAgY29sbGVjdGlvbkl0ZW1zID0gY29sbGVjdGlvbkl0ZW1zLmZpbHRlcigoaXRlbSkgPT4gaXRlbS5pZCAhPT0gcGVuZGluZ0RlbGV0ZUl0ZW1JZCk7XG4gICAgICAgIGlmIChhY3RpdmVJdGVtSWQgPT09IHBlbmRpbmdEZWxldGVJdGVtSWQpIHtcbiAgICAgICAgICBhY3RpdmVJdGVtSWQgPSBudWxsO1xuICAgICAgICAgIGhpZGVJdGVtRm9ybSgpO1xuICAgICAgICB9XG4gICAgICAgIHNob3dUb2FzdCgnSXRlbSBzdXBwcmltXHUwMEU5Jyk7XG4gICAgICAgIHJlbmRlckl0ZW1UYWJsZSgpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tjb250ZW50XSBkZWxldGUgaXRlbSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgc3VwcHJpbWVyIGNldCBpdGVtLicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaXRlbURlbGV0ZUNvbmZpcm0uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgaXRlbURlbGV0ZUNvbmZpcm0udGV4dENvbnRlbnQgPSAnU3VwcHJpbWVyJztcbiAgICAgICAgY2xvc2VEZWxldGVNb2RhbCgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdXBkYXRlQ29sbGVjdGlvbkhlYWRlcigpO1xuICAgIHN5bmNBZGRCdXR0b25TdGF0ZSgpO1xuICAgIGxvYWRDb2xsZWN0aW9ucygpO1xuICB9XG5cbiAgZnVuY3Rpb24gaW5pdERlcGxveVdvcmtzcGFjZSgpIHtcbiAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LWZvcm1dJyk7XG4gICAgaWYgKCFmb3JtKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHByb3RvY29sU2VsZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LXByb3RvY29sXScpO1xuICAgIGNvbnN0IGhvc3RJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1ob3N0XScpO1xuICAgIGNvbnN0IHBvcnRJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1wb3J0XScpO1xuICAgIGNvbnN0IHVzZXJJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS11c2VyXScpO1xuICAgIGNvbnN0IHBhc3N3b3JkSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktcGFzc3dvcmRdJyk7XG4gICAgY29uc3Qgc2hvd1Bhc3N3b3JkVG9nZ2xlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LXNob3ctcGFzc3dvcmRdJyk7XG4gICAgY29uc3QgcmVtb3RlUGF0aElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LXJlbW90ZS1wYXRoXScpO1xuICAgIGNvbnN0IGZlZWRiYWNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LWZlZWRiYWNrXScpO1xuICAgIGNvbnN0IHNhdmVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktc2F2ZV0nKTtcbiAgICBjb25zdCB0ZXN0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LXRlc3RdJyk7XG4gICAgY29uc3QgZGVwbG95QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LXRyaWdnZXJdJyk7XG4gICAgY29uc3QgaGlzdG9yeUxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktaGlzdG9yeV0nKTtcbiAgICBjb25zdCBsb2dCb3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktbG9nXScpO1xuXG4gICAgY29uc3Qgc2FmZVNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goXG4gICAgICB3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnLFxuICAgICk7XG4gICAgY29uc3QgZGVwbG95QXBpQmFzZSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9kZXBsb3ktY29uZmlnYFxuICAgICAgOiBudWxsO1xuICAgIGNvbnN0IGRlcGxveVJ1bkFwaSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9kZXBsb3lgXG4gICAgICA6IG51bGw7XG4gICAgY29uc3QgZGVwbG95TG9nQXBpID0gc2FmZVNpdGVTbHVnXG4gICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Zyl9L2RlcGxveS1sb2dgXG4gICAgICA6IG51bGw7XG5cbiAgICBsZXQgaGFzUGFzc3dvcmQgPSBmYWxzZTtcbiAgICBsZXQgYnVzeUFjdGlvbiA9IG51bGw7XG5cbiAgICBjb25zdCBzYW5pdGl6ZVJlbW90ZVBhdGggPSAodmFsdWUpID0+IHtcbiAgICAgIGNvbnN0IHRyaW1tZWQgPSAodmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgIGlmICghdHJpbW1lZCkge1xuICAgICAgICByZXR1cm4gJy93d3cnO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRyaW1tZWQuc3RhcnRzV2l0aCgnLycpID8gdHJpbW1lZCA6IGAvJHt0cmltbWVkfWA7XG4gICAgfTtcblxuICAgIGNvbnN0IHNldEZlZWRiYWNrID0gKG1lc3NhZ2UsIHRvbmUgPSAnbXV0ZWQnKSA9PiB7XG4gICAgICBpZiAoIWZlZWRiYWNrKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGJhc2VDbGFzcyA9ICdpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgcm91bmRlZC1mdWxsIHB4LTMgcHktMSB0ZXh0LXhzIGZvbnQtc2VtaWJvbGQnO1xuICAgICAgY29uc3QgdG9uZUNsYXNzID1cbiAgICAgICAgdG9uZSA9PT0gJ3N1Y2Nlc3MnXG4gICAgICAgICAgPyAnYmctZW1lcmFsZC01MCB0ZXh0LWVtZXJhbGQtNzAwIGJvcmRlciBib3JkZXItZW1lcmFsZC0xMDAnXG4gICAgICAgICAgOiB0b25lID09PSAnZXJyb3InXG4gICAgICAgICAgICA/ICdiZy1yb3NlLTUwIHRleHQtcm9zZS03MDAgYm9yZGVyIGJvcmRlci1yb3NlLTEwMCdcbiAgICAgICAgICAgIDogJ2JnLXNsYXRlLTUwIHRleHQtc2xhdGUtNjAwIGJvcmRlciBib3JkZXItc2xhdGUtMTAwJztcbiAgICAgIGlmICghbWVzc2FnZSkge1xuICAgICAgICBmZWVkYmFjay50ZXh0Q29udGVudCA9ICcnO1xuICAgICAgICBmZWVkYmFjay5jbGFzc05hbWUgPSAndGV4dC1zbSB0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGljb24gPSB0b25lID09PSAnc3VjY2VzcycgPyAnXHUyNzA1JyA6IHRvbmUgPT09ICdlcnJvcicgPyAnXHUyNzRDJyA6ICdcdTIxMzlcdUZFMEYnO1xuICAgICAgZmVlZGJhY2suaW5uZXJIVE1MID0gYDxzcGFuIGNsYXNzPVwiJHtiYXNlQ2xhc3N9ICR7dG9uZUNsYXNzfVwiPiR7aWNvbn08c3Bhbj4ke21lc3NhZ2V9PC9zcGFuPjwvc3Bhbj5gO1xuICAgICAgZmVlZGJhY2suY2xhc3NOYW1lID0gJ3RleHQtc20nO1xuICAgIH07XG5cbiAgICBjb25zdCBzZXRCdXN5ID0gKGFjdGlvbiA9IG51bGwpID0+IHtcbiAgICAgIGJ1c3lBY3Rpb24gPSBhY3Rpb247XG4gICAgICBjb25zdCBkaXNhYmxlID0gQm9vbGVhbihhY3Rpb24pO1xuICAgICAgY29uc3Qgc3Bpbm5lciA9XG4gICAgICAgICc8c3ZnIGNsYXNzPVwiaC00IHctNCBhbmltYXRlLXNwaW4gdGV4dC13aGl0ZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjxjaXJjbGUgY2xhc3M9XCJvcGFjaXR5LTI1XCIgY3g9XCIxMlwiIGN5PVwiMTJcIiByPVwiMTBcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCI0XCI+PC9jaXJjbGU+PHBhdGggY2xhc3M9XCJvcGFjaXR5LTc1XCIgZmlsbD1cImN1cnJlbnRDb2xvclwiIGQ9XCJNNCAxMmE4IDggMCAwMTgtOHY0YTQgNCAwIDAwLTQgNEg0elwiPjwvcGF0aD48L3N2Zz4nO1xuICAgICAgaWYgKHNhdmVCdXR0b24pIHtcbiAgICAgICAgc2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IGRpc2FibGU7XG4gICAgICAgIHNhdmVCdXR0b24uaW5uZXJIVE1MID1cbiAgICAgICAgICBhY3Rpb24gPT09ICdzYXZlJ1xuICAgICAgICAgICAgPyBgPHNwYW4gY2xhc3M9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj4ke3NwaW5uZXJ9PHNwYW4+RW5yZWdpc3RyZW1lbnRcdTIwMjY8L3NwYW4+PC9zcGFuPmBcbiAgICAgICAgICAgIDogJ0VucmVnaXN0cmVyJztcbiAgICAgIH1cbiAgICAgIGlmICh0ZXN0QnV0dG9uKSB7XG4gICAgICAgIHRlc3RCdXR0b24uZGlzYWJsZWQgPSBkaXNhYmxlO1xuICAgICAgICB0ZXN0QnV0dG9uLmlubmVySFRNTCA9XG4gICAgICAgICAgYWN0aW9uID09PSAndGVzdCdcbiAgICAgICAgICAgID8gYDxzcGFuIGNsYXNzPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+PHNwYW4gY2xhc3M9XCJoLTQgdy00IGFuaW1hdGUtc3BpbiByb3VuZGVkLWZ1bGwgYm9yZGVyLTIgYm9yZGVyLXNsYXRlLTIwMCBib3JkZXItdC1zbGF0ZS02MDBcIj48L3NwYW4+PHNwYW4+VGVzdCBlbiBjb3Vyc1x1MjAyNjwvc3Bhbj48L3NwYW4+YFxuICAgICAgICAgICAgOiAnVGVzdGVyIGxhIGNvbm5leGlvbic7XG4gICAgICB9XG4gICAgICBpZiAoZGVwbG95QnV0dG9uKSB7XG4gICAgICAgIGRlcGxveUJ1dHRvbi5kaXNhYmxlZCA9IGRpc2FibGUgJiYgYWN0aW9uICE9PSBudWxsO1xuICAgICAgICBkZXBsb3lCdXR0b24uaW5uZXJIVE1MID1cbiAgICAgICAgICBhY3Rpb24gPT09ICdkZXBsb3knXG4gICAgICAgICAgICA/IGA8c3BhbiBjbGFzcz1cImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPjxzcGFuIGNsYXNzPVwiaC00IHctNCBhbmltYXRlLXNwaW4gcm91bmRlZC1mdWxsIGJvcmRlci0yIGJvcmRlci13aGl0ZS82MCBib3JkZXItdC13aGl0ZVwiPjwvc3Bhbj48c3Bhbj5EXHUwMEU5cGxvaWVtZW50XHUyMDI2PC9zcGFuPjwvc3Bhbj5gXG4gICAgICAgICAgICA6ICdEXHUwMEU5cGxveWVyIG1haW50ZW5hbnQnO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBwb3B1bGF0ZUZvcm0gPSAoY29uZmlnKSA9PiB7XG4gICAgICBwcm90b2NvbFNlbGVjdCAmJiAocHJvdG9jb2xTZWxlY3QudmFsdWUgPSBjb25maWcucHJvdG9jb2wgfHwgJ3NmdHAnKTtcbiAgICAgIGhvc3RJbnB1dCAmJiAoaG9zdElucHV0LnZhbHVlID0gY29uZmlnLmhvc3QgfHwgJycpO1xuICAgICAgcG9ydElucHV0ICYmIChwb3J0SW5wdXQudmFsdWUgPSBjb25maWcucG9ydCB8fCAnJyk7XG4gICAgICB1c2VySW5wdXQgJiYgKHVzZXJJbnB1dC52YWx1ZSA9IGNvbmZpZy51c2VyIHx8ICcnKTtcbiAgICAgIHJlbW90ZVBhdGhJbnB1dCAmJiAocmVtb3RlUGF0aElucHV0LnZhbHVlID0gY29uZmlnLnJlbW90ZVBhdGggfHwgJy93d3cnKTtcbiAgICAgIGhhc1Bhc3N3b3JkID0gQm9vbGVhbihjb25maWcuaGFzUGFzc3dvcmQpO1xuICAgICAgaWYgKHBhc3N3b3JkSW5wdXQpIHtcbiAgICAgICAgcGFzc3dvcmRJbnB1dC52YWx1ZSA9ICcnO1xuICAgICAgICBwYXNzd29yZElucHV0LnBsYWNlaG9sZGVyID0gaGFzUGFzc3dvcmQgPyAnTm9uIGFmZmljaFx1MDBFOScgOiAnTW90IGRlIHBhc3NlJztcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgcmVuZGVySGlzdG9yeSA9IChlbnRyaWVzID0gW10pID0+IHtcbiAgICAgIGlmICghaGlzdG9yeUxpc3QpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaGlzdG9yeUxpc3QuaW5uZXJIVE1MID0gJyc7XG4gICAgICBpZiAoIWVudHJpZXMubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgbGkuY2xhc3NOYW1lID0gJ3RleHQtc2xhdGUtNTAwJztcbiAgICAgICAgbGkudGV4dENvbnRlbnQgPSAnQXVjdW4gZFx1MDBFOXBsb2llbWVudCBwb3VyIGxlIG1vbWVudC4nO1xuICAgICAgICBoaXN0b3J5TGlzdC5hcHBlbmRDaGlsZChsaSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGVudHJpZXMuZm9yRWFjaCgoZW50cnkpID0+IHtcbiAgICAgICAgY29uc3QgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgICBsaS5jbGFzc05hbWUgPVxuICAgICAgICAgICdmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gZ2FwLTIgcm91bmRlZC14bCBib3JkZXIgYm9yZGVyLXNsYXRlLTIwMCBweC0zIHB5LTInO1xuICAgICAgICBjb25zdCBzdGF0dXNCYWRnZSA9XG4gICAgICAgICAgZW50cnkuc3RhdHVzID09PSAnc3VjY2VzcydcbiAgICAgICAgICAgID8gJzxzcGFuIGNsYXNzPVwicm91bmRlZC1mdWxsIGJnLWVtZXJhbGQtNTAgcHgtMiBweS0wLjUgdGV4dC1bMTFweF0gZm9udC1zZW1pYm9sZCB0ZXh0LWVtZXJhbGQtNzAwXCI+U3VjY1x1MDBFOHM8L3NwYW4+J1xuICAgICAgICAgICAgOiAnPHNwYW4gY2xhc3M9XCJyb3VuZGVkLWZ1bGwgYmctcm9zZS01MCBweC0yIHB5LTAuNSB0ZXh0LVsxMXB4XSBmb250LXNlbWlib2xkIHRleHQtcm9zZS03MDBcIj5cdTAwQzljaGVjPC9zcGFuPic7XG4gICAgICAgIGNvbnN0IGRhdGUgPSBlbnRyeS5maW5pc2hlZEF0IHx8IGVudHJ5LnN0YXJ0ZWRBdCB8fCAnJztcbiAgICAgICAgY29uc3QgZHVyYXRpb24gPVxuICAgICAgICAgIGVudHJ5LmR1cmF0aW9uTXMgJiYgTnVtYmVyKGVudHJ5LmR1cmF0aW9uTXMpID49IDBcbiAgICAgICAgICAgID8gYCR7TWF0aC5yb3VuZChOdW1iZXIoZW50cnkuZHVyYXRpb25NcykgLyAxMDAwKX1zYFxuICAgICAgICAgICAgOiAnJztcbiAgICAgICAgbGkuaW5uZXJIVE1MID0gYFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJzcGFjZS15LTFcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPiR7c3RhdHVzQmFkZ2V9PHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNTAwXCI+JHtkYXRlfTwvc3Bhbj48L2Rpdj5cbiAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1zbSB0ZXh0LXNsYXRlLTgwMFwiPiR7ZW50cnkubWVzc2FnZSB8fCAnJ308L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInRleHQteHMgdGV4dC1zbGF0ZS01MDBcIj4ke2R1cmF0aW9ufTwvZGl2PlxuICAgICAgICBgO1xuICAgICAgICBsaS5kYXRhc2V0LmRlcGxveUlkID0gZW50cnkuaWQgfHwgJyc7XG4gICAgICAgIGxpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgIGlmIChlbnRyeS5sb2dzICYmIGxvZ0JveCkge1xuICAgICAgICAgICAgbG9nQm94LnRleHRDb250ZW50ID0gZW50cnkubG9ncy5qb2luKCdcXG4nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBoaXN0b3J5TGlzdC5hcHBlbmRDaGlsZChsaSk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgcmVuZGVyTG9ncyA9IChsaW5lcyA9IFtdKSA9PiB7XG4gICAgICBpZiAoIWxvZ0JveCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBsb2dCb3gudGV4dENvbnRlbnQgPSBsaW5lcy5sZW5ndGggPyBsaW5lcy5qb2luKCdcXG4nKSA6ICdBdWN1biBsb2cgcG91ciBsZSBtb21lbnQuJztcbiAgICB9O1xuXG4gICAgY29uc3QgZmV0Y2hIaXN0b3J5ID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFkZXBsb3lMb2dBcGkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChkZXBsb3lMb2dBcGksIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICAgICAgICByZW5kZXJIaXN0b3J5KFtdKTtcbiAgICAgICAgICAgIHJlbmRlckxvZ3MoWydBUEkgZFx1MDBFOXBsb2llbWVudCBpbmRpc3BvbmlibGUgKHJlZFx1MDBFOW1hcnJlIGxlIHNlcnZldXIpLiddKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbFx1MjAxOWhpc3RvcmlxdWUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgY29uc3QgZW50cmllcyA9IEFycmF5LmlzQXJyYXkocGF5bG9hZC5lbnRyaWVzKSA/IHBheWxvYWQuZW50cmllcyA6IFtdO1xuICAgICAgICByZW5kZXJIaXN0b3J5KGVudHJpZXMpO1xuICAgICAgICBpZiAoZW50cmllc1swXT8ubG9ncykge1xuICAgICAgICAgIHJlbmRlckxvZ3MoZW50cmllc1swXS5sb2dzKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkZXBsb3ldIGhpc3RvcnkgZmFpbGVkJywgZXJyKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgZmV0Y2hDb25maWcgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWRlcGxveUFwaUJhc2UpIHtcbiAgICAgICAgc2V0RmVlZGJhY2soJ0F1Y3VuIHNpdGUgYWN0aWYgc1x1MDBFOWxlY3Rpb25uXHUwMEU5LicsICdlcnJvcicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZXRCdXN5KCdsb2FkJyk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGRlcGxveUFwaUJhc2UsIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xuICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBwb3B1bGF0ZUZvcm0ocGF5bG9hZCB8fCB7fSk7XG4gICAgICAgICAgc2V0RmVlZGJhY2soJ0NvbmZpZ3VyYXRpb24gY2hhcmdcdTAwRTllLicsICdtdXRlZCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBvcHVsYXRlRm9ybShwYXlsb2FkIHx8IHt9KTtcbiAgICAgICAgICBzZXRGZWVkYmFjayhwYXlsb2FkLm1lc3NhZ2UgfHwgJ0NvbmZpZ3VyYXRpb24gcGFyIGRcdTAwRTlmYXV0IGNoYXJnXHUwMEU5ZS4nLCAnbXV0ZWQnKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkZXBsb3ldIGxvYWQgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2V0RmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGR1IGNoYXJnZW1lbnQuJywgJ2Vycm9yJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZXRCdXN5KG51bGwpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBidWlsZFBheWxvYWQgPSAoKSA9PiB7XG4gICAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICBwcm90b2NvbDogcHJvdG9jb2xTZWxlY3Q/LnZhbHVlIHx8ICdzZnRwJyxcbiAgICAgICAgaG9zdDogaG9zdElucHV0Py52YWx1ZS50cmltKCkgfHwgJycsXG4gICAgICAgIHBvcnQ6IE51bWJlcihwb3J0SW5wdXQ/LnZhbHVlKSB8fCB1bmRlZmluZWQsXG4gICAgICAgIHVzZXI6IHVzZXJJbnB1dD8udmFsdWUudHJpbSgpIHx8ICcnLFxuICAgICAgICByZW1vdGVQYXRoOiBzYW5pdGl6ZVJlbW90ZVBhdGgocmVtb3RlUGF0aElucHV0Py52YWx1ZSB8fCAnL3d3dycpLFxuICAgICAgfTtcbiAgICAgIGNvbnN0IHB3ZCA9IHBhc3N3b3JkSW5wdXQ/LnZhbHVlIHx8ICcnO1xuICAgICAgaWYgKHB3ZC50cmltKCkubGVuZ3RoID4gMCkge1xuICAgICAgICBwYXlsb2FkLnBhc3N3b3JkID0gcHdkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfTtcblxuICAgIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKCFkZXBsb3lBcGlCYXNlKSB7XG4gICAgICAgIHNldEZlZWRiYWNrKCdBdWN1biBzaXRlIGFjdGlmIHNcdTAwRTlsZWN0aW9ublx1MDBFOS4nLCAnZXJyb3InKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgcGF5bG9hZCA9IGJ1aWxkUGF5bG9hZCgpO1xuICAgICAgc2V0QnVzeSgnc2F2ZScpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChkZXBsb3lBcGlCYXNlLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBjb25zdCBlcnJvclBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yUGF5bG9hZC5tZXNzYWdlIHx8ICdTYXV2ZWdhcmRlIGltcG9zc2libGUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2F2ZWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIHBvcHVsYXRlRm9ybShzYXZlZCB8fCB7fSk7XG4gICAgICAgIHNldEZlZWRiYWNrKCdDb25maWd1cmF0aW9uIGVucmVnaXN0clx1MDBFOWUuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgc2hvd1RvYXN0KCdDb25maWd1cmF0aW9uIGRcdTAwRTlwbG9pZW1lbnQgc2F1dmVnYXJkXHUwMEU5ZScpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkZXBsb3ldIHNhdmUgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2V0RmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGRlIGxhIHNhdXZlZ2FyZGUuJywgJ2Vycm9yJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZXRCdXN5KG51bGwpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGVzdEJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWRlcGxveUFwaUJhc2UpIHtcbiAgICAgICAgc2V0RmVlZGJhY2soJ0F1Y3VuIHNpdGUgYWN0aWYgc1x1MDBFOWxlY3Rpb25uXHUwMEU5LicsICdlcnJvcicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBwYXlsb2FkID0gYnVpbGRQYXlsb2FkKCk7XG4gICAgICBpZiAoIXBheWxvYWQuaG9zdCB8fCAhcGF5bG9hZC51c2VyIHx8ICFwYXlsb2FkLnJlbW90ZVBhdGgpIHtcbiAgICAgICAgc2V0RmVlZGJhY2soJ1JlbXBsaXNzZXogbGVzIGNoYW1wcyByZXF1aXMgYXZhbnQgZGUgdGVzdGVyLicsICdlcnJvcicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZXRCdXN5KCd0ZXN0Jyk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke2RlcGxveUFwaUJhc2V9L3Rlc3RgLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2sgfHwgcmVzdWx0LnN1Y2Nlc3MgPT09IGZhbHNlKSB7XG4gICAgICAgICAgc2V0RmVlZGJhY2socmVzdWx0Lm1lc3NhZ2UgfHwgJ1Rlc3QgZGUgY29ubmV4aW9uIFx1MDBFOWNob3VcdTAwRTkuJywgJ2Vycm9yJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNldEZlZWRiYWNrKHJlc3VsdC5tZXNzYWdlIHx8ICdDb25uZXhpb24gT0suJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgc2hvd1RvYXN0KCdUZXN0IGRlIGNvbm5leGlvbiByXHUwMEU5dXNzaScpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkZXBsb3ldIHRlc3QgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2V0RmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ1Rlc3QgZGUgY29ubmV4aW9uIFx1MDBFOWNob3VcdTAwRTkuJywgJ2Vycm9yJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZXRCdXN5KG51bGwpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgZGVwbG95QnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghZGVwbG95UnVuQXBpKSB7XG4gICAgICAgIHNldEZlZWRiYWNrKCdBdWN1biBzaXRlIGFjdGlmIHNcdTAwRTlsZWN0aW9ublx1MDBFOS4nLCAnZXJyb3InKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2V0QnVzeSgnZGVwbG95Jyk7XG4gICAgICByZW5kZXJMb2dzKFsnRFx1MDBFOXBsb2llbWVudCBlbiBjb3Vyc1x1MjAyNiddKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goZGVwbG95UnVuQXBpLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYnVpbGRQYXlsb2FkKCkpLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICAgICAgICBzZXRGZWVkYmFjaygnQVBJIGRcdTAwRTlwbG9pZW1lbnQgaW5kaXNwb25pYmxlIChyZWRcdTAwRTltYXJyZSBsZSBzZXJ2ZXVyKS4nLCAnZXJyb3InKTtcbiAgICAgICAgICAgIHJlbmRlckxvZ3MoWydBUEkgZFx1MDBFOXBsb2llbWVudCBpbmRpc3BvbmlibGUgKHJlZFx1MDBFOW1hcnJlIGxlIHNlcnZldXIpLiddKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVuZGVyTG9ncyhyZXN1bHQubG9ncyB8fCBbXSk7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5tZXNzYWdlIHx8ICdEXHUwMEU5cGxvaWVtZW50IFx1MDBFOWNob3VcdTAwRTkuJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmVuZGVyTG9ncyhyZXN1bHQubG9ncyB8fCBbXSk7XG4gICAgICAgIGF3YWl0IGZldGNoSGlzdG9yeSgpO1xuICAgICAgICBzaG93VG9hc3QoJ0RcdTAwRTlwbG9pZW1lbnQgdGVybWluXHUwMEU5Jyk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2RlcGxveV0gcnVuIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNldEZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdEXHUwMEU5cGxvaWVtZW50IFx1MDBFOWNob3VcdTAwRTkuJywgJ2Vycm9yJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZXRCdXN5KG51bGwpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgc2hvd1Bhc3N3b3JkVG9nZ2xlPy5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgICBpZiAoIXBhc3N3b3JkSW5wdXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcGFzc3dvcmRJbnB1dC50eXBlID0gc2hvd1Bhc3N3b3JkVG9nZ2xlLmNoZWNrZWQgPyAndGV4dCcgOiAncGFzc3dvcmQnO1xuICAgIH0pO1xuXG4gICAgZmV0Y2hDb25maWcoKTtcbiAgICBmZXRjaEhpc3RvcnkoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXRTZXR0aW5nc1dvcmtzcGFjZSgpIHtcbiAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRtaW4tcGFzc3dvcmQtZm9ybV0nKTtcbiAgICBjb25zdCBzaXRlRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtY29uZmlnLWZvcm1dJyk7XG4gICAgY29uc3Qgc2l0ZUZlZWRiYWNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS1jb25maWctZmVlZGJhY2tdJyk7XG4gICAgaWYgKCFmb3JtKSB7XG4gICAgICAvLyBzdGlsbCBhbGxvdyBzaXRlIGZvcm0gZXZlbiBpZiBwYXNzd29yZCBmb3JtIGFic2VudFxuICAgIH1cbiAgICBpZiAoZm9ybSkge1xuICAgICAgY29uc3QgZmVlZGJhY2sgPSBmb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFkbWluLXBhc3N3b3JkLWZlZWRiYWNrXScpO1xuICAgICAgY29uc3Qgc3VibWl0ID0gZm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZG1pbi1wYXNzd29yZC1zdWJtaXRdJyk7XG4gICAgICBjb25zdCBzZXRGZWVkYmFjayA9IChtZXNzYWdlLCB0b25lID0gJ211dGVkJykgPT4ge1xuICAgICAgICBpZiAoIWZlZWRiYWNrKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGNvbG9yID1cbiAgICAgICAgICB0b25lID09PSAnc3VjY2VzcydcbiAgICAgICAgICAgID8gJ3RleHQtZW1lcmFsZC02MDAnXG4gICAgICAgICAgICA6IHRvbmUgPT09ICdlcnJvcidcbiAgICAgICAgICAgICAgPyAndGV4dC1yb3NlLTYwMCdcbiAgICAgICAgICAgICAgOiAndGV4dC1zbGF0ZS01MDAnO1xuICAgICAgICBmZWVkYmFjay50ZXh0Q29udGVudCA9IG1lc3NhZ2UgfHwgJyc7XG4gICAgICAgIGZlZWRiYWNrLmNsYXNzTmFtZSA9IGB0ZXh0LXNtICR7Y29sb3J9YDtcbiAgICAgIH07XG4gICAgICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YShmb3JtKTtcbiAgICAgICAgY29uc3QgY3VycmVudFBhc3N3b3JkID0gZm9ybURhdGEuZ2V0KCdjdXJyZW50UGFzc3dvcmQnKSB8fCAnJztcbiAgICAgICAgY29uc3QgbmV3UGFzc3dvcmQgPSBmb3JtRGF0YS5nZXQoJ25ld1Bhc3N3b3JkJykgfHwgJyc7XG4gICAgICAgIGNvbnN0IGNvbmZpcm1QYXNzd29yZCA9IGZvcm1EYXRhLmdldCgnY29uZmlybVBhc3N3b3JkJykgfHwgJyc7XG4gICAgICAgIGlmICghY3VycmVudFBhc3N3b3JkIHx8ICFuZXdQYXNzd29yZCB8fCAhY29uZmlybVBhc3N3b3JkKSB7XG4gICAgICAgICAgc2V0RmVlZGJhY2soJ0NvbXBsXHUwMEU4dGUgdG91cyBsZXMgY2hhbXBzLicsICdlcnJvcicpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzdWJtaXQgJiYgKHN1Ym1pdC5kaXNhYmxlZCA9IHRydWUpO1xuICAgICAgICBzZXRGZWVkYmFjaygnJyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9hZG1pbi9wYXNzd29yZCcsIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGN1cnJlbnRQYXNzd29yZCwgbmV3UGFzc3dvcmQsIGNvbmZpcm1QYXNzd29yZCB9KSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2sgfHwgcGF5bG9hZC5zdWNjZXNzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHBheWxvYWQubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBtZXR0cmUgXHUwMEUwIGpvdXIgbGUgbW90IGRlIHBhc3NlLicpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXRGZWVkYmFjayhwYXlsb2FkLm1lc3NhZ2UgfHwgJ01vdCBkZSBwYXNzZSBtaXMgXHUwMEUwIGpvdXIuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgICBmb3JtLnJlc2V0KCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gY2hhbmdlIHBhc3N3b3JkIGZhaWxlZCcsIGVycik7XG4gICAgICAgICAgc2V0RmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGRlIGxhIG1pc2UgXHUwMEUwIGpvdXIuJywgJ2Vycm9yJyk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgc3VibWl0ICYmIChzdWJtaXQuZGlzYWJsZWQgPSBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChzaXRlRm9ybSkge1xuICAgICAgY29uc3QgbmFtZUlucHV0ID0gc2l0ZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS1uYW1lXScpO1xuICAgICAgY29uc3QgbGFuZ1NlbGVjdCA9IHNpdGVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtbGFuZ3VhZ2VdJyk7XG4gICAgICBjb25zdCB0YWdsaW5lSW5wdXQgPSBzaXRlRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLXRhZ2xpbmVdJyk7XG4gICAgICBjb25zdCBzYXZlQnV0dG9uID0gc2l0ZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS1zYXZlXScpO1xuICAgICAgY29uc3Qgc2V0U2l0ZUZlZWRiYWNrID0gKG1lc3NhZ2UsIHRvbmUgPSAnbXV0ZWQnKSA9PiB7XG4gICAgICAgIGlmICghc2l0ZUZlZWRiYWNrKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGNvbG9yID1cbiAgICAgICAgICB0b25lID09PSAnc3VjY2VzcydcbiAgICAgICAgICAgID8gJ3RleHQtZW1lcmFsZC02MDAnXG4gICAgICAgICAgICA6IHRvbmUgPT09ICdlcnJvcidcbiAgICAgICAgICAgICAgPyAndGV4dC1yb3NlLTYwMCdcbiAgICAgICAgICAgICAgOiAndGV4dC1zbGF0ZS01MDAnO1xuICAgICAgICBzaXRlRmVlZGJhY2sudGV4dENvbnRlbnQgPSBtZXNzYWdlIHx8ICcnO1xuICAgICAgICBzaXRlRmVlZGJhY2suY2xhc3NOYW1lID0gYHRleHQtc20gJHtjb2xvcn1gO1xuICAgICAgfTtcblxuICAgICAgY29uc3Qgc2FmZVNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goXG4gICAgICAgIHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJycsXG4gICAgICApO1xuICAgICAgY29uc3Qgc2l0ZUNvbmZpZ0FwaSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Zyl9L2NvbmZpZy9zaXRlYFxuICAgICAgICA6IG51bGw7XG4gICAgICBjb25zdCB0aGVtZUFwaSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Zyl9L2NvbmZpZy90aGVtZWBcbiAgICAgICAgOiBudWxsO1xuXG4gICAgICBjb25zdCBsb2FkU2l0ZUNvbmZpZyA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKCFzaXRlQ29uZmlnQXBpKSByZXR1cm47XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChzaXRlQ29uZmlnQXBpLCB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSByZXR1cm47XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICBpZiAobmFtZUlucHV0KSBuYW1lSW5wdXQudmFsdWUgPSBwYXlsb2FkLm5hbWUgfHwgJyc7XG4gICAgICAgICAgaWYgKGxhbmdTZWxlY3QpIGxhbmdTZWxlY3QudmFsdWUgPSBwYXlsb2FkLmxhbmd1YWdlIHx8ICdmcic7XG4gICAgICAgICAgaWYgKHRhZ2xpbmVJbnB1dCkgdGFnbGluZUlucHV0LnZhbHVlID0gcGF5bG9hZC50YWdsaW5lIHx8ICcnO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIGxvYWQgc2l0ZSBjb25maWcgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgc2l0ZUZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmICghc2l0ZUNvbmZpZ0FwaSkge1xuICAgICAgICAgIHNldFNpdGVGZWVkYmFjaygnQXVjdW4gc2l0ZSBhY3RpZi4nLCAnZXJyb3InKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFuYW1lSW5wdXQ/LnZhbHVlLnRyaW0oKSkge1xuICAgICAgICAgIHNldFNpdGVGZWVkYmFjaygnTm9tIHJlcXVpcy4nLCAnZXJyb3InKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc2F2ZUJ1dHRvbiAmJiAoc2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWUpO1xuICAgICAgICBzZXRTaXRlRmVlZGJhY2soJycpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgICAgICBuYW1lOiBuYW1lSW5wdXQ/LnZhbHVlIHx8ICcnLFxuICAgICAgICAgICAgbGFuZ3VhZ2U6IGxhbmdTZWxlY3Q/LnZhbHVlIHx8ICdmcicsXG4gICAgICAgICAgICB0YWdsaW5lOiB0YWdsaW5lSW5wdXQ/LnZhbHVlIHx8ICcnLFxuICAgICAgICAgIH07XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChzaXRlQ29uZmlnQXBpLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vayB8fCByZXN1bHQuc3VjY2VzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQubWVzc2FnZSB8fCAnU2F1dmVnYXJkZSBpbXBvc3NpYmxlLicpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXRTaXRlRmVlZGJhY2socmVzdWx0Lm1lc3NhZ2UgfHwgJ1BhcmFtXHUwMEU4dHJlcyBlbnJlZ2lzdHJcdTAwRTlzLicsICdzdWNjZXNzJyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gc2F2ZSBzaXRlIGNvbmZpZyBmYWlsZWQnLCBlcnIpO1xuICAgICAgICAgIHNldFNpdGVGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZGUgbGEgc2F1dmVnYXJkZS4nLCAnZXJyb3InKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBzYXZlQnV0dG9uICYmIChzYXZlQnV0dG9uLmRpc2FibGVkID0gZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgbG9hZFNpdGVDb25maWcoKTtcblxuICAgICAgLy8gVGhlbWUgaGFuZGxpbmdcbiAgICAgIGNvbnN0IGNvbG9ySW5wdXRzID0ge1xuICAgICAgICBwcmltYXJ5OiBzaXRlRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1wcmltYXJ5XScpLFxuICAgICAgICBzZWNvbmRhcnk6IHNpdGVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLXNlY29uZGFyeV0nKSxcbiAgICAgICAgYWNjZW50OiBzaXRlRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1hY2NlbnRdJyksXG4gICAgICB9O1xuICAgICAgY29uc3QgY29sb3JIZXhJbnB1dHMgPSB7XG4gICAgICAgIHByaW1hcnk6IHNpdGVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLXByaW1hcnktaGV4XScpLFxuICAgICAgICBzZWNvbmRhcnk6IHNpdGVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLXNlY29uZGFyeS1oZXhdJyksXG4gICAgICAgIGFjY2VudDogc2l0ZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtYWNjZW50LWhleF0nKSxcbiAgICAgIH07XG4gICAgICBjb25zdCBoZWFkaW5nU2VsZWN0ID0gc2l0ZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtaGVhZGluZ3NdJyk7XG4gICAgICBjb25zdCBib2R5U2VsZWN0ID0gc2l0ZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtYm9keV0nKTtcbiAgICAgIGNvbnN0IHJhZGl1c1NtYWxsID0gc2l0ZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtcmFkaXVzLXNtYWxsXScpO1xuICAgICAgY29uc3QgcmFkaXVzTWVkaXVtID0gc2l0ZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtcmFkaXVzLW1lZGl1bV0nKTtcbiAgICAgIGNvbnN0IHJhZGl1c0xhcmdlID0gc2l0ZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtcmFkaXVzLWxhcmdlXScpO1xuICAgICAgY29uc3QgcHJldmlldyA9IHNpdGVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLXByZXZpZXddJyk7XG4gICAgICBjb25zdCB0aGVtZUZlZWRiYWNrID0gc2l0ZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtZmVlZGJhY2tdJyk7XG4gICAgICBjb25zdCBhcHBseUJ1dHRvbiA9IHNpdGVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLWFwcGx5XScpO1xuXG4gICAgICBjb25zdCBzZXRUaGVtZUZlZWRiYWNrID0gKG1lc3NhZ2UsIHRvbmUgPSAnbXV0ZWQnKSA9PiB7XG4gICAgICAgIGlmICghdGhlbWVGZWVkYmFjaykgcmV0dXJuO1xuICAgICAgICBjb25zdCBjb2xvciA9XG4gICAgICAgICAgdG9uZSA9PT0gJ3N1Y2Nlc3MnXG4gICAgICAgICAgICA/ICd0ZXh0LWVtZXJhbGQtNjAwJ1xuICAgICAgICAgICAgOiB0b25lID09PSAnZXJyb3InXG4gICAgICAgICAgICAgID8gJ3RleHQtcm9zZS02MDAnXG4gICAgICAgICAgICAgIDogJ3RleHQtc2xhdGUtNTAwJztcbiAgICAgICAgdGhlbWVGZWVkYmFjay50ZXh0Q29udGVudCA9IG1lc3NhZ2UgfHwgJyc7XG4gICAgICAgIHRoZW1lRmVlZGJhY2suY2xhc3NOYW1lID0gYHRleHQtc20gJHtjb2xvcn1gO1xuICAgICAgfTtcblxuICAgICAgY29uc3Qgc3luY1ByZXZpZXcgPSAoKSA9PiB7XG4gICAgICAgIGlmICghcHJldmlldykgcmV0dXJuO1xuICAgICAgICBjb25zdCBjb2xvcnMgPSB7XG4gICAgICAgICAgcHJpbWFyeTogY29sb3JIZXhJbnB1dHMucHJpbWFyeT8udmFsdWUgfHwgJyM5QzZCRkYnLFxuICAgICAgICAgIHNlY29uZGFyeTogY29sb3JIZXhJbnB1dHMuc2Vjb25kYXJ5Py52YWx1ZSB8fCAnIzBFQTVFOScsXG4gICAgICAgICAgYWNjZW50OiBjb2xvckhleElucHV0cy5hY2NlbnQ/LnZhbHVlIHx8ICcjRjk3MzE2JyxcbiAgICAgICAgfTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1jb2xvci1wcmltYXJ5JywgY29sb3JzLnByaW1hcnkpO1xuICAgICAgICBwcmV2aWV3LnN0eWxlLnNldFByb3BlcnR5KCctLWNvbG9yLXNlY29uZGFyeScsIGNvbG9ycy5zZWNvbmRhcnkpO1xuICAgICAgICBwcmV2aWV3LnN0eWxlLnNldFByb3BlcnR5KCctLWNvbG9yLWFjY2VudCcsIGNvbG9ycy5hY2NlbnQpO1xuICAgICAgICBwcmV2aWV3LnN0eWxlLnNldFByb3BlcnR5KCctLWZvbnQtaGVhZGluZ3MnLCBoZWFkaW5nU2VsZWN0Py52YWx1ZSB8fCAnSW50ZXIsIHNhbnMtc2VyaWYnKTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1mb250LWJvZHknLCBib2R5U2VsZWN0Py52YWx1ZSB8fCAnSW50ZXIsIHNhbnMtc2VyaWYnKTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1yYWRpdXMtc21hbGwnLCByYWRpdXNTbWFsbD8udmFsdWUgfHwgJzhweCcpO1xuICAgICAgICBwcmV2aWV3LnN0eWxlLnNldFByb3BlcnR5KCctLXJhZGl1cy1tZWRpdW0nLCByYWRpdXNNZWRpdW0/LnZhbHVlIHx8ICcxNnB4Jyk7XG4gICAgICAgIHByZXZpZXcuc3R5bGUuc2V0UHJvcGVydHkoJy0tcmFkaXVzLWxhcmdlJywgcmFkaXVzTGFyZ2U/LnZhbHVlIHx8ICcyNHB4Jyk7XG4gICAgICAgIHByZXZpZXcuc3R5bGUuYm9yZGVyUmFkaXVzID0gcmFkaXVzTWVkaXVtPy52YWx1ZSB8fCAnMTZweCc7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBzZXRDb2xvckZpZWxkcyA9IChrZXksIHZhbHVlKSA9PiB7XG4gICAgICAgIGlmIChjb2xvcklucHV0c1trZXldKSBjb2xvcklucHV0c1trZXldLnZhbHVlID0gdmFsdWU7XG4gICAgICAgIGlmIChjb2xvckhleElucHV0c1trZXldKSBjb2xvckhleElucHV0c1trZXldLnZhbHVlID0gdmFsdWU7XG4gICAgICB9O1xuXG4gICAgICBPYmplY3Qua2V5cyhjb2xvcklucHV0cykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgIGNvbG9ySW5wdXRzW2tleV0/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHZhbCA9IGNvbG9ySW5wdXRzW2tleV0udmFsdWU7XG4gICAgICAgICAgaWYgKGNvbG9ySGV4SW5wdXRzW2tleV0pIGNvbG9ySGV4SW5wdXRzW2tleV0udmFsdWUgPSB2YWw7XG4gICAgICAgICAgc3luY1ByZXZpZXcoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbG9ySGV4SW5wdXRzW2tleV0/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHZhbCA9IGNvbG9ySGV4SW5wdXRzW2tleV0udmFsdWU7XG4gICAgICAgICAgaWYgKGNvbG9ySW5wdXRzW2tleV0pIGNvbG9ySW5wdXRzW2tleV0udmFsdWUgPSB2YWw7XG4gICAgICAgICAgc3luY1ByZXZpZXcoKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIFtoZWFkaW5nU2VsZWN0LCBib2R5U2VsZWN0LCByYWRpdXNTbWFsbCwgcmFkaXVzTWVkaXVtLCByYWRpdXNMYXJnZV0uZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgICAgZWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHN5bmNQcmV2aWV3KTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBsb2FkVGhlbWUgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIGlmICghdGhlbWVBcGkpIHJldHVybjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHRoZW1lQXBpLCB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSByZXR1cm47XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICBzZXRDb2xvckZpZWxkcygncHJpbWFyeScsIHBheWxvYWQuY29sb3JzPy5wcmltYXJ5IHx8ICcjOUM2QkZGJyk7XG4gICAgICAgICAgc2V0Q29sb3JGaWVsZHMoJ3NlY29uZGFyeScsIHBheWxvYWQuY29sb3JzPy5zZWNvbmRhcnkgfHwgJyMwRUE1RTknKTtcbiAgICAgICAgICBzZXRDb2xvckZpZWxkcygnYWNjZW50JywgcGF5bG9hZC5jb2xvcnM/LmFjY2VudCB8fCAnI0Y5NzMxNicpO1xuICAgICAgICAgIGlmIChoZWFkaW5nU2VsZWN0KSBoZWFkaW5nU2VsZWN0LnZhbHVlID0gcGF5bG9hZC50eXBvZ3JhcGh5Py5oZWFkaW5ncyB8fCAnSW50ZXIsIHNhbnMtc2VyaWYnO1xuICAgICAgICAgIGlmIChib2R5U2VsZWN0KSBib2R5U2VsZWN0LnZhbHVlID0gcGF5bG9hZC50eXBvZ3JhcGh5Py5ib2R5IHx8ICdJbnRlciwgc2Fucy1zZXJpZic7XG4gICAgICAgICAgaWYgKHJhZGl1c1NtYWxsKSByYWRpdXNTbWFsbC52YWx1ZSA9IHBheWxvYWQucmFkaXVzPy5zbWFsbCB8fCAnOHB4JztcbiAgICAgICAgICBpZiAocmFkaXVzTWVkaXVtKSByYWRpdXNNZWRpdW0udmFsdWUgPSBwYXlsb2FkLnJhZGl1cz8ubWVkaXVtIHx8ICcxNnB4JztcbiAgICAgICAgICBpZiAocmFkaXVzTGFyZ2UpIHJhZGl1c0xhcmdlLnZhbHVlID0gcGF5bG9hZC5yYWRpdXM/LmxhcmdlIHx8ICcyNHB4JztcbiAgICAgICAgICBzeW5jUHJldmlldygpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIGxvYWQgdGhlbWUgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgc2l0ZUZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICAgIC8vIGhhbmRsZWQgYWJvdmVcbiAgICAgIH0pO1xuXG4gICAgICBhcHBseUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKCF0aGVtZUFwaSkge1xuICAgICAgICAgIHNldFRoZW1lRmVlZGJhY2soJ0F1Y3VuIHNpdGUgYWN0aWYuJywgJ2Vycm9yJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgICAgY29sb3JzOiB7XG4gICAgICAgICAgICBwcmltYXJ5OiBjb2xvckhleElucHV0cy5wcmltYXJ5Py52YWx1ZSB8fCAnIzlDNkJGRicsXG4gICAgICAgICAgICBzZWNvbmRhcnk6IGNvbG9ySGV4SW5wdXRzLnNlY29uZGFyeT8udmFsdWUgfHwgJyMwRUE1RTknLFxuICAgICAgICAgICAgYWNjZW50OiBjb2xvckhleElucHV0cy5hY2NlbnQ/LnZhbHVlIHx8ICcjRjk3MzE2JyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHR5cG9ncmFwaHk6IHtcbiAgICAgICAgICAgIGhlYWRpbmdzOiBoZWFkaW5nU2VsZWN0Py52YWx1ZSB8fCAnSW50ZXIsIHNhbnMtc2VyaWYnLFxuICAgICAgICAgICAgYm9keTogYm9keVNlbGVjdD8udmFsdWUgfHwgJ0ludGVyLCBzYW5zLXNlcmlmJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHJhZGl1czoge1xuICAgICAgICAgICAgc21hbGw6IHJhZGl1c1NtYWxsPy52YWx1ZSB8fCAnOHB4JyxcbiAgICAgICAgICAgIG1lZGl1bTogcmFkaXVzTWVkaXVtPy52YWx1ZSB8fCAnMTZweCcsXG4gICAgICAgICAgICBsYXJnZTogcmFkaXVzTGFyZ2U/LnZhbHVlIHx8ICcyNHB4JyxcbiAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgICBhcHBseUJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIHNldFRoZW1lRmVlZGJhY2soJycpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godGhlbWVBcGksIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rIHx8IHJlc3VsdC5zdWNjZXNzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5tZXNzYWdlIHx8ICdBcHBsaWNhdGlvbiBkdSB0aFx1MDBFOG1lIFx1MDBFOWNob3VcdTAwRTllLicpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXRUaGVtZUZlZWRiYWNrKHJlc3VsdC5tZXNzYWdlIHx8ICdUaFx1MDBFOG1lIGFwcGxpcXVcdTAwRTkuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgICBzeW5jUHJldmlldygpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIGFwcGx5IHRoZW1lIGZhaWxlZCcsIGVycik7XG4gICAgICAgICAgc2V0VGhlbWVGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZGUgbFx1MjAxOWFwcGxpY2F0aW9uIGR1IHRoXHUwMEU4bWUuJywgJ2Vycm9yJyk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgYXBwbHlCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGxvYWRUaGVtZSgpO1xuICAgICAgc3luY1ByZXZpZXcoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBpbml0TWVkaWFXb3Jrc3BhY2UoKSB7XG4gICAgY29uc3QgZ3JpZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWdyaWRdJyk7XG4gICAgaWYgKCFncmlkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGVtcHR5U3RhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1lbXB0eV0nKTtcbiAgICBjb25zdCBjb3VudEJhZGdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtY291bnRdJyk7XG4gICAgY29uc3QgZmlsdGVyVHlwZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWZpbHRlci10eXBlXScpO1xuICAgIGNvbnN0IGRldGFpbEVtcHR5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGV0YWlsLWVtcHR5XScpO1xuICAgIGNvbnN0IGRldGFpbFBhbmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGV0YWlsXScpO1xuICAgIGNvbnN0IGRldGFpbFByZXZpZXcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZXRhaWwtcHJldmlld10nKTtcbiAgICBjb25zdCBkZXRhaWxOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGV0YWlsLW5hbWVdJyk7XG4gICAgY29uc3QgZGV0YWlsVHlwZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRldGFpbC10eXBlXScpO1xuICAgIGNvbnN0IGRldGFpbFNpemUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZXRhaWwtc2l6ZV0nKTtcbiAgICBjb25zdCBkZXRhaWxQYXRoID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGV0YWlsLXBhdGhdJyk7XG4gICAgY29uc3QgZGV0YWlsVXNlZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRldGFpbC11c2VkXScpO1xuICAgIGNvbnN0IGRldGFpbEFsdElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtYWx0LWVkaXRdJyk7XG4gICAgY29uc3QgZGV0YWlsU2F2ZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLXNhdmVdJyk7XG4gICAgY29uc3QgZGV0YWlsRGVsZXRlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGVsZXRlXScpO1xuICAgIGNvbnN0IGRlbGV0ZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGVsZXRlLW1vZGFsXScpO1xuICAgIGNvbnN0IGRlbGV0ZUNhbmNlbEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRlbGV0ZS1jYW5jZWxdJyk7XG4gICAgY29uc3QgZGVsZXRlQ29uZmlybUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRlbGV0ZS1jb25maXJtXScpO1xuICAgIGNvbnN0IHVwbG9hZE9wZW5CdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS11cGxvYWQtb3Blbl0nKTtcbiAgICBjb25zdCBmaWxlSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1maWxlLWlucHV0XScpO1xuICAgIGNvbnN0IHVwbG9hZFN0YXR1cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLXVwbG9hZC1zdGF0dXNdJyk7XG5cbiAgICBjb25zdCBzYWZlU2l0ZVNsdWdWYWx1ZSA9IHN0cmlwTGVhZGluZ1NsYXNoKFxuICAgICAgd29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyxcbiAgICApO1xuICAgIGNvbnN0IG1lZGlhQXBpQmFzZSA9IHNhZmVTaXRlU2x1Z1ZhbHVlXG4gICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Z1ZhbHVlKX0vbWVkaWFgXG4gICAgICA6IG51bGw7XG5cbiAgICBsZXQgbWVkaWFJdGVtcyA9IFtdO1xuICAgIGxldCBmaWx0ZXJlZEl0ZW1zID0gW107XG4gICAgbGV0IGFjdGl2ZU1lZGlhSWQgPSBudWxsO1xuICAgIGxldCBoaWdobGlnaHRNZWRpYUlkID0gbnVsbDtcbiAgICBsZXQgcGVuZGluZ1VwbG9hZEZpbGUgPSBudWxsO1xuICAgIGxldCB1cGxvYWRJblByb2dyZXNzID0gZmFsc2U7XG4gICAgbGV0IGRldGFpbERpcnR5ID0gZmFsc2U7XG4gICAgbGV0IHVwbG9hZE1vZGUgPSBmYWxzZTtcbiAgICBsZXQgdXBsb2FkUHJldmlld1VybCA9IG51bGw7XG5cbiAgICBjb25zdCBkZXJpdmVHcm91cFR5cGUgPSAoaXRlbSkgPT4ge1xuICAgICAgY29uc3QgdHlwZSA9IChpdGVtLnR5cGUgfHwgJycpLnRvTG93ZXJDYXNlKCk7XG4gICAgICBjb25zdCBmaWxlbmFtZSA9IChpdGVtLmZpbGVuYW1lIHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgaWYgKHR5cGUuaW5jbHVkZXMoJ2ltYWdlJykgfHwgL1xcLihwbmd8anBlP2d8d2VicHxzdmd8Z2lmKSQvaS50ZXN0KGZpbGVuYW1lKSkge1xuICAgICAgICByZXR1cm4gJ2ltYWdlJztcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlLmluY2x1ZGVzKCdwZGYnKSB8fCB0eXBlLmluY2x1ZGVzKCdkb2MnKSB8fCAvXFwuKHBkZnxkb2N4PykkL2kudGVzdChmaWxlbmFtZSkpIHtcbiAgICAgICAgcmV0dXJuICdkb2N1bWVudCc7XG4gICAgICB9XG4gICAgICBpZiAodHlwZS5pbmNsdWRlcygndmlkZW8nKSB8fCAvXFwuKG1wNHxtb3Z8d2VibSkkL2kudGVzdChmaWxlbmFtZSkpIHtcbiAgICAgICAgcmV0dXJuICd2aWRlbyc7XG4gICAgICB9XG4gICAgICByZXR1cm4gJ290aGVyJztcbiAgICB9O1xuXG4gICAgY29uc3QgaXNJbWFnZVR5cGUgPSAoaXRlbSkgPT4gZGVyaXZlR3JvdXBUeXBlKGl0ZW0pID09PSAnaW1hZ2UnO1xuXG4gICAgY29uc3QgZm9ybWF0VHlwZUxhYmVsID0gKGl0ZW0pID0+IHtcbiAgICAgIGlmIChpdGVtLnR5cGUpIHtcbiAgICAgICAgcmV0dXJuIGl0ZW0udHlwZS50b1VwcGVyQ2FzZSgpO1xuICAgICAgfVxuICAgICAgY29uc3QgZXh0ID0gKGl0ZW0uZmlsZW5hbWUgfHwgJycpLnNwbGl0KCcuJykucG9wKCk7XG4gICAgICByZXR1cm4gZXh0ID8gZXh0LnRvVXBwZXJDYXNlKCkgOiAnRklMRSc7XG4gICAgfTtcblxuICAgIGNvbnN0IGZvcm1hdEZpbGVTaXplID0gKHNpemUpID0+IHtcbiAgICAgIGlmICghc2l6ZSB8fCBzaXplIDw9IDApIHtcbiAgICAgICAgcmV0dXJuICdcdTIwMTQnO1xuICAgICAgfVxuICAgICAgaWYgKHNpemUgPCAxMDI0KSB7XG4gICAgICAgIHJldHVybiBgJHtzaXplfSBvYDtcbiAgICAgIH1cbiAgICAgIGlmIChzaXplIDwgMTAyNCAqIDEwMjQpIHtcbiAgICAgICAgcmV0dXJuIGAkeyhzaXplIC8gMTAyNCkudG9GaXhlZCgxKX0ga29gO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGAkeyhzaXplIC8gKDEwMjQgKiAxMDI0KSkudG9GaXhlZCgxKX0gTW9gO1xuICAgIH07XG5cbiAgICBjb25zdCByZXNldERldGFpbFBhbmVsID0gKCkgPT4ge1xuICAgICAgZGV0YWlsUGFuZWw/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgZGV0YWlsRW1wdHk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgY2xlYXJVcGxvYWRTdGF0ZSgpO1xuICAgICAgYWN0aXZlTWVkaWFJZCA9IG51bGw7XG4gICAgICBkZXRhaWxEaXJ0eSA9IGZhbHNlO1xuICAgICAgdXBkYXRlRGV0YWlsQWN0aW9ucyhmYWxzZSk7XG4gICAgICBpZiAoZGV0YWlsUHJldmlldykge1xuICAgICAgICBkZXRhaWxQcmV2aWV3LmlubmVySFRNTCA9XG4gICAgICAgICAgJzxzcGFuIGNsYXNzPVwidGV4dC1zbGF0ZS00MDAgdGV4dC1zbVwiPkF1Y3VuIG1cdTAwRTlkaWEgc1x1MDBFOWxlY3Rpb25uXHUwMEU5PC9zcGFuPic7XG4gICAgICB9XG4gICAgICBpZiAoZGV0YWlsTmFtZSkge1xuICAgICAgICBkZXRhaWxOYW1lLnRleHRDb250ZW50ID0gJyc7XG4gICAgICB9XG4gICAgICBkZXRhaWxUeXBlICYmIChkZXRhaWxUeXBlLnRleHRDb250ZW50ID0gJycpO1xuICAgICAgZGV0YWlsU2l6ZSAmJiAoZGV0YWlsU2l6ZS50ZXh0Q29udGVudCA9ICcnKTtcbiAgICAgIGlmIChkZXRhaWxBbHRJbnB1dCkge1xuICAgICAgICBkZXRhaWxBbHRJbnB1dC52YWx1ZSA9ICcnO1xuICAgICAgfVxuICAgICAgZGV0YWlsUGF0aCAmJiAoZGV0YWlsUGF0aC50ZXh0Q29udGVudCA9ICcnKTtcbiAgICAgIGlmIChkZXRhaWxVc2VkKSB7XG4gICAgICAgIGRldGFpbFVzZWQuaW5uZXJIVE1MID0gJyc7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGNsZWFyVXBsb2FkU3RhdGUgPSAoKSA9PiB7XG4gICAgICBwZW5kaW5nVXBsb2FkRmlsZSA9IG51bGw7XG4gICAgICB1cGxvYWRNb2RlID0gZmFsc2U7XG4gICAgICB1cGxvYWRJblByb2dyZXNzID0gZmFsc2U7XG4gICAgICBpZiAodXBsb2FkUHJldmlld1VybCkge1xuICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKHVwbG9hZFByZXZpZXdVcmwpO1xuICAgICAgICB1cGxvYWRQcmV2aWV3VXJsID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIHVwbG9hZFN0YXR1cyAmJiAodXBsb2FkU3RhdHVzLnRleHRDb250ZW50ID0gJ0F1Y3VuIGZpY2hpZXIgc1x1MDBFOWxlY3Rpb25uXHUwMEU5LicpO1xuICAgICAgZmlsZUlucHV0ICYmIChmaWxlSW5wdXQudmFsdWUgPSAnJyk7XG4gICAgfTtcblxuICAgIGNvbnN0IHVwZGF0ZUNvdW50QmFkZ2UgPSAoKSA9PiB7XG4gICAgICBpZiAoIWNvdW50QmFkZ2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFmaWx0ZXJlZEl0ZW1zLmxlbmd0aCkge1xuICAgICAgICBjb3VudEJhZGdlLnRleHRDb250ZW50ID0gJzAgbVx1MDBFOWRpYSc7XG4gICAgICB9IGVsc2UgaWYgKGZpbHRlcmVkSXRlbXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGNvdW50QmFkZ2UudGV4dENvbnRlbnQgPSAnMSBtXHUwMEU5ZGlhJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvdW50QmFkZ2UudGV4dENvbnRlbnQgPSBgJHtmaWx0ZXJlZEl0ZW1zLmxlbmd0aH0gbVx1MDBFOWRpYXNgO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCByZW5kZXJHcmlkID0gKCkgPT4ge1xuICAgICAgZ3JpZC5pbm5lckhUTUwgPSAnJztcbiAgICAgIGlmICghZmlsdGVyZWRJdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgZW1wdHlTdGF0ZT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIHJlc2V0RGV0YWlsUGFuZWwoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZW1wdHlTdGF0ZT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBmaWx0ZXJlZEl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgICAgY29uc3QgY2FyZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICBjYXJkLnR5cGUgPSAnYnV0dG9uJztcbiAgICAgICAgY2FyZC5kYXRhc2V0Lm1lZGlhSWQgPSBpdGVtLmlkO1xuICAgICAgICBjb25zdCBpc0FjdGl2ZSA9IGl0ZW0uaWQgPT09IGFjdGl2ZU1lZGlhSWQ7XG4gICAgICAgIGNhcmQuY2xhc3NOYW1lID0gW1xuICAgICAgICAgICdncm91cCByZWxhdGl2ZSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtMnhsIGJvcmRlciBweC0zIHB5LTMgdGV4dC1sZWZ0IHRyYW5zaXRpb24gZm9jdXMtdmlzaWJsZTpvdXRsaW5lIGZvY3VzLXZpc2libGU6b3V0bGluZS0yIGZvY3VzLXZpc2libGU6b3V0bGluZS1vZmZzZXQtMiBmb2N1cy12aXNpYmxlOm91dGxpbmUtWyM5QzZCRkZdJyxcbiAgICAgICAgICBpc0FjdGl2ZVxuICAgICAgICAgICAgPyAnYm9yZGVyLVsjOUM2QkZGXSBiZy1bI0Y3RjBGRl0vNjAgc2hhZG93LXNtJ1xuICAgICAgICAgICAgOiAnYm9yZGVyLXNsYXRlLTIwMCBob3Zlcjpib3JkZXItWyM5QzZCRkZdLzQwJyxcbiAgICAgICAgXS5qb2luKCcgJyk7XG4gICAgICAgIGNvbnN0IHByZXZpZXcgPSBpc0ltYWdlVHlwZShpdGVtKVxuICAgICAgICAgID8gYDxpbWcgc3JjPVwiJHtpdGVtLnBhdGh9XCIgYWx0PVwiJHtpdGVtLmFsdCB8fCBpdGVtLmZpbGVuYW1lfVwiIGNsYXNzPVwiaC1mdWxsIHctZnVsbCBvYmplY3QtY292ZXJcIiAvPmBcbiAgICAgICAgICA6IGA8ZGl2IGNsYXNzPVwiZmxleCBoLWZ1bGwgdy1mdWxsIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB0ZXh0LTN4bCB0ZXh0LXNsYXRlLTQwMFwiPlx1RDgzRFx1RENDNDwvZGl2PmA7XG4gICAgICAgIGNhcmQuaW5uZXJIVE1MID0gYFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJyZWxhdGl2ZSBhc3BlY3QtWzQvM10gb3ZlcmZsb3ctaGlkZGVuIHJvdW5kZWQteGwgYmctc2xhdGUtMTAwXCI+XG4gICAgICAgICAgICAke3ByZXZpZXd9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cIm10LTIgc3BhY2UteS0xXCI+XG4gICAgICAgICAgICA8cCBjbGFzcz1cInRleHQtc20gZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTkwMCB0cnVuY2F0ZVwiPiR7aXRlbS5maWxlbmFtZX08L3A+XG4gICAgICAgICAgICA8cCBjbGFzcz1cInRleHQteHMgdGV4dC1zbGF0ZS01MDBcIj5cbiAgICAgICAgICAgICAgJHtmb3JtYXRUeXBlTGFiZWwoaXRlbSl9IFx1MDBCNyAke2Zvcm1hdEZpbGVTaXplKGl0ZW0uc2l6ZSl9XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIGA7XG4gICAgICAgIGlmIChpdGVtLmlkID09PSBoaWdobGlnaHRNZWRpYUlkKSB7XG4gICAgICAgICAgY2FyZC5jbGFzc0xpc3QuYWRkKCdyaW5nLTInLCAncmluZy1bIzlDNkJGRl0nKTtcbiAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBjYXJkLmNsYXNzTGlzdC5yZW1vdmUoJ3JpbmctMicsICdyaW5nLVsjOUM2QkZGXScpO1xuICAgICAgICAgIH0sIDE2MDApO1xuICAgICAgICB9XG4gICAgICAgIGNhcmQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBzZWxlY3RNZWRpYShpdGVtLmlkKSk7XG4gICAgICAgIGdyaWQuYXBwZW5kQ2hpbGQoY2FyZCk7XG4gICAgICB9KTtcbiAgICAgIGhpZ2hsaWdodE1lZGlhSWQgPSBudWxsO1xuICAgIH07XG5cbiAgICBjb25zdCByZW5kZXJVc2VkSW4gPSAoaXRlbSkgPT4ge1xuICAgICAgaWYgKCFkZXRhaWxVc2VkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGRldGFpbFVzZWQuaW5uZXJIVE1MID0gJyc7XG4gICAgICBpZiAoIWl0ZW0udXNlZEluIHx8IGl0ZW0udXNlZEluLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICAgIGxpLnRleHRDb250ZW50ID0gJ05vbiB1dGlsaXNcdTAwRTknO1xuICAgICAgICBsaS5jbGFzc05hbWUgPSAndGV4dC14cyB0ZXh0LXNsYXRlLTQwMCc7XG4gICAgICAgIGRldGFpbFVzZWQuYXBwZW5kQ2hpbGQobGkpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpdGVtLnVzZWRJbi5mb3JFYWNoKChlbnRyeSkgPT4ge1xuICAgICAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICAgIGxpLnRleHRDb250ZW50ID0gZW50cnk7XG4gICAgICAgIGxpLmNsYXNzTmFtZSA9ICd0ZXh0LXhzIHRleHQtc2xhdGUtNjAwJztcbiAgICAgICAgZGV0YWlsVXNlZC5hcHBlbmRDaGlsZChsaSk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgdXBkYXRlRGV0YWlsQWN0aW9ucyA9IChzYXZpbmcpID0+IHtcbiAgICAgIGlmICghZGV0YWlsU2F2ZUJ1dHRvbikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAodXBsb2FkTW9kZSkge1xuICAgICAgICBkZXRhaWxTYXZlQnV0dG9uLnRleHRDb250ZW50ID0gc2F2aW5nID8gJ1RcdTAwRTlsXHUwMEU5dmVyc2VtZW50XHUyMDI2JyA6ICdUXHUwMEU5bFx1MDBFOXZlcnNlcic7XG4gICAgICAgIGRldGFpbFNhdmVCdXR0b24uZGlzYWJsZWQgPSBzYXZpbmcgfHwgIXBlbmRpbmdVcGxvYWRGaWxlO1xuICAgICAgICBpZiAoZGV0YWlsRGVsZXRlQnV0dG9uKSB7XG4gICAgICAgICAgZGV0YWlsRGVsZXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGRldGFpbFNhdmVCdXR0b24udGV4dENvbnRlbnQgPSBzYXZpbmcgPyAnRW5yZWdpc3RyZW1lbnRcdTIwMjYnIDogJ0VucmVnaXN0cmVyJztcbiAgICAgIGRldGFpbFNhdmVCdXR0b24uZGlzYWJsZWQgPSBzYXZpbmcgfHwgIWRldGFpbERpcnR5O1xuICAgICAgaWYgKGRldGFpbERlbGV0ZUJ1dHRvbikge1xuICAgICAgICBkZXRhaWxEZWxldGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIGRldGFpbERlbGV0ZUJ1dHRvbi5kaXNhYmxlZCA9ICFhY3RpdmVNZWRpYUlkO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBzZWxlY3RNZWRpYSA9IChtZWRpYUlkKSA9PiB7XG4gICAgICBjb25zdCBpdGVtID0gbWVkaWFJdGVtcy5maW5kKChlbnRyeSkgPT4gZW50cnkuaWQgPT09IG1lZGlhSWQpO1xuICAgICAgaWYgKCFpdGVtKSB7XG4gICAgICAgIHJlc2V0RGV0YWlsUGFuZWwoKTtcbiAgICAgICAgcmVuZGVyR3JpZCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjbGVhclVwbG9hZFN0YXRlKCk7XG4gICAgICBhY3RpdmVNZWRpYUlkID0gaXRlbS5pZDtcbiAgICAgIGRldGFpbERpcnR5ID0gZmFsc2U7XG4gICAgICB1cGRhdGVEZXRhaWxBY3Rpb25zKGZhbHNlKTtcbiAgICAgIHJlbmRlckdyaWQoKTtcbiAgICAgIGRldGFpbEVtcHR5Py5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGRldGFpbFBhbmVsPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGlmIChkZXRhaWxQcmV2aWV3KSB7XG4gICAgICAgIGlmIChpc0ltYWdlVHlwZShpdGVtKSkge1xuICAgICAgICAgIGRldGFpbFByZXZpZXcuaW5uZXJIVE1MID0gYDxpbWcgc3JjPVwiJHtpdGVtLnBhdGh9XCIgYWx0PVwiJHtpdGVtLmFsdCB8fCBpdGVtLmZpbGVuYW1lfVwiIGNsYXNzPVwiaC1mdWxsIHctZnVsbCByb3VuZGVkLTJ4bCBvYmplY3QtY292ZXJcIiAvPmA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGV0YWlsUHJldmlldy5pbm5lckhUTUwgPVxuICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJmbGV4IGgtZnVsbCB3LWZ1bGwgZmxleC1jb2wgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGdhcC0xIHRleHQtc2xhdGUtNDAwXCI+PHNwYW4gY2xhc3M9XCJ0ZXh0LTN4bFwiPlx1RDgzRFx1RENDNDwvc3Bhbj48c3BhbiBjbGFzcz1cInRleHQteHMgZm9udC1zZW1pYm9sZFwiPkRvY3VtZW50PC9zcGFuPjwvZGl2Pic7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGRldGFpbE5hbWUgJiYgKGRldGFpbE5hbWUudGV4dENvbnRlbnQgPSBpdGVtLmZpbGVuYW1lIHx8ICdGaWNoaWVyJyk7XG4gICAgICBkZXRhaWxUeXBlICYmIChkZXRhaWxUeXBlLnRleHRDb250ZW50ID0gZm9ybWF0VHlwZUxhYmVsKGl0ZW0pKTtcbiAgICAgIGRldGFpbFNpemUgJiYgKGRldGFpbFNpemUudGV4dENvbnRlbnQgPSBmb3JtYXRGaWxlU2l6ZShpdGVtLnNpemUpKTtcbiAgICAgIGlmIChkZXRhaWxBbHRJbnB1dCkge1xuICAgICAgICBkZXRhaWxBbHRJbnB1dC52YWx1ZSA9IGl0ZW0uYWx0IHx8ICcnO1xuICAgICAgfVxuICAgICAgZGV0YWlsUGF0aCAmJiAoZGV0YWlsUGF0aC50ZXh0Q29udGVudCA9IGl0ZW0ucGF0aCB8fCAnXHUyMDE0Jyk7XG4gICAgICByZW5kZXJVc2VkSW4oaXRlbSk7XG4gICAgfTtcblxuICAgIGNvbnN0IHNob3dVcGxvYWRQcmV2aWV3ID0gKGZpbGUpID0+IHtcbiAgICAgIGlmICghZmlsZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB1cGxvYWRNb2RlID0gdHJ1ZTtcbiAgICAgIGRldGFpbERpcnR5ID0gZmFsc2U7XG4gICAgICBhY3RpdmVNZWRpYUlkID0gbnVsbDtcbiAgICAgIGRldGFpbEVtcHR5Py5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGRldGFpbFBhbmVsPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGlmICh1cGxvYWRQcmV2aWV3VXJsKSB7XG4gICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwodXBsb2FkUHJldmlld1VybCk7XG4gICAgICB9XG4gICAgICB1cGxvYWRQcmV2aWV3VXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKTtcbiAgICAgIGlmIChkZXRhaWxQcmV2aWV3KSB7XG4gICAgICAgIGRldGFpbFByZXZpZXcuaW5uZXJIVE1MID0gYDxpbWcgc3JjPVwiJHt1cGxvYWRQcmV2aWV3VXJsfVwiIGFsdD1cIiR7ZmlsZS5uYW1lfVwiIGNsYXNzPVwiaC1mdWxsIHctZnVsbCByb3VuZGVkLTJ4bCBvYmplY3QtY292ZXJcIiAvPmA7XG4gICAgICB9XG4gICAgICBkZXRhaWxOYW1lICYmIChkZXRhaWxOYW1lLnRleHRDb250ZW50ID0gZmlsZS5uYW1lKTtcbiAgICAgIGRldGFpbFR5cGUgJiYgKGRldGFpbFR5cGUudGV4dENvbnRlbnQgPSBmb3JtYXRUeXBlTGFiZWwoeyB0eXBlOiBmaWxlLnR5cGUsIGZpbGVuYW1lOiBmaWxlLm5hbWUgfSkpO1xuICAgICAgZGV0YWlsU2l6ZSAmJiAoZGV0YWlsU2l6ZS50ZXh0Q29udGVudCA9IGZvcm1hdEZpbGVTaXplKGZpbGUuc2l6ZSkpO1xuICAgICAgaWYgKGRldGFpbEFsdElucHV0ICYmICFkZXRhaWxBbHRJbnB1dC52YWx1ZS50cmltKCkpIHtcbiAgICAgICAgZGV0YWlsQWx0SW5wdXQudmFsdWUgPSBmaWxlLm5hbWUucmVwbGFjZSgvXFwuW14uXSskLywgJycpLnJlcGxhY2UoL1stX10vZywgJyAnKTtcbiAgICAgIH1cbiAgICAgIGRldGFpbFBhdGggJiYgKGRldGFpbFBhdGgudGV4dENvbnRlbnQgPSAnRW4gYXR0ZW50ZSBkZSB0XHUwMEU5bFx1MDBFOXZlcnNlbWVudCcpO1xuICAgICAgaWYgKGRldGFpbFVzZWQpIHtcbiAgICAgICAgZGV0YWlsVXNlZC5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgY29uc3QgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgICBsaS50ZXh0Q29udGVudCA9ICdOb24gdXRpbGlzXHUwMEU5JztcbiAgICAgICAgbGkuY2xhc3NOYW1lID0gJ3RleHQteHMgdGV4dC1zbGF0ZS00MDAnO1xuICAgICAgICBkZXRhaWxVc2VkLmFwcGVuZENoaWxkKGxpKTtcbiAgICAgIH1cbiAgICAgIHVwZGF0ZURldGFpbEFjdGlvbnMoZmFsc2UpO1xuICAgIH07XG5cbiAgICBjb25zdCBhcHBseUZpbHRlcnMgPSAoKSA9PiB7XG4gICAgICBjb25zdCB0eXBlRmlsdGVyID0gZmlsdGVyVHlwZT8udmFsdWUgfHwgJ2FsbCc7XG4gICAgICBpZiAodHlwZUZpbHRlciA9PT0gJ2FsbCcpIHtcbiAgICAgICAgZmlsdGVyZWRJdGVtcyA9IFsuLi5tZWRpYUl0ZW1zXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZpbHRlcmVkSXRlbXMgPSBtZWRpYUl0ZW1zLmZpbHRlcigoaXRlbSkgPT4gaXRlbS5ncm91cFR5cGUgPT09IHR5cGVGaWx0ZXIpO1xuICAgICAgfVxuICAgICAgaWYgKCFmaWx0ZXJlZEl0ZW1zLnNvbWUoKGl0ZW0pID0+IGl0ZW0uaWQgPT09IGFjdGl2ZU1lZGlhSWQpKSB7XG4gICAgICAgIHJlc2V0RGV0YWlsUGFuZWwoKTtcbiAgICAgIH1cbiAgICAgIHVwZGF0ZUNvdW50QmFkZ2UoKTtcbiAgICAgIHJlbmRlckdyaWQoKTtcbiAgICB9O1xuXG4gICAgY29uc3QgbG9hZE1lZGlhID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFtZWRpYUFwaUJhc2UpIHtcbiAgICAgICAgZW1wdHlTdGF0ZT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2gobWVkaWFBcGlCYXNlLCB7XG4gICAgICAgICAgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxlcyBtXHUwMEU5ZGlhcy4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7IGl0ZW1zOiBbXSB9KSk7XG4gICAgICAgIG1lZGlhSXRlbXMgPSBBcnJheS5pc0FycmF5KHBheWxvYWQuaXRlbXMpXG4gICAgICAgICAgPyBwYXlsb2FkLml0ZW1zLm1hcCgoaXRlbSkgPT4gKHsgLi4uaXRlbSwgZ3JvdXBUeXBlOiBkZXJpdmVHcm91cFR5cGUoaXRlbSkgfSkpXG4gICAgICAgICAgOiBbXTtcbiAgICAgICAgYXBwbHlGaWx0ZXJzKCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW21lZGlhXSBsb2FkIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxlcyBtXHUwMEU5ZGlhcy4nKTtcbiAgICAgICAgbWVkaWFJdGVtcyA9IFtdO1xuICAgICAgICBhcHBseUZpbHRlcnMoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgZmlsdGVyVHlwZT8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICAgICAgYXBwbHlGaWx0ZXJzKCk7XG4gICAgfSk7XG4gICAgZGV0YWlsQWx0SW5wdXQ/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgaWYgKHVwbG9hZE1vZGUpIHtcbiAgICAgICAgdXBkYXRlRGV0YWlsQWN0aW9ucyhmYWxzZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghYWN0aXZlTWVkaWFJZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBkZXRhaWxEaXJ0eSA9IHRydWU7XG4gICAgICB1cGRhdGVEZXRhaWxBY3Rpb25zKGZhbHNlKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IGhhbmRsZUZpbGVTZWxlY3Rpb24gPSAoZmlsZSkgPT4ge1xuICAgICAgaWYgKCFmaWxlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghZmlsZS50eXBlLnN0YXJ0c1dpdGgoJ2ltYWdlLycpKSB7XG4gICAgICAgIHNob3dUb2FzdCgnU2V1bGVzIGxlcyBpbWFnZXMgc29udCBhY2NlcHRcdTAwRTllcyBwb3VyIGxlIG1vbWVudC4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGZpbGUuc2l6ZSA+IDQgKiAxMDI0ICogMTAyNCkge1xuICAgICAgICBzaG93VG9hc3QoJ0ZpY2hpZXIgdHJvcCB2b2x1bWluZXV4ICg0IE1vIG1heCkuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHBlbmRpbmdVcGxvYWRGaWxlID0gZmlsZTtcbiAgICAgIHNob3dVcGxvYWRQcmV2aWV3KGZpbGUpO1xuICAgICAgaWYgKHVwbG9hZFN0YXR1cykge1xuICAgICAgICB1cGxvYWRTdGF0dXMudGV4dENvbnRlbnQgPSBgJHtmaWxlLm5hbWV9IFx1MDBCNyAke2Zvcm1hdEZpbGVTaXplKGZpbGUuc2l6ZSl9YDtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgcmVhZEZpbGVBc0Jhc2U2NCA9IChmaWxlKSA9PlxuICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgICByZWFkZXIub25sb2FkID0gKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHJlYWRlci5yZXN1bHQgfHwgJyc7XG4gICAgICAgICAgY29uc3QgWywgYmFzZTY0ID0gJyddID0gU3RyaW5nKHJlc3VsdCkuc3BsaXQoJywnKTtcbiAgICAgICAgICByZXNvbHZlKGJhc2U2NCk7XG4gICAgICAgIH07XG4gICAgICAgIHJlYWRlci5vbmVycm9yID0gKCkgPT4gcmVqZWN0KG5ldyBFcnJvcignSW1wb3NzaWJsZSBkZSBsaXJlIGNlIGZpY2hpZXIuJykpO1xuICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcbiAgICAgIH0pO1xuXG4gICAgY29uc3QgdXBsb2FkU2VsZWN0ZWRNZWRpYSA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghcGVuZGluZ1VwbG9hZEZpbGUgfHwgIW1lZGlhQXBpQmFzZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB1cGxvYWRJblByb2dyZXNzID0gdHJ1ZTtcbiAgICAgIHVwZGF0ZURldGFpbEFjdGlvbnModHJ1ZSk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBiYXNlNjQgPSBhd2FpdCByZWFkRmlsZUFzQmFzZTY0KHBlbmRpbmdVcGxvYWRGaWxlKTtcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgICBmaWxlbmFtZTogcGVuZGluZ1VwbG9hZEZpbGUubmFtZSxcbiAgICAgICAgICB0eXBlOiBwZW5kaW5nVXBsb2FkRmlsZS50eXBlLFxuICAgICAgICAgIHNpemU6IHBlbmRpbmdVcGxvYWRGaWxlLnNpemUsXG4gICAgICAgICAgYWx0OiBkZXRhaWxBbHRJbnB1dD8udmFsdWUgfHwgJycsXG4gICAgICAgICAgZGF0YTogYmFzZTY0LFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKG1lZGlhQXBpQmFzZSwge1xuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnN0IGVycm9yUGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JQYXlsb2FkLm1lc3NhZ2UgfHwgJ1VwbG9hZCBpbXBvc3NpYmxlLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNhdmVkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBzYXZlZC5ncm91cFR5cGUgPSBkZXJpdmVHcm91cFR5cGUoc2F2ZWQpO1xuICAgICAgICBtZWRpYUl0ZW1zID0gWy4uLm1lZGlhSXRlbXMsIHNhdmVkXTtcbiAgICAgICAgaGlnaGxpZ2h0TWVkaWFJZCA9IHNhdmVkLmlkO1xuICAgICAgICBhcHBseUZpbHRlcnMoKTtcbiAgICAgICAgc2VsZWN0TWVkaWEoc2F2ZWQuaWQpO1xuICAgICAgICBzaG93VG9hc3QoJ01cdTAwRTlkaWEgYWpvdXRcdTAwRTknKTtcbiAgICAgICAgY2xlYXJVcGxvYWRTdGF0ZSgpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1ttZWRpYV0gdXBsb2FkIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSB0XHUwMEU5bFx1MDBFOXZlcnNlciBjZSBtXHUwMEU5ZGlhLicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgdXBsb2FkSW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgICAgICBwZW5kaW5nVXBsb2FkRmlsZSA9IG51bGw7XG4gICAgICAgIHVwZGF0ZURldGFpbEFjdGlvbnMoZmFsc2UpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB1cGxvYWRPcGVuQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGZpbGVJbnB1dD8uY2xpY2soKSk7XG4gICAgZmlsZUlucHV0Py5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgICBpZiAoZmlsZUlucHV0LmZpbGVzICYmIGZpbGVJbnB1dC5maWxlc1swXSkge1xuICAgICAgICBoYW5kbGVGaWxlU2VsZWN0aW9uKGZpbGVJbnB1dC5maWxlc1swXSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgY29uc3QgY2xvc2VEZWxldGVNb2RhbCA9ICgpID0+IHtcbiAgICAgIGlmICghZGVsZXRlTW9kYWwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZGVsZXRlTW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBkZWxldGVNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdmbGV4Jyk7XG4gICAgfTtcblxuICAgIGNvbnN0IG9wZW5EZWxldGVNb2RhbCA9ICgpID0+IHtcbiAgICAgIGlmICghYWN0aXZlTWVkaWFJZCB8fCB1cGxvYWRNb2RlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChkZWxldGVNb2RhbCkge1xuICAgICAgICBkZWxldGVNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgZGVsZXRlTW9kYWwuY2xhc3NMaXN0LmFkZCgnZmxleCcpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBGYWxsYmFjayBzaSBhdWN1bmUgbW9kYWxlIG4nZXN0IGRpc3BvbmlibGVcbiAgICAgIGlmICh3aW5kb3cuY29uZmlybSgnU3VwcHJpbWVyIGNlIG1cdTAwRTlkaWEgPycpKSB7XG4gICAgICAgIGRlbGV0ZUFjdGl2ZU1lZGlhKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGRlbGV0ZUFjdGl2ZU1lZGlhID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFhY3RpdmVNZWRpYUlkIHx8ICFtZWRpYUFwaUJhc2UpIHtcbiAgICAgICAgY2xvc2VEZWxldGVNb2RhbCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBkaXNhYmxlQnV0dG9ucyA9ICgpID0+IHtcbiAgICAgICAgaWYgKGRldGFpbERlbGV0ZUJ1dHRvbikge1xuICAgICAgICAgIGRldGFpbERlbGV0ZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlbGV0ZUNvbmZpcm1CdXR0b24pIHtcbiAgICAgICAgICBkZWxldGVDb25maXJtQnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgICBkZWxldGVDb25maXJtQnV0dG9uLnRleHRDb250ZW50ID0gJ1N1cHByZXNzaW9uXHUyMDI2JztcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGNvbnN0IGVuYWJsZUJ1dHRvbnMgPSAoKSA9PiB7XG4gICAgICAgIGlmIChkZXRhaWxEZWxldGVCdXR0b24pIHtcbiAgICAgICAgICBkZXRhaWxEZWxldGVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVsZXRlQ29uZmlybUJ1dHRvbikge1xuICAgICAgICAgIGRlbGV0ZUNvbmZpcm1CdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICBkZWxldGVDb25maXJtQnV0dG9uLnRleHRDb250ZW50ID0gJ1N1cHByaW1lcic7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBkaXNhYmxlQnV0dG9ucygpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgICBgJHttZWRpYUFwaUJhc2V9LyR7ZW5jb2RlVVJJQ29tcG9uZW50KGFjdGl2ZU1lZGlhSWQpfWAsXG4gICAgICAgICAgeyBtZXRob2Q6ICdERUxFVEUnIH0sXG4gICAgICAgICk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihwYXlsb2FkLm1lc3NhZ2UgfHwgJ1N1cHByZXNzaW9uIGltcG9zc2libGUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgbWVkaWFJdGVtcyA9IG1lZGlhSXRlbXMuZmlsdGVyKChpdGVtKSA9PiBpdGVtLmlkICE9PSBhY3RpdmVNZWRpYUlkKTtcbiAgICAgICAgZmlsdGVyZWRJdGVtcyA9IGZpbHRlcmVkSXRlbXMuZmlsdGVyKChpdGVtKSA9PiBpdGVtLmlkICE9PSBhY3RpdmVNZWRpYUlkKTtcbiAgICAgICAgc2hvd1RvYXN0KCdNXHUwMEU5ZGlhIHN1cHByaW1cdTAwRTknKTtcbiAgICAgICAgcmVzZXREZXRhaWxQYW5lbCgpO1xuICAgICAgICB1cGRhdGVDb3VudEJhZGdlKCk7XG4gICAgICAgIHJlbmRlckdyaWQoKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbbWVkaWFdIGRlbGV0ZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgc3VwcHJpbWVyIGNlIG1cdTAwRTlkaWEuJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBlbmFibGVCdXR0b25zKCk7XG4gICAgICAgIGNsb3NlRGVsZXRlTW9kYWwoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgZGVsZXRlQ2FuY2VsQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlRGVsZXRlTW9kYWwpO1xuICAgIGRlbGV0ZU1vZGFsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gZGVsZXRlTW9kYWwpIHtcbiAgICAgICAgY2xvc2VEZWxldGVNb2RhbCgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgZGVsZXRlQ29uZmlybUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBkZWxldGVBY3RpdmVNZWRpYSgpKTtcbiAgICBkZXRhaWxEZWxldGVCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlbkRlbGV0ZU1vZGFsKTtcblxuICAgIGRldGFpbFNhdmVCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKHVwbG9hZE1vZGUpIHtcbiAgICAgICAgdXBsb2FkU2VsZWN0ZWRNZWRpYSgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWFjdGl2ZU1lZGlhSWQgfHwgIW1lZGlhQXBpQmFzZSB8fCAhZGV0YWlsQWx0SW5wdXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdXBkYXRlRGV0YWlsQWN0aW9ucyh0cnVlKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSB7IGFsdDogZGV0YWlsQWx0SW5wdXQudmFsdWUgfHwgJycgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgICBgJHttZWRpYUFwaUJhc2V9LyR7ZW5jb2RlVVJJQ29tcG9uZW50KGFjdGl2ZU1lZGlhSWQpfWAsXG4gICAgICAgICAge1xuICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgICAgfSxcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnN0IGVycm9yUGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JQYXlsb2FkLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgbWV0dHJlIFx1MDBFMCBqb3VyIGNlIG1cdTAwRTlkaWEuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdXBkYXRlZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgbWVkaWFJdGVtcyA9IG1lZGlhSXRlbXMubWFwKChpdGVtKSA9PlxuICAgICAgICAgIGl0ZW0uaWQgPT09IGFjdGl2ZU1lZGlhSWQgPyB7IC4uLml0ZW0sIC4uLnVwZGF0ZWQgfSA6IGl0ZW0sXG4gICAgICAgICk7XG4gICAgICAgIGZpbHRlcmVkSXRlbXMgPSBmaWx0ZXJlZEl0ZW1zLm1hcCgoaXRlbSkgPT5cbiAgICAgICAgICBpdGVtLmlkID09PSBhY3RpdmVNZWRpYUlkID8geyAuLi5pdGVtLCAuLi51cGRhdGVkIH0gOiBpdGVtLFxuICAgICAgICApO1xuICAgICAgICBkZXRhaWxEaXJ0eSA9IGZhbHNlO1xuICAgICAgICB1cGRhdGVEZXRhaWxBY3Rpb25zKGZhbHNlKTtcbiAgICAgICAgc2hvd1RvYXN0KCdNXHUwMEU5ZGlhIG1pcyBcdTAwRTAgam91cicpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1ttZWRpYV0gdXBkYXRlIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnXHUwMEM5Y2hlYyBkZSBsYSBtaXNlIFx1MDBFMCBqb3VyLicpO1xuICAgICAgICB1cGRhdGVEZXRhaWxBY3Rpb25zKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGxvYWRNZWRpYSgpO1xuICB9XG59KTtcbiJdLAogICJtYXBwaW5ncyI6ICJNQUFBLFNBQVMsaUJBQWlCLG1CQUFvQixJQUFNLENBQ2xELFFBQVEsSUFBSSwyQkFBd0IsRUFDcEMsSUFBTUEsR0FBZSxTQUFTLGNBQWMsZUFBZSxFQUN2REEsSUFDRkEsR0FBYSxpQkFBaUIsUUFBUyxTQUFZLENBQ2pEQSxHQUFhLFNBQVcsR0FDeEIsR0FBSSxDQUNGLE1BQU0sTUFBTSxjQUFlLENBQ3pCLE9BQVEsT0FDUixRQUFTLENBQ1AsZUFBZ0Isa0JBQ2xCLENBQ0YsQ0FBQyxDQUNILE9BQVNDLEVBQUssQ0FDWixRQUFRLE1BQU0sMENBQXdDQSxDQUFHLENBQzNELFFBQUUsQ0FDQSxPQUFPLFNBQVMsS0FBTyxtQkFDekIsQ0FDRixDQUFDLEVBR0gsSUFBTUMsR0FBVSxTQUFTLGNBQWMsc0JBQXNCLEVBQ3ZEQyxHQUFpQixTQUFTLGNBQWMsOEJBQThCLEVBQ3RFQyxHQUFpQixTQUFTLGlCQUFpQiw2QkFBNkIsRUFDeEVDLEdBQXNCLFNBQVMsaUJBQWlCLDRCQUE0QixFQUM1RUMsR0FBTyxTQUFTLEtBQ2xCQyxHQUFjLEdBRVpDLEdBQW9CLElBQU0sQ0FDOUIsR0FBSSxDQUFDTixHQUNILE9BR0YsR0FEa0IsT0FBTyxXQUFXLHFCQUFxQixFQUFFLFFBQzVDLENBQ2JBLEdBQVEsVUFBVSxPQUFPLFFBQVEsRUFDakNDLElBQUEsTUFBQUEsR0FBZ0IsVUFBVSxJQUFJLFVBQzlCRyxHQUFLLFVBQVUsT0FBTyxpQkFBaUIsRUFDdkMsTUFDRixDQUNJQyxJQUNGTCxHQUFRLFVBQVUsT0FBTyxRQUFRLEVBQ2pDQyxJQUFBLE1BQUFBLEdBQWdCLFVBQVUsT0FBTyxVQUNqQ0csR0FBSyxVQUFVLElBQUksaUJBQWlCLElBRXBDSixHQUFRLFVBQVUsSUFBSSxRQUFRLEVBQzlCQyxJQUFBLE1BQUFBLEdBQWdCLFVBQVUsSUFBSSxVQUM5QkcsR0FBSyxVQUFVLE9BQU8saUJB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Q0FDWixRQUFRLE1BQU0sd0JBQXlCQSxDQUFHLEVBQzFDK0MsRUFBVS9DLEVBQUksU0FBVyxnQ0FBMEIsRUFDbkRvZixFQUFvQixFQUFLLENBQzNCLEVBQ0YsR0FFQVcsR0FBVSxDQUNaLENBQ0YsQ0FBQyIsCiAgIm5hbWVzIjogWyJsb2dvdXRCdXR0b24iLCAiZXJyIiwgInNpZGViYXIiLCAic2lkZWJhck92ZXJsYXkiLCAic2lkZWJhclRvZ2dsZXMiLCAic2lkZWJhckNsb3NlQnV0dG9ucyIsICJib2R5IiwgInNpZGViYXJPcGVuIiwgImFwcGx5U2lkZWJhclN0YXRlIiwgIm9wZW5TaWRlYmFyIiwgImNsb3NlU2lkZWJhciIsICJidXR0b24iLCAiZXZlbnQiLCAiQUNUSVZFX1NJVEVfS0VZIiwgIkFDVElWRV9TSVRFX05BTUVfS0VZIiwgInN0b3JlZFNpdGUiLCAic2l0ZUNhcmRzIiwgInNpdGVTZWxlY3RCdXR0b25zIiwgInNpdGVOYW1lTGFiZWwiLCAid29ya3NwYWNlU2l0ZUxhYmVsIiwgIndvcmtzcGFjZUJhY2tOYW1lIiwgIndvcmtzcGFjZUJhY2tNb2RhbCIsICJ3b3Jrc3BhY2VCYWNrQnV0dG9ucyIsICJ3b3Jrc3BhY2VCYWNrQ2FuY2VsIiwgIndvcmtzcGFjZUJhY2tDb25maXJtIiwgIndvcmtzcGFjZU5hdkxpbmtzIiwgInNpdGVUb2FzdCIsICJzaXRlVG9hc3RNZXNzYWdlIiwgInNpdGVDcmVhdGVCdXR0b25zIiwgInNpdGVNb2RhbCIsICJzaXRlRm9ybSIsICJzaXRlTmFtZUlucHV0IiwgInNpdGVTbHVnSW5wdXQiLCAic2l0ZVNsdWdFcnJvciIsICJzaXRlTW9kYWxFcnJvciIsICJzaXRlTW9kYWxDYW5jZWxCdXR0b25zIiwgInNpdGVNb2RhbFN1Ym1pdEJ1dHRvbiIsICJ3b3Jrc3BhY2VDb250ZXh0IiwgImdldFdvcmtzcGFjZUNvbnRleHQiLCAic2x1Z01hbnVhbGx5RWRpdGVkIiwgImxhc3RGb2N1c2VkRWxlbWVudCIsICJ0b2FzdFRpbWVvdXRJZCIsICJmb2N1c2FibGVTZWxlY3RvciIsICJ0cmFwRm9jdXMiLCAiZm9jdXNhYmxlRWxlbWVudHMiLCAiZWwiLCAiZmlyc3QiLCAibGFzdCIsICJzaG93VG9hc3QiLCAibWVzc2FnZSIsICJlbnN1cmVMZWFkaW5nU2xhc2giLCAic2x1ZyIsICJzdHJpcExlYWRpbmdTbGFzaCIsICJwZXJzaXN0U2l0ZVN0YXRlIiwgIm5hbWUiLCAibm9ybWFsaXplZFNsdWciLCAidXBkYXRlU2l0ZUxhYmVscyIsICJ1cGRhdGVXb3Jrc3BhY2VOYXZMaW5rcyIsICJsaW5rIiwgInRhYiIsICJzbHVnUGF0aCIsICJhcHBseUFjdGl2ZVNpdGUiLCAib3B0aW9ucyIsICJhY3RpdmVTaXRlTmFtZSIsICJjYXJkIiwgImlzQWN0aXZlIiwgImJhZGdlIiwgImZpbmFsTmFtZSIsICJzZWxlY3RTaXRlIiwgInJlc3BvbnNlIiwgInBheWxvYWQiLCAiZmluYWxTbHVnIiwgInN5bmNBY3RpdmVTaXRlRnJvbVNlcnZlciIsICJzaXRlIiwgImRlZmF1bHRDYXJkIiwgIndvcmtzcGFjZVNsdWdpZnkiLCAidmFsdWUiLCAibm9ybWFsaXplU2x1Z1ZhbHVlIiwgImJhc2UiLCAib3BlblNpdGVNb2RhbCIsICJjbG9zZVNpdGVNb2RhbCIsICJnZXRTbHVnU2V0IiwgIm5hbWVWYWx1ZSIsICJzbHVnVmFsdWUiLCAiY3JlYXRlZFNpdGUiLCAiY2xvc2VXb3Jrc3BhY2VCYWNrTW9kYWwiLCAibWF0Y2giLCAiZGV0ZWN0V29ya3NwYWNlU2VjdGlvbiIsICJvcGVuV29ya3NwYWNlQmFja01vZGFsIiwgImFjdGl2ZVNlY3Rpb24iLCAiaW5pdERlc2lnbldvcmtzcGFjZSIsICJpbml0Q29udGVudFdvcmtzcGFjZSIsICJpbml0TWVkaWFXb3Jrc3BhY2UiLCAiaW5pdERlcGxveVdvcmtzcGFjZSIsICJpbml0U2V0dGluZ3NXb3Jrc3BhY2UiLCAicGFnZUxpc3RzIiwgImFjdGl2ZVRpdGxlIiwgImFjdGl2ZVNsdWciLCAicHJldmlld1RhZ3MiLCAicHJldmlld0ZyYW1lIiwgInByZXZpZXdPcGVuQnV0dG9uIiwgInByZXZpZXdTdGF0dXMiLCAicHJldmlld0hpZ2hsaWdodE92ZXJsYXkiLCAiYmxvY2tMaXN0IiwgImJsb2NrTGlzdEVtcHR5IiwgImJsb2NrQ291bnRCYWRnZSIsICJibG9ja0xpYnJhcnlUb2dnbGUiLCAiYmxvY2tMaWJyYXJ5IiwgImJsb2NrQWRkQnV0dG9ucyIsICJibG9ja0RlbGV0ZU1vZGFsIiwgImJsb2NrRGVsZXRlQ29uZmlybSIsICJibG9ja0RlbGV0ZUNhbmNlbCIsICJibG9ja0RldGFpbEVtcHR5IiwgImJsb2NrRGV0YWlsU3RhdHVzIiwgImJsb2NrRWRpdG9yIiwgImJsb2NrRWRpdG9yVGl0bGUiLCAiYmxvY2tFZGl0b3JUeXBlIiwgImJsb2NrRWRpdG9yVW5zdXBwb3J0ZWQiLCAiYmxvY2tGb3JtIiwgImJsb2NrRm9ybVNlY3Rpb25zIiwgImNvbGxlY3Rpb25TZWxlY3QiLCAiY29sbGVjdGlvblNlbGVjdGlvbkluZm8iLCAiYmxvY2tGb3JtQ2FuY2VsIiwgImdyb3VwUHJldmlld01vYmlsZSIsICJncm91cFByZXZpZXdEZXNrdG9wIiwgImJsb2NrVHlwZUZvcm1zIiwgImJsb2NrVHlwZUFsaWFzZXMiLCAidXBkYXRlR3JvdXBNaW5pUHJldmlldyIsICJtb2JpbGVWYWx1ZSIsICJkZXNrdG9wVmFsdWUiLCAicmVuZGVyQm94ZXMiLCAiY291bnQiLCAiZmV0Y2hQYWdlc0Zyb21TZXJ2ZXIiLCAicGFnZXNBcGlCYXNlIiwgImNyZWF0ZVBhZ2VPblNlcnZlciIsICJ0aXRsZSIsICJzYXZlUGFnZVRvU2VydmVyIiwgInBhZ2UiLCAic2F2ZWQiLCAibm9ybWFsaXplZCIsICJub3JtYWxpemVQYWdlRGF0YSIsICJwYWdlcyIsICJlbnRyeSIsICJjdXJyZW50UGFnZSIsICJsb2FkUGFnZXNGcm9tU2VydmVyIiwgImFjdGl2ZVBhZ2VJZCIsICJyZW5kZXJQYWdlTGlzdHMiLCAicmVuZGVyQmxvY2tMaXN0IiwgImxvYWRlZFBhZ2VzIiwgImdldExvYWRpbmdQcmV2aWV3SHRtbCIsICJnZXRTdG9yZWRBY3RpdmVQYWdlIiwgInNldEFjdGl2ZVBhZ2UiLCAibm9ybWFsaXplVHlwZSIsICJnZXRCbG9ja0Zvcm1Db25maWciLCAiYmxvY2siLCAidHlwZUtleSIsICJhbGlhcyIsICJwb3B1bGF0ZUJsb2NrRm9ybSIsICJfYSIsICJfYiIsICJfYyIsICJjb25maWciLCAic2VjdGlvbiIsICJkZXNpcmVkVmFsdWUiLCAidXBkYXRlQ29sbGVjdGlvblNlbGVjdE9wdGlvbnMiLCAic2V0dGluZ0tleSIsICJmaWVsZE5hbWUiLCAiaW5wdXQiLCAiY29sbGVjdEZvcm1WYWx1ZXMiLCAidmFsdWVzIiwgInBhcnNlZCIsICJ1cGRhdGVQcmV2aWV3U3RhdHVzIiwgInRleHQiLCAic2VyaWFsaXplUGFnZUZvclByZXZpZXciLCAicmVmcmVzaFByZXZpZXciLCAicHJldmlld1NpdGVTbHVnIiwgInByZXZpZXdSZWFkeSIsICJwcmV2aWV3UmVxdWVzdENvbnRyb2xsZXIiLCAiY29udHJvbGxlciIsICJkYXRhIiwgImxhdGVzdFByZXZpZXdIdG1sIiwgImVycm9yIiwgImhhbmRsZUJsb2NrRm9ybVN1Ym1pdCIsICJhY3RpdmVCbG9ja0lkIiwgImdldEFjdGl2ZUJsb2NrIiwgInVwZGF0ZWRCbG9ja3MiLCAidXBkYXRlZFNldHRpbmdzIiwgInVwZGF0ZWRCbG9jayIsICJ1cGRhdGVDdXJyZW50UGFnZUJsb2NrcyIsICJkcmF3ZXIiLCAiZHJhd2VyQmFja2Ryb3AiLCAiZHJhd2VyT3BlbkJ1dHRvbnMiLCAiZHJhd2VyQ2xvc2VCdXR0b25zIiwgImFkZFBhZ2VUb2dnbGUiLCAiYWRkUGFnZUZvcm0iLCAiYWRkUGFnZVRpdGxlIiwgImFkZFBhZ2VTbHVnIiwgImFkZFBhZ2VDYW5jZWwiLCAiYWRkUGFnZUVycm9yIiwgImFkZFBhZ2VTdWJtaXRCdXR0b24iLCAic2l0ZUtleSIsICJzaXRlU2x1Z1ZhbHVlIiwgInNhZmVTaXRlU2x1ZyIsICJjb2xsZWN0aW9uc0FwaUJhc2UiLCAic3RvcmFnZUtleXMiLCAiY3JlYXRlQmxvY2siLCAiaWQiLCAibGFiZWwiLCAidHlwZSIsICJzdGF0dXMiLCAiZGVzY3JpcHRpb24iLCAicHJvcHMiLCAic2V0dGluZ3MiLCAiYmxvY2tMaWJyYXJ5RGVmaW5pdGlvbnMiLCAicGVyc2lzdEFjdGl2ZVBhZ2UiLCAicGFnZUlkIiwgInN0b3JlZCIsICJmb3JtYXRCbG9ja0NvdW50IiwgIm5vcm1hbGl6ZVBhZ2VTbHVnIiwgImdlbmVyYXRlQmxvY2tJZCIsICJrZXkiLCAiY3JlYXRlSW5pdGlhbEJsb2NrcyIsICJzZXRBY3RpdmVMYWJlbHMiLCAicmVuZGVyUHJldmlld01ldGEiLCAidGFnIiwgImdldFN0YXR1c0JhZGdlQ2xhc3NlcyIsICJyZW5kZXJCbG9ja0RldGFpbHMiLCAiYXBwbHlQcmV2aWV3SGlnaGxpZ2h0IiwgImJsb2NrSWQiLCAiZG9jIiwgIm5vZGUiLCAiYmxvY2tzIiwgIml0ZW0iLCAiYWNjZW50IiwgImNvbnRlbnQiLCAiaGFuZGxlIiwgInRleHRXcmFwcGVyIiwgIm1ldGEiLCAidHlwZUJhZGdlIiwgInN0YXR1c0JhZGdlIiwgImRpc3BsYXlMYWJlbCIsICJjb2xsZWN0aW9uTmFtZSIsICJkZXNpZ25Db2xsZWN0aW9ucyIsICJpbmZvIiwgImFjdGlvbnMiLCAibW92ZUJ1dHRvbnMiLCAibW92ZVVwIiwgIm1vdmVCbG9ja0J5T2Zmc2V0IiwgIm1vdmVEb3duIiwgImRlbGV0ZUJ1dHRvbiIsICJvcGVuQmxvY2tEZWxldGVNb2RhbCIsICJzZXRBY3RpdmVCbG9jayIsICJhY3RpdmVJZCIsICJsaXN0IiwgImlzRGVza3RvcERyYXdlciIsICJjbG9zZURyYXdlciIsICJ0YXJnZXRCbG9jayIsICJuZXdCbG9ja3MiLCAibmV4dFBhZ2UiLCAidXBkYXRlQ3VycmVudFBhZ2VTdGF0ZSIsICJpc0Rlc2t0b3BSZW9yZGVyIiwgIm9mZnNldCIsICJpbmRleCIsICJuZXdJbmRleCIsICJtb3ZlZCIsICJyZW9yZGVyQmxvY2tzIiwgInNvdXJjZUlkIiwgInRhcmdldElkIiwgImZyb21JbmRleCIsICJ0b0luZGV4IiwgInVwZGF0ZURyYWdnYWJsZVN0YXRlIiwgImRyYWdnYWJsZSIsICJjbG9zZUJsb2NrTGlicmFyeSIsICJibG9ja0xpYnJhcnlPcGVuIiwgIm9wZW5CbG9ja0xpYnJhcnkiLCAidG9nZ2xlQmxvY2tMaWJyYXJ5IiwgImFkZEJsb2NrRnJvbUxpYnJhcnkiLCAiZGVmaW5pdGlvbiIsICJuZXdCbG9jayIsICJmaXJzdENvbGxlY3Rpb25JZCIsICJuZXh0QmxvY2tzIiwgImRlbGV0ZUJsb2NrQnlJZCIsICJuZXh0QWN0aXZlIiwgImNsb3NlQmxvY2tEZWxldGVNb2RhbCIsICJwZW5kaW5nRGVsZXRlQmxvY2tJZCIsICJ0YXJnZXQiLCAic3luY0RyYXdlclN0YXRlIiwgIm9wZW5EcmF3ZXIiLCAib3BlbkFkZFBhZ2VGb3JtIiwgInBhZ2VTbHVnTWFudWFsbHlFZGl0ZWQiLCAiY2xvc2VBZGRQYWdlRm9ybSIsICJzeW5jU2x1Z0Zyb21UaXRsZSIsICJub3JtYWxpemVCbG9ja0RhdGEiLCAibG9hZERlc2lnbkNvbGxlY3Rpb25zIiwgImN1cnJlbnRWYWx1ZSIsICJzeW5jQ29sbGVjdGlvblNlbGVjdGlvbkluZm8iLCAiY29sbGVjdGlvbklkIiwgImNvbGxlY3Rpb24iLCAiZGV0YWlscyIsICJzZWxlY3RlZFZhbHVlIiwgIm9wdGlvbiIsICJmYWxsYmFja09wdGlvbiIsICJjcmVhdGVkUGFnZSIsICJwcmV2aWV3V2luZG93IiwgImhhbmRsZUJsb2NrRHJhZ1N0YXJ0IiwgImRyYWdTb3VyY2VJZCIsICJjbGVhckRyYWdJbmRpY2F0b3JzIiwgImhhbmRsZUJsb2NrRHJhZ0VuZCIsICJoYW5kbGVCbG9ja0RyYWdPdmVyIiwgImhhbmRsZUJsb2NrRHJhZ0xlYXZlIiwgImhhbmRsZUJsb2NrRHJvcCIsICJzb3VyY2UiLCAiY29sbGVjdGlvbkxpc3QiLCAiY29sbGVjdGlvbkVtcHR5U3RhdGUiLCAiY29sbGVjdGlvbkl0ZW1zRW1wdHkiLCAiaXRlbVRhYmxlV3JhcHBlciIsICJpdGVtVGFibGVCb2R5IiwgImNvbGxlY3Rpb25UaXRsZSIsICJjb2xsZWN0aW9uRGVzY3JpcHRpb24iLCAiY29sbGVjdGlvbkRyYXdlciIsICJjb2xsZWN0aW9uRHJhd2VyQmFja2Ryb3AiLCAiY29sbGVjdGlvbkRyYXdlck9wZW5CdXR0b25zIiwgImNvbGxlY3Rpb25EcmF3ZXJDbG9zZUJ1dHRvbnMiLCAiaXRlbUFkZEJ1dHRvbiIsICJpdGVtRGV0YWlsRW1wdHkiLCAiaXRlbUZvcm0iLCAiaXRlbUZvcm1GaWVsZHMiLCAiaXRlbVN0YXR1c0JhZGdlIiwgIml0ZW1EZWxldGVCdXR0b24iLCAiaXRlbURlbGV0ZU1vZGFsIiwgIml0ZW1EZWxldGVDYW5jZWwiLCAiaXRlbURlbGV0ZUNvbmZpcm0iLCAiaXRlbUZvcm1DYW5jZWwiLCAiaXRlbUZvcm1TYXZlIiwgInN0YXR1c0JhZGdlQmFzZUNsYXNzIiwgInNhZmVTaXRlU2x1Z1ZhbHVlIiwgImNvbGxlY3Rpb25zIiwgImNvbGxlY3Rpb25JdGVtcyIsICJhY3RpdmVDb2xsZWN0aW9uSWQiLCAiYWN0aXZlSXRlbUlkIiwgImlzQ3JlYXRpbmdJdGVtIiwgIml0ZW1TbHVnTWFudWFsbHlFZGl0ZWQiLCAicGVuZGluZ0RlbGV0ZUl0ZW1JZCIsICJvcGVuQ29sbGVjdGlvbkRyYXdlciIsICJjbG9zZUNvbGxlY3Rpb25EcmF3ZXIiLCAibm9ybWFsaXplSXRlbVNsdWdJbnB1dCIsICJyYXciLCAiY2xlYW5lZFNlZ21lbnRzIiwgInNlZ21lbnQiLCAiZm9ybWF0SXRlbURhdGUiLCAiZGF0ZSIsICJ1cGRhdGVDb2xsZWN0aW9uSGVhZGVyIiwgInVwZGF0ZUl0ZW1zRW1wdHlNZXNzYWdlIiwgImhpZGVJdGVtRm9ybSIsICJzaG93SXRlbUZvcm0iLCAic3luY0FkZEJ1dHRvblN0YXRlIiwgInN5bmNJdGVtU3RhdHVzQmFkZ2UiLCAiY29sb3JDbGFzcyIsICJyZW5kZXJDb2xsZWN0aW9uTGlzdCIsICJzZXRBY3RpdmVDb2xsZWN0aW9uIiwgInJlbmRlckl0ZW1UYWJsZSIsICJyb3ciLCAic3RhdHVzQ2xhc3NlcyIsICJoYW5kbGVTZWxlY3QiLCAic2VsZWN0SXRlbSIsICJpdGVtSWQiLCAicG9wdWxhdGVJdGVtRm9ybSIsICJwcmVwYXJlTmV3SXRlbUZvcm0iLCAiY29sbGVjdEl0ZW1Gb3JtVmFsdWVzIiwgIl9kIiwgIl9lIiwgIl9mIiwgInNsdWdJbnB1dCIsICJzdW1tYXJ5IiwgImltYWdlIiwgInNldEZvcm1TYXZpbmdTdGF0ZSIsICJpc1NhdmluZyIsICJmZXRjaENvbGxlY3Rpb25JdGVtcyIsICJjcmVhdGVDb2xsZWN0aW9uSXRlbSIsICJ1cGRhdGVDb2xsZWN0aW9uSXRlbSIsICJkZWxldGVDb2xsZWN0aW9uSXRlbSIsICJsb2FkQ29sbGVjdGlvbnMiLCAiZGVmYXVsdElkIiwgInNhdmVkSXRlbSIsICJjbG9zZURlbGV0ZU1vZGFsIiwgIm9wZW5EZWxldGVNb2RhbCIsICJmb3JtIiwgInByb3RvY29sU2VsZWN0IiwgImhvc3RJbnB1dCIsICJwb3J0SW5wdXQiLCAidXNlcklucHV0IiwgInBhc3N3b3JkSW5wdXQiLCAic2hvd1Bhc3N3b3JkVG9nZ2xlIiwgInJlbW90ZVBhdGhJbnB1dCIsICJmZWVkYmFjayIsICJzYXZlQnV0dG9uIiwgInRlc3RCdXR0b24iLCAiZGVwbG95QnV0dG9uIiwgImhpc3RvcnlMaXN0IiwgImxvZ0JveCIsICJkZXBsb3lBcGlCYXNlIiwgImRlcGxveVJ1bkFwaSIsICJkZXBsb3lMb2dBcGkiLCAiaGFzUGFzc3dvcmQiLCAiYnVzeUFjdGlvbiIsICJzYW5pdGl6ZVJlbW90ZVBhdGgiLCAidHJpbW1lZCIsICJzZXRGZWVkYmFjayIsICJ0b25lIiwgImJhc2VDbGFzcyIsICJ0b25lQ2xhc3MiLCAiaWNvbiIsICJzZXRCdXN5IiwgImFjdGlvbiIsICJkaXNhYmxlIiwgInNwaW5uZXIiLCAicG9wdWxhdGVGb3JtIiwgInJlbmRlckhpc3RvcnkiLCAiZW50cmllcyIsICJsaSIsICJkdXJhdGlvbiIsICJyZW5kZXJMb2dzIiwgImxpbmVzIiwgImZldGNoSGlzdG9yeSIsICJmZXRjaENvbmZpZyIsICJidWlsZFBheWxvYWQiLCAicHdkIiwgImVycm9yUGF5bG9hZCIsICJyZXN1bHQiLCAic2l0ZUZlZWRiYWNrIiwgInN1Ym1pdCIsICJjb2xvciIsICJmb3JtRGF0YSIsICJjdXJyZW50UGFzc3dvcmQiLCAibmV3UGFzc3dvcmQiLCAiY29uZmlybVBhc3N3b3JkIiwgIm5hbWVJbnB1dCIsICJsYW5nU2VsZWN0IiwgInRhZ2xpbmVJbnB1dCIsICJzZXRTaXRlRmVlZGJhY2siLCAic2l0ZUNvbmZpZ0FwaSIsICJ0aGVtZUFwaSIsICJsb2FkU2l0ZUNvbmZpZyIsICJjb2xvcklucHV0cyIsICJjb2xvckhleElucHV0cyIsICJoZWFkaW5nU2VsZWN0IiwgImJvZHlTZWxlY3QiLCAicmFkaXVzU21hbGwiLCAicmFkaXVzTWVkaXVtIiwgInJhZGl1c0xhcmdlIiwgInByZXZpZXciLCAidGhlbWVGZWVkYmFjayIsICJhcHBseUJ1dHRvbiIsICJzZXRUaGVtZUZlZWRiYWNrIiwgInN5bmNQcmV2aWV3IiwgImNvbG9ycyIsICJzZXRDb2xvckZpZWxkcyIsICJ2YWwiLCAibG9hZFRoZW1lIiwgIl9nIiwgIl9oIiwgImdyaWQiLCAiZW1wdHlTdGF0ZSIsICJjb3VudEJhZGdlIiwgImZpbHRlclR5cGUiLCAiZGV0YWlsRW1wdHkiLCAiZGV0YWlsUGFuZWwiLCAiZGV0YWlsUHJldmlldyIsICJkZXRhaWxOYW1lIiwgImRldGFpbFR5cGUiLCAiZGV0YWlsU2l6ZSIsICJkZXRhaWxQYXRoIiwgImRldGFpbFVzZWQiLCAiZGV0YWlsQWx0SW5wdXQiLCAiZGV0YWlsU2F2ZUJ1dHRvbiIsICJkZXRhaWxEZWxldGVCdXR0b24iLCAiZGVsZXRlTW9kYWwiLCAiZGVsZXRlQ2FuY2VsQnV0dG9uIiwgImRlbGV0ZUNvbmZpcm1CdXR0b24iLCAidXBsb2FkT3BlbkJ1dHRvbiIsICJmaWxlSW5wdXQiLCAidXBsb2FkU3RhdHVzIiwgIm1lZGlhQXBpQmFzZSIsICJtZWRpYUl0ZW1zIiwgImZpbHRlcmVkSXRlbXMiLCAiYWN0aXZlTWVkaWFJZCIsICJoaWdobGlnaHRNZWRpYUlkIiwgInBlbmRpbmdVcGxvYWRGaWxlIiwgInVwbG9hZEluUHJvZ3Jlc3MiLCAiZGV0YWlsRGlydHkiLCAidXBsb2FkTW9kZSIsICJ1cGxvYWRQcmV2aWV3VXJsIiwgImRlcml2ZUdyb3VwVHlwZSIsICJmaWxlbmFtZSIsICJpc0ltYWdlVHlwZSIsICJmb3JtYXRUeXBlTGFiZWwiLCAiZXh0IiwgImZvcm1hdEZpbGVTaXplIiwgInNpemUiLCAicmVzZXREZXRhaWxQYW5lbCIsICJjbGVhclVwbG9hZFN0YXRlIiwgInVwZGF0ZURldGFpbEFjdGlvbnMiLCAidXBkYXRlQ291bnRCYWRnZSIsICJyZW5kZXJHcmlkIiwgInNlbGVjdE1lZGlhIiwgInJlbmRlclVzZWRJbiIsICJzYXZpbmciLCAibWVkaWFJZCIsICJzaG93VXBsb2FkUHJldmlldyIsICJmaWxlIiwgImFwcGx5RmlsdGVycyIsICJ0eXBlRmlsdGVyIiwgImxvYWRNZWRpYSIsICJoYW5kbGVGaWxlU2VsZWN0aW9uIiwgInJlYWRGaWxlQXNCYXNlNjQiLCAicmVzb2x2ZSIsICJyZWplY3QiLCAicmVhZGVyIiwgImJhc2U2NCIsICJ1cGxvYWRTZWxlY3RlZE1lZGlhIiwgImRlbGV0ZUFjdGl2ZU1lZGlhIiwgImRpc2FibGVCdXR0b25zIiwgImVuYWJsZUJ1dHRvbnMiLCAidXBkYXRlZCJdCn0K
