(()=>{document.addEventListener("DOMContentLoaded",()=>{console.log("[admin] Atelier charg\xE9");let ns=document.querySelector("[data-logout]");ns&&ns.addEventListener("click",async()=>{ns.disabled=!0;try{await fetch("/api/logout",{method:"POST",headers:{"Content-Type":"application/json"}})}catch(o){console.error("[admin] Impossible de se d\xE9connecter",o)}finally{window.location.href="/admin/index.html"}});let Tt=document.querySelector("[data-admin-sidebar]"),De=document.querySelector("[data-admin-sidebar-overlay]"),Is=document.querySelectorAll("[data-admin-sidebar-toggle]"),nn=document.querySelectorAll("[data-admin-sidebar-close]"),os=document.body,Dt=!1,Ot=()=>{if(!Tt)return;if(window.matchMedia("(min-width: 1024px)").matches){Tt.classList.remove("hidden"),De==null||De.classList.add("hidden"),os.classList.remove("overflow-hidden");return}Dt?(Tt.classList.remove("hidden"),De==null||De.classList.remove("hidden"),os.classList.add("overflow-hidden")):(Tt.classList.add("hidden"),De==null||De.classList.add("hidden"),os.classList.remove("overflow-hidden"))},on=()=>{Dt=!0,Ot()},rs=()=>{Dt=!1,Ot()};Tt&&Is.length>0&&(Is.forEach(o=>{o.addEventListener("click",on)}),nn.forEach(o=>{o.addEventListener("click",rs)}),De==null||De.addEventListener("click",rs),window.addEventListener("resize",Ot),window.addEventListener("keydown",o=>{o.key==="Escape"&&Dt&&rs()}),Ot());let Bs="clower:currentSite",$s="clower:currentSiteName",te={slug:null,name:""};(()=>{try{te.slug=window.localStorage.getItem(Bs),te.name=window.localStorage.getItem($s)||""}catch{te.slug=null,te.name=""}})();let as=document.querySelectorAll("[data-site-card]"),rn=document.querySelectorAll("[data-site-select]"),Ft=document.querySelector("[data-current-site-name]"),js=document.querySelector("[data-workspace-site-name]"),Ps=document.querySelector("[data-workspace-back-name]"),ct=document.querySelector("[data-workspace-back-modal]"),an=document.querySelectorAll("[data-workspace-back]"),ln=document.querySelectorAll("[data-workspace-back-cancel]"),is=document.querySelector("[data-workspace-back-confirm]"),cn=document.querySelectorAll("[data-workspace-tab]"),ls=document.querySelector("[data-site-toast]"),Ns=document.querySelector("[data-site-toast-message]"),dn=document.querySelectorAll("[data-site-create]"),Le=document.querySelector("[data-site-modal]"),Ce=document.querySelector("[data-site-form]"),ye=Ce==null?void 0:Ce.querySelector('input[name="siteName"]'),le=Ce==null?void 0:Ce.querySelector('input[name="siteSlug"]'),ve=document.querySelector("[data-site-slug-error]"),be=document.querySelector("[data-site-modal-error]"),un=document.querySelectorAll("[data-site-modal-cancel]"),bt=document.querySelector("[data-site-modal-submit]"),V=vn(),Rt=!1,Ut=null,cs=null,mn='a[href], button:not([disabled]), textarea, input, select, [tabindex]:not([tabindex="-1"])',Ms=o=>{if(!Le||Le.classList.contains("hidden")||o.key!=="Tab")return;let p=Array.from(Le.querySelectorAll(mn)).filter(I=>!I.hasAttribute("disabled")&&!I.getAttribute("aria-hidden"));if(p.length===0)return;let v=p[0],T=p[p.length-1];o.shiftKey?document.activeElement===v&&(o.preventDefault(),T.focus()):document.activeElement===T&&(o.preventDefault(),v.focus())},j=o=>{!ls||!Ns||(Ns.textContent=o,ls.classList.remove("hidden"),cs&&clearTimeout(cs),cs=setTimeout(()=>{ls.classList.add("hidden")},2500))};function st(o){return o?o.startsWith("/")?o:`/${o}`:""}function Oe(o){return(o==null?void 0:o.replace(/^\//,""))||""}let Ht=(o,p)=>{let v=o?st(o):null;try{v&&(window.localStorage.setItem(Bs,v),te.slug=v),typeof p=="string"&&p.length>0&&(window.localStorage.setItem($s,p),te.name=p)}catch{te.slug=v||te.slug,te.name=p||te.name}},Ds=o=>{Ft&&o&&(Ft.textContent=o),js&&o&&(js.textContent=o),Ps&&o&&(Ps.textContent=o)},ds=o=>{cn.forEach(p=>{let v=p.dataset.workspaceTab;if(!v)return;if(!o){p.href="#",p.classList.add("pointer-events-none","opacity-50","text-slate-400"),p.setAttribute("aria-disabled","true");return}let T=encodeURIComponent(Oe(o));p.href=`/admin/site/${T}/${v}`,p.classList.remove("pointer-events-none","opacity-50","text-slate-400"),p.removeAttribute("aria-disabled")})},zt=(o,p={})=>{if(!o)return;let v=st(o),T=p.siteName||te.name||(Ft==null?void 0:Ft.dataset.defaultSiteName)||"";as.forEach(C=>{let G=st(C.dataset.siteCard||"")===v,M=C.querySelector("[data-site-active-badge]");G?(C.classList.add("border-[#9C6BFF]","ring-2","ring-[#9C6BFF]","shadow-md"),C.classList.remove("border-slate-200"),M==null||M.classList.remove("hidden"),T=C.dataset.siteName||T):(C.classList.remove("border-[#9C6BFF]","ring-2","ring-[#9C6BFF]","shadow-md"),C.classList.add("border-slate-200"),M==null||M.classList.add("hidden"))}),p.persist!==!1&&Ht(v,p.siteName||T);let I=p.siteName||T;Ds(I),ds(v)},pn=async(o,p)=>{let v=st(o);try{let T=await fetch("/api/sites/select",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({slug:v})});if(!T.ok){let M=await T.json().catch(()=>({}));j(M.message||"Impossible de s\xE9lectionner ce site.");return}let I=await T.json().catch(()=>({})),C=st(I.slug||v),_=I.name||p;Ht(C,_),zt(C,{siteName:_,persist:!1});let G=encodeURIComponent(Oe(C));window.location.href=`/admin/site/${G}/design`}catch(T){console.error("[admin] Impossible de s\xE9lectionner le site",T),j("Erreur inattendue lors de la s\xE9lection.")}},fn=async()=>{try{let o=await fetch("/api/sites/current",{credentials:"same-origin"});if(!o.ok){o.status===404&&V&&(window.location.href="/admin/sites");return}let p=await o.json(),v=st(p.slug);Ht(v,p.name),zt(v,{siteName:p.name,persist:!1})}catch(o){console.warn("[admin] Impossible de r\xE9cup\xE9rer le site actif",o)}};(()=>{if(te.slug){zt(te.slug,{siteName:te.name,persist:!1});return}let o=document.querySelector('[data-site-card][data-site-default="true"]')||as[0];o&&zt(o.dataset.siteCard,{siteName:o.dataset.siteName||"",persist:!1})})(),fn(),V?ds(V.slugValue):te.slug&&ds(te.slug),rn.forEach(o=>{o.addEventListener("click",()=>{if(o.disabled)return;let p=o.dataset.siteSelect,v=o.dataset.siteSelectName||"Ce site";p&&(o.disabled=!0,pn(p,v).finally(()=>{o.disabled=!1}))})});let mt=o=>(o||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),gn=o=>{let p=mt(o||"");return p?`/${p}`:""},hn=()=>{Le&&(Ut=document.activeElement,Le.classList.remove("hidden"),Le.classList.add("flex"),Rt=!1,Ce==null||Ce.reset(),ve&&(ve.textContent=""),be&&(be.textContent=""),le&&ye&&(le.value=mt(ye.value)),document.addEventListener("keydown",Ms),window.setTimeout(()=>{ye==null||ye.focus()},0))},Vt=()=>{Le&&(Le.classList.add("hidden"),Le.classList.remove("flex"),document.removeEventListener("keydown",Ms),Rt=!1,Ce==null||Ce.reset(),ve&&(ve.textContent=""),be&&(be.textContent=""),Ut==null||Ut.focus())};dn.forEach(o=>{o.addEventListener("click",hn)}),un.forEach(o=>{o.addEventListener("click",Vt)}),Le==null||Le.addEventListener("click",o=>{o.target===Le&&Vt()}),ye==null||ye.addEventListener("input",()=>{le&&((!Rt||le.value.trim().length===0)&&(le.value=mt(ye.value)),ve&&(ve.textContent=""),be&&(be.textContent=""))}),le==null||le.addEventListener("focus",()=>{let o=(le==null?void 0:le.value)||"",p=(ye==null?void 0:ye.value)||"";!o.trim()&&p.trim()&&(le.value=mt(p))}),le==null||le.addEventListener("input",()=>{Rt=!0,ve&&(ve.textContent=""),be&&(be.textContent="")});let yn=()=>new Set(Array.from(as).map(o=>st(o.dataset.siteCard||"")));Ce==null||Ce.addEventListener("submit",async o=>{if(o.preventDefault(),console.log("[admin] Form submit - siteNameInput:",ye,"siteSlugInput:",le),!ye||!le){console.log("[admin] Missing inputs, aborting");return}let p=(ye.value||"").trim(),v=(le.value||"").trim();console.log("[admin] nameValue:",p,"slugValue:",v),!v&&p&&(v=mt(p),le.value=v,console.log("[admin] Auto-generated slug:",v));let T=gn(v);if(console.log("[admin] normalizedSlug:",T),!p){console.log("[admin] Name validation failed"),be&&(be.textContent="Le nom du site est requis."),ye.focus();return}if(!T){console.log("[admin] Slug validation failed"),ve&&(ve.textContent="Le slug ne peut pas \xEAtre vide ou contenir uniquement des caract\xE8res sp\xE9ciaux."),le.focus();return}if(yn().has(T)){ve&&(ve.textContent="Ce slug est d\xE9j\xE0 utilis\xE9.");return}ve&&(ve.textContent=""),be&&(be.textContent=""),bt&&(bt.disabled=!0,bt.textContent="Cr\xE9ation...");try{let C=await fetch("/api/sites",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:p,slug:T})});if(!C.ok){let A=await C.json().catch(()=>({})),g=A.message||"Impossible de cr\xE9er ce site.";be&&(be.textContent=g),A.field==="slug"&&ve&&(ve.textContent=g);return}let _=await C.json(),G=st((_==null?void 0:_.slug)||T),M=(_==null?void 0:_.name)||p;Ht(G,M),Vt();let F=encodeURIComponent(Oe(G));window.location.href=`/admin/site/${F}/design`}catch(C){console.error("[admin] Impossible de cr\xE9er le site",C),be&&(be.textContent="Erreur inattendue. R\xE9essaie dans un instant.")}finally{bt&&(bt.disabled=!1,bt.textContent="Cr\xE9er")}}),window.addEventListener("keydown",o=>{o.key==="Escape"&&(Le&&!Le.classList.contains("hidden")&&Vt(),ct&&!ct.classList.contains("hidden")&&Os(),blockDeleteModal&&!blockDeleteModal.classList.contains("hidden")&&closeBlockDeleteModal(),blockLibraryOpen&&closeBlockLibrary())});function vn(){let o=window.location.pathname.match(/^\/admin\/site\/([^/]+)(?:\/([^/]+))?/);return o?{slugPart:decodeURIComponent(o[1]),slugValue:st(decodeURIComponent(o[1])),section:o[2]||"design"}:null}function bn(){return document.querySelector("[data-page-list]")?"design":document.querySelector("[data-collection-list]")?"content":document.querySelector("[data-media-grid]")?"media":document.querySelector("[data-deploy-form]")?"deploy":null}function xn(){if(!ct){window.location.href="/admin/sites";return}ct.classList.remove("hidden"),ct.classList.add("flex")}function Os(){ct&&(ct.classList.add("hidden"),ct.classList.remove("flex"))}an.forEach(o=>{o.addEventListener("click",xn)}),ln.forEach(o=>{o.addEventListener("click",Os)}),is==null||is.addEventListener("click",()=>{window.location.href="/admin/sites"});let It=(V==null?void 0:V.section)||bn();It==="design"&&Sn(),It==="content"&&wn(),It==="media"&&En(),It==="deploy"&&Ln(),It==="settings"&&Cn(),V&&te.name&&Ds(te.name);function Sn(){let o=document.querySelectorAll("[data-page-list]");if(o.length===0)return;let p=document.querySelector("[data-active-page-title]"),v=document.querySelector("[data-active-page-slug]"),T=document.querySelector("[data-page-preview-tags]"),I=document.querySelector("[data-page-preview-frame]"),C=document.querySelector("[data-preview-open]"),_=document.querySelector("[data-preview-status]"),G=document.querySelector("[data-preview-highlight]"),M=document.querySelector("[data-seo-toggle]"),F=document.querySelector("[data-seo-panel]"),A=document.querySelector("[data-seo-close]"),g=document.querySelector("[data-seo-form]"),S=document.querySelector("[data-seo-title]"),f=document.querySelector("[data-seo-description]"),l=document.querySelector("[data-seo-indexed]"),E=document.querySelector("[data-seo-feedback]"),$=document.querySelector("[data-seo-save]"),a=document.querySelector("[data-blocks-list]"),k=document.querySelector("[data-blocks-empty]"),B=document.querySelector("[data-block-count]"),Q=document.querySelector("[data-block-library-toggle]"),H=document.querySelector("[data-block-library]"),Y=document.querySelectorAll("[data-block-add]"),X=document.querySelector("[data-block-delete-modal]"),J=document.querySelector("[data-block-delete-confirm]"),R=document.querySelector("[data-block-delete-cancel]"),O=document.querySelector("[data-block-detail-empty]"),z=document.querySelector("[data-block-detail-status]"),h=document.querySelector("[data-block-editor]"),i=document.querySelector("[data-block-editor-block-name]"),u=document.querySelector("[data-block-editor-block-type]"),w=document.querySelector("[data-block-editor-unsupported]"),m=document.querySelector("[data-block-form]"),oe=m?Array.from(m.querySelectorAll("[data-editor-section]")):[],ae=document.querySelectorAll("[data-block-tab]"),de="content",re=document.querySelector("[data-block-form-actions]"),Ee=document.querySelector("[data-block-form-autosave]"),ue=e=>{de=e,ae.forEach(s=>{let n=s.dataset.blockTab===e;s.setAttribute("aria-selected",n?"true":"false"),n?(s.classList.add("text-[#9C6BFF]"),s.classList.remove("text-slate-500","hover:text-slate-700"),s.classList.add("after:absolute","after:bottom-0","after:left-0","after:right-0","after:h-0.5","after:bg-[#9C6BFF]")):(s.classList.remove("text-[#9C6BFF]"),s.classList.add("text-slate-500","hover:text-slate-700"),s.classList.remove("after:absolute","after:bottom-0","after:left-0","after:right-0","after:h-0.5","after:bg-[#9C6BFF]"))});let t=m==null?void 0:m.querySelector("[data-editor-section]:not(.hidden)");t&&t.querySelectorAll("[data-block-panel]").forEach(n=>{n.dataset.blockPanel===e?n.classList.remove("hidden"):n.classList.add("hidden")}),re&&Ee&&(e==="content"?(re.classList.remove("hidden"),Ee.classList.add("hidden")):(re.classList.add("hidden"),Ee.classList.remove("hidden")))};ae.forEach(e=>{e.addEventListener("click",()=>{ue(e.dataset.blockTab)})});let W=m==null?void 0:m.querySelector('[name="collection-grid-collection"]'),$e=m==null?void 0:m.querySelector("[data-collection-selection-info]"),ce=document.querySelector("[data-block-form-cancel]"),We=m==null?void 0:m.querySelector("[data-group-preview-mobile]"),fe=m==null?void 0:m.querySelector("[data-group-preview-desktop]"),Ve=m==null?void 0:m.querySelector("[data-collection-preview-mobile]"),Re=m==null?void 0:m.querySelector("[data-collection-preview-desktop]"),nt={hero:{section:"hero",labelField:"title",descriptionField:"subtitle",fields:{title:"hero-title",subtitle:"hero-subtitle",ctaLabel:"hero-cta-label",ctaUrl:"hero-cta-url",image:"hero-image",layout:"hero-layout",height:"hero-height",contentAlign:"hero-content-align",overlay:"hero-overlay",titleSize:"hero-title-size",bg:"hero-bg",borderRadius:"hero-border-radius",shadow:"hero-shadow"}},paragraphe:{section:"paragraph",labelField:"title",descriptionField:"content",fields:{title:"paragraph-title",content:"paragraph-content",align:"paragraph-align",titleSize:"paragraph-title-size",textSize:"paragraph-text-size",spacing:"paragraph-spacing",bg:"paragraph-bg",borderRadius:"paragraph-border-radius",shadow:"paragraph-shadow"}},image:{section:"image",labelField:"alt",fields:{src:"image-src",alt:"image-alt",showCaption:"image-caption-toggle",caption:"image-caption",rounded:"image-rounded",shadow:"image-shadow",maxWidth:"image-max-width",align:"image-align",bg:"image-bg",borderRadius:"image-border-radius"}},groupe:{section:"group",fields:{columnsMobile:"group-columns-mobile",columnsDesktop:"group-columns-desktop",gap:"group-gap",itemsAlign:"group-items-align",bg:"group-bg",borderRadius:"group-border-radius",shadow:"group-shadow"}},collectiongrid:{section:"collection",fields:{collectionId:"collection-grid-collection",limit:"collection-grid-limit",columnsMobile:"collection-columns-mobile",columnsDesktop:"collection-columns-desktop",gap:"collection-gap",itemsAlign:"collection-items-align",cardRounded:"collection-card-rounded",bg:"collection-bg",borderRadius:"collection-border-radius",shadow:"collection-shadow"}},form:{section:"form",labelField:"formTitle",fields:{formTitle:"form-title",actionUrl:"form-action-url",method:"form-method",serviceName:"form-service-name",submitLabel:"form-submit-label",successMessage:"form-success-message",maxWidth:"form-max-width",align:"form-align",buttonRounded:"form-button-rounded",spacing:"form-spacing",bg:"form-bg",borderRadius:"form-border-radius",shadow:"form-shadow"}},newsletterembed:{section:"newsletter",labelField:"title",fields:{title:"newsletter-title",serviceName:"newsletter-service-name",embedCode:"newsletter-embed-code",maxWidth:"newsletter-max-width",align:"newsletter-align",padding:"newsletter-padding",bg:"newsletter-bg",borderRadius:"newsletter-border-radius",shadow:"newsletter-shadow"}}},pt={texte:"paragraphe",paragraph:"paragraphe",paragraphs:"paragraphe",paragraphes:"paragraphe",text:"paragraphe",hero:"hero",image:"image",groupe:"groupe",group:"groupe",collection:"collectiongrid",collectiongrid:"collectiongrid","collection-grid":"collectiongrid",form:"form",formulaire:"form",contact:"form",newsletterembed:"newsletterembed",newsletter:"newsletterembed",embed:"newsletterembed"},ft=(e,t)=>{if(!We||!fe)return;let s=n=>Array.from({length:Number(n)||1}).map(()=>'<span class="block h-2 w-full rounded-full bg-slate-300"></span>').join("");We.innerHTML=s(e),fe.innerHTML=s(t)},ot=(e,t)=>{if(!Ve||!Re)return;let s=n=>Array.from({length:Number(n)||1}).map(()=>'<span class="block h-2 w-full rounded-full bg-violet-300"></span>').join("");Ve.innerHTML=s(e),Re.innerHTML=s(t)},gt=async()=>{if(!He)return[];let e=await fetch(He,{headers:{Accept:"application/json"}});if(!e.ok)throw new Error("Impossible de charger les pages.");let t=await e.json().catch(()=>[]);return Array.isArray(t)?t:[]},xt=async({title:e,slug:t})=>{if(!He)throw new Error("Site inconnu.");let s=await fetch(He,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e,slug:t})});if(!s.ok){let n=await s.json().catch(()=>({}));throw new Error(n.message||"Impossible de cr\xE9er la page.")}return s.json().catch(()=>({}))},d=async e=>{if(!(!He||!(e!=null&&e.id)))try{let t=await fetch(`${He}/${encodeURIComponent(e.id)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){let n=await t.json().catch(()=>({}));throw new Error(n.message||"Impossible de sauvegarder la page.")}let s=await t.json().catch(()=>({}));if(s!=null&&s.id){let n=Nt(s);return ne=ne.map(c=>c.id===n.id?n:c),(b==null?void 0:b.id)===n.id&&(b=n),n}return s}catch(t){console.error("[design] Save page failed",t),j(t.message||"Sauvegarde impossible.")}},L=async()=>{if(!He){ne=[],qe=null,b=null,Et(ne,qe),Ct(null),O==null||O.classList.remove("hidden"),h==null||h.classList.add("hidden");return}try{let e=await gt();if(ne=(Array.isArray(e)?e:[]).map(t=>Nt(t)),ne.length===0){qe=null,b=null,Et(ne,qe),Ct(null),O==null||O.classList.remove("hidden"),h==null||h.classList.add("hidden"),I&&(I.srcdoc=r());return}qe=In(ne),Je(qe)}catch(e){console.error("[design] Impossible de charger les pages",e),j("Impossible de charger les pages.")}},K=e=>(e||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),U=e=>{if(!e)return null;let t=K(e.type),s=pt[t]||t;return nt[s]||null},dt=e=>{var s,n,c,x,N;if(!m||!h)return;e&&!e.settings&&(e.settings={});let t=U(e);if(i&&(i.textContent=(e==null?void 0:e.label)||"Bloc"),u&&(u.textContent=(e==null?void 0:e.type)||"Bloc"),!t){m.classList.add("hidden"),w==null||w.classList.remove("hidden"),m.dataset.blockId="";return}if(w==null||w.classList.add("hidden"),m.classList.remove("hidden"),m.reset(),m.dataset.blockId=e.id,oe.forEach(D=>{D.dataset.editorSection===t.section?D.classList.remove("hidden"):D.classList.add("hidden")}),ue("content"),t.section==="collection"){let D=e.collectionId||((s=e.settings)==null?void 0:s.collectionId)||"";ts(D)}if(Object.entries(t.fields).forEach(([D,se])=>{var lt;let pe=m.querySelector(`[name="${se}"]`);if(!pe)return;let he=(lt=e.settings)==null?void 0:lt[D];pe.type==="checkbox"?pe.checked=!!he:pe.type==="number"?pe.value=he!=null?he:1:(pe.tagName,pe.value=he!=null?he:"")}),t.section==="group"){let D=((n=m.querySelector('[name="group-columns-mobile"]'))==null?void 0:n.value)||"1",se=((c=m.querySelector('[name="group-columns-desktop"]'))==null?void 0:c.value)||"3";ft(D,se)}if(t.section==="collection"){let D=((x=m.querySelector('[name="collection-columns-mobile"]'))==null?void 0:x.value)||"1",se=((N=m.querySelector('[name="collection-columns-desktop"]'))==null?void 0:N.value)||"3";ot(D,se)}},rt=e=>{if(!m||!e)return{};let t={};return Object.entries(e.fields).forEach(([s,n])=>{let c=m.querySelector(`[name="${n}"]`);if(c)if(c.type==="checkbox")t[s]=c.checked;else if(c.type==="number"){let x=Number(c.value);t[s]=Number.isFinite(x)?x:0}else c.tagName==="TEXTAREA"?t[s]=c.value||"":c.type==="select-one"?t[s]=c.value:t[s]=c.value||""}),t},Ge=e=>{if(_){if(!e){_.classList.add("hidden");return}_.classList.remove("hidden"),_.textContent=e}},Jt=e=>e?{id:e.id,title:e.title,slug:e.slug,badges:[...e.badges||[]],blocks:(e.blocks||[]).map(t=>{var s;return{id:t.id,type:t.type,label:t.label,status:t.status,description:t.description,props:t.props||[],settings:t.settings||{},collectionId:t.collectionId||((s=t.settings)==null?void 0:s.collectionId)||""}})}:null,r=()=>'<!DOCTYPE html><html><body style="font-family:Inter,sans-serif;padding:40px;color:#475569;background:#fff;">Pr\xE9paration de la pr\xE9visualisation\u2026</body></html>',y=(e,t)=>{let s;return(...n)=>{clearTimeout(s),s=setTimeout(()=>e(...n),t)}},P=null,Z=()=>{if(!b||!xe)return;let e=kt(),t=U(e);if(!e||!t)return;let s=rt(t),n=(b.blocks||[]).map(x=>{if(x.id!==e.id)return x;let N={...x.settings||{},...s};return{...x,settings:N}}),c={...b,blocks:n};b=c,d(c)},ge=(e,t)=>{!I||!I.contentWindow||I.contentWindow.postMessage({type:"updateBlockStyles",blockId:e,settings:t},"*")},St=y(()=>{Z(),Ge("Sauvegard\xE9"),setTimeout(()=>Ge("\xC0 jour"),1500)},800),ht=y(()=>{b&&wt(b)},1500),ut=(e,t)=>{ge(e,t),Ge("Modification\u2026"),St(),ht()},wt=e=>{if(!I||!e)return;let t=(V==null?void 0:V.slugValue)||te.slug||"",s={page:Jt(e),site:{title:te.name||"Site",slug:t}};ks=!1,Ge("Actualisation\u2026"),I.srcdoc=r(),Pt&&Pt.abort();let n=new AbortController;Pt=n,fetch("/api/preview",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s),signal:n.signal}).then(c=>{if(!c.ok)throw new Error("Preview error");return c.json()}).then(c=>{n.signal.aborted||(Es=c.html||"",I.setAttribute("title",`Pr\xE9visualisation de la page ${e.title||""}`.trim()),I.srcdoc=Es||r(),Ge("\xC0 jour"))}).catch(c=>{n.signal.aborted||(console.error("[preview] Impossible de rendre la page",c),Ge("Erreur preview"),I.srcdoc='<!DOCTYPE html><html><body style="font-family:Inter,sans-serif;padding:40px;color:#be123c;background:#fff;">Erreur lors du rendu de la pr\xE9visualisation.</body></html>')}).finally(()=>{Pt===n&&(Pt=null)})},Wt=e=>{if(e.preventDefault(),!b||!xe)return;let t=kt(),s=U(t);if(!t||!s)return;let n=rt(s);if(s.section==="collection"){if(!n.collectionId){j("S\xE9lectionnez une collection.");return}n.limit=Math.max(1,Number(n.limit)||1)}let c=(b.blocks||[]).map(x=>{if(x.id!==t.id)return x;let N={...x.settings||{},...n},D={...x,settings:N};return s.labelField&&n[s.labelField]&&(D.label=n[s.labelField]),s.descriptionField&&n[s.descriptionField]&&(D.description=n[s.descriptionField]),s.section==="collection"&&(D.collectionId=n.collectionId,D.settings.collectionId=n.collectionId,D.settings.limit=n.limit),D});qt(c),j("Bloc mis \xE0 jour"),Je(b.id,{preserveBlock:!0})},_e=document.querySelector("[data-page-drawer]"),ke=document.querySelector("[data-page-drawer-backdrop]"),Gt=document.querySelectorAll("[data-page-drawer-open]"),_t=document.querySelectorAll("[data-page-drawer-close]"),Ye=document.querySelector("[data-add-page-toggle]"),Te=document.querySelector("[data-add-page-form]"),je=document.querySelector("[data-add-page-title]"),Ke=document.querySelector("[data-add-page-slug]"),us=document.querySelector("[data-add-page-cancel]"),Fe=document.querySelector("[data-add-page-error]"),Lt=Te==null?void 0:Te.querySelector('[type="submit"]'),ms=document.querySelector("[data-import-pages-toggle]"),Xe=document.querySelector("[data-import-modal]"),kn=document.querySelectorAll("[data-import-modal-close]"),Ue=document.querySelector("[data-import-dropzone]"),ps=document.querySelector("[data-import-file-input]"),fs=document.querySelector("[data-import-file-list]"),Rs=document.querySelector("[data-import-file-names]"),Ie=document.querySelector("[data-import-results]"),Be=document.querySelector("[data-import-results-content]"),Pe=document.querySelector("[data-import-submit]"),gs=document.querySelectorAll("[data-import-tab]"),Us=document.querySelectorAll("[data-import-panel]"),hs=document.querySelector("[data-copy-template]"),Hs=document.querySelector("[data-template-json]"),Ne=document.querySelector("[data-import-paste-json]"),ys=document.querySelector("[data-format-json]"),Ze=document.querySelector("[data-import-paste-error]"),at=[],yt="upload",Qe=document.querySelector("[data-delete-page-modal]"),zs=document.querySelector("[data-delete-page-name]"),vs=document.querySelector("[data-delete-page-cancel]"),it=document.querySelector("[data-delete-page-confirm]"),Bt=null,qn=Oe((V==null?void 0:V.slugValue)||te.slug||"default")||"default",An=(V==null?void 0:V.slugValue)||te.slug||"",Yt=Oe(An)||"",He=Yt?`/api/sites/${encodeURIComponent(Yt)}/pages`:null,Vs=Yt?`/api/sites/${encodeURIComponent(Yt)}/collections`:null,Js={active:`clower:activePage:${qn}`},bs=(e,t,s,n,c,x=[],N={})=>{let D={id:e,label:t,type:s,status:n,description:c,props:x,settings:{...N}};return D.settings.collectionId&&(D.collectionId=D.settings.collectionId),D},Tn={hero:{type:"Hero",label:"Hero de page",description:"Section pleine largeur avec CTA principal.",status:"Brouillon",props:[{label:"CTA",value:"D\xE9couvrir"},{label:"Hauteur",value:"80vh"}],settings:{title:"Titre du hero",subtitle:"",ctaLabel:"D\xE9couvrir",ctaUrl:"#",image:"",align:"center"}},paragraph:{type:"Paragraphe",label:"Bloc \xE9ditorial",description:"Paragraphe libre pour raconter votre histoire.",status:"Brouillon",props:[{label:"Longueur",value:"150 mots"}],settings:{title:"Titre du paragraphe",content:"",align:"left"}},image:{type:"Image",label:"Bloc image",description:"Visuel seul avec l\xE9gende optionnelle.",status:"Brouillon",props:[{label:"Ratio",value:"16:9"},{label:"L\xE9gende",value:"Inactive"}],settings:{src:"",alt:"",showCaption:!1,caption:""}},group:{type:"Groupe",label:"Groupe de sections",description:"Conteneur pour imbriquer plusieurs sous-blocs.",status:"Brouillon",props:[{label:"Disposition",value:"Verticale"}],settings:{layout:"grid",columnsMobile:"1",columnsDesktop:"3"}},collectiongrid:{type:"CollectionGrid",label:"Grille de contenus",description:"Affiche automatiquement les items d\u2019une collection.",status:"Brouillon",settings:{collectionId:"",limit:6}},form:{type:"Form",label:"Formulaire de contact",description:"Formulaire avec envoi vers un service externe.",status:"Brouillon",settings:{formTitle:"Contactez-nous",actionUrl:"",method:"POST",serviceName:"",submitLabel:"Envoyer",successMessage:"Merci pour votre message !"}},newsletterembed:{type:"NewsletterEmbed",label:"Newsletter / Embed",description:"Int\xE9gration d'un formulaire newsletter externe (Brevo, Mailchimp\u2026).",status:"Brouillon",settings:{title:"Restez inform\xE9",serviceName:"",embedCode:""}}},Fn=e=>{try{window.localStorage.setItem(Js.active,e)}catch{}},In=e=>{var t;try{let s=window.localStorage.getItem(Js.active);if(s&&e.some(n=>n.id===s))return s}catch{}return((t=e[0])==null?void 0:t.id)||null},Bn=e=>!e||e<=0?"0 bloc":e===1?"1 bloc":`${e} blocs`,Ws=e=>{if(!e||e==="/")return"/";let t=mt(e.replace(/^\//,""));return t?`/${t}`:"/"},xs=(e="page",t="block")=>`${e}-${t}-${Date.now().toString(36)}-${Math.floor(Math.random()*1e3)}`,ao=(e,t)=>[bs(xs(e,"intro"),"Introduction","Paragraphe","Brouillon",`Paragraphe introductif pour "${t}".`,[{label:"Longueur",value:"2 paragraphes"}],{title:`Introduction \xE0 ${t}`,content:"Ajoutez votre premier paragraphe de pr\xE9sentation.",align:"left"}),bs(xs(e,"content"),"Zone de contenu","Groupe","Brouillon","Section principale \xE0 composer avec textes et visuels.",[{label:"Colonnes",value:"Auto"}],{layout:"grid",columnsMobile:"1",columnsDesktop:"2"})],$n=e=>{p&&(p.textContent=(e==null?void 0:e.title)||"Page"),v&&(v.textContent=(e==null?void 0:e.slug)||"/")},jn=e=>{if(!T)return;T.innerHTML="",(e&&e.badges&&e.badges.length>0?e.badges:["Structure en cours"]).forEach(s=>{let n=document.createElement("span");n.className="rounded-full bg-slate-100 px-3 py-1",n.textContent=s,T.appendChild(n)})},Pn=e=>{switch((e||"").toLowerCase()){case"en ligne":return"bg-emerald-50 text-emerald-700";case"brouillon":return"bg-amber-50 text-amber-700";default:return"bg-slate-100 text-slate-600"}},Kt=e=>{if(!(!O||!h)){if(!e){O.classList.remove("hidden"),h.classList.add("hidden"),w==null||w.classList.add("hidden"),m==null||m.classList.add("hidden"),z==null||z.classList.add("hidden");return}O.classList.add("hidden"),h.classList.remove("hidden"),z&&(e.status?(z.textContent=e.status,z.className=`rounded-full px-3 py-1 text-xs font-semibold ${Pn(e.status)}`,z.classList.remove("hidden")):z.classList.add("hidden")),dt(e)}},$t=e=>{if(!I)return;let t=I.contentDocument;if(!t)return;t.querySelectorAll("[data-preview-block]").forEach(n=>{n.dataset.previewBlock===e?(n.classList.add("preview-block-active"),ks&&e&&n.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})):n.classList.remove("preview-block-active")}),G&&(G.style.borderColor=e?"rgba(156, 107, 255, 0.5)":"transparent")},Ct=e=>{if(!a)return;a.innerHTML="";let t=(e==null?void 0:e.blocks)||[];if(B&&(B.textContent=Bn(t.length)),t.length===0){a.classList.add("hidden"),k==null||k.classList.remove("hidden");return}a.classList.remove("hidden"),k==null||k.classList.add("hidden"),t.forEach(s=>{var we;let n=s.id===xe,c=document.createElement("div");c.dataset.blockItem="true",c.dataset.blockId=s.id,c.setAttribute("role","option"),c.setAttribute("aria-selected",n?"true":"false"),c.setAttribute("draggable","true"),c.tabIndex=0,c.className=["relative flex items-center gap-3 rounded-2xl border px-3 py-2 text-left transition group",n?"bg-slate-100 border-[#9C6BFF]/40 shadow-sm":"border-slate-200 hover:border-[#9C6BFF]/40"].join(" ");let x=document.createElement("span");x.className=`absolute inset-y-2 left-0 w-1 rounded-full bg-[#9C6BFF] ${n?"":"hidden"}`,c.appendChild(x);let N=document.createElement("div");N.className="flex flex-1 items-center gap-3";let D=document.createElement("div");D.className="hidden lg:flex cursor-grab active:cursor-grabbing flex-shrink-0 items-center text-lg text-slate-400 hover:text-slate-600 transition-colors select-none",D.innerHTML="\u22EE\u22EE",D.setAttribute("title","Glisser pour r\xE9ordonner"),N.appendChild(D);let se=document.createElement("div");se.className="flex-1";let pe=document.createElement("div");pe.className="flex items-center gap-2 text-[11px] uppercase tracking-wide text-slate-500";let he=document.createElement("span");he.className="rounded-full bg-slate-100 px-2 py-0.5 text-[10px] font-semibold text-slate-600",he.textContent=s.type;let lt=document.createElement("span");lt.className="text-slate-400",lt.textContent=s.status,pe.appendChild(he),pe.appendChild(lt);let At=document.createElement("p");At.className="mt-1 text-sm font-semibold text-slate-900";let me=s.settings&&s.settings.title||s.label||"Bloc sans titre";if(At.textContent=me,se.appendChild(pe),se.appendChild(At),(s.type||"").toLowerCase()==="collectiongrid"&&s.collectionId){let ze=((we=et.find(no=>no.id===s.collectionId))==null?void 0:we.name)||s.collectionId,Fs=document.createElement("p");Fs.className="text-xs text-slate-400",Fs.textContent=`Collection : ${ze}`,se.appendChild(Fs)}N.appendChild(se),c.appendChild(N);let Se=document.createElement("div");Se.className="flex flex-col gap-1 text-xs text-slate-400";let ie=document.createElement("div");ie.className="flex items-center gap-1 lg:hidden";let ee=document.createElement("button");ee.type="button",ee.className="rounded-lg border border-slate-200 px-2 py-1 text-[11px] font-semibold text-slate-500",ee.textContent="\u2191",ee.addEventListener("click",ze=>{ze.stopPropagation(),Gs(s.id,-1)});let Ae=document.createElement("button");Ae.type="button",Ae.className="rounded-lg border border-slate-200 px-2 py-1 text-[11px] font-semibold text-slate-500",Ae.textContent="\u2193",Ae.addEventListener("click",ze=>{ze.stopPropagation(),Gs(s.id,1)}),ie.appendChild(ee),ie.appendChild(Ae),Se.appendChild(ie);let Me=document.createElement("button");Me.type="button",Me.className="inline-flex items-center justify-center rounded-lg border border-transparent px-2 py-1 text-[12px] text-rose-500 hover:text-rose-700",Me.innerHTML="\u{1F5D1}\uFE0F",Me.addEventListener("click",ze=>{ze.stopPropagation(),Hn(s.id)}),Se.appendChild(Me),c.appendChild(Se),c.addEventListener("click",()=>{vt(s.id)}),c.addEventListener("keydown",ze=>{(ze.key==="Enter"||ze.key===" ")&&(ze.preventDefault(),vt(s.id))}),a.appendChild(c)})},Nn=e=>{!Qe||!e||(Bt=e,zs&&(zs.textContent=e.title||e.id),Qe.classList.remove("hidden"),Qe.classList.add("flex"))},Ss=()=>{Qe&&(Qe.classList.add("hidden"),Qe.classList.remove("flex"),Bt=null)},Mn=async()=>{if(!He||!Bt)return;let e=Bt.id,t=Bt.title||e;it&&(it.disabled=!0,it.textContent="Suppression...");try{let s=await fetch(`${He}/${encodeURIComponent(e)}`,{method:"DELETE",credentials:"include"}),n=await s.json();if(!s.ok)throw new Error(n.message||"Erreur serveur");ne=ne.filter(c=>c.id!==e),qe===e?ne.length>0?Je(ne[0].id):(qe=null,b=null,Et(ne,null),Ct(null),O==null||O.classList.remove("hidden"),h==null||h.classList.add("hidden"),I&&(I.srcdoc=r())):Et(ne,qe),Ss(),j(`Page "${t}" supprim\xE9e`)}catch(s){console.error("[pages] delete failed",s),j(s.message||"Erreur suppression")}finally{it&&(it.disabled=!1,it.textContent="Supprimer")}},Et=(e,t)=>{o.forEach(s=>{s.innerHTML="",e.forEach(n=>{let c=document.createElement("li");c.className="flex items-center gap-1";let x=document.createElement("button");x.type="button",x.dataset.pageId=n.id,x.className=["flex-1 flex items-center gap-3 px-3 py-2 text-left transition",t===n.id?"bg-[#9C6BFF]/10 text-slate-900 border border-[#9C6BFF]/40 rounded-xl shadow-sm":"text-slate-700 hover:bg-slate-50 rounded-xl"].join(" "),t===n.id?x.setAttribute("aria-current","page"):x.removeAttribute("aria-current"),x.innerHTML=`
            <span class="flex h-9 w-9 items-center justify-center rounded-xl border border-slate-200 bg-white text-slate-500">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                <path d="M6.5 4.5h7l4 4v11a1 1 0 0 1-1 1h-10a1 1 0 0 1-1-1v-14a1 1 0 0 1 1-1Z" stroke="currentColor" stroke-width="1.4" stroke-linejoin="round"/>
                <path d="M13.5 4.5v4a1 1 0 0 0 1 1h3" stroke="currentColor" stroke-width="1.4"/>
              </svg>
            </span>
            <div class="flex flex-col">
              <span class="text-sm font-semibold">${n.title}</span>
              <span class="text-xs text-slate-500">${n.slug}</span>
            </div>
          `,x.addEventListener("click",()=>{Je(n.id),Ls()||Cs()}),c.appendChild(x);let N=document.createElement("button");N.type="button",N.className="flex-shrink-0 p-2 text-slate-400 hover:text-rose-600 hover:bg-rose-50 rounded-lg transition",N.title="Supprimer cette page",N.setAttribute("aria-label",`Supprimer ${n.title}`),N.innerHTML=`
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M3 6h18M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2m3 0v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6h14ZM10 11v6M14 11v6"/>
            </svg>
          `,N.addEventListener("click",D=>{D.stopPropagation(),Nn(n)}),c.appendChild(N),s.appendChild(c)})})},kt=()=>!b||!Array.isArray(b.blocks)?null:b.blocks.find(e=>e.id===xe)||null,vt=e=>{if(!b)return;if(!e){xe=null,Ct(b),Kt(null),$t(null);return}let t=b.blocks.find(s=>s.id===e)||b.blocks[0]||null;xe=(t==null?void 0:t.id)||null,Ct(b),Kt(t),$t(xe)},qt=e=>{if(!b)return;let t={...b,blocks:e};zn(t)},Xt=()=>window.matchMedia("(min-width: 1024px)").matches;function Gs(e,t){if(!b||!e||!t)return;let s=[...b.blocks||[]],n=s.findIndex(N=>N.id===e);if(n<0)return;let c=n+t;if(c<0||c>=s.length)return;let[x]=s.splice(n,1);s.splice(c,0,x),qt(s),Je(b.id,{preserveBlock:!0}),vt(x.id)}function io(e,t){if(!b||!e||!t||e===t)return;let s=[...b.blocks||[]],n=s.findIndex(N=>N.id===e),c=s.findIndex(N=>N.id===t);if(n<0||c<0)return;let[x]=s.splice(n,1);s.splice(c,0,x),qt(s),Je(b.id,{preserveBlock:!0}),vt(x.id)}function Dn(e,t,s){if(!b||!e||!t||e===t)return;let n=[...b.blocks||[]],c=n.findIndex(se=>se.id===e),x=n.findIndex(se=>se.id===t);if(c<0||x<0)return;let[N]=n.splice(c,1);c<x&&x--;let D=s==="before"?x:x+1;n.splice(D,0,N),qt(n),Je(b.id,{preserveBlock:!0}),vt(N.id)}function _s(){if(!a)return;let e=Xt();a.querySelectorAll("[data-block-item]").forEach(t=>{t.setAttribute("draggable",e?"true":"false")})}function Zt(){H&&(H.classList.add("hidden"),jt=!1)}function On(){H&&(H.classList.remove("hidden"),jt=!0)}function Rn(){jt?Zt():On()}function Un(e){var x;if(!b||!e)return;let t=Tn[e];if(!t)return;let s=(b.blocks||[]).filter(N=>N.type===t.type).length+1,n=bs(xs(b.id,e),`${t.label} ${s}`,t.type,t.status,t.description,t.props,t.settings||{});if((t.type||"").toLowerCase()==="collectiongrid"){let N=((x=et[0])==null?void 0:x.id)||"";n.collectionId=N,n.settings.collectionId=N,n.settings.limit=n.settings.limit||6}let c=[...b.blocks||[],n];qt(c),Je(b.id,{preserveBlock:!0}),vt(n.id),Zt(),j("Bloc ajout\xE9")}function Ys(e){var n,c;if(!b)return;let t=(b.blocks||[]).filter(x=>x.id!==e),s=e===xe?((n=t[0])==null?void 0:n.id)||null:xe||((c=t[0])==null?void 0:c.id)||null;qt(t),xe=s,Je(b.id,{preserveBlock:!0}),xe?vt(xe):(Kt(null),$t(null)),j("Bloc supprim\xE9")}function ws(){X&&(X.classList.add("hidden"),X.classList.remove("flex"),es=null)}function Hn(e){if(!X){Ys(e);return}es=e,X.classList.remove("hidden"),X.classList.add("flex")}let zn=e=>{if(!e)return;let t=Nt(e);ne=ne.map(s=>s.id===t.id?t:s),b=t,d(t)},Je=(e,t={})=>{var c,x;let s=ne.find(N=>N.id===e)||ne[0]||null;b=s?Nt(s):null,qe=(s==null?void 0:s.id)||null,(!t.preserveBlock||!b||!b.blocks.some(N=>N.id===xe))&&(xe=((x=(c=b==null?void 0:b.blocks)==null?void 0:c[0])==null?void 0:x.id)||null),qe&&Fn(qe),Et(ne,qe),$n(b),jn(b),wt(b),Ct(b),Kt(kt()),$t(xe),_s(),jt&&Zt()},Ls=()=>window.matchMedia("(min-width: 1024px)").matches,Ks=()=>{_e&&(Ls()?(_e.classList.add("is-open"),ke==null||ke.classList.add("hidden"),document.body.classList.remove("overflow-hidden")):_e.classList.remove("is-open"))},Vn=()=>{!_e||Ls()||(_e.classList.add("is-open"),ke==null||ke.classList.remove("hidden"),document.body.classList.add("overflow-hidden"))},Cs=()=>{_e&&(_e.classList.remove("is-open"),ke==null||ke.classList.add("hidden"),document.body.classList.remove("overflow-hidden"))},Jn=()=>{!Te||!Ye||(Te.classList.remove("hidden"),Ye.classList.add("hidden"),Fe&&(Fe.textContent=""),Qt=!1,je&&(je.value="",je.focus()),Ke&&(Ke.value=""))},Xs=()=>{!Te||!Ye||(Te.classList.add("hidden"),Ye.classList.remove("hidden"),Fe&&(Fe.textContent=""),Qt=!1,Te.reset())},Wn=()=>{!je||!Ke||Qt&&Ke.value.trim().length>0||(Ke.value=Ws(je.value))},ne=[],qe=null,Qt=!1,b=null,xe=null,jt=!1,es=null,Es="",ks=!1,Pt=null,et=[],Gn=e=>{let t={...e,props:Array.isArray(e.props)?e.props:[],settings:{...e.settings||{}}};return(t.type||"").toLowerCase()==="collectiongrid"&&(t.collectionId=t.collectionId||t.settings.collectionId||"",t.settings.collectionId=t.collectionId,t.settings.limit=t.settings.limit||6),t},Nt=e=>{var t,s;return{...e,blocks:(e.blocks||[]).map(n=>Gn(n)),seo:{title:(((t=e.seo)==null?void 0:t.title)||"").trim(),description:(((s=e.seo)==null?void 0:s.description)||"").trim()}}},_n=async()=>{if(!Vs){et=[],ts();return}try{let e=await fetch(Vs,{headers:{Accept:"application/json"}});if(!e.ok)throw new Error("Impossible de charger les collections.");let t=await e.json().catch(()=>[]);et=Array.isArray(t)?t:[];let s=(W==null?void 0:W.value)||"";ts(s)}catch(e){console.error("[design] collections load",e),j("Collections indisponibles."),et=[],ts()}},qs=e=>{if(!$e)return;if(!e){$e.textContent=et.length?"S\xE9lectionnez une collection pour afficher ses informations.":"Aucune collection disponible. Ajoutez-en depuis l\u2019onglet Contenus.";return}let t=et.find(n=>n.id===e);if(!t){$e.textContent=`Collection ${e}`;return}let s=[];t.description&&s.push(t.description),t.type&&s.push(`Type\xA0: ${t.type}`),$e.textContent=s.join(" \xB7 ")||`Collection ${t.name||t.id}`},ts=(e="")=>{if(W){if(W.innerHTML="",!et.length){W.disabled=!0;let t=document.createElement("option");t.value="",t.textContent="Aucune collection disponible",W.appendChild(t),qs("");return}if(W.disabled=!1,e&&!et.some(t=>t.id===e)){let t=document.createElement("option");t.value=e,t.textContent=e,W.appendChild(t)}et.forEach(t=>{let s=document.createElement("option");s.value=t.id;let n=t.name||t.id;s.textContent=t.type?`${n} \xB7 ${t.type}`:n,s.dataset.description=t.description||"",W.appendChild(s)}),e&&(W.value=e),qs(W.value||"")}};_n(),Ks(),Gt.forEach(e=>{e.addEventListener("click",Vn)}),_t.forEach(e=>{e.addEventListener("click",Cs)}),ke==null||ke.addEventListener("click",Cs),window.addEventListener("resize",()=>{Ks(),_s()}),Ye==null||Ye.addEventListener("click",Jn),us==null||us.addEventListener("click",Xs),je==null||je.addEventListener("input",Wn),Ke==null||Ke.addEventListener("input",()=>{Fe&&(Fe.textContent=""),Qt=!0}),Te==null||Te.addEventListener("submit",async e=>{if(e.preventDefault(),!He){Fe&&(Fe.textContent="Aucun site s\xE9lectionn\xE9.");return}if(!je||!Ke)return;let t=je.value.trim(),s=Ws(Ke.value.trim()||t);if(!t||!s){Fe&&(Fe.textContent="Titre et slug sont requis.");return}Fe&&(Fe.textContent=""),Lt&&(Lt.disabled=!0,Lt.textContent="Cr\xE9ation...");try{let n=await xt({title:t,slug:s});if(!n||!n.id)throw new Error("R\xE9ponse invalide.");ne=[...ne,Nt(n)],Xs(),j("Page cr\xE9\xE9e"),Je(n.id)}catch(n){console.error("[design] create page failed",n),Fe&&(Fe.textContent=n.message||"Impossible de cr\xE9er la page.")}finally{Lt&&(Lt.disabled=!1,Lt.textContent="Cr\xE9er")}});let As=()=>{Ne&&(Ne.value=""),Ze&&(Ze.classList.add("hidden"),Ze.textContent="")},Zs=()=>{if(!Ne)return null;let e=Ne.value.trim();if(!e)return Ze&&Ze.classList.add("hidden"),null;try{let t=JSON.parse(e);return Ze&&Ze.classList.add("hidden"),t}catch(t){return Ze&&(Ze.classList.remove("hidden"),Ze.textContent=`\u274C JSON invalide : ${t.message}`),null}},Yn=()=>{if(!Ne)return;let e=Ne.value.trim();if(e)try{let t=JSON.parse(e);Ne.value=JSON.stringify(t,null,2),Zs()}catch{}},Mt=()=>{if(Pe)if(yt==="upload")Pe.disabled=at.length===0;else if(yt==="paste"){let e=Zs();Pe.disabled=!e}else Pe.disabled=!0},Kn=()=>{Xe&&(Xe.classList.remove("hidden"),Xe.classList.add("flex"),at=[],yt="upload",Ts(),As(),Ie&&Ie.classList.add("hidden"),Be&&(Be.innerHTML=""),Mt(),gs.forEach(e=>{e.dataset.importTab==="upload"?(e.classList.add("bg-[#9C6BFF]","text-white"),e.classList.remove("border","border-slate-200","text-slate-700")):(e.classList.remove("bg-[#9C6BFF]","text-white"),e.classList.add("border","border-slate-200","text-slate-700"))}),Us.forEach(e=>{e.dataset.importPanel==="upload"?e.classList.remove("hidden"):e.classList.add("hidden")}))},Qs=()=>{Xe&&(Xe.classList.add("hidden"),Xe.classList.remove("flex"),at=[],As())},Ts=()=>{if(!(!fs||!Rs)){if(at.length===0){fs.classList.add("hidden"),Mt();return}fs.classList.remove("hidden"),Rs.innerHTML=at.map(e=>`<li class="flex items-center gap-2"><span class="text-lg">\u{1F4C4}</span>${e.name}</li>`).join(""),Mt()}},en=e=>{let t=Array.from(e).filter(s=>s.type==="application/json"||s.name.endsWith(".json"));if(t.length===0){j("Aucun fichier JSON valide.");return}at=t,Ts()},Xn=async()=>{var s,n,c,x,N,D,se,pe,he,lt,At;if(!He)return;let e=[];if(console.log("[import] activeImportTab:",yt),yt==="paste"){let me=(s=Ne==null?void 0:Ne.value)==null?void 0:s.trim();if(console.log("[import] paste text length:",me==null?void 0:me.length),!me){j("Aucun JSON \xE0 importer."),Ie&&Be&&(Ie.classList.remove("hidden"),Be.innerHTML='<p class="text-amber-600">\u26A0 Le champ de texte est vide.</p>');return}try{let q=JSON.parse(me);console.log("[import] parsed JSON:",q),console.log("[import] parsed type:",typeof q,Array.isArray(q)?"array":"not array"),q&&!Array.isArray(q)&&q.pages?(console.log("[import] detected pages+collections format"),e=q):Array.isArray(q)?e.push(...q):e.push(q),console.log("[import] pagesData prepared:",e)}catch(q){let Se=q.message.match(/position (\d+)/),ie=q.message;if(Se){let ee=parseInt(Se[1],10),Ae=me.substring(0,ee).split(`
`),Me=Ae.length,we=Ae[Ae.length-1].length+1;ie=`Ligne ${Me}, colonne ${we}: ${q.message}`}j(`Erreur JSON : ${ie}`,"error"),console.error("[import] paste parse error",q),Ie&&Be&&(Ie.classList.remove("hidden"),Be.innerHTML=`
              <div class="text-rose-600">
                <p class="font-medium">\u2717 Erreur de syntaxe JSON</p>
                <p class="text-xs mt-1">${ie}</p>
                <p class="text-xs mt-2 text-slate-500">V\xE9rifiez les virgules, guillemets et accolades.</p>
              </div>
            `);return}}else if(yt==="upload"){if(at.length===0)return;let me=[];for(let q of at){let Se=await q.text();try{let ie=JSON.parse(Se);Array.isArray(ie)?e.push(...ie):e.push(ie)}catch(ie){let ee=ie.message.match(/position (\d+)/),Ae=ie.message;if(ee){let Me=parseInt(ee[1],10);Ae=`Ligne ${Se.substring(0,Me).split(`
`).length}: ${ie.message}`}me.push({file:q.name,error:Ae}),console.error("[import] parse error",q.name,ie)}}if(me.length>0){if(Ie&&Be){Ie.classList.remove("hidden");let q='<div class="text-rose-600"><p class="font-medium">\u2717 Erreurs de syntaxe JSON</p><ul class="ml-4 text-xs mt-1">';me.forEach(Se=>{q+=`<li><strong>${Se.file}</strong>: ${Se.error}</li>`}),q+="</ul></div>",e.length>0&&(q+=`<p class="text-amber-600 mt-2 text-sm">\u26A0 ${e.length} page(s) valide(s) seront import\xE9e(s)</p>`),Be.innerHTML=q}if(e.length===0){j("Tous les fichiers contiennent des erreurs JSON","error");return}}}else return;let t=Array.isArray(e)?e.length>0:e&&(((n=e.pages)==null?void 0:n.length)>0||e.title);if(console.log("[import] hasData check:",t,"pagesData:",e),!t){j("Aucune page valide \xE0 importer."),Ie&&Be&&(Ie.classList.remove("hidden"),Be.innerHTML=`
            <div class="text-amber-600">
              <p class="font-medium">\u26A0 Aucune page d\xE9tect\xE9e</p>
              <p class="text-xs mt-1">Le JSON doit contenir :</p>
              <ul class="text-xs ml-4 mt-1 list-disc">
                <li>Un objet page avec "title" : <code>{"title": "Ma page", ...}</code></li>
                <li>Un tableau de pages : <code>[{"title": "Page 1"}, {"title": "Page 2"}]</code></li>
                <li>Ou un objet combin\xE9 : <code>{"pages": [...], "collections": {...}}</code></li>
              </ul>
            </div>
          `);return}Pe&&(Pe.disabled=!0,Pe.textContent="Import..."),console.log("[import] Sending to server:",JSON.stringify(e).substring(0,500));try{let me=await fetch(`${He}/import`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)});console.log("[import] Server response status:",me.status);let q=await me.json();if(console.log("[import] Server response body:",q),!me.ok)throw Ie&&Be&&(Ie.classList.remove("hidden"),Be.innerHTML=`
              <div class="text-rose-600">
                <p class="font-medium">\u2717 Erreur serveur</p>
                <p class="text-xs mt-1">${q.message||"Erreur inconnue"}</p>
                ${q.details?`<p class="text-xs mt-1 text-slate-500">${q.details}</p>`:""}
              </div>
            `),new Error(q.message||"Erreur serveur");if(Ie&&Be){Ie.classList.remove("hidden");let ee="",Ae=((c=q.imported)==null?void 0:c.length)>0||((x=q.collectionsCreated)==null?void 0:x.length)>0,Me=((N=q.errors)==null?void 0:N.length)>0;Ae&&!Me?ee+='<div class="bg-green-50 border border-green-200 rounded-lg p-3 mb-2"><p class="text-green-800 font-medium">\u2713 Import r\xE9ussi</p></div>':Ae&&Me?ee+='<div class="bg-amber-50 border border-amber-200 rounded-lg p-3 mb-2"><p class="text-amber-800 font-medium">\u26A0 Import partiel</p></div>':Me&&(ee+='<div class="bg-rose-50 border border-rose-200 rounded-lg p-3 mb-2"><p class="text-rose-800 font-medium">\u2717 Import \xE9chou\xE9</p></div>'),q.collectionsCreated&&q.collectionsCreated.length>0&&(ee+=`<p class="text-violet-700 mt-2">\u2713 ${q.collectionsCreated.length} collection(s) cr\xE9\xE9e(s)</p>`,ee+='<ul class="ml-4 text-xs text-slate-600">',q.collectionsCreated.forEach(we=>{ee+=`<li>${we.name} (${we.itemsCount} item${we.itemsCount>1?"s":""})</li>`}),ee+="</ul>"),q.imported&&q.imported.length>0&&(ee+=`<p class="text-green-700 mt-2">\u2713 ${q.imported.length} page(s) import\xE9e(s)</p>`,ee+='<ul class="ml-4 text-xs text-slate-600">',q.imported.forEach(we=>{ee+=`<li><strong>${we.title}</strong> \u2192 ${we.slug} (${we.action==="updated"?"mise \xE0 jour":"cr\xE9\xE9e"})</li>`}),ee+="</ul>"),q.errors&&q.errors.length>0&&(ee+=`<p class="text-rose-600 mt-3 font-medium">\u2717 ${q.errors.length} erreur(s)</p>`,ee+='<ul class="ml-4 text-xs text-rose-600 space-y-1 mt-1">',q.errors.forEach(we=>{ee+=`<li class="bg-rose-50 p-2 rounded"><strong>${we.title}</strong><br/><span class="text-rose-500">${we.error}</span></li>`}),ee+="</ul>"),Be.innerHTML=ee}let Se=((D=q.imported)==null?void 0:D.length)>0||((se=q.collectionsCreated)==null?void 0:se.length)>0,ie=((pe=q.errors)==null?void 0:pe.length)>0;if(q.imported&&q.imported.length>0&&(ne=await gt(),Et(ne,qe),ne.length>0&&!qe&&Je(ne[0].id)),Se&&!ie){let ee=(he=q.collectionsCreated)!=null&&he.length?` + ${q.collectionsCreated.length} collection(s)`:"";j(`\u2713 Import r\xE9ussi : ${((lt=q.imported)==null?void 0:lt.length)||0} page(s)${ee}`,"success")}else Se&&ie?j(`\u26A0 Import partiel : ${((At=q.imported)==null?void 0:At.length)||0} page(s), ${q.errors.length} erreur(s)`,"warning"):ie&&j(`\u2717 Import \xE9chou\xE9 : ${q.errors.length} erreur(s)`,"error");at=[],Ts(),As()}catch(me){console.error("[import] failed",me),j(me.message||"Erreur import","error")}finally{Pe&&(Pe.disabled=!1,Pe.textContent="Importer")}};ms==null||ms.addEventListener("click",Kn),kn.forEach(e=>e.addEventListener("click",Qs)),Xe==null||Xe.addEventListener("click",e=>{e.target===Xe&&Qs()}),ps==null||ps.addEventListener("change",e=>{en(e.target.files)}),Ue==null||Ue.addEventListener("dragover",e=>{e.preventDefault(),Ue.classList.add("border-[#9C6BFF]","bg-[#9C6BFF]/10")}),Ue==null||Ue.addEventListener("dragleave",e=>{e.preventDefault(),Ue.classList.remove("border-[#9C6BFF]","bg-[#9C6BFF]/10")}),Ue==null||Ue.addEventListener("drop",e=>{e.preventDefault(),Ue.classList.remove("border-[#9C6BFF]","bg-[#9C6BFF]/10"),en(e.dataTransfer.files)}),Pe==null||Pe.addEventListener("click",Xn),Ne==null||Ne.addEventListener("input",()=>{Mt()}),ys==null||ys.addEventListener("click",Yn),gs.forEach(e=>{e.addEventListener("click",()=>{let t=e.dataset.importTab;yt=t,gs.forEach(s=>{s.dataset.importTab===t?(s.classList.add("bg-[#9C6BFF]","text-white"),s.classList.remove("border","border-slate-200","text-slate-700")):(s.classList.remove("bg-[#9C6BFF]","text-white"),s.classList.add("border","border-slate-200","text-slate-700"))}),Us.forEach(s=>{s.dataset.importPanel===t?s.classList.remove("hidden"):s.classList.add("hidden")}),Mt()})}),hs==null||hs.addEventListener("click",async()=>{if(!Hs)return;let e=Hs.textContent||"";try{await navigator.clipboard.writeText(e),j("Template copi\xE9 !")}catch(t){console.error("[import] copy failed",t),j("Erreur copie")}}),vs==null||vs.addEventListener("click",Ss),it==null||it.addEventListener("click",Mn),Qe==null||Qe.addEventListener("click",e=>{e.target===Qe&&Ss()}),Q==null||Q.addEventListener("click",e=>{e.stopPropagation(),Rn()}),document.addEventListener("click",e=>{jt&&(H!=null&&H.contains(e.target)||Q!=null&&Q.contains(e.target)||Zt())}),Y.forEach(e=>{e.addEventListener("click",t=>{t.stopPropagation();let s=e.dataset.blockAdd;Un(s)})}),R==null||R.addEventListener("click",()=>{ws()}),J==null||J.addEventListener("click",()=>{es&&Ys(es),ws()}),X==null||X.addEventListener("click",e=>{e.target===X&&ws()}),m==null||m.addEventListener("input",e=>{var n,c,x,N;let t=e.target;if(!t||!t.name)return;if(t.name==="group-columns-mobile"||t.name==="group-columns-desktop"){let D=((n=m.querySelector('[name="group-columns-mobile"]'))==null?void 0:n.value)||"1",se=((c=m.querySelector('[name="group-columns-desktop"]'))==null?void 0:c.value)||"3";ft(D,se)}if(t.name==="collection-columns-mobile"||t.name==="collection-columns-desktop"){let D=((x=m.querySelector('[name="collection-columns-mobile"]'))==null?void 0:x.value)||"1",se=((N=m.querySelector('[name="collection-columns-desktop"]'))==null?void 0:N.value)||"3";ot(D,se)}let s=t.closest("[data-block-panel]");if(s&&s.dataset.blockPanel==="appearance"){let D=kt(),se=U(D);if(D&&se){let pe=rt(se);ut(D.id,pe)}}}),m==null||m.addEventListener("change",e=>{let t=e.target;if(!t||!t.name)return;let s=t.closest("[data-block-panel]");if(s&&s.dataset.blockPanel==="appearance"){let n=kt(),c=U(n);if(n&&c){let x=rt(c);ut(n.id,x)}}}),W==null||W.addEventListener("change",e=>{let t=e.target;qs((t==null?void 0:t.value)||"")}),m==null||m.addEventListener("submit",Wt),ce==null||ce.addEventListener("click",e=>{e.preventDefault();let t=kt();t&&dt(t)}),I==null||I.addEventListener("load",()=>{ks=!0,Ge("\xC0 jour"),$t(xe)}),C==null||C.addEventListener("click",()=>{let e=window.open("","_blank");if(!e)return;e.opener=null;let t=e.document;t.open(),t.write(Es||r()),t.close()});let tn=e=>{var t,s,n;F&&(e?(F.classList.remove("hidden"),b&&(S&&(S.value=((t=b.seo)==null?void 0:t.title)||""),f&&(f.value=((s=b.seo)==null?void 0:s.description)||""),l&&(l.checked=((n=b.seo)==null?void 0:n.indexed)!==!1))):F.classList.add("hidden"))},ss=(e,t="muted")=>{if(!E)return;let s=t==="success"?"text-emerald-600":t==="error"?"text-rose-600":"text-slate-500";E.textContent=e||"",E.className=`text-sm ${s}`};M==null||M.addEventListener("click",()=>{let e=F&&!F.classList.contains("hidden");tn(!e)}),A==null||A.addEventListener("click",()=>tn(!1)),g==null||g.addEventListener("submit",async e=>{var t;if(e.preventDefault(),!b){ss("Aucune page active.","error");return}$&&($.disabled=!0),ss("");try{let s={title:((S==null?void 0:S.value)||"").trim(),description:((f==null?void 0:f.value)||"").trim(),indexed:(t=l==null?void 0:l.checked)!=null?t:!0},n={...b,seo:s},c=await d(n);c&&(b=c,ss("SEO enregistr\xE9.","success"),j("SEO mis \xE0 jour"),wt(b))}catch(s){console.error("[seo] save failed",s),ss(s.message||"Erreur lors de la sauvegarde.","error")}finally{$&&($.disabled=!1)}});let Zn=e=>{let t=e.target.closest("[data-block-item]");if(!t||!Xt()){e.preventDefault();return}if(tt=t.dataset.blockId||null,!tt){e.preventDefault();return}e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/plain",tt),requestAnimationFrame(()=>{t.classList.add("opacity-50","scale-[0.98]","shadow-lg","ring-2","ring-[#9C6BFF]")})},sn=()=>{a==null||a.querySelectorAll("[data-block-item]").forEach(e=>{e.classList.remove("opacity-50","scale-[0.98]","shadow-lg","ring-2","ring-[#9C6BFF]","border-t-4","border-b-4","border-t-[#9C6BFF]","border-b-[#9C6BFF]","pt-6","pb-6")})},Qn=()=>{tt=null,sn()},eo=e=>{if(!tt||!Xt())return;let t=e.target.closest("[data-block-item]");if(!t||t.dataset.blockId===tt)return;e.preventDefault(),e.dataTransfer.dropEffect="move";let s=t.getBoundingClientRect(),n=s.top+s.height/2,c=e.clientY<n;a==null||a.querySelectorAll("[data-block-item]").forEach(x=>{x!==t&&x.dataset.blockId!==tt&&x.classList.remove("border-t-4","border-b-4","border-t-[#9C6BFF]","border-b-[#9C6BFF]","pt-6","pb-6")}),t.classList.remove("border-t-4","border-b-4","border-t-[#9C6BFF]","border-b-[#9C6BFF]","pt-6","pb-6"),c?t.classList.add("border-t-4","border-t-[#9C6BFF]","pt-6"):t.classList.add("border-b-4","border-b-[#9C6BFF]","pb-6"),t.dataset.dropPosition=c?"before":"after"},to=e=>{let t=e.target.closest("[data-block-item]");if(!t)return;let s=e.relatedTarget;s&&t.contains(s)||(t.classList.remove("border-t-4","border-b-4","border-t-[#9C6BFF]","border-b-[#9C6BFF]","pt-6","pb-6"),delete t.dataset.dropPosition)},so=e=>{if(!tt||!Xt())return;e.preventDefault();let t=e.target.closest("[data-block-item]"),s=tt,n=(t==null?void 0:t.dataset.dropPosition)||"after";tt=null,sn();let c=(t==null?void 0:t.dataset.blockId)||null;!c||s===c||Dn(s,c,n)},tt=null;a==null||a.addEventListener("dragstart",Zn),a==null||a.addEventListener("dragend",Qn),a==null||a.addEventListener("dragover",eo),a==null||a.addEventListener("dragleave",to),a==null||a.addEventListener("drop",so),L()}function wn(){var rt,Ge,Jt;let o=document.querySelector("[data-collection-list]");if(!o)return;let p=document.querySelector("[data-collection-empty]"),v=document.querySelector("[data-collection-items-empty]"),T=document.querySelector("[data-item-table-wrapper]"),I=document.querySelector("[data-item-table-body]"),C=document.querySelector("[data-collection-title]"),_=document.querySelector("[data-collection-description]"),G=document.querySelector("[data-collection-drawer]"),M=document.querySelector("[data-collection-drawer-backdrop]"),F=document.querySelectorAll("[data-collection-drawer-open]"),A=document.querySelectorAll("[data-collection-drawer-close]"),g=document.querySelector("[data-item-add]"),S=document.querySelector("[data-item-detail-empty]"),f=document.querySelector("[data-item-form]"),l=f?{title:f.querySelector('[name="item-title"]'),slug:f.querySelector('[name="item-slug"]'),excerpt:f.querySelector('[name="item-excerpt"]'),content:f.querySelector('[name="item-content"]'),image:f.querySelector('[name="item-image"]'),ctaText:f.querySelector('[name="item-cta-text"]'),ctaUrl:f.querySelector('[name="item-cta-url"]'),status:f.querySelector('[name="item-status"]')}:{},E=document.querySelector("[data-item-status-badge]"),$=document.querySelector("[data-item-delete]"),a=document.querySelector("[data-item-delete-modal]"),k=document.querySelector("[data-item-delete-cancel]"),B=document.querySelector("[data-item-delete-confirm]"),Q=document.querySelector("[data-item-cancel]"),H=document.querySelector("[data-item-save]"),Y="rounded-full px-3 py-1 text-xs font-semibold",X=Oe((V==null?void 0:V.slugValue)||te.slug||""),J=X?`/api/sites/${encodeURIComponent(X)}/collections`:null,R=[],O=[],z=null,h=null,i=!1,u=!1,w=null,m=()=>{G&&(G.classList.add("is-open"),G.style.transform="translateX(0)",M==null||M.classList.remove("hidden"),document.body.classList.add("overflow-hidden"))},oe=()=>{G&&(G.classList.remove("is-open"),G.style.transform="",M==null||M.classList.add("hidden"),document.body.classList.remove("overflow-hidden"))};F.forEach(r=>{r.addEventListener("click",m)}),A.forEach(r=>{r.addEventListener("click",oe)}),M==null||M.addEventListener("click",oe);let ae=r=>{let y=(r||"").trim();if(!y)return"";if(y==="/")return"/";let Z=y.replace(/^\//,"").split("/").map(ge=>mt(ge||"")).filter(ge=>ge.length>0);return Z.length?`/${Z.join("/")}`:""},de=r=>{if(!r)return"\u2014";let y=new Date(r);return Number.isNaN(y.getTime())?"\u2014":y.toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric"})},re=()=>{let r=R.find(y=>y.id===z);C&&(C.textContent=(r==null?void 0:r.name)||"S\xE9lectionnez une collection"),_&&(_.textContent=(r==null?void 0:r.description)||"")},Ee=r=>{v&&(v.textContent=r||(z?"Aucun item dans cette collection pour le moment.":"Choisissez une collection dans le panneau de gauche."))},ue=()=>{f&&(f.classList.add("hidden"),f.dataset.itemId=""),S==null||S.classList.remove("hidden"),E&&(E.className=`hidden ${Y}`,E.textContent=""),$&&($.disabled=!0)},W=()=>{f&&(f.classList.remove("hidden"),S==null||S.classList.add("hidden"))},$e=()=>{g&&(g.disabled=!z,g.disabled?g.classList.add("opacity-60","pointer-events-none"):g.classList.remove("opacity-60","pointer-events-none"))},ce=r=>{if(!E)return;if(!r){E.className=`hidden ${Y}`,E.textContent="";return}let y=r.toLowerCase(),P="bg-slate-100 text-slate-600 border border-slate-200";y==="publi\xE9"||y==="publie"?P="bg-emerald-50 text-emerald-700 border border-emerald-100":y==="brouillon"&&(P="bg-amber-50 text-amber-700 border border-amber-100"),E.className=`${Y} ${P}`,E.textContent=r},We=()=>{if(o.innerHTML="",!R.length){p==null||p.classList.remove("hidden");return}p==null||p.classList.add("hidden"),R.forEach(r=>{let y=r.id===z,P=document.createElement("button");P.type="button",P.dataset.collectionId=r.id,P.className=["w-full rounded-xl border px-3 py-2 text-left transition focus:outline-none focus:ring-2 focus:ring-[#9C6BFF]/40",y?"bg-[#F7F0FF] border-[#9C6BFF]/40 text-slate-900":"border-slate-200 text-slate-700 hover:border-[#9C6BFF]/40"].join(" "),P.setAttribute("role","option"),y?P.setAttribute("aria-current","true"):P.removeAttribute("aria-current"),P.innerHTML=`
          <div class="flex items-center justify-between gap-2">
            <div>
              <p class="text-sm font-semibold">${r.name||r.id}</p>
              <p class="text-xs text-slate-500">${r.description||""}</p>
            </div>
            <span class="text-[11px] uppercase tracking-wide text-slate-400">${r.type||""}</span>
          </div>
        `,P.addEventListener("click",()=>{gt(r.id),window.matchMedia("(min-width: 1024px)").matches||oe()}),o.appendChild(P)})},fe=()=>{if(I){if(I.innerHTML="",!O.length||!z){v==null||v.classList.remove("hidden"),Ee(),T==null||T.classList.add("hidden");return}v==null||v.classList.add("hidden"),T==null||T.classList.remove("hidden"),O.forEach(r=>{let y=document.createElement("tr");y.dataset.itemId=r.id;let P=r.id===h&&!i;y.className=["cursor-pointer transition focus-within:bg-[#F7F0FF]/70 focus:outline-none",P?"bg-[#F7F0FF]/70":"hover:bg-slate-50"].join(" "),y.tabIndex=0,y.setAttribute("role","button"),P?y.setAttribute("aria-current","true"):y.removeAttribute("aria-current");let Z=r.status||"Brouillon",ge=Z.toLowerCase(),St=ge==="publi\xE9"||ge==="publie"?"bg-emerald-50 text-emerald-700 border border-emerald-100":"bg-amber-50 text-amber-700 border border-amber-100";y.innerHTML=`
          <td class="px-4 py-3 align-top">
            <div class="flex flex-col">
              <span class="text-sm font-semibold text-slate-900">${r.title||"Sans titre"}</span>
              <span class="text-xs text-slate-500">${r.summary||r.excerpt||""}</span>
            </div>
          </td>
          <td class="px-4 py-3 align-top text-sm text-slate-600">${r.slug||""}</td>
          <td class="px-4 py-3 align-top">
            <span class="inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold ${St}">
              ${Z}
            </span>
          </td>
          <td class="px-4 py-3 align-top text-sm text-slate-500">${de(r.updatedAt||r.createdAt)}</td>
        `;let ht=()=>{Ve(r.id)};y.addEventListener("click",ht),y.addEventListener("keydown",ut=>{(ut.key==="Enter"||ut.key===" ")&&(ut.preventDefault(),ht())}),I.appendChild(y)})}},Ve=r=>{let y=O.find(P=>P.id===r);y&&(h=y.id,i=!1,u=!0,Re(y),fe())},Re=r=>{var y,P;if(!f||!r){ue();return}W(),f.dataset.itemId=r.id,l.title&&(l.title.value=r.title||""),l.slug&&(l.slug.value=r.slug||""),l.excerpt&&(l.excerpt.value=r.summary||r.excerpt||""),l.content&&(l.content.value=r.content||""),l.image&&(l.image.value=r.image||""),l.ctaText&&(l.ctaText.value=((y=r.cta)==null?void 0:y.text)||r.ctaText||""),l.ctaUrl&&(l.ctaUrl.value=((P=r.cta)==null?void 0:P.url)||r.ctaUrl||""),l.status&&(l.status.value=r.status||"Brouillon"),ce(r.status||"Brouillon"),$&&($.disabled=!1)},nt=()=>{var r;f&&(i=!0,h=null,u=!1,f.dataset.itemId="",f.reset(),l.status&&(l.status.value="Brouillon"),l.slug&&(l.slug.value=""),ce("Brouillon"),W(),$&&($.disabled=!0),(r=l.title)==null||r.focus())},pt=()=>{var Wt,_e,ke,Gt,_t,Ye,Te,je;let r=(((Wt=l.title)==null?void 0:Wt.value)||"").trim(),y=(((_e=l.slug)==null?void 0:_e.value)||"").trim(),P=(((ke=l.excerpt)==null?void 0:ke.value)||"").trim(),Z=(((Gt=l.content)==null?void 0:Gt.value)||"").trim(),ge=(((_t=l.image)==null?void 0:_t.value)||"").trim(),St=(((Ye=l.ctaText)==null?void 0:Ye.value)||"").trim(),ht=(((Te=l.ctaUrl)==null?void 0:Te.value)||"").trim(),ut=((je=l.status)==null?void 0:je.value)||"Brouillon",wt=St||ht?{text:St,url:ht}:null;return{title:r,slug:ae(y||r),summary:P,excerpt:P,content:Z,image:ge,status:ut,...wt&&{cta:wt}}},ft=r=>{H&&(H.disabled=r,H.textContent=r?"Enregistrement\u2026":"Enregistrer"),$&&!i&&h&&($.disabled=r)},ot=async r=>{if(!J)return[];let y=await fetch(`${J}/${encodeURIComponent(r)}/items`,{headers:{Accept:"application/json"}});if(!y.ok){let Z=await y.json().catch(()=>({}));throw new Error(Z.message||"Impossible de charger les items.")}let P=await y.json().catch(()=>({}));return Array.isArray(P.items)?P.items:[]},gt=async r=>{if(r&&(z=r,h=null,i=!1,u=!1,re(),$e(),We(),ue(),O=[],fe(),Ee("Chargement des items\u2026"),v==null||v.classList.remove("hidden"),T==null||T.classList.add("hidden"),!!J))try{O=await ot(r),fe(),O.length||Ee()}catch(y){console.error("[content] items failed",y),j(y.message||"Impossible de charger les items."),O=[],fe()}},xt=async(r,y)=>{if(!J)throw new Error("Site inconnu.");let P=await fetch(`${J}/${encodeURIComponent(r)}/items`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)});if(!P.ok){let Z=await P.json().catch(()=>({}));throw new Error(Z.message||"Impossible de cr\xE9er cet item.")}return P.json()},d=async(r,y,P)=>{if(!J)throw new Error("Site inconnu.");let Z=await fetch(`${J}/${encodeURIComponent(r)}/items/${encodeURIComponent(y)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(P)});if(!Z.ok){let ge=await Z.json().catch(()=>({}));throw new Error(ge.message||"Impossible de sauvegarder cet item.")}return Z.json()},L=async(r,y)=>{if(!J)throw new Error("Site inconnu.");let P=await fetch(`${J}/${encodeURIComponent(r)}/items/${encodeURIComponent(y)}`,{method:"DELETE"});if(!P.ok){let Z=await P.json().catch(()=>({}));throw new Error(Z.message||"Impossible de supprimer cet item.")}},K=async()=>{var r;if(!J){p==null||p.classList.remove("hidden"),z=null,O=[],fe(),re(),$e();return}try{let y=await fetch(J,{headers:{Accept:"application/json"}});if(!y.ok)throw new Error("Impossible de charger les collections.");let P=await y.json().catch(()=>[]);if(R=Array.isArray(P)?P:[],We(),R.length>0){let Z=((r=R.find(ge=>ge.id===z))==null?void 0:r.id)||R[0].id;gt(Z)}else z=null,O=[],re(),$e(),fe()}catch(y){console.error("[content] load collections",y),j(y.message||"Impossible de charger les collections.")}};g==null||g.addEventListener("click",()=>{if(!z){j("S\xE9lectionnez d\u2019abord une collection.");return}nt(),fe()}),Q==null||Q.addEventListener("click",r=>{if(r.preventDefault(),i){i=!1,h=null,ue(),fe();return}if(h){let y=O.find(P=>P.id===h);Re(y)}else ue()}),(rt=l.status)==null||rt.addEventListener("change",()=>{ce(l.status.value)}),(Ge=l.title)==null||Ge.addEventListener("input",()=>{!i||!l.slug||u||(l.slug.value=ae(l.title.value))}),(Jt=l.slug)==null||Jt.addEventListener("input",()=>{i&&(u=!0)}),f==null||f.addEventListener("submit",async r=>{var P;if(r.preventDefault(),!z){j("S\xE9lectionnez une collection.");return}let y=pt();if(!y.title){j("Le titre est requis."),(P=l.title)==null||P.focus();return}ft(!0);try{let Z;i||!h?(Z=await xt(z,y),O=[...O,Z],j("Item cr\xE9\xE9")):(Z=await d(z,h,y),O=O.map(ge=>ge.id===Z.id?Z:ge),j("Item mis \xE0 jour")),i=!1,h=Z.id,Re(Z),fe()}catch(Z){console.error("[content] save item failed",Z),j(Z.message||"Impossible de sauvegarder cet item.")}finally{ft(!1)}});let U=()=>{a&&(a.classList.add("hidden"),a.classList.remove("flex"),w=null)},dt=()=>{!a||!h||(w=h,a.classList.remove("hidden"),a.classList.add("flex"))};$==null||$.addEventListener("click",r=>{r.preventDefault(),h&&dt()}),k==null||k.addEventListener("click",()=>{U()}),a==null||a.addEventListener("click",r=>{r.target===a&&U()}),B==null||B.addEventListener("click",async()=>{if(!w||!z){U();return}B.disabled=!0,B.textContent="Suppression\u2026";try{await L(z,w),O=O.filter(r=>r.id!==w),h===w&&(h=null,ue()),j("Item supprim\xE9"),fe()}catch(r){console.error("[content] delete item failed",r),j(r.message||"Impossible de supprimer cet item.")}finally{B.disabled=!1,B.textContent="Supprimer",U()}}),re(),$e(),K()}function Ln(){let o=document.querySelector("[data-deploy-form]");if(!o)return;let p=document.querySelector("[data-deploy-protocol]"),v=document.querySelector("[data-deploy-host]"),T=document.querySelector("[data-deploy-port]"),I=document.querySelector("[data-deploy-user]"),C=document.querySelector("[data-deploy-password]"),_=document.querySelector("[data-deploy-show-password]"),G=document.querySelector("[data-deploy-remote-path]"),M=document.querySelector("[data-deploy-feedback]"),F=document.querySelector("[data-deploy-save]"),A=document.querySelector("[data-deploy-test]"),g=document.querySelector("[data-deploy-trigger]"),S=document.querySelector("[data-deploy-history]"),f=document.querySelector("[data-deploy-log]"),l=Oe((V==null?void 0:V.slugValue)||te.slug||""),E=l?`/api/sites/${encodeURIComponent(l)}/deploy-config`:null,$=l?`/api/sites/${encodeURIComponent(l)}/deploy`:null,a=l?`/api/sites/${encodeURIComponent(l)}/deploy-log`:null,k=!1,B=null,Q=i=>{let u=(i||"").trim();return u?u.startsWith("/")?u:`/${u}`:"/www"},H=(i,u="muted")=>{if(!M)return;let w="inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold",m=u==="success"?"bg-emerald-50 text-emerald-700 border border-emerald-100":u==="error"?"bg-rose-50 text-rose-700 border border-rose-100":"bg-slate-50 text-slate-600 border border-slate-100";if(!i){M.textContent="",M.className="text-sm text-slate-500";return}let oe=u==="success"?"\u2705":u==="error"?"\u274C":"\u2139\uFE0F";M.innerHTML=`<span class="${w} ${m}">${oe}<span>${i}</span></span>`,M.className="text-sm"},Y=(i=null)=>{B=i;let u=!!i,w='<svg class="h-4 w-4 animate-spin text-white" viewBox="0 0 24 24" fill="none" aria-hidden="true"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"></path></svg>';F&&(F.disabled=u,F.innerHTML=i==="save"?`<span class="inline-flex items-center gap-2">${w}<span>Enregistrement\u2026</span></span>`:"Enregistrer"),A&&(A.disabled=u,A.innerHTML=i==="test"?'<span class="inline-flex items-center gap-2"><span class="h-4 w-4 animate-spin rounded-full border-2 border-slate-200 border-t-slate-600"></span><span>Test en cours\u2026</span></span>':"Tester la connexion"),g&&(g.disabled=u&&i!==null,g.innerHTML=i==="deploy"?'<span class="inline-flex items-center gap-2"><span class="h-4 w-4 animate-spin rounded-full border-2 border-white/60 border-t-white"></span><span>D\xE9ploiement\u2026</span></span>':"D\xE9ployer maintenant")},X=i=>{p&&(p.value=i.protocol||"sftp"),v&&(v.value=i.host||""),T&&(T.value=i.port||""),I&&(I.value=i.user||""),G&&(G.value=i.remotePath||"/www"),k=!!i.hasPassword,C&&(C.value="",C.placeholder=k?"Non affich\xE9":"Mot de passe")},J=(i=[])=>{if(S){if(S.innerHTML="",!i.length){let u=document.createElement("li");u.className="text-slate-500",u.textContent="Aucun d\xE9ploiement pour le moment.",S.appendChild(u);return}i.forEach(u=>{let w=document.createElement("li");w.className="flex items-center justify-between gap-2 rounded-xl border border-slate-200 px-3 py-2";let m=u.status==="success"?'<span class="rounded-full bg-emerald-50 px-2 py-0.5 text-[11px] font-semibold text-emerald-700">Succ\xE8s</span>':'<span class="rounded-full bg-rose-50 px-2 py-0.5 text-[11px] font-semibold text-rose-700">\xC9chec</span>',oe=u.finishedAt||u.startedAt||"",ae=u.durationMs&&Number(u.durationMs)>=0?`${Math.round(Number(u.durationMs)/1e3)}s`:"";w.innerHTML=`
          <div class="space-y-1">
            <div class="flex items-center gap-2">${m}<span class="text-xs text-slate-500">${oe}</span></div>
            <p class="text-sm text-slate-800">${u.message||""}</p>
          </div>
          <div class="text-xs text-slate-500">${ae}</div>
        `,w.dataset.deployId=u.id||"",w.addEventListener("click",()=>{u.logs&&f&&(f.textContent=u.logs.join(`
`))}),S.appendChild(w)})}},R=(i=[])=>{f&&(f.textContent=i.length?i.join(`
`):"Aucun log pour le moment.")},O=async()=>{var i;if(a)try{let u=await fetch(a,{headers:{Accept:"application/json"}});if(!u.ok){if(u.status===404){J([]),R(["API d\xE9ploiement indisponible (red\xE9marre le serveur)."]);return}throw new Error("Impossible de charger l\u2019historique.")}let w=await u.json().catch(()=>({})),m=Array.isArray(w.entries)?w.entries:[];J(m),(i=m[0])!=null&&i.logs&&R(m[0].logs)}catch(u){console.error("[deploy] history failed",u)}},z=async()=>{if(!E){H("Aucun site actif s\xE9lectionn\xE9.","error");return}Y("load");try{let i=await fetch(E,{headers:{Accept:"application/json"}}),u=await i.json().catch(()=>({}));i.ok?(X(u||{}),H("Configuration charg\xE9e.","muted")):(X(u||{}),H(u.message||"Configuration par d\xE9faut charg\xE9e.","muted"))}catch(i){console.error("[deploy] load failed",i),H(i.message||"Erreur lors du chargement.","error")}finally{Y(null)}},h=()=>{let i={protocol:(p==null?void 0:p.value)||"sftp",host:(v==null?void 0:v.value.trim())||"",port:Number(T==null?void 0:T.value)||void 0,user:(I==null?void 0:I.value.trim())||"",remotePath:Q((G==null?void 0:G.value)||"/www")},u=(C==null?void 0:C.value)||"";return u.trim().length>0&&(i.password=u),i};o.addEventListener("submit",async i=>{if(i.preventDefault(),!E){H("Aucun site actif s\xE9lectionn\xE9.","error");return}let u=h();Y("save");try{let w=await fetch(E,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)});if(!w.ok){let oe=await w.json().catch(()=>({}));throw new Error(oe.message||"Sauvegarde impossible.")}let m=await w.json();X(m||{}),H("Configuration enregistr\xE9e.","success"),j("Configuration d\xE9ploiement sauvegard\xE9e")}catch(w){console.error("[deploy] save failed",w),H(w.message||"Erreur lors de la sauvegarde.","error")}finally{Y(null)}}),A==null||A.addEventListener("click",async()=>{if(!E){H("Aucun site actif s\xE9lectionn\xE9.","error");return}let i=h();if(!i.host||!i.user||!i.remotePath){H("Remplissez les champs requis avant de tester.","error");return}Y("test");try{let u=await fetch(`${E}/test`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}),w=await u.json().catch(()=>({}));if(!u.ok||w.success===!1){H(w.message||"Test de connexion \xE9chou\xE9.","error");return}H(w.message||"Connexion OK.","success"),j("Test de connexion r\xE9ussi")}catch(u){console.error("[deploy] test failed",u),H(u.message||"Test de connexion \xE9chou\xE9.","error")}finally{Y(null)}}),g==null||g.addEventListener("click",async()=>{if(!$){H("Aucun site actif s\xE9lectionn\xE9.","error");return}Y("deploy"),R(["D\xE9ploiement en cours\u2026"]);try{let i=await fetch($,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h())}),u=await i.json().catch(()=>({}));if(!i.ok){if(i.status===404){H("API d\xE9ploiement indisponible (red\xE9marre le serveur).","error"),R(["API d\xE9ploiement indisponible (red\xE9marre le serveur)."]);return}throw R(u.logs||[]),new Error(u.message||"D\xE9ploiement \xE9chou\xE9.")}R(u.logs||[]),await O(),j("D\xE9ploiement termin\xE9")}catch(i){console.error("[deploy] run failed",i),H(i.message||"D\xE9ploiement \xE9chou\xE9.","error")}finally{Y(null)}}),_==null||_.addEventListener("change",()=>{C&&(C.type=_.checked?"text":"password")}),z(),O()}function Cn(){let o=document.querySelectorAll("[data-settings-tab]"),p=document.querySelectorAll("[data-settings-panel]"),v=document.querySelector("[data-admin-password-form]"),T=document.querySelector("[data-site-config-form]"),I=document.querySelector("[data-site-config-feedback]"),C=document.querySelector("[data-theme-form]"),_=F=>{o.forEach(A=>{let g=A.dataset.settingsTab===F;A.setAttribute("aria-selected",g?"true":"false"),A.classList.toggle("bg-[#9C6BFF]",g),A.classList.toggle("text-white",g)}),p.forEach(A=>{A.classList.toggle("hidden",A.dataset.settingsPanel!==F)})};if(o.forEach(F=>{F.addEventListener("click",()=>_(F.dataset.settingsTab||"account"))}),_("account"),v){let F=v.querySelector("[data-admin-password-feedback]"),A=v.querySelector("[data-admin-password-submit]"),g=(S,f="muted")=>{if(!F)return;let l=f==="success"?"text-emerald-600":f==="error"?"text-rose-600":"text-slate-500";F.textContent=S||"",F.className=`text-sm ${l}`};v.addEventListener("submit",async S=>{S.preventDefault();let f=new FormData(v),l=f.get("currentPassword")||"",E=f.get("newPassword")||"",$=f.get("confirmPassword")||"";if(!l||!E||!$){g("Compl\xE8te tous les champs.","error");return}A&&(A.disabled=!0),g("");try{let a=await fetch("/api/admin/password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentPassword:l,newPassword:E,confirmPassword:$})}),k=await a.json().catch(()=>({}));if(!a.ok||k.success===!1)throw new Error(k.message||"Impossible de mettre \xE0 jour le mot de passe.");g(k.message||"Mot de passe mis \xE0 jour.","success"),v.reset()}catch(a){console.error("[settings] change password failed",a),g(a.message||"Erreur lors de la mise \xE0 jour.","error")}finally{A&&(A.disabled=!1)}})}if(T){let F=T.querySelector("[data-site-name]"),A=T.querySelector("[data-site-language]"),g=T.querySelector("[data-site-tagline]"),S=T.querySelector("[data-site-save]"),f=(a,k="muted")=>{if(!I)return;let B=k==="success"?"text-emerald-600":k==="error"?"text-rose-600":"text-slate-500";I.textContent=a||"",I.className=`text-sm ${B}`},l=Oe((V==null?void 0:V.slugValue)||te.slug||""),E=l?`/api/sites/${encodeURIComponent(l)}/config/site`:null,$=async()=>{if(E)try{let a=await fetch(E,{headers:{Accept:"application/json"}});if(!a.ok)return;let k=await a.json().catch(()=>({}));F&&(F.value=k.name||""),A&&(A.value=k.language||"fr"),g&&(g.value=k.tagline||"")}catch(a){console.error("[settings] load site config failed",a)}};T.addEventListener("submit",async a=>{if(a.preventDefault(),!E){f("Aucun site actif.","error");return}if(!(F!=null&&F.value.trim())){f("Nom requis.","error");return}S&&(S.disabled=!0),f("");try{let k={name:(F==null?void 0:F.value)||"",language:(A==null?void 0:A.value)||"fr",tagline:(g==null?void 0:g.value)||""},B=await fetch(E,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(k)}),Q=await B.json().catch(()=>({}));if(!B.ok||Q.success===!1)throw new Error(Q.message||"Sauvegarde impossible.");f(Q.message||"Param\xE8tres enregistr\xE9s.","success")}catch(k){console.error("[settings] save site config failed",k),f(k.message||"Erreur lors de la sauvegarde.","error")}finally{S&&(S.disabled=!1)}}),$()}if(C){let F=Oe((V==null?void 0:V.slugValue)||te.slug||""),A=F?`/api/sites/${encodeURIComponent(F)}/config/theme`:null,g={primary:C.querySelector("[data-theme-primary]"),secondary:C.querySelector("[data-theme-secondary]"),accent:C.querySelector("[data-theme-accent]"),background:C.querySelector("[data-theme-background]"),text:C.querySelector("[data-theme-text]")},S=C.querySelector("[data-theme-headings]"),f=C.querySelector("[data-theme-body]"),l=C.querySelector("[data-theme-radius-small]"),E=C.querySelector("[data-theme-radius-medium]"),$=C.querySelector("[data-theme-radius-large]"),a=C.querySelector("[data-theme-preview]"),k=C.querySelector("[data-theme-feedback]"),B=C.querySelector("[data-theme-apply]"),Q=["slate","gray","zinc","neutral","stone","red","orange","amber","yellow","lime","green","emerald","teal","cyan","sky","blue","indigo","violet","purple","fuchsia","pink","rose"],H=["50","100","200","300","400","500","600","700","800","900"],Y=Q.flatMap(h=>H.map(i=>`${h}-${i}`)),X=()=>{Object.values(g).forEach(h=>{!h||h.options.length||Y.forEach(i=>{let u=document.createElement("option");u.value=i;let[w,m]=i.split("-");u.textContent=`${w.charAt(0).toUpperCase()+w.slice(1)} ${m}`,h.appendChild(u)})})},J=(h,i="muted")=>{if(!k)return;let u=i==="success"?"text-emerald-600":i==="error"?"text-rose-600":"text-slate-500";k.textContent=h||"",k.className=`text-sm ${u}`},R=()=>{var i,u,w,m,oe;if(!a)return;let h=ae=>{if(!ae)return null;let[de,re]=ae.split("-"),ue={slate:"#e2e8f0",gray:"#d1d5db",zinc:"#d4d4d8",neutral:"#d4d4d4",stone:"#d6d3d1",red:"#ef4444",orange:"#f97316",amber:"#f59e0b",yellow:"#eab308",lime:"#84cc16",green:"#22c55e",emerald:"#10b981",teal:"#14b8a6",cyan:"#06b6d4",sky:"#0ea5e9",blue:"#3b82f6",indigo:"#6366f1",violet:"#8b5cf6",purple:"#a855f7",fuchsia:"#d946ef",pink:"#ec4899",rose:"#f43f5e"}[de];if(!ue)return null;let W=Number(re)||500,$e=Math.min(Math.max((W-50)/900,0),1),ce=nt=>nt.match(/[A-Fa-f0-9]{2}/g).map(pt=>parseInt(pt,16)),[We,fe,Ve]=ce(ue.replace("#","")),Re=nt=>Math.round(255-(255-nt)*$e);return`rgb(${Re(We)}, ${Re(fe)}, ${Re(Ve)})`};a.style.setProperty("--color-primary",h((i=g.primary)==null?void 0:i.value)||"#9C6BFF"),a.style.setProperty("--color-secondary",h((u=g.secondary)==null?void 0:u.value)||"#0EA5E9"),a.style.setProperty("--color-accent",h((w=g.accent)==null?void 0:w.value)||"#F97316"),a.style.setProperty("--color-background",h((m=g.background)==null?void 0:m.value)||"#FFFFFF"),a.style.setProperty("--color-text",h((oe=g.text)==null?void 0:oe.value)||"#0F172A"),a.style.setProperty("--font-headings",(S==null?void 0:S.value)||"Inter, sans-serif"),a.style.setProperty("--font-body",(f==null?void 0:f.value)||"Inter, sans-serif"),a.style.setProperty("--radius-small",(l==null?void 0:l.value)||"8px"),a.style.setProperty("--radius-medium",(E==null?void 0:E.value)||"16px"),a.style.setProperty("--radius-large",($==null?void 0:$.value)||"24px"),a.style.borderRadius=(E==null?void 0:E.value)||"16px"},O=(h,i)=>{g[h]&&(g[h].value=i)};Object.keys(g).forEach(h=>{var i;(i=g[h])==null||i.addEventListener("change",R)}),[S,f,l,E,$].forEach(h=>{h==null||h.addEventListener("change",R)});let z=async()=>{var h,i,u,w,m,oe,ae,de,re,Ee;if(A)try{let ue=await fetch(A,{headers:{Accept:"application/json"}});if(!ue.ok)return;let W=await ue.json().catch(()=>({}));O("primary",((h=W.colors)==null?void 0:h.primary)||"violet-500"),O("secondary",((i=W.colors)==null?void 0:i.secondary)||"indigo-400"),O("accent",((u=W.colors)==null?void 0:u.accent)||"emerald-500"),O("background",((w=W.colors)==null?void 0:w.background)||"slate-50"),O("text",((m=W.colors)==null?void 0:m.text)||"slate-900"),S&&(S.value=((oe=W.typography)==null?void 0:oe.headings)||"Inter, sans-serif"),f&&(f.value=((ae=W.typography)==null?void 0:ae.body)||"Inter, sans-serif"),l&&(l.value=((de=W.radius)==null?void 0:de.small)||"8px"),E&&(E.value=((re=W.radius)==null?void 0:re.medium)||"16px"),$&&($.value=((Ee=W.radius)==null?void 0:Ee.large)||"24px"),R()}catch(ue){console.error("[settings] load theme failed",ue)}};X(),B==null||B.addEventListener("click",async h=>{var u,w,m,oe,ae;if(h.preventDefault(),!A){J("Aucun site actif.","error");return}let i={colors:{primary:((u=g.primary)==null?void 0:u.value)||"violet-500",secondary:((w=g.secondary)==null?void 0:w.value)||"indigo-400",accent:((m=g.accent)==null?void 0:m.value)||"emerald-500",background:((oe=g.background)==null?void 0:oe.value)||"slate-50",text:((ae=g.text)==null?void 0:ae.value)||"slate-900"},typography:{headings:(S==null?void 0:S.value)||"Inter, sans-serif",body:(f==null?void 0:f.value)||"Inter, sans-serif"},radius:{small:(l==null?void 0:l.value)||"8px",medium:(E==null?void 0:E.value)||"16px",large:($==null?void 0:$.value)||"24px"}};B.disabled=!0,J("");try{let de=await fetch(A,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}),re=await de.json().catch(()=>({}));if(!de.ok||re.success===!1)throw new Error(re.message||"Application du th\xE8me \xE9chou\xE9e.");J(re.message||"Th\xE8me appliqu\xE9.","success"),R()}catch(de){console.error("[settings] apply theme failed",de),J(de.message||"Erreur lors de l\u2019application du th\xE8me.","error")}finally{B.disabled=!1}}),X(),z(),R()}let G=document.querySelector("[data-seo-config-form]");if(G){let F=G.querySelector("[data-seo-index-all]"),A=G.querySelector("[data-seo-config-feedback]"),g=G.querySelector("[data-seo-save]"),S=Oe((V==null?void 0:V.slugValue)||te.slug||""),f=S?`/api/sites/${encodeURIComponent(S)}/config/site`:null,l=($,a="muted")=>{if(!A)return;let k=a==="success"?"text-emerald-600":a==="error"?"text-rose-600":"text-slate-500";A.textContent=$||"",A.className=`text-sm ${k}`},E=async()=>{var $;if(f)try{let a=await fetch(f,{headers:{Accept:"application/json"}});if(!a.ok)return;let B=(($=(await a.json().catch(()=>({}))).seo)==null?void 0:$.indexAllPagesByDefault)!==!1;F&&(F.checked=B)}catch(a){console.error("[settings] load seo config failed",a)}};G.addEventListener("submit",async $=>{var a;if($.preventDefault(),!f){l("Aucun site actif.","error");return}g&&(g.disabled=!0),l("");try{let k=await fetch(f,{headers:{Accept:"application/json"}}),B=k.ok?await k.json().catch(()=>({})):{},Q={...B,seo:{...B.seo||{},indexAllPagesByDefault:(a=F==null?void 0:F.checked)!=null?a:!0}},H=await fetch(f,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(Q)}),Y=await H.json().catch(()=>({}));if(!H.ok||Y.success===!1)throw new Error(Y.message||"Sauvegarde impossible.");l(Y.message||"Param\xE8tres SEO enregistr\xE9s.","success")}catch(k){console.error("[settings] save seo config failed",k),l(k.message||"Erreur lors de la sauvegarde.","error")}finally{g&&(g.disabled=!1)}}),E()}let M=document.querySelector("[data-analytics-form]");if(M){let F=M.querySelector("[data-analytics-head]"),A=M.querySelector("[data-analytics-body]"),g=M.querySelector("[data-analytics-feedback]"),S=M.querySelector("[data-analytics-save]"),f=Oe((V==null?void 0:V.slugValue)||te.slug||""),l=f?`/api/sites/${encodeURIComponent(f)}/config/site`:null,E=(a,k="muted")=>{if(!g)return;let B=k==="success"?"text-emerald-600":k==="error"?"text-rose-600":"text-slate-500";g.textContent=a||"",g.className=`text-sm ${B}`},$=async()=>{var a,k;if(l)try{let B=await fetch(l,{headers:{Accept:"application/json"}});if(!B.ok)return;let Q=await B.json().catch(()=>({}));F&&(F.value=((a=Q.analytics)==null?void 0:a.headCode)||""),A&&(A.value=((k=Q.analytics)==null?void 0:k.bodyEndCode)||"")}catch(B){console.error("[settings] load analytics config failed",B)}};M.addEventListener("submit",async a=>{if(a.preventDefault(),!l){E("Aucun site actif.","error");return}S&&(S.disabled=!0),E("");try{let k=await fetch(l,{headers:{Accept:"application/json"}}),Q={...k.ok?await k.json().catch(()=>({})):{},analytics:{headCode:(F==null?void 0:F.value)||"",bodyEndCode:(A==null?void 0:A.value)||""}},H=await fetch(l,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(Q)}),Y=await H.json().catch(()=>({}));if(!H.ok||Y.success===!1)throw new Error(Y.message||"Sauvegarde impossible.");E(Y.message||"Scripts enregistr\xE9s.","success")}catch(k){console.error("[settings] save analytics config failed",k),E(k.message||"Erreur lors de la sauvegarde.","error")}finally{S&&(S.disabled=!1)}}),$()}}function En(){let o=document.querySelector("[data-media-grid]");if(!o)return;let p=document.querySelector("[data-media-empty]"),v=document.querySelector("[data-media-count]"),T=document.querySelector("[data-media-filter-type]"),I=document.querySelector("[data-media-detail-empty]"),C=document.querySelector("[data-media-detail]"),_=document.querySelector("[data-media-detail-preview]"),G=document.querySelector("[data-media-detail-name]"),M=document.querySelector("[data-media-detail-type]"),F=document.querySelector("[data-media-detail-size]"),A=document.querySelector("[data-media-detail-path]"),g=document.querySelector("[data-media-detail-used]"),S=document.querySelector("[data-media-alt-edit]"),f=document.querySelector("[data-media-save]"),l=document.querySelector("[data-media-delete]"),E=document.querySelector("[data-media-delete-modal]"),$=document.querySelector("[data-media-delete-cancel]"),a=document.querySelector("[data-media-delete-confirm]"),k=document.querySelector("[data-media-upload-open]"),B=document.querySelector("[data-media-file-input]"),Q=document.querySelector("[data-media-upload-status]"),H=Oe((V==null?void 0:V.slugValue)||te.slug||""),Y=H?`/api/sites/${encodeURIComponent(H)}/media`:null,X=[],J=[],R=null,O=null,z=null,h=!1,i=!1,u=!1,w=null,m=d=>{let L=(d.type||"").toLowerCase(),K=(d.filename||"").toLowerCase();return L.includes("image")||/\.(png|jpe?g|webp|svg|gif)$/i.test(K)?"image":L.includes("pdf")||L.includes("doc")||/\.(pdf|docx?)$/i.test(K)?"document":L.includes("video")||/\.(mp4|mov|webm)$/i.test(K)?"video":"other"},oe=d=>m(d)==="image",ae=d=>{if(d.type)return d.type.toUpperCase();let L=(d.filename||"").split(".").pop();return L?L.toUpperCase():"FILE"},de=d=>!d||d<=0?"\u2014":d<1024?`${d} o`:d<1024*1024?`${(d/1024).toFixed(1)} ko`:`${(d/(1024*1024)).toFixed(1)} Mo`,re=()=>{C==null||C.classList.add("hidden"),I==null||I.classList.remove("hidden"),Ee(),R=null,i=!1,ce(!1),_&&(_.innerHTML='<span class="text-slate-400 text-sm">Aucun m\xE9dia s\xE9lectionn\xE9</span>'),G&&(G.textContent=""),M&&(M.textContent=""),F&&(F.textContent=""),S&&(S.value=""),A&&(A.textContent=""),g&&(g.innerHTML="")},Ee=()=>{z=null,u=!1,h=!1,w&&(URL.revokeObjectURL(w),w=null),Q&&(Q.textContent="Aucun fichier s\xE9lectionn\xE9."),B&&(B.value="")},ue=()=>{v&&(J.length?J.length===1?v.textContent="1 m\xE9dia":v.textContent=`${J.length} m\xE9dias`:v.textContent="0 m\xE9dia")},W=()=>{if(o.innerHTML="",!J.length){p==null||p.classList.remove("hidden"),re();return}p==null||p.classList.add("hidden"),J.forEach(d=>{let L=document.createElement("button");L.type="button",L.dataset.mediaId=d.id;let K=d.id===R;L.className=["group relative flex flex-col rounded-2xl border px-3 py-3 text-left transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[#9C6BFF]",K?"border-[#9C6BFF] bg-[#F7F0FF]/60 shadow-sm":"border-slate-200 hover:border-[#9C6BFF]/40"].join(" ");let U=oe(d)?`<img src="${d.path}" alt="${d.alt||d.filename}" class="h-full w-full object-cover" />`:'<div class="flex h-full w-full items-center justify-center text-3xl text-slate-400">\u{1F4C4}</div>';L.innerHTML=`
          <div class="relative aspect-[4/3] overflow-hidden rounded-xl bg-slate-100">
            ${U}
          </div>
          <div class="mt-2 space-y-1">
            <p class="text-sm font-semibold text-slate-900 truncate">${d.filename}</p>
            <p class="text-xs text-slate-500">
              ${ae(d)} \xB7 ${de(d.size)}
            </p>
          </div>
        `,d.id===O&&(L.classList.add("ring-2","ring-[#9C6BFF]"),window.setTimeout(()=>{L.classList.remove("ring-2","ring-[#9C6BFF]")},1600)),L.addEventListener("click",()=>We(d.id)),o.appendChild(L)}),O=null},$e=d=>{if(g){if(g.innerHTML="",!d.usedIn||d.usedIn.length===0){let L=document.createElement("li");L.textContent="Non utilis\xE9",L.className="text-xs text-slate-400",g.appendChild(L);return}d.usedIn.forEach(L=>{let K=document.createElement("li");K.textContent=L,K.className="text-xs text-slate-600",g.appendChild(K)})}},ce=d=>{if(f){if(u){f.textContent=d?"T\xE9l\xE9versement\u2026":"T\xE9l\xE9verser",f.disabled=d||!z,l&&l.classList.add("hidden");return}f.textContent=d?"Enregistrement\u2026":"Enregistrer",f.disabled=d||!i,l&&(l.classList.remove("hidden"),l.disabled=!R)}},We=d=>{let L=X.find(K=>K.id===d);if(!L){re(),W();return}Ee(),R=L.id,i=!1,ce(!1),W(),I==null||I.classList.add("hidden"),C==null||C.classList.remove("hidden"),_&&(oe(L)?_.innerHTML=`<img src="${L.path}" alt="${L.alt||L.filename}" class="h-full w-full rounded-2xl object-cover" />`:_.innerHTML='<div class="flex h-full w-full flex-col items-center justify-center gap-1 text-slate-400"><span class="text-3xl">\u{1F4C4}</span><span class="text-xs font-semibold">Document</span></div>'),G&&(G.textContent=L.filename||"Fichier"),M&&(M.textContent=ae(L)),F&&(F.textContent=de(L.size)),S&&(S.value=L.alt||""),A&&(A.textContent=L.path||"\u2014"),$e(L)},fe=d=>{if(d){if(u=!0,i=!1,R=null,I==null||I.classList.add("hidden"),C==null||C.classList.remove("hidden"),w&&URL.revokeObjectURL(w),w=URL.createObjectURL(d),_&&(_.innerHTML=`<img src="${w}" alt="${d.name}" class="h-full w-full rounded-2xl object-cover" />`),G&&(G.textContent=d.name),M&&(M.textContent=ae({type:d.type,filename:d.name})),F&&(F.textContent=de(d.size)),S&&!S.value.trim()&&(S.value=d.name.replace(/\.[^.]+$/,"").replace(/[-_]/g," ")),A&&(A.textContent="En attente de t\xE9l\xE9versement"),g){g.innerHTML="";let L=document.createElement("li");L.textContent="Non utilis\xE9",L.className="text-xs text-slate-400",g.appendChild(L)}ce(!1)}},Ve=()=>{let d=(T==null?void 0:T.value)||"all";d==="all"?J=[...X]:J=X.filter(L=>L.groupType===d),J.some(L=>L.id===R)||re(),ue(),W()},Re=async()=>{if(!Y){p==null||p.classList.remove("hidden");return}try{let d=await fetch(Y,{headers:{Accept:"application/json"}});if(!d.ok)throw new Error("Impossible de charger les m\xE9dias.");let L=await d.json().catch(()=>({items:[]}));X=Array.isArray(L.items)?L.items.map(K=>({...K,groupType:m(K)})):[],Ve()}catch(d){console.error("[media] load failed",d),j(d.message||"Impossible de charger les m\xE9dias."),X=[],Ve()}};T==null||T.addEventListener("change",()=>{Ve()}),S==null||S.addEventListener("input",()=>{if(u){ce(!1);return}R&&(i=!0,ce(!1))});let nt=d=>{if(d){if(!d.type.startsWith("image/")){j("Seules les images sont accept\xE9es pour le moment.");return}if(d.size>4*1024*1024){j("Fichier trop volumineux (4 Mo max).");return}z=d,fe(d),Q&&(Q.textContent=`${d.name} \xB7 ${de(d.size)}`)}},pt=d=>new Promise((L,K)=>{let U=new FileReader;U.onload=()=>{let dt=U.result||"",[,rt=""]=String(dt).split(",");L(rt)},U.onerror=()=>K(new Error("Impossible de lire ce fichier.")),U.readAsDataURL(d)}),ft=async()=>{if(!(!z||!Y)){h=!0,ce(!0);try{let d=await pt(z),L={filename:z.name,type:z.type,size:z.size,alt:(S==null?void 0:S.value)||"",data:d},K=await fetch(Y,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(L)});if(!K.ok){let dt=await K.json().catch(()=>({}));throw new Error(dt.message||"Upload impossible.")}let U=await K.json();U.groupType=m(U),X=[...X,U],O=U.id,Ve(),We(U.id),j("M\xE9dia ajout\xE9"),Ee()}catch(d){console.error("[media] upload failed",d),j(d.message||"Impossible de t\xE9l\xE9verser ce m\xE9dia.")}finally{h=!1,z=null,ce(!1)}}};k==null||k.addEventListener("click",()=>B==null?void 0:B.click()),B==null||B.addEventListener("change",()=>{B.files&&B.files[0]&&nt(B.files[0])});let ot=()=>{E&&(E.classList.add("hidden"),E.classList.remove("flex"))},gt=()=>{if(!(!R||u)){if(E){E.classList.remove("hidden"),E.classList.add("flex");return}window.confirm("Supprimer ce m\xE9dia ?")&&xt()}},xt=async()=>{if(!R||!Y){ot();return}let d=()=>{l&&(l.disabled=!0),a&&(a.disabled=!0,a.textContent="Suppression\u2026")},L=()=>{l&&(l.disabled=!1),a&&(a.disabled=!1,a.textContent="Supprimer")};d();try{let K=await fetch(`${Y}/${encodeURIComponent(R)}`,{method:"DELETE"});if(!K.ok){let U=await K.json().catch(()=>({}));throw new Error(U.message||"Suppression impossible.")}X=X.filter(U=>U.id!==R),J=J.filter(U=>U.id!==R),j("M\xE9dia supprim\xE9"),re(),ue(),W()}catch(K){console.error("[media] delete failed",K),j(K.message||"Impossible de supprimer ce m\xE9dia.")}finally{L(),ot()}};$==null||$.addEventListener("click",ot),E==null||E.addEventListener("click",d=>{d.target===E&&ot()}),a==null||a.addEventListener("click",()=>xt()),l==null||l.addEventListener("click",gt),f==null||f.addEventListener("click",async()=>{if(u){ft();return}if(!(!R||!Y||!S)){ce(!0);try{let d={alt:S.value||""},L=await fetch(`${Y}/${encodeURIComponent(R)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)});if(!L.ok){let U=await L.json().catch(()=>({}));throw new Error(U.message||"Impossible de mettre \xE0 jour ce m\xE9dia.")}let K=await L.json();X=X.map(U=>U.id===R?{...U,...K}:U),J=J.map(U=>U.id===R?{...U,...K}:U),i=!1,ce(!1),j("M\xE9dia mis \xE0 jour")}catch(d){console.error("[media] update failed",d),j(d.message||"\xC9chec de la mise \xE0 jour."),ce(!1)}}}),Re()}});})();
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vY29yZS9zY3JpcHRzL2FkbWluLmpzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuICBjb25zb2xlLmxvZygnW2FkbWluXSBBdGVsaWVyIGNoYXJnXHUwMEU5Jyk7XG4gIGNvbnN0IGxvZ291dEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWxvZ291dF0nKTtcbiAgaWYgKGxvZ291dEJ1dHRvbikge1xuICAgIGxvZ291dEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGxvZ291dEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBmZXRjaCgnL2FwaS9sb2dvdXQnLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbYWRtaW5dIEltcG9zc2libGUgZGUgc2UgZFx1MDBFOWNvbm5lY3RlcicsIGVycik7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvYWRtaW4vaW5kZXguaHRtbCc7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBjb25zdCBzaWRlYmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRtaW4tc2lkZWJhcl0nKTtcbiAgY29uc3Qgc2lkZWJhck92ZXJsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZG1pbi1zaWRlYmFyLW92ZXJsYXldJyk7XG4gIGNvbnN0IHNpZGViYXJUb2dnbGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYWRtaW4tc2lkZWJhci10b2dnbGVdJyk7XG4gIGNvbnN0IHNpZGViYXJDbG9zZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1hZG1pbi1zaWRlYmFyLWNsb3NlXScpO1xuICBjb25zdCBib2R5ID0gZG9jdW1lbnQuYm9keTtcbiAgbGV0IHNpZGViYXJPcGVuID0gZmFsc2U7XG5cbiAgY29uc3QgYXBwbHlTaWRlYmFyU3RhdGUgPSAoKSA9PiB7XG4gICAgaWYgKCFzaWRlYmFyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGlzRGVza3RvcCA9IHdpbmRvdy5tYXRjaE1lZGlhKCcobWluLXdpZHRoOiAxMDI0cHgpJykubWF0Y2hlcztcbiAgICBpZiAoaXNEZXNrdG9wKSB7XG4gICAgICBzaWRlYmFyLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgc2lkZWJhck92ZXJsYXk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHNpZGViYXJPcGVuKSB7XG4gICAgICBzaWRlYmFyLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgc2lkZWJhck92ZXJsYXk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgYm9keS5jbGFzc0xpc3QuYWRkKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2lkZWJhci5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIHNpZGViYXJPdmVybGF5Py5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnb3ZlcmZsb3ctaGlkZGVuJyk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IG9wZW5TaWRlYmFyID0gKCkgPT4ge1xuICAgIHNpZGViYXJPcGVuID0gdHJ1ZTtcbiAgICBhcHBseVNpZGViYXJTdGF0ZSgpO1xuICB9O1xuXG4gIGNvbnN0IGNsb3NlU2lkZWJhciA9ICgpID0+IHtcbiAgICBzaWRlYmFyT3BlbiA9IGZhbHNlO1xuICAgIGFwcGx5U2lkZWJhclN0YXRlKCk7XG4gIH07XG5cbiAgaWYgKHNpZGViYXIgJiYgc2lkZWJhclRvZ2dsZXMubGVuZ3RoID4gMCkge1xuICAgIHNpZGViYXJUb2dnbGVzLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlblNpZGViYXIpO1xuICAgIH0pO1xuICAgIHNpZGViYXJDbG9zZUJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZVNpZGViYXIpO1xuICAgIH0pO1xuICAgIHNpZGViYXJPdmVybGF5Py5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlU2lkZWJhcik7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGFwcGx5U2lkZWJhclN0YXRlKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VzY2FwZScgJiYgc2lkZWJhck9wZW4pIHtcbiAgICAgICAgY2xvc2VTaWRlYmFyKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgYXBwbHlTaWRlYmFyU3RhdGUoKTtcbiAgfVxuXG4gIGNvbnN0IEFDVElWRV9TSVRFX0tFWSA9ICdjbG93ZXI6Y3VycmVudFNpdGUnO1xuICBjb25zdCBBQ1RJVkVfU0lURV9OQU1FX0tFWSA9ICdjbG93ZXI6Y3VycmVudFNpdGVOYW1lJztcbiAgY29uc3Qgc3RvcmVkU2l0ZSA9IHsgc2x1ZzogbnVsbCwgbmFtZTogJycgfTtcbiAgY29uc3QgbG9hZFN0b3JlZFNpdGUgPSAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHN0b3JlZFNpdGUuc2x1ZyA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShBQ1RJVkVfU0lURV9LRVkpO1xuICAgICAgc3RvcmVkU2l0ZS5uYW1lID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKEFDVElWRV9TSVRFX05BTUVfS0VZKSB8fCAnJztcbiAgICB9IGNhdGNoIHtcbiAgICAgIHN0b3JlZFNpdGUuc2x1ZyA9IG51bGw7XG4gICAgICBzdG9yZWRTaXRlLm5hbWUgPSAnJztcbiAgICB9XG4gIH07XG4gIGxvYWRTdG9yZWRTaXRlKCk7XG5cbiAgY29uc3Qgc2l0ZUNhcmRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtc2l0ZS1jYXJkXScpO1xuICBjb25zdCBzaXRlU2VsZWN0QnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXNpdGUtc2VsZWN0XScpO1xuICBjb25zdCBzaXRlTmFtZUxhYmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY3VycmVudC1zaXRlLW5hbWVdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZVNpdGVMYWJlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXdvcmtzcGFjZS1zaXRlLW5hbWVdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZUJhY2tOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtd29ya3NwYWNlLWJhY2stbmFtZV0nKTtcbiAgY29uc3Qgd29ya3NwYWNlQmFja01vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtd29ya3NwYWNlLWJhY2stbW9kYWxdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZUJhY2tCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtd29ya3NwYWNlLWJhY2tdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZUJhY2tDYW5jZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS13b3Jrc3BhY2UtYmFjay1jYW5jZWxdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZUJhY2tDb25maXJtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtd29ya3NwYWNlLWJhY2stY29uZmlybV0nKTtcbiAgY29uc3Qgd29ya3NwYWNlTmF2TGlua3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS13b3Jrc3BhY2UtdGFiXScpO1xuICBjb25zdCBzaXRlVG9hc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLXRvYXN0XScpO1xuICBjb25zdCBzaXRlVG9hc3RNZXNzYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS10b2FzdC1tZXNzYWdlXScpO1xuICBjb25zdCBzaXRlQ3JlYXRlQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXNpdGUtY3JlYXRlXScpO1xuICBjb25zdCBzaXRlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLW1vZGFsXScpO1xuICBjb25zdCBzaXRlRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtZm9ybV0nKTtcbiAgLy8gVXNlIG1vcmUgc3BlY2lmaWMgc2VsZWN0b3JzIHRvIGdldCBpbnB1dHMgSU5TSURFIHRoZSBmb3JtLCBub3Qgc2l0ZSBjYXJkc1xuICBjb25zdCBzaXRlTmFtZUlucHV0ID0gc2l0ZUZvcm0/LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9XCJzaXRlTmFtZVwiXScpO1xuICBjb25zdCBzaXRlU2x1Z0lucHV0ID0gc2l0ZUZvcm0/LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9XCJzaXRlU2x1Z1wiXScpO1xuICBjb25zdCBzaXRlU2x1Z0Vycm9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS1zbHVnLWVycm9yXScpO1xuICBjb25zdCBzaXRlTW9kYWxFcnJvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtbW9kYWwtZXJyb3JdJyk7XG4gIGNvbnN0IHNpdGVNb2RhbENhbmNlbEJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1zaXRlLW1vZGFsLWNhbmNlbF0nKTtcbiAgY29uc3Qgc2l0ZU1vZGFsU3VibWl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS1tb2RhbC1zdWJtaXRdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZUNvbnRleHQgPSBnZXRXb3Jrc3BhY2VDb250ZXh0KCk7XG4gIGxldCBzbHVnTWFudWFsbHlFZGl0ZWQgPSBmYWxzZTtcbiAgbGV0IGxhc3RGb2N1c2VkRWxlbWVudCA9IG51bGw7XG4gIGxldCB0b2FzdFRpbWVvdXRJZCA9IG51bGw7XG5cbiAgY29uc3QgZm9jdXNhYmxlU2VsZWN0b3IgPVxuICAgICdhW2hyZWZdLCBidXR0b246bm90KFtkaXNhYmxlZF0pLCB0ZXh0YXJlYSwgaW5wdXQsIHNlbGVjdCwgW3RhYmluZGV4XTpub3QoW3RhYmluZGV4PVwiLTFcIl0pJztcbiAgY29uc3QgdHJhcEZvY3VzID0gKGV2ZW50KSA9PiB7XG4gICAgaWYgKCFzaXRlTW9kYWwgfHwgc2l0ZU1vZGFsLmNsYXNzTGlzdC5jb250YWlucygnaGlkZGVuJykgfHwgZXZlbnQua2V5ICE9PSAnVGFiJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBmb2N1c2FibGVFbGVtZW50cyA9IEFycmF5LmZyb20oc2l0ZU1vZGFsLnF1ZXJ5U2VsZWN0b3JBbGwoZm9jdXNhYmxlU2VsZWN0b3IpKS5maWx0ZXIoXG4gICAgICAoZWwpID0+ICFlbC5oYXNBdHRyaWJ1dGUoJ2Rpc2FibGVkJykgJiYgIWVsLmdldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nKSxcbiAgICApO1xuICAgIGlmIChmb2N1c2FibGVFbGVtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZmlyc3QgPSBmb2N1c2FibGVFbGVtZW50c1swXTtcbiAgICBjb25zdCBsYXN0ID0gZm9jdXNhYmxlRWxlbWVudHNbZm9jdXNhYmxlRWxlbWVudHMubGVuZ3RoIC0gMV07XG4gICAgaWYgKGV2ZW50LnNoaWZ0S2V5KSB7XG4gICAgICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gZmlyc3QpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgbGFzdC5mb2N1cygpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gbGFzdCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGZpcnN0LmZvY3VzKCk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHNob3dUb2FzdCA9IChtZXNzYWdlKSA9PiB7XG4gICAgaWYgKCFzaXRlVG9hc3QgfHwgIXNpdGVUb2FzdE1lc3NhZ2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2l0ZVRvYXN0TWVzc2FnZS50ZXh0Q29udGVudCA9IG1lc3NhZ2U7XG4gICAgc2l0ZVRvYXN0LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgIGlmICh0b2FzdFRpbWVvdXRJZCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRvYXN0VGltZW91dElkKTtcbiAgICB9XG4gICAgdG9hc3RUaW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHNpdGVUb2FzdC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICB9LCAyNTAwKTtcbiAgfTtcblxuICBmdW5jdGlvbiBlbnN1cmVMZWFkaW5nU2xhc2goc2x1Zykge1xuICAgIGlmICghc2x1Zykge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICByZXR1cm4gc2x1Zy5zdGFydHNXaXRoKCcvJykgPyBzbHVnIDogYC8ke3NsdWd9YDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHN0cmlwTGVhZGluZ1NsYXNoKHNsdWcpIHtcbiAgICByZXR1cm4gc2x1Zz8ucmVwbGFjZSgvXlxcLy8sICcnKSB8fCAnJztcbiAgfVxuXG4gIGNvbnN0IHBlcnNpc3RTaXRlU3RhdGUgPSAoc2x1ZywgbmFtZSkgPT4ge1xuICAgIGNvbnN0IG5vcm1hbGl6ZWRTbHVnID0gc2x1ZyA/IGVuc3VyZUxlYWRpbmdTbGFzaChzbHVnKSA6IG51bGw7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChub3JtYWxpemVkU2x1Zykge1xuICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oQUNUSVZFX1NJVEVfS0VZLCBub3JtYWxpemVkU2x1Zyk7XG4gICAgICAgIHN0b3JlZFNpdGUuc2x1ZyA9IG5vcm1hbGl6ZWRTbHVnO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBuYW1lID09PSAnc3RyaW5nJyAmJiBuYW1lLmxlbmd0aCA+IDApIHtcbiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKEFDVElWRV9TSVRFX05BTUVfS0VZLCBuYW1lKTtcbiAgICAgICAgc3RvcmVkU2l0ZS5uYW1lID0gbmFtZTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIHtcbiAgICAgIHN0b3JlZFNpdGUuc2x1ZyA9IG5vcm1hbGl6ZWRTbHVnIHx8IHN0b3JlZFNpdGUuc2x1ZztcbiAgICAgIHN0b3JlZFNpdGUubmFtZSA9IG5hbWUgfHwgc3RvcmVkU2l0ZS5uYW1lO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCB1cGRhdGVTaXRlTGFiZWxzID0gKG5hbWUpID0+IHtcbiAgICBpZiAoc2l0ZU5hbWVMYWJlbCAmJiBuYW1lKSB7XG4gICAgICBzaXRlTmFtZUxhYmVsLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICB9XG4gICAgaWYgKHdvcmtzcGFjZVNpdGVMYWJlbCAmJiBuYW1lKSB7XG4gICAgICB3b3Jrc3BhY2VTaXRlTGFiZWwudGV4dENvbnRlbnQgPSBuYW1lO1xuICAgIH1cbiAgICBpZiAod29ya3NwYWNlQmFja05hbWUgJiYgbmFtZSkge1xuICAgICAgd29ya3NwYWNlQmFja05hbWUudGV4dENvbnRlbnQgPSBuYW1lO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCB1cGRhdGVXb3Jrc3BhY2VOYXZMaW5rcyA9IChzbHVnKSA9PiB7XG4gICAgd29ya3NwYWNlTmF2TGlua3MuZm9yRWFjaCgobGluaykgPT4ge1xuICAgICAgY29uc3QgdGFiID0gbGluay5kYXRhc2V0LndvcmtzcGFjZVRhYjtcbiAgICAgIGlmICghdGFiKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghc2x1Zykge1xuICAgICAgICBsaW5rLmhyZWYgPSAnIyc7XG4gICAgICAgIGxpbmsuY2xhc3NMaXN0LmFkZCgncG9pbnRlci1ldmVudHMtbm9uZScsICdvcGFjaXR5LTUwJywgJ3RleHQtc2xhdGUtNDAwJyk7XG4gICAgICAgIGxpbmsuc2V0QXR0cmlidXRlKCdhcmlhLWRpc2FibGVkJywgJ3RydWUnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3Qgc2x1Z1BhdGggPSBlbmNvZGVVUklDb21wb25lbnQoc3RyaXBMZWFkaW5nU2xhc2goc2x1ZykpO1xuICAgICAgbGluay5ocmVmID0gYC9hZG1pbi9zaXRlLyR7c2x1Z1BhdGh9LyR7dGFifWA7XG4gICAgICBsaW5rLmNsYXNzTGlzdC5yZW1vdmUoJ3BvaW50ZXItZXZlbnRzLW5vbmUnLCAnb3BhY2l0eS01MCcsICd0ZXh0LXNsYXRlLTQwMCcpO1xuICAgICAgbGluay5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtZGlzYWJsZWQnKTtcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBhcHBseUFjdGl2ZVNpdGUgPSAoc2x1Zywgb3B0aW9ucyA9IHt9KSA9PiB7XG4gICAgaWYgKCFzbHVnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG5vcm1hbGl6ZWRTbHVnID0gZW5zdXJlTGVhZGluZ1NsYXNoKHNsdWcpO1xuICAgIGxldCBhY3RpdmVTaXRlTmFtZSA9XG4gICAgICBvcHRpb25zLnNpdGVOYW1lIHx8IHN0b3JlZFNpdGUubmFtZSB8fCBzaXRlTmFtZUxhYmVsPy5kYXRhc2V0LmRlZmF1bHRTaXRlTmFtZSB8fCAnJztcbiAgICBzaXRlQ2FyZHMuZm9yRWFjaCgoY2FyZCkgPT4ge1xuICAgICAgY29uc3QgY2FyZFNsdWcgPSBlbnN1cmVMZWFkaW5nU2xhc2goY2FyZC5kYXRhc2V0LnNpdGVDYXJkIHx8ICcnKTtcbiAgICAgIGNvbnN0IGlzQWN0aXZlID0gY2FyZFNsdWcgPT09IG5vcm1hbGl6ZWRTbHVnO1xuICAgICAgY29uc3QgYmFkZ2UgPSBjYXJkLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtYWN0aXZlLWJhZGdlXScpO1xuICAgICAgaWYgKGlzQWN0aXZlKSB7XG4gICAgICAgIGNhcmQuY2xhc3NMaXN0LmFkZCgnYm9yZGVyLVsjOUM2QkZGXScsICdyaW5nLTInLCAncmluZy1bIzlDNkJGRl0nLCAnc2hhZG93LW1kJyk7XG4gICAgICAgIGNhcmQuY2xhc3NMaXN0LnJlbW92ZSgnYm9yZGVyLXNsYXRlLTIwMCcpO1xuICAgICAgICBiYWRnZT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIGFjdGl2ZVNpdGVOYW1lID0gY2FyZC5kYXRhc2V0LnNpdGVOYW1lIHx8IGFjdGl2ZVNpdGVOYW1lO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FyZC5jbGFzc0xpc3QucmVtb3ZlKCdib3JkZXItWyM5QzZCRkZdJywgJ3JpbmctMicsICdyaW5nLVsjOUM2QkZGXScsICdzaGFkb3ctbWQnKTtcbiAgICAgICAgY2FyZC5jbGFzc0xpc3QuYWRkKCdib3JkZXItc2xhdGUtMjAwJyk7XG4gICAgICAgIGJhZGdlPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAob3B0aW9ucy5wZXJzaXN0ICE9PSBmYWxzZSkge1xuICAgICAgcGVyc2lzdFNpdGVTdGF0ZShub3JtYWxpemVkU2x1Zywgb3B0aW9ucy5zaXRlTmFtZSB8fCBhY3RpdmVTaXRlTmFtZSk7XG4gICAgfVxuICAgIGNvbnN0IGZpbmFsTmFtZSA9IG9wdGlvbnMuc2l0ZU5hbWUgfHwgYWN0aXZlU2l0ZU5hbWU7XG4gICAgdXBkYXRlU2l0ZUxhYmVscyhmaW5hbE5hbWUpO1xuICAgIHVwZGF0ZVdvcmtzcGFjZU5hdkxpbmtzKG5vcm1hbGl6ZWRTbHVnKTtcbiAgfTtcblxuICBjb25zdCBzZWxlY3RTaXRlID0gYXN5bmMgKHNsdWcsIG5hbWUpID0+IHtcbiAgICBjb25zdCBub3JtYWxpemVkU2x1ZyA9IGVuc3VyZUxlYWRpbmdTbGFzaChzbHVnKTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9zaXRlcy9zZWxlY3QnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBzbHVnOiBub3JtYWxpemVkU2x1ZyB9KSxcbiAgICAgIH0pO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICBzaG93VG9hc3QocGF5bG9hZC5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIHNcdTAwRTlsZWN0aW9ubmVyIGNlIHNpdGUuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICBjb25zdCBmaW5hbFNsdWcgPSBlbnN1cmVMZWFkaW5nU2xhc2gocGF5bG9hZC5zbHVnIHx8IG5vcm1hbGl6ZWRTbHVnKTtcbiAgICAgIGNvbnN0IGZpbmFsTmFtZSA9IHBheWxvYWQubmFtZSB8fCBuYW1lO1xuICAgICAgcGVyc2lzdFNpdGVTdGF0ZShmaW5hbFNsdWcsIGZpbmFsTmFtZSk7XG4gICAgICBhcHBseUFjdGl2ZVNpdGUoZmluYWxTbHVnLCB7IHNpdGVOYW1lOiBmaW5hbE5hbWUsIHBlcnNpc3Q6IGZhbHNlIH0pO1xuICAgICAgY29uc3Qgc2x1Z1BhdGggPSBlbmNvZGVVUklDb21wb25lbnQoc3RyaXBMZWFkaW5nU2xhc2goZmluYWxTbHVnKSk7XG4gICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGAvYWRtaW4vc2l0ZS8ke3NsdWdQYXRofS9kZXNpZ25gO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignW2FkbWluXSBJbXBvc3NpYmxlIGRlIHNcdTAwRTlsZWN0aW9ubmVyIGxlIHNpdGUnLCBlcnIpO1xuICAgICAgc2hvd1RvYXN0KCdFcnJldXIgaW5hdHRlbmR1ZSBsb3JzIGRlIGxhIHNcdTAwRTlsZWN0aW9uLicpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBzeW5jQWN0aXZlU2l0ZUZyb21TZXJ2ZXIgPSBhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvc2l0ZXMvY3VycmVudCcsIHsgY3JlZGVudGlhbHM6ICdzYW1lLW9yaWdpbicgfSk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwNCAmJiB3b3Jrc3BhY2VDb250ZXh0KSB7XG4gICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnL2FkbWluL3NpdGVzJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBzaXRlID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgY29uc3Qgbm9ybWFsaXplZFNsdWcgPSBlbnN1cmVMZWFkaW5nU2xhc2goc2l0ZS5zbHVnKTtcbiAgICAgIHBlcnNpc3RTaXRlU3RhdGUobm9ybWFsaXplZFNsdWcsIHNpdGUubmFtZSk7XG4gICAgICBhcHBseUFjdGl2ZVNpdGUobm9ybWFsaXplZFNsdWcsIHsgc2l0ZU5hbWU6IHNpdGUubmFtZSwgcGVyc2lzdDogZmFsc2UgfSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ1thZG1pbl0gSW1wb3NzaWJsZSBkZSByXHUwMEU5Y3VwXHUwMEU5cmVyIGxlIHNpdGUgYWN0aWYnLCBlcnIpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoaWdobGlnaHRGcm9tU3RvcmFnZU9yRGVmYXVsdCA9ICgpID0+IHtcbiAgICBpZiAoc3RvcmVkU2l0ZS5zbHVnKSB7XG4gICAgICBhcHBseUFjdGl2ZVNpdGUoc3RvcmVkU2l0ZS5zbHVnLCB7IHNpdGVOYW1lOiBzdG9yZWRTaXRlLm5hbWUsIHBlcnNpc3Q6IGZhbHNlIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBkZWZhdWx0Q2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtY2FyZF1bZGF0YS1zaXRlLWRlZmF1bHQ9XCJ0cnVlXCJdJykgfHwgc2l0ZUNhcmRzWzBdO1xuICAgIGlmIChkZWZhdWx0Q2FyZCkge1xuICAgICAgYXBwbHlBY3RpdmVTaXRlKGRlZmF1bHRDYXJkLmRhdGFzZXQuc2l0ZUNhcmQsIHtcbiAgICAgICAgc2l0ZU5hbWU6IGRlZmF1bHRDYXJkLmRhdGFzZXQuc2l0ZU5hbWUgfHwgJycsXG4gICAgICAgIHBlcnNpc3Q6IGZhbHNlLFxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIGhpZ2hsaWdodEZyb21TdG9yYWdlT3JEZWZhdWx0KCk7XG4gIHN5bmNBY3RpdmVTaXRlRnJvbVNlcnZlcigpO1xuICBpZiAod29ya3NwYWNlQ29udGV4dCkge1xuICAgIHVwZGF0ZVdvcmtzcGFjZU5hdkxpbmtzKHdvcmtzcGFjZUNvbnRleHQuc2x1Z1ZhbHVlKTtcbiAgfSBlbHNlIGlmIChzdG9yZWRTaXRlLnNsdWcpIHtcbiAgICB1cGRhdGVXb3Jrc3BhY2VOYXZMaW5rcyhzdG9yZWRTaXRlLnNsdWcpO1xuICB9XG5cbiAgc2l0ZVNlbGVjdEJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgaWYgKGJ1dHRvbi5kaXNhYmxlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBzbHVnID0gYnV0dG9uLmRhdGFzZXQuc2l0ZVNlbGVjdDtcbiAgICAgIGNvbnN0IG5hbWUgPSBidXR0b24uZGF0YXNldC5zaXRlU2VsZWN0TmFtZSB8fCAnQ2Ugc2l0ZSc7XG4gICAgICBpZiAoIXNsdWcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIHNlbGVjdFNpdGUoc2x1ZywgbmFtZSkuZmluYWxseSgoKSA9PiB7XG4gICAgICAgIGJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGNvbnN0IHdvcmtzcGFjZVNsdWdpZnkgPSAodmFsdWUpID0+XG4gICAgKHZhbHVlIHx8ICcnKVxuICAgICAgLm5vcm1hbGl6ZSgnTkZEJylcbiAgICAgIC5yZXBsYWNlKC9bXFx1MDMwMC1cXHUwMzZmXS9nLCAnJylcbiAgICAgIC50b0xvd2VyQ2FzZSgpXG4gICAgICAucmVwbGFjZSgvW15hLXowLTldKy9nLCAnLScpXG4gICAgICAucmVwbGFjZSgvXi0rfC0rJC9nLCAnJyk7XG5cbiAgY29uc3Qgbm9ybWFsaXplU2x1Z1ZhbHVlID0gKHZhbHVlKSA9PiB7XG4gICAgY29uc3QgYmFzZSA9IHdvcmtzcGFjZVNsdWdpZnkodmFsdWUgfHwgJycpO1xuICAgIGlmICghYmFzZSkge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICByZXR1cm4gYC8ke2Jhc2V9YDtcbiAgfTtcblxuICBjb25zdCBvcGVuU2l0ZU1vZGFsID0gKCkgPT4ge1xuICAgIGlmICghc2l0ZU1vZGFsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxhc3RGb2N1c2VkRWxlbWVudCA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG4gICAgc2l0ZU1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgIHNpdGVNb2RhbC5jbGFzc0xpc3QuYWRkKCdmbGV4Jyk7XG4gICAgc2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gICAgc2l0ZUZvcm0/LnJlc2V0KCk7XG4gICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICBzaXRlTW9kYWxFcnJvciAmJiAoc2l0ZU1vZGFsRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgaWYgKHNpdGVTbHVnSW5wdXQgJiYgc2l0ZU5hbWVJbnB1dCkge1xuICAgICAgc2l0ZVNsdWdJbnB1dC52YWx1ZSA9IHdvcmtzcGFjZVNsdWdpZnkoc2l0ZU5hbWVJbnB1dC52YWx1ZSk7XG4gICAgfVxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0cmFwRm9jdXMpO1xuICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHNpdGVOYW1lSW5wdXQ/LmZvY3VzKCk7XG4gICAgfSwgMCk7XG4gIH07XG5cbiAgY29uc3QgY2xvc2VTaXRlTW9kYWwgPSAoKSA9PiB7XG4gICAgaWYgKCFzaXRlTW9kYWwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2l0ZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgIHNpdGVNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdmbGV4Jyk7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRyYXBGb2N1cyk7XG4gICAgc2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gICAgc2l0ZUZvcm0/LnJlc2V0KCk7XG4gICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICBzaXRlTW9kYWxFcnJvciAmJiAoc2l0ZU1vZGFsRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgbGFzdEZvY3VzZWRFbGVtZW50Py5mb2N1cygpO1xuICB9O1xuXG4gIHNpdGVDcmVhdGVCdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5TaXRlTW9kYWwpO1xuICB9KTtcblxuICBzaXRlTW9kYWxDYW5jZWxCdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlU2l0ZU1vZGFsKTtcbiAgfSk7XG5cbiAgc2l0ZU1vZGFsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgIGlmIChldmVudC50YXJnZXQgPT09IHNpdGVNb2RhbCkge1xuICAgICAgY2xvc2VTaXRlTW9kYWwoKTtcbiAgICB9XG4gIH0pO1xuXG4gIHNpdGVOYW1lSW5wdXQ/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgIGlmICghc2l0ZVNsdWdJbnB1dCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIXNsdWdNYW51YWxseUVkaXRlZCB8fCBzaXRlU2x1Z0lucHV0LnZhbHVlLnRyaW0oKS5sZW5ndGggPT09IDApIHtcbiAgICAgIHNpdGVTbHVnSW5wdXQudmFsdWUgPSB3b3Jrc3BhY2VTbHVnaWZ5KHNpdGVOYW1lSW5wdXQudmFsdWUpO1xuICAgIH1cbiAgICAvLyBDbGVhciBlcnJvcnMgd2hlbiB1c2VyIHR5cGVzXG4gICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICBzaXRlTW9kYWxFcnJvciAmJiAoc2l0ZU1vZGFsRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gIH0pO1xuXG4gIHNpdGVTbHVnSW5wdXQ/LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgKCkgPT4ge1xuICAgIC8vIEF1dG8tZmlsbCBzbHVnIGZyb20gbmFtZSBpZiBlbXB0eSB3aGVuIHVzZXIgZm9jdXNlcyB0aGUgc2x1ZyBmaWVsZFxuICAgIGNvbnN0IHNsdWdWYWwgPSBzaXRlU2x1Z0lucHV0Py52YWx1ZSB8fCAnJztcbiAgICBjb25zdCBuYW1lVmFsID0gc2l0ZU5hbWVJbnB1dD8udmFsdWUgfHwgJyc7XG4gICAgaWYgKCFzbHVnVmFsLnRyaW0oKSAmJiBuYW1lVmFsLnRyaW0oKSkge1xuICAgICAgc2l0ZVNsdWdJbnB1dC52YWx1ZSA9IHdvcmtzcGFjZVNsdWdpZnkobmFtZVZhbCk7XG4gICAgfVxuICB9KTtcblxuICBzaXRlU2x1Z0lucHV0Py5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICBzbHVnTWFudWFsbHlFZGl0ZWQgPSB0cnVlO1xuICAgIHNpdGVTbHVnRXJyb3IgJiYgKHNpdGVTbHVnRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgc2l0ZU1vZGFsRXJyb3IgJiYgKHNpdGVNb2RhbEVycm9yLnRleHRDb250ZW50ID0gJycpO1xuICB9KTtcblxuICBjb25zdCBnZXRTbHVnU2V0ID0gKCkgPT5cbiAgICBuZXcgU2V0KEFycmF5LmZyb20oc2l0ZUNhcmRzKS5tYXAoKGNhcmQpID0+IGVuc3VyZUxlYWRpbmdTbGFzaChjYXJkLmRhdGFzZXQuc2l0ZUNhcmQgfHwgJycpKSk7XG5cbiAgc2l0ZUZvcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc29sZS5sb2coJ1thZG1pbl0gRm9ybSBzdWJtaXQgLSBzaXRlTmFtZUlucHV0OicsIHNpdGVOYW1lSW5wdXQsICdzaXRlU2x1Z0lucHV0OicsIHNpdGVTbHVnSW5wdXQpO1xuICAgIFxuICAgIGlmICghc2l0ZU5hbWVJbnB1dCB8fCAhc2l0ZVNsdWdJbnB1dCkge1xuICAgICAgY29uc29sZS5sb2coJ1thZG1pbl0gTWlzc2luZyBpbnB1dHMsIGFib3J0aW5nJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IG5hbWVWYWx1ZSA9IChzaXRlTmFtZUlucHV0LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgbGV0IHNsdWdWYWx1ZSA9IChzaXRlU2x1Z0lucHV0LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgXG4gICAgY29uc29sZS5sb2coJ1thZG1pbl0gbmFtZVZhbHVlOicsIG5hbWVWYWx1ZSwgJ3NsdWdWYWx1ZTonLCBzbHVnVmFsdWUpO1xuICAgIFxuICAgIC8vIEF1dG8tZ2VuZXJhdGUgc2x1ZyBmcm9tIG5hbWUgaWYgZW1wdHlcbiAgICBpZiAoIXNsdWdWYWx1ZSAmJiBuYW1lVmFsdWUpIHtcbiAgICAgIHNsdWdWYWx1ZSA9IHdvcmtzcGFjZVNsdWdpZnkobmFtZVZhbHVlKTtcbiAgICAgIHNpdGVTbHVnSW5wdXQudmFsdWUgPSBzbHVnVmFsdWU7XG4gICAgICBjb25zb2xlLmxvZygnW2FkbWluXSBBdXRvLWdlbmVyYXRlZCBzbHVnOicsIHNsdWdWYWx1ZSk7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IG5vcm1hbGl6ZWRTbHVnID0gbm9ybWFsaXplU2x1Z1ZhbHVlKHNsdWdWYWx1ZSk7XG4gICAgY29uc29sZS5sb2coJ1thZG1pbl0gbm9ybWFsaXplZFNsdWc6Jywgbm9ybWFsaXplZFNsdWcpO1xuICAgIFxuICAgIC8vIFZhbGlkYXRlIG5hbWVcbiAgICBpZiAoIW5hbWVWYWx1ZSkge1xuICAgICAgY29uc29sZS5sb2coJ1thZG1pbl0gTmFtZSB2YWxpZGF0aW9uIGZhaWxlZCcpO1xuICAgICAgc2l0ZU1vZGFsRXJyb3IgJiYgKHNpdGVNb2RhbEVycm9yLnRleHRDb250ZW50ID0gJ0xlIG5vbSBkdSBzaXRlIGVzdCByZXF1aXMuJyk7XG4gICAgICBzaXRlTmFtZUlucHV0LmZvY3VzKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIC8vIFZhbGlkYXRlIHNsdWdcbiAgICBpZiAoIW5vcm1hbGl6ZWRTbHVnKSB7XG4gICAgICBjb25zb2xlLmxvZygnW2FkbWluXSBTbHVnIHZhbGlkYXRpb24gZmFpbGVkJyk7XG4gICAgICBzaXRlU2x1Z0Vycm9yICYmIChzaXRlU2x1Z0Vycm9yLnRleHRDb250ZW50ID0gJ0xlIHNsdWcgbmUgcGV1dCBwYXMgXHUwMEVBdHJlIHZpZGUgb3UgY29udGVuaXIgdW5pcXVlbWVudCBkZXMgY2FyYWN0XHUwMEU4cmVzIHNwXHUwMEU5Y2lhdXguJyk7XG4gICAgICBzaXRlU2x1Z0lucHV0LmZvY3VzKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IGV4aXN0aW5nU2x1Z3MgPSBnZXRTbHVnU2V0KCk7XG4gICAgaWYgKGV4aXN0aW5nU2x1Z3MuaGFzKG5vcm1hbGl6ZWRTbHVnKSkge1xuICAgICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9ICdDZSBzbHVnIGVzdCBkXHUwMEU5alx1MDBFMCB1dGlsaXNcdTAwRTkuJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHNpdGVTbHVnRXJyb3IgJiYgKHNpdGVTbHVnRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgc2l0ZU1vZGFsRXJyb3IgJiYgKHNpdGVNb2RhbEVycm9yLnRleHRDb250ZW50ID0gJycpO1xuICAgIGlmIChzaXRlTW9kYWxTdWJtaXRCdXR0b24pIHtcbiAgICAgIHNpdGVNb2RhbFN1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICBzaXRlTW9kYWxTdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSAnQ3JcdTAwRTlhdGlvbi4uLic7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL3NpdGVzJywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgbmFtZTogbmFtZVZhbHVlLCBzbHVnOiBub3JtYWxpemVkU2x1ZyB9KSxcbiAgICAgIH0pO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gcGF5bG9hZC5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIGNyXHUwMEU5ZXIgY2Ugc2l0ZS4nO1xuICAgICAgICBzaXRlTW9kYWxFcnJvciAmJiAoc2l0ZU1vZGFsRXJyb3IudGV4dENvbnRlbnQgPSBtZXNzYWdlKTtcbiAgICAgICAgaWYgKHBheWxvYWQuZmllbGQgPT09ICdzbHVnJykge1xuICAgICAgICAgIHNpdGVTbHVnRXJyb3IgJiYgKHNpdGVTbHVnRXJyb3IudGV4dENvbnRlbnQgPSBtZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBjcmVhdGVkU2l0ZSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIGNvbnN0IGZpbmFsU2x1ZyA9IGVuc3VyZUxlYWRpbmdTbGFzaChjcmVhdGVkU2l0ZT8uc2x1ZyB8fCBub3JtYWxpemVkU2x1Zyk7XG4gICAgICBjb25zdCBmaW5hbE5hbWUgPSBjcmVhdGVkU2l0ZT8ubmFtZSB8fCBuYW1lVmFsdWU7XG4gICAgICBwZXJzaXN0U2l0ZVN0YXRlKGZpbmFsU2x1ZywgZmluYWxOYW1lKTtcbiAgICAgIGNsb3NlU2l0ZU1vZGFsKCk7XG4gICAgICBjb25zdCBzbHVnUGF0aCA9IGVuY29kZVVSSUNvbXBvbmVudChzdHJpcExlYWRpbmdTbGFzaChmaW5hbFNsdWcpKTtcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gYC9hZG1pbi9zaXRlLyR7c2x1Z1BhdGh9L2Rlc2lnbmA7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdbYWRtaW5dIEltcG9zc2libGUgZGUgY3JcdTAwRTllciBsZSBzaXRlJywgZXJyKTtcbiAgICAgIHNpdGVNb2RhbEVycm9yICYmIChzaXRlTW9kYWxFcnJvci50ZXh0Q29udGVudCA9ICdFcnJldXIgaW5hdHRlbmR1ZS4gUlx1MDBFOWVzc2FpZSBkYW5zIHVuIGluc3RhbnQuJyk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlmIChzaXRlTW9kYWxTdWJtaXRCdXR0b24pIHtcbiAgICAgICAgc2l0ZU1vZGFsU3VibWl0QnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIHNpdGVNb2RhbFN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9ICdDclx1MDBFOWVyJztcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2ZW50KSA9PiB7XG4gICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgIGlmIChzaXRlTW9kYWwgJiYgIXNpdGVNb2RhbC5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpKSB7XG4gICAgICAgIGNsb3NlU2l0ZU1vZGFsKCk7XG4gICAgICB9XG4gICAgICBpZiAod29ya3NwYWNlQmFja01vZGFsICYmICF3b3Jrc3BhY2VCYWNrTW9kYWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdoaWRkZW4nKSkge1xuICAgICAgICBjbG9zZVdvcmtzcGFjZUJhY2tNb2RhbCgpO1xuICAgICAgfVxuICAgICAgaWYgKGJsb2NrRGVsZXRlTW9kYWwgJiYgIWJsb2NrRGVsZXRlTW9kYWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdoaWRkZW4nKSkge1xuICAgICAgICBjbG9zZUJsb2NrRGVsZXRlTW9kYWwoKTtcbiAgICAgIH1cbiAgICAgIGlmIChibG9ja0xpYnJhcnlPcGVuKSB7XG4gICAgICAgIGNsb3NlQmxvY2tMaWJyYXJ5KCk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICBmdW5jdGlvbiBnZXRXb3Jrc3BhY2VDb250ZXh0KCkge1xuICAgIGNvbnN0IG1hdGNoID0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLm1hdGNoKC9eXFwvYWRtaW5cXC9zaXRlXFwvKFteL10rKSg/OlxcLyhbXi9dKykpPy8pO1xuICAgIGlmICghbWF0Y2gpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgc2x1Z1BhcnQ6IGRlY29kZVVSSUNvbXBvbmVudChtYXRjaFsxXSksXG4gICAgICBzbHVnVmFsdWU6IGVuc3VyZUxlYWRpbmdTbGFzaChkZWNvZGVVUklDb21wb25lbnQobWF0Y2hbMV0pKSxcbiAgICAgIHNlY3Rpb246IG1hdGNoWzJdIHx8ICdkZXNpZ24nLFxuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBkZXRlY3RXb3Jrc3BhY2VTZWN0aW9uKCkge1xuICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLWxpc3RdJykpIHtcbiAgICAgIHJldHVybiAnZGVzaWduJztcbiAgICB9XG4gICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbGxlY3Rpb24tbGlzdF0nKSkge1xuICAgICAgcmV0dXJuICdjb250ZW50JztcbiAgICB9XG4gICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWdyaWRdJykpIHtcbiAgICAgIHJldHVybiAnbWVkaWEnO1xuICAgIH1cbiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LWZvcm1dJykpIHtcbiAgICAgIHJldHVybiAnZGVwbG95JztcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBmdW5jdGlvbiBvcGVuV29ya3NwYWNlQmFja01vZGFsKCkge1xuICAgIGlmICghd29ya3NwYWNlQmFja01vZGFsKSB7XG4gICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvYWRtaW4vc2l0ZXMnO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB3b3Jrc3BhY2VCYWNrTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgd29ya3NwYWNlQmFja01vZGFsLmNsYXNzTGlzdC5hZGQoJ2ZsZXgnKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNsb3NlV29ya3NwYWNlQmFja01vZGFsKCkge1xuICAgIGlmICghd29ya3NwYWNlQmFja01vZGFsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHdvcmtzcGFjZUJhY2tNb2RhbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICB3b3Jrc3BhY2VCYWNrTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnZmxleCcpO1xuICB9XG5cbiAgd29ya3NwYWNlQmFja0J1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlbldvcmtzcGFjZUJhY2tNb2RhbCk7XG4gIH0pO1xuICB3b3Jrc3BhY2VCYWNrQ2FuY2VsLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlV29ya3NwYWNlQmFja01vZGFsKTtcbiAgfSk7XG4gIHdvcmtzcGFjZUJhY2tDb25maXJtPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvYWRtaW4vc2l0ZXMnO1xuICB9KTtcblxuICBjb25zdCBhY3RpdmVTZWN0aW9uID0gd29ya3NwYWNlQ29udGV4dD8uc2VjdGlvbiB8fCBkZXRlY3RXb3Jrc3BhY2VTZWN0aW9uKCk7XG5cbiAgaWYgKGFjdGl2ZVNlY3Rpb24gPT09ICdkZXNpZ24nKSB7XG4gICAgaW5pdERlc2lnbldvcmtzcGFjZSgpO1xuICB9XG4gIGlmIChhY3RpdmVTZWN0aW9uID09PSAnY29udGVudCcpIHtcbiAgICBpbml0Q29udGVudFdvcmtzcGFjZSgpO1xuICB9XG4gIGlmIChhY3RpdmVTZWN0aW9uID09PSAnbWVkaWEnKSB7XG4gICAgaW5pdE1lZGlhV29ya3NwYWNlKCk7XG4gIH1cbiAgaWYgKGFjdGl2ZVNlY3Rpb24gPT09ICdkZXBsb3knKSB7XG4gICAgaW5pdERlcGxveVdvcmtzcGFjZSgpO1xuICB9XG4gIGlmIChhY3RpdmVTZWN0aW9uID09PSAnc2V0dGluZ3MnKSB7XG4gICAgaW5pdFNldHRpbmdzV29ya3NwYWNlKCk7XG4gIH1cblxuICBpZiAod29ya3NwYWNlQ29udGV4dCAmJiBzdG9yZWRTaXRlLm5hbWUpIHtcbiAgICB1cGRhdGVTaXRlTGFiZWxzKHN0b3JlZFNpdGUubmFtZSk7XG4gIH1cblxuICBmdW5jdGlvbiBpbml0RGVzaWduV29ya3NwYWNlKCkge1xuICAgIGNvbnN0IHBhZ2VMaXN0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXBhZ2UtbGlzdF0nKTtcbiAgICBpZiAocGFnZUxpc3RzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBhY3RpdmVUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFjdGl2ZS1wYWdlLXRpdGxlXScpO1xuICAgIGNvbnN0IGFjdGl2ZVNsdWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hY3RpdmUtcGFnZS1zbHVnXScpO1xuICAgIGNvbnN0IHByZXZpZXdUYWdzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcmV2aWV3LXRhZ3NdJyk7XG4gICAgY29uc3QgcHJldmlld0ZyYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcmV2aWV3LWZyYW1lXScpO1xuICAgIGNvbnN0IHByZXZpZXdPcGVuQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcHJldmlldy1vcGVuXScpO1xuICAgIGNvbnN0IHByZXZpZXdTdGF0dXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wcmV2aWV3LXN0YXR1c10nKTtcbiAgICBjb25zdCBwcmV2aWV3SGlnaGxpZ2h0T3ZlcmxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXByZXZpZXctaGlnaGxpZ2h0XScpO1xuICAgIC8vIFNFTyBwYW5lbCBlbGVtZW50c1xuICAgIGNvbnN0IHNlb1RvZ2dsZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby10b2dnbGVdJyk7XG4gICAgY29uc3Qgc2VvUGFuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8tcGFuZWxdJyk7XG4gICAgY29uc3Qgc2VvQ2xvc2VCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8tY2xvc2VdJyk7XG4gICAgY29uc3Qgc2VvRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby1mb3JtXScpO1xuICAgIGNvbnN0IHNlb1RpdGxlSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8tdGl0bGVdJyk7XG4gICAgY29uc3Qgc2VvRGVzY3JpcHRpb25JbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby1kZXNjcmlwdGlvbl0nKTtcbiAgICBjb25zdCBzZW9JbmRleGVkQ2hlY2tib3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8taW5kZXhlZF0nKTtcbiAgICBjb25zdCBzZW9GZWVkYmFjayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby1mZWVkYmFja10nKTtcbiAgICBjb25zdCBzZW9TYXZlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2VvLXNhdmVdJyk7XG4gICAgY29uc3QgYmxvY2tMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2tzLWxpc3RdJyk7XG4gICAgY29uc3QgYmxvY2tMaXN0RW1wdHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9ja3MtZW1wdHldJyk7XG4gICAgY29uc3QgYmxvY2tDb3VudEJhZGdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stY291bnRdJyk7XG4gICAgY29uc3QgYmxvY2tMaWJyYXJ5VG9nZ2xlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stbGlicmFyeS10b2dnbGVdJyk7XG4gICAgY29uc3QgYmxvY2tMaWJyYXJ5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stbGlicmFyeV0nKTtcbiAgICBjb25zdCBibG9ja0FkZEJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1ibG9jay1hZGRdJyk7XG4gICAgY29uc3QgYmxvY2tEZWxldGVNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWRlbGV0ZS1tb2RhbF0nKTtcbiAgICBjb25zdCBibG9ja0RlbGV0ZUNvbmZpcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1kZWxldGUtY29uZmlybV0nKTtcbiAgICBjb25zdCBibG9ja0RlbGV0ZUNhbmNlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWRlbGV0ZS1jYW5jZWxdJyk7XG4gICAgY29uc3QgYmxvY2tEZXRhaWxFbXB0eSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWRldGFpbC1lbXB0eV0nKTtcbiAgICBjb25zdCBibG9ja0RldGFpbFN0YXR1cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWRldGFpbC1zdGF0dXNdJyk7XG4gICAgY29uc3QgYmxvY2tFZGl0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1lZGl0b3JdJyk7XG4gICAgY29uc3QgYmxvY2tFZGl0b3JUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWVkaXRvci1ibG9jay1uYW1lXScpO1xuICAgIGNvbnN0IGJsb2NrRWRpdG9yVHlwZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWVkaXRvci1ibG9jay10eXBlXScpO1xuICAgIGNvbnN0IGJsb2NrRWRpdG9yVW5zdXBwb3J0ZWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1lZGl0b3ItdW5zdXBwb3J0ZWRdJyk7XG4gICAgY29uc3QgYmxvY2tGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZm9ybV0nKTtcbiAgICBjb25zdCBibG9ja0Zvcm1TZWN0aW9ucyA9IGJsb2NrRm9ybVxuICAgICAgPyBBcnJheS5mcm9tKGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1lZGl0b3Itc2VjdGlvbl0nKSlcbiAgICAgIDogW107XG4gICAgLy8gT25nbGV0cyBDb250ZW51IC8gQXBwYXJlbmNlXG4gICAgY29uc3QgYmxvY2tUYWJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYmxvY2stdGFiXScpO1xuICAgIGxldCBhY3RpdmVCbG9ja1RhYiA9ICdjb250ZW50JztcbiAgICBcbiAgICAvLyBEXHUwMEU5Y2xhcmF0aW9ucyBkZXMgXHUwMEU5bFx1MDBFOW1lbnRzIGQnYWN0aW9ucyBkdSBmb3JtdWxhaXJlIChhdmFudCBzd2l0Y2hCbG9ja1RhYilcbiAgICBjb25zdCBibG9ja0Zvcm1BY3Rpb25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZm9ybS1hY3Rpb25zXScpO1xuICAgIGNvbnN0IGJsb2NrRm9ybUF1dG9zYXZlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZm9ybS1hdXRvc2F2ZV0nKTtcblxuICAgIC8vIEZvbmN0aW9uIHBvdXIgc3dpdGNoZXIgZW50cmUgbGVzIG9uZ2xldHMgQ29udGVudS9BcHBhcmVuY2VcbiAgICBjb25zdCBzd2l0Y2hCbG9ja1RhYiA9ICh0YWJOYW1lKSA9PiB7XG4gICAgICBhY3RpdmVCbG9ja1RhYiA9IHRhYk5hbWU7XG4gICAgICAvLyBNZXR0cmUgXHUwMEUwIGpvdXIgbGVzIHN0eWxlcyBkZXMgYm91dG9ucyBkJ29uZ2xldFxuICAgICAgYmxvY2tUYWJzLmZvckVhY2goKHRhYikgPT4ge1xuICAgICAgICBjb25zdCBpc0FjdGl2ZSA9IHRhYi5kYXRhc2V0LmJsb2NrVGFiID09PSB0YWJOYW1lO1xuICAgICAgICB0YWIuc2V0QXR0cmlidXRlKCdhcmlhLXNlbGVjdGVkJywgaXNBY3RpdmUgPyAndHJ1ZScgOiAnZmFsc2UnKTtcbiAgICAgICAgaWYgKGlzQWN0aXZlKSB7XG4gICAgICAgICAgdGFiLmNsYXNzTGlzdC5hZGQoJ3RleHQtWyM5QzZCRkZdJyk7XG4gICAgICAgICAgdGFiLmNsYXNzTGlzdC5yZW1vdmUoJ3RleHQtc2xhdGUtNTAwJywgJ2hvdmVyOnRleHQtc2xhdGUtNzAwJyk7XG4gICAgICAgICAgdGFiLmNsYXNzTGlzdC5hZGQoJ2FmdGVyOmFic29sdXRlJywgJ2FmdGVyOmJvdHRvbS0wJywgJ2FmdGVyOmxlZnQtMCcsICdhZnRlcjpyaWdodC0wJywgJ2FmdGVyOmgtMC41JywgJ2FmdGVyOmJnLVsjOUM2QkZGXScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRhYi5jbGFzc0xpc3QucmVtb3ZlKCd0ZXh0LVsjOUM2QkZGXScpO1xuICAgICAgICAgIHRhYi5jbGFzc0xpc3QuYWRkKCd0ZXh0LXNsYXRlLTUwMCcsICdob3Zlcjp0ZXh0LXNsYXRlLTcwMCcpO1xuICAgICAgICAgIHRhYi5jbGFzc0xpc3QucmVtb3ZlKCdhZnRlcjphYnNvbHV0ZScsICdhZnRlcjpib3R0b20tMCcsICdhZnRlcjpsZWZ0LTAnLCAnYWZ0ZXI6cmlnaHQtMCcsICdhZnRlcjpoLTAuNScsICdhZnRlcjpiZy1bIzlDNkJGRl0nKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICAvLyBBZmZpY2hlci9tYXNxdWVyIGxlcyBwYW5lbHMgZGFucyBsYSBzZWN0aW9uIGFjdGl2ZVxuICAgICAgY29uc3QgYWN0aXZlU2VjdGlvbiA9IGJsb2NrRm9ybT8ucXVlcnlTZWxlY3RvcignW2RhdGEtZWRpdG9yLXNlY3Rpb25dOm5vdCguaGlkZGVuKScpO1xuICAgICAgaWYgKGFjdGl2ZVNlY3Rpb24pIHtcbiAgICAgICAgY29uc3QgcGFuZWxzID0gYWN0aXZlU2VjdGlvbi5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1ibG9jay1wYW5lbF0nKTtcbiAgICAgICAgcGFuZWxzLmZvckVhY2goKHBhbmVsKSA9PiB7XG4gICAgICAgICAgaWYgKHBhbmVsLmRhdGFzZXQuYmxvY2tQYW5lbCA9PT0gdGFiTmFtZSkge1xuICAgICAgICAgICAgcGFuZWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhbmVsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICAvLyBBZmZpY2hlci9tYXNxdWVyIGxlcyBib3V0b25zIHNlbG9uIGwnb25nbGV0XG4gICAgICAvLyBDb250ZW51IFx1MjE5MiBib3V0b25zIEVucmVnaXN0cmVyL0FubnVsZXJcbiAgICAgIC8vIEFwcGFyZW5jZSBcdTIxOTIgaW5kaWNhdGV1ciBhdXRvLXNhdmVcbiAgICAgIGlmIChibG9ja0Zvcm1BY3Rpb25zICYmIGJsb2NrRm9ybUF1dG9zYXZlKSB7XG4gICAgICAgIGlmICh0YWJOYW1lID09PSAnY29udGVudCcpIHtcbiAgICAgICAgICBibG9ja0Zvcm1BY3Rpb25zLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgIGJsb2NrRm9ybUF1dG9zYXZlLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGJsb2NrRm9ybUFjdGlvbnMuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgICAgYmxvY2tGb3JtQXV0b3NhdmUuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gRXZlbnQgbGlzdGVuZXJzIHBvdXIgbGVzIG9uZ2xldHNcbiAgICBibG9ja1RhYnMuZm9yRWFjaCgodGFiKSA9PiB7XG4gICAgICB0YWIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIHN3aXRjaEJsb2NrVGFiKHRhYi5kYXRhc2V0LmJsb2NrVGFiKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgY29uc3QgY29sbGVjdGlvblNlbGVjdCA9IGJsb2NrRm9ybT8ucXVlcnlTZWxlY3RvcignW25hbWU9XCJjb2xsZWN0aW9uLWdyaWQtY29sbGVjdGlvblwiXScpO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25TZWxlY3Rpb25JbmZvID0gYmxvY2tGb3JtPy5xdWVyeVNlbGVjdG9yKFxuICAgICAgJ1tkYXRhLWNvbGxlY3Rpb24tc2VsZWN0aW9uLWluZm9dJyxcbiAgICApO1xuICAgIGNvbnN0IGJsb2NrRm9ybUNhbmNlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWZvcm0tY2FuY2VsXScpO1xuICAgIGNvbnN0IGdyb3VwUHJldmlld01vYmlsZSA9IGJsb2NrRm9ybT8ucXVlcnlTZWxlY3RvcignW2RhdGEtZ3JvdXAtcHJldmlldy1tb2JpbGVdJyk7XG4gICAgY29uc3QgZ3JvdXBQcmV2aWV3RGVza3RvcCA9IGJsb2NrRm9ybT8ucXVlcnlTZWxlY3RvcignW2RhdGEtZ3JvdXAtcHJldmlldy1kZXNrdG9wXScpO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25QcmV2aWV3TW9iaWxlID0gYmxvY2tGb3JtPy5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xsZWN0aW9uLXByZXZpZXctbW9iaWxlXScpO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25QcmV2aWV3RGVza3RvcCA9IGJsb2NrRm9ybT8ucXVlcnlTZWxlY3RvcignW2RhdGEtY29sbGVjdGlvbi1wcmV2aWV3LWRlc2t0b3BdJyk7XG4gICAgY29uc3QgYmxvY2tUeXBlRm9ybXMgPSB7XG4gICAgICBoZXJvOiB7XG4gICAgICAgIHNlY3Rpb246ICdoZXJvJyxcbiAgICAgICAgbGFiZWxGaWVsZDogJ3RpdGxlJyxcbiAgICAgICAgZGVzY3JpcHRpb25GaWVsZDogJ3N1YnRpdGxlJyxcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgdGl0bGU6ICdoZXJvLXRpdGxlJyxcbiAgICAgICAgICBzdWJ0aXRsZTogJ2hlcm8tc3VidGl0bGUnLFxuICAgICAgICAgIGN0YUxhYmVsOiAnaGVyby1jdGEtbGFiZWwnLFxuICAgICAgICAgIGN0YVVybDogJ2hlcm8tY3RhLXVybCcsXG4gICAgICAgICAgLy8gQXBwYXJlbmNlXG4gICAgICAgICAgaW1hZ2U6ICdoZXJvLWltYWdlJyxcbiAgICAgICAgICBsYXlvdXQ6ICdoZXJvLWxheW91dCcsXG4gICAgICAgICAgaGVpZ2h0OiAnaGVyby1oZWlnaHQnLFxuICAgICAgICAgIGNvbnRlbnRBbGlnbjogJ2hlcm8tY29udGVudC1hbGlnbicsXG4gICAgICAgICAgb3ZlcmxheTogJ2hlcm8tb3ZlcmxheScsXG4gICAgICAgICAgdGl0bGVTaXplOiAnaGVyby10aXRsZS1zaXplJyxcbiAgICAgICAgICAvLyBDYXJkIHN0eWxlXG4gICAgICAgICAgYmc6ICdoZXJvLWJnJyxcbiAgICAgICAgICBib3JkZXJSYWRpdXM6ICdoZXJvLWJvcmRlci1yYWRpdXMnLFxuICAgICAgICAgIHNoYWRvdzogJ2hlcm8tc2hhZG93JyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBwYXJhZ3JhcGhlOiB7XG4gICAgICAgIHNlY3Rpb246ICdwYXJhZ3JhcGgnLFxuICAgICAgICBsYWJlbEZpZWxkOiAndGl0bGUnLFxuICAgICAgICBkZXNjcmlwdGlvbkZpZWxkOiAnY29udGVudCcsXG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIHRpdGxlOiAncGFyYWdyYXBoLXRpdGxlJyxcbiAgICAgICAgICBjb250ZW50OiAncGFyYWdyYXBoLWNvbnRlbnQnLFxuICAgICAgICAgIC8vIEFwcGFyZW5jZVxuICAgICAgICAgIGFsaWduOiAncGFyYWdyYXBoLWFsaWduJyxcbiAgICAgICAgICB0aXRsZVNpemU6ICdwYXJhZ3JhcGgtdGl0bGUtc2l6ZScsXG4gICAgICAgICAgdGV4dFNpemU6ICdwYXJhZ3JhcGgtdGV4dC1zaXplJyxcbiAgICAgICAgICBzcGFjaW5nOiAncGFyYWdyYXBoLXNwYWNpbmcnLFxuICAgICAgICAgIC8vIENhcmQgc3R5bGVcbiAgICAgICAgICBiZzogJ3BhcmFncmFwaC1iZycsXG4gICAgICAgICAgYm9yZGVyUmFkaXVzOiAncGFyYWdyYXBoLWJvcmRlci1yYWRpdXMnLFxuICAgICAgICAgIHNoYWRvdzogJ3BhcmFncmFwaC1zaGFkb3cnLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGltYWdlOiB7XG4gICAgICAgIHNlY3Rpb246ICdpbWFnZScsXG4gICAgICAgIGxhYmVsRmllbGQ6ICdhbHQnLFxuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBzcmM6ICdpbWFnZS1zcmMnLFxuICAgICAgICAgIGFsdDogJ2ltYWdlLWFsdCcsXG4gICAgICAgICAgc2hvd0NhcHRpb246ICdpbWFnZS1jYXB0aW9uLXRvZ2dsZScsXG4gICAgICAgICAgY2FwdGlvbjogJ2ltYWdlLWNhcHRpb24nLFxuICAgICAgICAgIC8vIEFwcGFyZW5jZVxuICAgICAgICAgIHJvdW5kZWQ6ICdpbWFnZS1yb3VuZGVkJyxcbiAgICAgICAgICBzaGFkb3c6ICdpbWFnZS1zaGFkb3cnLFxuICAgICAgICAgIG1heFdpZHRoOiAnaW1hZ2UtbWF4LXdpZHRoJyxcbiAgICAgICAgICBhbGlnbjogJ2ltYWdlLWFsaWduJyxcbiAgICAgICAgICAvLyBDYXJkIHN0eWxlXG4gICAgICAgICAgYmc6ICdpbWFnZS1iZycsXG4gICAgICAgICAgYm9yZGVyUmFkaXVzOiAnaW1hZ2UtYm9yZGVyLXJhZGl1cycsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgZ3JvdXBlOiB7XG4gICAgICAgIHNlY3Rpb246ICdncm91cCcsXG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIC8vIEFwcGFyZW5jZVxuICAgICAgICAgIGNvbHVtbnNNb2JpbGU6ICdncm91cC1jb2x1bW5zLW1vYmlsZScsXG4gICAgICAgICAgY29sdW1uc0Rlc2t0b3A6ICdncm91cC1jb2x1bW5zLWRlc2t0b3AnLFxuICAgICAgICAgIGdhcDogJ2dyb3VwLWdhcCcsXG4gICAgICAgICAgaXRlbXNBbGlnbjogJ2dyb3VwLWl0ZW1zLWFsaWduJyxcbiAgICAgICAgICAvLyBDYXJkIHN0eWxlXG4gICAgICAgICAgYmc6ICdncm91cC1iZycsXG4gICAgICAgICAgYm9yZGVyUmFkaXVzOiAnZ3JvdXAtYm9yZGVyLXJhZGl1cycsXG4gICAgICAgICAgc2hhZG93OiAnZ3JvdXAtc2hhZG93JyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBjb2xsZWN0aW9uZ3JpZDoge1xuICAgICAgICBzZWN0aW9uOiAnY29sbGVjdGlvbicsXG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIGNvbGxlY3Rpb25JZDogJ2NvbGxlY3Rpb24tZ3JpZC1jb2xsZWN0aW9uJyxcbiAgICAgICAgICBsaW1pdDogJ2NvbGxlY3Rpb24tZ3JpZC1saW1pdCcsXG4gICAgICAgICAgLy8gQXBwYXJlbmNlXG4gICAgICAgICAgY29sdW1uc01vYmlsZTogJ2NvbGxlY3Rpb24tY29sdW1ucy1tb2JpbGUnLFxuICAgICAgICAgIGNvbHVtbnNEZXNrdG9wOiAnY29sbGVjdGlvbi1jb2x1bW5zLWRlc2t0b3AnLFxuICAgICAgICAgIGdhcDogJ2NvbGxlY3Rpb24tZ2FwJyxcbiAgICAgICAgICBpdGVtc0FsaWduOiAnY29sbGVjdGlvbi1pdGVtcy1hbGlnbicsXG4gICAgICAgICAgY2FyZFJvdW5kZWQ6ICdjb2xsZWN0aW9uLWNhcmQtcm91bmRlZCcsXG4gICAgICAgICAgLy8gQ2FyZCBzdHlsZVxuICAgICAgICAgIGJnOiAnY29sbGVjdGlvbi1iZycsXG4gICAgICAgICAgYm9yZGVyUmFkaXVzOiAnY29sbGVjdGlvbi1ib3JkZXItcmFkaXVzJyxcbiAgICAgICAgICBzaGFkb3c6ICdjb2xsZWN0aW9uLXNoYWRvdycsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgZm9ybToge1xuICAgICAgICBzZWN0aW9uOiAnZm9ybScsXG4gICAgICAgIGxhYmVsRmllbGQ6ICdmb3JtVGl0bGUnLFxuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBmb3JtVGl0bGU6ICdmb3JtLXRpdGxlJyxcbiAgICAgICAgICBhY3Rpb25Vcmw6ICdmb3JtLWFjdGlvbi11cmwnLFxuICAgICAgICAgIG1ldGhvZDogJ2Zvcm0tbWV0aG9kJyxcbiAgICAgICAgICBzZXJ2aWNlTmFtZTogJ2Zvcm0tc2VydmljZS1uYW1lJyxcbiAgICAgICAgICBzdWJtaXRMYWJlbDogJ2Zvcm0tc3VibWl0LWxhYmVsJyxcbiAgICAgICAgICBzdWNjZXNzTWVzc2FnZTogJ2Zvcm0tc3VjY2Vzcy1tZXNzYWdlJyxcbiAgICAgICAgICAvLyBBcHBhcmVuY2VcbiAgICAgICAgICBtYXhXaWR0aDogJ2Zvcm0tbWF4LXdpZHRoJyxcbiAgICAgICAgICBhbGlnbjogJ2Zvcm0tYWxpZ24nLFxuICAgICAgICAgIGJ1dHRvblJvdW5kZWQ6ICdmb3JtLWJ1dHRvbi1yb3VuZGVkJyxcbiAgICAgICAgICBzcGFjaW5nOiAnZm9ybS1zcGFjaW5nJyxcbiAgICAgICAgICAvLyBDYXJkIHN0eWxlXG4gICAgICAgICAgYmc6ICdmb3JtLWJnJyxcbiAgICAgICAgICBib3JkZXJSYWRpdXM6ICdmb3JtLWJvcmRlci1yYWRpdXMnLFxuICAgICAgICAgIHNoYWRvdzogJ2Zvcm0tc2hhZG93JyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBuZXdzbGV0dGVyZW1iZWQ6IHtcbiAgICAgICAgc2VjdGlvbjogJ25ld3NsZXR0ZXInLFxuICAgICAgICBsYWJlbEZpZWxkOiAndGl0bGUnLFxuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICB0aXRsZTogJ25ld3NsZXR0ZXItdGl0bGUnLFxuICAgICAgICAgIHNlcnZpY2VOYW1lOiAnbmV3c2xldHRlci1zZXJ2aWNlLW5hbWUnLFxuICAgICAgICAgIGVtYmVkQ29kZTogJ25ld3NsZXR0ZXItZW1iZWQtY29kZScsXG4gICAgICAgICAgLy8gQXBwYXJlbmNlXG4gICAgICAgICAgbWF4V2lkdGg6ICduZXdzbGV0dGVyLW1heC13aWR0aCcsXG4gICAgICAgICAgYWxpZ246ICduZXdzbGV0dGVyLWFsaWduJyxcbiAgICAgICAgICBwYWRkaW5nOiAnbmV3c2xldHRlci1wYWRkaW5nJyxcbiAgICAgICAgICBiZzogJ25ld3NsZXR0ZXItYmcnLFxuICAgICAgICAgIC8vIENhcmQgc3R5bGVcbiAgICAgICAgICBib3JkZXJSYWRpdXM6ICduZXdzbGV0dGVyLWJvcmRlci1yYWRpdXMnLFxuICAgICAgICAgIHNoYWRvdzogJ25ld3NsZXR0ZXItc2hhZG93JyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfTtcbiAgICBjb25zdCBibG9ja1R5cGVBbGlhc2VzID0ge1xuICAgICAgdGV4dGU6ICdwYXJhZ3JhcGhlJyxcbiAgICAgIHBhcmFncmFwaDogJ3BhcmFncmFwaGUnLFxuICAgICAgcGFyYWdyYXBoczogJ3BhcmFncmFwaGUnLFxuICAgICAgcGFyYWdyYXBoZXM6ICdwYXJhZ3JhcGhlJyxcbiAgICAgIHRleHQ6ICdwYXJhZ3JhcGhlJyxcbiAgICAgIGhlcm86ICdoZXJvJyxcbiAgICAgIGltYWdlOiAnaW1hZ2UnLFxuICAgICAgZ3JvdXBlOiAnZ3JvdXBlJyxcbiAgICAgIGdyb3VwOiAnZ3JvdXBlJyxcbiAgICAgIGNvbGxlY3Rpb246ICdjb2xsZWN0aW9uZ3JpZCcsXG4gICAgICBjb2xsZWN0aW9uZ3JpZDogJ2NvbGxlY3Rpb25ncmlkJyxcbiAgICAgICdjb2xsZWN0aW9uLWdyaWQnOiAnY29sbGVjdGlvbmdyaWQnLFxuICAgICAgZm9ybTogJ2Zvcm0nLFxuICAgICAgZm9ybXVsYWlyZTogJ2Zvcm0nLFxuICAgICAgY29udGFjdDogJ2Zvcm0nLFxuICAgICAgbmV3c2xldHRlcmVtYmVkOiAnbmV3c2xldHRlcmVtYmVkJyxcbiAgICAgIG5ld3NsZXR0ZXI6ICduZXdzbGV0dGVyZW1iZWQnLFxuICAgICAgZW1iZWQ6ICduZXdzbGV0dGVyZW1iZWQnLFxuICAgIH07XG4gICAgY29uc3QgdXBkYXRlR3JvdXBNaW5pUHJldmlldyA9IChtb2JpbGVWYWx1ZSwgZGVza3RvcFZhbHVlKSA9PiB7XG4gICAgICBpZiAoIWdyb3VwUHJldmlld01vYmlsZSB8fCAhZ3JvdXBQcmV2aWV3RGVza3RvcCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCByZW5kZXJCb3hlcyA9IChjb3VudCkgPT5cbiAgICAgICAgQXJyYXkuZnJvbSh7IGxlbmd0aDogTnVtYmVyKGNvdW50KSB8fCAxIH0pXG4gICAgICAgICAgLm1hcCgoKSA9PiAnPHNwYW4gY2xhc3M9XCJibG9jayBoLTIgdy1mdWxsIHJvdW5kZWQtZnVsbCBiZy1zbGF0ZS0zMDBcIj48L3NwYW4+JylcbiAgICAgICAgICAuam9pbignJyk7XG4gICAgICBncm91cFByZXZpZXdNb2JpbGUuaW5uZXJIVE1MID0gcmVuZGVyQm94ZXMobW9iaWxlVmFsdWUpO1xuICAgICAgZ3JvdXBQcmV2aWV3RGVza3RvcC5pbm5lckhUTUwgPSByZW5kZXJCb3hlcyhkZXNrdG9wVmFsdWUpO1xuICAgIH07XG4gICAgY29uc3QgdXBkYXRlQ29sbGVjdGlvbk1pbmlQcmV2aWV3ID0gKG1vYmlsZVZhbHVlLCBkZXNrdG9wVmFsdWUpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvblByZXZpZXdNb2JpbGUgfHwgIWNvbGxlY3Rpb25QcmV2aWV3RGVza3RvcCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCByZW5kZXJCb3hlcyA9IChjb3VudCkgPT5cbiAgICAgICAgQXJyYXkuZnJvbSh7IGxlbmd0aDogTnVtYmVyKGNvdW50KSB8fCAxIH0pXG4gICAgICAgICAgLm1hcCgoKSA9PiAnPHNwYW4gY2xhc3M9XCJibG9jayBoLTIgdy1mdWxsIHJvdW5kZWQtZnVsbCBiZy12aW9sZXQtMzAwXCI+PC9zcGFuPicpXG4gICAgICAgICAgLmpvaW4oJycpO1xuICAgICAgY29sbGVjdGlvblByZXZpZXdNb2JpbGUuaW5uZXJIVE1MID0gcmVuZGVyQm94ZXMobW9iaWxlVmFsdWUpO1xuICAgICAgY29sbGVjdGlvblByZXZpZXdEZXNrdG9wLmlubmVySFRNTCA9IHJlbmRlckJveGVzKGRlc2t0b3BWYWx1ZSk7XG4gICAgfTtcbiAgICBjb25zdCBmZXRjaFBhZ2VzRnJvbVNlcnZlciA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghcGFnZXNBcGlCYXNlKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2gocGFnZXNBcGlCYXNlLCB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIHBhZ2VzLicpO1xuICAgICAgfVxuICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiBbXSk7XG4gICAgICByZXR1cm4gQXJyYXkuaXNBcnJheShwYXlsb2FkKSA/IHBheWxvYWQgOiBbXTtcbiAgICB9O1xuICAgIGNvbnN0IGNyZWF0ZVBhZ2VPblNlcnZlciA9IGFzeW5jICh7IHRpdGxlLCBzbHVnIH0pID0+IHtcbiAgICAgIGlmICghcGFnZXNBcGlCYXNlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignU2l0ZSBpbmNvbm51LicpO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChwYWdlc0FwaUJhc2UsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHRpdGxlLCBzbHVnIH0pLFxuICAgICAgfSk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihwYXlsb2FkLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgY3JcdTAwRTllciBsYSBwYWdlLicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICB9O1xuICAgIGNvbnN0IHNhdmVQYWdlVG9TZXJ2ZXIgPSBhc3luYyAocGFnZSkgPT4ge1xuICAgICAgaWYgKCFwYWdlc0FwaUJhc2UgfHwgIXBhZ2U/LmlkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7cGFnZXNBcGlCYXNlfS8ke2VuY29kZVVSSUNvbXBvbmVudChwYWdlLmlkKX1gLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGFnZSksXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocGF5bG9hZC5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIHNhdXZlZ2FyZGVyIGxhIHBhZ2UuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2F2ZWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIGlmIChzYXZlZD8uaWQpIHtcbiAgICAgICAgICBjb25zdCBub3JtYWxpemVkID0gbm9ybWFsaXplUGFnZURhdGEoc2F2ZWQpO1xuICAgICAgICAgIHBhZ2VzID0gcGFnZXMubWFwKChlbnRyeSkgPT4gKGVudHJ5LmlkID09PSBub3JtYWxpemVkLmlkID8gbm9ybWFsaXplZCA6IGVudHJ5KSk7XG4gICAgICAgICAgaWYgKGN1cnJlbnRQYWdlPy5pZCA9PT0gbm9ybWFsaXplZC5pZCkge1xuICAgICAgICAgICAgY3VycmVudFBhZ2UgPSBub3JtYWxpemVkO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbm9ybWFsaXplZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2F2ZWQ7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2Rlc2lnbl0gU2F2ZSBwYWdlIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnU2F1dmVnYXJkZSBpbXBvc3NpYmxlLicpO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgbG9hZFBhZ2VzRnJvbVNlcnZlciA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghcGFnZXNBcGlCYXNlKSB7XG4gICAgICAgIHBhZ2VzID0gW107XG4gICAgICAgIGFjdGl2ZVBhZ2VJZCA9IG51bGw7XG4gICAgICAgIGN1cnJlbnRQYWdlID0gbnVsbDtcbiAgICAgICAgcmVuZGVyUGFnZUxpc3RzKHBhZ2VzLCBhY3RpdmVQYWdlSWQpO1xuICAgICAgICByZW5kZXJCbG9ja0xpc3QobnVsbCk7XG4gICAgICAgIGJsb2NrRGV0YWlsRW1wdHk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICBibG9ja0VkaXRvcj8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGxvYWRlZFBhZ2VzID0gYXdhaXQgZmV0Y2hQYWdlc0Zyb21TZXJ2ZXIoKTtcbiAgICAgICAgcGFnZXMgPSAoQXJyYXkuaXNBcnJheShsb2FkZWRQYWdlcykgPyBsb2FkZWRQYWdlcyA6IFtdKS5tYXAoKHBhZ2UpID0+XG4gICAgICAgICAgbm9ybWFsaXplUGFnZURhdGEocGFnZSksXG4gICAgICAgICk7XG4gICAgICAgIGlmIChwYWdlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICBhY3RpdmVQYWdlSWQgPSBudWxsO1xuICAgICAgICAgIGN1cnJlbnRQYWdlID0gbnVsbDtcbiAgICAgICAgICByZW5kZXJQYWdlTGlzdHMocGFnZXMsIGFjdGl2ZVBhZ2VJZCk7XG4gICAgICAgICAgcmVuZGVyQmxvY2tMaXN0KG51bGwpO1xuICAgICAgICAgIGJsb2NrRGV0YWlsRW1wdHk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgIGJsb2NrRWRpdG9yPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgICBwcmV2aWV3RnJhbWUgJiYgKHByZXZpZXdGcmFtZS5zcmNkb2MgPSBnZXRMb2FkaW5nUHJldmlld0h0bWwoKSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGFjdGl2ZVBhZ2VJZCA9IGdldFN0b3JlZEFjdGl2ZVBhZ2UocGFnZXMpO1xuICAgICAgICBzZXRBY3RpdmVQYWdlKGFjdGl2ZVBhZ2VJZCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2Rlc2lnbl0gSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxlcyBwYWdlcycsIGVycik7XG4gICAgICAgIHNob3dUb2FzdCgnSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxlcyBwYWdlcy4nKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IG5vcm1hbGl6ZVR5cGUgPSAodmFsdWUpID0+XG4gICAgICAodmFsdWUgfHwgJycpLm5vcm1hbGl6ZSgnTkZEJykucmVwbGFjZSgvW1xcdTAzMDAtXFx1MDM2Zl0vZywgJycpLnRvTG93ZXJDYXNlKCk7XG4gICAgY29uc3QgZ2V0QmxvY2tGb3JtQ29uZmlnID0gKGJsb2NrKSA9PiB7XG4gICAgICBpZiAoIWJsb2NrKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgY29uc3QgdHlwZUtleSA9IG5vcm1hbGl6ZVR5cGUoYmxvY2sudHlwZSk7XG4gICAgICBjb25zdCBhbGlhcyA9IGJsb2NrVHlwZUFsaWFzZXNbdHlwZUtleV0gfHwgdHlwZUtleTtcbiAgICAgIHJldHVybiBibG9ja1R5cGVGb3Jtc1thbGlhc10gfHwgbnVsbDtcbiAgICB9O1xuICAgIGNvbnN0IHBvcHVsYXRlQmxvY2tGb3JtID0gKGJsb2NrKSA9PiB7XG4gICAgICBpZiAoIWJsb2NrRm9ybSB8fCAhYmxvY2tFZGl0b3IpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGJsb2NrICYmICFibG9jay5zZXR0aW5ncykge1xuICAgICAgICBibG9jay5zZXR0aW5ncyA9IHt9O1xuICAgICAgfVxuICAgICAgY29uc3QgY29uZmlnID0gZ2V0QmxvY2tGb3JtQ29uZmlnKGJsb2NrKTtcbiAgICAgIGlmIChibG9ja0VkaXRvclRpdGxlKSB7XG4gICAgICAgIGJsb2NrRWRpdG9yVGl0bGUudGV4dENvbnRlbnQgPSBibG9jaz8ubGFiZWwgfHwgJ0Jsb2MnO1xuICAgICAgfVxuICAgICAgaWYgKGJsb2NrRWRpdG9yVHlwZSkge1xuICAgICAgICBibG9ja0VkaXRvclR5cGUudGV4dENvbnRlbnQgPSBibG9jaz8udHlwZSB8fCAnQmxvYyc7XG4gICAgICB9XG4gICAgICBpZiAoIWNvbmZpZykge1xuICAgICAgICBibG9ja0Zvcm0uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIGJsb2NrRWRpdG9yVW5zdXBwb3J0ZWQ/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICBibG9ja0Zvcm0uZGF0YXNldC5ibG9ja0lkID0gJyc7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGJsb2NrRWRpdG9yVW5zdXBwb3J0ZWQ/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgYmxvY2tGb3JtLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgYmxvY2tGb3JtLnJlc2V0KCk7XG4gICAgICBibG9ja0Zvcm0uZGF0YXNldC5ibG9ja0lkID0gYmxvY2suaWQ7XG4gICAgICBibG9ja0Zvcm1TZWN0aW9ucy5mb3JFYWNoKChzZWN0aW9uKSA9PiB7XG4gICAgICAgIGNvbnN0IHNlY3Rpb25JZCA9IHNlY3Rpb24uZGF0YXNldC5lZGl0b3JTZWN0aW9uO1xuICAgICAgICBpZiAoc2VjdGlvbklkID09PSBjb25maWcuc2VjdGlvbikge1xuICAgICAgICAgIHNlY3Rpb24uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VjdGlvbi5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICAvLyBSXHUwMEU5aW5pdGlhbGlzZXIgc3VyIGwnb25nbGV0IENvbnRlbnVcbiAgICAgIHN3aXRjaEJsb2NrVGFiKCdjb250ZW50Jyk7XG4gICAgICBpZiAoY29uZmlnLnNlY3Rpb24gPT09ICdjb2xsZWN0aW9uJykge1xuICAgICAgICBjb25zdCBkZXNpcmVkVmFsdWUgPSBibG9jay5jb2xsZWN0aW9uSWQgfHwgYmxvY2suc2V0dGluZ3M/LmNvbGxlY3Rpb25JZCB8fCAnJztcbiAgICAgICAgdXBkYXRlQ29sbGVjdGlvblNlbGVjdE9wdGlvbnMoZGVzaXJlZFZhbHVlKTtcbiAgICAgIH1cbiAgICAgIE9iamVjdC5lbnRyaWVzKGNvbmZpZy5maWVsZHMpLmZvckVhY2goKFtzZXR0aW5nS2V5LCBmaWVsZE5hbWVdKSA9PiB7XG4gICAgICAgIGNvbnN0IGlucHV0ID0gYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3IoYFtuYW1lPVwiJHtmaWVsZE5hbWV9XCJdYCk7XG4gICAgICAgIGlmICghaW5wdXQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdmFsdWUgPSBibG9jay5zZXR0aW5ncz8uW3NldHRpbmdLZXldO1xuICAgICAgICBpZiAoaW5wdXQudHlwZSA9PT0gJ2NoZWNrYm94Jykge1xuICAgICAgICAgIGlucHV0LmNoZWNrZWQgPSBCb29sZWFuKHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIGlmIChpbnB1dC50eXBlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIGlucHV0LnZhbHVlID0gdmFsdWUgPz8gMTtcbiAgICAgICAgfSBlbHNlIGlmIChpbnB1dC50YWdOYW1lID09PSAnVEVYVEFSRUEnKSB7XG4gICAgICAgICAgaW5wdXQudmFsdWUgPSB2YWx1ZSA/PyAnJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpbnB1dC52YWx1ZSA9IHZhbHVlID8/ICcnO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmIChjb25maWcuc2VjdGlvbiA9PT0gJ2dyb3VwJykge1xuICAgICAgICBjb25zdCBtb2JpbGVWYWx1ZSA9XG4gICAgICAgICAgYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZ3JvdXAtY29sdW1ucy1tb2JpbGVcIl0nKT8udmFsdWUgfHwgJzEnO1xuICAgICAgICBjb25zdCBkZXNrdG9wVmFsdWUgPVxuICAgICAgICAgIGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImdyb3VwLWNvbHVtbnMtZGVza3RvcFwiXScpPy52YWx1ZSB8fCAnMyc7XG4gICAgICAgIHVwZGF0ZUdyb3VwTWluaVByZXZpZXcobW9iaWxlVmFsdWUsIGRlc2t0b3BWYWx1ZSk7XG4gICAgICB9XG4gICAgICBpZiAoY29uZmlnLnNlY3Rpb24gPT09ICdjb2xsZWN0aW9uJykge1xuICAgICAgICBjb25zdCBtb2JpbGVWYWx1ZSA9XG4gICAgICAgICAgYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiY29sbGVjdGlvbi1jb2x1bW5zLW1vYmlsZVwiXScpPy52YWx1ZSB8fCAnMSc7XG4gICAgICAgIGNvbnN0IGRlc2t0b3BWYWx1ZSA9XG4gICAgICAgICAgYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiY29sbGVjdGlvbi1jb2x1bW5zLWRlc2t0b3BcIl0nKT8udmFsdWUgfHwgJzMnO1xuICAgICAgICB1cGRhdGVDb2xsZWN0aW9uTWluaVByZXZpZXcobW9iaWxlVmFsdWUsIGRlc2t0b3BWYWx1ZSk7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBjb2xsZWN0Rm9ybVZhbHVlcyA9IChjb25maWcpID0+IHtcbiAgICAgIGlmICghYmxvY2tGb3JtIHx8ICFjb25maWcpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgfVxuICAgICAgY29uc3QgdmFsdWVzID0ge307XG4gICAgICBPYmplY3QuZW50cmllcyhjb25maWcuZmllbGRzKS5mb3JFYWNoKChbc2V0dGluZ0tleSwgZmllbGROYW1lXSkgPT4ge1xuICAgICAgICBjb25zdCBpbnB1dCA9IGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yKGBbbmFtZT1cIiR7ZmllbGROYW1lfVwiXWApO1xuICAgICAgICBpZiAoIWlucHV0KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbnB1dC50eXBlID09PSAnY2hlY2tib3gnKSB7XG4gICAgICAgICAgdmFsdWVzW3NldHRpbmdLZXldID0gaW5wdXQuY2hlY2tlZDtcbiAgICAgICAgfSBlbHNlIGlmIChpbnB1dC50eXBlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIGNvbnN0IHBhcnNlZCA9IE51bWJlcihpbnB1dC52YWx1ZSk7XG4gICAgICAgICAgdmFsdWVzW3NldHRpbmdLZXldID0gTnVtYmVyLmlzRmluaXRlKHBhcnNlZCkgPyBwYXJzZWQgOiAwO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0LnRhZ05hbWUgPT09ICdURVhUQVJFQScpIHtcbiAgICAgICAgICB2YWx1ZXNbc2V0dGluZ0tleV0gPSBpbnB1dC52YWx1ZSB8fCAnJztcbiAgICAgICAgfSBlbHNlIGlmIChpbnB1dC50eXBlID09PSAnc2VsZWN0LW9uZScpIHtcbiAgICAgICAgICB2YWx1ZXNbc2V0dGluZ0tleV0gPSBpbnB1dC52YWx1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YWx1ZXNbc2V0dGluZ0tleV0gPSBpbnB1dC52YWx1ZSB8fCAnJztcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gdmFsdWVzO1xuICAgIH07XG4gICAgY29uc3QgdXBkYXRlUHJldmlld1N0YXR1cyA9ICh0ZXh0KSA9PiB7XG4gICAgICBpZiAoIXByZXZpZXdTdGF0dXMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCF0ZXh0KSB7XG4gICAgICAgIHByZXZpZXdTdGF0dXMuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHByZXZpZXdTdGF0dXMuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBwcmV2aWV3U3RhdHVzLnRleHRDb250ZW50ID0gdGV4dDtcbiAgICB9O1xuICAgIGNvbnN0IHNlcmlhbGl6ZVBhZ2VGb3JQcmV2aWV3ID0gKHBhZ2UpID0+IHtcbiAgICAgIGlmICghcGFnZSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlkOiBwYWdlLmlkLFxuICAgICAgICB0aXRsZTogcGFnZS50aXRsZSxcbiAgICAgICAgc2x1ZzogcGFnZS5zbHVnLFxuICAgICAgICBiYWRnZXM6IFsuLi4ocGFnZS5iYWRnZXMgfHwgW10pXSxcbiAgICAgICAgYmxvY2tzOiAocGFnZS5ibG9ja3MgfHwgW10pLm1hcCgoYmxvY2spID0+ICh7XG4gICAgICAgICAgaWQ6IGJsb2NrLmlkLFxuICAgICAgICAgIHR5cGU6IGJsb2NrLnR5cGUsXG4gICAgICAgICAgbGFiZWw6IGJsb2NrLmxhYmVsLFxuICAgICAgICAgIHN0YXR1czogYmxvY2suc3RhdHVzLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBibG9jay5kZXNjcmlwdGlvbixcbiAgICAgICAgICBwcm9wczogYmxvY2sucHJvcHMgfHwgW10sXG4gICAgICAgICAgc2V0dGluZ3M6IGJsb2NrLnNldHRpbmdzIHx8IHt9LFxuICAgICAgICAgIGNvbGxlY3Rpb25JZDogYmxvY2suY29sbGVjdGlvbklkIHx8IGJsb2NrLnNldHRpbmdzPy5jb2xsZWN0aW9uSWQgfHwgJycsXG4gICAgICAgIH0pKSxcbiAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBnZXRMb2FkaW5nUHJldmlld0h0bWwgPSAoKSA9PlxuICAgICAgJzwhRE9DVFlQRSBodG1sPjxodG1sPjxib2R5IHN0eWxlPVwiZm9udC1mYW1pbHk6SW50ZXIsc2Fucy1zZXJpZjtwYWRkaW5nOjQwcHg7Y29sb3I6IzQ3NTU2OTtiYWNrZ3JvdW5kOiNmZmY7XCI+UHJcdTAwRTlwYXJhdGlvbiBkZSBsYSBwclx1MDBFOXZpc3VhbGlzYXRpb25cdTIwMjY8L2JvZHk+PC9odG1sPic7XG5cbiAgICAvLyBEZWJvdW5jZSB1dGlsaXR5XG4gICAgY29uc3QgZGVib3VuY2UgPSAoZm4sIGRlbGF5KSA9PiB7XG4gICAgICBsZXQgdGltZW91dElkO1xuICAgICAgcmV0dXJuICguLi5hcmdzKSA9PiB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICAgICAgICB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IGZuKC4uLmFyZ3MpLCBkZWxheSk7XG4gICAgICB9O1xuICAgIH07XG5cbiAgICAvLyBBdXRvLXNhdmUgcG91ciBsJ2FwcGFyZW5jZSAoZGVib3VuY2VkKVxuICAgIGxldCBhdXRvU2F2ZVRpbWVvdXQgPSBudWxsO1xuICAgIGNvbnN0IGF1dG9TYXZlQXBwZWFyYW5jZSA9ICgpID0+IHtcbiAgICAgIGlmICghY3VycmVudFBhZ2UgfHwgIWFjdGl2ZUJsb2NrSWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgYmxvY2sgPSBnZXRBY3RpdmVCbG9jaygpO1xuICAgICAgY29uc3QgY29uZmlnID0gZ2V0QmxvY2tGb3JtQ29uZmlnKGJsb2NrKTtcbiAgICAgIGlmICghYmxvY2sgfHwgIWNvbmZpZykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCB2YWx1ZXMgPSBjb2xsZWN0Rm9ybVZhbHVlcyhjb25maWcpO1xuICAgICAgY29uc3QgdXBkYXRlZEJsb2NrcyA9IChjdXJyZW50UGFnZS5ibG9ja3MgfHwgW10pLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgaWYgKGVudHJ5LmlkICE9PSBibG9jay5pZCkge1xuICAgICAgICAgIHJldHVybiBlbnRyeTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB1cGRhdGVkU2V0dGluZ3MgPSB7IC4uLihlbnRyeS5zZXR0aW5ncyB8fCB7fSksIC4uLnZhbHVlcyB9O1xuICAgICAgICByZXR1cm4geyAuLi5lbnRyeSwgc2V0dGluZ3M6IHVwZGF0ZWRTZXR0aW5ncyB9O1xuICAgICAgfSk7XG4gICAgICAvLyBNaXNlIFx1MDBFMCBqb3VyIHNpbGVuY2lldXNlIChzYW5zIHRvYXN0IG5pIHJlZnJlc2ggY29tcGxldClcbiAgICAgIGNvbnN0IG5leHRQYWdlID0geyAuLi5jdXJyZW50UGFnZSwgYmxvY2tzOiB1cGRhdGVkQmxvY2tzIH07XG4gICAgICBjdXJyZW50UGFnZSA9IG5leHRQYWdlO1xuICAgICAgc2F2ZVBhZ2VUb1NlcnZlcihuZXh0UGFnZSk7XG4gICAgfTtcblxuICAgIC8vIE1pc2UgXHUwMEUwIGpvdXIgbGl2ZSBkZSBsYSBwcmV2aWV3IHZpYSBwb3N0TWVzc2FnZSAoc2FucyByZWNoYXJnZXIgbCdpZnJhbWUpXG4gICAgY29uc3QgdXBkYXRlUHJldmlld0Jsb2NrTGl2ZSA9IChibG9ja0lkLCBzZXR0aW5ncykgPT4ge1xuICAgICAgaWYgKCFwcmV2aWV3RnJhbWUgfHwgIXByZXZpZXdGcmFtZS5jb250ZW50V2luZG93KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vIEVudm9pZSBsZXMgbm91dmVsbGVzIGNsYXNzZXMgYXUgYmxvYyBkYW5zIGwnaWZyYW1lXG4gICAgICBwcmV2aWV3RnJhbWUuY29udGVudFdpbmRvdy5wb3N0TWVzc2FnZSh7XG4gICAgICAgIHR5cGU6ICd1cGRhdGVCbG9ja1N0eWxlcycsXG4gICAgICAgIGJsb2NrSWQsXG4gICAgICAgIHNldHRpbmdzLFxuICAgICAgfSwgJyonKTtcbiAgICB9O1xuXG4gICAgLy8gTWlzZSBcdTAwRTAgam91ciBsaXZlICsgYXV0by1zYXZlIChkZWJvdW5jZWQpXG4gICAgY29uc3QgZGVib3VuY2VkQXV0b1NhdmUgPSBkZWJvdW5jZSgoKSA9PiB7XG4gICAgICBhdXRvU2F2ZUFwcGVhcmFuY2UoKTtcbiAgICAgIHVwZGF0ZVByZXZpZXdTdGF0dXMoJ1NhdXZlZ2FyZFx1MDBFOScpO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB1cGRhdGVQcmV2aWV3U3RhdHVzKCdcdTAwQzAgam91cicpLCAxNTAwKTtcbiAgICB9LCA4MDApO1xuXG4gICAgLy8gUmVmcmVzaCBwcmV2aWV3IGNvbXBsZXQgZGVib3VuY2VkIChwb3VyIGxlcyBjaGFuZ2VtZW50cyBjb21wbGV4ZXMpXG4gICAgY29uc3QgZGVib3VuY2VkUmVmcmVzaFByZXZpZXcgPSBkZWJvdW5jZSgoKSA9PiB7XG4gICAgICBpZiAoY3VycmVudFBhZ2UpIHtcbiAgICAgICAgcmVmcmVzaFByZXZpZXcoY3VycmVudFBhZ2UpO1xuICAgICAgfVxuICAgIH0sIDE1MDApO1xuXG4gICAgLy8gTWlzZSBcdTAwRTAgam91ciBsaXZlIGltbVx1MDBFOWRpYXRlIChwb3VyIGxhIHByZXZpZXcpXG4gICAgY29uc3QgaGFuZGxlQXBwZWFyYW5jZUNoYW5nZSA9IChibG9ja0lkLCBzZXR0aW5ncykgPT4ge1xuICAgICAgdXBkYXRlUHJldmlld0Jsb2NrTGl2ZShibG9ja0lkLCBzZXR0aW5ncyk7XG4gICAgICB1cGRhdGVQcmV2aWV3U3RhdHVzKCdNb2RpZmljYXRpb25cdTIwMjYnKTtcbiAgICAgIGRlYm91bmNlZEF1dG9TYXZlKCk7XG4gICAgICAvLyBSZWZyZXNoIGNvbXBsZXQgYXByXHUwMEU4cyB1biBkXHUwMEU5bGFpIHBsdXMgbG9uZyAocG91ciBsZXMgY2hhbmdlbWVudHMgZGUgbGF5b3V0LCBldGMuKVxuICAgICAgZGVib3VuY2VkUmVmcmVzaFByZXZpZXcoKTtcbiAgICB9O1xuXG4gICAgY29uc3QgcmVmcmVzaFByZXZpZXcgPSAocGFnZSkgPT4ge1xuICAgICAgaWYgKCFwcmV2aWV3RnJhbWUgfHwgIXBhZ2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgcHJldmlld1NpdGVTbHVnID0gd29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnJztcbiAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgIHBhZ2U6IHNlcmlhbGl6ZVBhZ2VGb3JQcmV2aWV3KHBhZ2UpLFxuICAgICAgICBzaXRlOiB7XG4gICAgICAgICAgdGl0bGU6IHN0b3JlZFNpdGUubmFtZSB8fCAnU2l0ZScsXG4gICAgICAgICAgc2x1ZzogcHJldmlld1NpdGVTbHVnLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICAgIHByZXZpZXdSZWFkeSA9IGZhbHNlO1xuICAgICAgdXBkYXRlUHJldmlld1N0YXR1cygnQWN0dWFsaXNhdGlvblx1MjAyNicpO1xuICAgICAgcHJldmlld0ZyYW1lLnNyY2RvYyA9IGdldExvYWRpbmdQcmV2aWV3SHRtbCgpO1xuICAgICAgaWYgKHByZXZpZXdSZXF1ZXN0Q29udHJvbGxlcikge1xuICAgICAgICBwcmV2aWV3UmVxdWVzdENvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgICBwcmV2aWV3UmVxdWVzdENvbnRyb2xsZXIgPSBjb250cm9sbGVyO1xuICAgICAgZmV0Y2goJy9hcGkvcHJldmlldycsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgc2lnbmFsOiBjb250cm9sbGVyLnNpZ25hbCxcbiAgICAgIH0pXG4gICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUHJldmlldyBlcnJvcicpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICB9KVxuICAgICAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICAgIGlmIChjb250cm9sbGVyLnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGxhdGVzdFByZXZpZXdIdG1sID0gZGF0YS5odG1sIHx8ICcnO1xuICAgICAgICAgIHByZXZpZXdGcmFtZS5zZXRBdHRyaWJ1dGUoXG4gICAgICAgICAgICAndGl0bGUnLFxuICAgICAgICAgICAgYFByXHUwMEU5dmlzdWFsaXNhdGlvbiBkZSBsYSBwYWdlICR7cGFnZS50aXRsZSB8fCAnJ31gLnRyaW0oKSxcbiAgICAgICAgICApO1xuICAgICAgICAgIHByZXZpZXdGcmFtZS5zcmNkb2MgPSBsYXRlc3RQcmV2aWV3SHRtbCB8fCBnZXRMb2FkaW5nUHJldmlld0h0bWwoKTtcbiAgICAgICAgICB1cGRhdGVQcmV2aWV3U3RhdHVzKCdcdTAwQzAgam91cicpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgaWYgKGNvbnRyb2xsZXIuc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3ByZXZpZXddIEltcG9zc2libGUgZGUgcmVuZHJlIGxhIHBhZ2UnLCBlcnJvcik7XG4gICAgICAgICAgdXBkYXRlUHJldmlld1N0YXR1cygnRXJyZXVyIHByZXZpZXcnKTtcbiAgICAgICAgICBwcmV2aWV3RnJhbWUuc3JjZG9jID1cbiAgICAgICAgICAgICc8IURPQ1RZUEUgaHRtbD48aHRtbD48Ym9keSBzdHlsZT1cImZvbnQtZmFtaWx5OkludGVyLHNhbnMtc2VyaWY7cGFkZGluZzo0MHB4O2NvbG9yOiNiZTEyM2M7YmFja2dyb3VuZDojZmZmO1wiPkVycmV1ciBsb3JzIGR1IHJlbmR1IGRlIGxhIHByXHUwMEU5dmlzdWFsaXNhdGlvbi48L2JvZHk+PC9odG1sPic7XG4gICAgICAgIH0pXG4gICAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgICBpZiAocHJldmlld1JlcXVlc3RDb250cm9sbGVyID09PSBjb250cm9sbGVyKSB7XG4gICAgICAgICAgICBwcmV2aWV3UmVxdWVzdENvbnRyb2xsZXIgPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBjb25zdCBoYW5kbGVCbG9ja0Zvcm1TdWJtaXQgPSAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlIHx8ICFhY3RpdmVCbG9ja0lkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGJsb2NrID0gZ2V0QWN0aXZlQmxvY2soKTtcbiAgICAgIGNvbnN0IGNvbmZpZyA9IGdldEJsb2NrRm9ybUNvbmZpZyhibG9jayk7XG4gICAgICBpZiAoIWJsb2NrIHx8ICFjb25maWcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgdmFsdWVzID0gY29sbGVjdEZvcm1WYWx1ZXMoY29uZmlnKTtcbiAgICAgIGlmIChjb25maWcuc2VjdGlvbiA9PT0gJ2NvbGxlY3Rpb24nKSB7XG4gICAgICAgIGlmICghdmFsdWVzLmNvbGxlY3Rpb25JZCkge1xuICAgICAgICAgIHNob3dUb2FzdCgnU1x1MDBFOWxlY3Rpb25uZXogdW5lIGNvbGxlY3Rpb24uJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhbHVlcy5saW1pdCA9IE1hdGgubWF4KDEsIE51bWJlcih2YWx1ZXMubGltaXQpIHx8IDEpO1xuICAgICAgfVxuICAgICAgY29uc3QgdXBkYXRlZEJsb2NrcyA9IChjdXJyZW50UGFnZS5ibG9ja3MgfHwgW10pLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgaWYgKGVudHJ5LmlkICE9PSBibG9jay5pZCkge1xuICAgICAgICAgIHJldHVybiBlbnRyeTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB1cGRhdGVkU2V0dGluZ3MgPSB7IC4uLihlbnRyeS5zZXR0aW5ncyB8fCB7fSksIC4uLnZhbHVlcyB9O1xuICAgICAgICBjb25zdCB1cGRhdGVkQmxvY2sgPSB7XG4gICAgICAgICAgLi4uZW50cnksXG4gICAgICAgICAgc2V0dGluZ3M6IHVwZGF0ZWRTZXR0aW5ncyxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGNvbmZpZy5sYWJlbEZpZWxkICYmIHZhbHVlc1tjb25maWcubGFiZWxGaWVsZF0pIHtcbiAgICAgICAgICB1cGRhdGVkQmxvY2subGFiZWwgPSB2YWx1ZXNbY29uZmlnLmxhYmVsRmllbGRdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb25maWcuZGVzY3JpcHRpb25GaWVsZCAmJiB2YWx1ZXNbY29uZmlnLmRlc2NyaXB0aW9uRmllbGRdKSB7XG4gICAgICAgICAgdXBkYXRlZEJsb2NrLmRlc2NyaXB0aW9uID0gdmFsdWVzW2NvbmZpZy5kZXNjcmlwdGlvbkZpZWxkXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29uZmlnLnNlY3Rpb24gPT09ICdjb2xsZWN0aW9uJykge1xuICAgICAgICAgIHVwZGF0ZWRCbG9jay5jb2xsZWN0aW9uSWQgPSB2YWx1ZXMuY29sbGVjdGlvbklkO1xuICAgICAgICAgIHVwZGF0ZWRCbG9jay5zZXR0aW5ncy5jb2xsZWN0aW9uSWQgPSB2YWx1ZXMuY29sbGVjdGlvbklkO1xuICAgICAgICAgIHVwZGF0ZWRCbG9jay5zZXR0aW5ncy5saW1pdCA9IHZhbHVlcy5saW1pdDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdXBkYXRlZEJsb2NrO1xuICAgICAgfSk7XG4gICAgICB1cGRhdGVDdXJyZW50UGFnZUJsb2Nrcyh1cGRhdGVkQmxvY2tzKTtcbiAgICAgIHNob3dUb2FzdCgnQmxvYyBtaXMgXHUwMEUwIGpvdXInKTtcbiAgICAgIHNldEFjdGl2ZVBhZ2UoY3VycmVudFBhZ2UuaWQsIHsgcHJlc2VydmVCbG9jazogdHJ1ZSB9KTtcbiAgICB9O1xuICAgIGNvbnN0IGRyYXdlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXBhZ2UtZHJhd2VyXScpO1xuICAgIGNvbnN0IGRyYXdlckJhY2tkcm9wID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1kcmF3ZXItYmFja2Ryb3BdJyk7XG4gICAgY29uc3QgZHJhd2VyT3BlbkJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1wYWdlLWRyYXdlci1vcGVuXScpO1xuICAgIGNvbnN0IGRyYXdlckNsb3NlQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXBhZ2UtZHJhd2VyLWNsb3NlXScpO1xuICAgIGNvbnN0IGFkZFBhZ2VUb2dnbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZGQtcGFnZS10b2dnbGVdJyk7XG4gICAgY29uc3QgYWRkUGFnZUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZGQtcGFnZS1mb3JtXScpO1xuICAgIGNvbnN0IGFkZFBhZ2VUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFkZC1wYWdlLXRpdGxlXScpO1xuICAgIGNvbnN0IGFkZFBhZ2VTbHVnID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRkLXBhZ2Utc2x1Z10nKTtcbiAgICBjb25zdCBhZGRQYWdlQ2FuY2VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRkLXBhZ2UtY2FuY2VsXScpO1xuICAgIGNvbnN0IGFkZFBhZ2VFcnJvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFkZC1wYWdlLWVycm9yXScpO1xuICAgIGNvbnN0IGFkZFBhZ2VTdWJtaXRCdXR0b24gPSBhZGRQYWdlRm9ybT8ucXVlcnlTZWxlY3RvcignW3R5cGU9XCJzdWJtaXRcIl0nKTtcbiAgICAvLyBJbXBvcnQgSlNPTiBlbGVtZW50c1xuICAgIGNvbnN0IGltcG9ydFRvZ2dsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWltcG9ydC1wYWdlcy10b2dnbGVdJyk7XG4gICAgY29uc3QgaW1wb3J0TW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbXBvcnQtbW9kYWxdJyk7XG4gICAgY29uc3QgaW1wb3J0Q2xvc2VCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtaW1wb3J0LW1vZGFsLWNsb3NlXScpO1xuICAgIGNvbnN0IGltcG9ydERyb3B6b25lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaW1wb3J0LWRyb3B6b25lXScpO1xuICAgIGNvbnN0IGltcG9ydEZpbGVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWltcG9ydC1maWxlLWlucHV0XScpO1xuICAgIGNvbnN0IGltcG9ydEZpbGVMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaW1wb3J0LWZpbGUtbGlzdF0nKTtcbiAgICBjb25zdCBpbXBvcnRGaWxlTmFtZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbXBvcnQtZmlsZS1uYW1lc10nKTtcbiAgICBjb25zdCBpbXBvcnRSZXN1bHRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaW1wb3J0LXJlc3VsdHNdJyk7XG4gICAgY29uc3QgaW1wb3J0UmVzdWx0c0NvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbXBvcnQtcmVzdWx0cy1jb250ZW50XScpO1xuICAgIGNvbnN0IGltcG9ydFN1Ym1pdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWltcG9ydC1zdWJtaXRdJyk7XG4gICAgY29uc3QgaW1wb3J0VGFicyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWltcG9ydC10YWJdJyk7XG4gICAgY29uc3QgaW1wb3J0UGFuZWxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtaW1wb3J0LXBhbmVsXScpO1xuICAgIGNvbnN0IGNvcHlUZW1wbGF0ZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvcHktdGVtcGxhdGVdJyk7XG4gICAgY29uc3QgdGVtcGxhdGVKc29uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtdGVtcGxhdGUtanNvbl0nKTtcbiAgICAvLyBQYXN0ZSBKU09OIGVsZW1lbnRzXG4gICAgY29uc3QgaW1wb3J0UGFzdGVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWltcG9ydC1wYXN0ZS1qc29uXScpO1xuICAgIGNvbnN0IHBhc3RlRm9ybWF0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZm9ybWF0LWpzb25dJyk7XG4gICAgY29uc3QgcGFzdGVFcnJvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWltcG9ydC1wYXN0ZS1lcnJvcl0nKTtcbiAgICBsZXQgaW1wb3J0U2VsZWN0ZWRGaWxlcyA9IFtdO1xuICAgIGxldCBhY3RpdmVJbXBvcnRUYWIgPSAndXBsb2FkJztcbiAgICAvLyBEZWxldGUgcGFnZSBlbGVtZW50c1xuICAgIGNvbnN0IGRlbGV0ZVBhZ2VNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlbGV0ZS1wYWdlLW1vZGFsXScpO1xuICAgIGNvbnN0IGRlbGV0ZVBhZ2VOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVsZXRlLXBhZ2UtbmFtZV0nKTtcbiAgICBjb25zdCBkZWxldGVQYWdlQ2FuY2VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVsZXRlLXBhZ2UtY2FuY2VsXScpO1xuICAgIGNvbnN0IGRlbGV0ZVBhZ2VDb25maXJtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVsZXRlLXBhZ2UtY29uZmlybV0nKTtcbiAgICBsZXQgcGFnZVRvRGVsZXRlID0gbnVsbDtcbiAgICBjb25zdCBzaXRlS2V5ID1cbiAgICAgIHN0cmlwTGVhZGluZ1NsYXNoKHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJ2RlZmF1bHQnKSB8fCAnZGVmYXVsdCc7XG4gICAgY29uc3Qgc2l0ZVNsdWdWYWx1ZSA9IHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJyc7XG4gICAgY29uc3Qgc2FmZVNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goc2l0ZVNsdWdWYWx1ZSkgfHwgJyc7XG4gICAgY29uc3QgcGFnZXNBcGlCYXNlID0gc2FmZVNpdGVTbHVnXG4gICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Zyl9L3BhZ2VzYFxuICAgICAgOiBudWxsO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25zQXBpQmFzZSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9jb2xsZWN0aW9uc2BcbiAgICAgIDogbnVsbDtcbiAgICBjb25zdCBzdG9yYWdlS2V5cyA9IHtcbiAgICAgIGFjdGl2ZTogYGNsb3dlcjphY3RpdmVQYWdlOiR7c2l0ZUtleX1gLFxuICAgIH07XG4gICAgY29uc3QgY3JlYXRlQmxvY2sgPSAoaWQsIGxhYmVsLCB0eXBlLCBzdGF0dXMsIGRlc2NyaXB0aW9uLCBwcm9wcyA9IFtdLCBzZXR0aW5ncyA9IHt9KSA9PiB7XG4gICAgICBjb25zdCBibG9jayA9IHtcbiAgICAgICAgaWQsXG4gICAgICAgIGxhYmVsLFxuICAgICAgICB0eXBlLFxuICAgICAgICBzdGF0dXMsXG4gICAgICAgIGRlc2NyaXB0aW9uLFxuICAgICAgICBwcm9wcyxcbiAgICAgICAgc2V0dGluZ3M6IHsgLi4uc2V0dGluZ3MgfSxcbiAgICAgIH07XG4gICAgICBpZiAoYmxvY2suc2V0dGluZ3MuY29sbGVjdGlvbklkKSB7XG4gICAgICAgIGJsb2NrLmNvbGxlY3Rpb25JZCA9IGJsb2NrLnNldHRpbmdzLmNvbGxlY3Rpb25JZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBibG9jaztcbiAgICB9O1xuICAgIGNvbnN0IGJsb2NrTGlicmFyeURlZmluaXRpb25zID0ge1xuICAgICAgaGVybzoge1xuICAgICAgICB0eXBlOiAnSGVybycsXG4gICAgICAgIGxhYmVsOiAnSGVybyBkZSBwYWdlJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdTZWN0aW9uIHBsZWluZSBsYXJnZXVyIGF2ZWMgQ1RBIHByaW5jaXBhbC4nLFxuICAgICAgICBzdGF0dXM6ICdCcm91aWxsb24nLFxuICAgICAgICBwcm9wczogW1xuICAgICAgICAgIHsgbGFiZWw6ICdDVEEnLCB2YWx1ZTogJ0RcdTAwRTljb3V2cmlyJyB9LFxuICAgICAgICAgIHsgbGFiZWw6ICdIYXV0ZXVyJywgdmFsdWU6ICc4MHZoJyB9LFxuICAgICAgICBdLFxuICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgIHRpdGxlOiAnVGl0cmUgZHUgaGVybycsXG4gICAgICAgICAgc3VidGl0bGU6ICcnLFxuICAgICAgICAgIGN0YUxhYmVsOiAnRFx1MDBFOWNvdXZyaXInLFxuICAgICAgICAgIGN0YVVybDogJyMnLFxuICAgICAgICAgIGltYWdlOiAnJyxcbiAgICAgICAgICBhbGlnbjogJ2NlbnRlcicsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgcGFyYWdyYXBoOiB7XG4gICAgICAgIHR5cGU6ICdQYXJhZ3JhcGhlJyxcbiAgICAgICAgbGFiZWw6ICdCbG9jIFx1MDBFOWRpdG9yaWFsJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdQYXJhZ3JhcGhlIGxpYnJlIHBvdXIgcmFjb250ZXIgdm90cmUgaGlzdG9pcmUuJyxcbiAgICAgICAgc3RhdHVzOiAnQnJvdWlsbG9uJyxcbiAgICAgICAgcHJvcHM6IFt7IGxhYmVsOiAnTG9uZ3VldXInLCB2YWx1ZTogJzE1MCBtb3RzJyB9XSxcbiAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICB0aXRsZTogJ1RpdHJlIGR1IHBhcmFncmFwaGUnLFxuICAgICAgICAgIGNvbnRlbnQ6ICcnLFxuICAgICAgICAgIGFsaWduOiAnbGVmdCcsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgaW1hZ2U6IHtcbiAgICAgICAgdHlwZTogJ0ltYWdlJyxcbiAgICAgICAgbGFiZWw6ICdCbG9jIGltYWdlJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdWaXN1ZWwgc2V1bCBhdmVjIGxcdTAwRTlnZW5kZSBvcHRpb25uZWxsZS4nLFxuICAgICAgICBzdGF0dXM6ICdCcm91aWxsb24nLFxuICAgICAgICBwcm9wczogW1xuICAgICAgICAgIHsgbGFiZWw6ICdSYXRpbycsIHZhbHVlOiAnMTY6OScgfSxcbiAgICAgICAgICB7IGxhYmVsOiAnTFx1MDBFOWdlbmRlJywgdmFsdWU6ICdJbmFjdGl2ZScgfSxcbiAgICAgICAgXSxcbiAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICBzcmM6ICcnLFxuICAgICAgICAgIGFsdDogJycsXG4gICAgICAgICAgc2hvd0NhcHRpb246IGZhbHNlLFxuICAgICAgICAgIGNhcHRpb246ICcnLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGdyb3VwOiB7XG4gICAgICAgIHR5cGU6ICdHcm91cGUnLFxuICAgICAgICBsYWJlbDogJ0dyb3VwZSBkZSBzZWN0aW9ucycsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnQ29udGVuZXVyIHBvdXIgaW1icmlxdWVyIHBsdXNpZXVycyBzb3VzLWJsb2NzLicsXG4gICAgICAgIHN0YXR1czogJ0Jyb3VpbGxvbicsXG4gICAgICAgIHByb3BzOiBbeyBsYWJlbDogJ0Rpc3Bvc2l0aW9uJywgdmFsdWU6ICdWZXJ0aWNhbGUnIH1dLFxuICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgIGxheW91dDogJ2dyaWQnLFxuICAgICAgICAgIGNvbHVtbnNNb2JpbGU6ICcxJyxcbiAgICAgICAgICBjb2x1bW5zRGVza3RvcDogJzMnLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGNvbGxlY3Rpb25ncmlkOiB7XG4gICAgICAgIHR5cGU6ICdDb2xsZWN0aW9uR3JpZCcsXG4gICAgICAgIGxhYmVsOiAnR3JpbGxlIGRlIGNvbnRlbnVzJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdBZmZpY2hlIGF1dG9tYXRpcXVlbWVudCBsZXMgaXRlbXMgZFx1MjAxOXVuZSBjb2xsZWN0aW9uLicsXG4gICAgICAgIHN0YXR1czogJ0Jyb3VpbGxvbicsXG4gICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgY29sbGVjdGlvbklkOiAnJyxcbiAgICAgICAgICBsaW1pdDogNixcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBmb3JtOiB7XG4gICAgICAgIHR5cGU6ICdGb3JtJyxcbiAgICAgICAgbGFiZWw6ICdGb3JtdWxhaXJlIGRlIGNvbnRhY3QnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0Zvcm11bGFpcmUgYXZlYyBlbnZvaSB2ZXJzIHVuIHNlcnZpY2UgZXh0ZXJuZS4nLFxuICAgICAgICBzdGF0dXM6ICdCcm91aWxsb24nLFxuICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgIGZvcm1UaXRsZTogJ0NvbnRhY3Rlei1ub3VzJyxcbiAgICAgICAgICBhY3Rpb25Vcmw6ICcnLFxuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIHNlcnZpY2VOYW1lOiAnJyxcbiAgICAgICAgICBzdWJtaXRMYWJlbDogJ0Vudm95ZXInLFxuICAgICAgICAgIHN1Y2Nlc3NNZXNzYWdlOiAnTWVyY2kgcG91ciB2b3RyZSBtZXNzYWdlICEnLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIG5ld3NsZXR0ZXJlbWJlZDoge1xuICAgICAgICB0eXBlOiAnTmV3c2xldHRlckVtYmVkJyxcbiAgICAgICAgbGFiZWw6ICdOZXdzbGV0dGVyIC8gRW1iZWQnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0ludFx1MDBFOWdyYXRpb24gZFxcJ3VuIGZvcm11bGFpcmUgbmV3c2xldHRlciBleHRlcm5lIChCcmV2bywgTWFpbGNoaW1wXHUyMDI2KS4nLFxuICAgICAgICBzdGF0dXM6ICdCcm91aWxsb24nLFxuICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgIHRpdGxlOiAnUmVzdGV6IGluZm9ybVx1MDBFOScsXG4gICAgICAgICAgc2VydmljZU5hbWU6ICcnLFxuICAgICAgICAgIGVtYmVkQ29kZTogJycsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH07XG4gICAgY29uc3QgcGVyc2lzdEFjdGl2ZVBhZ2UgPSAocGFnZUlkKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oc3RvcmFnZUtleXMuYWN0aXZlLCBwYWdlSWQpO1xuICAgICAgfSBjYXRjaCB7XG4gICAgICAgIC8qIGlnbm9yZSBzdG9yYWdlIGVycm9ycyAqL1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgZ2V0U3RvcmVkQWN0aXZlUGFnZSA9IChwYWdlcykgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgc3RvcmVkID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKHN0b3JhZ2VLZXlzLmFjdGl2ZSk7XG4gICAgICAgIGlmIChzdG9yZWQgJiYgcGFnZXMuc29tZSgocGFnZSkgPT4gcGFnZS5pZCA9PT0gc3RvcmVkKSkge1xuICAgICAgICAgIHJldHVybiBzdG9yZWQ7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2gge1xuICAgICAgICAvKiBpZ25vcmUgc3RvcmFnZSBlcnJvcnMgKi9cbiAgICAgIH1cbiAgICAgIHJldHVybiBwYWdlc1swXT8uaWQgfHwgbnVsbDtcbiAgICB9O1xuICAgIGNvbnN0IGZvcm1hdEJsb2NrQ291bnQgPSAoY291bnQpID0+IHtcbiAgICAgIGlmICghY291bnQgfHwgY291bnQgPD0gMCkge1xuICAgICAgICByZXR1cm4gJzAgYmxvYyc7XG4gICAgICB9XG4gICAgICByZXR1cm4gY291bnQgPT09IDEgPyAnMSBibG9jJyA6IGAke2NvdW50fSBibG9jc2A7XG4gICAgfTtcbiAgICBjb25zdCBub3JtYWxpemVQYWdlU2x1ZyA9ICh2YWx1ZSkgPT4ge1xuICAgICAgaWYgKCF2YWx1ZSB8fCB2YWx1ZSA9PT0gJy8nKSB7XG4gICAgICAgIHJldHVybiAnLyc7XG4gICAgICB9XG4gICAgICBjb25zdCBiYXNlID0gd29ya3NwYWNlU2x1Z2lmeSh2YWx1ZS5yZXBsYWNlKC9eXFwvLywgJycpKTtcbiAgICAgIHJldHVybiBiYXNlID8gYC8ke2Jhc2V9YCA6ICcvJztcbiAgICB9O1xuICAgIGNvbnN0IGdlbmVyYXRlQmxvY2tJZCA9IChwYWdlSWQgPSAncGFnZScsIGtleSA9ICdibG9jaycpID0+XG4gICAgICBgJHtwYWdlSWR9LSR7a2V5fS0ke0RhdGUubm93KCkudG9TdHJpbmcoMzYpfS0ke01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDApfWA7XG4gICAgY29uc3QgY3JlYXRlSW5pdGlhbEJsb2NrcyA9IChwYWdlSWQsIHRpdGxlKSA9PiBbXG4gICAgICBjcmVhdGVCbG9jayhcbiAgICAgICAgZ2VuZXJhdGVCbG9ja0lkKHBhZ2VJZCwgJ2ludHJvJyksXG4gICAgICAgICdJbnRyb2R1Y3Rpb24nLFxuICAgICAgICAnUGFyYWdyYXBoZScsXG4gICAgICAgICdCcm91aWxsb24nLFxuICAgICAgICBgUGFyYWdyYXBoZSBpbnRyb2R1Y3RpZiBwb3VyIFwiJHt0aXRsZX1cIi5gLFxuICAgICAgICBbeyBsYWJlbDogJ0xvbmd1ZXVyJywgdmFsdWU6ICcyIHBhcmFncmFwaGVzJyB9XSxcbiAgICAgICAge1xuICAgICAgICAgIHRpdGxlOiBgSW50cm9kdWN0aW9uIFx1MDBFMCAke3RpdGxlfWAsXG4gICAgICAgICAgY29udGVudDogJ0Fqb3V0ZXogdm90cmUgcHJlbWllciBwYXJhZ3JhcGhlIGRlIHByXHUwMEU5c2VudGF0aW9uLicsXG4gICAgICAgICAgYWxpZ246ICdsZWZ0JyxcbiAgICAgICAgfSxcbiAgICAgICksXG4gICAgICBjcmVhdGVCbG9jayhcbiAgICAgICAgZ2VuZXJhdGVCbG9ja0lkKHBhZ2VJZCwgJ2NvbnRlbnQnKSxcbiAgICAgICAgJ1pvbmUgZGUgY29udGVudScsXG4gICAgICAgICdHcm91cGUnLFxuICAgICAgICAnQnJvdWlsbG9uJyxcbiAgICAgICAgJ1NlY3Rpb24gcHJpbmNpcGFsZSBcdTAwRTAgY29tcG9zZXIgYXZlYyB0ZXh0ZXMgZXQgdmlzdWVscy4nLFxuICAgICAgICBbeyBsYWJlbDogJ0NvbG9ubmVzJywgdmFsdWU6ICdBdXRvJyB9XSxcbiAgICAgICAge1xuICAgICAgICAgIGxheW91dDogJ2dyaWQnLFxuICAgICAgICAgIGNvbHVtbnNNb2JpbGU6ICcxJyxcbiAgICAgICAgICBjb2x1bW5zRGVza3RvcDogJzInLFxuICAgICAgICB9LFxuICAgICAgKSxcbiAgICBdO1xuICAgIGNvbnN0IHNldEFjdGl2ZUxhYmVscyA9IChwYWdlKSA9PiB7XG4gICAgICBpZiAoYWN0aXZlVGl0bGUpIHtcbiAgICAgICAgYWN0aXZlVGl0bGUudGV4dENvbnRlbnQgPSBwYWdlPy50aXRsZSB8fCAnUGFnZSc7XG4gICAgICB9XG4gICAgICBpZiAoYWN0aXZlU2x1Zykge1xuICAgICAgICBhY3RpdmVTbHVnLnRleHRDb250ZW50ID0gcGFnZT8uc2x1ZyB8fCAnLyc7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCByZW5kZXJQcmV2aWV3TWV0YSA9IChwYWdlKSA9PiB7XG4gICAgICBpZiAoIXByZXZpZXdUYWdzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHByZXZpZXdUYWdzLmlubmVySFRNTCA9ICcnO1xuICAgICAgY29uc3QgdGFncyA9XG4gICAgICAgIHBhZ2UgJiYgcGFnZS5iYWRnZXMgJiYgcGFnZS5iYWRnZXMubGVuZ3RoID4gMCA/IHBhZ2UuYmFkZ2VzIDogWydTdHJ1Y3R1cmUgZW4gY291cnMnXTtcbiAgICAgIHRhZ3MuZm9yRWFjaCgodGFnKSA9PiB7XG4gICAgICAgIGNvbnN0IGJhZGdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICBiYWRnZS5jbGFzc05hbWUgPSAncm91bmRlZC1mdWxsIGJnLXNsYXRlLTEwMCBweC0zIHB5LTEnO1xuICAgICAgICBiYWRnZS50ZXh0Q29udGVudCA9IHRhZztcbiAgICAgICAgcHJldmlld1RhZ3MuYXBwZW5kQ2hpbGQoYmFkZ2UpO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICBjb25zdCBnZXRTdGF0dXNCYWRnZUNsYXNzZXMgPSAoc3RhdHVzKSA9PiB7XG4gICAgICBzd2l0Y2ggKChzdGF0dXMgfHwgJycpLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgY2FzZSAnZW4gbGlnbmUnOlxuICAgICAgICAgIHJldHVybiAnYmctZW1lcmFsZC01MCB0ZXh0LWVtZXJhbGQtNzAwJztcbiAgICAgICAgY2FzZSAnYnJvdWlsbG9uJzpcbiAgICAgICAgICByZXR1cm4gJ2JnLWFtYmVyLTUwIHRleHQtYW1iZXItNzAwJztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gJ2JnLXNsYXRlLTEwMCB0ZXh0LXNsYXRlLTYwMCc7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCByZW5kZXJCbG9ja0RldGFpbHMgPSAoYmxvY2spID0+IHtcbiAgICAgIGlmICghYmxvY2tEZXRhaWxFbXB0eSB8fCAhYmxvY2tFZGl0b3IpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFibG9jaykge1xuICAgICAgICBibG9ja0RldGFpbEVtcHR5LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICBibG9ja0VkaXRvci5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgYmxvY2tFZGl0b3JVbnN1cHBvcnRlZD8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIGJsb2NrRm9ybT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIGJsb2NrRGV0YWlsU3RhdHVzPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYmxvY2tEZXRhaWxFbXB0eS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGJsb2NrRWRpdG9yLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgaWYgKGJsb2NrRGV0YWlsU3RhdHVzKSB7XG4gICAgICAgIGlmIChibG9jay5zdGF0dXMpIHtcbiAgICAgICAgICBibG9ja0RldGFpbFN0YXR1cy50ZXh0Q29udGVudCA9IGJsb2NrLnN0YXR1cztcbiAgICAgICAgICBibG9ja0RldGFpbFN0YXR1cy5jbGFzc05hbWUgPSBgcm91bmRlZC1mdWxsIHB4LTMgcHktMSB0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgJHtnZXRTdGF0dXNCYWRnZUNsYXNzZXMoXG4gICAgICAgICAgICBibG9jay5zdGF0dXMsXG4gICAgICAgICAgKX1gO1xuICAgICAgICAgIGJsb2NrRGV0YWlsU3RhdHVzLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGJsb2NrRGV0YWlsU3RhdHVzLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBwb3B1bGF0ZUJsb2NrRm9ybShibG9jayk7XG4gICAgfTtcbiAgICBjb25zdCBhcHBseVByZXZpZXdIaWdobGlnaHQgPSAoYmxvY2tJZCkgPT4ge1xuICAgICAgaWYgKCFwcmV2aWV3RnJhbWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgZG9jID0gcHJldmlld0ZyYW1lLmNvbnRlbnREb2N1bWVudDtcbiAgICAgIGlmICghZG9jKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG5vZGVzID0gZG9jLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXByZXZpZXctYmxvY2tdJyk7XG4gICAgICBub2Rlcy5mb3JFYWNoKChub2RlKSA9PiB7XG4gICAgICAgIGlmIChub2RlLmRhdGFzZXQucHJldmlld0Jsb2NrID09PSBibG9ja0lkKSB7XG4gICAgICAgICAgbm9kZS5jbGFzc0xpc3QuYWRkKCdwcmV2aWV3LWJsb2NrLWFjdGl2ZScpO1xuICAgICAgICAgIGlmIChwcmV2aWV3UmVhZHkgJiYgYmxvY2tJZCkge1xuICAgICAgICAgICAgbm9kZS5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiAnc21vb3RoJywgYmxvY2s6ICdjZW50ZXInLCBpbmxpbmU6ICduZWFyZXN0JyB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbm9kZS5jbGFzc0xpc3QucmVtb3ZlKCdwcmV2aWV3LWJsb2NrLWFjdGl2ZScpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmIChwcmV2aWV3SGlnaGxpZ2h0T3ZlcmxheSkge1xuICAgICAgICBwcmV2aWV3SGlnaGxpZ2h0T3ZlcmxheS5zdHlsZS5ib3JkZXJDb2xvciA9IGJsb2NrSWQgPyAncmdiYSgxNTYsIDEwNywgMjU1LCAwLjUpJyA6ICd0cmFuc3BhcmVudCc7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCByZW5kZXJCbG9ja0xpc3QgPSAocGFnZSkgPT4ge1xuICAgICAgaWYgKCFibG9ja0xpc3QpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYmxvY2tMaXN0LmlubmVySFRNTCA9ICcnO1xuICAgICAgY29uc3QgYmxvY2tzID0gcGFnZT8uYmxvY2tzIHx8IFtdO1xuICAgICAgaWYgKGJsb2NrQ291bnRCYWRnZSkge1xuICAgICAgICBibG9ja0NvdW50QmFkZ2UudGV4dENvbnRlbnQgPSBmb3JtYXRCbG9ja0NvdW50KGJsb2Nrcy5sZW5ndGgpO1xuICAgICAgfVxuICAgICAgaWYgKGJsb2Nrcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgYmxvY2tMaXN0LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBibG9ja0xpc3RFbXB0eT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGJsb2NrTGlzdC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGJsb2NrTGlzdEVtcHR5Py5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGJsb2Nrcy5mb3JFYWNoKChibG9jaykgPT4ge1xuICAgICAgICBjb25zdCBpc0FjdGl2ZSA9IGJsb2NrLmlkID09PSBhY3RpdmVCbG9ja0lkO1xuICAgICAgICBjb25zdCBpdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGl0ZW0uZGF0YXNldC5ibG9ja0l0ZW0gPSAndHJ1ZSc7XG4gICAgICAgIGl0ZW0uZGF0YXNldC5ibG9ja0lkID0gYmxvY2suaWQ7XG4gICAgICAgIGl0ZW0uc2V0QXR0cmlidXRlKCdyb2xlJywgJ29wdGlvbicpO1xuICAgICAgICBpdGVtLnNldEF0dHJpYnV0ZSgnYXJpYS1zZWxlY3RlZCcsIGlzQWN0aXZlID8gJ3RydWUnIDogJ2ZhbHNlJyk7XG4gICAgICAgIGl0ZW0uc2V0QXR0cmlidXRlKCdkcmFnZ2FibGUnLCAndHJ1ZScpO1xuICAgICAgICBpdGVtLnRhYkluZGV4ID0gMDtcbiAgICAgICAgaXRlbS5jbGFzc05hbWUgPSBbXG4gICAgICAgICAgJ3JlbGF0aXZlIGZsZXggaXRlbXMtY2VudGVyIGdhcC0zIHJvdW5kZWQtMnhsIGJvcmRlciBweC0zIHB5LTIgdGV4dC1sZWZ0IHRyYW5zaXRpb24gZ3JvdXAnLFxuICAgICAgICAgIGlzQWN0aXZlXG4gICAgICAgICAgICA/ICdiZy1zbGF0ZS0xMDAgYm9yZGVyLVsjOUM2QkZGXS80MCBzaGFkb3ctc20nXG4gICAgICAgICAgICA6ICdib3JkZXItc2xhdGUtMjAwIGhvdmVyOmJvcmRlci1bIzlDNkJGRl0vNDAnLFxuICAgICAgICBdLmpvaW4oJyAnKTtcbiAgICAgICAgY29uc3QgYWNjZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICBhY2NlbnQuY2xhc3NOYW1lID0gYGFic29sdXRlIGluc2V0LXktMiBsZWZ0LTAgdy0xIHJvdW5kZWQtZnVsbCBiZy1bIzlDNkJGRl0gJHtcbiAgICAgICAgICBpc0FjdGl2ZSA/ICcnIDogJ2hpZGRlbidcbiAgICAgICAgfWA7XG4gICAgICAgIGl0ZW0uYXBwZW5kQ2hpbGQoYWNjZW50KTtcblxuICAgICAgICBjb25zdCBjb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGNvbnRlbnQuY2xhc3NOYW1lID0gJ2ZsZXggZmxleC0xIGl0ZW1zLWNlbnRlciBnYXAtMyc7XG4gICAgICAgIGNvbnN0IGhhbmRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBoYW5kbGUuY2xhc3NOYW1lID1cbiAgICAgICAgICAnaGlkZGVuIGxnOmZsZXggY3Vyc29yLWdyYWIgYWN0aXZlOmN1cnNvci1ncmFiYmluZyBmbGV4LXNocmluay0wIGl0ZW1zLWNlbnRlciB0ZXh0LWxnIHRleHQtc2xhdGUtNDAwIGhvdmVyOnRleHQtc2xhdGUtNjAwIHRyYW5zaXRpb24tY29sb3JzIHNlbGVjdC1ub25lJztcbiAgICAgICAgaGFuZGxlLmlubmVySFRNTCA9ICdcdTIyRUVcdTIyRUUnO1xuICAgICAgICBoYW5kbGUuc2V0QXR0cmlidXRlKCd0aXRsZScsICdHbGlzc2VyIHBvdXIgclx1MDBFOW9yZG9ubmVyJyk7XG4gICAgICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQoaGFuZGxlKTtcblxuICAgICAgICBjb25zdCB0ZXh0V3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0ZXh0V3JhcHBlci5jbGFzc05hbWUgPSAnZmxleC0xJztcbiAgICAgICAgY29uc3QgbWV0YSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBtZXRhLmNsYXNzTmFtZSA9ICdmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiB0ZXh0LVsxMXB4XSB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZSB0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICAgIGNvbnN0IHR5cGVCYWRnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgdHlwZUJhZGdlLmNsYXNzTmFtZSA9XG4gICAgICAgICAgJ3JvdW5kZWQtZnVsbCBiZy1zbGF0ZS0xMDAgcHgtMiBweS0wLjUgdGV4dC1bMTBweF0gZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTYwMCc7XG4gICAgICAgIHR5cGVCYWRnZS50ZXh0Q29udGVudCA9IGJsb2NrLnR5cGU7XG4gICAgICAgIGNvbnN0IHN0YXR1c0JhZGdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICBzdGF0dXNCYWRnZS5jbGFzc05hbWUgPSAndGV4dC1zbGF0ZS00MDAnO1xuICAgICAgICBzdGF0dXNCYWRnZS50ZXh0Q29udGVudCA9IGJsb2NrLnN0YXR1cztcbiAgICAgICAgbWV0YS5hcHBlbmRDaGlsZCh0eXBlQmFkZ2UpO1xuICAgICAgICBtZXRhLmFwcGVuZENoaWxkKHN0YXR1c0JhZGdlKTtcbiAgICAgICAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgICAgIHRpdGxlLmNsYXNzTmFtZSA9ICdtdC0xIHRleHQtc20gZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTkwMCc7XG4gICAgICAgIGNvbnN0IGRpc3BsYXlMYWJlbCA9XG4gICAgICAgICAgKGJsb2NrLnNldHRpbmdzICYmIGJsb2NrLnNldHRpbmdzLnRpdGxlKSB8fCBibG9jay5sYWJlbCB8fCAnQmxvYyBzYW5zIHRpdHJlJztcbiAgICAgICAgdGl0bGUudGV4dENvbnRlbnQgPSBkaXNwbGF5TGFiZWw7XG4gICAgICAgIHRleHRXcmFwcGVyLmFwcGVuZENoaWxkKG1ldGEpO1xuICAgICAgICB0ZXh0V3JhcHBlci5hcHBlbmRDaGlsZCh0aXRsZSk7XG4gICAgICAgIGNvbnN0IGJsb2NrVHlwZSA9IChibG9jay50eXBlIHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBpZiAoYmxvY2tUeXBlID09PSAnY29sbGVjdGlvbmdyaWQnICYmIGJsb2NrLmNvbGxlY3Rpb25JZCkge1xuICAgICAgICAgIGNvbnN0IGNvbGxlY3Rpb25OYW1lID1cbiAgICAgICAgICAgIGRlc2lnbkNvbGxlY3Rpb25zLmZpbmQoKGVudHJ5KSA9PiBlbnRyeS5pZCA9PT0gYmxvY2suY29sbGVjdGlvbklkKT8ubmFtZSB8fFxuICAgICAgICAgICAgYmxvY2suY29sbGVjdGlvbklkO1xuICAgICAgICAgIGNvbnN0IGluZm8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgICAgICAgaW5mby5jbGFzc05hbWUgPSAndGV4dC14cyB0ZXh0LXNsYXRlLTQwMCc7XG4gICAgICAgICAgaW5mby50ZXh0Q29udGVudCA9IGBDb2xsZWN0aW9uIDogJHtjb2xsZWN0aW9uTmFtZX1gO1xuICAgICAgICAgIHRleHRXcmFwcGVyLmFwcGVuZENoaWxkKGluZm8pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQodGV4dFdyYXBwZXIpO1xuICAgICAgICBpdGVtLmFwcGVuZENoaWxkKGNvbnRlbnQpO1xuXG4gICAgICAgIGNvbnN0IGFjdGlvbnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgYWN0aW9ucy5jbGFzc05hbWUgPSAnZmxleCBmbGV4LWNvbCBnYXAtMSB0ZXh0LXhzIHRleHQtc2xhdGUtNDAwJztcblxuICAgICAgICBjb25zdCBtb3ZlQnV0dG9ucyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBtb3ZlQnV0dG9ucy5jbGFzc05hbWUgPSAnZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEgbGc6aGlkZGVuJztcbiAgICAgICAgY29uc3QgbW92ZVVwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIG1vdmVVcC50eXBlID0gJ2J1dHRvbic7XG4gICAgICAgIG1vdmVVcC5jbGFzc05hbWUgPVxuICAgICAgICAgICdyb3VuZGVkLWxnIGJvcmRlciBib3JkZXItc2xhdGUtMjAwIHB4LTIgcHktMSB0ZXh0LVsxMXB4XSBmb250LXNlbWlib2xkIHRleHQtc2xhdGUtNTAwJztcbiAgICAgICAgbW92ZVVwLnRleHRDb250ZW50ID0gJ1x1MjE5MSc7XG4gICAgICAgIG1vdmVVcC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgIG1vdmVCbG9ja0J5T2Zmc2V0KGJsb2NrLmlkLCAtMSk7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBtb3ZlRG93biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICBtb3ZlRG93bi50eXBlID0gJ2J1dHRvbic7XG4gICAgICAgIG1vdmVEb3duLmNsYXNzTmFtZSA9XG4gICAgICAgICAgJ3JvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1zbGF0ZS0yMDAgcHgtMiBweS0xIHRleHQtWzExcHhdIGZvbnQtc2VtaWJvbGQgdGV4dC1zbGF0ZS01MDAnO1xuICAgICAgICBtb3ZlRG93bi50ZXh0Q29udGVudCA9ICdcdTIxOTMnO1xuICAgICAgICBtb3ZlRG93bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgIG1vdmVCbG9ja0J5T2Zmc2V0KGJsb2NrLmlkLCAxKTtcbiAgICAgICAgfSk7XG4gICAgICAgIG1vdmVCdXR0b25zLmFwcGVuZENoaWxkKG1vdmVVcCk7XG4gICAgICAgIG1vdmVCdXR0b25zLmFwcGVuZENoaWxkKG1vdmVEb3duKTtcbiAgICAgICAgYWN0aW9ucy5hcHBlbmRDaGlsZChtb3ZlQnV0dG9ucyk7XG5cbiAgICAgICAgY29uc3QgZGVsZXRlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIGRlbGV0ZUJ1dHRvbi50eXBlID0gJ2J1dHRvbic7XG4gICAgICAgIGRlbGV0ZUJ1dHRvbi5jbGFzc05hbWUgPVxuICAgICAgICAgICdpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLXRyYW5zcGFyZW50IHB4LTIgcHktMSB0ZXh0LVsxMnB4XSB0ZXh0LXJvc2UtNTAwIGhvdmVyOnRleHQtcm9zZS03MDAnO1xuICAgICAgICBkZWxldGVCdXR0b24uaW5uZXJIVE1MID0gJ1x1RDgzRFx1REREMVx1RkUwRic7XG4gICAgICAgIGRlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgIG9wZW5CbG9ja0RlbGV0ZU1vZGFsKGJsb2NrLmlkKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgYWN0aW9ucy5hcHBlbmRDaGlsZChkZWxldGVCdXR0b24pO1xuICAgICAgICBpdGVtLmFwcGVuZENoaWxkKGFjdGlvbnMpO1xuXG4gICAgICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgc2V0QWN0aXZlQmxvY2soYmxvY2suaWQpO1xuICAgICAgICB9KTtcbiAgICAgICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VudGVyJyB8fCBldmVudC5rZXkgPT09ICcgJykge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHNldEFjdGl2ZUJsb2NrKGJsb2NrLmlkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBibG9ja0xpc3QuYXBwZW5kQ2hpbGQoaXRlbSk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgLy8gPT09IERlbGV0ZSBwYWdlIGhhbmRsZXJzIChkZWZpbmVkIGJlZm9yZSByZW5kZXJQYWdlTGlzdHMpID09PVxuICAgIGNvbnN0IG9wZW5EZWxldGVQYWdlTW9kYWwgPSAocGFnZSkgPT4ge1xuICAgICAgaWYgKCFkZWxldGVQYWdlTW9kYWwgfHwgIXBhZ2UpIHJldHVybjtcbiAgICAgIHBhZ2VUb0RlbGV0ZSA9IHBhZ2U7XG4gICAgICBpZiAoZGVsZXRlUGFnZU5hbWUpIGRlbGV0ZVBhZ2VOYW1lLnRleHRDb250ZW50ID0gcGFnZS50aXRsZSB8fCBwYWdlLmlkO1xuICAgICAgZGVsZXRlUGFnZU1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgZGVsZXRlUGFnZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2ZsZXgnKTtcbiAgICB9O1xuICAgIGNvbnN0IGNsb3NlRGVsZXRlUGFnZU1vZGFsID0gKCkgPT4ge1xuICAgICAgaWYgKCFkZWxldGVQYWdlTW9kYWwpIHJldHVybjtcbiAgICAgIGRlbGV0ZVBhZ2VNb2RhbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGRlbGV0ZVBhZ2VNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdmbGV4Jyk7XG4gICAgICBwYWdlVG9EZWxldGUgPSBudWxsO1xuICAgIH07XG4gICAgY29uc3QgZXhlY3V0ZURlbGV0ZVBhZ2UgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXBhZ2VzQXBpQmFzZSB8fCAhcGFnZVRvRGVsZXRlKSByZXR1cm47XG4gICAgICBjb25zdCBwYWdlSWQgPSBwYWdlVG9EZWxldGUuaWQ7XG4gICAgICBjb25zdCBwYWdlVGl0bGUgPSBwYWdlVG9EZWxldGUudGl0bGUgfHwgcGFnZUlkO1xuICAgICAgaWYgKGRlbGV0ZVBhZ2VDb25maXJtKSB7XG4gICAgICAgIGRlbGV0ZVBhZ2VDb25maXJtLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgZGVsZXRlUGFnZUNvbmZpcm0udGV4dENvbnRlbnQgPSAnU3VwcHJlc3Npb24uLi4nO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtwYWdlc0FwaUJhc2V9LyR7ZW5jb2RlVVJJQ29tcG9uZW50KHBhZ2VJZCl9YCwge1xuICAgICAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICAgICAgY3JlZGVudGlhbHM6ICdpbmNsdWRlJyxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQubWVzc2FnZSB8fCAnRXJyZXVyIHNlcnZldXInKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTdXBwcmltZXIgZGUgbGEgbGlzdGUgbG9jYWxlXG4gICAgICAgIHBhZ2VzID0gcGFnZXMuZmlsdGVyKChwKSA9PiBwLmlkICE9PSBwYWdlSWQpO1xuICAgICAgICAvLyBTaSBsYSBwYWdlIHN1cHByaW1cdTAwRTllIFx1MDBFOXRhaXQgYWN0aXZlLCBzXHUwMEU5bGVjdGlvbm5lciBsYSBwcmVtaVx1MDBFOHJlXG4gICAgICAgIGlmIChhY3RpdmVQYWdlSWQgPT09IHBhZ2VJZCkge1xuICAgICAgICAgIGlmIChwYWdlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBzZXRBY3RpdmVQYWdlKHBhZ2VzWzBdLmlkKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYWN0aXZlUGFnZUlkID0gbnVsbDtcbiAgICAgICAgICAgIGN1cnJlbnRQYWdlID0gbnVsbDtcbiAgICAgICAgICAgIHJlbmRlclBhZ2VMaXN0cyhwYWdlcywgbnVsbCk7XG4gICAgICAgICAgICByZW5kZXJCbG9ja0xpc3QobnVsbCk7XG4gICAgICAgICAgICBibG9ja0RldGFpbEVtcHR5Py5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIGJsb2NrRWRpdG9yPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIHByZXZpZXdGcmFtZSAmJiAocHJldmlld0ZyYW1lLnNyY2RvYyA9IGdldExvYWRpbmdQcmV2aWV3SHRtbCgpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVuZGVyUGFnZUxpc3RzKHBhZ2VzLCBhY3RpdmVQYWdlSWQpO1xuICAgICAgICB9XG4gICAgICAgIGNsb3NlRGVsZXRlUGFnZU1vZGFsKCk7XG4gICAgICAgIHNob3dUb2FzdChgUGFnZSBcIiR7cGFnZVRpdGxlfVwiIHN1cHByaW1cdTAwRTllYCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW3BhZ2VzXSBkZWxldGUgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdFcnJldXIgc3VwcHJlc3Npb24nKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmIChkZWxldGVQYWdlQ29uZmlybSkge1xuICAgICAgICAgIGRlbGV0ZVBhZ2VDb25maXJtLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgZGVsZXRlUGFnZUNvbmZpcm0udGV4dENvbnRlbnQgPSAnU3VwcHJpbWVyJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCByZW5kZXJQYWdlTGlzdHMgPSAocGFnZXMsIGFjdGl2ZUlkKSA9PiB7XG4gICAgICBwYWdlTGlzdHMuZm9yRWFjaCgobGlzdCkgPT4ge1xuICAgICAgICBsaXN0LmlubmVySFRNTCA9ICcnO1xuICAgICAgICBwYWdlcy5mb3JFYWNoKChwYWdlKSA9PiB7XG4gICAgICAgICAgY29uc3QgaXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICAgICAgaXRlbS5jbGFzc05hbWUgPSAnZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEnO1xuICAgICAgICAgIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICAgIGJ1dHRvbi50eXBlID0gJ2J1dHRvbic7XG4gICAgICAgICAgYnV0dG9uLmRhdGFzZXQucGFnZUlkID0gcGFnZS5pZDtcbiAgICAgICAgICBidXR0b24uY2xhc3NOYW1lID0gW1xuICAgICAgICAgICAgJ2ZsZXgtMSBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMyBweC0zIHB5LTIgdGV4dC1sZWZ0IHRyYW5zaXRpb24nLFxuICAgICAgICAgICAgYWN0aXZlSWQgPT09IHBhZ2UuaWRcbiAgICAgICAgICAgICAgPyAnYmctWyM5QzZCRkZdLzEwIHRleHQtc2xhdGUtOTAwIGJvcmRlciBib3JkZXItWyM5QzZCRkZdLzQwIHJvdW5kZWQteGwgc2hhZG93LXNtJ1xuICAgICAgICAgICAgICA6ICd0ZXh0LXNsYXRlLTcwMCBob3ZlcjpiZy1zbGF0ZS01MCByb3VuZGVkLXhsJyxcbiAgICAgICAgICBdLmpvaW4oJyAnKTtcbiAgICAgICAgICBpZiAoYWN0aXZlSWQgPT09IHBhZ2UuaWQpIHtcbiAgICAgICAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtY3VycmVudCcsICdwYWdlJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJ1dHRvbi5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtY3VycmVudCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBidXR0b24uaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJmbGV4IGgtOSB3LTkgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHJvdW5kZWQteGwgYm9yZGVyIGJvcmRlci1zbGF0ZS0yMDAgYmctd2hpdGUgdGV4dC1zbGF0ZS01MDBcIj5cbiAgICAgICAgICAgICAgPHN2ZyB3aWR0aD1cIjE4XCIgaGVpZ2h0PVwiMThcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBhcmlhLWhpZGRlbj1cInRydWVcIj5cbiAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTYuNSA0LjVoN2w0IDR2MTFhMSAxIDAgMCAxLTEgMWgtMTBhMSAxIDAgMCAxLTEtMXYtMTRhMSAxIDAgMCAxIDEtMVpcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIxLjRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiLz5cbiAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTEzLjUgNC41djRhMSAxIDAgMCAwIDEgMWgzXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMS40XCIvPlxuICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC1zbSBmb250LXNlbWlib2xkXCI+JHtwYWdlLnRpdGxlfTwvc3Bhbj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNTAwXCI+JHtwYWdlLnNsdWd9PC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgYDtcbiAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICBzZXRBY3RpdmVQYWdlKHBhZ2UuaWQpO1xuICAgICAgICAgICAgaWYgKCFpc0Rlc2t0b3BEcmF3ZXIoKSkge1xuICAgICAgICAgICAgICBjbG9zZURyYXdlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGl0ZW0uYXBwZW5kQ2hpbGQoYnV0dG9uKTtcbiAgICAgICAgICAvLyBCb3V0b24gZGUgc3VwcHJlc3Npb25cbiAgICAgICAgICBjb25zdCBkZWxldGVCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgICBkZWxldGVCdG4udHlwZSA9ICdidXR0b24nO1xuICAgICAgICAgIGRlbGV0ZUJ0bi5jbGFzc05hbWUgPSAnZmxleC1zaHJpbmstMCBwLTIgdGV4dC1zbGF0ZS00MDAgaG92ZXI6dGV4dC1yb3NlLTYwMCBob3ZlcjpiZy1yb3NlLTUwIHJvdW5kZWQtbGcgdHJhbnNpdGlvbic7XG4gICAgICAgICAgZGVsZXRlQnRuLnRpdGxlID0gJ1N1cHByaW1lciBjZXR0ZSBwYWdlJztcbiAgICAgICAgICBkZWxldGVCdG4uc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgYFN1cHByaW1lciAke3BhZ2UudGl0bGV9YCk7XG4gICAgICAgICAgZGVsZXRlQnRuLmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgIDxzdmcgd2lkdGg9XCIxNlwiIGhlaWdodD1cIjE2XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiPlxuICAgICAgICAgICAgICA8cGF0aCBkPVwiTTMgNmgxOE04IDZWNGEyIDIgMCAwIDEgMi0yaDRhMiAyIDAgMCAxIDIgMnYybTMgMHYxNGEyIDIgMCAwIDEtMiAySDdhMiAyIDAgMCAxLTItMlY2aDE0Wk0xMCAxMXY2TTE0IDExdjZcIi8+XG4gICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICBgO1xuICAgICAgICAgIGRlbGV0ZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgb3BlbkRlbGV0ZVBhZ2VNb2RhbChwYWdlKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpdGVtLmFwcGVuZENoaWxkKGRlbGV0ZUJ0bik7XG4gICAgICAgICAgbGlzdC5hcHBlbmRDaGlsZChpdGVtKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IGdldEFjdGl2ZUJsb2NrID0gKCkgPT4ge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSB8fCAhQXJyYXkuaXNBcnJheShjdXJyZW50UGFnZS5ibG9ja3MpKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGN1cnJlbnRQYWdlLmJsb2Nrcy5maW5kKChibG9jaykgPT4gYmxvY2suaWQgPT09IGFjdGl2ZUJsb2NrSWQpIHx8IG51bGw7XG4gICAgfTtcbiAgICBjb25zdCBzZXRBY3RpdmVCbG9jayA9IChibG9ja0lkKSA9PiB7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghYmxvY2tJZCkge1xuICAgICAgICBhY3RpdmVCbG9ja0lkID0gbnVsbDtcbiAgICAgICAgcmVuZGVyQmxvY2tMaXN0KGN1cnJlbnRQYWdlKTtcbiAgICAgICAgcmVuZGVyQmxvY2tEZXRhaWxzKG51bGwpO1xuICAgICAgICBhcHBseVByZXZpZXdIaWdobGlnaHQobnVsbCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHRhcmdldEJsb2NrID1cbiAgICAgICAgY3VycmVudFBhZ2UuYmxvY2tzLmZpbmQoKGJsb2NrKSA9PiBibG9jay5pZCA9PT0gYmxvY2tJZCkgfHwgY3VycmVudFBhZ2UuYmxvY2tzWzBdIHx8IG51bGw7XG4gICAgICBhY3RpdmVCbG9ja0lkID0gdGFyZ2V0QmxvY2s/LmlkIHx8IG51bGw7XG4gICAgICByZW5kZXJCbG9ja0xpc3QoY3VycmVudFBhZ2UpO1xuICAgICAgcmVuZGVyQmxvY2tEZXRhaWxzKHRhcmdldEJsb2NrKTtcbiAgICAgIGFwcGx5UHJldmlld0hpZ2hsaWdodChhY3RpdmVCbG9ja0lkKTtcbiAgICB9O1xuICAgIGNvbnN0IHVwZGF0ZUN1cnJlbnRQYWdlQmxvY2tzID0gKG5ld0Jsb2NrcykgPT4ge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBuZXh0UGFnZSA9IHsgLi4uY3VycmVudFBhZ2UsIGJsb2NrczogbmV3QmxvY2tzIH07XG4gICAgICB1cGRhdGVDdXJyZW50UGFnZVN0YXRlKG5leHRQYWdlKTtcbiAgICB9O1xuICAgIGNvbnN0IGlzRGVza3RvcFJlb3JkZXIgPSAoKSA9PiB3aW5kb3cubWF0Y2hNZWRpYSgnKG1pbi13aWR0aDogMTAyNHB4KScpLm1hdGNoZXM7XG4gICAgZnVuY3Rpb24gbW92ZUJsb2NrQnlPZmZzZXQoYmxvY2tJZCwgb2Zmc2V0KSB7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlIHx8ICFibG9ja0lkIHx8ICFvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgYmxvY2tzID0gWy4uLihjdXJyZW50UGFnZS5ibG9ja3MgfHwgW10pXTtcbiAgICAgIGNvbnN0IGluZGV4ID0gYmxvY2tzLmZpbmRJbmRleCgoYmxvY2spID0+IGJsb2NrLmlkID09PSBibG9ja0lkKTtcbiAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgbmV3SW5kZXggPSBpbmRleCArIG9mZnNldDtcbiAgICAgIGlmIChuZXdJbmRleCA8IDAgfHwgbmV3SW5kZXggPj0gYmxvY2tzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBbbW92ZWRdID0gYmxvY2tzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICBibG9ja3Muc3BsaWNlKG5ld0luZGV4LCAwLCBtb3ZlZCk7XG4gICAgICB1cGRhdGVDdXJyZW50UGFnZUJsb2NrcyhibG9ja3MpO1xuICAgICAgc2V0QWN0aXZlUGFnZShjdXJyZW50UGFnZS5pZCwgeyBwcmVzZXJ2ZUJsb2NrOiB0cnVlIH0pO1xuICAgICAgc2V0QWN0aXZlQmxvY2sobW92ZWQuaWQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZW9yZGVyQmxvY2tzKHNvdXJjZUlkLCB0YXJnZXRJZCkge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSB8fCAhc291cmNlSWQgfHwgIXRhcmdldElkIHx8IHNvdXJjZUlkID09PSB0YXJnZXRJZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBibG9ja3MgPSBbLi4uKGN1cnJlbnRQYWdlLmJsb2NrcyB8fCBbXSldO1xuICAgICAgY29uc3QgZnJvbUluZGV4ID0gYmxvY2tzLmZpbmRJbmRleCgoYmxvY2spID0+IGJsb2NrLmlkID09PSBzb3VyY2VJZCk7XG4gICAgICBjb25zdCB0b0luZGV4ID0gYmxvY2tzLmZpbmRJbmRleCgoYmxvY2spID0+IGJsb2NrLmlkID09PSB0YXJnZXRJZCk7XG4gICAgICBpZiAoZnJvbUluZGV4IDwgMCB8fCB0b0luZGV4IDwgMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBbbW92ZWRdID0gYmxvY2tzLnNwbGljZShmcm9tSW5kZXgsIDEpO1xuICAgICAgYmxvY2tzLnNwbGljZSh0b0luZGV4LCAwLCBtb3ZlZCk7XG4gICAgICB1cGRhdGVDdXJyZW50UGFnZUJsb2NrcyhibG9ja3MpO1xuICAgICAgc2V0QWN0aXZlUGFnZShjdXJyZW50UGFnZS5pZCwgeyBwcmVzZXJ2ZUJsb2NrOiB0cnVlIH0pO1xuICAgICAgc2V0QWN0aXZlQmxvY2sobW92ZWQuaWQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZW9yZGVyQmxvY2tzV2l0aFBvc2l0aW9uKHNvdXJjZUlkLCB0YXJnZXRJZCwgcG9zaXRpb24pIHtcbiAgICAgIGlmICghY3VycmVudFBhZ2UgfHwgIXNvdXJjZUlkIHx8ICF0YXJnZXRJZCB8fCBzb3VyY2VJZCA9PT0gdGFyZ2V0SWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgYmxvY2tzID0gWy4uLihjdXJyZW50UGFnZS5ibG9ja3MgfHwgW10pXTtcbiAgICAgIGNvbnN0IGZyb21JbmRleCA9IGJsb2Nrcy5maW5kSW5kZXgoKGJsb2NrKSA9PiBibG9jay5pZCA9PT0gc291cmNlSWQpO1xuICAgICAgbGV0IHRvSW5kZXggPSBibG9ja3MuZmluZEluZGV4KChibG9jaykgPT4gYmxvY2suaWQgPT09IHRhcmdldElkKTtcbiAgICAgIGlmIChmcm9tSW5kZXggPCAwIHx8IHRvSW5kZXggPCAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IFttb3ZlZF0gPSBibG9ja3Muc3BsaWNlKGZyb21JbmRleCwgMSk7XG4gICAgICAvLyBBanVzdGVyIGwnaW5kZXggc2kgblx1MDBFOWNlc3NhaXJlIGFwclx1MDBFOHMgbGEgc3VwcHJlc3Npb25cbiAgICAgIGlmIChmcm9tSW5kZXggPCB0b0luZGV4KSB7XG4gICAgICAgIHRvSW5kZXgtLTtcbiAgICAgIH1cbiAgICAgIC8vIEluc1x1MDBFOXJlciBhdmFudCBvdSBhcHJcdTAwRThzIGxhIGNpYmxlXG4gICAgICBjb25zdCBpbnNlcnRJbmRleCA9IHBvc2l0aW9uID09PSAnYmVmb3JlJyA/IHRvSW5kZXggOiB0b0luZGV4ICsgMTtcbiAgICAgIGJsb2Nrcy5zcGxpY2UoaW5zZXJ0SW5kZXgsIDAsIG1vdmVkKTtcbiAgICAgIHVwZGF0ZUN1cnJlbnRQYWdlQmxvY2tzKGJsb2Nrcyk7XG4gICAgICBzZXRBY3RpdmVQYWdlKGN1cnJlbnRQYWdlLmlkLCB7IHByZXNlcnZlQmxvY2s6IHRydWUgfSk7XG4gICAgICBzZXRBY3RpdmVCbG9jayhtb3ZlZC5pZCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZURyYWdnYWJsZVN0YXRlKCkge1xuICAgICAgaWYgKCFibG9ja0xpc3QpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgZHJhZ2dhYmxlID0gaXNEZXNrdG9wUmVvcmRlcigpO1xuICAgICAgYmxvY2tMaXN0LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWJsb2NrLWl0ZW1dJykuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICBpdGVtLnNldEF0dHJpYnV0ZSgnZHJhZ2dhYmxlJywgZHJhZ2dhYmxlID8gJ3RydWUnIDogJ2ZhbHNlJyk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2xvc2VCbG9ja0xpYnJhcnkoKSB7XG4gICAgICBpZiAoIWJsb2NrTGlicmFyeSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBibG9ja0xpYnJhcnkuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBibG9ja0xpYnJhcnlPcGVuID0gZmFsc2U7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG9wZW5CbG9ja0xpYnJhcnkoKSB7XG4gICAgICBpZiAoIWJsb2NrTGlicmFyeSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBibG9ja0xpYnJhcnkuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBibG9ja0xpYnJhcnlPcGVuID0gdHJ1ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdG9nZ2xlQmxvY2tMaWJyYXJ5KCkge1xuICAgICAgYmxvY2tMaWJyYXJ5T3BlbiA/IGNsb3NlQmxvY2tMaWJyYXJ5KCkgOiBvcGVuQmxvY2tMaWJyYXJ5KCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFkZEJsb2NrRnJvbUxpYnJhcnkodHlwZSkge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSB8fCAhdHlwZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBkZWZpbml0aW9uID0gYmxvY2tMaWJyYXJ5RGVmaW5pdGlvbnNbdHlwZV07XG4gICAgICBpZiAoIWRlZmluaXRpb24pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgY291bnQgPVxuICAgICAgICAoY3VycmVudFBhZ2UuYmxvY2tzIHx8IFtdKS5maWx0ZXIoKGJsb2NrKSA9PiBibG9jay50eXBlID09PSBkZWZpbml0aW9uLnR5cGUpLmxlbmd0aCArIDE7XG4gICAgICBjb25zdCBuZXdCbG9jayA9IGNyZWF0ZUJsb2NrKFxuICAgICAgICBnZW5lcmF0ZUJsb2NrSWQoY3VycmVudFBhZ2UuaWQsIHR5cGUpLFxuICAgICAgICBgJHtkZWZpbml0aW9uLmxhYmVsfSAke2NvdW50fWAsXG4gICAgICAgIGRlZmluaXRpb24udHlwZSxcbiAgICAgICAgZGVmaW5pdGlvbi5zdGF0dXMsXG4gICAgICAgIGRlZmluaXRpb24uZGVzY3JpcHRpb24sXG4gICAgICAgIGRlZmluaXRpb24ucHJvcHMsXG4gICAgICAgIGRlZmluaXRpb24uc2V0dGluZ3MgfHwge30sXG4gICAgICApO1xuICAgICAgaWYgKChkZWZpbml0aW9uLnR5cGUgfHwgJycpLnRvTG93ZXJDYXNlKCkgPT09ICdjb2xsZWN0aW9uZ3JpZCcpIHtcbiAgICAgICAgY29uc3QgZmlyc3RDb2xsZWN0aW9uSWQgPSBkZXNpZ25Db2xsZWN0aW9uc1swXT8uaWQgfHwgJyc7XG4gICAgICAgIG5ld0Jsb2NrLmNvbGxlY3Rpb25JZCA9IGZpcnN0Q29sbGVjdGlvbklkO1xuICAgICAgICBuZXdCbG9jay5zZXR0aW5ncy5jb2xsZWN0aW9uSWQgPSBmaXJzdENvbGxlY3Rpb25JZDtcbiAgICAgICAgbmV3QmxvY2suc2V0dGluZ3MubGltaXQgPSBuZXdCbG9jay5zZXR0aW5ncy5saW1pdCB8fCA2O1xuICAgICAgfVxuICAgICAgY29uc3QgbmV4dEJsb2NrcyA9IFsuLi4oY3VycmVudFBhZ2UuYmxvY2tzIHx8IFtdKSwgbmV3QmxvY2tdO1xuICAgICAgdXBkYXRlQ3VycmVudFBhZ2VCbG9ja3MobmV4dEJsb2Nrcyk7XG4gICAgICBzZXRBY3RpdmVQYWdlKGN1cnJlbnRQYWdlLmlkLCB7IHByZXNlcnZlQmxvY2s6IHRydWUgfSk7XG4gICAgICBzZXRBY3RpdmVCbG9jayhuZXdCbG9jay5pZCk7XG4gICAgICBjbG9zZUJsb2NrTGlicmFyeSgpO1xuICAgICAgc2hvd1RvYXN0KCdCbG9jIGFqb3V0XHUwMEU5Jyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlbGV0ZUJsb2NrQnlJZChibG9ja0lkKSB7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGJsb2NrcyA9IChjdXJyZW50UGFnZS5ibG9ja3MgfHwgW10pLmZpbHRlcigoYmxvY2spID0+IGJsb2NrLmlkICE9PSBibG9ja0lkKTtcbiAgICAgIGNvbnN0IG5leHRBY3RpdmUgPVxuICAgICAgICBibG9ja0lkID09PSBhY3RpdmVCbG9ja0lkID8gYmxvY2tzWzBdPy5pZCB8fCBudWxsIDogYWN0aXZlQmxvY2tJZCB8fCBibG9ja3NbMF0/LmlkIHx8IG51bGw7XG4gICAgICB1cGRhdGVDdXJyZW50UGFnZUJsb2NrcyhibG9ja3MpO1xuICAgICAgYWN0aXZlQmxvY2tJZCA9IG5leHRBY3RpdmU7XG4gICAgICBzZXRBY3RpdmVQYWdlKGN1cnJlbnRQYWdlLmlkLCB7IHByZXNlcnZlQmxvY2s6IHRydWUgfSk7XG4gICAgICBpZiAoYWN0aXZlQmxvY2tJZCkge1xuICAgICAgICBzZXRBY3RpdmVCbG9jayhhY3RpdmVCbG9ja0lkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlbmRlckJsb2NrRGV0YWlscyhudWxsKTtcbiAgICAgICAgYXBwbHlQcmV2aWV3SGlnaGxpZ2h0KG51bGwpO1xuICAgICAgfVxuICAgICAgc2hvd1RvYXN0KCdCbG9jIHN1cHByaW1cdTAwRTknKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2xvc2VCbG9ja0RlbGV0ZU1vZGFsKCkge1xuICAgICAgaWYgKCFibG9ja0RlbGV0ZU1vZGFsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGJsb2NrRGVsZXRlTW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBibG9ja0RlbGV0ZU1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2ZsZXgnKTtcbiAgICAgIHBlbmRpbmdEZWxldGVCbG9ja0lkID0gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gb3BlbkJsb2NrRGVsZXRlTW9kYWwoYmxvY2tJZCkge1xuICAgICAgaWYgKCFibG9ja0RlbGV0ZU1vZGFsKSB7XG4gICAgICAgIGRlbGV0ZUJsb2NrQnlJZChibG9ja0lkKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcGVuZGluZ0RlbGV0ZUJsb2NrSWQgPSBibG9ja0lkO1xuICAgICAgYmxvY2tEZWxldGVNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGJsb2NrRGVsZXRlTW9kYWwuY2xhc3NMaXN0LmFkZCgnZmxleCcpO1xuICAgIH1cbiAgICBjb25zdCB1cGRhdGVDdXJyZW50UGFnZVN0YXRlID0gKG5leHRQYWdlKSA9PiB7XG4gICAgICBpZiAoIW5leHRQYWdlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBub3JtYWxpemVQYWdlRGF0YShuZXh0UGFnZSk7XG4gICAgICBwYWdlcyA9IHBhZ2VzLm1hcCgocGFnZSkgPT4gKHBhZ2UuaWQgPT09IG5vcm1hbGl6ZWQuaWQgPyBub3JtYWxpemVkIDogcGFnZSkpO1xuICAgICAgY3VycmVudFBhZ2UgPSBub3JtYWxpemVkO1xuICAgICAgc2F2ZVBhZ2VUb1NlcnZlcihub3JtYWxpemVkKTtcbiAgICB9O1xuICAgIGNvbnN0IHNldEFjdGl2ZVBhZ2UgPSAocGFnZUlkLCBvcHRpb25zID0ge30pID0+IHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IHBhZ2VzLmZpbmQoKHBhZ2UpID0+IHBhZ2UuaWQgPT09IHBhZ2VJZCkgfHwgcGFnZXNbMF0gfHwgbnVsbDtcbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWRUYXJnZXQgPSB0YXJnZXQgPyBub3JtYWxpemVQYWdlRGF0YSh0YXJnZXQpIDogbnVsbDtcbiAgICAgIGN1cnJlbnRQYWdlID0gbm9ybWFsaXplZFRhcmdldDtcbiAgICAgIGFjdGl2ZVBhZ2VJZCA9IHRhcmdldD8uaWQgfHwgbnVsbDtcbiAgICAgIGlmICghb3B0aW9ucy5wcmVzZXJ2ZUJsb2NrIHx8ICFjdXJyZW50UGFnZSB8fCAhY3VycmVudFBhZ2UuYmxvY2tzLnNvbWUoKGJsb2NrKSA9PiBibG9jay5pZCA9PT0gYWN0aXZlQmxvY2tJZCkpIHtcbiAgICAgICAgYWN0aXZlQmxvY2tJZCA9IGN1cnJlbnRQYWdlPy5ibG9ja3M/LlswXT8uaWQgfHwgbnVsbDtcbiAgICAgIH1cbiAgICAgIGlmIChhY3RpdmVQYWdlSWQpIHtcbiAgICAgICAgcGVyc2lzdEFjdGl2ZVBhZ2UoYWN0aXZlUGFnZUlkKTtcbiAgICAgIH1cbiAgICAgIHJlbmRlclBhZ2VMaXN0cyhwYWdlcywgYWN0aXZlUGFnZUlkKTtcbiAgICAgIHNldEFjdGl2ZUxhYmVscyhjdXJyZW50UGFnZSk7XG4gICAgICByZW5kZXJQcmV2aWV3TWV0YShjdXJyZW50UGFnZSk7XG4gICAgICByZWZyZXNoUHJldmlldyhjdXJyZW50UGFnZSk7XG4gICAgICByZW5kZXJCbG9ja0xpc3QoY3VycmVudFBhZ2UpO1xuICAgICAgcmVuZGVyQmxvY2tEZXRhaWxzKGdldEFjdGl2ZUJsb2NrKCkpO1xuICAgICAgYXBwbHlQcmV2aWV3SGlnaGxpZ2h0KGFjdGl2ZUJsb2NrSWQpO1xuICAgICAgdXBkYXRlRHJhZ2dhYmxlU3RhdGUoKTtcbiAgICAgIGlmIChibG9ja0xpYnJhcnlPcGVuKSB7XG4gICAgICAgIGNsb3NlQmxvY2tMaWJyYXJ5KCk7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBpc0Rlc2t0b3BEcmF3ZXIgPSAoKSA9PiB3aW5kb3cubWF0Y2hNZWRpYSgnKG1pbi13aWR0aDogMTAyNHB4KScpLm1hdGNoZXM7XG4gICAgY29uc3Qgc3luY0RyYXdlclN0YXRlID0gKCkgPT4ge1xuICAgICAgaWYgKCFkcmF3ZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGlzRGVza3RvcERyYXdlcigpKSB7XG4gICAgICAgIGRyYXdlci5jbGFzc0xpc3QuYWRkKCdpcy1vcGVuJyk7XG4gICAgICAgIGRyYXdlckJhY2tkcm9wPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRyYXdlci5jbGFzc0xpc3QucmVtb3ZlKCdpcy1vcGVuJyk7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBvcGVuRHJhd2VyID0gKCkgPT4ge1xuICAgICAgaWYgKCFkcmF3ZXIgfHwgaXNEZXNrdG9wRHJhd2VyKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZHJhd2VyLmNsYXNzTGlzdC5hZGQoJ2lzLW9wZW4nKTtcbiAgICAgIGRyYXdlckJhY2tkcm9wPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnb3ZlcmZsb3ctaGlkZGVuJyk7XG4gICAgfTtcbiAgICBjb25zdCBjbG9zZURyYXdlciA9ICgpID0+IHtcbiAgICAgIGlmICghZHJhd2VyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGRyYXdlci5jbGFzc0xpc3QucmVtb3ZlKCdpcy1vcGVuJyk7XG4gICAgICBkcmF3ZXJCYWNrZHJvcD8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ292ZXJmbG93LWhpZGRlbicpO1xuICAgIH07XG4gICAgY29uc3Qgb3BlbkFkZFBhZ2VGb3JtID0gKCkgPT4ge1xuICAgICAgaWYgKCFhZGRQYWdlRm9ybSB8fCAhYWRkUGFnZVRvZ2dsZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhZGRQYWdlRm9ybS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGFkZFBhZ2VUb2dnbGUuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBhZGRQYWdlRXJyb3IgJiYgKGFkZFBhZ2VFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICAgIHBhZ2VTbHVnTWFudWFsbHlFZGl0ZWQgPSBmYWxzZTtcbiAgICAgIGlmIChhZGRQYWdlVGl0bGUpIHtcbiAgICAgICAgYWRkUGFnZVRpdGxlLnZhbHVlID0gJyc7XG4gICAgICAgIGFkZFBhZ2VUaXRsZS5mb2N1cygpO1xuICAgICAgfVxuICAgICAgaWYgKGFkZFBhZ2VTbHVnKSB7XG4gICAgICAgIGFkZFBhZ2VTbHVnLnZhbHVlID0gJyc7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBjbG9zZUFkZFBhZ2VGb3JtID0gKCkgPT4ge1xuICAgICAgaWYgKCFhZGRQYWdlRm9ybSB8fCAhYWRkUGFnZVRvZ2dsZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhZGRQYWdlRm9ybS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGFkZFBhZ2VUb2dnbGUuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBhZGRQYWdlRXJyb3IgJiYgKGFkZFBhZ2VFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICAgIHBhZ2VTbHVnTWFudWFsbHlFZGl0ZWQgPSBmYWxzZTtcbiAgICAgIGFkZFBhZ2VGb3JtLnJlc2V0KCk7XG4gICAgfTtcbiAgICBjb25zdCBzeW5jU2x1Z0Zyb21UaXRsZSA9ICgpID0+IHtcbiAgICAgIGlmICghYWRkUGFnZVRpdGxlIHx8ICFhZGRQYWdlU2x1Zykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAocGFnZVNsdWdNYW51YWxseUVkaXRlZCAmJiBhZGRQYWdlU2x1Zy52YWx1ZS50cmltKCkubGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhZGRQYWdlU2x1Zy52YWx1ZSA9IG5vcm1hbGl6ZVBhZ2VTbHVnKGFkZFBhZ2VUaXRsZS52YWx1ZSk7XG4gICAgfTtcblxuICAgIGxldCBwYWdlcyA9IFtdO1xuICAgIGxldCBhY3RpdmVQYWdlSWQgPSBudWxsO1xuICAgIGxldCBwYWdlU2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gICAgbGV0IGN1cnJlbnRQYWdlID0gbnVsbDtcbiAgICBsZXQgYWN0aXZlQmxvY2tJZCA9IG51bGw7XG4gICAgbGV0IGJsb2NrTGlicmFyeU9wZW4gPSBmYWxzZTtcbiAgICBsZXQgcGVuZGluZ0RlbGV0ZUJsb2NrSWQgPSBudWxsO1xuICAgIGxldCBsYXRlc3RQcmV2aWV3SHRtbCA9ICcnO1xuICAgIGxldCBwcmV2aWV3UmVhZHkgPSBmYWxzZTtcbiAgICBsZXQgcHJldmlld1JlcXVlc3RDb250cm9sbGVyID0gbnVsbDtcbiAgICBsZXQgZGVzaWduQ29sbGVjdGlvbnMgPSBbXTtcblxuICAgIGNvbnN0IG5vcm1hbGl6ZUJsb2NrRGF0YSA9IChibG9jaykgPT4ge1xuICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IHtcbiAgICAgICAgLi4uYmxvY2ssXG4gICAgICAgIHByb3BzOiBBcnJheS5pc0FycmF5KGJsb2NrLnByb3BzKSA/IGJsb2NrLnByb3BzIDogW10sXG4gICAgICAgIHNldHRpbmdzOiB7IC4uLihibG9jay5zZXR0aW5ncyB8fCB7fSkgfSxcbiAgICAgIH07XG4gICAgICBjb25zdCB0eXBlID0gKG5vcm1hbGl6ZWQudHlwZSB8fCAnJykudG9Mb3dlckNhc2UoKTtcbiAgICAgIGlmICh0eXBlID09PSAnY29sbGVjdGlvbmdyaWQnKSB7XG4gICAgICAgIG5vcm1hbGl6ZWQuY29sbGVjdGlvbklkID1cbiAgICAgICAgICBub3JtYWxpemVkLmNvbGxlY3Rpb25JZCB8fCBub3JtYWxpemVkLnNldHRpbmdzLmNvbGxlY3Rpb25JZCB8fCAnJztcbiAgICAgICAgbm9ybWFsaXplZC5zZXR0aW5ncy5jb2xsZWN0aW9uSWQgPSBub3JtYWxpemVkLmNvbGxlY3Rpb25JZDtcbiAgICAgICAgbm9ybWFsaXplZC5zZXR0aW5ncy5saW1pdCA9IG5vcm1hbGl6ZWQuc2V0dGluZ3MubGltaXQgfHwgNjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBub3JtYWxpemVkO1xuICAgIH07XG5cbiAgICBjb25zdCBub3JtYWxpemVQYWdlRGF0YSA9IChwYWdlKSA9PiAoe1xuICAgICAgLi4ucGFnZSxcbiAgICAgIGJsb2NrczogKHBhZ2UuYmxvY2tzIHx8IFtdKS5tYXAoKGJsb2NrKSA9PiBub3JtYWxpemVCbG9ja0RhdGEoYmxvY2spKSxcbiAgICAgIHNlbzoge1xuICAgICAgICB0aXRsZTogKHBhZ2Uuc2VvPy50aXRsZSB8fCAnJykudHJpbSgpLFxuICAgICAgICBkZXNjcmlwdGlvbjogKHBhZ2Uuc2VvPy5kZXNjcmlwdGlvbiB8fCAnJykudHJpbSgpLFxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIGNvbnN0IGxvYWREZXNpZ25Db2xsZWN0aW9ucyA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvbnNBcGlCYXNlKSB7XG4gICAgICAgIGRlc2lnbkNvbGxlY3Rpb25zID0gW107XG4gICAgICAgIHVwZGF0ZUNvbGxlY3Rpb25TZWxlY3RPcHRpb25zKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goY29sbGVjdGlvbnNBcGlCYXNlLCB7XG4gICAgICAgICAgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxlcyBjb2xsZWN0aW9ucy4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+IFtdKTtcbiAgICAgICAgZGVzaWduQ29sbGVjdGlvbnMgPSBBcnJheS5pc0FycmF5KHBheWxvYWQpID8gcGF5bG9hZCA6IFtdO1xuICAgICAgICBjb25zdCBjdXJyZW50VmFsdWUgPSBjb2xsZWN0aW9uU2VsZWN0Py52YWx1ZSB8fCAnJztcbiAgICAgICAgdXBkYXRlQ29sbGVjdGlvblNlbGVjdE9wdGlvbnMoY3VycmVudFZhbHVlKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZGVzaWduXSBjb2xsZWN0aW9ucyBsb2FkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KCdDb2xsZWN0aW9ucyBpbmRpc3BvbmlibGVzLicpO1xuICAgICAgICBkZXNpZ25Db2xsZWN0aW9ucyA9IFtdO1xuICAgICAgICB1cGRhdGVDb2xsZWN0aW9uU2VsZWN0T3B0aW9ucygpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBzeW5jQ29sbGVjdGlvblNlbGVjdGlvbkluZm8gPSAoY29sbGVjdGlvbklkKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25TZWxlY3Rpb25JbmZvKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghY29sbGVjdGlvbklkKSB7XG4gICAgICAgIGNvbGxlY3Rpb25TZWxlY3Rpb25JbmZvLnRleHRDb250ZW50ID0gZGVzaWduQ29sbGVjdGlvbnMubGVuZ3RoXG4gICAgICAgICAgPyAnU1x1MDBFOWxlY3Rpb25uZXogdW5lIGNvbGxlY3Rpb24gcG91ciBhZmZpY2hlciBzZXMgaW5mb3JtYXRpb25zLidcbiAgICAgICAgICA6ICdBdWN1bmUgY29sbGVjdGlvbiBkaXNwb25pYmxlLiBBam91dGV6LWVuIGRlcHVpcyBsXHUyMDE5b25nbGV0IENvbnRlbnVzLic7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGVudHJ5ID0gZGVzaWduQ29sbGVjdGlvbnMuZmluZCgoY29sbGVjdGlvbikgPT4gY29sbGVjdGlvbi5pZCA9PT0gY29sbGVjdGlvbklkKTtcbiAgICAgIGlmICghZW50cnkpIHtcbiAgICAgICAgY29sbGVjdGlvblNlbGVjdGlvbkluZm8udGV4dENvbnRlbnQgPSBgQ29sbGVjdGlvbiAke2NvbGxlY3Rpb25JZH1gO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBkZXRhaWxzID0gW107XG4gICAgICBpZiAoZW50cnkuZGVzY3JpcHRpb24pIHtcbiAgICAgICAgZGV0YWlscy5wdXNoKGVudHJ5LmRlc2NyaXB0aW9uKTtcbiAgICAgIH1cbiAgICAgIGlmIChlbnRyeS50eXBlKSB7XG4gICAgICAgIGRldGFpbHMucHVzaChgVHlwZVx1MDBBMDogJHtlbnRyeS50eXBlfWApO1xuICAgICAgfVxuICAgICAgY29sbGVjdGlvblNlbGVjdGlvbkluZm8udGV4dENvbnRlbnQgPVxuICAgICAgICBkZXRhaWxzLmpvaW4oJyBcdTAwQjcgJykgfHwgYENvbGxlY3Rpb24gJHtlbnRyeS5uYW1lIHx8IGVudHJ5LmlkfWA7XG4gICAgfTtcblxuICAgIGNvbnN0IHVwZGF0ZUNvbGxlY3Rpb25TZWxlY3RPcHRpb25zID0gKHNlbGVjdGVkVmFsdWUgPSAnJykgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uU2VsZWN0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbGxlY3Rpb25TZWxlY3QuaW5uZXJIVE1MID0gJyc7XG4gICAgICBpZiAoIWRlc2lnbkNvbGxlY3Rpb25zLmxlbmd0aCkge1xuICAgICAgICBjb2xsZWN0aW9uU2VsZWN0LmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICAgIG9wdGlvbi52YWx1ZSA9ICcnO1xuICAgICAgICBvcHRpb24udGV4dENvbnRlbnQgPSAnQXVjdW5lIGNvbGxlY3Rpb24gZGlzcG9uaWJsZSc7XG4gICAgICAgIGNvbGxlY3Rpb25TZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uKTtcbiAgICAgICAgc3luY0NvbGxlY3Rpb25TZWxlY3Rpb25JbmZvKCcnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29sbGVjdGlvblNlbGVjdC5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgaWYgKHNlbGVjdGVkVmFsdWUgJiYgIWRlc2lnbkNvbGxlY3Rpb25zLnNvbWUoKGVudHJ5KSA9PiBlbnRyeS5pZCA9PT0gc2VsZWN0ZWRWYWx1ZSkpIHtcbiAgICAgICAgY29uc3QgZmFsbGJhY2tPcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgICAgZmFsbGJhY2tPcHRpb24udmFsdWUgPSBzZWxlY3RlZFZhbHVlO1xuICAgICAgICBmYWxsYmFja09wdGlvbi50ZXh0Q29udGVudCA9IHNlbGVjdGVkVmFsdWU7XG4gICAgICAgIGNvbGxlY3Rpb25TZWxlY3QuYXBwZW5kQ2hpbGQoZmFsbGJhY2tPcHRpb24pO1xuICAgICAgfVxuICAgICAgZGVzaWduQ29sbGVjdGlvbnMuZm9yRWFjaCgoY29sbGVjdGlvbikgPT4ge1xuICAgICAgICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgICAgb3B0aW9uLnZhbHVlID0gY29sbGVjdGlvbi5pZDtcbiAgICAgICAgY29uc3QgbGFiZWwgPSBjb2xsZWN0aW9uLm5hbWUgfHwgY29sbGVjdGlvbi5pZDtcbiAgICAgICAgb3B0aW9uLnRleHRDb250ZW50ID0gY29sbGVjdGlvbi50eXBlID8gYCR7bGFiZWx9IFx1MDBCNyAke2NvbGxlY3Rpb24udHlwZX1gIDogbGFiZWw7XG4gICAgICAgIG9wdGlvbi5kYXRhc2V0LmRlc2NyaXB0aW9uID0gY29sbGVjdGlvbi5kZXNjcmlwdGlvbiB8fCAnJztcbiAgICAgICAgY29sbGVjdGlvblNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb24pO1xuICAgICAgfSk7XG4gICAgICBpZiAoc2VsZWN0ZWRWYWx1ZSkge1xuICAgICAgICBjb2xsZWN0aW9uU2VsZWN0LnZhbHVlID0gc2VsZWN0ZWRWYWx1ZTtcbiAgICAgIH1cbiAgICAgIHN5bmNDb2xsZWN0aW9uU2VsZWN0aW9uSW5mbyhjb2xsZWN0aW9uU2VsZWN0LnZhbHVlIHx8ICcnKTtcbiAgICB9O1xuXG4gICAgbG9hZERlc2lnbkNvbGxlY3Rpb25zKCk7XG4gICAgc3luY0RyYXdlclN0YXRlKCk7XG5cbiAgICBkcmF3ZXJPcGVuQnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5EcmF3ZXIpO1xuICAgIH0pO1xuICAgIGRyYXdlckNsb3NlQnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlRHJhd2VyKTtcbiAgICB9KTtcbiAgICBkcmF3ZXJCYWNrZHJvcD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZURyYXdlcik7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsICgpID0+IHtcbiAgICAgIHN5bmNEcmF3ZXJTdGF0ZSgpO1xuICAgICAgdXBkYXRlRHJhZ2dhYmxlU3RhdGUoKTtcbiAgICB9KTtcblxuICAgIGFkZFBhZ2VUb2dnbGU/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlbkFkZFBhZ2VGb3JtKTtcbiAgICBhZGRQYWdlQ2FuY2VsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlQWRkUGFnZUZvcm0pO1xuICAgIGFkZFBhZ2VUaXRsZT8uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBzeW5jU2x1Z0Zyb21UaXRsZSk7XG4gICAgYWRkUGFnZVNsdWc/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgYWRkUGFnZUVycm9yICYmIChhZGRQYWdlRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgICBwYWdlU2x1Z01hbnVhbGx5RWRpdGVkID0gdHJ1ZTtcbiAgICB9KTtcbiAgICBhZGRQYWdlRm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKCFwYWdlc0FwaUJhc2UpIHtcbiAgICAgICAgYWRkUGFnZUVycm9yICYmIChhZGRQYWdlRXJyb3IudGV4dENvbnRlbnQgPSAnQXVjdW4gc2l0ZSBzXHUwMEU5bGVjdGlvbm5cdTAwRTkuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghYWRkUGFnZVRpdGxlIHx8ICFhZGRQYWdlU2x1Zykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCB0aXRsZSA9IGFkZFBhZ2VUaXRsZS52YWx1ZS50cmltKCk7XG4gICAgICBjb25zdCBzbHVnID0gbm9ybWFsaXplUGFnZVNsdWcoYWRkUGFnZVNsdWcudmFsdWUudHJpbSgpIHx8IHRpdGxlKTtcbiAgICAgIGlmICghdGl0bGUgfHwgIXNsdWcpIHtcbiAgICAgICAgYWRkUGFnZUVycm9yICYmIChhZGRQYWdlRXJyb3IudGV4dENvbnRlbnQgPSAnVGl0cmUgZXQgc2x1ZyBzb250IHJlcXVpcy4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYWRkUGFnZUVycm9yICYmIChhZGRQYWdlRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgICBpZiAoYWRkUGFnZVN1Ym1pdEJ1dHRvbikge1xuICAgICAgICBhZGRQYWdlU3VibWl0QnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgYWRkUGFnZVN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9ICdDclx1MDBFOWF0aW9uLi4uJztcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGNyZWF0ZWRQYWdlID0gYXdhaXQgY3JlYXRlUGFnZU9uU2VydmVyKHsgdGl0bGUsIHNsdWcgfSk7XG4gICAgICAgIGlmICghY3JlYXRlZFBhZ2UgfHwgIWNyZWF0ZWRQYWdlLmlkKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSXHUwMEU5cG9uc2UgaW52YWxpZGUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgcGFnZXMgPSBbLi4ucGFnZXMsIG5vcm1hbGl6ZVBhZ2VEYXRhKGNyZWF0ZWRQYWdlKV07XG4gICAgICAgIGNsb3NlQWRkUGFnZUZvcm0oKTtcbiAgICAgICAgc2hvd1RvYXN0KCdQYWdlIGNyXHUwMEU5XHUwMEU5ZScpO1xuICAgICAgICBzZXRBY3RpdmVQYWdlKGNyZWF0ZWRQYWdlLmlkKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZGVzaWduXSBjcmVhdGUgcGFnZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBhZGRQYWdlRXJyb3IgJiYgKGFkZFBhZ2VFcnJvci50ZXh0Q29udGVudCA9IGVyci5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIGNyXHUwMEU5ZXIgbGEgcGFnZS4nKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmIChhZGRQYWdlU3VibWl0QnV0dG9uKSB7XG4gICAgICAgICAgYWRkUGFnZVN1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgIGFkZFBhZ2VTdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSAnQ3JcdTAwRTllcic7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vID09PSBJbXBvcnQgSlNPTiBoYW5kbGVycyA9PT1cbiAgICBjb25zdCByZXNldFBhc3RlU3RhdGUgPSAoKSA9PiB7XG4gICAgICBpZiAoaW1wb3J0UGFzdGVJbnB1dCkgaW1wb3J0UGFzdGVJbnB1dC52YWx1ZSA9ICcnO1xuICAgICAgaWYgKHBhc3RlRXJyb3IpIHtcbiAgICAgICAgcGFzdGVFcnJvci5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgcGFzdGVFcnJvci50ZXh0Q29udGVudCA9ICcnO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCB2YWxpZGF0ZVBhc3RlSnNvbiA9ICgpID0+IHtcbiAgICAgIGlmICghaW1wb3J0UGFzdGVJbnB1dCkgcmV0dXJuIG51bGw7XG4gICAgICBjb25zdCB0ZXh0ID0gaW1wb3J0UGFzdGVJbnB1dC52YWx1ZS50cmltKCk7XG4gICAgICBpZiAoIXRleHQpIHtcbiAgICAgICAgaWYgKHBhc3RlRXJyb3IpIHBhc3RlRXJyb3IuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcGFyc2VkID0gSlNPTi5wYXJzZSh0ZXh0KTtcbiAgICAgICAgaWYgKHBhc3RlRXJyb3IpIHBhc3RlRXJyb3IuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIHJldHVybiBwYXJzZWQ7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgaWYgKHBhc3RlRXJyb3IpIHtcbiAgICAgICAgICBwYXN0ZUVycm9yLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgIHBhc3RlRXJyb3IudGV4dENvbnRlbnQgPSBgXHUyNzRDIEpTT04gaW52YWxpZGUgOiAke2Vyci5tZXNzYWdlfWA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGZvcm1hdFBhc3RlSnNvbiA9ICgpID0+IHtcbiAgICAgIGlmICghaW1wb3J0UGFzdGVJbnB1dCkgcmV0dXJuO1xuICAgICAgY29uc3QgdGV4dCA9IGltcG9ydFBhc3RlSW5wdXQudmFsdWUudHJpbSgpO1xuICAgICAgaWYgKCF0ZXh0KSByZXR1cm47XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBwYXJzZWQgPSBKU09OLnBhcnNlKHRleHQpO1xuICAgICAgICBpbXBvcnRQYXN0ZUlucHV0LnZhbHVlID0gSlNPTi5zdHJpbmdpZnkocGFyc2VkLCBudWxsLCAyKTtcbiAgICAgICAgdmFsaWRhdGVQYXN0ZUpzb24oKTtcbiAgICAgIH0gY2F0Y2gge1xuICAgICAgICAvLyBTaSBwYXMgdmFsaWRlLCBvbiBuZSBmb3JtYXRlIHBhc1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCB1cGRhdGVJbXBvcnRTdWJtaXRTdGF0ZSA9ICgpID0+IHtcbiAgICAgIGlmICghaW1wb3J0U3VibWl0KSByZXR1cm47XG4gICAgICBpZiAoYWN0aXZlSW1wb3J0VGFiID09PSAndXBsb2FkJykge1xuICAgICAgICBpbXBvcnRTdWJtaXQuZGlzYWJsZWQgPSBpbXBvcnRTZWxlY3RlZEZpbGVzLmxlbmd0aCA9PT0gMDtcbiAgICAgIH0gZWxzZSBpZiAoYWN0aXZlSW1wb3J0VGFiID09PSAncGFzdGUnKSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZCA9IHZhbGlkYXRlUGFzdGVKc29uKCk7XG4gICAgICAgIGltcG9ydFN1Ym1pdC5kaXNhYmxlZCA9ICFwYXJzZWQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbXBvcnRTdWJtaXQuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBvcGVuSW1wb3J0TW9kYWwgPSAoKSA9PiB7XG4gICAgICBpZiAoIWltcG9ydE1vZGFsKSByZXR1cm47XG4gICAgICBpbXBvcnRNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGltcG9ydE1vZGFsLmNsYXNzTGlzdC5hZGQoJ2ZsZXgnKTtcbiAgICAgIGltcG9ydFNlbGVjdGVkRmlsZXMgPSBbXTtcbiAgICAgIGFjdGl2ZUltcG9ydFRhYiA9ICd1cGxvYWQnO1xuICAgICAgdXBkYXRlSW1wb3J0RmlsZUxpc3QoKTtcbiAgICAgIHJlc2V0UGFzdGVTdGF0ZSgpO1xuICAgICAgaWYgKGltcG9ydFJlc3VsdHMpIGltcG9ydFJlc3VsdHMuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBpZiAoaW1wb3J0UmVzdWx0c0NvbnRlbnQpIGltcG9ydFJlc3VsdHNDb250ZW50LmlubmVySFRNTCA9ICcnO1xuICAgICAgdXBkYXRlSW1wb3J0U3VibWl0U3RhdGUoKTtcbiAgICAgIC8vIFJlc2V0IHRhYnMgdG8gdXBsb2FkXG4gICAgICBpbXBvcnRUYWJzLmZvckVhY2goKHQpID0+IHtcbiAgICAgICAgaWYgKHQuZGF0YXNldC5pbXBvcnRUYWIgPT09ICd1cGxvYWQnKSB7XG4gICAgICAgICAgdC5jbGFzc0xpc3QuYWRkKCdiZy1bIzlDNkJGRl0nLCAndGV4dC13aGl0ZScpO1xuICAgICAgICAgIHQuY2xhc3NMaXN0LnJlbW92ZSgnYm9yZGVyJywgJ2JvcmRlci1zbGF0ZS0yMDAnLCAndGV4dC1zbGF0ZS03MDAnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0LmNsYXNzTGlzdC5yZW1vdmUoJ2JnLVsjOUM2QkZGXScsICd0ZXh0LXdoaXRlJyk7XG4gICAgICAgICAgdC5jbGFzc0xpc3QuYWRkKCdib3JkZXInLCAnYm9yZGVyLXNsYXRlLTIwMCcsICd0ZXh0LXNsYXRlLTcwMCcpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGltcG9ydFBhbmVscy5mb3JFYWNoKChwKSA9PiB7XG4gICAgICAgIGlmIChwLmRhdGFzZXQuaW1wb3J0UGFuZWwgPT09ICd1cGxvYWQnKSB7XG4gICAgICAgICAgcC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IGNsb3NlSW1wb3J0TW9kYWwgPSAoKSA9PiB7XG4gICAgICBpZiAoIWltcG9ydE1vZGFsKSByZXR1cm47XG4gICAgICBpbXBvcnRNb2RhbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGltcG9ydE1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2ZsZXgnKTtcbiAgICAgIGltcG9ydFNlbGVjdGVkRmlsZXMgPSBbXTtcbiAgICAgIHJlc2V0UGFzdGVTdGF0ZSgpO1xuICAgIH07XG4gICAgY29uc3QgdXBkYXRlSW1wb3J0RmlsZUxpc3QgPSAoKSA9PiB7XG4gICAgICBpZiAoIWltcG9ydEZpbGVMaXN0IHx8ICFpbXBvcnRGaWxlTmFtZXMpIHJldHVybjtcbiAgICAgIGlmIChpbXBvcnRTZWxlY3RlZEZpbGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBpbXBvcnRGaWxlTGlzdC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgdXBkYXRlSW1wb3J0U3VibWl0U3RhdGUoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaW1wb3J0RmlsZUxpc3QuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBpbXBvcnRGaWxlTmFtZXMuaW5uZXJIVE1MID0gaW1wb3J0U2VsZWN0ZWRGaWxlc1xuICAgICAgICAubWFwKChmKSA9PiBgPGxpIGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj48c3BhbiBjbGFzcz1cInRleHQtbGdcIj5cdUQ4M0RcdURDQzQ8L3NwYW4+JHtmLm5hbWV9PC9saT5gKVxuICAgICAgICAuam9pbignJyk7XG4gICAgICB1cGRhdGVJbXBvcnRTdWJtaXRTdGF0ZSgpO1xuICAgIH07XG4gICAgY29uc3QgaGFuZGxlSW1wb3J0RmlsZXMgPSAoZmlsZXMpID0+IHtcbiAgICAgIGNvbnN0IGpzb25GaWxlcyA9IEFycmF5LmZyb20oZmlsZXMpLmZpbHRlcihcbiAgICAgICAgKGYpID0+IGYudHlwZSA9PT0gJ2FwcGxpY2F0aW9uL2pzb24nIHx8IGYubmFtZS5lbmRzV2l0aCgnLmpzb24nKVxuICAgICAgKTtcbiAgICAgIGlmIChqc29uRmlsZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHNob3dUb2FzdCgnQXVjdW4gZmljaGllciBKU09OIHZhbGlkZS4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaW1wb3J0U2VsZWN0ZWRGaWxlcyA9IGpzb25GaWxlcztcbiAgICAgIHVwZGF0ZUltcG9ydEZpbGVMaXN0KCk7XG4gICAgfTtcbiAgICBjb25zdCBleGVjdXRlSW1wb3J0ID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFwYWdlc0FwaUJhc2UpIHJldHVybjtcbiAgICAgIFxuICAgICAgLy8gRGV0ZXJtaW5lIHNvdXJjZSBvZiBkYXRhIGJhc2VkIG9uIGFjdGl2ZSB0YWJcbiAgICAgIGxldCBwYWdlc0RhdGEgPSBbXTtcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coJ1tpbXBvcnRdIGFjdGl2ZUltcG9ydFRhYjonLCBhY3RpdmVJbXBvcnRUYWIpO1xuICAgICAgXG4gICAgICBpZiAoYWN0aXZlSW1wb3J0VGFiID09PSAncGFzdGUnKSB7XG4gICAgICAgIC8vIEltcG9ydCBmcm9tIHBhc3RlZCBKU09OXG4gICAgICAgIGNvbnN0IHRleHQgPSBpbXBvcnRQYXN0ZUlucHV0Py52YWx1ZT8udHJpbSgpO1xuICAgICAgICBjb25zb2xlLmxvZygnW2ltcG9ydF0gcGFzdGUgdGV4dCBsZW5ndGg6JywgdGV4dD8ubGVuZ3RoKTtcbiAgICAgICAgaWYgKCF0ZXh0KSB7XG4gICAgICAgICAgc2hvd1RvYXN0KCdBdWN1biBKU09OIFx1MDBFMCBpbXBvcnRlci4nKTtcbiAgICAgICAgICBpZiAoaW1wb3J0UmVzdWx0cyAmJiBpbXBvcnRSZXN1bHRzQ29udGVudCkge1xuICAgICAgICAgICAgaW1wb3J0UmVzdWx0cy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIGltcG9ydFJlc3VsdHNDb250ZW50LmlubmVySFRNTCA9ICc8cCBjbGFzcz1cInRleHQtYW1iZXItNjAwXCI+XHUyNkEwIExlIGNoYW1wIGRlIHRleHRlIGVzdCB2aWRlLjwvcD4nO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBwYXJzZWQgPSBKU09OLnBhcnNlKHRleHQpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdbaW1wb3J0XSBwYXJzZWQgSlNPTjonLCBwYXJzZWQpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdbaW1wb3J0XSBwYXJzZWQgdHlwZTonLCB0eXBlb2YgcGFyc2VkLCBBcnJheS5pc0FycmF5KHBhcnNlZCkgPyAnYXJyYXknIDogJ25vdCBhcnJheScpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIFN1cHBvcnQgZm9ybWF0IHsgcGFnZXM6IFsuLi5dLCBjb2xsZWN0aW9uczogey4uLn0gfVxuICAgICAgICAgIGlmIChwYXJzZWQgJiYgIUFycmF5LmlzQXJyYXkocGFyc2VkKSAmJiBwYXJzZWQucGFnZXMpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbaW1wb3J0XSBkZXRlY3RlZCBwYWdlcytjb2xsZWN0aW9ucyBmb3JtYXQnKTtcbiAgICAgICAgICAgIHBhZ2VzRGF0YSA9IHBhcnNlZDsgLy8gU2VuZCB0aGUgd2hvbGUgb2JqZWN0LCBiYWNrZW5kIHdpbGwgaGFuZGxlIGl0XG4gICAgICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHBhcnNlZCkpIHtcbiAgICAgICAgICAgIHBhZ2VzRGF0YS5wdXNoKC4uLnBhcnNlZCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhZ2VzRGF0YS5wdXNoKHBhcnNlZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnNvbGUubG9nKCdbaW1wb3J0XSBwYWdlc0RhdGEgcHJlcGFyZWQ6JywgcGFnZXNEYXRhKTtcbiAgICAgICAgfSBjYXRjaCAocGFyc2VFcnIpIHtcbiAgICAgICAgICAvLyBBZmZpY2hlciBsZSBkXHUwMEU5dGFpbCBkZSBsJ2VycmV1ciBkZSBwYXJzaW5nXG4gICAgICAgICAgY29uc3QgZXJyb3JMaW5lID0gcGFyc2VFcnIubWVzc2FnZS5tYXRjaCgvcG9zaXRpb24gKFxcZCspLyk7XG4gICAgICAgICAgbGV0IGVycm9yRGV0YWlsID0gcGFyc2VFcnIubWVzc2FnZTtcbiAgICAgICAgICBpZiAoZXJyb3JMaW5lKSB7XG4gICAgICAgICAgICBjb25zdCBwb3MgPSBwYXJzZUludChlcnJvckxpbmVbMV0sIDEwKTtcbiAgICAgICAgICAgIGNvbnN0IGxpbmVzID0gdGV4dC5zdWJzdHJpbmcoMCwgcG9zKS5zcGxpdCgnXFxuJyk7XG4gICAgICAgICAgICBjb25zdCBsaW5lTnVtID0gbGluZXMubGVuZ3RoO1xuICAgICAgICAgICAgY29uc3QgY29sTnVtID0gbGluZXNbbGluZXMubGVuZ3RoIC0gMV0ubGVuZ3RoICsgMTtcbiAgICAgICAgICAgIGVycm9yRGV0YWlsID0gYExpZ25lICR7bGluZU51bX0sIGNvbG9ubmUgJHtjb2xOdW19OiAke3BhcnNlRXJyLm1lc3NhZ2V9YDtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2hvd1RvYXN0KGBFcnJldXIgSlNPTiA6ICR7ZXJyb3JEZXRhaWx9YCwgJ2Vycm9yJyk7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW2ltcG9ydF0gcGFzdGUgcGFyc2UgZXJyb3InLCBwYXJzZUVycik7XG4gICAgICAgICAgLy8gU2hvdyBlcnJvciBpbiByZXN1bHRzIGFyZWFcbiAgICAgICAgICBpZiAoaW1wb3J0UmVzdWx0cyAmJiBpbXBvcnRSZXN1bHRzQ29udGVudCkge1xuICAgICAgICAgICAgaW1wb3J0UmVzdWx0cy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIGltcG9ydFJlc3VsdHNDb250ZW50LmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRleHQtcm9zZS02MDBcIj5cbiAgICAgICAgICAgICAgICA8cCBjbGFzcz1cImZvbnQtbWVkaXVtXCI+XHUyNzE3IEVycmV1ciBkZSBzeW50YXhlIEpTT048L3A+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXhzIG10LTFcIj4ke2Vycm9yRGV0YWlsfTwvcD5cbiAgICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQteHMgbXQtMiB0ZXh0LXNsYXRlLTUwMFwiPlZcdTAwRTlyaWZpZXogbGVzIHZpcmd1bGVzLCBndWlsbGVtZXRzIGV0IGFjY29sYWRlcy48L3A+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgYDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGFjdGl2ZUltcG9ydFRhYiA9PT0gJ3VwbG9hZCcpIHtcbiAgICAgICAgLy8gSW1wb3J0IGZyb20gZmlsZXNcbiAgICAgICAgaWYgKGltcG9ydFNlbGVjdGVkRmlsZXMubGVuZ3RoID09PSAwKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGZpbGVFcnJvcnMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBmaWxlIG9mIGltcG9ydFNlbGVjdGVkRmlsZXMpIHtcbiAgICAgICAgICBjb25zdCB0ZXh0ID0gYXdhaXQgZmlsZS50ZXh0KCk7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZCA9IEpTT04ucGFyc2UodGV4dCk7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwYXJzZWQpKSB7XG4gICAgICAgICAgICAgIHBhZ2VzRGF0YS5wdXNoKC4uLnBhcnNlZCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwYWdlc0RhdGEucHVzaChwYXJzZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2ggKHBhcnNlRXJyKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvckxpbmUgPSBwYXJzZUVyci5tZXNzYWdlLm1hdGNoKC9wb3NpdGlvbiAoXFxkKykvKTtcbiAgICAgICAgICAgIGxldCBlcnJvckRldGFpbCA9IHBhcnNlRXJyLm1lc3NhZ2U7XG4gICAgICAgICAgICBpZiAoZXJyb3JMaW5lKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHBvcyA9IHBhcnNlSW50KGVycm9yTGluZVsxXSwgMTApO1xuICAgICAgICAgICAgICBjb25zdCBsaW5lcyA9IHRleHQuc3Vic3RyaW5nKDAsIHBvcykuc3BsaXQoJ1xcbicpO1xuICAgICAgICAgICAgICBjb25zdCBsaW5lTnVtID0gbGluZXMubGVuZ3RoO1xuICAgICAgICAgICAgICBlcnJvckRldGFpbCA9IGBMaWduZSAke2xpbmVOdW19OiAke3BhcnNlRXJyLm1lc3NhZ2V9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbGVFcnJvcnMucHVzaCh7IGZpbGU6IGZpbGUubmFtZSwgZXJyb3I6IGVycm9yRGV0YWlsIH0pO1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignW2ltcG9ydF0gcGFyc2UgZXJyb3InLCBmaWxlLm5hbWUsIHBhcnNlRXJyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2hvdyBmaWxlIHBhcnNpbmcgZXJyb3JzIGlmIGFueVxuICAgICAgICBpZiAoZmlsZUVycm9ycy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgaWYgKGltcG9ydFJlc3VsdHMgJiYgaW1wb3J0UmVzdWx0c0NvbnRlbnQpIHtcbiAgICAgICAgICAgIGltcG9ydFJlc3VsdHMuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgICBsZXQgaHRtbCA9ICc8ZGl2IGNsYXNzPVwidGV4dC1yb3NlLTYwMFwiPjxwIGNsYXNzPVwiZm9udC1tZWRpdW1cIj5cdTI3MTcgRXJyZXVycyBkZSBzeW50YXhlIEpTT048L3A+PHVsIGNsYXNzPVwibWwtNCB0ZXh0LXhzIG10LTFcIj4nO1xuICAgICAgICAgICAgZmlsZUVycm9ycy5mb3JFYWNoKGUgPT4ge1xuICAgICAgICAgICAgICBodG1sICs9IGA8bGk+PHN0cm9uZz4ke2UuZmlsZX08L3N0cm9uZz46ICR7ZS5lcnJvcn08L2xpPmA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGh0bWwgKz0gJzwvdWw+PC9kaXY+JztcbiAgICAgICAgICAgIGlmIChwYWdlc0RhdGEubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICBodG1sICs9IGA8cCBjbGFzcz1cInRleHQtYW1iZXItNjAwIG10LTIgdGV4dC1zbVwiPlx1MjZBMCAke3BhZ2VzRGF0YS5sZW5ndGh9IHBhZ2UocykgdmFsaWRlKHMpIHNlcm9udCBpbXBvcnRcdTAwRTllKHMpPC9wPmA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbXBvcnRSZXN1bHRzQ29udGVudC5pbm5lckhUTUwgPSBodG1sO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocGFnZXNEYXRhLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgc2hvd1RvYXN0KCdUb3VzIGxlcyBmaWNoaWVycyBjb250aWVubmVudCBkZXMgZXJyZXVycyBKU09OJywgJ2Vycm9yJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIFZcdTAwRTlyaWZpZXIgcXUnb24gYSBkZXMgZG9ublx1MDBFOWVzIFx1MDBFMCBpbXBvcnRlclxuICAgICAgY29uc3QgaGFzRGF0YSA9IEFycmF5LmlzQXJyYXkocGFnZXNEYXRhKSBcbiAgICAgICAgPyBwYWdlc0RhdGEubGVuZ3RoID4gMCBcbiAgICAgICAgOiAocGFnZXNEYXRhICYmIChwYWdlc0RhdGEucGFnZXM/Lmxlbmd0aCA+IDAgfHwgcGFnZXNEYXRhLnRpdGxlKSk7XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKCdbaW1wb3J0XSBoYXNEYXRhIGNoZWNrOicsIGhhc0RhdGEsICdwYWdlc0RhdGE6JywgcGFnZXNEYXRhKTtcbiAgICAgIFxuICAgICAgaWYgKCFoYXNEYXRhKSB7XG4gICAgICAgIHNob3dUb2FzdCgnQXVjdW5lIHBhZ2UgdmFsaWRlIFx1MDBFMCBpbXBvcnRlci4nKTtcbiAgICAgICAgaWYgKGltcG9ydFJlc3VsdHMgJiYgaW1wb3J0UmVzdWx0c0NvbnRlbnQpIHtcbiAgICAgICAgICBpbXBvcnRSZXN1bHRzLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgIGltcG9ydFJlc3VsdHNDb250ZW50LmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LWFtYmVyLTYwMFwiPlxuICAgICAgICAgICAgICA8cCBjbGFzcz1cImZvbnQtbWVkaXVtXCI+XHUyNkEwIEF1Y3VuZSBwYWdlIGRcdTAwRTl0ZWN0XHUwMEU5ZTwvcD5cbiAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXhzIG10LTFcIj5MZSBKU09OIGRvaXQgY29udGVuaXIgOjwvcD5cbiAgICAgICAgICAgICAgPHVsIGNsYXNzPVwidGV4dC14cyBtbC00IG10LTEgbGlzdC1kaXNjXCI+XG4gICAgICAgICAgICAgICAgPGxpPlVuIG9iamV0IHBhZ2UgYXZlYyBcInRpdGxlXCIgOiA8Y29kZT57XCJ0aXRsZVwiOiBcIk1hIHBhZ2VcIiwgLi4ufTwvY29kZT48L2xpPlxuICAgICAgICAgICAgICAgIDxsaT5VbiB0YWJsZWF1IGRlIHBhZ2VzIDogPGNvZGU+W3tcInRpdGxlXCI6IFwiUGFnZSAxXCJ9LCB7XCJ0aXRsZVwiOiBcIlBhZ2UgMlwifV08L2NvZGU+PC9saT5cbiAgICAgICAgICAgICAgICA8bGk+T3UgdW4gb2JqZXQgY29tYmluXHUwMEU5IDogPGNvZGU+e1wicGFnZXNcIjogWy4uLl0sIFwiY29sbGVjdGlvbnNcIjogey4uLn19PC9jb2RlPjwvbGk+XG4gICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICBgO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGltcG9ydFN1Ym1pdCkge1xuICAgICAgICBpbXBvcnRTdWJtaXQuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICBpbXBvcnRTdWJtaXQudGV4dENvbnRlbnQgPSAnSW1wb3J0Li4uJztcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gQWZmaWNoZXIgY2UgcXUnb24gdmEgZW52b3llciAoZGVidWcpXG4gICAgICBjb25zb2xlLmxvZygnW2ltcG9ydF0gU2VuZGluZyB0byBzZXJ2ZXI6JywgSlNPTi5zdHJpbmdpZnkocGFnZXNEYXRhKS5zdWJzdHJpbmcoMCwgNTAwKSk7XG4gICAgICBcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7cGFnZXNBcGlCYXNlfS9pbXBvcnRgLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgY3JlZGVudGlhbHM6ICdpbmNsdWRlJyxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYWdlc0RhdGEpLFxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGNvbnNvbGUubG9nKCdbaW1wb3J0XSBTZXJ2ZXIgcmVzcG9uc2Ugc3RhdHVzOicsIHJlc3BvbnNlLnN0YXR1cyk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdbaW1wb3J0XSBTZXJ2ZXIgcmVzcG9uc2UgYm9keTonLCByZXN1bHQpO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgLy8gQWZmaWNoZXIgbGUgZFx1MDBFOXRhaWwgZGUgbCdlcnJldXIgc2VydmV1clxuICAgICAgICAgIGlmIChpbXBvcnRSZXN1bHRzICYmIGltcG9ydFJlc3VsdHNDb250ZW50KSB7XG4gICAgICAgICAgICBpbXBvcnRSZXN1bHRzLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgICAgaW1wb3J0UmVzdWx0c0NvbnRlbnQuaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC1yb3NlLTYwMFwiPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwiZm9udC1tZWRpdW1cIj5cdTI3MTcgRXJyZXVyIHNlcnZldXI8L3A+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXhzIG10LTFcIj4ke3Jlc3VsdC5tZXNzYWdlIHx8ICdFcnJldXIgaW5jb25udWUnfTwvcD5cbiAgICAgICAgICAgICAgICAke3Jlc3VsdC5kZXRhaWxzID8gYDxwIGNsYXNzPVwidGV4dC14cyBtdC0xIHRleHQtc2xhdGUtNTAwXCI+JHtyZXN1bHQuZGV0YWlsc308L3A+YCA6ICcnfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIGA7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQubWVzc2FnZSB8fCAnRXJyZXVyIHNlcnZldXInKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTaG93IHJlc3VsdHNcbiAgICAgICAgaWYgKGltcG9ydFJlc3VsdHMgJiYgaW1wb3J0UmVzdWx0c0NvbnRlbnQpIHtcbiAgICAgICAgICBpbXBvcnRSZXN1bHRzLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgIGxldCBodG1sID0gJyc7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gRW50XHUwMEVBdGUgc3VjY1x1MDBFOHMvZXJyZXVyXG4gICAgICAgICAgY29uc3QgaGFzU3VjY2VzcyA9IChyZXN1bHQuaW1wb3J0ZWQ/Lmxlbmd0aCA+IDApIHx8IChyZXN1bHQuY29sbGVjdGlvbnNDcmVhdGVkPy5sZW5ndGggPiAwKTtcbiAgICAgICAgICBjb25zdCBoYXNFcnJvcnMgPSByZXN1bHQuZXJyb3JzPy5sZW5ndGggPiAwO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmIChoYXNTdWNjZXNzICYmICFoYXNFcnJvcnMpIHtcbiAgICAgICAgICAgIGh0bWwgKz0gJzxkaXYgY2xhc3M9XCJiZy1ncmVlbi01MCBib3JkZXIgYm9yZGVyLWdyZWVuLTIwMCByb3VuZGVkLWxnIHAtMyBtYi0yXCI+PHAgY2xhc3M9XCJ0ZXh0LWdyZWVuLTgwMCBmb250LW1lZGl1bVwiPlx1MjcxMyBJbXBvcnQgclx1MDBFOXVzc2k8L3A+PC9kaXY+JztcbiAgICAgICAgICB9IGVsc2UgaWYgKGhhc1N1Y2Nlc3MgJiYgaGFzRXJyb3JzKSB7XG4gICAgICAgICAgICBodG1sICs9ICc8ZGl2IGNsYXNzPVwiYmctYW1iZXItNTAgYm9yZGVyIGJvcmRlci1hbWJlci0yMDAgcm91bmRlZC1sZyBwLTMgbWItMlwiPjxwIGNsYXNzPVwidGV4dC1hbWJlci04MDAgZm9udC1tZWRpdW1cIj5cdTI2QTAgSW1wb3J0IHBhcnRpZWw8L3A+PC9kaXY+JztcbiAgICAgICAgICB9IGVsc2UgaWYgKGhhc0Vycm9ycykge1xuICAgICAgICAgICAgaHRtbCArPSAnPGRpdiBjbGFzcz1cImJnLXJvc2UtNTAgYm9yZGVyIGJvcmRlci1yb3NlLTIwMCByb3VuZGVkLWxnIHAtMyBtYi0yXCI+PHAgY2xhc3M9XCJ0ZXh0LXJvc2UtODAwIGZvbnQtbWVkaXVtXCI+XHUyNzE3IEltcG9ydCBcdTAwRTljaG91XHUwMEU5PC9wPjwvZGl2Pic7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIENvbGxlY3Rpb25zIGNyXHUwMEU5XHUwMEU5ZXNcbiAgICAgICAgICBpZiAocmVzdWx0LmNvbGxlY3Rpb25zQ3JlYXRlZCAmJiByZXN1bHQuY29sbGVjdGlvbnNDcmVhdGVkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGh0bWwgKz0gYDxwIGNsYXNzPVwidGV4dC12aW9sZXQtNzAwIG10LTJcIj5cdTI3MTMgJHtyZXN1bHQuY29sbGVjdGlvbnNDcmVhdGVkLmxlbmd0aH0gY29sbGVjdGlvbihzKSBjclx1MDBFOVx1MDBFOWUocyk8L3A+YDtcbiAgICAgICAgICAgIGh0bWwgKz0gJzx1bCBjbGFzcz1cIm1sLTQgdGV4dC14cyB0ZXh0LXNsYXRlLTYwMFwiPic7XG4gICAgICAgICAgICByZXN1bHQuY29sbGVjdGlvbnNDcmVhdGVkLmZvckVhY2goKGMpID0+IHtcbiAgICAgICAgICAgICAgaHRtbCArPSBgPGxpPiR7Yy5uYW1lfSAoJHtjLml0ZW1zQ291bnR9IGl0ZW0ke2MuaXRlbXNDb3VudCA+IDEgPyAncycgOiAnJ30pPC9saT5gO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBodG1sICs9ICc8L3VsPic7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIFBhZ2VzIGltcG9ydFx1MDBFOWVzXG4gICAgICAgICAgaWYgKHJlc3VsdC5pbXBvcnRlZCAmJiByZXN1bHQuaW1wb3J0ZWQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgaHRtbCArPSBgPHAgY2xhc3M9XCJ0ZXh0LWdyZWVuLTcwMCBtdC0yXCI+XHUyNzEzICR7cmVzdWx0LmltcG9ydGVkLmxlbmd0aH0gcGFnZShzKSBpbXBvcnRcdTAwRTllKHMpPC9wPmA7XG4gICAgICAgICAgICBodG1sICs9ICc8dWwgY2xhc3M9XCJtbC00IHRleHQteHMgdGV4dC1zbGF0ZS02MDBcIj4nO1xuICAgICAgICAgICAgcmVzdWx0LmltcG9ydGVkLmZvckVhY2goKHApID0+IHtcbiAgICAgICAgICAgICAgaHRtbCArPSBgPGxpPjxzdHJvbmc+JHtwLnRpdGxlfTwvc3Ryb25nPiBcdTIxOTIgJHtwLnNsdWd9ICgke3AuYWN0aW9uID09PSAndXBkYXRlZCcgPyAnbWlzZSBcdTAwRTAgam91cicgOiAnY3JcdTAwRTlcdTAwRTllJ30pPC9saT5gO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBodG1sICs9ICc8L3VsPic7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIEVycmV1cnMgYXZlYyBkXHUwMEU5dGFpbHNcbiAgICAgICAgICBpZiAocmVzdWx0LmVycm9ycyAmJiByZXN1bHQuZXJyb3JzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGh0bWwgKz0gYDxwIGNsYXNzPVwidGV4dC1yb3NlLTYwMCBtdC0zIGZvbnQtbWVkaXVtXCI+XHUyNzE3ICR7cmVzdWx0LmVycm9ycy5sZW5ndGh9IGVycmV1cihzKTwvcD5gO1xuICAgICAgICAgICAgaHRtbCArPSAnPHVsIGNsYXNzPVwibWwtNCB0ZXh0LXhzIHRleHQtcm9zZS02MDAgc3BhY2UteS0xIG10LTFcIj4nO1xuICAgICAgICAgICAgcmVzdWx0LmVycm9ycy5mb3JFYWNoKChlKSA9PiB7XG4gICAgICAgICAgICAgIGh0bWwgKz0gYDxsaSBjbGFzcz1cImJnLXJvc2UtNTAgcC0yIHJvdW5kZWRcIj48c3Ryb25nPiR7ZS50aXRsZX08L3N0cm9uZz48YnIvPjxzcGFuIGNsYXNzPVwidGV4dC1yb3NlLTUwMFwiPiR7ZS5lcnJvcn08L3NwYW4+PC9saT5gO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBodG1sICs9ICc8L3VsPic7XG4gICAgICAgICAgfVxuICAgICAgICAgIGltcG9ydFJlc3VsdHNDb250ZW50LmlubmVySFRNTCA9IGh0bWw7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVsb2FkIHBhZ2VzIGxpc3QgYW5kIHNob3cgdG9hc3RcbiAgICAgICAgY29uc3QgaGFzU3VjY2VzcyA9IChyZXN1bHQuaW1wb3J0ZWQ/Lmxlbmd0aCA+IDApIHx8IChyZXN1bHQuY29sbGVjdGlvbnNDcmVhdGVkPy5sZW5ndGggPiAwKTtcbiAgICAgICAgY29uc3QgaGFzRXJyb3JzID0gcmVzdWx0LmVycm9ycz8ubGVuZ3RoID4gMDtcbiAgICAgICAgXG4gICAgICAgIGlmIChyZXN1bHQuaW1wb3J0ZWQgJiYgcmVzdWx0LmltcG9ydGVkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBjb25zdCBmcmVzaFBhZ2VzID0gYXdhaXQgZmV0Y2hQYWdlc0Zyb21TZXJ2ZXIoKTtcbiAgICAgICAgICBwYWdlcyA9IGZyZXNoUGFnZXM7XG4gICAgICAgICAgcmVuZGVyUGFnZUxpc3RzKHBhZ2VzLCBhY3RpdmVQYWdlSWQpO1xuICAgICAgICAgIGlmIChwYWdlcy5sZW5ndGggPiAwICYmICFhY3RpdmVQYWdlSWQpIHtcbiAgICAgICAgICAgIHNldEFjdGl2ZVBhZ2UocGFnZXNbMF0uaWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gVG9hc3QgYXZlYyBzdGF0dXQgYXBwcm9wcmlcdTAwRTlcbiAgICAgICAgaWYgKGhhc1N1Y2Nlc3MgJiYgIWhhc0Vycm9ycykge1xuICAgICAgICAgIGNvbnN0IGNvbGxlY3Rpb25zTXNnID0gcmVzdWx0LmNvbGxlY3Rpb25zQ3JlYXRlZD8ubGVuZ3RoIFxuICAgICAgICAgICAgPyBgICsgJHtyZXN1bHQuY29sbGVjdGlvbnNDcmVhdGVkLmxlbmd0aH0gY29sbGVjdGlvbihzKWAgXG4gICAgICAgICAgICA6ICcnO1xuICAgICAgICAgIHNob3dUb2FzdChgXHUyNzEzIEltcG9ydCByXHUwMEU5dXNzaSA6ICR7cmVzdWx0LmltcG9ydGVkPy5sZW5ndGggfHwgMH0gcGFnZShzKSR7Y29sbGVjdGlvbnNNc2d9YCwgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgfSBlbHNlIGlmIChoYXNTdWNjZXNzICYmIGhhc0Vycm9ycykge1xuICAgICAgICAgIHNob3dUb2FzdChgXHUyNkEwIEltcG9ydCBwYXJ0aWVsIDogJHtyZXN1bHQuaW1wb3J0ZWQ/Lmxlbmd0aCB8fCAwfSBwYWdlKHMpLCAke3Jlc3VsdC5lcnJvcnMubGVuZ3RofSBlcnJldXIocylgLCAnd2FybmluZycpO1xuICAgICAgICB9IGVsc2UgaWYgKGhhc0Vycm9ycykge1xuICAgICAgICAgIHNob3dUb2FzdChgXHUyNzE3IEltcG9ydCBcdTAwRTljaG91XHUwMEU5IDogJHtyZXN1bHQuZXJyb3JzLmxlbmd0aH0gZXJyZXVyKHMpYCwgJ2Vycm9yJyk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGltcG9ydFNlbGVjdGVkRmlsZXMgPSBbXTtcbiAgICAgICAgdXBkYXRlSW1wb3J0RmlsZUxpc3QoKTtcbiAgICAgICAgcmVzZXRQYXN0ZVN0YXRlKCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2ltcG9ydF0gZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdFcnJldXIgaW1wb3J0JywgJ2Vycm9yJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoaW1wb3J0U3VibWl0KSB7XG4gICAgICAgICAgaW1wb3J0U3VibWl0LmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgaW1wb3J0U3VibWl0LnRleHRDb250ZW50ID0gJ0ltcG9ydGVyJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgaW1wb3J0VG9nZ2xlPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5JbXBvcnRNb2RhbCk7XG4gICAgaW1wb3J0Q2xvc2VCdXR0b25zLmZvckVhY2goKGJ0bikgPT4gYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VJbXBvcnRNb2RhbCkpO1xuICAgIGltcG9ydE1vZGFsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBpZiAoZS50YXJnZXQgPT09IGltcG9ydE1vZGFsKSBjbG9zZUltcG9ydE1vZGFsKCk7XG4gICAgfSk7XG4gICAgaW1wb3J0RmlsZUlucHV0Py5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZSkgPT4ge1xuICAgICAgaGFuZGxlSW1wb3J0RmlsZXMoZS50YXJnZXQuZmlsZXMpO1xuICAgIH0pO1xuICAgIGltcG9ydERyb3B6b25lPy5hZGRFdmVudExpc3RlbmVyKCdkcmFnb3ZlcicsIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpbXBvcnREcm9wem9uZS5jbGFzc0xpc3QuYWRkKCdib3JkZXItWyM5QzZCRkZdJywgJ2JnLVsjOUM2QkZGXS8xMCcpO1xuICAgIH0pO1xuICAgIGltcG9ydERyb3B6b25lPy5hZGRFdmVudExpc3RlbmVyKCdkcmFnbGVhdmUnLCAoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaW1wb3J0RHJvcHpvbmUuY2xhc3NMaXN0LnJlbW92ZSgnYm9yZGVyLVsjOUM2QkZGXScsICdiZy1bIzlDNkJGRl0vMTAnKTtcbiAgICB9KTtcbiAgICBpbXBvcnREcm9wem9uZT8uYWRkRXZlbnRMaXN0ZW5lcignZHJvcCcsIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpbXBvcnREcm9wem9uZS5jbGFzc0xpc3QucmVtb3ZlKCdib3JkZXItWyM5QzZCRkZdJywgJ2JnLVsjOUM2QkZGXS8xMCcpO1xuICAgICAgaGFuZGxlSW1wb3J0RmlsZXMoZS5kYXRhVHJhbnNmZXIuZmlsZXMpO1xuICAgIH0pO1xuICAgIGltcG9ydFN1Ym1pdD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBleGVjdXRlSW1wb3J0KTtcbiAgICAvLyBQYXN0ZSBKU09OIGhhbmRsZXJzXG4gICAgaW1wb3J0UGFzdGVJbnB1dD8uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgICB1cGRhdGVJbXBvcnRTdWJtaXRTdGF0ZSgpO1xuICAgIH0pO1xuICAgIHBhc3RlRm9ybWF0QnRuPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZvcm1hdFBhc3RlSnNvbik7XG4gICAgLy8gSW1wb3J0IHRhYnNcbiAgICBpbXBvcnRUYWJzLmZvckVhY2goKHRhYikgPT4ge1xuICAgICAgdGFiLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBjb25zdCB0YXJnZXRQYW5lbCA9IHRhYi5kYXRhc2V0LmltcG9ydFRhYjtcbiAgICAgICAgYWN0aXZlSW1wb3J0VGFiID0gdGFyZ2V0UGFuZWw7XG4gICAgICAgIGltcG9ydFRhYnMuZm9yRWFjaCgodCkgPT4ge1xuICAgICAgICAgIGlmICh0LmRhdGFzZXQuaW1wb3J0VGFiID09PSB0YXJnZXRQYW5lbCkge1xuICAgICAgICAgICAgdC5jbGFzc0xpc3QuYWRkKCdiZy1bIzlDNkJGRl0nLCAndGV4dC13aGl0ZScpO1xuICAgICAgICAgICAgdC5jbGFzc0xpc3QucmVtb3ZlKCdib3JkZXInLCAnYm9yZGVyLXNsYXRlLTIwMCcsICd0ZXh0LXNsYXRlLTcwMCcpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0LmNsYXNzTGlzdC5yZW1vdmUoJ2JnLVsjOUM2QkZGXScsICd0ZXh0LXdoaXRlJyk7XG4gICAgICAgICAgICB0LmNsYXNzTGlzdC5hZGQoJ2JvcmRlcicsICdib3JkZXItc2xhdGUtMjAwJywgJ3RleHQtc2xhdGUtNzAwJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaW1wb3J0UGFuZWxzLmZvckVhY2goKHApID0+IHtcbiAgICAgICAgICBpZiAocC5kYXRhc2V0LmltcG9ydFBhbmVsID09PSB0YXJnZXRQYW5lbCkge1xuICAgICAgICAgICAgcC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB1cGRhdGVJbXBvcnRTdWJtaXRTdGF0ZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgY29weVRlbXBsYXRlQnRuPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghdGVtcGxhdGVKc29uKSByZXR1cm47XG4gICAgICBjb25zdCB0ZXh0ID0gdGVtcGxhdGVKc29uLnRleHRDb250ZW50IHx8ICcnO1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQodGV4dCk7XG4gICAgICAgIHNob3dUb2FzdCgnVGVtcGxhdGUgY29waVx1MDBFOSAhJyk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2ltcG9ydF0gY29weSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoJ0VycmV1ciBjb3BpZScpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gRGVsZXRlIHBhZ2UgbW9kYWwgbGlzdGVuZXJzXG4gICAgZGVsZXRlUGFnZUNhbmNlbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZURlbGV0ZVBhZ2VNb2RhbCk7XG4gICAgZGVsZXRlUGFnZUNvbmZpcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZXhlY3V0ZURlbGV0ZVBhZ2UpO1xuICAgIGRlbGV0ZVBhZ2VNb2RhbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgaWYgKGUudGFyZ2V0ID09PSBkZWxldGVQYWdlTW9kYWwpIGNsb3NlRGVsZXRlUGFnZU1vZGFsKCk7XG4gICAgfSk7XG5cbiAgICBibG9ja0xpYnJhcnlUb2dnbGU/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIHRvZ2dsZUJsb2NrTGlicmFyeSgpO1xuICAgIH0pO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoIWJsb2NrTGlicmFyeU9wZW4pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKFxuICAgICAgICBibG9ja0xpYnJhcnk/LmNvbnRhaW5zKGV2ZW50LnRhcmdldCkgfHxcbiAgICAgICAgYmxvY2tMaWJyYXJ5VG9nZ2xlPy5jb250YWlucyhldmVudC50YXJnZXQpXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY2xvc2VCbG9ja0xpYnJhcnkoKTtcbiAgICB9KTtcbiAgICBibG9ja0FkZEJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGNvbnN0IHR5cGUgPSBidXR0b24uZGF0YXNldC5ibG9ja0FkZDtcbiAgICAgICAgYWRkQmxvY2tGcm9tTGlicmFyeSh0eXBlKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGJsb2NrRGVsZXRlQ2FuY2VsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNsb3NlQmxvY2tEZWxldGVNb2RhbCgpO1xuICAgIH0pO1xuICAgIGJsb2NrRGVsZXRlQ29uZmlybT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBpZiAocGVuZGluZ0RlbGV0ZUJsb2NrSWQpIHtcbiAgICAgICAgZGVsZXRlQmxvY2tCeUlkKHBlbmRpbmdEZWxldGVCbG9ja0lkKTtcbiAgICAgIH1cbiAgICAgIGNsb3NlQmxvY2tEZWxldGVNb2RhbCgpO1xuICAgIH0pO1xuICAgIGJsb2NrRGVsZXRlTW9kYWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSBibG9ja0RlbGV0ZU1vZGFsKSB7XG4gICAgICAgIGNsb3NlQmxvY2tEZWxldGVNb2RhbCgpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGJsb2NrRm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICAgIGlmICghdGFyZ2V0IHx8ICF0YXJnZXQubmFtZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBNaW5pIHByZXZpZXcgcG91ciBncm91cGVcbiAgICAgIGlmICh0YXJnZXQubmFtZSA9PT0gJ2dyb3VwLWNvbHVtbnMtbW9iaWxlJyB8fCB0YXJnZXQubmFtZSA9PT0gJ2dyb3VwLWNvbHVtbnMtZGVza3RvcCcpIHtcbiAgICAgICAgY29uc3QgbW9iaWxlVmFsdWUgPVxuICAgICAgICAgIGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImdyb3VwLWNvbHVtbnMtbW9iaWxlXCJdJyk/LnZhbHVlIHx8ICcxJztcbiAgICAgICAgY29uc3QgZGVza3RvcFZhbHVlID1cbiAgICAgICAgICBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJncm91cC1jb2x1bW5zLWRlc2t0b3BcIl0nKT8udmFsdWUgfHwgJzMnO1xuICAgICAgICB1cGRhdGVHcm91cE1pbmlQcmV2aWV3KG1vYmlsZVZhbHVlLCBkZXNrdG9wVmFsdWUpO1xuICAgICAgfVxuICAgICAgLy8gTWluaSBwcmV2aWV3IHBvdXIgY29sbGVjdGlvblxuICAgICAgaWYgKHRhcmdldC5uYW1lID09PSAnY29sbGVjdGlvbi1jb2x1bW5zLW1vYmlsZScgfHwgdGFyZ2V0Lm5hbWUgPT09ICdjb2xsZWN0aW9uLWNvbHVtbnMtZGVza3RvcCcpIHtcbiAgICAgICAgY29uc3QgbW9iaWxlVmFsdWUgPVxuICAgICAgICAgIGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImNvbGxlY3Rpb24tY29sdW1ucy1tb2JpbGVcIl0nKT8udmFsdWUgfHwgJzEnO1xuICAgICAgICBjb25zdCBkZXNrdG9wVmFsdWUgPVxuICAgICAgICAgIGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImNvbGxlY3Rpb24tY29sdW1ucy1kZXNrdG9wXCJdJyk/LnZhbHVlIHx8ICczJztcbiAgICAgICAgdXBkYXRlQ29sbGVjdGlvbk1pbmlQcmV2aWV3KG1vYmlsZVZhbHVlLCBkZXNrdG9wVmFsdWUpO1xuICAgICAgfVxuICAgICAgLy8gRFx1MDBFOXRlY3Rpb24gc2kgb24gZXN0IGRhbnMgbGUgcGFuZWwgQXBwYXJlbmNlIFx1MjE5MiBhdXRvLXNhdmVcbiAgICAgIGNvbnN0IHBhbmVsID0gdGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLWJsb2NrLXBhbmVsXScpO1xuICAgICAgaWYgKHBhbmVsICYmIHBhbmVsLmRhdGFzZXQuYmxvY2tQYW5lbCA9PT0gJ2FwcGVhcmFuY2UnKSB7XG4gICAgICAgIC8vIEF1dG8tc2F2ZSArIHJlZnJlc2ggcHJldmlldyBwb3VyIGwnYXBwYXJlbmNlXG4gICAgICAgIGNvbnN0IGJsb2NrID0gZ2V0QWN0aXZlQmxvY2soKTtcbiAgICAgICAgY29uc3QgY29uZmlnID0gZ2V0QmxvY2tGb3JtQ29uZmlnKGJsb2NrKTtcbiAgICAgICAgaWYgKGJsb2NrICYmIGNvbmZpZykge1xuICAgICAgICAgIGNvbnN0IHZhbHVlcyA9IGNvbGxlY3RGb3JtVmFsdWVzKGNvbmZpZyk7XG4gICAgICAgICAgaGFuZGxlQXBwZWFyYW5jZUNoYW5nZShibG9jay5pZCwgdmFsdWVzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIC8vIFx1MDBDOWdhbGVtZW50IHN1ciAnY2hhbmdlJyBwb3VyIGxlcyBzZWxlY3RzXG4gICAgYmxvY2tGb3JtPy5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICAgIGlmICghdGFyZ2V0IHx8ICF0YXJnZXQubmFtZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBwYW5lbCA9IHRhcmdldC5jbG9zZXN0KCdbZGF0YS1ibG9jay1wYW5lbF0nKTtcbiAgICAgIGlmIChwYW5lbCAmJiBwYW5lbC5kYXRhc2V0LmJsb2NrUGFuZWwgPT09ICdhcHBlYXJhbmNlJykge1xuICAgICAgICBjb25zdCBibG9jayA9IGdldEFjdGl2ZUJsb2NrKCk7XG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IGdldEJsb2NrRm9ybUNvbmZpZyhibG9jayk7XG4gICAgICAgIGlmIChibG9jayAmJiBjb25maWcpIHtcbiAgICAgICAgICBjb25zdCB2YWx1ZXMgPSBjb2xsZWN0Rm9ybVZhbHVlcyhjb25maWcpO1xuICAgICAgICAgIGhhbmRsZUFwcGVhcmFuY2VDaGFuZ2UoYmxvY2suaWQsIHZhbHVlcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICBjb2xsZWN0aW9uU2VsZWN0Py5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICAgIHN5bmNDb2xsZWN0aW9uU2VsZWN0aW9uSW5mbyh0YXJnZXQ/LnZhbHVlIHx8ICcnKTtcbiAgICB9KTtcbiAgICBibG9ja0Zvcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGhhbmRsZUJsb2NrRm9ybVN1Ym1pdCk7XG4gICAgYmxvY2tGb3JtQ2FuY2VsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGNvbnN0IGJsb2NrID0gZ2V0QWN0aXZlQmxvY2soKTtcbiAgICAgIGlmIChibG9jaykge1xuICAgICAgICBwb3B1bGF0ZUJsb2NrRm9ybShibG9jayk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcHJldmlld0ZyYW1lPy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xuICAgICAgcHJldmlld1JlYWR5ID0gdHJ1ZTtcbiAgICAgIHVwZGF0ZVByZXZpZXdTdGF0dXMoJ1x1MDBDMCBqb3VyJyk7XG4gICAgICBhcHBseVByZXZpZXdIaWdobGlnaHQoYWN0aXZlQmxvY2tJZCk7XG4gICAgfSk7XG4gICAgcHJldmlld09wZW5CdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgcHJldmlld1dpbmRvdyA9IHdpbmRvdy5vcGVuKCcnLCAnX2JsYW5rJyk7XG4gICAgICBpZiAoIXByZXZpZXdXaW5kb3cpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcHJldmlld1dpbmRvdy5vcGVuZXIgPSBudWxsO1xuICAgICAgY29uc3QgZG9jID0gcHJldmlld1dpbmRvdy5kb2N1bWVudDtcbiAgICAgIGRvYy5vcGVuKCk7XG4gICAgICBkb2Mud3JpdGUobGF0ZXN0UHJldmlld0h0bWwgfHwgZ2V0TG9hZGluZ1ByZXZpZXdIdG1sKCkpO1xuICAgICAgZG9jLmNsb3NlKCk7XG4gICAgfSk7XG5cbiAgICAvLyBTRU8gcGFuZWwgbG9naWNcbiAgICBjb25zdCB0b2dnbGVTZW9QYW5lbCA9IChzaG93KSA9PiB7XG4gICAgICBpZiAoIXNlb1BhbmVsKSByZXR1cm47XG4gICAgICBpZiAoc2hvdykge1xuICAgICAgICBzZW9QYW5lbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgLy8gUG9wdWxhdGUgZmllbGRzIHdpdGggY3VycmVudCBwYWdlIFNFTyBkYXRhXG4gICAgICAgIGlmIChjdXJyZW50UGFnZSkge1xuICAgICAgICAgIHNlb1RpdGxlSW5wdXQgJiYgKHNlb1RpdGxlSW5wdXQudmFsdWUgPSBjdXJyZW50UGFnZS5zZW8/LnRpdGxlIHx8ICcnKTtcbiAgICAgICAgICBzZW9EZXNjcmlwdGlvbklucHV0ICYmIChzZW9EZXNjcmlwdGlvbklucHV0LnZhbHVlID0gY3VycmVudFBhZ2Uuc2VvPy5kZXNjcmlwdGlvbiB8fCAnJyk7XG4gICAgICAgICAgLy8gaW5kZXhlZDogdHJ1ZSBieSBkZWZhdWx0IGlmIG5vdCBleHBsaWNpdGx5IHNldCB0byBmYWxzZVxuICAgICAgICAgIHNlb0luZGV4ZWRDaGVja2JveCAmJiAoc2VvSW5kZXhlZENoZWNrYm94LmNoZWNrZWQgPSBjdXJyZW50UGFnZS5zZW8/LmluZGV4ZWQgIT09IGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2VvUGFuZWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBzZXRTZW9GZWVkYmFjayA9IChtZXNzYWdlLCB0b25lID0gJ211dGVkJykgPT4ge1xuICAgICAgaWYgKCFzZW9GZWVkYmFjaykgcmV0dXJuO1xuICAgICAgY29uc3QgY29sb3IgPSB0b25lID09PSAnc3VjY2VzcycgPyAndGV4dC1lbWVyYWxkLTYwMCcgOiB0b25lID09PSAnZXJyb3InID8gJ3RleHQtcm9zZS02MDAnIDogJ3RleHQtc2xhdGUtNTAwJztcbiAgICAgIHNlb0ZlZWRiYWNrLnRleHRDb250ZW50ID0gbWVzc2FnZSB8fCAnJztcbiAgICAgIHNlb0ZlZWRiYWNrLmNsYXNzTmFtZSA9IGB0ZXh0LXNtICR7Y29sb3J9YDtcbiAgICB9O1xuICAgIHNlb1RvZ2dsZUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBpc1Zpc2libGUgPSBzZW9QYW5lbCAmJiAhc2VvUGFuZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdoaWRkZW4nKTtcbiAgICAgIHRvZ2dsZVNlb1BhbmVsKCFpc1Zpc2libGUpO1xuICAgIH0pO1xuICAgIHNlb0Nsb3NlQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRvZ2dsZVNlb1BhbmVsKGZhbHNlKSk7XG4gICAgc2VvRm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSkge1xuICAgICAgICBzZXRTZW9GZWVkYmFjaygnQXVjdW5lIHBhZ2UgYWN0aXZlLicsICdlcnJvcicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZW9TYXZlQnV0dG9uICYmIChzZW9TYXZlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZSk7XG4gICAgICBzZXRTZW9GZWVkYmFjaygnJyk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBzZW9EYXRhID0ge1xuICAgICAgICAgIHRpdGxlOiAoc2VvVGl0bGVJbnB1dD8udmFsdWUgfHwgJycpLnRyaW0oKSxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogKHNlb0Rlc2NyaXB0aW9uSW5wdXQ/LnZhbHVlIHx8ICcnKS50cmltKCksXG4gICAgICAgICAgaW5kZXhlZDogc2VvSW5kZXhlZENoZWNrYm94Py5jaGVja2VkID8/IHRydWUsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRQYWdlID0geyAuLi5jdXJyZW50UGFnZSwgc2VvOiBzZW9EYXRhIH07XG4gICAgICAgIGNvbnN0IHNhdmVkID0gYXdhaXQgc2F2ZVBhZ2VUb1NlcnZlcih1cGRhdGVkUGFnZSk7XG4gICAgICAgIGlmIChzYXZlZCkge1xuICAgICAgICAgIGN1cnJlbnRQYWdlID0gc2F2ZWQ7XG4gICAgICAgICAgc2V0U2VvRmVlZGJhY2soJ1NFTyBlbnJlZ2lzdHJcdTAwRTkuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgICBzaG93VG9hc3QoJ1NFTyBtaXMgXHUwMEUwIGpvdXInKTtcbiAgICAgICAgICByZWZyZXNoUHJldmlldyhjdXJyZW50UGFnZSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbc2VvXSBzYXZlIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNldFNlb0ZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsYSBzYXV2ZWdhcmRlLicsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2VvU2F2ZUJ1dHRvbiAmJiAoc2VvU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGNvbnN0IGhhbmRsZUJsb2NrRHJhZ1N0YXJ0ID0gKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCBpdGVtID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLWJsb2NrLWl0ZW1dJyk7XG4gICAgICBpZiAoIWl0ZW0gfHwgIWlzRGVza3RvcFJlb3JkZXIoKSkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBkcmFnU291cmNlSWQgPSBpdGVtLmRhdGFzZXQuYmxvY2tJZCB8fCBudWxsO1xuICAgICAgaWYgKCFkcmFnU291cmNlSWQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZXZlbnQuZGF0YVRyYW5zZmVyLmVmZmVjdEFsbG93ZWQgPSAnbW92ZSc7XG4gICAgICBldmVudC5kYXRhVHJhbnNmZXIuc2V0RGF0YSgndGV4dC9wbGFpbicsIGRyYWdTb3VyY2VJZCk7XG4gICAgICAvLyBTdHlsZSBkdSBibG9jIGVuIGNvdXJzIGRlIGRyYWdcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgIGl0ZW0uY2xhc3NMaXN0LmFkZCgnb3BhY2l0eS01MCcsICdzY2FsZS1bMC45OF0nLCAnc2hhZG93LWxnJywgJ3JpbmctMicsICdyaW5nLVsjOUM2QkZGXScpO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICBjb25zdCBjbGVhckRyYWdJbmRpY2F0b3JzID0gKCkgPT4ge1xuICAgICAgYmxvY2tMaXN0XG4gICAgICAgID8ucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYmxvY2staXRlbV0nKVxuICAgICAgICAuZm9yRWFjaCgobm9kZSkgPT4ge1xuICAgICAgICAgIG5vZGUuY2xhc3NMaXN0LnJlbW92ZShcbiAgICAgICAgICAgICdvcGFjaXR5LTUwJywgJ3NjYWxlLVswLjk4XScsICdzaGFkb3ctbGcnLCAncmluZy0yJywgJ3JpbmctWyM5QzZCRkZdJyxcbiAgICAgICAgICAgICdib3JkZXItdC00JywgJ2JvcmRlci1iLTQnLCAnYm9yZGVyLXQtWyM5QzZCRkZdJywgJ2JvcmRlci1iLVsjOUM2QkZGXScsXG4gICAgICAgICAgICAncHQtNicsICdwYi02J1xuICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgY29uc3QgaGFuZGxlQmxvY2tEcmFnRW5kID0gKCkgPT4ge1xuICAgICAgZHJhZ1NvdXJjZUlkID0gbnVsbDtcbiAgICAgIGNsZWFyRHJhZ0luZGljYXRvcnMoKTtcbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZUJsb2NrRHJhZ092ZXIgPSAoZXZlbnQpID0+IHtcbiAgICAgIGlmICghZHJhZ1NvdXJjZUlkIHx8ICFpc0Rlc2t0b3BSZW9yZGVyKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLWJsb2NrLWl0ZW1dJyk7XG4gICAgICBpZiAoIXRhcmdldCB8fCB0YXJnZXQuZGF0YXNldC5ibG9ja0lkID09PSBkcmFnU291cmNlSWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGV2ZW50LmRhdGFUcmFuc2Zlci5kcm9wRWZmZWN0ID0gJ21vdmUnO1xuICAgICAgLy8gRFx1MDBFOXRlcm1pbmUgc2kgb24gZHJvcCBhdmFudCBvdSBhcHJcdTAwRThzXG4gICAgICBjb25zdCByZWN0ID0gdGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgY29uc3QgbWlkWSA9IHJlY3QudG9wICsgcmVjdC5oZWlnaHQgLyAyO1xuICAgICAgY29uc3QgaXNBYm92ZSA9IGV2ZW50LmNsaWVudFkgPCBtaWRZO1xuICAgICAgLy8gTmV0dG9pZSBsZXMgYXV0cmVzIGluZGljYXRldXJzXG4gICAgICBibG9ja0xpc3Q/LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWJsb2NrLWl0ZW1dJykuZm9yRWFjaCgobm9kZSkgPT4ge1xuICAgICAgICBpZiAobm9kZSAhPT0gdGFyZ2V0ICYmIG5vZGUuZGF0YXNldC5ibG9ja0lkICE9PSBkcmFnU291cmNlSWQpIHtcbiAgICAgICAgICBub2RlLmNsYXNzTGlzdC5yZW1vdmUoJ2JvcmRlci10LTQnLCAnYm9yZGVyLWItNCcsICdib3JkZXItdC1bIzlDNkJGRl0nLCAnYm9yZGVyLWItWyM5QzZCRkZdJywgJ3B0LTYnLCAncGItNicpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIC8vIEFwcGxpcXVlIGwnaW5kaWNhdGV1ciBkZSBwb3NpdGlvblxuICAgICAgdGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoJ2JvcmRlci10LTQnLCAnYm9yZGVyLWItNCcsICdib3JkZXItdC1bIzlDNkJGRl0nLCAnYm9yZGVyLWItWyM5QzZCRkZdJywgJ3B0LTYnLCAncGItNicpO1xuICAgICAgaWYgKGlzQWJvdmUpIHtcbiAgICAgICAgdGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2JvcmRlci10LTQnLCAnYm9yZGVyLXQtWyM5QzZCRkZdJywgJ3B0LTYnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRhcmdldC5jbGFzc0xpc3QuYWRkKCdib3JkZXItYi00JywgJ2JvcmRlci1iLVsjOUM2QkZGXScsICdwYi02Jyk7XG4gICAgICB9XG4gICAgICB0YXJnZXQuZGF0YXNldC5kcm9wUG9zaXRpb24gPSBpc0Fib3ZlID8gJ2JlZm9yZScgOiAnYWZ0ZXInO1xuICAgIH07XG4gICAgY29uc3QgaGFuZGxlQmxvY2tEcmFnTGVhdmUgPSAoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCdbZGF0YS1ibG9jay1pdGVtXScpO1xuICAgICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gVlx1MDBFOXJpZmllIHNpIG9uIHF1aXR0ZSB2cmFpbWVudCBsJ1x1MDBFOWxcdTAwRTltZW50IChwYXMganVzdGUgdmVycyB1biBlbmZhbnQpXG4gICAgICBjb25zdCByZWxhdGVkVGFyZ2V0ID0gZXZlbnQucmVsYXRlZFRhcmdldDtcbiAgICAgIGlmIChyZWxhdGVkVGFyZ2V0ICYmIHRhcmdldC5jb250YWlucyhyZWxhdGVkVGFyZ2V0KSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0YXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgnYm9yZGVyLXQtNCcsICdib3JkZXItYi00JywgJ2JvcmRlci10LVsjOUM2QkZGXScsICdib3JkZXItYi1bIzlDNkJGRl0nLCAncHQtNicsICdwYi02Jyk7XG4gICAgICBkZWxldGUgdGFyZ2V0LmRhdGFzZXQuZHJvcFBvc2l0aW9uO1xuICAgIH07XG4gICAgY29uc3QgaGFuZGxlQmxvY2tEcm9wID0gKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoIWRyYWdTb3VyY2VJZCB8fCAhaXNEZXNrdG9wUmVvcmRlcigpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQuY2xvc2VzdCgnW2RhdGEtYmxvY2staXRlbV0nKTtcbiAgICAgIGNvbnN0IHNvdXJjZSA9IGRyYWdTb3VyY2VJZDtcbiAgICAgIGNvbnN0IGRyb3BQb3NpdGlvbiA9IHRhcmdldD8uZGF0YXNldC5kcm9wUG9zaXRpb24gfHwgJ2FmdGVyJztcbiAgICAgIGRyYWdTb3VyY2VJZCA9IG51bGw7XG4gICAgICBjbGVhckRyYWdJbmRpY2F0b3JzKCk7XG4gICAgICBjb25zdCB0YXJnZXRJZCA9IHRhcmdldD8uZGF0YXNldC5ibG9ja0lkIHx8IG51bGw7XG4gICAgICBpZiAoIXRhcmdldElkIHx8IHNvdXJjZSA9PT0gdGFyZ2V0SWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcmVvcmRlckJsb2Nrc1dpdGhQb3NpdGlvbihzb3VyY2UsIHRhcmdldElkLCBkcm9wUG9zaXRpb24pO1xuICAgIH07XG4gICAgbGV0IGRyYWdTb3VyY2VJZCA9IG51bGw7XG4gICAgYmxvY2tMaXN0Py5hZGRFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCBoYW5kbGVCbG9ja0RyYWdTdGFydCk7XG4gICAgYmxvY2tMaXN0Py5hZGRFdmVudExpc3RlbmVyKCdkcmFnZW5kJywgaGFuZGxlQmxvY2tEcmFnRW5kKTtcbiAgICBibG9ja0xpc3Q/LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgaGFuZGxlQmxvY2tEcmFnT3Zlcik7XG4gICAgYmxvY2tMaXN0Py5hZGRFdmVudExpc3RlbmVyKCdkcmFnbGVhdmUnLCBoYW5kbGVCbG9ja0RyYWdMZWF2ZSk7XG4gICAgYmxvY2tMaXN0Py5hZGRFdmVudExpc3RlbmVyKCdkcm9wJywgaGFuZGxlQmxvY2tEcm9wKTtcbiAgICBsb2FkUGFnZXNGcm9tU2VydmVyKCk7XG4gIH1cblxuICBmdW5jdGlvbiBpbml0Q29udGVudFdvcmtzcGFjZSgpIHtcbiAgICBjb25zdCBjb2xsZWN0aW9uTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbGxlY3Rpb24tbGlzdF0nKTtcbiAgICBpZiAoIWNvbGxlY3Rpb25MaXN0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGNvbGxlY3Rpb25FbXB0eVN0YXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29sbGVjdGlvbi1lbXB0eV0nKTtcbiAgICBjb25zdCBjb2xsZWN0aW9uSXRlbXNFbXB0eSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbGxlY3Rpb24taXRlbXMtZW1wdHldJyk7XG4gICAgY29uc3QgaXRlbVRhYmxlV3JhcHBlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tdGFibGUtd3JhcHBlcl0nKTtcbiAgICBjb25zdCBpdGVtVGFibGVCb2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS10YWJsZS1ib2R5XScpO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25UaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbGxlY3Rpb24tdGl0bGVdJyk7XG4gICAgY29uc3QgY29sbGVjdGlvbkRlc2NyaXB0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29sbGVjdGlvbi1kZXNjcmlwdGlvbl0nKTtcbiAgICBjb25zdCBjb2xsZWN0aW9uRHJhd2VyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29sbGVjdGlvbi1kcmF3ZXJdJyk7XG4gICAgY29uc3QgY29sbGVjdGlvbkRyYXdlckJhY2tkcm9wID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29sbGVjdGlvbi1kcmF3ZXItYmFja2Ryb3BdJyk7XG4gICAgY29uc3QgY29sbGVjdGlvbkRyYXdlck9wZW5CdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtY29sbGVjdGlvbi1kcmF3ZXItb3Blbl0nKTtcbiAgICBjb25zdCBjb2xsZWN0aW9uRHJhd2VyQ2xvc2VCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtY29sbGVjdGlvbi1kcmF3ZXItY2xvc2VdJyk7XG4gICAgY29uc3QgaXRlbUFkZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tYWRkXScpO1xuICAgIGNvbnN0IGl0ZW1EZXRhaWxFbXB0eSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tZGV0YWlsLWVtcHR5XScpO1xuICAgIGNvbnN0IGl0ZW1Gb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS1mb3JtXScpO1xuICAgIGNvbnN0IGl0ZW1Gb3JtRmllbGRzID0gaXRlbUZvcm1cbiAgICAgID8ge1xuICAgICAgICAgIHRpdGxlOiBpdGVtRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cIml0ZW0tdGl0bGVcIl0nKSxcbiAgICAgICAgICBzbHVnOiBpdGVtRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cIml0ZW0tc2x1Z1wiXScpLFxuICAgICAgICAgIGV4Y2VycHQ6IGl0ZW1Gb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaXRlbS1leGNlcnB0XCJdJyksXG4gICAgICAgICAgY29udGVudDogaXRlbUZvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJpdGVtLWNvbnRlbnRcIl0nKSxcbiAgICAgICAgICBpbWFnZTogaXRlbUZvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJpdGVtLWltYWdlXCJdJyksXG4gICAgICAgICAgY3RhVGV4dDogaXRlbUZvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJpdGVtLWN0YS10ZXh0XCJdJyksXG4gICAgICAgICAgY3RhVXJsOiBpdGVtRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cIml0ZW0tY3RhLXVybFwiXScpLFxuICAgICAgICAgIHN0YXR1czogaXRlbUZvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJpdGVtLXN0YXR1c1wiXScpLFxuICAgICAgICB9XG4gICAgICA6IHt9O1xuICAgIGNvbnN0IGl0ZW1TdGF0dXNCYWRnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tc3RhdHVzLWJhZGdlXScpO1xuICAgIGNvbnN0IGl0ZW1EZWxldGVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLWRlbGV0ZV0nKTtcbiAgICBjb25zdCBpdGVtRGVsZXRlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLWRlbGV0ZS1tb2RhbF0nKTtcbiAgICBjb25zdCBpdGVtRGVsZXRlQ2FuY2VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS1kZWxldGUtY2FuY2VsXScpO1xuICAgIGNvbnN0IGl0ZW1EZWxldGVDb25maXJtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS1kZWxldGUtY29uZmlybV0nKTtcbiAgICBjb25zdCBpdGVtRm9ybUNhbmNlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tY2FuY2VsXScpO1xuICAgIGNvbnN0IGl0ZW1Gb3JtU2F2ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tc2F2ZV0nKTtcbiAgICBjb25zdCBzdGF0dXNCYWRnZUJhc2VDbGFzcyA9ICdyb3VuZGVkLWZ1bGwgcHgtMyBweS0xIHRleHQteHMgZm9udC1zZW1pYm9sZCc7XG5cbiAgICBjb25zdCBzYWZlU2l0ZVNsdWdWYWx1ZSA9IHN0cmlwTGVhZGluZ1NsYXNoKFxuICAgICAgd29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyxcbiAgICApO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25zQXBpQmFzZSA9IHNhZmVTaXRlU2x1Z1ZhbHVlXG4gICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Z1ZhbHVlKX0vY29sbGVjdGlvbnNgXG4gICAgICA6IG51bGw7XG5cbiAgICBsZXQgY29sbGVjdGlvbnMgPSBbXTtcbiAgICBsZXQgY29sbGVjdGlvbkl0ZW1zID0gW107XG4gICAgbGV0IGFjdGl2ZUNvbGxlY3Rpb25JZCA9IG51bGw7XG4gICAgbGV0IGFjdGl2ZUl0ZW1JZCA9IG51bGw7XG4gICAgbGV0IGlzQ3JlYXRpbmdJdGVtID0gZmFsc2U7XG4gICAgbGV0IGl0ZW1TbHVnTWFudWFsbHlFZGl0ZWQgPSBmYWxzZTtcbiAgICBsZXQgcGVuZGluZ0RlbGV0ZUl0ZW1JZCA9IG51bGw7XG5cbiAgICBjb25zdCBvcGVuQ29sbGVjdGlvbkRyYXdlciA9ICgpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvbkRyYXdlcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb2xsZWN0aW9uRHJhd2VyLmNsYXNzTGlzdC5hZGQoJ2lzLW9wZW4nKTtcbiAgICAgIGNvbGxlY3Rpb25EcmF3ZXIuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVgoMCknO1xuICAgICAgY29sbGVjdGlvbkRyYXdlckJhY2tkcm9wPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnb3ZlcmZsb3ctaGlkZGVuJyk7XG4gICAgfTtcblxuICAgIGNvbnN0IGNsb3NlQ29sbGVjdGlvbkRyYXdlciA9ICgpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvbkRyYXdlcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb2xsZWN0aW9uRHJhd2VyLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLW9wZW4nKTtcbiAgICAgIGNvbGxlY3Rpb25EcmF3ZXIuc3R5bGUudHJhbnNmb3JtID0gJyc7XG4gICAgICBjb2xsZWN0aW9uRHJhd2VyQmFja2Ryb3A/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICB9O1xuXG4gICAgY29sbGVjdGlvbkRyYXdlck9wZW5CdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlbkNvbGxlY3Rpb25EcmF3ZXIpO1xuICAgIH0pO1xuICAgIGNvbGxlY3Rpb25EcmF3ZXJDbG9zZUJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZUNvbGxlY3Rpb25EcmF3ZXIpO1xuICAgIH0pO1xuICAgIGNvbGxlY3Rpb25EcmF3ZXJCYWNrZHJvcD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZUNvbGxlY3Rpb25EcmF3ZXIpO1xuXG4gICAgY29uc3Qgbm9ybWFsaXplSXRlbVNsdWdJbnB1dCA9ICh2YWx1ZSkgPT4ge1xuICAgICAgY29uc3QgcmF3ID0gKHZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICBpZiAoIXJhdykge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgICB9XG4gICAgICBpZiAocmF3ID09PSAnLycpIHtcbiAgICAgICAgcmV0dXJuICcvJztcbiAgICAgIH1cbiAgICAgIGNvbnN0IHNlZ21lbnRzID0gcmF3LnJlcGxhY2UoL15cXC8vLCAnJykuc3BsaXQoJy8nKTtcbiAgICAgIGNvbnN0IGNsZWFuZWRTZWdtZW50cyA9IHNlZ21lbnRzXG4gICAgICAgIC5tYXAoKHNlZ21lbnQpID0+IHdvcmtzcGFjZVNsdWdpZnkoc2VnbWVudCB8fCAnJykpXG4gICAgICAgIC5maWx0ZXIoKHNlZ21lbnQpID0+IHNlZ21lbnQubGVuZ3RoID4gMCk7XG4gICAgICBpZiAoIWNsZWFuZWRTZWdtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGAvJHtjbGVhbmVkU2VnbWVudHMuam9pbignLycpfWA7XG4gICAgfTtcblxuICAgIGNvbnN0IGZvcm1hdEl0ZW1EYXRlID0gKHZhbHVlKSA9PiB7XG4gICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgIHJldHVybiAnXHUyMDE0JztcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSh2YWx1ZSk7XG4gICAgICBpZiAoTnVtYmVyLmlzTmFOKGRhdGUuZ2V0VGltZSgpKSkge1xuICAgICAgICByZXR1cm4gJ1x1MjAxNCc7XG4gICAgICB9XG4gICAgICByZXR1cm4gZGF0ZS50b0xvY2FsZURhdGVTdHJpbmcoJ2ZyLUZSJywgeyBkYXk6ICcyLWRpZ2l0JywgbW9udGg6ICdzaG9ydCcsIHllYXI6ICdudW1lcmljJyB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgdXBkYXRlQ29sbGVjdGlvbkhlYWRlciA9ICgpID0+IHtcbiAgICAgIGNvbnN0IGNvbGxlY3Rpb24gPSBjb2xsZWN0aW9ucy5maW5kKChlbnRyeSkgPT4gZW50cnkuaWQgPT09IGFjdGl2ZUNvbGxlY3Rpb25JZCk7XG4gICAgICBpZiAoY29sbGVjdGlvblRpdGxlKSB7XG4gICAgICAgIGNvbGxlY3Rpb25UaXRsZS50ZXh0Q29udGVudCA9IGNvbGxlY3Rpb24/Lm5hbWUgfHwgJ1NcdTAwRTlsZWN0aW9ubmV6IHVuZSBjb2xsZWN0aW9uJztcbiAgICAgIH1cbiAgICAgIGlmIChjb2xsZWN0aW9uRGVzY3JpcHRpb24pIHtcbiAgICAgICAgY29sbGVjdGlvbkRlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gY29sbGVjdGlvbj8uZGVzY3JpcHRpb24gfHwgJyc7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHVwZGF0ZUl0ZW1zRW1wdHlNZXNzYWdlID0gKG1lc3NhZ2UpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvbkl0ZW1zRW1wdHkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29sbGVjdGlvbkl0ZW1zRW1wdHkudGV4dENvbnRlbnQgPVxuICAgICAgICBtZXNzYWdlIHx8XG4gICAgICAgIChhY3RpdmVDb2xsZWN0aW9uSWRcbiAgICAgICAgICA/ICdBdWN1biBpdGVtIGRhbnMgY2V0dGUgY29sbGVjdGlvbiBwb3VyIGxlIG1vbWVudC4nXG4gICAgICAgICAgOiAnQ2hvaXNpc3NleiB1bmUgY29sbGVjdGlvbiBkYW5zIGxlIHBhbm5lYXUgZGUgZ2F1Y2hlLicpO1xuICAgIH07XG5cbiAgICBjb25zdCBoaWRlSXRlbUZvcm0gPSAoKSA9PiB7XG4gICAgICBpZiAoaXRlbUZvcm0pIHtcbiAgICAgICAgaXRlbUZvcm0uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIGl0ZW1Gb3JtLmRhdGFzZXQuaXRlbUlkID0gJyc7XG4gICAgICB9XG4gICAgICBpdGVtRGV0YWlsRW1wdHk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgaWYgKGl0ZW1TdGF0dXNCYWRnZSkge1xuICAgICAgICBpdGVtU3RhdHVzQmFkZ2UuY2xhc3NOYW1lID0gYGhpZGRlbiAke3N0YXR1c0JhZGdlQmFzZUNsYXNzfWA7XG4gICAgICAgIGl0ZW1TdGF0dXNCYWRnZS50ZXh0Q29udGVudCA9ICcnO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1EZWxldGVCdXR0b24pIHtcbiAgICAgICAgaXRlbURlbGV0ZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHNob3dJdGVtRm9ybSA9ICgpID0+IHtcbiAgICAgIGlmICghaXRlbUZvcm0pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaXRlbUZvcm0uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBpdGVtRGV0YWlsRW1wdHk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgIH07XG5cbiAgICBjb25zdCBzeW5jQWRkQnV0dG9uU3RhdGUgPSAoKSA9PiB7XG4gICAgICBpZiAoIWl0ZW1BZGRCdXR0b24pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaXRlbUFkZEJ1dHRvbi5kaXNhYmxlZCA9ICFhY3RpdmVDb2xsZWN0aW9uSWQ7XG4gICAgICBpZiAoaXRlbUFkZEJ1dHRvbi5kaXNhYmxlZCkge1xuICAgICAgICBpdGVtQWRkQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ29wYWNpdHktNjAnLCAncG9pbnRlci1ldmVudHMtbm9uZScpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaXRlbUFkZEJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdvcGFjaXR5LTYwJywgJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3Qgc3luY0l0ZW1TdGF0dXNCYWRnZSA9IChzdGF0dXMpID0+IHtcbiAgICAgIGlmICghaXRlbVN0YXR1c0JhZGdlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghc3RhdHVzKSB7XG4gICAgICAgIGl0ZW1TdGF0dXNCYWRnZS5jbGFzc05hbWUgPSBgaGlkZGVuICR7c3RhdHVzQmFkZ2VCYXNlQ2xhc3N9YDtcbiAgICAgICAgaXRlbVN0YXR1c0JhZGdlLnRleHRDb250ZW50ID0gJyc7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBzdGF0dXMudG9Mb3dlckNhc2UoKTtcbiAgICAgIGxldCBjb2xvckNsYXNzID0gJ2JnLXNsYXRlLTEwMCB0ZXh0LXNsYXRlLTYwMCBib3JkZXIgYm9yZGVyLXNsYXRlLTIwMCc7XG4gICAgICBpZiAobm9ybWFsaXplZCA9PT0gJ3B1YmxpXHUwMEU5JyB8fCBub3JtYWxpemVkID09PSAncHVibGllJykge1xuICAgICAgICBjb2xvckNsYXNzID0gJ2JnLWVtZXJhbGQtNTAgdGV4dC1lbWVyYWxkLTcwMCBib3JkZXIgYm9yZGVyLWVtZXJhbGQtMTAwJztcbiAgICAgIH0gZWxzZSBpZiAobm9ybWFsaXplZCA9PT0gJ2Jyb3VpbGxvbicpIHtcbiAgICAgICAgY29sb3JDbGFzcyA9ICdiZy1hbWJlci01MCB0ZXh0LWFtYmVyLTcwMCBib3JkZXIgYm9yZGVyLWFtYmVyLTEwMCc7XG4gICAgICB9XG4gICAgICBpdGVtU3RhdHVzQmFkZ2UuY2xhc3NOYW1lID0gYCR7c3RhdHVzQmFkZ2VCYXNlQ2xhc3N9ICR7Y29sb3JDbGFzc31gO1xuICAgICAgaXRlbVN0YXR1c0JhZGdlLnRleHRDb250ZW50ID0gc3RhdHVzO1xuICAgIH07XG5cbiAgICBjb25zdCByZW5kZXJDb2xsZWN0aW9uTGlzdCA9ICgpID0+IHtcbiAgICAgIGNvbGxlY3Rpb25MaXN0LmlubmVySFRNTCA9ICcnO1xuICAgICAgaWYgKCFjb2xsZWN0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgY29sbGVjdGlvbkVtcHR5U3RhdGU/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb2xsZWN0aW9uRW1wdHlTdGF0ZT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBjb2xsZWN0aW9ucy5mb3JFYWNoKChjb2xsZWN0aW9uKSA9PiB7XG4gICAgICAgIGNvbnN0IGlzQWN0aXZlID0gY29sbGVjdGlvbi5pZCA9PT0gYWN0aXZlQ29sbGVjdGlvbklkO1xuICAgICAgICBjb25zdCBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgYnV0dG9uLnR5cGUgPSAnYnV0dG9uJztcbiAgICAgICAgYnV0dG9uLmRhdGFzZXQuY29sbGVjdGlvbklkID0gY29sbGVjdGlvbi5pZDtcbiAgICAgICAgYnV0dG9uLmNsYXNzTmFtZSA9IFtcbiAgICAgICAgICAndy1mdWxsIHJvdW5kZWQteGwgYm9yZGVyIHB4LTMgcHktMiB0ZXh0LWxlZnQgdHJhbnNpdGlvbiBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctWyM5QzZCRkZdLzQwJyxcbiAgICAgICAgICBpc0FjdGl2ZVxuICAgICAgICAgICAgPyAnYmctWyNGN0YwRkZdIGJvcmRlci1bIzlDNkJGRl0vNDAgdGV4dC1zbGF0ZS05MDAnXG4gICAgICAgICAgICA6ICdib3JkZXItc2xhdGUtMjAwIHRleHQtc2xhdGUtNzAwIGhvdmVyOmJvcmRlci1bIzlDNkJGRl0vNDAnLFxuICAgICAgICBdLmpvaW4oJyAnKTtcbiAgICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZSgncm9sZScsICdvcHRpb24nKTtcbiAgICAgICAgaWYgKGlzQWN0aXZlKSB7XG4gICAgICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZSgnYXJpYS1jdXJyZW50JywgJ3RydWUnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBidXR0b24ucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWN1cnJlbnQnKTtcbiAgICAgICAgfVxuICAgICAgICBidXR0b24uaW5uZXJIVE1MID0gYFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gZ2FwLTJcIj5cbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1zbSBmb250LXNlbWlib2xkXCI+JHtjb2xsZWN0aW9uLm5hbWUgfHwgY29sbGVjdGlvbi5pZH08L3A+XG4gICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC14cyB0ZXh0LXNsYXRlLTUwMFwiPiR7Y29sbGVjdGlvbi5kZXNjcmlwdGlvbiB8fCAnJ308L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC1bMTFweF0gdXBwZXJjYXNlIHRyYWNraW5nLXdpZGUgdGV4dC1zbGF0ZS00MDBcIj4ke2NvbGxlY3Rpb24udHlwZSB8fCAnJ308L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIGA7XG4gICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICBzZXRBY3RpdmVDb2xsZWN0aW9uKGNvbGxlY3Rpb24uaWQpO1xuICAgICAgICAgIGlmICghd2luZG93Lm1hdGNoTWVkaWEoJyhtaW4td2lkdGg6IDEwMjRweCknKS5tYXRjaGVzKSB7XG4gICAgICAgICAgICBjbG9zZUNvbGxlY3Rpb25EcmF3ZXIoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBjb2xsZWN0aW9uTGlzdC5hcHBlbmRDaGlsZChidXR0b24pO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IHJlbmRlckl0ZW1UYWJsZSA9ICgpID0+IHtcbiAgICAgIGlmICghaXRlbVRhYmxlQm9keSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpdGVtVGFibGVCb2R5LmlubmVySFRNTCA9ICcnO1xuICAgICAgaWYgKCFjb2xsZWN0aW9uSXRlbXMubGVuZ3RoIHx8ICFhY3RpdmVDb2xsZWN0aW9uSWQpIHtcbiAgICAgICAgY29sbGVjdGlvbkl0ZW1zRW1wdHk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICB1cGRhdGVJdGVtc0VtcHR5TWVzc2FnZSgpO1xuICAgICAgICBpdGVtVGFibGVXcmFwcGVyPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29sbGVjdGlvbkl0ZW1zRW1wdHk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgaXRlbVRhYmxlV3JhcHBlcj8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBjb2xsZWN0aW9uSXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICBjb25zdCByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpO1xuICAgICAgICByb3cuZGF0YXNldC5pdGVtSWQgPSBpdGVtLmlkO1xuICAgICAgICBjb25zdCBpc0FjdGl2ZSA9IGl0ZW0uaWQgPT09IGFjdGl2ZUl0ZW1JZCAmJiAhaXNDcmVhdGluZ0l0ZW07XG4gICAgICAgIHJvdy5jbGFzc05hbWUgPSBbXG4gICAgICAgICAgJ2N1cnNvci1wb2ludGVyIHRyYW5zaXRpb24gZm9jdXMtd2l0aGluOmJnLVsjRjdGMEZGXS83MCBmb2N1czpvdXRsaW5lLW5vbmUnLFxuICAgICAgICAgIGlzQWN0aXZlID8gJ2JnLVsjRjdGMEZGXS83MCcgOiAnaG92ZXI6Ymctc2xhdGUtNTAnLFxuICAgICAgICBdLmpvaW4oJyAnKTtcbiAgICAgICAgcm93LnRhYkluZGV4ID0gMDtcbiAgICAgICAgcm93LnNldEF0dHJpYnV0ZSgncm9sZScsICdidXR0b24nKTtcbiAgICAgICAgaWYgKGlzQWN0aXZlKSB7XG4gICAgICAgICAgcm93LnNldEF0dHJpYnV0ZSgnYXJpYS1jdXJyZW50JywgJ3RydWUnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByb3cucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWN1cnJlbnQnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzdGF0dXMgPSBpdGVtLnN0YXR1cyB8fCAnQnJvdWlsbG9uJztcbiAgICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IHN0YXR1cy50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBjb25zdCBzdGF0dXNDbGFzc2VzID1cbiAgICAgICAgICBub3JtYWxpemVkID09PSAncHVibGlcdTAwRTknIHx8IG5vcm1hbGl6ZWQgPT09ICdwdWJsaWUnXG4gICAgICAgICAgICA/ICdiZy1lbWVyYWxkLTUwIHRleHQtZW1lcmFsZC03MDAgYm9yZGVyIGJvcmRlci1lbWVyYWxkLTEwMCdcbiAgICAgICAgICAgIDogJ2JnLWFtYmVyLTUwIHRleHQtYW1iZXItNzAwIGJvcmRlciBib3JkZXItYW1iZXItMTAwJztcbiAgICAgICAgcm93LmlubmVySFRNTCA9IGBcbiAgICAgICAgICA8dGQgY2xhc3M9XCJweC00IHB5LTMgYWxpZ24tdG9wXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQtc20gZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTkwMFwiPiR7aXRlbS50aXRsZSB8fCAnU2FucyB0aXRyZSd9PC9zcGFuPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQteHMgdGV4dC1zbGF0ZS01MDBcIj4ke2l0ZW0uc3VtbWFyeSB8fCBpdGVtLmV4Y2VycHQgfHwgJyd9PC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC90ZD5cbiAgICAgICAgICA8dGQgY2xhc3M9XCJweC00IHB5LTMgYWxpZ24tdG9wIHRleHQtc20gdGV4dC1zbGF0ZS02MDBcIj4ke2l0ZW0uc2x1ZyB8fCAnJ308L3RkPlxuICAgICAgICAgIDx0ZCBjbGFzcz1cInB4LTQgcHktMyBhbGlnbi10b3BcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIHJvdW5kZWQtZnVsbCBweC0zIHB5LTEgdGV4dC14cyBmb250LXNlbWlib2xkICR7c3RhdHVzQ2xhc3Nlc31cIj5cbiAgICAgICAgICAgICAgJHtzdGF0dXN9XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC90ZD5cbiAgICAgICAgICA8dGQgY2xhc3M9XCJweC00IHB5LTMgYWxpZ24tdG9wIHRleHQtc20gdGV4dC1zbGF0ZS01MDBcIj4ke2Zvcm1hdEl0ZW1EYXRlKFxuICAgICAgICAgICAgaXRlbS51cGRhdGVkQXQgfHwgaXRlbS5jcmVhdGVkQXQsXG4gICAgICAgICAgKX08L3RkPlxuICAgICAgICBgO1xuICAgICAgICBjb25zdCBoYW5kbGVTZWxlY3QgPSAoKSA9PiB7XG4gICAgICAgICAgc2VsZWN0SXRlbShpdGVtLmlkKTtcbiAgICAgICAgfTtcbiAgICAgICAgcm93LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlU2VsZWN0KTtcbiAgICAgICAgcm93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICBpZiAoZXZlbnQua2V5ID09PSAnRW50ZXInIHx8IGV2ZW50LmtleSA9PT0gJyAnKSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgaGFuZGxlU2VsZWN0KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaXRlbVRhYmxlQm9keS5hcHBlbmRDaGlsZChyb3cpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IHNlbGVjdEl0ZW0gPSAoaXRlbUlkKSA9PiB7XG4gICAgICBjb25zdCBpdGVtID0gY29sbGVjdGlvbkl0ZW1zLmZpbmQoKGVudHJ5KSA9PiBlbnRyeS5pZCA9PT0gaXRlbUlkKTtcbiAgICAgIGlmICghaXRlbSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhY3RpdmVJdGVtSWQgPSBpdGVtLmlkO1xuICAgICAgaXNDcmVhdGluZ0l0ZW0gPSBmYWxzZTtcbiAgICAgIGl0ZW1TbHVnTWFudWFsbHlFZGl0ZWQgPSB0cnVlO1xuICAgICAgcG9wdWxhdGVJdGVtRm9ybShpdGVtKTtcbiAgICAgIHJlbmRlckl0ZW1UYWJsZSgpO1xuICAgIH07XG5cbiAgICBjb25zdCBwb3B1bGF0ZUl0ZW1Gb3JtID0gKGl0ZW0pID0+IHtcbiAgICAgIGlmICghaXRlbUZvcm0gfHwgIWl0ZW0pIHtcbiAgICAgICAgaGlkZUl0ZW1Gb3JtKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNob3dJdGVtRm9ybSgpO1xuICAgICAgaXRlbUZvcm0uZGF0YXNldC5pdGVtSWQgPSBpdGVtLmlkO1xuICAgICAgaWYgKGl0ZW1Gb3JtRmllbGRzLnRpdGxlKSB7XG4gICAgICAgIGl0ZW1Gb3JtRmllbGRzLnRpdGxlLnZhbHVlID0gaXRlbS50aXRsZSB8fCAnJztcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtRm9ybUZpZWxkcy5zbHVnKSB7XG4gICAgICAgIGl0ZW1Gb3JtRmllbGRzLnNsdWcudmFsdWUgPSBpdGVtLnNsdWcgfHwgJyc7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbUZvcm1GaWVsZHMuZXhjZXJwdCkge1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy5leGNlcnB0LnZhbHVlID0gaXRlbS5zdW1tYXJ5IHx8IGl0ZW0uZXhjZXJwdCB8fCAnJztcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtRm9ybUZpZWxkcy5jb250ZW50KSB7XG4gICAgICAgIGl0ZW1Gb3JtRmllbGRzLmNvbnRlbnQudmFsdWUgPSBpdGVtLmNvbnRlbnQgfHwgJyc7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbUZvcm1GaWVsZHMuaW1hZ2UpIHtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMuaW1hZ2UudmFsdWUgPSBpdGVtLmltYWdlIHx8ICcnO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1Gb3JtRmllbGRzLmN0YVRleHQpIHtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMuY3RhVGV4dC52YWx1ZSA9IGl0ZW0uY3RhPy50ZXh0IHx8IGl0ZW0uY3RhVGV4dCB8fCAnJztcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtRm9ybUZpZWxkcy5jdGFVcmwpIHtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMuY3RhVXJsLnZhbHVlID0gaXRlbS5jdGE/LnVybCB8fCBpdGVtLmN0YVVybCB8fCAnJztcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtRm9ybUZpZWxkcy5zdGF0dXMpIHtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMuc3RhdHVzLnZhbHVlID0gaXRlbS5zdGF0dXMgfHwgJ0Jyb3VpbGxvbic7XG4gICAgICB9XG4gICAgICBzeW5jSXRlbVN0YXR1c0JhZGdlKGl0ZW0uc3RhdHVzIHx8ICdCcm91aWxsb24nKTtcbiAgICAgIGlmIChpdGVtRGVsZXRlQnV0dG9uKSB7XG4gICAgICAgIGl0ZW1EZWxldGVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgcHJlcGFyZU5ld0l0ZW1Gb3JtID0gKCkgPT4ge1xuICAgICAgaWYgKCFpdGVtRm9ybSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpc0NyZWF0aW5nSXRlbSA9IHRydWU7XG4gICAgICBhY3RpdmVJdGVtSWQgPSBudWxsO1xuICAgICAgaXRlbVNsdWdNYW51YWxseUVkaXRlZCA9IGZhbHNlO1xuICAgICAgaXRlbUZvcm0uZGF0YXNldC5pdGVtSWQgPSAnJztcbiAgICAgIGl0ZW1Gb3JtLnJlc2V0KCk7XG4gICAgICBpZiAoaXRlbUZvcm1GaWVsZHMuc3RhdHVzKSB7XG4gICAgICAgIGl0ZW1Gb3JtRmllbGRzLnN0YXR1cy52YWx1ZSA9ICdCcm91aWxsb24nO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1Gb3JtRmllbGRzLnNsdWcpIHtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMuc2x1Zy52YWx1ZSA9ICcnO1xuICAgICAgfVxuICAgICAgc3luY0l0ZW1TdGF0dXNCYWRnZSgnQnJvdWlsbG9uJyk7XG4gICAgICBzaG93SXRlbUZvcm0oKTtcbiAgICAgIGlmIChpdGVtRGVsZXRlQnV0dG9uKSB7XG4gICAgICAgIGl0ZW1EZWxldGVCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaXRlbUZvcm1GaWVsZHMudGl0bGU/LmZvY3VzKCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGNvbGxlY3RJdGVtRm9ybVZhbHVlcyA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHRpdGxlID0gKGl0ZW1Gb3JtRmllbGRzLnRpdGxlPy52YWx1ZSB8fCAnJykudHJpbSgpO1xuICAgICAgY29uc3Qgc2x1Z0lucHV0ID0gKGl0ZW1Gb3JtRmllbGRzLnNsdWc/LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICBjb25zdCBzdW1tYXJ5ID0gKGl0ZW1Gb3JtRmllbGRzLmV4Y2VycHQ/LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICBjb25zdCBjb250ZW50ID0gKGl0ZW1Gb3JtRmllbGRzLmNvbnRlbnQ/LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICBjb25zdCBpbWFnZSA9IChpdGVtRm9ybUZpZWxkcy5pbWFnZT8udmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgIGNvbnN0IGN0YVRleHQgPSAoaXRlbUZvcm1GaWVsZHMuY3RhVGV4dD8udmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgIGNvbnN0IGN0YVVybCA9IChpdGVtRm9ybUZpZWxkcy5jdGFVcmw/LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICBjb25zdCBzdGF0dXMgPSBpdGVtRm9ybUZpZWxkcy5zdGF0dXM/LnZhbHVlIHx8ICdCcm91aWxsb24nO1xuICAgICAgXG4gICAgICAvLyBCdWlsZCBDVEEgb2JqZWN0IG9ubHkgaWYgYXQgbGVhc3Qgb25lIGZpZWxkIGlzIGZpbGxlZFxuICAgICAgY29uc3QgY3RhID0gKGN0YVRleHQgfHwgY3RhVXJsKSA/IHsgdGV4dDogY3RhVGV4dCwgdXJsOiBjdGFVcmwgfSA6IG51bGw7XG4gICAgICBcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRpdGxlLFxuICAgICAgICBzbHVnOiBzbHVnSW5wdXQgPyBub3JtYWxpemVJdGVtU2x1Z0lucHV0KHNsdWdJbnB1dCkgOiBub3JtYWxpemVJdGVtU2x1Z0lucHV0KHRpdGxlKSxcbiAgICAgICAgc3VtbWFyeSxcbiAgICAgICAgZXhjZXJwdDogc3VtbWFyeSxcbiAgICAgICAgY29udGVudCxcbiAgICAgICAgaW1hZ2UsXG4gICAgICAgIHN0YXR1cyxcbiAgICAgICAgLi4uKGN0YSAmJiB7IGN0YSB9KSxcbiAgICAgIH07XG4gICAgfTtcblxuICAgIGNvbnN0IHNldEZvcm1TYXZpbmdTdGF0ZSA9IChpc1NhdmluZykgPT4ge1xuICAgICAgaWYgKGl0ZW1Gb3JtU2F2ZSkge1xuICAgICAgICBpdGVtRm9ybVNhdmUuZGlzYWJsZWQgPSBpc1NhdmluZztcbiAgICAgICAgaXRlbUZvcm1TYXZlLnRleHRDb250ZW50ID0gaXNTYXZpbmcgPyAnRW5yZWdpc3RyZW1lbnRcdTIwMjYnIDogJ0VucmVnaXN0cmVyJztcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtRGVsZXRlQnV0dG9uICYmICFpc0NyZWF0aW5nSXRlbSAmJiBhY3RpdmVJdGVtSWQpIHtcbiAgICAgICAgaXRlbURlbGV0ZUJ1dHRvbi5kaXNhYmxlZCA9IGlzU2F2aW5nO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBmZXRjaENvbGxlY3Rpb25JdGVtcyA9IGFzeW5jIChjb2xsZWN0aW9uSWQpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvbnNBcGlCYXNlKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgIGAke2NvbGxlY3Rpb25zQXBpQmFzZX0vJHtlbmNvZGVVUklDb21wb25lbnQoY29sbGVjdGlvbklkKX0vaXRlbXNgLFxuICAgICAgICB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9LFxuICAgICAgKTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHBheWxvYWQubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxlcyBpdGVtcy4nKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICByZXR1cm4gQXJyYXkuaXNBcnJheShkYXRhLml0ZW1zKSA/IGRhdGEuaXRlbXMgOiBbXTtcbiAgICB9O1xuXG4gICAgY29uc3Qgc2V0QWN0aXZlQ29sbGVjdGlvbiA9IGFzeW5jIChjb2xsZWN0aW9uSWQpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvbklkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGFjdGl2ZUNvbGxlY3Rpb25JZCA9IGNvbGxlY3Rpb25JZDtcbiAgICAgIGFjdGl2ZUl0ZW1JZCA9IG51bGw7XG4gICAgICBpc0NyZWF0aW5nSXRlbSA9IGZhbHNlO1xuICAgICAgaXRlbVNsdWdNYW51YWxseUVkaXRlZCA9IGZhbHNlO1xuICAgICAgdXBkYXRlQ29sbGVjdGlvbkhlYWRlcigpO1xuICAgICAgc3luY0FkZEJ1dHRvblN0YXRlKCk7XG4gICAgICByZW5kZXJDb2xsZWN0aW9uTGlzdCgpO1xuICAgICAgaGlkZUl0ZW1Gb3JtKCk7XG4gICAgICBjb2xsZWN0aW9uSXRlbXMgPSBbXTtcbiAgICAgIHJlbmRlckl0ZW1UYWJsZSgpO1xuICAgICAgdXBkYXRlSXRlbXNFbXB0eU1lc3NhZ2UoJ0NoYXJnZW1lbnQgZGVzIGl0ZW1zXHUyMDI2Jyk7XG4gICAgICBjb2xsZWN0aW9uSXRlbXNFbXB0eT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBpdGVtVGFibGVXcmFwcGVyPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGlmICghY29sbGVjdGlvbnNBcGlCYXNlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbGxlY3Rpb25JdGVtcyA9IGF3YWl0IGZldGNoQ29sbGVjdGlvbkl0ZW1zKGNvbGxlY3Rpb25JZCk7XG4gICAgICAgIHJlbmRlckl0ZW1UYWJsZSgpO1xuICAgICAgICBpZiAoIWNvbGxlY3Rpb25JdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgICB1cGRhdGVJdGVtc0VtcHR5TWVzc2FnZSgpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2NvbnRlbnRdIGl0ZW1zIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxlcyBpdGVtcy4nKTtcbiAgICAgICAgY29sbGVjdGlvbkl0ZW1zID0gW107XG4gICAgICAgIHJlbmRlckl0ZW1UYWJsZSgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBjcmVhdGVDb2xsZWN0aW9uSXRlbSA9IGFzeW5jIChjb2xsZWN0aW9uSWQsIHBheWxvYWQpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvbnNBcGlCYXNlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignU2l0ZSBpbmNvbm51LicpO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgYCR7Y29sbGVjdGlvbnNBcGlCYXNlfS8ke2VuY29kZVVSSUNvbXBvbmVudChjb2xsZWN0aW9uSWQpfS9pdGVtc2AsXG4gICAgICAgIHtcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgfSxcbiAgICAgICk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihkYXRhLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgY3JcdTAwRTllciBjZXQgaXRlbS4nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgfTtcblxuICAgIGNvbnN0IHVwZGF0ZUNvbGxlY3Rpb25JdGVtID0gYXN5bmMgKGNvbGxlY3Rpb25JZCwgaXRlbUlkLCBwYXlsb2FkKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25zQXBpQmFzZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NpdGUgaW5jb25udS4nKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgIGAke2NvbGxlY3Rpb25zQXBpQmFzZX0vJHtlbmNvZGVVUklDb21wb25lbnQoY29sbGVjdGlvbklkKX0vaXRlbXMvJHtlbmNvZGVVUklDb21wb25lbnQoaXRlbUlkKX1gLFxuICAgICAgICB7XG4gICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgfSxcbiAgICAgICk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihkYXRhLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgc2F1dmVnYXJkZXIgY2V0IGl0ZW0uJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgIH07XG5cbiAgICBjb25zdCBkZWxldGVDb2xsZWN0aW9uSXRlbSA9IGFzeW5jIChjb2xsZWN0aW9uSWQsIGl0ZW1JZCkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uc0FwaUJhc2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTaXRlIGluY29ubnUuJyk7XG4gICAgICB9XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgICBgJHtjb2xsZWN0aW9uc0FwaUJhc2V9LyR7ZW5jb2RlVVJJQ29tcG9uZW50KGNvbGxlY3Rpb25JZCl9L2l0ZW1zLyR7ZW5jb2RlVVJJQ29tcG9uZW50KGl0ZW1JZCl9YCxcbiAgICAgICAgeyBtZXRob2Q6ICdERUxFVEUnIH0sXG4gICAgICApO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZGF0YS5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIHN1cHByaW1lciBjZXQgaXRlbS4nKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgbG9hZENvbGxlY3Rpb25zID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uc0FwaUJhc2UpIHtcbiAgICAgICAgY29sbGVjdGlvbkVtcHR5U3RhdGU/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICBhY3RpdmVDb2xsZWN0aW9uSWQgPSBudWxsO1xuICAgICAgICBjb2xsZWN0aW9uSXRlbXMgPSBbXTtcbiAgICAgICAgcmVuZGVySXRlbVRhYmxlKCk7XG4gICAgICAgIHVwZGF0ZUNvbGxlY3Rpb25IZWFkZXIoKTtcbiAgICAgICAgc3luY0FkZEJ1dHRvblN0YXRlKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goY29sbGVjdGlvbnNBcGlCYXNlLCB7XG4gICAgICAgICAgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxlcyBjb2xsZWN0aW9ucy4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+IFtdKTtcbiAgICAgICAgY29sbGVjdGlvbnMgPSBBcnJheS5pc0FycmF5KHBheWxvYWQpID8gcGF5bG9hZCA6IFtdO1xuICAgICAgICByZW5kZXJDb2xsZWN0aW9uTGlzdCgpO1xuICAgICAgICBpZiAoY29sbGVjdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGNvbnN0IGRlZmF1bHRJZCA9IGNvbGxlY3Rpb25zLmZpbmQoKGVudHJ5KSA9PiBlbnRyeS5pZCA9PT0gYWN0aXZlQ29sbGVjdGlvbklkKT8uaWRcbiAgICAgICAgICAgIHx8IGNvbGxlY3Rpb25zWzBdLmlkO1xuICAgICAgICAgIHNldEFjdGl2ZUNvbGxlY3Rpb24oZGVmYXVsdElkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhY3RpdmVDb2xsZWN0aW9uSWQgPSBudWxsO1xuICAgICAgICAgIGNvbGxlY3Rpb25JdGVtcyA9IFtdO1xuICAgICAgICAgIHVwZGF0ZUNvbGxlY3Rpb25IZWFkZXIoKTtcbiAgICAgICAgICBzeW5jQWRkQnV0dG9uU3RhdGUoKTtcbiAgICAgICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tjb250ZW50XSBsb2FkIGNvbGxlY3Rpb25zJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIGNvbGxlY3Rpb25zLicpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBpdGVtQWRkQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGlmICghYWN0aXZlQ29sbGVjdGlvbklkKSB7XG4gICAgICAgIHNob3dUb2FzdCgnU1x1MDBFOWxlY3Rpb25uZXogZFx1MjAxOWFib3JkIHVuZSBjb2xsZWN0aW9uLicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwcmVwYXJlTmV3SXRlbUZvcm0oKTtcbiAgICAgIHJlbmRlckl0ZW1UYWJsZSgpO1xuICAgIH0pO1xuXG4gICAgaXRlbUZvcm1DYW5jZWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKGlzQ3JlYXRpbmdJdGVtKSB7XG4gICAgICAgIGlzQ3JlYXRpbmdJdGVtID0gZmFsc2U7XG4gICAgICAgIGFjdGl2ZUl0ZW1JZCA9IG51bGw7XG4gICAgICAgIGhpZGVJdGVtRm9ybSgpO1xuICAgICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGFjdGl2ZUl0ZW1JZCkge1xuICAgICAgICBjb25zdCBpdGVtID0gY29sbGVjdGlvbkl0ZW1zLmZpbmQoKGVudHJ5KSA9PiBlbnRyeS5pZCA9PT0gYWN0aXZlSXRlbUlkKTtcbiAgICAgICAgcG9wdWxhdGVJdGVtRm9ybShpdGVtKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGhpZGVJdGVtRm9ybSgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaXRlbUZvcm1GaWVsZHMuc3RhdHVzPy5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgICBzeW5jSXRlbVN0YXR1c0JhZGdlKGl0ZW1Gb3JtRmllbGRzLnN0YXR1cy52YWx1ZSk7XG4gICAgfSk7XG5cbiAgICBpdGVtRm9ybUZpZWxkcy50aXRsZT8uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgICBpZiAoIWlzQ3JlYXRpbmdJdGVtIHx8ICFpdGVtRm9ybUZpZWxkcy5zbHVnIHx8IGl0ZW1TbHVnTWFudWFsbHlFZGl0ZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaXRlbUZvcm1GaWVsZHMuc2x1Zy52YWx1ZSA9IG5vcm1hbGl6ZUl0ZW1TbHVnSW5wdXQoaXRlbUZvcm1GaWVsZHMudGl0bGUudmFsdWUpO1xuICAgIH0pO1xuXG4gICAgaXRlbUZvcm1GaWVsZHMuc2x1Zz8uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgICBpZiAoIWlzQ3JlYXRpbmdJdGVtKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGl0ZW1TbHVnTWFudWFsbHlFZGl0ZWQgPSB0cnVlO1xuICAgIH0pO1xuXG4gICAgaXRlbUZvcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmICghYWN0aXZlQ29sbGVjdGlvbklkKSB7XG4gICAgICAgIHNob3dUb2FzdCgnU1x1MDBFOWxlY3Rpb25uZXogdW5lIGNvbGxlY3Rpb24uJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHZhbHVlcyA9IGNvbGxlY3RJdGVtRm9ybVZhbHVlcygpO1xuICAgICAgaWYgKCF2YWx1ZXMudGl0bGUpIHtcbiAgICAgICAgc2hvd1RvYXN0KCdMZSB0aXRyZSBlc3QgcmVxdWlzLicpO1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy50aXRsZT8uZm9jdXMoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2V0Rm9ybVNhdmluZ1N0YXRlKHRydWUpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgbGV0IHNhdmVkSXRlbTtcbiAgICAgICAgaWYgKGlzQ3JlYXRpbmdJdGVtIHx8ICFhY3RpdmVJdGVtSWQpIHtcbiAgICAgICAgICBzYXZlZEl0ZW0gPSBhd2FpdCBjcmVhdGVDb2xsZWN0aW9uSXRlbShhY3RpdmVDb2xsZWN0aW9uSWQsIHZhbHVlcyk7XG4gICAgICAgICAgY29sbGVjdGlvbkl0ZW1zID0gWy4uLmNvbGxlY3Rpb25JdGVtcywgc2F2ZWRJdGVtXTtcbiAgICAgICAgICBzaG93VG9hc3QoJ0l0ZW0gY3JcdTAwRTlcdTAwRTknKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzYXZlZEl0ZW0gPSBhd2FpdCB1cGRhdGVDb2xsZWN0aW9uSXRlbShhY3RpdmVDb2xsZWN0aW9uSWQsIGFjdGl2ZUl0ZW1JZCwgdmFsdWVzKTtcbiAgICAgICAgICBjb2xsZWN0aW9uSXRlbXMgPSBjb2xsZWN0aW9uSXRlbXMubWFwKChpdGVtKSA9PlxuICAgICAgICAgICAgaXRlbS5pZCA9PT0gc2F2ZWRJdGVtLmlkID8gc2F2ZWRJdGVtIDogaXRlbSxcbiAgICAgICAgICApO1xuICAgICAgICAgIHNob3dUb2FzdCgnSXRlbSBtaXMgXHUwMEUwIGpvdXInKTtcbiAgICAgICAgfVxuICAgICAgICBpc0NyZWF0aW5nSXRlbSA9IGZhbHNlO1xuICAgICAgICBhY3RpdmVJdGVtSWQgPSBzYXZlZEl0ZW0uaWQ7XG4gICAgICAgIHBvcHVsYXRlSXRlbUZvcm0oc2F2ZWRJdGVtKTtcbiAgICAgICAgcmVuZGVySXRlbVRhYmxlKCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2NvbnRlbnRdIHNhdmUgaXRlbSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgc2F1dmVnYXJkZXIgY2V0IGl0ZW0uJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZXRGb3JtU2F2aW5nU3RhdGUoZmFsc2UpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgY29uc3QgY2xvc2VEZWxldGVNb2RhbCA9ICgpID0+IHtcbiAgICAgIGlmICghaXRlbURlbGV0ZU1vZGFsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGl0ZW1EZWxldGVNb2RhbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGl0ZW1EZWxldGVNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdmbGV4Jyk7XG4gICAgICBwZW5kaW5nRGVsZXRlSXRlbUlkID0gbnVsbDtcbiAgICB9O1xuXG4gICAgY29uc3Qgb3BlbkRlbGV0ZU1vZGFsID0gKCkgPT4ge1xuICAgICAgaWYgKCFpdGVtRGVsZXRlTW9kYWwgfHwgIWFjdGl2ZUl0ZW1JZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwZW5kaW5nRGVsZXRlSXRlbUlkID0gYWN0aXZlSXRlbUlkO1xuICAgICAgaXRlbURlbGV0ZU1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgaXRlbURlbGV0ZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2ZsZXgnKTtcbiAgICB9O1xuXG4gICAgaXRlbURlbGV0ZUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoIWFjdGl2ZUl0ZW1JZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBvcGVuRGVsZXRlTW9kYWwoKTtcbiAgICB9KTtcblxuICAgIGl0ZW1EZWxldGVDYW5jZWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY2xvc2VEZWxldGVNb2RhbCgpO1xuICAgIH0pO1xuXG4gICAgaXRlbURlbGV0ZU1vZGFsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gaXRlbURlbGV0ZU1vZGFsKSB7XG4gICAgICAgIGNsb3NlRGVsZXRlTW9kYWwoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGl0ZW1EZWxldGVDb25maXJtPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghcGVuZGluZ0RlbGV0ZUl0ZW1JZCB8fCAhYWN0aXZlQ29sbGVjdGlvbklkKSB7XG4gICAgICAgIGNsb3NlRGVsZXRlTW9kYWwoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaXRlbURlbGV0ZUNvbmZpcm0uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgaXRlbURlbGV0ZUNvbmZpcm0udGV4dENvbnRlbnQgPSAnU3VwcHJlc3Npb25cdTIwMjYnO1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgZGVsZXRlQ29sbGVjdGlvbkl0ZW0oYWN0aXZlQ29sbGVjdGlvbklkLCBwZW5kaW5nRGVsZXRlSXRlbUlkKTtcbiAgICAgICAgY29sbGVjdGlvbkl0ZW1zID0gY29sbGVjdGlvbkl0ZW1zLmZpbHRlcigoaXRlbSkgPT4gaXRlbS5pZCAhPT0gcGVuZGluZ0RlbGV0ZUl0ZW1JZCk7XG4gICAgICAgIGlmIChhY3RpdmVJdGVtSWQgPT09IHBlbmRpbmdEZWxldGVJdGVtSWQpIHtcbiAgICAgICAgICBhY3RpdmVJdGVtSWQgPSBudWxsO1xuICAgICAgICAgIGhpZGVJdGVtRm9ybSgpO1xuICAgICAgICB9XG4gICAgICAgIHNob3dUb2FzdCgnSXRlbSBzdXBwcmltXHUwMEU5Jyk7XG4gICAgICAgIHJlbmRlckl0ZW1UYWJsZSgpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tjb250ZW50XSBkZWxldGUgaXRlbSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgc3VwcHJpbWVyIGNldCBpdGVtLicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaXRlbURlbGV0ZUNvbmZpcm0uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgaXRlbURlbGV0ZUNvbmZpcm0udGV4dENvbnRlbnQgPSAnU3VwcHJpbWVyJztcbiAgICAgICAgY2xvc2VEZWxldGVNb2RhbCgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdXBkYXRlQ29sbGVjdGlvbkhlYWRlcigpO1xuICAgIHN5bmNBZGRCdXR0b25TdGF0ZSgpO1xuICAgIGxvYWRDb2xsZWN0aW9ucygpO1xuICB9XG5cbiAgZnVuY3Rpb24gaW5pdERlcGxveVdvcmtzcGFjZSgpIHtcbiAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LWZvcm1dJyk7XG4gICAgaWYgKCFmb3JtKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHByb3RvY29sU2VsZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LXByb3RvY29sXScpO1xuICAgIGNvbnN0IGhvc3RJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1ob3N0XScpO1xuICAgIGNvbnN0IHBvcnRJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1wb3J0XScpO1xuICAgIGNvbnN0IHVzZXJJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS11c2VyXScpO1xuICAgIGNvbnN0IHBhc3N3b3JkSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktcGFzc3dvcmRdJyk7XG4gICAgY29uc3Qgc2hvd1Bhc3N3b3JkVG9nZ2xlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LXNob3ctcGFzc3dvcmRdJyk7XG4gICAgY29uc3QgcmVtb3RlUGF0aElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LXJlbW90ZS1wYXRoXScpO1xuICAgIGNvbnN0IGZlZWRiYWNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LWZlZWRiYWNrXScpO1xuICAgIGNvbnN0IHNhdmVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktc2F2ZV0nKTtcbiAgICBjb25zdCB0ZXN0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LXRlc3RdJyk7XG4gICAgY29uc3QgZGVwbG95QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LXRyaWdnZXJdJyk7XG4gICAgY29uc3QgaGlzdG9yeUxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktaGlzdG9yeV0nKTtcbiAgICBjb25zdCBsb2dCb3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktbG9nXScpO1xuXG4gICAgY29uc3Qgc2FmZVNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goXG4gICAgICB3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnLFxuICAgICk7XG4gICAgY29uc3QgZGVwbG95QXBpQmFzZSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9kZXBsb3ktY29uZmlnYFxuICAgICAgOiBudWxsO1xuICAgIGNvbnN0IGRlcGxveVJ1bkFwaSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9kZXBsb3lgXG4gICAgICA6IG51bGw7XG4gICAgY29uc3QgZGVwbG95TG9nQXBpID0gc2FmZVNpdGVTbHVnXG4gICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Zyl9L2RlcGxveS1sb2dgXG4gICAgICA6IG51bGw7XG5cbiAgICBsZXQgaGFzUGFzc3dvcmQgPSBmYWxzZTtcbiAgICBsZXQgYnVzeUFjdGlvbiA9IG51bGw7XG5cbiAgICBjb25zdCBzYW5pdGl6ZVJlbW90ZVBhdGggPSAodmFsdWUpID0+IHtcbiAgICAgIGNvbnN0IHRyaW1tZWQgPSAodmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgIGlmICghdHJpbW1lZCkge1xuICAgICAgICByZXR1cm4gJy93d3cnO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRyaW1tZWQuc3RhcnRzV2l0aCgnLycpID8gdHJpbW1lZCA6IGAvJHt0cmltbWVkfWA7XG4gICAgfTtcblxuICAgIGNvbnN0IHNldEZlZWRiYWNrID0gKG1lc3NhZ2UsIHRvbmUgPSAnbXV0ZWQnKSA9PiB7XG4gICAgICBpZiAoIWZlZWRiYWNrKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGJhc2VDbGFzcyA9ICdpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgcm91bmRlZC1mdWxsIHB4LTMgcHktMSB0ZXh0LXhzIGZvbnQtc2VtaWJvbGQnO1xuICAgICAgY29uc3QgdG9uZUNsYXNzID1cbiAgICAgICAgdG9uZSA9PT0gJ3N1Y2Nlc3MnXG4gICAgICAgICAgPyAnYmctZW1lcmFsZC01MCB0ZXh0LWVtZXJhbGQtNzAwIGJvcmRlciBib3JkZXItZW1lcmFsZC0xMDAnXG4gICAgICAgICAgOiB0b25lID09PSAnZXJyb3InXG4gICAgICAgICAgICA/ICdiZy1yb3NlLTUwIHRleHQtcm9zZS03MDAgYm9yZGVyIGJvcmRlci1yb3NlLTEwMCdcbiAgICAgICAgICAgIDogJ2JnLXNsYXRlLTUwIHRleHQtc2xhdGUtNjAwIGJvcmRlciBib3JkZXItc2xhdGUtMTAwJztcbiAgICAgIGlmICghbWVzc2FnZSkge1xuICAgICAgICBmZWVkYmFjay50ZXh0Q29udGVudCA9ICcnO1xuICAgICAgICBmZWVkYmFjay5jbGFzc05hbWUgPSAndGV4dC1zbSB0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGljb24gPSB0b25lID09PSAnc3VjY2VzcycgPyAnXHUyNzA1JyA6IHRvbmUgPT09ICdlcnJvcicgPyAnXHUyNzRDJyA6ICdcdTIxMzlcdUZFMEYnO1xuICAgICAgZmVlZGJhY2suaW5uZXJIVE1MID0gYDxzcGFuIGNsYXNzPVwiJHtiYXNlQ2xhc3N9ICR7dG9uZUNsYXNzfVwiPiR7aWNvbn08c3Bhbj4ke21lc3NhZ2V9PC9zcGFuPjwvc3Bhbj5gO1xuICAgICAgZmVlZGJhY2suY2xhc3NOYW1lID0gJ3RleHQtc20nO1xuICAgIH07XG5cbiAgICBjb25zdCBzZXRCdXN5ID0gKGFjdGlvbiA9IG51bGwpID0+IHtcbiAgICAgIGJ1c3lBY3Rpb24gPSBhY3Rpb247XG4gICAgICBjb25zdCBkaXNhYmxlID0gQm9vbGVhbihhY3Rpb24pO1xuICAgICAgY29uc3Qgc3Bpbm5lciA9XG4gICAgICAgICc8c3ZnIGNsYXNzPVwiaC00IHctNCBhbmltYXRlLXNwaW4gdGV4dC13aGl0ZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjxjaXJjbGUgY2xhc3M9XCJvcGFjaXR5LTI1XCIgY3g9XCIxMlwiIGN5PVwiMTJcIiByPVwiMTBcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCI0XCI+PC9jaXJjbGU+PHBhdGggY2xhc3M9XCJvcGFjaXR5LTc1XCIgZmlsbD1cImN1cnJlbnRDb2xvclwiIGQ9XCJNNCAxMmE4IDggMCAwMTgtOHY0YTQgNCAwIDAwLTQgNEg0elwiPjwvcGF0aD48L3N2Zz4nO1xuICAgICAgaWYgKHNhdmVCdXR0b24pIHtcbiAgICAgICAgc2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IGRpc2FibGU7XG4gICAgICAgIHNhdmVCdXR0b24uaW5uZXJIVE1MID1cbiAgICAgICAgICBhY3Rpb24gPT09ICdzYXZlJ1xuICAgICAgICAgICAgPyBgPHNwYW4gY2xhc3M9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj4ke3NwaW5uZXJ9PHNwYW4+RW5yZWdpc3RyZW1lbnRcdTIwMjY8L3NwYW4+PC9zcGFuPmBcbiAgICAgICAgICAgIDogJ0VucmVnaXN0cmVyJztcbiAgICAgIH1cbiAgICAgIGlmICh0ZXN0QnV0dG9uKSB7XG4gICAgICAgIHRlc3RCdXR0b24uZGlzYWJsZWQgPSBkaXNhYmxlO1xuICAgICAgICB0ZXN0QnV0dG9uLmlubmVySFRNTCA9XG4gICAgICAgICAgYWN0aW9uID09PSAndGVzdCdcbiAgICAgICAgICAgID8gYDxzcGFuIGNsYXNzPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+PHNwYW4gY2xhc3M9XCJoLTQgdy00IGFuaW1hdGUtc3BpbiByb3VuZGVkLWZ1bGwgYm9yZGVyLTIgYm9yZGVyLXNsYXRlLTIwMCBib3JkZXItdC1zbGF0ZS02MDBcIj48L3NwYW4+PHNwYW4+VGVzdCBlbiBjb3Vyc1x1MjAyNjwvc3Bhbj48L3NwYW4+YFxuICAgICAgICAgICAgOiAnVGVzdGVyIGxhIGNvbm5leGlvbic7XG4gICAgICB9XG4gICAgICBpZiAoZGVwbG95QnV0dG9uKSB7XG4gICAgICAgIGRlcGxveUJ1dHRvbi5kaXNhYmxlZCA9IGRpc2FibGUgJiYgYWN0aW9uICE9PSBudWxsO1xuICAgICAgICBkZXBsb3lCdXR0b24uaW5uZXJIVE1MID1cbiAgICAgICAgICBhY3Rpb24gPT09ICdkZXBsb3knXG4gICAgICAgICAgICA/IGA8c3BhbiBjbGFzcz1cImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPjxzcGFuIGNsYXNzPVwiaC00IHctNCBhbmltYXRlLXNwaW4gcm91bmRlZC1mdWxsIGJvcmRlci0yIGJvcmRlci13aGl0ZS82MCBib3JkZXItdC13aGl0ZVwiPjwvc3Bhbj48c3Bhbj5EXHUwMEU5cGxvaWVtZW50XHUyMDI2PC9zcGFuPjwvc3Bhbj5gXG4gICAgICAgICAgICA6ICdEXHUwMEU5cGxveWVyIG1haW50ZW5hbnQnO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBwb3B1bGF0ZUZvcm0gPSAoY29uZmlnKSA9PiB7XG4gICAgICBwcm90b2NvbFNlbGVjdCAmJiAocHJvdG9jb2xTZWxlY3QudmFsdWUgPSBjb25maWcucHJvdG9jb2wgfHwgJ3NmdHAnKTtcbiAgICAgIGhvc3RJbnB1dCAmJiAoaG9zdElucHV0LnZhbHVlID0gY29uZmlnLmhvc3QgfHwgJycpO1xuICAgICAgcG9ydElucHV0ICYmIChwb3J0SW5wdXQudmFsdWUgPSBjb25maWcucG9ydCB8fCAnJyk7XG4gICAgICB1c2VySW5wdXQgJiYgKHVzZXJJbnB1dC52YWx1ZSA9IGNvbmZpZy51c2VyIHx8ICcnKTtcbiAgICAgIHJlbW90ZVBhdGhJbnB1dCAmJiAocmVtb3RlUGF0aElucHV0LnZhbHVlID0gY29uZmlnLnJlbW90ZVBhdGggfHwgJy93d3cnKTtcbiAgICAgIGhhc1Bhc3N3b3JkID0gQm9vbGVhbihjb25maWcuaGFzUGFzc3dvcmQpO1xuICAgICAgaWYgKHBhc3N3b3JkSW5wdXQpIHtcbiAgICAgICAgcGFzc3dvcmRJbnB1dC52YWx1ZSA9ICcnO1xuICAgICAgICBwYXNzd29yZElucHV0LnBsYWNlaG9sZGVyID0gaGFzUGFzc3dvcmQgPyAnTm9uIGFmZmljaFx1MDBFOScgOiAnTW90IGRlIHBhc3NlJztcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgcmVuZGVySGlzdG9yeSA9IChlbnRyaWVzID0gW10pID0+IHtcbiAgICAgIGlmICghaGlzdG9yeUxpc3QpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaGlzdG9yeUxpc3QuaW5uZXJIVE1MID0gJyc7XG4gICAgICBpZiAoIWVudHJpZXMubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgbGkuY2xhc3NOYW1lID0gJ3RleHQtc2xhdGUtNTAwJztcbiAgICAgICAgbGkudGV4dENvbnRlbnQgPSAnQXVjdW4gZFx1MDBFOXBsb2llbWVudCBwb3VyIGxlIG1vbWVudC4nO1xuICAgICAgICBoaXN0b3J5TGlzdC5hcHBlbmRDaGlsZChsaSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGVudHJpZXMuZm9yRWFjaCgoZW50cnkpID0+IHtcbiAgICAgICAgY29uc3QgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgICBsaS5jbGFzc05hbWUgPVxuICAgICAgICAgICdmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gZ2FwLTIgcm91bmRlZC14bCBib3JkZXIgYm9yZGVyLXNsYXRlLTIwMCBweC0zIHB5LTInO1xuICAgICAgICBjb25zdCBzdGF0dXNCYWRnZSA9XG4gICAgICAgICAgZW50cnkuc3RhdHVzID09PSAnc3VjY2VzcydcbiAgICAgICAgICAgID8gJzxzcGFuIGNsYXNzPVwicm91bmRlZC1mdWxsIGJnLWVtZXJhbGQtNTAgcHgtMiBweS0wLjUgdGV4dC1bMTFweF0gZm9udC1zZW1pYm9sZCB0ZXh0LWVtZXJhbGQtNzAwXCI+U3VjY1x1MDBFOHM8L3NwYW4+J1xuICAgICAgICAgICAgOiAnPHNwYW4gY2xhc3M9XCJyb3VuZGVkLWZ1bGwgYmctcm9zZS01MCBweC0yIHB5LTAuNSB0ZXh0LVsxMXB4XSBmb250LXNlbWlib2xkIHRleHQtcm9zZS03MDBcIj5cdTAwQzljaGVjPC9zcGFuPic7XG4gICAgICAgIGNvbnN0IGRhdGUgPSBlbnRyeS5maW5pc2hlZEF0IHx8IGVudHJ5LnN0YXJ0ZWRBdCB8fCAnJztcbiAgICAgICAgY29uc3QgZHVyYXRpb24gPVxuICAgICAgICAgIGVudHJ5LmR1cmF0aW9uTXMgJiYgTnVtYmVyKGVudHJ5LmR1cmF0aW9uTXMpID49IDBcbiAgICAgICAgICAgID8gYCR7TWF0aC5yb3VuZChOdW1iZXIoZW50cnkuZHVyYXRpb25NcykgLyAxMDAwKX1zYFxuICAgICAgICAgICAgOiAnJztcbiAgICAgICAgbGkuaW5uZXJIVE1MID0gYFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJzcGFjZS15LTFcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPiR7c3RhdHVzQmFkZ2V9PHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNTAwXCI+JHtkYXRlfTwvc3Bhbj48L2Rpdj5cbiAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1zbSB0ZXh0LXNsYXRlLTgwMFwiPiR7ZW50cnkubWVzc2FnZSB8fCAnJ308L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInRleHQteHMgdGV4dC1zbGF0ZS01MDBcIj4ke2R1cmF0aW9ufTwvZGl2PlxuICAgICAgICBgO1xuICAgICAgICBsaS5kYXRhc2V0LmRlcGxveUlkID0gZW50cnkuaWQgfHwgJyc7XG4gICAgICAgIGxpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgIGlmIChlbnRyeS5sb2dzICYmIGxvZ0JveCkge1xuICAgICAgICAgICAgbG9nQm94LnRleHRDb250ZW50ID0gZW50cnkubG9ncy5qb2luKCdcXG4nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBoaXN0b3J5TGlzdC5hcHBlbmRDaGlsZChsaSk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgcmVuZGVyTG9ncyA9IChsaW5lcyA9IFtdKSA9PiB7XG4gICAgICBpZiAoIWxvZ0JveCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBsb2dCb3gudGV4dENvbnRlbnQgPSBsaW5lcy5sZW5ndGggPyBsaW5lcy5qb2luKCdcXG4nKSA6ICdBdWN1biBsb2cgcG91ciBsZSBtb21lbnQuJztcbiAgICB9O1xuXG4gICAgY29uc3QgZmV0Y2hIaXN0b3J5ID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFkZXBsb3lMb2dBcGkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChkZXBsb3lMb2dBcGksIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICAgICAgICByZW5kZXJIaXN0b3J5KFtdKTtcbiAgICAgICAgICAgIHJlbmRlckxvZ3MoWydBUEkgZFx1MDBFOXBsb2llbWVudCBpbmRpc3BvbmlibGUgKHJlZFx1MDBFOW1hcnJlIGxlIHNlcnZldXIpLiddKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbFx1MjAxOWhpc3RvcmlxdWUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgY29uc3QgZW50cmllcyA9IEFycmF5LmlzQXJyYXkocGF5bG9hZC5lbnRyaWVzKSA/IHBheWxvYWQuZW50cmllcyA6IFtdO1xuICAgICAgICByZW5kZXJIaXN0b3J5KGVudHJpZXMpO1xuICAgICAgICBpZiAoZW50cmllc1swXT8ubG9ncykge1xuICAgICAgICAgIHJlbmRlckxvZ3MoZW50cmllc1swXS5sb2dzKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkZXBsb3ldIGhpc3RvcnkgZmFpbGVkJywgZXJyKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgZmV0Y2hDb25maWcgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWRlcGxveUFwaUJhc2UpIHtcbiAgICAgICAgc2V0RmVlZGJhY2soJ0F1Y3VuIHNpdGUgYWN0aWYgc1x1MDBFOWxlY3Rpb25uXHUwMEU5LicsICdlcnJvcicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZXRCdXN5KCdsb2FkJyk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGRlcGxveUFwaUJhc2UsIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xuICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBwb3B1bGF0ZUZvcm0ocGF5bG9hZCB8fCB7fSk7XG4gICAgICAgICAgc2V0RmVlZGJhY2soJ0NvbmZpZ3VyYXRpb24gY2hhcmdcdTAwRTllLicsICdtdXRlZCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBvcHVsYXRlRm9ybShwYXlsb2FkIHx8IHt9KTtcbiAgICAgICAgICBzZXRGZWVkYmFjayhwYXlsb2FkLm1lc3NhZ2UgfHwgJ0NvbmZpZ3VyYXRpb24gcGFyIGRcdTAwRTlmYXV0IGNoYXJnXHUwMEU5ZS4nLCAnbXV0ZWQnKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkZXBsb3ldIGxvYWQgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2V0RmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGR1IGNoYXJnZW1lbnQuJywgJ2Vycm9yJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZXRCdXN5KG51bGwpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBidWlsZFBheWxvYWQgPSAoKSA9PiB7XG4gICAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICBwcm90b2NvbDogcHJvdG9jb2xTZWxlY3Q/LnZhbHVlIHx8ICdzZnRwJyxcbiAgICAgICAgaG9zdDogaG9zdElucHV0Py52YWx1ZS50cmltKCkgfHwgJycsXG4gICAgICAgIHBvcnQ6IE51bWJlcihwb3J0SW5wdXQ/LnZhbHVlKSB8fCB1bmRlZmluZWQsXG4gICAgICAgIHVzZXI6IHVzZXJJbnB1dD8udmFsdWUudHJpbSgpIHx8ICcnLFxuICAgICAgICByZW1vdGVQYXRoOiBzYW5pdGl6ZVJlbW90ZVBhdGgocmVtb3RlUGF0aElucHV0Py52YWx1ZSB8fCAnL3d3dycpLFxuICAgICAgfTtcbiAgICAgIGNvbnN0IHB3ZCA9IHBhc3N3b3JkSW5wdXQ/LnZhbHVlIHx8ICcnO1xuICAgICAgaWYgKHB3ZC50cmltKCkubGVuZ3RoID4gMCkge1xuICAgICAgICBwYXlsb2FkLnBhc3N3b3JkID0gcHdkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfTtcblxuICAgIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKCFkZXBsb3lBcGlCYXNlKSB7XG4gICAgICAgIHNldEZlZWRiYWNrKCdBdWN1biBzaXRlIGFjdGlmIHNcdTAwRTlsZWN0aW9ublx1MDBFOS4nLCAnZXJyb3InKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgcGF5bG9hZCA9IGJ1aWxkUGF5bG9hZCgpO1xuICAgICAgc2V0QnVzeSgnc2F2ZScpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChkZXBsb3lBcGlCYXNlLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBjb25zdCBlcnJvclBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yUGF5bG9hZC5tZXNzYWdlIHx8ICdTYXV2ZWdhcmRlIGltcG9zc2libGUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2F2ZWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIHBvcHVsYXRlRm9ybShzYXZlZCB8fCB7fSk7XG4gICAgICAgIHNldEZlZWRiYWNrKCdDb25maWd1cmF0aW9uIGVucmVnaXN0clx1MDBFOWUuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgc2hvd1RvYXN0KCdDb25maWd1cmF0aW9uIGRcdTAwRTlwbG9pZW1lbnQgc2F1dmVnYXJkXHUwMEU5ZScpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkZXBsb3ldIHNhdmUgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2V0RmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGRlIGxhIHNhdXZlZ2FyZGUuJywgJ2Vycm9yJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZXRCdXN5KG51bGwpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGVzdEJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWRlcGxveUFwaUJhc2UpIHtcbiAgICAgICAgc2V0RmVlZGJhY2soJ0F1Y3VuIHNpdGUgYWN0aWYgc1x1MDBFOWxlY3Rpb25uXHUwMEU5LicsICdlcnJvcicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBwYXlsb2FkID0gYnVpbGRQYXlsb2FkKCk7XG4gICAgICBpZiAoIXBheWxvYWQuaG9zdCB8fCAhcGF5bG9hZC51c2VyIHx8ICFwYXlsb2FkLnJlbW90ZVBhdGgpIHtcbiAgICAgICAgc2V0RmVlZGJhY2soJ1JlbXBsaXNzZXogbGVzIGNoYW1wcyByZXF1aXMgYXZhbnQgZGUgdGVzdGVyLicsICdlcnJvcicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZXRCdXN5KCd0ZXN0Jyk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke2RlcGxveUFwaUJhc2V9L3Rlc3RgLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2sgfHwgcmVzdWx0LnN1Y2Nlc3MgPT09IGZhbHNlKSB7XG4gICAgICAgICAgc2V0RmVlZGJhY2socmVzdWx0Lm1lc3NhZ2UgfHwgJ1Rlc3QgZGUgY29ubmV4aW9uIFx1MDBFOWNob3VcdTAwRTkuJywgJ2Vycm9yJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNldEZlZWRiYWNrKHJlc3VsdC5tZXNzYWdlIHx8ICdDb25uZXhpb24gT0suJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgc2hvd1RvYXN0KCdUZXN0IGRlIGNvbm5leGlvbiByXHUwMEU5dXNzaScpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkZXBsb3ldIHRlc3QgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2V0RmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ1Rlc3QgZGUgY29ubmV4aW9uIFx1MDBFOWNob3VcdTAwRTkuJywgJ2Vycm9yJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZXRCdXN5KG51bGwpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgZGVwbG95QnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghZGVwbG95UnVuQXBpKSB7XG4gICAgICAgIHNldEZlZWRiYWNrKCdBdWN1biBzaXRlIGFjdGlmIHNcdTAwRTlsZWN0aW9ublx1MDBFOS4nLCAnZXJyb3InKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2V0QnVzeSgnZGVwbG95Jyk7XG4gICAgICByZW5kZXJMb2dzKFsnRFx1MDBFOXBsb2llbWVudCBlbiBjb3Vyc1x1MjAyNiddKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goZGVwbG95UnVuQXBpLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYnVpbGRQYXlsb2FkKCkpLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICAgICAgICBzZXRGZWVkYmFjaygnQVBJIGRcdTAwRTlwbG9pZW1lbnQgaW5kaXNwb25pYmxlIChyZWRcdTAwRTltYXJyZSBsZSBzZXJ2ZXVyKS4nLCAnZXJyb3InKTtcbiAgICAgICAgICAgIHJlbmRlckxvZ3MoWydBUEkgZFx1MDBFOXBsb2llbWVudCBpbmRpc3BvbmlibGUgKHJlZFx1MDBFOW1hcnJlIGxlIHNlcnZldXIpLiddKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVuZGVyTG9ncyhyZXN1bHQubG9ncyB8fCBbXSk7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5tZXNzYWdlIHx8ICdEXHUwMEU5cGxvaWVtZW50IFx1MDBFOWNob3VcdTAwRTkuJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmVuZGVyTG9ncyhyZXN1bHQubG9ncyB8fCBbXSk7XG4gICAgICAgIGF3YWl0IGZldGNoSGlzdG9yeSgpO1xuICAgICAgICBzaG93VG9hc3QoJ0RcdTAwRTlwbG9pZW1lbnQgdGVybWluXHUwMEU5Jyk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2RlcGxveV0gcnVuIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNldEZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdEXHUwMEU5cGxvaWVtZW50IFx1MDBFOWNob3VcdTAwRTkuJywgJ2Vycm9yJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZXRCdXN5KG51bGwpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgc2hvd1Bhc3N3b3JkVG9nZ2xlPy5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgICBpZiAoIXBhc3N3b3JkSW5wdXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcGFzc3dvcmRJbnB1dC50eXBlID0gc2hvd1Bhc3N3b3JkVG9nZ2xlLmNoZWNrZWQgPyAndGV4dCcgOiAncGFzc3dvcmQnO1xuICAgIH0pO1xuXG4gICAgZmV0Y2hDb25maWcoKTtcbiAgICBmZXRjaEhpc3RvcnkoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXRTZXR0aW5nc1dvcmtzcGFjZSgpIHtcbiAgICBjb25zdCB0YWJCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtc2V0dGluZ3MtdGFiXScpO1xuICAgIGNvbnN0IHRhYlBhbmVscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXNldHRpbmdzLXBhbmVsXScpO1xuICAgIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZG1pbi1wYXNzd29yZC1mb3JtXScpO1xuICAgIGNvbnN0IHNpdGVGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS1jb25maWctZm9ybV0nKTtcbiAgICBjb25zdCBzaXRlRmVlZGJhY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLWNvbmZpZy1mZWVkYmFja10nKTtcbiAgICBjb25zdCB0aGVtZUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1mb3JtXScpO1xuICAgIGNvbnN0IHN3aXRjaFRhYiA9IChuYW1lKSA9PiB7XG4gICAgICB0YWJCdXR0b25zLmZvckVhY2goKGJ0bikgPT4ge1xuICAgICAgICBjb25zdCBpc0FjdGl2ZSA9IGJ0bi5kYXRhc2V0LnNldHRpbmdzVGFiID09PSBuYW1lO1xuICAgICAgICBidG4uc2V0QXR0cmlidXRlKCdhcmlhLXNlbGVjdGVkJywgaXNBY3RpdmUgPyAndHJ1ZScgOiAnZmFsc2UnKTtcbiAgICAgICAgYnRuLmNsYXNzTGlzdC50b2dnbGUoJ2JnLVsjOUM2QkZGXScsIGlzQWN0aXZlKTtcbiAgICAgICAgYnRuLmNsYXNzTGlzdC50b2dnbGUoJ3RleHQtd2hpdGUnLCBpc0FjdGl2ZSk7XG4gICAgICB9KTtcbiAgICAgIHRhYlBhbmVscy5mb3JFYWNoKChwYW5lbCkgPT4ge1xuICAgICAgICBwYW5lbC5jbGFzc0xpc3QudG9nZ2xlKCdoaWRkZW4nLCBwYW5lbC5kYXRhc2V0LnNldHRpbmdzUGFuZWwgIT09IG5hbWUpO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICB0YWJCdXR0b25zLmZvckVhY2goKGJ0bikgPT4ge1xuICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gc3dpdGNoVGFiKGJ0bi5kYXRhc2V0LnNldHRpbmdzVGFiIHx8ICdhY2NvdW50JykpO1xuICAgIH0pO1xuICAgIHN3aXRjaFRhYignYWNjb3VudCcpO1xuXG4gICAgaWYgKCFmb3JtKSB7XG4gICAgICAvLyBzdGlsbCBhbGxvdyBzaXRlIGZvcm0gZXZlbiBpZiBwYXNzd29yZCBmb3JtIGFic2VudFxuICAgIH1cbiAgICBpZiAoZm9ybSkge1xuICAgICAgY29uc3QgZmVlZGJhY2sgPSBmb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFkbWluLXBhc3N3b3JkLWZlZWRiYWNrXScpO1xuICAgICAgY29uc3Qgc3VibWl0ID0gZm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZG1pbi1wYXNzd29yZC1zdWJtaXRdJyk7XG4gICAgICBjb25zdCBzZXRGZWVkYmFjayA9IChtZXNzYWdlLCB0b25lID0gJ211dGVkJykgPT4ge1xuICAgICAgICBpZiAoIWZlZWRiYWNrKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGNvbG9yID1cbiAgICAgICAgICB0b25lID09PSAnc3VjY2VzcydcbiAgICAgICAgICAgID8gJ3RleHQtZW1lcmFsZC02MDAnXG4gICAgICAgICAgICA6IHRvbmUgPT09ICdlcnJvcidcbiAgICAgICAgICAgICAgPyAndGV4dC1yb3NlLTYwMCdcbiAgICAgICAgICAgICAgOiAndGV4dC1zbGF0ZS01MDAnO1xuICAgICAgICBmZWVkYmFjay50ZXh0Q29udGVudCA9IG1lc3NhZ2UgfHwgJyc7XG4gICAgICAgIGZlZWRiYWNrLmNsYXNzTmFtZSA9IGB0ZXh0LXNtICR7Y29sb3J9YDtcbiAgICAgIH07XG4gICAgICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YShmb3JtKTtcbiAgICAgICAgY29uc3QgY3VycmVudFBhc3N3b3JkID0gZm9ybURhdGEuZ2V0KCdjdXJyZW50UGFzc3dvcmQnKSB8fCAnJztcbiAgICAgICAgY29uc3QgbmV3UGFzc3dvcmQgPSBmb3JtRGF0YS5nZXQoJ25ld1Bhc3N3b3JkJykgfHwgJyc7XG4gICAgICAgIGNvbnN0IGNvbmZpcm1QYXNzd29yZCA9IGZvcm1EYXRhLmdldCgnY29uZmlybVBhc3N3b3JkJykgfHwgJyc7XG4gICAgICAgIGlmICghY3VycmVudFBhc3N3b3JkIHx8ICFuZXdQYXNzd29yZCB8fCAhY29uZmlybVBhc3N3b3JkKSB7XG4gICAgICAgICAgc2V0RmVlZGJhY2soJ0NvbXBsXHUwMEU4dGUgdG91cyBsZXMgY2hhbXBzLicsICdlcnJvcicpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzdWJtaXQgJiYgKHN1Ym1pdC5kaXNhYmxlZCA9IHRydWUpO1xuICAgICAgICBzZXRGZWVkYmFjaygnJyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9hZG1pbi9wYXNzd29yZCcsIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGN1cnJlbnRQYXNzd29yZCwgbmV3UGFzc3dvcmQsIGNvbmZpcm1QYXNzd29yZCB9KSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2sgfHwgcGF5bG9hZC5zdWNjZXNzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHBheWxvYWQubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBtZXR0cmUgXHUwMEUwIGpvdXIgbGUgbW90IGRlIHBhc3NlLicpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXRGZWVkYmFjayhwYXlsb2FkLm1lc3NhZ2UgfHwgJ01vdCBkZSBwYXNzZSBtaXMgXHUwMEUwIGpvdXIuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgICBmb3JtLnJlc2V0KCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gY2hhbmdlIHBhc3N3b3JkIGZhaWxlZCcsIGVycik7XG4gICAgICAgICAgc2V0RmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGRlIGxhIG1pc2UgXHUwMEUwIGpvdXIuJywgJ2Vycm9yJyk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgc3VibWl0ICYmIChzdWJtaXQuZGlzYWJsZWQgPSBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChzaXRlRm9ybSkge1xuICAgICAgY29uc3QgbmFtZUlucHV0ID0gc2l0ZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS1uYW1lXScpO1xuICAgICAgY29uc3QgbGFuZ1NlbGVjdCA9IHNpdGVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtbGFuZ3VhZ2VdJyk7XG4gICAgICBjb25zdCB0YWdsaW5lSW5wdXQgPSBzaXRlRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLXRhZ2xpbmVdJyk7XG4gICAgICBjb25zdCBzYXZlQnV0dG9uID0gc2l0ZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS1zYXZlXScpO1xuICAgICAgY29uc3Qgc2V0U2l0ZUZlZWRiYWNrID0gKG1lc3NhZ2UsIHRvbmUgPSAnbXV0ZWQnKSA9PiB7XG4gICAgICAgIGlmICghc2l0ZUZlZWRiYWNrKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGNvbG9yID1cbiAgICAgICAgICB0b25lID09PSAnc3VjY2VzcydcbiAgICAgICAgICAgID8gJ3RleHQtZW1lcmFsZC02MDAnXG4gICAgICAgICAgICA6IHRvbmUgPT09ICdlcnJvcidcbiAgICAgICAgICAgICAgPyAndGV4dC1yb3NlLTYwMCdcbiAgICAgICAgICAgICAgOiAndGV4dC1zbGF0ZS01MDAnO1xuICAgICAgICBzaXRlRmVlZGJhY2sudGV4dENvbnRlbnQgPSBtZXNzYWdlIHx8ICcnO1xuICAgICAgICBzaXRlRmVlZGJhY2suY2xhc3NOYW1lID0gYHRleHQtc20gJHtjb2xvcn1gO1xuICAgICAgfTtcblxuICAgICAgY29uc3Qgc2FmZVNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goXG4gICAgICAgIHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJycsXG4gICAgICApO1xuICAgICAgY29uc3Qgc2l0ZUNvbmZpZ0FwaSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Zyl9L2NvbmZpZy9zaXRlYFxuICAgICAgICA6IG51bGw7XG5cbiAgICAgIGNvbnN0IGxvYWRTaXRlQ29uZmlnID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoIXNpdGVDb25maWdBcGkpIHJldHVybjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHNpdGVDb25maWdBcGksIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHJldHVybjtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIGlmIChuYW1lSW5wdXQpIG5hbWVJbnB1dC52YWx1ZSA9IHBheWxvYWQubmFtZSB8fCAnJztcbiAgICAgICAgICBpZiAobGFuZ1NlbGVjdCkgbGFuZ1NlbGVjdC52YWx1ZSA9IHBheWxvYWQubGFuZ3VhZ2UgfHwgJ2ZyJztcbiAgICAgICAgICBpZiAodGFnbGluZUlucHV0KSB0YWdsaW5lSW5wdXQudmFsdWUgPSBwYXlsb2FkLnRhZ2xpbmUgfHwgJyc7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gbG9hZCBzaXRlIGNvbmZpZyBmYWlsZWQnLCBlcnIpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBzaXRlRm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKCFzaXRlQ29uZmlnQXBpKSB7XG4gICAgICAgICAgc2V0U2l0ZUZlZWRiYWNrKCdBdWN1biBzaXRlIGFjdGlmLicsICdlcnJvcicpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW5hbWVJbnB1dD8udmFsdWUudHJpbSgpKSB7XG4gICAgICAgICAgc2V0U2l0ZUZlZWRiYWNrKCdOb20gcmVxdWlzLicsICdlcnJvcicpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzYXZlQnV0dG9uICYmIChzYXZlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZSk7XG4gICAgICAgIHNldFNpdGVGZWVkYmFjaygnJyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgICAgIG5hbWU6IG5hbWVJbnB1dD8udmFsdWUgfHwgJycsXG4gICAgICAgICAgICBsYW5ndWFnZTogbGFuZ1NlbGVjdD8udmFsdWUgfHwgJ2ZyJyxcbiAgICAgICAgICAgIHRhZ2xpbmU6IHRhZ2xpbmVJbnB1dD8udmFsdWUgfHwgJycsXG4gICAgICAgICAgfTtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHNpdGVDb25maWdBcGksIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rIHx8IHJlc3VsdC5zdWNjZXNzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5tZXNzYWdlIHx8ICdTYXV2ZWdhcmRlIGltcG9zc2libGUuJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNldFNpdGVGZWVkYmFjayhyZXN1bHQubWVzc2FnZSB8fCAnUGFyYW1cdTAwRTh0cmVzIGVucmVnaXN0clx1MDBFOXMuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3NldHRpbmdzXSBzYXZlIHNpdGUgY29uZmlnIGZhaWxlZCcsIGVycik7XG4gICAgICAgICAgc2V0U2l0ZUZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsYSBzYXV2ZWdhcmRlLicsICdlcnJvcicpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIHNhdmVCdXR0b24gJiYgKHNhdmVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBsb2FkU2l0ZUNvbmZpZygpO1xuICAgIH1cblxuICAgIGlmICh0aGVtZUZvcm0pIHtcbiAgICAgIGNvbnN0IHNhZmVTaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKFxuICAgICAgICB3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnLFxuICAgICAgKTtcbiAgICAgIGNvbnN0IHRoZW1lQXBpID0gc2FmZVNpdGVTbHVnXG4gICAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnKX0vY29uZmlnL3RoZW1lYFxuICAgICAgICA6IG51bGw7XG5cbiAgICAgIGNvbnN0IGNvbG9yU2VsZWN0cyA9IHtcbiAgICAgICAgcHJpbWFyeTogdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLXByaW1hcnldJyksXG4gICAgICAgIHNlY29uZGFyeTogdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLXNlY29uZGFyeV0nKSxcbiAgICAgICAgYWNjZW50OiB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtYWNjZW50XScpLFxuICAgICAgICBiYWNrZ3JvdW5kOiB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtYmFja2dyb3VuZF0nKSxcbiAgICAgICAgdGV4dDogdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLXRleHRdJyksXG4gICAgICB9O1xuICAgICAgY29uc3QgaGVhZGluZ1NlbGVjdCA9IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1oZWFkaW5nc10nKTtcbiAgICAgIGNvbnN0IGJvZHlTZWxlY3QgPSB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtYm9keV0nKTtcbiAgICAgIGNvbnN0IHJhZGl1c1NtYWxsID0gdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLXJhZGl1cy1zbWFsbF0nKTtcbiAgICAgIGNvbnN0IHJhZGl1c01lZGl1bSA9IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1yYWRpdXMtbWVkaXVtXScpO1xuICAgICAgY29uc3QgcmFkaXVzTGFyZ2UgPSB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtcmFkaXVzLWxhcmdlXScpO1xuICAgICAgY29uc3QgcHJldmlldyA9IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1wcmV2aWV3XScpO1xuICAgICAgY29uc3QgdGhlbWVGZWVkYmFjayA9IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1mZWVkYmFja10nKTtcbiAgICAgIGNvbnN0IGFwcGx5QnV0dG9uID0gdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLWFwcGx5XScpO1xuICAgICAgY29uc3QgdGFpbHdpbmRIdWVzID0gW1xuICAgICAgICAnc2xhdGUnLCdncmF5JywnemluYycsJ25ldXRyYWwnLCdzdG9uZScsJ3JlZCcsJ29yYW5nZScsJ2FtYmVyJywneWVsbG93JywnbGltZScsJ2dyZWVuJywnZW1lcmFsZCcsJ3RlYWwnLCdjeWFuJywnc2t5JywnYmx1ZScsJ2luZGlnbycsJ3Zpb2xldCcsJ3B1cnBsZScsJ2Z1Y2hzaWEnLCdwaW5rJywncm9zZSdcbiAgICAgIF07XG4gICAgICBjb25zdCB0YWlsd2luZFNoYWRlcyA9IFsnNTAnLCcxMDAnLCcyMDAnLCczMDAnLCc0MDAnLCc1MDAnLCc2MDAnLCc3MDAnLCc4MDAnLCc5MDAnXTtcbiAgICAgIGNvbnN0IHRhaWx3aW5kVG9rZW5zID0gdGFpbHdpbmRIdWVzLmZsYXRNYXAoKGgpPT50YWlsd2luZFNoYWRlcy5tYXAoKHMpPT5gJHtofS0ke3N9YCkpO1xuXG4gICAgICBjb25zdCBmaWxsQ29sb3JPcHRpb25zID0gKCkgPT4ge1xuICAgICAgICBPYmplY3QudmFsdWVzKGNvbG9yU2VsZWN0cykuZm9yRWFjaCgoc2VsKT0+e1xuICAgICAgICAgIGlmICghc2VsIHx8IHNlbC5vcHRpb25zLmxlbmd0aCkgcmV0dXJuO1xuICAgICAgICAgIHRhaWx3aW5kVG9rZW5zLmZvckVhY2goKHRva2VuKT0+e1xuICAgICAgICAgICAgY29uc3Qgb3B0aW9uPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICAgICAgb3B0aW9uLnZhbHVlPXRva2VuO1xuICAgICAgICAgICAgY29uc3QgW2gsc109dG9rZW4uc3BsaXQoJy0nKTtcbiAgICAgICAgICAgIG9wdGlvbi50ZXh0Q29udGVudD1gJHtoLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2guc2xpY2UoMSl9ICR7c31gO1xuICAgICAgICAgICAgc2VsLmFwcGVuZENoaWxkKG9wdGlvbik7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcblxuICAgICAgY29uc3Qgc2V0VGhlbWVGZWVkYmFjayA9IChtZXNzYWdlLCB0b25lID0gJ211dGVkJykgPT4ge1xuICAgICAgICBpZiAoIXRoZW1lRmVlZGJhY2spIHJldHVybjtcbiAgICAgICAgY29uc3QgY29sb3IgPVxuICAgICAgICAgIHRvbmUgPT09ICdzdWNjZXNzJ1xuICAgICAgICAgICAgPyAndGV4dC1lbWVyYWxkLTYwMCdcbiAgICAgICAgICAgIDogdG9uZSA9PT0gJ2Vycm9yJ1xuICAgICAgICAgICAgICA/ICd0ZXh0LXJvc2UtNjAwJ1xuICAgICAgICAgICAgICA6ICd0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICAgIHRoZW1lRmVlZGJhY2sudGV4dENvbnRlbnQgPSBtZXNzYWdlIHx8ICcnO1xuICAgICAgICB0aGVtZUZlZWRiYWNrLmNsYXNzTmFtZSA9IGB0ZXh0LXNtICR7Y29sb3J9YDtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHN5bmNQcmV2aWV3ID0gKCkgPT4ge1xuICAgICAgICBpZiAoIXByZXZpZXcpIHJldHVybjtcbiAgICAgICAgY29uc3QgdG9rZW5Ub0hleCA9ICh0b2tlbikgPT4ge1xuICAgICAgICAgIGlmICghdG9rZW4pIHJldHVybiBudWxsO1xuICAgICAgICAgIGNvbnN0IFtoLHNdPXRva2VuLnNwbGl0KCctJyk7XG4gICAgICAgICAgY29uc3QgbWFwID0ge1xuICAgICAgICAgICAgc2xhdGU6JyNlMmU4ZjAnLGdyYXk6JyNkMWQ1ZGInLHppbmM6JyNkNGQ0ZDgnLG5ldXRyYWw6JyNkNGQ0ZDQnLHN0b25lOicjZDZkM2QxJyxcbiAgICAgICAgICAgIHJlZDonI2VmNDQ0NCcsb3JhbmdlOicjZjk3MzE2JyxhbWJlcjonI2Y1OWUwYicseWVsbG93OicjZWFiMzA4JyxsaW1lOicjODRjYzE2JyxcbiAgICAgICAgICAgIGdyZWVuOicjMjJjNTVlJyxlbWVyYWxkOicjMTBiOTgxJyx0ZWFsOicjMTRiOGE2JyxjeWFuOicjMDZiNmQ0Jyxza3k6JyMwZWE1ZTknLFxuICAgICAgICAgICAgYmx1ZTonIzNiODJmNicsaW5kaWdvOicjNjM2NmYxJyx2aW9sZXQ6JyM4YjVjZjYnLHB1cnBsZTonI2E4NTVmNycsZnVjaHNpYTonI2Q5NDZlZicsXG4gICAgICAgICAgICBwaW5rOicjZWM0ODk5Jyxyb3NlOicjZjQzZjVlJ1xuICAgICAgICAgIH07XG4gICAgICAgICAgY29uc3QgYmFzZT1tYXBbaF07XG4gICAgICAgICAgaWYgKCFiYXNlKSByZXR1cm4gbnVsbDtcbiAgICAgICAgICAvLyByb3VnaCBzaGFkZSB0d2VhayB1c2luZyBvcGFjaXR5OyBub3QgZXhhY3QgVGFpbHdpbmQgcGFsZXR0ZSBidXQgcHJldmlldy1mcmllbmRseVxuICAgICAgICAgIGNvbnN0IHNoYWRlTnVtPU51bWJlcihzKXx8NTAwO1xuICAgICAgICAgIGNvbnN0IGZhY3RvciA9IE1hdGgubWluKE1hdGgubWF4KChzaGFkZU51bS01MCkvOTAwLDApLDEpO1xuICAgICAgICAgIGNvbnN0IHRvUmdiPShoZXgpPT5oZXgubWF0Y2goL1tBLUZhLWYwLTldezJ9L2cpLm1hcCgodik9PnBhcnNlSW50KHYsMTYpKTtcbiAgICAgICAgICBjb25zdCBbcixnLGJdPXRvUmdiKGJhc2UucmVwbGFjZSgnIycsJycpKTtcbiAgICAgICAgICBjb25zdCBtaXg9KHYpPT5NYXRoLnJvdW5kKDI1NSAtICgyNTUgLSB2KSpmYWN0b3IpO1xuICAgICAgICAgIHJldHVybiBgcmdiKCR7bWl4KHIpfSwgJHttaXgoZyl9LCAke21peChiKX0pYDtcbiAgICAgICAgfTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1jb2xvci1wcmltYXJ5JywgdG9rZW5Ub0hleChjb2xvclNlbGVjdHMucHJpbWFyeT8udmFsdWUpIHx8ICcjOUM2QkZGJyk7XG4gICAgICAgIHByZXZpZXcuc3R5bGUuc2V0UHJvcGVydHkoJy0tY29sb3Itc2Vjb25kYXJ5JywgdG9rZW5Ub0hleChjb2xvclNlbGVjdHMuc2Vjb25kYXJ5Py52YWx1ZSkgfHwgJyMwRUE1RTknKTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1jb2xvci1hY2NlbnQnLCB0b2tlblRvSGV4KGNvbG9yU2VsZWN0cy5hY2NlbnQ/LnZhbHVlKSB8fCAnI0Y5NzMxNicpO1xuICAgICAgICBwcmV2aWV3LnN0eWxlLnNldFByb3BlcnR5KCctLWNvbG9yLWJhY2tncm91bmQnLCB0b2tlblRvSGV4KGNvbG9yU2VsZWN0cy5iYWNrZ3JvdW5kPy52YWx1ZSkgfHwgJyNGRkZGRkYnKTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1jb2xvci10ZXh0JywgdG9rZW5Ub0hleChjb2xvclNlbGVjdHMudGV4dD8udmFsdWUpIHx8ICcjMEYxNzJBJyk7XG4gICAgICAgIHByZXZpZXcuc3R5bGUuc2V0UHJvcGVydHkoJy0tZm9udC1oZWFkaW5ncycsIGhlYWRpbmdTZWxlY3Q/LnZhbHVlIHx8ICdJbnRlciwgc2Fucy1zZXJpZicpO1xuICAgICAgICBwcmV2aWV3LnN0eWxlLnNldFByb3BlcnR5KCctLWZvbnQtYm9keScsIGJvZHlTZWxlY3Q/LnZhbHVlIHx8ICdJbnRlciwgc2Fucy1zZXJpZicpO1xuICAgICAgICBwcmV2aWV3LnN0eWxlLnNldFByb3BlcnR5KCctLXJhZGl1cy1zbWFsbCcsIHJhZGl1c1NtYWxsPy52YWx1ZSB8fCAnOHB4Jyk7XG4gICAgICAgIHByZXZpZXcuc3R5bGUuc2V0UHJvcGVydHkoJy0tcmFkaXVzLW1lZGl1bScsIHJhZGl1c01lZGl1bT8udmFsdWUgfHwgJzE2cHgnKTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1yYWRpdXMtbGFyZ2UnLCByYWRpdXNMYXJnZT8udmFsdWUgfHwgJzI0cHgnKTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5ib3JkZXJSYWRpdXMgPSByYWRpdXNNZWRpdW0/LnZhbHVlIHx8ICcxNnB4JztcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHNldENvbG9yRmllbGRzID0gKGtleSwgdmFsdWUpID0+IHtcbiAgICAgICAgaWYgKGNvbG9yU2VsZWN0c1trZXldKSBjb2xvclNlbGVjdHNba2V5XS52YWx1ZSA9IHZhbHVlO1xuICAgICAgfTtcblxuICAgICAgT2JqZWN0LmtleXMoY29sb3JTZWxlY3RzKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgY29sb3JTZWxlY3RzW2tleV0/LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHN5bmNQcmV2aWV3KTtcbiAgICAgIH0pO1xuICAgICAgW2hlYWRpbmdTZWxlY3QsIGJvZHlTZWxlY3QsIHJhZGl1c1NtYWxsLCByYWRpdXNNZWRpdW0sIHJhZGl1c0xhcmdlXS5mb3JFYWNoKChlbCkgPT4ge1xuICAgICAgICBlbD8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgc3luY1ByZXZpZXcpO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGxvYWRUaGVtZSA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKCF0aGVtZUFwaSkgcmV0dXJuO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godGhlbWVBcGksIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHJldHVybjtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIHNldENvbG9yRmllbGRzKCdwcmltYXJ5JywgcGF5bG9hZC5jb2xvcnM/LnByaW1hcnkgfHwgJ3Zpb2xldC01MDAnKTtcbiAgICAgICAgICBzZXRDb2xvckZpZWxkcygnc2Vjb25kYXJ5JywgcGF5bG9hZC5jb2xvcnM/LnNlY29uZGFyeSB8fCAnaW5kaWdvLTQwMCcpO1xuICAgICAgICAgIHNldENvbG9yRmllbGRzKCdhY2NlbnQnLCBwYXlsb2FkLmNvbG9ycz8uYWNjZW50IHx8ICdlbWVyYWxkLTUwMCcpO1xuICAgICAgICAgIHNldENvbG9yRmllbGRzKCdiYWNrZ3JvdW5kJywgcGF5bG9hZC5jb2xvcnM/LmJhY2tncm91bmQgfHwgJ3NsYXRlLTUwJyk7XG4gICAgICAgICAgc2V0Q29sb3JGaWVsZHMoJ3RleHQnLCBwYXlsb2FkLmNvbG9ycz8udGV4dCB8fCAnc2xhdGUtOTAwJyk7XG4gICAgICAgICAgaWYgKGhlYWRpbmdTZWxlY3QpIGhlYWRpbmdTZWxlY3QudmFsdWUgPSBwYXlsb2FkLnR5cG9ncmFwaHk/LmhlYWRpbmdzIHx8ICdJbnRlciwgc2Fucy1zZXJpZic7XG4gICAgICAgICAgaWYgKGJvZHlTZWxlY3QpIGJvZHlTZWxlY3QudmFsdWUgPSBwYXlsb2FkLnR5cG9ncmFwaHk/LmJvZHkgfHwgJ0ludGVyLCBzYW5zLXNlcmlmJztcbiAgICAgICAgICBpZiAocmFkaXVzU21hbGwpIHJhZGl1c1NtYWxsLnZhbHVlID0gcGF5bG9hZC5yYWRpdXM/LnNtYWxsIHx8ICc4cHgnO1xuICAgICAgICAgIGlmIChyYWRpdXNNZWRpdW0pIHJhZGl1c01lZGl1bS52YWx1ZSA9IHBheWxvYWQucmFkaXVzPy5tZWRpdW0gfHwgJzE2cHgnO1xuICAgICAgICAgIGlmIChyYWRpdXNMYXJnZSkgcmFkaXVzTGFyZ2UudmFsdWUgPSBwYXlsb2FkLnJhZGl1cz8ubGFyZ2UgfHwgJzI0cHgnO1xuICAgICAgICAgIHN5bmNQcmV2aWV3KCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gbG9hZCB0aGVtZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBmaWxsQ29sb3JPcHRpb25zKCk7XG4gICAgICBhcHBseUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKCF0aGVtZUFwaSkge1xuICAgICAgICAgIHNldFRoZW1lRmVlZGJhY2soJ0F1Y3VuIHNpdGUgYWN0aWYuJywgJ2Vycm9yJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgICAgY29sb3JzOiB7XG4gICAgICAgICAgICBwcmltYXJ5OiBjb2xvclNlbGVjdHMucHJpbWFyeT8udmFsdWUgfHwgJ3Zpb2xldC01MDAnLFxuICAgICAgICAgICAgc2Vjb25kYXJ5OiBjb2xvclNlbGVjdHMuc2Vjb25kYXJ5Py52YWx1ZSB8fCAnaW5kaWdvLTQwMCcsXG4gICAgICAgICAgICBhY2NlbnQ6IGNvbG9yU2VsZWN0cy5hY2NlbnQ/LnZhbHVlIHx8ICdlbWVyYWxkLTUwMCcsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiBjb2xvclNlbGVjdHMuYmFja2dyb3VuZD8udmFsdWUgfHwgJ3NsYXRlLTUwJyxcbiAgICAgICAgICAgIHRleHQ6IGNvbG9yU2VsZWN0cy50ZXh0Py52YWx1ZSB8fCAnc2xhdGUtOTAwJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHR5cG9ncmFwaHk6IHtcbiAgICAgICAgICAgIGhlYWRpbmdzOiBoZWFkaW5nU2VsZWN0Py52YWx1ZSB8fCAnSW50ZXIsIHNhbnMtc2VyaWYnLFxuICAgICAgICAgICAgYm9keTogYm9keVNlbGVjdD8udmFsdWUgfHwgJ0ludGVyLCBzYW5zLXNlcmlmJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHJhZGl1czoge1xuICAgICAgICAgICAgc21hbGw6IHJhZGl1c1NtYWxsPy52YWx1ZSB8fCAnOHB4JyxcbiAgICAgICAgICAgIG1lZGl1bTogcmFkaXVzTWVkaXVtPy52YWx1ZSB8fCAnMTZweCcsXG4gICAgICAgICAgICBsYXJnZTogcmFkaXVzTGFyZ2U/LnZhbHVlIHx8ICcyNHB4JyxcbiAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgICBhcHBseUJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIHNldFRoZW1lRmVlZGJhY2soJycpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godGhlbWVBcGksIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rIHx8IHJlc3VsdC5zdWNjZXNzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5tZXNzYWdlIHx8ICdBcHBsaWNhdGlvbiBkdSB0aFx1MDBFOG1lIFx1MDBFOWNob3VcdTAwRTllLicpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXRUaGVtZUZlZWRiYWNrKHJlc3VsdC5tZXNzYWdlIHx8ICdUaFx1MDBFOG1lIGFwcGxpcXVcdTAwRTkuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgICBzeW5jUHJldmlldygpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIGFwcGx5IHRoZW1lIGZhaWxlZCcsIGVycik7XG4gICAgICAgICAgc2V0VGhlbWVGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZGUgbFx1MjAxOWFwcGxpY2F0aW9uIGR1IHRoXHUwMEU4bWUuJywgJ2Vycm9yJyk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgYXBwbHlCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGZpbGxDb2xvck9wdGlvbnMoKTtcbiAgICAgIGxvYWRUaGVtZSgpO1xuICAgICAgc3luY1ByZXZpZXcoKTtcbiAgICB9XG5cbiAgICAvLyBTRU8gQ29uZmlnIGZvcm0gKFVTOS5CMSlcbiAgICBjb25zdCBzZW9Db25maWdGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2VvLWNvbmZpZy1mb3JtXScpO1xuICAgIGlmIChzZW9Db25maWdGb3JtKSB7XG4gICAgICBjb25zdCBpbmRleEFsbENoZWNrYm94ID0gc2VvQ29uZmlnRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8taW5kZXgtYWxsXScpO1xuICAgICAgY29uc3Qgc2VvQ29uZmlnRmVlZGJhY2sgPSBzZW9Db25maWdGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby1jb25maWctZmVlZGJhY2tdJyk7XG4gICAgICBjb25zdCBzZW9TYXZlQnV0dG9uID0gc2VvQ29uZmlnRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8tc2F2ZV0nKTtcblxuICAgICAgY29uc3Qgc2FmZVNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goXG4gICAgICAgIHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJycsXG4gICAgICApO1xuICAgICAgY29uc3Qgc2l0ZUNvbmZpZ0FwaSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Zyl9L2NvbmZpZy9zaXRlYFxuICAgICAgICA6IG51bGw7XG5cbiAgICAgIGNvbnN0IHNldFNlb0ZlZWRiYWNrID0gKG1lc3NhZ2UsIHRvbmUgPSAnbXV0ZWQnKSA9PiB7XG4gICAgICAgIGlmICghc2VvQ29uZmlnRmVlZGJhY2spIHJldHVybjtcbiAgICAgICAgY29uc3QgY29sb3IgPVxuICAgICAgICAgIHRvbmUgPT09ICdzdWNjZXNzJ1xuICAgICAgICAgICAgPyAndGV4dC1lbWVyYWxkLTYwMCdcbiAgICAgICAgICAgIDogdG9uZSA9PT0gJ2Vycm9yJ1xuICAgICAgICAgICAgICA/ICd0ZXh0LXJvc2UtNjAwJ1xuICAgICAgICAgICAgICA6ICd0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICAgIHNlb0NvbmZpZ0ZlZWRiYWNrLnRleHRDb250ZW50ID0gbWVzc2FnZSB8fCAnJztcbiAgICAgICAgc2VvQ29uZmlnRmVlZGJhY2suY2xhc3NOYW1lID0gYHRleHQtc20gJHtjb2xvcn1gO1xuICAgICAgfTtcblxuICAgICAgY29uc3QgbG9hZFNlb0NvbmZpZyA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKCFzaXRlQ29uZmlnQXBpKSByZXR1cm47XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChzaXRlQ29uZmlnQXBpLCB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSByZXR1cm47XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICBjb25zdCBpbmRleEFsbCA9IHBheWxvYWQuc2VvPy5pbmRleEFsbFBhZ2VzQnlEZWZhdWx0ICE9PSBmYWxzZTtcbiAgICAgICAgICBpZiAoaW5kZXhBbGxDaGVja2JveCkgaW5kZXhBbGxDaGVja2JveC5jaGVja2VkID0gaW5kZXhBbGw7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gbG9hZCBzZW8gY29uZmlnIGZhaWxlZCcsIGVycik7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHNlb0NvbmZpZ0Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmICghc2l0ZUNvbmZpZ0FwaSkge1xuICAgICAgICAgIHNldFNlb0ZlZWRiYWNrKCdBdWN1biBzaXRlIGFjdGlmLicsICdlcnJvcicpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzZW9TYXZlQnV0dG9uICYmIChzZW9TYXZlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZSk7XG4gICAgICAgIHNldFNlb0ZlZWRiYWNrKCcnKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBGaXJzdCBsb2FkIGN1cnJlbnQgY29uZmlnIHRvIHByZXNlcnZlIG90aGVyIGZpZWxkc1xuICAgICAgICAgIGNvbnN0IGN1cnJlbnRSZXMgPSBhd2FpdCBmZXRjaChzaXRlQ29uZmlnQXBpLCB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcbiAgICAgICAgICBjb25zdCBjdXJyZW50Q29uZmlnID0gY3VycmVudFJlcy5vayA/IGF3YWl0IGN1cnJlbnRSZXMuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpIDoge307XG5cbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICAgICAgLi4uY3VycmVudENvbmZpZyxcbiAgICAgICAgICAgIHNlbzoge1xuICAgICAgICAgICAgICAuLi4oY3VycmVudENvbmZpZy5zZW8gfHwge30pLFxuICAgICAgICAgICAgICBpbmRleEFsbFBhZ2VzQnlEZWZhdWx0OiBpbmRleEFsbENoZWNrYm94Py5jaGVja2VkID8/IHRydWUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH07XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChzaXRlQ29uZmlnQXBpLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vayB8fCByZXN1bHQuc3VjY2VzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQubWVzc2FnZSB8fCAnU2F1dmVnYXJkZSBpbXBvc3NpYmxlLicpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXRTZW9GZWVkYmFjayhyZXN1bHQubWVzc2FnZSB8fCAnUGFyYW1cdTAwRTh0cmVzIFNFTyBlbnJlZ2lzdHJcdTAwRTlzLicsICdzdWNjZXNzJyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gc2F2ZSBzZW8gY29uZmlnIGZhaWxlZCcsIGVycik7XG4gICAgICAgICAgc2V0U2VvRmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGRlIGxhIHNhdXZlZ2FyZGUuJywgJ2Vycm9yJyk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgc2VvU2F2ZUJ1dHRvbiAmJiAoc2VvU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGxvYWRTZW9Db25maWcoKTtcbiAgICB9XG5cbiAgICAvLyBBbmFseXRpY3MgZm9ybSAoVVM5LkIyKVxuICAgIGNvbnN0IGFuYWx5dGljc0Zvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hbmFseXRpY3MtZm9ybV0nKTtcbiAgICBpZiAoYW5hbHl0aWNzRm9ybSkge1xuICAgICAgY29uc3QgaGVhZFRleHRhcmVhID0gYW5hbHl0aWNzRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hbmFseXRpY3MtaGVhZF0nKTtcbiAgICAgIGNvbnN0IGJvZHlUZXh0YXJlYSA9IGFuYWx5dGljc0Zvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYW5hbHl0aWNzLWJvZHldJyk7XG4gICAgICBjb25zdCBhbmFseXRpY3NGZWVkYmFjayA9IGFuYWx5dGljc0Zvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYW5hbHl0aWNzLWZlZWRiYWNrXScpO1xuICAgICAgY29uc3QgYW5hbHl0aWNzU2F2ZUJ1dHRvbiA9IGFuYWx5dGljc0Zvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYW5hbHl0aWNzLXNhdmVdJyk7XG5cbiAgICAgIGNvbnN0IHNhZmVTaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKFxuICAgICAgICB3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnLFxuICAgICAgKTtcbiAgICAgIGNvbnN0IHNpdGVDb25maWdBcGkgPSBzYWZlU2l0ZVNsdWdcbiAgICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9jb25maWcvc2l0ZWBcbiAgICAgICAgOiBudWxsO1xuXG4gICAgICBjb25zdCBzZXRBbmFseXRpY3NGZWVkYmFjayA9IChtZXNzYWdlLCB0b25lID0gJ211dGVkJykgPT4ge1xuICAgICAgICBpZiAoIWFuYWx5dGljc0ZlZWRiYWNrKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGNvbG9yID1cbiAgICAgICAgICB0b25lID09PSAnc3VjY2VzcydcbiAgICAgICAgICAgID8gJ3RleHQtZW1lcmFsZC02MDAnXG4gICAgICAgICAgICA6IHRvbmUgPT09ICdlcnJvcidcbiAgICAgICAgICAgICAgPyAndGV4dC1yb3NlLTYwMCdcbiAgICAgICAgICAgICAgOiAndGV4dC1zbGF0ZS01MDAnO1xuICAgICAgICBhbmFseXRpY3NGZWVkYmFjay50ZXh0Q29udGVudCA9IG1lc3NhZ2UgfHwgJyc7XG4gICAgICAgIGFuYWx5dGljc0ZlZWRiYWNrLmNsYXNzTmFtZSA9IGB0ZXh0LXNtICR7Y29sb3J9YDtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGxvYWRBbmFseXRpY3NDb25maWcgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIGlmICghc2l0ZUNvbmZpZ0FwaSkgcmV0dXJuO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goc2l0ZUNvbmZpZ0FwaSwgeyBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgcmV0dXJuO1xuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgaWYgKGhlYWRUZXh0YXJlYSkgaGVhZFRleHRhcmVhLnZhbHVlID0gcGF5bG9hZC5hbmFseXRpY3M/LmhlYWRDb2RlIHx8ICcnO1xuICAgICAgICAgIGlmIChib2R5VGV4dGFyZWEpIGJvZHlUZXh0YXJlYS52YWx1ZSA9IHBheWxvYWQuYW5hbHl0aWNzPy5ib2R5RW5kQ29kZSB8fCAnJztcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3NldHRpbmdzXSBsb2FkIGFuYWx5dGljcyBjb25maWcgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgYW5hbHl0aWNzRm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKCFzaXRlQ29uZmlnQXBpKSB7XG4gICAgICAgICAgc2V0QW5hbHl0aWNzRmVlZGJhY2soJ0F1Y3VuIHNpdGUgYWN0aWYuJywgJ2Vycm9yJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGFuYWx5dGljc1NhdmVCdXR0b24gJiYgKGFuYWx5dGljc1NhdmVCdXR0b24uZGlzYWJsZWQgPSB0cnVlKTtcbiAgICAgICAgc2V0QW5hbHl0aWNzRmVlZGJhY2soJycpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIEZpcnN0IGxvYWQgY3VycmVudCBjb25maWcgdG8gcHJlc2VydmUgb3RoZXIgZmllbGRzXG4gICAgICAgICAgY29uc3QgY3VycmVudFJlcyA9IGF3YWl0IGZldGNoKHNpdGVDb25maWdBcGksIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xuICAgICAgICAgIGNvbnN0IGN1cnJlbnRDb25maWcgPSBjdXJyZW50UmVzLm9rID8gYXdhaXQgY3VycmVudFJlcy5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSkgOiB7fTtcblxuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgICAgICAuLi5jdXJyZW50Q29uZmlnLFxuICAgICAgICAgICAgYW5hbHl0aWNzOiB7XG4gICAgICAgICAgICAgIGhlYWRDb2RlOiBoZWFkVGV4dGFyZWE/LnZhbHVlIHx8ICcnLFxuICAgICAgICAgICAgICBib2R5RW5kQ29kZTogYm9keVRleHRhcmVhPy52YWx1ZSB8fCAnJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfTtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHNpdGVDb25maWdBcGksIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rIHx8IHJlc3VsdC5zdWNjZXNzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5tZXNzYWdlIHx8ICdTYXV2ZWdhcmRlIGltcG9zc2libGUuJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNldEFuYWx5dGljc0ZlZWRiYWNrKHJlc3VsdC5tZXNzYWdlIHx8ICdTY3JpcHRzIGVucmVnaXN0clx1MDBFOXMuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3NldHRpbmdzXSBzYXZlIGFuYWx5dGljcyBjb25maWcgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgICBzZXRBbmFseXRpY3NGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZGUgbGEgc2F1dmVnYXJkZS4nLCAnZXJyb3InKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBhbmFseXRpY3NTYXZlQnV0dG9uICYmIChhbmFseXRpY3NTYXZlQnV0dG9uLmRpc2FibGVkID0gZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgbG9hZEFuYWx5dGljc0NvbmZpZygpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXRNZWRpYVdvcmtzcGFjZSgpIHtcbiAgICBjb25zdCBncmlkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZ3JpZF0nKTtcbiAgICBpZiAoIWdyaWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZW1wdHlTdGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWVtcHR5XScpO1xuICAgIGNvbnN0IGNvdW50QmFkZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1jb3VudF0nKTtcbiAgICBjb25zdCBmaWx0ZXJUeXBlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZmlsdGVyLXR5cGVdJyk7XG4gICAgY29uc3QgZGV0YWlsRW1wdHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZXRhaWwtZW1wdHldJyk7XG4gICAgY29uc3QgZGV0YWlsUGFuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZXRhaWxdJyk7XG4gICAgY29uc3QgZGV0YWlsUHJldmlldyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRldGFpbC1wcmV2aWV3XScpO1xuICAgIGNvbnN0IGRldGFpbE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZXRhaWwtbmFtZV0nKTtcbiAgICBjb25zdCBkZXRhaWxUeXBlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGV0YWlsLXR5cGVdJyk7XG4gICAgY29uc3QgZGV0YWlsU2l6ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRldGFpbC1zaXplXScpO1xuICAgIGNvbnN0IGRldGFpbFBhdGggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZXRhaWwtcGF0aF0nKTtcbiAgICBjb25zdCBkZXRhaWxVc2VkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGV0YWlsLXVzZWRdJyk7XG4gICAgY29uc3QgZGV0YWlsQWx0SW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1hbHQtZWRpdF0nKTtcbiAgICBjb25zdCBkZXRhaWxTYXZlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtc2F2ZV0nKTtcbiAgICBjb25zdCBkZXRhaWxEZWxldGVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZWxldGVdJyk7XG4gICAgY29uc3QgZGVsZXRlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZWxldGUtbW9kYWxdJyk7XG4gICAgY29uc3QgZGVsZXRlQ2FuY2VsQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGVsZXRlLWNhbmNlbF0nKTtcbiAgICBjb25zdCBkZWxldGVDb25maXJtQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGVsZXRlLWNvbmZpcm1dJyk7XG4gICAgY29uc3QgdXBsb2FkT3BlbkJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLXVwbG9hZC1vcGVuXScpO1xuICAgIGNvbnN0IGZpbGVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWZpbGUtaW5wdXRdJyk7XG4gICAgY29uc3QgdXBsb2FkU3RhdHVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtdXBsb2FkLXN0YXR1c10nKTtcblxuICAgIGNvbnN0IHNhZmVTaXRlU2x1Z1ZhbHVlID0gc3RyaXBMZWFkaW5nU2xhc2goXG4gICAgICB3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnLFxuICAgICk7XG4gICAgY29uc3QgbWVkaWFBcGlCYXNlID0gc2FmZVNpdGVTbHVnVmFsdWVcbiAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnVmFsdWUpfS9tZWRpYWBcbiAgICAgIDogbnVsbDtcblxuICAgIGxldCBtZWRpYUl0ZW1zID0gW107XG4gICAgbGV0IGZpbHRlcmVkSXRlbXMgPSBbXTtcbiAgICBsZXQgYWN0aXZlTWVkaWFJZCA9IG51bGw7XG4gICAgbGV0IGhpZ2hsaWdodE1lZGlhSWQgPSBudWxsO1xuICAgIGxldCBwZW5kaW5nVXBsb2FkRmlsZSA9IG51bGw7XG4gICAgbGV0IHVwbG9hZEluUHJvZ3Jlc3MgPSBmYWxzZTtcbiAgICBsZXQgZGV0YWlsRGlydHkgPSBmYWxzZTtcbiAgICBsZXQgdXBsb2FkTW9kZSA9IGZhbHNlO1xuICAgIGxldCB1cGxvYWRQcmV2aWV3VXJsID0gbnVsbDtcblxuICAgIGNvbnN0IGRlcml2ZUdyb3VwVHlwZSA9IChpdGVtKSA9PiB7XG4gICAgICBjb25zdCB0eXBlID0gKGl0ZW0udHlwZSB8fCAnJykudG9Mb3dlckNhc2UoKTtcbiAgICAgIGNvbnN0IGZpbGVuYW1lID0gKGl0ZW0uZmlsZW5hbWUgfHwgJycpLnRvTG93ZXJDYXNlKCk7XG4gICAgICBpZiAodHlwZS5pbmNsdWRlcygnaW1hZ2UnKSB8fCAvXFwuKHBuZ3xqcGU/Z3x3ZWJwfHN2Z3xnaWYpJC9pLnRlc3QoZmlsZW5hbWUpKSB7XG4gICAgICAgIHJldHVybiAnaW1hZ2UnO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGUuaW5jbHVkZXMoJ3BkZicpIHx8IHR5cGUuaW5jbHVkZXMoJ2RvYycpIHx8IC9cXC4ocGRmfGRvY3g/KSQvaS50ZXN0KGZpbGVuYW1lKSkge1xuICAgICAgICByZXR1cm4gJ2RvY3VtZW50JztcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlLmluY2x1ZGVzKCd2aWRlbycpIHx8IC9cXC4obXA0fG1vdnx3ZWJtKSQvaS50ZXN0KGZpbGVuYW1lKSkge1xuICAgICAgICByZXR1cm4gJ3ZpZGVvJztcbiAgICAgIH1cbiAgICAgIHJldHVybiAnb3RoZXInO1xuICAgIH07XG5cbiAgICBjb25zdCBpc0ltYWdlVHlwZSA9IChpdGVtKSA9PiBkZXJpdmVHcm91cFR5cGUoaXRlbSkgPT09ICdpbWFnZSc7XG5cbiAgICBjb25zdCBmb3JtYXRUeXBlTGFiZWwgPSAoaXRlbSkgPT4ge1xuICAgICAgaWYgKGl0ZW0udHlwZSkge1xuICAgICAgICByZXR1cm4gaXRlbS50eXBlLnRvVXBwZXJDYXNlKCk7XG4gICAgICB9XG4gICAgICBjb25zdCBleHQgPSAoaXRlbS5maWxlbmFtZSB8fCAnJykuc3BsaXQoJy4nKS5wb3AoKTtcbiAgICAgIHJldHVybiBleHQgPyBleHQudG9VcHBlckNhc2UoKSA6ICdGSUxFJztcbiAgICB9O1xuXG4gICAgY29uc3QgZm9ybWF0RmlsZVNpemUgPSAoc2l6ZSkgPT4ge1xuICAgICAgaWYgKCFzaXplIHx8IHNpemUgPD0gMCkge1xuICAgICAgICByZXR1cm4gJ1x1MjAxNCc7XG4gICAgICB9XG4gICAgICBpZiAoc2l6ZSA8IDEwMjQpIHtcbiAgICAgICAgcmV0dXJuIGAke3NpemV9IG9gO1xuICAgICAgfVxuICAgICAgaWYgKHNpemUgPCAxMDI0ICogMTAyNCkge1xuICAgICAgICByZXR1cm4gYCR7KHNpemUgLyAxMDI0KS50b0ZpeGVkKDEpfSBrb2A7XG4gICAgICB9XG4gICAgICByZXR1cm4gYCR7KHNpemUgLyAoMTAyNCAqIDEwMjQpKS50b0ZpeGVkKDEpfSBNb2A7XG4gICAgfTtcblxuICAgIGNvbnN0IHJlc2V0RGV0YWlsUGFuZWwgPSAoKSA9PiB7XG4gICAgICBkZXRhaWxQYW5lbD8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBkZXRhaWxFbXB0eT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBjbGVhclVwbG9hZFN0YXRlKCk7XG4gICAgICBhY3RpdmVNZWRpYUlkID0gbnVsbDtcbiAgICAgIGRldGFpbERpcnR5ID0gZmFsc2U7XG4gICAgICB1cGRhdGVEZXRhaWxBY3Rpb25zKGZhbHNlKTtcbiAgICAgIGlmIChkZXRhaWxQcmV2aWV3KSB7XG4gICAgICAgIGRldGFpbFByZXZpZXcuaW5uZXJIVE1MID1cbiAgICAgICAgICAnPHNwYW4gY2xhc3M9XCJ0ZXh0LXNsYXRlLTQwMCB0ZXh0LXNtXCI+QXVjdW4gbVx1MDBFOWRpYSBzXHUwMEU5bGVjdGlvbm5cdTAwRTk8L3NwYW4+JztcbiAgICAgIH1cbiAgICAgIGlmIChkZXRhaWxOYW1lKSB7XG4gICAgICAgIGRldGFpbE5hbWUudGV4dENvbnRlbnQgPSAnJztcbiAgICAgIH1cbiAgICAgIGRldGFpbFR5cGUgJiYgKGRldGFpbFR5cGUudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgICBkZXRhaWxTaXplICYmIChkZXRhaWxTaXplLnRleHRDb250ZW50ID0gJycpO1xuICAgICAgaWYgKGRldGFpbEFsdElucHV0KSB7XG4gICAgICAgIGRldGFpbEFsdElucHV0LnZhbHVlID0gJyc7XG4gICAgICB9XG4gICAgICBkZXRhaWxQYXRoICYmIChkZXRhaWxQYXRoLnRleHRDb250ZW50ID0gJycpO1xuICAgICAgaWYgKGRldGFpbFVzZWQpIHtcbiAgICAgICAgZGV0YWlsVXNlZC5pbm5lckhUTUwgPSAnJztcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgY2xlYXJVcGxvYWRTdGF0ZSA9ICgpID0+IHtcbiAgICAgIHBlbmRpbmdVcGxvYWRGaWxlID0gbnVsbDtcbiAgICAgIHVwbG9hZE1vZGUgPSBmYWxzZTtcbiAgICAgIHVwbG9hZEluUHJvZ3Jlc3MgPSBmYWxzZTtcbiAgICAgIGlmICh1cGxvYWRQcmV2aWV3VXJsKSB7XG4gICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwodXBsb2FkUHJldmlld1VybCk7XG4gICAgICAgIHVwbG9hZFByZXZpZXdVcmwgPSBudWxsO1xuICAgICAgfVxuICAgICAgdXBsb2FkU3RhdHVzICYmICh1cGxvYWRTdGF0dXMudGV4dENvbnRlbnQgPSAnQXVjdW4gZmljaGllciBzXHUwMEU5bGVjdGlvbm5cdTAwRTkuJyk7XG4gICAgICBmaWxlSW5wdXQgJiYgKGZpbGVJbnB1dC52YWx1ZSA9ICcnKTtcbiAgICB9O1xuXG4gICAgY29uc3QgdXBkYXRlQ291bnRCYWRnZSA9ICgpID0+IHtcbiAgICAgIGlmICghY291bnRCYWRnZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWZpbHRlcmVkSXRlbXMubGVuZ3RoKSB7XG4gICAgICAgIGNvdW50QmFkZ2UudGV4dENvbnRlbnQgPSAnMCBtXHUwMEU5ZGlhJztcbiAgICAgIH0gZWxzZSBpZiAoZmlsdGVyZWRJdGVtcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgY291bnRCYWRnZS50ZXh0Q29udGVudCA9ICcxIG1cdTAwRTlkaWEnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY291bnRCYWRnZS50ZXh0Q29udGVudCA9IGAke2ZpbHRlcmVkSXRlbXMubGVuZ3RofSBtXHUwMEU5ZGlhc2A7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHJlbmRlckdyaWQgPSAoKSA9PiB7XG4gICAgICBncmlkLmlubmVySFRNTCA9ICcnO1xuICAgICAgaWYgKCFmaWx0ZXJlZEl0ZW1zLmxlbmd0aCkge1xuICAgICAgICBlbXB0eVN0YXRlPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgcmVzZXREZXRhaWxQYW5lbCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBlbXB0eVN0YXRlPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGZpbHRlcmVkSXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICBjb25zdCBjYXJkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIGNhcmQudHlwZSA9ICdidXR0b24nO1xuICAgICAgICBjYXJkLmRhdGFzZXQubWVkaWFJZCA9IGl0ZW0uaWQ7XG4gICAgICAgIGNvbnN0IGlzQWN0aXZlID0gaXRlbS5pZCA9PT0gYWN0aXZlTWVkaWFJZDtcbiAgICAgICAgY2FyZC5jbGFzc05hbWUgPSBbXG4gICAgICAgICAgJ2dyb3VwIHJlbGF0aXZlIGZsZXggZmxleC1jb2wgcm91bmRlZC0yeGwgYm9yZGVyIHB4LTMgcHktMyB0ZXh0LWxlZnQgdHJhbnNpdGlvbiBmb2N1cy12aXNpYmxlOm91dGxpbmUgZm9jdXMtdmlzaWJsZTpvdXRsaW5lLTIgZm9jdXMtdmlzaWJsZTpvdXRsaW5lLW9mZnNldC0yIGZvY3VzLXZpc2libGU6b3V0bGluZS1bIzlDNkJGRl0nLFxuICAgICAgICAgIGlzQWN0aXZlXG4gICAgICAgICAgICA/ICdib3JkZXItWyM5QzZCRkZdIGJnLVsjRjdGMEZGXS82MCBzaGFkb3ctc20nXG4gICAgICAgICAgICA6ICdib3JkZXItc2xhdGUtMjAwIGhvdmVyOmJvcmRlci1bIzlDNkJGRl0vNDAnLFxuICAgICAgICBdLmpvaW4oJyAnKTtcbiAgICAgICAgY29uc3QgcHJldmlldyA9IGlzSW1hZ2VUeXBlKGl0ZW0pXG4gICAgICAgICAgPyBgPGltZyBzcmM9XCIke2l0ZW0ucGF0aH1cIiBhbHQ9XCIke2l0ZW0uYWx0IHx8IGl0ZW0uZmlsZW5hbWV9XCIgY2xhc3M9XCJoLWZ1bGwgdy1mdWxsIG9iamVjdC1jb3ZlclwiIC8+YFxuICAgICAgICAgIDogYDxkaXYgY2xhc3M9XCJmbGV4IGgtZnVsbCB3LWZ1bGwgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHRleHQtM3hsIHRleHQtc2xhdGUtNDAwXCI+XHVEODNEXHVEQ0M0PC9kaXY+YDtcbiAgICAgICAgY2FyZC5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInJlbGF0aXZlIGFzcGVjdC1bNC8zXSBvdmVyZmxvdy1oaWRkZW4gcm91bmRlZC14bCBiZy1zbGF0ZS0xMDBcIj5cbiAgICAgICAgICAgICR7cHJldmlld31cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwibXQtMiBzcGFjZS15LTFcIj5cbiAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1zbSBmb250LXNlbWlib2xkIHRleHQtc2xhdGUtOTAwIHRydW5jYXRlXCI+JHtpdGVtLmZpbGVuYW1lfTwvcD5cbiAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC14cyB0ZXh0LXNsYXRlLTUwMFwiPlxuICAgICAgICAgICAgICAke2Zvcm1hdFR5cGVMYWJlbChpdGVtKX0gXHUwMEI3ICR7Zm9ybWF0RmlsZVNpemUoaXRlbS5zaXplKX1cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgYDtcbiAgICAgICAgaWYgKGl0ZW0uaWQgPT09IGhpZ2hsaWdodE1lZGlhSWQpIHtcbiAgICAgICAgICBjYXJkLmNsYXNzTGlzdC5hZGQoJ3JpbmctMicsICdyaW5nLVsjOUM2QkZGXScpO1xuICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGNhcmQuY2xhc3NMaXN0LnJlbW92ZSgncmluZy0yJywgJ3JpbmctWyM5QzZCRkZdJyk7XG4gICAgICAgICAgfSwgMTYwMCk7XG4gICAgICAgIH1cbiAgICAgICAgY2FyZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHNlbGVjdE1lZGlhKGl0ZW0uaWQpKTtcbiAgICAgICAgZ3JpZC5hcHBlbmRDaGlsZChjYXJkKTtcbiAgICAgIH0pO1xuICAgICAgaGlnaGxpZ2h0TWVkaWFJZCA9IG51bGw7XG4gICAgfTtcblxuICAgIGNvbnN0IHJlbmRlclVzZWRJbiA9IChpdGVtKSA9PiB7XG4gICAgICBpZiAoIWRldGFpbFVzZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZGV0YWlsVXNlZC5pbm5lckhUTUwgPSAnJztcbiAgICAgIGlmICghaXRlbS51c2VkSW4gfHwgaXRlbS51c2VkSW4ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGNvbnN0IGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgbGkudGV4dENvbnRlbnQgPSAnTm9uIHV0aWxpc1x1MDBFOSc7XG4gICAgICAgIGxpLmNsYXNzTmFtZSA9ICd0ZXh0LXhzIHRleHQtc2xhdGUtNDAwJztcbiAgICAgICAgZGV0YWlsVXNlZC5hcHBlbmRDaGlsZChsaSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGl0ZW0udXNlZEluLmZvckVhY2goKGVudHJ5KSA9PiB7XG4gICAgICAgIGNvbnN0IGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgbGkudGV4dENvbnRlbnQgPSBlbnRyeTtcbiAgICAgICAgbGkuY2xhc3NOYW1lID0gJ3RleHQteHMgdGV4dC1zbGF0ZS02MDAnO1xuICAgICAgICBkZXRhaWxVc2VkLmFwcGVuZENoaWxkKGxpKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCB1cGRhdGVEZXRhaWxBY3Rpb25zID0gKHNhdmluZykgPT4ge1xuICAgICAgaWYgKCFkZXRhaWxTYXZlQnV0dG9uKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICh1cGxvYWRNb2RlKSB7XG4gICAgICAgIGRldGFpbFNhdmVCdXR0b24udGV4dENvbnRlbnQgPSBzYXZpbmcgPyAnVFx1MDBFOWxcdTAwRTl2ZXJzZW1lbnRcdTIwMjYnIDogJ1RcdTAwRTlsXHUwMEU5dmVyc2VyJztcbiAgICAgICAgZGV0YWlsU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IHNhdmluZyB8fCAhcGVuZGluZ1VwbG9hZEZpbGU7XG4gICAgICAgIGlmIChkZXRhaWxEZWxldGVCdXR0b24pIHtcbiAgICAgICAgICBkZXRhaWxEZWxldGVCdXR0b24uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZGV0YWlsU2F2ZUJ1dHRvbi50ZXh0Q29udGVudCA9IHNhdmluZyA/ICdFbnJlZ2lzdHJlbWVudFx1MjAyNicgOiAnRW5yZWdpc3RyZXInO1xuICAgICAgZGV0YWlsU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IHNhdmluZyB8fCAhZGV0YWlsRGlydHk7XG4gICAgICBpZiAoZGV0YWlsRGVsZXRlQnV0dG9uKSB7XG4gICAgICAgIGRldGFpbERlbGV0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgZGV0YWlsRGVsZXRlQnV0dG9uLmRpc2FibGVkID0gIWFjdGl2ZU1lZGlhSWQ7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHNlbGVjdE1lZGlhID0gKG1lZGlhSWQpID0+IHtcbiAgICAgIGNvbnN0IGl0ZW0gPSBtZWRpYUl0ZW1zLmZpbmQoKGVudHJ5KSA9PiBlbnRyeS5pZCA9PT0gbWVkaWFJZCk7XG4gICAgICBpZiAoIWl0ZW0pIHtcbiAgICAgICAgcmVzZXREZXRhaWxQYW5lbCgpO1xuICAgICAgICByZW5kZXJHcmlkKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNsZWFyVXBsb2FkU3RhdGUoKTtcbiAgICAgIGFjdGl2ZU1lZGlhSWQgPSBpdGVtLmlkO1xuICAgICAgZGV0YWlsRGlydHkgPSBmYWxzZTtcbiAgICAgIHVwZGF0ZURldGFpbEFjdGlvbnMoZmFsc2UpO1xuICAgICAgcmVuZGVyR3JpZCgpO1xuICAgICAgZGV0YWlsRW1wdHk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgZGV0YWlsUGFuZWw/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgaWYgKGRldGFpbFByZXZpZXcpIHtcbiAgICAgICAgaWYgKGlzSW1hZ2VUeXBlKGl0ZW0pKSB7XG4gICAgICAgICAgZGV0YWlsUHJldmlldy5pbm5lckhUTUwgPSBgPGltZyBzcmM9XCIke2l0ZW0ucGF0aH1cIiBhbHQ9XCIke2l0ZW0uYWx0IHx8IGl0ZW0uZmlsZW5hbWV9XCIgY2xhc3M9XCJoLWZ1bGwgdy1mdWxsIHJvdW5kZWQtMnhsIG9iamVjdC1jb3ZlclwiIC8+YDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkZXRhaWxQcmV2aWV3LmlubmVySFRNTCA9XG4gICAgICAgICAgICAnPGRpdiBjbGFzcz1cImZsZXggaC1mdWxsIHctZnVsbCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgZ2FwLTEgdGV4dC1zbGF0ZS00MDBcIj48c3BhbiBjbGFzcz1cInRleHQtM3hsXCI+XHVEODNEXHVEQ0M0PC9zcGFuPjxzcGFuIGNsYXNzPVwidGV4dC14cyBmb250LXNlbWlib2xkXCI+RG9jdW1lbnQ8L3NwYW4+PC9kaXY+JztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZGV0YWlsTmFtZSAmJiAoZGV0YWlsTmFtZS50ZXh0Q29udGVudCA9IGl0ZW0uZmlsZW5hbWUgfHwgJ0ZpY2hpZXInKTtcbiAgICAgIGRldGFpbFR5cGUgJiYgKGRldGFpbFR5cGUudGV4dENvbnRlbnQgPSBmb3JtYXRUeXBlTGFiZWwoaXRlbSkpO1xuICAgICAgZGV0YWlsU2l6ZSAmJiAoZGV0YWlsU2l6ZS50ZXh0Q29udGVudCA9IGZvcm1hdEZpbGVTaXplKGl0ZW0uc2l6ZSkpO1xuICAgICAgaWYgKGRldGFpbEFsdElucHV0KSB7XG4gICAgICAgIGRldGFpbEFsdElucHV0LnZhbHVlID0gaXRlbS5hbHQgfHwgJyc7XG4gICAgICB9XG4gICAgICBkZXRhaWxQYXRoICYmIChkZXRhaWxQYXRoLnRleHRDb250ZW50ID0gaXRlbS5wYXRoIHx8ICdcdTIwMTQnKTtcbiAgICAgIHJlbmRlclVzZWRJbihpdGVtKTtcbiAgICB9O1xuXG4gICAgY29uc3Qgc2hvd1VwbG9hZFByZXZpZXcgPSAoZmlsZSkgPT4ge1xuICAgICAgaWYgKCFmaWxlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHVwbG9hZE1vZGUgPSB0cnVlO1xuICAgICAgZGV0YWlsRGlydHkgPSBmYWxzZTtcbiAgICAgIGFjdGl2ZU1lZGlhSWQgPSBudWxsO1xuICAgICAgZGV0YWlsRW1wdHk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgZGV0YWlsUGFuZWw/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgaWYgKHVwbG9hZFByZXZpZXdVcmwpIHtcbiAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTCh1cGxvYWRQcmV2aWV3VXJsKTtcbiAgICAgIH1cbiAgICAgIHVwbG9hZFByZXZpZXdVcmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGUpO1xuICAgICAgaWYgKGRldGFpbFByZXZpZXcpIHtcbiAgICAgICAgZGV0YWlsUHJldmlldy5pbm5lckhUTUwgPSBgPGltZyBzcmM9XCIke3VwbG9hZFByZXZpZXdVcmx9XCIgYWx0PVwiJHtmaWxlLm5hbWV9XCIgY2xhc3M9XCJoLWZ1bGwgdy1mdWxsIHJvdW5kZWQtMnhsIG9iamVjdC1jb3ZlclwiIC8+YDtcbiAgICAgIH1cbiAgICAgIGRldGFpbE5hbWUgJiYgKGRldGFpbE5hbWUudGV4dENvbnRlbnQgPSBmaWxlLm5hbWUpO1xuICAgICAgZGV0YWlsVHlwZSAmJiAoZGV0YWlsVHlwZS50ZXh0Q29udGVudCA9IGZvcm1hdFR5cGVMYWJlbCh7IHR5cGU6IGZpbGUudHlwZSwgZmlsZW5hbWU6IGZpbGUubmFtZSB9KSk7XG4gICAgICBkZXRhaWxTaXplICYmIChkZXRhaWxTaXplLnRleHRDb250ZW50ID0gZm9ybWF0RmlsZVNpemUoZmlsZS5zaXplKSk7XG4gICAgICBpZiAoZGV0YWlsQWx0SW5wdXQgJiYgIWRldGFpbEFsdElucHV0LnZhbHVlLnRyaW0oKSkge1xuICAgICAgICBkZXRhaWxBbHRJbnB1dC52YWx1ZSA9IGZpbGUubmFtZS5yZXBsYWNlKC9cXC5bXi5dKyQvLCAnJykucmVwbGFjZSgvWy1fXS9nLCAnICcpO1xuICAgICAgfVxuICAgICAgZGV0YWlsUGF0aCAmJiAoZGV0YWlsUGF0aC50ZXh0Q29udGVudCA9ICdFbiBhdHRlbnRlIGRlIHRcdTAwRTlsXHUwMEU5dmVyc2VtZW50Jyk7XG4gICAgICBpZiAoZGV0YWlsVXNlZCkge1xuICAgICAgICBkZXRhaWxVc2VkLmlubmVySFRNTCA9ICcnO1xuICAgICAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICAgIGxpLnRleHRDb250ZW50ID0gJ05vbiB1dGlsaXNcdTAwRTknO1xuICAgICAgICBsaS5jbGFzc05hbWUgPSAndGV4dC14cyB0ZXh0LXNsYXRlLTQwMCc7XG4gICAgICAgIGRldGFpbFVzZWQuYXBwZW5kQ2hpbGQobGkpO1xuICAgICAgfVxuICAgICAgdXBkYXRlRGV0YWlsQWN0aW9ucyhmYWxzZSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGFwcGx5RmlsdGVycyA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHR5cGVGaWx0ZXIgPSBmaWx0ZXJUeXBlPy52YWx1ZSB8fCAnYWxsJztcbiAgICAgIGlmICh0eXBlRmlsdGVyID09PSAnYWxsJykge1xuICAgICAgICBmaWx0ZXJlZEl0ZW1zID0gWy4uLm1lZGlhSXRlbXNdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZmlsdGVyZWRJdGVtcyA9IG1lZGlhSXRlbXMuZmlsdGVyKChpdGVtKSA9PiBpdGVtLmdyb3VwVHlwZSA9PT0gdHlwZUZpbHRlcik7XG4gICAgICB9XG4gICAgICBpZiAoIWZpbHRlcmVkSXRlbXMuc29tZSgoaXRlbSkgPT4gaXRlbS5pZCA9PT0gYWN0aXZlTWVkaWFJZCkpIHtcbiAgICAgICAgcmVzZXREZXRhaWxQYW5lbCgpO1xuICAgICAgfVxuICAgICAgdXBkYXRlQ291bnRCYWRnZSgpO1xuICAgICAgcmVuZGVyR3JpZCgpO1xuICAgIH07XG5cbiAgICBjb25zdCBsb2FkTWVkaWEgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIW1lZGlhQXBpQmFzZSkge1xuICAgICAgICBlbXB0eVN0YXRlPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChtZWRpYUFwaUJhc2UsIHtcbiAgICAgICAgICBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIG1cdTAwRTlkaWFzLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHsgaXRlbXM6IFtdIH0pKTtcbiAgICAgICAgbWVkaWFJdGVtcyA9IEFycmF5LmlzQXJyYXkocGF5bG9hZC5pdGVtcylcbiAgICAgICAgICA/IHBheWxvYWQuaXRlbXMubWFwKChpdGVtKSA9PiAoeyAuLi5pdGVtLCBncm91cFR5cGU6IGRlcml2ZUdyb3VwVHlwZShpdGVtKSB9KSlcbiAgICAgICAgICA6IFtdO1xuICAgICAgICBhcHBseUZpbHRlcnMoKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbbWVkaWFdIGxvYWQgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIG1cdTAwRTlkaWFzLicpO1xuICAgICAgICBtZWRpYUl0ZW1zID0gW107XG4gICAgICAgIGFwcGx5RmlsdGVycygpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBmaWx0ZXJUeXBlPy5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgICBhcHBseUZpbHRlcnMoKTtcbiAgICB9KTtcbiAgICBkZXRhaWxBbHRJbnB1dD8uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgICBpZiAodXBsb2FkTW9kZSkge1xuICAgICAgICB1cGRhdGVEZXRhaWxBY3Rpb25zKGZhbHNlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFhY3RpdmVNZWRpYUlkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGRldGFpbERpcnR5ID0gdHJ1ZTtcbiAgICAgIHVwZGF0ZURldGFpbEFjdGlvbnMoZmFsc2UpO1xuICAgIH0pO1xuXG4gICAgY29uc3QgaGFuZGxlRmlsZVNlbGVjdGlvbiA9IChmaWxlKSA9PiB7XG4gICAgICBpZiAoIWZpbGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFmaWxlLnR5cGUuc3RhcnRzV2l0aCgnaW1hZ2UvJykpIHtcbiAgICAgICAgc2hvd1RvYXN0KCdTZXVsZXMgbGVzIGltYWdlcyBzb250IGFjY2VwdFx1MDBFOWVzIHBvdXIgbGUgbW9tZW50LicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoZmlsZS5zaXplID4gNCAqIDEwMjQgKiAxMDI0KSB7XG4gICAgICAgIHNob3dUb2FzdCgnRmljaGllciB0cm9wIHZvbHVtaW5ldXggKDQgTW8gbWF4KS4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcGVuZGluZ1VwbG9hZEZpbGUgPSBmaWxlO1xuICAgICAgc2hvd1VwbG9hZFByZXZpZXcoZmlsZSk7XG4gICAgICBpZiAodXBsb2FkU3RhdHVzKSB7XG4gICAgICAgIHVwbG9hZFN0YXR1cy50ZXh0Q29udGVudCA9IGAke2ZpbGUubmFtZX0gXHUwMEI3ICR7Zm9ybWF0RmlsZVNpemUoZmlsZS5zaXplKX1gO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCByZWFkRmlsZUFzQmFzZTY0ID0gKGZpbGUpID0+XG4gICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICAgIHJlYWRlci5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gcmVhZGVyLnJlc3VsdCB8fCAnJztcbiAgICAgICAgICBjb25zdCBbLCBiYXNlNjQgPSAnJ10gPSBTdHJpbmcocmVzdWx0KS5zcGxpdCgnLCcpO1xuICAgICAgICAgIHJlc29sdmUoYmFzZTY0KTtcbiAgICAgICAgfTtcbiAgICAgICAgcmVhZGVyLm9uZXJyb3IgPSAoKSA9PiByZWplY3QobmV3IEVycm9yKCdJbXBvc3NpYmxlIGRlIGxpcmUgY2UgZmljaGllci4nKSk7XG4gICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xuICAgICAgfSk7XG5cbiAgICBjb25zdCB1cGxvYWRTZWxlY3RlZE1lZGlhID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFwZW5kaW5nVXBsb2FkRmlsZSB8fCAhbWVkaWFBcGlCYXNlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHVwbG9hZEluUHJvZ3Jlc3MgPSB0cnVlO1xuICAgICAgdXBkYXRlRGV0YWlsQWN0aW9ucyh0cnVlKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGJhc2U2NCA9IGF3YWl0IHJlYWRGaWxlQXNCYXNlNjQocGVuZGluZ1VwbG9hZEZpbGUpO1xuICAgICAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICAgIGZpbGVuYW1lOiBwZW5kaW5nVXBsb2FkRmlsZS5uYW1lLFxuICAgICAgICAgIHR5cGU6IHBlbmRpbmdVcGxvYWRGaWxlLnR5cGUsXG4gICAgICAgICAgc2l6ZTogcGVuZGluZ1VwbG9hZEZpbGUuc2l6ZSxcbiAgICAgICAgICBhbHQ6IGRldGFpbEFsdElucHV0Py52YWx1ZSB8fCAnJyxcbiAgICAgICAgICBkYXRhOiBiYXNlNjQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2gobWVkaWFBcGlCYXNlLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgY29uc3QgZXJyb3JQYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvclBheWxvYWQubWVzc2FnZSB8fCAnVXBsb2FkIGltcG9zc2libGUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2F2ZWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIHNhdmVkLmdyb3VwVHlwZSA9IGRlcml2ZUdyb3VwVHlwZShzYXZlZCk7XG4gICAgICAgIG1lZGlhSXRlbXMgPSBbLi4ubWVkaWFJdGVtcywgc2F2ZWRdO1xuICAgICAgICBoaWdobGlnaHRNZWRpYUlkID0gc2F2ZWQuaWQ7XG4gICAgICAgIGFwcGx5RmlsdGVycygpO1xuICAgICAgICBzZWxlY3RNZWRpYShzYXZlZC5pZCk7XG4gICAgICAgIHNob3dUb2FzdCgnTVx1MDBFOWRpYSBham91dFx1MDBFOScpO1xuICAgICAgICBjbGVhclVwbG9hZFN0YXRlKCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW21lZGlhXSB1cGxvYWQgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIHRcdTAwRTlsXHUwMEU5dmVyc2VyIGNlIG1cdTAwRTlkaWEuJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICB1cGxvYWRJblByb2dyZXNzID0gZmFsc2U7XG4gICAgICAgIHBlbmRpbmdVcGxvYWRGaWxlID0gbnVsbDtcbiAgICAgICAgdXBkYXRlRGV0YWlsQWN0aW9ucyhmYWxzZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHVwbG9hZE9wZW5CdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gZmlsZUlucHV0Py5jbGljaygpKTtcbiAgICBmaWxlSW5wdXQ/LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgICAgIGlmIChmaWxlSW5wdXQuZmlsZXMgJiYgZmlsZUlucHV0LmZpbGVzWzBdKSB7XG4gICAgICAgIGhhbmRsZUZpbGVTZWxlY3Rpb24oZmlsZUlucHV0LmZpbGVzWzBdKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBjb25zdCBjbG9zZURlbGV0ZU1vZGFsID0gKCkgPT4ge1xuICAgICAgaWYgKCFkZWxldGVNb2RhbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBkZWxldGVNb2RhbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGRlbGV0ZU1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2ZsZXgnKTtcbiAgICB9O1xuXG4gICAgY29uc3Qgb3BlbkRlbGV0ZU1vZGFsID0gKCkgPT4ge1xuICAgICAgaWYgKCFhY3RpdmVNZWRpYUlkIHx8IHVwbG9hZE1vZGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGRlbGV0ZU1vZGFsKSB7XG4gICAgICAgIGRlbGV0ZU1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICBkZWxldGVNb2RhbC5jbGFzc0xpc3QuYWRkKCdmbGV4Jyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vIEZhbGxiYWNrIHNpIGF1Y3VuZSBtb2RhbGUgbidlc3QgZGlzcG9uaWJsZVxuICAgICAgaWYgKHdpbmRvdy5jb25maXJtKCdTdXBwcmltZXIgY2UgbVx1MDBFOWRpYSA/JykpIHtcbiAgICAgICAgZGVsZXRlQWN0aXZlTWVkaWEoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgZGVsZXRlQWN0aXZlTWVkaWEgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWFjdGl2ZU1lZGlhSWQgfHwgIW1lZGlhQXBpQmFzZSkge1xuICAgICAgICBjbG9zZURlbGV0ZU1vZGFsKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRpc2FibGVCdXR0b25zID0gKCkgPT4ge1xuICAgICAgICBpZiAoZGV0YWlsRGVsZXRlQnV0dG9uKSB7XG4gICAgICAgICAgZGV0YWlsRGVsZXRlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVsZXRlQ29uZmlybUJ1dHRvbikge1xuICAgICAgICAgIGRlbGV0ZUNvbmZpcm1CdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICAgIGRlbGV0ZUNvbmZpcm1CdXR0b24udGV4dENvbnRlbnQgPSAnU3VwcHJlc3Npb25cdTIwMjYnO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgY29uc3QgZW5hYmxlQnV0dG9ucyA9ICgpID0+IHtcbiAgICAgICAgaWYgKGRldGFpbERlbGV0ZUJ1dHRvbikge1xuICAgICAgICAgIGRldGFpbERlbGV0ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkZWxldGVDb25maXJtQnV0dG9uKSB7XG4gICAgICAgICAgZGVsZXRlQ29uZmlybUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgIGRlbGV0ZUNvbmZpcm1CdXR0b24udGV4dENvbnRlbnQgPSAnU3VwcHJpbWVyJztcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGRpc2FibGVCdXR0b25zKCk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgICAgIGAke21lZGlhQXBpQmFzZX0vJHtlbmNvZGVVUklDb21wb25lbnQoYWN0aXZlTWVkaWFJZCl9YCxcbiAgICAgICAgICB7IG1ldGhvZDogJ0RFTEVURScgfSxcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHBheWxvYWQubWVzc2FnZSB8fCAnU3VwcHJlc3Npb24gaW1wb3NzaWJsZS4nKTtcbiAgICAgICAgfVxuICAgICAgICBtZWRpYUl0ZW1zID0gbWVkaWFJdGVtcy5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0uaWQgIT09IGFjdGl2ZU1lZGlhSWQpO1xuICAgICAgICBmaWx0ZXJlZEl0ZW1zID0gZmlsdGVyZWRJdGVtcy5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0uaWQgIT09IGFjdGl2ZU1lZGlhSWQpO1xuICAgICAgICBzaG93VG9hc3QoJ01cdTAwRTlkaWEgc3VwcHJpbVx1MDBFOScpO1xuICAgICAgICByZXNldERldGFpbFBhbmVsKCk7XG4gICAgICAgIHVwZGF0ZUNvdW50QmFkZ2UoKTtcbiAgICAgICAgcmVuZGVyR3JpZCgpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1ttZWRpYV0gZGVsZXRlIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBzdXBwcmltZXIgY2UgbVx1MDBFOWRpYS4nKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGVuYWJsZUJ1dHRvbnMoKTtcbiAgICAgICAgY2xvc2VEZWxldGVNb2RhbCgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBkZWxldGVDYW5jZWxCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VEZWxldGVNb2RhbCk7XG4gICAgZGVsZXRlTW9kYWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSBkZWxldGVNb2RhbCkge1xuICAgICAgICBjbG9zZURlbGV0ZU1vZGFsKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBkZWxldGVDb25maXJtQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGRlbGV0ZUFjdGl2ZU1lZGlhKCkpO1xuICAgIGRldGFpbERlbGV0ZUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuRGVsZXRlTW9kYWwpO1xuXG4gICAgZGV0YWlsU2F2ZUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAodXBsb2FkTW9kZSkge1xuICAgICAgICB1cGxvYWRTZWxlY3RlZE1lZGlhKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghYWN0aXZlTWVkaWFJZCB8fCAhbWVkaWFBcGlCYXNlIHx8ICFkZXRhaWxBbHRJbnB1dCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB1cGRhdGVEZXRhaWxBY3Rpb25zKHRydWUpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IHsgYWx0OiBkZXRhaWxBbHRJbnB1dC52YWx1ZSB8fCAnJyB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgICAgIGAke21lZGlhQXBpQmFzZX0vJHtlbmNvZGVVUklDb21wb25lbnQoYWN0aXZlTWVkaWFJZCl9YCxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgICB9LFxuICAgICAgICApO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgY29uc3QgZXJyb3JQYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvclBheWxvYWQubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBtZXR0cmUgXHUwMEUwIGpvdXIgY2UgbVx1MDBFOWRpYS4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB1cGRhdGVkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBtZWRpYUl0ZW1zID0gbWVkaWFJdGVtcy5tYXAoKGl0ZW0pID0+XG4gICAgICAgICAgaXRlbS5pZCA9PT0gYWN0aXZlTWVkaWFJZCA/IHsgLi4uaXRlbSwgLi4udXBkYXRlZCB9IDogaXRlbSxcbiAgICAgICAgKTtcbiAgICAgICAgZmlsdGVyZWRJdGVtcyA9IGZpbHRlcmVkSXRlbXMubWFwKChpdGVtKSA9PlxuICAgICAgICAgIGl0ZW0uaWQgPT09IGFjdGl2ZU1lZGlhSWQgPyB7IC4uLml0ZW0sIC4uLnVwZGF0ZWQgfSA6IGl0ZW0sXG4gICAgICAgICk7XG4gICAgICAgIGRldGFpbERpcnR5ID0gZmFsc2U7XG4gICAgICAgIHVwZGF0ZURldGFpbEFjdGlvbnMoZmFsc2UpO1xuICAgICAgICBzaG93VG9hc3QoJ01cdTAwRTlkaWEgbWlzIFx1MDBFMCBqb3VyJyk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW21lZGlhXSB1cGRhdGUgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdcdTAwQzljaGVjIGRlIGxhIG1pc2UgXHUwMEUwIGpvdXIuJyk7XG4gICAgICAgIHVwZGF0ZURldGFpbEFjdGlvbnMoZmFsc2UpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgbG9hZE1lZGlhKCk7XG4gIH1cbn0pO1xuIl0sCiAgIm1hcHBpbmdzIjogIk1BQUEsU0FBUyxpQkFBaUIsbUJBQW9CLElBQU0sQ0FDbEQsUUFBUSxJQUFJLDJCQUF3QixFQUNwQyxJQUFNQSxHQUFlLFNBQVMsY0FBYyxlQUFlLEVBQ3ZEQSxJQUNGQSxHQUFhLGlCQUFpQixRQUFTLFNBQVksQ0FDakRBLEdBQWEsU0FBVyxHQUN4QixHQUFJLENBQ0YsTUFBTSxNQUFNLGNBQWUsQ0FDekIsT0FBUSxPQUNSLFFBQVMsQ0FDUCxlQUFnQixrQkFDbEIsQ0FDRixDQUFDLENBQ0gsT0FBU0MsRUFBSyxDQUNaLFFBQVEsTUFBTSwwQ0FBd0NBLENBQUcsQ0FDM0QsUUFBRSxDQUNBLE9BQU8sU0FBUyxLQUFPLG1CQUN6QixDQUNGLENBQUMsRUFHSCxJQUFNQyxHQUFVLFNBQVMsY0FBYyxzQkFBc0IsRUFDdkRDLEdBQWlCLFNBQVMsY0FBYyw4QkFBOEIsRUFDdEVDLEdBQWlCLFNBQVMsaUJBQWlCLDZCQUE2QixFQUN4RUMsR0FBc0IsU0FBUyxpQkFBaUIsNEJBQTRCLEVBQzVFQyxHQUFPLFNBQVMsS0FDbEJDLEdBQWMsR0FFWkMsR0FBb0IsSUFBTSxDQUM5QixHQUFJLENBQUNOLEdBQ0gsT0FHRixHQURrQixPQUFPLFdBQVcscUJBQXFCLEVBQUUsUUFDNUMsQ0FDYkEsR0FBUSxVQUFVLE9BQU8sUUFBUSxFQUNqQ0MsSUFBQSxNQUFBQSxHQUFnQixVQUFVLElBQUksVUFDOUJHLEdBQUssVUFBVSxPQUFPLGlCQUFpQixFQUN2QyxNQUNGLENBQ0lDLElBQ0ZMLEdBQVEsVUFBVSxPQUFPLFFBQVEsRUFDakNDLElBQUEsTUFBQUEs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akNBLEVBQUssS0FBT29WLEVBQWdCLENBQUUsR0FBR3BWLEVBQU0sR0FBR3lYLENBQVEsRUFBSXpYLENBQ3hELEVBQ0F3VixFQUFjLEdBQ2RZLEdBQW9CLEVBQUssRUFDekJ2bEIsRUFBVSx3QkFBa0IsQ0FDOUIsT0FBUy9DLEVBQUssQ0FDWixRQUFRLE1BQU0sd0JBQXlCQSxDQUFHLEVBQzFDK0MsRUFBVS9DLEVBQUksU0FBVyxnQ0FBMEIsRUFDbkRzb0IsR0FBb0IsRUFBSyxDQUMzQixFQUNGLEdBRUFVLEdBQVUsQ0FDWixDQUNGLENBQUMiLAogICJuYW1lcyI6IFsibG9nb3V0QnV0dG9uIiwgImVyciIsICJzaWRlYmFyIiwgInNpZGViYXJPdmVybGF5IiwgInNpZGViYXJUb2dnbGVzIiwgInNpZGViYXJDbG9zZUJ1dHRvbnMiLCAiYm9keSIsICJzaWRlYmFyT3BlbiIsICJhcHBseVNpZGViYXJTdGF0ZSIsICJvcGVuU2lkZWJhciIsICJjbG9zZVNpZGViYXIiLCAiYnV0dG9uIiwgImV2ZW50IiwgIkFDVElWRV9TSVRFX0tFWSIsICJBQ1RJVkVfU0lURV9OQU1FX0tFWSIsICJzdG9yZWRTaXRlIiwgInNpdGVDYXJkcyIsICJzaXRlU2VsZWN0QnV0dG9ucyIsICJzaXRlTmFtZUxhYmVsIiwgIndvcmtzcGFjZVNpdGVMYWJlbCIsICJ3b3Jrc3BhY2VCYWNrTmFtZSIsICJ3b3Jrc3BhY2VCYWNrTW9kYWwiLCAid29ya3NwYWNlQmFja0J1dHRvbnMiLCAid29ya3NwYWNlQmFja0NhbmNlbCIsICJ3b3Jrc3BhY2VCYWNrQ29uZmlybSIsICJ3b3Jrc3BhY2VOYXZMaW5rcyIsICJzaXRlVG9hc3QiLCAic2l0ZVRvYXN0TWVzc2FnZSIsICJzaXRlQ3JlYXRlQnV0dG9ucyIsICJzaXRlTW9kYWwiLCAic2l0ZUZvcm0iLCAic2l0ZU5hbWVJbnB1dCIsICJzaXRlU2x1Z0lucHV0IiwgInNpdGVTbHVnRXJyb3IiLCAic2l0ZU1vZGFsRXJyb3IiLCAic2l0ZU1vZGFsQ2FuY2VsQnV0dG9ucyIsICJzaXRlTW9kYWxTdWJtaXRCdXR0b24iLCAid29ya3NwYWNlQ29udGV4dCIsICJnZXRXb3Jrc3BhY2VDb250ZXh0IiwgInNsdWdNYW51YWxseUVkaXRlZCIsICJsYXN0Rm9jdXNlZEVsZW1lbnQiLCAidG9hc3RUaW1lb3V0SWQiLCAiZm9jdXNhYmxlU2VsZWN0b3IiLCAidHJhcEZvY3VzIiwgImZvY3VzYWJsZUVsZW1lbnRzIiwgImVsIiwgImZpcnN0IiwgImxhc3QiLCAic2hvd1RvYXN0IiwgIm1lc3NhZ2UiLCAiZW5zdXJlTGVhZGluZ1NsYXNoIiwgInNsdWciLCAic3RyaXBMZWFkaW5nU2xhc2giLCAicGVyc2lzdFNpdGVTdGF0ZSIsICJuYW1lIiwgIm5vcm1hbGl6ZWRTbHVnIiwgInVwZGF0ZVNpdGVMYWJlbHMiLCAidXBkYXRlV29ya3NwYWNlTmF2TGlua3MiLCAibGluayIsICJ0YWIiLCAic2x1Z1BhdGgiLCAiYXBwbHlBY3RpdmVTaXRlIiwgIm9wdGlvbnMiLCAiYWN0aXZlU2l0ZU5hbWUiLCAiY2FyZCIsICJpc0FjdGl2ZSIsICJiYWRnZSIsICJmaW5hbE5hbWUiLCAic2VsZWN0U2l0ZSIsICJyZXNwb25zZSIsICJwYXlsb2FkIiwgImZpbmFsU2x1ZyIsICJzeW5jQWN0aXZlU2l0ZUZyb21TZXJ2ZXIiLCAic2l0ZSIsICJkZWZhdWx0Q2FyZCIsICJ3b3Jrc3BhY2VTbHVnaWZ5IiwgInZhbHVlIiwgIm5vcm1hbGl6ZVNsdWdWYWx1ZSIsICJiYXNlIiwgIm9wZW5TaXRlTW9kYWwiLCAiY2xvc2VTaXRlTW9kYWwiLCAic2x1Z1ZhbCIsICJuYW1lVmFsIiwgImdldFNsdWdTZXQiLCAibmFtZVZhbHVlIiwgInNsdWdWYWx1ZSIsICJjcmVhdGVkU2l0ZSIsICJjbG9zZVdvcmtzcGFjZUJhY2tNb2RhbCIsICJtYXRjaCIsICJkZXRlY3RXb3Jrc3BhY2VTZWN0aW9uIiwgIm9wZW5Xb3Jrc3BhY2VCYWNrTW9kYWwiLCAiYWN0aXZlU2VjdGlvbiIsICJpbml0RGVzaWduV29ya3NwYWNlIiwgImluaXRDb250ZW50V29ya3NwYWNlIiwgImluaXRNZWRpYVdvcmtzcGFjZSIsICJpbml0RGVwbG95V29ya3NwYWNlIiwgImluaXRTZXR0aW5nc1dvcmtzcGFjZSIsICJwYWdlTGlzdHMiLCAiYWN0aXZlVGl0bGUiLCAiYWN0aXZlU2x1ZyIsICJwcmV2aWV3VGFncyIsICJwcmV2aWV3RnJhbWUiLCAicHJldmlld09wZW5CdXR0b24iLCAicHJldmlld1N0YXR1cyIsICJwcmV2aWV3SGlnaGxpZ2h0T3ZlcmxheSIsICJzZW9Ub2dnbGVCdXR0b24iLCAic2VvUGFuZWwiLCAic2VvQ2xvc2VCdXR0b24iLCAic2VvRm9ybSIsICJzZW9UaXRsZUlucHV0IiwgInNlb0Rlc2NyaXB0aW9uSW5wdXQiLCAic2VvSW5kZXhlZENoZWNrYm94IiwgInNlb0ZlZWRiYWNrIiwgInNlb1NhdmVCdXR0b24iLCAiYmxvY2tMaXN0IiwgImJsb2NrTGlzdEVtcHR5IiwgImJsb2NrQ291bnRCYWRnZSIsICJibG9ja0xpYnJhcnlUb2dnbGUiLCAiYmxvY2tMaWJyYXJ5IiwgImJsb2NrQWRkQnV0dG9ucyIsICJibG9ja0RlbGV0ZU1vZGFsIiwgImJsb2NrRGVsZXRlQ29uZmlybSIsICJibG9ja0RlbGV0ZUNhbmNlbCIsICJibG9ja0RldGFpbEVtcHR5IiwgImJsb2NrRGV0YWlsU3RhdHVzIiwgImJsb2NrRWRpdG9yIiwgImJsb2NrRWRpdG9yVGl0bGUiLCAiYmxvY2tFZGl0b3JUeXBlIiwgImJsb2NrRWRpdG9yVW5zdXBwb3J0ZWQiLCAiYmxvY2tGb3JtIiwgImJsb2NrRm9ybVNlY3Rpb25zIiwgImJsb2NrVGFicyIsICJhY3RpdmVCbG9ja1RhYiIsICJibG9ja0Zvcm1BY3Rpb25zIiwgImJsb2NrRm9ybUF1dG9zYXZlIiwgInN3aXRjaEJsb2NrVGFiIiwgInRhYk5hbWUiLCAicGFuZWwiLCAiY29sbGVjdGlvblNlbGVjdCIsICJjb2xsZWN0aW9uU2VsZWN0aW9uSW5mbyIsICJibG9ja0Zvcm1DYW5jZWwiLCAiZ3JvdXBQcmV2aWV3TW9iaWxlIiwgImdyb3VwUHJldmlld0Rlc2t0b3AiLCAiY29sbGVjdGlvblByZXZpZXdNb2JpbGUiLCAiY29sbGVjdGlvblByZXZpZXdEZXNrdG9wIiwgImJsb2NrVHlwZUZvcm1zIiwgImJsb2NrVHlwZUFsaWFzZXMiLCAidXBkYXRlR3JvdXBNaW5pUHJldmlldyIsICJtb2JpbGVWYWx1ZSIsICJkZXNrdG9wVmFsdWUiLCAicmVuZGVyQm94ZXMiLCAiY291bnQiLCAidXBkYXRlQ29sbGVjdGlvbk1pbmlQcmV2aWV3IiwgImZldGNoUGFnZXNGcm9tU2VydmVyIiwgInBhZ2VzQXBpQmFzZSIsICJjcmVhdGVQYWdlT25TZXJ2ZXIiLCAidGl0bGUiLCAic2F2ZVBhZ2VUb1NlcnZlciIsICJwYWdlIiwgInNhdmVkIiwgIm5vcm1hbGl6ZWQiLCAibm9ybWFsaXplUGFnZURhdGEiLCAicGFnZXMiLCAiZW50cnkiLCAiY3VycmVudFBhZ2UiLCAibG9hZFBhZ2VzRnJvbVNlcnZlciIsICJhY3RpdmVQYWdlSWQiLCAicmVuZGVyUGFnZUxpc3RzIiwgInJlbmRlckJsb2NrTGlzdCIsICJsb2FkZWRQYWdlcyIsICJnZXRMb2FkaW5nUHJldmlld0h0bWwiLCAiZ2V0U3RvcmVkQWN0aXZlUGFnZSIsICJzZXRBY3RpdmVQYWdlIiwgIm5vcm1hbGl6ZVR5cGUiLCAiZ2V0QmxvY2tGb3JtQ29uZmlnIiwgImJsb2NrIiwgInR5cGVLZXkiLCAiYWxpYXMiLCAicG9wdWxhdGVCbG9ja0Zvcm0iLCAiX2EiLCAiX2IiLCAiX2MiLCAiX2QiLCAiX2UiLCAiY29uZmlnIiwgInNlY3Rpb24iLCAiZGVzaXJlZFZhbHVlIiwgInVwZGF0ZUNvbGxlY3Rpb25TZWxlY3RPcHRpb25zIiwgInNldHRpbmdLZXkiLCAiZmllbGROYW1lIiwgImlucHV0IiwgImNvbGxlY3RGb3JtVmFsdWVzIiwgInZhbHVlcyIsICJwYXJzZWQiLCAidXBkYXRlUHJldmlld1N0YXR1cyIsICJ0ZXh0IiwgInNlcmlhbGl6ZVBhZ2VGb3JQcmV2aWV3IiwgImRlYm91bmNlIiwgImZuIiwgImRlbGF5IiwgInRpbWVvdXRJZCIsICJhcmdzIiwgImF1dG9TYXZlVGltZW91dCIsICJhdXRvU2F2ZUFwcGVhcmFuY2UiLCAiYWN0aXZlQmxvY2tJZCIsICJnZXRBY3RpdmVCbG9jayIsICJ1cGRhdGVkQmxvY2tzIiwgInVwZGF0ZWRTZXR0aW5ncyIsICJuZXh0UGFnZSIsICJ1cGRhdGVQcmV2aWV3QmxvY2tMaXZlIiwgImJsb2NrSWQiLCAic2V0dGluZ3MiLCAiZGVib3VuY2VkQXV0b1NhdmUiLCAiZGVib3VuY2VkUmVmcmVzaFByZXZpZXciLCAicmVmcmVzaFByZXZpZXciLCAiaGFuZGxlQXBwZWFyYW5jZUNoYW5nZSIsICJwcmV2aWV3U2l0ZVNsdWciLCAicHJldmlld1JlYWR5IiwgInByZXZpZXdSZXF1ZXN0Q29udHJvbGxlciIsICJjb250cm9sbGVyIiwgImRhdGEiLCAibGF0ZXN0UHJldmlld0h0bWwiLCAiZXJyb3IiLCAiaGFuZGxlQmxvY2tGb3JtU3VibWl0IiwgInVwZGF0ZWRCbG9jayIsICJ1cGRhdGVDdXJyZW50UGFnZUJsb2NrcyIsICJkcmF3ZXIiLCAiZHJhd2VyQmFja2Ryb3AiLCAiZHJhd2VyT3BlbkJ1dHRvbnMiLCAiZHJhd2VyQ2xvc2VCdXR0b25zIiwgImFkZFBhZ2VUb2dnbGUiLCAiYWRkUGFnZUZvcm0iLCAiYWRkUGFnZVRpdGxlIiwgImFkZFBhZ2VTbHVnIiwgImFkZFBhZ2VDYW5jZWwiLCAiYWRkUGFnZUVycm9yIiwgImFkZFBhZ2VTdWJtaXRCdXR0b24iLCAiaW1wb3J0VG9nZ2xlIiwgImltcG9ydE1vZGFsIiwgImltcG9ydENsb3NlQnV0dG9ucyIsICJpbXBvcnREcm9wem9uZSIsICJpbXBvcnRGaWxlSW5wdXQiLCAiaW1wb3J0RmlsZUxpc3QiLCAiaW1wb3J0RmlsZU5hbWVzIiwgImltcG9ydFJlc3VsdHMiLCAiaW1wb3J0UmVzdWx0c0NvbnRlbnQiLCAiaW1wb3J0U3VibWl0IiwgImltcG9ydFRhYnMiLCAiaW1wb3J0UGFuZWxzIiwgImNvcHlUZW1wbGF0ZUJ0biIsICJ0ZW1wbGF0ZUpzb24iLCAiaW1wb3J0UGFzdGVJbnB1dCIsICJwYXN0ZUZvcm1hdEJ0biIsICJwYXN0ZUVycm9yIiwgImltcG9ydFNlbGVjdGVkRmlsZXMiLCAiYWN0aXZlSW1wb3J0VGFiIiwgImRlbGV0ZVBhZ2VNb2RhbCIsICJkZWxldGVQYWdlTmFtZSIsICJkZWxldGVQYWdlQ2FuY2VsIiwgImRlbGV0ZVBhZ2VDb25maXJtIiwgInBhZ2VUb0RlbGV0ZSIsICJzaXRlS2V5IiwgInNpdGVTbHVnVmFsdWUiLCAic2FmZVNpdGVTbHVnIiwgImNvbGxlY3Rpb25zQXBpQmFzZSIsICJzdG9yYWdlS2V5cyIsICJjcmVhdGVCbG9jayIsICJpZCIsICJsYWJlbCIsICJ0eXBlIiwgInN0YXR1cyIsICJkZXNjcmlwdGlvbiIsICJwcm9wcyIsICJibG9ja0xpYnJhcnlEZWZpbml0aW9ucyIsICJwZXJzaXN0QWN0aXZlUGFnZSIsICJwYWdlSWQiLCAic3RvcmVkIiwgImZvcm1hdEJsb2NrQ291bnQiLCAibm9ybWFsaXplUGFnZVNsdWciLCAiZ2VuZXJhdGVCbG9ja0lkIiwgImtleSIsICJjcmVhdGVJbml0aWFsQmxvY2tzIiwgInNldEFjdGl2ZUxhYmVscyIsICJyZW5kZXJQcmV2aWV3TWV0YSIsICJ0YWciLCAiZ2V0U3RhdHVzQmFkZ2VDbGFzc2VzIiwgInJlbmRlckJsb2NrRGV0YWlscyIsICJhcHBseVByZXZpZXdIaWdobGlnaHQiLCAiZG9jIiwgIm5vZGUiLCAiYmxvY2tzIiwgIml0ZW0iLCAiYWNjZW50IiwgImNvbnRlbnQiLCAiaGFuZGxlIiwgInRleHRXcmFwcGVyIiwgIm1ldGEiLCAidHlwZUJhZGdlIiwgInN0YXR1c0JhZGdlIiwgImRpc3BsYXlMYWJlbCIsICJjb2xsZWN0aW9uTmFtZSIsICJkZXNpZ25Db2xsZWN0aW9ucyIsICJpbmZvIiwgImFjdGlvbnMiLCAibW92ZUJ1dHRvbnMiLCAibW92ZVVwIiwgIm1vdmVCbG9ja0J5T2Zmc2V0IiwgIm1vdmVEb3duIiwgImRlbGV0ZUJ1dHRvbiIsICJvcGVuQmxvY2tEZWxldGVNb2RhbCIsICJzZXRBY3RpdmVCbG9jayIsICJvcGVuRGVsZXRlUGFnZU1vZGFsIiwgImNsb3NlRGVsZXRlUGFnZU1vZGFsIiwgImV4ZWN1dGVEZWxldGVQYWdlIiwgInBhZ2VUaXRsZSIsICJyZXN1bHQiLCAicCIsICJhY3RpdmVJZCIsICJsaXN0IiwgImlzRGVza3RvcERyYXdlciIsICJjbG9zZURyYXdlciIsICJkZWxldGVCdG4iLCAiZSIsICJ0YXJnZXRCbG9jayIsICJuZXdCbG9ja3MiLCAidXBkYXRlQ3VycmVudFBhZ2VTdGF0ZSIsICJpc0Rlc2t0b3BSZW9yZGVyIiwgIm9mZnNldCIsICJpbmRleCIsICJuZXdJbmRleCIsICJtb3ZlZCIsICJyZW9yZGVyQmxvY2tzIiwgInNvdXJjZUlkIiwgInRhcmdldElkIiwgImZyb21JbmRleCIsICJ0b0luZGV4IiwgInJlb3JkZXJCbG9ja3NXaXRoUG9zaXRpb24iLCAicG9zaXRpb24iLCAiaW5zZXJ0SW5kZXgiLCAidXBkYXRlRHJhZ2dhYmxlU3RhdGUiLCAiZHJhZ2dhYmxlIiwgImNsb3NlQmxvY2tMaWJyYXJ5IiwgImJsb2NrTGlicmFyeU9wZW4iLCAib3BlbkJsb2NrTGlicmFyeSIsICJ0b2dnbGVCbG9ja0xpYnJhcnkiLCAiYWRkQmxvY2tGcm9tTGlicmFyeSIsICJkZWZpbml0aW9uIiwgIm5ld0Jsb2NrIiwgImZpcnN0Q29sbGVjdGlvbklkIiwgIm5leHRCbG9ja3MiLCAiZGVsZXRlQmxvY2tCeUlkIiwgIm5leHRBY3RpdmUiLCAiY2xvc2VCbG9ja0RlbGV0ZU1vZGFsIiwgInBlbmRpbmdEZWxldGVCbG9ja0lkIiwgInRhcmdldCIsICJzeW5jRHJhd2VyU3RhdGUiLCAib3BlbkRyYXdlciIsICJvcGVuQWRkUGFnZUZvcm0iLCAicGFnZVNsdWdNYW51YWxseUVkaXRlZCIsICJjbG9zZUFkZFBhZ2VGb3JtIiwgInN5bmNTbHVnRnJvbVRpdGxlIiwgIm5vcm1hbGl6ZUJsb2NrRGF0YSIsICJsb2FkRGVzaWduQ29sbGVjdGlvbnMiLCAiY3VycmVudFZhbHVlIiwgInN5bmNDb2xsZWN0aW9uU2VsZWN0aW9uSW5mbyIsICJjb2xsZWN0aW9uSWQiLCAiY29sbGVjdGlvbiIsICJkZXRhaWxzIiwgInNlbGVjdGVkVmFsdWUiLCAib3B0aW9uIiwgImZhbGxiYWNrT3B0aW9uIiwgImNyZWF0ZWRQYWdlIiwgInJlc2V0UGFzdGVTdGF0ZSIsICJ2YWxpZGF0ZVBhc3RlSnNvbiIsICJmb3JtYXRQYXN0ZUpzb24iLCAidXBkYXRlSW1wb3J0U3VibWl0U3RhdGUiLCAib3BlbkltcG9ydE1vZGFsIiwgInVwZGF0ZUltcG9ydEZpbGVMaXN0IiwgInQiLCAiY2xvc2VJbXBvcnRNb2RhbCIsICJmIiwgImhhbmRsZUltcG9ydEZpbGVzIiwgImZpbGVzIiwgImpzb25GaWxlcyIsICJleGVjdXRlSW1wb3J0IiwgIl9mIiwgIl9nIiwgIl9oIiwgIl9pIiwgIl9qIiwgIl9rIiwgInBhZ2VzRGF0YSIsICJwYXJzZUVyciIsICJlcnJvckxpbmUiLCAiZXJyb3JEZXRhaWwiLCAicG9zIiwgImxpbmVzIiwgImxpbmVOdW0iLCAiY29sTnVtIiwgImZpbGVFcnJvcnMiLCAiZmlsZSIsICJodG1sIiwgImhhc0RhdGEiLCAiaGFzU3VjY2VzcyIsICJoYXNFcnJvcnMiLCAiYyIsICJjb2xsZWN0aW9uc01zZyIsICJidG4iLCAidGFyZ2V0UGFuZWwiLCAicHJldmlld1dpbmRvdyIsICJ0b2dnbGVTZW9QYW5lbCIsICJzaG93IiwgInNldFNlb0ZlZWRiYWNrIiwgInRvbmUiLCAiY29sb3IiLCAiaXNWaXNpYmxlIiwgInNlb0RhdGEiLCAidXBkYXRlZFBhZ2UiLCAiaGFuZGxlQmxvY2tEcmFnU3RhcnQiLCAiZHJhZ1NvdXJjZUlkIiwgImNsZWFyRHJhZ0luZGljYXRvcnMiLCAiaGFuZGxlQmxvY2tEcmFnRW5kIiwgImhhbmRsZUJsb2NrRHJhZ092ZXIiLCAicmVjdCIsICJtaWRZIiwgImlzQWJvdmUiLCAiaGFuZGxlQmxvY2tEcmFnTGVhdmUiLCAicmVsYXRlZFRhcmdldCIsICJoYW5kbGVCbG9ja0Ryb3AiLCAic291cmNlIiwgImRyb3BQb3NpdGlvbiIsICJjb2xsZWN0aW9uTGlzdCIsICJjb2xsZWN0aW9uRW1wdHlTdGF0ZSIsICJjb2xsZWN0aW9uSXRlbXNFbXB0eSIsICJpdGVtVGFibGVXcmFwcGVyIiwgIml0ZW1UYWJsZUJvZHkiLCAiY29sbGVjdGlvblRpdGxlIiwgImNvbGxlY3Rpb25EZXNjcmlwdGlvbiIsICJjb2xsZWN0aW9uRHJhd2VyIiwgImNvbGxlY3Rpb25EcmF3ZXJCYWNrZHJvcCIsICJjb2xsZWN0aW9uRHJhd2VyT3BlbkJ1dHRvbnMiLCAiY29sbGVjdGlvbkRyYXdlckNsb3NlQnV0dG9ucyIsICJpdGVtQWRkQnV0dG9uIiwgIml0ZW1EZXRhaWxFbXB0eSIsICJpdGVtRm9ybSIsICJpdGVtRm9ybUZpZWxkcyIsICJpdGVtU3RhdHVzQmFkZ2UiLCAiaXRlbURlbGV0ZUJ1dHRvbiIsICJpdGVtRGVsZXRlTW9kYWwiLCAiaXRlbURlbGV0ZUNhbmNlbCIsICJpdGVtRGVsZXRlQ29uZmlybSIsICJpdGVtRm9ybUNhbmNlbCIsICJpdGVtRm9ybVNhdmUiLCAic3RhdHVzQmFkZ2VCYXNlQ2xhc3MiLCAic2FmZVNpdGVTbHVnVmFsdWUiLCAiY29sbGVjdGlvbnMiLCAiY29sbGVjdGlvbkl0ZW1zIiwgImFjdGl2ZUNvbGxlY3Rpb25JZCIsICJhY3RpdmVJdGVtSWQiLCAiaXNDcmVhdGluZ0l0ZW0iLCAiaXRlbVNsdWdNYW51YWxseUVkaXRlZCIsICJwZW5kaW5nRGVsZXRlSXRlbUlkIiwgIm9wZW5Db2xsZWN0aW9uRHJhd2VyIiwgImNsb3NlQ29sbGVjdGlvbkRyYXdlciIsICJub3JtYWxpemVJdGVtU2x1Z0lucHV0IiwgInJhdyIsICJjbGVhbmVkU2VnbWVudHMiLCAic2VnbWVudCIsICJmb3JtYXRJdGVtRGF0ZSIsICJkYXRlIiwgInVwZGF0ZUNvbGxlY3Rpb25IZWFkZXIiLCAidXBkYXRlSXRlbXNFbXB0eU1lc3NhZ2UiLCAiaGlkZUl0ZW1Gb3JtIiwgInNob3dJdGVtRm9ybSIsICJzeW5jQWRkQnV0dG9uU3RhdGUiLCAic3luY0l0ZW1TdGF0dXNCYWRnZSIsICJjb2xvckNsYXNzIiwgInJlbmRlckNvbGxlY3Rpb25MaXN0IiwgInNldEFjdGl2ZUNvbGxlY3Rpb24iLCAicmVuZGVySXRlbVRhYmxlIiwgInJvdyIsICJzdGF0dXNDbGFzc2VzIiwgImhhbmRsZVNlbGVjdCIsICJzZWxlY3RJdGVtIiwgIml0ZW1JZCIsICJwb3B1bGF0ZUl0ZW1Gb3JtIiwgInByZXBhcmVOZXdJdGVtRm9ybSIsICJjb2xsZWN0SXRlbUZvcm1WYWx1ZXMiLCAic2x1Z0lucHV0IiwgInN1bW1hcnkiLCAiaW1hZ2UiLCAiY3RhVGV4dCIsICJjdGFVcmwiLCAiY3RhIiwgInNldEZvcm1TYXZpbmdTdGF0ZSIsICJpc1NhdmluZyIsICJmZXRjaENvbGxlY3Rpb25JdGVtcyIsICJjcmVhdGVDb2xsZWN0aW9uSXRlbSIsICJ1cGRhdGVDb2xsZWN0aW9uSXRlbSIsICJkZWxldGVDb2xsZWN0aW9uSXRlbSIsICJsb2FkQ29sbGVjdGlvbnMiLCAiZGVmYXVsdElkIiwgInNhdmVkSXRlbSIsICJjbG9zZURlbGV0ZU1vZGFsIiwgIm9wZW5EZWxldGVNb2RhbCIsICJmb3JtIiwgInByb3RvY29sU2VsZWN0IiwgImhvc3RJbnB1dCIsICJwb3J0SW5wdXQiLCAidXNlcklucHV0IiwgInBhc3N3b3JkSW5wdXQiLCAic2hvd1Bhc3N3b3JkVG9nZ2xlIiwgInJlbW90ZVBhdGhJbnB1dCIsICJmZWVkYmFjayIsICJzYXZlQnV0dG9uIiwgInRlc3RCdXR0b24iLCAiZGVwbG95QnV0dG9uIiwgImhpc3RvcnlMaXN0IiwgImxvZ0JveCIsICJkZXBsb3lBcGlCYXNlIiwgImRlcGxveVJ1bkFwaSIsICJkZXBsb3lMb2dBcGkiLCAiaGFzUGFzc3dvcmQiLCAiYnVzeUFjdGlvbiIsICJzYW5pdGl6ZVJlbW90ZVBhdGgiLCAidHJpbW1lZCIsICJzZXRGZWVkYmFjayIsICJiYXNlQ2xhc3MiLCAidG9uZUNsYXNzIiwgImljb24iLCAic2V0QnVzeSIsICJhY3Rpb24iLCAiZGlzYWJsZSIsICJzcGlubmVyIiwgInBvcHVsYXRlRm9ybSIsICJyZW5kZXJIaXN0b3J5IiwgImVudHJpZXMiLCAibGkiLCAiZHVyYXRpb24iLCAicmVuZGVyTG9ncyIsICJmZXRjaEhpc3RvcnkiLCAiZmV0Y2hDb25maWciLCAiYnVpbGRQYXlsb2FkIiwgInB3ZCIsICJlcnJvclBheWxvYWQiLCAidGFiQnV0dG9ucyIsICJ0YWJQYW5lbHMiLCAic2l0ZUZlZWRiYWNrIiwgInRoZW1lRm9ybSIsICJzd2l0Y2hUYWIiLCAic3VibWl0IiwgImZvcm1EYXRhIiwgImN1cnJlbnRQYXNzd29yZCIsICJuZXdQYXNzd29yZCIsICJjb25maXJtUGFzc3dvcmQiLCAibmFtZUlucHV0IiwgImxhbmdTZWxlY3QiLCAidGFnbGluZUlucHV0IiwgInNldFNpdGVGZWVkYmFjayIsICJzaXRlQ29uZmlnQXBpIiwgImxvYWRTaXRlQ29uZmlnIiwgInRoZW1lQXBpIiwgImNvbG9yU2VsZWN0cyIsICJoZWFkaW5nU2VsZWN0IiwgImJvZHlTZWxlY3QiLCAicmFkaXVzU21hbGwiLCAicmFkaXVzTWVkaXVtIiwgInJhZGl1c0xhcmdlIiwgInByZXZpZXciLCAidGhlbWVGZWVkYmFjayIsICJhcHBseUJ1dHRvbiIsICJ0YWlsd2luZEh1ZXMiLCAidGFpbHdpbmRTaGFkZXMiLCAidGFpbHdpbmRUb2tlbnMiLCAicyIsICJmaWxsQ29sb3JPcHRpb25zIiwgInNlbCIsICJ0b2tlbiIsICJoIiwgInNldFRoZW1lRmVlZGJhY2siLCAic3luY1ByZXZpZXciLCAidG9rZW5Ub0hleCIsICJzaGFkZU51bSIsICJmYWN0b3IiLCAidG9SZ2IiLCAiaGV4IiwgInYiLCAiciIsICJnIiwgImIiLCAibWl4IiwgInNldENvbG9yRmllbGRzIiwgImxvYWRUaGVtZSIsICJzZW9Db25maWdGb3JtIiwgImluZGV4QWxsQ2hlY2tib3giLCAic2VvQ29uZmlnRmVlZGJhY2siLCAibG9hZFNlb0NvbmZpZyIsICJpbmRleEFsbCIsICJjdXJyZW50UmVzIiwgImN1cnJlbnRDb25maWciLCAiYW5hbHl0aWNzRm9ybSIsICJoZWFkVGV4dGFyZWEiLCAiYm9keVRleHRhcmVhIiwgImFuYWx5dGljc0ZlZWRiYWNrIiwgImFuYWx5dGljc1NhdmVCdXR0b24iLCAic2V0QW5hbHl0aWNzRmVlZGJhY2siLCAibG9hZEFuYWx5dGljc0NvbmZpZyIsICJncmlkIiwgImVtcHR5U3RhdGUiLCAiY291bnRCYWRnZSIsICJmaWx0ZXJUeXBlIiwgImRldGFpbEVtcHR5IiwgImRldGFpbFBhbmVsIiwgImRldGFpbFByZXZpZXciLCAiZGV0YWlsTmFtZSIsICJkZXRhaWxUeXBlIiwgImRldGFpbFNpemUiLCAiZGV0YWlsUGF0aCIsICJkZXRhaWxVc2VkIiwgImRldGFpbEFsdElucHV0IiwgImRldGFpbFNhdmVCdXR0b24iLCAiZGV0YWlsRGVsZXRlQnV0dG9uIiwgImRlbGV0ZU1vZGFsIiwgImRlbGV0ZUNhbmNlbEJ1dHRvbiIsICJkZWxldGVDb25maXJtQnV0dG9uIiwgInVwbG9hZE9wZW5CdXR0b24iLCAiZmlsZUlucHV0IiwgInVwbG9hZFN0YXR1cyIsICJtZWRpYUFwaUJhc2UiLCAibWVkaWFJdGVtcyIsICJmaWx0ZXJlZEl0ZW1zIiwgImFjdGl2ZU1lZGlhSWQiLCAiaGlnaGxpZ2h0TWVkaWFJZCIsICJwZW5kaW5nVXBsb2FkRmlsZSIsICJ1cGxvYWRJblByb2dyZXNzIiwgImRldGFpbERpcnR5IiwgInVwbG9hZE1vZGUiLCAidXBsb2FkUHJldmlld1VybCIsICJkZXJpdmVHcm91cFR5cGUiLCAiZmlsZW5hbWUiLCAiaXNJbWFnZVR5cGUiLCAiZm9ybWF0VHlwZUxhYmVsIiwgImV4dCIsICJmb3JtYXRGaWxlU2l6ZSIsICJzaXplIiwgInJlc2V0RGV0YWlsUGFuZWwiLCAiY2xlYXJVcGxvYWRTdGF0ZSIsICJ1cGRhdGVEZXRhaWxBY3Rpb25zIiwgInVwZGF0ZUNvdW50QmFkZ2UiLCAicmVuZGVyR3JpZCIsICJzZWxlY3RNZWRpYSIsICJyZW5kZXJVc2VkSW4iLCAic2F2aW5nIiwgIm1lZGlhSWQiLCAic2hvd1VwbG9hZFByZXZpZXciLCAiYXBwbHlGaWx0ZXJzIiwgInR5cGVGaWx0ZXIiLCAibG9hZE1lZGlhIiwgImhhbmRsZUZpbGVTZWxlY3Rpb24iLCAicmVhZEZpbGVBc0Jhc2U2NCIsICJyZXNvbHZlIiwgInJlamVjdCIsICJyZWFkZXIiLCAiYmFzZTY0IiwgInVwbG9hZFNlbGVjdGVkTWVkaWEiLCAiZGVsZXRlQWN0aXZlTWVkaWEiLCAiZGlzYWJsZUJ1dHRvbnMiLCAiZW5hYmxlQnV0dG9ucyIsICJ1cGRhdGVkIl0KfQo=
