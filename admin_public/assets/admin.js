(()=>{document.addEventListener("DOMContentLoaded",()=>{console.log("[admin] Atelier charg\xE9");let io=document.querySelector("[data-logout]");io&&io.addEventListener("click",async()=>{io.disabled=!0;try{await fetch("/api/logout",{method:"POST",headers:{"Content-Type":"application/json"}})}catch(s){console.error("[admin] Impossible de se d\xE9connecter",s)}finally{window.location.href="/admin/index.html"}});let ds=document.querySelector("[data-admin-sidebar]"),ft=document.querySelector("[data-admin-sidebar-overlay]"),Ho=document.querySelectorAll("[data-admin-sidebar-toggle]"),bn=document.querySelectorAll("[data-admin-sidebar-close]"),lo=document.body,js=!1,Bs=()=>{if(!ds)return;if(window.matchMedia("(min-width: 1024px)").matches){ds.classList.remove("hidden"),ft==null||ft.classList.add("hidden"),lo.classList.remove("overflow-hidden");return}js?(ds.classList.remove("hidden"),ft==null||ft.classList.remove("hidden"),lo.classList.add("overflow-hidden")):(ds.classList.add("hidden"),ft==null||ft.classList.add("hidden"),lo.classList.remove("overflow-hidden"))},xn=()=>{js=!0,Bs()},co=()=>{js=!1,Bs()};ds&&Ho.length>0&&(Ho.forEach(s=>{s.addEventListener("click",xn)}),bn.forEach(s=>{s.addEventListener("click",co)}),ft==null||ft.addEventListener("click",co),window.addEventListener("resize",Bs),window.addEventListener("keydown",s=>{s.key==="Escape"&&js&&co()}),Bs());let Uo="clower:currentSite",Ro="clower:currentSiteName",Y={slug:null,name:""};(()=>{try{Y.slug=window.localStorage.getItem(Uo),Y.name=window.localStorage.getItem(Ro)||""}catch{Y.slug=null,Y.name=""}})();let uo=document.querySelectorAll("[data-site-card]"),wn=document.querySelectorAll("[data-site-select]"),us=document.querySelector("[data-current-site-name]"),zo=document.querySelector("[data-workspace-site-name]"),Oo=document.querySelector("[data-workspace-back-name]"),Et=document.querySelector("[data-workspace-back-modal]"),Sn=document.querySelectorAll("[data-workspace-back]"),Ln=document.querySelectorAll("[data-workspace-back-cancel]"),mo=document.querySelector("[data-workspace-back-confirm]"),kn=document.querySelectorAll("[data-workspace-tab]"),fo=document.querySelector("[data-site-toast]"),Vo=document.querySelector("[data-site-toast-message]"),En=document.querySelectorAll("[data-site-create]"),rt=document.querySelector("[data-site-modal]"),Xe=document.querySelector("[data-site-form]"),Ve=Xe==null?void 0:Xe.querySelector('input[name="siteName"]'),Me=Xe==null?void 0:Xe.querySelector('input[name="siteSlug"]'),Je=document.querySelector("[data-site-slug-error]"),Ge=document.querySelector("[data-site-modal-error]"),Cn=document.querySelectorAll("[data-site-modal-cancel]"),Qt=document.querySelector("[data-site-modal-submit]"),O=Mn(),Fs=!1,po=null,Jo='a[href], button:not([disabled]), textarea, input, select, [tabindex]:not([tabindex="-1"])',es=[],Go=s=>Array.from(s.querySelectorAll(Jo)).filter(a=>!a.hasAttribute("disabled")&&!a.getAttribute("aria-hidden")),qn=s=>{if(!es.length)return;let a=es[es.length-1],{modal:i,onClose:m}=a;if(s.key==="Escape"){s.preventDefault(),m==null||m();return}if(s.key!=="Tab")return;let h=Go(i);if(!h.length)return;let x=h[0],R=h[h.length-1];s.shiftKey?document.activeElement===x&&(s.preventDefault(),R.focus()):document.activeElement===R&&(s.preventDefault(),x.focus())};document.addEventListener("keydown",qn);let ms=(s,a)=>{if(!s)return;es.push({modal:s,onClose:a,trigger:document.activeElement instanceof HTMLElement?document.activeElement:null});let i=Go(s);window.setTimeout(()=>{var m,h;(h=(m=i[0]||s).focus)==null||h.call(m)},0)},fs=s=>{var m,h;let a=es.findIndex(x=>x.modal===s);if(a===-1)return;let[i]=es.splice(a,1);(h=(m=i.trigger)==null?void 0:m.focus)==null||h.call(m)},ee=document.querySelector("[data-mobile-panels-overlay]"),pt=document.querySelector("[data-mobile-panels-layer]"),ps={left:document.querySelector('[data-mobile-panel="left"]'),right:document.querySelector('[data-mobile-panel="right"]')},Wo=document.querySelectorAll("[data-mobile-panel-toggle]"),An=document.querySelectorAll("[data-mobile-panel-close]"),gs={left:null,right:null},wt=null,Ms=()=>window.matchMedia("(min-width: 1024px)").matches,Ps=(s,a,i)=>{!s||!a||a.split(" ").map(m=>m.trim()).filter(Boolean).forEach(m=>s.classList[i](m))},go=(s,a)=>{if(!s)return;let i=s.dataset.mobilePanelHidden||"",m=s.dataset.mobilePanelVisible||"translate-x-0";a?(Ps(s,m,"remove"),Ps(s,i,"add"),s.classList.add("pointer-events-none"),s.classList.remove("pointer-events-auto"),s.setAttribute("aria-hidden","true"),s.dataset.mobilePanelOpen="false"):(Ps(s,i,"remove"),Ps(s,m,"add"),s.classList.remove("pointer-events-none"),s.classList.add("pointer-events-auto"),s.setAttribute("aria-hidden","false"),s.dataset.mobilePanelOpen="true")},hs=(s=wt)=>{var m;if(!s||Ms())return;let a=ps[s];if(!a)return;go(a,!0);let i=gs[s];i&&i.setAttribute("aria-expanded","false"),gs[s]=null,wt===s&&(ee==null||ee.classList.add("hidden"),ee==null||ee.classList.remove("pointer-events-auto"),ee==null||ee.classList.add("pointer-events-none"),ee==null||ee.setAttribute("aria-hidden","true"),pt==null||pt.classList.add("pointer-events-none"),document.body.classList.remove("overflow-hidden"),(m=i==null?void 0:i.focus)==null||m.call(i),wt=null)},Tn=(s,a)=>{if(!s||Ms())return;let i=ps[s];if(!i)return;wt&&wt!==s&&hs(wt),go(i,!1),wt=s,gs[s]=a||null,a&&a.setAttribute("aria-expanded","true"),ee==null||ee.classList.remove("hidden","pointer-events-none"),ee==null||ee.classList.add("pointer-events-auto"),ee==null||ee.setAttribute("aria-hidden","false"),pt==null||pt.classList.remove("pointer-events-none"),document.body.classList.add("overflow-hidden");let m=i.querySelector(Jo);window.setTimeout(()=>{var h;(h=m==null?void 0:m.focus)==null||h.call(m)},0)},Ko=()=>{Ms()?(ee==null||ee.classList.add("hidden"),pt==null||pt.classList.add("pointer-events-none"),document.body.classList.remove("overflow-hidden"),wt=null,Object.keys(ps).forEach(s=>{let a=ps[s];if(!a)return;a.classList.remove("pointer-events-none"),a.classList.add("pointer-events-auto"),a.setAttribute("aria-hidden","false"),a.dataset.mobilePanelOpen="false";let i=gs[s];i==null||i.setAttribute("aria-expanded","false"),gs[s]=null})):(Object.entries(ps).forEach(([s,a])=>{a&&a.dataset.mobilePanelOpen!=="true"&&go(a,!0)}),wt||(ee==null||ee.classList.add("hidden","pointer-events-none"),ee==null||ee.classList.remove("pointer-events-auto"),ee==null||ee.setAttribute("aria-hidden","true"),pt==null||pt.classList.add("pointer-events-none")))};Wo.length>0&&(Wo.forEach(s=>{let a=s.dataset.mobilePanelToggle;s.addEventListener("click",()=>{wt===a?hs(a):Tn(a,s)})}),An.forEach(s=>{let a=s.dataset.mobilePanelClose;s.addEventListener("click",()=>hs(a))}),ee==null||ee.addEventListener("click",()=>hs()),window.addEventListener("keydown",s=>{s.key==="Escape"&&wt&&!Ms()&&hs()}),window.addEventListener("resize",Ko),Ko());let $=s=>{!fo||!Vo||(Vo.textContent=s,fo.classList.remove("hidden"),po&&clearTimeout(po),po=setTimeout(()=>{fo.classList.add("hidden")},2500))};function Bt(s){return s?s.startsWith("/")?s:`/${s}`:""}function qe(s){return(s==null?void 0:s.replace(/^\//,""))||""}let Ns=(s,a)=>{let i=s?Bt(s):null;try{i&&(window.localStorage.setItem(Uo,i),Y.slug=i),typeof a=="string"&&a.length>0&&(window.localStorage.setItem(Ro,a),Y.name=a)}catch{Y.slug=i||Y.slug,Y.name=a||Y.name}},Zo=s=>{us&&s&&(us.textContent=s),zo&&s&&(zo.textContent=s),Oo&&s&&(Oo.textContent=s)},ho=s=>{kn.forEach(a=>{let i=a.dataset.workspaceTab;if(!i)return;if(!s){a.href="#",a.classList.add("pointer-events-none","opacity-50","text-slate-400"),a.setAttribute("aria-disabled","true");return}let m=encodeURIComponent(qe(s));a.href=`/admin/site/${m}/${i}`,a.classList.remove("pointer-events-none","opacity-50","text-slate-400"),a.removeAttribute("aria-disabled")})},Ds=(s,a={})=>{if(!s)return;let i=Bt(s),m=a.siteName||Y.name||(us==null?void 0:us.dataset.defaultSiteName)||"";uo.forEach(x=>{let W=Bt(x.dataset.siteCard||"")===i,U=x.querySelector("[data-site-active-badge]");W?(x.classList.add("border-[#9C6BFF]","ring-2","ring-[#9C6BFF]","shadow-md"),x.classList.remove("border-slate-200"),U==null||U.classList.remove("hidden"),m=x.dataset.siteName||m):(x.classList.remove("border-[#9C6BFF]","ring-2","ring-[#9C6BFF]","shadow-md"),x.classList.add("border-slate-200"),U==null||U.classList.add("hidden"))}),a.persist!==!1&&Ns(i,a.siteName||m);let h=a.siteName||m;Zo(h),ho(i)},In=async(s,a)=>{let i=Bt(s);try{let m=await fetch("/api/sites/select",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({slug:i})});if(!m.ok){let U=await m.json().catch(()=>({}));$(U.message||"Impossible de s\xE9lectionner ce site.");return}let h=await m.json().catch(()=>({})),x=Bt(h.slug||i),R=h.name||a;Ns(x,R),Ds(x,{siteName:R,persist:!1});let W=encodeURIComponent(qe(x));window.location.href=`/admin/site/${W}/design`}catch(m){console.error("[admin] Impossible de s\xE9lectionner le site",m),$("Erreur inattendue lors de la s\xE9lection.")}},$n=async()=>{try{let s=await fetch("/api/sites/current",{credentials:"same-origin"});if(!s.ok){s.status===404&&O&&(window.location.href="/admin/sites");return}let a=await s.json(),i=Bt(a.slug);Ns(i,a.name),Ds(i,{siteName:a.name,persist:!1})}catch(s){console.warn("[admin] Impossible de r\xE9cup\xE9rer le site actif",s)}};(()=>{if(Y.slug){Ds(Y.slug,{siteName:Y.name,persist:!1});return}let s=document.querySelector('[data-site-card][data-site-default="true"]')||uo[0];s&&Ds(s.dataset.siteCard,{siteName:s.dataset.siteName||"",persist:!1})})(),$n(),O?ho(O.slugValue):Y.slug&&ho(Y.slug),wn.forEach(s=>{s.addEventListener("click",()=>{if(s.disabled)return;let a=s.dataset.siteSelect,i=s.dataset.siteSelectName||"Ce site";a&&(s.disabled=!0,In(a,i).finally(()=>{s.disabled=!1}))})});let Gt=s=>(s||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),jn=s=>{let a=Gt(s||"");return a?`/${a}`:""},Bn=()=>{rt&&(rt.classList.remove("hidden"),rt.classList.add("flex"),Fs=!1,Xe==null||Xe.reset(),Je&&(Je.textContent=""),Ge&&(Ge.textContent=""),Me&&Ve&&(Me.value=Gt(Ve.value)),ms(rt,vs),window.setTimeout(()=>{Ve==null||Ve.focus()},0))},vs=()=>{rt&&(rt.classList.add("hidden"),rt.classList.remove("flex"),Fs=!1,Xe==null||Xe.reset(),Je&&(Je.textContent=""),Ge&&(Ge.textContent=""),fs(rt))};En.forEach(s=>{s.addEventListener("click",Bn)}),Cn.forEach(s=>{s.addEventListener("click",vs)}),rt==null||rt.addEventListener("click",s=>{s.target===rt&&vs()}),Ve==null||Ve.addEventListener("input",()=>{Me&&((!Fs||Me.value.trim().length===0)&&(Me.value=Gt(Ve.value)),Je&&(Je.textContent=""),Ge&&(Ge.textContent=""))}),Me==null||Me.addEventListener("focus",()=>{let s=(Me==null?void 0:Me.value)||"",a=(Ve==null?void 0:Ve.value)||"";!s.trim()&&a.trim()&&(Me.value=Gt(a))}),Me==null||Me.addEventListener("input",()=>{Fs=!0,Je&&(Je.textContent=""),Ge&&(Ge.textContent="")});let Fn=()=>new Set(Array.from(uo).map(s=>Bt(s.dataset.siteCard||"")));Xe==null||Xe.addEventListener("submit",async s=>{if(s.preventDefault(),console.log("[admin] Form submit - siteNameInput:",Ve,"siteSlugInput:",Me),!Ve||!Me){console.log("[admin] Missing inputs, aborting");return}let a=(Ve.value||"").trim(),i=(Me.value||"").trim();console.log("[admin] nameValue:",a,"slugValue:",i),!i&&a&&(i=Gt(a),Me.value=i,console.log("[admin] Auto-generated slug:",i));let m=jn(i);if(console.log("[admin] normalizedSlug:",m),!a){console.log("[admin] Name validation failed"),Ge&&(Ge.textContent="Le nom du site est requis."),Ve.focus();return}if(!m){console.log("[admin] Slug validation failed"),Je&&(Je.textContent="Le slug ne peut pas \xEAtre vide ou contenir uniquement des caract\xE8res sp\xE9ciaux."),Me.focus();return}if(Fn().has(m)){Je&&(Je.textContent="Ce slug est d\xE9j\xE0 utilis\xE9.");return}Je&&(Je.textContent=""),Ge&&(Ge.textContent=""),Qt&&(Qt.disabled=!0,Qt.textContent="Cr\xE9ation...");try{let x=await fetch("/api/sites",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a,slug:m})});if(!x.ok){let se=await x.json().catch(()=>({})),g=se.message||"Impossible de cr\xE9er ce site.";Ge&&(Ge.textContent=g),se.field==="slug"&&Je&&(Je.textContent=g);return}let R=await x.json(),W=Bt((R==null?void 0:R.slug)||m),U=(R==null?void 0:R.name)||a;Ns(W,U),vs();let ne=encodeURIComponent(qe(W));window.location.href=`/admin/site/${ne}/design`}catch(x){console.error("[admin] Impossible de cr\xE9er le site",x),Ge&&(Ge.textContent="Erreur inattendue. R\xE9essaie dans un instant.")}finally{Qt&&(Qt.disabled=!1,Qt.textContent="Cr\xE9er")}}),window.addEventListener("keydown",s=>{s.key==="Escape"&&(rt&&!rt.classList.contains("hidden")&&vs(),Et&&!Et.classList.contains("hidden")&&Hs(),blockDeleteModal&&!blockDeleteModal.classList.contains("hidden")&&closeBlockDeleteModal(),blockLibraryOpen&&closeBlockLibrary())});function Mn(){let s=window.location.pathname.match(/^\/admin\/site\/([^/]+)(?:\/([^/]+))?/);return s?{slugPart:decodeURIComponent(s[1]),slugValue:Bt(decodeURIComponent(s[1])),section:s[2]||"design"}:null}function Pn(){return document.querySelector("[data-page-list]")?"design":document.querySelector("[data-collection-list]")?"content":document.querySelector("[data-media-grid]")?"media":document.querySelector("[data-deploy-form]")?"deploy":null}function Nn(){if(!Et){window.location.href="/admin/sites";return}Et.classList.remove("hidden"),Et.classList.add("flex"),ms(Et,Hs)}function Hs(){Et&&(Et.classList.add("hidden"),Et.classList.remove("flex"),fs(Et))}Sn.forEach(s=>{s.addEventListener("click",Nn)}),Ln.forEach(s=>{s.addEventListener("click",Hs)}),mo==null||mo.addEventListener("click",()=>{Hs(),window.location.href="/admin/sites"});let ys=(O==null?void 0:O.section)||Pn();ys==="design"&&Dn(),ys==="content"&&Hn(),ys==="media"&&zn(),ys==="deploy"&&Un(),ys==="settings"&&Rn(),O&&Y.name&&Zo(Y.name);function Dn(){let s=document.querySelectorAll("[data-page-list]");if(s.length===0)return;let a=document.querySelector("[data-active-page-title]"),i=document.querySelector("[data-active-page-slug]"),m=document.querySelector("[data-page-preview-tags]"),h=document.querySelector("[data-page-preview-frame]"),x=document.querySelector("[data-preview-open]"),R=document.querySelector("[data-preview-status]"),W=document.querySelector("[data-preview-highlight]"),U=document.querySelector("[data-seo-toggle]"),ne=document.querySelector("[data-seo-panel]"),se=document.querySelector("[data-seo-close]"),g=document.querySelector("[data-seo-form]"),E=document.querySelector("[data-seo-title]"),C=document.querySelector("[data-seo-description]"),L=document.querySelector("[data-seo-indexed]"),M=document.querySelector("[data-seo-feedback]"),P=document.querySelector("[data-seo-save]"),N=document.querySelector("[data-page-accessibility-toggle]"),H=document.querySelector("[data-page-accessibility-panel]"),u=document.querySelector("[data-page-accessibility-close]"),q=document.querySelector("[data-page-accessibility-form]"),k=document.querySelector("[data-page-accessibility-nav]"),T=document.querySelector("[data-page-accessibility-main]"),te=document.querySelector("[data-page-accessibility-feedback]"),K=document.querySelector("[data-page-accessibility-save]"),X=document.querySelector("[data-page-props-toggle]"),he=document.querySelector("[data-page-props-panel]"),me=document.querySelector("[data-page-props-close]"),$e=document.querySelector("[data-page-props-form]"),fe=document.querySelector("[data-page-name]"),ke=document.querySelector("[data-page-title-input]"),Ae=document.querySelector("[data-page-slug-input]"),D=document.querySelector("[data-page-description]"),b=document.querySelector("[data-page-props-feedback]"),v=document.querySelector("[data-page-props-save]"),S=document.querySelector("[data-blocks-list]"),Z=document.querySelector("[data-blocks-empty]"),re=document.querySelector("[data-block-count]"),pe=document.querySelector("[data-block-library-toggle]"),ve=document.querySelector("[data-block-library]"),et=document.querySelectorAll("[data-block-add]"),ce=document.querySelector("[data-block-delete-modal]"),tt=document.querySelector("[data-block-delete-confirm]"),ge=document.querySelector("[data-block-delete-cancel]"),ae=document.querySelector("[data-block-detail-empty]"),Te=document.querySelector("[data-block-detail-status]"),je=document.querySelector("[data-block-editor]"),Ft=document.querySelector("[data-block-editor-block-name]"),Mt=document.querySelector("[data-block-editor-block-type]"),ye=document.querySelector("[data-block-editor-unsupported]"),A=document.querySelector("[data-block-form]"),de=A?Array.from(A.querySelectorAll("[data-editor-section]")):[],l=document.querySelectorAll("[data-block-tab]"),I="content",V=document.querySelectorAll("[data-left-tab]"),J=document.querySelector('[data-left-panel="blocks"]'),qt=document.querySelector('[data-left-panel="pages"]'),St="blocks",bs=e=>{St=e,V.forEach(t=>{let o=t.dataset.leftTab===e;t.setAttribute("aria-selected",o?"true":"false"),o?(t.classList.add("text-[#9C6BFF]"),t.classList.remove("text-slate-500","hover:text-slate-700"),t.classList.add("after:absolute","after:bottom-0","after:left-0","after:right-0","after:h-0.5","after:bg-[#9C6BFF]")):(t.classList.remove("text-[#9C6BFF]"),t.classList.add("text-slate-500","hover:text-slate-700"),t.classList.remove("after:absolute","after:bottom-0","after:left-0","after:right-0","after:h-0.5","after:bg-[#9C6BFF]"))}),J&&J.classList.toggle("hidden",e!=="blocks"),qt&&qt.classList.toggle("hidden",e!=="pages")};V.forEach(e=>{e.addEventListener("click",()=>{bs(e.dataset.leftTab)})});let Wt=document.querySelector("[data-block-form-actions]"),Kt=document.querySelector("[data-block-form-autosave]"),xs=e=>{I=e,l.forEach(o=>{let r=o.dataset.blockTab===e;o.setAttribute("aria-selected",r?"true":"false"),r?(o.classList.add("text-[#9C6BFF]"),o.classList.remove("text-slate-500","hover:text-slate-700"),o.classList.add("after:absolute","after:bottom-0","after:left-0","after:right-0","after:h-0.5","after:bg-[#9C6BFF]")):(o.classList.remove("text-[#9C6BFF]"),o.classList.add("text-slate-500","hover:text-slate-700"),o.classList.remove("after:absolute","after:bottom-0","after:left-0","after:right-0","after:h-0.5","after:bg-[#9C6BFF]"))});let t=A==null?void 0:A.querySelector("[data-editor-section]:not(.hidden)");t&&t.querySelectorAll("[data-block-panel]").forEach(r=>{r.dataset.blockPanel===e?r.classList.remove("hidden"):r.classList.add("hidden")}),Wt&&Kt&&(e==="content"?(Wt.classList.remove("hidden"),Kt.classList.add("hidden")):(Wt.classList.add("hidden"),Kt.classList.remove("hidden")))};l.forEach(e=>{e.addEventListener("click",()=>{xs(e.dataset.blockTab)})});let be=A==null?void 0:A.querySelector('[name="collection-grid-collection"]'),ct=A==null?void 0:A.querySelector("[data-collection-selection-info]"),Pe=document.querySelector("[data-block-form-cancel]"),Ue=A==null?void 0:A.querySelector("[data-group-preview-mobile]"),De=A==null?void 0:A.querySelector("[data-group-preview-desktop]"),at=A==null?void 0:A.querySelector("[data-collection-preview-mobile]"),Ut=A==null?void 0:A.querySelector("[data-collection-preview-desktop]"),Pt={hero:{section:"hero",labelField:"title",descriptionField:"subtitle",fields:{title:"hero-title",subtitle:"hero-subtitle",ctaLabel:"hero-cta-label",ctaUrl:"hero-cta-url",image:"hero-image",layout:"hero-layout",height:"hero-height",contentAlign:"hero-content-align",horizontalAlign:"hero-horizontal-align",textAlign:"hero-text-align",overlay:"hero-overlay",titleSize:"hero-title-size",bg:"hero-bg",borderRadius:"hero-border-radius",shadow:"hero-shadow"}},paragraphe:{section:"paragraph",labelField:"title",descriptionField:"content",fields:{title:"paragraph-title",content:"paragraph-content",align:"paragraph-align",titleSize:"paragraph-title-size",textSize:"paragraph-text-size",spacing:"paragraph-spacing",bg:"paragraph-bg",borderRadius:"paragraph-border-radius",shadow:"paragraph-shadow"}},image:{section:"image",labelField:"alt",fields:{src:"image-src",alt:"image-alt",showCaption:"image-caption-toggle",caption:"image-caption",rounded:"image-rounded",shadow:"image-shadow",maxWidth:"image-max-width",height:"image-height",objectFit:"image-object-fit",align:"image-align",bg:"image-bg",borderRadius:"image-border-radius"}},groupe:{section:"group",fields:{columnsMobile:"group-columns-mobile",columnsDesktop:"group-columns-desktop",gap:"group-gap",itemsAlign:"group-items-align",mobileLayout:"group-mobile-layout",bg:"group-bg",borderRadius:"group-border-radius",shadow:"group-shadow"}},collectiongrid:{section:"collection",fields:{collectionId:"collection-grid-collection",limit:"collection-grid-limit",columnsMobile:"collection-columns-mobile",columnsDesktop:"collection-columns-desktop",gap:"collection-gap",itemsAlign:"collection-items-align",cardRounded:"collection-card-rounded",mobileLayout:"collection-mobile-layout",bg:"collection-bg",borderRadius:"collection-border-radius",shadow:"collection-shadow"}},form:{section:"form",labelField:"formTitle",fields:{formTitle:"form-title",actionUrl:"form-action-url",method:"form-method",serviceName:"form-service-name",submitLabel:"form-submit-label",successMessage:"form-success-message",maxWidth:"form-max-width",align:"form-align",buttonRounded:"form-button-rounded",spacing:"form-spacing",bg:"form-bg",borderRadius:"form-border-radius",shadow:"form-shadow"}},newsletterembed:{section:"newsletter",labelField:"title",fields:{title:"newsletter-title",serviceName:"newsletter-service-name",embedCode:"newsletter-embed-code",maxWidth:"newsletter-max-width",align:"newsletter-align",padding:"newsletter-padding",bg:"newsletter-bg",borderRadius:"newsletter-border-radius",shadow:"newsletter-shadow"}}},ws={texte:"paragraphe",paragraph:"paragraphe",paragraphs:"paragraphe",paragraphes:"paragraphe",text:"paragraphe",hero:"hero",image:"image",groupe:"groupe",group:"groupe",collection:"collectiongrid",collectiongrid:"collectiongrid","collection-grid":"collectiongrid",form:"form",formulaire:"form",contact:"form",newsletterembed:"newsletterembed",newsletter:"newsletterembed",embed:"newsletterembed"},So={animation:"anim-type",animationDelay:"anim-delay",animationDuration:"anim-duration"};Object.values(Pt).forEach(e=>{e.fields={...e.fields,...So}});let Zt=(e,t)=>{if(!Ue||!De)return;let o=r=>Array.from({length:Number(r)||1}).map(()=>'<span class="block h-2 w-full rounded-full bg-slate-300"></span>').join("");Ue.innerHTML=o(e),De.innerHTML=o(t)},ss=(e,t)=>{if(!at||!Ut)return;let o=r=>Array.from({length:Number(r)||1}).map(()=>'<span class="block h-2 w-full rounded-full bg-violet-300"></span>').join("");at.innerHTML=o(e),Ut.innerHTML=o(t)},Nt=async()=>{if(!yt)return[];let e=await fetch(yt,{headers:{Accept:"application/json"}});if(!e.ok)throw new Error("Impossible de charger les pages.");let t=await e.json().catch(()=>[]);return Array.isArray(t)?t:[]},Os=async({name:e,title:t,slug:o})=>{if(!yt)throw new Error("Site inconnu.");let r=await fetch(yt,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,title:t,slug:o})});if(!r.ok){let c=await r.json().catch(()=>({}));throw new Error(c.message||"Impossible de cr\xE9er la page.")}return r.json().catch(()=>({}))},At=async e=>{if(!(!yt||!(e!=null&&e.id)))try{let t=await fetch(`${yt}/${encodeURIComponent(e.id)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){let r=await t.json().catch(()=>({}));throw new Error(r.message||"Impossible de sauvegarder la page.")}let o=await t.json().catch(()=>({}));if(o!=null&&o.id){let r=Yt(o);return oe=oe.map(c=>c.id===r.id?r:c),(f==null?void 0:f.id)===r.id&&(f=r),r}return o}catch(t){console.error("[design] Save page failed",t),$(t.message||"Sauvegarde impossible.")}},Ss=async()=>{if(!yt){oe=[],Ne=null,f=null,Vt(oe,Ne),bt(null),ae==null||ae.classList.remove("hidden"),je==null||je.classList.add("hidden");return}try{let e=await Nt();if(oe=(Array.isArray(e)?e:[]).map(t=>Yt(t)),oe.length===0){Ne=null,f=null,Vt(oe,Ne),bt(null),ae==null||ae.classList.remove("hidden"),je==null||je.classList.add("hidden"),h&&(h.srcdoc=zt());return}Ne=ar(oe),kt(Ne)}catch(e){console.error("[design] Impossible de charger les pages",e),$("Impossible de charger les pages.")}},Vs=e=>(e||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),We=e=>{if(!e)return null;let t=Vs(e.type),o=ws[t]||t;return Pt[o]||null},Js=e=>{var o,r,c,p,y;if(!A||!je)return;e&&!e.settings&&(e.settings={});let t=We(e);if(Ft&&(Ft.textContent=(e==null?void 0:e.label)||"Bloc"),Mt&&(Mt.textContent=(e==null?void 0:e.type)||"Bloc"),!t){A.classList.add("hidden"),ye==null||ye.classList.remove("hidden"),A.dataset.blockId="";return}if(ye==null||ye.classList.add("hidden"),A.classList.remove("hidden"),A.reset(),A.dataset.blockId=e.id,de.forEach(B=>{B.dataset.editorSection===t.section?B.classList.remove("hidden"):B.classList.add("hidden")}),xs("content"),t.section==="collection"){let B=e.collectionId||((o=e.settings)==null?void 0:o.collectionId)||"";no(B)}if(Object.entries(t.fields).forEach(([B,_])=>{var Ye,xt,Ee;let le=A.querySelector(`[name="${_}"]`);if(!le)return;let Se=(Ye=e.settings)==null?void 0:Ye[B];if(le.type==="checkbox")le.checked=!!Se;else if(le.type==="number"){let F=(Ee=(xt=le.dataset.default)!=null?xt:le.defaultValue)!=null?Ee:"";le.value=Se!=null?Se:F}else le.tagName,le.value=Se!=null?Se:""}),t.section==="group"){let B=((r=A.querySelector('[name="group-columns-mobile"]'))==null?void 0:r.value)||"1",_=((c=A.querySelector('[name="group-columns-desktop"]'))==null?void 0:c.value)||"3";Zt(B,_)}if(t.section==="collection"){let B=((p=A.querySelector('[name="collection-columns-mobile"]'))==null?void 0:p.value)||"1",_=((y=A.querySelector('[name="collection-columns-desktop"]'))==null?void 0:y.value)||"3";ss(B,_)}A.querySelectorAll("[data-color-select]").forEach(B=>{var Ye,xt;let _=B.options[B.selectedIndex],le=((Ye=_==null?void 0:_.dataset)==null?void 0:Ye.color)||"#ffffff",Se=(xt=B.closest(".relative"))==null?void 0:xt.querySelector("[data-color-preview]");Se&&(le==="transparent"?Se.style.background="repeating-conic-gradient(#ccc 0% 25%, white 0% 50%) 50% / 8px 8px":(Se.style.backgroundColor=le,Se.style.background=""))})},Rt=e=>{if(!A||!e)return{};let t={};return Object.entries(e.fields).forEach(([o,r])=>{let c=A.querySelector(`[name="${r}"]`);if(c)if(c.type==="checkbox")t[o]=c.checked;else if(c.type==="number"){let p=Number(c.value);t[o]=Number.isFinite(p)?p:0}else c.tagName==="TEXTAREA"?t[o]=c.value||"":c.type==="select-one"?t[o]=c.value:t[o]=c.value||""}),t},Tt=e=>{if(R){if(!e){R.classList.add("hidden");return}R.classList.remove("hidden"),R.textContent=e}},Lo=e=>{if(!e)return null;let t=o=>{var r;return{id:o.id,type:o.type,label:o.label,status:o.status,description:o.description,props:o.props||[],settings:o.settings||{},collectionId:o.collectionId||((r=o.settings)==null?void 0:r.collectionId)||"",children:(o.children||[]).map(t)}};return{id:e.id,name:e.name,title:e.title,slug:e.slug,description:e.description||"",badges:[...e.badges||[]],seo:e.seo||{},accessibility:e.accessibility||{},blocks:(e.blocks||[]).map(t)}},zt=()=>'<!DOCTYPE html><html><body style="font-family:Inter,sans-serif;padding:40px;color:#475569;background:#fff;">Pr\xE9paration de la pr\xE9visualisation\u2026</body></html>',ko=(e,t)=>{let o;return(...r)=>{clearTimeout(o),o=setTimeout(()=>e(...r),t)}},Gs=async()=>{if(!f||!Oe)return;let e=is(),t=We(e);if(!e||!t)return;let o=Rt(t),r=(f.blocks||[]).map(p=>{if(p.id!==e.id)return p;let y={...p.settings||{},...o};return{...p,settings:y}}),c={...f,blocks:r};f=c;try{let p=await At(c);if(p!=null&&p.id){let y=Yt(p);f=y,oe=oe.map(B=>B.id===y.id?y:B)}}catch(p){console.warn("[design] auto-save appearance failed",p)}},Eo=(e,t)=>{!h||!h.contentWindow||h.contentWindow.postMessage({type:"updateBlockStyles",blockId:e,settings:t},"*")},Co=ko(()=>{f&&Dt(f)},1500),Ws=(e,t)=>{Eo(e,t),Tt("Modification\u2026"),Gs().then(()=>{Tt("Sauvegard\xE9"),setTimeout(()=>Tt("\xC0 jour"),1500)}).catch(()=>Tt("Erreur de sauvegarde")),Co()},Dt=e=>{if(!h||!e)return;let t=(O==null?void 0:O.slugValue)||Y.slug||"",o=oe.map(p=>({id:p.id,slug:p.slug,title:p.title,name:p.name,accessibility:p.accessibility})),r={page:Lo(e),site:{title:Y.name||"Site",slug:t,pages:o}};jo=!1,Tt("Actualisation\u2026"),h.srcdoc=zt(),Is&&Is.abort();let c=new AbortController;Is=c,fetch("/api/preview",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r),signal:c.signal}).then(p=>{if(!p.ok)throw new Error("Preview error");return p.json()}).then(p=>{c.signal.aborted||($o=p.html||"",h.setAttribute("title",`Pr\xE9visualisation de la page ${e.title||""}`.trim()),h.srcdoc=$o||zt(),Tt("\xC0 jour"))}).catch(p=>{c.signal.aborted||(console.error("[preview] Impossible de rendre la page",p),Tt("Erreur preview"),h.srcdoc='<!DOCTYPE html><html><body style="font-family:Inter,sans-serif;padding:40px;color:#be123c;background:#fff;">Erreur lors du rendu de la pr\xE9visualisation.</body></html>')}).finally(()=>{Is===c&&(Is=null)})},os=e=>{var p;if(e.preventDefault(),!f||!Oe)return;let t=is(),o=We(t);if(!t||!o)return;let r=Rt(o);if(o.section==="image"){let y=(r.alt||"").trim();if(r.alt=y,!y){$("Ajoute un texte alternatif pour cette image.","error"),(p=A==null?void 0:A.querySelector('[name="image-alt"]'))==null||p.focus();return}}if(o.section==="collection"){if(!r.collectionId){$("S\xE9lectionnez une collection.");return}r.limit=Math.max(1,Number(r.limit)||1)}let c=(f.blocks||[]).map(y=>{if(y.id!==t.id)return y;let B={...y.settings||{},...r},_={...y,settings:B};return o.labelField&&r[o.labelField]&&(_.label=r[o.labelField]),o.descriptionField&&r[o.descriptionField]&&(_.description=r[o.descriptionField]),o.section==="collection"&&(_.collectionId=r.collectionId,_.settings.collectionId=r.collectionId,_.settings.limit=r.limit),_});ls(c),$("Bloc mis \xE0 jour"),kt(f.id,{preserveBlock:!0})},Ht=document.querySelector("[data-page-drawer]"),st=document.querySelector("[data-page-drawer-backdrop]"),Ks=document.querySelectorAll("[data-page-drawer-open]"),Zs=document.querySelectorAll("[data-page-drawer-close]"),n=document.querySelector("[data-add-page-toggle]"),d=document.querySelector("[data-add-page-form]"),w=document.querySelector("[data-add-page-name]"),j=document.querySelector("[data-add-page-title]"),z=document.querySelector("[data-add-page-slug]"),ie=document.querySelector("[data-add-page-cancel]"),G=document.querySelector("[data-add-page-error]"),Q=d==null?void 0:d.querySelector('[type="submit"]'),Be=document.querySelector("[data-import-pages-toggle]"),xe=document.querySelector("[data-import-modal]"),Ke=document.querySelectorAll("[data-import-modal-close]"),we=document.querySelector("[data-import-dropzone]"),Re=document.querySelector("[data-import-file-input]"),ze=document.querySelector("[data-import-file-list]"),Lt=document.querySelector("[data-import-file-names]"),Ce=document.querySelector("[data-import-results]"),Ie=document.querySelector("[data-import-results-content]"),Ze=document.querySelector("[data-import-submit]"),ns=document.querySelectorAll("[data-import-tab]"),Ls=document.querySelectorAll("[data-import-panel]"),rs=document.querySelector("[data-copy-template]"),ks=document.querySelector("[data-template-json]"),_e=document.querySelector("[data-import-paste-json]"),_t=document.querySelector("[data-format-json]"),dt=document.querySelector("[data-import-paste-error]"),ht=[],It="upload",ot=document.querySelector("[data-delete-page-modal]"),Es=document.querySelector("[data-delete-page-name]"),as=document.querySelector("[data-delete-page-cancel]"),vt=document.querySelector("[data-delete-page-confirm]"),Ot=null,_s=qe((O==null?void 0:O.slugValue)||Y.slug||"default")||"default",or=(O==null?void 0:O.slugValue)||Y.slug||"",Ys=qe(or)||"",yt=Ys?`/api/sites/${encodeURIComponent(Ys)}/pages`:null,en=Ys?`/api/sites/${encodeURIComponent(Ys)}/collections`:null,tn={active:`clower:activePage:${_s}`},qo=(e,t,o,r,c,p=[],y={})=>{let B={id:e,label:t,type:o,status:r,description:c,props:p,settings:{...y}};return B.settings.collectionId&&(B.collectionId=B.settings.collectionId),B},nr={hero:{type:"Hero",label:"Hero de page",description:"Section pleine largeur avec CTA principal.",status:"Brouillon",props:[{label:"CTA",value:"D\xE9couvrir"},{label:"Hauteur",value:"80vh"}],settings:{title:"Titre du hero",subtitle:"",ctaLabel:"D\xE9couvrir",ctaUrl:"#",image:"",align:"center"}},paragraph:{type:"Paragraphe",label:"Bloc \xE9ditorial",description:"Paragraphe libre pour raconter votre histoire.",status:"Brouillon",props:[{label:"Longueur",value:"150 mots"}],settings:{title:"Titre du paragraphe",content:"",align:"left"}},image:{type:"Image",label:"Bloc image",description:"Visuel seul avec l\xE9gende optionnelle.",status:"Brouillon",props:[{label:"Ratio",value:"16:9"},{label:"L\xE9gende",value:"Inactive"}],settings:{src:"",alt:"",showCaption:!1,caption:""}},group:{type:"Groupe",label:"Groupe de sections",description:"Conteneur pour imbriquer plusieurs sous-blocs.",status:"Brouillon",props:[{label:"Disposition",value:"Verticale"}],settings:{layout:"grid",columnsMobile:"1",columnsDesktop:"3",mobileLayout:"stack"}},collectiongrid:{type:"CollectionGrid",label:"Grille de contenus",description:"Affiche automatiquement les items d\u2019une collection.",status:"Brouillon",settings:{collectionId:"",limit:6,mobileLayout:"stack"}},form:{type:"Form",label:"Formulaire de contact",description:"Formulaire avec envoi vers un service externe.",status:"Brouillon",settings:{formTitle:"Contactez-nous",actionUrl:"",method:"POST",serviceName:"",submitLabel:"Envoyer",successMessage:"Merci pour votre message !"}},newsletterembed:{type:"NewsletterEmbed",label:"Newsletter / Embed",description:"Int\xE9gration d'un formulaire newsletter externe (Brevo, Mailchimp\u2026).",status:"Brouillon",settings:{title:"Restez inform\xE9",serviceName:"",embedCode:""}}},rr=e=>{try{window.localStorage.setItem(tn.active,e)}catch{}},ar=e=>{var t;try{let o=window.localStorage.getItem(tn.active);if(o&&e.some(r=>r.id===o))return o}catch{}return((t=e[0])==null?void 0:t.id)||null},ir=e=>!e||e<=0?"0 bloc":e===1?"1 bloc":`${e} blocs`,sn=e=>{if(!e||e==="/")return"/";let t=Gt(e.replace(/^\//,""));return t?`/${t}`:"/"},Ao=(e="page",t="block")=>`${e}-${t}-${Date.now().toString(36)}-${Math.floor(Math.random()*1e3)}`,Hr=(e,t)=>[qo(Ao(e,"intro"),"Introduction","Paragraphe","Brouillon",`Paragraphe introductif pour "${t}".`,[{label:"Longueur",value:"2 paragraphes"}],{title:`Introduction \xE0 ${t}`,content:"Ajoutez votre premier paragraphe de pr\xE9sentation.",align:"left"}),qo(Ao(e,"content"),"Zone de contenu","Groupe","Brouillon","Section principale \xE0 composer avec textes et visuels.",[{label:"Colonnes",value:"Auto"}],{layout:"grid",columnsMobile:"1",columnsDesktop:"2",mobileLayout:"stack"})],on=e=>{a&&(a.textContent=(e==null?void 0:e.name)||(e==null?void 0:e.title)||"Page"),i&&(i.textContent=(e==null?void 0:e.slug)||"/")},lr=e=>{if(!m)return;m.innerHTML="",(e&&e.badges&&e.badges.length>0?e.badges:["Structure en cours"]).forEach(o=>{let r=document.createElement("span");r.className="rounded-full bg-slate-100 px-3 py-1",r.textContent=o,m.appendChild(r)})},cr=e=>{switch((e||"").toLowerCase()){case"en ligne":return"bg-emerald-50 text-emerald-700";case"brouillon":return"bg-amber-50 text-amber-700";default:return"bg-slate-100 text-slate-600"}},Xs=e=>{if(!(!ae||!je)){if(!e){ae.classList.remove("hidden"),je.classList.add("hidden"),ye==null||ye.classList.add("hidden"),A==null||A.classList.add("hidden"),Te==null||Te.classList.add("hidden");return}ae.classList.add("hidden"),je.classList.remove("hidden"),Te&&(e.status?(Te.textContent=e.status,Te.className=`rounded-full px-3 py-1 text-xs font-semibold ${cr(e.status)}`,Te.classList.remove("hidden")):Te.classList.add("hidden")),Js(e)}},Cs=e=>{if(!h)return;let t=h.contentDocument;if(!t)return;t.querySelectorAll("[data-preview-block]").forEach(r=>{r.dataset.previewBlock===e?(r.classList.add("preview-block-active"),jo&&e&&r.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})):r.classList.remove("preview-block-active")}),W&&(W.style.borderColor=e?"rgba(156, 107, 255, 0.5)":"transparent")},nn=(e,t=!1,o=null)=>{var Do;let r=e.id===Oe,c=(e.type||"").toLowerCase(),p=c==="groupe"||c==="group"||c==="sections"||c==="grid",y=document.createElement("div");y.dataset.blockItem="true",y.dataset.blockId=e.id,o&&(y.dataset.parentBlockId=o),p&&(y.dataset.isGroup="true"),y.setAttribute("role","option"),y.setAttribute("aria-selected",r?"true":"false"),y.setAttribute("draggable","true"),y.tabIndex=0,y.className=["relative flex items-center gap-3 rounded-2xl border px-3 py-2 text-left transition group",t?"ml-6 border-dashed":"",r?"bg-slate-100 border-[#9C6BFF]/40 shadow-sm":"border-slate-200 hover:border-[#9C6BFF]/40"].join(" ");let B=document.createElement("span");B.className=`absolute inset-y-2 left-0 w-1 rounded-full bg-[#9C6BFF] ${r?"":"hidden"}`,y.appendChild(B);let _=document.createElement("div");_.className="flex flex-1 items-center gap-3";let le=document.createElement("div");le.className="hidden lg:flex cursor-grab active:cursor-grabbing flex-shrink-0 items-center text-lg text-slate-400 hover:text-slate-600 transition-colors select-none",le.innerHTML="\u22EE\u22EE",le.setAttribute("title","Glisser pour r\xE9ordonner"),_.appendChild(le);let Se=document.createElement("div");Se.className="flex-1";let Ye=document.createElement("div");Ye.className="flex items-center gap-2 text-[11px] uppercase tracking-wide text-slate-500";let xt=document.createElement("span");xt.className="rounded-full bg-slate-100 px-2 py-0.5 text-[10px] font-semibold text-slate-600",xt.textContent=e.type;let Ee=document.createElement("span");if(Ee.className="text-slate-400",Ee.textContent=e.status,Ye.appendChild(xt),p){let it=(e.children||[]).length,Xt=document.createElement("span");Xt.className="rounded-full bg-violet-100 px-2 py-0.5 text-[10px] font-semibold text-violet-600",Xt.textContent=`${it} \xE9l\xE9ment${it!==1?"s":""}`,Ye.appendChild(Xt)}Ye.appendChild(Ee);let F=document.createElement("p");F.className="mt-1 text-sm font-semibold text-slate-900";let ut=e.settings&&e.settings.title||e.label||"Bloc sans titre";if(F.textContent=ut,Se.appendChild(Ye),Se.appendChild(F),c==="collectiongrid"&&e.collectionId){let it=((Do=$t.find(Mr=>Mr.id===e.collectionId))==null?void 0:Do.name)||e.collectionId,Xt=document.createElement("p");Xt.className="text-xs text-slate-400",Xt.textContent=`Collection : ${it}`,Se.appendChild(Xt)}_.appendChild(Se),y.appendChild(_);let Fe=document.createElement("div");Fe.className="flex flex-col gap-1 text-xs text-slate-400";let ue=document.createElement("div");ue.className="flex items-center gap-1 lg:hidden";let nt=document.createElement("button");nt.type="button",nt.className="rounded-lg border border-slate-200 px-2 py-1 text-[11px] font-semibold text-slate-500",nt.textContent="\u2191",nt.addEventListener("click",it=>{it.stopPropagation(),o?rn(o,e.id,-1):ln(e.id,-1)});let mt=document.createElement("button");mt.type="button",mt.className="rounded-lg border border-slate-200 px-2 py-1 text-[11px] font-semibold text-slate-500",mt.textContent="\u2193",mt.addEventListener("click",it=>{it.stopPropagation(),o?rn(o,e.id,1):ln(e.id,1)}),ue.appendChild(nt),ue.appendChild(mt),Fe.appendChild(ue);let He=document.createElement("button");return He.type="button",He.className="inline-flex items-center justify-center rounded-lg border border-transparent px-2 py-1 text-[12px] text-rose-500 hover:text-rose-700",He.innerHTML="\u{1F5D1}\uFE0F",He.addEventListener("click",it=>{it.stopPropagation(),o?mr(o,e.id):xr(e.id)}),Fe.appendChild(He),y.appendChild(Fe),y.addEventListener("click",()=>{Jt(e.id,o)}),y.addEventListener("keydown",it=>{(it.key==="Enter"||it.key===" ")&&(it.preventDefault(),Jt(e.id,o))}),{item:y,isGroup:p,block:e}},dr=e=>{let t=document.createElement("div");return t.dataset.groupDropZone=e.id,t.className="ml-6 border-2 border-dashed border-slate-200 rounded-xl p-3 text-center text-xs text-slate-400 hover:border-violet-300 hover:bg-violet-50/50 transition-colors cursor-pointer",t.innerHTML='<span class="pointer-events-none">\u{1F4E6} Glissez un bloc ici ou cliquez pour ajouter</span>',t.addEventListener("dragover",o=>{o.preventDefault(),o.stopPropagation(),t.classList.add("border-violet-400","bg-violet-50")}),t.addEventListener("dragleave",o=>{o.stopPropagation(),t.classList.remove("border-violet-400","bg-violet-50")}),t.addEventListener("drop",o=>{o.preventDefault(),o.stopPropagation(),t.classList.remove("border-violet-400","bg-violet-50");let r=o.dataTransfer.getData("text/plain");r&&r!==e.id&&ur(r,e.id)}),t.addEventListener("click",()=>{fr(e.id)}),t},bt=e=>{if(!S)return;S.innerHTML="";let t=(e==null?void 0:e.blocks)||[];if(re&&(re.textContent=ir(t.length)),t.length===0){S.classList.add("hidden"),Z==null||Z.classList.remove("hidden");return}S.classList.remove("hidden"),Z==null||Z.classList.add("hidden"),t.forEach(o=>{let{item:r,isGroup:c}=nn(o,!1,null);if(S.appendChild(r),c){(o.children||[]).forEach(B=>{let{item:_}=nn(B,!0,o.id);S.appendChild(_)});let y=dr(o);S.appendChild(y)}})},ur=(e,t)=>{if(!f)return;let o=f.blocks.findIndex(B=>B.id===e),r=f.blocks.find(B=>B.id===t);if(o===-1||!r)return;let p=(f.blocks[o].type||"").toLowerCase();if(p==="groupe"||p==="group"){$("Impossible d'imbriquer des groupes","error");return}let[y]=f.blocks.splice(o,1);r.children||(r.children=[]),r.children.push(y),bt(f),savePageBlocks(),$("Bloc ajout\xE9 au groupe")},mr=(e,t)=>{if(!f)return;let o=f.blocks.find(y=>y.id===e);if(!o||!o.children)return;let r=o.children.findIndex(y=>y.id===t);if(r===-1)return;let[c]=o.children.splice(r,1),p=f.blocks.findIndex(y=>y.id===e);f.blocks.splice(p+1,0,c),bt(f),savePageBlocks(),$("Bloc sorti du groupe")},rn=(e,t,o)=>{if(!f)return;let r=f.blocks.find(B=>B.id===e);if(!r||!r.children)return;let c=r.children.findIndex(B=>B.id===t);if(c===-1)return;let p=c+o;if(p<0||p>=r.children.length)return;let[y]=r.children.splice(c,1);r.children.splice(p,0,y),bt(f),savePageBlocks()},fr=e=>{qs=e,openBlockPicker()},qs=null,pr=e=>{!ot||!e||(Ot=e,Es&&(Es.textContent=e.title||e.id),ot.classList.remove("hidden"),ot.classList.add("flex"),ms(ot,Qs))},Qs=()=>{ot&&(ot.classList.add("hidden"),ot.classList.remove("flex"),Ot=null,fs(ot))},gr=async()=>{if(!yt||!Ot)return;let e=Ot.id,t=Ot.title||e;vt&&(vt.disabled=!0,vt.textContent="Suppression...");try{let o=await fetch(`${yt}/${encodeURIComponent(e)}`,{method:"DELETE",credentials:"include"}),r=await o.json();if(!o.ok)throw new Error(r.message||"Erreur serveur");oe=oe.filter(c=>c.id!==e),Ne===e?oe.length>0?kt(oe[0].id):(Ne=null,f=null,Vt(oe,null),bt(null),ae==null||ae.classList.remove("hidden"),je==null||je.classList.add("hidden"),h&&(h.srcdoc=zt())):Vt(oe,Ne),Qs(),$(`Page "${t}" supprim\xE9e`)}catch(o){console.error("[pages] delete failed",o),$(o.message||"Erreur suppression")}finally{vt&&(vt.disabled=!1,vt.textContent="Supprimer")}},Vt=(e,t)=>{s.forEach(o=>{o.innerHTML="",e.forEach(r=>{var Se;let c=document.createElement("li");c.className="flex items-center gap-1";let p=document.createElement("button");p.type="button",p.dataset.pageId=r.id,p.className=["flex-1 flex items-center gap-3 px-3 py-2 text-left transition",t===r.id?"bg-[#9C6BFF]/10 text-slate-900 border border-[#9C6BFF]/40 rounded-xl shadow-sm":"text-slate-700 hover:bg-slate-50 rounded-xl"].join(" "),t===r.id?p.setAttribute("aria-current","page"):p.removeAttribute("aria-current");let y=r.name||r.title,_=((Se=r.accessibility)==null?void 0:Se.showInMainNav)===!1?'<span class="text-[10px] font-semibold text-amber-600">Masqu\xE9 du menu</span>':"";p.innerHTML=`
            <span class="flex h-9 w-9 items-center justify-center rounded-xl border border-slate-200 bg-white text-slate-500">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                <path d="M6.5 4.5h7l4 4v11a1 1 0 0 1-1 1h-10a1 1 0 0 1-1-1v-14a1 1 0 0 1 1-1Z" stroke="currentColor" stroke-width="1.4" stroke-linejoin="round"/>
                <path d="M13.5 4.5v4a1 1 0 0 0 1 1h3" stroke="currentColor" stroke-width="1.4"/>
              </svg>
            </span>
            <div class="flex flex-col">
              <span class="text-sm font-semibold">${y}</span>
              <span class="text-xs text-slate-500">${r.slug}</span>
              ${_}
            </div>
          `,p.addEventListener("click",()=>{kt(r.id),To()||Io()}),c.appendChild(p);let le=document.createElement("button");le.type="button",le.className="flex-shrink-0 p-2 text-slate-400 hover:text-rose-600 hover:bg-rose-50 rounded-lg transition",le.title="Supprimer cette page",le.setAttribute("aria-label",`Supprimer ${y}`),le.innerHTML=`
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M3 6h18M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2m3 0v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6h14ZM10 11v6M14 11v6"/>
            </svg>
          `,le.addEventListener("click",Ye=>{Ye.stopPropagation(),pr(r)}),c.appendChild(le),o.appendChild(c)})})},is=()=>{if(!f||!Array.isArray(f.blocks))return null;let e=f.blocks.find(t=>t.id===Oe);if(!e){for(let t of f.blocks)if(t.children&&(e=t.children.find(o=>o.id===Oe),e))break}return e||null},an=null,Jt=(e,t=null)=>{if(!f)return;if(!e){Oe=null,an=null,bt(f),Xs(null),Cs(null);return}let o=null;if(o=f.blocks.find(r=>r.id===e),!o&&t){let r=f.blocks.find(c=>c.id===t);r&&r.children&&(o=r.children.find(c=>c.id===e))}if(!o){for(let r of f.blocks)if(r.children){let c=r.children.find(p=>p.id===e);if(c){o=c,t=r.id;break}}}o||(o=f.blocks[0]||null,t=null),Oe=(o==null?void 0:o.id)||null,an=t,bt(f),Xs(o),Cs(Oe)},ls=e=>{if(!f)return;let t={...f,blocks:e};wr(t)},eo=()=>window.matchMedia("(min-width: 1024px)").matches;function ln(e,t){if(!f||!e||!t)return;let o=[...f.blocks||[]],r=o.findIndex(y=>y.id===e);if(r<0)return;let c=r+t;if(c<0||c>=o.length)return;let[p]=o.splice(r,1);o.splice(c,0,p),ls(o),kt(f.id,{preserveBlock:!0}),Jt(p.id)}function Ur(e,t){if(!f||!e||!t||e===t)return;let o=[...f.blocks||[]],r=o.findIndex(y=>y.id===e),c=o.findIndex(y=>y.id===t);if(r<0||c<0)return;let[p]=o.splice(r,1);o.splice(c,0,p),ls(o),kt(f.id,{preserveBlock:!0}),Jt(p.id)}function hr(e,t,o){if(!f||!e||!t||e===t)return;let r=[...f.blocks||[]],c=r.findIndex(_=>_.id===e),p=r.findIndex(_=>_.id===t);if(c<0||p<0)return;let[y]=r.splice(c,1);c<p&&p--;let B=o==="before"?p:p+1;r.splice(B,0,y),ls(r),kt(f.id,{preserveBlock:!0}),Jt(y.id)}function cn(){if(!S)return;let e=eo();S.querySelectorAll("[data-block-item]").forEach(t=>{t.setAttribute("draggable",e?"true":"false")})}function As(){ve&&(ve.classList.add("hidden"),Ts=!1)}function vr(){ve&&(ve.classList.remove("hidden"),Ts=!0)}function yr(){Ts?As():vr()}function br(e){var p;if(!f||!e)return;let t=nr[e];if(!t)return;let o=(f.blocks||[]).filter(y=>y.type===t.type).length+1,r=qo(Ao(f.id,e),`${t.label} ${o}`,t.type,t.status,t.description,t.props,t.settings||{});if((t.type||"").toLowerCase()==="collectiongrid"){let y=((p=$t[0])==null?void 0:p.id)||"";r.collectionId=y,r.settings.collectionId=y,r.settings.limit=r.settings.limit||6}if(qs){let y=f.blocks.find(B=>B.id===qs);if(y){y.children||(y.children=[]),y.children.push(r),qs=null,bt(f),savePageBlocks(),Jt(r.id,y.id),As(),$("Bloc ajout\xE9 au groupe");return}qs=null}let c=[...f.blocks||[],r];ls(c),kt(f.id,{preserveBlock:!0}),Jt(r.id),As(),$("Bloc ajout\xE9")}function dn(e){var r,c;if(!f)return;let t=(f.blocks||[]).filter(p=>p.id!==e),o=e===Oe?((r=t[0])==null?void 0:r.id)||null:Oe||((c=t[0])==null?void 0:c.id)||null;ls(t),Oe=o,kt(f.id,{preserveBlock:!0}),Oe?Jt(Oe):(Xs(null),Cs(null)),$("Bloc supprim\xE9")}function to(){ce&&(ce.classList.add("hidden"),ce.classList.remove("flex"),oo=null,fs(ce))}function xr(e){if(!ce){dn(e);return}oo=e,ce.classList.remove("hidden"),ce.classList.add("flex"),ms(ce,to)}let wr=e=>{if(!e)return;let t=Yt(e);oe=oe.map(o=>o.id===t.id?t:o),f=t,At(t)},kt=(e,t={})=>{var c,p;let o=oe.find(y=>y.id===e)||oe[0]||null;f=o?Yt(o):null,Ne=(o==null?void 0:o.id)||null,(!t.preserveBlock||!f||!f.blocks.some(y=>y.id===Oe))&&(Oe=((p=(c=f==null?void 0:f.blocks)==null?void 0:c[0])==null?void 0:p.id)||null),Ne&&rr(Ne),Vt(oe,Ne),on(f),No(),lr(f),Dt(f),bt(f),Xs(is()),Cs(Oe),cn(),Ts&&As()},To=()=>window.matchMedia("(min-width: 1024px)").matches,un=()=>{Ht&&(To()?(Ht.classList.add("is-open"),st==null||st.classList.add("hidden"),document.body.classList.remove("overflow-hidden")):Ht.classList.remove("is-open"))},Sr=()=>{!Ht||To()||(Ht.classList.add("is-open"),st==null||st.classList.remove("hidden"),document.body.classList.add("overflow-hidden"))},Io=()=>{Ht&&(Ht.classList.remove("is-open"),st==null||st.classList.add("hidden"),document.body.classList.remove("overflow-hidden"))},Lr=()=>{!d||!n||(d.classList.remove("hidden"),n.classList.add("hidden"),G&&(G.textContent=""),so=!1,w&&(w.value="",w.focus()),j&&(j.value=""),z&&(z.value=""))},mn=()=>{!d||!n||(d.classList.add("hidden"),n.classList.remove("hidden"),G&&(G.textContent=""),so=!1,d.reset())},kr=()=>{!w||!z||so&&z.value.trim().length>0||(z.value=sn(w.value))},oe=[],Ne=null,so=!1,f=null,Oe=null,Ts=!1,oo=null,$o="",jo=!1,Is=null,$t=[],Er=e=>{let t={...e,props:Array.isArray(e.props)?e.props:[],settings:{...e.settings||{}}};return(t.type||"").toLowerCase()==="collectiongrid"&&(t.collectionId=t.collectionId||t.settings.collectionId||"",t.settings.collectionId=t.collectionId,t.settings.limit=t.settings.limit||6),t},Yt=e=>{var t,o,r,c,p;return{...e,blocks:(e.blocks||[]).map(y=>Er(y)),seo:{title:(((t=e.seo)==null?void 0:t.title)||"").trim(),description:(((o=e.seo)==null?void 0:o.description)||"").trim(),indexed:typeof((r=e.seo)==null?void 0:r.indexed)=="boolean"?e.seo.indexed:null},accessibility:{showInMainNav:((c=e.accessibility)==null?void 0:c.showInMainNav)!==!1,mainLabel:(((p=e.accessibility)==null?void 0:p.mainLabel)||"").trim()}}},Cr=async()=>{if(!en){$t=[],no();return}try{let e=await fetch(en,{headers:{Accept:"application/json"}});if(!e.ok)throw new Error("Impossible de charger les collections.");let t=await e.json().catch(()=>[]);$t=Array.isArray(t)?t:[];let o=(be==null?void 0:be.value)||"";no(o)}catch(e){console.error("[design] collections load",e),$("Collections indisponibles."),$t=[],no()}},Bo=e=>{if(!ct)return;if(!e){ct.textContent=$t.length?"S\xE9lectionnez une collection pour afficher ses informations.":"Aucune collection disponible. Ajoutez-en depuis l\u2019onglet Contenus.";return}let t=$t.find(r=>r.id===e);if(!t){ct.textContent=`Collection ${e}`;return}let o=[];t.description&&o.push(t.description),t.type&&o.push(`Type\xA0: ${t.type}`),ct.textContent=o.join(" \xB7 ")||`Collection ${t.name||t.id}`},no=(e="")=>{if(be){if(be.innerHTML="",!$t.length){be.disabled=!0;let t=document.createElement("option");t.value="",t.textContent="Aucune collection disponible",be.appendChild(t),Bo("");return}if(be.disabled=!1,e&&!$t.some(t=>t.id===e)){let t=document.createElement("option");t.value=e,t.textContent=e,be.appendChild(t)}$t.forEach(t=>{let o=document.createElement("option");o.value=t.id;let r=t.name||t.id;o.textContent=t.type?`${r} \xB7 ${t.type}`:r,o.dataset.description=t.description||"",be.appendChild(o)}),e&&(be.value=e),Bo(be.value||"")}};Cr(),un(),Ks.forEach(e=>{e.addEventListener("click",Sr)}),Zs.forEach(e=>{e.addEventListener("click",Io)}),st==null||st.addEventListener("click",Io),window.addEventListener("resize",()=>{un(),cn()}),n==null||n.addEventListener("click",Lr),ie==null||ie.addEventListener("click",mn),w==null||w.addEventListener("input",kr),z==null||z.addEventListener("input",()=>{G&&(G.textContent=""),so=!0}),d==null||d.addEventListener("submit",async e=>{if(e.preventDefault(),!yt){G&&(G.textContent="Aucun site s\xE9lectionn\xE9.");return}if(!w||!z)return;let t=w.value.trim(),o=(j==null?void 0:j.value.trim())||t,r=sn(z.value.trim()||t);if(!t||!r){G&&(G.textContent="Nom et slug sont requis.");return}G&&(G.textContent=""),Q&&(Q.disabled=!0,Q.textContent="Cr\xE9ation...");try{let c=await Os({name:t,title:o,slug:r});if(!c||!c.id)throw new Error("R\xE9ponse invalide.");oe=[...oe,Yt(c)],mn(),$("Page cr\xE9\xE9e"),kt(c.id)}catch(c){console.error("[design] create page failed",c),G&&(G.textContent=c.message||"Impossible de cr\xE9er la page.")}finally{Q&&(Q.disabled=!1,Q.textContent="Cr\xE9er")}});let Fo=()=>{_e&&(_e.value=""),dt&&(dt.classList.add("hidden"),dt.textContent="")},fn=()=>{if(!_e)return null;let e=_e.value.trim();if(!e)return dt&&dt.classList.add("hidden"),null;try{let t=JSON.parse(e);return dt&&dt.classList.add("hidden"),t}catch(t){return dt&&(dt.classList.remove("hidden"),dt.textContent=`\u274C JSON invalide : ${t.message}`),null}},qr=()=>{if(!_e)return;let e=_e.value.trim();if(e)try{let t=JSON.parse(e);_e.value=JSON.stringify(t,null,2),fn()}catch{}},$s=()=>{if(Ze)if(It==="upload")Ze.disabled=ht.length===0;else if(It==="paste"){let e=fn();Ze.disabled=!e}else Ze.disabled=!0},Ar=()=>{xe&&(xe.classList.remove("hidden"),xe.classList.add("flex"),ht=[],It="upload",Po(),Fo(),Ce&&Ce.classList.add("hidden"),Ie&&(Ie.innerHTML=""),$s(),ns.forEach(e=>{e.dataset.importTab==="upload"?(e.classList.add("bg-[#9C6BFF]","text-white"),e.classList.remove("border","border-slate-200","text-slate-700")):(e.classList.remove("bg-[#9C6BFF]","text-white"),e.classList.add("border","border-slate-200","text-slate-700"))}),Ls.forEach(e=>{e.dataset.importPanel==="upload"?e.classList.remove("hidden"):e.classList.add("hidden")}),ms(xe,Mo))},Mo=()=>{xe&&(xe.classList.add("hidden"),xe.classList.remove("flex"),ht=[],Fo(),fs(xe))},Po=()=>{if(!(!ze||!Lt)){if(ht.length===0){ze.classList.add("hidden"),$s();return}ze.classList.remove("hidden"),Lt.innerHTML=ht.map(e=>`<li class="flex items-center gap-2"><span class="text-lg">\u{1F4C4}</span>${e.name}</li>`).join(""),$s()}},pn=e=>{let t=Array.from(e).filter(o=>o.type==="application/json"||o.name.endsWith(".json"));if(t.length===0){$("Aucun fichier JSON valide.");return}ht=t,Po()},Tr=async()=>{var o,r,c,p,y,B,_,le,Se,Ye,xt;if(!yt)return;let e=[];if(console.log("[import] activeImportTab:",It),It==="paste"){let Ee=(o=_e==null?void 0:_e.value)==null?void 0:o.trim();if(console.log("[import] paste text length:",Ee==null?void 0:Ee.length),!Ee){$("Aucun JSON \xE0 importer."),Ce&&Ie&&(Ce.classList.remove("hidden"),Ie.innerHTML='<p class="text-amber-600">\u26A0 Le champ de texte est vide.</p>');return}try{let F=JSON.parse(Ee);console.log("[import] parsed JSON:",F),console.log("[import] parsed type:",typeof F,Array.isArray(F)?"array":"not array"),F&&!Array.isArray(F)&&F.pages?(console.log("[import] detected pages+collections format"),e=F):Array.isArray(F)?e.push(...F):e.push(F),console.log("[import] pagesData prepared:",e)}catch(F){let ut=F.message.match(/position (\d+)/),Fe=F.message;if(ut){let ue=parseInt(ut[1],10),nt=Ee.substring(0,ue).split(`
`),mt=nt.length,He=nt[nt.length-1].length+1;Fe=`Ligne ${mt}, colonne ${He}: ${F.message}`}$(`Erreur JSON : ${Fe}`,"error"),console.error("[import] paste parse error",F),Ce&&Ie&&(Ce.classList.remove("hidden"),Ie.innerHTML=`
              <div class="text-rose-600">
                <p class="font-medium">\u2717 Erreur de syntaxe JSON</p>
                <p class="text-xs mt-1">${Fe}</p>
                <p class="text-xs mt-2 text-slate-500">V\xE9rifiez les virgules, guillemets et accolades.</p>
              </div>
            `);return}}else if(It==="upload"){if(ht.length===0)return;let Ee=[];for(let F of ht){let ut=await F.text();try{let Fe=JSON.parse(ut);Array.isArray(Fe)?e.push(...Fe):e.push(Fe)}catch(Fe){let ue=Fe.message.match(/position (\d+)/),nt=Fe.message;if(ue){let mt=parseInt(ue[1],10);nt=`Ligne ${ut.substring(0,mt).split(`
`).length}: ${Fe.message}`}Ee.push({file:F.name,error:nt}),console.error("[import] parse error",F.name,Fe)}}if(Ee.length>0){if(Ce&&Ie){Ce.classList.remove("hidden");let F='<div class="text-rose-600"><p class="font-medium">\u2717 Erreurs de syntaxe JSON</p><ul class="ml-4 text-xs mt-1">';Ee.forEach(ut=>{F+=`<li><strong>${ut.file}</strong>: ${ut.error}</li>`}),F+="</ul></div>",e.length>0&&(F+=`<p class="text-amber-600 mt-2 text-sm">\u26A0 ${e.length} page(s) valide(s) seront import\xE9e(s)</p>`),Ie.innerHTML=F}if(e.length===0){$("Tous les fichiers contiennent des erreurs JSON","error");return}}}else return;let t=Array.isArray(e)?e.length>0:e&&(((r=e.pages)==null?void 0:r.length)>0||e.title);if(console.log("[import] hasData check:",t,"pagesData:",e),!t){$("Aucune page valide \xE0 importer."),Ce&&Ie&&(Ce.classList.remove("hidden"),Ie.innerHTML=`
            <div class="text-amber-600">
              <p class="font-medium">\u26A0 Aucune page d\xE9tect\xE9e</p>
              <p class="text-xs mt-1">Le JSON doit contenir :</p>
              <ul class="text-xs ml-4 mt-1 list-disc">
                <li>Un objet page avec "title" : <code>{"title": "Ma page", ...}</code></li>
                <li>Un tableau de pages : <code>[{"title": "Page 1"}, {"title": "Page 2"}]</code></li>
                <li>Ou un objet combin\xE9 : <code>{"pages": [...], "collections": {...}}</code></li>
              </ul>
            </div>
          `);return}Ze&&(Ze.disabled=!0,Ze.textContent="Import..."),console.log("[import] Sending to server:",JSON.stringify(e).substring(0,500));try{let Ee=await fetch(`${yt}/import`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)});console.log("[import] Server response status:",Ee.status);let F=await Ee.json();if(console.log("[import] Server response body:",F),!Ee.ok)throw Ce&&Ie&&(Ce.classList.remove("hidden"),Ie.innerHTML=`
              <div class="text-rose-600">
                <p class="font-medium">\u2717 Erreur serveur</p>
                <p class="text-xs mt-1">${F.message||"Erreur inconnue"}</p>
                ${F.details?`<p class="text-xs mt-1 text-slate-500">${F.details}</p>`:""}
              </div>
            `),new Error(F.message||"Erreur serveur");if(Ce&&Ie){Ce.classList.remove("hidden");let ue="",nt=((c=F.imported)==null?void 0:c.length)>0||((p=F.collectionsCreated)==null?void 0:p.length)>0,mt=((y=F.errors)==null?void 0:y.length)>0;nt&&!mt?ue+='<div class="bg-green-50 border border-green-200 rounded-lg p-3 mb-2"><p class="text-green-800 font-medium">\u2713 Import r\xE9ussi</p></div>':nt&&mt?ue+='<div class="bg-amber-50 border border-amber-200 rounded-lg p-3 mb-2"><p class="text-amber-800 font-medium">\u26A0 Import partiel</p></div>':mt&&(ue+='<div class="bg-rose-50 border border-rose-200 rounded-lg p-3 mb-2"><p class="text-rose-800 font-medium">\u2717 Import \xE9chou\xE9</p></div>'),F.collectionsCreated&&F.collectionsCreated.length>0&&(ue+=`<p class="text-violet-700 mt-2">\u2713 ${F.collectionsCreated.length} collection(s) cr\xE9\xE9e(s)</p>`,ue+='<ul class="ml-4 text-xs text-slate-600">',F.collectionsCreated.forEach(He=>{ue+=`<li>${He.name} (${He.itemsCount} item${He.itemsCount>1?"s":""})</li>`}),ue+="</ul>"),F.imported&&F.imported.length>0&&(ue+=`<p class="text-green-700 mt-2">\u2713 ${F.imported.length} page(s) import\xE9e(s)</p>`,ue+='<ul class="ml-4 text-xs text-slate-600">',F.imported.forEach(He=>{ue+=`<li><strong>${He.title}</strong> \u2192 ${He.slug} (${He.action==="updated"?"mise \xE0 jour":"cr\xE9\xE9e"})</li>`}),ue+="</ul>"),F.errors&&F.errors.length>0&&(ue+=`<p class="text-rose-600 mt-3 font-medium">\u2717 ${F.errors.length} erreur(s)</p>`,ue+='<ul class="ml-4 text-xs text-rose-600 space-y-1 mt-1">',F.errors.forEach(He=>{ue+=`<li class="bg-rose-50 p-2 rounded"><strong>${He.title}</strong><br/><span class="text-rose-500">${He.error}</span></li>`}),ue+="</ul>"),Ie.innerHTML=ue}let ut=((B=F.imported)==null?void 0:B.length)>0||((_=F.collectionsCreated)==null?void 0:_.length)>0,Fe=((le=F.errors)==null?void 0:le.length)>0;if(F.imported&&F.imported.length>0&&(oe=await Nt(),Vt(oe,Ne),oe.length>0&&!Ne&&kt(oe[0].id)),ut&&!Fe){let ue=(Se=F.collectionsCreated)!=null&&Se.length?` + ${F.collectionsCreated.length} collection(s)`:"";$(`\u2713 Import r\xE9ussi : ${((Ye=F.imported)==null?void 0:Ye.length)||0} page(s)${ue}`,"success")}else ut&&Fe?$(`\u26A0 Import partiel : ${((xt=F.imported)==null?void 0:xt.length)||0} page(s), ${F.errors.length} erreur(s)`,"warning"):Fe&&$(`\u2717 Import \xE9chou\xE9 : ${F.errors.length} erreur(s)`,"error");ht=[],Po(),Fo()}catch(Ee){console.error("[import] failed",Ee),$(Ee.message||"Erreur import","error")}finally{Ze&&(Ze.disabled=!1,Ze.textContent="Importer")}};Be==null||Be.addEventListener("click",Ar),Ke.forEach(e=>e.addEventListener("click",Mo)),xe==null||xe.addEventListener("click",e=>{e.target===xe&&Mo()}),Re==null||Re.addEventListener("change",e=>{pn(e.target.files)}),we==null||we.addEventListener("dragover",e=>{e.preventDefault(),we.classList.add("border-[#9C6BFF]","bg-[#9C6BFF]/10")}),we==null||we.addEventListener("dragleave",e=>{e.preventDefault(),we.classList.remove("border-[#9C6BFF]","bg-[#9C6BFF]/10")}),we==null||we.addEventListener("drop",e=>{e.preventDefault(),we.classList.remove("border-[#9C6BFF]","bg-[#9C6BFF]/10"),pn(e.dataTransfer.files)}),Ze==null||Ze.addEventListener("click",Tr),_e==null||_e.addEventListener("input",()=>{$s()}),_t==null||_t.addEventListener("click",qr),ns.forEach(e=>{e.addEventListener("click",()=>{let t=e.dataset.importTab;It=t,ns.forEach(o=>{o.dataset.importTab===t?(o.classList.add("bg-[#9C6BFF]","text-white"),o.classList.remove("border","border-slate-200","text-slate-700")):(o.classList.remove("bg-[#9C6BFF]","text-white"),o.classList.add("border","border-slate-200","text-slate-700"))}),Ls.forEach(o=>{o.dataset.importPanel===t?o.classList.remove("hidden"):o.classList.add("hidden")}),$s()})}),rs==null||rs.addEventListener("click",async()=>{if(!ks)return;let e=ks.textContent||"";try{await navigator.clipboard.writeText(e),$("Template copi\xE9 !")}catch(t){console.error("[import] copy failed",t),$("Erreur copie")}}),as==null||as.addEventListener("click",Qs),vt==null||vt.addEventListener("click",gr),ot==null||ot.addEventListener("click",e=>{e.target===ot&&Qs()}),pe==null||pe.addEventListener("click",e=>{e.stopPropagation(),yr()}),document.addEventListener("click",e=>{Ts&&(ve!=null&&ve.contains(e.target)||pe!=null&&pe.contains(e.target)||As())}),et.forEach(e=>{e.addEventListener("click",t=>{t.stopPropagation();let o=e.dataset.blockAdd;br(o)})}),ge==null||ge.addEventListener("click",()=>{to()}),tt==null||tt.addEventListener("click",()=>{oo&&dn(oo),to()}),ce==null||ce.addEventListener("click",e=>{e.target===ce&&to()}),A==null||A.addEventListener("input",e=>{var r,c,p,y;let t=e.target;if(!t||!t.name)return;if(t.name==="group-columns-mobile"||t.name==="group-columns-desktop"){let B=((r=A.querySelector('[name="group-columns-mobile"]'))==null?void 0:r.value)||"1",_=((c=A.querySelector('[name="group-columns-desktop"]'))==null?void 0:c.value)||"3";Zt(B,_)}if(t.name==="collection-columns-mobile"||t.name==="collection-columns-desktop"){let B=((p=A.querySelector('[name="collection-columns-mobile"]'))==null?void 0:p.value)||"1",_=((y=A.querySelector('[name="collection-columns-desktop"]'))==null?void 0:y.value)||"3";ss(B,_)}let o=t.closest("[data-block-panel]");if(o&&o.dataset.blockPanel==="appearance"){let B=is(),_=We(B);if(B&&_){let le=Rt(_);Ws(B.id,le)}}}),A==null||A.addEventListener("change",e=>{var r,c;let t=e.target;if(!t||!t.name)return;if(t.hasAttribute("data-color-select")){let p=t.options[t.selectedIndex],y=((r=p==null?void 0:p.dataset)==null?void 0:r.color)||"#ffffff",B=(c=t.closest(".relative"))==null?void 0:c.querySelector("[data-color-preview]");B&&(y==="transparent"?B.style.background="repeating-conic-gradient(#ccc 0% 25%, white 0% 50%) 50% / 8px 8px":(B.style.backgroundColor=y,B.style.background=""))}let o=t.closest("[data-block-panel]");if(o&&o.dataset.blockPanel==="appearance"){let p=is(),y=We(p);if(p&&y){let B=Rt(y);Ws(p.id,B)}}}),be==null||be.addEventListener("change",e=>{let t=e.target;Bo((t==null?void 0:t.value)||"")}),A==null||A.addEventListener("submit",os),Pe==null||Pe.addEventListener("click",e=>{e.preventDefault();let t=is();t&&Js(t)}),h==null||h.addEventListener("load",()=>{jo=!0,Tt("\xC0 jour"),Cs(Oe)}),x==null||x.addEventListener("click",()=>{let e=window.open("","_blank");if(!e)return;e.opener=null;let t=e.document;t.open(),t.write($o||zt()),t.close()});let gn=e=>{var t,o,r;ne&&(e?(ne.classList.remove("hidden"),f&&(E&&(E.value=((t=f.seo)==null?void 0:t.title)||""),C&&(C.value=((o=f.seo)==null?void 0:o.description)||""),L&&(L.checked=((r=f.seo)==null?void 0:r.indexed)!==!1))):ne.classList.add("hidden"))},ro=(e,t="muted")=>{if(!M)return;let o=t==="success"?"text-emerald-600":t==="error"?"text-rose-600":"text-slate-500";M.textContent=e||"",M.className=`text-sm ${o}`};U==null||U.addEventListener("click",()=>{let e=ne&&!ne.classList.contains("hidden");gn(!e)}),se==null||se.addEventListener("click",()=>gn(!1)),g==null||g.addEventListener("submit",async e=>{var t;if(e.preventDefault(),!f){ro("Aucune page active.","error");return}P&&(P.disabled=!0),ro("");try{let o={title:((E==null?void 0:E.value)||"").trim(),description:((C==null?void 0:C.value)||"").trim(),indexed:(t=L==null?void 0:L.checked)!=null?t:!0},r={...f,seo:o},c=await At(r);c&&(f=c,ro("SEO enregistr\xE9.","success"),$("SEO mis \xE0 jour"),Dt(f))}catch(o){console.error("[seo] save failed",o),ro(o.message||"Erreur lors de la sauvegarde.","error")}finally{P&&(P.disabled=!1)}});let No=()=>{var e,t;if(!(!k&&!T)){if(!f){k&&(k.checked=!0),T&&(T.value="");return}k&&(k.checked=((e=f.accessibility)==null?void 0:e.showInMainNav)!==!1),T&&(T.value=((t=f.accessibility)==null?void 0:t.mainLabel)||"")}},hn=e=>{H&&(e?(No(),H.classList.remove("hidden")):H.classList.add("hidden"))},ao=(e,t="muted")=>{if(!te)return;let o=t==="success"?"text-emerald-600":t==="error"?"text-rose-600":"text-slate-500";te.textContent=e||"",te.className=`text-sm ${o}`};N==null||N.addEventListener("click",()=>{let e=H&&!H.classList.contains("hidden");hn(!e)}),u==null||u.addEventListener("click",()=>hn(!1)),q==null||q.addEventListener("submit",async e=>{var t;if(e.preventDefault(),!f){ao("Aucune page active.","error");return}K&&(K.disabled=!0),ao("");try{let o={showInMainNav:(t=k==null?void 0:k.checked)!=null?t:!0,mainLabel:((T==null?void 0:T.value)||"").trim()},r={...f,accessibility:o},c=await At(r);c&&(f=c,No(),ao("Accessibilit\xE9 enregistr\xE9e.","success"),$("Accessibilit\xE9 mise \xE0 jour"),Vt(oe,Ne),Dt(f))}catch(o){console.error("[accessibility] save failed",o),ao(o.message||"Erreur lors de la sauvegarde.","error")}finally{K&&(K.disabled=!1)}});let vn=e=>{he&&(e?(he.classList.remove("hidden"),f&&(fe&&(fe.value=f.name||""),ke&&(ke.value=f.title||""),Ae&&(Ae.value=f.slug||""),D&&(D.value=f.description||""))):he.classList.add("hidden"))},cs=(e,t="muted")=>{if(!b)return;let o=t==="success"?"text-emerald-600":t==="error"?"text-rose-600":"text-slate-500";b.textContent=e||"",b.className=`text-sm ${o}`};X==null||X.addEventListener("click",()=>{let e=he&&!he.classList.contains("hidden");vn(!e)}),me==null||me.addEventListener("click",()=>vn(!1)),$e==null||$e.addEventListener("submit",async e=>{if(e.preventDefault(),!f){cs("Aucune page active.","error");return}v&&(v.disabled=!0),cs("");try{let t=((fe==null?void 0:fe.value)||"").trim(),o=((ke==null?void 0:ke.value)||"").trim(),r=((Ae==null?void 0:Ae.value)||"").trim(),c=((D==null?void 0:D.value)||"").trim();if(!o){cs("Le titre est requis.","error"),v&&(v.disabled=!1);return}if(!r||!r.startsWith("/")){cs("Le slug doit commencer par /.","error"),v&&(v.disabled=!1);return}let p={...f,name:t||o,title:o,slug:r,description:c},y=await At(p);y&&(f=y,oe=oe.map(B=>B.id===y.id?y:B),cs("Propri\xE9t\xE9s enregistr\xE9es.","success"),$("Page mise \xE0 jour"),on(f),Vt(oe,Ne),Dt(f))}catch(t){console.error("[page-props] save failed",t),cs(t.message||"Erreur lors de la sauvegarde.","error")}finally{v&&(v.disabled=!1)}});let Ir=e=>{let t=e.target.closest("[data-block-item]");if(!t||!eo()){e.preventDefault();return}if(jt=t.dataset.blockId||null,!jt){e.preventDefault();return}e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/plain",jt),requestAnimationFrame(()=>{t.classList.add("opacity-50","scale-[0.98]","shadow-lg","ring-2","ring-[#9C6BFF]")})},yn=()=>{S==null||S.querySelectorAll("[data-block-item]").forEach(e=>{e.classList.remove("opacity-50","scale-[0.98]","shadow-lg","ring-2","ring-[#9C6BFF]","border-t-4","border-b-4","border-t-[#9C6BFF]","border-b-[#9C6BFF]","pt-6","pb-6")})},$r=()=>{jt=null,yn()},jr=e=>{if(!jt||!eo())return;let t=e.target.closest("[data-block-item]");if(!t||t.dataset.blockId===jt)return;e.preventDefault(),e.dataTransfer.dropEffect="move";let o=t.getBoundingClientRect(),r=o.top+o.height/2,c=e.clientY<r;S==null||S.querySelectorAll("[data-block-item]").forEach(p=>{p!==t&&p.dataset.blockId!==jt&&p.classList.remove("border-t-4","border-b-4","border-t-[#9C6BFF]","border-b-[#9C6BFF]","pt-6","pb-6")}),t.classList.remove("border-t-4","border-b-4","border-t-[#9C6BFF]","border-b-[#9C6BFF]","pt-6","pb-6"),c?t.classList.add("border-t-4","border-t-[#9C6BFF]","pt-6"):t.classList.add("border-b-4","border-b-[#9C6BFF]","pb-6"),t.dataset.dropPosition=c?"before":"after"},Br=e=>{let t=e.target.closest("[data-block-item]");if(!t)return;let o=e.relatedTarget;o&&t.contains(o)||(t.classList.remove("border-t-4","border-b-4","border-t-[#9C6BFF]","border-b-[#9C6BFF]","pt-6","pb-6"),delete t.dataset.dropPosition)},Fr=e=>{if(!jt||!eo())return;e.preventDefault();let t=e.target.closest("[data-block-item]"),o=jt,r=(t==null?void 0:t.dataset.dropPosition)||"after";jt=null,yn();let c=(t==null?void 0:t.dataset.blockId)||null;!c||o===c||hr(o,c,r)},jt=null;S==null||S.addEventListener("dragstart",Ir),S==null||S.addEventListener("dragend",$r),S==null||S.addEventListener("dragover",jr),S==null||S.addEventListener("dragleave",Br),S==null||S.addEventListener("drop",Fr),Ss(),document.addEventListener("ai-page-updated",async e=>{var t;console.log("[design] Rafra\xEEchissement d\xE9clench\xE9 par IA",e.detail);try{let o=await Nt();if(oe=(Array.isArray(o)?o:[]).map(r=>Yt(r)),(t=e.detail)!=null&&t.pageId){let r=oe.find(c=>c.id===e.detail.pageId);r&&(f=r,Ne=r.id,Dt(f),bt(f),$("Page mise \xE0 jour par l'IA"))}else if(Ne){let r=oe.find(c=>c.id===Ne);r&&(f=r,Dt(f),bt(f))}}catch(o){console.error("[design] Erreur rafra\xEEchissement IA:",o)}})}function Hn(){var st,Ks,Zs;let s=document.querySelector("[data-collection-list]");if(!s)return;let a={empty:document.querySelector('[data-content-view="empty"]'),header:document.querySelector('[data-content-view="header"]'),collection:document.querySelector('[data-content-view="collection"]'),footer:document.querySelector('[data-content-view="footer"]')},i=document.querySelectorAll("[data-content-section]"),m=document.querySelectorAll("[data-content-section-trigger]"),h=document.querySelector("[data-content-drawer]"),x=document.querySelector("[data-content-drawer-backdrop]"),R=document.querySelectorAll("[data-content-drawer-open]"),W=document.querySelectorAll("[data-content-drawer-close]"),U=document.querySelector("[data-header-status]"),ne=document.querySelector("[data-footer-status]"),se=document.querySelector("[data-collection-count]"),g={logo:document.querySelector('[name="header-logo"]'),logoAlt:document.querySelector('[name="header-logo-alt"]'),logoUrl:document.querySelector('[name="header-logo-url"]'),ctaText:document.querySelector('[name="header-cta-text"]'),ctaUrl:document.querySelector('[name="header-cta-url"]'),ctaStyle:document.querySelector('[name="header-cta-style"]'),position:document.querySelector('[name="header-position"]'),bg:document.querySelector('[name="header-bg"]')},E=document.querySelector("[data-header-nav-list]"),C=document.querySelector("[data-header-nav-add]"),L=document.querySelector("[data-header-save]"),M=document.querySelector("[data-template-header-nav-item]"),P=document.querySelector("[data-header-pages-list]"),N=[],H=[],u={linkedin:document.querySelector('[name="footer-social-linkedin"]'),twitter:document.querySelector('[name="footer-social-twitter"]'),instagram:document.querySelector('[name="footer-social-instagram"]'),facebook:document.querySelector('[name="footer-social-facebook"]'),youtube:document.querySelector('[name="footer-social-youtube"]'),github:document.querySelector('[name="footer-social-github"]'),copyright:document.querySelector('[name="footer-copyright"]'),legalUrl:document.querySelector('[name="footer-legal-url"]'),privacyUrl:document.querySelector('[name="footer-privacy-url"]'),bg:document.querySelector('[name="footer-bg"]'),columnsCount:document.querySelector('[name="footer-columns-count"]')},q=document.querySelector("[data-footer-columns-list]"),k=document.querySelector("[data-footer-column-add]"),T=document.querySelector("[data-footer-save]"),te=document.querySelector("[data-template-footer-column]"),K=document.querySelector("[data-template-footer-link]"),X=null,he={nav:[],logo:{},cta:{},style:{}},me={columns:[],socials:{},copyright:"",legal:{},style:{}},$e=qe((O==null?void 0:O.slugValue)||Y.slug||""),fe=$e,ke=$e?`/api/sites/${encodeURIComponent($e)}/layout`:null,Ae=n=>{Object.entries(a).forEach(([d,w])=>{w&&w.classList.toggle("hidden",d!==n)}),i.forEach(d=>{d.dataset.contentSection===n?d.dataset.active="true":delete d.dataset.active}),X=n},D=()=>{h==null||h.classList.add("is-open"),h&&(h.style.transform="translateX(0)"),x==null||x.classList.remove("hidden"),document.body.classList.add("overflow-hidden")},b=()=>{h==null||h.classList.remove("is-open"),h&&(h.style.transform=""),x==null||x.classList.add("hidden"),document.body.classList.remove("overflow-hidden")};R.forEach(n=>n.addEventListener("click",D)),W.forEach(n=>n.addEventListener("click",b)),x==null||x.addEventListener("click",b),i.forEach(n=>{n.addEventListener("click",()=>{let d=n.dataset.contentSection;(d==="header"||d==="footer")&&Ae(d),b()})}),m.forEach(n=>{n.addEventListener("click",()=>{let d=n.dataset.contentSectionTrigger;d&&Ae(d)})});let v=async()=>{if(!(!fe||!P))try{let n=await fetch(`/api/sites/${fe}/pages`,{credentials:"include"});if(!n.ok)throw new Error("Erreur chargement pages");N=await n.json(),S()}catch(n){console.error("[header] load pages error",n),P.innerHTML='<p class="text-xs text-red-500">Erreur chargement pages</p>'}},S=()=>{if(P){if(P.innerHTML="",N.length===0){P.innerHTML='<p class="text-xs text-slate-400 italic">Aucune page disponible</p>';return}N.forEach(n=>{let d=n.slug||n.id,w=n.name||n.title||d,j=d==="index"?"/":`/${d}`,z=H.some(Q=>Q.url===j),ie=document.createElement("label");ie.className="flex items-center gap-2 px-3 py-2 rounded-lg border border-slate-200 hover:bg-slate-50 cursor-pointer transition-colors",ie.innerHTML=`
          <input type="checkbox" name="nav-page" value="${j}" data-page-title="${w}"
                 class="w-4 h-4 rounded border-slate-300 text-violet-600 focus:ring-violet-500"
                 ${z?"checked":""}>
          <span class="flex-1 text-sm text-slate-700">${w}</span>
          <span class="text-xs text-slate-400">${j}</span>
        `;let G=ie.querySelector("input");G.addEventListener("change",()=>{G.checked?H.some(Q=>Q.url===j)||H.push({label:w,url:j}):H=H.filter(Q=>Q.url!==j)}),P.appendChild(ie)})}},Z=()=>{var d,w,j,z,ie,G,Q,Be,xe,Ke,we,Re,ze;let n=[];return P==null||P.querySelectorAll('input[name="nav-page"]:checked').forEach(Lt=>{let Ce=Lt.value,Ie=Lt.dataset.pageTitle||Ce;n.push({label:Ie,url:Ce})}),{logo:{src:((w=(d=g.logo)==null?void 0:d.value)==null?void 0:w.trim())||"",alt:((z=(j=g.logoAlt)==null?void 0:j.value)==null?void 0:z.trim())||"",url:((G=(ie=g.logoUrl)==null?void 0:ie.value)==null?void 0:G.trim())||"/"},nav:n,cta:{text:((Be=(Q=g.ctaText)==null?void 0:Q.value)==null?void 0:Be.trim())||"",url:((Ke=(xe=g.ctaUrl)==null?void 0:xe.value)==null?void 0:Ke.trim())||"",style:((we=g.ctaStyle)==null?void 0:we.value)||"primary"},style:{position:((Re=g.position)==null?void 0:Re.value)||"static",bg:((ze=g.bg)==null?void 0:ze.value)||"bg-white"}}},re=async n=>{var w,j,z,ie,G,Q,Be,xe,Ke,we,Re;if(!n)return;g.logo&&(g.logo.value=((w=n.logo)==null?void 0:w.src)||""),g.logoAlt&&(g.logoAlt.value=((j=n.logo)==null?void 0:j.alt)||""),g.logoUrl&&(g.logoUrl.value=((z=n.logo)==null?void 0:z.url)||"/"),g.ctaText&&(g.ctaText.value=((ie=n.cta)==null?void 0:ie.text)||""),g.ctaUrl&&(g.ctaUrl.value=((G=n.cta)==null?void 0:G.url)||""),g.ctaStyle&&(g.ctaStyle.value=((Q=n.cta)==null?void 0:Q.style)||"primary"),g.position&&(g.position.value=((Be=n.style)==null?void 0:Be.position)||"static"),g.bg&&(g.bg.value=((xe=n.style)==null?void 0:xe.bg)||"bg-white"),H=n.nav||[],await v();let d=((Ke=n.logo)==null?void 0:Ke.src)||((we=n.nav)==null?void 0:we.length)>0||((Re=n.cta)==null?void 0:Re.text);U&&(U.classList.toggle("bg-green-500",!!d),U.classList.toggle("bg-slate-300",!d),U.title=d?"Configur\xE9":"Non configur\xE9")};L==null||L.addEventListener("click",async()=>{if(ke){L.disabled=!0,L.textContent="Enregistrement...";try{let n=Z();if(!(await fetch(`${ke}/header`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(n)})).ok)throw new Error("Erreur serveur");he=n,re(n),$("Header enregistr\xE9")}catch(n){console.error("[header] save error",n),$("Erreur lors de l'enregistrement","error")}finally{L.disabled=!1,L.textContent="Enregistrer"}}});let pe=(n,d="",w="")=>{if(!K||!n)return;let j=K.content.cloneNode(!0),z=j.querySelector("[data-footer-link]"),ie=j.querySelector('[name="link-label"]'),G=j.querySelector('[name="link-url"]'),Q=j.querySelector("[data-link-remove]");ie&&(ie.value=d),G&&(G.value=w),Q==null||Q.addEventListener("click",()=>z==null?void 0:z.remove()),n.appendChild(j)},ve=(n="",d=[])=>{if(!te||!q)return;let w=te.content.cloneNode(!0),j=w.querySelector("[data-footer-column]"),z=w.querySelector('[name="column-title"]'),ie=w.querySelector("[data-column-links]"),G=w.querySelector("[data-column-link-add]"),Q=w.querySelector("[data-column-remove]");z&&(z.value=n),d.forEach(Be=>pe(ie,Be.label,Be.url)),G==null||G.addEventListener("click",()=>pe(ie)),Q==null||Q.addEventListener("click",()=>j==null?void 0:j.remove()),q.appendChild(w)},et=()=>{var d,w,j,z,ie,G,Q,Be,xe,Ke,we,Re,ze,Lt,Ce,Ie,Ze,ns,Ls,rs;let n=[];return q==null||q.querySelectorAll("[data-footer-column]").forEach(ks=>{var dt,ht;let _e=((ht=(dt=ks.querySelector('[name="column-title"]'))==null?void 0:dt.value)==null?void 0:ht.trim())||"",_t=[];ks.querySelectorAll("[data-footer-link]").forEach(It=>{var as,vt,Ot,_s;let ot=((vt=(as=It.querySelector('[name="link-label"]'))==null?void 0:as.value)==null?void 0:vt.trim())||"",Es=((_s=(Ot=It.querySelector('[name="link-url"]'))==null?void 0:Ot.value)==null?void 0:_s.trim())||"";(ot||Es)&&_t.push({label:ot,url:Es})}),(_e||_t.length>0)&&n.push({title:_e,links:_t})}),{columns:n,socials:{linkedin:((w=(d=u.linkedin)==null?void 0:d.value)==null?void 0:w.trim())||"",twitter:((z=(j=u.twitter)==null?void 0:j.value)==null?void 0:z.trim())||"",instagram:((G=(ie=u.instagram)==null?void 0:ie.value)==null?void 0:G.trim())||"",facebook:((Be=(Q=u.facebook)==null?void 0:Q.value)==null?void 0:Be.trim())||"",youtube:((Ke=(xe=u.youtube)==null?void 0:xe.value)==null?void 0:Ke.trim())||"",github:((Re=(we=u.github)==null?void 0:we.value)==null?void 0:Re.trim())||""},copyright:((Lt=(ze=u.copyright)==null?void 0:ze.value)==null?void 0:Lt.trim())||"",legal:{url:((Ie=(Ce=u.legalUrl)==null?void 0:Ce.value)==null?void 0:Ie.trim())||"",privacyUrl:((ns=(Ze=u.privacyUrl)==null?void 0:Ze.value)==null?void 0:ns.trim())||""},style:{bg:((Ls=u.bg)==null?void 0:Ls.value)||"bg-slate-900 text-white",columnsCount:((rs=u.columnsCount)==null?void 0:rs.value)||"4"}}},ce=n=>{var w,j,z,ie,G,Q,Be,xe,Ke,we,Re;if(!n)return;u.linkedin&&(u.linkedin.value=((w=n.socials)==null?void 0:w.linkedin)||""),u.twitter&&(u.twitter.value=((j=n.socials)==null?void 0:j.twitter)||""),u.instagram&&(u.instagram.value=((z=n.socials)==null?void 0:z.instagram)||""),u.facebook&&(u.facebook.value=((ie=n.socials)==null?void 0:ie.facebook)||""),u.youtube&&(u.youtube.value=((G=n.socials)==null?void 0:G.youtube)||""),u.github&&(u.github.value=((Q=n.socials)==null?void 0:Q.github)||""),u.copyright&&(u.copyright.value=n.copyright||""),u.legalUrl&&(u.legalUrl.value=((Be=n.legal)==null?void 0:Be.url)||""),u.privacyUrl&&(u.privacyUrl.value=((xe=n.legal)==null?void 0:xe.privacyUrl)||""),u.bg&&(u.bg.value=((Ke=n.style)==null?void 0:Ke.bg)||"bg-slate-900 text-white"),u.columnsCount&&(u.columnsCount.value=((we=n.style)==null?void 0:we.columnsCount)||"4"),q&&(q.innerHTML=""),(n.columns||[]).forEach(ze=>ve(ze.title,ze.links));let d=((Re=n.columns)==null?void 0:Re.length)>0||n.copyright||Object.values(n.socials||{}).some(ze=>ze);ne&&(ne.classList.toggle("bg-green-500",!!d),ne.classList.toggle("bg-slate-300",!d),ne.title=d?"Configur\xE9":"Non configur\xE9")};k==null||k.addEventListener("click",()=>ve()),T==null||T.addEventListener("click",async()=>{if(ke){T.disabled=!0,T.textContent="Enregistrement...";try{let n=et();if(!(await fetch(`${ke}/footer`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(n)})).ok)throw new Error("Erreur serveur");me=n,ce(n),$("Footer enregistr\xE9")}catch(n){console.error("[footer] save error",n),$("Erreur lors de l'enregistrement","error")}finally{T.disabled=!1,T.textContent="Enregistrer"}}}),(async()=>{if(ke)try{let n=await fetch(ke,{credentials:"include"});if(n.ok){let d=await n.json();d.header&&(he=d.header,re(d.header)),d.footer&&(me=d.footer,ce(d.footer))}}catch(n){console.error("[layout] load error",n)}})();let ge=document.querySelector("[data-collection-empty]"),ae=document.querySelector("[data-collection-items-empty]"),Te=document.querySelector("[data-item-table-wrapper]"),je=document.querySelector("[data-item-table-body]"),Ft=document.querySelector("[data-collection-title]"),Mt=document.querySelector("[data-collection-description]"),ye=document.querySelector("[data-item-add]"),A=document.querySelector("[data-item-detail-empty]"),de=document.querySelector("[data-item-form]"),l=de?{title:de.querySelector('[name="item-title"]'),slug:de.querySelector('[name="item-slug"]'),excerpt:de.querySelector('[name="item-excerpt"]'),content:de.querySelector('[name="item-content"]'),image:de.querySelector('[name="item-image"]'),ctaText:de.querySelector('[name="item-cta-text"]'),ctaUrl:de.querySelector('[name="item-cta-url"]'),status:de.querySelector('[name="item-status"]')}:{},I=document.querySelector("[data-item-status-badge]"),V=document.querySelector("[data-item-delete]"),J=document.querySelector("[data-item-delete-modal]"),qt=document.querySelector("[data-item-delete-cancel]"),St=document.querySelector("[data-item-delete-confirm]"),bs=document.querySelector("[data-item-cancel]"),Wt=document.querySelector("[data-item-save]"),Kt="rounded-full px-3 py-1 text-xs font-semibold",xs=qe((O==null?void 0:O.slugValue)||Y.slug||""),be=xs?`/api/sites/${encodeURIComponent(xs)}/collections`:null,ct=[],Pe=[],Ue=null,De=null,at=!1,Ut=!1,Pt=null,ws=n=>{let d=(n||"").trim();if(!d)return"";if(d==="/")return"/";let j=d.replace(/^\//,"").split("/").map(z=>Gt(z||"")).filter(z=>z.length>0);return j.length?`/${j.join("/")}`:""},So=n=>{if(!n)return"\u2014";let d=new Date(n);return Number.isNaN(d.getTime())?"\u2014":d.toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric"})},Zt=()=>{let n=ct.find(d=>d.id===Ue);Ft&&(Ft.textContent=(n==null?void 0:n.name)||"S\xE9lectionnez une collection"),Mt&&(Mt.textContent=(n==null?void 0:n.description)||"")},ss=n=>{ae&&(ae.textContent=n||(Ue?"Aucun item dans cette collection pour le moment.":"Choisissez une collection dans le panneau de gauche."))},Nt=()=>{de&&(de.classList.add("hidden"),de.dataset.itemId=""),A==null||A.classList.remove("hidden"),I&&(I.className=`hidden ${Kt}`,I.textContent=""),V&&(V.disabled=!0)},Os=()=>{de&&(de.classList.remove("hidden"),A==null||A.classList.add("hidden"))},At=()=>{ye&&(ye.disabled=!Ue,ye.disabled?ye.classList.add("opacity-60","pointer-events-none"):ye.classList.remove("opacity-60","pointer-events-none"))},Ss=n=>{if(!I)return;if(!n){I.className=`hidden ${Kt}`,I.textContent="";return}let d=n.toLowerCase(),w="bg-slate-100 text-slate-600 border border-slate-200";d==="publi\xE9"||d==="publie"?w="bg-emerald-50 text-emerald-700 border border-emerald-100":d==="brouillon"&&(w="bg-amber-50 text-amber-700 border border-amber-100"),I.className=`${Kt} ${w}`,I.textContent=n},Vs=()=>{if(s.innerHTML="",se&&(se.textContent=ct.length),!ct.length){ge==null||ge.classList.remove("hidden");return}ge==null||ge.classList.add("hidden"),ct.forEach(n=>{let d=n.id===Ue,w=document.createElement("button");w.type="button",w.dataset.collectionId=n.id,w.className=["w-full rounded-xl border px-3 py-2 text-left transition focus:outline-none focus:ring-2 focus:ring-[#9C6BFF]/40",d?"bg-[#F7F0FF] border-[#9C6BFF]/40 text-slate-900":"border-slate-200 text-slate-700 hover:border-[#9C6BFF]/40"].join(" "),w.setAttribute("role","option"),d?w.setAttribute("aria-current","true"):w.removeAttribute("aria-current"),w.innerHTML=`
          <div class="flex items-center justify-between gap-2">
            <div>
              <p class="text-sm font-semibold">${n.name||n.id}</p>
              <p class="text-xs text-slate-500">${n.description||""}</p>
            </div>
            <span class="text-[11px] uppercase tracking-wide text-slate-400">${n.type||""}</span>
          </div>
        `,w.addEventListener("click",()=>{Gs(n.id),window.matchMedia("(min-width: 1024px)").matches||b()}),s.appendChild(w)})},We=()=>{if(je){if(je.innerHTML="",!Pe.length||!Ue){ae==null||ae.classList.remove("hidden"),ss(),Te==null||Te.classList.add("hidden");return}ae==null||ae.classList.add("hidden"),Te==null||Te.classList.remove("hidden"),Pe.forEach(n=>{let d=document.createElement("tr");d.dataset.itemId=n.id;let w=n.id===De&&!at;d.className=["cursor-pointer transition focus-within:bg-[#F7F0FF]/70 focus:outline-none",w?"bg-[#F7F0FF]/70":"hover:bg-slate-50"].join(" "),d.tabIndex=0,d.setAttribute("role","button"),w?d.setAttribute("aria-current","true"):d.removeAttribute("aria-current");let j=n.status||"Brouillon",z=j.toLowerCase(),ie=z==="publi\xE9"||z==="publie"?"bg-emerald-50 text-emerald-700 border border-emerald-100":"bg-amber-50 text-amber-700 border border-amber-100";d.innerHTML=`
          <td class="px-4 py-3 align-top">
            <div class="flex flex-col">
              <span class="text-sm font-semibold text-slate-900">${n.title||"Sans titre"}</span>
              <span class="text-xs text-slate-500">${n.summary||n.excerpt||""}</span>
            </div>
          </td>
          <td class="px-4 py-3 align-top text-sm text-slate-600">${n.slug||""}</td>
          <td class="px-4 py-3 align-top">
            <span class="inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold ${ie}">
              ${j}
            </span>
          </td>
          <td class="px-4 py-3 align-top text-sm text-slate-500">${So(n.updatedAt||n.createdAt)}</td>
        `;let G=()=>{Js(n.id)};d.addEventListener("click",G),d.addEventListener("keydown",Q=>{(Q.key==="Enter"||Q.key===" ")&&(Q.preventDefault(),G())}),je.appendChild(d)})}},Js=n=>{let d=Pe.find(w=>w.id===n);d&&(De=d.id,at=!1,Ut=!0,Rt(d),We())},Rt=n=>{var d,w;if(!de||!n){Nt();return}Os(),de.dataset.itemId=n.id,l.title&&(l.title.value=n.title||""),l.slug&&(l.slug.value=n.slug||""),l.excerpt&&(l.excerpt.value=n.summary||n.excerpt||""),l.content&&(l.content.value=n.content||""),l.image&&(l.image.value=n.image||""),l.ctaText&&(l.ctaText.value=((d=n.cta)==null?void 0:d.text)||n.ctaText||""),l.ctaUrl&&(l.ctaUrl.value=((w=n.cta)==null?void 0:w.url)||n.ctaUrl||""),l.status&&(l.status.value=n.status||"Brouillon"),Ss(n.status||"Brouillon"),V&&(V.disabled=!1)},Tt=()=>{var n;de&&(at=!0,De=null,Ut=!1,de.dataset.itemId="",de.reset(),l.status&&(l.status.value="Brouillon"),l.slug&&(l.slug.value=""),Ss("Brouillon"),Os(),V&&(V.disabled=!0),(n=l.title)==null||n.focus())},Lo=()=>{var xe,Ke,we,Re,ze,Lt,Ce,Ie;let n=(((xe=l.title)==null?void 0:xe.value)||"").trim(),d=(((Ke=l.slug)==null?void 0:Ke.value)||"").trim(),w=(((we=l.excerpt)==null?void 0:we.value)||"").trim(),j=(((Re=l.content)==null?void 0:Re.value)||"").trim(),z=(((ze=l.image)==null?void 0:ze.value)||"").trim(),ie=(((Lt=l.ctaText)==null?void 0:Lt.value)||"").trim(),G=(((Ce=l.ctaUrl)==null?void 0:Ce.value)||"").trim(),Q=((Ie=l.status)==null?void 0:Ie.value)||"Brouillon",Be=ie||G?{text:ie,url:G}:null;return{title:n,slug:ws(d||n),summary:w,excerpt:w,content:j,image:z,status:Q,...Be&&{cta:Be}}},zt=n=>{Wt&&(Wt.disabled=n,Wt.textContent=n?"Enregistrement\u2026":"Enregistrer"),V&&!at&&De&&(V.disabled=n)},ko=async n=>{if(!be)return[];let d=await fetch(`${be}/${encodeURIComponent(n)}/items`,{headers:{Accept:"application/json"}});if(!d.ok){let j=await d.json().catch(()=>({}));throw new Error(j.message||"Impossible de charger les items.")}let w=await d.json().catch(()=>({}));return Array.isArray(w.items)?w.items:[]},Gs=async n=>{if(n&&(Ue=n,De=null,at=!1,Ut=!1,Ae("collection"),Zt(),At(),Vs(),Nt(),Pe=[],We(),ss("Chargement des items\u2026"),ae==null||ae.classList.remove("hidden"),Te==null||Te.classList.add("hidden"),!!be))try{Pe=await ko(n),We(),Pe.length||ss()}catch(d){console.error("[content] items failed",d),$(d.message||"Impossible de charger les items."),Pe=[],We()}},Eo=async(n,d)=>{if(!be)throw new Error("Site inconnu.");let w=await fetch(`${be}/${encodeURIComponent(n)}/items`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)});if(!w.ok){let j=await w.json().catch(()=>({}));throw new Error(j.message||"Impossible de cr\xE9er cet item.")}return w.json()},Co=async(n,d,w)=>{if(!be)throw new Error("Site inconnu.");let j=await fetch(`${be}/${encodeURIComponent(n)}/items/${encodeURIComponent(d)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(w)});if(!j.ok){let z=await j.json().catch(()=>({}));throw new Error(z.message||"Impossible de sauvegarder cet item.")}return j.json()},Ws=async(n,d)=>{if(!be)throw new Error("Site inconnu.");let w=await fetch(`${be}/${encodeURIComponent(n)}/items/${encodeURIComponent(d)}`,{method:"DELETE"});if(!w.ok){let j=await w.json().catch(()=>({}));throw new Error(j.message||"Impossible de supprimer cet item.")}},Dt=async()=>{var n;if(!be){ge==null||ge.classList.remove("hidden"),Ue=null,Pe=[],We(),Zt(),At();return}try{let d=await fetch(be,{headers:{Accept:"application/json"}});if(!d.ok)throw new Error("Impossible de charger les collections.");let w=await d.json().catch(()=>[]);if(ct=Array.isArray(w)?w:[],Vs(),ct.length>0){let j=((n=ct.find(z=>z.id===Ue))==null?void 0:n.id)||ct[0].id;Gs(j)}else Ue=null,Pe=[],Zt(),At(),We()}catch(d){console.error("[content] load collections",d),$(d.message||"Impossible de charger les collections.")}};ye==null||ye.addEventListener("click",()=>{if(!Ue){$("S\xE9lectionnez d\u2019abord une collection.");return}Tt(),We()}),bs==null||bs.addEventListener("click",n=>{if(n.preventDefault(),at){at=!1,De=null,Nt(),We();return}if(De){let d=Pe.find(w=>w.id===De);Rt(d)}else Nt()}),(st=l.status)==null||st.addEventListener("change",()=>{Ss(l.status.value)}),(Ks=l.title)==null||Ks.addEventListener("input",()=>{!at||!l.slug||Ut||(l.slug.value=ws(l.title.value))}),(Zs=l.slug)==null||Zs.addEventListener("input",()=>{at&&(Ut=!0)}),de==null||de.addEventListener("submit",async n=>{var w;if(n.preventDefault(),!Ue){$("S\xE9lectionnez une collection.");return}let d=Lo();if(!d.title){$("Le titre est requis."),(w=l.title)==null||w.focus();return}zt(!0);try{let j;at||!De?(j=await Eo(Ue,d),Pe=[...Pe,j],$("Item cr\xE9\xE9")):(j=await Co(Ue,De,d),Pe=Pe.map(z=>z.id===j.id?j:z),$("Item mis \xE0 jour")),at=!1,De=j.id,Rt(j),We()}catch(j){console.error("[content] save item failed",j),$(j.message||"Impossible de sauvegarder cet item.")}finally{zt(!1)}});let os=()=>{J&&(J.classList.add("hidden"),J.classList.remove("flex"),Pt=null)},Ht=()=>{!J||!De||(Pt=De,J.classList.remove("hidden"),J.classList.add("flex"))};V==null||V.addEventListener("click",n=>{n.preventDefault(),De&&Ht()}),qt==null||qt.addEventListener("click",()=>{os()}),J==null||J.addEventListener("click",n=>{n.target===J&&os()}),St==null||St.addEventListener("click",async()=>{if(!Pt||!Ue){os();return}St.disabled=!0,St.textContent="Suppression\u2026";try{await Ws(Ue,Pt),Pe=Pe.filter(n=>n.id!==Pt),De===Pt&&(De=null,Nt()),$("Item supprim\xE9"),We()}catch(n){console.error("[content] delete item failed",n),$(n.message||"Impossible de supprimer cet item.")}finally{St.disabled=!1,St.textContent="Supprimer",os()}}),Zt(),At(),Dt()}function Un(){let s=document.querySelector("[data-deploy-form]");if(!s)return;let a=document.querySelector("[data-deploy-protocol]"),i=document.querySelector("[data-deploy-host]"),m=document.querySelector("[data-deploy-port]"),h=document.querySelector("[data-deploy-user]"),x=document.querySelector("[data-deploy-password]"),R=document.querySelector("[data-deploy-show-password]"),W=document.querySelector("[data-deploy-remote-path]"),U=document.querySelector("[data-deploy-feedback]"),ne=document.querySelector("[data-deploy-save]"),se=document.querySelector("[data-deploy-test]"),g=document.querySelector("[data-deploy-trigger]"),E=document.querySelector("[data-deploy-history]"),C=document.querySelector("[data-deploy-log]"),L=qe((O==null?void 0:O.slugValue)||Y.slug||""),M=L?`/api/sites/${encodeURIComponent(L)}/deploy-config`:null,P=L?`/api/sites/${encodeURIComponent(L)}/deploy`:null,N=L?`/api/sites/${encodeURIComponent(L)}/deploy-log`:null,H=!1,u=null,q=b=>{let v=(b||"").trim();return v?v.startsWith("/")?v:`/${v}`:"/www"},k=(b,v="muted")=>{if(!U)return;let S="inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold",Z=v==="success"?"bg-emerald-50 text-emerald-700 border border-emerald-100":v==="error"?"bg-rose-50 text-rose-700 border border-rose-100":"bg-slate-50 text-slate-600 border border-slate-100";if(!b){U.textContent="",U.className="text-sm text-slate-500";return}let re=v==="success"?"\u2705":v==="error"?"\u274C":"\u2139\uFE0F";U.innerHTML=`<span class="${S} ${Z}">${re}<span>${b}</span></span>`,U.className="text-sm"},T=(b=null)=>{u=b;let v=!!b,S='<svg class="h-4 w-4 animate-spin text-white" viewBox="0 0 24 24" fill="none" aria-hidden="true"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"></path></svg>';ne&&(ne.disabled=v,ne.innerHTML=b==="save"?`<span class="inline-flex items-center gap-2">${S}<span>Enregistrement\u2026</span></span>`:"Enregistrer"),se&&(se.disabled=v,se.innerHTML=b==="test"?'<span class="inline-flex items-center gap-2"><span class="h-4 w-4 animate-spin rounded-full border-2 border-slate-200 border-t-slate-600"></span><span>Test en cours\u2026</span></span>':"Tester la connexion"),g&&(g.disabled=v&&b!==null,g.innerHTML=b==="deploy"?'<span class="inline-flex items-center gap-2"><span class="h-4 w-4 animate-spin rounded-full border-2 border-white/60 border-t-white"></span><span>D\xE9ploiement\u2026</span></span>':"D\xE9ployer maintenant")},te=b=>{a&&(a.value=b.protocol||"sftp"),i&&(i.value=b.host||""),m&&(m.value=b.port||""),h&&(h.value=b.user||""),W&&(W.value=b.remotePath||"/www"),H=!!b.hasPassword,x&&(x.value="",x.placeholder=H?"Non affich\xE9":"Mot de passe")},K=(b=[])=>{if(E){if(E.innerHTML="",!b.length){let v=document.createElement("li");v.className="text-slate-500",v.textContent="Aucun d\xE9ploiement pour le moment.",E.appendChild(v);return}b.forEach(v=>{let S=document.createElement("li");S.className="flex items-center justify-between gap-2 rounded-xl border border-slate-200 px-3 py-2";let Z=v.status==="success"?'<span class="rounded-full bg-emerald-50 px-2 py-0.5 text-[11px] font-semibold text-emerald-700">Succ\xE8s</span>':'<span class="rounded-full bg-rose-50 px-2 py-0.5 text-[11px] font-semibold text-rose-700">\xC9chec</span>',re=v.finishedAt||v.startedAt||"",pe=v.durationMs&&Number(v.durationMs)>=0?`${Math.round(Number(v.durationMs)/1e3)}s`:"";S.innerHTML=`
          <div class="space-y-1">
            <div class="flex items-center gap-2">${Z}<span class="text-xs text-slate-500">${re}</span></div>
            <p class="text-sm text-slate-800">${v.message||""}</p>
          </div>
          <div class="text-xs text-slate-500">${pe}</div>
        `,S.dataset.deployId=v.id||"",S.addEventListener("click",()=>{v.logs&&C&&(C.textContent=v.logs.join(`
`))}),E.appendChild(S)})}},X=(b=[])=>{C&&(C.textContent=b.length?b.join(`
`):"Aucun log pour le moment.")},he=async()=>{var b;if(N)try{let v=await fetch(N,{headers:{Accept:"application/json"}});if(!v.ok){if(v.status===404){K([]),X(["API d\xE9ploiement indisponible (red\xE9marre le serveur)."]);return}throw new Error("Impossible de charger l\u2019historique.")}let S=await v.json().catch(()=>({})),Z=Array.isArray(S.entries)?S.entries:[];K(Z),(b=Z[0])!=null&&b.logs&&X(Z[0].logs)}catch(v){console.error("[deploy] history failed",v)}},me=async()=>{if(!M){k("Aucun site actif s\xE9lectionn\xE9.","error");return}T("load");try{let b=await fetch(M,{headers:{Accept:"application/json"}}),v=await b.json().catch(()=>({}));b.ok?(te(v||{}),k("Configuration charg\xE9e.","muted")):(te(v||{}),k(v.message||"Configuration par d\xE9faut charg\xE9e.","muted"))}catch(b){console.error("[deploy] load failed",b),k(b.message||"Erreur lors du chargement.","error")}finally{T(null)}},$e=()=>{let b={protocol:(a==null?void 0:a.value)||"sftp",host:(i==null?void 0:i.value.trim())||"",port:Number(m==null?void 0:m.value)||void 0,user:(h==null?void 0:h.value.trim())||"",remotePath:q((W==null?void 0:W.value)||"/www")},v=(x==null?void 0:x.value)||"";return v.trim().length>0&&(b.password=v),b};s.addEventListener("submit",async b=>{if(b.preventDefault(),!M){k("Aucun site actif s\xE9lectionn\xE9.","error");return}let v=$e();T("save");try{let S=await fetch(M,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(v)});if(!S.ok){let re=await S.json().catch(()=>({}));throw new Error(re.message||"Sauvegarde impossible.")}let Z=await S.json();te(Z||{}),k("Configuration enregistr\xE9e.","success"),$("Configuration d\xE9ploiement sauvegard\xE9e")}catch(S){console.error("[deploy] save failed",S),k(S.message||"Erreur lors de la sauvegarde.","error")}finally{T(null)}}),se==null||se.addEventListener("click",async()=>{if(!M){k("Aucun site actif s\xE9lectionn\xE9.","error");return}let b=$e();if(!b.host||!b.user||!b.remotePath){k("Remplissez les champs requis avant de tester.","error");return}T("test");try{let v=await fetch(`${M}/test`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)}),S=await v.json().catch(()=>({}));if(!v.ok||S.success===!1){k(S.message||"Test de connexion \xE9chou\xE9.","error");return}k(S.message||"Connexion OK.","success"),$("Test de connexion r\xE9ussi")}catch(v){console.error("[deploy] test failed",v),k(v.message||"Test de connexion \xE9chou\xE9.","error")}finally{T(null)}}),g==null||g.addEventListener("click",async()=>{if(!P){k("Aucun site actif s\xE9lectionn\xE9.","error");return}T("deploy"),X(["D\xE9ploiement en cours\u2026"]);try{let b=await fetch(P,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify($e())}),v=await b.json().catch(()=>({}));if(!b.ok){if(b.status===404){k("API d\xE9ploiement indisponible (red\xE9marre le serveur).","error"),X(["API d\xE9ploiement indisponible (red\xE9marre le serveur)."]);return}throw X(v.logs||[]),new Error(v.message||"D\xE9ploiement \xE9chou\xE9.")}X(v.logs||[]),await he(),$("D\xE9ploiement termin\xE9")}catch(b){console.error("[deploy] run failed",b),k(b.message||"D\xE9ploiement \xE9chou\xE9.","error")}finally{T(null)}}),R==null||R.addEventListener("change",()=>{x&&(x.type=R.checked?"text":"password")});let fe=document.querySelector("[data-download-build]"),ke=document.querySelector("[data-download-feedback]"),Ae=L?`/api/sites/${encodeURIComponent(L)}/download`:null,D=(b,v="muted")=>{if(!ke)return;let S=v==="success"?"text-emerald-600":v==="error"?"text-rose-600":"text-slate-500";ke.textContent=b||"",ke.className=`text-sm ${S}`};fe==null||fe.addEventListener("click",async()=>{if(!Ae){D("Aucun site actif s\xE9lectionn\xE9.","error");return}fe.disabled=!0;let b=fe.innerHTML;fe.innerHTML=`
        <svg class="w-4 h-4 animate-spin" fill="none" viewBox="0 0 24 24">
          <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
          <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"></path>
        </svg>
        <span>Build en cours...</span>
      `,D("G\xE9n\xE9ration du build en cours...","muted");try{let v=await fetch(Ae);if(!v.ok){let pe=await v.json().catch(()=>({}));throw new Error(pe.message||"Impossible de g\xE9n\xE9rer le ZIP.")}let S=await v.blob(),Z=window.URL.createObjectURL(S),re=document.createElement("a");re.href=Z,re.download=`${L}-build.zip`,document.body.appendChild(re),re.click(),document.body.removeChild(re),window.URL.revokeObjectURL(Z),D("T\xE9l\xE9chargement termin\xE9 !","success"),$("Build t\xE9l\xE9charg\xE9 avec succ\xE8s")}catch(v){console.error("[download] failed",v),D(v.message||"Erreur lors du t\xE9l\xE9chargement.","error")}finally{fe.disabled=!1,fe.innerHTML=b}}),me(),he()}function Rn(){let s=document.querySelectorAll("[data-settings-tab]"),a=document.querySelectorAll("[data-settings-panel]"),i=document.querySelector("[data-admin-password-form]"),m=document.querySelector("[data-site-config-form]"),h=document.querySelector("[data-site-config-feedback]"),x=document.querySelector("[data-theme-form]"),R=g=>{s.forEach(E=>{let C=E.dataset.settingsTab===g;E.setAttribute("aria-selected",C?"true":"false"),E.classList.toggle("bg-[#9C6BFF]",C),E.classList.toggle("text-white",C)}),a.forEach(E=>{E.classList.toggle("hidden",E.dataset.settingsPanel!==g)})};if(s.forEach(g=>{g.addEventListener("click",()=>R(g.dataset.settingsTab||"account"))}),R("account"),i){let g=i.querySelector("[data-admin-password-feedback]"),E=i.querySelector("[data-admin-password-submit]"),C=(L,M="muted")=>{if(!g)return;let P=M==="success"?"text-emerald-600":M==="error"?"text-rose-600":"text-slate-500";g.textContent=L||"",g.className=`text-sm ${P}`};i.addEventListener("submit",async L=>{L.preventDefault();let M=new FormData(i),P=M.get("currentPassword")||"",N=M.get("newPassword")||"",H=M.get("confirmPassword")||"";if(!P||!N||!H){C("Compl\xE8te tous les champs.","error");return}E&&(E.disabled=!0),C("");try{let u=await fetch("/api/admin/password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentPassword:P,newPassword:N,confirmPassword:H})}),q=await u.json().catch(()=>({}));if(!u.ok||q.success===!1)throw new Error(q.message||"Impossible de mettre \xE0 jour le mot de passe.");C(q.message||"Mot de passe mis \xE0 jour.","success"),i.reset()}catch(u){console.error("[settings] change password failed",u),C(u.message||"Erreur lors de la mise \xE0 jour.","error")}finally{E&&(E.disabled=!1)}})}if(m){let g=m.querySelector("[data-site-name]"),E=m.querySelector("[data-site-language]"),C=m.querySelector("[data-site-tagline]"),L=m.querySelector("[data-site-save]"),M=(u,q="muted")=>{if(!h)return;let k=q==="success"?"text-emerald-600":q==="error"?"text-rose-600":"text-slate-500";h.textContent=u||"",h.className=`text-sm ${k}`},P=qe((O==null?void 0:O.slugValue)||Y.slug||""),N=P?`/api/sites/${encodeURIComponent(P)}/config/site`:null,H=async()=>{if(N)try{let u=await fetch(N,{headers:{Accept:"application/json"}});if(!u.ok)return;let q=await u.json().catch(()=>({}));g&&(g.value=q.name||""),E&&(E.value=q.language||"fr"),C&&(C.value=q.tagline||"")}catch(u){console.error("[settings] load site config failed",u)}};m.addEventListener("submit",async u=>{if(u.preventDefault(),!N){M("Aucun site actif.","error");return}if(!(g!=null&&g.value.trim())){M("Nom requis.","error");return}L&&(L.disabled=!0),M("");try{let q={name:(g==null?void 0:g.value)||"",language:(E==null?void 0:E.value)||"fr",tagline:(C==null?void 0:C.value)||""},k=await fetch(N,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(q)}),T=await k.json().catch(()=>({}));if(!k.ok||T.success===!1)throw new Error(T.message||"Sauvegarde impossible.");M(T.message||"Param\xE8tres enregistr\xE9s.","success")}catch(q){console.error("[settings] save site config failed",q),M(q.message||"Erreur lors de la sauvegarde.","error")}finally{L&&(L.disabled=!1)}}),H()}if(x){let g=qe((O==null?void 0:O.slugValue)||Y.slug||""),E=g?`/api/sites/${encodeURIComponent(g)}/config/theme`:null,C={primary:x.querySelector("[data-theme-primary]"),secondary:x.querySelector("[data-theme-secondary]"),accent:x.querySelector("[data-theme-accent]"),background:x.querySelector("[data-theme-background]"),text:x.querySelector("[data-theme-text]")},L=x.querySelector("[data-theme-headings]"),M=x.querySelector("[data-theme-body]"),P=x.querySelector("[data-theme-radius-small]"),N=x.querySelector("[data-theme-radius-medium]"),H=x.querySelector("[data-theme-radius-large]"),u=x.querySelector("[data-theme-preview]"),q=x.querySelector("[data-theme-feedback]"),k=x.querySelector("[data-theme-apply]"),T=["slate","gray","zinc","neutral","stone","red","orange","amber","yellow","lime","green","emerald","teal","cyan","sky","blue","indigo","violet","purple","fuchsia","pink","rose"],te=["50","100","200","300","400","500","600","700","800","900"],K=T.flatMap(D=>te.map(b=>`${D}-${b}`)),X=()=>{Object.values(C).forEach(D=>{!D||D.options.length||K.forEach(b=>{let v=document.createElement("option");v.value=b;let[S,Z]=b.split("-");v.textContent=`${S.charAt(0).toUpperCase()+S.slice(1)} ${Z}`,D.appendChild(v)})})},he=(D,b="muted")=>{if(!q)return;let v=b==="success"?"text-emerald-600":b==="error"?"text-rose-600":"text-slate-500";q.textContent=D||"",q.className=`text-sm ${v}`},me=()=>{var b,v,S,Z,re;if(!u)return;let D=pe=>{if(!pe)return null;if(pe==="white")return"#ffffff";if(pe==="black")return"#000000";if(pe==="transparent")return"transparent";let[ve,et]=pe.split("-");if(!ve||!et)return null;let tt={slate:"#e2e8f0",gray:"#d1d5db",zinc:"#d4d4d8",neutral:"#d4d4d4",stone:"#d6d3d1",red:"#ef4444",orange:"#f97316",amber:"#f59e0b",yellow:"#eab308",lime:"#84cc16",green:"#22c55e",emerald:"#10b981",teal:"#14b8a6",cyan:"#06b6d4",sky:"#0ea5e9",blue:"#3b82f6",indigo:"#6366f1",violet:"#8b5cf6",purple:"#a855f7",fuchsia:"#d946ef",pink:"#ec4899",rose:"#f43f5e"}[ve];if(!tt)return null;let ge=Number(et)||500,ae=Math.min(Math.max((ge-50)/900,0),1),Te=A=>A.match(/[A-Fa-f0-9]{2}/g).map(de=>parseInt(de,16)),[je,Ft,Mt]=Te(tt.replace("#","")),ye=A=>Math.round(255-(255-A)*ae);return`rgb(${ye(je)}, ${ye(Ft)}, ${ye(Mt)})`};u.style.setProperty("--color-primary",D((b=C.primary)==null?void 0:b.value)||"#9C6BFF"),u.style.setProperty("--color-secondary",D((v=C.secondary)==null?void 0:v.value)||"#0EA5E9"),u.style.setProperty("--color-accent",D((S=C.accent)==null?void 0:S.value)||"#F97316"),u.style.setProperty("--color-background",D((Z=C.background)==null?void 0:Z.value)||"#FFFFFF"),u.style.setProperty("--color-text",D((re=C.text)==null?void 0:re.value)||"#0F172A"),u.style.setProperty("--font-headings",(L==null?void 0:L.value)||"Inter, sans-serif"),u.style.setProperty("--font-body",(M==null?void 0:M.value)||"Inter, sans-serif"),u.style.setProperty("--radius-small",(P==null?void 0:P.value)||"8px"),u.style.setProperty("--radius-medium",(N==null?void 0:N.value)||"16px"),u.style.setProperty("--radius-large",(H==null?void 0:H.value)||"24px"),u.style.borderRadius=(N==null?void 0:N.value)||"16px"},$e=(D,b)=>{C[D]&&(C[D].value=b)},fe=D=>{var Z,re;if(!D)return;let b=D.options[D.selectedIndex],v=((Z=b==null?void 0:b.dataset)==null?void 0:Z.color)||"#ffffff",S=(re=D.closest(".relative"))==null?void 0:re.querySelector("[data-color-preview]");S&&(v==="transparent"?S.style.background="repeating-conic-gradient(#ccc 0% 25%, white 0% 50%) 50% / 8px 8px":(S.style.backgroundColor=v,S.style.background=""))},ke=()=>{Object.values(C).forEach(D=>{D&&(fe(D),D.addEventListener("change",()=>fe(D)))})};Object.keys(C).forEach(D=>{var b;(b=C[D])==null||b.addEventListener("change",me)}),[L,M,P,N,H].forEach(D=>{D==null||D.addEventListener("change",me)});let Ae=async()=>{var D,b,v,S,Z,re,pe,ve,et,ce;if(E)try{let tt=await fetch(E,{headers:{Accept:"application/json"}});if(!tt.ok)return;let ge=await tt.json().catch(()=>({}));$e("primary",((D=ge.colors)==null?void 0:D.primary)||"violet-500"),$e("secondary",((b=ge.colors)==null?void 0:b.secondary)||"indigo-400"),$e("accent",((v=ge.colors)==null?void 0:v.accent)||"emerald-500"),$e("background",((S=ge.colors)==null?void 0:S.background)||"slate-50"),$e("text",((Z=ge.colors)==null?void 0:Z.text)||"slate-900"),L&&(L.value=((re=ge.typography)==null?void 0:re.headings)||"Inter, sans-serif"),M&&(M.value=((pe=ge.typography)==null?void 0:pe.body)||"Inter, sans-serif"),P&&(P.value=((ve=ge.radius)==null?void 0:ve.small)||"8px"),N&&(N.value=((et=ge.radius)==null?void 0:et.medium)||"16px"),H&&(H.value=((ce=ge.radius)==null?void 0:ce.large)||"24px"),me(),Object.values(C).forEach(fe)}catch(tt){console.error("[settings] load theme failed",tt)}};X(),ke(),k==null||k.addEventListener("click",async D=>{var v,S,Z,re,pe;if(D.preventDefault(),!E){he("Aucun site actif.","error");return}let b={colors:{primary:((v=C.primary)==null?void 0:v.value)||"violet-500",secondary:((S=C.secondary)==null?void 0:S.value)||"indigo-400",accent:((Z=C.accent)==null?void 0:Z.value)||"emerald-500",background:((re=C.background)==null?void 0:re.value)||"slate-50",text:((pe=C.text)==null?void 0:pe.value)||"slate-900"},typography:{headings:(L==null?void 0:L.value)||"Inter, sans-serif",body:(M==null?void 0:M.value)||"Inter, sans-serif"},radius:{small:(P==null?void 0:P.value)||"8px",medium:(N==null?void 0:N.value)||"16px",large:(H==null?void 0:H.value)||"24px"}};k.disabled=!0,he("");try{let ve=await fetch(E,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)}),et=await ve.json().catch(()=>({}));if(!ve.ok||et.success===!1)throw new Error(et.message||"Application du th\xE8me \xE9chou\xE9e.");he(et.message||"Th\xE8me appliqu\xE9.","success"),me()}catch(ve){console.error("[settings] apply theme failed",ve),he(ve.message||"Erreur lors de l\u2019application du th\xE8me.","error")}finally{k.disabled=!1}}),X(),ke(),Ae(),me()}let W=document.querySelector("[data-seo-config-form]");if(W){let g=W.querySelector("[data-seo-index-all]"),E=W.querySelector("[data-seo-config-feedback]"),C=W.querySelector("[data-seo-save]"),L=qe((O==null?void 0:O.slugValue)||Y.slug||""),M=L?`/api/sites/${encodeURIComponent(L)}/config/site`:null,P=(H,u="muted")=>{if(!E)return;let q=u==="success"?"text-emerald-600":u==="error"?"text-rose-600":"text-slate-500";E.textContent=H||"",E.className=`text-sm ${q}`},N=async()=>{var H;if(M)try{let u=await fetch(M,{headers:{Accept:"application/json"}});if(!u.ok)return;let k=((H=(await u.json().catch(()=>({}))).seo)==null?void 0:H.indexAllPagesByDefault)!==!1;g&&(g.checked=k)}catch(u){console.error("[settings] load seo config failed",u)}};W.addEventListener("submit",async H=>{var u;if(H.preventDefault(),!M){P("Aucun site actif.","error");return}C&&(C.disabled=!0),P("");try{let q=await fetch(M,{headers:{Accept:"application/json"}}),k=q.ok?await q.json().catch(()=>({})):{},T={...k,seo:{...k.seo||{},indexAllPagesByDefault:(u=g==null?void 0:g.checked)!=null?u:!0}},te=await fetch(M,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(T)}),K=await te.json().catch(()=>({}));if(!te.ok||K.success===!1)throw new Error(K.message||"Sauvegarde impossible.");P(K.message||"Param\xE8tres SEO enregistr\xE9s.","success")}catch(q){console.error("[settings] save seo config failed",q),P(q.message||"Erreur lors de la sauvegarde.","error")}finally{C&&(C.disabled=!1)}}),N()}let U=document.querySelector("[data-analytics-form]");if(U){let g=U.querySelector("[data-analytics-head]"),E=U.querySelector("[data-analytics-body]"),C=U.querySelector("[data-analytics-feedback]"),L=U.querySelector("[data-analytics-save]"),M=qe((O==null?void 0:O.slugValue)||Y.slug||""),P=M?`/api/sites/${encodeURIComponent(M)}/config/site`:null,N=(u,q="muted")=>{if(!C)return;let k=q==="success"?"text-emerald-600":q==="error"?"text-rose-600":"text-slate-500";C.textContent=u||"",C.className=`text-sm ${k}`},H=async()=>{var u,q;if(P)try{let k=await fetch(P,{headers:{Accept:"application/json"}});if(!k.ok)return;let T=await k.json().catch(()=>({}));g&&(g.value=((u=T.analytics)==null?void 0:u.headCode)||""),E&&(E.value=((q=T.analytics)==null?void 0:q.bodyEndCode)||"")}catch(k){console.error("[settings] load analytics config failed",k)}};U.addEventListener("submit",async u=>{if(u.preventDefault(),!P){N("Aucun site actif.","error");return}L&&(L.disabled=!0),N("");try{let q=await fetch(P,{headers:{Accept:"application/json"}}),T={...q.ok?await q.json().catch(()=>({})):{},analytics:{headCode:(g==null?void 0:g.value)||"",bodyEndCode:(E==null?void 0:E.value)||""}},te=await fetch(P,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(T)}),K=await te.json().catch(()=>({}));if(!te.ok||K.success===!1)throw new Error(K.message||"Sauvegarde impossible.");N(K.message||"Scripts enregistr\xE9s.","success")}catch(q){console.error("[settings] save analytics config failed",q),N(q.message||"Erreur lors de la sauvegarde.","error")}finally{L&&(L.disabled=!1)}}),H()}let ne=document.querySelector("[data-accessibility-form]");if(ne){let g=ne.querySelector("[data-accessibility-animations]"),E=ne.querySelector("[data-accessibility-contrast]"),C=ne.querySelector("[data-accessibility-feedback]"),L=ne.querySelector("[data-accessibility-save]"),M=qe((O==null?void 0:O.slugValue)||Y.slug||""),P=M?`/api/sites/${encodeURIComponent(M)}/config/site`:null,N=(u,q="muted")=>{if(!C)return;let k=q==="success"?"text-emerald-600":q==="error"?"text-rose-600":"text-slate-500";C.textContent=u||"",C.className=`text-sm ${k}`},H=async()=>{var u,q;if(P)try{let k=await fetch(P,{headers:{Accept:"application/json"}});if(!k.ok)return;let T=await k.json().catch(()=>({}));g&&(g.checked=((u=T.accessibility)==null?void 0:u.animationsEnabled)!==!1),E&&(E.checked=((q=T.accessibility)==null?void 0:q.highContrast)===!0)}catch(k){console.error("[settings] load accessibility config failed",k)}};ne.addEventListener("submit",async u=>{var q,k;if(u.preventDefault(),!P){N("Aucun site actif.","error");return}L&&(L.disabled=!0),N("");try{let T=await fetch(P,{headers:{Accept:"application/json"}}),K={...T.ok?await T.json().catch(()=>({})):{},accessibility:{animationsEnabled:(q=g==null?void 0:g.checked)!=null?q:!0,highContrast:(k=E==null?void 0:E.checked)!=null?k:!1}},X=await fetch(P,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(K)}),he=await X.json().catch(()=>({}));if(!X.ok||he.success===!1)throw new Error(he.message||"Sauvegarde impossible.");N(he.message||"Pr\xE9f\xE9rences mises \xE0 jour.","success")}catch(T){console.error("[settings] save accessibility config failed",T),N(T.message||"Erreur lors de la sauvegarde.","error")}finally{L&&(L.disabled=!1)}}),H()}let se=document.querySelector("[data-ai-config-form]");if(se){let g=se.querySelector("[data-ai-api-key]"),E=se.querySelector("[data-ai-model]"),C=se.querySelector("[data-ai-project-prompt]"),L=se.querySelector("[data-ai-enabled]"),M=se.querySelector("[data-ai-feedback]"),P=se.querySelector("[data-ai-save]"),N=qe((O==null?void 0:O.slugValue)||Y.slug||""),H=N?`/api/sites/${encodeURIComponent(N)}/config/ai`:null,u=(k,T="muted")=>{if(!M)return;let te=T==="success"?"text-emerald-600":T==="error"?"text-rose-600":"text-slate-500";M.textContent=k||"",M.className=`text-sm ${te}`},q=async()=>{if(H)try{let k=await fetch(H,{headers:{Accept:"application/json"}});if(!k.ok)return;let T=await k.json().catch(()=>({}));g&&(g.value="",g.placeholder=T.hasApiKey?"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022":"Cl\xE9 API Gemini"),E&&(E.value=T.model||"gemini-2.5-flash"),C&&(C.value=T.projectPrompt||""),L&&(L.checked=T.enabled!==!1)}catch(k){console.error("[settings] load AI config failed",k)}};se.addEventListener("submit",async k=>{var T,te;if(k.preventDefault(),!H){u("Aucun site actif.","error");return}P&&(P.disabled=!0),u("");try{let K={model:(E==null?void 0:E.value)||"gemini-2.5-flash",projectPrompt:(C==null?void 0:C.value)||"",enabled:(T=L==null?void 0:L.checked)!=null?T:!0},X=(te=g==null?void 0:g.value)==null?void 0:te.trim();X&&(K.apiKey=X);let he=await fetch(H,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(K)}),me=await he.json().catch(()=>({}));if(!he.ok||me.success===!1)throw new Error(me.message||"Sauvegarde impossible.");u(me.message||"Configuration IA enregistr\xE9e.","success"),g&&(g.value="",g.placeholder="\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022")}catch(K){console.error("[settings] save AI config failed",K),u(K.message||"Erreur lors de la sauvegarde.","error")}finally{P&&(P.disabled=!1)}}),q()}}function zn(){let s=document.querySelector("[data-media-grid]");if(!s)return;let a=document.querySelector("[data-media-empty]"),i=document.querySelector("[data-media-count]"),m=document.querySelector("[data-media-filter-type]"),h=document.querySelector("[data-media-detail-empty]"),x=document.querySelector("[data-media-detail]"),R=document.querySelector("[data-media-detail-preview]"),W=document.querySelector("[data-media-detail-name]"),U=document.querySelector("[data-media-detail-type]"),ne=document.querySelector("[data-media-detail-size]"),se=document.querySelector("[data-media-detail-path]"),g=document.querySelector("[data-media-detail-used]"),E=document.querySelector("[data-media-alt-edit]"),C=document.querySelector("[data-media-save]"),L=document.querySelector("[data-media-delete]"),M=document.querySelector("[data-media-delete-modal]"),P=document.querySelector("[data-media-delete-cancel]"),N=document.querySelector("[data-media-delete-confirm]"),H=document.querySelector("[data-media-upload-open]"),u=document.querySelector("[data-media-file-input]"),q=document.querySelector("[data-media-upload-status]"),k=qe((O==null?void 0:O.slugValue)||Y.slug||""),T=k?`/api/sites/${encodeURIComponent(k)}/media`:null,te=[],K=[],X=null,he=null,me=null,$e=!1,fe=!1,ke=!1,Ae=null,D=l=>{let I=(l.type||"").toLowerCase(),V=(l.filename||"").toLowerCase();return I.includes("image")||/\.(png|jpe?g|webp|svg|gif)$/i.test(V)?"image":I.includes("pdf")||I.includes("doc")||/\.(pdf|docx?)$/i.test(V)?"document":I.includes("video")||/\.(mp4|mov|webm)$/i.test(V)?"video":"other"},b=l=>D(l)==="image",v=l=>{if(l.type)return l.type.toUpperCase();let I=(l.filename||"").split(".").pop();return I?I.toUpperCase():"FILE"},S=l=>!l||l<=0?"\u2014":l<1024?`${l} o`:l<1024*1024?`${(l/1024).toFixed(1)} ko`:`${(l/(1024*1024)).toFixed(1)} Mo`,Z=()=>{x==null||x.classList.add("hidden"),h==null||h.classList.remove("hidden"),re(),X=null,fe=!1,ce(!1),R&&(R.innerHTML='<span class="text-slate-400 text-sm">Aucun m\xE9dia s\xE9lectionn\xE9</span>'),W&&(W.textContent=""),U&&(U.textContent=""),ne&&(ne.textContent=""),E&&(E.value=""),se&&(se.textContent=""),g&&(g.innerHTML="")},re=()=>{me=null,ke=!1,$e=!1,Ae&&(URL.revokeObjectURL(Ae),Ae=null),q&&(q.textContent="Aucun fichier s\xE9lectionn\xE9."),u&&(u.value="")},pe=()=>{i&&(K.length?K.length===1?i.textContent="1 m\xE9dia":i.textContent=`${K.length} m\xE9dias`:i.textContent="0 m\xE9dia")},ve=()=>{if(s.innerHTML="",!K.length){a==null||a.classList.remove("hidden"),Z();return}a==null||a.classList.add("hidden"),K.forEach(l=>{let I=document.createElement("button");I.type="button",I.dataset.mediaId=l.id;let V=l.id===X;I.className=["group relative flex flex-col rounded-2xl border px-3 py-3 text-left transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[#9C6BFF]",V?"border-[#9C6BFF] bg-[#F7F0FF]/60 shadow-sm":"border-slate-200 hover:border-[#9C6BFF]/40"].join(" ");let J=b(l)?`<img src="${l.path}" alt="${l.alt||l.filename}" class="h-full w-full object-cover" />`:'<div class="flex h-full w-full items-center justify-center text-3xl text-slate-400">\u{1F4C4}</div>';I.innerHTML=`
          <div class="relative aspect-[4/3] overflow-hidden rounded-xl bg-slate-100">
            ${J}
          </div>
          <div class="mt-2 space-y-1">
            <p class="text-sm font-semibold text-slate-900 truncate">${l.filename}</p>
            <p class="text-xs text-slate-500">
              ${v(l)} \xB7 ${S(l.size)}
            </p>
          </div>
        `,l.id===he&&(I.classList.add("ring-2","ring-[#9C6BFF]"),window.setTimeout(()=>{I.classList.remove("ring-2","ring-[#9C6BFF]")},1600)),I.addEventListener("click",()=>tt(l.id)),s.appendChild(I)}),he=null},et=l=>{if(g){if(g.innerHTML="",!l.usedIn||l.usedIn.length===0){let I=document.createElement("li");I.textContent="Non utilis\xE9",I.className="text-xs text-slate-400",g.appendChild(I);return}l.usedIn.forEach(I=>{let V=document.createElement("li");V.textContent=I,V.className="text-xs text-slate-600",g.appendChild(V)})}},ce=l=>{if(C){if(ke){C.textContent=l?"T\xE9l\xE9versement\u2026":"T\xE9l\xE9verser",C.disabled=l||!me,L&&L.classList.add("hidden");return}C.textContent=l?"Enregistrement\u2026":"Enregistrer",C.disabled=l||!fe,L&&(L.classList.remove("hidden"),L.disabled=!X)}},tt=l=>{let I=te.find(V=>V.id===l);if(!I){Z(),ve();return}re(),X=I.id,fe=!1,ce(!1),ve(),h==null||h.classList.add("hidden"),x==null||x.classList.remove("hidden"),R&&(b(I)?R.innerHTML=`<img src="${I.path}" alt="${I.alt||I.filename}" class="h-full w-full rounded-2xl object-cover" />`:R.innerHTML='<div class="flex h-full w-full flex-col items-center justify-center gap-1 text-slate-400"><span class="text-3xl">\u{1F4C4}</span><span class="text-xs font-semibold">Document</span></div>'),W&&(W.textContent=I.filename||"Fichier"),U&&(U.textContent=v(I)),ne&&(ne.textContent=S(I.size)),E&&(E.value=I.alt||""),se&&(se.textContent=I.path||"\u2014"),et(I)},ge=l=>{if(l){if(ke=!0,fe=!1,X=null,h==null||h.classList.add("hidden"),x==null||x.classList.remove("hidden"),Ae&&URL.revokeObjectURL(Ae),Ae=URL.createObjectURL(l),R&&(R.innerHTML=`<img src="${Ae}" alt="${l.name}" class="h-full w-full rounded-2xl object-cover" />`),W&&(W.textContent=l.name),U&&(U.textContent=v({type:l.type,filename:l.name})),ne&&(ne.textContent=S(l.size)),E&&!E.value.trim()&&(E.value=l.name.replace(/\.[^.]+$/,"").replace(/[-_]/g," ")),se&&(se.textContent="En attente de t\xE9l\xE9versement"),g){g.innerHTML="";let I=document.createElement("li");I.textContent="Non utilis\xE9",I.className="text-xs text-slate-400",g.appendChild(I)}ce(!1)}},ae=()=>{let l=(m==null?void 0:m.value)||"all";l==="all"?K=[...te]:K=te.filter(I=>I.groupType===l),K.some(I=>I.id===X)||Z(),pe(),ve()},Te=async()=>{if(!T){a==null||a.classList.remove("hidden");return}try{let l=await fetch(T,{headers:{Accept:"application/json"}});if(!l.ok)throw new Error("Impossible de charger les m\xE9dias.");let I=await l.json().catch(()=>({items:[]}));te=Array.isArray(I.items)?I.items.map(V=>({...V,groupType:D(V)})):[],ae()}catch(l){console.error("[media] load failed",l),$(l.message||"Impossible de charger les m\xE9dias."),te=[],ae()}};m==null||m.addEventListener("change",()=>{ae()}),E==null||E.addEventListener("input",()=>{if(ke){ce(!1);return}X&&(fe=!0,ce(!1))});let je=l=>{if(l){if(!l.type.startsWith("image/")){$("Seules les images sont accept\xE9es pour le moment.");return}if(l.size>4*1024*1024){$("Fichier trop volumineux (4 Mo max).");return}me=l,ge(l),q&&(q.textContent=`${l.name} \xB7 ${S(l.size)}`)}},Ft=l=>new Promise((I,V)=>{let J=new FileReader;J.onload=()=>{let qt=J.result||"",[,St=""]=String(qt).split(",");I(St)},J.onerror=()=>V(new Error("Impossible de lire ce fichier.")),J.readAsDataURL(l)}),Mt=async()=>{if(!(!me||!T)){$e=!0,ce(!0);try{let l=await Ft(me),I={filename:me.name,type:me.type,size:me.size,alt:(E==null?void 0:E.value)||"",data:l},V=await fetch(T,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(I)});if(!V.ok){let qt=await V.json().catch(()=>({}));throw new Error(qt.message||"Upload impossible.")}let J=await V.json();J.groupType=D(J),te=[...te,J],he=J.id,ae(),tt(J.id),$("M\xE9dia ajout\xE9"),re()}catch(l){console.error("[media] upload failed",l),$(l.message||"Impossible de t\xE9l\xE9verser ce m\xE9dia.")}finally{$e=!1,me=null,ce(!1)}}};H==null||H.addEventListener("click",()=>u==null?void 0:u.click()),u==null||u.addEventListener("change",()=>{u.files&&u.files[0]&&je(u.files[0])});let ye=()=>{M&&(M.classList.add("hidden"),M.classList.remove("flex"))},A=()=>{if(!(!X||ke)){if(M){M.classList.remove("hidden"),M.classList.add("flex");return}window.confirm("Supprimer ce m\xE9dia ?")&&de()}},de=async()=>{if(!X||!T){ye();return}let l=()=>{L&&(L.disabled=!0),N&&(N.disabled=!0,N.textContent="Suppression\u2026")},I=()=>{L&&(L.disabled=!1),N&&(N.disabled=!1,N.textContent="Supprimer")};l();try{let V=await fetch(`${T}/${encodeURIComponent(X)}`,{method:"DELETE"});if(!V.ok){let J=await V.json().catch(()=>({}));throw new Error(J.message||"Suppression impossible.")}te=te.filter(J=>J.id!==X),K=K.filter(J=>J.id!==X),$("M\xE9dia supprim\xE9"),Z(),pe(),ve()}catch(V){console.error("[media] delete failed",V),$(V.message||"Impossible de supprimer ce m\xE9dia.")}finally{I(),ye()}};P==null||P.addEventListener("click",ye),M==null||M.addEventListener("click",l=>{l.target===M&&ye()}),N==null||N.addEventListener("click",()=>de()),L==null||L.addEventListener("click",A),C==null||C.addEventListener("click",async()=>{if(ke){Mt();return}if(!(!X||!T||!E)){ce(!0);try{let l={alt:E.value||""},I=await fetch(`${T}/${encodeURIComponent(X)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)});if(!I.ok){let J=await I.json().catch(()=>({}));throw new Error(J.message||"Impossible de mettre \xE0 jour ce m\xE9dia.")}let V=await I.json();te=te.map(J=>J.id===X?{...J,...V}:J),K=K.map(J=>J.id===X?{...J,...V}:J),fe=!1,ce(!1),$("M\xE9dia mis \xE0 jour")}catch(l){console.error("[media] update failed",l),$(l.message||"\xC9chec de la mise \xE0 jour."),ce(!1)}}}),Te()}let vo=document.getElementById("ai-chat-toggle"),ts=document.getElementById("ai-chat-panel"),Qe=document.getElementById("ai-chat-overlay"),yo=document.getElementById("ai-chat-close"),bo=document.getElementById("ai-chat-clear"),xo=document.getElementById("ai-chat-form"),Ct=document.getElementById("ai-chat-input"),Le=document.getElementById("ai-chat-messages"),Dr=document.getElementById("ai-chat-status"),gt=document.getElementById("ai-chat-no-api"),On=document.querySelectorAll("[data-ai-quick]"),Us=!1,wo=!1,_o=!1,Vn=!1;function Jn(){ts&&(Us=!0,ts.classList.remove("translate-x-full"),ts.setAttribute("aria-hidden","false"),Qe==null||Qe.classList.remove("opacity-0","pointer-events-none"),Qe==null||Qe.classList.add("opacity-100"),document.body.classList.add("overflow-hidden"),Ct==null||Ct.focus(),_o||Gn())}function Rs(){ts&&(Us=!1,ts.classList.add("translate-x-full"),ts.setAttribute("aria-hidden","true"),Qe==null||Qe.classList.add("opacity-0","pointer-events-none"),Qe==null||Qe.classList.remove("opacity-100"),document.body.classList.remove("overflow-hidden"))}async function Gn(){let s=qe(Y.slug||"");if(!s){gt==null||gt.classList.remove("hidden");return}try{let a=await fetch(`/api/sites/${encodeURIComponent(s)}/config/ai`);if(!a.ok)throw new Error("Config check failed");let i=await a.json();_o=!0,Vn=i.hasApiKey,!i.enabled||!i.hasApiKey?gt==null||gt.classList.remove("hidden"):(gt==null||gt.classList.add("hidden"),Wn())}catch(a){console.error("[AI] Config check failed:",a),gt==null||gt.classList.remove("hidden")}}async function Wn(){let s=qe(Y.slug||"");if(!(!s||!Le))try{let a=await fetch(`/api/sites/${encodeURIComponent(s)}/ai/history`);if(!a.ok)return;let i=await a.json();if(i.messages&&i.messages.length>0){let m=Le.querySelector("[data-ai-welcome]");m&&m.remove(),i.messages.forEach(h=>{zs(h.content,h.role==="user"?"user":"assistant")}),Le.scrollTop=Le.scrollHeight}}catch(a){console.error("[AI] History load failed:",a)}}function zs(s,a="assistant"){if(!Le)return;let i=document.createElement("div");if(i.className="flex gap-3",a==="user")i.innerHTML=`
        <div class="flex-1"></div>
        <div class="max-w-[80%] bg-violet-600 text-white rounded-2xl rounded-tr-none p-3">
          <p class="text-sm whitespace-pre-wrap">${lt(s)}</p>
        </div>
        <div class="w-8 h-8 rounded-full bg-slate-200 flex-shrink-0 flex items-center justify-center">
          <svg class="w-4 h-4 text-slate-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
          </svg>
        </div>
      `;else{let m=Zn(s);i.innerHTML=`
        <div class="w-8 h-8 rounded-full bg-gradient-to-br from-violet-500 to-indigo-600 flex-shrink-0 flex items-center justify-center">
          <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
          </svg>
        </div>
        <div class="flex-1 bg-slate-50 rounded-2xl rounded-tl-none p-3 overflow-x-auto">
          <div class="text-sm text-slate-700 prose prose-sm max-w-none [&>pre]:bg-slate-800 [&>pre]:text-slate-100 [&>pre]:rounded-lg [&>pre]:p-3 [&>pre]:overflow-x-auto [&>code]:bg-slate-200 [&>code]:px-1 [&>code]:rounded">${m}</div>
        </div>
      `}Le.appendChild(i),Le.scrollTop=Le.scrollHeight}function Kn(){if(!Le)return;let s=document.createElement("div");s.className="flex gap-3",s.id="ai-loading-indicator",s.innerHTML=`
      <div class="w-8 h-8 rounded-full bg-gradient-to-br from-violet-500 to-indigo-600 flex-shrink-0 flex items-center justify-center">
        <svg class="w-4 h-4 text-white animate-pulse" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
        </svg>
      </div>
      <div class="flex-1 bg-slate-50 rounded-2xl rounded-tl-none p-3">
        <div class="flex items-center gap-2">
          <div class="w-2 h-2 bg-violet-400 rounded-full animate-bounce" style="animation-delay: 0ms"></div>
          <div class="w-2 h-2 bg-violet-400 rounded-full animate-bounce" style="animation-delay: 150ms"></div>
          <div class="w-2 h-2 bg-violet-400 rounded-full animate-bounce" style="animation-delay: 300ms"></div>
        </div>
      </div>
    `,Le.appendChild(s),Le.scrollTop=Le.scrollHeight}function Yo(){let s=document.getElementById("ai-loading-indicator");s==null||s.remove()}function Zn(s){if(!s)return"";let a=lt(s);return a=a.replace(/```(\w*)\n([\s\S]*?)```/g,(i,m,h)=>`<pre class="language-${m||"text"}"><code>${h.trim()}</code></pre>`),a=a.replace(/`([^`]+)`/g,"<code>$1</code>"),a=a.replace(/\*\*([^*]+)\*\*/g,"<strong>$1</strong>"),a=a.replace(/\*([^*]+)\*/g,"<em>$1</em>"),a=a.replace(/^### (.+)$/gm,'<h4 class="font-semibold text-slate-900 mt-3 mb-1">$1</h4>'),a=a.replace(/^## (.+)$/gm,'<h3 class="font-semibold text-slate-900 mt-3 mb-1">$1</h3>'),a=a.replace(/^# (.+)$/gm,'<h2 class="font-bold text-slate-900 mt-3 mb-2">$1</h2>'),a=a.replace(/^- (.+)$/gm,'<li class="ml-4">$1</li>'),a=a.replace(/^(\d+)\. (.+)$/gm,'<li class="ml-4">$2</li>'),a=a.replace(/\n\n/g,'</p><p class="mb-2">'),a='<p class="mb-2">'+a+"</p>",a=a.replace(/<p class="mb-2"><\/p>/g,""),a}function lt(s){let a=document.createElement("div");return a.textContent=s,a.innerHTML}async function Xo(s){let a=qe(Y.slug||"");if(!s||!a||wo)return;wo=!0,Ct.disabled=!0;let i=Le==null?void 0:Le.querySelector("[data-ai-welcome]");i&&i.remove(),zs(s,"user"),Kn();try{let m=await fetch(`/api/sites/${encodeURIComponent(a)}/ai/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:s})});if(Yo(),!m.ok){let x=await m.json().catch(()=>({}));throw new Error(x.message||"Erreur de communication")}let h=await m.json();h.response&&zs(h.response,"assistant"),h.editProposal&&_n(h.editProposal),h.themeProposal&&Yn(h.themeProposal)}catch(m){Yo(),zs(`\u274C Erreur: ${m.message}`,"assistant")}finally{wo=!1,Ct.disabled=!1,Ct.focus()}}function _n(s){var m,h;if(!Le||!s)return;let a=document.createElement("div");a.className="flex gap-3 mt-2",a.dataset.proposalId=s.proposalId;let i="";if(s.changes&&(s.changes.title&&(i+=`<li>Titre \u2192 <strong>${lt(s.changes.title)}</strong></li>`),s.changes.description&&(i+=`<li>Description \u2192 ${lt(s.changes.description.substring(0,80))}...</li>`),s.changes.seo&&(s.changes.seo.metaTitle&&(i+=`<li>Meta title \u2192 ${lt(s.changes.seo.metaTitle)}</li>`),s.changes.seo.metaDescription&&(i+=`<li>Meta description \u2192 ${lt(s.changes.seo.metaDescription.substring(0,60))}...</li>`)),s.changes.blockUpdate&&(i+=`<li>Bloc "${s.changes.blockUpdate.blockId}" modifi\xE9</li>`,s.changes.blockUpdate.settings))){let x=s.changes.blockUpdate.settings;x.title&&(i+=`<li class="ml-4">\u2192 title: ${lt(x.title)}</li>`),x.content&&(i+='<li class="ml-4">\u2192 content modifi\xE9</li>')}a.innerHTML=`
      <div class="w-8 h-8 rounded-full bg-amber-500 flex-shrink-0 flex items-center justify-center">
        <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"/>
        </svg>
      </div>
      <div class="flex-1 bg-amber-50 border border-amber-200 rounded-2xl rounded-tl-none p-4">
        <div class="flex items-center gap-2 mb-2">
          <span class="text-xs font-semibold text-amber-700 bg-amber-100 px-2 py-0.5 rounded">Proposition d'\xE9dition</span>
        </div>
        <p class="text-sm font-medium text-slate-800 mb-1">Page : ${lt(s.pageTitle||s.pageId)}</p>
        ${s.reason?`<p class="text-sm text-slate-600 mb-2">${lt(s.reason)}</p>`:""}
        <ul class="text-xs text-slate-600 space-y-1 mb-3 list-disc ml-4">
          ${i||"<li>Modifications propos\xE9es</li>"}
        </ul>
        <div class="flex gap-2">
          <button 
            class="ai-apply-edit px-3 py-1.5 text-xs font-medium text-white bg-emerald-600 hover:bg-emerald-700 rounded-lg transition-colors flex items-center gap-1"
            data-proposal-id="${s.proposalId}"
          >
            <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
            </svg>
            Appliquer
          </button>
          <button 
            class="ai-reject-edit px-3 py-1.5 text-xs font-medium text-slate-600 bg-slate-100 hover:bg-slate-200 rounded-lg transition-colors flex items-center gap-1"
            data-proposal-id="${s.proposalId}"
          >
            <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
            </svg>
            Rejeter
          </button>
        </div>
      </div>
    `,Le.appendChild(a),Le.scrollTop=Le.scrollHeight,(m=a.querySelector(".ai-apply-edit"))==null||m.addEventListener("click",er),(h=a.querySelector(".ai-reject-edit"))==null||h.addEventListener("click",Qo)}function Yn(s){var h,x,R,W;if(!Le||!s)return;let a=document.createElement("div");a.className="flex gap-3 mt-2",a.dataset.proposalId=s.proposalId;let i="";if((h=s.changes)!=null&&h.colors){let U=s.changes.colors;for(let[ne,se]of Object.entries(U))i+=`<li class="flex items-center gap-2">
          <span class="w-4 h-4 rounded border border-slate-300" style="background: ${Xn(se)}"></span>
          <span>${ne}: <strong>${lt(se)}</strong></span>
        </li>`}let m="";if((x=s.changes)!=null&&x.typography){let U=s.changes.typography;U.headings&&(m+=`<li>Titres \u2192 <strong>${lt(U.headings)}</strong></li>`),U.body&&(m+=`<li>Textes \u2192 <strong>${lt(U.body)}</strong></li>`)}a.innerHTML=`
      <div class="w-8 h-8 rounded-full bg-purple-500 flex-shrink-0 flex items-center justify-center">
        <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"/>
        </svg>
      </div>
      <div class="flex-1 bg-purple-50 border border-purple-200 rounded-2xl rounded-tl-none p-4">
        <div class="flex items-center gap-2 mb-2">
          <span class="text-xs font-semibold text-purple-700 bg-purple-100 px-2 py-0.5 rounded">Modification du th\xE8me</span>
        </div>
        ${s.reason?`<p class="text-sm text-slate-600 mb-3">${lt(s.reason)}</p>`:""}
        ${i?`
          <p class="text-xs font-medium text-slate-700 mb-1">Couleurs :</p>
          <ul class="text-xs text-slate-600 space-y-1 mb-3">${i}</ul>
        `:""}
        ${m?`
          <p class="text-xs font-medium text-slate-700 mb-1">Typographies :</p>
          <ul class="text-xs text-slate-600 space-y-1 mb-3 list-disc ml-4">${m}</ul>
        `:""}
        <div class="flex gap-2">
          <button 
            class="ai-apply-theme px-3 py-1.5 text-xs font-medium text-white bg-purple-600 hover:bg-purple-700 rounded-lg transition-colors flex items-center gap-1"
            data-proposal-id="${s.proposalId}"
          >
            <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
            </svg>
            Appliquer
          </button>
          <button 
            class="ai-reject-theme px-3 py-1.5 text-xs font-medium text-slate-600 bg-slate-100 hover:bg-slate-200 rounded-lg transition-colors flex items-center gap-1"
            data-proposal-id="${s.proposalId}"
          >
            <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
            </svg>
            Rejeter
          </button>
        </div>
      </div>
    `,Le.appendChild(a),Le.scrollTop=Le.scrollHeight,(R=a.querySelector(".ai-apply-theme"))==null||R.addEventListener("click",Qn),(W=a.querySelector(".ai-reject-theme"))==null||W.addEventListener("click",Qo)}function Xn(s){return{white:"#ffffff",black:"#000000",transparent:"transparent","slate-50":"#f8fafc","slate-100":"#f1f5f9","slate-200":"#e2e8f0","slate-300":"#cbd5e1","slate-400":"#94a3b8","slate-500":"#64748b","slate-600":"#475569","slate-700":"#334155","slate-800":"#1e293b","slate-900":"#0f172a","gray-50":"#f9fafb","gray-100":"#f3f4f6","gray-200":"#e5e7eb","gray-300":"#d1d5db","gray-400":"#9ca3af","gray-500":"#6b7280","gray-600":"#4b5563","gray-700":"#374151","gray-800":"#1f2937","gray-900":"#111827","violet-50":"#f5f3ff","violet-100":"#ede9fe","violet-200":"#ddd6fe","violet-300":"#c4b5fd","violet-400":"#a78bfa","violet-500":"#8b5cf6","violet-600":"#7c3aed","violet-700":"#6d28d9","violet-800":"#5b21b6","violet-900":"#4c1d95","purple-50":"#faf5ff","purple-100":"#f3e8ff","purple-200":"#e9d5ff","purple-300":"#d8b4fe","purple-400":"#c084fc","purple-500":"#a855f7","purple-600":"#9333ea","purple-700":"#7e22ce","purple-800":"#6b21a8","purple-900":"#581c87","blue-50":"#eff6ff","blue-100":"#dbeafe","blue-200":"#bfdbfe","blue-300":"#93c5fd","blue-400":"#60a5fa","blue-500":"#3b82f6","blue-600":"#2563eb","blue-700":"#1d4ed8","blue-800":"#1e40af","blue-900":"#1e3a8a","emerald-50":"#ecfdf5","emerald-100":"#d1fae5","emerald-200":"#a7f3d0","emerald-300":"#6ee7b7","emerald-400":"#34d399","emerald-500":"#10b981","emerald-600":"#059669","emerald-700":"#047857","emerald-800":"#065f46","emerald-900":"#064e3b","teal-50":"#f0fdfa","teal-100":"#ccfbf1","teal-200":"#99f6e4","teal-300":"#5eead4","teal-400":"#2dd4bf","teal-500":"#14b8a6","teal-600":"#0d9488","teal-700":"#0f766e","teal-800":"#115e59","teal-900":"#134e4a","amber-50":"#fffbeb","amber-100":"#fef3c7","amber-200":"#fde68a","amber-300":"#fcd34d","amber-400":"#fbbf24","amber-500":"#f59e0b","amber-600":"#d97706","amber-700":"#b45309","amber-800":"#92400e","amber-900":"#78350f","red-50":"#fef2f2","red-100":"#fee2e2","red-200":"#fecaca","red-300":"#fca5a5","red-400":"#f87171","red-500":"#ef4444","red-600":"#dc2626","red-700":"#b91c1c","red-800":"#991b1b","red-900":"#7f1d1d"}[s]||"#9C6BFF"}async function Qn(s){var h;let a=(h=s.target.closest("[data-proposal-id]"))==null?void 0:h.dataset.proposalId,i=qe(Y.slug||"");if(!a||!i)return;let m=s.target.closest("button");m.disabled=!0,m.innerHTML='<span class="animate-spin">\u23F3</span> Application...';try{let x=await fetch(`/api/sites/${encodeURIComponent(i)}/ai/apply-theme`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({proposalId:a})}),R=await x.json();if(x.ok&&R.success){let W=document.querySelector(`[data-proposal-id="${a}"]`);W&&(W.innerHTML=`
            <div class="w-8 h-8 rounded-full bg-purple-500 flex-shrink-0 flex items-center justify-center">
              <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
              </svg>
            </div>
            <div class="flex-1 bg-purple-50 border border-purple-200 rounded-2xl rounded-tl-none p-3">
              <p class="text-sm text-purple-700">\u2705 Th\xE8me mis \xE0 jour avec succ\xE8s !</p>
              <p class="text-xs text-purple-600 mt-1">Rechargez la preview pour voir les changements.</p>
            </div>
          `),$("Th\xE8me mis \xE0 jour !"),document.dispatchEvent(new CustomEvent("ai-theme-updated",{detail:{updatedTheme:R.updatedTheme}}))}else throw new Error(R.message||"Erreur lors de l'application")}catch(x){m.disabled=!1,m.innerHTML='<svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg> R\xE9essayer',$(`Erreur: ${x.message}`)}}async function er(s){var h,x;let a=(h=s.target.closest("[data-proposal-id]"))==null?void 0:h.dataset.proposalId,i=qe(Y.slug||"");if(!a||!i)return;let m=s.target.closest("button");m.disabled=!0,m.innerHTML='<span class="animate-spin">\u23F3</span> Application...';try{let R=await fetch(`/api/sites/${encodeURIComponent(i)}/ai/apply-edit`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({proposalId:a})}),W=await R.json();if(R.ok&&W.success){let U=document.querySelector(`[data-proposal-id="${a}"]`);U&&(U.innerHTML=`
            <div class="w-8 h-8 rounded-full bg-emerald-500 flex-shrink-0 flex items-center justify-center">
              <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
              </svg>
            </div>
            <div class="flex-1 bg-emerald-50 border border-emerald-200 rounded-2xl rounded-tl-none p-3">
              <p class="text-sm text-emerald-700">\u2705 Modifications appliqu\xE9es avec succ\xE8s !</p>
              <p class="text-xs text-emerald-600 mt-1">La preview se met \xE0 jour automatiquement.</p>
            </div>
          `),$("Modifications appliqu\xE9es !");let ne=((x=W.updatedPage)==null?void 0:x.id)||null;document.dispatchEvent(new CustomEvent("ai-page-updated",{detail:{pageId:ne,updatedPage:W.updatedPage}}))}else throw new Error(W.message||"Erreur lors de l'application")}catch(R){m.disabled=!1,m.innerHTML='<svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg> R\xE9essayer',$(`Erreur: ${R.message}`)}}async function Qo(s){var m;let a=(m=s.target.closest("[data-proposal-id]"))==null?void 0:m.dataset.proposalId,i=qe(Y.slug||"");if(!(!a||!i))try{await fetch(`/api/sites/${encodeURIComponent(i)}/ai/proposal/${a}`,{method:"DELETE"});let h=document.querySelector(`[data-proposal-id="${a}"]`);h&&(h.innerHTML=`
          <div class="w-8 h-8 rounded-full bg-slate-400 flex-shrink-0 flex items-center justify-center">
            <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
            </svg>
          </div>
          <div class="flex-1 bg-slate-100 rounded-2xl rounded-tl-none p-3">
            <p class="text-sm text-slate-500">Proposition rejet\xE9e.</p>
          </div>
        `)}catch(h){console.error("[AI] Reject edit error:",h)}}async function tr(){let s=qe(Y.slug||"");if(!(!s||!Le))try{await fetch(`/api/sites/${encodeURIComponent(s)}/ai/history`,{method:"DELETE"}),Le.innerHTML="",Le.innerHTML=`
        <div class="flex gap-3" data-ai-welcome>
          <div class="w-8 h-8 rounded-full bg-gradient-to-br from-violet-500 to-indigo-600 flex-shrink-0 flex items-center justify-center">
            <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
            </svg>
          </div>
          <div class="flex-1 bg-slate-50 rounded-2xl rounded-tl-none p-3">
            <p class="text-sm text-slate-700">
              Salut ! \u{1F44B} Je suis ton assistant IA pour ce site. Je peux t'aider \xE0 :
            </p>
            <ul class="mt-2 text-sm text-slate-600 space-y-1">
              <li>\u{1F3A8} Sugg\xE9rer des palettes de couleurs</li>
              <li>\u270D\uFE0F G\xE9n\xE9rer du contenu pour tes blocs</li>
              <li>\u{1F4C4} Cr\xE9er des structures de pages</li>
              <li>\u{1F50D} Am\xE9liorer ton SEO</li>
              <li>\u270F\uFE0F <strong>Analyser et modifier tes pages</strong> (avec validation)</li>
            </ul>
          </div>
        </div>
      `,$("Historique effac\xE9")}catch(a){console.error("[AI] Clear history failed:",a),$("Erreur lors de l'effacement")}}let sr={colors:"Sugg\xE8re-moi 3 palettes de couleurs harmonieuses pour mon site. Pour chaque palette, donne les couleurs Tailwind: primary, secondary, accent, et background.",hero:"G\xE9n\xE8re un bloc Hero en JSON avec un titre accrocheur, un sous-titre engageant et un CTA.",seo:"Analyse mon site et sugg\xE8re des am\xE9liorations SEO pour le meta title et la meta description de ma page d'accueil.",landing:"G\xE9n\xE8re la structure JSON d'une landing page compl\xE8te avec: Hero, 3 sections de contenu, et un CTA final.",analyze:"Analyse le contenu de toutes mes pages et propose des am\xE9liorations concr\xE8tes. Pour chaque suggestion d'am\xE9lioration de texte ou de structure, utilise le format propose-edit pour que je puisse valider.",improveHome:"Analyse ma page d'accueil et propose une am\xE9lioration du titre ou du Hero pour le rendre plus impactant. Utilise le format propose-edit."};vo==null||vo.addEventListener("click",()=>{Us?Rs():Jn()}),yo==null||yo.addEventListener("click",Rs),Qe==null||Qe.addEventListener("click",Rs),bo==null||bo.addEventListener("click",()=>{confirm("Effacer tout l'historique de conversation ?")&&tr()}),xo==null||xo.addEventListener("submit",s=>{var i;s.preventDefault();let a=(i=Ct==null?void 0:Ct.value)==null?void 0:i.trim();a&&(Ct.value="",Xo(a))}),On.forEach(s=>{s.addEventListener("click",()=>{let a=s.dataset.aiQuick,i=sr[a];i&&Xo(i)})}),document.addEventListener("keydown",s=>{s.key==="Escape"&&Us&&Rs()})});})();
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vY29yZS9zY3JpcHRzL2FkbWluLmpzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuICBjb25zb2xlLmxvZygnW2FkbWluXSBBdGVsaWVyIGNoYXJnXHUwMEU5Jyk7XG4gIGNvbnN0IGxvZ291dEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWxvZ291dF0nKTtcbiAgaWYgKGxvZ291dEJ1dHRvbikge1xuICAgIGxvZ291dEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGxvZ291dEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBmZXRjaCgnL2FwaS9sb2dvdXQnLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbYWRtaW5dIEltcG9zc2libGUgZGUgc2UgZFx1MDBFOWNvbm5lY3RlcicsIGVycik7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvYWRtaW4vaW5kZXguaHRtbCc7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBjb25zdCBzaWRlYmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRtaW4tc2lkZWJhcl0nKTtcbiAgY29uc3Qgc2lkZWJhck92ZXJsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZG1pbi1zaWRlYmFyLW92ZXJsYXldJyk7XG4gIGNvbnN0IHNpZGViYXJUb2dnbGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYWRtaW4tc2lkZWJhci10b2dnbGVdJyk7XG4gIGNvbnN0IHNpZGViYXJDbG9zZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1hZG1pbi1zaWRlYmFyLWNsb3NlXScpO1xuICBjb25zdCBib2R5ID0gZG9jdW1lbnQuYm9keTtcbiAgbGV0IHNpZGViYXJPcGVuID0gZmFsc2U7XG5cbiAgY29uc3QgYXBwbHlTaWRlYmFyU3RhdGUgPSAoKSA9PiB7XG4gICAgaWYgKCFzaWRlYmFyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGlzRGVza3RvcCA9IHdpbmRvdy5tYXRjaE1lZGlhKCcobWluLXdpZHRoOiAxMDI0cHgpJykubWF0Y2hlcztcbiAgICBpZiAoaXNEZXNrdG9wKSB7XG4gICAgICBzaWRlYmFyLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgc2lkZWJhck92ZXJsYXk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHNpZGViYXJPcGVuKSB7XG4gICAgICBzaWRlYmFyLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgc2lkZWJhck92ZXJsYXk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgYm9keS5jbGFzc0xpc3QuYWRkKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2lkZWJhci5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIHNpZGViYXJPdmVybGF5Py5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnb3ZlcmZsb3ctaGlkZGVuJyk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IG9wZW5TaWRlYmFyID0gKCkgPT4ge1xuICAgIHNpZGViYXJPcGVuID0gdHJ1ZTtcbiAgICBhcHBseVNpZGViYXJTdGF0ZSgpO1xuICB9O1xuXG4gIGNvbnN0IGNsb3NlU2lkZWJhciA9ICgpID0+IHtcbiAgICBzaWRlYmFyT3BlbiA9IGZhbHNlO1xuICAgIGFwcGx5U2lkZWJhclN0YXRlKCk7XG4gIH07XG5cbiAgaWYgKHNpZGViYXIgJiYgc2lkZWJhclRvZ2dsZXMubGVuZ3RoID4gMCkge1xuICAgIHNpZGViYXJUb2dnbGVzLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlblNpZGViYXIpO1xuICAgIH0pO1xuICAgIHNpZGViYXJDbG9zZUJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZVNpZGViYXIpO1xuICAgIH0pO1xuICAgIHNpZGViYXJPdmVybGF5Py5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlU2lkZWJhcik7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGFwcGx5U2lkZWJhclN0YXRlKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VzY2FwZScgJiYgc2lkZWJhck9wZW4pIHtcbiAgICAgICAgY2xvc2VTaWRlYmFyKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgYXBwbHlTaWRlYmFyU3RhdGUoKTtcbiAgfVxuXG4gIGNvbnN0IEFDVElWRV9TSVRFX0tFWSA9ICdjbG93ZXI6Y3VycmVudFNpdGUnO1xuICBjb25zdCBBQ1RJVkVfU0lURV9OQU1FX0tFWSA9ICdjbG93ZXI6Y3VycmVudFNpdGVOYW1lJztcbiAgY29uc3Qgc3RvcmVkU2l0ZSA9IHsgc2x1ZzogbnVsbCwgbmFtZTogJycgfTtcbiAgY29uc3QgbG9hZFN0b3JlZFNpdGUgPSAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHN0b3JlZFNpdGUuc2x1ZyA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShBQ1RJVkVfU0lURV9LRVkpO1xuICAgICAgc3RvcmVkU2l0ZS5uYW1lID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKEFDVElWRV9TSVRFX05BTUVfS0VZKSB8fCAnJztcbiAgICB9IGNhdGNoIHtcbiAgICAgIHN0b3JlZFNpdGUuc2x1ZyA9IG51bGw7XG4gICAgICBzdG9yZWRTaXRlLm5hbWUgPSAnJztcbiAgICB9XG4gIH07XG4gIGxvYWRTdG9yZWRTaXRlKCk7XG5cbiAgY29uc3Qgc2l0ZUNhcmRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtc2l0ZS1jYXJkXScpO1xuICBjb25zdCBzaXRlU2VsZWN0QnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXNpdGUtc2VsZWN0XScpO1xuICBjb25zdCBzaXRlTmFtZUxhYmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY3VycmVudC1zaXRlLW5hbWVdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZVNpdGVMYWJlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXdvcmtzcGFjZS1zaXRlLW5hbWVdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZUJhY2tOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtd29ya3NwYWNlLWJhY2stbmFtZV0nKTtcbiAgY29uc3Qgd29ya3NwYWNlQmFja01vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtd29ya3NwYWNlLWJhY2stbW9kYWxdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZUJhY2tCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtd29ya3NwYWNlLWJhY2tdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZUJhY2tDYW5jZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS13b3Jrc3BhY2UtYmFjay1jYW5jZWxdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZUJhY2tDb25maXJtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtd29ya3NwYWNlLWJhY2stY29uZmlybV0nKTtcbiAgY29uc3Qgd29ya3NwYWNlTmF2TGlua3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS13b3Jrc3BhY2UtdGFiXScpO1xuICBjb25zdCBzaXRlVG9hc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLXRvYXN0XScpO1xuICBjb25zdCBzaXRlVG9hc3RNZXNzYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS10b2FzdC1tZXNzYWdlXScpO1xuICBjb25zdCBzaXRlQ3JlYXRlQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXNpdGUtY3JlYXRlXScpO1xuICBjb25zdCBzaXRlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLW1vZGFsXScpO1xuICBjb25zdCBzaXRlRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtZm9ybV0nKTtcbiAgLy8gVXNlIG1vcmUgc3BlY2lmaWMgc2VsZWN0b3JzIHRvIGdldCBpbnB1dHMgSU5TSURFIHRoZSBmb3JtLCBub3Qgc2l0ZSBjYXJkc1xuICBjb25zdCBzaXRlTmFtZUlucHV0ID0gc2l0ZUZvcm0/LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9XCJzaXRlTmFtZVwiXScpO1xuICBjb25zdCBzaXRlU2x1Z0lucHV0ID0gc2l0ZUZvcm0/LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9XCJzaXRlU2x1Z1wiXScpO1xuICBjb25zdCBzaXRlU2x1Z0Vycm9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS1zbHVnLWVycm9yXScpO1xuICBjb25zdCBzaXRlTW9kYWxFcnJvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtbW9kYWwtZXJyb3JdJyk7XG4gIGNvbnN0IHNpdGVNb2RhbENhbmNlbEJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1zaXRlLW1vZGFsLWNhbmNlbF0nKTtcbiAgY29uc3Qgc2l0ZU1vZGFsU3VibWl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS1tb2RhbC1zdWJtaXRdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZUNvbnRleHQgPSBnZXRXb3Jrc3BhY2VDb250ZXh0KCk7XG4gIGxldCBzbHVnTWFudWFsbHlFZGl0ZWQgPSBmYWxzZTtcbiAgbGV0IHRvYXN0VGltZW91dElkID0gbnVsbDtcblxuICBjb25zdCBmb2N1c2FibGVTZWxlY3RvciA9XG4gICAgJ2FbaHJlZl0sIGJ1dHRvbjpub3QoW2Rpc2FibGVkXSksIHRleHRhcmVhLCBpbnB1dCwgc2VsZWN0LCBbdGFiaW5kZXhdOm5vdChbdGFiaW5kZXg9XCItMVwiXSknO1xuICBjb25zdCBtb2RhbFN0YWNrID0gW107XG4gIGNvbnN0IGdldEZvY3VzYWJsZUVsZW1lbnRzID0gKG1vZGFsKSA9PlxuICAgIEFycmF5LmZyb20obW9kYWwucXVlcnlTZWxlY3RvckFsbChmb2N1c2FibGVTZWxlY3RvcikpLmZpbHRlcihcbiAgICAgIChlbCkgPT4gIWVsLmhhc0F0dHJpYnV0ZSgnZGlzYWJsZWQnKSAmJiAhZWwuZ2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicpLFxuICAgICk7XG4gIGNvbnN0IGhhbmRsZU1vZGFsS2V5ZG93biA9IChldmVudCkgPT4ge1xuICAgIGlmICghbW9kYWxTdGFjay5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgY3VycmVudEVudHJ5ID0gbW9kYWxTdGFja1ttb2RhbFN0YWNrLmxlbmd0aCAtIDFdO1xuICAgIGNvbnN0IHsgbW9kYWwsIG9uQ2xvc2UgfSA9IGN1cnJlbnRFbnRyeTtcbiAgICBpZiAoZXZlbnQua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIG9uQ2xvc2U/LigpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoZXZlbnQua2V5ICE9PSAnVGFiJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBmb2N1c2FibGVFbGVtZW50cyA9IGdldEZvY3VzYWJsZUVsZW1lbnRzKG1vZGFsKTtcbiAgICBpZiAoIWZvY3VzYWJsZUVsZW1lbnRzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBmaXJzdCA9IGZvY3VzYWJsZUVsZW1lbnRzWzBdO1xuICAgIGNvbnN0IGxhc3QgPSBmb2N1c2FibGVFbGVtZW50c1tmb2N1c2FibGVFbGVtZW50cy5sZW5ndGggLSAxXTtcbiAgICBpZiAoZXZlbnQuc2hpZnRLZXkpIHtcbiAgICAgIGlmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSBmaXJzdCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBsYXN0LmZvY3VzKCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSBsYXN0KSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZmlyc3QuZm9jdXMoKTtcbiAgICB9XG4gIH07XG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVNb2RhbEtleWRvd24pO1xuICBjb25zdCBhY3RpdmF0ZU1vZGFsID0gKG1vZGFsLCBvbkNsb3NlKSA9PiB7XG4gICAgaWYgKCFtb2RhbCkgcmV0dXJuO1xuICAgIG1vZGFsU3RhY2sucHVzaCh7XG4gICAgICBtb2RhbCxcbiAgICAgIG9uQ2xvc2UsXG4gICAgICB0cmlnZ2VyOiBkb2N1bWVudC5hY3RpdmVFbGVtZW50IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgPyBkb2N1bWVudC5hY3RpdmVFbGVtZW50IDogbnVsbCxcbiAgICB9KTtcbiAgICBjb25zdCBmb2N1c2FibGUgPSBnZXRGb2N1c2FibGVFbGVtZW50cyhtb2RhbCk7XG4gICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgKGZvY3VzYWJsZVswXSB8fCBtb2RhbCkuZm9jdXM/LigpO1xuICAgIH0sIDApO1xuICB9O1xuICBjb25zdCBkZWFjdGl2YXRlTW9kYWwgPSAobW9kYWwpID0+IHtcbiAgICBjb25zdCBpbmRleCA9IG1vZGFsU3RhY2suZmluZEluZGV4KChlbnRyeSkgPT4gZW50cnkubW9kYWwgPT09IG1vZGFsKTtcbiAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IFtlbnRyeV0gPSBtb2RhbFN0YWNrLnNwbGljZShpbmRleCwgMSk7XG4gICAgZW50cnkudHJpZ2dlcj8uZm9jdXM/LigpO1xuICB9O1xuICBjb25zdCBtb2JpbGVQYW5lbE92ZXJsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tb2JpbGUtcGFuZWxzLW92ZXJsYXldJyk7XG4gIGNvbnN0IG1vYmlsZVBhbmVsTGF5ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tb2JpbGUtcGFuZWxzLWxheWVyXScpO1xuICBjb25zdCBtb2JpbGVQYW5lbHMgPSB7XG4gICAgbGVmdDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbW9iaWxlLXBhbmVsPVwibGVmdFwiXScpLFxuICAgIHJpZ2h0OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tb2JpbGUtcGFuZWw9XCJyaWdodFwiXScpLFxuICB9O1xuICBjb25zdCBtb2JpbGVQYW5lbFRvZ2dsZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1tb2JpbGUtcGFuZWwtdG9nZ2xlXScpO1xuICBjb25zdCBtb2JpbGVQYW5lbENsb3NlQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLW1vYmlsZS1wYW5lbC1jbG9zZV0nKTtcbiAgY29uc3QgbW9iaWxlUGFuZWxUcmlnZ2VycyA9IHsgbGVmdDogbnVsbCwgcmlnaHQ6IG51bGwgfTtcbiAgbGV0IGFjdGl2ZU1vYmlsZVBhbmVsID0gbnVsbDtcbiAgY29uc3QgaXNEZXNrdG9wVmlld3BvcnQgPSAoKSA9PiB3aW5kb3cubWF0Y2hNZWRpYSgnKG1pbi13aWR0aDogMTAyNHB4KScpLm1hdGNoZXM7XG4gIGNvbnN0IGFwcGx5UGFuZWxDbGFzc2VzID0gKHBhbmVsLCBjbGFzc2VzLCBtZXRob2QpID0+IHtcbiAgICBpZiAoIXBhbmVsIHx8ICFjbGFzc2VzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNsYXNzZXNcbiAgICAgIC5zcGxpdCgnICcpXG4gICAgICAubWFwKChjbHMpID0+IGNscy50cmltKCkpXG4gICAgICAuZmlsdGVyKEJvb2xlYW4pXG4gICAgICAuZm9yRWFjaCgoY2xzKSA9PiBwYW5lbC5jbGFzc0xpc3RbbWV0aG9kXShjbHMpKTtcbiAgfTtcbiAgY29uc3Qgc2V0UGFuZWxIaWRkZW5TdGF0ZSA9IChwYW5lbCwgaGlkZGVuKSA9PiB7XG4gICAgaWYgKCFwYW5lbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBoaWRkZW5DbGFzc2VzID0gcGFuZWwuZGF0YXNldC5tb2JpbGVQYW5lbEhpZGRlbiB8fCAnJztcbiAgICBjb25zdCB2aXNpYmxlQ2xhc3NlcyA9IHBhbmVsLmRhdGFzZXQubW9iaWxlUGFuZWxWaXNpYmxlIHx8ICd0cmFuc2xhdGUteC0wJztcbiAgICBpZiAoaGlkZGVuKSB7XG4gICAgICBhcHBseVBhbmVsQ2xhc3NlcyhwYW5lbCwgdmlzaWJsZUNsYXNzZXMsICdyZW1vdmUnKTtcbiAgICAgIGFwcGx5UGFuZWxDbGFzc2VzKHBhbmVsLCBoaWRkZW5DbGFzc2VzLCAnYWRkJyk7XG4gICAgICBwYW5lbC5jbGFzc0xpc3QuYWRkKCdwb2ludGVyLWV2ZW50cy1ub25lJyk7XG4gICAgICBwYW5lbC5jbGFzc0xpc3QucmVtb3ZlKCdwb2ludGVyLWV2ZW50cy1hdXRvJyk7XG4gICAgICBwYW5lbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcbiAgICAgIHBhbmVsLmRhdGFzZXQubW9iaWxlUGFuZWxPcGVuID0gJ2ZhbHNlJztcbiAgICB9IGVsc2Uge1xuICAgICAgYXBwbHlQYW5lbENsYXNzZXMocGFuZWwsIGhpZGRlbkNsYXNzZXMsICdyZW1vdmUnKTtcbiAgICAgIGFwcGx5UGFuZWxDbGFzc2VzKHBhbmVsLCB2aXNpYmxlQ2xhc3NlcywgJ2FkZCcpO1xuICAgICAgcGFuZWwuY2xhc3NMaXN0LnJlbW92ZSgncG9pbnRlci1ldmVudHMtbm9uZScpO1xuICAgICAgcGFuZWwuY2xhc3NMaXN0LmFkZCgncG9pbnRlci1ldmVudHMtYXV0bycpO1xuICAgICAgcGFuZWwuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICdmYWxzZScpO1xuICAgICAgcGFuZWwuZGF0YXNldC5tb2JpbGVQYW5lbE9wZW4gPSAndHJ1ZSc7XG4gICAgfVxuICB9O1xuICBjb25zdCBjbG9zZU1vYmlsZVBhbmVsID0gKHNpZGUgPSBhY3RpdmVNb2JpbGVQYW5lbCkgPT4ge1xuICAgIGlmICghc2lkZSB8fCBpc0Rlc2t0b3BWaWV3cG9ydCgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHBhbmVsID0gbW9iaWxlUGFuZWxzW3NpZGVdO1xuICAgIGlmICghcGFuZWwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2V0UGFuZWxIaWRkZW5TdGF0ZShwYW5lbCwgdHJ1ZSk7XG4gICAgY29uc3QgdHJpZ2dlciA9IG1vYmlsZVBhbmVsVHJpZ2dlcnNbc2lkZV07XG4gICAgaWYgKHRyaWdnZXIpIHtcbiAgICAgIHRyaWdnZXIuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJyk7XG4gICAgfVxuICAgIG1vYmlsZVBhbmVsVHJpZ2dlcnNbc2lkZV0gPSBudWxsO1xuICAgIGlmIChhY3RpdmVNb2JpbGVQYW5lbCA9PT0gc2lkZSkge1xuICAgICAgbW9iaWxlUGFuZWxPdmVybGF5Py5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIG1vYmlsZVBhbmVsT3ZlcmxheT8uY2xhc3NMaXN0LnJlbW92ZSgncG9pbnRlci1ldmVudHMtYXV0bycpO1xuICAgICAgbW9iaWxlUGFuZWxPdmVybGF5Py5jbGFzc0xpc3QuYWRkKCdwb2ludGVyLWV2ZW50cy1ub25lJyk7XG4gICAgICBtb2JpbGVQYW5lbE92ZXJsYXk/LnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuICAgICAgbW9iaWxlUGFuZWxMYXllcj8uY2xhc3NMaXN0LmFkZCgncG9pbnRlci1ldmVudHMtbm9uZScpO1xuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICAgIHRyaWdnZXI/LmZvY3VzPy4oKTtcbiAgICAgIGFjdGl2ZU1vYmlsZVBhbmVsID0gbnVsbDtcbiAgICB9XG4gIH07XG4gIGNvbnN0IG9wZW5Nb2JpbGVQYW5lbCA9IChzaWRlLCB0cmlnZ2VyKSA9PiB7XG4gICAgaWYgKCFzaWRlIHx8IGlzRGVza3RvcFZpZXdwb3J0KCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcGFuZWwgPSBtb2JpbGVQYW5lbHNbc2lkZV07XG4gICAgaWYgKCFwYW5lbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoYWN0aXZlTW9iaWxlUGFuZWwgJiYgYWN0aXZlTW9iaWxlUGFuZWwgIT09IHNpZGUpIHtcbiAgICAgIGNsb3NlTW9iaWxlUGFuZWwoYWN0aXZlTW9iaWxlUGFuZWwpO1xuICAgIH1cbiAgICBzZXRQYW5lbEhpZGRlblN0YXRlKHBhbmVsLCBmYWxzZSk7XG4gICAgYWN0aXZlTW9iaWxlUGFuZWwgPSBzaWRlO1xuICAgIG1vYmlsZVBhbmVsVHJpZ2dlcnNbc2lkZV0gPSB0cmlnZ2VyIHx8IG51bGw7XG4gICAgaWYgKHRyaWdnZXIpIHtcbiAgICAgIHRyaWdnZXIuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ3RydWUnKTtcbiAgICB9XG4gICAgbW9iaWxlUGFuZWxPdmVybGF5Py5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nLCAncG9pbnRlci1ldmVudHMtbm9uZScpO1xuICAgIG1vYmlsZVBhbmVsT3ZlcmxheT8uY2xhc3NMaXN0LmFkZCgncG9pbnRlci1ldmVudHMtYXV0bycpO1xuICAgIG1vYmlsZVBhbmVsT3ZlcmxheT8uc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICdmYWxzZScpO1xuICAgIG1vYmlsZVBhbmVsTGF5ZXI/LmNsYXNzTGlzdC5yZW1vdmUoJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ292ZXJmbG93LWhpZGRlbicpO1xuICAgIGNvbnN0IGZvY3VzVGFyZ2V0ID0gcGFuZWwucXVlcnlTZWxlY3Rvcihmb2N1c2FibGVTZWxlY3Rvcik7XG4gICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgZm9jdXNUYXJnZXQ/LmZvY3VzPy4oKTtcbiAgICB9LCAwKTtcbiAgfTtcbiAgY29uc3Qgc3luY01vYmlsZVBhbmVsc1dpdGhWaWV3cG9ydCA9ICgpID0+IHtcbiAgICBpZiAoaXNEZXNrdG9wVmlld3BvcnQoKSkge1xuICAgICAgbW9iaWxlUGFuZWxPdmVybGF5Py5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIG1vYmlsZVBhbmVsTGF5ZXI/LmNsYXNzTGlzdC5hZGQoJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnb3ZlcmZsb3ctaGlkZGVuJyk7XG4gICAgICBhY3RpdmVNb2JpbGVQYW5lbCA9IG51bGw7XG4gICAgICBPYmplY3Qua2V5cyhtb2JpbGVQYW5lbHMpLmZvckVhY2goKHNpZGUpID0+IHtcbiAgICAgICAgY29uc3QgcGFuZWwgPSBtb2JpbGVQYW5lbHNbc2lkZV07XG4gICAgICAgIGlmICghcGFuZWwpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcGFuZWwuY2xhc3NMaXN0LnJlbW92ZSgncG9pbnRlci1ldmVudHMtbm9uZScpO1xuICAgICAgICBwYW5lbC5jbGFzc0xpc3QuYWRkKCdwb2ludGVyLWV2ZW50cy1hdXRvJyk7XG4gICAgICAgIHBhbmVsLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAnZmFsc2UnKTtcbiAgICAgICAgcGFuZWwuZGF0YXNldC5tb2JpbGVQYW5lbE9wZW4gPSAnZmFsc2UnO1xuICAgICAgICBjb25zdCB0cmlnZ2VyID0gbW9iaWxlUGFuZWxUcmlnZ2Vyc1tzaWRlXTtcbiAgICAgICAgdHJpZ2dlcj8uc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJyk7XG4gICAgICAgIG1vYmlsZVBhbmVsVHJpZ2dlcnNbc2lkZV0gPSBudWxsO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIE9iamVjdC5lbnRyaWVzKG1vYmlsZVBhbmVscykuZm9yRWFjaCgoW3NpZGUsIHBhbmVsXSkgPT4ge1xuICAgICAgICBpZiAoIXBhbmVsKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYW5lbC5kYXRhc2V0Lm1vYmlsZVBhbmVsT3BlbiAhPT0gJ3RydWUnKSB7XG4gICAgICAgICAgc2V0UGFuZWxIaWRkZW5TdGF0ZShwYW5lbCwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKCFhY3RpdmVNb2JpbGVQYW5lbCkge1xuICAgICAgICBtb2JpbGVQYW5lbE92ZXJsYXk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicsICdwb2ludGVyLWV2ZW50cy1ub25lJyk7XG4gICAgICAgIG1vYmlsZVBhbmVsT3ZlcmxheT8uY2xhc3NMaXN0LnJlbW92ZSgncG9pbnRlci1ldmVudHMtYXV0bycpO1xuICAgICAgICBtb2JpbGVQYW5lbE92ZXJsYXk/LnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuICAgICAgICBtb2JpbGVQYW5lbExheWVyPy5jbGFzc0xpc3QuYWRkKCdwb2ludGVyLWV2ZW50cy1ub25lJyk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBpZiAobW9iaWxlUGFuZWxUb2dnbGVzLmxlbmd0aCA+IDApIHtcbiAgICBtb2JpbGVQYW5lbFRvZ2dsZXMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICBjb25zdCBzaWRlID0gYnV0dG9uLmRhdGFzZXQubW9iaWxlUGFuZWxUb2dnbGU7XG4gICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIGlmIChhY3RpdmVNb2JpbGVQYW5lbCA9PT0gc2lkZSkge1xuICAgICAgICAgIGNsb3NlTW9iaWxlUGFuZWwoc2lkZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb3Blbk1vYmlsZVBhbmVsKHNpZGUsIGJ1dHRvbik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIG1vYmlsZVBhbmVsQ2xvc2VCdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgICAgY29uc3Qgc2lkZSA9IGJ1dHRvbi5kYXRhc2V0Lm1vYmlsZVBhbmVsQ2xvc2U7XG4gICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBjbG9zZU1vYmlsZVBhbmVsKHNpZGUpKTtcbiAgICB9KTtcbiAgICBtb2JpbGVQYW5lbE92ZXJsYXk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gY2xvc2VNb2JpbGVQYW5lbCgpKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VzY2FwZScgJiYgYWN0aXZlTW9iaWxlUGFuZWwgJiYgIWlzRGVza3RvcFZpZXdwb3J0KCkpIHtcbiAgICAgICAgY2xvc2VNb2JpbGVQYW5lbCgpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBzeW5jTW9iaWxlUGFuZWxzV2l0aFZpZXdwb3J0KTtcbiAgICBzeW5jTW9iaWxlUGFuZWxzV2l0aFZpZXdwb3J0KCk7XG4gIH1cblxuICBjb25zdCBzaG93VG9hc3QgPSAobWVzc2FnZSkgPT4ge1xuICAgIGlmICghc2l0ZVRvYXN0IHx8ICFzaXRlVG9hc3RNZXNzYWdlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHNpdGVUb2FzdE1lc3NhZ2UudGV4dENvbnRlbnQgPSBtZXNzYWdlO1xuICAgIHNpdGVUb2FzdC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICBpZiAodG9hc3RUaW1lb3V0SWQpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0b2FzdFRpbWVvdXRJZCk7XG4gICAgfVxuICAgIHRvYXN0VGltZW91dElkID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBzaXRlVG9hc3QuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgfSwgMjUwMCk7XG4gIH07XG5cbiAgZnVuY3Rpb24gZW5zdXJlTGVhZGluZ1NsYXNoKHNsdWcpIHtcbiAgICBpZiAoIXNsdWcpIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgcmV0dXJuIHNsdWcuc3RhcnRzV2l0aCgnLycpID8gc2x1ZyA6IGAvJHtzbHVnfWA7XG4gIH1cblxuICBmdW5jdGlvbiBzdHJpcExlYWRpbmdTbGFzaChzbHVnKSB7XG4gICAgcmV0dXJuIHNsdWc/LnJlcGxhY2UoL15cXC8vLCAnJykgfHwgJyc7XG4gIH1cblxuICBjb25zdCBwZXJzaXN0U2l0ZVN0YXRlID0gKHNsdWcsIG5hbWUpID0+IHtcbiAgICBjb25zdCBub3JtYWxpemVkU2x1ZyA9IHNsdWcgPyBlbnN1cmVMZWFkaW5nU2xhc2goc2x1ZykgOiBudWxsO1xuICAgIHRyeSB7XG4gICAgICBpZiAobm9ybWFsaXplZFNsdWcpIHtcbiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKEFDVElWRV9TSVRFX0tFWSwgbm9ybWFsaXplZFNsdWcpO1xuICAgICAgICBzdG9yZWRTaXRlLnNsdWcgPSBub3JtYWxpemVkU2x1ZztcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgbmFtZSA9PT0gJ3N0cmluZycgJiYgbmFtZS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShBQ1RJVkVfU0lURV9OQU1FX0tFWSwgbmFtZSk7XG4gICAgICAgIHN0b3JlZFNpdGUubmFtZSA9IG5hbWU7XG4gICAgICB9XG4gICAgfSBjYXRjaCB7XG4gICAgICBzdG9yZWRTaXRlLnNsdWcgPSBub3JtYWxpemVkU2x1ZyB8fCBzdG9yZWRTaXRlLnNsdWc7XG4gICAgICBzdG9yZWRTaXRlLm5hbWUgPSBuYW1lIHx8IHN0b3JlZFNpdGUubmFtZTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgdXBkYXRlU2l0ZUxhYmVscyA9IChuYW1lKSA9PiB7XG4gICAgaWYgKHNpdGVOYW1lTGFiZWwgJiYgbmFtZSkge1xuICAgICAgc2l0ZU5hbWVMYWJlbC50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgfVxuICAgIGlmICh3b3Jrc3BhY2VTaXRlTGFiZWwgJiYgbmFtZSkge1xuICAgICAgd29ya3NwYWNlU2l0ZUxhYmVsLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICB9XG4gICAgaWYgKHdvcmtzcGFjZUJhY2tOYW1lICYmIG5hbWUpIHtcbiAgICAgIHdvcmtzcGFjZUJhY2tOYW1lLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgdXBkYXRlV29ya3NwYWNlTmF2TGlua3MgPSAoc2x1ZykgPT4ge1xuICAgIHdvcmtzcGFjZU5hdkxpbmtzLmZvckVhY2goKGxpbmspID0+IHtcbiAgICAgIGNvbnN0IHRhYiA9IGxpbmsuZGF0YXNldC53b3Jrc3BhY2VUYWI7XG4gICAgICBpZiAoIXRhYikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIXNsdWcpIHtcbiAgICAgICAgbGluay5ocmVmID0gJyMnO1xuICAgICAgICBsaW5rLmNsYXNzTGlzdC5hZGQoJ3BvaW50ZXItZXZlbnRzLW5vbmUnLCAnb3BhY2l0eS01MCcsICd0ZXh0LXNsYXRlLTQwMCcpO1xuICAgICAgICBsaW5rLnNldEF0dHJpYnV0ZSgnYXJpYS1kaXNhYmxlZCcsICd0cnVlJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHNsdWdQYXRoID0gZW5jb2RlVVJJQ29tcG9uZW50KHN0cmlwTGVhZGluZ1NsYXNoKHNsdWcpKTtcbiAgICAgIGxpbmsuaHJlZiA9IGAvYWRtaW4vc2l0ZS8ke3NsdWdQYXRofS8ke3RhYn1gO1xuICAgICAgbGluay5jbGFzc0xpc3QucmVtb3ZlKCdwb2ludGVyLWV2ZW50cy1ub25lJywgJ29wYWNpdHktNTAnLCAndGV4dC1zbGF0ZS00MDAnKTtcbiAgICAgIGxpbmsucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWRpc2FibGVkJyk7XG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3QgYXBwbHlBY3RpdmVTaXRlID0gKHNsdWcsIG9wdGlvbnMgPSB7fSkgPT4ge1xuICAgIGlmICghc2x1Zykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBub3JtYWxpemVkU2x1ZyA9IGVuc3VyZUxlYWRpbmdTbGFzaChzbHVnKTtcbiAgICBsZXQgYWN0aXZlU2l0ZU5hbWUgPVxuICAgICAgb3B0aW9ucy5zaXRlTmFtZSB8fCBzdG9yZWRTaXRlLm5hbWUgfHwgc2l0ZU5hbWVMYWJlbD8uZGF0YXNldC5kZWZhdWx0U2l0ZU5hbWUgfHwgJyc7XG4gICAgc2l0ZUNhcmRzLmZvckVhY2goKGNhcmQpID0+IHtcbiAgICAgIGNvbnN0IGNhcmRTbHVnID0gZW5zdXJlTGVhZGluZ1NsYXNoKGNhcmQuZGF0YXNldC5zaXRlQ2FyZCB8fCAnJyk7XG4gICAgICBjb25zdCBpc0FjdGl2ZSA9IGNhcmRTbHVnID09PSBub3JtYWxpemVkU2x1ZztcbiAgICAgIGNvbnN0IGJhZGdlID0gY2FyZC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLWFjdGl2ZS1iYWRnZV0nKTtcbiAgICAgIGlmIChpc0FjdGl2ZSkge1xuICAgICAgICBjYXJkLmNsYXNzTGlzdC5hZGQoJ2JvcmRlci1bIzlDNkJGRl0nLCAncmluZy0yJywgJ3JpbmctWyM5QzZCRkZdJywgJ3NoYWRvdy1tZCcpO1xuICAgICAgICBjYXJkLmNsYXNzTGlzdC5yZW1vdmUoJ2JvcmRlci1zbGF0ZS0yMDAnKTtcbiAgICAgICAgYmFkZ2U/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICBhY3RpdmVTaXRlTmFtZSA9IGNhcmQuZGF0YXNldC5zaXRlTmFtZSB8fCBhY3RpdmVTaXRlTmFtZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhcmQuY2xhc3NMaXN0LnJlbW92ZSgnYm9yZGVyLVsjOUM2QkZGXScsICdyaW5nLTInLCAncmluZy1bIzlDNkJGRl0nLCAnc2hhZG93LW1kJyk7XG4gICAgICAgIGNhcmQuY2xhc3NMaXN0LmFkZCgnYm9yZGVyLXNsYXRlLTIwMCcpO1xuICAgICAgICBiYWRnZT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKG9wdGlvbnMucGVyc2lzdCAhPT0gZmFsc2UpIHtcbiAgICAgIHBlcnNpc3RTaXRlU3RhdGUobm9ybWFsaXplZFNsdWcsIG9wdGlvbnMuc2l0ZU5hbWUgfHwgYWN0aXZlU2l0ZU5hbWUpO1xuICAgIH1cbiAgICBjb25zdCBmaW5hbE5hbWUgPSBvcHRpb25zLnNpdGVOYW1lIHx8IGFjdGl2ZVNpdGVOYW1lO1xuICAgIHVwZGF0ZVNpdGVMYWJlbHMoZmluYWxOYW1lKTtcbiAgICB1cGRhdGVXb3Jrc3BhY2VOYXZMaW5rcyhub3JtYWxpemVkU2x1Zyk7XG4gIH07XG5cbiAgY29uc3Qgc2VsZWN0U2l0ZSA9IGFzeW5jIChzbHVnLCBuYW1lKSA9PiB7XG4gICAgY29uc3Qgbm9ybWFsaXplZFNsdWcgPSBlbnN1cmVMZWFkaW5nU2xhc2goc2x1Zyk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvc2l0ZXMvc2VsZWN0Jywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgc2x1Zzogbm9ybWFsaXplZFNsdWcgfSksXG4gICAgICB9KTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgc2hvd1RvYXN0KHBheWxvYWQubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBzXHUwMEU5bGVjdGlvbm5lciBjZSBzaXRlLicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgY29uc3QgZmluYWxTbHVnID0gZW5zdXJlTGVhZGluZ1NsYXNoKHBheWxvYWQuc2x1ZyB8fCBub3JtYWxpemVkU2x1Zyk7XG4gICAgICBjb25zdCBmaW5hbE5hbWUgPSBwYXlsb2FkLm5hbWUgfHwgbmFtZTtcbiAgICAgIHBlcnNpc3RTaXRlU3RhdGUoZmluYWxTbHVnLCBmaW5hbE5hbWUpO1xuICAgICAgYXBwbHlBY3RpdmVTaXRlKGZpbmFsU2x1ZywgeyBzaXRlTmFtZTogZmluYWxOYW1lLCBwZXJzaXN0OiBmYWxzZSB9KTtcbiAgICAgIGNvbnN0IHNsdWdQYXRoID0gZW5jb2RlVVJJQ29tcG9uZW50KHN0cmlwTGVhZGluZ1NsYXNoKGZpbmFsU2x1ZykpO1xuICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBgL2FkbWluL3NpdGUvJHtzbHVnUGF0aH0vZGVzaWduYDtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1thZG1pbl0gSW1wb3NzaWJsZSBkZSBzXHUwMEU5bGVjdGlvbm5lciBsZSBzaXRlJywgZXJyKTtcbiAgICAgIHNob3dUb2FzdCgnRXJyZXVyIGluYXR0ZW5kdWUgbG9ycyBkZSBsYSBzXHUwMEU5bGVjdGlvbi4nKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3Qgc3luY0FjdGl2ZVNpdGVGcm9tU2VydmVyID0gYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL3NpdGVzL2N1cnJlbnQnLCB7IGNyZWRlbnRpYWxzOiAnc2FtZS1vcmlnaW4nIH0pO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDQgJiYgd29ya3NwYWNlQ29udGV4dCkge1xuICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9hZG1pbi9zaXRlcyc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3Qgc2l0ZSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWRTbHVnID0gZW5zdXJlTGVhZGluZ1NsYXNoKHNpdGUuc2x1Zyk7XG4gICAgICBwZXJzaXN0U2l0ZVN0YXRlKG5vcm1hbGl6ZWRTbHVnLCBzaXRlLm5hbWUpO1xuICAgICAgYXBwbHlBY3RpdmVTaXRlKG5vcm1hbGl6ZWRTbHVnLCB7IHNpdGVOYW1lOiBzaXRlLm5hbWUsIHBlcnNpc3Q6IGZhbHNlIH0pO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS53YXJuKCdbYWRtaW5dIEltcG9zc2libGUgZGUgclx1MDBFOWN1cFx1MDBFOXJlciBsZSBzaXRlIGFjdGlmJywgZXJyKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGlnaGxpZ2h0RnJvbVN0b3JhZ2VPckRlZmF1bHQgPSAoKSA9PiB7XG4gICAgaWYgKHN0b3JlZFNpdGUuc2x1Zykge1xuICAgICAgYXBwbHlBY3RpdmVTaXRlKHN0b3JlZFNpdGUuc2x1ZywgeyBzaXRlTmFtZTogc3RvcmVkU2l0ZS5uYW1lLCBwZXJzaXN0OiBmYWxzZSB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZGVmYXVsdENhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLWNhcmRdW2RhdGEtc2l0ZS1kZWZhdWx0PVwidHJ1ZVwiXScpIHx8IHNpdGVDYXJkc1swXTtcbiAgICBpZiAoZGVmYXVsdENhcmQpIHtcbiAgICAgIGFwcGx5QWN0aXZlU2l0ZShkZWZhdWx0Q2FyZC5kYXRhc2V0LnNpdGVDYXJkLCB7XG4gICAgICAgIHNpdGVOYW1lOiBkZWZhdWx0Q2FyZC5kYXRhc2V0LnNpdGVOYW1lIHx8ICcnLFxuICAgICAgICBwZXJzaXN0OiBmYWxzZSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICBoaWdobGlnaHRGcm9tU3RvcmFnZU9yRGVmYXVsdCgpO1xuICBzeW5jQWN0aXZlU2l0ZUZyb21TZXJ2ZXIoKTtcbiAgaWYgKHdvcmtzcGFjZUNvbnRleHQpIHtcbiAgICB1cGRhdGVXb3Jrc3BhY2VOYXZMaW5rcyh3b3Jrc3BhY2VDb250ZXh0LnNsdWdWYWx1ZSk7XG4gIH0gZWxzZSBpZiAoc3RvcmVkU2l0ZS5zbHVnKSB7XG4gICAgdXBkYXRlV29ya3NwYWNlTmF2TGlua3Moc3RvcmVkU2l0ZS5zbHVnKTtcbiAgfVxuXG4gIHNpdGVTZWxlY3RCdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGlmIChidXR0b24uZGlzYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3Qgc2x1ZyA9IGJ1dHRvbi5kYXRhc2V0LnNpdGVTZWxlY3Q7XG4gICAgICBjb25zdCBuYW1lID0gYnV0dG9uLmRhdGFzZXQuc2l0ZVNlbGVjdE5hbWUgfHwgJ0NlIHNpdGUnO1xuICAgICAgaWYgKCFzbHVnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICBzZWxlY3RTaXRlKHNsdWcsIG5hbWUpLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICBidXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBjb25zdCB3b3Jrc3BhY2VTbHVnaWZ5ID0gKHZhbHVlKSA9PlxuICAgICh2YWx1ZSB8fCAnJylcbiAgICAgIC5ub3JtYWxpemUoJ05GRCcpXG4gICAgICAucmVwbGFjZSgvW1xcdTAzMDAtXFx1MDM2Zl0vZywgJycpXG4gICAgICAudG9Mb3dlckNhc2UoKVxuICAgICAgLnJlcGxhY2UoL1teYS16MC05XSsvZywgJy0nKVxuICAgICAgLnJlcGxhY2UoL14tK3wtKyQvZywgJycpO1xuXG4gIGNvbnN0IG5vcm1hbGl6ZVNsdWdWYWx1ZSA9ICh2YWx1ZSkgPT4ge1xuICAgIGNvbnN0IGJhc2UgPSB3b3Jrc3BhY2VTbHVnaWZ5KHZhbHVlIHx8ICcnKTtcbiAgICBpZiAoIWJhc2UpIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgcmV0dXJuIGAvJHtiYXNlfWA7XG4gIH07XG5cbiAgY29uc3Qgb3BlblNpdGVNb2RhbCA9ICgpID0+IHtcbiAgICBpZiAoIXNpdGVNb2RhbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzaXRlTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgc2l0ZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2ZsZXgnKTtcbiAgICBzbHVnTWFudWFsbHlFZGl0ZWQgPSBmYWxzZTtcbiAgICBzaXRlRm9ybT8ucmVzZXQoKTtcbiAgICBzaXRlU2x1Z0Vycm9yICYmIChzaXRlU2x1Z0Vycm9yLnRleHRDb250ZW50ID0gJycpO1xuICAgIHNpdGVNb2RhbEVycm9yICYmIChzaXRlTW9kYWxFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICBpZiAoc2l0ZVNsdWdJbnB1dCAmJiBzaXRlTmFtZUlucHV0KSB7XG4gICAgICBzaXRlU2x1Z0lucHV0LnZhbHVlID0gd29ya3NwYWNlU2x1Z2lmeShzaXRlTmFtZUlucHV0LnZhbHVlKTtcbiAgICB9XG4gICAgYWN0aXZhdGVNb2RhbChzaXRlTW9kYWwsIGNsb3NlU2l0ZU1vZGFsKTtcbiAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBzaXRlTmFtZUlucHV0Py5mb2N1cygpO1xuICAgIH0sIDApO1xuICB9O1xuXG4gIGNvbnN0IGNsb3NlU2l0ZU1vZGFsID0gKCkgPT4ge1xuICAgIGlmICghc2l0ZU1vZGFsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHNpdGVNb2RhbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICBzaXRlTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnZmxleCcpO1xuICAgIHNsdWdNYW51YWxseUVkaXRlZCA9IGZhbHNlO1xuICAgIHNpdGVGb3JtPy5yZXNldCgpO1xuICAgIHNpdGVTbHVnRXJyb3IgJiYgKHNpdGVTbHVnRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgc2l0ZU1vZGFsRXJyb3IgJiYgKHNpdGVNb2RhbEVycm9yLnRleHRDb250ZW50ID0gJycpO1xuICAgIGRlYWN0aXZhdGVNb2RhbChzaXRlTW9kYWwpO1xuICB9O1xuXG4gIHNpdGVDcmVhdGVCdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5TaXRlTW9kYWwpO1xuICB9KTtcblxuICBzaXRlTW9kYWxDYW5jZWxCdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlU2l0ZU1vZGFsKTtcbiAgfSk7XG5cbiAgc2l0ZU1vZGFsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgIGlmIChldmVudC50YXJnZXQgPT09IHNpdGVNb2RhbCkge1xuICAgICAgY2xvc2VTaXRlTW9kYWwoKTtcbiAgICB9XG4gIH0pO1xuXG4gIHNpdGVOYW1lSW5wdXQ/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgIGlmICghc2l0ZVNsdWdJbnB1dCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIXNsdWdNYW51YWxseUVkaXRlZCB8fCBzaXRlU2x1Z0lucHV0LnZhbHVlLnRyaW0oKS5sZW5ndGggPT09IDApIHtcbiAgICAgIHNpdGVTbHVnSW5wdXQudmFsdWUgPSB3b3Jrc3BhY2VTbHVnaWZ5KHNpdGVOYW1lSW5wdXQudmFsdWUpO1xuICAgIH1cbiAgICAvLyBDbGVhciBlcnJvcnMgd2hlbiB1c2VyIHR5cGVzXG4gICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICBzaXRlTW9kYWxFcnJvciAmJiAoc2l0ZU1vZGFsRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gIH0pO1xuXG4gIHNpdGVTbHVnSW5wdXQ/LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgKCkgPT4ge1xuICAgIC8vIEF1dG8tZmlsbCBzbHVnIGZyb20gbmFtZSBpZiBlbXB0eSB3aGVuIHVzZXIgZm9jdXNlcyB0aGUgc2x1ZyBmaWVsZFxuICAgIGNvbnN0IHNsdWdWYWwgPSBzaXRlU2x1Z0lucHV0Py52YWx1ZSB8fCAnJztcbiAgICBjb25zdCBuYW1lVmFsID0gc2l0ZU5hbWVJbnB1dD8udmFsdWUgfHwgJyc7XG4gICAgaWYgKCFzbHVnVmFsLnRyaW0oKSAmJiBuYW1lVmFsLnRyaW0oKSkge1xuICAgICAgc2l0ZVNsdWdJbnB1dC52YWx1ZSA9IHdvcmtzcGFjZVNsdWdpZnkobmFtZVZhbCk7XG4gICAgfVxuICB9KTtcblxuICBzaXRlU2x1Z0lucHV0Py5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICBzbHVnTWFudWFsbHlFZGl0ZWQgPSB0cnVlO1xuICAgIHNpdGVTbHVnRXJyb3IgJiYgKHNpdGVTbHVnRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgc2l0ZU1vZGFsRXJyb3IgJiYgKHNpdGVNb2RhbEVycm9yLnRleHRDb250ZW50ID0gJycpO1xuICB9KTtcblxuICBjb25zdCBnZXRTbHVnU2V0ID0gKCkgPT5cbiAgICBuZXcgU2V0KEFycmF5LmZyb20oc2l0ZUNhcmRzKS5tYXAoKGNhcmQpID0+IGVuc3VyZUxlYWRpbmdTbGFzaChjYXJkLmRhdGFzZXQuc2l0ZUNhcmQgfHwgJycpKSk7XG5cbiAgc2l0ZUZvcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc29sZS5sb2coJ1thZG1pbl0gRm9ybSBzdWJtaXQgLSBzaXRlTmFtZUlucHV0OicsIHNpdGVOYW1lSW5wdXQsICdzaXRlU2x1Z0lucHV0OicsIHNpdGVTbHVnSW5wdXQpO1xuICAgIFxuICAgIGlmICghc2l0ZU5hbWVJbnB1dCB8fCAhc2l0ZVNsdWdJbnB1dCkge1xuICAgICAgY29uc29sZS5sb2coJ1thZG1pbl0gTWlzc2luZyBpbnB1dHMsIGFib3J0aW5nJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IG5hbWVWYWx1ZSA9IChzaXRlTmFtZUlucHV0LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgbGV0IHNsdWdWYWx1ZSA9IChzaXRlU2x1Z0lucHV0LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgXG4gICAgY29uc29sZS5sb2coJ1thZG1pbl0gbmFtZVZhbHVlOicsIG5hbWVWYWx1ZSwgJ3NsdWdWYWx1ZTonLCBzbHVnVmFsdWUpO1xuICAgIFxuICAgIC8vIEF1dG8tZ2VuZXJhdGUgc2x1ZyBmcm9tIG5hbWUgaWYgZW1wdHlcbiAgICBpZiAoIXNsdWdWYWx1ZSAmJiBuYW1lVmFsdWUpIHtcbiAgICAgIHNsdWdWYWx1ZSA9IHdvcmtzcGFjZVNsdWdpZnkobmFtZVZhbHVlKTtcbiAgICAgIHNpdGVTbHVnSW5wdXQudmFsdWUgPSBzbHVnVmFsdWU7XG4gICAgICBjb25zb2xlLmxvZygnW2FkbWluXSBBdXRvLWdlbmVyYXRlZCBzbHVnOicsIHNsdWdWYWx1ZSk7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IG5vcm1hbGl6ZWRTbHVnID0gbm9ybWFsaXplU2x1Z1ZhbHVlKHNsdWdWYWx1ZSk7XG4gICAgY29uc29sZS5sb2coJ1thZG1pbl0gbm9ybWFsaXplZFNsdWc6Jywgbm9ybWFsaXplZFNsdWcpO1xuICAgIFxuICAgIC8vIFZhbGlkYXRlIG5hbWVcbiAgICBpZiAoIW5hbWVWYWx1ZSkge1xuICAgICAgY29uc29sZS5sb2coJ1thZG1pbl0gTmFtZSB2YWxpZGF0aW9uIGZhaWxlZCcpO1xuICAgICAgc2l0ZU1vZGFsRXJyb3IgJiYgKHNpdGVNb2RhbEVycm9yLnRleHRDb250ZW50ID0gJ0xlIG5vbSBkdSBzaXRlIGVzdCByZXF1aXMuJyk7XG4gICAgICBzaXRlTmFtZUlucHV0LmZvY3VzKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIC8vIFZhbGlkYXRlIHNsdWdcbiAgICBpZiAoIW5vcm1hbGl6ZWRTbHVnKSB7XG4gICAgICBjb25zb2xlLmxvZygnW2FkbWluXSBTbHVnIHZhbGlkYXRpb24gZmFpbGVkJyk7XG4gICAgICBzaXRlU2x1Z0Vycm9yICYmIChzaXRlU2x1Z0Vycm9yLnRleHRDb250ZW50ID0gJ0xlIHNsdWcgbmUgcGV1dCBwYXMgXHUwMEVBdHJlIHZpZGUgb3UgY29udGVuaXIgdW5pcXVlbWVudCBkZXMgY2FyYWN0XHUwMEU4cmVzIHNwXHUwMEU5Y2lhdXguJyk7XG4gICAgICBzaXRlU2x1Z0lucHV0LmZvY3VzKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IGV4aXN0aW5nU2x1Z3MgPSBnZXRTbHVnU2V0KCk7XG4gICAgaWYgKGV4aXN0aW5nU2x1Z3MuaGFzKG5vcm1hbGl6ZWRTbHVnKSkge1xuICAgICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9ICdDZSBzbHVnIGVzdCBkXHUwMEU5alx1MDBFMCB1dGlsaXNcdTAwRTkuJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHNpdGVTbHVnRXJyb3IgJiYgKHNpdGVTbHVnRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgc2l0ZU1vZGFsRXJyb3IgJiYgKHNpdGVNb2RhbEVycm9yLnRleHRDb250ZW50ID0gJycpO1xuICAgIGlmIChzaXRlTW9kYWxTdWJtaXRCdXR0b24pIHtcbiAgICAgIHNpdGVNb2RhbFN1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICBzaXRlTW9kYWxTdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSAnQ3JcdTAwRTlhdGlvbi4uLic7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL3NpdGVzJywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgbmFtZTogbmFtZVZhbHVlLCBzbHVnOiBub3JtYWxpemVkU2x1ZyB9KSxcbiAgICAgIH0pO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gcGF5bG9hZC5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIGNyXHUwMEU5ZXIgY2Ugc2l0ZS4nO1xuICAgICAgICBzaXRlTW9kYWxFcnJvciAmJiAoc2l0ZU1vZGFsRXJyb3IudGV4dENvbnRlbnQgPSBtZXNzYWdlKTtcbiAgICAgICAgaWYgKHBheWxvYWQuZmllbGQgPT09ICdzbHVnJykge1xuICAgICAgICAgIHNpdGVTbHVnRXJyb3IgJiYgKHNpdGVTbHVnRXJyb3IudGV4dENvbnRlbnQgPSBtZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBjcmVhdGVkU2l0ZSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIGNvbnN0IGZpbmFsU2x1ZyA9IGVuc3VyZUxlYWRpbmdTbGFzaChjcmVhdGVkU2l0ZT8uc2x1ZyB8fCBub3JtYWxpemVkU2x1Zyk7XG4gICAgICBjb25zdCBmaW5hbE5hbWUgPSBjcmVhdGVkU2l0ZT8ubmFtZSB8fCBuYW1lVmFsdWU7XG4gICAgICBwZXJzaXN0U2l0ZVN0YXRlKGZpbmFsU2x1ZywgZmluYWxOYW1lKTtcbiAgICAgIGNsb3NlU2l0ZU1vZGFsKCk7XG4gICAgICBjb25zdCBzbHVnUGF0aCA9IGVuY29kZVVSSUNvbXBvbmVudChzdHJpcExlYWRpbmdTbGFzaChmaW5hbFNsdWcpKTtcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gYC9hZG1pbi9zaXRlLyR7c2x1Z1BhdGh9L2Rlc2lnbmA7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdbYWRtaW5dIEltcG9zc2libGUgZGUgY3JcdTAwRTllciBsZSBzaXRlJywgZXJyKTtcbiAgICAgIHNpdGVNb2RhbEVycm9yICYmIChzaXRlTW9kYWxFcnJvci50ZXh0Q29udGVudCA9ICdFcnJldXIgaW5hdHRlbmR1ZS4gUlx1MDBFOWVzc2FpZSBkYW5zIHVuIGluc3RhbnQuJyk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlmIChzaXRlTW9kYWxTdWJtaXRCdXR0b24pIHtcbiAgICAgICAgc2l0ZU1vZGFsU3VibWl0QnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIHNpdGVNb2RhbFN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9ICdDclx1MDBFOWVyJztcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2ZW50KSA9PiB7XG4gICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgIGlmIChzaXRlTW9kYWwgJiYgIXNpdGVNb2RhbC5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpKSB7XG4gICAgICAgIGNsb3NlU2l0ZU1vZGFsKCk7XG4gICAgICB9XG4gICAgICBpZiAod29ya3NwYWNlQmFja01vZGFsICYmICF3b3Jrc3BhY2VCYWNrTW9kYWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdoaWRkZW4nKSkge1xuICAgICAgICBjbG9zZVdvcmtzcGFjZUJhY2tNb2RhbCgpO1xuICAgICAgfVxuICAgICAgaWYgKGJsb2NrRGVsZXRlTW9kYWwgJiYgIWJsb2NrRGVsZXRlTW9kYWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdoaWRkZW4nKSkge1xuICAgICAgICBjbG9zZUJsb2NrRGVsZXRlTW9kYWwoKTtcbiAgICAgIH1cbiAgICAgIGlmIChibG9ja0xpYnJhcnlPcGVuKSB7XG4gICAgICAgIGNsb3NlQmxvY2tMaWJyYXJ5KCk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICBmdW5jdGlvbiBnZXRXb3Jrc3BhY2VDb250ZXh0KCkge1xuICAgIGNvbnN0IG1hdGNoID0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLm1hdGNoKC9eXFwvYWRtaW5cXC9zaXRlXFwvKFteL10rKSg/OlxcLyhbXi9dKykpPy8pO1xuICAgIGlmICghbWF0Y2gpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgc2x1Z1BhcnQ6IGRlY29kZVVSSUNvbXBvbmVudChtYXRjaFsxXSksXG4gICAgICBzbHVnVmFsdWU6IGVuc3VyZUxlYWRpbmdTbGFzaChkZWNvZGVVUklDb21wb25lbnQobWF0Y2hbMV0pKSxcbiAgICAgIHNlY3Rpb246IG1hdGNoWzJdIHx8ICdkZXNpZ24nLFxuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBkZXRlY3RXb3Jrc3BhY2VTZWN0aW9uKCkge1xuICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLWxpc3RdJykpIHtcbiAgICAgIHJldHVybiAnZGVzaWduJztcbiAgICB9XG4gICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbGxlY3Rpb24tbGlzdF0nKSkge1xuICAgICAgcmV0dXJuICdjb250ZW50JztcbiAgICB9XG4gICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWdyaWRdJykpIHtcbiAgICAgIHJldHVybiAnbWVkaWEnO1xuICAgIH1cbiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LWZvcm1dJykpIHtcbiAgICAgIHJldHVybiAnZGVwbG95JztcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBmdW5jdGlvbiBvcGVuV29ya3NwYWNlQmFja01vZGFsKCkge1xuICAgIGlmICghd29ya3NwYWNlQmFja01vZGFsKSB7XG4gICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvYWRtaW4vc2l0ZXMnO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB3b3Jrc3BhY2VCYWNrTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgd29ya3NwYWNlQmFja01vZGFsLmNsYXNzTGlzdC5hZGQoJ2ZsZXgnKTtcbiAgICBhY3RpdmF0ZU1vZGFsKHdvcmtzcGFjZUJhY2tNb2RhbCwgY2xvc2VXb3Jrc3BhY2VCYWNrTW9kYWwpO1xuICB9XG5cbiAgZnVuY3Rpb24gY2xvc2VXb3Jrc3BhY2VCYWNrTW9kYWwoKSB7XG4gICAgaWYgKCF3b3Jrc3BhY2VCYWNrTW9kYWwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgd29ya3NwYWNlQmFja01vZGFsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgIHdvcmtzcGFjZUJhY2tNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdmbGV4Jyk7XG4gICAgZGVhY3RpdmF0ZU1vZGFsKHdvcmtzcGFjZUJhY2tNb2RhbCk7XG4gIH1cblxuICB3b3Jrc3BhY2VCYWNrQnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuV29ya3NwYWNlQmFja01vZGFsKTtcbiAgfSk7XG4gIHdvcmtzcGFjZUJhY2tDYW5jZWwuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VXb3Jrc3BhY2VCYWNrTW9kYWwpO1xuICB9KTtcbiAgd29ya3NwYWNlQmFja0NvbmZpcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGNsb3NlV29ya3NwYWNlQmFja01vZGFsKCk7XG4gICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnL2FkbWluL3NpdGVzJztcbiAgfSk7XG5cbiAgY29uc3QgYWN0aXZlU2VjdGlvbiA9IHdvcmtzcGFjZUNvbnRleHQ/LnNlY3Rpb24gfHwgZGV0ZWN0V29ya3NwYWNlU2VjdGlvbigpO1xuXG4gIGlmIChhY3RpdmVTZWN0aW9uID09PSAnZGVzaWduJykge1xuICAgIGluaXREZXNpZ25Xb3Jrc3BhY2UoKTtcbiAgfVxuICBpZiAoYWN0aXZlU2VjdGlvbiA9PT0gJ2NvbnRlbnQnKSB7XG4gICAgaW5pdENvbnRlbnRXb3Jrc3BhY2UoKTtcbiAgfVxuICBpZiAoYWN0aXZlU2VjdGlvbiA9PT0gJ21lZGlhJykge1xuICAgIGluaXRNZWRpYVdvcmtzcGFjZSgpO1xuICB9XG4gIGlmIChhY3RpdmVTZWN0aW9uID09PSAnZGVwbG95Jykge1xuICAgIGluaXREZXBsb3lXb3Jrc3BhY2UoKTtcbiAgfVxuICBpZiAoYWN0aXZlU2VjdGlvbiA9PT0gJ3NldHRpbmdzJykge1xuICAgIGluaXRTZXR0aW5nc1dvcmtzcGFjZSgpO1xuICB9XG5cbiAgaWYgKHdvcmtzcGFjZUNvbnRleHQgJiYgc3RvcmVkU2l0ZS5uYW1lKSB7XG4gICAgdXBkYXRlU2l0ZUxhYmVscyhzdG9yZWRTaXRlLm5hbWUpO1xuICB9XG5cbiAgZnVuY3Rpb24gaW5pdERlc2lnbldvcmtzcGFjZSgpIHtcbiAgICBjb25zdCBwYWdlTGlzdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1wYWdlLWxpc3RdJyk7XG4gICAgaWYgKHBhZ2VMaXN0cy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgYWN0aXZlVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hY3RpdmUtcGFnZS10aXRsZV0nKTtcbiAgICBjb25zdCBhY3RpdmVTbHVnID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWN0aXZlLXBhZ2Utc2x1Z10nKTtcbiAgICBjb25zdCBwcmV2aWV3VGFncyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXBhZ2UtcHJldmlldy10YWdzXScpO1xuICAgIGNvbnN0IHByZXZpZXdGcmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXBhZ2UtcHJldmlldy1mcmFtZV0nKTtcbiAgICBjb25zdCBwcmV2aWV3T3BlbkJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXByZXZpZXctb3Blbl0nKTtcbiAgICBjb25zdCBwcmV2aWV3U3RhdHVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcHJldmlldy1zdGF0dXNdJyk7XG4gICAgY29uc3QgcHJldmlld0hpZ2hsaWdodE92ZXJsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wcmV2aWV3LWhpZ2hsaWdodF0nKTtcbiAgICAvLyBTRU8gcGFuZWwgZWxlbWVudHNcbiAgICBjb25zdCBzZW9Ub2dnbGVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8tdG9nZ2xlXScpO1xuICAgIGNvbnN0IHNlb1BhbmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2VvLXBhbmVsXScpO1xuICAgIGNvbnN0IHNlb0Nsb3NlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2VvLWNsb3NlXScpO1xuICAgIGNvbnN0IHNlb0Zvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8tZm9ybV0nKTtcbiAgICBjb25zdCBzZW9UaXRsZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2VvLXRpdGxlXScpO1xuICAgIGNvbnN0IHNlb0Rlc2NyaXB0aW9uSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8tZGVzY3JpcHRpb25dJyk7XG4gICAgY29uc3Qgc2VvSW5kZXhlZENoZWNrYm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2VvLWluZGV4ZWRdJyk7XG4gICAgY29uc3Qgc2VvRmVlZGJhY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8tZmVlZGJhY2tdJyk7XG4gICAgY29uc3Qgc2VvU2F2ZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby1zYXZlXScpO1xuICAgIGNvbnN0IHBhZ2VBY2Nlc3NpYmlsaXR5VG9nZ2xlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgICdbZGF0YS1wYWdlLWFjY2Vzc2liaWxpdHktdG9nZ2xlXScsXG4gICAgKTtcbiAgICBjb25zdCBwYWdlQWNjZXNzaWJpbGl0eVBhbmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1hY2Nlc3NpYmlsaXR5LXBhbmVsXScpO1xuICAgIGNvbnN0IHBhZ2VBY2Nlc3NpYmlsaXR5Q2xvc2VCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgJ1tkYXRhLXBhZ2UtYWNjZXNzaWJpbGl0eS1jbG9zZV0nLFxuICAgICk7XG4gICAgY29uc3QgcGFnZUFjY2Vzc2liaWxpdHlGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1hY2Nlc3NpYmlsaXR5LWZvcm1dJyk7XG4gICAgY29uc3QgcGFnZUFjY2Vzc2liaWxpdHlOYXZDaGVja2JveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAnW2RhdGEtcGFnZS1hY2Nlc3NpYmlsaXR5LW5hdl0nLFxuICAgICk7XG4gICAgY29uc3QgcGFnZUFjY2Vzc2liaWxpdHlNYWluSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgJ1tkYXRhLXBhZ2UtYWNjZXNzaWJpbGl0eS1tYWluXScsXG4gICAgKTtcbiAgICBjb25zdCBwYWdlQWNjZXNzaWJpbGl0eUZlZWRiYWNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgICdbZGF0YS1wYWdlLWFjY2Vzc2liaWxpdHktZmVlZGJhY2tdJyxcbiAgICApO1xuICAgIGNvbnN0IHBhZ2VBY2Nlc3NpYmlsaXR5U2F2ZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAnW2RhdGEtcGFnZS1hY2Nlc3NpYmlsaXR5LXNhdmVdJyxcbiAgICApO1xuICAgIC8vIFBhZ2UgcHJvcGVydGllcyBwYW5lbCBlbGVtZW50c1xuICAgIGNvbnN0IHBhZ2VQcm9wc1RvZ2dsZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXBhZ2UtcHJvcHMtdG9nZ2xlXScpO1xuICAgIGNvbnN0IHBhZ2VQcm9wc1BhbmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcm9wcy1wYW5lbF0nKTtcbiAgICBjb25zdCBwYWdlUHJvcHNDbG9zZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXBhZ2UtcHJvcHMtY2xvc2VdJyk7XG4gICAgY29uc3QgcGFnZVByb3BzRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXBhZ2UtcHJvcHMtZm9ybV0nKTtcbiAgICBjb25zdCBwYWdlTmFtZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1uYW1lXScpO1xuICAgIGNvbnN0IHBhZ2VUaXRsZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS10aXRsZS1pbnB1dF0nKTtcbiAgICBjb25zdCBwYWdlU2x1Z0lucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1zbHVnLWlucHV0XScpO1xuICAgIGNvbnN0IHBhZ2VEZXNjcmlwdGlvbklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1kZXNjcmlwdGlvbl0nKTtcbiAgICBjb25zdCBwYWdlUHJvcHNGZWVkYmFjayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXBhZ2UtcHJvcHMtZmVlZGJhY2tdJyk7XG4gICAgY29uc3QgcGFnZVByb3BzU2F2ZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXBhZ2UtcHJvcHMtc2F2ZV0nKTtcbiAgICBjb25zdCBibG9ja0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9ja3MtbGlzdF0nKTtcbiAgICBjb25zdCBibG9ja0xpc3RFbXB0eSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2Nrcy1lbXB0eV0nKTtcbiAgICBjb25zdCBibG9ja0NvdW50QmFkZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1jb3VudF0nKTtcbiAgICBjb25zdCBibG9ja0xpYnJhcnlUb2dnbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1saWJyYXJ5LXRvZ2dsZV0nKTtcbiAgICBjb25zdCBibG9ja0xpYnJhcnkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1saWJyYXJ5XScpO1xuICAgIGNvbnN0IGJsb2NrQWRkQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWJsb2NrLWFkZF0nKTtcbiAgICBjb25zdCBibG9ja0RlbGV0ZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZGVsZXRlLW1vZGFsXScpO1xuICAgIGNvbnN0IGJsb2NrRGVsZXRlQ29uZmlybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWRlbGV0ZS1jb25maXJtXScpO1xuICAgIGNvbnN0IGJsb2NrRGVsZXRlQ2FuY2VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZGVsZXRlLWNhbmNlbF0nKTtcbiAgICBjb25zdCBibG9ja0RldGFpbEVtcHR5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZGV0YWlsLWVtcHR5XScpO1xuICAgIGNvbnN0IGJsb2NrRGV0YWlsU3RhdHVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZGV0YWlsLXN0YXR1c10nKTtcbiAgICBjb25zdCBibG9ja0VkaXRvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWVkaXRvcl0nKTtcbiAgICBjb25zdCBibG9ja0VkaXRvclRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZWRpdG9yLWJsb2NrLW5hbWVdJyk7XG4gICAgY29uc3QgYmxvY2tFZGl0b3JUeXBlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZWRpdG9yLWJsb2NrLXR5cGVdJyk7XG4gICAgY29uc3QgYmxvY2tFZGl0b3JVbnN1cHBvcnRlZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWVkaXRvci11bnN1cHBvcnRlZF0nKTtcbiAgICBjb25zdCBibG9ja0Zvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1mb3JtXScpO1xuICAgIGNvbnN0IGJsb2NrRm9ybVNlY3Rpb25zID0gYmxvY2tGb3JtXG4gICAgICA/IEFycmF5LmZyb20oYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWVkaXRvci1zZWN0aW9uXScpKVxuICAgICAgOiBbXTtcbiAgICAvLyBPbmdsZXRzIENvbnRlbnUgLyBBcHBhcmVuY2VcbiAgICBjb25zdCBibG9ja1RhYnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1ibG9jay10YWJdJyk7XG4gICAgbGV0IGFjdGl2ZUJsb2NrVGFiID0gJ2NvbnRlbnQnO1xuXG4gICAgLy8gT25nbGV0cyBwYW5uZWF1IGdhdWNoZSAoQmxvY3MgLyBQYWdlcylcbiAgICBjb25zdCBsZWZ0UGFuZWxUYWJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtbGVmdC10YWJdJyk7XG4gICAgY29uc3QgbGVmdFBhbmVsQmxvY2tzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbGVmdC1wYW5lbD1cImJsb2Nrc1wiXScpO1xuICAgIGNvbnN0IGxlZnRQYW5lbFBhZ2VzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbGVmdC1wYW5lbD1cInBhZ2VzXCJdJyk7XG4gICAgbGV0IGFjdGl2ZUxlZnRUYWIgPSAnYmxvY2tzJztcblxuICAgIC8vIEZvbmN0aW9uIHBvdXIgc3dpdGNoZXIgZW50cmUgbGVzIG9uZ2xldHMgQmxvY3MvUGFnZXMgZHUgcGFubmVhdSBnYXVjaGVcbiAgICBjb25zdCBzd2l0Y2hMZWZ0VGFiID0gKHRhYk5hbWUpID0+IHtcbiAgICAgIGFjdGl2ZUxlZnRUYWIgPSB0YWJOYW1lO1xuICAgICAgbGVmdFBhbmVsVGFicy5mb3JFYWNoKCh0YWIpID0+IHtcbiAgICAgICAgY29uc3QgaXNBY3RpdmUgPSB0YWIuZGF0YXNldC5sZWZ0VGFiID09PSB0YWJOYW1lO1xuICAgICAgICB0YWIuc2V0QXR0cmlidXRlKCdhcmlhLXNlbGVjdGVkJywgaXNBY3RpdmUgPyAndHJ1ZScgOiAnZmFsc2UnKTtcbiAgICAgICAgaWYgKGlzQWN0aXZlKSB7XG4gICAgICAgICAgdGFiLmNsYXNzTGlzdC5hZGQoJ3RleHQtWyM5QzZCRkZdJyk7XG4gICAgICAgICAgdGFiLmNsYXNzTGlzdC5yZW1vdmUoJ3RleHQtc2xhdGUtNTAwJywgJ2hvdmVyOnRleHQtc2xhdGUtNzAwJyk7XG4gICAgICAgICAgdGFiLmNsYXNzTGlzdC5hZGQoJ2FmdGVyOmFic29sdXRlJywgJ2FmdGVyOmJvdHRvbS0wJywgJ2FmdGVyOmxlZnQtMCcsICdhZnRlcjpyaWdodC0wJywgJ2FmdGVyOmgtMC41JywgJ2FmdGVyOmJnLVsjOUM2QkZGXScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRhYi5jbGFzc0xpc3QucmVtb3ZlKCd0ZXh0LVsjOUM2QkZGXScpO1xuICAgICAgICAgIHRhYi5jbGFzc0xpc3QuYWRkKCd0ZXh0LXNsYXRlLTUwMCcsICdob3Zlcjp0ZXh0LXNsYXRlLTcwMCcpO1xuICAgICAgICAgIHRhYi5jbGFzc0xpc3QucmVtb3ZlKCdhZnRlcjphYnNvbHV0ZScsICdhZnRlcjpib3R0b20tMCcsICdhZnRlcjpsZWZ0LTAnLCAnYWZ0ZXI6cmlnaHQtMCcsICdhZnRlcjpoLTAuNScsICdhZnRlcjpiZy1bIzlDNkJGRl0nKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICAvLyBBZmZpY2hlci9tYXNxdWVyIGxlcyBwYW5lbHNcbiAgICAgIGlmIChsZWZ0UGFuZWxCbG9ja3MpIHtcbiAgICAgICAgbGVmdFBhbmVsQmxvY2tzLmNsYXNzTGlzdC50b2dnbGUoJ2hpZGRlbicsIHRhYk5hbWUgIT09ICdibG9ja3MnKTtcbiAgICAgIH1cbiAgICAgIGlmIChsZWZ0UGFuZWxQYWdlcykge1xuICAgICAgICBsZWZ0UGFuZWxQYWdlcy5jbGFzc0xpc3QudG9nZ2xlKCdoaWRkZW4nLCB0YWJOYW1lICE9PSAncGFnZXMnKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gRXZlbnQgbGlzdGVuZXJzIHBvdXIgbGVzIG9uZ2xldHMgZHUgcGFubmVhdSBnYXVjaGVcbiAgICBsZWZ0UGFuZWxUYWJzLmZvckVhY2goKHRhYikgPT4ge1xuICAgICAgdGFiLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBzd2l0Y2hMZWZ0VGFiKHRhYi5kYXRhc2V0LmxlZnRUYWIpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgXG4gICAgLy8gRFx1MDBFOWNsYXJhdGlvbnMgZGVzIFx1MDBFOWxcdTAwRTltZW50cyBkJ2FjdGlvbnMgZHUgZm9ybXVsYWlyZSAoYXZhbnQgc3dpdGNoQmxvY2tUYWIpXG4gICAgY29uc3QgYmxvY2tGb3JtQWN0aW9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWZvcm0tYWN0aW9uc10nKTtcbiAgICBjb25zdCBibG9ja0Zvcm1BdXRvc2F2ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWZvcm0tYXV0b3NhdmVdJyk7XG5cbiAgICAvLyBGb25jdGlvbiBwb3VyIHN3aXRjaGVyIGVudHJlIGxlcyBvbmdsZXRzIENvbnRlbnUvQXBwYXJlbmNlXG4gICAgY29uc3Qgc3dpdGNoQmxvY2tUYWIgPSAodGFiTmFtZSkgPT4ge1xuICAgICAgYWN0aXZlQmxvY2tUYWIgPSB0YWJOYW1lO1xuICAgICAgLy8gTWV0dHJlIFx1MDBFMCBqb3VyIGxlcyBzdHlsZXMgZGVzIGJvdXRvbnMgZCdvbmdsZXRcbiAgICAgIGJsb2NrVGFicy5mb3JFYWNoKCh0YWIpID0+IHtcbiAgICAgICAgY29uc3QgaXNBY3RpdmUgPSB0YWIuZGF0YXNldC5ibG9ja1RhYiA9PT0gdGFiTmFtZTtcbiAgICAgICAgdGFiLnNldEF0dHJpYnV0ZSgnYXJpYS1zZWxlY3RlZCcsIGlzQWN0aXZlID8gJ3RydWUnIDogJ2ZhbHNlJyk7XG4gICAgICAgIGlmIChpc0FjdGl2ZSkge1xuICAgICAgICAgIHRhYi5jbGFzc0xpc3QuYWRkKCd0ZXh0LVsjOUM2QkZGXScpO1xuICAgICAgICAgIHRhYi5jbGFzc0xpc3QucmVtb3ZlKCd0ZXh0LXNsYXRlLTUwMCcsICdob3Zlcjp0ZXh0LXNsYXRlLTcwMCcpO1xuICAgICAgICAgIHRhYi5jbGFzc0xpc3QuYWRkKCdhZnRlcjphYnNvbHV0ZScsICdhZnRlcjpib3R0b20tMCcsICdhZnRlcjpsZWZ0LTAnLCAnYWZ0ZXI6cmlnaHQtMCcsICdhZnRlcjpoLTAuNScsICdhZnRlcjpiZy1bIzlDNkJGRl0nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0YWIuY2xhc3NMaXN0LnJlbW92ZSgndGV4dC1bIzlDNkJGRl0nKTtcbiAgICAgICAgICB0YWIuY2xhc3NMaXN0LmFkZCgndGV4dC1zbGF0ZS01MDAnLCAnaG92ZXI6dGV4dC1zbGF0ZS03MDAnKTtcbiAgICAgICAgICB0YWIuY2xhc3NMaXN0LnJlbW92ZSgnYWZ0ZXI6YWJzb2x1dGUnLCAnYWZ0ZXI6Ym90dG9tLTAnLCAnYWZ0ZXI6bGVmdC0wJywgJ2FmdGVyOnJpZ2h0LTAnLCAnYWZ0ZXI6aC0wLjUnLCAnYWZ0ZXI6YmctWyM5QzZCRkZdJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgLy8gQWZmaWNoZXIvbWFzcXVlciBsZXMgcGFuZWxzIGRhbnMgbGEgc2VjdGlvbiBhY3RpdmVcbiAgICAgIGNvbnN0IGFjdGl2ZVNlY3Rpb24gPSBibG9ja0Zvcm0/LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWVkaXRvci1zZWN0aW9uXTpub3QoLmhpZGRlbiknKTtcbiAgICAgIGlmIChhY3RpdmVTZWN0aW9uKSB7XG4gICAgICAgIGNvbnN0IHBhbmVscyA9IGFjdGl2ZVNlY3Rpb24ucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYmxvY2stcGFuZWxdJyk7XG4gICAgICAgIHBhbmVscy5mb3JFYWNoKChwYW5lbCkgPT4ge1xuICAgICAgICAgIGlmIChwYW5lbC5kYXRhc2V0LmJsb2NrUGFuZWwgPT09IHRhYk5hbWUpIHtcbiAgICAgICAgICAgIHBhbmVsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYW5lbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgLy8gQWZmaWNoZXIvbWFzcXVlciBsZXMgYm91dG9ucyBzZWxvbiBsJ29uZ2xldFxuICAgICAgLy8gQ29udGVudSBcdTIxOTIgYm91dG9ucyBFbnJlZ2lzdHJlci9Bbm51bGVyXG4gICAgICAvLyBBcHBhcmVuY2UgXHUyMTkyIGluZGljYXRldXIgYXV0by1zYXZlXG4gICAgICBpZiAoYmxvY2tGb3JtQWN0aW9ucyAmJiBibG9ja0Zvcm1BdXRvc2F2ZSkge1xuICAgICAgICBpZiAodGFiTmFtZSA9PT0gJ2NvbnRlbnQnKSB7XG4gICAgICAgICAgYmxvY2tGb3JtQWN0aW9ucy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICBibG9ja0Zvcm1BdXRvc2F2ZS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBibG9ja0Zvcm1BY3Rpb25zLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICAgIGJsb2NrRm9ybUF1dG9zYXZlLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIEV2ZW50IGxpc3RlbmVycyBwb3VyIGxlcyBvbmdsZXRzXG4gICAgYmxvY2tUYWJzLmZvckVhY2goKHRhYikgPT4ge1xuICAgICAgdGFiLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBzd2l0Y2hCbG9ja1RhYih0YWIuZGF0YXNldC5ibG9ja1RhYik7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGNvbnN0IGNvbGxlY3Rpb25TZWxlY3QgPSBibG9ja0Zvcm0/LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiY29sbGVjdGlvbi1ncmlkLWNvbGxlY3Rpb25cIl0nKTtcbiAgICBjb25zdCBjb2xsZWN0aW9uU2VsZWN0aW9uSW5mbyA9IGJsb2NrRm9ybT8ucXVlcnlTZWxlY3RvcihcbiAgICAgICdbZGF0YS1jb2xsZWN0aW9uLXNlbGVjdGlvbi1pbmZvXScsXG4gICAgKTtcbiAgICBjb25zdCBibG9ja0Zvcm1DYW5jZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1mb3JtLWNhbmNlbF0nKTtcbiAgICBjb25zdCBncm91cFByZXZpZXdNb2JpbGUgPSBibG9ja0Zvcm0/LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWdyb3VwLXByZXZpZXctbW9iaWxlXScpO1xuICAgIGNvbnN0IGdyb3VwUHJldmlld0Rlc2t0b3AgPSBibG9ja0Zvcm0/LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWdyb3VwLXByZXZpZXctZGVza3RvcF0nKTtcbiAgICBjb25zdCBjb2xsZWN0aW9uUHJldmlld01vYmlsZSA9IGJsb2NrRm9ybT8ucXVlcnlTZWxlY3RvcignW2RhdGEtY29sbGVjdGlvbi1wcmV2aWV3LW1vYmlsZV0nKTtcbiAgICBjb25zdCBjb2xsZWN0aW9uUHJldmlld0Rlc2t0b3AgPSBibG9ja0Zvcm0/LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbGxlY3Rpb24tcHJldmlldy1kZXNrdG9wXScpO1xuICAgIGNvbnN0IGJsb2NrVHlwZUZvcm1zID0ge1xuICAgICAgaGVybzoge1xuICAgICAgICBzZWN0aW9uOiAnaGVybycsXG4gICAgICAgIGxhYmVsRmllbGQ6ICd0aXRsZScsXG4gICAgICAgIGRlc2NyaXB0aW9uRmllbGQ6ICdzdWJ0aXRsZScsXG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIHRpdGxlOiAnaGVyby10aXRsZScsXG4gICAgICAgICAgc3VidGl0bGU6ICdoZXJvLXN1YnRpdGxlJyxcbiAgICAgICAgICBjdGFMYWJlbDogJ2hlcm8tY3RhLWxhYmVsJyxcbiAgICAgICAgICBjdGFVcmw6ICdoZXJvLWN0YS11cmwnLFxuICAgICAgICAgIC8vIEFwcGFyZW5jZVxuICAgICAgICAgIGltYWdlOiAnaGVyby1pbWFnZScsXG4gICAgICAgICAgbGF5b3V0OiAnaGVyby1sYXlvdXQnLFxuICAgICAgICAgIGhlaWdodDogJ2hlcm8taGVpZ2h0JyxcbiAgICAgICAgICBjb250ZW50QWxpZ246ICdoZXJvLWNvbnRlbnQtYWxpZ24nLFxuICAgICAgICAgIGhvcml6b250YWxBbGlnbjogJ2hlcm8taG9yaXpvbnRhbC1hbGlnbicsXG4gICAgICAgICAgdGV4dEFsaWduOiAnaGVyby10ZXh0LWFsaWduJyxcbiAgICAgICAgICBvdmVybGF5OiAnaGVyby1vdmVybGF5JyxcbiAgICAgICAgICB0aXRsZVNpemU6ICdoZXJvLXRpdGxlLXNpemUnLFxuICAgICAgICAgIC8vIENhcmQgc3R5bGVcbiAgICAgICAgICBiZzogJ2hlcm8tYmcnLFxuICAgICAgICAgIGJvcmRlclJhZGl1czogJ2hlcm8tYm9yZGVyLXJhZGl1cycsXG4gICAgICAgICAgc2hhZG93OiAnaGVyby1zaGFkb3cnLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIHBhcmFncmFwaGU6IHtcbiAgICAgICAgc2VjdGlvbjogJ3BhcmFncmFwaCcsXG4gICAgICAgIGxhYmVsRmllbGQ6ICd0aXRsZScsXG4gICAgICAgIGRlc2NyaXB0aW9uRmllbGQ6ICdjb250ZW50JyxcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgdGl0bGU6ICdwYXJhZ3JhcGgtdGl0bGUnLFxuICAgICAgICAgIGNvbnRlbnQ6ICdwYXJhZ3JhcGgtY29udGVudCcsXG4gICAgICAgICAgLy8gQXBwYXJlbmNlXG4gICAgICAgICAgYWxpZ246ICdwYXJhZ3JhcGgtYWxpZ24nLFxuICAgICAgICAgIHRpdGxlU2l6ZTogJ3BhcmFncmFwaC10aXRsZS1zaXplJyxcbiAgICAgICAgICB0ZXh0U2l6ZTogJ3BhcmFncmFwaC10ZXh0LXNpemUnLFxuICAgICAgICAgIHNwYWNpbmc6ICdwYXJhZ3JhcGgtc3BhY2luZycsXG4gICAgICAgICAgLy8gQ2FyZCBzdHlsZVxuICAgICAgICAgIGJnOiAncGFyYWdyYXBoLWJnJyxcbiAgICAgICAgICBib3JkZXJSYWRpdXM6ICdwYXJhZ3JhcGgtYm9yZGVyLXJhZGl1cycsXG4gICAgICAgICAgc2hhZG93OiAncGFyYWdyYXBoLXNoYWRvdycsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgaW1hZ2U6IHtcbiAgICAgICAgc2VjdGlvbjogJ2ltYWdlJyxcbiAgICAgICAgbGFiZWxGaWVsZDogJ2FsdCcsXG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIHNyYzogJ2ltYWdlLXNyYycsXG4gICAgICAgICAgYWx0OiAnaW1hZ2UtYWx0JyxcbiAgICAgICAgICBzaG93Q2FwdGlvbjogJ2ltYWdlLWNhcHRpb24tdG9nZ2xlJyxcbiAgICAgICAgICBjYXB0aW9uOiAnaW1hZ2UtY2FwdGlvbicsXG4gICAgICAgICAgLy8gQXBwYXJlbmNlXG4gICAgICAgICAgcm91bmRlZDogJ2ltYWdlLXJvdW5kZWQnLFxuICAgICAgICAgIHNoYWRvdzogJ2ltYWdlLXNoYWRvdycsXG4gICAgICAgICAgbWF4V2lkdGg6ICdpbWFnZS1tYXgtd2lkdGgnLFxuICAgICAgICAgIGhlaWdodDogJ2ltYWdlLWhlaWdodCcsXG4gICAgICAgICAgb2JqZWN0Rml0OiAnaW1hZ2Utb2JqZWN0LWZpdCcsXG4gICAgICAgICAgYWxpZ246ICdpbWFnZS1hbGlnbicsXG4gICAgICAgICAgLy8gQ2FyZCBzdHlsZVxuICAgICAgICAgIGJnOiAnaW1hZ2UtYmcnLFxuICAgICAgICAgIGJvcmRlclJhZGl1czogJ2ltYWdlLWJvcmRlci1yYWRpdXMnLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGdyb3VwZToge1xuICAgICAgICBzZWN0aW9uOiAnZ3JvdXAnLFxuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAvLyBBcHBhcmVuY2VcbiAgICAgICAgICBjb2x1bW5zTW9iaWxlOiAnZ3JvdXAtY29sdW1ucy1tb2JpbGUnLFxuICAgICAgICAgIGNvbHVtbnNEZXNrdG9wOiAnZ3JvdXAtY29sdW1ucy1kZXNrdG9wJyxcbiAgICAgICAgICBnYXA6ICdncm91cC1nYXAnLFxuICAgICAgICAgIGl0ZW1zQWxpZ246ICdncm91cC1pdGVtcy1hbGlnbicsXG4gICAgICAgICAgbW9iaWxlTGF5b3V0OiAnZ3JvdXAtbW9iaWxlLWxheW91dCcsXG4gICAgICAgICAgLy8gQ2FyZCBzdHlsZVxuICAgICAgICAgIGJnOiAnZ3JvdXAtYmcnLFxuICAgICAgICAgIGJvcmRlclJhZGl1czogJ2dyb3VwLWJvcmRlci1yYWRpdXMnLFxuICAgICAgICAgIHNoYWRvdzogJ2dyb3VwLXNoYWRvdycsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgY29sbGVjdGlvbmdyaWQ6IHtcbiAgICAgICAgc2VjdGlvbjogJ2NvbGxlY3Rpb24nLFxuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBjb2xsZWN0aW9uSWQ6ICdjb2xsZWN0aW9uLWdyaWQtY29sbGVjdGlvbicsXG4gICAgICAgICAgbGltaXQ6ICdjb2xsZWN0aW9uLWdyaWQtbGltaXQnLFxuICAgICAgICAgIC8vIEFwcGFyZW5jZVxuICAgICAgICAgIGNvbHVtbnNNb2JpbGU6ICdjb2xsZWN0aW9uLWNvbHVtbnMtbW9iaWxlJyxcbiAgICAgICAgICBjb2x1bW5zRGVza3RvcDogJ2NvbGxlY3Rpb24tY29sdW1ucy1kZXNrdG9wJyxcbiAgICAgICAgICBnYXA6ICdjb2xsZWN0aW9uLWdhcCcsXG4gICAgICAgICAgaXRlbXNBbGlnbjogJ2NvbGxlY3Rpb24taXRlbXMtYWxpZ24nLFxuICAgICAgICAgIGNhcmRSb3VuZGVkOiAnY29sbGVjdGlvbi1jYXJkLXJvdW5kZWQnLFxuICAgICAgICAgIG1vYmlsZUxheW91dDogJ2NvbGxlY3Rpb24tbW9iaWxlLWxheW91dCcsXG4gICAgICAgICAgLy8gQ2FyZCBzdHlsZVxuICAgICAgICAgIGJnOiAnY29sbGVjdGlvbi1iZycsXG4gICAgICAgICAgYm9yZGVyUmFkaXVzOiAnY29sbGVjdGlvbi1ib3JkZXItcmFkaXVzJyxcbiAgICAgICAgICBzaGFkb3c6ICdjb2xsZWN0aW9uLXNoYWRvdycsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgZm9ybToge1xuICAgICAgICBzZWN0aW9uOiAnZm9ybScsXG4gICAgICAgIGxhYmVsRmllbGQ6ICdmb3JtVGl0bGUnLFxuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBmb3JtVGl0bGU6ICdmb3JtLXRpdGxlJyxcbiAgICAgICAgICBhY3Rpb25Vcmw6ICdmb3JtLWFjdGlvbi11cmwnLFxuICAgICAgICAgIG1ldGhvZDogJ2Zvcm0tbWV0aG9kJyxcbiAgICAgICAgICBzZXJ2aWNlTmFtZTogJ2Zvcm0tc2VydmljZS1uYW1lJyxcbiAgICAgICAgICBzdWJtaXRMYWJlbDogJ2Zvcm0tc3VibWl0LWxhYmVsJyxcbiAgICAgICAgICBzdWNjZXNzTWVzc2FnZTogJ2Zvcm0tc3VjY2Vzcy1tZXNzYWdlJyxcbiAgICAgICAgICAvLyBBcHBhcmVuY2VcbiAgICAgICAgICBtYXhXaWR0aDogJ2Zvcm0tbWF4LXdpZHRoJyxcbiAgICAgICAgICBhbGlnbjogJ2Zvcm0tYWxpZ24nLFxuICAgICAgICAgIGJ1dHRvblJvdW5kZWQ6ICdmb3JtLWJ1dHRvbi1yb3VuZGVkJyxcbiAgICAgICAgICBzcGFjaW5nOiAnZm9ybS1zcGFjaW5nJyxcbiAgICAgICAgICAvLyBDYXJkIHN0eWxlXG4gICAgICAgICAgYmc6ICdmb3JtLWJnJyxcbiAgICAgICAgICBib3JkZXJSYWRpdXM6ICdmb3JtLWJvcmRlci1yYWRpdXMnLFxuICAgICAgICAgIHNoYWRvdzogJ2Zvcm0tc2hhZG93JyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBuZXdzbGV0dGVyZW1iZWQ6IHtcbiAgICAgICAgc2VjdGlvbjogJ25ld3NsZXR0ZXInLFxuICAgICAgICBsYWJlbEZpZWxkOiAndGl0bGUnLFxuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICB0aXRsZTogJ25ld3NsZXR0ZXItdGl0bGUnLFxuICAgICAgICAgIHNlcnZpY2VOYW1lOiAnbmV3c2xldHRlci1zZXJ2aWNlLW5hbWUnLFxuICAgICAgICAgIGVtYmVkQ29kZTogJ25ld3NsZXR0ZXItZW1iZWQtY29kZScsXG4gICAgICAgICAgLy8gQXBwYXJlbmNlXG4gICAgICAgICAgbWF4V2lkdGg6ICduZXdzbGV0dGVyLW1heC13aWR0aCcsXG4gICAgICAgICAgYWxpZ246ICduZXdzbGV0dGVyLWFsaWduJyxcbiAgICAgICAgICBwYWRkaW5nOiAnbmV3c2xldHRlci1wYWRkaW5nJyxcbiAgICAgICAgICBiZzogJ25ld3NsZXR0ZXItYmcnLFxuICAgICAgICAgIC8vIENhcmQgc3R5bGVcbiAgICAgICAgICBib3JkZXJSYWRpdXM6ICduZXdzbGV0dGVyLWJvcmRlci1yYWRpdXMnLFxuICAgICAgICAgIHNoYWRvdzogJ25ld3NsZXR0ZXItc2hhZG93JyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfTtcbiAgICBjb25zdCBibG9ja1R5cGVBbGlhc2VzID0ge1xuICAgICAgdGV4dGU6ICdwYXJhZ3JhcGhlJyxcbiAgICAgIHBhcmFncmFwaDogJ3BhcmFncmFwaGUnLFxuICAgICAgcGFyYWdyYXBoczogJ3BhcmFncmFwaGUnLFxuICAgICAgcGFyYWdyYXBoZXM6ICdwYXJhZ3JhcGhlJyxcbiAgICAgIHRleHQ6ICdwYXJhZ3JhcGhlJyxcbiAgICAgIGhlcm86ICdoZXJvJyxcbiAgICAgIGltYWdlOiAnaW1hZ2UnLFxuICAgICAgZ3JvdXBlOiAnZ3JvdXBlJyxcbiAgICAgIGdyb3VwOiAnZ3JvdXBlJyxcbiAgICAgIGNvbGxlY3Rpb246ICdjb2xsZWN0aW9uZ3JpZCcsXG4gICAgICBjb2xsZWN0aW9uZ3JpZDogJ2NvbGxlY3Rpb25ncmlkJyxcbiAgICAgICdjb2xsZWN0aW9uLWdyaWQnOiAnY29sbGVjdGlvbmdyaWQnLFxuICAgICAgZm9ybTogJ2Zvcm0nLFxuICAgICAgZm9ybXVsYWlyZTogJ2Zvcm0nLFxuICAgICAgY29udGFjdDogJ2Zvcm0nLFxuICAgICAgbmV3c2xldHRlcmVtYmVkOiAnbmV3c2xldHRlcmVtYmVkJyxcbiAgICAgIG5ld3NsZXR0ZXI6ICduZXdzbGV0dGVyZW1iZWQnLFxuICAgICAgZW1iZWQ6ICduZXdzbGV0dGVyZW1iZWQnLFxuICAgIH07XG4gICAgY29uc3QgYW5pbWF0aW9uRmllbGRNYXAgPSB7XG4gICAgICBhbmltYXRpb246ICdhbmltLXR5cGUnLFxuICAgICAgYW5pbWF0aW9uRGVsYXk6ICdhbmltLWRlbGF5JyxcbiAgICAgIGFuaW1hdGlvbkR1cmF0aW9uOiAnYW5pbS1kdXJhdGlvbicsXG4gICAgfTtcbiAgICBPYmplY3QudmFsdWVzKGJsb2NrVHlwZUZvcm1zKS5mb3JFYWNoKChjb25maWcpID0+IHtcbiAgICAgIGNvbmZpZy5maWVsZHMgPSB7IC4uLmNvbmZpZy5maWVsZHMsIC4uLmFuaW1hdGlvbkZpZWxkTWFwIH07XG4gICAgfSk7XG4gICAgY29uc3QgdXBkYXRlR3JvdXBNaW5pUHJldmlldyA9IChtb2JpbGVWYWx1ZSwgZGVza3RvcFZhbHVlKSA9PiB7XG4gICAgICBpZiAoIWdyb3VwUHJldmlld01vYmlsZSB8fCAhZ3JvdXBQcmV2aWV3RGVza3RvcCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCByZW5kZXJCb3hlcyA9IChjb3VudCkgPT5cbiAgICAgICAgQXJyYXkuZnJvbSh7IGxlbmd0aDogTnVtYmVyKGNvdW50KSB8fCAxIH0pXG4gICAgICAgICAgLm1hcCgoKSA9PiAnPHNwYW4gY2xhc3M9XCJibG9jayBoLTIgdy1mdWxsIHJvdW5kZWQtZnVsbCBiZy1zbGF0ZS0zMDBcIj48L3NwYW4+JylcbiAgICAgICAgICAuam9pbignJyk7XG4gICAgICBncm91cFByZXZpZXdNb2JpbGUuaW5uZXJIVE1MID0gcmVuZGVyQm94ZXMobW9iaWxlVmFsdWUpO1xuICAgICAgZ3JvdXBQcmV2aWV3RGVza3RvcC5pbm5lckhUTUwgPSByZW5kZXJCb3hlcyhkZXNrdG9wVmFsdWUpO1xuICAgIH07XG4gICAgY29uc3QgdXBkYXRlQ29sbGVjdGlvbk1pbmlQcmV2aWV3ID0gKG1vYmlsZVZhbHVlLCBkZXNrdG9wVmFsdWUpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvblByZXZpZXdNb2JpbGUgfHwgIWNvbGxlY3Rpb25QcmV2aWV3RGVza3RvcCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCByZW5kZXJCb3hlcyA9IChjb3VudCkgPT5cbiAgICAgICAgQXJyYXkuZnJvbSh7IGxlbmd0aDogTnVtYmVyKGNvdW50KSB8fCAxIH0pXG4gICAgICAgICAgLm1hcCgoKSA9PiAnPHNwYW4gY2xhc3M9XCJibG9jayBoLTIgdy1mdWxsIHJvdW5kZWQtZnVsbCBiZy12aW9sZXQtMzAwXCI+PC9zcGFuPicpXG4gICAgICAgICAgLmpvaW4oJycpO1xuICAgICAgY29sbGVjdGlvblByZXZpZXdNb2JpbGUuaW5uZXJIVE1MID0gcmVuZGVyQm94ZXMobW9iaWxlVmFsdWUpO1xuICAgICAgY29sbGVjdGlvblByZXZpZXdEZXNrdG9wLmlubmVySFRNTCA9IHJlbmRlckJveGVzKGRlc2t0b3BWYWx1ZSk7XG4gICAgfTtcbiAgICBjb25zdCBmZXRjaFBhZ2VzRnJvbVNlcnZlciA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghcGFnZXNBcGlCYXNlKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2gocGFnZXNBcGlCYXNlLCB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIHBhZ2VzLicpO1xuICAgICAgfVxuICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiBbXSk7XG4gICAgICByZXR1cm4gQXJyYXkuaXNBcnJheShwYXlsb2FkKSA/IHBheWxvYWQgOiBbXTtcbiAgICB9O1xuICAgIGNvbnN0IGNyZWF0ZVBhZ2VPblNlcnZlciA9IGFzeW5jICh7IG5hbWUsIHRpdGxlLCBzbHVnIH0pID0+IHtcbiAgICAgIGlmICghcGFnZXNBcGlCYXNlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignU2l0ZSBpbmNvbm51LicpO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChwYWdlc0FwaUJhc2UsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IG5hbWUsIHRpdGxlLCBzbHVnIH0pLFxuICAgICAgfSk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihwYXlsb2FkLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgY3JcdTAwRTllciBsYSBwYWdlLicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICB9O1xuICAgIGNvbnN0IHNhdmVQYWdlVG9TZXJ2ZXIgPSBhc3luYyAocGFnZSkgPT4ge1xuICAgICAgaWYgKCFwYWdlc0FwaUJhc2UgfHwgIXBhZ2U/LmlkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7cGFnZXNBcGlCYXNlfS8ke2VuY29kZVVSSUNvbXBvbmVudChwYWdlLmlkKX1gLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGFnZSksXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocGF5bG9hZC5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIHNhdXZlZ2FyZGVyIGxhIHBhZ2UuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2F2ZWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIGlmIChzYXZlZD8uaWQpIHtcbiAgICAgICAgICBjb25zdCBub3JtYWxpemVkID0gbm9ybWFsaXplUGFnZURhdGEoc2F2ZWQpO1xuICAgICAgICAgIHBhZ2VzID0gcGFnZXMubWFwKChlbnRyeSkgPT4gKGVudHJ5LmlkID09PSBub3JtYWxpemVkLmlkID8gbm9ybWFsaXplZCA6IGVudHJ5KSk7XG4gICAgICAgICAgaWYgKGN1cnJlbnRQYWdlPy5pZCA9PT0gbm9ybWFsaXplZC5pZCkge1xuICAgICAgICAgICAgY3VycmVudFBhZ2UgPSBub3JtYWxpemVkO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbm9ybWFsaXplZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2F2ZWQ7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2Rlc2lnbl0gU2F2ZSBwYWdlIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnU2F1dmVnYXJkZSBpbXBvc3NpYmxlLicpO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgbG9hZFBhZ2VzRnJvbVNlcnZlciA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghcGFnZXNBcGlCYXNlKSB7XG4gICAgICAgIHBhZ2VzID0gW107XG4gICAgICAgIGFjdGl2ZVBhZ2VJZCA9IG51bGw7XG4gICAgICAgIGN1cnJlbnRQYWdlID0gbnVsbDtcbiAgICAgICAgcmVuZGVyUGFnZUxpc3RzKHBhZ2VzLCBhY3RpdmVQYWdlSWQpO1xuICAgICAgICByZW5kZXJCbG9ja0xpc3QobnVsbCk7XG4gICAgICAgIGJsb2NrRGV0YWlsRW1wdHk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICBibG9ja0VkaXRvcj8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGxvYWRlZFBhZ2VzID0gYXdhaXQgZmV0Y2hQYWdlc0Zyb21TZXJ2ZXIoKTtcbiAgICAgICAgcGFnZXMgPSAoQXJyYXkuaXNBcnJheShsb2FkZWRQYWdlcykgPyBsb2FkZWRQYWdlcyA6IFtdKS5tYXAoKHBhZ2UpID0+XG4gICAgICAgICAgbm9ybWFsaXplUGFnZURhdGEocGFnZSksXG4gICAgICAgICk7XG4gICAgICAgIGlmIChwYWdlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICBhY3RpdmVQYWdlSWQgPSBudWxsO1xuICAgICAgICAgIGN1cnJlbnRQYWdlID0gbnVsbDtcbiAgICAgICAgICByZW5kZXJQYWdlTGlzdHMocGFnZXMsIGFjdGl2ZVBhZ2VJZCk7XG4gICAgICAgICAgcmVuZGVyQmxvY2tMaXN0KG51bGwpO1xuICAgICAgICAgIGJsb2NrRGV0YWlsRW1wdHk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgIGJsb2NrRWRpdG9yPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgICBwcmV2aWV3RnJhbWUgJiYgKHByZXZpZXdGcmFtZS5zcmNkb2MgPSBnZXRMb2FkaW5nUHJldmlld0h0bWwoKSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGFjdGl2ZVBhZ2VJZCA9IGdldFN0b3JlZEFjdGl2ZVBhZ2UocGFnZXMpO1xuICAgICAgICBzZXRBY3RpdmVQYWdlKGFjdGl2ZVBhZ2VJZCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2Rlc2lnbl0gSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxlcyBwYWdlcycsIGVycik7XG4gICAgICAgIHNob3dUb2FzdCgnSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxlcyBwYWdlcy4nKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IG5vcm1hbGl6ZVR5cGUgPSAodmFsdWUpID0+XG4gICAgICAodmFsdWUgfHwgJycpLm5vcm1hbGl6ZSgnTkZEJykucmVwbGFjZSgvW1xcdTAzMDAtXFx1MDM2Zl0vZywgJycpLnRvTG93ZXJDYXNlKCk7XG4gICAgY29uc3QgZ2V0QmxvY2tGb3JtQ29uZmlnID0gKGJsb2NrKSA9PiB7XG4gICAgICBpZiAoIWJsb2NrKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgY29uc3QgdHlwZUtleSA9IG5vcm1hbGl6ZVR5cGUoYmxvY2sudHlwZSk7XG4gICAgICBjb25zdCBhbGlhcyA9IGJsb2NrVHlwZUFsaWFzZXNbdHlwZUtleV0gfHwgdHlwZUtleTtcbiAgICAgIHJldHVybiBibG9ja1R5cGVGb3Jtc1thbGlhc10gfHwgbnVsbDtcbiAgICB9O1xuICAgIGNvbnN0IHBvcHVsYXRlQmxvY2tGb3JtID0gKGJsb2NrKSA9PiB7XG4gICAgICBpZiAoIWJsb2NrRm9ybSB8fCAhYmxvY2tFZGl0b3IpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGJsb2NrICYmICFibG9jay5zZXR0aW5ncykge1xuICAgICAgICBibG9jay5zZXR0aW5ncyA9IHt9O1xuICAgICAgfVxuICAgICAgY29uc3QgY29uZmlnID0gZ2V0QmxvY2tGb3JtQ29uZmlnKGJsb2NrKTtcbiAgICAgIGlmIChibG9ja0VkaXRvclRpdGxlKSB7XG4gICAgICAgIGJsb2NrRWRpdG9yVGl0bGUudGV4dENvbnRlbnQgPSBibG9jaz8ubGFiZWwgfHwgJ0Jsb2MnO1xuICAgICAgfVxuICAgICAgaWYgKGJsb2NrRWRpdG9yVHlwZSkge1xuICAgICAgICBibG9ja0VkaXRvclR5cGUudGV4dENvbnRlbnQgPSBibG9jaz8udHlwZSB8fCAnQmxvYyc7XG4gICAgICB9XG4gICAgICBpZiAoIWNvbmZpZykge1xuICAgICAgICBibG9ja0Zvcm0uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIGJsb2NrRWRpdG9yVW5zdXBwb3J0ZWQ/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICBibG9ja0Zvcm0uZGF0YXNldC5ibG9ja0lkID0gJyc7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGJsb2NrRWRpdG9yVW5zdXBwb3J0ZWQ/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgYmxvY2tGb3JtLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgYmxvY2tGb3JtLnJlc2V0KCk7XG4gICAgICBibG9ja0Zvcm0uZGF0YXNldC5ibG9ja0lkID0gYmxvY2suaWQ7XG4gICAgICBibG9ja0Zvcm1TZWN0aW9ucy5mb3JFYWNoKChzZWN0aW9uKSA9PiB7XG4gICAgICAgIGNvbnN0IHNlY3Rpb25JZCA9IHNlY3Rpb24uZGF0YXNldC5lZGl0b3JTZWN0aW9uO1xuICAgICAgICBpZiAoc2VjdGlvbklkID09PSBjb25maWcuc2VjdGlvbikge1xuICAgICAgICAgIHNlY3Rpb24uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VjdGlvbi5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICAvLyBSXHUwMEU5aW5pdGlhbGlzZXIgc3VyIGwnb25nbGV0IENvbnRlbnVcbiAgICAgIHN3aXRjaEJsb2NrVGFiKCdjb250ZW50Jyk7XG4gICAgICBpZiAoY29uZmlnLnNlY3Rpb24gPT09ICdjb2xsZWN0aW9uJykge1xuICAgICAgICBjb25zdCBkZXNpcmVkVmFsdWUgPSBibG9jay5jb2xsZWN0aW9uSWQgfHwgYmxvY2suc2V0dGluZ3M/LmNvbGxlY3Rpb25JZCB8fCAnJztcbiAgICAgICAgdXBkYXRlQ29sbGVjdGlvblNlbGVjdE9wdGlvbnMoZGVzaXJlZFZhbHVlKTtcbiAgICAgIH1cbiAgICAgIE9iamVjdC5lbnRyaWVzKGNvbmZpZy5maWVsZHMpLmZvckVhY2goKFtzZXR0aW5nS2V5LCBmaWVsZE5hbWVdKSA9PiB7XG4gICAgICAgIGNvbnN0IGlucHV0ID0gYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3IoYFtuYW1lPVwiJHtmaWVsZE5hbWV9XCJdYCk7XG4gICAgICAgIGlmICghaW5wdXQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdmFsdWUgPSBibG9jay5zZXR0aW5ncz8uW3NldHRpbmdLZXldO1xuICAgICAgICBpZiAoaW5wdXQudHlwZSA9PT0gJ2NoZWNrYm94Jykge1xuICAgICAgICAgIGlucHV0LmNoZWNrZWQgPSBCb29sZWFuKHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIGlmIChpbnB1dC50eXBlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIGNvbnN0IGZhbGxiYWNrID0gaW5wdXQuZGF0YXNldC5kZWZhdWx0ID8/IGlucHV0LmRlZmF1bHRWYWx1ZSA/PyAnJztcbiAgICAgICAgICBpbnB1dC52YWx1ZSA9IHZhbHVlID8/IGZhbGxiYWNrO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0LnRhZ05hbWUgPT09ICdURVhUQVJFQScpIHtcbiAgICAgICAgICBpbnB1dC52YWx1ZSA9IHZhbHVlID8/ICcnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlucHV0LnZhbHVlID0gdmFsdWUgPz8gJyc7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKGNvbmZpZy5zZWN0aW9uID09PSAnZ3JvdXAnKSB7XG4gICAgICAgIGNvbnN0IG1vYmlsZVZhbHVlID1cbiAgICAgICAgICBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJncm91cC1jb2x1bW5zLW1vYmlsZVwiXScpPy52YWx1ZSB8fCAnMSc7XG4gICAgICAgIGNvbnN0IGRlc2t0b3BWYWx1ZSA9XG4gICAgICAgICAgYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZ3JvdXAtY29sdW1ucy1kZXNrdG9wXCJdJyk/LnZhbHVlIHx8ICczJztcbiAgICAgICAgdXBkYXRlR3JvdXBNaW5pUHJldmlldyhtb2JpbGVWYWx1ZSwgZGVza3RvcFZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGlmIChjb25maWcuc2VjdGlvbiA9PT0gJ2NvbGxlY3Rpb24nKSB7XG4gICAgICAgIGNvbnN0IG1vYmlsZVZhbHVlID1cbiAgICAgICAgICBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJjb2xsZWN0aW9uLWNvbHVtbnMtbW9iaWxlXCJdJyk/LnZhbHVlIHx8ICcxJztcbiAgICAgICAgY29uc3QgZGVza3RvcFZhbHVlID1cbiAgICAgICAgICBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJjb2xsZWN0aW9uLWNvbHVtbnMtZGVza3RvcFwiXScpPy52YWx1ZSB8fCAnMyc7XG4gICAgICAgIHVwZGF0ZUNvbGxlY3Rpb25NaW5pUHJldmlldyhtb2JpbGVWYWx1ZSwgZGVza3RvcFZhbHVlKTtcbiAgICAgIH1cbiAgICAgIC8vIE1pc2UgXHUwMEUwIGpvdXIgZGVzIHByZXZpZXdzIGRlIGNvdWxldXJcbiAgICAgIGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1jb2xvci1zZWxlY3RdJykuZm9yRWFjaCgoc2VsZWN0KSA9PiB7XG4gICAgICAgIGNvbnN0IHNlbGVjdGVkT3B0aW9uID0gc2VsZWN0Lm9wdGlvbnNbc2VsZWN0LnNlbGVjdGVkSW5kZXhdO1xuICAgICAgICBjb25zdCBjb2xvciA9IHNlbGVjdGVkT3B0aW9uPy5kYXRhc2V0Py5jb2xvciB8fCAnI2ZmZmZmZic7XG4gICAgICAgIGNvbnN0IGNvbG9yUHJldmlldyA9IHNlbGVjdC5jbG9zZXN0KCcucmVsYXRpdmUnKT8ucXVlcnlTZWxlY3RvcignW2RhdGEtY29sb3ItcHJldmlld10nKTtcbiAgICAgICAgaWYgKGNvbG9yUHJldmlldykge1xuICAgICAgICAgIGlmIChjb2xvciA9PT0gJ3RyYW5zcGFyZW50Jykge1xuICAgICAgICAgICAgY29sb3JQcmV2aWV3LnN0eWxlLmJhY2tncm91bmQgPSAncmVwZWF0aW5nLWNvbmljLWdyYWRpZW50KCNjY2MgMCUgMjUlLCB3aGl0ZSAwJSA1MCUpIDUwJSAvIDhweCA4cHgnO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb2xvclByZXZpZXcuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gY29sb3I7XG4gICAgICAgICAgICBjb2xvclByZXZpZXcuc3R5bGUuYmFja2dyb3VuZCA9ICcnO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcbiAgICBjb25zdCBjb2xsZWN0Rm9ybVZhbHVlcyA9IChjb25maWcpID0+IHtcbiAgICAgIGlmICghYmxvY2tGb3JtIHx8ICFjb25maWcpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgfVxuICAgICAgY29uc3QgdmFsdWVzID0ge307XG4gICAgICBPYmplY3QuZW50cmllcyhjb25maWcuZmllbGRzKS5mb3JFYWNoKChbc2V0dGluZ0tleSwgZmllbGROYW1lXSkgPT4ge1xuICAgICAgICBjb25zdCBpbnB1dCA9IGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yKGBbbmFtZT1cIiR7ZmllbGROYW1lfVwiXWApO1xuICAgICAgICBpZiAoIWlucHV0KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbnB1dC50eXBlID09PSAnY2hlY2tib3gnKSB7XG4gICAgICAgICAgdmFsdWVzW3NldHRpbmdLZXldID0gaW5wdXQuY2hlY2tlZDtcbiAgICAgICAgfSBlbHNlIGlmIChpbnB1dC50eXBlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIGNvbnN0IHBhcnNlZCA9IE51bWJlcihpbnB1dC52YWx1ZSk7XG4gICAgICAgICAgdmFsdWVzW3NldHRpbmdLZXldID0gTnVtYmVyLmlzRmluaXRlKHBhcnNlZCkgPyBwYXJzZWQgOiAwO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0LnRhZ05hbWUgPT09ICdURVhUQVJFQScpIHtcbiAgICAgICAgICB2YWx1ZXNbc2V0dGluZ0tleV0gPSBpbnB1dC52YWx1ZSB8fCAnJztcbiAgICAgICAgfSBlbHNlIGlmIChpbnB1dC50eXBlID09PSAnc2VsZWN0LW9uZScpIHtcbiAgICAgICAgICB2YWx1ZXNbc2V0dGluZ0tleV0gPSBpbnB1dC52YWx1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YWx1ZXNbc2V0dGluZ0tleV0gPSBpbnB1dC52YWx1ZSB8fCAnJztcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gdmFsdWVzO1xuICAgIH07XG4gICAgY29uc3QgdXBkYXRlUHJldmlld1N0YXR1cyA9ICh0ZXh0KSA9PiB7XG4gICAgICBpZiAoIXByZXZpZXdTdGF0dXMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCF0ZXh0KSB7XG4gICAgICAgIHByZXZpZXdTdGF0dXMuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHByZXZpZXdTdGF0dXMuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBwcmV2aWV3U3RhdHVzLnRleHRDb250ZW50ID0gdGV4dDtcbiAgICB9O1xuICAgIGNvbnN0IHNlcmlhbGl6ZVBhZ2VGb3JQcmV2aWV3ID0gKHBhZ2UpID0+IHtcbiAgICAgIGlmICghcGFnZSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gRm9uY3Rpb24gcG91ciBzXHUwMEU5cmlhbGlzZXIgdW4gYmxvYyAodXRpbGlzXHUwMEU5IHBvdXIgbGVzIGJsb2NzIGV0IGxldXJzIGVuZmFudHMpXG4gICAgICBjb25zdCBzZXJpYWxpemVCbG9jayA9IChibG9jaykgPT4gKHtcbiAgICAgICAgaWQ6IGJsb2NrLmlkLFxuICAgICAgICB0eXBlOiBibG9jay50eXBlLFxuICAgICAgICBsYWJlbDogYmxvY2subGFiZWwsXG4gICAgICAgIHN0YXR1czogYmxvY2suc3RhdHVzLFxuICAgICAgICBkZXNjcmlwdGlvbjogYmxvY2suZGVzY3JpcHRpb24sXG4gICAgICAgIHByb3BzOiBibG9jay5wcm9wcyB8fCBbXSxcbiAgICAgICAgc2V0dGluZ3M6IGJsb2NrLnNldHRpbmdzIHx8IHt9LFxuICAgICAgICBjb2xsZWN0aW9uSWQ6IGJsb2NrLmNvbGxlY3Rpb25JZCB8fCBibG9jay5zZXR0aW5ncz8uY29sbGVjdGlvbklkIHx8ICcnLFxuICAgICAgICBjaGlsZHJlbjogKGJsb2NrLmNoaWxkcmVuIHx8IFtdKS5tYXAoc2VyaWFsaXplQmxvY2spLFxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlkOiBwYWdlLmlkLFxuICAgICAgICBuYW1lOiBwYWdlLm5hbWUsXG4gICAgICAgIHRpdGxlOiBwYWdlLnRpdGxlLFxuICAgICAgICBzbHVnOiBwYWdlLnNsdWcsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBwYWdlLmRlc2NyaXB0aW9uIHx8ICcnLFxuICAgICAgICBiYWRnZXM6IFsuLi4ocGFnZS5iYWRnZXMgfHwgW10pXSxcbiAgICAgICAgc2VvOiBwYWdlLnNlbyB8fCB7fSxcbiAgICAgICAgYWNjZXNzaWJpbGl0eTogcGFnZS5hY2Nlc3NpYmlsaXR5IHx8IHt9LFxuICAgICAgICBibG9ja3M6IChwYWdlLmJsb2NrcyB8fCBbXSkubWFwKHNlcmlhbGl6ZUJsb2NrKSxcbiAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBnZXRMb2FkaW5nUHJldmlld0h0bWwgPSAoKSA9PlxuICAgICAgJzwhRE9DVFlQRSBodG1sPjxodG1sPjxib2R5IHN0eWxlPVwiZm9udC1mYW1pbHk6SW50ZXIsc2Fucy1zZXJpZjtwYWRkaW5nOjQwcHg7Y29sb3I6IzQ3NTU2OTtiYWNrZ3JvdW5kOiNmZmY7XCI+UHJcdTAwRTlwYXJhdGlvbiBkZSBsYSBwclx1MDBFOXZpc3VhbGlzYXRpb25cdTIwMjY8L2JvZHk+PC9odG1sPic7XG5cbiAgICAvLyBEZWJvdW5jZSB1dGlsaXR5XG4gICAgY29uc3QgZGVib3VuY2UgPSAoZm4sIGRlbGF5KSA9PiB7XG4gICAgICBsZXQgdGltZW91dElkO1xuICAgICAgcmV0dXJuICguLi5hcmdzKSA9PiB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICAgICAgICB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IGZuKC4uLmFyZ3MpLCBkZWxheSk7XG4gICAgICB9O1xuICAgIH07XG5cbiAgICAvLyBBdXRvLXNhdmUgcG91ciBsJ2FwcGFyZW5jZSAoaW1tXHUwMEU5ZGlhdCBwb3VyIFx1MDBFOXZpdGVyIGxlcyBwZXJ0ZXMpXG4gICAgY29uc3QgYXV0b1NhdmVBcHBlYXJhbmNlID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSB8fCAhYWN0aXZlQmxvY2tJZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBibG9jayA9IGdldEFjdGl2ZUJsb2NrKCk7XG4gICAgICBjb25zdCBjb25maWcgPSBnZXRCbG9ja0Zvcm1Db25maWcoYmxvY2spO1xuICAgICAgaWYgKCFibG9jayB8fCAhY29uZmlnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHZhbHVlcyA9IGNvbGxlY3RGb3JtVmFsdWVzKGNvbmZpZyk7XG4gICAgICBjb25zdCB1cGRhdGVkQmxvY2tzID0gKGN1cnJlbnRQYWdlLmJsb2NrcyB8fCBbXSkubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICBpZiAoZW50cnkuaWQgIT09IGJsb2NrLmlkKSB7XG4gICAgICAgICAgcmV0dXJuIGVudHJ5O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRTZXR0aW5ncyA9IHsgLi4uKGVudHJ5LnNldHRpbmdzIHx8IHt9KSwgLi4udmFsdWVzIH07XG4gICAgICAgIHJldHVybiB7IC4uLmVudHJ5LCBzZXR0aW5nczogdXBkYXRlZFNldHRpbmdzIH07XG4gICAgICB9KTtcbiAgICAgIC8vIE1pc2UgXHUwMEUwIGpvdXIgc2lsZW5jaWV1c2UgKHNhbnMgdG9hc3QgbmkgcmVmcmVzaCBjb21wbGV0KVxuICAgICAgY29uc3QgbmV4dFBhZ2UgPSB7IC4uLmN1cnJlbnRQYWdlLCBibG9ja3M6IHVwZGF0ZWRCbG9ja3MgfTtcbiAgICAgIGN1cnJlbnRQYWdlID0gbmV4dFBhZ2U7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBzYXZlZCA9IGF3YWl0IHNhdmVQYWdlVG9TZXJ2ZXIobmV4dFBhZ2UpO1xuICAgICAgICBpZiAoc2F2ZWQ/LmlkKSB7XG4gICAgICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZVBhZ2VEYXRhKHNhdmVkKTtcbiAgICAgICAgICBjdXJyZW50UGFnZSA9IG5vcm1hbGl6ZWQ7XG4gICAgICAgICAgcGFnZXMgPSBwYWdlcy5tYXAoKHApID0+IChwLmlkID09PSBub3JtYWxpemVkLmlkID8gbm9ybWFsaXplZCA6IHApKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignW2Rlc2lnbl0gYXV0by1zYXZlIGFwcGVhcmFuY2UgZmFpbGVkJywgZXJyKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gTWlzZSBcdTAwRTAgam91ciBsaXZlIGRlIGxhIHByZXZpZXcgdmlhIHBvc3RNZXNzYWdlIChzYW5zIHJlY2hhcmdlciBsJ2lmcmFtZSlcbiAgICBjb25zdCB1cGRhdGVQcmV2aWV3QmxvY2tMaXZlID0gKGJsb2NrSWQsIHNldHRpbmdzKSA9PiB7XG4gICAgICBpZiAoIXByZXZpZXdGcmFtZSB8fCAhcHJldmlld0ZyYW1lLmNvbnRlbnRXaW5kb3cpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gRW52b2llIGxlcyBub3V2ZWxsZXMgY2xhc3NlcyBhdSBibG9jIGRhbnMgbCdpZnJhbWVcbiAgICAgIHByZXZpZXdGcmFtZS5jb250ZW50V2luZG93LnBvc3RNZXNzYWdlKHtcbiAgICAgICAgdHlwZTogJ3VwZGF0ZUJsb2NrU3R5bGVzJyxcbiAgICAgICAgYmxvY2tJZCxcbiAgICAgICAgc2V0dGluZ3MsXG4gICAgICB9LCAnKicpO1xuICAgIH07XG5cbiAgICAvLyBSZWZyZXNoIHByZXZpZXcgY29tcGxldCBkZWJvdW5jZWQgKHBvdXIgbGVzIGNoYW5nZW1lbnRzIGNvbXBsZXhlcylcbiAgICBjb25zdCBkZWJvdW5jZWRSZWZyZXNoUHJldmlldyA9IGRlYm91bmNlKCgpID0+IHtcbiAgICAgIGlmIChjdXJyZW50UGFnZSkge1xuICAgICAgICByZWZyZXNoUHJldmlldyhjdXJyZW50UGFnZSk7XG4gICAgICB9XG4gICAgfSwgMTUwMCk7XG5cbiAgICAvLyBNaXNlIFx1MDBFMCBqb3VyIGxpdmUgaW1tXHUwMEU5ZGlhdGUgKHBvdXIgbGEgcHJldmlldylcbiAgICBjb25zdCBoYW5kbGVBcHBlYXJhbmNlQ2hhbmdlID0gKGJsb2NrSWQsIHNldHRpbmdzKSA9PiB7XG4gICAgICB1cGRhdGVQcmV2aWV3QmxvY2tMaXZlKGJsb2NrSWQsIHNldHRpbmdzKTtcbiAgICAgIHVwZGF0ZVByZXZpZXdTdGF0dXMoJ01vZGlmaWNhdGlvblx1MjAyNicpO1xuICAgICAgYXV0b1NhdmVBcHBlYXJhbmNlKClcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIHVwZGF0ZVByZXZpZXdTdGF0dXMoJ1NhdXZlZ2FyZFx1MDBFOScpO1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gdXBkYXRlUHJldmlld1N0YXR1cygnXHUwMEMwIGpvdXInKSwgMTUwMCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoKSA9PiB1cGRhdGVQcmV2aWV3U3RhdHVzKCdFcnJldXIgZGUgc2F1dmVnYXJkZScpKTtcbiAgICAgIC8vIFJlZnJlc2ggY29tcGxldCBhcHJcdTAwRThzIHVuIGRcdTAwRTlsYWkgcGx1cyBsb25nIChwb3VyIGxlcyBjaGFuZ2VtZW50cyBkZSBsYXlvdXQsIGV0Yy4pXG4gICAgICBkZWJvdW5jZWRSZWZyZXNoUHJldmlldygpO1xuICAgIH07XG5cbiAgICBjb25zdCByZWZyZXNoUHJldmlldyA9IChwYWdlKSA9PiB7XG4gICAgICBpZiAoIXByZXZpZXdGcmFtZSB8fCAhcGFnZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBwcmV2aWV3U2l0ZVNsdWcgPSB3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnO1xuICAgICAgY29uc3Qgc2VyaWFsaXplZFBhZ2VzID0gcGFnZXMubWFwKChlbnRyeSkgPT4gKHtcbiAgICAgICAgaWQ6IGVudHJ5LmlkLFxuICAgICAgICBzbHVnOiBlbnRyeS5zbHVnLFxuICAgICAgICB0aXRsZTogZW50cnkudGl0bGUsXG4gICAgICAgIG5hbWU6IGVudHJ5Lm5hbWUsXG4gICAgICAgIGFjY2Vzc2liaWxpdHk6IGVudHJ5LmFjY2Vzc2liaWxpdHksXG4gICAgICB9KSk7XG4gICAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICBwYWdlOiBzZXJpYWxpemVQYWdlRm9yUHJldmlldyhwYWdlKSxcbiAgICAgICAgc2l0ZToge1xuICAgICAgICAgIHRpdGxlOiBzdG9yZWRTaXRlLm5hbWUgfHwgJ1NpdGUnLFxuICAgICAgICAgIHNsdWc6IHByZXZpZXdTaXRlU2x1ZyxcbiAgICAgICAgICBwYWdlczogc2VyaWFsaXplZFBhZ2VzLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICAgIHByZXZpZXdSZWFkeSA9IGZhbHNlO1xuICAgICAgdXBkYXRlUHJldmlld1N0YXR1cygnQWN0dWFsaXNhdGlvblx1MjAyNicpO1xuICAgICAgcHJldmlld0ZyYW1lLnNyY2RvYyA9IGdldExvYWRpbmdQcmV2aWV3SHRtbCgpO1xuICAgICAgaWYgKHByZXZpZXdSZXF1ZXN0Q29udHJvbGxlcikge1xuICAgICAgICBwcmV2aWV3UmVxdWVzdENvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgICBwcmV2aWV3UmVxdWVzdENvbnRyb2xsZXIgPSBjb250cm9sbGVyO1xuICAgICAgZmV0Y2goJy9hcGkvcHJldmlldycsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgc2lnbmFsOiBjb250cm9sbGVyLnNpZ25hbCxcbiAgICAgIH0pXG4gICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUHJldmlldyBlcnJvcicpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICB9KVxuICAgICAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICAgIGlmIChjb250cm9sbGVyLnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGxhdGVzdFByZXZpZXdIdG1sID0gZGF0YS5odG1sIHx8ICcnO1xuICAgICAgICAgIHByZXZpZXdGcmFtZS5zZXRBdHRyaWJ1dGUoXG4gICAgICAgICAgICAndGl0bGUnLFxuICAgICAgICAgICAgYFByXHUwMEU5dmlzdWFsaXNhdGlvbiBkZSBsYSBwYWdlICR7cGFnZS50aXRsZSB8fCAnJ31gLnRyaW0oKSxcbiAgICAgICAgICApO1xuICAgICAgICAgIHByZXZpZXdGcmFtZS5zcmNkb2MgPSBsYXRlc3RQcmV2aWV3SHRtbCB8fCBnZXRMb2FkaW5nUHJldmlld0h0bWwoKTtcbiAgICAgICAgICB1cGRhdGVQcmV2aWV3U3RhdHVzKCdcdTAwQzAgam91cicpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgaWYgKGNvbnRyb2xsZXIuc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3ByZXZpZXddIEltcG9zc2libGUgZGUgcmVuZHJlIGxhIHBhZ2UnLCBlcnJvcik7XG4gICAgICAgICAgdXBkYXRlUHJldmlld1N0YXR1cygnRXJyZXVyIHByZXZpZXcnKTtcbiAgICAgICAgICBwcmV2aWV3RnJhbWUuc3JjZG9jID1cbiAgICAgICAgICAgICc8IURPQ1RZUEUgaHRtbD48aHRtbD48Ym9keSBzdHlsZT1cImZvbnQtZmFtaWx5OkludGVyLHNhbnMtc2VyaWY7cGFkZGluZzo0MHB4O2NvbG9yOiNiZTEyM2M7YmFja2dyb3VuZDojZmZmO1wiPkVycmV1ciBsb3JzIGR1IHJlbmR1IGRlIGxhIHByXHUwMEU5dmlzdWFsaXNhdGlvbi48L2JvZHk+PC9odG1sPic7XG4gICAgICAgIH0pXG4gICAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgICBpZiAocHJldmlld1JlcXVlc3RDb250cm9sbGVyID09PSBjb250cm9sbGVyKSB7XG4gICAgICAgICAgICBwcmV2aWV3UmVxdWVzdENvbnRyb2xsZXIgPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBjb25zdCBoYW5kbGVCbG9ja0Zvcm1TdWJtaXQgPSAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlIHx8ICFhY3RpdmVCbG9ja0lkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGJsb2NrID0gZ2V0QWN0aXZlQmxvY2soKTtcbiAgICAgIGNvbnN0IGNvbmZpZyA9IGdldEJsb2NrRm9ybUNvbmZpZyhibG9jayk7XG4gICAgICBpZiAoIWJsb2NrIHx8ICFjb25maWcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgdmFsdWVzID0gY29sbGVjdEZvcm1WYWx1ZXMoY29uZmlnKTtcbiAgICAgIGlmIChjb25maWcuc2VjdGlvbiA9PT0gJ2ltYWdlJykge1xuICAgICAgICBjb25zdCBhbHRWYWx1ZSA9ICh2YWx1ZXMuYWx0IHx8ICcnKS50cmltKCk7XG4gICAgICAgIHZhbHVlcy5hbHQgPSBhbHRWYWx1ZTtcbiAgICAgICAgaWYgKCFhbHRWYWx1ZSkge1xuICAgICAgICAgIHNob3dUb2FzdCgnQWpvdXRlIHVuIHRleHRlIGFsdGVybmF0aWYgcG91ciBjZXR0ZSBpbWFnZS4nLCAnZXJyb3InKTtcbiAgICAgICAgICBibG9ja0Zvcm0/LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaW1hZ2UtYWx0XCJdJyk/LmZvY3VzKCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoY29uZmlnLnNlY3Rpb24gPT09ICdjb2xsZWN0aW9uJykge1xuICAgICAgICBpZiAoIXZhbHVlcy5jb2xsZWN0aW9uSWQpIHtcbiAgICAgICAgICBzaG93VG9hc3QoJ1NcdTAwRTlsZWN0aW9ubmV6IHVuZSBjb2xsZWN0aW9uLicpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YWx1ZXMubGltaXQgPSBNYXRoLm1heCgxLCBOdW1iZXIodmFsdWVzLmxpbWl0KSB8fCAxKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHVwZGF0ZWRCbG9ja3MgPSAoY3VycmVudFBhZ2UuYmxvY2tzIHx8IFtdKS5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIGlmIChlbnRyeS5pZCAhPT0gYmxvY2suaWQpIHtcbiAgICAgICAgICByZXR1cm4gZW50cnk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdXBkYXRlZFNldHRpbmdzID0geyAuLi4oZW50cnkuc2V0dGluZ3MgfHwge30pLCAuLi52YWx1ZXMgfTtcbiAgICAgICAgY29uc3QgdXBkYXRlZEJsb2NrID0ge1xuICAgICAgICAgIC4uLmVudHJ5LFxuICAgICAgICAgIHNldHRpbmdzOiB1cGRhdGVkU2V0dGluZ3MsXG4gICAgICAgIH07XG4gICAgICAgIGlmIChjb25maWcubGFiZWxGaWVsZCAmJiB2YWx1ZXNbY29uZmlnLmxhYmVsRmllbGRdKSB7XG4gICAgICAgICAgdXBkYXRlZEJsb2NrLmxhYmVsID0gdmFsdWVzW2NvbmZpZy5sYWJlbEZpZWxkXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29uZmlnLmRlc2NyaXB0aW9uRmllbGQgJiYgdmFsdWVzW2NvbmZpZy5kZXNjcmlwdGlvbkZpZWxkXSkge1xuICAgICAgICAgIHVwZGF0ZWRCbG9jay5kZXNjcmlwdGlvbiA9IHZhbHVlc1tjb25maWcuZGVzY3JpcHRpb25GaWVsZF07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbmZpZy5zZWN0aW9uID09PSAnY29sbGVjdGlvbicpIHtcbiAgICAgICAgICB1cGRhdGVkQmxvY2suY29sbGVjdGlvbklkID0gdmFsdWVzLmNvbGxlY3Rpb25JZDtcbiAgICAgICAgICB1cGRhdGVkQmxvY2suc2V0dGluZ3MuY29sbGVjdGlvbklkID0gdmFsdWVzLmNvbGxlY3Rpb25JZDtcbiAgICAgICAgICB1cGRhdGVkQmxvY2suc2V0dGluZ3MubGltaXQgPSB2YWx1ZXMubGltaXQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVwZGF0ZWRCbG9jaztcbiAgICAgIH0pO1xuICAgICAgdXBkYXRlQ3VycmVudFBhZ2VCbG9ja3ModXBkYXRlZEJsb2Nrcyk7XG4gICAgICBzaG93VG9hc3QoJ0Jsb2MgbWlzIFx1MDBFMCBqb3VyJyk7XG4gICAgICBzZXRBY3RpdmVQYWdlKGN1cnJlbnRQYWdlLmlkLCB7IHByZXNlcnZlQmxvY2s6IHRydWUgfSk7XG4gICAgfTtcbiAgICBjb25zdCBkcmF3ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLWRyYXdlcl0nKTtcbiAgICBjb25zdCBkcmF3ZXJCYWNrZHJvcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXBhZ2UtZHJhd2VyLWJhY2tkcm9wXScpO1xuICAgIGNvbnN0IGRyYXdlck9wZW5CdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtcGFnZS1kcmF3ZXItb3Blbl0nKTtcbiAgICBjb25zdCBkcmF3ZXJDbG9zZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1wYWdlLWRyYXdlci1jbG9zZV0nKTtcbiAgICBjb25zdCBhZGRQYWdlVG9nZ2xlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRkLXBhZ2UtdG9nZ2xlXScpO1xuICAgIGNvbnN0IGFkZFBhZ2VGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRkLXBhZ2UtZm9ybV0nKTtcbiAgICBjb25zdCBhZGRQYWdlTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFkZC1wYWdlLW5hbWVdJyk7XG4gICAgY29uc3QgYWRkUGFnZVRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRkLXBhZ2UtdGl0bGVdJyk7XG4gICAgY29uc3QgYWRkUGFnZVNsdWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZGQtcGFnZS1zbHVnXScpO1xuICAgIGNvbnN0IGFkZFBhZ2VDYW5jZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZGQtcGFnZS1jYW5jZWxdJyk7XG4gICAgY29uc3QgYWRkUGFnZUVycm9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRkLXBhZ2UtZXJyb3JdJyk7XG4gICAgY29uc3QgYWRkUGFnZVN1Ym1pdEJ1dHRvbiA9IGFkZFBhZ2VGb3JtPy5xdWVyeVNlbGVjdG9yKCdbdHlwZT1cInN1Ym1pdFwiXScpO1xuICAgIC8vIEltcG9ydCBKU09OIGVsZW1lbnRzXG4gICAgY29uc3QgaW1wb3J0VG9nZ2xlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaW1wb3J0LXBhZ2VzLXRvZ2dsZV0nKTtcbiAgICBjb25zdCBpbXBvcnRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWltcG9ydC1tb2RhbF0nKTtcbiAgICBjb25zdCBpbXBvcnRDbG9zZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1pbXBvcnQtbW9kYWwtY2xvc2VdJyk7XG4gICAgY29uc3QgaW1wb3J0RHJvcHpvbmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbXBvcnQtZHJvcHpvbmVdJyk7XG4gICAgY29uc3QgaW1wb3J0RmlsZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaW1wb3J0LWZpbGUtaW5wdXRdJyk7XG4gICAgY29uc3QgaW1wb3J0RmlsZUxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbXBvcnQtZmlsZS1saXN0XScpO1xuICAgIGNvbnN0IGltcG9ydEZpbGVOYW1lcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWltcG9ydC1maWxlLW5hbWVzXScpO1xuICAgIGNvbnN0IGltcG9ydFJlc3VsdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbXBvcnQtcmVzdWx0c10nKTtcbiAgICBjb25zdCBpbXBvcnRSZXN1bHRzQ29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWltcG9ydC1yZXN1bHRzLWNvbnRlbnRdJyk7XG4gICAgY29uc3QgaW1wb3J0U3VibWl0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaW1wb3J0LXN1Ym1pdF0nKTtcbiAgICBjb25zdCBpbXBvcnRUYWJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtaW1wb3J0LXRhYl0nKTtcbiAgICBjb25zdCBpbXBvcnRQYW5lbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1pbXBvcnQtcGFuZWxdJyk7XG4gICAgY29uc3QgY29weVRlbXBsYXRlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29weS10ZW1wbGF0ZV0nKTtcbiAgICBjb25zdCB0ZW1wbGF0ZUpzb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS10ZW1wbGF0ZS1qc29uXScpO1xuICAgIC8vIFBhc3RlIEpTT04gZWxlbWVudHNcbiAgICBjb25zdCBpbXBvcnRQYXN0ZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaW1wb3J0LXBhc3RlLWpzb25dJyk7XG4gICAgY29uc3QgcGFzdGVGb3JtYXRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1mb3JtYXQtanNvbl0nKTtcbiAgICBjb25zdCBwYXN0ZUVycm9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaW1wb3J0LXBhc3RlLWVycm9yXScpO1xuICAgIGxldCBpbXBvcnRTZWxlY3RlZEZpbGVzID0gW107XG4gICAgbGV0IGFjdGl2ZUltcG9ydFRhYiA9ICd1cGxvYWQnO1xuICAgIC8vIERlbGV0ZSBwYWdlIGVsZW1lbnRzXG4gICAgY29uc3QgZGVsZXRlUGFnZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVsZXRlLXBhZ2UtbW9kYWxdJyk7XG4gICAgY29uc3QgZGVsZXRlUGFnZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZWxldGUtcGFnZS1uYW1lXScpO1xuICAgIGNvbnN0IGRlbGV0ZVBhZ2VDYW5jZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZWxldGUtcGFnZS1jYW5jZWxdJyk7XG4gICAgY29uc3QgZGVsZXRlUGFnZUNvbmZpcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZWxldGUtcGFnZS1jb25maXJtXScpO1xuICAgIGxldCBwYWdlVG9EZWxldGUgPSBudWxsO1xuICAgIGNvbnN0IHNpdGVLZXkgPVxuICAgICAgc3RyaXBMZWFkaW5nU2xhc2god29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnZGVmYXVsdCcpIHx8ICdkZWZhdWx0JztcbiAgICBjb25zdCBzaXRlU2x1Z1ZhbHVlID0gd29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnJztcbiAgICBjb25zdCBzYWZlU2l0ZVNsdWcgPSBzdHJpcExlYWRpbmdTbGFzaChzaXRlU2x1Z1ZhbHVlKSB8fCAnJztcbiAgICBjb25zdCBwYWdlc0FwaUJhc2UgPSBzYWZlU2l0ZVNsdWdcbiAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnKX0vcGFnZXNgXG4gICAgICA6IG51bGw7XG4gICAgY29uc3QgY29sbGVjdGlvbnNBcGlCYXNlID0gc2FmZVNpdGVTbHVnXG4gICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Zyl9L2NvbGxlY3Rpb25zYFxuICAgICAgOiBudWxsO1xuICAgIGNvbnN0IHN0b3JhZ2VLZXlzID0ge1xuICAgICAgYWN0aXZlOiBgY2xvd2VyOmFjdGl2ZVBhZ2U6JHtzaXRlS2V5fWAsXG4gICAgfTtcbiAgICBjb25zdCBjcmVhdGVCbG9jayA9IChpZCwgbGFiZWwsIHR5cGUsIHN0YXR1cywgZGVzY3JpcHRpb24sIHByb3BzID0gW10sIHNldHRpbmdzID0ge30pID0+IHtcbiAgICAgIGNvbnN0IGJsb2NrID0ge1xuICAgICAgICBpZCxcbiAgICAgICAgbGFiZWwsXG4gICAgICAgIHR5cGUsXG4gICAgICAgIHN0YXR1cyxcbiAgICAgICAgZGVzY3JpcHRpb24sXG4gICAgICAgIHByb3BzLFxuICAgICAgICBzZXR0aW5nczogeyAuLi5zZXR0aW5ncyB9LFxuICAgICAgfTtcbiAgICAgIGlmIChibG9jay5zZXR0aW5ncy5jb2xsZWN0aW9uSWQpIHtcbiAgICAgICAgYmxvY2suY29sbGVjdGlvbklkID0gYmxvY2suc2V0dGluZ3MuY29sbGVjdGlvbklkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJsb2NrO1xuICAgIH07XG4gICAgY29uc3QgYmxvY2tMaWJyYXJ5RGVmaW5pdGlvbnMgPSB7XG4gICAgICBoZXJvOiB7XG4gICAgICAgIHR5cGU6ICdIZXJvJyxcbiAgICAgICAgbGFiZWw6ICdIZXJvIGRlIHBhZ2UnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ1NlY3Rpb24gcGxlaW5lIGxhcmdldXIgYXZlYyBDVEEgcHJpbmNpcGFsLicsXG4gICAgICAgIHN0YXR1czogJ0Jyb3VpbGxvbicsXG4gICAgICAgIHByb3BzOiBbXG4gICAgICAgICAgeyBsYWJlbDogJ0NUQScsIHZhbHVlOiAnRFx1MDBFOWNvdXZyaXInIH0sXG4gICAgICAgICAgeyBsYWJlbDogJ0hhdXRldXInLCB2YWx1ZTogJzgwdmgnIH0sXG4gICAgICAgIF0sXG4gICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgdGl0bGU6ICdUaXRyZSBkdSBoZXJvJyxcbiAgICAgICAgICBzdWJ0aXRsZTogJycsXG4gICAgICAgICAgY3RhTGFiZWw6ICdEXHUwMEU5Y291dnJpcicsXG4gICAgICAgICAgY3RhVXJsOiAnIycsXG4gICAgICAgICAgaW1hZ2U6ICcnLFxuICAgICAgICAgIGFsaWduOiAnY2VudGVyJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBwYXJhZ3JhcGg6IHtcbiAgICAgICAgdHlwZTogJ1BhcmFncmFwaGUnLFxuICAgICAgICBsYWJlbDogJ0Jsb2MgXHUwMEU5ZGl0b3JpYWwnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ1BhcmFncmFwaGUgbGlicmUgcG91ciByYWNvbnRlciB2b3RyZSBoaXN0b2lyZS4nLFxuICAgICAgICBzdGF0dXM6ICdCcm91aWxsb24nLFxuICAgICAgICBwcm9wczogW3sgbGFiZWw6ICdMb25ndWV1cicsIHZhbHVlOiAnMTUwIG1vdHMnIH1dLFxuICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgIHRpdGxlOiAnVGl0cmUgZHUgcGFyYWdyYXBoZScsXG4gICAgICAgICAgY29udGVudDogJycsXG4gICAgICAgICAgYWxpZ246ICdsZWZ0JyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBpbWFnZToge1xuICAgICAgICB0eXBlOiAnSW1hZ2UnLFxuICAgICAgICBsYWJlbDogJ0Jsb2MgaW1hZ2UnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ1Zpc3VlbCBzZXVsIGF2ZWMgbFx1MDBFOWdlbmRlIG9wdGlvbm5lbGxlLicsXG4gICAgICAgIHN0YXR1czogJ0Jyb3VpbGxvbicsXG4gICAgICAgIHByb3BzOiBbXG4gICAgICAgICAgeyBsYWJlbDogJ1JhdGlvJywgdmFsdWU6ICcxNjo5JyB9LFxuICAgICAgICAgIHsgbGFiZWw6ICdMXHUwMEU5Z2VuZGUnLCB2YWx1ZTogJ0luYWN0aXZlJyB9LFxuICAgICAgICBdLFxuICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgIHNyYzogJycsXG4gICAgICAgICAgYWx0OiAnJyxcbiAgICAgICAgICBzaG93Q2FwdGlvbjogZmFsc2UsXG4gICAgICAgICAgY2FwdGlvbjogJycsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgZ3JvdXA6IHtcbiAgICAgICAgdHlwZTogJ0dyb3VwZScsXG4gICAgICAgIGxhYmVsOiAnR3JvdXBlIGRlIHNlY3Rpb25zJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdDb250ZW5ldXIgcG91ciBpbWJyaXF1ZXIgcGx1c2lldXJzIHNvdXMtYmxvY3MuJyxcbiAgICAgICAgc3RhdHVzOiAnQnJvdWlsbG9uJyxcbiAgICAgICAgcHJvcHM6IFt7IGxhYmVsOiAnRGlzcG9zaXRpb24nLCB2YWx1ZTogJ1ZlcnRpY2FsZScgfV0sXG4gICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgbGF5b3V0OiAnZ3JpZCcsXG4gICAgICAgICAgY29sdW1uc01vYmlsZTogJzEnLFxuICAgICAgICAgIGNvbHVtbnNEZXNrdG9wOiAnMycsXG4gICAgICAgICAgbW9iaWxlTGF5b3V0OiAnc3RhY2snLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGNvbGxlY3Rpb25ncmlkOiB7XG4gICAgICAgIHR5cGU6ICdDb2xsZWN0aW9uR3JpZCcsXG4gICAgICAgIGxhYmVsOiAnR3JpbGxlIGRlIGNvbnRlbnVzJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdBZmZpY2hlIGF1dG9tYXRpcXVlbWVudCBsZXMgaXRlbXMgZFx1MjAxOXVuZSBjb2xsZWN0aW9uLicsXG4gICAgICAgIHN0YXR1czogJ0Jyb3VpbGxvbicsXG4gICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgY29sbGVjdGlvbklkOiAnJyxcbiAgICAgICAgICBsaW1pdDogNixcbiAgICAgICAgICBtb2JpbGVMYXlvdXQ6ICdzdGFjaycsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgZm9ybToge1xuICAgICAgICB0eXBlOiAnRm9ybScsXG4gICAgICAgIGxhYmVsOiAnRm9ybXVsYWlyZSBkZSBjb250YWN0JyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdGb3JtdWxhaXJlIGF2ZWMgZW52b2kgdmVycyB1biBzZXJ2aWNlIGV4dGVybmUuJyxcbiAgICAgICAgc3RhdHVzOiAnQnJvdWlsbG9uJyxcbiAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICBmb3JtVGl0bGU6ICdDb250YWN0ZXotbm91cycsXG4gICAgICAgICAgYWN0aW9uVXJsOiAnJyxcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBzZXJ2aWNlTmFtZTogJycsXG4gICAgICAgICAgc3VibWl0TGFiZWw6ICdFbnZveWVyJyxcbiAgICAgICAgICBzdWNjZXNzTWVzc2FnZTogJ01lcmNpIHBvdXIgdm90cmUgbWVzc2FnZSAhJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBuZXdzbGV0dGVyZW1iZWQ6IHtcbiAgICAgICAgdHlwZTogJ05ld3NsZXR0ZXJFbWJlZCcsXG4gICAgICAgIGxhYmVsOiAnTmV3c2xldHRlciAvIEVtYmVkJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdJbnRcdTAwRTlncmF0aW9uIGRcXCd1biBmb3JtdWxhaXJlIG5ld3NsZXR0ZXIgZXh0ZXJuZSAoQnJldm8sIE1haWxjaGltcFx1MjAyNikuJyxcbiAgICAgICAgc3RhdHVzOiAnQnJvdWlsbG9uJyxcbiAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICB0aXRsZTogJ1Jlc3RleiBpbmZvcm1cdTAwRTknLFxuICAgICAgICAgIHNlcnZpY2VOYW1lOiAnJyxcbiAgICAgICAgICBlbWJlZENvZGU6ICcnLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9O1xuICAgIGNvbnN0IHBlcnNpc3RBY3RpdmVQYWdlID0gKHBhZ2VJZCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKHN0b3JhZ2VLZXlzLmFjdGl2ZSwgcGFnZUlkKTtcbiAgICAgIH0gY2F0Y2gge1xuICAgICAgICAvKiBpZ25vcmUgc3RvcmFnZSBlcnJvcnMgKi9cbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGdldFN0b3JlZEFjdGl2ZVBhZ2UgPSAocGFnZXMpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHN0b3JlZCA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShzdG9yYWdlS2V5cy5hY3RpdmUpO1xuICAgICAgICBpZiAoc3RvcmVkICYmIHBhZ2VzLnNvbWUoKHBhZ2UpID0+IHBhZ2UuaWQgPT09IHN0b3JlZCkpIHtcbiAgICAgICAgICByZXR1cm4gc3RvcmVkO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgLyogaWdub3JlIHN0b3JhZ2UgZXJyb3JzICovXG4gICAgICB9XG4gICAgICByZXR1cm4gcGFnZXNbMF0/LmlkIHx8IG51bGw7XG4gICAgfTtcbiAgICBjb25zdCBmb3JtYXRCbG9ja0NvdW50ID0gKGNvdW50KSA9PiB7XG4gICAgICBpZiAoIWNvdW50IHx8IGNvdW50IDw9IDApIHtcbiAgICAgICAgcmV0dXJuICcwIGJsb2MnO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNvdW50ID09PSAxID8gJzEgYmxvYycgOiBgJHtjb3VudH0gYmxvY3NgO1xuICAgIH07XG4gICAgY29uc3Qgbm9ybWFsaXplUGFnZVNsdWcgPSAodmFsdWUpID0+IHtcbiAgICAgIGlmICghdmFsdWUgfHwgdmFsdWUgPT09ICcvJykge1xuICAgICAgICByZXR1cm4gJy8nO1xuICAgICAgfVxuICAgICAgY29uc3QgYmFzZSA9IHdvcmtzcGFjZVNsdWdpZnkodmFsdWUucmVwbGFjZSgvXlxcLy8sICcnKSk7XG4gICAgICByZXR1cm4gYmFzZSA/IGAvJHtiYXNlfWAgOiAnLyc7XG4gICAgfTtcbiAgICBjb25zdCBnZW5lcmF0ZUJsb2NrSWQgPSAocGFnZUlkID0gJ3BhZ2UnLCBrZXkgPSAnYmxvY2snKSA9PlxuICAgICAgYCR7cGFnZUlkfS0ke2tleX0tJHtEYXRlLm5vdygpLnRvU3RyaW5nKDM2KX0tJHtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwKX1gO1xuICAgIGNvbnN0IGNyZWF0ZUluaXRpYWxCbG9ja3MgPSAocGFnZUlkLCB0aXRsZSkgPT4gW1xuICAgICAgY3JlYXRlQmxvY2soXG4gICAgICAgIGdlbmVyYXRlQmxvY2tJZChwYWdlSWQsICdpbnRybycpLFxuICAgICAgICAnSW50cm9kdWN0aW9uJyxcbiAgICAgICAgJ1BhcmFncmFwaGUnLFxuICAgICAgICAnQnJvdWlsbG9uJyxcbiAgICAgICAgYFBhcmFncmFwaGUgaW50cm9kdWN0aWYgcG91ciBcIiR7dGl0bGV9XCIuYCxcbiAgICAgICAgW3sgbGFiZWw6ICdMb25ndWV1cicsIHZhbHVlOiAnMiBwYXJhZ3JhcGhlcycgfV0sXG4gICAgICAgIHtcbiAgICAgICAgICB0aXRsZTogYEludHJvZHVjdGlvbiBcdTAwRTAgJHt0aXRsZX1gLFxuICAgICAgICAgIGNvbnRlbnQ6ICdBam91dGV6IHZvdHJlIHByZW1pZXIgcGFyYWdyYXBoZSBkZSBwclx1MDBFOXNlbnRhdGlvbi4nLFxuICAgICAgICAgIGFsaWduOiAnbGVmdCcsXG4gICAgICAgIH0sXG4gICAgICApLFxuICAgICAgY3JlYXRlQmxvY2soXG4gICAgICAgIGdlbmVyYXRlQmxvY2tJZChwYWdlSWQsICdjb250ZW50JyksXG4gICAgICAgICdab25lIGRlIGNvbnRlbnUnLFxuICAgICAgICAnR3JvdXBlJyxcbiAgICAgICAgJ0Jyb3VpbGxvbicsXG4gICAgICAgICdTZWN0aW9uIHByaW5jaXBhbGUgXHUwMEUwIGNvbXBvc2VyIGF2ZWMgdGV4dGVzIGV0IHZpc3VlbHMuJyxcbiAgICAgICAgW3sgbGFiZWw6ICdDb2xvbm5lcycsIHZhbHVlOiAnQXV0bycgfV0sXG4gICAgICAgIHtcbiAgICAgICAgICBsYXlvdXQ6ICdncmlkJyxcbiAgICAgICAgICBjb2x1bW5zTW9iaWxlOiAnMScsXG4gICAgICAgICAgY29sdW1uc0Rlc2t0b3A6ICcyJyxcbiAgICAgICAgICBtb2JpbGVMYXlvdXQ6ICdzdGFjaycsXG4gICAgICAgIH0sXG4gICAgICApLFxuICAgIF07XG4gICAgY29uc3Qgc2V0QWN0aXZlTGFiZWxzID0gKHBhZ2UpID0+IHtcbiAgICAgIGlmIChhY3RpdmVUaXRsZSkge1xuICAgICAgICAvLyBVc2UgcGFnZS5uYW1lIChzaG9ydCBuYW1lKSBpZiBhdmFpbGFibGUsIGZhbGxiYWNrIHRvIHRpdGxlXG4gICAgICAgIGFjdGl2ZVRpdGxlLnRleHRDb250ZW50ID0gcGFnZT8ubmFtZSB8fCBwYWdlPy50aXRsZSB8fCAnUGFnZSc7XG4gICAgICB9XG4gICAgICBpZiAoYWN0aXZlU2x1Zykge1xuICAgICAgICBhY3RpdmVTbHVnLnRleHRDb250ZW50ID0gcGFnZT8uc2x1ZyB8fCAnLyc7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCByZW5kZXJQcmV2aWV3TWV0YSA9IChwYWdlKSA9PiB7XG4gICAgICBpZiAoIXByZXZpZXdUYWdzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHByZXZpZXdUYWdzLmlubmVySFRNTCA9ICcnO1xuICAgICAgY29uc3QgdGFncyA9XG4gICAgICAgIHBhZ2UgJiYgcGFnZS5iYWRnZXMgJiYgcGFnZS5iYWRnZXMubGVuZ3RoID4gMCA/IHBhZ2UuYmFkZ2VzIDogWydTdHJ1Y3R1cmUgZW4gY291cnMnXTtcbiAgICAgIHRhZ3MuZm9yRWFjaCgodGFnKSA9PiB7XG4gICAgICAgIGNvbnN0IGJhZGdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICBiYWRnZS5jbGFzc05hbWUgPSAncm91bmRlZC1mdWxsIGJnLXNsYXRlLTEwMCBweC0zIHB5LTEnO1xuICAgICAgICBiYWRnZS50ZXh0Q29udGVudCA9IHRhZztcbiAgICAgICAgcHJldmlld1RhZ3MuYXBwZW5kQ2hpbGQoYmFkZ2UpO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICBjb25zdCBnZXRTdGF0dXNCYWRnZUNsYXNzZXMgPSAoc3RhdHVzKSA9PiB7XG4gICAgICBzd2l0Y2ggKChzdGF0dXMgfHwgJycpLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgY2FzZSAnZW4gbGlnbmUnOlxuICAgICAgICAgIHJldHVybiAnYmctZW1lcmFsZC01MCB0ZXh0LWVtZXJhbGQtNzAwJztcbiAgICAgICAgY2FzZSAnYnJvdWlsbG9uJzpcbiAgICAgICAgICByZXR1cm4gJ2JnLWFtYmVyLTUwIHRleHQtYW1iZXItNzAwJztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gJ2JnLXNsYXRlLTEwMCB0ZXh0LXNsYXRlLTYwMCc7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCByZW5kZXJCbG9ja0RldGFpbHMgPSAoYmxvY2spID0+IHtcbiAgICAgIGlmICghYmxvY2tEZXRhaWxFbXB0eSB8fCAhYmxvY2tFZGl0b3IpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFibG9jaykge1xuICAgICAgICBibG9ja0RldGFpbEVtcHR5LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICBibG9ja0VkaXRvci5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgYmxvY2tFZGl0b3JVbnN1cHBvcnRlZD8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIGJsb2NrRm9ybT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIGJsb2NrRGV0YWlsU3RhdHVzPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYmxvY2tEZXRhaWxFbXB0eS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGJsb2NrRWRpdG9yLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgaWYgKGJsb2NrRGV0YWlsU3RhdHVzKSB7XG4gICAgICAgIGlmIChibG9jay5zdGF0dXMpIHtcbiAgICAgICAgICBibG9ja0RldGFpbFN0YXR1cy50ZXh0Q29udGVudCA9IGJsb2NrLnN0YXR1cztcbiAgICAgICAgICBibG9ja0RldGFpbFN0YXR1cy5jbGFzc05hbWUgPSBgcm91bmRlZC1mdWxsIHB4LTMgcHktMSB0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgJHtnZXRTdGF0dXNCYWRnZUNsYXNzZXMoXG4gICAgICAgICAgICBibG9jay5zdGF0dXMsXG4gICAgICAgICAgKX1gO1xuICAgICAgICAgIGJsb2NrRGV0YWlsU3RhdHVzLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGJsb2NrRGV0YWlsU3RhdHVzLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBwb3B1bGF0ZUJsb2NrRm9ybShibG9jayk7XG4gICAgfTtcbiAgICBjb25zdCBhcHBseVByZXZpZXdIaWdobGlnaHQgPSAoYmxvY2tJZCkgPT4ge1xuICAgICAgaWYgKCFwcmV2aWV3RnJhbWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgZG9jID0gcHJldmlld0ZyYW1lLmNvbnRlbnREb2N1bWVudDtcbiAgICAgIGlmICghZG9jKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG5vZGVzID0gZG9jLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXByZXZpZXctYmxvY2tdJyk7XG4gICAgICBub2Rlcy5mb3JFYWNoKChub2RlKSA9PiB7XG4gICAgICAgIGlmIChub2RlLmRhdGFzZXQucHJldmlld0Jsb2NrID09PSBibG9ja0lkKSB7XG4gICAgICAgICAgbm9kZS5jbGFzc0xpc3QuYWRkKCdwcmV2aWV3LWJsb2NrLWFjdGl2ZScpO1xuICAgICAgICAgIGlmIChwcmV2aWV3UmVhZHkgJiYgYmxvY2tJZCkge1xuICAgICAgICAgICAgbm9kZS5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiAnc21vb3RoJywgYmxvY2s6ICdjZW50ZXInLCBpbmxpbmU6ICduZWFyZXN0JyB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbm9kZS5jbGFzc0xpc3QucmVtb3ZlKCdwcmV2aWV3LWJsb2NrLWFjdGl2ZScpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmIChwcmV2aWV3SGlnaGxpZ2h0T3ZlcmxheSkge1xuICAgICAgICBwcmV2aWV3SGlnaGxpZ2h0T3ZlcmxheS5zdHlsZS5ib3JkZXJDb2xvciA9IGJsb2NrSWQgPyAncmdiYSgxNTYsIDEwNywgMjU1LCAwLjUpJyA6ICd0cmFuc3BhcmVudCc7XG4gICAgICB9XG4gICAgfTtcbiAgICAvLyBGb25jdGlvbiBwb3VyIGNyXHUwMEU5ZXIgdW4gXHUwMEU5bFx1MDBFOW1lbnQgZGUgYmxvYyAodXRpbGlzXHUwMEU5IHBvdXIgbGVzIGJsb2NzIGV0IGxlcyBlbmZhbnRzIGRlIGdyb3VwZSlcbiAgICBjb25zdCBjcmVhdGVCbG9ja0l0ZW1FbGVtZW50ID0gKGJsb2NrLCBpc05lc3RlZCA9IGZhbHNlLCBwYXJlbnRJZCA9IG51bGwpID0+IHtcbiAgICAgIGNvbnN0IGlzQWN0aXZlID0gYmxvY2suaWQgPT09IGFjdGl2ZUJsb2NrSWQ7XG4gICAgICBjb25zdCBibG9ja1R5cGUgPSAoYmxvY2sudHlwZSB8fCAnJykudG9Mb3dlckNhc2UoKTtcbiAgICAgIGNvbnN0IGlzR3JvdXAgPSBibG9ja1R5cGUgPT09ICdncm91cGUnIHx8IGJsb2NrVHlwZSA9PT0gJ2dyb3VwJyB8fCBibG9ja1R5cGUgPT09ICdzZWN0aW9ucycgfHwgYmxvY2tUeXBlID09PSAnZ3JpZCc7XG4gICAgICBcbiAgICAgIGNvbnN0IGl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGl0ZW0uZGF0YXNldC5ibG9ja0l0ZW0gPSAndHJ1ZSc7XG4gICAgICBpdGVtLmRhdGFzZXQuYmxvY2tJZCA9IGJsb2NrLmlkO1xuICAgICAgaWYgKHBhcmVudElkKSBpdGVtLmRhdGFzZXQucGFyZW50QmxvY2tJZCA9IHBhcmVudElkO1xuICAgICAgaWYgKGlzR3JvdXApIGl0ZW0uZGF0YXNldC5pc0dyb3VwID0gJ3RydWUnO1xuICAgICAgaXRlbS5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnb3B0aW9uJyk7XG4gICAgICBpdGVtLnNldEF0dHJpYnV0ZSgnYXJpYS1zZWxlY3RlZCcsIGlzQWN0aXZlID8gJ3RydWUnIDogJ2ZhbHNlJyk7XG4gICAgICBpdGVtLnNldEF0dHJpYnV0ZSgnZHJhZ2dhYmxlJywgJ3RydWUnKTtcbiAgICAgIGl0ZW0udGFiSW5kZXggPSAwO1xuICAgICAgaXRlbS5jbGFzc05hbWUgPSBbXG4gICAgICAgICdyZWxhdGl2ZSBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMyByb3VuZGVkLTJ4bCBib3JkZXIgcHgtMyBweS0yIHRleHQtbGVmdCB0cmFuc2l0aW9uIGdyb3VwJyxcbiAgICAgICAgaXNOZXN0ZWQgPyAnbWwtNiBib3JkZXItZGFzaGVkJyA6ICcnLFxuICAgICAgICBpc0FjdGl2ZVxuICAgICAgICAgID8gJ2JnLXNsYXRlLTEwMCBib3JkZXItWyM5QzZCRkZdLzQwIHNoYWRvdy1zbSdcbiAgICAgICAgICA6ICdib3JkZXItc2xhdGUtMjAwIGhvdmVyOmJvcmRlci1bIzlDNkJGRl0vNDAnLFxuICAgICAgXS5qb2luKCcgJyk7XG4gICAgICBcbiAgICAgIGNvbnN0IGFjY2VudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgIGFjY2VudC5jbGFzc05hbWUgPSBgYWJzb2x1dGUgaW5zZXQteS0yIGxlZnQtMCB3LTEgcm91bmRlZC1mdWxsIGJnLVsjOUM2QkZGXSAke2lzQWN0aXZlID8gJycgOiAnaGlkZGVuJ31gO1xuICAgICAgaXRlbS5hcHBlbmRDaGlsZChhY2NlbnQpO1xuXG4gICAgICBjb25zdCBjb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBjb250ZW50LmNsYXNzTmFtZSA9ICdmbGV4IGZsZXgtMSBpdGVtcy1jZW50ZXIgZ2FwLTMnO1xuICAgICAgXG4gICAgICBjb25zdCBoYW5kbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGhhbmRsZS5jbGFzc05hbWUgPSAnaGlkZGVuIGxnOmZsZXggY3Vyc29yLWdyYWIgYWN0aXZlOmN1cnNvci1ncmFiYmluZyBmbGV4LXNocmluay0wIGl0ZW1zLWNlbnRlciB0ZXh0LWxnIHRleHQtc2xhdGUtNDAwIGhvdmVyOnRleHQtc2xhdGUtNjAwIHRyYW5zaXRpb24tY29sb3JzIHNlbGVjdC1ub25lJztcbiAgICAgIGhhbmRsZS5pbm5lckhUTUwgPSAnXHUyMkVFXHUyMkVFJztcbiAgICAgIGhhbmRsZS5zZXRBdHRyaWJ1dGUoJ3RpdGxlJywgJ0dsaXNzZXIgcG91ciByXHUwMEU5b3Jkb25uZXInKTtcbiAgICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQoaGFuZGxlKTtcblxuICAgICAgY29uc3QgdGV4dFdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHRleHRXcmFwcGVyLmNsYXNzTmFtZSA9ICdmbGV4LTEnO1xuICAgICAgXG4gICAgICBjb25zdCBtZXRhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBtZXRhLmNsYXNzTmFtZSA9ICdmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiB0ZXh0LVsxMXB4XSB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZSB0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICBcbiAgICAgIGNvbnN0IHR5cGVCYWRnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgIHR5cGVCYWRnZS5jbGFzc05hbWUgPSAncm91bmRlZC1mdWxsIGJnLXNsYXRlLTEwMCBweC0yIHB5LTAuNSB0ZXh0LVsxMHB4XSBmb250LXNlbWlib2xkIHRleHQtc2xhdGUtNjAwJztcbiAgICAgIHR5cGVCYWRnZS50ZXh0Q29udGVudCA9IGJsb2NrLnR5cGU7XG4gICAgICBcbiAgICAgIGNvbnN0IHN0YXR1c0JhZGdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgc3RhdHVzQmFkZ2UuY2xhc3NOYW1lID0gJ3RleHQtc2xhdGUtNDAwJztcbiAgICAgIHN0YXR1c0JhZGdlLnRleHRDb250ZW50ID0gYmxvY2suc3RhdHVzO1xuICAgICAgXG4gICAgICBtZXRhLmFwcGVuZENoaWxkKHR5cGVCYWRnZSk7XG4gICAgICBpZiAoaXNHcm91cCkge1xuICAgICAgICBjb25zdCBjaGlsZENvdW50ID0gKGJsb2NrLmNoaWxkcmVuIHx8IFtdKS5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGNoaWxkQmFkZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgIGNoaWxkQmFkZ2UuY2xhc3NOYW1lID0gJ3JvdW5kZWQtZnVsbCBiZy12aW9sZXQtMTAwIHB4LTIgcHktMC41IHRleHQtWzEwcHhdIGZvbnQtc2VtaWJvbGQgdGV4dC12aW9sZXQtNjAwJztcbiAgICAgICAgY2hpbGRCYWRnZS50ZXh0Q29udGVudCA9IGAke2NoaWxkQ291bnR9IFx1MDBFOWxcdTAwRTltZW50JHtjaGlsZENvdW50ICE9PSAxID8gJ3MnIDogJyd9YDtcbiAgICAgICAgbWV0YS5hcHBlbmRDaGlsZChjaGlsZEJhZGdlKTtcbiAgICAgIH1cbiAgICAgIG1ldGEuYXBwZW5kQ2hpbGQoc3RhdHVzQmFkZ2UpO1xuICAgICAgXG4gICAgICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICAgIHRpdGxlLmNsYXNzTmFtZSA9ICdtdC0xIHRleHQtc20gZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTkwMCc7XG4gICAgICBjb25zdCBkaXNwbGF5TGFiZWwgPSAoYmxvY2suc2V0dGluZ3MgJiYgYmxvY2suc2V0dGluZ3MudGl0bGUpIHx8IGJsb2NrLmxhYmVsIHx8ICdCbG9jIHNhbnMgdGl0cmUnO1xuICAgICAgdGl0bGUudGV4dENvbnRlbnQgPSBkaXNwbGF5TGFiZWw7XG4gICAgICBcbiAgICAgIHRleHRXcmFwcGVyLmFwcGVuZENoaWxkKG1ldGEpO1xuICAgICAgdGV4dFdyYXBwZXIuYXBwZW5kQ2hpbGQodGl0bGUpO1xuICAgICAgXG4gICAgICBpZiAoYmxvY2tUeXBlID09PSAnY29sbGVjdGlvbmdyaWQnICYmIGJsb2NrLmNvbGxlY3Rpb25JZCkge1xuICAgICAgICBjb25zdCBjb2xsZWN0aW9uTmFtZSA9IGRlc2lnbkNvbGxlY3Rpb25zLmZpbmQoKGVudHJ5KSA9PiBlbnRyeS5pZCA9PT0gYmxvY2suY29sbGVjdGlvbklkKT8ubmFtZSB8fCBibG9jay5jb2xsZWN0aW9uSWQ7XG4gICAgICAgIGNvbnN0IGluZm8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgICAgIGluZm8uY2xhc3NOYW1lID0gJ3RleHQteHMgdGV4dC1zbGF0ZS00MDAnO1xuICAgICAgICBpbmZvLnRleHRDb250ZW50ID0gYENvbGxlY3Rpb24gOiAke2NvbGxlY3Rpb25OYW1lfWA7XG4gICAgICAgIHRleHRXcmFwcGVyLmFwcGVuZENoaWxkKGluZm8pO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb250ZW50LmFwcGVuZENoaWxkKHRleHRXcmFwcGVyKTtcbiAgICAgIGl0ZW0uYXBwZW5kQ2hpbGQoY29udGVudCk7XG5cbiAgICAgIGNvbnN0IGFjdGlvbnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGFjdGlvbnMuY2xhc3NOYW1lID0gJ2ZsZXggZmxleC1jb2wgZ2FwLTEgdGV4dC14cyB0ZXh0LXNsYXRlLTQwMCc7XG5cbiAgICAgIGNvbnN0IG1vdmVCdXR0b25zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBtb3ZlQnV0dG9ucy5jbGFzc05hbWUgPSAnZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEgbGc6aGlkZGVuJztcbiAgICAgIGNvbnN0IG1vdmVVcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgbW92ZVVwLnR5cGUgPSAnYnV0dG9uJztcbiAgICAgIG1vdmVVcC5jbGFzc05hbWUgPSAncm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLXNsYXRlLTIwMCBweC0yIHB5LTEgdGV4dC1bMTFweF0gZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICBtb3ZlVXAudGV4dENvbnRlbnQgPSAnXHUyMTkxJztcbiAgICAgIG1vdmVVcC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgaWYgKHBhcmVudElkKSB7XG4gICAgICAgICAgbW92ZUNoaWxkQmxvY2tCeU9mZnNldChwYXJlbnRJZCwgYmxvY2suaWQsIC0xKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtb3ZlQmxvY2tCeU9mZnNldChibG9jay5pZCwgLTEpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGNvbnN0IG1vdmVEb3duID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICBtb3ZlRG93bi50eXBlID0gJ2J1dHRvbic7XG4gICAgICBtb3ZlRG93bi5jbGFzc05hbWUgPSAncm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLXNsYXRlLTIwMCBweC0yIHB5LTEgdGV4dC1bMTFweF0gZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICBtb3ZlRG93bi50ZXh0Q29udGVudCA9ICdcdTIxOTMnO1xuICAgICAgbW92ZURvd24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGlmIChwYXJlbnRJZCkge1xuICAgICAgICAgIG1vdmVDaGlsZEJsb2NrQnlPZmZzZXQocGFyZW50SWQsIGJsb2NrLmlkLCAxKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtb3ZlQmxvY2tCeU9mZnNldChibG9jay5pZCwgMSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgbW92ZUJ1dHRvbnMuYXBwZW5kQ2hpbGQobW92ZVVwKTtcbiAgICAgIG1vdmVCdXR0b25zLmFwcGVuZENoaWxkKG1vdmVEb3duKTtcbiAgICAgIGFjdGlvbnMuYXBwZW5kQ2hpbGQobW92ZUJ1dHRvbnMpO1xuXG4gICAgICBjb25zdCBkZWxldGVCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgIGRlbGV0ZUJ1dHRvbi50eXBlID0gJ2J1dHRvbic7XG4gICAgICBkZWxldGVCdXR0b24uY2xhc3NOYW1lID0gJ2lubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciByb3VuZGVkLWxnIGJvcmRlciBib3JkZXItdHJhbnNwYXJlbnQgcHgtMiBweS0xIHRleHQtWzEycHhdIHRleHQtcm9zZS01MDAgaG92ZXI6dGV4dC1yb3NlLTcwMCc7XG4gICAgICBkZWxldGVCdXR0b24uaW5uZXJIVE1MID0gJ1x1RDgzRFx1REREMVx1RkUwRic7XG4gICAgICBkZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGlmIChwYXJlbnRJZCkge1xuICAgICAgICAgIHJlbW92ZUNoaWxkRnJvbUdyb3VwKHBhcmVudElkLCBibG9jay5pZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb3BlbkJsb2NrRGVsZXRlTW9kYWwoYmxvY2suaWQpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgYWN0aW9ucy5hcHBlbmRDaGlsZChkZWxldGVCdXR0b24pO1xuICAgICAgaXRlbS5hcHBlbmRDaGlsZChhY3Rpb25zKTtcblxuICAgICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgc2V0QWN0aXZlQmxvY2soYmxvY2suaWQsIHBhcmVudElkKTtcbiAgICAgIH0pO1xuICAgICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmIChldmVudC5rZXkgPT09ICdFbnRlcicgfHwgZXZlbnQua2V5ID09PSAnICcpIHtcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIHNldEFjdGl2ZUJsb2NrKGJsb2NrLmlkLCBwYXJlbnRJZCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgXG4gICAgICByZXR1cm4geyBpdGVtLCBpc0dyb3VwLCBibG9jayB9O1xuICAgIH07XG4gICAgXG4gICAgLy8gRm9uY3Rpb24gcG91ciBjclx1MDBFOWVyIGxhIHpvbmUgZGUgZHJvcCBwb3VyIHVuIGdyb3VwZVxuICAgIGNvbnN0IGNyZWF0ZUdyb3VwRHJvcFpvbmUgPSAocGFyZW50QmxvY2spID0+IHtcbiAgICAgIGNvbnN0IGRyb3Bab25lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBkcm9wWm9uZS5kYXRhc2V0Lmdyb3VwRHJvcFpvbmUgPSBwYXJlbnRCbG9jay5pZDtcbiAgICAgIGRyb3Bab25lLmNsYXNzTmFtZSA9ICdtbC02IGJvcmRlci0yIGJvcmRlci1kYXNoZWQgYm9yZGVyLXNsYXRlLTIwMCByb3VuZGVkLXhsIHAtMyB0ZXh0LWNlbnRlciB0ZXh0LXhzIHRleHQtc2xhdGUtNDAwIGhvdmVyOmJvcmRlci12aW9sZXQtMzAwIGhvdmVyOmJnLXZpb2xldC01MC81MCB0cmFuc2l0aW9uLWNvbG9ycyBjdXJzb3ItcG9pbnRlcic7XG4gICAgICBkcm9wWm9uZS5pbm5lckhUTUwgPSAnPHNwYW4gY2xhc3M9XCJwb2ludGVyLWV2ZW50cy1ub25lXCI+XHVEODNEXHVEQ0U2IEdsaXNzZXogdW4gYmxvYyBpY2kgb3UgY2xpcXVleiBwb3VyIGFqb3V0ZXI8L3NwYW4+JztcbiAgICAgIFxuICAgICAgLy8gXHUwMEM5dlx1MDBFOW5lbWVudHMgZGUgZHJhZyAmIGRyb3BcbiAgICAgIGRyb3Bab25lLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgKGUpID0+IHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBkcm9wWm9uZS5jbGFzc0xpc3QuYWRkKCdib3JkZXItdmlvbGV0LTQwMCcsICdiZy12aW9sZXQtNTAnKTtcbiAgICAgIH0pO1xuICAgICAgZHJvcFpvbmUuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2xlYXZlJywgKGUpID0+IHtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgZHJvcFpvbmUuY2xhc3NMaXN0LnJlbW92ZSgnYm9yZGVyLXZpb2xldC00MDAnLCAnYmctdmlvbGV0LTUwJyk7XG4gICAgICB9KTtcbiAgICAgIGRyb3Bab25lLmFkZEV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCAoZSkgPT4ge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGRyb3Bab25lLmNsYXNzTGlzdC5yZW1vdmUoJ2JvcmRlci12aW9sZXQtNDAwJywgJ2JnLXZpb2xldC01MCcpO1xuICAgICAgICBjb25zdCBibG9ja0lkID0gZS5kYXRhVHJhbnNmZXIuZ2V0RGF0YSgndGV4dC9wbGFpbicpO1xuICAgICAgICBpZiAoYmxvY2tJZCAmJiBibG9ja0lkICE9PSBwYXJlbnRCbG9jay5pZCkge1xuICAgICAgICAgIG1vdmVCbG9ja1RvR3JvdXAoYmxvY2tJZCwgcGFyZW50QmxvY2suaWQpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgLy8gQ2xpYyBwb3VyIGFqb3V0ZXIgdW4gYmxvYyBhdSBncm91cGVcbiAgICAgIGRyb3Bab25lLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBvcGVuQWRkQmxvY2tUb0dyb3VwTW9kYWwocGFyZW50QmxvY2suaWQpO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIHJldHVybiBkcm9wWm9uZTtcbiAgICB9O1xuXG4gICAgY29uc3QgcmVuZGVyQmxvY2tMaXN0ID0gKHBhZ2UpID0+IHtcbiAgICAgIGlmICghYmxvY2tMaXN0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGJsb2NrTGlzdC5pbm5lckhUTUwgPSAnJztcbiAgICAgIGNvbnN0IGJsb2NrcyA9IHBhZ2U/LmJsb2NrcyB8fCBbXTtcbiAgICAgIGlmIChibG9ja0NvdW50QmFkZ2UpIHtcbiAgICAgICAgYmxvY2tDb3VudEJhZGdlLnRleHRDb250ZW50ID0gZm9ybWF0QmxvY2tDb3VudChibG9ja3MubGVuZ3RoKTtcbiAgICAgIH1cbiAgICAgIGlmIChibG9ja3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGJsb2NrTGlzdC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgYmxvY2tMaXN0RW1wdHk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBibG9ja0xpc3QuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBibG9ja0xpc3RFbXB0eT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBcbiAgICAgIGJsb2Nrcy5mb3JFYWNoKChibG9jaykgPT4ge1xuICAgICAgICBjb25zdCB7IGl0ZW0sIGlzR3JvdXAgfSA9IGNyZWF0ZUJsb2NrSXRlbUVsZW1lbnQoYmxvY2ssIGZhbHNlLCBudWxsKTtcbiAgICAgICAgYmxvY2tMaXN0LmFwcGVuZENoaWxkKGl0ZW0pO1xuICAgICAgICBcbiAgICAgICAgLy8gU2kgYydlc3QgdW4gZ3JvdXBlLCBhZmZpY2hlciBsZXMgZW5mYW50cyBldCBsYSB6b25lIGRlIGRyb3BcbiAgICAgICAgaWYgKGlzR3JvdXApIHtcbiAgICAgICAgICBjb25zdCBjaGlsZHJlbiA9IGJsb2NrLmNoaWxkcmVuIHx8IFtdO1xuICAgICAgICAgIGNoaWxkcmVuLmZvckVhY2goKGNoaWxkKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IGl0ZW06IGNoaWxkSXRlbSB9ID0gY3JlYXRlQmxvY2tJdGVtRWxlbWVudChjaGlsZCwgdHJ1ZSwgYmxvY2suaWQpO1xuICAgICAgICAgICAgYmxvY2tMaXN0LmFwcGVuZENoaWxkKGNoaWxkSXRlbSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgLy8gWm9uZSBkZSBkcm9wIHBvdXIgYWpvdXRlciBkZXMgYmxvY3MgYXUgZ3JvdXBlXG4gICAgICAgICAgY29uc3QgZHJvcFpvbmUgPSBjcmVhdGVHcm91cERyb3Bab25lKGJsb2NrKTtcbiAgICAgICAgICBibG9ja0xpc3QuYXBwZW5kQ2hpbGQoZHJvcFpvbmUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuICAgIFxuICAgIC8vIEZvbmN0aW9ucyBwb3VyIGdcdTAwRTlyZXIgbGVzIGVuZmFudHMgZGVzIGdyb3VwZXNcbiAgICBjb25zdCBtb3ZlQmxvY2tUb0dyb3VwID0gKGJsb2NrSWQsIGdyb3VwSWQpID0+IHtcbiAgICAgIGlmICghY3VycmVudFBhZ2UpIHJldHVybjtcbiAgICAgIGNvbnN0IGJsb2NrSW5kZXggPSBjdXJyZW50UGFnZS5ibG9ja3MuZmluZEluZGV4KChiKSA9PiBiLmlkID09PSBibG9ja0lkKTtcbiAgICAgIGNvbnN0IGdyb3VwQmxvY2sgPSBjdXJyZW50UGFnZS5ibG9ja3MuZmluZCgoYikgPT4gYi5pZCA9PT0gZ3JvdXBJZCk7XG4gICAgICBpZiAoYmxvY2tJbmRleCA9PT0gLTEgfHwgIWdyb3VwQmxvY2spIHJldHVybjtcbiAgICAgIFxuICAgICAgLy8gTmUgcGFzIHBlcm1ldHRyZSBkZSBkXHUwMEU5cGxhY2VyIHVuIGdyb3VwZSBkYW5zIHVuIGdyb3VwZVxuICAgICAgY29uc3QgYmxvY2sgPSBjdXJyZW50UGFnZS5ibG9ja3NbYmxvY2tJbmRleF07XG4gICAgICBjb25zdCBibG9ja1R5cGUgPSAoYmxvY2sudHlwZSB8fCAnJykudG9Mb3dlckNhc2UoKTtcbiAgICAgIGlmIChibG9ja1R5cGUgPT09ICdncm91cGUnIHx8IGJsb2NrVHlwZSA9PT0gJ2dyb3VwJykge1xuICAgICAgICBzaG93VG9hc3QoJ0ltcG9zc2libGUgZFxcJ2ltYnJpcXVlciBkZXMgZ3JvdXBlcycsICdlcnJvcicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFJldGlyZXIgbGUgYmxvYyBkZSBsYSBsaXN0ZSBwcmluY2lwYWxlXG4gICAgICBjb25zdCBbbW92ZWRCbG9ja10gPSBjdXJyZW50UGFnZS5ibG9ja3Muc3BsaWNlKGJsb2NrSW5kZXgsIDEpO1xuICAgICAgXG4gICAgICAvLyBBam91dGVyIGF1IGdyb3VwZVxuICAgICAgaWYgKCFncm91cEJsb2NrLmNoaWxkcmVuKSBncm91cEJsb2NrLmNoaWxkcmVuID0gW107XG4gICAgICBncm91cEJsb2NrLmNoaWxkcmVuLnB1c2gobW92ZWRCbG9jayk7XG4gICAgICBcbiAgICAgIHJlbmRlckJsb2NrTGlzdChjdXJyZW50UGFnZSk7XG4gICAgICBzYXZlUGFnZUJsb2NrcygpO1xuICAgICAgc2hvd1RvYXN0KGBCbG9jIGFqb3V0XHUwMEU5IGF1IGdyb3VwZWApO1xuICAgIH07XG4gICAgXG4gICAgY29uc3QgcmVtb3ZlQ2hpbGRGcm9tR3JvdXAgPSAoZ3JvdXBJZCwgY2hpbGRJZCkgPT4ge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSkgcmV0dXJuO1xuICAgICAgY29uc3QgZ3JvdXBCbG9jayA9IGN1cnJlbnRQYWdlLmJsb2Nrcy5maW5kKChiKSA9PiBiLmlkID09PSBncm91cElkKTtcbiAgICAgIGlmICghZ3JvdXBCbG9jayB8fCAhZ3JvdXBCbG9jay5jaGlsZHJlbikgcmV0dXJuO1xuICAgICAgXG4gICAgICBjb25zdCBjaGlsZEluZGV4ID0gZ3JvdXBCbG9jay5jaGlsZHJlbi5maW5kSW5kZXgoKGMpID0+IGMuaWQgPT09IGNoaWxkSWQpO1xuICAgICAgaWYgKGNoaWxkSW5kZXggPT09IC0xKSByZXR1cm47XG4gICAgICBcbiAgICAgIC8vIFJldGlyZXIgbCdlbmZhbnQgZHUgZ3JvdXBlIGV0IGxlIHJlbWV0dHJlIGRhbnMgbGEgbGlzdGUgcHJpbmNpcGFsZSBhcHJcdTAwRThzIGxlIGdyb3VwZVxuICAgICAgY29uc3QgW2NoaWxkXSA9IGdyb3VwQmxvY2suY2hpbGRyZW4uc3BsaWNlKGNoaWxkSW5kZXgsIDEpO1xuICAgICAgY29uc3QgZ3JvdXBJbmRleCA9IGN1cnJlbnRQYWdlLmJsb2Nrcy5maW5kSW5kZXgoKGIpID0+IGIuaWQgPT09IGdyb3VwSWQpO1xuICAgICAgY3VycmVudFBhZ2UuYmxvY2tzLnNwbGljZShncm91cEluZGV4ICsgMSwgMCwgY2hpbGQpO1xuICAgICAgXG4gICAgICByZW5kZXJCbG9ja0xpc3QoY3VycmVudFBhZ2UpO1xuICAgICAgc2F2ZVBhZ2VCbG9ja3MoKTtcbiAgICAgIHNob3dUb2FzdChgQmxvYyBzb3J0aSBkdSBncm91cGVgKTtcbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IG1vdmVDaGlsZEJsb2NrQnlPZmZzZXQgPSAoZ3JvdXBJZCwgY2hpbGRJZCwgb2Zmc2V0KSA9PiB7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlKSByZXR1cm47XG4gICAgICBjb25zdCBncm91cEJsb2NrID0gY3VycmVudFBhZ2UuYmxvY2tzLmZpbmQoKGIpID0+IGIuaWQgPT09IGdyb3VwSWQpO1xuICAgICAgaWYgKCFncm91cEJsb2NrIHx8ICFncm91cEJsb2NrLmNoaWxkcmVuKSByZXR1cm47XG4gICAgICBcbiAgICAgIGNvbnN0IGN1cnJlbnRJbmRleCA9IGdyb3VwQmxvY2suY2hpbGRyZW4uZmluZEluZGV4KChjKSA9PiBjLmlkID09PSBjaGlsZElkKTtcbiAgICAgIGlmIChjdXJyZW50SW5kZXggPT09IC0xKSByZXR1cm47XG4gICAgICBcbiAgICAgIGNvbnN0IG5ld0luZGV4ID0gY3VycmVudEluZGV4ICsgb2Zmc2V0O1xuICAgICAgaWYgKG5ld0luZGV4IDwgMCB8fCBuZXdJbmRleCA+PSBncm91cEJsb2NrLmNoaWxkcmVuLmxlbmd0aCkgcmV0dXJuO1xuICAgICAgXG4gICAgICBjb25zdCBbY2hpbGRdID0gZ3JvdXBCbG9jay5jaGlsZHJlbi5zcGxpY2UoY3VycmVudEluZGV4LCAxKTtcbiAgICAgIGdyb3VwQmxvY2suY2hpbGRyZW4uc3BsaWNlKG5ld0luZGV4LCAwLCBjaGlsZCk7XG4gICAgICBcbiAgICAgIHJlbmRlckJsb2NrTGlzdChjdXJyZW50UGFnZSk7XG4gICAgICBzYXZlUGFnZUJsb2NrcygpO1xuICAgIH07XG4gICAgXG4gICAgY29uc3Qgb3BlbkFkZEJsb2NrVG9Hcm91cE1vZGFsID0gKGdyb3VwSWQpID0+IHtcbiAgICAgIC8vIFV0aWxpc2VyIGxlIG1cdTAwRUFtZSBtb2RhbCBkJ2Fqb3V0IGRlIGJsb2MsIG1haXMgYXZlYyBsZSBjb250ZXh0ZSBkdSBncm91cGVcbiAgICAgIHBlbmRpbmdHcm91cElkRm9yTmV3QmxvY2sgPSBncm91cElkO1xuICAgICAgb3BlbkJsb2NrUGlja2VyKCk7XG4gICAgfTtcbiAgICBcbiAgICBsZXQgcGVuZGluZ0dyb3VwSWRGb3JOZXdCbG9jayA9IG51bGw7XG5cbiAgICAvLyA9PT0gRGVsZXRlIHBhZ2UgaGFuZGxlcnMgKGRlZmluZWQgYmVmb3JlIHJlbmRlclBhZ2VMaXN0cykgPT09XG4gICAgY29uc3Qgb3BlbkRlbGV0ZVBhZ2VNb2RhbCA9IChwYWdlKSA9PiB7XG4gICAgICBpZiAoIWRlbGV0ZVBhZ2VNb2RhbCB8fCAhcGFnZSkgcmV0dXJuO1xuICAgICAgcGFnZVRvRGVsZXRlID0gcGFnZTtcbiAgICAgIGlmIChkZWxldGVQYWdlTmFtZSkgZGVsZXRlUGFnZU5hbWUudGV4dENvbnRlbnQgPSBwYWdlLnRpdGxlIHx8IHBhZ2UuaWQ7XG4gICAgICBkZWxldGVQYWdlTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBkZWxldGVQYWdlTW9kYWwuY2xhc3NMaXN0LmFkZCgnZmxleCcpO1xuICAgICAgYWN0aXZhdGVNb2RhbChkZWxldGVQYWdlTW9kYWwsIGNsb3NlRGVsZXRlUGFnZU1vZGFsKTtcbiAgICB9O1xuICAgIGNvbnN0IGNsb3NlRGVsZXRlUGFnZU1vZGFsID0gKCkgPT4ge1xuICAgICAgaWYgKCFkZWxldGVQYWdlTW9kYWwpIHJldHVybjtcbiAgICAgIGRlbGV0ZVBhZ2VNb2RhbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGRlbGV0ZVBhZ2VNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdmbGV4Jyk7XG4gICAgICBwYWdlVG9EZWxldGUgPSBudWxsO1xuICAgICAgZGVhY3RpdmF0ZU1vZGFsKGRlbGV0ZVBhZ2VNb2RhbCk7XG4gICAgfTtcbiAgICBjb25zdCBleGVjdXRlRGVsZXRlUGFnZSA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghcGFnZXNBcGlCYXNlIHx8ICFwYWdlVG9EZWxldGUpIHJldHVybjtcbiAgICAgIGNvbnN0IHBhZ2VJZCA9IHBhZ2VUb0RlbGV0ZS5pZDtcbiAgICAgIGNvbnN0IHBhZ2VUaXRsZSA9IHBhZ2VUb0RlbGV0ZS50aXRsZSB8fCBwYWdlSWQ7XG4gICAgICBpZiAoZGVsZXRlUGFnZUNvbmZpcm0pIHtcbiAgICAgICAgZGVsZXRlUGFnZUNvbmZpcm0uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICBkZWxldGVQYWdlQ29uZmlybS50ZXh0Q29udGVudCA9ICdTdXBwcmVzc2lvbi4uLic7XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke3BhZ2VzQXBpQmFzZX0vJHtlbmNvZGVVUklDb21wb25lbnQocGFnZUlkKX1gLCB7XG4gICAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgICAgICBjcmVkZW50aWFsczogJ2luY2x1ZGUnLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5tZXNzYWdlIHx8ICdFcnJldXIgc2VydmV1cicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFN1cHByaW1lciBkZSBsYSBsaXN0ZSBsb2NhbGVcbiAgICAgICAgcGFnZXMgPSBwYWdlcy5maWx0ZXIoKHApID0+IHAuaWQgIT09IHBhZ2VJZCk7XG4gICAgICAgIC8vIFNpIGxhIHBhZ2Ugc3VwcHJpbVx1MDBFOWUgXHUwMEU5dGFpdCBhY3RpdmUsIHNcdTAwRTlsZWN0aW9ubmVyIGxhIHByZW1pXHUwMEU4cmVcbiAgICAgICAgaWYgKGFjdGl2ZVBhZ2VJZCA9PT0gcGFnZUlkKSB7XG4gICAgICAgICAgaWYgKHBhZ2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHNldEFjdGl2ZVBhZ2UocGFnZXNbMF0uaWQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhY3RpdmVQYWdlSWQgPSBudWxsO1xuICAgICAgICAgICAgY3VycmVudFBhZ2UgPSBudWxsO1xuICAgICAgICAgICAgcmVuZGVyUGFnZUxpc3RzKHBhZ2VzLCBudWxsKTtcbiAgICAgICAgICAgIHJlbmRlckJsb2NrTGlzdChudWxsKTtcbiAgICAgICAgICAgIGJsb2NrRGV0YWlsRW1wdHk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgICAgYmxvY2tFZGl0b3I/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICAgICAgcHJldmlld0ZyYW1lICYmIChwcmV2aWV3RnJhbWUuc3JjZG9jID0gZ2V0TG9hZGluZ1ByZXZpZXdIdG1sKCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZW5kZXJQYWdlTGlzdHMocGFnZXMsIGFjdGl2ZVBhZ2VJZCk7XG4gICAgICAgIH1cbiAgICAgICAgY2xvc2VEZWxldGVQYWdlTW9kYWwoKTtcbiAgICAgICAgc2hvd1RvYXN0KGBQYWdlIFwiJHtwYWdlVGl0bGV9XCIgc3VwcHJpbVx1MDBFOWVgKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbcGFnZXNdIGRlbGV0ZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBzdXBwcmVzc2lvbicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKGRlbGV0ZVBhZ2VDb25maXJtKSB7XG4gICAgICAgICAgZGVsZXRlUGFnZUNvbmZpcm0uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICBkZWxldGVQYWdlQ29uZmlybS50ZXh0Q29udGVudCA9ICdTdXBwcmltZXInO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHJlbmRlclBhZ2VMaXN0cyA9IChwYWdlcywgYWN0aXZlSWQpID0+IHtcbiAgICAgIHBhZ2VMaXN0cy5mb3JFYWNoKChsaXN0KSA9PiB7XG4gICAgICAgIGxpc3QuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgIHBhZ2VzLmZvckVhY2goKHBhZ2UpID0+IHtcbiAgICAgICAgICBjb25zdCBpdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgICBpdGVtLmNsYXNzTmFtZSA9ICdmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMSc7XG4gICAgICAgICAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgICAgYnV0dG9uLnR5cGUgPSAnYnV0dG9uJztcbiAgICAgICAgICBidXR0b24uZGF0YXNldC5wYWdlSWQgPSBwYWdlLmlkO1xuICAgICAgICAgIGJ1dHRvbi5jbGFzc05hbWUgPSBbXG4gICAgICAgICAgICAnZmxleC0xIGZsZXggaXRlbXMtY2VudGVyIGdhcC0zIHB4LTMgcHktMiB0ZXh0LWxlZnQgdHJhbnNpdGlvbicsXG4gICAgICAgICAgICBhY3RpdmVJZCA9PT0gcGFnZS5pZFxuICAgICAgICAgICAgICA/ICdiZy1bIzlDNkJGRl0vMTAgdGV4dC1zbGF0ZS05MDAgYm9yZGVyIGJvcmRlci1bIzlDNkJGRl0vNDAgcm91bmRlZC14bCBzaGFkb3ctc20nXG4gICAgICAgICAgICAgIDogJ3RleHQtc2xhdGUtNzAwIGhvdmVyOmJnLXNsYXRlLTUwIHJvdW5kZWQteGwnLFxuICAgICAgICAgIF0uam9pbignICcpO1xuICAgICAgICAgIGlmIChhY3RpdmVJZCA9PT0gcGFnZS5pZCkge1xuICAgICAgICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZSgnYXJpYS1jdXJyZW50JywgJ3BhZ2UnKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYnV0dG9uLnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1jdXJyZW50Jyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIFVzZSBwYWdlLm5hbWUgKHNob3J0IG5hbWUpIGlmIGF2YWlsYWJsZSwgZmFsbGJhY2sgdG8gdGl0bGVcbiAgICAgICAgICBjb25zdCBkaXNwbGF5TmFtZSA9IHBhZ2UubmFtZSB8fCBwYWdlLnRpdGxlO1xuICAgICAgICAgIGNvbnN0IGlzSGlkZGVuRnJvbU5hdiA9IHBhZ2UuYWNjZXNzaWJpbGl0eT8uc2hvd0luTWFpbk5hdiA9PT0gZmFsc2U7XG4gICAgICAgICAgY29uc3QgbmF2QmFkZ2UgPSBpc0hpZGRlbkZyb21OYXZcbiAgICAgICAgICAgID8gJzxzcGFuIGNsYXNzPVwidGV4dC1bMTBweF0gZm9udC1zZW1pYm9sZCB0ZXh0LWFtYmVyLTYwMFwiPk1hc3F1XHUwMEU5IGR1IG1lbnU8L3NwYW4+J1xuICAgICAgICAgICAgOiAnJztcbiAgICAgICAgICBidXR0b24uaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJmbGV4IGgtOSB3LTkgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHJvdW5kZWQteGwgYm9yZGVyIGJvcmRlci1zbGF0ZS0yMDAgYmctd2hpdGUgdGV4dC1zbGF0ZS01MDBcIj5cbiAgICAgICAgICAgICAgPHN2ZyB3aWR0aD1cIjE4XCIgaGVpZ2h0PVwiMThcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBhcmlhLWhpZGRlbj1cInRydWVcIj5cbiAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTYuNSA0LjVoN2w0IDR2MTFhMSAxIDAgMCAxLTEgMWgtMTBhMSAxIDAgMCAxLTEtMXYtMTRhMSAxIDAgMCAxIDEtMVpcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIxLjRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiLz5cbiAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTEzLjUgNC41djRhMSAxIDAgMCAwIDEgMWgzXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMS40XCIvPlxuICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC1zbSBmb250LXNlbWlib2xkXCI+JHtkaXNwbGF5TmFtZX08L3NwYW4+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC14cyB0ZXh0LXNsYXRlLTUwMFwiPiR7cGFnZS5zbHVnfTwvc3Bhbj5cbiAgICAgICAgICAgICAgJHtuYXZCYWRnZX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIGA7XG4gICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgc2V0QWN0aXZlUGFnZShwYWdlLmlkKTtcbiAgICAgICAgICAgIGlmICghaXNEZXNrdG9wRHJhd2VyKCkpIHtcbiAgICAgICAgICAgICAgY2xvc2VEcmF3ZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpdGVtLmFwcGVuZENoaWxkKGJ1dHRvbik7XG4gICAgICAgICAgLy8gQm91dG9uIGRlIHN1cHByZXNzaW9uXG4gICAgICAgICAgY29uc3QgZGVsZXRlQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgICAgZGVsZXRlQnRuLnR5cGUgPSAnYnV0dG9uJztcbiAgICAgICAgICBkZWxldGVCdG4uY2xhc3NOYW1lID0gJ2ZsZXgtc2hyaW5rLTAgcC0yIHRleHQtc2xhdGUtNDAwIGhvdmVyOnRleHQtcm9zZS02MDAgaG92ZXI6Ymctcm9zZS01MCByb3VuZGVkLWxnIHRyYW5zaXRpb24nO1xuICAgICAgICAgIGRlbGV0ZUJ0bi50aXRsZSA9ICdTdXBwcmltZXIgY2V0dGUgcGFnZSc7XG4gICAgICAgICAgZGVsZXRlQnRuLnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIGBTdXBwcmltZXIgJHtkaXNwbGF5TmFtZX1gKTtcbiAgICAgICAgICBkZWxldGVCdG4uaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgPHN2ZyB3aWR0aD1cIjE2XCIgaGVpZ2h0PVwiMTZcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCI+XG4gICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMyA2aDE4TTggNlY0YTIgMiAwIDAgMSAyLTJoNGEyIDIgMCAwIDEgMiAydjJtMyAwdjE0YTIgMiAwIDAgMS0yIDJIN2EyIDIgMCAwIDEtMi0yVjZoMTRaTTEwIDExdjZNMTQgMTF2NlwiLz5cbiAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgIGA7XG4gICAgICAgICAgZGVsZXRlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICBvcGVuRGVsZXRlUGFnZU1vZGFsKHBhZ2UpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGl0ZW0uYXBwZW5kQ2hpbGQoZGVsZXRlQnRuKTtcbiAgICAgICAgICBsaXN0LmFwcGVuZENoaWxkKGl0ZW0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgY29uc3QgZ2V0QWN0aXZlQmxvY2sgPSAoKSA9PiB7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlIHx8ICFBcnJheS5pc0FycmF5KGN1cnJlbnRQYWdlLmJsb2NrcykpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICAvLyBDaGVyY2hlciBsZSBibG9jIGRhbnMgbGEgbGlzdGUgcHJpbmNpcGFsZSBvdSBkYW5zIGxlcyBlbmZhbnRzIGRlcyBncm91cGVzXG4gICAgICBsZXQgYmxvY2sgPSBjdXJyZW50UGFnZS5ibG9ja3MuZmluZCgoYmxvY2spID0+IGJsb2NrLmlkID09PSBhY3RpdmVCbG9ja0lkKTtcbiAgICAgIGlmICghYmxvY2spIHtcbiAgICAgICAgZm9yIChjb25zdCBiIG9mIGN1cnJlbnRQYWdlLmJsb2Nrcykge1xuICAgICAgICAgIGlmIChiLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBibG9jayA9IGIuY2hpbGRyZW4uZmluZCgoY2hpbGQpID0+IGNoaWxkLmlkID09PSBhY3RpdmVCbG9ja0lkKTtcbiAgICAgICAgICAgIGlmIChibG9jaykgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gYmxvY2sgfHwgbnVsbDtcbiAgICB9O1xuICAgIFxuICAgIC8vIFZhcmlhYmxlIHBvdXIgc3RvY2tlciBsZSBwYXJlbnQgZHUgYmxvYyBhY3RpZiAoc2kgYydlc3QgdW4gZW5mYW50IGRlIGdyb3VwZSlcbiAgICBsZXQgYWN0aXZlQmxvY2tQYXJlbnRJZCA9IG51bGw7XG4gICAgXG4gICAgY29uc3Qgc2V0QWN0aXZlQmxvY2sgPSAoYmxvY2tJZCwgcGFyZW50SWQgPSBudWxsKSA9PiB7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghYmxvY2tJZCkge1xuICAgICAgICBhY3RpdmVCbG9ja0lkID0gbnVsbDtcbiAgICAgICAgYWN0aXZlQmxvY2tQYXJlbnRJZCA9IG51bGw7XG4gICAgICAgIHJlbmRlckJsb2NrTGlzdChjdXJyZW50UGFnZSk7XG4gICAgICAgIHJlbmRlckJsb2NrRGV0YWlscyhudWxsKTtcbiAgICAgICAgYXBwbHlQcmV2aWV3SGlnaGxpZ2h0KG51bGwpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBcbiAgICAgIGxldCB0YXJnZXRCbG9jayA9IG51bGw7XG4gICAgICBcbiAgICAgIC8vIENoZXJjaGVyIGRhbnMgbGVzIGJsb2NzIHByaW5jaXBhdXhcbiAgICAgIHRhcmdldEJsb2NrID0gY3VycmVudFBhZ2UuYmxvY2tzLmZpbmQoKGJsb2NrKSA9PiBibG9jay5pZCA9PT0gYmxvY2tJZCk7XG4gICAgICBcbiAgICAgIC8vIFNpIHBhcyB0cm91dlx1MDBFOSBldCBxdSdvbiBhIHVuIHBhcmVudElkLCBjaGVyY2hlciBkYW5zIGxlcyBlbmZhbnRzIGR1IHBhcmVudFxuICAgICAgaWYgKCF0YXJnZXRCbG9jayAmJiBwYXJlbnRJZCkge1xuICAgICAgICBjb25zdCBwYXJlbnRCbG9jayA9IGN1cnJlbnRQYWdlLmJsb2Nrcy5maW5kKChiKSA9PiBiLmlkID09PSBwYXJlbnRJZCk7XG4gICAgICAgIGlmIChwYXJlbnRCbG9jayAmJiBwYXJlbnRCbG9jay5jaGlsZHJlbikge1xuICAgICAgICAgIHRhcmdldEJsb2NrID0gcGFyZW50QmxvY2suY2hpbGRyZW4uZmluZCgoY2hpbGQpID0+IGNoaWxkLmlkID09PSBibG9ja0lkKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBTaW5vbiBjaGVyY2hlciBkYW5zIHRvdXMgbGVzIGdyb3VwZXNcbiAgICAgIGlmICghdGFyZ2V0QmxvY2spIHtcbiAgICAgICAgZm9yIChjb25zdCBiIG9mIGN1cnJlbnRQYWdlLmJsb2Nrcykge1xuICAgICAgICAgIGlmIChiLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBjb25zdCBmb3VuZCA9IGIuY2hpbGRyZW4uZmluZCgoY2hpbGQpID0+IGNoaWxkLmlkID09PSBibG9ja0lkKTtcbiAgICAgICAgICAgIGlmIChmb3VuZCkge1xuICAgICAgICAgICAgICB0YXJnZXRCbG9jayA9IGZvdW5kO1xuICAgICAgICAgICAgICBwYXJlbnRJZCA9IGIuaWQ7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBGYWxsYmFjayBzdXIgbGUgcHJlbWllciBibG9jXG4gICAgICBpZiAoIXRhcmdldEJsb2NrKSB7XG4gICAgICAgIHRhcmdldEJsb2NrID0gY3VycmVudFBhZ2UuYmxvY2tzWzBdIHx8IG51bGw7XG4gICAgICAgIHBhcmVudElkID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgYWN0aXZlQmxvY2tJZCA9IHRhcmdldEJsb2NrPy5pZCB8fCBudWxsO1xuICAgICAgYWN0aXZlQmxvY2tQYXJlbnRJZCA9IHBhcmVudElkO1xuICAgICAgcmVuZGVyQmxvY2tMaXN0KGN1cnJlbnRQYWdlKTtcbiAgICAgIHJlbmRlckJsb2NrRGV0YWlscyh0YXJnZXRCbG9jayk7XG4gICAgICBhcHBseVByZXZpZXdIaWdobGlnaHQoYWN0aXZlQmxvY2tJZCk7XG4gICAgfTtcbiAgICBjb25zdCB1cGRhdGVDdXJyZW50UGFnZUJsb2NrcyA9IChuZXdCbG9ja3MpID0+IHtcbiAgICAgIGlmICghY3VycmVudFBhZ2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgbmV4dFBhZ2UgPSB7IC4uLmN1cnJlbnRQYWdlLCBibG9ja3M6IG5ld0Jsb2NrcyB9O1xuICAgICAgdXBkYXRlQ3VycmVudFBhZ2VTdGF0ZShuZXh0UGFnZSk7XG4gICAgfTtcbiAgICBjb25zdCBpc0Rlc2t0b3BSZW9yZGVyID0gKCkgPT4gd2luZG93Lm1hdGNoTWVkaWEoJyhtaW4td2lkdGg6IDEwMjRweCknKS5tYXRjaGVzO1xuICAgIGZ1bmN0aW9uIG1vdmVCbG9ja0J5T2Zmc2V0KGJsb2NrSWQsIG9mZnNldCkge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSB8fCAhYmxvY2tJZCB8fCAhb2Zmc2V0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGJsb2NrcyA9IFsuLi4oY3VycmVudFBhZ2UuYmxvY2tzIHx8IFtdKV07XG4gICAgICBjb25zdCBpbmRleCA9IGJsb2Nrcy5maW5kSW5kZXgoKGJsb2NrKSA9PiBibG9jay5pZCA9PT0gYmxvY2tJZCk7XG4gICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG5ld0luZGV4ID0gaW5kZXggKyBvZmZzZXQ7XG4gICAgICBpZiAobmV3SW5kZXggPCAwIHx8IG5ld0luZGV4ID49IGJsb2Nrcy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgW21vdmVkXSA9IGJsb2Nrcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgYmxvY2tzLnNwbGljZShuZXdJbmRleCwgMCwgbW92ZWQpO1xuICAgICAgdXBkYXRlQ3VycmVudFBhZ2VCbG9ja3MoYmxvY2tzKTtcbiAgICAgIHNldEFjdGl2ZVBhZ2UoY3VycmVudFBhZ2UuaWQsIHsgcHJlc2VydmVCbG9jazogdHJ1ZSB9KTtcbiAgICAgIHNldEFjdGl2ZUJsb2NrKG1vdmVkLmlkKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVvcmRlckJsb2Nrcyhzb3VyY2VJZCwgdGFyZ2V0SWQpIHtcbiAgICAgIGlmICghY3VycmVudFBhZ2UgfHwgIXNvdXJjZUlkIHx8ICF0YXJnZXRJZCB8fCBzb3VyY2VJZCA9PT0gdGFyZ2V0SWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgYmxvY2tzID0gWy4uLihjdXJyZW50UGFnZS5ibG9ja3MgfHwgW10pXTtcbiAgICAgIGNvbnN0IGZyb21JbmRleCA9IGJsb2Nrcy5maW5kSW5kZXgoKGJsb2NrKSA9PiBibG9jay5pZCA9PT0gc291cmNlSWQpO1xuICAgICAgY29uc3QgdG9JbmRleCA9IGJsb2Nrcy5maW5kSW5kZXgoKGJsb2NrKSA9PiBibG9jay5pZCA9PT0gdGFyZ2V0SWQpO1xuICAgICAgaWYgKGZyb21JbmRleCA8IDAgfHwgdG9JbmRleCA8IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgW21vdmVkXSA9IGJsb2Nrcy5zcGxpY2UoZnJvbUluZGV4LCAxKTtcbiAgICAgIGJsb2Nrcy5zcGxpY2UodG9JbmRleCwgMCwgbW92ZWQpO1xuICAgICAgdXBkYXRlQ3VycmVudFBhZ2VCbG9ja3MoYmxvY2tzKTtcbiAgICAgIHNldEFjdGl2ZVBhZ2UoY3VycmVudFBhZ2UuaWQsIHsgcHJlc2VydmVCbG9jazogdHJ1ZSB9KTtcbiAgICAgIHNldEFjdGl2ZUJsb2NrKG1vdmVkLmlkKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVvcmRlckJsb2Nrc1dpdGhQb3NpdGlvbihzb3VyY2VJZCwgdGFyZ2V0SWQsIHBvc2l0aW9uKSB7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlIHx8ICFzb3VyY2VJZCB8fCAhdGFyZ2V0SWQgfHwgc291cmNlSWQgPT09IHRhcmdldElkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGJsb2NrcyA9IFsuLi4oY3VycmVudFBhZ2UuYmxvY2tzIHx8IFtdKV07XG4gICAgICBjb25zdCBmcm9tSW5kZXggPSBibG9ja3MuZmluZEluZGV4KChibG9jaykgPT4gYmxvY2suaWQgPT09IHNvdXJjZUlkKTtcbiAgICAgIGxldCB0b0luZGV4ID0gYmxvY2tzLmZpbmRJbmRleCgoYmxvY2spID0+IGJsb2NrLmlkID09PSB0YXJnZXRJZCk7XG4gICAgICBpZiAoZnJvbUluZGV4IDwgMCB8fCB0b0luZGV4IDwgMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBbbW92ZWRdID0gYmxvY2tzLnNwbGljZShmcm9tSW5kZXgsIDEpO1xuICAgICAgLy8gQWp1c3RlciBsJ2luZGV4IHNpIG5cdTAwRTljZXNzYWlyZSBhcHJcdTAwRThzIGxhIHN1cHByZXNzaW9uXG4gICAgICBpZiAoZnJvbUluZGV4IDwgdG9JbmRleCkge1xuICAgICAgICB0b0luZGV4LS07XG4gICAgICB9XG4gICAgICAvLyBJbnNcdTAwRTlyZXIgYXZhbnQgb3UgYXByXHUwMEU4cyBsYSBjaWJsZVxuICAgICAgY29uc3QgaW5zZXJ0SW5kZXggPSBwb3NpdGlvbiA9PT0gJ2JlZm9yZScgPyB0b0luZGV4IDogdG9JbmRleCArIDE7XG4gICAgICBibG9ja3Muc3BsaWNlKGluc2VydEluZGV4LCAwLCBtb3ZlZCk7XG4gICAgICB1cGRhdGVDdXJyZW50UGFnZUJsb2NrcyhibG9ja3MpO1xuICAgICAgc2V0QWN0aXZlUGFnZShjdXJyZW50UGFnZS5pZCwgeyBwcmVzZXJ2ZUJsb2NrOiB0cnVlIH0pO1xuICAgICAgc2V0QWN0aXZlQmxvY2sobW92ZWQuaWQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVEcmFnZ2FibGVTdGF0ZSgpIHtcbiAgICAgIGlmICghYmxvY2tMaXN0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRyYWdnYWJsZSA9IGlzRGVza3RvcFJlb3JkZXIoKTtcbiAgICAgIGJsb2NrTGlzdC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1ibG9jay1pdGVtXScpLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgICAgaXRlbS5zZXRBdHRyaWJ1dGUoJ2RyYWdnYWJsZScsIGRyYWdnYWJsZSA/ICd0cnVlJyA6ICdmYWxzZScpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNsb3NlQmxvY2tMaWJyYXJ5KCkge1xuICAgICAgaWYgKCFibG9ja0xpYnJhcnkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYmxvY2tMaWJyYXJ5LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgYmxvY2tMaWJyYXJ5T3BlbiA9IGZhbHNlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBvcGVuQmxvY2tMaWJyYXJ5KCkge1xuICAgICAgaWYgKCFibG9ja0xpYnJhcnkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYmxvY2tMaWJyYXJ5LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgYmxvY2tMaWJyYXJ5T3BlbiA9IHRydWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRvZ2dsZUJsb2NrTGlicmFyeSgpIHtcbiAgICAgIGJsb2NrTGlicmFyeU9wZW4gPyBjbG9zZUJsb2NrTGlicmFyeSgpIDogb3BlbkJsb2NrTGlicmFyeSgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBhZGRCbG9ja0Zyb21MaWJyYXJ5KHR5cGUpIHtcbiAgICAgIGlmICghY3VycmVudFBhZ2UgfHwgIXR5cGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgZGVmaW5pdGlvbiA9IGJsb2NrTGlicmFyeURlZmluaXRpb25zW3R5cGVdO1xuICAgICAgaWYgKCFkZWZpbml0aW9uKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNvdW50ID1cbiAgICAgICAgKGN1cnJlbnRQYWdlLmJsb2NrcyB8fCBbXSkuZmlsdGVyKChibG9jaykgPT4gYmxvY2sudHlwZSA9PT0gZGVmaW5pdGlvbi50eXBlKS5sZW5ndGggKyAxO1xuICAgICAgY29uc3QgbmV3QmxvY2sgPSBjcmVhdGVCbG9jayhcbiAgICAgICAgZ2VuZXJhdGVCbG9ja0lkKGN1cnJlbnRQYWdlLmlkLCB0eXBlKSxcbiAgICAgICAgYCR7ZGVmaW5pdGlvbi5sYWJlbH0gJHtjb3VudH1gLFxuICAgICAgICBkZWZpbml0aW9uLnR5cGUsXG4gICAgICAgIGRlZmluaXRpb24uc3RhdHVzLFxuICAgICAgICBkZWZpbml0aW9uLmRlc2NyaXB0aW9uLFxuICAgICAgICBkZWZpbml0aW9uLnByb3BzLFxuICAgICAgICBkZWZpbml0aW9uLnNldHRpbmdzIHx8IHt9LFxuICAgICAgKTtcbiAgICAgIGlmICgoZGVmaW5pdGlvbi50eXBlIHx8ICcnKS50b0xvd2VyQ2FzZSgpID09PSAnY29sbGVjdGlvbmdyaWQnKSB7XG4gICAgICAgIGNvbnN0IGZpcnN0Q29sbGVjdGlvbklkID0gZGVzaWduQ29sbGVjdGlvbnNbMF0/LmlkIHx8ICcnO1xuICAgICAgICBuZXdCbG9jay5jb2xsZWN0aW9uSWQgPSBmaXJzdENvbGxlY3Rpb25JZDtcbiAgICAgICAgbmV3QmxvY2suc2V0dGluZ3MuY29sbGVjdGlvbklkID0gZmlyc3RDb2xsZWN0aW9uSWQ7XG4gICAgICAgIG5ld0Jsb2NrLnNldHRpbmdzLmxpbWl0ID0gbmV3QmxvY2suc2V0dGluZ3MubGltaXQgfHwgNjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gU2kgb24gYWpvdXRlIFx1MDBFMCB1biBncm91cGVcbiAgICAgIGlmIChwZW5kaW5nR3JvdXBJZEZvck5ld0Jsb2NrKSB7XG4gICAgICAgIGNvbnN0IGdyb3VwQmxvY2sgPSBjdXJyZW50UGFnZS5ibG9ja3MuZmluZCgoYikgPT4gYi5pZCA9PT0gcGVuZGluZ0dyb3VwSWRGb3JOZXdCbG9jayk7XG4gICAgICAgIGlmIChncm91cEJsb2NrKSB7XG4gICAgICAgICAgaWYgKCFncm91cEJsb2NrLmNoaWxkcmVuKSBncm91cEJsb2NrLmNoaWxkcmVuID0gW107XG4gICAgICAgICAgZ3JvdXBCbG9jay5jaGlsZHJlbi5wdXNoKG5ld0Jsb2NrKTtcbiAgICAgICAgICBwZW5kaW5nR3JvdXBJZEZvck5ld0Jsb2NrID0gbnVsbDtcbiAgICAgICAgICByZW5kZXJCbG9ja0xpc3QoY3VycmVudFBhZ2UpO1xuICAgICAgICAgIHNhdmVQYWdlQmxvY2tzKCk7XG4gICAgICAgICAgc2V0QWN0aXZlQmxvY2sobmV3QmxvY2suaWQsIGdyb3VwQmxvY2suaWQpO1xuICAgICAgICAgIGNsb3NlQmxvY2tMaWJyYXJ5KCk7XG4gICAgICAgICAgc2hvd1RvYXN0KCdCbG9jIGFqb3V0XHUwMEU5IGF1IGdyb3VwZScpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBwZW5kaW5nR3JvdXBJZEZvck5ld0Jsb2NrID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgbmV4dEJsb2NrcyA9IFsuLi4oY3VycmVudFBhZ2UuYmxvY2tzIHx8IFtdKSwgbmV3QmxvY2tdO1xuICAgICAgdXBkYXRlQ3VycmVudFBhZ2VCbG9ja3MobmV4dEJsb2Nrcyk7XG4gICAgICBzZXRBY3RpdmVQYWdlKGN1cnJlbnRQYWdlLmlkLCB7IHByZXNlcnZlQmxvY2s6IHRydWUgfSk7XG4gICAgICBzZXRBY3RpdmVCbG9jayhuZXdCbG9jay5pZCk7XG4gICAgICBjbG9zZUJsb2NrTGlicmFyeSgpO1xuICAgICAgc2hvd1RvYXN0KCdCbG9jIGFqb3V0XHUwMEU5Jyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlbGV0ZUJsb2NrQnlJZChibG9ja0lkKSB7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGJsb2NrcyA9IChjdXJyZW50UGFnZS5ibG9ja3MgfHwgW10pLmZpbHRlcigoYmxvY2spID0+IGJsb2NrLmlkICE9PSBibG9ja0lkKTtcbiAgICAgIGNvbnN0IG5leHRBY3RpdmUgPVxuICAgICAgICBibG9ja0lkID09PSBhY3RpdmVCbG9ja0lkID8gYmxvY2tzWzBdPy5pZCB8fCBudWxsIDogYWN0aXZlQmxvY2tJZCB8fCBibG9ja3NbMF0/LmlkIHx8IG51bGw7XG4gICAgICB1cGRhdGVDdXJyZW50UGFnZUJsb2NrcyhibG9ja3MpO1xuICAgICAgYWN0aXZlQmxvY2tJZCA9IG5leHRBY3RpdmU7XG4gICAgICBzZXRBY3RpdmVQYWdlKGN1cnJlbnRQYWdlLmlkLCB7IHByZXNlcnZlQmxvY2s6IHRydWUgfSk7XG4gICAgICBpZiAoYWN0aXZlQmxvY2tJZCkge1xuICAgICAgICBzZXRBY3RpdmVCbG9jayhhY3RpdmVCbG9ja0lkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlbmRlckJsb2NrRGV0YWlscyhudWxsKTtcbiAgICAgICAgYXBwbHlQcmV2aWV3SGlnaGxpZ2h0KG51bGwpO1xuICAgICAgfVxuICAgICAgc2hvd1RvYXN0KCdCbG9jIHN1cHByaW1cdTAwRTknKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2xvc2VCbG9ja0RlbGV0ZU1vZGFsKCkge1xuICAgICAgaWYgKCFibG9ja0RlbGV0ZU1vZGFsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGJsb2NrRGVsZXRlTW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBibG9ja0RlbGV0ZU1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2ZsZXgnKTtcbiAgICAgIHBlbmRpbmdEZWxldGVCbG9ja0lkID0gbnVsbDtcbiAgICAgIGRlYWN0aXZhdGVNb2RhbChibG9ja0RlbGV0ZU1vZGFsKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gb3BlbkJsb2NrRGVsZXRlTW9kYWwoYmxvY2tJZCkge1xuICAgICAgaWYgKCFibG9ja0RlbGV0ZU1vZGFsKSB7XG4gICAgICAgIGRlbGV0ZUJsb2NrQnlJZChibG9ja0lkKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcGVuZGluZ0RlbGV0ZUJsb2NrSWQgPSBibG9ja0lkO1xuICAgICAgYmxvY2tEZWxldGVNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGJsb2NrRGVsZXRlTW9kYWwuY2xhc3NMaXN0LmFkZCgnZmxleCcpO1xuICAgICAgYWN0aXZhdGVNb2RhbChibG9ja0RlbGV0ZU1vZGFsLCBjbG9zZUJsb2NrRGVsZXRlTW9kYWwpO1xuICAgIH1cbiAgICBjb25zdCB1cGRhdGVDdXJyZW50UGFnZVN0YXRlID0gKG5leHRQYWdlKSA9PiB7XG4gICAgICBpZiAoIW5leHRQYWdlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBub3JtYWxpemVQYWdlRGF0YShuZXh0UGFnZSk7XG4gICAgICBwYWdlcyA9IHBhZ2VzLm1hcCgocGFnZSkgPT4gKHBhZ2UuaWQgPT09IG5vcm1hbGl6ZWQuaWQgPyBub3JtYWxpemVkIDogcGFnZSkpO1xuICAgICAgY3VycmVudFBhZ2UgPSBub3JtYWxpemVkO1xuICAgICAgc2F2ZVBhZ2VUb1NlcnZlcihub3JtYWxpemVkKTtcbiAgICB9O1xuICAgIGNvbnN0IHNldEFjdGl2ZVBhZ2UgPSAocGFnZUlkLCBvcHRpb25zID0ge30pID0+IHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IHBhZ2VzLmZpbmQoKHBhZ2UpID0+IHBhZ2UuaWQgPT09IHBhZ2VJZCkgfHwgcGFnZXNbMF0gfHwgbnVsbDtcbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWRUYXJnZXQgPSB0YXJnZXQgPyBub3JtYWxpemVQYWdlRGF0YSh0YXJnZXQpIDogbnVsbDtcbiAgICAgIGN1cnJlbnRQYWdlID0gbm9ybWFsaXplZFRhcmdldDtcbiAgICAgIGFjdGl2ZVBhZ2VJZCA9IHRhcmdldD8uaWQgfHwgbnVsbDtcbiAgICAgIGlmICghb3B0aW9ucy5wcmVzZXJ2ZUJsb2NrIHx8ICFjdXJyZW50UGFnZSB8fCAhY3VycmVudFBhZ2UuYmxvY2tzLnNvbWUoKGJsb2NrKSA9PiBibG9jay5pZCA9PT0gYWN0aXZlQmxvY2tJZCkpIHtcbiAgICAgICAgYWN0aXZlQmxvY2tJZCA9IGN1cnJlbnRQYWdlPy5ibG9ja3M/LlswXT8uaWQgfHwgbnVsbDtcbiAgICAgIH1cbiAgICAgIGlmIChhY3RpdmVQYWdlSWQpIHtcbiAgICAgICAgcGVyc2lzdEFjdGl2ZVBhZ2UoYWN0aXZlUGFnZUlkKTtcbiAgICAgIH1cbiAgICAgIHJlbmRlclBhZ2VMaXN0cyhwYWdlcywgYWN0aXZlUGFnZUlkKTtcbiAgICAgIHNldEFjdGl2ZUxhYmVscyhjdXJyZW50UGFnZSk7XG4gICAgICBzeW5jUGFnZUFjY2Vzc2liaWxpdHlGaWVsZHMoKTtcbiAgICAgIHJlbmRlclByZXZpZXdNZXRhKGN1cnJlbnRQYWdlKTtcbiAgICAgIHJlZnJlc2hQcmV2aWV3KGN1cnJlbnRQYWdlKTtcbiAgICAgIHJlbmRlckJsb2NrTGlzdChjdXJyZW50UGFnZSk7XG4gICAgICByZW5kZXJCbG9ja0RldGFpbHMoZ2V0QWN0aXZlQmxvY2soKSk7XG4gICAgICBhcHBseVByZXZpZXdIaWdobGlnaHQoYWN0aXZlQmxvY2tJZCk7XG4gICAgICB1cGRhdGVEcmFnZ2FibGVTdGF0ZSgpO1xuICAgICAgaWYgKGJsb2NrTGlicmFyeU9wZW4pIHtcbiAgICAgICAgY2xvc2VCbG9ja0xpYnJhcnkoKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGlzRGVza3RvcERyYXdlciA9ICgpID0+IHdpbmRvdy5tYXRjaE1lZGlhKCcobWluLXdpZHRoOiAxMDI0cHgpJykubWF0Y2hlcztcbiAgICBjb25zdCBzeW5jRHJhd2VyU3RhdGUgPSAoKSA9PiB7XG4gICAgICBpZiAoIWRyYXdlcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoaXNEZXNrdG9wRHJhd2VyKCkpIHtcbiAgICAgICAgZHJhd2VyLmNsYXNzTGlzdC5hZGQoJ2lzLW9wZW4nKTtcbiAgICAgICAgZHJhd2VyQmFja2Ryb3A/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ292ZXJmbG93LWhpZGRlbicpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZHJhd2VyLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLW9wZW4nKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IG9wZW5EcmF3ZXIgPSAoKSA9PiB7XG4gICAgICBpZiAoIWRyYXdlciB8fCBpc0Rlc2t0b3BEcmF3ZXIoKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBkcmF3ZXIuY2xhc3NMaXN0LmFkZCgnaXMtb3BlbicpO1xuICAgICAgZHJhd2VyQmFja2Ryb3A/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICB9O1xuICAgIGNvbnN0IGNsb3NlRHJhd2VyID0gKCkgPT4ge1xuICAgICAgaWYgKCFkcmF3ZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZHJhd2VyLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLW9wZW4nKTtcbiAgICAgIGRyYXdlckJhY2tkcm9wPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnb3ZlcmZsb3ctaGlkZGVuJyk7XG4gICAgfTtcbiAgICBjb25zdCBvcGVuQWRkUGFnZUZvcm0gPSAoKSA9PiB7XG4gICAgICBpZiAoIWFkZFBhZ2VGb3JtIHx8ICFhZGRQYWdlVG9nZ2xlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGFkZFBhZ2VGb3JtLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgYWRkUGFnZVRvZ2dsZS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGFkZFBhZ2VFcnJvciAmJiAoYWRkUGFnZUVycm9yLnRleHRDb250ZW50ID0gJycpO1xuICAgICAgcGFnZVNsdWdNYW51YWxseUVkaXRlZCA9IGZhbHNlO1xuICAgICAgaWYgKGFkZFBhZ2VOYW1lKSB7XG4gICAgICAgIGFkZFBhZ2VOYW1lLnZhbHVlID0gJyc7XG4gICAgICAgIGFkZFBhZ2VOYW1lLmZvY3VzKCk7XG4gICAgICB9XG4gICAgICBpZiAoYWRkUGFnZVRpdGxlKSB7XG4gICAgICAgIGFkZFBhZ2VUaXRsZS52YWx1ZSA9ICcnO1xuICAgICAgfVxuICAgICAgaWYgKGFkZFBhZ2VTbHVnKSB7XG4gICAgICAgIGFkZFBhZ2VTbHVnLnZhbHVlID0gJyc7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBjbG9zZUFkZFBhZ2VGb3JtID0gKCkgPT4ge1xuICAgICAgaWYgKCFhZGRQYWdlRm9ybSB8fCAhYWRkUGFnZVRvZ2dsZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhZGRQYWdlRm9ybS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGFkZFBhZ2VUb2dnbGUuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBhZGRQYWdlRXJyb3IgJiYgKGFkZFBhZ2VFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICAgIHBhZ2VTbHVnTWFudWFsbHlFZGl0ZWQgPSBmYWxzZTtcbiAgICAgIGFkZFBhZ2VGb3JtLnJlc2V0KCk7XG4gICAgfTtcbiAgICBjb25zdCBzeW5jU2x1Z0Zyb21OYW1lID0gKCkgPT4ge1xuICAgICAgaWYgKCFhZGRQYWdlTmFtZSB8fCAhYWRkUGFnZVNsdWcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHBhZ2VTbHVnTWFudWFsbHlFZGl0ZWQgJiYgYWRkUGFnZVNsdWcudmFsdWUudHJpbSgpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYWRkUGFnZVNsdWcudmFsdWUgPSBub3JtYWxpemVQYWdlU2x1ZyhhZGRQYWdlTmFtZS52YWx1ZSk7XG4gICAgfTtcblxuICAgIGxldCBwYWdlcyA9IFtdO1xuICAgIGxldCBhY3RpdmVQYWdlSWQgPSBudWxsO1xuICAgIGxldCBwYWdlU2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gICAgbGV0IGN1cnJlbnRQYWdlID0gbnVsbDtcbiAgICBsZXQgYWN0aXZlQmxvY2tJZCA9IG51bGw7XG4gICAgbGV0IGJsb2NrTGlicmFyeU9wZW4gPSBmYWxzZTtcbiAgICBsZXQgcGVuZGluZ0RlbGV0ZUJsb2NrSWQgPSBudWxsO1xuICAgIGxldCBsYXRlc3RQcmV2aWV3SHRtbCA9ICcnO1xuICAgIGxldCBwcmV2aWV3UmVhZHkgPSBmYWxzZTtcbiAgICBsZXQgcHJldmlld1JlcXVlc3RDb250cm9sbGVyID0gbnVsbDtcbiAgICBsZXQgZGVzaWduQ29sbGVjdGlvbnMgPSBbXTtcblxuICAgIGNvbnN0IG5vcm1hbGl6ZUJsb2NrRGF0YSA9IChibG9jaykgPT4ge1xuICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IHtcbiAgICAgICAgLi4uYmxvY2ssXG4gICAgICAgIHByb3BzOiBBcnJheS5pc0FycmF5KGJsb2NrLnByb3BzKSA/IGJsb2NrLnByb3BzIDogW10sXG4gICAgICAgIHNldHRpbmdzOiB7IC4uLihibG9jay5zZXR0aW5ncyB8fCB7fSkgfSxcbiAgICAgIH07XG4gICAgICBjb25zdCB0eXBlID0gKG5vcm1hbGl6ZWQudHlwZSB8fCAnJykudG9Mb3dlckNhc2UoKTtcbiAgICAgIGlmICh0eXBlID09PSAnY29sbGVjdGlvbmdyaWQnKSB7XG4gICAgICAgIG5vcm1hbGl6ZWQuY29sbGVjdGlvbklkID1cbiAgICAgICAgICBub3JtYWxpemVkLmNvbGxlY3Rpb25JZCB8fCBub3JtYWxpemVkLnNldHRpbmdzLmNvbGxlY3Rpb25JZCB8fCAnJztcbiAgICAgICAgbm9ybWFsaXplZC5zZXR0aW5ncy5jb2xsZWN0aW9uSWQgPSBub3JtYWxpemVkLmNvbGxlY3Rpb25JZDtcbiAgICAgICAgbm9ybWFsaXplZC5zZXR0aW5ncy5saW1pdCA9IG5vcm1hbGl6ZWQuc2V0dGluZ3MubGltaXQgfHwgNjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBub3JtYWxpemVkO1xuICAgIH07XG5cbiAgICBjb25zdCBub3JtYWxpemVQYWdlRGF0YSA9IChwYWdlKSA9PiAoe1xuICAgICAgLi4ucGFnZSxcbiAgICAgIGJsb2NrczogKHBhZ2UuYmxvY2tzIHx8IFtdKS5tYXAoKGJsb2NrKSA9PiBub3JtYWxpemVCbG9ja0RhdGEoYmxvY2spKSxcbiAgICAgIHNlbzoge1xuICAgICAgICB0aXRsZTogKHBhZ2Uuc2VvPy50aXRsZSB8fCAnJykudHJpbSgpLFxuICAgICAgICBkZXNjcmlwdGlvbjogKHBhZ2Uuc2VvPy5kZXNjcmlwdGlvbiB8fCAnJykudHJpbSgpLFxuICAgICAgICBpbmRleGVkOlxuICAgICAgICAgIHR5cGVvZiBwYWdlLnNlbz8uaW5kZXhlZCA9PT0gJ2Jvb2xlYW4nID8gcGFnZS5zZW8uaW5kZXhlZCA6IG51bGwsXG4gICAgICB9LFxuICAgICAgYWNjZXNzaWJpbGl0eToge1xuICAgICAgICBzaG93SW5NYWluTmF2OiBwYWdlLmFjY2Vzc2liaWxpdHk/LnNob3dJbk1haW5OYXYgIT09IGZhbHNlLFxuICAgICAgICBtYWluTGFiZWw6IChwYWdlLmFjY2Vzc2liaWxpdHk/Lm1haW5MYWJlbCB8fCAnJykudHJpbSgpLFxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIGNvbnN0IGxvYWREZXNpZ25Db2xsZWN0aW9ucyA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvbnNBcGlCYXNlKSB7XG4gICAgICAgIGRlc2lnbkNvbGxlY3Rpb25zID0gW107XG4gICAgICAgIHVwZGF0ZUNvbGxlY3Rpb25TZWxlY3RPcHRpb25zKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goY29sbGVjdGlvbnNBcGlCYXNlLCB7XG4gICAgICAgICAgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxlcyBjb2xsZWN0aW9ucy4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+IFtdKTtcbiAgICAgICAgZGVzaWduQ29sbGVjdGlvbnMgPSBBcnJheS5pc0FycmF5KHBheWxvYWQpID8gcGF5bG9hZCA6IFtdO1xuICAgICAgICBjb25zdCBjdXJyZW50VmFsdWUgPSBjb2xsZWN0aW9uU2VsZWN0Py52YWx1ZSB8fCAnJztcbiAgICAgICAgdXBkYXRlQ29sbGVjdGlvblNlbGVjdE9wdGlvbnMoY3VycmVudFZhbHVlKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZGVzaWduXSBjb2xsZWN0aW9ucyBsb2FkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KCdDb2xsZWN0aW9ucyBpbmRpc3BvbmlibGVzLicpO1xuICAgICAgICBkZXNpZ25Db2xsZWN0aW9ucyA9IFtdO1xuICAgICAgICB1cGRhdGVDb2xsZWN0aW9uU2VsZWN0T3B0aW9ucygpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBzeW5jQ29sbGVjdGlvblNlbGVjdGlvbkluZm8gPSAoY29sbGVjdGlvbklkKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25TZWxlY3Rpb25JbmZvKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghY29sbGVjdGlvbklkKSB7XG4gICAgICAgIGNvbGxlY3Rpb25TZWxlY3Rpb25JbmZvLnRleHRDb250ZW50ID0gZGVzaWduQ29sbGVjdGlvbnMubGVuZ3RoXG4gICAgICAgICAgPyAnU1x1MDBFOWxlY3Rpb25uZXogdW5lIGNvbGxlY3Rpb24gcG91ciBhZmZpY2hlciBzZXMgaW5mb3JtYXRpb25zLidcbiAgICAgICAgICA6ICdBdWN1bmUgY29sbGVjdGlvbiBkaXNwb25pYmxlLiBBam91dGV6LWVuIGRlcHVpcyBsXHUyMDE5b25nbGV0IENvbnRlbnVzLic7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGVudHJ5ID0gZGVzaWduQ29sbGVjdGlvbnMuZmluZCgoY29sbGVjdGlvbikgPT4gY29sbGVjdGlvbi5pZCA9PT0gY29sbGVjdGlvbklkKTtcbiAgICAgIGlmICghZW50cnkpIHtcbiAgICAgICAgY29sbGVjdGlvblNlbGVjdGlvbkluZm8udGV4dENvbnRlbnQgPSBgQ29sbGVjdGlvbiAke2NvbGxlY3Rpb25JZH1gO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBkZXRhaWxzID0gW107XG4gICAgICBpZiAoZW50cnkuZGVzY3JpcHRpb24pIHtcbiAgICAgICAgZGV0YWlscy5wdXNoKGVudHJ5LmRlc2NyaXB0aW9uKTtcbiAgICAgIH1cbiAgICAgIGlmIChlbnRyeS50eXBlKSB7XG4gICAgICAgIGRldGFpbHMucHVzaChgVHlwZVx1MDBBMDogJHtlbnRyeS50eXBlfWApO1xuICAgICAgfVxuICAgICAgY29sbGVjdGlvblNlbGVjdGlvbkluZm8udGV4dENvbnRlbnQgPVxuICAgICAgICBkZXRhaWxzLmpvaW4oJyBcdTAwQjcgJykgfHwgYENvbGxlY3Rpb24gJHtlbnRyeS5uYW1lIHx8IGVudHJ5LmlkfWA7XG4gICAgfTtcblxuICAgIGNvbnN0IHVwZGF0ZUNvbGxlY3Rpb25TZWxlY3RPcHRpb25zID0gKHNlbGVjdGVkVmFsdWUgPSAnJykgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uU2VsZWN0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbGxlY3Rpb25TZWxlY3QuaW5uZXJIVE1MID0gJyc7XG4gICAgICBpZiAoIWRlc2lnbkNvbGxlY3Rpb25zLmxlbmd0aCkge1xuICAgICAgICBjb2xsZWN0aW9uU2VsZWN0LmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICAgIG9wdGlvbi52YWx1ZSA9ICcnO1xuICAgICAgICBvcHRpb24udGV4dENvbnRlbnQgPSAnQXVjdW5lIGNvbGxlY3Rpb24gZGlzcG9uaWJsZSc7XG4gICAgICAgIGNvbGxlY3Rpb25TZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uKTtcbiAgICAgICAgc3luY0NvbGxlY3Rpb25TZWxlY3Rpb25JbmZvKCcnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29sbGVjdGlvblNlbGVjdC5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgaWYgKHNlbGVjdGVkVmFsdWUgJiYgIWRlc2lnbkNvbGxlY3Rpb25zLnNvbWUoKGVudHJ5KSA9PiBlbnRyeS5pZCA9PT0gc2VsZWN0ZWRWYWx1ZSkpIHtcbiAgICAgICAgY29uc3QgZmFsbGJhY2tPcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgICAgZmFsbGJhY2tPcHRpb24udmFsdWUgPSBzZWxlY3RlZFZhbHVlO1xuICAgICAgICBmYWxsYmFja09wdGlvbi50ZXh0Q29udGVudCA9IHNlbGVjdGVkVmFsdWU7XG4gICAgICAgIGNvbGxlY3Rpb25TZWxlY3QuYXBwZW5kQ2hpbGQoZmFsbGJhY2tPcHRpb24pO1xuICAgICAgfVxuICAgICAgZGVzaWduQ29sbGVjdGlvbnMuZm9yRWFjaCgoY29sbGVjdGlvbikgPT4ge1xuICAgICAgICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgICAgb3B0aW9uLnZhbHVlID0gY29sbGVjdGlvbi5pZDtcbiAgICAgICAgY29uc3QgbGFiZWwgPSBjb2xsZWN0aW9uLm5hbWUgfHwgY29sbGVjdGlvbi5pZDtcbiAgICAgICAgb3B0aW9uLnRleHRDb250ZW50ID0gY29sbGVjdGlvbi50eXBlID8gYCR7bGFiZWx9IFx1MDBCNyAke2NvbGxlY3Rpb24udHlwZX1gIDogbGFiZWw7XG4gICAgICAgIG9wdGlvbi5kYXRhc2V0LmRlc2NyaXB0aW9uID0gY29sbGVjdGlvbi5kZXNjcmlwdGlvbiB8fCAnJztcbiAgICAgICAgY29sbGVjdGlvblNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb24pO1xuICAgICAgfSk7XG4gICAgICBpZiAoc2VsZWN0ZWRWYWx1ZSkge1xuICAgICAgICBjb2xsZWN0aW9uU2VsZWN0LnZhbHVlID0gc2VsZWN0ZWRWYWx1ZTtcbiAgICAgIH1cbiAgICAgIHN5bmNDb2xsZWN0aW9uU2VsZWN0aW9uSW5mbyhjb2xsZWN0aW9uU2VsZWN0LnZhbHVlIHx8ICcnKTtcbiAgICB9O1xuXG4gICAgbG9hZERlc2lnbkNvbGxlY3Rpb25zKCk7XG4gICAgc3luY0RyYXdlclN0YXRlKCk7XG5cbiAgICBkcmF3ZXJPcGVuQnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5EcmF3ZXIpO1xuICAgIH0pO1xuICAgIGRyYXdlckNsb3NlQnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlRHJhd2VyKTtcbiAgICB9KTtcbiAgICBkcmF3ZXJCYWNrZHJvcD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZURyYXdlcik7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsICgpID0+IHtcbiAgICAgIHN5bmNEcmF3ZXJTdGF0ZSgpO1xuICAgICAgdXBkYXRlRHJhZ2dhYmxlU3RhdGUoKTtcbiAgICB9KTtcblxuICAgIGFkZFBhZ2VUb2dnbGU/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlbkFkZFBhZ2VGb3JtKTtcbiAgICBhZGRQYWdlQ2FuY2VsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlQWRkUGFnZUZvcm0pO1xuICAgIGFkZFBhZ2VOYW1lPy5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIHN5bmNTbHVnRnJvbU5hbWUpO1xuICAgIGFkZFBhZ2VTbHVnPy5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICAgIGFkZFBhZ2VFcnJvciAmJiAoYWRkUGFnZUVycm9yLnRleHRDb250ZW50ID0gJycpO1xuICAgICAgcGFnZVNsdWdNYW51YWxseUVkaXRlZCA9IHRydWU7XG4gICAgfSk7XG4gICAgYWRkUGFnZUZvcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmICghcGFnZXNBcGlCYXNlKSB7XG4gICAgICAgIGFkZFBhZ2VFcnJvciAmJiAoYWRkUGFnZUVycm9yLnRleHRDb250ZW50ID0gJ0F1Y3VuIHNpdGUgc1x1MDBFOWxlY3Rpb25uXHUwMEU5LicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWFkZFBhZ2VOYW1lIHx8ICFhZGRQYWdlU2x1Zykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBuYW1lID0gYWRkUGFnZU5hbWUudmFsdWUudHJpbSgpO1xuICAgICAgY29uc3QgdGl0bGUgPSBhZGRQYWdlVGl0bGU/LnZhbHVlLnRyaW0oKSB8fCBuYW1lOyAvLyBGYWxsYmFjayB0byBuYW1lIGlmIHRpdGxlIGlzIGVtcHR5XG4gICAgICBjb25zdCBzbHVnID0gbm9ybWFsaXplUGFnZVNsdWcoYWRkUGFnZVNsdWcudmFsdWUudHJpbSgpIHx8IG5hbWUpO1xuICAgICAgaWYgKCFuYW1lIHx8ICFzbHVnKSB7XG4gICAgICAgIGFkZFBhZ2VFcnJvciAmJiAoYWRkUGFnZUVycm9yLnRleHRDb250ZW50ID0gJ05vbSBldCBzbHVnIHNvbnQgcmVxdWlzLicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhZGRQYWdlRXJyb3IgJiYgKGFkZFBhZ2VFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICAgIGlmIChhZGRQYWdlU3VibWl0QnV0dG9uKSB7XG4gICAgICAgIGFkZFBhZ2VTdWJtaXRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICBhZGRQYWdlU3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gJ0NyXHUwMEU5YXRpb24uLi4nO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgY3JlYXRlZFBhZ2UgPSBhd2FpdCBjcmVhdGVQYWdlT25TZXJ2ZXIoeyBuYW1lLCB0aXRsZSwgc2x1ZyB9KTtcbiAgICAgICAgaWYgKCFjcmVhdGVkUGFnZSB8fCAhY3JlYXRlZFBhZ2UuaWQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JcdTAwRTlwb25zZSBpbnZhbGlkZS4nKTtcbiAgICAgICAgfVxuICAgICAgICBwYWdlcyA9IFsuLi5wYWdlcywgbm9ybWFsaXplUGFnZURhdGEoY3JlYXRlZFBhZ2UpXTtcbiAgICAgICAgY2xvc2VBZGRQYWdlRm9ybSgpO1xuICAgICAgICBzaG93VG9hc3QoJ1BhZ2UgY3JcdTAwRTlcdTAwRTllJyk7XG4gICAgICAgIHNldEFjdGl2ZVBhZ2UoY3JlYXRlZFBhZ2UuaWQpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkZXNpZ25dIGNyZWF0ZSBwYWdlIGZhaWxlZCcsIGVycik7XG4gICAgICAgIGFkZFBhZ2VFcnJvciAmJiAoYWRkUGFnZUVycm9yLnRleHRDb250ZW50ID0gZXJyLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgY3JcdTAwRTllciBsYSBwYWdlLicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKGFkZFBhZ2VTdWJtaXRCdXR0b24pIHtcbiAgICAgICAgICBhZGRQYWdlU3VibWl0QnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgYWRkUGFnZVN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9ICdDclx1MDBFOWVyJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gPT09IEltcG9ydCBKU09OIGhhbmRsZXJzID09PVxuICAgIGNvbnN0IHJlc2V0UGFzdGVTdGF0ZSA9ICgpID0+IHtcbiAgICAgIGlmIChpbXBvcnRQYXN0ZUlucHV0KSBpbXBvcnRQYXN0ZUlucHV0LnZhbHVlID0gJyc7XG4gICAgICBpZiAocGFzdGVFcnJvcikge1xuICAgICAgICBwYXN0ZUVycm9yLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBwYXN0ZUVycm9yLnRleHRDb250ZW50ID0gJyc7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHZhbGlkYXRlUGFzdGVKc29uID0gKCkgPT4ge1xuICAgICAgaWYgKCFpbXBvcnRQYXN0ZUlucHV0KSByZXR1cm4gbnVsbDtcbiAgICAgIGNvbnN0IHRleHQgPSBpbXBvcnRQYXN0ZUlucHV0LnZhbHVlLnRyaW0oKTtcbiAgICAgIGlmICghdGV4dCkge1xuICAgICAgICBpZiAocGFzdGVFcnJvcikgcGFzdGVFcnJvci5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBwYXJzZWQgPSBKU09OLnBhcnNlKHRleHQpO1xuICAgICAgICBpZiAocGFzdGVFcnJvcikgcGFzdGVFcnJvci5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgcmV0dXJuIHBhcnNlZDtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBpZiAocGFzdGVFcnJvcikge1xuICAgICAgICAgIHBhc3RlRXJyb3IuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgcGFzdGVFcnJvci50ZXh0Q29udGVudCA9IGBcdTI3NEMgSlNPTiBpbnZhbGlkZSA6ICR7ZXJyLm1lc3NhZ2V9YDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgZm9ybWF0UGFzdGVKc29uID0gKCkgPT4ge1xuICAgICAgaWYgKCFpbXBvcnRQYXN0ZUlucHV0KSByZXR1cm47XG4gICAgICBjb25zdCB0ZXh0ID0gaW1wb3J0UGFzdGVJbnB1dC52YWx1ZS50cmltKCk7XG4gICAgICBpZiAoIXRleHQpIHJldHVybjtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZCA9IEpTT04ucGFyc2UodGV4dCk7XG4gICAgICAgIGltcG9ydFBhc3RlSW5wdXQudmFsdWUgPSBKU09OLnN0cmluZ2lmeShwYXJzZWQsIG51bGwsIDIpO1xuICAgICAgICB2YWxpZGF0ZVBhc3RlSnNvbigpO1xuICAgICAgfSBjYXRjaCB7XG4gICAgICAgIC8vIFNpIHBhcyB2YWxpZGUsIG9uIG5lIGZvcm1hdGUgcGFzXG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHVwZGF0ZUltcG9ydFN1Ym1pdFN0YXRlID0gKCkgPT4ge1xuICAgICAgaWYgKCFpbXBvcnRTdWJtaXQpIHJldHVybjtcbiAgICAgIGlmIChhY3RpdmVJbXBvcnRUYWIgPT09ICd1cGxvYWQnKSB7XG4gICAgICAgIGltcG9ydFN1Ym1pdC5kaXNhYmxlZCA9IGltcG9ydFNlbGVjdGVkRmlsZXMubGVuZ3RoID09PSAwO1xuICAgICAgfSBlbHNlIGlmIChhY3RpdmVJbXBvcnRUYWIgPT09ICdwYXN0ZScpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkID0gdmFsaWRhdGVQYXN0ZUpzb24oKTtcbiAgICAgICAgaW1wb3J0U3VibWl0LmRpc2FibGVkID0gIXBhcnNlZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGltcG9ydFN1Ym1pdC5kaXNhYmxlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IG9wZW5JbXBvcnRNb2RhbCA9ICgpID0+IHtcbiAgICAgIGlmICghaW1wb3J0TW9kYWwpIHJldHVybjtcbiAgICAgIGltcG9ydE1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgaW1wb3J0TW9kYWwuY2xhc3NMaXN0LmFkZCgnZmxleCcpO1xuICAgICAgaW1wb3J0U2VsZWN0ZWRGaWxlcyA9IFtdO1xuICAgICAgYWN0aXZlSW1wb3J0VGFiID0gJ3VwbG9hZCc7XG4gICAgICB1cGRhdGVJbXBvcnRGaWxlTGlzdCgpO1xuICAgICAgcmVzZXRQYXN0ZVN0YXRlKCk7XG4gICAgICBpZiAoaW1wb3J0UmVzdWx0cykgaW1wb3J0UmVzdWx0cy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGlmIChpbXBvcnRSZXN1bHRzQ29udGVudCkgaW1wb3J0UmVzdWx0c0NvbnRlbnQuaW5uZXJIVE1MID0gJyc7XG4gICAgICB1cGRhdGVJbXBvcnRTdWJtaXRTdGF0ZSgpO1xuICAgICAgLy8gUmVzZXQgdGFicyB0byB1cGxvYWRcbiAgICAgIGltcG9ydFRhYnMuZm9yRWFjaCgodCkgPT4ge1xuICAgICAgICBpZiAodC5kYXRhc2V0LmltcG9ydFRhYiA9PT0gJ3VwbG9hZCcpIHtcbiAgICAgICAgICB0LmNsYXNzTGlzdC5hZGQoJ2JnLVsjOUM2QkZGXScsICd0ZXh0LXdoaXRlJyk7XG4gICAgICAgICAgdC5jbGFzc0xpc3QucmVtb3ZlKCdib3JkZXInLCAnYm9yZGVyLXNsYXRlLTIwMCcsICd0ZXh0LXNsYXRlLTcwMCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHQuY2xhc3NMaXN0LnJlbW92ZSgnYmctWyM5QzZCRkZdJywgJ3RleHQtd2hpdGUnKTtcbiAgICAgICAgICB0LmNsYXNzTGlzdC5hZGQoJ2JvcmRlcicsICdib3JkZXItc2xhdGUtMjAwJywgJ3RleHQtc2xhdGUtNzAwJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaW1wb3J0UGFuZWxzLmZvckVhY2goKHApID0+IHtcbiAgICAgICAgaWYgKHAuZGF0YXNldC5pbXBvcnRQYW5lbCA9PT0gJ3VwbG9hZCcpIHtcbiAgICAgICAgICBwLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHAuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgYWN0aXZhdGVNb2RhbChpbXBvcnRNb2RhbCwgY2xvc2VJbXBvcnRNb2RhbCk7XG4gICAgfTtcbiAgICBjb25zdCBjbG9zZUltcG9ydE1vZGFsID0gKCkgPT4ge1xuICAgICAgaWYgKCFpbXBvcnRNb2RhbCkgcmV0dXJuO1xuICAgICAgaW1wb3J0TW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBpbXBvcnRNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdmbGV4Jyk7XG4gICAgICBpbXBvcnRTZWxlY3RlZEZpbGVzID0gW107XG4gICAgICByZXNldFBhc3RlU3RhdGUoKTtcbiAgICAgIGRlYWN0aXZhdGVNb2RhbChpbXBvcnRNb2RhbCk7XG4gICAgfTtcbiAgICBjb25zdCB1cGRhdGVJbXBvcnRGaWxlTGlzdCA9ICgpID0+IHtcbiAgICAgIGlmICghaW1wb3J0RmlsZUxpc3QgfHwgIWltcG9ydEZpbGVOYW1lcykgcmV0dXJuO1xuICAgICAgaWYgKGltcG9ydFNlbGVjdGVkRmlsZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGltcG9ydEZpbGVMaXN0LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICB1cGRhdGVJbXBvcnRTdWJtaXRTdGF0ZSgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpbXBvcnRGaWxlTGlzdC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGltcG9ydEZpbGVOYW1lcy5pbm5lckhUTUwgPSBpbXBvcnRTZWxlY3RlZEZpbGVzXG4gICAgICAgIC5tYXAoKGYpID0+IGA8bGkgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPjxzcGFuIGNsYXNzPVwidGV4dC1sZ1wiPlx1RDgzRFx1RENDNDwvc3Bhbj4ke2YubmFtZX08L2xpPmApXG4gICAgICAgIC5qb2luKCcnKTtcbiAgICAgIHVwZGF0ZUltcG9ydFN1Ym1pdFN0YXRlKCk7XG4gICAgfTtcbiAgICBjb25zdCBoYW5kbGVJbXBvcnRGaWxlcyA9IChmaWxlcykgPT4ge1xuICAgICAgY29uc3QganNvbkZpbGVzID0gQXJyYXkuZnJvbShmaWxlcykuZmlsdGVyKFxuICAgICAgICAoZikgPT4gZi50eXBlID09PSAnYXBwbGljYXRpb24vanNvbicgfHwgZi5uYW1lLmVuZHNXaXRoKCcuanNvbicpXG4gICAgICApO1xuICAgICAgaWYgKGpzb25GaWxlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgc2hvd1RvYXN0KCdBdWN1biBmaWNoaWVyIEpTT04gdmFsaWRlLicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpbXBvcnRTZWxlY3RlZEZpbGVzID0ganNvbkZpbGVzO1xuICAgICAgdXBkYXRlSW1wb3J0RmlsZUxpc3QoKTtcbiAgICB9O1xuICAgIGNvbnN0IGV4ZWN1dGVJbXBvcnQgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXBhZ2VzQXBpQmFzZSkgcmV0dXJuO1xuICAgICAgXG4gICAgICAvLyBEZXRlcm1pbmUgc291cmNlIG9mIGRhdGEgYmFzZWQgb24gYWN0aXZlIHRhYlxuICAgICAgbGV0IHBhZ2VzRGF0YSA9IFtdO1xuICAgICAgXG4gICAgICBjb25zb2xlLmxvZygnW2ltcG9ydF0gYWN0aXZlSW1wb3J0VGFiOicsIGFjdGl2ZUltcG9ydFRhYik7XG4gICAgICBcbiAgICAgIGlmIChhY3RpdmVJbXBvcnRUYWIgPT09ICdwYXN0ZScpIHtcbiAgICAgICAgLy8gSW1wb3J0IGZyb20gcGFzdGVkIEpTT05cbiAgICAgICAgY29uc3QgdGV4dCA9IGltcG9ydFBhc3RlSW5wdXQ/LnZhbHVlPy50cmltKCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdbaW1wb3J0XSBwYXN0ZSB0ZXh0IGxlbmd0aDonLCB0ZXh0Py5sZW5ndGgpO1xuICAgICAgICBpZiAoIXRleHQpIHtcbiAgICAgICAgICBzaG93VG9hc3QoJ0F1Y3VuIEpTT04gXHUwMEUwIGltcG9ydGVyLicpO1xuICAgICAgICAgIGlmIChpbXBvcnRSZXN1bHRzICYmIGltcG9ydFJlc3VsdHNDb250ZW50KSB7XG4gICAgICAgICAgICBpbXBvcnRSZXN1bHRzLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgICAgaW1wb3J0UmVzdWx0c0NvbnRlbnQuaW5uZXJIVE1MID0gJzxwIGNsYXNzPVwidGV4dC1hbWJlci02MDBcIj5cdTI2QTAgTGUgY2hhbXAgZGUgdGV4dGUgZXN0IHZpZGUuPC9wPic7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHBhcnNlZCA9IEpTT04ucGFyc2UodGV4dCk7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1tpbXBvcnRdIHBhcnNlZCBKU09OOicsIHBhcnNlZCk7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1tpbXBvcnRdIHBhcnNlZCB0eXBlOicsIHR5cGVvZiBwYXJzZWQsIEFycmF5LmlzQXJyYXkocGFyc2VkKSA/ICdhcnJheScgOiAnbm90IGFycmF5Jyk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gU3VwcG9ydCBmb3JtYXQgeyBwYWdlczogWy4uLl0sIGNvbGxlY3Rpb25zOiB7Li4ufSB9XG4gICAgICAgICAgaWYgKHBhcnNlZCAmJiAhQXJyYXkuaXNBcnJheShwYXJzZWQpICYmIHBhcnNlZC5wYWdlcykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1tpbXBvcnRdIGRldGVjdGVkIHBhZ2VzK2NvbGxlY3Rpb25zIGZvcm1hdCcpO1xuICAgICAgICAgICAgcGFnZXNEYXRhID0gcGFyc2VkOyAvLyBTZW5kIHRoZSB3aG9sZSBvYmplY3QsIGJhY2tlbmQgd2lsbCBoYW5kbGUgaXRcbiAgICAgICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkocGFyc2VkKSkge1xuICAgICAgICAgICAgcGFnZXNEYXRhLnB1c2goLi4ucGFyc2VkKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFnZXNEYXRhLnB1c2gocGFyc2VkKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc29sZS5sb2coJ1tpbXBvcnRdIHBhZ2VzRGF0YSBwcmVwYXJlZDonLCBwYWdlc0RhdGEpO1xuICAgICAgICB9IGNhdGNoIChwYXJzZUVycikge1xuICAgICAgICAgIC8vIEFmZmljaGVyIGxlIGRcdTAwRTl0YWlsIGRlIGwnZXJyZXVyIGRlIHBhcnNpbmdcbiAgICAgICAgICBjb25zdCBlcnJvckxpbmUgPSBwYXJzZUVyci5tZXNzYWdlLm1hdGNoKC9wb3NpdGlvbiAoXFxkKykvKTtcbiAgICAgICAgICBsZXQgZXJyb3JEZXRhaWwgPSBwYXJzZUVyci5tZXNzYWdlO1xuICAgICAgICAgIGlmIChlcnJvckxpbmUpIHtcbiAgICAgICAgICAgIGNvbnN0IHBvcyA9IHBhcnNlSW50KGVycm9yTGluZVsxXSwgMTApO1xuICAgICAgICAgICAgY29uc3QgbGluZXMgPSB0ZXh0LnN1YnN0cmluZygwLCBwb3MpLnNwbGl0KCdcXG4nKTtcbiAgICAgICAgICAgIGNvbnN0IGxpbmVOdW0gPSBsaW5lcy5sZW5ndGg7XG4gICAgICAgICAgICBjb25zdCBjb2xOdW0gPSBsaW5lc1tsaW5lcy5sZW5ndGggLSAxXS5sZW5ndGggKyAxO1xuICAgICAgICAgICAgZXJyb3JEZXRhaWwgPSBgTGlnbmUgJHtsaW5lTnVtfSwgY29sb25uZSAke2NvbE51bX06ICR7cGFyc2VFcnIubWVzc2FnZX1gO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzaG93VG9hc3QoYEVycmV1ciBKU09OIDogJHtlcnJvckRldGFpbH1gLCAnZXJyb3InKTtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbaW1wb3J0XSBwYXN0ZSBwYXJzZSBlcnJvcicsIHBhcnNlRXJyKTtcbiAgICAgICAgICAvLyBTaG93IGVycm9yIGluIHJlc3VsdHMgYXJlYVxuICAgICAgICAgIGlmIChpbXBvcnRSZXN1bHRzICYmIGltcG9ydFJlc3VsdHNDb250ZW50KSB7XG4gICAgICAgICAgICBpbXBvcnRSZXN1bHRzLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgICAgaW1wb3J0UmVzdWx0c0NvbnRlbnQuaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC1yb3NlLTYwMFwiPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwiZm9udC1tZWRpdW1cIj5cdTI3MTcgRXJyZXVyIGRlIHN5bnRheGUgSlNPTjwvcD5cbiAgICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQteHMgbXQtMVwiPiR7ZXJyb3JEZXRhaWx9PC9wPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC14cyBtdC0yIHRleHQtc2xhdGUtNTAwXCI+Vlx1MDBFOXJpZmlleiBsZXMgdmlyZ3VsZXMsIGd1aWxsZW1ldHMgZXQgYWNjb2xhZGVzLjwvcD5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICBgO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoYWN0aXZlSW1wb3J0VGFiID09PSAndXBsb2FkJykge1xuICAgICAgICAvLyBJbXBvcnQgZnJvbSBmaWxlc1xuICAgICAgICBpZiAoaW1wb3J0U2VsZWN0ZWRGaWxlcy5sZW5ndGggPT09IDApIHJldHVybjtcbiAgICAgICAgY29uc3QgZmlsZUVycm9ycyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IGZpbGUgb2YgaW1wb3J0U2VsZWN0ZWRGaWxlcykge1xuICAgICAgICAgIGNvbnN0IHRleHQgPSBhd2FpdCBmaWxlLnRleHQoKTtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcGFyc2VkID0gSlNPTi5wYXJzZSh0ZXh0KTtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHBhcnNlZCkpIHtcbiAgICAgICAgICAgICAgcGFnZXNEYXRhLnB1c2goLi4ucGFyc2VkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBhZ2VzRGF0YS5wdXNoKHBhcnNlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCAocGFyc2VFcnIpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTGluZSA9IHBhcnNlRXJyLm1lc3NhZ2UubWF0Y2goL3Bvc2l0aW9uIChcXGQrKS8pO1xuICAgICAgICAgICAgbGV0IGVycm9yRGV0YWlsID0gcGFyc2VFcnIubWVzc2FnZTtcbiAgICAgICAgICAgIGlmIChlcnJvckxpbmUpIHtcbiAgICAgICAgICAgICAgY29uc3QgcG9zID0gcGFyc2VJbnQoZXJyb3JMaW5lWzFdLCAxMCk7XG4gICAgICAgICAgICAgIGNvbnN0IGxpbmVzID0gdGV4dC5zdWJzdHJpbmcoMCwgcG9zKS5zcGxpdCgnXFxuJyk7XG4gICAgICAgICAgICAgIGNvbnN0IGxpbmVOdW0gPSBsaW5lcy5sZW5ndGg7XG4gICAgICAgICAgICAgIGVycm9yRGV0YWlsID0gYExpZ25lICR7bGluZU51bX06ICR7cGFyc2VFcnIubWVzc2FnZX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmlsZUVycm9ycy5wdXNoKHsgZmlsZTogZmlsZS5uYW1lLCBlcnJvcjogZXJyb3JEZXRhaWwgfSk7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdbaW1wb3J0XSBwYXJzZSBlcnJvcicsIGZpbGUubmFtZSwgcGFyc2VFcnIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBTaG93IGZpbGUgcGFyc2luZyBlcnJvcnMgaWYgYW55XG4gICAgICAgIGlmIChmaWxlRXJyb3JzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBpZiAoaW1wb3J0UmVzdWx0cyAmJiBpbXBvcnRSZXN1bHRzQ29udGVudCkge1xuICAgICAgICAgICAgaW1wb3J0UmVzdWx0cy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIGxldCBodG1sID0gJzxkaXYgY2xhc3M9XCJ0ZXh0LXJvc2UtNjAwXCI+PHAgY2xhc3M9XCJmb250LW1lZGl1bVwiPlx1MjcxNyBFcnJldXJzIGRlIHN5bnRheGUgSlNPTjwvcD48dWwgY2xhc3M9XCJtbC00IHRleHQteHMgbXQtMVwiPic7XG4gICAgICAgICAgICBmaWxlRXJyb3JzLmZvckVhY2goZSA9PiB7XG4gICAgICAgICAgICAgIGh0bWwgKz0gYDxsaT48c3Ryb25nPiR7ZS5maWxlfTwvc3Ryb25nPjogJHtlLmVycm9yfTwvbGk+YDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaHRtbCArPSAnPC91bD48L2Rpdj4nO1xuICAgICAgICAgICAgaWYgKHBhZ2VzRGF0YS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgIGh0bWwgKz0gYDxwIGNsYXNzPVwidGV4dC1hbWJlci02MDAgbXQtMiB0ZXh0LXNtXCI+XHUyNkEwICR7cGFnZXNEYXRhLmxlbmd0aH0gcGFnZShzKSB2YWxpZGUocykgc2Vyb250IGltcG9ydFx1MDBFOWUocyk8L3A+YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGltcG9ydFJlc3VsdHNDb250ZW50LmlubmVySFRNTCA9IGh0bWw7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChwYWdlc0RhdGEubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBzaG93VG9hc3QoJ1RvdXMgbGVzIGZpY2hpZXJzIGNvbnRpZW5uZW50IGRlcyBlcnJldXJzIEpTT04nLCAnZXJyb3InKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gVlx1MDBFOXJpZmllciBxdSdvbiBhIGRlcyBkb25uXHUwMEU5ZXMgXHUwMEUwIGltcG9ydGVyXG4gICAgICBjb25zdCBoYXNEYXRhID0gQXJyYXkuaXNBcnJheShwYWdlc0RhdGEpIFxuICAgICAgICA/IHBhZ2VzRGF0YS5sZW5ndGggPiAwIFxuICAgICAgICA6IChwYWdlc0RhdGEgJiYgKHBhZ2VzRGF0YS5wYWdlcz8ubGVuZ3RoID4gMCB8fCBwYWdlc0RhdGEudGl0bGUpKTtcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coJ1tpbXBvcnRdIGhhc0RhdGEgY2hlY2s6JywgaGFzRGF0YSwgJ3BhZ2VzRGF0YTonLCBwYWdlc0RhdGEpO1xuICAgICAgXG4gICAgICBpZiAoIWhhc0RhdGEpIHtcbiAgICAgICAgc2hvd1RvYXN0KCdBdWN1bmUgcGFnZSB2YWxpZGUgXHUwMEUwIGltcG9ydGVyLicpO1xuICAgICAgICBpZiAoaW1wb3J0UmVzdWx0cyAmJiBpbXBvcnRSZXN1bHRzQ29udGVudCkge1xuICAgICAgICAgIGltcG9ydFJlc3VsdHMuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgaW1wb3J0UmVzdWx0c0NvbnRlbnQuaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRleHQtYW1iZXItNjAwXCI+XG4gICAgICAgICAgICAgIDxwIGNsYXNzPVwiZm9udC1tZWRpdW1cIj5cdTI2QTAgQXVjdW5lIHBhZ2UgZFx1MDBFOXRlY3RcdTAwRTllPC9wPlxuICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQteHMgbXQtMVwiPkxlIEpTT04gZG9pdCBjb250ZW5pciA6PC9wPlxuICAgICAgICAgICAgICA8dWwgY2xhc3M9XCJ0ZXh0LXhzIG1sLTQgbXQtMSBsaXN0LWRpc2NcIj5cbiAgICAgICAgICAgICAgICA8bGk+VW4gb2JqZXQgcGFnZSBhdmVjIFwidGl0bGVcIiA6IDxjb2RlPntcInRpdGxlXCI6IFwiTWEgcGFnZVwiLCAuLi59PC9jb2RlPjwvbGk+XG4gICAgICAgICAgICAgICAgPGxpPlVuIHRhYmxlYXUgZGUgcGFnZXMgOiA8Y29kZT5be1widGl0bGVcIjogXCJQYWdlIDFcIn0sIHtcInRpdGxlXCI6IFwiUGFnZSAyXCJ9XTwvY29kZT48L2xpPlxuICAgICAgICAgICAgICAgIDxsaT5PdSB1biBvYmpldCBjb21iaW5cdTAwRTkgOiA8Y29kZT57XCJwYWdlc1wiOiBbLi4uXSwgXCJjb2xsZWN0aW9uc1wiOiB7Li4ufX08L2NvZGU+PC9saT5cbiAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIGA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoaW1wb3J0U3VibWl0KSB7XG4gICAgICAgIGltcG9ydFN1Ym1pdC5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIGltcG9ydFN1Ym1pdC50ZXh0Q29udGVudCA9ICdJbXBvcnQuLi4nO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBBZmZpY2hlciBjZSBxdSdvbiB2YSBlbnZveWVyIChkZWJ1ZylcbiAgICAgIGNvbnNvbGUubG9nKCdbaW1wb3J0XSBTZW5kaW5nIHRvIHNlcnZlcjonLCBKU09OLnN0cmluZ2lmeShwYWdlc0RhdGEpLnN1YnN0cmluZygwLCA1MDApKTtcbiAgICAgIFxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtwYWdlc0FwaUJhc2V9L2ltcG9ydGAsIHtcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICBjcmVkZW50aWFsczogJ2luY2x1ZGUnLFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBhZ2VzRGF0YSksXG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgY29uc29sZS5sb2coJ1tpbXBvcnRdIFNlcnZlciByZXNwb25zZSBzdGF0dXM6JywgcmVzcG9uc2Uuc3RhdHVzKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgY29uc29sZS5sb2coJ1tpbXBvcnRdIFNlcnZlciByZXNwb25zZSBib2R5OicsIHJlc3VsdCk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAvLyBBZmZpY2hlciBsZSBkXHUwMEU5dGFpbCBkZSBsJ2VycmV1ciBzZXJ2ZXVyXG4gICAgICAgICAgaWYgKGltcG9ydFJlc3VsdHMgJiYgaW1wb3J0UmVzdWx0c0NvbnRlbnQpIHtcbiAgICAgICAgICAgIGltcG9ydFJlc3VsdHMuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgICBpbXBvcnRSZXN1bHRzQ29udGVudC5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LXJvc2UtNjAwXCI+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJmb250LW1lZGl1bVwiPlx1MjcxNyBFcnJldXIgc2VydmV1cjwvcD5cbiAgICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQteHMgbXQtMVwiPiR7cmVzdWx0Lm1lc3NhZ2UgfHwgJ0VycmV1ciBpbmNvbm51ZSd9PC9wPlxuICAgICAgICAgICAgICAgICR7cmVzdWx0LmRldGFpbHMgPyBgPHAgY2xhc3M9XCJ0ZXh0LXhzIG10LTEgdGV4dC1zbGF0ZS01MDBcIj4ke3Jlc3VsdC5kZXRhaWxzfTwvcD5gIDogJyd9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgYDtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5tZXNzYWdlIHx8ICdFcnJldXIgc2VydmV1cicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNob3cgcmVzdWx0c1xuICAgICAgICBpZiAoaW1wb3J0UmVzdWx0cyAmJiBpbXBvcnRSZXN1bHRzQ29udGVudCkge1xuICAgICAgICAgIGltcG9ydFJlc3VsdHMuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgbGV0IGh0bWwgPSAnJztcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBFbnRcdTAwRUF0ZSBzdWNjXHUwMEU4cy9lcnJldXJcbiAgICAgICAgICBjb25zdCBoYXNTdWNjZXNzID0gKHJlc3VsdC5pbXBvcnRlZD8ubGVuZ3RoID4gMCkgfHwgKHJlc3VsdC5jb2xsZWN0aW9uc0NyZWF0ZWQ/Lmxlbmd0aCA+IDApO1xuICAgICAgICAgIGNvbnN0IGhhc0Vycm9ycyA9IHJlc3VsdC5lcnJvcnM/Lmxlbmd0aCA+IDA7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKGhhc1N1Y2Nlc3MgJiYgIWhhc0Vycm9ycykge1xuICAgICAgICAgICAgaHRtbCArPSAnPGRpdiBjbGFzcz1cImJnLWdyZWVuLTUwIGJvcmRlciBib3JkZXItZ3JlZW4tMjAwIHJvdW5kZWQtbGcgcC0zIG1iLTJcIj48cCBjbGFzcz1cInRleHQtZ3JlZW4tODAwIGZvbnQtbWVkaXVtXCI+XHUyNzEzIEltcG9ydCByXHUwMEU5dXNzaTwvcD48L2Rpdj4nO1xuICAgICAgICAgIH0gZWxzZSBpZiAoaGFzU3VjY2VzcyAmJiBoYXNFcnJvcnMpIHtcbiAgICAgICAgICAgIGh0bWwgKz0gJzxkaXYgY2xhc3M9XCJiZy1hbWJlci01MCBib3JkZXIgYm9yZGVyLWFtYmVyLTIwMCByb3VuZGVkLWxnIHAtMyBtYi0yXCI+PHAgY2xhc3M9XCJ0ZXh0LWFtYmVyLTgwMCBmb250LW1lZGl1bVwiPlx1MjZBMCBJbXBvcnQgcGFydGllbDwvcD48L2Rpdj4nO1xuICAgICAgICAgIH0gZWxzZSBpZiAoaGFzRXJyb3JzKSB7XG4gICAgICAgICAgICBodG1sICs9ICc8ZGl2IGNsYXNzPVwiYmctcm9zZS01MCBib3JkZXIgYm9yZGVyLXJvc2UtMjAwIHJvdW5kZWQtbGcgcC0zIG1iLTJcIj48cCBjbGFzcz1cInRleHQtcm9zZS04MDAgZm9udC1tZWRpdW1cIj5cdTI3MTcgSW1wb3J0IFx1MDBFOWNob3VcdTAwRTk8L3A+PC9kaXY+JztcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQ29sbGVjdGlvbnMgY3JcdTAwRTlcdTAwRTllc1xuICAgICAgICAgIGlmIChyZXN1bHQuY29sbGVjdGlvbnNDcmVhdGVkICYmIHJlc3VsdC5jb2xsZWN0aW9uc0NyZWF0ZWQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgaHRtbCArPSBgPHAgY2xhc3M9XCJ0ZXh0LXZpb2xldC03MDAgbXQtMlwiPlx1MjcxMyAke3Jlc3VsdC5jb2xsZWN0aW9uc0NyZWF0ZWQubGVuZ3RofSBjb2xsZWN0aW9uKHMpIGNyXHUwMEU5XHUwMEU5ZShzKTwvcD5gO1xuICAgICAgICAgICAgaHRtbCArPSAnPHVsIGNsYXNzPVwibWwtNCB0ZXh0LXhzIHRleHQtc2xhdGUtNjAwXCI+JztcbiAgICAgICAgICAgIHJlc3VsdC5jb2xsZWN0aW9uc0NyZWF0ZWQuZm9yRWFjaCgoYykgPT4ge1xuICAgICAgICAgICAgICBodG1sICs9IGA8bGk+JHtjLm5hbWV9ICgke2MuaXRlbXNDb3VudH0gaXRlbSR7Yy5pdGVtc0NvdW50ID4gMSA/ICdzJyA6ICcnfSk8L2xpPmA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGh0bWwgKz0gJzwvdWw+JztcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gUGFnZXMgaW1wb3J0XHUwMEU5ZXNcbiAgICAgICAgICBpZiAocmVzdWx0LmltcG9ydGVkICYmIHJlc3VsdC5pbXBvcnRlZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBodG1sICs9IGA8cCBjbGFzcz1cInRleHQtZ3JlZW4tNzAwIG10LTJcIj5cdTI3MTMgJHtyZXN1bHQuaW1wb3J0ZWQubGVuZ3RofSBwYWdlKHMpIGltcG9ydFx1MDBFOWUocyk8L3A+YDtcbiAgICAgICAgICAgIGh0bWwgKz0gJzx1bCBjbGFzcz1cIm1sLTQgdGV4dC14cyB0ZXh0LXNsYXRlLTYwMFwiPic7XG4gICAgICAgICAgICByZXN1bHQuaW1wb3J0ZWQuZm9yRWFjaCgocCkgPT4ge1xuICAgICAgICAgICAgICBodG1sICs9IGA8bGk+PHN0cm9uZz4ke3AudGl0bGV9PC9zdHJvbmc+IFx1MjE5MiAke3Auc2x1Z30gKCR7cC5hY3Rpb24gPT09ICd1cGRhdGVkJyA/ICdtaXNlIFx1MDBFMCBqb3VyJyA6ICdjclx1MDBFOVx1MDBFOWUnfSk8L2xpPmA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGh0bWwgKz0gJzwvdWw+JztcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gRXJyZXVycyBhdmVjIGRcdTAwRTl0YWlsc1xuICAgICAgICAgIGlmIChyZXN1bHQuZXJyb3JzICYmIHJlc3VsdC5lcnJvcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgaHRtbCArPSBgPHAgY2xhc3M9XCJ0ZXh0LXJvc2UtNjAwIG10LTMgZm9udC1tZWRpdW1cIj5cdTI3MTcgJHtyZXN1bHQuZXJyb3JzLmxlbmd0aH0gZXJyZXVyKHMpPC9wPmA7XG4gICAgICAgICAgICBodG1sICs9ICc8dWwgY2xhc3M9XCJtbC00IHRleHQteHMgdGV4dC1yb3NlLTYwMCBzcGFjZS15LTEgbXQtMVwiPic7XG4gICAgICAgICAgICByZXN1bHQuZXJyb3JzLmZvckVhY2goKGUpID0+IHtcbiAgICAgICAgICAgICAgaHRtbCArPSBgPGxpIGNsYXNzPVwiYmctcm9zZS01MCBwLTIgcm91bmRlZFwiPjxzdHJvbmc+JHtlLnRpdGxlfTwvc3Ryb25nPjxici8+PHNwYW4gY2xhc3M9XCJ0ZXh0LXJvc2UtNTAwXCI+JHtlLmVycm9yfTwvc3Bhbj48L2xpPmA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGh0bWwgKz0gJzwvdWw+JztcbiAgICAgICAgICB9XG4gICAgICAgICAgaW1wb3J0UmVzdWx0c0NvbnRlbnQuaW5uZXJIVE1MID0gaHRtbDtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZWxvYWQgcGFnZXMgbGlzdCBhbmQgc2hvdyB0b2FzdFxuICAgICAgICBjb25zdCBoYXNTdWNjZXNzID0gKHJlc3VsdC5pbXBvcnRlZD8ubGVuZ3RoID4gMCkgfHwgKHJlc3VsdC5jb2xsZWN0aW9uc0NyZWF0ZWQ/Lmxlbmd0aCA+IDApO1xuICAgICAgICBjb25zdCBoYXNFcnJvcnMgPSByZXN1bHQuZXJyb3JzPy5sZW5ndGggPiAwO1xuICAgICAgICBcbiAgICAgICAgaWYgKHJlc3VsdC5pbXBvcnRlZCAmJiByZXN1bHQuaW1wb3J0ZWQubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGNvbnN0IGZyZXNoUGFnZXMgPSBhd2FpdCBmZXRjaFBhZ2VzRnJvbVNlcnZlcigpO1xuICAgICAgICAgIHBhZ2VzID0gZnJlc2hQYWdlcztcbiAgICAgICAgICByZW5kZXJQYWdlTGlzdHMocGFnZXMsIGFjdGl2ZVBhZ2VJZCk7XG4gICAgICAgICAgaWYgKHBhZ2VzLmxlbmd0aCA+IDAgJiYgIWFjdGl2ZVBhZ2VJZCkge1xuICAgICAgICAgICAgc2V0QWN0aXZlUGFnZShwYWdlc1swXS5pZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBUb2FzdCBhdmVjIHN0YXR1dCBhcHByb3ByaVx1MDBFOVxuICAgICAgICBpZiAoaGFzU3VjY2VzcyAmJiAhaGFzRXJyb3JzKSB7XG4gICAgICAgICAgY29uc3QgY29sbGVjdGlvbnNNc2cgPSByZXN1bHQuY29sbGVjdGlvbnNDcmVhdGVkPy5sZW5ndGggXG4gICAgICAgICAgICA/IGAgKyAke3Jlc3VsdC5jb2xsZWN0aW9uc0NyZWF0ZWQubGVuZ3RofSBjb2xsZWN0aW9uKHMpYCBcbiAgICAgICAgICAgIDogJyc7XG4gICAgICAgICAgc2hvd1RvYXN0KGBcdTI3MTMgSW1wb3J0IHJcdTAwRTl1c3NpIDogJHtyZXN1bHQuaW1wb3J0ZWQ/Lmxlbmd0aCB8fCAwfSBwYWdlKHMpJHtjb2xsZWN0aW9uc01zZ31gLCAnc3VjY2VzcycpO1xuICAgICAgICB9IGVsc2UgaWYgKGhhc1N1Y2Nlc3MgJiYgaGFzRXJyb3JzKSB7XG4gICAgICAgICAgc2hvd1RvYXN0KGBcdTI2QTAgSW1wb3J0IHBhcnRpZWwgOiAke3Jlc3VsdC5pbXBvcnRlZD8ubGVuZ3RoIHx8IDB9IHBhZ2UocyksICR7cmVzdWx0LmVycm9ycy5sZW5ndGh9IGVycmV1cihzKWAsICd3YXJuaW5nJyk7XG4gICAgICAgIH0gZWxzZSBpZiAoaGFzRXJyb3JzKSB7XG4gICAgICAgICAgc2hvd1RvYXN0KGBcdTI3MTcgSW1wb3J0IFx1MDBFOWNob3VcdTAwRTkgOiAke3Jlc3VsdC5lcnJvcnMubGVuZ3RofSBlcnJldXIocylgLCAnZXJyb3InKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaW1wb3J0U2VsZWN0ZWRGaWxlcyA9IFtdO1xuICAgICAgICB1cGRhdGVJbXBvcnRGaWxlTGlzdCgpO1xuICAgICAgICByZXNldFBhc3RlU3RhdGUoKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbaW1wb3J0XSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBpbXBvcnQnLCAnZXJyb3InKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmIChpbXBvcnRTdWJtaXQpIHtcbiAgICAgICAgICBpbXBvcnRTdWJtaXQuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICBpbXBvcnRTdWJtaXQudGV4dENvbnRlbnQgPSAnSW1wb3J0ZXInO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICBpbXBvcnRUb2dnbGU/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlbkltcG9ydE1vZGFsKTtcbiAgICBpbXBvcnRDbG9zZUJ1dHRvbnMuZm9yRWFjaCgoYnRuKSA9PiBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZUltcG9ydE1vZGFsKSk7XG4gICAgaW1wb3J0TW9kYWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGlmIChlLnRhcmdldCA9PT0gaW1wb3J0TW9kYWwpIGNsb3NlSW1wb3J0TW9kYWwoKTtcbiAgICB9KTtcbiAgICBpbXBvcnRGaWxlSW5wdXQ/LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIChlKSA9PiB7XG4gICAgICBoYW5kbGVJbXBvcnRGaWxlcyhlLnRhcmdldC5maWxlcyk7XG4gICAgfSk7XG4gICAgaW1wb3J0RHJvcHpvbmU/LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGltcG9ydERyb3B6b25lLmNsYXNzTGlzdC5hZGQoJ2JvcmRlci1bIzlDNkJGRl0nLCAnYmctWyM5QzZCRkZdLzEwJyk7XG4gICAgfSk7XG4gICAgaW1wb3J0RHJvcHpvbmU/LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdsZWF2ZScsIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpbXBvcnREcm9wem9uZS5jbGFzc0xpc3QucmVtb3ZlKCdib3JkZXItWyM5QzZCRkZdJywgJ2JnLVsjOUM2QkZGXS8xMCcpO1xuICAgIH0pO1xuICAgIGltcG9ydERyb3B6b25lPy5hZGRFdmVudExpc3RlbmVyKCdkcm9wJywgKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGltcG9ydERyb3B6b25lLmNsYXNzTGlzdC5yZW1vdmUoJ2JvcmRlci1bIzlDNkJGRl0nLCAnYmctWyM5QzZCRkZdLzEwJyk7XG4gICAgICBoYW5kbGVJbXBvcnRGaWxlcyhlLmRhdGFUcmFuc2Zlci5maWxlcyk7XG4gICAgfSk7XG4gICAgaW1wb3J0U3VibWl0Py5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGV4ZWN1dGVJbXBvcnQpO1xuICAgIC8vIFBhc3RlIEpTT04gaGFuZGxlcnNcbiAgICBpbXBvcnRQYXN0ZUlucHV0Py5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICAgIHVwZGF0ZUltcG9ydFN1Ym1pdFN0YXRlKCk7XG4gICAgfSk7XG4gICAgcGFzdGVGb3JtYXRCdG4/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZm9ybWF0UGFzdGVKc29uKTtcbiAgICAvLyBJbXBvcnQgdGFic1xuICAgIGltcG9ydFRhYnMuZm9yRWFjaCgodGFiKSA9PiB7XG4gICAgICB0YWIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHRhcmdldFBhbmVsID0gdGFiLmRhdGFzZXQuaW1wb3J0VGFiO1xuICAgICAgICBhY3RpdmVJbXBvcnRUYWIgPSB0YXJnZXRQYW5lbDtcbiAgICAgICAgaW1wb3J0VGFicy5mb3JFYWNoKCh0KSA9PiB7XG4gICAgICAgICAgaWYgKHQuZGF0YXNldC5pbXBvcnRUYWIgPT09IHRhcmdldFBhbmVsKSB7XG4gICAgICAgICAgICB0LmNsYXNzTGlzdC5hZGQoJ2JnLVsjOUM2QkZGXScsICd0ZXh0LXdoaXRlJyk7XG4gICAgICAgICAgICB0LmNsYXNzTGlzdC5yZW1vdmUoJ2JvcmRlcicsICdib3JkZXItc2xhdGUtMjAwJywgJ3RleHQtc2xhdGUtNzAwJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHQuY2xhc3NMaXN0LnJlbW92ZSgnYmctWyM5QzZCRkZdJywgJ3RleHQtd2hpdGUnKTtcbiAgICAgICAgICAgIHQuY2xhc3NMaXN0LmFkZCgnYm9yZGVyJywgJ2JvcmRlci1zbGF0ZS0yMDAnLCAndGV4dC1zbGF0ZS03MDAnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpbXBvcnRQYW5lbHMuZm9yRWFjaCgocCkgPT4ge1xuICAgICAgICAgIGlmIChwLmRhdGFzZXQuaW1wb3J0UGFuZWwgPT09IHRhcmdldFBhbmVsKSB7XG4gICAgICAgICAgICBwLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHVwZGF0ZUltcG9ydFN1Ym1pdFN0YXRlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBjb3B5VGVtcGxhdGVCdG4/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCF0ZW1wbGF0ZUpzb24pIHJldHVybjtcbiAgICAgIGNvbnN0IHRleHQgPSB0ZW1wbGF0ZUpzb24udGV4dENvbnRlbnQgfHwgJyc7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dCh0ZXh0KTtcbiAgICAgICAgc2hvd1RvYXN0KCdUZW1wbGF0ZSBjb3BpXHUwMEU5ICEnKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbaW1wb3J0XSBjb3B5IGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdCgnRXJyZXVyIGNvcGllJyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBEZWxldGUgcGFnZSBtb2RhbCBsaXN0ZW5lcnNcbiAgICBkZWxldGVQYWdlQ2FuY2VsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlRGVsZXRlUGFnZU1vZGFsKTtcbiAgICBkZWxldGVQYWdlQ29uZmlybT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBleGVjdXRlRGVsZXRlUGFnZSk7XG4gICAgZGVsZXRlUGFnZU1vZGFsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBpZiAoZS50YXJnZXQgPT09IGRlbGV0ZVBhZ2VNb2RhbCkgY2xvc2VEZWxldGVQYWdlTW9kYWwoKTtcbiAgICB9KTtcblxuICAgIGJsb2NrTGlicmFyeVRvZ2dsZT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgdG9nZ2xlQmxvY2tMaWJyYXJ5KCk7XG4gICAgfSk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIGlmICghYmxvY2tMaWJyYXJ5T3Blbikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoXG4gICAgICAgIGJsb2NrTGlicmFyeT8uY29udGFpbnMoZXZlbnQudGFyZ2V0KSB8fFxuICAgICAgICBibG9ja0xpYnJhcnlUb2dnbGU/LmNvbnRhaW5zKGV2ZW50LnRhcmdldClcbiAgICAgICkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjbG9zZUJsb2NrTGlicmFyeSgpO1xuICAgIH0pO1xuICAgIGJsb2NrQWRkQnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgY29uc3QgdHlwZSA9IGJ1dHRvbi5kYXRhc2V0LmJsb2NrQWRkO1xuICAgICAgICBhZGRCbG9ja0Zyb21MaWJyYXJ5KHR5cGUpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgYmxvY2tEZWxldGVDYW5jZWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY2xvc2VCbG9ja0RlbGV0ZU1vZGFsKCk7XG4gICAgfSk7XG4gICAgYmxvY2tEZWxldGVDb25maXJtPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGlmIChwZW5kaW5nRGVsZXRlQmxvY2tJZCkge1xuICAgICAgICBkZWxldGVCbG9ja0J5SWQocGVuZGluZ0RlbGV0ZUJsb2NrSWQpO1xuICAgICAgfVxuICAgICAgY2xvc2VCbG9ja0RlbGV0ZU1vZGFsKCk7XG4gICAgfSk7XG4gICAgYmxvY2tEZWxldGVNb2RhbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIGlmIChldmVudC50YXJnZXQgPT09IGJsb2NrRGVsZXRlTW9kYWwpIHtcbiAgICAgICAgY2xvc2VCbG9ja0RlbGV0ZU1vZGFsKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgYmxvY2tGb3JtPy5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIChldmVudCkgPT4ge1xuICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgaWYgKCF0YXJnZXQgfHwgIXRhcmdldC5uYW1lKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vIE1pbmkgcHJldmlldyBwb3VyIGdyb3VwZVxuICAgICAgaWYgKHRhcmdldC5uYW1lID09PSAnZ3JvdXAtY29sdW1ucy1tb2JpbGUnIHx8IHRhcmdldC5uYW1lID09PSAnZ3JvdXAtY29sdW1ucy1kZXNrdG9wJykge1xuICAgICAgICBjb25zdCBtb2JpbGVWYWx1ZSA9XG4gICAgICAgICAgYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZ3JvdXAtY29sdW1ucy1tb2JpbGVcIl0nKT8udmFsdWUgfHwgJzEnO1xuICAgICAgICBjb25zdCBkZXNrdG9wVmFsdWUgPVxuICAgICAgICAgIGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImdyb3VwLWNvbHVtbnMtZGVza3RvcFwiXScpPy52YWx1ZSB8fCAnMyc7XG4gICAgICAgIHVwZGF0ZUdyb3VwTWluaVByZXZpZXcobW9iaWxlVmFsdWUsIGRlc2t0b3BWYWx1ZSk7XG4gICAgICB9XG4gICAgICAvLyBNaW5pIHByZXZpZXcgcG91ciBjb2xsZWN0aW9uXG4gICAgICBpZiAodGFyZ2V0Lm5hbWUgPT09ICdjb2xsZWN0aW9uLWNvbHVtbnMtbW9iaWxlJyB8fCB0YXJnZXQubmFtZSA9PT0gJ2NvbGxlY3Rpb24tY29sdW1ucy1kZXNrdG9wJykge1xuICAgICAgICBjb25zdCBtb2JpbGVWYWx1ZSA9XG4gICAgICAgICAgYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiY29sbGVjdGlvbi1jb2x1bW5zLW1vYmlsZVwiXScpPy52YWx1ZSB8fCAnMSc7XG4gICAgICAgIGNvbnN0IGRlc2t0b3BWYWx1ZSA9XG4gICAgICAgICAgYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiY29sbGVjdGlvbi1jb2x1bW5zLWRlc2t0b3BcIl0nKT8udmFsdWUgfHwgJzMnO1xuICAgICAgICB1cGRhdGVDb2xsZWN0aW9uTWluaVByZXZpZXcobW9iaWxlVmFsdWUsIGRlc2t0b3BWYWx1ZSk7XG4gICAgICB9XG4gICAgICAvLyBEXHUwMEU5dGVjdGlvbiBzaSBvbiBlc3QgZGFucyBsZSBwYW5lbCBBcHBhcmVuY2UgXHUyMTkyIGF1dG8tc2F2ZVxuICAgICAgY29uc3QgcGFuZWwgPSB0YXJnZXQuY2xvc2VzdCgnW2RhdGEtYmxvY2stcGFuZWxdJyk7XG4gICAgICBpZiAocGFuZWwgJiYgcGFuZWwuZGF0YXNldC5ibG9ja1BhbmVsID09PSAnYXBwZWFyYW5jZScpIHtcbiAgICAgICAgLy8gQXV0by1zYXZlICsgcmVmcmVzaCBwcmV2aWV3IHBvdXIgbCdhcHBhcmVuY2VcbiAgICAgICAgY29uc3QgYmxvY2sgPSBnZXRBY3RpdmVCbG9jaygpO1xuICAgICAgICBjb25zdCBjb25maWcgPSBnZXRCbG9ja0Zvcm1Db25maWcoYmxvY2spO1xuICAgICAgICBpZiAoYmxvY2sgJiYgY29uZmlnKSB7XG4gICAgICAgICAgY29uc3QgdmFsdWVzID0gY29sbGVjdEZvcm1WYWx1ZXMoY29uZmlnKTtcbiAgICAgICAgICBoYW5kbGVBcHBlYXJhbmNlQ2hhbmdlKGJsb2NrLmlkLCB2YWx1ZXMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgLy8gXHUwMEM5Z2FsZW1lbnQgc3VyICdjaGFuZ2UnIHBvdXIgbGVzIHNlbGVjdHNcbiAgICBibG9ja0Zvcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIChldmVudCkgPT4ge1xuICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgaWYgKCF0YXJnZXQgfHwgIXRhcmdldC5uYW1lKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vIE1pc2UgXHUwMEUwIGpvdXIgZHUgcHJldmlldyBkZSBjb3VsZXVyIHBvdXIgbGVzIGNvbG9yIHNlbGVjdHNcbiAgICAgIGlmICh0YXJnZXQuaGFzQXR0cmlidXRlKCdkYXRhLWNvbG9yLXNlbGVjdCcpKSB7XG4gICAgICAgIGNvbnN0IHNlbGVjdGVkT3B0aW9uID0gdGFyZ2V0Lm9wdGlvbnNbdGFyZ2V0LnNlbGVjdGVkSW5kZXhdO1xuICAgICAgICBjb25zdCBjb2xvciA9IHNlbGVjdGVkT3B0aW9uPy5kYXRhc2V0Py5jb2xvciB8fCAnI2ZmZmZmZic7XG4gICAgICAgIGNvbnN0IGNvbG9yUHJldmlldyA9IHRhcmdldC5jbG9zZXN0KCcucmVsYXRpdmUnKT8ucXVlcnlTZWxlY3RvcignW2RhdGEtY29sb3ItcHJldmlld10nKTtcbiAgICAgICAgaWYgKGNvbG9yUHJldmlldykge1xuICAgICAgICAgIGlmIChjb2xvciA9PT0gJ3RyYW5zcGFyZW50Jykge1xuICAgICAgICAgICAgY29sb3JQcmV2aWV3LnN0eWxlLmJhY2tncm91bmQgPSAncmVwZWF0aW5nLWNvbmljLWdyYWRpZW50KCNjY2MgMCUgMjUlLCB3aGl0ZSAwJSA1MCUpIDUwJSAvIDhweCA4cHgnO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb2xvclByZXZpZXcuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gY29sb3I7XG4gICAgICAgICAgICBjb2xvclByZXZpZXcuc3R5bGUuYmFja2dyb3VuZCA9ICcnO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3QgcGFuZWwgPSB0YXJnZXQuY2xvc2VzdCgnW2RhdGEtYmxvY2stcGFuZWxdJyk7XG4gICAgICBpZiAocGFuZWwgJiYgcGFuZWwuZGF0YXNldC5ibG9ja1BhbmVsID09PSAnYXBwZWFyYW5jZScpIHtcbiAgICAgICAgY29uc3QgYmxvY2sgPSBnZXRBY3RpdmVCbG9jaygpO1xuICAgICAgICBjb25zdCBjb25maWcgPSBnZXRCbG9ja0Zvcm1Db25maWcoYmxvY2spO1xuICAgICAgICBpZiAoYmxvY2sgJiYgY29uZmlnKSB7XG4gICAgICAgICAgY29uc3QgdmFsdWVzID0gY29sbGVjdEZvcm1WYWx1ZXMoY29uZmlnKTtcbiAgICAgICAgICBoYW5kbGVBcHBlYXJhbmNlQ2hhbmdlKGJsb2NrLmlkLCB2YWx1ZXMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgY29sbGVjdGlvblNlbGVjdD8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQ7XG4gICAgICBzeW5jQ29sbGVjdGlvblNlbGVjdGlvbkluZm8odGFyZ2V0Py52YWx1ZSB8fCAnJyk7XG4gICAgfSk7XG4gICAgYmxvY2tGb3JtPy5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBoYW5kbGVCbG9ja0Zvcm1TdWJtaXQpO1xuICAgIGJsb2NrRm9ybUNhbmNlbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBjb25zdCBibG9jayA9IGdldEFjdGl2ZUJsb2NrKCk7XG4gICAgICBpZiAoYmxvY2spIHtcbiAgICAgICAgcG9wdWxhdGVCbG9ja0Zvcm0oYmxvY2spO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHByZXZpZXdGcmFtZT8uYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHtcbiAgICAgIHByZXZpZXdSZWFkeSA9IHRydWU7XG4gICAgICB1cGRhdGVQcmV2aWV3U3RhdHVzKCdcdTAwQzAgam91cicpO1xuICAgICAgYXBwbHlQcmV2aWV3SGlnaGxpZ2h0KGFjdGl2ZUJsb2NrSWQpO1xuICAgIH0pO1xuICAgIHByZXZpZXdPcGVuQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IHByZXZpZXdXaW5kb3cgPSB3aW5kb3cub3BlbignJywgJ19ibGFuaycpO1xuICAgICAgaWYgKCFwcmV2aWV3V2luZG93KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHByZXZpZXdXaW5kb3cub3BlbmVyID0gbnVsbDtcbiAgICAgIGNvbnN0IGRvYyA9IHByZXZpZXdXaW5kb3cuZG9jdW1lbnQ7XG4gICAgICBkb2Mub3BlbigpO1xuICAgICAgZG9jLndyaXRlKGxhdGVzdFByZXZpZXdIdG1sIHx8IGdldExvYWRpbmdQcmV2aWV3SHRtbCgpKTtcbiAgICAgIGRvYy5jbG9zZSgpO1xuICAgIH0pO1xuXG4gICAgLy8gU0VPIHBhbmVsIGxvZ2ljXG4gICAgY29uc3QgdG9nZ2xlU2VvUGFuZWwgPSAoc2hvdykgPT4ge1xuICAgICAgaWYgKCFzZW9QYW5lbCkgcmV0dXJuO1xuICAgICAgaWYgKHNob3cpIHtcbiAgICAgICAgc2VvUGFuZWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIC8vIFBvcHVsYXRlIGZpZWxkcyB3aXRoIGN1cnJlbnQgcGFnZSBTRU8gZGF0YVxuICAgICAgICBpZiAoY3VycmVudFBhZ2UpIHtcbiAgICAgICAgICBzZW9UaXRsZUlucHV0ICYmIChzZW9UaXRsZUlucHV0LnZhbHVlID0gY3VycmVudFBhZ2Uuc2VvPy50aXRsZSB8fCAnJyk7XG4gICAgICAgICAgc2VvRGVzY3JpcHRpb25JbnB1dCAmJiAoc2VvRGVzY3JpcHRpb25JbnB1dC52YWx1ZSA9IGN1cnJlbnRQYWdlLnNlbz8uZGVzY3JpcHRpb24gfHwgJycpO1xuICAgICAgICAgIC8vIGluZGV4ZWQ6IHRydWUgYnkgZGVmYXVsdCBpZiBub3QgZXhwbGljaXRseSBzZXQgdG8gZmFsc2VcbiAgICAgICAgICBzZW9JbmRleGVkQ2hlY2tib3ggJiYgKHNlb0luZGV4ZWRDaGVja2JveC5jaGVja2VkID0gY3VycmVudFBhZ2Uuc2VvPy5pbmRleGVkICE9PSBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNlb1BhbmVsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3Qgc2V0U2VvRmVlZGJhY2sgPSAobWVzc2FnZSwgdG9uZSA9ICdtdXRlZCcpID0+IHtcbiAgICAgIGlmICghc2VvRmVlZGJhY2spIHJldHVybjtcbiAgICAgIGNvbnN0IGNvbG9yID0gdG9uZSA9PT0gJ3N1Y2Nlc3MnID8gJ3RleHQtZW1lcmFsZC02MDAnIDogdG9uZSA9PT0gJ2Vycm9yJyA/ICd0ZXh0LXJvc2UtNjAwJyA6ICd0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICBzZW9GZWVkYmFjay50ZXh0Q29udGVudCA9IG1lc3NhZ2UgfHwgJyc7XG4gICAgICBzZW9GZWVkYmFjay5jbGFzc05hbWUgPSBgdGV4dC1zbSAke2NvbG9yfWA7XG4gICAgfTtcbiAgICBzZW9Ub2dnbGVCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgaXNWaXNpYmxlID0gc2VvUGFuZWwgJiYgIXNlb1BhbmVsLmNsYXNzTGlzdC5jb250YWlucygnaGlkZGVuJyk7XG4gICAgICB0b2dnbGVTZW9QYW5lbCghaXNWaXNpYmxlKTtcbiAgICB9KTtcbiAgICBzZW9DbG9zZUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0b2dnbGVTZW9QYW5lbChmYWxzZSkpO1xuICAgIHNlb0Zvcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmICghY3VycmVudFBhZ2UpIHtcbiAgICAgICAgc2V0U2VvRmVlZGJhY2soJ0F1Y3VuZSBwYWdlIGFjdGl2ZS4nLCAnZXJyb3InKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2VvU2F2ZUJ1dHRvbiAmJiAoc2VvU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWUpO1xuICAgICAgc2V0U2VvRmVlZGJhY2soJycpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgc2VvRGF0YSA9IHtcbiAgICAgICAgICB0aXRsZTogKHNlb1RpdGxlSW5wdXQ/LnZhbHVlIHx8ICcnKS50cmltKCksXG4gICAgICAgICAgZGVzY3JpcHRpb246IChzZW9EZXNjcmlwdGlvbklucHV0Py52YWx1ZSB8fCAnJykudHJpbSgpLFxuICAgICAgICAgIGluZGV4ZWQ6IHNlb0luZGV4ZWRDaGVja2JveD8uY2hlY2tlZCA/PyB0cnVlLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCB1cGRhdGVkUGFnZSA9IHsgLi4uY3VycmVudFBhZ2UsIHNlbzogc2VvRGF0YSB9O1xuICAgICAgICBjb25zdCBzYXZlZCA9IGF3YWl0IHNhdmVQYWdlVG9TZXJ2ZXIodXBkYXRlZFBhZ2UpO1xuICAgICAgICBpZiAoc2F2ZWQpIHtcbiAgICAgICAgICBjdXJyZW50UGFnZSA9IHNhdmVkO1xuICAgICAgICAgIHNldFNlb0ZlZWRiYWNrKCdTRU8gZW5yZWdpc3RyXHUwMEU5LicsICdzdWNjZXNzJyk7XG4gICAgICAgICAgc2hvd1RvYXN0KCdTRU8gbWlzIFx1MDBFMCBqb3VyJyk7XG4gICAgICAgICAgcmVmcmVzaFByZXZpZXcoY3VycmVudFBhZ2UpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW3Nlb10gc2F2ZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzZXRTZW9GZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZGUgbGEgc2F1dmVnYXJkZS4nLCAnZXJyb3InKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNlb1NhdmVCdXR0b24gJiYgKHNlb1NhdmVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBjb25zdCBzeW5jUGFnZUFjY2Vzc2liaWxpdHlGaWVsZHMgPSAoKSA9PiB7XG4gICAgICBpZiAoIXBhZ2VBY2Nlc3NpYmlsaXR5TmF2Q2hlY2tib3ggJiYgIXBhZ2VBY2Nlc3NpYmlsaXR5TWFpbklucHV0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghY3VycmVudFBhZ2UpIHtcbiAgICAgICAgcGFnZUFjY2Vzc2liaWxpdHlOYXZDaGVja2JveCAmJiAocGFnZUFjY2Vzc2liaWxpdHlOYXZDaGVja2JveC5jaGVja2VkID0gdHJ1ZSk7XG4gICAgICAgIHBhZ2VBY2Nlc3NpYmlsaXR5TWFpbklucHV0ICYmIChwYWdlQWNjZXNzaWJpbGl0eU1haW5JbnB1dC52YWx1ZSA9ICcnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHBhZ2VBY2Nlc3NpYmlsaXR5TmF2Q2hlY2tib3gpIHtcbiAgICAgICAgcGFnZUFjY2Vzc2liaWxpdHlOYXZDaGVja2JveC5jaGVja2VkID1cbiAgICAgICAgICBjdXJyZW50UGFnZS5hY2Nlc3NpYmlsaXR5Py5zaG93SW5NYWluTmF2ICE9PSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmIChwYWdlQWNjZXNzaWJpbGl0eU1haW5JbnB1dCkge1xuICAgICAgICBwYWdlQWNjZXNzaWJpbGl0eU1haW5JbnB1dC52YWx1ZSA9IGN1cnJlbnRQYWdlLmFjY2Vzc2liaWxpdHk/Lm1haW5MYWJlbCB8fCAnJztcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgdG9nZ2xlUGFnZUFjY2Vzc2liaWxpdHlQYW5lbCA9IChzaG93KSA9PiB7XG4gICAgICBpZiAoIXBhZ2VBY2Nlc3NpYmlsaXR5UGFuZWwpIHJldHVybjtcbiAgICAgIGlmIChzaG93KSB7XG4gICAgICAgIHN5bmNQYWdlQWNjZXNzaWJpbGl0eUZpZWxkcygpO1xuICAgICAgICBwYWdlQWNjZXNzaWJpbGl0eVBhbmVsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFnZUFjY2Vzc2liaWxpdHlQYW5lbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3Qgc2V0UGFnZUFjY2Vzc2liaWxpdHlGZWVkYmFjayA9IChtZXNzYWdlLCB0b25lID0gJ211dGVkJykgPT4ge1xuICAgICAgaWYgKCFwYWdlQWNjZXNzaWJpbGl0eUZlZWRiYWNrKSByZXR1cm47XG4gICAgICBjb25zdCBjb2xvciA9XG4gICAgICAgIHRvbmUgPT09ICdzdWNjZXNzJ1xuICAgICAgICAgID8gJ3RleHQtZW1lcmFsZC02MDAnXG4gICAgICAgICAgOiB0b25lID09PSAnZXJyb3InXG4gICAgICAgICAgICA/ICd0ZXh0LXJvc2UtNjAwJ1xuICAgICAgICAgICAgOiAndGV4dC1zbGF0ZS01MDAnO1xuICAgICAgcGFnZUFjY2Vzc2liaWxpdHlGZWVkYmFjay50ZXh0Q29udGVudCA9IG1lc3NhZ2UgfHwgJyc7XG4gICAgICBwYWdlQWNjZXNzaWJpbGl0eUZlZWRiYWNrLmNsYXNzTmFtZSA9IGB0ZXh0LXNtICR7Y29sb3J9YDtcbiAgICB9O1xuXG4gICAgcGFnZUFjY2Vzc2liaWxpdHlUb2dnbGVCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgaXNWaXNpYmxlID1cbiAgICAgICAgcGFnZUFjY2Vzc2liaWxpdHlQYW5lbCAmJiAhcGFnZUFjY2Vzc2liaWxpdHlQYW5lbC5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpO1xuICAgICAgdG9nZ2xlUGFnZUFjY2Vzc2liaWxpdHlQYW5lbCghaXNWaXNpYmxlKTtcbiAgICB9KTtcbiAgICBwYWdlQWNjZXNzaWJpbGl0eUNsb3NlQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+XG4gICAgICB0b2dnbGVQYWdlQWNjZXNzaWJpbGl0eVBhbmVsKGZhbHNlKSxcbiAgICApO1xuXG4gICAgcGFnZUFjY2Vzc2liaWxpdHlGb3JtPy5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlKSB7XG4gICAgICAgIHNldFBhZ2VBY2Nlc3NpYmlsaXR5RmVlZGJhY2soJ0F1Y3VuZSBwYWdlIGFjdGl2ZS4nLCAnZXJyb3InKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcGFnZUFjY2Vzc2liaWxpdHlTYXZlQnV0dG9uICYmIChwYWdlQWNjZXNzaWJpbGl0eVNhdmVCdXR0b24uZGlzYWJsZWQgPSB0cnVlKTtcbiAgICAgIHNldFBhZ2VBY2Nlc3NpYmlsaXR5RmVlZGJhY2soJycpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgYWNjZXNzaWJpbGl0eURhdGEgPSB7XG4gICAgICAgICAgc2hvd0luTWFpbk5hdjogcGFnZUFjY2Vzc2liaWxpdHlOYXZDaGVja2JveD8uY2hlY2tlZCA/PyB0cnVlLFxuICAgICAgICAgIG1haW5MYWJlbDogKHBhZ2VBY2Nlc3NpYmlsaXR5TWFpbklucHV0Py52YWx1ZSB8fCAnJykudHJpbSgpLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCB1cGRhdGVkUGFnZSA9IHtcbiAgICAgICAgICAuLi5jdXJyZW50UGFnZSxcbiAgICAgICAgICBhY2Nlc3NpYmlsaXR5OiBhY2Nlc3NpYmlsaXR5RGF0YSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3Qgc2F2ZWQgPSBhd2FpdCBzYXZlUGFnZVRvU2VydmVyKHVwZGF0ZWRQYWdlKTtcbiAgICAgICAgaWYgKHNhdmVkKSB7XG4gICAgICAgICAgY3VycmVudFBhZ2UgPSBzYXZlZDtcbiAgICAgICAgICBzeW5jUGFnZUFjY2Vzc2liaWxpdHlGaWVsZHMoKTtcbiAgICAgICAgICBzZXRQYWdlQWNjZXNzaWJpbGl0eUZlZWRiYWNrKCdBY2Nlc3NpYmlsaXRcdTAwRTkgZW5yZWdpc3RyXHUwMEU5ZS4nLCAnc3VjY2VzcycpO1xuICAgICAgICAgIHNob3dUb2FzdCgnQWNjZXNzaWJpbGl0XHUwMEU5IG1pc2UgXHUwMEUwIGpvdXInKTtcbiAgICAgICAgICByZW5kZXJQYWdlTGlzdHMocGFnZXMsIGFjdGl2ZVBhZ2VJZCk7XG4gICAgICAgICAgcmVmcmVzaFByZXZpZXcoY3VycmVudFBhZ2UpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2FjY2Vzc2liaWxpdHldIHNhdmUgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2V0UGFnZUFjY2Vzc2liaWxpdHlGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZGUgbGEgc2F1dmVnYXJkZS4nLCAnZXJyb3InKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHBhZ2VBY2Nlc3NpYmlsaXR5U2F2ZUJ1dHRvbiAmJiAocGFnZUFjY2Vzc2liaWxpdHlTYXZlQnV0dG9uLmRpc2FibGVkID0gZmFsc2UpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gUGFnZSBwcm9wZXJ0aWVzIHBhbmVsIGxvZ2ljXG4gICAgY29uc3QgdG9nZ2xlUGFnZVByb3BzUGFuZWwgPSAoc2hvdykgPT4ge1xuICAgICAgaWYgKCFwYWdlUHJvcHNQYW5lbCkgcmV0dXJuO1xuICAgICAgaWYgKHNob3cpIHtcbiAgICAgICAgcGFnZVByb3BzUGFuZWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIC8vIFBvcHVsYXRlIGZpZWxkcyB3aXRoIGN1cnJlbnQgcGFnZSBkYXRhXG4gICAgICAgIGlmIChjdXJyZW50UGFnZSkge1xuICAgICAgICAgIHBhZ2VOYW1lSW5wdXQgJiYgKHBhZ2VOYW1lSW5wdXQudmFsdWUgPSBjdXJyZW50UGFnZS5uYW1lIHx8ICcnKTtcbiAgICAgICAgICBwYWdlVGl0bGVJbnB1dCAmJiAocGFnZVRpdGxlSW5wdXQudmFsdWUgPSBjdXJyZW50UGFnZS50aXRsZSB8fCAnJyk7XG4gICAgICAgICAgcGFnZVNsdWdJbnB1dCAmJiAocGFnZVNsdWdJbnB1dC52YWx1ZSA9IGN1cnJlbnRQYWdlLnNsdWcgfHwgJycpO1xuICAgICAgICAgIHBhZ2VEZXNjcmlwdGlvbklucHV0ICYmIChwYWdlRGVzY3JpcHRpb25JbnB1dC52YWx1ZSA9IGN1cnJlbnRQYWdlLmRlc2NyaXB0aW9uIHx8ICcnKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFnZVByb3BzUGFuZWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBzZXRQYWdlUHJvcHNGZWVkYmFjayA9IChtZXNzYWdlLCB0b25lID0gJ211dGVkJykgPT4ge1xuICAgICAgaWYgKCFwYWdlUHJvcHNGZWVkYmFjaykgcmV0dXJuO1xuICAgICAgY29uc3QgY29sb3IgPSB0b25lID09PSAnc3VjY2VzcycgPyAndGV4dC1lbWVyYWxkLTYwMCcgOiB0b25lID09PSAnZXJyb3InID8gJ3RleHQtcm9zZS02MDAnIDogJ3RleHQtc2xhdGUtNTAwJztcbiAgICAgIHBhZ2VQcm9wc0ZlZWRiYWNrLnRleHRDb250ZW50ID0gbWVzc2FnZSB8fCAnJztcbiAgICAgIHBhZ2VQcm9wc0ZlZWRiYWNrLmNsYXNzTmFtZSA9IGB0ZXh0LXNtICR7Y29sb3J9YDtcbiAgICB9O1xuICAgIHBhZ2VQcm9wc1RvZ2dsZUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBpc1Zpc2libGUgPSBwYWdlUHJvcHNQYW5lbCAmJiAhcGFnZVByb3BzUGFuZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdoaWRkZW4nKTtcbiAgICAgIHRvZ2dsZVBhZ2VQcm9wc1BhbmVsKCFpc1Zpc2libGUpO1xuICAgIH0pO1xuICAgIHBhZ2VQcm9wc0Nsb3NlQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRvZ2dsZVBhZ2VQcm9wc1BhbmVsKGZhbHNlKSk7XG4gICAgcGFnZVByb3BzRm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSkge1xuICAgICAgICBzZXRQYWdlUHJvcHNGZWVkYmFjaygnQXVjdW5lIHBhZ2UgYWN0aXZlLicsICdlcnJvcicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwYWdlUHJvcHNTYXZlQnV0dG9uICYmIChwYWdlUHJvcHNTYXZlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZSk7XG4gICAgICBzZXRQYWdlUHJvcHNGZWVkYmFjaygnJyk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBuZXdOYW1lID0gKHBhZ2VOYW1lSW5wdXQ/LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICAgIGNvbnN0IG5ld1RpdGxlID0gKHBhZ2VUaXRsZUlucHV0Py52YWx1ZSB8fCAnJykudHJpbSgpO1xuICAgICAgICBjb25zdCBuZXdTbHVnID0gKHBhZ2VTbHVnSW5wdXQ/LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICAgIGNvbnN0IG5ld0Rlc2NyaXB0aW9uID0gKHBhZ2VEZXNjcmlwdGlvbklucHV0Py52YWx1ZSB8fCAnJykudHJpbSgpO1xuICAgICAgICBcbiAgICAgICAgLy8gVmFsaWRhdGlvbiBiYXNpcXVlXG4gICAgICAgIGlmICghbmV3VGl0bGUpIHtcbiAgICAgICAgICBzZXRQYWdlUHJvcHNGZWVkYmFjaygnTGUgdGl0cmUgZXN0IHJlcXVpcy4nLCAnZXJyb3InKTtcbiAgICAgICAgICBwYWdlUHJvcHNTYXZlQnV0dG9uICYmIChwYWdlUHJvcHNTYXZlQnV0dG9uLmRpc2FibGVkID0gZmFsc2UpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW5ld1NsdWcgfHwgIW5ld1NsdWcuc3RhcnRzV2l0aCgnLycpKSB7XG4gICAgICAgICAgc2V0UGFnZVByb3BzRmVlZGJhY2soJ0xlIHNsdWcgZG9pdCBjb21tZW5jZXIgcGFyIC8uJywgJ2Vycm9yJyk7XG4gICAgICAgICAgcGFnZVByb3BzU2F2ZUJ1dHRvbiAmJiAocGFnZVByb3BzU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHVwZGF0ZWRQYWdlID0ge1xuICAgICAgICAgIC4uLmN1cnJlbnRQYWdlLFxuICAgICAgICAgIG5hbWU6IG5ld05hbWUgfHwgbmV3VGl0bGUsIC8vIEZhbGxiYWNrIHRvIHRpdGxlIGlmIG5hbWUgaXMgZW1wdHlcbiAgICAgICAgICB0aXRsZTogbmV3VGl0bGUsXG4gICAgICAgICAgc2x1ZzogbmV3U2x1ZyxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogbmV3RGVzY3JpcHRpb24sXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHNhdmVkID0gYXdhaXQgc2F2ZVBhZ2VUb1NlcnZlcih1cGRhdGVkUGFnZSk7XG4gICAgICAgIGlmIChzYXZlZCkge1xuICAgICAgICAgIGN1cnJlbnRQYWdlID0gc2F2ZWQ7XG4gICAgICAgICAgLy8gVXBkYXRlIHBhZ2VzIGFycmF5XG4gICAgICAgICAgcGFnZXMgPSBwYWdlcy5tYXAoKHApID0+IChwLmlkID09PSBzYXZlZC5pZCA/IHNhdmVkIDogcCkpO1xuICAgICAgICAgIHNldFBhZ2VQcm9wc0ZlZWRiYWNrKCdQcm9wcmlcdTAwRTl0XHUwMEU5cyBlbnJlZ2lzdHJcdTAwRTllcy4nLCAnc3VjY2VzcycpO1xuICAgICAgICAgIHNob3dUb2FzdCgnUGFnZSBtaXNlIFx1MDBFMCBqb3VyJyk7XG4gICAgICAgICAgLy8gVXBkYXRlIFVJXG4gICAgICAgICAgc2V0QWN0aXZlTGFiZWxzKGN1cnJlbnRQYWdlKTtcbiAgICAgICAgICByZW5kZXJQYWdlTGlzdHMocGFnZXMsIGFjdGl2ZVBhZ2VJZCk7XG4gICAgICAgICAgcmVmcmVzaFByZXZpZXcoY3VycmVudFBhZ2UpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW3BhZ2UtcHJvcHNdIHNhdmUgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2V0UGFnZVByb3BzRmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGRlIGxhIHNhdXZlZ2FyZGUuJywgJ2Vycm9yJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBwYWdlUHJvcHNTYXZlQnV0dG9uICYmIChwYWdlUHJvcHNTYXZlQnV0dG9uLmRpc2FibGVkID0gZmFsc2UpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgY29uc3QgaGFuZGxlQmxvY2tEcmFnU3RhcnQgPSAoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IGl0ZW0gPSBldmVudC50YXJnZXQuY2xvc2VzdCgnW2RhdGEtYmxvY2staXRlbV0nKTtcbiAgICAgIGlmICghaXRlbSB8fCAhaXNEZXNrdG9wUmVvcmRlcigpKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGRyYWdTb3VyY2VJZCA9IGl0ZW0uZGF0YXNldC5ibG9ja0lkIHx8IG51bGw7XG4gICAgICBpZiAoIWRyYWdTb3VyY2VJZCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBldmVudC5kYXRhVHJhbnNmZXIuZWZmZWN0QWxsb3dlZCA9ICdtb3ZlJztcbiAgICAgIGV2ZW50LmRhdGFUcmFuc2Zlci5zZXREYXRhKCd0ZXh0L3BsYWluJywgZHJhZ1NvdXJjZUlkKTtcbiAgICAgIC8vIFN0eWxlIGR1IGJsb2MgZW4gY291cnMgZGUgZHJhZ1xuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgaXRlbS5jbGFzc0xpc3QuYWRkKCdvcGFjaXR5LTUwJywgJ3NjYWxlLVswLjk4XScsICdzaGFkb3ctbGcnLCAncmluZy0yJywgJ3JpbmctWyM5QzZCRkZdJyk7XG4gICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IGNsZWFyRHJhZ0luZGljYXRvcnMgPSAoKSA9PiB7XG4gICAgICBibG9ja0xpc3RcbiAgICAgICAgPy5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1ibG9jay1pdGVtXScpXG4gICAgICAgIC5mb3JFYWNoKChub2RlKSA9PiB7XG4gICAgICAgICAgbm9kZS5jbGFzc0xpc3QucmVtb3ZlKFxuICAgICAgICAgICAgJ29wYWNpdHktNTAnLCAnc2NhbGUtWzAuOThdJywgJ3NoYWRvdy1sZycsICdyaW5nLTInLCAncmluZy1bIzlDNkJGRl0nLFxuICAgICAgICAgICAgJ2JvcmRlci10LTQnLCAnYm9yZGVyLWItNCcsICdib3JkZXItdC1bIzlDNkJGRl0nLCAnYm9yZGVyLWItWyM5QzZCRkZdJyxcbiAgICAgICAgICAgICdwdC02JywgJ3BiLTYnXG4gICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBjb25zdCBoYW5kbGVCbG9ja0RyYWdFbmQgPSAoKSA9PiB7XG4gICAgICBkcmFnU291cmNlSWQgPSBudWxsO1xuICAgICAgY2xlYXJEcmFnSW5kaWNhdG9ycygpO1xuICAgIH07XG4gICAgY29uc3QgaGFuZGxlQmxvY2tEcmFnT3ZlciA9IChldmVudCkgPT4ge1xuICAgICAgaWYgKCFkcmFnU291cmNlSWQgfHwgIWlzRGVza3RvcFJlb3JkZXIoKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQuY2xvc2VzdCgnW2RhdGEtYmxvY2staXRlbV0nKTtcbiAgICAgIGlmICghdGFyZ2V0IHx8IHRhcmdldC5kYXRhc2V0LmJsb2NrSWQgPT09IGRyYWdTb3VyY2VJZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZXZlbnQuZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3QgPSAnbW92ZSc7XG4gICAgICAvLyBEXHUwMEU5dGVybWluZSBzaSBvbiBkcm9wIGF2YW50IG91IGFwclx1MDBFOHNcbiAgICAgIGNvbnN0IHJlY3QgPSB0YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICBjb25zdCBtaWRZID0gcmVjdC50b3AgKyByZWN0LmhlaWdodCAvIDI7XG4gICAgICBjb25zdCBpc0Fib3ZlID0gZXZlbnQuY2xpZW50WSA8IG1pZFk7XG4gICAgICAvLyBOZXR0b2llIGxlcyBhdXRyZXMgaW5kaWNhdGV1cnNcbiAgICAgIGJsb2NrTGlzdD8ucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYmxvY2staXRlbV0nKS5mb3JFYWNoKChub2RlKSA9PiB7XG4gICAgICAgIGlmIChub2RlICE9PSB0YXJnZXQgJiYgbm9kZS5kYXRhc2V0LmJsb2NrSWQgIT09IGRyYWdTb3VyY2VJZCkge1xuICAgICAgICAgIG5vZGUuY2xhc3NMaXN0LnJlbW92ZSgnYm9yZGVyLXQtNCcsICdib3JkZXItYi00JywgJ2JvcmRlci10LVsjOUM2QkZGXScsICdib3JkZXItYi1bIzlDNkJGRl0nLCAncHQtNicsICdwYi02Jyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgLy8gQXBwbGlxdWUgbCdpbmRpY2F0ZXVyIGRlIHBvc2l0aW9uXG4gICAgICB0YXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgnYm9yZGVyLXQtNCcsICdib3JkZXItYi00JywgJ2JvcmRlci10LVsjOUM2QkZGXScsICdib3JkZXItYi1bIzlDNkJGRl0nLCAncHQtNicsICdwYi02Jyk7XG4gICAgICBpZiAoaXNBYm92ZSkge1xuICAgICAgICB0YXJnZXQuY2xhc3NMaXN0LmFkZCgnYm9yZGVyLXQtNCcsICdib3JkZXItdC1bIzlDNkJGRl0nLCAncHQtNicpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2JvcmRlci1iLTQnLCAnYm9yZGVyLWItWyM5QzZCRkZdJywgJ3BiLTYnKTtcbiAgICAgIH1cbiAgICAgIHRhcmdldC5kYXRhc2V0LmRyb3BQb3NpdGlvbiA9IGlzQWJvdmUgPyAnYmVmb3JlJyA6ICdhZnRlcic7XG4gICAgfTtcbiAgICBjb25zdCBoYW5kbGVCbG9ja0RyYWdMZWF2ZSA9IChldmVudCkgPT4ge1xuICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLWJsb2NrLWl0ZW1dJyk7XG4gICAgICBpZiAoIXRhcmdldCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBWXHUwMEU5cmlmaWUgc2kgb24gcXVpdHRlIHZyYWltZW50IGwnXHUwMEU5bFx1MDBFOW1lbnQgKHBhcyBqdXN0ZSB2ZXJzIHVuIGVuZmFudClcbiAgICAgIGNvbnN0IHJlbGF0ZWRUYXJnZXQgPSBldmVudC5yZWxhdGVkVGFyZ2V0O1xuICAgICAgaWYgKHJlbGF0ZWRUYXJnZXQgJiYgdGFyZ2V0LmNvbnRhaW5zKHJlbGF0ZWRUYXJnZXQpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKCdib3JkZXItdC00JywgJ2JvcmRlci1iLTQnLCAnYm9yZGVyLXQtWyM5QzZCRkZdJywgJ2JvcmRlci1iLVsjOUM2QkZGXScsICdwdC02JywgJ3BiLTYnKTtcbiAgICAgIGRlbGV0ZSB0YXJnZXQuZGF0YXNldC5kcm9wUG9zaXRpb247XG4gICAgfTtcbiAgICBjb25zdCBoYW5kbGVCbG9ja0Ryb3AgPSAoZXZlbnQpID0+IHtcbiAgICAgIGlmICghZHJhZ1NvdXJjZUlkIHx8ICFpc0Rlc2t0b3BSZW9yZGVyKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCdbZGF0YS1ibG9jay1pdGVtXScpO1xuICAgICAgY29uc3Qgc291cmNlID0gZHJhZ1NvdXJjZUlkO1xuICAgICAgY29uc3QgZHJvcFBvc2l0aW9uID0gdGFyZ2V0Py5kYXRhc2V0LmRyb3BQb3NpdGlvbiB8fCAnYWZ0ZXInO1xuICAgICAgZHJhZ1NvdXJjZUlkID0gbnVsbDtcbiAgICAgIGNsZWFyRHJhZ0luZGljYXRvcnMoKTtcbiAgICAgIGNvbnN0IHRhcmdldElkID0gdGFyZ2V0Py5kYXRhc2V0LmJsb2NrSWQgfHwgbnVsbDtcbiAgICAgIGlmICghdGFyZ2V0SWQgfHwgc291cmNlID09PSB0YXJnZXRJZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICByZW9yZGVyQmxvY2tzV2l0aFBvc2l0aW9uKHNvdXJjZSwgdGFyZ2V0SWQsIGRyb3BQb3NpdGlvbik7XG4gICAgfTtcbiAgICBsZXQgZHJhZ1NvdXJjZUlkID0gbnVsbDtcbiAgICBibG9ja0xpc3Q/LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdzdGFydCcsIGhhbmRsZUJsb2NrRHJhZ1N0YXJ0KTtcbiAgICBibG9ja0xpc3Q/LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdlbmQnLCBoYW5kbGVCbG9ja0RyYWdFbmQpO1xuICAgIGJsb2NrTGlzdD8uYWRkRXZlbnRMaXN0ZW5lcignZHJhZ292ZXInLCBoYW5kbGVCbG9ja0RyYWdPdmVyKTtcbiAgICBibG9ja0xpc3Q/LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdsZWF2ZScsIGhhbmRsZUJsb2NrRHJhZ0xlYXZlKTtcbiAgICBibG9ja0xpc3Q/LmFkZEV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCBoYW5kbGVCbG9ja0Ryb3ApO1xuICAgIGxvYWRQYWdlc0Zyb21TZXJ2ZXIoKTtcblxuICAgIC8vIFx1MDBDOWNvdXRlciBsJ1x1MDBFOXZcdTAwRTluZW1lbnQgZGUgcmFmcmFcdTAwRUVjaGlzc2VtZW50IGRcdTAwRTljbGVuY2hcdTAwRTkgcGFyIGwnSUFcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdhaS1wYWdlLXVwZGF0ZWQnLCBhc3luYyAoZSkgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ1tkZXNpZ25dIFJhZnJhXHUwMEVFY2hpc3NlbWVudCBkXHUwMEU5Y2xlbmNoXHUwMEU5IHBhciBJQScsIGUuZGV0YWlsKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIFJlY2hhcmdlciBsZXMgcGFnZXMgZGVwdWlzIGxlIHNlcnZldXJcbiAgICAgICAgY29uc3QgbG9hZGVkUGFnZXMgPSBhd2FpdCBmZXRjaFBhZ2VzRnJvbVNlcnZlcigpO1xuICAgICAgICBwYWdlcyA9IChBcnJheS5pc0FycmF5KGxvYWRlZFBhZ2VzKSA/IGxvYWRlZFBhZ2VzIDogW10pLm1hcCgocGFnZSkgPT5cbiAgICAgICAgICBub3JtYWxpemVQYWdlRGF0YShwYWdlKSxcbiAgICAgICAgKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFRyb3V2ZXIgZXQgbWV0dHJlIFx1MDBFMCBqb3VyIGxhIHBhZ2UgYWN0aXZlXG4gICAgICAgIGlmIChlLmRldGFpbD8ucGFnZUlkKSB7XG4gICAgICAgICAgY29uc3QgdXBkYXRlZFBhZ2UgPSBwYWdlcy5maW5kKHAgPT4gcC5pZCA9PT0gZS5kZXRhaWwucGFnZUlkKTtcbiAgICAgICAgICBpZiAodXBkYXRlZFBhZ2UpIHtcbiAgICAgICAgICAgIGN1cnJlbnRQYWdlID0gdXBkYXRlZFBhZ2U7XG4gICAgICAgICAgICBhY3RpdmVQYWdlSWQgPSB1cGRhdGVkUGFnZS5pZDtcbiAgICAgICAgICAgIC8vIFJhZnJhXHUwMEVFY2hpciBsYSBwcmV2aWV3IGF2ZWMgbGEgcGFnZSBtaXNlIFx1MDBFMCBqb3VyXG4gICAgICAgICAgICByZWZyZXNoUHJldmlldyhjdXJyZW50UGFnZSk7XG4gICAgICAgICAgICAvLyBSYWZyYVx1MDBFRWNoaXIgbGEgbGlzdGUgZGVzIGJsb2NzXG4gICAgICAgICAgICByZW5kZXJCbG9ja0xpc3QoY3VycmVudFBhZ2UpO1xuICAgICAgICAgICAgc2hvd1RvYXN0KCdQYWdlIG1pc2UgXHUwMEUwIGpvdXIgcGFyIGxcXCdJQScpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChhY3RpdmVQYWdlSWQpIHtcbiAgICAgICAgICAvLyBSYWZyYVx1MDBFRWNoaXIgbGEgcGFnZSBhY3RpdmUgYWN0dWVsbGVcbiAgICAgICAgICBjb25zdCBhY3RpdmVQYWdlID0gcGFnZXMuZmluZChwID0+IHAuaWQgPT09IGFjdGl2ZVBhZ2VJZCk7XG4gICAgICAgICAgaWYgKGFjdGl2ZVBhZ2UpIHtcbiAgICAgICAgICAgIGN1cnJlbnRQYWdlID0gYWN0aXZlUGFnZTtcbiAgICAgICAgICAgIHJlZnJlc2hQcmV2aWV3KGN1cnJlbnRQYWdlKTtcbiAgICAgICAgICAgIHJlbmRlckJsb2NrTGlzdChjdXJyZW50UGFnZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2Rlc2lnbl0gRXJyZXVyIHJhZnJhXHUwMEVFY2hpc3NlbWVudCBJQTonLCBlcnIpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gaW5pdENvbnRlbnRXb3Jrc3BhY2UoKSB7XG4gICAgY29uc3QgY29sbGVjdGlvbkxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xsZWN0aW9uLWxpc3RdJyk7XG4gICAgaWYgKCFjb2xsZWN0aW9uTGlzdCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICAvLyBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcbiAgICAvLyBIRUFERVIgJiBGT09URVIgTUFOQUdFTUVOVFxuICAgIC8vIFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFxuICAgIGNvbnN0IGNvbnRlbnRWaWV3cyA9IHtcbiAgICAgIGVtcHR5OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb250ZW50LXZpZXc9XCJlbXB0eVwiXScpLFxuICAgICAgaGVhZGVyOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb250ZW50LXZpZXc9XCJoZWFkZXJcIl0nKSxcbiAgICAgIGNvbGxlY3Rpb246IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbnRlbnQtdmlldz1cImNvbGxlY3Rpb25cIl0nKSxcbiAgICAgIGZvb3RlcjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29udGVudC12aWV3PVwiZm9vdGVyXCJdJyksXG4gICAgfTtcbiAgICBjb25zdCBjb250ZW50U2VjdGlvbkJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1jb250ZW50LXNlY3Rpb25dJyk7XG4gICAgY29uc3QgY29udGVudFNlY3Rpb25UcmlnZ2VycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWNvbnRlbnQtc2VjdGlvbi10cmlnZ2VyXScpO1xuICAgIGNvbnN0IGNvbnRlbnREcmF3ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb250ZW50LWRyYXdlcl0nKTtcbiAgICBjb25zdCBjb250ZW50RHJhd2VyQmFja2Ryb3AgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb250ZW50LWRyYXdlci1iYWNrZHJvcF0nKTtcbiAgICBjb25zdCBjb250ZW50RHJhd2VyT3BlbkJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1jb250ZW50LWRyYXdlci1vcGVuXScpO1xuICAgIGNvbnN0IGNvbnRlbnREcmF3ZXJDbG9zZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1jb250ZW50LWRyYXdlci1jbG9zZV0nKTtcbiAgICBjb25zdCBoZWFkZXJTdGF0dXNJbmRpY2F0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1oZWFkZXItc3RhdHVzXScpO1xuICAgIGNvbnN0IGZvb3RlclN0YXR1c0luZGljYXRvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWZvb3Rlci1zdGF0dXNdJyk7XG4gICAgY29uc3QgY29sbGVjdGlvbkNvdW50RWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xsZWN0aW9uLWNvdW50XScpO1xuICAgIFxuICAgIC8vIEhlYWRlciBmaWVsZHNcbiAgICBjb25zdCBoZWFkZXJGaWVsZHMgPSB7XG4gICAgICBsb2dvOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImhlYWRlci1sb2dvXCJdJyksXG4gICAgICBsb2dvQWx0OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImhlYWRlci1sb2dvLWFsdFwiXScpLFxuICAgICAgbG9nb1VybDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJoZWFkZXItbG9nby11cmxcIl0nKSxcbiAgICAgIGN0YVRleHQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaGVhZGVyLWN0YS10ZXh0XCJdJyksXG4gICAgICBjdGFVcmw6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaGVhZGVyLWN0YS11cmxcIl0nKSxcbiAgICAgIGN0YVN0eWxlOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImhlYWRlci1jdGEtc3R5bGVcIl0nKSxcbiAgICAgIHBvc2l0aW9uOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImhlYWRlci1wb3NpdGlvblwiXScpLFxuICAgICAgYmc6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaGVhZGVyLWJnXCJdJyksXG4gICAgfTtcbiAgICBjb25zdCBoZWFkZXJOYXZMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaGVhZGVyLW5hdi1saXN0XScpO1xuICAgIGNvbnN0IGhlYWRlck5hdkFkZEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWhlYWRlci1uYXYtYWRkXScpO1xuICAgIGNvbnN0IGhlYWRlclNhdmVCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1oZWFkZXItc2F2ZV0nKTtcbiAgICBjb25zdCBoZWFkZXJOYXZJdGVtVGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS10ZW1wbGF0ZS1oZWFkZXItbmF2LWl0ZW1dJyk7XG4gICAgY29uc3QgaGVhZGVyUGFnZXNMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaGVhZGVyLXBhZ2VzLWxpc3RdJyk7XG4gICAgbGV0IHNpdGVQYWdlcyA9IFtdOyAvLyBQYWdlcyBkdSBzaXRlIHBvdXIgbGVzIGNoZWNrYm94ZXNcbiAgICBsZXQgc2VsZWN0ZWROYXZQYWdlcyA9IFtdOyAvLyBQYWdlcyBzXHUwMEU5bGVjdGlvbm5cdTAwRTllcyBwb3VyIGxlIG1lbnUgKGF2ZWMgb3JkcmUpXG4gICAgXG4gICAgLy8gRm9vdGVyIGZpZWxkc1xuICAgIGNvbnN0IGZvb3RlckZpZWxkcyA9IHtcbiAgICAgIGxpbmtlZGluOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImZvb3Rlci1zb2NpYWwtbGlua2VkaW5cIl0nKSxcbiAgICAgIHR3aXR0ZXI6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZm9vdGVyLXNvY2lhbC10d2l0dGVyXCJdJyksXG4gICAgICBpbnN0YWdyYW06IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZm9vdGVyLXNvY2lhbC1pbnN0YWdyYW1cIl0nKSxcbiAgICAgIGZhY2Vib29rOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImZvb3Rlci1zb2NpYWwtZmFjZWJvb2tcIl0nKSxcbiAgICAgIHlvdXR1YmU6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZm9vdGVyLXNvY2lhbC15b3V0dWJlXCJdJyksXG4gICAgICBnaXRodWI6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZm9vdGVyLXNvY2lhbC1naXRodWJcIl0nKSxcbiAgICAgIGNvcHlyaWdodDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJmb290ZXItY29weXJpZ2h0XCJdJyksXG4gICAgICBsZWdhbFVybDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJmb290ZXItbGVnYWwtdXJsXCJdJyksXG4gICAgICBwcml2YWN5VXJsOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImZvb3Rlci1wcml2YWN5LXVybFwiXScpLFxuICAgICAgYmc6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZm9vdGVyLWJnXCJdJyksXG4gICAgICBjb2x1bW5zQ291bnQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZm9vdGVyLWNvbHVtbnMtY291bnRcIl0nKSxcbiAgICB9O1xuICAgIGNvbnN0IGZvb3RlckNvbHVtbnNMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZm9vdGVyLWNvbHVtbnMtbGlzdF0nKTtcbiAgICBjb25zdCBmb290ZXJDb2x1bW5BZGRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1mb290ZXItY29sdW1uLWFkZF0nKTtcbiAgICBjb25zdCBmb290ZXJTYXZlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZm9vdGVyLXNhdmVdJyk7XG4gICAgY29uc3QgZm9vdGVyQ29sdW1uVGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS10ZW1wbGF0ZS1mb290ZXItY29sdW1uXScpO1xuICAgIGNvbnN0IGZvb3RlckxpbmtUZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRlbXBsYXRlLWZvb3Rlci1saW5rXScpO1xuICAgIFxuICAgIGxldCBhY3RpdmVDb250ZW50U2VjdGlvbiA9IG51bGw7XG4gICAgbGV0IGhlYWRlckRhdGEgPSB7IG5hdjogW10sIGxvZ286IHt9LCBjdGE6IHt9LCBzdHlsZToge30gfTtcbiAgICBsZXQgZm9vdGVyRGF0YSA9IHsgY29sdW1uczogW10sIHNvY2lhbHM6IHt9LCBjb3B5cmlnaHQ6ICcnLCBsZWdhbDoge30sIHN0eWxlOiB7fSB9O1xuICAgIFxuICAgIGNvbnN0IHNhZmVTaXRlU2x1Z0ZvckxheW91dCA9IHN0cmlwTGVhZGluZ1NsYXNoKHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJycpO1xuICAgIGNvbnN0IHNsdWcgPSBzYWZlU2l0ZVNsdWdGb3JMYXlvdXQ7IC8vIEFsaWFzIHBvdXIgbGVzIGZvbmN0aW9ucyBxdWkgdXRpbGlzZW50IHNsdWdcbiAgICBjb25zdCBsYXlvdXRBcGlCYXNlID0gc2FmZVNpdGVTbHVnRm9yTGF5b3V0ID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnRm9yTGF5b3V0KX0vbGF5b3V0YCA6IG51bGw7XG4gICAgXG4gICAgLy8gVmlldyBzd2l0Y2hpbmdcbiAgICBjb25zdCBzaG93Q29udGVudFZpZXcgPSAodmlld05hbWUpID0+IHtcbiAgICAgIE9iamVjdC5lbnRyaWVzKGNvbnRlbnRWaWV3cykuZm9yRWFjaCgoW25hbWUsIGVsXSkgPT4ge1xuICAgICAgICBpZiAoZWwpIGVsLmNsYXNzTGlzdC50b2dnbGUoJ2hpZGRlbicsIG5hbWUgIT09IHZpZXdOYW1lKTtcbiAgICAgIH0pO1xuICAgICAgY29udGVudFNlY3Rpb25CdXR0b25zLmZvckVhY2goYnRuID0+IHtcbiAgICAgICAgY29uc3Qgc2VjdGlvbiA9IGJ0bi5kYXRhc2V0LmNvbnRlbnRTZWN0aW9uO1xuICAgICAgICBpZiAoc2VjdGlvbiA9PT0gdmlld05hbWUpIHtcbiAgICAgICAgICBidG4uZGF0YXNldC5hY3RpdmUgPSAndHJ1ZSc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGVsZXRlIGJ0bi5kYXRhc2V0LmFjdGl2ZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBhY3RpdmVDb250ZW50U2VjdGlvbiA9IHZpZXdOYW1lO1xuICAgIH07XG4gICAgXG4gICAgLy8gRHJhd2VyIG1hbmFnZW1lbnRcbiAgICBjb25zdCBvcGVuQ29udGVudERyYXdlciA9ICgpID0+IHtcbiAgICAgIGNvbnRlbnREcmF3ZXI/LmNsYXNzTGlzdC5hZGQoJ2lzLW9wZW4nKTtcbiAgICAgIGNvbnRlbnREcmF3ZXIgJiYgKGNvbnRlbnREcmF3ZXIuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVgoMCknKTtcbiAgICAgIGNvbnRlbnREcmF3ZXJCYWNrZHJvcD8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ292ZXJmbG93LWhpZGRlbicpO1xuICAgIH07XG4gICAgY29uc3QgY2xvc2VDb250ZW50RHJhd2VyID0gKCkgPT4ge1xuICAgICAgY29udGVudERyYXdlcj8uY2xhc3NMaXN0LnJlbW92ZSgnaXMtb3BlbicpO1xuICAgICAgY29udGVudERyYXdlciAmJiAoY29udGVudERyYXdlci5zdHlsZS50cmFuc2Zvcm0gPSAnJyk7XG4gICAgICBjb250ZW50RHJhd2VyQmFja2Ryb3A/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICB9O1xuICAgIFxuICAgIGNvbnRlbnREcmF3ZXJPcGVuQnV0dG9ucy5mb3JFYWNoKGJ0biA9PiBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuQ29udGVudERyYXdlcikpO1xuICAgIGNvbnRlbnREcmF3ZXJDbG9zZUJ1dHRvbnMuZm9yRWFjaChidG4gPT4gYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VDb250ZW50RHJhd2VyKSk7XG4gICAgY29udGVudERyYXdlckJhY2tkcm9wPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlQ29udGVudERyYXdlcik7XG4gICAgXG4gICAgLy8gU2VjdGlvbiBidXR0b24gaGFuZGxlcnNcbiAgICBjb250ZW50U2VjdGlvbkJ1dHRvbnMuZm9yRWFjaChidG4gPT4ge1xuICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBjb25zdCBzZWN0aW9uID0gYnRuLmRhdGFzZXQuY29udGVudFNlY3Rpb247XG4gICAgICAgIGlmIChzZWN0aW9uID09PSAnaGVhZGVyJyB8fCBzZWN0aW9uID09PSAnZm9vdGVyJykge1xuICAgICAgICAgIHNob3dDb250ZW50VmlldyhzZWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBjbG9zZUNvbnRlbnREcmF3ZXIoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGNvbnRlbnRTZWN0aW9uVHJpZ2dlcnMuZm9yRWFjaChidG4gPT4ge1xuICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBjb25zdCBzZWN0aW9uID0gYnRuLmRhdGFzZXQuY29udGVudFNlY3Rpb25UcmlnZ2VyO1xuICAgICAgICBpZiAoc2VjdGlvbikgc2hvd0NvbnRlbnRWaWV3KHNlY3Rpb24pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgXG4gICAgLy8gXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXG4gICAgLy8gSEVBREVSIEZVTkNUSU9OU1xuICAgIC8vIFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFxuICAgIFxuICAgIC8vIENoYXJnZXIgbGEgbGlzdGUgZGVzIHBhZ2VzIGR1IHNpdGUgcG91ciBsZXMgY2hlY2tib3hlc1xuICAgIGNvbnN0IGxvYWRTaXRlUGFnZXNGb3JIZWFkZXIgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXNsdWcgfHwgIWhlYWRlclBhZ2VzTGlzdCkgcmV0dXJuO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9zaXRlcy8ke3NsdWd9L3BhZ2VzYCwgeyBjcmVkZW50aWFsczogJ2luY2x1ZGUnIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB0aHJvdyBuZXcgRXJyb3IoJ0VycmV1ciBjaGFyZ2VtZW50IHBhZ2VzJyk7XG4gICAgICAgIHNpdGVQYWdlcyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgcmVuZGVyUGFnZUNoZWNrYm94ZXMoKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbaGVhZGVyXSBsb2FkIHBhZ2VzIGVycm9yJywgZXJyKTtcbiAgICAgICAgaGVhZGVyUGFnZXNMaXN0LmlubmVySFRNTCA9ICc8cCBjbGFzcz1cInRleHQteHMgdGV4dC1yZWQtNTAwXCI+RXJyZXVyIGNoYXJnZW1lbnQgcGFnZXM8L3A+JztcbiAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIC8vIEFmZmljaGVyIGxlcyBjaGVja2JveGVzIHBvdXIgY2hhcXVlIHBhZ2VcbiAgICBjb25zdCByZW5kZXJQYWdlQ2hlY2tib3hlcyA9ICgpID0+IHtcbiAgICAgIGlmICghaGVhZGVyUGFnZXNMaXN0KSByZXR1cm47XG4gICAgICBoZWFkZXJQYWdlc0xpc3QuaW5uZXJIVE1MID0gJyc7XG4gICAgICBcbiAgICAgIGlmIChzaXRlUGFnZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGhlYWRlclBhZ2VzTGlzdC5pbm5lckhUTUwgPSAnPHAgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNDAwIGl0YWxpY1wiPkF1Y3VuZSBwYWdlIGRpc3BvbmlibGU8L3A+JztcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgXG4gICAgICBzaXRlUGFnZXMuZm9yRWFjaChwYWdlID0+IHtcbiAgICAgICAgY29uc3QgcGFnZVNsdWcgPSBwYWdlLnNsdWcgfHwgcGFnZS5pZDtcbiAgICAgICAgLy8gVXNlIHBhZ2UubmFtZSAoc2hvcnQgbmFtZSkgaWYgYXZhaWxhYmxlLCBmYWxsYmFjayB0byB0aXRsZVxuICAgICAgICBjb25zdCBwYWdlRGlzcGxheU5hbWUgPSBwYWdlLm5hbWUgfHwgcGFnZS50aXRsZSB8fCBwYWdlU2x1ZztcbiAgICAgICAgY29uc3QgcGFnZVVybCA9IHBhZ2VTbHVnID09PSAnaW5kZXgnID8gJy8nIDogYC8ke3BhZ2VTbHVnfWA7XG4gICAgICAgIFxuICAgICAgICAvLyBWXHUwMEU5cmlmaWVyIHNpIGNldHRlIHBhZ2UgZXN0IHNcdTAwRTlsZWN0aW9ublx1MDBFOWUgZGFucyBsYSBuYXZcbiAgICAgICAgY29uc3QgaXNTZWxlY3RlZCA9IHNlbGVjdGVkTmF2UGFnZXMuc29tZShuYXYgPT4gbmF2LnVybCA9PT0gcGFnZVVybCk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gICAgICAgIGxhYmVsLmNsYXNzTmFtZSA9ICdmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBweC0zIHB5LTIgcm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLXNsYXRlLTIwMCBob3ZlcjpiZy1zbGF0ZS01MCBjdXJzb3ItcG9pbnRlciB0cmFuc2l0aW9uLWNvbG9ycyc7XG4gICAgICAgIGxhYmVsLmlubmVySFRNTCA9IGBcbiAgICAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmFtZT1cIm5hdi1wYWdlXCIgdmFsdWU9XCIke3BhZ2VVcmx9XCIgZGF0YS1wYWdlLXRpdGxlPVwiJHtwYWdlRGlzcGxheU5hbWV9XCJcbiAgICAgICAgICAgICAgICAgY2xhc3M9XCJ3LTQgaC00IHJvdW5kZWQgYm9yZGVyLXNsYXRlLTMwMCB0ZXh0LXZpb2xldC02MDAgZm9jdXM6cmluZy12aW9sZXQtNTAwXCJcbiAgICAgICAgICAgICAgICAgJHtpc1NlbGVjdGVkID8gJ2NoZWNrZWQnIDogJyd9PlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZmxleC0xIHRleHQtc20gdGV4dC1zbGF0ZS03MDBcIj4ke3BhZ2VEaXNwbGF5TmFtZX08L3NwYW4+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNDAwXCI+JHtwYWdlVXJsfTwvc3Bhbj5cbiAgICAgICAgYDtcbiAgICAgICAgXG4gICAgICAgIC8vIE1ldHRyZSBcdTAwRTAgam91ciBzZWxlY3RlZE5hdlBhZ2VzIHF1YW5kIG9uIGNvY2hlL2RcdTAwRTljb2NoZVxuICAgICAgICBjb25zdCBjaGVja2JveCA9IGxhYmVsLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0Jyk7XG4gICAgICAgIGNoZWNrYm94LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgICAgICAgICBpZiAoY2hlY2tib3guY2hlY2tlZCkge1xuICAgICAgICAgICAgLy8gQWpvdXRlciBcdTAwRTAgbGEgbGlzdGVcbiAgICAgICAgICAgIGlmICghc2VsZWN0ZWROYXZQYWdlcy5zb21lKG5hdiA9PiBuYXYudXJsID09PSBwYWdlVXJsKSkge1xuICAgICAgICAgICAgICBzZWxlY3RlZE5hdlBhZ2VzLnB1c2goeyBsYWJlbDogcGFnZURpc3BsYXlOYW1lLCB1cmw6IHBhZ2VVcmwgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFJldGlyZXIgZGUgbGEgbGlzdGVcbiAgICAgICAgICAgIHNlbGVjdGVkTmF2UGFnZXMgPSBzZWxlY3RlZE5hdlBhZ2VzLmZpbHRlcihuYXYgPT4gbmF2LnVybCAhPT0gcGFnZVVybCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGhlYWRlclBhZ2VzTGlzdC5hcHBlbmRDaGlsZChsYWJlbCk7XG4gICAgICB9KTtcbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IGNvbGxlY3RIZWFkZXJEYXRhID0gKCkgPT4ge1xuICAgICAgLy8gQ29sbGVjdGVyIGxlcyBwYWdlcyBjb2NoXHUwMEU5ZXMgZGFucyBsJ29yZHJlIGFjdHVlbFxuICAgICAgY29uc3QgbmF2ID0gW107XG4gICAgICBoZWFkZXJQYWdlc0xpc3Q/LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W25hbWU9XCJuYXYtcGFnZVwiXTpjaGVja2VkJykuZm9yRWFjaChjaGVja2JveCA9PiB7XG4gICAgICAgIGNvbnN0IHVybCA9IGNoZWNrYm94LnZhbHVlO1xuICAgICAgICBjb25zdCBsYWJlbCA9IGNoZWNrYm94LmRhdGFzZXQucGFnZVRpdGxlIHx8IHVybDtcbiAgICAgICAgbmF2LnB1c2goeyBsYWJlbCwgdXJsIH0pO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGxvZ286IHtcbiAgICAgICAgICBzcmM6IGhlYWRlckZpZWxkcy5sb2dvPy52YWx1ZT8udHJpbSgpIHx8ICcnLFxuICAgICAgICAgIGFsdDogaGVhZGVyRmllbGRzLmxvZ29BbHQ/LnZhbHVlPy50cmltKCkgfHwgJycsXG4gICAgICAgICAgdXJsOiBoZWFkZXJGaWVsZHMubG9nb1VybD8udmFsdWU/LnRyaW0oKSB8fCAnLycsXG4gICAgICAgIH0sXG4gICAgICAgIG5hdixcbiAgICAgICAgY3RhOiB7XG4gICAgICAgICAgdGV4dDogaGVhZGVyRmllbGRzLmN0YVRleHQ/LnZhbHVlPy50cmltKCkgfHwgJycsXG4gICAgICAgICAgdXJsOiBoZWFkZXJGaWVsZHMuY3RhVXJsPy52YWx1ZT8udHJpbSgpIHx8ICcnLFxuICAgICAgICAgIHN0eWxlOiBoZWFkZXJGaWVsZHMuY3RhU3R5bGU/LnZhbHVlIHx8ICdwcmltYXJ5JyxcbiAgICAgICAgfSxcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICBwb3NpdGlvbjogaGVhZGVyRmllbGRzLnBvc2l0aW9uPy52YWx1ZSB8fCAnc3RhdGljJyxcbiAgICAgICAgICBiZzogaGVhZGVyRmllbGRzLmJnPy52YWx1ZSB8fCAnYmctd2hpdGUnLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IHBvcHVsYXRlSGVhZGVyRm9ybSA9IGFzeW5jIChkYXRhKSA9PiB7XG4gICAgICBpZiAoIWRhdGEpIHJldHVybjtcbiAgICAgIGlmIChoZWFkZXJGaWVsZHMubG9nbykgaGVhZGVyRmllbGRzLmxvZ28udmFsdWUgPSBkYXRhLmxvZ28/LnNyYyB8fCAnJztcbiAgICAgIGlmIChoZWFkZXJGaWVsZHMubG9nb0FsdCkgaGVhZGVyRmllbGRzLmxvZ29BbHQudmFsdWUgPSBkYXRhLmxvZ28/LmFsdCB8fCAnJztcbiAgICAgIGlmIChoZWFkZXJGaWVsZHMubG9nb1VybCkgaGVhZGVyRmllbGRzLmxvZ29VcmwudmFsdWUgPSBkYXRhLmxvZ28/LnVybCB8fCAnLyc7XG4gICAgICBpZiAoaGVhZGVyRmllbGRzLmN0YVRleHQpIGhlYWRlckZpZWxkcy5jdGFUZXh0LnZhbHVlID0gZGF0YS5jdGE/LnRleHQgfHwgJyc7XG4gICAgICBpZiAoaGVhZGVyRmllbGRzLmN0YVVybCkgaGVhZGVyRmllbGRzLmN0YVVybC52YWx1ZSA9IGRhdGEuY3RhPy51cmwgfHwgJyc7XG4gICAgICBpZiAoaGVhZGVyRmllbGRzLmN0YVN0eWxlKSBoZWFkZXJGaWVsZHMuY3RhU3R5bGUudmFsdWUgPSBkYXRhLmN0YT8uc3R5bGUgfHwgJ3ByaW1hcnknO1xuICAgICAgaWYgKGhlYWRlckZpZWxkcy5wb3NpdGlvbikgaGVhZGVyRmllbGRzLnBvc2l0aW9uLnZhbHVlID0gZGF0YS5zdHlsZT8ucG9zaXRpb24gfHwgJ3N0YXRpYyc7XG4gICAgICBpZiAoaGVhZGVyRmllbGRzLmJnKSBoZWFkZXJGaWVsZHMuYmcudmFsdWUgPSBkYXRhLnN0eWxlPy5iZyB8fCAnYmctd2hpdGUnO1xuICAgICAgXG4gICAgICAvLyBTdG9ja2VyIGxlcyBwYWdlcyBzXHUwMEU5bGVjdGlvbm5cdTAwRTllcyBwb3VyIGxlcyBjaGVja2JveGVzXG4gICAgICBzZWxlY3RlZE5hdlBhZ2VzID0gZGF0YS5uYXYgfHwgW107XG4gICAgICBcbiAgICAgIC8vIENoYXJnZXIgbGVzIHBhZ2VzIGV0IGFmZmljaGVyIGxlcyBjaGVja2JveGVzXG4gICAgICBhd2FpdCBsb2FkU2l0ZVBhZ2VzRm9ySGVhZGVyKCk7XG4gICAgICBcbiAgICAgIC8vIFVwZGF0ZSBzdGF0dXMgaW5kaWNhdG9yXG4gICAgICBjb25zdCBoYXNEYXRhID0gZGF0YS5sb2dvPy5zcmMgfHwgZGF0YS5uYXY/Lmxlbmd0aCA+IDAgfHwgZGF0YS5jdGE/LnRleHQ7XG4gICAgICBpZiAoaGVhZGVyU3RhdHVzSW5kaWNhdG9yKSB7XG4gICAgICAgIGhlYWRlclN0YXR1c0luZGljYXRvci5jbGFzc0xpc3QudG9nZ2xlKCdiZy1ncmVlbi01MDAnLCAhIWhhc0RhdGEpO1xuICAgICAgICBoZWFkZXJTdGF0dXNJbmRpY2F0b3IuY2xhc3NMaXN0LnRvZ2dsZSgnYmctc2xhdGUtMzAwJywgIWhhc0RhdGEpO1xuICAgICAgICBoZWFkZXJTdGF0dXNJbmRpY2F0b3IudGl0bGUgPSBoYXNEYXRhID8gJ0NvbmZpZ3VyXHUwMEU5JyA6ICdOb24gY29uZmlndXJcdTAwRTknO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBoZWFkZXJTYXZlQnRuPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghbGF5b3V0QXBpQmFzZSkgcmV0dXJuO1xuICAgICAgaGVhZGVyU2F2ZUJ0bi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICBoZWFkZXJTYXZlQnRuLnRleHRDb250ZW50ID0gJ0VucmVnaXN0cmVtZW50Li4uJztcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBjb2xsZWN0SGVhZGVyRGF0YSgpO1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke2xheW91dEFwaUJhc2V9L2hlYWRlcmAsIHtcbiAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZScsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB0aHJvdyBuZXcgRXJyb3IoJ0VycmV1ciBzZXJ2ZXVyJyk7XG4gICAgICAgIGhlYWRlckRhdGEgPSBkYXRhO1xuICAgICAgICBwb3B1bGF0ZUhlYWRlckZvcm0oZGF0YSk7XG4gICAgICAgIHNob3dUb2FzdCgnSGVhZGVyIGVucmVnaXN0clx1MDBFOScpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1toZWFkZXJdIHNhdmUgZXJyb3InLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoJ0VycmV1ciBsb3JzIGRlIGxcXCdlbnJlZ2lzdHJlbWVudCcsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaGVhZGVyU2F2ZUJ0bi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICBoZWFkZXJTYXZlQnRuLnRleHRDb250ZW50ID0gJ0VucmVnaXN0cmVyJztcbiAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICAvLyBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcbiAgICAvLyBGT09URVIgRlVOQ1RJT05TXG4gICAgLy8gXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXG4gICAgY29uc3QgYWRkRm9vdGVyTGluayA9IChjb250YWluZXIsIGxhYmVsID0gJycsIHVybCA9ICcnKSA9PiB7XG4gICAgICBpZiAoIWZvb3RlckxpbmtUZW1wbGF0ZSB8fCAhY29udGFpbmVyKSByZXR1cm47XG4gICAgICBjb25zdCBjbG9uZSA9IGZvb3RlckxpbmtUZW1wbGF0ZS5jb250ZW50LmNsb25lTm9kZSh0cnVlKTtcbiAgICAgIGNvbnN0IGl0ZW0gPSBjbG9uZS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1mb290ZXItbGlua10nKTtcbiAgICAgIGNvbnN0IGxhYmVsSW5wdXQgPSBjbG9uZS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImxpbmstbGFiZWxcIl0nKTtcbiAgICAgIGNvbnN0IHVybElucHV0ID0gY2xvbmUucXVlcnlTZWxlY3RvcignW25hbWU9XCJsaW5rLXVybFwiXScpO1xuICAgICAgY29uc3QgcmVtb3ZlQnRuID0gY2xvbmUucXVlcnlTZWxlY3RvcignW2RhdGEtbGluay1yZW1vdmVdJyk7XG4gICAgICBpZiAobGFiZWxJbnB1dCkgbGFiZWxJbnB1dC52YWx1ZSA9IGxhYmVsO1xuICAgICAgaWYgKHVybElucHV0KSB1cmxJbnB1dC52YWx1ZSA9IHVybDtcbiAgICAgIHJlbW92ZUJ0bj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBpdGVtPy5yZW1vdmUoKSk7XG4gICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoY2xvbmUpO1xuICAgIH07XG4gICAgXG4gICAgY29uc3QgYWRkRm9vdGVyQ29sdW1uID0gKHRpdGxlID0gJycsIGxpbmtzID0gW10pID0+IHtcbiAgICAgIGlmICghZm9vdGVyQ29sdW1uVGVtcGxhdGUgfHwgIWZvb3RlckNvbHVtbnNMaXN0KSByZXR1cm47XG4gICAgICBjb25zdCBjbG9uZSA9IGZvb3RlckNvbHVtblRlbXBsYXRlLmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpO1xuICAgICAgY29uc3QgY29sdW1uID0gY2xvbmUucXVlcnlTZWxlY3RvcignW2RhdGEtZm9vdGVyLWNvbHVtbl0nKTtcbiAgICAgIGNvbnN0IHRpdGxlSW5wdXQgPSBjbG9uZS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImNvbHVtbi10aXRsZVwiXScpO1xuICAgICAgY29uc3QgbGlua3NDb250YWluZXIgPSBjbG9uZS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2x1bW4tbGlua3NdJyk7XG4gICAgICBjb25zdCBhZGRMaW5rQnRuID0gY2xvbmUucXVlcnlTZWxlY3RvcignW2RhdGEtY29sdW1uLWxpbmstYWRkXScpO1xuICAgICAgY29uc3QgcmVtb3ZlQnRuID0gY2xvbmUucXVlcnlTZWxlY3RvcignW2RhdGEtY29sdW1uLXJlbW92ZV0nKTtcbiAgICAgIGlmICh0aXRsZUlucHV0KSB0aXRsZUlucHV0LnZhbHVlID0gdGl0bGU7XG4gICAgICBsaW5rcy5mb3JFYWNoKGxpbmsgPT4gYWRkRm9vdGVyTGluayhsaW5rc0NvbnRhaW5lciwgbGluay5sYWJlbCwgbGluay51cmwpKTtcbiAgICAgIGFkZExpbmtCdG4/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gYWRkRm9vdGVyTGluayhsaW5rc0NvbnRhaW5lcikpO1xuICAgICAgcmVtb3ZlQnRuPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGNvbHVtbj8ucmVtb3ZlKCkpO1xuICAgICAgZm9vdGVyQ29sdW1uc0xpc3QuYXBwZW5kQ2hpbGQoY2xvbmUpO1xuICAgIH07XG4gICAgXG4gICAgY29uc3QgY29sbGVjdEZvb3RlckRhdGEgPSAoKSA9PiB7XG4gICAgICBjb25zdCBjb2x1bW5zID0gW107XG4gICAgICBmb290ZXJDb2x1bW5zTGlzdD8ucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtZm9vdGVyLWNvbHVtbl0nKS5mb3JFYWNoKGNvbCA9PiB7XG4gICAgICAgIGNvbnN0IHRpdGxlID0gY29sLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiY29sdW1uLXRpdGxlXCJdJyk/LnZhbHVlPy50cmltKCkgfHwgJyc7XG4gICAgICAgIGNvbnN0IGxpbmtzID0gW107XG4gICAgICAgIGNvbC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1mb290ZXItbGlua10nKS5mb3JFYWNoKGxpbmtFbCA9PiB7XG4gICAgICAgICAgY29uc3QgbGFiZWwgPSBsaW5rRWwucXVlcnlTZWxlY3RvcignW25hbWU9XCJsaW5rLWxhYmVsXCJdJyk/LnZhbHVlPy50cmltKCkgfHwgJyc7XG4gICAgICAgICAgY29uc3QgdXJsID0gbGlua0VsLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwibGluay11cmxcIl0nKT8udmFsdWU/LnRyaW0oKSB8fCAnJztcbiAgICAgICAgICBpZiAobGFiZWwgfHwgdXJsKSBsaW5rcy5wdXNoKHsgbGFiZWwsIHVybCB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh0aXRsZSB8fCBsaW5rcy5sZW5ndGggPiAwKSBjb2x1bW5zLnB1c2goeyB0aXRsZSwgbGlua3MgfSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNvbHVtbnMsXG4gICAgICAgIHNvY2lhbHM6IHtcbiAgICAgICAgICBsaW5rZWRpbjogZm9vdGVyRmllbGRzLmxpbmtlZGluPy52YWx1ZT8udHJpbSgpIHx8ICcnLFxuICAgICAgICAgIHR3aXR0ZXI6IGZvb3RlckZpZWxkcy50d2l0dGVyPy52YWx1ZT8udHJpbSgpIHx8ICcnLFxuICAgICAgICAgIGluc3RhZ3JhbTogZm9vdGVyRmllbGRzLmluc3RhZ3JhbT8udmFsdWU/LnRyaW0oKSB8fCAnJyxcbiAgICAgICAgICBmYWNlYm9vazogZm9vdGVyRmllbGRzLmZhY2Vib29rPy52YWx1ZT8udHJpbSgpIHx8ICcnLFxuICAgICAgICAgIHlvdXR1YmU6IGZvb3RlckZpZWxkcy55b3V0dWJlPy52YWx1ZT8udHJpbSgpIHx8ICcnLFxuICAgICAgICAgIGdpdGh1YjogZm9vdGVyRmllbGRzLmdpdGh1Yj8udmFsdWU/LnRyaW0oKSB8fCAnJyxcbiAgICAgICAgfSxcbiAgICAgICAgY29weXJpZ2h0OiBmb290ZXJGaWVsZHMuY29weXJpZ2h0Py52YWx1ZT8udHJpbSgpIHx8ICcnLFxuICAgICAgICBsZWdhbDoge1xuICAgICAgICAgIHVybDogZm9vdGVyRmllbGRzLmxlZ2FsVXJsPy52YWx1ZT8udHJpbSgpIHx8ICcnLFxuICAgICAgICAgIHByaXZhY3lVcmw6IGZvb3RlckZpZWxkcy5wcml2YWN5VXJsPy52YWx1ZT8udHJpbSgpIHx8ICcnLFxuICAgICAgICB9LFxuICAgICAgICBzdHlsZToge1xuICAgICAgICAgIGJnOiBmb290ZXJGaWVsZHMuYmc/LnZhbHVlIHx8ICdiZy1zbGF0ZS05MDAgdGV4dC13aGl0ZScsXG4gICAgICAgICAgY29sdW1uc0NvdW50OiBmb290ZXJGaWVsZHMuY29sdW1uc0NvdW50Py52YWx1ZSB8fCAnNCcsXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgIH07XG4gICAgXG4gICAgY29uc3QgcG9wdWxhdGVGb290ZXJGb3JtID0gKGRhdGEpID0+IHtcbiAgICAgIGlmICghZGF0YSkgcmV0dXJuO1xuICAgICAgaWYgKGZvb3RlckZpZWxkcy5saW5rZWRpbikgZm9vdGVyRmllbGRzLmxpbmtlZGluLnZhbHVlID0gZGF0YS5zb2NpYWxzPy5saW5rZWRpbiB8fCAnJztcbiAgICAgIGlmIChmb290ZXJGaWVsZHMudHdpdHRlcikgZm9vdGVyRmllbGRzLnR3aXR0ZXIudmFsdWUgPSBkYXRhLnNvY2lhbHM/LnR3aXR0ZXIgfHwgJyc7XG4gICAgICBpZiAoZm9vdGVyRmllbGRzLmluc3RhZ3JhbSkgZm9vdGVyRmllbGRzLmluc3RhZ3JhbS52YWx1ZSA9IGRhdGEuc29jaWFscz8uaW5zdGFncmFtIHx8ICcnO1xuICAgICAgaWYgKGZvb3RlckZpZWxkcy5mYWNlYm9vaykgZm9vdGVyRmllbGRzLmZhY2Vib29rLnZhbHVlID0gZGF0YS5zb2NpYWxzPy5mYWNlYm9vayB8fCAnJztcbiAgICAgIGlmIChmb290ZXJGaWVsZHMueW91dHViZSkgZm9vdGVyRmllbGRzLnlvdXR1YmUudmFsdWUgPSBkYXRhLnNvY2lhbHM/LnlvdXR1YmUgfHwgJyc7XG4gICAgICBpZiAoZm9vdGVyRmllbGRzLmdpdGh1YikgZm9vdGVyRmllbGRzLmdpdGh1Yi52YWx1ZSA9IGRhdGEuc29jaWFscz8uZ2l0aHViIHx8ICcnO1xuICAgICAgaWYgKGZvb3RlckZpZWxkcy5jb3B5cmlnaHQpIGZvb3RlckZpZWxkcy5jb3B5cmlnaHQudmFsdWUgPSBkYXRhLmNvcHlyaWdodCB8fCAnJztcbiAgICAgIGlmIChmb290ZXJGaWVsZHMubGVnYWxVcmwpIGZvb3RlckZpZWxkcy5sZWdhbFVybC52YWx1ZSA9IGRhdGEubGVnYWw/LnVybCB8fCAnJztcbiAgICAgIGlmIChmb290ZXJGaWVsZHMucHJpdmFjeVVybCkgZm9vdGVyRmllbGRzLnByaXZhY3lVcmwudmFsdWUgPSBkYXRhLmxlZ2FsPy5wcml2YWN5VXJsIHx8ICcnO1xuICAgICAgaWYgKGZvb3RlckZpZWxkcy5iZykgZm9vdGVyRmllbGRzLmJnLnZhbHVlID0gZGF0YS5zdHlsZT8uYmcgfHwgJ2JnLXNsYXRlLTkwMCB0ZXh0LXdoaXRlJztcbiAgICAgIGlmIChmb290ZXJGaWVsZHMuY29sdW1uc0NvdW50KSBmb290ZXJGaWVsZHMuY29sdW1uc0NvdW50LnZhbHVlID0gZGF0YS5zdHlsZT8uY29sdW1uc0NvdW50IHx8ICc0JztcbiAgICAgIC8vIFBvcHVsYXRlIGNvbHVtbnNcbiAgICAgIGlmIChmb290ZXJDb2x1bW5zTGlzdCkgZm9vdGVyQ29sdW1uc0xpc3QuaW5uZXJIVE1MID0gJyc7XG4gICAgICAoZGF0YS5jb2x1bW5zIHx8IFtdKS5mb3JFYWNoKGNvbCA9PiBhZGRGb290ZXJDb2x1bW4oY29sLnRpdGxlLCBjb2wubGlua3MpKTtcbiAgICAgIC8vIFVwZGF0ZSBzdGF0dXMgaW5kaWNhdG9yXG4gICAgICBjb25zdCBoYXNEYXRhID0gZGF0YS5jb2x1bW5zPy5sZW5ndGggPiAwIHx8IGRhdGEuY29weXJpZ2h0IHx8IE9iamVjdC52YWx1ZXMoZGF0YS5zb2NpYWxzIHx8IHt9KS5zb21lKHYgPT4gdik7XG4gICAgICBpZiAoZm9vdGVyU3RhdHVzSW5kaWNhdG9yKSB7XG4gICAgICAgIGZvb3RlclN0YXR1c0luZGljYXRvci5jbGFzc0xpc3QudG9nZ2xlKCdiZy1ncmVlbi01MDAnLCAhIWhhc0RhdGEpO1xuICAgICAgICBmb290ZXJTdGF0dXNJbmRpY2F0b3IuY2xhc3NMaXN0LnRvZ2dsZSgnYmctc2xhdGUtMzAwJywgIWhhc0RhdGEpO1xuICAgICAgICBmb290ZXJTdGF0dXNJbmRpY2F0b3IudGl0bGUgPSBoYXNEYXRhID8gJ0NvbmZpZ3VyXHUwMEU5JyA6ICdOb24gY29uZmlndXJcdTAwRTknO1xuICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgZm9vdGVyQ29sdW1uQWRkQnRuPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGFkZEZvb3RlckNvbHVtbigpKTtcbiAgICBcbiAgICBmb290ZXJTYXZlQnRuPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghbGF5b3V0QXBpQmFzZSkgcmV0dXJuO1xuICAgICAgZm9vdGVyU2F2ZUJ0bi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICBmb290ZXJTYXZlQnRuLnRleHRDb250ZW50ID0gJ0VucmVnaXN0cmVtZW50Li4uJztcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBjb2xsZWN0Rm9vdGVyRGF0YSgpO1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke2xheW91dEFwaUJhc2V9L2Zvb3RlcmAsIHtcbiAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZScsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB0aHJvdyBuZXcgRXJyb3IoJ0VycmV1ciBzZXJ2ZXVyJyk7XG4gICAgICAgIGZvb3RlckRhdGEgPSBkYXRhO1xuICAgICAgICBwb3B1bGF0ZUZvb3RlckZvcm0oZGF0YSk7XG4gICAgICAgIHNob3dUb2FzdCgnRm9vdGVyIGVucmVnaXN0clx1MDBFOScpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tmb290ZXJdIHNhdmUgZXJyb3InLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoJ0VycmV1ciBsb3JzIGRlIGxcXCdlbnJlZ2lzdHJlbWVudCcsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgZm9vdGVyU2F2ZUJ0bi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICBmb290ZXJTYXZlQnRuLnRleHRDb250ZW50ID0gJ0VucmVnaXN0cmVyJztcbiAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICAvLyBMb2FkIGxheW91dCBkYXRhIG9uIGluaXRcbiAgICBjb25zdCBsb2FkTGF5b3V0RGF0YSA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghbGF5b3V0QXBpQmFzZSkgcmV0dXJuO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChsYXlvdXRBcGlCYXNlLCB7IGNyZWRlbnRpYWxzOiAnaW5jbHVkZScgfSk7XG4gICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgaWYgKGRhdGEuaGVhZGVyKSB7XG4gICAgICAgICAgICBoZWFkZXJEYXRhID0gZGF0YS5oZWFkZXI7XG4gICAgICAgICAgICBwb3B1bGF0ZUhlYWRlckZvcm0oZGF0YS5oZWFkZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZGF0YS5mb290ZXIpIHtcbiAgICAgICAgICAgIGZvb3RlckRhdGEgPSBkYXRhLmZvb3RlcjtcbiAgICAgICAgICAgIHBvcHVsYXRlRm9vdGVyRm9ybShkYXRhLmZvb3Rlcik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2xheW91dF0gbG9hZCBlcnJvcicsIGVycik7XG4gICAgICB9XG4gICAgfTtcbiAgICBcbiAgICAvLyBJbml0aWFsaXplIGxheW91dCBkYXRhXG4gICAgbG9hZExheW91dERhdGEoKTtcbiAgICBcbiAgICAvLyBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcbiAgICAvLyBDT0xMRUNUSU9OUyAoZXhpc3RpbmcgY29kZSBjb250aW51ZXMgYmVsb3cpXG4gICAgLy8gXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXG4gICAgXG4gICAgY29uc3QgY29sbGVjdGlvbkVtcHR5U3RhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xsZWN0aW9uLWVtcHR5XScpO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25JdGVtc0VtcHR5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29sbGVjdGlvbi1pdGVtcy1lbXB0eV0nKTtcbiAgICBjb25zdCBpdGVtVGFibGVXcmFwcGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS10YWJsZS13cmFwcGVyXScpO1xuICAgIGNvbnN0IGl0ZW1UYWJsZUJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLXRhYmxlLWJvZHldJyk7XG4gICAgY29uc3QgY29sbGVjdGlvblRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29sbGVjdGlvbi10aXRsZV0nKTtcbiAgICBjb25zdCBjb2xsZWN0aW9uRGVzY3JpcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xsZWN0aW9uLWRlc2NyaXB0aW9uXScpO1xuICAgIGNvbnN0IGl0ZW1BZGRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLWFkZF0nKTtcbiAgICBjb25zdCBpdGVtRGV0YWlsRW1wdHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLWRldGFpbC1lbXB0eV0nKTtcbiAgICBjb25zdCBpdGVtRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tZm9ybV0nKTtcbiAgICBjb25zdCBpdGVtRm9ybUZpZWxkcyA9IGl0ZW1Gb3JtXG4gICAgICA/IHtcbiAgICAgICAgICB0aXRsZTogaXRlbUZvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJpdGVtLXRpdGxlXCJdJyksXG4gICAgICAgICAgc2x1ZzogaXRlbUZvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJpdGVtLXNsdWdcIl0nKSxcbiAgICAgICAgICBleGNlcnB0OiBpdGVtRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cIml0ZW0tZXhjZXJwdFwiXScpLFxuICAgICAgICAgIGNvbnRlbnQ6IGl0ZW1Gb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaXRlbS1jb250ZW50XCJdJyksXG4gICAgICAgICAgaW1hZ2U6IGl0ZW1Gb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaXRlbS1pbWFnZVwiXScpLFxuICAgICAgICAgIGN0YVRleHQ6IGl0ZW1Gb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaXRlbS1jdGEtdGV4dFwiXScpLFxuICAgICAgICAgIGN0YVVybDogaXRlbUZvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJpdGVtLWN0YS11cmxcIl0nKSxcbiAgICAgICAgICBzdGF0dXM6IGl0ZW1Gb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaXRlbS1zdGF0dXNcIl0nKSxcbiAgICAgICAgfVxuICAgICAgOiB7fTtcbiAgICBjb25zdCBpdGVtU3RhdHVzQmFkZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLXN0YXR1cy1iYWRnZV0nKTtcbiAgICBjb25zdCBpdGVtRGVsZXRlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS1kZWxldGVdJyk7XG4gICAgY29uc3QgaXRlbURlbGV0ZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS1kZWxldGUtbW9kYWxdJyk7XG4gICAgY29uc3QgaXRlbURlbGV0ZUNhbmNlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tZGVsZXRlLWNhbmNlbF0nKTtcbiAgICBjb25zdCBpdGVtRGVsZXRlQ29uZmlybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tZGVsZXRlLWNvbmZpcm1dJyk7XG4gICAgY29uc3QgaXRlbUZvcm1DYW5jZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLWNhbmNlbF0nKTtcbiAgICBjb25zdCBpdGVtRm9ybVNhdmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLXNhdmVdJyk7XG4gICAgY29uc3Qgc3RhdHVzQmFkZ2VCYXNlQ2xhc3MgPSAncm91bmRlZC1mdWxsIHB4LTMgcHktMSB0ZXh0LXhzIGZvbnQtc2VtaWJvbGQnO1xuXG4gICAgY29uc3Qgc2FmZVNpdGVTbHVnVmFsdWUgPSBzdHJpcExlYWRpbmdTbGFzaChcbiAgICAgIHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJycsXG4gICAgKTtcbiAgICBjb25zdCBjb2xsZWN0aW9uc0FwaUJhc2UgPSBzYWZlU2l0ZVNsdWdWYWx1ZVxuICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWdWYWx1ZSl9L2NvbGxlY3Rpb25zYFxuICAgICAgOiBudWxsO1xuXG4gICAgbGV0IGNvbGxlY3Rpb25zID0gW107XG4gICAgbGV0IGNvbGxlY3Rpb25JdGVtcyA9IFtdO1xuICAgIGxldCBhY3RpdmVDb2xsZWN0aW9uSWQgPSBudWxsO1xuICAgIGxldCBhY3RpdmVJdGVtSWQgPSBudWxsO1xuICAgIGxldCBpc0NyZWF0aW5nSXRlbSA9IGZhbHNlO1xuICAgIGxldCBpdGVtU2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gICAgbGV0IHBlbmRpbmdEZWxldGVJdGVtSWQgPSBudWxsO1xuXG4gICAgY29uc3Qgbm9ybWFsaXplSXRlbVNsdWdJbnB1dCA9ICh2YWx1ZSkgPT4ge1xuICAgICAgY29uc3QgcmF3ID0gKHZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICBpZiAoIXJhdykge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgICB9XG4gICAgICBpZiAocmF3ID09PSAnLycpIHtcbiAgICAgICAgcmV0dXJuICcvJztcbiAgICAgIH1cbiAgICAgIGNvbnN0IHNlZ21lbnRzID0gcmF3LnJlcGxhY2UoL15cXC8vLCAnJykuc3BsaXQoJy8nKTtcbiAgICAgIGNvbnN0IGNsZWFuZWRTZWdtZW50cyA9IHNlZ21lbnRzXG4gICAgICAgIC5tYXAoKHNlZ21lbnQpID0+IHdvcmtzcGFjZVNsdWdpZnkoc2VnbWVudCB8fCAnJykpXG4gICAgICAgIC5maWx0ZXIoKHNlZ21lbnQpID0+IHNlZ21lbnQubGVuZ3RoID4gMCk7XG4gICAgICBpZiAoIWNsZWFuZWRTZWdtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGAvJHtjbGVhbmVkU2VnbWVudHMuam9pbignLycpfWA7XG4gICAgfTtcblxuICAgIGNvbnN0IGZvcm1hdEl0ZW1EYXRlID0gKHZhbHVlKSA9PiB7XG4gICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgIHJldHVybiAnXHUyMDE0JztcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSh2YWx1ZSk7XG4gICAgICBpZiAoTnVtYmVyLmlzTmFOKGRhdGUuZ2V0VGltZSgpKSkge1xuICAgICAgICByZXR1cm4gJ1x1MjAxNCc7XG4gICAgICB9XG4gICAgICByZXR1cm4gZGF0ZS50b0xvY2FsZURhdGVTdHJpbmcoJ2ZyLUZSJywgeyBkYXk6ICcyLWRpZ2l0JywgbW9udGg6ICdzaG9ydCcsIHllYXI6ICdudW1lcmljJyB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgdXBkYXRlQ29sbGVjdGlvbkhlYWRlciA9ICgpID0+IHtcbiAgICAgIGNvbnN0IGNvbGxlY3Rpb24gPSBjb2xsZWN0aW9ucy5maW5kKChlbnRyeSkgPT4gZW50cnkuaWQgPT09IGFjdGl2ZUNvbGxlY3Rpb25JZCk7XG4gICAgICBpZiAoY29sbGVjdGlvblRpdGxlKSB7XG4gICAgICAgIGNvbGxlY3Rpb25UaXRsZS50ZXh0Q29udGVudCA9IGNvbGxlY3Rpb24/Lm5hbWUgfHwgJ1NcdTAwRTlsZWN0aW9ubmV6IHVuZSBjb2xsZWN0aW9uJztcbiAgICAgIH1cbiAgICAgIGlmIChjb2xsZWN0aW9uRGVzY3JpcHRpb24pIHtcbiAgICAgICAgY29sbGVjdGlvbkRlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gY29sbGVjdGlvbj8uZGVzY3JpcHRpb24gfHwgJyc7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHVwZGF0ZUl0ZW1zRW1wdHlNZXNzYWdlID0gKG1lc3NhZ2UpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvbkl0ZW1zRW1wdHkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29sbGVjdGlvbkl0ZW1zRW1wdHkudGV4dENvbnRlbnQgPVxuICAgICAgICBtZXNzYWdlIHx8XG4gICAgICAgIChhY3RpdmVDb2xsZWN0aW9uSWRcbiAgICAgICAgICA/ICdBdWN1biBpdGVtIGRhbnMgY2V0dGUgY29sbGVjdGlvbiBwb3VyIGxlIG1vbWVudC4nXG4gICAgICAgICAgOiAnQ2hvaXNpc3NleiB1bmUgY29sbGVjdGlvbiBkYW5zIGxlIHBhbm5lYXUgZGUgZ2F1Y2hlLicpO1xuICAgIH07XG5cbiAgICBjb25zdCBoaWRlSXRlbUZvcm0gPSAoKSA9PiB7XG4gICAgICBpZiAoaXRlbUZvcm0pIHtcbiAgICAgICAgaXRlbUZvcm0uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIGl0ZW1Gb3JtLmRhdGFzZXQuaXRlbUlkID0gJyc7XG4gICAgICB9XG4gICAgICBpdGVtRGV0YWlsRW1wdHk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgaWYgKGl0ZW1TdGF0dXNCYWRnZSkge1xuICAgICAgICBpdGVtU3RhdHVzQmFkZ2UuY2xhc3NOYW1lID0gYGhpZGRlbiAke3N0YXR1c0JhZGdlQmFzZUNsYXNzfWA7XG4gICAgICAgIGl0ZW1TdGF0dXNCYWRnZS50ZXh0Q29udGVudCA9ICcnO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1EZWxldGVCdXR0b24pIHtcbiAgICAgICAgaXRlbURlbGV0ZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHNob3dJdGVtRm9ybSA9ICgpID0+IHtcbiAgICAgIGlmICghaXRlbUZvcm0pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaXRlbUZvcm0uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBpdGVtRGV0YWlsRW1wdHk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgIH07XG5cbiAgICBjb25zdCBzeW5jQWRkQnV0dG9uU3RhdGUgPSAoKSA9PiB7XG4gICAgICBpZiAoIWl0ZW1BZGRCdXR0b24pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaXRlbUFkZEJ1dHRvbi5kaXNhYmxlZCA9ICFhY3RpdmVDb2xsZWN0aW9uSWQ7XG4gICAgICBpZiAoaXRlbUFkZEJ1dHRvbi5kaXNhYmxlZCkge1xuICAgICAgICBpdGVtQWRkQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ29wYWNpdHktNjAnLCAncG9pbnRlci1ldmVudHMtbm9uZScpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaXRlbUFkZEJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdvcGFjaXR5LTYwJywgJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3Qgc3luY0l0ZW1TdGF0dXNCYWRnZSA9IChzdGF0dXMpID0+IHtcbiAgICAgIGlmICghaXRlbVN0YXR1c0JhZGdlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghc3RhdHVzKSB7XG4gICAgICAgIGl0ZW1TdGF0dXNCYWRnZS5jbGFzc05hbWUgPSBgaGlkZGVuICR7c3RhdHVzQmFkZ2VCYXNlQ2xhc3N9YDtcbiAgICAgICAgaXRlbVN0YXR1c0JhZGdlLnRleHRDb250ZW50ID0gJyc7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBzdGF0dXMudG9Mb3dlckNhc2UoKTtcbiAgICAgIGxldCBjb2xvckNsYXNzID0gJ2JnLXNsYXRlLTEwMCB0ZXh0LXNsYXRlLTYwMCBib3JkZXIgYm9yZGVyLXNsYXRlLTIwMCc7XG4gICAgICBpZiAobm9ybWFsaXplZCA9PT0gJ3B1YmxpXHUwMEU5JyB8fCBub3JtYWxpemVkID09PSAncHVibGllJykge1xuICAgICAgICBjb2xvckNsYXNzID0gJ2JnLWVtZXJhbGQtNTAgdGV4dC1lbWVyYWxkLTcwMCBib3JkZXIgYm9yZGVyLWVtZXJhbGQtMTAwJztcbiAgICAgIH0gZWxzZSBpZiAobm9ybWFsaXplZCA9PT0gJ2Jyb3VpbGxvbicpIHtcbiAgICAgICAgY29sb3JDbGFzcyA9ICdiZy1hbWJlci01MCB0ZXh0LWFtYmVyLTcwMCBib3JkZXIgYm9yZGVyLWFtYmVyLTEwMCc7XG4gICAgICB9XG4gICAgICBpdGVtU3RhdHVzQmFkZ2UuY2xhc3NOYW1lID0gYCR7c3RhdHVzQmFkZ2VCYXNlQ2xhc3N9ICR7Y29sb3JDbGFzc31gO1xuICAgICAgaXRlbVN0YXR1c0JhZGdlLnRleHRDb250ZW50ID0gc3RhdHVzO1xuICAgIH07XG5cbiAgICBjb25zdCByZW5kZXJDb2xsZWN0aW9uTGlzdCA9ICgpID0+IHtcbiAgICAgIGNvbGxlY3Rpb25MaXN0LmlubmVySFRNTCA9ICcnO1xuICAgICAgLy8gVXBkYXRlIGNvbGxlY3Rpb24gY291bnRcbiAgICAgIGlmIChjb2xsZWN0aW9uQ291bnRFbCkgY29sbGVjdGlvbkNvdW50RWwudGV4dENvbnRlbnQgPSBjb2xsZWN0aW9ucy5sZW5ndGg7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25zLmxlbmd0aCkge1xuICAgICAgICBjb2xsZWN0aW9uRW1wdHlTdGF0ZT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbGxlY3Rpb25FbXB0eVN0YXRlPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGNvbGxlY3Rpb25zLmZvckVhY2goKGNvbGxlY3Rpb24pID0+IHtcbiAgICAgICAgY29uc3QgaXNBY3RpdmUgPSBjb2xsZWN0aW9uLmlkID09PSBhY3RpdmVDb2xsZWN0aW9uSWQ7XG4gICAgICAgIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICBidXR0b24udHlwZSA9ICdidXR0b24nO1xuICAgICAgICBidXR0b24uZGF0YXNldC5jb2xsZWN0aW9uSWQgPSBjb2xsZWN0aW9uLmlkO1xuICAgICAgICBidXR0b24uY2xhc3NOYW1lID0gW1xuICAgICAgICAgICd3LWZ1bGwgcm91bmRlZC14bCBib3JkZXIgcHgtMyBweS0yIHRleHQtbGVmdCB0cmFuc2l0aW9uIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1bIzlDNkJGRl0vNDAnLFxuICAgICAgICAgIGlzQWN0aXZlXG4gICAgICAgICAgICA/ICdiZy1bI0Y3RjBGRl0gYm9yZGVyLVsjOUM2QkZGXS80MCB0ZXh0LXNsYXRlLTkwMCdcbiAgICAgICAgICAgIDogJ2JvcmRlci1zbGF0ZS0yMDAgdGV4dC1zbGF0ZS03MDAgaG92ZXI6Ym9yZGVyLVsjOUM2QkZGXS80MCcsXG4gICAgICAgIF0uam9pbignICcpO1xuICAgICAgICBidXR0b24uc2V0QXR0cmlidXRlKCdyb2xlJywgJ29wdGlvbicpO1xuICAgICAgICBpZiAoaXNBY3RpdmUpIHtcbiAgICAgICAgICBidXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLWN1cnJlbnQnLCAndHJ1ZScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGJ1dHRvbi5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtY3VycmVudCcpO1xuICAgICAgICB9XG4gICAgICAgIGJ1dHRvbi5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBnYXAtMlwiPlxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXNtIGZvbnQtc2VtaWJvbGRcIj4ke2NvbGxlY3Rpb24ubmFtZSB8fCBjb2xsZWN0aW9uLmlkfTwvcD5cbiAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNTAwXCI+JHtjb2xsZWN0aW9uLmRlc2NyaXB0aW9uIHx8ICcnfTwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LVsxMXB4XSB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZSB0ZXh0LXNsYXRlLTQwMFwiPiR7Y29sbGVjdGlvbi50eXBlIHx8ICcnfTwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgYDtcbiAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgIHNldEFjdGl2ZUNvbGxlY3Rpb24oY29sbGVjdGlvbi5pZCk7XG4gICAgICAgICAgaWYgKCF3aW5kb3cubWF0Y2hNZWRpYSgnKG1pbi13aWR0aDogMTAyNHB4KScpLm1hdGNoZXMpIHtcbiAgICAgICAgICAgIGNsb3NlQ29udGVudERyYXdlcigpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGNvbGxlY3Rpb25MaXN0LmFwcGVuZENoaWxkKGJ1dHRvbik7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgcmVuZGVySXRlbVRhYmxlID0gKCkgPT4ge1xuICAgICAgaWYgKCFpdGVtVGFibGVCb2R5KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGl0ZW1UYWJsZUJvZHkuaW5uZXJIVE1MID0gJyc7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25JdGVtcy5sZW5ndGggfHwgIWFjdGl2ZUNvbGxlY3Rpb25JZCkge1xuICAgICAgICBjb2xsZWN0aW9uSXRlbXNFbXB0eT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIHVwZGF0ZUl0ZW1zRW1wdHlNZXNzYWdlKCk7XG4gICAgICAgIGl0ZW1UYWJsZVdyYXBwZXI/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb2xsZWN0aW9uSXRlbXNFbXB0eT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBpdGVtVGFibGVXcmFwcGVyPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGNvbGxlY3Rpb25JdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgIGNvbnN0IHJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyJyk7XG4gICAgICAgIHJvdy5kYXRhc2V0Lml0ZW1JZCA9IGl0ZW0uaWQ7XG4gICAgICAgIGNvbnN0IGlzQWN0aXZlID0gaXRlbS5pZCA9PT0gYWN0aXZlSXRlbUlkICYmICFpc0NyZWF0aW5nSXRlbTtcbiAgICAgICAgcm93LmNsYXNzTmFtZSA9IFtcbiAgICAgICAgICAnY3Vyc29yLXBvaW50ZXIgdHJhbnNpdGlvbiBmb2N1cy13aXRoaW46YmctWyNGN0YwRkZdLzcwIGZvY3VzOm91dGxpbmUtbm9uZScsXG4gICAgICAgICAgaXNBY3RpdmUgPyAnYmctWyNGN0YwRkZdLzcwJyA6ICdob3ZlcjpiZy1zbGF0ZS01MCcsXG4gICAgICAgIF0uam9pbignICcpO1xuICAgICAgICByb3cudGFiSW5kZXggPSAwO1xuICAgICAgICByb3cuc2V0QXR0cmlidXRlKCdyb2xlJywgJ2J1dHRvbicpO1xuICAgICAgICBpZiAoaXNBY3RpdmUpIHtcbiAgICAgICAgICByb3cuc2V0QXR0cmlidXRlKCdhcmlhLWN1cnJlbnQnLCAndHJ1ZScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJvdy5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtY3VycmVudCcpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHN0YXR1cyA9IGl0ZW0uc3RhdHVzIHx8ICdCcm91aWxsb24nO1xuICAgICAgICBjb25zdCBub3JtYWxpemVkID0gc3RhdHVzLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGNvbnN0IHN0YXR1c0NsYXNzZXMgPVxuICAgICAgICAgIG5vcm1hbGl6ZWQgPT09ICdwdWJsaVx1MDBFOScgfHwgbm9ybWFsaXplZCA9PT0gJ3B1YmxpZSdcbiAgICAgICAgICAgID8gJ2JnLWVtZXJhbGQtNTAgdGV4dC1lbWVyYWxkLTcwMCBib3JkZXIgYm9yZGVyLWVtZXJhbGQtMTAwJ1xuICAgICAgICAgICAgOiAnYmctYW1iZXItNTAgdGV4dC1hbWJlci03MDAgYm9yZGVyIGJvcmRlci1hbWJlci0xMDAnO1xuICAgICAgICByb3cuaW5uZXJIVE1MID0gYFxuICAgICAgICAgIDx0ZCBjbGFzcz1cInB4LTQgcHktMyBhbGlnbi10b3BcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC1zbSBmb250LXNlbWlib2xkIHRleHQtc2xhdGUtOTAwXCI+JHtpdGVtLnRpdGxlIHx8ICdTYW5zIHRpdHJlJ308L3NwYW4+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC14cyB0ZXh0LXNsYXRlLTUwMFwiPiR7aXRlbS5zdW1tYXJ5IHx8IGl0ZW0uZXhjZXJwdCB8fCAnJ308L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L3RkPlxuICAgICAgICAgIDx0ZCBjbGFzcz1cInB4LTQgcHktMyBhbGlnbi10b3AgdGV4dC1zbSB0ZXh0LXNsYXRlLTYwMFwiPiR7aXRlbS5zbHVnIHx8ICcnfTwvdGQ+XG4gICAgICAgICAgPHRkIGNsYXNzPVwicHgtNCBweS0zIGFsaWduLXRvcFwiPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgcm91bmRlZC1mdWxsIHB4LTMgcHktMSB0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgJHtzdGF0dXNDbGFzc2VzfVwiPlxuICAgICAgICAgICAgICAke3N0YXR1c31cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L3RkPlxuICAgICAgICAgIDx0ZCBjbGFzcz1cInB4LTQgcHktMyBhbGlnbi10b3AgdGV4dC1zbSB0ZXh0LXNsYXRlLTUwMFwiPiR7Zm9ybWF0SXRlbURhdGUoXG4gICAgICAgICAgICBpdGVtLnVwZGF0ZWRBdCB8fCBpdGVtLmNyZWF0ZWRBdCxcbiAgICAgICAgICApfTwvdGQ+XG4gICAgICAgIGA7XG4gICAgICAgIGNvbnN0IGhhbmRsZVNlbGVjdCA9ICgpID0+IHtcbiAgICAgICAgICBzZWxlY3RJdGVtKGl0ZW0uaWQpO1xuICAgICAgICB9O1xuICAgICAgICByb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVTZWxlY3QpO1xuICAgICAgICByb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldmVudCkgPT4ge1xuICAgICAgICAgIGlmIChldmVudC5rZXkgPT09ICdFbnRlcicgfHwgZXZlbnQua2V5ID09PSAnICcpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBoYW5kbGVTZWxlY3QoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpdGVtVGFibGVCb2R5LmFwcGVuZENoaWxkKHJvdyk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgY29uc3Qgc2VsZWN0SXRlbSA9IChpdGVtSWQpID0+IHtcbiAgICAgIGNvbnN0IGl0ZW0gPSBjb2xsZWN0aW9uSXRlbXMuZmluZCgoZW50cnkpID0+IGVudHJ5LmlkID09PSBpdGVtSWQpO1xuICAgICAgaWYgKCFpdGVtKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGFjdGl2ZUl0ZW1JZCA9IGl0ZW0uaWQ7XG4gICAgICBpc0NyZWF0aW5nSXRlbSA9IGZhbHNlO1xuICAgICAgaXRlbVNsdWdNYW51YWxseUVkaXRlZCA9IHRydWU7XG4gICAgICBwb3B1bGF0ZUl0ZW1Gb3JtKGl0ZW0pO1xuICAgICAgcmVuZGVySXRlbVRhYmxlKCk7XG4gICAgfTtcblxuICAgIGNvbnN0IHBvcHVsYXRlSXRlbUZvcm0gPSAoaXRlbSkgPT4ge1xuICAgICAgaWYgKCFpdGVtRm9ybSB8fCAhaXRlbSkge1xuICAgICAgICBoaWRlSXRlbUZvcm0oKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2hvd0l0ZW1Gb3JtKCk7XG4gICAgICBpdGVtRm9ybS5kYXRhc2V0Lml0ZW1JZCA9IGl0ZW0uaWQ7XG4gICAgICBpZiAoaXRlbUZvcm1GaWVsZHMudGl0bGUpIHtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMudGl0bGUudmFsdWUgPSBpdGVtLnRpdGxlIHx8ICcnO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1Gb3JtRmllbGRzLnNsdWcpIHtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMuc2x1Zy52YWx1ZSA9IGl0ZW0uc2x1ZyB8fCAnJztcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtRm9ybUZpZWxkcy5leGNlcnB0KSB7XG4gICAgICAgIGl0ZW1Gb3JtRmllbGRzLmV4Y2VycHQudmFsdWUgPSBpdGVtLnN1bW1hcnkgfHwgaXRlbS5leGNlcnB0IHx8ICcnO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1Gb3JtRmllbGRzLmNvbnRlbnQpIHtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMuY29udGVudC52YWx1ZSA9IGl0ZW0uY29udGVudCB8fCAnJztcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtRm9ybUZpZWxkcy5pbWFnZSkge1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy5pbWFnZS52YWx1ZSA9IGl0ZW0uaW1hZ2UgfHwgJyc7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbUZvcm1GaWVsZHMuY3RhVGV4dCkge1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy5jdGFUZXh0LnZhbHVlID0gaXRlbS5jdGE/LnRleHQgfHwgaXRlbS5jdGFUZXh0IHx8ICcnO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1Gb3JtRmllbGRzLmN0YVVybCkge1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy5jdGFVcmwudmFsdWUgPSBpdGVtLmN0YT8udXJsIHx8IGl0ZW0uY3RhVXJsIHx8ICcnO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1Gb3JtRmllbGRzLnN0YXR1cykge1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy5zdGF0dXMudmFsdWUgPSBpdGVtLnN0YXR1cyB8fCAnQnJvdWlsbG9uJztcbiAgICAgIH1cbiAgICAgIHN5bmNJdGVtU3RhdHVzQmFkZ2UoaXRlbS5zdGF0dXMgfHwgJ0Jyb3VpbGxvbicpO1xuICAgICAgaWYgKGl0ZW1EZWxldGVCdXR0b24pIHtcbiAgICAgICAgaXRlbURlbGV0ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBwcmVwYXJlTmV3SXRlbUZvcm0gPSAoKSA9PiB7XG4gICAgICBpZiAoIWl0ZW1Gb3JtKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlzQ3JlYXRpbmdJdGVtID0gdHJ1ZTtcbiAgICAgIGFjdGl2ZUl0ZW1JZCA9IG51bGw7XG4gICAgICBpdGVtU2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gICAgICBpdGVtRm9ybS5kYXRhc2V0Lml0ZW1JZCA9ICcnO1xuICAgICAgaXRlbUZvcm0ucmVzZXQoKTtcbiAgICAgIGlmIChpdGVtRm9ybUZpZWxkcy5zdGF0dXMpIHtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMuc3RhdHVzLnZhbHVlID0gJ0Jyb3VpbGxvbic7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbUZvcm1GaWVsZHMuc2x1Zykge1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy5zbHVnLnZhbHVlID0gJyc7XG4gICAgICB9XG4gICAgICBzeW5jSXRlbVN0YXR1c0JhZGdlKCdCcm91aWxsb24nKTtcbiAgICAgIHNob3dJdGVtRm9ybSgpO1xuICAgICAgaWYgKGl0ZW1EZWxldGVCdXR0b24pIHtcbiAgICAgICAgaXRlbURlbGV0ZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICB9XG4gICAgICBpdGVtRm9ybUZpZWxkcy50aXRsZT8uZm9jdXMoKTtcbiAgICB9O1xuXG4gICAgY29uc3QgY29sbGVjdEl0ZW1Gb3JtVmFsdWVzID0gKCkgPT4ge1xuICAgICAgY29uc3QgdGl0bGUgPSAoaXRlbUZvcm1GaWVsZHMudGl0bGU/LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICBjb25zdCBzbHVnSW5wdXQgPSAoaXRlbUZvcm1GaWVsZHMuc2x1Zz8udmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgIGNvbnN0IHN1bW1hcnkgPSAoaXRlbUZvcm1GaWVsZHMuZXhjZXJwdD8udmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgIGNvbnN0IGNvbnRlbnQgPSAoaXRlbUZvcm1GaWVsZHMuY29udGVudD8udmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgIGNvbnN0IGltYWdlID0gKGl0ZW1Gb3JtRmllbGRzLmltYWdlPy52YWx1ZSB8fCAnJykudHJpbSgpO1xuICAgICAgY29uc3QgY3RhVGV4dCA9IChpdGVtRm9ybUZpZWxkcy5jdGFUZXh0Py52YWx1ZSB8fCAnJykudHJpbSgpO1xuICAgICAgY29uc3QgY3RhVXJsID0gKGl0ZW1Gb3JtRmllbGRzLmN0YVVybD8udmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgIGNvbnN0IHN0YXR1cyA9IGl0ZW1Gb3JtRmllbGRzLnN0YXR1cz8udmFsdWUgfHwgJ0Jyb3VpbGxvbic7XG4gICAgICBcbiAgICAgIC8vIEJ1aWxkIENUQSBvYmplY3Qgb25seSBpZiBhdCBsZWFzdCBvbmUgZmllbGQgaXMgZmlsbGVkXG4gICAgICBjb25zdCBjdGEgPSAoY3RhVGV4dCB8fCBjdGFVcmwpID8geyB0ZXh0OiBjdGFUZXh0LCB1cmw6IGN0YVVybCB9IDogbnVsbDtcbiAgICAgIFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdGl0bGUsXG4gICAgICAgIHNsdWc6IHNsdWdJbnB1dCA/IG5vcm1hbGl6ZUl0ZW1TbHVnSW5wdXQoc2x1Z0lucHV0KSA6IG5vcm1hbGl6ZUl0ZW1TbHVnSW5wdXQodGl0bGUpLFxuICAgICAgICBzdW1tYXJ5LFxuICAgICAgICBleGNlcnB0OiBzdW1tYXJ5LFxuICAgICAgICBjb250ZW50LFxuICAgICAgICBpbWFnZSxcbiAgICAgICAgc3RhdHVzLFxuICAgICAgICAuLi4oY3RhICYmIHsgY3RhIH0pLFxuICAgICAgfTtcbiAgICB9O1xuXG4gICAgY29uc3Qgc2V0Rm9ybVNhdmluZ1N0YXRlID0gKGlzU2F2aW5nKSA9PiB7XG4gICAgICBpZiAoaXRlbUZvcm1TYXZlKSB7XG4gICAgICAgIGl0ZW1Gb3JtU2F2ZS5kaXNhYmxlZCA9IGlzU2F2aW5nO1xuICAgICAgICBpdGVtRm9ybVNhdmUudGV4dENvbnRlbnQgPSBpc1NhdmluZyA/ICdFbnJlZ2lzdHJlbWVudFx1MjAyNicgOiAnRW5yZWdpc3RyZXInO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1EZWxldGVCdXR0b24gJiYgIWlzQ3JlYXRpbmdJdGVtICYmIGFjdGl2ZUl0ZW1JZCkge1xuICAgICAgICBpdGVtRGVsZXRlQnV0dG9uLmRpc2FibGVkID0gaXNTYXZpbmc7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGZldGNoQ29sbGVjdGlvbkl0ZW1zID0gYXN5bmMgKGNvbGxlY3Rpb25JZCkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uc0FwaUJhc2UpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgYCR7Y29sbGVjdGlvbnNBcGlCYXNlfS8ke2VuY29kZVVSSUNvbXBvbmVudChjb2xsZWN0aW9uSWQpfS9pdGVtc2AsXG4gICAgICAgIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0sXG4gICAgICApO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IocGF5bG9hZC5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIGl0ZW1zLicpO1xuICAgICAgfVxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KGRhdGEuaXRlbXMpID8gZGF0YS5pdGVtcyA6IFtdO1xuICAgIH07XG5cbiAgICBjb25zdCBzZXRBY3RpdmVDb2xsZWN0aW9uID0gYXN5bmMgKGNvbGxlY3Rpb25JZCkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uSWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYWN0aXZlQ29sbGVjdGlvbklkID0gY29sbGVjdGlvbklkO1xuICAgICAgYWN0aXZlSXRlbUlkID0gbnVsbDtcbiAgICAgIGlzQ3JlYXRpbmdJdGVtID0gZmFsc2U7XG4gICAgICBpdGVtU2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gICAgICAvLyBTd2l0Y2ggdG8gY29sbGVjdGlvbiB2aWV3XG4gICAgICBzaG93Q29udGVudFZpZXcoJ2NvbGxlY3Rpb24nKTtcbiAgICAgIHVwZGF0ZUNvbGxlY3Rpb25IZWFkZXIoKTtcbiAgICAgIHN5bmNBZGRCdXR0b25TdGF0ZSgpO1xuICAgICAgcmVuZGVyQ29sbGVjdGlvbkxpc3QoKTtcbiAgICAgIGhpZGVJdGVtRm9ybSgpO1xuICAgICAgY29sbGVjdGlvbkl0ZW1zID0gW107XG4gICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICAgIHVwZGF0ZUl0ZW1zRW1wdHlNZXNzYWdlKCdDaGFyZ2VtZW50IGRlcyBpdGVtc1x1MjAyNicpO1xuICAgICAgY29sbGVjdGlvbkl0ZW1zRW1wdHk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgaXRlbVRhYmxlV3JhcHBlcj8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25zQXBpQmFzZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb2xsZWN0aW9uSXRlbXMgPSBhd2FpdCBmZXRjaENvbGxlY3Rpb25JdGVtcyhjb2xsZWN0aW9uSWQpO1xuICAgICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICAgICAgaWYgKCFjb2xsZWN0aW9uSXRlbXMubGVuZ3RoKSB7XG4gICAgICAgICAgdXBkYXRlSXRlbXNFbXB0eU1lc3NhZ2UoKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tjb250ZW50XSBpdGVtcyBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgY2hhcmdlciBsZXMgaXRlbXMuJyk7XG4gICAgICAgIGNvbGxlY3Rpb25JdGVtcyA9IFtdO1xuICAgICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgY3JlYXRlQ29sbGVjdGlvbkl0ZW0gPSBhc3luYyAoY29sbGVjdGlvbklkLCBwYXlsb2FkKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25zQXBpQmFzZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NpdGUgaW5jb25udS4nKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgIGAke2NvbGxlY3Rpb25zQXBpQmFzZX0vJHtlbmNvZGVVUklDb21wb25lbnQoY29sbGVjdGlvbklkKX0vaXRlbXNgLFxuICAgICAgICB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgIH0sXG4gICAgICApO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZGF0YS5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIGNyXHUwMEU5ZXIgY2V0IGl0ZW0uJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgIH07XG5cbiAgICBjb25zdCB1cGRhdGVDb2xsZWN0aW9uSXRlbSA9IGFzeW5jIChjb2xsZWN0aW9uSWQsIGl0ZW1JZCwgcGF5bG9hZCkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uc0FwaUJhc2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTaXRlIGluY29ubnUuJyk7XG4gICAgICB9XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgICBgJHtjb2xsZWN0aW9uc0FwaUJhc2V9LyR7ZW5jb2RlVVJJQ29tcG9uZW50KGNvbGxlY3Rpb25JZCl9L2l0ZW1zLyR7ZW5jb2RlVVJJQ29tcG9uZW50KGl0ZW1JZCl9YCxcbiAgICAgICAge1xuICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgIH0sXG4gICAgICApO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZGF0YS5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIHNhdXZlZ2FyZGVyIGNldCBpdGVtLicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICB9O1xuXG4gICAgY29uc3QgZGVsZXRlQ29sbGVjdGlvbkl0ZW0gPSBhc3luYyAoY29sbGVjdGlvbklkLCBpdGVtSWQpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvbnNBcGlCYXNlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignU2l0ZSBpbmNvbm51LicpO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgYCR7Y29sbGVjdGlvbnNBcGlCYXNlfS8ke2VuY29kZVVSSUNvbXBvbmVudChjb2xsZWN0aW9uSWQpfS9pdGVtcy8ke2VuY29kZVVSSUNvbXBvbmVudChpdGVtSWQpfWAsXG4gICAgICAgIHsgbWV0aG9kOiAnREVMRVRFJyB9LFxuICAgICAgKTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGRhdGEubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBzdXBwcmltZXIgY2V0IGl0ZW0uJyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGxvYWRDb2xsZWN0aW9ucyA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvbnNBcGlCYXNlKSB7XG4gICAgICAgIGNvbGxlY3Rpb25FbXB0eVN0YXRlPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgYWN0aXZlQ29sbGVjdGlvbklkID0gbnVsbDtcbiAgICAgICAgY29sbGVjdGlvbkl0ZW1zID0gW107XG4gICAgICAgIHJlbmRlckl0ZW1UYWJsZSgpO1xuICAgICAgICB1cGRhdGVDb2xsZWN0aW9uSGVhZGVyKCk7XG4gICAgICAgIHN5bmNBZGRCdXR0b25TdGF0ZSgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGNvbGxlY3Rpb25zQXBpQmFzZSwge1xuICAgICAgICAgIGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ltcG9zc2libGUgZGUgY2hhcmdlciBsZXMgY29sbGVjdGlvbnMuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiBbXSk7XG4gICAgICAgIGNvbGxlY3Rpb25zID0gQXJyYXkuaXNBcnJheShwYXlsb2FkKSA/IHBheWxvYWQgOiBbXTtcbiAgICAgICAgcmVuZGVyQ29sbGVjdGlvbkxpc3QoKTtcbiAgICAgICAgaWYgKGNvbGxlY3Rpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBjb25zdCBkZWZhdWx0SWQgPSBjb2xsZWN0aW9ucy5maW5kKChlbnRyeSkgPT4gZW50cnkuaWQgPT09IGFjdGl2ZUNvbGxlY3Rpb25JZCk/LmlkXG4gICAgICAgICAgICB8fCBjb2xsZWN0aW9uc1swXS5pZDtcbiAgICAgICAgICBzZXRBY3RpdmVDb2xsZWN0aW9uKGRlZmF1bHRJZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYWN0aXZlQ29sbGVjdGlvbklkID0gbnVsbDtcbiAgICAgICAgICBjb2xsZWN0aW9uSXRlbXMgPSBbXTtcbiAgICAgICAgICB1cGRhdGVDb2xsZWN0aW9uSGVhZGVyKCk7XG4gICAgICAgICAgc3luY0FkZEJ1dHRvblN0YXRlKCk7XG4gICAgICAgICAgcmVuZGVySXRlbVRhYmxlKCk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbY29udGVudF0gbG9hZCBjb2xsZWN0aW9ucycsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxlcyBjb2xsZWN0aW9ucy4nKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaXRlbUFkZEJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBpZiAoIWFjdGl2ZUNvbGxlY3Rpb25JZCkge1xuICAgICAgICBzaG93VG9hc3QoJ1NcdTAwRTlsZWN0aW9ubmV6IGRcdTIwMTlhYm9yZCB1bmUgY29sbGVjdGlvbi4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcHJlcGFyZU5ld0l0ZW1Gb3JtKCk7XG4gICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICB9KTtcblxuICAgIGl0ZW1Gb3JtQ2FuY2VsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmIChpc0NyZWF0aW5nSXRlbSkge1xuICAgICAgICBpc0NyZWF0aW5nSXRlbSA9IGZhbHNlO1xuICAgICAgICBhY3RpdmVJdGVtSWQgPSBudWxsO1xuICAgICAgICBoaWRlSXRlbUZvcm0oKTtcbiAgICAgICAgcmVuZGVySXRlbVRhYmxlKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChhY3RpdmVJdGVtSWQpIHtcbiAgICAgICAgY29uc3QgaXRlbSA9IGNvbGxlY3Rpb25JdGVtcy5maW5kKChlbnRyeSkgPT4gZW50cnkuaWQgPT09IGFjdGl2ZUl0ZW1JZCk7XG4gICAgICAgIHBvcHVsYXRlSXRlbUZvcm0oaXRlbSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBoaWRlSXRlbUZvcm0oKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGl0ZW1Gb3JtRmllbGRzLnN0YXR1cz8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICAgICAgc3luY0l0ZW1TdGF0dXNCYWRnZShpdGVtRm9ybUZpZWxkcy5zdGF0dXMudmFsdWUpO1xuICAgIH0pO1xuXG4gICAgaXRlbUZvcm1GaWVsZHMudGl0bGU/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgaWYgKCFpc0NyZWF0aW5nSXRlbSB8fCAhaXRlbUZvcm1GaWVsZHMuc2x1ZyB8fCBpdGVtU2x1Z01hbnVhbGx5RWRpdGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGl0ZW1Gb3JtRmllbGRzLnNsdWcudmFsdWUgPSBub3JtYWxpemVJdGVtU2x1Z0lucHV0KGl0ZW1Gb3JtRmllbGRzLnRpdGxlLnZhbHVlKTtcbiAgICB9KTtcblxuICAgIGl0ZW1Gb3JtRmllbGRzLnNsdWc/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgaWYgKCFpc0NyZWF0aW5nSXRlbSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpdGVtU2x1Z01hbnVhbGx5RWRpdGVkID0gdHJ1ZTtcbiAgICB9KTtcblxuICAgIGl0ZW1Gb3JtPy5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoIWFjdGl2ZUNvbGxlY3Rpb25JZCkge1xuICAgICAgICBzaG93VG9hc3QoJ1NcdTAwRTlsZWN0aW9ubmV6IHVuZSBjb2xsZWN0aW9uLicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCB2YWx1ZXMgPSBjb2xsZWN0SXRlbUZvcm1WYWx1ZXMoKTtcbiAgICAgIGlmICghdmFsdWVzLnRpdGxlKSB7XG4gICAgICAgIHNob3dUb2FzdCgnTGUgdGl0cmUgZXN0IHJlcXVpcy4nKTtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMudGl0bGU/LmZvY3VzKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNldEZvcm1TYXZpbmdTdGF0ZSh0cnVlKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGxldCBzYXZlZEl0ZW07XG4gICAgICAgIGlmIChpc0NyZWF0aW5nSXRlbSB8fCAhYWN0aXZlSXRlbUlkKSB7XG4gICAgICAgICAgc2F2ZWRJdGVtID0gYXdhaXQgY3JlYXRlQ29sbGVjdGlvbkl0ZW0oYWN0aXZlQ29sbGVjdGlvbklkLCB2YWx1ZXMpO1xuICAgICAgICAgIGNvbGxlY3Rpb25JdGVtcyA9IFsuLi5jb2xsZWN0aW9uSXRlbXMsIHNhdmVkSXRlbV07XG4gICAgICAgICAgc2hvd1RvYXN0KCdJdGVtIGNyXHUwMEU5XHUwMEU5Jyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2F2ZWRJdGVtID0gYXdhaXQgdXBkYXRlQ29sbGVjdGlvbkl0ZW0oYWN0aXZlQ29sbGVjdGlvbklkLCBhY3RpdmVJdGVtSWQsIHZhbHVlcyk7XG4gICAgICAgICAgY29sbGVjdGlvbkl0ZW1zID0gY29sbGVjdGlvbkl0ZW1zLm1hcCgoaXRlbSkgPT5cbiAgICAgICAgICAgIGl0ZW0uaWQgPT09IHNhdmVkSXRlbS5pZCA/IHNhdmVkSXRlbSA6IGl0ZW0sXG4gICAgICAgICAgKTtcbiAgICAgICAgICBzaG93VG9hc3QoJ0l0ZW0gbWlzIFx1MDBFMCBqb3VyJyk7XG4gICAgICAgIH1cbiAgICAgICAgaXNDcmVhdGluZ0l0ZW0gPSBmYWxzZTtcbiAgICAgICAgYWN0aXZlSXRlbUlkID0gc2F2ZWRJdGVtLmlkO1xuICAgICAgICBwb3B1bGF0ZUl0ZW1Gb3JtKHNhdmVkSXRlbSk7XG4gICAgICAgIHJlbmRlckl0ZW1UYWJsZSgpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tjb250ZW50XSBzYXZlIGl0ZW0gZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIHNhdXZlZ2FyZGVyIGNldCBpdGVtLicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0Rm9ybVNhdmluZ1N0YXRlKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGNvbnN0IGNsb3NlRGVsZXRlTW9kYWwgPSAoKSA9PiB7XG4gICAgICBpZiAoIWl0ZW1EZWxldGVNb2RhbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpdGVtRGVsZXRlTW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBpdGVtRGVsZXRlTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnZmxleCcpO1xuICAgICAgcGVuZGluZ0RlbGV0ZUl0ZW1JZCA9IG51bGw7XG4gICAgfTtcblxuICAgIGNvbnN0IG9wZW5EZWxldGVNb2RhbCA9ICgpID0+IHtcbiAgICAgIGlmICghaXRlbURlbGV0ZU1vZGFsIHx8ICFhY3RpdmVJdGVtSWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcGVuZGluZ0RlbGV0ZUl0ZW1JZCA9IGFjdGl2ZUl0ZW1JZDtcbiAgICAgIGl0ZW1EZWxldGVNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGl0ZW1EZWxldGVNb2RhbC5jbGFzc0xpc3QuYWRkKCdmbGV4Jyk7XG4gICAgfTtcblxuICAgIGl0ZW1EZWxldGVCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKCFhY3RpdmVJdGVtSWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgb3BlbkRlbGV0ZU1vZGFsKCk7XG4gICAgfSk7XG5cbiAgICBpdGVtRGVsZXRlQ2FuY2VsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNsb3NlRGVsZXRlTW9kYWwoKTtcbiAgICB9KTtcblxuICAgIGl0ZW1EZWxldGVNb2RhbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIGlmIChldmVudC50YXJnZXQgPT09IGl0ZW1EZWxldGVNb2RhbCkge1xuICAgICAgICBjbG9zZURlbGV0ZU1vZGFsKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpdGVtRGVsZXRlQ29uZmlybT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXBlbmRpbmdEZWxldGVJdGVtSWQgfHwgIWFjdGl2ZUNvbGxlY3Rpb25JZCkge1xuICAgICAgICBjbG9zZURlbGV0ZU1vZGFsKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGl0ZW1EZWxldGVDb25maXJtLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIGl0ZW1EZWxldGVDb25maXJtLnRleHRDb250ZW50ID0gJ1N1cHByZXNzaW9uXHUyMDI2JztcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IGRlbGV0ZUNvbGxlY3Rpb25JdGVtKGFjdGl2ZUNvbGxlY3Rpb25JZCwgcGVuZGluZ0RlbGV0ZUl0ZW1JZCk7XG4gICAgICAgIGNvbGxlY3Rpb25JdGVtcyA9IGNvbGxlY3Rpb25JdGVtcy5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0uaWQgIT09IHBlbmRpbmdEZWxldGVJdGVtSWQpO1xuICAgICAgICBpZiAoYWN0aXZlSXRlbUlkID09PSBwZW5kaW5nRGVsZXRlSXRlbUlkKSB7XG4gICAgICAgICAgYWN0aXZlSXRlbUlkID0gbnVsbDtcbiAgICAgICAgICBoaWRlSXRlbUZvcm0oKTtcbiAgICAgICAgfVxuICAgICAgICBzaG93VG9hc3QoJ0l0ZW0gc3VwcHJpbVx1MDBFOScpO1xuICAgICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbY29udGVudF0gZGVsZXRlIGl0ZW0gZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIHN1cHByaW1lciBjZXQgaXRlbS4nKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGl0ZW1EZWxldGVDb25maXJtLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIGl0ZW1EZWxldGVDb25maXJtLnRleHRDb250ZW50ID0gJ1N1cHByaW1lcic7XG4gICAgICAgIGNsb3NlRGVsZXRlTW9kYWwoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHVwZGF0ZUNvbGxlY3Rpb25IZWFkZXIoKTtcbiAgICBzeW5jQWRkQnV0dG9uU3RhdGUoKTtcbiAgICBsb2FkQ29sbGVjdGlvbnMoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXREZXBsb3lXb3Jrc3BhY2UoKSB7XG4gICAgY29uc3QgZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1mb3JtXScpO1xuICAgIGlmICghZm9ybSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBwcm90b2NvbFNlbGVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1wcm90b2NvbF0nKTtcbiAgICBjb25zdCBob3N0SW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktaG9zdF0nKTtcbiAgICBjb25zdCBwb3J0SW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktcG9ydF0nKTtcbiAgICBjb25zdCB1c2VySW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktdXNlcl0nKTtcbiAgICBjb25zdCBwYXNzd29yZElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LXBhc3N3b3JkXScpO1xuICAgIGNvbnN0IHNob3dQYXNzd29yZFRvZ2dsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1zaG93LXBhc3N3b3JkXScpO1xuICAgIGNvbnN0IHJlbW90ZVBhdGhJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1yZW1vdGUtcGF0aF0nKTtcbiAgICBjb25zdCBmZWVkYmFjayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1mZWVkYmFja10nKTtcbiAgICBjb25zdCBzYXZlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LXNhdmVdJyk7XG4gICAgY29uc3QgdGVzdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS10ZXN0XScpO1xuICAgIGNvbnN0IGRlcGxveUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS10cmlnZ2VyXScpO1xuICAgIGNvbnN0IGhpc3RvcnlMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LWhpc3RvcnldJyk7XG4gICAgY29uc3QgbG9nQm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LWxvZ10nKTtcblxuICAgIGNvbnN0IHNhZmVTaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKFxuICAgICAgd29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyxcbiAgICApO1xuICAgIGNvbnN0IGRlcGxveUFwaUJhc2UgPSBzYWZlU2l0ZVNsdWdcbiAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnKX0vZGVwbG95LWNvbmZpZ2BcbiAgICAgIDogbnVsbDtcbiAgICBjb25zdCBkZXBsb3lSdW5BcGkgPSBzYWZlU2l0ZVNsdWdcbiAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnKX0vZGVwbG95YFxuICAgICAgOiBudWxsO1xuICAgIGNvbnN0IGRlcGxveUxvZ0FwaSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9kZXBsb3ktbG9nYFxuICAgICAgOiBudWxsO1xuXG4gICAgbGV0IGhhc1Bhc3N3b3JkID0gZmFsc2U7XG4gICAgbGV0IGJ1c3lBY3Rpb24gPSBudWxsO1xuXG4gICAgY29uc3Qgc2FuaXRpemVSZW1vdGVQYXRoID0gKHZhbHVlKSA9PiB7XG4gICAgICBjb25zdCB0cmltbWVkID0gKHZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICBpZiAoIXRyaW1tZWQpIHtcbiAgICAgICAgcmV0dXJuICcvd3d3JztcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cmltbWVkLnN0YXJ0c1dpdGgoJy8nKSA/IHRyaW1tZWQgOiBgLyR7dHJpbW1lZH1gO1xuICAgIH07XG5cbiAgICBjb25zdCBzZXRGZWVkYmFjayA9IChtZXNzYWdlLCB0b25lID0gJ211dGVkJykgPT4ge1xuICAgICAgaWYgKCFmZWVkYmFjaykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBiYXNlQ2xhc3MgPSAnaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHJvdW5kZWQtZnVsbCBweC0zIHB5LTEgdGV4dC14cyBmb250LXNlbWlib2xkJztcbiAgICAgIGNvbnN0IHRvbmVDbGFzcyA9XG4gICAgICAgIHRvbmUgPT09ICdzdWNjZXNzJ1xuICAgICAgICAgID8gJ2JnLWVtZXJhbGQtNTAgdGV4dC1lbWVyYWxkLTcwMCBib3JkZXIgYm9yZGVyLWVtZXJhbGQtMTAwJ1xuICAgICAgICAgIDogdG9uZSA9PT0gJ2Vycm9yJ1xuICAgICAgICAgICAgPyAnYmctcm9zZS01MCB0ZXh0LXJvc2UtNzAwIGJvcmRlciBib3JkZXItcm9zZS0xMDAnXG4gICAgICAgICAgICA6ICdiZy1zbGF0ZS01MCB0ZXh0LXNsYXRlLTYwMCBib3JkZXIgYm9yZGVyLXNsYXRlLTEwMCc7XG4gICAgICBpZiAoIW1lc3NhZ2UpIHtcbiAgICAgICAgZmVlZGJhY2sudGV4dENvbnRlbnQgPSAnJztcbiAgICAgICAgZmVlZGJhY2suY2xhc3NOYW1lID0gJ3RleHQtc20gdGV4dC1zbGF0ZS01MDAnO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBpY29uID0gdG9uZSA9PT0gJ3N1Y2Nlc3MnID8gJ1x1MjcwNScgOiB0b25lID09PSAnZXJyb3InID8gJ1x1Mjc0QycgOiAnXHUyMTM5XHVGRTBGJztcbiAgICAgIGZlZWRiYWNrLmlubmVySFRNTCA9IGA8c3BhbiBjbGFzcz1cIiR7YmFzZUNsYXNzfSAke3RvbmVDbGFzc31cIj4ke2ljb259PHNwYW4+JHttZXNzYWdlfTwvc3Bhbj48L3NwYW4+YDtcbiAgICAgIGZlZWRiYWNrLmNsYXNzTmFtZSA9ICd0ZXh0LXNtJztcbiAgICB9O1xuXG4gICAgY29uc3Qgc2V0QnVzeSA9IChhY3Rpb24gPSBudWxsKSA9PiB7XG4gICAgICBidXN5QWN0aW9uID0gYWN0aW9uO1xuICAgICAgY29uc3QgZGlzYWJsZSA9IEJvb2xlYW4oYWN0aW9uKTtcbiAgICAgIGNvbnN0IHNwaW5uZXIgPVxuICAgICAgICAnPHN2ZyBjbGFzcz1cImgtNCB3LTQgYW5pbWF0ZS1zcGluIHRleHQtd2hpdGVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48Y2lyY2xlIGNsYXNzPVwib3BhY2l0eS0yNVwiIGN4PVwiMTJcIiBjeT1cIjEyXCIgcj1cIjEwXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiNFwiPjwvY2lyY2xlPjxwYXRoIGNsYXNzPVwib3BhY2l0eS03NVwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIiBkPVwiTTQgMTJhOCA4IDAgMDE4LTh2NGE0IDQgMCAwMC00IDRINHpcIj48L3BhdGg+PC9zdmc+JztcbiAgICAgIGlmIChzYXZlQnV0dG9uKSB7XG4gICAgICAgIHNhdmVCdXR0b24uZGlzYWJsZWQgPSBkaXNhYmxlO1xuICAgICAgICBzYXZlQnV0dG9uLmlubmVySFRNTCA9XG4gICAgICAgICAgYWN0aW9uID09PSAnc2F2ZSdcbiAgICAgICAgICAgID8gYDxzcGFuIGNsYXNzPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+JHtzcGlubmVyfTxzcGFuPkVucmVnaXN0cmVtZW50XHUyMDI2PC9zcGFuPjwvc3Bhbj5gXG4gICAgICAgICAgICA6ICdFbnJlZ2lzdHJlcic7XG4gICAgICB9XG4gICAgICBpZiAodGVzdEJ1dHRvbikge1xuICAgICAgICB0ZXN0QnV0dG9uLmRpc2FibGVkID0gZGlzYWJsZTtcbiAgICAgICAgdGVzdEJ1dHRvbi5pbm5lckhUTUwgPVxuICAgICAgICAgIGFjdGlvbiA9PT0gJ3Rlc3QnXG4gICAgICAgICAgICA/IGA8c3BhbiBjbGFzcz1cImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPjxzcGFuIGNsYXNzPVwiaC00IHctNCBhbmltYXRlLXNwaW4gcm91bmRlZC1mdWxsIGJvcmRlci0yIGJvcmRlci1zbGF0ZS0yMDAgYm9yZGVyLXQtc2xhdGUtNjAwXCI+PC9zcGFuPjxzcGFuPlRlc3QgZW4gY291cnNcdTIwMjY8L3NwYW4+PC9zcGFuPmBcbiAgICAgICAgICAgIDogJ1Rlc3RlciBsYSBjb25uZXhpb24nO1xuICAgICAgfVxuICAgICAgaWYgKGRlcGxveUJ1dHRvbikge1xuICAgICAgICBkZXBsb3lCdXR0b24uZGlzYWJsZWQgPSBkaXNhYmxlICYmIGFjdGlvbiAhPT0gbnVsbDtcbiAgICAgICAgZGVwbG95QnV0dG9uLmlubmVySFRNTCA9XG4gICAgICAgICAgYWN0aW9uID09PSAnZGVwbG95J1xuICAgICAgICAgICAgPyBgPHNwYW4gY2xhc3M9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj48c3BhbiBjbGFzcz1cImgtNCB3LTQgYW5pbWF0ZS1zcGluIHJvdW5kZWQtZnVsbCBib3JkZXItMiBib3JkZXItd2hpdGUvNjAgYm9yZGVyLXQtd2hpdGVcIj48L3NwYW4+PHNwYW4+RFx1MDBFOXBsb2llbWVudFx1MjAyNjwvc3Bhbj48L3NwYW4+YFxuICAgICAgICAgICAgOiAnRFx1MDBFOXBsb3llciBtYWludGVuYW50JztcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgcG9wdWxhdGVGb3JtID0gKGNvbmZpZykgPT4ge1xuICAgICAgcHJvdG9jb2xTZWxlY3QgJiYgKHByb3RvY29sU2VsZWN0LnZhbHVlID0gY29uZmlnLnByb3RvY29sIHx8ICdzZnRwJyk7XG4gICAgICBob3N0SW5wdXQgJiYgKGhvc3RJbnB1dC52YWx1ZSA9IGNvbmZpZy5ob3N0IHx8ICcnKTtcbiAgICAgIHBvcnRJbnB1dCAmJiAocG9ydElucHV0LnZhbHVlID0gY29uZmlnLnBvcnQgfHwgJycpO1xuICAgICAgdXNlcklucHV0ICYmICh1c2VySW5wdXQudmFsdWUgPSBjb25maWcudXNlciB8fCAnJyk7XG4gICAgICByZW1vdGVQYXRoSW5wdXQgJiYgKHJlbW90ZVBhdGhJbnB1dC52YWx1ZSA9IGNvbmZpZy5yZW1vdGVQYXRoIHx8ICcvd3d3Jyk7XG4gICAgICBoYXNQYXNzd29yZCA9IEJvb2xlYW4oY29uZmlnLmhhc1Bhc3N3b3JkKTtcbiAgICAgIGlmIChwYXNzd29yZElucHV0KSB7XG4gICAgICAgIHBhc3N3b3JkSW5wdXQudmFsdWUgPSAnJztcbiAgICAgICAgcGFzc3dvcmRJbnB1dC5wbGFjZWhvbGRlciA9IGhhc1Bhc3N3b3JkID8gJ05vbiBhZmZpY2hcdTAwRTknIDogJ01vdCBkZSBwYXNzZSc7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHJlbmRlckhpc3RvcnkgPSAoZW50cmllcyA9IFtdKSA9PiB7XG4gICAgICBpZiAoIWhpc3RvcnlMaXN0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGhpc3RvcnlMaXN0LmlubmVySFRNTCA9ICcnO1xuICAgICAgaWYgKCFlbnRyaWVzLmxlbmd0aCkge1xuICAgICAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICAgIGxpLmNsYXNzTmFtZSA9ICd0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICAgIGxpLnRleHRDb250ZW50ID0gJ0F1Y3VuIGRcdTAwRTlwbG9pZW1lbnQgcG91ciBsZSBtb21lbnQuJztcbiAgICAgICAgaGlzdG9yeUxpc3QuYXBwZW5kQ2hpbGQobGkpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBlbnRyaWVzLmZvckVhY2goKGVudHJ5KSA9PiB7XG4gICAgICAgIGNvbnN0IGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgbGkuY2xhc3NOYW1lID1cbiAgICAgICAgICAnZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIGdhcC0yIHJvdW5kZWQteGwgYm9yZGVyIGJvcmRlci1zbGF0ZS0yMDAgcHgtMyBweS0yJztcbiAgICAgICAgY29uc3Qgc3RhdHVzQmFkZ2UgPVxuICAgICAgICAgIGVudHJ5LnN0YXR1cyA9PT0gJ3N1Y2Nlc3MnXG4gICAgICAgICAgICA/ICc8c3BhbiBjbGFzcz1cInJvdW5kZWQtZnVsbCBiZy1lbWVyYWxkLTUwIHB4LTIgcHktMC41IHRleHQtWzExcHhdIGZvbnQtc2VtaWJvbGQgdGV4dC1lbWVyYWxkLTcwMFwiPlN1Y2NcdTAwRThzPC9zcGFuPidcbiAgICAgICAgICAgIDogJzxzcGFuIGNsYXNzPVwicm91bmRlZC1mdWxsIGJnLXJvc2UtNTAgcHgtMiBweS0wLjUgdGV4dC1bMTFweF0gZm9udC1zZW1pYm9sZCB0ZXh0LXJvc2UtNzAwXCI+XHUwMEM5Y2hlYzwvc3Bhbj4nO1xuICAgICAgICBjb25zdCBkYXRlID0gZW50cnkuZmluaXNoZWRBdCB8fCBlbnRyeS5zdGFydGVkQXQgfHwgJyc7XG4gICAgICAgIGNvbnN0IGR1cmF0aW9uID1cbiAgICAgICAgICBlbnRyeS5kdXJhdGlvbk1zICYmIE51bWJlcihlbnRyeS5kdXJhdGlvbk1zKSA+PSAwXG4gICAgICAgICAgICA/IGAke01hdGgucm91bmQoTnVtYmVyKGVudHJ5LmR1cmF0aW9uTXMpIC8gMTAwMCl9c2BcbiAgICAgICAgICAgIDogJyc7XG4gICAgICAgIGxpLmlubmVySFRNTCA9IGBcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwic3BhY2UteS0xXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj4ke3N0YXR1c0JhZGdlfTxzcGFuIGNsYXNzPVwidGV4dC14cyB0ZXh0LXNsYXRlLTUwMFwiPiR7ZGF0ZX08L3NwYW4+PC9kaXY+XG4gICAgICAgICAgICA8cCBjbGFzcz1cInRleHQtc20gdGV4dC1zbGF0ZS04MDBcIj4ke2VudHJ5Lm1lc3NhZ2UgfHwgJyd9PC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNTAwXCI+JHtkdXJhdGlvbn08L2Rpdj5cbiAgICAgICAgYDtcbiAgICAgICAgbGkuZGF0YXNldC5kZXBsb3lJZCA9IGVudHJ5LmlkIHx8ICcnO1xuICAgICAgICBsaS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICBpZiAoZW50cnkubG9ncyAmJiBsb2dCb3gpIHtcbiAgICAgICAgICAgIGxvZ0JveC50ZXh0Q29udGVudCA9IGVudHJ5LmxvZ3Muam9pbignXFxuJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaGlzdG9yeUxpc3QuYXBwZW5kQ2hpbGQobGkpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IHJlbmRlckxvZ3MgPSAobGluZXMgPSBbXSkgPT4ge1xuICAgICAgaWYgKCFsb2dCb3gpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbG9nQm94LnRleHRDb250ZW50ID0gbGluZXMubGVuZ3RoID8gbGluZXMuam9pbignXFxuJykgOiAnQXVjdW4gbG9nIHBvdXIgbGUgbW9tZW50Lic7XG4gICAgfTtcblxuICAgIGNvbnN0IGZldGNoSGlzdG9yeSA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghZGVwbG95TG9nQXBpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goZGVwbG95TG9nQXBpLCB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwNCkge1xuICAgICAgICAgICAgcmVuZGVySGlzdG9yeShbXSk7XG4gICAgICAgICAgICByZW5kZXJMb2dzKFsnQVBJIGRcdTAwRTlwbG9pZW1lbnQgaW5kaXNwb25pYmxlIChyZWRcdTAwRTltYXJyZSBsZSBzZXJ2ZXVyKS4nXSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxcdTIwMTloaXN0b3JpcXVlLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIGNvbnN0IGVudHJpZXMgPSBBcnJheS5pc0FycmF5KHBheWxvYWQuZW50cmllcykgPyBwYXlsb2FkLmVudHJpZXMgOiBbXTtcbiAgICAgICAgcmVuZGVySGlzdG9yeShlbnRyaWVzKTtcbiAgICAgICAgaWYgKGVudHJpZXNbMF0/LmxvZ3MpIHtcbiAgICAgICAgICByZW5kZXJMb2dzKGVudHJpZXNbMF0ubG9ncyk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZGVwbG95XSBoaXN0b3J5IGZhaWxlZCcsIGVycik7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGZldGNoQ29uZmlnID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFkZXBsb3lBcGlCYXNlKSB7XG4gICAgICAgIHNldEZlZWRiYWNrKCdBdWN1biBzaXRlIGFjdGlmIHNcdTAwRTlsZWN0aW9ublx1MDBFOS4nLCAnZXJyb3InKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2V0QnVzeSgnbG9hZCcpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChkZXBsb3lBcGlCYXNlLCB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgcG9wdWxhdGVGb3JtKHBheWxvYWQgfHwge30pO1xuICAgICAgICAgIHNldEZlZWRiYWNrKCdDb25maWd1cmF0aW9uIGNoYXJnXHUwMEU5ZS4nLCAnbXV0ZWQnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwb3B1bGF0ZUZvcm0ocGF5bG9hZCB8fCB7fSk7XG4gICAgICAgICAgc2V0RmVlZGJhY2socGF5bG9hZC5tZXNzYWdlIHx8ICdDb25maWd1cmF0aW9uIHBhciBkXHUwMEU5ZmF1dCBjaGFyZ1x1MDBFOWUuJywgJ211dGVkJyk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZGVwbG95XSBsb2FkIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNldEZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkdSBjaGFyZ2VtZW50LicsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0QnVzeShudWxsKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgYnVpbGRQYXlsb2FkID0gKCkgPT4ge1xuICAgICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgcHJvdG9jb2w6IHByb3RvY29sU2VsZWN0Py52YWx1ZSB8fCAnc2Z0cCcsXG4gICAgICAgIGhvc3Q6IGhvc3RJbnB1dD8udmFsdWUudHJpbSgpIHx8ICcnLFxuICAgICAgICBwb3J0OiBOdW1iZXIocG9ydElucHV0Py52YWx1ZSkgfHwgdW5kZWZpbmVkLFxuICAgICAgICB1c2VyOiB1c2VySW5wdXQ/LnZhbHVlLnRyaW0oKSB8fCAnJyxcbiAgICAgICAgcmVtb3RlUGF0aDogc2FuaXRpemVSZW1vdGVQYXRoKHJlbW90ZVBhdGhJbnB1dD8udmFsdWUgfHwgJy93d3cnKSxcbiAgICAgIH07XG4gICAgICBjb25zdCBwd2QgPSBwYXNzd29yZElucHV0Py52YWx1ZSB8fCAnJztcbiAgICAgIGlmIChwd2QudHJpbSgpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcGF5bG9hZC5wYXNzd29yZCA9IHB3ZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH07XG5cbiAgICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmICghZGVwbG95QXBpQmFzZSkge1xuICAgICAgICBzZXRGZWVkYmFjaygnQXVjdW4gc2l0ZSBhY3RpZiBzXHUwMEU5bGVjdGlvbm5cdTAwRTkuJywgJ2Vycm9yJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHBheWxvYWQgPSBidWlsZFBheWxvYWQoKTtcbiAgICAgIHNldEJ1c3koJ3NhdmUnKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goZGVwbG95QXBpQmFzZSwge1xuICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgY29uc3QgZXJyb3JQYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvclBheWxvYWQubWVzc2FnZSB8fCAnU2F1dmVnYXJkZSBpbXBvc3NpYmxlLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNhdmVkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBwb3B1bGF0ZUZvcm0oc2F2ZWQgfHwge30pO1xuICAgICAgICBzZXRGZWVkYmFjaygnQ29uZmlndXJhdGlvbiBlbnJlZ2lzdHJcdTAwRTllLicsICdzdWNjZXNzJyk7XG4gICAgICAgIHNob3dUb2FzdCgnQ29uZmlndXJhdGlvbiBkXHUwMEU5cGxvaWVtZW50IHNhdXZlZ2FyZFx1MDBFOWUnKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZGVwbG95XSBzYXZlIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNldEZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsYSBzYXV2ZWdhcmRlLicsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0QnVzeShudWxsKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRlc3RCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFkZXBsb3lBcGlCYXNlKSB7XG4gICAgICAgIHNldEZlZWRiYWNrKCdBdWN1biBzaXRlIGFjdGlmIHNcdTAwRTlsZWN0aW9ublx1MDBFOS4nLCAnZXJyb3InKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgcGF5bG9hZCA9IGJ1aWxkUGF5bG9hZCgpO1xuICAgICAgaWYgKCFwYXlsb2FkLmhvc3QgfHwgIXBheWxvYWQudXNlciB8fCAhcGF5bG9hZC5yZW1vdGVQYXRoKSB7XG4gICAgICAgIHNldEZlZWRiYWNrKCdSZW1wbGlzc2V6IGxlcyBjaGFtcHMgcmVxdWlzIGF2YW50IGRlIHRlc3Rlci4nLCAnZXJyb3InKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2V0QnVzeSgndGVzdCcpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtkZXBsb3lBcGlCYXNlfS90ZXN0YCwge1xuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rIHx8IHJlc3VsdC5zdWNjZXNzID09PSBmYWxzZSkge1xuICAgICAgICAgIHNldEZlZWRiYWNrKHJlc3VsdC5tZXNzYWdlIHx8ICdUZXN0IGRlIGNvbm5leGlvbiBcdTAwRTljaG91XHUwMEU5LicsICdlcnJvcicpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzZXRGZWVkYmFjayhyZXN1bHQubWVzc2FnZSB8fCAnQ29ubmV4aW9uIE9LLicsICdzdWNjZXNzJyk7XG4gICAgICAgIHNob3dUb2FzdCgnVGVzdCBkZSBjb25uZXhpb24gclx1MDBFOXVzc2knKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZGVwbG95XSB0ZXN0IGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNldEZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdUZXN0IGRlIGNvbm5leGlvbiBcdTAwRTljaG91XHUwMEU5LicsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0QnVzeShudWxsKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGRlcGxveUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWRlcGxveVJ1bkFwaSkge1xuICAgICAgICBzZXRGZWVkYmFjaygnQXVjdW4gc2l0ZSBhY3RpZiBzXHUwMEU5bGVjdGlvbm5cdTAwRTkuJywgJ2Vycm9yJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNldEJ1c3koJ2RlcGxveScpO1xuICAgICAgcmVuZGVyTG9ncyhbJ0RcdTAwRTlwbG9pZW1lbnQgZW4gY291cnNcdTIwMjYnXSk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGRlcGxveVJ1bkFwaSwge1xuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJ1aWxkUGF5bG9hZCgpKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwNCkge1xuICAgICAgICAgICAgc2V0RmVlZGJhY2soJ0FQSSBkXHUwMEU5cGxvaWVtZW50IGluZGlzcG9uaWJsZSAocmVkXHUwMEU5bWFycmUgbGUgc2VydmV1cikuJywgJ2Vycm9yJyk7XG4gICAgICAgICAgICByZW5kZXJMb2dzKFsnQVBJIGRcdTAwRTlwbG9pZW1lbnQgaW5kaXNwb25pYmxlIChyZWRcdTAwRTltYXJyZSBsZSBzZXJ2ZXVyKS4nXSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlbmRlckxvZ3MocmVzdWx0LmxvZ3MgfHwgW10pO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQubWVzc2FnZSB8fCAnRFx1MDBFOXBsb2llbWVudCBcdTAwRTljaG91XHUwMEU5LicpO1xuICAgICAgICB9XG4gICAgICAgIHJlbmRlckxvZ3MocmVzdWx0LmxvZ3MgfHwgW10pO1xuICAgICAgICBhd2FpdCBmZXRjaEhpc3RvcnkoKTtcbiAgICAgICAgc2hvd1RvYXN0KCdEXHUwMEU5cGxvaWVtZW50IHRlcm1pblx1MDBFOScpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkZXBsb3ldIHJ1biBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzZXRGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRFx1MDBFOXBsb2llbWVudCBcdTAwRTljaG91XHUwMEU5LicsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0QnVzeShudWxsKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHNob3dQYXNzd29yZFRvZ2dsZT8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICAgICAgaWYgKCFwYXNzd29yZElucHV0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHBhc3N3b3JkSW5wdXQudHlwZSA9IHNob3dQYXNzd29yZFRvZ2dsZS5jaGVja2VkID8gJ3RleHQnIDogJ3Bhc3N3b3JkJztcbiAgICB9KTtcblxuICAgIC8vIERvd25sb2FkIGJ1aWxkIGFzIFpJUFxuICAgIGNvbnN0IGRvd25sb2FkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZG93bmxvYWQtYnVpbGRdJyk7XG4gICAgY29uc3QgZG93bmxvYWRGZWVkYmFjayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRvd25sb2FkLWZlZWRiYWNrXScpO1xuICAgIGNvbnN0IGRvd25sb2FkQXBpID0gc2FmZVNpdGVTbHVnXG4gICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Zyl9L2Rvd25sb2FkYFxuICAgICAgOiBudWxsO1xuXG4gICAgY29uc3Qgc2V0RG93bmxvYWRGZWVkYmFjayA9IChtZXNzYWdlLCB0b25lID0gJ211dGVkJykgPT4ge1xuICAgICAgaWYgKCFkb3dubG9hZEZlZWRiYWNrKSByZXR1cm47XG4gICAgICBjb25zdCBjb2xvciA9XG4gICAgICAgIHRvbmUgPT09ICdzdWNjZXNzJ1xuICAgICAgICAgID8gJ3RleHQtZW1lcmFsZC02MDAnXG4gICAgICAgICAgOiB0b25lID09PSAnZXJyb3InXG4gICAgICAgICAgICA/ICd0ZXh0LXJvc2UtNjAwJ1xuICAgICAgICAgICAgOiAndGV4dC1zbGF0ZS01MDAnO1xuICAgICAgZG93bmxvYWRGZWVkYmFjay50ZXh0Q29udGVudCA9IG1lc3NhZ2UgfHwgJyc7XG4gICAgICBkb3dubG9hZEZlZWRiYWNrLmNsYXNzTmFtZSA9IGB0ZXh0LXNtICR7Y29sb3J9YDtcbiAgICB9O1xuXG4gICAgZG93bmxvYWRCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFkb3dubG9hZEFwaSkge1xuICAgICAgICBzZXREb3dubG9hZEZlZWRiYWNrKCdBdWN1biBzaXRlIGFjdGlmIHNcdTAwRTlsZWN0aW9ublx1MDBFOS4nLCAnZXJyb3InKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZG93bmxvYWRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgY29uc3Qgb3JpZ2luYWxDb250ZW50ID0gZG93bmxvYWRCdXR0b24uaW5uZXJIVE1MO1xuICAgICAgZG93bmxvYWRCdXR0b24uaW5uZXJIVE1MID0gYFxuICAgICAgICA8c3ZnIGNsYXNzPVwidy00IGgtNCBhbmltYXRlLXNwaW5cIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICA8Y2lyY2xlIGNsYXNzPVwib3BhY2l0eS0yNVwiIGN4PVwiMTJcIiBjeT1cIjEyXCIgcj1cIjEwXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiNFwiPjwvY2lyY2xlPlxuICAgICAgICAgIDxwYXRoIGNsYXNzPVwib3BhY2l0eS03NVwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIiBkPVwiTTQgMTJhOCA4IDAgMDE4LTh2NGE0IDQgMCAwMC00IDRINHpcIj48L3BhdGg+XG4gICAgICAgIDwvc3ZnPlxuICAgICAgICA8c3Bhbj5CdWlsZCBlbiBjb3Vycy4uLjwvc3Bhbj5cbiAgICAgIGA7XG4gICAgICBzZXREb3dubG9hZEZlZWRiYWNrKCdHXHUwMEU5blx1MDBFOXJhdGlvbiBkdSBidWlsZCBlbiBjb3Vycy4uLicsICdtdXRlZCcpO1xuXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGRvd25sb2FkQXBpKTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnN0IGVycm9yRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JEYXRhLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgZ1x1MDBFOW5cdTAwRTlyZXIgbGUgWklQLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRcdTAwRTlsXHUwMEU5Y2hhcmdlciBsZSBmaWNoaWVyXG4gICAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCByZXNwb25zZS5ibG9iKCk7XG4gICAgICAgIGNvbnN0IHVybCA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICAgICAgICBjb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgICBhLmhyZWYgPSB1cmw7XG4gICAgICAgIGEuZG93bmxvYWQgPSBgJHtzYWZlU2l0ZVNsdWd9LWJ1aWxkLnppcGA7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSk7XG4gICAgICAgIGEuY2xpY2soKTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChhKTtcbiAgICAgICAgd2luZG93LlVSTC5yZXZva2VPYmplY3RVUkwodXJsKTtcbiAgICAgICAgc2V0RG93bmxvYWRGZWVkYmFjaygnVFx1MDBFOWxcdTAwRTljaGFyZ2VtZW50IHRlcm1pblx1MDBFOSAhJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgc2hvd1RvYXN0KCdCdWlsZCB0XHUwMEU5bFx1MDBFOWNoYXJnXHUwMEU5IGF2ZWMgc3VjY1x1MDBFOHMnKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZG93bmxvYWRdIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNldERvd25sb2FkRmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGR1IHRcdTAwRTlsXHUwMEU5Y2hhcmdlbWVudC4nLCAnZXJyb3InKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGRvd25sb2FkQnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIGRvd25sb2FkQnV0dG9uLmlubmVySFRNTCA9IG9yaWdpbmFsQ29udGVudDtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGZldGNoQ29uZmlnKCk7XG4gICAgZmV0Y2hIaXN0b3J5KCk7XG4gIH1cblxuICBmdW5jdGlvbiBpbml0U2V0dGluZ3NXb3Jrc3BhY2UoKSB7XG4gICAgY29uc3QgdGFiQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXNldHRpbmdzLXRhYl0nKTtcbiAgICBjb25zdCB0YWJQYW5lbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1zZXR0aW5ncy1wYW5lbF0nKTtcbiAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRtaW4tcGFzc3dvcmQtZm9ybV0nKTtcbiAgICBjb25zdCBzaXRlRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtY29uZmlnLWZvcm1dJyk7XG4gICAgY29uc3Qgc2l0ZUZlZWRiYWNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS1jb25maWctZmVlZGJhY2tdJyk7XG4gICAgY29uc3QgdGhlbWVGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtZm9ybV0nKTtcbiAgICBjb25zdCBzd2l0Y2hUYWIgPSAobmFtZSkgPT4ge1xuICAgICAgdGFiQnV0dG9ucy5mb3JFYWNoKChidG4pID0+IHtcbiAgICAgICAgY29uc3QgaXNBY3RpdmUgPSBidG4uZGF0YXNldC5zZXR0aW5nc1RhYiA9PT0gbmFtZTtcbiAgICAgICAgYnRuLnNldEF0dHJpYnV0ZSgnYXJpYS1zZWxlY3RlZCcsIGlzQWN0aXZlID8gJ3RydWUnIDogJ2ZhbHNlJyk7XG4gICAgICAgIGJ0bi5jbGFzc0xpc3QudG9nZ2xlKCdiZy1bIzlDNkJGRl0nLCBpc0FjdGl2ZSk7XG4gICAgICAgIGJ0bi5jbGFzc0xpc3QudG9nZ2xlKCd0ZXh0LXdoaXRlJywgaXNBY3RpdmUpO1xuICAgICAgfSk7XG4gICAgICB0YWJQYW5lbHMuZm9yRWFjaCgocGFuZWwpID0+IHtcbiAgICAgICAgcGFuZWwuY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZGVuJywgcGFuZWwuZGF0YXNldC5zZXR0aW5nc1BhbmVsICE9PSBuYW1lKTtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgdGFiQnV0dG9ucy5mb3JFYWNoKChidG4pID0+IHtcbiAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHN3aXRjaFRhYihidG4uZGF0YXNldC5zZXR0aW5nc1RhYiB8fCAnYWNjb3VudCcpKTtcbiAgICB9KTtcbiAgICBzd2l0Y2hUYWIoJ2FjY291bnQnKTtcblxuICAgIGlmICghZm9ybSkge1xuICAgICAgLy8gc3RpbGwgYWxsb3cgc2l0ZSBmb3JtIGV2ZW4gaWYgcGFzc3dvcmQgZm9ybSBhYnNlbnRcbiAgICB9XG4gICAgaWYgKGZvcm0pIHtcbiAgICAgIGNvbnN0IGZlZWRiYWNrID0gZm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZG1pbi1wYXNzd29yZC1mZWVkYmFja10nKTtcbiAgICAgIGNvbnN0IHN1Ym1pdCA9IGZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYWRtaW4tcGFzc3dvcmQtc3VibWl0XScpO1xuICAgICAgY29uc3Qgc2V0RmVlZGJhY2sgPSAobWVzc2FnZSwgdG9uZSA9ICdtdXRlZCcpID0+IHtcbiAgICAgICAgaWYgKCFmZWVkYmFjaykgcmV0dXJuO1xuICAgICAgICBjb25zdCBjb2xvciA9XG4gICAgICAgICAgdG9uZSA9PT0gJ3N1Y2Nlc3MnXG4gICAgICAgICAgICA/ICd0ZXh0LWVtZXJhbGQtNjAwJ1xuICAgICAgICAgICAgOiB0b25lID09PSAnZXJyb3InXG4gICAgICAgICAgICAgID8gJ3RleHQtcm9zZS02MDAnXG4gICAgICAgICAgICAgIDogJ3RleHQtc2xhdGUtNTAwJztcbiAgICAgICAgZmVlZGJhY2sudGV4dENvbnRlbnQgPSBtZXNzYWdlIHx8ICcnO1xuICAgICAgICBmZWVkYmFjay5jbGFzc05hbWUgPSBgdGV4dC1zbSAke2NvbG9yfWA7XG4gICAgICB9O1xuICAgICAgZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoZm9ybSk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRQYXNzd29yZCA9IGZvcm1EYXRhLmdldCgnY3VycmVudFBhc3N3b3JkJykgfHwgJyc7XG4gICAgICAgIGNvbnN0IG5ld1Bhc3N3b3JkID0gZm9ybURhdGEuZ2V0KCduZXdQYXNzd29yZCcpIHx8ICcnO1xuICAgICAgICBjb25zdCBjb25maXJtUGFzc3dvcmQgPSBmb3JtRGF0YS5nZXQoJ2NvbmZpcm1QYXNzd29yZCcpIHx8ICcnO1xuICAgICAgICBpZiAoIWN1cnJlbnRQYXNzd29yZCB8fCAhbmV3UGFzc3dvcmQgfHwgIWNvbmZpcm1QYXNzd29yZCkge1xuICAgICAgICAgIHNldEZlZWRiYWNrKCdDb21wbFx1MDBFOHRlIHRvdXMgbGVzIGNoYW1wcy4nLCAnZXJyb3InKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc3VibWl0ICYmIChzdWJtaXQuZGlzYWJsZWQgPSB0cnVlKTtcbiAgICAgICAgc2V0RmVlZGJhY2soJycpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvYWRtaW4vcGFzc3dvcmQnLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBjdXJyZW50UGFzc3dvcmQsIG5ld1Bhc3N3b3JkLCBjb25maXJtUGFzc3dvcmQgfSksXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rIHx8IHBheWxvYWQuc3VjY2VzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihwYXlsb2FkLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgbWV0dHJlIFx1MDBFMCBqb3VyIGxlIG1vdCBkZSBwYXNzZS4nKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0RmVlZGJhY2socGF5bG9hZC5tZXNzYWdlIHx8ICdNb3QgZGUgcGFzc2UgbWlzIFx1MDBFMCBqb3VyLicsICdzdWNjZXNzJyk7XG4gICAgICAgICAgZm9ybS5yZXNldCgpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIGNoYW5nZSBwYXNzd29yZCBmYWlsZWQnLCBlcnIpO1xuICAgICAgICAgIHNldEZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsYSBtaXNlIFx1MDBFMCBqb3VyLicsICdlcnJvcicpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIHN1Ym1pdCAmJiAoc3VibWl0LmRpc2FibGVkID0gZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoc2l0ZUZvcm0pIHtcbiAgICAgIGNvbnN0IG5hbWVJbnB1dCA9IHNpdGVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtbmFtZV0nKTtcbiAgICAgIGNvbnN0IGxhbmdTZWxlY3QgPSBzaXRlRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLWxhbmd1YWdlXScpO1xuICAgICAgY29uc3QgdGFnbGluZUlucHV0ID0gc2l0ZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS10YWdsaW5lXScpO1xuICAgICAgY29uc3Qgc2F2ZUJ1dHRvbiA9IHNpdGVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtc2F2ZV0nKTtcbiAgICAgIGNvbnN0IHNldFNpdGVGZWVkYmFjayA9IChtZXNzYWdlLCB0b25lID0gJ211dGVkJykgPT4ge1xuICAgICAgICBpZiAoIXNpdGVGZWVkYmFjaykgcmV0dXJuO1xuICAgICAgICBjb25zdCBjb2xvciA9XG4gICAgICAgICAgdG9uZSA9PT0gJ3N1Y2Nlc3MnXG4gICAgICAgICAgICA/ICd0ZXh0LWVtZXJhbGQtNjAwJ1xuICAgICAgICAgICAgOiB0b25lID09PSAnZXJyb3InXG4gICAgICAgICAgICAgID8gJ3RleHQtcm9zZS02MDAnXG4gICAgICAgICAgICAgIDogJ3RleHQtc2xhdGUtNTAwJztcbiAgICAgICAgc2l0ZUZlZWRiYWNrLnRleHRDb250ZW50ID0gbWVzc2FnZSB8fCAnJztcbiAgICAgICAgc2l0ZUZlZWRiYWNrLmNsYXNzTmFtZSA9IGB0ZXh0LXNtICR7Y29sb3J9YDtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHNhZmVTaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKFxuICAgICAgICB3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnLFxuICAgICAgKTtcbiAgICAgIGNvbnN0IHNpdGVDb25maWdBcGkgPSBzYWZlU2l0ZVNsdWdcbiAgICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9jb25maWcvc2l0ZWBcbiAgICAgICAgOiBudWxsO1xuXG4gICAgICBjb25zdCBsb2FkU2l0ZUNvbmZpZyA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKCFzaXRlQ29uZmlnQXBpKSByZXR1cm47XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChzaXRlQ29uZmlnQXBpLCB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSByZXR1cm47XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICBpZiAobmFtZUlucHV0KSBuYW1lSW5wdXQudmFsdWUgPSBwYXlsb2FkLm5hbWUgfHwgJyc7XG4gICAgICAgICAgaWYgKGxhbmdTZWxlY3QpIGxhbmdTZWxlY3QudmFsdWUgPSBwYXlsb2FkLmxhbmd1YWdlIHx8ICdmcic7XG4gICAgICAgICAgaWYgKHRhZ2xpbmVJbnB1dCkgdGFnbGluZUlucHV0LnZhbHVlID0gcGF5bG9hZC50YWdsaW5lIHx8ICcnO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIGxvYWQgc2l0ZSBjb25maWcgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgc2l0ZUZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmICghc2l0ZUNvbmZpZ0FwaSkge1xuICAgICAgICAgIHNldFNpdGVGZWVkYmFjaygnQXVjdW4gc2l0ZSBhY3RpZi4nLCAnZXJyb3InKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFuYW1lSW5wdXQ/LnZhbHVlLnRyaW0oKSkge1xuICAgICAgICAgIHNldFNpdGVGZWVkYmFjaygnTm9tIHJlcXVpcy4nLCAnZXJyb3InKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc2F2ZUJ1dHRvbiAmJiAoc2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWUpO1xuICAgICAgICBzZXRTaXRlRmVlZGJhY2soJycpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgICAgICBuYW1lOiBuYW1lSW5wdXQ/LnZhbHVlIHx8ICcnLFxuICAgICAgICAgICAgbGFuZ3VhZ2U6IGxhbmdTZWxlY3Q/LnZhbHVlIHx8ICdmcicsXG4gICAgICAgICAgICB0YWdsaW5lOiB0YWdsaW5lSW5wdXQ/LnZhbHVlIHx8ICcnLFxuICAgICAgICAgIH07XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChzaXRlQ29uZmlnQXBpLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vayB8fCByZXN1bHQuc3VjY2VzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQubWVzc2FnZSB8fCAnU2F1dmVnYXJkZSBpbXBvc3NpYmxlLicpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXRTaXRlRmVlZGJhY2socmVzdWx0Lm1lc3NhZ2UgfHwgJ1BhcmFtXHUwMEU4dHJlcyBlbnJlZ2lzdHJcdTAwRTlzLicsICdzdWNjZXNzJyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gc2F2ZSBzaXRlIGNvbmZpZyBmYWlsZWQnLCBlcnIpO1xuICAgICAgICAgIHNldFNpdGVGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZGUgbGEgc2F1dmVnYXJkZS4nLCAnZXJyb3InKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBzYXZlQnV0dG9uICYmIChzYXZlQnV0dG9uLmRpc2FibGVkID0gZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgbG9hZFNpdGVDb25maWcoKTtcbiAgICB9XG5cbiAgICBpZiAodGhlbWVGb3JtKSB7XG4gICAgICBjb25zdCBzYWZlU2l0ZVNsdWcgPSBzdHJpcExlYWRpbmdTbGFzaChcbiAgICAgICAgd29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyxcbiAgICAgICk7XG4gICAgICBjb25zdCB0aGVtZUFwaSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Zyl9L2NvbmZpZy90aGVtZWBcbiAgICAgICAgOiBudWxsO1xuXG4gICAgICBjb25zdCBjb2xvclNlbGVjdHMgPSB7XG4gICAgICAgIHByaW1hcnk6IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1wcmltYXJ5XScpLFxuICAgICAgICBzZWNvbmRhcnk6IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1zZWNvbmRhcnldJyksXG4gICAgICAgIGFjY2VudDogdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLWFjY2VudF0nKSxcbiAgICAgICAgYmFja2dyb3VuZDogdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLWJhY2tncm91bmRdJyksXG4gICAgICAgIHRleHQ6IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS10ZXh0XScpLFxuICAgICAgfTtcbiAgICAgIGNvbnN0IGhlYWRpbmdTZWxlY3QgPSB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtaGVhZGluZ3NdJyk7XG4gICAgICBjb25zdCBib2R5U2VsZWN0ID0gdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLWJvZHldJyk7XG4gICAgICBjb25zdCByYWRpdXNTbWFsbCA9IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1yYWRpdXMtc21hbGxdJyk7XG4gICAgICBjb25zdCByYWRpdXNNZWRpdW0gPSB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtcmFkaXVzLW1lZGl1bV0nKTtcbiAgICAgIGNvbnN0IHJhZGl1c0xhcmdlID0gdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLXJhZGl1cy1sYXJnZV0nKTtcbiAgICAgIGNvbnN0IHByZXZpZXcgPSB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtcHJldmlld10nKTtcbiAgICAgIGNvbnN0IHRoZW1lRmVlZGJhY2sgPSB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtZmVlZGJhY2tdJyk7XG4gICAgICBjb25zdCBhcHBseUJ1dHRvbiA9IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1hcHBseV0nKTtcbiAgICAgIGNvbnN0IHRhaWx3aW5kSHVlcyA9IFtcbiAgICAgICAgJ3NsYXRlJywnZ3JheScsJ3ppbmMnLCduZXV0cmFsJywnc3RvbmUnLCdyZWQnLCdvcmFuZ2UnLCdhbWJlcicsJ3llbGxvdycsJ2xpbWUnLCdncmVlbicsJ2VtZXJhbGQnLCd0ZWFsJywnY3lhbicsJ3NreScsJ2JsdWUnLCdpbmRpZ28nLCd2aW9sZXQnLCdwdXJwbGUnLCdmdWNoc2lhJywncGluaycsJ3Jvc2UnXG4gICAgICBdO1xuICAgICAgY29uc3QgdGFpbHdpbmRTaGFkZXMgPSBbJzUwJywnMTAwJywnMjAwJywnMzAwJywnNDAwJywnNTAwJywnNjAwJywnNzAwJywnODAwJywnOTAwJ107XG4gICAgICBjb25zdCB0YWlsd2luZFRva2VucyA9IHRhaWx3aW5kSHVlcy5mbGF0TWFwKChoKT0+dGFpbHdpbmRTaGFkZXMubWFwKChzKT0+YCR7aH0tJHtzfWApKTtcblxuICAgICAgY29uc3QgZmlsbENvbG9yT3B0aW9ucyA9ICgpID0+IHtcbiAgICAgICAgT2JqZWN0LnZhbHVlcyhjb2xvclNlbGVjdHMpLmZvckVhY2goKHNlbCk9PntcbiAgICAgICAgICBpZiAoIXNlbCB8fCBzZWwub3B0aW9ucy5sZW5ndGgpIHJldHVybjtcbiAgICAgICAgICB0YWlsd2luZFRva2Vucy5mb3JFYWNoKCh0b2tlbik9PntcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgICAgICAgIG9wdGlvbi52YWx1ZT10b2tlbjtcbiAgICAgICAgICAgIGNvbnN0IFtoLHNdPXRva2VuLnNwbGl0KCctJyk7XG4gICAgICAgICAgICBvcHRpb24udGV4dENvbnRlbnQ9YCR7aC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStoLnNsaWNlKDEpfSAke3N9YDtcbiAgICAgICAgICAgIHNlbC5hcHBlbmRDaGlsZChvcHRpb24pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHNldFRoZW1lRmVlZGJhY2sgPSAobWVzc2FnZSwgdG9uZSA9ICdtdXRlZCcpID0+IHtcbiAgICAgICAgaWYgKCF0aGVtZUZlZWRiYWNrKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGNvbG9yID1cbiAgICAgICAgICB0b25lID09PSAnc3VjY2VzcydcbiAgICAgICAgICAgID8gJ3RleHQtZW1lcmFsZC02MDAnXG4gICAgICAgICAgICA6IHRvbmUgPT09ICdlcnJvcidcbiAgICAgICAgICAgICAgPyAndGV4dC1yb3NlLTYwMCdcbiAgICAgICAgICAgICAgOiAndGV4dC1zbGF0ZS01MDAnO1xuICAgICAgICB0aGVtZUZlZWRiYWNrLnRleHRDb250ZW50ID0gbWVzc2FnZSB8fCAnJztcbiAgICAgICAgdGhlbWVGZWVkYmFjay5jbGFzc05hbWUgPSBgdGV4dC1zbSAke2NvbG9yfWA7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBzeW5jUHJldmlldyA9ICgpID0+IHtcbiAgICAgICAgaWYgKCFwcmV2aWV3KSByZXR1cm47XG4gICAgICAgIGNvbnN0IHRva2VuVG9IZXggPSAodG9rZW4pID0+IHtcbiAgICAgICAgICBpZiAoIXRva2VuKSByZXR1cm4gbnVsbDtcbiAgICAgICAgICAvLyBHXHUwMEU5cmVyIGxlcyBjYXMgc3BcdTAwRTljaWF1eCB3aGl0ZSwgYmxhY2ssIHRyYW5zcGFyZW50XG4gICAgICAgICAgaWYgKHRva2VuID09PSAnd2hpdGUnKSByZXR1cm4gJyNmZmZmZmYnO1xuICAgICAgICAgIGlmICh0b2tlbiA9PT0gJ2JsYWNrJykgcmV0dXJuICcjMDAwMDAwJztcbiAgICAgICAgICBpZiAodG9rZW4gPT09ICd0cmFuc3BhcmVudCcpIHJldHVybiAndHJhbnNwYXJlbnQnO1xuICAgICAgICAgIFxuICAgICAgICAgIGNvbnN0IFtoLHNdPXRva2VuLnNwbGl0KCctJyk7XG4gICAgICAgICAgaWYgKCFoIHx8ICFzKSByZXR1cm4gbnVsbDsgLy8gRm9ybWF0IGludmFsaWRlXG4gICAgICAgICAgXG4gICAgICAgICAgY29uc3QgbWFwID0ge1xuICAgICAgICAgICAgc2xhdGU6JyNlMmU4ZjAnLGdyYXk6JyNkMWQ1ZGInLHppbmM6JyNkNGQ0ZDgnLG5ldXRyYWw6JyNkNGQ0ZDQnLHN0b25lOicjZDZkM2QxJyxcbiAgICAgICAgICAgIHJlZDonI2VmNDQ0NCcsb3JhbmdlOicjZjk3MzE2JyxhbWJlcjonI2Y1OWUwYicseWVsbG93OicjZWFiMzA4JyxsaW1lOicjODRjYzE2JyxcbiAgICAgICAgICAgIGdyZWVuOicjMjJjNTVlJyxlbWVyYWxkOicjMTBiOTgxJyx0ZWFsOicjMTRiOGE2JyxjeWFuOicjMDZiNmQ0Jyxza3k6JyMwZWE1ZTknLFxuICAgICAgICAgICAgYmx1ZTonIzNiODJmNicsaW5kaWdvOicjNjM2NmYxJyx2aW9sZXQ6JyM4YjVjZjYnLHB1cnBsZTonI2E4NTVmNycsZnVjaHNpYTonI2Q5NDZlZicsXG4gICAgICAgICAgICBwaW5rOicjZWM0ODk5Jyxyb3NlOicjZjQzZjVlJ1xuICAgICAgICAgIH07XG4gICAgICAgICAgY29uc3QgYmFzZT1tYXBbaF07XG4gICAgICAgICAgaWYgKCFiYXNlKSByZXR1cm4gbnVsbDtcbiAgICAgICAgICAvLyByb3VnaCBzaGFkZSB0d2VhayB1c2luZyBvcGFjaXR5OyBub3QgZXhhY3QgVGFpbHdpbmQgcGFsZXR0ZSBidXQgcHJldmlldy1mcmllbmRseVxuICAgICAgICAgIGNvbnN0IHNoYWRlTnVtPU51bWJlcihzKXx8NTAwO1xuICAgICAgICAgIGNvbnN0IGZhY3RvciA9IE1hdGgubWluKE1hdGgubWF4KChzaGFkZU51bS01MCkvOTAwLDApLDEpO1xuICAgICAgICAgIGNvbnN0IHRvUmdiPShoZXgpPT5oZXgubWF0Y2goL1tBLUZhLWYwLTldezJ9L2cpLm1hcCgodik9PnBhcnNlSW50KHYsMTYpKTtcbiAgICAgICAgICBjb25zdCBbcixnLGJdPXRvUmdiKGJhc2UucmVwbGFjZSgnIycsJycpKTtcbiAgICAgICAgICBjb25zdCBtaXg9KHYpPT5NYXRoLnJvdW5kKDI1NSAtICgyNTUgLSB2KSpmYWN0b3IpO1xuICAgICAgICAgIHJldHVybiBgcmdiKCR7bWl4KHIpfSwgJHttaXgoZyl9LCAke21peChiKX0pYDtcbiAgICAgICAgfTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1jb2xvci1wcmltYXJ5JywgdG9rZW5Ub0hleChjb2xvclNlbGVjdHMucHJpbWFyeT8udmFsdWUpIHx8ICcjOUM2QkZGJyk7XG4gICAgICAgIHByZXZpZXcuc3R5bGUuc2V0UHJvcGVydHkoJy0tY29sb3Itc2Vjb25kYXJ5JywgdG9rZW5Ub0hleChjb2xvclNlbGVjdHMuc2Vjb25kYXJ5Py52YWx1ZSkgfHwgJyMwRUE1RTknKTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1jb2xvci1hY2NlbnQnLCB0b2tlblRvSGV4KGNvbG9yU2VsZWN0cy5hY2NlbnQ/LnZhbHVlKSB8fCAnI0Y5NzMxNicpO1xuICAgICAgICBwcmV2aWV3LnN0eWxlLnNldFByb3BlcnR5KCctLWNvbG9yLWJhY2tncm91bmQnLCB0b2tlblRvSGV4KGNvbG9yU2VsZWN0cy5iYWNrZ3JvdW5kPy52YWx1ZSkgfHwgJyNGRkZGRkYnKTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1jb2xvci10ZXh0JywgdG9rZW5Ub0hleChjb2xvclNlbGVjdHMudGV4dD8udmFsdWUpIHx8ICcjMEYxNzJBJyk7XG4gICAgICAgIHByZXZpZXcuc3R5bGUuc2V0UHJvcGVydHkoJy0tZm9udC1oZWFkaW5ncycsIGhlYWRpbmdTZWxlY3Q/LnZhbHVlIHx8ICdJbnRlciwgc2Fucy1zZXJpZicpO1xuICAgICAgICBwcmV2aWV3LnN0eWxlLnNldFByb3BlcnR5KCctLWZvbnQtYm9keScsIGJvZHlTZWxlY3Q/LnZhbHVlIHx8ICdJbnRlciwgc2Fucy1zZXJpZicpO1xuICAgICAgICBwcmV2aWV3LnN0eWxlLnNldFByb3BlcnR5KCctLXJhZGl1cy1zbWFsbCcsIHJhZGl1c1NtYWxsPy52YWx1ZSB8fCAnOHB4Jyk7XG4gICAgICAgIHByZXZpZXcuc3R5bGUuc2V0UHJvcGVydHkoJy0tcmFkaXVzLW1lZGl1bScsIHJhZGl1c01lZGl1bT8udmFsdWUgfHwgJzE2cHgnKTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1yYWRpdXMtbGFyZ2UnLCByYWRpdXNMYXJnZT8udmFsdWUgfHwgJzI0cHgnKTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5ib3JkZXJSYWRpdXMgPSByYWRpdXNNZWRpdW0/LnZhbHVlIHx8ICcxNnB4JztcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHNldENvbG9yRmllbGRzID0gKGtleSwgdmFsdWUpID0+IHtcbiAgICAgICAgaWYgKGNvbG9yU2VsZWN0c1trZXldKSBjb2xvclNlbGVjdHNba2V5XS52YWx1ZSA9IHZhbHVlO1xuICAgICAgfTtcbiAgICAgIFxuICAgICAgLy8gRm9uY3Rpb24gcG91ciBtZXR0cmUgXHUwMEUwIGpvdXIgbGUgcHJldmlldyBkZSBjb3VsZXVyIGQndW4gc2VsZWN0XG4gICAgICBjb25zdCB1cGRhdGVDb2xvclNlbGVjdFByZXZpZXcgPSAoc2VsZWN0KSA9PiB7XG4gICAgICAgIGlmICghc2VsZWN0KSByZXR1cm47XG4gICAgICAgIGNvbnN0IHNlbGVjdGVkT3B0aW9uID0gc2VsZWN0Lm9wdGlvbnNbc2VsZWN0LnNlbGVjdGVkSW5kZXhdO1xuICAgICAgICBjb25zdCBjb2xvciA9IHNlbGVjdGVkT3B0aW9uPy5kYXRhc2V0Py5jb2xvciB8fCAnI2ZmZmZmZic7XG4gICAgICAgIGNvbnN0IGNvbG9yUHJldmlldyA9IHNlbGVjdC5jbG9zZXN0KCcucmVsYXRpdmUnKT8ucXVlcnlTZWxlY3RvcignW2RhdGEtY29sb3ItcHJldmlld10nKTtcbiAgICAgICAgaWYgKGNvbG9yUHJldmlldykge1xuICAgICAgICAgIGlmIChjb2xvciA9PT0gJ3RyYW5zcGFyZW50Jykge1xuICAgICAgICAgICAgY29sb3JQcmV2aWV3LnN0eWxlLmJhY2tncm91bmQgPSAncmVwZWF0aW5nLWNvbmljLWdyYWRpZW50KCNjY2MgMCUgMjUlLCB3aGl0ZSAwJSA1MCUpIDUwJSAvIDhweCA4cHgnO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb2xvclByZXZpZXcuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gY29sb3I7XG4gICAgICAgICAgICBjb2xvclByZXZpZXcuc3R5bGUuYmFja2dyb3VuZCA9ICcnO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIFxuICAgICAgLy8gSW5pdGlhbGlzZXIgbGVzIHByZXZpZXdzIGRlIGNvdWxldXIgZXQgYWpvdXRlciBsZXMgbGlzdGVuZXJzXG4gICAgICBjb25zdCBpbml0Q29sb3JQcmV2aWV3cyA9ICgpID0+IHtcbiAgICAgICAgT2JqZWN0LnZhbHVlcyhjb2xvclNlbGVjdHMpLmZvckVhY2goKHNlbGVjdCkgPT4ge1xuICAgICAgICAgIGlmICghc2VsZWN0KSByZXR1cm47XG4gICAgICAgICAgdXBkYXRlQ29sb3JTZWxlY3RQcmV2aWV3KHNlbGVjdCk7XG4gICAgICAgICAgc2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHVwZGF0ZUNvbG9yU2VsZWN0UHJldmlldyhzZWxlY3QpKTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICBPYmplY3Qua2V5cyhjb2xvclNlbGVjdHMpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICBjb2xvclNlbGVjdHNba2V5XT8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgc3luY1ByZXZpZXcpO1xuICAgICAgfSk7XG4gICAgICBbaGVhZGluZ1NlbGVjdCwgYm9keVNlbGVjdCwgcmFkaXVzU21hbGwsIHJhZGl1c01lZGl1bSwgcmFkaXVzTGFyZ2VdLmZvckVhY2goKGVsKSA9PiB7XG4gICAgICAgIGVsPy5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBzeW5jUHJldmlldyk7XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgbG9hZFRoZW1lID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoIXRoZW1lQXBpKSByZXR1cm47XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh0aGVtZUFwaSwgeyBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgcmV0dXJuO1xuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgc2V0Q29sb3JGaWVsZHMoJ3ByaW1hcnknLCBwYXlsb2FkLmNvbG9ycz8ucHJpbWFyeSB8fCAndmlvbGV0LTUwMCcpO1xuICAgICAgICAgIHNldENvbG9yRmllbGRzKCdzZWNvbmRhcnknLCBwYXlsb2FkLmNvbG9ycz8uc2Vjb25kYXJ5IHx8ICdpbmRpZ28tNDAwJyk7XG4gICAgICAgICAgc2V0Q29sb3JGaWVsZHMoJ2FjY2VudCcsIHBheWxvYWQuY29sb3JzPy5hY2NlbnQgfHwgJ2VtZXJhbGQtNTAwJyk7XG4gICAgICAgICAgc2V0Q29sb3JGaWVsZHMoJ2JhY2tncm91bmQnLCBwYXlsb2FkLmNvbG9ycz8uYmFja2dyb3VuZCB8fCAnc2xhdGUtNTAnKTtcbiAgICAgICAgICBzZXRDb2xvckZpZWxkcygndGV4dCcsIHBheWxvYWQuY29sb3JzPy50ZXh0IHx8ICdzbGF0ZS05MDAnKTtcbiAgICAgICAgICBpZiAoaGVhZGluZ1NlbGVjdCkgaGVhZGluZ1NlbGVjdC52YWx1ZSA9IHBheWxvYWQudHlwb2dyYXBoeT8uaGVhZGluZ3MgfHwgJ0ludGVyLCBzYW5zLXNlcmlmJztcbiAgICAgICAgICBpZiAoYm9keVNlbGVjdCkgYm9keVNlbGVjdC52YWx1ZSA9IHBheWxvYWQudHlwb2dyYXBoeT8uYm9keSB8fCAnSW50ZXIsIHNhbnMtc2VyaWYnO1xuICAgICAgICAgIGlmIChyYWRpdXNTbWFsbCkgcmFkaXVzU21hbGwudmFsdWUgPSBwYXlsb2FkLnJhZGl1cz8uc21hbGwgfHwgJzhweCc7XG4gICAgICAgICAgaWYgKHJhZGl1c01lZGl1bSkgcmFkaXVzTWVkaXVtLnZhbHVlID0gcGF5bG9hZC5yYWRpdXM/Lm1lZGl1bSB8fCAnMTZweCc7XG4gICAgICAgICAgaWYgKHJhZGl1c0xhcmdlKSByYWRpdXNMYXJnZS52YWx1ZSA9IHBheWxvYWQucmFkaXVzPy5sYXJnZSB8fCAnMjRweCc7XG4gICAgICAgICAgc3luY1ByZXZpZXcoKTtcbiAgICAgICAgICAvLyBNZXR0cmUgXHUwMEUwIGpvdXIgbGVzIHByZXZpZXdzIGRlIGNvdWxldXIgYXByXHUwMEU4cyBjaGFyZ2VtZW50XG4gICAgICAgICAgT2JqZWN0LnZhbHVlcyhjb2xvclNlbGVjdHMpLmZvckVhY2godXBkYXRlQ29sb3JTZWxlY3RQcmV2aWV3KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3NldHRpbmdzXSBsb2FkIHRoZW1lIGZhaWxlZCcsIGVycik7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGZpbGxDb2xvck9wdGlvbnMoKTtcbiAgICAgIGluaXRDb2xvclByZXZpZXdzKCk7XG4gICAgICBhcHBseUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKCF0aGVtZUFwaSkge1xuICAgICAgICAgIHNldFRoZW1lRmVlZGJhY2soJ0F1Y3VuIHNpdGUgYWN0aWYuJywgJ2Vycm9yJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgICAgY29sb3JzOiB7XG4gICAgICAgICAgICBwcmltYXJ5OiBjb2xvclNlbGVjdHMucHJpbWFyeT8udmFsdWUgfHwgJ3Zpb2xldC01MDAnLFxuICAgICAgICAgICAgc2Vjb25kYXJ5OiBjb2xvclNlbGVjdHMuc2Vjb25kYXJ5Py52YWx1ZSB8fCAnaW5kaWdvLTQwMCcsXG4gICAgICAgICAgICBhY2NlbnQ6IGNvbG9yU2VsZWN0cy5hY2NlbnQ/LnZhbHVlIHx8ICdlbWVyYWxkLTUwMCcsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiBjb2xvclNlbGVjdHMuYmFja2dyb3VuZD8udmFsdWUgfHwgJ3NsYXRlLTUwJyxcbiAgICAgICAgICAgIHRleHQ6IGNvbG9yU2VsZWN0cy50ZXh0Py52YWx1ZSB8fCAnc2xhdGUtOTAwJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHR5cG9ncmFwaHk6IHtcbiAgICAgICAgICAgIGhlYWRpbmdzOiBoZWFkaW5nU2VsZWN0Py52YWx1ZSB8fCAnSW50ZXIsIHNhbnMtc2VyaWYnLFxuICAgICAgICAgICAgYm9keTogYm9keVNlbGVjdD8udmFsdWUgfHwgJ0ludGVyLCBzYW5zLXNlcmlmJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHJhZGl1czoge1xuICAgICAgICAgICAgc21hbGw6IHJhZGl1c1NtYWxsPy52YWx1ZSB8fCAnOHB4JyxcbiAgICAgICAgICAgIG1lZGl1bTogcmFkaXVzTWVkaXVtPy52YWx1ZSB8fCAnMTZweCcsXG4gICAgICAgICAgICBsYXJnZTogcmFkaXVzTGFyZ2U/LnZhbHVlIHx8ICcyNHB4JyxcbiAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgICBhcHBseUJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIHNldFRoZW1lRmVlZGJhY2soJycpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godGhlbWVBcGksIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rIHx8IHJlc3VsdC5zdWNjZXNzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5tZXNzYWdlIHx8ICdBcHBsaWNhdGlvbiBkdSB0aFx1MDBFOG1lIFx1MDBFOWNob3VcdTAwRTllLicpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXRUaGVtZUZlZWRiYWNrKHJlc3VsdC5tZXNzYWdlIHx8ICdUaFx1MDBFOG1lIGFwcGxpcXVcdTAwRTkuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgICBzeW5jUHJldmlldygpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIGFwcGx5IHRoZW1lIGZhaWxlZCcsIGVycik7XG4gICAgICAgICAgc2V0VGhlbWVGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZGUgbFx1MjAxOWFwcGxpY2F0aW9uIGR1IHRoXHUwMEU4bWUuJywgJ2Vycm9yJyk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgYXBwbHlCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGZpbGxDb2xvck9wdGlvbnMoKTtcbiAgICAgIGluaXRDb2xvclByZXZpZXdzKCk7XG4gICAgICBsb2FkVGhlbWUoKTtcbiAgICAgIHN5bmNQcmV2aWV3KCk7XG4gICAgfVxuXG4gICAgLy8gU0VPIENvbmZpZyBmb3JtIChVUzkuQjEpXG4gICAgY29uc3Qgc2VvQ29uZmlnRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby1jb25maWctZm9ybV0nKTtcbiAgICBpZiAoc2VvQ29uZmlnRm9ybSkge1xuICAgICAgY29uc3QgaW5kZXhBbGxDaGVja2JveCA9IHNlb0NvbmZpZ0Zvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtc2VvLWluZGV4LWFsbF0nKTtcbiAgICAgIGNvbnN0IHNlb0NvbmZpZ0ZlZWRiYWNrID0gc2VvQ29uZmlnRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8tY29uZmlnLWZlZWRiYWNrXScpO1xuICAgICAgY29uc3Qgc2VvU2F2ZUJ1dHRvbiA9IHNlb0NvbmZpZ0Zvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtc2VvLXNhdmVdJyk7XG5cbiAgICAgIGNvbnN0IHNhZmVTaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKFxuICAgICAgICB3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnLFxuICAgICAgKTtcbiAgICAgIGNvbnN0IHNpdGVDb25maWdBcGkgPSBzYWZlU2l0ZVNsdWdcbiAgICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9jb25maWcvc2l0ZWBcbiAgICAgICAgOiBudWxsO1xuXG4gICAgICBjb25zdCBzZXRTZW9GZWVkYmFjayA9IChtZXNzYWdlLCB0b25lID0gJ211dGVkJykgPT4ge1xuICAgICAgICBpZiAoIXNlb0NvbmZpZ0ZlZWRiYWNrKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGNvbG9yID1cbiAgICAgICAgICB0b25lID09PSAnc3VjY2VzcydcbiAgICAgICAgICAgID8gJ3RleHQtZW1lcmFsZC02MDAnXG4gICAgICAgICAgICA6IHRvbmUgPT09ICdlcnJvcidcbiAgICAgICAgICAgICAgPyAndGV4dC1yb3NlLTYwMCdcbiAgICAgICAgICAgICAgOiAndGV4dC1zbGF0ZS01MDAnO1xuICAgICAgICBzZW9Db25maWdGZWVkYmFjay50ZXh0Q29udGVudCA9IG1lc3NhZ2UgfHwgJyc7XG4gICAgICAgIHNlb0NvbmZpZ0ZlZWRiYWNrLmNsYXNzTmFtZSA9IGB0ZXh0LXNtICR7Y29sb3J9YDtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGxvYWRTZW9Db25maWcgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIGlmICghc2l0ZUNvbmZpZ0FwaSkgcmV0dXJuO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goc2l0ZUNvbmZpZ0FwaSwgeyBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgcmV0dXJuO1xuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgY29uc3QgaW5kZXhBbGwgPSBwYXlsb2FkLnNlbz8uaW5kZXhBbGxQYWdlc0J5RGVmYXVsdCAhPT0gZmFsc2U7XG4gICAgICAgICAgaWYgKGluZGV4QWxsQ2hlY2tib3gpIGluZGV4QWxsQ2hlY2tib3guY2hlY2tlZCA9IGluZGV4QWxsO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIGxvYWQgc2VvIGNvbmZpZyBmYWlsZWQnLCBlcnIpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBzZW9Db25maWdGb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAoIXNpdGVDb25maWdBcGkpIHtcbiAgICAgICAgICBzZXRTZW9GZWVkYmFjaygnQXVjdW4gc2l0ZSBhY3RpZi4nLCAnZXJyb3InKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc2VvU2F2ZUJ1dHRvbiAmJiAoc2VvU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWUpO1xuICAgICAgICBzZXRTZW9GZWVkYmFjaygnJyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gRmlyc3QgbG9hZCBjdXJyZW50IGNvbmZpZyB0byBwcmVzZXJ2ZSBvdGhlciBmaWVsZHNcbiAgICAgICAgICBjb25zdCBjdXJyZW50UmVzID0gYXdhaXQgZmV0Y2goc2l0ZUNvbmZpZ0FwaSwgeyBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSk7XG4gICAgICAgICAgY29uc3QgY3VycmVudENvbmZpZyA9IGN1cnJlbnRSZXMub2sgPyBhd2FpdCBjdXJyZW50UmVzLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKSA6IHt9O1xuXG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgICAgIC4uLmN1cnJlbnRDb25maWcsXG4gICAgICAgICAgICBzZW86IHtcbiAgICAgICAgICAgICAgLi4uKGN1cnJlbnRDb25maWcuc2VvIHx8IHt9KSxcbiAgICAgICAgICAgICAgaW5kZXhBbGxQYWdlc0J5RGVmYXVsdDogaW5kZXhBbGxDaGVja2JveD8uY2hlY2tlZCA/PyB0cnVlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9O1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goc2l0ZUNvbmZpZ0FwaSwge1xuICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2sgfHwgcmVzdWx0LnN1Y2Nlc3MgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzdWx0Lm1lc3NhZ2UgfHwgJ1NhdXZlZ2FyZGUgaW1wb3NzaWJsZS4nKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0U2VvRmVlZGJhY2socmVzdWx0Lm1lc3NhZ2UgfHwgJ1BhcmFtXHUwMEU4dHJlcyBTRU8gZW5yZWdpc3RyXHUwMEU5cy4nLCAnc3VjY2VzcycpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIHNhdmUgc2VvIGNvbmZpZyBmYWlsZWQnLCBlcnIpO1xuICAgICAgICAgIHNldFNlb0ZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsYSBzYXV2ZWdhcmRlLicsICdlcnJvcicpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIHNlb1NhdmVCdXR0b24gJiYgKHNlb1NhdmVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBsb2FkU2VvQ29uZmlnKCk7XG4gICAgfVxuXG4gICAgLy8gQW5hbHl0aWNzIGZvcm0gKFVTOS5CMilcbiAgICBjb25zdCBhbmFseXRpY3NGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYW5hbHl0aWNzLWZvcm1dJyk7XG4gICAgaWYgKGFuYWx5dGljc0Zvcm0pIHtcbiAgICAgIGNvbnN0IGhlYWRUZXh0YXJlYSA9IGFuYWx5dGljc0Zvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYW5hbHl0aWNzLWhlYWRdJyk7XG4gICAgICBjb25zdCBib2R5VGV4dGFyZWEgPSBhbmFseXRpY3NGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFuYWx5dGljcy1ib2R5XScpO1xuICAgICAgY29uc3QgYW5hbHl0aWNzRmVlZGJhY2sgPSBhbmFseXRpY3NGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFuYWx5dGljcy1mZWVkYmFja10nKTtcbiAgICAgIGNvbnN0IGFuYWx5dGljc1NhdmVCdXR0b24gPSBhbmFseXRpY3NGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFuYWx5dGljcy1zYXZlXScpO1xuXG4gICAgICBjb25zdCBzYWZlU2l0ZVNsdWcgPSBzdHJpcExlYWRpbmdTbGFzaChcbiAgICAgICAgd29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyxcbiAgICAgICk7XG4gICAgICBjb25zdCBzaXRlQ29uZmlnQXBpID0gc2FmZVNpdGVTbHVnXG4gICAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnKX0vY29uZmlnL3NpdGVgXG4gICAgICAgIDogbnVsbDtcblxuICAgICAgY29uc3Qgc2V0QW5hbHl0aWNzRmVlZGJhY2sgPSAobWVzc2FnZSwgdG9uZSA9ICdtdXRlZCcpID0+IHtcbiAgICAgICAgaWYgKCFhbmFseXRpY3NGZWVkYmFjaykgcmV0dXJuO1xuICAgICAgICBjb25zdCBjb2xvciA9XG4gICAgICAgICAgdG9uZSA9PT0gJ3N1Y2Nlc3MnXG4gICAgICAgICAgICA/ICd0ZXh0LWVtZXJhbGQtNjAwJ1xuICAgICAgICAgICAgOiB0b25lID09PSAnZXJyb3InXG4gICAgICAgICAgICAgID8gJ3RleHQtcm9zZS02MDAnXG4gICAgICAgICAgICAgIDogJ3RleHQtc2xhdGUtNTAwJztcbiAgICAgICAgYW5hbHl0aWNzRmVlZGJhY2sudGV4dENvbnRlbnQgPSBtZXNzYWdlIHx8ICcnO1xuICAgICAgICBhbmFseXRpY3NGZWVkYmFjay5jbGFzc05hbWUgPSBgdGV4dC1zbSAke2NvbG9yfWA7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBsb2FkQW5hbHl0aWNzQ29uZmlnID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoIXNpdGVDb25maWdBcGkpIHJldHVybjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHNpdGVDb25maWdBcGksIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHJldHVybjtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIGlmIChoZWFkVGV4dGFyZWEpIGhlYWRUZXh0YXJlYS52YWx1ZSA9IHBheWxvYWQuYW5hbHl0aWNzPy5oZWFkQ29kZSB8fCAnJztcbiAgICAgICAgICBpZiAoYm9keVRleHRhcmVhKSBib2R5VGV4dGFyZWEudmFsdWUgPSBwYXlsb2FkLmFuYWx5dGljcz8uYm9keUVuZENvZGUgfHwgJyc7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gbG9hZCBhbmFseXRpY3MgY29uZmlnIGZhaWxlZCcsIGVycik7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGFuYWx5dGljc0Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmICghc2l0ZUNvbmZpZ0FwaSkge1xuICAgICAgICAgIHNldEFuYWx5dGljc0ZlZWRiYWNrKCdBdWN1biBzaXRlIGFjdGlmLicsICdlcnJvcicpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBhbmFseXRpY3NTYXZlQnV0dG9uICYmIChhbmFseXRpY3NTYXZlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZSk7XG4gICAgICAgIHNldEFuYWx5dGljc0ZlZWRiYWNrKCcnKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBGaXJzdCBsb2FkIGN1cnJlbnQgY29uZmlnIHRvIHByZXNlcnZlIG90aGVyIGZpZWxkc1xuICAgICAgICAgIGNvbnN0IGN1cnJlbnRSZXMgPSBhd2FpdCBmZXRjaChzaXRlQ29uZmlnQXBpLCB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcbiAgICAgICAgICBjb25zdCBjdXJyZW50Q29uZmlnID0gY3VycmVudFJlcy5vayA/IGF3YWl0IGN1cnJlbnRSZXMuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpIDoge307XG5cbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICAgICAgLi4uY3VycmVudENvbmZpZyxcbiAgICAgICAgICAgIGFuYWx5dGljczoge1xuICAgICAgICAgICAgICBoZWFkQ29kZTogaGVhZFRleHRhcmVhPy52YWx1ZSB8fCAnJyxcbiAgICAgICAgICAgICAgYm9keUVuZENvZGU6IGJvZHlUZXh0YXJlYT8udmFsdWUgfHwgJycsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH07XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChzaXRlQ29uZmlnQXBpLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vayB8fCByZXN1bHQuc3VjY2VzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQubWVzc2FnZSB8fCAnU2F1dmVnYXJkZSBpbXBvc3NpYmxlLicpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXRBbmFseXRpY3NGZWVkYmFjayhyZXN1bHQubWVzc2FnZSB8fCAnU2NyaXB0cyBlbnJlZ2lzdHJcdTAwRTlzLicsICdzdWNjZXNzJyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gc2F2ZSBhbmFseXRpY3MgY29uZmlnIGZhaWxlZCcsIGVycik7XG4gICAgICAgICAgc2V0QW5hbHl0aWNzRmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGRlIGxhIHNhdXZlZ2FyZGUuJywgJ2Vycm9yJyk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgYW5hbHl0aWNzU2F2ZUJ1dHRvbiAmJiAoYW5hbHl0aWNzU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGxvYWRBbmFseXRpY3NDb25maWcoKTtcbiAgICB9XG5cbiAgICBjb25zdCBhY2Nlc3NpYmlsaXR5Rm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFjY2Vzc2liaWxpdHktZm9ybV0nKTtcbiAgICBpZiAoYWNjZXNzaWJpbGl0eUZvcm0pIHtcbiAgICAgIGNvbnN0IGFuaW1hdGlvbnNUb2dnbGUgPSBhY2Nlc3NpYmlsaXR5Rm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hY2Nlc3NpYmlsaXR5LWFuaW1hdGlvbnNdJyk7XG4gICAgICBjb25zdCBjb250cmFzdFRvZ2dsZSA9IGFjY2Vzc2liaWxpdHlGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFjY2Vzc2liaWxpdHktY29udHJhc3RdJyk7XG4gICAgICBjb25zdCBhY2Nlc3NpYmlsaXR5RmVlZGJhY2sgPSBhY2Nlc3NpYmlsaXR5Rm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hY2Nlc3NpYmlsaXR5LWZlZWRiYWNrXScpO1xuICAgICAgY29uc3QgYWNjZXNzaWJpbGl0eVNhdmVCdXR0b24gPSBhY2Nlc3NpYmlsaXR5Rm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hY2Nlc3NpYmlsaXR5LXNhdmVdJyk7XG5cbiAgICAgIGNvbnN0IHNhZmVTaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKFxuICAgICAgICB3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnLFxuICAgICAgKTtcbiAgICAgIGNvbnN0IHNpdGVDb25maWdBcGkgPSBzYWZlU2l0ZVNsdWdcbiAgICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9jb25maWcvc2l0ZWBcbiAgICAgICAgOiBudWxsO1xuXG4gICAgICBjb25zdCBzZXRBY2Nlc3NpYmlsaXR5RmVlZGJhY2sgPSAobWVzc2FnZSwgdG9uZSA9ICdtdXRlZCcpID0+IHtcbiAgICAgICAgaWYgKCFhY2Nlc3NpYmlsaXR5RmVlZGJhY2spIHJldHVybjtcbiAgICAgICAgY29uc3QgY29sb3IgPVxuICAgICAgICAgIHRvbmUgPT09ICdzdWNjZXNzJ1xuICAgICAgICAgICAgPyAndGV4dC1lbWVyYWxkLTYwMCdcbiAgICAgICAgICAgIDogdG9uZSA9PT0gJ2Vycm9yJ1xuICAgICAgICAgICAgICA/ICd0ZXh0LXJvc2UtNjAwJ1xuICAgICAgICAgICAgICA6ICd0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICAgIGFjY2Vzc2liaWxpdHlGZWVkYmFjay50ZXh0Q29udGVudCA9IG1lc3NhZ2UgfHwgJyc7XG4gICAgICAgIGFjY2Vzc2liaWxpdHlGZWVkYmFjay5jbGFzc05hbWUgPSBgdGV4dC1zbSAke2NvbG9yfWA7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBsb2FkQWNjZXNzaWJpbGl0eUNvbmZpZyA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKCFzaXRlQ29uZmlnQXBpKSByZXR1cm47XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChzaXRlQ29uZmlnQXBpLCB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSByZXR1cm47XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICBpZiAoYW5pbWF0aW9uc1RvZ2dsZSkge1xuICAgICAgICAgICAgYW5pbWF0aW9uc1RvZ2dsZS5jaGVja2VkID0gcGF5bG9hZC5hY2Nlc3NpYmlsaXR5Py5hbmltYXRpb25zRW5hYmxlZCAhPT0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChjb250cmFzdFRvZ2dsZSkge1xuICAgICAgICAgICAgY29udHJhc3RUb2dnbGUuY2hlY2tlZCA9IHBheWxvYWQuYWNjZXNzaWJpbGl0eT8uaGlnaENvbnRyYXN0ID09PSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3NldHRpbmdzXSBsb2FkIGFjY2Vzc2liaWxpdHkgY29uZmlnIGZhaWxlZCcsIGVycik7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGFjY2Vzc2liaWxpdHlGb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAoIXNpdGVDb25maWdBcGkpIHtcbiAgICAgICAgICBzZXRBY2Nlc3NpYmlsaXR5RmVlZGJhY2soJ0F1Y3VuIHNpdGUgYWN0aWYuJywgJ2Vycm9yJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGFjY2Vzc2liaWxpdHlTYXZlQnV0dG9uICYmIChhY2Nlc3NpYmlsaXR5U2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWUpO1xuICAgICAgICBzZXRBY2Nlc3NpYmlsaXR5RmVlZGJhY2soJycpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IGN1cnJlbnRSZXMgPSBhd2FpdCBmZXRjaChzaXRlQ29uZmlnQXBpLCB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcbiAgICAgICAgICBjb25zdCBjdXJyZW50Q29uZmlnID0gY3VycmVudFJlcy5vayA/IGF3YWl0IGN1cnJlbnRSZXMuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpIDoge307XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgICAgIC4uLmN1cnJlbnRDb25maWcsXG4gICAgICAgICAgICBhY2Nlc3NpYmlsaXR5OiB7XG4gICAgICAgICAgICAgIGFuaW1hdGlvbnNFbmFibGVkOiBhbmltYXRpb25zVG9nZ2xlPy5jaGVja2VkID8/IHRydWUsXG4gICAgICAgICAgICAgIGhpZ2hDb250cmFzdDogY29udHJhc3RUb2dnbGU/LmNoZWNrZWQgPz8gZmFsc2UsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH07XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChzaXRlQ29uZmlnQXBpLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vayB8fCByZXN1bHQuc3VjY2VzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQubWVzc2FnZSB8fCAnU2F1dmVnYXJkZSBpbXBvc3NpYmxlLicpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXRBY2Nlc3NpYmlsaXR5RmVlZGJhY2socmVzdWx0Lm1lc3NhZ2UgfHwgJ1ByXHUwMEU5Zlx1MDBFOXJlbmNlcyBtaXNlcyBcdTAwRTAgam91ci4nLCAnc3VjY2VzcycpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIHNhdmUgYWNjZXNzaWJpbGl0eSBjb25maWcgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgICBzZXRBY2Nlc3NpYmlsaXR5RmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGRlIGxhIHNhdXZlZ2FyZGUuJywgJ2Vycm9yJyk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgYWNjZXNzaWJpbGl0eVNhdmVCdXR0b24gJiYgKGFjY2Vzc2liaWxpdHlTYXZlQnV0dG9uLmRpc2FibGVkID0gZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgbG9hZEFjY2Vzc2liaWxpdHlDb25maWcoKTtcbiAgICB9XG5cbiAgICAvLyBBSSBDb25maWcgZm9ybSAoVVMgLSBBSSBBc3Npc3RhbnQpXG4gICAgY29uc3QgYWlDb25maWdGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWktY29uZmlnLWZvcm1dJyk7XG4gICAgaWYgKGFpQ29uZmlnRm9ybSkge1xuICAgICAgY29uc3QgYXBpS2V5SW5wdXQgPSBhaUNvbmZpZ0Zvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYWktYXBpLWtleV0nKTtcbiAgICAgIGNvbnN0IG1vZGVsU2VsZWN0ID0gYWlDb25maWdGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFpLW1vZGVsXScpO1xuICAgICAgY29uc3QgcHJvamVjdFByb21wdFRleHRhcmVhID0gYWlDb25maWdGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFpLXByb2plY3QtcHJvbXB0XScpO1xuICAgICAgY29uc3QgZW5hYmxlZENoZWNrYm94ID0gYWlDb25maWdGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFpLWVuYWJsZWRdJyk7XG4gICAgICBjb25zdCBhaUZlZWRiYWNrID0gYWlDb25maWdGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFpLWZlZWRiYWNrXScpO1xuICAgICAgY29uc3QgYWlTYXZlQnV0dG9uID0gYWlDb25maWdGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFpLXNhdmVdJyk7XG5cbiAgICAgIGNvbnN0IHNhZmVTaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKFxuICAgICAgICB3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnLFxuICAgICAgKTtcbiAgICAgIGNvbnN0IGFpQ29uZmlnQXBpID0gc2FmZVNpdGVTbHVnXG4gICAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnKX0vY29uZmlnL2FpYFxuICAgICAgICA6IG51bGw7XG5cbiAgICAgIGNvbnN0IHNldEFJRmVlZGJhY2sgPSAobWVzc2FnZSwgdG9uZSA9ICdtdXRlZCcpID0+IHtcbiAgICAgICAgaWYgKCFhaUZlZWRiYWNrKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGNvbG9yID1cbiAgICAgICAgICB0b25lID09PSAnc3VjY2VzcydcbiAgICAgICAgICAgID8gJ3RleHQtZW1lcmFsZC02MDAnXG4gICAgICAgICAgICA6IHRvbmUgPT09ICdlcnJvcidcbiAgICAgICAgICAgICAgPyAndGV4dC1yb3NlLTYwMCdcbiAgICAgICAgICAgICAgOiAndGV4dC1zbGF0ZS01MDAnO1xuICAgICAgICBhaUZlZWRiYWNrLnRleHRDb250ZW50ID0gbWVzc2FnZSB8fCAnJztcbiAgICAgICAgYWlGZWVkYmFjay5jbGFzc05hbWUgPSBgdGV4dC1zbSAke2NvbG9yfWA7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBsb2FkQUlDb25maWcgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIGlmICghYWlDb25maWdBcGkpIHJldHVybjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGFpQ29uZmlnQXBpLCB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSByZXR1cm47XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICAvLyBBUEkga2V5IGlzIG1hc2tlZCwgd2Ugc2hvdyBwbGFjZWhvbGRlciBpZiBpdCBleGlzdHNcbiAgICAgICAgICBpZiAoYXBpS2V5SW5wdXQpIHtcbiAgICAgICAgICAgIGFwaUtleUlucHV0LnZhbHVlID0gJyc7XG4gICAgICAgICAgICBhcGlLZXlJbnB1dC5wbGFjZWhvbGRlciA9IHBheWxvYWQuaGFzQXBpS2V5ID8gJ1x1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMicgOiAnQ2xcdTAwRTkgQVBJIEdlbWluaSc7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChtb2RlbFNlbGVjdCkgbW9kZWxTZWxlY3QudmFsdWUgPSBwYXlsb2FkLm1vZGVsIHx8ICdnZW1pbmktMi41LWZsYXNoJztcbiAgICAgICAgICBpZiAocHJvamVjdFByb21wdFRleHRhcmVhKSBwcm9qZWN0UHJvbXB0VGV4dGFyZWEudmFsdWUgPSBwYXlsb2FkLnByb2plY3RQcm9tcHQgfHwgJyc7XG4gICAgICAgICAgaWYgKGVuYWJsZWRDaGVja2JveCkgZW5hYmxlZENoZWNrYm94LmNoZWNrZWQgPSBwYXlsb2FkLmVuYWJsZWQgIT09IGZhbHNlO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIGxvYWQgQUkgY29uZmlnIGZhaWxlZCcsIGVycik7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGFpQ29uZmlnRm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKCFhaUNvbmZpZ0FwaSkge1xuICAgICAgICAgIHNldEFJRmVlZGJhY2soJ0F1Y3VuIHNpdGUgYWN0aWYuJywgJ2Vycm9yJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGFpU2F2ZUJ1dHRvbiAmJiAoYWlTYXZlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZSk7XG4gICAgICAgIHNldEFJRmVlZGJhY2soJycpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgICAgICBtb2RlbDogbW9kZWxTZWxlY3Q/LnZhbHVlIHx8ICdnZW1pbmktMi41LWZsYXNoJyxcbiAgICAgICAgICAgIHByb2plY3RQcm9tcHQ6IHByb2plY3RQcm9tcHRUZXh0YXJlYT8udmFsdWUgfHwgJycsXG4gICAgICAgICAgICBlbmFibGVkOiBlbmFibGVkQ2hlY2tib3g/LmNoZWNrZWQgPz8gdHJ1ZSxcbiAgICAgICAgICB9O1xuICAgICAgICAgIC8vIE9ubHkgaW5jbHVkZSBhcGlLZXkgaWYgdGhlIHVzZXIgZW50ZXJlZCBvbmUgKG5vdCBlbXB0eSlcbiAgICAgICAgICBjb25zdCBhcGlLZXlWYWx1ZSA9IGFwaUtleUlucHV0Py52YWx1ZT8udHJpbSgpO1xuICAgICAgICAgIGlmIChhcGlLZXlWYWx1ZSkge1xuICAgICAgICAgICAgcGF5bG9hZC5hcGlLZXkgPSBhcGlLZXlWYWx1ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGFpQ29uZmlnQXBpLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vayB8fCByZXN1bHQuc3VjY2VzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQubWVzc2FnZSB8fCAnU2F1dmVnYXJkZSBpbXBvc3NpYmxlLicpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXRBSUZlZWRiYWNrKHJlc3VsdC5tZXNzYWdlIHx8ICdDb25maWd1cmF0aW9uIElBIGVucmVnaXN0clx1MDBFOWUuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgICAvLyBDbGVhciB0aGUgQVBJIGtleSBmaWVsZCBhZnRlciBzdWNjZXNzZnVsIHNhdmVcbiAgICAgICAgICBpZiAoYXBpS2V5SW5wdXQpIHtcbiAgICAgICAgICAgIGFwaUtleUlucHV0LnZhbHVlID0gJyc7XG4gICAgICAgICAgICBhcGlLZXlJbnB1dC5wbGFjZWhvbGRlciA9ICdcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjInO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3NldHRpbmdzXSBzYXZlIEFJIGNvbmZpZyBmYWlsZWQnLCBlcnIpO1xuICAgICAgICAgIHNldEFJRmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGRlIGxhIHNhdXZlZ2FyZGUuJywgJ2Vycm9yJyk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgYWlTYXZlQnV0dG9uICYmIChhaVNhdmVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBsb2FkQUlDb25maWcoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBpbml0TWVkaWFXb3Jrc3BhY2UoKSB7XG4gICAgY29uc3QgZ3JpZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWdyaWRdJyk7XG4gICAgaWYgKCFncmlkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGVtcHR5U3RhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1lbXB0eV0nKTtcbiAgICBjb25zdCBjb3VudEJhZGdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtY291bnRdJyk7XG4gICAgY29uc3QgZmlsdGVyVHlwZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWZpbHRlci10eXBlXScpO1xuICAgIGNvbnN0IGRldGFpbEVtcHR5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGV0YWlsLWVtcHR5XScpO1xuICAgIGNvbnN0IGRldGFpbFBhbmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGV0YWlsXScpO1xuICAgIGNvbnN0IGRldGFpbFByZXZpZXcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZXRhaWwtcHJldmlld10nKTtcbiAgICBjb25zdCBkZXRhaWxOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGV0YWlsLW5hbWVdJyk7XG4gICAgY29uc3QgZGV0YWlsVHlwZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRldGFpbC10eXBlXScpO1xuICAgIGNvbnN0IGRldGFpbFNpemUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZXRhaWwtc2l6ZV0nKTtcbiAgICBjb25zdCBkZXRhaWxQYXRoID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGV0YWlsLXBhdGhdJyk7XG4gICAgY29uc3QgZGV0YWlsVXNlZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRldGFpbC11c2VkXScpO1xuICAgIGNvbnN0IGRldGFpbEFsdElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtYWx0LWVkaXRdJyk7XG4gICAgY29uc3QgZGV0YWlsU2F2ZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLXNhdmVdJyk7XG4gICAgY29uc3QgZGV0YWlsRGVsZXRlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGVsZXRlXScpO1xuICAgIGNvbnN0IGRlbGV0ZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGVsZXRlLW1vZGFsXScpO1xuICAgIGNvbnN0IGRlbGV0ZUNhbmNlbEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRlbGV0ZS1jYW5jZWxdJyk7XG4gICAgY29uc3QgZGVsZXRlQ29uZmlybUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRlbGV0ZS1jb25maXJtXScpO1xuICAgIGNvbnN0IHVwbG9hZE9wZW5CdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS11cGxvYWQtb3Blbl0nKTtcbiAgICBjb25zdCBmaWxlSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1maWxlLWlucHV0XScpO1xuICAgIGNvbnN0IHVwbG9hZFN0YXR1cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLXVwbG9hZC1zdGF0dXNdJyk7XG5cbiAgICBjb25zdCBzYWZlU2l0ZVNsdWdWYWx1ZSA9IHN0cmlwTGVhZGluZ1NsYXNoKFxuICAgICAgd29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyxcbiAgICApO1xuICAgIGNvbnN0IG1lZGlhQXBpQmFzZSA9IHNhZmVTaXRlU2x1Z1ZhbHVlXG4gICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Z1ZhbHVlKX0vbWVkaWFgXG4gICAgICA6IG51bGw7XG5cbiAgICBsZXQgbWVkaWFJdGVtcyA9IFtdO1xuICAgIGxldCBmaWx0ZXJlZEl0ZW1zID0gW107XG4gICAgbGV0IGFjdGl2ZU1lZGlhSWQgPSBudWxsO1xuICAgIGxldCBoaWdobGlnaHRNZWRpYUlkID0gbnVsbDtcbiAgICBsZXQgcGVuZGluZ1VwbG9hZEZpbGUgPSBudWxsO1xuICAgIGxldCB1cGxvYWRJblByb2dyZXNzID0gZmFsc2U7XG4gICAgbGV0IGRldGFpbERpcnR5ID0gZmFsc2U7XG4gICAgbGV0IHVwbG9hZE1vZGUgPSBmYWxzZTtcbiAgICBsZXQgdXBsb2FkUHJldmlld1VybCA9IG51bGw7XG5cbiAgICBjb25zdCBkZXJpdmVHcm91cFR5cGUgPSAoaXRlbSkgPT4ge1xuICAgICAgY29uc3QgdHlwZSA9IChpdGVtLnR5cGUgfHwgJycpLnRvTG93ZXJDYXNlKCk7XG4gICAgICBjb25zdCBmaWxlbmFtZSA9IChpdGVtLmZpbGVuYW1lIHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgaWYgKHR5cGUuaW5jbHVkZXMoJ2ltYWdlJykgfHwgL1xcLihwbmd8anBlP2d8d2VicHxzdmd8Z2lmKSQvaS50ZXN0KGZpbGVuYW1lKSkge1xuICAgICAgICByZXR1cm4gJ2ltYWdlJztcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlLmluY2x1ZGVzKCdwZGYnKSB8fCB0eXBlLmluY2x1ZGVzKCdkb2MnKSB8fCAvXFwuKHBkZnxkb2N4PykkL2kudGVzdChmaWxlbmFtZSkpIHtcbiAgICAgICAgcmV0dXJuICdkb2N1bWVudCc7XG4gICAgICB9XG4gICAgICBpZiAodHlwZS5pbmNsdWRlcygndmlkZW8nKSB8fCAvXFwuKG1wNHxtb3Z8d2VibSkkL2kudGVzdChmaWxlbmFtZSkpIHtcbiAgICAgICAgcmV0dXJuICd2aWRlbyc7XG4gICAgICB9XG4gICAgICByZXR1cm4gJ290aGVyJztcbiAgICB9O1xuXG4gICAgY29uc3QgaXNJbWFnZVR5cGUgPSAoaXRlbSkgPT4gZGVyaXZlR3JvdXBUeXBlKGl0ZW0pID09PSAnaW1hZ2UnO1xuXG4gICAgY29uc3QgZm9ybWF0VHlwZUxhYmVsID0gKGl0ZW0pID0+IHtcbiAgICAgIGlmIChpdGVtLnR5cGUpIHtcbiAgICAgICAgcmV0dXJuIGl0ZW0udHlwZS50b1VwcGVyQ2FzZSgpO1xuICAgICAgfVxuICAgICAgY29uc3QgZXh0ID0gKGl0ZW0uZmlsZW5hbWUgfHwgJycpLnNwbGl0KCcuJykucG9wKCk7XG4gICAgICByZXR1cm4gZXh0ID8gZXh0LnRvVXBwZXJDYXNlKCkgOiAnRklMRSc7XG4gICAgfTtcblxuICAgIGNvbnN0IGZvcm1hdEZpbGVTaXplID0gKHNpemUpID0+IHtcbiAgICAgIGlmICghc2l6ZSB8fCBzaXplIDw9IDApIHtcbiAgICAgICAgcmV0dXJuICdcdTIwMTQnO1xuICAgICAgfVxuICAgICAgaWYgKHNpemUgPCAxMDI0KSB7XG4gICAgICAgIHJldHVybiBgJHtzaXplfSBvYDtcbiAgICAgIH1cbiAgICAgIGlmIChzaXplIDwgMTAyNCAqIDEwMjQpIHtcbiAgICAgICAgcmV0dXJuIGAkeyhzaXplIC8gMTAyNCkudG9GaXhlZCgxKX0ga29gO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGAkeyhzaXplIC8gKDEwMjQgKiAxMDI0KSkudG9GaXhlZCgxKX0gTW9gO1xuICAgIH07XG5cbiAgICBjb25zdCByZXNldERldGFpbFBhbmVsID0gKCkgPT4ge1xuICAgICAgZGV0YWlsUGFuZWw/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgZGV0YWlsRW1wdHk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgY2xlYXJVcGxvYWRTdGF0ZSgpO1xuICAgICAgYWN0aXZlTWVkaWFJZCA9IG51bGw7XG4gICAgICBkZXRhaWxEaXJ0eSA9IGZhbHNlO1xuICAgICAgdXBkYXRlRGV0YWlsQWN0aW9ucyhmYWxzZSk7XG4gICAgICBpZiAoZGV0YWlsUHJldmlldykge1xuICAgICAgICBkZXRhaWxQcmV2aWV3LmlubmVySFRNTCA9XG4gICAgICAgICAgJzxzcGFuIGNsYXNzPVwidGV4dC1zbGF0ZS00MDAgdGV4dC1zbVwiPkF1Y3VuIG1cdTAwRTlkaWEgc1x1MDBFOWxlY3Rpb25uXHUwMEU5PC9zcGFuPic7XG4gICAgICB9XG4gICAgICBpZiAoZGV0YWlsTmFtZSkge1xuICAgICAgICBkZXRhaWxOYW1lLnRleHRDb250ZW50ID0gJyc7XG4gICAgICB9XG4gICAgICBkZXRhaWxUeXBlICYmIChkZXRhaWxUeXBlLnRleHRDb250ZW50ID0gJycpO1xuICAgICAgZGV0YWlsU2l6ZSAmJiAoZGV0YWlsU2l6ZS50ZXh0Q29udGVudCA9ICcnKTtcbiAgICAgIGlmIChkZXRhaWxBbHRJbnB1dCkge1xuICAgICAgICBkZXRhaWxBbHRJbnB1dC52YWx1ZSA9ICcnO1xuICAgICAgfVxuICAgICAgZGV0YWlsUGF0aCAmJiAoZGV0YWlsUGF0aC50ZXh0Q29udGVudCA9ICcnKTtcbiAgICAgIGlmIChkZXRhaWxVc2VkKSB7XG4gICAgICAgIGRldGFpbFVzZWQuaW5uZXJIVE1MID0gJyc7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGNsZWFyVXBsb2FkU3RhdGUgPSAoKSA9PiB7XG4gICAgICBwZW5kaW5nVXBsb2FkRmlsZSA9IG51bGw7XG4gICAgICB1cGxvYWRNb2RlID0gZmFsc2U7XG4gICAgICB1cGxvYWRJblByb2dyZXNzID0gZmFsc2U7XG4gICAgICBpZiAodXBsb2FkUHJldmlld1VybCkge1xuICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKHVwbG9hZFByZXZpZXdVcmwpO1xuICAgICAgICB1cGxvYWRQcmV2aWV3VXJsID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIHVwbG9hZFN0YXR1cyAmJiAodXBsb2FkU3RhdHVzLnRleHRDb250ZW50ID0gJ0F1Y3VuIGZpY2hpZXIgc1x1MDBFOWxlY3Rpb25uXHUwMEU5LicpO1xuICAgICAgZmlsZUlucHV0ICYmIChmaWxlSW5wdXQudmFsdWUgPSAnJyk7XG4gICAgfTtcblxuICAgIGNvbnN0IHVwZGF0ZUNvdW50QmFkZ2UgPSAoKSA9PiB7XG4gICAgICBpZiAoIWNvdW50QmFkZ2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFmaWx0ZXJlZEl0ZW1zLmxlbmd0aCkge1xuICAgICAgICBjb3VudEJhZGdlLnRleHRDb250ZW50ID0gJzAgbVx1MDBFOWRpYSc7XG4gICAgICB9IGVsc2UgaWYgKGZpbHRlcmVkSXRlbXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGNvdW50QmFkZ2UudGV4dENvbnRlbnQgPSAnMSBtXHUwMEU5ZGlhJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvdW50QmFkZ2UudGV4dENvbnRlbnQgPSBgJHtmaWx0ZXJlZEl0ZW1zLmxlbmd0aH0gbVx1MDBFOWRpYXNgO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCByZW5kZXJHcmlkID0gKCkgPT4ge1xuICAgICAgZ3JpZC5pbm5lckhUTUwgPSAnJztcbiAgICAgIGlmICghZmlsdGVyZWRJdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgZW1wdHlTdGF0ZT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIHJlc2V0RGV0YWlsUGFuZWwoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZW1wdHlTdGF0ZT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBmaWx0ZXJlZEl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgICAgY29uc3QgY2FyZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICBjYXJkLnR5cGUgPSAnYnV0dG9uJztcbiAgICAgICAgY2FyZC5kYXRhc2V0Lm1lZGlhSWQgPSBpdGVtLmlkO1xuICAgICAgICBjb25zdCBpc0FjdGl2ZSA9IGl0ZW0uaWQgPT09IGFjdGl2ZU1lZGlhSWQ7XG4gICAgICAgIGNhcmQuY2xhc3NOYW1lID0gW1xuICAgICAgICAgICdncm91cCByZWxhdGl2ZSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtMnhsIGJvcmRlciBweC0zIHB5LTMgdGV4dC1sZWZ0IHRyYW5zaXRpb24gZm9jdXMtdmlzaWJsZTpvdXRsaW5lIGZvY3VzLXZpc2libGU6b3V0bGluZS0yIGZvY3VzLXZpc2libGU6b3V0bGluZS1vZmZzZXQtMiBmb2N1cy12aXNpYmxlOm91dGxpbmUtWyM5QzZCRkZdJyxcbiAgICAgICAgICBpc0FjdGl2ZVxuICAgICAgICAgICAgPyAnYm9yZGVyLVsjOUM2QkZGXSBiZy1bI0Y3RjBGRl0vNjAgc2hhZG93LXNtJ1xuICAgICAgICAgICAgOiAnYm9yZGVyLXNsYXRlLTIwMCBob3Zlcjpib3JkZXItWyM5QzZCRkZdLzQwJyxcbiAgICAgICAgXS5qb2luKCcgJyk7XG4gICAgICAgIGNvbnN0IHByZXZpZXcgPSBpc0ltYWdlVHlwZShpdGVtKVxuICAgICAgICAgID8gYDxpbWcgc3JjPVwiJHtpdGVtLnBhdGh9XCIgYWx0PVwiJHtpdGVtLmFsdCB8fCBpdGVtLmZpbGVuYW1lfVwiIGNsYXNzPVwiaC1mdWxsIHctZnVsbCBvYmplY3QtY292ZXJcIiAvPmBcbiAgICAgICAgICA6IGA8ZGl2IGNsYXNzPVwiZmxleCBoLWZ1bGwgdy1mdWxsIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB0ZXh0LTN4bCB0ZXh0LXNsYXRlLTQwMFwiPlx1RDgzRFx1RENDNDwvZGl2PmA7XG4gICAgICAgIGNhcmQuaW5uZXJIVE1MID0gYFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJyZWxhdGl2ZSBhc3BlY3QtWzQvM10gb3ZlcmZsb3ctaGlkZGVuIHJvdW5kZWQteGwgYmctc2xhdGUtMTAwXCI+XG4gICAgICAgICAgICAke3ByZXZpZXd9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cIm10LTIgc3BhY2UteS0xXCI+XG4gICAgICAgICAgICA8cCBjbGFzcz1cInRleHQtc20gZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTkwMCB0cnVuY2F0ZVwiPiR7aXRlbS5maWxlbmFtZX08L3A+XG4gICAgICAgICAgICA8cCBjbGFzcz1cInRleHQteHMgdGV4dC1zbGF0ZS01MDBcIj5cbiAgICAgICAgICAgICAgJHtmb3JtYXRUeXBlTGFiZWwoaXRlbSl9IFx1MDBCNyAke2Zvcm1hdEZpbGVTaXplKGl0ZW0uc2l6ZSl9XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIGA7XG4gICAgICAgIGlmIChpdGVtLmlkID09PSBoaWdobGlnaHRNZWRpYUlkKSB7XG4gICAgICAgICAgY2FyZC5jbGFzc0xpc3QuYWRkKCdyaW5nLTInLCAncmluZy1bIzlDNkJGRl0nKTtcbiAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBjYXJkLmNsYXNzTGlzdC5yZW1vdmUoJ3JpbmctMicsICdyaW5nLVsjOUM2QkZGXScpO1xuICAgICAgICAgIH0sIDE2MDApO1xuICAgICAgICB9XG4gICAgICAgIGNhcmQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBzZWxlY3RNZWRpYShpdGVtLmlkKSk7XG4gICAgICAgIGdyaWQuYXBwZW5kQ2hpbGQoY2FyZCk7XG4gICAgICB9KTtcbiAgICAgIGhpZ2hsaWdodE1lZGlhSWQgPSBudWxsO1xuICAgIH07XG5cbiAgICBjb25zdCByZW5kZXJVc2VkSW4gPSAoaXRlbSkgPT4ge1xuICAgICAgaWYgKCFkZXRhaWxVc2VkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGRldGFpbFVzZWQuaW5uZXJIVE1MID0gJyc7XG4gICAgICBpZiAoIWl0ZW0udXNlZEluIHx8IGl0ZW0udXNlZEluLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICAgIGxpLnRleHRDb250ZW50ID0gJ05vbiB1dGlsaXNcdTAwRTknO1xuICAgICAgICBsaS5jbGFzc05hbWUgPSAndGV4dC14cyB0ZXh0LXNsYXRlLTQwMCc7XG4gICAgICAgIGRldGFpbFVzZWQuYXBwZW5kQ2hpbGQobGkpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpdGVtLnVzZWRJbi5mb3JFYWNoKChlbnRyeSkgPT4ge1xuICAgICAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICAgIGxpLnRleHRDb250ZW50ID0gZW50cnk7XG4gICAgICAgIGxpLmNsYXNzTmFtZSA9ICd0ZXh0LXhzIHRleHQtc2xhdGUtNjAwJztcbiAgICAgICAgZGV0YWlsVXNlZC5hcHBlbmRDaGlsZChsaSk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgdXBkYXRlRGV0YWlsQWN0aW9ucyA9IChzYXZpbmcpID0+IHtcbiAgICAgIGlmICghZGV0YWlsU2F2ZUJ1dHRvbikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAodXBsb2FkTW9kZSkge1xuICAgICAgICBkZXRhaWxTYXZlQnV0dG9uLnRleHRDb250ZW50ID0gc2F2aW5nID8gJ1RcdTAwRTlsXHUwMEU5dmVyc2VtZW50XHUyMDI2JyA6ICdUXHUwMEU5bFx1MDBFOXZlcnNlcic7XG4gICAgICAgIGRldGFpbFNhdmVCdXR0b24uZGlzYWJsZWQgPSBzYXZpbmcgfHwgIXBlbmRpbmdVcGxvYWRGaWxlO1xuICAgICAgICBpZiAoZGV0YWlsRGVsZXRlQnV0dG9uKSB7XG4gICAgICAgICAgZGV0YWlsRGVsZXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGRldGFpbFNhdmVCdXR0b24udGV4dENvbnRlbnQgPSBzYXZpbmcgPyAnRW5yZWdpc3RyZW1lbnRcdTIwMjYnIDogJ0VucmVnaXN0cmVyJztcbiAgICAgIGRldGFpbFNhdmVCdXR0b24uZGlzYWJsZWQgPSBzYXZpbmcgfHwgIWRldGFpbERpcnR5O1xuICAgICAgaWYgKGRldGFpbERlbGV0ZUJ1dHRvbikge1xuICAgICAgICBkZXRhaWxEZWxldGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIGRldGFpbERlbGV0ZUJ1dHRvbi5kaXNhYmxlZCA9ICFhY3RpdmVNZWRpYUlkO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBzZWxlY3RNZWRpYSA9IChtZWRpYUlkKSA9PiB7XG4gICAgICBjb25zdCBpdGVtID0gbWVkaWFJdGVtcy5maW5kKChlbnRyeSkgPT4gZW50cnkuaWQgPT09IG1lZGlhSWQpO1xuICAgICAgaWYgKCFpdGVtKSB7XG4gICAgICAgIHJlc2V0RGV0YWlsUGFuZWwoKTtcbiAgICAgICAgcmVuZGVyR3JpZCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjbGVhclVwbG9hZFN0YXRlKCk7XG4gICAgICBhY3RpdmVNZWRpYUlkID0gaXRlbS5pZDtcbiAgICAgIGRldGFpbERpcnR5ID0gZmFsc2U7XG4gICAgICB1cGRhdGVEZXRhaWxBY3Rpb25zKGZhbHNlKTtcbiAgICAgIHJlbmRlckdyaWQoKTtcbiAgICAgIGRldGFpbEVtcHR5Py5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGRldGFpbFBhbmVsPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGlmIChkZXRhaWxQcmV2aWV3KSB7XG4gICAgICAgIGlmIChpc0ltYWdlVHlwZShpdGVtKSkge1xuICAgICAgICAgIGRldGFpbFByZXZpZXcuaW5uZXJIVE1MID0gYDxpbWcgc3JjPVwiJHtpdGVtLnBhdGh9XCIgYWx0PVwiJHtpdGVtLmFsdCB8fCBpdGVtLmZpbGVuYW1lfVwiIGNsYXNzPVwiaC1mdWxsIHctZnVsbCByb3VuZGVkLTJ4bCBvYmplY3QtY292ZXJcIiAvPmA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGV0YWlsUHJldmlldy5pbm5lckhUTUwgPVxuICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJmbGV4IGgtZnVsbCB3LWZ1bGwgZmxleC1jb2wgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGdhcC0xIHRleHQtc2xhdGUtNDAwXCI+PHNwYW4gY2xhc3M9XCJ0ZXh0LTN4bFwiPlx1RDgzRFx1RENDNDwvc3Bhbj48c3BhbiBjbGFzcz1cInRleHQteHMgZm9udC1zZW1pYm9sZFwiPkRvY3VtZW50PC9zcGFuPjwvZGl2Pic7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGRldGFpbE5hbWUgJiYgKGRldGFpbE5hbWUudGV4dENvbnRlbnQgPSBpdGVtLmZpbGVuYW1lIHx8ICdGaWNoaWVyJyk7XG4gICAgICBkZXRhaWxUeXBlICYmIChkZXRhaWxUeXBlLnRleHRDb250ZW50ID0gZm9ybWF0VHlwZUxhYmVsKGl0ZW0pKTtcbiAgICAgIGRldGFpbFNpemUgJiYgKGRldGFpbFNpemUudGV4dENvbnRlbnQgPSBmb3JtYXRGaWxlU2l6ZShpdGVtLnNpemUpKTtcbiAgICAgIGlmIChkZXRhaWxBbHRJbnB1dCkge1xuICAgICAgICBkZXRhaWxBbHRJbnB1dC52YWx1ZSA9IGl0ZW0uYWx0IHx8ICcnO1xuICAgICAgfVxuICAgICAgZGV0YWlsUGF0aCAmJiAoZGV0YWlsUGF0aC50ZXh0Q29udGVudCA9IGl0ZW0ucGF0aCB8fCAnXHUyMDE0Jyk7XG4gICAgICByZW5kZXJVc2VkSW4oaXRlbSk7XG4gICAgfTtcblxuICAgIGNvbnN0IHNob3dVcGxvYWRQcmV2aWV3ID0gKGZpbGUpID0+IHtcbiAgICAgIGlmICghZmlsZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB1cGxvYWRNb2RlID0gdHJ1ZTtcbiAgICAgIGRldGFpbERpcnR5ID0gZmFsc2U7XG4gICAgICBhY3RpdmVNZWRpYUlkID0gbnVsbDtcbiAgICAgIGRldGFpbEVtcHR5Py5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGRldGFpbFBhbmVsPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGlmICh1cGxvYWRQcmV2aWV3VXJsKSB7XG4gICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwodXBsb2FkUHJldmlld1VybCk7XG4gICAgICB9XG4gICAgICB1cGxvYWRQcmV2aWV3VXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKTtcbiAgICAgIGlmIChkZXRhaWxQcmV2aWV3KSB7XG4gICAgICAgIGRldGFpbFByZXZpZXcuaW5uZXJIVE1MID0gYDxpbWcgc3JjPVwiJHt1cGxvYWRQcmV2aWV3VXJsfVwiIGFsdD1cIiR7ZmlsZS5uYW1lfVwiIGNsYXNzPVwiaC1mdWxsIHctZnVsbCByb3VuZGVkLTJ4bCBvYmplY3QtY292ZXJcIiAvPmA7XG4gICAgICB9XG4gICAgICBkZXRhaWxOYW1lICYmIChkZXRhaWxOYW1lLnRleHRDb250ZW50ID0gZmlsZS5uYW1lKTtcbiAgICAgIGRldGFpbFR5cGUgJiYgKGRldGFpbFR5cGUudGV4dENvbnRlbnQgPSBmb3JtYXRUeXBlTGFiZWwoeyB0eXBlOiBmaWxlLnR5cGUsIGZpbGVuYW1lOiBmaWxlLm5hbWUgfSkpO1xuICAgICAgZGV0YWlsU2l6ZSAmJiAoZGV0YWlsU2l6ZS50ZXh0Q29udGVudCA9IGZvcm1hdEZpbGVTaXplKGZpbGUuc2l6ZSkpO1xuICAgICAgaWYgKGRldGFpbEFsdElucHV0ICYmICFkZXRhaWxBbHRJbnB1dC52YWx1ZS50cmltKCkpIHtcbiAgICAgICAgZGV0YWlsQWx0SW5wdXQudmFsdWUgPSBmaWxlLm5hbWUucmVwbGFjZSgvXFwuW14uXSskLywgJycpLnJlcGxhY2UoL1stX10vZywgJyAnKTtcbiAgICAgIH1cbiAgICAgIGRldGFpbFBhdGggJiYgKGRldGFpbFBhdGgudGV4dENvbnRlbnQgPSAnRW4gYXR0ZW50ZSBkZSB0XHUwMEU5bFx1MDBFOXZlcnNlbWVudCcpO1xuICAgICAgaWYgKGRldGFpbFVzZWQpIHtcbiAgICAgICAgZGV0YWlsVXNlZC5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgY29uc3QgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgICBsaS50ZXh0Q29udGVudCA9ICdOb24gdXRpbGlzXHUwMEU5JztcbiAgICAgICAgbGkuY2xhc3NOYW1lID0gJ3RleHQteHMgdGV4dC1zbGF0ZS00MDAnO1xuICAgICAgICBkZXRhaWxVc2VkLmFwcGVuZENoaWxkKGxpKTtcbiAgICAgIH1cbiAgICAgIHVwZGF0ZURldGFpbEFjdGlvbnMoZmFsc2UpO1xuICAgIH07XG5cbiAgICBjb25zdCBhcHBseUZpbHRlcnMgPSAoKSA9PiB7XG4gICAgICBjb25zdCB0eXBlRmlsdGVyID0gZmlsdGVyVHlwZT8udmFsdWUgfHwgJ2FsbCc7XG4gICAgICBpZiAodHlwZUZpbHRlciA9PT0gJ2FsbCcpIHtcbiAgICAgICAgZmlsdGVyZWRJdGVtcyA9IFsuLi5tZWRpYUl0ZW1zXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZpbHRlcmVkSXRlbXMgPSBtZWRpYUl0ZW1zLmZpbHRlcigoaXRlbSkgPT4gaXRlbS5ncm91cFR5cGUgPT09IHR5cGVGaWx0ZXIpO1xuICAgICAgfVxuICAgICAgaWYgKCFmaWx0ZXJlZEl0ZW1zLnNvbWUoKGl0ZW0pID0+IGl0ZW0uaWQgPT09IGFjdGl2ZU1lZGlhSWQpKSB7XG4gICAgICAgIHJlc2V0RGV0YWlsUGFuZWwoKTtcbiAgICAgIH1cbiAgICAgIHVwZGF0ZUNvdW50QmFkZ2UoKTtcbiAgICAgIHJlbmRlckdyaWQoKTtcbiAgICB9O1xuXG4gICAgY29uc3QgbG9hZE1lZGlhID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFtZWRpYUFwaUJhc2UpIHtcbiAgICAgICAgZW1wdHlTdGF0ZT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2gobWVkaWFBcGlCYXNlLCB7XG4gICAgICAgICAgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxlcyBtXHUwMEU5ZGlhcy4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7IGl0ZW1zOiBbXSB9KSk7XG4gICAgICAgIG1lZGlhSXRlbXMgPSBBcnJheS5pc0FycmF5KHBheWxvYWQuaXRlbXMpXG4gICAgICAgICAgPyBwYXlsb2FkLml0ZW1zLm1hcCgoaXRlbSkgPT4gKHsgLi4uaXRlbSwgZ3JvdXBUeXBlOiBkZXJpdmVHcm91cFR5cGUoaXRlbSkgfSkpXG4gICAgICAgICAgOiBbXTtcbiAgICAgICAgYXBwbHlGaWx0ZXJzKCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW21lZGlhXSBsb2FkIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxlcyBtXHUwMEU5ZGlhcy4nKTtcbiAgICAgICAgbWVkaWFJdGVtcyA9IFtdO1xuICAgICAgICBhcHBseUZpbHRlcnMoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgZmlsdGVyVHlwZT8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICAgICAgYXBwbHlGaWx0ZXJzKCk7XG4gICAgfSk7XG4gICAgZGV0YWlsQWx0SW5wdXQ/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgaWYgKHVwbG9hZE1vZGUpIHtcbiAgICAgICAgdXBkYXRlRGV0YWlsQWN0aW9ucyhmYWxzZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghYWN0aXZlTWVkaWFJZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBkZXRhaWxEaXJ0eSA9IHRydWU7XG4gICAgICB1cGRhdGVEZXRhaWxBY3Rpb25zKGZhbHNlKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IGhhbmRsZUZpbGVTZWxlY3Rpb24gPSAoZmlsZSkgPT4ge1xuICAgICAgaWYgKCFmaWxlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghZmlsZS50eXBlLnN0YXJ0c1dpdGgoJ2ltYWdlLycpKSB7XG4gICAgICAgIHNob3dUb2FzdCgnU2V1bGVzIGxlcyBpbWFnZXMgc29udCBhY2NlcHRcdTAwRTllcyBwb3VyIGxlIG1vbWVudC4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGZpbGUuc2l6ZSA+IDQgKiAxMDI0ICogMTAyNCkge1xuICAgICAgICBzaG93VG9hc3QoJ0ZpY2hpZXIgdHJvcCB2b2x1bWluZXV4ICg0IE1vIG1heCkuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHBlbmRpbmdVcGxvYWRGaWxlID0gZmlsZTtcbiAgICAgIHNob3dVcGxvYWRQcmV2aWV3KGZpbGUpO1xuICAgICAgaWYgKHVwbG9hZFN0YXR1cykge1xuICAgICAgICB1cGxvYWRTdGF0dXMudGV4dENvbnRlbnQgPSBgJHtmaWxlLm5hbWV9IFx1MDBCNyAke2Zvcm1hdEZpbGVTaXplKGZpbGUuc2l6ZSl9YDtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgcmVhZEZpbGVBc0Jhc2U2NCA9IChmaWxlKSA9PlxuICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgICByZWFkZXIub25sb2FkID0gKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHJlYWRlci5yZXN1bHQgfHwgJyc7XG4gICAgICAgICAgY29uc3QgWywgYmFzZTY0ID0gJyddID0gU3RyaW5nKHJlc3VsdCkuc3BsaXQoJywnKTtcbiAgICAgICAgICByZXNvbHZlKGJhc2U2NCk7XG4gICAgICAgIH07XG4gICAgICAgIHJlYWRlci5vbmVycm9yID0gKCkgPT4gcmVqZWN0KG5ldyBFcnJvcignSW1wb3NzaWJsZSBkZSBsaXJlIGNlIGZpY2hpZXIuJykpO1xuICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcbiAgICAgIH0pO1xuXG4gICAgY29uc3QgdXBsb2FkU2VsZWN0ZWRNZWRpYSA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghcGVuZGluZ1VwbG9hZEZpbGUgfHwgIW1lZGlhQXBpQmFzZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB1cGxvYWRJblByb2dyZXNzID0gdHJ1ZTtcbiAgICAgIHVwZGF0ZURldGFpbEFjdGlvbnModHJ1ZSk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBiYXNlNjQgPSBhd2FpdCByZWFkRmlsZUFzQmFzZTY0KHBlbmRpbmdVcGxvYWRGaWxlKTtcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgICBmaWxlbmFtZTogcGVuZGluZ1VwbG9hZEZpbGUubmFtZSxcbiAgICAgICAgICB0eXBlOiBwZW5kaW5nVXBsb2FkRmlsZS50eXBlLFxuICAgICAgICAgIHNpemU6IHBlbmRpbmdVcGxvYWRGaWxlLnNpemUsXG4gICAgICAgICAgYWx0OiBkZXRhaWxBbHRJbnB1dD8udmFsdWUgfHwgJycsXG4gICAgICAgICAgZGF0YTogYmFzZTY0LFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKG1lZGlhQXBpQmFzZSwge1xuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnN0IGVycm9yUGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JQYXlsb2FkLm1lc3NhZ2UgfHwgJ1VwbG9hZCBpbXBvc3NpYmxlLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNhdmVkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBzYXZlZC5ncm91cFR5cGUgPSBkZXJpdmVHcm91cFR5cGUoc2F2ZWQpO1xuICAgICAgICBtZWRpYUl0ZW1zID0gWy4uLm1lZGlhSXRlbXMsIHNhdmVkXTtcbiAgICAgICAgaGlnaGxpZ2h0TWVkaWFJZCA9IHNhdmVkLmlkO1xuICAgICAgICBhcHBseUZpbHRlcnMoKTtcbiAgICAgICAgc2VsZWN0TWVkaWEoc2F2ZWQuaWQpO1xuICAgICAgICBzaG93VG9hc3QoJ01cdTAwRTlkaWEgYWpvdXRcdTAwRTknKTtcbiAgICAgICAgY2xlYXJVcGxvYWRTdGF0ZSgpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1ttZWRpYV0gdXBsb2FkIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSB0XHUwMEU5bFx1MDBFOXZlcnNlciBjZSBtXHUwMEU5ZGlhLicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgdXBsb2FkSW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgICAgICBwZW5kaW5nVXBsb2FkRmlsZSA9IG51bGw7XG4gICAgICAgIHVwZGF0ZURldGFpbEFjdGlvbnMoZmFsc2UpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB1cGxvYWRPcGVuQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGZpbGVJbnB1dD8uY2xpY2soKSk7XG4gICAgZmlsZUlucHV0Py5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgICBpZiAoZmlsZUlucHV0LmZpbGVzICYmIGZpbGVJbnB1dC5maWxlc1swXSkge1xuICAgICAgICBoYW5kbGVGaWxlU2VsZWN0aW9uKGZpbGVJbnB1dC5maWxlc1swXSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgY29uc3QgY2xvc2VEZWxldGVNb2RhbCA9ICgpID0+IHtcbiAgICAgIGlmICghZGVsZXRlTW9kYWwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZGVsZXRlTW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBkZWxldGVNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdmbGV4Jyk7XG4gICAgfTtcblxuICAgIGNvbnN0IG9wZW5EZWxldGVNb2RhbCA9ICgpID0+IHtcbiAgICAgIGlmICghYWN0aXZlTWVkaWFJZCB8fCB1cGxvYWRNb2RlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChkZWxldGVNb2RhbCkge1xuICAgICAgICBkZWxldGVNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgZGVsZXRlTW9kYWwuY2xhc3NMaXN0LmFkZCgnZmxleCcpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBGYWxsYmFjayBzaSBhdWN1bmUgbW9kYWxlIG4nZXN0IGRpc3BvbmlibGVcbiAgICAgIGlmICh3aW5kb3cuY29uZmlybSgnU3VwcHJpbWVyIGNlIG1cdTAwRTlkaWEgPycpKSB7XG4gICAgICAgIGRlbGV0ZUFjdGl2ZU1lZGlhKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGRlbGV0ZUFjdGl2ZU1lZGlhID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFhY3RpdmVNZWRpYUlkIHx8ICFtZWRpYUFwaUJhc2UpIHtcbiAgICAgICAgY2xvc2VEZWxldGVNb2RhbCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBkaXNhYmxlQnV0dG9ucyA9ICgpID0+IHtcbiAgICAgICAgaWYgKGRldGFpbERlbGV0ZUJ1dHRvbikge1xuICAgICAgICAgIGRldGFpbERlbGV0ZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlbGV0ZUNvbmZpcm1CdXR0b24pIHtcbiAgICAgICAgICBkZWxldGVDb25maXJtQnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgICBkZWxldGVDb25maXJtQnV0dG9uLnRleHRDb250ZW50ID0gJ1N1cHByZXNzaW9uXHUyMDI2JztcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGNvbnN0IGVuYWJsZUJ1dHRvbnMgPSAoKSA9PiB7XG4gICAgICAgIGlmIChkZXRhaWxEZWxldGVCdXR0b24pIHtcbiAgICAgICAgICBkZXRhaWxEZWxldGVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVsZXRlQ29uZmlybUJ1dHRvbikge1xuICAgICAgICAgIGRlbGV0ZUNvbmZpcm1CdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICBkZWxldGVDb25maXJtQnV0dG9uLnRleHRDb250ZW50ID0gJ1N1cHByaW1lcic7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBkaXNhYmxlQnV0dG9ucygpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgICBgJHttZWRpYUFwaUJhc2V9LyR7ZW5jb2RlVVJJQ29tcG9uZW50KGFjdGl2ZU1lZGlhSWQpfWAsXG4gICAgICAgICAgeyBtZXRob2Q6ICdERUxFVEUnIH0sXG4gICAgICAgICk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihwYXlsb2FkLm1lc3NhZ2UgfHwgJ1N1cHByZXNzaW9uIGltcG9zc2libGUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgbWVkaWFJdGVtcyA9IG1lZGlhSXRlbXMuZmlsdGVyKChpdGVtKSA9PiBpdGVtLmlkICE9PSBhY3RpdmVNZWRpYUlkKTtcbiAgICAgICAgZmlsdGVyZWRJdGVtcyA9IGZpbHRlcmVkSXRlbXMuZmlsdGVyKChpdGVtKSA9PiBpdGVtLmlkICE9PSBhY3RpdmVNZWRpYUlkKTtcbiAgICAgICAgc2hvd1RvYXN0KCdNXHUwMEU5ZGlhIHN1cHByaW1cdTAwRTknKTtcbiAgICAgICAgcmVzZXREZXRhaWxQYW5lbCgpO1xuICAgICAgICB1cGRhdGVDb3VudEJhZGdlKCk7XG4gICAgICAgIHJlbmRlckdyaWQoKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbbWVkaWFdIGRlbGV0ZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgc3VwcHJpbWVyIGNlIG1cdTAwRTlkaWEuJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBlbmFibGVCdXR0b25zKCk7XG4gICAgICAgIGNsb3NlRGVsZXRlTW9kYWwoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgZGVsZXRlQ2FuY2VsQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlRGVsZXRlTW9kYWwpO1xuICAgIGRlbGV0ZU1vZGFsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gZGVsZXRlTW9kYWwpIHtcbiAgICAgICAgY2xvc2VEZWxldGVNb2RhbCgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgZGVsZXRlQ29uZmlybUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBkZWxldGVBY3RpdmVNZWRpYSgpKTtcbiAgICBkZXRhaWxEZWxldGVCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlbkRlbGV0ZU1vZGFsKTtcblxuICAgIGRldGFpbFNhdmVCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKHVwbG9hZE1vZGUpIHtcbiAgICAgICAgdXBsb2FkU2VsZWN0ZWRNZWRpYSgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWFjdGl2ZU1lZGlhSWQgfHwgIW1lZGlhQXBpQmFzZSB8fCAhZGV0YWlsQWx0SW5wdXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdXBkYXRlRGV0YWlsQWN0aW9ucyh0cnVlKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSB7IGFsdDogZGV0YWlsQWx0SW5wdXQudmFsdWUgfHwgJycgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgICBgJHttZWRpYUFwaUJhc2V9LyR7ZW5jb2RlVVJJQ29tcG9uZW50KGFjdGl2ZU1lZGlhSWQpfWAsXG4gICAgICAgICAge1xuICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgICAgfSxcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnN0IGVycm9yUGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JQYXlsb2FkLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgbWV0dHJlIFx1MDBFMCBqb3VyIGNlIG1cdTAwRTlkaWEuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdXBkYXRlZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgbWVkaWFJdGVtcyA9IG1lZGlhSXRlbXMubWFwKChpdGVtKSA9PlxuICAgICAgICAgIGl0ZW0uaWQgPT09IGFjdGl2ZU1lZGlhSWQgPyB7IC4uLml0ZW0sIC4uLnVwZGF0ZWQgfSA6IGl0ZW0sXG4gICAgICAgICk7XG4gICAgICAgIGZpbHRlcmVkSXRlbXMgPSBmaWx0ZXJlZEl0ZW1zLm1hcCgoaXRlbSkgPT5cbiAgICAgICAgICBpdGVtLmlkID09PSBhY3RpdmVNZWRpYUlkID8geyAuLi5pdGVtLCAuLi51cGRhdGVkIH0gOiBpdGVtLFxuICAgICAgICApO1xuICAgICAgICBkZXRhaWxEaXJ0eSA9IGZhbHNlO1xuICAgICAgICB1cGRhdGVEZXRhaWxBY3Rpb25zKGZhbHNlKTtcbiAgICAgICAgc2hvd1RvYXN0KCdNXHUwMEU5ZGlhIG1pcyBcdTAwRTAgam91cicpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1ttZWRpYV0gdXBkYXRlIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnXHUwMEM5Y2hlYyBkZSBsYSBtaXNlIFx1MDBFMCBqb3VyLicpO1xuICAgICAgICB1cGRhdGVEZXRhaWxBY3Rpb25zKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGxvYWRNZWRpYSgpO1xuICB9XG5cbiAgLy8gXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXG4gIC8vIEFJIENIQVQgLSBBc3Npc3RhbnQgSUEgY29udGV4dHVlbFxuICAvLyBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcblxuICBjb25zdCBhaUNoYXRUb2dnbGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWktY2hhdC10b2dnbGUnKTtcbiAgY29uc3QgYWlDaGF0UGFuZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWktY2hhdC1wYW5lbCcpO1xuICBjb25zdCBhaUNoYXRPdmVybGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FpLWNoYXQtb3ZlcmxheScpO1xuICBjb25zdCBhaUNoYXRDbG9zZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhaS1jaGF0LWNsb3NlJyk7XG4gIGNvbnN0IGFpQ2hhdENsZWFyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FpLWNoYXQtY2xlYXInKTtcbiAgY29uc3QgYWlDaGF0Rm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhaS1jaGF0LWZvcm0nKTtcbiAgY29uc3QgYWlDaGF0SW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWktY2hhdC1pbnB1dCcpO1xuICBjb25zdCBhaUNoYXRNZXNzYWdlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhaS1jaGF0LW1lc3NhZ2VzJyk7XG4gIGNvbnN0IGFpQ2hhdFN0YXR1cyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhaS1jaGF0LXN0YXR1cycpO1xuICBjb25zdCBhaUNoYXROb0FwaSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhaS1jaGF0LW5vLWFwaScpO1xuICBjb25zdCBhaVF1aWNrQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWFpLXF1aWNrXScpO1xuXG4gIGxldCBhaUNoYXRPcGVuID0gZmFsc2U7XG4gIGxldCBhaUlzTG9hZGluZyA9IGZhbHNlO1xuICBsZXQgYWlDb25maWdDaGVja2VkID0gZmFsc2U7XG4gIGxldCBhaUhhc0FwaUtleSA9IGZhbHNlO1xuXG4gIC8qKlxuICAgKiBPdXZyZSBsZSBwYW5lbCBkZSBjaGF0IElBXG4gICAqL1xuICBmdW5jdGlvbiBvcGVuQUlDaGF0KCkge1xuICAgIGlmICghYWlDaGF0UGFuZWwpIHJldHVybjtcbiAgICBhaUNoYXRPcGVuID0gdHJ1ZTtcbiAgICBhaUNoYXRQYW5lbC5jbGFzc0xpc3QucmVtb3ZlKCd0cmFuc2xhdGUteC1mdWxsJyk7XG4gICAgYWlDaGF0UGFuZWwuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICdmYWxzZScpO1xuICAgIGFpQ2hhdE92ZXJsYXk/LmNsYXNzTGlzdC5yZW1vdmUoJ29wYWNpdHktMCcsICdwb2ludGVyLWV2ZW50cy1ub25lJyk7XG4gICAgYWlDaGF0T3ZlcmxheT8uY2xhc3NMaXN0LmFkZCgnb3BhY2l0eS0xMDAnKTtcbiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ292ZXJmbG93LWhpZGRlbicpO1xuICAgIGFpQ2hhdElucHV0Py5mb2N1cygpO1xuXG4gICAgLy8gVlx1MDBFOXJpZmllciBsYSBjb25maWcgQUkgYXUgcHJlbWllciBvdXZlcnR1cmVcbiAgICBpZiAoIWFpQ29uZmlnQ2hlY2tlZCkge1xuICAgICAgY2hlY2tBSUNvbmZpZygpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBGZXJtZSBsZSBwYW5lbCBkZSBjaGF0IElBXG4gICAqL1xuICBmdW5jdGlvbiBjbG9zZUFJQ2hhdCgpIHtcbiAgICBpZiAoIWFpQ2hhdFBhbmVsKSByZXR1cm47XG4gICAgYWlDaGF0T3BlbiA9IGZhbHNlO1xuICAgIGFpQ2hhdFBhbmVsLmNsYXNzTGlzdC5hZGQoJ3RyYW5zbGF0ZS14LWZ1bGwnKTtcbiAgICBhaUNoYXRQYW5lbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcbiAgICBhaUNoYXRPdmVybGF5Py5jbGFzc0xpc3QuYWRkKCdvcGFjaXR5LTAnLCAncG9pbnRlci1ldmVudHMtbm9uZScpO1xuICAgIGFpQ2hhdE92ZXJsYXk/LmNsYXNzTGlzdC5yZW1vdmUoJ29wYWNpdHktMTAwJyk7XG4gICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBWXHUwMEU5cmlmaWUgc2kgbCdBUEkgQUkgZXN0IGNvbmZpZ3VyXHUwMEU5ZVxuICAgKi9cbiAgYXN5bmMgZnVuY3Rpb24gY2hlY2tBSUNvbmZpZygpIHtcbiAgICBjb25zdCBzaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyk7XG4gICAgaWYgKCFzaXRlU2x1Zykge1xuICAgICAgYWlDaGF0Tm9BcGk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzaXRlU2x1Zyl9L2NvbmZpZy9haWApO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykgdGhyb3cgbmV3IEVycm9yKCdDb25maWcgY2hlY2sgZmFpbGVkJyk7XG4gICAgICBjb25zdCBjb25maWcgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBhaUNvbmZpZ0NoZWNrZWQgPSB0cnVlO1xuICAgICAgYWlIYXNBcGlLZXkgPSBjb25maWcuaGFzQXBpS2V5O1xuICAgICAgXG4gICAgICBpZiAoIWNvbmZpZy5lbmFibGVkIHx8ICFjb25maWcuaGFzQXBpS2V5KSB7XG4gICAgICAgIGFpQ2hhdE5vQXBpPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFpQ2hhdE5vQXBpPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgLy8gQ2hhcmdlciBsJ2hpc3RvcmlxdWVcbiAgICAgICAgbG9hZEFJQ2hhdEhpc3RvcnkoKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tBSV0gQ29uZmlnIGNoZWNrIGZhaWxlZDonLCBlcnIpO1xuICAgICAgYWlDaGF0Tm9BcGk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDaGFyZ2UgbCdoaXN0b3JpcXVlIGRlIGNvbnZlcnNhdGlvblxuICAgKi9cbiAgYXN5bmMgZnVuY3Rpb24gbG9hZEFJQ2hhdEhpc3RvcnkoKSB7XG4gICAgY29uc3Qgc2l0ZVNsdWcgPSBzdHJpcExlYWRpbmdTbGFzaChzdG9yZWRTaXRlLnNsdWcgfHwgJycpO1xuICAgIGlmICghc2l0ZVNsdWcgfHwgIWFpQ2hhdE1lc3NhZ2VzKSByZXR1cm47XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2l0ZVNsdWcpfS9haS9oaXN0b3J5YCk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSByZXR1cm47XG4gICAgICBcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBpZiAoZGF0YS5tZXNzYWdlcyAmJiBkYXRhLm1lc3NhZ2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgLy8gRWZmYWNlciBsZSBtZXNzYWdlIGRlIGJpZW52ZW51ZVxuICAgICAgICBjb25zdCB3ZWxjb21lTXNnID0gYWlDaGF0TWVzc2FnZXMucXVlcnlTZWxlY3RvcignW2RhdGEtYWktd2VsY29tZV0nKTtcbiAgICAgICAgaWYgKHdlbGNvbWVNc2cpIHdlbGNvbWVNc2cucmVtb3ZlKCk7XG4gICAgICAgIFxuICAgICAgICAvLyBBZmZpY2hlciBsZXMgbWVzc2FnZXNcbiAgICAgICAgZGF0YS5tZXNzYWdlcy5mb3JFYWNoKG1zZyA9PiB7XG4gICAgICAgICAgYXBwZW5kQUlNZXNzYWdlKG1zZy5jb250ZW50LCBtc2cucm9sZSA9PT0gJ3VzZXInID8gJ3VzZXInIDogJ2Fzc2lzdGFudCcpO1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIFNjcm9sbCB2ZXJzIGxlIGJhc1xuICAgICAgICBhaUNoYXRNZXNzYWdlcy5zY3JvbGxUb3AgPSBhaUNoYXRNZXNzYWdlcy5zY3JvbGxIZWlnaHQ7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdbQUldIEhpc3RvcnkgbG9hZCBmYWlsZWQ6JywgZXJyKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQWpvdXRlIHVuIG1lc3NhZ2UgYXUgY2hhdFxuICAgKi9cbiAgZnVuY3Rpb24gYXBwZW5kQUlNZXNzYWdlKGNvbnRlbnQsIHJvbGUgPSAnYXNzaXN0YW50Jykge1xuICAgIGlmICghYWlDaGF0TWVzc2FnZXMpIHJldHVybjtcbiAgICBcbiAgICBjb25zdCBtc2dEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBtc2dEaXYuY2xhc3NOYW1lID0gJ2ZsZXggZ2FwLTMnO1xuICAgIFxuICAgIGlmIChyb2xlID09PSAndXNlcicpIHtcbiAgICAgIG1zZ0Rpdi5pbm5lckhUTUwgPSBgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4LTFcIj48L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm1heC13LVs4MCVdIGJnLXZpb2xldC02MDAgdGV4dC13aGl0ZSByb3VuZGVkLTJ4bCByb3VuZGVkLXRyLW5vbmUgcC0zXCI+XG4gICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXNtIHdoaXRlc3BhY2UtcHJlLXdyYXBcIj4ke2VzY2FwZUh0bWwoY29udGVudCl9PC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInctOCBoLTggcm91bmRlZC1mdWxsIGJnLXNsYXRlLTIwMCBmbGV4LXNocmluay0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgPHN2ZyBjbGFzcz1cInctNCBoLTQgdGV4dC1zbGF0ZS01MDBcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgIDxwYXRoIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE2IDdhNCA0IDAgMTEtOCAwIDQgNCAwIDAxOCAwek0xMiAxNGE3IDcgMCAwMC03IDdoMTRhNyA3IDAgMDAtNy03elwiLz5cbiAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgPC9kaXY+XG4gICAgICBgO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBGb3JtYXR0ZXIgbGUgY29udGVudSBNYXJrZG93biBiYXNpcXVlXG4gICAgICBjb25zdCBmb3JtYXR0ZWRDb250ZW50ID0gZm9ybWF0QUlSZXNwb25zZShjb250ZW50KTtcbiAgICAgIG1zZ0Rpdi5pbm5lckhUTUwgPSBgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJ3LTggaC04IHJvdW5kZWQtZnVsbCBiZy1ncmFkaWVudC10by1iciBmcm9tLXZpb2xldC01MDAgdG8taW5kaWdvLTYwMCBmbGV4LXNocmluay0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgPHN2ZyBjbGFzcz1cInctNCBoLTQgdGV4dC13aGl0ZVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgPHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNOS42NjMgMTdoNC42NzNNMTIgM3YxbTYuMzY0IDEuNjM2bC0uNzA3LjcwN00yMSAxMmgtMU00IDEySDNtMy4zNDMtNS42NTdsLS43MDctLjcwN20yLjgyOCA5LjlhNSA1IDAgMTE3LjA3MiAwbC0uNTQ4LjU0N0EzLjM3NCAzLjM3NCAwIDAwMTQgMTguNDY5VjE5YTIgMiAwIDExLTQgMHYtLjUzMWMwLS44OTUtLjM1Ni0xLjc1NC0uOTg4LTIuMzg2bC0uNTQ4LS41NDd6XCIvPlxuICAgICAgICAgIDwvc3ZnPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImZsZXgtMSBiZy1zbGF0ZS01MCByb3VuZGVkLTJ4bCByb3VuZGVkLXRsLW5vbmUgcC0zIG92ZXJmbG93LXgtYXV0b1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LXNtIHRleHQtc2xhdGUtNzAwIHByb3NlIHByb3NlLXNtIG1heC13LW5vbmUgWyY+cHJlXTpiZy1zbGF0ZS04MDAgWyY+cHJlXTp0ZXh0LXNsYXRlLTEwMCBbJj5wcmVdOnJvdW5kZWQtbGcgWyY+cHJlXTpwLTMgWyY+cHJlXTpvdmVyZmxvdy14LWF1dG8gWyY+Y29kZV06Ymctc2xhdGUtMjAwIFsmPmNvZGVdOnB4LTEgWyY+Y29kZV06cm91bmRlZFwiPiR7Zm9ybWF0dGVkQ29udGVudH08L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICBgO1xuICAgIH1cbiAgICBcbiAgICBhaUNoYXRNZXNzYWdlcy5hcHBlbmRDaGlsZChtc2dEaXYpO1xuICAgIGFpQ2hhdE1lc3NhZ2VzLnNjcm9sbFRvcCA9IGFpQ2hhdE1lc3NhZ2VzLnNjcm9sbEhlaWdodDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZmZpY2hlIHVuIGluZGljYXRldXIgZGUgY2hhcmdlbWVudFxuICAgKi9cbiAgZnVuY3Rpb24gc2hvd0FJTG9hZGluZygpIHtcbiAgICBpZiAoIWFpQ2hhdE1lc3NhZ2VzKSByZXR1cm47XG4gICAgXG4gICAgY29uc3QgbG9hZGluZ0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGxvYWRpbmdEaXYuY2xhc3NOYW1lID0gJ2ZsZXggZ2FwLTMnO1xuICAgIGxvYWRpbmdEaXYuaWQgPSAnYWktbG9hZGluZy1pbmRpY2F0b3InO1xuICAgIGxvYWRpbmdEaXYuaW5uZXJIVE1MID0gYFxuICAgICAgPGRpdiBjbGFzcz1cInctOCBoLTggcm91bmRlZC1mdWxsIGJnLWdyYWRpZW50LXRvLWJyIGZyb20tdmlvbGV0LTUwMCB0by1pbmRpZ28tNjAwIGZsZXgtc2hyaW5rLTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgPHN2ZyBjbGFzcz1cInctNCBoLTQgdGV4dC13aGl0ZSBhbmltYXRlLXB1bHNlXCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgPHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNOS42NjMgMTdoNC42NzNNMTIgM3YxbTYuMzY0IDEuNjM2bC0uNzA3LjcwN00yMSAxMmgtMU00IDEySDNtMy4zNDMtNS42NTdsLS43MDctLjcwN20yLjgyOCA5LjlhNSA1IDAgMTE3LjA3MiAwbC0uNTQ4LjU0N0EzLjM3NCAzLjM3NCAwIDAwMTQgMTguNDY5VjE5YTIgMiAwIDExLTQgMHYtLjUzMWMwLS44OTUtLjM1Ni0xLjc1NC0uOTg4LTIuMzg2bC0uNTQ4LS41NDd6XCIvPlxuICAgICAgICA8L3N2Zz5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cImZsZXgtMSBiZy1zbGF0ZS01MCByb3VuZGVkLTJ4bCByb3VuZGVkLXRsLW5vbmUgcC0zXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ3LTIgaC0yIGJnLXZpb2xldC00MDAgcm91bmRlZC1mdWxsIGFuaW1hdGUtYm91bmNlXCIgc3R5bGU9XCJhbmltYXRpb24tZGVsYXk6IDBtc1wiPjwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ3LTIgaC0yIGJnLXZpb2xldC00MDAgcm91bmRlZC1mdWxsIGFuaW1hdGUtYm91bmNlXCIgc3R5bGU9XCJhbmltYXRpb24tZGVsYXk6IDE1MG1zXCI+PC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInctMiBoLTIgYmctdmlvbGV0LTQwMCByb3VuZGVkLWZ1bGwgYW5pbWF0ZS1ib3VuY2VcIiBzdHlsZT1cImFuaW1hdGlvbi1kZWxheTogMzAwbXNcIj48L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICBgO1xuICAgIFxuICAgIGFpQ2hhdE1lc3NhZ2VzLmFwcGVuZENoaWxkKGxvYWRpbmdEaXYpO1xuICAgIGFpQ2hhdE1lc3NhZ2VzLnNjcm9sbFRvcCA9IGFpQ2hhdE1lc3NhZ2VzLnNjcm9sbEhlaWdodDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWNoZSBsJ2luZGljYXRldXIgZGUgY2hhcmdlbWVudFxuICAgKi9cbiAgZnVuY3Rpb24gaGlkZUFJTG9hZGluZygpIHtcbiAgICBjb25zdCBsb2FkaW5nRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FpLWxvYWRpbmctaW5kaWNhdG9yJyk7XG4gICAgbG9hZGluZ0Rpdj8ucmVtb3ZlKCk7XG4gIH1cblxuICAvKipcbiAgICogRm9ybWF0ZSBsYSByXHUwMEU5cG9uc2UgZGUgbCdJQSAoTWFya2Rvd24gYmFzaXF1ZSlcbiAgICovXG4gIGZ1bmN0aW9uIGZvcm1hdEFJUmVzcG9uc2UodGV4dCkge1xuICAgIGlmICghdGV4dCkgcmV0dXJuICcnO1xuICAgIFxuICAgIC8vIEVzY2FwZSBIVE1MIGQnYWJvcmRcbiAgICBsZXQgZm9ybWF0dGVkID0gZXNjYXBlSHRtbCh0ZXh0KTtcbiAgICBcbiAgICAvLyBDb2RlIGJsb2NrcyBgYGBcbiAgICBmb3JtYXR0ZWQgPSBmb3JtYXR0ZWQucmVwbGFjZSgvYGBgKFxcdyopXFxuKFtcXHNcXFNdKj8pYGBgL2csIChtYXRjaCwgbGFuZywgY29kZSkgPT4ge1xuICAgICAgcmV0dXJuIGA8cHJlIGNsYXNzPVwibGFuZ3VhZ2UtJHtsYW5nIHx8ICd0ZXh0J31cIj48Y29kZT4ke2NvZGUudHJpbSgpfTwvY29kZT48L3ByZT5gO1xuICAgIH0pO1xuICAgIFxuICAgIC8vIElubGluZSBjb2RlIGBcbiAgICBmb3JtYXR0ZWQgPSBmb3JtYXR0ZWQucmVwbGFjZSgvYChbXmBdKylgL2csICc8Y29kZT4kMTwvY29kZT4nKTtcbiAgICBcbiAgICAvLyBCb2xkICoqdGV4dCoqXG4gICAgZm9ybWF0dGVkID0gZm9ybWF0dGVkLnJlcGxhY2UoL1xcKlxcKihbXipdKylcXCpcXCovZywgJzxzdHJvbmc+JDE8L3N0cm9uZz4nKTtcbiAgICBcbiAgICAvLyBJdGFsaWMgKnRleHQqXG4gICAgZm9ybWF0dGVkID0gZm9ybWF0dGVkLnJlcGxhY2UoL1xcKihbXipdKylcXCovZywgJzxlbT4kMTwvZW0+Jyk7XG4gICAgXG4gICAgLy8gVGl0cmVzXG4gICAgZm9ybWF0dGVkID0gZm9ybWF0dGVkLnJlcGxhY2UoL14jIyMgKC4rKSQvZ20sICc8aDQgY2xhc3M9XCJmb250LXNlbWlib2xkIHRleHQtc2xhdGUtOTAwIG10LTMgbWItMVwiPiQxPC9oND4nKTtcbiAgICBmb3JtYXR0ZWQgPSBmb3JtYXR0ZWQucmVwbGFjZSgvXiMjICguKykkL2dtLCAnPGgzIGNsYXNzPVwiZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTkwMCBtdC0zIG1iLTFcIj4kMTwvaDM+Jyk7XG4gICAgZm9ybWF0dGVkID0gZm9ybWF0dGVkLnJlcGxhY2UoL14jICguKykkL2dtLCAnPGgyIGNsYXNzPVwiZm9udC1ib2xkIHRleHQtc2xhdGUtOTAwIG10LTMgbWItMlwiPiQxPC9oMj4nKTtcbiAgICBcbiAgICAvLyBMaXN0ZXNcbiAgICBmb3JtYXR0ZWQgPSBmb3JtYXR0ZWQucmVwbGFjZSgvXi0gKC4rKSQvZ20sICc8bGkgY2xhc3M9XCJtbC00XCI+JDE8L2xpPicpO1xuICAgIGZvcm1hdHRlZCA9IGZvcm1hdHRlZC5yZXBsYWNlKC9eKFxcZCspXFwuICguKykkL2dtLCAnPGxpIGNsYXNzPVwibWwtNFwiPiQyPC9saT4nKTtcbiAgICBcbiAgICAvLyBQYXJhZ3JhcGhlcyAobGlnbmVzIHZpZGVzKVxuICAgIGZvcm1hdHRlZCA9IGZvcm1hdHRlZC5yZXBsYWNlKC9cXG5cXG4vZywgJzwvcD48cCBjbGFzcz1cIm1iLTJcIj4nKTtcbiAgICBmb3JtYXR0ZWQgPSAnPHAgY2xhc3M9XCJtYi0yXCI+JyArIGZvcm1hdHRlZCArICc8L3A+JztcbiAgICBcbiAgICAvLyBOZXR0b3llciBsZXMgPHA+IHZpZGVzXG4gICAgZm9ybWF0dGVkID0gZm9ybWF0dGVkLnJlcGxhY2UoLzxwIGNsYXNzPVwibWItMlwiPjxcXC9wPi9nLCAnJyk7XG4gICAgXG4gICAgcmV0dXJuIGZvcm1hdHRlZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBcdTAwQzljaGFwcGUgbGUgSFRNTFxuICAgKi9cbiAgZnVuY3Rpb24gZXNjYXBlSHRtbCh0ZXh0KSB7XG4gICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZGl2LnRleHRDb250ZW50ID0gdGV4dDtcbiAgICByZXR1cm4gZGl2LmlubmVySFRNTDtcbiAgfVxuXG4gIC8qKlxuICAgKiBFbnZvaWUgdW4gbWVzc2FnZSBhdSBjaGF0IElBXG4gICAqL1xuICBhc3luYyBmdW5jdGlvbiBzZW5kQUlNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICBjb25zdCBzaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyk7XG4gICAgaWYgKCFtZXNzYWdlIHx8ICFzaXRlU2x1ZyB8fCBhaUlzTG9hZGluZykgcmV0dXJuO1xuICAgIFxuICAgIGFpSXNMb2FkaW5nID0gdHJ1ZTtcbiAgICBhaUNoYXRJbnB1dC5kaXNhYmxlZCA9IHRydWU7XG4gICAgXG4gICAgLy8gRWZmYWNlciBsZSBtZXNzYWdlIGRlIGJpZW52ZW51ZSBhdSBwcmVtaWVyIG1lc3NhZ2VcbiAgICBjb25zdCB3ZWxjb21lTXNnID0gYWlDaGF0TWVzc2FnZXM/LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFpLXdlbGNvbWVdJyk7XG4gICAgaWYgKHdlbGNvbWVNc2cpIHdlbGNvbWVNc2cucmVtb3ZlKCk7XG4gICAgXG4gICAgLy8gQWZmaWNoZXIgbGUgbWVzc2FnZSBkZSBsJ3V0aWxpc2F0ZXVyXG4gICAgYXBwZW5kQUlNZXNzYWdlKG1lc3NhZ2UsICd1c2VyJyk7XG4gICAgXG4gICAgLy8gQWZmaWNoZXIgbGUgbG9hZGVyXG4gICAgc2hvd0FJTG9hZGluZygpO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNpdGVTbHVnKX0vYWkvY2hhdGAsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IG1lc3NhZ2UgfSlcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBoaWRlQUlMb2FkaW5nKCk7XG4gICAgICBcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgZXJyb3IgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvci5tZXNzYWdlIHx8ICdFcnJldXIgZGUgY29tbXVuaWNhdGlvbicpO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgXG4gICAgICBpZiAoZGF0YS5yZXNwb25zZSkge1xuICAgICAgICBhcHBlbmRBSU1lc3NhZ2UoZGF0YS5yZXNwb25zZSwgJ2Fzc2lzdGFudCcpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBHXHUwMEU5cmVyIGxlcyBwcm9wb3NpdGlvbnMgZCdcdTAwRTlkaXRpb24gZGUgcGFnZVxuICAgICAgaWYgKGRhdGEuZWRpdFByb3Bvc2FsKSB7XG4gICAgICAgIGFwcGVuZEVkaXRQcm9wb3NhbChkYXRhLmVkaXRQcm9wb3NhbCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEdcdTAwRTlyZXIgbGVzIHByb3Bvc2l0aW9ucyBkZSBtb2RpZmljYXRpb24gZHUgdGhcdTAwRThtZVxuICAgICAgaWYgKGRhdGEudGhlbWVQcm9wb3NhbCkge1xuICAgICAgICBhcHBlbmRUaGVtZVByb3Bvc2FsKGRhdGEudGhlbWVQcm9wb3NhbCk7XG4gICAgICB9XG4gICAgICBcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGhpZGVBSUxvYWRpbmcoKTtcbiAgICAgIGFwcGVuZEFJTWVzc2FnZShgXHUyNzRDIEVycmV1cjogJHtlcnIubWVzc2FnZX1gLCAnYXNzaXN0YW50Jyk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGFpSXNMb2FkaW5nID0gZmFsc2U7XG4gICAgICBhaUNoYXRJbnB1dC5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgYWlDaGF0SW5wdXQuZm9jdXMoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQWZmaWNoZSB1bmUgcHJvcG9zaXRpb24gZCdcdTAwRTlkaXRpb24gYXZlYyBib3V0b25zIGRlIHZhbGlkYXRpb25cbiAgICovXG4gIGZ1bmN0aW9uIGFwcGVuZEVkaXRQcm9wb3NhbChwcm9wb3NhbCkge1xuICAgIGlmICghYWlDaGF0TWVzc2FnZXMgfHwgIXByb3Bvc2FsKSByZXR1cm47XG4gICAgXG4gICAgY29uc3QgcHJvcG9zYWxEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBwcm9wb3NhbERpdi5jbGFzc05hbWUgPSAnZmxleCBnYXAtMyBtdC0yJztcbiAgICBwcm9wb3NhbERpdi5kYXRhc2V0LnByb3Bvc2FsSWQgPSBwcm9wb3NhbC5wcm9wb3NhbElkO1xuICAgIFxuICAgIC8vIENvbnN0cnVpcmUgbGUgclx1MDBFOXN1bVx1MDBFOSBkZXMgY2hhbmdlbWVudHNcbiAgICBsZXQgY2hhbmdlc0h0bWwgPSAnJztcbiAgICBpZiAocHJvcG9zYWwuY2hhbmdlcykge1xuICAgICAgaWYgKHByb3Bvc2FsLmNoYW5nZXMudGl0bGUpIHtcbiAgICAgICAgY2hhbmdlc0h0bWwgKz0gYDxsaT5UaXRyZSBcdTIxOTIgPHN0cm9uZz4ke2VzY2FwZUh0bWwocHJvcG9zYWwuY2hhbmdlcy50aXRsZSl9PC9zdHJvbmc+PC9saT5gO1xuICAgICAgfVxuICAgICAgaWYgKHByb3Bvc2FsLmNoYW5nZXMuZGVzY3JpcHRpb24pIHtcbiAgICAgICAgY2hhbmdlc0h0bWwgKz0gYDxsaT5EZXNjcmlwdGlvbiBcdTIxOTIgJHtlc2NhcGVIdG1sKHByb3Bvc2FsLmNoYW5nZXMuZGVzY3JpcHRpb24uc3Vic3RyaW5nKDAsIDgwKSl9Li4uPC9saT5gO1xuICAgICAgfVxuICAgICAgaWYgKHByb3Bvc2FsLmNoYW5nZXMuc2VvKSB7XG4gICAgICAgIGlmIChwcm9wb3NhbC5jaGFuZ2VzLnNlby5tZXRhVGl0bGUpIHtcbiAgICAgICAgICBjaGFuZ2VzSHRtbCArPSBgPGxpPk1ldGEgdGl0bGUgXHUyMTkyICR7ZXNjYXBlSHRtbChwcm9wb3NhbC5jaGFuZ2VzLnNlby5tZXRhVGl0bGUpfTwvbGk+YDtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvcG9zYWwuY2hhbmdlcy5zZW8ubWV0YURlc2NyaXB0aW9uKSB7XG4gICAgICAgICAgY2hhbmdlc0h0bWwgKz0gYDxsaT5NZXRhIGRlc2NyaXB0aW9uIFx1MjE5MiAke2VzY2FwZUh0bWwocHJvcG9zYWwuY2hhbmdlcy5zZW8ubWV0YURlc2NyaXB0aW9uLnN1YnN0cmluZygwLCA2MCkpfS4uLjwvbGk+YDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHByb3Bvc2FsLmNoYW5nZXMuYmxvY2tVcGRhdGUpIHtcbiAgICAgICAgY2hhbmdlc0h0bWwgKz0gYDxsaT5CbG9jIFwiJHtwcm9wb3NhbC5jaGFuZ2VzLmJsb2NrVXBkYXRlLmJsb2NrSWR9XCIgbW9kaWZpXHUwMEU5PC9saT5gO1xuICAgICAgICBpZiAocHJvcG9zYWwuY2hhbmdlcy5ibG9ja1VwZGF0ZS5zZXR0aW5ncykge1xuICAgICAgICAgIGNvbnN0IHNldHRpbmdzID0gcHJvcG9zYWwuY2hhbmdlcy5ibG9ja1VwZGF0ZS5zZXR0aW5ncztcbiAgICAgICAgICBpZiAoc2V0dGluZ3MudGl0bGUpIGNoYW5nZXNIdG1sICs9IGA8bGkgY2xhc3M9XCJtbC00XCI+XHUyMTkyIHRpdGxlOiAke2VzY2FwZUh0bWwoc2V0dGluZ3MudGl0bGUpfTwvbGk+YDtcbiAgICAgICAgICBpZiAoc2V0dGluZ3MuY29udGVudCkgY2hhbmdlc0h0bWwgKz0gYDxsaSBjbGFzcz1cIm1sLTRcIj5cdTIxOTIgY29udGVudCBtb2RpZmlcdTAwRTk8L2xpPmA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgcHJvcG9zYWxEaXYuaW5uZXJIVE1MID0gYFxuICAgICAgPGRpdiBjbGFzcz1cInctOCBoLTggcm91bmRlZC1mdWxsIGJnLWFtYmVyLTUwMCBmbGV4LXNocmluay0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgIDxzdmcgY2xhc3M9XCJ3LTQgaC00IHRleHQtd2hpdGVcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICA8cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xMSA1SDZhMiAyIDAgMDAtMiAydjExYTIgMiAwIDAwMiAyaDExYTIgMiAwIDAwMi0ydi01bS0xLjQxNC05LjQxNGEyIDIgMCAxMTIuODI4IDIuODI4TDExLjgyOCAxNUg5di0yLjgyOGw4LjU4Ni04LjU4NnpcIi8+XG4gICAgICAgIDwvc3ZnPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwiZmxleC0xIGJnLWFtYmVyLTUwIGJvcmRlciBib3JkZXItYW1iZXItMjAwIHJvdW5kZWQtMnhsIHJvdW5kZWQtdGwtbm9uZSBwLTRcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIG1iLTJcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQteHMgZm9udC1zZW1pYm9sZCB0ZXh0LWFtYmVyLTcwMCBiZy1hbWJlci0xMDAgcHgtMiBweS0wLjUgcm91bmRlZFwiPlByb3Bvc2l0aW9uIGQnXHUwMEU5ZGl0aW9uPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtc2xhdGUtODAwIG1iLTFcIj5QYWdlIDogJHtlc2NhcGVIdG1sKHByb3Bvc2FsLnBhZ2VUaXRsZSB8fCBwcm9wb3NhbC5wYWdlSWQpfTwvcD5cbiAgICAgICAgJHtwcm9wb3NhbC5yZWFzb24gPyBgPHAgY2xhc3M9XCJ0ZXh0LXNtIHRleHQtc2xhdGUtNjAwIG1iLTJcIj4ke2VzY2FwZUh0bWwocHJvcG9zYWwucmVhc29uKX08L3A+YCA6ICcnfVxuICAgICAgICA8dWwgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNjAwIHNwYWNlLXktMSBtYi0zIGxpc3QtZGlzYyBtbC00XCI+XG4gICAgICAgICAgJHtjaGFuZ2VzSHRtbCB8fCAnPGxpPk1vZGlmaWNhdGlvbnMgcHJvcG9zXHUwMEU5ZXM8L2xpPid9XG4gICAgICAgIDwvdWw+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGdhcC0yXCI+XG4gICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgIGNsYXNzPVwiYWktYXBwbHktZWRpdCBweC0zIHB5LTEuNSB0ZXh0LXhzIGZvbnQtbWVkaXVtIHRleHQtd2hpdGUgYmctZW1lcmFsZC02MDAgaG92ZXI6YmctZW1lcmFsZC03MDAgcm91bmRlZC1sZyB0cmFuc2l0aW9uLWNvbG9ycyBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMVwiXG4gICAgICAgICAgICBkYXRhLXByb3Bvc2FsLWlkPVwiJHtwcm9wb3NhbC5wcm9wb3NhbElkfVwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHN2ZyBjbGFzcz1cInctMy41IGgtMy41XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICAgIDxwYXRoIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTUgMTNsNCA0TDE5IDdcIi8+XG4gICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgIEFwcGxpcXVlclxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICBjbGFzcz1cImFpLXJlamVjdC1lZGl0IHB4LTMgcHktMS41IHRleHQteHMgZm9udC1tZWRpdW0gdGV4dC1zbGF0ZS02MDAgYmctc2xhdGUtMTAwIGhvdmVyOmJnLXNsYXRlLTIwMCByb3VuZGVkLWxnIHRyYW5zaXRpb24tY29sb3JzIGZsZXggaXRlbXMtY2VudGVyIGdhcC0xXCJcbiAgICAgICAgICAgIGRhdGEtcHJvcG9zYWwtaWQ9XCIke3Byb3Bvc2FsLnByb3Bvc2FsSWR9XCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8c3ZnIGNsYXNzPVwidy0zLjUgaC0zLjVcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNiAxOEwxOCA2TTYgNmwxMiAxMlwiLz5cbiAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgUmVqZXRlclxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIGA7XG4gICAgXG4gICAgYWlDaGF0TWVzc2FnZXMuYXBwZW5kQ2hpbGQocHJvcG9zYWxEaXYpO1xuICAgIGFpQ2hhdE1lc3NhZ2VzLnNjcm9sbFRvcCA9IGFpQ2hhdE1lc3NhZ2VzLnNjcm9sbEhlaWdodDtcbiAgICBcbiAgICAvLyBBdHRhY2hlciBsZXMgXHUwMEU5dlx1MDBFOW5lbWVudHMgYXV4IGJvdXRvbnNcbiAgICBwcm9wb3NhbERpdi5xdWVyeVNlbGVjdG9yKCcuYWktYXBwbHktZWRpdCcpPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZUFwcGx5RWRpdCk7XG4gICAgcHJvcG9zYWxEaXYucXVlcnlTZWxlY3RvcignLmFpLXJlamVjdC1lZGl0Jyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlUmVqZWN0RWRpdCk7XG4gIH1cblxuICAvKipcbiAgICogQWZmaWNoZSB1bmUgcHJvcG9zaXRpb24gZGUgbW9kaWZpY2F0aW9uIGR1IHRoXHUwMEU4bWUgYXZlYyBib3V0b25zIGRlIHZhbGlkYXRpb25cbiAgICovXG4gIGZ1bmN0aW9uIGFwcGVuZFRoZW1lUHJvcG9zYWwocHJvcG9zYWwpIHtcbiAgICBpZiAoIWFpQ2hhdE1lc3NhZ2VzIHx8ICFwcm9wb3NhbCkgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0IHByb3Bvc2FsRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgcHJvcG9zYWxEaXYuY2xhc3NOYW1lID0gJ2ZsZXggZ2FwLTMgbXQtMic7XG4gICAgcHJvcG9zYWxEaXYuZGF0YXNldC5wcm9wb3NhbElkID0gcHJvcG9zYWwucHJvcG9zYWxJZDtcbiAgICBcbiAgICAvLyBDb25zdHJ1aXJlIGxlIHJcdTAwRTlzdW1cdTAwRTkgZGVzIGNoYW5nZW1lbnRzIGRlIGNvdWxldXJzXG4gICAgbGV0IGNvbG9yc0h0bWwgPSAnJztcbiAgICBpZiAocHJvcG9zYWwuY2hhbmdlcz8uY29sb3JzKSB7XG4gICAgICBjb25zdCBjb2xvcnMgPSBwcm9wb3NhbC5jaGFuZ2VzLmNvbG9ycztcbiAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGNvbG9ycykpIHtcbiAgICAgICAgY29sb3JzSHRtbCArPSBgPGxpIGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInctNCBoLTQgcm91bmRlZCBib3JkZXIgYm9yZGVyLXNsYXRlLTMwMFwiIHN0eWxlPVwiYmFja2dyb3VuZDogJHtnZXRUYWlsd2luZENvbG9yQ3NzKHZhbHVlKX1cIj48L3NwYW4+XG4gICAgICAgICAgPHNwYW4+JHtrZXl9OiA8c3Ryb25nPiR7ZXNjYXBlSHRtbCh2YWx1ZSl9PC9zdHJvbmc+PC9zcGFuPlxuICAgICAgICA8L2xpPmA7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8vIFR5cG9ncmFwaGllc1xuICAgIGxldCB0eXBvSHRtbCA9ICcnO1xuICAgIGlmIChwcm9wb3NhbC5jaGFuZ2VzPy50eXBvZ3JhcGh5KSB7XG4gICAgICBjb25zdCB0eXBvID0gcHJvcG9zYWwuY2hhbmdlcy50eXBvZ3JhcGh5O1xuICAgICAgaWYgKHR5cG8uaGVhZGluZ3MpIHR5cG9IdG1sICs9IGA8bGk+VGl0cmVzIFx1MjE5MiA8c3Ryb25nPiR7ZXNjYXBlSHRtbCh0eXBvLmhlYWRpbmdzKX08L3N0cm9uZz48L2xpPmA7XG4gICAgICBpZiAodHlwby5ib2R5KSB0eXBvSHRtbCArPSBgPGxpPlRleHRlcyBcdTIxOTIgPHN0cm9uZz4ke2VzY2FwZUh0bWwodHlwby5ib2R5KX08L3N0cm9uZz48L2xpPmA7XG4gICAgfVxuICAgIFxuICAgIHByb3Bvc2FsRGl2LmlubmVySFRNTCA9IGBcbiAgICAgIDxkaXYgY2xhc3M9XCJ3LTggaC04IHJvdW5kZWQtZnVsbCBiZy1wdXJwbGUtNTAwIGZsZXgtc2hyaW5rLTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgPHN2ZyBjbGFzcz1cInctNCBoLTQgdGV4dC13aGl0ZVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgIDxwYXRoIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTcgMjFhNCA0IDAgMDEtNC00VjVhMiAyIDAgMDEyLTJoNGEyIDIgMCAwMTIgMnYxMmE0IDQgMCAwMS00IDR6bTAgMGgxMmEyIDIgMCAwMDItMnYtNGEyIDIgMCAwMC0yLTJoLTIuMzQzTTExIDcuMzQzbDEuNjU3LTEuNjU3YTIgMiAwIDAxMi44MjggMGwyLjgyOSAyLjgyOWEyIDIgMCAwMTAgMi44MjhsLTguNDg2IDguNDg1TTcgMTdoLjAxXCIvPlxuICAgICAgICA8L3N2Zz5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cImZsZXgtMSBiZy1wdXJwbGUtNTAgYm9yZGVyIGJvcmRlci1wdXJwbGUtMjAwIHJvdW5kZWQtMnhsIHJvdW5kZWQtdGwtbm9uZSBwLTRcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIG1iLTJcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQteHMgZm9udC1zZW1pYm9sZCB0ZXh0LXB1cnBsZS03MDAgYmctcHVycGxlLTEwMCBweC0yIHB5LTAuNSByb3VuZGVkXCI+TW9kaWZpY2F0aW9uIGR1IHRoXHUwMEU4bWU8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICAke3Byb3Bvc2FsLnJlYXNvbiA/IGA8cCBjbGFzcz1cInRleHQtc20gdGV4dC1zbGF0ZS02MDAgbWItM1wiPiR7ZXNjYXBlSHRtbChwcm9wb3NhbC5yZWFzb24pfTwvcD5gIDogJyd9XG4gICAgICAgICR7Y29sb3JzSHRtbCA/IGBcbiAgICAgICAgICA8cCBjbGFzcz1cInRleHQteHMgZm9udC1tZWRpdW0gdGV4dC1zbGF0ZS03MDAgbWItMVwiPkNvdWxldXJzIDo8L3A+XG4gICAgICAgICAgPHVsIGNsYXNzPVwidGV4dC14cyB0ZXh0LXNsYXRlLTYwMCBzcGFjZS15LTEgbWItM1wiPiR7Y29sb3JzSHRtbH08L3VsPlxuICAgICAgICBgIDogJyd9XG4gICAgICAgICR7dHlwb0h0bWwgPyBgXG4gICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXhzIGZvbnQtbWVkaXVtIHRleHQtc2xhdGUtNzAwIG1iLTFcIj5UeXBvZ3JhcGhpZXMgOjwvcD5cbiAgICAgICAgICA8dWwgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNjAwIHNwYWNlLXktMSBtYi0zIGxpc3QtZGlzYyBtbC00XCI+JHt0eXBvSHRtbH08L3VsPlxuICAgICAgICBgIDogJyd9XG4gICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGdhcC0yXCI+XG4gICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgIGNsYXNzPVwiYWktYXBwbHktdGhlbWUgcHgtMyBweS0xLjUgdGV4dC14cyBmb250LW1lZGl1bSB0ZXh0LXdoaXRlIGJnLXB1cnBsZS02MDAgaG92ZXI6YmctcHVycGxlLTcwMCByb3VuZGVkLWxnIHRyYW5zaXRpb24tY29sb3JzIGZsZXggaXRlbXMtY2VudGVyIGdhcC0xXCJcbiAgICAgICAgICAgIGRhdGEtcHJvcG9zYWwtaWQ9XCIke3Byb3Bvc2FsLnByb3Bvc2FsSWR9XCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8c3ZnIGNsYXNzPVwidy0zLjUgaC0zLjVcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNSAxM2w0IDRMMTkgN1wiLz5cbiAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgQXBwbGlxdWVyXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgIGNsYXNzPVwiYWktcmVqZWN0LXRoZW1lIHB4LTMgcHktMS41IHRleHQteHMgZm9udC1tZWRpdW0gdGV4dC1zbGF0ZS02MDAgYmctc2xhdGUtMTAwIGhvdmVyOmJnLXNsYXRlLTIwMCByb3VuZGVkLWxnIHRyYW5zaXRpb24tY29sb3JzIGZsZXggaXRlbXMtY2VudGVyIGdhcC0xXCJcbiAgICAgICAgICAgIGRhdGEtcHJvcG9zYWwtaWQ9XCIke3Byb3Bvc2FsLnByb3Bvc2FsSWR9XCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8c3ZnIGNsYXNzPVwidy0zLjUgaC0zLjVcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNiAxOEwxOCA2TTYgNmwxMiAxMlwiLz5cbiAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgUmVqZXRlclxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIGA7XG4gICAgXG4gICAgYWlDaGF0TWVzc2FnZXMuYXBwZW5kQ2hpbGQocHJvcG9zYWxEaXYpO1xuICAgIGFpQ2hhdE1lc3NhZ2VzLnNjcm9sbFRvcCA9IGFpQ2hhdE1lc3NhZ2VzLnNjcm9sbEhlaWdodDtcbiAgICBcbiAgICAvLyBBdHRhY2hlciBsZXMgXHUwMEU5dlx1MDBFOW5lbWVudHMgYXV4IGJvdXRvbnNcbiAgICBwcm9wb3NhbERpdi5xdWVyeVNlbGVjdG9yKCcuYWktYXBwbHktdGhlbWUnKT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVBcHBseVRoZW1lKTtcbiAgICBwcm9wb3NhbERpdi5xdWVyeVNlbGVjdG9yKCcuYWktcmVqZWN0LXRoZW1lJyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlUmVqZWN0RWRpdCk7IC8vIFJcdTAwRTl1dGlsaXNlIGxhIG1cdTAwRUFtZSBsb2dpcXVlIGRlIHJlamV0XG4gIH1cbiAgXG4gIC8qKlxuICAgKiBDb252ZXJ0aXQgdW5lIGNvdWxldXIgVGFpbHdpbmQgZW4gQ1NTIGFwcHJveGltYXRpZiBwb3VyIHByZXZpZXdcbiAgICovXG4gIGZ1bmN0aW9uIGdldFRhaWx3aW5kQ29sb3JDc3MoY29sb3JOYW1lKSB7XG4gICAgY29uc3QgY29sb3JzID0ge1xuICAgICAgJ3doaXRlJzogJyNmZmZmZmYnLCAnYmxhY2snOiAnIzAwMDAwMCcsICd0cmFuc3BhcmVudCc6ICd0cmFuc3BhcmVudCcsXG4gICAgICAnc2xhdGUtNTAnOiAnI2Y4ZmFmYycsICdzbGF0ZS0xMDAnOiAnI2YxZjVmOScsICdzbGF0ZS0yMDAnOiAnI2UyZThmMCcsICdzbGF0ZS0zMDAnOiAnI2NiZDVlMScsICdzbGF0ZS00MDAnOiAnIzk0YTNiOCcsICdzbGF0ZS01MDAnOiAnIzY0NzQ4YicsICdzbGF0ZS02MDAnOiAnIzQ3NTU2OScsICdzbGF0ZS03MDAnOiAnIzMzNDE1NScsICdzbGF0ZS04MDAnOiAnIzFlMjkzYicsICdzbGF0ZS05MDAnOiAnIzBmMTcyYScsXG4gICAgICAnZ3JheS01MCc6ICcjZjlmYWZiJywgJ2dyYXktMTAwJzogJyNmM2Y0ZjYnLCAnZ3JheS0yMDAnOiAnI2U1ZTdlYicsICdncmF5LTMwMCc6ICcjZDFkNWRiJywgJ2dyYXktNDAwJzogJyM5Y2EzYWYnLCAnZ3JheS01MDAnOiAnIzZiNzI4MCcsICdncmF5LTYwMCc6ICcjNGI1NTYzJywgJ2dyYXktNzAwJzogJyMzNzQxNTEnLCAnZ3JheS04MDAnOiAnIzFmMjkzNycsICdncmF5LTkwMCc6ICcjMTExODI3JyxcbiAgICAgICd2aW9sZXQtNTAnOiAnI2Y1ZjNmZicsICd2aW9sZXQtMTAwJzogJyNlZGU5ZmUnLCAndmlvbGV0LTIwMCc6ICcjZGRkNmZlJywgJ3Zpb2xldC0zMDAnOiAnI2M0YjVmZCcsICd2aW9sZXQtNDAwJzogJyNhNzhiZmEnLCAndmlvbGV0LTUwMCc6ICcjOGI1Y2Y2JywgJ3Zpb2xldC02MDAnOiAnIzdjM2FlZCcsICd2aW9sZXQtNzAwJzogJyM2ZDI4ZDknLCAndmlvbGV0LTgwMCc6ICcjNWIyMWI2JywgJ3Zpb2xldC05MDAnOiAnIzRjMWQ5NScsXG4gICAgICAncHVycGxlLTUwJzogJyNmYWY1ZmYnLCAncHVycGxlLTEwMCc6ICcjZjNlOGZmJywgJ3B1cnBsZS0yMDAnOiAnI2U5ZDVmZicsICdwdXJwbGUtMzAwJzogJyNkOGI0ZmUnLCAncHVycGxlLTQwMCc6ICcjYzA4NGZjJywgJ3B1cnBsZS01MDAnOiAnI2E4NTVmNycsICdwdXJwbGUtNjAwJzogJyM5MzMzZWEnLCAncHVycGxlLTcwMCc6ICcjN2UyMmNlJywgJ3B1cnBsZS04MDAnOiAnIzZiMjFhOCcsICdwdXJwbGUtOTAwJzogJyM1ODFjODcnLFxuICAgICAgJ2JsdWUtNTAnOiAnI2VmZjZmZicsICdibHVlLTEwMCc6ICcjZGJlYWZlJywgJ2JsdWUtMjAwJzogJyNiZmRiZmUnLCAnYmx1ZS0zMDAnOiAnIzkzYzVmZCcsICdibHVlLTQwMCc6ICcjNjBhNWZhJywgJ2JsdWUtNTAwJzogJyMzYjgyZjYnLCAnYmx1ZS02MDAnOiAnIzI1NjNlYicsICdibHVlLTcwMCc6ICcjMWQ0ZWQ4JywgJ2JsdWUtODAwJzogJyMxZTQwYWYnLCAnYmx1ZS05MDAnOiAnIzFlM2E4YScsXG4gICAgICAnZW1lcmFsZC01MCc6ICcjZWNmZGY1JywgJ2VtZXJhbGQtMTAwJzogJyNkMWZhZTUnLCAnZW1lcmFsZC0yMDAnOiAnI2E3ZjNkMCcsICdlbWVyYWxkLTMwMCc6ICcjNmVlN2I3JywgJ2VtZXJhbGQtNDAwJzogJyMzNGQzOTknLCAnZW1lcmFsZC01MDAnOiAnIzEwYjk4MScsICdlbWVyYWxkLTYwMCc6ICcjMDU5NjY5JywgJ2VtZXJhbGQtNzAwJzogJyMwNDc4NTcnLCAnZW1lcmFsZC04MDAnOiAnIzA2NWY0NicsICdlbWVyYWxkLTkwMCc6ICcjMDY0ZTNiJyxcbiAgICAgICd0ZWFsLTUwJzogJyNmMGZkZmEnLCAndGVhbC0xMDAnOiAnI2NjZmJmMScsICd0ZWFsLTIwMCc6ICcjOTlmNmU0JywgJ3RlYWwtMzAwJzogJyM1ZWVhZDQnLCAndGVhbC00MDAnOiAnIzJkZDRiZicsICd0ZWFsLTUwMCc6ICcjMTRiOGE2JywgJ3RlYWwtNjAwJzogJyMwZDk0ODgnLCAndGVhbC03MDAnOiAnIzBmNzY2ZScsICd0ZWFsLTgwMCc6ICcjMTE1ZTU5JywgJ3RlYWwtOTAwJzogJyMxMzRlNGEnLFxuICAgICAgJ2FtYmVyLTUwJzogJyNmZmZiZWInLCAnYW1iZXItMTAwJzogJyNmZWYzYzcnLCAnYW1iZXItMjAwJzogJyNmZGU2OGEnLCAnYW1iZXItMzAwJzogJyNmY2QzNGQnLCAnYW1iZXItNDAwJzogJyNmYmJmMjQnLCAnYW1iZXItNTAwJzogJyNmNTllMGInLCAnYW1iZXItNjAwJzogJyNkOTc3MDYnLCAnYW1iZXItNzAwJzogJyNiNDUzMDknLCAnYW1iZXItODAwJzogJyM5MjQwMGUnLCAnYW1iZXItOTAwJzogJyM3ODM1MGYnLFxuICAgICAgJ3JlZC01MCc6ICcjZmVmMmYyJywgJ3JlZC0xMDAnOiAnI2ZlZTJlMicsICdyZWQtMjAwJzogJyNmZWNhY2EnLCAncmVkLTMwMCc6ICcjZmNhNWE1JywgJ3JlZC00MDAnOiAnI2Y4NzE3MScsICdyZWQtNTAwJzogJyNlZjQ0NDQnLCAncmVkLTYwMCc6ICcjZGMyNjI2JywgJ3JlZC03MDAnOiAnI2I5MWMxYycsICdyZWQtODAwJzogJyM5OTFiMWInLCAncmVkLTkwMCc6ICcjN2YxZDFkJ1xuICAgIH07XG4gICAgcmV0dXJuIGNvbG9yc1tjb2xvck5hbWVdIHx8ICcjOUM2QkZGJztcbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBsaXF1ZSB1bmUgcHJvcG9zaXRpb24gZGUgbW9kaWZpY2F0aW9uIGR1IHRoXHUwMEU4bWVcbiAgICovXG4gIGFzeW5jIGZ1bmN0aW9uIGhhbmRsZUFwcGx5VGhlbWUoZSkge1xuICAgIGNvbnN0IHByb3Bvc2FsSWQgPSBlLnRhcmdldC5jbG9zZXN0KCdbZGF0YS1wcm9wb3NhbC1pZF0nKT8uZGF0YXNldC5wcm9wb3NhbElkO1xuICAgIGNvbnN0IHNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goc3RvcmVkU2l0ZS5zbHVnIHx8ICcnKTtcbiAgICBpZiAoIXByb3Bvc2FsSWQgfHwgIXNpdGVTbHVnKSByZXR1cm47XG4gICAgXG4gICAgY29uc3QgYnRuID0gZS50YXJnZXQuY2xvc2VzdCgnYnV0dG9uJyk7XG4gICAgYnRuLmRpc2FibGVkID0gdHJ1ZTtcbiAgICBidG4uaW5uZXJIVE1MID0gJzxzcGFuIGNsYXNzPVwiYW5pbWF0ZS1zcGluXCI+XHUyM0YzPC9zcGFuPiBBcHBsaWNhdGlvbi4uLic7XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2l0ZVNsdWcpfS9haS9hcHBseS10aGVtZWAsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHByb3Bvc2FsSWQgfSlcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgXG4gICAgICBpZiAocmVzcG9uc2Uub2sgJiYgZGF0YS5zdWNjZXNzKSB7XG4gICAgICAgIC8vIFJlbXBsYWNlciBsYSBjYXJkIHBhciB1biBtZXNzYWdlIGRlIHN1Y2NcdTAwRThzXG4gICAgICAgIGNvbnN0IHByb3Bvc2FsQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXByb3Bvc2FsLWlkPVwiJHtwcm9wb3NhbElkfVwiXWApO1xuICAgICAgICBpZiAocHJvcG9zYWxDYXJkKSB7XG4gICAgICAgICAgcHJvcG9zYWxDYXJkLmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ3LTggaC04IHJvdW5kZWQtZnVsbCBiZy1wdXJwbGUtNTAwIGZsZXgtc2hyaW5rLTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgPHN2ZyBjbGFzcz1cInctNCBoLTQgdGV4dC13aGl0ZVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgICAgIDxwYXRoIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTUgMTNsNCA0TDE5IDdcIi8+XG4gICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleC0xIGJnLXB1cnBsZS01MCBib3JkZXIgYm9yZGVyLXB1cnBsZS0yMDAgcm91bmRlZC0yeGwgcm91bmRlZC10bC1ub25lIHAtM1wiPlxuICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQtc20gdGV4dC1wdXJwbGUtNzAwXCI+XHUyNzA1IFRoXHUwMEU4bWUgbWlzIFx1MDBFMCBqb3VyIGF2ZWMgc3VjY1x1MDBFOHMgITwvcD5cbiAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtcHVycGxlLTYwMCBtdC0xXCI+UmVjaGFyZ2V6IGxhIHByZXZpZXcgcG91ciB2b2lyIGxlcyBjaGFuZ2VtZW50cy48L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICBgO1xuICAgICAgICB9XG4gICAgICAgIHNob3dUb2FzdCgnVGhcdTAwRThtZSBtaXMgXHUwMEUwIGpvdXIgIScpO1xuICAgICAgICBcbiAgICAgICAgLy8gRFx1MDBFOWNsZW5jaGVyIHVuIFx1MDBFOXZcdTAwRTluZW1lbnQgcGVyc29ubmFsaXNcdTAwRTkgcG91ciByYWZyYVx1MDBFRWNoaXJcbiAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ2FpLXRoZW1lLXVwZGF0ZWQnLCB7XG4gICAgICAgICAgZGV0YWlsOiB7IHVwZGF0ZWRUaGVtZTogZGF0YS51cGRhdGVkVGhlbWUgfVxuICAgICAgICB9KSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZGF0YS5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsXFwnYXBwbGljYXRpb24nKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGJ0bi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgYnRuLmlubmVySFRNTCA9IGA8c3ZnIGNsYXNzPVwidy0zLjUgaC0zLjVcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk01IDEzbDQgNEwxOSA3XCIvPjwvc3ZnPiBSXHUwMEU5ZXNzYXllcmA7XG4gICAgICBzaG93VG9hc3QoYEVycmV1cjogJHtlcnIubWVzc2FnZX1gKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQXBwbGlxdWUgdW5lIHByb3Bvc2l0aW9uIGQnXHUwMEU5ZGl0aW9uIHZhbGlkXHUwMEU5ZVxuICAgKi9cbiAgYXN5bmMgZnVuY3Rpb24gaGFuZGxlQXBwbHlFZGl0KGUpIHtcbiAgICBjb25zdCBwcm9wb3NhbElkID0gZS50YXJnZXQuY2xvc2VzdCgnW2RhdGEtcHJvcG9zYWwtaWRdJyk/LmRhdGFzZXQucHJvcG9zYWxJZDtcbiAgICBjb25zdCBzaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyk7XG4gICAgaWYgKCFwcm9wb3NhbElkIHx8ICFzaXRlU2x1ZykgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0IGJ0biA9IGUudGFyZ2V0LmNsb3Nlc3QoJ2J1dHRvbicpO1xuICAgIGJ0bi5kaXNhYmxlZCA9IHRydWU7XG4gICAgYnRuLmlubmVySFRNTCA9ICc8c3BhbiBjbGFzcz1cImFuaW1hdGUtc3BpblwiPlx1MjNGMzwvc3Bhbj4gQXBwbGljYXRpb24uLi4nO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNpdGVTbHVnKX0vYWkvYXBwbHktZWRpdGAsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHByb3Bvc2FsSWQgfSlcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgXG4gICAgICBpZiAocmVzcG9uc2Uub2sgJiYgZGF0YS5zdWNjZXNzKSB7XG4gICAgICAgIC8vIFJlbXBsYWNlciBsYSBjYXJkIHBhciB1biBtZXNzYWdlIGRlIHN1Y2NcdTAwRThzXG4gICAgICAgIGNvbnN0IHByb3Bvc2FsQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXByb3Bvc2FsLWlkPVwiJHtwcm9wb3NhbElkfVwiXWApO1xuICAgICAgICBpZiAocHJvcG9zYWxDYXJkKSB7XG4gICAgICAgICAgcHJvcG9zYWxDYXJkLmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ3LTggaC04IHJvdW5kZWQtZnVsbCBiZy1lbWVyYWxkLTUwMCBmbGV4LXNocmluay0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJ3LTQgaC00IHRleHQtd2hpdGVcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgICAgICA8cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk01IDEzbDQgNEwxOSA3XCIvPlxuICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXgtMSBiZy1lbWVyYWxkLTUwIGJvcmRlciBib3JkZXItZW1lcmFsZC0yMDAgcm91bmRlZC0yeGwgcm91bmRlZC10bC1ub25lIHAtM1wiPlxuICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQtc20gdGV4dC1lbWVyYWxkLTcwMFwiPlx1MjcwNSBNb2RpZmljYXRpb25zIGFwcGxpcXVcdTAwRTllcyBhdmVjIHN1Y2NcdTAwRThzICE8L3A+XG4gICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC14cyB0ZXh0LWVtZXJhbGQtNjAwIG10LTFcIj5MYSBwcmV2aWV3IHNlIG1ldCBcdTAwRTAgam91ciBhdXRvbWF0aXF1ZW1lbnQuPC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgYDtcbiAgICAgICAgfVxuICAgICAgICBzaG93VG9hc3QoJ01vZGlmaWNhdGlvbnMgYXBwbGlxdVx1MDBFOWVzICEnKTtcbiAgICAgICAgXG4gICAgICAgIC8vIERcdTAwRTljbGVuY2hlciB1biBcdTAwRTl2XHUwMEU5bmVtZW50IHBlcnNvbm5hbGlzXHUwMEU5IHBvdXIgcmFmcmFcdTAwRUVjaGlyIGxhIHByZXZpZXdcbiAgICAgICAgY29uc3QgcGFnZUlkID0gZGF0YS51cGRhdGVkUGFnZT8uaWQgfHwgbnVsbDtcbiAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ2FpLXBhZ2UtdXBkYXRlZCcsIHtcbiAgICAgICAgICBkZXRhaWw6IHsgcGFnZUlkLCB1cGRhdGVkUGFnZTogZGF0YS51cGRhdGVkUGFnZSB9XG4gICAgICAgIH0pKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihkYXRhLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGRlIGxcXCdhcHBsaWNhdGlvbicpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgYnRuLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICBidG4uaW5uZXJIVE1MID0gYDxzdmcgY2xhc3M9XCJ3LTMuNSBoLTMuNVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTUgMTNsNCA0TDE5IDdcIi8+PC9zdmc+IFJcdTAwRTllc3NheWVyYDtcbiAgICAgIHNob3dUb2FzdChgRXJyZXVyOiAke2Vyci5tZXNzYWdlfWApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZWpldHRlIHVuZSBwcm9wb3NpdGlvbiBkJ1x1MDBFOWRpdGlvblxuICAgKi9cbiAgYXN5bmMgZnVuY3Rpb24gaGFuZGxlUmVqZWN0RWRpdChlKSB7XG4gICAgY29uc3QgcHJvcG9zYWxJZCA9IGUudGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLXByb3Bvc2FsLWlkXScpPy5kYXRhc2V0LnByb3Bvc2FsSWQ7XG4gICAgY29uc3Qgc2l0ZVNsdWcgPSBzdHJpcExlYWRpbmdTbGFzaChzdG9yZWRTaXRlLnNsdWcgfHwgJycpO1xuICAgIGlmICghcHJvcG9zYWxJZCB8fCAhc2l0ZVNsdWcpIHJldHVybjtcbiAgICBcbiAgICB0cnkge1xuICAgICAgYXdhaXQgZmV0Y2goYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2l0ZVNsdWcpfS9haS9wcm9wb3NhbC8ke3Byb3Bvc2FsSWR9YCwge1xuICAgICAgICBtZXRob2Q6ICdERUxFVEUnXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgLy8gUmVtcGxhY2VyIGxhIGNhcmQgcGFyIHVuIG1lc3NhZ2UgZGUgcmVqZXRcbiAgICAgIGNvbnN0IHByb3Bvc2FsQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXByb3Bvc2FsLWlkPVwiJHtwcm9wb3NhbElkfVwiXWApO1xuICAgICAgaWYgKHByb3Bvc2FsQ2FyZCkge1xuICAgICAgICBwcm9wb3NhbENhcmQuaW5uZXJIVE1MID0gYFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ3LTggaC04IHJvdW5kZWQtZnVsbCBiZy1zbGF0ZS00MDAgZmxleC1zaHJpbmstMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgPHN2ZyBjbGFzcz1cInctNCBoLTQgdGV4dC13aGl0ZVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgICA8cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk02IDE4TDE4IDZNNiA2bDEyIDEyXCIvPlxuICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXgtMSBiZy1zbGF0ZS0xMDAgcm91bmRlZC0yeGwgcm91bmRlZC10bC1ub25lIHAtM1wiPlxuICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXNtIHRleHQtc2xhdGUtNTAwXCI+UHJvcG9zaXRpb24gcmVqZXRcdTAwRTllLjwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgYDtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tBSV0gUmVqZWN0IGVkaXQgZXJyb3I6JywgZXJyKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRWZmYWNlIGwnaGlzdG9yaXF1ZSBkdSBjaGF0XG4gICAqL1xuICBhc3luYyBmdW5jdGlvbiBjbGVhckFJSGlzdG9yeSgpIHtcbiAgICBjb25zdCBzaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyk7XG4gICAgaWYgKCFzaXRlU2x1ZyB8fCAhYWlDaGF0TWVzc2FnZXMpIHJldHVybjtcbiAgICBcbiAgICB0cnkge1xuICAgICAgYXdhaXQgZmV0Y2goYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2l0ZVNsdWcpfS9haS9oaXN0b3J5YCwgeyBtZXRob2Q6ICdERUxFVEUnIH0pO1xuICAgICAgXG4gICAgICAvLyBWaWRlciBsZXMgbWVzc2FnZXNcbiAgICAgIGFpQ2hhdE1lc3NhZ2VzLmlubmVySFRNTCA9ICcnO1xuICAgICAgXG4gICAgICAvLyBSXHUwMEU5YWZmaWNoZXIgbGUgbWVzc2FnZSBkZSBiaWVudmVudWVcbiAgICAgIGFpQ2hhdE1lc3NhZ2VzLmlubmVySFRNTCA9IGBcbiAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggZ2FwLTNcIiBkYXRhLWFpLXdlbGNvbWU+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInctOCBoLTggcm91bmRlZC1mdWxsIGJnLWdyYWRpZW50LXRvLWJyIGZyb20tdmlvbGV0LTUwMCB0by1pbmRpZ28tNjAwIGZsZXgtc2hyaW5rLTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJ3LTQgaC00IHRleHQtd2hpdGVcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNOS42NjMgMTdoNC42NzNNMTIgM3YxbTYuMzY0IDEuNjM2bC0uNzA3LjcwN00yMSAxMmgtMU00IDEySDNtMy4zNDMtNS42NTdsLS43MDctLjcwN20yLjgyOCA5LjlhNSA1IDAgMTE3LjA3MiAwbC0uNTQ4LjU0N0EzLjM3NCAzLjM3NCAwIDAwMTQgMTguNDY5VjE5YTIgMiAwIDExLTQgMHYtLjUzMWMwLS44OTUtLjM1Ni0xLjc1NC0uOTg4LTIuMzg2bC0uNTQ4LS41NDd6XCIvPlxuICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXgtMSBiZy1zbGF0ZS01MCByb3VuZGVkLTJ4bCByb3VuZGVkLXRsLW5vbmUgcC0zXCI+XG4gICAgICAgICAgICA8cCBjbGFzcz1cInRleHQtc20gdGV4dC1zbGF0ZS03MDBcIj5cbiAgICAgICAgICAgICAgU2FsdXQgISBcdUQ4M0RcdURDNEIgSmUgc3VpcyB0b24gYXNzaXN0YW50IElBIHBvdXIgY2Ugc2l0ZS4gSmUgcGV1eCB0J2FpZGVyIFx1MDBFMCA6XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8dWwgY2xhc3M9XCJtdC0yIHRleHQtc20gdGV4dC1zbGF0ZS02MDAgc3BhY2UteS0xXCI+XG4gICAgICAgICAgICAgIDxsaT5cdUQ4M0NcdURGQTggU3VnZ1x1MDBFOXJlciBkZXMgcGFsZXR0ZXMgZGUgY291bGV1cnM8L2xpPlxuICAgICAgICAgICAgICA8bGk+XHUyNzBEXHVGRTBGIEdcdTAwRTluXHUwMEU5cmVyIGR1IGNvbnRlbnUgcG91ciB0ZXMgYmxvY3M8L2xpPlxuICAgICAgICAgICAgICA8bGk+XHVEODNEXHVEQ0M0IENyXHUwMEU5ZXIgZGVzIHN0cnVjdHVyZXMgZGUgcGFnZXM8L2xpPlxuICAgICAgICAgICAgICA8bGk+XHVEODNEXHVERDBEIEFtXHUwMEU5bGlvcmVyIHRvbiBTRU88L2xpPlxuICAgICAgICAgICAgICA8bGk+XHUyNzBGXHVGRTBGIDxzdHJvbmc+QW5hbHlzZXIgZXQgbW9kaWZpZXIgdGVzIHBhZ2VzPC9zdHJvbmc+IChhdmVjIHZhbGlkYXRpb24pPC9saT5cbiAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgYDtcbiAgICAgIFxuICAgICAgc2hvd1RvYXN0KCdIaXN0b3JpcXVlIGVmZmFjXHUwMEU5Jyk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdbQUldIENsZWFyIGhpc3RvcnkgZmFpbGVkOicsIGVycik7XG4gICAgICBzaG93VG9hc3QoJ0VycmV1ciBsb3JzIGRlIGxcXCdlZmZhY2VtZW50Jyk7XG4gICAgfVxuICB9XG5cbiAgLy8gUHJvbXB0cyByYXBpZGVzXG4gIGNvbnN0IHF1aWNrUHJvbXB0cyA9IHtcbiAgICBjb2xvcnM6ICdTdWdnXHUwMEU4cmUtbW9pIDMgcGFsZXR0ZXMgZGUgY291bGV1cnMgaGFybW9uaWV1c2VzIHBvdXIgbW9uIHNpdGUuIFBvdXIgY2hhcXVlIHBhbGV0dGUsIGRvbm5lIGxlcyBjb3VsZXVycyBUYWlsd2luZDogcHJpbWFyeSwgc2Vjb25kYXJ5LCBhY2NlbnQsIGV0IGJhY2tncm91bmQuJyxcbiAgICBoZXJvOiAnR1x1MDBFOW5cdTAwRThyZSB1biBibG9jIEhlcm8gZW4gSlNPTiBhdmVjIHVuIHRpdHJlIGFjY3JvY2hldXIsIHVuIHNvdXMtdGl0cmUgZW5nYWdlYW50IGV0IHVuIENUQS4nLFxuICAgIHNlbzogJ0FuYWx5c2UgbW9uIHNpdGUgZXQgc3VnZ1x1MDBFOHJlIGRlcyBhbVx1MDBFOWxpb3JhdGlvbnMgU0VPIHBvdXIgbGUgbWV0YSB0aXRsZSBldCBsYSBtZXRhIGRlc2NyaXB0aW9uIGRlIG1hIHBhZ2UgZFxcJ2FjY3VlaWwuJyxcbiAgICBsYW5kaW5nOiAnR1x1MDBFOW5cdTAwRThyZSBsYSBzdHJ1Y3R1cmUgSlNPTiBkXFwndW5lIGxhbmRpbmcgcGFnZSBjb21wbFx1MDBFOHRlIGF2ZWM6IEhlcm8sIDMgc2VjdGlvbnMgZGUgY29udGVudSwgZXQgdW4gQ1RBIGZpbmFsLicsXG4gICAgYW5hbHl6ZTogJ0FuYWx5c2UgbGUgY29udGVudSBkZSB0b3V0ZXMgbWVzIHBhZ2VzIGV0IHByb3Bvc2UgZGVzIGFtXHUwMEU5bGlvcmF0aW9ucyBjb25jclx1MDBFOHRlcy4gUG91ciBjaGFxdWUgc3VnZ2VzdGlvbiBkXFwnYW1cdTAwRTlsaW9yYXRpb24gZGUgdGV4dGUgb3UgZGUgc3RydWN0dXJlLCB1dGlsaXNlIGxlIGZvcm1hdCBwcm9wb3NlLWVkaXQgcG91ciBxdWUgamUgcHVpc3NlIHZhbGlkZXIuJyxcbiAgICBpbXByb3ZlSG9tZTogJ0FuYWx5c2UgbWEgcGFnZSBkXFwnYWNjdWVpbCBldCBwcm9wb3NlIHVuZSBhbVx1MDBFOWxpb3JhdGlvbiBkdSB0aXRyZSBvdSBkdSBIZXJvIHBvdXIgbGUgcmVuZHJlIHBsdXMgaW1wYWN0YW50LiBVdGlsaXNlIGxlIGZvcm1hdCBwcm9wb3NlLWVkaXQuJ1xuICB9O1xuXG4gIC8vIEV2ZW50IGxpc3RlbmVyc1xuICBhaUNoYXRUb2dnbGU/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGlmIChhaUNoYXRPcGVuKSB7XG4gICAgICBjbG9zZUFJQ2hhdCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvcGVuQUlDaGF0KCk7XG4gICAgfVxuICB9KTtcblxuICBhaUNoYXRDbG9zZT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZUFJQ2hhdCk7XG4gIGFpQ2hhdE92ZXJsYXk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VBSUNoYXQpO1xuXG4gIGFpQ2hhdENsZWFyPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBpZiAoY29uZmlybSgnRWZmYWNlciB0b3V0IGxcXCdoaXN0b3JpcXVlIGRlIGNvbnZlcnNhdGlvbiA/JykpIHtcbiAgICAgIGNsZWFyQUlIaXN0b3J5KCk7XG4gICAgfVxuICB9KTtcblxuICBhaUNoYXRGb3JtPy5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCBtZXNzYWdlID0gYWlDaGF0SW5wdXQ/LnZhbHVlPy50cmltKCk7XG4gICAgaWYgKG1lc3NhZ2UpIHtcbiAgICAgIGFpQ2hhdElucHV0LnZhbHVlID0gJyc7XG4gICAgICBzZW5kQUlNZXNzYWdlKG1lc3NhZ2UpO1xuICAgIH1cbiAgfSk7XG5cbiAgYWlRdWlja0J1dHRvbnMuZm9yRWFjaChidG4gPT4ge1xuICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IGFjdGlvbiA9IGJ0bi5kYXRhc2V0LmFpUXVpY2s7XG4gICAgICBjb25zdCBwcm9tcHQgPSBxdWlja1Byb21wdHNbYWN0aW9uXTtcbiAgICAgIGlmIChwcm9tcHQpIHtcbiAgICAgICAgc2VuZEFJTWVzc2FnZShwcm9tcHQpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcblxuICAvLyBGZXJtZXIgYXZlYyBFc2NhcGVcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChlKSA9PiB7XG4gICAgaWYgKGUua2V5ID09PSAnRXNjYXBlJyAmJiBhaUNoYXRPcGVuKSB7XG4gICAgICBjbG9zZUFJQ2hhdCgpO1xuICAgIH1cbiAgfSk7XG59KTtcbiJdLAogICJtYXBwaW5ncyI6ICJNQUFBLFNBQVMsaUJBQWlCLG1CQUFvQixJQUFNLENBQ2xELFFBQVEsSUFBSSwyQkFBd0IsRUFDcEMsSUFBTUEsR0FBZSxTQUFT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SUFBQSxNQUFBQSxHQUFjLGlCQUFpQixRQUFTLElBQU0sQ0FDeENXLEdBQ0ZNLEdBQVksRUFFWkYsR0FBVyxDQUVmLEdBRUFaLElBQUEsTUFBQUEsR0FBYSxpQkFBaUIsUUFBU2MsSUFDdkNmLElBQUEsTUFBQUEsR0FBZSxpQkFBaUIsUUFBU2UsSUFFekNiLElBQUEsTUFBQUEsR0FBYSxpQkFBaUIsUUFBUyxJQUFNLENBQ3ZDLFFBQVEsNkNBQThDLEdBQ3hEZ0QsR0FBZSxDQUVuQixHQUVBL0MsSUFBQSxNQUFBQSxHQUFZLGlCQUFpQixTQUFXamUsR0FBTSxDQTlnT2hELElBQUExVSxFQStnT0kwVSxFQUFFLGVBQWUsRUFDakIsSUFBTTdTLEdBQVU3QixFQUFBNHlCLElBQUEsWUFBQUEsR0FBYSxRQUFiLFlBQUE1eUIsRUFBb0IsT0FDaEM2QixJQUNGK3dCLEdBQVksTUFBUSxHQUNwQjZCLEdBQWM1eUIsQ0FBTyxFQUV6QixHQUVBbXhCLEdBQWUsUUFBUXBYLEdBQU8sQ0FDNUJBLEVBQUksaUJBQWlCLFFBQVMsSUFBTSxDQUNsQyxJQUFNc00sRUFBU3RNLEVBQUksUUFBUSxRQUNyQmdhLEVBQVNELEdBQWF6TixDQUFNLEVBQzlCME4sR0FDRm5CLEdBQWNtQixDQUFNLENBRXhCLENBQUMsQ0FDSCxDQUFDLEVBR0QsU0FBUyxpQkFBaUIsVUFBWWxoQixHQUFNLENBQ3RDQSxFQUFFLE1BQVEsVUFBWXVlLElBQ3hCTSxHQUFZLENBRWhCLENBQUMsQ0FDSCxDQUFDIiwKICAibmFtZXMiOiBbImxvZ291dEJ1dHRvbiIsICJlcnIiLCAic2lkZWJhciIsICJzaWRlYmFyT3ZlcmxheSIsICJzaWRlYmFyVG9nZ2xlcyIsICJzaWRlYmFyQ2xvc2VCdXR0b25zIiwgImJvZHkiLCAic2lkZWJhck9wZW4iLCAiYXBwbHlTaWRlYmFyU3RhdGUiLCAib3BlblNpZGViYXIiLCAiY2xvc2VTaWRlYmFyIiwgImJ1dHRvbiIsICJldmVudCIsICJBQ1RJVkVfU0lURV9LRVkiLCAiQUNUSVZFX1NJVEVfTkFNRV9LRVkiLCAic3RvcmVkU2l0ZSIsICJzaXRlQ2FyZHMiLCAic2l0ZVNlbGVjdEJ1dHRvbnMiLCAic2l0ZU5hbWVMYWJlbCIsICJ3b3Jrc3BhY2VTaXRlTGFiZWwiLCAid29ya3NwYWNlQmFja05hbWUiLCAid29ya3NwYWNlQmFja01vZGFsIiwgIndvcmtzcGFjZUJhY2tCdXR0b25zIiwgIndvcmtzcGFjZUJhY2tDYW5jZWwiLCAid29ya3NwYWNlQmFja0NvbmZpcm0iLCAid29ya3NwYWNlTmF2TGlua3MiLCAic2l0ZVRvYXN0IiwgInNpdGVUb2FzdE1lc3NhZ2UiLCAic2l0ZUNyZWF0ZUJ1dHRvbnMiLCAic2l0ZU1vZGFsIiwgInNpdGVGb3JtIiwgInNpdGVOYW1lSW5wdXQiLCAic2l0ZVNsdWdJbnB1dCIsICJzaXRlU2x1Z0Vycm9yIiwgInNpdGVNb2RhbEVycm9yIiwgInNpdGVNb2RhbENhbmNlbEJ1dHRvbnMiLCAic2l0ZU1vZGFsU3VibWl0QnV0dG9uIiwgIndvcmtzcGFjZUNvbnRleHQiLCAiZ2V0V29ya3NwYWNlQ29udGV4dCIsICJzbHVnTWFudWFsbHlFZGl0ZWQiLCAidG9hc3RUaW1lb3V0SWQiLCAiZm9jdXNhYmxlU2VsZWN0b3IiLCAibW9kYWxTdGFjayIsICJnZXRGb2N1c2FibGVFbGVtZW50cyIsICJtb2RhbCIsICJlbCIsICJoYW5kbGVNb2RhbEtleWRvd24iLCAiY3VycmVudEVudHJ5IiwgIm9uQ2xvc2UiLCAiZm9jdXNhYmxlRWxlbWVudHMiLCAiZmlyc3QiLCAibGFzdCIsICJhY3RpdmF0ZU1vZGFsIiwgImZvY3VzYWJsZSIsICJfYSIsICJfYiIsICJkZWFjdGl2YXRlTW9kYWwiLCAiaW5kZXgiLCAiZW50cnkiLCAibW9iaWxlUGFuZWxPdmVybGF5IiwgIm1vYmlsZVBhbmVsTGF5ZXIiLCAibW9iaWxlUGFuZWxzIiwgIm1vYmlsZVBhbmVsVG9nZ2xlcyIsICJtb2JpbGVQYW5lbENsb3NlQnV0dG9ucyIsICJtb2JpbGVQYW5lbFRyaWdnZXJzIiwgImFjdGl2ZU1vYmlsZVBhbmVsIiwgImlzRGVza3RvcFZpZXdwb3J0IiwgImFwcGx5UGFuZWxDbGFzc2VzIiwgInBhbmVsIiwgImNsYXNzZXMiLCAibWV0aG9kIiwgImNscyIsICJzZXRQYW5lbEhpZGRlblN0YXRlIiwgImhpZGRlbiIsICJoaWRkZW5DbGFzc2VzIiwgInZpc2libGVDbGFzc2VzIiwgImNsb3NlTW9iaWxlUGFuZWwiLCAic2lkZSIsICJ0cmlnZ2VyIiwgIm9wZW5Nb2JpbGVQYW5lbCIsICJmb2N1c1RhcmdldCIsICJzeW5jTW9iaWxlUGFuZWxzV2l0aFZpZXdwb3J0IiwgInNob3dUb2FzdCIsICJtZXNzYWdlIiwgImVuc3VyZUxlYWRpbmdTbGFzaCIsICJzbHVnIiwgInN0cmlwTGVhZGluZ1NsYXNoIiwgInBlcnNpc3RTaXRlU3RhdGUiLCAibmFtZSIsICJub3JtYWxpemVkU2x1ZyIsICJ1cGRhdGVTaXRlTGFiZWxzIiwgInVwZGF0ZVdvcmtzcGFjZU5hdkxpbmtzIiwgImxpbmsiLCAidGFiIiwgInNsdWdQYXRoIiwgImFwcGx5QWN0aXZlU2l0ZSIsICJvcHRpb25zIiwgImFjdGl2ZVNpdGVOYW1lIiwgImNhcmQiLCAiaXNBY3RpdmUiLCAiYmFkZ2UiLCAiZmluYWxOYW1lIiwgInNlbGVjdFNpdGUiLCAicmVzcG9uc2UiLCAicGF5bG9hZCIsICJmaW5hbFNsdWciLCAic3luY0FjdGl2ZVNpdGVGcm9tU2VydmVyIiwgInNpdGUiLCAiZGVmYXVsdENhcmQiLCAid29ya3NwYWNlU2x1Z2lmeSIsICJ2YWx1ZSIsICJub3JtYWxpemVTbHVnVmFsdWUiLCAiYmFzZSIsICJvcGVuU2l0ZU1vZGFsIiwgImNsb3NlU2l0ZU1vZGFsIiwgInNsdWdWYWwiLCAibmFtZVZhbCIsICJnZXRTbHVnU2V0IiwgIm5hbWVWYWx1ZSIsICJzbHVnVmFsdWUiLCAiY3JlYXRlZFNpdGUiLCAiY2xvc2VXb3Jrc3BhY2VCYWNrTW9kYWwiLCAibWF0Y2giLCAiZGV0ZWN0V29ya3NwYWNlU2VjdGlvbiIsICJvcGVuV29ya3NwYWNlQmFja01vZGFsIiwgImFjdGl2ZVNlY3Rpb24iLCAiaW5pdERlc2lnbldvcmtzcGFjZSIsICJpbml0Q29udGVudFdvcmtzcGFjZSIsICJpbml0TWVkaWFXb3Jrc3BhY2UiLCAiaW5pdERlcGxveVdvcmtzcGFjZSIsICJpbml0U2V0dGluZ3NXb3Jrc3BhY2UiLCAicGFnZUxpc3RzIiwgImFjdGl2ZVRpdGxlIiwgImFjdGl2ZVNsdWciLCAicHJldmlld1RhZ3MiLCAicHJldmlld0ZyYW1lIiwgInByZXZpZXdPcGVuQnV0dG9uIiwgInByZXZpZXdTdGF0dXMiLCAicHJldmlld0hpZ2hsaWdodE92ZXJsYXkiLCAic2VvVG9nZ2xlQnV0dG9uIiwgInNlb1BhbmVsIiwgInNlb0Nsb3NlQnV0dG9uIiwgInNlb0Zvcm0iLCAic2VvVGl0bGVJbnB1dCIsICJzZW9EZXNjcmlwdGlvbklucHV0IiwgInNlb0luZGV4ZWRDaGVja2JveCIsICJzZW9GZWVkYmFjayIsICJzZW9TYXZlQnV0dG9uIiwgInBhZ2VBY2Nlc3NpYmlsaXR5VG9nZ2xlQnV0dG9uIiwgInBhZ2VBY2Nlc3NpYmlsaXR5UGFuZWwiLCAicGFnZUFjY2Vzc2liaWxpdHlDbG9zZUJ1dHRvbiIsICJwYWdlQWNjZXNzaWJpbGl0eUZvcm0iLCAicGFnZUFjY2Vzc2liaWxpdHlOYXZDaGVja2JveCIsICJwYWdlQWNjZXNzaWJpbGl0eU1haW5JbnB1dCIsICJwYWdlQWNjZXNzaWJpbGl0eUZlZWRiYWNrIiwgInBhZ2VBY2Nlc3NpYmlsaXR5U2F2ZUJ1dHRvbiIsICJwYWdlUHJvcHNUb2dnbGVCdXR0b24iLCAicGFnZVByb3BzUGFuZWwiLCAicGFnZVByb3BzQ2xvc2VCdXR0b24iLCAicGFnZVByb3BzRm9ybSIsICJwYWdlTmFtZUlucHV0IiwgInBhZ2VUaXRsZUlucHV0IiwgInBhZ2VTbHVnSW5wdXQiLCAicGFnZURlc2NyaXB0aW9uSW5wdXQiLCAicGFnZVByb3BzRmVlZGJhY2siLCAicGFnZVByb3BzU2F2ZUJ1dHRvbiIsICJibG9ja0xpc3QiLCAiYmxvY2tMaXN0RW1wdHkiLCAiYmxvY2tDb3VudEJhZGdlIiwgImJsb2NrTGlicmFyeVRvZ2dsZSIsICJibG9ja0xpYnJhcnkiLCAiYmxvY2tBZGRCdXR0b25zIiwgImJsb2NrRGVsZXRlTW9kYWwiLCAiYmxvY2tEZWxldGVDb25maXJtIiwgImJsb2NrRGVsZXRlQ2FuY2VsIiwgImJsb2NrRGV0YWlsRW1wdHkiLCAiYmxvY2tEZXRhaWxTdGF0dXMiLCAiYmxvY2tFZGl0b3IiLCAiYmxvY2tFZGl0b3JUaXRsZSIsICJibG9ja0VkaXRvclR5cGUiLCAiYmxvY2tFZGl0b3JVbnN1cHBvcnRlZCIsICJibG9ja0Zvcm0iLCAiYmxvY2tGb3JtU2VjdGlvbnMiLCAiYmxvY2tUYWJzIiwgImFjdGl2ZUJsb2NrVGFiIiwgImxlZnRQYW5lbFRhYnMiLCAibGVmdFBhbmVsQmxvY2tzIiwgImxlZnRQYW5lbFBhZ2VzIiwgImFjdGl2ZUxlZnRUYWIiLCAic3dpdGNoTGVmdFRhYiIsICJ0YWJOYW1lIiwgImJsb2NrRm9ybUFjdGlvbnMiLCAiYmxvY2tGb3JtQXV0b3NhdmUiLCAic3dpdGNoQmxvY2tUYWIiLCAiY29sbGVjdGlvblNlbGVjdCIsICJjb2xsZWN0aW9uU2VsZWN0aW9uSW5mbyIsICJibG9ja0Zvcm1DYW5jZWwiLCAiZ3JvdXBQcmV2aWV3TW9iaWxlIiwgImdyb3VwUHJldmlld0Rlc2t0b3AiLCAiY29sbGVjdGlvblByZXZpZXdNb2JpbGUiLCAiY29sbGVjdGlvblByZXZpZXdEZXNrdG9wIiwgImJsb2NrVHlwZUZvcm1zIiwgImJsb2NrVHlwZUFsaWFzZXMiLCAiYW5pbWF0aW9uRmllbGRNYXAiLCAiY29uZmlnIiwgInVwZGF0ZUdyb3VwTWluaVByZXZpZXciLCAibW9iaWxlVmFsdWUiLCAiZGVza3RvcFZhbHVlIiwgInJlbmRlckJveGVzIiwgImNvdW50IiwgInVwZGF0ZUNvbGxlY3Rpb25NaW5pUHJldmlldyIsICJmZXRjaFBhZ2VzRnJvbVNlcnZlciIsICJwYWdlc0FwaUJhc2UiLCAiY3JlYXRlUGFnZU9uU2VydmVyIiwgInRpdGxlIiwgInNhdmVQYWdlVG9TZXJ2ZXIiLCAicGFnZSIsICJzYXZlZCIsICJub3JtYWxpemVkIiwgIm5vcm1hbGl6ZVBhZ2VEYXRhIiwgInBhZ2VzIiwgImN1cnJlbnRQYWdlIiwgImxvYWRQYWdlc0Zyb21TZXJ2ZXIiLCAiYWN0aXZlUGFnZUlkIiwgInJlbmRlclBhZ2VMaXN0cyIsICJyZW5kZXJCbG9ja0xpc3QiLCAibG9hZGVkUGFnZXMiLCAiZ2V0TG9hZGluZ1ByZXZpZXdIdG1sIiwgImdldFN0b3JlZEFjdGl2ZVBhZ2UiLCAic2V0QWN0aXZlUGFnZSIsICJub3JtYWxpemVUeXBlIiwgImdldEJsb2NrRm9ybUNvbmZpZyIsICJibG9jayIsICJ0eXBlS2V5IiwgImFsaWFzIiwgInBvcHVsYXRlQmxvY2tGb3JtIiwgIl9jIiwgIl9kIiwgIl9lIiwgInNlY3Rpb24iLCAiZGVzaXJlZFZhbHVlIiwgInVwZGF0ZUNvbGxlY3Rpb25TZWxlY3RPcHRpb25zIiwgInNldHRpbmdLZXkiLCAiZmllbGROYW1lIiwgImlucHV0IiwgImZhbGxiYWNrIiwgInNlbGVjdCIsICJzZWxlY3RlZE9wdGlvbiIsICJjb2xvciIsICJjb2xvclByZXZpZXciLCAiY29sbGVjdEZvcm1WYWx1ZXMiLCAidmFsdWVzIiwgInBhcnNlZCIsICJ1cGRhdGVQcmV2aWV3U3RhdHVzIiwgInRleHQiLCAic2VyaWFsaXplUGFnZUZvclByZXZpZXciLCAic2VyaWFsaXplQmxvY2siLCAiZGVib3VuY2UiLCAiZm4iLCAiZGVsYXkiLCAidGltZW91dElkIiwgImFyZ3MiLCAiYXV0b1NhdmVBcHBlYXJhbmNlIiwgImFjdGl2ZUJsb2NrSWQiLCAiZ2V0QWN0aXZlQmxvY2siLCAidXBkYXRlZEJsb2NrcyIsICJ1cGRhdGVkU2V0dGluZ3MiLCAibmV4dFBhZ2UiLCAicCIsICJ1cGRhdGVQcmV2aWV3QmxvY2tMaXZlIiwgImJsb2NrSWQiLCAic2V0dGluZ3MiLCAiZGVib3VuY2VkUmVmcmVzaFByZXZpZXciLCAicmVmcmVzaFByZXZpZXciLCAiaGFuZGxlQXBwZWFyYW5jZUNoYW5nZSIsICJwcmV2aWV3U2l0ZVNsdWciLCAic2VyaWFsaXplZFBhZ2VzIiwgInByZXZpZXdSZWFkeSIsICJwcmV2aWV3UmVxdWVzdENvbnRyb2xsZXIiLCAiY29udHJvbGxlciIsICJkYXRhIiwgImxhdGVzdFByZXZpZXdIdG1sIiwgImVycm9yIiwgImhhbmRsZUJsb2NrRm9ybVN1Ym1pdCIsICJhbHRWYWx1ZSIsICJ1cGRhdGVkQmxvY2siLCAidXBkYXRlQ3VycmVudFBhZ2VCbG9ja3MiLCAiZHJhd2VyIiwgImRyYXdlckJhY2tkcm9wIiwgImRyYXdlck9wZW5CdXR0b25zIiwgImRyYXdlckNsb3NlQnV0dG9ucyIsICJhZGRQYWdlVG9nZ2xlIiwgImFkZFBhZ2VGb3JtIiwgImFkZFBhZ2VOYW1lIiwgImFkZFBhZ2VUaXRsZSIsICJhZGRQYWdlU2x1ZyIsICJhZGRQYWdlQ2FuY2VsIiwgImFkZFBhZ2VFcnJvciIsICJhZGRQYWdlU3VibWl0QnV0dG9uIiwgImltcG9ydFRvZ2dsZSIsICJpbXBvcnRNb2RhbCIsICJpbXBvcnRDbG9zZUJ1dHRvbnMiLCAiaW1wb3J0RHJvcHpvbmUiLCAiaW1wb3J0RmlsZUlucHV0IiwgImltcG9ydEZpbGVMaXN0IiwgImltcG9ydEZpbGVOYW1lcyIsICJpbXBvcnRSZXN1bHRzIiwgImltcG9ydFJlc3VsdHNDb250ZW50IiwgImltcG9ydFN1Ym1pdCIsICJpbXBvcnRUYWJzIiwgImltcG9ydFBhbmVscyIsICJjb3B5VGVtcGxhdGVCdG4iLCAidGVtcGxhdGVKc29uIiwgImltcG9ydFBhc3RlSW5wdXQiLCAicGFzdGVGb3JtYXRCdG4iLCAicGFzdGVFcnJvciIsICJpbXBvcnRTZWxlY3RlZEZpbGVzIiwgImFjdGl2ZUltcG9ydFRhYiIsICJkZWxldGVQYWdlTW9kYWwiLCAiZGVsZXRlUGFnZU5hbWUiLCAiZGVsZXRlUGFnZUNhbmNlbCIsICJkZWxldGVQYWdlQ29uZmlybSIsICJwYWdlVG9EZWxldGUiLCAic2l0ZUtleSIsICJzaXRlU2x1Z1ZhbHVlIiwgInNhZmVTaXRlU2x1ZyIsICJjb2xsZWN0aW9uc0FwaUJhc2UiLCAic3RvcmFnZUtleXMiLCAiY3JlYXRlQmxvY2siLCAiaWQiLCAibGFiZWwiLCAidHlwZSIsICJzdGF0dXMiLCAiZGVzY3JpcHRpb24iLCAicHJvcHMiLCAiYmxvY2tMaWJyYXJ5RGVmaW5pdGlvbnMiLCAicGVyc2lzdEFjdGl2ZVBhZ2UiLCAicGFnZUlkIiwgInN0b3JlZCIsICJmb3JtYXRCbG9ja0NvdW50IiwgIm5vcm1hbGl6ZVBhZ2VTbHVnIiwgImdlbmVyYXRlQmxvY2tJZCIsICJrZXkiLCAiY3JlYXRlSW5pdGlhbEJsb2NrcyIsICJzZXRBY3RpdmVMYWJlbHMiLCAicmVuZGVyUHJldmlld01ldGEiLCAidGFnIiwgImdldFN0YXR1c0JhZGdlQ2xhc3NlcyIsICJyZW5kZXJCbG9ja0RldGFpbHMiLCAiYXBwbHlQcmV2aWV3SGlnaGxpZ2h0IiwgImRvYyIsICJub2RlIiwgImNyZWF0ZUJsb2NrSXRlbUVsZW1lbnQiLCAiaXNOZXN0ZWQiLCAicGFyZW50SWQiLCAiYmxvY2tUeXBlIiwgImlzR3JvdXAiLCAiaXRlbSIsICJhY2NlbnQiLCAiY29udGVudCIsICJoYW5kbGUiLCAidGV4dFdyYXBwZXIiLCAibWV0YSIsICJ0eXBlQmFkZ2UiLCAic3RhdHVzQmFkZ2UiLCAiY2hpbGRDb3VudCIsICJjaGlsZEJhZGdlIiwgImRpc3BsYXlMYWJlbCIsICJjb2xsZWN0aW9uTmFtZSIsICJkZXNpZ25Db2xsZWN0aW9ucyIsICJpbmZvIiwgImFjdGlvbnMiLCAibW92ZUJ1dHRvbnMiLCAibW92ZVVwIiwgIm1vdmVDaGlsZEJsb2NrQnlPZmZzZXQiLCAibW92ZUJsb2NrQnlPZmZzZXQiLCAibW92ZURvd24iLCAiZGVsZXRlQnV0dG9uIiwgInJlbW92ZUNoaWxkRnJvbUdyb3VwIiwgIm9wZW5CbG9ja0RlbGV0ZU1vZGFsIiwgInNldEFjdGl2ZUJsb2NrIiwgImNyZWF0ZUdyb3VwRHJvcFpvbmUiLCAicGFyZW50QmxvY2siLCAiZHJvcFpvbmUiLCAiZSIsICJtb3ZlQmxvY2tUb0dyb3VwIiwgIm9wZW5BZGRCbG9ja1RvR3JvdXBNb2RhbCIsICJibG9ja3MiLCAiY2hpbGQiLCAiY2hpbGRJdGVtIiwgImdyb3VwSWQiLCAiYmxvY2tJbmRleCIsICJiIiwgImdyb3VwQmxvY2siLCAibW92ZWRCbG9jayIsICJjaGlsZElkIiwgImNoaWxkSW5kZXgiLCAiYyIsICJncm91cEluZGV4IiwgIm9mZnNldCIsICJjdXJyZW50SW5kZXgiLCAibmV3SW5kZXgiLCAicGVuZGluZ0dyb3VwSWRGb3JOZXdCbG9jayIsICJvcGVuRGVsZXRlUGFnZU1vZGFsIiwgImNsb3NlRGVsZXRlUGFnZU1vZGFsIiwgImV4ZWN1dGVEZWxldGVQYWdlIiwgInBhZ2VUaXRsZSIsICJyZXN1bHQiLCAiYWN0aXZlSWQiLCAibGlzdCIsICJkaXNwbGF5TmFtZSIsICJuYXZCYWRnZSIsICJpc0Rlc2t0b3BEcmF3ZXIiLCAiY2xvc2VEcmF3ZXIiLCAiZGVsZXRlQnRuIiwgImFjdGl2ZUJsb2NrUGFyZW50SWQiLCAidGFyZ2V0QmxvY2siLCAiZm91bmQiLCAibmV3QmxvY2tzIiwgInVwZGF0ZUN1cnJlbnRQYWdlU3RhdGUiLCAiaXNEZXNrdG9wUmVvcmRlciIsICJtb3ZlZCIsICJyZW9yZGVyQmxvY2tzIiwgInNvdXJjZUlkIiwgInRhcmdldElkIiwgImZyb21JbmRleCIsICJ0b0luZGV4IiwgInJlb3JkZXJCbG9ja3NXaXRoUG9zaXRpb24iLCAicG9zaXRpb24iLCAiaW5zZXJ0SW5kZXgiLCAidXBkYXRlRHJhZ2dhYmxlU3RhdGUiLCAiZHJhZ2dhYmxlIiwgImNsb3NlQmxvY2tMaWJyYXJ5IiwgImJsb2NrTGlicmFyeU9wZW4iLCAib3BlbkJsb2NrTGlicmFyeSIsICJ0b2dnbGVCbG9ja0xpYnJhcnkiLCAiYWRkQmxvY2tGcm9tTGlicmFyeSIsICJkZWZpbml0aW9uIiwgIm5ld0Jsb2NrIiwgImZpcnN0Q29sbGVjdGlvbklkIiwgIm5leHRCbG9ja3MiLCAiZGVsZXRlQmxvY2tCeUlkIiwgIm5leHRBY3RpdmUiLCAiY2xvc2VCbG9ja0RlbGV0ZU1vZGFsIiwgInBlbmRpbmdEZWxldGVCbG9ja0lkIiwgInRhcmdldCIsICJzeW5jUGFnZUFjY2Vzc2liaWxpdHlGaWVsZHMiLCAic3luY0RyYXdlclN0YXRlIiwgIm9wZW5EcmF3ZXIiLCAib3BlbkFkZFBhZ2VGb3JtIiwgInBhZ2VTbHVnTWFudWFsbHlFZGl0ZWQiLCAiY2xvc2VBZGRQYWdlRm9ybSIsICJzeW5jU2x1Z0Zyb21OYW1lIiwgIm5vcm1hbGl6ZUJsb2NrRGF0YSIsICJsb2FkRGVzaWduQ29sbGVjdGlvbnMiLCAiY3VycmVudFZhbHVlIiwgInN5bmNDb2xsZWN0aW9uU2VsZWN0aW9uSW5mbyIsICJjb2xsZWN0aW9uSWQiLCAiY29sbGVjdGlvbiIsICJkZXRhaWxzIiwgInNlbGVjdGVkVmFsdWUiLCAib3B0aW9uIiwgImZhbGxiYWNrT3B0aW9uIiwgImNyZWF0ZWRQYWdlIiwgInJlc2V0UGFzdGVTdGF0ZSIsICJ2YWxpZGF0ZVBhc3RlSnNvbiIsICJmb3JtYXRQYXN0ZUpzb24iLCAidXBkYXRlSW1wb3J0U3VibWl0U3RhdGUiLCAib3BlbkltcG9ydE1vZGFsIiwgInVwZGF0ZUltcG9ydEZpbGVMaXN0IiwgInQiLCAiY2xvc2VJbXBvcnRNb2RhbCIsICJmIiwgImhhbmRsZUltcG9ydEZpbGVzIiwgImZpbGVzIiwgImpzb25GaWxlcyIsICJleGVjdXRlSW1wb3J0IiwgIl9mIiwgIl9nIiwgIl9oIiwgIl9pIiwgIl9qIiwgIl9rIiwgInBhZ2VzRGF0YSIsICJwYXJzZUVyciIsICJlcnJvckxpbmUiLCAiZXJyb3JEZXRhaWwiLCAicG9zIiwgImxpbmVzIiwgImxpbmVOdW0iLCAiY29sTnVtIiwgImZpbGVFcnJvcnMiLCAiZmlsZSIsICJodG1sIiwgImhhc0RhdGEiLCAiaGFzU3VjY2VzcyIsICJoYXNFcnJvcnMiLCAiY29sbGVjdGlvbnNNc2ciLCAiYnRuIiwgInRhcmdldFBhbmVsIiwgInByZXZpZXdXaW5kb3ciLCAidG9nZ2xlU2VvUGFuZWwiLCAic2hvdyIsICJzZXRTZW9GZWVkYmFjayIsICJ0b25lIiwgImlzVmlzaWJsZSIsICJzZW9EYXRhIiwgInVwZGF0ZWRQYWdlIiwgInRvZ2dsZVBhZ2VBY2Nlc3NpYmlsaXR5UGFuZWwiLCAic2V0UGFnZUFjY2Vzc2liaWxpdHlGZWVkYmFjayIsICJhY2Nlc3NpYmlsaXR5RGF0YSIsICJ0b2dnbGVQYWdlUHJvcHNQYW5lbCIsICJzZXRQYWdlUHJvcHNGZWVkYmFjayIsICJuZXdOYW1lIiwgIm5ld1RpdGxlIiwgIm5ld1NsdWciLCAibmV3RGVzY3JpcHRpb24iLCAiaGFuZGxlQmxvY2tEcmFnU3RhcnQiLCAiZHJhZ1NvdXJjZUlkIiwgImNsZWFyRHJhZ0luZGljYXRvcnMiLCAiaGFuZGxlQmxvY2tEcmFnRW5kIiwgImhhbmRsZUJsb2NrRHJhZ092ZXIiLCAicmVjdCIsICJtaWRZIiwgImlzQWJvdmUiLCAiaGFuZGxlQmxvY2tEcmFnTGVhdmUiLCAicmVsYXRlZFRhcmdldCIsICJoYW5kbGVCbG9ja0Ryb3AiLCAic291cmNlIiwgImRyb3BQb3NpdGlvbiIsICJhY3RpdmVQYWdlIiwgImNvbGxlY3Rpb25MaXN0IiwgImNvbnRlbnRWaWV3cyIsICJjb250ZW50U2VjdGlvbkJ1dHRvbnMiLCAiY29udGVudFNlY3Rpb25UcmlnZ2VycyIsICJjb250ZW50RHJhd2VyIiwgImNvbnRlbnREcmF3ZXJCYWNrZHJvcCIsICJjb250ZW50RHJhd2VyT3BlbkJ1dHRvbnMiLCAiY29udGVudERyYXdlckNsb3NlQnV0dG9ucyIsICJoZWFkZXJTdGF0dXNJbmRpY2F0b3IiLCAiZm9vdGVyU3RhdHVzSW5kaWNhdG9yIiwgImNvbGxlY3Rpb25Db3VudEVsIiwgImhlYWRlckZpZWxkcyIsICJoZWFkZXJOYXZMaXN0IiwgImhlYWRlck5hdkFkZEJ0biIsICJoZWFkZXJTYXZlQnRuIiwgImhlYWRlck5hdkl0ZW1UZW1wbGF0ZSIsICJoZWFkZXJQYWdlc0xpc3QiLCAic2l0ZVBhZ2VzIiwgInNlbGVjdGVkTmF2UGFnZXMiLCAiZm9vdGVyRmllbGRzIiwgImZvb3RlckNvbHVtbnNMaXN0IiwgImZvb3RlckNvbHVtbkFkZEJ0biIsICJmb290ZXJTYXZlQnRuIiwgImZvb3RlckNvbHVtblRlbXBsYXRlIiwgImZvb3RlckxpbmtUZW1wbGF0ZSIsICJhY3RpdmVDb250ZW50U2VjdGlvbiIsICJoZWFkZXJEYXRhIiwgImZvb3RlckRhdGEiLCAic2FmZVNpdGVTbHVnRm9yTGF5b3V0IiwgImxheW91dEFwaUJhc2UiLCAic2hvd0NvbnRlbnRWaWV3IiwgInZpZXdOYW1lIiwgIm9wZW5Db250ZW50RHJhd2VyIiwgImNsb3NlQ29udGVudERyYXdlciIsICJsb2FkU2l0ZVBhZ2VzRm9ySGVhZGVyIiwgInJlbmRlclBhZ2VDaGVja2JveGVzIiwgInBhZ2VTbHVnIiwgInBhZ2VEaXNwbGF5TmFtZSIsICJwYWdlVXJsIiwgImlzU2VsZWN0ZWQiLCAibmF2IiwgImNoZWNrYm94IiwgImNvbGxlY3RIZWFkZXJEYXRhIiwgIl9sIiwgIl9tIiwgInVybCIsICJwb3B1bGF0ZUhlYWRlckZvcm0iLCAiYWRkRm9vdGVyTGluayIsICJjb250YWluZXIiLCAiY2xvbmUiLCAibGFiZWxJbnB1dCIsICJ1cmxJbnB1dCIsICJyZW1vdmVCdG4iLCAiYWRkRm9vdGVyQ29sdW1uIiwgImxpbmtzIiwgImNvbHVtbiIsICJ0aXRsZUlucHV0IiwgImxpbmtzQ29udGFpbmVyIiwgImFkZExpbmtCdG4iLCAiY29sbGVjdEZvb3RlckRhdGEiLCAiX24iLCAiX28iLCAiX3AiLCAiX3EiLCAiX3IiLCAiX3MiLCAiX3QiLCAiY29sdW1ucyIsICJjb2wiLCAibGlua0VsIiwgInBvcHVsYXRlRm9vdGVyRm9ybSIsICJ2IiwgImNvbGxlY3Rpb25FbXB0eVN0YXRlIiwgImNvbGxlY3Rpb25JdGVtc0VtcHR5IiwgIml0ZW1UYWJsZVdyYXBwZXIiLCAiaXRlbVRhYmxlQm9keSIsICJjb2xsZWN0aW9uVGl0bGUiLCAiY29sbGVjdGlvbkRlc2NyaXB0aW9uIiwgIml0ZW1BZGRCdXR0b24iLCAiaXRlbURldGFpbEVtcHR5IiwgIml0ZW1Gb3JtIiwgIml0ZW1Gb3JtRmllbGRzIiwgIml0ZW1TdGF0dXNCYWRnZSIsICJpdGVtRGVsZXRlQnV0dG9uIiwgIml0ZW1EZWxldGVNb2RhbCIsICJpdGVtRGVsZXRlQ2FuY2VsIiwgIml0ZW1EZWxldGVDb25maXJtIiwgIml0ZW1Gb3JtQ2FuY2VsIiwgIml0ZW1Gb3JtU2F2ZSIsICJzdGF0dXNCYWRnZUJhc2VDbGFzcyIsICJzYWZlU2l0ZVNsdWdWYWx1ZSIsICJjb2xsZWN0aW9ucyIsICJjb2xsZWN0aW9uSXRlbXMiLCAiYWN0aXZlQ29sbGVjdGlvbklkIiwgImFjdGl2ZUl0ZW1JZCIsICJpc0NyZWF0aW5nSXRlbSIsICJpdGVtU2x1Z01hbnVhbGx5RWRpdGVkIiwgInBlbmRpbmdEZWxldGVJdGVtSWQiLCAibm9ybWFsaXplSXRlbVNsdWdJbnB1dCIsICJyYXciLCAiY2xlYW5lZFNlZ21lbnRzIiwgInNlZ21lbnQiLCAiZm9ybWF0SXRlbURhdGUiLCAiZGF0ZSIsICJ1cGRhdGVDb2xsZWN0aW9uSGVhZGVyIiwgInVwZGF0ZUl0ZW1zRW1wdHlNZXNzYWdlIiwgImhpZGVJdGVtRm9ybSIsICJzaG93SXRlbUZvcm0iLCAic3luY0FkZEJ1dHRvblN0YXRlIiwgInN5bmNJdGVtU3RhdHVzQmFkZ2UiLCAiY29sb3JDbGFzcyIsICJyZW5kZXJDb2xsZWN0aW9uTGlzdCIsICJzZXRBY3RpdmVDb2xsZWN0aW9uIiwgInJlbmRlckl0ZW1UYWJsZSIsICJyb3ciLCAic3RhdHVzQ2xhc3NlcyIsICJoYW5kbGVTZWxlY3QiLCAic2VsZWN0SXRlbSIsICJpdGVtSWQiLCAicG9wdWxhdGVJdGVtRm9ybSIsICJwcmVwYXJlTmV3SXRlbUZvcm0iLCAiY29sbGVjdEl0ZW1Gb3JtVmFsdWVzIiwgInNsdWdJbnB1dCIsICJzdW1tYXJ5IiwgImltYWdlIiwgImN0YVRleHQiLCAiY3RhVXJsIiwgImN0YSIsICJzZXRGb3JtU2F2aW5nU3RhdGUiLCAiaXNTYXZpbmciLCAiZmV0Y2hDb2xsZWN0aW9uSXRlbXMiLCAiY3JlYXRlQ29sbGVjdGlvbkl0ZW0iLCAidXBkYXRlQ29sbGVjdGlvbkl0ZW0iLCAiZGVsZXRlQ29sbGVjdGlvbkl0ZW0iLCAibG9hZENvbGxlY3Rpb25zIiwgImRlZmF1bHRJZCIsICJzYXZlZEl0ZW0iLCAiY2xvc2VEZWxldGVNb2RhbCIsICJvcGVuRGVsZXRlTW9kYWwiLCAiZm9ybSIsICJwcm90b2NvbFNlbGVjdCIsICJob3N0SW5wdXQiLCAicG9ydElucHV0IiwgInVzZXJJbnB1dCIsICJwYXNzd29yZElucHV0IiwgInNob3dQYXNzd29yZFRvZ2dsZSIsICJyZW1vdGVQYXRoSW5wdXQiLCAiZmVlZGJhY2siLCAic2F2ZUJ1dHRvbiIsICJ0ZXN0QnV0dG9uIiwgImRlcGxveUJ1dHRvbiIsICJoaXN0b3J5TGlzdCIsICJsb2dCb3giLCAiZGVwbG95QXBpQmFzZSIsICJkZXBsb3lSdW5BcGkiLCAiZGVwbG95TG9nQXBpIiwgImhhc1Bhc3N3b3JkIiwgImJ1c3lBY3Rpb24iLCAic2FuaXRpemVSZW1vdGVQYXRoIiwgInRyaW1tZWQiLCAic2V0RmVlZGJhY2siLCAiYmFzZUNsYXNzIiwgInRvbmVDbGFzcyIsICJpY29uIiwgInNldEJ1c3kiLCAiYWN0aW9uIiwgImRpc2FibGUiLCAic3Bpbm5lciIsICJwb3B1bGF0ZUZvcm0iLCAicmVuZGVySGlzdG9yeSIsICJlbnRyaWVzIiwgImxpIiwgImR1cmF0aW9uIiwgInJlbmRlckxvZ3MiLCAiZmV0Y2hIaXN0b3J5IiwgImZldGNoQ29uZmlnIiwgImJ1aWxkUGF5bG9hZCIsICJwd2QiLCAiZXJyb3JQYXlsb2FkIiwgImRvd25sb2FkQnV0dG9uIiwgImRvd25sb2FkRmVlZGJhY2siLCAiZG93bmxvYWRBcGkiLCAic2V0RG93bmxvYWRGZWVkYmFjayIsICJvcmlnaW5hbENvbnRlbnQiLCAiZXJyb3JEYXRhIiwgImJsb2IiLCAiYSIsICJ0YWJCdXR0b25zIiwgInRhYlBhbmVscyIsICJzaXRlRmVlZGJhY2siLCAidGhlbWVGb3JtIiwgInN3aXRjaFRhYiIsICJzdWJtaXQiLCAiZm9ybURhdGEiLCAiY3VycmVudFBhc3N3b3JkIiwgIm5ld1Bhc3N3b3JkIiwgImNvbmZpcm1QYXNzd29yZCIsICJuYW1lSW5wdXQiLCAibGFuZ1NlbGVjdCIsICJ0YWdsaW5lSW5wdXQiLCAic2V0U2l0ZUZlZWRiYWNrIiwgInNpdGVDb25maWdBcGkiLCAibG9hZFNpdGVDb25maWciLCAidGhlbWVBcGkiLCAiY29sb3JTZWxlY3RzIiwgImhlYWRpbmdTZWxlY3QiLCAiYm9keVNlbGVjdCIsICJyYWRpdXNTbWFsbCIsICJyYWRpdXNNZWRpdW0iLCAicmFkaXVzTGFyZ2UiLCAicHJldmlldyIsICJ0aGVtZUZlZWRiYWNrIiwgImFwcGx5QnV0dG9uIiwgInRhaWx3aW5kSHVlcyIsICJ0YWlsd2luZFNoYWRlcyIsICJ0YWlsd2luZFRva2VucyIsICJoIiwgInMiLCAiZmlsbENvbG9yT3B0aW9ucyIsICJzZWwiLCAidG9rZW4iLCAic2V0VGhlbWVGZWVkYmFjayIsICJzeW5jUHJldmlldyIsICJ0b2tlblRvSGV4IiwgInNoYWRlTnVtIiwgImZhY3RvciIsICJ0b1JnYiIsICJoZXgiLCAiciIsICJnIiwgIm1peCIsICJzZXRDb2xvckZpZWxkcyIsICJ1cGRhdGVDb2xvclNlbGVjdFByZXZpZXciLCAiaW5pdENvbG9yUHJldmlld3MiLCAibG9hZFRoZW1lIiwgInNlb0NvbmZpZ0Zvcm0iLCAiaW5kZXhBbGxDaGVja2JveCIsICJzZW9Db25maWdGZWVkYmFjayIsICJsb2FkU2VvQ29uZmlnIiwgImluZGV4QWxsIiwgImN1cnJlbnRSZXMiLCAiY3VycmVudENvbmZpZyIsICJhbmFseXRpY3NGb3JtIiwgImhlYWRUZXh0YXJlYSIsICJib2R5VGV4dGFyZWEiLCAiYW5hbHl0aWNzRmVlZGJhY2siLCAiYW5hbHl0aWNzU2F2ZUJ1dHRvbiIsICJzZXRBbmFseXRpY3NGZWVkYmFjayIsICJsb2FkQW5hbHl0aWNzQ29uZmlnIiwgImFjY2Vzc2liaWxpdHlGb3JtIiwgImFuaW1hdGlvbnNUb2dnbGUiLCAiY29udHJhc3RUb2dnbGUiLCAiYWNjZXNzaWJpbGl0eUZlZWRiYWNrIiwgImFjY2Vzc2liaWxpdHlTYXZlQnV0dG9uIiwgInNldEFjY2Vzc2liaWxpdHlGZWVkYmFjayIsICJsb2FkQWNjZXNzaWJpbGl0eUNvbmZpZyIsICJhaUNvbmZpZ0Zvcm0iLCAiYXBpS2V5SW5wdXQiLCAibW9kZWxTZWxlY3QiLCAicHJvamVjdFByb21wdFRleHRhcmVhIiwgImVuYWJsZWRDaGVja2JveCIsICJhaUZlZWRiYWNrIiwgImFpU2F2ZUJ1dHRvbiIsICJhaUNvbmZpZ0FwaSIsICJzZXRBSUZlZWRiYWNrIiwgImxvYWRBSUNvbmZpZyIsICJhcGlLZXlWYWx1ZSIsICJncmlkIiwgImVtcHR5U3RhdGUiLCAiY291bnRCYWRnZSIsICJmaWx0ZXJUeXBlIiwgImRldGFpbEVtcHR5IiwgImRldGFpbFBhbmVsIiwgImRldGFpbFByZXZpZXciLCAiZGV0YWlsTmFtZSIsICJkZXRhaWxUeXBlIiwgImRldGFpbFNpemUiLCAiZGV0YWlsUGF0aCIsICJkZXRhaWxVc2VkIiwgImRldGFpbEFsdElucHV0IiwgImRldGFpbFNhdmVCdXR0b24iLCAiZGV0YWlsRGVsZXRlQnV0dG9uIiwgImRlbGV0ZU1vZGFsIiwgImRlbGV0ZUNhbmNlbEJ1dHRvbiIsICJkZWxldGVDb25maXJtQnV0dG9uIiwgInVwbG9hZE9wZW5CdXR0b24iLCAiZmlsZUlucHV0IiwgInVwbG9hZFN0YXR1cyIsICJtZWRpYUFwaUJhc2UiLCAibWVkaWFJdGVtcyIsICJmaWx0ZXJlZEl0ZW1zIiwgImFjdGl2ZU1lZGlhSWQiLCAiaGlnaGxpZ2h0TWVkaWFJZCIsICJwZW5kaW5nVXBsb2FkRmlsZSIsICJ1cGxvYWRJblByb2dyZXNzIiwgImRldGFpbERpcnR5IiwgInVwbG9hZE1vZGUiLCAidXBsb2FkUHJldmlld1VybCIsICJkZXJpdmVHcm91cFR5cGUiLCAiZmlsZW5hbWUiLCAiaXNJbWFnZVR5cGUiLCAiZm9ybWF0VHlwZUxhYmVsIiwgImV4dCIsICJmb3JtYXRGaWxlU2l6ZSIsICJzaXplIiwgInJlc2V0RGV0YWlsUGFuZWwiLCAiY2xlYXJVcGxvYWRTdGF0ZSIsICJ1cGRhdGVEZXRhaWxBY3Rpb25zIiwgInVwZGF0ZUNvdW50QmFkZ2UiLCAicmVuZGVyR3JpZCIsICJzZWxlY3RNZWRpYSIsICJyZW5kZXJVc2VkSW4iLCAic2F2aW5nIiwgIm1lZGlhSWQiLCAic2hvd1VwbG9hZFByZXZpZXciLCAiYXBwbHlGaWx0ZXJzIiwgInR5cGVGaWx0ZXIiLCAibG9hZE1lZGlhIiwgImhhbmRsZUZpbGVTZWxlY3Rpb24iLCAicmVhZEZpbGVBc0Jhc2U2NCIsICJyZXNvbHZlIiwgInJlamVjdCIsICJyZWFkZXIiLCAiYmFzZTY0IiwgInVwbG9hZFNlbGVjdGVkTWVkaWEiLCAiZGVsZXRlQWN0aXZlTWVkaWEiLCAiZGlzYWJsZUJ1dHRvbnMiLCAiZW5hYmxlQnV0dG9ucyIsICJ1cGRhdGVkIiwgImFpQ2hhdFRvZ2dsZSIsICJhaUNoYXRQYW5lbCIsICJhaUNoYXRPdmVybGF5IiwgImFpQ2hhdENsb3NlIiwgImFpQ2hhdENsZWFyIiwgImFpQ2hhdEZvcm0iLCAiYWlDaGF0SW5wdXQiLCAiYWlDaGF0TWVzc2FnZXMiLCAiYWlDaGF0U3RhdHVzIiwgImFpQ2hhdE5vQXBpIiwgImFpUXVpY2tCdXR0b25zIiwgImFpQ2hhdE9wZW4iLCAiYWlJc0xvYWRpbmciLCAiYWlDb25maWdDaGVja2VkIiwgImFpSGFzQXBpS2V5IiwgIm9wZW5BSUNoYXQiLCAiY2hlY2tBSUNvbmZpZyIsICJjbG9zZUFJQ2hhdCIsICJzaXRlU2x1ZyIsICJsb2FkQUlDaGF0SGlzdG9yeSIsICJ3ZWxjb21lTXNnIiwgIm1zZyIsICJhcHBlbmRBSU1lc3NhZ2UiLCAicm9sZSIsICJtc2dEaXYiLCAiZXNjYXBlSHRtbCIsICJmb3JtYXR0ZWRDb250ZW50IiwgImZvcm1hdEFJUmVzcG9uc2UiLCAic2hvd0FJTG9hZGluZyIsICJsb2FkaW5nRGl2IiwgImhpZGVBSUxvYWRpbmciLCAiZm9ybWF0dGVkIiwgImxhbmciLCAiY29kZSIsICJkaXYiLCAic2VuZEFJTWVzc2FnZSIsICJhcHBlbmRFZGl0UHJvcG9zYWwiLCAiYXBwZW5kVGhlbWVQcm9wb3NhbCIsICJwcm9wb3NhbCIsICJwcm9wb3NhbERpdiIsICJjaGFuZ2VzSHRtbCIsICJoYW5kbGVBcHBseUVkaXQiLCAiaGFuZGxlUmVqZWN0RWRpdCIsICJjb2xvcnNIdG1sIiwgImNvbG9ycyIsICJnZXRUYWlsd2luZENvbG9yQ3NzIiwgInR5cG9IdG1sIiwgInR5cG8iLCAiaGFuZGxlQXBwbHlUaGVtZSIsICJjb2xvck5hbWUiLCAicHJvcG9zYWxJZCIsICJwcm9wb3NhbENhcmQiLCAiY2xlYXJBSUhpc3RvcnkiLCAicXVpY2tQcm9tcHRzIiwgInByb21wdCJdCn0K
