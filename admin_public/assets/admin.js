(()=>{document.addEventListener("DOMContentLoaded",()=>{var an;console.log("[admin] Atelier charg\xE9");let fo=document.querySelector("[data-logout]");fo&&fo.addEventListener("click",async()=>{fo.disabled=!0;try{await fetch("/api/logout",{method:"POST",headers:{"Content-Type":"application/json"}})}catch(s){console.error("[admin] Impossible de se d\xE9connecter",s)}finally{window.location.href="/admin/index.html"}});let hs=document.querySelector("[data-admin-sidebar]"),ft=document.querySelector("[data-admin-sidebar-overlay]"),Vo=document.querySelectorAll("[data-admin-sidebar-toggle]"),Cn=document.querySelectorAll("[data-admin-sidebar-close]"),po=document.body,Ms=!1,Ns=()=>{if(!hs)return;if(window.matchMedia("(min-width: 1024px)").matches){hs.classList.remove("hidden"),ft==null||ft.classList.add("hidden"),po.classList.remove("overflow-hidden");return}Ms?(hs.classList.remove("hidden"),ft==null||ft.classList.remove("hidden"),po.classList.add("overflow-hidden")):(hs.classList.add("hidden"),ft==null||ft.classList.add("hidden"),po.classList.remove("overflow-hidden"))},qn=()=>{Ms=!0,Ns()},go=()=>{Ms=!1,Ns()};hs&&Vo.length>0&&(Vo.forEach(s=>{s.addEventListener("click",qn)}),Cn.forEach(s=>{s.addEventListener("click",go)}),ft==null||ft.addEventListener("click",go),window.addEventListener("resize",Ns),window.addEventListener("keydown",s=>{s.key==="Escape"&&Ms&&go()}),Ns());let Jo="clower:currentSite",Go="clower:currentSiteName",X={slug:null,name:""};(()=>{try{let s=window.localStorage.getItem(Jo);X.slug=s?qt(Le(s)):null,X.name=window.localStorage.getItem(Go)||""}catch{X.slug=null,X.name=""}})();let ho=document.querySelectorAll("[data-site-card]"),An=document.querySelectorAll("[data-site-select]"),vs=document.querySelector("[data-current-site-name]"),Wo=document.querySelector("[data-workspace-site-name]"),Zo=document.querySelector("[data-workspace-back-name]"),Ct=document.querySelector("[data-workspace-back-modal]"),In=document.querySelectorAll("[data-workspace-back]"),Tn=document.querySelectorAll("[data-workspace-back-cancel]"),vo=document.querySelector("[data-workspace-back-confirm]"),$n=document.querySelectorAll("[data-workspace-tab]"),yo=document.querySelector("[data-site-toast]"),Ko=document.querySelector("[data-site-toast-message]"),Bn=document.querySelectorAll("[data-site-create]"),nt=document.querySelector("[data-site-modal]"),Xe=document.querySelector("[data-site-form]"),Ge=Xe==null?void 0:Xe.querySelector('input[name="siteName"]'),Ie=Xe==null?void 0:Xe.querySelector('input[name="siteSlug"]'),We=document.querySelector("[data-site-slug-error]"),Ze=document.querySelector("[data-site-modal-error]"),jn=document.querySelectorAll("[data-site-modal-cancel]"),ss=document.querySelector("[data-site-modal-submit]"),O=Jn(),Ds=!1,bo=null,_o='a[href], button:not([disabled]), textarea, input, select, [tabindex]:not([tabindex="-1"])',os=[],Yo=s=>Array.from(s.querySelectorAll(_o)).filter(n=>!n.hasAttribute("disabled")&&!n.getAttribute("aria-hidden")),Pn=s=>{if(!os.length)return;let n=os[os.length-1],{modal:l,onClose:d}=n;if(s.key==="Escape"){s.preventDefault(),d==null||d();return}if(s.key!=="Tab")return;let h=Yo(l);if(!h.length)return;let S=h[0],z=h[h.length-1];s.shiftKey?document.activeElement===S&&(s.preventDefault(),z.focus()):document.activeElement===z&&(s.preventDefault(),S.focus())};document.addEventListener("keydown",Pn);let ys=(s,n)=>{if(!s)return;os.push({modal:s,onClose:n,trigger:document.activeElement instanceof HTMLElement?document.activeElement:null});let l=Yo(s);window.setTimeout(()=>{var d,h;(h=(d=l[0]||s).focus)==null||h.call(d)},0)},bs=s=>{var d,h;let n=os.findIndex(S=>S.modal===s);if(n===-1)return;let[l]=os.splice(n,1);(h=(d=l.trigger)==null?void 0:d.focus)==null||h.call(d)},oe=document.querySelector("[data-mobile-panels-overlay]"),de=document.querySelector("[data-mobile-panels-layer]"),pt={left:document.querySelector('[data-mobile-panel="left"]'),right:document.querySelector('[data-mobile-panel="right"]')},Wt=null;de!=null&&de.parentElement&&(Wt=document.createComment("mobile-panels-layer-placeholder"),de.parentElement.insertBefore(Wt,de));let Zt=null;(an=pt.right)!=null&&an.parentElement&&(Zt=document.createComment("mobile-panel-right-placeholder"),pt.right.parentElement.insertBefore(Zt,pt.right));let Qo=document.querySelectorAll("[data-mobile-panel-toggle]"),Fn=document.querySelectorAll("[data-mobile-panel-close]"),xs={left:null,right:null},kt=null,Kt=()=>window.matchMedia("(min-width: 1024px)").matches,Mn=()=>{if(!(!de||!Wt)){if(Kt()){let s=Wt.parentElement;if(!s)return;(de.parentElement!==s||Wt.nextSibling!==de)&&s.insertBefore(de,Wt.nextSibling),de.dataset.mobilePanelPlacement="sidebar";return}de.parentElement!==document.body&&(document.body.appendChild(de),de.dataset.mobilePanelPlacement="overlay")}},Nn=()=>{let s=pt.right;if(!(!s||!Zt)){if(Kt()){let n=Zt.parentElement;if(!n)return;(s.parentElement!==n||Zt.nextSibling!==s)&&n.insertBefore(s,Zt.nextSibling),s.dataset.mobilePanelPlacement="sidebar";return}if(de){let n=pt.left;n&&n.parentElement===de?(s.parentElement!==de||s.previousSibling!==n)&&de.insertBefore(s,n.nextSibling):s.parentElement!==de&&de.appendChild(s),s.dataset.mobilePanelPlacement="overlay"}else s.parentElement!==document.body&&(document.body.appendChild(s),s.dataset.mobilePanelPlacement="overlay")}},Xo=()=>{Mn(),Nn()};Xo();let Hs={};Object.entries(pt).forEach(([s,n])=>{if(!n)return;let l=Number(window.getComputedStyle(n).zIndex)||0;Hs[s]=l});let Dn=(Object.values(Hs).reduce((s,n)=>Math.max(s,n||0),0)||150)+5,Us=(s,n)=>{let l=pt[s];if(l){if(Kt()){l.style.removeProperty("z-index");return}n?l.style.zIndex=String(Dn):Hs[s]?l.style.zIndex=String(Hs[s]):l.style.removeProperty("z-index")}},Pt=(s,n,l)=>{!s||!n||n.split(" ").map(d=>d.trim()).filter(Boolean).forEach(d=>s.classList[l](d))},xo=(s,n)=>{if(!s)return;let l=s.dataset.mobilePanelHidden||"",d=s.dataset.mobilePanelVisible||"translate-x-0";n?(Pt(s,d,"remove"),Pt(s,l,"add"),s.classList.add("pointer-events-none"),s.classList.remove("pointer-events-auto"),s.setAttribute("aria-hidden","true"),s.dataset.mobilePanelOpen="false"):(Pt(s,l,"remove"),Pt(s,d,"add"),s.classList.remove("pointer-events-none"),s.classList.add("pointer-events-auto"),s.setAttribute("aria-hidden","false"),s.dataset.mobilePanelOpen="true")},ws=(s=kt)=>{var d;if(!s||Kt())return;let n=pt[s];if(!n)return;Us(s,!1),xo(n,!0);let l=xs[s];l&&l.setAttribute("aria-expanded","false"),xs[s]=null,kt===s&&(oe==null||oe.classList.add("hidden"),oe==null||oe.classList.remove("pointer-events-auto"),oe==null||oe.classList.add("pointer-events-none"),oe==null||oe.setAttribute("aria-hidden","true"),de==null||de.classList.add("pointer-events-none"),document.body.classList.remove("overflow-hidden"),(d=l==null?void 0:l.focus)==null||d.call(l),kt=null)},Hn=(s,n)=>{if(!s||Kt())return;let l=pt[s];if(!l)return;kt&&kt!==s&&ws(kt),xo(l,!1),Us(s,!0),kt=s,xs[s]=n||null,n&&n.setAttribute("aria-expanded","true"),oe==null||oe.classList.remove("hidden","pointer-events-none"),oe==null||oe.classList.add("pointer-events-auto"),oe==null||oe.setAttribute("aria-hidden","false"),de==null||de.classList.remove("pointer-events-none"),document.body.classList.add("overflow-hidden");let d=l.querySelector(_o);window.setTimeout(()=>{var h;(h=d==null?void 0:d.focus)==null||h.call(d)},0)},en=()=>{Xo(),Kt()?(oe==null||oe.classList.add("hidden"),de==null||de.classList.add("pointer-events-none"),document.body.classList.remove("overflow-hidden"),kt=null,Object.keys(pt).forEach(s=>{let n=pt[s];if(!n)return;Us(s,!1),n.classList.remove("pointer-events-none"),n.classList.add("pointer-events-auto"),n.setAttribute("aria-hidden","false"),n.dataset.mobilePanelOpen="false";let l=xs[s];l==null||l.setAttribute("aria-expanded","false"),xs[s]=null})):(Object.entries(pt).forEach(([s,n])=>{n&&n.dataset.mobilePanelOpen!=="true"&&(xo(n,!0),Us(s,!1))}),kt||(oe==null||oe.classList.add("hidden","pointer-events-none"),oe==null||oe.classList.remove("pointer-events-auto"),oe==null||oe.setAttribute("aria-hidden","true"),de==null||de.classList.add("pointer-events-none")))};Qo.length>0&&(Qo.forEach(s=>{let n=s.dataset.mobilePanelToggle;s.addEventListener("click",()=>{kt===n?ws(n):Hn(n,s)})}),Fn.forEach(s=>{let n=s.dataset.mobilePanelClose;s.addEventListener("click",()=>ws(n))}),oe==null||oe.addEventListener("click",()=>ws()),window.addEventListener("keydown",s=>{s.key==="Escape"&&kt&&!Kt()&&ws()}),window.addEventListener("resize",en),en());let j=s=>{!yo||!Ko||(Ko.textContent=s,yo.classList.remove("hidden"),bo&&clearTimeout(bo),bo=setTimeout(()=>{yo.classList.add("hidden")},2500))};function qt(s){if(!s)return"";let n=`${s}`.trim();if(!n)return"";let l=n.replace(/^\/+/,"");return l?`/${l}`:"/"}function Le(s){return s?`${s}`.replace(/^\/+/,""):""}let Rs=(s,n)=>{let l=s?qt(s):null;try{l&&(window.localStorage.setItem(Jo,l),X.slug=l),typeof n=="string"&&n.length>0&&(window.localStorage.setItem(Go,n),X.name=n)}catch{X.slug=l||X.slug,X.name=n||X.name}},tn=s=>{vs&&s&&(vs.textContent=s),Wo&&s&&(Wo.textContent=s),Zo&&s&&(Zo.textContent=s)},wo=s=>{$n.forEach(n=>{let l=n.dataset.workspaceTab;if(!l)return;if(!s){n.href="#",n.classList.add("pointer-events-none","opacity-50","text-slate-400"),n.setAttribute("aria-disabled","true");return}let d=encodeURIComponent(Le(s));n.href=`/admin/site/${d}/${l}`,n.classList.remove("pointer-events-none","opacity-50","text-slate-400"),n.removeAttribute("aria-disabled")})},zs=(s,n={})=>{if(!s)return;let l=qt(s),d=n.siteName||X.name||(vs==null?void 0:vs.dataset.defaultSiteName)||"";ho.forEach(S=>{let U=qt(S.dataset.siteCard||"")===l,V=S.querySelector("[data-site-active-badge]");U?(S.classList.add("border-[#9C6BFF]","ring-2","ring-[#9C6BFF]","shadow-md"),S.classList.remove("border-slate-200"),V==null||V.classList.remove("hidden"),d=S.dataset.siteName||d):(S.classList.remove("border-[#9C6BFF]","ring-2","ring-[#9C6BFF]","shadow-md"),S.classList.add("border-slate-200"),V==null||V.classList.add("hidden"))}),n.persist!==!1&&Rs(l,n.siteName||d);let h=n.siteName||d;tn(h),wo(l)},Un=async(s,n)=>{let l=qt(s);try{let d=await fetch("/api/sites/select",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({slug:l})});if(!d.ok){let V=await d.json().catch(()=>({}));j(V.message||"Impossible de s\xE9lectionner ce site.");return}let h=await d.json().catch(()=>({})),S=qt(h.slug||l),z=h.name||n;Rs(S,z),zs(S,{siteName:z,persist:!1});let U=encodeURIComponent(Le(S));window.location.href=`/admin/site/${U}/design`}catch(d){console.error("[admin] Impossible de s\xE9lectionner le site",d),j("Erreur inattendue lors de la s\xE9lection.")}},Rn=async()=>{try{let s=await fetch("/api/sites/current",{credentials:"same-origin"});if(!s.ok){s.status===404&&O&&(window.location.href="/admin/sites");return}let n=await s.json(),l=qt(n.slug);Rs(l,n.name),zs(l,{siteName:n.name,persist:!1})}catch(s){console.warn("[admin] Impossible de r\xE9cup\xE9rer le site actif",s)}};(()=>{if(X.slug){zs(X.slug,{siteName:X.name,persist:!1});return}let s=document.querySelector('[data-site-card][data-site-default="true"]')||ho[0];s&&zs(s.dataset.siteCard,{siteName:s.dataset.siteName||"",persist:!1})})(),Rn(),O?wo(O.slugValue):X.slug&&wo(X.slug),An.forEach(s=>{s.addEventListener("click",()=>{if(s.disabled)return;let n=s.dataset.siteSelect,l=s.dataset.siteSelectName||"Ce site";n&&(s.disabled=!0,Un(n,l).finally(()=>{s.disabled=!1}))})});let _t=s=>(s||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),zn=s=>{let n=_t(s||"");return n?`/${n}`:""},On=()=>{nt&&(nt.classList.remove("hidden"),nt.classList.add("flex"),Ds=!1,Xe==null||Xe.reset(),We&&(We.textContent=""),Ze&&(Ze.textContent=""),Ie&&Ge&&(Ie.value=_t(Ge.value)),ys(nt,Ss),window.setTimeout(()=>{Ge==null||Ge.focus()},0))},Ss=()=>{nt&&(nt.classList.add("hidden"),nt.classList.remove("flex"),Ds=!1,Xe==null||Xe.reset(),We&&(We.textContent=""),Ze&&(Ze.textContent=""),bs(nt))};Bn.forEach(s=>{s.addEventListener("click",On)}),jn.forEach(s=>{s.addEventListener("click",Ss)}),nt==null||nt.addEventListener("click",s=>{s.target===nt&&Ss()}),Ge==null||Ge.addEventListener("input",()=>{Ie&&((!Ds||Ie.value.trim().length===0)&&(Ie.value=_t(Ge.value)),We&&(We.textContent=""),Ze&&(Ze.textContent=""))}),Ie==null||Ie.addEventListener("focus",()=>{let s=(Ie==null?void 0:Ie.value)||"",n=(Ge==null?void 0:Ge.value)||"";!s.trim()&&n.trim()&&(Ie.value=_t(n))}),Ie==null||Ie.addEventListener("input",()=>{Ds=!0,We&&(We.textContent=""),Ze&&(Ze.textContent="")});let Vn=()=>new Set(Array.from(ho).map(s=>qt(s.dataset.siteCard||"")));Xe==null||Xe.addEventListener("submit",async s=>{if(s.preventDefault(),console.log("[admin] Form submit - siteNameInput:",Ge,"siteSlugInput:",Ie),!Ge||!Ie){console.log("[admin] Missing inputs, aborting");return}let n=(Ge.value||"").trim(),l=(Ie.value||"").trim();console.log("[admin] nameValue:",n,"slugValue:",l),!l&&n&&(l=_t(n),Ie.value=l,console.log("[admin] Auto-generated slug:",l));let d=zn(l);if(console.log("[admin] normalizedSlug:",d),!n){console.log("[admin] Name validation failed"),Ze&&(Ze.textContent="Le nom du site est requis."),Ge.focus();return}if(!d){console.log("[admin] Slug validation failed"),We&&(We.textContent="Le slug ne peut pas \xEAtre vide ou contenir uniquement des caract\xE8res sp\xE9ciaux."),Ie.focus();return}if(Vn().has(d)){We&&(We.textContent="Ce slug est d\xE9j\xE0 utilis\xE9.");return}We&&(We.textContent=""),Ze&&(Ze.textContent=""),ss&&(ss.disabled=!0,ss.textContent="Cr\xE9ation...");try{let S=await fetch("/api/sites",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:n,slug:d})});if(!S.ok){let G=await S.json().catch(()=>({})),w=G.message||"Impossible de cr\xE9er ce site.";Ze&&(Ze.textContent=w),G.field==="slug"&&We&&(We.textContent=w);return}let z=await S.json(),U=qt((z==null?void 0:z.slug)||d),V=(z==null?void 0:z.name)||n;Rs(U,V),Ss();let ee=encodeURIComponent(Le(U));window.location.href=`/admin/site/${ee}/design`}catch(S){console.error("[admin] Impossible de cr\xE9er le site",S),Ze&&(Ze.textContent="Erreur inattendue. R\xE9essaie dans un instant.")}finally{ss&&(ss.disabled=!1,ss.textContent="Cr\xE9er")}}),window.addEventListener("keydown",s=>{s.key==="Escape"&&(nt&&!nt.classList.contains("hidden")&&Ss(),Ct&&!Ct.classList.contains("hidden")&&Os(),blockDeleteModal&&!blockDeleteModal.classList.contains("hidden")&&closeBlockDeleteModal(),blockLibraryOpen&&closeBlockLibrary())});function Jn(){let s=window.location.pathname.match(/^\/admin\/site\/([^/]+)(?:\/([^/]+))?/);return s?{slugPart:decodeURIComponent(s[1]),slugValue:qt(decodeURIComponent(s[1])),section:s[2]||"design"}:null}function Gn(){return document.querySelector("[data-page-list]")?"design":document.querySelector("[data-collection-list]")?"content":document.querySelector("[data-media-grid]")?"media":document.querySelector("[data-deploy-form]")?"deploy":null}function Wn(){if(!Ct){window.location.href="/admin/sites";return}Ct.classList.remove("hidden"),Ct.classList.add("flex"),ys(Ct,Os)}function Os(){Ct&&(Ct.classList.add("hidden"),Ct.classList.remove("flex"),bs(Ct))}In.forEach(s=>{s.addEventListener("click",Wn)}),Tn.forEach(s=>{s.addEventListener("click",Os)}),vo==null||vo.addEventListener("click",()=>{Os(),window.location.href="/admin/sites"});let Ls=(O==null?void 0:O.section)||Gn();Ls==="design"&&Zn(),Ls==="content"&&Kn(),Ls==="media"&&Qn(),Ls==="deploy"&&_n(),Ls==="settings"&&Yn(),O&&X.name&&tn(X.name);function Zn(){let s=document.querySelectorAll("[data-page-list]");if(s.length===0)return;let n=document.querySelector("[data-active-page-title]"),l=document.querySelector("[data-active-page-slug]"),d=document.querySelector("[data-page-preview-tags]"),h=document.querySelector("[data-page-preview-frame]"),S=document.querySelector("[data-preview-open]"),z=document.querySelector("[data-preview-status]"),U=document.querySelector("[data-preview-highlight]"),V=document.querySelector("[data-seo-toggle]"),ee=document.querySelector("[data-seo-panel]"),G=document.querySelector("[data-seo-close]"),w=document.querySelector("[data-seo-form]"),C=document.querySelector("[data-seo-title]"),q=document.querySelector("[data-seo-description]"),T=document.querySelector("[data-seo-indexed]"),$=document.querySelector("[data-seo-feedback]"),H=document.querySelector("[data-seo-save]"),E=document.querySelector("[data-page-accessibility-toggle]"),L=document.querySelector("[data-page-accessibility-panel]"),x=document.querySelector("[data-page-accessibility-close]"),A=document.querySelector("[data-page-accessibility-form]"),k=document.querySelector("[data-page-accessibility-nav]"),F=document.querySelector("[data-page-accessibility-main]"),Y=document.querySelector("[data-page-accessibility-feedback]"),K=document.querySelector("[data-page-accessibility-save]"),te=document.querySelector("[data-page-props-toggle]"),ge=document.querySelector("[data-page-props-panel]"),ve=document.querySelector("[data-page-props-close]"),Te=document.querySelector("[data-page-props-form]"),fe=document.querySelector("[data-page-name]"),W=document.querySelector("[data-page-title-input]"),Ee=document.querySelector("[data-page-slug-input]"),R=document.querySelector("[data-page-description]"),p=document.querySelector("[data-page-props-feedback]"),f=document.querySelector("[data-page-props-save]"),v=document.querySelector("[data-blocks-list]"),_=document.querySelector("[data-blocks-empty]"),se=document.querySelector("[data-block-count]"),D=document.querySelector("[data-block-library-toggle]"),ue=document.querySelector("[data-block-library]"),Oe=document.querySelectorAll("[data-block-add]"),ne=document.querySelector("[data-block-delete-modal]"),Ve=document.querySelector("[data-block-delete-confirm]"),Ce=document.querySelector("[data-block-delete-cancel]"),qe=document.querySelector("[data-block-detail-empty]"),tt=document.querySelector("[data-block-detail-status]"),$e=document.querySelector("[data-block-editor]"),It=document.querySelector("[data-block-editor-block-name]"),Ft=document.querySelector("[data-block-editor-block-type]"),we=document.querySelector("[data-block-editor-unsupported]"),B=document.querySelector("[data-block-form]"),Dt=B?Array.from(B.querySelectorAll("[data-editor-section]")):[],y=document.querySelectorAll("[data-block-tab]"),M="content",ie=document.querySelectorAll("[data-left-tab]"),ce=document.querySelector('[data-left-panel="blocks"]'),Mt=document.querySelector('[data-left-panel="pages"]'),rs="blocks",Ws=e=>{rs=e,ie.forEach(t=>{let o=t.dataset.leftTab===e;t.setAttribute("aria-selected",o?"true":"false"),o?(t.classList.add("text-[#9C6BFF]"),t.classList.remove("text-slate-500","hover:text-slate-700"),t.classList.add("after:absolute","after:bottom-0","after:left-0","after:right-0","after:h-0.5","after:bg-[#9C6BFF]")):(t.classList.remove("text-[#9C6BFF]"),t.classList.add("text-slate-500","hover:text-slate-700"),t.classList.remove("after:absolute","after:bottom-0","after:left-0","after:right-0","after:h-0.5","after:bg-[#9C6BFF]"))}),ce&&ce.classList.toggle("hidden",e!=="blocks"),Mt&&Mt.classList.toggle("hidden",e!=="pages")};ie.forEach(e=>{e.addEventListener("click",()=>{Ws(e.dataset.leftTab)})});let ks=document.querySelector("[data-block-form-actions]"),as=document.querySelector("[data-block-form-autosave]"),qo=e=>{M=e,y.forEach(o=>{let a=o.dataset.blockTab===e;o.setAttribute("aria-selected",a?"true":"false"),a?(o.classList.add("text-[#9C6BFF]"),o.classList.remove("text-slate-500","hover:text-slate-700"),o.classList.add("after:absolute","after:bottom-0","after:left-0","after:right-0","after:h-0.5","after:bg-[#9C6BFF]")):(o.classList.remove("text-[#9C6BFF]"),o.classList.add("text-slate-500","hover:text-slate-700"),o.classList.remove("after:absolute","after:bottom-0","after:left-0","after:right-0","after:h-0.5","after:bg-[#9C6BFF]"))});let t=B==null?void 0:B.querySelector("[data-editor-section]:not(.hidden)");t&&t.querySelectorAll("[data-block-panel]").forEach(a=>{a.dataset.blockPanel===e?a.classList.remove("hidden"):a.classList.add("hidden")}),ks&&as&&(e==="content"?(ks.classList.remove("hidden"),as.classList.add("hidden")):(ks.classList.add("hidden"),as.classList.remove("hidden")))};y.forEach(e=>{e.addEventListener("click",()=>{qo(e.dataset.blockTab)})});let He=B==null?void 0:B.querySelector('[name="collection-grid-collection"]'),Ke=B==null?void 0:B.querySelector("[data-collection-selection-info]"),ht=document.querySelector("[data-block-form-cancel]"),Pe=B==null?void 0:B.querySelector("[data-group-preview-mobile]"),Ue=B==null?void 0:B.querySelector("[data-group-preview-desktop]"),Fe=B==null?void 0:B.querySelector("[data-collection-preview-mobile]"),rt=B==null?void 0:B.querySelector("[data-collection-preview-desktop]"),Ht={hero:{section:"hero",labelField:"title",descriptionField:"subtitle",fields:{title:"hero-title",subtitle:"hero-subtitle",ctaLabel:"hero-cta-label",ctaUrl:"hero-cta-url",image:"hero-image",layout:"hero-layout",height:"hero-height",contentAlign:"hero-content-align",horizontalAlign:"hero-horizontal-align",textAlign:"hero-text-align",overlay:"hero-overlay",titleSize:"hero-title-size",bg:"hero-bg",borderRadius:"hero-border-radius",shadow:"hero-shadow"}},paragraphe:{section:"paragraph",labelField:"title",descriptionField:"content",fields:{title:"paragraph-title",content:"paragraph-content",align:"paragraph-align",titleSize:"paragraph-title-size",textSize:"paragraph-text-size",spacing:"paragraph-spacing",bg:"paragraph-bg",borderRadius:"paragraph-border-radius",shadow:"paragraph-shadow"}},image:{section:"image",labelField:"alt",fields:{src:"image-src",alt:"image-alt",showCaption:"image-caption-toggle",caption:"image-caption",rounded:"image-rounded",shadow:"image-shadow",maxWidth:"image-max-width",height:"image-height",objectFit:"image-object-fit",align:"image-align",bg:"image-bg",borderRadius:"image-border-radius"}},groupe:{section:"group",fields:{columnsMobile:"group-columns-mobile",columnsDesktop:"group-columns-desktop",gap:"group-gap",itemsAlign:"group-items-align",mobileLayout:"group-mobile-layout",bg:"group-bg",borderRadius:"group-border-radius",shadow:"group-shadow"}},collectiongrid:{section:"collection",fields:{collectionId:"collection-grid-collection",limit:"collection-grid-limit",columnsMobile:"collection-columns-mobile",columnsDesktop:"collection-columns-desktop",gap:"collection-gap",itemsAlign:"collection-items-align",cardRounded:"collection-card-rounded",mobileLayout:"collection-mobile-layout",bg:"collection-bg",borderRadius:"collection-border-radius",shadow:"collection-shadow"}},form:{section:"form",labelField:"formTitle",fields:{formTitle:"form-title",actionUrl:"form-action-url",method:"form-method",serviceName:"form-service-name",submitLabel:"form-submit-label",successMessage:"form-success-message",maxWidth:"form-max-width",align:"form-align",buttonRounded:"form-button-rounded",spacing:"form-spacing",bg:"form-bg",borderRadius:"form-border-radius",shadow:"form-shadow"}},newsletterembed:{section:"newsletter",labelField:"title",fields:{title:"newsletter-title",serviceName:"newsletter-service-name",embedCode:"newsletter-embed-code",maxWidth:"newsletter-max-width",align:"newsletter-align",padding:"newsletter-padding",bg:"newsletter-bg",borderRadius:"newsletter-border-radius",shadow:"newsletter-shadow"}}},Ut={texte:"paragraphe",paragraph:"paragraphe",paragraphs:"paragraphe",paragraphes:"paragraphe",text:"paragraphe",hero:"hero",image:"image",groupe:"groupe",group:"groupe",collection:"collectiongrid",collectiongrid:"collectiongrid","collection-grid":"collectiongrid",form:"form",formulaire:"form",contact:"form",newsletterembed:"newsletterembed",newsletter:"newsletterembed",embed:"newsletterembed"},Es={animation:"anim-type",animationDelay:"anim-delay",animationDuration:"anim-duration"};Object.values(Ht).forEach(e=>{e.fields={...e.fields,...Es}});let Zs=(e,t)=>{if(!Pe||!Ue)return;let o=a=>Array.from({length:Number(a)||1}).map(()=>'<span class="block h-2 w-full rounded-full bg-slate-300"></span>').join("");Pe.innerHTML=o(e),Ue.innerHTML=o(t)},Yt=(e,t)=>{if(!Fe||!rt)return;let o=a=>Array.from({length:Number(a)||1}).map(()=>'<span class="block h-2 w-full rounded-full bg-violet-300"></span>').join("");Fe.innerHTML=o(e),rt.innerHTML=o(t)},Qt=async()=>{if(!wt)return[];let e=await fetch(wt,{headers:{Accept:"application/json"}});if(!e.ok)throw new Error("Impossible de charger les pages.");let t=await e.json().catch(()=>[]);return Array.isArray(t)?t:[]},Rt=async({name:e,title:t,slug:o})=>{if(!wt)throw new Error("Site inconnu.");let a=await fetch(wt,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,title:t,slug:o})});if(!a.ok){let c=await a.json().catch(()=>({}));throw new Error(c.message||"Impossible de cr\xE9er la page.")}return a.json().catch(()=>({}))},zt=async e=>{if(!(!wt||!(e!=null&&e.id)))try{let t=await fetch(`${wt}/${encodeURIComponent(e.id)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){let a=await t.json().catch(()=>({}));throw new Error(a.message||"Impossible de sauvegarder la page.")}let o=await t.json().catch(()=>({}));if(o!=null&&o.id){let a=es(o);return ae=ae.map(c=>c.id===a.id?a:c),(u==null?void 0:u.id)===a.id&&(u=a),a}return o}catch(t){console.error("[design] Save page failed",t),j(t.message||"Sauvegarde impossible.")}},is=async()=>{if(!wt){ae=[],je=null,u=null,Jt(ae,je),St(null),qe==null||qe.classList.remove("hidden"),$e==null||$e.classList.add("hidden");return}try{let e=await Qt();if(ae=(Array.isArray(e)?e:[]).map(t=>es(t)),ae.length===0){je=null,u=null,Jt(ae,je),St(null),qe==null||qe.classList.remove("hidden"),$e==null||$e.classList.add("hidden"),h&&(h.srcdoc=Xt());return}je=gr(ae),Et(je)}catch(e){console.error("[design] Impossible de charger les pages",e),j("Impossible de charger les pages.")}},Cs=e=>(e||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),Ot=e=>{if(!e)return null;let t=Cs(e.type),o=Ut[t]||t;return Ht[o]||null},dt=e=>{var o,a,c,m,g;if(!B||!$e)return;e&&!e.settings&&(e.settings={});let t=Ot(e);if(It&&(It.textContent=(e==null?void 0:e.label)||"Bloc"),Ft&&(Ft.textContent=(e==null?void 0:e.type)||"Bloc"),!t){B.classList.add("hidden"),we==null||we.classList.remove("hidden"),B.dataset.blockId="";return}if(we==null||we.classList.add("hidden"),B.classList.remove("hidden"),B.reset(),B.dataset.blockId=e.id,Dt.forEach(P=>{P.dataset.editorSection===t.section?P.classList.remove("hidden"):P.classList.add("hidden")}),qo("content"),t.section==="collection"){let P=e.collectionId||((o=e.settings)==null?void 0:o.collectionId)||"";co(P)}if(Object.entries(t.fields).forEach(([P,Q])=>{var Qe,Lt,Se;let me=B.querySelector(`[name="${Q}"]`);if(!me)return;let be=(Qe=e.settings)==null?void 0:Qe[P];if(me.type==="checkbox")me.checked=!!be;else if(me.type==="number"){let N=(Se=(Lt=me.dataset.default)!=null?Lt:me.defaultValue)!=null?Se:"";me.value=be!=null?be:N}else me.tagName,me.value=be!=null?be:""}),t.section==="group"){let P=((a=B.querySelector('[name="group-columns-mobile"]'))==null?void 0:a.value)||"1",Q=((c=B.querySelector('[name="group-columns-desktop"]'))==null?void 0:c.value)||"3";Zs(P,Q)}if(t.section==="collection"){let P=((m=B.querySelector('[name="collection-columns-mobile"]'))==null?void 0:m.value)||"1",Q=((g=B.querySelector('[name="collection-columns-desktop"]'))==null?void 0:g.value)||"3";Yt(P,Q)}B.querySelectorAll("[data-color-select]").forEach(P=>{var Qe,Lt;let Q=P.options[P.selectedIndex],me=((Qe=Q==null?void 0:Q.dataset)==null?void 0:Qe.color)||"#ffffff",be=(Lt=P.closest(".relative"))==null?void 0:Lt.querySelector("[data-color-preview]");be&&(me==="transparent"?be.style.background="repeating-conic-gradient(#ccc 0% 25%, white 0% 50%) 50% / 8px 8px":(be.style.backgroundColor=me,be.style.background=""))})},ls=e=>{if(!B||!e)return{};let t={};return Object.entries(e.fields).forEach(([o,a])=>{let c=B.querySelector(`[name="${a}"]`);if(c)if(c.type==="checkbox")t[o]=c.checked;else if(c.type==="number"){let m=Number(c.value);t[o]=Number.isFinite(m)?m:0}else c.tagName==="TEXTAREA"?t[o]=c.value||"":c.type==="select-one"?t[o]=c.value:t[o]=c.value||""}),t},vt=e=>{if(z){if(!e){z.classList.add("hidden");return}z.classList.remove("hidden"),z.textContent=e}},Ao=e=>{if(!e)return null;let t=o=>{var a;return{id:o.id,type:o.type,label:o.label,status:o.status,description:o.description,props:o.props||[],settings:o.settings||{},collectionId:o.collectionId||((a=o.settings)==null?void 0:a.collectionId)||"",children:(o.children||[]).map(t)}};return{id:e.id,name:e.name,title:e.title,slug:e.slug,description:e.description||"",badges:[...e.badges||[]],seo:e.seo||{},accessibility:e.accessibility||{},blocks:(e.blocks||[]).map(t)}},Xt=()=>'<!DOCTYPE html><html><body style="font-family:Inter,sans-serif;padding:40px;color:#475569;background:#fff;">Pr\xE9paration de la pr\xE9visualisation\u2026</body></html>',Ks=(e,t)=>{let o;return(...a)=>{clearTimeout(o),o=setTimeout(()=>e(...a),t)}},Io=async()=>{if(!u||!Je)return;let e=fs(),t=Ot(e);if(!e||!t)return;let o=ls(t),a=(u.blocks||[]).map(m=>{if(m.id!==e.id)return m;let g={...m.settings||{},...o};return{...m,settings:g}}),c={...u,blocks:a};u=c;try{let m=await zt(c);if(m!=null&&m.id){let g=es(m);u=g,ae=ae.map(P=>P.id===g.id?g:P)}}catch(m){console.warn("[design] auto-save appearance failed",m)}},_s=(e,t)=>{!h||!h.contentWindow||h.contentWindow.postMessage({type:"updateBlockStyles",blockId:e,settings:t},"*")},To=Ks(()=>{u&&Nt(u)},1500),Ys=(e,t)=>{_s(e,t),vt("Modification\u2026"),Io().then(()=>{vt("Sauvegard\xE9"),setTimeout(()=>vt("\xC0 jour"),1500)}).catch(()=>vt("Erreur de sauvegarde")),To()},Nt=e=>{if(!h||!e)return;let t=(O==null?void 0:O.slugValue)||X.slug||"",o=ae.map(m=>({id:m.id,slug:m.slug,title:m.title,name:m.name,accessibility:m.accessibility})),a={page:Ao(e),site:{title:X.name||"Site",slug:t,pages:o}};No=!1,vt("Actualisation\u2026"),h.srcdoc=Xt(),Ps&&Ps.abort();let c=new AbortController;Ps=c,fetch("/api/preview",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a),signal:c.signal}).then(m=>{if(!m.ok)throw new Error("Preview error");return m.json()}).then(m=>{c.signal.aborted||(Mo=m.html||"",h.setAttribute("title",`Pr\xE9visualisation de la page ${e.title||""}`.trim()),h.srcdoc=Mo||Xt(),vt("\xC0 jour"))}).catch(m=>{c.signal.aborted||(console.error("[preview] Impossible de rendre la page",m),vt("Erreur preview"),h.srcdoc='<!DOCTYPE html><html><body style="font-family:Inter,sans-serif;padding:40px;color:#be123c;background:#fff;">Erreur lors du rendu de la pr\xE9visualisation.</body></html>')}).finally(()=>{Ps===c&&(Ps=null)})},$o=e=>{var m;if(e.preventDefault(),!u||!Je)return;let t=fs(),o=Ot(t);if(!t||!o)return;let a=ls(o);if(o.section==="image"){let g=(a.alt||"").trim();if(a.alt=g,!g){j("Ajoute un texte alternatif pour cette image.","error"),(m=B==null?void 0:B.querySelector('[name="image-alt"]'))==null||m.focus();return}}if(o.section==="collection"){if(!a.collectionId){j("S\xE9lectionnez une collection.");return}a.limit=Math.max(1,Number(a.limit)||1)}let c=(u.blocks||[]).map(g=>{if(g.id!==t.id)return g;let P={...g.settings||{},...a},Q={...g,settings:P};return o.labelField&&a[o.labelField]&&(Q.label=a[o.labelField]),o.descriptionField&&a[o.descriptionField]&&(Q.description=a[o.descriptionField]),o.section==="collection"&&(Q.collectionId=a.collectionId,Q.settings.collectionId=a.collectionId,Q.settings.limit=a.limit),Q});ps(c),j("Bloc mis \xE0 jour"),Et(u.id,{preserveBlock:!0})},yt=document.querySelector("[data-page-drawer]"),at=document.querySelector("[data-page-drawer-backdrop]"),Qs=document.querySelectorAll("[data-page-drawer-open]"),Xs=document.querySelectorAll("[data-page-drawer-close]"),Tt=document.querySelector("[data-add-page-toggle]"),r=document.querySelector("[data-add-page-form]"),i=document.querySelector("[data-add-page-name]"),b=document.querySelector("[data-add-page-title]"),I=document.querySelector("[data-add-page-slug]"),Z=document.querySelector("[data-add-page-cancel]"),J=document.querySelector("[data-add-page-error]"),le=r==null?void 0:r.querySelector('[type="submit"]'),re=document.querySelector("[data-import-pages-toggle]"),pe=document.querySelector("[data-import-modal]"),_e=document.querySelectorAll("[data-import-modal-close]"),ye=document.querySelector("[data-import-dropzone]"),Re=document.querySelector("[data-import-file-input]"),ze=document.querySelector("[data-import-file-list]"),Me=document.querySelector("[data-import-file-names]"),ke=document.querySelector("[data-import-results]"),Be=document.querySelector("[data-import-results-content]"),Ne=document.querySelector("[data-import-submit]"),cs=document.querySelectorAll("[data-import-tab]"),qs=document.querySelectorAll("[data-import-panel]"),ds=document.querySelector("[data-copy-template]"),As=document.querySelector("[data-template-json]"),Ye=document.querySelector("[data-import-paste-json]"),us=document.querySelector("[data-format-json]"),it=document.querySelector("[data-import-paste-error]"),bt=[],$t="upload",st=document.querySelector("[data-delete-page-modal]"),Is=document.querySelector("[data-delete-page-name]"),ms=document.querySelector("[data-delete-page-cancel]"),xt=document.querySelector("[data-delete-page-confirm]"),Vt=null,eo=Le((O==null?void 0:O.slugValue)||X.slug||"default")||"default",to=(O==null?void 0:O.slugValue)||X.slug||"",so=Le(to)||"",wt=so?`/api/sites/${encodeURIComponent(so)}/pages`:null,ln=so?`/api/sites/${encodeURIComponent(so)}/collections`:null,cn={active:`clower:activePage:${eo}`},Bo=(e,t,o,a,c,m=[],g={})=>{let P={id:e,label:t,type:o,status:a,description:c,props:m,settings:{...g}};return P.settings.collectionId&&(P.collectionId=P.settings.collectionId),P},fr={hero:{type:"Hero",label:"Hero de page",description:"Section pleine largeur avec CTA principal.",status:"Brouillon",props:[{label:"CTA",value:"D\xE9couvrir"},{label:"Hauteur",value:"80vh"}],settings:{title:"Titre du hero",subtitle:"",ctaLabel:"D\xE9couvrir",ctaUrl:"#",image:"",align:"center"}},paragraph:{type:"Paragraphe",label:"Bloc \xE9ditorial",description:"Paragraphe libre pour raconter votre histoire.",status:"Brouillon",props:[{label:"Longueur",value:"150 mots"}],settings:{title:"Titre du paragraphe",content:"",align:"left"}},image:{type:"Image",label:"Bloc image",description:"Visuel seul avec l\xE9gende optionnelle.",status:"Brouillon",props:[{label:"Ratio",value:"16:9"},{label:"L\xE9gende",value:"Inactive"}],settings:{src:"",alt:"",showCaption:!1,caption:""}},group:{type:"Groupe",label:"Groupe de sections",description:"Conteneur pour imbriquer plusieurs sous-blocs.",status:"Brouillon",props:[{label:"Disposition",value:"Verticale"}],settings:{layout:"grid",columnsMobile:"1",columnsDesktop:"3",mobileLayout:"stack"}},collectiongrid:{type:"CollectionGrid",label:"Grille de contenus",description:"Affiche automatiquement les items d\u2019une collection.",status:"Brouillon",settings:{collectionId:"",limit:6,mobileLayout:"stack"}},form:{type:"Form",label:"Formulaire de contact",description:"Formulaire avec envoi vers un service externe.",status:"Brouillon",settings:{formTitle:"Contactez-nous",actionUrl:"",method:"POST",serviceName:"",submitLabel:"Envoyer",successMessage:"Merci pour votre message !"}},newsletterembed:{type:"NewsletterEmbed",label:"Newsletter / Embed",description:"Int\xE9gration d'un formulaire newsletter externe (Brevo, Mailchimp\u2026).",status:"Brouillon",settings:{title:"Restez inform\xE9",serviceName:"",embedCode:""}}},pr=e=>{try{window.localStorage.setItem(cn.active,e)}catch{}},gr=e=>{var t;try{let o=window.localStorage.getItem(cn.active);if(o&&e.some(a=>a.id===o))return o}catch{}return((t=e[0])==null?void 0:t.id)||null},hr=e=>!e||e<=0?"0 bloc":e===1?"1 bloc":`${e} blocs`,dn=e=>{if(!e||e==="/")return"/";let t=_t(e.replace(/^\//,""));return t?`/${t}`:"/"},jo=(e="page",t="block")=>`${e}-${t}-${Date.now().toString(36)}-${Math.floor(Math.random()*1e3)}`,Kr=(e,t)=>[Bo(jo(e,"intro"),"Introduction","Paragraphe","Brouillon",`Paragraphe introductif pour "${t}".`,[{label:"Longueur",value:"2 paragraphes"}],{title:`Introduction \xE0 ${t}`,content:"Ajoutez votre premier paragraphe de pr\xE9sentation.",align:"left"}),Bo(jo(e,"content"),"Zone de contenu","Groupe","Brouillon","Section principale \xE0 composer avec textes et visuels.",[{label:"Colonnes",value:"Auto"}],{layout:"grid",columnsMobile:"1",columnsDesktop:"2",mobileLayout:"stack"})],un=e=>{n&&(n.textContent=(e==null?void 0:e.name)||(e==null?void 0:e.title)||"Page"),l&&(l.textContent=(e==null?void 0:e.slug)||"/")},vr=e=>{if(!d)return;d.innerHTML="",(e&&e.badges&&e.badges.length>0?e.badges:["Structure en cours"]).forEach(o=>{let a=document.createElement("span");a.className="rounded-full bg-slate-100 px-3 py-1",a.textContent=o,d.appendChild(a)})},yr=e=>{switch((e||"").toLowerCase()){case"en ligne":return"bg-emerald-50 text-emerald-700";case"brouillon":return"bg-amber-50 text-amber-700";default:return"bg-slate-100 text-slate-600"}},oo=e=>{if(!(!qe||!$e)){if(!e){qe.classList.remove("hidden"),$e.classList.add("hidden"),we==null||we.classList.add("hidden"),B==null||B.classList.add("hidden"),tt==null||tt.classList.add("hidden");return}qe.classList.add("hidden"),$e.classList.remove("hidden"),tt&&(e.status?(tt.textContent=e.status,tt.className=`rounded-full px-3 py-1 text-xs font-semibold ${yr(e.status)}`,tt.classList.remove("hidden")):tt.classList.add("hidden")),dt(e)}},Ts=e=>{if(!h)return;let t=h.contentDocument;if(!t)return;t.querySelectorAll("[data-preview-block]").forEach(a=>{a.dataset.previewBlock===e?(a.classList.add("preview-block-active"),No&&e&&a.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})):a.classList.remove("preview-block-active")}),U&&(U.style.borderColor=e?"rgba(156, 107, 255, 0.5)":"transparent")},mn=(e,t=!1,o=null)=>{var Oo;let a=e.id===Je,c=(e.type||"").toLowerCase(),m=c==="groupe"||c==="group"||c==="sections"||c==="grid",g=document.createElement("div");g.dataset.blockItem="true",g.dataset.blockId=e.id,o&&(g.dataset.parentBlockId=o),m&&(g.dataset.isGroup="true"),g.setAttribute("role","option"),g.setAttribute("aria-selected",a?"true":"false"),g.setAttribute("draggable","true"),g.tabIndex=0,g.className=["relative flex items-center gap-3 rounded-2xl border px-3 py-2 text-left transition group",t?"ml-6 border-dashed":"",a?"bg-slate-100 border-[#9C6BFF]/40 shadow-sm":"border-slate-200 hover:border-[#9C6BFF]/40"].join(" ");let P=document.createElement("span");P.className=`absolute inset-y-2 left-0 w-1 rounded-full bg-[#9C6BFF] ${a?"":"hidden"}`,g.appendChild(P);let Q=document.createElement("div");Q.className="flex flex-1 items-center gap-3";let me=document.createElement("div");me.className="hidden lg:flex cursor-grab active:cursor-grabbing flex-shrink-0 items-center text-lg text-slate-400 hover:text-slate-600 transition-colors select-none",me.innerHTML="\u22EE\u22EE",me.setAttribute("title","Glisser pour r\xE9ordonner"),Q.appendChild(me);let be=document.createElement("div");be.className="flex-1";let Qe=document.createElement("div");Qe.className="flex items-center gap-2 text-[11px] uppercase tracking-wide text-slate-500";let Lt=document.createElement("span");Lt.className="rounded-full bg-slate-100 px-2 py-0.5 text-[10px] font-semibold text-slate-600",Lt.textContent=e.type;let Se=document.createElement("span");if(Se.className="text-slate-400",Se.textContent=e.status,Qe.appendChild(Lt),m){let lt=(e.children||[]).length,ts=document.createElement("span");ts.className="rounded-full bg-violet-100 px-2 py-0.5 text-[10px] font-semibold text-violet-600",ts.textContent=`${lt} \xE9l\xE9ment${lt!==1?"s":""}`,Qe.appendChild(ts)}Qe.appendChild(Se);let N=document.createElement("p");N.className="mt-1 text-sm font-semibold text-slate-900";let ut=e.settings&&e.settings.title||e.label||"Bloc sans titre";if(N.textContent=ut,be.appendChild(Qe),be.appendChild(N),c==="collectiongrid"&&e.collectionId){let lt=((Oo=Bt.find(Vr=>Vr.id===e.collectionId))==null?void 0:Oo.name)||e.collectionId,ts=document.createElement("p");ts.className="text-xs text-slate-400",ts.textContent=`Collection : ${lt}`,be.appendChild(ts)}Q.appendChild(be),g.appendChild(Q);let Ae=document.createElement("div");Ae.className="flex flex-col gap-1 text-xs text-slate-400";let he=document.createElement("div");he.className="flex items-center gap-1 lg:hidden";let ot=document.createElement("button");ot.type="button",ot.className="rounded-lg border border-slate-200 px-2 py-1 text-[11px] font-semibold text-slate-500",ot.textContent="\u2191",ot.addEventListener("click",lt=>{lt.stopPropagation(),o?fn(o,e.id,-1):gn(e.id,-1)});let mt=document.createElement("button");mt.type="button",mt.className="rounded-lg border border-slate-200 px-2 py-1 text-[11px] font-semibold text-slate-500",mt.textContent="\u2193",mt.addEventListener("click",lt=>{lt.stopPropagation(),o?fn(o,e.id,1):gn(e.id,1)}),he.appendChild(ot),he.appendChild(mt),Ae.appendChild(he);let De=document.createElement("button");return De.type="button",De.className="inline-flex items-center justify-center rounded-lg border border-transparent px-2 py-1 text-[12px] text-rose-500 hover:text-rose-700",De.innerHTML="\u{1F5D1}\uFE0F",De.addEventListener("click",lt=>{lt.stopPropagation(),o?wr(o,e.id):Ir(e.id)}),Ae.appendChild(De),g.appendChild(Ae),g.addEventListener("click",()=>{Gt(e.id,o)}),g.addEventListener("keydown",lt=>{(lt.key==="Enter"||lt.key===" ")&&(lt.preventDefault(),Gt(e.id,o))}),{item:g,isGroup:m,block:e}},br=e=>{let t=document.createElement("div");return t.dataset.groupDropZone=e.id,t.className="ml-6 border-2 border-dashed border-slate-200 rounded-xl p-3 text-center text-xs text-slate-400 hover:border-violet-300 hover:bg-violet-50/50 transition-colors cursor-pointer",t.innerHTML='<span class="pointer-events-none">\u{1F4E6} Glissez un bloc ici ou cliquez pour ajouter</span>',t.addEventListener("dragover",o=>{o.preventDefault(),o.stopPropagation(),t.classList.add("border-violet-400","bg-violet-50")}),t.addEventListener("dragleave",o=>{o.stopPropagation(),t.classList.remove("border-violet-400","bg-violet-50")}),t.addEventListener("drop",o=>{o.preventDefault(),o.stopPropagation(),t.classList.remove("border-violet-400","bg-violet-50");let a=o.dataTransfer.getData("text/plain");a&&a!==e.id&&xr(a,e.id)}),t.addEventListener("click",()=>{Sr(e.id)}),t},St=e=>{if(!v)return;v.innerHTML="";let t=(e==null?void 0:e.blocks)||[];if(se&&(se.textContent=hr(t.length)),t.length===0){v.classList.add("hidden"),_==null||_.classList.remove("hidden");return}v.classList.remove("hidden"),_==null||_.classList.add("hidden"),t.forEach(o=>{let{item:a,isGroup:c}=mn(o,!1,null);if(v.appendChild(a),c){(o.children||[]).forEach(P=>{let{item:Q}=mn(P,!0,o.id);v.appendChild(Q)});let g=br(o);v.appendChild(g)}})},xr=(e,t)=>{if(!u)return;let o=u.blocks.findIndex(P=>P.id===e),a=u.blocks.find(P=>P.id===t);if(o===-1||!a)return;let m=(u.blocks[o].type||"").toLowerCase();if(m==="groupe"||m==="group"){j("Impossible d'imbriquer des groupes","error");return}let[g]=u.blocks.splice(o,1);a.children||(a.children=[]),a.children.push(g),St(u),savePageBlocks(),j("Bloc ajout\xE9 au groupe")},wr=(e,t)=>{if(!u)return;let o=u.blocks.find(g=>g.id===e);if(!o||!o.children)return;let a=o.children.findIndex(g=>g.id===t);if(a===-1)return;let[c]=o.children.splice(a,1),m=u.blocks.findIndex(g=>g.id===e);u.blocks.splice(m+1,0,c),St(u),savePageBlocks(),j("Bloc sorti du groupe")},fn=(e,t,o)=>{if(!u)return;let a=u.blocks.find(P=>P.id===e);if(!a||!a.children)return;let c=a.children.findIndex(P=>P.id===t);if(c===-1)return;let m=c+o;if(m<0||m>=a.children.length)return;let[g]=a.children.splice(c,1);a.children.splice(m,0,g),St(u),savePageBlocks()},Sr=e=>{$s=e,openBlockPicker()},$s=null,Lr=e=>{!st||!e||(Vt=e,Is&&(Is.textContent=e.title||e.id),st.classList.remove("hidden"),st.classList.add("flex"),ys(st,no))},no=()=>{st&&(st.classList.add("hidden"),st.classList.remove("flex"),Vt=null,bs(st))},kr=async()=>{if(!wt||!Vt)return;let e=Vt.id,t=Vt.title||e;xt&&(xt.disabled=!0,xt.textContent="Suppression...");try{let o=await fetch(`${wt}/${encodeURIComponent(e)}`,{method:"DELETE",credentials:"include"}),a=await o.json();if(!o.ok)throw new Error(a.message||"Erreur serveur");ae=ae.filter(c=>c.id!==e),je===e?ae.length>0?Et(ae[0].id):(je=null,u=null,Jt(ae,null),St(null),qe==null||qe.classList.remove("hidden"),$e==null||$e.classList.add("hidden"),h&&(h.srcdoc=Xt())):Jt(ae,je),no(),j(`Page "${t}" supprim\xE9e`)}catch(o){console.error("[pages] delete failed",o),j(o.message||"Erreur suppression")}finally{xt&&(xt.disabled=!1,xt.textContent="Supprimer")}},Jt=(e,t)=>{s.forEach(o=>{o.innerHTML="",e.forEach(a=>{var be;let c=document.createElement("li");c.className="flex items-center gap-1";let m=document.createElement("button");m.type="button",m.dataset.pageId=a.id,m.className=["flex-1 flex items-center gap-3 px-3 py-2 text-left transition",t===a.id?"bg-[#9C6BFF]/10 text-slate-900 border border-[#9C6BFF]/40 rounded-xl shadow-sm":"text-slate-700 hover:bg-slate-50 rounded-xl"].join(" "),t===a.id?m.setAttribute("aria-current","page"):m.removeAttribute("aria-current");let g=a.name||a.title,Q=((be=a.accessibility)==null?void 0:be.showInMainNav)===!1?'<span class="text-[10px] font-semibold text-amber-600">Masqu\xE9 du menu</span>':"";m.innerHTML=`
            <span class="flex h-9 w-9 items-center justify-center rounded-xl border border-slate-200 bg-white text-slate-500">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                <path d="M6.5 4.5h7l4 4v11a1 1 0 0 1-1 1h-10a1 1 0 0 1-1-1v-14a1 1 0 0 1 1-1Z" stroke="currentColor" stroke-width="1.4" stroke-linejoin="round"/>
                <path d="M13.5 4.5v4a1 1 0 0 0 1 1h3" stroke="currentColor" stroke-width="1.4"/>
              </svg>
            </span>
            <div class="flex flex-col">
              <span class="text-sm font-semibold">${g}</span>
              <span class="text-xs text-slate-500">${a.slug}</span>
              ${Q}
            </div>
          `,m.addEventListener("click",()=>{Et(a.id),Po()||Fo()}),c.appendChild(m);let me=document.createElement("button");me.type="button",me.className="flex-shrink-0 p-2 text-slate-400 hover:text-rose-600 hover:bg-rose-50 rounded-lg transition",me.title="Supprimer cette page",me.setAttribute("aria-label",`Supprimer ${g}`),me.innerHTML=`
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M3 6h18M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2m3 0v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6h14ZM10 11v6M14 11v6"/>
            </svg>
          `,me.addEventListener("click",Qe=>{Qe.stopPropagation(),Lr(a)}),c.appendChild(me),o.appendChild(c)})})},fs=()=>{if(!u||!Array.isArray(u.blocks))return null;let e=u.blocks.find(t=>t.id===Je);if(!e){for(let t of u.blocks)if(t.children&&(e=t.children.find(o=>o.id===Je),e))break}return e||null},pn=null,Gt=(e,t=null)=>{if(!u)return;if(!e){Je=null,pn=null,St(u),oo(null),Ts(null);return}let o=null;if(o=u.blocks.find(a=>a.id===e),!o&&t){let a=u.blocks.find(c=>c.id===t);a&&a.children&&(o=a.children.find(c=>c.id===e))}if(!o){for(let a of u.blocks)if(a.children){let c=a.children.find(m=>m.id===e);if(c){o=c,t=a.id;break}}}o||(o=u.blocks[0]||null,t=null),Je=(o==null?void 0:o.id)||null,pn=t,St(u),oo(o),Ts(Je)},ps=e=>{if(!u)return;let t={...u,blocks:e};Tr(t)},ro=()=>window.matchMedia("(min-width: 1024px)").matches;function gn(e,t){if(!u||!e||!t)return;let o=[...u.blocks||[]],a=o.findIndex(g=>g.id===e);if(a<0)return;let c=a+t;if(c<0||c>=o.length)return;let[m]=o.splice(a,1);o.splice(c,0,m),ps(o),Et(u.id,{preserveBlock:!0}),Gt(m.id)}function _r(e,t){if(!u||!e||!t||e===t)return;let o=[...u.blocks||[]],a=o.findIndex(g=>g.id===e),c=o.findIndex(g=>g.id===t);if(a<0||c<0)return;let[m]=o.splice(a,1);o.splice(c,0,m),ps(o),Et(u.id,{preserveBlock:!0}),Gt(m.id)}function Er(e,t,o){if(!u||!e||!t||e===t)return;let a=[...u.blocks||[]],c=a.findIndex(Q=>Q.id===e),m=a.findIndex(Q=>Q.id===t);if(c<0||m<0)return;let[g]=a.splice(c,1);c<m&&m--;let P=o==="before"?m:m+1;a.splice(P,0,g),ps(a),Et(u.id,{preserveBlock:!0}),Gt(g.id)}function hn(){if(!v)return;let e=ro();v.querySelectorAll("[data-block-item]").forEach(t=>{t.setAttribute("draggable",e?"true":"false")})}function Bs(){ue&&(ue.classList.add("hidden"),js=!1)}function Cr(){ue&&(ue.classList.remove("hidden"),js=!0)}function qr(){js?Bs():Cr()}function Ar(e){var m;if(!u||!e)return;let t=fr[e];if(!t)return;let o=(u.blocks||[]).filter(g=>g.type===t.type).length+1,a=Bo(jo(u.id,e),`${t.label} ${o}`,t.type,t.status,t.description,t.props,t.settings||{});if((t.type||"").toLowerCase()==="collectiongrid"){let g=((m=Bt[0])==null?void 0:m.id)||"";a.collectionId=g,a.settings.collectionId=g,a.settings.limit=a.settings.limit||6}if($s){let g=u.blocks.find(P=>P.id===$s);if(g){g.children||(g.children=[]),g.children.push(a),$s=null,St(u),savePageBlocks(),Gt(a.id,g.id),Bs(),j("Bloc ajout\xE9 au groupe");return}$s=null}let c=[...u.blocks||[],a];ps(c),Et(u.id,{preserveBlock:!0}),Gt(a.id),Bs(),j("Bloc ajout\xE9")}function vn(e){var a,c;if(!u)return;let t=(u.blocks||[]).filter(m=>m.id!==e),o=e===Je?((a=t[0])==null?void 0:a.id)||null:Je||((c=t[0])==null?void 0:c.id)||null;ps(t),Je=o,Et(u.id,{preserveBlock:!0}),Je?Gt(Je):(oo(null),Ts(null)),j("Bloc supprim\xE9")}function ao(){ne&&(ne.classList.add("hidden"),ne.classList.remove("flex"),lo=null,bs(ne))}function Ir(e){if(!ne){vn(e);return}lo=e,ne.classList.remove("hidden"),ne.classList.add("flex"),ys(ne,ao)}let Tr=e=>{if(!e)return;let t=es(e);ae=ae.map(o=>o.id===t.id?t:o),u=t,zt(t)},Et=(e,t={})=>{var c,m;let o=ae.find(g=>g.id===e)||ae[0]||null;u=o?es(o):null,je=(o==null?void 0:o.id)||null,(!t.preserveBlock||!u||!u.blocks.some(g=>g.id===Je))&&(Je=((m=(c=u==null?void 0:u.blocks)==null?void 0:c[0])==null?void 0:m.id)||null),je&&pr(je),Jt(ae,je),un(u),zo(),vr(u),Nt(u),St(u),oo(fs()),Ts(Je),hn(),js&&Bs()},Po=()=>window.matchMedia("(min-width: 1024px)").matches,yn=()=>{yt&&(Po()?(yt.classList.add("is-open"),at==null||at.classList.add("hidden"),document.body.classList.remove("overflow-hidden")):yt.classList.remove("is-open"))},$r=()=>{!yt||Po()||(yt.classList.add("is-open"),at==null||at.classList.remove("hidden"),document.body.classList.add("overflow-hidden"))},Fo=()=>{yt&&(yt.classList.remove("is-open"),at==null||at.classList.add("hidden"),document.body.classList.remove("overflow-hidden"))},Br=()=>{!r||!Tt||(r.classList.remove("hidden"),Tt.classList.add("hidden"),J&&(J.textContent=""),io=!1,i&&(i.value="",i.focus()),b&&(b.value=""),I&&(I.value=""))},bn=()=>{!r||!Tt||(r.classList.add("hidden"),Tt.classList.remove("hidden"),J&&(J.textContent=""),io=!1,r.reset())},jr=()=>{!i||!I||io&&I.value.trim().length>0||(I.value=dn(i.value))},ae=[],je=null,io=!1,u=null,Je=null,js=!1,lo=null,Mo="",No=!1,Ps=null,Bt=[],Pr=e=>{let t={...e,props:Array.isArray(e.props)?e.props:[],settings:{...e.settings||{}}};return(t.type||"").toLowerCase()==="collectiongrid"&&(t.collectionId=t.collectionId||t.settings.collectionId||"",t.settings.collectionId=t.collectionId,t.settings.limit=t.settings.limit||6),t},es=e=>{var t,o,a,c,m;return{...e,blocks:(e.blocks||[]).map(g=>Pr(g)),seo:{title:(((t=e.seo)==null?void 0:t.title)||"").trim(),description:(((o=e.seo)==null?void 0:o.description)||"").trim(),indexed:typeof((a=e.seo)==null?void 0:a.indexed)=="boolean"?e.seo.indexed:null},accessibility:{showInMainNav:((c=e.accessibility)==null?void 0:c.showInMainNav)!==!1,mainLabel:(((m=e.accessibility)==null?void 0:m.mainLabel)||"").trim()}}},Fr=async()=>{if(!ln){Bt=[],co();return}try{let e=await fetch(ln,{headers:{Accept:"application/json"}});if(!e.ok)throw new Error("Impossible de charger les collections.");let t=await e.json().catch(()=>[]);Bt=Array.isArray(t)?t:[];let o=(He==null?void 0:He.value)||"";co(o)}catch(e){console.error("[design] collections load",e),j("Collections indisponibles."),Bt=[],co()}},Do=e=>{if(!Ke)return;if(!e){Ke.textContent=Bt.length?"S\xE9lectionnez une collection pour afficher ses informations.":"Aucune collection disponible. Ajoutez-en depuis l\u2019onglet Contenus.";return}let t=Bt.find(a=>a.id===e);if(!t){Ke.textContent=`Collection ${e}`;return}let o=[];t.description&&o.push(t.description),t.type&&o.push(`Type\xA0: ${t.type}`),Ke.textContent=o.join(" \xB7 ")||`Collection ${t.name||t.id}`},co=(e="")=>{if(He){if(He.innerHTML="",!Bt.length){He.disabled=!0;let t=document.createElement("option");t.value="",t.textContent="Aucune collection disponible",He.appendChild(t),Do("");return}if(He.disabled=!1,e&&!Bt.some(t=>t.id===e)){let t=document.createElement("option");t.value=e,t.textContent=e,He.appendChild(t)}Bt.forEach(t=>{let o=document.createElement("option");o.value=t.id;let a=t.name||t.id;o.textContent=t.type?`${a} \xB7 ${t.type}`:a,o.dataset.description=t.description||"",He.appendChild(o)}),e&&(He.value=e),Do(He.value||"")}};Fr(),yn(),Qs.forEach(e=>{e.addEventListener("click",$r)}),Xs.forEach(e=>{e.addEventListener("click",Fo)}),at==null||at.addEventListener("click",Fo),window.addEventListener("resize",()=>{yn(),hn()}),Tt==null||Tt.addEventListener("click",Br),Z==null||Z.addEventListener("click",bn),i==null||i.addEventListener("input",jr),I==null||I.addEventListener("input",()=>{J&&(J.textContent=""),io=!0}),r==null||r.addEventListener("submit",async e=>{if(e.preventDefault(),!wt){J&&(J.textContent="Aucun site s\xE9lectionn\xE9.");return}if(!i||!I)return;let t=i.value.trim(),o=(b==null?void 0:b.value.trim())||t,a=dn(I.value.trim()||t);if(!t||!a){J&&(J.textContent="Nom et slug sont requis.");return}J&&(J.textContent=""),le&&(le.disabled=!0,le.textContent="Cr\xE9ation...");try{let c=await Rt({name:t,title:o,slug:a});if(!c||!c.id)throw new Error("R\xE9ponse invalide.");ae=[...ae,es(c)],bn(),j("Page cr\xE9\xE9e"),Et(c.id)}catch(c){console.error("[design] create page failed",c),J&&(J.textContent=c.message||"Impossible de cr\xE9er la page.")}finally{le&&(le.disabled=!1,le.textContent="Cr\xE9er")}});let Ho=()=>{Ye&&(Ye.value=""),it&&(it.classList.add("hidden"),it.textContent="")},xn=()=>{if(!Ye)return null;let e=Ye.value.trim();if(!e)return it&&it.classList.add("hidden"),null;try{let t=JSON.parse(e);return it&&it.classList.add("hidden"),t}catch(t){return it&&(it.classList.remove("hidden"),it.textContent=`\u274C JSON invalide : ${t.message}`),null}},Mr=()=>{if(!Ye)return;let e=Ye.value.trim();if(e)try{let t=JSON.parse(e);Ye.value=JSON.stringify(t,null,2),xn()}catch{}},Fs=()=>{if(Ne)if($t==="upload")Ne.disabled=bt.length===0;else if($t==="paste"){let e=xn();Ne.disabled=!e}else Ne.disabled=!0},Nr=()=>{pe&&(pe.classList.remove("hidden"),pe.classList.add("flex"),bt=[],$t="upload",Ro(),Ho(),ke&&ke.classList.add("hidden"),Be&&(Be.innerHTML=""),Fs(),cs.forEach(e=>{e.dataset.importTab==="upload"?(e.classList.add("bg-[#9C6BFF]","text-white"),e.classList.remove("border","border-slate-200","text-slate-700")):(e.classList.remove("bg-[#9C6BFF]","text-white"),e.classList.add("border","border-slate-200","text-slate-700"))}),qs.forEach(e=>{e.dataset.importPanel==="upload"?e.classList.remove("hidden"):e.classList.add("hidden")}),ys(pe,Uo))},Uo=()=>{pe&&(pe.classList.add("hidden"),pe.classList.remove("flex"),bt=[],Ho(),bs(pe))},Ro=()=>{if(!(!ze||!Me)){if(bt.length===0){ze.classList.add("hidden"),Fs();return}ze.classList.remove("hidden"),Me.innerHTML=bt.map(e=>`<li class="flex items-center gap-2"><span class="text-lg">\u{1F4C4}</span>${e.name}</li>`).join(""),Fs()}},wn=e=>{let t=Array.from(e).filter(o=>o.type==="application/json"||o.name.endsWith(".json"));if(t.length===0){j("Aucun fichier JSON valide.");return}bt=t,Ro()},Dr=async()=>{var o,a,c,m,g,P,Q,me,be,Qe,Lt;if(!wt)return;let e=[];if(console.log("[import] activeImportTab:",$t),$t==="paste"){let Se=(o=Ye==null?void 0:Ye.value)==null?void 0:o.trim();if(console.log("[import] paste text length:",Se==null?void 0:Se.length),!Se){j("Aucun JSON \xE0 importer."),ke&&Be&&(ke.classList.remove("hidden"),Be.innerHTML='<p class="text-amber-600">\u26A0 Le champ de texte est vide.</p>');return}try{let N=JSON.parse(Se);console.log("[import] parsed JSON:",N),console.log("[import] parsed type:",typeof N,Array.isArray(N)?"array":"not array"),N&&!Array.isArray(N)&&N.pages?(console.log("[import] detected pages+collections format"),e=N):Array.isArray(N)?e.push(...N):e.push(N),console.log("[import] pagesData prepared:",e)}catch(N){let ut=N.message.match(/position (\d+)/),Ae=N.message;if(ut){let he=parseInt(ut[1],10),ot=Se.substring(0,he).split(`
`),mt=ot.length,De=ot[ot.length-1].length+1;Ae=`Ligne ${mt}, colonne ${De}: ${N.message}`}j(`Erreur JSON : ${Ae}`,"error"),console.error("[import] paste parse error",N),ke&&Be&&(ke.classList.remove("hidden"),Be.innerHTML=`
              <div class="text-rose-600">
                <p class="font-medium">\u2717 Erreur de syntaxe JSON</p>
                <p class="text-xs mt-1">${Ae}</p>
                <p class="text-xs mt-2 text-slate-500">V\xE9rifiez les virgules, guillemets et accolades.</p>
              </div>
            `);return}}else if($t==="upload"){if(bt.length===0)return;let Se=[];for(let N of bt){let ut=await N.text();try{let Ae=JSON.parse(ut);Array.isArray(Ae)?e.push(...Ae):e.push(Ae)}catch(Ae){let he=Ae.message.match(/position (\d+)/),ot=Ae.message;if(he){let mt=parseInt(he[1],10);ot=`Ligne ${ut.substring(0,mt).split(`
`).length}: ${Ae.message}`}Se.push({file:N.name,error:ot}),console.error("[import] parse error",N.name,Ae)}}if(Se.length>0){if(ke&&Be){ke.classList.remove("hidden");let N='<div class="text-rose-600"><p class="font-medium">\u2717 Erreurs de syntaxe JSON</p><ul class="ml-4 text-xs mt-1">';Se.forEach(ut=>{N+=`<li><strong>${ut.file}</strong>: ${ut.error}</li>`}),N+="</ul></div>",e.length>0&&(N+=`<p class="text-amber-600 mt-2 text-sm">\u26A0 ${e.length} page(s) valide(s) seront import\xE9e(s)</p>`),Be.innerHTML=N}if(e.length===0){j("Tous les fichiers contiennent des erreurs JSON","error");return}}}else return;let t=Array.isArray(e)?e.length>0:e&&(((a=e.pages)==null?void 0:a.length)>0||e.title);if(console.log("[import] hasData check:",t,"pagesData:",e),!t){j("Aucune page valide \xE0 importer."),ke&&Be&&(ke.classList.remove("hidden"),Be.innerHTML=`
            <div class="text-amber-600">
              <p class="font-medium">\u26A0 Aucune page d\xE9tect\xE9e</p>
              <p class="text-xs mt-1">Le JSON doit contenir :</p>
              <ul class="text-xs ml-4 mt-1 list-disc">
                <li>Un objet page avec "title" : <code>{"title": "Ma page", ...}</code></li>
                <li>Un tableau de pages : <code>[{"title": "Page 1"}, {"title": "Page 2"}]</code></li>
                <li>Ou un objet combin\xE9 : <code>{"pages": [...], "collections": {...}}</code></li>
              </ul>
            </div>
          `);return}Ne&&(Ne.disabled=!0,Ne.textContent="Import..."),console.log("[import] Sending to server:",JSON.stringify(e).substring(0,500));try{let Se=await fetch(`${wt}/import`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)});console.log("[import] Server response status:",Se.status);let N=await Se.json();if(console.log("[import] Server response body:",N),!Se.ok)throw ke&&Be&&(ke.classList.remove("hidden"),Be.innerHTML=`
              <div class="text-rose-600">
                <p class="font-medium">\u2717 Erreur serveur</p>
                <p class="text-xs mt-1">${N.message||"Erreur inconnue"}</p>
                ${N.details?`<p class="text-xs mt-1 text-slate-500">${N.details}</p>`:""}
              </div>
            `),new Error(N.message||"Erreur serveur");if(ke&&Be){ke.classList.remove("hidden");let he="",ot=((c=N.imported)==null?void 0:c.length)>0||((m=N.collectionsCreated)==null?void 0:m.length)>0,mt=((g=N.errors)==null?void 0:g.length)>0;ot&&!mt?he+='<div class="bg-green-50 border border-green-200 rounded-lg p-3 mb-2"><p class="text-green-800 font-medium">\u2713 Import r\xE9ussi</p></div>':ot&&mt?he+='<div class="bg-amber-50 border border-amber-200 rounded-lg p-3 mb-2"><p class="text-amber-800 font-medium">\u26A0 Import partiel</p></div>':mt&&(he+='<div class="bg-rose-50 border border-rose-200 rounded-lg p-3 mb-2"><p class="text-rose-800 font-medium">\u2717 Import \xE9chou\xE9</p></div>'),N.collectionsCreated&&N.collectionsCreated.length>0&&(he+=`<p class="text-violet-700 mt-2">\u2713 ${N.collectionsCreated.length} collection(s) cr\xE9\xE9e(s)</p>`,he+='<ul class="ml-4 text-xs text-slate-600">',N.collectionsCreated.forEach(De=>{he+=`<li>${De.name} (${De.itemsCount} item${De.itemsCount>1?"s":""})</li>`}),he+="</ul>"),N.imported&&N.imported.length>0&&(he+=`<p class="text-green-700 mt-2">\u2713 ${N.imported.length} page(s) import\xE9e(s)</p>`,he+='<ul class="ml-4 text-xs text-slate-600">',N.imported.forEach(De=>{he+=`<li><strong>${De.title}</strong> \u2192 ${De.slug} (${De.action==="updated"?"mise \xE0 jour":"cr\xE9\xE9e"})</li>`}),he+="</ul>"),N.errors&&N.errors.length>0&&(he+=`<p class="text-rose-600 mt-3 font-medium">\u2717 ${N.errors.length} erreur(s)</p>`,he+='<ul class="ml-4 text-xs text-rose-600 space-y-1 mt-1">',N.errors.forEach(De=>{he+=`<li class="bg-rose-50 p-2 rounded"><strong>${De.title}</strong><br/><span class="text-rose-500">${De.error}</span></li>`}),he+="</ul>"),Be.innerHTML=he}let ut=((P=N.imported)==null?void 0:P.length)>0||((Q=N.collectionsCreated)==null?void 0:Q.length)>0,Ae=((me=N.errors)==null?void 0:me.length)>0;if(N.imported&&N.imported.length>0&&(ae=await Qt(),Jt(ae,je),ae.length>0&&!je&&Et(ae[0].id)),ut&&!Ae){let he=(be=N.collectionsCreated)!=null&&be.length?` + ${N.collectionsCreated.length} collection(s)`:"";j(`\u2713 Import r\xE9ussi : ${((Qe=N.imported)==null?void 0:Qe.length)||0} page(s)${he}`,"success")}else ut&&Ae?j(`\u26A0 Import partiel : ${((Lt=N.imported)==null?void 0:Lt.length)||0} page(s), ${N.errors.length} erreur(s)`,"warning"):Ae&&j(`\u2717 Import \xE9chou\xE9 : ${N.errors.length} erreur(s)`,"error");bt=[],Ro(),Ho()}catch(Se){console.error("[import] failed",Se),j(Se.message||"Erreur import","error")}finally{Ne&&(Ne.disabled=!1,Ne.textContent="Importer")}};re==null||re.addEventListener("click",Nr),_e.forEach(e=>e.addEventListener("click",Uo)),pe==null||pe.addEventListener("click",e=>{e.target===pe&&Uo()}),Re==null||Re.addEventListener("change",e=>{wn(e.target.files)}),ye==null||ye.addEventListener("dragover",e=>{e.preventDefault(),ye.classList.add("border-[#9C6BFF]","bg-[#9C6BFF]/10")}),ye==null||ye.addEventListener("dragleave",e=>{e.preventDefault(),ye.classList.remove("border-[#9C6BFF]","bg-[#9C6BFF]/10")}),ye==null||ye.addEventListener("drop",e=>{e.preventDefault(),ye.classList.remove("border-[#9C6BFF]","bg-[#9C6BFF]/10"),wn(e.dataTransfer.files)}),Ne==null||Ne.addEventListener("click",Dr),Ye==null||Ye.addEventListener("input",()=>{Fs()}),us==null||us.addEventListener("click",Mr),cs.forEach(e=>{e.addEventListener("click",()=>{let t=e.dataset.importTab;$t=t,cs.forEach(o=>{o.dataset.importTab===t?(o.classList.add("bg-[#9C6BFF]","text-white"),o.classList.remove("border","border-slate-200","text-slate-700")):(o.classList.remove("bg-[#9C6BFF]","text-white"),o.classList.add("border","border-slate-200","text-slate-700"))}),qs.forEach(o=>{o.dataset.importPanel===t?o.classList.remove("hidden"):o.classList.add("hidden")}),Fs()})}),ds==null||ds.addEventListener("click",async()=>{if(!As)return;let e=As.textContent||"";try{await navigator.clipboard.writeText(e),j("Template copi\xE9 !")}catch(t){console.error("[import] copy failed",t),j("Erreur copie")}}),ms==null||ms.addEventListener("click",no),xt==null||xt.addEventListener("click",kr),st==null||st.addEventListener("click",e=>{e.target===st&&no()}),D==null||D.addEventListener("click",e=>{e.stopPropagation(),qr()}),document.addEventListener("click",e=>{js&&(ue!=null&&ue.contains(e.target)||D!=null&&D.contains(e.target)||Bs())}),Oe.forEach(e=>{e.addEventListener("click",t=>{t.stopPropagation();let o=e.dataset.blockAdd;Ar(o)})}),Ce==null||Ce.addEventListener("click",()=>{ao()}),Ve==null||Ve.addEventListener("click",()=>{lo&&vn(lo),ao()}),ne==null||ne.addEventListener("click",e=>{e.target===ne&&ao()}),B==null||B.addEventListener("input",e=>{var a,c,m,g;let t=e.target;if(!t||!t.name)return;if(t.name==="group-columns-mobile"||t.name==="group-columns-desktop"){let P=((a=B.querySelector('[name="group-columns-mobile"]'))==null?void 0:a.value)||"1",Q=((c=B.querySelector('[name="group-columns-desktop"]'))==null?void 0:c.value)||"3";Zs(P,Q)}if(t.name==="collection-columns-mobile"||t.name==="collection-columns-desktop"){let P=((m=B.querySelector('[name="collection-columns-mobile"]'))==null?void 0:m.value)||"1",Q=((g=B.querySelector('[name="collection-columns-desktop"]'))==null?void 0:g.value)||"3";Yt(P,Q)}let o=t.closest("[data-block-panel]");if(o&&o.dataset.blockPanel==="appearance"){let P=fs(),Q=Ot(P);if(P&&Q){let me=ls(Q);Ys(P.id,me)}}}),B==null||B.addEventListener("change",e=>{var a,c;let t=e.target;if(!t||!t.name)return;if(t.hasAttribute("data-color-select")){let m=t.options[t.selectedIndex],g=((a=m==null?void 0:m.dataset)==null?void 0:a.color)||"#ffffff",P=(c=t.closest(".relative"))==null?void 0:c.querySelector("[data-color-preview]");P&&(g==="transparent"?P.style.background="repeating-conic-gradient(#ccc 0% 25%, white 0% 50%) 50% / 8px 8px":(P.style.backgroundColor=g,P.style.background=""))}let o=t.closest("[data-block-panel]");if(o&&o.dataset.blockPanel==="appearance"){let m=fs(),g=Ot(m);if(m&&g){let P=ls(g);Ys(m.id,P)}}}),He==null||He.addEventListener("change",e=>{let t=e.target;Do((t==null?void 0:t.value)||"")}),B==null||B.addEventListener("submit",$o),ht==null||ht.addEventListener("click",e=>{e.preventDefault();let t=fs();t&&dt(t)}),h==null||h.addEventListener("load",()=>{No=!0,vt("\xC0 jour"),Ts(Je)}),S==null||S.addEventListener("click",()=>{let e=window.open("","_blank");if(!e)return;e.opener=null;let t=e.document;t.open(),t.write(Mo||Xt()),t.close()});let Sn=e=>{var t,o,a;ee&&(e?(ee.classList.remove("hidden"),u&&(C&&(C.value=((t=u.seo)==null?void 0:t.title)||""),q&&(q.value=((o=u.seo)==null?void 0:o.description)||""),T&&(T.checked=((a=u.seo)==null?void 0:a.indexed)!==!1))):ee.classList.add("hidden"))},uo=(e,t="muted")=>{if(!$)return;let o=t==="success"?"text-emerald-600":t==="error"?"text-rose-600":"text-slate-500";$.textContent=e||"",$.className=`text-sm ${o}`};V==null||V.addEventListener("click",()=>{let e=ee&&!ee.classList.contains("hidden");Sn(!e)}),G==null||G.addEventListener("click",()=>Sn(!1)),w==null||w.addEventListener("submit",async e=>{var t;if(e.preventDefault(),!u){uo("Aucune page active.","error");return}H&&(H.disabled=!0),uo("");try{let o={title:((C==null?void 0:C.value)||"").trim(),description:((q==null?void 0:q.value)||"").trim(),indexed:(t=T==null?void 0:T.checked)!=null?t:!0},a={...u,seo:o},c=await zt(a);c&&(u=c,uo("SEO enregistr\xE9.","success"),j("SEO mis \xE0 jour"),Nt(u))}catch(o){console.error("[seo] save failed",o),uo(o.message||"Erreur lors de la sauvegarde.","error")}finally{H&&(H.disabled=!1)}});let zo=()=>{var e,t;if(!(!k&&!F)){if(!u){k&&(k.checked=!0),F&&(F.value="");return}k&&(k.checked=((e=u.accessibility)==null?void 0:e.showInMainNav)!==!1),F&&(F.value=((t=u.accessibility)==null?void 0:t.mainLabel)||"")}},Ln=e=>{L&&(e?(zo(),L.classList.remove("hidden")):L.classList.add("hidden"))},mo=(e,t="muted")=>{if(!Y)return;let o=t==="success"?"text-emerald-600":t==="error"?"text-rose-600":"text-slate-500";Y.textContent=e||"",Y.className=`text-sm ${o}`};E==null||E.addEventListener("click",()=>{let e=L&&!L.classList.contains("hidden");Ln(!e)}),x==null||x.addEventListener("click",()=>Ln(!1)),A==null||A.addEventListener("submit",async e=>{var t;if(e.preventDefault(),!u){mo("Aucune page active.","error");return}K&&(K.disabled=!0),mo("");try{let o={showInMainNav:(t=k==null?void 0:k.checked)!=null?t:!0,mainLabel:((F==null?void 0:F.value)||"").trim()},a={...u,accessibility:o},c=await zt(a);c&&(u=c,zo(),mo("Accessibilit\xE9 enregistr\xE9e.","success"),j("Accessibilit\xE9 mise \xE0 jour"),Jt(ae,je),Nt(u))}catch(o){console.error("[accessibility] save failed",o),mo(o.message||"Erreur lors de la sauvegarde.","error")}finally{K&&(K.disabled=!1)}});let kn=e=>{ge&&(e?(ge.classList.remove("hidden"),u&&(fe&&(fe.value=u.name||""),W&&(W.value=u.title||""),Ee&&(Ee.value=u.slug||""),R&&(R.value=u.description||""))):ge.classList.add("hidden"))},gs=(e,t="muted")=>{if(!p)return;let o=t==="success"?"text-emerald-600":t==="error"?"text-rose-600":"text-slate-500";p.textContent=e||"",p.className=`text-sm ${o}`};te==null||te.addEventListener("click",()=>{let e=ge&&!ge.classList.contains("hidden");kn(!e)}),ve==null||ve.addEventListener("click",()=>kn(!1)),Te==null||Te.addEventListener("submit",async e=>{if(e.preventDefault(),!u){gs("Aucune page active.","error");return}f&&(f.disabled=!0),gs("");try{let t=((fe==null?void 0:fe.value)||"").trim(),o=((W==null?void 0:W.value)||"").trim(),a=((Ee==null?void 0:Ee.value)||"").trim(),c=((R==null?void 0:R.value)||"").trim();if(!o){gs("Le titre est requis.","error"),f&&(f.disabled=!1);return}if(!a||!a.startsWith("/")){gs("Le slug doit commencer par /.","error"),f&&(f.disabled=!1);return}let m={...u,name:t||o,title:o,slug:a,description:c},g=await zt(m);g&&(u=g,ae=ae.map(P=>P.id===g.id?g:P),gs("Propri\xE9t\xE9s enregistr\xE9es.","success"),j("Page mise \xE0 jour"),un(u),Jt(ae,je),Nt(u))}catch(t){console.error("[page-props] save failed",t),gs(t.message||"Erreur lors de la sauvegarde.","error")}finally{f&&(f.disabled=!1)}});let Hr=e=>{let t=e.target.closest("[data-block-item]");if(!t||!ro()){e.preventDefault();return}if(jt=t.dataset.blockId||null,!jt){e.preventDefault();return}e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/plain",jt),requestAnimationFrame(()=>{t.classList.add("opacity-50","scale-[0.98]","shadow-lg","ring-2","ring-[#9C6BFF]")})},En=()=>{v==null||v.querySelectorAll("[data-block-item]").forEach(e=>{e.classList.remove("opacity-50","scale-[0.98]","shadow-lg","ring-2","ring-[#9C6BFF]","border-t-4","border-b-4","border-t-[#9C6BFF]","border-b-[#9C6BFF]","pt-6","pb-6")})},Ur=()=>{jt=null,En()},Rr=e=>{if(!jt||!ro())return;let t=e.target.closest("[data-block-item]");if(!t||t.dataset.blockId===jt)return;e.preventDefault(),e.dataTransfer.dropEffect="move";let o=t.getBoundingClientRect(),a=o.top+o.height/2,c=e.clientY<a;v==null||v.querySelectorAll("[data-block-item]").forEach(m=>{m!==t&&m.dataset.blockId!==jt&&m.classList.remove("border-t-4","border-b-4","border-t-[#9C6BFF]","border-b-[#9C6BFF]","pt-6","pb-6")}),t.classList.remove("border-t-4","border-b-4","border-t-[#9C6BFF]","border-b-[#9C6BFF]","pt-6","pb-6"),c?t.classList.add("border-t-4","border-t-[#9C6BFF]","pt-6"):t.classList.add("border-b-4","border-b-[#9C6BFF]","pb-6"),t.dataset.dropPosition=c?"before":"after"},zr=e=>{let t=e.target.closest("[data-block-item]");if(!t)return;let o=e.relatedTarget;o&&t.contains(o)||(t.classList.remove("border-t-4","border-b-4","border-t-[#9C6BFF]","border-b-[#9C6BFF]","pt-6","pb-6"),delete t.dataset.dropPosition)},Or=e=>{if(!jt||!ro())return;e.preventDefault();let t=e.target.closest("[data-block-item]"),o=jt,a=(t==null?void 0:t.dataset.dropPosition)||"after";jt=null,En();let c=(t==null?void 0:t.dataset.blockId)||null;!c||o===c||Er(o,c,a)},jt=null;v==null||v.addEventListener("dragstart",Hr),v==null||v.addEventListener("dragend",Ur),v==null||v.addEventListener("dragover",Rr),v==null||v.addEventListener("dragleave",zr),v==null||v.addEventListener("drop",Or),is(),document.addEventListener("ai-page-updated",async e=>{var t;console.log("[design] Rafra\xEEchissement d\xE9clench\xE9 par IA",e.detail);try{let o=await Qt();if(ae=(Array.isArray(o)?o:[]).map(a=>es(a)),(t=e.detail)!=null&&t.pageId){let a=ae.find(c=>c.id===e.detail.pageId);a&&(u=a,je=a.id,Nt(u),St(u),j("Page mise \xE0 jour par l'IA"))}else if(je){let a=ae.find(c=>c.id===je);a&&(u=a,Nt(u),St(u))}}catch(o){console.error("[design] Erreur rafra\xEEchissement IA:",o)}})}function Kn(){var Qs,Xs,Tt;let s=document.querySelector("[data-collection-list]");if(!s)return;let n={empty:document.querySelector('[data-content-view="empty"]'),header:document.querySelector('[data-content-view="header"]'),collection:document.querySelector('[data-content-view="collection"]'),footer:document.querySelector('[data-content-view="footer"]')},l=document.querySelectorAll("[data-content-section]"),d=document.querySelectorAll("[data-content-section-trigger]"),h=document.querySelector("[data-header-status]"),S=document.querySelector("[data-footer-status]"),z=document.querySelector("[data-collection-count]"),U=document.querySelector("[data-item-panel]"),V=document.querySelectorAll("[data-item-panel-close]"),ee=document.querySelector("[data-collection-empty]"),G=document.querySelector("[data-collection-items-empty]"),w=document.querySelector("[data-item-table-wrapper]"),C=document.querySelector("[data-item-table-body]"),q=document.querySelector("[data-collection-title]"),T=document.querySelector("[data-collection-description]"),$=document.querySelector("[data-item-add]"),H=document.querySelector("[data-item-detail-empty]"),E=document.querySelector("[data-item-form]"),L=E?{title:E.querySelector('[name="item-title"]'),slug:E.querySelector('[name="item-slug"]'),excerpt:E.querySelector('[name="item-excerpt"]'),content:E.querySelector('[name="item-content"]'),image:E.querySelector('[name="item-image"]'),ctaText:E.querySelector('[name="item-cta-text"]'),ctaUrl:E.querySelector('[name="item-cta-url"]'),status:E.querySelector('[name="item-status"]')}:{},x=document.querySelector("[data-item-status-badge]"),A=document.querySelector("[data-item-delete]"),k=document.querySelector("[data-item-delete-modal]"),F=document.querySelector("[data-item-delete-cancel]"),Y=document.querySelector("[data-item-delete-confirm]"),K=document.querySelector("[data-item-cancel]"),te=document.querySelector("[data-item-save]"),ge="rounded-full px-3 py-1 text-xs font-semibold",ve=()=>window.matchMedia("(min-width: 1024px)").matches,Te=r=>{if(!U||ve())return;let i=U.dataset.itemPanelHidden||"",b=U.dataset.itemPanelVisible||"";r?(Pt(U,b,"remove"),Pt(U,i,"add"),U.classList.add("pointer-events-none"),U.dataset.itemPanelOpen="false"):(Pt(U,i,"remove"),Pt(U,b,"add"),U.classList.remove("pointer-events-none"),U.dataset.itemPanelOpen="true")},fe=()=>{if(U){if(ve()){let r=U.dataset.itemPanelHidden||"";Pt(U,r,"remove"),U.classList.remove("pointer-events-none"),U.dataset.itemPanelOpen="true";return}E!=null&&E.classList.contains("hidden")?Te(!0):Te(!1)}};window.addEventListener("resize",fe),V.forEach(r=>{r.addEventListener("click",i=>{i.preventDefault(),!ve()&&Rt()})}),fe();let W={logo:document.querySelector('[name="header-logo"]'),logoAlt:document.querySelector('[name="header-logo-alt"]'),logoUrl:document.querySelector('[name="header-logo-url"]'),ctaText:document.querySelector('[name="header-cta-text"]'),ctaUrl:document.querySelector('[name="header-cta-url"]'),ctaStyle:document.querySelector('[name="header-cta-style"]'),position:document.querySelector('[name="header-position"]'),bg:document.querySelector('[name="header-bg"]')},Ee=document.querySelector("[data-header-nav-list]"),R=document.querySelector("[data-header-nav-add]"),p=document.querySelector("[data-header-save]"),f=document.querySelector("[data-template-header-nav-item]"),v=document.querySelector("[data-header-pages-list]"),_=[],se=[],D={linkedin:document.querySelector('[name="footer-social-linkedin"]'),twitter:document.querySelector('[name="footer-social-twitter"]'),instagram:document.querySelector('[name="footer-social-instagram"]'),facebook:document.querySelector('[name="footer-social-facebook"]'),youtube:document.querySelector('[name="footer-social-youtube"]'),github:document.querySelector('[name="footer-social-github"]'),copyright:document.querySelector('[name="footer-copyright"]'),legalUrl:document.querySelector('[name="footer-legal-url"]'),privacyUrl:document.querySelector('[name="footer-privacy-url"]'),bg:document.querySelector('[name="footer-bg"]'),columnsCount:document.querySelector('[name="footer-columns-count"]')},ue=document.querySelector("[data-footer-columns-list]"),Oe=document.querySelector("[data-footer-column-add]"),ne=document.querySelector("[data-footer-save]"),Ve=document.querySelector("[data-template-footer-column]"),Ce=document.querySelector("[data-template-footer-link]"),qe=null,tt={nav:[],logo:{},cta:{},style:{}},$e={columns:[],socials:{},copyright:"",legal:{},style:{}},It=Le((O==null?void 0:O.slugValue)||X.slug||""),Ft=It,we=It?`/api/sites/${encodeURIComponent(It)}/layout`:null,B=r=>{Object.entries(n).forEach(([i,b])=>{b&&b.classList.toggle("hidden",i!==r)}),l.forEach(i=>{i.dataset.contentSection===r?i.dataset.active="true":delete i.dataset.active}),qe=r};l.forEach(r=>{r.addEventListener("click",()=>{let i=r.dataset.contentSection;(i==="header"||i==="footer")&&B(i)})}),d.forEach(r=>{r.addEventListener("click",()=>{let i=r.dataset.contentSectionTrigger;i&&B(i)})});let Dt=async()=>{if(!(!Ft||!v))try{let r=await fetch(`/api/sites/${Ft}/pages`,{credentials:"include"});if(!r.ok)throw new Error("Erreur chargement pages");_=await r.json(),ie()}catch(r){console.error("[header] load pages error",r),v.innerHTML='<p class="text-xs text-red-500">Erreur chargement pages</p>'}},y=r=>{let i=(r||"").toString().trim();if(!i||i==="/"||i==="index")return"/";let b=i.toLowerCase();if(i.startsWith("#")||b.startsWith("mailto:")||b.startsWith("tel:")||/^[a-z]+:\/\//i.test(i))return i;if(i.startsWith("//")){let Z=i.slice(2);if(Z.includes("."))return i;let J=Z.replace(/^\/+/,"").replace(/\/+$/,"");return J?`/${J}`:"/"}let I=i.replace(/^\/+/,"").replace(/\/+$/,"");return I?`/${I}`:"/"},M=(r,i="")=>{let b=(r||"").toString().trim();return b?y(b):i},ie=()=>{if(v){if(v.innerHTML="",_.length===0){v.innerHTML='<p class="text-xs text-slate-400 italic">Aucune page disponible</p>';return}_.forEach(r=>{let i=r.slug||r.id||"",b=r.name||r.title||i,I=y(i),Z=se.some(re=>re.url===I),J=document.createElement("label");J.className="flex items-center gap-2 px-3 py-2 rounded-lg border border-slate-200 hover:bg-slate-50 cursor-pointer transition-colors",J.innerHTML=`
          <input type="checkbox" name="nav-page" value="${I}" data-page-title="${b}"
                 class="w-4 h-4 rounded border-slate-300 text-violet-600 focus:ring-violet-500"
                 ${Z?"checked":""}>
          <span class="flex-1 text-sm text-slate-700">${b}</span>
          <span class="text-xs text-slate-400">${I}</span>
        `;let le=J.querySelector("input");le.addEventListener("change",()=>{le.checked?se.some(re=>re.url===I)||se.push({label:b,url:I}):se=se.filter(re=>re.url!==I)}),v.appendChild(J)})}},ce=()=>{var i,b,I,Z,J,le,re,pe,_e,ye,Re;let r=[];return v==null||v.querySelectorAll('input[name="nav-page"]:checked').forEach(ze=>{let Me=y(ze.value),ke=ze.dataset.pageTitle||Me;r.push({label:ke,url:Me})}),{logo:{src:((b=(i=W.logo)==null?void 0:i.value)==null?void 0:b.trim())||"",alt:((Z=(I=W.logoAlt)==null?void 0:I.value)==null?void 0:Z.trim())||"",url:M((J=W.logoUrl)==null?void 0:J.value,"/")},nav:r,cta:{text:((re=(le=W.ctaText)==null?void 0:le.value)==null?void 0:re.trim())||"",url:M((pe=W.ctaUrl)==null?void 0:pe.value,""),style:((_e=W.ctaStyle)==null?void 0:_e.value)||"primary"},style:{position:((ye=W.position)==null?void 0:ye.value)||"static",bg:((Re=W.bg)==null?void 0:Re.value)||"bg-white"}}},Mt=async r=>{var b,I,Z,J,le,re,pe,_e,ye,Re,ze;if(!r)return;W.logo&&(W.logo.value=((b=r.logo)==null?void 0:b.src)||""),W.logoAlt&&(W.logoAlt.value=((I=r.logo)==null?void 0:I.alt)||""),W.logoUrl&&(W.logoUrl.value=M((Z=r.logo)==null?void 0:Z.url,"/")),W.ctaText&&(W.ctaText.value=((J=r.cta)==null?void 0:J.text)||""),W.ctaUrl&&(W.ctaUrl.value=M((le=r.cta)==null?void 0:le.url,"")),W.ctaStyle&&(W.ctaStyle.value=((re=r.cta)==null?void 0:re.style)||"primary"),W.position&&(W.position.value=((pe=r.style)==null?void 0:pe.position)||"static"),W.bg&&(W.bg.value=((_e=r.style)==null?void 0:_e.bg)||"bg-white"),se=(r.nav||[]).map(Me=>({...Me,url:y(Me.url)})),await Dt();let i=((ye=r.logo)==null?void 0:ye.src)||((Re=r.nav)==null?void 0:Re.length)>0||((ze=r.cta)==null?void 0:ze.text);h&&(h.classList.toggle("bg-green-500",!!i),h.classList.toggle("bg-slate-300",!i),h.title=i?"Configur\xE9":"Non configur\xE9")};p==null||p.addEventListener("click",async()=>{if(we){p.disabled=!0,p.textContent="Enregistrement...";try{let r=ce();if(!(await fetch(`${we}/header`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(r)})).ok)throw new Error("Erreur serveur");tt=r,Mt(r),j("Header enregistr\xE9")}catch(r){console.error("[header] save error",r),j("Erreur lors de l'enregistrement","error")}finally{p.disabled=!1,p.textContent="Enregistrer"}}});let rs=(r,i="",b="")=>{if(!Ce||!r)return;let I=Ce.content.cloneNode(!0),Z=I.querySelector("[data-footer-link]"),J=I.querySelector('[name="link-label"]'),le=I.querySelector('[name="link-url"]'),re=I.querySelector("[data-link-remove]");J&&(J.value=i),le&&(le.value=b),re==null||re.addEventListener("click",()=>Z==null?void 0:Z.remove()),r.appendChild(I)},Ws=(r="",i=[])=>{if(!Ve||!ue)return;let b=Ve.content.cloneNode(!0),I=b.querySelector("[data-footer-column]"),Z=b.querySelector('[name="column-title"]'),J=b.querySelector("[data-column-links]"),le=b.querySelector("[data-column-link-add]"),re=b.querySelector("[data-column-remove]");Z&&(Z.value=r),i.forEach(pe=>rs(J,pe.label,pe.url)),le==null||le.addEventListener("click",()=>rs(J)),re==null||re.addEventListener("click",()=>I==null?void 0:I.remove()),ue.appendChild(b)},ks=()=>{var i,b,I,Z,J,le,re,pe,_e,ye,Re,ze,Me,ke,Be,Ne,cs,qs,ds,As;let r=[];return ue==null||ue.querySelectorAll("[data-footer-column]").forEach(Ye=>{var bt,$t;let us=(($t=(bt=Ye.querySelector('[name="column-title"]'))==null?void 0:bt.value)==null?void 0:$t.trim())||"",it=[];Ye.querySelectorAll("[data-footer-link]").forEach(st=>{var xt,Vt,eo,to;let Is=((Vt=(xt=st.querySelector('[name="link-label"]'))==null?void 0:xt.value)==null?void 0:Vt.trim())||"",ms=((to=(eo=st.querySelector('[name="link-url"]'))==null?void 0:eo.value)==null?void 0:to.trim())||"";(Is||ms)&&it.push({label:Is,url:ms})}),(us||it.length>0)&&r.push({title:us,links:it})}),{columns:r,socials:{linkedin:((b=(i=D.linkedin)==null?void 0:i.value)==null?void 0:b.trim())||"",twitter:((Z=(I=D.twitter)==null?void 0:I.value)==null?void 0:Z.trim())||"",instagram:((le=(J=D.instagram)==null?void 0:J.value)==null?void 0:le.trim())||"",facebook:((pe=(re=D.facebook)==null?void 0:re.value)==null?void 0:pe.trim())||"",youtube:((ye=(_e=D.youtube)==null?void 0:_e.value)==null?void 0:ye.trim())||"",github:((ze=(Re=D.github)==null?void 0:Re.value)==null?void 0:ze.trim())||""},copyright:((ke=(Me=D.copyright)==null?void 0:Me.value)==null?void 0:ke.trim())||"",legal:{url:((Ne=(Be=D.legalUrl)==null?void 0:Be.value)==null?void 0:Ne.trim())||"",privacyUrl:((qs=(cs=D.privacyUrl)==null?void 0:cs.value)==null?void 0:qs.trim())||""},style:{bg:((ds=D.bg)==null?void 0:ds.value)||"bg-slate-900 text-white",columnsCount:((As=D.columnsCount)==null?void 0:As.value)||"4"}}},as=r=>{var b,I,Z,J,le,re,pe,_e,ye,Re,ze;if(!r)return;D.linkedin&&(D.linkedin.value=((b=r.socials)==null?void 0:b.linkedin)||""),D.twitter&&(D.twitter.value=((I=r.socials)==null?void 0:I.twitter)||""),D.instagram&&(D.instagram.value=((Z=r.socials)==null?void 0:Z.instagram)||""),D.facebook&&(D.facebook.value=((J=r.socials)==null?void 0:J.facebook)||""),D.youtube&&(D.youtube.value=((le=r.socials)==null?void 0:le.youtube)||""),D.github&&(D.github.value=((re=r.socials)==null?void 0:re.github)||""),D.copyright&&(D.copyright.value=r.copyright||""),D.legalUrl&&(D.legalUrl.value=((pe=r.legal)==null?void 0:pe.url)||""),D.privacyUrl&&(D.privacyUrl.value=((_e=r.legal)==null?void 0:_e.privacyUrl)||""),D.bg&&(D.bg.value=((ye=r.style)==null?void 0:ye.bg)||"bg-slate-900 text-white"),D.columnsCount&&(D.columnsCount.value=((Re=r.style)==null?void 0:Re.columnsCount)||"4"),ue&&(ue.innerHTML=""),(r.columns||[]).forEach(Me=>Ws(Me.title,Me.links));let i=((ze=r.columns)==null?void 0:ze.length)>0||r.copyright||Object.values(r.socials||{}).some(Me=>Me);S&&(S.classList.toggle("bg-green-500",!!i),S.classList.toggle("bg-slate-300",!i),S.title=i?"Configur\xE9":"Non configur\xE9")};Oe==null||Oe.addEventListener("click",()=>Ws()),ne==null||ne.addEventListener("click",async()=>{if(we){ne.disabled=!0,ne.textContent="Enregistrement...";try{let r=ks();if(!(await fetch(`${we}/footer`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(r)})).ok)throw new Error("Erreur serveur");$e=r,as(r),j("Footer enregistr\xE9")}catch(r){console.error("[footer] save error",r),j("Erreur lors de l'enregistrement","error")}finally{ne.disabled=!1,ne.textContent="Enregistrer"}}}),(async()=>{if(we)try{let r=await fetch(we,{credentials:"include"});if(r.ok){let i=await r.json();i.header&&(tt=i.header,Mt(i.header)),i.footer&&($e=i.footer,as(i.footer))}}catch(r){console.error("[layout] load error",r)}})();let He=Le((O==null?void 0:O.slugValue)||X.slug||""),Ke=He?`/api/sites/${encodeURIComponent(He)}/collections`:null,ht=[],Pe=[],Ue=null,Fe=null,rt=!1,Ht=!1,Ut=null,Es=r=>{let i=(r||"").trim();if(!i)return"";if(i==="/")return"/";let I=i.replace(/^\//,"").split("/").map(Z=>_t(Z||"")).filter(Z=>Z.length>0);return I.length?`/${I.join("/")}`:""},Zs=r=>{if(!r)return"\u2014";let i=new Date(r);return Number.isNaN(i.getTime())?"\u2014":i.toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric"})},Yt=()=>{let r=ht.find(i=>i.id===Ue);q&&(q.textContent=(r==null?void 0:r.name)||"S\xE9lectionnez une collection"),T&&(T.textContent=(r==null?void 0:r.description)||"")},Qt=r=>{G&&(G.textContent=r||(Ue?"Aucun item dans cette collection pour le moment.":"Choisissez une collection dans le panneau de gauche."))},Rt=()=>{E&&(E.classList.add("hidden"),E.dataset.itemId=""),H==null||H.classList.remove("hidden"),x&&(x.className=`hidden ${ge}`,x.textContent=""),A&&(A.disabled=!0),fe()},zt=()=>{E&&(E.classList.remove("hidden"),H==null||H.classList.add("hidden"),fe())},is=()=>{$&&($.disabled=!Ue,$.disabled?$.classList.add("opacity-60","pointer-events-none"):$.classList.remove("opacity-60","pointer-events-none"))},Cs=r=>{if(!x)return;if(!r){x.className=`hidden ${ge}`,x.textContent="";return}let i=r.toLowerCase(),b="bg-slate-100 text-slate-600 border border-slate-200";i==="publi\xE9"||i==="publie"?b="bg-emerald-50 text-emerald-700 border border-emerald-100":i==="brouillon"&&(b="bg-amber-50 text-amber-700 border border-amber-100"),x.className=`${ge} ${b}`,x.textContent=r},Ot=()=>{if(s.innerHTML="",z&&(z.textContent=ht.length),!ht.length){ee==null||ee.classList.remove("hidden");return}ee==null||ee.classList.add("hidden"),ht.forEach(r=>{let i=r.id===Ue,b=document.createElement("button");b.type="button",b.dataset.collectionId=r.id,b.className=["w-full rounded-xl border px-3 py-2 text-left transition focus:outline-none focus:ring-2 focus:ring-[#9C6BFF]/40",i?"bg-[#F7F0FF] border-[#9C6BFF]/40 text-slate-900":"border-slate-200 text-slate-700 hover:border-[#9C6BFF]/40"].join(" "),b.setAttribute("role","option"),i?b.setAttribute("aria-current","true"):b.removeAttribute("aria-current"),b.innerHTML=`
          <div class="flex items-center justify-between gap-2">
            <div>
              <p class="text-sm font-semibold">${r.name||r.id}</p>
              <p class="text-xs text-slate-500">${r.description||""}</p>
            </div>
            <span class="text-[11px] uppercase tracking-wide text-slate-400">${r.type||""}</span>
          </div>
        `,b.addEventListener("click",()=>{_s(r.id)}),s.appendChild(b)})},dt=()=>{if(C){if(C.innerHTML="",!Pe.length||!Ue){G==null||G.classList.remove("hidden"),Qt(),w==null||w.classList.add("hidden");return}G==null||G.classList.add("hidden"),w==null||w.classList.remove("hidden"),Pe.forEach(r=>{let i=document.createElement("tr");i.dataset.itemId=r.id;let b=r.id===Fe&&!rt;i.className=["cursor-pointer transition focus-within:bg-[#F7F0FF]/70 focus:outline-none",b?"bg-[#F7F0FF]/70":"hover:bg-slate-50"].join(" "),i.tabIndex=0,i.setAttribute("role","button"),b?i.setAttribute("aria-current","true"):i.removeAttribute("aria-current");let I=r.status||"Brouillon",Z=I.toLowerCase(),J=Z==="publi\xE9"||Z==="publie"?"bg-emerald-50 text-emerald-700 border border-emerald-100":"bg-amber-50 text-amber-700 border border-amber-100";i.innerHTML=`
          <td class="px-4 py-3 align-top">
            <div class="flex flex-col">
              <span class="text-sm font-semibold text-slate-900">${r.title||"Sans titre"}</span>
              <span class="text-xs text-slate-500">${r.summary||r.excerpt||""}</span>
            </div>
          </td>
          <td class="px-4 py-3 align-top text-sm text-slate-600">${r.slug||""}</td>
          <td class="px-4 py-3 align-top">
            <span class="inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold ${J}">
              ${I}
            </span>
          </td>
          <td class="px-4 py-3 align-top text-sm text-slate-500">${Zs(r.updatedAt||r.createdAt)}</td>
        `;let le=()=>{ls(r.id)};i.addEventListener("click",le),i.addEventListener("keydown",re=>{(re.key==="Enter"||re.key===" ")&&(re.preventDefault(),le())}),C.appendChild(i)})}},ls=r=>{let i=Pe.find(b=>b.id===r);i&&(Fe=i.id,rt=!1,Ht=!0,vt(i),dt())},vt=r=>{var i,b;if(!E||!r){Rt();return}zt(),E.dataset.itemId=r.id,L.title&&(L.title.value=r.title||""),L.slug&&(L.slug.value=r.slug||""),L.excerpt&&(L.excerpt.value=r.summary||r.excerpt||""),L.content&&(L.content.value=r.content||""),L.image&&(L.image.value=r.image||""),L.ctaText&&(L.ctaText.value=((i=r.cta)==null?void 0:i.text)||r.ctaText||""),L.ctaUrl&&(L.ctaUrl.value=((b=r.cta)==null?void 0:b.url)||r.ctaUrl||""),L.status&&(L.status.value=r.status||"Brouillon"),Cs(r.status||"Brouillon"),A&&(A.disabled=!1)},Ao=()=>{var r;E&&(rt=!0,Fe=null,Ht=!1,E.dataset.itemId="",E.reset(),L.status&&(L.status.value="Brouillon"),L.slug&&(L.slug.value=""),Cs("Brouillon"),zt(),A&&(A.disabled=!0),(r=L.title)==null||r.focus())},Xt=()=>{var _e,ye,Re,ze,Me,ke,Be,Ne;let r=(((_e=L.title)==null?void 0:_e.value)||"").trim(),i=(((ye=L.slug)==null?void 0:ye.value)||"").trim(),b=(((Re=L.excerpt)==null?void 0:Re.value)||"").trim(),I=(((ze=L.content)==null?void 0:ze.value)||"").trim(),Z=(((Me=L.image)==null?void 0:Me.value)||"").trim(),J=(((ke=L.ctaText)==null?void 0:ke.value)||"").trim(),le=(((Be=L.ctaUrl)==null?void 0:Be.value)||"").trim(),re=((Ne=L.status)==null?void 0:Ne.value)||"Brouillon",pe=J||le?{text:J,url:le}:null;return{title:r,slug:Es(i||r),summary:b,excerpt:b,content:I,image:Z,status:re,...pe&&{cta:pe}}},Ks=r=>{te&&(te.disabled=r,te.textContent=r?"Enregistrement\u2026":"Enregistrer"),A&&!rt&&Fe&&(A.disabled=r)},Io=async r=>{if(!Ke)return[];let i=await fetch(`${Ke}/${encodeURIComponent(r)}/items`,{headers:{Accept:"application/json"}});if(!i.ok){let I=await i.json().catch(()=>({}));throw new Error(I.message||"Impossible de charger les items.")}let b=await i.json().catch(()=>({}));return Array.isArray(b.items)?b.items:[]},_s=async r=>{if(r&&(Ue=r,Fe=null,rt=!1,Ht=!1,B("collection"),Yt(),is(),Ot(),Rt(),Pe=[],dt(),Qt("Chargement des items\u2026"),G==null||G.classList.remove("hidden"),w==null||w.classList.add("hidden"),!!Ke))try{Pe=await Io(r),dt(),Pe.length||Qt()}catch(i){console.error("[content] items failed",i),j(i.message||"Impossible de charger les items."),Pe=[],dt()}},To=async(r,i)=>{if(!Ke)throw new Error("Site inconnu.");let b=await fetch(`${Ke}/${encodeURIComponent(r)}/items`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!b.ok){let I=await b.json().catch(()=>({}));throw new Error(I.message||"Impossible de cr\xE9er cet item.")}return b.json()},Ys=async(r,i,b)=>{if(!Ke)throw new Error("Site inconnu.");let I=await fetch(`${Ke}/${encodeURIComponent(r)}/items/${encodeURIComponent(i)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});if(!I.ok){let Z=await I.json().catch(()=>({}));throw new Error(Z.message||"Impossible de sauvegarder cet item.")}return I.json()},Nt=async(r,i)=>{if(!Ke)throw new Error("Site inconnu.");let b=await fetch(`${Ke}/${encodeURIComponent(r)}/items/${encodeURIComponent(i)}`,{method:"DELETE"});if(!b.ok){let I=await b.json().catch(()=>({}));throw new Error(I.message||"Impossible de supprimer cet item.")}},$o=async()=>{var r;if(!Ke){ee==null||ee.classList.remove("hidden"),Ue=null,Pe=[],dt(),Yt(),is();return}try{let i=await fetch(Ke,{headers:{Accept:"application/json"}});if(!i.ok)throw new Error("Impossible de charger les collections.");let b=await i.json().catch(()=>[]);if(ht=Array.isArray(b)?b:[],Ot(),ht.length>0){let I=((r=ht.find(Z=>Z.id===Ue))==null?void 0:r.id)||ht[0].id;_s(I)}else Ue=null,Pe=[],Yt(),is(),dt()}catch(i){console.error("[content] load collections",i),j(i.message||"Impossible de charger les collections.")}};$==null||$.addEventListener("click",()=>{if(!Ue){j("S\xE9lectionnez d\u2019abord une collection.");return}Ao(),dt()}),K==null||K.addEventListener("click",r=>{if(r.preventDefault(),rt){rt=!1,Fe=null,Rt(),dt();return}if(Fe){let i=Pe.find(b=>b.id===Fe);vt(i)}else Rt()}),(Qs=L.status)==null||Qs.addEventListener("change",()=>{Cs(L.status.value)}),(Xs=L.title)==null||Xs.addEventListener("input",()=>{!rt||!L.slug||Ht||(L.slug.value=Es(L.title.value))}),(Tt=L.slug)==null||Tt.addEventListener("input",()=>{rt&&(Ht=!0)}),E==null||E.addEventListener("submit",async r=>{var b;if(r.preventDefault(),!Ue){j("S\xE9lectionnez une collection.");return}let i=Xt();if(!i.title){j("Le titre est requis."),(b=L.title)==null||b.focus();return}Ks(!0);try{let I;rt||!Fe?(I=await To(Ue,i),Pe=[...Pe,I],j("Item cr\xE9\xE9")):(I=await Ys(Ue,Fe,i),Pe=Pe.map(Z=>Z.id===I.id?I:Z),j("Item mis \xE0 jour")),rt=!1,Fe=I.id,vt(I),dt()}catch(I){console.error("[content] save item failed",I),j(I.message||"Impossible de sauvegarder cet item.")}finally{Ks(!1)}});let yt=()=>{k&&(k.classList.add("hidden"),k.classList.remove("flex"),Ut=null)},at=()=>{!k||!Fe||(Ut=Fe,k.classList.remove("hidden"),k.classList.add("flex"))};A==null||A.addEventListener("click",r=>{r.preventDefault(),Fe&&at()}),F==null||F.addEventListener("click",()=>{yt()}),k==null||k.addEventListener("click",r=>{r.target===k&&yt()}),Y==null||Y.addEventListener("click",async()=>{if(!Ut||!Ue){yt();return}Y.disabled=!0,Y.textContent="Suppression\u2026";try{await Nt(Ue,Ut),Pe=Pe.filter(r=>r.id!==Ut),Fe===Ut&&(Fe=null,Rt()),j("Item supprim\xE9"),dt()}catch(r){console.error("[content] delete item failed",r),j(r.message||"Impossible de supprimer cet item.")}finally{Y.disabled=!1,Y.textContent="Supprimer",yt()}}),Yt(),is(),$o()}function _n(){let s=document.querySelector("[data-deploy-form]");if(!s)return;let n=document.querySelector("[data-deploy-protocol]"),l=document.querySelector("[data-deploy-host]"),d=document.querySelector("[data-deploy-port]"),h=document.querySelector("[data-deploy-user]"),S=document.querySelector("[data-deploy-password]"),z=document.querySelector("[data-deploy-show-password]"),U=document.querySelector("[data-deploy-remote-path]"),V=document.querySelector("[data-deploy-feedback]"),ee=document.querySelector("[data-deploy-save]"),G=document.querySelector("[data-deploy-test]"),w=document.querySelector("[data-deploy-trigger]"),C=document.querySelector("[data-deploy-history]"),q=document.querySelector("[data-deploy-log]"),T=Le((O==null?void 0:O.slugValue)||X.slug||""),$=T?`/api/sites/${encodeURIComponent(T)}/deploy-config`:null,H=T?`/api/sites/${encodeURIComponent(T)}/deploy`:null,E=T?`/api/sites/${encodeURIComponent(T)}/deploy-log`:null,L=!1,x=null,A=p=>{let f=(p||"").trim();return f?f.startsWith("/")?f:`/${f}`:"/www"},k=(p,f="muted")=>{if(!V)return;let v="inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold",_=f==="success"?"bg-emerald-50 text-emerald-700 border border-emerald-100":f==="error"?"bg-rose-50 text-rose-700 border border-rose-100":"bg-slate-50 text-slate-600 border border-slate-100";if(!p){V.textContent="",V.className="text-sm text-slate-500";return}let se=f==="success"?"\u2705":f==="error"?"\u274C":"\u2139\uFE0F";V.innerHTML=`<span class="${v} ${_}">${se}<span>${p}</span></span>`,V.className="text-sm"},F=(p=null)=>{x=p;let f=!!p,v='<svg class="h-4 w-4 animate-spin text-white" viewBox="0 0 24 24" fill="none" aria-hidden="true"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"></path></svg>';ee&&(ee.disabled=f,ee.innerHTML=p==="save"?`<span class="inline-flex items-center gap-2">${v}<span>Enregistrement\u2026</span></span>`:"Enregistrer"),G&&(G.disabled=f,G.innerHTML=p==="test"?'<span class="inline-flex items-center gap-2"><span class="h-4 w-4 animate-spin rounded-full border-2 border-slate-200 border-t-slate-600"></span><span>Test en cours\u2026</span></span>':"Tester la connexion"),w&&(w.disabled=f&&p!==null,w.innerHTML=p==="deploy"?'<span class="inline-flex items-center gap-2"><span class="h-4 w-4 animate-spin rounded-full border-2 border-white/60 border-t-white"></span><span>D\xE9ploiement\u2026</span></span>':"D\xE9ployer maintenant")},Y=p=>{n&&(n.value=p.protocol||"sftp"),l&&(l.value=p.host||""),d&&(d.value=p.port||""),h&&(h.value=p.user||""),U&&(U.value=p.remotePath||"/www"),L=!!p.hasPassword,S&&(S.value="",S.placeholder=L?"Non affich\xE9":"Mot de passe")},K=(p=[])=>{if(C){if(C.innerHTML="",!p.length){let f=document.createElement("li");f.className="text-slate-500",f.textContent="Aucun d\xE9ploiement pour le moment.",C.appendChild(f);return}p.forEach(f=>{let v=document.createElement("li");v.className="flex items-center justify-between gap-2 rounded-xl border border-slate-200 px-3 py-2";let _=f.status==="success"?'<span class="rounded-full bg-emerald-50 px-2 py-0.5 text-[11px] font-semibold text-emerald-700">Succ\xE8s</span>':'<span class="rounded-full bg-rose-50 px-2 py-0.5 text-[11px] font-semibold text-rose-700">\xC9chec</span>',se=f.finishedAt||f.startedAt||"",D=f.durationMs&&Number(f.durationMs)>=0?`${Math.round(Number(f.durationMs)/1e3)}s`:"";v.innerHTML=`
          <div class="space-y-1">
            <div class="flex items-center gap-2">${_}<span class="text-xs text-slate-500">${se}</span></div>
            <p class="text-sm text-slate-800">${f.message||""}</p>
          </div>
          <div class="text-xs text-slate-500">${D}</div>
        `,v.dataset.deployId=f.id||"",v.addEventListener("click",()=>{f.logs&&q&&(q.textContent=f.logs.join(`
`))}),C.appendChild(v)})}},te=(p=[])=>{q&&(q.textContent=p.length?p.join(`
`):"Aucun log pour le moment.")},ge=async()=>{var p;if(E)try{let f=await fetch(E,{headers:{Accept:"application/json"}});if(!f.ok){if(f.status===404){K([]),te(["API d\xE9ploiement indisponible (red\xE9marre le serveur)."]);return}throw new Error("Impossible de charger l\u2019historique.")}let v=await f.json().catch(()=>({})),_=Array.isArray(v.entries)?v.entries:[];K(_),(p=_[0])!=null&&p.logs&&te(_[0].logs)}catch(f){console.error("[deploy] history failed",f)}},ve=async()=>{if(!$){k("Aucun site actif s\xE9lectionn\xE9.","error");return}F("load");try{let p=await fetch($,{headers:{Accept:"application/json"}}),f=await p.json().catch(()=>({}));p.ok?(Y(f||{}),k("Configuration charg\xE9e.","muted")):(Y(f||{}),k(f.message||"Configuration par d\xE9faut charg\xE9e.","muted"))}catch(p){console.error("[deploy] load failed",p),k(p.message||"Erreur lors du chargement.","error")}finally{F(null)}},Te=()=>{let p={protocol:(n==null?void 0:n.value)||"sftp",host:(l==null?void 0:l.value.trim())||"",port:Number(d==null?void 0:d.value)||void 0,user:(h==null?void 0:h.value.trim())||"",remotePath:A((U==null?void 0:U.value)||"/www")},f=(S==null?void 0:S.value)||"";return f.trim().length>0&&(p.password=f),p};s.addEventListener("submit",async p=>{if(p.preventDefault(),!$){k("Aucun site actif s\xE9lectionn\xE9.","error");return}let f=Te();F("save");try{let v=await fetch($,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)});if(!v.ok){let se=await v.json().catch(()=>({}));throw new Error(se.message||"Sauvegarde impossible.")}let _=await v.json();Y(_||{}),k("Configuration enregistr\xE9e.","success"),j("Configuration d\xE9ploiement sauvegard\xE9e")}catch(v){console.error("[deploy] save failed",v),k(v.message||"Erreur lors de la sauvegarde.","error")}finally{F(null)}}),G==null||G.addEventListener("click",async()=>{if(!$){k("Aucun site actif s\xE9lectionn\xE9.","error");return}let p=Te();if(!p.host||!p.user||!p.remotePath){k("Remplissez les champs requis avant de tester.","error");return}F("test");try{let f=await fetch(`${$}/test`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)}),v=await f.json().catch(()=>({}));if(!f.ok||v.success===!1){k(v.message||"Test de connexion \xE9chou\xE9.","error");return}k(v.message||"Connexion OK.","success"),j("Test de connexion r\xE9ussi")}catch(f){console.error("[deploy] test failed",f),k(f.message||"Test de connexion \xE9chou\xE9.","error")}finally{F(null)}}),w==null||w.addEventListener("click",async()=>{if(!H){k("Aucun site actif s\xE9lectionn\xE9.","error");return}F("deploy"),te(["D\xE9ploiement en cours\u2026"]);try{let p=await fetch(H,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Te())}),f=await p.json().catch(()=>({}));if(!p.ok){if(p.status===404){k("API d\xE9ploiement indisponible (red\xE9marre le serveur).","error"),te(["API d\xE9ploiement indisponible (red\xE9marre le serveur)."]);return}throw te(f.logs||[]),new Error(f.message||"D\xE9ploiement \xE9chou\xE9.")}te(f.logs||[]),await ge(),j("D\xE9ploiement termin\xE9")}catch(p){console.error("[deploy] run failed",p),k(p.message||"D\xE9ploiement \xE9chou\xE9.","error")}finally{F(null)}}),z==null||z.addEventListener("change",()=>{S&&(S.type=z.checked?"text":"password")});let fe=document.querySelector("[data-download-build]"),W=document.querySelector("[data-download-feedback]"),Ee=T?`/api/sites/${encodeURIComponent(T)}/download`:null,R=(p,f="muted")=>{if(!W)return;let v=f==="success"?"text-emerald-600":f==="error"?"text-rose-600":"text-slate-500";W.textContent=p||"",W.className=`text-sm ${v}`};fe==null||fe.addEventListener("click",async()=>{if(!Ee){R("Aucun site actif s\xE9lectionn\xE9.","error");return}fe.disabled=!0;let p=fe.innerHTML;fe.innerHTML=`
        <svg class="w-4 h-4 animate-spin" fill="none" viewBox="0 0 24 24">
          <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
          <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"></path>
        </svg>
        <span>Build en cours...</span>
      `,R("G\xE9n\xE9ration du build en cours...","muted");try{let f=await fetch(Ee);if(!f.ok){let D=await f.json().catch(()=>({}));throw new Error(D.message||"Impossible de g\xE9n\xE9rer le ZIP.")}let v=await f.blob(),_=window.URL.createObjectURL(v),se=document.createElement("a");se.href=_,se.download=`${T}-build.zip`,document.body.appendChild(se),se.click(),document.body.removeChild(se),window.URL.revokeObjectURL(_),R("T\xE9l\xE9chargement termin\xE9 !","success"),j("Build t\xE9l\xE9charg\xE9 avec succ\xE8s")}catch(f){console.error("[download] failed",f),R(f.message||"Erreur lors du t\xE9l\xE9chargement.","error")}finally{fe.disabled=!1,fe.innerHTML=p}}),ve(),ge()}function Yn(){let s=document.querySelectorAll("[data-settings-tab]"),n=document.querySelectorAll("[data-settings-panel]"),l=document.querySelector("[data-admin-password-form]"),d=document.querySelector("[data-site-config-form]"),h=document.querySelector("[data-site-config-feedback]"),S=document.querySelector("[data-theme-form]"),z=w=>{s.forEach(C=>{let q=C.dataset.settingsTab===w;C.setAttribute("aria-selected",q?"true":"false"),C.classList.toggle("bg-[#9C6BFF]",q),C.classList.toggle("text-white",q)}),n.forEach(C=>{C.classList.toggle("hidden",C.dataset.settingsPanel!==w)})};if(s.forEach(w=>{w.addEventListener("click",()=>z(w.dataset.settingsTab||"account"))}),z("account"),l){let w=l.querySelector("[data-admin-password-feedback]"),C=l.querySelector("[data-admin-password-submit]"),q=(T,$="muted")=>{if(!w)return;let H=$==="success"?"text-emerald-600":$==="error"?"text-rose-600":"text-slate-500";w.textContent=T||"",w.className=`text-sm ${H}`};l.addEventListener("submit",async T=>{T.preventDefault();let $=new FormData(l),H=$.get("currentPassword")||"",E=$.get("newPassword")||"",L=$.get("confirmPassword")||"";if(!H||!E||!L){q("Compl\xE8te tous les champs.","error");return}C&&(C.disabled=!0),q("");try{let x=await fetch("/api/admin/password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentPassword:H,newPassword:E,confirmPassword:L})}),A=await x.json().catch(()=>({}));if(!x.ok||A.success===!1)throw new Error(A.message||"Impossible de mettre \xE0 jour le mot de passe.");q(A.message||"Mot de passe mis \xE0 jour.","success"),l.reset()}catch(x){console.error("[settings] change password failed",x),q(x.message||"Erreur lors de la mise \xE0 jour.","error")}finally{C&&(C.disabled=!1)}})}if(d){let w=d.querySelector("[data-site-name]"),C=d.querySelector("[data-site-language]"),q=d.querySelector("[data-site-tagline]"),T=d.querySelector("[data-site-save]"),$=(x,A="muted")=>{if(!h)return;let k=A==="success"?"text-emerald-600":A==="error"?"text-rose-600":"text-slate-500";h.textContent=x||"",h.className=`text-sm ${k}`},H=Le((O==null?void 0:O.slugValue)||X.slug||""),E=H?`/api/sites/${encodeURIComponent(H)}/config/site`:null,L=async()=>{if(E)try{let x=await fetch(E,{headers:{Accept:"application/json"}});if(!x.ok)return;let A=await x.json().catch(()=>({}));w&&(w.value=A.name||""),C&&(C.value=A.language||"fr"),q&&(q.value=A.tagline||"")}catch(x){console.error("[settings] load site config failed",x)}};d.addEventListener("submit",async x=>{if(x.preventDefault(),!E){$("Aucun site actif.","error");return}if(!(w!=null&&w.value.trim())){$("Nom requis.","error");return}T&&(T.disabled=!0),$("");try{let A={name:(w==null?void 0:w.value)||"",language:(C==null?void 0:C.value)||"fr",tagline:(q==null?void 0:q.value)||""},k=await fetch(E,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(A)}),F=await k.json().catch(()=>({}));if(!k.ok||F.success===!1)throw new Error(F.message||"Sauvegarde impossible.");$(F.message||"Param\xE8tres enregistr\xE9s.","success")}catch(A){console.error("[settings] save site config failed",A),$(A.message||"Erreur lors de la sauvegarde.","error")}finally{T&&(T.disabled=!1)}}),L()}if(S){let w=Le((O==null?void 0:O.slugValue)||X.slug||""),C=w?`/api/sites/${encodeURIComponent(w)}/config/theme`:null,q={primary:S.querySelector("[data-theme-primary]"),secondary:S.querySelector("[data-theme-secondary]"),accent:S.querySelector("[data-theme-accent]"),background:S.querySelector("[data-theme-background]"),text:S.querySelector("[data-theme-text]")},T=S.querySelector("[data-theme-headings]"),$=S.querySelector("[data-theme-body]"),H=S.querySelector("[data-theme-radius-small]"),E=S.querySelector("[data-theme-radius-medium]"),L=S.querySelector("[data-theme-radius-large]"),x=S.querySelector("[data-theme-preview]"),A=S.querySelector("[data-theme-feedback]"),k=S.querySelector("[data-theme-apply]"),F=["slate","gray","zinc","neutral","stone","red","orange","amber","yellow","lime","green","emerald","teal","cyan","sky","blue","indigo","violet","purple","fuchsia","pink","rose"],Y=["50","100","200","300","400","500","600","700","800","900"],K=F.flatMap(R=>Y.map(p=>`${R}-${p}`)),te=()=>{Object.values(q).forEach(R=>{!R||R.options.length||K.forEach(p=>{let f=document.createElement("option");f.value=p;let[v,_]=p.split("-");f.textContent=`${v.charAt(0).toUpperCase()+v.slice(1)} ${_}`,R.appendChild(f)})})},ge=(R,p="muted")=>{if(!A)return;let f=p==="success"?"text-emerald-600":p==="error"?"text-rose-600":"text-slate-500";A.textContent=R||"",A.className=`text-sm ${f}`},ve=()=>{var p,f,v,_,se;if(!x)return;let R=D=>{if(!D)return null;if(D==="white")return"#ffffff";if(D==="black")return"#000000";if(D==="transparent")return"transparent";let[ue,Oe]=D.split("-");if(!ue||!Oe)return null;let Ve={slate:"#e2e8f0",gray:"#d1d5db",zinc:"#d4d4d8",neutral:"#d4d4d4",stone:"#d6d3d1",red:"#ef4444",orange:"#f97316",amber:"#f59e0b",yellow:"#eab308",lime:"#84cc16",green:"#22c55e",emerald:"#10b981",teal:"#14b8a6",cyan:"#06b6d4",sky:"#0ea5e9",blue:"#3b82f6",indigo:"#6366f1",violet:"#8b5cf6",purple:"#a855f7",fuchsia:"#d946ef",pink:"#ec4899",rose:"#f43f5e"}[ue];if(!Ve)return null;let Ce=Number(Oe)||500,qe=Math.min(Math.max((Ce-50)/900,0),1),tt=B=>B.match(/[A-Fa-f0-9]{2}/g).map(Dt=>parseInt(Dt,16)),[$e,It,Ft]=tt(Ve.replace("#","")),we=B=>Math.round(255-(255-B)*qe);return`rgb(${we($e)}, ${we(It)}, ${we(Ft)})`};x.style.setProperty("--color-primary",R((p=q.primary)==null?void 0:p.value)||"#9C6BFF"),x.style.setProperty("--color-secondary",R((f=q.secondary)==null?void 0:f.value)||"#0EA5E9"),x.style.setProperty("--color-accent",R((v=q.accent)==null?void 0:v.value)||"#F97316"),x.style.setProperty("--color-background",R((_=q.background)==null?void 0:_.value)||"#FFFFFF"),x.style.setProperty("--color-text",R((se=q.text)==null?void 0:se.value)||"#0F172A"),x.style.setProperty("--font-headings",(T==null?void 0:T.value)||"Inter, sans-serif"),x.style.setProperty("--font-body",($==null?void 0:$.value)||"Inter, sans-serif"),x.style.setProperty("--radius-small",(H==null?void 0:H.value)||"8px"),x.style.setProperty("--radius-medium",(E==null?void 0:E.value)||"16px"),x.style.setProperty("--radius-large",(L==null?void 0:L.value)||"24px"),x.style.borderRadius=(E==null?void 0:E.value)||"16px"},Te=(R,p)=>{q[R]&&(q[R].value=p)},fe=R=>{var _,se;if(!R)return;let p=R.options[R.selectedIndex],f=((_=p==null?void 0:p.dataset)==null?void 0:_.color)||"#ffffff",v=(se=R.closest(".relative"))==null?void 0:se.querySelector("[data-color-preview]");v&&(f==="transparent"?v.style.background="repeating-conic-gradient(#ccc 0% 25%, white 0% 50%) 50% / 8px 8px":(v.style.backgroundColor=f,v.style.background=""))},W=()=>{Object.values(q).forEach(R=>{R&&(fe(R),R.addEventListener("change",()=>fe(R)))})};Object.keys(q).forEach(R=>{var p;(p=q[R])==null||p.addEventListener("change",ve)}),[T,$,H,E,L].forEach(R=>{R==null||R.addEventListener("change",ve)});let Ee=async()=>{var R,p,f,v,_,se,D,ue,Oe,ne;if(C)try{let Ve=await fetch(C,{headers:{Accept:"application/json"},credentials:"include"});if(!Ve.ok)return;let Ce=await Ve.json().catch(()=>({}));Te("primary",((R=Ce.colors)==null?void 0:R.primary)||"violet-500"),Te("secondary",((p=Ce.colors)==null?void 0:p.secondary)||"indigo-400"),Te("accent",((f=Ce.colors)==null?void 0:f.accent)||"emerald-500"),Te("background",((v=Ce.colors)==null?void 0:v.background)||"slate-50"),Te("text",((_=Ce.colors)==null?void 0:_.text)||"slate-900"),T&&(T.value=((se=Ce.typography)==null?void 0:se.headings)||"Inter, sans-serif"),$&&($.value=((D=Ce.typography)==null?void 0:D.body)||"Inter, sans-serif"),H&&(H.value=((ue=Ce.radius)==null?void 0:ue.small)||"8px"),E&&(E.value=((Oe=Ce.radius)==null?void 0:Oe.medium)||"16px"),L&&(L.value=((ne=Ce.radius)==null?void 0:ne.large)||"24px"),ve(),Object.values(q).forEach(fe)}catch(Ve){console.error("[settings] load theme failed",Ve)}};k==null||k.addEventListener("click",async R=>{var f,v,_,se,D;if(R.preventDefault(),!C){ge("Aucun site actif.","error");return}let p={colors:{primary:((f=q.primary)==null?void 0:f.value)||"violet-500",secondary:((v=q.secondary)==null?void 0:v.value)||"indigo-400",accent:((_=q.accent)==null?void 0:_.value)||"emerald-500",background:((se=q.background)==null?void 0:se.value)||"slate-50",text:((D=q.text)==null?void 0:D.value)||"slate-900"},typography:{headings:(T==null?void 0:T.value)||"Inter, sans-serif",body:($==null?void 0:$.value)||"Inter, sans-serif"},radius:{small:(H==null?void 0:H.value)||"8px",medium:(E==null?void 0:E.value)||"16px",large:(L==null?void 0:L.value)||"24px"}};k.disabled=!0,ge("");try{let ue=await fetch(C,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(p)}),Oe=await ue.json().catch(()=>({}));if(!ue.ok||Oe.success===!1)throw new Error(Oe.message||"Application du th\xE8me \xE9chou\xE9e.");await Ee(),ge(Oe.message||"Th\xE8me appliqu\xE9.","success")}catch(ue){console.error("[settings] apply theme failed",ue),ge(ue.message||"Erreur lors de l\u2019application du th\xE8me.","error")}finally{k.disabled=!1}}),te(),W(),Ee(),ve(),document.addEventListener("ai-theme-updated",()=>{Ee(),ge("Th\xE8me mis \xE0 jour.","success")})}let U=document.querySelector("[data-seo-config-form]");if(U){let w=U.querySelector("[data-seo-index-all]"),C=U.querySelector("[data-seo-config-feedback]"),q=U.querySelector("[data-seo-save]"),T=Le((O==null?void 0:O.slugValue)||X.slug||""),$=T?`/api/sites/${encodeURIComponent(T)}/config/site`:null,H=(L,x="muted")=>{if(!C)return;let A=x==="success"?"text-emerald-600":x==="error"?"text-rose-600":"text-slate-500";C.textContent=L||"",C.className=`text-sm ${A}`},E=async()=>{var L;if($)try{let x=await fetch($,{headers:{Accept:"application/json"}});if(!x.ok)return;let k=((L=(await x.json().catch(()=>({}))).seo)==null?void 0:L.indexAllPagesByDefault)!==!1;w&&(w.checked=k)}catch(x){console.error("[settings] load seo config failed",x)}};U.addEventListener("submit",async L=>{var x;if(L.preventDefault(),!$){H("Aucun site actif.","error");return}q&&(q.disabled=!0),H("");try{let A=await fetch($,{headers:{Accept:"application/json"}}),k=A.ok?await A.json().catch(()=>({})):{},F={...k,seo:{...k.seo||{},indexAllPagesByDefault:(x=w==null?void 0:w.checked)!=null?x:!0}},Y=await fetch($,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(F)}),K=await Y.json().catch(()=>({}));if(!Y.ok||K.success===!1)throw new Error(K.message||"Sauvegarde impossible.");H(K.message||"Param\xE8tres SEO enregistr\xE9s.","success")}catch(A){console.error("[settings] save seo config failed",A),H(A.message||"Erreur lors de la sauvegarde.","error")}finally{q&&(q.disabled=!1)}}),E()}let V=document.querySelector("[data-analytics-form]");if(V){let w=V.querySelector("[data-analytics-head]"),C=V.querySelector("[data-analytics-body]"),q=V.querySelector("[data-analytics-feedback]"),T=V.querySelector("[data-analytics-save]"),$=Le((O==null?void 0:O.slugValue)||X.slug||""),H=$?`/api/sites/${encodeURIComponent($)}/config/site`:null,E=(x,A="muted")=>{if(!q)return;let k=A==="success"?"text-emerald-600":A==="error"?"text-rose-600":"text-slate-500";q.textContent=x||"",q.className=`text-sm ${k}`},L=async()=>{var x,A;if(H)try{let k=await fetch(H,{headers:{Accept:"application/json"}});if(!k.ok)return;let F=await k.json().catch(()=>({}));w&&(w.value=((x=F.analytics)==null?void 0:x.headCode)||""),C&&(C.value=((A=F.analytics)==null?void 0:A.bodyEndCode)||"")}catch(k){console.error("[settings] load analytics config failed",k)}};V.addEventListener("submit",async x=>{if(x.preventDefault(),!H){E("Aucun site actif.","error");return}T&&(T.disabled=!0),E("");try{let A=await fetch(H,{headers:{Accept:"application/json"}}),F={...A.ok?await A.json().catch(()=>({})):{},analytics:{headCode:(w==null?void 0:w.value)||"",bodyEndCode:(C==null?void 0:C.value)||""}},Y=await fetch(H,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(F)}),K=await Y.json().catch(()=>({}));if(!Y.ok||K.success===!1)throw new Error(K.message||"Sauvegarde impossible.");E(K.message||"Scripts enregistr\xE9s.","success")}catch(A){console.error("[settings] save analytics config failed",A),E(A.message||"Erreur lors de la sauvegarde.","error")}finally{T&&(T.disabled=!1)}}),L()}let ee=document.querySelector("[data-accessibility-form]");if(ee){let w=ee.querySelector("[data-accessibility-animations]"),C=ee.querySelector("[data-accessibility-contrast]"),q=ee.querySelector("[data-accessibility-feedback]"),T=ee.querySelector("[data-accessibility-save]"),$=Le((O==null?void 0:O.slugValue)||X.slug||""),H=$?`/api/sites/${encodeURIComponent($)}/config/site`:null,E=(x,A="muted")=>{if(!q)return;let k=A==="success"?"text-emerald-600":A==="error"?"text-rose-600":"text-slate-500";q.textContent=x||"",q.className=`text-sm ${k}`},L=async()=>{var x,A;if(H)try{let k=await fetch(H,{headers:{Accept:"application/json"}});if(!k.ok)return;let F=await k.json().catch(()=>({}));w&&(w.checked=((x=F.accessibility)==null?void 0:x.animationsEnabled)!==!1),C&&(C.checked=((A=F.accessibility)==null?void 0:A.highContrast)===!0)}catch(k){console.error("[settings] load accessibility config failed",k)}};ee.addEventListener("submit",async x=>{var A,k;if(x.preventDefault(),!H){E("Aucun site actif.","error");return}T&&(T.disabled=!0),E("");try{let F=await fetch(H,{headers:{Accept:"application/json"}}),K={...F.ok?await F.json().catch(()=>({})):{},accessibility:{animationsEnabled:(A=w==null?void 0:w.checked)!=null?A:!0,highContrast:(k=C==null?void 0:C.checked)!=null?k:!1}},te=await fetch(H,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(K)}),ge=await te.json().catch(()=>({}));if(!te.ok||ge.success===!1)throw new Error(ge.message||"Sauvegarde impossible.");E(ge.message||"Pr\xE9f\xE9rences mises \xE0 jour.","success")}catch(F){console.error("[settings] save accessibility config failed",F),E(F.message||"Erreur lors de la sauvegarde.","error")}finally{T&&(T.disabled=!1)}}),L()}let G=document.querySelector("[data-ai-config-form]");if(G){let w=G.querySelector("[data-ai-api-key]"),C=G.querySelector("[data-ai-model]"),q=G.querySelector("[data-ai-project-prompt]"),T=G.querySelector("[data-ai-enabled]"),$=G.querySelector("[data-ai-feedback]"),H=G.querySelector("[data-ai-save]"),E=Le((O==null?void 0:O.slugValue)||X.slug||""),L=E?`/api/sites/${encodeURIComponent(E)}/config/ai`:null,x=(k,F="muted")=>{if(!$)return;let Y=F==="success"?"text-emerald-600":F==="error"?"text-rose-600":"text-slate-500";$.textContent=k||"",$.className=`text-sm ${Y}`},A=async()=>{if(L)try{let k=await fetch(L,{headers:{Accept:"application/json"}});if(!k.ok)return;let F=await k.json().catch(()=>({}));w&&(w.value="",w.placeholder=F.hasApiKey?"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022":"Cl\xE9 API Gemini"),C&&(C.value=F.model||"gemini-2.5-flash"),q&&(q.value=F.projectPrompt||""),T&&(T.checked=F.enabled!==!1)}catch(k){console.error("[settings] load AI config failed",k)}};G.addEventListener("submit",async k=>{var F,Y;if(k.preventDefault(),!L){x("Aucun site actif.","error");return}H&&(H.disabled=!0),x("");try{let K={model:(C==null?void 0:C.value)||"gemini-2.5-flash",projectPrompt:(q==null?void 0:q.value)||"",enabled:(F=T==null?void 0:T.checked)!=null?F:!0},te=(Y=w==null?void 0:w.value)==null?void 0:Y.trim();te&&(K.apiKey=te);let ge=await fetch(L,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(K)}),ve=await ge.json().catch(()=>({}));if(!ge.ok||ve.success===!1)throw new Error(ve.message||"Sauvegarde impossible.");x(ve.message||"Configuration IA enregistr\xE9e.","success"),w&&(w.value="",w.placeholder="\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022")}catch(K){console.error("[settings] save AI config failed",K),x(K.message||"Erreur lors de la sauvegarde.","error")}finally{H&&(H.disabled=!1)}}),A()}}function Qn(){let s=document.querySelector("[data-media-grid]");if(!s)return;let n=document.querySelector("[data-media-empty]"),l=document.querySelector("[data-media-count]"),d=document.querySelector("[data-media-filter-type]"),h=document.querySelector("[data-media-detail-empty]"),S=document.querySelector("[data-media-detail]"),z=document.querySelector("[data-media-detail-preview]"),U=document.querySelector("[data-media-detail-name]"),V=document.querySelector("[data-media-detail-type]"),ee=document.querySelector("[data-media-detail-size]"),G=document.querySelector("[data-media-detail-path]"),w=document.querySelector("[data-media-detail-used]"),C=document.querySelector("[data-media-alt-edit]"),q=document.querySelector("[data-media-save]"),T=document.querySelector("[data-media-delete]"),$=document.querySelector("[data-media-delete-modal]"),H=document.querySelector("[data-media-delete-cancel]"),E=document.querySelector("[data-media-delete-confirm]"),L=document.querySelector("[data-media-upload-open]"),x=document.querySelector("[data-media-file-input]"),A=document.querySelector("[data-media-upload-status]"),k=Le((O==null?void 0:O.slugValue)||X.slug||""),F=k?`/api/sites/${encodeURIComponent(k)}/media`:null,Y=[],K=[],te=null,ge=null,ve=null,Te=!1,fe=!1,W=!1,Ee=null,R=y=>{let M=(y.type||"").toLowerCase(),ie=(y.filename||"").toLowerCase();return M.includes("image")||/\.(png|jpe?g|webp|svg|gif)$/i.test(ie)?"image":M.includes("pdf")||M.includes("doc")||/\.(pdf|docx?)$/i.test(ie)?"document":M.includes("video")||/\.(mp4|mov|webm)$/i.test(ie)?"video":"other"},p=y=>R(y)==="image",f=y=>{if(y.type)return y.type.toUpperCase();let M=(y.filename||"").split(".").pop();return M?M.toUpperCase():"FILE"},v=y=>!y||y<=0?"\u2014":y<1024?`${y} o`:y<1024*1024?`${(y/1024).toFixed(1)} ko`:`${(y/(1024*1024)).toFixed(1)} Mo`,_=()=>{S==null||S.classList.add("hidden"),h==null||h.classList.remove("hidden"),se(),te=null,fe=!1,ne(!1),z&&(z.innerHTML='<span class="text-slate-400 text-sm">Aucun m\xE9dia s\xE9lectionn\xE9</span>'),U&&(U.textContent=""),V&&(V.textContent=""),ee&&(ee.textContent=""),C&&(C.value=""),G&&(G.textContent=""),w&&(w.innerHTML="")},se=()=>{ve=null,W=!1,Te=!1,Ee&&(URL.revokeObjectURL(Ee),Ee=null),A&&(A.textContent="Aucun fichier s\xE9lectionn\xE9."),x&&(x.value="")},D=()=>{l&&(K.length?K.length===1?l.textContent="1 m\xE9dia":l.textContent=`${K.length} m\xE9dias`:l.textContent="0 m\xE9dia")},ue=()=>{if(s.innerHTML="",!K.length){n==null||n.classList.remove("hidden"),_();return}n==null||n.classList.add("hidden"),K.forEach(y=>{let M=document.createElement("button");M.type="button",M.dataset.mediaId=y.id;let ie=y.id===te;M.className=["group relative flex flex-col rounded-2xl border px-3 py-3 text-left transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[#9C6BFF]",ie?"border-[#9C6BFF] bg-[#F7F0FF]/60 shadow-sm":"border-slate-200 hover:border-[#9C6BFF]/40"].join(" ");let ce=p(y)?`<img src="${y.path}" alt="${y.alt||y.filename}" class="h-full w-full object-cover" />`:'<div class="flex h-full w-full items-center justify-center text-3xl text-slate-400">\u{1F4C4}</div>';M.innerHTML=`
          <div class="relative aspect-[4/3] overflow-hidden rounded-xl bg-slate-100">
            ${ce}
          </div>
          <div class="mt-2 space-y-1">
            <p class="text-sm font-semibold text-slate-900 truncate">${y.filename}</p>
            <p class="text-xs text-slate-500">
              ${f(y)} \xB7 ${v(y.size)}
            </p>
          </div>
        `,y.id===ge&&(M.classList.add("ring-2","ring-[#9C6BFF]"),window.setTimeout(()=>{M.classList.remove("ring-2","ring-[#9C6BFF]")},1600)),M.addEventListener("click",()=>Ve(y.id)),s.appendChild(M)}),ge=null},Oe=y=>{if(w){if(w.innerHTML="",!y.usedIn||y.usedIn.length===0){let M=document.createElement("li");M.textContent="Non utilis\xE9",M.className="text-xs text-slate-400",w.appendChild(M);return}y.usedIn.forEach(M=>{let ie=document.createElement("li");ie.textContent=M,ie.className="text-xs text-slate-600",w.appendChild(ie)})}},ne=y=>{if(q){if(W){q.textContent=y?"T\xE9l\xE9versement\u2026":"T\xE9l\xE9verser",q.disabled=y||!ve,T&&T.classList.add("hidden");return}q.textContent=y?"Enregistrement\u2026":"Enregistrer",q.disabled=y||!fe,T&&(T.classList.remove("hidden"),T.disabled=!te)}},Ve=y=>{let M=Y.find(ie=>ie.id===y);if(!M){_(),ue();return}se(),te=M.id,fe=!1,ne(!1),ue(),h==null||h.classList.add("hidden"),S==null||S.classList.remove("hidden"),z&&(p(M)?z.innerHTML=`<img src="${M.path}" alt="${M.alt||M.filename}" class="h-full w-full rounded-2xl object-cover" />`:z.innerHTML='<div class="flex h-full w-full flex-col items-center justify-center gap-1 text-slate-400"><span class="text-3xl">\u{1F4C4}</span><span class="text-xs font-semibold">Document</span></div>'),U&&(U.textContent=M.filename||"Fichier"),V&&(V.textContent=f(M)),ee&&(ee.textContent=v(M.size)),C&&(C.value=M.alt||""),G&&(G.textContent=M.path||"\u2014"),Oe(M)},Ce=y=>{if(y){if(W=!0,fe=!1,te=null,h==null||h.classList.add("hidden"),S==null||S.classList.remove("hidden"),Ee&&URL.revokeObjectURL(Ee),Ee=URL.createObjectURL(y),z&&(z.innerHTML=`<img src="${Ee}" alt="${y.name}" class="h-full w-full rounded-2xl object-cover" />`),U&&(U.textContent=y.name),V&&(V.textContent=f({type:y.type,filename:y.name})),ee&&(ee.textContent=v(y.size)),C&&!C.value.trim()&&(C.value=y.name.replace(/\.[^.]+$/,"").replace(/[-_]/g," ")),G&&(G.textContent="En attente de t\xE9l\xE9versement"),w){w.innerHTML="";let M=document.createElement("li");M.textContent="Non utilis\xE9",M.className="text-xs text-slate-400",w.appendChild(M)}ne(!1)}},qe=()=>{let y=(d==null?void 0:d.value)||"all";y==="all"?K=[...Y]:K=Y.filter(M=>M.groupType===y),K.some(M=>M.id===te)||_(),D(),ue()},tt=async()=>{if(!F){n==null||n.classList.remove("hidden");return}try{let y=await fetch(F,{headers:{Accept:"application/json"}});if(!y.ok)throw new Error("Impossible de charger les m\xE9dias.");let M=await y.json().catch(()=>({items:[]}));Y=Array.isArray(M.items)?M.items.map(ie=>({...ie,groupType:R(ie)})):[],qe()}catch(y){console.error("[media] load failed",y),j(y.message||"Impossible de charger les m\xE9dias."),Y=[],qe()}};d==null||d.addEventListener("change",()=>{qe()}),C==null||C.addEventListener("input",()=>{if(W){ne(!1);return}te&&(fe=!0,ne(!1))});let $e=y=>{if(y){if(!y.type.startsWith("image/")){j("Seules les images sont accept\xE9es pour le moment.");return}if(y.size>4*1024*1024){j("Fichier trop volumineux (4 Mo max).");return}ve=y,Ce(y),A&&(A.textContent=`${y.name} \xB7 ${v(y.size)}`)}},It=y=>new Promise((M,ie)=>{let ce=new FileReader;ce.onload=()=>{let Mt=ce.result||"",[,rs=""]=String(Mt).split(",");M(rs)},ce.onerror=()=>ie(new Error("Impossible de lire ce fichier.")),ce.readAsDataURL(y)}),Ft=async()=>{if(!(!ve||!F)){Te=!0,ne(!0);try{let y=await It(ve),M={filename:ve.name,type:ve.type,size:ve.size,alt:(C==null?void 0:C.value)||"",data:y},ie=await fetch(F,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(M)});if(!ie.ok){let Mt=await ie.json().catch(()=>({}));throw new Error(Mt.message||"Upload impossible.")}let ce=await ie.json();ce.groupType=R(ce),Y=[...Y,ce],ge=ce.id,qe(),Ve(ce.id),j("M\xE9dia ajout\xE9"),se()}catch(y){console.error("[media] upload failed",y),j(y.message||"Impossible de t\xE9l\xE9verser ce m\xE9dia.")}finally{Te=!1,ve=null,ne(!1)}}};L==null||L.addEventListener("click",()=>x==null?void 0:x.click()),x==null||x.addEventListener("change",()=>{x.files&&x.files[0]&&$e(x.files[0])});let we=()=>{$&&($.classList.add("hidden"),$.classList.remove("flex"))},B=()=>{if(!(!te||W)){if($){$.classList.remove("hidden"),$.classList.add("flex");return}window.confirm("Supprimer ce m\xE9dia ?")&&Dt()}},Dt=async()=>{if(!te||!F){we();return}let y=()=>{T&&(T.disabled=!0),E&&(E.disabled=!0,E.textContent="Suppression\u2026")},M=()=>{T&&(T.disabled=!1),E&&(E.disabled=!1,E.textContent="Supprimer")};y();try{let ie=await fetch(`${F}/${encodeURIComponent(te)}`,{method:"DELETE"});if(!ie.ok){let ce=await ie.json().catch(()=>({}));throw new Error(ce.message||"Suppression impossible.")}Y=Y.filter(ce=>ce.id!==te),K=K.filter(ce=>ce.id!==te),j("M\xE9dia supprim\xE9"),_(),D(),ue()}catch(ie){console.error("[media] delete failed",ie),j(ie.message||"Impossible de supprimer ce m\xE9dia.")}finally{M(),we()}};H==null||H.addEventListener("click",we),$==null||$.addEventListener("click",y=>{y.target===$&&we()}),E==null||E.addEventListener("click",()=>Dt()),T==null||T.addEventListener("click",B),q==null||q.addEventListener("click",async()=>{if(W){Ft();return}if(!(!te||!F||!C)){ne(!0);try{let y={alt:C.value||""},M=await fetch(`${F}/${encodeURIComponent(te)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)});if(!M.ok){let ce=await M.json().catch(()=>({}));throw new Error(ce.message||"Impossible de mettre \xE0 jour ce m\xE9dia.")}let ie=await M.json();Y=Y.map(ce=>ce.id===te?{...ce,...ie}:ce),K=K.map(ce=>ce.id===te?{...ce,...ie}:ce),fe=!1,ne(!1),j("M\xE9dia mis \xE0 jour")}catch(y){console.error("[media] update failed",y),j(y.message||"\xC9chec de la mise \xE0 jour."),ne(!1)}}}),tt()}let So=document.getElementById("ai-chat-toggle"),ns=document.getElementById("ai-chat-panel"),et=document.getElementById("ai-chat-overlay"),Lo=document.getElementById("ai-chat-close"),ko=document.getElementById("ai-chat-clear"),Eo=document.getElementById("ai-chat-form"),At=document.getElementById("ai-chat-input"),xe=document.getElementById("ai-chat-messages"),Zr=document.getElementById("ai-chat-status"),gt=document.getElementById("ai-chat-no-api"),Xn=document.querySelectorAll("[data-ai-quick]"),Vs=!1,Co=!1,sn=!1,er=!1;function tr(){ns&&(Vs=!0,ns.classList.remove("translate-x-full"),ns.setAttribute("aria-hidden","false"),et==null||et.classList.remove("opacity-0","pointer-events-none"),et==null||et.classList.add("opacity-100"),document.body.classList.add("overflow-hidden"),At==null||At.focus(),sn||sr())}function Js(){ns&&(Vs=!1,ns.classList.add("translate-x-full"),ns.setAttribute("aria-hidden","true"),et==null||et.classList.add("opacity-0","pointer-events-none"),et==null||et.classList.remove("opacity-100"),document.body.classList.remove("overflow-hidden"))}async function sr(){let s=Le(X.slug||"");if(!s){gt==null||gt.classList.remove("hidden");return}try{let n=await fetch(`/api/sites/${encodeURIComponent(s)}/config/ai`);if(!n.ok)throw new Error("Config check failed");let l=await n.json();sn=!0,er=l.hasApiKey,!l.enabled||!l.hasApiKey?gt==null||gt.classList.remove("hidden"):(gt==null||gt.classList.add("hidden"),or())}catch(n){console.error("[AI] Config check failed:",n),gt==null||gt.classList.remove("hidden")}}async function or(){let s=Le(X.slug||"");if(!(!s||!xe))try{let n=await fetch(`/api/sites/${encodeURIComponent(s)}/ai/history`);if(!n.ok)return;let l=await n.json();if(l.messages&&l.messages.length>0){let d=xe.querySelector("[data-ai-welcome]");d&&d.remove(),l.messages.forEach(h=>{Gs(h.content,h.role==="user"?"user":"assistant")}),xe.scrollTop=xe.scrollHeight}}catch(n){console.error("[AI] History load failed:",n)}}function Gs(s,n="assistant"){if(!xe)return;let l=document.createElement("div");if(l.className="flex gap-3",n==="user")l.innerHTML=`
        <div class="flex-1"></div>
        <div class="max-w-[80%] bg-violet-600 text-white rounded-2xl rounded-tr-none p-3">
          <p class="text-sm whitespace-pre-wrap">${ct(s)}</p>
        </div>
        <div class="w-8 h-8 rounded-full bg-slate-200 flex-shrink-0 flex items-center justify-center">
          <svg class="w-4 h-4 text-slate-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
          </svg>
        </div>
      `;else{let d=rr(s);l.innerHTML=`
        <div class="w-8 h-8 rounded-full bg-gradient-to-br from-violet-500 to-indigo-600 flex-shrink-0 flex items-center justify-center">
          <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
          </svg>
        </div>
        <div class="flex-1 bg-slate-50 rounded-2xl rounded-tl-none p-3 overflow-x-auto">
          <div class="text-sm text-slate-700 prose prose-sm max-w-none [&>pre]:bg-slate-800 [&>pre]:text-slate-100 [&>pre]:rounded-lg [&>pre]:p-3 [&>pre]:overflow-x-auto [&>code]:bg-slate-200 [&>code]:px-1 [&>code]:rounded">${d}</div>
        </div>
      `}xe.appendChild(l),xe.scrollTop=xe.scrollHeight}function nr(){if(!xe)return;let s=document.createElement("div");s.className="flex gap-3",s.id="ai-loading-indicator",s.innerHTML=`
      <div class="w-8 h-8 rounded-full bg-gradient-to-br from-violet-500 to-indigo-600 flex-shrink-0 flex items-center justify-center">
        <svg class="w-4 h-4 text-white animate-pulse" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
        </svg>
      </div>
      <div class="flex-1 bg-slate-50 rounded-2xl rounded-tl-none p-3">
        <div class="flex items-center gap-2">
          <div class="w-2 h-2 bg-violet-400 rounded-full animate-bounce" style="animation-delay: 0ms"></div>
          <div class="w-2 h-2 bg-violet-400 rounded-full animate-bounce" style="animation-delay: 150ms"></div>
          <div class="w-2 h-2 bg-violet-400 rounded-full animate-bounce" style="animation-delay: 300ms"></div>
        </div>
      </div>
    `,xe.appendChild(s),xe.scrollTop=xe.scrollHeight}function on(){let s=document.getElementById("ai-loading-indicator");s==null||s.remove()}function rr(s){if(!s)return"";let n=ct(s);return n=n.replace(/```(\w*)\n([\s\S]*?)```/g,(l,d,h)=>`<pre class="language-${d||"text"}"><code>${h.trim()}</code></pre>`),n=n.replace(/`([^`]+)`/g,"<code>$1</code>"),n=n.replace(/\*\*([^*]+)\*\*/g,"<strong>$1</strong>"),n=n.replace(/\*([^*]+)\*/g,"<em>$1</em>"),n=n.replace(/^### (.+)$/gm,'<h4 class="font-semibold text-slate-900 mt-3 mb-1">$1</h4>'),n=n.replace(/^## (.+)$/gm,'<h3 class="font-semibold text-slate-900 mt-3 mb-1">$1</h3>'),n=n.replace(/^# (.+)$/gm,'<h2 class="font-bold text-slate-900 mt-3 mb-2">$1</h2>'),n=n.replace(/^- (.+)$/gm,'<li class="ml-4">$1</li>'),n=n.replace(/^(\d+)\. (.+)$/gm,'<li class="ml-4">$2</li>'),n=n.replace(/\n\n/g,'</p><p class="mb-2">'),n='<p class="mb-2">'+n+"</p>",n=n.replace(/<p class="mb-2"><\/p>/g,""),n}function ct(s){let n=document.createElement("div");return n.textContent=s,n.innerHTML}async function nn(s){let n=Le(X.slug||"");if(!s||!n||Co)return;Co=!0,At.disabled=!0;let l=xe==null?void 0:xe.querySelector("[data-ai-welcome]");l&&l.remove(),Gs(s,"user"),nr();try{let d=await fetch(`/api/sites/${encodeURIComponent(n)}/ai/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:s})});if(on(),!d.ok){let S=await d.json().catch(()=>({}));throw new Error(S.message||"Erreur de communication")}let h=await d.json();h.response&&Gs(h.response,"assistant"),h.editProposal&&ar(h.editProposal),h.themeProposal&&ir(h.themeProposal)}catch(d){on(),Gs(`\u274C Erreur: ${d.message}`,"assistant")}finally{Co=!1,At.disabled=!1,At.focus()}}function ar(s){var d,h;if(!xe||!s)return;let n=document.createElement("div");n.className="flex gap-3 mt-2",n.dataset.proposalId=s.proposalId;let l="";if(s.changes&&(s.changes.title&&(l+=`<li>Titre \u2192 <strong>${ct(s.changes.title)}</strong></li>`),s.changes.description&&(l+=`<li>Description \u2192 ${ct(s.changes.description.substring(0,80))}...</li>`),s.changes.seo&&(s.changes.seo.metaTitle&&(l+=`<li>Meta title \u2192 ${ct(s.changes.seo.metaTitle)}</li>`),s.changes.seo.metaDescription&&(l+=`<li>Meta description \u2192 ${ct(s.changes.seo.metaDescription.substring(0,60))}...</li>`)),s.changes.blockUpdate&&(l+=`<li>Bloc "${s.changes.blockUpdate.blockId}" modifi\xE9</li>`,s.changes.blockUpdate.settings))){let S=s.changes.blockUpdate.settings;S.title&&(l+=`<li class="ml-4">\u2192 title: ${ct(S.title)}</li>`),S.content&&(l+='<li class="ml-4">\u2192 content modifi\xE9</li>')}n.innerHTML=`
      <div class="w-8 h-8 rounded-full bg-amber-500 flex-shrink-0 flex items-center justify-center">
        <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"/>
        </svg>
      </div>
      <div class="flex-1 bg-amber-50 border border-amber-200 rounded-2xl rounded-tl-none p-4">
        <div class="flex items-center gap-2 mb-2">
          <span class="text-xs font-semibold text-amber-700 bg-amber-100 px-2 py-0.5 rounded">Proposition d'\xE9dition</span>
        </div>
        <p class="text-sm font-medium text-slate-800 mb-1">Page : ${ct(s.pageTitle||s.pageId)}</p>
        ${s.reason?`<p class="text-sm text-slate-600 mb-2">${ct(s.reason)}</p>`:""}
        <ul class="text-xs text-slate-600 space-y-1 mb-3 list-disc ml-4">
          ${l||"<li>Modifications propos\xE9es</li>"}
        </ul>
        <div class="flex gap-2">
          <button 
            class="ai-apply-edit px-3 py-1.5 text-xs font-medium text-white bg-emerald-600 hover:bg-emerald-700 rounded-lg transition-colors flex items-center gap-1"
            data-proposal-id="${s.proposalId}"
          >
            <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
            </svg>
            Appliquer
          </button>
          <button 
            class="ai-reject-edit px-3 py-1.5 text-xs font-medium text-slate-600 bg-slate-100 hover:bg-slate-200 rounded-lg transition-colors flex items-center gap-1"
            data-proposal-id="${s.proposalId}"
          >
            <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
            </svg>
            Rejeter
          </button>
        </div>
      </div>
    `,xe.appendChild(n),xe.scrollTop=xe.scrollHeight,(d=n.querySelector(".ai-apply-edit"))==null||d.addEventListener("click",dr),(h=n.querySelector(".ai-reject-edit"))==null||h.addEventListener("click",rn)}function ir(s){var h,S,z,U;if(!xe||!s)return;let n=document.createElement("div");n.className="flex gap-3 mt-2",n.dataset.proposalId=s.proposalId;let l="";if((h=s.changes)!=null&&h.colors){let V=s.changes.colors;for(let[ee,G]of Object.entries(V))l+=`<li class="flex items-center gap-2">
          <span class="w-4 h-4 rounded border border-slate-300" style="background: ${lr(G)}"></span>
          <span>${ee}: <strong>${ct(G)}</strong></span>
        </li>`}let d="";if((S=s.changes)!=null&&S.typography){let V=s.changes.typography;V.headings&&(d+=`<li>Titres \u2192 <strong>${ct(V.headings)}</strong></li>`),V.body&&(d+=`<li>Textes \u2192 <strong>${ct(V.body)}</strong></li>`)}n.innerHTML=`
      <div class="w-8 h-8 rounded-full bg-purple-500 flex-shrink-0 flex items-center justify-center">
        <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"/>
        </svg>
      </div>
      <div class="flex-1 bg-purple-50 border border-purple-200 rounded-2xl rounded-tl-none p-4">
        <div class="flex items-center gap-2 mb-2">
          <span class="text-xs font-semibold text-purple-700 bg-purple-100 px-2 py-0.5 rounded">Modification du th\xE8me</span>
        </div>
        ${s.reason?`<p class="text-sm text-slate-600 mb-3">${ct(s.reason)}</p>`:""}
        ${l?`
          <p class="text-xs font-medium text-slate-700 mb-1">Couleurs :</p>
          <ul class="text-xs text-slate-600 space-y-1 mb-3">${l}</ul>
        `:""}
        ${d?`
          <p class="text-xs font-medium text-slate-700 mb-1">Typographies :</p>
          <ul class="text-xs text-slate-600 space-y-1 mb-3 list-disc ml-4">${d}</ul>
        `:""}
        <div class="flex gap-2">
          <button 
            class="ai-apply-theme px-3 py-1.5 text-xs font-medium text-white bg-purple-600 hover:bg-purple-700 rounded-lg transition-colors flex items-center gap-1"
            data-proposal-id="${s.proposalId}"
          >
            <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
            </svg>
            Appliquer
          </button>
          <button 
            class="ai-reject-theme px-3 py-1.5 text-xs font-medium text-slate-600 bg-slate-100 hover:bg-slate-200 rounded-lg transition-colors flex items-center gap-1"
            data-proposal-id="${s.proposalId}"
          >
            <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
            </svg>
            Rejeter
          </button>
        </div>
      </div>
    `,xe.appendChild(n),xe.scrollTop=xe.scrollHeight,(z=n.querySelector(".ai-apply-theme"))==null||z.addEventListener("click",cr),(U=n.querySelector(".ai-reject-theme"))==null||U.addEventListener("click",rn)}function lr(s){return{white:"#ffffff",black:"#000000",transparent:"transparent","slate-50":"#f8fafc","slate-100":"#f1f5f9","slate-200":"#e2e8f0","slate-300":"#cbd5e1","slate-400":"#94a3b8","slate-500":"#64748b","slate-600":"#475569","slate-700":"#334155","slate-800":"#1e293b","slate-900":"#0f172a","gray-50":"#f9fafb","gray-100":"#f3f4f6","gray-200":"#e5e7eb","gray-300":"#d1d5db","gray-400":"#9ca3af","gray-500":"#6b7280","gray-600":"#4b5563","gray-700":"#374151","gray-800":"#1f2937","gray-900":"#111827","violet-50":"#f5f3ff","violet-100":"#ede9fe","violet-200":"#ddd6fe","violet-300":"#c4b5fd","violet-400":"#a78bfa","violet-500":"#8b5cf6","violet-600":"#7c3aed","violet-700":"#6d28d9","violet-800":"#5b21b6","violet-900":"#4c1d95","purple-50":"#faf5ff","purple-100":"#f3e8ff","purple-200":"#e9d5ff","purple-300":"#d8b4fe","purple-400":"#c084fc","purple-500":"#a855f7","purple-600":"#9333ea","purple-700":"#7e22ce","purple-800":"#6b21a8","purple-900":"#581c87","blue-50":"#eff6ff","blue-100":"#dbeafe","blue-200":"#bfdbfe","blue-300":"#93c5fd","blue-400":"#60a5fa","blue-500":"#3b82f6","blue-600":"#2563eb","blue-700":"#1d4ed8","blue-800":"#1e40af","blue-900":"#1e3a8a","emerald-50":"#ecfdf5","emerald-100":"#d1fae5","emerald-200":"#a7f3d0","emerald-300":"#6ee7b7","emerald-400":"#34d399","emerald-500":"#10b981","emerald-600":"#059669","emerald-700":"#047857","emerald-800":"#065f46","emerald-900":"#064e3b","teal-50":"#f0fdfa","teal-100":"#ccfbf1","teal-200":"#99f6e4","teal-300":"#5eead4","teal-400":"#2dd4bf","teal-500":"#14b8a6","teal-600":"#0d9488","teal-700":"#0f766e","teal-800":"#115e59","teal-900":"#134e4a","amber-50":"#fffbeb","amber-100":"#fef3c7","amber-200":"#fde68a","amber-300":"#fcd34d","amber-400":"#fbbf24","amber-500":"#f59e0b","amber-600":"#d97706","amber-700":"#b45309","amber-800":"#92400e","amber-900":"#78350f","red-50":"#fef2f2","red-100":"#fee2e2","red-200":"#fecaca","red-300":"#fca5a5","red-400":"#f87171","red-500":"#ef4444","red-600":"#dc2626","red-700":"#b91c1c","red-800":"#991b1b","red-900":"#7f1d1d"}[s]||"#9C6BFF"}async function cr(s){var h;let n=(h=s.target.closest("[data-proposal-id]"))==null?void 0:h.dataset.proposalId,l=Le(X.slug||"");if(!n||!l)return;let d=s.target.closest("button");d.disabled=!0,d.innerHTML='<span class="animate-spin">\u23F3</span> Application...';try{let S=await fetch(`/api/sites/${encodeURIComponent(l)}/ai/apply-theme`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({proposalId:n})}),z=await S.json();if(S.ok&&z.success){let U=document.querySelector(`[data-proposal-id="${n}"]`);U&&(U.innerHTML=`
            <div class="w-8 h-8 rounded-full bg-purple-500 flex-shrink-0 flex items-center justify-center">
              <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
              </svg>
            </div>
            <div class="flex-1 bg-purple-50 border border-purple-200 rounded-2xl rounded-tl-none p-3">
              <p class="text-sm text-purple-700">\u2705 Th\xE8me mis \xE0 jour avec succ\xE8s !</p>
              <p class="text-xs text-purple-600 mt-1">Rechargez la preview pour voir les changements.</p>
            </div>
          `),j("Th\xE8me mis \xE0 jour !"),document.dispatchEvent(new CustomEvent("ai-theme-updated",{detail:{updatedTheme:z.updatedTheme}}))}else throw new Error(z.message||"Erreur lors de l'application")}catch(S){d.disabled=!1,d.innerHTML='<svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg> R\xE9essayer',j(`Erreur: ${S.message}`)}}async function dr(s){var h,S;let n=(h=s.target.closest("[data-proposal-id]"))==null?void 0:h.dataset.proposalId,l=Le(X.slug||"");if(!n||!l)return;let d=s.target.closest("button");d.disabled=!0,d.innerHTML='<span class="animate-spin">\u23F3</span> Application...';try{let z=await fetch(`/api/sites/${encodeURIComponent(l)}/ai/apply-edit`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({proposalId:n})}),U=await z.json();if(z.ok&&U.success){let V=document.querySelector(`[data-proposal-id="${n}"]`);V&&(V.innerHTML=`
            <div class="w-8 h-8 rounded-full bg-emerald-500 flex-shrink-0 flex items-center justify-center">
              <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
              </svg>
            </div>
            <div class="flex-1 bg-emerald-50 border border-emerald-200 rounded-2xl rounded-tl-none p-3">
              <p class="text-sm text-emerald-700">\u2705 Modifications appliqu\xE9es avec succ\xE8s !</p>
              <p class="text-xs text-emerald-600 mt-1">La preview se met \xE0 jour automatiquement.</p>
            </div>
          `),j("Modifications appliqu\xE9es !");let ee=((S=U.updatedPage)==null?void 0:S.id)||null;document.dispatchEvent(new CustomEvent("ai-page-updated",{detail:{pageId:ee,updatedPage:U.updatedPage}}))}else throw new Error(U.message||"Erreur lors de l'application")}catch(z){d.disabled=!1,d.innerHTML='<svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg> R\xE9essayer',j(`Erreur: ${z.message}`)}}async function rn(s){var d;let n=(d=s.target.closest("[data-proposal-id]"))==null?void 0:d.dataset.proposalId,l=Le(X.slug||"");if(!(!n||!l))try{await fetch(`/api/sites/${encodeURIComponent(l)}/ai/proposal/${n}`,{method:"DELETE"});let h=document.querySelector(`[data-proposal-id="${n}"]`);h&&(h.innerHTML=`
          <div class="w-8 h-8 rounded-full bg-slate-400 flex-shrink-0 flex items-center justify-center">
            <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
            </svg>
          </div>
          <div class="flex-1 bg-slate-100 rounded-2xl rounded-tl-none p-3">
            <p class="text-sm text-slate-500">Proposition rejet\xE9e.</p>
          </div>
        `)}catch(h){console.error("[AI] Reject edit error:",h)}}async function ur(){let s=Le(X.slug||"");if(!(!s||!xe))try{await fetch(`/api/sites/${encodeURIComponent(s)}/ai/history`,{method:"DELETE"}),xe.innerHTML="",xe.innerHTML=`
        <div class="flex gap-3" data-ai-welcome>
          <div class="w-8 h-8 rounded-full bg-gradient-to-br from-violet-500 to-indigo-600 flex-shrink-0 flex items-center justify-center">
            <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
            </svg>
          </div>
          <div class="flex-1 bg-slate-50 rounded-2xl rounded-tl-none p-3">
            <p class="text-sm text-slate-700">
              Salut ! \u{1F44B} Je suis ton assistant IA pour ce site. Je peux t'aider \xE0 :
            </p>
            <ul class="mt-2 text-sm text-slate-600 space-y-1">
              <li>\u{1F3A8} Sugg\xE9rer des palettes de couleurs</li>
              <li>\u270D\uFE0F G\xE9n\xE9rer du contenu pour tes blocs</li>
              <li>\u{1F4C4} Cr\xE9er des structures de pages</li>
              <li>\u{1F50D} Am\xE9liorer ton SEO</li>
              <li>\u270F\uFE0F <strong>Analyser et modifier tes pages</strong> (avec validation)</li>
            </ul>
          </div>
        </div>
      `,j("Historique effac\xE9")}catch(n){console.error("[AI] Clear history failed:",n),j("Erreur lors de l'effacement")}}let mr={colors:"Sugg\xE8re-moi 3 palettes de couleurs harmonieuses pour mon site. Pour chaque palette, donne les couleurs Tailwind: primary, secondary, accent, et background.",hero:"G\xE9n\xE8re un bloc Hero en JSON avec un titre accrocheur, un sous-titre engageant et un CTA.",seo:"Analyse mon site et sugg\xE8re des am\xE9liorations SEO pour le meta title et la meta description de ma page d'accueil.",landing:"G\xE9n\xE8re la structure JSON d'une landing page compl\xE8te avec: Hero, 3 sections de contenu, et un CTA final.",analyze:"Analyse le contenu de toutes mes pages et propose des am\xE9liorations concr\xE8tes. Pour chaque suggestion d'am\xE9lioration de texte ou de structure, utilise le format propose-edit pour que je puisse valider.",improveHome:"Analyse ma page d'accueil et propose une am\xE9lioration du titre ou du Hero pour le rendre plus impactant. Utilise le format propose-edit."};So==null||So.addEventListener("click",()=>{Vs?Js():tr()}),Lo==null||Lo.addEventListener("click",Js),et==null||et.addEventListener("click",Js),ko==null||ko.addEventListener("click",()=>{confirm("Effacer tout l'historique de conversation ?")&&ur()}),Eo==null||Eo.addEventListener("submit",s=>{var l;s.preventDefault();let n=(l=At==null?void 0:At.value)==null?void 0:l.trim();n&&(At.value="",nn(n))}),Xn.forEach(s=>{s.addEventListener("click",()=>{let n=s.dataset.aiQuick,l=mr[n];l&&nn(l)})}),document.addEventListener("keydown",s=>{s.key==="Escape"&&Vs&&Js()})});})();
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vY29yZS9zY3JpcHRzL2FkbWluLmpzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuICBjb25zb2xlLmxvZygnW2FkbWluXSBBdGVsaWVyIGNoYXJnXHUwMEU5Jyk7XG4gIGNvbnN0IGxvZ291dEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWxvZ291dF0nKTtcbiAgaWYgKGxvZ291dEJ1dHRvbikge1xuICAgIGxvZ291dEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGxvZ291dEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBmZXRjaCgnL2FwaS9sb2dvdXQnLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbYWRtaW5dIEltcG9zc2libGUgZGUgc2UgZFx1MDBFOWNvbm5lY3RlcicsIGVycik7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvYWRtaW4vaW5kZXguaHRtbCc7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBjb25zdCBzaWRlYmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRtaW4tc2lkZWJhcl0nKTtcbiAgY29uc3Qgc2lkZWJhck92ZXJsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZG1pbi1zaWRlYmFyLW92ZXJsYXldJyk7XG4gIGNvbnN0IHNpZGViYXJUb2dnbGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYWRtaW4tc2lkZWJhci10b2dnbGVdJyk7XG4gIGNvbnN0IHNpZGViYXJDbG9zZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1hZG1pbi1zaWRlYmFyLWNsb3NlXScpO1xuICBjb25zdCBib2R5ID0gZG9jdW1lbnQuYm9keTtcbiAgbGV0IHNpZGViYXJPcGVuID0gZmFsc2U7XG5cbiAgY29uc3QgYXBwbHlTaWRlYmFyU3RhdGUgPSAoKSA9PiB7XG4gICAgaWYgKCFzaWRlYmFyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGlzRGVza3RvcCA9IHdpbmRvdy5tYXRjaE1lZGlhKCcobWluLXdpZHRoOiAxMDI0cHgpJykubWF0Y2hlcztcbiAgICBpZiAoaXNEZXNrdG9wKSB7XG4gICAgICBzaWRlYmFyLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgc2lkZWJhck92ZXJsYXk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHNpZGViYXJPcGVuKSB7XG4gICAgICBzaWRlYmFyLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgc2lkZWJhck92ZXJsYXk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgYm9keS5jbGFzc0xpc3QuYWRkKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2lkZWJhci5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIHNpZGViYXJPdmVybGF5Py5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnb3ZlcmZsb3ctaGlkZGVuJyk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IG9wZW5TaWRlYmFyID0gKCkgPT4ge1xuICAgIHNpZGViYXJPcGVuID0gdHJ1ZTtcbiAgICBhcHBseVNpZGViYXJTdGF0ZSgpO1xuICB9O1xuXG4gIGNvbnN0IGNsb3NlU2lkZWJhciA9ICgpID0+IHtcbiAgICBzaWRlYmFyT3BlbiA9IGZhbHNlO1xuICAgIGFwcGx5U2lkZWJhclN0YXRlKCk7XG4gIH07XG5cbiAgaWYgKHNpZGViYXIgJiYgc2lkZWJhclRvZ2dsZXMubGVuZ3RoID4gMCkge1xuICAgIHNpZGViYXJUb2dnbGVzLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlblNpZGViYXIpO1xuICAgIH0pO1xuICAgIHNpZGViYXJDbG9zZUJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZVNpZGViYXIpO1xuICAgIH0pO1xuICAgIHNpZGViYXJPdmVybGF5Py5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlU2lkZWJhcik7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGFwcGx5U2lkZWJhclN0YXRlKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VzY2FwZScgJiYgc2lkZWJhck9wZW4pIHtcbiAgICAgICAgY2xvc2VTaWRlYmFyKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgYXBwbHlTaWRlYmFyU3RhdGUoKTtcbiAgfVxuXG4gIGNvbnN0IEFDVElWRV9TSVRFX0tFWSA9ICdjbG93ZXI6Y3VycmVudFNpdGUnO1xuICBjb25zdCBBQ1RJVkVfU0lURV9OQU1FX0tFWSA9ICdjbG93ZXI6Y3VycmVudFNpdGVOYW1lJztcbiAgY29uc3Qgc3RvcmVkU2l0ZSA9IHsgc2x1ZzogbnVsbCwgbmFtZTogJycgfTtcbiAgY29uc3QgbG9hZFN0b3JlZFNpdGUgPSAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJhd1NsdWcgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oQUNUSVZFX1NJVEVfS0VZKTtcbiAgICAgIHN0b3JlZFNpdGUuc2x1ZyA9IHJhd1NsdWcgPyBlbnN1cmVMZWFkaW5nU2xhc2goc3RyaXBMZWFkaW5nU2xhc2gocmF3U2x1ZykpIDogbnVsbDtcbiAgICAgIHN0b3JlZFNpdGUubmFtZSA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShBQ1RJVkVfU0lURV9OQU1FX0tFWSkgfHwgJyc7XG4gICAgfSBjYXRjaCB7XG4gICAgICBzdG9yZWRTaXRlLnNsdWcgPSBudWxsO1xuICAgICAgc3RvcmVkU2l0ZS5uYW1lID0gJyc7XG4gICAgfVxuICB9O1xuICBsb2FkU3RvcmVkU2l0ZSgpO1xuXG4gIGNvbnN0IHNpdGVDYXJkcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXNpdGUtY2FyZF0nKTtcbiAgY29uc3Qgc2l0ZVNlbGVjdEJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1zaXRlLXNlbGVjdF0nKTtcbiAgY29uc3Qgc2l0ZU5hbWVMYWJlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWN1cnJlbnQtc2l0ZS1uYW1lXScpO1xuICBjb25zdCB3b3Jrc3BhY2VTaXRlTGFiZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS13b3Jrc3BhY2Utc2l0ZS1uYW1lXScpO1xuICBjb25zdCB3b3Jrc3BhY2VCYWNrTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXdvcmtzcGFjZS1iYWNrLW5hbWVdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZUJhY2tNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXdvcmtzcGFjZS1iYWNrLW1vZGFsXScpO1xuICBjb25zdCB3b3Jrc3BhY2VCYWNrQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXdvcmtzcGFjZS1iYWNrXScpO1xuICBjb25zdCB3b3Jrc3BhY2VCYWNrQ2FuY2VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtd29ya3NwYWNlLWJhY2stY2FuY2VsXScpO1xuICBjb25zdCB3b3Jrc3BhY2VCYWNrQ29uZmlybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXdvcmtzcGFjZS1iYWNrLWNvbmZpcm1dJyk7XG4gIGNvbnN0IHdvcmtzcGFjZU5hdkxpbmtzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtd29ya3NwYWNlLXRhYl0nKTtcbiAgY29uc3Qgc2l0ZVRvYXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS10b2FzdF0nKTtcbiAgY29uc3Qgc2l0ZVRvYXN0TWVzc2FnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtdG9hc3QtbWVzc2FnZV0nKTtcbiAgY29uc3Qgc2l0ZUNyZWF0ZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1zaXRlLWNyZWF0ZV0nKTtcbiAgY29uc3Qgc2l0ZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS1tb2RhbF0nKTtcbiAgY29uc3Qgc2l0ZUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLWZvcm1dJyk7XG4gIC8vIFVzZSBtb3JlIHNwZWNpZmljIHNlbGVjdG9ycyB0byBnZXQgaW5wdXRzIElOU0lERSB0aGUgZm9ybSwgbm90IHNpdGUgY2FyZHNcbiAgY29uc3Qgc2l0ZU5hbWVJbnB1dCA9IHNpdGVGb3JtPy5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPVwic2l0ZU5hbWVcIl0nKTtcbiAgY29uc3Qgc2l0ZVNsdWdJbnB1dCA9IHNpdGVGb3JtPy5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPVwic2l0ZVNsdWdcIl0nKTtcbiAgY29uc3Qgc2l0ZVNsdWdFcnJvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtc2x1Zy1lcnJvcl0nKTtcbiAgY29uc3Qgc2l0ZU1vZGFsRXJyb3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLW1vZGFsLWVycm9yXScpO1xuICBjb25zdCBzaXRlTW9kYWxDYW5jZWxCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtc2l0ZS1tb2RhbC1jYW5jZWxdJyk7XG4gIGNvbnN0IHNpdGVNb2RhbFN1Ym1pdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtbW9kYWwtc3VibWl0XScpO1xuICBjb25zdCB3b3Jrc3BhY2VDb250ZXh0ID0gZ2V0V29ya3NwYWNlQ29udGV4dCgpO1xuICBsZXQgc2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gIGxldCB0b2FzdFRpbWVvdXRJZCA9IG51bGw7XG5cbiAgY29uc3QgZm9jdXNhYmxlU2VsZWN0b3IgPVxuICAgICdhW2hyZWZdLCBidXR0b246bm90KFtkaXNhYmxlZF0pLCB0ZXh0YXJlYSwgaW5wdXQsIHNlbGVjdCwgW3RhYmluZGV4XTpub3QoW3RhYmluZGV4PVwiLTFcIl0pJztcbiAgY29uc3QgbW9kYWxTdGFjayA9IFtdO1xuICBjb25zdCBnZXRGb2N1c2FibGVFbGVtZW50cyA9IChtb2RhbCkgPT5cbiAgICBBcnJheS5mcm9tKG1vZGFsLnF1ZXJ5U2VsZWN0b3JBbGwoZm9jdXNhYmxlU2VsZWN0b3IpKS5maWx0ZXIoXG4gICAgICAoZWwpID0+ICFlbC5oYXNBdHRyaWJ1dGUoJ2Rpc2FibGVkJykgJiYgIWVsLmdldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nKSxcbiAgICApO1xuICBjb25zdCBoYW5kbGVNb2RhbEtleWRvd24gPSAoZXZlbnQpID0+IHtcbiAgICBpZiAoIW1vZGFsU3RhY2subGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGN1cnJlbnRFbnRyeSA9IG1vZGFsU3RhY2tbbW9kYWxTdGFjay5sZW5ndGggLSAxXTtcbiAgICBjb25zdCB7IG1vZGFsLCBvbkNsb3NlIH0gPSBjdXJyZW50RW50cnk7XG4gICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBvbkNsb3NlPy4oKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGV2ZW50LmtleSAhPT0gJ1RhYicpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZm9jdXNhYmxlRWxlbWVudHMgPSBnZXRGb2N1c2FibGVFbGVtZW50cyhtb2RhbCk7XG4gICAgaWYgKCFmb2N1c2FibGVFbGVtZW50cy5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZmlyc3QgPSBmb2N1c2FibGVFbGVtZW50c1swXTtcbiAgICBjb25zdCBsYXN0ID0gZm9jdXNhYmxlRWxlbWVudHNbZm9jdXNhYmxlRWxlbWVudHMubGVuZ3RoIC0gMV07XG4gICAgaWYgKGV2ZW50LnNoaWZ0S2V5KSB7XG4gICAgICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gZmlyc3QpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgbGFzdC5mb2N1cygpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gbGFzdCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGZpcnN0LmZvY3VzKCk7XG4gICAgfVxuICB9O1xuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlTW9kYWxLZXlkb3duKTtcbiAgY29uc3QgYWN0aXZhdGVNb2RhbCA9IChtb2RhbCwgb25DbG9zZSkgPT4ge1xuICAgIGlmICghbW9kYWwpIHJldHVybjtcbiAgICBtb2RhbFN0YWNrLnB1c2goe1xuICAgICAgbW9kYWwsXG4gICAgICBvbkNsb3NlLFxuICAgICAgdHJpZ2dlcjogZG9jdW1lbnQuYWN0aXZlRWxlbWVudCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ID8gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA6IG51bGwsXG4gICAgfSk7XG4gICAgY29uc3QgZm9jdXNhYmxlID0gZ2V0Rm9jdXNhYmxlRWxlbWVudHMobW9kYWwpO1xuICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIChmb2N1c2FibGVbMF0gfHwgbW9kYWwpLmZvY3VzPy4oKTtcbiAgICB9LCAwKTtcbiAgfTtcbiAgY29uc3QgZGVhY3RpdmF0ZU1vZGFsID0gKG1vZGFsKSA9PiB7XG4gICAgY29uc3QgaW5kZXggPSBtb2RhbFN0YWNrLmZpbmRJbmRleCgoZW50cnkpID0+IGVudHJ5Lm1vZGFsID09PSBtb2RhbCk7XG4gICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBbZW50cnldID0gbW9kYWxTdGFjay5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIGVudHJ5LnRyaWdnZXI/LmZvY3VzPy4oKTtcbiAgfTtcbiAgY29uc3QgbW9iaWxlUGFuZWxPdmVybGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbW9iaWxlLXBhbmVscy1vdmVybGF5XScpO1xuICBjb25zdCBtb2JpbGVQYW5lbExheWVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbW9iaWxlLXBhbmVscy1sYXllcl0nKTtcbiAgY29uc3QgbW9iaWxlUGFuZWxzID0ge1xuICAgIGxlZnQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1vYmlsZS1wYW5lbD1cImxlZnRcIl0nKSxcbiAgICByaWdodDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbW9iaWxlLXBhbmVsPVwicmlnaHRcIl0nKSxcbiAgfTtcbiAgbGV0IG1vYmlsZVBhbmVsTGF5ZXJQbGFjZWhvbGRlciA9IG51bGw7XG4gIGlmIChtb2JpbGVQYW5lbExheWVyPy5wYXJlbnRFbGVtZW50KSB7XG4gICAgbW9iaWxlUGFuZWxMYXllclBsYWNlaG9sZGVyID0gZG9jdW1lbnQuY3JlYXRlQ29tbWVudCgnbW9iaWxlLXBhbmVscy1sYXllci1wbGFjZWhvbGRlcicpO1xuICAgIG1vYmlsZVBhbmVsTGF5ZXIucGFyZW50RWxlbWVudC5pbnNlcnRCZWZvcmUobW9iaWxlUGFuZWxMYXllclBsYWNlaG9sZGVyLCBtb2JpbGVQYW5lbExheWVyKTtcbiAgfVxuICBsZXQgcmlnaHRQYW5lbFBsYWNlaG9sZGVyID0gbnVsbDtcbiAgaWYgKG1vYmlsZVBhbmVscy5yaWdodD8ucGFyZW50RWxlbWVudCkge1xuICAgIHJpZ2h0UGFuZWxQbGFjZWhvbGRlciA9IGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoJ21vYmlsZS1wYW5lbC1yaWdodC1wbGFjZWhvbGRlcicpO1xuICAgIG1vYmlsZVBhbmVscy5yaWdodC5wYXJlbnRFbGVtZW50Lmluc2VydEJlZm9yZShyaWdodFBhbmVsUGxhY2Vob2xkZXIsIG1vYmlsZVBhbmVscy5yaWdodCk7XG4gIH1cbiAgY29uc3QgbW9iaWxlUGFuZWxUb2dnbGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtbW9iaWxlLXBhbmVsLXRvZ2dsZV0nKTtcbiAgY29uc3QgbW9iaWxlUGFuZWxDbG9zZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1tb2JpbGUtcGFuZWwtY2xvc2VdJyk7XG4gIGNvbnN0IG1vYmlsZVBhbmVsVHJpZ2dlcnMgPSB7IGxlZnQ6IG51bGwsIHJpZ2h0OiBudWxsIH07XG4gIGxldCBhY3RpdmVNb2JpbGVQYW5lbCA9IG51bGw7XG4gIGNvbnN0IGlzRGVza3RvcFZpZXdwb3J0ID0gKCkgPT4gd2luZG93Lm1hdGNoTWVkaWEoJyhtaW4td2lkdGg6IDEwMjRweCknKS5tYXRjaGVzO1xuICBjb25zdCBlbnN1cmVNb2JpbGVQYW5lbExheWVyUGxhY2VtZW50ID0gKCkgPT4ge1xuICAgIGlmICghbW9iaWxlUGFuZWxMYXllciB8fCAhbW9iaWxlUGFuZWxMYXllclBsYWNlaG9sZGVyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChpc0Rlc2t0b3BWaWV3cG9ydCgpKSB7XG4gICAgICBjb25zdCB0YXJnZXRQYXJlbnQgPSBtb2JpbGVQYW5lbExheWVyUGxhY2Vob2xkZXIucGFyZW50RWxlbWVudDtcbiAgICAgIGlmICghdGFyZ2V0UGFyZW50KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChtb2JpbGVQYW5lbExheWVyLnBhcmVudEVsZW1lbnQgIT09IHRhcmdldFBhcmVudCkge1xuICAgICAgICB0YXJnZXRQYXJlbnQuaW5zZXJ0QmVmb3JlKG1vYmlsZVBhbmVsTGF5ZXIsIG1vYmlsZVBhbmVsTGF5ZXJQbGFjZWhvbGRlci5uZXh0U2libGluZyk7XG4gICAgICB9IGVsc2UgaWYgKG1vYmlsZVBhbmVsTGF5ZXJQbGFjZWhvbGRlci5uZXh0U2libGluZyAhPT0gbW9iaWxlUGFuZWxMYXllcikge1xuICAgICAgICB0YXJnZXRQYXJlbnQuaW5zZXJ0QmVmb3JlKG1vYmlsZVBhbmVsTGF5ZXIsIG1vYmlsZVBhbmVsTGF5ZXJQbGFjZWhvbGRlci5uZXh0U2libGluZyk7XG4gICAgICB9XG4gICAgICBtb2JpbGVQYW5lbExheWVyLmRhdGFzZXQubW9iaWxlUGFuZWxQbGFjZW1lbnQgPSAnc2lkZWJhcic7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChtb2JpbGVQYW5lbExheWVyLnBhcmVudEVsZW1lbnQgIT09IGRvY3VtZW50LmJvZHkpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobW9iaWxlUGFuZWxMYXllcik7XG4gICAgICBtb2JpbGVQYW5lbExheWVyLmRhdGFzZXQubW9iaWxlUGFuZWxQbGFjZW1lbnQgPSAnb3ZlcmxheSc7XG4gICAgfVxuICB9O1xuICBjb25zdCBlbnN1cmVSaWdodFBhbmVsUGxhY2VtZW50ID0gKCkgPT4ge1xuICAgIGNvbnN0IHBhbmVsID0gbW9iaWxlUGFuZWxzLnJpZ2h0O1xuICAgIGlmICghcGFuZWwgfHwgIXJpZ2h0UGFuZWxQbGFjZWhvbGRlcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoaXNEZXNrdG9wVmlld3BvcnQoKSkge1xuICAgICAgY29uc3QgdGFyZ2V0UGFyZW50ID0gcmlnaHRQYW5lbFBsYWNlaG9sZGVyLnBhcmVudEVsZW1lbnQ7XG4gICAgICBpZiAoIXRhcmdldFBhcmVudCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAocGFuZWwucGFyZW50RWxlbWVudCAhPT0gdGFyZ2V0UGFyZW50KSB7XG4gICAgICAgIHRhcmdldFBhcmVudC5pbnNlcnRCZWZvcmUocGFuZWwsIHJpZ2h0UGFuZWxQbGFjZWhvbGRlci5uZXh0U2libGluZyk7XG4gICAgICB9IGVsc2UgaWYgKHJpZ2h0UGFuZWxQbGFjZWhvbGRlci5uZXh0U2libGluZyAhPT0gcGFuZWwpIHtcbiAgICAgICAgdGFyZ2V0UGFyZW50Lmluc2VydEJlZm9yZShwYW5lbCwgcmlnaHRQYW5lbFBsYWNlaG9sZGVyLm5leHRTaWJsaW5nKTtcbiAgICAgIH1cbiAgICAgIHBhbmVsLmRhdGFzZXQubW9iaWxlUGFuZWxQbGFjZW1lbnQgPSAnc2lkZWJhcic7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChtb2JpbGVQYW5lbExheWVyKSB7XG4gICAgICBjb25zdCBsZWZ0UGFuZWwgPSBtb2JpbGVQYW5lbHMubGVmdDtcbiAgICAgIGlmIChsZWZ0UGFuZWwgJiYgbGVmdFBhbmVsLnBhcmVudEVsZW1lbnQgPT09IG1vYmlsZVBhbmVsTGF5ZXIpIHtcbiAgICAgICAgaWYgKHBhbmVsLnBhcmVudEVsZW1lbnQgIT09IG1vYmlsZVBhbmVsTGF5ZXIgfHwgcGFuZWwucHJldmlvdXNTaWJsaW5nICE9PSBsZWZ0UGFuZWwpIHtcbiAgICAgICAgICBtb2JpbGVQYW5lbExheWVyLmluc2VydEJlZm9yZShwYW5lbCwgbGVmdFBhbmVsLm5leHRTaWJsaW5nKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChwYW5lbC5wYXJlbnRFbGVtZW50ICE9PSBtb2JpbGVQYW5lbExheWVyKSB7XG4gICAgICAgIG1vYmlsZVBhbmVsTGF5ZXIuYXBwZW5kQ2hpbGQocGFuZWwpO1xuICAgICAgfVxuICAgICAgcGFuZWwuZGF0YXNldC5tb2JpbGVQYW5lbFBsYWNlbWVudCA9ICdvdmVybGF5JztcbiAgICB9IGVsc2UgaWYgKHBhbmVsLnBhcmVudEVsZW1lbnQgIT09IGRvY3VtZW50LmJvZHkpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQocGFuZWwpO1xuICAgICAgcGFuZWwuZGF0YXNldC5tb2JpbGVQYW5lbFBsYWNlbWVudCA9ICdvdmVybGF5JztcbiAgICB9XG4gIH07XG4gIGNvbnN0IGVuc3VyZU1vYmlsZVBhbmVsUGxhY2VtZW50ID0gKCkgPT4ge1xuICAgIGVuc3VyZU1vYmlsZVBhbmVsTGF5ZXJQbGFjZW1lbnQoKTtcbiAgICBlbnN1cmVSaWdodFBhbmVsUGxhY2VtZW50KCk7XG4gIH07XG4gIGVuc3VyZU1vYmlsZVBhbmVsUGxhY2VtZW50KCk7XG4gIGNvbnN0IHBhbmVsRGVmYXVsdFogPSB7fTtcbiAgT2JqZWN0LmVudHJpZXMobW9iaWxlUGFuZWxzKS5mb3JFYWNoKChbc2lkZSwgcGFuZWxdKSA9PiB7XG4gICAgaWYgKCFwYW5lbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBjb21wdXRlZFogPSBOdW1iZXIod2luZG93LmdldENvbXB1dGVkU3R5bGUocGFuZWwpLnpJbmRleCkgfHwgMDtcbiAgICBwYW5lbERlZmF1bHRaW3NpZGVdID0gY29tcHV0ZWRaO1xuICB9KTtcbiAgY29uc3QgbWF4RGVmYXVsdFogPVxuICAgIE9iamVjdC52YWx1ZXMocGFuZWxEZWZhdWx0WikucmVkdWNlKChtYXgsIHZhbHVlKSA9PiBNYXRoLm1heChtYXgsIHZhbHVlIHx8IDApLCAwKSB8fCAxNTA7XG4gIGNvbnN0IGFjdGl2ZVBhbmVsWiA9IG1heERlZmF1bHRaICsgNTtcbiAgY29uc3Qgc2V0UGFuZWxaU3RhdGUgPSAoc2lkZSwgaXNBY3RpdmUpID0+IHtcbiAgICBjb25zdCBwYW5lbCA9IG1vYmlsZVBhbmVsc1tzaWRlXTtcbiAgICBpZiAoIXBhbmVsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChpc0Rlc2t0b3BWaWV3cG9ydCgpKSB7XG4gICAgICBwYW5lbC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnei1pbmRleCcpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoaXNBY3RpdmUpIHtcbiAgICAgIHBhbmVsLnN0eWxlLnpJbmRleCA9IFN0cmluZyhhY3RpdmVQYW5lbFopO1xuICAgIH0gZWxzZSBpZiAocGFuZWxEZWZhdWx0WltzaWRlXSkge1xuICAgICAgcGFuZWwuc3R5bGUuekluZGV4ID0gU3RyaW5nKHBhbmVsRGVmYXVsdFpbc2lkZV0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBwYW5lbC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnei1pbmRleCcpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgYXBwbHlQYW5lbENsYXNzZXMgPSAocGFuZWwsIGNsYXNzZXMsIG1ldGhvZCkgPT4ge1xuICAgIGlmICghcGFuZWwgfHwgIWNsYXNzZXMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY2xhc3Nlc1xuICAgICAgLnNwbGl0KCcgJylcbiAgICAgIC5tYXAoKGNscykgPT4gY2xzLnRyaW0oKSlcbiAgICAgIC5maWx0ZXIoQm9vbGVhbilcbiAgICAgIC5mb3JFYWNoKChjbHMpID0+IHBhbmVsLmNsYXNzTGlzdFttZXRob2RdKGNscykpO1xuICB9O1xuICBjb25zdCBzZXRQYW5lbEhpZGRlblN0YXRlID0gKHBhbmVsLCBoaWRkZW4pID0+IHtcbiAgICBpZiAoIXBhbmVsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGhpZGRlbkNsYXNzZXMgPSBwYW5lbC5kYXRhc2V0Lm1vYmlsZVBhbmVsSGlkZGVuIHx8ICcnO1xuICAgIGNvbnN0IHZpc2libGVDbGFzc2VzID0gcGFuZWwuZGF0YXNldC5tb2JpbGVQYW5lbFZpc2libGUgfHwgJ3RyYW5zbGF0ZS14LTAnO1xuICAgIGlmIChoaWRkZW4pIHtcbiAgICAgIGFwcGx5UGFuZWxDbGFzc2VzKHBhbmVsLCB2aXNpYmxlQ2xhc3NlcywgJ3JlbW92ZScpO1xuICAgICAgYXBwbHlQYW5lbENsYXNzZXMocGFuZWwsIGhpZGRlbkNsYXNzZXMsICdhZGQnKTtcbiAgICAgIHBhbmVsLmNsYXNzTGlzdC5hZGQoJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICAgIHBhbmVsLmNsYXNzTGlzdC5yZW1vdmUoJ3BvaW50ZXItZXZlbnRzLWF1dG8nKTtcbiAgICAgIHBhbmVsLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuICAgICAgcGFuZWwuZGF0YXNldC5tb2JpbGVQYW5lbE9wZW4gPSAnZmFsc2UnO1xuICAgIH0gZWxzZSB7XG4gICAgICBhcHBseVBhbmVsQ2xhc3NlcyhwYW5lbCwgaGlkZGVuQ2xhc3NlcywgJ3JlbW92ZScpO1xuICAgICAgYXBwbHlQYW5lbENsYXNzZXMocGFuZWwsIHZpc2libGVDbGFzc2VzLCAnYWRkJyk7XG4gICAgICBwYW5lbC5jbGFzc0xpc3QucmVtb3ZlKCdwb2ludGVyLWV2ZW50cy1ub25lJyk7XG4gICAgICBwYW5lbC5jbGFzc0xpc3QuYWRkKCdwb2ludGVyLWV2ZW50cy1hdXRvJyk7XG4gICAgICBwYW5lbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ2ZhbHNlJyk7XG4gICAgICBwYW5lbC5kYXRhc2V0Lm1vYmlsZVBhbmVsT3BlbiA9ICd0cnVlJztcbiAgICB9XG4gIH07XG4gIGNvbnN0IGNsb3NlTW9iaWxlUGFuZWwgPSAoc2lkZSA9IGFjdGl2ZU1vYmlsZVBhbmVsKSA9PiB7XG4gICAgaWYgKCFzaWRlIHx8IGlzRGVza3RvcFZpZXdwb3J0KCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcGFuZWwgPSBtb2JpbGVQYW5lbHNbc2lkZV07XG4gICAgaWYgKCFwYW5lbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzZXRQYW5lbFpTdGF0ZShzaWRlLCBmYWxzZSk7XG4gICAgc2V0UGFuZWxIaWRkZW5TdGF0ZShwYW5lbCwgdHJ1ZSk7XG4gICAgY29uc3QgdHJpZ2dlciA9IG1vYmlsZVBhbmVsVHJpZ2dlcnNbc2lkZV07XG4gICAgaWYgKHRyaWdnZXIpIHtcbiAgICAgIHRyaWdnZXIuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJyk7XG4gICAgfVxuICAgIG1vYmlsZVBhbmVsVHJpZ2dlcnNbc2lkZV0gPSBudWxsO1xuICAgIGlmIChhY3RpdmVNb2JpbGVQYW5lbCA9PT0gc2lkZSkge1xuICAgICAgbW9iaWxlUGFuZWxPdmVybGF5Py5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIG1vYmlsZVBhbmVsT3ZlcmxheT8uY2xhc3NMaXN0LnJlbW92ZSgncG9pbnRlci1ldmVudHMtYXV0bycpO1xuICAgICAgbW9iaWxlUGFuZWxPdmVybGF5Py5jbGFzc0xpc3QuYWRkKCdwb2ludGVyLWV2ZW50cy1ub25lJyk7XG4gICAgICBtb2JpbGVQYW5lbE92ZXJsYXk/LnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuICAgICAgbW9iaWxlUGFuZWxMYXllcj8uY2xhc3NMaXN0LmFkZCgncG9pbnRlci1ldmVudHMtbm9uZScpO1xuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICAgIHRyaWdnZXI/LmZvY3VzPy4oKTtcbiAgICAgIGFjdGl2ZU1vYmlsZVBhbmVsID0gbnVsbDtcbiAgICB9XG4gIH07XG4gIGNvbnN0IG9wZW5Nb2JpbGVQYW5lbCA9IChzaWRlLCB0cmlnZ2VyKSA9PiB7XG4gICAgaWYgKCFzaWRlIHx8IGlzRGVza3RvcFZpZXdwb3J0KCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcGFuZWwgPSBtb2JpbGVQYW5lbHNbc2lkZV07XG4gICAgaWYgKCFwYW5lbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoYWN0aXZlTW9iaWxlUGFuZWwgJiYgYWN0aXZlTW9iaWxlUGFuZWwgIT09IHNpZGUpIHtcbiAgICAgIGNsb3NlTW9iaWxlUGFuZWwoYWN0aXZlTW9iaWxlUGFuZWwpO1xuICAgIH1cbiAgICBzZXRQYW5lbEhpZGRlblN0YXRlKHBhbmVsLCBmYWxzZSk7XG4gICAgc2V0UGFuZWxaU3RhdGUoc2lkZSwgdHJ1ZSk7XG4gICAgYWN0aXZlTW9iaWxlUGFuZWwgPSBzaWRlO1xuICAgIG1vYmlsZVBhbmVsVHJpZ2dlcnNbc2lkZV0gPSB0cmlnZ2VyIHx8IG51bGw7XG4gICAgaWYgKHRyaWdnZXIpIHtcbiAgICAgIHRyaWdnZXIuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ3RydWUnKTtcbiAgICB9XG4gICAgbW9iaWxlUGFuZWxPdmVybGF5Py5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nLCAncG9pbnRlci1ldmVudHMtbm9uZScpO1xuICAgIG1vYmlsZVBhbmVsT3ZlcmxheT8uY2xhc3NMaXN0LmFkZCgncG9pbnRlci1ldmVudHMtYXV0bycpO1xuICAgIG1vYmlsZVBhbmVsT3ZlcmxheT8uc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICdmYWxzZScpO1xuICAgIG1vYmlsZVBhbmVsTGF5ZXI/LmNsYXNzTGlzdC5yZW1vdmUoJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ292ZXJmbG93LWhpZGRlbicpO1xuICAgIGNvbnN0IGZvY3VzVGFyZ2V0ID0gcGFuZWwucXVlcnlTZWxlY3Rvcihmb2N1c2FibGVTZWxlY3Rvcik7XG4gICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgZm9jdXNUYXJnZXQ/LmZvY3VzPy4oKTtcbiAgICB9LCAwKTtcbiAgfTtcbiAgY29uc3Qgc3luY01vYmlsZVBhbmVsc1dpdGhWaWV3cG9ydCA9ICgpID0+IHtcbiAgICBlbnN1cmVNb2JpbGVQYW5lbFBsYWNlbWVudCgpO1xuICAgIGlmIChpc0Rlc2t0b3BWaWV3cG9ydCgpKSB7XG4gICAgICBtb2JpbGVQYW5lbE92ZXJsYXk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgbW9iaWxlUGFuZWxMYXllcj8uY2xhc3NMaXN0LmFkZCgncG9pbnRlci1ldmVudHMtbm9uZScpO1xuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICAgIGFjdGl2ZU1vYmlsZVBhbmVsID0gbnVsbDtcbiAgICAgIE9iamVjdC5rZXlzKG1vYmlsZVBhbmVscykuZm9yRWFjaCgoc2lkZSkgPT4ge1xuICAgICAgICBjb25zdCBwYW5lbCA9IG1vYmlsZVBhbmVsc1tzaWRlXTtcbiAgICAgICAgaWYgKCFwYW5lbCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzZXRQYW5lbFpTdGF0ZShzaWRlLCBmYWxzZSk7XG4gICAgICAgIHBhbmVsLmNsYXNzTGlzdC5yZW1vdmUoJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICAgICAgcGFuZWwuY2xhc3NMaXN0LmFkZCgncG9pbnRlci1ldmVudHMtYXV0bycpO1xuICAgICAgICBwYW5lbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ2ZhbHNlJyk7XG4gICAgICAgIHBhbmVsLmRhdGFzZXQubW9iaWxlUGFuZWxPcGVuID0gJ2ZhbHNlJztcbiAgICAgICAgY29uc3QgdHJpZ2dlciA9IG1vYmlsZVBhbmVsVHJpZ2dlcnNbc2lkZV07XG4gICAgICAgIHRyaWdnZXI/LnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsICdmYWxzZScpO1xuICAgICAgICBtb2JpbGVQYW5lbFRyaWdnZXJzW3NpZGVdID0gbnVsbDtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBPYmplY3QuZW50cmllcyhtb2JpbGVQYW5lbHMpLmZvckVhY2goKFtzaWRlLCBwYW5lbF0pID0+IHtcbiAgICAgICAgaWYgKCFwYW5lbCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFuZWwuZGF0YXNldC5tb2JpbGVQYW5lbE9wZW4gIT09ICd0cnVlJykge1xuICAgICAgICAgIHNldFBhbmVsSGlkZGVuU3RhdGUocGFuZWwsIHRydWUpO1xuICAgICAgICAgIHNldFBhbmVsWlN0YXRlKHNpZGUsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoIWFjdGl2ZU1vYmlsZVBhbmVsKSB7XG4gICAgICAgIG1vYmlsZVBhbmVsT3ZlcmxheT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJywgJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICAgICAgbW9iaWxlUGFuZWxPdmVybGF5Py5jbGFzc0xpc3QucmVtb3ZlKCdwb2ludGVyLWV2ZW50cy1hdXRvJyk7XG4gICAgICAgIG1vYmlsZVBhbmVsT3ZlcmxheT8uc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJyk7XG4gICAgICAgIG1vYmlsZVBhbmVsTGF5ZXI/LmNsYXNzTGlzdC5hZGQoJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIGlmIChtb2JpbGVQYW5lbFRvZ2dsZXMubGVuZ3RoID4gMCkge1xuICAgIG1vYmlsZVBhbmVsVG9nZ2xlcy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICAgIGNvbnN0IHNpZGUgPSBidXR0b24uZGF0YXNldC5tb2JpbGVQYW5lbFRvZ2dsZTtcbiAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgaWYgKGFjdGl2ZU1vYmlsZVBhbmVsID09PSBzaWRlKSB7XG4gICAgICAgICAgY2xvc2VNb2JpbGVQYW5lbChzaWRlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvcGVuTW9iaWxlUGFuZWwoc2lkZSwgYnV0dG9uKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgbW9iaWxlUGFuZWxDbG9zZUJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICBjb25zdCBzaWRlID0gYnV0dG9uLmRhdGFzZXQubW9iaWxlUGFuZWxDbG9zZTtcbiAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGNsb3NlTW9iaWxlUGFuZWwoc2lkZSkpO1xuICAgIH0pO1xuICAgIG1vYmlsZVBhbmVsT3ZlcmxheT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBjbG9zZU1vYmlsZVBhbmVsKCkpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQua2V5ID09PSAnRXNjYXBlJyAmJiBhY3RpdmVNb2JpbGVQYW5lbCAmJiAhaXNEZXNrdG9wVmlld3BvcnQoKSkge1xuICAgICAgICBjbG9zZU1vYmlsZVBhbmVsKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHN5bmNNb2JpbGVQYW5lbHNXaXRoVmlld3BvcnQpO1xuICAgIHN5bmNNb2JpbGVQYW5lbHNXaXRoVmlld3BvcnQoKTtcbiAgfVxuXG4gIGNvbnN0IHNob3dUb2FzdCA9IChtZXNzYWdlKSA9PiB7XG4gICAgaWYgKCFzaXRlVG9hc3QgfHwgIXNpdGVUb2FzdE1lc3NhZ2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2l0ZVRvYXN0TWVzc2FnZS50ZXh0Q29udGVudCA9IG1lc3NhZ2U7XG4gICAgc2l0ZVRvYXN0LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgIGlmICh0b2FzdFRpbWVvdXRJZCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRvYXN0VGltZW91dElkKTtcbiAgICB9XG4gICAgdG9hc3RUaW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHNpdGVUb2FzdC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICB9LCAyNTAwKTtcbiAgfTtcblxuICBmdW5jdGlvbiBlbnN1cmVMZWFkaW5nU2xhc2goc2x1Zykge1xuICAgIGlmICghc2x1Zykge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICBjb25zdCB0cmltbWVkID0gYCR7c2x1Z31gLnRyaW0oKTtcbiAgICBpZiAoIXRyaW1tZWQpIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgY29uc3Qgd2l0aG91dExlYWRpbmcgPSB0cmltbWVkLnJlcGxhY2UoL15cXC8rLywgJycpO1xuICAgIGlmICghd2l0aG91dExlYWRpbmcpIHtcbiAgICAgIHJldHVybiAnLyc7XG4gICAgfVxuICAgIHJldHVybiBgLyR7d2l0aG91dExlYWRpbmd9YDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHN0cmlwTGVhZGluZ1NsYXNoKHNsdWcpIHtcbiAgICBpZiAoIXNsdWcpIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgcmV0dXJuIGAke3NsdWd9YC5yZXBsYWNlKC9eXFwvKy8sICcnKTtcbiAgfVxuXG4gIGNvbnN0IHBlcnNpc3RTaXRlU3RhdGUgPSAoc2x1ZywgbmFtZSkgPT4ge1xuICAgIGNvbnN0IG5vcm1hbGl6ZWRTbHVnID0gc2x1ZyA/IGVuc3VyZUxlYWRpbmdTbGFzaChzbHVnKSA6IG51bGw7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChub3JtYWxpemVkU2x1Zykge1xuICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oQUNUSVZFX1NJVEVfS0VZLCBub3JtYWxpemVkU2x1Zyk7XG4gICAgICAgIHN0b3JlZFNpdGUuc2x1ZyA9IG5vcm1hbGl6ZWRTbHVnO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBuYW1lID09PSAnc3RyaW5nJyAmJiBuYW1lLmxlbmd0aCA+IDApIHtcbiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKEFDVElWRV9TSVRFX05BTUVfS0VZLCBuYW1lKTtcbiAgICAgICAgc3RvcmVkU2l0ZS5uYW1lID0gbmFtZTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIHtcbiAgICAgIHN0b3JlZFNpdGUuc2x1ZyA9IG5vcm1hbGl6ZWRTbHVnIHx8IHN0b3JlZFNpdGUuc2x1ZztcbiAgICAgIHN0b3JlZFNpdGUubmFtZSA9IG5hbWUgfHwgc3RvcmVkU2l0ZS5uYW1lO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCB1cGRhdGVTaXRlTGFiZWxzID0gKG5hbWUpID0+IHtcbiAgICBpZiAoc2l0ZU5hbWVMYWJlbCAmJiBuYW1lKSB7XG4gICAgICBzaXRlTmFtZUxhYmVsLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICB9XG4gICAgaWYgKHdvcmtzcGFjZVNpdGVMYWJlbCAmJiBuYW1lKSB7XG4gICAgICB3b3Jrc3BhY2VTaXRlTGFiZWwudGV4dENvbnRlbnQgPSBuYW1lO1xuICAgIH1cbiAgICBpZiAod29ya3NwYWNlQmFja05hbWUgJiYgbmFtZSkge1xuICAgICAgd29ya3NwYWNlQmFja05hbWUudGV4dENvbnRlbnQgPSBuYW1lO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCB1cGRhdGVXb3Jrc3BhY2VOYXZMaW5rcyA9IChzbHVnKSA9PiB7XG4gICAgd29ya3NwYWNlTmF2TGlua3MuZm9yRWFjaCgobGluaykgPT4ge1xuICAgICAgY29uc3QgdGFiID0gbGluay5kYXRhc2V0LndvcmtzcGFjZVRhYjtcbiAgICAgIGlmICghdGFiKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghc2x1Zykge1xuICAgICAgICBsaW5rLmhyZWYgPSAnIyc7XG4gICAgICAgIGxpbmsuY2xhc3NMaXN0LmFkZCgncG9pbnRlci1ldmVudHMtbm9uZScsICdvcGFjaXR5LTUwJywgJ3RleHQtc2xhdGUtNDAwJyk7XG4gICAgICAgIGxpbmsuc2V0QXR0cmlidXRlKCdhcmlhLWRpc2FibGVkJywgJ3RydWUnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3Qgc2x1Z1BhdGggPSBlbmNvZGVVUklDb21wb25lbnQoc3RyaXBMZWFkaW5nU2xhc2goc2x1ZykpO1xuICAgICAgbGluay5ocmVmID0gYC9hZG1pbi9zaXRlLyR7c2x1Z1BhdGh9LyR7dGFifWA7XG4gICAgICBsaW5rLmNsYXNzTGlzdC5yZW1vdmUoJ3BvaW50ZXItZXZlbnRzLW5vbmUnLCAnb3BhY2l0eS01MCcsICd0ZXh0LXNsYXRlLTQwMCcpO1xuICAgICAgbGluay5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtZGlzYWJsZWQnKTtcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBhcHBseUFjdGl2ZVNpdGUgPSAoc2x1Zywgb3B0aW9ucyA9IHt9KSA9PiB7XG4gICAgaWYgKCFzbHVnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG5vcm1hbGl6ZWRTbHVnID0gZW5zdXJlTGVhZGluZ1NsYXNoKHNsdWcpO1xuICAgIGxldCBhY3RpdmVTaXRlTmFtZSA9XG4gICAgICBvcHRpb25zLnNpdGVOYW1lIHx8IHN0b3JlZFNpdGUubmFtZSB8fCBzaXRlTmFtZUxhYmVsPy5kYXRhc2V0LmRlZmF1bHRTaXRlTmFtZSB8fCAnJztcbiAgICBzaXRlQ2FyZHMuZm9yRWFjaCgoY2FyZCkgPT4ge1xuICAgICAgY29uc3QgY2FyZFNsdWcgPSBlbnN1cmVMZWFkaW5nU2xhc2goY2FyZC5kYXRhc2V0LnNpdGVDYXJkIHx8ICcnKTtcbiAgICAgIGNvbnN0IGlzQWN0aXZlID0gY2FyZFNsdWcgPT09IG5vcm1hbGl6ZWRTbHVnO1xuICAgICAgY29uc3QgYmFkZ2UgPSBjYXJkLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtYWN0aXZlLWJhZGdlXScpO1xuICAgICAgaWYgKGlzQWN0aXZlKSB7XG4gICAgICAgIGNhcmQuY2xhc3NMaXN0LmFkZCgnYm9yZGVyLVsjOUM2QkZGXScsICdyaW5nLTInLCAncmluZy1bIzlDNkJGRl0nLCAnc2hhZG93LW1kJyk7XG4gICAgICAgIGNhcmQuY2xhc3NMaXN0LnJlbW92ZSgnYm9yZGVyLXNsYXRlLTIwMCcpO1xuICAgICAgICBiYWRnZT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIGFjdGl2ZVNpdGVOYW1lID0gY2FyZC5kYXRhc2V0LnNpdGVOYW1lIHx8IGFjdGl2ZVNpdGVOYW1lO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FyZC5jbGFzc0xpc3QucmVtb3ZlKCdib3JkZXItWyM5QzZCRkZdJywgJ3JpbmctMicsICdyaW5nLVsjOUM2QkZGXScsICdzaGFkb3ctbWQnKTtcbiAgICAgICAgY2FyZC5jbGFzc0xpc3QuYWRkKCdib3JkZXItc2xhdGUtMjAwJyk7XG4gICAgICAgIGJhZGdlPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAob3B0aW9ucy5wZXJzaXN0ICE9PSBmYWxzZSkge1xuICAgICAgcGVyc2lzdFNpdGVTdGF0ZShub3JtYWxpemVkU2x1Zywgb3B0aW9ucy5zaXRlTmFtZSB8fCBhY3RpdmVTaXRlTmFtZSk7XG4gICAgfVxuICAgIGNvbnN0IGZpbmFsTmFtZSA9IG9wdGlvbnMuc2l0ZU5hbWUgfHwgYWN0aXZlU2l0ZU5hbWU7XG4gICAgdXBkYXRlU2l0ZUxhYmVscyhmaW5hbE5hbWUpO1xuICAgIHVwZGF0ZVdvcmtzcGFjZU5hdkxpbmtzKG5vcm1hbGl6ZWRTbHVnKTtcbiAgfTtcblxuICBjb25zdCBzZWxlY3RTaXRlID0gYXN5bmMgKHNsdWcsIG5hbWUpID0+IHtcbiAgICBjb25zdCBub3JtYWxpemVkU2x1ZyA9IGVuc3VyZUxlYWRpbmdTbGFzaChzbHVnKTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9zaXRlcy9zZWxlY3QnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBzbHVnOiBub3JtYWxpemVkU2x1ZyB9KSxcbiAgICAgIH0pO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICBzaG93VG9hc3QocGF5bG9hZC5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIHNcdTAwRTlsZWN0aW9ubmVyIGNlIHNpdGUuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICBjb25zdCBmaW5hbFNsdWcgPSBlbnN1cmVMZWFkaW5nU2xhc2gocGF5bG9hZC5zbHVnIHx8IG5vcm1hbGl6ZWRTbHVnKTtcbiAgICAgIGNvbnN0IGZpbmFsTmFtZSA9IHBheWxvYWQubmFtZSB8fCBuYW1lO1xuICAgICAgcGVyc2lzdFNpdGVTdGF0ZShmaW5hbFNsdWcsIGZpbmFsTmFtZSk7XG4gICAgICBhcHBseUFjdGl2ZVNpdGUoZmluYWxTbHVnLCB7IHNpdGVOYW1lOiBmaW5hbE5hbWUsIHBlcnNpc3Q6IGZhbHNlIH0pO1xuICAgICAgY29uc3Qgc2x1Z1BhdGggPSBlbmNvZGVVUklDb21wb25lbnQoc3RyaXBMZWFkaW5nU2xhc2goZmluYWxTbHVnKSk7XG4gICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGAvYWRtaW4vc2l0ZS8ke3NsdWdQYXRofS9kZXNpZ25gO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignW2FkbWluXSBJbXBvc3NpYmxlIGRlIHNcdTAwRTlsZWN0aW9ubmVyIGxlIHNpdGUnLCBlcnIpO1xuICAgICAgc2hvd1RvYXN0KCdFcnJldXIgaW5hdHRlbmR1ZSBsb3JzIGRlIGxhIHNcdTAwRTlsZWN0aW9uLicpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBzeW5jQWN0aXZlU2l0ZUZyb21TZXJ2ZXIgPSBhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvc2l0ZXMvY3VycmVudCcsIHsgY3JlZGVudGlhbHM6ICdzYW1lLW9yaWdpbicgfSk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwNCAmJiB3b3Jrc3BhY2VDb250ZXh0KSB7XG4gICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnL2FkbWluL3NpdGVzJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBzaXRlID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgY29uc3Qgbm9ybWFsaXplZFNsdWcgPSBlbnN1cmVMZWFkaW5nU2xhc2goc2l0ZS5zbHVnKTtcbiAgICAgIHBlcnNpc3RTaXRlU3RhdGUobm9ybWFsaXplZFNsdWcsIHNpdGUubmFtZSk7XG4gICAgICBhcHBseUFjdGl2ZVNpdGUobm9ybWFsaXplZFNsdWcsIHsgc2l0ZU5hbWU6IHNpdGUubmFtZSwgcGVyc2lzdDogZmFsc2UgfSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ1thZG1pbl0gSW1wb3NzaWJsZSBkZSByXHUwMEU5Y3VwXHUwMEU5cmVyIGxlIHNpdGUgYWN0aWYnLCBlcnIpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoaWdobGlnaHRGcm9tU3RvcmFnZU9yRGVmYXVsdCA9ICgpID0+IHtcbiAgICBpZiAoc3RvcmVkU2l0ZS5zbHVnKSB7XG4gICAgICBhcHBseUFjdGl2ZVNpdGUoc3RvcmVkU2l0ZS5zbHVnLCB7IHNpdGVOYW1lOiBzdG9yZWRTaXRlLm5hbWUsIHBlcnNpc3Q6IGZhbHNlIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBkZWZhdWx0Q2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtY2FyZF1bZGF0YS1zaXRlLWRlZmF1bHQ9XCJ0cnVlXCJdJykgfHwgc2l0ZUNhcmRzWzBdO1xuICAgIGlmIChkZWZhdWx0Q2FyZCkge1xuICAgICAgYXBwbHlBY3RpdmVTaXRlKGRlZmF1bHRDYXJkLmRhdGFzZXQuc2l0ZUNhcmQsIHtcbiAgICAgICAgc2l0ZU5hbWU6IGRlZmF1bHRDYXJkLmRhdGFzZXQuc2l0ZU5hbWUgfHwgJycsXG4gICAgICAgIHBlcnNpc3Q6IGZhbHNlLFxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIGhpZ2hsaWdodEZyb21TdG9yYWdlT3JEZWZhdWx0KCk7XG4gIHN5bmNBY3RpdmVTaXRlRnJvbVNlcnZlcigpO1xuICBpZiAod29ya3NwYWNlQ29udGV4dCkge1xuICAgIHVwZGF0ZVdvcmtzcGFjZU5hdkxpbmtzKHdvcmtzcGFjZUNvbnRleHQuc2x1Z1ZhbHVlKTtcbiAgfSBlbHNlIGlmIChzdG9yZWRTaXRlLnNsdWcpIHtcbiAgICB1cGRhdGVXb3Jrc3BhY2VOYXZMaW5rcyhzdG9yZWRTaXRlLnNsdWcpO1xuICB9XG5cbiAgc2l0ZVNlbGVjdEJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgaWYgKGJ1dHRvbi5kaXNhYmxlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBzbHVnID0gYnV0dG9uLmRhdGFzZXQuc2l0ZVNlbGVjdDtcbiAgICAgIGNvbnN0IG5hbWUgPSBidXR0b24uZGF0YXNldC5zaXRlU2VsZWN0TmFtZSB8fCAnQ2Ugc2l0ZSc7XG4gICAgICBpZiAoIXNsdWcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIHNlbGVjdFNpdGUoc2x1ZywgbmFtZSkuZmluYWxseSgoKSA9PiB7XG4gICAgICAgIGJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGNvbnN0IHdvcmtzcGFjZVNsdWdpZnkgPSAodmFsdWUpID0+XG4gICAgKHZhbHVlIHx8ICcnKVxuICAgICAgLm5vcm1hbGl6ZSgnTkZEJylcbiAgICAgIC5yZXBsYWNlKC9bXFx1MDMwMC1cXHUwMzZmXS9nLCAnJylcbiAgICAgIC50b0xvd2VyQ2FzZSgpXG4gICAgICAucmVwbGFjZSgvW15hLXowLTldKy9nLCAnLScpXG4gICAgICAucmVwbGFjZSgvXi0rfC0rJC9nLCAnJyk7XG5cbiAgY29uc3Qgbm9ybWFsaXplU2x1Z1ZhbHVlID0gKHZhbHVlKSA9PiB7XG4gICAgY29uc3QgYmFzZSA9IHdvcmtzcGFjZVNsdWdpZnkodmFsdWUgfHwgJycpO1xuICAgIGlmICghYmFzZSkge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICByZXR1cm4gYC8ke2Jhc2V9YDtcbiAgfTtcblxuICBjb25zdCBvcGVuU2l0ZU1vZGFsID0gKCkgPT4ge1xuICAgIGlmICghc2l0ZU1vZGFsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHNpdGVNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICBzaXRlTW9kYWwuY2xhc3NMaXN0LmFkZCgnZmxleCcpO1xuICAgIHNsdWdNYW51YWxseUVkaXRlZCA9IGZhbHNlO1xuICAgIHNpdGVGb3JtPy5yZXNldCgpO1xuICAgIHNpdGVTbHVnRXJyb3IgJiYgKHNpdGVTbHVnRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgc2l0ZU1vZGFsRXJyb3IgJiYgKHNpdGVNb2RhbEVycm9yLnRleHRDb250ZW50ID0gJycpO1xuICAgIGlmIChzaXRlU2x1Z0lucHV0ICYmIHNpdGVOYW1lSW5wdXQpIHtcbiAgICAgIHNpdGVTbHVnSW5wdXQudmFsdWUgPSB3b3Jrc3BhY2VTbHVnaWZ5KHNpdGVOYW1lSW5wdXQudmFsdWUpO1xuICAgIH1cbiAgICBhY3RpdmF0ZU1vZGFsKHNpdGVNb2RhbCwgY2xvc2VTaXRlTW9kYWwpO1xuICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHNpdGVOYW1lSW5wdXQ/LmZvY3VzKCk7XG4gICAgfSwgMCk7XG4gIH07XG5cbiAgY29uc3QgY2xvc2VTaXRlTW9kYWwgPSAoKSA9PiB7XG4gICAgaWYgKCFzaXRlTW9kYWwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2l0ZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgIHNpdGVNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdmbGV4Jyk7XG4gICAgc2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gICAgc2l0ZUZvcm0/LnJlc2V0KCk7XG4gICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICBzaXRlTW9kYWxFcnJvciAmJiAoc2l0ZU1vZGFsRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgZGVhY3RpdmF0ZU1vZGFsKHNpdGVNb2RhbCk7XG4gIH07XG5cbiAgc2l0ZUNyZWF0ZUJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlblNpdGVNb2RhbCk7XG4gIH0pO1xuXG4gIHNpdGVNb2RhbENhbmNlbEJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VTaXRlTW9kYWwpO1xuICB9KTtcblxuICBzaXRlTW9kYWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gc2l0ZU1vZGFsKSB7XG4gICAgICBjbG9zZVNpdGVNb2RhbCgpO1xuICAgIH1cbiAgfSk7XG5cbiAgc2l0ZU5hbWVJbnB1dD8uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgaWYgKCFzaXRlU2x1Z0lucHV0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghc2x1Z01hbnVhbGx5RWRpdGVkIHx8IHNpdGVTbHVnSW5wdXQudmFsdWUudHJpbSgpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgc2l0ZVNsdWdJbnB1dC52YWx1ZSA9IHdvcmtzcGFjZVNsdWdpZnkoc2l0ZU5hbWVJbnB1dC52YWx1ZSk7XG4gICAgfVxuICAgIC8vIENsZWFyIGVycm9ycyB3aGVuIHVzZXIgdHlwZXNcbiAgICBzaXRlU2x1Z0Vycm9yICYmIChzaXRlU2x1Z0Vycm9yLnRleHRDb250ZW50ID0gJycpO1xuICAgIHNpdGVNb2RhbEVycm9yICYmIChzaXRlTW9kYWxFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgfSk7XG5cbiAgc2l0ZVNsdWdJbnB1dD8uYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCAoKSA9PiB7XG4gICAgLy8gQXV0by1maWxsIHNsdWcgZnJvbSBuYW1lIGlmIGVtcHR5IHdoZW4gdXNlciBmb2N1c2VzIHRoZSBzbHVnIGZpZWxkXG4gICAgY29uc3Qgc2x1Z1ZhbCA9IHNpdGVTbHVnSW5wdXQ/LnZhbHVlIHx8ICcnO1xuICAgIGNvbnN0IG5hbWVWYWwgPSBzaXRlTmFtZUlucHV0Py52YWx1ZSB8fCAnJztcbiAgICBpZiAoIXNsdWdWYWwudHJpbSgpICYmIG5hbWVWYWwudHJpbSgpKSB7XG4gICAgICBzaXRlU2x1Z0lucHV0LnZhbHVlID0gd29ya3NwYWNlU2x1Z2lmeShuYW1lVmFsKTtcbiAgICB9XG4gIH0pO1xuXG4gIHNpdGVTbHVnSW5wdXQ/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgIHNsdWdNYW51YWxseUVkaXRlZCA9IHRydWU7XG4gICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICBzaXRlTW9kYWxFcnJvciAmJiAoc2l0ZU1vZGFsRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gIH0pO1xuXG4gIGNvbnN0IGdldFNsdWdTZXQgPSAoKSA9PlxuICAgIG5ldyBTZXQoQXJyYXkuZnJvbShzaXRlQ2FyZHMpLm1hcCgoY2FyZCkgPT4gZW5zdXJlTGVhZGluZ1NsYXNoKGNhcmQuZGF0YXNldC5zaXRlQ2FyZCB8fCAnJykpKTtcblxuICBzaXRlRm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zb2xlLmxvZygnW2FkbWluXSBGb3JtIHN1Ym1pdCAtIHNpdGVOYW1lSW5wdXQ6Jywgc2l0ZU5hbWVJbnB1dCwgJ3NpdGVTbHVnSW5wdXQ6Jywgc2l0ZVNsdWdJbnB1dCk7XG4gICAgXG4gICAgaWYgKCFzaXRlTmFtZUlucHV0IHx8ICFzaXRlU2x1Z0lucHV0KSB7XG4gICAgICBjb25zb2xlLmxvZygnW2FkbWluXSBNaXNzaW5nIGlucHV0cywgYWJvcnRpbmcnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgbmFtZVZhbHVlID0gKHNpdGVOYW1lSW5wdXQudmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICBsZXQgc2x1Z1ZhbHVlID0gKHNpdGVTbHVnSW5wdXQudmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICBcbiAgICBjb25zb2xlLmxvZygnW2FkbWluXSBuYW1lVmFsdWU6JywgbmFtZVZhbHVlLCAnc2x1Z1ZhbHVlOicsIHNsdWdWYWx1ZSk7XG4gICAgXG4gICAgLy8gQXV0by1nZW5lcmF0ZSBzbHVnIGZyb20gbmFtZSBpZiBlbXB0eVxuICAgIGlmICghc2x1Z1ZhbHVlICYmIG5hbWVWYWx1ZSkge1xuICAgICAgc2x1Z1ZhbHVlID0gd29ya3NwYWNlU2x1Z2lmeShuYW1lVmFsdWUpO1xuICAgICAgc2l0ZVNsdWdJbnB1dC52YWx1ZSA9IHNsdWdWYWx1ZTtcbiAgICAgIGNvbnNvbGUubG9nKCdbYWRtaW5dIEF1dG8tZ2VuZXJhdGVkIHNsdWc6Jywgc2x1Z1ZhbHVlKTtcbiAgICB9XG4gICAgXG4gICAgY29uc3Qgbm9ybWFsaXplZFNsdWcgPSBub3JtYWxpemVTbHVnVmFsdWUoc2x1Z1ZhbHVlKTtcbiAgICBjb25zb2xlLmxvZygnW2FkbWluXSBub3JtYWxpemVkU2x1ZzonLCBub3JtYWxpemVkU2x1Zyk7XG4gICAgXG4gICAgLy8gVmFsaWRhdGUgbmFtZVxuICAgIGlmICghbmFtZVZhbHVlKSB7XG4gICAgICBjb25zb2xlLmxvZygnW2FkbWluXSBOYW1lIHZhbGlkYXRpb24gZmFpbGVkJyk7XG4gICAgICBzaXRlTW9kYWxFcnJvciAmJiAoc2l0ZU1vZGFsRXJyb3IudGV4dENvbnRlbnQgPSAnTGUgbm9tIGR1IHNpdGUgZXN0IHJlcXVpcy4nKTtcbiAgICAgIHNpdGVOYW1lSW5wdXQuZm9jdXMoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgLy8gVmFsaWRhdGUgc2x1Z1xuICAgIGlmICghbm9ybWFsaXplZFNsdWcpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdbYWRtaW5dIFNsdWcgdmFsaWRhdGlvbiBmYWlsZWQnKTtcbiAgICAgIHNpdGVTbHVnRXJyb3IgJiYgKHNpdGVTbHVnRXJyb3IudGV4dENvbnRlbnQgPSAnTGUgc2x1ZyBuZSBwZXV0IHBhcyBcdTAwRUF0cmUgdmlkZSBvdSBjb250ZW5pciB1bmlxdWVtZW50IGRlcyBjYXJhY3RcdTAwRThyZXMgc3BcdTAwRTljaWF1eC4nKTtcbiAgICAgIHNpdGVTbHVnSW5wdXQuZm9jdXMoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgZXhpc3RpbmdTbHVncyA9IGdldFNsdWdTZXQoKTtcbiAgICBpZiAoZXhpc3RpbmdTbHVncy5oYXMobm9ybWFsaXplZFNsdWcpKSB7XG4gICAgICBzaXRlU2x1Z0Vycm9yICYmIChzaXRlU2x1Z0Vycm9yLnRleHRDb250ZW50ID0gJ0NlIHNsdWcgZXN0IGRcdTAwRTlqXHUwMEUwIHV0aWxpc1x1MDBFOS4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICBzaXRlTW9kYWxFcnJvciAmJiAoc2l0ZU1vZGFsRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgaWYgKHNpdGVNb2RhbFN1Ym1pdEJ1dHRvbikge1xuICAgICAgc2l0ZU1vZGFsU3VibWl0QnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIHNpdGVNb2RhbFN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9ICdDclx1MDBFOWF0aW9uLi4uJztcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvc2l0ZXMnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBuYW1lOiBuYW1lVmFsdWUsIHNsdWc6IG5vcm1hbGl6ZWRTbHVnIH0pLFxuICAgICAgfSk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBwYXlsb2FkLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgY3JcdTAwRTllciBjZSBzaXRlLic7XG4gICAgICAgIHNpdGVNb2RhbEVycm9yICYmIChzaXRlTW9kYWxFcnJvci50ZXh0Q29udGVudCA9IG1lc3NhZ2UpO1xuICAgICAgICBpZiAocGF5bG9hZC5maWVsZCA9PT0gJ3NsdWcnKSB7XG4gICAgICAgICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9IG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNyZWF0ZWRTaXRlID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgY29uc3QgZmluYWxTbHVnID0gZW5zdXJlTGVhZGluZ1NsYXNoKGNyZWF0ZWRTaXRlPy5zbHVnIHx8IG5vcm1hbGl6ZWRTbHVnKTtcbiAgICAgIGNvbnN0IGZpbmFsTmFtZSA9IGNyZWF0ZWRTaXRlPy5uYW1lIHx8IG5hbWVWYWx1ZTtcbiAgICAgIHBlcnNpc3RTaXRlU3RhdGUoZmluYWxTbHVnLCBmaW5hbE5hbWUpO1xuICAgICAgY2xvc2VTaXRlTW9kYWwoKTtcbiAgICAgIGNvbnN0IHNsdWdQYXRoID0gZW5jb2RlVVJJQ29tcG9uZW50KHN0cmlwTGVhZGluZ1NsYXNoKGZpbmFsU2x1ZykpO1xuICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBgL2FkbWluL3NpdGUvJHtzbHVnUGF0aH0vZGVzaWduYDtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1thZG1pbl0gSW1wb3NzaWJsZSBkZSBjclx1MDBFOWVyIGxlIHNpdGUnLCBlcnIpO1xuICAgICAgc2l0ZU1vZGFsRXJyb3IgJiYgKHNpdGVNb2RhbEVycm9yLnRleHRDb250ZW50ID0gJ0VycmV1ciBpbmF0dGVuZHVlLiBSXHUwMEU5ZXNzYWllIGRhbnMgdW4gaW5zdGFudC4nKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKHNpdGVNb2RhbFN1Ym1pdEJ1dHRvbikge1xuICAgICAgICBzaXRlTW9kYWxTdWJtaXRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgc2l0ZU1vZGFsU3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gJ0NyXHUwMEU5ZXInO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZlbnQpID0+IHtcbiAgICBpZiAoZXZlbnQua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgaWYgKHNpdGVNb2RhbCAmJiAhc2l0ZU1vZGFsLmNsYXNzTGlzdC5jb250YWlucygnaGlkZGVuJykpIHtcbiAgICAgICAgY2xvc2VTaXRlTW9kYWwoKTtcbiAgICAgIH1cbiAgICAgIGlmICh3b3Jrc3BhY2VCYWNrTW9kYWwgJiYgIXdvcmtzcGFjZUJhY2tNb2RhbC5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpKSB7XG4gICAgICAgIGNsb3NlV29ya3NwYWNlQmFja01vZGFsKCk7XG4gICAgICB9XG4gICAgICBpZiAoYmxvY2tEZWxldGVNb2RhbCAmJiAhYmxvY2tEZWxldGVNb2RhbC5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpKSB7XG4gICAgICAgIGNsb3NlQmxvY2tEZWxldGVNb2RhbCgpO1xuICAgICAgfVxuICAgICAgaWYgKGJsb2NrTGlicmFyeU9wZW4pIHtcbiAgICAgICAgY2xvc2VCbG9ja0xpYnJhcnkoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIGdldFdvcmtzcGFjZUNvbnRleHQoKSB7XG4gICAgY29uc3QgbWF0Y2ggPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUubWF0Y2goL15cXC9hZG1pblxcL3NpdGVcXC8oW14vXSspKD86XFwvKFteL10rKSk/Lyk7XG4gICAgaWYgKCFtYXRjaCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBzbHVnUGFydDogZGVjb2RlVVJJQ29tcG9uZW50KG1hdGNoWzFdKSxcbiAgICAgIHNsdWdWYWx1ZTogZW5zdXJlTGVhZGluZ1NsYXNoKGRlY29kZVVSSUNvbXBvbmVudChtYXRjaFsxXSkpLFxuICAgICAgc2VjdGlvbjogbWF0Y2hbMl0gfHwgJ2Rlc2lnbicsXG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRldGVjdFdvcmtzcGFjZVNlY3Rpb24oKSB7XG4gICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXBhZ2UtbGlzdF0nKSkge1xuICAgICAgcmV0dXJuICdkZXNpZ24nO1xuICAgIH1cbiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29sbGVjdGlvbi1saXN0XScpKSB7XG4gICAgICByZXR1cm4gJ2NvbnRlbnQnO1xuICAgIH1cbiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZ3JpZF0nKSkge1xuICAgICAgcmV0dXJuICdtZWRpYSc7XG4gICAgfVxuICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktZm9ybV0nKSkge1xuICAgICAgcmV0dXJuICdkZXBsb3knO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9wZW5Xb3Jrc3BhY2VCYWNrTW9kYWwoKSB7XG4gICAgaWYgKCF3b3Jrc3BhY2VCYWNrTW9kYWwpIHtcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9hZG1pbi9zaXRlcyc7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHdvcmtzcGFjZUJhY2tNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICB3b3Jrc3BhY2VCYWNrTW9kYWwuY2xhc3NMaXN0LmFkZCgnZmxleCcpO1xuICAgIGFjdGl2YXRlTW9kYWwod29ya3NwYWNlQmFja01vZGFsLCBjbG9zZVdvcmtzcGFjZUJhY2tNb2RhbCk7XG4gIH1cblxuICBmdW5jdGlvbiBjbG9zZVdvcmtzcGFjZUJhY2tNb2RhbCgpIHtcbiAgICBpZiAoIXdvcmtzcGFjZUJhY2tNb2RhbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB3b3Jrc3BhY2VCYWNrTW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgd29ya3NwYWNlQmFja01vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2ZsZXgnKTtcbiAgICBkZWFjdGl2YXRlTW9kYWwod29ya3NwYWNlQmFja01vZGFsKTtcbiAgfVxuXG4gIHdvcmtzcGFjZUJhY2tCdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5Xb3Jrc3BhY2VCYWNrTW9kYWwpO1xuICB9KTtcbiAgd29ya3NwYWNlQmFja0NhbmNlbC5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZVdvcmtzcGFjZUJhY2tNb2RhbCk7XG4gIH0pO1xuICB3b3Jrc3BhY2VCYWNrQ29uZmlybT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgY2xvc2VXb3Jrc3BhY2VCYWNrTW9kYWwoKTtcbiAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvYWRtaW4vc2l0ZXMnO1xuICB9KTtcblxuICBjb25zdCBhY3RpdmVTZWN0aW9uID0gd29ya3NwYWNlQ29udGV4dD8uc2VjdGlvbiB8fCBkZXRlY3RXb3Jrc3BhY2VTZWN0aW9uKCk7XG5cbiAgaWYgKGFjdGl2ZVNlY3Rpb24gPT09ICdkZXNpZ24nKSB7XG4gICAgaW5pdERlc2lnbldvcmtzcGFjZSgpO1xuICB9XG4gIGlmIChhY3RpdmVTZWN0aW9uID09PSAnY29udGVudCcpIHtcbiAgICBpbml0Q29udGVudFdvcmtzcGFjZSgpO1xuICB9XG4gIGlmIChhY3RpdmVTZWN0aW9uID09PSAnbWVkaWEnKSB7XG4gICAgaW5pdE1lZGlhV29ya3NwYWNlKCk7XG4gIH1cbiAgaWYgKGFjdGl2ZVNlY3Rpb24gPT09ICdkZXBsb3knKSB7XG4gICAgaW5pdERlcGxveVdvcmtzcGFjZSgpO1xuICB9XG4gIGlmIChhY3RpdmVTZWN0aW9uID09PSAnc2V0dGluZ3MnKSB7XG4gICAgaW5pdFNldHRpbmdzV29ya3NwYWNlKCk7XG4gIH1cblxuICBpZiAod29ya3NwYWNlQ29udGV4dCAmJiBzdG9yZWRTaXRlLm5hbWUpIHtcbiAgICB1cGRhdGVTaXRlTGFiZWxzKHN0b3JlZFNpdGUubmFtZSk7XG4gIH1cblxuICBmdW5jdGlvbiBpbml0RGVzaWduV29ya3NwYWNlKCkge1xuICAgIGNvbnN0IHBhZ2VMaXN0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXBhZ2UtbGlzdF0nKTtcbiAgICBpZiAocGFnZUxpc3RzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBhY3RpdmVUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFjdGl2ZS1wYWdlLXRpdGxlXScpO1xuICAgIGNvbnN0IGFjdGl2ZVNsdWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hY3RpdmUtcGFnZS1zbHVnXScpO1xuICAgIGNvbnN0IHByZXZpZXdUYWdzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcmV2aWV3LXRhZ3NdJyk7XG4gICAgY29uc3QgcHJldmlld0ZyYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcmV2aWV3LWZyYW1lXScpO1xuICAgIGNvbnN0IHByZXZpZXdPcGVuQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcHJldmlldy1vcGVuXScpO1xuICAgIGNvbnN0IHByZXZpZXdTdGF0dXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wcmV2aWV3LXN0YXR1c10nKTtcbiAgICBjb25zdCBwcmV2aWV3SGlnaGxpZ2h0T3ZlcmxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXByZXZpZXctaGlnaGxpZ2h0XScpO1xuICAgIC8vIFNFTyBwYW5lbCBlbGVtZW50c1xuICAgIGNvbnN0IHNlb1RvZ2dsZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby10b2dnbGVdJyk7XG4gICAgY29uc3Qgc2VvUGFuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8tcGFuZWxdJyk7XG4gICAgY29uc3Qgc2VvQ2xvc2VCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8tY2xvc2VdJyk7XG4gICAgY29uc3Qgc2VvRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby1mb3JtXScpO1xuICAgIGNvbnN0IHNlb1RpdGxlSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8tdGl0bGVdJyk7XG4gICAgY29uc3Qgc2VvRGVzY3JpcHRpb25JbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby1kZXNjcmlwdGlvbl0nKTtcbiAgICBjb25zdCBzZW9JbmRleGVkQ2hlY2tib3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8taW5kZXhlZF0nKTtcbiAgICBjb25zdCBzZW9GZWVkYmFjayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby1mZWVkYmFja10nKTtcbiAgICBjb25zdCBzZW9TYXZlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2VvLXNhdmVdJyk7XG4gICAgY29uc3QgcGFnZUFjY2Vzc2liaWxpdHlUb2dnbGVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgJ1tkYXRhLXBhZ2UtYWNjZXNzaWJpbGl0eS10b2dnbGVdJyxcbiAgICApO1xuICAgIGNvbnN0IHBhZ2VBY2Nlc3NpYmlsaXR5UGFuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLWFjY2Vzc2liaWxpdHktcGFuZWxdJyk7XG4gICAgY29uc3QgcGFnZUFjY2Vzc2liaWxpdHlDbG9zZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAnW2RhdGEtcGFnZS1hY2Nlc3NpYmlsaXR5LWNsb3NlXScsXG4gICAgKTtcbiAgICBjb25zdCBwYWdlQWNjZXNzaWJpbGl0eUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLWFjY2Vzc2liaWxpdHktZm9ybV0nKTtcbiAgICBjb25zdCBwYWdlQWNjZXNzaWJpbGl0eU5hdkNoZWNrYm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgICdbZGF0YS1wYWdlLWFjY2Vzc2liaWxpdHktbmF2XScsXG4gICAgKTtcbiAgICBjb25zdCBwYWdlQWNjZXNzaWJpbGl0eU1haW5JbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAnW2RhdGEtcGFnZS1hY2Nlc3NpYmlsaXR5LW1haW5dJyxcbiAgICApO1xuICAgIGNvbnN0IHBhZ2VBY2Nlc3NpYmlsaXR5RmVlZGJhY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgJ1tkYXRhLXBhZ2UtYWNjZXNzaWJpbGl0eS1mZWVkYmFja10nLFxuICAgICk7XG4gICAgY29uc3QgcGFnZUFjY2Vzc2liaWxpdHlTYXZlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgICdbZGF0YS1wYWdlLWFjY2Vzc2liaWxpdHktc2F2ZV0nLFxuICAgICk7XG4gICAgLy8gUGFnZSBwcm9wZXJ0aWVzIHBhbmVsIGVsZW1lbnRzXG4gICAgY29uc3QgcGFnZVByb3BzVG9nZ2xlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcm9wcy10b2dnbGVdJyk7XG4gICAgY29uc3QgcGFnZVByb3BzUGFuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLXByb3BzLXBhbmVsXScpO1xuICAgIGNvbnN0IHBhZ2VQcm9wc0Nsb3NlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcm9wcy1jbG9zZV0nKTtcbiAgICBjb25zdCBwYWdlUHJvcHNGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcm9wcy1mb3JtXScpO1xuICAgIGNvbnN0IHBhZ2VOYW1lSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLW5hbWVdJyk7XG4gICAgY29uc3QgcGFnZVRpdGxlSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLXRpdGxlLWlucHV0XScpO1xuICAgIGNvbnN0IHBhZ2VTbHVnSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLXNsdWctaW5wdXRdJyk7XG4gICAgY29uc3QgcGFnZURlc2NyaXB0aW9uSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLWRlc2NyaXB0aW9uXScpO1xuICAgIGNvbnN0IHBhZ2VQcm9wc0ZlZWRiYWNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcm9wcy1mZWVkYmFja10nKTtcbiAgICBjb25zdCBwYWdlUHJvcHNTYXZlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcm9wcy1zYXZlXScpO1xuICAgIGNvbnN0IGJsb2NrTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2Nrcy1saXN0XScpO1xuICAgIGNvbnN0IGJsb2NrTGlzdEVtcHR5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2tzLWVtcHR5XScpO1xuICAgIGNvbnN0IGJsb2NrQ291bnRCYWRnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWNvdW50XScpO1xuICAgIGNvbnN0IGJsb2NrTGlicmFyeVRvZ2dsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWxpYnJhcnktdG9nZ2xlXScpO1xuICAgIGNvbnN0IGJsb2NrTGlicmFyeSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWxpYnJhcnldJyk7XG4gICAgY29uc3QgYmxvY2tBZGRCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYmxvY2stYWRkXScpO1xuICAgIGNvbnN0IGJsb2NrRGVsZXRlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1kZWxldGUtbW9kYWxdJyk7XG4gICAgY29uc3QgYmxvY2tEZWxldGVDb25maXJtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZGVsZXRlLWNvbmZpcm1dJyk7XG4gICAgY29uc3QgYmxvY2tEZWxldGVDYW5jZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1kZWxldGUtY2FuY2VsXScpO1xuICAgIGNvbnN0IGJsb2NrRGV0YWlsRW1wdHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1kZXRhaWwtZW1wdHldJyk7XG4gICAgY29uc3QgYmxvY2tEZXRhaWxTdGF0dXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1kZXRhaWwtc3RhdHVzXScpO1xuICAgIGNvbnN0IGJsb2NrRWRpdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZWRpdG9yXScpO1xuICAgIGNvbnN0IGJsb2NrRWRpdG9yVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1lZGl0b3ItYmxvY2stbmFtZV0nKTtcbiAgICBjb25zdCBibG9ja0VkaXRvclR5cGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1lZGl0b3ItYmxvY2stdHlwZV0nKTtcbiAgICBjb25zdCBibG9ja0VkaXRvclVuc3VwcG9ydGVkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZWRpdG9yLXVuc3VwcG9ydGVkXScpO1xuICAgIGNvbnN0IGJsb2NrRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWZvcm1dJyk7XG4gICAgY29uc3QgYmxvY2tGb3JtU2VjdGlvbnMgPSBibG9ja0Zvcm1cbiAgICAgID8gQXJyYXkuZnJvbShibG9ja0Zvcm0ucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtZWRpdG9yLXNlY3Rpb25dJykpXG4gICAgICA6IFtdO1xuICAgIC8vIE9uZ2xldHMgQ29udGVudSAvIEFwcGFyZW5jZVxuICAgIGNvbnN0IGJsb2NrVGFicyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWJsb2NrLXRhYl0nKTtcbiAgICBsZXQgYWN0aXZlQmxvY2tUYWIgPSAnY29udGVudCc7XG5cbiAgICAvLyBPbmdsZXRzIHBhbm5lYXUgZ2F1Y2hlIChCbG9jcyAvIFBhZ2VzKVxuICAgIGNvbnN0IGxlZnRQYW5lbFRhYnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1sZWZ0LXRhYl0nKTtcbiAgICBjb25zdCBsZWZ0UGFuZWxCbG9ja3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1sZWZ0LXBhbmVsPVwiYmxvY2tzXCJdJyk7XG4gICAgY29uc3QgbGVmdFBhbmVsUGFnZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1sZWZ0LXBhbmVsPVwicGFnZXNcIl0nKTtcbiAgICBsZXQgYWN0aXZlTGVmdFRhYiA9ICdibG9ja3MnO1xuXG4gICAgLy8gRm9uY3Rpb24gcG91ciBzd2l0Y2hlciBlbnRyZSBsZXMgb25nbGV0cyBCbG9jcy9QYWdlcyBkdSBwYW5uZWF1IGdhdWNoZVxuICAgIGNvbnN0IHN3aXRjaExlZnRUYWIgPSAodGFiTmFtZSkgPT4ge1xuICAgICAgYWN0aXZlTGVmdFRhYiA9IHRhYk5hbWU7XG4gICAgICBsZWZ0UGFuZWxUYWJzLmZvckVhY2goKHRhYikgPT4ge1xuICAgICAgICBjb25zdCBpc0FjdGl2ZSA9IHRhYi5kYXRhc2V0LmxlZnRUYWIgPT09IHRhYk5hbWU7XG4gICAgICAgIHRhYi5zZXRBdHRyaWJ1dGUoJ2FyaWEtc2VsZWN0ZWQnLCBpc0FjdGl2ZSA/ICd0cnVlJyA6ICdmYWxzZScpO1xuICAgICAgICBpZiAoaXNBY3RpdmUpIHtcbiAgICAgICAgICB0YWIuY2xhc3NMaXN0LmFkZCgndGV4dC1bIzlDNkJGRl0nKTtcbiAgICAgICAgICB0YWIuY2xhc3NMaXN0LnJlbW92ZSgndGV4dC1zbGF0ZS01MDAnLCAnaG92ZXI6dGV4dC1zbGF0ZS03MDAnKTtcbiAgICAgICAgICB0YWIuY2xhc3NMaXN0LmFkZCgnYWZ0ZXI6YWJzb2x1dGUnLCAnYWZ0ZXI6Ym90dG9tLTAnLCAnYWZ0ZXI6bGVmdC0wJywgJ2FmdGVyOnJpZ2h0LTAnLCAnYWZ0ZXI6aC0wLjUnLCAnYWZ0ZXI6YmctWyM5QzZCRkZdJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGFiLmNsYXNzTGlzdC5yZW1vdmUoJ3RleHQtWyM5QzZCRkZdJyk7XG4gICAgICAgICAgdGFiLmNsYXNzTGlzdC5hZGQoJ3RleHQtc2xhdGUtNTAwJywgJ2hvdmVyOnRleHQtc2xhdGUtNzAwJyk7XG4gICAgICAgICAgdGFiLmNsYXNzTGlzdC5yZW1vdmUoJ2FmdGVyOmFic29sdXRlJywgJ2FmdGVyOmJvdHRvbS0wJywgJ2FmdGVyOmxlZnQtMCcsICdhZnRlcjpyaWdodC0wJywgJ2FmdGVyOmgtMC41JywgJ2FmdGVyOmJnLVsjOUM2QkZGXScpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIC8vIEFmZmljaGVyL21hc3F1ZXIgbGVzIHBhbmVsc1xuICAgICAgaWYgKGxlZnRQYW5lbEJsb2Nrcykge1xuICAgICAgICBsZWZ0UGFuZWxCbG9ja3MuY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZGVuJywgdGFiTmFtZSAhPT0gJ2Jsb2NrcycpO1xuICAgICAgfVxuICAgICAgaWYgKGxlZnRQYW5lbFBhZ2VzKSB7XG4gICAgICAgIGxlZnRQYW5lbFBhZ2VzLmNsYXNzTGlzdC50b2dnbGUoJ2hpZGRlbicsIHRhYk5hbWUgIT09ICdwYWdlcycpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBFdmVudCBsaXN0ZW5lcnMgcG91ciBsZXMgb25nbGV0cyBkdSBwYW5uZWF1IGdhdWNoZVxuICAgIGxlZnRQYW5lbFRhYnMuZm9yRWFjaCgodGFiKSA9PiB7XG4gICAgICB0YWIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIHN3aXRjaExlZnRUYWIodGFiLmRhdGFzZXQubGVmdFRhYik7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBcbiAgICAvLyBEXHUwMEU5Y2xhcmF0aW9ucyBkZXMgXHUwMEU5bFx1MDBFOW1lbnRzIGQnYWN0aW9ucyBkdSBmb3JtdWxhaXJlIChhdmFudCBzd2l0Y2hCbG9ja1RhYilcbiAgICBjb25zdCBibG9ja0Zvcm1BY3Rpb25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZm9ybS1hY3Rpb25zXScpO1xuICAgIGNvbnN0IGJsb2NrRm9ybUF1dG9zYXZlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZm9ybS1hdXRvc2F2ZV0nKTtcblxuICAgIC8vIEZvbmN0aW9uIHBvdXIgc3dpdGNoZXIgZW50cmUgbGVzIG9uZ2xldHMgQ29udGVudS9BcHBhcmVuY2VcbiAgICBjb25zdCBzd2l0Y2hCbG9ja1RhYiA9ICh0YWJOYW1lKSA9PiB7XG4gICAgICBhY3RpdmVCbG9ja1RhYiA9IHRhYk5hbWU7XG4gICAgICAvLyBNZXR0cmUgXHUwMEUwIGpvdXIgbGVzIHN0eWxlcyBkZXMgYm91dG9ucyBkJ29uZ2xldFxuICAgICAgYmxvY2tUYWJzLmZvckVhY2goKHRhYikgPT4ge1xuICAgICAgICBjb25zdCBpc0FjdGl2ZSA9IHRhYi5kYXRhc2V0LmJsb2NrVGFiID09PSB0YWJOYW1lO1xuICAgICAgICB0YWIuc2V0QXR0cmlidXRlKCdhcmlhLXNlbGVjdGVkJywgaXNBY3RpdmUgPyAndHJ1ZScgOiAnZmFsc2UnKTtcbiAgICAgICAgaWYgKGlzQWN0aXZlKSB7XG4gICAgICAgICAgdGFiLmNsYXNzTGlzdC5hZGQoJ3RleHQtWyM5QzZCRkZdJyk7XG4gICAgICAgICAgdGFiLmNsYXNzTGlzdC5yZW1vdmUoJ3RleHQtc2xhdGUtNTAwJywgJ2hvdmVyOnRleHQtc2xhdGUtNzAwJyk7XG4gICAgICAgICAgdGFiLmNsYXNzTGlzdC5hZGQoJ2FmdGVyOmFic29sdXRlJywgJ2FmdGVyOmJvdHRvbS0wJywgJ2FmdGVyOmxlZnQtMCcsICdhZnRlcjpyaWdodC0wJywgJ2FmdGVyOmgtMC41JywgJ2FmdGVyOmJnLVsjOUM2QkZGXScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRhYi5jbGFzc0xpc3QucmVtb3ZlKCd0ZXh0LVsjOUM2QkZGXScpO1xuICAgICAgICAgIHRhYi5jbGFzc0xpc3QuYWRkKCd0ZXh0LXNsYXRlLTUwMCcsICdob3Zlcjp0ZXh0LXNsYXRlLTcwMCcpO1xuICAgICAgICAgIHRhYi5jbGFzc0xpc3QucmVtb3ZlKCdhZnRlcjphYnNvbHV0ZScsICdhZnRlcjpib3R0b20tMCcsICdhZnRlcjpsZWZ0LTAnLCAnYWZ0ZXI6cmlnaHQtMCcsICdhZnRlcjpoLTAuNScsICdhZnRlcjpiZy1bIzlDNkJGRl0nKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICAvLyBBZmZpY2hlci9tYXNxdWVyIGxlcyBwYW5lbHMgZGFucyBsYSBzZWN0aW9uIGFjdGl2ZVxuICAgICAgY29uc3QgYWN0aXZlU2VjdGlvbiA9IGJsb2NrRm9ybT8ucXVlcnlTZWxlY3RvcignW2RhdGEtZWRpdG9yLXNlY3Rpb25dOm5vdCguaGlkZGVuKScpO1xuICAgICAgaWYgKGFjdGl2ZVNlY3Rpb24pIHtcbiAgICAgICAgY29uc3QgcGFuZWxzID0gYWN0aXZlU2VjdGlvbi5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1ibG9jay1wYW5lbF0nKTtcbiAgICAgICAgcGFuZWxzLmZvckVhY2goKHBhbmVsKSA9PiB7XG4gICAgICAgICAgaWYgKHBhbmVsLmRhdGFzZXQuYmxvY2tQYW5lbCA9PT0gdGFiTmFtZSkge1xuICAgICAgICAgICAgcGFuZWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhbmVsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICAvLyBBZmZpY2hlci9tYXNxdWVyIGxlcyBib3V0b25zIHNlbG9uIGwnb25nbGV0XG4gICAgICAvLyBDb250ZW51IFx1MjE5MiBib3V0b25zIEVucmVnaXN0cmVyL0FubnVsZXJcbiAgICAgIC8vIEFwcGFyZW5jZSBcdTIxOTIgaW5kaWNhdGV1ciBhdXRvLXNhdmVcbiAgICAgIGlmIChibG9ja0Zvcm1BY3Rpb25zICYmIGJsb2NrRm9ybUF1dG9zYXZlKSB7XG4gICAgICAgIGlmICh0YWJOYW1lID09PSAnY29udGVudCcpIHtcbiAgICAgICAgICBibG9ja0Zvcm1BY3Rpb25zLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgIGJsb2NrRm9ybUF1dG9zYXZlLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGJsb2NrRm9ybUFjdGlvbnMuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgICAgYmxvY2tGb3JtQXV0b3NhdmUuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gRXZlbnQgbGlzdGVuZXJzIHBvdXIgbGVzIG9uZ2xldHNcbiAgICBibG9ja1RhYnMuZm9yRWFjaCgodGFiKSA9PiB7XG4gICAgICB0YWIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIHN3aXRjaEJsb2NrVGFiKHRhYi5kYXRhc2V0LmJsb2NrVGFiKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgY29uc3QgY29sbGVjdGlvblNlbGVjdCA9IGJsb2NrRm9ybT8ucXVlcnlTZWxlY3RvcignW25hbWU9XCJjb2xsZWN0aW9uLWdyaWQtY29sbGVjdGlvblwiXScpO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25TZWxlY3Rpb25JbmZvID0gYmxvY2tGb3JtPy5xdWVyeVNlbGVjdG9yKFxuICAgICAgJ1tkYXRhLWNvbGxlY3Rpb24tc2VsZWN0aW9uLWluZm9dJyxcbiAgICApO1xuICAgIGNvbnN0IGJsb2NrRm9ybUNhbmNlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWZvcm0tY2FuY2VsXScpO1xuICAgIGNvbnN0IGdyb3VwUHJldmlld01vYmlsZSA9IGJsb2NrRm9ybT8ucXVlcnlTZWxlY3RvcignW2RhdGEtZ3JvdXAtcHJldmlldy1tb2JpbGVdJyk7XG4gICAgY29uc3QgZ3JvdXBQcmV2aWV3RGVza3RvcCA9IGJsb2NrRm9ybT8ucXVlcnlTZWxlY3RvcignW2RhdGEtZ3JvdXAtcHJldmlldy1kZXNrdG9wXScpO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25QcmV2aWV3TW9iaWxlID0gYmxvY2tGb3JtPy5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xsZWN0aW9uLXByZXZpZXctbW9iaWxlXScpO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25QcmV2aWV3RGVza3RvcCA9IGJsb2NrRm9ybT8ucXVlcnlTZWxlY3RvcignW2RhdGEtY29sbGVjdGlvbi1wcmV2aWV3LWRlc2t0b3BdJyk7XG4gICAgY29uc3QgYmxvY2tUeXBlRm9ybXMgPSB7XG4gICAgICBoZXJvOiB7XG4gICAgICAgIHNlY3Rpb246ICdoZXJvJyxcbiAgICAgICAgbGFiZWxGaWVsZDogJ3RpdGxlJyxcbiAgICAgICAgZGVzY3JpcHRpb25GaWVsZDogJ3N1YnRpdGxlJyxcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgdGl0bGU6ICdoZXJvLXRpdGxlJyxcbiAgICAgICAgICBzdWJ0aXRsZTogJ2hlcm8tc3VidGl0bGUnLFxuICAgICAgICAgIGN0YUxhYmVsOiAnaGVyby1jdGEtbGFiZWwnLFxuICAgICAgICAgIGN0YVVybDogJ2hlcm8tY3RhLXVybCcsXG4gICAgICAgICAgLy8gQXBwYXJlbmNlXG4gICAgICAgICAgaW1hZ2U6ICdoZXJvLWltYWdlJyxcbiAgICAgICAgICBsYXlvdXQ6ICdoZXJvLWxheW91dCcsXG4gICAgICAgICAgaGVpZ2h0OiAnaGVyby1oZWlnaHQnLFxuICAgICAgICAgIGNvbnRlbnRBbGlnbjogJ2hlcm8tY29udGVudC1hbGlnbicsXG4gICAgICAgICAgaG9yaXpvbnRhbEFsaWduOiAnaGVyby1ob3Jpem9udGFsLWFsaWduJyxcbiAgICAgICAgICB0ZXh0QWxpZ246ICdoZXJvLXRleHQtYWxpZ24nLFxuICAgICAgICAgIG92ZXJsYXk6ICdoZXJvLW92ZXJsYXknLFxuICAgICAgICAgIHRpdGxlU2l6ZTogJ2hlcm8tdGl0bGUtc2l6ZScsXG4gICAgICAgICAgLy8gQ2FyZCBzdHlsZVxuICAgICAgICAgIGJnOiAnaGVyby1iZycsXG4gICAgICAgICAgYm9yZGVyUmFkaXVzOiAnaGVyby1ib3JkZXItcmFkaXVzJyxcbiAgICAgICAgICBzaGFkb3c6ICdoZXJvLXNoYWRvdycsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgcGFyYWdyYXBoZToge1xuICAgICAgICBzZWN0aW9uOiAncGFyYWdyYXBoJyxcbiAgICAgICAgbGFiZWxGaWVsZDogJ3RpdGxlJyxcbiAgICAgICAgZGVzY3JpcHRpb25GaWVsZDogJ2NvbnRlbnQnLFxuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICB0aXRsZTogJ3BhcmFncmFwaC10aXRsZScsXG4gICAgICAgICAgY29udGVudDogJ3BhcmFncmFwaC1jb250ZW50JyxcbiAgICAgICAgICAvLyBBcHBhcmVuY2VcbiAgICAgICAgICBhbGlnbjogJ3BhcmFncmFwaC1hbGlnbicsXG4gICAgICAgICAgdGl0bGVTaXplOiAncGFyYWdyYXBoLXRpdGxlLXNpemUnLFxuICAgICAgICAgIHRleHRTaXplOiAncGFyYWdyYXBoLXRleHQtc2l6ZScsXG4gICAgICAgICAgc3BhY2luZzogJ3BhcmFncmFwaC1zcGFjaW5nJyxcbiAgICAgICAgICAvLyBDYXJkIHN0eWxlXG4gICAgICAgICAgYmc6ICdwYXJhZ3JhcGgtYmcnLFxuICAgICAgICAgIGJvcmRlclJhZGl1czogJ3BhcmFncmFwaC1ib3JkZXItcmFkaXVzJyxcbiAgICAgICAgICBzaGFkb3c6ICdwYXJhZ3JhcGgtc2hhZG93JyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBpbWFnZToge1xuICAgICAgICBzZWN0aW9uOiAnaW1hZ2UnLFxuICAgICAgICBsYWJlbEZpZWxkOiAnYWx0JyxcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgc3JjOiAnaW1hZ2Utc3JjJyxcbiAgICAgICAgICBhbHQ6ICdpbWFnZS1hbHQnLFxuICAgICAgICAgIHNob3dDYXB0aW9uOiAnaW1hZ2UtY2FwdGlvbi10b2dnbGUnLFxuICAgICAgICAgIGNhcHRpb246ICdpbWFnZS1jYXB0aW9uJyxcbiAgICAgICAgICAvLyBBcHBhcmVuY2VcbiAgICAgICAgICByb3VuZGVkOiAnaW1hZ2Utcm91bmRlZCcsXG4gICAgICAgICAgc2hhZG93OiAnaW1hZ2Utc2hhZG93JyxcbiAgICAgICAgICBtYXhXaWR0aDogJ2ltYWdlLW1heC13aWR0aCcsXG4gICAgICAgICAgaGVpZ2h0OiAnaW1hZ2UtaGVpZ2h0JyxcbiAgICAgICAgICBvYmplY3RGaXQ6ICdpbWFnZS1vYmplY3QtZml0JyxcbiAgICAgICAgICBhbGlnbjogJ2ltYWdlLWFsaWduJyxcbiAgICAgICAgICAvLyBDYXJkIHN0eWxlXG4gICAgICAgICAgYmc6ICdpbWFnZS1iZycsXG4gICAgICAgICAgYm9yZGVyUmFkaXVzOiAnaW1hZ2UtYm9yZGVyLXJhZGl1cycsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgZ3JvdXBlOiB7XG4gICAgICAgIHNlY3Rpb246ICdncm91cCcsXG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIC8vIEFwcGFyZW5jZVxuICAgICAgICAgIGNvbHVtbnNNb2JpbGU6ICdncm91cC1jb2x1bW5zLW1vYmlsZScsXG4gICAgICAgICAgY29sdW1uc0Rlc2t0b3A6ICdncm91cC1jb2x1bW5zLWRlc2t0b3AnLFxuICAgICAgICAgIGdhcDogJ2dyb3VwLWdhcCcsXG4gICAgICAgICAgaXRlbXNBbGlnbjogJ2dyb3VwLWl0ZW1zLWFsaWduJyxcbiAgICAgICAgICBtb2JpbGVMYXlvdXQ6ICdncm91cC1tb2JpbGUtbGF5b3V0JyxcbiAgICAgICAgICAvLyBDYXJkIHN0eWxlXG4gICAgICAgICAgYmc6ICdncm91cC1iZycsXG4gICAgICAgICAgYm9yZGVyUmFkaXVzOiAnZ3JvdXAtYm9yZGVyLXJhZGl1cycsXG4gICAgICAgICAgc2hhZG93OiAnZ3JvdXAtc2hhZG93JyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBjb2xsZWN0aW9uZ3JpZDoge1xuICAgICAgICBzZWN0aW9uOiAnY29sbGVjdGlvbicsXG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIGNvbGxlY3Rpb25JZDogJ2NvbGxlY3Rpb24tZ3JpZC1jb2xsZWN0aW9uJyxcbiAgICAgICAgICBsaW1pdDogJ2NvbGxlY3Rpb24tZ3JpZC1saW1pdCcsXG4gICAgICAgICAgLy8gQXBwYXJlbmNlXG4gICAgICAgICAgY29sdW1uc01vYmlsZTogJ2NvbGxlY3Rpb24tY29sdW1ucy1tb2JpbGUnLFxuICAgICAgICAgIGNvbHVtbnNEZXNrdG9wOiAnY29sbGVjdGlvbi1jb2x1bW5zLWRlc2t0b3AnLFxuICAgICAgICAgIGdhcDogJ2NvbGxlY3Rpb24tZ2FwJyxcbiAgICAgICAgICBpdGVtc0FsaWduOiAnY29sbGVjdGlvbi1pdGVtcy1hbGlnbicsXG4gICAgICAgICAgY2FyZFJvdW5kZWQ6ICdjb2xsZWN0aW9uLWNhcmQtcm91bmRlZCcsXG4gICAgICAgICAgbW9iaWxlTGF5b3V0OiAnY29sbGVjdGlvbi1tb2JpbGUtbGF5b3V0JyxcbiAgICAgICAgICAvLyBDYXJkIHN0eWxlXG4gICAgICAgICAgYmc6ICdjb2xsZWN0aW9uLWJnJyxcbiAgICAgICAgICBib3JkZXJSYWRpdXM6ICdjb2xsZWN0aW9uLWJvcmRlci1yYWRpdXMnLFxuICAgICAgICAgIHNoYWRvdzogJ2NvbGxlY3Rpb24tc2hhZG93JyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBmb3JtOiB7XG4gICAgICAgIHNlY3Rpb246ICdmb3JtJyxcbiAgICAgICAgbGFiZWxGaWVsZDogJ2Zvcm1UaXRsZScsXG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIGZvcm1UaXRsZTogJ2Zvcm0tdGl0bGUnLFxuICAgICAgICAgIGFjdGlvblVybDogJ2Zvcm0tYWN0aW9uLXVybCcsXG4gICAgICAgICAgbWV0aG9kOiAnZm9ybS1tZXRob2QnLFxuICAgICAgICAgIHNlcnZpY2VOYW1lOiAnZm9ybS1zZXJ2aWNlLW5hbWUnLFxuICAgICAgICAgIHN1Ym1pdExhYmVsOiAnZm9ybS1zdWJtaXQtbGFiZWwnLFxuICAgICAgICAgIHN1Y2Nlc3NNZXNzYWdlOiAnZm9ybS1zdWNjZXNzLW1lc3NhZ2UnLFxuICAgICAgICAgIC8vIEFwcGFyZW5jZVxuICAgICAgICAgIG1heFdpZHRoOiAnZm9ybS1tYXgtd2lkdGgnLFxuICAgICAgICAgIGFsaWduOiAnZm9ybS1hbGlnbicsXG4gICAgICAgICAgYnV0dG9uUm91bmRlZDogJ2Zvcm0tYnV0dG9uLXJvdW5kZWQnLFxuICAgICAgICAgIHNwYWNpbmc6ICdmb3JtLXNwYWNpbmcnLFxuICAgICAgICAgIC8vIENhcmQgc3R5bGVcbiAgICAgICAgICBiZzogJ2Zvcm0tYmcnLFxuICAgICAgICAgIGJvcmRlclJhZGl1czogJ2Zvcm0tYm9yZGVyLXJhZGl1cycsXG4gICAgICAgICAgc2hhZG93OiAnZm9ybS1zaGFkb3cnLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIG5ld3NsZXR0ZXJlbWJlZDoge1xuICAgICAgICBzZWN0aW9uOiAnbmV3c2xldHRlcicsXG4gICAgICAgIGxhYmVsRmllbGQ6ICd0aXRsZScsXG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIHRpdGxlOiAnbmV3c2xldHRlci10aXRsZScsXG4gICAgICAgICAgc2VydmljZU5hbWU6ICduZXdzbGV0dGVyLXNlcnZpY2UtbmFtZScsXG4gICAgICAgICAgZW1iZWRDb2RlOiAnbmV3c2xldHRlci1lbWJlZC1jb2RlJyxcbiAgICAgICAgICAvLyBBcHBhcmVuY2VcbiAgICAgICAgICBtYXhXaWR0aDogJ25ld3NsZXR0ZXItbWF4LXdpZHRoJyxcbiAgICAgICAgICBhbGlnbjogJ25ld3NsZXR0ZXItYWxpZ24nLFxuICAgICAgICAgIHBhZGRpbmc6ICduZXdzbGV0dGVyLXBhZGRpbmcnLFxuICAgICAgICAgIGJnOiAnbmV3c2xldHRlci1iZycsXG4gICAgICAgICAgLy8gQ2FyZCBzdHlsZVxuICAgICAgICAgIGJvcmRlclJhZGl1czogJ25ld3NsZXR0ZXItYm9yZGVyLXJhZGl1cycsXG4gICAgICAgICAgc2hhZG93OiAnbmV3c2xldHRlci1zaGFkb3cnLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9O1xuICAgIGNvbnN0IGJsb2NrVHlwZUFsaWFzZXMgPSB7XG4gICAgICB0ZXh0ZTogJ3BhcmFncmFwaGUnLFxuICAgICAgcGFyYWdyYXBoOiAncGFyYWdyYXBoZScsXG4gICAgICBwYXJhZ3JhcGhzOiAncGFyYWdyYXBoZScsXG4gICAgICBwYXJhZ3JhcGhlczogJ3BhcmFncmFwaGUnLFxuICAgICAgdGV4dDogJ3BhcmFncmFwaGUnLFxuICAgICAgaGVybzogJ2hlcm8nLFxuICAgICAgaW1hZ2U6ICdpbWFnZScsXG4gICAgICBncm91cGU6ICdncm91cGUnLFxuICAgICAgZ3JvdXA6ICdncm91cGUnLFxuICAgICAgY29sbGVjdGlvbjogJ2NvbGxlY3Rpb25ncmlkJyxcbiAgICAgIGNvbGxlY3Rpb25ncmlkOiAnY29sbGVjdGlvbmdyaWQnLFxuICAgICAgJ2NvbGxlY3Rpb24tZ3JpZCc6ICdjb2xsZWN0aW9uZ3JpZCcsXG4gICAgICBmb3JtOiAnZm9ybScsXG4gICAgICBmb3JtdWxhaXJlOiAnZm9ybScsXG4gICAgICBjb250YWN0OiAnZm9ybScsXG4gICAgICBuZXdzbGV0dGVyZW1iZWQ6ICduZXdzbGV0dGVyZW1iZWQnLFxuICAgICAgbmV3c2xldHRlcjogJ25ld3NsZXR0ZXJlbWJlZCcsXG4gICAgICBlbWJlZDogJ25ld3NsZXR0ZXJlbWJlZCcsXG4gICAgfTtcbiAgICBjb25zdCBhbmltYXRpb25GaWVsZE1hcCA9IHtcbiAgICAgIGFuaW1hdGlvbjogJ2FuaW0tdHlwZScsXG4gICAgICBhbmltYXRpb25EZWxheTogJ2FuaW0tZGVsYXknLFxuICAgICAgYW5pbWF0aW9uRHVyYXRpb246ICdhbmltLWR1cmF0aW9uJyxcbiAgICB9O1xuICAgIE9iamVjdC52YWx1ZXMoYmxvY2tUeXBlRm9ybXMpLmZvckVhY2goKGNvbmZpZykgPT4ge1xuICAgICAgY29uZmlnLmZpZWxkcyA9IHsgLi4uY29uZmlnLmZpZWxkcywgLi4uYW5pbWF0aW9uRmllbGRNYXAgfTtcbiAgICB9KTtcbiAgICBjb25zdCB1cGRhdGVHcm91cE1pbmlQcmV2aWV3ID0gKG1vYmlsZVZhbHVlLCBkZXNrdG9wVmFsdWUpID0+IHtcbiAgICAgIGlmICghZ3JvdXBQcmV2aWV3TW9iaWxlIHx8ICFncm91cFByZXZpZXdEZXNrdG9wKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlbmRlckJveGVzID0gKGNvdW50KSA9PlxuICAgICAgICBBcnJheS5mcm9tKHsgbGVuZ3RoOiBOdW1iZXIoY291bnQpIHx8IDEgfSlcbiAgICAgICAgICAubWFwKCgpID0+ICc8c3BhbiBjbGFzcz1cImJsb2NrIGgtMiB3LWZ1bGwgcm91bmRlZC1mdWxsIGJnLXNsYXRlLTMwMFwiPjwvc3Bhbj4nKVxuICAgICAgICAgIC5qb2luKCcnKTtcbiAgICAgIGdyb3VwUHJldmlld01vYmlsZS5pbm5lckhUTUwgPSByZW5kZXJCb3hlcyhtb2JpbGVWYWx1ZSk7XG4gICAgICBncm91cFByZXZpZXdEZXNrdG9wLmlubmVySFRNTCA9IHJlbmRlckJveGVzKGRlc2t0b3BWYWx1ZSk7XG4gICAgfTtcbiAgICBjb25zdCB1cGRhdGVDb2xsZWN0aW9uTWluaVByZXZpZXcgPSAobW9iaWxlVmFsdWUsIGRlc2t0b3BWYWx1ZSkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uUHJldmlld01vYmlsZSB8fCAhY29sbGVjdGlvblByZXZpZXdEZXNrdG9wKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlbmRlckJveGVzID0gKGNvdW50KSA9PlxuICAgICAgICBBcnJheS5mcm9tKHsgbGVuZ3RoOiBOdW1iZXIoY291bnQpIHx8IDEgfSlcbiAgICAgICAgICAubWFwKCgpID0+ICc8c3BhbiBjbGFzcz1cImJsb2NrIGgtMiB3LWZ1bGwgcm91bmRlZC1mdWxsIGJnLXZpb2xldC0zMDBcIj48L3NwYW4+JylcbiAgICAgICAgICAuam9pbignJyk7XG4gICAgICBjb2xsZWN0aW9uUHJldmlld01vYmlsZS5pbm5lckhUTUwgPSByZW5kZXJCb3hlcyhtb2JpbGVWYWx1ZSk7XG4gICAgICBjb2xsZWN0aW9uUHJldmlld0Rlc2t0b3AuaW5uZXJIVE1MID0gcmVuZGVyQm94ZXMoZGVza3RvcFZhbHVlKTtcbiAgICB9O1xuICAgIGNvbnN0IGZldGNoUGFnZXNGcm9tU2VydmVyID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFwYWdlc0FwaUJhc2UpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChwYWdlc0FwaUJhc2UsIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ltcG9zc2libGUgZGUgY2hhcmdlciBsZXMgcGFnZXMuJyk7XG4gICAgICB9XG4gICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+IFtdKTtcbiAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHBheWxvYWQpID8gcGF5bG9hZCA6IFtdO1xuICAgIH07XG4gICAgY29uc3QgY3JlYXRlUGFnZU9uU2VydmVyID0gYXN5bmMgKHsgbmFtZSwgdGl0bGUsIHNsdWcgfSkgPT4ge1xuICAgICAgaWYgKCFwYWdlc0FwaUJhc2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTaXRlIGluY29ubnUuJyk7XG4gICAgICB9XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHBhZ2VzQXBpQmFzZSwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgbmFtZSwgdGl0bGUsIHNsdWcgfSksXG4gICAgICB9KTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHBheWxvYWQubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBjclx1MDBFOWVyIGxhIHBhZ2UuJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgIH07XG4gICAgY29uc3Qgc2F2ZVBhZ2VUb1NlcnZlciA9IGFzeW5jIChwYWdlKSA9PiB7XG4gICAgICBpZiAoIXBhZ2VzQXBpQmFzZSB8fCAhcGFnZT8uaWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtwYWdlc0FwaUJhc2V9LyR7ZW5jb2RlVVJJQ29tcG9uZW50KHBhZ2UuaWQpfWAsIHtcbiAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYWdlKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihwYXlsb2FkLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgc2F1dmVnYXJkZXIgbGEgcGFnZS4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzYXZlZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgaWYgKHNhdmVkPy5pZCkge1xuICAgICAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBub3JtYWxpemVQYWdlRGF0YShzYXZlZCk7XG4gICAgICAgICAgcGFnZXMgPSBwYWdlcy5tYXAoKGVudHJ5KSA9PiAoZW50cnkuaWQgPT09IG5vcm1hbGl6ZWQuaWQgPyBub3JtYWxpemVkIDogZW50cnkpKTtcbiAgICAgICAgICBpZiAoY3VycmVudFBhZ2U/LmlkID09PSBub3JtYWxpemVkLmlkKSB7XG4gICAgICAgICAgICBjdXJyZW50UGFnZSA9IG5vcm1hbGl6ZWQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBub3JtYWxpemVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzYXZlZDtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZGVzaWduXSBTYXZlIHBhZ2UgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdTYXV2ZWdhcmRlIGltcG9zc2libGUuJyk7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBsb2FkUGFnZXNGcm9tU2VydmVyID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFwYWdlc0FwaUJhc2UpIHtcbiAgICAgICAgcGFnZXMgPSBbXTtcbiAgICAgICAgYWN0aXZlUGFnZUlkID0gbnVsbDtcbiAgICAgICAgY3VycmVudFBhZ2UgPSBudWxsO1xuICAgICAgICByZW5kZXJQYWdlTGlzdHMocGFnZXMsIGFjdGl2ZVBhZ2VJZCk7XG4gICAgICAgIHJlbmRlckJsb2NrTGlzdChudWxsKTtcbiAgICAgICAgYmxvY2tEZXRhaWxFbXB0eT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIGJsb2NrRWRpdG9yPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgbG9hZGVkUGFnZXMgPSBhd2FpdCBmZXRjaFBhZ2VzRnJvbVNlcnZlcigpO1xuICAgICAgICBwYWdlcyA9IChBcnJheS5pc0FycmF5KGxvYWRlZFBhZ2VzKSA/IGxvYWRlZFBhZ2VzIDogW10pLm1hcCgocGFnZSkgPT5cbiAgICAgICAgICBub3JtYWxpemVQYWdlRGF0YShwYWdlKSxcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKHBhZ2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIGFjdGl2ZVBhZ2VJZCA9IG51bGw7XG4gICAgICAgICAgY3VycmVudFBhZ2UgPSBudWxsO1xuICAgICAgICAgIHJlbmRlclBhZ2VMaXN0cyhwYWdlcywgYWN0aXZlUGFnZUlkKTtcbiAgICAgICAgICByZW5kZXJCbG9ja0xpc3QobnVsbCk7XG4gICAgICAgICAgYmxvY2tEZXRhaWxFbXB0eT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgYmxvY2tFZGl0b3I/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICAgIHByZXZpZXdGcmFtZSAmJiAocHJldmlld0ZyYW1lLnNyY2RvYyA9IGdldExvYWRpbmdQcmV2aWV3SHRtbCgpKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgYWN0aXZlUGFnZUlkID0gZ2V0U3RvcmVkQWN0aXZlUGFnZShwYWdlcyk7XG4gICAgICAgIHNldEFjdGl2ZVBhZ2UoYWN0aXZlUGFnZUlkKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZGVzaWduXSBJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIHBhZ2VzJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KCdJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIHBhZ2VzLicpO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3Qgbm9ybWFsaXplVHlwZSA9ICh2YWx1ZSkgPT5cbiAgICAgICh2YWx1ZSB8fCAnJykubm9ybWFsaXplKCdORkQnKS5yZXBsYWNlKC9bXFx1MDMwMC1cXHUwMzZmXS9nLCAnJykudG9Mb3dlckNhc2UoKTtcbiAgICBjb25zdCBnZXRCbG9ja0Zvcm1Db25maWcgPSAoYmxvY2spID0+IHtcbiAgICAgIGlmICghYmxvY2spIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICBjb25zdCB0eXBlS2V5ID0gbm9ybWFsaXplVHlwZShibG9jay50eXBlKTtcbiAgICAgIGNvbnN0IGFsaWFzID0gYmxvY2tUeXBlQWxpYXNlc1t0eXBlS2V5XSB8fCB0eXBlS2V5O1xuICAgICAgcmV0dXJuIGJsb2NrVHlwZUZvcm1zW2FsaWFzXSB8fCBudWxsO1xuICAgIH07XG4gICAgY29uc3QgcG9wdWxhdGVCbG9ja0Zvcm0gPSAoYmxvY2spID0+IHtcbiAgICAgIGlmICghYmxvY2tGb3JtIHx8ICFibG9ja0VkaXRvcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoYmxvY2sgJiYgIWJsb2NrLnNldHRpbmdzKSB7XG4gICAgICAgIGJsb2NrLnNldHRpbmdzID0ge307XG4gICAgICB9XG4gICAgICBjb25zdCBjb25maWcgPSBnZXRCbG9ja0Zvcm1Db25maWcoYmxvY2spO1xuICAgICAgaWYgKGJsb2NrRWRpdG9yVGl0bGUpIHtcbiAgICAgICAgYmxvY2tFZGl0b3JUaXRsZS50ZXh0Q29udGVudCA9IGJsb2NrPy5sYWJlbCB8fCAnQmxvYyc7XG4gICAgICB9XG4gICAgICBpZiAoYmxvY2tFZGl0b3JUeXBlKSB7XG4gICAgICAgIGJsb2NrRWRpdG9yVHlwZS50ZXh0Q29udGVudCA9IGJsb2NrPy50eXBlIHx8ICdCbG9jJztcbiAgICAgIH1cbiAgICAgIGlmICghY29uZmlnKSB7XG4gICAgICAgIGJsb2NrRm9ybS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgYmxvY2tFZGl0b3JVbnN1cHBvcnRlZD8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIGJsb2NrRm9ybS5kYXRhc2V0LmJsb2NrSWQgPSAnJztcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYmxvY2tFZGl0b3JVbnN1cHBvcnRlZD8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBibG9ja0Zvcm0uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBibG9ja0Zvcm0ucmVzZXQoKTtcbiAgICAgIGJsb2NrRm9ybS5kYXRhc2V0LmJsb2NrSWQgPSBibG9jay5pZDtcbiAgICAgIGJsb2NrRm9ybVNlY3Rpb25zLmZvckVhY2goKHNlY3Rpb24pID0+IHtcbiAgICAgICAgY29uc3Qgc2VjdGlvbklkID0gc2VjdGlvbi5kYXRhc2V0LmVkaXRvclNlY3Rpb247XG4gICAgICAgIGlmIChzZWN0aW9uSWQgPT09IGNvbmZpZy5zZWN0aW9uKSB7XG4gICAgICAgICAgc2VjdGlvbi5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWN0aW9uLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIC8vIFJcdTAwRTlpbml0aWFsaXNlciBzdXIgbCdvbmdsZXQgQ29udGVudVxuICAgICAgc3dpdGNoQmxvY2tUYWIoJ2NvbnRlbnQnKTtcbiAgICAgIGlmIChjb25maWcuc2VjdGlvbiA9PT0gJ2NvbGxlY3Rpb24nKSB7XG4gICAgICAgIGNvbnN0IGRlc2lyZWRWYWx1ZSA9IGJsb2NrLmNvbGxlY3Rpb25JZCB8fCBibG9jay5zZXR0aW5ncz8uY29sbGVjdGlvbklkIHx8ICcnO1xuICAgICAgICB1cGRhdGVDb2xsZWN0aW9uU2VsZWN0T3B0aW9ucyhkZXNpcmVkVmFsdWUpO1xuICAgICAgfVxuICAgICAgT2JqZWN0LmVudHJpZXMoY29uZmlnLmZpZWxkcykuZm9yRWFjaCgoW3NldHRpbmdLZXksIGZpZWxkTmFtZV0pID0+IHtcbiAgICAgICAgY29uc3QgaW5wdXQgPSBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcihgW25hbWU9XCIke2ZpZWxkTmFtZX1cIl1gKTtcbiAgICAgICAgaWYgKCFpbnB1dCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2YWx1ZSA9IGJsb2NrLnNldHRpbmdzPy5bc2V0dGluZ0tleV07XG4gICAgICAgIGlmIChpbnB1dC50eXBlID09PSAnY2hlY2tib3gnKSB7XG4gICAgICAgICAgaW5wdXQuY2hlY2tlZCA9IEJvb2xlYW4odmFsdWUpO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0LnR5cGUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgY29uc3QgZmFsbGJhY2sgPSBpbnB1dC5kYXRhc2V0LmRlZmF1bHQgPz8gaW5wdXQuZGVmYXVsdFZhbHVlID8/ICcnO1xuICAgICAgICAgIGlucHV0LnZhbHVlID0gdmFsdWUgPz8gZmFsbGJhY2s7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5wdXQudGFnTmFtZSA9PT0gJ1RFWFRBUkVBJykge1xuICAgICAgICAgIGlucHV0LnZhbHVlID0gdmFsdWUgPz8gJyc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaW5wdXQudmFsdWUgPSB2YWx1ZSA/PyAnJztcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoY29uZmlnLnNlY3Rpb24gPT09ICdncm91cCcpIHtcbiAgICAgICAgY29uc3QgbW9iaWxlVmFsdWUgPVxuICAgICAgICAgIGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImdyb3VwLWNvbHVtbnMtbW9iaWxlXCJdJyk/LnZhbHVlIHx8ICcxJztcbiAgICAgICAgY29uc3QgZGVza3RvcFZhbHVlID1cbiAgICAgICAgICBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJncm91cC1jb2x1bW5zLWRlc2t0b3BcIl0nKT8udmFsdWUgfHwgJzMnO1xuICAgICAgICB1cGRhdGVHcm91cE1pbmlQcmV2aWV3KG1vYmlsZVZhbHVlLCBkZXNrdG9wVmFsdWUpO1xuICAgICAgfVxuICAgICAgaWYgKGNvbmZpZy5zZWN0aW9uID09PSAnY29sbGVjdGlvbicpIHtcbiAgICAgICAgY29uc3QgbW9iaWxlVmFsdWUgPVxuICAgICAgICAgIGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImNvbGxlY3Rpb24tY29sdW1ucy1tb2JpbGVcIl0nKT8udmFsdWUgfHwgJzEnO1xuICAgICAgICBjb25zdCBkZXNrdG9wVmFsdWUgPVxuICAgICAgICAgIGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImNvbGxlY3Rpb24tY29sdW1ucy1kZXNrdG9wXCJdJyk/LnZhbHVlIHx8ICczJztcbiAgICAgICAgdXBkYXRlQ29sbGVjdGlvbk1pbmlQcmV2aWV3KG1vYmlsZVZhbHVlLCBkZXNrdG9wVmFsdWUpO1xuICAgICAgfVxuICAgICAgLy8gTWlzZSBcdTAwRTAgam91ciBkZXMgcHJldmlld3MgZGUgY291bGV1clxuICAgICAgYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWNvbG9yLXNlbGVjdF0nKS5mb3JFYWNoKChzZWxlY3QpID0+IHtcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRPcHRpb24gPSBzZWxlY3Qub3B0aW9uc1tzZWxlY3Quc2VsZWN0ZWRJbmRleF07XG4gICAgICAgIGNvbnN0IGNvbG9yID0gc2VsZWN0ZWRPcHRpb24/LmRhdGFzZXQ/LmNvbG9yIHx8ICcjZmZmZmZmJztcbiAgICAgICAgY29uc3QgY29sb3JQcmV2aWV3ID0gc2VsZWN0LmNsb3Nlc3QoJy5yZWxhdGl2ZScpPy5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xvci1wcmV2aWV3XScpO1xuICAgICAgICBpZiAoY29sb3JQcmV2aWV3KSB7XG4gICAgICAgICAgaWYgKGNvbG9yID09PSAndHJhbnNwYXJlbnQnKSB7XG4gICAgICAgICAgICBjb2xvclByZXZpZXcuc3R5bGUuYmFja2dyb3VuZCA9ICdyZXBlYXRpbmctY29uaWMtZ3JhZGllbnQoI2NjYyAwJSAyNSUsIHdoaXRlIDAlIDUwJSkgNTAlIC8gOHB4IDhweCc7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbG9yUHJldmlldy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBjb2xvcjtcbiAgICAgICAgICAgIGNvbG9yUHJldmlldy5zdHlsZS5iYWNrZ3JvdW5kID0gJyc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IGNvbGxlY3RGb3JtVmFsdWVzID0gKGNvbmZpZykgPT4ge1xuICAgICAgaWYgKCFibG9ja0Zvcm0gfHwgIWNvbmZpZykge1xuICAgICAgICByZXR1cm4ge307XG4gICAgICB9XG4gICAgICBjb25zdCB2YWx1ZXMgPSB7fTtcbiAgICAgIE9iamVjdC5lbnRyaWVzKGNvbmZpZy5maWVsZHMpLmZvckVhY2goKFtzZXR0aW5nS2V5LCBmaWVsZE5hbWVdKSA9PiB7XG4gICAgICAgIGNvbnN0IGlucHV0ID0gYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3IoYFtuYW1lPVwiJHtmaWVsZE5hbWV9XCJdYCk7XG4gICAgICAgIGlmICghaW5wdXQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlucHV0LnR5cGUgPT09ICdjaGVja2JveCcpIHtcbiAgICAgICAgICB2YWx1ZXNbc2V0dGluZ0tleV0gPSBpbnB1dC5jaGVja2VkO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0LnR5cGUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgY29uc3QgcGFyc2VkID0gTnVtYmVyKGlucHV0LnZhbHVlKTtcbiAgICAgICAgICB2YWx1ZXNbc2V0dGluZ0tleV0gPSBOdW1iZXIuaXNGaW5pdGUocGFyc2VkKSA/IHBhcnNlZCA6IDA7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5wdXQudGFnTmFtZSA9PT0gJ1RFWFRBUkVBJykge1xuICAgICAgICAgIHZhbHVlc1tzZXR0aW5nS2V5XSA9IGlucHV0LnZhbHVlIHx8ICcnO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0LnR5cGUgPT09ICdzZWxlY3Qtb25lJykge1xuICAgICAgICAgIHZhbHVlc1tzZXR0aW5nS2V5XSA9IGlucHV0LnZhbHVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhbHVlc1tzZXR0aW5nS2V5XSA9IGlucHV0LnZhbHVlIHx8ICcnO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgfTtcbiAgICBjb25zdCB1cGRhdGVQcmV2aWV3U3RhdHVzID0gKHRleHQpID0+IHtcbiAgICAgIGlmICghcHJldmlld1N0YXR1cykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIXRleHQpIHtcbiAgICAgICAgcHJldmlld1N0YXR1cy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcHJldmlld1N0YXR1cy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIHByZXZpZXdTdGF0dXMudGV4dENvbnRlbnQgPSB0ZXh0O1xuICAgIH07XG4gICAgY29uc3Qgc2VyaWFsaXplUGFnZUZvclByZXZpZXcgPSAocGFnZSkgPT4ge1xuICAgICAgaWYgKCFwYWdlKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBGb25jdGlvbiBwb3VyIHNcdTAwRTlyaWFsaXNlciB1biBibG9jICh1dGlsaXNcdTAwRTkgcG91ciBsZXMgYmxvY3MgZXQgbGV1cnMgZW5mYW50cylcbiAgICAgIGNvbnN0IHNlcmlhbGl6ZUJsb2NrID0gKGJsb2NrKSA9PiAoe1xuICAgICAgICBpZDogYmxvY2suaWQsXG4gICAgICAgIHR5cGU6IGJsb2NrLnR5cGUsXG4gICAgICAgIGxhYmVsOiBibG9jay5sYWJlbCxcbiAgICAgICAgc3RhdHVzOiBibG9jay5zdGF0dXMsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBibG9jay5kZXNjcmlwdGlvbixcbiAgICAgICAgcHJvcHM6IGJsb2NrLnByb3BzIHx8IFtdLFxuICAgICAgICBzZXR0aW5nczogYmxvY2suc2V0dGluZ3MgfHwge30sXG4gICAgICAgIGNvbGxlY3Rpb25JZDogYmxvY2suY29sbGVjdGlvbklkIHx8IGJsb2NrLnNldHRpbmdzPy5jb2xsZWN0aW9uSWQgfHwgJycsXG4gICAgICAgIGNoaWxkcmVuOiAoYmxvY2suY2hpbGRyZW4gfHwgW10pLm1hcChzZXJpYWxpemVCbG9jayksXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IHBhZ2UuaWQsXG4gICAgICAgIG5hbWU6IHBhZ2UubmFtZSxcbiAgICAgICAgdGl0bGU6IHBhZ2UudGl0bGUsXG4gICAgICAgIHNsdWc6IHBhZ2Uuc2x1ZyxcbiAgICAgICAgZGVzY3JpcHRpb246IHBhZ2UuZGVzY3JpcHRpb24gfHwgJycsXG4gICAgICAgIGJhZGdlczogWy4uLihwYWdlLmJhZGdlcyB8fCBbXSldLFxuICAgICAgICBzZW86IHBhZ2Uuc2VvIHx8IHt9LFxuICAgICAgICBhY2Nlc3NpYmlsaXR5OiBwYWdlLmFjY2Vzc2liaWxpdHkgfHwge30sXG4gICAgICAgIGJsb2NrczogKHBhZ2UuYmxvY2tzIHx8IFtdKS5tYXAoc2VyaWFsaXplQmxvY2spLFxuICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IGdldExvYWRpbmdQcmV2aWV3SHRtbCA9ICgpID0+XG4gICAgICAnPCFET0NUWVBFIGh0bWw+PGh0bWw+PGJvZHkgc3R5bGU9XCJmb250LWZhbWlseTpJbnRlcixzYW5zLXNlcmlmO3BhZGRpbmc6NDBweDtjb2xvcjojNDc1NTY5O2JhY2tncm91bmQ6I2ZmZjtcIj5Qclx1MDBFOXBhcmF0aW9uIGRlIGxhIHByXHUwMEU5dmlzdWFsaXNhdGlvblx1MjAyNjwvYm9keT48L2h0bWw+JztcblxuICAgIC8vIERlYm91bmNlIHV0aWxpdHlcbiAgICBjb25zdCBkZWJvdW5jZSA9IChmbiwgZGVsYXkpID0+IHtcbiAgICAgIGxldCB0aW1lb3V0SWQ7XG4gICAgICByZXR1cm4gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG4gICAgICAgIHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4gZm4oLi4uYXJncyksIGRlbGF5KTtcbiAgICAgIH07XG4gICAgfTtcblxuICAgIC8vIEF1dG8tc2F2ZSBwb3VyIGwnYXBwYXJlbmNlIChpbW1cdTAwRTlkaWF0IHBvdXIgXHUwMEU5dml0ZXIgbGVzIHBlcnRlcylcbiAgICBjb25zdCBhdXRvU2F2ZUFwcGVhcmFuY2UgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlIHx8ICFhY3RpdmVCbG9ja0lkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGJsb2NrID0gZ2V0QWN0aXZlQmxvY2soKTtcbiAgICAgIGNvbnN0IGNvbmZpZyA9IGdldEJsb2NrRm9ybUNvbmZpZyhibG9jayk7XG4gICAgICBpZiAoIWJsb2NrIHx8ICFjb25maWcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgdmFsdWVzID0gY29sbGVjdEZvcm1WYWx1ZXMoY29uZmlnKTtcbiAgICAgIGNvbnN0IHVwZGF0ZWRCbG9ja3MgPSAoY3VycmVudFBhZ2UuYmxvY2tzIHx8IFtdKS5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIGlmIChlbnRyeS5pZCAhPT0gYmxvY2suaWQpIHtcbiAgICAgICAgICByZXR1cm4gZW50cnk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdXBkYXRlZFNldHRpbmdzID0geyAuLi4oZW50cnkuc2V0dGluZ3MgfHwge30pLCAuLi52YWx1ZXMgfTtcbiAgICAgICAgcmV0dXJuIHsgLi4uZW50cnksIHNldHRpbmdzOiB1cGRhdGVkU2V0dGluZ3MgfTtcbiAgICAgIH0pO1xuICAgICAgLy8gTWlzZSBcdTAwRTAgam91ciBzaWxlbmNpZXVzZSAoc2FucyB0b2FzdCBuaSByZWZyZXNoIGNvbXBsZXQpXG4gICAgICBjb25zdCBuZXh0UGFnZSA9IHsgLi4uY3VycmVudFBhZ2UsIGJsb2NrczogdXBkYXRlZEJsb2NrcyB9O1xuICAgICAgY3VycmVudFBhZ2UgPSBuZXh0UGFnZTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHNhdmVkID0gYXdhaXQgc2F2ZVBhZ2VUb1NlcnZlcihuZXh0UGFnZSk7XG4gICAgICAgIGlmIChzYXZlZD8uaWQpIHtcbiAgICAgICAgICBjb25zdCBub3JtYWxpemVkID0gbm9ybWFsaXplUGFnZURhdGEoc2F2ZWQpO1xuICAgICAgICAgIGN1cnJlbnRQYWdlID0gbm9ybWFsaXplZDtcbiAgICAgICAgICBwYWdlcyA9IHBhZ2VzLm1hcCgocCkgPT4gKHAuaWQgPT09IG5vcm1hbGl6ZWQuaWQgPyBub3JtYWxpemVkIDogcCkpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdbZGVzaWduXSBhdXRvLXNhdmUgYXBwZWFyYW5jZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBNaXNlIFx1MDBFMCBqb3VyIGxpdmUgZGUgbGEgcHJldmlldyB2aWEgcG9zdE1lc3NhZ2UgKHNhbnMgcmVjaGFyZ2VyIGwnaWZyYW1lKVxuICAgIGNvbnN0IHVwZGF0ZVByZXZpZXdCbG9ja0xpdmUgPSAoYmxvY2tJZCwgc2V0dGluZ3MpID0+IHtcbiAgICAgIGlmICghcHJldmlld0ZyYW1lIHx8ICFwcmV2aWV3RnJhbWUuY29udGVudFdpbmRvdykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBFbnZvaWUgbGVzIG5vdXZlbGxlcyBjbGFzc2VzIGF1IGJsb2MgZGFucyBsJ2lmcmFtZVxuICAgICAgcHJldmlld0ZyYW1lLmNvbnRlbnRXaW5kb3cucG9zdE1lc3NhZ2Uoe1xuICAgICAgICB0eXBlOiAndXBkYXRlQmxvY2tTdHlsZXMnLFxuICAgICAgICBibG9ja0lkLFxuICAgICAgICBzZXR0aW5ncyxcbiAgICAgIH0sICcqJyk7XG4gICAgfTtcblxuICAgIC8vIFJlZnJlc2ggcHJldmlldyBjb21wbGV0IGRlYm91bmNlZCAocG91ciBsZXMgY2hhbmdlbWVudHMgY29tcGxleGVzKVxuICAgIGNvbnN0IGRlYm91bmNlZFJlZnJlc2hQcmV2aWV3ID0gZGVib3VuY2UoKCkgPT4ge1xuICAgICAgaWYgKGN1cnJlbnRQYWdlKSB7XG4gICAgICAgIHJlZnJlc2hQcmV2aWV3KGN1cnJlbnRQYWdlKTtcbiAgICAgIH1cbiAgICB9LCAxNTAwKTtcblxuICAgIC8vIE1pc2UgXHUwMEUwIGpvdXIgbGl2ZSBpbW1cdTAwRTlkaWF0ZSAocG91ciBsYSBwcmV2aWV3KVxuICAgIGNvbnN0IGhhbmRsZUFwcGVhcmFuY2VDaGFuZ2UgPSAoYmxvY2tJZCwgc2V0dGluZ3MpID0+IHtcbiAgICAgIHVwZGF0ZVByZXZpZXdCbG9ja0xpdmUoYmxvY2tJZCwgc2V0dGluZ3MpO1xuICAgICAgdXBkYXRlUHJldmlld1N0YXR1cygnTW9kaWZpY2F0aW9uXHUyMDI2Jyk7XG4gICAgICBhdXRvU2F2ZUFwcGVhcmFuY2UoKVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgdXBkYXRlUHJldmlld1N0YXR1cygnU2F1dmVnYXJkXHUwMEU5Jyk7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB1cGRhdGVQcmV2aWV3U3RhdHVzKCdcdTAwQzAgam91cicpLCAxNTAwKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKCgpID0+IHVwZGF0ZVByZXZpZXdTdGF0dXMoJ0VycmV1ciBkZSBzYXV2ZWdhcmRlJykpO1xuICAgICAgLy8gUmVmcmVzaCBjb21wbGV0IGFwclx1MDBFOHMgdW4gZFx1MDBFOWxhaSBwbHVzIGxvbmcgKHBvdXIgbGVzIGNoYW5nZW1lbnRzIGRlIGxheW91dCwgZXRjLilcbiAgICAgIGRlYm91bmNlZFJlZnJlc2hQcmV2aWV3KCk7XG4gICAgfTtcblxuICAgIGNvbnN0IHJlZnJlc2hQcmV2aWV3ID0gKHBhZ2UpID0+IHtcbiAgICAgIGlmICghcHJldmlld0ZyYW1lIHx8ICFwYWdlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHByZXZpZXdTaXRlU2x1ZyA9IHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJyc7XG4gICAgICBjb25zdCBzZXJpYWxpemVkUGFnZXMgPSBwYWdlcy5tYXAoKGVudHJ5KSA9PiAoe1xuICAgICAgICBpZDogZW50cnkuaWQsXG4gICAgICAgIHNsdWc6IGVudHJ5LnNsdWcsXG4gICAgICAgIHRpdGxlOiBlbnRyeS50aXRsZSxcbiAgICAgICAgbmFtZTogZW50cnkubmFtZSxcbiAgICAgICAgYWNjZXNzaWJpbGl0eTogZW50cnkuYWNjZXNzaWJpbGl0eSxcbiAgICAgIH0pKTtcbiAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgIHBhZ2U6IHNlcmlhbGl6ZVBhZ2VGb3JQcmV2aWV3KHBhZ2UpLFxuICAgICAgICBzaXRlOiB7XG4gICAgICAgICAgdGl0bGU6IHN0b3JlZFNpdGUubmFtZSB8fCAnU2l0ZScsXG4gICAgICAgICAgc2x1ZzogcHJldmlld1NpdGVTbHVnLFxuICAgICAgICAgIHBhZ2VzOiBzZXJpYWxpemVkUGFnZXMsXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgICAgcHJldmlld1JlYWR5ID0gZmFsc2U7XG4gICAgICB1cGRhdGVQcmV2aWV3U3RhdHVzKCdBY3R1YWxpc2F0aW9uXHUyMDI2Jyk7XG4gICAgICBwcmV2aWV3RnJhbWUuc3JjZG9jID0gZ2V0TG9hZGluZ1ByZXZpZXdIdG1sKCk7XG4gICAgICBpZiAocHJldmlld1JlcXVlc3RDb250cm9sbGVyKSB7XG4gICAgICAgIHByZXZpZXdSZXF1ZXN0Q29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgfVxuICAgICAgY29uc3QgY29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICAgIHByZXZpZXdSZXF1ZXN0Q29udHJvbGxlciA9IGNvbnRyb2xsZXI7XG4gICAgICBmZXRjaCgnL2FwaS9wcmV2aWV3Jywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICBzaWduYWw6IGNvbnRyb2xsZXIuc2lnbmFsLFxuICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQcmV2aWV3IGVycm9yJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgICAgaWYgKGNvbnRyb2xsZXIuc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgbGF0ZXN0UHJldmlld0h0bWwgPSBkYXRhLmh0bWwgfHwgJyc7XG4gICAgICAgICAgcHJldmlld0ZyYW1lLnNldEF0dHJpYnV0ZShcbiAgICAgICAgICAgICd0aXRsZScsXG4gICAgICAgICAgICBgUHJcdTAwRTl2aXN1YWxpc2F0aW9uIGRlIGxhIHBhZ2UgJHtwYWdlLnRpdGxlIHx8ICcnfWAudHJpbSgpLFxuICAgICAgICAgICk7XG4gICAgICAgICAgcHJldmlld0ZyYW1lLnNyY2RvYyA9IGxhdGVzdFByZXZpZXdIdG1sIHx8IGdldExvYWRpbmdQcmV2aWV3SHRtbCgpO1xuICAgICAgICAgIHVwZGF0ZVByZXZpZXdTdGF0dXMoJ1x1MDBDMCBqb3VyJyk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICBpZiAoY29udHJvbGxlci5zaWduYWwuYWJvcnRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbcHJldmlld10gSW1wb3NzaWJsZSBkZSByZW5kcmUgbGEgcGFnZScsIGVycm9yKTtcbiAgICAgICAgICB1cGRhdGVQcmV2aWV3U3RhdHVzKCdFcnJldXIgcHJldmlldycpO1xuICAgICAgICAgIHByZXZpZXdGcmFtZS5zcmNkb2MgPVxuICAgICAgICAgICAgJzwhRE9DVFlQRSBodG1sPjxodG1sPjxib2R5IHN0eWxlPVwiZm9udC1mYW1pbHk6SW50ZXIsc2Fucy1zZXJpZjtwYWRkaW5nOjQwcHg7Y29sb3I6I2JlMTIzYztiYWNrZ3JvdW5kOiNmZmY7XCI+RXJyZXVyIGxvcnMgZHUgcmVuZHUgZGUgbGEgcHJcdTAwRTl2aXN1YWxpc2F0aW9uLjwvYm9keT48L2h0bWw+JztcbiAgICAgICAgfSlcbiAgICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICAgIGlmIChwcmV2aWV3UmVxdWVzdENvbnRyb2xsZXIgPT09IGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgIHByZXZpZXdSZXF1ZXN0Q29udHJvbGxlciA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZUJsb2NrRm9ybVN1Ym1pdCA9IChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmICghY3VycmVudFBhZ2UgfHwgIWFjdGl2ZUJsb2NrSWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgYmxvY2sgPSBnZXRBY3RpdmVCbG9jaygpO1xuICAgICAgY29uc3QgY29uZmlnID0gZ2V0QmxvY2tGb3JtQ29uZmlnKGJsb2NrKTtcbiAgICAgIGlmICghYmxvY2sgfHwgIWNvbmZpZykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCB2YWx1ZXMgPSBjb2xsZWN0Rm9ybVZhbHVlcyhjb25maWcpO1xuICAgICAgaWYgKGNvbmZpZy5zZWN0aW9uID09PSAnaW1hZ2UnKSB7XG4gICAgICAgIGNvbnN0IGFsdFZhbHVlID0gKHZhbHVlcy5hbHQgfHwgJycpLnRyaW0oKTtcbiAgICAgICAgdmFsdWVzLmFsdCA9IGFsdFZhbHVlO1xuICAgICAgICBpZiAoIWFsdFZhbHVlKSB7XG4gICAgICAgICAgc2hvd1RvYXN0KCdBam91dGUgdW4gdGV4dGUgYWx0ZXJuYXRpZiBwb3VyIGNldHRlIGltYWdlLicsICdlcnJvcicpO1xuICAgICAgICAgIGJsb2NrRm9ybT8ucXVlcnlTZWxlY3RvcignW25hbWU9XCJpbWFnZS1hbHRcIl0nKT8uZm9jdXMoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChjb25maWcuc2VjdGlvbiA9PT0gJ2NvbGxlY3Rpb24nKSB7XG4gICAgICAgIGlmICghdmFsdWVzLmNvbGxlY3Rpb25JZCkge1xuICAgICAgICAgIHNob3dUb2FzdCgnU1x1MDBFOWxlY3Rpb25uZXogdW5lIGNvbGxlY3Rpb24uJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhbHVlcy5saW1pdCA9IE1hdGgubWF4KDEsIE51bWJlcih2YWx1ZXMubGltaXQpIHx8IDEpO1xuICAgICAgfVxuICAgICAgY29uc3QgdXBkYXRlZEJsb2NrcyA9IChjdXJyZW50UGFnZS5ibG9ja3MgfHwgW10pLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgaWYgKGVudHJ5LmlkICE9PSBibG9jay5pZCkge1xuICAgICAgICAgIHJldHVybiBlbnRyeTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB1cGRhdGVkU2V0dGluZ3MgPSB7IC4uLihlbnRyeS5zZXR0aW5ncyB8fCB7fSksIC4uLnZhbHVlcyB9O1xuICAgICAgICBjb25zdCB1cGRhdGVkQmxvY2sgPSB7XG4gICAgICAgICAgLi4uZW50cnksXG4gICAgICAgICAgc2V0dGluZ3M6IHVwZGF0ZWRTZXR0aW5ncyxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGNvbmZpZy5sYWJlbEZpZWxkICYmIHZhbHVlc1tjb25maWcubGFiZWxGaWVsZF0pIHtcbiAgICAgICAgICB1cGRhdGVkQmxvY2subGFiZWwgPSB2YWx1ZXNbY29uZmlnLmxhYmVsRmllbGRdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb25maWcuZGVzY3JpcHRpb25GaWVsZCAmJiB2YWx1ZXNbY29uZmlnLmRlc2NyaXB0aW9uRmllbGRdKSB7XG4gICAgICAgICAgdXBkYXRlZEJsb2NrLmRlc2NyaXB0aW9uID0gdmFsdWVzW2NvbmZpZy5kZXNjcmlwdGlvbkZpZWxkXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29uZmlnLnNlY3Rpb24gPT09ICdjb2xsZWN0aW9uJykge1xuICAgICAgICAgIHVwZGF0ZWRCbG9jay5jb2xsZWN0aW9uSWQgPSB2YWx1ZXMuY29sbGVjdGlvbklkO1xuICAgICAgICAgIHVwZGF0ZWRCbG9jay5zZXR0aW5ncy5jb2xsZWN0aW9uSWQgPSB2YWx1ZXMuY29sbGVjdGlvbklkO1xuICAgICAgICAgIHVwZGF0ZWRCbG9jay5zZXR0aW5ncy5saW1pdCA9IHZhbHVlcy5saW1pdDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdXBkYXRlZEJsb2NrO1xuICAgICAgfSk7XG4gICAgICB1cGRhdGVDdXJyZW50UGFnZUJsb2Nrcyh1cGRhdGVkQmxvY2tzKTtcbiAgICAgIHNob3dUb2FzdCgnQmxvYyBtaXMgXHUwMEUwIGpvdXInKTtcbiAgICAgIHNldEFjdGl2ZVBhZ2UoY3VycmVudFBhZ2UuaWQsIHsgcHJlc2VydmVCbG9jazogdHJ1ZSB9KTtcbiAgICB9O1xuICAgIGNvbnN0IGRyYXdlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXBhZ2UtZHJhd2VyXScpO1xuICAgIGNvbnN0IGRyYXdlckJhY2tkcm9wID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1kcmF3ZXItYmFja2Ryb3BdJyk7XG4gICAgY29uc3QgZHJhd2VyT3BlbkJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1wYWdlLWRyYXdlci1vcGVuXScpO1xuICAgIGNvbnN0IGRyYXdlckNsb3NlQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXBhZ2UtZHJhd2VyLWNsb3NlXScpO1xuICAgIGNvbnN0IGFkZFBhZ2VUb2dnbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZGQtcGFnZS10b2dnbGVdJyk7XG4gICAgY29uc3QgYWRkUGFnZUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZGQtcGFnZS1mb3JtXScpO1xuICAgIGNvbnN0IGFkZFBhZ2VOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRkLXBhZ2UtbmFtZV0nKTtcbiAgICBjb25zdCBhZGRQYWdlVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZGQtcGFnZS10aXRsZV0nKTtcbiAgICBjb25zdCBhZGRQYWdlU2x1ZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFkZC1wYWdlLXNsdWddJyk7XG4gICAgY29uc3QgYWRkUGFnZUNhbmNlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFkZC1wYWdlLWNhbmNlbF0nKTtcbiAgICBjb25zdCBhZGRQYWdlRXJyb3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZGQtcGFnZS1lcnJvcl0nKTtcbiAgICBjb25zdCBhZGRQYWdlU3VibWl0QnV0dG9uID0gYWRkUGFnZUZvcm0/LnF1ZXJ5U2VsZWN0b3IoJ1t0eXBlPVwic3VibWl0XCJdJyk7XG4gICAgLy8gSW1wb3J0IEpTT04gZWxlbWVudHNcbiAgICBjb25zdCBpbXBvcnRUb2dnbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbXBvcnQtcGFnZXMtdG9nZ2xlXScpO1xuICAgIGNvbnN0IGltcG9ydE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaW1wb3J0LW1vZGFsXScpO1xuICAgIGNvbnN0IGltcG9ydENsb3NlQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWltcG9ydC1tb2RhbC1jbG9zZV0nKTtcbiAgICBjb25zdCBpbXBvcnREcm9wem9uZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWltcG9ydC1kcm9wem9uZV0nKTtcbiAgICBjb25zdCBpbXBvcnRGaWxlSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbXBvcnQtZmlsZS1pbnB1dF0nKTtcbiAgICBjb25zdCBpbXBvcnRGaWxlTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWltcG9ydC1maWxlLWxpc3RdJyk7XG4gICAgY29uc3QgaW1wb3J0RmlsZU5hbWVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaW1wb3J0LWZpbGUtbmFtZXNdJyk7XG4gICAgY29uc3QgaW1wb3J0UmVzdWx0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWltcG9ydC1yZXN1bHRzXScpO1xuICAgIGNvbnN0IGltcG9ydFJlc3VsdHNDb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaW1wb3J0LXJlc3VsdHMtY29udGVudF0nKTtcbiAgICBjb25zdCBpbXBvcnRTdWJtaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbXBvcnQtc3VibWl0XScpO1xuICAgIGNvbnN0IGltcG9ydFRhYnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1pbXBvcnQtdGFiXScpO1xuICAgIGNvbnN0IGltcG9ydFBhbmVscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWltcG9ydC1wYW5lbF0nKTtcbiAgICBjb25zdCBjb3B5VGVtcGxhdGVCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb3B5LXRlbXBsYXRlXScpO1xuICAgIGNvbnN0IHRlbXBsYXRlSnNvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRlbXBsYXRlLWpzb25dJyk7XG4gICAgLy8gUGFzdGUgSlNPTiBlbGVtZW50c1xuICAgIGNvbnN0IGltcG9ydFBhc3RlSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbXBvcnQtcGFzdGUtanNvbl0nKTtcbiAgICBjb25zdCBwYXN0ZUZvcm1hdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWZvcm1hdC1qc29uXScpO1xuICAgIGNvbnN0IHBhc3RlRXJyb3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbXBvcnQtcGFzdGUtZXJyb3JdJyk7XG4gICAgbGV0IGltcG9ydFNlbGVjdGVkRmlsZXMgPSBbXTtcbiAgICBsZXQgYWN0aXZlSW1wb3J0VGFiID0gJ3VwbG9hZCc7XG4gICAgLy8gRGVsZXRlIHBhZ2UgZWxlbWVudHNcbiAgICBjb25zdCBkZWxldGVQYWdlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZWxldGUtcGFnZS1tb2RhbF0nKTtcbiAgICBjb25zdCBkZWxldGVQYWdlTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlbGV0ZS1wYWdlLW5hbWVdJyk7XG4gICAgY29uc3QgZGVsZXRlUGFnZUNhbmNlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlbGV0ZS1wYWdlLWNhbmNlbF0nKTtcbiAgICBjb25zdCBkZWxldGVQYWdlQ29uZmlybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlbGV0ZS1wYWdlLWNvbmZpcm1dJyk7XG4gICAgbGV0IHBhZ2VUb0RlbGV0ZSA9IG51bGw7XG4gICAgY29uc3Qgc2l0ZUtleSA9XG4gICAgICBzdHJpcExlYWRpbmdTbGFzaCh3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICdkZWZhdWx0JykgfHwgJ2RlZmF1bHQnO1xuICAgIGNvbnN0IHNpdGVTbHVnVmFsdWUgPSB3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnO1xuICAgIGNvbnN0IHNhZmVTaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKHNpdGVTbHVnVmFsdWUpIHx8ICcnO1xuICAgIGNvbnN0IHBhZ2VzQXBpQmFzZSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9wYWdlc2BcbiAgICAgIDogbnVsbDtcbiAgICBjb25zdCBjb2xsZWN0aW9uc0FwaUJhc2UgPSBzYWZlU2l0ZVNsdWdcbiAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnKX0vY29sbGVjdGlvbnNgXG4gICAgICA6IG51bGw7XG4gICAgY29uc3Qgc3RvcmFnZUtleXMgPSB7XG4gICAgICBhY3RpdmU6IGBjbG93ZXI6YWN0aXZlUGFnZToke3NpdGVLZXl9YCxcbiAgICB9O1xuICAgIGNvbnN0IGNyZWF0ZUJsb2NrID0gKGlkLCBsYWJlbCwgdHlwZSwgc3RhdHVzLCBkZXNjcmlwdGlvbiwgcHJvcHMgPSBbXSwgc2V0dGluZ3MgPSB7fSkgPT4ge1xuICAgICAgY29uc3QgYmxvY2sgPSB7XG4gICAgICAgIGlkLFxuICAgICAgICBsYWJlbCxcbiAgICAgICAgdHlwZSxcbiAgICAgICAgc3RhdHVzLFxuICAgICAgICBkZXNjcmlwdGlvbixcbiAgICAgICAgcHJvcHMsXG4gICAgICAgIHNldHRpbmdzOiB7IC4uLnNldHRpbmdzIH0sXG4gICAgICB9O1xuICAgICAgaWYgKGJsb2NrLnNldHRpbmdzLmNvbGxlY3Rpb25JZCkge1xuICAgICAgICBibG9jay5jb2xsZWN0aW9uSWQgPSBibG9jay5zZXR0aW5ncy5jb2xsZWN0aW9uSWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmxvY2s7XG4gICAgfTtcbiAgICBjb25zdCBibG9ja0xpYnJhcnlEZWZpbml0aW9ucyA9IHtcbiAgICAgIGhlcm86IHtcbiAgICAgICAgdHlwZTogJ0hlcm8nLFxuICAgICAgICBsYWJlbDogJ0hlcm8gZGUgcGFnZScsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnU2VjdGlvbiBwbGVpbmUgbGFyZ2V1ciBhdmVjIENUQSBwcmluY2lwYWwuJyxcbiAgICAgICAgc3RhdHVzOiAnQnJvdWlsbG9uJyxcbiAgICAgICAgcHJvcHM6IFtcbiAgICAgICAgICB7IGxhYmVsOiAnQ1RBJywgdmFsdWU6ICdEXHUwMEU5Y291dnJpcicgfSxcbiAgICAgICAgICB7IGxhYmVsOiAnSGF1dGV1cicsIHZhbHVlOiAnODB2aCcgfSxcbiAgICAgICAgXSxcbiAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICB0aXRsZTogJ1RpdHJlIGR1IGhlcm8nLFxuICAgICAgICAgIHN1YnRpdGxlOiAnJyxcbiAgICAgICAgICBjdGFMYWJlbDogJ0RcdTAwRTljb3V2cmlyJyxcbiAgICAgICAgICBjdGFVcmw6ICcjJyxcbiAgICAgICAgICBpbWFnZTogJycsXG4gICAgICAgICAgYWxpZ246ICdjZW50ZXInLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIHBhcmFncmFwaDoge1xuICAgICAgICB0eXBlOiAnUGFyYWdyYXBoZScsXG4gICAgICAgIGxhYmVsOiAnQmxvYyBcdTAwRTlkaXRvcmlhbCcsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnUGFyYWdyYXBoZSBsaWJyZSBwb3VyIHJhY29udGVyIHZvdHJlIGhpc3RvaXJlLicsXG4gICAgICAgIHN0YXR1czogJ0Jyb3VpbGxvbicsXG4gICAgICAgIHByb3BzOiBbeyBsYWJlbDogJ0xvbmd1ZXVyJywgdmFsdWU6ICcxNTAgbW90cycgfV0sXG4gICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgdGl0bGU6ICdUaXRyZSBkdSBwYXJhZ3JhcGhlJyxcbiAgICAgICAgICBjb250ZW50OiAnJyxcbiAgICAgICAgICBhbGlnbjogJ2xlZnQnLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGltYWdlOiB7XG4gICAgICAgIHR5cGU6ICdJbWFnZScsXG4gICAgICAgIGxhYmVsOiAnQmxvYyBpbWFnZScsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnVmlzdWVsIHNldWwgYXZlYyBsXHUwMEU5Z2VuZGUgb3B0aW9ubmVsbGUuJyxcbiAgICAgICAgc3RhdHVzOiAnQnJvdWlsbG9uJyxcbiAgICAgICAgcHJvcHM6IFtcbiAgICAgICAgICB7IGxhYmVsOiAnUmF0aW8nLCB2YWx1ZTogJzE2OjknIH0sXG4gICAgICAgICAgeyBsYWJlbDogJ0xcdTAwRTlnZW5kZScsIHZhbHVlOiAnSW5hY3RpdmUnIH0sXG4gICAgICAgIF0sXG4gICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgc3JjOiAnJyxcbiAgICAgICAgICBhbHQ6ICcnLFxuICAgICAgICAgIHNob3dDYXB0aW9uOiBmYWxzZSxcbiAgICAgICAgICBjYXB0aW9uOiAnJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBncm91cDoge1xuICAgICAgICB0eXBlOiAnR3JvdXBlJyxcbiAgICAgICAgbGFiZWw6ICdHcm91cGUgZGUgc2VjdGlvbnMnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0NvbnRlbmV1ciBwb3VyIGltYnJpcXVlciBwbHVzaWV1cnMgc291cy1ibG9jcy4nLFxuICAgICAgICBzdGF0dXM6ICdCcm91aWxsb24nLFxuICAgICAgICBwcm9wczogW3sgbGFiZWw6ICdEaXNwb3NpdGlvbicsIHZhbHVlOiAnVmVydGljYWxlJyB9XSxcbiAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICBsYXlvdXQ6ICdncmlkJyxcbiAgICAgICAgICBjb2x1bW5zTW9iaWxlOiAnMScsXG4gICAgICAgICAgY29sdW1uc0Rlc2t0b3A6ICczJyxcbiAgICAgICAgICBtb2JpbGVMYXlvdXQ6ICdzdGFjaycsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgY29sbGVjdGlvbmdyaWQ6IHtcbiAgICAgICAgdHlwZTogJ0NvbGxlY3Rpb25HcmlkJyxcbiAgICAgICAgbGFiZWw6ICdHcmlsbGUgZGUgY29udGVudXMnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0FmZmljaGUgYXV0b21hdGlxdWVtZW50IGxlcyBpdGVtcyBkXHUyMDE5dW5lIGNvbGxlY3Rpb24uJyxcbiAgICAgICAgc3RhdHVzOiAnQnJvdWlsbG9uJyxcbiAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICBjb2xsZWN0aW9uSWQ6ICcnLFxuICAgICAgICAgIGxpbWl0OiA2LFxuICAgICAgICAgIG1vYmlsZUxheW91dDogJ3N0YWNrJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBmb3JtOiB7XG4gICAgICAgIHR5cGU6ICdGb3JtJyxcbiAgICAgICAgbGFiZWw6ICdGb3JtdWxhaXJlIGRlIGNvbnRhY3QnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0Zvcm11bGFpcmUgYXZlYyBlbnZvaSB2ZXJzIHVuIHNlcnZpY2UgZXh0ZXJuZS4nLFxuICAgICAgICBzdGF0dXM6ICdCcm91aWxsb24nLFxuICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgIGZvcm1UaXRsZTogJ0NvbnRhY3Rlei1ub3VzJyxcbiAgICAgICAgICBhY3Rpb25Vcmw6ICcnLFxuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIHNlcnZpY2VOYW1lOiAnJyxcbiAgICAgICAgICBzdWJtaXRMYWJlbDogJ0Vudm95ZXInLFxuICAgICAgICAgIHN1Y2Nlc3NNZXNzYWdlOiAnTWVyY2kgcG91ciB2b3RyZSBtZXNzYWdlICEnLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIG5ld3NsZXR0ZXJlbWJlZDoge1xuICAgICAgICB0eXBlOiAnTmV3c2xldHRlckVtYmVkJyxcbiAgICAgICAgbGFiZWw6ICdOZXdzbGV0dGVyIC8gRW1iZWQnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0ludFx1MDBFOWdyYXRpb24gZFxcJ3VuIGZvcm11bGFpcmUgbmV3c2xldHRlciBleHRlcm5lIChCcmV2bywgTWFpbGNoaW1wXHUyMDI2KS4nLFxuICAgICAgICBzdGF0dXM6ICdCcm91aWxsb24nLFxuICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgIHRpdGxlOiAnUmVzdGV6IGluZm9ybVx1MDBFOScsXG4gICAgICAgICAgc2VydmljZU5hbWU6ICcnLFxuICAgICAgICAgIGVtYmVkQ29kZTogJycsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH07XG4gICAgY29uc3QgcGVyc2lzdEFjdGl2ZVBhZ2UgPSAocGFnZUlkKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oc3RvcmFnZUtleXMuYWN0aXZlLCBwYWdlSWQpO1xuICAgICAgfSBjYXRjaCB7XG4gICAgICAgIC8qIGlnbm9yZSBzdG9yYWdlIGVycm9ycyAqL1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgZ2V0U3RvcmVkQWN0aXZlUGFnZSA9IChwYWdlcykgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgc3RvcmVkID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKHN0b3JhZ2VLZXlzLmFjdGl2ZSk7XG4gICAgICAgIGlmIChzdG9yZWQgJiYgcGFnZXMuc29tZSgocGFnZSkgPT4gcGFnZS5pZCA9PT0gc3RvcmVkKSkge1xuICAgICAgICAgIHJldHVybiBzdG9yZWQ7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2gge1xuICAgICAgICAvKiBpZ25vcmUgc3RvcmFnZSBlcnJvcnMgKi9cbiAgICAgIH1cbiAgICAgIHJldHVybiBwYWdlc1swXT8uaWQgfHwgbnVsbDtcbiAgICB9O1xuICAgIGNvbnN0IGZvcm1hdEJsb2NrQ291bnQgPSAoY291bnQpID0+IHtcbiAgICAgIGlmICghY291bnQgfHwgY291bnQgPD0gMCkge1xuICAgICAgICByZXR1cm4gJzAgYmxvYyc7XG4gICAgICB9XG4gICAgICByZXR1cm4gY291bnQgPT09IDEgPyAnMSBibG9jJyA6IGAke2NvdW50fSBibG9jc2A7XG4gICAgfTtcbiAgICBjb25zdCBub3JtYWxpemVQYWdlU2x1ZyA9ICh2YWx1ZSkgPT4ge1xuICAgICAgaWYgKCF2YWx1ZSB8fCB2YWx1ZSA9PT0gJy8nKSB7XG4gICAgICAgIHJldHVybiAnLyc7XG4gICAgICB9XG4gICAgICBjb25zdCBiYXNlID0gd29ya3NwYWNlU2x1Z2lmeSh2YWx1ZS5yZXBsYWNlKC9eXFwvLywgJycpKTtcbiAgICAgIHJldHVybiBiYXNlID8gYC8ke2Jhc2V9YCA6ICcvJztcbiAgICB9O1xuICAgIGNvbnN0IGdlbmVyYXRlQmxvY2tJZCA9IChwYWdlSWQgPSAncGFnZScsIGtleSA9ICdibG9jaycpID0+XG4gICAgICBgJHtwYWdlSWR9LSR7a2V5fS0ke0RhdGUubm93KCkudG9TdHJpbmcoMzYpfS0ke01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDApfWA7XG4gICAgY29uc3QgY3JlYXRlSW5pdGlhbEJsb2NrcyA9IChwYWdlSWQsIHRpdGxlKSA9PiBbXG4gICAgICBjcmVhdGVCbG9jayhcbiAgICAgICAgZ2VuZXJhdGVCbG9ja0lkKHBhZ2VJZCwgJ2ludHJvJyksXG4gICAgICAgICdJbnRyb2R1Y3Rpb24nLFxuICAgICAgICAnUGFyYWdyYXBoZScsXG4gICAgICAgICdCcm91aWxsb24nLFxuICAgICAgICBgUGFyYWdyYXBoZSBpbnRyb2R1Y3RpZiBwb3VyIFwiJHt0aXRsZX1cIi5gLFxuICAgICAgICBbeyBsYWJlbDogJ0xvbmd1ZXVyJywgdmFsdWU6ICcyIHBhcmFncmFwaGVzJyB9XSxcbiAgICAgICAge1xuICAgICAgICAgIHRpdGxlOiBgSW50cm9kdWN0aW9uIFx1MDBFMCAke3RpdGxlfWAsXG4gICAgICAgICAgY29udGVudDogJ0Fqb3V0ZXogdm90cmUgcHJlbWllciBwYXJhZ3JhcGhlIGRlIHByXHUwMEU5c2VudGF0aW9uLicsXG4gICAgICAgICAgYWxpZ246ICdsZWZ0JyxcbiAgICAgICAgfSxcbiAgICAgICksXG4gICAgICBjcmVhdGVCbG9jayhcbiAgICAgICAgZ2VuZXJhdGVCbG9ja0lkKHBhZ2VJZCwgJ2NvbnRlbnQnKSxcbiAgICAgICAgJ1pvbmUgZGUgY29udGVudScsXG4gICAgICAgICdHcm91cGUnLFxuICAgICAgICAnQnJvdWlsbG9uJyxcbiAgICAgICAgJ1NlY3Rpb24gcHJpbmNpcGFsZSBcdTAwRTAgY29tcG9zZXIgYXZlYyB0ZXh0ZXMgZXQgdmlzdWVscy4nLFxuICAgICAgICBbeyBsYWJlbDogJ0NvbG9ubmVzJywgdmFsdWU6ICdBdXRvJyB9XSxcbiAgICAgICAge1xuICAgICAgICAgIGxheW91dDogJ2dyaWQnLFxuICAgICAgICAgIGNvbHVtbnNNb2JpbGU6ICcxJyxcbiAgICAgICAgICBjb2x1bW5zRGVza3RvcDogJzInLFxuICAgICAgICAgIG1vYmlsZUxheW91dDogJ3N0YWNrJyxcbiAgICAgICAgfSxcbiAgICAgICksXG4gICAgXTtcbiAgICBjb25zdCBzZXRBY3RpdmVMYWJlbHMgPSAocGFnZSkgPT4ge1xuICAgICAgaWYgKGFjdGl2ZVRpdGxlKSB7XG4gICAgICAgIC8vIFVzZSBwYWdlLm5hbWUgKHNob3J0IG5hbWUpIGlmIGF2YWlsYWJsZSwgZmFsbGJhY2sgdG8gdGl0bGVcbiAgICAgICAgYWN0aXZlVGl0bGUudGV4dENvbnRlbnQgPSBwYWdlPy5uYW1lIHx8IHBhZ2U/LnRpdGxlIHx8ICdQYWdlJztcbiAgICAgIH1cbiAgICAgIGlmIChhY3RpdmVTbHVnKSB7XG4gICAgICAgIGFjdGl2ZVNsdWcudGV4dENvbnRlbnQgPSBwYWdlPy5zbHVnIHx8ICcvJztcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHJlbmRlclByZXZpZXdNZXRhID0gKHBhZ2UpID0+IHtcbiAgICAgIGlmICghcHJldmlld1RhZ3MpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcHJldmlld1RhZ3MuaW5uZXJIVE1MID0gJyc7XG4gICAgICBjb25zdCB0YWdzID1cbiAgICAgICAgcGFnZSAmJiBwYWdlLmJhZGdlcyAmJiBwYWdlLmJhZGdlcy5sZW5ndGggPiAwID8gcGFnZS5iYWRnZXMgOiBbJ1N0cnVjdHVyZSBlbiBjb3VycyddO1xuICAgICAgdGFncy5mb3JFYWNoKCh0YWcpID0+IHtcbiAgICAgICAgY29uc3QgYmFkZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgIGJhZGdlLmNsYXNzTmFtZSA9ICdyb3VuZGVkLWZ1bGwgYmctc2xhdGUtMTAwIHB4LTMgcHktMSc7XG4gICAgICAgIGJhZGdlLnRleHRDb250ZW50ID0gdGFnO1xuICAgICAgICBwcmV2aWV3VGFncy5hcHBlbmRDaGlsZChiYWRnZSk7XG4gICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IGdldFN0YXR1c0JhZGdlQ2xhc3NlcyA9IChzdGF0dXMpID0+IHtcbiAgICAgIHN3aXRjaCAoKHN0YXR1cyB8fCAnJykudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICBjYXNlICdlbiBsaWduZSc6XG4gICAgICAgICAgcmV0dXJuICdiZy1lbWVyYWxkLTUwIHRleHQtZW1lcmFsZC03MDAnO1xuICAgICAgICBjYXNlICdicm91aWxsb24nOlxuICAgICAgICAgIHJldHVybiAnYmctYW1iZXItNTAgdGV4dC1hbWJlci03MDAnO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiAnYmctc2xhdGUtMTAwIHRleHQtc2xhdGUtNjAwJztcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHJlbmRlckJsb2NrRGV0YWlscyA9IChibG9jaykgPT4ge1xuICAgICAgaWYgKCFibG9ja0RldGFpbEVtcHR5IHx8ICFibG9ja0VkaXRvcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWJsb2NrKSB7XG4gICAgICAgIGJsb2NrRGV0YWlsRW1wdHkuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIGJsb2NrRWRpdG9yLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBibG9ja0VkaXRvclVuc3VwcG9ydGVkPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgYmxvY2tGb3JtPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgYmxvY2tEZXRhaWxTdGF0dXM/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBibG9ja0RldGFpbEVtcHR5LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgYmxvY2tFZGl0b3IuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBpZiAoYmxvY2tEZXRhaWxTdGF0dXMpIHtcbiAgICAgICAgaWYgKGJsb2NrLnN0YXR1cykge1xuICAgICAgICAgIGJsb2NrRGV0YWlsU3RhdHVzLnRleHRDb250ZW50ID0gYmxvY2suc3RhdHVzO1xuICAgICAgICAgIGJsb2NrRGV0YWlsU3RhdHVzLmNsYXNzTmFtZSA9IGByb3VuZGVkLWZ1bGwgcHgtMyBweS0xIHRleHQteHMgZm9udC1zZW1pYm9sZCAke2dldFN0YXR1c0JhZGdlQ2xhc3NlcyhcbiAgICAgICAgICAgIGJsb2NrLnN0YXR1cyxcbiAgICAgICAgICApfWA7XG4gICAgICAgICAgYmxvY2tEZXRhaWxTdGF0dXMuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYmxvY2tEZXRhaWxTdGF0dXMuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHBvcHVsYXRlQmxvY2tGb3JtKGJsb2NrKTtcbiAgICB9O1xuICAgIGNvbnN0IGFwcGx5UHJldmlld0hpZ2hsaWdodCA9IChibG9ja0lkKSA9PiB7XG4gICAgICBpZiAoIXByZXZpZXdGcmFtZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBkb2MgPSBwcmV2aWV3RnJhbWUuY29udGVudERvY3VtZW50O1xuICAgICAgaWYgKCFkb2MpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3Qgbm9kZXMgPSBkb2MucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtcHJldmlldy1ibG9ja10nKTtcbiAgICAgIG5vZGVzLmZvckVhY2goKG5vZGUpID0+IHtcbiAgICAgICAgaWYgKG5vZGUuZGF0YXNldC5wcmV2aWV3QmxvY2sgPT09IGJsb2NrSWQpIHtcbiAgICAgICAgICBub2RlLmNsYXNzTGlzdC5hZGQoJ3ByZXZpZXctYmxvY2stYWN0aXZlJyk7XG4gICAgICAgICAgaWYgKHByZXZpZXdSZWFkeSAmJiBibG9ja0lkKSB7XG4gICAgICAgICAgICBub2RlLnNjcm9sbEludG9WaWV3KHsgYmVoYXZpb3I6ICdzbW9vdGgnLCBibG9jazogJ2NlbnRlcicsIGlubGluZTogJ25lYXJlc3QnIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBub2RlLmNsYXNzTGlzdC5yZW1vdmUoJ3ByZXZpZXctYmxvY2stYWN0aXZlJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKHByZXZpZXdIaWdobGlnaHRPdmVybGF5KSB7XG4gICAgICAgIHByZXZpZXdIaWdobGlnaHRPdmVybGF5LnN0eWxlLmJvcmRlckNvbG9yID0gYmxvY2tJZCA/ICdyZ2JhKDE1NiwgMTA3LCAyNTUsIDAuNSknIDogJ3RyYW5zcGFyZW50JztcbiAgICAgIH1cbiAgICB9O1xuICAgIC8vIEZvbmN0aW9uIHBvdXIgY3JcdTAwRTllciB1biBcdTAwRTlsXHUwMEU5bWVudCBkZSBibG9jICh1dGlsaXNcdTAwRTkgcG91ciBsZXMgYmxvY3MgZXQgbGVzIGVuZmFudHMgZGUgZ3JvdXBlKVxuICAgIGNvbnN0IGNyZWF0ZUJsb2NrSXRlbUVsZW1lbnQgPSAoYmxvY2ssIGlzTmVzdGVkID0gZmFsc2UsIHBhcmVudElkID0gbnVsbCkgPT4ge1xuICAgICAgY29uc3QgaXNBY3RpdmUgPSBibG9jay5pZCA9PT0gYWN0aXZlQmxvY2tJZDtcbiAgICAgIGNvbnN0IGJsb2NrVHlwZSA9IChibG9jay50eXBlIHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgY29uc3QgaXNHcm91cCA9IGJsb2NrVHlwZSA9PT0gJ2dyb3VwZScgfHwgYmxvY2tUeXBlID09PSAnZ3JvdXAnIHx8IGJsb2NrVHlwZSA9PT0gJ3NlY3Rpb25zJyB8fCBibG9ja1R5cGUgPT09ICdncmlkJztcbiAgICAgIFxuICAgICAgY29uc3QgaXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgaXRlbS5kYXRhc2V0LmJsb2NrSXRlbSA9ICd0cnVlJztcbiAgICAgIGl0ZW0uZGF0YXNldC5ibG9ja0lkID0gYmxvY2suaWQ7XG4gICAgICBpZiAocGFyZW50SWQpIGl0ZW0uZGF0YXNldC5wYXJlbnRCbG9ja0lkID0gcGFyZW50SWQ7XG4gICAgICBpZiAoaXNHcm91cCkgaXRlbS5kYXRhc2V0LmlzR3JvdXAgPSAndHJ1ZSc7XG4gICAgICBpdGVtLnNldEF0dHJpYnV0ZSgncm9sZScsICdvcHRpb24nKTtcbiAgICAgIGl0ZW0uc2V0QXR0cmlidXRlKCdhcmlhLXNlbGVjdGVkJywgaXNBY3RpdmUgPyAndHJ1ZScgOiAnZmFsc2UnKTtcbiAgICAgIGl0ZW0uc2V0QXR0cmlidXRlKCdkcmFnZ2FibGUnLCAndHJ1ZScpO1xuICAgICAgaXRlbS50YWJJbmRleCA9IDA7XG4gICAgICBpdGVtLmNsYXNzTmFtZSA9IFtcbiAgICAgICAgJ3JlbGF0aXZlIGZsZXggaXRlbXMtY2VudGVyIGdhcC0zIHJvdW5kZWQtMnhsIGJvcmRlciBweC0zIHB5LTIgdGV4dC1sZWZ0IHRyYW5zaXRpb24gZ3JvdXAnLFxuICAgICAgICBpc05lc3RlZCA/ICdtbC02IGJvcmRlci1kYXNoZWQnIDogJycsXG4gICAgICAgIGlzQWN0aXZlXG4gICAgICAgICAgPyAnYmctc2xhdGUtMTAwIGJvcmRlci1bIzlDNkJGRl0vNDAgc2hhZG93LXNtJ1xuICAgICAgICAgIDogJ2JvcmRlci1zbGF0ZS0yMDAgaG92ZXI6Ym9yZGVyLVsjOUM2QkZGXS80MCcsXG4gICAgICBdLmpvaW4oJyAnKTtcbiAgICAgIFxuICAgICAgY29uc3QgYWNjZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgYWNjZW50LmNsYXNzTmFtZSA9IGBhYnNvbHV0ZSBpbnNldC15LTIgbGVmdC0wIHctMSByb3VuZGVkLWZ1bGwgYmctWyM5QzZCRkZdICR7aXNBY3RpdmUgPyAnJyA6ICdoaWRkZW4nfWA7XG4gICAgICBpdGVtLmFwcGVuZENoaWxkKGFjY2VudCk7XG5cbiAgICAgIGNvbnN0IGNvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGNvbnRlbnQuY2xhc3NOYW1lID0gJ2ZsZXggZmxleC0xIGl0ZW1zLWNlbnRlciBnYXAtMyc7XG4gICAgICBcbiAgICAgIGNvbnN0IGhhbmRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgaGFuZGxlLmNsYXNzTmFtZSA9ICdoaWRkZW4gbGc6ZmxleCBjdXJzb3ItZ3JhYiBhY3RpdmU6Y3Vyc29yLWdyYWJiaW5nIGZsZXgtc2hyaW5rLTAgaXRlbXMtY2VudGVyIHRleHQtbGcgdGV4dC1zbGF0ZS00MDAgaG92ZXI6dGV4dC1zbGF0ZS02MDAgdHJhbnNpdGlvbi1jb2xvcnMgc2VsZWN0LW5vbmUnO1xuICAgICAgaGFuZGxlLmlubmVySFRNTCA9ICdcdTIyRUVcdTIyRUUnO1xuICAgICAgaGFuZGxlLnNldEF0dHJpYnV0ZSgndGl0bGUnLCAnR2xpc3NlciBwb3VyIHJcdTAwRTlvcmRvbm5lcicpO1xuICAgICAgY29udGVudC5hcHBlbmRDaGlsZChoYW5kbGUpO1xuXG4gICAgICBjb25zdCB0ZXh0V3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgdGV4dFdyYXBwZXIuY2xhc3NOYW1lID0gJ2ZsZXgtMSc7XG4gICAgICBcbiAgICAgIGNvbnN0IG1ldGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIG1ldGEuY2xhc3NOYW1lID0gJ2ZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHRleHQtWzExcHhdIHVwcGVyY2FzZSB0cmFja2luZy13aWRlIHRleHQtc2xhdGUtNTAwJztcbiAgICAgIFxuICAgICAgY29uc3QgdHlwZUJhZGdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgdHlwZUJhZGdlLmNsYXNzTmFtZSA9ICdyb3VuZGVkLWZ1bGwgYmctc2xhdGUtMTAwIHB4LTIgcHktMC41IHRleHQtWzEwcHhdIGZvbnQtc2VtaWJvbGQgdGV4dC1zbGF0ZS02MDAnO1xuICAgICAgdHlwZUJhZGdlLnRleHRDb250ZW50ID0gYmxvY2sudHlwZTtcbiAgICAgIFxuICAgICAgY29uc3Qgc3RhdHVzQmFkZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICBzdGF0dXNCYWRnZS5jbGFzc05hbWUgPSAndGV4dC1zbGF0ZS00MDAnO1xuICAgICAgc3RhdHVzQmFkZ2UudGV4dENvbnRlbnQgPSBibG9jay5zdGF0dXM7XG4gICAgICBcbiAgICAgIG1ldGEuYXBwZW5kQ2hpbGQodHlwZUJhZGdlKTtcbiAgICAgIGlmIChpc0dyb3VwKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkQ291bnQgPSAoYmxvY2suY2hpbGRyZW4gfHwgW10pLmxlbmd0aDtcbiAgICAgICAgY29uc3QgY2hpbGRCYWRnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgY2hpbGRCYWRnZS5jbGFzc05hbWUgPSAncm91bmRlZC1mdWxsIGJnLXZpb2xldC0xMDAgcHgtMiBweS0wLjUgdGV4dC1bMTBweF0gZm9udC1zZW1pYm9sZCB0ZXh0LXZpb2xldC02MDAnO1xuICAgICAgICBjaGlsZEJhZGdlLnRleHRDb250ZW50ID0gYCR7Y2hpbGRDb3VudH0gXHUwMEU5bFx1MDBFOW1lbnQke2NoaWxkQ291bnQgIT09IDEgPyAncycgOiAnJ31gO1xuICAgICAgICBtZXRhLmFwcGVuZENoaWxkKGNoaWxkQmFkZ2UpO1xuICAgICAgfVxuICAgICAgbWV0YS5hcHBlbmRDaGlsZChzdGF0dXNCYWRnZSk7XG4gICAgICBcbiAgICAgIGNvbnN0IHRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgICAgdGl0bGUuY2xhc3NOYW1lID0gJ210LTEgdGV4dC1zbSBmb250LXNlbWlib2xkIHRleHQtc2xhdGUtOTAwJztcbiAgICAgIGNvbnN0IGRpc3BsYXlMYWJlbCA9IChibG9jay5zZXR0aW5ncyAmJiBibG9jay5zZXR0aW5ncy50aXRsZSkgfHwgYmxvY2subGFiZWwgfHwgJ0Jsb2Mgc2FucyB0aXRyZSc7XG4gICAgICB0aXRsZS50ZXh0Q29udGVudCA9IGRpc3BsYXlMYWJlbDtcbiAgICAgIFxuICAgICAgdGV4dFdyYXBwZXIuYXBwZW5kQ2hpbGQobWV0YSk7XG4gICAgICB0ZXh0V3JhcHBlci5hcHBlbmRDaGlsZCh0aXRsZSk7XG4gICAgICBcbiAgICAgIGlmIChibG9ja1R5cGUgPT09ICdjb2xsZWN0aW9uZ3JpZCcgJiYgYmxvY2suY29sbGVjdGlvbklkKSB7XG4gICAgICAgIGNvbnN0IGNvbGxlY3Rpb25OYW1lID0gZGVzaWduQ29sbGVjdGlvbnMuZmluZCgoZW50cnkpID0+IGVudHJ5LmlkID09PSBibG9jay5jb2xsZWN0aW9uSWQpPy5uYW1lIHx8IGJsb2NrLmNvbGxlY3Rpb25JZDtcbiAgICAgICAgY29uc3QgaW5mbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICAgICAgaW5mby5jbGFzc05hbWUgPSAndGV4dC14cyB0ZXh0LXNsYXRlLTQwMCc7XG4gICAgICAgIGluZm8udGV4dENvbnRlbnQgPSBgQ29sbGVjdGlvbiA6ICR7Y29sbGVjdGlvbk5hbWV9YDtcbiAgICAgICAgdGV4dFdyYXBwZXIuYXBwZW5kQ2hpbGQoaW5mbyk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQodGV4dFdyYXBwZXIpO1xuICAgICAgaXRlbS5hcHBlbmRDaGlsZChjb250ZW50KTtcblxuICAgICAgY29uc3QgYWN0aW9ucyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgYWN0aW9ucy5jbGFzc05hbWUgPSAnZmxleCBmbGV4LWNvbCBnYXAtMSB0ZXh0LXhzIHRleHQtc2xhdGUtNDAwJztcblxuICAgICAgY29uc3QgbW92ZUJ1dHRvbnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIG1vdmVCdXR0b25zLmNsYXNzTmFtZSA9ICdmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMSBsZzpoaWRkZW4nO1xuICAgICAgY29uc3QgbW92ZVVwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICBtb3ZlVXAudHlwZSA9ICdidXR0b24nO1xuICAgICAgbW92ZVVwLmNsYXNzTmFtZSA9ICdyb3VuZGVkLWxnIGJvcmRlciBib3JkZXItc2xhdGUtMjAwIHB4LTIgcHktMSB0ZXh0LVsxMXB4XSBmb250LXNlbWlib2xkIHRleHQtc2xhdGUtNTAwJztcbiAgICAgIG1vdmVVcC50ZXh0Q29udGVudCA9ICdcdTIxOTEnO1xuICAgICAgbW92ZVVwLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBpZiAocGFyZW50SWQpIHtcbiAgICAgICAgICBtb3ZlQ2hpbGRCbG9ja0J5T2Zmc2V0KHBhcmVudElkLCBibG9jay5pZCwgLTEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1vdmVCbG9ja0J5T2Zmc2V0KGJsb2NrLmlkLCAtMSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgY29uc3QgbW92ZURvd24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgIG1vdmVEb3duLnR5cGUgPSAnYnV0dG9uJztcbiAgICAgIG1vdmVEb3duLmNsYXNzTmFtZSA9ICdyb3VuZGVkLWxnIGJvcmRlciBib3JkZXItc2xhdGUtMjAwIHB4LTIgcHktMSB0ZXh0LVsxMXB4XSBmb250LXNlbWlib2xkIHRleHQtc2xhdGUtNTAwJztcbiAgICAgIG1vdmVEb3duLnRleHRDb250ZW50ID0gJ1x1MjE5Myc7XG4gICAgICBtb3ZlRG93bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgaWYgKHBhcmVudElkKSB7XG4gICAgICAgICAgbW92ZUNoaWxkQmxvY2tCeU9mZnNldChwYXJlbnRJZCwgYmxvY2suaWQsIDEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1vdmVCbG9ja0J5T2Zmc2V0KGJsb2NrLmlkLCAxKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBtb3ZlQnV0dG9ucy5hcHBlbmRDaGlsZChtb3ZlVXApO1xuICAgICAgbW92ZUJ1dHRvbnMuYXBwZW5kQ2hpbGQobW92ZURvd24pO1xuICAgICAgYWN0aW9ucy5hcHBlbmRDaGlsZChtb3ZlQnV0dG9ucyk7XG5cbiAgICAgIGNvbnN0IGRlbGV0ZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgZGVsZXRlQnV0dG9uLnR5cGUgPSAnYnV0dG9uJztcbiAgICAgIGRlbGV0ZUJ1dHRvbi5jbGFzc05hbWUgPSAnaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci10cmFuc3BhcmVudCBweC0yIHB5LTEgdGV4dC1bMTJweF0gdGV4dC1yb3NlLTUwMCBob3Zlcjp0ZXh0LXJvc2UtNzAwJztcbiAgICAgIGRlbGV0ZUJ1dHRvbi5pbm5lckhUTUwgPSAnXHVEODNEXHVEREQxXHVGRTBGJztcbiAgICAgIGRlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgaWYgKHBhcmVudElkKSB7XG4gICAgICAgICAgcmVtb3ZlQ2hpbGRGcm9tR3JvdXAocGFyZW50SWQsIGJsb2NrLmlkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvcGVuQmxvY2tEZWxldGVNb2RhbChibG9jay5pZCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBhY3Rpb25zLmFwcGVuZENoaWxkKGRlbGV0ZUJ1dHRvbik7XG4gICAgICBpdGVtLmFwcGVuZENoaWxkKGFjdGlvbnMpO1xuXG4gICAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBzZXRBY3RpdmVCbG9jayhibG9jay5pZCwgcGFyZW50SWQpO1xuICAgICAgfSk7XG4gICAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZlbnQpID0+IHtcbiAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VudGVyJyB8fCBldmVudC5rZXkgPT09ICcgJykge1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgc2V0QWN0aXZlQmxvY2soYmxvY2suaWQsIHBhcmVudElkKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIHJldHVybiB7IGl0ZW0sIGlzR3JvdXAsIGJsb2NrIH07XG4gICAgfTtcbiAgICBcbiAgICAvLyBGb25jdGlvbiBwb3VyIGNyXHUwMEU5ZXIgbGEgem9uZSBkZSBkcm9wIHBvdXIgdW4gZ3JvdXBlXG4gICAgY29uc3QgY3JlYXRlR3JvdXBEcm9wWm9uZSA9IChwYXJlbnRCbG9jaykgPT4ge1xuICAgICAgY29uc3QgZHJvcFpvbmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGRyb3Bab25lLmRhdGFzZXQuZ3JvdXBEcm9wWm9uZSA9IHBhcmVudEJsb2NrLmlkO1xuICAgICAgZHJvcFpvbmUuY2xhc3NOYW1lID0gJ21sLTYgYm9yZGVyLTIgYm9yZGVyLWRhc2hlZCBib3JkZXItc2xhdGUtMjAwIHJvdW5kZWQteGwgcC0zIHRleHQtY2VudGVyIHRleHQteHMgdGV4dC1zbGF0ZS00MDAgaG92ZXI6Ym9yZGVyLXZpb2xldC0zMDAgaG92ZXI6YmctdmlvbGV0LTUwLzUwIHRyYW5zaXRpb24tY29sb3JzIGN1cnNvci1wb2ludGVyJztcbiAgICAgIGRyb3Bab25lLmlubmVySFRNTCA9ICc8c3BhbiBjbGFzcz1cInBvaW50ZXItZXZlbnRzLW5vbmVcIj5cdUQ4M0RcdURDRTYgR2xpc3NleiB1biBibG9jIGljaSBvdSBjbGlxdWV6IHBvdXIgYWpvdXRlcjwvc3Bhbj4nO1xuICAgICAgXG4gICAgICAvLyBcdTAwQzl2XHUwMEU5bmVtZW50cyBkZSBkcmFnICYgZHJvcFxuICAgICAgZHJvcFpvbmUuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ292ZXInLCAoZSkgPT4ge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGRyb3Bab25lLmNsYXNzTGlzdC5hZGQoJ2JvcmRlci12aW9sZXQtNDAwJywgJ2JnLXZpb2xldC01MCcpO1xuICAgICAgfSk7XG4gICAgICBkcm9wWm9uZS5hZGRFdmVudExpc3RlbmVyKCdkcmFnbGVhdmUnLCAoZSkgPT4ge1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBkcm9wWm9uZS5jbGFzc0xpc3QucmVtb3ZlKCdib3JkZXItdmlvbGV0LTQwMCcsICdiZy12aW9sZXQtNTAnKTtcbiAgICAgIH0pO1xuICAgICAgZHJvcFpvbmUuYWRkRXZlbnRMaXN0ZW5lcignZHJvcCcsIChlKSA9PiB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgZHJvcFpvbmUuY2xhc3NMaXN0LnJlbW92ZSgnYm9yZGVyLXZpb2xldC00MDAnLCAnYmctdmlvbGV0LTUwJyk7XG4gICAgICAgIGNvbnN0IGJsb2NrSWQgPSBlLmRhdGFUcmFuc2Zlci5nZXREYXRhKCd0ZXh0L3BsYWluJyk7XG4gICAgICAgIGlmIChibG9ja0lkICYmIGJsb2NrSWQgIT09IHBhcmVudEJsb2NrLmlkKSB7XG4gICAgICAgICAgbW92ZUJsb2NrVG9Hcm91cChibG9ja0lkLCBwYXJlbnRCbG9jay5pZCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBDbGljIHBvdXIgYWpvdXRlciB1biBibG9jIGF1IGdyb3VwZVxuICAgICAgZHJvcFpvbmUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIG9wZW5BZGRCbG9ja1RvR3JvdXBNb2RhbChwYXJlbnRCbG9jay5pZCk7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgcmV0dXJuIGRyb3Bab25lO1xuICAgIH07XG5cbiAgICBjb25zdCByZW5kZXJCbG9ja0xpc3QgPSAocGFnZSkgPT4ge1xuICAgICAgaWYgKCFibG9ja0xpc3QpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYmxvY2tMaXN0LmlubmVySFRNTCA9ICcnO1xuICAgICAgY29uc3QgYmxvY2tzID0gcGFnZT8uYmxvY2tzIHx8IFtdO1xuICAgICAgaWYgKGJsb2NrQ291bnRCYWRnZSkge1xuICAgICAgICBibG9ja0NvdW50QmFkZ2UudGV4dENvbnRlbnQgPSBmb3JtYXRCbG9ja0NvdW50KGJsb2Nrcy5sZW5ndGgpO1xuICAgICAgfVxuICAgICAgaWYgKGJsb2Nrcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgYmxvY2tMaXN0LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBibG9ja0xpc3RFbXB0eT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGJsb2NrTGlzdC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGJsb2NrTGlzdEVtcHR5Py5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIFxuICAgICAgYmxvY2tzLmZvckVhY2goKGJsb2NrKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgaXRlbSwgaXNHcm91cCB9ID0gY3JlYXRlQmxvY2tJdGVtRWxlbWVudChibG9jaywgZmFsc2UsIG51bGwpO1xuICAgICAgICBibG9ja0xpc3QuYXBwZW5kQ2hpbGQoaXRlbSk7XG4gICAgICAgIFxuICAgICAgICAvLyBTaSBjJ2VzdCB1biBncm91cGUsIGFmZmljaGVyIGxlcyBlbmZhbnRzIGV0IGxhIHpvbmUgZGUgZHJvcFxuICAgICAgICBpZiAoaXNHcm91cCkge1xuICAgICAgICAgIGNvbnN0IGNoaWxkcmVuID0gYmxvY2suY2hpbGRyZW4gfHwgW107XG4gICAgICAgICAgY2hpbGRyZW4uZm9yRWFjaCgoY2hpbGQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgaXRlbTogY2hpbGRJdGVtIH0gPSBjcmVhdGVCbG9ja0l0ZW1FbGVtZW50KGNoaWxkLCB0cnVlLCBibG9jay5pZCk7XG4gICAgICAgICAgICBibG9ja0xpc3QuYXBwZW5kQ2hpbGQoY2hpbGRJdGVtKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICAvLyBab25lIGRlIGRyb3AgcG91ciBham91dGVyIGRlcyBibG9jcyBhdSBncm91cGVcbiAgICAgICAgICBjb25zdCBkcm9wWm9uZSA9IGNyZWF0ZUdyb3VwRHJvcFpvbmUoYmxvY2spO1xuICAgICAgICAgIGJsb2NrTGlzdC5hcHBlbmRDaGlsZChkcm9wWm9uZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG4gICAgXG4gICAgLy8gRm9uY3Rpb25zIHBvdXIgZ1x1MDBFOXJlciBsZXMgZW5mYW50cyBkZXMgZ3JvdXBlc1xuICAgIGNvbnN0IG1vdmVCbG9ja1RvR3JvdXAgPSAoYmxvY2tJZCwgZ3JvdXBJZCkgPT4ge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSkgcmV0dXJuO1xuICAgICAgY29uc3QgYmxvY2tJbmRleCA9IGN1cnJlbnRQYWdlLmJsb2Nrcy5maW5kSW5kZXgoKGIpID0+IGIuaWQgPT09IGJsb2NrSWQpO1xuICAgICAgY29uc3QgZ3JvdXBCbG9jayA9IGN1cnJlbnRQYWdlLmJsb2Nrcy5maW5kKChiKSA9PiBiLmlkID09PSBncm91cElkKTtcbiAgICAgIGlmIChibG9ja0luZGV4ID09PSAtMSB8fCAhZ3JvdXBCbG9jaykgcmV0dXJuO1xuICAgICAgXG4gICAgICAvLyBOZSBwYXMgcGVybWV0dHJlIGRlIGRcdTAwRTlwbGFjZXIgdW4gZ3JvdXBlIGRhbnMgdW4gZ3JvdXBlXG4gICAgICBjb25zdCBibG9jayA9IGN1cnJlbnRQYWdlLmJsb2Nrc1tibG9ja0luZGV4XTtcbiAgICAgIGNvbnN0IGJsb2NrVHlwZSA9IChibG9jay50eXBlIHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgaWYgKGJsb2NrVHlwZSA9PT0gJ2dyb3VwZScgfHwgYmxvY2tUeXBlID09PSAnZ3JvdXAnKSB7XG4gICAgICAgIHNob3dUb2FzdCgnSW1wb3NzaWJsZSBkXFwnaW1icmlxdWVyIGRlcyBncm91cGVzJywgJ2Vycm9yJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gUmV0aXJlciBsZSBibG9jIGRlIGxhIGxpc3RlIHByaW5jaXBhbGVcbiAgICAgIGNvbnN0IFttb3ZlZEJsb2NrXSA9IGN1cnJlbnRQYWdlLmJsb2Nrcy5zcGxpY2UoYmxvY2tJbmRleCwgMSk7XG4gICAgICBcbiAgICAgIC8vIEFqb3V0ZXIgYXUgZ3JvdXBlXG4gICAgICBpZiAoIWdyb3VwQmxvY2suY2hpbGRyZW4pIGdyb3VwQmxvY2suY2hpbGRyZW4gPSBbXTtcbiAgICAgIGdyb3VwQmxvY2suY2hpbGRyZW4ucHVzaChtb3ZlZEJsb2NrKTtcbiAgICAgIFxuICAgICAgcmVuZGVyQmxvY2tMaXN0KGN1cnJlbnRQYWdlKTtcbiAgICAgIHNhdmVQYWdlQmxvY2tzKCk7XG4gICAgICBzaG93VG9hc3QoYEJsb2MgYWpvdXRcdTAwRTkgYXUgZ3JvdXBlYCk7XG4gICAgfTtcbiAgICBcbiAgICBjb25zdCByZW1vdmVDaGlsZEZyb21Hcm91cCA9IChncm91cElkLCBjaGlsZElkKSA9PiB7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlKSByZXR1cm47XG4gICAgICBjb25zdCBncm91cEJsb2NrID0gY3VycmVudFBhZ2UuYmxvY2tzLmZpbmQoKGIpID0+IGIuaWQgPT09IGdyb3VwSWQpO1xuICAgICAgaWYgKCFncm91cEJsb2NrIHx8ICFncm91cEJsb2NrLmNoaWxkcmVuKSByZXR1cm47XG4gICAgICBcbiAgICAgIGNvbnN0IGNoaWxkSW5kZXggPSBncm91cEJsb2NrLmNoaWxkcmVuLmZpbmRJbmRleCgoYykgPT4gYy5pZCA9PT0gY2hpbGRJZCk7XG4gICAgICBpZiAoY2hpbGRJbmRleCA9PT0gLTEpIHJldHVybjtcbiAgICAgIFxuICAgICAgLy8gUmV0aXJlciBsJ2VuZmFudCBkdSBncm91cGUgZXQgbGUgcmVtZXR0cmUgZGFucyBsYSBsaXN0ZSBwcmluY2lwYWxlIGFwclx1MDBFOHMgbGUgZ3JvdXBlXG4gICAgICBjb25zdCBbY2hpbGRdID0gZ3JvdXBCbG9jay5jaGlsZHJlbi5zcGxpY2UoY2hpbGRJbmRleCwgMSk7XG4gICAgICBjb25zdCBncm91cEluZGV4ID0gY3VycmVudFBhZ2UuYmxvY2tzLmZpbmRJbmRleCgoYikgPT4gYi5pZCA9PT0gZ3JvdXBJZCk7XG4gICAgICBjdXJyZW50UGFnZS5ibG9ja3Muc3BsaWNlKGdyb3VwSW5kZXggKyAxLCAwLCBjaGlsZCk7XG4gICAgICBcbiAgICAgIHJlbmRlckJsb2NrTGlzdChjdXJyZW50UGFnZSk7XG4gICAgICBzYXZlUGFnZUJsb2NrcygpO1xuICAgICAgc2hvd1RvYXN0KGBCbG9jIHNvcnRpIGR1IGdyb3VwZWApO1xuICAgIH07XG4gICAgXG4gICAgY29uc3QgbW92ZUNoaWxkQmxvY2tCeU9mZnNldCA9IChncm91cElkLCBjaGlsZElkLCBvZmZzZXQpID0+IHtcbiAgICAgIGlmICghY3VycmVudFBhZ2UpIHJldHVybjtcbiAgICAgIGNvbnN0IGdyb3VwQmxvY2sgPSBjdXJyZW50UGFnZS5ibG9ja3MuZmluZCgoYikgPT4gYi5pZCA9PT0gZ3JvdXBJZCk7XG4gICAgICBpZiAoIWdyb3VwQmxvY2sgfHwgIWdyb3VwQmxvY2suY2hpbGRyZW4pIHJldHVybjtcbiAgICAgIFxuICAgICAgY29uc3QgY3VycmVudEluZGV4ID0gZ3JvdXBCbG9jay5jaGlsZHJlbi5maW5kSW5kZXgoKGMpID0+IGMuaWQgPT09IGNoaWxkSWQpO1xuICAgICAgaWYgKGN1cnJlbnRJbmRleCA9PT0gLTEpIHJldHVybjtcbiAgICAgIFxuICAgICAgY29uc3QgbmV3SW5kZXggPSBjdXJyZW50SW5kZXggKyBvZmZzZXQ7XG4gICAgICBpZiAobmV3SW5kZXggPCAwIHx8IG5ld0luZGV4ID49IGdyb3VwQmxvY2suY2hpbGRyZW4ubGVuZ3RoKSByZXR1cm47XG4gICAgICBcbiAgICAgIGNvbnN0IFtjaGlsZF0gPSBncm91cEJsb2NrLmNoaWxkcmVuLnNwbGljZShjdXJyZW50SW5kZXgsIDEpO1xuICAgICAgZ3JvdXBCbG9jay5jaGlsZHJlbi5zcGxpY2UobmV3SW5kZXgsIDAsIGNoaWxkKTtcbiAgICAgIFxuICAgICAgcmVuZGVyQmxvY2tMaXN0KGN1cnJlbnRQYWdlKTtcbiAgICAgIHNhdmVQYWdlQmxvY2tzKCk7XG4gICAgfTtcbiAgICBcbiAgICBjb25zdCBvcGVuQWRkQmxvY2tUb0dyb3VwTW9kYWwgPSAoZ3JvdXBJZCkgPT4ge1xuICAgICAgLy8gVXRpbGlzZXIgbGUgbVx1MDBFQW1lIG1vZGFsIGQnYWpvdXQgZGUgYmxvYywgbWFpcyBhdmVjIGxlIGNvbnRleHRlIGR1IGdyb3VwZVxuICAgICAgcGVuZGluZ0dyb3VwSWRGb3JOZXdCbG9jayA9IGdyb3VwSWQ7XG4gICAgICBvcGVuQmxvY2tQaWNrZXIoKTtcbiAgICB9O1xuICAgIFxuICAgIGxldCBwZW5kaW5nR3JvdXBJZEZvck5ld0Jsb2NrID0gbnVsbDtcblxuICAgIC8vID09PSBEZWxldGUgcGFnZSBoYW5kbGVycyAoZGVmaW5lZCBiZWZvcmUgcmVuZGVyUGFnZUxpc3RzKSA9PT1cbiAgICBjb25zdCBvcGVuRGVsZXRlUGFnZU1vZGFsID0gKHBhZ2UpID0+IHtcbiAgICAgIGlmICghZGVsZXRlUGFnZU1vZGFsIHx8ICFwYWdlKSByZXR1cm47XG4gICAgICBwYWdlVG9EZWxldGUgPSBwYWdlO1xuICAgICAgaWYgKGRlbGV0ZVBhZ2VOYW1lKSBkZWxldGVQYWdlTmFtZS50ZXh0Q29udGVudCA9IHBhZ2UudGl0bGUgfHwgcGFnZS5pZDtcbiAgICAgIGRlbGV0ZVBhZ2VNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGRlbGV0ZVBhZ2VNb2RhbC5jbGFzc0xpc3QuYWRkKCdmbGV4Jyk7XG4gICAgICBhY3RpdmF0ZU1vZGFsKGRlbGV0ZVBhZ2VNb2RhbCwgY2xvc2VEZWxldGVQYWdlTW9kYWwpO1xuICAgIH07XG4gICAgY29uc3QgY2xvc2VEZWxldGVQYWdlTW9kYWwgPSAoKSA9PiB7XG4gICAgICBpZiAoIWRlbGV0ZVBhZ2VNb2RhbCkgcmV0dXJuO1xuICAgICAgZGVsZXRlUGFnZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgZGVsZXRlUGFnZU1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2ZsZXgnKTtcbiAgICAgIHBhZ2VUb0RlbGV0ZSA9IG51bGw7XG4gICAgICBkZWFjdGl2YXRlTW9kYWwoZGVsZXRlUGFnZU1vZGFsKTtcbiAgICB9O1xuICAgIGNvbnN0IGV4ZWN1dGVEZWxldGVQYWdlID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFwYWdlc0FwaUJhc2UgfHwgIXBhZ2VUb0RlbGV0ZSkgcmV0dXJuO1xuICAgICAgY29uc3QgcGFnZUlkID0gcGFnZVRvRGVsZXRlLmlkO1xuICAgICAgY29uc3QgcGFnZVRpdGxlID0gcGFnZVRvRGVsZXRlLnRpdGxlIHx8IHBhZ2VJZDtcbiAgICAgIGlmIChkZWxldGVQYWdlQ29uZmlybSkge1xuICAgICAgICBkZWxldGVQYWdlQ29uZmlybS5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIGRlbGV0ZVBhZ2VDb25maXJtLnRleHRDb250ZW50ID0gJ1N1cHByZXNzaW9uLi4uJztcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7cGFnZXNBcGlCYXNlfS8ke2VuY29kZVVSSUNvbXBvbmVudChwYWdlSWQpfWAsIHtcbiAgICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZScsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzdWx0Lm1lc3NhZ2UgfHwgJ0VycmV1ciBzZXJ2ZXVyJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU3VwcHJpbWVyIGRlIGxhIGxpc3RlIGxvY2FsZVxuICAgICAgICBwYWdlcyA9IHBhZ2VzLmZpbHRlcigocCkgPT4gcC5pZCAhPT0gcGFnZUlkKTtcbiAgICAgICAgLy8gU2kgbGEgcGFnZSBzdXBwcmltXHUwMEU5ZSBcdTAwRTl0YWl0IGFjdGl2ZSwgc1x1MDBFOWxlY3Rpb25uZXIgbGEgcHJlbWlcdTAwRThyZVxuICAgICAgICBpZiAoYWN0aXZlUGFnZUlkID09PSBwYWdlSWQpIHtcbiAgICAgICAgICBpZiAocGFnZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgc2V0QWN0aXZlUGFnZShwYWdlc1swXS5pZCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFjdGl2ZVBhZ2VJZCA9IG51bGw7XG4gICAgICAgICAgICBjdXJyZW50UGFnZSA9IG51bGw7XG4gICAgICAgICAgICByZW5kZXJQYWdlTGlzdHMocGFnZXMsIG51bGwpO1xuICAgICAgICAgICAgcmVuZGVyQmxvY2tMaXN0KG51bGwpO1xuICAgICAgICAgICAgYmxvY2tEZXRhaWxFbXB0eT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgICBibG9ja0VkaXRvcj8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgICAgICBwcmV2aWV3RnJhbWUgJiYgKHByZXZpZXdGcmFtZS5zcmNkb2MgPSBnZXRMb2FkaW5nUHJldmlld0h0bWwoKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlbmRlclBhZ2VMaXN0cyhwYWdlcywgYWN0aXZlUGFnZUlkKTtcbiAgICAgICAgfVxuICAgICAgICBjbG9zZURlbGV0ZVBhZ2VNb2RhbCgpO1xuICAgICAgICBzaG93VG9hc3QoYFBhZ2UgXCIke3BhZ2VUaXRsZX1cIiBzdXBwcmltXHUwMEU5ZWApO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1twYWdlc10gZGVsZXRlIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnRXJyZXVyIHN1cHByZXNzaW9uJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoZGVsZXRlUGFnZUNvbmZpcm0pIHtcbiAgICAgICAgICBkZWxldGVQYWdlQ29uZmlybS5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgIGRlbGV0ZVBhZ2VDb25maXJtLnRleHRDb250ZW50ID0gJ1N1cHByaW1lcic7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgcmVuZGVyUGFnZUxpc3RzID0gKHBhZ2VzLCBhY3RpdmVJZCkgPT4ge1xuICAgICAgcGFnZUxpc3RzLmZvckVhY2goKGxpc3QpID0+IHtcbiAgICAgICAgbGlzdC5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgcGFnZXMuZm9yRWFjaCgocGFnZSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgICAgIGl0ZW0uY2xhc3NOYW1lID0gJ2ZsZXggaXRlbXMtY2VudGVyIGdhcC0xJztcbiAgICAgICAgICBjb25zdCBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgICBidXR0b24udHlwZSA9ICdidXR0b24nO1xuICAgICAgICAgIGJ1dHRvbi5kYXRhc2V0LnBhZ2VJZCA9IHBhZ2UuaWQ7XG4gICAgICAgICAgYnV0dG9uLmNsYXNzTmFtZSA9IFtcbiAgICAgICAgICAgICdmbGV4LTEgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTMgcHgtMyBweS0yIHRleHQtbGVmdCB0cmFuc2l0aW9uJyxcbiAgICAgICAgICAgIGFjdGl2ZUlkID09PSBwYWdlLmlkXG4gICAgICAgICAgICAgID8gJ2JnLVsjOUM2QkZGXS8xMCB0ZXh0LXNsYXRlLTkwMCBib3JkZXIgYm9yZGVyLVsjOUM2QkZGXS80MCByb3VuZGVkLXhsIHNoYWRvdy1zbSdcbiAgICAgICAgICAgICAgOiAndGV4dC1zbGF0ZS03MDAgaG92ZXI6Ymctc2xhdGUtNTAgcm91bmRlZC14bCcsXG4gICAgICAgICAgXS5qb2luKCcgJyk7XG4gICAgICAgICAgaWYgKGFjdGl2ZUlkID09PSBwYWdlLmlkKSB7XG4gICAgICAgICAgICBidXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLWN1cnJlbnQnLCAncGFnZScpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBidXR0b24ucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWN1cnJlbnQnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gVXNlIHBhZ2UubmFtZSAoc2hvcnQgbmFtZSkgaWYgYXZhaWxhYmxlLCBmYWxsYmFjayB0byB0aXRsZVxuICAgICAgICAgIGNvbnN0IGRpc3BsYXlOYW1lID0gcGFnZS5uYW1lIHx8IHBhZ2UudGl0bGU7XG4gICAgICAgICAgY29uc3QgaXNIaWRkZW5Gcm9tTmF2ID0gcGFnZS5hY2Nlc3NpYmlsaXR5Py5zaG93SW5NYWluTmF2ID09PSBmYWxzZTtcbiAgICAgICAgICBjb25zdCBuYXZCYWRnZSA9IGlzSGlkZGVuRnJvbU5hdlxuICAgICAgICAgICAgPyAnPHNwYW4gY2xhc3M9XCJ0ZXh0LVsxMHB4XSBmb250LXNlbWlib2xkIHRleHQtYW1iZXItNjAwXCI+TWFzcXVcdTAwRTkgZHUgbWVudTwvc3Bhbj4nXG4gICAgICAgICAgICA6ICcnO1xuICAgICAgICAgIGJ1dHRvbi5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cImZsZXggaC05IHctOSBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcm91bmRlZC14bCBib3JkZXIgYm9yZGVyLXNsYXRlLTIwMCBiZy13aGl0ZSB0ZXh0LXNsYXRlLTUwMFwiPlxuICAgICAgICAgICAgICA8c3ZnIHdpZHRoPVwiMThcIiBoZWlnaHQ9XCIxOFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPlxuICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNNi41IDQuNWg3bDQgNHYxMWExIDEgMCAwIDEtMSAxaC0xMGExIDEgMCAwIDEtMS0xdi0xNGExIDEgMCAwIDEgMS0xWlwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjEuNFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIvPlxuICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMTMuNSA0LjV2NGExIDEgMCAwIDAgMSAxaDNcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIxLjRcIi8+XG4gICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXNtIGZvbnQtc2VtaWJvbGRcIj4ke2Rpc3BsYXlOYW1lfTwvc3Bhbj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNTAwXCI+JHtwYWdlLnNsdWd9PC9zcGFuPlxuICAgICAgICAgICAgICAke25hdkJhZGdlfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgYDtcbiAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICBzZXRBY3RpdmVQYWdlKHBhZ2UuaWQpO1xuICAgICAgICAgICAgaWYgKCFpc0Rlc2t0b3BEcmF3ZXIoKSkge1xuICAgICAgICAgICAgICBjbG9zZURyYXdlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGl0ZW0uYXBwZW5kQ2hpbGQoYnV0dG9uKTtcbiAgICAgICAgICAvLyBCb3V0b24gZGUgc3VwcHJlc3Npb25cbiAgICAgICAgICBjb25zdCBkZWxldGVCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgICBkZWxldGVCdG4udHlwZSA9ICdidXR0b24nO1xuICAgICAgICAgIGRlbGV0ZUJ0bi5jbGFzc05hbWUgPSAnZmxleC1zaHJpbmstMCBwLTIgdGV4dC1zbGF0ZS00MDAgaG92ZXI6dGV4dC1yb3NlLTYwMCBob3ZlcjpiZy1yb3NlLTUwIHJvdW5kZWQtbGcgdHJhbnNpdGlvbic7XG4gICAgICAgICAgZGVsZXRlQnRuLnRpdGxlID0gJ1N1cHByaW1lciBjZXR0ZSBwYWdlJztcbiAgICAgICAgICBkZWxldGVCdG4uc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgYFN1cHByaW1lciAke2Rpc3BsYXlOYW1lfWApO1xuICAgICAgICAgIGRlbGV0ZUJ0bi5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICA8c3ZnIHdpZHRoPVwiMTZcIiBoZWlnaHQ9XCIxNlwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIj5cbiAgICAgICAgICAgICAgPHBhdGggZD1cIk0zIDZoMThNOCA2VjRhMiAyIDAgMCAxIDItMmg0YTIgMiAwIDAgMSAyIDJ2Mm0zIDB2MTRhMiAyIDAgMCAxLTIgMkg3YTIgMiAwIDAgMS0yLTJWNmgxNFpNMTAgMTF2Nk0xNCAxMXY2XCIvPlxuICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgYDtcbiAgICAgICAgICBkZWxldGVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIG9wZW5EZWxldGVQYWdlTW9kYWwocGFnZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaXRlbS5hcHBlbmRDaGlsZChkZWxldGVCdG4pO1xuICAgICAgICAgIGxpc3QuYXBwZW5kQ2hpbGQoaXRlbSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICBjb25zdCBnZXRBY3RpdmVCbG9jayA9ICgpID0+IHtcbiAgICAgIGlmICghY3VycmVudFBhZ2UgfHwgIUFycmF5LmlzQXJyYXkoY3VycmVudFBhZ2UuYmxvY2tzKSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIC8vIENoZXJjaGVyIGxlIGJsb2MgZGFucyBsYSBsaXN0ZSBwcmluY2lwYWxlIG91IGRhbnMgbGVzIGVuZmFudHMgZGVzIGdyb3VwZXNcbiAgICAgIGxldCBibG9jayA9IGN1cnJlbnRQYWdlLmJsb2Nrcy5maW5kKChibG9jaykgPT4gYmxvY2suaWQgPT09IGFjdGl2ZUJsb2NrSWQpO1xuICAgICAgaWYgKCFibG9jaykge1xuICAgICAgICBmb3IgKGNvbnN0IGIgb2YgY3VycmVudFBhZ2UuYmxvY2tzKSB7XG4gICAgICAgICAgaWYgKGIuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGJsb2NrID0gYi5jaGlsZHJlbi5maW5kKChjaGlsZCkgPT4gY2hpbGQuaWQgPT09IGFjdGl2ZUJsb2NrSWQpO1xuICAgICAgICAgICAgaWYgKGJsb2NrKSBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBibG9jayB8fCBudWxsO1xuICAgIH07XG4gICAgXG4gICAgLy8gVmFyaWFibGUgcG91ciBzdG9ja2VyIGxlIHBhcmVudCBkdSBibG9jIGFjdGlmIChzaSBjJ2VzdCB1biBlbmZhbnQgZGUgZ3JvdXBlKVxuICAgIGxldCBhY3RpdmVCbG9ja1BhcmVudElkID0gbnVsbDtcbiAgICBcbiAgICBjb25zdCBzZXRBY3RpdmVCbG9jayA9IChibG9ja0lkLCBwYXJlbnRJZCA9IG51bGwpID0+IHtcbiAgICAgIGlmICghY3VycmVudFBhZ2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFibG9ja0lkKSB7XG4gICAgICAgIGFjdGl2ZUJsb2NrSWQgPSBudWxsO1xuICAgICAgICBhY3RpdmVCbG9ja1BhcmVudElkID0gbnVsbDtcbiAgICAgICAgcmVuZGVyQmxvY2tMaXN0KGN1cnJlbnRQYWdlKTtcbiAgICAgICAgcmVuZGVyQmxvY2tEZXRhaWxzKG51bGwpO1xuICAgICAgICBhcHBseVByZXZpZXdIaWdobGlnaHQobnVsbCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgbGV0IHRhcmdldEJsb2NrID0gbnVsbDtcbiAgICAgIFxuICAgICAgLy8gQ2hlcmNoZXIgZGFucyBsZXMgYmxvY3MgcHJpbmNpcGF1eFxuICAgICAgdGFyZ2V0QmxvY2sgPSBjdXJyZW50UGFnZS5ibG9ja3MuZmluZCgoYmxvY2spID0+IGJsb2NrLmlkID09PSBibG9ja0lkKTtcbiAgICAgIFxuICAgICAgLy8gU2kgcGFzIHRyb3V2XHUwMEU5IGV0IHF1J29uIGEgdW4gcGFyZW50SWQsIGNoZXJjaGVyIGRhbnMgbGVzIGVuZmFudHMgZHUgcGFyZW50XG4gICAgICBpZiAoIXRhcmdldEJsb2NrICYmIHBhcmVudElkKSB7XG4gICAgICAgIGNvbnN0IHBhcmVudEJsb2NrID0gY3VycmVudFBhZ2UuYmxvY2tzLmZpbmQoKGIpID0+IGIuaWQgPT09IHBhcmVudElkKTtcbiAgICAgICAgaWYgKHBhcmVudEJsb2NrICYmIHBhcmVudEJsb2NrLmNoaWxkcmVuKSB7XG4gICAgICAgICAgdGFyZ2V0QmxvY2sgPSBwYXJlbnRCbG9jay5jaGlsZHJlbi5maW5kKChjaGlsZCkgPT4gY2hpbGQuaWQgPT09IGJsb2NrSWQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFNpbm9uIGNoZXJjaGVyIGRhbnMgdG91cyBsZXMgZ3JvdXBlc1xuICAgICAgaWYgKCF0YXJnZXRCbG9jaykge1xuICAgICAgICBmb3IgKGNvbnN0IGIgb2YgY3VycmVudFBhZ2UuYmxvY2tzKSB7XG4gICAgICAgICAgaWYgKGIuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGNvbnN0IGZvdW5kID0gYi5jaGlsZHJlbi5maW5kKChjaGlsZCkgPT4gY2hpbGQuaWQgPT09IGJsb2NrSWQpO1xuICAgICAgICAgICAgaWYgKGZvdW5kKSB7XG4gICAgICAgICAgICAgIHRhcmdldEJsb2NrID0gZm91bmQ7XG4gICAgICAgICAgICAgIHBhcmVudElkID0gYi5pZDtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEZhbGxiYWNrIHN1ciBsZSBwcmVtaWVyIGJsb2NcbiAgICAgIGlmICghdGFyZ2V0QmxvY2spIHtcbiAgICAgICAgdGFyZ2V0QmxvY2sgPSBjdXJyZW50UGFnZS5ibG9ja3NbMF0gfHwgbnVsbDtcbiAgICAgICAgcGFyZW50SWQgPSBudWxsO1xuICAgICAgfVxuICAgICAgXG4gICAgICBhY3RpdmVCbG9ja0lkID0gdGFyZ2V0QmxvY2s/LmlkIHx8IG51bGw7XG4gICAgICBhY3RpdmVCbG9ja1BhcmVudElkID0gcGFyZW50SWQ7XG4gICAgICByZW5kZXJCbG9ja0xpc3QoY3VycmVudFBhZ2UpO1xuICAgICAgcmVuZGVyQmxvY2tEZXRhaWxzKHRhcmdldEJsb2NrKTtcbiAgICAgIGFwcGx5UHJldmlld0hpZ2hsaWdodChhY3RpdmVCbG9ja0lkKTtcbiAgICB9O1xuICAgIGNvbnN0IHVwZGF0ZUN1cnJlbnRQYWdlQmxvY2tzID0gKG5ld0Jsb2NrcykgPT4ge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBuZXh0UGFnZSA9IHsgLi4uY3VycmVudFBhZ2UsIGJsb2NrczogbmV3QmxvY2tzIH07XG4gICAgICB1cGRhdGVDdXJyZW50UGFnZVN0YXRlKG5leHRQYWdlKTtcbiAgICB9O1xuICAgIGNvbnN0IGlzRGVza3RvcFJlb3JkZXIgPSAoKSA9PiB3aW5kb3cubWF0Y2hNZWRpYSgnKG1pbi13aWR0aDogMTAyNHB4KScpLm1hdGNoZXM7XG4gICAgZnVuY3Rpb24gbW92ZUJsb2NrQnlPZmZzZXQoYmxvY2tJZCwgb2Zmc2V0KSB7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlIHx8ICFibG9ja0lkIHx8ICFvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgYmxvY2tzID0gWy4uLihjdXJyZW50UGFnZS5ibG9ja3MgfHwgW10pXTtcbiAgICAgIGNvbnN0IGluZGV4ID0gYmxvY2tzLmZpbmRJbmRleCgoYmxvY2spID0+IGJsb2NrLmlkID09PSBibG9ja0lkKTtcbiAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgbmV3SW5kZXggPSBpbmRleCArIG9mZnNldDtcbiAgICAgIGlmIChuZXdJbmRleCA8IDAgfHwgbmV3SW5kZXggPj0gYmxvY2tzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBbbW92ZWRdID0gYmxvY2tzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICBibG9ja3Muc3BsaWNlKG5ld0luZGV4LCAwLCBtb3ZlZCk7XG4gICAgICB1cGRhdGVDdXJyZW50UGFnZUJsb2NrcyhibG9ja3MpO1xuICAgICAgc2V0QWN0aXZlUGFnZShjdXJyZW50UGFnZS5pZCwgeyBwcmVzZXJ2ZUJsb2NrOiB0cnVlIH0pO1xuICAgICAgc2V0QWN0aXZlQmxvY2sobW92ZWQuaWQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZW9yZGVyQmxvY2tzKHNvdXJjZUlkLCB0YXJnZXRJZCkge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSB8fCAhc291cmNlSWQgfHwgIXRhcmdldElkIHx8IHNvdXJjZUlkID09PSB0YXJnZXRJZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBibG9ja3MgPSBbLi4uKGN1cnJlbnRQYWdlLmJsb2NrcyB8fCBbXSldO1xuICAgICAgY29uc3QgZnJvbUluZGV4ID0gYmxvY2tzLmZpbmRJbmRleCgoYmxvY2spID0+IGJsb2NrLmlkID09PSBzb3VyY2VJZCk7XG4gICAgICBjb25zdCB0b0luZGV4ID0gYmxvY2tzLmZpbmRJbmRleCgoYmxvY2spID0+IGJsb2NrLmlkID09PSB0YXJnZXRJZCk7XG4gICAgICBpZiAoZnJvbUluZGV4IDwgMCB8fCB0b0luZGV4IDwgMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBbbW92ZWRdID0gYmxvY2tzLnNwbGljZShmcm9tSW5kZXgsIDEpO1xuICAgICAgYmxvY2tzLnNwbGljZSh0b0luZGV4LCAwLCBtb3ZlZCk7XG4gICAgICB1cGRhdGVDdXJyZW50UGFnZUJsb2NrcyhibG9ja3MpO1xuICAgICAgc2V0QWN0aXZlUGFnZShjdXJyZW50UGFnZS5pZCwgeyBwcmVzZXJ2ZUJsb2NrOiB0cnVlIH0pO1xuICAgICAgc2V0QWN0aXZlQmxvY2sobW92ZWQuaWQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZW9yZGVyQmxvY2tzV2l0aFBvc2l0aW9uKHNvdXJjZUlkLCB0YXJnZXRJZCwgcG9zaXRpb24pIHtcbiAgICAgIGlmICghY3VycmVudFBhZ2UgfHwgIXNvdXJjZUlkIHx8ICF0YXJnZXRJZCB8fCBzb3VyY2VJZCA9PT0gdGFyZ2V0SWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgYmxvY2tzID0gWy4uLihjdXJyZW50UGFnZS5ibG9ja3MgfHwgW10pXTtcbiAgICAgIGNvbnN0IGZyb21JbmRleCA9IGJsb2Nrcy5maW5kSW5kZXgoKGJsb2NrKSA9PiBibG9jay5pZCA9PT0gc291cmNlSWQpO1xuICAgICAgbGV0IHRvSW5kZXggPSBibG9ja3MuZmluZEluZGV4KChibG9jaykgPT4gYmxvY2suaWQgPT09IHRhcmdldElkKTtcbiAgICAgIGlmIChmcm9tSW5kZXggPCAwIHx8IHRvSW5kZXggPCAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IFttb3ZlZF0gPSBibG9ja3Muc3BsaWNlKGZyb21JbmRleCwgMSk7XG4gICAgICAvLyBBanVzdGVyIGwnaW5kZXggc2kgblx1MDBFOWNlc3NhaXJlIGFwclx1MDBFOHMgbGEgc3VwcHJlc3Npb25cbiAgICAgIGlmIChmcm9tSW5kZXggPCB0b0luZGV4KSB7XG4gICAgICAgIHRvSW5kZXgtLTtcbiAgICAgIH1cbiAgICAgIC8vIEluc1x1MDBFOXJlciBhdmFudCBvdSBhcHJcdTAwRThzIGxhIGNpYmxlXG4gICAgICBjb25zdCBpbnNlcnRJbmRleCA9IHBvc2l0aW9uID09PSAnYmVmb3JlJyA/IHRvSW5kZXggOiB0b0luZGV4ICsgMTtcbiAgICAgIGJsb2Nrcy5zcGxpY2UoaW5zZXJ0SW5kZXgsIDAsIG1vdmVkKTtcbiAgICAgIHVwZGF0ZUN1cnJlbnRQYWdlQmxvY2tzKGJsb2Nrcyk7XG4gICAgICBzZXRBY3RpdmVQYWdlKGN1cnJlbnRQYWdlLmlkLCB7IHByZXNlcnZlQmxvY2s6IHRydWUgfSk7XG4gICAgICBzZXRBY3RpdmVCbG9jayhtb3ZlZC5pZCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZURyYWdnYWJsZVN0YXRlKCkge1xuICAgICAgaWYgKCFibG9ja0xpc3QpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgZHJhZ2dhYmxlID0gaXNEZXNrdG9wUmVvcmRlcigpO1xuICAgICAgYmxvY2tMaXN0LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWJsb2NrLWl0ZW1dJykuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICBpdGVtLnNldEF0dHJpYnV0ZSgnZHJhZ2dhYmxlJywgZHJhZ2dhYmxlID8gJ3RydWUnIDogJ2ZhbHNlJyk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2xvc2VCbG9ja0xpYnJhcnkoKSB7XG4gICAgICBpZiAoIWJsb2NrTGlicmFyeSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBibG9ja0xpYnJhcnkuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBibG9ja0xpYnJhcnlPcGVuID0gZmFsc2U7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG9wZW5CbG9ja0xpYnJhcnkoKSB7XG4gICAgICBpZiAoIWJsb2NrTGlicmFyeSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBibG9ja0xpYnJhcnkuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBibG9ja0xpYnJhcnlPcGVuID0gdHJ1ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdG9nZ2xlQmxvY2tMaWJyYXJ5KCkge1xuICAgICAgYmxvY2tMaWJyYXJ5T3BlbiA/IGNsb3NlQmxvY2tMaWJyYXJ5KCkgOiBvcGVuQmxvY2tMaWJyYXJ5KCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFkZEJsb2NrRnJvbUxpYnJhcnkodHlwZSkge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSB8fCAhdHlwZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBkZWZpbml0aW9uID0gYmxvY2tMaWJyYXJ5RGVmaW5pdGlvbnNbdHlwZV07XG4gICAgICBpZiAoIWRlZmluaXRpb24pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgY291bnQgPVxuICAgICAgICAoY3VycmVudFBhZ2UuYmxvY2tzIHx8IFtdKS5maWx0ZXIoKGJsb2NrKSA9PiBibG9jay50eXBlID09PSBkZWZpbml0aW9uLnR5cGUpLmxlbmd0aCArIDE7XG4gICAgICBjb25zdCBuZXdCbG9jayA9IGNyZWF0ZUJsb2NrKFxuICAgICAgICBnZW5lcmF0ZUJsb2NrSWQoY3VycmVudFBhZ2UuaWQsIHR5cGUpLFxuICAgICAgICBgJHtkZWZpbml0aW9uLmxhYmVsfSAke2NvdW50fWAsXG4gICAgICAgIGRlZmluaXRpb24udHlwZSxcbiAgICAgICAgZGVmaW5pdGlvbi5zdGF0dXMsXG4gICAgICAgIGRlZmluaXRpb24uZGVzY3JpcHRpb24sXG4gICAgICAgIGRlZmluaXRpb24ucHJvcHMsXG4gICAgICAgIGRlZmluaXRpb24uc2V0dGluZ3MgfHwge30sXG4gICAgICApO1xuICAgICAgaWYgKChkZWZpbml0aW9uLnR5cGUgfHwgJycpLnRvTG93ZXJDYXNlKCkgPT09ICdjb2xsZWN0aW9uZ3JpZCcpIHtcbiAgICAgICAgY29uc3QgZmlyc3RDb2xsZWN0aW9uSWQgPSBkZXNpZ25Db2xsZWN0aW9uc1swXT8uaWQgfHwgJyc7XG4gICAgICAgIG5ld0Jsb2NrLmNvbGxlY3Rpb25JZCA9IGZpcnN0Q29sbGVjdGlvbklkO1xuICAgICAgICBuZXdCbG9jay5zZXR0aW5ncy5jb2xsZWN0aW9uSWQgPSBmaXJzdENvbGxlY3Rpb25JZDtcbiAgICAgICAgbmV3QmxvY2suc2V0dGluZ3MubGltaXQgPSBuZXdCbG9jay5zZXR0aW5ncy5saW1pdCB8fCA2O1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBTaSBvbiBham91dGUgXHUwMEUwIHVuIGdyb3VwZVxuICAgICAgaWYgKHBlbmRpbmdHcm91cElkRm9yTmV3QmxvY2spIHtcbiAgICAgICAgY29uc3QgZ3JvdXBCbG9jayA9IGN1cnJlbnRQYWdlLmJsb2Nrcy5maW5kKChiKSA9PiBiLmlkID09PSBwZW5kaW5nR3JvdXBJZEZvck5ld0Jsb2NrKTtcbiAgICAgICAgaWYgKGdyb3VwQmxvY2spIHtcbiAgICAgICAgICBpZiAoIWdyb3VwQmxvY2suY2hpbGRyZW4pIGdyb3VwQmxvY2suY2hpbGRyZW4gPSBbXTtcbiAgICAgICAgICBncm91cEJsb2NrLmNoaWxkcmVuLnB1c2gobmV3QmxvY2spO1xuICAgICAgICAgIHBlbmRpbmdHcm91cElkRm9yTmV3QmxvY2sgPSBudWxsO1xuICAgICAgICAgIHJlbmRlckJsb2NrTGlzdChjdXJyZW50UGFnZSk7XG4gICAgICAgICAgc2F2ZVBhZ2VCbG9ja3MoKTtcbiAgICAgICAgICBzZXRBY3RpdmVCbG9jayhuZXdCbG9jay5pZCwgZ3JvdXBCbG9jay5pZCk7XG4gICAgICAgICAgY2xvc2VCbG9ja0xpYnJhcnkoKTtcbiAgICAgICAgICBzaG93VG9hc3QoJ0Jsb2MgYWpvdXRcdTAwRTkgYXUgZ3JvdXBlJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHBlbmRpbmdHcm91cElkRm9yTmV3QmxvY2sgPSBudWxsO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCBuZXh0QmxvY2tzID0gWy4uLihjdXJyZW50UGFnZS5ibG9ja3MgfHwgW10pLCBuZXdCbG9ja107XG4gICAgICB1cGRhdGVDdXJyZW50UGFnZUJsb2NrcyhuZXh0QmxvY2tzKTtcbiAgICAgIHNldEFjdGl2ZVBhZ2UoY3VycmVudFBhZ2UuaWQsIHsgcHJlc2VydmVCbG9jazogdHJ1ZSB9KTtcbiAgICAgIHNldEFjdGl2ZUJsb2NrKG5ld0Jsb2NrLmlkKTtcbiAgICAgIGNsb3NlQmxvY2tMaWJyYXJ5KCk7XG4gICAgICBzaG93VG9hc3QoJ0Jsb2MgYWpvdXRcdTAwRTknKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGVsZXRlQmxvY2tCeUlkKGJsb2NrSWQpIHtcbiAgICAgIGlmICghY3VycmVudFBhZ2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgYmxvY2tzID0gKGN1cnJlbnRQYWdlLmJsb2NrcyB8fCBbXSkuZmlsdGVyKChibG9jaykgPT4gYmxvY2suaWQgIT09IGJsb2NrSWQpO1xuICAgICAgY29uc3QgbmV4dEFjdGl2ZSA9XG4gICAgICAgIGJsb2NrSWQgPT09IGFjdGl2ZUJsb2NrSWQgPyBibG9ja3NbMF0/LmlkIHx8IG51bGwgOiBhY3RpdmVCbG9ja0lkIHx8IGJsb2Nrc1swXT8uaWQgfHwgbnVsbDtcbiAgICAgIHVwZGF0ZUN1cnJlbnRQYWdlQmxvY2tzKGJsb2Nrcyk7XG4gICAgICBhY3RpdmVCbG9ja0lkID0gbmV4dEFjdGl2ZTtcbiAgICAgIHNldEFjdGl2ZVBhZ2UoY3VycmVudFBhZ2UuaWQsIHsgcHJlc2VydmVCbG9jazogdHJ1ZSB9KTtcbiAgICAgIGlmIChhY3RpdmVCbG9ja0lkKSB7XG4gICAgICAgIHNldEFjdGl2ZUJsb2NrKGFjdGl2ZUJsb2NrSWQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVuZGVyQmxvY2tEZXRhaWxzKG51bGwpO1xuICAgICAgICBhcHBseVByZXZpZXdIaWdobGlnaHQobnVsbCk7XG4gICAgICB9XG4gICAgICBzaG93VG9hc3QoJ0Jsb2Mgc3VwcHJpbVx1MDBFOScpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjbG9zZUJsb2NrRGVsZXRlTW9kYWwoKSB7XG4gICAgICBpZiAoIWJsb2NrRGVsZXRlTW9kYWwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYmxvY2tEZWxldGVNb2RhbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGJsb2NrRGVsZXRlTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnZmxleCcpO1xuICAgICAgcGVuZGluZ0RlbGV0ZUJsb2NrSWQgPSBudWxsO1xuICAgICAgZGVhY3RpdmF0ZU1vZGFsKGJsb2NrRGVsZXRlTW9kYWwpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBvcGVuQmxvY2tEZWxldGVNb2RhbChibG9ja0lkKSB7XG4gICAgICBpZiAoIWJsb2NrRGVsZXRlTW9kYWwpIHtcbiAgICAgICAgZGVsZXRlQmxvY2tCeUlkKGJsb2NrSWQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwZW5kaW5nRGVsZXRlQmxvY2tJZCA9IGJsb2NrSWQ7XG4gICAgICBibG9ja0RlbGV0ZU1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgYmxvY2tEZWxldGVNb2RhbC5jbGFzc0xpc3QuYWRkKCdmbGV4Jyk7XG4gICAgICBhY3RpdmF0ZU1vZGFsKGJsb2NrRGVsZXRlTW9kYWwsIGNsb3NlQmxvY2tEZWxldGVNb2RhbCk7XG4gICAgfVxuICAgIGNvbnN0IHVwZGF0ZUN1cnJlbnRQYWdlU3RhdGUgPSAobmV4dFBhZ2UpID0+IHtcbiAgICAgIGlmICghbmV4dFBhZ2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZVBhZ2VEYXRhKG5leHRQYWdlKTtcbiAgICAgIHBhZ2VzID0gcGFnZXMubWFwKChwYWdlKSA9PiAocGFnZS5pZCA9PT0gbm9ybWFsaXplZC5pZCA/IG5vcm1hbGl6ZWQgOiBwYWdlKSk7XG4gICAgICBjdXJyZW50UGFnZSA9IG5vcm1hbGl6ZWQ7XG4gICAgICBzYXZlUGFnZVRvU2VydmVyKG5vcm1hbGl6ZWQpO1xuICAgIH07XG4gICAgY29uc3Qgc2V0QWN0aXZlUGFnZSA9IChwYWdlSWQsIG9wdGlvbnMgPSB7fSkgPT4ge1xuICAgICAgY29uc3QgdGFyZ2V0ID0gcGFnZXMuZmluZCgocGFnZSkgPT4gcGFnZS5pZCA9PT0gcGFnZUlkKSB8fCBwYWdlc1swXSB8fCBudWxsO1xuICAgICAgY29uc3Qgbm9ybWFsaXplZFRhcmdldCA9IHRhcmdldCA/IG5vcm1hbGl6ZVBhZ2VEYXRhKHRhcmdldCkgOiBudWxsO1xuICAgICAgY3VycmVudFBhZ2UgPSBub3JtYWxpemVkVGFyZ2V0O1xuICAgICAgYWN0aXZlUGFnZUlkID0gdGFyZ2V0Py5pZCB8fCBudWxsO1xuICAgICAgaWYgKCFvcHRpb25zLnByZXNlcnZlQmxvY2sgfHwgIWN1cnJlbnRQYWdlIHx8ICFjdXJyZW50UGFnZS5ibG9ja3Muc29tZSgoYmxvY2spID0+IGJsb2NrLmlkID09PSBhY3RpdmVCbG9ja0lkKSkge1xuICAgICAgICBhY3RpdmVCbG9ja0lkID0gY3VycmVudFBhZ2U/LmJsb2Nrcz8uWzBdPy5pZCB8fCBudWxsO1xuICAgICAgfVxuICAgICAgaWYgKGFjdGl2ZVBhZ2VJZCkge1xuICAgICAgICBwZXJzaXN0QWN0aXZlUGFnZShhY3RpdmVQYWdlSWQpO1xuICAgICAgfVxuICAgICAgcmVuZGVyUGFnZUxpc3RzKHBhZ2VzLCBhY3RpdmVQYWdlSWQpO1xuICAgICAgc2V0QWN0aXZlTGFiZWxzKGN1cnJlbnRQYWdlKTtcbiAgICAgIHN5bmNQYWdlQWNjZXNzaWJpbGl0eUZpZWxkcygpO1xuICAgICAgcmVuZGVyUHJldmlld01ldGEoY3VycmVudFBhZ2UpO1xuICAgICAgcmVmcmVzaFByZXZpZXcoY3VycmVudFBhZ2UpO1xuICAgICAgcmVuZGVyQmxvY2tMaXN0KGN1cnJlbnRQYWdlKTtcbiAgICAgIHJlbmRlckJsb2NrRGV0YWlscyhnZXRBY3RpdmVCbG9jaygpKTtcbiAgICAgIGFwcGx5UHJldmlld0hpZ2hsaWdodChhY3RpdmVCbG9ja0lkKTtcbiAgICAgIHVwZGF0ZURyYWdnYWJsZVN0YXRlKCk7XG4gICAgICBpZiAoYmxvY2tMaWJyYXJ5T3Blbikge1xuICAgICAgICBjbG9zZUJsb2NrTGlicmFyeSgpO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgaXNEZXNrdG9wRHJhd2VyID0gKCkgPT4gd2luZG93Lm1hdGNoTWVkaWEoJyhtaW4td2lkdGg6IDEwMjRweCknKS5tYXRjaGVzO1xuICAgIGNvbnN0IHN5bmNEcmF3ZXJTdGF0ZSA9ICgpID0+IHtcbiAgICAgIGlmICghZHJhd2VyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChpc0Rlc2t0b3BEcmF3ZXIoKSkge1xuICAgICAgICBkcmF3ZXIuY2xhc3NMaXN0LmFkZCgnaXMtb3BlbicpO1xuICAgICAgICBkcmF3ZXJCYWNrZHJvcD8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnb3ZlcmZsb3ctaGlkZGVuJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkcmF3ZXIuY2xhc3NMaXN0LnJlbW92ZSgnaXMtb3BlbicpO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3Qgb3BlbkRyYXdlciA9ICgpID0+IHtcbiAgICAgIGlmICghZHJhd2VyIHx8IGlzRGVza3RvcERyYXdlcigpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGRyYXdlci5jbGFzc0xpc3QuYWRkKCdpcy1vcGVuJyk7XG4gICAgICBkcmF3ZXJCYWNrZHJvcD8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ292ZXJmbG93LWhpZGRlbicpO1xuICAgIH07XG4gICAgY29uc3QgY2xvc2VEcmF3ZXIgPSAoKSA9PiB7XG4gICAgICBpZiAoIWRyYXdlcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBkcmF3ZXIuY2xhc3NMaXN0LnJlbW92ZSgnaXMtb3BlbicpO1xuICAgICAgZHJhd2VyQmFja2Ryb3A/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICB9O1xuICAgIGNvbnN0IG9wZW5BZGRQYWdlRm9ybSA9ICgpID0+IHtcbiAgICAgIGlmICghYWRkUGFnZUZvcm0gfHwgIWFkZFBhZ2VUb2dnbGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYWRkUGFnZUZvcm0uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBhZGRQYWdlVG9nZ2xlLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgYWRkUGFnZUVycm9yICYmIChhZGRQYWdlRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgICBwYWdlU2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gICAgICBpZiAoYWRkUGFnZU5hbWUpIHtcbiAgICAgICAgYWRkUGFnZU5hbWUudmFsdWUgPSAnJztcbiAgICAgICAgYWRkUGFnZU5hbWUuZm9jdXMoKTtcbiAgICAgIH1cbiAgICAgIGlmIChhZGRQYWdlVGl0bGUpIHtcbiAgICAgICAgYWRkUGFnZVRpdGxlLnZhbHVlID0gJyc7XG4gICAgICB9XG4gICAgICBpZiAoYWRkUGFnZVNsdWcpIHtcbiAgICAgICAgYWRkUGFnZVNsdWcudmFsdWUgPSAnJztcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGNsb3NlQWRkUGFnZUZvcm0gPSAoKSA9PiB7XG4gICAgICBpZiAoIWFkZFBhZ2VGb3JtIHx8ICFhZGRQYWdlVG9nZ2xlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGFkZFBhZ2VGb3JtLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgYWRkUGFnZVRvZ2dsZS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGFkZFBhZ2VFcnJvciAmJiAoYWRkUGFnZUVycm9yLnRleHRDb250ZW50ID0gJycpO1xuICAgICAgcGFnZVNsdWdNYW51YWxseUVkaXRlZCA9IGZhbHNlO1xuICAgICAgYWRkUGFnZUZvcm0ucmVzZXQoKTtcbiAgICB9O1xuICAgIGNvbnN0IHN5bmNTbHVnRnJvbU5hbWUgPSAoKSA9PiB7XG4gICAgICBpZiAoIWFkZFBhZ2VOYW1lIHx8ICFhZGRQYWdlU2x1Zykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAocGFnZVNsdWdNYW51YWxseUVkaXRlZCAmJiBhZGRQYWdlU2x1Zy52YWx1ZS50cmltKCkubGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhZGRQYWdlU2x1Zy52YWx1ZSA9IG5vcm1hbGl6ZVBhZ2VTbHVnKGFkZFBhZ2VOYW1lLnZhbHVlKTtcbiAgICB9O1xuXG4gICAgbGV0IHBhZ2VzID0gW107XG4gICAgbGV0IGFjdGl2ZVBhZ2VJZCA9IG51bGw7XG4gICAgbGV0IHBhZ2VTbHVnTWFudWFsbHlFZGl0ZWQgPSBmYWxzZTtcbiAgICBsZXQgY3VycmVudFBhZ2UgPSBudWxsO1xuICAgIGxldCBhY3RpdmVCbG9ja0lkID0gbnVsbDtcbiAgICBsZXQgYmxvY2tMaWJyYXJ5T3BlbiA9IGZhbHNlO1xuICAgIGxldCBwZW5kaW5nRGVsZXRlQmxvY2tJZCA9IG51bGw7XG4gICAgbGV0IGxhdGVzdFByZXZpZXdIdG1sID0gJyc7XG4gICAgbGV0IHByZXZpZXdSZWFkeSA9IGZhbHNlO1xuICAgIGxldCBwcmV2aWV3UmVxdWVzdENvbnRyb2xsZXIgPSBudWxsO1xuICAgIGxldCBkZXNpZ25Db2xsZWN0aW9ucyA9IFtdO1xuXG4gICAgY29uc3Qgbm9ybWFsaXplQmxvY2tEYXRhID0gKGJsb2NrKSA9PiB7XG4gICAgICBjb25zdCBub3JtYWxpemVkID0ge1xuICAgICAgICAuLi5ibG9jayxcbiAgICAgICAgcHJvcHM6IEFycmF5LmlzQXJyYXkoYmxvY2sucHJvcHMpID8gYmxvY2sucHJvcHMgOiBbXSxcbiAgICAgICAgc2V0dGluZ3M6IHsgLi4uKGJsb2NrLnNldHRpbmdzIHx8IHt9KSB9LFxuICAgICAgfTtcbiAgICAgIGNvbnN0IHR5cGUgPSAobm9ybWFsaXplZC50eXBlIHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgaWYgKHR5cGUgPT09ICdjb2xsZWN0aW9uZ3JpZCcpIHtcbiAgICAgICAgbm9ybWFsaXplZC5jb2xsZWN0aW9uSWQgPVxuICAgICAgICAgIG5vcm1hbGl6ZWQuY29sbGVjdGlvbklkIHx8IG5vcm1hbGl6ZWQuc2V0dGluZ3MuY29sbGVjdGlvbklkIHx8ICcnO1xuICAgICAgICBub3JtYWxpemVkLnNldHRpbmdzLmNvbGxlY3Rpb25JZCA9IG5vcm1hbGl6ZWQuY29sbGVjdGlvbklkO1xuICAgICAgICBub3JtYWxpemVkLnNldHRpbmdzLmxpbWl0ID0gbm9ybWFsaXplZC5zZXR0aW5ncy5saW1pdCB8fCA2O1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5vcm1hbGl6ZWQ7XG4gICAgfTtcblxuICAgIGNvbnN0IG5vcm1hbGl6ZVBhZ2VEYXRhID0gKHBhZ2UpID0+ICh7XG4gICAgICAuLi5wYWdlLFxuICAgICAgYmxvY2tzOiAocGFnZS5ibG9ja3MgfHwgW10pLm1hcCgoYmxvY2spID0+IG5vcm1hbGl6ZUJsb2NrRGF0YShibG9jaykpLFxuICAgICAgc2VvOiB7XG4gICAgICAgIHRpdGxlOiAocGFnZS5zZW8/LnRpdGxlIHx8ICcnKS50cmltKCksXG4gICAgICAgIGRlc2NyaXB0aW9uOiAocGFnZS5zZW8/LmRlc2NyaXB0aW9uIHx8ICcnKS50cmltKCksXG4gICAgICAgIGluZGV4ZWQ6XG4gICAgICAgICAgdHlwZW9mIHBhZ2Uuc2VvPy5pbmRleGVkID09PSAnYm9vbGVhbicgPyBwYWdlLnNlby5pbmRleGVkIDogbnVsbCxcbiAgICAgIH0sXG4gICAgICBhY2Nlc3NpYmlsaXR5OiB7XG4gICAgICAgIHNob3dJbk1haW5OYXY6IHBhZ2UuYWNjZXNzaWJpbGl0eT8uc2hvd0luTWFpbk5hdiAhPT0gZmFsc2UsXG4gICAgICAgIG1haW5MYWJlbDogKHBhZ2UuYWNjZXNzaWJpbGl0eT8ubWFpbkxhYmVsIHx8ICcnKS50cmltKCksXG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgY29uc3QgbG9hZERlc2lnbkNvbGxlY3Rpb25zID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uc0FwaUJhc2UpIHtcbiAgICAgICAgZGVzaWduQ29sbGVjdGlvbnMgPSBbXTtcbiAgICAgICAgdXBkYXRlQ29sbGVjdGlvblNlbGVjdE9wdGlvbnMoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChjb2xsZWN0aW9uc0FwaUJhc2UsIHtcbiAgICAgICAgICBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIGNvbGxlY3Rpb25zLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gW10pO1xuICAgICAgICBkZXNpZ25Db2xsZWN0aW9ucyA9IEFycmF5LmlzQXJyYXkocGF5bG9hZCkgPyBwYXlsb2FkIDogW107XG4gICAgICAgIGNvbnN0IGN1cnJlbnRWYWx1ZSA9IGNvbGxlY3Rpb25TZWxlY3Q/LnZhbHVlIHx8ICcnO1xuICAgICAgICB1cGRhdGVDb2xsZWN0aW9uU2VsZWN0T3B0aW9ucyhjdXJyZW50VmFsdWUpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkZXNpZ25dIGNvbGxlY3Rpb25zIGxvYWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoJ0NvbGxlY3Rpb25zIGluZGlzcG9uaWJsZXMuJyk7XG4gICAgICAgIGRlc2lnbkNvbGxlY3Rpb25zID0gW107XG4gICAgICAgIHVwZGF0ZUNvbGxlY3Rpb25TZWxlY3RPcHRpb25zKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHN5bmNDb2xsZWN0aW9uU2VsZWN0aW9uSW5mbyA9IChjb2xsZWN0aW9uSWQpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvblNlbGVjdGlvbkluZm8pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFjb2xsZWN0aW9uSWQpIHtcbiAgICAgICAgY29sbGVjdGlvblNlbGVjdGlvbkluZm8udGV4dENvbnRlbnQgPSBkZXNpZ25Db2xsZWN0aW9ucy5sZW5ndGhcbiAgICAgICAgICA/ICdTXHUwMEU5bGVjdGlvbm5leiB1bmUgY29sbGVjdGlvbiBwb3VyIGFmZmljaGVyIHNlcyBpbmZvcm1hdGlvbnMuJ1xuICAgICAgICAgIDogJ0F1Y3VuZSBjb2xsZWN0aW9uIGRpc3BvbmlibGUuIEFqb3V0ZXotZW4gZGVwdWlzIGxcdTIwMTlvbmdsZXQgQ29udGVudXMuJztcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgZW50cnkgPSBkZXNpZ25Db2xsZWN0aW9ucy5maW5kKChjb2xsZWN0aW9uKSA9PiBjb2xsZWN0aW9uLmlkID09PSBjb2xsZWN0aW9uSWQpO1xuICAgICAgaWYgKCFlbnRyeSkge1xuICAgICAgICBjb2xsZWN0aW9uU2VsZWN0aW9uSW5mby50ZXh0Q29udGVudCA9IGBDb2xsZWN0aW9uICR7Y29sbGVjdGlvbklkfWA7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRldGFpbHMgPSBbXTtcbiAgICAgIGlmIChlbnRyeS5kZXNjcmlwdGlvbikge1xuICAgICAgICBkZXRhaWxzLnB1c2goZW50cnkuZGVzY3JpcHRpb24pO1xuICAgICAgfVxuICAgICAgaWYgKGVudHJ5LnR5cGUpIHtcbiAgICAgICAgZGV0YWlscy5wdXNoKGBUeXBlXHUwMEEwOiAke2VudHJ5LnR5cGV9YCk7XG4gICAgICB9XG4gICAgICBjb2xsZWN0aW9uU2VsZWN0aW9uSW5mby50ZXh0Q29udGVudCA9XG4gICAgICAgIGRldGFpbHMuam9pbignIFx1MDBCNyAnKSB8fCBgQ29sbGVjdGlvbiAke2VudHJ5Lm5hbWUgfHwgZW50cnkuaWR9YDtcbiAgICB9O1xuXG4gICAgY29uc3QgdXBkYXRlQ29sbGVjdGlvblNlbGVjdE9wdGlvbnMgPSAoc2VsZWN0ZWRWYWx1ZSA9ICcnKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25TZWxlY3QpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29sbGVjdGlvblNlbGVjdC5pbm5lckhUTUwgPSAnJztcbiAgICAgIGlmICghZGVzaWduQ29sbGVjdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgIGNvbGxlY3Rpb25TZWxlY3QuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgICAgb3B0aW9uLnZhbHVlID0gJyc7XG4gICAgICAgIG9wdGlvbi50ZXh0Q29udGVudCA9ICdBdWN1bmUgY29sbGVjdGlvbiBkaXNwb25pYmxlJztcbiAgICAgICAgY29sbGVjdGlvblNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb24pO1xuICAgICAgICBzeW5jQ29sbGVjdGlvblNlbGVjdGlvbkluZm8oJycpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb2xsZWN0aW9uU2VsZWN0LmRpc2FibGVkID0gZmFsc2U7XG4gICAgICBpZiAoc2VsZWN0ZWRWYWx1ZSAmJiAhZGVzaWduQ29sbGVjdGlvbnMuc29tZSgoZW50cnkpID0+IGVudHJ5LmlkID09PSBzZWxlY3RlZFZhbHVlKSkge1xuICAgICAgICBjb25zdCBmYWxsYmFja09wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICBmYWxsYmFja09wdGlvbi52YWx1ZSA9IHNlbGVjdGVkVmFsdWU7XG4gICAgICAgIGZhbGxiYWNrT3B0aW9uLnRleHRDb250ZW50ID0gc2VsZWN0ZWRWYWx1ZTtcbiAgICAgICAgY29sbGVjdGlvblNlbGVjdC5hcHBlbmRDaGlsZChmYWxsYmFja09wdGlvbik7XG4gICAgICB9XG4gICAgICBkZXNpZ25Db2xsZWN0aW9ucy5mb3JFYWNoKChjb2xsZWN0aW9uKSA9PiB7XG4gICAgICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICBvcHRpb24udmFsdWUgPSBjb2xsZWN0aW9uLmlkO1xuICAgICAgICBjb25zdCBsYWJlbCA9IGNvbGxlY3Rpb24ubmFtZSB8fCBjb2xsZWN0aW9uLmlkO1xuICAgICAgICBvcHRpb24udGV4dENvbnRlbnQgPSBjb2xsZWN0aW9uLnR5cGUgPyBgJHtsYWJlbH0gXHUwMEI3ICR7Y29sbGVjdGlvbi50eXBlfWAgOiBsYWJlbDtcbiAgICAgICAgb3B0aW9uLmRhdGFzZXQuZGVzY3JpcHRpb24gPSBjb2xsZWN0aW9uLmRlc2NyaXB0aW9uIHx8ICcnO1xuICAgICAgICBjb2xsZWN0aW9uU2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbik7XG4gICAgICB9KTtcbiAgICAgIGlmIChzZWxlY3RlZFZhbHVlKSB7XG4gICAgICAgIGNvbGxlY3Rpb25TZWxlY3QudmFsdWUgPSBzZWxlY3RlZFZhbHVlO1xuICAgICAgfVxuICAgICAgc3luY0NvbGxlY3Rpb25TZWxlY3Rpb25JbmZvKGNvbGxlY3Rpb25TZWxlY3QudmFsdWUgfHwgJycpO1xuICAgIH07XG5cbiAgICBsb2FkRGVzaWduQ29sbGVjdGlvbnMoKTtcbiAgICBzeW5jRHJhd2VyU3RhdGUoKTtcblxuICAgIGRyYXdlck9wZW5CdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlbkRyYXdlcik7XG4gICAgfSk7XG4gICAgZHJhd2VyQ2xvc2VCdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VEcmF3ZXIpO1xuICAgIH0pO1xuICAgIGRyYXdlckJhY2tkcm9wPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlRHJhd2VyKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgKCkgPT4ge1xuICAgICAgc3luY0RyYXdlclN0YXRlKCk7XG4gICAgICB1cGRhdGVEcmFnZ2FibGVTdGF0ZSgpO1xuICAgIH0pO1xuXG4gICAgYWRkUGFnZVRvZ2dsZT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuQWRkUGFnZUZvcm0pO1xuICAgIGFkZFBhZ2VDYW5jZWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VBZGRQYWdlRm9ybSk7XG4gICAgYWRkUGFnZU5hbWU/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0Jywgc3luY1NsdWdGcm9tTmFtZSk7XG4gICAgYWRkUGFnZVNsdWc/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgYWRkUGFnZUVycm9yICYmIChhZGRQYWdlRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgICBwYWdlU2x1Z01hbnVhbGx5RWRpdGVkID0gdHJ1ZTtcbiAgICB9KTtcbiAgICBhZGRQYWdlRm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKCFwYWdlc0FwaUJhc2UpIHtcbiAgICAgICAgYWRkUGFnZUVycm9yICYmIChhZGRQYWdlRXJyb3IudGV4dENvbnRlbnQgPSAnQXVjdW4gc2l0ZSBzXHUwMEU5bGVjdGlvbm5cdTAwRTkuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghYWRkUGFnZU5hbWUgfHwgIWFkZFBhZ2VTbHVnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG5hbWUgPSBhZGRQYWdlTmFtZS52YWx1ZS50cmltKCk7XG4gICAgICBjb25zdCB0aXRsZSA9IGFkZFBhZ2VUaXRsZT8udmFsdWUudHJpbSgpIHx8IG5hbWU7IC8vIEZhbGxiYWNrIHRvIG5hbWUgaWYgdGl0bGUgaXMgZW1wdHlcbiAgICAgIGNvbnN0IHNsdWcgPSBub3JtYWxpemVQYWdlU2x1ZyhhZGRQYWdlU2x1Zy52YWx1ZS50cmltKCkgfHwgbmFtZSk7XG4gICAgICBpZiAoIW5hbWUgfHwgIXNsdWcpIHtcbiAgICAgICAgYWRkUGFnZUVycm9yICYmIChhZGRQYWdlRXJyb3IudGV4dENvbnRlbnQgPSAnTm9tIGV0IHNsdWcgc29udCByZXF1aXMuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGFkZFBhZ2VFcnJvciAmJiAoYWRkUGFnZUVycm9yLnRleHRDb250ZW50ID0gJycpO1xuICAgICAgaWYgKGFkZFBhZ2VTdWJtaXRCdXR0b24pIHtcbiAgICAgICAgYWRkUGFnZVN1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIGFkZFBhZ2VTdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSAnQ3JcdTAwRTlhdGlvbi4uLic7XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBjcmVhdGVkUGFnZSA9IGF3YWl0IGNyZWF0ZVBhZ2VPblNlcnZlcih7IG5hbWUsIHRpdGxlLCBzbHVnIH0pO1xuICAgICAgICBpZiAoIWNyZWF0ZWRQYWdlIHx8ICFjcmVhdGVkUGFnZS5pZCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUlx1MDBFOXBvbnNlIGludmFsaWRlLicpO1xuICAgICAgICB9XG4gICAgICAgIHBhZ2VzID0gWy4uLnBhZ2VzLCBub3JtYWxpemVQYWdlRGF0YShjcmVhdGVkUGFnZSldO1xuICAgICAgICBjbG9zZUFkZFBhZ2VGb3JtKCk7XG4gICAgICAgIHNob3dUb2FzdCgnUGFnZSBjclx1MDBFOVx1MDBFOWUnKTtcbiAgICAgICAgc2V0QWN0aXZlUGFnZShjcmVhdGVkUGFnZS5pZCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2Rlc2lnbl0gY3JlYXRlIHBhZ2UgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgYWRkUGFnZUVycm9yICYmIChhZGRQYWdlRXJyb3IudGV4dENvbnRlbnQgPSBlcnIubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBjclx1MDBFOWVyIGxhIHBhZ2UuJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoYWRkUGFnZVN1Ym1pdEJ1dHRvbikge1xuICAgICAgICAgIGFkZFBhZ2VTdWJtaXRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICBhZGRQYWdlU3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gJ0NyXHUwMEU5ZXInO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyA9PT0gSW1wb3J0IEpTT04gaGFuZGxlcnMgPT09XG4gICAgY29uc3QgcmVzZXRQYXN0ZVN0YXRlID0gKCkgPT4ge1xuICAgICAgaWYgKGltcG9ydFBhc3RlSW5wdXQpIGltcG9ydFBhc3RlSW5wdXQudmFsdWUgPSAnJztcbiAgICAgIGlmIChwYXN0ZUVycm9yKSB7XG4gICAgICAgIHBhc3RlRXJyb3IuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIHBhc3RlRXJyb3IudGV4dENvbnRlbnQgPSAnJztcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgdmFsaWRhdGVQYXN0ZUpzb24gPSAoKSA9PiB7XG4gICAgICBpZiAoIWltcG9ydFBhc3RlSW5wdXQpIHJldHVybiBudWxsO1xuICAgICAgY29uc3QgdGV4dCA9IGltcG9ydFBhc3RlSW5wdXQudmFsdWUudHJpbSgpO1xuICAgICAgaWYgKCF0ZXh0KSB7XG4gICAgICAgIGlmIChwYXN0ZUVycm9yKSBwYXN0ZUVycm9yLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZCA9IEpTT04ucGFyc2UodGV4dCk7XG4gICAgICAgIGlmIChwYXN0ZUVycm9yKSBwYXN0ZUVycm9yLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICByZXR1cm4gcGFyc2VkO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGlmIChwYXN0ZUVycm9yKSB7XG4gICAgICAgICAgcGFzdGVFcnJvci5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICBwYXN0ZUVycm9yLnRleHRDb250ZW50ID0gYFx1Mjc0QyBKU09OIGludmFsaWRlIDogJHtlcnIubWVzc2FnZX1gO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBmb3JtYXRQYXN0ZUpzb24gPSAoKSA9PiB7XG4gICAgICBpZiAoIWltcG9ydFBhc3RlSW5wdXQpIHJldHVybjtcbiAgICAgIGNvbnN0IHRleHQgPSBpbXBvcnRQYXN0ZUlucHV0LnZhbHVlLnRyaW0oKTtcbiAgICAgIGlmICghdGV4dCkgcmV0dXJuO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcGFyc2VkID0gSlNPTi5wYXJzZSh0ZXh0KTtcbiAgICAgICAgaW1wb3J0UGFzdGVJbnB1dC52YWx1ZSA9IEpTT04uc3RyaW5naWZ5KHBhcnNlZCwgbnVsbCwgMik7XG4gICAgICAgIHZhbGlkYXRlUGFzdGVKc29uKCk7XG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgLy8gU2kgcGFzIHZhbGlkZSwgb24gbmUgZm9ybWF0ZSBwYXNcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgdXBkYXRlSW1wb3J0U3VibWl0U3RhdGUgPSAoKSA9PiB7XG4gICAgICBpZiAoIWltcG9ydFN1Ym1pdCkgcmV0dXJuO1xuICAgICAgaWYgKGFjdGl2ZUltcG9ydFRhYiA9PT0gJ3VwbG9hZCcpIHtcbiAgICAgICAgaW1wb3J0U3VibWl0LmRpc2FibGVkID0gaW1wb3J0U2VsZWN0ZWRGaWxlcy5sZW5ndGggPT09IDA7XG4gICAgICB9IGVsc2UgaWYgKGFjdGl2ZUltcG9ydFRhYiA9PT0gJ3Bhc3RlJykge1xuICAgICAgICBjb25zdCBwYXJzZWQgPSB2YWxpZGF0ZVBhc3RlSnNvbigpO1xuICAgICAgICBpbXBvcnRTdWJtaXQuZGlzYWJsZWQgPSAhcGFyc2VkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW1wb3J0U3VibWl0LmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3Qgb3BlbkltcG9ydE1vZGFsID0gKCkgPT4ge1xuICAgICAgaWYgKCFpbXBvcnRNb2RhbCkgcmV0dXJuO1xuICAgICAgaW1wb3J0TW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBpbXBvcnRNb2RhbC5jbGFzc0xpc3QuYWRkKCdmbGV4Jyk7XG4gICAgICBpbXBvcnRTZWxlY3RlZEZpbGVzID0gW107XG4gICAgICBhY3RpdmVJbXBvcnRUYWIgPSAndXBsb2FkJztcbiAgICAgIHVwZGF0ZUltcG9ydEZpbGVMaXN0KCk7XG4gICAgICByZXNldFBhc3RlU3RhdGUoKTtcbiAgICAgIGlmIChpbXBvcnRSZXN1bHRzKSBpbXBvcnRSZXN1bHRzLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgaWYgKGltcG9ydFJlc3VsdHNDb250ZW50KSBpbXBvcnRSZXN1bHRzQ29udGVudC5pbm5lckhUTUwgPSAnJztcbiAgICAgIHVwZGF0ZUltcG9ydFN1Ym1pdFN0YXRlKCk7XG4gICAgICAvLyBSZXNldCB0YWJzIHRvIHVwbG9hZFxuICAgICAgaW1wb3J0VGFicy5mb3JFYWNoKCh0KSA9PiB7XG4gICAgICAgIGlmICh0LmRhdGFzZXQuaW1wb3J0VGFiID09PSAndXBsb2FkJykge1xuICAgICAgICAgIHQuY2xhc3NMaXN0LmFkZCgnYmctWyM5QzZCRkZdJywgJ3RleHQtd2hpdGUnKTtcbiAgICAgICAgICB0LmNsYXNzTGlzdC5yZW1vdmUoJ2JvcmRlcicsICdib3JkZXItc2xhdGUtMjAwJywgJ3RleHQtc2xhdGUtNzAwJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdC5jbGFzc0xpc3QucmVtb3ZlKCdiZy1bIzlDNkJGRl0nLCAndGV4dC13aGl0ZScpO1xuICAgICAgICAgIHQuY2xhc3NMaXN0LmFkZCgnYm9yZGVyJywgJ2JvcmRlci1zbGF0ZS0yMDAnLCAndGV4dC1zbGF0ZS03MDAnKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpbXBvcnRQYW5lbHMuZm9yRWFjaCgocCkgPT4ge1xuICAgICAgICBpZiAocC5kYXRhc2V0LmltcG9ydFBhbmVsID09PSAndXBsb2FkJykge1xuICAgICAgICAgIHAuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBhY3RpdmF0ZU1vZGFsKGltcG9ydE1vZGFsLCBjbG9zZUltcG9ydE1vZGFsKTtcbiAgICB9O1xuICAgIGNvbnN0IGNsb3NlSW1wb3J0TW9kYWwgPSAoKSA9PiB7XG4gICAgICBpZiAoIWltcG9ydE1vZGFsKSByZXR1cm47XG4gICAgICBpbXBvcnRNb2RhbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGltcG9ydE1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2ZsZXgnKTtcbiAgICAgIGltcG9ydFNlbGVjdGVkRmlsZXMgPSBbXTtcbiAgICAgIHJlc2V0UGFzdGVTdGF0ZSgpO1xuICAgICAgZGVhY3RpdmF0ZU1vZGFsKGltcG9ydE1vZGFsKTtcbiAgICB9O1xuICAgIGNvbnN0IHVwZGF0ZUltcG9ydEZpbGVMaXN0ID0gKCkgPT4ge1xuICAgICAgaWYgKCFpbXBvcnRGaWxlTGlzdCB8fCAhaW1wb3J0RmlsZU5hbWVzKSByZXR1cm47XG4gICAgICBpZiAoaW1wb3J0U2VsZWN0ZWRGaWxlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgaW1wb3J0RmlsZUxpc3QuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIHVwZGF0ZUltcG9ydFN1Ym1pdFN0YXRlKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGltcG9ydEZpbGVMaXN0LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgaW1wb3J0RmlsZU5hbWVzLmlubmVySFRNTCA9IGltcG9ydFNlbGVjdGVkRmlsZXNcbiAgICAgICAgLm1hcCgoZikgPT4gYDxsaSBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+PHNwYW4gY2xhc3M9XCJ0ZXh0LWxnXCI+XHVEODNEXHVEQ0M0PC9zcGFuPiR7Zi5uYW1lfTwvbGk+YClcbiAgICAgICAgLmpvaW4oJycpO1xuICAgICAgdXBkYXRlSW1wb3J0U3VibWl0U3RhdGUoKTtcbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZUltcG9ydEZpbGVzID0gKGZpbGVzKSA9PiB7XG4gICAgICBjb25zdCBqc29uRmlsZXMgPSBBcnJheS5mcm9tKGZpbGVzKS5maWx0ZXIoXG4gICAgICAgIChmKSA9PiBmLnR5cGUgPT09ICdhcHBsaWNhdGlvbi9qc29uJyB8fCBmLm5hbWUuZW5kc1dpdGgoJy5qc29uJylcbiAgICAgICk7XG4gICAgICBpZiAoanNvbkZpbGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBzaG93VG9hc3QoJ0F1Y3VuIGZpY2hpZXIgSlNPTiB2YWxpZGUuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGltcG9ydFNlbGVjdGVkRmlsZXMgPSBqc29uRmlsZXM7XG4gICAgICB1cGRhdGVJbXBvcnRGaWxlTGlzdCgpO1xuICAgIH07XG4gICAgY29uc3QgZXhlY3V0ZUltcG9ydCA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghcGFnZXNBcGlCYXNlKSByZXR1cm47XG4gICAgICBcbiAgICAgIC8vIERldGVybWluZSBzb3VyY2Ugb2YgZGF0YSBiYXNlZCBvbiBhY3RpdmUgdGFiXG4gICAgICBsZXQgcGFnZXNEYXRhID0gW107XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKCdbaW1wb3J0XSBhY3RpdmVJbXBvcnRUYWI6JywgYWN0aXZlSW1wb3J0VGFiKTtcbiAgICAgIFxuICAgICAgaWYgKGFjdGl2ZUltcG9ydFRhYiA9PT0gJ3Bhc3RlJykge1xuICAgICAgICAvLyBJbXBvcnQgZnJvbSBwYXN0ZWQgSlNPTlxuICAgICAgICBjb25zdCB0ZXh0ID0gaW1wb3J0UGFzdGVJbnB1dD8udmFsdWU/LnRyaW0oKTtcbiAgICAgICAgY29uc29sZS5sb2coJ1tpbXBvcnRdIHBhc3RlIHRleHQgbGVuZ3RoOicsIHRleHQ/Lmxlbmd0aCk7XG4gICAgICAgIGlmICghdGV4dCkge1xuICAgICAgICAgIHNob3dUb2FzdCgnQXVjdW4gSlNPTiBcdTAwRTAgaW1wb3J0ZXIuJyk7XG4gICAgICAgICAgaWYgKGltcG9ydFJlc3VsdHMgJiYgaW1wb3J0UmVzdWx0c0NvbnRlbnQpIHtcbiAgICAgICAgICAgIGltcG9ydFJlc3VsdHMuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgICBpbXBvcnRSZXN1bHRzQ29udGVudC5pbm5lckhUTUwgPSAnPHAgY2xhc3M9XCJ0ZXh0LWFtYmVyLTYwMFwiPlx1MjZBMCBMZSBjaGFtcCBkZSB0ZXh0ZSBlc3QgdmlkZS48L3A+JztcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcGFyc2VkID0gSlNPTi5wYXJzZSh0ZXh0KTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnW2ltcG9ydF0gcGFyc2VkIEpTT046JywgcGFyc2VkKTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnW2ltcG9ydF0gcGFyc2VkIHR5cGU6JywgdHlwZW9mIHBhcnNlZCwgQXJyYXkuaXNBcnJheShwYXJzZWQpID8gJ2FycmF5JyA6ICdub3QgYXJyYXknKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBTdXBwb3J0IGZvcm1hdCB7IHBhZ2VzOiBbLi4uXSwgY29sbGVjdGlvbnM6IHsuLi59IH1cbiAgICAgICAgICBpZiAocGFyc2VkICYmICFBcnJheS5pc0FycmF5KHBhcnNlZCkgJiYgcGFyc2VkLnBhZ2VzKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnW2ltcG9ydF0gZGV0ZWN0ZWQgcGFnZXMrY29sbGVjdGlvbnMgZm9ybWF0Jyk7XG4gICAgICAgICAgICBwYWdlc0RhdGEgPSBwYXJzZWQ7IC8vIFNlbmQgdGhlIHdob2xlIG9iamVjdCwgYmFja2VuZCB3aWxsIGhhbmRsZSBpdFxuICAgICAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShwYXJzZWQpKSB7XG4gICAgICAgICAgICBwYWdlc0RhdGEucHVzaCguLi5wYXJzZWQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYWdlc0RhdGEucHVzaChwYXJzZWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zb2xlLmxvZygnW2ltcG9ydF0gcGFnZXNEYXRhIHByZXBhcmVkOicsIHBhZ2VzRGF0YSk7XG4gICAgICAgIH0gY2F0Y2ggKHBhcnNlRXJyKSB7XG4gICAgICAgICAgLy8gQWZmaWNoZXIgbGUgZFx1MDBFOXRhaWwgZGUgbCdlcnJldXIgZGUgcGFyc2luZ1xuICAgICAgICAgIGNvbnN0IGVycm9yTGluZSA9IHBhcnNlRXJyLm1lc3NhZ2UubWF0Y2goL3Bvc2l0aW9uIChcXGQrKS8pO1xuICAgICAgICAgIGxldCBlcnJvckRldGFpbCA9IHBhcnNlRXJyLm1lc3NhZ2U7XG4gICAgICAgICAgaWYgKGVycm9yTGluZSkge1xuICAgICAgICAgICAgY29uc3QgcG9zID0gcGFyc2VJbnQoZXJyb3JMaW5lWzFdLCAxMCk7XG4gICAgICAgICAgICBjb25zdCBsaW5lcyA9IHRleHQuc3Vic3RyaW5nKDAsIHBvcykuc3BsaXQoJ1xcbicpO1xuICAgICAgICAgICAgY29uc3QgbGluZU51bSA9IGxpbmVzLmxlbmd0aDtcbiAgICAgICAgICAgIGNvbnN0IGNvbE51bSA9IGxpbmVzW2xpbmVzLmxlbmd0aCAtIDFdLmxlbmd0aCArIDE7XG4gICAgICAgICAgICBlcnJvckRldGFpbCA9IGBMaWduZSAke2xpbmVOdW19LCBjb2xvbm5lICR7Y29sTnVtfTogJHtwYXJzZUVyci5tZXNzYWdlfWA7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNob3dUb2FzdChgRXJyZXVyIEpTT04gOiAke2Vycm9yRGV0YWlsfWAsICdlcnJvcicpO1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tpbXBvcnRdIHBhc3RlIHBhcnNlIGVycm9yJywgcGFyc2VFcnIpO1xuICAgICAgICAgIC8vIFNob3cgZXJyb3IgaW4gcmVzdWx0cyBhcmVhXG4gICAgICAgICAgaWYgKGltcG9ydFJlc3VsdHMgJiYgaW1wb3J0UmVzdWx0c0NvbnRlbnQpIHtcbiAgICAgICAgICAgIGltcG9ydFJlc3VsdHMuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgICBpbXBvcnRSZXN1bHRzQ29udGVudC5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LXJvc2UtNjAwXCI+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJmb250LW1lZGl1bVwiPlx1MjcxNyBFcnJldXIgZGUgc3ludGF4ZSBKU09OPC9wPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC14cyBtdC0xXCI+JHtlcnJvckRldGFpbH08L3A+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXhzIG10LTIgdGV4dC1zbGF0ZS01MDBcIj5WXHUwMEU5cmlmaWV6IGxlcyB2aXJndWxlcywgZ3VpbGxlbWV0cyBldCBhY2NvbGFkZXMuPC9wPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIGA7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChhY3RpdmVJbXBvcnRUYWIgPT09ICd1cGxvYWQnKSB7XG4gICAgICAgIC8vIEltcG9ydCBmcm9tIGZpbGVzXG4gICAgICAgIGlmIChpbXBvcnRTZWxlY3RlZEZpbGVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICAgICAgICBjb25zdCBmaWxlRXJyb3JzID0gW107XG4gICAgICAgIGZvciAoY29uc3QgZmlsZSBvZiBpbXBvcnRTZWxlY3RlZEZpbGVzKSB7XG4gICAgICAgICAgY29uc3QgdGV4dCA9IGF3YWl0IGZpbGUudGV4dCgpO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBwYXJzZWQgPSBKU09OLnBhcnNlKHRleHQpO1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocGFyc2VkKSkge1xuICAgICAgICAgICAgICBwYWdlc0RhdGEucHVzaCguLi5wYXJzZWQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGFnZXNEYXRhLnB1c2gocGFyc2VkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoIChwYXJzZUVycikge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JMaW5lID0gcGFyc2VFcnIubWVzc2FnZS5tYXRjaCgvcG9zaXRpb24gKFxcZCspLyk7XG4gICAgICAgICAgICBsZXQgZXJyb3JEZXRhaWwgPSBwYXJzZUVyci5tZXNzYWdlO1xuICAgICAgICAgICAgaWYgKGVycm9yTGluZSkge1xuICAgICAgICAgICAgICBjb25zdCBwb3MgPSBwYXJzZUludChlcnJvckxpbmVbMV0sIDEwKTtcbiAgICAgICAgICAgICAgY29uc3QgbGluZXMgPSB0ZXh0LnN1YnN0cmluZygwLCBwb3MpLnNwbGl0KCdcXG4nKTtcbiAgICAgICAgICAgICAgY29uc3QgbGluZU51bSA9IGxpbmVzLmxlbmd0aDtcbiAgICAgICAgICAgICAgZXJyb3JEZXRhaWwgPSBgTGlnbmUgJHtsaW5lTnVtfTogJHtwYXJzZUVyci5tZXNzYWdlfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaWxlRXJyb3JzLnB1c2goeyBmaWxlOiBmaWxlLm5hbWUsIGVycm9yOiBlcnJvckRldGFpbCB9KTtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tpbXBvcnRdIHBhcnNlIGVycm9yJywgZmlsZS5uYW1lLCBwYXJzZUVycik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFNob3cgZmlsZSBwYXJzaW5nIGVycm9ycyBpZiBhbnlcbiAgICAgICAgaWYgKGZpbGVFcnJvcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGlmIChpbXBvcnRSZXN1bHRzICYmIGltcG9ydFJlc3VsdHNDb250ZW50KSB7XG4gICAgICAgICAgICBpbXBvcnRSZXN1bHRzLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgICAgbGV0IGh0bWwgPSAnPGRpdiBjbGFzcz1cInRleHQtcm9zZS02MDBcIj48cCBjbGFzcz1cImZvbnQtbWVkaXVtXCI+XHUyNzE3IEVycmV1cnMgZGUgc3ludGF4ZSBKU09OPC9wPjx1bCBjbGFzcz1cIm1sLTQgdGV4dC14cyBtdC0xXCI+JztcbiAgICAgICAgICAgIGZpbGVFcnJvcnMuZm9yRWFjaChlID0+IHtcbiAgICAgICAgICAgICAgaHRtbCArPSBgPGxpPjxzdHJvbmc+JHtlLmZpbGV9PC9zdHJvbmc+OiAke2UuZXJyb3J9PC9saT5gO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBodG1sICs9ICc8L3VsPjwvZGl2Pic7XG4gICAgICAgICAgICBpZiAocGFnZXNEYXRhLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgaHRtbCArPSBgPHAgY2xhc3M9XCJ0ZXh0LWFtYmVyLTYwMCBtdC0yIHRleHQtc21cIj5cdTI2QTAgJHtwYWdlc0RhdGEubGVuZ3RofSBwYWdlKHMpIHZhbGlkZShzKSBzZXJvbnQgaW1wb3J0XHUwMEU5ZShzKTwvcD5gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW1wb3J0UmVzdWx0c0NvbnRlbnQuaW5uZXJIVE1MID0gaHRtbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHBhZ2VzRGF0YS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHNob3dUb2FzdCgnVG91cyBsZXMgZmljaGllcnMgY29udGllbm5lbnQgZGVzIGVycmV1cnMgSlNPTicsICdlcnJvcicpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBWXHUwMEU5cmlmaWVyIHF1J29uIGEgZGVzIGRvbm5cdTAwRTllcyBcdTAwRTAgaW1wb3J0ZXJcbiAgICAgIGNvbnN0IGhhc0RhdGEgPSBBcnJheS5pc0FycmF5KHBhZ2VzRGF0YSkgXG4gICAgICAgID8gcGFnZXNEYXRhLmxlbmd0aCA+IDAgXG4gICAgICAgIDogKHBhZ2VzRGF0YSAmJiAocGFnZXNEYXRhLnBhZ2VzPy5sZW5ndGggPiAwIHx8IHBhZ2VzRGF0YS50aXRsZSkpO1xuICAgICAgXG4gICAgICBjb25zb2xlLmxvZygnW2ltcG9ydF0gaGFzRGF0YSBjaGVjazonLCBoYXNEYXRhLCAncGFnZXNEYXRhOicsIHBhZ2VzRGF0YSk7XG4gICAgICBcbiAgICAgIGlmICghaGFzRGF0YSkge1xuICAgICAgICBzaG93VG9hc3QoJ0F1Y3VuZSBwYWdlIHZhbGlkZSBcdTAwRTAgaW1wb3J0ZXIuJyk7XG4gICAgICAgIGlmIChpbXBvcnRSZXN1bHRzICYmIGltcG9ydFJlc3VsdHNDb250ZW50KSB7XG4gICAgICAgICAgaW1wb3J0UmVzdWx0cy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICBpbXBvcnRSZXN1bHRzQ29udGVudC5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC1hbWJlci02MDBcIj5cbiAgICAgICAgICAgICAgPHAgY2xhc3M9XCJmb250LW1lZGl1bVwiPlx1MjZBMCBBdWN1bmUgcGFnZSBkXHUwMEU5dGVjdFx1MDBFOWU8L3A+XG4gICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC14cyBtdC0xXCI+TGUgSlNPTiBkb2l0IGNvbnRlbmlyIDo8L3A+XG4gICAgICAgICAgICAgIDx1bCBjbGFzcz1cInRleHQteHMgbWwtNCBtdC0xIGxpc3QtZGlzY1wiPlxuICAgICAgICAgICAgICAgIDxsaT5VbiBvYmpldCBwYWdlIGF2ZWMgXCJ0aXRsZVwiIDogPGNvZGU+e1widGl0bGVcIjogXCJNYSBwYWdlXCIsIC4uLn08L2NvZGU+PC9saT5cbiAgICAgICAgICAgICAgICA8bGk+VW4gdGFibGVhdSBkZSBwYWdlcyA6IDxjb2RlPlt7XCJ0aXRsZVwiOiBcIlBhZ2UgMVwifSwge1widGl0bGVcIjogXCJQYWdlIDJcIn1dPC9jb2RlPjwvbGk+XG4gICAgICAgICAgICAgICAgPGxpPk91IHVuIG9iamV0IGNvbWJpblx1MDBFOSA6IDxjb2RlPntcInBhZ2VzXCI6IFsuLi5dLCBcImNvbGxlY3Rpb25zXCI6IHsuLi59fTwvY29kZT48L2xpPlxuICAgICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgYDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChpbXBvcnRTdWJtaXQpIHtcbiAgICAgICAgaW1wb3J0U3VibWl0LmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgaW1wb3J0U3VibWl0LnRleHRDb250ZW50ID0gJ0ltcG9ydC4uLic7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEFmZmljaGVyIGNlIHF1J29uIHZhIGVudm95ZXIgKGRlYnVnKVxuICAgICAgY29uc29sZS5sb2coJ1tpbXBvcnRdIFNlbmRpbmcgdG8gc2VydmVyOicsIEpTT04uc3RyaW5naWZ5KHBhZ2VzRGF0YSkuc3Vic3RyaW5nKDAsIDUwMCkpO1xuICAgICAgXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke3BhZ2VzQXBpQmFzZX0vaW1wb3J0YCwge1xuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZScsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGFnZXNEYXRhKSxcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBjb25zb2xlLmxvZygnW2ltcG9ydF0gU2VydmVyIHJlc3BvbnNlIHN0YXR1czonLCByZXNwb25zZS5zdGF0dXMpO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBjb25zb2xlLmxvZygnW2ltcG9ydF0gU2VydmVyIHJlc3BvbnNlIGJvZHk6JywgcmVzdWx0KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIC8vIEFmZmljaGVyIGxlIGRcdTAwRTl0YWlsIGRlIGwnZXJyZXVyIHNlcnZldXJcbiAgICAgICAgICBpZiAoaW1wb3J0UmVzdWx0cyAmJiBpbXBvcnRSZXN1bHRzQ29udGVudCkge1xuICAgICAgICAgICAgaW1wb3J0UmVzdWx0cy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIGltcG9ydFJlc3VsdHNDb250ZW50LmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRleHQtcm9zZS02MDBcIj5cbiAgICAgICAgICAgICAgICA8cCBjbGFzcz1cImZvbnQtbWVkaXVtXCI+XHUyNzE3IEVycmV1ciBzZXJ2ZXVyPC9wPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC14cyBtdC0xXCI+JHtyZXN1bHQubWVzc2FnZSB8fCAnRXJyZXVyIGluY29ubnVlJ308L3A+XG4gICAgICAgICAgICAgICAgJHtyZXN1bHQuZGV0YWlscyA/IGA8cCBjbGFzcz1cInRleHQteHMgbXQtMSB0ZXh0LXNsYXRlLTUwMFwiPiR7cmVzdWx0LmRldGFpbHN9PC9wPmAgOiAnJ31cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICBgO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzdWx0Lm1lc3NhZ2UgfHwgJ0VycmV1ciBzZXJ2ZXVyJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2hvdyByZXN1bHRzXG4gICAgICAgIGlmIChpbXBvcnRSZXN1bHRzICYmIGltcG9ydFJlc3VsdHNDb250ZW50KSB7XG4gICAgICAgICAgaW1wb3J0UmVzdWx0cy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICBsZXQgaHRtbCA9ICcnO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIEVudFx1MDBFQXRlIHN1Y2NcdTAwRThzL2VycmV1clxuICAgICAgICAgIGNvbnN0IGhhc1N1Y2Nlc3MgPSAocmVzdWx0LmltcG9ydGVkPy5sZW5ndGggPiAwKSB8fCAocmVzdWx0LmNvbGxlY3Rpb25zQ3JlYXRlZD8ubGVuZ3RoID4gMCk7XG4gICAgICAgICAgY29uc3QgaGFzRXJyb3JzID0gcmVzdWx0LmVycm9ycz8ubGVuZ3RoID4gMDtcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoaGFzU3VjY2VzcyAmJiAhaGFzRXJyb3JzKSB7XG4gICAgICAgICAgICBodG1sICs9ICc8ZGl2IGNsYXNzPVwiYmctZ3JlZW4tNTAgYm9yZGVyIGJvcmRlci1ncmVlbi0yMDAgcm91bmRlZC1sZyBwLTMgbWItMlwiPjxwIGNsYXNzPVwidGV4dC1ncmVlbi04MDAgZm9udC1tZWRpdW1cIj5cdTI3MTMgSW1wb3J0IHJcdTAwRTl1c3NpPC9wPjwvZGl2Pic7XG4gICAgICAgICAgfSBlbHNlIGlmIChoYXNTdWNjZXNzICYmIGhhc0Vycm9ycykge1xuICAgICAgICAgICAgaHRtbCArPSAnPGRpdiBjbGFzcz1cImJnLWFtYmVyLTUwIGJvcmRlciBib3JkZXItYW1iZXItMjAwIHJvdW5kZWQtbGcgcC0zIG1iLTJcIj48cCBjbGFzcz1cInRleHQtYW1iZXItODAwIGZvbnQtbWVkaXVtXCI+XHUyNkEwIEltcG9ydCBwYXJ0aWVsPC9wPjwvZGl2Pic7XG4gICAgICAgICAgfSBlbHNlIGlmIChoYXNFcnJvcnMpIHtcbiAgICAgICAgICAgIGh0bWwgKz0gJzxkaXYgY2xhc3M9XCJiZy1yb3NlLTUwIGJvcmRlciBib3JkZXItcm9zZS0yMDAgcm91bmRlZC1sZyBwLTMgbWItMlwiPjxwIGNsYXNzPVwidGV4dC1yb3NlLTgwMCBmb250LW1lZGl1bVwiPlx1MjcxNyBJbXBvcnQgXHUwMEU5Y2hvdVx1MDBFOTwvcD48L2Rpdj4nO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAvLyBDb2xsZWN0aW9ucyBjclx1MDBFOVx1MDBFOWVzXG4gICAgICAgICAgaWYgKHJlc3VsdC5jb2xsZWN0aW9uc0NyZWF0ZWQgJiYgcmVzdWx0LmNvbGxlY3Rpb25zQ3JlYXRlZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBodG1sICs9IGA8cCBjbGFzcz1cInRleHQtdmlvbGV0LTcwMCBtdC0yXCI+XHUyNzEzICR7cmVzdWx0LmNvbGxlY3Rpb25zQ3JlYXRlZC5sZW5ndGh9IGNvbGxlY3Rpb24ocykgY3JcdTAwRTlcdTAwRTllKHMpPC9wPmA7XG4gICAgICAgICAgICBodG1sICs9ICc8dWwgY2xhc3M9XCJtbC00IHRleHQteHMgdGV4dC1zbGF0ZS02MDBcIj4nO1xuICAgICAgICAgICAgcmVzdWx0LmNvbGxlY3Rpb25zQ3JlYXRlZC5mb3JFYWNoKChjKSA9PiB7XG4gICAgICAgICAgICAgIGh0bWwgKz0gYDxsaT4ke2MubmFtZX0gKCR7Yy5pdGVtc0NvdW50fSBpdGVtJHtjLml0ZW1zQ291bnQgPiAxID8gJ3MnIDogJyd9KTwvbGk+YDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaHRtbCArPSAnPC91bD4nO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBQYWdlcyBpbXBvcnRcdTAwRTllc1xuICAgICAgICAgIGlmIChyZXN1bHQuaW1wb3J0ZWQgJiYgcmVzdWx0LmltcG9ydGVkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGh0bWwgKz0gYDxwIGNsYXNzPVwidGV4dC1ncmVlbi03MDAgbXQtMlwiPlx1MjcxMyAke3Jlc3VsdC5pbXBvcnRlZC5sZW5ndGh9IHBhZ2UocykgaW1wb3J0XHUwMEU5ZShzKTwvcD5gO1xuICAgICAgICAgICAgaHRtbCArPSAnPHVsIGNsYXNzPVwibWwtNCB0ZXh0LXhzIHRleHQtc2xhdGUtNjAwXCI+JztcbiAgICAgICAgICAgIHJlc3VsdC5pbXBvcnRlZC5mb3JFYWNoKChwKSA9PiB7XG4gICAgICAgICAgICAgIGh0bWwgKz0gYDxsaT48c3Ryb25nPiR7cC50aXRsZX08L3N0cm9uZz4gXHUyMTkyICR7cC5zbHVnfSAoJHtwLmFjdGlvbiA9PT0gJ3VwZGF0ZWQnID8gJ21pc2UgXHUwMEUwIGpvdXInIDogJ2NyXHUwMEU5XHUwMEU5ZSd9KTwvbGk+YDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaHRtbCArPSAnPC91bD4nO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBFcnJldXJzIGF2ZWMgZFx1MDBFOXRhaWxzXG4gICAgICAgICAgaWYgKHJlc3VsdC5lcnJvcnMgJiYgcmVzdWx0LmVycm9ycy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBodG1sICs9IGA8cCBjbGFzcz1cInRleHQtcm9zZS02MDAgbXQtMyBmb250LW1lZGl1bVwiPlx1MjcxNyAke3Jlc3VsdC5lcnJvcnMubGVuZ3RofSBlcnJldXIocyk8L3A+YDtcbiAgICAgICAgICAgIGh0bWwgKz0gJzx1bCBjbGFzcz1cIm1sLTQgdGV4dC14cyB0ZXh0LXJvc2UtNjAwIHNwYWNlLXktMSBtdC0xXCI+JztcbiAgICAgICAgICAgIHJlc3VsdC5lcnJvcnMuZm9yRWFjaCgoZSkgPT4ge1xuICAgICAgICAgICAgICBodG1sICs9IGA8bGkgY2xhc3M9XCJiZy1yb3NlLTUwIHAtMiByb3VuZGVkXCI+PHN0cm9uZz4ke2UudGl0bGV9PC9zdHJvbmc+PGJyLz48c3BhbiBjbGFzcz1cInRleHQtcm9zZS01MDBcIj4ke2UuZXJyb3J9PC9zcGFuPjwvbGk+YDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaHRtbCArPSAnPC91bD4nO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpbXBvcnRSZXN1bHRzQ29udGVudC5pbm5lckhUTUwgPSBodG1sO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlbG9hZCBwYWdlcyBsaXN0IGFuZCBzaG93IHRvYXN0XG4gICAgICAgIGNvbnN0IGhhc1N1Y2Nlc3MgPSAocmVzdWx0LmltcG9ydGVkPy5sZW5ndGggPiAwKSB8fCAocmVzdWx0LmNvbGxlY3Rpb25zQ3JlYXRlZD8ubGVuZ3RoID4gMCk7XG4gICAgICAgIGNvbnN0IGhhc0Vycm9ycyA9IHJlc3VsdC5lcnJvcnM/Lmxlbmd0aCA+IDA7XG4gICAgICAgIFxuICAgICAgICBpZiAocmVzdWx0LmltcG9ydGVkICYmIHJlc3VsdC5pbXBvcnRlZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY29uc3QgZnJlc2hQYWdlcyA9IGF3YWl0IGZldGNoUGFnZXNGcm9tU2VydmVyKCk7XG4gICAgICAgICAgcGFnZXMgPSBmcmVzaFBhZ2VzO1xuICAgICAgICAgIHJlbmRlclBhZ2VMaXN0cyhwYWdlcywgYWN0aXZlUGFnZUlkKTtcbiAgICAgICAgICBpZiAocGFnZXMubGVuZ3RoID4gMCAmJiAhYWN0aXZlUGFnZUlkKSB7XG4gICAgICAgICAgICBzZXRBY3RpdmVQYWdlKHBhZ2VzWzBdLmlkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFRvYXN0IGF2ZWMgc3RhdHV0IGFwcHJvcHJpXHUwMEU5XG4gICAgICAgIGlmIChoYXNTdWNjZXNzICYmICFoYXNFcnJvcnMpIHtcbiAgICAgICAgICBjb25zdCBjb2xsZWN0aW9uc01zZyA9IHJlc3VsdC5jb2xsZWN0aW9uc0NyZWF0ZWQ/Lmxlbmd0aCBcbiAgICAgICAgICAgID8gYCArICR7cmVzdWx0LmNvbGxlY3Rpb25zQ3JlYXRlZC5sZW5ndGh9IGNvbGxlY3Rpb24ocylgIFxuICAgICAgICAgICAgOiAnJztcbiAgICAgICAgICBzaG93VG9hc3QoYFx1MjcxMyBJbXBvcnQgclx1MDBFOXVzc2kgOiAke3Jlc3VsdC5pbXBvcnRlZD8ubGVuZ3RoIHx8IDB9IHBhZ2Uocykke2NvbGxlY3Rpb25zTXNnfWAsICdzdWNjZXNzJyk7XG4gICAgICAgIH0gZWxzZSBpZiAoaGFzU3VjY2VzcyAmJiBoYXNFcnJvcnMpIHtcbiAgICAgICAgICBzaG93VG9hc3QoYFx1MjZBMCBJbXBvcnQgcGFydGllbCA6ICR7cmVzdWx0LmltcG9ydGVkPy5sZW5ndGggfHwgMH0gcGFnZShzKSwgJHtyZXN1bHQuZXJyb3JzLmxlbmd0aH0gZXJyZXVyKHMpYCwgJ3dhcm5pbmcnKTtcbiAgICAgICAgfSBlbHNlIGlmIChoYXNFcnJvcnMpIHtcbiAgICAgICAgICBzaG93VG9hc3QoYFx1MjcxNyBJbXBvcnQgXHUwMEU5Y2hvdVx1MDBFOSA6ICR7cmVzdWx0LmVycm9ycy5sZW5ndGh9IGVycmV1cihzKWAsICdlcnJvcicpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpbXBvcnRTZWxlY3RlZEZpbGVzID0gW107XG4gICAgICAgIHVwZGF0ZUltcG9ydEZpbGVMaXN0KCk7XG4gICAgICAgIHJlc2V0UGFzdGVTdGF0ZSgpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tpbXBvcnRdIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGltcG9ydCcsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKGltcG9ydFN1Ym1pdCkge1xuICAgICAgICAgIGltcG9ydFN1Ym1pdC5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgIGltcG9ydFN1Ym1pdC50ZXh0Q29udGVudCA9ICdJbXBvcnRlcic7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIGltcG9ydFRvZ2dsZT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuSW1wb3J0TW9kYWwpO1xuICAgIGltcG9ydENsb3NlQnV0dG9ucy5mb3JFYWNoKChidG4pID0+IGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlSW1wb3J0TW9kYWwpKTtcbiAgICBpbXBvcnRNb2RhbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgaWYgKGUudGFyZ2V0ID09PSBpbXBvcnRNb2RhbCkgY2xvc2VJbXBvcnRNb2RhbCgpO1xuICAgIH0pO1xuICAgIGltcG9ydEZpbGVJbnB1dD8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGUpID0+IHtcbiAgICAgIGhhbmRsZUltcG9ydEZpbGVzKGUudGFyZ2V0LmZpbGVzKTtcbiAgICB9KTtcbiAgICBpbXBvcnREcm9wem9uZT8uYWRkRXZlbnRMaXN0ZW5lcignZHJhZ292ZXInLCAoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaW1wb3J0RHJvcHpvbmUuY2xhc3NMaXN0LmFkZCgnYm9yZGVyLVsjOUM2QkZGXScsICdiZy1bIzlDNkJGRl0vMTAnKTtcbiAgICB9KTtcbiAgICBpbXBvcnREcm9wem9uZT8uYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2xlYXZlJywgKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGltcG9ydERyb3B6b25lLmNsYXNzTGlzdC5yZW1vdmUoJ2JvcmRlci1bIzlDNkJGRl0nLCAnYmctWyM5QzZCRkZdLzEwJyk7XG4gICAgfSk7XG4gICAgaW1wb3J0RHJvcHpvbmU/LmFkZEV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCAoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaW1wb3J0RHJvcHpvbmUuY2xhc3NMaXN0LnJlbW92ZSgnYm9yZGVyLVsjOUM2QkZGXScsICdiZy1bIzlDNkJGRl0vMTAnKTtcbiAgICAgIGhhbmRsZUltcG9ydEZpbGVzKGUuZGF0YVRyYW5zZmVyLmZpbGVzKTtcbiAgICB9KTtcbiAgICBpbXBvcnRTdWJtaXQ/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZXhlY3V0ZUltcG9ydCk7XG4gICAgLy8gUGFzdGUgSlNPTiBoYW5kbGVyc1xuICAgIGltcG9ydFBhc3RlSW5wdXQ/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgdXBkYXRlSW1wb3J0U3VibWl0U3RhdGUoKTtcbiAgICB9KTtcbiAgICBwYXN0ZUZvcm1hdEJ0bj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmb3JtYXRQYXN0ZUpzb24pO1xuICAgIC8vIEltcG9ydCB0YWJzXG4gICAgaW1wb3J0VGFicy5mb3JFYWNoKCh0YWIpID0+IHtcbiAgICAgIHRhYi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgY29uc3QgdGFyZ2V0UGFuZWwgPSB0YWIuZGF0YXNldC5pbXBvcnRUYWI7XG4gICAgICAgIGFjdGl2ZUltcG9ydFRhYiA9IHRhcmdldFBhbmVsO1xuICAgICAgICBpbXBvcnRUYWJzLmZvckVhY2goKHQpID0+IHtcbiAgICAgICAgICBpZiAodC5kYXRhc2V0LmltcG9ydFRhYiA9PT0gdGFyZ2V0UGFuZWwpIHtcbiAgICAgICAgICAgIHQuY2xhc3NMaXN0LmFkZCgnYmctWyM5QzZCRkZdJywgJ3RleHQtd2hpdGUnKTtcbiAgICAgICAgICAgIHQuY2xhc3NMaXN0LnJlbW92ZSgnYm9yZGVyJywgJ2JvcmRlci1zbGF0ZS0yMDAnLCAndGV4dC1zbGF0ZS03MDAnKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdC5jbGFzc0xpc3QucmVtb3ZlKCdiZy1bIzlDNkJGRl0nLCAndGV4dC13aGl0ZScpO1xuICAgICAgICAgICAgdC5jbGFzc0xpc3QuYWRkKCdib3JkZXInLCAnYm9yZGVyLXNsYXRlLTIwMCcsICd0ZXh0LXNsYXRlLTcwMCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGltcG9ydFBhbmVscy5mb3JFYWNoKChwKSA9PiB7XG4gICAgICAgICAgaWYgKHAuZGF0YXNldC5pbXBvcnRQYW5lbCA9PT0gdGFyZ2V0UGFuZWwpIHtcbiAgICAgICAgICAgIHAuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHAuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdXBkYXRlSW1wb3J0U3VibWl0U3RhdGUoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGNvcHlUZW1wbGF0ZUJ0bj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXRlbXBsYXRlSnNvbikgcmV0dXJuO1xuICAgICAgY29uc3QgdGV4dCA9IHRlbXBsYXRlSnNvbi50ZXh0Q29udGVudCB8fCAnJztcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KHRleHQpO1xuICAgICAgICBzaG93VG9hc3QoJ1RlbXBsYXRlIGNvcGlcdTAwRTkgIScpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tpbXBvcnRdIGNvcHkgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KCdFcnJldXIgY29waWUnKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIERlbGV0ZSBwYWdlIG1vZGFsIGxpc3RlbmVyc1xuICAgIGRlbGV0ZVBhZ2VDYW5jZWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VEZWxldGVQYWdlTW9kYWwpO1xuICAgIGRlbGV0ZVBhZ2VDb25maXJtPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGV4ZWN1dGVEZWxldGVQYWdlKTtcbiAgICBkZWxldGVQYWdlTW9kYWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGlmIChlLnRhcmdldCA9PT0gZGVsZXRlUGFnZU1vZGFsKSBjbG9zZURlbGV0ZVBhZ2VNb2RhbCgpO1xuICAgIH0pO1xuXG4gICAgYmxvY2tMaWJyYXJ5VG9nZ2xlPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB0b2dnbGVCbG9ja0xpYnJhcnkoKTtcbiAgICB9KTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgaWYgKCFibG9ja0xpYnJhcnlPcGVuKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChcbiAgICAgICAgYmxvY2tMaWJyYXJ5Py5jb250YWlucyhldmVudC50YXJnZXQpIHx8XG4gICAgICAgIGJsb2NrTGlicmFyeVRvZ2dsZT8uY29udGFpbnMoZXZlbnQudGFyZ2V0KVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNsb3NlQmxvY2tMaWJyYXJ5KCk7XG4gICAgfSk7XG4gICAgYmxvY2tBZGRCdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBjb25zdCB0eXBlID0gYnV0dG9uLmRhdGFzZXQuYmxvY2tBZGQ7XG4gICAgICAgIGFkZEJsb2NrRnJvbUxpYnJhcnkodHlwZSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBibG9ja0RlbGV0ZUNhbmNlbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjbG9zZUJsb2NrRGVsZXRlTW9kYWwoKTtcbiAgICB9KTtcbiAgICBibG9ja0RlbGV0ZUNvbmZpcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgaWYgKHBlbmRpbmdEZWxldGVCbG9ja0lkKSB7XG4gICAgICAgIGRlbGV0ZUJsb2NrQnlJZChwZW5kaW5nRGVsZXRlQmxvY2tJZCk7XG4gICAgICB9XG4gICAgICBjbG9zZUJsb2NrRGVsZXRlTW9kYWwoKTtcbiAgICB9KTtcbiAgICBibG9ja0RlbGV0ZU1vZGFsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gYmxvY2tEZWxldGVNb2RhbCkge1xuICAgICAgICBjbG9zZUJsb2NrRGVsZXRlTW9kYWwoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBibG9ja0Zvcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQ7XG4gICAgICBpZiAoIXRhcmdldCB8fCAhdGFyZ2V0Lm5hbWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gTWluaSBwcmV2aWV3IHBvdXIgZ3JvdXBlXG4gICAgICBpZiAodGFyZ2V0Lm5hbWUgPT09ICdncm91cC1jb2x1bW5zLW1vYmlsZScgfHwgdGFyZ2V0Lm5hbWUgPT09ICdncm91cC1jb2x1bW5zLWRlc2t0b3AnKSB7XG4gICAgICAgIGNvbnN0IG1vYmlsZVZhbHVlID1cbiAgICAgICAgICBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJncm91cC1jb2x1bW5zLW1vYmlsZVwiXScpPy52YWx1ZSB8fCAnMSc7XG4gICAgICAgIGNvbnN0IGRlc2t0b3BWYWx1ZSA9XG4gICAgICAgICAgYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZ3JvdXAtY29sdW1ucy1kZXNrdG9wXCJdJyk/LnZhbHVlIHx8ICczJztcbiAgICAgICAgdXBkYXRlR3JvdXBNaW5pUHJldmlldyhtb2JpbGVWYWx1ZSwgZGVza3RvcFZhbHVlKTtcbiAgICAgIH1cbiAgICAgIC8vIE1pbmkgcHJldmlldyBwb3VyIGNvbGxlY3Rpb25cbiAgICAgIGlmICh0YXJnZXQubmFtZSA9PT0gJ2NvbGxlY3Rpb24tY29sdW1ucy1tb2JpbGUnIHx8IHRhcmdldC5uYW1lID09PSAnY29sbGVjdGlvbi1jb2x1bW5zLWRlc2t0b3AnKSB7XG4gICAgICAgIGNvbnN0IG1vYmlsZVZhbHVlID1cbiAgICAgICAgICBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJjb2xsZWN0aW9uLWNvbHVtbnMtbW9iaWxlXCJdJyk/LnZhbHVlIHx8ICcxJztcbiAgICAgICAgY29uc3QgZGVza3RvcFZhbHVlID1cbiAgICAgICAgICBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJjb2xsZWN0aW9uLWNvbHVtbnMtZGVza3RvcFwiXScpPy52YWx1ZSB8fCAnMyc7XG4gICAgICAgIHVwZGF0ZUNvbGxlY3Rpb25NaW5pUHJldmlldyhtb2JpbGVWYWx1ZSwgZGVza3RvcFZhbHVlKTtcbiAgICAgIH1cbiAgICAgIC8vIERcdTAwRTl0ZWN0aW9uIHNpIG9uIGVzdCBkYW5zIGxlIHBhbmVsIEFwcGFyZW5jZSBcdTIxOTIgYXV0by1zYXZlXG4gICAgICBjb25zdCBwYW5lbCA9IHRhcmdldC5jbG9zZXN0KCdbZGF0YS1ibG9jay1wYW5lbF0nKTtcbiAgICAgIGlmIChwYW5lbCAmJiBwYW5lbC5kYXRhc2V0LmJsb2NrUGFuZWwgPT09ICdhcHBlYXJhbmNlJykge1xuICAgICAgICAvLyBBdXRvLXNhdmUgKyByZWZyZXNoIHByZXZpZXcgcG91ciBsJ2FwcGFyZW5jZVxuICAgICAgICBjb25zdCBibG9jayA9IGdldEFjdGl2ZUJsb2NrKCk7XG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IGdldEJsb2NrRm9ybUNvbmZpZyhibG9jayk7XG4gICAgICAgIGlmIChibG9jayAmJiBjb25maWcpIHtcbiAgICAgICAgICBjb25zdCB2YWx1ZXMgPSBjb2xsZWN0Rm9ybVZhbHVlcyhjb25maWcpO1xuICAgICAgICAgIGhhbmRsZUFwcGVhcmFuY2VDaGFuZ2UoYmxvY2suaWQsIHZhbHVlcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICAvLyBcdTAwQzlnYWxlbWVudCBzdXIgJ2NoYW5nZScgcG91ciBsZXMgc2VsZWN0c1xuICAgIGJsb2NrRm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQ7XG4gICAgICBpZiAoIXRhcmdldCB8fCAhdGFyZ2V0Lm5hbWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gTWlzZSBcdTAwRTAgam91ciBkdSBwcmV2aWV3IGRlIGNvdWxldXIgcG91ciBsZXMgY29sb3Igc2VsZWN0c1xuICAgICAgaWYgKHRhcmdldC5oYXNBdHRyaWJ1dGUoJ2RhdGEtY29sb3Itc2VsZWN0JykpIHtcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRPcHRpb24gPSB0YXJnZXQub3B0aW9uc1t0YXJnZXQuc2VsZWN0ZWRJbmRleF07XG4gICAgICAgIGNvbnN0IGNvbG9yID0gc2VsZWN0ZWRPcHRpb24/LmRhdGFzZXQ/LmNvbG9yIHx8ICcjZmZmZmZmJztcbiAgICAgICAgY29uc3QgY29sb3JQcmV2aWV3ID0gdGFyZ2V0LmNsb3Nlc3QoJy5yZWxhdGl2ZScpPy5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xvci1wcmV2aWV3XScpO1xuICAgICAgICBpZiAoY29sb3JQcmV2aWV3KSB7XG4gICAgICAgICAgaWYgKGNvbG9yID09PSAndHJhbnNwYXJlbnQnKSB7XG4gICAgICAgICAgICBjb2xvclByZXZpZXcuc3R5bGUuYmFja2dyb3VuZCA9ICdyZXBlYXRpbmctY29uaWMtZ3JhZGllbnQoI2NjYyAwJSAyNSUsIHdoaXRlIDAlIDUwJSkgNTAlIC8gOHB4IDhweCc7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbG9yUHJldmlldy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBjb2xvcjtcbiAgICAgICAgICAgIGNvbG9yUHJldmlldy5zdHlsZS5iYWNrZ3JvdW5kID0gJyc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb25zdCBwYW5lbCA9IHRhcmdldC5jbG9zZXN0KCdbZGF0YS1ibG9jay1wYW5lbF0nKTtcbiAgICAgIGlmIChwYW5lbCAmJiBwYW5lbC5kYXRhc2V0LmJsb2NrUGFuZWwgPT09ICdhcHBlYXJhbmNlJykge1xuICAgICAgICBjb25zdCBibG9jayA9IGdldEFjdGl2ZUJsb2NrKCk7XG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IGdldEJsb2NrRm9ybUNvbmZpZyhibG9jayk7XG4gICAgICAgIGlmIChibG9jayAmJiBjb25maWcpIHtcbiAgICAgICAgICBjb25zdCB2YWx1ZXMgPSBjb2xsZWN0Rm9ybVZhbHVlcyhjb25maWcpO1xuICAgICAgICAgIGhhbmRsZUFwcGVhcmFuY2VDaGFuZ2UoYmxvY2suaWQsIHZhbHVlcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICBjb2xsZWN0aW9uU2VsZWN0Py5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICAgIHN5bmNDb2xsZWN0aW9uU2VsZWN0aW9uSW5mbyh0YXJnZXQ/LnZhbHVlIHx8ICcnKTtcbiAgICB9KTtcbiAgICBibG9ja0Zvcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGhhbmRsZUJsb2NrRm9ybVN1Ym1pdCk7XG4gICAgYmxvY2tGb3JtQ2FuY2VsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGNvbnN0IGJsb2NrID0gZ2V0QWN0aXZlQmxvY2soKTtcbiAgICAgIGlmIChibG9jaykge1xuICAgICAgICBwb3B1bGF0ZUJsb2NrRm9ybShibG9jayk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcHJldmlld0ZyYW1lPy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xuICAgICAgcHJldmlld1JlYWR5ID0gdHJ1ZTtcbiAgICAgIHVwZGF0ZVByZXZpZXdTdGF0dXMoJ1x1MDBDMCBqb3VyJyk7XG4gICAgICBhcHBseVByZXZpZXdIaWdobGlnaHQoYWN0aXZlQmxvY2tJZCk7XG4gICAgfSk7XG4gICAgcHJldmlld09wZW5CdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgcHJldmlld1dpbmRvdyA9IHdpbmRvdy5vcGVuKCcnLCAnX2JsYW5rJyk7XG4gICAgICBpZiAoIXByZXZpZXdXaW5kb3cpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcHJldmlld1dpbmRvdy5vcGVuZXIgPSBudWxsO1xuICAgICAgY29uc3QgZG9jID0gcHJldmlld1dpbmRvdy5kb2N1bWVudDtcbiAgICAgIGRvYy5vcGVuKCk7XG4gICAgICBkb2Mud3JpdGUobGF0ZXN0UHJldmlld0h0bWwgfHwgZ2V0TG9hZGluZ1ByZXZpZXdIdG1sKCkpO1xuICAgICAgZG9jLmNsb3NlKCk7XG4gICAgfSk7XG5cbiAgICAvLyBTRU8gcGFuZWwgbG9naWNcbiAgICBjb25zdCB0b2dnbGVTZW9QYW5lbCA9IChzaG93KSA9PiB7XG4gICAgICBpZiAoIXNlb1BhbmVsKSByZXR1cm47XG4gICAgICBpZiAoc2hvdykge1xuICAgICAgICBzZW9QYW5lbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgLy8gUG9wdWxhdGUgZmllbGRzIHdpdGggY3VycmVudCBwYWdlIFNFTyBkYXRhXG4gICAgICAgIGlmIChjdXJyZW50UGFnZSkge1xuICAgICAgICAgIHNlb1RpdGxlSW5wdXQgJiYgKHNlb1RpdGxlSW5wdXQudmFsdWUgPSBjdXJyZW50UGFnZS5zZW8/LnRpdGxlIHx8ICcnKTtcbiAgICAgICAgICBzZW9EZXNjcmlwdGlvbklucHV0ICYmIChzZW9EZXNjcmlwdGlvbklucHV0LnZhbHVlID0gY3VycmVudFBhZ2Uuc2VvPy5kZXNjcmlwdGlvbiB8fCAnJyk7XG4gICAgICAgICAgLy8gaW5kZXhlZDogdHJ1ZSBieSBkZWZhdWx0IGlmIG5vdCBleHBsaWNpdGx5IHNldCB0byBmYWxzZVxuICAgICAgICAgIHNlb0luZGV4ZWRDaGVja2JveCAmJiAoc2VvSW5kZXhlZENoZWNrYm94LmNoZWNrZWQgPSBjdXJyZW50UGFnZS5zZW8/LmluZGV4ZWQgIT09IGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2VvUGFuZWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBzZXRTZW9GZWVkYmFjayA9IChtZXNzYWdlLCB0b25lID0gJ211dGVkJykgPT4ge1xuICAgICAgaWYgKCFzZW9GZWVkYmFjaykgcmV0dXJuO1xuICAgICAgY29uc3QgY29sb3IgPSB0b25lID09PSAnc3VjY2VzcycgPyAndGV4dC1lbWVyYWxkLTYwMCcgOiB0b25lID09PSAnZXJyb3InID8gJ3RleHQtcm9zZS02MDAnIDogJ3RleHQtc2xhdGUtNTAwJztcbiAgICAgIHNlb0ZlZWRiYWNrLnRleHRDb250ZW50ID0gbWVzc2FnZSB8fCAnJztcbiAgICAgIHNlb0ZlZWRiYWNrLmNsYXNzTmFtZSA9IGB0ZXh0LXNtICR7Y29sb3J9YDtcbiAgICB9O1xuICAgIHNlb1RvZ2dsZUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBpc1Zpc2libGUgPSBzZW9QYW5lbCAmJiAhc2VvUGFuZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdoaWRkZW4nKTtcbiAgICAgIHRvZ2dsZVNlb1BhbmVsKCFpc1Zpc2libGUpO1xuICAgIH0pO1xuICAgIHNlb0Nsb3NlQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRvZ2dsZVNlb1BhbmVsKGZhbHNlKSk7XG4gICAgc2VvRm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSkge1xuICAgICAgICBzZXRTZW9GZWVkYmFjaygnQXVjdW5lIHBhZ2UgYWN0aXZlLicsICdlcnJvcicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZW9TYXZlQnV0dG9uICYmIChzZW9TYXZlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZSk7XG4gICAgICBzZXRTZW9GZWVkYmFjaygnJyk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBzZW9EYXRhID0ge1xuICAgICAgICAgIHRpdGxlOiAoc2VvVGl0bGVJbnB1dD8udmFsdWUgfHwgJycpLnRyaW0oKSxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogKHNlb0Rlc2NyaXB0aW9uSW5wdXQ/LnZhbHVlIHx8ICcnKS50cmltKCksXG4gICAgICAgICAgaW5kZXhlZDogc2VvSW5kZXhlZENoZWNrYm94Py5jaGVja2VkID8/IHRydWUsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRQYWdlID0geyAuLi5jdXJyZW50UGFnZSwgc2VvOiBzZW9EYXRhIH07XG4gICAgICAgIGNvbnN0IHNhdmVkID0gYXdhaXQgc2F2ZVBhZ2VUb1NlcnZlcih1cGRhdGVkUGFnZSk7XG4gICAgICAgIGlmIChzYXZlZCkge1xuICAgICAgICAgIGN1cnJlbnRQYWdlID0gc2F2ZWQ7XG4gICAgICAgICAgc2V0U2VvRmVlZGJhY2soJ1NFTyBlbnJlZ2lzdHJcdTAwRTkuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgICBzaG93VG9hc3QoJ1NFTyBtaXMgXHUwMEUwIGpvdXInKTtcbiAgICAgICAgICByZWZyZXNoUHJldmlldyhjdXJyZW50UGFnZSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbc2VvXSBzYXZlIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNldFNlb0ZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsYSBzYXV2ZWdhcmRlLicsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2VvU2F2ZUJ1dHRvbiAmJiAoc2VvU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGNvbnN0IHN5bmNQYWdlQWNjZXNzaWJpbGl0eUZpZWxkcyA9ICgpID0+IHtcbiAgICAgIGlmICghcGFnZUFjY2Vzc2liaWxpdHlOYXZDaGVja2JveCAmJiAhcGFnZUFjY2Vzc2liaWxpdHlNYWluSW5wdXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFjdXJyZW50UGFnZSkge1xuICAgICAgICBwYWdlQWNjZXNzaWJpbGl0eU5hdkNoZWNrYm94ICYmIChwYWdlQWNjZXNzaWJpbGl0eU5hdkNoZWNrYm94LmNoZWNrZWQgPSB0cnVlKTtcbiAgICAgICAgcGFnZUFjY2Vzc2liaWxpdHlNYWluSW5wdXQgJiYgKHBhZ2VBY2Nlc3NpYmlsaXR5TWFpbklucHV0LnZhbHVlID0gJycpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAocGFnZUFjY2Vzc2liaWxpdHlOYXZDaGVja2JveCkge1xuICAgICAgICBwYWdlQWNjZXNzaWJpbGl0eU5hdkNoZWNrYm94LmNoZWNrZWQgPVxuICAgICAgICAgIGN1cnJlbnRQYWdlLmFjY2Vzc2liaWxpdHk/LnNob3dJbk1haW5OYXYgIT09IGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKHBhZ2VBY2Nlc3NpYmlsaXR5TWFpbklucHV0KSB7XG4gICAgICAgIHBhZ2VBY2Nlc3NpYmlsaXR5TWFpbklucHV0LnZhbHVlID0gY3VycmVudFBhZ2UuYWNjZXNzaWJpbGl0eT8ubWFpbkxhYmVsIHx8ICcnO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCB0b2dnbGVQYWdlQWNjZXNzaWJpbGl0eVBhbmVsID0gKHNob3cpID0+IHtcbiAgICAgIGlmICghcGFnZUFjY2Vzc2liaWxpdHlQYW5lbCkgcmV0dXJuO1xuICAgICAgaWYgKHNob3cpIHtcbiAgICAgICAgc3luY1BhZ2VBY2Nlc3NpYmlsaXR5RmllbGRzKCk7XG4gICAgICAgIHBhZ2VBY2Nlc3NpYmlsaXR5UGFuZWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYWdlQWNjZXNzaWJpbGl0eVBhbmVsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBzZXRQYWdlQWNjZXNzaWJpbGl0eUZlZWRiYWNrID0gKG1lc3NhZ2UsIHRvbmUgPSAnbXV0ZWQnKSA9PiB7XG4gICAgICBpZiAoIXBhZ2VBY2Nlc3NpYmlsaXR5RmVlZGJhY2spIHJldHVybjtcbiAgICAgIGNvbnN0IGNvbG9yID1cbiAgICAgICAgdG9uZSA9PT0gJ3N1Y2Nlc3MnXG4gICAgICAgICAgPyAndGV4dC1lbWVyYWxkLTYwMCdcbiAgICAgICAgICA6IHRvbmUgPT09ICdlcnJvcidcbiAgICAgICAgICAgID8gJ3RleHQtcm9zZS02MDAnXG4gICAgICAgICAgICA6ICd0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICBwYWdlQWNjZXNzaWJpbGl0eUZlZWRiYWNrLnRleHRDb250ZW50ID0gbWVzc2FnZSB8fCAnJztcbiAgICAgIHBhZ2VBY2Nlc3NpYmlsaXR5RmVlZGJhY2suY2xhc3NOYW1lID0gYHRleHQtc20gJHtjb2xvcn1gO1xuICAgIH07XG5cbiAgICBwYWdlQWNjZXNzaWJpbGl0eVRvZ2dsZUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBpc1Zpc2libGUgPVxuICAgICAgICBwYWdlQWNjZXNzaWJpbGl0eVBhbmVsICYmICFwYWdlQWNjZXNzaWJpbGl0eVBhbmVsLmNsYXNzTGlzdC5jb250YWlucygnaGlkZGVuJyk7XG4gICAgICB0b2dnbGVQYWdlQWNjZXNzaWJpbGl0eVBhbmVsKCFpc1Zpc2libGUpO1xuICAgIH0pO1xuICAgIHBhZ2VBY2Nlc3NpYmlsaXR5Q2xvc2VCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT5cbiAgICAgIHRvZ2dsZVBhZ2VBY2Nlc3NpYmlsaXR5UGFuZWwoZmFsc2UpLFxuICAgICk7XG5cbiAgICBwYWdlQWNjZXNzaWJpbGl0eUZvcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmICghY3VycmVudFBhZ2UpIHtcbiAgICAgICAgc2V0UGFnZUFjY2Vzc2liaWxpdHlGZWVkYmFjaygnQXVjdW5lIHBhZ2UgYWN0aXZlLicsICdlcnJvcicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwYWdlQWNjZXNzaWJpbGl0eVNhdmVCdXR0b24gJiYgKHBhZ2VBY2Nlc3NpYmlsaXR5U2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWUpO1xuICAgICAgc2V0UGFnZUFjY2Vzc2liaWxpdHlGZWVkYmFjaygnJyk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBhY2Nlc3NpYmlsaXR5RGF0YSA9IHtcbiAgICAgICAgICBzaG93SW5NYWluTmF2OiBwYWdlQWNjZXNzaWJpbGl0eU5hdkNoZWNrYm94Py5jaGVja2VkID8/IHRydWUsXG4gICAgICAgICAgbWFpbkxhYmVsOiAocGFnZUFjY2Vzc2liaWxpdHlNYWluSW5wdXQ/LnZhbHVlIHx8ICcnKS50cmltKCksXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRQYWdlID0ge1xuICAgICAgICAgIC4uLmN1cnJlbnRQYWdlLFxuICAgICAgICAgIGFjY2Vzc2liaWxpdHk6IGFjY2Vzc2liaWxpdHlEYXRhLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBzYXZlZCA9IGF3YWl0IHNhdmVQYWdlVG9TZXJ2ZXIodXBkYXRlZFBhZ2UpO1xuICAgICAgICBpZiAoc2F2ZWQpIHtcbiAgICAgICAgICBjdXJyZW50UGFnZSA9IHNhdmVkO1xuICAgICAgICAgIHN5bmNQYWdlQWNjZXNzaWJpbGl0eUZpZWxkcygpO1xuICAgICAgICAgIHNldFBhZ2VBY2Nlc3NpYmlsaXR5RmVlZGJhY2soJ0FjY2Vzc2liaWxpdFx1MDBFOSBlbnJlZ2lzdHJcdTAwRTllLicsICdzdWNjZXNzJyk7XG4gICAgICAgICAgc2hvd1RvYXN0KCdBY2Nlc3NpYmlsaXRcdTAwRTkgbWlzZSBcdTAwRTAgam91cicpO1xuICAgICAgICAgIHJlbmRlclBhZ2VMaXN0cyhwYWdlcywgYWN0aXZlUGFnZUlkKTtcbiAgICAgICAgICByZWZyZXNoUHJldmlldyhjdXJyZW50UGFnZSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbYWNjZXNzaWJpbGl0eV0gc2F2ZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzZXRQYWdlQWNjZXNzaWJpbGl0eUZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsYSBzYXV2ZWdhcmRlLicsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgcGFnZUFjY2Vzc2liaWxpdHlTYXZlQnV0dG9uICYmIChwYWdlQWNjZXNzaWJpbGl0eVNhdmVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBQYWdlIHByb3BlcnRpZXMgcGFuZWwgbG9naWNcbiAgICBjb25zdCB0b2dnbGVQYWdlUHJvcHNQYW5lbCA9IChzaG93KSA9PiB7XG4gICAgICBpZiAoIXBhZ2VQcm9wc1BhbmVsKSByZXR1cm47XG4gICAgICBpZiAoc2hvdykge1xuICAgICAgICBwYWdlUHJvcHNQYW5lbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgLy8gUG9wdWxhdGUgZmllbGRzIHdpdGggY3VycmVudCBwYWdlIGRhdGFcbiAgICAgICAgaWYgKGN1cnJlbnRQYWdlKSB7XG4gICAgICAgICAgcGFnZU5hbWVJbnB1dCAmJiAocGFnZU5hbWVJbnB1dC52YWx1ZSA9IGN1cnJlbnRQYWdlLm5hbWUgfHwgJycpO1xuICAgICAgICAgIHBhZ2VUaXRsZUlucHV0ICYmIChwYWdlVGl0bGVJbnB1dC52YWx1ZSA9IGN1cnJlbnRQYWdlLnRpdGxlIHx8ICcnKTtcbiAgICAgICAgICBwYWdlU2x1Z0lucHV0ICYmIChwYWdlU2x1Z0lucHV0LnZhbHVlID0gY3VycmVudFBhZ2Uuc2x1ZyB8fCAnJyk7XG4gICAgICAgICAgcGFnZURlc2NyaXB0aW9uSW5wdXQgJiYgKHBhZ2VEZXNjcmlwdGlvbklucHV0LnZhbHVlID0gY3VycmVudFBhZ2UuZGVzY3JpcHRpb24gfHwgJycpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYWdlUHJvcHNQYW5lbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHNldFBhZ2VQcm9wc0ZlZWRiYWNrID0gKG1lc3NhZ2UsIHRvbmUgPSAnbXV0ZWQnKSA9PiB7XG4gICAgICBpZiAoIXBhZ2VQcm9wc0ZlZWRiYWNrKSByZXR1cm47XG4gICAgICBjb25zdCBjb2xvciA9IHRvbmUgPT09ICdzdWNjZXNzJyA/ICd0ZXh0LWVtZXJhbGQtNjAwJyA6IHRvbmUgPT09ICdlcnJvcicgPyAndGV4dC1yb3NlLTYwMCcgOiAndGV4dC1zbGF0ZS01MDAnO1xuICAgICAgcGFnZVByb3BzRmVlZGJhY2sudGV4dENvbnRlbnQgPSBtZXNzYWdlIHx8ICcnO1xuICAgICAgcGFnZVByb3BzRmVlZGJhY2suY2xhc3NOYW1lID0gYHRleHQtc20gJHtjb2xvcn1gO1xuICAgIH07XG4gICAgcGFnZVByb3BzVG9nZ2xlQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IGlzVmlzaWJsZSA9IHBhZ2VQcm9wc1BhbmVsICYmICFwYWdlUHJvcHNQYW5lbC5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpO1xuICAgICAgdG9nZ2xlUGFnZVByb3BzUGFuZWwoIWlzVmlzaWJsZSk7XG4gICAgfSk7XG4gICAgcGFnZVByb3BzQ2xvc2VCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdG9nZ2xlUGFnZVByb3BzUGFuZWwoZmFsc2UpKTtcbiAgICBwYWdlUHJvcHNGb3JtPy5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlKSB7XG4gICAgICAgIHNldFBhZ2VQcm9wc0ZlZWRiYWNrKCdBdWN1bmUgcGFnZSBhY3RpdmUuJywgJ2Vycm9yJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHBhZ2VQcm9wc1NhdmVCdXR0b24gJiYgKHBhZ2VQcm9wc1NhdmVCdXR0b24uZGlzYWJsZWQgPSB0cnVlKTtcbiAgICAgIHNldFBhZ2VQcm9wc0ZlZWRiYWNrKCcnKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IG5ld05hbWUgPSAocGFnZU5hbWVJbnB1dD8udmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgICAgY29uc3QgbmV3VGl0bGUgPSAocGFnZVRpdGxlSW5wdXQ/LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICAgIGNvbnN0IG5ld1NsdWcgPSAocGFnZVNsdWdJbnB1dD8udmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgICAgY29uc3QgbmV3RGVzY3JpcHRpb24gPSAocGFnZURlc2NyaXB0aW9uSW5wdXQ/LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICAgIFxuICAgICAgICAvLyBWYWxpZGF0aW9uIGJhc2lxdWVcbiAgICAgICAgaWYgKCFuZXdUaXRsZSkge1xuICAgICAgICAgIHNldFBhZ2VQcm9wc0ZlZWRiYWNrKCdMZSB0aXRyZSBlc3QgcmVxdWlzLicsICdlcnJvcicpO1xuICAgICAgICAgIHBhZ2VQcm9wc1NhdmVCdXR0b24gJiYgKHBhZ2VQcm9wc1NhdmVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghbmV3U2x1ZyB8fCAhbmV3U2x1Zy5zdGFydHNXaXRoKCcvJykpIHtcbiAgICAgICAgICBzZXRQYWdlUHJvcHNGZWVkYmFjaygnTGUgc2x1ZyBkb2l0IGNvbW1lbmNlciBwYXIgLy4nLCAnZXJyb3InKTtcbiAgICAgICAgICBwYWdlUHJvcHNTYXZlQnV0dG9uICYmIChwYWdlUHJvcHNTYXZlQnV0dG9uLmRpc2FibGVkID0gZmFsc2UpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgY29uc3QgdXBkYXRlZFBhZ2UgPSB7XG4gICAgICAgICAgLi4uY3VycmVudFBhZ2UsXG4gICAgICAgICAgbmFtZTogbmV3TmFtZSB8fCBuZXdUaXRsZSwgLy8gRmFsbGJhY2sgdG8gdGl0bGUgaWYgbmFtZSBpcyBlbXB0eVxuICAgICAgICAgIHRpdGxlOiBuZXdUaXRsZSxcbiAgICAgICAgICBzbHVnOiBuZXdTbHVnLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBuZXdEZXNjcmlwdGlvbixcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3Qgc2F2ZWQgPSBhd2FpdCBzYXZlUGFnZVRvU2VydmVyKHVwZGF0ZWRQYWdlKTtcbiAgICAgICAgaWYgKHNhdmVkKSB7XG4gICAgICAgICAgY3VycmVudFBhZ2UgPSBzYXZlZDtcbiAgICAgICAgICAvLyBVcGRhdGUgcGFnZXMgYXJyYXlcbiAgICAgICAgICBwYWdlcyA9IHBhZ2VzLm1hcCgocCkgPT4gKHAuaWQgPT09IHNhdmVkLmlkID8gc2F2ZWQgOiBwKSk7XG4gICAgICAgICAgc2V0UGFnZVByb3BzRmVlZGJhY2soJ1Byb3ByaVx1MDBFOXRcdTAwRTlzIGVucmVnaXN0clx1MDBFOWVzLicsICdzdWNjZXNzJyk7XG4gICAgICAgICAgc2hvd1RvYXN0KCdQYWdlIG1pc2UgXHUwMEUwIGpvdXInKTtcbiAgICAgICAgICAvLyBVcGRhdGUgVUlcbiAgICAgICAgICBzZXRBY3RpdmVMYWJlbHMoY3VycmVudFBhZ2UpO1xuICAgICAgICAgIHJlbmRlclBhZ2VMaXN0cyhwYWdlcywgYWN0aXZlUGFnZUlkKTtcbiAgICAgICAgICByZWZyZXNoUHJldmlldyhjdXJyZW50UGFnZSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbcGFnZS1wcm9wc10gc2F2ZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzZXRQYWdlUHJvcHNGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZGUgbGEgc2F1dmVnYXJkZS4nLCAnZXJyb3InKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHBhZ2VQcm9wc1NhdmVCdXR0b24gJiYgKHBhZ2VQcm9wc1NhdmVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBjb25zdCBoYW5kbGVCbG9ja0RyYWdTdGFydCA9IChldmVudCkgPT4ge1xuICAgICAgY29uc3QgaXRlbSA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCdbZGF0YS1ibG9jay1pdGVtXScpO1xuICAgICAgaWYgKCFpdGVtIHx8ICFpc0Rlc2t0b3BSZW9yZGVyKCkpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZHJhZ1NvdXJjZUlkID0gaXRlbS5kYXRhc2V0LmJsb2NrSWQgfHwgbnVsbDtcbiAgICAgIGlmICghZHJhZ1NvdXJjZUlkKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGV2ZW50LmRhdGFUcmFuc2Zlci5lZmZlY3RBbGxvd2VkID0gJ21vdmUnO1xuICAgICAgZXZlbnQuZGF0YVRyYW5zZmVyLnNldERhdGEoJ3RleHQvcGxhaW4nLCBkcmFnU291cmNlSWQpO1xuICAgICAgLy8gU3R5bGUgZHUgYmxvYyBlbiBjb3VycyBkZSBkcmFnXG4gICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICBpdGVtLmNsYXNzTGlzdC5hZGQoJ29wYWNpdHktNTAnLCAnc2NhbGUtWzAuOThdJywgJ3NoYWRvdy1sZycsICdyaW5nLTInLCAncmluZy1bIzlDNkJGRl0nKTtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgY29uc3QgY2xlYXJEcmFnSW5kaWNhdG9ycyA9ICgpID0+IHtcbiAgICAgIGJsb2NrTGlzdFxuICAgICAgICA/LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWJsb2NrLWl0ZW1dJylcbiAgICAgICAgLmZvckVhY2goKG5vZGUpID0+IHtcbiAgICAgICAgICBub2RlLmNsYXNzTGlzdC5yZW1vdmUoXG4gICAgICAgICAgICAnb3BhY2l0eS01MCcsICdzY2FsZS1bMC45OF0nLCAnc2hhZG93LWxnJywgJ3JpbmctMicsICdyaW5nLVsjOUM2QkZGXScsXG4gICAgICAgICAgICAnYm9yZGVyLXQtNCcsICdib3JkZXItYi00JywgJ2JvcmRlci10LVsjOUM2QkZGXScsICdib3JkZXItYi1bIzlDNkJGRl0nLFxuICAgICAgICAgICAgJ3B0LTYnLCAncGItNidcbiAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZUJsb2NrRHJhZ0VuZCA9ICgpID0+IHtcbiAgICAgIGRyYWdTb3VyY2VJZCA9IG51bGw7XG4gICAgICBjbGVhckRyYWdJbmRpY2F0b3JzKCk7XG4gICAgfTtcbiAgICBjb25zdCBoYW5kbGVCbG9ja0RyYWdPdmVyID0gKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoIWRyYWdTb3VyY2VJZCB8fCAhaXNEZXNrdG9wUmVvcmRlcigpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCdbZGF0YS1ibG9jay1pdGVtXScpO1xuICAgICAgaWYgKCF0YXJnZXQgfHwgdGFyZ2V0LmRhdGFzZXQuYmxvY2tJZCA9PT0gZHJhZ1NvdXJjZUlkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBldmVudC5kYXRhVHJhbnNmZXIuZHJvcEVmZmVjdCA9ICdtb3ZlJztcbiAgICAgIC8vIERcdTAwRTl0ZXJtaW5lIHNpIG9uIGRyb3AgYXZhbnQgb3UgYXByXHUwMEU4c1xuICAgICAgY29uc3QgcmVjdCA9IHRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIGNvbnN0IG1pZFkgPSByZWN0LnRvcCArIHJlY3QuaGVpZ2h0IC8gMjtcbiAgICAgIGNvbnN0IGlzQWJvdmUgPSBldmVudC5jbGllbnRZIDwgbWlkWTtcbiAgICAgIC8vIE5ldHRvaWUgbGVzIGF1dHJlcyBpbmRpY2F0ZXVyc1xuICAgICAgYmxvY2tMaXN0Py5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1ibG9jay1pdGVtXScpLmZvckVhY2goKG5vZGUpID0+IHtcbiAgICAgICAgaWYgKG5vZGUgIT09IHRhcmdldCAmJiBub2RlLmRhdGFzZXQuYmxvY2tJZCAhPT0gZHJhZ1NvdXJjZUlkKSB7XG4gICAgICAgICAgbm9kZS5jbGFzc0xpc3QucmVtb3ZlKCdib3JkZXItdC00JywgJ2JvcmRlci1iLTQnLCAnYm9yZGVyLXQtWyM5QzZCRkZdJywgJ2JvcmRlci1iLVsjOUM2QkZGXScsICdwdC02JywgJ3BiLTYnKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICAvLyBBcHBsaXF1ZSBsJ2luZGljYXRldXIgZGUgcG9zaXRpb25cbiAgICAgIHRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKCdib3JkZXItdC00JywgJ2JvcmRlci1iLTQnLCAnYm9yZGVyLXQtWyM5QzZCRkZdJywgJ2JvcmRlci1iLVsjOUM2QkZGXScsICdwdC02JywgJ3BiLTYnKTtcbiAgICAgIGlmIChpc0Fib3ZlKSB7XG4gICAgICAgIHRhcmdldC5jbGFzc0xpc3QuYWRkKCdib3JkZXItdC00JywgJ2JvcmRlci10LVsjOUM2QkZGXScsICdwdC02Jyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0YXJnZXQuY2xhc3NMaXN0LmFkZCgnYm9yZGVyLWItNCcsICdib3JkZXItYi1bIzlDNkJGRl0nLCAncGItNicpO1xuICAgICAgfVxuICAgICAgdGFyZ2V0LmRhdGFzZXQuZHJvcFBvc2l0aW9uID0gaXNBYm92ZSA/ICdiZWZvcmUnIDogJ2FmdGVyJztcbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZUJsb2NrRHJhZ0xlYXZlID0gKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQuY2xvc2VzdCgnW2RhdGEtYmxvY2staXRlbV0nKTtcbiAgICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vIFZcdTAwRTlyaWZpZSBzaSBvbiBxdWl0dGUgdnJhaW1lbnQgbCdcdTAwRTlsXHUwMEU5bWVudCAocGFzIGp1c3RlIHZlcnMgdW4gZW5mYW50KVxuICAgICAgY29uc3QgcmVsYXRlZFRhcmdldCA9IGV2ZW50LnJlbGF0ZWRUYXJnZXQ7XG4gICAgICBpZiAocmVsYXRlZFRhcmdldCAmJiB0YXJnZXQuY29udGFpbnMocmVsYXRlZFRhcmdldCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoJ2JvcmRlci10LTQnLCAnYm9yZGVyLWItNCcsICdib3JkZXItdC1bIzlDNkJGRl0nLCAnYm9yZGVyLWItWyM5QzZCRkZdJywgJ3B0LTYnLCAncGItNicpO1xuICAgICAgZGVsZXRlIHRhcmdldC5kYXRhc2V0LmRyb3BQb3NpdGlvbjtcbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZUJsb2NrRHJvcCA9IChldmVudCkgPT4ge1xuICAgICAgaWYgKCFkcmFnU291cmNlSWQgfHwgIWlzRGVza3RvcFJlb3JkZXIoKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLWJsb2NrLWl0ZW1dJyk7XG4gICAgICBjb25zdCBzb3VyY2UgPSBkcmFnU291cmNlSWQ7XG4gICAgICBjb25zdCBkcm9wUG9zaXRpb24gPSB0YXJnZXQ/LmRhdGFzZXQuZHJvcFBvc2l0aW9uIHx8ICdhZnRlcic7XG4gICAgICBkcmFnU291cmNlSWQgPSBudWxsO1xuICAgICAgY2xlYXJEcmFnSW5kaWNhdG9ycygpO1xuICAgICAgY29uc3QgdGFyZ2V0SWQgPSB0YXJnZXQ/LmRhdGFzZXQuYmxvY2tJZCB8fCBudWxsO1xuICAgICAgaWYgKCF0YXJnZXRJZCB8fCBzb3VyY2UgPT09IHRhcmdldElkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHJlb3JkZXJCbG9ja3NXaXRoUG9zaXRpb24oc291cmNlLCB0YXJnZXRJZCwgZHJvcFBvc2l0aW9uKTtcbiAgICB9O1xuICAgIGxldCBkcmFnU291cmNlSWQgPSBudWxsO1xuICAgIGJsb2NrTGlzdD8uYWRkRXZlbnRMaXN0ZW5lcignZHJhZ3N0YXJ0JywgaGFuZGxlQmxvY2tEcmFnU3RhcnQpO1xuICAgIGJsb2NrTGlzdD8uYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2VuZCcsIGhhbmRsZUJsb2NrRHJhZ0VuZCk7XG4gICAgYmxvY2tMaXN0Py5hZGRFdmVudExpc3RlbmVyKCdkcmFnb3ZlcicsIGhhbmRsZUJsb2NrRHJhZ092ZXIpO1xuICAgIGJsb2NrTGlzdD8uYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2xlYXZlJywgaGFuZGxlQmxvY2tEcmFnTGVhdmUpO1xuICAgIGJsb2NrTGlzdD8uYWRkRXZlbnRMaXN0ZW5lcignZHJvcCcsIGhhbmRsZUJsb2NrRHJvcCk7XG4gICAgbG9hZFBhZ2VzRnJvbVNlcnZlcigpO1xuXG4gICAgLy8gXHUwMEM5Y291dGVyIGwnXHUwMEU5dlx1MDBFOW5lbWVudCBkZSByYWZyYVx1MDBFRWNoaXNzZW1lbnQgZFx1MDBFOWNsZW5jaFx1MDBFOSBwYXIgbCdJQVxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2FpLXBhZ2UtdXBkYXRlZCcsIGFzeW5jIChlKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZygnW2Rlc2lnbl0gUmFmcmFcdTAwRUVjaGlzc2VtZW50IGRcdTAwRTljbGVuY2hcdTAwRTkgcGFyIElBJywgZS5kZXRhaWwpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gUmVjaGFyZ2VyIGxlcyBwYWdlcyBkZXB1aXMgbGUgc2VydmV1clxuICAgICAgICBjb25zdCBsb2FkZWRQYWdlcyA9IGF3YWl0IGZldGNoUGFnZXNGcm9tU2VydmVyKCk7XG4gICAgICAgIHBhZ2VzID0gKEFycmF5LmlzQXJyYXkobG9hZGVkUGFnZXMpID8gbG9hZGVkUGFnZXMgOiBbXSkubWFwKChwYWdlKSA9PlxuICAgICAgICAgIG5vcm1hbGl6ZVBhZ2VEYXRhKHBhZ2UpLFxuICAgICAgICApO1xuICAgICAgICBcbiAgICAgICAgLy8gVHJvdXZlciBldCBtZXR0cmUgXHUwMEUwIGpvdXIgbGEgcGFnZSBhY3RpdmVcbiAgICAgICAgaWYgKGUuZGV0YWlsPy5wYWdlSWQpIHtcbiAgICAgICAgICBjb25zdCB1cGRhdGVkUGFnZSA9IHBhZ2VzLmZpbmQocCA9PiBwLmlkID09PSBlLmRldGFpbC5wYWdlSWQpO1xuICAgICAgICAgIGlmICh1cGRhdGVkUGFnZSkge1xuICAgICAgICAgICAgY3VycmVudFBhZ2UgPSB1cGRhdGVkUGFnZTtcbiAgICAgICAgICAgIGFjdGl2ZVBhZ2VJZCA9IHVwZGF0ZWRQYWdlLmlkO1xuICAgICAgICAgICAgLy8gUmFmcmFcdTAwRUVjaGlyIGxhIHByZXZpZXcgYXZlYyBsYSBwYWdlIG1pc2UgXHUwMEUwIGpvdXJcbiAgICAgICAgICAgIHJlZnJlc2hQcmV2aWV3KGN1cnJlbnRQYWdlKTtcbiAgICAgICAgICAgIC8vIFJhZnJhXHUwMEVFY2hpciBsYSBsaXN0ZSBkZXMgYmxvY3NcbiAgICAgICAgICAgIHJlbmRlckJsb2NrTGlzdChjdXJyZW50UGFnZSk7XG4gICAgICAgICAgICBzaG93VG9hc3QoJ1BhZ2UgbWlzZSBcdTAwRTAgam91ciBwYXIgbFxcJ0lBJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGFjdGl2ZVBhZ2VJZCkge1xuICAgICAgICAgIC8vIFJhZnJhXHUwMEVFY2hpciBsYSBwYWdlIGFjdGl2ZSBhY3R1ZWxsZVxuICAgICAgICAgIGNvbnN0IGFjdGl2ZVBhZ2UgPSBwYWdlcy5maW5kKHAgPT4gcC5pZCA9PT0gYWN0aXZlUGFnZUlkKTtcbiAgICAgICAgICBpZiAoYWN0aXZlUGFnZSkge1xuICAgICAgICAgICAgY3VycmVudFBhZ2UgPSBhY3RpdmVQYWdlO1xuICAgICAgICAgICAgcmVmcmVzaFByZXZpZXcoY3VycmVudFBhZ2UpO1xuICAgICAgICAgICAgcmVuZGVyQmxvY2tMaXN0KGN1cnJlbnRQYWdlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZGVzaWduXSBFcnJldXIgcmFmcmFcdTAwRUVjaGlzc2VtZW50IElBOicsIGVycik7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBpbml0Q29udGVudFdvcmtzcGFjZSgpIHtcbiAgICBjb25zdCBjb2xsZWN0aW9uTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbGxlY3Rpb24tbGlzdF0nKTtcbiAgICBpZiAoIWNvbGxlY3Rpb25MaXN0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIC8vIFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFxuICAgIC8vIEhFQURFUiAmIEZPT1RFUiBNQU5BR0VNRU5UXG4gICAgLy8gXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXG4gICAgY29uc3QgY29udGVudFZpZXdzID0ge1xuICAgICAgZW1wdHk6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbnRlbnQtdmlldz1cImVtcHR5XCJdJyksXG4gICAgICBoZWFkZXI6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbnRlbnQtdmlldz1cImhlYWRlclwiXScpLFxuICAgICAgY29sbGVjdGlvbjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29udGVudC12aWV3PVwiY29sbGVjdGlvblwiXScpLFxuICAgICAgZm9vdGVyOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb250ZW50LXZpZXc9XCJmb290ZXJcIl0nKSxcbiAgICB9O1xuICAgIGNvbnN0IGNvbnRlbnRTZWN0aW9uQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWNvbnRlbnQtc2VjdGlvbl0nKTtcbiAgICBjb25zdCBjb250ZW50U2VjdGlvblRyaWdnZXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtY29udGVudC1zZWN0aW9uLXRyaWdnZXJdJyk7XG4gICAgY29uc3QgaGVhZGVyU3RhdHVzSW5kaWNhdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaGVhZGVyLXN0YXR1c10nKTtcbiAgICBjb25zdCBmb290ZXJTdGF0dXNJbmRpY2F0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1mb290ZXItc3RhdHVzXScpO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25Db3VudEVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29sbGVjdGlvbi1jb3VudF0nKTtcbiAgICBjb25zdCBpdGVtUGFuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLXBhbmVsXScpO1xuICAgIGNvbnN0IGl0ZW1QYW5lbENsb3NlQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWl0ZW0tcGFuZWwtY2xvc2VdJyk7XG4gICAgY29uc3QgY29sbGVjdGlvbkVtcHR5U3RhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xsZWN0aW9uLWVtcHR5XScpO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25JdGVtc0VtcHR5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29sbGVjdGlvbi1pdGVtcy1lbXB0eV0nKTtcbiAgICBjb25zdCBpdGVtVGFibGVXcmFwcGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS10YWJsZS13cmFwcGVyXScpO1xuICAgIGNvbnN0IGl0ZW1UYWJsZUJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLXRhYmxlLWJvZHldJyk7XG4gICAgY29uc3QgY29sbGVjdGlvblRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29sbGVjdGlvbi10aXRsZV0nKTtcbiAgICBjb25zdCBjb2xsZWN0aW9uRGVzY3JpcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xsZWN0aW9uLWRlc2NyaXB0aW9uXScpO1xuICAgIGNvbnN0IGl0ZW1BZGRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLWFkZF0nKTtcbiAgICBjb25zdCBpdGVtRGV0YWlsRW1wdHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLWRldGFpbC1lbXB0eV0nKTtcbiAgICBjb25zdCBpdGVtRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tZm9ybV0nKTtcbiAgICBjb25zdCBpdGVtRm9ybUZpZWxkcyA9IGl0ZW1Gb3JtXG4gICAgICA/IHtcbiAgICAgICAgICB0aXRsZTogaXRlbUZvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJpdGVtLXRpdGxlXCJdJyksXG4gICAgICAgICAgc2x1ZzogaXRlbUZvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJpdGVtLXNsdWdcIl0nKSxcbiAgICAgICAgICBleGNlcnB0OiBpdGVtRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cIml0ZW0tZXhjZXJwdFwiXScpLFxuICAgICAgICAgIGNvbnRlbnQ6IGl0ZW1Gb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaXRlbS1jb250ZW50XCJdJyksXG4gICAgICAgICAgaW1hZ2U6IGl0ZW1Gb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaXRlbS1pbWFnZVwiXScpLFxuICAgICAgICAgIGN0YVRleHQ6IGl0ZW1Gb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaXRlbS1jdGEtdGV4dFwiXScpLFxuICAgICAgICAgIGN0YVVybDogaXRlbUZvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJpdGVtLWN0YS11cmxcIl0nKSxcbiAgICAgICAgICBzdGF0dXM6IGl0ZW1Gb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaXRlbS1zdGF0dXNcIl0nKSxcbiAgICAgICAgfVxuICAgICAgOiB7fTtcbiAgICBjb25zdCBpdGVtU3RhdHVzQmFkZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLXN0YXR1cy1iYWRnZV0nKTtcbiAgICBjb25zdCBpdGVtRGVsZXRlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS1kZWxldGVdJyk7XG4gICAgY29uc3QgaXRlbURlbGV0ZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS1kZWxldGUtbW9kYWxdJyk7XG4gICAgY29uc3QgaXRlbURlbGV0ZUNhbmNlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tZGVsZXRlLWNhbmNlbF0nKTtcbiAgICBjb25zdCBpdGVtRGVsZXRlQ29uZmlybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tZGVsZXRlLWNvbmZpcm1dJyk7XG4gICAgY29uc3QgaXRlbUZvcm1DYW5jZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLWNhbmNlbF0nKTtcbiAgICBjb25zdCBpdGVtRm9ybVNhdmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLXNhdmVdJyk7XG4gICAgY29uc3Qgc3RhdHVzQmFkZ2VCYXNlQ2xhc3MgPSAncm91bmRlZC1mdWxsIHB4LTMgcHktMSB0ZXh0LXhzIGZvbnQtc2VtaWJvbGQnO1xuICAgIGNvbnN0IGlzRGVza3RvcFZpZXdwb3J0ID0gKCkgPT4gd2luZG93Lm1hdGNoTWVkaWEoJyhtaW4td2lkdGg6IDEwMjRweCknKS5tYXRjaGVzO1xuICAgIGNvbnN0IHNldEl0ZW1QYW5lbEhpZGRlblN0YXRlID0gKGhpZGRlbikgPT4ge1xuICAgICAgaWYgKCFpdGVtUGFuZWwgfHwgaXNEZXNrdG9wVmlld3BvcnQoKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBoaWRkZW5DbGFzc2VzID0gaXRlbVBhbmVsLmRhdGFzZXQuaXRlbVBhbmVsSGlkZGVuIHx8ICcnO1xuICAgICAgY29uc3QgdmlzaWJsZUNsYXNzZXMgPSBpdGVtUGFuZWwuZGF0YXNldC5pdGVtUGFuZWxWaXNpYmxlIHx8ICcnO1xuICAgICAgaWYgKGhpZGRlbikge1xuICAgICAgICBhcHBseVBhbmVsQ2xhc3NlcyhpdGVtUGFuZWwsIHZpc2libGVDbGFzc2VzLCAncmVtb3ZlJyk7XG4gICAgICAgIGFwcGx5UGFuZWxDbGFzc2VzKGl0ZW1QYW5lbCwgaGlkZGVuQ2xhc3NlcywgJ2FkZCcpO1xuICAgICAgICBpdGVtUGFuZWwuY2xhc3NMaXN0LmFkZCgncG9pbnRlci1ldmVudHMtbm9uZScpO1xuICAgICAgICBpdGVtUGFuZWwuZGF0YXNldC5pdGVtUGFuZWxPcGVuID0gJ2ZhbHNlJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFwcGx5UGFuZWxDbGFzc2VzKGl0ZW1QYW5lbCwgaGlkZGVuQ2xhc3NlcywgJ3JlbW92ZScpO1xuICAgICAgICBhcHBseVBhbmVsQ2xhc3NlcyhpdGVtUGFuZWwsIHZpc2libGVDbGFzc2VzLCAnYWRkJyk7XG4gICAgICAgIGl0ZW1QYW5lbC5jbGFzc0xpc3QucmVtb3ZlKCdwb2ludGVyLWV2ZW50cy1ub25lJyk7XG4gICAgICAgIGl0ZW1QYW5lbC5kYXRhc2V0Lml0ZW1QYW5lbE9wZW4gPSAndHJ1ZSc7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBzeW5jSXRlbVBhbmVsV2l0aFZpZXdwb3J0ID0gKCkgPT4ge1xuICAgICAgaWYgKCFpdGVtUGFuZWwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGlzRGVza3RvcFZpZXdwb3J0KCkpIHtcbiAgICAgICAgY29uc3QgaGlkZGVuQ2xhc3NlcyA9IGl0ZW1QYW5lbC5kYXRhc2V0Lml0ZW1QYW5lbEhpZGRlbiB8fCAnJztcbiAgICAgICAgYXBwbHlQYW5lbENsYXNzZXMoaXRlbVBhbmVsLCBoaWRkZW5DbGFzc2VzLCAncmVtb3ZlJyk7XG4gICAgICAgIGl0ZW1QYW5lbC5jbGFzc0xpc3QucmVtb3ZlKCdwb2ludGVyLWV2ZW50cy1ub25lJyk7XG4gICAgICAgIGl0ZW1QYW5lbC5kYXRhc2V0Lml0ZW1QYW5lbE9wZW4gPSAndHJ1ZSc7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtRm9ybT8uY2xhc3NMaXN0LmNvbnRhaW5zKCdoaWRkZW4nKSkge1xuICAgICAgICBzZXRJdGVtUGFuZWxIaWRkZW5TdGF0ZSh0cnVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldEl0ZW1QYW5lbEhpZGRlblN0YXRlKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBzeW5jSXRlbVBhbmVsV2l0aFZpZXdwb3J0KTtcbiAgICBpdGVtUGFuZWxDbG9zZUJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKGlzRGVza3RvcFZpZXdwb3J0KCkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaGlkZUl0ZW1Gb3JtKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBzeW5jSXRlbVBhbmVsV2l0aFZpZXdwb3J0KCk7XG4gICAgXG4gICAgLy8gSGVhZGVyIGZpZWxkc1xuICAgIGNvbnN0IGhlYWRlckZpZWxkcyA9IHtcbiAgICAgIGxvZ286IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaGVhZGVyLWxvZ29cIl0nKSxcbiAgICAgIGxvZ29BbHQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaGVhZGVyLWxvZ28tYWx0XCJdJyksXG4gICAgICBsb2dvVXJsOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImhlYWRlci1sb2dvLXVybFwiXScpLFxuICAgICAgY3RhVGV4dDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJoZWFkZXItY3RhLXRleHRcIl0nKSxcbiAgICAgIGN0YVVybDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJoZWFkZXItY3RhLXVybFwiXScpLFxuICAgICAgY3RhU3R5bGU6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaGVhZGVyLWN0YS1zdHlsZVwiXScpLFxuICAgICAgcG9zaXRpb246IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaGVhZGVyLXBvc2l0aW9uXCJdJyksXG4gICAgICBiZzogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJoZWFkZXItYmdcIl0nKSxcbiAgICB9O1xuICAgIGNvbnN0IGhlYWRlck5hdkxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1oZWFkZXItbmF2LWxpc3RdJyk7XG4gICAgY29uc3QgaGVhZGVyTmF2QWRkQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaGVhZGVyLW5hdi1hZGRdJyk7XG4gICAgY29uc3QgaGVhZGVyU2F2ZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWhlYWRlci1zYXZlXScpO1xuICAgIGNvbnN0IGhlYWRlck5hdkl0ZW1UZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRlbXBsYXRlLWhlYWRlci1uYXYtaXRlbV0nKTtcbiAgICBjb25zdCBoZWFkZXJQYWdlc0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1oZWFkZXItcGFnZXMtbGlzdF0nKTtcbiAgICBsZXQgc2l0ZVBhZ2VzID0gW107IC8vIFBhZ2VzIGR1IHNpdGUgcG91ciBsZXMgY2hlY2tib3hlc1xuICAgIGxldCBzZWxlY3RlZE5hdlBhZ2VzID0gW107IC8vIFBhZ2VzIHNcdTAwRTlsZWN0aW9ublx1MDBFOWVzIHBvdXIgbGUgbWVudSAoYXZlYyBvcmRyZSlcbiAgICBcbiAgICAvLyBGb290ZXIgZmllbGRzXG4gICAgY29uc3QgZm9vdGVyRmllbGRzID0ge1xuICAgICAgbGlua2VkaW46IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZm9vdGVyLXNvY2lhbC1saW5rZWRpblwiXScpLFxuICAgICAgdHdpdHRlcjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJmb290ZXItc29jaWFsLXR3aXR0ZXJcIl0nKSxcbiAgICAgIGluc3RhZ3JhbTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJmb290ZXItc29jaWFsLWluc3RhZ3JhbVwiXScpLFxuICAgICAgZmFjZWJvb2s6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZm9vdGVyLXNvY2lhbC1mYWNlYm9va1wiXScpLFxuICAgICAgeW91dHViZTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJmb290ZXItc29jaWFsLXlvdXR1YmVcIl0nKSxcbiAgICAgIGdpdGh1YjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJmb290ZXItc29jaWFsLWdpdGh1YlwiXScpLFxuICAgICAgY29weXJpZ2h0OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImZvb3Rlci1jb3B5cmlnaHRcIl0nKSxcbiAgICAgIGxlZ2FsVXJsOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImZvb3Rlci1sZWdhbC11cmxcIl0nKSxcbiAgICAgIHByaXZhY3lVcmw6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZm9vdGVyLXByaXZhY3ktdXJsXCJdJyksXG4gICAgICBiZzogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJmb290ZXItYmdcIl0nKSxcbiAgICAgIGNvbHVtbnNDb3VudDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJmb290ZXItY29sdW1ucy1jb3VudFwiXScpLFxuICAgIH07XG4gICAgY29uc3QgZm9vdGVyQ29sdW1uc0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1mb290ZXItY29sdW1ucy1saXN0XScpO1xuICAgIGNvbnN0IGZvb3RlckNvbHVtbkFkZEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWZvb3Rlci1jb2x1bW4tYWRkXScpO1xuICAgIGNvbnN0IGZvb3RlclNhdmVCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1mb290ZXItc2F2ZV0nKTtcbiAgICBjb25zdCBmb290ZXJDb2x1bW5UZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRlbXBsYXRlLWZvb3Rlci1jb2x1bW5dJyk7XG4gICAgY29uc3QgZm9vdGVyTGlua1RlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtdGVtcGxhdGUtZm9vdGVyLWxpbmtdJyk7XG4gICAgXG4gICAgbGV0IGFjdGl2ZUNvbnRlbnRTZWN0aW9uID0gbnVsbDtcbiAgICBsZXQgaGVhZGVyRGF0YSA9IHsgbmF2OiBbXSwgbG9nbzoge30sIGN0YToge30sIHN0eWxlOiB7fSB9O1xuICAgIGxldCBmb290ZXJEYXRhID0geyBjb2x1bW5zOiBbXSwgc29jaWFsczoge30sIGNvcHlyaWdodDogJycsIGxlZ2FsOiB7fSwgc3R5bGU6IHt9IH07XG4gICAgXG4gICAgY29uc3Qgc2FmZVNpdGVTbHVnRm9yTGF5b3V0ID0gc3RyaXBMZWFkaW5nU2xhc2god29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyk7XG4gICAgY29uc3Qgc2x1ZyA9IHNhZmVTaXRlU2x1Z0ZvckxheW91dDsgLy8gQWxpYXMgcG91ciBsZXMgZm9uY3Rpb25zIHF1aSB1dGlsaXNlbnQgc2x1Z1xuICAgIGNvbnN0IGxheW91dEFwaUJhc2UgPSBzYWZlU2l0ZVNsdWdGb3JMYXlvdXQgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWdGb3JMYXlvdXQpfS9sYXlvdXRgIDogbnVsbDtcbiAgICBcbiAgICAvLyBWaWV3IHN3aXRjaGluZ1xuICAgIGNvbnN0IHNob3dDb250ZW50VmlldyA9ICh2aWV3TmFtZSkgPT4ge1xuICAgICAgT2JqZWN0LmVudHJpZXMoY29udGVudFZpZXdzKS5mb3JFYWNoKChbbmFtZSwgZWxdKSA9PiB7XG4gICAgICAgIGlmIChlbCkgZWwuY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZGVuJywgbmFtZSAhPT0gdmlld05hbWUpO1xuICAgICAgfSk7XG4gICAgICBjb250ZW50U2VjdGlvbkJ1dHRvbnMuZm9yRWFjaChidG4gPT4ge1xuICAgICAgICBjb25zdCBzZWN0aW9uID0gYnRuLmRhdGFzZXQuY29udGVudFNlY3Rpb247XG4gICAgICAgIGlmIChzZWN0aW9uID09PSB2aWV3TmFtZSkge1xuICAgICAgICAgIGJ0bi5kYXRhc2V0LmFjdGl2ZSA9ICd0cnVlJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkZWxldGUgYnRuLmRhdGFzZXQuYWN0aXZlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGFjdGl2ZUNvbnRlbnRTZWN0aW9uID0gdmlld05hbWU7XG4gICAgfTtcbiAgICBcbiAgICAvLyBTZWN0aW9uIGJ1dHRvbiBoYW5kbGVyc1xuICAgIGNvbnRlbnRTZWN0aW9uQnV0dG9ucy5mb3JFYWNoKGJ0biA9PiB7XG4gICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHNlY3Rpb24gPSBidG4uZGF0YXNldC5jb250ZW50U2VjdGlvbjtcbiAgICAgICAgaWYgKHNlY3Rpb24gPT09ICdoZWFkZXInIHx8IHNlY3Rpb24gPT09ICdmb290ZXInKSB7XG4gICAgICAgICAgc2hvd0NvbnRlbnRWaWV3KHNlY3Rpb24pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBjb250ZW50U2VjdGlvblRyaWdnZXJzLmZvckVhY2goYnRuID0+IHtcbiAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgY29uc3Qgc2VjdGlvbiA9IGJ0bi5kYXRhc2V0LmNvbnRlbnRTZWN0aW9uVHJpZ2dlcjtcbiAgICAgICAgaWYgKHNlY3Rpb24pIHNob3dDb250ZW50VmlldyhzZWN0aW9uKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIFxuICAgIC8vIFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFxuICAgIC8vIEhFQURFUiBGVU5DVElPTlNcbiAgICAvLyBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcbiAgICBcbiAgICAvLyBDaGFyZ2VyIGxhIGxpc3RlIGRlcyBwYWdlcyBkdSBzaXRlIHBvdXIgbGVzIGNoZWNrYm94ZXNcbiAgICBjb25zdCBsb2FkU2l0ZVBhZ2VzRm9ySGVhZGVyID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFzbHVnIHx8ICFoZWFkZXJQYWdlc0xpc3QpIHJldHVybjtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvc2l0ZXMvJHtzbHVnfS9wYWdlc2AsIHsgY3JlZGVudGlhbHM6ICdpbmNsdWRlJyB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgdGhyb3cgbmV3IEVycm9yKCdFcnJldXIgY2hhcmdlbWVudCBwYWdlcycpO1xuICAgICAgICBzaXRlUGFnZXMgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIHJlbmRlclBhZ2VDaGVja2JveGVzKCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2hlYWRlcl0gbG9hZCBwYWdlcyBlcnJvcicsIGVycik7XG4gICAgICAgIGhlYWRlclBhZ2VzTGlzdC5pbm5lckhUTUwgPSAnPHAgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtcmVkLTUwMFwiPkVycmV1ciBjaGFyZ2VtZW50IHBhZ2VzPC9wPic7XG4gICAgICB9XG4gICAgfTtcbiAgICBcbiAgICAvLyBBZmZpY2hlciBsZXMgY2hlY2tib3hlcyBwb3VyIGNoYXF1ZSBwYWdlXG4gIGNvbnN0IG5vcm1hbGl6ZU5hdlBhZ2VVcmwgPSAodmFsdWUpID0+IHtcbiAgICBjb25zdCByYXcgPSAodmFsdWUgfHwgJycpLnRvU3RyaW5nKCkudHJpbSgpO1xuICAgIGlmICghcmF3IHx8IHJhdyA9PT0gJy8nIHx8IHJhdyA9PT0gJ2luZGV4Jykge1xuICAgICAgcmV0dXJuICcvJztcbiAgICB9XG4gICAgY29uc3QgbG93ZXIgPSByYXcudG9Mb3dlckNhc2UoKTtcbiAgICBpZiAocmF3LnN0YXJ0c1dpdGgoJyMnKSkge1xuICAgICAgcmV0dXJuIHJhdztcbiAgICB9XG4gICAgaWYgKGxvd2VyLnN0YXJ0c1dpdGgoJ21haWx0bzonKSB8fCBsb3dlci5zdGFydHNXaXRoKCd0ZWw6JykpIHtcbiAgICAgIHJldHVybiByYXc7XG4gICAgfVxuICAgIGlmICgvXlthLXpdKzpcXC9cXC8vaS50ZXN0KHJhdykpIHtcbiAgICAgIHJldHVybiByYXc7XG4gICAgfVxuICAgIGlmIChyYXcuc3RhcnRzV2l0aCgnLy8nKSkge1xuICAgICAgY29uc3Qgd2l0aG91dFNsYXNoZXMgPSByYXcuc2xpY2UoMik7XG4gICAgICBpZiAod2l0aG91dFNsYXNoZXMuaW5jbHVkZXMoJy4nKSkge1xuICAgICAgICByZXR1cm4gcmF3O1xuICAgICAgfVxuICAgICAgY29uc3QgY2xlYW5lZEludGVybmFsID0gd2l0aG91dFNsYXNoZXMucmVwbGFjZSgvXlxcLysvLCAnJykucmVwbGFjZSgvXFwvKyQvLCAnJyk7XG4gICAgICByZXR1cm4gY2xlYW5lZEludGVybmFsID8gYC8ke2NsZWFuZWRJbnRlcm5hbH1gIDogJy8nO1xuICAgIH1cbiAgICBjb25zdCBjbGVhbmVkID0gcmF3LnJlcGxhY2UoL15cXC8rLywgJycpLnJlcGxhY2UoL1xcLyskLywgJycpO1xuICAgIHJldHVybiBjbGVhbmVkID8gYC8ke2NsZWFuZWR9YCA6ICcvJztcbiAgfTtcbiAgY29uc3Qgbm9ybWFsaXplT3B0aW9uYWxOYXZVcmwgPSAodmFsdWUsIGRlZmF1bHRWYWx1ZSA9ICcnKSA9PiB7XG4gICAgY29uc3QgdHJpbW1lZCA9ICh2YWx1ZSB8fCAnJykudG9TdHJpbmcoKS50cmltKCk7XG4gICAgaWYgKCF0cmltbWVkKSB7XG4gICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gbm9ybWFsaXplTmF2UGFnZVVybCh0cmltbWVkKTtcbiAgfTtcblxuICBjb25zdCByZW5kZXJQYWdlQ2hlY2tib3hlcyA9ICgpID0+IHtcbiAgICBpZiAoIWhlYWRlclBhZ2VzTGlzdCkgcmV0dXJuO1xuICAgIGhlYWRlclBhZ2VzTGlzdC5pbm5lckhUTUwgPSAnJztcblxuICAgIGlmIChzaXRlUGFnZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGhlYWRlclBhZ2VzTGlzdC5pbm5lckhUTUwgPSAnPHAgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNDAwIGl0YWxpY1wiPkF1Y3VuZSBwYWdlIGRpc3BvbmlibGU8L3A+JztcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgXG4gICAgc2l0ZVBhZ2VzLmZvckVhY2gocGFnZSA9PiB7XG4gICAgICBjb25zdCBwYWdlU2x1ZyA9IHBhZ2Uuc2x1ZyB8fCBwYWdlLmlkIHx8ICcnO1xuICAgICAgLy8gVXNlIHBhZ2UubmFtZSAoc2hvcnQgbmFtZSkgaWYgYXZhaWxhYmxlLCBmYWxsYmFjayB0byB0aXRsZVxuICAgICAgY29uc3QgcGFnZURpc3BsYXlOYW1lID0gcGFnZS5uYW1lIHx8IHBhZ2UudGl0bGUgfHwgcGFnZVNsdWc7XG4gICAgICBjb25zdCBwYWdlVXJsID0gbm9ybWFsaXplTmF2UGFnZVVybChwYWdlU2x1Zyk7XG5cbiAgICAgIC8vIFZcdTAwRTlyaWZpZXIgc2kgY2V0dGUgcGFnZSBlc3Qgc1x1MDBFOWxlY3Rpb25uXHUwMEU5ZSBkYW5zIGxhIG5hdlxuICAgICAgY29uc3QgaXNTZWxlY3RlZCA9IHNlbGVjdGVkTmF2UGFnZXMuc29tZShuYXYgPT4gbmF2LnVybCA9PT0gcGFnZVVybCk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gICAgICAgIGxhYmVsLmNsYXNzTmFtZSA9ICdmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBweC0zIHB5LTIgcm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLXNsYXRlLTIwMCBob3ZlcjpiZy1zbGF0ZS01MCBjdXJzb3ItcG9pbnRlciB0cmFuc2l0aW9uLWNvbG9ycyc7XG4gICAgICAgIGxhYmVsLmlubmVySFRNTCA9IGBcbiAgICAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmFtZT1cIm5hdi1wYWdlXCIgdmFsdWU9XCIke3BhZ2VVcmx9XCIgZGF0YS1wYWdlLXRpdGxlPVwiJHtwYWdlRGlzcGxheU5hbWV9XCJcbiAgICAgICAgICAgICAgICAgY2xhc3M9XCJ3LTQgaC00IHJvdW5kZWQgYm9yZGVyLXNsYXRlLTMwMCB0ZXh0LXZpb2xldC02MDAgZm9jdXM6cmluZy12aW9sZXQtNTAwXCJcbiAgICAgICAgICAgICAgICAgJHtpc1NlbGVjdGVkID8gJ2NoZWNrZWQnIDogJyd9PlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZmxleC0xIHRleHQtc20gdGV4dC1zbGF0ZS03MDBcIj4ke3BhZ2VEaXNwbGF5TmFtZX08L3NwYW4+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNDAwXCI+JHtwYWdlVXJsfTwvc3Bhbj5cbiAgICAgICAgYDtcbiAgICAgICAgXG4gICAgICAgIC8vIE1ldHRyZSBcdTAwRTAgam91ciBzZWxlY3RlZE5hdlBhZ2VzIHF1YW5kIG9uIGNvY2hlL2RcdTAwRTljb2NoZVxuICAgICAgICBjb25zdCBjaGVja2JveCA9IGxhYmVsLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0Jyk7XG4gICAgICAgIGNoZWNrYm94LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgICAgICAgICBpZiAoY2hlY2tib3guY2hlY2tlZCkge1xuICAgICAgICAgICAgLy8gQWpvdXRlciBcdTAwRTAgbGEgbGlzdGVcbiAgICAgICAgICAgIGlmICghc2VsZWN0ZWROYXZQYWdlcy5zb21lKG5hdiA9PiBuYXYudXJsID09PSBwYWdlVXJsKSkge1xuICAgICAgICAgICAgICBzZWxlY3RlZE5hdlBhZ2VzLnB1c2goeyBsYWJlbDogcGFnZURpc3BsYXlOYW1lLCB1cmw6IHBhZ2VVcmwgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFJldGlyZXIgZGUgbGEgbGlzdGVcbiAgICAgICAgICAgIHNlbGVjdGVkTmF2UGFnZXMgPSBzZWxlY3RlZE5hdlBhZ2VzLmZpbHRlcihuYXYgPT4gbmF2LnVybCAhPT0gcGFnZVVybCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGhlYWRlclBhZ2VzTGlzdC5hcHBlbmRDaGlsZChsYWJlbCk7XG4gICAgICB9KTtcbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IGNvbGxlY3RIZWFkZXJEYXRhID0gKCkgPT4ge1xuICAgICAgLy8gQ29sbGVjdGVyIGxlcyBwYWdlcyBjb2NoXHUwMEU5ZXMgZGFucyBsJ29yZHJlIGFjdHVlbFxuICAgICAgY29uc3QgbmF2ID0gW107XG4gICAgICBoZWFkZXJQYWdlc0xpc3Q/LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W25hbWU9XCJuYXYtcGFnZVwiXTpjaGVja2VkJykuZm9yRWFjaChjaGVja2JveCA9PiB7XG4gICAgICAgIGNvbnN0IHVybCA9IG5vcm1hbGl6ZU5hdlBhZ2VVcmwoY2hlY2tib3gudmFsdWUpO1xuICAgICAgICBjb25zdCBsYWJlbCA9IGNoZWNrYm94LmRhdGFzZXQucGFnZVRpdGxlIHx8IHVybDtcbiAgICAgICAgbmF2LnB1c2goeyBsYWJlbCwgdXJsIH0pO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGxvZ286IHtcbiAgICAgICAgICBzcmM6IGhlYWRlckZpZWxkcy5sb2dvPy52YWx1ZT8udHJpbSgpIHx8ICcnLFxuICAgICAgICAgIGFsdDogaGVhZGVyRmllbGRzLmxvZ29BbHQ/LnZhbHVlPy50cmltKCkgfHwgJycsXG4gICAgICAgICAgdXJsOiBub3JtYWxpemVPcHRpb25hbE5hdlVybChoZWFkZXJGaWVsZHMubG9nb1VybD8udmFsdWUsICcvJyksXG4gICAgICAgIH0sXG4gICAgICAgIG5hdixcbiAgICAgICAgY3RhOiB7XG4gICAgICAgICAgdGV4dDogaGVhZGVyRmllbGRzLmN0YVRleHQ/LnZhbHVlPy50cmltKCkgfHwgJycsXG4gICAgICAgICAgdXJsOiBub3JtYWxpemVPcHRpb25hbE5hdlVybChoZWFkZXJGaWVsZHMuY3RhVXJsPy52YWx1ZSwgJycpLFxuICAgICAgICAgIHN0eWxlOiBoZWFkZXJGaWVsZHMuY3RhU3R5bGU/LnZhbHVlIHx8ICdwcmltYXJ5JyxcbiAgICAgICAgfSxcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICBwb3NpdGlvbjogaGVhZGVyRmllbGRzLnBvc2l0aW9uPy52YWx1ZSB8fCAnc3RhdGljJyxcbiAgICAgICAgICBiZzogaGVhZGVyRmllbGRzLmJnPy52YWx1ZSB8fCAnYmctd2hpdGUnLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IHBvcHVsYXRlSGVhZGVyRm9ybSA9IGFzeW5jIChkYXRhKSA9PiB7XG4gICAgICBpZiAoIWRhdGEpIHJldHVybjtcbiAgICAgIGlmIChoZWFkZXJGaWVsZHMubG9nbykgaGVhZGVyRmllbGRzLmxvZ28udmFsdWUgPSBkYXRhLmxvZ28/LnNyYyB8fCAnJztcbiAgICAgIGlmIChoZWFkZXJGaWVsZHMubG9nb0FsdCkgaGVhZGVyRmllbGRzLmxvZ29BbHQudmFsdWUgPSBkYXRhLmxvZ28/LmFsdCB8fCAnJztcbiAgICAgIGlmIChoZWFkZXJGaWVsZHMubG9nb1VybCkgaGVhZGVyRmllbGRzLmxvZ29VcmwudmFsdWUgPSBub3JtYWxpemVPcHRpb25hbE5hdlVybChkYXRhLmxvZ28/LnVybCwgJy8nKTtcbiAgICAgIGlmIChoZWFkZXJGaWVsZHMuY3RhVGV4dCkgaGVhZGVyRmllbGRzLmN0YVRleHQudmFsdWUgPSBkYXRhLmN0YT8udGV4dCB8fCAnJztcbiAgICAgIGlmIChoZWFkZXJGaWVsZHMuY3RhVXJsKSBoZWFkZXJGaWVsZHMuY3RhVXJsLnZhbHVlID0gbm9ybWFsaXplT3B0aW9uYWxOYXZVcmwoZGF0YS5jdGE/LnVybCwgJycpO1xuICAgICAgaWYgKGhlYWRlckZpZWxkcy5jdGFTdHlsZSkgaGVhZGVyRmllbGRzLmN0YVN0eWxlLnZhbHVlID0gZGF0YS5jdGE/LnN0eWxlIHx8ICdwcmltYXJ5JztcbiAgICAgIGlmIChoZWFkZXJGaWVsZHMucG9zaXRpb24pIGhlYWRlckZpZWxkcy5wb3NpdGlvbi52YWx1ZSA9IGRhdGEuc3R5bGU/LnBvc2l0aW9uIHx8ICdzdGF0aWMnO1xuICAgICAgaWYgKGhlYWRlckZpZWxkcy5iZykgaGVhZGVyRmllbGRzLmJnLnZhbHVlID0gZGF0YS5zdHlsZT8uYmcgfHwgJ2JnLXdoaXRlJztcbiAgICAgIFxuICAgICAgLy8gU3RvY2tlciBsZXMgcGFnZXMgc1x1MDBFOWxlY3Rpb25uXHUwMEU5ZXMgcG91ciBsZXMgY2hlY2tib3hlc1xuICAgICAgc2VsZWN0ZWROYXZQYWdlcyA9IChkYXRhLm5hdiB8fCBbXSkubWFwKChpdGVtKSA9PiAoe1xuICAgICAgICAuLi5pdGVtLFxuICAgICAgICB1cmw6IG5vcm1hbGl6ZU5hdlBhZ2VVcmwoaXRlbS51cmwpLFxuICAgICAgfSkpO1xuICAgICAgXG4gICAgICAvLyBDaGFyZ2VyIGxlcyBwYWdlcyBldCBhZmZpY2hlciBsZXMgY2hlY2tib3hlc1xuICAgICAgYXdhaXQgbG9hZFNpdGVQYWdlc0ZvckhlYWRlcigpO1xuICAgICAgXG4gICAgICAvLyBVcGRhdGUgc3RhdHVzIGluZGljYXRvclxuICAgICAgY29uc3QgaGFzRGF0YSA9IGRhdGEubG9nbz8uc3JjIHx8IGRhdGEubmF2Py5sZW5ndGggPiAwIHx8IGRhdGEuY3RhPy50ZXh0O1xuICAgICAgaWYgKGhlYWRlclN0YXR1c0luZGljYXRvcikge1xuICAgICAgICBoZWFkZXJTdGF0dXNJbmRpY2F0b3IuY2xhc3NMaXN0LnRvZ2dsZSgnYmctZ3JlZW4tNTAwJywgISFoYXNEYXRhKTtcbiAgICAgICAgaGVhZGVyU3RhdHVzSW5kaWNhdG9yLmNsYXNzTGlzdC50b2dnbGUoJ2JnLXNsYXRlLTMwMCcsICFoYXNEYXRhKTtcbiAgICAgICAgaGVhZGVyU3RhdHVzSW5kaWNhdG9yLnRpdGxlID0gaGFzRGF0YSA/ICdDb25maWd1clx1MDBFOScgOiAnTm9uIGNvbmZpZ3VyXHUwMEU5JztcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaGVhZGVyU2F2ZUJ0bj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWxheW91dEFwaUJhc2UpIHJldHVybjtcbiAgICAgIGhlYWRlclNhdmVCdG4uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgaGVhZGVyU2F2ZUJ0bi50ZXh0Q29udGVudCA9ICdFbnJlZ2lzdHJlbWVudC4uLic7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBkYXRhID0gY29sbGVjdEhlYWRlckRhdGEoKTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtsYXlvdXRBcGlCYXNlfS9oZWFkZXJgLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICBjcmVkZW50aWFsczogJ2luY2x1ZGUnLFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgdGhyb3cgbmV3IEVycm9yKCdFcnJldXIgc2VydmV1cicpO1xuICAgICAgICBoZWFkZXJEYXRhID0gZGF0YTtcbiAgICAgICAgcG9wdWxhdGVIZWFkZXJGb3JtKGRhdGEpO1xuICAgICAgICBzaG93VG9hc3QoJ0hlYWRlciBlbnJlZ2lzdHJcdTAwRTknKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbaGVhZGVyXSBzYXZlIGVycm9yJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KCdFcnJldXIgbG9ycyBkZSBsXFwnZW5yZWdpc3RyZW1lbnQnLCAnZXJyb3InKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGhlYWRlclNhdmVCdG4uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgaGVhZGVyU2F2ZUJ0bi50ZXh0Q29udGVudCA9ICdFbnJlZ2lzdHJlcic7XG4gICAgICB9XG4gICAgfSk7XG4gICAgXG4gICAgLy8gXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXG4gICAgLy8gRk9PVEVSIEZVTkNUSU9OU1xuICAgIC8vIFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFxuICAgIGNvbnN0IGFkZEZvb3RlckxpbmsgPSAoY29udGFpbmVyLCBsYWJlbCA9ICcnLCB1cmwgPSAnJykgPT4ge1xuICAgICAgaWYgKCFmb290ZXJMaW5rVGVtcGxhdGUgfHwgIWNvbnRhaW5lcikgcmV0dXJuO1xuICAgICAgY29uc3QgY2xvbmUgPSBmb290ZXJMaW5rVGVtcGxhdGUuY29udGVudC5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICBjb25zdCBpdGVtID0gY2xvbmUucXVlcnlTZWxlY3RvcignW2RhdGEtZm9vdGVyLWxpbmtdJyk7XG4gICAgICBjb25zdCBsYWJlbElucHV0ID0gY2xvbmUucXVlcnlTZWxlY3RvcignW25hbWU9XCJsaW5rLWxhYmVsXCJdJyk7XG4gICAgICBjb25zdCB1cmxJbnB1dCA9IGNsb25lLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwibGluay11cmxcIl0nKTtcbiAgICAgIGNvbnN0IHJlbW92ZUJ0biA9IGNsb25lLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWxpbmstcmVtb3ZlXScpO1xuICAgICAgaWYgKGxhYmVsSW5wdXQpIGxhYmVsSW5wdXQudmFsdWUgPSBsYWJlbDtcbiAgICAgIGlmICh1cmxJbnB1dCkgdXJsSW5wdXQudmFsdWUgPSB1cmw7XG4gICAgICByZW1vdmVCdG4/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gaXRlbT8ucmVtb3ZlKCkpO1xuICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGNsb25lKTtcbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IGFkZEZvb3RlckNvbHVtbiA9ICh0aXRsZSA9ICcnLCBsaW5rcyA9IFtdKSA9PiB7XG4gICAgICBpZiAoIWZvb3RlckNvbHVtblRlbXBsYXRlIHx8ICFmb290ZXJDb2x1bW5zTGlzdCkgcmV0dXJuO1xuICAgICAgY29uc3QgY2xvbmUgPSBmb290ZXJDb2x1bW5UZW1wbGF0ZS5jb250ZW50LmNsb25lTm9kZSh0cnVlKTtcbiAgICAgIGNvbnN0IGNvbHVtbiA9IGNsb25lLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWZvb3Rlci1jb2x1bW5dJyk7XG4gICAgICBjb25zdCB0aXRsZUlucHV0ID0gY2xvbmUucXVlcnlTZWxlY3RvcignW25hbWU9XCJjb2x1bW4tdGl0bGVcIl0nKTtcbiAgICAgIGNvbnN0IGxpbmtzQ29udGFpbmVyID0gY2xvbmUucXVlcnlTZWxlY3RvcignW2RhdGEtY29sdW1uLWxpbmtzXScpO1xuICAgICAgY29uc3QgYWRkTGlua0J0biA9IGNsb25lLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbHVtbi1saW5rLWFkZF0nKTtcbiAgICAgIGNvbnN0IHJlbW92ZUJ0biA9IGNsb25lLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbHVtbi1yZW1vdmVdJyk7XG4gICAgICBpZiAodGl0bGVJbnB1dCkgdGl0bGVJbnB1dC52YWx1ZSA9IHRpdGxlO1xuICAgICAgbGlua3MuZm9yRWFjaChsaW5rID0+IGFkZEZvb3RlckxpbmsobGlua3NDb250YWluZXIsIGxpbmsubGFiZWwsIGxpbmsudXJsKSk7XG4gICAgICBhZGRMaW5rQnRuPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGFkZEZvb3RlckxpbmsobGlua3NDb250YWluZXIpKTtcbiAgICAgIHJlbW92ZUJ0bj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBjb2x1bW4/LnJlbW92ZSgpKTtcbiAgICAgIGZvb3RlckNvbHVtbnNMaXN0LmFwcGVuZENoaWxkKGNsb25lKTtcbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IGNvbGxlY3RGb290ZXJEYXRhID0gKCkgPT4ge1xuICAgICAgY29uc3QgY29sdW1ucyA9IFtdO1xuICAgICAgZm9vdGVyQ29sdW1uc0xpc3Q/LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWZvb3Rlci1jb2x1bW5dJykuZm9yRWFjaChjb2wgPT4ge1xuICAgICAgICBjb25zdCB0aXRsZSA9IGNvbC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImNvbHVtbi10aXRsZVwiXScpPy52YWx1ZT8udHJpbSgpIHx8ICcnO1xuICAgICAgICBjb25zdCBsaW5rcyA9IFtdO1xuICAgICAgICBjb2wucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtZm9vdGVyLWxpbmtdJykuZm9yRWFjaChsaW5rRWwgPT4ge1xuICAgICAgICAgIGNvbnN0IGxhYmVsID0gbGlua0VsLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwibGluay1sYWJlbFwiXScpPy52YWx1ZT8udHJpbSgpIHx8ICcnO1xuICAgICAgICAgIGNvbnN0IHVybCA9IGxpbmtFbC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImxpbmstdXJsXCJdJyk/LnZhbHVlPy50cmltKCkgfHwgJyc7XG4gICAgICAgICAgaWYgKGxhYmVsIHx8IHVybCkgbGlua3MucHVzaCh7IGxhYmVsLCB1cmwgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAodGl0bGUgfHwgbGlua3MubGVuZ3RoID4gMCkgY29sdW1ucy5wdXNoKHsgdGl0bGUsIGxpbmtzIH0pO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBjb2x1bW5zLFxuICAgICAgICBzb2NpYWxzOiB7XG4gICAgICAgICAgbGlua2VkaW46IGZvb3RlckZpZWxkcy5saW5rZWRpbj8udmFsdWU/LnRyaW0oKSB8fCAnJyxcbiAgICAgICAgICB0d2l0dGVyOiBmb290ZXJGaWVsZHMudHdpdHRlcj8udmFsdWU/LnRyaW0oKSB8fCAnJyxcbiAgICAgICAgICBpbnN0YWdyYW06IGZvb3RlckZpZWxkcy5pbnN0YWdyYW0/LnZhbHVlPy50cmltKCkgfHwgJycsXG4gICAgICAgICAgZmFjZWJvb2s6IGZvb3RlckZpZWxkcy5mYWNlYm9vaz8udmFsdWU/LnRyaW0oKSB8fCAnJyxcbiAgICAgICAgICB5b3V0dWJlOiBmb290ZXJGaWVsZHMueW91dHViZT8udmFsdWU/LnRyaW0oKSB8fCAnJyxcbiAgICAgICAgICBnaXRodWI6IGZvb3RlckZpZWxkcy5naXRodWI/LnZhbHVlPy50cmltKCkgfHwgJycsXG4gICAgICAgIH0sXG4gICAgICAgIGNvcHlyaWdodDogZm9vdGVyRmllbGRzLmNvcHlyaWdodD8udmFsdWU/LnRyaW0oKSB8fCAnJyxcbiAgICAgICAgbGVnYWw6IHtcbiAgICAgICAgICB1cmw6IGZvb3RlckZpZWxkcy5sZWdhbFVybD8udmFsdWU/LnRyaW0oKSB8fCAnJyxcbiAgICAgICAgICBwcml2YWN5VXJsOiBmb290ZXJGaWVsZHMucHJpdmFjeVVybD8udmFsdWU/LnRyaW0oKSB8fCAnJyxcbiAgICAgICAgfSxcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICBiZzogZm9vdGVyRmllbGRzLmJnPy52YWx1ZSB8fCAnYmctc2xhdGUtOTAwIHRleHQtd2hpdGUnLFxuICAgICAgICAgIGNvbHVtbnNDb3VudDogZm9vdGVyRmllbGRzLmNvbHVtbnNDb3VudD8udmFsdWUgfHwgJzQnLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IHBvcHVsYXRlRm9vdGVyRm9ybSA9IChkYXRhKSA9PiB7XG4gICAgICBpZiAoIWRhdGEpIHJldHVybjtcbiAgICAgIGlmIChmb290ZXJGaWVsZHMubGlua2VkaW4pIGZvb3RlckZpZWxkcy5saW5rZWRpbi52YWx1ZSA9IGRhdGEuc29jaWFscz8ubGlua2VkaW4gfHwgJyc7XG4gICAgICBpZiAoZm9vdGVyRmllbGRzLnR3aXR0ZXIpIGZvb3RlckZpZWxkcy50d2l0dGVyLnZhbHVlID0gZGF0YS5zb2NpYWxzPy50d2l0dGVyIHx8ICcnO1xuICAgICAgaWYgKGZvb3RlckZpZWxkcy5pbnN0YWdyYW0pIGZvb3RlckZpZWxkcy5pbnN0YWdyYW0udmFsdWUgPSBkYXRhLnNvY2lhbHM/Lmluc3RhZ3JhbSB8fCAnJztcbiAgICAgIGlmIChmb290ZXJGaWVsZHMuZmFjZWJvb2spIGZvb3RlckZpZWxkcy5mYWNlYm9vay52YWx1ZSA9IGRhdGEuc29jaWFscz8uZmFjZWJvb2sgfHwgJyc7XG4gICAgICBpZiAoZm9vdGVyRmllbGRzLnlvdXR1YmUpIGZvb3RlckZpZWxkcy55b3V0dWJlLnZhbHVlID0gZGF0YS5zb2NpYWxzPy55b3V0dWJlIHx8ICcnO1xuICAgICAgaWYgKGZvb3RlckZpZWxkcy5naXRodWIpIGZvb3RlckZpZWxkcy5naXRodWIudmFsdWUgPSBkYXRhLnNvY2lhbHM/LmdpdGh1YiB8fCAnJztcbiAgICAgIGlmIChmb290ZXJGaWVsZHMuY29weXJpZ2h0KSBmb290ZXJGaWVsZHMuY29weXJpZ2h0LnZhbHVlID0gZGF0YS5jb3B5cmlnaHQgfHwgJyc7XG4gICAgICBpZiAoZm9vdGVyRmllbGRzLmxlZ2FsVXJsKSBmb290ZXJGaWVsZHMubGVnYWxVcmwudmFsdWUgPSBkYXRhLmxlZ2FsPy51cmwgfHwgJyc7XG4gICAgICBpZiAoZm9vdGVyRmllbGRzLnByaXZhY3lVcmwpIGZvb3RlckZpZWxkcy5wcml2YWN5VXJsLnZhbHVlID0gZGF0YS5sZWdhbD8ucHJpdmFjeVVybCB8fCAnJztcbiAgICAgIGlmIChmb290ZXJGaWVsZHMuYmcpIGZvb3RlckZpZWxkcy5iZy52YWx1ZSA9IGRhdGEuc3R5bGU/LmJnIHx8ICdiZy1zbGF0ZS05MDAgdGV4dC13aGl0ZSc7XG4gICAgICBpZiAoZm9vdGVyRmllbGRzLmNvbHVtbnNDb3VudCkgZm9vdGVyRmllbGRzLmNvbHVtbnNDb3VudC52YWx1ZSA9IGRhdGEuc3R5bGU/LmNvbHVtbnNDb3VudCB8fCAnNCc7XG4gICAgICAvLyBQb3B1bGF0ZSBjb2x1bW5zXG4gICAgICBpZiAoZm9vdGVyQ29sdW1uc0xpc3QpIGZvb3RlckNvbHVtbnNMaXN0LmlubmVySFRNTCA9ICcnO1xuICAgICAgKGRhdGEuY29sdW1ucyB8fCBbXSkuZm9yRWFjaChjb2wgPT4gYWRkRm9vdGVyQ29sdW1uKGNvbC50aXRsZSwgY29sLmxpbmtzKSk7XG4gICAgICAvLyBVcGRhdGUgc3RhdHVzIGluZGljYXRvclxuICAgICAgY29uc3QgaGFzRGF0YSA9IGRhdGEuY29sdW1ucz8ubGVuZ3RoID4gMCB8fCBkYXRhLmNvcHlyaWdodCB8fCBPYmplY3QudmFsdWVzKGRhdGEuc29jaWFscyB8fCB7fSkuc29tZSh2ID0+IHYpO1xuICAgICAgaWYgKGZvb3RlclN0YXR1c0luZGljYXRvcikge1xuICAgICAgICBmb290ZXJTdGF0dXNJbmRpY2F0b3IuY2xhc3NMaXN0LnRvZ2dsZSgnYmctZ3JlZW4tNTAwJywgISFoYXNEYXRhKTtcbiAgICAgICAgZm9vdGVyU3RhdHVzSW5kaWNhdG9yLmNsYXNzTGlzdC50b2dnbGUoJ2JnLXNsYXRlLTMwMCcsICFoYXNEYXRhKTtcbiAgICAgICAgZm9vdGVyU3RhdHVzSW5kaWNhdG9yLnRpdGxlID0gaGFzRGF0YSA/ICdDb25maWd1clx1MDBFOScgOiAnTm9uIGNvbmZpZ3VyXHUwMEU5JztcbiAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIGZvb3RlckNvbHVtbkFkZEJ0bj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBhZGRGb290ZXJDb2x1bW4oKSk7XG4gICAgXG4gICAgZm9vdGVyU2F2ZUJ0bj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWxheW91dEFwaUJhc2UpIHJldHVybjtcbiAgICAgIGZvb3RlclNhdmVCdG4uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgZm9vdGVyU2F2ZUJ0bi50ZXh0Q29udGVudCA9ICdFbnJlZ2lzdHJlbWVudC4uLic7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBkYXRhID0gY29sbGVjdEZvb3RlckRhdGEoKTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtsYXlvdXRBcGlCYXNlfS9mb290ZXJgLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICBjcmVkZW50aWFsczogJ2luY2x1ZGUnLFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgdGhyb3cgbmV3IEVycm9yKCdFcnJldXIgc2VydmV1cicpO1xuICAgICAgICBmb290ZXJEYXRhID0gZGF0YTtcbiAgICAgICAgcG9wdWxhdGVGb290ZXJGb3JtKGRhdGEpO1xuICAgICAgICBzaG93VG9hc3QoJ0Zvb3RlciBlbnJlZ2lzdHJcdTAwRTknKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZm9vdGVyXSBzYXZlIGVycm9yJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KCdFcnJldXIgbG9ycyBkZSBsXFwnZW5yZWdpc3RyZW1lbnQnLCAnZXJyb3InKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGZvb3RlclNhdmVCdG4uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgZm9vdGVyU2F2ZUJ0bi50ZXh0Q29udGVudCA9ICdFbnJlZ2lzdHJlcic7XG4gICAgICB9XG4gICAgfSk7XG4gICAgXG4gICAgLy8gTG9hZCBsYXlvdXQgZGF0YSBvbiBpbml0XG4gICAgY29uc3QgbG9hZExheW91dERhdGEgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWxheW91dEFwaUJhc2UpIHJldHVybjtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2gobGF5b3V0QXBpQmFzZSwgeyBjcmVkZW50aWFsczogJ2luY2x1ZGUnIH0pO1xuICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgIGlmIChkYXRhLmhlYWRlcikge1xuICAgICAgICAgICAgaGVhZGVyRGF0YSA9IGRhdGEuaGVhZGVyO1xuICAgICAgICAgICAgcG9wdWxhdGVIZWFkZXJGb3JtKGRhdGEuaGVhZGVyKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGRhdGEuZm9vdGVyKSB7XG4gICAgICAgICAgICBmb290ZXJEYXRhID0gZGF0YS5mb290ZXI7XG4gICAgICAgICAgICBwb3B1bGF0ZUZvb3RlckZvcm0oZGF0YS5mb290ZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tsYXlvdXRdIGxvYWQgZXJyb3InLCBlcnIpO1xuICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgLy8gSW5pdGlhbGl6ZSBsYXlvdXQgZGF0YVxuICAgIGxvYWRMYXlvdXREYXRhKCk7XG4gICAgXG4gICAgY29uc3Qgc2FmZVNpdGVTbHVnVmFsdWUgPSBzdHJpcExlYWRpbmdTbGFzaChcbiAgICAgIHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJycsXG4gICAgKTtcbiAgICBjb25zdCBjb2xsZWN0aW9uc0FwaUJhc2UgPSBzYWZlU2l0ZVNsdWdWYWx1ZVxuICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWdWYWx1ZSl9L2NvbGxlY3Rpb25zYFxuICAgICAgOiBudWxsO1xuXG4gICAgbGV0IGNvbGxlY3Rpb25zID0gW107XG4gICAgbGV0IGNvbGxlY3Rpb25JdGVtcyA9IFtdO1xuICAgIGxldCBhY3RpdmVDb2xsZWN0aW9uSWQgPSBudWxsO1xuICAgIGxldCBhY3RpdmVJdGVtSWQgPSBudWxsO1xuICAgIGxldCBpc0NyZWF0aW5nSXRlbSA9IGZhbHNlO1xuICAgIGxldCBpdGVtU2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gICAgbGV0IHBlbmRpbmdEZWxldGVJdGVtSWQgPSBudWxsO1xuXG4gICAgY29uc3Qgbm9ybWFsaXplSXRlbVNsdWdJbnB1dCA9ICh2YWx1ZSkgPT4ge1xuICAgICAgY29uc3QgcmF3ID0gKHZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICBpZiAoIXJhdykge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgICB9XG4gICAgICBpZiAocmF3ID09PSAnLycpIHtcbiAgICAgICAgcmV0dXJuICcvJztcbiAgICAgIH1cbiAgICAgIGNvbnN0IHNlZ21lbnRzID0gcmF3LnJlcGxhY2UoL15cXC8vLCAnJykuc3BsaXQoJy8nKTtcbiAgICAgIGNvbnN0IGNsZWFuZWRTZWdtZW50cyA9IHNlZ21lbnRzXG4gICAgICAgIC5tYXAoKHNlZ21lbnQpID0+IHdvcmtzcGFjZVNsdWdpZnkoc2VnbWVudCB8fCAnJykpXG4gICAgICAgIC5maWx0ZXIoKHNlZ21lbnQpID0+IHNlZ21lbnQubGVuZ3RoID4gMCk7XG4gICAgICBpZiAoIWNsZWFuZWRTZWdtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGAvJHtjbGVhbmVkU2VnbWVudHMuam9pbignLycpfWA7XG4gICAgfTtcblxuICAgIGNvbnN0IGZvcm1hdEl0ZW1EYXRlID0gKHZhbHVlKSA9PiB7XG4gICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgIHJldHVybiAnXHUyMDE0JztcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSh2YWx1ZSk7XG4gICAgICBpZiAoTnVtYmVyLmlzTmFOKGRhdGUuZ2V0VGltZSgpKSkge1xuICAgICAgICByZXR1cm4gJ1x1MjAxNCc7XG4gICAgICB9XG4gICAgICByZXR1cm4gZGF0ZS50b0xvY2FsZURhdGVTdHJpbmcoJ2ZyLUZSJywgeyBkYXk6ICcyLWRpZ2l0JywgbW9udGg6ICdzaG9ydCcsIHllYXI6ICdudW1lcmljJyB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgdXBkYXRlQ29sbGVjdGlvbkhlYWRlciA9ICgpID0+IHtcbiAgICAgIGNvbnN0IGNvbGxlY3Rpb24gPSBjb2xsZWN0aW9ucy5maW5kKChlbnRyeSkgPT4gZW50cnkuaWQgPT09IGFjdGl2ZUNvbGxlY3Rpb25JZCk7XG4gICAgICBpZiAoY29sbGVjdGlvblRpdGxlKSB7XG4gICAgICAgIGNvbGxlY3Rpb25UaXRsZS50ZXh0Q29udGVudCA9IGNvbGxlY3Rpb24/Lm5hbWUgfHwgJ1NcdTAwRTlsZWN0aW9ubmV6IHVuZSBjb2xsZWN0aW9uJztcbiAgICAgIH1cbiAgICAgIGlmIChjb2xsZWN0aW9uRGVzY3JpcHRpb24pIHtcbiAgICAgICAgY29sbGVjdGlvbkRlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gY29sbGVjdGlvbj8uZGVzY3JpcHRpb24gfHwgJyc7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHVwZGF0ZUl0ZW1zRW1wdHlNZXNzYWdlID0gKG1lc3NhZ2UpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvbkl0ZW1zRW1wdHkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29sbGVjdGlvbkl0ZW1zRW1wdHkudGV4dENvbnRlbnQgPVxuICAgICAgICBtZXNzYWdlIHx8XG4gICAgICAgIChhY3RpdmVDb2xsZWN0aW9uSWRcbiAgICAgICAgICA/ICdBdWN1biBpdGVtIGRhbnMgY2V0dGUgY29sbGVjdGlvbiBwb3VyIGxlIG1vbWVudC4nXG4gICAgICAgICAgOiAnQ2hvaXNpc3NleiB1bmUgY29sbGVjdGlvbiBkYW5zIGxlIHBhbm5lYXUgZGUgZ2F1Y2hlLicpO1xuICAgIH07XG5cbiAgICBjb25zdCBoaWRlSXRlbUZvcm0gPSAoKSA9PiB7XG4gICAgICBpZiAoaXRlbUZvcm0pIHtcbiAgICAgICAgaXRlbUZvcm0uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIGl0ZW1Gb3JtLmRhdGFzZXQuaXRlbUlkID0gJyc7XG4gICAgICB9XG4gICAgICBpdGVtRGV0YWlsRW1wdHk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgaWYgKGl0ZW1TdGF0dXNCYWRnZSkge1xuICAgICAgICBpdGVtU3RhdHVzQmFkZ2UuY2xhc3NOYW1lID0gYGhpZGRlbiAke3N0YXR1c0JhZGdlQmFzZUNsYXNzfWA7XG4gICAgICAgIGl0ZW1TdGF0dXNCYWRnZS50ZXh0Q29udGVudCA9ICcnO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1EZWxldGVCdXR0b24pIHtcbiAgICAgICAgaXRlbURlbGV0ZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICB9XG4gICAgICBzeW5jSXRlbVBhbmVsV2l0aFZpZXdwb3J0KCk7XG4gICAgfTtcblxuICAgIGNvbnN0IHNob3dJdGVtRm9ybSA9ICgpID0+IHtcbiAgICAgIGlmICghaXRlbUZvcm0pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaXRlbUZvcm0uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBpdGVtRGV0YWlsRW1wdHk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgc3luY0l0ZW1QYW5lbFdpdGhWaWV3cG9ydCgpO1xuICAgIH07XG5cbiAgICBjb25zdCBzeW5jQWRkQnV0dG9uU3RhdGUgPSAoKSA9PiB7XG4gICAgICBpZiAoIWl0ZW1BZGRCdXR0b24pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaXRlbUFkZEJ1dHRvbi5kaXNhYmxlZCA9ICFhY3RpdmVDb2xsZWN0aW9uSWQ7XG4gICAgICBpZiAoaXRlbUFkZEJ1dHRvbi5kaXNhYmxlZCkge1xuICAgICAgICBpdGVtQWRkQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ29wYWNpdHktNjAnLCAncG9pbnRlci1ldmVudHMtbm9uZScpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaXRlbUFkZEJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdvcGFjaXR5LTYwJywgJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3Qgc3luY0l0ZW1TdGF0dXNCYWRnZSA9IChzdGF0dXMpID0+IHtcbiAgICAgIGlmICghaXRlbVN0YXR1c0JhZGdlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghc3RhdHVzKSB7XG4gICAgICAgIGl0ZW1TdGF0dXNCYWRnZS5jbGFzc05hbWUgPSBgaGlkZGVuICR7c3RhdHVzQmFkZ2VCYXNlQ2xhc3N9YDtcbiAgICAgICAgaXRlbVN0YXR1c0JhZGdlLnRleHRDb250ZW50ID0gJyc7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBzdGF0dXMudG9Mb3dlckNhc2UoKTtcbiAgICAgIGxldCBjb2xvckNsYXNzID0gJ2JnLXNsYXRlLTEwMCB0ZXh0LXNsYXRlLTYwMCBib3JkZXIgYm9yZGVyLXNsYXRlLTIwMCc7XG4gICAgICBpZiAobm9ybWFsaXplZCA9PT0gJ3B1YmxpXHUwMEU5JyB8fCBub3JtYWxpemVkID09PSAncHVibGllJykge1xuICAgICAgICBjb2xvckNsYXNzID0gJ2JnLWVtZXJhbGQtNTAgdGV4dC1lbWVyYWxkLTcwMCBib3JkZXIgYm9yZGVyLWVtZXJhbGQtMTAwJztcbiAgICAgIH0gZWxzZSBpZiAobm9ybWFsaXplZCA9PT0gJ2Jyb3VpbGxvbicpIHtcbiAgICAgICAgY29sb3JDbGFzcyA9ICdiZy1hbWJlci01MCB0ZXh0LWFtYmVyLTcwMCBib3JkZXIgYm9yZGVyLWFtYmVyLTEwMCc7XG4gICAgICB9XG4gICAgICBpdGVtU3RhdHVzQmFkZ2UuY2xhc3NOYW1lID0gYCR7c3RhdHVzQmFkZ2VCYXNlQ2xhc3N9ICR7Y29sb3JDbGFzc31gO1xuICAgICAgaXRlbVN0YXR1c0JhZGdlLnRleHRDb250ZW50ID0gc3RhdHVzO1xuICAgIH07XG5cbiAgICBjb25zdCByZW5kZXJDb2xsZWN0aW9uTGlzdCA9ICgpID0+IHtcbiAgICAgIGNvbGxlY3Rpb25MaXN0LmlubmVySFRNTCA9ICcnO1xuICAgICAgLy8gVXBkYXRlIGNvbGxlY3Rpb24gY291bnRcbiAgICAgIGlmIChjb2xsZWN0aW9uQ291bnRFbCkgY29sbGVjdGlvbkNvdW50RWwudGV4dENvbnRlbnQgPSBjb2xsZWN0aW9ucy5sZW5ndGg7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25zLmxlbmd0aCkge1xuICAgICAgICBjb2xsZWN0aW9uRW1wdHlTdGF0ZT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbGxlY3Rpb25FbXB0eVN0YXRlPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGNvbGxlY3Rpb25zLmZvckVhY2goKGNvbGxlY3Rpb24pID0+IHtcbiAgICAgICAgY29uc3QgaXNBY3RpdmUgPSBjb2xsZWN0aW9uLmlkID09PSBhY3RpdmVDb2xsZWN0aW9uSWQ7XG4gICAgICAgIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICBidXR0b24udHlwZSA9ICdidXR0b24nO1xuICAgICAgICBidXR0b24uZGF0YXNldC5jb2xsZWN0aW9uSWQgPSBjb2xsZWN0aW9uLmlkO1xuICAgICAgICBidXR0b24uY2xhc3NOYW1lID0gW1xuICAgICAgICAgICd3LWZ1bGwgcm91bmRlZC14bCBib3JkZXIgcHgtMyBweS0yIHRleHQtbGVmdCB0cmFuc2l0aW9uIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1bIzlDNkJGRl0vNDAnLFxuICAgICAgICAgIGlzQWN0aXZlXG4gICAgICAgICAgICA/ICdiZy1bI0Y3RjBGRl0gYm9yZGVyLVsjOUM2QkZGXS80MCB0ZXh0LXNsYXRlLTkwMCdcbiAgICAgICAgICAgIDogJ2JvcmRlci1zbGF0ZS0yMDAgdGV4dC1zbGF0ZS03MDAgaG92ZXI6Ym9yZGVyLVsjOUM2QkZGXS80MCcsXG4gICAgICAgIF0uam9pbignICcpO1xuICAgICAgICBidXR0b24uc2V0QXR0cmlidXRlKCdyb2xlJywgJ29wdGlvbicpO1xuICAgICAgICBpZiAoaXNBY3RpdmUpIHtcbiAgICAgICAgICBidXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLWN1cnJlbnQnLCAndHJ1ZScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGJ1dHRvbi5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtY3VycmVudCcpO1xuICAgICAgICB9XG4gICAgICAgIGJ1dHRvbi5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBnYXAtMlwiPlxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXNtIGZvbnQtc2VtaWJvbGRcIj4ke2NvbGxlY3Rpb24ubmFtZSB8fCBjb2xsZWN0aW9uLmlkfTwvcD5cbiAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNTAwXCI+JHtjb2xsZWN0aW9uLmRlc2NyaXB0aW9uIHx8ICcnfTwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LVsxMXB4XSB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZSB0ZXh0LXNsYXRlLTQwMFwiPiR7Y29sbGVjdGlvbi50eXBlIHx8ICcnfTwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgYDtcbiAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgIHNldEFjdGl2ZUNvbGxlY3Rpb24oY29sbGVjdGlvbi5pZCk7XG4gICAgICAgIH0pO1xuICAgICAgICBjb2xsZWN0aW9uTGlzdC5hcHBlbmRDaGlsZChidXR0b24pO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IHJlbmRlckl0ZW1UYWJsZSA9ICgpID0+IHtcbiAgICAgIGlmICghaXRlbVRhYmxlQm9keSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpdGVtVGFibGVCb2R5LmlubmVySFRNTCA9ICcnO1xuICAgICAgaWYgKCFjb2xsZWN0aW9uSXRlbXMubGVuZ3RoIHx8ICFhY3RpdmVDb2xsZWN0aW9uSWQpIHtcbiAgICAgICAgY29sbGVjdGlvbkl0ZW1zRW1wdHk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICB1cGRhdGVJdGVtc0VtcHR5TWVzc2FnZSgpO1xuICAgICAgICBpdGVtVGFibGVXcmFwcGVyPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29sbGVjdGlvbkl0ZW1zRW1wdHk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgaXRlbVRhYmxlV3JhcHBlcj8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBjb2xsZWN0aW9uSXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICBjb25zdCByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpO1xuICAgICAgICByb3cuZGF0YXNldC5pdGVtSWQgPSBpdGVtLmlkO1xuICAgICAgICBjb25zdCBpc0FjdGl2ZSA9IGl0ZW0uaWQgPT09IGFjdGl2ZUl0ZW1JZCAmJiAhaXNDcmVhdGluZ0l0ZW07XG4gICAgICAgIHJvdy5jbGFzc05hbWUgPSBbXG4gICAgICAgICAgJ2N1cnNvci1wb2ludGVyIHRyYW5zaXRpb24gZm9jdXMtd2l0aGluOmJnLVsjRjdGMEZGXS83MCBmb2N1czpvdXRsaW5lLW5vbmUnLFxuICAgICAgICAgIGlzQWN0aXZlID8gJ2JnLVsjRjdGMEZGXS83MCcgOiAnaG92ZXI6Ymctc2xhdGUtNTAnLFxuICAgICAgICBdLmpvaW4oJyAnKTtcbiAgICAgICAgcm93LnRhYkluZGV4ID0gMDtcbiAgICAgICAgcm93LnNldEF0dHJpYnV0ZSgncm9sZScsICdidXR0b24nKTtcbiAgICAgICAgaWYgKGlzQWN0aXZlKSB7XG4gICAgICAgICAgcm93LnNldEF0dHJpYnV0ZSgnYXJpYS1jdXJyZW50JywgJ3RydWUnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByb3cucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWN1cnJlbnQnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzdGF0dXMgPSBpdGVtLnN0YXR1cyB8fCAnQnJvdWlsbG9uJztcbiAgICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IHN0YXR1cy50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBjb25zdCBzdGF0dXNDbGFzc2VzID1cbiAgICAgICAgICBub3JtYWxpemVkID09PSAncHVibGlcdTAwRTknIHx8IG5vcm1hbGl6ZWQgPT09ICdwdWJsaWUnXG4gICAgICAgICAgICA/ICdiZy1lbWVyYWxkLTUwIHRleHQtZW1lcmFsZC03MDAgYm9yZGVyIGJvcmRlci1lbWVyYWxkLTEwMCdcbiAgICAgICAgICAgIDogJ2JnLWFtYmVyLTUwIHRleHQtYW1iZXItNzAwIGJvcmRlciBib3JkZXItYW1iZXItMTAwJztcbiAgICAgICAgcm93LmlubmVySFRNTCA9IGBcbiAgICAgICAgICA8dGQgY2xhc3M9XCJweC00IHB5LTMgYWxpZ24tdG9wXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQtc20gZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTkwMFwiPiR7aXRlbS50aXRsZSB8fCAnU2FucyB0aXRyZSd9PC9zcGFuPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQteHMgdGV4dC1zbGF0ZS01MDBcIj4ke2l0ZW0uc3VtbWFyeSB8fCBpdGVtLmV4Y2VycHQgfHwgJyd9PC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC90ZD5cbiAgICAgICAgICA8dGQgY2xhc3M9XCJweC00IHB5LTMgYWxpZ24tdG9wIHRleHQtc20gdGV4dC1zbGF0ZS02MDBcIj4ke2l0ZW0uc2x1ZyB8fCAnJ308L3RkPlxuICAgICAgICAgIDx0ZCBjbGFzcz1cInB4LTQgcHktMyBhbGlnbi10b3BcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIHJvdW5kZWQtZnVsbCBweC0zIHB5LTEgdGV4dC14cyBmb250LXNlbWlib2xkICR7c3RhdHVzQ2xhc3Nlc31cIj5cbiAgICAgICAgICAgICAgJHtzdGF0dXN9XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC90ZD5cbiAgICAgICAgICA8dGQgY2xhc3M9XCJweC00IHB5LTMgYWxpZ24tdG9wIHRleHQtc20gdGV4dC1zbGF0ZS01MDBcIj4ke2Zvcm1hdEl0ZW1EYXRlKFxuICAgICAgICAgICAgaXRlbS51cGRhdGVkQXQgfHwgaXRlbS5jcmVhdGVkQXQsXG4gICAgICAgICAgKX08L3RkPlxuICAgICAgICBgO1xuICAgICAgICBjb25zdCBoYW5kbGVTZWxlY3QgPSAoKSA9PiB7XG4gICAgICAgICAgc2VsZWN0SXRlbShpdGVtLmlkKTtcbiAgICAgICAgfTtcbiAgICAgICAgcm93LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlU2VsZWN0KTtcbiAgICAgICAgcm93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICBpZiAoZXZlbnQua2V5ID09PSAnRW50ZXInIHx8IGV2ZW50LmtleSA9PT0gJyAnKSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgaGFuZGxlU2VsZWN0KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaXRlbVRhYmxlQm9keS5hcHBlbmRDaGlsZChyb3cpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IHNlbGVjdEl0ZW0gPSAoaXRlbUlkKSA9PiB7XG4gICAgICBjb25zdCBpdGVtID0gY29sbGVjdGlvbkl0ZW1zLmZpbmQoKGVudHJ5KSA9PiBlbnRyeS5pZCA9PT0gaXRlbUlkKTtcbiAgICAgIGlmICghaXRlbSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhY3RpdmVJdGVtSWQgPSBpdGVtLmlkO1xuICAgICAgaXNDcmVhdGluZ0l0ZW0gPSBmYWxzZTtcbiAgICAgIGl0ZW1TbHVnTWFudWFsbHlFZGl0ZWQgPSB0cnVlO1xuICAgICAgcG9wdWxhdGVJdGVtRm9ybShpdGVtKTtcbiAgICAgIHJlbmRlckl0ZW1UYWJsZSgpO1xuICAgIH07XG5cbiAgICBjb25zdCBwb3B1bGF0ZUl0ZW1Gb3JtID0gKGl0ZW0pID0+IHtcbiAgICAgIGlmICghaXRlbUZvcm0gfHwgIWl0ZW0pIHtcbiAgICAgICAgaGlkZUl0ZW1Gb3JtKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNob3dJdGVtRm9ybSgpO1xuICAgICAgaXRlbUZvcm0uZGF0YXNldC5pdGVtSWQgPSBpdGVtLmlkO1xuICAgICAgaWYgKGl0ZW1Gb3JtRmllbGRzLnRpdGxlKSB7XG4gICAgICAgIGl0ZW1Gb3JtRmllbGRzLnRpdGxlLnZhbHVlID0gaXRlbS50aXRsZSB8fCAnJztcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtRm9ybUZpZWxkcy5zbHVnKSB7XG4gICAgICAgIGl0ZW1Gb3JtRmllbGRzLnNsdWcudmFsdWUgPSBpdGVtLnNsdWcgfHwgJyc7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbUZvcm1GaWVsZHMuZXhjZXJwdCkge1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy5leGNlcnB0LnZhbHVlID0gaXRlbS5zdW1tYXJ5IHx8IGl0ZW0uZXhjZXJwdCB8fCAnJztcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtRm9ybUZpZWxkcy5jb250ZW50KSB7XG4gICAgICAgIGl0ZW1Gb3JtRmllbGRzLmNvbnRlbnQudmFsdWUgPSBpdGVtLmNvbnRlbnQgfHwgJyc7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbUZvcm1GaWVsZHMuaW1hZ2UpIHtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMuaW1hZ2UudmFsdWUgPSBpdGVtLmltYWdlIHx8ICcnO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1Gb3JtRmllbGRzLmN0YVRleHQpIHtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMuY3RhVGV4dC52YWx1ZSA9IGl0ZW0uY3RhPy50ZXh0IHx8IGl0ZW0uY3RhVGV4dCB8fCAnJztcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtRm9ybUZpZWxkcy5jdGFVcmwpIHtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMuY3RhVXJsLnZhbHVlID0gaXRlbS5jdGE/LnVybCB8fCBpdGVtLmN0YVVybCB8fCAnJztcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtRm9ybUZpZWxkcy5zdGF0dXMpIHtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMuc3RhdHVzLnZhbHVlID0gaXRlbS5zdGF0dXMgfHwgJ0Jyb3VpbGxvbic7XG4gICAgICB9XG4gICAgICBzeW5jSXRlbVN0YXR1c0JhZGdlKGl0ZW0uc3RhdHVzIHx8ICdCcm91aWxsb24nKTtcbiAgICAgIGlmIChpdGVtRGVsZXRlQnV0dG9uKSB7XG4gICAgICAgIGl0ZW1EZWxldGVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgcHJlcGFyZU5ld0l0ZW1Gb3JtID0gKCkgPT4ge1xuICAgICAgaWYgKCFpdGVtRm9ybSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpc0NyZWF0aW5nSXRlbSA9IHRydWU7XG4gICAgICBhY3RpdmVJdGVtSWQgPSBudWxsO1xuICAgICAgaXRlbVNsdWdNYW51YWxseUVkaXRlZCA9IGZhbHNlO1xuICAgICAgaXRlbUZvcm0uZGF0YXNldC5pdGVtSWQgPSAnJztcbiAgICAgIGl0ZW1Gb3JtLnJlc2V0KCk7XG4gICAgICBpZiAoaXRlbUZvcm1GaWVsZHMuc3RhdHVzKSB7XG4gICAgICAgIGl0ZW1Gb3JtRmllbGRzLnN0YXR1cy52YWx1ZSA9ICdCcm91aWxsb24nO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1Gb3JtRmllbGRzLnNsdWcpIHtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMuc2x1Zy52YWx1ZSA9ICcnO1xuICAgICAgfVxuICAgICAgc3luY0l0ZW1TdGF0dXNCYWRnZSgnQnJvdWlsbG9uJyk7XG4gICAgICBzaG93SXRlbUZvcm0oKTtcbiAgICAgIGlmIChpdGVtRGVsZXRlQnV0dG9uKSB7XG4gICAgICAgIGl0ZW1EZWxldGVCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaXRlbUZvcm1GaWVsZHMudGl0bGU/LmZvY3VzKCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGNvbGxlY3RJdGVtRm9ybVZhbHVlcyA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHRpdGxlID0gKGl0ZW1Gb3JtRmllbGRzLnRpdGxlPy52YWx1ZSB8fCAnJykudHJpbSgpO1xuICAgICAgY29uc3Qgc2x1Z0lucHV0ID0gKGl0ZW1Gb3JtRmllbGRzLnNsdWc/LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICBjb25zdCBzdW1tYXJ5ID0gKGl0ZW1Gb3JtRmllbGRzLmV4Y2VycHQ/LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICBjb25zdCBjb250ZW50ID0gKGl0ZW1Gb3JtRmllbGRzLmNvbnRlbnQ/LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICBjb25zdCBpbWFnZSA9IChpdGVtRm9ybUZpZWxkcy5pbWFnZT8udmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgIGNvbnN0IGN0YVRleHQgPSAoaXRlbUZvcm1GaWVsZHMuY3RhVGV4dD8udmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgIGNvbnN0IGN0YVVybCA9IChpdGVtRm9ybUZpZWxkcy5jdGFVcmw/LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICBjb25zdCBzdGF0dXMgPSBpdGVtRm9ybUZpZWxkcy5zdGF0dXM/LnZhbHVlIHx8ICdCcm91aWxsb24nO1xuICAgICAgXG4gICAgICAvLyBCdWlsZCBDVEEgb2JqZWN0IG9ubHkgaWYgYXQgbGVhc3Qgb25lIGZpZWxkIGlzIGZpbGxlZFxuICAgICAgY29uc3QgY3RhID0gKGN0YVRleHQgfHwgY3RhVXJsKSA/IHsgdGV4dDogY3RhVGV4dCwgdXJsOiBjdGFVcmwgfSA6IG51bGw7XG4gICAgICBcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRpdGxlLFxuICAgICAgICBzbHVnOiBzbHVnSW5wdXQgPyBub3JtYWxpemVJdGVtU2x1Z0lucHV0KHNsdWdJbnB1dCkgOiBub3JtYWxpemVJdGVtU2x1Z0lucHV0KHRpdGxlKSxcbiAgICAgICAgc3VtbWFyeSxcbiAgICAgICAgZXhjZXJwdDogc3VtbWFyeSxcbiAgICAgICAgY29udGVudCxcbiAgICAgICAgaW1hZ2UsXG4gICAgICAgIHN0YXR1cyxcbiAgICAgICAgLi4uKGN0YSAmJiB7IGN0YSB9KSxcbiAgICAgIH07XG4gICAgfTtcblxuICAgIGNvbnN0IHNldEZvcm1TYXZpbmdTdGF0ZSA9IChpc1NhdmluZykgPT4ge1xuICAgICAgaWYgKGl0ZW1Gb3JtU2F2ZSkge1xuICAgICAgICBpdGVtRm9ybVNhdmUuZGlzYWJsZWQgPSBpc1NhdmluZztcbiAgICAgICAgaXRlbUZvcm1TYXZlLnRleHRDb250ZW50ID0gaXNTYXZpbmcgPyAnRW5yZWdpc3RyZW1lbnRcdTIwMjYnIDogJ0VucmVnaXN0cmVyJztcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtRGVsZXRlQnV0dG9uICYmICFpc0NyZWF0aW5nSXRlbSAmJiBhY3RpdmVJdGVtSWQpIHtcbiAgICAgICAgaXRlbURlbGV0ZUJ1dHRvbi5kaXNhYmxlZCA9IGlzU2F2aW5nO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBmZXRjaENvbGxlY3Rpb25JdGVtcyA9IGFzeW5jIChjb2xsZWN0aW9uSWQpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvbnNBcGlCYXNlKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgIGAke2NvbGxlY3Rpb25zQXBpQmFzZX0vJHtlbmNvZGVVUklDb21wb25lbnQoY29sbGVjdGlvbklkKX0vaXRlbXNgLFxuICAgICAgICB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9LFxuICAgICAgKTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHBheWxvYWQubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxlcyBpdGVtcy4nKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICByZXR1cm4gQXJyYXkuaXNBcnJheShkYXRhLml0ZW1zKSA/IGRhdGEuaXRlbXMgOiBbXTtcbiAgICB9O1xuXG4gICAgY29uc3Qgc2V0QWN0aXZlQ29sbGVjdGlvbiA9IGFzeW5jIChjb2xsZWN0aW9uSWQpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvbklkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGFjdGl2ZUNvbGxlY3Rpb25JZCA9IGNvbGxlY3Rpb25JZDtcbiAgICAgIGFjdGl2ZUl0ZW1JZCA9IG51bGw7XG4gICAgICBpc0NyZWF0aW5nSXRlbSA9IGZhbHNlO1xuICAgICAgaXRlbVNsdWdNYW51YWxseUVkaXRlZCA9IGZhbHNlO1xuICAgICAgLy8gU3dpdGNoIHRvIGNvbGxlY3Rpb24gdmlld1xuICAgICAgc2hvd0NvbnRlbnRWaWV3KCdjb2xsZWN0aW9uJyk7XG4gICAgICB1cGRhdGVDb2xsZWN0aW9uSGVhZGVyKCk7XG4gICAgICBzeW5jQWRkQnV0dG9uU3RhdGUoKTtcbiAgICAgIHJlbmRlckNvbGxlY3Rpb25MaXN0KCk7XG4gICAgICBoaWRlSXRlbUZvcm0oKTtcbiAgICAgIGNvbGxlY3Rpb25JdGVtcyA9IFtdO1xuICAgICAgcmVuZGVySXRlbVRhYmxlKCk7XG4gICAgICB1cGRhdGVJdGVtc0VtcHR5TWVzc2FnZSgnQ2hhcmdlbWVudCBkZXMgaXRlbXNcdTIwMjYnKTtcbiAgICAgIGNvbGxlY3Rpb25JdGVtc0VtcHR5Py5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGl0ZW1UYWJsZVdyYXBwZXI/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgaWYgKCFjb2xsZWN0aW9uc0FwaUJhc2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29sbGVjdGlvbkl0ZW1zID0gYXdhaXQgZmV0Y2hDb2xsZWN0aW9uSXRlbXMoY29sbGVjdGlvbklkKTtcbiAgICAgICAgcmVuZGVySXRlbVRhYmxlKCk7XG4gICAgICAgIGlmICghY29sbGVjdGlvbkl0ZW1zLmxlbmd0aCkge1xuICAgICAgICAgIHVwZGF0ZUl0ZW1zRW1wdHlNZXNzYWdlKCk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbY29udGVudF0gaXRlbXMgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIGl0ZW1zLicpO1xuICAgICAgICBjb2xsZWN0aW9uSXRlbXMgPSBbXTtcbiAgICAgICAgcmVuZGVySXRlbVRhYmxlKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGNyZWF0ZUNvbGxlY3Rpb25JdGVtID0gYXN5bmMgKGNvbGxlY3Rpb25JZCwgcGF5bG9hZCkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uc0FwaUJhc2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTaXRlIGluY29ubnUuJyk7XG4gICAgICB9XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgICBgJHtjb2xsZWN0aW9uc0FwaUJhc2V9LyR7ZW5jb2RlVVJJQ29tcG9uZW50KGNvbGxlY3Rpb25JZCl9L2l0ZW1zYCxcbiAgICAgICAge1xuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICB9LFxuICAgICAgKTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGRhdGEubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBjclx1MDBFOWVyIGNldCBpdGVtLicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICB9O1xuXG4gICAgY29uc3QgdXBkYXRlQ29sbGVjdGlvbkl0ZW0gPSBhc3luYyAoY29sbGVjdGlvbklkLCBpdGVtSWQsIHBheWxvYWQpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvbnNBcGlCYXNlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignU2l0ZSBpbmNvbm51LicpO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgYCR7Y29sbGVjdGlvbnNBcGlCYXNlfS8ke2VuY29kZVVSSUNvbXBvbmVudChjb2xsZWN0aW9uSWQpfS9pdGVtcy8ke2VuY29kZVVSSUNvbXBvbmVudChpdGVtSWQpfWAsXG4gICAgICAgIHtcbiAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICB9LFxuICAgICAgKTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGRhdGEubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBzYXV2ZWdhcmRlciBjZXQgaXRlbS4nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGRlbGV0ZUNvbGxlY3Rpb25JdGVtID0gYXN5bmMgKGNvbGxlY3Rpb25JZCwgaXRlbUlkKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25zQXBpQmFzZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NpdGUgaW5jb25udS4nKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgIGAke2NvbGxlY3Rpb25zQXBpQmFzZX0vJHtlbmNvZGVVUklDb21wb25lbnQoY29sbGVjdGlvbklkKX0vaXRlbXMvJHtlbmNvZGVVUklDb21wb25lbnQoaXRlbUlkKX1gLFxuICAgICAgICB7IG1ldGhvZDogJ0RFTEVURScgfSxcbiAgICAgICk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihkYXRhLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgc3VwcHJpbWVyIGNldCBpdGVtLicpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBsb2FkQ29sbGVjdGlvbnMgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25zQXBpQmFzZSkge1xuICAgICAgICBjb2xsZWN0aW9uRW1wdHlTdGF0ZT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIGFjdGl2ZUNvbGxlY3Rpb25JZCA9IG51bGw7XG4gICAgICAgIGNvbGxlY3Rpb25JdGVtcyA9IFtdO1xuICAgICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICAgICAgdXBkYXRlQ29sbGVjdGlvbkhlYWRlcigpO1xuICAgICAgICBzeW5jQWRkQnV0dG9uU3RhdGUoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChjb2xsZWN0aW9uc0FwaUJhc2UsIHtcbiAgICAgICAgICBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIGNvbGxlY3Rpb25zLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gW10pO1xuICAgICAgICBjb2xsZWN0aW9ucyA9IEFycmF5LmlzQXJyYXkocGF5bG9hZCkgPyBwYXlsb2FkIDogW107XG4gICAgICAgIHJlbmRlckNvbGxlY3Rpb25MaXN0KCk7XG4gICAgICAgIGlmIChjb2xsZWN0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY29uc3QgZGVmYXVsdElkID0gY29sbGVjdGlvbnMuZmluZCgoZW50cnkpID0+IGVudHJ5LmlkID09PSBhY3RpdmVDb2xsZWN0aW9uSWQpPy5pZFxuICAgICAgICAgICAgfHwgY29sbGVjdGlvbnNbMF0uaWQ7XG4gICAgICAgICAgc2V0QWN0aXZlQ29sbGVjdGlvbihkZWZhdWx0SWQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFjdGl2ZUNvbGxlY3Rpb25JZCA9IG51bGw7XG4gICAgICAgICAgY29sbGVjdGlvbkl0ZW1zID0gW107XG4gICAgICAgICAgdXBkYXRlQ29sbGVjdGlvbkhlYWRlcigpO1xuICAgICAgICAgIHN5bmNBZGRCdXR0b25TdGF0ZSgpO1xuICAgICAgICAgIHJlbmRlckl0ZW1UYWJsZSgpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2NvbnRlbnRdIGxvYWQgY29sbGVjdGlvbnMnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgY2hhcmdlciBsZXMgY29sbGVjdGlvbnMuJyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGl0ZW1BZGRCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgaWYgKCFhY3RpdmVDb2xsZWN0aW9uSWQpIHtcbiAgICAgICAgc2hvd1RvYXN0KCdTXHUwMEU5bGVjdGlvbm5leiBkXHUyMDE5YWJvcmQgdW5lIGNvbGxlY3Rpb24uJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHByZXBhcmVOZXdJdGVtRm9ybSgpO1xuICAgICAgcmVuZGVySXRlbVRhYmxlKCk7XG4gICAgfSk7XG5cbiAgICBpdGVtRm9ybUNhbmNlbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoaXNDcmVhdGluZ0l0ZW0pIHtcbiAgICAgICAgaXNDcmVhdGluZ0l0ZW0gPSBmYWxzZTtcbiAgICAgICAgYWN0aXZlSXRlbUlkID0gbnVsbDtcbiAgICAgICAgaGlkZUl0ZW1Gb3JtKCk7XG4gICAgICAgIHJlbmRlckl0ZW1UYWJsZSgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoYWN0aXZlSXRlbUlkKSB7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSBjb2xsZWN0aW9uSXRlbXMuZmluZCgoZW50cnkpID0+IGVudHJ5LmlkID09PSBhY3RpdmVJdGVtSWQpO1xuICAgICAgICBwb3B1bGF0ZUl0ZW1Gb3JtKGl0ZW0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaGlkZUl0ZW1Gb3JtKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpdGVtRm9ybUZpZWxkcy5zdGF0dXM/LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgICAgIHN5bmNJdGVtU3RhdHVzQmFkZ2UoaXRlbUZvcm1GaWVsZHMuc3RhdHVzLnZhbHVlKTtcbiAgICB9KTtcblxuICAgIGl0ZW1Gb3JtRmllbGRzLnRpdGxlPy5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICAgIGlmICghaXNDcmVhdGluZ0l0ZW0gfHwgIWl0ZW1Gb3JtRmllbGRzLnNsdWcgfHwgaXRlbVNsdWdNYW51YWxseUVkaXRlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpdGVtRm9ybUZpZWxkcy5zbHVnLnZhbHVlID0gbm9ybWFsaXplSXRlbVNsdWdJbnB1dChpdGVtRm9ybUZpZWxkcy50aXRsZS52YWx1ZSk7XG4gICAgfSk7XG5cbiAgICBpdGVtRm9ybUZpZWxkcy5zbHVnPy5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICAgIGlmICghaXNDcmVhdGluZ0l0ZW0pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaXRlbVNsdWdNYW51YWxseUVkaXRlZCA9IHRydWU7XG4gICAgfSk7XG5cbiAgICBpdGVtRm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKCFhY3RpdmVDb2xsZWN0aW9uSWQpIHtcbiAgICAgICAgc2hvd1RvYXN0KCdTXHUwMEU5bGVjdGlvbm5leiB1bmUgY29sbGVjdGlvbi4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgdmFsdWVzID0gY29sbGVjdEl0ZW1Gb3JtVmFsdWVzKCk7XG4gICAgICBpZiAoIXZhbHVlcy50aXRsZSkge1xuICAgICAgICBzaG93VG9hc3QoJ0xlIHRpdHJlIGVzdCByZXF1aXMuJyk7XG4gICAgICAgIGl0ZW1Gb3JtRmllbGRzLnRpdGxlPy5mb2N1cygpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZXRGb3JtU2F2aW5nU3RhdGUodHJ1ZSk7XG4gICAgICB0cnkge1xuICAgICAgICBsZXQgc2F2ZWRJdGVtO1xuICAgICAgICBpZiAoaXNDcmVhdGluZ0l0ZW0gfHwgIWFjdGl2ZUl0ZW1JZCkge1xuICAgICAgICAgIHNhdmVkSXRlbSA9IGF3YWl0IGNyZWF0ZUNvbGxlY3Rpb25JdGVtKGFjdGl2ZUNvbGxlY3Rpb25JZCwgdmFsdWVzKTtcbiAgICAgICAgICBjb2xsZWN0aW9uSXRlbXMgPSBbLi4uY29sbGVjdGlvbkl0ZW1zLCBzYXZlZEl0ZW1dO1xuICAgICAgICAgIHNob3dUb2FzdCgnSXRlbSBjclx1MDBFOVx1MDBFOScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNhdmVkSXRlbSA9IGF3YWl0IHVwZGF0ZUNvbGxlY3Rpb25JdGVtKGFjdGl2ZUNvbGxlY3Rpb25JZCwgYWN0aXZlSXRlbUlkLCB2YWx1ZXMpO1xuICAgICAgICAgIGNvbGxlY3Rpb25JdGVtcyA9IGNvbGxlY3Rpb25JdGVtcy5tYXAoKGl0ZW0pID0+XG4gICAgICAgICAgICBpdGVtLmlkID09PSBzYXZlZEl0ZW0uaWQgPyBzYXZlZEl0ZW0gOiBpdGVtLFxuICAgICAgICAgICk7XG4gICAgICAgICAgc2hvd1RvYXN0KCdJdGVtIG1pcyBcdTAwRTAgam91cicpO1xuICAgICAgICB9XG4gICAgICAgIGlzQ3JlYXRpbmdJdGVtID0gZmFsc2U7XG4gICAgICAgIGFjdGl2ZUl0ZW1JZCA9IHNhdmVkSXRlbS5pZDtcbiAgICAgICAgcG9wdWxhdGVJdGVtRm9ybShzYXZlZEl0ZW0pO1xuICAgICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbY29udGVudF0gc2F2ZSBpdGVtIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBzYXV2ZWdhcmRlciBjZXQgaXRlbS4nKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldEZvcm1TYXZpbmdTdGF0ZShmYWxzZSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBjb25zdCBjbG9zZURlbGV0ZU1vZGFsID0gKCkgPT4ge1xuICAgICAgaWYgKCFpdGVtRGVsZXRlTW9kYWwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaXRlbURlbGV0ZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgaXRlbURlbGV0ZU1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2ZsZXgnKTtcbiAgICAgIHBlbmRpbmdEZWxldGVJdGVtSWQgPSBudWxsO1xuICAgIH07XG5cbiAgICBjb25zdCBvcGVuRGVsZXRlTW9kYWwgPSAoKSA9PiB7XG4gICAgICBpZiAoIWl0ZW1EZWxldGVNb2RhbCB8fCAhYWN0aXZlSXRlbUlkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHBlbmRpbmdEZWxldGVJdGVtSWQgPSBhY3RpdmVJdGVtSWQ7XG4gICAgICBpdGVtRGVsZXRlTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBpdGVtRGVsZXRlTW9kYWwuY2xhc3NMaXN0LmFkZCgnZmxleCcpO1xuICAgIH07XG5cbiAgICBpdGVtRGVsZXRlQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmICghYWN0aXZlSXRlbUlkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIG9wZW5EZWxldGVNb2RhbCgpO1xuICAgIH0pO1xuXG4gICAgaXRlbURlbGV0ZUNhbmNlbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjbG9zZURlbGV0ZU1vZGFsKCk7XG4gICAgfSk7XG5cbiAgICBpdGVtRGVsZXRlTW9kYWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSBpdGVtRGVsZXRlTW9kYWwpIHtcbiAgICAgICAgY2xvc2VEZWxldGVNb2RhbCgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaXRlbURlbGV0ZUNvbmZpcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFwZW5kaW5nRGVsZXRlSXRlbUlkIHx8ICFhY3RpdmVDb2xsZWN0aW9uSWQpIHtcbiAgICAgICAgY2xvc2VEZWxldGVNb2RhbCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpdGVtRGVsZXRlQ29uZmlybS5kaXNhYmxlZCA9IHRydWU7XG4gICAgICBpdGVtRGVsZXRlQ29uZmlybS50ZXh0Q29udGVudCA9ICdTdXBwcmVzc2lvblx1MjAyNic7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBkZWxldGVDb2xsZWN0aW9uSXRlbShhY3RpdmVDb2xsZWN0aW9uSWQsIHBlbmRpbmdEZWxldGVJdGVtSWQpO1xuICAgICAgICBjb2xsZWN0aW9uSXRlbXMgPSBjb2xsZWN0aW9uSXRlbXMuZmlsdGVyKChpdGVtKSA9PiBpdGVtLmlkICE9PSBwZW5kaW5nRGVsZXRlSXRlbUlkKTtcbiAgICAgICAgaWYgKGFjdGl2ZUl0ZW1JZCA9PT0gcGVuZGluZ0RlbGV0ZUl0ZW1JZCkge1xuICAgICAgICAgIGFjdGl2ZUl0ZW1JZCA9IG51bGw7XG4gICAgICAgICAgaGlkZUl0ZW1Gb3JtKCk7XG4gICAgICAgIH1cbiAgICAgICAgc2hvd1RvYXN0KCdJdGVtIHN1cHByaW1cdTAwRTknKTtcbiAgICAgICAgcmVuZGVySXRlbVRhYmxlKCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2NvbnRlbnRdIGRlbGV0ZSBpdGVtIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBzdXBwcmltZXIgY2V0IGl0ZW0uJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpdGVtRGVsZXRlQ29uZmlybS5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICBpdGVtRGVsZXRlQ29uZmlybS50ZXh0Q29udGVudCA9ICdTdXBwcmltZXInO1xuICAgICAgICBjbG9zZURlbGV0ZU1vZGFsKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB1cGRhdGVDb2xsZWN0aW9uSGVhZGVyKCk7XG4gICAgc3luY0FkZEJ1dHRvblN0YXRlKCk7XG4gICAgbG9hZENvbGxlY3Rpb25zKCk7XG4gIH1cblxuICBmdW5jdGlvbiBpbml0RGVwbG95V29ya3NwYWNlKCkge1xuICAgIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktZm9ybV0nKTtcbiAgICBpZiAoIWZvcm0pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcHJvdG9jb2xTZWxlY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktcHJvdG9jb2xdJyk7XG4gICAgY29uc3QgaG9zdElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LWhvc3RdJyk7XG4gICAgY29uc3QgcG9ydElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LXBvcnRdJyk7XG4gICAgY29uc3QgdXNlcklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LXVzZXJdJyk7XG4gICAgY29uc3QgcGFzc3dvcmRJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1wYXNzd29yZF0nKTtcbiAgICBjb25zdCBzaG93UGFzc3dvcmRUb2dnbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktc2hvdy1wYXNzd29yZF0nKTtcbiAgICBjb25zdCByZW1vdGVQYXRoSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktcmVtb3RlLXBhdGhdJyk7XG4gICAgY29uc3QgZmVlZGJhY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktZmVlZGJhY2tdJyk7XG4gICAgY29uc3Qgc2F2ZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1zYXZlXScpO1xuICAgIGNvbnN0IHRlc3RCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktdGVzdF0nKTtcbiAgICBjb25zdCBkZXBsb3lCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktdHJpZ2dlcl0nKTtcbiAgICBjb25zdCBoaXN0b3J5TGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1oaXN0b3J5XScpO1xuICAgIGNvbnN0IGxvZ0JveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1sb2ddJyk7XG5cbiAgICBjb25zdCBzYWZlU2l0ZVNsdWcgPSBzdHJpcExlYWRpbmdTbGFzaChcbiAgICAgIHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJycsXG4gICAgKTtcbiAgICBjb25zdCBkZXBsb3lBcGlCYXNlID0gc2FmZVNpdGVTbHVnXG4gICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Zyl9L2RlcGxveS1jb25maWdgXG4gICAgICA6IG51bGw7XG4gICAgY29uc3QgZGVwbG95UnVuQXBpID0gc2FmZVNpdGVTbHVnXG4gICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Zyl9L2RlcGxveWBcbiAgICAgIDogbnVsbDtcbiAgICBjb25zdCBkZXBsb3lMb2dBcGkgPSBzYWZlU2l0ZVNsdWdcbiAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnKX0vZGVwbG95LWxvZ2BcbiAgICAgIDogbnVsbDtcblxuICAgIGxldCBoYXNQYXNzd29yZCA9IGZhbHNlO1xuICAgIGxldCBidXN5QWN0aW9uID0gbnVsbDtcblxuICAgIGNvbnN0IHNhbml0aXplUmVtb3RlUGF0aCA9ICh2YWx1ZSkgPT4ge1xuICAgICAgY29uc3QgdHJpbW1lZCA9ICh2YWx1ZSB8fCAnJykudHJpbSgpO1xuICAgICAgaWYgKCF0cmltbWVkKSB7XG4gICAgICAgIHJldHVybiAnL3d3dyc7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJpbW1lZC5zdGFydHNXaXRoKCcvJykgPyB0cmltbWVkIDogYC8ke3RyaW1tZWR9YDtcbiAgICB9O1xuXG4gICAgY29uc3Qgc2V0RmVlZGJhY2sgPSAobWVzc2FnZSwgdG9uZSA9ICdtdXRlZCcpID0+IHtcbiAgICAgIGlmICghZmVlZGJhY2spIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgYmFzZUNsYXNzID0gJ2lubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiByb3VuZGVkLWZ1bGwgcHgtMyBweS0xIHRleHQteHMgZm9udC1zZW1pYm9sZCc7XG4gICAgICBjb25zdCB0b25lQ2xhc3MgPVxuICAgICAgICB0b25lID09PSAnc3VjY2VzcydcbiAgICAgICAgICA/ICdiZy1lbWVyYWxkLTUwIHRleHQtZW1lcmFsZC03MDAgYm9yZGVyIGJvcmRlci1lbWVyYWxkLTEwMCdcbiAgICAgICAgICA6IHRvbmUgPT09ICdlcnJvcidcbiAgICAgICAgICAgID8gJ2JnLXJvc2UtNTAgdGV4dC1yb3NlLTcwMCBib3JkZXIgYm9yZGVyLXJvc2UtMTAwJ1xuICAgICAgICAgICAgOiAnYmctc2xhdGUtNTAgdGV4dC1zbGF0ZS02MDAgYm9yZGVyIGJvcmRlci1zbGF0ZS0xMDAnO1xuICAgICAgaWYgKCFtZXNzYWdlKSB7XG4gICAgICAgIGZlZWRiYWNrLnRleHRDb250ZW50ID0gJyc7XG4gICAgICAgIGZlZWRiYWNrLmNsYXNzTmFtZSA9ICd0ZXh0LXNtIHRleHQtc2xhdGUtNTAwJztcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgaWNvbiA9IHRvbmUgPT09ICdzdWNjZXNzJyA/ICdcdTI3MDUnIDogdG9uZSA9PT0gJ2Vycm9yJyA/ICdcdTI3NEMnIDogJ1x1MjEzOVx1RkUwRic7XG4gICAgICBmZWVkYmFjay5pbm5lckhUTUwgPSBgPHNwYW4gY2xhc3M9XCIke2Jhc2VDbGFzc30gJHt0b25lQ2xhc3N9XCI+JHtpY29ufTxzcGFuPiR7bWVzc2FnZX08L3NwYW4+PC9zcGFuPmA7XG4gICAgICBmZWVkYmFjay5jbGFzc05hbWUgPSAndGV4dC1zbSc7XG4gICAgfTtcblxuICAgIGNvbnN0IHNldEJ1c3kgPSAoYWN0aW9uID0gbnVsbCkgPT4ge1xuICAgICAgYnVzeUFjdGlvbiA9IGFjdGlvbjtcbiAgICAgIGNvbnN0IGRpc2FibGUgPSBCb29sZWFuKGFjdGlvbik7XG4gICAgICBjb25zdCBzcGlubmVyID1cbiAgICAgICAgJzxzdmcgY2xhc3M9XCJoLTQgdy00IGFuaW1hdGUtc3BpbiB0ZXh0LXdoaXRlXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PGNpcmNsZSBjbGFzcz1cIm9wYWNpdHktMjVcIiBjeD1cIjEyXCIgY3k9XCIxMlwiIHI9XCIxMFwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjRcIj48L2NpcmNsZT48cGF0aCBjbGFzcz1cIm9wYWNpdHktNzVcIiBmaWxsPVwiY3VycmVudENvbG9yXCIgZD1cIk00IDEyYTggOCAwIDAxOC04djRhNCA0IDAgMDAtNCA0SDR6XCI+PC9wYXRoPjwvc3ZnPic7XG4gICAgICBpZiAoc2F2ZUJ1dHRvbikge1xuICAgICAgICBzYXZlQnV0dG9uLmRpc2FibGVkID0gZGlzYWJsZTtcbiAgICAgICAgc2F2ZUJ1dHRvbi5pbm5lckhUTUwgPVxuICAgICAgICAgIGFjdGlvbiA9PT0gJ3NhdmUnXG4gICAgICAgICAgICA/IGA8c3BhbiBjbGFzcz1cImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPiR7c3Bpbm5lcn08c3Bhbj5FbnJlZ2lzdHJlbWVudFx1MjAyNjwvc3Bhbj48L3NwYW4+YFxuICAgICAgICAgICAgOiAnRW5yZWdpc3RyZXInO1xuICAgICAgfVxuICAgICAgaWYgKHRlc3RCdXR0b24pIHtcbiAgICAgICAgdGVzdEJ1dHRvbi5kaXNhYmxlZCA9IGRpc2FibGU7XG4gICAgICAgIHRlc3RCdXR0b24uaW5uZXJIVE1MID1cbiAgICAgICAgICBhY3Rpb24gPT09ICd0ZXN0J1xuICAgICAgICAgICAgPyBgPHNwYW4gY2xhc3M9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj48c3BhbiBjbGFzcz1cImgtNCB3LTQgYW5pbWF0ZS1zcGluIHJvdW5kZWQtZnVsbCBib3JkZXItMiBib3JkZXItc2xhdGUtMjAwIGJvcmRlci10LXNsYXRlLTYwMFwiPjwvc3Bhbj48c3Bhbj5UZXN0IGVuIGNvdXJzXHUyMDI2PC9zcGFuPjwvc3Bhbj5gXG4gICAgICAgICAgICA6ICdUZXN0ZXIgbGEgY29ubmV4aW9uJztcbiAgICAgIH1cbiAgICAgIGlmIChkZXBsb3lCdXR0b24pIHtcbiAgICAgICAgZGVwbG95QnV0dG9uLmRpc2FibGVkID0gZGlzYWJsZSAmJiBhY3Rpb24gIT09IG51bGw7XG4gICAgICAgIGRlcGxveUJ1dHRvbi5pbm5lckhUTUwgPVxuICAgICAgICAgIGFjdGlvbiA9PT0gJ2RlcGxveSdcbiAgICAgICAgICAgID8gYDxzcGFuIGNsYXNzPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+PHNwYW4gY2xhc3M9XCJoLTQgdy00IGFuaW1hdGUtc3BpbiByb3VuZGVkLWZ1bGwgYm9yZGVyLTIgYm9yZGVyLXdoaXRlLzYwIGJvcmRlci10LXdoaXRlXCI+PC9zcGFuPjxzcGFuPkRcdTAwRTlwbG9pZW1lbnRcdTIwMjY8L3NwYW4+PC9zcGFuPmBcbiAgICAgICAgICAgIDogJ0RcdTAwRTlwbG95ZXIgbWFpbnRlbmFudCc7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHBvcHVsYXRlRm9ybSA9IChjb25maWcpID0+IHtcbiAgICAgIHByb3RvY29sU2VsZWN0ICYmIChwcm90b2NvbFNlbGVjdC52YWx1ZSA9IGNvbmZpZy5wcm90b2NvbCB8fCAnc2Z0cCcpO1xuICAgICAgaG9zdElucHV0ICYmIChob3N0SW5wdXQudmFsdWUgPSBjb25maWcuaG9zdCB8fCAnJyk7XG4gICAgICBwb3J0SW5wdXQgJiYgKHBvcnRJbnB1dC52YWx1ZSA9IGNvbmZpZy5wb3J0IHx8ICcnKTtcbiAgICAgIHVzZXJJbnB1dCAmJiAodXNlcklucHV0LnZhbHVlID0gY29uZmlnLnVzZXIgfHwgJycpO1xuICAgICAgcmVtb3RlUGF0aElucHV0ICYmIChyZW1vdGVQYXRoSW5wdXQudmFsdWUgPSBjb25maWcucmVtb3RlUGF0aCB8fCAnL3d3dycpO1xuICAgICAgaGFzUGFzc3dvcmQgPSBCb29sZWFuKGNvbmZpZy5oYXNQYXNzd29yZCk7XG4gICAgICBpZiAocGFzc3dvcmRJbnB1dCkge1xuICAgICAgICBwYXNzd29yZElucHV0LnZhbHVlID0gJyc7XG4gICAgICAgIHBhc3N3b3JkSW5wdXQucGxhY2Vob2xkZXIgPSBoYXNQYXNzd29yZCA/ICdOb24gYWZmaWNoXHUwMEU5JyA6ICdNb3QgZGUgcGFzc2UnO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCByZW5kZXJIaXN0b3J5ID0gKGVudHJpZXMgPSBbXSkgPT4ge1xuICAgICAgaWYgKCFoaXN0b3J5TGlzdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBoaXN0b3J5TGlzdC5pbm5lckhUTUwgPSAnJztcbiAgICAgIGlmICghZW50cmllcy5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgICBsaS5jbGFzc05hbWUgPSAndGV4dC1zbGF0ZS01MDAnO1xuICAgICAgICBsaS50ZXh0Q29udGVudCA9ICdBdWN1biBkXHUwMEU5cGxvaWVtZW50IHBvdXIgbGUgbW9tZW50Lic7XG4gICAgICAgIGhpc3RvcnlMaXN0LmFwcGVuZENoaWxkKGxpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZW50cmllcy5mb3JFYWNoKChlbnRyeSkgPT4ge1xuICAgICAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICAgIGxpLmNsYXNzTmFtZSA9XG4gICAgICAgICAgJ2ZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBnYXAtMiByb3VuZGVkLXhsIGJvcmRlciBib3JkZXItc2xhdGUtMjAwIHB4LTMgcHktMic7XG4gICAgICAgIGNvbnN0IHN0YXR1c0JhZGdlID1cbiAgICAgICAgICBlbnRyeS5zdGF0dXMgPT09ICdzdWNjZXNzJ1xuICAgICAgICAgICAgPyAnPHNwYW4gY2xhc3M9XCJyb3VuZGVkLWZ1bGwgYmctZW1lcmFsZC01MCBweC0yIHB5LTAuNSB0ZXh0LVsxMXB4XSBmb250LXNlbWlib2xkIHRleHQtZW1lcmFsZC03MDBcIj5TdWNjXHUwMEU4czwvc3Bhbj4nXG4gICAgICAgICAgICA6ICc8c3BhbiBjbGFzcz1cInJvdW5kZWQtZnVsbCBiZy1yb3NlLTUwIHB4LTIgcHktMC41IHRleHQtWzExcHhdIGZvbnQtc2VtaWJvbGQgdGV4dC1yb3NlLTcwMFwiPlx1MDBDOWNoZWM8L3NwYW4+JztcbiAgICAgICAgY29uc3QgZGF0ZSA9IGVudHJ5LmZpbmlzaGVkQXQgfHwgZW50cnkuc3RhcnRlZEF0IHx8ICcnO1xuICAgICAgICBjb25zdCBkdXJhdGlvbiA9XG4gICAgICAgICAgZW50cnkuZHVyYXRpb25NcyAmJiBOdW1iZXIoZW50cnkuZHVyYXRpb25NcykgPj0gMFxuICAgICAgICAgICAgPyBgJHtNYXRoLnJvdW5kKE51bWJlcihlbnRyeS5kdXJhdGlvbk1zKSAvIDEwMDApfXNgXG4gICAgICAgICAgICA6ICcnO1xuICAgICAgICBsaS5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInNwYWNlLXktMVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+JHtzdGF0dXNCYWRnZX08c3BhbiBjbGFzcz1cInRleHQteHMgdGV4dC1zbGF0ZS01MDBcIj4ke2RhdGV9PC9zcGFuPjwvZGl2PlxuICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXNtIHRleHQtc2xhdGUtODAwXCI+JHtlbnRyeS5tZXNzYWdlIHx8ICcnfTwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC14cyB0ZXh0LXNsYXRlLTUwMFwiPiR7ZHVyYXRpb259PC9kaXY+XG4gICAgICAgIGA7XG4gICAgICAgIGxpLmRhdGFzZXQuZGVwbG95SWQgPSBlbnRyeS5pZCB8fCAnJztcbiAgICAgICAgbGkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgaWYgKGVudHJ5LmxvZ3MgJiYgbG9nQm94KSB7XG4gICAgICAgICAgICBsb2dCb3gudGV4dENvbnRlbnQgPSBlbnRyeS5sb2dzLmpvaW4oJ1xcbicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGhpc3RvcnlMaXN0LmFwcGVuZENoaWxkKGxpKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCByZW5kZXJMb2dzID0gKGxpbmVzID0gW10pID0+IHtcbiAgICAgIGlmICghbG9nQm94KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGxvZ0JveC50ZXh0Q29udGVudCA9IGxpbmVzLmxlbmd0aCA/IGxpbmVzLmpvaW4oJ1xcbicpIDogJ0F1Y3VuIGxvZyBwb3VyIGxlIG1vbWVudC4nO1xuICAgIH07XG5cbiAgICBjb25zdCBmZXRjaEhpc3RvcnkgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWRlcGxveUxvZ0FwaSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGRlcGxveUxvZ0FwaSwgeyBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDQpIHtcbiAgICAgICAgICAgIHJlbmRlckhpc3RvcnkoW10pO1xuICAgICAgICAgICAgcmVuZGVyTG9ncyhbJ0FQSSBkXHUwMEU5cGxvaWVtZW50IGluZGlzcG9uaWJsZSAocmVkXHUwMEU5bWFycmUgbGUgc2VydmV1cikuJ10pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ltcG9zc2libGUgZGUgY2hhcmdlciBsXHUyMDE5aGlzdG9yaXF1ZS4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICBjb25zdCBlbnRyaWVzID0gQXJyYXkuaXNBcnJheShwYXlsb2FkLmVudHJpZXMpID8gcGF5bG9hZC5lbnRyaWVzIDogW107XG4gICAgICAgIHJlbmRlckhpc3RvcnkoZW50cmllcyk7XG4gICAgICAgIGlmIChlbnRyaWVzWzBdPy5sb2dzKSB7XG4gICAgICAgICAgcmVuZGVyTG9ncyhlbnRyaWVzWzBdLmxvZ3MpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2RlcGxveV0gaGlzdG9yeSBmYWlsZWQnLCBlcnIpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBmZXRjaENvbmZpZyA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghZGVwbG95QXBpQmFzZSkge1xuICAgICAgICBzZXRGZWVkYmFjaygnQXVjdW4gc2l0ZSBhY3RpZiBzXHUwMEU5bGVjdGlvbm5cdTAwRTkuJywgJ2Vycm9yJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNldEJ1c3koJ2xvYWQnKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goZGVwbG95QXBpQmFzZSwgeyBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSk7XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgIHBvcHVsYXRlRm9ybShwYXlsb2FkIHx8IHt9KTtcbiAgICAgICAgICBzZXRGZWVkYmFjaygnQ29uZmlndXJhdGlvbiBjaGFyZ1x1MDBFOWUuJywgJ211dGVkJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcG9wdWxhdGVGb3JtKHBheWxvYWQgfHwge30pO1xuICAgICAgICAgIHNldEZlZWRiYWNrKHBheWxvYWQubWVzc2FnZSB8fCAnQ29uZmlndXJhdGlvbiBwYXIgZFx1MDBFOWZhdXQgY2hhcmdcdTAwRTllLicsICdtdXRlZCcpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2RlcGxveV0gbG9hZCBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzZXRGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZHUgY2hhcmdlbWVudC4nLCAnZXJyb3InKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldEJ1c3kobnVsbCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGJ1aWxkUGF5bG9hZCA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgIHByb3RvY29sOiBwcm90b2NvbFNlbGVjdD8udmFsdWUgfHwgJ3NmdHAnLFxuICAgICAgICBob3N0OiBob3N0SW5wdXQ/LnZhbHVlLnRyaW0oKSB8fCAnJyxcbiAgICAgICAgcG9ydDogTnVtYmVyKHBvcnRJbnB1dD8udmFsdWUpIHx8IHVuZGVmaW5lZCxcbiAgICAgICAgdXNlcjogdXNlcklucHV0Py52YWx1ZS50cmltKCkgfHwgJycsXG4gICAgICAgIHJlbW90ZVBhdGg6IHNhbml0aXplUmVtb3RlUGF0aChyZW1vdGVQYXRoSW5wdXQ/LnZhbHVlIHx8ICcvd3d3JyksXG4gICAgICB9O1xuICAgICAgY29uc3QgcHdkID0gcGFzc3dvcmRJbnB1dD8udmFsdWUgfHwgJyc7XG4gICAgICBpZiAocHdkLnRyaW0oKS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHBheWxvYWQucGFzc3dvcmQgPSBwd2Q7XG4gICAgICB9XG4gICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICB9O1xuXG4gICAgZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoIWRlcGxveUFwaUJhc2UpIHtcbiAgICAgICAgc2V0RmVlZGJhY2soJ0F1Y3VuIHNpdGUgYWN0aWYgc1x1MDBFOWxlY3Rpb25uXHUwMEU5LicsICdlcnJvcicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBwYXlsb2FkID0gYnVpbGRQYXlsb2FkKCk7XG4gICAgICBzZXRCdXN5KCdzYXZlJyk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGRlcGxveUFwaUJhc2UsIHtcbiAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnN0IGVycm9yUGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JQYXlsb2FkLm1lc3NhZ2UgfHwgJ1NhdXZlZ2FyZGUgaW1wb3NzaWJsZS4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzYXZlZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgcG9wdWxhdGVGb3JtKHNhdmVkIHx8IHt9KTtcbiAgICAgICAgc2V0RmVlZGJhY2soJ0NvbmZpZ3VyYXRpb24gZW5yZWdpc3RyXHUwMEU5ZS4nLCAnc3VjY2VzcycpO1xuICAgICAgICBzaG93VG9hc3QoJ0NvbmZpZ3VyYXRpb24gZFx1MDBFOXBsb2llbWVudCBzYXV2ZWdhcmRcdTAwRTllJyk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2RlcGxveV0gc2F2ZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzZXRGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZGUgbGEgc2F1dmVnYXJkZS4nLCAnZXJyb3InKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldEJ1c3kobnVsbCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0ZXN0QnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghZGVwbG95QXBpQmFzZSkge1xuICAgICAgICBzZXRGZWVkYmFjaygnQXVjdW4gc2l0ZSBhY3RpZiBzXHUwMEU5bGVjdGlvbm5cdTAwRTkuJywgJ2Vycm9yJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHBheWxvYWQgPSBidWlsZFBheWxvYWQoKTtcbiAgICAgIGlmICghcGF5bG9hZC5ob3N0IHx8ICFwYXlsb2FkLnVzZXIgfHwgIXBheWxvYWQucmVtb3RlUGF0aCkge1xuICAgICAgICBzZXRGZWVkYmFjaygnUmVtcGxpc3NleiBsZXMgY2hhbXBzIHJlcXVpcyBhdmFudCBkZSB0ZXN0ZXIuJywgJ2Vycm9yJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNldEJ1c3koJ3Rlc3QnKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7ZGVwbG95QXBpQmFzZX0vdGVzdGAsIHtcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vayB8fCByZXN1bHQuc3VjY2VzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBzZXRGZWVkYmFjayhyZXN1bHQubWVzc2FnZSB8fCAnVGVzdCBkZSBjb25uZXhpb24gXHUwMEU5Y2hvdVx1MDBFOS4nLCAnZXJyb3InKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc2V0RmVlZGJhY2socmVzdWx0Lm1lc3NhZ2UgfHwgJ0Nvbm5leGlvbiBPSy4nLCAnc3VjY2VzcycpO1xuICAgICAgICBzaG93VG9hc3QoJ1Rlc3QgZGUgY29ubmV4aW9uIHJcdTAwRTl1c3NpJyk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2RlcGxveV0gdGVzdCBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzZXRGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnVGVzdCBkZSBjb25uZXhpb24gXHUwMEU5Y2hvdVx1MDBFOS4nLCAnZXJyb3InKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldEJ1c3kobnVsbCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBkZXBsb3lCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFkZXBsb3lSdW5BcGkpIHtcbiAgICAgICAgc2V0RmVlZGJhY2soJ0F1Y3VuIHNpdGUgYWN0aWYgc1x1MDBFOWxlY3Rpb25uXHUwMEU5LicsICdlcnJvcicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZXRCdXN5KCdkZXBsb3knKTtcbiAgICAgIHJlbmRlckxvZ3MoWydEXHUwMEU5cGxvaWVtZW50IGVuIGNvdXJzXHUyMDI2J10pO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChkZXBsb3lSdW5BcGksIHtcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShidWlsZFBheWxvYWQoKSksXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDQpIHtcbiAgICAgICAgICAgIHNldEZlZWRiYWNrKCdBUEkgZFx1MDBFOXBsb2llbWVudCBpbmRpc3BvbmlibGUgKHJlZFx1MDBFOW1hcnJlIGxlIHNlcnZldXIpLicsICdlcnJvcicpO1xuICAgICAgICAgICAgcmVuZGVyTG9ncyhbJ0FQSSBkXHUwMEU5cGxvaWVtZW50IGluZGlzcG9uaWJsZSAocmVkXHUwMEU5bWFycmUgbGUgc2VydmV1cikuJ10pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZW5kZXJMb2dzKHJlc3VsdC5sb2dzIHx8IFtdKTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzdWx0Lm1lc3NhZ2UgfHwgJ0RcdTAwRTlwbG9pZW1lbnQgXHUwMEU5Y2hvdVx1MDBFOS4nKTtcbiAgICAgICAgfVxuICAgICAgICByZW5kZXJMb2dzKHJlc3VsdC5sb2dzIHx8IFtdKTtcbiAgICAgICAgYXdhaXQgZmV0Y2hIaXN0b3J5KCk7XG4gICAgICAgIHNob3dUb2FzdCgnRFx1MDBFOXBsb2llbWVudCB0ZXJtaW5cdTAwRTknKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZGVwbG95XSBydW4gZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2V0RmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0RcdTAwRTlwbG9pZW1lbnQgXHUwMEU5Y2hvdVx1MDBFOS4nLCAnZXJyb3InKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldEJ1c3kobnVsbCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBzaG93UGFzc3dvcmRUb2dnbGU/LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgICAgIGlmICghcGFzc3dvcmRJbnB1dCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwYXNzd29yZElucHV0LnR5cGUgPSBzaG93UGFzc3dvcmRUb2dnbGUuY2hlY2tlZCA/ICd0ZXh0JyA6ICdwYXNzd29yZCc7XG4gICAgfSk7XG5cbiAgICAvLyBEb3dubG9hZCBidWlsZCBhcyBaSVBcbiAgICBjb25zdCBkb3dubG9hZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRvd25sb2FkLWJ1aWxkXScpO1xuICAgIGNvbnN0IGRvd25sb2FkRmVlZGJhY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kb3dubG9hZC1mZWVkYmFja10nKTtcbiAgICBjb25zdCBkb3dubG9hZEFwaSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9kb3dubG9hZGBcbiAgICAgIDogbnVsbDtcblxuICAgIGNvbnN0IHNldERvd25sb2FkRmVlZGJhY2sgPSAobWVzc2FnZSwgdG9uZSA9ICdtdXRlZCcpID0+IHtcbiAgICAgIGlmICghZG93bmxvYWRGZWVkYmFjaykgcmV0dXJuO1xuICAgICAgY29uc3QgY29sb3IgPVxuICAgICAgICB0b25lID09PSAnc3VjY2VzcydcbiAgICAgICAgICA/ICd0ZXh0LWVtZXJhbGQtNjAwJ1xuICAgICAgICAgIDogdG9uZSA9PT0gJ2Vycm9yJ1xuICAgICAgICAgICAgPyAndGV4dC1yb3NlLTYwMCdcbiAgICAgICAgICAgIDogJ3RleHQtc2xhdGUtNTAwJztcbiAgICAgIGRvd25sb2FkRmVlZGJhY2sudGV4dENvbnRlbnQgPSBtZXNzYWdlIHx8ICcnO1xuICAgICAgZG93bmxvYWRGZWVkYmFjay5jbGFzc05hbWUgPSBgdGV4dC1zbSAke2NvbG9yfWA7XG4gICAgfTtcblxuICAgIGRvd25sb2FkQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghZG93bmxvYWRBcGkpIHtcbiAgICAgICAgc2V0RG93bmxvYWRGZWVkYmFjaygnQXVjdW4gc2l0ZSBhY3RpZiBzXHUwMEU5bGVjdGlvbm5cdTAwRTkuJywgJ2Vycm9yJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGRvd25sb2FkQnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIGNvbnN0IG9yaWdpbmFsQ29udGVudCA9IGRvd25sb2FkQnV0dG9uLmlubmVySFRNTDtcbiAgICAgIGRvd25sb2FkQnV0dG9uLmlubmVySFRNTCA9IGBcbiAgICAgICAgPHN2ZyBjbGFzcz1cInctNCBoLTQgYW5pbWF0ZS1zcGluXCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgPGNpcmNsZSBjbGFzcz1cIm9wYWNpdHktMjVcIiBjeD1cIjEyXCIgY3k9XCIxMlwiIHI9XCIxMFwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjRcIj48L2NpcmNsZT5cbiAgICAgICAgICA8cGF0aCBjbGFzcz1cIm9wYWNpdHktNzVcIiBmaWxsPVwiY3VycmVudENvbG9yXCIgZD1cIk00IDEyYTggOCAwIDAxOC04djRhNCA0IDAgMDAtNCA0SDR6XCI+PC9wYXRoPlxuICAgICAgICA8L3N2Zz5cbiAgICAgICAgPHNwYW4+QnVpbGQgZW4gY291cnMuLi48L3NwYW4+XG4gICAgICBgO1xuICAgICAgc2V0RG93bmxvYWRGZWVkYmFjaygnR1x1MDBFOW5cdTAwRTlyYXRpb24gZHUgYnVpbGQgZW4gY291cnMuLi4nLCAnbXV0ZWQnKTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChkb3dubG9hZEFwaSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBjb25zdCBlcnJvckRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yRGF0YS5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIGdcdTAwRTluXHUwMEU5cmVyIGxlIFpJUC4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUXHUwMEU5bFx1MDBFOWNoYXJnZXIgbGUgZmljaGllclxuICAgICAgICBjb25zdCBibG9iID0gYXdhaXQgcmVzcG9uc2UuYmxvYigpO1xuICAgICAgICBjb25zdCB1cmwgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgICAgICAgY29uc3QgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICAgICAgYS5ocmVmID0gdXJsO1xuICAgICAgICBhLmRvd25sb2FkID0gYCR7c2FmZVNpdGVTbHVnfS1idWlsZC56aXBgO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGEpO1xuICAgICAgICBhLmNsaWNrKCk7XG4gICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoYSk7XG4gICAgICAgIHdpbmRvdy5VUkwucmV2b2tlT2JqZWN0VVJMKHVybCk7XG4gICAgICAgIHNldERvd25sb2FkRmVlZGJhY2soJ1RcdTAwRTlsXHUwMEU5Y2hhcmdlbWVudCB0ZXJtaW5cdTAwRTkgIScsICdzdWNjZXNzJyk7XG4gICAgICAgIHNob3dUb2FzdCgnQnVpbGQgdFx1MDBFOWxcdTAwRTljaGFyZ1x1MDBFOSBhdmVjIHN1Y2NcdTAwRThzJyk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2Rvd25sb2FkXSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzZXREb3dubG9hZEZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkdSB0XHUwMEU5bFx1MDBFOWNoYXJnZW1lbnQuJywgJ2Vycm9yJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBkb3dubG9hZEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICBkb3dubG9hZEJ1dHRvbi5pbm5lckhUTUwgPSBvcmlnaW5hbENvbnRlbnQ7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBmZXRjaENvbmZpZygpO1xuICAgIGZldGNoSGlzdG9yeSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gaW5pdFNldHRpbmdzV29ya3NwYWNlKCkge1xuICAgIGNvbnN0IHRhYkJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1zZXR0aW5ncy10YWJdJyk7XG4gICAgY29uc3QgdGFiUGFuZWxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtc2V0dGluZ3MtcGFuZWxdJyk7XG4gICAgY29uc3QgZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFkbWluLXBhc3N3b3JkLWZvcm1dJyk7XG4gICAgY29uc3Qgc2l0ZUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLWNvbmZpZy1mb3JtXScpO1xuICAgIGNvbnN0IHNpdGVGZWVkYmFjayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtY29uZmlnLWZlZWRiYWNrXScpO1xuICAgIGNvbnN0IHRoZW1lRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLWZvcm1dJyk7XG4gICAgY29uc3Qgc3dpdGNoVGFiID0gKG5hbWUpID0+IHtcbiAgICAgIHRhYkJ1dHRvbnMuZm9yRWFjaCgoYnRuKSA9PiB7XG4gICAgICAgIGNvbnN0IGlzQWN0aXZlID0gYnRuLmRhdGFzZXQuc2V0dGluZ3NUYWIgPT09IG5hbWU7XG4gICAgICAgIGJ0bi5zZXRBdHRyaWJ1dGUoJ2FyaWEtc2VsZWN0ZWQnLCBpc0FjdGl2ZSA/ICd0cnVlJyA6ICdmYWxzZScpO1xuICAgICAgICBidG4uY2xhc3NMaXN0LnRvZ2dsZSgnYmctWyM5QzZCRkZdJywgaXNBY3RpdmUpO1xuICAgICAgICBidG4uY2xhc3NMaXN0LnRvZ2dsZSgndGV4dC13aGl0ZScsIGlzQWN0aXZlKTtcbiAgICAgIH0pO1xuICAgICAgdGFiUGFuZWxzLmZvckVhY2goKHBhbmVsKSA9PiB7XG4gICAgICAgIHBhbmVsLmNsYXNzTGlzdC50b2dnbGUoJ2hpZGRlbicsIHBhbmVsLmRhdGFzZXQuc2V0dGluZ3NQYW5lbCAhPT0gbmFtZSk7XG4gICAgICB9KTtcbiAgICB9O1xuICAgIHRhYkJ1dHRvbnMuZm9yRWFjaCgoYnRuKSA9PiB7XG4gICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBzd2l0Y2hUYWIoYnRuLmRhdGFzZXQuc2V0dGluZ3NUYWIgfHwgJ2FjY291bnQnKSk7XG4gICAgfSk7XG4gICAgc3dpdGNoVGFiKCdhY2NvdW50Jyk7XG5cbiAgICBpZiAoIWZvcm0pIHtcbiAgICAgIC8vIHN0aWxsIGFsbG93IHNpdGUgZm9ybSBldmVuIGlmIHBhc3N3b3JkIGZvcm0gYWJzZW50XG4gICAgfVxuICAgIGlmIChmb3JtKSB7XG4gICAgICBjb25zdCBmZWVkYmFjayA9IGZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYWRtaW4tcGFzc3dvcmQtZmVlZGJhY2tdJyk7XG4gICAgICBjb25zdCBzdWJtaXQgPSBmb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFkbWluLXBhc3N3b3JkLXN1Ym1pdF0nKTtcbiAgICAgIGNvbnN0IHNldEZlZWRiYWNrID0gKG1lc3NhZ2UsIHRvbmUgPSAnbXV0ZWQnKSA9PiB7XG4gICAgICAgIGlmICghZmVlZGJhY2spIHJldHVybjtcbiAgICAgICAgY29uc3QgY29sb3IgPVxuICAgICAgICAgIHRvbmUgPT09ICdzdWNjZXNzJ1xuICAgICAgICAgICAgPyAndGV4dC1lbWVyYWxkLTYwMCdcbiAgICAgICAgICAgIDogdG9uZSA9PT0gJ2Vycm9yJ1xuICAgICAgICAgICAgICA/ICd0ZXh0LXJvc2UtNjAwJ1xuICAgICAgICAgICAgICA6ICd0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICAgIGZlZWRiYWNrLnRleHRDb250ZW50ID0gbWVzc2FnZSB8fCAnJztcbiAgICAgICAgZmVlZGJhY2suY2xhc3NOYW1lID0gYHRleHQtc20gJHtjb2xvcn1gO1xuICAgICAgfTtcbiAgICAgIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKGZvcm0pO1xuICAgICAgICBjb25zdCBjdXJyZW50UGFzc3dvcmQgPSBmb3JtRGF0YS5nZXQoJ2N1cnJlbnRQYXNzd29yZCcpIHx8ICcnO1xuICAgICAgICBjb25zdCBuZXdQYXNzd29yZCA9IGZvcm1EYXRhLmdldCgnbmV3UGFzc3dvcmQnKSB8fCAnJztcbiAgICAgICAgY29uc3QgY29uZmlybVBhc3N3b3JkID0gZm9ybURhdGEuZ2V0KCdjb25maXJtUGFzc3dvcmQnKSB8fCAnJztcbiAgICAgICAgaWYgKCFjdXJyZW50UGFzc3dvcmQgfHwgIW5ld1Bhc3N3b3JkIHx8ICFjb25maXJtUGFzc3dvcmQpIHtcbiAgICAgICAgICBzZXRGZWVkYmFjaygnQ29tcGxcdTAwRTh0ZSB0b3VzIGxlcyBjaGFtcHMuJywgJ2Vycm9yJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHN1Ym1pdCAmJiAoc3VibWl0LmRpc2FibGVkID0gdHJ1ZSk7XG4gICAgICAgIHNldEZlZWRiYWNrKCcnKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2FkbWluL3Bhc3N3b3JkJywge1xuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgY3VycmVudFBhc3N3b3JkLCBuZXdQYXNzd29yZCwgY29uZmlybVBhc3N3b3JkIH0pLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vayB8fCBwYXlsb2FkLnN1Y2Nlc3MgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocGF5bG9hZC5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIG1ldHRyZSBcdTAwRTAgam91ciBsZSBtb3QgZGUgcGFzc2UuJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNldEZlZWRiYWNrKHBheWxvYWQubWVzc2FnZSB8fCAnTW90IGRlIHBhc3NlIG1pcyBcdTAwRTAgam91ci4nLCAnc3VjY2VzcycpO1xuICAgICAgICAgIGZvcm0ucmVzZXQoKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3NldHRpbmdzXSBjaGFuZ2UgcGFzc3dvcmQgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgICBzZXRGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZGUgbGEgbWlzZSBcdTAwRTAgam91ci4nLCAnZXJyb3InKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBzdWJtaXQgJiYgKHN1Ym1pdC5kaXNhYmxlZCA9IGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKHNpdGVGb3JtKSB7XG4gICAgICBjb25zdCBuYW1lSW5wdXQgPSBzaXRlRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLW5hbWVdJyk7XG4gICAgICBjb25zdCBsYW5nU2VsZWN0ID0gc2l0ZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS1sYW5ndWFnZV0nKTtcbiAgICAgIGNvbnN0IHRhZ2xpbmVJbnB1dCA9IHNpdGVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtdGFnbGluZV0nKTtcbiAgICAgIGNvbnN0IHNhdmVCdXR0b24gPSBzaXRlRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLXNhdmVdJyk7XG4gICAgICBjb25zdCBzZXRTaXRlRmVlZGJhY2sgPSAobWVzc2FnZSwgdG9uZSA9ICdtdXRlZCcpID0+IHtcbiAgICAgICAgaWYgKCFzaXRlRmVlZGJhY2spIHJldHVybjtcbiAgICAgICAgY29uc3QgY29sb3IgPVxuICAgICAgICAgIHRvbmUgPT09ICdzdWNjZXNzJ1xuICAgICAgICAgICAgPyAndGV4dC1lbWVyYWxkLTYwMCdcbiAgICAgICAgICAgIDogdG9uZSA9PT0gJ2Vycm9yJ1xuICAgICAgICAgICAgICA/ICd0ZXh0LXJvc2UtNjAwJ1xuICAgICAgICAgICAgICA6ICd0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICAgIHNpdGVGZWVkYmFjay50ZXh0Q29udGVudCA9IG1lc3NhZ2UgfHwgJyc7XG4gICAgICAgIHNpdGVGZWVkYmFjay5jbGFzc05hbWUgPSBgdGV4dC1zbSAke2NvbG9yfWA7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBzYWZlU2l0ZVNsdWcgPSBzdHJpcExlYWRpbmdTbGFzaChcbiAgICAgICAgd29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyxcbiAgICAgICk7XG4gICAgICBjb25zdCBzaXRlQ29uZmlnQXBpID0gc2FmZVNpdGVTbHVnXG4gICAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnKX0vY29uZmlnL3NpdGVgXG4gICAgICAgIDogbnVsbDtcblxuICAgICAgY29uc3QgbG9hZFNpdGVDb25maWcgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIGlmICghc2l0ZUNvbmZpZ0FwaSkgcmV0dXJuO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goc2l0ZUNvbmZpZ0FwaSwgeyBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgcmV0dXJuO1xuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgaWYgKG5hbWVJbnB1dCkgbmFtZUlucHV0LnZhbHVlID0gcGF5bG9hZC5uYW1lIHx8ICcnO1xuICAgICAgICAgIGlmIChsYW5nU2VsZWN0KSBsYW5nU2VsZWN0LnZhbHVlID0gcGF5bG9hZC5sYW5ndWFnZSB8fCAnZnInO1xuICAgICAgICAgIGlmICh0YWdsaW5lSW5wdXQpIHRhZ2xpbmVJbnB1dC52YWx1ZSA9IHBheWxvYWQudGFnbGluZSB8fCAnJztcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3NldHRpbmdzXSBsb2FkIHNpdGUgY29uZmlnIGZhaWxlZCcsIGVycik7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHNpdGVGb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAoIXNpdGVDb25maWdBcGkpIHtcbiAgICAgICAgICBzZXRTaXRlRmVlZGJhY2soJ0F1Y3VuIHNpdGUgYWN0aWYuJywgJ2Vycm9yJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghbmFtZUlucHV0Py52YWx1ZS50cmltKCkpIHtcbiAgICAgICAgICBzZXRTaXRlRmVlZGJhY2soJ05vbSByZXF1aXMuJywgJ2Vycm9yJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNhdmVCdXR0b24gJiYgKHNhdmVCdXR0b24uZGlzYWJsZWQgPSB0cnVlKTtcbiAgICAgICAgc2V0U2l0ZUZlZWRiYWNrKCcnKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICAgICAgbmFtZTogbmFtZUlucHV0Py52YWx1ZSB8fCAnJyxcbiAgICAgICAgICAgIGxhbmd1YWdlOiBsYW5nU2VsZWN0Py52YWx1ZSB8fCAnZnInLFxuICAgICAgICAgICAgdGFnbGluZTogdGFnbGluZUlucHV0Py52YWx1ZSB8fCAnJyxcbiAgICAgICAgICB9O1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goc2l0ZUNvbmZpZ0FwaSwge1xuICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2sgfHwgcmVzdWx0LnN1Y2Nlc3MgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzdWx0Lm1lc3NhZ2UgfHwgJ1NhdXZlZ2FyZGUgaW1wb3NzaWJsZS4nKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0U2l0ZUZlZWRiYWNrKHJlc3VsdC5tZXNzYWdlIHx8ICdQYXJhbVx1MDBFOHRyZXMgZW5yZWdpc3RyXHUwMEU5cy4nLCAnc3VjY2VzcycpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIHNhdmUgc2l0ZSBjb25maWcgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgICBzZXRTaXRlRmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGRlIGxhIHNhdXZlZ2FyZGUuJywgJ2Vycm9yJyk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgc2F2ZUJ1dHRvbiAmJiAoc2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGxvYWRTaXRlQ29uZmlnKCk7XG4gICAgfVxuXG4gICAgaWYgKHRoZW1lRm9ybSkge1xuICAgICAgY29uc3Qgc2FmZVNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goXG4gICAgICAgIHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJycsXG4gICAgICApO1xuICAgICAgY29uc3QgdGhlbWVBcGkgPSBzYWZlU2l0ZVNsdWdcbiAgICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9jb25maWcvdGhlbWVgXG4gICAgICAgIDogbnVsbDtcblxuICAgICAgY29uc3QgY29sb3JTZWxlY3RzID0ge1xuICAgICAgICBwcmltYXJ5OiB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtcHJpbWFyeV0nKSxcbiAgICAgICAgc2Vjb25kYXJ5OiB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtc2Vjb25kYXJ5XScpLFxuICAgICAgICBhY2NlbnQ6IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1hY2NlbnRdJyksXG4gICAgICAgIGJhY2tncm91bmQ6IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1iYWNrZ3JvdW5kXScpLFxuICAgICAgICB0ZXh0OiB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtdGV4dF0nKSxcbiAgICAgIH07XG4gICAgICBjb25zdCBoZWFkaW5nU2VsZWN0ID0gdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLWhlYWRpbmdzXScpO1xuICAgICAgY29uc3QgYm9keVNlbGVjdCA9IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1ib2R5XScpO1xuICAgICAgY29uc3QgcmFkaXVzU21hbGwgPSB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtcmFkaXVzLXNtYWxsXScpO1xuICAgICAgY29uc3QgcmFkaXVzTWVkaXVtID0gdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLXJhZGl1cy1tZWRpdW1dJyk7XG4gICAgICBjb25zdCByYWRpdXNMYXJnZSA9IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1yYWRpdXMtbGFyZ2VdJyk7XG4gICAgICBjb25zdCBwcmV2aWV3ID0gdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLXByZXZpZXddJyk7XG4gICAgICBjb25zdCB0aGVtZUZlZWRiYWNrID0gdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLWZlZWRiYWNrXScpO1xuICAgICAgY29uc3QgYXBwbHlCdXR0b24gPSB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtYXBwbHldJyk7XG4gICAgICBjb25zdCB0YWlsd2luZEh1ZXMgPSBbXG4gICAgICAgICdzbGF0ZScsJ2dyYXknLCd6aW5jJywnbmV1dHJhbCcsJ3N0b25lJywncmVkJywnb3JhbmdlJywnYW1iZXInLCd5ZWxsb3cnLCdsaW1lJywnZ3JlZW4nLCdlbWVyYWxkJywndGVhbCcsJ2N5YW4nLCdza3knLCdibHVlJywnaW5kaWdvJywndmlvbGV0JywncHVycGxlJywnZnVjaHNpYScsJ3BpbmsnLCdyb3NlJ1xuICAgICAgXTtcbiAgICAgIGNvbnN0IHRhaWx3aW5kU2hhZGVzID0gWyc1MCcsJzEwMCcsJzIwMCcsJzMwMCcsJzQwMCcsJzUwMCcsJzYwMCcsJzcwMCcsJzgwMCcsJzkwMCddO1xuICAgICAgY29uc3QgdGFpbHdpbmRUb2tlbnMgPSB0YWlsd2luZEh1ZXMuZmxhdE1hcCgoaCk9PnRhaWx3aW5kU2hhZGVzLm1hcCgocyk9PmAke2h9LSR7c31gKSk7XG5cbiAgICAgIGNvbnN0IGZpbGxDb2xvck9wdGlvbnMgPSAoKSA9PiB7XG4gICAgICAgIE9iamVjdC52YWx1ZXMoY29sb3JTZWxlY3RzKS5mb3JFYWNoKChzZWwpPT57XG4gICAgICAgICAgaWYgKCFzZWwgfHwgc2VsLm9wdGlvbnMubGVuZ3RoKSByZXR1cm47XG4gICAgICAgICAgdGFpbHdpbmRUb2tlbnMuZm9yRWFjaCgodG9rZW4pPT57XG4gICAgICAgICAgICBjb25zdCBvcHRpb249ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICAgICAgICBvcHRpb24udmFsdWU9dG9rZW47XG4gICAgICAgICAgICBjb25zdCBbaCxzXT10b2tlbi5zcGxpdCgnLScpO1xuICAgICAgICAgICAgb3B0aW9uLnRleHRDb250ZW50PWAke2guY2hhckF0KDApLnRvVXBwZXJDYXNlKCkraC5zbGljZSgxKX0gJHtzfWA7XG4gICAgICAgICAgICBzZWwuYXBwZW5kQ2hpbGQob3B0aW9uKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBzZXRUaGVtZUZlZWRiYWNrID0gKG1lc3NhZ2UsIHRvbmUgPSAnbXV0ZWQnKSA9PiB7XG4gICAgICAgIGlmICghdGhlbWVGZWVkYmFjaykgcmV0dXJuO1xuICAgICAgICBjb25zdCBjb2xvciA9XG4gICAgICAgICAgdG9uZSA9PT0gJ3N1Y2Nlc3MnXG4gICAgICAgICAgICA/ICd0ZXh0LWVtZXJhbGQtNjAwJ1xuICAgICAgICAgICAgOiB0b25lID09PSAnZXJyb3InXG4gICAgICAgICAgICAgID8gJ3RleHQtcm9zZS02MDAnXG4gICAgICAgICAgICAgIDogJ3RleHQtc2xhdGUtNTAwJztcbiAgICAgICAgdGhlbWVGZWVkYmFjay50ZXh0Q29udGVudCA9IG1lc3NhZ2UgfHwgJyc7XG4gICAgICAgIHRoZW1lRmVlZGJhY2suY2xhc3NOYW1lID0gYHRleHQtc20gJHtjb2xvcn1gO1xuICAgICAgfTtcblxuICAgICAgY29uc3Qgc3luY1ByZXZpZXcgPSAoKSA9PiB7XG4gICAgICAgIGlmICghcHJldmlldykgcmV0dXJuO1xuICAgICAgICBjb25zdCB0b2tlblRvSGV4ID0gKHRva2VuKSA9PiB7XG4gICAgICAgICAgaWYgKCF0b2tlbikgcmV0dXJuIG51bGw7XG4gICAgICAgICAgLy8gR1x1MDBFOXJlciBsZXMgY2FzIHNwXHUwMEU5Y2lhdXggd2hpdGUsIGJsYWNrLCB0cmFuc3BhcmVudFxuICAgICAgICAgIGlmICh0b2tlbiA9PT0gJ3doaXRlJykgcmV0dXJuICcjZmZmZmZmJztcbiAgICAgICAgICBpZiAodG9rZW4gPT09ICdibGFjaycpIHJldHVybiAnIzAwMDAwMCc7XG4gICAgICAgICAgaWYgKHRva2VuID09PSAndHJhbnNwYXJlbnQnKSByZXR1cm4gJ3RyYW5zcGFyZW50JztcbiAgICAgICAgICBcbiAgICAgICAgICBjb25zdCBbaCxzXT10b2tlbi5zcGxpdCgnLScpO1xuICAgICAgICAgIGlmICghaCB8fCAhcykgcmV0dXJuIG51bGw7IC8vIEZvcm1hdCBpbnZhbGlkZVxuICAgICAgICAgIFxuICAgICAgICAgIGNvbnN0IG1hcCA9IHtcbiAgICAgICAgICAgIHNsYXRlOicjZTJlOGYwJyxncmF5OicjZDFkNWRiJyx6aW5jOicjZDRkNGQ4JyxuZXV0cmFsOicjZDRkNGQ0JyxzdG9uZTonI2Q2ZDNkMScsXG4gICAgICAgICAgICByZWQ6JyNlZjQ0NDQnLG9yYW5nZTonI2Y5NzMxNicsYW1iZXI6JyNmNTllMGInLHllbGxvdzonI2VhYjMwOCcsbGltZTonIzg0Y2MxNicsXG4gICAgICAgICAgICBncmVlbjonIzIyYzU1ZScsZW1lcmFsZDonIzEwYjk4MScsdGVhbDonIzE0YjhhNicsY3lhbjonIzA2YjZkNCcsc2t5OicjMGVhNWU5JyxcbiAgICAgICAgICAgIGJsdWU6JyMzYjgyZjYnLGluZGlnbzonIzYzNjZmMScsdmlvbGV0OicjOGI1Y2Y2JyxwdXJwbGU6JyNhODU1ZjcnLGZ1Y2hzaWE6JyNkOTQ2ZWYnLFxuICAgICAgICAgICAgcGluazonI2VjNDg5OScscm9zZTonI2Y0M2Y1ZSdcbiAgICAgICAgICB9O1xuICAgICAgICAgIGNvbnN0IGJhc2U9bWFwW2hdO1xuICAgICAgICAgIGlmICghYmFzZSkgcmV0dXJuIG51bGw7XG4gICAgICAgICAgLy8gcm91Z2ggc2hhZGUgdHdlYWsgdXNpbmcgb3BhY2l0eTsgbm90IGV4YWN0IFRhaWx3aW5kIHBhbGV0dGUgYnV0IHByZXZpZXctZnJpZW5kbHlcbiAgICAgICAgICBjb25zdCBzaGFkZU51bT1OdW1iZXIocyl8fDUwMDtcbiAgICAgICAgICBjb25zdCBmYWN0b3IgPSBNYXRoLm1pbihNYXRoLm1heCgoc2hhZGVOdW0tNTApLzkwMCwwKSwxKTtcbiAgICAgICAgICBjb25zdCB0b1JnYj0oaGV4KT0+aGV4Lm1hdGNoKC9bQS1GYS1mMC05XXsyfS9nKS5tYXAoKHYpPT5wYXJzZUludCh2LDE2KSk7XG4gICAgICAgICAgY29uc3QgW3IsZyxiXT10b1JnYihiYXNlLnJlcGxhY2UoJyMnLCcnKSk7XG4gICAgICAgICAgY29uc3QgbWl4PSh2KT0+TWF0aC5yb3VuZCgyNTUgLSAoMjU1IC0gdikqZmFjdG9yKTtcbiAgICAgICAgICByZXR1cm4gYHJnYigke21peChyKX0sICR7bWl4KGcpfSwgJHttaXgoYil9KWA7XG4gICAgICAgIH07XG4gICAgICAgIHByZXZpZXcuc3R5bGUuc2V0UHJvcGVydHkoJy0tY29sb3ItcHJpbWFyeScsIHRva2VuVG9IZXgoY29sb3JTZWxlY3RzLnByaW1hcnk/LnZhbHVlKSB8fCAnIzlDNkJGRicpO1xuICAgICAgICBwcmV2aWV3LnN0eWxlLnNldFByb3BlcnR5KCctLWNvbG9yLXNlY29uZGFyeScsIHRva2VuVG9IZXgoY29sb3JTZWxlY3RzLnNlY29uZGFyeT8udmFsdWUpIHx8ICcjMEVBNUU5Jyk7XG4gICAgICAgIHByZXZpZXcuc3R5bGUuc2V0UHJvcGVydHkoJy0tY29sb3ItYWNjZW50JywgdG9rZW5Ub0hleChjb2xvclNlbGVjdHMuYWNjZW50Py52YWx1ZSkgfHwgJyNGOTczMTYnKTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1jb2xvci1iYWNrZ3JvdW5kJywgdG9rZW5Ub0hleChjb2xvclNlbGVjdHMuYmFja2dyb3VuZD8udmFsdWUpIHx8ICcjRkZGRkZGJyk7XG4gICAgICAgIHByZXZpZXcuc3R5bGUuc2V0UHJvcGVydHkoJy0tY29sb3ItdGV4dCcsIHRva2VuVG9IZXgoY29sb3JTZWxlY3RzLnRleHQ/LnZhbHVlKSB8fCAnIzBGMTcyQScpO1xuICAgICAgICBwcmV2aWV3LnN0eWxlLnNldFByb3BlcnR5KCctLWZvbnQtaGVhZGluZ3MnLCBoZWFkaW5nU2VsZWN0Py52YWx1ZSB8fCAnSW50ZXIsIHNhbnMtc2VyaWYnKTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1mb250LWJvZHknLCBib2R5U2VsZWN0Py52YWx1ZSB8fCAnSW50ZXIsIHNhbnMtc2VyaWYnKTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1yYWRpdXMtc21hbGwnLCByYWRpdXNTbWFsbD8udmFsdWUgfHwgJzhweCcpO1xuICAgICAgICBwcmV2aWV3LnN0eWxlLnNldFByb3BlcnR5KCctLXJhZGl1cy1tZWRpdW0nLCByYWRpdXNNZWRpdW0/LnZhbHVlIHx8ICcxNnB4Jyk7XG4gICAgICAgIHByZXZpZXcuc3R5bGUuc2V0UHJvcGVydHkoJy0tcmFkaXVzLWxhcmdlJywgcmFkaXVzTGFyZ2U/LnZhbHVlIHx8ICcyNHB4Jyk7XG4gICAgICAgIHByZXZpZXcuc3R5bGUuYm9yZGVyUmFkaXVzID0gcmFkaXVzTWVkaXVtPy52YWx1ZSB8fCAnMTZweCc7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBzZXRDb2xvckZpZWxkcyA9IChrZXksIHZhbHVlKSA9PiB7XG4gICAgICAgIGlmIChjb2xvclNlbGVjdHNba2V5XSkgY29sb3JTZWxlY3RzW2tleV0udmFsdWUgPSB2YWx1ZTtcbiAgICAgIH07XG4gICAgICBcbiAgICAgIC8vIEZvbmN0aW9uIHBvdXIgbWV0dHJlIFx1MDBFMCBqb3VyIGxlIHByZXZpZXcgZGUgY291bGV1ciBkJ3VuIHNlbGVjdFxuICAgICAgY29uc3QgdXBkYXRlQ29sb3JTZWxlY3RQcmV2aWV3ID0gKHNlbGVjdCkgPT4ge1xuICAgICAgICBpZiAoIXNlbGVjdCkgcmV0dXJuO1xuICAgICAgICBjb25zdCBzZWxlY3RlZE9wdGlvbiA9IHNlbGVjdC5vcHRpb25zW3NlbGVjdC5zZWxlY3RlZEluZGV4XTtcbiAgICAgICAgY29uc3QgY29sb3IgPSBzZWxlY3RlZE9wdGlvbj8uZGF0YXNldD8uY29sb3IgfHwgJyNmZmZmZmYnO1xuICAgICAgICBjb25zdCBjb2xvclByZXZpZXcgPSBzZWxlY3QuY2xvc2VzdCgnLnJlbGF0aXZlJyk/LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbG9yLXByZXZpZXddJyk7XG4gICAgICAgIGlmIChjb2xvclByZXZpZXcpIHtcbiAgICAgICAgICBpZiAoY29sb3IgPT09ICd0cmFuc3BhcmVudCcpIHtcbiAgICAgICAgICAgIGNvbG9yUHJldmlldy5zdHlsZS5iYWNrZ3JvdW5kID0gJ3JlcGVhdGluZy1jb25pYy1ncmFkaWVudCgjY2NjIDAlIDI1JSwgd2hpdGUgMCUgNTAlKSA1MCUgLyA4cHggOHB4JztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29sb3JQcmV2aWV3LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGNvbG9yO1xuICAgICAgICAgICAgY29sb3JQcmV2aWV3LnN0eWxlLmJhY2tncm91bmQgPSAnJztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBcbiAgICAgIC8vIEluaXRpYWxpc2VyIGxlcyBwcmV2aWV3cyBkZSBjb3VsZXVyIGV0IGFqb3V0ZXIgbGVzIGxpc3RlbmVyc1xuICAgICAgY29uc3QgaW5pdENvbG9yUHJldmlld3MgPSAoKSA9PiB7XG4gICAgICAgIE9iamVjdC52YWx1ZXMoY29sb3JTZWxlY3RzKS5mb3JFYWNoKChzZWxlY3QpID0+IHtcbiAgICAgICAgICBpZiAoIXNlbGVjdCkgcmV0dXJuO1xuICAgICAgICAgIHVwZGF0ZUNvbG9yU2VsZWN0UHJldmlldyhzZWxlY3QpO1xuICAgICAgICAgIHNlbGVjdC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB1cGRhdGVDb2xvclNlbGVjdFByZXZpZXcoc2VsZWN0KSk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcblxuICAgICAgT2JqZWN0LmtleXMoY29sb3JTZWxlY3RzKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgY29sb3JTZWxlY3RzW2tleV0/LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHN5bmNQcmV2aWV3KTtcbiAgICAgIH0pO1xuICAgICAgW2hlYWRpbmdTZWxlY3QsIGJvZHlTZWxlY3QsIHJhZGl1c1NtYWxsLCByYWRpdXNNZWRpdW0sIHJhZGl1c0xhcmdlXS5mb3JFYWNoKChlbCkgPT4ge1xuICAgICAgICBlbD8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgc3luY1ByZXZpZXcpO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGxvYWRUaGVtZSA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKCF0aGVtZUFwaSkgcmV0dXJuO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godGhlbWVBcGksIHtcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZScsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgcmV0dXJuO1xuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgc2V0Q29sb3JGaWVsZHMoJ3ByaW1hcnknLCBwYXlsb2FkLmNvbG9ycz8ucHJpbWFyeSB8fCAndmlvbGV0LTUwMCcpO1xuICAgICAgICAgIHNldENvbG9yRmllbGRzKCdzZWNvbmRhcnknLCBwYXlsb2FkLmNvbG9ycz8uc2Vjb25kYXJ5IHx8ICdpbmRpZ28tNDAwJyk7XG4gICAgICAgICAgc2V0Q29sb3JGaWVsZHMoJ2FjY2VudCcsIHBheWxvYWQuY29sb3JzPy5hY2NlbnQgfHwgJ2VtZXJhbGQtNTAwJyk7XG4gICAgICAgICAgc2V0Q29sb3JGaWVsZHMoJ2JhY2tncm91bmQnLCBwYXlsb2FkLmNvbG9ycz8uYmFja2dyb3VuZCB8fCAnc2xhdGUtNTAnKTtcbiAgICAgICAgICBzZXRDb2xvckZpZWxkcygndGV4dCcsIHBheWxvYWQuY29sb3JzPy50ZXh0IHx8ICdzbGF0ZS05MDAnKTtcbiAgICAgICAgICBpZiAoaGVhZGluZ1NlbGVjdCkgaGVhZGluZ1NlbGVjdC52YWx1ZSA9IHBheWxvYWQudHlwb2dyYXBoeT8uaGVhZGluZ3MgfHwgJ0ludGVyLCBzYW5zLXNlcmlmJztcbiAgICAgICAgICBpZiAoYm9keVNlbGVjdCkgYm9keVNlbGVjdC52YWx1ZSA9IHBheWxvYWQudHlwb2dyYXBoeT8uYm9keSB8fCAnSW50ZXIsIHNhbnMtc2VyaWYnO1xuICAgICAgICAgIGlmIChyYWRpdXNTbWFsbCkgcmFkaXVzU21hbGwudmFsdWUgPSBwYXlsb2FkLnJhZGl1cz8uc21hbGwgfHwgJzhweCc7XG4gICAgICAgICAgaWYgKHJhZGl1c01lZGl1bSkgcmFkaXVzTWVkaXVtLnZhbHVlID0gcGF5bG9hZC5yYWRpdXM/Lm1lZGl1bSB8fCAnMTZweCc7XG4gICAgICAgICAgaWYgKHJhZGl1c0xhcmdlKSByYWRpdXNMYXJnZS52YWx1ZSA9IHBheWxvYWQucmFkaXVzPy5sYXJnZSB8fCAnMjRweCc7XG4gICAgICAgICAgc3luY1ByZXZpZXcoKTtcbiAgICAgICAgICAvLyBNZXR0cmUgXHUwMEUwIGpvdXIgbGVzIHByZXZpZXdzIGRlIGNvdWxldXIgYXByXHUwMEU4cyBjaGFyZ2VtZW50XG4gICAgICAgICAgT2JqZWN0LnZhbHVlcyhjb2xvclNlbGVjdHMpLmZvckVhY2godXBkYXRlQ29sb3JTZWxlY3RQcmV2aWV3KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3NldHRpbmdzXSBsb2FkIHRoZW1lIGZhaWxlZCcsIGVycik7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGFwcGx5QnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAoIXRoZW1lQXBpKSB7XG4gICAgICAgICAgc2V0VGhlbWVGZWVkYmFjaygnQXVjdW4gc2l0ZSBhY3RpZi4nLCAnZXJyb3InKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgICBjb2xvcnM6IHtcbiAgICAgICAgICAgIHByaW1hcnk6IGNvbG9yU2VsZWN0cy5wcmltYXJ5Py52YWx1ZSB8fCAndmlvbGV0LTUwMCcsXG4gICAgICAgICAgICBzZWNvbmRhcnk6IGNvbG9yU2VsZWN0cy5zZWNvbmRhcnk/LnZhbHVlIHx8ICdpbmRpZ28tNDAwJyxcbiAgICAgICAgICAgIGFjY2VudDogY29sb3JTZWxlY3RzLmFjY2VudD8udmFsdWUgfHwgJ2VtZXJhbGQtNTAwJyxcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IGNvbG9yU2VsZWN0cy5iYWNrZ3JvdW5kPy52YWx1ZSB8fCAnc2xhdGUtNTAnLFxuICAgICAgICAgICAgdGV4dDogY29sb3JTZWxlY3RzLnRleHQ/LnZhbHVlIHx8ICdzbGF0ZS05MDAnLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgdHlwb2dyYXBoeToge1xuICAgICAgICAgICAgaGVhZGluZ3M6IGhlYWRpbmdTZWxlY3Q/LnZhbHVlIHx8ICdJbnRlciwgc2Fucy1zZXJpZicsXG4gICAgICAgICAgICBib2R5OiBib2R5U2VsZWN0Py52YWx1ZSB8fCAnSW50ZXIsIHNhbnMtc2VyaWYnLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgcmFkaXVzOiB7XG4gICAgICAgICAgICBzbWFsbDogcmFkaXVzU21hbGw/LnZhbHVlIHx8ICc4cHgnLFxuICAgICAgICAgICAgbWVkaXVtOiByYWRpdXNNZWRpdW0/LnZhbHVlIHx8ICcxNnB4JyxcbiAgICAgICAgICAgIGxhcmdlOiByYWRpdXNMYXJnZT8udmFsdWUgfHwgJzI0cHgnLFxuICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIGFwcGx5QnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgc2V0VGhlbWVGZWVkYmFjaygnJyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh0aGVtZUFwaSwge1xuICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgY3JlZGVudGlhbHM6ICdpbmNsdWRlJyxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rIHx8IHJlc3VsdC5zdWNjZXNzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5tZXNzYWdlIHx8ICdBcHBsaWNhdGlvbiBkdSB0aFx1MDBFOG1lIFx1MDBFOWNob3VcdTAwRTllLicpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBhd2FpdCBsb2FkVGhlbWUoKTtcbiAgICAgICAgICBzZXRUaGVtZUZlZWRiYWNrKHJlc3VsdC5tZXNzYWdlIHx8ICdUaFx1MDBFOG1lIGFwcGxpcXVcdTAwRTkuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3NldHRpbmdzXSBhcHBseSB0aGVtZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICAgIHNldFRoZW1lRmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGRlIGxcdTIwMTlhcHBsaWNhdGlvbiBkdSB0aFx1MDBFOG1lLicsICdlcnJvcicpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGFwcGx5QnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBmaWxsQ29sb3JPcHRpb25zKCk7XG4gICAgICBpbml0Q29sb3JQcmV2aWV3cygpO1xuICAgICAgbG9hZFRoZW1lKCk7XG4gICAgICBzeW5jUHJldmlldygpO1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignYWktdGhlbWUtdXBkYXRlZCcsICgpID0+IHtcbiAgICAgICAgbG9hZFRoZW1lKCk7XG4gICAgICAgIHNldFRoZW1lRmVlZGJhY2soJ1RoXHUwMEU4bWUgbWlzIFx1MDBFMCBqb3VyLicsICdzdWNjZXNzJyk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBTRU8gQ29uZmlnIGZvcm0gKFVTOS5CMSlcbiAgICBjb25zdCBzZW9Db25maWdGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2VvLWNvbmZpZy1mb3JtXScpO1xuICAgIGlmIChzZW9Db25maWdGb3JtKSB7XG4gICAgICBjb25zdCBpbmRleEFsbENoZWNrYm94ID0gc2VvQ29uZmlnRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8taW5kZXgtYWxsXScpO1xuICAgICAgY29uc3Qgc2VvQ29uZmlnRmVlZGJhY2sgPSBzZW9Db25maWdGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby1jb25maWctZmVlZGJhY2tdJyk7XG4gICAgICBjb25zdCBzZW9TYXZlQnV0dG9uID0gc2VvQ29uZmlnRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8tc2F2ZV0nKTtcblxuICAgICAgY29uc3Qgc2FmZVNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goXG4gICAgICAgIHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJycsXG4gICAgICApO1xuICAgICAgY29uc3Qgc2l0ZUNvbmZpZ0FwaSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Zyl9L2NvbmZpZy9zaXRlYFxuICAgICAgICA6IG51bGw7XG5cbiAgICAgIGNvbnN0IHNldFNlb0ZlZWRiYWNrID0gKG1lc3NhZ2UsIHRvbmUgPSAnbXV0ZWQnKSA9PiB7XG4gICAgICAgIGlmICghc2VvQ29uZmlnRmVlZGJhY2spIHJldHVybjtcbiAgICAgICAgY29uc3QgY29sb3IgPVxuICAgICAgICAgIHRvbmUgPT09ICdzdWNjZXNzJ1xuICAgICAgICAgICAgPyAndGV4dC1lbWVyYWxkLTYwMCdcbiAgICAgICAgICAgIDogdG9uZSA9PT0gJ2Vycm9yJ1xuICAgICAgICAgICAgICA/ICd0ZXh0LXJvc2UtNjAwJ1xuICAgICAgICAgICAgICA6ICd0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICAgIHNlb0NvbmZpZ0ZlZWRiYWNrLnRleHRDb250ZW50ID0gbWVzc2FnZSB8fCAnJztcbiAgICAgICAgc2VvQ29uZmlnRmVlZGJhY2suY2xhc3NOYW1lID0gYHRleHQtc20gJHtjb2xvcn1gO1xuICAgICAgfTtcblxuICAgICAgY29uc3QgbG9hZFNlb0NvbmZpZyA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKCFzaXRlQ29uZmlnQXBpKSByZXR1cm47XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChzaXRlQ29uZmlnQXBpLCB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSByZXR1cm47XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICBjb25zdCBpbmRleEFsbCA9IHBheWxvYWQuc2VvPy5pbmRleEFsbFBhZ2VzQnlEZWZhdWx0ICE9PSBmYWxzZTtcbiAgICAgICAgICBpZiAoaW5kZXhBbGxDaGVja2JveCkgaW5kZXhBbGxDaGVja2JveC5jaGVja2VkID0gaW5kZXhBbGw7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gbG9hZCBzZW8gY29uZmlnIGZhaWxlZCcsIGVycik7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHNlb0NvbmZpZ0Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmICghc2l0ZUNvbmZpZ0FwaSkge1xuICAgICAgICAgIHNldFNlb0ZlZWRiYWNrKCdBdWN1biBzaXRlIGFjdGlmLicsICdlcnJvcicpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzZW9TYXZlQnV0dG9uICYmIChzZW9TYXZlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZSk7XG4gICAgICAgIHNldFNlb0ZlZWRiYWNrKCcnKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBGaXJzdCBsb2FkIGN1cnJlbnQgY29uZmlnIHRvIHByZXNlcnZlIG90aGVyIGZpZWxkc1xuICAgICAgICAgIGNvbnN0IGN1cnJlbnRSZXMgPSBhd2FpdCBmZXRjaChzaXRlQ29uZmlnQXBpLCB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcbiAgICAgICAgICBjb25zdCBjdXJyZW50Q29uZmlnID0gY3VycmVudFJlcy5vayA/IGF3YWl0IGN1cnJlbnRSZXMuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpIDoge307XG5cbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICAgICAgLi4uY3VycmVudENvbmZpZyxcbiAgICAgICAgICAgIHNlbzoge1xuICAgICAgICAgICAgICAuLi4oY3VycmVudENvbmZpZy5zZW8gfHwge30pLFxuICAgICAgICAgICAgICBpbmRleEFsbFBhZ2VzQnlEZWZhdWx0OiBpbmRleEFsbENoZWNrYm94Py5jaGVja2VkID8/IHRydWUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH07XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChzaXRlQ29uZmlnQXBpLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vayB8fCByZXN1bHQuc3VjY2VzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQubWVzc2FnZSB8fCAnU2F1dmVnYXJkZSBpbXBvc3NpYmxlLicpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXRTZW9GZWVkYmFjayhyZXN1bHQubWVzc2FnZSB8fCAnUGFyYW1cdTAwRTh0cmVzIFNFTyBlbnJlZ2lzdHJcdTAwRTlzLicsICdzdWNjZXNzJyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gc2F2ZSBzZW8gY29uZmlnIGZhaWxlZCcsIGVycik7XG4gICAgICAgICAgc2V0U2VvRmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGRlIGxhIHNhdXZlZ2FyZGUuJywgJ2Vycm9yJyk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgc2VvU2F2ZUJ1dHRvbiAmJiAoc2VvU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGxvYWRTZW9Db25maWcoKTtcbiAgICB9XG5cbiAgICAvLyBBbmFseXRpY3MgZm9ybSAoVVM5LkIyKVxuICAgIGNvbnN0IGFuYWx5dGljc0Zvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hbmFseXRpY3MtZm9ybV0nKTtcbiAgICBpZiAoYW5hbHl0aWNzRm9ybSkge1xuICAgICAgY29uc3QgaGVhZFRleHRhcmVhID0gYW5hbHl0aWNzRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hbmFseXRpY3MtaGVhZF0nKTtcbiAgICAgIGNvbnN0IGJvZHlUZXh0YXJlYSA9IGFuYWx5dGljc0Zvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYW5hbHl0aWNzLWJvZHldJyk7XG4gICAgICBjb25zdCBhbmFseXRpY3NGZWVkYmFjayA9IGFuYWx5dGljc0Zvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYW5hbHl0aWNzLWZlZWRiYWNrXScpO1xuICAgICAgY29uc3QgYW5hbHl0aWNzU2F2ZUJ1dHRvbiA9IGFuYWx5dGljc0Zvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYW5hbHl0aWNzLXNhdmVdJyk7XG5cbiAgICAgIGNvbnN0IHNhZmVTaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKFxuICAgICAgICB3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnLFxuICAgICAgKTtcbiAgICAgIGNvbnN0IHNpdGVDb25maWdBcGkgPSBzYWZlU2l0ZVNsdWdcbiAgICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9jb25maWcvc2l0ZWBcbiAgICAgICAgOiBudWxsO1xuXG4gICAgICBjb25zdCBzZXRBbmFseXRpY3NGZWVkYmFjayA9IChtZXNzYWdlLCB0b25lID0gJ211dGVkJykgPT4ge1xuICAgICAgICBpZiAoIWFuYWx5dGljc0ZlZWRiYWNrKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGNvbG9yID1cbiAgICAgICAgICB0b25lID09PSAnc3VjY2VzcydcbiAgICAgICAgICAgID8gJ3RleHQtZW1lcmFsZC02MDAnXG4gICAgICAgICAgICA6IHRvbmUgPT09ICdlcnJvcidcbiAgICAgICAgICAgICAgPyAndGV4dC1yb3NlLTYwMCdcbiAgICAgICAgICAgICAgOiAndGV4dC1zbGF0ZS01MDAnO1xuICAgICAgICBhbmFseXRpY3NGZWVkYmFjay50ZXh0Q29udGVudCA9IG1lc3NhZ2UgfHwgJyc7XG4gICAgICAgIGFuYWx5dGljc0ZlZWRiYWNrLmNsYXNzTmFtZSA9IGB0ZXh0LXNtICR7Y29sb3J9YDtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGxvYWRBbmFseXRpY3NDb25maWcgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIGlmICghc2l0ZUNvbmZpZ0FwaSkgcmV0dXJuO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goc2l0ZUNvbmZpZ0FwaSwgeyBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgcmV0dXJuO1xuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgaWYgKGhlYWRUZXh0YXJlYSkgaGVhZFRleHRhcmVhLnZhbHVlID0gcGF5bG9hZC5hbmFseXRpY3M/LmhlYWRDb2RlIHx8ICcnO1xuICAgICAgICAgIGlmIChib2R5VGV4dGFyZWEpIGJvZHlUZXh0YXJlYS52YWx1ZSA9IHBheWxvYWQuYW5hbHl0aWNzPy5ib2R5RW5kQ29kZSB8fCAnJztcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3NldHRpbmdzXSBsb2FkIGFuYWx5dGljcyBjb25maWcgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgYW5hbHl0aWNzRm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKCFzaXRlQ29uZmlnQXBpKSB7XG4gICAgICAgICAgc2V0QW5hbHl0aWNzRmVlZGJhY2soJ0F1Y3VuIHNpdGUgYWN0aWYuJywgJ2Vycm9yJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGFuYWx5dGljc1NhdmVCdXR0b24gJiYgKGFuYWx5dGljc1NhdmVCdXR0b24uZGlzYWJsZWQgPSB0cnVlKTtcbiAgICAgICAgc2V0QW5hbHl0aWNzRmVlZGJhY2soJycpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIEZpcnN0IGxvYWQgY3VycmVudCBjb25maWcgdG8gcHJlc2VydmUgb3RoZXIgZmllbGRzXG4gICAgICAgICAgY29uc3QgY3VycmVudFJlcyA9IGF3YWl0IGZldGNoKHNpdGVDb25maWdBcGksIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xuICAgICAgICAgIGNvbnN0IGN1cnJlbnRDb25maWcgPSBjdXJyZW50UmVzLm9rID8gYXdhaXQgY3VycmVudFJlcy5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSkgOiB7fTtcblxuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgICAgICAuLi5jdXJyZW50Q29uZmlnLFxuICAgICAgICAgICAgYW5hbHl0aWNzOiB7XG4gICAgICAgICAgICAgIGhlYWRDb2RlOiBoZWFkVGV4dGFyZWE/LnZhbHVlIHx8ICcnLFxuICAgICAgICAgICAgICBib2R5RW5kQ29kZTogYm9keVRleHRhcmVhPy52YWx1ZSB8fCAnJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfTtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHNpdGVDb25maWdBcGksIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rIHx8IHJlc3VsdC5zdWNjZXNzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5tZXNzYWdlIHx8ICdTYXV2ZWdhcmRlIGltcG9zc2libGUuJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNldEFuYWx5dGljc0ZlZWRiYWNrKHJlc3VsdC5tZXNzYWdlIHx8ICdTY3JpcHRzIGVucmVnaXN0clx1MDBFOXMuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3NldHRpbmdzXSBzYXZlIGFuYWx5dGljcyBjb25maWcgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgICBzZXRBbmFseXRpY3NGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZGUgbGEgc2F1dmVnYXJkZS4nLCAnZXJyb3InKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBhbmFseXRpY3NTYXZlQnV0dG9uICYmIChhbmFseXRpY3NTYXZlQnV0dG9uLmRpc2FibGVkID0gZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgbG9hZEFuYWx5dGljc0NvbmZpZygpO1xuICAgIH1cblxuICAgIGNvbnN0IGFjY2Vzc2liaWxpdHlGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWNjZXNzaWJpbGl0eS1mb3JtXScpO1xuICAgIGlmIChhY2Nlc3NpYmlsaXR5Rm9ybSkge1xuICAgICAgY29uc3QgYW5pbWF0aW9uc1RvZ2dsZSA9IGFjY2Vzc2liaWxpdHlGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFjY2Vzc2liaWxpdHktYW5pbWF0aW9uc10nKTtcbiAgICAgIGNvbnN0IGNvbnRyYXN0VG9nZ2xlID0gYWNjZXNzaWJpbGl0eUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYWNjZXNzaWJpbGl0eS1jb250cmFzdF0nKTtcbiAgICAgIGNvbnN0IGFjY2Vzc2liaWxpdHlGZWVkYmFjayA9IGFjY2Vzc2liaWxpdHlGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFjY2Vzc2liaWxpdHktZmVlZGJhY2tdJyk7XG4gICAgICBjb25zdCBhY2Nlc3NpYmlsaXR5U2F2ZUJ1dHRvbiA9IGFjY2Vzc2liaWxpdHlGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFjY2Vzc2liaWxpdHktc2F2ZV0nKTtcblxuICAgICAgY29uc3Qgc2FmZVNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goXG4gICAgICAgIHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJycsXG4gICAgICApO1xuICAgICAgY29uc3Qgc2l0ZUNvbmZpZ0FwaSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Zyl9L2NvbmZpZy9zaXRlYFxuICAgICAgICA6IG51bGw7XG5cbiAgICAgIGNvbnN0IHNldEFjY2Vzc2liaWxpdHlGZWVkYmFjayA9IChtZXNzYWdlLCB0b25lID0gJ211dGVkJykgPT4ge1xuICAgICAgICBpZiAoIWFjY2Vzc2liaWxpdHlGZWVkYmFjaykgcmV0dXJuO1xuICAgICAgICBjb25zdCBjb2xvciA9XG4gICAgICAgICAgdG9uZSA9PT0gJ3N1Y2Nlc3MnXG4gICAgICAgICAgICA/ICd0ZXh0LWVtZXJhbGQtNjAwJ1xuICAgICAgICAgICAgOiB0b25lID09PSAnZXJyb3InXG4gICAgICAgICAgICAgID8gJ3RleHQtcm9zZS02MDAnXG4gICAgICAgICAgICAgIDogJ3RleHQtc2xhdGUtNTAwJztcbiAgICAgICAgYWNjZXNzaWJpbGl0eUZlZWRiYWNrLnRleHRDb250ZW50ID0gbWVzc2FnZSB8fCAnJztcbiAgICAgICAgYWNjZXNzaWJpbGl0eUZlZWRiYWNrLmNsYXNzTmFtZSA9IGB0ZXh0LXNtICR7Y29sb3J9YDtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGxvYWRBY2Nlc3NpYmlsaXR5Q29uZmlnID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoIXNpdGVDb25maWdBcGkpIHJldHVybjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHNpdGVDb25maWdBcGksIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHJldHVybjtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIGlmIChhbmltYXRpb25zVG9nZ2xlKSB7XG4gICAgICAgICAgICBhbmltYXRpb25zVG9nZ2xlLmNoZWNrZWQgPSBwYXlsb2FkLmFjY2Vzc2liaWxpdHk/LmFuaW1hdGlvbnNFbmFibGVkICE9PSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGNvbnRyYXN0VG9nZ2xlKSB7XG4gICAgICAgICAgICBjb250cmFzdFRvZ2dsZS5jaGVja2VkID0gcGF5bG9hZC5hY2Nlc3NpYmlsaXR5Py5oaWdoQ29udHJhc3QgPT09IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIGxvYWQgYWNjZXNzaWJpbGl0eSBjb25maWcgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgYWNjZXNzaWJpbGl0eUZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmICghc2l0ZUNvbmZpZ0FwaSkge1xuICAgICAgICAgIHNldEFjY2Vzc2liaWxpdHlGZWVkYmFjaygnQXVjdW4gc2l0ZSBhY3RpZi4nLCAnZXJyb3InKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgYWNjZXNzaWJpbGl0eVNhdmVCdXR0b24gJiYgKGFjY2Vzc2liaWxpdHlTYXZlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZSk7XG4gICAgICAgIHNldEFjY2Vzc2liaWxpdHlGZWVkYmFjaygnJyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgY3VycmVudFJlcyA9IGF3YWl0IGZldGNoKHNpdGVDb25maWdBcGksIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xuICAgICAgICAgIGNvbnN0IGN1cnJlbnRDb25maWcgPSBjdXJyZW50UmVzLm9rID8gYXdhaXQgY3VycmVudFJlcy5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSkgOiB7fTtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICAgICAgLi4uY3VycmVudENvbmZpZyxcbiAgICAgICAgICAgIGFjY2Vzc2liaWxpdHk6IHtcbiAgICAgICAgICAgICAgYW5pbWF0aW9uc0VuYWJsZWQ6IGFuaW1hdGlvbnNUb2dnbGU/LmNoZWNrZWQgPz8gdHJ1ZSxcbiAgICAgICAgICAgICAgaGlnaENvbnRyYXN0OiBjb250cmFzdFRvZ2dsZT8uY2hlY2tlZCA/PyBmYWxzZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfTtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHNpdGVDb25maWdBcGksIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rIHx8IHJlc3VsdC5zdWNjZXNzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5tZXNzYWdlIHx8ICdTYXV2ZWdhcmRlIGltcG9zc2libGUuJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNldEFjY2Vzc2liaWxpdHlGZWVkYmFjayhyZXN1bHQubWVzc2FnZSB8fCAnUHJcdTAwRTlmXHUwMEU5cmVuY2VzIG1pc2VzIFx1MDBFMCBqb3VyLicsICdzdWNjZXNzJyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gc2F2ZSBhY2Nlc3NpYmlsaXR5IGNvbmZpZyBmYWlsZWQnLCBlcnIpO1xuICAgICAgICAgIHNldEFjY2Vzc2liaWxpdHlGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZGUgbGEgc2F1dmVnYXJkZS4nLCAnZXJyb3InKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBhY2Nlc3NpYmlsaXR5U2F2ZUJ1dHRvbiAmJiAoYWNjZXNzaWJpbGl0eVNhdmVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBsb2FkQWNjZXNzaWJpbGl0eUNvbmZpZygpO1xuICAgIH1cblxuICAgIC8vIEFJIENvbmZpZyBmb3JtIChVUyAtIEFJIEFzc2lzdGFudClcbiAgICBjb25zdCBhaUNvbmZpZ0Zvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1haS1jb25maWctZm9ybV0nKTtcbiAgICBpZiAoYWlDb25maWdGb3JtKSB7XG4gICAgICBjb25zdCBhcGlLZXlJbnB1dCA9IGFpQ29uZmlnRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1haS1hcGkta2V5XScpO1xuICAgICAgY29uc3QgbW9kZWxTZWxlY3QgPSBhaUNvbmZpZ0Zvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYWktbW9kZWxdJyk7XG4gICAgICBjb25zdCBwcm9qZWN0UHJvbXB0VGV4dGFyZWEgPSBhaUNvbmZpZ0Zvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYWktcHJvamVjdC1wcm9tcHRdJyk7XG4gICAgICBjb25zdCBlbmFibGVkQ2hlY2tib3ggPSBhaUNvbmZpZ0Zvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYWktZW5hYmxlZF0nKTtcbiAgICAgIGNvbnN0IGFpRmVlZGJhY2sgPSBhaUNvbmZpZ0Zvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYWktZmVlZGJhY2tdJyk7XG4gICAgICBjb25zdCBhaVNhdmVCdXR0b24gPSBhaUNvbmZpZ0Zvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYWktc2F2ZV0nKTtcblxuICAgICAgY29uc3Qgc2FmZVNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goXG4gICAgICAgIHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJycsXG4gICAgICApO1xuICAgICAgY29uc3QgYWlDb25maWdBcGkgPSBzYWZlU2l0ZVNsdWdcbiAgICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9jb25maWcvYWlgXG4gICAgICAgIDogbnVsbDtcblxuICAgICAgY29uc3Qgc2V0QUlGZWVkYmFjayA9IChtZXNzYWdlLCB0b25lID0gJ211dGVkJykgPT4ge1xuICAgICAgICBpZiAoIWFpRmVlZGJhY2spIHJldHVybjtcbiAgICAgICAgY29uc3QgY29sb3IgPVxuICAgICAgICAgIHRvbmUgPT09ICdzdWNjZXNzJ1xuICAgICAgICAgICAgPyAndGV4dC1lbWVyYWxkLTYwMCdcbiAgICAgICAgICAgIDogdG9uZSA9PT0gJ2Vycm9yJ1xuICAgICAgICAgICAgICA/ICd0ZXh0LXJvc2UtNjAwJ1xuICAgICAgICAgICAgICA6ICd0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICAgIGFpRmVlZGJhY2sudGV4dENvbnRlbnQgPSBtZXNzYWdlIHx8ICcnO1xuICAgICAgICBhaUZlZWRiYWNrLmNsYXNzTmFtZSA9IGB0ZXh0LXNtICR7Y29sb3J9YDtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGxvYWRBSUNvbmZpZyA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKCFhaUNvbmZpZ0FwaSkgcmV0dXJuO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYWlDb25maWdBcGksIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHJldHVybjtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIC8vIEFQSSBrZXkgaXMgbWFza2VkLCB3ZSBzaG93IHBsYWNlaG9sZGVyIGlmIGl0IGV4aXN0c1xuICAgICAgICAgIGlmIChhcGlLZXlJbnB1dCkge1xuICAgICAgICAgICAgYXBpS2V5SW5wdXQudmFsdWUgPSAnJztcbiAgICAgICAgICAgIGFwaUtleUlucHV0LnBsYWNlaG9sZGVyID0gcGF5bG9hZC5oYXNBcGlLZXkgPyAnXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyJyA6ICdDbFx1MDBFOSBBUEkgR2VtaW5pJztcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG1vZGVsU2VsZWN0KSBtb2RlbFNlbGVjdC52YWx1ZSA9IHBheWxvYWQubW9kZWwgfHwgJ2dlbWluaS0yLjUtZmxhc2gnO1xuICAgICAgICAgIGlmIChwcm9qZWN0UHJvbXB0VGV4dGFyZWEpIHByb2plY3RQcm9tcHRUZXh0YXJlYS52YWx1ZSA9IHBheWxvYWQucHJvamVjdFByb21wdCB8fCAnJztcbiAgICAgICAgICBpZiAoZW5hYmxlZENoZWNrYm94KSBlbmFibGVkQ2hlY2tib3guY2hlY2tlZCA9IHBheWxvYWQuZW5hYmxlZCAhPT0gZmFsc2U7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gbG9hZCBBSSBjb25maWcgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgYWlDb25maWdGb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAoIWFpQ29uZmlnQXBpKSB7XG4gICAgICAgICAgc2V0QUlGZWVkYmFjaygnQXVjdW4gc2l0ZSBhY3RpZi4nLCAnZXJyb3InKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgYWlTYXZlQnV0dG9uICYmIChhaVNhdmVCdXR0b24uZGlzYWJsZWQgPSB0cnVlKTtcbiAgICAgICAgc2V0QUlGZWVkYmFjaygnJyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgICAgIG1vZGVsOiBtb2RlbFNlbGVjdD8udmFsdWUgfHwgJ2dlbWluaS0yLjUtZmxhc2gnLFxuICAgICAgICAgICAgcHJvamVjdFByb21wdDogcHJvamVjdFByb21wdFRleHRhcmVhPy52YWx1ZSB8fCAnJyxcbiAgICAgICAgICAgIGVuYWJsZWQ6IGVuYWJsZWRDaGVja2JveD8uY2hlY2tlZCA/PyB0cnVlLFxuICAgICAgICAgIH07XG4gICAgICAgICAgLy8gT25seSBpbmNsdWRlIGFwaUtleSBpZiB0aGUgdXNlciBlbnRlcmVkIG9uZSAobm90IGVtcHR5KVxuICAgICAgICAgIGNvbnN0IGFwaUtleVZhbHVlID0gYXBpS2V5SW5wdXQ/LnZhbHVlPy50cmltKCk7XG4gICAgICAgICAgaWYgKGFwaUtleVZhbHVlKSB7XG4gICAgICAgICAgICBwYXlsb2FkLmFwaUtleSA9IGFwaUtleVZhbHVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYWlDb25maWdBcGksIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rIHx8IHJlc3VsdC5zdWNjZXNzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5tZXNzYWdlIHx8ICdTYXV2ZWdhcmRlIGltcG9zc2libGUuJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNldEFJRmVlZGJhY2socmVzdWx0Lm1lc3NhZ2UgfHwgJ0NvbmZpZ3VyYXRpb24gSUEgZW5yZWdpc3RyXHUwMEU5ZS4nLCAnc3VjY2VzcycpO1xuICAgICAgICAgIC8vIENsZWFyIHRoZSBBUEkga2V5IGZpZWxkIGFmdGVyIHN1Y2Nlc3NmdWwgc2F2ZVxuICAgICAgICAgIGlmIChhcGlLZXlJbnB1dCkge1xuICAgICAgICAgICAgYXBpS2V5SW5wdXQudmFsdWUgPSAnJztcbiAgICAgICAgICAgIGFwaUtleUlucHV0LnBsYWNlaG9sZGVyID0gJ1x1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMic7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIHNhdmUgQUkgY29uZmlnIGZhaWxlZCcsIGVycik7XG4gICAgICAgICAgc2V0QUlGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZGUgbGEgc2F1dmVnYXJkZS4nLCAnZXJyb3InKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBhaVNhdmVCdXR0b24gJiYgKGFpU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGxvYWRBSUNvbmZpZygpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXRNZWRpYVdvcmtzcGFjZSgpIHtcbiAgICBjb25zdCBncmlkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZ3JpZF0nKTtcbiAgICBpZiAoIWdyaWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZW1wdHlTdGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWVtcHR5XScpO1xuICAgIGNvbnN0IGNvdW50QmFkZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1jb3VudF0nKTtcbiAgICBjb25zdCBmaWx0ZXJUeXBlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZmlsdGVyLXR5cGVdJyk7XG4gICAgY29uc3QgZGV0YWlsRW1wdHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZXRhaWwtZW1wdHldJyk7XG4gICAgY29uc3QgZGV0YWlsUGFuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZXRhaWxdJyk7XG4gICAgY29uc3QgZGV0YWlsUHJldmlldyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRldGFpbC1wcmV2aWV3XScpO1xuICAgIGNvbnN0IGRldGFpbE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZXRhaWwtbmFtZV0nKTtcbiAgICBjb25zdCBkZXRhaWxUeXBlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGV0YWlsLXR5cGVdJyk7XG4gICAgY29uc3QgZGV0YWlsU2l6ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRldGFpbC1zaXplXScpO1xuICAgIGNvbnN0IGRldGFpbFBhdGggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZXRhaWwtcGF0aF0nKTtcbiAgICBjb25zdCBkZXRhaWxVc2VkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGV0YWlsLXVzZWRdJyk7XG4gICAgY29uc3QgZGV0YWlsQWx0SW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1hbHQtZWRpdF0nKTtcbiAgICBjb25zdCBkZXRhaWxTYXZlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtc2F2ZV0nKTtcbiAgICBjb25zdCBkZXRhaWxEZWxldGVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZWxldGVdJyk7XG4gICAgY29uc3QgZGVsZXRlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZWxldGUtbW9kYWxdJyk7XG4gICAgY29uc3QgZGVsZXRlQ2FuY2VsQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGVsZXRlLWNhbmNlbF0nKTtcbiAgICBjb25zdCBkZWxldGVDb25maXJtQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGVsZXRlLWNvbmZpcm1dJyk7XG4gICAgY29uc3QgdXBsb2FkT3BlbkJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLXVwbG9hZC1vcGVuXScpO1xuICAgIGNvbnN0IGZpbGVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWZpbGUtaW5wdXRdJyk7XG4gICAgY29uc3QgdXBsb2FkU3RhdHVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtdXBsb2FkLXN0YXR1c10nKTtcblxuICAgIGNvbnN0IHNhZmVTaXRlU2x1Z1ZhbHVlID0gc3RyaXBMZWFkaW5nU2xhc2goXG4gICAgICB3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnLFxuICAgICk7XG4gICAgY29uc3QgbWVkaWFBcGlCYXNlID0gc2FmZVNpdGVTbHVnVmFsdWVcbiAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnVmFsdWUpfS9tZWRpYWBcbiAgICAgIDogbnVsbDtcblxuICAgIGxldCBtZWRpYUl0ZW1zID0gW107XG4gICAgbGV0IGZpbHRlcmVkSXRlbXMgPSBbXTtcbiAgICBsZXQgYWN0aXZlTWVkaWFJZCA9IG51bGw7XG4gICAgbGV0IGhpZ2hsaWdodE1lZGlhSWQgPSBudWxsO1xuICAgIGxldCBwZW5kaW5nVXBsb2FkRmlsZSA9IG51bGw7XG4gICAgbGV0IHVwbG9hZEluUHJvZ3Jlc3MgPSBmYWxzZTtcbiAgICBsZXQgZGV0YWlsRGlydHkgPSBmYWxzZTtcbiAgICBsZXQgdXBsb2FkTW9kZSA9IGZhbHNlO1xuICAgIGxldCB1cGxvYWRQcmV2aWV3VXJsID0gbnVsbDtcblxuICAgIGNvbnN0IGRlcml2ZUdyb3VwVHlwZSA9IChpdGVtKSA9PiB7XG4gICAgICBjb25zdCB0eXBlID0gKGl0ZW0udHlwZSB8fCAnJykudG9Mb3dlckNhc2UoKTtcbiAgICAgIGNvbnN0IGZpbGVuYW1lID0gKGl0ZW0uZmlsZW5hbWUgfHwgJycpLnRvTG93ZXJDYXNlKCk7XG4gICAgICBpZiAodHlwZS5pbmNsdWRlcygnaW1hZ2UnKSB8fCAvXFwuKHBuZ3xqcGU/Z3x3ZWJwfHN2Z3xnaWYpJC9pLnRlc3QoZmlsZW5hbWUpKSB7XG4gICAgICAgIHJldHVybiAnaW1hZ2UnO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGUuaW5jbHVkZXMoJ3BkZicpIHx8IHR5cGUuaW5jbHVkZXMoJ2RvYycpIHx8IC9cXC4ocGRmfGRvY3g/KSQvaS50ZXN0KGZpbGVuYW1lKSkge1xuICAgICAgICByZXR1cm4gJ2RvY3VtZW50JztcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlLmluY2x1ZGVzKCd2aWRlbycpIHx8IC9cXC4obXA0fG1vdnx3ZWJtKSQvaS50ZXN0KGZpbGVuYW1lKSkge1xuICAgICAgICByZXR1cm4gJ3ZpZGVvJztcbiAgICAgIH1cbiAgICAgIHJldHVybiAnb3RoZXInO1xuICAgIH07XG5cbiAgICBjb25zdCBpc0ltYWdlVHlwZSA9IChpdGVtKSA9PiBkZXJpdmVHcm91cFR5cGUoaXRlbSkgPT09ICdpbWFnZSc7XG5cbiAgICBjb25zdCBmb3JtYXRUeXBlTGFiZWwgPSAoaXRlbSkgPT4ge1xuICAgICAgaWYgKGl0ZW0udHlwZSkge1xuICAgICAgICByZXR1cm4gaXRlbS50eXBlLnRvVXBwZXJDYXNlKCk7XG4gICAgICB9XG4gICAgICBjb25zdCBleHQgPSAoaXRlbS5maWxlbmFtZSB8fCAnJykuc3BsaXQoJy4nKS5wb3AoKTtcbiAgICAgIHJldHVybiBleHQgPyBleHQudG9VcHBlckNhc2UoKSA6ICdGSUxFJztcbiAgICB9O1xuXG4gICAgY29uc3QgZm9ybWF0RmlsZVNpemUgPSAoc2l6ZSkgPT4ge1xuICAgICAgaWYgKCFzaXplIHx8IHNpemUgPD0gMCkge1xuICAgICAgICByZXR1cm4gJ1x1MjAxNCc7XG4gICAgICB9XG4gICAgICBpZiAoc2l6ZSA8IDEwMjQpIHtcbiAgICAgICAgcmV0dXJuIGAke3NpemV9IG9gO1xuICAgICAgfVxuICAgICAgaWYgKHNpemUgPCAxMDI0ICogMTAyNCkge1xuICAgICAgICByZXR1cm4gYCR7KHNpemUgLyAxMDI0KS50b0ZpeGVkKDEpfSBrb2A7XG4gICAgICB9XG4gICAgICByZXR1cm4gYCR7KHNpemUgLyAoMTAyNCAqIDEwMjQpKS50b0ZpeGVkKDEpfSBNb2A7XG4gICAgfTtcblxuICAgIGNvbnN0IHJlc2V0RGV0YWlsUGFuZWwgPSAoKSA9PiB7XG4gICAgICBkZXRhaWxQYW5lbD8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBkZXRhaWxFbXB0eT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBjbGVhclVwbG9hZFN0YXRlKCk7XG4gICAgICBhY3RpdmVNZWRpYUlkID0gbnVsbDtcbiAgICAgIGRldGFpbERpcnR5ID0gZmFsc2U7XG4gICAgICB1cGRhdGVEZXRhaWxBY3Rpb25zKGZhbHNlKTtcbiAgICAgIGlmIChkZXRhaWxQcmV2aWV3KSB7XG4gICAgICAgIGRldGFpbFByZXZpZXcuaW5uZXJIVE1MID1cbiAgICAgICAgICAnPHNwYW4gY2xhc3M9XCJ0ZXh0LXNsYXRlLTQwMCB0ZXh0LXNtXCI+QXVjdW4gbVx1MDBFOWRpYSBzXHUwMEU5bGVjdGlvbm5cdTAwRTk8L3NwYW4+JztcbiAgICAgIH1cbiAgICAgIGlmIChkZXRhaWxOYW1lKSB7XG4gICAgICAgIGRldGFpbE5hbWUudGV4dENvbnRlbnQgPSAnJztcbiAgICAgIH1cbiAgICAgIGRldGFpbFR5cGUgJiYgKGRldGFpbFR5cGUudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgICBkZXRhaWxTaXplICYmIChkZXRhaWxTaXplLnRleHRDb250ZW50ID0gJycpO1xuICAgICAgaWYgKGRldGFpbEFsdElucHV0KSB7XG4gICAgICAgIGRldGFpbEFsdElucHV0LnZhbHVlID0gJyc7XG4gICAgICB9XG4gICAgICBkZXRhaWxQYXRoICYmIChkZXRhaWxQYXRoLnRleHRDb250ZW50ID0gJycpO1xuICAgICAgaWYgKGRldGFpbFVzZWQpIHtcbiAgICAgICAgZGV0YWlsVXNlZC5pbm5lckhUTUwgPSAnJztcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgY2xlYXJVcGxvYWRTdGF0ZSA9ICgpID0+IHtcbiAgICAgIHBlbmRpbmdVcGxvYWRGaWxlID0gbnVsbDtcbiAgICAgIHVwbG9hZE1vZGUgPSBmYWxzZTtcbiAgICAgIHVwbG9hZEluUHJvZ3Jlc3MgPSBmYWxzZTtcbiAgICAgIGlmICh1cGxvYWRQcmV2aWV3VXJsKSB7XG4gICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwodXBsb2FkUHJldmlld1VybCk7XG4gICAgICAgIHVwbG9hZFByZXZpZXdVcmwgPSBudWxsO1xuICAgICAgfVxuICAgICAgdXBsb2FkU3RhdHVzICYmICh1cGxvYWRTdGF0dXMudGV4dENvbnRlbnQgPSAnQXVjdW4gZmljaGllciBzXHUwMEU5bGVjdGlvbm5cdTAwRTkuJyk7XG4gICAgICBmaWxlSW5wdXQgJiYgKGZpbGVJbnB1dC52YWx1ZSA9ICcnKTtcbiAgICB9O1xuXG4gICAgY29uc3QgdXBkYXRlQ291bnRCYWRnZSA9ICgpID0+IHtcbiAgICAgIGlmICghY291bnRCYWRnZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWZpbHRlcmVkSXRlbXMubGVuZ3RoKSB7XG4gICAgICAgIGNvdW50QmFkZ2UudGV4dENvbnRlbnQgPSAnMCBtXHUwMEU5ZGlhJztcbiAgICAgIH0gZWxzZSBpZiAoZmlsdGVyZWRJdGVtcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgY291bnRCYWRnZS50ZXh0Q29udGVudCA9ICcxIG1cdTAwRTlkaWEnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY291bnRCYWRnZS50ZXh0Q29udGVudCA9IGAke2ZpbHRlcmVkSXRlbXMubGVuZ3RofSBtXHUwMEU5ZGlhc2A7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHJlbmRlckdyaWQgPSAoKSA9PiB7XG4gICAgICBncmlkLmlubmVySFRNTCA9ICcnO1xuICAgICAgaWYgKCFmaWx0ZXJlZEl0ZW1zLmxlbmd0aCkge1xuICAgICAgICBlbXB0eVN0YXRlPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgcmVzZXREZXRhaWxQYW5lbCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBlbXB0eVN0YXRlPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGZpbHRlcmVkSXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICBjb25zdCBjYXJkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIGNhcmQudHlwZSA9ICdidXR0b24nO1xuICAgICAgICBjYXJkLmRhdGFzZXQubWVkaWFJZCA9IGl0ZW0uaWQ7XG4gICAgICAgIGNvbnN0IGlzQWN0aXZlID0gaXRlbS5pZCA9PT0gYWN0aXZlTWVkaWFJZDtcbiAgICAgICAgY2FyZC5jbGFzc05hbWUgPSBbXG4gICAgICAgICAgJ2dyb3VwIHJlbGF0aXZlIGZsZXggZmxleC1jb2wgcm91bmRlZC0yeGwgYm9yZGVyIHB4LTMgcHktMyB0ZXh0LWxlZnQgdHJhbnNpdGlvbiBmb2N1cy12aXNpYmxlOm91dGxpbmUgZm9jdXMtdmlzaWJsZTpvdXRsaW5lLTIgZm9jdXMtdmlzaWJsZTpvdXRsaW5lLW9mZnNldC0yIGZvY3VzLXZpc2libGU6b3V0bGluZS1bIzlDNkJGRl0nLFxuICAgICAgICAgIGlzQWN0aXZlXG4gICAgICAgICAgICA/ICdib3JkZXItWyM5QzZCRkZdIGJnLVsjRjdGMEZGXS82MCBzaGFkb3ctc20nXG4gICAgICAgICAgICA6ICdib3JkZXItc2xhdGUtMjAwIGhvdmVyOmJvcmRlci1bIzlDNkJGRl0vNDAnLFxuICAgICAgICBdLmpvaW4oJyAnKTtcbiAgICAgICAgY29uc3QgcHJldmlldyA9IGlzSW1hZ2VUeXBlKGl0ZW0pXG4gICAgICAgICAgPyBgPGltZyBzcmM9XCIke2l0ZW0ucGF0aH1cIiBhbHQ9XCIke2l0ZW0uYWx0IHx8IGl0ZW0uZmlsZW5hbWV9XCIgY2xhc3M9XCJoLWZ1bGwgdy1mdWxsIG9iamVjdC1jb3ZlclwiIC8+YFxuICAgICAgICAgIDogYDxkaXYgY2xhc3M9XCJmbGV4IGgtZnVsbCB3LWZ1bGwgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHRleHQtM3hsIHRleHQtc2xhdGUtNDAwXCI+XHVEODNEXHVEQ0M0PC9kaXY+YDtcbiAgICAgICAgY2FyZC5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInJlbGF0aXZlIGFzcGVjdC1bNC8zXSBvdmVyZmxvdy1oaWRkZW4gcm91bmRlZC14bCBiZy1zbGF0ZS0xMDBcIj5cbiAgICAgICAgICAgICR7cHJldmlld31cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwibXQtMiBzcGFjZS15LTFcIj5cbiAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1zbSBmb250LXNlbWlib2xkIHRleHQtc2xhdGUtOTAwIHRydW5jYXRlXCI+JHtpdGVtLmZpbGVuYW1lfTwvcD5cbiAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC14cyB0ZXh0LXNsYXRlLTUwMFwiPlxuICAgICAgICAgICAgICAke2Zvcm1hdFR5cGVMYWJlbChpdGVtKX0gXHUwMEI3ICR7Zm9ybWF0RmlsZVNpemUoaXRlbS5zaXplKX1cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgYDtcbiAgICAgICAgaWYgKGl0ZW0uaWQgPT09IGhpZ2hsaWdodE1lZGlhSWQpIHtcbiAgICAgICAgICBjYXJkLmNsYXNzTGlzdC5hZGQoJ3JpbmctMicsICdyaW5nLVsjOUM2QkZGXScpO1xuICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGNhcmQuY2xhc3NMaXN0LnJlbW92ZSgncmluZy0yJywgJ3JpbmctWyM5QzZCRkZdJyk7XG4gICAgICAgICAgfSwgMTYwMCk7XG4gICAgICAgIH1cbiAgICAgICAgY2FyZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHNlbGVjdE1lZGlhKGl0ZW0uaWQpKTtcbiAgICAgICAgZ3JpZC5hcHBlbmRDaGlsZChjYXJkKTtcbiAgICAgIH0pO1xuICAgICAgaGlnaGxpZ2h0TWVkaWFJZCA9IG51bGw7XG4gICAgfTtcblxuICAgIGNvbnN0IHJlbmRlclVzZWRJbiA9IChpdGVtKSA9PiB7XG4gICAgICBpZiAoIWRldGFpbFVzZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZGV0YWlsVXNlZC5pbm5lckhUTUwgPSAnJztcbiAgICAgIGlmICghaXRlbS51c2VkSW4gfHwgaXRlbS51c2VkSW4ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGNvbnN0IGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgbGkudGV4dENvbnRlbnQgPSAnTm9uIHV0aWxpc1x1MDBFOSc7XG4gICAgICAgIGxpLmNsYXNzTmFtZSA9ICd0ZXh0LXhzIHRleHQtc2xhdGUtNDAwJztcbiAgICAgICAgZGV0YWlsVXNlZC5hcHBlbmRDaGlsZChsaSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGl0ZW0udXNlZEluLmZvckVhY2goKGVudHJ5KSA9PiB7XG4gICAgICAgIGNvbnN0IGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgbGkudGV4dENvbnRlbnQgPSBlbnRyeTtcbiAgICAgICAgbGkuY2xhc3NOYW1lID0gJ3RleHQteHMgdGV4dC1zbGF0ZS02MDAnO1xuICAgICAgICBkZXRhaWxVc2VkLmFwcGVuZENoaWxkKGxpKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCB1cGRhdGVEZXRhaWxBY3Rpb25zID0gKHNhdmluZykgPT4ge1xuICAgICAgaWYgKCFkZXRhaWxTYXZlQnV0dG9uKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICh1cGxvYWRNb2RlKSB7XG4gICAgICAgIGRldGFpbFNhdmVCdXR0b24udGV4dENvbnRlbnQgPSBzYXZpbmcgPyAnVFx1MDBFOWxcdTAwRTl2ZXJzZW1lbnRcdTIwMjYnIDogJ1RcdTAwRTlsXHUwMEU5dmVyc2VyJztcbiAgICAgICAgZGV0YWlsU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IHNhdmluZyB8fCAhcGVuZGluZ1VwbG9hZEZpbGU7XG4gICAgICAgIGlmIChkZXRhaWxEZWxldGVCdXR0b24pIHtcbiAgICAgICAgICBkZXRhaWxEZWxldGVCdXR0b24uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZGV0YWlsU2F2ZUJ1dHRvbi50ZXh0Q29udGVudCA9IHNhdmluZyA/ICdFbnJlZ2lzdHJlbWVudFx1MjAyNicgOiAnRW5yZWdpc3RyZXInO1xuICAgICAgZGV0YWlsU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IHNhdmluZyB8fCAhZGV0YWlsRGlydHk7XG4gICAgICBpZiAoZGV0YWlsRGVsZXRlQnV0dG9uKSB7XG4gICAgICAgIGRldGFpbERlbGV0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgZGV0YWlsRGVsZXRlQnV0dG9uLmRpc2FibGVkID0gIWFjdGl2ZU1lZGlhSWQ7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHNlbGVjdE1lZGlhID0gKG1lZGlhSWQpID0+IHtcbiAgICAgIGNvbnN0IGl0ZW0gPSBtZWRpYUl0ZW1zLmZpbmQoKGVudHJ5KSA9PiBlbnRyeS5pZCA9PT0gbWVkaWFJZCk7XG4gICAgICBpZiAoIWl0ZW0pIHtcbiAgICAgICAgcmVzZXREZXRhaWxQYW5lbCgpO1xuICAgICAgICByZW5kZXJHcmlkKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNsZWFyVXBsb2FkU3RhdGUoKTtcbiAgICAgIGFjdGl2ZU1lZGlhSWQgPSBpdGVtLmlkO1xuICAgICAgZGV0YWlsRGlydHkgPSBmYWxzZTtcbiAgICAgIHVwZGF0ZURldGFpbEFjdGlvbnMoZmFsc2UpO1xuICAgICAgcmVuZGVyR3JpZCgpO1xuICAgICAgZGV0YWlsRW1wdHk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgZGV0YWlsUGFuZWw/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgaWYgKGRldGFpbFByZXZpZXcpIHtcbiAgICAgICAgaWYgKGlzSW1hZ2VUeXBlKGl0ZW0pKSB7XG4gICAgICAgICAgZGV0YWlsUHJldmlldy5pbm5lckhUTUwgPSBgPGltZyBzcmM9XCIke2l0ZW0ucGF0aH1cIiBhbHQ9XCIke2l0ZW0uYWx0IHx8IGl0ZW0uZmlsZW5hbWV9XCIgY2xhc3M9XCJoLWZ1bGwgdy1mdWxsIHJvdW5kZWQtMnhsIG9iamVjdC1jb3ZlclwiIC8+YDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkZXRhaWxQcmV2aWV3LmlubmVySFRNTCA9XG4gICAgICAgICAgICAnPGRpdiBjbGFzcz1cImZsZXggaC1mdWxsIHctZnVsbCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgZ2FwLTEgdGV4dC1zbGF0ZS00MDBcIj48c3BhbiBjbGFzcz1cInRleHQtM3hsXCI+XHVEODNEXHVEQ0M0PC9zcGFuPjxzcGFuIGNsYXNzPVwidGV4dC14cyBmb250LXNlbWlib2xkXCI+RG9jdW1lbnQ8L3NwYW4+PC9kaXY+JztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZGV0YWlsTmFtZSAmJiAoZGV0YWlsTmFtZS50ZXh0Q29udGVudCA9IGl0ZW0uZmlsZW5hbWUgfHwgJ0ZpY2hpZXInKTtcbiAgICAgIGRldGFpbFR5cGUgJiYgKGRldGFpbFR5cGUudGV4dENvbnRlbnQgPSBmb3JtYXRUeXBlTGFiZWwoaXRlbSkpO1xuICAgICAgZGV0YWlsU2l6ZSAmJiAoZGV0YWlsU2l6ZS50ZXh0Q29udGVudCA9IGZvcm1hdEZpbGVTaXplKGl0ZW0uc2l6ZSkpO1xuICAgICAgaWYgKGRldGFpbEFsdElucHV0KSB7XG4gICAgICAgIGRldGFpbEFsdElucHV0LnZhbHVlID0gaXRlbS5hbHQgfHwgJyc7XG4gICAgICB9XG4gICAgICBkZXRhaWxQYXRoICYmIChkZXRhaWxQYXRoLnRleHRDb250ZW50ID0gaXRlbS5wYXRoIHx8ICdcdTIwMTQnKTtcbiAgICAgIHJlbmRlclVzZWRJbihpdGVtKTtcbiAgICB9O1xuXG4gICAgY29uc3Qgc2hvd1VwbG9hZFByZXZpZXcgPSAoZmlsZSkgPT4ge1xuICAgICAgaWYgKCFmaWxlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHVwbG9hZE1vZGUgPSB0cnVlO1xuICAgICAgZGV0YWlsRGlydHkgPSBmYWxzZTtcbiAgICAgIGFjdGl2ZU1lZGlhSWQgPSBudWxsO1xuICAgICAgZGV0YWlsRW1wdHk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgZGV0YWlsUGFuZWw/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgaWYgKHVwbG9hZFByZXZpZXdVcmwpIHtcbiAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTCh1cGxvYWRQcmV2aWV3VXJsKTtcbiAgICAgIH1cbiAgICAgIHVwbG9hZFByZXZpZXdVcmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGUpO1xuICAgICAgaWYgKGRldGFpbFByZXZpZXcpIHtcbiAgICAgICAgZGV0YWlsUHJldmlldy5pbm5lckhUTUwgPSBgPGltZyBzcmM9XCIke3VwbG9hZFByZXZpZXdVcmx9XCIgYWx0PVwiJHtmaWxlLm5hbWV9XCIgY2xhc3M9XCJoLWZ1bGwgdy1mdWxsIHJvdW5kZWQtMnhsIG9iamVjdC1jb3ZlclwiIC8+YDtcbiAgICAgIH1cbiAgICAgIGRldGFpbE5hbWUgJiYgKGRldGFpbE5hbWUudGV4dENvbnRlbnQgPSBmaWxlLm5hbWUpO1xuICAgICAgZGV0YWlsVHlwZSAmJiAoZGV0YWlsVHlwZS50ZXh0Q29udGVudCA9IGZvcm1hdFR5cGVMYWJlbCh7IHR5cGU6IGZpbGUudHlwZSwgZmlsZW5hbWU6IGZpbGUubmFtZSB9KSk7XG4gICAgICBkZXRhaWxTaXplICYmIChkZXRhaWxTaXplLnRleHRDb250ZW50ID0gZm9ybWF0RmlsZVNpemUoZmlsZS5zaXplKSk7XG4gICAgICBpZiAoZGV0YWlsQWx0SW5wdXQgJiYgIWRldGFpbEFsdElucHV0LnZhbHVlLnRyaW0oKSkge1xuICAgICAgICBkZXRhaWxBbHRJbnB1dC52YWx1ZSA9IGZpbGUubmFtZS5yZXBsYWNlKC9cXC5bXi5dKyQvLCAnJykucmVwbGFjZSgvWy1fXS9nLCAnICcpO1xuICAgICAgfVxuICAgICAgZGV0YWlsUGF0aCAmJiAoZGV0YWlsUGF0aC50ZXh0Q29udGVudCA9ICdFbiBhdHRlbnRlIGRlIHRcdTAwRTlsXHUwMEU5dmVyc2VtZW50Jyk7XG4gICAgICBpZiAoZGV0YWlsVXNlZCkge1xuICAgICAgICBkZXRhaWxVc2VkLmlubmVySFRNTCA9ICcnO1xuICAgICAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICAgIGxpLnRleHRDb250ZW50ID0gJ05vbiB1dGlsaXNcdTAwRTknO1xuICAgICAgICBsaS5jbGFzc05hbWUgPSAndGV4dC14cyB0ZXh0LXNsYXRlLTQwMCc7XG4gICAgICAgIGRldGFpbFVzZWQuYXBwZW5kQ2hpbGQobGkpO1xuICAgICAgfVxuICAgICAgdXBkYXRlRGV0YWlsQWN0aW9ucyhmYWxzZSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGFwcGx5RmlsdGVycyA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHR5cGVGaWx0ZXIgPSBmaWx0ZXJUeXBlPy52YWx1ZSB8fCAnYWxsJztcbiAgICAgIGlmICh0eXBlRmlsdGVyID09PSAnYWxsJykge1xuICAgICAgICBmaWx0ZXJlZEl0ZW1zID0gWy4uLm1lZGlhSXRlbXNdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZmlsdGVyZWRJdGVtcyA9IG1lZGlhSXRlbXMuZmlsdGVyKChpdGVtKSA9PiBpdGVtLmdyb3VwVHlwZSA9PT0gdHlwZUZpbHRlcik7XG4gICAgICB9XG4gICAgICBpZiAoIWZpbHRlcmVkSXRlbXMuc29tZSgoaXRlbSkgPT4gaXRlbS5pZCA9PT0gYWN0aXZlTWVkaWFJZCkpIHtcbiAgICAgICAgcmVzZXREZXRhaWxQYW5lbCgpO1xuICAgICAgfVxuICAgICAgdXBkYXRlQ291bnRCYWRnZSgpO1xuICAgICAgcmVuZGVyR3JpZCgpO1xuICAgIH07XG5cbiAgICBjb25zdCBsb2FkTWVkaWEgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIW1lZGlhQXBpQmFzZSkge1xuICAgICAgICBlbXB0eVN0YXRlPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChtZWRpYUFwaUJhc2UsIHtcbiAgICAgICAgICBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIG1cdTAwRTlkaWFzLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHsgaXRlbXM6IFtdIH0pKTtcbiAgICAgICAgbWVkaWFJdGVtcyA9IEFycmF5LmlzQXJyYXkocGF5bG9hZC5pdGVtcylcbiAgICAgICAgICA/IHBheWxvYWQuaXRlbXMubWFwKChpdGVtKSA9PiAoeyAuLi5pdGVtLCBncm91cFR5cGU6IGRlcml2ZUdyb3VwVHlwZShpdGVtKSB9KSlcbiAgICAgICAgICA6IFtdO1xuICAgICAgICBhcHBseUZpbHRlcnMoKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbbWVkaWFdIGxvYWQgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIG1cdTAwRTlkaWFzLicpO1xuICAgICAgICBtZWRpYUl0ZW1zID0gW107XG4gICAgICAgIGFwcGx5RmlsdGVycygpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBmaWx0ZXJUeXBlPy5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgICBhcHBseUZpbHRlcnMoKTtcbiAgICB9KTtcbiAgICBkZXRhaWxBbHRJbnB1dD8uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgICBpZiAodXBsb2FkTW9kZSkge1xuICAgICAgICB1cGRhdGVEZXRhaWxBY3Rpb25zKGZhbHNlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFhY3RpdmVNZWRpYUlkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGRldGFpbERpcnR5ID0gdHJ1ZTtcbiAgICAgIHVwZGF0ZURldGFpbEFjdGlvbnMoZmFsc2UpO1xuICAgIH0pO1xuXG4gICAgY29uc3QgaGFuZGxlRmlsZVNlbGVjdGlvbiA9IChmaWxlKSA9PiB7XG4gICAgICBpZiAoIWZpbGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFmaWxlLnR5cGUuc3RhcnRzV2l0aCgnaW1hZ2UvJykpIHtcbiAgICAgICAgc2hvd1RvYXN0KCdTZXVsZXMgbGVzIGltYWdlcyBzb250IGFjY2VwdFx1MDBFOWVzIHBvdXIgbGUgbW9tZW50LicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoZmlsZS5zaXplID4gNCAqIDEwMjQgKiAxMDI0KSB7XG4gICAgICAgIHNob3dUb2FzdCgnRmljaGllciB0cm9wIHZvbHVtaW5ldXggKDQgTW8gbWF4KS4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcGVuZGluZ1VwbG9hZEZpbGUgPSBmaWxlO1xuICAgICAgc2hvd1VwbG9hZFByZXZpZXcoZmlsZSk7XG4gICAgICBpZiAodXBsb2FkU3RhdHVzKSB7XG4gICAgICAgIHVwbG9hZFN0YXR1cy50ZXh0Q29udGVudCA9IGAke2ZpbGUubmFtZX0gXHUwMEI3ICR7Zm9ybWF0RmlsZVNpemUoZmlsZS5zaXplKX1gO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCByZWFkRmlsZUFzQmFzZTY0ID0gKGZpbGUpID0+XG4gICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICAgIHJlYWRlci5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gcmVhZGVyLnJlc3VsdCB8fCAnJztcbiAgICAgICAgICBjb25zdCBbLCBiYXNlNjQgPSAnJ10gPSBTdHJpbmcocmVzdWx0KS5zcGxpdCgnLCcpO1xuICAgICAgICAgIHJlc29sdmUoYmFzZTY0KTtcbiAgICAgICAgfTtcbiAgICAgICAgcmVhZGVyLm9uZXJyb3IgPSAoKSA9PiByZWplY3QobmV3IEVycm9yKCdJbXBvc3NpYmxlIGRlIGxpcmUgY2UgZmljaGllci4nKSk7XG4gICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xuICAgICAgfSk7XG5cbiAgICBjb25zdCB1cGxvYWRTZWxlY3RlZE1lZGlhID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFwZW5kaW5nVXBsb2FkRmlsZSB8fCAhbWVkaWFBcGlCYXNlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHVwbG9hZEluUHJvZ3Jlc3MgPSB0cnVlO1xuICAgICAgdXBkYXRlRGV0YWlsQWN0aW9ucyh0cnVlKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGJhc2U2NCA9IGF3YWl0IHJlYWRGaWxlQXNCYXNlNjQocGVuZGluZ1VwbG9hZEZpbGUpO1xuICAgICAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICAgIGZpbGVuYW1lOiBwZW5kaW5nVXBsb2FkRmlsZS5uYW1lLFxuICAgICAgICAgIHR5cGU6IHBlbmRpbmdVcGxvYWRGaWxlLnR5cGUsXG4gICAgICAgICAgc2l6ZTogcGVuZGluZ1VwbG9hZEZpbGUuc2l6ZSxcbiAgICAgICAgICBhbHQ6IGRldGFpbEFsdElucHV0Py52YWx1ZSB8fCAnJyxcbiAgICAgICAgICBkYXRhOiBiYXNlNjQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2gobWVkaWFBcGlCYXNlLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgY29uc3QgZXJyb3JQYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvclBheWxvYWQubWVzc2FnZSB8fCAnVXBsb2FkIGltcG9zc2libGUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2F2ZWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIHNhdmVkLmdyb3VwVHlwZSA9IGRlcml2ZUdyb3VwVHlwZShzYXZlZCk7XG4gICAgICAgIG1lZGlhSXRlbXMgPSBbLi4ubWVkaWFJdGVtcywgc2F2ZWRdO1xuICAgICAgICBoaWdobGlnaHRNZWRpYUlkID0gc2F2ZWQuaWQ7XG4gICAgICAgIGFwcGx5RmlsdGVycygpO1xuICAgICAgICBzZWxlY3RNZWRpYShzYXZlZC5pZCk7XG4gICAgICAgIHNob3dUb2FzdCgnTVx1MDBFOWRpYSBham91dFx1MDBFOScpO1xuICAgICAgICBjbGVhclVwbG9hZFN0YXRlKCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW21lZGlhXSB1cGxvYWQgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIHRcdTAwRTlsXHUwMEU5dmVyc2VyIGNlIG1cdTAwRTlkaWEuJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICB1cGxvYWRJblByb2dyZXNzID0gZmFsc2U7XG4gICAgICAgIHBlbmRpbmdVcGxvYWRGaWxlID0gbnVsbDtcbiAgICAgICAgdXBkYXRlRGV0YWlsQWN0aW9ucyhmYWxzZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHVwbG9hZE9wZW5CdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gZmlsZUlucHV0Py5jbGljaygpKTtcbiAgICBmaWxlSW5wdXQ/LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgICAgIGlmIChmaWxlSW5wdXQuZmlsZXMgJiYgZmlsZUlucHV0LmZpbGVzWzBdKSB7XG4gICAgICAgIGhhbmRsZUZpbGVTZWxlY3Rpb24oZmlsZUlucHV0LmZpbGVzWzBdKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBjb25zdCBjbG9zZURlbGV0ZU1vZGFsID0gKCkgPT4ge1xuICAgICAgaWYgKCFkZWxldGVNb2RhbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBkZWxldGVNb2RhbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGRlbGV0ZU1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2ZsZXgnKTtcbiAgICB9O1xuXG4gICAgY29uc3Qgb3BlbkRlbGV0ZU1vZGFsID0gKCkgPT4ge1xuICAgICAgaWYgKCFhY3RpdmVNZWRpYUlkIHx8IHVwbG9hZE1vZGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGRlbGV0ZU1vZGFsKSB7XG4gICAgICAgIGRlbGV0ZU1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICBkZWxldGVNb2RhbC5jbGFzc0xpc3QuYWRkKCdmbGV4Jyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vIEZhbGxiYWNrIHNpIGF1Y3VuZSBtb2RhbGUgbidlc3QgZGlzcG9uaWJsZVxuICAgICAgaWYgKHdpbmRvdy5jb25maXJtKCdTdXBwcmltZXIgY2UgbVx1MDBFOWRpYSA/JykpIHtcbiAgICAgICAgZGVsZXRlQWN0aXZlTWVkaWEoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgZGVsZXRlQWN0aXZlTWVkaWEgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWFjdGl2ZU1lZGlhSWQgfHwgIW1lZGlhQXBpQmFzZSkge1xuICAgICAgICBjbG9zZURlbGV0ZU1vZGFsKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRpc2FibGVCdXR0b25zID0gKCkgPT4ge1xuICAgICAgICBpZiAoZGV0YWlsRGVsZXRlQnV0dG9uKSB7XG4gICAgICAgICAgZGV0YWlsRGVsZXRlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVsZXRlQ29uZmlybUJ1dHRvbikge1xuICAgICAgICAgIGRlbGV0ZUNvbmZpcm1CdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICAgIGRlbGV0ZUNvbmZpcm1CdXR0b24udGV4dENvbnRlbnQgPSAnU3VwcHJlc3Npb25cdTIwMjYnO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgY29uc3QgZW5hYmxlQnV0dG9ucyA9ICgpID0+IHtcbiAgICAgICAgaWYgKGRldGFpbERlbGV0ZUJ1dHRvbikge1xuICAgICAgICAgIGRldGFpbERlbGV0ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkZWxldGVDb25maXJtQnV0dG9uKSB7XG4gICAgICAgICAgZGVsZXRlQ29uZmlybUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgIGRlbGV0ZUNvbmZpcm1CdXR0b24udGV4dENvbnRlbnQgPSAnU3VwcHJpbWVyJztcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGRpc2FibGVCdXR0b25zKCk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgICAgIGAke21lZGlhQXBpQmFzZX0vJHtlbmNvZGVVUklDb21wb25lbnQoYWN0aXZlTWVkaWFJZCl9YCxcbiAgICAgICAgICB7IG1ldGhvZDogJ0RFTEVURScgfSxcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHBheWxvYWQubWVzc2FnZSB8fCAnU3VwcHJlc3Npb24gaW1wb3NzaWJsZS4nKTtcbiAgICAgICAgfVxuICAgICAgICBtZWRpYUl0ZW1zID0gbWVkaWFJdGVtcy5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0uaWQgIT09IGFjdGl2ZU1lZGlhSWQpO1xuICAgICAgICBmaWx0ZXJlZEl0ZW1zID0gZmlsdGVyZWRJdGVtcy5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0uaWQgIT09IGFjdGl2ZU1lZGlhSWQpO1xuICAgICAgICBzaG93VG9hc3QoJ01cdTAwRTlkaWEgc3VwcHJpbVx1MDBFOScpO1xuICAgICAgICByZXNldERldGFpbFBhbmVsKCk7XG4gICAgICAgIHVwZGF0ZUNvdW50QmFkZ2UoKTtcbiAgICAgICAgcmVuZGVyR3JpZCgpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1ttZWRpYV0gZGVsZXRlIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBzdXBwcmltZXIgY2UgbVx1MDBFOWRpYS4nKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGVuYWJsZUJ1dHRvbnMoKTtcbiAgICAgICAgY2xvc2VEZWxldGVNb2RhbCgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBkZWxldGVDYW5jZWxCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VEZWxldGVNb2RhbCk7XG4gICAgZGVsZXRlTW9kYWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSBkZWxldGVNb2RhbCkge1xuICAgICAgICBjbG9zZURlbGV0ZU1vZGFsKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBkZWxldGVDb25maXJtQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGRlbGV0ZUFjdGl2ZU1lZGlhKCkpO1xuICAgIGRldGFpbERlbGV0ZUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuRGVsZXRlTW9kYWwpO1xuXG4gICAgZGV0YWlsU2F2ZUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAodXBsb2FkTW9kZSkge1xuICAgICAgICB1cGxvYWRTZWxlY3RlZE1lZGlhKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghYWN0aXZlTWVkaWFJZCB8fCAhbWVkaWFBcGlCYXNlIHx8ICFkZXRhaWxBbHRJbnB1dCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB1cGRhdGVEZXRhaWxBY3Rpb25zKHRydWUpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IHsgYWx0OiBkZXRhaWxBbHRJbnB1dC52YWx1ZSB8fCAnJyB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgICAgIGAke21lZGlhQXBpQmFzZX0vJHtlbmNvZGVVUklDb21wb25lbnQoYWN0aXZlTWVkaWFJZCl9YCxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgICB9LFxuICAgICAgICApO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgY29uc3QgZXJyb3JQYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvclBheWxvYWQubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBtZXR0cmUgXHUwMEUwIGpvdXIgY2UgbVx1MDBFOWRpYS4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB1cGRhdGVkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBtZWRpYUl0ZW1zID0gbWVkaWFJdGVtcy5tYXAoKGl0ZW0pID0+XG4gICAgICAgICAgaXRlbS5pZCA9PT0gYWN0aXZlTWVkaWFJZCA/IHsgLi4uaXRlbSwgLi4udXBkYXRlZCB9IDogaXRlbSxcbiAgICAgICAgKTtcbiAgICAgICAgZmlsdGVyZWRJdGVtcyA9IGZpbHRlcmVkSXRlbXMubWFwKChpdGVtKSA9PlxuICAgICAgICAgIGl0ZW0uaWQgPT09IGFjdGl2ZU1lZGlhSWQgPyB7IC4uLml0ZW0sIC4uLnVwZGF0ZWQgfSA6IGl0ZW0sXG4gICAgICAgICk7XG4gICAgICAgIGRldGFpbERpcnR5ID0gZmFsc2U7XG4gICAgICAgIHVwZGF0ZURldGFpbEFjdGlvbnMoZmFsc2UpO1xuICAgICAgICBzaG93VG9hc3QoJ01cdTAwRTlkaWEgbWlzIFx1MDBFMCBqb3VyJyk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW21lZGlhXSB1cGRhdGUgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdcdTAwQzljaGVjIGRlIGxhIG1pc2UgXHUwMEUwIGpvdXIuJyk7XG4gICAgICAgIHVwZGF0ZURldGFpbEFjdGlvbnMoZmFsc2UpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgbG9hZE1lZGlhKCk7XG4gIH1cblxuICAvLyBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcbiAgLy8gQUkgQ0hBVCAtIEFzc2lzdGFudCBJQSBjb250ZXh0dWVsXG4gIC8vIFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFxuXG4gIGNvbnN0IGFpQ2hhdFRvZ2dsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhaS1jaGF0LXRvZ2dsZScpO1xuICBjb25zdCBhaUNoYXRQYW5lbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhaS1jaGF0LXBhbmVsJyk7XG4gIGNvbnN0IGFpQ2hhdE92ZXJsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWktY2hhdC1vdmVybGF5Jyk7XG4gIGNvbnN0IGFpQ2hhdENsb3NlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FpLWNoYXQtY2xvc2UnKTtcbiAgY29uc3QgYWlDaGF0Q2xlYXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWktY2hhdC1jbGVhcicpO1xuICBjb25zdCBhaUNoYXRGb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FpLWNoYXQtZm9ybScpO1xuICBjb25zdCBhaUNoYXRJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhaS1jaGF0LWlucHV0Jyk7XG4gIGNvbnN0IGFpQ2hhdE1lc3NhZ2VzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FpLWNoYXQtbWVzc2FnZXMnKTtcbiAgY29uc3QgYWlDaGF0U3RhdHVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FpLWNoYXQtc3RhdHVzJyk7XG4gIGNvbnN0IGFpQ2hhdE5vQXBpID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FpLWNoYXQtbm8tYXBpJyk7XG4gIGNvbnN0IGFpUXVpY2tCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYWktcXVpY2tdJyk7XG5cbiAgbGV0IGFpQ2hhdE9wZW4gPSBmYWxzZTtcbiAgbGV0IGFpSXNMb2FkaW5nID0gZmFsc2U7XG4gIGxldCBhaUNvbmZpZ0NoZWNrZWQgPSBmYWxzZTtcbiAgbGV0IGFpSGFzQXBpS2V5ID0gZmFsc2U7XG5cbiAgLyoqXG4gICAqIE91dnJlIGxlIHBhbmVsIGRlIGNoYXQgSUFcbiAgICovXG4gIGZ1bmN0aW9uIG9wZW5BSUNoYXQoKSB7XG4gICAgaWYgKCFhaUNoYXRQYW5lbCkgcmV0dXJuO1xuICAgIGFpQ2hhdE9wZW4gPSB0cnVlO1xuICAgIGFpQ2hhdFBhbmVsLmNsYXNzTGlzdC5yZW1vdmUoJ3RyYW5zbGF0ZS14LWZ1bGwnKTtcbiAgICBhaUNoYXRQYW5lbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ2ZhbHNlJyk7XG4gICAgYWlDaGF0T3ZlcmxheT8uY2xhc3NMaXN0LnJlbW92ZSgnb3BhY2l0eS0wJywgJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICBhaUNoYXRPdmVybGF5Py5jbGFzc0xpc3QuYWRkKCdvcGFjaXR5LTEwMCcpO1xuICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnb3ZlcmZsb3ctaGlkZGVuJyk7XG4gICAgYWlDaGF0SW5wdXQ/LmZvY3VzKCk7XG5cbiAgICAvLyBWXHUwMEU5cmlmaWVyIGxhIGNvbmZpZyBBSSBhdSBwcmVtaWVyIG91dmVydHVyZVxuICAgIGlmICghYWlDb25maWdDaGVja2VkKSB7XG4gICAgICBjaGVja0FJQ29uZmlnKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEZlcm1lIGxlIHBhbmVsIGRlIGNoYXQgSUFcbiAgICovXG4gIGZ1bmN0aW9uIGNsb3NlQUlDaGF0KCkge1xuICAgIGlmICghYWlDaGF0UGFuZWwpIHJldHVybjtcbiAgICBhaUNoYXRPcGVuID0gZmFsc2U7XG4gICAgYWlDaGF0UGFuZWwuY2xhc3NMaXN0LmFkZCgndHJhbnNsYXRlLXgtZnVsbCcpO1xuICAgIGFpQ2hhdFBhbmVsLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuICAgIGFpQ2hhdE92ZXJsYXk/LmNsYXNzTGlzdC5hZGQoJ29wYWNpdHktMCcsICdwb2ludGVyLWV2ZW50cy1ub25lJyk7XG4gICAgYWlDaGF0T3ZlcmxheT8uY2xhc3NMaXN0LnJlbW92ZSgnb3BhY2l0eS0xMDAnKTtcbiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ292ZXJmbG93LWhpZGRlbicpO1xuICB9XG5cbiAgLyoqXG4gICAqIFZcdTAwRTlyaWZpZSBzaSBsJ0FQSSBBSSBlc3QgY29uZmlndXJcdTAwRTllXG4gICAqL1xuICBhc3luYyBmdW5jdGlvbiBjaGVja0FJQ29uZmlnKCkge1xuICAgIGNvbnN0IHNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goc3RvcmVkU2l0ZS5zbHVnIHx8ICcnKTtcbiAgICBpZiAoIXNpdGVTbHVnKSB7XG4gICAgICBhaUNoYXROb0FwaT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNpdGVTbHVnKX0vY29uZmlnL2FpYCk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB0aHJvdyBuZXcgRXJyb3IoJ0NvbmZpZyBjaGVjayBmYWlsZWQnKTtcbiAgICAgIGNvbnN0IGNvbmZpZyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIGFpQ29uZmlnQ2hlY2tlZCA9IHRydWU7XG4gICAgICBhaUhhc0FwaUtleSA9IGNvbmZpZy5oYXNBcGlLZXk7XG4gICAgICBcbiAgICAgIGlmICghY29uZmlnLmVuYWJsZWQgfHwgIWNvbmZpZy5oYXNBcGlLZXkpIHtcbiAgICAgICAgYWlDaGF0Tm9BcGk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWlDaGF0Tm9BcGk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICAvLyBDaGFyZ2VyIGwnaGlzdG9yaXF1ZVxuICAgICAgICBsb2FkQUlDaGF0SGlzdG9yeSgpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignW0FJXSBDb25maWcgY2hlY2sgZmFpbGVkOicsIGVycik7XG4gICAgICBhaUNoYXROb0FwaT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENoYXJnZSBsJ2hpc3RvcmlxdWUgZGUgY29udmVyc2F0aW9uXG4gICAqL1xuICBhc3luYyBmdW5jdGlvbiBsb2FkQUlDaGF0SGlzdG9yeSgpIHtcbiAgICBjb25zdCBzaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyk7XG4gICAgaWYgKCFzaXRlU2x1ZyB8fCAhYWlDaGF0TWVzc2FnZXMpIHJldHVybjtcbiAgICBcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzaXRlU2x1Zyl9L2FpL2hpc3RvcnlgKTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHJldHVybjtcbiAgICAgIFxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIGlmIChkYXRhLm1lc3NhZ2VzICYmIGRhdGEubWVzc2FnZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAvLyBFZmZhY2VyIGxlIG1lc3NhZ2UgZGUgYmllbnZlbnVlXG4gICAgICAgIGNvbnN0IHdlbGNvbWVNc2cgPSBhaUNoYXRNZXNzYWdlcy5xdWVyeVNlbGVjdG9yKCdbZGF0YS1haS13ZWxjb21lXScpO1xuICAgICAgICBpZiAod2VsY29tZU1zZykgd2VsY29tZU1zZy5yZW1vdmUoKTtcbiAgICAgICAgXG4gICAgICAgIC8vIEFmZmljaGVyIGxlcyBtZXNzYWdlc1xuICAgICAgICBkYXRhLm1lc3NhZ2VzLmZvckVhY2gobXNnID0+IHtcbiAgICAgICAgICBhcHBlbmRBSU1lc3NhZ2UobXNnLmNvbnRlbnQsIG1zZy5yb2xlID09PSAndXNlcicgPyAndXNlcicgOiAnYXNzaXN0YW50Jyk7XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgLy8gU2Nyb2xsIHZlcnMgbGUgYmFzXG4gICAgICAgIGFpQ2hhdE1lc3NhZ2VzLnNjcm9sbFRvcCA9IGFpQ2hhdE1lc3NhZ2VzLnNjcm9sbEhlaWdodDtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tBSV0gSGlzdG9yeSBsb2FkIGZhaWxlZDonLCBlcnIpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBam91dGUgdW4gbWVzc2FnZSBhdSBjaGF0XG4gICAqL1xuICBmdW5jdGlvbiBhcHBlbmRBSU1lc3NhZ2UoY29udGVudCwgcm9sZSA9ICdhc3Npc3RhbnQnKSB7XG4gICAgaWYgKCFhaUNoYXRNZXNzYWdlcykgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0IG1zZ0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIG1zZ0Rpdi5jbGFzc05hbWUgPSAnZmxleCBnYXAtMyc7XG4gICAgXG4gICAgaWYgKHJvbGUgPT09ICd1c2VyJykge1xuICAgICAgbXNnRGl2LmlubmVySFRNTCA9IGBcbiAgICAgICAgPGRpdiBjbGFzcz1cImZsZXgtMVwiPjwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwibWF4LXctWzgwJV0gYmctdmlvbGV0LTYwMCB0ZXh0LXdoaXRlIHJvdW5kZWQtMnhsIHJvdW5kZWQtdHItbm9uZSBwLTNcIj5cbiAgICAgICAgICA8cCBjbGFzcz1cInRleHQtc20gd2hpdGVzcGFjZS1wcmUtd3JhcFwiPiR7ZXNjYXBlSHRtbChjb250ZW50KX08L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwidy04IGgtOCByb3VuZGVkLWZ1bGwgYmctc2xhdGUtMjAwIGZsZXgtc2hyaW5rLTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICA8c3ZnIGNsYXNzPVwidy00IGgtNCB0ZXh0LXNsYXRlLTUwMFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgPHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTYgN2E0IDQgMCAxMS04IDAgNCA0IDAgMDE4IDB6TTEyIDE0YTcgNyAwIDAwLTcgN2gxNGE3IDcgMCAwMC03LTd6XCIvPlxuICAgICAgICAgIDwvc3ZnPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIGA7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEZvcm1hdHRlciBsZSBjb250ZW51IE1hcmtkb3duIGJhc2lxdWVcbiAgICAgIGNvbnN0IGZvcm1hdHRlZENvbnRlbnQgPSBmb3JtYXRBSVJlc3BvbnNlKGNvbnRlbnQpO1xuICAgICAgbXNnRGl2LmlubmVySFRNTCA9IGBcbiAgICAgICAgPGRpdiBjbGFzcz1cInctOCBoLTggcm91bmRlZC1mdWxsIGJnLWdyYWRpZW50LXRvLWJyIGZyb20tdmlvbGV0LTUwMCB0by1pbmRpZ28tNjAwIGZsZXgtc2hyaW5rLTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICA8c3ZnIGNsYXNzPVwidy00IGgtNCB0ZXh0LXdoaXRlXCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICA8cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk05LjY2MyAxN2g0LjY3M00xMiAzdjFtNi4zNjQgMS42MzZsLS43MDcuNzA3TTIxIDEyaC0xTTQgMTJIM20zLjM0My01LjY1N2wtLjcwNy0uNzA3bTIuODI4IDkuOWE1IDUgMCAxMTcuMDcyIDBsLS41NDguNTQ3QTMuMzc0IDMuMzc0IDAgMDAxNCAxOC40NjlWMTlhMiAyIDAgMTEtNCAwdi0uNTMxYzAtLjg5NS0uMzU2LTEuNzU0LS45ODgtMi4zODZsLS41NDgtLjU0N3pcIi8+XG4gICAgICAgICAgPC9zdmc+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleC0xIGJnLXNsYXRlLTUwIHJvdW5kZWQtMnhsIHJvdW5kZWQtdGwtbm9uZSBwLTMgb3ZlcmZsb3cteC1hdXRvXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInRleHQtc20gdGV4dC1zbGF0ZS03MDAgcHJvc2UgcHJvc2Utc20gbWF4LXctbm9uZSBbJj5wcmVdOmJnLXNsYXRlLTgwMCBbJj5wcmVdOnRleHQtc2xhdGUtMTAwIFsmPnByZV06cm91bmRlZC1sZyBbJj5wcmVdOnAtMyBbJj5wcmVdOm92ZXJmbG93LXgtYXV0byBbJj5jb2RlXTpiZy1zbGF0ZS0yMDAgWyY+Y29kZV06cHgtMSBbJj5jb2RlXTpyb3VuZGVkXCI+JHtmb3JtYXR0ZWRDb250ZW50fTwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIGA7XG4gICAgfVxuICAgIFxuICAgIGFpQ2hhdE1lc3NhZ2VzLmFwcGVuZENoaWxkKG1zZ0Rpdik7XG4gICAgYWlDaGF0TWVzc2FnZXMuc2Nyb2xsVG9wID0gYWlDaGF0TWVzc2FnZXMuc2Nyb2xsSGVpZ2h0O1xuICB9XG5cbiAgLyoqXG4gICAqIEFmZmljaGUgdW4gaW5kaWNhdGV1ciBkZSBjaGFyZ2VtZW50XG4gICAqL1xuICBmdW5jdGlvbiBzaG93QUlMb2FkaW5nKCkge1xuICAgIGlmICghYWlDaGF0TWVzc2FnZXMpIHJldHVybjtcbiAgICBcbiAgICBjb25zdCBsb2FkaW5nRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgbG9hZGluZ0Rpdi5jbGFzc05hbWUgPSAnZmxleCBnYXAtMyc7XG4gICAgbG9hZGluZ0Rpdi5pZCA9ICdhaS1sb2FkaW5nLWluZGljYXRvcic7XG4gICAgbG9hZGluZ0Rpdi5pbm5lckhUTUwgPSBgXG4gICAgICA8ZGl2IGNsYXNzPVwidy04IGgtOCByb3VuZGVkLWZ1bGwgYmctZ3JhZGllbnQtdG8tYnIgZnJvbS12aW9sZXQtNTAwIHRvLWluZGlnby02MDAgZmxleC1zaHJpbmstMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICA8c3ZnIGNsYXNzPVwidy00IGgtNCB0ZXh0LXdoaXRlIGFuaW1hdGUtcHVsc2VcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICA8cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk05LjY2MyAxN2g0LjY3M00xMiAzdjFtNi4zNjQgMS42MzZsLS43MDcuNzA3TTIxIDEyaC0xTTQgMTJIM20zLjM0My01LjY1N2wtLjcwNy0uNzA3bTIuODI4IDkuOWE1IDUgMCAxMTcuMDcyIDBsLS41NDguNTQ3QTMuMzc0IDMuMzc0IDAgMDAxNCAxOC40NjlWMTlhMiAyIDAgMTEtNCAwdi0uNTMxYzAtLjg5NS0uMzU2LTEuNzU0LS45ODgtMi4zODZsLS41NDgtLjU0N3pcIi8+XG4gICAgICAgIDwvc3ZnPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwiZmxleC0xIGJnLXNsYXRlLTUwIHJvdW5kZWQtMnhsIHJvdW5kZWQtdGwtbm9uZSBwLTNcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInctMiBoLTIgYmctdmlvbGV0LTQwMCByb3VuZGVkLWZ1bGwgYW5pbWF0ZS1ib3VuY2VcIiBzdHlsZT1cImFuaW1hdGlvbi1kZWxheTogMG1zXCI+PC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInctMiBoLTIgYmctdmlvbGV0LTQwMCByb3VuZGVkLWZ1bGwgYW5pbWF0ZS1ib3VuY2VcIiBzdHlsZT1cImFuaW1hdGlvbi1kZWxheTogMTUwbXNcIj48L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwidy0yIGgtMiBiZy12aW9sZXQtNDAwIHJvdW5kZWQtZnVsbCBhbmltYXRlLWJvdW5jZVwiIHN0eWxlPVwiYW5pbWF0aW9uLWRlbGF5OiAzMDBtc1wiPjwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIGA7XG4gICAgXG4gICAgYWlDaGF0TWVzc2FnZXMuYXBwZW5kQ2hpbGQobG9hZGluZ0Rpdik7XG4gICAgYWlDaGF0TWVzc2FnZXMuc2Nyb2xsVG9wID0gYWlDaGF0TWVzc2FnZXMuc2Nyb2xsSGVpZ2h0O1xuICB9XG5cbiAgLyoqXG4gICAqIENhY2hlIGwnaW5kaWNhdGV1ciBkZSBjaGFyZ2VtZW50XG4gICAqL1xuICBmdW5jdGlvbiBoaWRlQUlMb2FkaW5nKCkge1xuICAgIGNvbnN0IGxvYWRpbmdEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWktbG9hZGluZy1pbmRpY2F0b3InKTtcbiAgICBsb2FkaW5nRGl2Py5yZW1vdmUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGb3JtYXRlIGxhIHJcdTAwRTlwb25zZSBkZSBsJ0lBIChNYXJrZG93biBiYXNpcXVlKVxuICAgKi9cbiAgZnVuY3Rpb24gZm9ybWF0QUlSZXNwb25zZSh0ZXh0KSB7XG4gICAgaWYgKCF0ZXh0KSByZXR1cm4gJyc7XG4gICAgXG4gICAgLy8gRXNjYXBlIEhUTUwgZCdhYm9yZFxuICAgIGxldCBmb3JtYXR0ZWQgPSBlc2NhcGVIdG1sKHRleHQpO1xuICAgIFxuICAgIC8vIENvZGUgYmxvY2tzIGBgYFxuICAgIGZvcm1hdHRlZCA9IGZvcm1hdHRlZC5yZXBsYWNlKC9gYGAoXFx3KilcXG4oW1xcc1xcU10qPylgYGAvZywgKG1hdGNoLCBsYW5nLCBjb2RlKSA9PiB7XG4gICAgICByZXR1cm4gYDxwcmUgY2xhc3M9XCJsYW5ndWFnZS0ke2xhbmcgfHwgJ3RleHQnfVwiPjxjb2RlPiR7Y29kZS50cmltKCl9PC9jb2RlPjwvcHJlPmA7XG4gICAgfSk7XG4gICAgXG4gICAgLy8gSW5saW5lIGNvZGUgYFxuICAgIGZvcm1hdHRlZCA9IGZvcm1hdHRlZC5yZXBsYWNlKC9gKFteYF0rKWAvZywgJzxjb2RlPiQxPC9jb2RlPicpO1xuICAgIFxuICAgIC8vIEJvbGQgKip0ZXh0KipcbiAgICBmb3JtYXR0ZWQgPSBmb3JtYXR0ZWQucmVwbGFjZSgvXFwqXFwqKFteKl0rKVxcKlxcKi9nLCAnPHN0cm9uZz4kMTwvc3Ryb25nPicpO1xuICAgIFxuICAgIC8vIEl0YWxpYyAqdGV4dCpcbiAgICBmb3JtYXR0ZWQgPSBmb3JtYXR0ZWQucmVwbGFjZSgvXFwqKFteKl0rKVxcKi9nLCAnPGVtPiQxPC9lbT4nKTtcbiAgICBcbiAgICAvLyBUaXRyZXNcbiAgICBmb3JtYXR0ZWQgPSBmb3JtYXR0ZWQucmVwbGFjZSgvXiMjIyAoLispJC9nbSwgJzxoNCBjbGFzcz1cImZvbnQtc2VtaWJvbGQgdGV4dC1zbGF0ZS05MDAgbXQtMyBtYi0xXCI+JDE8L2g0PicpO1xuICAgIGZvcm1hdHRlZCA9IGZvcm1hdHRlZC5yZXBsYWNlKC9eIyMgKC4rKSQvZ20sICc8aDMgY2xhc3M9XCJmb250LXNlbWlib2xkIHRleHQtc2xhdGUtOTAwIG10LTMgbWItMVwiPiQxPC9oMz4nKTtcbiAgICBmb3JtYXR0ZWQgPSBmb3JtYXR0ZWQucmVwbGFjZSgvXiMgKC4rKSQvZ20sICc8aDIgY2xhc3M9XCJmb250LWJvbGQgdGV4dC1zbGF0ZS05MDAgbXQtMyBtYi0yXCI+JDE8L2gyPicpO1xuICAgIFxuICAgIC8vIExpc3Rlc1xuICAgIGZvcm1hdHRlZCA9IGZvcm1hdHRlZC5yZXBsYWNlKC9eLSAoLispJC9nbSwgJzxsaSBjbGFzcz1cIm1sLTRcIj4kMTwvbGk+Jyk7XG4gICAgZm9ybWF0dGVkID0gZm9ybWF0dGVkLnJlcGxhY2UoL14oXFxkKylcXC4gKC4rKSQvZ20sICc8bGkgY2xhc3M9XCJtbC00XCI+JDI8L2xpPicpO1xuICAgIFxuICAgIC8vIFBhcmFncmFwaGVzIChsaWduZXMgdmlkZXMpXG4gICAgZm9ybWF0dGVkID0gZm9ybWF0dGVkLnJlcGxhY2UoL1xcblxcbi9nLCAnPC9wPjxwIGNsYXNzPVwibWItMlwiPicpO1xuICAgIGZvcm1hdHRlZCA9ICc8cCBjbGFzcz1cIm1iLTJcIj4nICsgZm9ybWF0dGVkICsgJzwvcD4nO1xuICAgIFxuICAgIC8vIE5ldHRveWVyIGxlcyA8cD4gdmlkZXNcbiAgICBmb3JtYXR0ZWQgPSBmb3JtYXR0ZWQucmVwbGFjZSgvPHAgY2xhc3M9XCJtYi0yXCI+PFxcL3A+L2csICcnKTtcbiAgICBcbiAgICByZXR1cm4gZm9ybWF0dGVkO1xuICB9XG5cbiAgLyoqXG4gICAqIFx1MDBDOWNoYXBwZSBsZSBIVE1MXG4gICAqL1xuICBmdW5jdGlvbiBlc2NhcGVIdG1sKHRleHQpIHtcbiAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBkaXYudGV4dENvbnRlbnQgPSB0ZXh0O1xuICAgIHJldHVybiBkaXYuaW5uZXJIVE1MO1xuICB9XG5cbiAgLyoqXG4gICAqIEVudm9pZSB1biBtZXNzYWdlIGF1IGNoYXQgSUFcbiAgICovXG4gIGFzeW5jIGZ1bmN0aW9uIHNlbmRBSU1lc3NhZ2UobWVzc2FnZSkge1xuICAgIGNvbnN0IHNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goc3RvcmVkU2l0ZS5zbHVnIHx8ICcnKTtcbiAgICBpZiAoIW1lc3NhZ2UgfHwgIXNpdGVTbHVnIHx8IGFpSXNMb2FkaW5nKSByZXR1cm47XG4gICAgXG4gICAgYWlJc0xvYWRpbmcgPSB0cnVlO1xuICAgIGFpQ2hhdElucHV0LmRpc2FibGVkID0gdHJ1ZTtcbiAgICBcbiAgICAvLyBFZmZhY2VyIGxlIG1lc3NhZ2UgZGUgYmllbnZlbnVlIGF1IHByZW1pZXIgbWVzc2FnZVxuICAgIGNvbnN0IHdlbGNvbWVNc2cgPSBhaUNoYXRNZXNzYWdlcz8ucXVlcnlTZWxlY3RvcignW2RhdGEtYWktd2VsY29tZV0nKTtcbiAgICBpZiAod2VsY29tZU1zZykgd2VsY29tZU1zZy5yZW1vdmUoKTtcbiAgICBcbiAgICAvLyBBZmZpY2hlciBsZSBtZXNzYWdlIGRlIGwndXRpbGlzYXRldXJcbiAgICBhcHBlbmRBSU1lc3NhZ2UobWVzc2FnZSwgJ3VzZXInKTtcbiAgICBcbiAgICAvLyBBZmZpY2hlciBsZSBsb2FkZXJcbiAgICBzaG93QUlMb2FkaW5nKCk7XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2l0ZVNsdWcpfS9haS9jaGF0YCwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgbWVzc2FnZSB9KVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGhpZGVBSUxvYWRpbmcoKTtcbiAgICAgIFxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBlcnJvciA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yLm1lc3NhZ2UgfHwgJ0VycmV1ciBkZSBjb21tdW5pY2F0aW9uJyk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBcbiAgICAgIGlmIChkYXRhLnJlc3BvbnNlKSB7XG4gICAgICAgIGFwcGVuZEFJTWVzc2FnZShkYXRhLnJlc3BvbnNlLCAnYXNzaXN0YW50Jyk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEdcdTAwRTlyZXIgbGVzIHByb3Bvc2l0aW9ucyBkJ1x1MDBFOWRpdGlvbiBkZSBwYWdlXG4gICAgICBpZiAoZGF0YS5lZGl0UHJvcG9zYWwpIHtcbiAgICAgICAgYXBwZW5kRWRpdFByb3Bvc2FsKGRhdGEuZWRpdFByb3Bvc2FsKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gR1x1MDBFOXJlciBsZXMgcHJvcG9zaXRpb25zIGRlIG1vZGlmaWNhdGlvbiBkdSB0aFx1MDBFOG1lXG4gICAgICBpZiAoZGF0YS50aGVtZVByb3Bvc2FsKSB7XG4gICAgICAgIGFwcGVuZFRoZW1lUHJvcG9zYWwoZGF0YS50aGVtZVByb3Bvc2FsKTtcbiAgICAgIH1cbiAgICAgIFxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgaGlkZUFJTG9hZGluZygpO1xuICAgICAgYXBwZW5kQUlNZXNzYWdlKGBcdTI3NEMgRXJyZXVyOiAke2Vyci5tZXNzYWdlfWAsICdhc3Npc3RhbnQnKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgYWlJc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgIGFpQ2hhdElucHV0LmRpc2FibGVkID0gZmFsc2U7XG4gICAgICBhaUNoYXRJbnB1dC5mb2N1cygpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBZmZpY2hlIHVuZSBwcm9wb3NpdGlvbiBkJ1x1MDBFOWRpdGlvbiBhdmVjIGJvdXRvbnMgZGUgdmFsaWRhdGlvblxuICAgKi9cbiAgZnVuY3Rpb24gYXBwZW5kRWRpdFByb3Bvc2FsKHByb3Bvc2FsKSB7XG4gICAgaWYgKCFhaUNoYXRNZXNzYWdlcyB8fCAhcHJvcG9zYWwpIHJldHVybjtcbiAgICBcbiAgICBjb25zdCBwcm9wb3NhbERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHByb3Bvc2FsRGl2LmNsYXNzTmFtZSA9ICdmbGV4IGdhcC0zIG10LTInO1xuICAgIHByb3Bvc2FsRGl2LmRhdGFzZXQucHJvcG9zYWxJZCA9IHByb3Bvc2FsLnByb3Bvc2FsSWQ7XG4gICAgXG4gICAgLy8gQ29uc3RydWlyZSBsZSByXHUwMEU5c3VtXHUwMEU5IGRlcyBjaGFuZ2VtZW50c1xuICAgIGxldCBjaGFuZ2VzSHRtbCA9ICcnO1xuICAgIGlmIChwcm9wb3NhbC5jaGFuZ2VzKSB7XG4gICAgICBpZiAocHJvcG9zYWwuY2hhbmdlcy50aXRsZSkge1xuICAgICAgICBjaGFuZ2VzSHRtbCArPSBgPGxpPlRpdHJlIFx1MjE5MiA8c3Ryb25nPiR7ZXNjYXBlSHRtbChwcm9wb3NhbC5jaGFuZ2VzLnRpdGxlKX08L3N0cm9uZz48L2xpPmA7XG4gICAgICB9XG4gICAgICBpZiAocHJvcG9zYWwuY2hhbmdlcy5kZXNjcmlwdGlvbikge1xuICAgICAgICBjaGFuZ2VzSHRtbCArPSBgPGxpPkRlc2NyaXB0aW9uIFx1MjE5MiAke2VzY2FwZUh0bWwocHJvcG9zYWwuY2hhbmdlcy5kZXNjcmlwdGlvbi5zdWJzdHJpbmcoMCwgODApKX0uLi48L2xpPmA7XG4gICAgICB9XG4gICAgICBpZiAocHJvcG9zYWwuY2hhbmdlcy5zZW8pIHtcbiAgICAgICAgaWYgKHByb3Bvc2FsLmNoYW5nZXMuc2VvLm1ldGFUaXRsZSkge1xuICAgICAgICAgIGNoYW5nZXNIdG1sICs9IGA8bGk+TWV0YSB0aXRsZSBcdTIxOTIgJHtlc2NhcGVIdG1sKHByb3Bvc2FsLmNoYW5nZXMuc2VvLm1ldGFUaXRsZSl9PC9saT5gO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9wb3NhbC5jaGFuZ2VzLnNlby5tZXRhRGVzY3JpcHRpb24pIHtcbiAgICAgICAgICBjaGFuZ2VzSHRtbCArPSBgPGxpPk1ldGEgZGVzY3JpcHRpb24gXHUyMTkyICR7ZXNjYXBlSHRtbChwcm9wb3NhbC5jaGFuZ2VzLnNlby5tZXRhRGVzY3JpcHRpb24uc3Vic3RyaW5nKDAsIDYwKSl9Li4uPC9saT5gO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAocHJvcG9zYWwuY2hhbmdlcy5ibG9ja1VwZGF0ZSkge1xuICAgICAgICBjaGFuZ2VzSHRtbCArPSBgPGxpPkJsb2MgXCIke3Byb3Bvc2FsLmNoYW5nZXMuYmxvY2tVcGRhdGUuYmxvY2tJZH1cIiBtb2RpZmlcdTAwRTk8L2xpPmA7XG4gICAgICAgIGlmIChwcm9wb3NhbC5jaGFuZ2VzLmJsb2NrVXBkYXRlLnNldHRpbmdzKSB7XG4gICAgICAgICAgY29uc3Qgc2V0dGluZ3MgPSBwcm9wb3NhbC5jaGFuZ2VzLmJsb2NrVXBkYXRlLnNldHRpbmdzO1xuICAgICAgICAgIGlmIChzZXR0aW5ncy50aXRsZSkgY2hhbmdlc0h0bWwgKz0gYDxsaSBjbGFzcz1cIm1sLTRcIj5cdTIxOTIgdGl0bGU6ICR7ZXNjYXBlSHRtbChzZXR0aW5ncy50aXRsZSl9PC9saT5gO1xuICAgICAgICAgIGlmIChzZXR0aW5ncy5jb250ZW50KSBjaGFuZ2VzSHRtbCArPSBgPGxpIGNsYXNzPVwibWwtNFwiPlx1MjE5MiBjb250ZW50IG1vZGlmaVx1MDBFOTwvbGk+YDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBwcm9wb3NhbERpdi5pbm5lckhUTUwgPSBgXG4gICAgICA8ZGl2IGNsYXNzPVwidy04IGgtOCByb3VuZGVkLWZ1bGwgYmctYW1iZXItNTAwIGZsZXgtc2hyaW5rLTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgPHN2ZyBjbGFzcz1cInctNCBoLTQgdGV4dC13aGl0ZVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgIDxwYXRoIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTExIDVINmEyIDIgMCAwMC0yIDJ2MTFhMiAyIDAgMDAyIDJoMTFhMiAyIDAgMDAyLTJ2LTVtLTEuNDE0LTkuNDE0YTIgMiAwIDExMi44MjggMi44MjhMMTEuODI4IDE1SDl2LTIuODI4bDguNTg2LTguNTg2elwiLz5cbiAgICAgICAgPC9zdmc+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJmbGV4LTEgYmctYW1iZXItNTAgYm9yZGVyIGJvcmRlci1hbWJlci0yMDAgcm91bmRlZC0yeGwgcm91bmRlZC10bC1ub25lIHAtNFwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgbWItMlwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC14cyBmb250LXNlbWlib2xkIHRleHQtYW1iZXItNzAwIGJnLWFtYmVyLTEwMCBweC0yIHB5LTAuNSByb3VuZGVkXCI+UHJvcG9zaXRpb24gZCdcdTAwRTlkaXRpb248L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8cCBjbGFzcz1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1zbGF0ZS04MDAgbWItMVwiPlBhZ2UgOiAke2VzY2FwZUh0bWwocHJvcG9zYWwucGFnZVRpdGxlIHx8IHByb3Bvc2FsLnBhZ2VJZCl9PC9wPlxuICAgICAgICAke3Byb3Bvc2FsLnJlYXNvbiA/IGA8cCBjbGFzcz1cInRleHQtc20gdGV4dC1zbGF0ZS02MDAgbWItMlwiPiR7ZXNjYXBlSHRtbChwcm9wb3NhbC5yZWFzb24pfTwvcD5gIDogJyd9XG4gICAgICAgIDx1bCBjbGFzcz1cInRleHQteHMgdGV4dC1zbGF0ZS02MDAgc3BhY2UteS0xIG1iLTMgbGlzdC1kaXNjIG1sLTRcIj5cbiAgICAgICAgICAke2NoYW5nZXNIdG1sIHx8ICc8bGk+TW9kaWZpY2F0aW9ucyBwcm9wb3NcdTAwRTllczwvbGk+J31cbiAgICAgICAgPC91bD5cbiAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggZ2FwLTJcIj5cbiAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgY2xhc3M9XCJhaS1hcHBseS1lZGl0IHB4LTMgcHktMS41IHRleHQteHMgZm9udC1tZWRpdW0gdGV4dC13aGl0ZSBiZy1lbWVyYWxkLTYwMCBob3ZlcjpiZy1lbWVyYWxkLTcwMCByb3VuZGVkLWxnIHRyYW5zaXRpb24tY29sb3JzIGZsZXggaXRlbXMtY2VudGVyIGdhcC0xXCJcbiAgICAgICAgICAgIGRhdGEtcHJvcG9zYWwtaWQ9XCIke3Byb3Bvc2FsLnByb3Bvc2FsSWR9XCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8c3ZnIGNsYXNzPVwidy0zLjUgaC0zLjVcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNSAxM2w0IDRMMTkgN1wiLz5cbiAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgQXBwbGlxdWVyXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgIGNsYXNzPVwiYWktcmVqZWN0LWVkaXQgcHgtMyBweS0xLjUgdGV4dC14cyBmb250LW1lZGl1bSB0ZXh0LXNsYXRlLTYwMCBiZy1zbGF0ZS0xMDAgaG92ZXI6Ymctc2xhdGUtMjAwIHJvdW5kZWQtbGcgdHJhbnNpdGlvbi1jb2xvcnMgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTFcIlxuICAgICAgICAgICAgZGF0YS1wcm9wb3NhbC1pZD1cIiR7cHJvcG9zYWwucHJvcG9zYWxJZH1cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJ3LTMuNSBoLTMuNVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgICA8cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk02IDE4TDE4IDZNNiA2bDEyIDEyXCIvPlxuICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICBSZWpldGVyXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgYDtcbiAgICBcbiAgICBhaUNoYXRNZXNzYWdlcy5hcHBlbmRDaGlsZChwcm9wb3NhbERpdik7XG4gICAgYWlDaGF0TWVzc2FnZXMuc2Nyb2xsVG9wID0gYWlDaGF0TWVzc2FnZXMuc2Nyb2xsSGVpZ2h0O1xuICAgIFxuICAgIC8vIEF0dGFjaGVyIGxlcyBcdTAwRTl2XHUwMEU5bmVtZW50cyBhdXggYm91dG9uc1xuICAgIHByb3Bvc2FsRGl2LnF1ZXJ5U2VsZWN0b3IoJy5haS1hcHBseS1lZGl0Jyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlQXBwbHlFZGl0KTtcbiAgICBwcm9wb3NhbERpdi5xdWVyeVNlbGVjdG9yKCcuYWktcmVqZWN0LWVkaXQnKT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVSZWplY3RFZGl0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZmZpY2hlIHVuZSBwcm9wb3NpdGlvbiBkZSBtb2RpZmljYXRpb24gZHUgdGhcdTAwRThtZSBhdmVjIGJvdXRvbnMgZGUgdmFsaWRhdGlvblxuICAgKi9cbiAgZnVuY3Rpb24gYXBwZW5kVGhlbWVQcm9wb3NhbChwcm9wb3NhbCkge1xuICAgIGlmICghYWlDaGF0TWVzc2FnZXMgfHwgIXByb3Bvc2FsKSByZXR1cm47XG4gICAgXG4gICAgY29uc3QgcHJvcG9zYWxEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBwcm9wb3NhbERpdi5jbGFzc05hbWUgPSAnZmxleCBnYXAtMyBtdC0yJztcbiAgICBwcm9wb3NhbERpdi5kYXRhc2V0LnByb3Bvc2FsSWQgPSBwcm9wb3NhbC5wcm9wb3NhbElkO1xuICAgIFxuICAgIC8vIENvbnN0cnVpcmUgbGUgclx1MDBFOXN1bVx1MDBFOSBkZXMgY2hhbmdlbWVudHMgZGUgY291bGV1cnNcbiAgICBsZXQgY29sb3JzSHRtbCA9ICcnO1xuICAgIGlmIChwcm9wb3NhbC5jaGFuZ2VzPy5jb2xvcnMpIHtcbiAgICAgIGNvbnN0IGNvbG9ycyA9IHByb3Bvc2FsLmNoYW5nZXMuY29sb3JzO1xuICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoY29sb3JzKSkge1xuICAgICAgICBjb2xvcnNIdG1sICs9IGA8bGkgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwidy00IGgtNCByb3VuZGVkIGJvcmRlciBib3JkZXItc2xhdGUtMzAwXCIgc3R5bGU9XCJiYWNrZ3JvdW5kOiAke2dldFRhaWx3aW5kQ29sb3JDc3ModmFsdWUpfVwiPjwvc3Bhbj5cbiAgICAgICAgICA8c3Bhbj4ke2tleX06IDxzdHJvbmc+JHtlc2NhcGVIdG1sKHZhbHVlKX08L3N0cm9uZz48L3NwYW4+XG4gICAgICAgIDwvbGk+YDtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gVHlwb2dyYXBoaWVzXG4gICAgbGV0IHR5cG9IdG1sID0gJyc7XG4gICAgaWYgKHByb3Bvc2FsLmNoYW5nZXM/LnR5cG9ncmFwaHkpIHtcbiAgICAgIGNvbnN0IHR5cG8gPSBwcm9wb3NhbC5jaGFuZ2VzLnR5cG9ncmFwaHk7XG4gICAgICBpZiAodHlwby5oZWFkaW5ncykgdHlwb0h0bWwgKz0gYDxsaT5UaXRyZXMgXHUyMTkyIDxzdHJvbmc+JHtlc2NhcGVIdG1sKHR5cG8uaGVhZGluZ3MpfTwvc3Ryb25nPjwvbGk+YDtcbiAgICAgIGlmICh0eXBvLmJvZHkpIHR5cG9IdG1sICs9IGA8bGk+VGV4dGVzIFx1MjE5MiA8c3Ryb25nPiR7ZXNjYXBlSHRtbCh0eXBvLmJvZHkpfTwvc3Ryb25nPjwvbGk+YDtcbiAgICB9XG4gICAgXG4gICAgcHJvcG9zYWxEaXYuaW5uZXJIVE1MID0gYFxuICAgICAgPGRpdiBjbGFzcz1cInctOCBoLTggcm91bmRlZC1mdWxsIGJnLXB1cnBsZS01MDAgZmxleC1zaHJpbmstMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICA8c3ZnIGNsYXNzPVwidy00IGgtNCB0ZXh0LXdoaXRlXCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgPHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNyAyMWE0IDQgMCAwMS00LTRWNWEyIDIgMCAwMTItMmg0YTIgMiAwIDAxMiAydjEyYTQgNCAwIDAxLTQgNHptMCAwaDEyYTIgMiAwIDAwMi0ydi00YTIgMiAwIDAwLTItMmgtMi4zNDNNMTEgNy4zNDNsMS42NTctMS42NTdhMiAyIDAgMDEyLjgyOCAwbDIuODI5IDIuODI5YTIgMiAwIDAxMCAyLjgyOGwtOC40ODYgOC40ODVNNyAxN2guMDFcIi8+XG4gICAgICAgIDwvc3ZnPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwiZmxleC0xIGJnLXB1cnBsZS01MCBib3JkZXIgYm9yZGVyLXB1cnBsZS0yMDAgcm91bmRlZC0yeGwgcm91bmRlZC10bC1ub25lIHAtNFwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgbWItMlwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC14cyBmb250LXNlbWlib2xkIHRleHQtcHVycGxlLTcwMCBiZy1wdXJwbGUtMTAwIHB4LTIgcHktMC41IHJvdW5kZWRcIj5Nb2RpZmljYXRpb24gZHUgdGhcdTAwRThtZTwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgICR7cHJvcG9zYWwucmVhc29uID8gYDxwIGNsYXNzPVwidGV4dC1zbSB0ZXh0LXNsYXRlLTYwMCBtYi0zXCI+JHtlc2NhcGVIdG1sKHByb3Bvc2FsLnJlYXNvbil9PC9wPmAgOiAnJ31cbiAgICAgICAgJHtjb2xvcnNIdG1sID8gYFxuICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC14cyBmb250LW1lZGl1bSB0ZXh0LXNsYXRlLTcwMCBtYi0xXCI+Q291bGV1cnMgOjwvcD5cbiAgICAgICAgICA8dWwgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNjAwIHNwYWNlLXktMSBtYi0zXCI+JHtjb2xvcnNIdG1sfTwvdWw+XG4gICAgICAgIGAgOiAnJ31cbiAgICAgICAgJHt0eXBvSHRtbCA/IGBcbiAgICAgICAgICA8cCBjbGFzcz1cInRleHQteHMgZm9udC1tZWRpdW0gdGV4dC1zbGF0ZS03MDAgbWItMVwiPlR5cG9ncmFwaGllcyA6PC9wPlxuICAgICAgICAgIDx1bCBjbGFzcz1cInRleHQteHMgdGV4dC1zbGF0ZS02MDAgc3BhY2UteS0xIG1iLTMgbGlzdC1kaXNjIG1sLTRcIj4ke3R5cG9IdG1sfTwvdWw+XG4gICAgICAgIGAgOiAnJ31cbiAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggZ2FwLTJcIj5cbiAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgY2xhc3M9XCJhaS1hcHBseS10aGVtZSBweC0zIHB5LTEuNSB0ZXh0LXhzIGZvbnQtbWVkaXVtIHRleHQtd2hpdGUgYmctcHVycGxlLTYwMCBob3ZlcjpiZy1wdXJwbGUtNzAwIHJvdW5kZWQtbGcgdHJhbnNpdGlvbi1jb2xvcnMgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTFcIlxuICAgICAgICAgICAgZGF0YS1wcm9wb3NhbC1pZD1cIiR7cHJvcG9zYWwucHJvcG9zYWxJZH1cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJ3LTMuNSBoLTMuNVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgICA8cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk01IDEzbDQgNEwxOSA3XCIvPlxuICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICBBcHBsaXF1ZXJcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgY2xhc3M9XCJhaS1yZWplY3QtdGhlbWUgcHgtMyBweS0xLjUgdGV4dC14cyBmb250LW1lZGl1bSB0ZXh0LXNsYXRlLTYwMCBiZy1zbGF0ZS0xMDAgaG92ZXI6Ymctc2xhdGUtMjAwIHJvdW5kZWQtbGcgdHJhbnNpdGlvbi1jb2xvcnMgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTFcIlxuICAgICAgICAgICAgZGF0YS1wcm9wb3NhbC1pZD1cIiR7cHJvcG9zYWwucHJvcG9zYWxJZH1cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJ3LTMuNSBoLTMuNVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgICA8cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk02IDE4TDE4IDZNNiA2bDEyIDEyXCIvPlxuICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICBSZWpldGVyXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgYDtcbiAgICBcbiAgICBhaUNoYXRNZXNzYWdlcy5hcHBlbmRDaGlsZChwcm9wb3NhbERpdik7XG4gICAgYWlDaGF0TWVzc2FnZXMuc2Nyb2xsVG9wID0gYWlDaGF0TWVzc2FnZXMuc2Nyb2xsSGVpZ2h0O1xuICAgIFxuICAgIC8vIEF0dGFjaGVyIGxlcyBcdTAwRTl2XHUwMEU5bmVtZW50cyBhdXggYm91dG9uc1xuICAgIHByb3Bvc2FsRGl2LnF1ZXJ5U2VsZWN0b3IoJy5haS1hcHBseS10aGVtZScpPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZUFwcGx5VGhlbWUpO1xuICAgIHByb3Bvc2FsRGl2LnF1ZXJ5U2VsZWN0b3IoJy5haS1yZWplY3QtdGhlbWUnKT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVSZWplY3RFZGl0KTsgLy8gUlx1MDBFOXV0aWxpc2UgbGEgbVx1MDBFQW1lIGxvZ2lxdWUgZGUgcmVqZXRcbiAgfVxuICBcbiAgLyoqXG4gICAqIENvbnZlcnRpdCB1bmUgY291bGV1ciBUYWlsd2luZCBlbiBDU1MgYXBwcm94aW1hdGlmIHBvdXIgcHJldmlld1xuICAgKi9cbiAgZnVuY3Rpb24gZ2V0VGFpbHdpbmRDb2xvckNzcyhjb2xvck5hbWUpIHtcbiAgICBjb25zdCBjb2xvcnMgPSB7XG4gICAgICAnd2hpdGUnOiAnI2ZmZmZmZicsICdibGFjayc6ICcjMDAwMDAwJywgJ3RyYW5zcGFyZW50JzogJ3RyYW5zcGFyZW50JyxcbiAgICAgICdzbGF0ZS01MCc6ICcjZjhmYWZjJywgJ3NsYXRlLTEwMCc6ICcjZjFmNWY5JywgJ3NsYXRlLTIwMCc6ICcjZTJlOGYwJywgJ3NsYXRlLTMwMCc6ICcjY2JkNWUxJywgJ3NsYXRlLTQwMCc6ICcjOTRhM2I4JywgJ3NsYXRlLTUwMCc6ICcjNjQ3NDhiJywgJ3NsYXRlLTYwMCc6ICcjNDc1NTY5JywgJ3NsYXRlLTcwMCc6ICcjMzM0MTU1JywgJ3NsYXRlLTgwMCc6ICcjMWUyOTNiJywgJ3NsYXRlLTkwMCc6ICcjMGYxNzJhJyxcbiAgICAgICdncmF5LTUwJzogJyNmOWZhZmInLCAnZ3JheS0xMDAnOiAnI2YzZjRmNicsICdncmF5LTIwMCc6ICcjZTVlN2ViJywgJ2dyYXktMzAwJzogJyNkMWQ1ZGInLCAnZ3JheS00MDAnOiAnIzljYTNhZicsICdncmF5LTUwMCc6ICcjNmI3MjgwJywgJ2dyYXktNjAwJzogJyM0YjU1NjMnLCAnZ3JheS03MDAnOiAnIzM3NDE1MScsICdncmF5LTgwMCc6ICcjMWYyOTM3JywgJ2dyYXktOTAwJzogJyMxMTE4MjcnLFxuICAgICAgJ3Zpb2xldC01MCc6ICcjZjVmM2ZmJywgJ3Zpb2xldC0xMDAnOiAnI2VkZTlmZScsICd2aW9sZXQtMjAwJzogJyNkZGQ2ZmUnLCAndmlvbGV0LTMwMCc6ICcjYzRiNWZkJywgJ3Zpb2xldC00MDAnOiAnI2E3OGJmYScsICd2aW9sZXQtNTAwJzogJyM4YjVjZjYnLCAndmlvbGV0LTYwMCc6ICcjN2MzYWVkJywgJ3Zpb2xldC03MDAnOiAnIzZkMjhkOScsICd2aW9sZXQtODAwJzogJyM1YjIxYjYnLCAndmlvbGV0LTkwMCc6ICcjNGMxZDk1JyxcbiAgICAgICdwdXJwbGUtNTAnOiAnI2ZhZjVmZicsICdwdXJwbGUtMTAwJzogJyNmM2U4ZmYnLCAncHVycGxlLTIwMCc6ICcjZTlkNWZmJywgJ3B1cnBsZS0zMDAnOiAnI2Q4YjRmZScsICdwdXJwbGUtNDAwJzogJyNjMDg0ZmMnLCAncHVycGxlLTUwMCc6ICcjYTg1NWY3JywgJ3B1cnBsZS02MDAnOiAnIzkzMzNlYScsICdwdXJwbGUtNzAwJzogJyM3ZTIyY2UnLCAncHVycGxlLTgwMCc6ICcjNmIyMWE4JywgJ3B1cnBsZS05MDAnOiAnIzU4MWM4NycsXG4gICAgICAnYmx1ZS01MCc6ICcjZWZmNmZmJywgJ2JsdWUtMTAwJzogJyNkYmVhZmUnLCAnYmx1ZS0yMDAnOiAnI2JmZGJmZScsICdibHVlLTMwMCc6ICcjOTNjNWZkJywgJ2JsdWUtNDAwJzogJyM2MGE1ZmEnLCAnYmx1ZS01MDAnOiAnIzNiODJmNicsICdibHVlLTYwMCc6ICcjMjU2M2ViJywgJ2JsdWUtNzAwJzogJyMxZDRlZDgnLCAnYmx1ZS04MDAnOiAnIzFlNDBhZicsICdibHVlLTkwMCc6ICcjMWUzYThhJyxcbiAgICAgICdlbWVyYWxkLTUwJzogJyNlY2ZkZjUnLCAnZW1lcmFsZC0xMDAnOiAnI2QxZmFlNScsICdlbWVyYWxkLTIwMCc6ICcjYTdmM2QwJywgJ2VtZXJhbGQtMzAwJzogJyM2ZWU3YjcnLCAnZW1lcmFsZC00MDAnOiAnIzM0ZDM5OScsICdlbWVyYWxkLTUwMCc6ICcjMTBiOTgxJywgJ2VtZXJhbGQtNjAwJzogJyMwNTk2NjknLCAnZW1lcmFsZC03MDAnOiAnIzA0Nzg1NycsICdlbWVyYWxkLTgwMCc6ICcjMDY1ZjQ2JywgJ2VtZXJhbGQtOTAwJzogJyMwNjRlM2InLFxuICAgICAgJ3RlYWwtNTAnOiAnI2YwZmRmYScsICd0ZWFsLTEwMCc6ICcjY2NmYmYxJywgJ3RlYWwtMjAwJzogJyM5OWY2ZTQnLCAndGVhbC0zMDAnOiAnIzVlZWFkNCcsICd0ZWFsLTQwMCc6ICcjMmRkNGJmJywgJ3RlYWwtNTAwJzogJyMxNGI4YTYnLCAndGVhbC02MDAnOiAnIzBkOTQ4OCcsICd0ZWFsLTcwMCc6ICcjMGY3NjZlJywgJ3RlYWwtODAwJzogJyMxMTVlNTknLCAndGVhbC05MDAnOiAnIzEzNGU0YScsXG4gICAgICAnYW1iZXItNTAnOiAnI2ZmZmJlYicsICdhbWJlci0xMDAnOiAnI2ZlZjNjNycsICdhbWJlci0yMDAnOiAnI2ZkZTY4YScsICdhbWJlci0zMDAnOiAnI2ZjZDM0ZCcsICdhbWJlci00MDAnOiAnI2ZiYmYyNCcsICdhbWJlci01MDAnOiAnI2Y1OWUwYicsICdhbWJlci02MDAnOiAnI2Q5NzcwNicsICdhbWJlci03MDAnOiAnI2I0NTMwOScsICdhbWJlci04MDAnOiAnIzkyNDAwZScsICdhbWJlci05MDAnOiAnIzc4MzUwZicsXG4gICAgICAncmVkLTUwJzogJyNmZWYyZjInLCAncmVkLTEwMCc6ICcjZmVlMmUyJywgJ3JlZC0yMDAnOiAnI2ZlY2FjYScsICdyZWQtMzAwJzogJyNmY2E1YTUnLCAncmVkLTQwMCc6ICcjZjg3MTcxJywgJ3JlZC01MDAnOiAnI2VmNDQ0NCcsICdyZWQtNjAwJzogJyNkYzI2MjYnLCAncmVkLTcwMCc6ICcjYjkxYzFjJywgJ3JlZC04MDAnOiAnIzk5MWIxYicsICdyZWQtOTAwJzogJyM3ZjFkMWQnXG4gICAgfTtcbiAgICByZXR1cm4gY29sb3JzW2NvbG9yTmFtZV0gfHwgJyM5QzZCRkYnO1xuICB9XG5cbiAgLyoqXG4gICAqIEFwcGxpcXVlIHVuZSBwcm9wb3NpdGlvbiBkZSBtb2RpZmljYXRpb24gZHUgdGhcdTAwRThtZVxuICAgKi9cbiAgYXN5bmMgZnVuY3Rpb24gaGFuZGxlQXBwbHlUaGVtZShlKSB7XG4gICAgY29uc3QgcHJvcG9zYWxJZCA9IGUudGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLXByb3Bvc2FsLWlkXScpPy5kYXRhc2V0LnByb3Bvc2FsSWQ7XG4gICAgY29uc3Qgc2l0ZVNsdWcgPSBzdHJpcExlYWRpbmdTbGFzaChzdG9yZWRTaXRlLnNsdWcgfHwgJycpO1xuICAgIGlmICghcHJvcG9zYWxJZCB8fCAhc2l0ZVNsdWcpIHJldHVybjtcbiAgICBcbiAgICBjb25zdCBidG4gPSBlLnRhcmdldC5jbG9zZXN0KCdidXR0b24nKTtcbiAgICBidG4uZGlzYWJsZWQgPSB0cnVlO1xuICAgIGJ0bi5pbm5lckhUTUwgPSAnPHNwYW4gY2xhc3M9XCJhbmltYXRlLXNwaW5cIj5cdTIzRjM8L3NwYW4+IEFwcGxpY2F0aW9uLi4uJztcbiAgICBcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzaXRlU2x1Zyl9L2FpL2FwcGx5LXRoZW1lYCwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgcHJvcG9zYWxJZCB9KVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBcbiAgICAgIGlmIChyZXNwb25zZS5vayAmJiBkYXRhLnN1Y2Nlc3MpIHtcbiAgICAgICAgLy8gUmVtcGxhY2VyIGxhIGNhcmQgcGFyIHVuIG1lc3NhZ2UgZGUgc3VjY1x1MDBFOHNcbiAgICAgICAgY29uc3QgcHJvcG9zYWxDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtcHJvcG9zYWwtaWQ9XCIke3Byb3Bvc2FsSWR9XCJdYCk7XG4gICAgICAgIGlmIChwcm9wb3NhbENhcmQpIHtcbiAgICAgICAgICBwcm9wb3NhbENhcmQuaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInctOCBoLTggcm91bmRlZC1mdWxsIGJnLXB1cnBsZS01MDAgZmxleC1zaHJpbmstMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICA8c3ZnIGNsYXNzPVwidy00IGgtNCB0ZXh0LXdoaXRlXCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNSAxM2w0IDRMMTkgN1wiLz5cbiAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4LTEgYmctcHVycGxlLTUwIGJvcmRlciBib3JkZXItcHVycGxlLTIwMCByb3VuZGVkLTJ4bCByb3VuZGVkLXRsLW5vbmUgcC0zXCI+XG4gICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1zbSB0ZXh0LXB1cnBsZS03MDBcIj5cdTI3MDUgVGhcdTAwRThtZSBtaXMgXHUwMEUwIGpvdXIgYXZlYyBzdWNjXHUwMEU4cyAhPC9wPlxuICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQteHMgdGV4dC1wdXJwbGUtNjAwIG10LTFcIj5SZWNoYXJnZXogbGEgcHJldmlldyBwb3VyIHZvaXIgbGVzIGNoYW5nZW1lbnRzLjwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIGA7XG4gICAgICAgIH1cbiAgICAgICAgc2hvd1RvYXN0KCdUaFx1MDBFOG1lIG1pcyBcdTAwRTAgam91ciAhJyk7XG4gICAgICAgIFxuICAgICAgICAvLyBEXHUwMEU5Y2xlbmNoZXIgdW4gXHUwMEU5dlx1MDBFOW5lbWVudCBwZXJzb25uYWxpc1x1MDBFOSBwb3VyIHJhZnJhXHUwMEVFY2hpclxuICAgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnYWktdGhlbWUtdXBkYXRlZCcsIHtcbiAgICAgICAgICBkZXRhaWw6IHsgdXBkYXRlZFRoZW1lOiBkYXRhLnVwZGF0ZWRUaGVtZSB9XG4gICAgICAgIH0pKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihkYXRhLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGRlIGxcXCdhcHBsaWNhdGlvbicpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgYnRuLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICBidG4uaW5uZXJIVE1MID0gYDxzdmcgY2xhc3M9XCJ3LTMuNSBoLTMuNVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTUgMTNsNCA0TDE5IDdcIi8+PC9zdmc+IFJcdTAwRTllc3NheWVyYDtcbiAgICAgIHNob3dUb2FzdChgRXJyZXVyOiAke2Vyci5tZXNzYWdlfWApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBsaXF1ZSB1bmUgcHJvcG9zaXRpb24gZCdcdTAwRTlkaXRpb24gdmFsaWRcdTAwRTllXG4gICAqL1xuICBhc3luYyBmdW5jdGlvbiBoYW5kbGVBcHBseUVkaXQoZSkge1xuICAgIGNvbnN0IHByb3Bvc2FsSWQgPSBlLnRhcmdldC5jbG9zZXN0KCdbZGF0YS1wcm9wb3NhbC1pZF0nKT8uZGF0YXNldC5wcm9wb3NhbElkO1xuICAgIGNvbnN0IHNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goc3RvcmVkU2l0ZS5zbHVnIHx8ICcnKTtcbiAgICBpZiAoIXByb3Bvc2FsSWQgfHwgIXNpdGVTbHVnKSByZXR1cm47XG4gICAgXG4gICAgY29uc3QgYnRuID0gZS50YXJnZXQuY2xvc2VzdCgnYnV0dG9uJyk7XG4gICAgYnRuLmRpc2FibGVkID0gdHJ1ZTtcbiAgICBidG4uaW5uZXJIVE1MID0gJzxzcGFuIGNsYXNzPVwiYW5pbWF0ZS1zcGluXCI+XHUyM0YzPC9zcGFuPiBBcHBsaWNhdGlvbi4uLic7XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2l0ZVNsdWcpfS9haS9hcHBseS1lZGl0YCwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgcHJvcG9zYWxJZCB9KVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBcbiAgICAgIGlmIChyZXNwb25zZS5vayAmJiBkYXRhLnN1Y2Nlc3MpIHtcbiAgICAgICAgLy8gUmVtcGxhY2VyIGxhIGNhcmQgcGFyIHVuIG1lc3NhZ2UgZGUgc3VjY1x1MDBFOHNcbiAgICAgICAgY29uc3QgcHJvcG9zYWxDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtcHJvcG9zYWwtaWQ9XCIke3Byb3Bvc2FsSWR9XCJdYCk7XG4gICAgICAgIGlmIChwcm9wb3NhbENhcmQpIHtcbiAgICAgICAgICBwcm9wb3NhbENhcmQuaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInctOCBoLTggcm91bmRlZC1mdWxsIGJnLWVtZXJhbGQtNTAwIGZsZXgtc2hyaW5rLTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgPHN2ZyBjbGFzcz1cInctNCBoLTQgdGV4dC13aGl0ZVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgICAgIDxwYXRoIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTUgMTNsNCA0TDE5IDdcIi8+XG4gICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleC0xIGJnLWVtZXJhbGQtNTAgYm9yZGVyIGJvcmRlci1lbWVyYWxkLTIwMCByb3VuZGVkLTJ4bCByb3VuZGVkLXRsLW5vbmUgcC0zXCI+XG4gICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1zbSB0ZXh0LWVtZXJhbGQtNzAwXCI+XHUyNzA1IE1vZGlmaWNhdGlvbnMgYXBwbGlxdVx1MDBFOWVzIGF2ZWMgc3VjY1x1MDBFOHMgITwvcD5cbiAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtZW1lcmFsZC02MDAgbXQtMVwiPkxhIHByZXZpZXcgc2UgbWV0IFx1MDBFMCBqb3VyIGF1dG9tYXRpcXVlbWVudC48L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICBgO1xuICAgICAgICB9XG4gICAgICAgIHNob3dUb2FzdCgnTW9kaWZpY2F0aW9ucyBhcHBsaXF1XHUwMEU5ZXMgIScpO1xuICAgICAgICBcbiAgICAgICAgLy8gRFx1MDBFOWNsZW5jaGVyIHVuIFx1MDBFOXZcdTAwRTluZW1lbnQgcGVyc29ubmFsaXNcdTAwRTkgcG91ciByYWZyYVx1MDBFRWNoaXIgbGEgcHJldmlld1xuICAgICAgICBjb25zdCBwYWdlSWQgPSBkYXRhLnVwZGF0ZWRQYWdlPy5pZCB8fCBudWxsO1xuICAgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnYWktcGFnZS11cGRhdGVkJywge1xuICAgICAgICAgIGRldGFpbDogeyBwYWdlSWQsIHVwZGF0ZWRQYWdlOiBkYXRhLnVwZGF0ZWRQYWdlIH1cbiAgICAgICAgfSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGRhdGEubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZGUgbFxcJ2FwcGxpY2F0aW9uJyk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBidG4uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgIGJ0bi5pbm5lckhUTUwgPSBgPHN2ZyBjbGFzcz1cInctMy41IGgtMy41XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNSAxM2w0IDRMMTkgN1wiLz48L3N2Zz4gUlx1MDBFOWVzc2F5ZXJgO1xuICAgICAgc2hvd1RvYXN0KGBFcnJldXI6ICR7ZXJyLm1lc3NhZ2V9YCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlamV0dGUgdW5lIHByb3Bvc2l0aW9uIGQnXHUwMEU5ZGl0aW9uXG4gICAqL1xuICBhc3luYyBmdW5jdGlvbiBoYW5kbGVSZWplY3RFZGl0KGUpIHtcbiAgICBjb25zdCBwcm9wb3NhbElkID0gZS50YXJnZXQuY2xvc2VzdCgnW2RhdGEtcHJvcG9zYWwtaWRdJyk/LmRhdGFzZXQucHJvcG9zYWxJZDtcbiAgICBjb25zdCBzaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyk7XG4gICAgaWYgKCFwcm9wb3NhbElkIHx8ICFzaXRlU2x1ZykgcmV0dXJuO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICBhd2FpdCBmZXRjaChgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzaXRlU2x1Zyl9L2FpL3Byb3Bvc2FsLyR7cHJvcG9zYWxJZH1gLCB7XG4gICAgICAgIG1ldGhvZDogJ0RFTEVURSdcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBSZW1wbGFjZXIgbGEgY2FyZCBwYXIgdW4gbWVzc2FnZSBkZSByZWpldFxuICAgICAgY29uc3QgcHJvcG9zYWxDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtcHJvcG9zYWwtaWQ9XCIke3Byb3Bvc2FsSWR9XCJdYCk7XG4gICAgICBpZiAocHJvcG9zYWxDYXJkKSB7XG4gICAgICAgIHByb3Bvc2FsQ2FyZC5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInctOCBoLTggcm91bmRlZC1mdWxsIGJnLXNsYXRlLTQwMCBmbGV4LXNocmluay0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICA8c3ZnIGNsYXNzPVwidy00IGgtNCB0ZXh0LXdoaXRlXCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICAgIDxwYXRoIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTYgMThMMTggNk02IDZsMTIgMTJcIi8+XG4gICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleC0xIGJnLXNsYXRlLTEwMCByb3VuZGVkLTJ4bCByb3VuZGVkLXRsLW5vbmUgcC0zXCI+XG4gICAgICAgICAgICA8cCBjbGFzcz1cInRleHQtc20gdGV4dC1zbGF0ZS01MDBcIj5Qcm9wb3NpdGlvbiByZWpldFx1MDBFOWUuPC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICBgO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignW0FJXSBSZWplY3QgZWRpdCBlcnJvcjonLCBlcnIpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBFZmZhY2UgbCdoaXN0b3JpcXVlIGR1IGNoYXRcbiAgICovXG4gIGFzeW5jIGZ1bmN0aW9uIGNsZWFyQUlIaXN0b3J5KCkge1xuICAgIGNvbnN0IHNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goc3RvcmVkU2l0ZS5zbHVnIHx8ICcnKTtcbiAgICBpZiAoIXNpdGVTbHVnIHx8ICFhaUNoYXRNZXNzYWdlcykgcmV0dXJuO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICBhd2FpdCBmZXRjaChgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzaXRlU2x1Zyl9L2FpL2hpc3RvcnlgLCB7IG1ldGhvZDogJ0RFTEVURScgfSk7XG4gICAgICBcbiAgICAgIC8vIFZpZGVyIGxlcyBtZXNzYWdlc1xuICAgICAgYWlDaGF0TWVzc2FnZXMuaW5uZXJIVE1MID0gJyc7XG4gICAgICBcbiAgICAgIC8vIFJcdTAwRTlhZmZpY2hlciBsZSBtZXNzYWdlIGRlIGJpZW52ZW51ZVxuICAgICAgYWlDaGF0TWVzc2FnZXMuaW5uZXJIVE1MID0gYFxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBnYXAtM1wiIGRhdGEtYWktd2VsY29tZT5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwidy04IGgtOCByb3VuZGVkLWZ1bGwgYmctZ3JhZGllbnQtdG8tYnIgZnJvbS12aW9sZXQtNTAwIHRvLWluZGlnby02MDAgZmxleC1zaHJpbmstMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgPHN2ZyBjbGFzcz1cInctNCBoLTQgdGV4dC13aGl0ZVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgICA8cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk05LjY2MyAxN2g0LjY3M00xMiAzdjFtNi4zNjQgMS42MzZsLS43MDcuNzA3TTIxIDEyaC0xTTQgMTJIM20zLjM0My01LjY1N2wtLjcwNy0uNzA3bTIuODI4IDkuOWE1IDUgMCAxMTcuMDcyIDBsLS41NDguNTQ3QTMuMzc0IDMuMzc0IDAgMDAxNCAxOC40NjlWMTlhMiAyIDAgMTEtNCAwdi0uNTMxYzAtLjg5NS0uMzU2LTEuNzU0LS45ODgtMi4zODZsLS41NDgtLjU0N3pcIi8+XG4gICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleC0xIGJnLXNsYXRlLTUwIHJvdW5kZWQtMnhsIHJvdW5kZWQtdGwtbm9uZSBwLTNcIj5cbiAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1zbSB0ZXh0LXNsYXRlLTcwMFwiPlxuICAgICAgICAgICAgICBTYWx1dCAhIFx1RDgzRFx1REM0QiBKZSBzdWlzIHRvbiBhc3Npc3RhbnQgSUEgcG91ciBjZSBzaXRlLiBKZSBwZXV4IHQnYWlkZXIgXHUwMEUwIDpcbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDx1bCBjbGFzcz1cIm10LTIgdGV4dC1zbSB0ZXh0LXNsYXRlLTYwMCBzcGFjZS15LTFcIj5cbiAgICAgICAgICAgICAgPGxpPlx1RDgzQ1x1REZBOCBTdWdnXHUwMEU5cmVyIGRlcyBwYWxldHRlcyBkZSBjb3VsZXVyczwvbGk+XG4gICAgICAgICAgICAgIDxsaT5cdTI3MERcdUZFMEYgR1x1MDBFOW5cdTAwRTlyZXIgZHUgY29udGVudSBwb3VyIHRlcyBibG9jczwvbGk+XG4gICAgICAgICAgICAgIDxsaT5cdUQ4M0RcdURDQzQgQ3JcdTAwRTllciBkZXMgc3RydWN0dXJlcyBkZSBwYWdlczwvbGk+XG4gICAgICAgICAgICAgIDxsaT5cdUQ4M0RcdUREMEQgQW1cdTAwRTlsaW9yZXIgdG9uIFNFTzwvbGk+XG4gICAgICAgICAgICAgIDxsaT5cdTI3MEZcdUZFMEYgPHN0cm9uZz5BbmFseXNlciBldCBtb2RpZmllciB0ZXMgcGFnZXM8L3N0cm9uZz4gKGF2ZWMgdmFsaWRhdGlvbik8L2xpPlxuICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICBgO1xuICAgICAgXG4gICAgICBzaG93VG9hc3QoJ0hpc3RvcmlxdWUgZWZmYWNcdTAwRTknKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tBSV0gQ2xlYXIgaGlzdG9yeSBmYWlsZWQ6JywgZXJyKTtcbiAgICAgIHNob3dUb2FzdCgnRXJyZXVyIGxvcnMgZGUgbFxcJ2VmZmFjZW1lbnQnKTtcbiAgICB9XG4gIH1cblxuICAvLyBQcm9tcHRzIHJhcGlkZXNcbiAgY29uc3QgcXVpY2tQcm9tcHRzID0ge1xuICAgIGNvbG9yczogJ1N1Z2dcdTAwRThyZS1tb2kgMyBwYWxldHRlcyBkZSBjb3VsZXVycyBoYXJtb25pZXVzZXMgcG91ciBtb24gc2l0ZS4gUG91ciBjaGFxdWUgcGFsZXR0ZSwgZG9ubmUgbGVzIGNvdWxldXJzIFRhaWx3aW5kOiBwcmltYXJ5LCBzZWNvbmRhcnksIGFjY2VudCwgZXQgYmFja2dyb3VuZC4nLFxuICAgIGhlcm86ICdHXHUwMEU5blx1MDBFOHJlIHVuIGJsb2MgSGVybyBlbiBKU09OIGF2ZWMgdW4gdGl0cmUgYWNjcm9jaGV1ciwgdW4gc291cy10aXRyZSBlbmdhZ2VhbnQgZXQgdW4gQ1RBLicsXG4gICAgc2VvOiAnQW5hbHlzZSBtb24gc2l0ZSBldCBzdWdnXHUwMEU4cmUgZGVzIGFtXHUwMEU5bGlvcmF0aW9ucyBTRU8gcG91ciBsZSBtZXRhIHRpdGxlIGV0IGxhIG1ldGEgZGVzY3JpcHRpb24gZGUgbWEgcGFnZSBkXFwnYWNjdWVpbC4nLFxuICAgIGxhbmRpbmc6ICdHXHUwMEU5blx1MDBFOHJlIGxhIHN0cnVjdHVyZSBKU09OIGRcXCd1bmUgbGFuZGluZyBwYWdlIGNvbXBsXHUwMEU4dGUgYXZlYzogSGVybywgMyBzZWN0aW9ucyBkZSBjb250ZW51LCBldCB1biBDVEEgZmluYWwuJyxcbiAgICBhbmFseXplOiAnQW5hbHlzZSBsZSBjb250ZW51IGRlIHRvdXRlcyBtZXMgcGFnZXMgZXQgcHJvcG9zZSBkZXMgYW1cdTAwRTlsaW9yYXRpb25zIGNvbmNyXHUwMEU4dGVzLiBQb3VyIGNoYXF1ZSBzdWdnZXN0aW9uIGRcXCdhbVx1MDBFOWxpb3JhdGlvbiBkZSB0ZXh0ZSBvdSBkZSBzdHJ1Y3R1cmUsIHV0aWxpc2UgbGUgZm9ybWF0IHByb3Bvc2UtZWRpdCBwb3VyIHF1ZSBqZSBwdWlzc2UgdmFsaWRlci4nLFxuICAgIGltcHJvdmVIb21lOiAnQW5hbHlzZSBtYSBwYWdlIGRcXCdhY2N1ZWlsIGV0IHByb3Bvc2UgdW5lIGFtXHUwMEU5bGlvcmF0aW9uIGR1IHRpdHJlIG91IGR1IEhlcm8gcG91ciBsZSByZW5kcmUgcGx1cyBpbXBhY3RhbnQuIFV0aWxpc2UgbGUgZm9ybWF0IHByb3Bvc2UtZWRpdC4nXG4gIH07XG5cbiAgLy8gRXZlbnQgbGlzdGVuZXJzXG4gIGFpQ2hhdFRvZ2dsZT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgaWYgKGFpQ2hhdE9wZW4pIHtcbiAgICAgIGNsb3NlQUlDaGF0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9wZW5BSUNoYXQoKTtcbiAgICB9XG4gIH0pO1xuXG4gIGFpQ2hhdENsb3NlPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlQUlDaGF0KTtcbiAgYWlDaGF0T3ZlcmxheT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZUFJQ2hhdCk7XG5cbiAgYWlDaGF0Q2xlYXI/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGlmIChjb25maXJtKCdFZmZhY2VyIHRvdXQgbFxcJ2hpc3RvcmlxdWUgZGUgY29udmVyc2F0aW9uID8nKSkge1xuICAgICAgY2xlYXJBSUhpc3RvcnkoKTtcbiAgICB9XG4gIH0pO1xuXG4gIGFpQ2hhdEZvcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBhaUNoYXRJbnB1dD8udmFsdWU/LnRyaW0oKTtcbiAgICBpZiAobWVzc2FnZSkge1xuICAgICAgYWlDaGF0SW5wdXQudmFsdWUgPSAnJztcbiAgICAgIHNlbmRBSU1lc3NhZ2UobWVzc2FnZSk7XG4gICAgfVxuICB9KTtcblxuICBhaVF1aWNrQnV0dG9ucy5mb3JFYWNoKGJ0biA9PiB7XG4gICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgYWN0aW9uID0gYnRuLmRhdGFzZXQuYWlRdWljaztcbiAgICAgIGNvbnN0IHByb21wdCA9IHF1aWNrUHJvbXB0c1thY3Rpb25dO1xuICAgICAgaWYgKHByb21wdCkge1xuICAgICAgICBzZW5kQUlNZXNzYWdlKHByb21wdCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8vIEZlcm1lciBhdmVjIEVzY2FwZVxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGUpID0+IHtcbiAgICBpZiAoZS5rZXkgPT09ICdFc2NhcGUnICYmIGFpQ2hhdE9wZW4pIHtcbiAgICAgIGNsb3NlQUlD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QUVBL0MsSUFBQSxNQUFBQSxHQUFZLGlCQUFpQixTQUFXcmUsR0FBTSxDQWhzT2hELElBQUEvWSxFQWlzT0krWSxFQUFFLGVBQWUsRUFDakIsSUFBTTNTLEdBQVVwRyxFQUFBcTNCLElBQUEsWUFBQUEsR0FBYSxRQUFiLFlBQUFyM0IsRUFBb0IsT0FDaENvRyxJQUNGaXhCLEdBQVksTUFBUSxHQUNwQjZCLEdBQWM5eUIsQ0FBTyxFQUV6QixHQUVBcXhCLEdBQWUsUUFBUXhYLEdBQU8sQ0FDNUJBLEVBQUksaUJBQWlCLFFBQVMsSUFBTSxDQUNsQyxJQUFNME0sRUFBUzFNLEVBQUksUUFBUSxRQUNyQm9hLEVBQVNELEdBQWF6TixDQUFNLEVBQzlCME4sR0FDRm5CLEdBQWNtQixDQUFNLENBRXhCLENBQUMsQ0FDSCxDQUFDLEVBR0QsU0FBUyxpQkFBaUIsVUFBWXRoQixHQUFNLENBQ3RDQSxFQUFFLE1BQVEsVUFBWTJlLElBQ3hCTSxHQUFZLENBRWhCLENBQUMsQ0FDSCxDQUFDIiwKICAibmFtZXMiOiBbIl9hIiwgImxvZ291dEJ1dHRvbiIsICJlcnIiLCAic2lkZWJhciIsICJzaWRlYmFyT3ZlcmxheSIsICJzaWRlYmFyVG9nZ2xlcyIsICJzaWRlYmFyQ2xvc2VCdXR0b25zIiwgImJvZHkiLCAic2lkZWJhck9wZW4iLCAiYXBwbHlTaWRlYmFyU3RhdGUiLCAib3BlblNpZGViYXIiLCAiY2xvc2VTaWRlYmFyIiwgImJ1dHRvbiIsICJldmVudCIsICJBQ1RJVkVfU0lURV9LRVkiLCAiQUNUSVZFX1NJVEVfTkFNRV9LRVkiLCAic3RvcmVkU2l0ZSIsICJyYXdTbHVnIiwgImVuc3VyZUxlYWRpbmdTbGFzaCIsICJzdHJpcExlYWRpbmdTbGFzaCIsICJzaXRlQ2FyZHMiLCAic2l0ZVNlbGVjdEJ1dHRvbnMiLCAic2l0ZU5hbWVMYWJlbCIsICJ3b3Jrc3BhY2VTaXRlTGFiZWwiLCAid29ya3NwYWNlQmFja05hbWUiLCAid29ya3NwYWNlQmFja01vZGFsIiwgIndvcmtzcGFjZUJhY2tCdXR0b25zIiwgIndvcmtzcGFjZUJhY2tDYW5jZWwiLCAid29ya3NwYWNlQmFja0NvbmZpcm0iLCAid29ya3NwYWNlTmF2TGlua3MiLCAic2l0ZVRvYXN0IiwgInNpdGVUb2FzdE1lc3NhZ2UiLCAic2l0ZUNyZWF0ZUJ1dHRvbnMiLCAic2l0ZU1vZGFsIiwgInNpdGVGb3JtIiwgInNpdGVOYW1lSW5wdXQiLCAic2l0ZVNsdWdJbnB1dCIsICJzaXRlU2x1Z0Vycm9yIiwgInNpdGVNb2RhbEVycm9yIiwgInNpdGVNb2RhbENhbmNlbEJ1dHRvbnMiLCAic2l0ZU1vZGFsU3VibWl0QnV0dG9uIiwgIndvcmtzcGFjZUNvbnRleHQiLCAiZ2V0V29ya3NwYWNlQ29udGV4dCIsICJzbHVnTWFudWFsbHlFZGl0ZWQiLCAidG9hc3RUaW1lb3V0SWQiLCAiZm9jdXNhYmxlU2VsZWN0b3IiLCAibW9kYWxTdGFjayIsICJnZXRGb2N1c2FibGVFbGVtZW50cyIsICJtb2RhbCIsICJlbCIsICJoYW5kbGVNb2RhbEtleWRvd24iLCAiY3VycmVudEVudHJ5IiwgIm9uQ2xvc2UiLCAiZm9jdXNhYmxlRWxlbWVudHMiLCAiZmlyc3QiLCAibGFzdCIsICJhY3RpdmF0ZU1vZGFsIiwgImZvY3VzYWJsZSIsICJfYiIsICJkZWFjdGl2YXRlTW9kYWwiLCAiaW5kZXgiLCAiZW50cnkiLCAibW9iaWxlUGFuZWxPdmVybGF5IiwgIm1vYmlsZVBhbmVsTGF5ZXIiLCAibW9iaWxlUGFuZWxzIiwgIm1vYmlsZVBhbmVsTGF5ZXJQbGFjZWhvbGRlciIsICJyaWdodFBhbmVsUGxhY2Vob2xkZXIiLCAibW9iaWxlUGFuZWxUb2dnbGVzIiwgIm1vYmlsZVBhbmVsQ2xvc2VCdXR0b25zIiwgIm1vYmlsZVBhbmVsVHJpZ2dlcnMiLCAiYWN0aXZlTW9iaWxlUGFuZWwiLCAiaXNEZXNrdG9wVmlld3BvcnQiLCAiZW5zdXJlTW9iaWxlUGFuZWxMYXllclBsYWNlbWVudCIsICJ0YXJnZXRQYXJlbnQiLCAiZW5zdXJlUmlnaHRQYW5lbFBsYWNlbWVudCIsICJwYW5lbCIsICJsZWZ0UGFuZWwiLCAiZW5zdXJlTW9iaWxlUGFuZWxQbGFjZW1lbnQiLCAicGFuZWxEZWZhdWx0WiIsICJzaWRlIiwgImNvbXB1dGVkWiIsICJhY3RpdmVQYW5lbFoiLCAibWF4IiwgInZhbHVlIiwgInNldFBhbmVsWlN0YXRlIiwgImlzQWN0aXZlIiwgImFwcGx5UGFuZWxDbGFzc2VzIiwgImNsYXNzZXMiLCAibWV0aG9kIiwgImNscyIsICJzZXRQYW5lbEhpZGRlblN0YXRlIiwgImhpZGRlbiIsICJoaWRkZW5DbGFzc2VzIiwgInZpc2libGVDbGFzc2VzIiwgImNsb3NlTW9iaWxlUGFuZWwiLCAidHJpZ2dlciIsICJvcGVuTW9iaWxlUGFuZWwiLCAiZm9jdXNUYXJnZXQiLCAic3luY01vYmlsZVBhbmVsc1dpdGhWaWV3cG9ydCIsICJzaG93VG9hc3QiLCAibWVzc2FnZSIsICJzbHVnIiwgInRyaW1tZWQiLCAid2l0aG91dExlYWRpbmciLCAicGVyc2lzdFNpdGVTdGF0ZSIsICJuYW1lIiwgIm5vcm1hbGl6ZWRTbHVnIiwgInVwZGF0ZVNpdGVMYWJlbHMiLCAidXBkYXRlV29ya3NwYWNlTmF2TGlua3MiLCAibGluayIsICJ0YWIiLCAic2x1Z1BhdGgiLCAiYXBwbHlBY3RpdmVTaXRlIiwgIm9wdGlvbnMiLCAiYWN0aXZlU2l0ZU5hbWUiLCAiY2FyZCIsICJiYWRnZSIsICJmaW5hbE5hbWUiLCAic2VsZWN0U2l0ZSIsICJyZXNwb25zZSIsICJwYXlsb2FkIiwgImZpbmFsU2x1ZyIsICJzeW5jQWN0aXZlU2l0ZUZyb21TZXJ2ZXIiLCAic2l0ZSIsICJkZWZhdWx0Q2FyZCIsICJ3b3Jrc3BhY2VTbHVnaWZ5IiwgIm5vcm1hbGl6ZVNsdWdWYWx1ZSIsICJiYXNlIiwgIm9wZW5TaXRlTW9kYWwiLCAiY2xvc2VTaXRlTW9kYWwiLCAic2x1Z1ZhbCIsICJuYW1lVmFsIiwgImdldFNsdWdTZXQiLCAibmFtZVZhbHVlIiwgInNsdWdWYWx1ZSIsICJjcmVhdGVkU2l0ZSIsICJjbG9zZVdvcmtzcGFjZUJhY2tNb2RhbCIsICJtYXRjaCIsICJkZXRlY3RXb3Jrc3BhY2VTZWN0aW9uIiwgIm9wZW5Xb3Jrc3BhY2VCYWNrTW9kYWwiLCAiYWN0aXZlU2VjdGlvbiIsICJpbml0RGVzaWduV29ya3NwYWNlIiwgImluaXRDb250ZW50V29ya3NwYWNlIiwgImluaXRNZWRpYVdvcmtzcGFjZSIsICJpbml0RGVwbG95V29ya3NwYWNlIiwgImluaXRTZXR0aW5nc1dvcmtzcGFjZSIsICJwYWdlTGlzdHMiLCAiYWN0aXZlVGl0bGUiLCAiYWN0aXZlU2x1ZyIsICJwcmV2aWV3VGFncyIsICJwcmV2aWV3RnJhbWUiLCAicHJldmlld09wZW5CdXR0b24iLCAicHJldmlld1N0YXR1cyIsICJwcmV2aWV3SGlnaGxpZ2h0T3ZlcmxheSIsICJzZW9Ub2dnbGVCdXR0b24iLCAic2VvUGFuZWwiLCAic2VvQ2xvc2VCdXR0b24iLCAic2VvRm9ybSIsICJzZW9UaXRsZUlucHV0IiwgInNlb0Rlc2NyaXB0aW9uSW5wdXQiLCAic2VvSW5kZXhlZENoZWNrYm94IiwgInNlb0ZlZWRiYWNrIiwgInNlb1NhdmVCdXR0b24iLCAicGFnZUFjY2Vzc2liaWxpdHlUb2dnbGVCdXR0b24iLCAicGFnZUFjY2Vzc2liaWxpdHlQYW5lbCIsICJwYWdlQWNjZXNzaWJpbGl0eUNsb3NlQnV0dG9uIiwgInBhZ2VBY2Nlc3NpYmlsaXR5Rm9ybSIsICJwYWdlQWNjZXNzaWJpbGl0eU5hdkNoZWNrYm94IiwgInBhZ2VBY2Nlc3NpYmlsaXR5TWFpbklucHV0IiwgInBhZ2VBY2Nlc3NpYmlsaXR5RmVlZGJhY2siLCAicGFnZUFjY2Vzc2liaWxpdHlTYXZlQnV0dG9uIiwgInBhZ2VQcm9wc1RvZ2dsZUJ1dHRvbiIsICJwYWdlUHJvcHNQYW5lbCIsICJwYWdlUHJvcHNDbG9zZUJ1dHRvbiIsICJwYWdlUHJvcHNGb3JtIiwgInBhZ2VOYW1lSW5wdXQiLCAicGFnZVRpdGxlSW5wdXQiLCAicGFnZVNsdWdJbnB1dCIsICJwYWdlRGVzY3JpcHRpb25JbnB1dCIsICJwYWdlUHJvcHNGZWVkYmFjayIsICJwYWdlUHJvcHNTYXZlQnV0dG9uIiwgImJsb2NrTGlzdCIsICJibG9ja0xpc3RFbXB0eSIsICJibG9ja0NvdW50QmFkZ2UiLCAiYmxvY2tMaWJyYXJ5VG9nZ2xlIiwgImJsb2NrTGlicmFyeSIsICJibG9ja0FkZEJ1dHRvbnMiLCAiYmxvY2tEZWxldGVNb2RhbCIsICJibG9ja0RlbGV0ZUNvbmZpcm0iLCAiYmxvY2tEZWxldGVDYW5jZWwiLCAiYmxvY2tEZXRhaWxFbXB0eSIsICJibG9ja0RldGFpbFN0YXR1cyIsICJibG9ja0VkaXRvciIsICJibG9ja0VkaXRvclRpdGxlIiwgImJsb2NrRWRpdG9yVHlwZSIsICJibG9ja0VkaXRvclVuc3VwcG9ydGVkIiwgImJsb2NrRm9ybSIsICJibG9ja0Zvcm1TZWN0aW9ucyIsICJibG9ja1RhYnMiLCAiYWN0aXZlQmxvY2tUYWIiLCAibGVmdFBhbmVsVGFicyIsICJsZWZ0UGFuZWxCbG9ja3MiLCAibGVmdFBhbmVsUGFnZXMiLCAiYWN0aXZlTGVmdFRhYiIsICJzd2l0Y2hMZWZ0VGFiIiwgInRhYk5hbWUiLCAiYmxvY2tGb3JtQWN0aW9ucyIsICJibG9ja0Zvcm1BdXRvc2F2ZSIsICJzd2l0Y2hCbG9ja1RhYiIsICJjb2xsZWN0aW9uU2VsZWN0IiwgImNvbGxlY3Rpb25TZWxlY3Rpb25JbmZvIiwgImJsb2NrRm9ybUNhbmNlbCIsICJncm91cFByZXZpZXdNb2JpbGUiLCAiZ3JvdXBQcmV2aWV3RGVza3RvcCIsICJjb2xsZWN0aW9uUHJldmlld01vYmlsZSIsICJjb2xsZWN0aW9uUHJldmlld0Rlc2t0b3AiLCAiYmxvY2tUeXBlRm9ybXMiLCAiYmxvY2tUeXBlQWxpYXNlcyIsICJhbmltYXRpb25GaWVsZE1hcCIsICJjb25maWciLCAidXBkYXRlR3JvdXBNaW5pUHJldmlldyIsICJtb2JpbGVWYWx1ZSIsICJkZXNrdG9wVmFsdWUiLCAicmVuZGVyQm94ZXMiLCAiY291bnQiLCAidXBkYXRlQ29sbGVjdGlvbk1pbmlQcmV2aWV3IiwgImZldGNoUGFnZXNGcm9tU2VydmVyIiwgInBhZ2VzQXBpQmFzZSIsICJjcmVhdGVQYWdlT25TZXJ2ZXIiLCAidGl0bGUiLCAic2F2ZVBhZ2VUb1NlcnZlciIsICJwYWdlIiwgInNhdmVkIiwgIm5vcm1hbGl6ZWQiLCAibm9ybWFsaXplUGFnZURhdGEiLCAicGFnZXMiLCAiY3VycmVudFBhZ2UiLCAibG9hZFBhZ2VzRnJvbVNlcnZlciIsICJhY3RpdmVQYWdlSWQiLCAicmVuZGVyUGFnZUxpc3RzIiwgInJlbmRlckJsb2NrTGlzdCIsICJsb2FkZWRQYWdlcyIsICJnZXRMb2FkaW5nUHJldmlld0h0bWwiLCAiZ2V0U3RvcmVkQWN0aXZlUGFnZSIsICJzZXRBY3RpdmVQYWdlIiwgIm5vcm1hbGl6ZVR5cGUiLCAiZ2V0QmxvY2tGb3JtQ29uZmlnIiwgImJsb2NrIiwgInR5cGVLZXkiLCAiYWxpYXMiLCAicG9wdWxhdGVCbG9ja0Zvcm0iLCAiX2MiLCAiX2QiLCAiX2UiLCAic2VjdGlvbiIsICJkZXNpcmVkVmFsdWUiLCAidXBkYXRlQ29sbGVjdGlvblNlbGVjdE9wdGlvbnMiLCAic2V0dGluZ0tleSIsICJmaWVsZE5hbWUiLCAiaW5wdXQiLCAiZmFsbGJhY2siLCAic2VsZWN0IiwgInNlbGVjdGVkT3B0aW9uIiwgImNvbG9yIiwgImNvbG9yUHJldmlldyIsICJjb2xsZWN0Rm9ybVZhbHVlcyIsICJ2YWx1ZXMiLCAicGFyc2VkIiwgInVwZGF0ZVByZXZpZXdTdGF0dXMiLCAidGV4dCIsICJzZXJpYWxpemVQYWdlRm9yUHJldmlldyIsICJzZXJpYWxpemVCbG9jayIsICJkZWJvdW5jZSIsICJmbiIsICJkZWxheSIsICJ0aW1lb3V0SWQiLCAiYXJncyIsICJhdXRvU2F2ZUFwcGVhcmFuY2UiLCAiYWN0aXZlQmxvY2tJZCIsICJnZXRBY3RpdmVCbG9jayIsICJ1cGRhdGVkQmxvY2tzIiwgInVwZGF0ZWRTZXR0aW5ncyIsICJuZXh0UGFnZSIsICJwIiwgInVwZGF0ZVByZXZpZXdCbG9ja0xpdmUiLCAiYmxvY2tJZCIsICJzZXR0aW5ncyIsICJkZWJvdW5jZWRSZWZyZXNoUHJldmlldyIsICJyZWZyZXNoUHJldmlldyIsICJoYW5kbGVBcHBlYXJhbmNlQ2hhbmdlIiwgInByZXZpZXdTaXRlU2x1ZyIsICJzZXJpYWxpemVkUGFnZXMiLCAicHJldmlld1JlYWR5IiwgInByZXZpZXdSZXF1ZXN0Q29udHJvbGxlciIsICJjb250cm9sbGVyIiwgImRhdGEiLCAibGF0ZXN0UHJldmlld0h0bWwiLCAiZXJyb3IiLCAiaGFuZGxlQmxvY2tGb3JtU3VibWl0IiwgImFsdFZhbHVlIiwgInVwZGF0ZWRCbG9jayIsICJ1cGRhdGVDdXJyZW50UGFnZUJsb2NrcyIsICJkcmF3ZXIiLCAiZHJhd2VyQmFja2Ryb3AiLCAiZHJhd2VyT3BlbkJ1dHRvbnMiLCAiZHJhd2VyQ2xvc2VCdXR0b25zIiwgImFkZFBhZ2VUb2dnbGUiLCAiYWRkUGFnZUZvcm0iLCAiYWRkUGFnZU5hbWUiLCAiYWRkUGFnZVRpdGxlIiwgImFkZFBhZ2VTbHVnIiwgImFkZFBhZ2VDYW5jZWwiLCAiYWRkUGFnZUVycm9yIiwgImFkZFBhZ2VTdWJtaXRCdXR0b24iLCAiaW1wb3J0VG9nZ2xlIiwgImltcG9ydE1vZGFsIiwgImltcG9ydENsb3NlQnV0dG9ucyIsICJpbXBvcnREcm9wem9uZSIsICJpbXBvcnRGaWxlSW5wdXQiLCAiaW1wb3J0RmlsZUxpc3QiLCAiaW1wb3J0RmlsZU5hbWVzIiwgImltcG9ydFJlc3VsdHMiLCAiaW1wb3J0UmVzdWx0c0NvbnRlbnQiLCAiaW1wb3J0U3VibWl0IiwgImltcG9ydFRhYnMiLCAiaW1wb3J0UGFuZWxzIiwgImNvcHlUZW1wbGF0ZUJ0biIsICJ0ZW1wbGF0ZUpzb24iLCAiaW1wb3J0UGFzdGVJbnB1dCIsICJwYXN0ZUZvcm1hdEJ0biIsICJwYXN0ZUVycm9yIiwgImltcG9ydFNlbGVjdGVkRmlsZXMiLCAiYWN0aXZlSW1wb3J0VGFiIiwgImRlbGV0ZVBhZ2VNb2RhbCIsICJkZWxldGVQYWdlTmFtZSIsICJkZWxldGVQYWdlQ2FuY2VsIiwgImRlbGV0ZVBhZ2VDb25maXJtIiwgInBhZ2VUb0RlbGV0ZSIsICJzaXRlS2V5IiwgInNpdGVTbHVnVmFsdWUiLCAic2FmZVNpdGVTbHVnIiwgImNvbGxlY3Rpb25zQXBpQmFzZSIsICJzdG9yYWdlS2V5cyIsICJjcmVhdGVCbG9jayIsICJpZCIsICJsYWJlbCIsICJ0eXBlIiwgInN0YXR1cyIsICJkZXNjcmlwdGlvbiIsICJwcm9wcyIsICJibG9ja0xpYnJhcnlEZWZpbml0aW9ucyIsICJwZXJzaXN0QWN0aXZlUGFnZSIsICJwYWdlSWQiLCAic3RvcmVkIiwgImZvcm1hdEJsb2NrQ291bnQiLCAibm9ybWFsaXplUGFnZVNsdWciLCAiZ2VuZXJhdGVCbG9ja0lkIiwgImtleSIsICJjcmVhdGVJbml0aWFsQmxvY2tzIiwgInNldEFjdGl2ZUxhYmVscyIsICJyZW5kZXJQcmV2aWV3TWV0YSIsICJ0YWciLCAiZ2V0U3RhdHVzQmFkZ2VDbGFzc2VzIiwgInJlbmRlckJsb2NrRGV0YWlscyIsICJhcHBseVByZXZpZXdIaWdobGlnaHQiLCAiZG9jIiwgIm5vZGUiLCAiY3JlYXRlQmxvY2tJdGVtRWxlbWVudCIsICJpc05lc3RlZCIsICJwYXJlbnRJZCIsICJibG9ja1R5cGUiLCAiaXNHcm91cCIsICJpdGVtIiwgImFjY2VudCIsICJjb250ZW50IiwgImhhbmRsZSIsICJ0ZXh0V3JhcHBlciIsICJtZXRhIiwgInR5cGVCYWRnZSIsICJzdGF0dXNCYWRnZSIsICJjaGlsZENvdW50IiwgImNoaWxkQmFkZ2UiLCAiZGlzcGxheUxhYmVsIiwgImNvbGxlY3Rpb25OYW1lIiwgImRlc2lnbkNvbGxlY3Rpb25zIiwgImluZm8iLCAiYWN0aW9ucyIsICJtb3ZlQnV0dG9ucyIsICJtb3ZlVXAiLCAibW92ZUNoaWxkQmxvY2tCeU9mZnNldCIsICJtb3ZlQmxvY2tCeU9mZnNldCIsICJtb3ZlRG93biIsICJkZWxldGVCdXR0b24iLCAicmVtb3ZlQ2hpbGRGcm9tR3JvdXAiLCAib3BlbkJsb2NrRGVsZXRlTW9kYWwiLCAic2V0QWN0aXZlQmxvY2siLCAiY3JlYXRlR3JvdXBEcm9wWm9uZSIsICJwYXJlbnRCbG9jayIsICJkcm9wWm9uZSIsICJlIiwgIm1vdmVCbG9ja1RvR3JvdXAiLCAib3BlbkFkZEJsb2NrVG9Hcm91cE1vZGFsIiwgImJsb2NrcyIsICJjaGlsZCIsICJjaGlsZEl0ZW0iLCAiZ3JvdXBJZCIsICJibG9ja0luZGV4IiwgImIiLCAiZ3JvdXBCbG9jayIsICJtb3ZlZEJsb2NrIiwgImNoaWxkSWQiLCAiY2hpbGRJbmRleCIsICJjIiwgImdyb3VwSW5kZXgiLCAib2Zmc2V0IiwgImN1cnJlbnRJbmRleCIsICJuZXdJbmRleCIsICJwZW5kaW5nR3JvdXBJZEZvck5ld0Jsb2NrIiwgIm9wZW5EZWxldGVQYWdlTW9kYWwiLCAiY2xvc2VEZWxldGVQYWdlTW9kYWwiLCAiZXhlY3V0ZURlbGV0ZVBhZ2UiLCAicGFnZVRpdGxlIiwgInJlc3VsdCIsICJhY3RpdmVJZCIsICJsaXN0IiwgImRpc3BsYXlOYW1lIiwgIm5hdkJhZGdlIiwgImlzRGVza3RvcERyYXdlciIsICJjbG9zZURyYXdlciIsICJkZWxldGVCdG4iLCAiYWN0aXZlQmxvY2tQYXJlbnRJZCIsICJ0YXJnZXRCbG9jayIsICJmb3VuZCIsICJuZXdCbG9ja3MiLCAidXBkYXRlQ3VycmVudFBhZ2VTdGF0ZSIsICJpc0Rlc2t0b3BSZW9yZGVyIiwgIm1vdmVkIiwgInJlb3JkZXJCbG9ja3MiLCAic291cmNlSWQiLCAidGFyZ2V0SWQiLCAiZnJvbUluZGV4IiwgInRvSW5kZXgiLCAicmVvcmRlckJsb2Nrc1dpdGhQb3NpdGlvbiIsICJwb3NpdGlvbiIsICJpbnNlcnRJbmRleCIsICJ1cGRhdGVEcmFnZ2FibGVTdGF0ZSIsICJkcmFnZ2FibGUiLCAiY2xvc2VCbG9ja0xpYnJhcnkiLCAiYmxvY2tMaWJyYXJ5T3BlbiIsICJvcGVuQmxvY2tMaWJyYXJ5IiwgInRvZ2dsZUJsb2NrTGlicmFyeSIsICJhZGRCbG9ja0Zyb21MaWJyYXJ5IiwgImRlZmluaXRpb24iLCAibmV3QmxvY2siLCAiZmlyc3RDb2xsZWN0aW9uSWQiLCAibmV4dEJsb2NrcyIsICJkZWxldGVCbG9ja0J5SWQiLCAibmV4dEFjdGl2ZSIsICJjbG9zZUJsb2NrRGVsZXRlTW9kYWwiLCAicGVuZGluZ0RlbGV0ZUJsb2NrSWQiLCAidGFyZ2V0IiwgInN5bmNQYWdlQWNjZXNzaWJpbGl0eUZpZWxkcyIsICJzeW5jRHJhd2VyU3RhdGUiLCAib3BlbkRyYXdlciIsICJvcGVuQWRkUGFnZUZvcm0iLCAicGFnZVNsdWdNYW51YWxseUVkaXRlZCIsICJjbG9zZUFkZFBhZ2VGb3JtIiwgInN5bmNTbHVnRnJvbU5hbWUiLCAibm9ybWFsaXplQmxvY2tEYXRhIiwgImxvYWREZXNpZ25Db2xsZWN0aW9ucyIsICJjdXJyZW50VmFsdWUiLCAic3luY0NvbGxlY3Rpb25TZWxlY3Rpb25JbmZvIiwgImNvbGxlY3Rpb25JZCIsICJjb2xsZWN0aW9uIiwgImRldGFpbHMiLCAic2VsZWN0ZWRWYWx1ZSIsICJvcHRpb24iLCAiZmFsbGJhY2tPcHRpb24iLCAiY3JlYXRlZFBhZ2UiLCAicmVzZXRQYXN0ZVN0YXRlIiwgInZhbGlkYXRlUGFzdGVKc29uIiwgImZvcm1hdFBhc3RlSnNvbiIsICJ1cGRhdGVJbXBvcnRTdWJtaXRTdGF0ZSIsICJvcGVuSW1wb3J0TW9kYWwiLCAidXBkYXRlSW1wb3J0RmlsZUxpc3QiLCAidCIsICJjbG9zZUltcG9ydE1vZGFsIiwgImYiLCAiaGFuZGxlSW1wb3J0RmlsZXMiLCAiZmlsZXMiLCAianNvbkZpbGVzIiwgImV4ZWN1dGVJbXBvcnQiLCAiX2YiLCAiX2ciLCAiX2giLCAiX2kiLCAiX2oiLCAiX2siLCAicGFnZXNEYXRhIiwgInBhcnNlRXJyIiwgImVycm9yTGluZSIsICJlcnJvckRldGFpbCIsICJwb3MiLCAibGluZXMiLCAibGluZU51bSIsICJjb2xOdW0iLCAiZmlsZUVycm9ycyIsICJmaWxlIiwgImh0bWwiLCAiaGFzRGF0YSIsICJoYXNTdWNjZXNzIiwgImhhc0Vycm9ycyIsICJjb2xsZWN0aW9uc01zZyIsICJidG4iLCAidGFyZ2V0UGFuZWwiLCAicHJldmlld1dpbmRvdyIsICJ0b2dnbGVTZW9QYW5lbCIsICJzaG93IiwgInNldFNlb0ZlZWRiYWNrIiwgInRvbmUiLCAiaXNWaXNpYmxlIiwgInNlb0RhdGEiLCAidXBkYXRlZFBhZ2UiLCAidG9nZ2xlUGFnZUFjY2Vzc2liaWxpdHlQYW5lbCIsICJzZXRQYWdlQWNjZXNzaWJpbGl0eUZlZWRiYWNrIiwgImFjY2Vzc2liaWxpdHlEYXRhIiwgInRvZ2dsZVBhZ2VQcm9wc1BhbmVsIiwgInNldFBhZ2VQcm9wc0ZlZWRiYWNrIiwgIm5ld05hbWUiLCAibmV3VGl0bGUiLCAibmV3U2x1ZyIsICJuZXdEZXNjcmlwdGlvbiIsICJoYW5kbGVCbG9ja0RyYWdTdGFydCIsICJkcmFnU291cmNlSWQiLCAiY2xlYXJEcmFnSW5kaWNhdG9ycyIsICJoYW5kbGVCbG9ja0RyYWdFbmQiLCAiaGFuZGxlQmxvY2tEcmFnT3ZlciIsICJyZWN0IiwgIm1pZFkiLCAiaXNBYm92ZSIsICJoYW5kbGVCbG9ja0RyYWdMZWF2ZSIsICJyZWxhdGVkVGFyZ2V0IiwgImhhbmRsZUJsb2NrRHJvcCIsICJzb3VyY2UiLCAiZHJvcFBvc2l0aW9uIiwgImFjdGl2ZVBhZ2UiLCAiY29sbGVjdGlvbkxpc3QiLCAiY29udGVudFZpZXdzIiwgImNvbnRlbnRTZWN0aW9uQnV0dG9ucyIsICJjb250ZW50U2VjdGlvblRyaWdnZXJzIiwgImhlYWRlclN0YXR1c0luZGljYXRvciIsICJmb290ZXJTdGF0dXNJbmRpY2F0b3IiLCAiY29sbGVjdGlvbkNvdW50RWwiLCAiaXRlbVBhbmVsIiwgIml0ZW1QYW5lbENsb3NlQnV0dG9ucyIsICJjb2xsZWN0aW9uRW1wdHlTdGF0ZSIsICJjb2xsZWN0aW9uSXRlbXNFbXB0eSIsICJpdGVtVGFibGVXcmFwcGVyIiwgIml0ZW1UYWJsZUJvZHkiLCAiY29sbGVjdGlvblRpdGxlIiwgImNvbGxlY3Rpb25EZXNjcmlwdGlvbiIsICJpdGVtQWRkQnV0dG9uIiwgIml0ZW1EZXRhaWxFbXB0eSIsICJpdGVtRm9ybSIsICJpdGVtRm9ybUZpZWxkcyIsICJpdGVtU3RhdHVzQmFkZ2UiLCAiaXRlbURlbGV0ZUJ1dHRvbiIsICJpdGVtRGVsZXRlTW9kYWwiLCAiaXRlbURlbGV0ZUNhbmNlbCIsICJpdGVtRGVsZXRlQ29uZmlybSIsICJpdGVtRm9ybUNhbmNlbCIsICJpdGVtRm9ybVNhdmUiLCAic3RhdHVzQmFkZ2VCYXNlQ2xhc3MiLCAic2V0SXRlbVBhbmVsSGlkZGVuU3RhdGUiLCAic3luY0l0ZW1QYW5lbFdpdGhWaWV3cG9ydCIsICJoaWRlSXRlbUZvcm0iLCAiaGVhZGVyRmllbGRzIiwgImhlYWRlck5hdkxpc3QiLCAiaGVhZGVyTmF2QWRkQnRuIiwgImhlYWRlclNhdmVCdG4iLCAiaGVhZGVyTmF2SXRlbVRlbXBsYXRlIiwgImhlYWRlclBhZ2VzTGlzdCIsICJzaXRlUGFnZXMiLCAic2VsZWN0ZWROYXZQYWdlcyIsICJmb290ZXJGaWVsZHMiLCAiZm9vdGVyQ29sdW1uc0xpc3QiLCAiZm9vdGVyQ29sdW1uQWRkQnRuIiwgImZvb3RlclNhdmVCdG4iLCAiZm9vdGVyQ29sdW1uVGVtcGxhdGUiLCAiZm9vdGVyTGlua1RlbXBsYXRlIiwgImFjdGl2ZUNvbnRlbnRTZWN0aW9uIiwgImhlYWRlckRhdGEiLCAiZm9vdGVyRGF0YSIsICJzYWZlU2l0ZVNsdWdGb3JMYXlvdXQiLCAibGF5b3V0QXBpQmFzZSIsICJzaG93Q29udGVudFZpZXciLCAidmlld05hbWUiLCAibG9hZFNpdGVQYWdlc0ZvckhlYWRlciIsICJyZW5kZXJQYWdlQ2hlY2tib3hlcyIsICJub3JtYWxpemVOYXZQYWdlVXJsIiwgInJhdyIsICJsb3dlciIsICJ3aXRob3V0U2xhc2hlcyIsICJjbGVhbmVkSW50ZXJuYWwiLCAiY2xlYW5lZCIsICJub3JtYWxpemVPcHRpb25hbE5hdlVybCIsICJkZWZhdWx0VmFsdWUiLCAicGFnZVNsdWciLCAicGFnZURpc3BsYXlOYW1lIiwgInBhZ2VVcmwiLCAiaXNTZWxlY3RlZCIsICJuYXYiLCAiY2hlY2tib3giLCAiY29sbGVjdEhlYWRlckRhdGEiLCAidXJsIiwgInBvcHVsYXRlSGVhZGVyRm9ybSIsICJhZGRGb290ZXJMaW5rIiwgImNvbnRhaW5lciIsICJjbG9uZSIsICJsYWJlbElucHV0IiwgInVybElucHV0IiwgInJlbW92ZUJ0biIsICJhZGRGb290ZXJDb2x1bW4iLCAibGlua3MiLCAiY29sdW1uIiwgInRpdGxlSW5wdXQiLCAibGlua3NDb250YWluZXIiLCAiYWRkTGlua0J0biIsICJjb2xsZWN0Rm9vdGVyRGF0YSIsICJfbCIsICJfbSIsICJfbiIsICJfbyIsICJfcCIsICJfcSIsICJfciIsICJfcyIsICJfdCIsICJjb2x1bW5zIiwgImNvbCIsICJsaW5rRWwiLCAicG9wdWxhdGVGb290ZXJGb3JtIiwgInYiLCAic2FmZVNpdGVTbHVnVmFsdWUiLCAiY29sbGVjdGlvbnMiLCAiY29sbGVjdGlvbkl0ZW1zIiwgImFjdGl2ZUNvbGxlY3Rpb25JZCIsICJhY3RpdmVJdGVtSWQiLCAiaXNDcmVhdGluZ0l0ZW0iLCAiaXRlbVNsdWdNYW51YWxseUVkaXRlZCIsICJwZW5kaW5nRGVsZXRlSXRlbUlkIiwgIm5vcm1hbGl6ZUl0ZW1TbHVnSW5wdXQiLCAiY2xlYW5lZFNlZ21lbnRzIiwgInNlZ21lbnQiLCAiZm9ybWF0SXRlbURhdGUiLCAiZGF0ZSIsICJ1cGRhdGVDb2xsZWN0aW9uSGVhZGVyIiwgInVwZGF0ZUl0ZW1zRW1wdHlNZXNzYWdlIiwgInNob3dJdGVtRm9ybSIsICJzeW5jQWRkQnV0dG9uU3RhdGUiLCAic3luY0l0ZW1TdGF0dXNCYWRnZSIsICJjb2xvckNsYXNzIiwgInJlbmRlckNvbGxlY3Rpb25MaXN0IiwgInNldEFjdGl2ZUNvbGxlY3Rpb24iLCAicmVuZGVySXRlbVRhYmxlIiwgInJvdyIsICJzdGF0dXNDbGFzc2VzIiwgImhhbmRsZVNlbGVjdCIsICJzZWxlY3RJdGVtIiwgIml0ZW1JZCIsICJwb3B1bGF0ZUl0ZW1Gb3JtIiwgInByZXBhcmVOZXdJdGVtRm9ybSIsICJjb2xsZWN0SXRlbUZvcm1WYWx1ZXMiLCAic2x1Z0lucHV0IiwgInN1bW1hcnkiLCAiaW1hZ2UiLCAiY3RhVGV4dCIsICJjdGFVcmwiLCAiY3RhIiwgInNldEZvcm1TYXZpbmdTdGF0ZSIsICJpc1NhdmluZyIsICJmZXRjaENvbGxlY3Rpb25JdGVtcyIsICJjcmVhdGVDb2xsZWN0aW9uSXRlbSIsICJ1cGRhdGVDb2xsZWN0aW9uSXRlbSIsICJkZWxldGVDb2xsZWN0aW9uSXRlbSIsICJsb2FkQ29sbGVjdGlvbnMiLCAiZGVmYXVsdElkIiwgInNhdmVkSXRlbSIsICJjbG9zZURlbGV0ZU1vZGFsIiwgIm9wZW5EZWxldGVNb2RhbCIsICJmb3JtIiwgInByb3RvY29sU2VsZWN0IiwgImhvc3RJbnB1dCIsICJwb3J0SW5wdXQiLCAidXNlcklucHV0IiwgInBhc3N3b3JkSW5wdXQiLCAic2hvd1Bhc3N3b3JkVG9nZ2xlIiwgInJlbW90ZVBhdGhJbnB1dCIsICJmZWVkYmFjayIsICJzYXZlQnV0dG9uIiwgInRlc3RCdXR0b24iLCAiZGVwbG95QnV0dG9uIiwgImhpc3RvcnlMaXN0IiwgImxvZ0JveCIsICJkZXBsb3lBcGlCYXNlIiwgImRlcGxveVJ1bkFwaSIsICJkZXBsb3lMb2dBcGkiLCAiaGFzUGFzc3dvcmQiLCAiYnVzeUFjdGlvbiIsICJzYW5pdGl6ZVJlbW90ZVBhdGgiLCAic2V0RmVlZGJhY2siLCAiYmFzZUNsYXNzIiwgInRvbmVDbGFzcyIsICJpY29uIiwgInNldEJ1c3kiLCAiYWN0aW9uIiwgImRpc2FibGUiLCAic3Bpbm5lciIsICJwb3B1bGF0ZUZvcm0iLCAicmVuZGVySGlzdG9yeSIsICJlbnRyaWVzIiwgImxpIiwgImR1cmF0aW9uIiwgInJlbmRlckxvZ3MiLCAiZmV0Y2hIaXN0b3J5IiwgImZldGNoQ29uZmlnIiwgImJ1aWxkUGF5bG9hZCIsICJwd2QiLCAiZXJyb3JQYXlsb2FkIiwgImRvd25sb2FkQnV0dG9uIiwgImRvd25sb2FkRmVlZGJhY2siLCAiZG93bmxvYWRBcGkiLCAic2V0RG93bmxvYWRGZWVkYmFjayIsICJvcmlnaW5hbENvbnRlbnQiLCAiZXJyb3JEYXRhIiwgImJsb2IiLCAiYSIsICJ0YWJCdXR0b25zIiwgInRhYlBhbmVscyIsICJzaXRlRmVlZGJhY2siLCAidGhlbWVGb3JtIiwgInN3aXRjaFRhYiIsICJzdWJtaXQiLCAiZm9ybURhdGEiLCAiY3VycmVudFBhc3N3b3JkIiwgIm5ld1Bhc3N3b3JkIiwgImNvbmZpcm1QYXNzd29yZCIsICJuYW1lSW5wdXQiLCAibGFuZ1NlbGVjdCIsICJ0YWdsaW5lSW5wdXQiLCAic2V0U2l0ZUZlZWRiYWNrIiwgInNpdGVDb25maWdBcGkiLCAibG9hZFNpdGVDb25maWciLCAidGhlbWVBcGkiLCAiY29sb3JTZWxlY3RzIiwgImhlYWRpbmdTZWxlY3QiLCAiYm9keVNlbGVjdCIsICJyYWRpdXNTbWFsbCIsICJyYWRpdXNNZWRpdW0iLCAicmFkaXVzTGFyZ2UiLCAicHJldmlldyIsICJ0aGVtZUZlZWRiYWNrIiwgImFwcGx5QnV0dG9uIiwgInRhaWx3aW5kSHVlcyIsICJ0YWlsd2luZFNoYWRlcyIsICJ0YWlsd2luZFRva2VucyIsICJoIiwgInMiLCAiZmlsbENvbG9yT3B0aW9ucyIsICJzZWwiLCAidG9rZW4iLCAic2V0VGhlbWVGZWVkYmFjayIsICJzeW5jUHJldmlldyIsICJ0b2tlblRvSGV4IiwgInNoYWRlTnVtIiwgImZhY3RvciIsICJ0b1JnYiIsICJoZXgiLCAiciIsICJnIiwgIm1peCIsICJzZXRDb2xvckZpZWxkcyIsICJ1cGRhdGVDb2xvclNlbGVjdFByZXZpZXciLCAiaW5pdENvbG9yUHJldmlld3MiLCAibG9hZFRoZW1lIiwgInNlb0NvbmZpZ0Zvcm0iLCAiaW5kZXhBbGxDaGVja2JveCIsICJzZW9Db25maWdGZWVkYmFjayIsICJsb2FkU2VvQ29uZmlnIiwgImluZGV4QWxsIiwgImN1cnJlbnRSZXMiLCAiY3VycmVudENvbmZpZyIsICJhbmFseXRpY3NGb3JtIiwgImhlYWRUZXh0YXJlYSIsICJib2R5VGV4dGFyZWEiLCAiYW5hbHl0aWNzRmVlZGJhY2siLCAiYW5hbHl0aWNzU2F2ZUJ1dHRvbiIsICJzZXRBbmFseXRpY3NGZWVkYmFjayIsICJsb2FkQW5hbHl0aWNzQ29uZmlnIiwgImFjY2Vzc2liaWxpdHlGb3JtIiwgImFuaW1hdGlvbnNUb2dnbGUiLCAiY29udHJhc3RUb2dnbGUiLCAiYWNjZXNzaWJpbGl0eUZlZWRiYWNrIiwgImFjY2Vzc2liaWxpdHlTYXZlQnV0dG9uIiwgInNldEFjY2Vzc2liaWxpdHlGZWVkYmFjayIsICJsb2FkQWNjZXNzaWJpbGl0eUNvbmZpZyIsICJhaUNvbmZpZ0Zvcm0iLCAiYXBpS2V5SW5wdXQiLCAibW9kZWxTZWxlY3QiLCAicHJvamVjdFByb21wdFRleHRhcmVhIiwgImVuYWJsZWRDaGVja2JveCIsICJhaUZlZWRiYWNrIiwgImFpU2F2ZUJ1dHRvbiIsICJhaUNvbmZpZ0FwaSIsICJzZXRBSUZlZWRiYWNrIiwgImxvYWRBSUNvbmZpZyIsICJhcGlLZXlWYWx1ZSIsICJncmlkIiwgImVtcHR5U3RhdGUiLCAiY291bnRCYWRnZSIsICJmaWx0ZXJUeXBlIiwgImRldGFpbEVtcHR5IiwgImRldGFpbFBhbmVsIiwgImRldGFpbFByZXZpZXciLCAiZGV0YWlsTmFtZSIsICJkZXRhaWxUeXBlIiwgImRldGFpbFNpemUiLCAiZGV0YWlsUGF0aCIsICJkZXRhaWxVc2VkIiwgImRldGFpbEFsdElucHV0IiwgImRldGFpbFNhdmVCdXR0b24iLCAiZGV0YWlsRGVsZXRlQnV0dG9uIiwgImRlbGV0ZU1vZGFsIiwgImRlbGV0ZUNhbmNlbEJ1dHRvbiIsICJkZWxldGVDb25maXJtQnV0dG9uIiwgInVwbG9hZE9wZW5CdXR0b24iLCAiZmlsZUlucHV0IiwgInVwbG9hZFN0YXR1cyIsICJtZWRpYUFwaUJhc2UiLCAibWVkaWFJdGVtcyIsICJmaWx0ZXJlZEl0ZW1zIiwgImFjdGl2ZU1lZGlhSWQiLCAiaGlnaGxpZ2h0TWVkaWFJZCIsICJwZW5kaW5nVXBsb2FkRmlsZSIsICJ1cGxvYWRJblByb2dyZXNzIiwgImRldGFpbERpcnR5IiwgInVwbG9hZE1vZGUiLCAidXBsb2FkUHJldmlld1VybCIsICJkZXJpdmVHcm91cFR5cGUiLCAiZmlsZW5hbWUiLCAiaXNJbWFnZVR5cGUiLCAiZm9ybWF0VHlwZUxhYmVsIiwgImV4dCIsICJmb3JtYXRGaWxlU2l6ZSIsICJzaXplIiwgInJlc2V0RGV0YWlsUGFuZWwiLCAiY2xlYXJVcGxvYWRTdGF0ZSIsICJ1cGRhdGVEZXRhaWxBY3Rpb25zIiwgInVwZGF0ZUNvdW50QmFkZ2UiLCAicmVuZGVyR3JpZCIsICJzZWxlY3RNZWRpYSIsICJyZW5kZXJVc2VkSW4iLCAic2F2aW5nIiwgIm1lZGlhSWQiLCAic2hvd1VwbG9hZFByZXZpZXciLCAiYXBwbHlGaWx0ZXJzIiwgInR5cGVGaWx0ZXIiLCAibG9hZE1lZGlhIiwgImhhbmRsZUZpbGVTZWxlY3Rpb24iLCAicmVhZEZpbGVBc0Jhc2U2NCIsICJyZXNvbHZlIiwgInJlamVjdCIsICJyZWFkZXIiLCAiYmFzZTY0IiwgInVwbG9hZFNlbGVjdGVkTWVkaWEiLCAiZGVsZXRlQWN0aXZlTWVkaWEiLCAiZGlzYWJsZUJ1dHRvbnMiLCAiZW5hYmxlQnV0dG9ucyIsICJ1cGRhdGVkIiwgImFpQ2hhdFRvZ2dsZSIsICJhaUNoYXRQYW5lbCIsICJhaUNoYXRPdmVybGF5IiwgImFpQ2hhdENsb3NlIiwgImFpQ2hhdENsZWFyIiwgImFpQ2hhdEZvcm0iLCAiYWlDaGF0SW5wdXQiLCAiYWlDaGF0TWVzc2FnZXMiLCAiYWlDaGF0U3RhdHVzIiwgImFpQ2hhdE5vQXBpIiwgImFpUXVpY2tCdXR0b25zIiwgImFpQ2hhdE9wZW4iLCAiYWlJc0xvYWRpbmciLCAiYWlDb25maWdDaGVja2VkIiwgImFpSGFzQXBpS2V5IiwgIm9wZW5BSUNoYXQiLCAiY2hlY2tBSUNvbmZpZyIsICJjbG9zZUFJQ2hhdCIsICJzaXRlU2x1ZyIsICJsb2FkQUlDaGF0SGlzdG9yeSIsICJ3ZWxjb21lTXNnIiwgIm1zZyIsICJhcHBlbmRBSU1lc3NhZ2UiLCAicm9sZSIsICJtc2dEaXYiLCAiZXNjYXBlSHRtbCIsICJmb3JtYXR0ZWRDb250ZW50IiwgImZvcm1hdEFJUmVzcG9uc2UiLCAic2hvd0FJTG9hZGluZyIsICJsb2FkaW5nRGl2IiwgImhpZGVBSUxvYWRpbmciLCAiZm9ybWF0dGVkIiwgImxhbmciLCAiY29kZSIsICJkaXYiLCAic2VuZEFJTWVzc2FnZSIsICJhcHBlbmRFZGl0UHJvcG9zYWwiLCAiYXBwZW5kVGhlbWVQcm9wb3NhbCIsICJwcm9wb3NhbCIsICJwcm9wb3NhbERpdiIsICJjaGFuZ2VzSHRtbCIsICJoYW5kbGVBcHBseUVkaXQiLCAiaGFuZGxlUmVqZWN0RWRpdCIsICJjb2xvcnNIdG1sIiwgImNvbG9ycyIsICJnZXRUYWlsd2luZENvbG9yQ3NzIiwgInR5cG9IdG1sIiwgInR5cG8iLCAiaGFuZGxlQXBwbHlUaGVtZSIsICJjb2xvck5hbWUiLCAicHJvcG9zYWxJZCIsICJwcm9wb3NhbENhcmQiLCAiY2xlYXJBSUhpc3RvcnkiLCAicXVpY2tQcm9tcHRzIiwgInByb21wdCJdCn0K
