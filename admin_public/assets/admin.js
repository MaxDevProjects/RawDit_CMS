(()=>{document.addEventListener("DOMContentLoaded",()=>{console.log("[admin] Atelier charg\xE9");let s=document.querySelector("[data-logout]");s&&s.addEventListener("click",async()=>{s.disabled=!0;try{await fetch("/api/logout",{method:"POST",headers:{"Content-Type":"application/json"}})}catch(t){console.error("[admin] Impossible de se d\xE9connecter",t)}finally{window.location.href="/admin/login.html"}});let d=document.querySelector("[data-admin-sidebar]"),e=document.querySelector("[data-admin-sidebar-overlay]"),c=document.querySelectorAll("[data-admin-sidebar-toggle]"),l=document.querySelectorAll("[data-admin-sidebar-close]"),i=document.body,o=!1,n=()=>{if(!d)return;if(window.matchMedia("(min-width: 1024px)").matches){d.classList.remove("hidden"),e==null||e.classList.add("hidden"),i.classList.remove("overflow-hidden");return}o?(d.classList.remove("hidden"),e==null||e.classList.remove("hidden"),i.classList.add("overflow-hidden")):(d.classList.add("hidden"),e==null||e.classList.add("hidden"),i.classList.remove("overflow-hidden"))},r=()=>{o=!0,n()},a=()=>{o=!1,n()};d&&c.length>0&&(c.forEach(t=>{t.addEventListener("click",r)}),l.forEach(t=>{t.addEventListener("click",a)}),e==null||e.addEventListener("click",a),window.addEventListener("resize",n),window.addEventListener("keydown",t=>{t.key==="Escape"&&o&&a()}),n())});})();
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vY29yZS9zY3JpcHRzL2FkbWluLmpzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuICBjb25zb2xlLmxvZygnW2FkbWluXSBBdGVsaWVyIGNoYXJnXHUwMEU5Jyk7XG4gIGNvbnN0IGxvZ291dEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWxvZ291dF0nKTtcbiAgaWYgKGxvZ291dEJ1dHRvbikge1xuICAgIGxvZ291dEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGxvZ291dEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBmZXRjaCgnL2FwaS9sb2dvdXQnLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbYWRtaW5dIEltcG9zc2libGUgZGUgc2UgZFx1MDBFOWNvbm5lY3RlcicsIGVycik7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvYWRtaW4vbG9naW4uaHRtbCc7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBjb25zdCBzaWRlYmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRtaW4tc2lkZWJhcl0nKTtcbiAgY29uc3Qgc2lkZWJhck92ZXJsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZG1pbi1zaWRlYmFyLW92ZXJsYXldJyk7XG4gIGNvbnN0IHNpZGViYXJUb2dnbGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYWRtaW4tc2lkZWJhci10b2dnbGVdJyk7XG4gIGNvbnN0IHNpZGViYXJDbG9zZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1hZG1pbi1zaWRlYmFyLWNsb3NlXScpO1xuICBjb25zdCBib2R5ID0gZG9jdW1lbnQuYm9keTtcbiAgbGV0IHNpZGViYXJPcGVuID0gZmFsc2U7XG5cbiAgY29uc3QgYXBwbHlTaWRlYmFyU3RhdGUgPSAoKSA9PiB7XG4gICAgaWYgKCFzaWRlYmFyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGlzRGVza3RvcCA9IHdpbmRvdy5tYXRjaE1lZGlhKCcobWluLXdpZHRoOiAxMDI0cHgpJykubWF0Y2hlcztcbiAgICBpZiAoaXNEZXNrdG9wKSB7XG4gICAgICBzaWRlYmFyLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgc2lkZWJhck92ZXJsYXk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHNpZGViYXJPcGVuKSB7XG4gICAgICBzaWRlYmFyLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgc2lkZWJhck92ZXJsYXk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgYm9keS5jbGFzc0xpc3QuYWRkKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2lkZWJhci5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIHNpZGViYXJPdmVybGF5Py5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnb3ZlcmZsb3ctaGlkZGVuJyk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IG9wZW5TaWRlYmFyID0gKCkgPT4ge1xuICAgIHNpZGViYXJPcGVuID0gdHJ1ZTtcbiAgICBhcHBseVNpZGViYXJTdGF0ZSgpO1xuICB9O1xuXG4gIGNvbnN0IGNsb3NlU2lkZWJhciA9ICgpID0+IHtcbiAgICBzaWRlYmFyT3BlbiA9IGZhbHNlO1xuICAgIGFwcGx5U2lkZWJhclN0YXRlKCk7XG4gIH07XG5cbiAgaWYgKHNpZGViYXIgJiYgc2lkZWJhclRvZ2dsZXMubGVuZ3RoID4gMCkge1xuICAgIHNpZGViYXJUb2dnbGVzLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlblNpZGViYXIpO1xuICAgIH0pO1xuICAgIHNpZGViYXJDbG9zZUJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZVNpZGViYXIpO1xuICAgIH0pO1xuICAgIHNpZGViYXJPdmVybGF5Py5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlU2lkZWJhcik7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGFwcGx5U2lkZWJhclN0YXRlKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VzY2FwZScgJiYgc2lkZWJhck9wZW4pIHtcbiAgICAgICAgY2xvc2VTaWRlYmFyKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgYXBwbHlTaWRlYmFyU3RhdGUoKTtcbiAgfVxufSk7XG4iXSwKICAibWFwcGluZ3MiOiAiTUFBQSxTQUFTLGlCQUFpQixtQkFBb0IsSUFBTSxDQUNsRCxRQUFRLElBQUksMkJBQXdCLEVBQ3BDLElBQU1BLEVBQWUsU0FBUyxjQUFjLGVBQWUsRUFDdkRBLEdBQ0ZBLEVBQWEsaUJBQWlCLFFBQVMsU0FBWSxDQUNqREEsRUFBYSxTQUFXLEdBQ3hCLEdBQUksQ0FDRixNQUFNLE1BQU0sY0FBZSxDQUN6QixPQUFRLE9BQ1IsUUFBUyxDQUNQLGVBQWdCLGtCQUNsQixDQUNGLENBQUMsQ0FDSCxPQUFTQyxFQUFLLENBQ1osUUFBUSxNQUFNLDBDQUF3Q0EsQ0FBRyxDQUMzRCxRQUFFLENBQ0EsT0FBTyxTQUFTLEtBQU8sbUJBQ3pCLENBQ0YsQ0FBQyxFQUdILElBQU1DLEVBQVUsU0FBUyxjQUFjLHNCQUFzQixFQUN2REMsRUFBaUIsU0FBUyxjQUFjLDhCQUE4QixFQUN0RUMsRUFBaUIsU0FBUyxpQkFBaUIsNkJBQTZCLEVBQ3hFQyxFQUFzQixTQUFTLGlCQUFpQiw0QkFBNEIsRUFDNUVDLEVBQU8sU0FBUyxLQUNsQkMsRUFBYyxHQUVaQyxFQUFvQixJQUFNLENBQzlCLEdBQUksQ0FBQ04sRUFDSCxPQUdGLEdBRGtCLE9BQU8sV0FBVyxxQkFBcUIsRUFBRSxRQUM1QyxDQUNiQSxFQUFRLFVBQVUsT0FBTyxRQUFRLEVBQ2pDQyxHQUFBLE1BQUFBLEVBQWdCLFVBQVUsSUFBSSxVQUM5QkcsRUFBSyxVQUFVLE9BQU8saUJBQWlCLEVBQ3ZDLE1BQ0YsQ0FDSUMsR0FDRkwsRUFBUSxVQUFVLE9BQU8sUUFBUSxFQUNqQ0MsR0FBQSxNQUFBQSxFQUFnQixVQUFVLE9BQU8sVUFDakNHLEVBQUssVUFBVSxJQUFJLGlCQUFpQixJQUVwQ0osRUFBUSxVQUFVLElBQUksUUFBUSxFQUM5QkMsR0FBQSxNQUFBQSxFQUFnQixVQUFVLElBQUksVUFDOUJHLEVBQUssVUFBVSxPQUFPLGlCQUFpQixFQUUzQyxFQUVNRyxFQUFjLElBQU0sQ0FDeEJGLEVBQWMsR0FDZEMsRUFBa0IsQ0FDcEIsRUFFTUUsRUFBZSxJQUFNLENBQ3pCSCxFQUFjLEdBQ2RDLEVBQWtCLENBQ3BCLEVBRUlOLEdBQVdFLEVBQWUsT0FBUyxJQUNyQ0EsRUFBZSxRQUFTTyxHQUFXLENBQ2pDQSxFQUFPLGlCQUFpQixRQUFTRixDQUFXLENBQzlDLENBQUMsRUFDREosRUFBb0IsUUFBU00sR0FBVyxDQUN0Q0EsRUFBTyxpQkFBaUIsUUFBU0QsQ0FBWSxDQUMvQyxDQUFDLEVBQ0RQLEdBQUEsTUFBQUEsRUFBZ0IsaUJBQWlCLFFBQVNPLEdBQzFDLE9BQU8saUJBQWlCLFNBQVVGLENBQWlCLEVBQ25ELE9BQU8saUJBQWlCLFVBQVlJLEdBQVUsQ0FDeENBLEVBQU0sTUFBUSxVQUFZTCxHQUM1QkcsRUFBYSxDQUVqQixDQUFDLEVBQ0RGLEVBQWtCLEVBRXRCLENBQUMiLAogICJuYW1lcyI6IFsibG9nb3V0QnV0dG9uIiwgImVyciIsICJzaWRlYmFyIiwgInNpZGViYXJPdmVybGF5IiwgInNpZGViYXJUb2dnbGVzIiwgInNpZGViYXJDbG9zZUJ1dHRvbnMiLCAiYm9keSIsICJzaWRlYmFyT3BlbiIsICJhcHBseVNpZGViYXJTdGF0ZSIsICJvcGVuU2lkZWJhciIsICJjbG9zZVNpZGViYXIiLCAiYnV0dG9uIiwgImV2ZW50Il0KfQo=
