(()=>{document.addEventListener("DOMContentLoaded",()=>{console.log("[admin] Atelier charg\xE9");let Qs=document.querySelector("[data-logout]");Qs&&Qs.addEventListener("click",async()=>{Qs.disabled=!0;try{await fetch("/api/logout",{method:"POST",headers:{"Content-Type":"application/json"}})}catch(o){console.error("[admin] Impossible de se d\xE9connecter",o)}finally{window.location.href="/admin/index.html"}});let is=document.querySelector("[data-admin-sidebar]"),mt=document.querySelector("[data-admin-sidebar-overlay]"),Io=document.querySelectorAll("[data-admin-sidebar-toggle]"),an=document.querySelectorAll("[data-admin-sidebar-close]"),eo=document.body,Cs=!1,qs=()=>{if(!is)return;if(window.matchMedia("(min-width: 1024px)").matches){is.classList.remove("hidden"),mt==null||mt.classList.add("hidden"),eo.classList.remove("overflow-hidden");return}Cs?(is.classList.remove("hidden"),mt==null||mt.classList.remove("hidden"),eo.classList.add("overflow-hidden")):(is.classList.add("hidden"),mt==null||mt.classList.add("hidden"),eo.classList.remove("overflow-hidden"))},ln=()=>{Cs=!0,qs()},to=()=>{Cs=!1,qs()};is&&Io.length>0&&(Io.forEach(o=>{o.addEventListener("click",ln)}),an.forEach(o=>{o.addEventListener("click",to)}),mt==null||mt.addEventListener("click",to),window.addEventListener("resize",qs),window.addEventListener("keydown",o=>{o.key==="Escape"&&Cs&&to()}),qs());let $o="clower:currentSite",jo="clower:currentSiteName",Y={slug:null,name:""};(()=>{try{Y.slug=window.localStorage.getItem($o),Y.name=window.localStorage.getItem(jo)||""}catch{Y.slug=null,Y.name=""}})();let so=document.querySelectorAll("[data-site-card]"),cn=document.querySelectorAll("[data-site-select]"),ls=document.querySelector("[data-current-site-name]"),Bo=document.querySelector("[data-workspace-site-name]"),Fo=document.querySelector("[data-workspace-back-name]"),St=document.querySelector("[data-workspace-back-modal]"),dn=document.querySelectorAll("[data-workspace-back]"),un=document.querySelectorAll("[data-workspace-back-cancel]"),oo=document.querySelector("[data-workspace-back-confirm]"),mn=document.querySelectorAll("[data-workspace-tab]"),no=document.querySelector("[data-site-toast]"),Po=document.querySelector("[data-site-toast-message]"),pn=document.querySelectorAll("[data-site-create]"),nt=document.querySelector("[data-site-modal]"),Ye=document.querySelector("[data-site-form]"),ze=Ye==null?void 0:Ye.querySelector('input[name="siteName"]'),Fe=Ye==null?void 0:Ye.querySelector('input[name="siteSlug"]'),Ve=document.querySelector("[data-site-slug-error]"),Je=document.querySelector("[data-site-modal-error]"),fn=document.querySelectorAll("[data-site-modal-cancel]"),_t=document.querySelector("[data-site-modal-submit]"),z=Sn(),As=!1,ro=null,gn='a[href], button:not([disabled]), textarea, input, select, [tabindex]:not([tabindex="-1"])',Yt=[],Mo=o=>Array.from(o.querySelectorAll(gn)).filter(a=>!a.hasAttribute("disabled")&&!a.getAttribute("aria-hidden")),hn=o=>{if(!Yt.length)return;let a=Yt[Yt.length-1],{modal:p,onClose:b}=a;if(o.key==="Escape"){o.preventDefault(),b==null||b();return}if(o.key!=="Tab")return;let h=Mo(p);if(!h.length)return;let x=h[0],R=h[h.length-1];o.shiftKey?document.activeElement===x&&(o.preventDefault(),R.focus()):document.activeElement===R&&(o.preventDefault(),x.focus())};document.addEventListener("keydown",hn);let cs=(o,a)=>{if(!o)return;Yt.push({modal:o,onClose:a,trigger:document.activeElement instanceof HTMLElement?document.activeElement:null});let p=Mo(o);window.setTimeout(()=>{var b,h;(h=(b=p[0]||o).focus)==null||h.call(b)},0)},ds=o=>{var b,h;let a=Yt.findIndex(x=>x.modal===o);if(a===-1)return;let[p]=Yt.splice(a,1);(h=(b=p.trigger)==null?void 0:b.focus)==null||h.call(b)},$=o=>{!no||!Po||(Po.textContent=o,no.classList.remove("hidden"),ro&&clearTimeout(ro),ro=setTimeout(()=>{no.classList.add("hidden")},2500))};function It(o){return o?o.startsWith("/")?o:`/${o}`:""}function Ce(o){return(o==null?void 0:o.replace(/^\//,""))||""}let Ts=(o,a)=>{let p=o?It(o):null;try{p&&(window.localStorage.setItem($o,p),Y.slug=p),typeof a=="string"&&a.length>0&&(window.localStorage.setItem(jo,a),Y.name=a)}catch{Y.slug=p||Y.slug,Y.name=a||Y.name}},No=o=>{ls&&o&&(ls.textContent=o),Bo&&o&&(Bo.textContent=o),Fo&&o&&(Fo.textContent=o)},ao=o=>{mn.forEach(a=>{let p=a.dataset.workspaceTab;if(!p)return;if(!o){a.href="#",a.classList.add("pointer-events-none","opacity-50","text-slate-400"),a.setAttribute("aria-disabled","true");return}let b=encodeURIComponent(Ce(o));a.href=`/admin/site/${b}/${p}`,a.classList.remove("pointer-events-none","opacity-50","text-slate-400"),a.removeAttribute("aria-disabled")})},Is=(o,a={})=>{if(!o)return;let p=It(o),b=a.siteName||Y.name||(ls==null?void 0:ls.dataset.defaultSiteName)||"";so.forEach(x=>{let W=It(x.dataset.siteCard||"")===p,U=x.querySelector("[data-site-active-badge]");W?(x.classList.add("border-[#9C6BFF]","ring-2","ring-[#9C6BFF]","shadow-md"),x.classList.remove("border-slate-200"),U==null||U.classList.remove("hidden"),b=x.dataset.siteName||b):(x.classList.remove("border-[#9C6BFF]","ring-2","ring-[#9C6BFF]","shadow-md"),x.classList.add("border-slate-200"),U==null||U.classList.add("hidden"))}),a.persist!==!1&&Ts(p,a.siteName||b);let h=a.siteName||b;No(h),ao(p)},yn=async(o,a)=>{let p=It(o);try{let b=await fetch("/api/sites/select",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({slug:p})});if(!b.ok){let U=await b.json().catch(()=>({}));$(U.message||"Impossible de s\xE9lectionner ce site.");return}let h=await b.json().catch(()=>({})),x=It(h.slug||p),R=h.name||a;Ts(x,R),Is(x,{siteName:R,persist:!1});let W=encodeURIComponent(Ce(x));window.location.href=`/admin/site/${W}/design`}catch(b){console.error("[admin] Impossible de s\xE9lectionner le site",b),$("Erreur inattendue lors de la s\xE9lection.")}},vn=async()=>{try{let o=await fetch("/api/sites/current",{credentials:"same-origin"});if(!o.ok){o.status===404&&z&&(window.location.href="/admin/sites");return}let a=await o.json(),p=It(a.slug);Ts(p,a.name),Is(p,{siteName:a.name,persist:!1})}catch(o){console.warn("[admin] Impossible de r\xE9cup\xE9rer le site actif",o)}};(()=>{if(Y.slug){Is(Y.slug,{siteName:Y.name,persist:!1});return}let o=document.querySelector('[data-site-card][data-site-default="true"]')||so[0];o&&Is(o.dataset.siteCard,{siteName:o.dataset.siteName||"",persist:!1})})(),vn(),z?ao(z.slugValue):Y.slug&&ao(Y.slug),cn.forEach(o=>{o.addEventListener("click",()=>{if(o.disabled)return;let a=o.dataset.siteSelect,p=o.dataset.siteSelectName||"Ce site";a&&(o.disabled=!0,yn(a,p).finally(()=>{o.disabled=!1}))})});let zt=o=>(o||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),bn=o=>{let a=zt(o||"");return a?`/${a}`:""},xn=()=>{nt&&(nt.classList.remove("hidden"),nt.classList.add("flex"),As=!1,Ye==null||Ye.reset(),Ve&&(Ve.textContent=""),Je&&(Je.textContent=""),Fe&&ze&&(Fe.value=zt(ze.value)),cs(nt,us),window.setTimeout(()=>{ze==null||ze.focus()},0))},us=()=>{nt&&(nt.classList.add("hidden"),nt.classList.remove("flex"),As=!1,Ye==null||Ye.reset(),Ve&&(Ve.textContent=""),Je&&(Je.textContent=""),ds(nt))};pn.forEach(o=>{o.addEventListener("click",xn)}),fn.forEach(o=>{o.addEventListener("click",us)}),nt==null||nt.addEventListener("click",o=>{o.target===nt&&us()}),ze==null||ze.addEventListener("input",()=>{Fe&&((!As||Fe.value.trim().length===0)&&(Fe.value=zt(ze.value)),Ve&&(Ve.textContent=""),Je&&(Je.textContent=""))}),Fe==null||Fe.addEventListener("focus",()=>{let o=(Fe==null?void 0:Fe.value)||"",a=(ze==null?void 0:ze.value)||"";!o.trim()&&a.trim()&&(Fe.value=zt(a))}),Fe==null||Fe.addEventListener("input",()=>{As=!0,Ve&&(Ve.textContent=""),Je&&(Je.textContent="")});let wn=()=>new Set(Array.from(so).map(o=>It(o.dataset.siteCard||"")));Ye==null||Ye.addEventListener("submit",async o=>{if(o.preventDefault(),console.log("[admin] Form submit - siteNameInput:",ze,"siteSlugInput:",Fe),!ze||!Fe){console.log("[admin] Missing inputs, aborting");return}let a=(ze.value||"").trim(),p=(Fe.value||"").trim();console.log("[admin] nameValue:",a,"slugValue:",p),!p&&a&&(p=zt(a),Fe.value=p,console.log("[admin] Auto-generated slug:",p));let b=bn(p);if(console.log("[admin] normalizedSlug:",b),!a){console.log("[admin] Name validation failed"),Je&&(Je.textContent="Le nom du site est requis."),ze.focus();return}if(!b){console.log("[admin] Slug validation failed"),Ve&&(Ve.textContent="Le slug ne peut pas \xEAtre vide ou contenir uniquement des caract\xE8res sp\xE9ciaux."),Fe.focus();return}if(wn().has(b)){Ve&&(Ve.textContent="Ce slug est d\xE9j\xE0 utilis\xE9.");return}Ve&&(Ve.textContent=""),Je&&(Je.textContent=""),_t&&(_t.disabled=!0,_t.textContent="Cr\xE9ation...");try{let x=await fetch("/api/sites",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a,slug:b})});if(!x.ok){let te=await x.json().catch(()=>({})),f=te.message||"Impossible de cr\xE9er ce site.";Je&&(Je.textContent=f),te.field==="slug"&&Ve&&(Ve.textContent=f);return}let R=await x.json(),W=It((R==null?void 0:R.slug)||b),U=(R==null?void 0:R.name)||a;Ts(W,U),us();let oe=encodeURIComponent(Ce(W));window.location.href=`/admin/site/${oe}/design`}catch(x){console.error("[admin] Impossible de cr\xE9er le site",x),Je&&(Je.textContent="Erreur inattendue. R\xE9essaie dans un instant.")}finally{_t&&(_t.disabled=!1,_t.textContent="Cr\xE9er")}}),window.addEventListener("keydown",o=>{o.key==="Escape"&&(nt&&!nt.classList.contains("hidden")&&us(),St&&!St.classList.contains("hidden")&&$s(),blockDeleteModal&&!blockDeleteModal.classList.contains("hidden")&&closeBlockDeleteModal(),blockLibraryOpen&&closeBlockLibrary())});function Sn(){let o=window.location.pathname.match(/^\/admin\/site\/([^/]+)(?:\/([^/]+))?/);return o?{slugPart:decodeURIComponent(o[1]),slugValue:It(decodeURIComponent(o[1])),section:o[2]||"design"}:null}function Ln(){return document.querySelector("[data-page-list]")?"design":document.querySelector("[data-collection-list]")?"content":document.querySelector("[data-media-grid]")?"media":document.querySelector("[data-deploy-form]")?"deploy":null}function kn(){if(!St){window.location.href="/admin/sites";return}St.classList.remove("hidden"),St.classList.add("flex"),cs(St,$s)}function $s(){St&&(St.classList.add("hidden"),St.classList.remove("flex"),ds(St))}dn.forEach(o=>{o.addEventListener("click",kn)}),un.forEach(o=>{o.addEventListener("click",$s)}),oo==null||oo.addEventListener("click",()=>{$s(),window.location.href="/admin/sites"});let ms=(z==null?void 0:z.section)||Ln();ms==="design"&&En(),ms==="content"&&Cn(),ms==="media"&&Tn(),ms==="deploy"&&qn(),ms==="settings"&&An(),z&&Y.name&&No(Y.name);function En(){let o=document.querySelectorAll("[data-page-list]");if(o.length===0)return;let a=document.querySelector("[data-active-page-title]"),p=document.querySelector("[data-active-page-slug]"),b=document.querySelector("[data-page-preview-tags]"),h=document.querySelector("[data-page-preview-frame]"),x=document.querySelector("[data-preview-open]"),R=document.querySelector("[data-preview-status]"),W=document.querySelector("[data-preview-highlight]"),U=document.querySelector("[data-seo-toggle]"),oe=document.querySelector("[data-seo-panel]"),te=document.querySelector("[data-seo-close]"),f=document.querySelector("[data-seo-form]"),E=document.querySelector("[data-seo-title]"),C=document.querySelector("[data-seo-description]"),L=document.querySelector("[data-seo-indexed]"),P=document.querySelector("[data-seo-feedback]"),M=document.querySelector("[data-seo-save]"),N=document.querySelector("[data-page-accessibility-toggle]"),H=document.querySelector("[data-page-accessibility-panel]"),d=document.querySelector("[data-page-accessibility-close]"),q=document.querySelector("[data-page-accessibility-form]"),k=document.querySelector("[data-page-accessibility-nav]"),T=document.querySelector("[data-page-accessibility-main]"),ee=document.querySelector("[data-page-accessibility-feedback]"),K=document.querySelector("[data-page-accessibility-save]"),X=document.querySelector("[data-page-props-toggle]"),ge=document.querySelector("[data-page-props-panel]"),ue=document.querySelector("[data-page-props-close]"),Ie=document.querySelector("[data-page-props-form]"),me=document.querySelector("[data-page-name]"),Le=document.querySelector("[data-page-title-input]"),qe=document.querySelector("[data-page-slug-input]"),D=document.querySelector("[data-page-description]"),v=document.querySelector("[data-page-props-feedback]"),g=document.querySelector("[data-page-props-save]"),S=document.querySelector("[data-blocks-list]"),Z=document.querySelector("[data-blocks-empty]"),ne=document.querySelector("[data-block-count]"),pe=document.querySelector("[data-block-library-toggle]"),he=document.querySelector("[data-block-library]"),Qe=document.querySelectorAll("[data-block-add]"),le=document.querySelector("[data-block-delete-modal]"),et=document.querySelector("[data-block-delete-confirm]"),fe=document.querySelector("[data-block-delete-cancel]"),re=document.querySelector("[data-block-detail-empty]"),Ae=document.querySelector("[data-block-detail-status]"),$e=document.querySelector("[data-block-editor]"),$t=document.querySelector("[data-block-editor-block-name]"),jt=document.querySelector("[data-block-editor-block-type]"),ye=document.querySelector("[data-block-editor-unsupported]"),A=document.querySelector("[data-block-form]"),ce=A?Array.from(A.querySelectorAll("[data-editor-section]")):[],i=document.querySelectorAll("[data-block-tab]"),I="content",V=document.querySelectorAll("[data-left-tab]"),J=document.querySelector('[data-left-panel="blocks"]'),kt=document.querySelector('[data-left-panel="pages"]'),bt="blocks",ps=e=>{bt=e,V.forEach(t=>{let s=t.dataset.leftTab===e;t.setAttribute("aria-selected",s?"true":"false"),s?(t.classList.add("text-[#9C6BFF]"),t.classList.remove("text-slate-500","hover:text-slate-700"),t.classList.add("after:absolute","after:bottom-0","after:left-0","after:right-0","after:h-0.5","after:bg-[#9C6BFF]")):(t.classList.remove("text-[#9C6BFF]"),t.classList.add("text-slate-500","hover:text-slate-700"),t.classList.remove("after:absolute","after:bottom-0","after:left-0","after:right-0","after:h-0.5","after:bg-[#9C6BFF]"))}),J&&J.classList.toggle("hidden",e!=="blocks"),kt&&kt.classList.toggle("hidden",e!=="pages")};V.forEach(e=>{e.addEventListener("click",()=>{ps(e.dataset.leftTab)})});let Vt=document.querySelector("[data-block-form-actions]"),Jt=document.querySelector("[data-block-form-autosave]"),fs=e=>{I=e,i.forEach(s=>{let r=s.dataset.blockTab===e;s.setAttribute("aria-selected",r?"true":"false"),r?(s.classList.add("text-[#9C6BFF]"),s.classList.remove("text-slate-500","hover:text-slate-700"),s.classList.add("after:absolute","after:bottom-0","after:left-0","after:right-0","after:h-0.5","after:bg-[#9C6BFF]")):(s.classList.remove("text-[#9C6BFF]"),s.classList.add("text-slate-500","hover:text-slate-700"),s.classList.remove("after:absolute","after:bottom-0","after:left-0","after:right-0","after:h-0.5","after:bg-[#9C6BFF]"))});let t=A==null?void 0:A.querySelector("[data-editor-section]:not(.hidden)");t&&t.querySelectorAll("[data-block-panel]").forEach(r=>{r.dataset.blockPanel===e?r.classList.remove("hidden"):r.classList.add("hidden")}),Vt&&Jt&&(e==="content"?(Vt.classList.remove("hidden"),Jt.classList.add("hidden")):(Vt.classList.add("hidden"),Jt.classList.remove("hidden")))};i.forEach(e=>{e.addEventListener("click",()=>{fs(e.dataset.blockTab)})});let ve=A==null?void 0:A.querySelector('[name="collection-grid-collection"]'),lt=A==null?void 0:A.querySelector("[data-collection-selection-info]"),Pe=document.querySelector("[data-block-form-cancel]"),He=A==null?void 0:A.querySelector("[data-group-preview-mobile]"),Ne=A==null?void 0:A.querySelector("[data-group-preview-desktop]"),rt=A==null?void 0:A.querySelector("[data-collection-preview-mobile]"),Nt=A==null?void 0:A.querySelector("[data-collection-preview-desktop]"),Bt={hero:{section:"hero",labelField:"title",descriptionField:"subtitle",fields:{title:"hero-title",subtitle:"hero-subtitle",ctaLabel:"hero-cta-label",ctaUrl:"hero-cta-url",image:"hero-image",layout:"hero-layout",height:"hero-height",contentAlign:"hero-content-align",horizontalAlign:"hero-horizontal-align",textAlign:"hero-text-align",overlay:"hero-overlay",titleSize:"hero-title-size",bg:"hero-bg",borderRadius:"hero-border-radius",shadow:"hero-shadow"}},paragraphe:{section:"paragraph",labelField:"title",descriptionField:"content",fields:{title:"paragraph-title",content:"paragraph-content",align:"paragraph-align",titleSize:"paragraph-title-size",textSize:"paragraph-text-size",spacing:"paragraph-spacing",bg:"paragraph-bg",borderRadius:"paragraph-border-radius",shadow:"paragraph-shadow"}},image:{section:"image",labelField:"alt",fields:{src:"image-src",alt:"image-alt",showCaption:"image-caption-toggle",caption:"image-caption",rounded:"image-rounded",shadow:"image-shadow",maxWidth:"image-max-width",height:"image-height",objectFit:"image-object-fit",align:"image-align",bg:"image-bg",borderRadius:"image-border-radius"}},groupe:{section:"group",fields:{columnsMobile:"group-columns-mobile",columnsDesktop:"group-columns-desktop",gap:"group-gap",itemsAlign:"group-items-align",mobileLayout:"group-mobile-layout",bg:"group-bg",borderRadius:"group-border-radius",shadow:"group-shadow"}},collectiongrid:{section:"collection",fields:{collectionId:"collection-grid-collection",limit:"collection-grid-limit",columnsMobile:"collection-columns-mobile",columnsDesktop:"collection-columns-desktop",gap:"collection-gap",itemsAlign:"collection-items-align",cardRounded:"collection-card-rounded",mobileLayout:"collection-mobile-layout",bg:"collection-bg",borderRadius:"collection-border-radius",shadow:"collection-shadow"}},form:{section:"form",labelField:"formTitle",fields:{formTitle:"form-title",actionUrl:"form-action-url",method:"form-method",serviceName:"form-service-name",submitLabel:"form-submit-label",successMessage:"form-success-message",maxWidth:"form-max-width",align:"form-align",buttonRounded:"form-button-rounded",spacing:"form-spacing",bg:"form-bg",borderRadius:"form-border-radius",shadow:"form-shadow"}},newsletterembed:{section:"newsletter",labelField:"title",fields:{title:"newsletter-title",serviceName:"newsletter-service-name",embedCode:"newsletter-embed-code",maxWidth:"newsletter-max-width",align:"newsletter-align",padding:"newsletter-padding",bg:"newsletter-bg",borderRadius:"newsletter-border-radius",shadow:"newsletter-shadow"}}},gs={texte:"paragraphe",paragraph:"paragraphe",paragraphs:"paragraphe",paragraphes:"paragraphe",text:"paragraphe",hero:"hero",image:"image",groupe:"groupe",group:"groupe",collection:"collectiongrid",collectiongrid:"collectiongrid","collection-grid":"collectiongrid",form:"form",formulaire:"form",contact:"form",newsletterembed:"newsletterembed",newsletter:"newsletterembed",embed:"newsletterembed"},po={animation:"anim-type",animationDelay:"anim-delay",animationDuration:"anim-duration"};Object.values(Bt).forEach(e=>{e.fields={...e.fields,...po}});let Gt=(e,t)=>{if(!He||!Ne)return;let s=r=>Array.from({length:Number(r)||1}).map(()=>'<span class="block h-2 w-full rounded-full bg-slate-300"></span>').join("");He.innerHTML=s(e),Ne.innerHTML=s(t)},Qt=(e,t)=>{if(!rt||!Nt)return;let s=r=>Array.from({length:Number(r)||1}).map(()=>'<span class="block h-2 w-full rounded-full bg-violet-300"></span>').join("");rt.innerHTML=s(e),Nt.innerHTML=s(t)},Ft=async()=>{if(!ht)return[];let e=await fetch(ht,{headers:{Accept:"application/json"}});if(!e.ok)throw new Error("Impossible de charger les pages.");let t=await e.json().catch(()=>[]);return Array.isArray(t)?t:[]},Ps=async({name:e,title:t,slug:s})=>{if(!ht)throw new Error("Site inconnu.");let r=await fetch(ht,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,title:t,slug:s})});if(!r.ok){let l=await r.json().catch(()=>({}));throw new Error(l.message||"Impossible de cr\xE9er la page.")}return r.json().catch(()=>({}))},Et=async e=>{if(!(!ht||!(e!=null&&e.id)))try{let t=await fetch(`${ht}/${encodeURIComponent(e.id)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){let r=await t.json().catch(()=>({}));throw new Error(r.message||"Impossible de sauvegarder la page.")}let s=await t.json().catch(()=>({}));if(s!=null&&s.id){let r=Kt(s);return se=se.map(l=>l.id===r.id?r:l),(u==null?void 0:u.id)===r.id&&(u=r),r}return s}catch(t){console.error("[design] Save page failed",t),$(t.message||"Sauvegarde impossible.")}},hs=async()=>{if(!ht){se=[],Me=null,u=null,Rt(se,Me),yt(null),re==null||re.classList.remove("hidden"),$e==null||$e.classList.add("hidden");return}try{let e=await Ft();if(se=(Array.isArray(e)?e:[]).map(t=>Kt(t)),se.length===0){Me=null,u=null,Rt(se,Me),yt(null),re==null||re.classList.remove("hidden"),$e==null||$e.classList.add("hidden"),h&&(h.srcdoc=Ht());return}Me=Wn(se),wt(Me)}catch(e){console.error("[design] Impossible de charger les pages",e),$("Impossible de charger les pages.")}},Ms=e=>(e||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),Ge=e=>{if(!e)return null;let t=Ms(e.type),s=gs[t]||t;return Bt[s]||null},Ns=e=>{var s,r,l,m,y;if(!A||!$e)return;e&&!e.settings&&(e.settings={});let t=Ge(e);if($t&&($t.textContent=(e==null?void 0:e.label)||"Bloc"),jt&&(jt.textContent=(e==null?void 0:e.type)||"Bloc"),!t){A.classList.add("hidden"),ye==null||ye.classList.remove("hidden"),A.dataset.blockId="";return}if(ye==null||ye.classList.add("hidden"),A.classList.remove("hidden"),A.reset(),A.dataset.blockId=e.id,ce.forEach(B=>{B.dataset.editorSection===t.section?B.classList.remove("hidden"):B.classList.add("hidden")}),fs("content"),t.section==="collection"){let B=e.collectionId||((s=e.settings)==null?void 0:s.collectionId)||"";_s(B)}if(Object.entries(t.fields).forEach(([B,_])=>{var _e,vt,ke;let ie=A.querySelector(`[name="${_}"]`);if(!ie)return;let we=(_e=e.settings)==null?void 0:_e[B];if(ie.type==="checkbox")ie.checked=!!we;else if(ie.type==="number"){let F=(ke=(vt=ie.dataset.default)!=null?vt:ie.defaultValue)!=null?ke:"";ie.value=we!=null?we:F}else ie.tagName,ie.value=we!=null?we:""}),t.section==="group"){let B=((r=A.querySelector('[name="group-columns-mobile"]'))==null?void 0:r.value)||"1",_=((l=A.querySelector('[name="group-columns-desktop"]'))==null?void 0:l.value)||"3";Gt(B,_)}if(t.section==="collection"){let B=((m=A.querySelector('[name="collection-columns-mobile"]'))==null?void 0:m.value)||"1",_=((y=A.querySelector('[name="collection-columns-desktop"]'))==null?void 0:y.value)||"3";Qt(B,_)}A.querySelectorAll("[data-color-select]").forEach(B=>{var _e,vt;let _=B.options[B.selectedIndex],ie=((_e=_==null?void 0:_.dataset)==null?void 0:_e.color)||"#ffffff",we=(vt=B.closest(".relative"))==null?void 0:vt.querySelector("[data-color-preview]");we&&(ie==="transparent"?we.style.background="repeating-conic-gradient(#ccc 0% 25%, white 0% 50%) 50% / 8px 8px":(we.style.backgroundColor=ie,we.style.background=""))})},Dt=e=>{if(!A||!e)return{};let t={};return Object.entries(e.fields).forEach(([s,r])=>{let l=A.querySelector(`[name="${r}"]`);if(l)if(l.type==="checkbox")t[s]=l.checked;else if(l.type==="number"){let m=Number(l.value);t[s]=Number.isFinite(m)?m:0}else l.tagName==="TEXTAREA"?t[s]=l.value||"":l.type==="select-one"?t[s]=l.value:t[s]=l.value||""}),t},Ct=e=>{if(R){if(!e){R.classList.add("hidden");return}R.classList.remove("hidden"),R.textContent=e}},fo=e=>{if(!e)return null;let t=s=>{var r;return{id:s.id,type:s.type,label:s.label,status:s.status,description:s.description,props:s.props||[],settings:s.settings||{},collectionId:s.collectionId||((r=s.settings)==null?void 0:r.collectionId)||"",children:(s.children||[]).map(t)}};return{id:e.id,name:e.name,title:e.title,slug:e.slug,description:e.description||"",badges:[...e.badges||[]],seo:e.seo||{},accessibility:e.accessibility||{},blocks:(e.blocks||[]).map(t)}},Ht=()=>'<!DOCTYPE html><html><body style="font-family:Inter,sans-serif;padding:40px;color:#475569;background:#fff;">Pr\xE9paration de la pr\xE9visualisation\u2026</body></html>',go=(e,t)=>{let s;return(...r)=>{clearTimeout(s),s=setTimeout(()=>e(...r),t)}},Ds=async()=>{if(!u||!Oe)return;let e=ns(),t=Ge(e);if(!e||!t)return;let s=Dt(t),r=(u.blocks||[]).map(m=>{if(m.id!==e.id)return m;let y={...m.settings||{},...s};return{...m,settings:y}}),l={...u,blocks:r};u=l;try{let m=await Et(l);if(m!=null&&m.id){let y=Kt(m);u=y,se=se.map(B=>B.id===y.id?y:B)}}catch(m){console.warn("[design] auto-save appearance failed",m)}},ho=(e,t)=>{!h||!h.contentWindow||h.contentWindow.postMessage({type:"updateBlockStyles",blockId:e,settings:t},"*")},yo=go(()=>{u&&Pt(u)},1500),Hs=(e,t)=>{ho(e,t),Ct("Modification\u2026"),Ds().then(()=>{Ct("Sauvegard\xE9"),setTimeout(()=>Ct("\xC0 jour"),1500)}).catch(()=>Ct("Erreur de sauvegarde")),yo()},Pt=e=>{if(!h||!e)return;let t=(z==null?void 0:z.slugValue)||Y.slug||"",s=se.map(m=>({id:m.id,slug:m.slug,title:m.title,name:m.name,accessibility:m.accessibility})),r={page:fo(e),site:{title:Y.name||"Site",slug:t,pages:s}};Lo=!1,Ct("Actualisation\u2026"),h.srcdoc=Ht(),ks&&ks.abort();let l=new AbortController;ks=l,fetch("/api/preview",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r),signal:l.signal}).then(m=>{if(!m.ok)throw new Error("Preview error");return m.json()}).then(m=>{l.signal.aborted||(So=m.html||"",h.setAttribute("title",`Pr\xE9visualisation de la page ${e.title||""}`.trim()),h.srcdoc=So||Ht(),Ct("\xC0 jour"))}).catch(m=>{l.signal.aborted||(console.error("[preview] Impossible de rendre la page",m),Ct("Erreur preview"),h.srcdoc='<!DOCTYPE html><html><body style="font-family:Inter,sans-serif;padding:40px;color:#be123c;background:#fff;">Erreur lors du rendu de la pr\xE9visualisation.</body></html>')}).finally(()=>{ks===l&&(ks=null)})},es=e=>{var m;if(e.preventDefault(),!u||!Oe)return;let t=ns(),s=Ge(t);if(!t||!s)return;let r=Dt(s);if(s.section==="image"){let y=(r.alt||"").trim();if(r.alt=y,!y){$("Ajoute un texte alternatif pour cette image.","error"),(m=A==null?void 0:A.querySelector('[name="image-alt"]'))==null||m.focus();return}}if(s.section==="collection"){if(!r.collectionId){$("S\xE9lectionnez une collection.");return}r.limit=Math.max(1,Number(r.limit)||1)}let l=(u.blocks||[]).map(y=>{if(y.id!==t.id)return y;let B={...y.settings||{},...r},_={...y,settings:B};return s.labelField&&r[s.labelField]&&(_.label=r[s.labelField]),s.descriptionField&&r[s.descriptionField]&&(_.description=r[s.descriptionField]),s.section==="collection"&&(_.collectionId=r.collectionId,_.settings.collectionId=r.collectionId,_.settings.limit=r.limit),_});rs(l),$("Bloc mis \xE0 jour"),wt(u.id,{preserveBlock:!0})},Mt=document.querySelector("[data-page-drawer]"),tt=document.querySelector("[data-page-drawer-backdrop]"),Us=document.querySelectorAll("[data-page-drawer-open]"),Rs=document.querySelectorAll("[data-page-drawer-close]"),n=document.querySelector("[data-add-page-toggle]"),c=document.querySelector("[data-add-page-form]"),w=document.querySelector("[data-add-page-name]"),j=document.querySelector("[data-add-page-title]"),O=document.querySelector("[data-add-page-slug]"),ae=document.querySelector("[data-add-page-cancel]"),G=document.querySelector("[data-add-page-error]"),Q=c==null?void 0:c.querySelector('[type="submit"]'),je=document.querySelector("[data-import-pages-toggle]"),be=document.querySelector("[data-import-modal]"),We=document.querySelectorAll("[data-import-modal-close]"),xe=document.querySelector("[data-import-dropzone]"),Ue=document.querySelector("[data-import-file-input]"),Re=document.querySelector("[data-import-file-list]"),xt=document.querySelector("[data-import-file-names]"),Ee=document.querySelector("[data-import-results]"),Te=document.querySelector("[data-import-results-content]"),Ke=document.querySelector("[data-import-submit]"),ts=document.querySelectorAll("[data-import-tab]"),ys=document.querySelectorAll("[data-import-panel]"),ss=document.querySelector("[data-copy-template]"),vs=document.querySelector("[data-template-json]"),Ze=document.querySelector("[data-import-paste-json]"),Wt=document.querySelector("[data-format-json]"),ct=document.querySelector("[data-import-paste-error]"),ft=[],qt="upload",st=document.querySelector("[data-delete-page-modal]"),bs=document.querySelector("[data-delete-page-name]"),os=document.querySelector("[data-delete-page-cancel]"),gt=document.querySelector("[data-delete-page-confirm]"),Ut=null,Os=Ce((z==null?void 0:z.slugValue)||Y.slug||"default")||"default",Vn=(z==null?void 0:z.slugValue)||Y.slug||"",zs=Ce(Vn)||"",ht=zs?`/api/sites/${encodeURIComponent(zs)}/pages`:null,Oo=zs?`/api/sites/${encodeURIComponent(zs)}/collections`:null,zo={active:`clower:activePage:${Os}`},vo=(e,t,s,r,l,m=[],y={})=>{let B={id:e,label:t,type:s,status:r,description:l,props:m,settings:{...y}};return B.settings.collectionId&&(B.collectionId=B.settings.collectionId),B},Jn={hero:{type:"Hero",label:"Hero de page",description:"Section pleine largeur avec CTA principal.",status:"Brouillon",props:[{label:"CTA",value:"D\xE9couvrir"},{label:"Hauteur",value:"80vh"}],settings:{title:"Titre du hero",subtitle:"",ctaLabel:"D\xE9couvrir",ctaUrl:"#",image:"",align:"center"}},paragraph:{type:"Paragraphe",label:"Bloc \xE9ditorial",description:"Paragraphe libre pour raconter votre histoire.",status:"Brouillon",props:[{label:"Longueur",value:"150 mots"}],settings:{title:"Titre du paragraphe",content:"",align:"left"}},image:{type:"Image",label:"Bloc image",description:"Visuel seul avec l\xE9gende optionnelle.",status:"Brouillon",props:[{label:"Ratio",value:"16:9"},{label:"L\xE9gende",value:"Inactive"}],settings:{src:"",alt:"",showCaption:!1,caption:""}},group:{type:"Groupe",label:"Groupe de sections",description:"Conteneur pour imbriquer plusieurs sous-blocs.",status:"Brouillon",props:[{label:"Disposition",value:"Verticale"}],settings:{layout:"grid",columnsMobile:"1",columnsDesktop:"3",mobileLayout:"stack"}},collectiongrid:{type:"CollectionGrid",label:"Grille de contenus",description:"Affiche automatiquement les items d\u2019une collection.",status:"Brouillon",settings:{collectionId:"",limit:6,mobileLayout:"stack"}},form:{type:"Form",label:"Formulaire de contact",description:"Formulaire avec envoi vers un service externe.",status:"Brouillon",settings:{formTitle:"Contactez-nous",actionUrl:"",method:"POST",serviceName:"",submitLabel:"Envoyer",successMessage:"Merci pour votre message !"}},newsletterembed:{type:"NewsletterEmbed",label:"Newsletter / Embed",description:"Int\xE9gration d'un formulaire newsletter externe (Brevo, Mailchimp\u2026).",status:"Brouillon",settings:{title:"Restez inform\xE9",serviceName:"",embedCode:""}}},Gn=e=>{try{window.localStorage.setItem(zo.active,e)}catch{}},Wn=e=>{var t;try{let s=window.localStorage.getItem(zo.active);if(s&&e.some(r=>r.id===s))return s}catch{}return((t=e[0])==null?void 0:t.id)||null},Kn=e=>!e||e<=0?"0 bloc":e===1?"1 bloc":`${e} blocs`,Vo=e=>{if(!e||e==="/")return"/";let t=zt(e.replace(/^\//,""));return t?`/${t}`:"/"},bo=(e="page",t="block")=>`${e}-${t}-${Date.now().toString(36)}-${Math.floor(Math.random()*1e3)}`,Cr=(e,t)=>[vo(bo(e,"intro"),"Introduction","Paragraphe","Brouillon",`Paragraphe introductif pour "${t}".`,[{label:"Longueur",value:"2 paragraphes"}],{title:`Introduction \xE0 ${t}`,content:"Ajoutez votre premier paragraphe de pr\xE9sentation.",align:"left"}),vo(bo(e,"content"),"Zone de contenu","Groupe","Brouillon","Section principale \xE0 composer avec textes et visuels.",[{label:"Colonnes",value:"Auto"}],{layout:"grid",columnsMobile:"1",columnsDesktop:"2",mobileLayout:"stack"})],Jo=e=>{a&&(a.textContent=(e==null?void 0:e.name)||(e==null?void 0:e.title)||"Page"),p&&(p.textContent=(e==null?void 0:e.slug)||"/")},Zn=e=>{if(!b)return;b.innerHTML="",(e&&e.badges&&e.badges.length>0?e.badges:["Structure en cours"]).forEach(s=>{let r=document.createElement("span");r.className="rounded-full bg-slate-100 px-3 py-1",r.textContent=s,b.appendChild(r)})},_n=e=>{switch((e||"").toLowerCase()){case"en ligne":return"bg-emerald-50 text-emerald-700";case"brouillon":return"bg-amber-50 text-amber-700";default:return"bg-slate-100 text-slate-600"}},Vs=e=>{if(!(!re||!$e)){if(!e){re.classList.remove("hidden"),$e.classList.add("hidden"),ye==null||ye.classList.add("hidden"),A==null||A.classList.add("hidden"),Ae==null||Ae.classList.add("hidden");return}re.classList.add("hidden"),$e.classList.remove("hidden"),Ae&&(e.status?(Ae.textContent=e.status,Ae.className=`rounded-full px-3 py-1 text-xs font-semibold ${_n(e.status)}`,Ae.classList.remove("hidden")):Ae.classList.add("hidden")),Ns(e)}},xs=e=>{if(!h)return;let t=h.contentDocument;if(!t)return;t.querySelectorAll("[data-preview-block]").forEach(r=>{r.dataset.previewBlock===e?(r.classList.add("preview-block-active"),Lo&&e&&r.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})):r.classList.remove("preview-block-active")}),W&&(W.style.borderColor=e?"rgba(156, 107, 255, 0.5)":"transparent")},Go=(e,t=!1,s=null)=>{var To;let r=e.id===Oe,l=(e.type||"").toLowerCase(),m=l==="groupe"||l==="group"||l==="sections"||l==="grid",y=document.createElement("div");y.dataset.blockItem="true",y.dataset.blockId=e.id,s&&(y.dataset.parentBlockId=s),m&&(y.dataset.isGroup="true"),y.setAttribute("role","option"),y.setAttribute("aria-selected",r?"true":"false"),y.setAttribute("draggable","true"),y.tabIndex=0,y.className=["relative flex items-center gap-3 rounded-2xl border px-3 py-2 text-left transition group",t?"ml-6 border-dashed":"",r?"bg-slate-100 border-[#9C6BFF]/40 shadow-sm":"border-slate-200 hover:border-[#9C6BFF]/40"].join(" ");let B=document.createElement("span");B.className=`absolute inset-y-2 left-0 w-1 rounded-full bg-[#9C6BFF] ${r?"":"hidden"}`,y.appendChild(B);let _=document.createElement("div");_.className="flex flex-1 items-center gap-3";let ie=document.createElement("div");ie.className="hidden lg:flex cursor-grab active:cursor-grabbing flex-shrink-0 items-center text-lg text-slate-400 hover:text-slate-600 transition-colors select-none",ie.innerHTML="\u22EE\u22EE",ie.setAttribute("title","Glisser pour r\xE9ordonner"),_.appendChild(ie);let we=document.createElement("div");we.className="flex-1";let _e=document.createElement("div");_e.className="flex items-center gap-2 text-[11px] uppercase tracking-wide text-slate-500";let vt=document.createElement("span");vt.className="rounded-full bg-slate-100 px-2 py-0.5 text-[10px] font-semibold text-slate-600",vt.textContent=e.type;let ke=document.createElement("span");if(ke.className="text-slate-400",ke.textContent=e.status,_e.appendChild(vt),m){let at=(e.children||[]).length,Zt=document.createElement("span");Zt.className="rounded-full bg-violet-100 px-2 py-0.5 text-[10px] font-semibold text-violet-600",Zt.textContent=`${at} \xE9l\xE9ment${at!==1?"s":""}`,_e.appendChild(Zt)}_e.appendChild(ke);let F=document.createElement("p");F.className="mt-1 text-sm font-semibold text-slate-900";let dt=e.settings&&e.settings.title||e.label||"Bloc sans titre";if(F.textContent=dt,we.appendChild(_e),we.appendChild(F),l==="collectiongrid"&&e.collectionId){let at=((To=At.find(Sr=>Sr.id===e.collectionId))==null?void 0:To.name)||e.collectionId,Zt=document.createElement("p");Zt.className="text-xs text-slate-400",Zt.textContent=`Collection : ${at}`,we.appendChild(Zt)}_.appendChild(we),y.appendChild(_);let Be=document.createElement("div");Be.className="flex flex-col gap-1 text-xs text-slate-400";let de=document.createElement("div");de.className="flex items-center gap-1 lg:hidden";let ot=document.createElement("button");ot.type="button",ot.className="rounded-lg border border-slate-200 px-2 py-1 text-[11px] font-semibold text-slate-500",ot.textContent="\u2191",ot.addEventListener("click",at=>{at.stopPropagation(),s?Wo(s,e.id,-1):Zo(e.id,-1)});let ut=document.createElement("button");ut.type="button",ut.className="rounded-lg border border-slate-200 px-2 py-1 text-[11px] font-semibold text-slate-500",ut.textContent="\u2193",ut.addEventListener("click",at=>{at.stopPropagation(),s?Wo(s,e.id,1):Zo(e.id,1)}),de.appendChild(ot),de.appendChild(ut),Be.appendChild(de);let De=document.createElement("button");return De.type="button",De.className="inline-flex items-center justify-center rounded-lg border border-transparent px-2 py-1 text-[12px] text-rose-500 hover:text-rose-700",De.innerHTML="\u{1F5D1}\uFE0F",De.addEventListener("click",at=>{at.stopPropagation(),s?Qn(s,e.id):ir(e.id)}),Be.appendChild(De),y.appendChild(Be),y.addEventListener("click",()=>{Ot(e.id,s)}),y.addEventListener("keydown",at=>{(at.key==="Enter"||at.key===" ")&&(at.preventDefault(),Ot(e.id,s))}),{item:y,isGroup:m,block:e}},Yn=e=>{let t=document.createElement("div");return t.dataset.groupDropZone=e.id,t.className="ml-6 border-2 border-dashed border-slate-200 rounded-xl p-3 text-center text-xs text-slate-400 hover:border-violet-300 hover:bg-violet-50/50 transition-colors cursor-pointer",t.innerHTML='<span class="pointer-events-none">\u{1F4E6} Glissez un bloc ici ou cliquez pour ajouter</span>',t.addEventListener("dragover",s=>{s.preventDefault(),s.stopPropagation(),t.classList.add("border-violet-400","bg-violet-50")}),t.addEventListener("dragleave",s=>{s.stopPropagation(),t.classList.remove("border-violet-400","bg-violet-50")}),t.addEventListener("drop",s=>{s.preventDefault(),s.stopPropagation(),t.classList.remove("border-violet-400","bg-violet-50");let r=s.dataTransfer.getData("text/plain");r&&r!==e.id&&Xn(r,e.id)}),t.addEventListener("click",()=>{er(e.id)}),t},yt=e=>{if(!S)return;S.innerHTML="";let t=(e==null?void 0:e.blocks)||[];if(ne&&(ne.textContent=Kn(t.length)),t.length===0){S.classList.add("hidden"),Z==null||Z.classList.remove("hidden");return}S.classList.remove("hidden"),Z==null||Z.classList.add("hidden"),t.forEach(s=>{let{item:r,isGroup:l}=Go(s,!1,null);if(S.appendChild(r),l){(s.children||[]).forEach(B=>{let{item:_}=Go(B,!0,s.id);S.appendChild(_)});let y=Yn(s);S.appendChild(y)}})},Xn=(e,t)=>{if(!u)return;let s=u.blocks.findIndex(B=>B.id===e),r=u.blocks.find(B=>B.id===t);if(s===-1||!r)return;let m=(u.blocks[s].type||"").toLowerCase();if(m==="groupe"||m==="group"){$("Impossible d'imbriquer des groupes","error");return}let[y]=u.blocks.splice(s,1);r.children||(r.children=[]),r.children.push(y),yt(u),savePageBlocks(),$("Bloc ajout\xE9 au groupe")},Qn=(e,t)=>{if(!u)return;let s=u.blocks.find(y=>y.id===e);if(!s||!s.children)return;let r=s.children.findIndex(y=>y.id===t);if(r===-1)return;let[l]=s.children.splice(r,1),m=u.blocks.findIndex(y=>y.id===e);u.blocks.splice(m+1,0,l),yt(u),savePageBlocks(),$("Bloc sorti du groupe")},Wo=(e,t,s)=>{if(!u)return;let r=u.blocks.find(B=>B.id===e);if(!r||!r.children)return;let l=r.children.findIndex(B=>B.id===t);if(l===-1)return;let m=l+s;if(m<0||m>=r.children.length)return;let[y]=r.children.splice(l,1);r.children.splice(m,0,y),yt(u),savePageBlocks()},er=e=>{ws=e,openBlockPicker()},ws=null,tr=e=>{!st||!e||(Ut=e,bs&&(bs.textContent=e.title||e.id),st.classList.remove("hidden"),st.classList.add("flex"),cs(st,Js))},Js=()=>{st&&(st.classList.add("hidden"),st.classList.remove("flex"),Ut=null,ds(st))},sr=async()=>{if(!ht||!Ut)return;let e=Ut.id,t=Ut.title||e;gt&&(gt.disabled=!0,gt.textContent="Suppression...");try{let s=await fetch(`${ht}/${encodeURIComponent(e)}`,{method:"DELETE",credentials:"include"}),r=await s.json();if(!s.ok)throw new Error(r.message||"Erreur serveur");se=se.filter(l=>l.id!==e),Me===e?se.length>0?wt(se[0].id):(Me=null,u=null,Rt(se,null),yt(null),re==null||re.classList.remove("hidden"),$e==null||$e.classList.add("hidden"),h&&(h.srcdoc=Ht())):Rt(se,Me),Js(),$(`Page "${t}" supprim\xE9e`)}catch(s){console.error("[pages] delete failed",s),$(s.message||"Erreur suppression")}finally{gt&&(gt.disabled=!1,gt.textContent="Supprimer")}},Rt=(e,t)=>{o.forEach(s=>{s.innerHTML="",e.forEach(r=>{var we;let l=document.createElement("li");l.className="flex items-center gap-1";let m=document.createElement("button");m.type="button",m.dataset.pageId=r.id,m.className=["flex-1 flex items-center gap-3 px-3 py-2 text-left transition",t===r.id?"bg-[#9C6BFF]/10 text-slate-900 border border-[#9C6BFF]/40 rounded-xl shadow-sm":"text-slate-700 hover:bg-slate-50 rounded-xl"].join(" "),t===r.id?m.setAttribute("aria-current","page"):m.removeAttribute("aria-current");let y=r.name||r.title,_=((we=r.accessibility)==null?void 0:we.showInMainNav)===!1?'<span class="text-[10px] font-semibold text-amber-600">Masqu\xE9 du menu</span>':"";m.innerHTML=`
            <span class="flex h-9 w-9 items-center justify-center rounded-xl border border-slate-200 bg-white text-slate-500">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                <path d="M6.5 4.5h7l4 4v11a1 1 0 0 1-1 1h-10a1 1 0 0 1-1-1v-14a1 1 0 0 1 1-1Z" stroke="currentColor" stroke-width="1.4" stroke-linejoin="round"/>
                <path d="M13.5 4.5v4a1 1 0 0 0 1 1h3" stroke="currentColor" stroke-width="1.4"/>
              </svg>
            </span>
            <div class="flex flex-col">
              <span class="text-sm font-semibold">${y}</span>
              <span class="text-xs text-slate-500">${r.slug}</span>
              ${_}
            </div>
          `,m.addEventListener("click",()=>{wt(r.id),xo()||wo()}),l.appendChild(m);let ie=document.createElement("button");ie.type="button",ie.className="flex-shrink-0 p-2 text-slate-400 hover:text-rose-600 hover:bg-rose-50 rounded-lg transition",ie.title="Supprimer cette page",ie.setAttribute("aria-label",`Supprimer ${y}`),ie.innerHTML=`
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M3 6h18M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2m3 0v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6h14ZM10 11v6M14 11v6"/>
            </svg>
          `,ie.addEventListener("click",_e=>{_e.stopPropagation(),tr(r)}),l.appendChild(ie),s.appendChild(l)})})},ns=()=>{if(!u||!Array.isArray(u.blocks))return null;let e=u.blocks.find(t=>t.id===Oe);if(!e){for(let t of u.blocks)if(t.children&&(e=t.children.find(s=>s.id===Oe),e))break}return e||null},Ko=null,Ot=(e,t=null)=>{if(!u)return;if(!e){Oe=null,Ko=null,yt(u),Vs(null),xs(null);return}let s=null;if(s=u.blocks.find(r=>r.id===e),!s&&t){let r=u.blocks.find(l=>l.id===t);r&&r.children&&(s=r.children.find(l=>l.id===e))}if(!s){for(let r of u.blocks)if(r.children){let l=r.children.find(m=>m.id===e);if(l){s=l,t=r.id;break}}}s||(s=u.blocks[0]||null,t=null),Oe=(s==null?void 0:s.id)||null,Ko=t,yt(u),Vs(s),xs(Oe)},rs=e=>{if(!u)return;let t={...u,blocks:e};lr(t)},Gs=()=>window.matchMedia("(min-width: 1024px)").matches;function Zo(e,t){if(!u||!e||!t)return;let s=[...u.blocks||[]],r=s.findIndex(y=>y.id===e);if(r<0)return;let l=r+t;if(l<0||l>=s.length)return;let[m]=s.splice(r,1);s.splice(l,0,m),rs(s),wt(u.id,{preserveBlock:!0}),Ot(m.id)}function qr(e,t){if(!u||!e||!t||e===t)return;let s=[...u.blocks||[]],r=s.findIndex(y=>y.id===e),l=s.findIndex(y=>y.id===t);if(r<0||l<0)return;let[m]=s.splice(r,1);s.splice(l,0,m),rs(s),wt(u.id,{preserveBlock:!0}),Ot(m.id)}function or(e,t,s){if(!u||!e||!t||e===t)return;let r=[...u.blocks||[]],l=r.findIndex(_=>_.id===e),m=r.findIndex(_=>_.id===t);if(l<0||m<0)return;let[y]=r.splice(l,1);l<m&&m--;let B=s==="before"?m:m+1;r.splice(B,0,y),rs(r),wt(u.id,{preserveBlock:!0}),Ot(y.id)}function _o(){if(!S)return;let e=Gs();S.querySelectorAll("[data-block-item]").forEach(t=>{t.setAttribute("draggable",e?"true":"false")})}function Ss(){he&&(he.classList.add("hidden"),Ls=!1)}function nr(){he&&(he.classList.remove("hidden"),Ls=!0)}function rr(){Ls?Ss():nr()}function ar(e){var m;if(!u||!e)return;let t=Jn[e];if(!t)return;let s=(u.blocks||[]).filter(y=>y.type===t.type).length+1,r=vo(bo(u.id,e),`${t.label} ${s}`,t.type,t.status,t.description,t.props,t.settings||{});if((t.type||"").toLowerCase()==="collectiongrid"){let y=((m=At[0])==null?void 0:m.id)||"";r.collectionId=y,r.settings.collectionId=y,r.settings.limit=r.settings.limit||6}if(ws){let y=u.blocks.find(B=>B.id===ws);if(y){y.children||(y.children=[]),y.children.push(r),ws=null,yt(u),savePageBlocks(),Ot(r.id,y.id),Ss(),$("Bloc ajout\xE9 au groupe");return}ws=null}let l=[...u.blocks||[],r];rs(l),wt(u.id,{preserveBlock:!0}),Ot(r.id),Ss(),$("Bloc ajout\xE9")}function Yo(e){var r,l;if(!u)return;let t=(u.blocks||[]).filter(m=>m.id!==e),s=e===Oe?((r=t[0])==null?void 0:r.id)||null:Oe||((l=t[0])==null?void 0:l.id)||null;rs(t),Oe=s,wt(u.id,{preserveBlock:!0}),Oe?Ot(Oe):(Vs(null),xs(null)),$("Bloc supprim\xE9")}function Ws(){le&&(le.classList.add("hidden"),le.classList.remove("flex"),Zs=null,ds(le))}function ir(e){if(!le){Yo(e);return}Zs=e,le.classList.remove("hidden"),le.classList.add("flex"),cs(le,Ws)}let lr=e=>{if(!e)return;let t=Kt(e);se=se.map(s=>s.id===t.id?t:s),u=t,Et(t)},wt=(e,t={})=>{var l,m;let s=se.find(y=>y.id===e)||se[0]||null;u=s?Kt(s):null,Me=(s==null?void 0:s.id)||null,(!t.preserveBlock||!u||!u.blocks.some(y=>y.id===Oe))&&(Oe=((m=(l=u==null?void 0:u.blocks)==null?void 0:l[0])==null?void 0:m.id)||null),Me&&Gn(Me),Rt(se,Me),Jo(u),Ao(),Zn(u),Pt(u),yt(u),Vs(ns()),xs(Oe),_o(),Ls&&Ss()},xo=()=>window.matchMedia("(min-width: 1024px)").matches,Xo=()=>{Mt&&(xo()?(Mt.classList.add("is-open"),tt==null||tt.classList.add("hidden"),document.body.classList.remove("overflow-hidden")):Mt.classList.remove("is-open"))},cr=()=>{!Mt||xo()||(Mt.classList.add("is-open"),tt==null||tt.classList.remove("hidden"),document.body.classList.add("overflow-hidden"))},wo=()=>{Mt&&(Mt.classList.remove("is-open"),tt==null||tt.classList.add("hidden"),document.body.classList.remove("overflow-hidden"))},dr=()=>{!c||!n||(c.classList.remove("hidden"),n.classList.add("hidden"),G&&(G.textContent=""),Ks=!1,w&&(w.value="",w.focus()),j&&(j.value=""),O&&(O.value=""))},Qo=()=>{!c||!n||(c.classList.add("hidden"),n.classList.remove("hidden"),G&&(G.textContent=""),Ks=!1,c.reset())},ur=()=>{!w||!O||Ks&&O.value.trim().length>0||(O.value=Vo(w.value))},se=[],Me=null,Ks=!1,u=null,Oe=null,Ls=!1,Zs=null,So="",Lo=!1,ks=null,At=[],mr=e=>{let t={...e,props:Array.isArray(e.props)?e.props:[],settings:{...e.settings||{}}};return(t.type||"").toLowerCase()==="collectiongrid"&&(t.collectionId=t.collectionId||t.settings.collectionId||"",t.settings.collectionId=t.collectionId,t.settings.limit=t.settings.limit||6),t},Kt=e=>{var t,s,r,l,m;return{...e,blocks:(e.blocks||[]).map(y=>mr(y)),seo:{title:(((t=e.seo)==null?void 0:t.title)||"").trim(),description:(((s=e.seo)==null?void 0:s.description)||"").trim(),indexed:typeof((r=e.seo)==null?void 0:r.indexed)=="boolean"?e.seo.indexed:null},accessibility:{showInMainNav:((l=e.accessibility)==null?void 0:l.showInMainNav)!==!1,mainLabel:(((m=e.accessibility)==null?void 0:m.mainLabel)||"").trim()}}},pr=async()=>{if(!Oo){At=[],_s();return}try{let e=await fetch(Oo,{headers:{Accept:"application/json"}});if(!e.ok)throw new Error("Impossible de charger les collections.");let t=await e.json().catch(()=>[]);At=Array.isArray(t)?t:[];let s=(ve==null?void 0:ve.value)||"";_s(s)}catch(e){console.error("[design] collections load",e),$("Collections indisponibles."),At=[],_s()}},ko=e=>{if(!lt)return;if(!e){lt.textContent=At.length?"S\xE9lectionnez une collection pour afficher ses informations.":"Aucune collection disponible. Ajoutez-en depuis l\u2019onglet Contenus.";return}let t=At.find(r=>r.id===e);if(!t){lt.textContent=`Collection ${e}`;return}let s=[];t.description&&s.push(t.description),t.type&&s.push(`Type\xA0: ${t.type}`),lt.textContent=s.join(" \xB7 ")||`Collection ${t.name||t.id}`},_s=(e="")=>{if(ve){if(ve.innerHTML="",!At.length){ve.disabled=!0;let t=document.createElement("option");t.value="",t.textContent="Aucune collection disponible",ve.appendChild(t),ko("");return}if(ve.disabled=!1,e&&!At.some(t=>t.id===e)){let t=document.createElement("option");t.value=e,t.textContent=e,ve.appendChild(t)}At.forEach(t=>{let s=document.createElement("option");s.value=t.id;let r=t.name||t.id;s.textContent=t.type?`${r} \xB7 ${t.type}`:r,s.dataset.description=t.description||"",ve.appendChild(s)}),e&&(ve.value=e),ko(ve.value||"")}};pr(),Xo(),Us.forEach(e=>{e.addEventListener("click",cr)}),Rs.forEach(e=>{e.addEventListener("click",wo)}),tt==null||tt.addEventListener("click",wo),window.addEventListener("resize",()=>{Xo(),_o()}),n==null||n.addEventListener("click",dr),ae==null||ae.addEventListener("click",Qo),w==null||w.addEventListener("input",ur),O==null||O.addEventListener("input",()=>{G&&(G.textContent=""),Ks=!0}),c==null||c.addEventListener("submit",async e=>{if(e.preventDefault(),!ht){G&&(G.textContent="Aucun site s\xE9lectionn\xE9.");return}if(!w||!O)return;let t=w.value.trim(),s=(j==null?void 0:j.value.trim())||t,r=Vo(O.value.trim()||t);if(!t||!r){G&&(G.textContent="Nom et slug sont requis.");return}G&&(G.textContent=""),Q&&(Q.disabled=!0,Q.textContent="Cr\xE9ation...");try{let l=await Ps({name:t,title:s,slug:r});if(!l||!l.id)throw new Error("R\xE9ponse invalide.");se=[...se,Kt(l)],Qo(),$("Page cr\xE9\xE9e"),wt(l.id)}catch(l){console.error("[design] create page failed",l),G&&(G.textContent=l.message||"Impossible de cr\xE9er la page.")}finally{Q&&(Q.disabled=!1,Q.textContent="Cr\xE9er")}});let Eo=()=>{Ze&&(Ze.value=""),ct&&(ct.classList.add("hidden"),ct.textContent="")},en=()=>{if(!Ze)return null;let e=Ze.value.trim();if(!e)return ct&&ct.classList.add("hidden"),null;try{let t=JSON.parse(e);return ct&&ct.classList.add("hidden"),t}catch(t){return ct&&(ct.classList.remove("hidden"),ct.textContent=`\u274C JSON invalide : ${t.message}`),null}},fr=()=>{if(!Ze)return;let e=Ze.value.trim();if(e)try{let t=JSON.parse(e);Ze.value=JSON.stringify(t,null,2),en()}catch{}},Es=()=>{if(Ke)if(qt==="upload")Ke.disabled=ft.length===0;else if(qt==="paste"){let e=en();Ke.disabled=!e}else Ke.disabled=!0},gr=()=>{be&&(be.classList.remove("hidden"),be.classList.add("flex"),ft=[],qt="upload",qo(),Eo(),Ee&&Ee.classList.add("hidden"),Te&&(Te.innerHTML=""),Es(),ts.forEach(e=>{e.dataset.importTab==="upload"?(e.classList.add("bg-[#9C6BFF]","text-white"),e.classList.remove("border","border-slate-200","text-slate-700")):(e.classList.remove("bg-[#9C6BFF]","text-white"),e.classList.add("border","border-slate-200","text-slate-700"))}),ys.forEach(e=>{e.dataset.importPanel==="upload"?e.classList.remove("hidden"):e.classList.add("hidden")}),cs(be,Co))},Co=()=>{be&&(be.classList.add("hidden"),be.classList.remove("flex"),ft=[],Eo(),ds(be))},qo=()=>{if(!(!Re||!xt)){if(ft.length===0){Re.classList.add("hidden"),Es();return}Re.classList.remove("hidden"),xt.innerHTML=ft.map(e=>`<li class="flex items-center gap-2"><span class="text-lg">\u{1F4C4}</span>${e.name}</li>`).join(""),Es()}},tn=e=>{let t=Array.from(e).filter(s=>s.type==="application/json"||s.name.endsWith(".json"));if(t.length===0){$("Aucun fichier JSON valide.");return}ft=t,qo()},hr=async()=>{var s,r,l,m,y,B,_,ie,we,_e,vt;if(!ht)return;let e=[];if(console.log("[import] activeImportTab:",qt),qt==="paste"){let ke=(s=Ze==null?void 0:Ze.value)==null?void 0:s.trim();if(console.log("[import] paste text length:",ke==null?void 0:ke.length),!ke){$("Aucun JSON \xE0 importer."),Ee&&Te&&(Ee.classList.remove("hidden"),Te.innerHTML='<p class="text-amber-600">\u26A0 Le champ de texte est vide.</p>');return}try{let F=JSON.parse(ke);console.log("[import] parsed JSON:",F),console.log("[import] parsed type:",typeof F,Array.isArray(F)?"array":"not array"),F&&!Array.isArray(F)&&F.pages?(console.log("[import] detected pages+collections format"),e=F):Array.isArray(F)?e.push(...F):e.push(F),console.log("[import] pagesData prepared:",e)}catch(F){let dt=F.message.match(/position (\d+)/),Be=F.message;if(dt){let de=parseInt(dt[1],10),ot=ke.substring(0,de).split(`
`),ut=ot.length,De=ot[ot.length-1].length+1;Be=`Ligne ${ut}, colonne ${De}: ${F.message}`}$(`Erreur JSON : ${Be}`,"error"),console.error("[import] paste parse error",F),Ee&&Te&&(Ee.classList.remove("hidden"),Te.innerHTML=`
              <div class="text-rose-600">
                <p class="font-medium">\u2717 Erreur de syntaxe JSON</p>
                <p class="text-xs mt-1">${Be}</p>
                <p class="text-xs mt-2 text-slate-500">V\xE9rifiez les virgules, guillemets et accolades.</p>
              </div>
            `);return}}else if(qt==="upload"){if(ft.length===0)return;let ke=[];for(let F of ft){let dt=await F.text();try{let Be=JSON.parse(dt);Array.isArray(Be)?e.push(...Be):e.push(Be)}catch(Be){let de=Be.message.match(/position (\d+)/),ot=Be.message;if(de){let ut=parseInt(de[1],10);ot=`Ligne ${dt.substring(0,ut).split(`
`).length}: ${Be.message}`}ke.push({file:F.name,error:ot}),console.error("[import] parse error",F.name,Be)}}if(ke.length>0){if(Ee&&Te){Ee.classList.remove("hidden");let F='<div class="text-rose-600"><p class="font-medium">\u2717 Erreurs de syntaxe JSON</p><ul class="ml-4 text-xs mt-1">';ke.forEach(dt=>{F+=`<li><strong>${dt.file}</strong>: ${dt.error}</li>`}),F+="</ul></div>",e.length>0&&(F+=`<p class="text-amber-600 mt-2 text-sm">\u26A0 ${e.length} page(s) valide(s) seront import\xE9e(s)</p>`),Te.innerHTML=F}if(e.length===0){$("Tous les fichiers contiennent des erreurs JSON","error");return}}}else return;let t=Array.isArray(e)?e.length>0:e&&(((r=e.pages)==null?void 0:r.length)>0||e.title);if(console.log("[import] hasData check:",t,"pagesData:",e),!t){$("Aucune page valide \xE0 importer."),Ee&&Te&&(Ee.classList.remove("hidden"),Te.innerHTML=`
            <div class="text-amber-600">
              <p class="font-medium">\u26A0 Aucune page d\xE9tect\xE9e</p>
              <p class="text-xs mt-1">Le JSON doit contenir :</p>
              <ul class="text-xs ml-4 mt-1 list-disc">
                <li>Un objet page avec "title" : <code>{"title": "Ma page", ...}</code></li>
                <li>Un tableau de pages : <code>[{"title": "Page 1"}, {"title": "Page 2"}]</code></li>
                <li>Ou un objet combin\xE9 : <code>{"pages": [...], "collections": {...}}</code></li>
              </ul>
            </div>
          `);return}Ke&&(Ke.disabled=!0,Ke.textContent="Import..."),console.log("[import] Sending to server:",JSON.stringify(e).substring(0,500));try{let ke=await fetch(`${ht}/import`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)});console.log("[import] Server response status:",ke.status);let F=await ke.json();if(console.log("[import] Server response body:",F),!ke.ok)throw Ee&&Te&&(Ee.classList.remove("hidden"),Te.innerHTML=`
              <div class="text-rose-600">
                <p class="font-medium">\u2717 Erreur serveur</p>
                <p class="text-xs mt-1">${F.message||"Erreur inconnue"}</p>
                ${F.details?`<p class="text-xs mt-1 text-slate-500">${F.details}</p>`:""}
              </div>
            `),new Error(F.message||"Erreur serveur");if(Ee&&Te){Ee.classList.remove("hidden");let de="",ot=((l=F.imported)==null?void 0:l.length)>0||((m=F.collectionsCreated)==null?void 0:m.length)>0,ut=((y=F.errors)==null?void 0:y.length)>0;ot&&!ut?de+='<div class="bg-green-50 border border-green-200 rounded-lg p-3 mb-2"><p class="text-green-800 font-medium">\u2713 Import r\xE9ussi</p></div>':ot&&ut?de+='<div class="bg-amber-50 border border-amber-200 rounded-lg p-3 mb-2"><p class="text-amber-800 font-medium">\u26A0 Import partiel</p></div>':ut&&(de+='<div class="bg-rose-50 border border-rose-200 rounded-lg p-3 mb-2"><p class="text-rose-800 font-medium">\u2717 Import \xE9chou\xE9</p></div>'),F.collectionsCreated&&F.collectionsCreated.length>0&&(de+=`<p class="text-violet-700 mt-2">\u2713 ${F.collectionsCreated.length} collection(s) cr\xE9\xE9e(s)</p>`,de+='<ul class="ml-4 text-xs text-slate-600">',F.collectionsCreated.forEach(De=>{de+=`<li>${De.name} (${De.itemsCount} item${De.itemsCount>1?"s":""})</li>`}),de+="</ul>"),F.imported&&F.imported.length>0&&(de+=`<p class="text-green-700 mt-2">\u2713 ${F.imported.length} page(s) import\xE9e(s)</p>`,de+='<ul class="ml-4 text-xs text-slate-600">',F.imported.forEach(De=>{de+=`<li><strong>${De.title}</strong> \u2192 ${De.slug} (${De.action==="updated"?"mise \xE0 jour":"cr\xE9\xE9e"})</li>`}),de+="</ul>"),F.errors&&F.errors.length>0&&(de+=`<p class="text-rose-600 mt-3 font-medium">\u2717 ${F.errors.length} erreur(s)</p>`,de+='<ul class="ml-4 text-xs text-rose-600 space-y-1 mt-1">',F.errors.forEach(De=>{de+=`<li class="bg-rose-50 p-2 rounded"><strong>${De.title}</strong><br/><span class="text-rose-500">${De.error}</span></li>`}),de+="</ul>"),Te.innerHTML=de}let dt=((B=F.imported)==null?void 0:B.length)>0||((_=F.collectionsCreated)==null?void 0:_.length)>0,Be=((ie=F.errors)==null?void 0:ie.length)>0;if(F.imported&&F.imported.length>0&&(se=await Ft(),Rt(se,Me),se.length>0&&!Me&&wt(se[0].id)),dt&&!Be){let de=(we=F.collectionsCreated)!=null&&we.length?` + ${F.collectionsCreated.length} collection(s)`:"";$(`\u2713 Import r\xE9ussi : ${((_e=F.imported)==null?void 0:_e.length)||0} page(s)${de}`,"success")}else dt&&Be?$(`\u26A0 Import partiel : ${((vt=F.imported)==null?void 0:vt.length)||0} page(s), ${F.errors.length} erreur(s)`,"warning"):Be&&$(`\u2717 Import \xE9chou\xE9 : ${F.errors.length} erreur(s)`,"error");ft=[],qo(),Eo()}catch(ke){console.error("[import] failed",ke),$(ke.message||"Erreur import","error")}finally{Ke&&(Ke.disabled=!1,Ke.textContent="Importer")}};je==null||je.addEventListener("click",gr),We.forEach(e=>e.addEventListener("click",Co)),be==null||be.addEventListener("click",e=>{e.target===be&&Co()}),Ue==null||Ue.addEventListener("change",e=>{tn(e.target.files)}),xe==null||xe.addEventListener("dragover",e=>{e.preventDefault(),xe.classList.add("border-[#9C6BFF]","bg-[#9C6BFF]/10")}),xe==null||xe.addEventListener("dragleave",e=>{e.preventDefault(),xe.classList.remove("border-[#9C6BFF]","bg-[#9C6BFF]/10")}),xe==null||xe.addEventListener("drop",e=>{e.preventDefault(),xe.classList.remove("border-[#9C6BFF]","bg-[#9C6BFF]/10"),tn(e.dataTransfer.files)}),Ke==null||Ke.addEventListener("click",hr),Ze==null||Ze.addEventListener("input",()=>{Es()}),Wt==null||Wt.addEventListener("click",fr),ts.forEach(e=>{e.addEventListener("click",()=>{let t=e.dataset.importTab;qt=t,ts.forEach(s=>{s.dataset.importTab===t?(s.classList.add("bg-[#9C6BFF]","text-white"),s.classList.remove("border","border-slate-200","text-slate-700")):(s.classList.remove("bg-[#9C6BFF]","text-white"),s.classList.add("border","border-slate-200","text-slate-700"))}),ys.forEach(s=>{s.dataset.importPanel===t?s.classList.remove("hidden"):s.classList.add("hidden")}),Es()})}),ss==null||ss.addEventListener("click",async()=>{if(!vs)return;let e=vs.textContent||"";try{await navigator.clipboard.writeText(e),$("Template copi\xE9 !")}catch(t){console.error("[import] copy failed",t),$("Erreur copie")}}),os==null||os.addEventListener("click",Js),gt==null||gt.addEventListener("click",sr),st==null||st.addEventListener("click",e=>{e.target===st&&Js()}),pe==null||pe.addEventListener("click",e=>{e.stopPropagation(),rr()}),document.addEventListener("click",e=>{Ls&&(he!=null&&he.contains(e.target)||pe!=null&&pe.contains(e.target)||Ss())}),Qe.forEach(e=>{e.addEventListener("click",t=>{t.stopPropagation();let s=e.dataset.blockAdd;ar(s)})}),fe==null||fe.addEventListener("click",()=>{Ws()}),et==null||et.addEventListener("click",()=>{Zs&&Yo(Zs),Ws()}),le==null||le.addEventListener("click",e=>{e.target===le&&Ws()}),A==null||A.addEventListener("input",e=>{var r,l,m,y;let t=e.target;if(!t||!t.name)return;if(t.name==="group-columns-mobile"||t.name==="group-columns-desktop"){let B=((r=A.querySelector('[name="group-columns-mobile"]'))==null?void 0:r.value)||"1",_=((l=A.querySelector('[name="group-columns-desktop"]'))==null?void 0:l.value)||"3";Gt(B,_)}if(t.name==="collection-columns-mobile"||t.name==="collection-columns-desktop"){let B=((m=A.querySelector('[name="collection-columns-mobile"]'))==null?void 0:m.value)||"1",_=((y=A.querySelector('[name="collection-columns-desktop"]'))==null?void 0:y.value)||"3";Qt(B,_)}let s=t.closest("[data-block-panel]");if(s&&s.dataset.blockPanel==="appearance"){let B=ns(),_=Ge(B);if(B&&_){let ie=Dt(_);Hs(B.id,ie)}}}),A==null||A.addEventListener("change",e=>{var r,l;let t=e.target;if(!t||!t.name)return;if(t.hasAttribute("data-color-select")){let m=t.options[t.selectedIndex],y=((r=m==null?void 0:m.dataset)==null?void 0:r.color)||"#ffffff",B=(l=t.closest(".relative"))==null?void 0:l.querySelector("[data-color-preview]");B&&(y==="transparent"?B.style.background="repeating-conic-gradient(#ccc 0% 25%, white 0% 50%) 50% / 8px 8px":(B.style.backgroundColor=y,B.style.background=""))}let s=t.closest("[data-block-panel]");if(s&&s.dataset.blockPanel==="appearance"){let m=ns(),y=Ge(m);if(m&&y){let B=Dt(y);Hs(m.id,B)}}}),ve==null||ve.addEventListener("change",e=>{let t=e.target;ko((t==null?void 0:t.value)||"")}),A==null||A.addEventListener("submit",es),Pe==null||Pe.addEventListener("click",e=>{e.preventDefault();let t=ns();t&&Ns(t)}),h==null||h.addEventListener("load",()=>{Lo=!0,Ct("\xC0 jour"),xs(Oe)}),x==null||x.addEventListener("click",()=>{let e=window.open("","_blank");if(!e)return;e.opener=null;let t=e.document;t.open(),t.write(So||Ht()),t.close()});let sn=e=>{var t,s,r;oe&&(e?(oe.classList.remove("hidden"),u&&(E&&(E.value=((t=u.seo)==null?void 0:t.title)||""),C&&(C.value=((s=u.seo)==null?void 0:s.description)||""),L&&(L.checked=((r=u.seo)==null?void 0:r.indexed)!==!1))):oe.classList.add("hidden"))},Ys=(e,t="muted")=>{if(!P)return;let s=t==="success"?"text-emerald-600":t==="error"?"text-rose-600":"text-slate-500";P.textContent=e||"",P.className=`text-sm ${s}`};U==null||U.addEventListener("click",()=>{let e=oe&&!oe.classList.contains("hidden");sn(!e)}),te==null||te.addEventListener("click",()=>sn(!1)),f==null||f.addEventListener("submit",async e=>{var t;if(e.preventDefault(),!u){Ys("Aucune page active.","error");return}M&&(M.disabled=!0),Ys("");try{let s={title:((E==null?void 0:E.value)||"").trim(),description:((C==null?void 0:C.value)||"").trim(),indexed:(t=L==null?void 0:L.checked)!=null?t:!0},r={...u,seo:s},l=await Et(r);l&&(u=l,Ys("SEO enregistr\xE9.","success"),$("SEO mis \xE0 jour"),Pt(u))}catch(s){console.error("[seo] save failed",s),Ys(s.message||"Erreur lors de la sauvegarde.","error")}finally{M&&(M.disabled=!1)}});let Ao=()=>{var e,t;if(!(!k&&!T)){if(!u){k&&(k.checked=!0),T&&(T.value="");return}k&&(k.checked=((e=u.accessibility)==null?void 0:e.showInMainNav)!==!1),T&&(T.value=((t=u.accessibility)==null?void 0:t.mainLabel)||"")}},on=e=>{H&&(e?(Ao(),H.classList.remove("hidden")):H.classList.add("hidden"))},Xs=(e,t="muted")=>{if(!ee)return;let s=t==="success"?"text-emerald-600":t==="error"?"text-rose-600":"text-slate-500";ee.textContent=e||"",ee.className=`text-sm ${s}`};N==null||N.addEventListener("click",()=>{let e=H&&!H.classList.contains("hidden");on(!e)}),d==null||d.addEventListener("click",()=>on(!1)),q==null||q.addEventListener("submit",async e=>{var t;if(e.preventDefault(),!u){Xs("Aucune page active.","error");return}K&&(K.disabled=!0),Xs("");try{let s={showInMainNav:(t=k==null?void 0:k.checked)!=null?t:!0,mainLabel:((T==null?void 0:T.value)||"").trim()},r={...u,accessibility:s},l=await Et(r);l&&(u=l,Ao(),Xs("Accessibilit\xE9 enregistr\xE9e.","success"),$("Accessibilit\xE9 mise \xE0 jour"),Rt(se,Me),Pt(u))}catch(s){console.error("[accessibility] save failed",s),Xs(s.message||"Erreur lors de la sauvegarde.","error")}finally{K&&(K.disabled=!1)}});let nn=e=>{ge&&(e?(ge.classList.remove("hidden"),u&&(me&&(me.value=u.name||""),Le&&(Le.value=u.title||""),qe&&(qe.value=u.slug||""),D&&(D.value=u.description||""))):ge.classList.add("hidden"))},as=(e,t="muted")=>{if(!v)return;let s=t==="success"?"text-emerald-600":t==="error"?"text-rose-600":"text-slate-500";v.textContent=e||"",v.className=`text-sm ${s}`};X==null||X.addEventListener("click",()=>{let e=ge&&!ge.classList.contains("hidden");nn(!e)}),ue==null||ue.addEventListener("click",()=>nn(!1)),Ie==null||Ie.addEventListener("submit",async e=>{if(e.preventDefault(),!u){as("Aucune page active.","error");return}g&&(g.disabled=!0),as("");try{let t=((me==null?void 0:me.value)||"").trim(),s=((Le==null?void 0:Le.value)||"").trim(),r=((qe==null?void 0:qe.value)||"").trim(),l=((D==null?void 0:D.value)||"").trim();if(!s){as("Le titre est requis.","error"),g&&(g.disabled=!1);return}if(!r||!r.startsWith("/")){as("Le slug doit commencer par /.","error"),g&&(g.disabled=!1);return}let m={...u,name:t||s,title:s,slug:r,description:l},y=await Et(m);y&&(u=y,se=se.map(B=>B.id===y.id?y:B),as("Propri\xE9t\xE9s enregistr\xE9es.","success"),$("Page mise \xE0 jour"),Jo(u),Rt(se,Me),Pt(u))}catch(t){console.error("[page-props] save failed",t),as(t.message||"Erreur lors de la sauvegarde.","error")}finally{g&&(g.disabled=!1)}});let yr=e=>{let t=e.target.closest("[data-block-item]");if(!t||!Gs()){e.preventDefault();return}if(Tt=t.dataset.blockId||null,!Tt){e.preventDefault();return}e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/plain",Tt),requestAnimationFrame(()=>{t.classList.add("opacity-50","scale-[0.98]","shadow-lg","ring-2","ring-[#9C6BFF]")})},rn=()=>{S==null||S.querySelectorAll("[data-block-item]").forEach(e=>{e.classList.remove("opacity-50","scale-[0.98]","shadow-lg","ring-2","ring-[#9C6BFF]","border-t-4","border-b-4","border-t-[#9C6BFF]","border-b-[#9C6BFF]","pt-6","pb-6")})},vr=()=>{Tt=null,rn()},br=e=>{if(!Tt||!Gs())return;let t=e.target.closest("[data-block-item]");if(!t||t.dataset.blockId===Tt)return;e.preventDefault(),e.dataTransfer.dropEffect="move";let s=t.getBoundingClientRect(),r=s.top+s.height/2,l=e.clientY<r;S==null||S.querySelectorAll("[data-block-item]").forEach(m=>{m!==t&&m.dataset.blockId!==Tt&&m.classList.remove("border-t-4","border-b-4","border-t-[#9C6BFF]","border-b-[#9C6BFF]","pt-6","pb-6")}),t.classList.remove("border-t-4","border-b-4","border-t-[#9C6BFF]","border-b-[#9C6BFF]","pt-6","pb-6"),l?t.classList.add("border-t-4","border-t-[#9C6BFF]","pt-6"):t.classList.add("border-b-4","border-b-[#9C6BFF]","pb-6"),t.dataset.dropPosition=l?"before":"after"},xr=e=>{let t=e.target.closest("[data-block-item]");if(!t)return;let s=e.relatedTarget;s&&t.contains(s)||(t.classList.remove("border-t-4","border-b-4","border-t-[#9C6BFF]","border-b-[#9C6BFF]","pt-6","pb-6"),delete t.dataset.dropPosition)},wr=e=>{if(!Tt||!Gs())return;e.preventDefault();let t=e.target.closest("[data-block-item]"),s=Tt,r=(t==null?void 0:t.dataset.dropPosition)||"after";Tt=null,rn();let l=(t==null?void 0:t.dataset.blockId)||null;!l||s===l||or(s,l,r)},Tt=null;S==null||S.addEventListener("dragstart",yr),S==null||S.addEventListener("dragend",vr),S==null||S.addEventListener("dragover",br),S==null||S.addEventListener("dragleave",xr),S==null||S.addEventListener("drop",wr),hs(),document.addEventListener("ai-page-updated",async e=>{var t;console.log("[design] Rafra\xEEchissement d\xE9clench\xE9 par IA",e.detail);try{let s=await Ft();if(se=(Array.isArray(s)?s:[]).map(r=>Kt(r)),(t=e.detail)!=null&&t.pageId){let r=se.find(l=>l.id===e.detail.pageId);r&&(u=r,Me=r.id,Pt(u),yt(u),$("Page mise \xE0 jour par l'IA"))}else if(Me){let r=se.find(l=>l.id===Me);r&&(u=r,Pt(u),yt(u))}}catch(s){console.error("[design] Erreur rafra\xEEchissement IA:",s)}})}function Cn(){var tt,Us,Rs;let o=document.querySelector("[data-collection-list]");if(!o)return;let a={empty:document.querySelector('[data-content-view="empty"]'),header:document.querySelector('[data-content-view="header"]'),collection:document.querySelector('[data-content-view="collection"]'),footer:document.querySelector('[data-content-view="footer"]')},p=document.querySelectorAll("[data-content-section]"),b=document.querySelectorAll("[data-content-section-trigger]"),h=document.querySelector("[data-content-drawer]"),x=document.querySelector("[data-content-drawer-backdrop]"),R=document.querySelectorAll("[data-content-drawer-open]"),W=document.querySelectorAll("[data-content-drawer-close]"),U=document.querySelector("[data-header-status]"),oe=document.querySelector("[data-footer-status]"),te=document.querySelector("[data-collection-count]"),f={logo:document.querySelector('[name="header-logo"]'),logoAlt:document.querySelector('[name="header-logo-alt"]'),logoUrl:document.querySelector('[name="header-logo-url"]'),ctaText:document.querySelector('[name="header-cta-text"]'),ctaUrl:document.querySelector('[name="header-cta-url"]'),ctaStyle:document.querySelector('[name="header-cta-style"]'),position:document.querySelector('[name="header-position"]'),bg:document.querySelector('[name="header-bg"]')},E=document.querySelector("[data-header-nav-list]"),C=document.querySelector("[data-header-nav-add]"),L=document.querySelector("[data-header-save]"),P=document.querySelector("[data-template-header-nav-item]"),M=document.querySelector("[data-header-pages-list]"),N=[],H=[],d={linkedin:document.querySelector('[name="footer-social-linkedin"]'),twitter:document.querySelector('[name="footer-social-twitter"]'),instagram:document.querySelector('[name="footer-social-instagram"]'),facebook:document.querySelector('[name="footer-social-facebook"]'),youtube:document.querySelector('[name="footer-social-youtube"]'),github:document.querySelector('[name="footer-social-github"]'),copyright:document.querySelector('[name="footer-copyright"]'),legalUrl:document.querySelector('[name="footer-legal-url"]'),privacyUrl:document.querySelector('[name="footer-privacy-url"]'),bg:document.querySelector('[name="footer-bg"]'),columnsCount:document.querySelector('[name="footer-columns-count"]')},q=document.querySelector("[data-footer-columns-list]"),k=document.querySelector("[data-footer-column-add]"),T=document.querySelector("[data-footer-save]"),ee=document.querySelector("[data-template-footer-column]"),K=document.querySelector("[data-template-footer-link]"),X=null,ge={nav:[],logo:{},cta:{},style:{}},ue={columns:[],socials:{},copyright:"",legal:{},style:{}},Ie=Ce((z==null?void 0:z.slugValue)||Y.slug||""),me=Ie,Le=Ie?`/api/sites/${encodeURIComponent(Ie)}/layout`:null,qe=n=>{Object.entries(a).forEach(([c,w])=>{w&&w.classList.toggle("hidden",c!==n)}),p.forEach(c=>{c.dataset.contentSection===n?c.dataset.active="true":delete c.dataset.active}),X=n},D=()=>{h==null||h.classList.add("is-open"),h&&(h.style.transform="translateX(0)"),x==null||x.classList.remove("hidden"),document.body.classList.add("overflow-hidden")},v=()=>{h==null||h.classList.remove("is-open"),h&&(h.style.transform=""),x==null||x.classList.add("hidden"),document.body.classList.remove("overflow-hidden")};R.forEach(n=>n.addEventListener("click",D)),W.forEach(n=>n.addEventListener("click",v)),x==null||x.addEventListener("click",v),p.forEach(n=>{n.addEventListener("click",()=>{let c=n.dataset.contentSection;(c==="header"||c==="footer")&&qe(c),v()})}),b.forEach(n=>{n.addEventListener("click",()=>{let c=n.dataset.contentSectionTrigger;c&&qe(c)})});let g=async()=>{if(!(!me||!M))try{let n=await fetch(`/api/sites/${me}/pages`,{credentials:"include"});if(!n.ok)throw new Error("Erreur chargement pages");N=await n.json(),S()}catch(n){console.error("[header] load pages error",n),M.innerHTML='<p class="text-xs text-red-500">Erreur chargement pages</p>'}},S=()=>{if(M){if(M.innerHTML="",N.length===0){M.innerHTML='<p class="text-xs text-slate-400 italic">Aucune page disponible</p>';return}N.forEach(n=>{let c=n.slug||n.id,w=n.name||n.title||c,j=c==="index"?"/":`/${c}`,O=H.some(Q=>Q.url===j),ae=document.createElement("label");ae.className="flex items-center gap-2 px-3 py-2 rounded-lg border border-slate-200 hover:bg-slate-50 cursor-pointer transition-colors",ae.innerHTML=`
          <input type="checkbox" name="nav-page" value="${j}" data-page-title="${w}"
                 class="w-4 h-4 rounded border-slate-300 text-violet-600 focus:ring-violet-500"
                 ${O?"checked":""}>
          <span class="flex-1 text-sm text-slate-700">${w}</span>
          <span class="text-xs text-slate-400">${j}</span>
        `;let G=ae.querySelector("input");G.addEventListener("change",()=>{G.checked?H.some(Q=>Q.url===j)||H.push({label:w,url:j}):H=H.filter(Q=>Q.url!==j)}),M.appendChild(ae)})}},Z=()=>{var c,w,j,O,ae,G,Q,je,be,We,xe,Ue,Re;let n=[];return M==null||M.querySelectorAll('input[name="nav-page"]:checked').forEach(xt=>{let Ee=xt.value,Te=xt.dataset.pageTitle||Ee;n.push({label:Te,url:Ee})}),{logo:{src:((w=(c=f.logo)==null?void 0:c.value)==null?void 0:w.trim())||"",alt:((O=(j=f.logoAlt)==null?void 0:j.value)==null?void 0:O.trim())||"",url:((G=(ae=f.logoUrl)==null?void 0:ae.value)==null?void 0:G.trim())||"/"},nav:n,cta:{text:((je=(Q=f.ctaText)==null?void 0:Q.value)==null?void 0:je.trim())||"",url:((We=(be=f.ctaUrl)==null?void 0:be.value)==null?void 0:We.trim())||"",style:((xe=f.ctaStyle)==null?void 0:xe.value)||"primary"},style:{position:((Ue=f.position)==null?void 0:Ue.value)||"static",bg:((Re=f.bg)==null?void 0:Re.value)||"bg-white"}}},ne=async n=>{var w,j,O,ae,G,Q,je,be,We,xe,Ue;if(!n)return;f.logo&&(f.logo.value=((w=n.logo)==null?void 0:w.src)||""),f.logoAlt&&(f.logoAlt.value=((j=n.logo)==null?void 0:j.alt)||""),f.logoUrl&&(f.logoUrl.value=((O=n.logo)==null?void 0:O.url)||"/"),f.ctaText&&(f.ctaText.value=((ae=n.cta)==null?void 0:ae.text)||""),f.ctaUrl&&(f.ctaUrl.value=((G=n.cta)==null?void 0:G.url)||""),f.ctaStyle&&(f.ctaStyle.value=((Q=n.cta)==null?void 0:Q.style)||"primary"),f.position&&(f.position.value=((je=n.style)==null?void 0:je.position)||"static"),f.bg&&(f.bg.value=((be=n.style)==null?void 0:be.bg)||"bg-white"),H=n.nav||[],await g();let c=((We=n.logo)==null?void 0:We.src)||((xe=n.nav)==null?void 0:xe.length)>0||((Ue=n.cta)==null?void 0:Ue.text);U&&(U.classList.toggle("bg-green-500",!!c),U.classList.toggle("bg-slate-300",!c),U.title=c?"Configur\xE9":"Non configur\xE9")};L==null||L.addEventListener("click",async()=>{if(Le){L.disabled=!0,L.textContent="Enregistrement...";try{let n=Z();if(!(await fetch(`${Le}/header`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(n)})).ok)throw new Error("Erreur serveur");ge=n,ne(n),$("Header enregistr\xE9")}catch(n){console.error("[header] save error",n),$("Erreur lors de l'enregistrement","error")}finally{L.disabled=!1,L.textContent="Enregistrer"}}});let pe=(n,c="",w="")=>{if(!K||!n)return;let j=K.content.cloneNode(!0),O=j.querySelector("[data-footer-link]"),ae=j.querySelector('[name="link-label"]'),G=j.querySelector('[name="link-url"]'),Q=j.querySelector("[data-link-remove]");ae&&(ae.value=c),G&&(G.value=w),Q==null||Q.addEventListener("click",()=>O==null?void 0:O.remove()),n.appendChild(j)},he=(n="",c=[])=>{if(!ee||!q)return;let w=ee.content.cloneNode(!0),j=w.querySelector("[data-footer-column]"),O=w.querySelector('[name="column-title"]'),ae=w.querySelector("[data-column-links]"),G=w.querySelector("[data-column-link-add]"),Q=w.querySelector("[data-column-remove]");O&&(O.value=n),c.forEach(je=>pe(ae,je.label,je.url)),G==null||G.addEventListener("click",()=>pe(ae)),Q==null||Q.addEventListener("click",()=>j==null?void 0:j.remove()),q.appendChild(w)},Qe=()=>{var c,w,j,O,ae,G,Q,je,be,We,xe,Ue,Re,xt,Ee,Te,Ke,ts,ys,ss;let n=[];return q==null||q.querySelectorAll("[data-footer-column]").forEach(vs=>{var ct,ft;let Ze=((ft=(ct=vs.querySelector('[name="column-title"]'))==null?void 0:ct.value)==null?void 0:ft.trim())||"",Wt=[];vs.querySelectorAll("[data-footer-link]").forEach(qt=>{var os,gt,Ut,Os;let st=((gt=(os=qt.querySelector('[name="link-label"]'))==null?void 0:os.value)==null?void 0:gt.trim())||"",bs=((Os=(Ut=qt.querySelector('[name="link-url"]'))==null?void 0:Ut.value)==null?void 0:Os.trim())||"";(st||bs)&&Wt.push({label:st,url:bs})}),(Ze||Wt.length>0)&&n.push({title:Ze,links:Wt})}),{columns:n,socials:{linkedin:((w=(c=d.linkedin)==null?void 0:c.value)==null?void 0:w.trim())||"",twitter:((O=(j=d.twitter)==null?void 0:j.value)==null?void 0:O.trim())||"",instagram:((G=(ae=d.instagram)==null?void 0:ae.value)==null?void 0:G.trim())||"",facebook:((je=(Q=d.facebook)==null?void 0:Q.value)==null?void 0:je.trim())||"",youtube:((We=(be=d.youtube)==null?void 0:be.value)==null?void 0:We.trim())||"",github:((Ue=(xe=d.github)==null?void 0:xe.value)==null?void 0:Ue.trim())||""},copyright:((xt=(Re=d.copyright)==null?void 0:Re.value)==null?void 0:xt.trim())||"",legal:{url:((Te=(Ee=d.legalUrl)==null?void 0:Ee.value)==null?void 0:Te.trim())||"",privacyUrl:((ts=(Ke=d.privacyUrl)==null?void 0:Ke.value)==null?void 0:ts.trim())||""},style:{bg:((ys=d.bg)==null?void 0:ys.value)||"bg-slate-900 text-white",columnsCount:((ss=d.columnsCount)==null?void 0:ss.value)||"4"}}},le=n=>{var w,j,O,ae,G,Q,je,be,We,xe,Ue;if(!n)return;d.linkedin&&(d.linkedin.value=((w=n.socials)==null?void 0:w.linkedin)||""),d.twitter&&(d.twitter.value=((j=n.socials)==null?void 0:j.twitter)||""),d.instagram&&(d.instagram.value=((O=n.socials)==null?void 0:O.instagram)||""),d.facebook&&(d.facebook.value=((ae=n.socials)==null?void 0:ae.facebook)||""),d.youtube&&(d.youtube.value=((G=n.socials)==null?void 0:G.youtube)||""),d.github&&(d.github.value=((Q=n.socials)==null?void 0:Q.github)||""),d.copyright&&(d.copyright.value=n.copyright||""),d.legalUrl&&(d.legalUrl.value=((je=n.legal)==null?void 0:je.url)||""),d.privacyUrl&&(d.privacyUrl.value=((be=n.legal)==null?void 0:be.privacyUrl)||""),d.bg&&(d.bg.value=((We=n.style)==null?void 0:We.bg)||"bg-slate-900 text-white"),d.columnsCount&&(d.columnsCount.value=((xe=n.style)==null?void 0:xe.columnsCount)||"4"),q&&(q.innerHTML=""),(n.columns||[]).forEach(Re=>he(Re.title,Re.links));let c=((Ue=n.columns)==null?void 0:Ue.length)>0||n.copyright||Object.values(n.socials||{}).some(Re=>Re);oe&&(oe.classList.toggle("bg-green-500",!!c),oe.classList.toggle("bg-slate-300",!c),oe.title=c?"Configur\xE9":"Non configur\xE9")};k==null||k.addEventListener("click",()=>he()),T==null||T.addEventListener("click",async()=>{if(Le){T.disabled=!0,T.textContent="Enregistrement...";try{let n=Qe();if(!(await fetch(`${Le}/footer`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(n)})).ok)throw new Error("Erreur serveur");ue=n,le(n),$("Footer enregistr\xE9")}catch(n){console.error("[footer] save error",n),$("Erreur lors de l'enregistrement","error")}finally{T.disabled=!1,T.textContent="Enregistrer"}}}),(async()=>{if(Le)try{let n=await fetch(Le,{credentials:"include"});if(n.ok){let c=await n.json();c.header&&(ge=c.header,ne(c.header)),c.footer&&(ue=c.footer,le(c.footer))}}catch(n){console.error("[layout] load error",n)}})();let fe=document.querySelector("[data-collection-empty]"),re=document.querySelector("[data-collection-items-empty]"),Ae=document.querySelector("[data-item-table-wrapper]"),$e=document.querySelector("[data-item-table-body]"),$t=document.querySelector("[data-collection-title]"),jt=document.querySelector("[data-collection-description]"),ye=document.querySelector("[data-item-add]"),A=document.querySelector("[data-item-detail-empty]"),ce=document.querySelector("[data-item-form]"),i=ce?{title:ce.querySelector('[name="item-title"]'),slug:ce.querySelector('[name="item-slug"]'),excerpt:ce.querySelector('[name="item-excerpt"]'),content:ce.querySelector('[name="item-content"]'),image:ce.querySelector('[name="item-image"]'),ctaText:ce.querySelector('[name="item-cta-text"]'),ctaUrl:ce.querySelector('[name="item-cta-url"]'),status:ce.querySelector('[name="item-status"]')}:{},I=document.querySelector("[data-item-status-badge]"),V=document.querySelector("[data-item-delete]"),J=document.querySelector("[data-item-delete-modal]"),kt=document.querySelector("[data-item-delete-cancel]"),bt=document.querySelector("[data-item-delete-confirm]"),ps=document.querySelector("[data-item-cancel]"),Vt=document.querySelector("[data-item-save]"),Jt="rounded-full px-3 py-1 text-xs font-semibold",fs=Ce((z==null?void 0:z.slugValue)||Y.slug||""),ve=fs?`/api/sites/${encodeURIComponent(fs)}/collections`:null,lt=[],Pe=[],He=null,Ne=null,rt=!1,Nt=!1,Bt=null,gs=n=>{let c=(n||"").trim();if(!c)return"";if(c==="/")return"/";let j=c.replace(/^\//,"").split("/").map(O=>zt(O||"")).filter(O=>O.length>0);return j.length?`/${j.join("/")}`:""},po=n=>{if(!n)return"\u2014";let c=new Date(n);return Number.isNaN(c.getTime())?"\u2014":c.toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric"})},Gt=()=>{let n=lt.find(c=>c.id===He);$t&&($t.textContent=(n==null?void 0:n.name)||"S\xE9lectionnez une collection"),jt&&(jt.textContent=(n==null?void 0:n.description)||"")},Qt=n=>{re&&(re.textContent=n||(He?"Aucun item dans cette collection pour le moment.":"Choisissez une collection dans le panneau de gauche."))},Ft=()=>{ce&&(ce.classList.add("hidden"),ce.dataset.itemId=""),A==null||A.classList.remove("hidden"),I&&(I.className=`hidden ${Jt}`,I.textContent=""),V&&(V.disabled=!0)},Ps=()=>{ce&&(ce.classList.remove("hidden"),A==null||A.classList.add("hidden"))},Et=()=>{ye&&(ye.disabled=!He,ye.disabled?ye.classList.add("opacity-60","pointer-events-none"):ye.classList.remove("opacity-60","pointer-events-none"))},hs=n=>{if(!I)return;if(!n){I.className=`hidden ${Jt}`,I.textContent="";return}let c=n.toLowerCase(),w="bg-slate-100 text-slate-600 border border-slate-200";c==="publi\xE9"||c==="publie"?w="bg-emerald-50 text-emerald-700 border border-emerald-100":c==="brouillon"&&(w="bg-amber-50 text-amber-700 border border-amber-100"),I.className=`${Jt} ${w}`,I.textContent=n},Ms=()=>{if(o.innerHTML="",te&&(te.textContent=lt.length),!lt.length){fe==null||fe.classList.remove("hidden");return}fe==null||fe.classList.add("hidden"),lt.forEach(n=>{let c=n.id===He,w=document.createElement("button");w.type="button",w.dataset.collectionId=n.id,w.className=["w-full rounded-xl border px-3 py-2 text-left transition focus:outline-none focus:ring-2 focus:ring-[#9C6BFF]/40",c?"bg-[#F7F0FF] border-[#9C6BFF]/40 text-slate-900":"border-slate-200 text-slate-700 hover:border-[#9C6BFF]/40"].join(" "),w.setAttribute("role","option"),c?w.setAttribute("aria-current","true"):w.removeAttribute("aria-current"),w.innerHTML=`
          <div class="flex items-center justify-between gap-2">
            <div>
              <p class="text-sm font-semibold">${n.name||n.id}</p>
              <p class="text-xs text-slate-500">${n.description||""}</p>
            </div>
            <span class="text-[11px] uppercase tracking-wide text-slate-400">${n.type||""}</span>
          </div>
        `,w.addEventListener("click",()=>{Ds(n.id),window.matchMedia("(min-width: 1024px)").matches||v()}),o.appendChild(w)})},Ge=()=>{if($e){if($e.innerHTML="",!Pe.length||!He){re==null||re.classList.remove("hidden"),Qt(),Ae==null||Ae.classList.add("hidden");return}re==null||re.classList.add("hidden"),Ae==null||Ae.classList.remove("hidden"),Pe.forEach(n=>{let c=document.createElement("tr");c.dataset.itemId=n.id;let w=n.id===Ne&&!rt;c.className=["cursor-pointer transition focus-within:bg-[#F7F0FF]/70 focus:outline-none",w?"bg-[#F7F0FF]/70":"hover:bg-slate-50"].join(" "),c.tabIndex=0,c.setAttribute("role","button"),w?c.setAttribute("aria-current","true"):c.removeAttribute("aria-current");let j=n.status||"Brouillon",O=j.toLowerCase(),ae=O==="publi\xE9"||O==="publie"?"bg-emerald-50 text-emerald-700 border border-emerald-100":"bg-amber-50 text-amber-700 border border-amber-100";c.innerHTML=`
          <td class="px-4 py-3 align-top">
            <div class="flex flex-col">
              <span class="text-sm font-semibold text-slate-900">${n.title||"Sans titre"}</span>
              <span class="text-xs text-slate-500">${n.summary||n.excerpt||""}</span>
            </div>
          </td>
          <td class="px-4 py-3 align-top text-sm text-slate-600">${n.slug||""}</td>
          <td class="px-4 py-3 align-top">
            <span class="inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold ${ae}">
              ${j}
            </span>
          </td>
          <td class="px-4 py-3 align-top text-sm text-slate-500">${po(n.updatedAt||n.createdAt)}</td>
        `;let G=()=>{Ns(n.id)};c.addEventListener("click",G),c.addEventListener("keydown",Q=>{(Q.key==="Enter"||Q.key===" ")&&(Q.preventDefault(),G())}),$e.appendChild(c)})}},Ns=n=>{let c=Pe.find(w=>w.id===n);c&&(Ne=c.id,rt=!1,Nt=!0,Dt(c),Ge())},Dt=n=>{var c,w;if(!ce||!n){Ft();return}Ps(),ce.dataset.itemId=n.id,i.title&&(i.title.value=n.title||""),i.slug&&(i.slug.value=n.slug||""),i.excerpt&&(i.excerpt.value=n.summary||n.excerpt||""),i.content&&(i.content.value=n.content||""),i.image&&(i.image.value=n.image||""),i.ctaText&&(i.ctaText.value=((c=n.cta)==null?void 0:c.text)||n.ctaText||""),i.ctaUrl&&(i.ctaUrl.value=((w=n.cta)==null?void 0:w.url)||n.ctaUrl||""),i.status&&(i.status.value=n.status||"Brouillon"),hs(n.status||"Brouillon"),V&&(V.disabled=!1)},Ct=()=>{var n;ce&&(rt=!0,Ne=null,Nt=!1,ce.dataset.itemId="",ce.reset(),i.status&&(i.status.value="Brouillon"),i.slug&&(i.slug.value=""),hs("Brouillon"),Ps(),V&&(V.disabled=!0),(n=i.title)==null||n.focus())},fo=()=>{var be,We,xe,Ue,Re,xt,Ee,Te;let n=(((be=i.title)==null?void 0:be.value)||"").trim(),c=(((We=i.slug)==null?void 0:We.value)||"").trim(),w=(((xe=i.excerpt)==null?void 0:xe.value)||"").trim(),j=(((Ue=i.content)==null?void 0:Ue.value)||"").trim(),O=(((Re=i.image)==null?void 0:Re.value)||"").trim(),ae=(((xt=i.ctaText)==null?void 0:xt.value)||"").trim(),G=(((Ee=i.ctaUrl)==null?void 0:Ee.value)||"").trim(),Q=((Te=i.status)==null?void 0:Te.value)||"Brouillon",je=ae||G?{text:ae,url:G}:null;return{title:n,slug:gs(c||n),summary:w,excerpt:w,content:j,image:O,status:Q,...je&&{cta:je}}},Ht=n=>{Vt&&(Vt.disabled=n,Vt.textContent=n?"Enregistrement\u2026":"Enregistrer"),V&&!rt&&Ne&&(V.disabled=n)},go=async n=>{if(!ve)return[];let c=await fetch(`${ve}/${encodeURIComponent(n)}/items`,{headers:{Accept:"application/json"}});if(!c.ok){let j=await c.json().catch(()=>({}));throw new Error(j.message||"Impossible de charger les items.")}let w=await c.json().catch(()=>({}));return Array.isArray(w.items)?w.items:[]},Ds=async n=>{if(n&&(He=n,Ne=null,rt=!1,Nt=!1,qe("collection"),Gt(),Et(),Ms(),Ft(),Pe=[],Ge(),Qt("Chargement des items\u2026"),re==null||re.classList.remove("hidden"),Ae==null||Ae.classList.add("hidden"),!!ve))try{Pe=await go(n),Ge(),Pe.length||Qt()}catch(c){console.error("[content] items failed",c),$(c.message||"Impossible de charger les items."),Pe=[],Ge()}},ho=async(n,c)=>{if(!ve)throw new Error("Site inconnu.");let w=await fetch(`${ve}/${encodeURIComponent(n)}/items`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});if(!w.ok){let j=await w.json().catch(()=>({}));throw new Error(j.message||"Impossible de cr\xE9er cet item.")}return w.json()},yo=async(n,c,w)=>{if(!ve)throw new Error("Site inconnu.");let j=await fetch(`${ve}/${encodeURIComponent(n)}/items/${encodeURIComponent(c)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(w)});if(!j.ok){let O=await j.json().catch(()=>({}));throw new Error(O.message||"Impossible de sauvegarder cet item.")}return j.json()},Hs=async(n,c)=>{if(!ve)throw new Error("Site inconnu.");let w=await fetch(`${ve}/${encodeURIComponent(n)}/items/${encodeURIComponent(c)}`,{method:"DELETE"});if(!w.ok){let j=await w.json().catch(()=>({}));throw new Error(j.message||"Impossible de supprimer cet item.")}},Pt=async()=>{var n;if(!ve){fe==null||fe.classList.remove("hidden"),He=null,Pe=[],Ge(),Gt(),Et();return}try{let c=await fetch(ve,{headers:{Accept:"application/json"}});if(!c.ok)throw new Error("Impossible de charger les collections.");let w=await c.json().catch(()=>[]);if(lt=Array.isArray(w)?w:[],Ms(),lt.length>0){let j=((n=lt.find(O=>O.id===He))==null?void 0:n.id)||lt[0].id;Ds(j)}else He=null,Pe=[],Gt(),Et(),Ge()}catch(c){console.error("[content] load collections",c),$(c.message||"Impossible de charger les collections.")}};ye==null||ye.addEventListener("click",()=>{if(!He){$("S\xE9lectionnez d\u2019abord une collection.");return}Ct(),Ge()}),ps==null||ps.addEventListener("click",n=>{if(n.preventDefault(),rt){rt=!1,Ne=null,Ft(),Ge();return}if(Ne){let c=Pe.find(w=>w.id===Ne);Dt(c)}else Ft()}),(tt=i.status)==null||tt.addEventListener("change",()=>{hs(i.status.value)}),(Us=i.title)==null||Us.addEventListener("input",()=>{!rt||!i.slug||Nt||(i.slug.value=gs(i.title.value))}),(Rs=i.slug)==null||Rs.addEventListener("input",()=>{rt&&(Nt=!0)}),ce==null||ce.addEventListener("submit",async n=>{var w;if(n.preventDefault(),!He){$("S\xE9lectionnez une collection.");return}let c=fo();if(!c.title){$("Le titre est requis."),(w=i.title)==null||w.focus();return}Ht(!0);try{let j;rt||!Ne?(j=await ho(He,c),Pe=[...Pe,j],$("Item cr\xE9\xE9")):(j=await yo(He,Ne,c),Pe=Pe.map(O=>O.id===j.id?j:O),$("Item mis \xE0 jour")),rt=!1,Ne=j.id,Dt(j),Ge()}catch(j){console.error("[content] save item failed",j),$(j.message||"Impossible de sauvegarder cet item.")}finally{Ht(!1)}});let es=()=>{J&&(J.classList.add("hidden"),J.classList.remove("flex"),Bt=null)},Mt=()=>{!J||!Ne||(Bt=Ne,J.classList.remove("hidden"),J.classList.add("flex"))};V==null||V.addEventListener("click",n=>{n.preventDefault(),Ne&&Mt()}),kt==null||kt.addEventListener("click",()=>{es()}),J==null||J.addEventListener("click",n=>{n.target===J&&es()}),bt==null||bt.addEventListener("click",async()=>{if(!Bt||!He){es();return}bt.disabled=!0,bt.textContent="Suppression\u2026";try{await Hs(He,Bt),Pe=Pe.filter(n=>n.id!==Bt),Ne===Bt&&(Ne=null,Ft()),$("Item supprim\xE9"),Ge()}catch(n){console.error("[content] delete item failed",n),$(n.message||"Impossible de supprimer cet item.")}finally{bt.disabled=!1,bt.textContent="Supprimer",es()}}),Gt(),Et(),Pt()}function qn(){let o=document.querySelector("[data-deploy-form]");if(!o)return;let a=document.querySelector("[data-deploy-protocol]"),p=document.querySelector("[data-deploy-host]"),b=document.querySelector("[data-deploy-port]"),h=document.querySelector("[data-deploy-user]"),x=document.querySelector("[data-deploy-password]"),R=document.querySelector("[data-deploy-show-password]"),W=document.querySelector("[data-deploy-remote-path]"),U=document.querySelector("[data-deploy-feedback]"),oe=document.querySelector("[data-deploy-save]"),te=document.querySelector("[data-deploy-test]"),f=document.querySelector("[data-deploy-trigger]"),E=document.querySelector("[data-deploy-history]"),C=document.querySelector("[data-deploy-log]"),L=Ce((z==null?void 0:z.slugValue)||Y.slug||""),P=L?`/api/sites/${encodeURIComponent(L)}/deploy-config`:null,M=L?`/api/sites/${encodeURIComponent(L)}/deploy`:null,N=L?`/api/sites/${encodeURIComponent(L)}/deploy-log`:null,H=!1,d=null,q=v=>{let g=(v||"").trim();return g?g.startsWith("/")?g:`/${g}`:"/www"},k=(v,g="muted")=>{if(!U)return;let S="inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold",Z=g==="success"?"bg-emerald-50 text-emerald-700 border border-emerald-100":g==="error"?"bg-rose-50 text-rose-700 border border-rose-100":"bg-slate-50 text-slate-600 border border-slate-100";if(!v){U.textContent="",U.className="text-sm text-slate-500";return}let ne=g==="success"?"\u2705":g==="error"?"\u274C":"\u2139\uFE0F";U.innerHTML=`<span class="${S} ${Z}">${ne}<span>${v}</span></span>`,U.className="text-sm"},T=(v=null)=>{d=v;let g=!!v,S='<svg class="h-4 w-4 animate-spin text-white" viewBox="0 0 24 24" fill="none" aria-hidden="true"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"></path></svg>';oe&&(oe.disabled=g,oe.innerHTML=v==="save"?`<span class="inline-flex items-center gap-2">${S}<span>Enregistrement\u2026</span></span>`:"Enregistrer"),te&&(te.disabled=g,te.innerHTML=v==="test"?'<span class="inline-flex items-center gap-2"><span class="h-4 w-4 animate-spin rounded-full border-2 border-slate-200 border-t-slate-600"></span><span>Test en cours\u2026</span></span>':"Tester la connexion"),f&&(f.disabled=g&&v!==null,f.innerHTML=v==="deploy"?'<span class="inline-flex items-center gap-2"><span class="h-4 w-4 animate-spin rounded-full border-2 border-white/60 border-t-white"></span><span>D\xE9ploiement\u2026</span></span>':"D\xE9ployer maintenant")},ee=v=>{a&&(a.value=v.protocol||"sftp"),p&&(p.value=v.host||""),b&&(b.value=v.port||""),h&&(h.value=v.user||""),W&&(W.value=v.remotePath||"/www"),H=!!v.hasPassword,x&&(x.value="",x.placeholder=H?"Non affich\xE9":"Mot de passe")},K=(v=[])=>{if(E){if(E.innerHTML="",!v.length){let g=document.createElement("li");g.className="text-slate-500",g.textContent="Aucun d\xE9ploiement pour le moment.",E.appendChild(g);return}v.forEach(g=>{let S=document.createElement("li");S.className="flex items-center justify-between gap-2 rounded-xl border border-slate-200 px-3 py-2";let Z=g.status==="success"?'<span class="rounded-full bg-emerald-50 px-2 py-0.5 text-[11px] font-semibold text-emerald-700">Succ\xE8s</span>':'<span class="rounded-full bg-rose-50 px-2 py-0.5 text-[11px] font-semibold text-rose-700">\xC9chec</span>',ne=g.finishedAt||g.startedAt||"",pe=g.durationMs&&Number(g.durationMs)>=0?`${Math.round(Number(g.durationMs)/1e3)}s`:"";S.innerHTML=`
          <div class="space-y-1">
            <div class="flex items-center gap-2">${Z}<span class="text-xs text-slate-500">${ne}</span></div>
            <p class="text-sm text-slate-800">${g.message||""}</p>
          </div>
          <div class="text-xs text-slate-500">${pe}</div>
        `,S.dataset.deployId=g.id||"",S.addEventListener("click",()=>{g.logs&&C&&(C.textContent=g.logs.join(`
`))}),E.appendChild(S)})}},X=(v=[])=>{C&&(C.textContent=v.length?v.join(`
`):"Aucun log pour le moment.")},ge=async()=>{var v;if(N)try{let g=await fetch(N,{headers:{Accept:"application/json"}});if(!g.ok){if(g.status===404){K([]),X(["API d\xE9ploiement indisponible (red\xE9marre le serveur)."]);return}throw new Error("Impossible de charger l\u2019historique.")}let S=await g.json().catch(()=>({})),Z=Array.isArray(S.entries)?S.entries:[];K(Z),(v=Z[0])!=null&&v.logs&&X(Z[0].logs)}catch(g){console.error("[deploy] history failed",g)}},ue=async()=>{if(!P){k("Aucun site actif s\xE9lectionn\xE9.","error");return}T("load");try{let v=await fetch(P,{headers:{Accept:"application/json"}}),g=await v.json().catch(()=>({}));v.ok?(ee(g||{}),k("Configuration charg\xE9e.","muted")):(ee(g||{}),k(g.message||"Configuration par d\xE9faut charg\xE9e.","muted"))}catch(v){console.error("[deploy] load failed",v),k(v.message||"Erreur lors du chargement.","error")}finally{T(null)}},Ie=()=>{let v={protocol:(a==null?void 0:a.value)||"sftp",host:(p==null?void 0:p.value.trim())||"",port:Number(b==null?void 0:b.value)||void 0,user:(h==null?void 0:h.value.trim())||"",remotePath:q((W==null?void 0:W.value)||"/www")},g=(x==null?void 0:x.value)||"";return g.trim().length>0&&(v.password=g),v};o.addEventListener("submit",async v=>{if(v.preventDefault(),!P){k("Aucun site actif s\xE9lectionn\xE9.","error");return}let g=Ie();T("save");try{let S=await fetch(P,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)});if(!S.ok){let ne=await S.json().catch(()=>({}));throw new Error(ne.message||"Sauvegarde impossible.")}let Z=await S.json();ee(Z||{}),k("Configuration enregistr\xE9e.","success"),$("Configuration d\xE9ploiement sauvegard\xE9e")}catch(S){console.error("[deploy] save failed",S),k(S.message||"Erreur lors de la sauvegarde.","error")}finally{T(null)}}),te==null||te.addEventListener("click",async()=>{if(!P){k("Aucun site actif s\xE9lectionn\xE9.","error");return}let v=Ie();if(!v.host||!v.user||!v.remotePath){k("Remplissez les champs requis avant de tester.","error");return}T("test");try{let g=await fetch(`${P}/test`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(v)}),S=await g.json().catch(()=>({}));if(!g.ok||S.success===!1){k(S.message||"Test de connexion \xE9chou\xE9.","error");return}k(S.message||"Connexion OK.","success"),$("Test de connexion r\xE9ussi")}catch(g){console.error("[deploy] test failed",g),k(g.message||"Test de connexion \xE9chou\xE9.","error")}finally{T(null)}}),f==null||f.addEventListener("click",async()=>{if(!M){k("Aucun site actif s\xE9lectionn\xE9.","error");return}T("deploy"),X(["D\xE9ploiement en cours\u2026"]);try{let v=await fetch(M,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ie())}),g=await v.json().catch(()=>({}));if(!v.ok){if(v.status===404){k("API d\xE9ploiement indisponible (red\xE9marre le serveur).","error"),X(["API d\xE9ploiement indisponible (red\xE9marre le serveur)."]);return}throw X(g.logs||[]),new Error(g.message||"D\xE9ploiement \xE9chou\xE9.")}X(g.logs||[]),await ge(),$("D\xE9ploiement termin\xE9")}catch(v){console.error("[deploy] run failed",v),k(v.message||"D\xE9ploiement \xE9chou\xE9.","error")}finally{T(null)}}),R==null||R.addEventListener("change",()=>{x&&(x.type=R.checked?"text":"password")});let me=document.querySelector("[data-download-build]"),Le=document.querySelector("[data-download-feedback]"),qe=L?`/api/sites/${encodeURIComponent(L)}/download`:null,D=(v,g="muted")=>{if(!Le)return;let S=g==="success"?"text-emerald-600":g==="error"?"text-rose-600":"text-slate-500";Le.textContent=v||"",Le.className=`text-sm ${S}`};me==null||me.addEventListener("click",async()=>{if(!qe){D("Aucun site actif s\xE9lectionn\xE9.","error");return}me.disabled=!0;let v=me.innerHTML;me.innerHTML=`
        <svg class="w-4 h-4 animate-spin" fill="none" viewBox="0 0 24 24">
          <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
          <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"></path>
        </svg>
        <span>Build en cours...</span>
      `,D("G\xE9n\xE9ration du build en cours...","muted");try{let g=await fetch(qe);if(!g.ok){let pe=await g.json().catch(()=>({}));throw new Error(pe.message||"Impossible de g\xE9n\xE9rer le ZIP.")}let S=await g.blob(),Z=window.URL.createObjectURL(S),ne=document.createElement("a");ne.href=Z,ne.download=`${L}-build.zip`,document.body.appendChild(ne),ne.click(),document.body.removeChild(ne),window.URL.revokeObjectURL(Z),D("T\xE9l\xE9chargement termin\xE9 !","success"),$("Build t\xE9l\xE9charg\xE9 avec succ\xE8s")}catch(g){console.error("[download] failed",g),D(g.message||"Erreur lors du t\xE9l\xE9chargement.","error")}finally{me.disabled=!1,me.innerHTML=v}}),ue(),ge()}function An(){let o=document.querySelectorAll("[data-settings-tab]"),a=document.querySelectorAll("[data-settings-panel]"),p=document.querySelector("[data-admin-password-form]"),b=document.querySelector("[data-site-config-form]"),h=document.querySelector("[data-site-config-feedback]"),x=document.querySelector("[data-theme-form]"),R=f=>{o.forEach(E=>{let C=E.dataset.settingsTab===f;E.setAttribute("aria-selected",C?"true":"false"),E.classList.toggle("bg-[#9C6BFF]",C),E.classList.toggle("text-white",C)}),a.forEach(E=>{E.classList.toggle("hidden",E.dataset.settingsPanel!==f)})};if(o.forEach(f=>{f.addEventListener("click",()=>R(f.dataset.settingsTab||"account"))}),R("account"),p){let f=p.querySelector("[data-admin-password-feedback]"),E=p.querySelector("[data-admin-password-submit]"),C=(L,P="muted")=>{if(!f)return;let M=P==="success"?"text-emerald-600":P==="error"?"text-rose-600":"text-slate-500";f.textContent=L||"",f.className=`text-sm ${M}`};p.addEventListener("submit",async L=>{L.preventDefault();let P=new FormData(p),M=P.get("currentPassword")||"",N=P.get("newPassword")||"",H=P.get("confirmPassword")||"";if(!M||!N||!H){C("Compl\xE8te tous les champs.","error");return}E&&(E.disabled=!0),C("");try{let d=await fetch("/api/admin/password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentPassword:M,newPassword:N,confirmPassword:H})}),q=await d.json().catch(()=>({}));if(!d.ok||q.success===!1)throw new Error(q.message||"Impossible de mettre \xE0 jour le mot de passe.");C(q.message||"Mot de passe mis \xE0 jour.","success"),p.reset()}catch(d){console.error("[settings] change password failed",d),C(d.message||"Erreur lors de la mise \xE0 jour.","error")}finally{E&&(E.disabled=!1)}})}if(b){let f=b.querySelector("[data-site-name]"),E=b.querySelector("[data-site-language]"),C=b.querySelector("[data-site-tagline]"),L=b.querySelector("[data-site-save]"),P=(d,q="muted")=>{if(!h)return;let k=q==="success"?"text-emerald-600":q==="error"?"text-rose-600":"text-slate-500";h.textContent=d||"",h.className=`text-sm ${k}`},M=Ce((z==null?void 0:z.slugValue)||Y.slug||""),N=M?`/api/sites/${encodeURIComponent(M)}/config/site`:null,H=async()=>{if(N)try{let d=await fetch(N,{headers:{Accept:"application/json"}});if(!d.ok)return;let q=await d.json().catch(()=>({}));f&&(f.value=q.name||""),E&&(E.value=q.language||"fr"),C&&(C.value=q.tagline||"")}catch(d){console.error("[settings] load site config failed",d)}};b.addEventListener("submit",async d=>{if(d.preventDefault(),!N){P("Aucun site actif.","error");return}if(!(f!=null&&f.value.trim())){P("Nom requis.","error");return}L&&(L.disabled=!0),P("");try{let q={name:(f==null?void 0:f.value)||"",language:(E==null?void 0:E.value)||"fr",tagline:(C==null?void 0:C.value)||""},k=await fetch(N,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(q)}),T=await k.json().catch(()=>({}));if(!k.ok||T.success===!1)throw new Error(T.message||"Sauvegarde impossible.");P(T.message||"Param\xE8tres enregistr\xE9s.","success")}catch(q){console.error("[settings] save site config failed",q),P(q.message||"Erreur lors de la sauvegarde.","error")}finally{L&&(L.disabled=!1)}}),H()}if(x){let f=Ce((z==null?void 0:z.slugValue)||Y.slug||""),E=f?`/api/sites/${encodeURIComponent(f)}/config/theme`:null,C={primary:x.querySelector("[data-theme-primary]"),secondary:x.querySelector("[data-theme-secondary]"),accent:x.querySelector("[data-theme-accent]"),background:x.querySelector("[data-theme-background]"),text:x.querySelector("[data-theme-text]")},L=x.querySelector("[data-theme-headings]"),P=x.querySelector("[data-theme-body]"),M=x.querySelector("[data-theme-radius-small]"),N=x.querySelector("[data-theme-radius-medium]"),H=x.querySelector("[data-theme-radius-large]"),d=x.querySelector("[data-theme-preview]"),q=x.querySelector("[data-theme-feedback]"),k=x.querySelector("[data-theme-apply]"),T=["slate","gray","zinc","neutral","stone","red","orange","amber","yellow","lime","green","emerald","teal","cyan","sky","blue","indigo","violet","purple","fuchsia","pink","rose"],ee=["50","100","200","300","400","500","600","700","800","900"],K=T.flatMap(D=>ee.map(v=>`${D}-${v}`)),X=()=>{Object.values(C).forEach(D=>{!D||D.options.length||K.forEach(v=>{let g=document.createElement("option");g.value=v;let[S,Z]=v.split("-");g.textContent=`${S.charAt(0).toUpperCase()+S.slice(1)} ${Z}`,D.appendChild(g)})})},ge=(D,v="muted")=>{if(!q)return;let g=v==="success"?"text-emerald-600":v==="error"?"text-rose-600":"text-slate-500";q.textContent=D||"",q.className=`text-sm ${g}`},ue=()=>{var v,g,S,Z,ne;if(!d)return;let D=pe=>{if(!pe)return null;if(pe==="white")return"#ffffff";if(pe==="black")return"#000000";if(pe==="transparent")return"transparent";let[he,Qe]=pe.split("-");if(!he||!Qe)return null;let et={slate:"#e2e8f0",gray:"#d1d5db",zinc:"#d4d4d8",neutral:"#d4d4d4",stone:"#d6d3d1",red:"#ef4444",orange:"#f97316",amber:"#f59e0b",yellow:"#eab308",lime:"#84cc16",green:"#22c55e",emerald:"#10b981",teal:"#14b8a6",cyan:"#06b6d4",sky:"#0ea5e9",blue:"#3b82f6",indigo:"#6366f1",violet:"#8b5cf6",purple:"#a855f7",fuchsia:"#d946ef",pink:"#ec4899",rose:"#f43f5e"}[he];if(!et)return null;let fe=Number(Qe)||500,re=Math.min(Math.max((fe-50)/900,0),1),Ae=A=>A.match(/[A-Fa-f0-9]{2}/g).map(ce=>parseInt(ce,16)),[$e,$t,jt]=Ae(et.replace("#","")),ye=A=>Math.round(255-(255-A)*re);return`rgb(${ye($e)}, ${ye($t)}, ${ye(jt)})`};d.style.setProperty("--color-primary",D((v=C.primary)==null?void 0:v.value)||"#9C6BFF"),d.style.setProperty("--color-secondary",D((g=C.secondary)==null?void 0:g.value)||"#0EA5E9"),d.style.setProperty("--color-accent",D((S=C.accent)==null?void 0:S.value)||"#F97316"),d.style.setProperty("--color-background",D((Z=C.background)==null?void 0:Z.value)||"#FFFFFF"),d.style.setProperty("--color-text",D((ne=C.text)==null?void 0:ne.value)||"#0F172A"),d.style.setProperty("--font-headings",(L==null?void 0:L.value)||"Inter, sans-serif"),d.style.setProperty("--font-body",(P==null?void 0:P.value)||"Inter, sans-serif"),d.style.setProperty("--radius-small",(M==null?void 0:M.value)||"8px"),d.style.setProperty("--radius-medium",(N==null?void 0:N.value)||"16px"),d.style.setProperty("--radius-large",(H==null?void 0:H.value)||"24px"),d.style.borderRadius=(N==null?void 0:N.value)||"16px"},Ie=(D,v)=>{C[D]&&(C[D].value=v)},me=D=>{var Z,ne;if(!D)return;let v=D.options[D.selectedIndex],g=((Z=v==null?void 0:v.dataset)==null?void 0:Z.color)||"#ffffff",S=(ne=D.closest(".relative"))==null?void 0:ne.querySelector("[data-color-preview]");S&&(g==="transparent"?S.style.background="repeating-conic-gradient(#ccc 0% 25%, white 0% 50%) 50% / 8px 8px":(S.style.backgroundColor=g,S.style.background=""))},Le=()=>{Object.values(C).forEach(D=>{D&&(me(D),D.addEventListener("change",()=>me(D)))})};Object.keys(C).forEach(D=>{var v;(v=C[D])==null||v.addEventListener("change",ue)}),[L,P,M,N,H].forEach(D=>{D==null||D.addEventListener("change",ue)});let qe=async()=>{var D,v,g,S,Z,ne,pe,he,Qe,le;if(E)try{let et=await fetch(E,{headers:{Accept:"application/json"}});if(!et.ok)return;let fe=await et.json().catch(()=>({}));Ie("primary",((D=fe.colors)==null?void 0:D.primary)||"violet-500"),Ie("secondary",((v=fe.colors)==null?void 0:v.secondary)||"indigo-400"),Ie("accent",((g=fe.colors)==null?void 0:g.accent)||"emerald-500"),Ie("background",((S=fe.colors)==null?void 0:S.background)||"slate-50"),Ie("text",((Z=fe.colors)==null?void 0:Z.text)||"slate-900"),L&&(L.value=((ne=fe.typography)==null?void 0:ne.headings)||"Inter, sans-serif"),P&&(P.value=((pe=fe.typography)==null?void 0:pe.body)||"Inter, sans-serif"),M&&(M.value=((he=fe.radius)==null?void 0:he.small)||"8px"),N&&(N.value=((Qe=fe.radius)==null?void 0:Qe.medium)||"16px"),H&&(H.value=((le=fe.radius)==null?void 0:le.large)||"24px"),ue(),Object.values(C).forEach(me)}catch(et){console.error("[settings] load theme failed",et)}};X(),Le(),k==null||k.addEventListener("click",async D=>{var g,S,Z,ne,pe;if(D.preventDefault(),!E){ge("Aucun site actif.","error");return}let v={colors:{primary:((g=C.primary)==null?void 0:g.value)||"violet-500",secondary:((S=C.secondary)==null?void 0:S.value)||"indigo-400",accent:((Z=C.accent)==null?void 0:Z.value)||"emerald-500",background:((ne=C.background)==null?void 0:ne.value)||"slate-50",text:((pe=C.text)==null?void 0:pe.value)||"slate-900"},typography:{headings:(L==null?void 0:L.value)||"Inter, sans-serif",body:(P==null?void 0:P.value)||"Inter, sans-serif"},radius:{small:(M==null?void 0:M.value)||"8px",medium:(N==null?void 0:N.value)||"16px",large:(H==null?void 0:H.value)||"24px"}};k.disabled=!0,ge("");try{let he=await fetch(E,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(v)}),Qe=await he.json().catch(()=>({}));if(!he.ok||Qe.success===!1)throw new Error(Qe.message||"Application du th\xE8me \xE9chou\xE9e.");ge(Qe.message||"Th\xE8me appliqu\xE9.","success"),ue()}catch(he){console.error("[settings] apply theme failed",he),ge(he.message||"Erreur lors de l\u2019application du th\xE8me.","error")}finally{k.disabled=!1}}),X(),Le(),qe(),ue()}let W=document.querySelector("[data-seo-config-form]");if(W){let f=W.querySelector("[data-seo-index-all]"),E=W.querySelector("[data-seo-config-feedback]"),C=W.querySelector("[data-seo-save]"),L=Ce((z==null?void 0:z.slugValue)||Y.slug||""),P=L?`/api/sites/${encodeURIComponent(L)}/config/site`:null,M=(H,d="muted")=>{if(!E)return;let q=d==="success"?"text-emerald-600":d==="error"?"text-rose-600":"text-slate-500";E.textContent=H||"",E.className=`text-sm ${q}`},N=async()=>{var H;if(P)try{let d=await fetch(P,{headers:{Accept:"application/json"}});if(!d.ok)return;let k=((H=(await d.json().catch(()=>({}))).seo)==null?void 0:H.indexAllPagesByDefault)!==!1;f&&(f.checked=k)}catch(d){console.error("[settings] load seo config failed",d)}};W.addEventListener("submit",async H=>{var d;if(H.preventDefault(),!P){M("Aucun site actif.","error");return}C&&(C.disabled=!0),M("");try{let q=await fetch(P,{headers:{Accept:"application/json"}}),k=q.ok?await q.json().catch(()=>({})):{},T={...k,seo:{...k.seo||{},indexAllPagesByDefault:(d=f==null?void 0:f.checked)!=null?d:!0}},ee=await fetch(P,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(T)}),K=await ee.json().catch(()=>({}));if(!ee.ok||K.success===!1)throw new Error(K.message||"Sauvegarde impossible.");M(K.message||"Param\xE8tres SEO enregistr\xE9s.","success")}catch(q){console.error("[settings] save seo config failed",q),M(q.message||"Erreur lors de la sauvegarde.","error")}finally{C&&(C.disabled=!1)}}),N()}let U=document.querySelector("[data-analytics-form]");if(U){let f=U.querySelector("[data-analytics-head]"),E=U.querySelector("[data-analytics-body]"),C=U.querySelector("[data-analytics-feedback]"),L=U.querySelector("[data-analytics-save]"),P=Ce((z==null?void 0:z.slugValue)||Y.slug||""),M=P?`/api/sites/${encodeURIComponent(P)}/config/site`:null,N=(d,q="muted")=>{if(!C)return;let k=q==="success"?"text-emerald-600":q==="error"?"text-rose-600":"text-slate-500";C.textContent=d||"",C.className=`text-sm ${k}`},H=async()=>{var d,q;if(M)try{let k=await fetch(M,{headers:{Accept:"application/json"}});if(!k.ok)return;let T=await k.json().catch(()=>({}));f&&(f.value=((d=T.analytics)==null?void 0:d.headCode)||""),E&&(E.value=((q=T.analytics)==null?void 0:q.bodyEndCode)||"")}catch(k){console.error("[settings] load analytics config failed",k)}};U.addEventListener("submit",async d=>{if(d.preventDefault(),!M){N("Aucun site actif.","error");return}L&&(L.disabled=!0),N("");try{let q=await fetch(M,{headers:{Accept:"application/json"}}),T={...q.ok?await q.json().catch(()=>({})):{},analytics:{headCode:(f==null?void 0:f.value)||"",bodyEndCode:(E==null?void 0:E.value)||""}},ee=await fetch(M,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(T)}),K=await ee.json().catch(()=>({}));if(!ee.ok||K.success===!1)throw new Error(K.message||"Sauvegarde impossible.");N(K.message||"Scripts enregistr\xE9s.","success")}catch(q){console.error("[settings] save analytics config failed",q),N(q.message||"Erreur lors de la sauvegarde.","error")}finally{L&&(L.disabled=!1)}}),H()}let oe=document.querySelector("[data-accessibility-form]");if(oe){let f=oe.querySelector("[data-accessibility-animations]"),E=oe.querySelector("[data-accessibility-contrast]"),C=oe.querySelector("[data-accessibility-feedback]"),L=oe.querySelector("[data-accessibility-save]"),P=Ce((z==null?void 0:z.slugValue)||Y.slug||""),M=P?`/api/sites/${encodeURIComponent(P)}/config/site`:null,N=(d,q="muted")=>{if(!C)return;let k=q==="success"?"text-emerald-600":q==="error"?"text-rose-600":"text-slate-500";C.textContent=d||"",C.className=`text-sm ${k}`},H=async()=>{var d,q;if(M)try{let k=await fetch(M,{headers:{Accept:"application/json"}});if(!k.ok)return;let T=await k.json().catch(()=>({}));f&&(f.checked=((d=T.accessibility)==null?void 0:d.animationsEnabled)!==!1),E&&(E.checked=((q=T.accessibility)==null?void 0:q.highContrast)===!0)}catch(k){console.error("[settings] load accessibility config failed",k)}};oe.addEventListener("submit",async d=>{var q,k;if(d.preventDefault(),!M){N("Aucun site actif.","error");return}L&&(L.disabled=!0),N("");try{let T=await fetch(M,{headers:{Accept:"application/json"}}),K={...T.ok?await T.json().catch(()=>({})):{},accessibility:{animationsEnabled:(q=f==null?void 0:f.checked)!=null?q:!0,highContrast:(k=E==null?void 0:E.checked)!=null?k:!1}},X=await fetch(M,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(K)}),ge=await X.json().catch(()=>({}));if(!X.ok||ge.success===!1)throw new Error(ge.message||"Sauvegarde impossible.");N(ge.message||"Pr\xE9f\xE9rences mises \xE0 jour.","success")}catch(T){console.error("[settings] save accessibility config failed",T),N(T.message||"Erreur lors de la sauvegarde.","error")}finally{L&&(L.disabled=!1)}}),H()}let te=document.querySelector("[data-ai-config-form]");if(te){let f=te.querySelector("[data-ai-api-key]"),E=te.querySelector("[data-ai-model]"),C=te.querySelector("[data-ai-project-prompt]"),L=te.querySelector("[data-ai-enabled]"),P=te.querySelector("[data-ai-feedback]"),M=te.querySelector("[data-ai-save]"),N=Ce((z==null?void 0:z.slugValue)||Y.slug||""),H=N?`/api/sites/${encodeURIComponent(N)}/config/ai`:null,d=(k,T="muted")=>{if(!P)return;let ee=T==="success"?"text-emerald-600":T==="error"?"text-rose-600":"text-slate-500";P.textContent=k||"",P.className=`text-sm ${ee}`},q=async()=>{if(H)try{let k=await fetch(H,{headers:{Accept:"application/json"}});if(!k.ok)return;let T=await k.json().catch(()=>({}));f&&(f.value="",f.placeholder=T.hasApiKey?"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022":"Cl\xE9 API Gemini"),E&&(E.value=T.model||"gemini-2.5-flash"),C&&(C.value=T.projectPrompt||""),L&&(L.checked=T.enabled!==!1)}catch(k){console.error("[settings] load AI config failed",k)}};te.addEventListener("submit",async k=>{var T,ee;if(k.preventDefault(),!H){d("Aucun site actif.","error");return}M&&(M.disabled=!0),d("");try{let K={model:(E==null?void 0:E.value)||"gemini-2.5-flash",projectPrompt:(C==null?void 0:C.value)||"",enabled:(T=L==null?void 0:L.checked)!=null?T:!0},X=(ee=f==null?void 0:f.value)==null?void 0:ee.trim();X&&(K.apiKey=X);let ge=await fetch(H,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(K)}),ue=await ge.json().catch(()=>({}));if(!ge.ok||ue.success===!1)throw new Error(ue.message||"Sauvegarde impossible.");d(ue.message||"Configuration IA enregistr\xE9e.","success"),f&&(f.value="",f.placeholder="\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022")}catch(K){console.error("[settings] save AI config failed",K),d(K.message||"Erreur lors de la sauvegarde.","error")}finally{M&&(M.disabled=!1)}}),q()}}function Tn(){let o=document.querySelector("[data-media-grid]");if(!o)return;let a=document.querySelector("[data-media-empty]"),p=document.querySelector("[data-media-count]"),b=document.querySelector("[data-media-filter-type]"),h=document.querySelector("[data-media-detail-empty]"),x=document.querySelector("[data-media-detail]"),R=document.querySelector("[data-media-detail-preview]"),W=document.querySelector("[data-media-detail-name]"),U=document.querySelector("[data-media-detail-type]"),oe=document.querySelector("[data-media-detail-size]"),te=document.querySelector("[data-media-detail-path]"),f=document.querySelector("[data-media-detail-used]"),E=document.querySelector("[data-media-alt-edit]"),C=document.querySelector("[data-media-save]"),L=document.querySelector("[data-media-delete]"),P=document.querySelector("[data-media-delete-modal]"),M=document.querySelector("[data-media-delete-cancel]"),N=document.querySelector("[data-media-delete-confirm]"),H=document.querySelector("[data-media-upload-open]"),d=document.querySelector("[data-media-file-input]"),q=document.querySelector("[data-media-upload-status]"),k=Ce((z==null?void 0:z.slugValue)||Y.slug||""),T=k?`/api/sites/${encodeURIComponent(k)}/media`:null,ee=[],K=[],X=null,ge=null,ue=null,Ie=!1,me=!1,Le=!1,qe=null,D=i=>{let I=(i.type||"").toLowerCase(),V=(i.filename||"").toLowerCase();return I.includes("image")||/\.(png|jpe?g|webp|svg|gif)$/i.test(V)?"image":I.includes("pdf")||I.includes("doc")||/\.(pdf|docx?)$/i.test(V)?"document":I.includes("video")||/\.(mp4|mov|webm)$/i.test(V)?"video":"other"},v=i=>D(i)==="image",g=i=>{if(i.type)return i.type.toUpperCase();let I=(i.filename||"").split(".").pop();return I?I.toUpperCase():"FILE"},S=i=>!i||i<=0?"\u2014":i<1024?`${i} o`:i<1024*1024?`${(i/1024).toFixed(1)} ko`:`${(i/(1024*1024)).toFixed(1)} Mo`,Z=()=>{x==null||x.classList.add("hidden"),h==null||h.classList.remove("hidden"),ne(),X=null,me=!1,le(!1),R&&(R.innerHTML='<span class="text-slate-400 text-sm">Aucun m\xE9dia s\xE9lectionn\xE9</span>'),W&&(W.textContent=""),U&&(U.textContent=""),oe&&(oe.textContent=""),E&&(E.value=""),te&&(te.textContent=""),f&&(f.innerHTML="")},ne=()=>{ue=null,Le=!1,Ie=!1,qe&&(URL.revokeObjectURL(qe),qe=null),q&&(q.textContent="Aucun fichier s\xE9lectionn\xE9."),d&&(d.value="")},pe=()=>{p&&(K.length?K.length===1?p.textContent="1 m\xE9dia":p.textContent=`${K.length} m\xE9dias`:p.textContent="0 m\xE9dia")},he=()=>{if(o.innerHTML="",!K.length){a==null||a.classList.remove("hidden"),Z();return}a==null||a.classList.add("hidden"),K.forEach(i=>{let I=document.createElement("button");I.type="button",I.dataset.mediaId=i.id;let V=i.id===X;I.className=["group relative flex flex-col rounded-2xl border px-3 py-3 text-left transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[#9C6BFF]",V?"border-[#9C6BFF] bg-[#F7F0FF]/60 shadow-sm":"border-slate-200 hover:border-[#9C6BFF]/40"].join(" ");let J=v(i)?`<img src="${i.path}" alt="${i.alt||i.filename}" class="h-full w-full object-cover" />`:'<div class="flex h-full w-full items-center justify-center text-3xl text-slate-400">\u{1F4C4}</div>';I.innerHTML=`
          <div class="relative aspect-[4/3] overflow-hidden rounded-xl bg-slate-100">
            ${J}
          </div>
          <div class="mt-2 space-y-1">
            <p class="text-sm font-semibold text-slate-900 truncate">${i.filename}</p>
            <p class="text-xs text-slate-500">
              ${g(i)} \xB7 ${S(i.size)}
            </p>
          </div>
        `,i.id===ge&&(I.classList.add("ring-2","ring-[#9C6BFF]"),window.setTimeout(()=>{I.classList.remove("ring-2","ring-[#9C6BFF]")},1600)),I.addEventListener("click",()=>et(i.id)),o.appendChild(I)}),ge=null},Qe=i=>{if(f){if(f.innerHTML="",!i.usedIn||i.usedIn.length===0){let I=document.createElement("li");I.textContent="Non utilis\xE9",I.className="text-xs text-slate-400",f.appendChild(I);return}i.usedIn.forEach(I=>{let V=document.createElement("li");V.textContent=I,V.className="text-xs text-slate-600",f.appendChild(V)})}},le=i=>{if(C){if(Le){C.textContent=i?"T\xE9l\xE9versement\u2026":"T\xE9l\xE9verser",C.disabled=i||!ue,L&&L.classList.add("hidden");return}C.textContent=i?"Enregistrement\u2026":"Enregistrer",C.disabled=i||!me,L&&(L.classList.remove("hidden"),L.disabled=!X)}},et=i=>{let I=ee.find(V=>V.id===i);if(!I){Z(),he();return}ne(),X=I.id,me=!1,le(!1),he(),h==null||h.classList.add("hidden"),x==null||x.classList.remove("hidden"),R&&(v(I)?R.innerHTML=`<img src="${I.path}" alt="${I.alt||I.filename}" class="h-full w-full rounded-2xl object-cover" />`:R.innerHTML='<div class="flex h-full w-full flex-col items-center justify-center gap-1 text-slate-400"><span class="text-3xl">\u{1F4C4}</span><span class="text-xs font-semibold">Document</span></div>'),W&&(W.textContent=I.filename||"Fichier"),U&&(U.textContent=g(I)),oe&&(oe.textContent=S(I.size)),E&&(E.value=I.alt||""),te&&(te.textContent=I.path||"\u2014"),Qe(I)},fe=i=>{if(i){if(Le=!0,me=!1,X=null,h==null||h.classList.add("hidden"),x==null||x.classList.remove("hidden"),qe&&URL.revokeObjectURL(qe),qe=URL.createObjectURL(i),R&&(R.innerHTML=`<img src="${qe}" alt="${i.name}" class="h-full w-full rounded-2xl object-cover" />`),W&&(W.textContent=i.name),U&&(U.textContent=g({type:i.type,filename:i.name})),oe&&(oe.textContent=S(i.size)),E&&!E.value.trim()&&(E.value=i.name.replace(/\.[^.]+$/,"").replace(/[-_]/g," ")),te&&(te.textContent="En attente de t\xE9l\xE9versement"),f){f.innerHTML="";let I=document.createElement("li");I.textContent="Non utilis\xE9",I.className="text-xs text-slate-400",f.appendChild(I)}le(!1)}},re=()=>{let i=(b==null?void 0:b.value)||"all";i==="all"?K=[...ee]:K=ee.filter(I=>I.groupType===i),K.some(I=>I.id===X)||Z(),pe(),he()},Ae=async()=>{if(!T){a==null||a.classList.remove("hidden");return}try{let i=await fetch(T,{headers:{Accept:"application/json"}});if(!i.ok)throw new Error("Impossible de charger les m\xE9dias.");let I=await i.json().catch(()=>({items:[]}));ee=Array.isArray(I.items)?I.items.map(V=>({...V,groupType:D(V)})):[],re()}catch(i){console.error("[media] load failed",i),$(i.message||"Impossible de charger les m\xE9dias."),ee=[],re()}};b==null||b.addEventListener("change",()=>{re()}),E==null||E.addEventListener("input",()=>{if(Le){le(!1);return}X&&(me=!0,le(!1))});let $e=i=>{if(i){if(!i.type.startsWith("image/")){$("Seules les images sont accept\xE9es pour le moment.");return}if(i.size>4*1024*1024){$("Fichier trop volumineux (4 Mo max).");return}ue=i,fe(i),q&&(q.textContent=`${i.name} \xB7 ${S(i.size)}`)}},$t=i=>new Promise((I,V)=>{let J=new FileReader;J.onload=()=>{let kt=J.result||"",[,bt=""]=String(kt).split(",");I(bt)},J.onerror=()=>V(new Error("Impossible de lire ce fichier.")),J.readAsDataURL(i)}),jt=async()=>{if(!(!ue||!T)){Ie=!0,le(!0);try{let i=await $t(ue),I={filename:ue.name,type:ue.type,size:ue.size,alt:(E==null?void 0:E.value)||"",data:i},V=await fetch(T,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(I)});if(!V.ok){let kt=await V.json().catch(()=>({}));throw new Error(kt.message||"Upload impossible.")}let J=await V.json();J.groupType=D(J),ee=[...ee,J],ge=J.id,re(),et(J.id),$("M\xE9dia ajout\xE9"),ne()}catch(i){console.error("[media] upload failed",i),$(i.message||"Impossible de t\xE9l\xE9verser ce m\xE9dia.")}finally{Ie=!1,ue=null,le(!1)}}};H==null||H.addEventListener("click",()=>d==null?void 0:d.click()),d==null||d.addEventListener("change",()=>{d.files&&d.files[0]&&$e(d.files[0])});let ye=()=>{P&&(P.classList.add("hidden"),P.classList.remove("flex"))},A=()=>{if(!(!X||Le)){if(P){P.classList.remove("hidden"),P.classList.add("flex");return}window.confirm("Supprimer ce m\xE9dia ?")&&ce()}},ce=async()=>{if(!X||!T){ye();return}let i=()=>{L&&(L.disabled=!0),N&&(N.disabled=!0,N.textContent="Suppression\u2026")},I=()=>{L&&(L.disabled=!1),N&&(N.disabled=!1,N.textContent="Supprimer")};i();try{let V=await fetch(`${T}/${encodeURIComponent(X)}`,{method:"DELETE"});if(!V.ok){let J=await V.json().catch(()=>({}));throw new Error(J.message||"Suppression impossible.")}ee=ee.filter(J=>J.id!==X),K=K.filter(J=>J.id!==X),$("M\xE9dia supprim\xE9"),Z(),pe(),he()}catch(V){console.error("[media] delete failed",V),$(V.message||"Impossible de supprimer ce m\xE9dia.")}finally{I(),ye()}};M==null||M.addEventListener("click",ye),P==null||P.addEventListener("click",i=>{i.target===P&&ye()}),N==null||N.addEventListener("click",()=>ce()),L==null||L.addEventListener("click",A),C==null||C.addEventListener("click",async()=>{if(Le){jt();return}if(!(!X||!T||!E)){le(!0);try{let i={alt:E.value||""},I=await fetch(`${T}/${encodeURIComponent(X)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!I.ok){let J=await I.json().catch(()=>({}));throw new Error(J.message||"Impossible de mettre \xE0 jour ce m\xE9dia.")}let V=await I.json();ee=ee.map(J=>J.id===X?{...J,...V}:J),K=K.map(J=>J.id===X?{...J,...V}:J),me=!1,le(!1),$("M\xE9dia mis \xE0 jour")}catch(i){console.error("[media] update failed",i),$(i.message||"\xC9chec de la mise \xE0 jour."),le(!1)}}}),Ae()}let io=document.getElementById("ai-chat-toggle"),Xt=document.getElementById("ai-chat-panel"),Xe=document.getElementById("ai-chat-overlay"),lo=document.getElementById("ai-chat-close"),co=document.getElementById("ai-chat-clear"),uo=document.getElementById("ai-chat-form"),Lt=document.getElementById("ai-chat-input"),Se=document.getElementById("ai-chat-messages"),Er=document.getElementById("ai-chat-status"),pt=document.getElementById("ai-chat-no-api"),In=document.querySelectorAll("[data-ai-quick]"),js=!1,mo=!1,Do=!1,$n=!1;function jn(){Xt&&(js=!0,Xt.classList.remove("translate-x-full"),Xt.setAttribute("aria-hidden","false"),Xe==null||Xe.classList.remove("opacity-0","pointer-events-none"),Xe==null||Xe.classList.add("opacity-100"),document.body.classList.add("overflow-hidden"),Lt==null||Lt.focus(),Do||Bn())}function Bs(){Xt&&(js=!1,Xt.classList.add("translate-x-full"),Xt.setAttribute("aria-hidden","true"),Xe==null||Xe.classList.add("opacity-0","pointer-events-none"),Xe==null||Xe.classList.remove("opacity-100"),document.body.classList.remove("overflow-hidden"))}async function Bn(){let o=Ce(Y.slug||"");if(!o){pt==null||pt.classList.remove("hidden");return}try{let a=await fetch(`/api/sites/${encodeURIComponent(o)}/config/ai`);if(!a.ok)throw new Error("Config check failed");let p=await a.json();Do=!0,$n=p.hasApiKey,!p.enabled||!p.hasApiKey?pt==null||pt.classList.remove("hidden"):(pt==null||pt.classList.add("hidden"),Fn())}catch(a){console.error("[AI] Config check failed:",a),pt==null||pt.classList.remove("hidden")}}async function Fn(){let o=Ce(Y.slug||"");if(!(!o||!Se))try{let a=await fetch(`/api/sites/${encodeURIComponent(o)}/ai/history`);if(!a.ok)return;let p=await a.json();if(p.messages&&p.messages.length>0){let b=Se.querySelector("[data-ai-welcome]");b&&b.remove(),p.messages.forEach(h=>{Fs(h.content,h.role==="user"?"user":"assistant")}),Se.scrollTop=Se.scrollHeight}}catch(a){console.error("[AI] History load failed:",a)}}function Fs(o,a="assistant"){if(!Se)return;let p=document.createElement("div");if(p.className="flex gap-3",a==="user")p.innerHTML=`
        <div class="flex-1"></div>
        <div class="max-w-[80%] bg-violet-600 text-white rounded-2xl rounded-tr-none p-3">
          <p class="text-sm whitespace-pre-wrap">${it(o)}</p>
        </div>
        <div class="w-8 h-8 rounded-full bg-slate-200 flex-shrink-0 flex items-center justify-center">
          <svg class="w-4 h-4 text-slate-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
          </svg>
        </div>
      `;else{let b=Mn(o);p.innerHTML=`
        <div class="w-8 h-8 rounded-full bg-gradient-to-br from-violet-500 to-indigo-600 flex-shrink-0 flex items-center justify-center">
          <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
          </svg>
        </div>
        <div class="flex-1 bg-slate-50 rounded-2xl rounded-tl-none p-3 overflow-x-auto">
          <div class="text-sm text-slate-700 prose prose-sm max-w-none [&>pre]:bg-slate-800 [&>pre]:text-slate-100 [&>pre]:rounded-lg [&>pre]:p-3 [&>pre]:overflow-x-auto [&>code]:bg-slate-200 [&>code]:px-1 [&>code]:rounded">${b}</div>
        </div>
      `}Se.appendChild(p),Se.scrollTop=Se.scrollHeight}function Pn(){if(!Se)return;let o=document.createElement("div");o.className="flex gap-3",o.id="ai-loading-indicator",o.innerHTML=`
      <div class="w-8 h-8 rounded-full bg-gradient-to-br from-violet-500 to-indigo-600 flex-shrink-0 flex items-center justify-center">
        <svg class="w-4 h-4 text-white animate-pulse" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
        </svg>
      </div>
      <div class="flex-1 bg-slate-50 rounded-2xl rounded-tl-none p-3">
        <div class="flex items-center gap-2">
          <div class="w-2 h-2 bg-violet-400 rounded-full animate-bounce" style="animation-delay: 0ms"></div>
          <div class="w-2 h-2 bg-violet-400 rounded-full animate-bounce" style="animation-delay: 150ms"></div>
          <div class="w-2 h-2 bg-violet-400 rounded-full animate-bounce" style="animation-delay: 300ms"></div>
        </div>
      </div>
    `,Se.appendChild(o),Se.scrollTop=Se.scrollHeight}function Ho(){let o=document.getElementById("ai-loading-indicator");o==null||o.remove()}function Mn(o){if(!o)return"";let a=it(o);return a=a.replace(/```(\w*)\n([\s\S]*?)```/g,(p,b,h)=>`<pre class="language-${b||"text"}"><code>${h.trim()}</code></pre>`),a=a.replace(/`([^`]+)`/g,"<code>$1</code>"),a=a.replace(/\*\*([^*]+)\*\*/g,"<strong>$1</strong>"),a=a.replace(/\*([^*]+)\*/g,"<em>$1</em>"),a=a.replace(/^### (.+)$/gm,'<h4 class="font-semibold text-slate-900 mt-3 mb-1">$1</h4>'),a=a.replace(/^## (.+)$/gm,'<h3 class="font-semibold text-slate-900 mt-3 mb-1">$1</h3>'),a=a.replace(/^# (.+)$/gm,'<h2 class="font-bold text-slate-900 mt-3 mb-2">$1</h2>'),a=a.replace(/^- (.+)$/gm,'<li class="ml-4">$1</li>'),a=a.replace(/^(\d+)\. (.+)$/gm,'<li class="ml-4">$2</li>'),a=a.replace(/\n\n/g,'</p><p class="mb-2">'),a='<p class="mb-2">'+a+"</p>",a=a.replace(/<p class="mb-2"><\/p>/g,""),a}function it(o){let a=document.createElement("div");return a.textContent=o,a.innerHTML}async function Uo(o){let a=Ce(Y.slug||"");if(!o||!a||mo)return;mo=!0,Lt.disabled=!0;let p=Se==null?void 0:Se.querySelector("[data-ai-welcome]");p&&p.remove(),Fs(o,"user"),Pn();try{let b=await fetch(`/api/sites/${encodeURIComponent(a)}/ai/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:o})});if(Ho(),!b.ok){let x=await b.json().catch(()=>({}));throw new Error(x.message||"Erreur de communication")}let h=await b.json();h.response&&Fs(h.response,"assistant"),h.editProposal&&Nn(h.editProposal),h.themeProposal&&Dn(h.themeProposal)}catch(b){Ho(),Fs(`\u274C Erreur: ${b.message}`,"assistant")}finally{mo=!1,Lt.disabled=!1,Lt.focus()}}function Nn(o){var b,h;if(!Se||!o)return;let a=document.createElement("div");a.className="flex gap-3 mt-2",a.dataset.proposalId=o.proposalId;let p="";if(o.changes&&(o.changes.title&&(p+=`<li>Titre \u2192 <strong>${it(o.changes.title)}</strong></li>`),o.changes.description&&(p+=`<li>Description \u2192 ${it(o.changes.description.substring(0,80))}...</li>`),o.changes.seo&&(o.changes.seo.metaTitle&&(p+=`<li>Meta title \u2192 ${it(o.changes.seo.metaTitle)}</li>`),o.changes.seo.metaDescription&&(p+=`<li>Meta description \u2192 ${it(o.changes.seo.metaDescription.substring(0,60))}...</li>`)),o.changes.blockUpdate&&(p+=`<li>Bloc "${o.changes.blockUpdate.blockId}" modifi\xE9</li>`,o.changes.blockUpdate.settings))){let x=o.changes.blockUpdate.settings;x.title&&(p+=`<li class="ml-4">\u2192 title: ${it(x.title)}</li>`),x.content&&(p+='<li class="ml-4">\u2192 content modifi\xE9</li>')}a.innerHTML=`
      <div class="w-8 h-8 rounded-full bg-amber-500 flex-shrink-0 flex items-center justify-center">
        <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"/>
        </svg>
      </div>
      <div class="flex-1 bg-amber-50 border border-amber-200 rounded-2xl rounded-tl-none p-4">
        <div class="flex items-center gap-2 mb-2">
          <span class="text-xs font-semibold text-amber-700 bg-amber-100 px-2 py-0.5 rounded">Proposition d'\xE9dition</span>
        </div>
        <p class="text-sm font-medium text-slate-800 mb-1">Page : ${it(o.pageTitle||o.pageId)}</p>
        ${o.reason?`<p class="text-sm text-slate-600 mb-2">${it(o.reason)}</p>`:""}
        <ul class="text-xs text-slate-600 space-y-1 mb-3 list-disc ml-4">
          ${p||"<li>Modifications propos\xE9es</li>"}
        </ul>
        <div class="flex gap-2">
          <button 
            class="ai-apply-edit px-3 py-1.5 text-xs font-medium text-white bg-emerald-600 hover:bg-emerald-700 rounded-lg transition-colors flex items-center gap-1"
            data-proposal-id="${o.proposalId}"
          >
            <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
            </svg>
            Appliquer
          </button>
          <button 
            class="ai-reject-edit px-3 py-1.5 text-xs font-medium text-slate-600 bg-slate-100 hover:bg-slate-200 rounded-lg transition-colors flex items-center gap-1"
            data-proposal-id="${o.proposalId}"
          >
            <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
            </svg>
            Rejeter
          </button>
        </div>
      </div>
    `,Se.appendChild(a),Se.scrollTop=Se.scrollHeight,(b=a.querySelector(".ai-apply-edit"))==null||b.addEventListener("click",Rn),(h=a.querySelector(".ai-reject-edit"))==null||h.addEventListener("click",Ro)}function Dn(o){var h,x,R,W;if(!Se||!o)return;let a=document.createElement("div");a.className="flex gap-3 mt-2",a.dataset.proposalId=o.proposalId;let p="";if((h=o.changes)!=null&&h.colors){let U=o.changes.colors;for(let[oe,te]of Object.entries(U))p+=`<li class="flex items-center gap-2">
          <span class="w-4 h-4 rounded border border-slate-300" style="background: ${Hn(te)}"></span>
          <span>${oe}: <strong>${it(te)}</strong></span>
        </li>`}let b="";if((x=o.changes)!=null&&x.typography){let U=o.changes.typography;U.headings&&(b+=`<li>Titres \u2192 <strong>${it(U.headings)}</strong></li>`),U.body&&(b+=`<li>Textes \u2192 <strong>${it(U.body)}</strong></li>`)}a.innerHTML=`
      <div class="w-8 h-8 rounded-full bg-purple-500 flex-shrink-0 flex items-center justify-center">
        <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"/>
        </svg>
      </div>
      <div class="flex-1 bg-purple-50 border border-purple-200 rounded-2xl rounded-tl-none p-4">
        <div class="flex items-center gap-2 mb-2">
          <span class="text-xs font-semibold text-purple-700 bg-purple-100 px-2 py-0.5 rounded">Modification du th\xE8me</span>
        </div>
        ${o.reason?`<p class="text-sm text-slate-600 mb-3">${it(o.reason)}</p>`:""}
        ${p?`
          <p class="text-xs font-medium text-slate-700 mb-1">Couleurs :</p>
          <ul class="text-xs text-slate-600 space-y-1 mb-3">${p}</ul>
        `:""}
        ${b?`
          <p class="text-xs font-medium text-slate-700 mb-1">Typographies :</p>
          <ul class="text-xs text-slate-600 space-y-1 mb-3 list-disc ml-4">${b}</ul>
        `:""}
        <div class="flex gap-2">
          <button 
            class="ai-apply-theme px-3 py-1.5 text-xs font-medium text-white bg-purple-600 hover:bg-purple-700 rounded-lg transition-colors flex items-center gap-1"
            data-proposal-id="${o.proposalId}"
          >
            <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
            </svg>
            Appliquer
          </button>
          <button 
            class="ai-reject-theme px-3 py-1.5 text-xs font-medium text-slate-600 bg-slate-100 hover:bg-slate-200 rounded-lg transition-colors flex items-center gap-1"
            data-proposal-id="${o.proposalId}"
          >
            <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
            </svg>
            Rejeter
          </button>
        </div>
      </div>
    `,Se.appendChild(a),Se.scrollTop=Se.scrollHeight,(R=a.querySelector(".ai-apply-theme"))==null||R.addEventListener("click",Un),(W=a.querySelector(".ai-reject-theme"))==null||W.addEventListener("click",Ro)}function Hn(o){return{white:"#ffffff",black:"#000000",transparent:"transparent","slate-50":"#f8fafc","slate-100":"#f1f5f9","slate-200":"#e2e8f0","slate-300":"#cbd5e1","slate-400":"#94a3b8","slate-500":"#64748b","slate-600":"#475569","slate-700":"#334155","slate-800":"#1e293b","slate-900":"#0f172a","gray-50":"#f9fafb","gray-100":"#f3f4f6","gray-200":"#e5e7eb","gray-300":"#d1d5db","gray-400":"#9ca3af","gray-500":"#6b7280","gray-600":"#4b5563","gray-700":"#374151","gray-800":"#1f2937","gray-900":"#111827","violet-50":"#f5f3ff","violet-100":"#ede9fe","violet-200":"#ddd6fe","violet-300":"#c4b5fd","violet-400":"#a78bfa","violet-500":"#8b5cf6","violet-600":"#7c3aed","violet-700":"#6d28d9","violet-800":"#5b21b6","violet-900":"#4c1d95","purple-50":"#faf5ff","purple-100":"#f3e8ff","purple-200":"#e9d5ff","purple-300":"#d8b4fe","purple-400":"#c084fc","purple-500":"#a855f7","purple-600":"#9333ea","purple-700":"#7e22ce","purple-800":"#6b21a8","purple-900":"#581c87","blue-50":"#eff6ff","blue-100":"#dbeafe","blue-200":"#bfdbfe","blue-300":"#93c5fd","blue-400":"#60a5fa","blue-500":"#3b82f6","blue-600":"#2563eb","blue-700":"#1d4ed8","blue-800":"#1e40af","blue-900":"#1e3a8a","emerald-50":"#ecfdf5","emerald-100":"#d1fae5","emerald-200":"#a7f3d0","emerald-300":"#6ee7b7","emerald-400":"#34d399","emerald-500":"#10b981","emerald-600":"#059669","emerald-700":"#047857","emerald-800":"#065f46","emerald-900":"#064e3b","teal-50":"#f0fdfa","teal-100":"#ccfbf1","teal-200":"#99f6e4","teal-300":"#5eead4","teal-400":"#2dd4bf","teal-500":"#14b8a6","teal-600":"#0d9488","teal-700":"#0f766e","teal-800":"#115e59","teal-900":"#134e4a","amber-50":"#fffbeb","amber-100":"#fef3c7","amber-200":"#fde68a","amber-300":"#fcd34d","amber-400":"#fbbf24","amber-500":"#f59e0b","amber-600":"#d97706","amber-700":"#b45309","amber-800":"#92400e","amber-900":"#78350f","red-50":"#fef2f2","red-100":"#fee2e2","red-200":"#fecaca","red-300":"#fca5a5","red-400":"#f87171","red-500":"#ef4444","red-600":"#dc2626","red-700":"#b91c1c","red-800":"#991b1b","red-900":"#7f1d1d"}[o]||"#9C6BFF"}async function Un(o){var h;let a=(h=o.target.closest("[data-proposal-id]"))==null?void 0:h.dataset.proposalId,p=Ce(Y.slug||"");if(!a||!p)return;let b=o.target.closest("button");b.disabled=!0,b.innerHTML='<span class="animate-spin">\u23F3</span> Application...';try{let x=await fetch(`/api/sites/${encodeURIComponent(p)}/ai/apply-theme`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({proposalId:a})}),R=await x.json();if(x.ok&&R.success){let W=document.querySelector(`[data-proposal-id="${a}"]`);W&&(W.innerHTML=`
            <div class="w-8 h-8 rounded-full bg-purple-500 flex-shrink-0 flex items-center justify-center">
              <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
              </svg>
            </div>
            <div class="flex-1 bg-purple-50 border border-purple-200 rounded-2xl rounded-tl-none p-3">
              <p class="text-sm text-purple-700">\u2705 Th\xE8me mis \xE0 jour avec succ\xE8s !</p>
              <p class="text-xs text-purple-600 mt-1">Rechargez la preview pour voir les changements.</p>
            </div>
          `),$("Th\xE8me mis \xE0 jour !"),document.dispatchEvent(new CustomEvent("ai-theme-updated",{detail:{updatedTheme:R.updatedTheme}}))}else throw new Error(R.message||"Erreur lors de l'application")}catch(x){b.disabled=!1,b.innerHTML='<svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg> R\xE9essayer',$(`Erreur: ${x.message}`)}}async function Rn(o){var h,x;let a=(h=o.target.closest("[data-proposal-id]"))==null?void 0:h.dataset.proposalId,p=Ce(Y.slug||"");if(!a||!p)return;let b=o.target.closest("button");b.disabled=!0,b.innerHTML='<span class="animate-spin">\u23F3</span> Application...';try{let R=await fetch(`/api/sites/${encodeURIComponent(p)}/ai/apply-edit`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({proposalId:a})}),W=await R.json();if(R.ok&&W.success){let U=document.querySelector(`[data-proposal-id="${a}"]`);U&&(U.innerHTML=`
            <div class="w-8 h-8 rounded-full bg-emerald-500 flex-shrink-0 flex items-center justify-center">
              <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
              </svg>
            </div>
            <div class="flex-1 bg-emerald-50 border border-emerald-200 rounded-2xl rounded-tl-none p-3">
              <p class="text-sm text-emerald-700">\u2705 Modifications appliqu\xE9es avec succ\xE8s !</p>
              <p class="text-xs text-emerald-600 mt-1">La preview se met \xE0 jour automatiquement.</p>
            </div>
          `),$("Modifications appliqu\xE9es !");let oe=((x=W.updatedPage)==null?void 0:x.id)||null;document.dispatchEvent(new CustomEvent("ai-page-updated",{detail:{pageId:oe,updatedPage:W.updatedPage}}))}else throw new Error(W.message||"Erreur lors de l'application")}catch(R){b.disabled=!1,b.innerHTML='<svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg> R\xE9essayer',$(`Erreur: ${R.message}`)}}async function Ro(o){var b;let a=(b=o.target.closest("[data-proposal-id]"))==null?void 0:b.dataset.proposalId,p=Ce(Y.slug||"");if(!(!a||!p))try{await fetch(`/api/sites/${encodeURIComponent(p)}/ai/proposal/${a}`,{method:"DELETE"});let h=document.querySelector(`[data-proposal-id="${a}"]`);h&&(h.innerHTML=`
          <div class="w-8 h-8 rounded-full bg-slate-400 flex-shrink-0 flex items-center justify-center">
            <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
            </svg>
          </div>
          <div class="flex-1 bg-slate-100 rounded-2xl rounded-tl-none p-3">
            <p class="text-sm text-slate-500">Proposition rejet\xE9e.</p>
          </div>
        `)}catch(h){console.error("[AI] Reject edit error:",h)}}async function On(){let o=Ce(Y.slug||"");if(!(!o||!Se))try{await fetch(`/api/sites/${encodeURIComponent(o)}/ai/history`,{method:"DELETE"}),Se.innerHTML="",Se.innerHTML=`
        <div class="flex gap-3" data-ai-welcome>
          <div class="w-8 h-8 rounded-full bg-gradient-to-br from-violet-500 to-indigo-600 flex-shrink-0 flex items-center justify-center">
            <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
            </svg>
          </div>
          <div class="flex-1 bg-slate-50 rounded-2xl rounded-tl-none p-3">
            <p class="text-sm text-slate-700">
              Salut ! \u{1F44B} Je suis ton assistant IA pour ce site. Je peux t'aider \xE0 :
            </p>
            <ul class="mt-2 text-sm text-slate-600 space-y-1">
              <li>\u{1F3A8} Sugg\xE9rer des palettes de couleurs</li>
              <li>\u270D\uFE0F G\xE9n\xE9rer du contenu pour tes blocs</li>
              <li>\u{1F4C4} Cr\xE9er des structures de pages</li>
              <li>\u{1F50D} Am\xE9liorer ton SEO</li>
              <li>\u270F\uFE0F <strong>Analyser et modifier tes pages</strong> (avec validation)</li>
            </ul>
          </div>
        </div>
      `,$("Historique effac\xE9")}catch(a){console.error("[AI] Clear history failed:",a),$("Erreur lors de l'effacement")}}let zn={colors:"Sugg\xE8re-moi 3 palettes de couleurs harmonieuses pour mon site. Pour chaque palette, donne les couleurs Tailwind: primary, secondary, accent, et background.",hero:"G\xE9n\xE8re un bloc Hero en JSON avec un titre accrocheur, un sous-titre engageant et un CTA.",seo:"Analyse mon site et sugg\xE8re des am\xE9liorations SEO pour le meta title et la meta description de ma page d'accueil.",landing:"G\xE9n\xE8re la structure JSON d'une landing page compl\xE8te avec: Hero, 3 sections de contenu, et un CTA final.",analyze:"Analyse le contenu de toutes mes pages et propose des am\xE9liorations concr\xE8tes. Pour chaque suggestion d'am\xE9lioration de texte ou de structure, utilise le format propose-edit pour que je puisse valider.",improveHome:"Analyse ma page d'accueil et propose une am\xE9lioration du titre ou du Hero pour le rendre plus impactant. Utilise le format propose-edit."};io==null||io.addEventListener("click",()=>{js?Bs():jn()}),lo==null||lo.addEventListener("click",Bs),Xe==null||Xe.addEventListener("click",Bs),co==null||co.addEventListener("click",()=>{confirm("Effacer tout l'historique de conversation ?")&&On()}),uo==null||uo.addEventListener("submit",o=>{var p;o.preventDefault();let a=(p=Lt==null?void 0:Lt.value)==null?void 0:p.trim();a&&(Lt.value="",Uo(a))}),In.forEach(o=>{o.addEventListener("click",()=>{let a=o.dataset.aiQuick,p=zn[a];p&&Uo(p)})}),document.addEventListener("keydown",o=>{o.key==="Escape"&&js&&Bs()})});})();
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vY29yZS9zY3JpcHRzL2FkbWluLmpzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuICBjb25zb2xlLmxvZygnW2FkbWluXSBBdGVsaWVyIGNoYXJnXHUwMEU5Jyk7XG4gIGNvbnN0IGxvZ291dEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWxvZ291dF0nKTtcbiAgaWYgKGxvZ291dEJ1dHRvbikge1xuICAgIGxvZ291dEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGxvZ291dEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBmZXRjaCgnL2FwaS9sb2dvdXQnLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbYWRtaW5dIEltcG9zc2libGUgZGUgc2UgZFx1MDBFOWNvbm5lY3RlcicsIGVycik7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvYWRtaW4vaW5kZXguaHRtbCc7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBjb25zdCBzaWRlYmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRtaW4tc2lkZWJhcl0nKTtcbiAgY29uc3Qgc2lkZWJhck92ZXJsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZG1pbi1zaWRlYmFyLW92ZXJsYXldJyk7XG4gIGNvbnN0IHNpZGViYXJUb2dnbGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYWRtaW4tc2lkZWJhci10b2dnbGVdJyk7XG4gIGNvbnN0IHNpZGViYXJDbG9zZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1hZG1pbi1zaWRlYmFyLWNsb3NlXScpO1xuICBjb25zdCBib2R5ID0gZG9jdW1lbnQuYm9keTtcbiAgbGV0IHNpZGViYXJPcGVuID0gZmFsc2U7XG5cbiAgY29uc3QgYXBwbHlTaWRlYmFyU3RhdGUgPSAoKSA9PiB7XG4gICAgaWYgKCFzaWRlYmFyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGlzRGVza3RvcCA9IHdpbmRvdy5tYXRjaE1lZGlhKCcobWluLXdpZHRoOiAxMDI0cHgpJykubWF0Y2hlcztcbiAgICBpZiAoaXNEZXNrdG9wKSB7XG4gICAgICBzaWRlYmFyLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgc2lkZWJhck92ZXJsYXk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHNpZGViYXJPcGVuKSB7XG4gICAgICBzaWRlYmFyLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgc2lkZWJhck92ZXJsYXk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgYm9keS5jbGFzc0xpc3QuYWRkKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2lkZWJhci5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIHNpZGViYXJPdmVybGF5Py5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnb3ZlcmZsb3ctaGlkZGVuJyk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IG9wZW5TaWRlYmFyID0gKCkgPT4ge1xuICAgIHNpZGViYXJPcGVuID0gdHJ1ZTtcbiAgICBhcHBseVNpZGViYXJTdGF0ZSgpO1xuICB9O1xuXG4gIGNvbnN0IGNsb3NlU2lkZWJhciA9ICgpID0+IHtcbiAgICBzaWRlYmFyT3BlbiA9IGZhbHNlO1xuICAgIGFwcGx5U2lkZWJhclN0YXRlKCk7XG4gIH07XG5cbiAgaWYgKHNpZGViYXIgJiYgc2lkZWJhclRvZ2dsZXMubGVuZ3RoID4gMCkge1xuICAgIHNpZGViYXJUb2dnbGVzLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlblNpZGViYXIpO1xuICAgIH0pO1xuICAgIHNpZGViYXJDbG9zZUJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZVNpZGViYXIpO1xuICAgIH0pO1xuICAgIHNpZGViYXJPdmVybGF5Py5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlU2lkZWJhcik7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGFwcGx5U2lkZWJhclN0YXRlKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VzY2FwZScgJiYgc2lkZWJhck9wZW4pIHtcbiAgICAgICAgY2xvc2VTaWRlYmFyKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgYXBwbHlTaWRlYmFyU3RhdGUoKTtcbiAgfVxuXG4gIGNvbnN0IEFDVElWRV9TSVRFX0tFWSA9ICdjbG93ZXI6Y3VycmVudFNpdGUnO1xuICBjb25zdCBBQ1RJVkVfU0lURV9OQU1FX0tFWSA9ICdjbG93ZXI6Y3VycmVudFNpdGVOYW1lJztcbiAgY29uc3Qgc3RvcmVkU2l0ZSA9IHsgc2x1ZzogbnVsbCwgbmFtZTogJycgfTtcbiAgY29uc3QgbG9hZFN0b3JlZFNpdGUgPSAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHN0b3JlZFNpdGUuc2x1ZyA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShBQ1RJVkVfU0lURV9LRVkpO1xuICAgICAgc3RvcmVkU2l0ZS5uYW1lID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKEFDVElWRV9TSVRFX05BTUVfS0VZKSB8fCAnJztcbiAgICB9IGNhdGNoIHtcbiAgICAgIHN0b3JlZFNpdGUuc2x1ZyA9IG51bGw7XG4gICAgICBzdG9yZWRTaXRlLm5hbWUgPSAnJztcbiAgICB9XG4gIH07XG4gIGxvYWRTdG9yZWRTaXRlKCk7XG5cbiAgY29uc3Qgc2l0ZUNhcmRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtc2l0ZS1jYXJkXScpO1xuICBjb25zdCBzaXRlU2VsZWN0QnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXNpdGUtc2VsZWN0XScpO1xuICBjb25zdCBzaXRlTmFtZUxhYmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY3VycmVudC1zaXRlLW5hbWVdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZVNpdGVMYWJlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXdvcmtzcGFjZS1zaXRlLW5hbWVdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZUJhY2tOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtd29ya3NwYWNlLWJhY2stbmFtZV0nKTtcbiAgY29uc3Qgd29ya3NwYWNlQmFja01vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtd29ya3NwYWNlLWJhY2stbW9kYWxdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZUJhY2tCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtd29ya3NwYWNlLWJhY2tdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZUJhY2tDYW5jZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS13b3Jrc3BhY2UtYmFjay1jYW5jZWxdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZUJhY2tDb25maXJtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtd29ya3NwYWNlLWJhY2stY29uZmlybV0nKTtcbiAgY29uc3Qgd29ya3NwYWNlTmF2TGlua3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS13b3Jrc3BhY2UtdGFiXScpO1xuICBjb25zdCBzaXRlVG9hc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLXRvYXN0XScpO1xuICBjb25zdCBzaXRlVG9hc3RNZXNzYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS10b2FzdC1tZXNzYWdlXScpO1xuICBjb25zdCBzaXRlQ3JlYXRlQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXNpdGUtY3JlYXRlXScpO1xuICBjb25zdCBzaXRlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLW1vZGFsXScpO1xuICBjb25zdCBzaXRlRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtZm9ybV0nKTtcbiAgLy8gVXNlIG1vcmUgc3BlY2lmaWMgc2VsZWN0b3JzIHRvIGdldCBpbnB1dHMgSU5TSURFIHRoZSBmb3JtLCBub3Qgc2l0ZSBjYXJkc1xuICBjb25zdCBzaXRlTmFtZUlucHV0ID0gc2l0ZUZvcm0/LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9XCJzaXRlTmFtZVwiXScpO1xuICBjb25zdCBzaXRlU2x1Z0lucHV0ID0gc2l0ZUZvcm0/LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9XCJzaXRlU2x1Z1wiXScpO1xuICBjb25zdCBzaXRlU2x1Z0Vycm9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS1zbHVnLWVycm9yXScpO1xuICBjb25zdCBzaXRlTW9kYWxFcnJvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtbW9kYWwtZXJyb3JdJyk7XG4gIGNvbnN0IHNpdGVNb2RhbENhbmNlbEJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1zaXRlLW1vZGFsLWNhbmNlbF0nKTtcbiAgY29uc3Qgc2l0ZU1vZGFsU3VibWl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS1tb2RhbC1zdWJtaXRdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZUNvbnRleHQgPSBnZXRXb3Jrc3BhY2VDb250ZXh0KCk7XG4gIGxldCBzbHVnTWFudWFsbHlFZGl0ZWQgPSBmYWxzZTtcbiAgbGV0IHRvYXN0VGltZW91dElkID0gbnVsbDtcblxuICBjb25zdCBmb2N1c2FibGVTZWxlY3RvciA9XG4gICAgJ2FbaHJlZl0sIGJ1dHRvbjpub3QoW2Rpc2FibGVkXSksIHRleHRhcmVhLCBpbnB1dCwgc2VsZWN0LCBbdGFiaW5kZXhdOm5vdChbdGFiaW5kZXg9XCItMVwiXSknO1xuICBjb25zdCBtb2RhbFN0YWNrID0gW107XG4gIGNvbnN0IGdldEZvY3VzYWJsZUVsZW1lbnRzID0gKG1vZGFsKSA9PlxuICAgIEFycmF5LmZyb20obW9kYWwucXVlcnlTZWxlY3RvckFsbChmb2N1c2FibGVTZWxlY3RvcikpLmZpbHRlcihcbiAgICAgIChlbCkgPT4gIWVsLmhhc0F0dHJpYnV0ZSgnZGlzYWJsZWQnKSAmJiAhZWwuZ2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicpLFxuICAgICk7XG4gIGNvbnN0IGhhbmRsZU1vZGFsS2V5ZG93biA9IChldmVudCkgPT4ge1xuICAgIGlmICghbW9kYWxTdGFjay5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgY3VycmVudEVudHJ5ID0gbW9kYWxTdGFja1ttb2RhbFN0YWNrLmxlbmd0aCAtIDFdO1xuICAgIGNvbnN0IHsgbW9kYWwsIG9uQ2xvc2UgfSA9IGN1cnJlbnRFbnRyeTtcbiAgICBpZiAoZXZlbnQua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIG9uQ2xvc2U/LigpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoZXZlbnQua2V5ICE9PSAnVGFiJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBmb2N1c2FibGVFbGVtZW50cyA9IGdldEZvY3VzYWJsZUVsZW1lbnRzKG1vZGFsKTtcbiAgICBpZiAoIWZvY3VzYWJsZUVsZW1lbnRzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBmaXJzdCA9IGZvY3VzYWJsZUVsZW1lbnRzWzBdO1xuICAgIGNvbnN0IGxhc3QgPSBmb2N1c2FibGVFbGVtZW50c1tmb2N1c2FibGVFbGVtZW50cy5sZW5ndGggLSAxXTtcbiAgICBpZiAoZXZlbnQuc2hpZnRLZXkpIHtcbiAgICAgIGlmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSBmaXJzdCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBsYXN0LmZvY3VzKCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSBsYXN0KSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZmlyc3QuZm9jdXMoKTtcbiAgICB9XG4gIH07XG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVNb2RhbEtleWRvd24pO1xuICBjb25zdCBhY3RpdmF0ZU1vZGFsID0gKG1vZGFsLCBvbkNsb3NlKSA9PiB7XG4gICAgaWYgKCFtb2RhbCkgcmV0dXJuO1xuICAgIG1vZGFsU3RhY2sucHVzaCh7XG4gICAgICBtb2RhbCxcbiAgICAgIG9uQ2xvc2UsXG4gICAgICB0cmlnZ2VyOiBkb2N1bWVudC5hY3RpdmVFbGVtZW50IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgPyBkb2N1bWVudC5hY3RpdmVFbGVtZW50IDogbnVsbCxcbiAgICB9KTtcbiAgICBjb25zdCBmb2N1c2FibGUgPSBnZXRGb2N1c2FibGVFbGVtZW50cyhtb2RhbCk7XG4gICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgKGZvY3VzYWJsZVswXSB8fCBtb2RhbCkuZm9jdXM/LigpO1xuICAgIH0sIDApO1xuICB9O1xuICBjb25zdCBkZWFjdGl2YXRlTW9kYWwgPSAobW9kYWwpID0+IHtcbiAgICBjb25zdCBpbmRleCA9IG1vZGFsU3RhY2suZmluZEluZGV4KChlbnRyeSkgPT4gZW50cnkubW9kYWwgPT09IG1vZGFsKTtcbiAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IFtlbnRyeV0gPSBtb2RhbFN0YWNrLnNwbGljZShpbmRleCwgMSk7XG4gICAgZW50cnkudHJpZ2dlcj8uZm9jdXM/LigpO1xuICB9O1xuXG4gIGNvbnN0IHNob3dUb2FzdCA9IChtZXNzYWdlKSA9PiB7XG4gICAgaWYgKCFzaXRlVG9hc3QgfHwgIXNpdGVUb2FzdE1lc3NhZ2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2l0ZVRvYXN0TWVzc2FnZS50ZXh0Q29udGVudCA9IG1lc3NhZ2U7XG4gICAgc2l0ZVRvYXN0LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgIGlmICh0b2FzdFRpbWVvdXRJZCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRvYXN0VGltZW91dElkKTtcbiAgICB9XG4gICAgdG9hc3RUaW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHNpdGVUb2FzdC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICB9LCAyNTAwKTtcbiAgfTtcblxuICBmdW5jdGlvbiBlbnN1cmVMZWFkaW5nU2xhc2goc2x1Zykge1xuICAgIGlmICghc2x1Zykge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICByZXR1cm4gc2x1Zy5zdGFydHNXaXRoKCcvJykgPyBzbHVnIDogYC8ke3NsdWd9YDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHN0cmlwTGVhZGluZ1NsYXNoKHNsdWcpIHtcbiAgICByZXR1cm4gc2x1Zz8ucmVwbGFjZSgvXlxcLy8sICcnKSB8fCAnJztcbiAgfVxuXG4gIGNvbnN0IHBlcnNpc3RTaXRlU3RhdGUgPSAoc2x1ZywgbmFtZSkgPT4ge1xuICAgIGNvbnN0IG5vcm1hbGl6ZWRTbHVnID0gc2x1ZyA/IGVuc3VyZUxlYWRpbmdTbGFzaChzbHVnKSA6IG51bGw7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChub3JtYWxpemVkU2x1Zykge1xuICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oQUNUSVZFX1NJVEVfS0VZLCBub3JtYWxpemVkU2x1Zyk7XG4gICAgICAgIHN0b3JlZFNpdGUuc2x1ZyA9IG5vcm1hbGl6ZWRTbHVnO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBuYW1lID09PSAnc3RyaW5nJyAmJiBuYW1lLmxlbmd0aCA+IDApIHtcbiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKEFDVElWRV9TSVRFX05BTUVfS0VZLCBuYW1lKTtcbiAgICAgICAgc3RvcmVkU2l0ZS5uYW1lID0gbmFtZTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIHtcbiAgICAgIHN0b3JlZFNpdGUuc2x1ZyA9IG5vcm1hbGl6ZWRTbHVnIHx8IHN0b3JlZFNpdGUuc2x1ZztcbiAgICAgIHN0b3JlZFNpdGUubmFtZSA9IG5hbWUgfHwgc3RvcmVkU2l0ZS5uYW1lO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCB1cGRhdGVTaXRlTGFiZWxzID0gKG5hbWUpID0+IHtcbiAgICBpZiAoc2l0ZU5hbWVMYWJlbCAmJiBuYW1lKSB7XG4gICAgICBzaXRlTmFtZUxhYmVsLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICB9XG4gICAgaWYgKHdvcmtzcGFjZVNpdGVMYWJlbCAmJiBuYW1lKSB7XG4gICAgICB3b3Jrc3BhY2VTaXRlTGFiZWwudGV4dENvbnRlbnQgPSBuYW1lO1xuICAgIH1cbiAgICBpZiAod29ya3NwYWNlQmFja05hbWUgJiYgbmFtZSkge1xuICAgICAgd29ya3NwYWNlQmFja05hbWUudGV4dENvbnRlbnQgPSBuYW1lO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCB1cGRhdGVXb3Jrc3BhY2VOYXZMaW5rcyA9IChzbHVnKSA9PiB7XG4gICAgd29ya3NwYWNlTmF2TGlua3MuZm9yRWFjaCgobGluaykgPT4ge1xuICAgICAgY29uc3QgdGFiID0gbGluay5kYXRhc2V0LndvcmtzcGFjZVRhYjtcbiAgICAgIGlmICghdGFiKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghc2x1Zykge1xuICAgICAgICBsaW5rLmhyZWYgPSAnIyc7XG4gICAgICAgIGxpbmsuY2xhc3NMaXN0LmFkZCgncG9pbnRlci1ldmVudHMtbm9uZScsICdvcGFjaXR5LTUwJywgJ3RleHQtc2xhdGUtNDAwJyk7XG4gICAgICAgIGxpbmsuc2V0QXR0cmlidXRlKCdhcmlhLWRpc2FibGVkJywgJ3RydWUnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3Qgc2x1Z1BhdGggPSBlbmNvZGVVUklDb21wb25lbnQoc3RyaXBMZWFkaW5nU2xhc2goc2x1ZykpO1xuICAgICAgbGluay5ocmVmID0gYC9hZG1pbi9zaXRlLyR7c2x1Z1BhdGh9LyR7dGFifWA7XG4gICAgICBsaW5rLmNsYXNzTGlzdC5yZW1vdmUoJ3BvaW50ZXItZXZlbnRzLW5vbmUnLCAnb3BhY2l0eS01MCcsICd0ZXh0LXNsYXRlLTQwMCcpO1xuICAgICAgbGluay5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtZGlzYWJsZWQnKTtcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBhcHBseUFjdGl2ZVNpdGUgPSAoc2x1Zywgb3B0aW9ucyA9IHt9KSA9PiB7XG4gICAgaWYgKCFzbHVnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG5vcm1hbGl6ZWRTbHVnID0gZW5zdXJlTGVhZGluZ1NsYXNoKHNsdWcpO1xuICAgIGxldCBhY3RpdmVTaXRlTmFtZSA9XG4gICAgICBvcHRpb25zLnNpdGVOYW1lIHx8IHN0b3JlZFNpdGUubmFtZSB8fCBzaXRlTmFtZUxhYmVsPy5kYXRhc2V0LmRlZmF1bHRTaXRlTmFtZSB8fCAnJztcbiAgICBzaXRlQ2FyZHMuZm9yRWFjaCgoY2FyZCkgPT4ge1xuICAgICAgY29uc3QgY2FyZFNsdWcgPSBlbnN1cmVMZWFkaW5nU2xhc2goY2FyZC5kYXRhc2V0LnNpdGVDYXJkIHx8ICcnKTtcbiAgICAgIGNvbnN0IGlzQWN0aXZlID0gY2FyZFNsdWcgPT09IG5vcm1hbGl6ZWRTbHVnO1xuICAgICAgY29uc3QgYmFkZ2UgPSBjYXJkLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtYWN0aXZlLWJhZGdlXScpO1xuICAgICAgaWYgKGlzQWN0aXZlKSB7XG4gICAgICAgIGNhcmQuY2xhc3NMaXN0LmFkZCgnYm9yZGVyLVsjOUM2QkZGXScsICdyaW5nLTInLCAncmluZy1bIzlDNkJGRl0nLCAnc2hhZG93LW1kJyk7XG4gICAgICAgIGNhcmQuY2xhc3NMaXN0LnJlbW92ZSgnYm9yZGVyLXNsYXRlLTIwMCcpO1xuICAgICAgICBiYWRnZT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIGFjdGl2ZVNpdGVOYW1lID0gY2FyZC5kYXRhc2V0LnNpdGVOYW1lIHx8IGFjdGl2ZVNpdGVOYW1lO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FyZC5jbGFzc0xpc3QucmVtb3ZlKCdib3JkZXItWyM5QzZCRkZdJywgJ3JpbmctMicsICdyaW5nLVsjOUM2QkZGXScsICdzaGFkb3ctbWQnKTtcbiAgICAgICAgY2FyZC5jbGFzc0xpc3QuYWRkKCdib3JkZXItc2xhdGUtMjAwJyk7XG4gICAgICAgIGJhZGdlPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAob3B0aW9ucy5wZXJzaXN0ICE9PSBmYWxzZSkge1xuICAgICAgcGVyc2lzdFNpdGVTdGF0ZShub3JtYWxpemVkU2x1Zywgb3B0aW9ucy5zaXRlTmFtZSB8fCBhY3RpdmVTaXRlTmFtZSk7XG4gICAgfVxuICAgIGNvbnN0IGZpbmFsTmFtZSA9IG9wdGlvbnMuc2l0ZU5hbWUgfHwgYWN0aXZlU2l0ZU5hbWU7XG4gICAgdXBkYXRlU2l0ZUxhYmVscyhmaW5hbE5hbWUpO1xuICAgIHVwZGF0ZVdvcmtzcGFjZU5hdkxpbmtzKG5vcm1hbGl6ZWRTbHVnKTtcbiAgfTtcblxuICBjb25zdCBzZWxlY3RTaXRlID0gYXN5bmMgKHNsdWcsIG5hbWUpID0+IHtcbiAgICBjb25zdCBub3JtYWxpemVkU2x1ZyA9IGVuc3VyZUxlYWRpbmdTbGFzaChzbHVnKTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9zaXRlcy9zZWxlY3QnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBzbHVnOiBub3JtYWxpemVkU2x1ZyB9KSxcbiAgICAgIH0pO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICBzaG93VG9hc3QocGF5bG9hZC5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIHNcdTAwRTlsZWN0aW9ubmVyIGNlIHNpdGUuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICBjb25zdCBmaW5hbFNsdWcgPSBlbnN1cmVMZWFkaW5nU2xhc2gocGF5bG9hZC5zbHVnIHx8IG5vcm1hbGl6ZWRTbHVnKTtcbiAgICAgIGNvbnN0IGZpbmFsTmFtZSA9IHBheWxvYWQubmFtZSB8fCBuYW1lO1xuICAgICAgcGVyc2lzdFNpdGVTdGF0ZShmaW5hbFNsdWcsIGZpbmFsTmFtZSk7XG4gICAgICBhcHBseUFjdGl2ZVNpdGUoZmluYWxTbHVnLCB7IHNpdGVOYW1lOiBmaW5hbE5hbWUsIHBlcnNpc3Q6IGZhbHNlIH0pO1xuICAgICAgY29uc3Qgc2x1Z1BhdGggPSBlbmNvZGVVUklDb21wb25lbnQoc3RyaXBMZWFkaW5nU2xhc2goZmluYWxTbHVnKSk7XG4gICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGAvYWRtaW4vc2l0ZS8ke3NsdWdQYXRofS9kZXNpZ25gO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignW2FkbWluXSBJbXBvc3NpYmxlIGRlIHNcdTAwRTlsZWN0aW9ubmVyIGxlIHNpdGUnLCBlcnIpO1xuICAgICAgc2hvd1RvYXN0KCdFcnJldXIgaW5hdHRlbmR1ZSBsb3JzIGRlIGxhIHNcdTAwRTlsZWN0aW9uLicpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBzeW5jQWN0aXZlU2l0ZUZyb21TZXJ2ZXIgPSBhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvc2l0ZXMvY3VycmVudCcsIHsgY3JlZGVudGlhbHM6ICdzYW1lLW9yaWdpbicgfSk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwNCAmJiB3b3Jrc3BhY2VDb250ZXh0KSB7XG4gICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnL2FkbWluL3NpdGVzJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBzaXRlID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgY29uc3Qgbm9ybWFsaXplZFNsdWcgPSBlbnN1cmVMZWFkaW5nU2xhc2goc2l0ZS5zbHVnKTtcbiAgICAgIHBlcnNpc3RTaXRlU3RhdGUobm9ybWFsaXplZFNsdWcsIHNpdGUubmFtZSk7XG4gICAgICBhcHBseUFjdGl2ZVNpdGUobm9ybWFsaXplZFNsdWcsIHsgc2l0ZU5hbWU6IHNpdGUubmFtZSwgcGVyc2lzdDogZmFsc2UgfSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ1thZG1pbl0gSW1wb3NzaWJsZSBkZSByXHUwMEU5Y3VwXHUwMEU5cmVyIGxlIHNpdGUgYWN0aWYnLCBlcnIpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoaWdobGlnaHRGcm9tU3RvcmFnZU9yRGVmYXVsdCA9ICgpID0+IHtcbiAgICBpZiAoc3RvcmVkU2l0ZS5zbHVnKSB7XG4gICAgICBhcHBseUFjdGl2ZVNpdGUoc3RvcmVkU2l0ZS5zbHVnLCB7IHNpdGVOYW1lOiBzdG9yZWRTaXRlLm5hbWUsIHBlcnNpc3Q6IGZhbHNlIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBkZWZhdWx0Q2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtY2FyZF1bZGF0YS1zaXRlLWRlZmF1bHQ9XCJ0cnVlXCJdJykgfHwgc2l0ZUNhcmRzWzBdO1xuICAgIGlmIChkZWZhdWx0Q2FyZCkge1xuICAgICAgYXBwbHlBY3RpdmVTaXRlKGRlZmF1bHRDYXJkLmRhdGFzZXQuc2l0ZUNhcmQsIHtcbiAgICAgICAgc2l0ZU5hbWU6IGRlZmF1bHRDYXJkLmRhdGFzZXQuc2l0ZU5hbWUgfHwgJycsXG4gICAgICAgIHBlcnNpc3Q6IGZhbHNlLFxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIGhpZ2hsaWdodEZyb21TdG9yYWdlT3JEZWZhdWx0KCk7XG4gIHN5bmNBY3RpdmVTaXRlRnJvbVNlcnZlcigpO1xuICBpZiAod29ya3NwYWNlQ29udGV4dCkge1xuICAgIHVwZGF0ZVdvcmtzcGFjZU5hdkxpbmtzKHdvcmtzcGFjZUNvbnRleHQuc2x1Z1ZhbHVlKTtcbiAgfSBlbHNlIGlmIChzdG9yZWRTaXRlLnNsdWcpIHtcbiAgICB1cGRhdGVXb3Jrc3BhY2VOYXZMaW5rcyhzdG9yZWRTaXRlLnNsdWcpO1xuICB9XG5cbiAgc2l0ZVNlbGVjdEJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgaWYgKGJ1dHRvbi5kaXNhYmxlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBzbHVnID0gYnV0dG9uLmRhdGFzZXQuc2l0ZVNlbGVjdDtcbiAgICAgIGNvbnN0IG5hbWUgPSBidXR0b24uZGF0YXNldC5zaXRlU2VsZWN0TmFtZSB8fCAnQ2Ugc2l0ZSc7XG4gICAgICBpZiAoIXNsdWcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIHNlbGVjdFNpdGUoc2x1ZywgbmFtZSkuZmluYWxseSgoKSA9PiB7XG4gICAgICAgIGJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGNvbnN0IHdvcmtzcGFjZVNsdWdpZnkgPSAodmFsdWUpID0+XG4gICAgKHZhbHVlIHx8ICcnKVxuICAgICAgLm5vcm1hbGl6ZSgnTkZEJylcbiAgICAgIC5yZXBsYWNlKC9bXFx1MDMwMC1cXHUwMzZmXS9nLCAnJylcbiAgICAgIC50b0xvd2VyQ2FzZSgpXG4gICAgICAucmVwbGFjZSgvW15hLXowLTldKy9nLCAnLScpXG4gICAgICAucmVwbGFjZSgvXi0rfC0rJC9nLCAnJyk7XG5cbiAgY29uc3Qgbm9ybWFsaXplU2x1Z1ZhbHVlID0gKHZhbHVlKSA9PiB7XG4gICAgY29uc3QgYmFzZSA9IHdvcmtzcGFjZVNsdWdpZnkodmFsdWUgfHwgJycpO1xuICAgIGlmICghYmFzZSkge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICByZXR1cm4gYC8ke2Jhc2V9YDtcbiAgfTtcblxuICBjb25zdCBvcGVuU2l0ZU1vZGFsID0gKCkgPT4ge1xuICAgIGlmICghc2l0ZU1vZGFsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHNpdGVNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICBzaXRlTW9kYWwuY2xhc3NMaXN0LmFkZCgnZmxleCcpO1xuICAgIHNsdWdNYW51YWxseUVkaXRlZCA9IGZhbHNlO1xuICAgIHNpdGVGb3JtPy5yZXNldCgpO1xuICAgIHNpdGVTbHVnRXJyb3IgJiYgKHNpdGVTbHVnRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgc2l0ZU1vZGFsRXJyb3IgJiYgKHNpdGVNb2RhbEVycm9yLnRleHRDb250ZW50ID0gJycpO1xuICAgIGlmIChzaXRlU2x1Z0lucHV0ICYmIHNpdGVOYW1lSW5wdXQpIHtcbiAgICAgIHNpdGVTbHVnSW5wdXQudmFsdWUgPSB3b3Jrc3BhY2VTbHVnaWZ5KHNpdGVOYW1lSW5wdXQudmFsdWUpO1xuICAgIH1cbiAgICBhY3RpdmF0ZU1vZGFsKHNpdGVNb2RhbCwgY2xvc2VTaXRlTW9kYWwpO1xuICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHNpdGVOYW1lSW5wdXQ/LmZvY3VzKCk7XG4gICAgfSwgMCk7XG4gIH07XG5cbiAgY29uc3QgY2xvc2VTaXRlTW9kYWwgPSAoKSA9PiB7XG4gICAgaWYgKCFzaXRlTW9kYWwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2l0ZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgIHNpdGVNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdmbGV4Jyk7XG4gICAgc2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gICAgc2l0ZUZvcm0/LnJlc2V0KCk7XG4gICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICBzaXRlTW9kYWxFcnJvciAmJiAoc2l0ZU1vZGFsRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgZGVhY3RpdmF0ZU1vZGFsKHNpdGVNb2RhbCk7XG4gIH07XG5cbiAgc2l0ZUNyZWF0ZUJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlblNpdGVNb2RhbCk7XG4gIH0pO1xuXG4gIHNpdGVNb2RhbENhbmNlbEJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VTaXRlTW9kYWwpO1xuICB9KTtcblxuICBzaXRlTW9kYWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gc2l0ZU1vZGFsKSB7XG4gICAgICBjbG9zZVNpdGVNb2RhbCgpO1xuICAgIH1cbiAgfSk7XG5cbiAgc2l0ZU5hbWVJbnB1dD8uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgaWYgKCFzaXRlU2x1Z0lucHV0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghc2x1Z01hbnVhbGx5RWRpdGVkIHx8IHNpdGVTbHVnSW5wdXQudmFsdWUudHJpbSgpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgc2l0ZVNsdWdJbnB1dC52YWx1ZSA9IHdvcmtzcGFjZVNsdWdpZnkoc2l0ZU5hbWVJbnB1dC52YWx1ZSk7XG4gICAgfVxuICAgIC8vIENsZWFyIGVycm9ycyB3aGVuIHVzZXIgdHlwZXNcbiAgICBzaXRlU2x1Z0Vycm9yICYmIChzaXRlU2x1Z0Vycm9yLnRleHRDb250ZW50ID0gJycpO1xuICAgIHNpdGVNb2RhbEVycm9yICYmIChzaXRlTW9kYWxFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgfSk7XG5cbiAgc2l0ZVNsdWdJbnB1dD8uYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCAoKSA9PiB7XG4gICAgLy8gQXV0by1maWxsIHNsdWcgZnJvbSBuYW1lIGlmIGVtcHR5IHdoZW4gdXNlciBmb2N1c2VzIHRoZSBzbHVnIGZpZWxkXG4gICAgY29uc3Qgc2x1Z1ZhbCA9IHNpdGVTbHVnSW5wdXQ/LnZhbHVlIHx8ICcnO1xuICAgIGNvbnN0IG5hbWVWYWwgPSBzaXRlTmFtZUlucHV0Py52YWx1ZSB8fCAnJztcbiAgICBpZiAoIXNsdWdWYWwudHJpbSgpICYmIG5hbWVWYWwudHJpbSgpKSB7XG4gICAgICBzaXRlU2x1Z0lucHV0LnZhbHVlID0gd29ya3NwYWNlU2x1Z2lmeShuYW1lVmFsKTtcbiAgICB9XG4gIH0pO1xuXG4gIHNpdGVTbHVnSW5wdXQ/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgIHNsdWdNYW51YWxseUVkaXRlZCA9IHRydWU7XG4gICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICBzaXRlTW9kYWxFcnJvciAmJiAoc2l0ZU1vZGFsRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gIH0pO1xuXG4gIGNvbnN0IGdldFNsdWdTZXQgPSAoKSA9PlxuICAgIG5ldyBTZXQoQXJyYXkuZnJvbShzaXRlQ2FyZHMpLm1hcCgoY2FyZCkgPT4gZW5zdXJlTGVhZGluZ1NsYXNoKGNhcmQuZGF0YXNldC5zaXRlQ2FyZCB8fCAnJykpKTtcblxuICBzaXRlRm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zb2xlLmxvZygnW2FkbWluXSBGb3JtIHN1Ym1pdCAtIHNpdGVOYW1lSW5wdXQ6Jywgc2l0ZU5hbWVJbnB1dCwgJ3NpdGVTbHVnSW5wdXQ6Jywgc2l0ZVNsdWdJbnB1dCk7XG4gICAgXG4gICAgaWYgKCFzaXRlTmFtZUlucHV0IHx8ICFzaXRlU2x1Z0lucHV0KSB7XG4gICAgICBjb25zb2xlLmxvZygnW2FkbWluXSBNaXNzaW5nIGlucHV0cywgYWJvcnRpbmcnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgbmFtZVZhbHVlID0gKHNpdGVOYW1lSW5wdXQudmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICBsZXQgc2x1Z1ZhbHVlID0gKHNpdGVTbHVnSW5wdXQudmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICBcbiAgICBjb25zb2xlLmxvZygnW2FkbWluXSBuYW1lVmFsdWU6JywgbmFtZVZhbHVlLCAnc2x1Z1ZhbHVlOicsIHNsdWdWYWx1ZSk7XG4gICAgXG4gICAgLy8gQXV0by1nZW5lcmF0ZSBzbHVnIGZyb20gbmFtZSBpZiBlbXB0eVxuICAgIGlmICghc2x1Z1ZhbHVlICYmIG5hbWVWYWx1ZSkge1xuICAgICAgc2x1Z1ZhbHVlID0gd29ya3NwYWNlU2x1Z2lmeShuYW1lVmFsdWUpO1xuICAgICAgc2l0ZVNsdWdJbnB1dC52YWx1ZSA9IHNsdWdWYWx1ZTtcbiAgICAgIGNvbnNvbGUubG9nKCdbYWRtaW5dIEF1dG8tZ2VuZXJhdGVkIHNsdWc6Jywgc2x1Z1ZhbHVlKTtcbiAgICB9XG4gICAgXG4gICAgY29uc3Qgbm9ybWFsaXplZFNsdWcgPSBub3JtYWxpemVTbHVnVmFsdWUoc2x1Z1ZhbHVlKTtcbiAgICBjb25zb2xlLmxvZygnW2FkbWluXSBub3JtYWxpemVkU2x1ZzonLCBub3JtYWxpemVkU2x1Zyk7XG4gICAgXG4gICAgLy8gVmFsaWRhdGUgbmFtZVxuICAgIGlmICghbmFtZVZhbHVlKSB7XG4gICAgICBjb25zb2xlLmxvZygnW2FkbWluXSBOYW1lIHZhbGlkYXRpb24gZmFpbGVkJyk7XG4gICAgICBzaXRlTW9kYWxFcnJvciAmJiAoc2l0ZU1vZGFsRXJyb3IudGV4dENvbnRlbnQgPSAnTGUgbm9tIGR1IHNpdGUgZXN0IHJlcXVpcy4nKTtcbiAgICAgIHNpdGVOYW1lSW5wdXQuZm9jdXMoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgLy8gVmFsaWRhdGUgc2x1Z1xuICAgIGlmICghbm9ybWFsaXplZFNsdWcpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdbYWRtaW5dIFNsdWcgdmFsaWRhdGlvbiBmYWlsZWQnKTtcbiAgICAgIHNpdGVTbHVnRXJyb3IgJiYgKHNpdGVTbHVnRXJyb3IudGV4dENvbnRlbnQgPSAnTGUgc2x1ZyBuZSBwZXV0IHBhcyBcdTAwRUF0cmUgdmlkZSBvdSBjb250ZW5pciB1bmlxdWVtZW50IGRlcyBjYXJhY3RcdTAwRThyZXMgc3BcdTAwRTljaWF1eC4nKTtcbiAgICAgIHNpdGVTbHVnSW5wdXQuZm9jdXMoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgZXhpc3RpbmdTbHVncyA9IGdldFNsdWdTZXQoKTtcbiAgICBpZiAoZXhpc3RpbmdTbHVncy5oYXMobm9ybWFsaXplZFNsdWcpKSB7XG4gICAgICBzaXRlU2x1Z0Vycm9yICYmIChzaXRlU2x1Z0Vycm9yLnRleHRDb250ZW50ID0gJ0NlIHNsdWcgZXN0IGRcdTAwRTlqXHUwMEUwIHV0aWxpc1x1MDBFOS4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICBzaXRlTW9kYWxFcnJvciAmJiAoc2l0ZU1vZGFsRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgaWYgKHNpdGVNb2RhbFN1Ym1pdEJ1dHRvbikge1xuICAgICAgc2l0ZU1vZGFsU3VibWl0QnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIHNpdGVNb2RhbFN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9ICdDclx1MDBFOWF0aW9uLi4uJztcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvc2l0ZXMnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBuYW1lOiBuYW1lVmFsdWUsIHNsdWc6IG5vcm1hbGl6ZWRTbHVnIH0pLFxuICAgICAgfSk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBwYXlsb2FkLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgY3JcdTAwRTllciBjZSBzaXRlLic7XG4gICAgICAgIHNpdGVNb2RhbEVycm9yICYmIChzaXRlTW9kYWxFcnJvci50ZXh0Q29udGVudCA9IG1lc3NhZ2UpO1xuICAgICAgICBpZiAocGF5bG9hZC5maWVsZCA9PT0gJ3NsdWcnKSB7XG4gICAgICAgICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9IG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNyZWF0ZWRTaXRlID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgY29uc3QgZmluYWxTbHVnID0gZW5zdXJlTGVhZGluZ1NsYXNoKGNyZWF0ZWRTaXRlPy5zbHVnIHx8IG5vcm1hbGl6ZWRTbHVnKTtcbiAgICAgIGNvbnN0IGZpbmFsTmFtZSA9IGNyZWF0ZWRTaXRlPy5uYW1lIHx8IG5hbWVWYWx1ZTtcbiAgICAgIHBlcnNpc3RTaXRlU3RhdGUoZmluYWxTbHVnLCBmaW5hbE5hbWUpO1xuICAgICAgY2xvc2VTaXRlTW9kYWwoKTtcbiAgICAgIGNvbnN0IHNsdWdQYXRoID0gZW5jb2RlVVJJQ29tcG9uZW50KHN0cmlwTGVhZGluZ1NsYXNoKGZpbmFsU2x1ZykpO1xuICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBgL2FkbWluL3NpdGUvJHtzbHVnUGF0aH0vZGVzaWduYDtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1thZG1pbl0gSW1wb3NzaWJsZSBkZSBjclx1MDBFOWVyIGxlIHNpdGUnLCBlcnIpO1xuICAgICAgc2l0ZU1vZGFsRXJyb3IgJiYgKHNpdGVNb2RhbEVycm9yLnRleHRDb250ZW50ID0gJ0VycmV1ciBpbmF0dGVuZHVlLiBSXHUwMEU5ZXNzYWllIGRhbnMgdW4gaW5zdGFudC4nKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKHNpdGVNb2RhbFN1Ym1pdEJ1dHRvbikge1xuICAgICAgICBzaXRlTW9kYWxTdWJtaXRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgc2l0ZU1vZGFsU3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gJ0NyXHUwMEU5ZXInO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZlbnQpID0+IHtcbiAgICBpZiAoZXZlbnQua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgaWYgKHNpdGVNb2RhbCAmJiAhc2l0ZU1vZGFsLmNsYXNzTGlzdC5jb250YWlucygnaGlkZGVuJykpIHtcbiAgICAgICAgY2xvc2VTaXRlTW9kYWwoKTtcbiAgICAgIH1cbiAgICAgIGlmICh3b3Jrc3BhY2VCYWNrTW9kYWwgJiYgIXdvcmtzcGFjZUJhY2tNb2RhbC5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpKSB7XG4gICAgICAgIGNsb3NlV29ya3NwYWNlQmFja01vZGFsKCk7XG4gICAgICB9XG4gICAgICBpZiAoYmxvY2tEZWxldGVNb2RhbCAmJiAhYmxvY2tEZWxldGVNb2RhbC5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpKSB7XG4gICAgICAgIGNsb3NlQmxvY2tEZWxldGVNb2RhbCgpO1xuICAgICAgfVxuICAgICAgaWYgKGJsb2NrTGlicmFyeU9wZW4pIHtcbiAgICAgICAgY2xvc2VCbG9ja0xpYnJhcnkoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIGdldFdvcmtzcGFjZUNvbnRleHQoKSB7XG4gICAgY29uc3QgbWF0Y2ggPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUubWF0Y2goL15cXC9hZG1pblxcL3NpdGVcXC8oW14vXSspKD86XFwvKFteL10rKSk/Lyk7XG4gICAgaWYgKCFtYXRjaCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBzbHVnUGFydDogZGVjb2RlVVJJQ29tcG9uZW50KG1hdGNoWzFdKSxcbiAgICAgIHNsdWdWYWx1ZTogZW5zdXJlTGVhZGluZ1NsYXNoKGRlY29kZVVSSUNvbXBvbmVudChtYXRjaFsxXSkpLFxuICAgICAgc2VjdGlvbjogbWF0Y2hbMl0gfHwgJ2Rlc2lnbicsXG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRldGVjdFdvcmtzcGFjZVNlY3Rpb24oKSB7XG4gICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXBhZ2UtbGlzdF0nKSkge1xuICAgICAgcmV0dXJuICdkZXNpZ24nO1xuICAgIH1cbiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29sbGVjdGlvbi1saXN0XScpKSB7XG4gICAgICByZXR1cm4gJ2NvbnRlbnQnO1xuICAgIH1cbiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZ3JpZF0nKSkge1xuICAgICAgcmV0dXJuICdtZWRpYSc7XG4gICAgfVxuICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktZm9ybV0nKSkge1xuICAgICAgcmV0dXJuICdkZXBsb3knO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9wZW5Xb3Jrc3BhY2VCYWNrTW9kYWwoKSB7XG4gICAgaWYgKCF3b3Jrc3BhY2VCYWNrTW9kYWwpIHtcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9hZG1pbi9zaXRlcyc7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHdvcmtzcGFjZUJhY2tNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICB3b3Jrc3BhY2VCYWNrTW9kYWwuY2xhc3NMaXN0LmFkZCgnZmxleCcpO1xuICAgIGFjdGl2YXRlTW9kYWwod29ya3NwYWNlQmFja01vZGFsLCBjbG9zZVdvcmtzcGFjZUJhY2tNb2RhbCk7XG4gIH1cblxuICBmdW5jdGlvbiBjbG9zZVdvcmtzcGFjZUJhY2tNb2RhbCgpIHtcbiAgICBpZiAoIXdvcmtzcGFjZUJhY2tNb2RhbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB3b3Jrc3BhY2VCYWNrTW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgd29ya3NwYWNlQmFja01vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2ZsZXgnKTtcbiAgICBkZWFjdGl2YXRlTW9kYWwod29ya3NwYWNlQmFja01vZGFsKTtcbiAgfVxuXG4gIHdvcmtzcGFjZUJhY2tCdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5Xb3Jrc3BhY2VCYWNrTW9kYWwpO1xuICB9KTtcbiAgd29ya3NwYWNlQmFja0NhbmNlbC5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZVdvcmtzcGFjZUJhY2tNb2RhbCk7XG4gIH0pO1xuICB3b3Jrc3BhY2VCYWNrQ29uZmlybT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgY2xvc2VXb3Jrc3BhY2VCYWNrTW9kYWwoKTtcbiAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvYWRtaW4vc2l0ZXMnO1xuICB9KTtcblxuICBjb25zdCBhY3RpdmVTZWN0aW9uID0gd29ya3NwYWNlQ29udGV4dD8uc2VjdGlvbiB8fCBkZXRlY3RXb3Jrc3BhY2VTZWN0aW9uKCk7XG5cbiAgaWYgKGFjdGl2ZVNlY3Rpb24gPT09ICdkZXNpZ24nKSB7XG4gICAgaW5pdERlc2lnbldvcmtzcGFjZSgpO1xuICB9XG4gIGlmIChhY3RpdmVTZWN0aW9uID09PSAnY29udGVudCcpIHtcbiAgICBpbml0Q29udGVudFdvcmtzcGFjZSgpO1xuICB9XG4gIGlmIChhY3RpdmVTZWN0aW9uID09PSAnbWVkaWEnKSB7XG4gICAgaW5pdE1lZGlhV29ya3NwYWNlKCk7XG4gIH1cbiAgaWYgKGFjdGl2ZVNlY3Rpb24gPT09ICdkZXBsb3knKSB7XG4gICAgaW5pdERlcGxveVdvcmtzcGFjZSgpO1xuICB9XG4gIGlmIChhY3RpdmVTZWN0aW9uID09PSAnc2V0dGluZ3MnKSB7XG4gICAgaW5pdFNldHRpbmdzV29ya3NwYWNlKCk7XG4gIH1cblxuICBpZiAod29ya3NwYWNlQ29udGV4dCAmJiBzdG9yZWRTaXRlLm5hbWUpIHtcbiAgICB1cGRhdGVTaXRlTGFiZWxzKHN0b3JlZFNpdGUubmFtZSk7XG4gIH1cblxuICBmdW5jdGlvbiBpbml0RGVzaWduV29ya3NwYWNlKCkge1xuICAgIGNvbnN0IHBhZ2VMaXN0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXBhZ2UtbGlzdF0nKTtcbiAgICBpZiAocGFnZUxpc3RzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBhY3RpdmVUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFjdGl2ZS1wYWdlLXRpdGxlXScpO1xuICAgIGNvbnN0IGFjdGl2ZVNsdWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hY3RpdmUtcGFnZS1zbHVnXScpO1xuICAgIGNvbnN0IHByZXZpZXdUYWdzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcmV2aWV3LXRhZ3NdJyk7XG4gICAgY29uc3QgcHJldmlld0ZyYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcmV2aWV3LWZyYW1lXScpO1xuICAgIGNvbnN0IHByZXZpZXdPcGVuQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcHJldmlldy1vcGVuXScpO1xuICAgIGNvbnN0IHByZXZpZXdTdGF0dXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wcmV2aWV3LXN0YXR1c10nKTtcbiAgICBjb25zdCBwcmV2aWV3SGlnaGxpZ2h0T3ZlcmxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXByZXZpZXctaGlnaGxpZ2h0XScpO1xuICAgIC8vIFNFTyBwYW5lbCBlbGVtZW50c1xuICAgIGNvbnN0IHNlb1RvZ2dsZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby10b2dnbGVdJyk7XG4gICAgY29uc3Qgc2VvUGFuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8tcGFuZWxdJyk7XG4gICAgY29uc3Qgc2VvQ2xvc2VCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8tY2xvc2VdJyk7XG4gICAgY29uc3Qgc2VvRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby1mb3JtXScpO1xuICAgIGNvbnN0IHNlb1RpdGxlSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8tdGl0bGVdJyk7XG4gICAgY29uc3Qgc2VvRGVzY3JpcHRpb25JbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby1kZXNjcmlwdGlvbl0nKTtcbiAgICBjb25zdCBzZW9JbmRleGVkQ2hlY2tib3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8taW5kZXhlZF0nKTtcbiAgICBjb25zdCBzZW9GZWVkYmFjayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby1mZWVkYmFja10nKTtcbiAgICBjb25zdCBzZW9TYXZlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2VvLXNhdmVdJyk7XG4gICAgY29uc3QgcGFnZUFjY2Vzc2liaWxpdHlUb2dnbGVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgJ1tkYXRhLXBhZ2UtYWNjZXNzaWJpbGl0eS10b2dnbGVdJyxcbiAgICApO1xuICAgIGNvbnN0IHBhZ2VBY2Nlc3NpYmlsaXR5UGFuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLWFjY2Vzc2liaWxpdHktcGFuZWxdJyk7XG4gICAgY29uc3QgcGFnZUFjY2Vzc2liaWxpdHlDbG9zZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAnW2RhdGEtcGFnZS1hY2Nlc3NpYmlsaXR5LWNsb3NlXScsXG4gICAgKTtcbiAgICBjb25zdCBwYWdlQWNjZXNzaWJpbGl0eUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLWFjY2Vzc2liaWxpdHktZm9ybV0nKTtcbiAgICBjb25zdCBwYWdlQWNjZXNzaWJpbGl0eU5hdkNoZWNrYm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgICdbZGF0YS1wYWdlLWFjY2Vzc2liaWxpdHktbmF2XScsXG4gICAgKTtcbiAgICBjb25zdCBwYWdlQWNjZXNzaWJpbGl0eU1haW5JbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAnW2RhdGEtcGFnZS1hY2Nlc3NpYmlsaXR5LW1haW5dJyxcbiAgICApO1xuICAgIGNvbnN0IHBhZ2VBY2Nlc3NpYmlsaXR5RmVlZGJhY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgJ1tkYXRhLXBhZ2UtYWNjZXNzaWJpbGl0eS1mZWVkYmFja10nLFxuICAgICk7XG4gICAgY29uc3QgcGFnZUFjY2Vzc2liaWxpdHlTYXZlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgICdbZGF0YS1wYWdlLWFjY2Vzc2liaWxpdHktc2F2ZV0nLFxuICAgICk7XG4gICAgLy8gUGFnZSBwcm9wZXJ0aWVzIHBhbmVsIGVsZW1lbnRzXG4gICAgY29uc3QgcGFnZVByb3BzVG9nZ2xlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcm9wcy10b2dnbGVdJyk7XG4gICAgY29uc3QgcGFnZVByb3BzUGFuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLXByb3BzLXBhbmVsXScpO1xuICAgIGNvbnN0IHBhZ2VQcm9wc0Nsb3NlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcm9wcy1jbG9zZV0nKTtcbiAgICBjb25zdCBwYWdlUHJvcHNGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcm9wcy1mb3JtXScpO1xuICAgIGNvbnN0IHBhZ2VOYW1lSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLW5hbWVdJyk7XG4gICAgY29uc3QgcGFnZVRpdGxlSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLXRpdGxlLWlucHV0XScpO1xuICAgIGNvbnN0IHBhZ2VTbHVnSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLXNsdWctaW5wdXRdJyk7XG4gICAgY29uc3QgcGFnZURlc2NyaXB0aW9uSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLWRlc2NyaXB0aW9uXScpO1xuICAgIGNvbnN0IHBhZ2VQcm9wc0ZlZWRiYWNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcm9wcy1mZWVkYmFja10nKTtcbiAgICBjb25zdCBwYWdlUHJvcHNTYXZlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcm9wcy1zYXZlXScpO1xuICAgIGNvbnN0IGJsb2NrTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2Nrcy1saXN0XScpO1xuICAgIGNvbnN0IGJsb2NrTGlzdEVtcHR5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2tzLWVtcHR5XScpO1xuICAgIGNvbnN0IGJsb2NrQ291bnRCYWRnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWNvdW50XScpO1xuICAgIGNvbnN0IGJsb2NrTGlicmFyeVRvZ2dsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWxpYnJhcnktdG9nZ2xlXScpO1xuICAgIGNvbnN0IGJsb2NrTGlicmFyeSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWxpYnJhcnldJyk7XG4gICAgY29uc3QgYmxvY2tBZGRCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYmxvY2stYWRkXScpO1xuICAgIGNvbnN0IGJsb2NrRGVsZXRlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1kZWxldGUtbW9kYWxdJyk7XG4gICAgY29uc3QgYmxvY2tEZWxldGVDb25maXJtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZGVsZXRlLWNvbmZpcm1dJyk7XG4gICAgY29uc3QgYmxvY2tEZWxldGVDYW5jZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1kZWxldGUtY2FuY2VsXScpO1xuICAgIGNvbnN0IGJsb2NrRGV0YWlsRW1wdHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1kZXRhaWwtZW1wdHldJyk7XG4gICAgY29uc3QgYmxvY2tEZXRhaWxTdGF0dXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1kZXRhaWwtc3RhdHVzXScpO1xuICAgIGNvbnN0IGJsb2NrRWRpdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZWRpdG9yXScpO1xuICAgIGNvbnN0IGJsb2NrRWRpdG9yVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1lZGl0b3ItYmxvY2stbmFtZV0nKTtcbiAgICBjb25zdCBibG9ja0VkaXRvclR5cGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1lZGl0b3ItYmxvY2stdHlwZV0nKTtcbiAgICBjb25zdCBibG9ja0VkaXRvclVuc3VwcG9ydGVkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZWRpdG9yLXVuc3VwcG9ydGVkXScpO1xuICAgIGNvbnN0IGJsb2NrRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWZvcm1dJyk7XG4gICAgY29uc3QgYmxvY2tGb3JtU2VjdGlvbnMgPSBibG9ja0Zvcm1cbiAgICAgID8gQXJyYXkuZnJvbShibG9ja0Zvcm0ucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtZWRpdG9yLXNlY3Rpb25dJykpXG4gICAgICA6IFtdO1xuICAgIC8vIE9uZ2xldHMgQ29udGVudSAvIEFwcGFyZW5jZVxuICAgIGNvbnN0IGJsb2NrVGFicyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWJsb2NrLXRhYl0nKTtcbiAgICBsZXQgYWN0aXZlQmxvY2tUYWIgPSAnY29udGVudCc7XG5cbiAgICAvLyBPbmdsZXRzIHBhbm5lYXUgZ2F1Y2hlIChCbG9jcyAvIFBhZ2VzKVxuICAgIGNvbnN0IGxlZnRQYW5lbFRhYnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1sZWZ0LXRhYl0nKTtcbiAgICBjb25zdCBsZWZ0UGFuZWxCbG9ja3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1sZWZ0LXBhbmVsPVwiYmxvY2tzXCJdJyk7XG4gICAgY29uc3QgbGVmdFBhbmVsUGFnZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1sZWZ0LXBhbmVsPVwicGFnZXNcIl0nKTtcbiAgICBsZXQgYWN0aXZlTGVmdFRhYiA9ICdibG9ja3MnO1xuXG4gICAgLy8gRm9uY3Rpb24gcG91ciBzd2l0Y2hlciBlbnRyZSBsZXMgb25nbGV0cyBCbG9jcy9QYWdlcyBkdSBwYW5uZWF1IGdhdWNoZVxuICAgIGNvbnN0IHN3aXRjaExlZnRUYWIgPSAodGFiTmFtZSkgPT4ge1xuICAgICAgYWN0aXZlTGVmdFRhYiA9IHRhYk5hbWU7XG4gICAgICBsZWZ0UGFuZWxUYWJzLmZvckVhY2goKHRhYikgPT4ge1xuICAgICAgICBjb25zdCBpc0FjdGl2ZSA9IHRhYi5kYXRhc2V0LmxlZnRUYWIgPT09IHRhYk5hbWU7XG4gICAgICAgIHRhYi5zZXRBdHRyaWJ1dGUoJ2FyaWEtc2VsZWN0ZWQnLCBpc0FjdGl2ZSA/ICd0cnVlJyA6ICdmYWxzZScpO1xuICAgICAgICBpZiAoaXNBY3RpdmUpIHtcbiAgICAgICAgICB0YWIuY2xhc3NMaXN0LmFkZCgndGV4dC1bIzlDNkJGRl0nKTtcbiAgICAgICAgICB0YWIuY2xhc3NMaXN0LnJlbW92ZSgndGV4dC1zbGF0ZS01MDAnLCAnaG92ZXI6dGV4dC1zbGF0ZS03MDAnKTtcbiAgICAgICAgICB0YWIuY2xhc3NMaXN0LmFkZCgnYWZ0ZXI6YWJzb2x1dGUnLCAnYWZ0ZXI6Ym90dG9tLTAnLCAnYWZ0ZXI6bGVmdC0wJywgJ2FmdGVyOnJpZ2h0LTAnLCAnYWZ0ZXI6aC0wLjUnLCAnYWZ0ZXI6YmctWyM5QzZCRkZdJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGFiLmNsYXNzTGlzdC5yZW1vdmUoJ3RleHQtWyM5QzZCRkZdJyk7XG4gICAgICAgICAgdGFiLmNsYXNzTGlzdC5hZGQoJ3RleHQtc2xhdGUtNTAwJywgJ2hvdmVyOnRleHQtc2xhdGUtNzAwJyk7XG4gICAgICAgICAgdGFiLmNsYXNzTGlzdC5yZW1vdmUoJ2FmdGVyOmFic29sdXRlJywgJ2FmdGVyOmJvdHRvbS0wJywgJ2FmdGVyOmxlZnQtMCcsICdhZnRlcjpyaWdodC0wJywgJ2FmdGVyOmgtMC41JywgJ2FmdGVyOmJnLVsjOUM2QkZGXScpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIC8vIEFmZmljaGVyL21hc3F1ZXIgbGVzIHBhbmVsc1xuICAgICAgaWYgKGxlZnRQYW5lbEJsb2Nrcykge1xuICAgICAgICBsZWZ0UGFuZWxCbG9ja3MuY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZGVuJywgdGFiTmFtZSAhPT0gJ2Jsb2NrcycpO1xuICAgICAgfVxuICAgICAgaWYgKGxlZnRQYW5lbFBhZ2VzKSB7XG4gICAgICAgIGxlZnRQYW5lbFBhZ2VzLmNsYXNzTGlzdC50b2dnbGUoJ2hpZGRlbicsIHRhYk5hbWUgIT09ICdwYWdlcycpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBFdmVudCBsaXN0ZW5lcnMgcG91ciBsZXMgb25nbGV0cyBkdSBwYW5uZWF1IGdhdWNoZVxuICAgIGxlZnRQYW5lbFRhYnMuZm9yRWFjaCgodGFiKSA9PiB7XG4gICAgICB0YWIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIHN3aXRjaExlZnRUYWIodGFiLmRhdGFzZXQubGVmdFRhYik7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBcbiAgICAvLyBEXHUwMEU5Y2xhcmF0aW9ucyBkZXMgXHUwMEU5bFx1MDBFOW1lbnRzIGQnYWN0aW9ucyBkdSBmb3JtdWxhaXJlIChhdmFudCBzd2l0Y2hCbG9ja1RhYilcbiAgICBjb25zdCBibG9ja0Zvcm1BY3Rpb25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZm9ybS1hY3Rpb25zXScpO1xuICAgIGNvbnN0IGJsb2NrRm9ybUF1dG9zYXZlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZm9ybS1hdXRvc2F2ZV0nKTtcblxuICAgIC8vIEZvbmN0aW9uIHBvdXIgc3dpdGNoZXIgZW50cmUgbGVzIG9uZ2xldHMgQ29udGVudS9BcHBhcmVuY2VcbiAgICBjb25zdCBzd2l0Y2hCbG9ja1RhYiA9ICh0YWJOYW1lKSA9PiB7XG4gICAgICBhY3RpdmVCbG9ja1RhYiA9IHRhYk5hbWU7XG4gICAgICAvLyBNZXR0cmUgXHUwMEUwIGpvdXIgbGVzIHN0eWxlcyBkZXMgYm91dG9ucyBkJ29uZ2xldFxuICAgICAgYmxvY2tUYWJzLmZvckVhY2goKHRhYikgPT4ge1xuICAgICAgICBjb25zdCBpc0FjdGl2ZSA9IHRhYi5kYXRhc2V0LmJsb2NrVGFiID09PSB0YWJOYW1lO1xuICAgICAgICB0YWIuc2V0QXR0cmlidXRlKCdhcmlhLXNlbGVjdGVkJywgaXNBY3RpdmUgPyAndHJ1ZScgOiAnZmFsc2UnKTtcbiAgICAgICAgaWYgKGlzQWN0aXZlKSB7XG4gICAgICAgICAgdGFiLmNsYXNzTGlzdC5hZGQoJ3RleHQtWyM5QzZCRkZdJyk7XG4gICAgICAgICAgdGFiLmNsYXNzTGlzdC5yZW1vdmUoJ3RleHQtc2xhdGUtNTAwJywgJ2hvdmVyOnRleHQtc2xhdGUtNzAwJyk7XG4gICAgICAgICAgdGFiLmNsYXNzTGlzdC5hZGQoJ2FmdGVyOmFic29sdXRlJywgJ2FmdGVyOmJvdHRvbS0wJywgJ2FmdGVyOmxlZnQtMCcsICdhZnRlcjpyaWdodC0wJywgJ2FmdGVyOmgtMC41JywgJ2FmdGVyOmJnLVsjOUM2QkZGXScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRhYi5jbGFzc0xpc3QucmVtb3ZlKCd0ZXh0LVsjOUM2QkZGXScpO1xuICAgICAgICAgIHRhYi5jbGFzc0xpc3QuYWRkKCd0ZXh0LXNsYXRlLTUwMCcsICdob3Zlcjp0ZXh0LXNsYXRlLTcwMCcpO1xuICAgICAgICAgIHRhYi5jbGFzc0xpc3QucmVtb3ZlKCdhZnRlcjphYnNvbHV0ZScsICdhZnRlcjpib3R0b20tMCcsICdhZnRlcjpsZWZ0LTAnLCAnYWZ0ZXI6cmlnaHQtMCcsICdhZnRlcjpoLTAuNScsICdhZnRlcjpiZy1bIzlDNkJGRl0nKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICAvLyBBZmZpY2hlci9tYXNxdWVyIGxlcyBwYW5lbHMgZGFucyBsYSBzZWN0aW9uIGFjdGl2ZVxuICAgICAgY29uc3QgYWN0aXZlU2VjdGlvbiA9IGJsb2NrRm9ybT8ucXVlcnlTZWxlY3RvcignW2RhdGEtZWRpdG9yLXNlY3Rpb25dOm5vdCguaGlkZGVuKScpO1xuICAgICAgaWYgKGFjdGl2ZVNlY3Rpb24pIHtcbiAgICAgICAgY29uc3QgcGFuZWxzID0gYWN0aXZlU2VjdGlvbi5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1ibG9jay1wYW5lbF0nKTtcbiAgICAgICAgcGFuZWxzLmZvckVhY2goKHBhbmVsKSA9PiB7XG4gICAgICAgICAgaWYgKHBhbmVsLmRhdGFzZXQuYmxvY2tQYW5lbCA9PT0gdGFiTmFtZSkge1xuICAgICAgICAgICAgcGFuZWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhbmVsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICAvLyBBZmZpY2hlci9tYXNxdWVyIGxlcyBib3V0b25zIHNlbG9uIGwnb25nbGV0XG4gICAgICAvLyBDb250ZW51IFx1MjE5MiBib3V0b25zIEVucmVnaXN0cmVyL0FubnVsZXJcbiAgICAgIC8vIEFwcGFyZW5jZSBcdTIxOTIgaW5kaWNhdGV1ciBhdXRvLXNhdmVcbiAgICAgIGlmIChibG9ja0Zvcm1BY3Rpb25zICYmIGJsb2NrRm9ybUF1dG9zYXZlKSB7XG4gICAgICAgIGlmICh0YWJOYW1lID09PSAnY29udGVudCcpIHtcbiAgICAgICAgICBibG9ja0Zvcm1BY3Rpb25zLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgIGJsb2NrRm9ybUF1dG9zYXZlLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGJsb2NrRm9ybUFjdGlvbnMuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgICAgYmxvY2tGb3JtQXV0b3NhdmUuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gRXZlbnQgbGlzdGVuZXJzIHBvdXIgbGVzIG9uZ2xldHNcbiAgICBibG9ja1RhYnMuZm9yRWFjaCgodGFiKSA9PiB7XG4gICAgICB0YWIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIHN3aXRjaEJsb2NrVGFiKHRhYi5kYXRhc2V0LmJsb2NrVGFiKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgY29uc3QgY29sbGVjdGlvblNlbGVjdCA9IGJsb2NrRm9ybT8ucXVlcnlTZWxlY3RvcignW25hbWU9XCJjb2xsZWN0aW9uLWdyaWQtY29sbGVjdGlvblwiXScpO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25TZWxlY3Rpb25JbmZvID0gYmxvY2tGb3JtPy5xdWVyeVNlbGVjdG9yKFxuICAgICAgJ1tkYXRhLWNvbGxlY3Rpb24tc2VsZWN0aW9uLWluZm9dJyxcbiAgICApO1xuICAgIGNvbnN0IGJsb2NrRm9ybUNhbmNlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWZvcm0tY2FuY2VsXScpO1xuICAgIGNvbnN0IGdyb3VwUHJldmlld01vYmlsZSA9IGJsb2NrRm9ybT8ucXVlcnlTZWxlY3RvcignW2RhdGEtZ3JvdXAtcHJldmlldy1tb2JpbGVdJyk7XG4gICAgY29uc3QgZ3JvdXBQcmV2aWV3RGVza3RvcCA9IGJsb2NrRm9ybT8ucXVlcnlTZWxlY3RvcignW2RhdGEtZ3JvdXAtcHJldmlldy1kZXNrdG9wXScpO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25QcmV2aWV3TW9iaWxlID0gYmxvY2tGb3JtPy5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xsZWN0aW9uLXByZXZpZXctbW9iaWxlXScpO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25QcmV2aWV3RGVza3RvcCA9IGJsb2NrRm9ybT8ucXVlcnlTZWxlY3RvcignW2RhdGEtY29sbGVjdGlvbi1wcmV2aWV3LWRlc2t0b3BdJyk7XG4gICAgY29uc3QgYmxvY2tUeXBlRm9ybXMgPSB7XG4gICAgICBoZXJvOiB7XG4gICAgICAgIHNlY3Rpb246ICdoZXJvJyxcbiAgICAgICAgbGFiZWxGaWVsZDogJ3RpdGxlJyxcbiAgICAgICAgZGVzY3JpcHRpb25GaWVsZDogJ3N1YnRpdGxlJyxcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgdGl0bGU6ICdoZXJvLXRpdGxlJyxcbiAgICAgICAgICBzdWJ0aXRsZTogJ2hlcm8tc3VidGl0bGUnLFxuICAgICAgICAgIGN0YUxhYmVsOiAnaGVyby1jdGEtbGFiZWwnLFxuICAgICAgICAgIGN0YVVybDogJ2hlcm8tY3RhLXVybCcsXG4gICAgICAgICAgLy8gQXBwYXJlbmNlXG4gICAgICAgICAgaW1hZ2U6ICdoZXJvLWltYWdlJyxcbiAgICAgICAgICBsYXlvdXQ6ICdoZXJvLWxheW91dCcsXG4gICAgICAgICAgaGVpZ2h0OiAnaGVyby1oZWlnaHQnLFxuICAgICAgICAgIGNvbnRlbnRBbGlnbjogJ2hlcm8tY29udGVudC1hbGlnbicsXG4gICAgICAgICAgaG9yaXpvbnRhbEFsaWduOiAnaGVyby1ob3Jpem9udGFsLWFsaWduJyxcbiAgICAgICAgICB0ZXh0QWxpZ246ICdoZXJvLXRleHQtYWxpZ24nLFxuICAgICAgICAgIG92ZXJsYXk6ICdoZXJvLW92ZXJsYXknLFxuICAgICAgICAgIHRpdGxlU2l6ZTogJ2hlcm8tdGl0bGUtc2l6ZScsXG4gICAgICAgICAgLy8gQ2FyZCBzdHlsZVxuICAgICAgICAgIGJnOiAnaGVyby1iZycsXG4gICAgICAgICAgYm9yZGVyUmFkaXVzOiAnaGVyby1ib3JkZXItcmFkaXVzJyxcbiAgICAgICAgICBzaGFkb3c6ICdoZXJvLXNoYWRvdycsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgcGFyYWdyYXBoZToge1xuICAgICAgICBzZWN0aW9uOiAncGFyYWdyYXBoJyxcbiAgICAgICAgbGFiZWxGaWVsZDogJ3RpdGxlJyxcbiAgICAgICAgZGVzY3JpcHRpb25GaWVsZDogJ2NvbnRlbnQnLFxuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICB0aXRsZTogJ3BhcmFncmFwaC10aXRsZScsXG4gICAgICAgICAgY29udGVudDogJ3BhcmFncmFwaC1jb250ZW50JyxcbiAgICAgICAgICAvLyBBcHBhcmVuY2VcbiAgICAgICAgICBhbGlnbjogJ3BhcmFncmFwaC1hbGlnbicsXG4gICAgICAgICAgdGl0bGVTaXplOiAncGFyYWdyYXBoLXRpdGxlLXNpemUnLFxuICAgICAgICAgIHRleHRTaXplOiAncGFyYWdyYXBoLXRleHQtc2l6ZScsXG4gICAgICAgICAgc3BhY2luZzogJ3BhcmFncmFwaC1zcGFjaW5nJyxcbiAgICAgICAgICAvLyBDYXJkIHN0eWxlXG4gICAgICAgICAgYmc6ICdwYXJhZ3JhcGgtYmcnLFxuICAgICAgICAgIGJvcmRlclJhZGl1czogJ3BhcmFncmFwaC1ib3JkZXItcmFkaXVzJyxcbiAgICAgICAgICBzaGFkb3c6ICdwYXJhZ3JhcGgtc2hhZG93JyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBpbWFnZToge1xuICAgICAgICBzZWN0aW9uOiAnaW1hZ2UnLFxuICAgICAgICBsYWJlbEZpZWxkOiAnYWx0JyxcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgc3JjOiAnaW1hZ2Utc3JjJyxcbiAgICAgICAgICBhbHQ6ICdpbWFnZS1hbHQnLFxuICAgICAgICAgIHNob3dDYXB0aW9uOiAnaW1hZ2UtY2FwdGlvbi10b2dnbGUnLFxuICAgICAgICAgIGNhcHRpb246ICdpbWFnZS1jYXB0aW9uJyxcbiAgICAgICAgICAvLyBBcHBhcmVuY2VcbiAgICAgICAgICByb3VuZGVkOiAnaW1hZ2Utcm91bmRlZCcsXG4gICAgICAgICAgc2hhZG93OiAnaW1hZ2Utc2hhZG93JyxcbiAgICAgICAgICBtYXhXaWR0aDogJ2ltYWdlLW1heC13aWR0aCcsXG4gICAgICAgICAgaGVpZ2h0OiAnaW1hZ2UtaGVpZ2h0JyxcbiAgICAgICAgICBvYmplY3RGaXQ6ICdpbWFnZS1vYmplY3QtZml0JyxcbiAgICAgICAgICBhbGlnbjogJ2ltYWdlLWFsaWduJyxcbiAgICAgICAgICAvLyBDYXJkIHN0eWxlXG4gICAgICAgICAgYmc6ICdpbWFnZS1iZycsXG4gICAgICAgICAgYm9yZGVyUmFkaXVzOiAnaW1hZ2UtYm9yZGVyLXJhZGl1cycsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgZ3JvdXBlOiB7XG4gICAgICAgIHNlY3Rpb246ICdncm91cCcsXG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIC8vIEFwcGFyZW5jZVxuICAgICAgICAgIGNvbHVtbnNNb2JpbGU6ICdncm91cC1jb2x1bW5zLW1vYmlsZScsXG4gICAgICAgICAgY29sdW1uc0Rlc2t0b3A6ICdncm91cC1jb2x1bW5zLWRlc2t0b3AnLFxuICAgICAgICAgIGdhcDogJ2dyb3VwLWdhcCcsXG4gICAgICAgICAgaXRlbXNBbGlnbjogJ2dyb3VwLWl0ZW1zLWFsaWduJyxcbiAgICAgICAgICBtb2JpbGVMYXlvdXQ6ICdncm91cC1tb2JpbGUtbGF5b3V0JyxcbiAgICAgICAgICAvLyBDYXJkIHN0eWxlXG4gICAgICAgICAgYmc6ICdncm91cC1iZycsXG4gICAgICAgICAgYm9yZGVyUmFkaXVzOiAnZ3JvdXAtYm9yZGVyLXJhZGl1cycsXG4gICAgICAgICAgc2hhZG93OiAnZ3JvdXAtc2hhZG93JyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBjb2xsZWN0aW9uZ3JpZDoge1xuICAgICAgICBzZWN0aW9uOiAnY29sbGVjdGlvbicsXG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIGNvbGxlY3Rpb25JZDogJ2NvbGxlY3Rpb24tZ3JpZC1jb2xsZWN0aW9uJyxcbiAgICAgICAgICBsaW1pdDogJ2NvbGxlY3Rpb24tZ3JpZC1saW1pdCcsXG4gICAgICAgICAgLy8gQXBwYXJlbmNlXG4gICAgICAgICAgY29sdW1uc01vYmlsZTogJ2NvbGxlY3Rpb24tY29sdW1ucy1tb2JpbGUnLFxuICAgICAgICAgIGNvbHVtbnNEZXNrdG9wOiAnY29sbGVjdGlvbi1jb2x1bW5zLWRlc2t0b3AnLFxuICAgICAgICAgIGdhcDogJ2NvbGxlY3Rpb24tZ2FwJyxcbiAgICAgICAgICBpdGVtc0FsaWduOiAnY29sbGVjdGlvbi1pdGVtcy1hbGlnbicsXG4gICAgICAgICAgY2FyZFJvdW5kZWQ6ICdjb2xsZWN0aW9uLWNhcmQtcm91bmRlZCcsXG4gICAgICAgICAgbW9iaWxlTGF5b3V0OiAnY29sbGVjdGlvbi1tb2JpbGUtbGF5b3V0JyxcbiAgICAgICAgICAvLyBDYXJkIHN0eWxlXG4gICAgICAgICAgYmc6ICdjb2xsZWN0aW9uLWJnJyxcbiAgICAgICAgICBib3JkZXJSYWRpdXM6ICdjb2xsZWN0aW9uLWJvcmRlci1yYWRpdXMnLFxuICAgICAgICAgIHNoYWRvdzogJ2NvbGxlY3Rpb24tc2hhZG93JyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBmb3JtOiB7XG4gICAgICAgIHNlY3Rpb246ICdmb3JtJyxcbiAgICAgICAgbGFiZWxGaWVsZDogJ2Zvcm1UaXRsZScsXG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIGZvcm1UaXRsZTogJ2Zvcm0tdGl0bGUnLFxuICAgICAgICAgIGFjdGlvblVybDogJ2Zvcm0tYWN0aW9uLXVybCcsXG4gICAgICAgICAgbWV0aG9kOiAnZm9ybS1tZXRob2QnLFxuICAgICAgICAgIHNlcnZpY2VOYW1lOiAnZm9ybS1zZXJ2aWNlLW5hbWUnLFxuICAgICAgICAgIHN1Ym1pdExhYmVsOiAnZm9ybS1zdWJtaXQtbGFiZWwnLFxuICAgICAgICAgIHN1Y2Nlc3NNZXNzYWdlOiAnZm9ybS1zdWNjZXNzLW1lc3NhZ2UnLFxuICAgICAgICAgIC8vIEFwcGFyZW5jZVxuICAgICAgICAgIG1heFdpZHRoOiAnZm9ybS1tYXgtd2lkdGgnLFxuICAgICAgICAgIGFsaWduOiAnZm9ybS1hbGlnbicsXG4gICAgICAgICAgYnV0dG9uUm91bmRlZDogJ2Zvcm0tYnV0dG9uLXJvdW5kZWQnLFxuICAgICAgICAgIHNwYWNpbmc6ICdmb3JtLXNwYWNpbmcnLFxuICAgICAgICAgIC8vIENhcmQgc3R5bGVcbiAgICAgICAgICBiZzogJ2Zvcm0tYmcnLFxuICAgICAgICAgIGJvcmRlclJhZGl1czogJ2Zvcm0tYm9yZGVyLXJhZGl1cycsXG4gICAgICAgICAgc2hhZG93OiAnZm9ybS1zaGFkb3cnLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIG5ld3NsZXR0ZXJlbWJlZDoge1xuICAgICAgICBzZWN0aW9uOiAnbmV3c2xldHRlcicsXG4gICAgICAgIGxhYmVsRmllbGQ6ICd0aXRsZScsXG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIHRpdGxlOiAnbmV3c2xldHRlci10aXRsZScsXG4gICAgICAgICAgc2VydmljZU5hbWU6ICduZXdzbGV0dGVyLXNlcnZpY2UtbmFtZScsXG4gICAgICAgICAgZW1iZWRDb2RlOiAnbmV3c2xldHRlci1lbWJlZC1jb2RlJyxcbiAgICAgICAgICAvLyBBcHBhcmVuY2VcbiAgICAgICAgICBtYXhXaWR0aDogJ25ld3NsZXR0ZXItbWF4LXdpZHRoJyxcbiAgICAgICAgICBhbGlnbjogJ25ld3NsZXR0ZXItYWxpZ24nLFxuICAgICAgICAgIHBhZGRpbmc6ICduZXdzbGV0dGVyLXBhZGRpbmcnLFxuICAgICAgICAgIGJnOiAnbmV3c2xldHRlci1iZycsXG4gICAgICAgICAgLy8gQ2FyZCBzdHlsZVxuICAgICAgICAgIGJvcmRlclJhZGl1czogJ25ld3NsZXR0ZXItYm9yZGVyLXJhZGl1cycsXG4gICAgICAgICAgc2hhZG93OiAnbmV3c2xldHRlci1zaGFkb3cnLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9O1xuICAgIGNvbnN0IGJsb2NrVHlwZUFsaWFzZXMgPSB7XG4gICAgICB0ZXh0ZTogJ3BhcmFncmFwaGUnLFxuICAgICAgcGFyYWdyYXBoOiAncGFyYWdyYXBoZScsXG4gICAgICBwYXJhZ3JhcGhzOiAncGFyYWdyYXBoZScsXG4gICAgICBwYXJhZ3JhcGhlczogJ3BhcmFncmFwaGUnLFxuICAgICAgdGV4dDogJ3BhcmFncmFwaGUnLFxuICAgICAgaGVybzogJ2hlcm8nLFxuICAgICAgaW1hZ2U6ICdpbWFnZScsXG4gICAgICBncm91cGU6ICdncm91cGUnLFxuICAgICAgZ3JvdXA6ICdncm91cGUnLFxuICAgICAgY29sbGVjdGlvbjogJ2NvbGxlY3Rpb25ncmlkJyxcbiAgICAgIGNvbGxlY3Rpb25ncmlkOiAnY29sbGVjdGlvbmdyaWQnLFxuICAgICAgJ2NvbGxlY3Rpb24tZ3JpZCc6ICdjb2xsZWN0aW9uZ3JpZCcsXG4gICAgICBmb3JtOiAnZm9ybScsXG4gICAgICBmb3JtdWxhaXJlOiAnZm9ybScsXG4gICAgICBjb250YWN0OiAnZm9ybScsXG4gICAgICBuZXdzbGV0dGVyZW1iZWQ6ICduZXdzbGV0dGVyZW1iZWQnLFxuICAgICAgbmV3c2xldHRlcjogJ25ld3NsZXR0ZXJlbWJlZCcsXG4gICAgICBlbWJlZDogJ25ld3NsZXR0ZXJlbWJlZCcsXG4gICAgfTtcbiAgICBjb25zdCBhbmltYXRpb25GaWVsZE1hcCA9IHtcbiAgICAgIGFuaW1hdGlvbjogJ2FuaW0tdHlwZScsXG4gICAgICBhbmltYXRpb25EZWxheTogJ2FuaW0tZGVsYXknLFxuICAgICAgYW5pbWF0aW9uRHVyYXRpb246ICdhbmltLWR1cmF0aW9uJyxcbiAgICB9O1xuICAgIE9iamVjdC52YWx1ZXMoYmxvY2tUeXBlRm9ybXMpLmZvckVhY2goKGNvbmZpZykgPT4ge1xuICAgICAgY29uZmlnLmZpZWxkcyA9IHsgLi4uY29uZmlnLmZpZWxkcywgLi4uYW5pbWF0aW9uRmllbGRNYXAgfTtcbiAgICB9KTtcbiAgICBjb25zdCB1cGRhdGVHcm91cE1pbmlQcmV2aWV3ID0gKG1vYmlsZVZhbHVlLCBkZXNrdG9wVmFsdWUpID0+IHtcbiAgICAgIGlmICghZ3JvdXBQcmV2aWV3TW9iaWxlIHx8ICFncm91cFByZXZpZXdEZXNrdG9wKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlbmRlckJveGVzID0gKGNvdW50KSA9PlxuICAgICAgICBBcnJheS5mcm9tKHsgbGVuZ3RoOiBOdW1iZXIoY291bnQpIHx8IDEgfSlcbiAgICAgICAgICAubWFwKCgpID0+ICc8c3BhbiBjbGFzcz1cImJsb2NrIGgtMiB3LWZ1bGwgcm91bmRlZC1mdWxsIGJnLXNsYXRlLTMwMFwiPjwvc3Bhbj4nKVxuICAgICAgICAgIC5qb2luKCcnKTtcbiAgICAgIGdyb3VwUHJldmlld01vYmlsZS5pbm5lckhUTUwgPSByZW5kZXJCb3hlcyhtb2JpbGVWYWx1ZSk7XG4gICAgICBncm91cFByZXZpZXdEZXNrdG9wLmlubmVySFRNTCA9IHJlbmRlckJveGVzKGRlc2t0b3BWYWx1ZSk7XG4gICAgfTtcbiAgICBjb25zdCB1cGRhdGVDb2xsZWN0aW9uTWluaVByZXZpZXcgPSAobW9iaWxlVmFsdWUsIGRlc2t0b3BWYWx1ZSkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uUHJldmlld01vYmlsZSB8fCAhY29sbGVjdGlvblByZXZpZXdEZXNrdG9wKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlbmRlckJveGVzID0gKGNvdW50KSA9PlxuICAgICAgICBBcnJheS5mcm9tKHsgbGVuZ3RoOiBOdW1iZXIoY291bnQpIHx8IDEgfSlcbiAgICAgICAgICAubWFwKCgpID0+ICc8c3BhbiBjbGFzcz1cImJsb2NrIGgtMiB3LWZ1bGwgcm91bmRlZC1mdWxsIGJnLXZpb2xldC0zMDBcIj48L3NwYW4+JylcbiAgICAgICAgICAuam9pbignJyk7XG4gICAgICBjb2xsZWN0aW9uUHJldmlld01vYmlsZS5pbm5lckhUTUwgPSByZW5kZXJCb3hlcyhtb2JpbGVWYWx1ZSk7XG4gICAgICBjb2xsZWN0aW9uUHJldmlld0Rlc2t0b3AuaW5uZXJIVE1MID0gcmVuZGVyQm94ZXMoZGVza3RvcFZhbHVlKTtcbiAgICB9O1xuICAgIGNvbnN0IGZldGNoUGFnZXNGcm9tU2VydmVyID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFwYWdlc0FwaUJhc2UpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChwYWdlc0FwaUJhc2UsIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ltcG9zc2libGUgZGUgY2hhcmdlciBsZXMgcGFnZXMuJyk7XG4gICAgICB9XG4gICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+IFtdKTtcbiAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHBheWxvYWQpID8gcGF5bG9hZCA6IFtdO1xuICAgIH07XG4gICAgY29uc3QgY3JlYXRlUGFnZU9uU2VydmVyID0gYXN5bmMgKHsgbmFtZSwgdGl0bGUsIHNsdWcgfSkgPT4ge1xuICAgICAgaWYgKCFwYWdlc0FwaUJhc2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTaXRlIGluY29ubnUuJyk7XG4gICAgICB9XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHBhZ2VzQXBpQmFzZSwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgbmFtZSwgdGl0bGUsIHNsdWcgfSksXG4gICAgICB9KTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHBheWxvYWQubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBjclx1MDBFOWVyIGxhIHBhZ2UuJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgIH07XG4gICAgY29uc3Qgc2F2ZVBhZ2VUb1NlcnZlciA9IGFzeW5jIChwYWdlKSA9PiB7XG4gICAgICBpZiAoIXBhZ2VzQXBpQmFzZSB8fCAhcGFnZT8uaWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtwYWdlc0FwaUJhc2V9LyR7ZW5jb2RlVVJJQ29tcG9uZW50KHBhZ2UuaWQpfWAsIHtcbiAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYWdlKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihwYXlsb2FkLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgc2F1dmVnYXJkZXIgbGEgcGFnZS4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzYXZlZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgaWYgKHNhdmVkPy5pZCkge1xuICAgICAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBub3JtYWxpemVQYWdlRGF0YShzYXZlZCk7XG4gICAgICAgICAgcGFnZXMgPSBwYWdlcy5tYXAoKGVudHJ5KSA9PiAoZW50cnkuaWQgPT09IG5vcm1hbGl6ZWQuaWQgPyBub3JtYWxpemVkIDogZW50cnkpKTtcbiAgICAgICAgICBpZiAoY3VycmVudFBhZ2U/LmlkID09PSBub3JtYWxpemVkLmlkKSB7XG4gICAgICAgICAgICBjdXJyZW50UGFnZSA9IG5vcm1hbGl6ZWQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBub3JtYWxpemVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzYXZlZDtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZGVzaWduXSBTYXZlIHBhZ2UgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdTYXV2ZWdhcmRlIGltcG9zc2libGUuJyk7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBsb2FkUGFnZXNGcm9tU2VydmVyID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFwYWdlc0FwaUJhc2UpIHtcbiAgICAgICAgcGFnZXMgPSBbXTtcbiAgICAgICAgYWN0aXZlUGFnZUlkID0gbnVsbDtcbiAgICAgICAgY3VycmVudFBhZ2UgPSBudWxsO1xuICAgICAgICByZW5kZXJQYWdlTGlzdHMocGFnZXMsIGFjdGl2ZVBhZ2VJZCk7XG4gICAgICAgIHJlbmRlckJsb2NrTGlzdChudWxsKTtcbiAgICAgICAgYmxvY2tEZXRhaWxFbXB0eT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIGJsb2NrRWRpdG9yPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgbG9hZGVkUGFnZXMgPSBhd2FpdCBmZXRjaFBhZ2VzRnJvbVNlcnZlcigpO1xuICAgICAgICBwYWdlcyA9IChBcnJheS5pc0FycmF5KGxvYWRlZFBhZ2VzKSA/IGxvYWRlZFBhZ2VzIDogW10pLm1hcCgocGFnZSkgPT5cbiAgICAgICAgICBub3JtYWxpemVQYWdlRGF0YShwYWdlKSxcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKHBhZ2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIGFjdGl2ZVBhZ2VJZCA9IG51bGw7XG4gICAgICAgICAgY3VycmVudFBhZ2UgPSBudWxsO1xuICAgICAgICAgIHJlbmRlclBhZ2VMaXN0cyhwYWdlcywgYWN0aXZlUGFnZUlkKTtcbiAgICAgICAgICByZW5kZXJCbG9ja0xpc3QobnVsbCk7XG4gICAgICAgICAgYmxvY2tEZXRhaWxFbXB0eT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgYmxvY2tFZGl0b3I/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICAgIHByZXZpZXdGcmFtZSAmJiAocHJldmlld0ZyYW1lLnNyY2RvYyA9IGdldExvYWRpbmdQcmV2aWV3SHRtbCgpKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgYWN0aXZlUGFnZUlkID0gZ2V0U3RvcmVkQWN0aXZlUGFnZShwYWdlcyk7XG4gICAgICAgIHNldEFjdGl2ZVBhZ2UoYWN0aXZlUGFnZUlkKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZGVzaWduXSBJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIHBhZ2VzJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KCdJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIHBhZ2VzLicpO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3Qgbm9ybWFsaXplVHlwZSA9ICh2YWx1ZSkgPT5cbiAgICAgICh2YWx1ZSB8fCAnJykubm9ybWFsaXplKCdORkQnKS5yZXBsYWNlKC9bXFx1MDMwMC1cXHUwMzZmXS9nLCAnJykudG9Mb3dlckNhc2UoKTtcbiAgICBjb25zdCBnZXRCbG9ja0Zvcm1Db25maWcgPSAoYmxvY2spID0+IHtcbiAgICAgIGlmICghYmxvY2spIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICBjb25zdCB0eXBlS2V5ID0gbm9ybWFsaXplVHlwZShibG9jay50eXBlKTtcbiAgICAgIGNvbnN0IGFsaWFzID0gYmxvY2tUeXBlQWxpYXNlc1t0eXBlS2V5XSB8fCB0eXBlS2V5O1xuICAgICAgcmV0dXJuIGJsb2NrVHlwZUZvcm1zW2FsaWFzXSB8fCBudWxsO1xuICAgIH07XG4gICAgY29uc3QgcG9wdWxhdGVCbG9ja0Zvcm0gPSAoYmxvY2spID0+IHtcbiAgICAgIGlmICghYmxvY2tGb3JtIHx8ICFibG9ja0VkaXRvcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoYmxvY2sgJiYgIWJsb2NrLnNldHRpbmdzKSB7XG4gICAgICAgIGJsb2NrLnNldHRpbmdzID0ge307XG4gICAgICB9XG4gICAgICBjb25zdCBjb25maWcgPSBnZXRCbG9ja0Zvcm1Db25maWcoYmxvY2spO1xuICAgICAgaWYgKGJsb2NrRWRpdG9yVGl0bGUpIHtcbiAgICAgICAgYmxvY2tFZGl0b3JUaXRsZS50ZXh0Q29udGVudCA9IGJsb2NrPy5sYWJlbCB8fCAnQmxvYyc7XG4gICAgICB9XG4gICAgICBpZiAoYmxvY2tFZGl0b3JUeXBlKSB7XG4gICAgICAgIGJsb2NrRWRpdG9yVHlwZS50ZXh0Q29udGVudCA9IGJsb2NrPy50eXBlIHx8ICdCbG9jJztcbiAgICAgIH1cbiAgICAgIGlmICghY29uZmlnKSB7XG4gICAgICAgIGJsb2NrRm9ybS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgYmxvY2tFZGl0b3JVbnN1cHBvcnRlZD8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIGJsb2NrRm9ybS5kYXRhc2V0LmJsb2NrSWQgPSAnJztcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYmxvY2tFZGl0b3JVbnN1cHBvcnRlZD8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBibG9ja0Zvcm0uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBibG9ja0Zvcm0ucmVzZXQoKTtcbiAgICAgIGJsb2NrRm9ybS5kYXRhc2V0LmJsb2NrSWQgPSBibG9jay5pZDtcbiAgICAgIGJsb2NrRm9ybVNlY3Rpb25zLmZvckVhY2goKHNlY3Rpb24pID0+IHtcbiAgICAgICAgY29uc3Qgc2VjdGlvbklkID0gc2VjdGlvbi5kYXRhc2V0LmVkaXRvclNlY3Rpb247XG4gICAgICAgIGlmIChzZWN0aW9uSWQgPT09IGNvbmZpZy5zZWN0aW9uKSB7XG4gICAgICAgICAgc2VjdGlvbi5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWN0aW9uLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIC8vIFJcdTAwRTlpbml0aWFsaXNlciBzdXIgbCdvbmdsZXQgQ29udGVudVxuICAgICAgc3dpdGNoQmxvY2tUYWIoJ2NvbnRlbnQnKTtcbiAgICAgIGlmIChjb25maWcuc2VjdGlvbiA9PT0gJ2NvbGxlY3Rpb24nKSB7XG4gICAgICAgIGNvbnN0IGRlc2lyZWRWYWx1ZSA9IGJsb2NrLmNvbGxlY3Rpb25JZCB8fCBibG9jay5zZXR0aW5ncz8uY29sbGVjdGlvbklkIHx8ICcnO1xuICAgICAgICB1cGRhdGVDb2xsZWN0aW9uU2VsZWN0T3B0aW9ucyhkZXNpcmVkVmFsdWUpO1xuICAgICAgfVxuICAgICAgT2JqZWN0LmVudHJpZXMoY29uZmlnLmZpZWxkcykuZm9yRWFjaCgoW3NldHRpbmdLZXksIGZpZWxkTmFtZV0pID0+IHtcbiAgICAgICAgY29uc3QgaW5wdXQgPSBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcihgW25hbWU9XCIke2ZpZWxkTmFtZX1cIl1gKTtcbiAgICAgICAgaWYgKCFpbnB1dCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2YWx1ZSA9IGJsb2NrLnNldHRpbmdzPy5bc2V0dGluZ0tleV07XG4gICAgICAgIGlmIChpbnB1dC50eXBlID09PSAnY2hlY2tib3gnKSB7XG4gICAgICAgICAgaW5wdXQuY2hlY2tlZCA9IEJvb2xlYW4odmFsdWUpO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0LnR5cGUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgY29uc3QgZmFsbGJhY2sgPSBpbnB1dC5kYXRhc2V0LmRlZmF1bHQgPz8gaW5wdXQuZGVmYXVsdFZhbHVlID8/ICcnO1xuICAgICAgICAgIGlucHV0LnZhbHVlID0gdmFsdWUgPz8gZmFsbGJhY2s7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5wdXQudGFnTmFtZSA9PT0gJ1RFWFRBUkVBJykge1xuICAgICAgICAgIGlucHV0LnZhbHVlID0gdmFsdWUgPz8gJyc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaW5wdXQudmFsdWUgPSB2YWx1ZSA/PyAnJztcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoY29uZmlnLnNlY3Rpb24gPT09ICdncm91cCcpIHtcbiAgICAgICAgY29uc3QgbW9iaWxlVmFsdWUgPVxuICAgICAgICAgIGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImdyb3VwLWNvbHVtbnMtbW9iaWxlXCJdJyk/LnZhbHVlIHx8ICcxJztcbiAgICAgICAgY29uc3QgZGVza3RvcFZhbHVlID1cbiAgICAgICAgICBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJncm91cC1jb2x1bW5zLWRlc2t0b3BcIl0nKT8udmFsdWUgfHwgJzMnO1xuICAgICAgICB1cGRhdGVHcm91cE1pbmlQcmV2aWV3KG1vYmlsZVZhbHVlLCBkZXNrdG9wVmFsdWUpO1xuICAgICAgfVxuICAgICAgaWYgKGNvbmZpZy5zZWN0aW9uID09PSAnY29sbGVjdGlvbicpIHtcbiAgICAgICAgY29uc3QgbW9iaWxlVmFsdWUgPVxuICAgICAgICAgIGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImNvbGxlY3Rpb24tY29sdW1ucy1tb2JpbGVcIl0nKT8udmFsdWUgfHwgJzEnO1xuICAgICAgICBjb25zdCBkZXNrdG9wVmFsdWUgPVxuICAgICAgICAgIGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImNvbGxlY3Rpb24tY29sdW1ucy1kZXNrdG9wXCJdJyk/LnZhbHVlIHx8ICczJztcbiAgICAgICAgdXBkYXRlQ29sbGVjdGlvbk1pbmlQcmV2aWV3KG1vYmlsZVZhbHVlLCBkZXNrdG9wVmFsdWUpO1xuICAgICAgfVxuICAgICAgLy8gTWlzZSBcdTAwRTAgam91ciBkZXMgcHJldmlld3MgZGUgY291bGV1clxuICAgICAgYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWNvbG9yLXNlbGVjdF0nKS5mb3JFYWNoKChzZWxlY3QpID0+IHtcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRPcHRpb24gPSBzZWxlY3Qub3B0aW9uc1tzZWxlY3Quc2VsZWN0ZWRJbmRleF07XG4gICAgICAgIGNvbnN0IGNvbG9yID0gc2VsZWN0ZWRPcHRpb24/LmRhdGFzZXQ/LmNvbG9yIHx8ICcjZmZmZmZmJztcbiAgICAgICAgY29uc3QgY29sb3JQcmV2aWV3ID0gc2VsZWN0LmNsb3Nlc3QoJy5yZWxhdGl2ZScpPy5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xvci1wcmV2aWV3XScpO1xuICAgICAgICBpZiAoY29sb3JQcmV2aWV3KSB7XG4gICAgICAgICAgaWYgKGNvbG9yID09PSAndHJhbnNwYXJlbnQnKSB7XG4gICAgICAgICAgICBjb2xvclByZXZpZXcuc3R5bGUuYmFja2dyb3VuZCA9ICdyZXBlYXRpbmctY29uaWMtZ3JhZGllbnQoI2NjYyAwJSAyNSUsIHdoaXRlIDAlIDUwJSkgNTAlIC8gOHB4IDhweCc7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbG9yUHJldmlldy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBjb2xvcjtcbiAgICAgICAgICAgIGNvbG9yUHJldmlldy5zdHlsZS5iYWNrZ3JvdW5kID0gJyc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IGNvbGxlY3RGb3JtVmFsdWVzID0gKGNvbmZpZykgPT4ge1xuICAgICAgaWYgKCFibG9ja0Zvcm0gfHwgIWNvbmZpZykge1xuICAgICAgICByZXR1cm4ge307XG4gICAgICB9XG4gICAgICBjb25zdCB2YWx1ZXMgPSB7fTtcbiAgICAgIE9iamVjdC5lbnRyaWVzKGNvbmZpZy5maWVsZHMpLmZvckVhY2goKFtzZXR0aW5nS2V5LCBmaWVsZE5hbWVdKSA9PiB7XG4gICAgICAgIGNvbnN0IGlucHV0ID0gYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3IoYFtuYW1lPVwiJHtmaWVsZE5hbWV9XCJdYCk7XG4gICAgICAgIGlmICghaW5wdXQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlucHV0LnR5cGUgPT09ICdjaGVja2JveCcpIHtcbiAgICAgICAgICB2YWx1ZXNbc2V0dGluZ0tleV0gPSBpbnB1dC5jaGVja2VkO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0LnR5cGUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgY29uc3QgcGFyc2VkID0gTnVtYmVyKGlucHV0LnZhbHVlKTtcbiAgICAgICAgICB2YWx1ZXNbc2V0dGluZ0tleV0gPSBOdW1iZXIuaXNGaW5pdGUocGFyc2VkKSA/IHBhcnNlZCA6IDA7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5wdXQudGFnTmFtZSA9PT0gJ1RFWFRBUkVBJykge1xuICAgICAgICAgIHZhbHVlc1tzZXR0aW5nS2V5XSA9IGlucHV0LnZhbHVlIHx8ICcnO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0LnR5cGUgPT09ICdzZWxlY3Qtb25lJykge1xuICAgICAgICAgIHZhbHVlc1tzZXR0aW5nS2V5XSA9IGlucHV0LnZhbHVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhbHVlc1tzZXR0aW5nS2V5XSA9IGlucHV0LnZhbHVlIHx8ICcnO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgfTtcbiAgICBjb25zdCB1cGRhdGVQcmV2aWV3U3RhdHVzID0gKHRleHQpID0+IHtcbiAgICAgIGlmICghcHJldmlld1N0YXR1cykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIXRleHQpIHtcbiAgICAgICAgcHJldmlld1N0YXR1cy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcHJldmlld1N0YXR1cy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIHByZXZpZXdTdGF0dXMudGV4dENvbnRlbnQgPSB0ZXh0O1xuICAgIH07XG4gICAgY29uc3Qgc2VyaWFsaXplUGFnZUZvclByZXZpZXcgPSAocGFnZSkgPT4ge1xuICAgICAgaWYgKCFwYWdlKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBGb25jdGlvbiBwb3VyIHNcdTAwRTlyaWFsaXNlciB1biBibG9jICh1dGlsaXNcdTAwRTkgcG91ciBsZXMgYmxvY3MgZXQgbGV1cnMgZW5mYW50cylcbiAgICAgIGNvbnN0IHNlcmlhbGl6ZUJsb2NrID0gKGJsb2NrKSA9PiAoe1xuICAgICAgICBpZDogYmxvY2suaWQsXG4gICAgICAgIHR5cGU6IGJsb2NrLnR5cGUsXG4gICAgICAgIGxhYmVsOiBibG9jay5sYWJlbCxcbiAgICAgICAgc3RhdHVzOiBibG9jay5zdGF0dXMsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBibG9jay5kZXNjcmlwdGlvbixcbiAgICAgICAgcHJvcHM6IGJsb2NrLnByb3BzIHx8IFtdLFxuICAgICAgICBzZXR0aW5nczogYmxvY2suc2V0dGluZ3MgfHwge30sXG4gICAgICAgIGNvbGxlY3Rpb25JZDogYmxvY2suY29sbGVjdGlvbklkIHx8IGJsb2NrLnNldHRpbmdzPy5jb2xsZWN0aW9uSWQgfHwgJycsXG4gICAgICAgIGNoaWxkcmVuOiAoYmxvY2suY2hpbGRyZW4gfHwgW10pLm1hcChzZXJpYWxpemVCbG9jayksXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IHBhZ2UuaWQsXG4gICAgICAgIG5hbWU6IHBhZ2UubmFtZSxcbiAgICAgICAgdGl0bGU6IHBhZ2UudGl0bGUsXG4gICAgICAgIHNsdWc6IHBhZ2Uuc2x1ZyxcbiAgICAgICAgZGVzY3JpcHRpb246IHBhZ2UuZGVzY3JpcHRpb24gfHwgJycsXG4gICAgICAgIGJhZGdlczogWy4uLihwYWdlLmJhZGdlcyB8fCBbXSldLFxuICAgICAgICBzZW86IHBhZ2Uuc2VvIHx8IHt9LFxuICAgICAgICBhY2Nlc3NpYmlsaXR5OiBwYWdlLmFjY2Vzc2liaWxpdHkgfHwge30sXG4gICAgICAgIGJsb2NrczogKHBhZ2UuYmxvY2tzIHx8IFtdKS5tYXAoc2VyaWFsaXplQmxvY2spLFxuICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IGdldExvYWRpbmdQcmV2aWV3SHRtbCA9ICgpID0+XG4gICAgICAnPCFET0NUWVBFIGh0bWw+PGh0bWw+PGJvZHkgc3R5bGU9XCJmb250LWZhbWlseTpJbnRlcixzYW5zLXNlcmlmO3BhZGRpbmc6NDBweDtjb2xvcjojNDc1NTY5O2JhY2tncm91bmQ6I2ZmZjtcIj5Qclx1MDBFOXBhcmF0aW9uIGRlIGxhIHByXHUwMEU5dmlzdWFsaXNhdGlvblx1MjAyNjwvYm9keT48L2h0bWw+JztcblxuICAgIC8vIERlYm91bmNlIHV0aWxpdHlcbiAgICBjb25zdCBkZWJvdW5jZSA9IChmbiwgZGVsYXkpID0+IHtcbiAgICAgIGxldCB0aW1lb3V0SWQ7XG4gICAgICByZXR1cm4gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG4gICAgICAgIHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4gZm4oLi4uYXJncyksIGRlbGF5KTtcbiAgICAgIH07XG4gICAgfTtcblxuICAgIC8vIEF1dG8tc2F2ZSBwb3VyIGwnYXBwYXJlbmNlIChpbW1cdTAwRTlkaWF0IHBvdXIgXHUwMEU5dml0ZXIgbGVzIHBlcnRlcylcbiAgICBjb25zdCBhdXRvU2F2ZUFwcGVhcmFuY2UgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlIHx8ICFhY3RpdmVCbG9ja0lkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGJsb2NrID0gZ2V0QWN0aXZlQmxvY2soKTtcbiAgICAgIGNvbnN0IGNvbmZpZyA9IGdldEJsb2NrRm9ybUNvbmZpZyhibG9jayk7XG4gICAgICBpZiAoIWJsb2NrIHx8ICFjb25maWcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgdmFsdWVzID0gY29sbGVjdEZvcm1WYWx1ZXMoY29uZmlnKTtcbiAgICAgIGNvbnN0IHVwZGF0ZWRCbG9ja3MgPSAoY3VycmVudFBhZ2UuYmxvY2tzIHx8IFtdKS5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIGlmIChlbnRyeS5pZCAhPT0gYmxvY2suaWQpIHtcbiAgICAgICAgICByZXR1cm4gZW50cnk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdXBkYXRlZFNldHRpbmdzID0geyAuLi4oZW50cnkuc2V0dGluZ3MgfHwge30pLCAuLi52YWx1ZXMgfTtcbiAgICAgICAgcmV0dXJuIHsgLi4uZW50cnksIHNldHRpbmdzOiB1cGRhdGVkU2V0dGluZ3MgfTtcbiAgICAgIH0pO1xuICAgICAgLy8gTWlzZSBcdTAwRTAgam91ciBzaWxlbmNpZXVzZSAoc2FucyB0b2FzdCBuaSByZWZyZXNoIGNvbXBsZXQpXG4gICAgICBjb25zdCBuZXh0UGFnZSA9IHsgLi4uY3VycmVudFBhZ2UsIGJsb2NrczogdXBkYXRlZEJsb2NrcyB9O1xuICAgICAgY3VycmVudFBhZ2UgPSBuZXh0UGFnZTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHNhdmVkID0gYXdhaXQgc2F2ZVBhZ2VUb1NlcnZlcihuZXh0UGFnZSk7XG4gICAgICAgIGlmIChzYXZlZD8uaWQpIHtcbiAgICAgICAgICBjb25zdCBub3JtYWxpemVkID0gbm9ybWFsaXplUGFnZURhdGEoc2F2ZWQpO1xuICAgICAgICAgIGN1cnJlbnRQYWdlID0gbm9ybWFsaXplZDtcbiAgICAgICAgICBwYWdlcyA9IHBhZ2VzLm1hcCgocCkgPT4gKHAuaWQgPT09IG5vcm1hbGl6ZWQuaWQgPyBub3JtYWxpemVkIDogcCkpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdbZGVzaWduXSBhdXRvLXNhdmUgYXBwZWFyYW5jZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBNaXNlIFx1MDBFMCBqb3VyIGxpdmUgZGUgbGEgcHJldmlldyB2aWEgcG9zdE1lc3NhZ2UgKHNhbnMgcmVjaGFyZ2VyIGwnaWZyYW1lKVxuICAgIGNvbnN0IHVwZGF0ZVByZXZpZXdCbG9ja0xpdmUgPSAoYmxvY2tJZCwgc2V0dGluZ3MpID0+IHtcbiAgICAgIGlmICghcHJldmlld0ZyYW1lIHx8ICFwcmV2aWV3RnJhbWUuY29udGVudFdpbmRvdykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBFbnZvaWUgbGVzIG5vdXZlbGxlcyBjbGFzc2VzIGF1IGJsb2MgZGFucyBsJ2lmcmFtZVxuICAgICAgcHJldmlld0ZyYW1lLmNvbnRlbnRXaW5kb3cucG9zdE1lc3NhZ2Uoe1xuICAgICAgICB0eXBlOiAndXBkYXRlQmxvY2tTdHlsZXMnLFxuICAgICAgICBibG9ja0lkLFxuICAgICAgICBzZXR0aW5ncyxcbiAgICAgIH0sICcqJyk7XG4gICAgfTtcblxuICAgIC8vIFJlZnJlc2ggcHJldmlldyBjb21wbGV0IGRlYm91bmNlZCAocG91ciBsZXMgY2hhbmdlbWVudHMgY29tcGxleGVzKVxuICAgIGNvbnN0IGRlYm91bmNlZFJlZnJlc2hQcmV2aWV3ID0gZGVib3VuY2UoKCkgPT4ge1xuICAgICAgaWYgKGN1cnJlbnRQYWdlKSB7XG4gICAgICAgIHJlZnJlc2hQcmV2aWV3KGN1cnJlbnRQYWdlKTtcbiAgICAgIH1cbiAgICB9LCAxNTAwKTtcblxuICAgIC8vIE1pc2UgXHUwMEUwIGpvdXIgbGl2ZSBpbW1cdTAwRTlkaWF0ZSAocG91ciBsYSBwcmV2aWV3KVxuICAgIGNvbnN0IGhhbmRsZUFwcGVhcmFuY2VDaGFuZ2UgPSAoYmxvY2tJZCwgc2V0dGluZ3MpID0+IHtcbiAgICAgIHVwZGF0ZVByZXZpZXdCbG9ja0xpdmUoYmxvY2tJZCwgc2V0dGluZ3MpO1xuICAgICAgdXBkYXRlUHJldmlld1N0YXR1cygnTW9kaWZpY2F0aW9uXHUyMDI2Jyk7XG4gICAgICBhdXRvU2F2ZUFwcGVhcmFuY2UoKVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgdXBkYXRlUHJldmlld1N0YXR1cygnU2F1dmVnYXJkXHUwMEU5Jyk7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB1cGRhdGVQcmV2aWV3U3RhdHVzKCdcdTAwQzAgam91cicpLCAxNTAwKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKCgpID0+IHVwZGF0ZVByZXZpZXdTdGF0dXMoJ0VycmV1ciBkZSBzYXV2ZWdhcmRlJykpO1xuICAgICAgLy8gUmVmcmVzaCBjb21wbGV0IGFwclx1MDBFOHMgdW4gZFx1MDBFOWxhaSBwbHVzIGxvbmcgKHBvdXIgbGVzIGNoYW5nZW1lbnRzIGRlIGxheW91dCwgZXRjLilcbiAgICAgIGRlYm91bmNlZFJlZnJlc2hQcmV2aWV3KCk7XG4gICAgfTtcblxuICAgIGNvbnN0IHJlZnJlc2hQcmV2aWV3ID0gKHBhZ2UpID0+IHtcbiAgICAgIGlmICghcHJldmlld0ZyYW1lIHx8ICFwYWdlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHByZXZpZXdTaXRlU2x1ZyA9IHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJyc7XG4gICAgICBjb25zdCBzZXJpYWxpemVkUGFnZXMgPSBwYWdlcy5tYXAoKGVudHJ5KSA9PiAoe1xuICAgICAgICBpZDogZW50cnkuaWQsXG4gICAgICAgIHNsdWc6IGVudHJ5LnNsdWcsXG4gICAgICAgIHRpdGxlOiBlbnRyeS50aXRsZSxcbiAgICAgICAgbmFtZTogZW50cnkubmFtZSxcbiAgICAgICAgYWNjZXNzaWJpbGl0eTogZW50cnkuYWNjZXNzaWJpbGl0eSxcbiAgICAgIH0pKTtcbiAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgIHBhZ2U6IHNlcmlhbGl6ZVBhZ2VGb3JQcmV2aWV3KHBhZ2UpLFxuICAgICAgICBzaXRlOiB7XG4gICAgICAgICAgdGl0bGU6IHN0b3JlZFNpdGUubmFtZSB8fCAnU2l0ZScsXG4gICAgICAgICAgc2x1ZzogcHJldmlld1NpdGVTbHVnLFxuICAgICAgICAgIHBhZ2VzOiBzZXJpYWxpemVkUGFnZXMsXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgICAgcHJldmlld1JlYWR5ID0gZmFsc2U7XG4gICAgICB1cGRhdGVQcmV2aWV3U3RhdHVzKCdBY3R1YWxpc2F0aW9uXHUyMDI2Jyk7XG4gICAgICBwcmV2aWV3RnJhbWUuc3JjZG9jID0gZ2V0TG9hZGluZ1ByZXZpZXdIdG1sKCk7XG4gICAgICBpZiAocHJldmlld1JlcXVlc3RDb250cm9sbGVyKSB7XG4gICAgICAgIHByZXZpZXdSZXF1ZXN0Q29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgfVxuICAgICAgY29uc3QgY29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICAgIHByZXZpZXdSZXF1ZXN0Q29udHJvbGxlciA9IGNvbnRyb2xsZXI7XG4gICAgICBmZXRjaCgnL2FwaS9wcmV2aWV3Jywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICBzaWduYWw6IGNvbnRyb2xsZXIuc2lnbmFsLFxuICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQcmV2aWV3IGVycm9yJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgICAgaWYgKGNvbnRyb2xsZXIuc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgbGF0ZXN0UHJldmlld0h0bWwgPSBkYXRhLmh0bWwgfHwgJyc7XG4gICAgICAgICAgcHJldmlld0ZyYW1lLnNldEF0dHJpYnV0ZShcbiAgICAgICAgICAgICd0aXRsZScsXG4gICAgICAgICAgICBgUHJcdTAwRTl2aXN1YWxpc2F0aW9uIGRlIGxhIHBhZ2UgJHtwYWdlLnRpdGxlIHx8ICcnfWAudHJpbSgpLFxuICAgICAgICAgICk7XG4gICAgICAgICAgcHJldmlld0ZyYW1lLnNyY2RvYyA9IGxhdGVzdFByZXZpZXdIdG1sIHx8IGdldExvYWRpbmdQcmV2aWV3SHRtbCgpO1xuICAgICAgICAgIHVwZGF0ZVByZXZpZXdTdGF0dXMoJ1x1MDBDMCBqb3VyJyk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICBpZiAoY29udHJvbGxlci5zaWduYWwuYWJvcnRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbcHJldmlld10gSW1wb3NzaWJsZSBkZSByZW5kcmUgbGEgcGFnZScsIGVycm9yKTtcbiAgICAgICAgICB1cGRhdGVQcmV2aWV3U3RhdHVzKCdFcnJldXIgcHJldmlldycpO1xuICAgICAgICAgIHByZXZpZXdGcmFtZS5zcmNkb2MgPVxuICAgICAgICAgICAgJzwhRE9DVFlQRSBodG1sPjxodG1sPjxib2R5IHN0eWxlPVwiZm9udC1mYW1pbHk6SW50ZXIsc2Fucy1zZXJpZjtwYWRkaW5nOjQwcHg7Y29sb3I6I2JlMTIzYztiYWNrZ3JvdW5kOiNmZmY7XCI+RXJyZXVyIGxvcnMgZHUgcmVuZHUgZGUgbGEgcHJcdTAwRTl2aXN1YWxpc2F0aW9uLjwvYm9keT48L2h0bWw+JztcbiAgICAgICAgfSlcbiAgICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICAgIGlmIChwcmV2aWV3UmVxdWVzdENvbnRyb2xsZXIgPT09IGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgIHByZXZpZXdSZXF1ZXN0Q29udHJvbGxlciA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZUJsb2NrRm9ybVN1Ym1pdCA9IChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmICghY3VycmVudFBhZ2UgfHwgIWFjdGl2ZUJsb2NrSWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgYmxvY2sgPSBnZXRBY3RpdmVCbG9jaygpO1xuICAgICAgY29uc3QgY29uZmlnID0gZ2V0QmxvY2tGb3JtQ29uZmlnKGJsb2NrKTtcbiAgICAgIGlmICghYmxvY2sgfHwgIWNvbmZpZykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCB2YWx1ZXMgPSBjb2xsZWN0Rm9ybVZhbHVlcyhjb25maWcpO1xuICAgICAgaWYgKGNvbmZpZy5zZWN0aW9uID09PSAnaW1hZ2UnKSB7XG4gICAgICAgIGNvbnN0IGFsdFZhbHVlID0gKHZhbHVlcy5hbHQgfHwgJycpLnRyaW0oKTtcbiAgICAgICAgdmFsdWVzLmFsdCA9IGFsdFZhbHVlO1xuICAgICAgICBpZiAoIWFsdFZhbHVlKSB7XG4gICAgICAgICAgc2hvd1RvYXN0KCdBam91dGUgdW4gdGV4dGUgYWx0ZXJuYXRpZiBwb3VyIGNldHRlIGltYWdlLicsICdlcnJvcicpO1xuICAgICAgICAgIGJsb2NrRm9ybT8ucXVlcnlTZWxlY3RvcignW25hbWU9XCJpbWFnZS1hbHRcIl0nKT8uZm9jdXMoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChjb25maWcuc2VjdGlvbiA9PT0gJ2NvbGxlY3Rpb24nKSB7XG4gICAgICAgIGlmICghdmFsdWVzLmNvbGxlY3Rpb25JZCkge1xuICAgICAgICAgIHNob3dUb2FzdCgnU1x1MDBFOWxlY3Rpb25uZXogdW5lIGNvbGxlY3Rpb24uJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhbHVlcy5saW1pdCA9IE1hdGgubWF4KDEsIE51bWJlcih2YWx1ZXMubGltaXQpIHx8IDEpO1xuICAgICAgfVxuICAgICAgY29uc3QgdXBkYXRlZEJsb2NrcyA9IChjdXJyZW50UGFnZS5ibG9ja3MgfHwgW10pLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgaWYgKGVudHJ5LmlkICE9PSBibG9jay5pZCkge1xuICAgICAgICAgIHJldHVybiBlbnRyeTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB1cGRhdGVkU2V0dGluZ3MgPSB7IC4uLihlbnRyeS5zZXR0aW5ncyB8fCB7fSksIC4uLnZhbHVlcyB9O1xuICAgICAgICBjb25zdCB1cGRhdGVkQmxvY2sgPSB7XG4gICAgICAgICAgLi4uZW50cnksXG4gICAgICAgICAgc2V0dGluZ3M6IHVwZGF0ZWRTZXR0aW5ncyxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGNvbmZpZy5sYWJlbEZpZWxkICYmIHZhbHVlc1tjb25maWcubGFiZWxGaWVsZF0pIHtcbiAgICAgICAgICB1cGRhdGVkQmxvY2subGFiZWwgPSB2YWx1ZXNbY29uZmlnLmxhYmVsRmllbGRdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb25maWcuZGVzY3JpcHRpb25GaWVsZCAmJiB2YWx1ZXNbY29uZmlnLmRlc2NyaXB0aW9uRmllbGRdKSB7XG4gICAgICAgICAgdXBkYXRlZEJsb2NrLmRlc2NyaXB0aW9uID0gdmFsdWVzW2NvbmZpZy5kZXNjcmlwdGlvbkZpZWxkXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29uZmlnLnNlY3Rpb24gPT09ICdjb2xsZWN0aW9uJykge1xuICAgICAgICAgIHVwZGF0ZWRCbG9jay5jb2xsZWN0aW9uSWQgPSB2YWx1ZXMuY29sbGVjdGlvbklkO1xuICAgICAgICAgIHVwZGF0ZWRCbG9jay5zZXR0aW5ncy5jb2xsZWN0aW9uSWQgPSB2YWx1ZXMuY29sbGVjdGlvbklkO1xuICAgICAgICAgIHVwZGF0ZWRCbG9jay5zZXR0aW5ncy5saW1pdCA9IHZhbHVlcy5saW1pdDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdXBkYXRlZEJsb2NrO1xuICAgICAgfSk7XG4gICAgICB1cGRhdGVDdXJyZW50UGFnZUJsb2Nrcyh1cGRhdGVkQmxvY2tzKTtcbiAgICAgIHNob3dUb2FzdCgnQmxvYyBtaXMgXHUwMEUwIGpvdXInKTtcbiAgICAgIHNldEFjdGl2ZVBhZ2UoY3VycmVudFBhZ2UuaWQsIHsgcHJlc2VydmVCbG9jazogdHJ1ZSB9KTtcbiAgICB9O1xuICAgIGNvbnN0IGRyYXdlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXBhZ2UtZHJhd2VyXScpO1xuICAgIGNvbnN0IGRyYXdlckJhY2tkcm9wID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1kcmF3ZXItYmFja2Ryb3BdJyk7XG4gICAgY29uc3QgZHJhd2VyT3BlbkJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1wYWdlLWRyYXdlci1vcGVuXScpO1xuICAgIGNvbnN0IGRyYXdlckNsb3NlQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXBhZ2UtZHJhd2VyLWNsb3NlXScpO1xuICAgIGNvbnN0IGFkZFBhZ2VUb2dnbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZGQtcGFnZS10b2dnbGVdJyk7XG4gICAgY29uc3QgYWRkUGFnZUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZGQtcGFnZS1mb3JtXScpO1xuICAgIGNvbnN0IGFkZFBhZ2VOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRkLXBhZ2UtbmFtZV0nKTtcbiAgICBjb25zdCBhZGRQYWdlVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZGQtcGFnZS10aXRsZV0nKTtcbiAgICBjb25zdCBhZGRQYWdlU2x1ZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFkZC1wYWdlLXNsdWddJyk7XG4gICAgY29uc3QgYWRkUGFnZUNhbmNlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFkZC1wYWdlLWNhbmNlbF0nKTtcbiAgICBjb25zdCBhZGRQYWdlRXJyb3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZGQtcGFnZS1lcnJvcl0nKTtcbiAgICBjb25zdCBhZGRQYWdlU3VibWl0QnV0dG9uID0gYWRkUGFnZUZvcm0/LnF1ZXJ5U2VsZWN0b3IoJ1t0eXBlPVwic3VibWl0XCJdJyk7XG4gICAgLy8gSW1wb3J0IEpTT04gZWxlbWVudHNcbiAgICBjb25zdCBpbXBvcnRUb2dnbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbXBvcnQtcGFnZXMtdG9nZ2xlXScpO1xuICAgIGNvbnN0IGltcG9ydE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaW1wb3J0LW1vZGFsXScpO1xuICAgIGNvbnN0IGltcG9ydENsb3NlQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWltcG9ydC1tb2RhbC1jbG9zZV0nKTtcbiAgICBjb25zdCBpbXBvcnREcm9wem9uZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWltcG9ydC1kcm9wem9uZV0nKTtcbiAgICBjb25zdCBpbXBvcnRGaWxlSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbXBvcnQtZmlsZS1pbnB1dF0nKTtcbiAgICBjb25zdCBpbXBvcnRGaWxlTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWltcG9ydC1maWxlLWxpc3RdJyk7XG4gICAgY29uc3QgaW1wb3J0RmlsZU5hbWVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaW1wb3J0LWZpbGUtbmFtZXNdJyk7XG4gICAgY29uc3QgaW1wb3J0UmVzdWx0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWltcG9ydC1yZXN1bHRzXScpO1xuICAgIGNvbnN0IGltcG9ydFJlc3VsdHNDb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaW1wb3J0LXJlc3VsdHMtY29udGVudF0nKTtcbiAgICBjb25zdCBpbXBvcnRTdWJtaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbXBvcnQtc3VibWl0XScpO1xuICAgIGNvbnN0IGltcG9ydFRhYnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1pbXBvcnQtdGFiXScpO1xuICAgIGNvbnN0IGltcG9ydFBhbmVscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWltcG9ydC1wYW5lbF0nKTtcbiAgICBjb25zdCBjb3B5VGVtcGxhdGVCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb3B5LXRlbXBsYXRlXScpO1xuICAgIGNvbnN0IHRlbXBsYXRlSnNvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRlbXBsYXRlLWpzb25dJyk7XG4gICAgLy8gUGFzdGUgSlNPTiBlbGVtZW50c1xuICAgIGNvbnN0IGltcG9ydFBhc3RlSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbXBvcnQtcGFzdGUtanNvbl0nKTtcbiAgICBjb25zdCBwYXN0ZUZvcm1hdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWZvcm1hdC1qc29uXScpO1xuICAgIGNvbnN0IHBhc3RlRXJyb3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbXBvcnQtcGFzdGUtZXJyb3JdJyk7XG4gICAgbGV0IGltcG9ydFNlbGVjdGVkRmlsZXMgPSBbXTtcbiAgICBsZXQgYWN0aXZlSW1wb3J0VGFiID0gJ3VwbG9hZCc7XG4gICAgLy8gRGVsZXRlIHBhZ2UgZWxlbWVudHNcbiAgICBjb25zdCBkZWxldGVQYWdlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZWxldGUtcGFnZS1tb2RhbF0nKTtcbiAgICBjb25zdCBkZWxldGVQYWdlTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlbGV0ZS1wYWdlLW5hbWVdJyk7XG4gICAgY29uc3QgZGVsZXRlUGFnZUNhbmNlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlbGV0ZS1wYWdlLWNhbmNlbF0nKTtcbiAgICBjb25zdCBkZWxldGVQYWdlQ29uZmlybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlbGV0ZS1wYWdlLWNvbmZpcm1dJyk7XG4gICAgbGV0IHBhZ2VUb0RlbGV0ZSA9IG51bGw7XG4gICAgY29uc3Qgc2l0ZUtleSA9XG4gICAgICBzdHJpcExlYWRpbmdTbGFzaCh3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICdkZWZhdWx0JykgfHwgJ2RlZmF1bHQnO1xuICAgIGNvbnN0IHNpdGVTbHVnVmFsdWUgPSB3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnO1xuICAgIGNvbnN0IHNhZmVTaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKHNpdGVTbHVnVmFsdWUpIHx8ICcnO1xuICAgIGNvbnN0IHBhZ2VzQXBpQmFzZSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9wYWdlc2BcbiAgICAgIDogbnVsbDtcbiAgICBjb25zdCBjb2xsZWN0aW9uc0FwaUJhc2UgPSBzYWZlU2l0ZVNsdWdcbiAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnKX0vY29sbGVjdGlvbnNgXG4gICAgICA6IG51bGw7XG4gICAgY29uc3Qgc3RvcmFnZUtleXMgPSB7XG4gICAgICBhY3RpdmU6IGBjbG93ZXI6YWN0aXZlUGFnZToke3NpdGVLZXl9YCxcbiAgICB9O1xuICAgIGNvbnN0IGNyZWF0ZUJsb2NrID0gKGlkLCBsYWJlbCwgdHlwZSwgc3RhdHVzLCBkZXNjcmlwdGlvbiwgcHJvcHMgPSBbXSwgc2V0dGluZ3MgPSB7fSkgPT4ge1xuICAgICAgY29uc3QgYmxvY2sgPSB7XG4gICAgICAgIGlkLFxuICAgICAgICBsYWJlbCxcbiAgICAgICAgdHlwZSxcbiAgICAgICAgc3RhdHVzLFxuICAgICAgICBkZXNjcmlwdGlvbixcbiAgICAgICAgcHJvcHMsXG4gICAgICAgIHNldHRpbmdzOiB7IC4uLnNldHRpbmdzIH0sXG4gICAgICB9O1xuICAgICAgaWYgKGJsb2NrLnNldHRpbmdzLmNvbGxlY3Rpb25JZCkge1xuICAgICAgICBibG9jay5jb2xsZWN0aW9uSWQgPSBibG9jay5zZXR0aW5ncy5jb2xsZWN0aW9uSWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmxvY2s7XG4gICAgfTtcbiAgICBjb25zdCBibG9ja0xpYnJhcnlEZWZpbml0aW9ucyA9IHtcbiAgICAgIGhlcm86IHtcbiAgICAgICAgdHlwZTogJ0hlcm8nLFxuICAgICAgICBsYWJlbDogJ0hlcm8gZGUgcGFnZScsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnU2VjdGlvbiBwbGVpbmUgbGFyZ2V1ciBhdmVjIENUQSBwcmluY2lwYWwuJyxcbiAgICAgICAgc3RhdHVzOiAnQnJvdWlsbG9uJyxcbiAgICAgICAgcHJvcHM6IFtcbiAgICAgICAgICB7IGxhYmVsOiAnQ1RBJywgdmFsdWU6ICdEXHUwMEU5Y291dnJpcicgfSxcbiAgICAgICAgICB7IGxhYmVsOiAnSGF1dGV1cicsIHZhbHVlOiAnODB2aCcgfSxcbiAgICAgICAgXSxcbiAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICB0aXRsZTogJ1RpdHJlIGR1IGhlcm8nLFxuICAgICAgICAgIHN1YnRpdGxlOiAnJyxcbiAgICAgICAgICBjdGFMYWJlbDogJ0RcdTAwRTljb3V2cmlyJyxcbiAgICAgICAgICBjdGFVcmw6ICcjJyxcbiAgICAgICAgICBpbWFnZTogJycsXG4gICAgICAgICAgYWxpZ246ICdjZW50ZXInLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIHBhcmFncmFwaDoge1xuICAgICAgICB0eXBlOiAnUGFyYWdyYXBoZScsXG4gICAgICAgIGxhYmVsOiAnQmxvYyBcdTAwRTlkaXRvcmlhbCcsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnUGFyYWdyYXBoZSBsaWJyZSBwb3VyIHJhY29udGVyIHZvdHJlIGhpc3RvaXJlLicsXG4gICAgICAgIHN0YXR1czogJ0Jyb3VpbGxvbicsXG4gICAgICAgIHByb3BzOiBbeyBsYWJlbDogJ0xvbmd1ZXVyJywgdmFsdWU6ICcxNTAgbW90cycgfV0sXG4gICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgdGl0bGU6ICdUaXRyZSBkdSBwYXJhZ3JhcGhlJyxcbiAgICAgICAgICBjb250ZW50OiAnJyxcbiAgICAgICAgICBhbGlnbjogJ2xlZnQnLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGltYWdlOiB7XG4gICAgICAgIHR5cGU6ICdJbWFnZScsXG4gICAgICAgIGxhYmVsOiAnQmxvYyBpbWFnZScsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnVmlzdWVsIHNldWwgYXZlYyBsXHUwMEU5Z2VuZGUgb3B0aW9ubmVsbGUuJyxcbiAgICAgICAgc3RhdHVzOiAnQnJvdWlsbG9uJyxcbiAgICAgICAgcHJvcHM6IFtcbiAgICAgICAgICB7IGxhYmVsOiAnUmF0aW8nLCB2YWx1ZTogJzE2OjknIH0sXG4gICAgICAgICAgeyBsYWJlbDogJ0xcdTAwRTlnZW5kZScsIHZhbHVlOiAnSW5hY3RpdmUnIH0sXG4gICAgICAgIF0sXG4gICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgc3JjOiAnJyxcbiAgICAgICAgICBhbHQ6ICcnLFxuICAgICAgICAgIHNob3dDYXB0aW9uOiBmYWxzZSxcbiAgICAgICAgICBjYXB0aW9uOiAnJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBncm91cDoge1xuICAgICAgICB0eXBlOiAnR3JvdXBlJyxcbiAgICAgICAgbGFiZWw6ICdHcm91cGUgZGUgc2VjdGlvbnMnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0NvbnRlbmV1ciBwb3VyIGltYnJpcXVlciBwbHVzaWV1cnMgc291cy1ibG9jcy4nLFxuICAgICAgICBzdGF0dXM6ICdCcm91aWxsb24nLFxuICAgICAgICBwcm9wczogW3sgbGFiZWw6ICdEaXNwb3NpdGlvbicsIHZhbHVlOiAnVmVydGljYWxlJyB9XSxcbiAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICBsYXlvdXQ6ICdncmlkJyxcbiAgICAgICAgICBjb2x1bW5zTW9iaWxlOiAnMScsXG4gICAgICAgICAgY29sdW1uc0Rlc2t0b3A6ICczJyxcbiAgICAgICAgICBtb2JpbGVMYXlvdXQ6ICdzdGFjaycsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgY29sbGVjdGlvbmdyaWQ6IHtcbiAgICAgICAgdHlwZTogJ0NvbGxlY3Rpb25HcmlkJyxcbiAgICAgICAgbGFiZWw6ICdHcmlsbGUgZGUgY29udGVudXMnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0FmZmljaGUgYXV0b21hdGlxdWVtZW50IGxlcyBpdGVtcyBkXHUyMDE5dW5lIGNvbGxlY3Rpb24uJyxcbiAgICAgICAgc3RhdHVzOiAnQnJvdWlsbG9uJyxcbiAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICBjb2xsZWN0aW9uSWQ6ICcnLFxuICAgICAgICAgIGxpbWl0OiA2LFxuICAgICAgICAgIG1vYmlsZUxheW91dDogJ3N0YWNrJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBmb3JtOiB7XG4gICAgICAgIHR5cGU6ICdGb3JtJyxcbiAgICAgICAgbGFiZWw6ICdGb3JtdWxhaXJlIGRlIGNvbnRhY3QnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0Zvcm11bGFpcmUgYXZlYyBlbnZvaSB2ZXJzIHVuIHNlcnZpY2UgZXh0ZXJuZS4nLFxuICAgICAgICBzdGF0dXM6ICdCcm91aWxsb24nLFxuICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgIGZvcm1UaXRsZTogJ0NvbnRhY3Rlei1ub3VzJyxcbiAgICAgICAgICBhY3Rpb25Vcmw6ICcnLFxuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIHNlcnZpY2VOYW1lOiAnJyxcbiAgICAgICAgICBzdWJtaXRMYWJlbDogJ0Vudm95ZXInLFxuICAgICAgICAgIHN1Y2Nlc3NNZXNzYWdlOiAnTWVyY2kgcG91ciB2b3RyZSBtZXNzYWdlICEnLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIG5ld3NsZXR0ZXJlbWJlZDoge1xuICAgICAgICB0eXBlOiAnTmV3c2xldHRlckVtYmVkJyxcbiAgICAgICAgbGFiZWw6ICdOZXdzbGV0dGVyIC8gRW1iZWQnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0ludFx1MDBFOWdyYXRpb24gZFxcJ3VuIGZvcm11bGFpcmUgbmV3c2xldHRlciBleHRlcm5lIChCcmV2bywgTWFpbGNoaW1wXHUyMDI2KS4nLFxuICAgICAgICBzdGF0dXM6ICdCcm91aWxsb24nLFxuICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgIHRpdGxlOiAnUmVzdGV6IGluZm9ybVx1MDBFOScsXG4gICAgICAgICAgc2VydmljZU5hbWU6ICcnLFxuICAgICAgICAgIGVtYmVkQ29kZTogJycsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH07XG4gICAgY29uc3QgcGVyc2lzdEFjdGl2ZVBhZ2UgPSAocGFnZUlkKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oc3RvcmFnZUtleXMuYWN0aXZlLCBwYWdlSWQpO1xuICAgICAgfSBjYXRjaCB7XG4gICAgICAgIC8qIGlnbm9yZSBzdG9yYWdlIGVycm9ycyAqL1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgZ2V0U3RvcmVkQWN0aXZlUGFnZSA9IChwYWdlcykgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgc3RvcmVkID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKHN0b3JhZ2VLZXlzLmFjdGl2ZSk7XG4gICAgICAgIGlmIChzdG9yZWQgJiYgcGFnZXMuc29tZSgocGFnZSkgPT4gcGFnZS5pZCA9PT0gc3RvcmVkKSkge1xuICAgICAgICAgIHJldHVybiBzdG9yZWQ7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2gge1xuICAgICAgICAvKiBpZ25vcmUgc3RvcmFnZSBlcnJvcnMgKi9cbiAgICAgIH1cbiAgICAgIHJldHVybiBwYWdlc1swXT8uaWQgfHwgbnVsbDtcbiAgICB9O1xuICAgIGNvbnN0IGZvcm1hdEJsb2NrQ291bnQgPSAoY291bnQpID0+IHtcbiAgICAgIGlmICghY291bnQgfHwgY291bnQgPD0gMCkge1xuICAgICAgICByZXR1cm4gJzAgYmxvYyc7XG4gICAgICB9XG4gICAgICByZXR1cm4gY291bnQgPT09IDEgPyAnMSBibG9jJyA6IGAke2NvdW50fSBibG9jc2A7XG4gICAgfTtcbiAgICBjb25zdCBub3JtYWxpemVQYWdlU2x1ZyA9ICh2YWx1ZSkgPT4ge1xuICAgICAgaWYgKCF2YWx1ZSB8fCB2YWx1ZSA9PT0gJy8nKSB7XG4gICAgICAgIHJldHVybiAnLyc7XG4gICAgICB9XG4gICAgICBjb25zdCBiYXNlID0gd29ya3NwYWNlU2x1Z2lmeSh2YWx1ZS5yZXBsYWNlKC9eXFwvLywgJycpKTtcbiAgICAgIHJldHVybiBiYXNlID8gYC8ke2Jhc2V9YCA6ICcvJztcbiAgICB9O1xuICAgIGNvbnN0IGdlbmVyYXRlQmxvY2tJZCA9IChwYWdlSWQgPSAncGFnZScsIGtleSA9ICdibG9jaycpID0+XG4gICAgICBgJHtwYWdlSWR9LSR7a2V5fS0ke0RhdGUubm93KCkudG9TdHJpbmcoMzYpfS0ke01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDApfWA7XG4gICAgY29uc3QgY3JlYXRlSW5pdGlhbEJsb2NrcyA9IChwYWdlSWQsIHRpdGxlKSA9PiBbXG4gICAgICBjcmVhdGVCbG9jayhcbiAgICAgICAgZ2VuZXJhdGVCbG9ja0lkKHBhZ2VJZCwgJ2ludHJvJyksXG4gICAgICAgICdJbnRyb2R1Y3Rpb24nLFxuICAgICAgICAnUGFyYWdyYXBoZScsXG4gICAgICAgICdCcm91aWxsb24nLFxuICAgICAgICBgUGFyYWdyYXBoZSBpbnRyb2R1Y3RpZiBwb3VyIFwiJHt0aXRsZX1cIi5gLFxuICAgICAgICBbeyBsYWJlbDogJ0xvbmd1ZXVyJywgdmFsdWU6ICcyIHBhcmFncmFwaGVzJyB9XSxcbiAgICAgICAge1xuICAgICAgICAgIHRpdGxlOiBgSW50cm9kdWN0aW9uIFx1MDBFMCAke3RpdGxlfWAsXG4gICAgICAgICAgY29udGVudDogJ0Fqb3V0ZXogdm90cmUgcHJlbWllciBwYXJhZ3JhcGhlIGRlIHByXHUwMEU5c2VudGF0aW9uLicsXG4gICAgICAgICAgYWxpZ246ICdsZWZ0JyxcbiAgICAgICAgfSxcbiAgICAgICksXG4gICAgICBjcmVhdGVCbG9jayhcbiAgICAgICAgZ2VuZXJhdGVCbG9ja0lkKHBhZ2VJZCwgJ2NvbnRlbnQnKSxcbiAgICAgICAgJ1pvbmUgZGUgY29udGVudScsXG4gICAgICAgICdHcm91cGUnLFxuICAgICAgICAnQnJvdWlsbG9uJyxcbiAgICAgICAgJ1NlY3Rpb24gcHJpbmNpcGFsZSBcdTAwRTAgY29tcG9zZXIgYXZlYyB0ZXh0ZXMgZXQgdmlzdWVscy4nLFxuICAgICAgICBbeyBsYWJlbDogJ0NvbG9ubmVzJywgdmFsdWU6ICdBdXRvJyB9XSxcbiAgICAgICAge1xuICAgICAgICAgIGxheW91dDogJ2dyaWQnLFxuICAgICAgICAgIGNvbHVtbnNNb2JpbGU6ICcxJyxcbiAgICAgICAgICBjb2x1bW5zRGVza3RvcDogJzInLFxuICAgICAgICAgIG1vYmlsZUxheW91dDogJ3N0YWNrJyxcbiAgICAgICAgfSxcbiAgICAgICksXG4gICAgXTtcbiAgICBjb25zdCBzZXRBY3RpdmVMYWJlbHMgPSAocGFnZSkgPT4ge1xuICAgICAgaWYgKGFjdGl2ZVRpdGxlKSB7XG4gICAgICAgIC8vIFVzZSBwYWdlLm5hbWUgKHNob3J0IG5hbWUpIGlmIGF2YWlsYWJsZSwgZmFsbGJhY2sgdG8gdGl0bGVcbiAgICAgICAgYWN0aXZlVGl0bGUudGV4dENvbnRlbnQgPSBwYWdlPy5uYW1lIHx8IHBhZ2U/LnRpdGxlIHx8ICdQYWdlJztcbiAgICAgIH1cbiAgICAgIGlmIChhY3RpdmVTbHVnKSB7XG4gICAgICAgIGFjdGl2ZVNsdWcudGV4dENvbnRlbnQgPSBwYWdlPy5zbHVnIHx8ICcvJztcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHJlbmRlclByZXZpZXdNZXRhID0gKHBhZ2UpID0+IHtcbiAgICAgIGlmICghcHJldmlld1RhZ3MpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcHJldmlld1RhZ3MuaW5uZXJIVE1MID0gJyc7XG4gICAgICBjb25zdCB0YWdzID1cbiAgICAgICAgcGFnZSAmJiBwYWdlLmJhZGdlcyAmJiBwYWdlLmJhZGdlcy5sZW5ndGggPiAwID8gcGFnZS5iYWRnZXMgOiBbJ1N0cnVjdHVyZSBlbiBjb3VycyddO1xuICAgICAgdGFncy5mb3JFYWNoKCh0YWcpID0+IHtcbiAgICAgICAgY29uc3QgYmFkZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgIGJhZGdlLmNsYXNzTmFtZSA9ICdyb3VuZGVkLWZ1bGwgYmctc2xhdGUtMTAwIHB4LTMgcHktMSc7XG4gICAgICAgIGJhZGdlLnRleHRDb250ZW50ID0gdGFnO1xuICAgICAgICBwcmV2aWV3VGFncy5hcHBlbmRDaGlsZChiYWRnZSk7XG4gICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IGdldFN0YXR1c0JhZGdlQ2xhc3NlcyA9IChzdGF0dXMpID0+IHtcbiAgICAgIHN3aXRjaCAoKHN0YXR1cyB8fCAnJykudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICBjYXNlICdlbiBsaWduZSc6XG4gICAgICAgICAgcmV0dXJuICdiZy1lbWVyYWxkLTUwIHRleHQtZW1lcmFsZC03MDAnO1xuICAgICAgICBjYXNlICdicm91aWxsb24nOlxuICAgICAgICAgIHJldHVybiAnYmctYW1iZXItNTAgdGV4dC1hbWJlci03MDAnO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiAnYmctc2xhdGUtMTAwIHRleHQtc2xhdGUtNjAwJztcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHJlbmRlckJsb2NrRGV0YWlscyA9IChibG9jaykgPT4ge1xuICAgICAgaWYgKCFibG9ja0RldGFpbEVtcHR5IHx8ICFibG9ja0VkaXRvcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWJsb2NrKSB7XG4gICAgICAgIGJsb2NrRGV0YWlsRW1wdHkuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIGJsb2NrRWRpdG9yLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBibG9ja0VkaXRvclVuc3VwcG9ydGVkPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgYmxvY2tGb3JtPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgYmxvY2tEZXRhaWxTdGF0dXM/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBibG9ja0RldGFpbEVtcHR5LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgYmxvY2tFZGl0b3IuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBpZiAoYmxvY2tEZXRhaWxTdGF0dXMpIHtcbiAgICAgICAgaWYgKGJsb2NrLnN0YXR1cykge1xuICAgICAgICAgIGJsb2NrRGV0YWlsU3RhdHVzLnRleHRDb250ZW50ID0gYmxvY2suc3RhdHVzO1xuICAgICAgICAgIGJsb2NrRGV0YWlsU3RhdHVzLmNsYXNzTmFtZSA9IGByb3VuZGVkLWZ1bGwgcHgtMyBweS0xIHRleHQteHMgZm9udC1zZW1pYm9sZCAke2dldFN0YXR1c0JhZGdlQ2xhc3NlcyhcbiAgICAgICAgICAgIGJsb2NrLnN0YXR1cyxcbiAgICAgICAgICApfWA7XG4gICAgICAgICAgYmxvY2tEZXRhaWxTdGF0dXMuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYmxvY2tEZXRhaWxTdGF0dXMuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHBvcHVsYXRlQmxvY2tGb3JtKGJsb2NrKTtcbiAgICB9O1xuICAgIGNvbnN0IGFwcGx5UHJldmlld0hpZ2hsaWdodCA9IChibG9ja0lkKSA9PiB7XG4gICAgICBpZiAoIXByZXZpZXdGcmFtZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBkb2MgPSBwcmV2aWV3RnJhbWUuY29udGVudERvY3VtZW50O1xuICAgICAgaWYgKCFkb2MpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3Qgbm9kZXMgPSBkb2MucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtcHJldmlldy1ibG9ja10nKTtcbiAgICAgIG5vZGVzLmZvckVhY2goKG5vZGUpID0+IHtcbiAgICAgICAgaWYgKG5vZGUuZGF0YXNldC5wcmV2aWV3QmxvY2sgPT09IGJsb2NrSWQpIHtcbiAgICAgICAgICBub2RlLmNsYXNzTGlzdC5hZGQoJ3ByZXZpZXctYmxvY2stYWN0aXZlJyk7XG4gICAgICAgICAgaWYgKHByZXZpZXdSZWFkeSAmJiBibG9ja0lkKSB7XG4gICAgICAgICAgICBub2RlLnNjcm9sbEludG9WaWV3KHsgYmVoYXZpb3I6ICdzbW9vdGgnLCBibG9jazogJ2NlbnRlcicsIGlubGluZTogJ25lYXJlc3QnIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBub2RlLmNsYXNzTGlzdC5yZW1vdmUoJ3ByZXZpZXctYmxvY2stYWN0aXZlJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKHByZXZpZXdIaWdobGlnaHRPdmVybGF5KSB7XG4gICAgICAgIHByZXZpZXdIaWdobGlnaHRPdmVybGF5LnN0eWxlLmJvcmRlckNvbG9yID0gYmxvY2tJZCA/ICdyZ2JhKDE1NiwgMTA3LCAyNTUsIDAuNSknIDogJ3RyYW5zcGFyZW50JztcbiAgICAgIH1cbiAgICB9O1xuICAgIC8vIEZvbmN0aW9uIHBvdXIgY3JcdTAwRTllciB1biBcdTAwRTlsXHUwMEU5bWVudCBkZSBibG9jICh1dGlsaXNcdTAwRTkgcG91ciBsZXMgYmxvY3MgZXQgbGVzIGVuZmFudHMgZGUgZ3JvdXBlKVxuICAgIGNvbnN0IGNyZWF0ZUJsb2NrSXRlbUVsZW1lbnQgPSAoYmxvY2ssIGlzTmVzdGVkID0gZmFsc2UsIHBhcmVudElkID0gbnVsbCkgPT4ge1xuICAgICAgY29uc3QgaXNBY3RpdmUgPSBibG9jay5pZCA9PT0gYWN0aXZlQmxvY2tJZDtcbiAgICAgIGNvbnN0IGJsb2NrVHlwZSA9IChibG9jay50eXBlIHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgY29uc3QgaXNHcm91cCA9IGJsb2NrVHlwZSA9PT0gJ2dyb3VwZScgfHwgYmxvY2tUeXBlID09PSAnZ3JvdXAnIHx8IGJsb2NrVHlwZSA9PT0gJ3NlY3Rpb25zJyB8fCBibG9ja1R5cGUgPT09ICdncmlkJztcbiAgICAgIFxuICAgICAgY29uc3QgaXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgaXRlbS5kYXRhc2V0LmJsb2NrSXRlbSA9ICd0cnVlJztcbiAgICAgIGl0ZW0uZGF0YXNldC5ibG9ja0lkID0gYmxvY2suaWQ7XG4gICAgICBpZiAocGFyZW50SWQpIGl0ZW0uZGF0YXNldC5wYXJlbnRCbG9ja0lkID0gcGFyZW50SWQ7XG4gICAgICBpZiAoaXNHcm91cCkgaXRlbS5kYXRhc2V0LmlzR3JvdXAgPSAndHJ1ZSc7XG4gICAgICBpdGVtLnNldEF0dHJpYnV0ZSgncm9sZScsICdvcHRpb24nKTtcbiAgICAgIGl0ZW0uc2V0QXR0cmlidXRlKCdhcmlhLXNlbGVjdGVkJywgaXNBY3RpdmUgPyAndHJ1ZScgOiAnZmFsc2UnKTtcbiAgICAgIGl0ZW0uc2V0QXR0cmlidXRlKCdkcmFnZ2FibGUnLCAndHJ1ZScpO1xuICAgICAgaXRlbS50YWJJbmRleCA9IDA7XG4gICAgICBpdGVtLmNsYXNzTmFtZSA9IFtcbiAgICAgICAgJ3JlbGF0aXZlIGZsZXggaXRlbXMtY2VudGVyIGdhcC0zIHJvdW5kZWQtMnhsIGJvcmRlciBweC0zIHB5LTIgdGV4dC1sZWZ0IHRyYW5zaXRpb24gZ3JvdXAnLFxuICAgICAgICBpc05lc3RlZCA/ICdtbC02IGJvcmRlci1kYXNoZWQnIDogJycsXG4gICAgICAgIGlzQWN0aXZlXG4gICAgICAgICAgPyAnYmctc2xhdGUtMTAwIGJvcmRlci1bIzlDNkJGRl0vNDAgc2hhZG93LXNtJ1xuICAgICAgICAgIDogJ2JvcmRlci1zbGF0ZS0yMDAgaG92ZXI6Ym9yZGVyLVsjOUM2QkZGXS80MCcsXG4gICAgICBdLmpvaW4oJyAnKTtcbiAgICAgIFxuICAgICAgY29uc3QgYWNjZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgYWNjZW50LmNsYXNzTmFtZSA9IGBhYnNvbHV0ZSBpbnNldC15LTIgbGVmdC0wIHctMSByb3VuZGVkLWZ1bGwgYmctWyM5QzZCRkZdICR7aXNBY3RpdmUgPyAnJyA6ICdoaWRkZW4nfWA7XG4gICAgICBpdGVtLmFwcGVuZENoaWxkKGFjY2VudCk7XG5cbiAgICAgIGNvbnN0IGNvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGNvbnRlbnQuY2xhc3NOYW1lID0gJ2ZsZXggZmxleC0xIGl0ZW1zLWNlbnRlciBnYXAtMyc7XG4gICAgICBcbiAgICAgIGNvbnN0IGhhbmRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgaGFuZGxlLmNsYXNzTmFtZSA9ICdoaWRkZW4gbGc6ZmxleCBjdXJzb3ItZ3JhYiBhY3RpdmU6Y3Vyc29yLWdyYWJiaW5nIGZsZXgtc2hyaW5rLTAgaXRlbXMtY2VudGVyIHRleHQtbGcgdGV4dC1zbGF0ZS00MDAgaG92ZXI6dGV4dC1zbGF0ZS02MDAgdHJhbnNpdGlvbi1jb2xvcnMgc2VsZWN0LW5vbmUnO1xuICAgICAgaGFuZGxlLmlubmVySFRNTCA9ICdcdTIyRUVcdTIyRUUnO1xuICAgICAgaGFuZGxlLnNldEF0dHJpYnV0ZSgndGl0bGUnLCAnR2xpc3NlciBwb3VyIHJcdTAwRTlvcmRvbm5lcicpO1xuICAgICAgY29udGVudC5hcHBlbmRDaGlsZChoYW5kbGUpO1xuXG4gICAgICBjb25zdCB0ZXh0V3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgdGV4dFdyYXBwZXIuY2xhc3NOYW1lID0gJ2ZsZXgtMSc7XG4gICAgICBcbiAgICAgIGNvbnN0IG1ldGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIG1ldGEuY2xhc3NOYW1lID0gJ2ZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHRleHQtWzExcHhdIHVwcGVyY2FzZSB0cmFja2luZy13aWRlIHRleHQtc2xhdGUtNTAwJztcbiAgICAgIFxuICAgICAgY29uc3QgdHlwZUJhZGdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgdHlwZUJhZGdlLmNsYXNzTmFtZSA9ICdyb3VuZGVkLWZ1bGwgYmctc2xhdGUtMTAwIHB4LTIgcHktMC41IHRleHQtWzEwcHhdIGZvbnQtc2VtaWJvbGQgdGV4dC1zbGF0ZS02MDAnO1xuICAgICAgdHlwZUJhZGdlLnRleHRDb250ZW50ID0gYmxvY2sudHlwZTtcbiAgICAgIFxuICAgICAgY29uc3Qgc3RhdHVzQmFkZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICBzdGF0dXNCYWRnZS5jbGFzc05hbWUgPSAndGV4dC1zbGF0ZS00MDAnO1xuICAgICAgc3RhdHVzQmFkZ2UudGV4dENvbnRlbnQgPSBibG9jay5zdGF0dXM7XG4gICAgICBcbiAgICAgIG1ldGEuYXBwZW5kQ2hpbGQodHlwZUJhZGdlKTtcbiAgICAgIGlmIChpc0dyb3VwKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkQ291bnQgPSAoYmxvY2suY2hpbGRyZW4gfHwgW10pLmxlbmd0aDtcbiAgICAgICAgY29uc3QgY2hpbGRCYWRnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgY2hpbGRCYWRnZS5jbGFzc05hbWUgPSAncm91bmRlZC1mdWxsIGJnLXZpb2xldC0xMDAgcHgtMiBweS0wLjUgdGV4dC1bMTBweF0gZm9udC1zZW1pYm9sZCB0ZXh0LXZpb2xldC02MDAnO1xuICAgICAgICBjaGlsZEJhZGdlLnRleHRDb250ZW50ID0gYCR7Y2hpbGRDb3VudH0gXHUwMEU5bFx1MDBFOW1lbnQke2NoaWxkQ291bnQgIT09IDEgPyAncycgOiAnJ31gO1xuICAgICAgICBtZXRhLmFwcGVuZENoaWxkKGNoaWxkQmFkZ2UpO1xuICAgICAgfVxuICAgICAgbWV0YS5hcHBlbmRDaGlsZChzdGF0dXNCYWRnZSk7XG4gICAgICBcbiAgICAgIGNvbnN0IHRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgICAgdGl0bGUuY2xhc3NOYW1lID0gJ210LTEgdGV4dC1zbSBmb250LXNlbWlib2xkIHRleHQtc2xhdGUtOTAwJztcbiAgICAgIGNvbnN0IGRpc3BsYXlMYWJlbCA9IChibG9jay5zZXR0aW5ncyAmJiBibG9jay5zZXR0aW5ncy50aXRsZSkgfHwgYmxvY2subGFiZWwgfHwgJ0Jsb2Mgc2FucyB0aXRyZSc7XG4gICAgICB0aXRsZS50ZXh0Q29udGVudCA9IGRpc3BsYXlMYWJlbDtcbiAgICAgIFxuICAgICAgdGV4dFdyYXBwZXIuYXBwZW5kQ2hpbGQobWV0YSk7XG4gICAgICB0ZXh0V3JhcHBlci5hcHBlbmRDaGlsZCh0aXRsZSk7XG4gICAgICBcbiAgICAgIGlmIChibG9ja1R5cGUgPT09ICdjb2xsZWN0aW9uZ3JpZCcgJiYgYmxvY2suY29sbGVjdGlvbklkKSB7XG4gICAgICAgIGNvbnN0IGNvbGxlY3Rpb25OYW1lID0gZGVzaWduQ29sbGVjdGlvbnMuZmluZCgoZW50cnkpID0+IGVudHJ5LmlkID09PSBibG9jay5jb2xsZWN0aW9uSWQpPy5uYW1lIHx8IGJsb2NrLmNvbGxlY3Rpb25JZDtcbiAgICAgICAgY29uc3QgaW5mbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICAgICAgaW5mby5jbGFzc05hbWUgPSAndGV4dC14cyB0ZXh0LXNsYXRlLTQwMCc7XG4gICAgICAgIGluZm8udGV4dENvbnRlbnQgPSBgQ29sbGVjdGlvbiA6ICR7Y29sbGVjdGlvbk5hbWV9YDtcbiAgICAgICAgdGV4dFdyYXBwZXIuYXBwZW5kQ2hpbGQoaW5mbyk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQodGV4dFdyYXBwZXIpO1xuICAgICAgaXRlbS5hcHBlbmRDaGlsZChjb250ZW50KTtcblxuICAgICAgY29uc3QgYWN0aW9ucyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgYWN0aW9ucy5jbGFzc05hbWUgPSAnZmxleCBmbGV4LWNvbCBnYXAtMSB0ZXh0LXhzIHRleHQtc2xhdGUtNDAwJztcblxuICAgICAgY29uc3QgbW92ZUJ1dHRvbnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIG1vdmVCdXR0b25zLmNsYXNzTmFtZSA9ICdmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMSBsZzpoaWRkZW4nO1xuICAgICAgY29uc3QgbW92ZVVwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICBtb3ZlVXAudHlwZSA9ICdidXR0b24nO1xuICAgICAgbW92ZVVwLmNsYXNzTmFtZSA9ICdyb3VuZGVkLWxnIGJvcmRlciBib3JkZXItc2xhdGUtMjAwIHB4LTIgcHktMSB0ZXh0LVsxMXB4XSBmb250LXNlbWlib2xkIHRleHQtc2xhdGUtNTAwJztcbiAgICAgIG1vdmVVcC50ZXh0Q29udGVudCA9ICdcdTIxOTEnO1xuICAgICAgbW92ZVVwLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBpZiAocGFyZW50SWQpIHtcbiAgICAgICAgICBtb3ZlQ2hpbGRCbG9ja0J5T2Zmc2V0KHBhcmVudElkLCBibG9jay5pZCwgLTEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1vdmVCbG9ja0J5T2Zmc2V0KGJsb2NrLmlkLCAtMSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgY29uc3QgbW92ZURvd24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgIG1vdmVEb3duLnR5cGUgPSAnYnV0dG9uJztcbiAgICAgIG1vdmVEb3duLmNsYXNzTmFtZSA9ICdyb3VuZGVkLWxnIGJvcmRlciBib3JkZXItc2xhdGUtMjAwIHB4LTIgcHktMSB0ZXh0LVsxMXB4XSBmb250LXNlbWlib2xkIHRleHQtc2xhdGUtNTAwJztcbiAgICAgIG1vdmVEb3duLnRleHRDb250ZW50ID0gJ1x1MjE5Myc7XG4gICAgICBtb3ZlRG93bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgaWYgKHBhcmVudElkKSB7XG4gICAgICAgICAgbW92ZUNoaWxkQmxvY2tCeU9mZnNldChwYXJlbnRJZCwgYmxvY2suaWQsIDEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1vdmVCbG9ja0J5T2Zmc2V0KGJsb2NrLmlkLCAxKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBtb3ZlQnV0dG9ucy5hcHBlbmRDaGlsZChtb3ZlVXApO1xuICAgICAgbW92ZUJ1dHRvbnMuYXBwZW5kQ2hpbGQobW92ZURvd24pO1xuICAgICAgYWN0aW9ucy5hcHBlbmRDaGlsZChtb3ZlQnV0dG9ucyk7XG5cbiAgICAgIGNvbnN0IGRlbGV0ZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgZGVsZXRlQnV0dG9uLnR5cGUgPSAnYnV0dG9uJztcbiAgICAgIGRlbGV0ZUJ1dHRvbi5jbGFzc05hbWUgPSAnaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci10cmFuc3BhcmVudCBweC0yIHB5LTEgdGV4dC1bMTJweF0gdGV4dC1yb3NlLTUwMCBob3Zlcjp0ZXh0LXJvc2UtNzAwJztcbiAgICAgIGRlbGV0ZUJ1dHRvbi5pbm5lckhUTUwgPSAnXHVEODNEXHVEREQxXHVGRTBGJztcbiAgICAgIGRlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgaWYgKHBhcmVudElkKSB7XG4gICAgICAgICAgcmVtb3ZlQ2hpbGRGcm9tR3JvdXAocGFyZW50SWQsIGJsb2NrLmlkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvcGVuQmxvY2tEZWxldGVNb2RhbChibG9jay5pZCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBhY3Rpb25zLmFwcGVuZENoaWxkKGRlbGV0ZUJ1dHRvbik7XG4gICAgICBpdGVtLmFwcGVuZENoaWxkKGFjdGlvbnMpO1xuXG4gICAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBzZXRBY3RpdmVCbG9jayhibG9jay5pZCwgcGFyZW50SWQpO1xuICAgICAgfSk7XG4gICAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZlbnQpID0+IHtcbiAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VudGVyJyB8fCBldmVudC5rZXkgPT09ICcgJykge1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgc2V0QWN0aXZlQmxvY2soYmxvY2suaWQsIHBhcmVudElkKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIHJldHVybiB7IGl0ZW0sIGlzR3JvdXAsIGJsb2NrIH07XG4gICAgfTtcbiAgICBcbiAgICAvLyBGb25jdGlvbiBwb3VyIGNyXHUwMEU5ZXIgbGEgem9uZSBkZSBkcm9wIHBvdXIgdW4gZ3JvdXBlXG4gICAgY29uc3QgY3JlYXRlR3JvdXBEcm9wWm9uZSA9IChwYXJlbnRCbG9jaykgPT4ge1xuICAgICAgY29uc3QgZHJvcFpvbmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGRyb3Bab25lLmRhdGFzZXQuZ3JvdXBEcm9wWm9uZSA9IHBhcmVudEJsb2NrLmlkO1xuICAgICAgZHJvcFpvbmUuY2xhc3NOYW1lID0gJ21sLTYgYm9yZGVyLTIgYm9yZGVyLWRhc2hlZCBib3JkZXItc2xhdGUtMjAwIHJvdW5kZWQteGwgcC0zIHRleHQtY2VudGVyIHRleHQteHMgdGV4dC1zbGF0ZS00MDAgaG92ZXI6Ym9yZGVyLXZpb2xldC0zMDAgaG92ZXI6YmctdmlvbGV0LTUwLzUwIHRyYW5zaXRpb24tY29sb3JzIGN1cnNvci1wb2ludGVyJztcbiAgICAgIGRyb3Bab25lLmlubmVySFRNTCA9ICc8c3BhbiBjbGFzcz1cInBvaW50ZXItZXZlbnRzLW5vbmVcIj5cdUQ4M0RcdURDRTYgR2xpc3NleiB1biBibG9jIGljaSBvdSBjbGlxdWV6IHBvdXIgYWpvdXRlcjwvc3Bhbj4nO1xuICAgICAgXG4gICAgICAvLyBcdTAwQzl2XHUwMEU5bmVtZW50cyBkZSBkcmFnICYgZHJvcFxuICAgICAgZHJvcFpvbmUuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ292ZXInLCAoZSkgPT4ge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGRyb3Bab25lLmNsYXNzTGlzdC5hZGQoJ2JvcmRlci12aW9sZXQtNDAwJywgJ2JnLXZpb2xldC01MCcpO1xuICAgICAgfSk7XG4gICAgICBkcm9wWm9uZS5hZGRFdmVudExpc3RlbmVyKCdkcmFnbGVhdmUnLCAoZSkgPT4ge1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBkcm9wWm9uZS5jbGFzc0xpc3QucmVtb3ZlKCdib3JkZXItdmlvbGV0LTQwMCcsICdiZy12aW9sZXQtNTAnKTtcbiAgICAgIH0pO1xuICAgICAgZHJvcFpvbmUuYWRkRXZlbnRMaXN0ZW5lcignZHJvcCcsIChlKSA9PiB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgZHJvcFpvbmUuY2xhc3NMaXN0LnJlbW92ZSgnYm9yZGVyLXZpb2xldC00MDAnLCAnYmctdmlvbGV0LTUwJyk7XG4gICAgICAgIGNvbnN0IGJsb2NrSWQgPSBlLmRhdGFUcmFuc2Zlci5nZXREYXRhKCd0ZXh0L3BsYWluJyk7XG4gICAgICAgIGlmIChibG9ja0lkICYmIGJsb2NrSWQgIT09IHBhcmVudEJsb2NrLmlkKSB7XG4gICAgICAgICAgbW92ZUJsb2NrVG9Hcm91cChibG9ja0lkLCBwYXJlbnRCbG9jay5pZCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBDbGljIHBvdXIgYWpvdXRlciB1biBibG9jIGF1IGdyb3VwZVxuICAgICAgZHJvcFpvbmUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIG9wZW5BZGRCbG9ja1RvR3JvdXBNb2RhbChwYXJlbnRCbG9jay5pZCk7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgcmV0dXJuIGRyb3Bab25lO1xuICAgIH07XG5cbiAgICBjb25zdCByZW5kZXJCbG9ja0xpc3QgPSAocGFnZSkgPT4ge1xuICAgICAgaWYgKCFibG9ja0xpc3QpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYmxvY2tMaXN0LmlubmVySFRNTCA9ICcnO1xuICAgICAgY29uc3QgYmxvY2tzID0gcGFnZT8uYmxvY2tzIHx8IFtdO1xuICAgICAgaWYgKGJsb2NrQ291bnRCYWRnZSkge1xuICAgICAgICBibG9ja0NvdW50QmFkZ2UudGV4dENvbnRlbnQgPSBmb3JtYXRCbG9ja0NvdW50KGJsb2Nrcy5sZW5ndGgpO1xuICAgICAgfVxuICAgICAgaWYgKGJsb2Nrcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgYmxvY2tMaXN0LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBibG9ja0xpc3RFbXB0eT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGJsb2NrTGlzdC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGJsb2NrTGlzdEVtcHR5Py5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIFxuICAgICAgYmxvY2tzLmZvckVhY2goKGJsb2NrKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgaXRlbSwgaXNHcm91cCB9ID0gY3JlYXRlQmxvY2tJdGVtRWxlbWVudChibG9jaywgZmFsc2UsIG51bGwpO1xuICAgICAgICBibG9ja0xpc3QuYXBwZW5kQ2hpbGQoaXRlbSk7XG4gICAgICAgIFxuICAgICAgICAvLyBTaSBjJ2VzdCB1biBncm91cGUsIGFmZmljaGVyIGxlcyBlbmZhbnRzIGV0IGxhIHpvbmUgZGUgZHJvcFxuICAgICAgICBpZiAoaXNHcm91cCkge1xuICAgICAgICAgIGNvbnN0IGNoaWxkcmVuID0gYmxvY2suY2hpbGRyZW4gfHwgW107XG4gICAgICAgICAgY2hpbGRyZW4uZm9yRWFjaCgoY2hpbGQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgaXRlbTogY2hpbGRJdGVtIH0gPSBjcmVhdGVCbG9ja0l0ZW1FbGVtZW50KGNoaWxkLCB0cnVlLCBibG9jay5pZCk7XG4gICAgICAgICAgICBibG9ja0xpc3QuYXBwZW5kQ2hpbGQoY2hpbGRJdGVtKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICAvLyBab25lIGRlIGRyb3AgcG91ciBham91dGVyIGRlcyBibG9jcyBhdSBncm91cGVcbiAgICAgICAgICBjb25zdCBkcm9wWm9uZSA9IGNyZWF0ZUdyb3VwRHJvcFpvbmUoYmxvY2spO1xuICAgICAgICAgIGJsb2NrTGlzdC5hcHBlbmRDaGlsZChkcm9wWm9uZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG4gICAgXG4gICAgLy8gRm9uY3Rpb25zIHBvdXIgZ1x1MDBFOXJlciBsZXMgZW5mYW50cyBkZXMgZ3JvdXBlc1xuICAgIGNvbnN0IG1vdmVCbG9ja1RvR3JvdXAgPSAoYmxvY2tJZCwgZ3JvdXBJZCkgPT4ge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSkgcmV0dXJuO1xuICAgICAgY29uc3QgYmxvY2tJbmRleCA9IGN1cnJlbnRQYWdlLmJsb2Nrcy5maW5kSW5kZXgoKGIpID0+IGIuaWQgPT09IGJsb2NrSWQpO1xuICAgICAgY29uc3QgZ3JvdXBCbG9jayA9IGN1cnJlbnRQYWdlLmJsb2Nrcy5maW5kKChiKSA9PiBiLmlkID09PSBncm91cElkKTtcbiAgICAgIGlmIChibG9ja0luZGV4ID09PSAtMSB8fCAhZ3JvdXBCbG9jaykgcmV0dXJuO1xuICAgICAgXG4gICAgICAvLyBOZSBwYXMgcGVybWV0dHJlIGRlIGRcdTAwRTlwbGFjZXIgdW4gZ3JvdXBlIGRhbnMgdW4gZ3JvdXBlXG4gICAgICBjb25zdCBibG9jayA9IGN1cnJlbnRQYWdlLmJsb2Nrc1tibG9ja0luZGV4XTtcbiAgICAgIGNvbnN0IGJsb2NrVHlwZSA9IChibG9jay50eXBlIHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgaWYgKGJsb2NrVHlwZSA9PT0gJ2dyb3VwZScgfHwgYmxvY2tUeXBlID09PSAnZ3JvdXAnKSB7XG4gICAgICAgIHNob3dUb2FzdCgnSW1wb3NzaWJsZSBkXFwnaW1icmlxdWVyIGRlcyBncm91cGVzJywgJ2Vycm9yJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gUmV0aXJlciBsZSBibG9jIGRlIGxhIGxpc3RlIHByaW5jaXBhbGVcbiAgICAgIGNvbnN0IFttb3ZlZEJsb2NrXSA9IGN1cnJlbnRQYWdlLmJsb2Nrcy5zcGxpY2UoYmxvY2tJbmRleCwgMSk7XG4gICAgICBcbiAgICAgIC8vIEFqb3V0ZXIgYXUgZ3JvdXBlXG4gICAgICBpZiAoIWdyb3VwQmxvY2suY2hpbGRyZW4pIGdyb3VwQmxvY2suY2hpbGRyZW4gPSBbXTtcbiAgICAgIGdyb3VwQmxvY2suY2hpbGRyZW4ucHVzaChtb3ZlZEJsb2NrKTtcbiAgICAgIFxuICAgICAgcmVuZGVyQmxvY2tMaXN0KGN1cnJlbnRQYWdlKTtcbiAgICAgIHNhdmVQYWdlQmxvY2tzKCk7XG4gICAgICBzaG93VG9hc3QoYEJsb2MgYWpvdXRcdTAwRTkgYXUgZ3JvdXBlYCk7XG4gICAgfTtcbiAgICBcbiAgICBjb25zdCByZW1vdmVDaGlsZEZyb21Hcm91cCA9IChncm91cElkLCBjaGlsZElkKSA9PiB7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlKSByZXR1cm47XG4gICAgICBjb25zdCBncm91cEJsb2NrID0gY3VycmVudFBhZ2UuYmxvY2tzLmZpbmQoKGIpID0+IGIuaWQgPT09IGdyb3VwSWQpO1xuICAgICAgaWYgKCFncm91cEJsb2NrIHx8ICFncm91cEJsb2NrLmNoaWxkcmVuKSByZXR1cm47XG4gICAgICBcbiAgICAgIGNvbnN0IGNoaWxkSW5kZXggPSBncm91cEJsb2NrLmNoaWxkcmVuLmZpbmRJbmRleCgoYykgPT4gYy5pZCA9PT0gY2hpbGRJZCk7XG4gICAgICBpZiAoY2hpbGRJbmRleCA9PT0gLTEpIHJldHVybjtcbiAgICAgIFxuICAgICAgLy8gUmV0aXJlciBsJ2VuZmFudCBkdSBncm91cGUgZXQgbGUgcmVtZXR0cmUgZGFucyBsYSBsaXN0ZSBwcmluY2lwYWxlIGFwclx1MDBFOHMgbGUgZ3JvdXBlXG4gICAgICBjb25zdCBbY2hpbGRdID0gZ3JvdXBCbG9jay5jaGlsZHJlbi5zcGxpY2UoY2hpbGRJbmRleCwgMSk7XG4gICAgICBjb25zdCBncm91cEluZGV4ID0gY3VycmVudFBhZ2UuYmxvY2tzLmZpbmRJbmRleCgoYikgPT4gYi5pZCA9PT0gZ3JvdXBJZCk7XG4gICAgICBjdXJyZW50UGFnZS5ibG9ja3Muc3BsaWNlKGdyb3VwSW5kZXggKyAxLCAwLCBjaGlsZCk7XG4gICAgICBcbiAgICAgIHJlbmRlckJsb2NrTGlzdChjdXJyZW50UGFnZSk7XG4gICAgICBzYXZlUGFnZUJsb2NrcygpO1xuICAgICAgc2hvd1RvYXN0KGBCbG9jIHNvcnRpIGR1IGdyb3VwZWApO1xuICAgIH07XG4gICAgXG4gICAgY29uc3QgbW92ZUNoaWxkQmxvY2tCeU9mZnNldCA9IChncm91cElkLCBjaGlsZElkLCBvZmZzZXQpID0+IHtcbiAgICAgIGlmICghY3VycmVudFBhZ2UpIHJldHVybjtcbiAgICAgIGNvbnN0IGdyb3VwQmxvY2sgPSBjdXJyZW50UGFnZS5ibG9ja3MuZmluZCgoYikgPT4gYi5pZCA9PT0gZ3JvdXBJZCk7XG4gICAgICBpZiAoIWdyb3VwQmxvY2sgfHwgIWdyb3VwQmxvY2suY2hpbGRyZW4pIHJldHVybjtcbiAgICAgIFxuICAgICAgY29uc3QgY3VycmVudEluZGV4ID0gZ3JvdXBCbG9jay5jaGlsZHJlbi5maW5kSW5kZXgoKGMpID0+IGMuaWQgPT09IGNoaWxkSWQpO1xuICAgICAgaWYgKGN1cnJlbnRJbmRleCA9PT0gLTEpIHJldHVybjtcbiAgICAgIFxuICAgICAgY29uc3QgbmV3SW5kZXggPSBjdXJyZW50SW5kZXggKyBvZmZzZXQ7XG4gICAgICBpZiAobmV3SW5kZXggPCAwIHx8IG5ld0luZGV4ID49IGdyb3VwQmxvY2suY2hpbGRyZW4ubGVuZ3RoKSByZXR1cm47XG4gICAgICBcbiAgICAgIGNvbnN0IFtjaGlsZF0gPSBncm91cEJsb2NrLmNoaWxkcmVuLnNwbGljZShjdXJyZW50SW5kZXgsIDEpO1xuICAgICAgZ3JvdXBCbG9jay5jaGlsZHJlbi5zcGxpY2UobmV3SW5kZXgsIDAsIGNoaWxkKTtcbiAgICAgIFxuICAgICAgcmVuZGVyQmxvY2tMaXN0KGN1cnJlbnRQYWdlKTtcbiAgICAgIHNhdmVQYWdlQmxvY2tzKCk7XG4gICAgfTtcbiAgICBcbiAgICBjb25zdCBvcGVuQWRkQmxvY2tUb0dyb3VwTW9kYWwgPSAoZ3JvdXBJZCkgPT4ge1xuICAgICAgLy8gVXRpbGlzZXIgbGUgbVx1MDBFQW1lIG1vZGFsIGQnYWpvdXQgZGUgYmxvYywgbWFpcyBhdmVjIGxlIGNvbnRleHRlIGR1IGdyb3VwZVxuICAgICAgcGVuZGluZ0dyb3VwSWRGb3JOZXdCbG9jayA9IGdyb3VwSWQ7XG4gICAgICBvcGVuQmxvY2tQaWNrZXIoKTtcbiAgICB9O1xuICAgIFxuICAgIGxldCBwZW5kaW5nR3JvdXBJZEZvck5ld0Jsb2NrID0gbnVsbDtcblxuICAgIC8vID09PSBEZWxldGUgcGFnZSBoYW5kbGVycyAoZGVmaW5lZCBiZWZvcmUgcmVuZGVyUGFnZUxpc3RzKSA9PT1cbiAgICBjb25zdCBvcGVuRGVsZXRlUGFnZU1vZGFsID0gKHBhZ2UpID0+IHtcbiAgICAgIGlmICghZGVsZXRlUGFnZU1vZGFsIHx8ICFwYWdlKSByZXR1cm47XG4gICAgICBwYWdlVG9EZWxldGUgPSBwYWdlO1xuICAgICAgaWYgKGRlbGV0ZVBhZ2VOYW1lKSBkZWxldGVQYWdlTmFtZS50ZXh0Q29udGVudCA9IHBhZ2UudGl0bGUgfHwgcGFnZS5pZDtcbiAgICAgIGRlbGV0ZVBhZ2VNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGRlbGV0ZVBhZ2VNb2RhbC5jbGFzc0xpc3QuYWRkKCdmbGV4Jyk7XG4gICAgICBhY3RpdmF0ZU1vZGFsKGRlbGV0ZVBhZ2VNb2RhbCwgY2xvc2VEZWxldGVQYWdlTW9kYWwpO1xuICAgIH07XG4gICAgY29uc3QgY2xvc2VEZWxldGVQYWdlTW9kYWwgPSAoKSA9PiB7XG4gICAgICBpZiAoIWRlbGV0ZVBhZ2VNb2RhbCkgcmV0dXJuO1xuICAgICAgZGVsZXRlUGFnZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgZGVsZXRlUGFnZU1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2ZsZXgnKTtcbiAgICAgIHBhZ2VUb0RlbGV0ZSA9IG51bGw7XG4gICAgICBkZWFjdGl2YXRlTW9kYWwoZGVsZXRlUGFnZU1vZGFsKTtcbiAgICB9O1xuICAgIGNvbnN0IGV4ZWN1dGVEZWxldGVQYWdlID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFwYWdlc0FwaUJhc2UgfHwgIXBhZ2VUb0RlbGV0ZSkgcmV0dXJuO1xuICAgICAgY29uc3QgcGFnZUlkID0gcGFnZVRvRGVsZXRlLmlkO1xuICAgICAgY29uc3QgcGFnZVRpdGxlID0gcGFnZVRvRGVsZXRlLnRpdGxlIHx8IHBhZ2VJZDtcbiAgICAgIGlmIChkZWxldGVQYWdlQ29uZmlybSkge1xuICAgICAgICBkZWxldGVQYWdlQ29uZmlybS5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIGRlbGV0ZVBhZ2VDb25maXJtLnRleHRDb250ZW50ID0gJ1N1cHByZXNzaW9uLi4uJztcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7cGFnZXNBcGlCYXNlfS8ke2VuY29kZVVSSUNvbXBvbmVudChwYWdlSWQpfWAsIHtcbiAgICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZScsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzdWx0Lm1lc3NhZ2UgfHwgJ0VycmV1ciBzZXJ2ZXVyJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU3VwcHJpbWVyIGRlIGxhIGxpc3RlIGxvY2FsZVxuICAgICAgICBwYWdlcyA9IHBhZ2VzLmZpbHRlcigocCkgPT4gcC5pZCAhPT0gcGFnZUlkKTtcbiAgICAgICAgLy8gU2kgbGEgcGFnZSBzdXBwcmltXHUwMEU5ZSBcdTAwRTl0YWl0IGFjdGl2ZSwgc1x1MDBFOWxlY3Rpb25uZXIgbGEgcHJlbWlcdTAwRThyZVxuICAgICAgICBpZiAoYWN0aXZlUGFnZUlkID09PSBwYWdlSWQpIHtcbiAgICAgICAgICBpZiAocGFnZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgc2V0QWN0aXZlUGFnZShwYWdlc1swXS5pZCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFjdGl2ZVBhZ2VJZCA9IG51bGw7XG4gICAgICAgICAgICBjdXJyZW50UGFnZSA9IG51bGw7XG4gICAgICAgICAgICByZW5kZXJQYWdlTGlzdHMocGFnZXMsIG51bGwpO1xuICAgICAgICAgICAgcmVuZGVyQmxvY2tMaXN0KG51bGwpO1xuICAgICAgICAgICAgYmxvY2tEZXRhaWxFbXB0eT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgICBibG9ja0VkaXRvcj8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgICAgICBwcmV2aWV3RnJhbWUgJiYgKHByZXZpZXdGcmFtZS5zcmNkb2MgPSBnZXRMb2FkaW5nUHJldmlld0h0bWwoKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlbmRlclBhZ2VMaXN0cyhwYWdlcywgYWN0aXZlUGFnZUlkKTtcbiAgICAgICAgfVxuICAgICAgICBjbG9zZURlbGV0ZVBhZ2VNb2RhbCgpO1xuICAgICAgICBzaG93VG9hc3QoYFBhZ2UgXCIke3BhZ2VUaXRsZX1cIiBzdXBwcmltXHUwMEU5ZWApO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1twYWdlc10gZGVsZXRlIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnRXJyZXVyIHN1cHByZXNzaW9uJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoZGVsZXRlUGFnZUNvbmZpcm0pIHtcbiAgICAgICAgICBkZWxldGVQYWdlQ29uZmlybS5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgIGRlbGV0ZVBhZ2VDb25maXJtLnRleHRDb250ZW50ID0gJ1N1cHByaW1lcic7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgcmVuZGVyUGFnZUxpc3RzID0gKHBhZ2VzLCBhY3RpdmVJZCkgPT4ge1xuICAgICAgcGFnZUxpc3RzLmZvckVhY2goKGxpc3QpID0+IHtcbiAgICAgICAgbGlzdC5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgcGFnZXMuZm9yRWFjaCgocGFnZSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgICAgIGl0ZW0uY2xhc3NOYW1lID0gJ2ZsZXggaXRlbXMtY2VudGVyIGdhcC0xJztcbiAgICAgICAgICBjb25zdCBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgICBidXR0b24udHlwZSA9ICdidXR0b24nO1xuICAgICAgICAgIGJ1dHRvbi5kYXRhc2V0LnBhZ2VJZCA9IHBhZ2UuaWQ7XG4gICAgICAgICAgYnV0dG9uLmNsYXNzTmFtZSA9IFtcbiAgICAgICAgICAgICdmbGV4LTEgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTMgcHgtMyBweS0yIHRleHQtbGVmdCB0cmFuc2l0aW9uJyxcbiAgICAgICAgICAgIGFjdGl2ZUlkID09PSBwYWdlLmlkXG4gICAgICAgICAgICAgID8gJ2JnLVsjOUM2QkZGXS8xMCB0ZXh0LXNsYXRlLTkwMCBib3JkZXIgYm9yZGVyLVsjOUM2QkZGXS80MCByb3VuZGVkLXhsIHNoYWRvdy1zbSdcbiAgICAgICAgICAgICAgOiAndGV4dC1zbGF0ZS03MDAgaG92ZXI6Ymctc2xhdGUtNTAgcm91bmRlZC14bCcsXG4gICAgICAgICAgXS5qb2luKCcgJyk7XG4gICAgICAgICAgaWYgKGFjdGl2ZUlkID09PSBwYWdlLmlkKSB7XG4gICAgICAgICAgICBidXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLWN1cnJlbnQnLCAncGFnZScpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBidXR0b24ucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWN1cnJlbnQnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gVXNlIHBhZ2UubmFtZSAoc2hvcnQgbmFtZSkgaWYgYXZhaWxhYmxlLCBmYWxsYmFjayB0byB0aXRsZVxuICAgICAgICAgIGNvbnN0IGRpc3BsYXlOYW1lID0gcGFnZS5uYW1lIHx8IHBhZ2UudGl0bGU7XG4gICAgICAgICAgY29uc3QgaXNIaWRkZW5Gcm9tTmF2ID0gcGFnZS5hY2Nlc3NpYmlsaXR5Py5zaG93SW5NYWluTmF2ID09PSBmYWxzZTtcbiAgICAgICAgICBjb25zdCBuYXZCYWRnZSA9IGlzSGlkZGVuRnJvbU5hdlxuICAgICAgICAgICAgPyAnPHNwYW4gY2xhc3M9XCJ0ZXh0LVsxMHB4XSBmb250LXNlbWlib2xkIHRleHQtYW1iZXItNjAwXCI+TWFzcXVcdTAwRTkgZHUgbWVudTwvc3Bhbj4nXG4gICAgICAgICAgICA6ICcnO1xuICAgICAgICAgIGJ1dHRvbi5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cImZsZXggaC05IHctOSBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcm91bmRlZC14bCBib3JkZXIgYm9yZGVyLXNsYXRlLTIwMCBiZy13aGl0ZSB0ZXh0LXNsYXRlLTUwMFwiPlxuICAgICAgICAgICAgICA8c3ZnIHdpZHRoPVwiMThcIiBoZWlnaHQ9XCIxOFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPlxuICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNNi41IDQuNWg3bDQgNHYxMWExIDEgMCAwIDEtMSAxaC0xMGExIDEgMCAwIDEtMS0xdi0xNGExIDEgMCAwIDEgMS0xWlwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjEuNFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIvPlxuICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMTMuNSA0LjV2NGExIDEgMCAwIDAgMSAxaDNcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIxLjRcIi8+XG4gICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXNtIGZvbnQtc2VtaWJvbGRcIj4ke2Rpc3BsYXlOYW1lfTwvc3Bhbj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNTAwXCI+JHtwYWdlLnNsdWd9PC9zcGFuPlxuICAgICAgICAgICAgICAke25hdkJhZGdlfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgYDtcbiAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICBzZXRBY3RpdmVQYWdlKHBhZ2UuaWQpO1xuICAgICAgICAgICAgaWYgKCFpc0Rlc2t0b3BEcmF3ZXIoKSkge1xuICAgICAgICAgICAgICBjbG9zZURyYXdlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGl0ZW0uYXBwZW5kQ2hpbGQoYnV0dG9uKTtcbiAgICAgICAgICAvLyBCb3V0b24gZGUgc3VwcHJlc3Npb25cbiAgICAgICAgICBjb25zdCBkZWxldGVCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgICBkZWxldGVCdG4udHlwZSA9ICdidXR0b24nO1xuICAgICAgICAgIGRlbGV0ZUJ0bi5jbGFzc05hbWUgPSAnZmxleC1zaHJpbmstMCBwLTIgdGV4dC1zbGF0ZS00MDAgaG92ZXI6dGV4dC1yb3NlLTYwMCBob3ZlcjpiZy1yb3NlLTUwIHJvdW5kZWQtbGcgdHJhbnNpdGlvbic7XG4gICAgICAgICAgZGVsZXRlQnRuLnRpdGxlID0gJ1N1cHByaW1lciBjZXR0ZSBwYWdlJztcbiAgICAgICAgICBkZWxldGVCdG4uc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgYFN1cHByaW1lciAke2Rpc3BsYXlOYW1lfWApO1xuICAgICAgICAgIGRlbGV0ZUJ0bi5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICA8c3ZnIHdpZHRoPVwiMTZcIiBoZWlnaHQ9XCIxNlwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIj5cbiAgICAgICAgICAgICAgPHBhdGggZD1cIk0zIDZoMThNOCA2VjRhMiAyIDAgMCAxIDItMmg0YTIgMiAwIDAgMSAyIDJ2Mm0zIDB2MTRhMiAyIDAgMCAxLTIgMkg3YTIgMiAwIDAgMS0yLTJWNmgxNFpNMTAgMTF2Nk0xNCAxMXY2XCIvPlxuICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgYDtcbiAgICAgICAgICBkZWxldGVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIG9wZW5EZWxldGVQYWdlTW9kYWwocGFnZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaXRlbS5hcHBlbmRDaGlsZChkZWxldGVCdG4pO1xuICAgICAgICAgIGxpc3QuYXBwZW5kQ2hpbGQoaXRlbSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICBjb25zdCBnZXRBY3RpdmVCbG9jayA9ICgpID0+IHtcbiAgICAgIGlmICghY3VycmVudFBhZ2UgfHwgIUFycmF5LmlzQXJyYXkoY3VycmVudFBhZ2UuYmxvY2tzKSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIC8vIENoZXJjaGVyIGxlIGJsb2MgZGFucyBsYSBsaXN0ZSBwcmluY2lwYWxlIG91IGRhbnMgbGVzIGVuZmFudHMgZGVzIGdyb3VwZXNcbiAgICAgIGxldCBibG9jayA9IGN1cnJlbnRQYWdlLmJsb2Nrcy5maW5kKChibG9jaykgPT4gYmxvY2suaWQgPT09IGFjdGl2ZUJsb2NrSWQpO1xuICAgICAgaWYgKCFibG9jaykge1xuICAgICAgICBmb3IgKGNvbnN0IGIgb2YgY3VycmVudFBhZ2UuYmxvY2tzKSB7XG4gICAgICAgICAgaWYgKGIuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGJsb2NrID0gYi5jaGlsZHJlbi5maW5kKChjaGlsZCkgPT4gY2hpbGQuaWQgPT09IGFjdGl2ZUJsb2NrSWQpO1xuICAgICAgICAgICAgaWYgKGJsb2NrKSBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBibG9jayB8fCBudWxsO1xuICAgIH07XG4gICAgXG4gICAgLy8gVmFyaWFibGUgcG91ciBzdG9ja2VyIGxlIHBhcmVudCBkdSBibG9jIGFjdGlmIChzaSBjJ2VzdCB1biBlbmZhbnQgZGUgZ3JvdXBlKVxuICAgIGxldCBhY3RpdmVCbG9ja1BhcmVudElkID0gbnVsbDtcbiAgICBcbiAgICBjb25zdCBzZXRBY3RpdmVCbG9jayA9IChibG9ja0lkLCBwYXJlbnRJZCA9IG51bGwpID0+IHtcbiAgICAgIGlmICghY3VycmVudFBhZ2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFibG9ja0lkKSB7XG4gICAgICAgIGFjdGl2ZUJsb2NrSWQgPSBudWxsO1xuICAgICAgICBhY3RpdmVCbG9ja1BhcmVudElkID0gbnVsbDtcbiAgICAgICAgcmVuZGVyQmxvY2tMaXN0KGN1cnJlbnRQYWdlKTtcbiAgICAgICAgcmVuZGVyQmxvY2tEZXRhaWxzKG51bGwpO1xuICAgICAgICBhcHBseVByZXZpZXdIaWdobGlnaHQobnVsbCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgbGV0IHRhcmdldEJsb2NrID0gbnVsbDtcbiAgICAgIFxuICAgICAgLy8gQ2hlcmNoZXIgZGFucyBsZXMgYmxvY3MgcHJpbmNpcGF1eFxuICAgICAgdGFyZ2V0QmxvY2sgPSBjdXJyZW50UGFnZS5ibG9ja3MuZmluZCgoYmxvY2spID0+IGJsb2NrLmlkID09PSBibG9ja0lkKTtcbiAgICAgIFxuICAgICAgLy8gU2kgcGFzIHRyb3V2XHUwMEU5IGV0IHF1J29uIGEgdW4gcGFyZW50SWQsIGNoZXJjaGVyIGRhbnMgbGVzIGVuZmFudHMgZHUgcGFyZW50XG4gICAgICBpZiAoIXRhcmdldEJsb2NrICYmIHBhcmVudElkKSB7XG4gICAgICAgIGNvbnN0IHBhcmVudEJsb2NrID0gY3VycmVudFBhZ2UuYmxvY2tzLmZpbmQoKGIpID0+IGIuaWQgPT09IHBhcmVudElkKTtcbiAgICAgICAgaWYgKHBhcmVudEJsb2NrICYmIHBhcmVudEJsb2NrLmNoaWxkcmVuKSB7XG4gICAgICAgICAgdGFyZ2V0QmxvY2sgPSBwYXJlbnRCbG9jay5jaGlsZHJlbi5maW5kKChjaGlsZCkgPT4gY2hpbGQuaWQgPT09IGJsb2NrSWQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFNpbm9uIGNoZXJjaGVyIGRhbnMgdG91cyBsZXMgZ3JvdXBlc1xuICAgICAgaWYgKCF0YXJnZXRCbG9jaykge1xuICAgICAgICBmb3IgKGNvbnN0IGIgb2YgY3VycmVudFBhZ2UuYmxvY2tzKSB7XG4gICAgICAgICAgaWYgKGIuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGNvbnN0IGZvdW5kID0gYi5jaGlsZHJlbi5maW5kKChjaGlsZCkgPT4gY2hpbGQuaWQgPT09IGJsb2NrSWQpO1xuICAgICAgICAgICAgaWYgKGZvdW5kKSB7XG4gICAgICAgICAgICAgIHRhcmdldEJsb2NrID0gZm91bmQ7XG4gICAgICAgICAgICAgIHBhcmVudElkID0gYi5pZDtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEZhbGxiYWNrIHN1ciBsZSBwcmVtaWVyIGJsb2NcbiAgICAgIGlmICghdGFyZ2V0QmxvY2spIHtcbiAgICAgICAgdGFyZ2V0QmxvY2sgPSBjdXJyZW50UGFnZS5ibG9ja3NbMF0gfHwgbnVsbDtcbiAgICAgICAgcGFyZW50SWQgPSBudWxsO1xuICAgICAgfVxuICAgICAgXG4gICAgICBhY3RpdmVCbG9ja0lkID0gdGFyZ2V0QmxvY2s/LmlkIHx8IG51bGw7XG4gICAgICBhY3RpdmVCbG9ja1BhcmVudElkID0gcGFyZW50SWQ7XG4gICAgICByZW5kZXJCbG9ja0xpc3QoY3VycmVudFBhZ2UpO1xuICAgICAgcmVuZGVyQmxvY2tEZXRhaWxzKHRhcmdldEJsb2NrKTtcbiAgICAgIGFwcGx5UHJldmlld0hpZ2hsaWdodChhY3RpdmVCbG9ja0lkKTtcbiAgICB9O1xuICAgIGNvbnN0IHVwZGF0ZUN1cnJlbnRQYWdlQmxvY2tzID0gKG5ld0Jsb2NrcykgPT4ge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBuZXh0UGFnZSA9IHsgLi4uY3VycmVudFBhZ2UsIGJsb2NrczogbmV3QmxvY2tzIH07XG4gICAgICB1cGRhdGVDdXJyZW50UGFnZVN0YXRlKG5leHRQYWdlKTtcbiAgICB9O1xuICAgIGNvbnN0IGlzRGVza3RvcFJlb3JkZXIgPSAoKSA9PiB3aW5kb3cubWF0Y2hNZWRpYSgnKG1pbi13aWR0aDogMTAyNHB4KScpLm1hdGNoZXM7XG4gICAgZnVuY3Rpb24gbW92ZUJsb2NrQnlPZmZzZXQoYmxvY2tJZCwgb2Zmc2V0KSB7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlIHx8ICFibG9ja0lkIHx8ICFvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgYmxvY2tzID0gWy4uLihjdXJyZW50UGFnZS5ibG9ja3MgfHwgW10pXTtcbiAgICAgIGNvbnN0IGluZGV4ID0gYmxvY2tzLmZpbmRJbmRleCgoYmxvY2spID0+IGJsb2NrLmlkID09PSBibG9ja0lkKTtcbiAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgbmV3SW5kZXggPSBpbmRleCArIG9mZnNldDtcbiAgICAgIGlmIChuZXdJbmRleCA8IDAgfHwgbmV3SW5kZXggPj0gYmxvY2tzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBbbW92ZWRdID0gYmxvY2tzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICBibG9ja3Muc3BsaWNlKG5ld0luZGV4LCAwLCBtb3ZlZCk7XG4gICAgICB1cGRhdGVDdXJyZW50UGFnZUJsb2NrcyhibG9ja3MpO1xuICAgICAgc2V0QWN0aXZlUGFnZShjdXJyZW50UGFnZS5pZCwgeyBwcmVzZXJ2ZUJsb2NrOiB0cnVlIH0pO1xuICAgICAgc2V0QWN0aXZlQmxvY2sobW92ZWQuaWQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZW9yZGVyQmxvY2tzKHNvdXJjZUlkLCB0YXJnZXRJZCkge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSB8fCAhc291cmNlSWQgfHwgIXRhcmdldElkIHx8IHNvdXJjZUlkID09PSB0YXJnZXRJZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBibG9ja3MgPSBbLi4uKGN1cnJlbnRQYWdlLmJsb2NrcyB8fCBbXSldO1xuICAgICAgY29uc3QgZnJvbUluZGV4ID0gYmxvY2tzLmZpbmRJbmRleCgoYmxvY2spID0+IGJsb2NrLmlkID09PSBzb3VyY2VJZCk7XG4gICAgICBjb25zdCB0b0luZGV4ID0gYmxvY2tzLmZpbmRJbmRleCgoYmxvY2spID0+IGJsb2NrLmlkID09PSB0YXJnZXRJZCk7XG4gICAgICBpZiAoZnJvbUluZGV4IDwgMCB8fCB0b0luZGV4IDwgMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBbbW92ZWRdID0gYmxvY2tzLnNwbGljZShmcm9tSW5kZXgsIDEpO1xuICAgICAgYmxvY2tzLnNwbGljZSh0b0luZGV4LCAwLCBtb3ZlZCk7XG4gICAgICB1cGRhdGVDdXJyZW50UGFnZUJsb2NrcyhibG9ja3MpO1xuICAgICAgc2V0QWN0aXZlUGFnZShjdXJyZW50UGFnZS5pZCwgeyBwcmVzZXJ2ZUJsb2NrOiB0cnVlIH0pO1xuICAgICAgc2V0QWN0aXZlQmxvY2sobW92ZWQuaWQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZW9yZGVyQmxvY2tzV2l0aFBvc2l0aW9uKHNvdXJjZUlkLCB0YXJnZXRJZCwgcG9zaXRpb24pIHtcbiAgICAgIGlmICghY3VycmVudFBhZ2UgfHwgIXNvdXJjZUlkIHx8ICF0YXJnZXRJZCB8fCBzb3VyY2VJZCA9PT0gdGFyZ2V0SWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgYmxvY2tzID0gWy4uLihjdXJyZW50UGFnZS5ibG9ja3MgfHwgW10pXTtcbiAgICAgIGNvbnN0IGZyb21JbmRleCA9IGJsb2Nrcy5maW5kSW5kZXgoKGJsb2NrKSA9PiBibG9jay5pZCA9PT0gc291cmNlSWQpO1xuICAgICAgbGV0IHRvSW5kZXggPSBibG9ja3MuZmluZEluZGV4KChibG9jaykgPT4gYmxvY2suaWQgPT09IHRhcmdldElkKTtcbiAgICAgIGlmIChmcm9tSW5kZXggPCAwIHx8IHRvSW5kZXggPCAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IFttb3ZlZF0gPSBibG9ja3Muc3BsaWNlKGZyb21JbmRleCwgMSk7XG4gICAgICAvLyBBanVzdGVyIGwnaW5kZXggc2kgblx1MDBFOWNlc3NhaXJlIGFwclx1MDBFOHMgbGEgc3VwcHJlc3Npb25cbiAgICAgIGlmIChmcm9tSW5kZXggPCB0b0luZGV4KSB7XG4gICAgICAgIHRvSW5kZXgtLTtcbiAgICAgIH1cbiAgICAgIC8vIEluc1x1MDBFOXJlciBhdmFudCBvdSBhcHJcdTAwRThzIGxhIGNpYmxlXG4gICAgICBjb25zdCBpbnNlcnRJbmRleCA9IHBvc2l0aW9uID09PSAnYmVmb3JlJyA/IHRvSW5kZXggOiB0b0luZGV4ICsgMTtcbiAgICAgIGJsb2Nrcy5zcGxpY2UoaW5zZXJ0SW5kZXgsIDAsIG1vdmVkKTtcbiAgICAgIHVwZGF0ZUN1cnJlbnRQYWdlQmxvY2tzKGJsb2Nrcyk7XG4gICAgICBzZXRBY3RpdmVQYWdlKGN1cnJlbnRQYWdlLmlkLCB7IHByZXNlcnZlQmxvY2s6IHRydWUgfSk7XG4gICAgICBzZXRBY3RpdmVCbG9jayhtb3ZlZC5pZCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZURyYWdnYWJsZVN0YXRlKCkge1xuICAgICAgaWYgKCFibG9ja0xpc3QpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgZHJhZ2dhYmxlID0gaXNEZXNrdG9wUmVvcmRlcigpO1xuICAgICAgYmxvY2tMaXN0LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWJsb2NrLWl0ZW1dJykuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICBpdGVtLnNldEF0dHJpYnV0ZSgnZHJhZ2dhYmxlJywgZHJhZ2dhYmxlID8gJ3RydWUnIDogJ2ZhbHNlJyk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2xvc2VCbG9ja0xpYnJhcnkoKSB7XG4gICAgICBpZiAoIWJsb2NrTGlicmFyeSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBibG9ja0xpYnJhcnkuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBibG9ja0xpYnJhcnlPcGVuID0gZmFsc2U7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG9wZW5CbG9ja0xpYnJhcnkoKSB7XG4gICAgICBpZiAoIWJsb2NrTGlicmFyeSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBibG9ja0xpYnJhcnkuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBibG9ja0xpYnJhcnlPcGVuID0gdHJ1ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdG9nZ2xlQmxvY2tMaWJyYXJ5KCkge1xuICAgICAgYmxvY2tMaWJyYXJ5T3BlbiA/IGNsb3NlQmxvY2tMaWJyYXJ5KCkgOiBvcGVuQmxvY2tMaWJyYXJ5KCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFkZEJsb2NrRnJvbUxpYnJhcnkodHlwZSkge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSB8fCAhdHlwZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBkZWZpbml0aW9uID0gYmxvY2tMaWJyYXJ5RGVmaW5pdGlvbnNbdHlwZV07XG4gICAgICBpZiAoIWRlZmluaXRpb24pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgY291bnQgPVxuICAgICAgICAoY3VycmVudFBhZ2UuYmxvY2tzIHx8IFtdKS5maWx0ZXIoKGJsb2NrKSA9PiBibG9jay50eXBlID09PSBkZWZpbml0aW9uLnR5cGUpLmxlbmd0aCArIDE7XG4gICAgICBjb25zdCBuZXdCbG9jayA9IGNyZWF0ZUJsb2NrKFxuICAgICAgICBnZW5lcmF0ZUJsb2NrSWQoY3VycmVudFBhZ2UuaWQsIHR5cGUpLFxuICAgICAgICBgJHtkZWZpbml0aW9uLmxhYmVsfSAke2NvdW50fWAsXG4gICAgICAgIGRlZmluaXRpb24udHlwZSxcbiAgICAgICAgZGVmaW5pdGlvbi5zdGF0dXMsXG4gICAgICAgIGRlZmluaXRpb24uZGVzY3JpcHRpb24sXG4gICAgICAgIGRlZmluaXRpb24ucHJvcHMsXG4gICAgICAgIGRlZmluaXRpb24uc2V0dGluZ3MgfHwge30sXG4gICAgICApO1xuICAgICAgaWYgKChkZWZpbml0aW9uLnR5cGUgfHwgJycpLnRvTG93ZXJDYXNlKCkgPT09ICdjb2xsZWN0aW9uZ3JpZCcpIHtcbiAgICAgICAgY29uc3QgZmlyc3RDb2xsZWN0aW9uSWQgPSBkZXNpZ25Db2xsZWN0aW9uc1swXT8uaWQgfHwgJyc7XG4gICAgICAgIG5ld0Jsb2NrLmNvbGxlY3Rpb25JZCA9IGZpcnN0Q29sbGVjdGlvbklkO1xuICAgICAgICBuZXdCbG9jay5zZXR0aW5ncy5jb2xsZWN0aW9uSWQgPSBmaXJzdENvbGxlY3Rpb25JZDtcbiAgICAgICAgbmV3QmxvY2suc2V0dGluZ3MubGltaXQgPSBuZXdCbG9jay5zZXR0aW5ncy5saW1pdCB8fCA2O1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBTaSBvbiBham91dGUgXHUwMEUwIHVuIGdyb3VwZVxuICAgICAgaWYgKHBlbmRpbmdHcm91cElkRm9yTmV3QmxvY2spIHtcbiAgICAgICAgY29uc3QgZ3JvdXBCbG9jayA9IGN1cnJlbnRQYWdlLmJsb2Nrcy5maW5kKChiKSA9PiBiLmlkID09PSBwZW5kaW5nR3JvdXBJZEZvck5ld0Jsb2NrKTtcbiAgICAgICAgaWYgKGdyb3VwQmxvY2spIHtcbiAgICAgICAgICBpZiAoIWdyb3VwQmxvY2suY2hpbGRyZW4pIGdyb3VwQmxvY2suY2hpbGRyZW4gPSBbXTtcbiAgICAgICAgICBncm91cEJsb2NrLmNoaWxkcmVuLnB1c2gobmV3QmxvY2spO1xuICAgICAgICAgIHBlbmRpbmdHcm91cElkRm9yTmV3QmxvY2sgPSBudWxsO1xuICAgICAgICAgIHJlbmRlckJsb2NrTGlzdChjdXJyZW50UGFnZSk7XG4gICAgICAgICAgc2F2ZVBhZ2VCbG9ja3MoKTtcbiAgICAgICAgICBzZXRBY3RpdmVCbG9jayhuZXdCbG9jay5pZCwgZ3JvdXBCbG9jay5pZCk7XG4gICAgICAgICAgY2xvc2VCbG9ja0xpYnJhcnkoKTtcbiAgICAgICAgICBzaG93VG9hc3QoJ0Jsb2MgYWpvdXRcdTAwRTkgYXUgZ3JvdXBlJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHBlbmRpbmdHcm91cElkRm9yTmV3QmxvY2sgPSBudWxsO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCBuZXh0QmxvY2tzID0gWy4uLihjdXJyZW50UGFnZS5ibG9ja3MgfHwgW10pLCBuZXdCbG9ja107XG4gICAgICB1cGRhdGVDdXJyZW50UGFnZUJsb2NrcyhuZXh0QmxvY2tzKTtcbiAgICAgIHNldEFjdGl2ZVBhZ2UoY3VycmVudFBhZ2UuaWQsIHsgcHJlc2VydmVCbG9jazogdHJ1ZSB9KTtcbiAgICAgIHNldEFjdGl2ZUJsb2NrKG5ld0Jsb2NrLmlkKTtcbiAgICAgIGNsb3NlQmxvY2tMaWJyYXJ5KCk7XG4gICAgICBzaG93VG9hc3QoJ0Jsb2MgYWpvdXRcdTAwRTknKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGVsZXRlQmxvY2tCeUlkKGJsb2NrSWQpIHtcbiAgICAgIGlmICghY3VycmVudFBhZ2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgYmxvY2tzID0gKGN1cnJlbnRQYWdlLmJsb2NrcyB8fCBbXSkuZmlsdGVyKChibG9jaykgPT4gYmxvY2suaWQgIT09IGJsb2NrSWQpO1xuICAgICAgY29uc3QgbmV4dEFjdGl2ZSA9XG4gICAgICAgIGJsb2NrSWQgPT09IGFjdGl2ZUJsb2NrSWQgPyBibG9ja3NbMF0/LmlkIHx8IG51bGwgOiBhY3RpdmVCbG9ja0lkIHx8IGJsb2Nrc1swXT8uaWQgfHwgbnVsbDtcbiAgICAgIHVwZGF0ZUN1cnJlbnRQYWdlQmxvY2tzKGJsb2Nrcyk7XG4gICAgICBhY3RpdmVCbG9ja0lkID0gbmV4dEFjdGl2ZTtcbiAgICAgIHNldEFjdGl2ZVBhZ2UoY3VycmVudFBhZ2UuaWQsIHsgcHJlc2VydmVCbG9jazogdHJ1ZSB9KTtcbiAgICAgIGlmIChhY3RpdmVCbG9ja0lkKSB7XG4gICAgICAgIHNldEFjdGl2ZUJsb2NrKGFjdGl2ZUJsb2NrSWQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVuZGVyQmxvY2tEZXRhaWxzKG51bGwpO1xuICAgICAgICBhcHBseVByZXZpZXdIaWdobGlnaHQobnVsbCk7XG4gICAgICB9XG4gICAgICBzaG93VG9hc3QoJ0Jsb2Mgc3VwcHJpbVx1MDBFOScpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjbG9zZUJsb2NrRGVsZXRlTW9kYWwoKSB7XG4gICAgICBpZiAoIWJsb2NrRGVsZXRlTW9kYWwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYmxvY2tEZWxldGVNb2RhbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGJsb2NrRGVsZXRlTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnZmxleCcpO1xuICAgICAgcGVuZGluZ0RlbGV0ZUJsb2NrSWQgPSBudWxsO1xuICAgICAgZGVhY3RpdmF0ZU1vZGFsKGJsb2NrRGVsZXRlTW9kYWwpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBvcGVuQmxvY2tEZWxldGVNb2RhbChibG9ja0lkKSB7XG4gICAgICBpZiAoIWJsb2NrRGVsZXRlTW9kYWwpIHtcbiAgICAgICAgZGVsZXRlQmxvY2tCeUlkKGJsb2NrSWQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwZW5kaW5nRGVsZXRlQmxvY2tJZCA9IGJsb2NrSWQ7XG4gICAgICBibG9ja0RlbGV0ZU1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgYmxvY2tEZWxldGVNb2RhbC5jbGFzc0xpc3QuYWRkKCdmbGV4Jyk7XG4gICAgICBhY3RpdmF0ZU1vZGFsKGJsb2NrRGVsZXRlTW9kYWwsIGNsb3NlQmxvY2tEZWxldGVNb2RhbCk7XG4gICAgfVxuICAgIGNvbnN0IHVwZGF0ZUN1cnJlbnRQYWdlU3RhdGUgPSAobmV4dFBhZ2UpID0+IHtcbiAgICAgIGlmICghbmV4dFBhZ2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZVBhZ2VEYXRhKG5leHRQYWdlKTtcbiAgICAgIHBhZ2VzID0gcGFnZXMubWFwKChwYWdlKSA9PiAocGFnZS5pZCA9PT0gbm9ybWFsaXplZC5pZCA/IG5vcm1hbGl6ZWQgOiBwYWdlKSk7XG4gICAgICBjdXJyZW50UGFnZSA9IG5vcm1hbGl6ZWQ7XG4gICAgICBzYXZlUGFnZVRvU2VydmVyKG5vcm1hbGl6ZWQpO1xuICAgIH07XG4gICAgY29uc3Qgc2V0QWN0aXZlUGFnZSA9IChwYWdlSWQsIG9wdGlvbnMgPSB7fSkgPT4ge1xuICAgICAgY29uc3QgdGFyZ2V0ID0gcGFnZXMuZmluZCgocGFnZSkgPT4gcGFnZS5pZCA9PT0gcGFnZUlkKSB8fCBwYWdlc1swXSB8fCBudWxsO1xuICAgICAgY29uc3Qgbm9ybWFsaXplZFRhcmdldCA9IHRhcmdldCA/IG5vcm1hbGl6ZVBhZ2VEYXRhKHRhcmdldCkgOiBudWxsO1xuICAgICAgY3VycmVudFBhZ2UgPSBub3JtYWxpemVkVGFyZ2V0O1xuICAgICAgYWN0aXZlUGFnZUlkID0gdGFyZ2V0Py5pZCB8fCBudWxsO1xuICAgICAgaWYgKCFvcHRpb25zLnByZXNlcnZlQmxvY2sgfHwgIWN1cnJlbnRQYWdlIHx8ICFjdXJyZW50UGFnZS5ibG9ja3Muc29tZSgoYmxvY2spID0+IGJsb2NrLmlkID09PSBhY3RpdmVCbG9ja0lkKSkge1xuICAgICAgICBhY3RpdmVCbG9ja0lkID0gY3VycmVudFBhZ2U/LmJsb2Nrcz8uWzBdPy5pZCB8fCBudWxsO1xuICAgICAgfVxuICAgICAgaWYgKGFjdGl2ZVBhZ2VJZCkge1xuICAgICAgICBwZXJzaXN0QWN0aXZlUGFnZShhY3RpdmVQYWdlSWQpO1xuICAgICAgfVxuICAgICAgcmVuZGVyUGFnZUxpc3RzKHBhZ2VzLCBhY3RpdmVQYWdlSWQpO1xuICAgICAgc2V0QWN0aXZlTGFiZWxzKGN1cnJlbnRQYWdlKTtcbiAgICAgIHN5bmNQYWdlQWNjZXNzaWJpbGl0eUZpZWxkcygpO1xuICAgICAgcmVuZGVyUHJldmlld01ldGEoY3VycmVudFBhZ2UpO1xuICAgICAgcmVmcmVzaFByZXZpZXcoY3VycmVudFBhZ2UpO1xuICAgICAgcmVuZGVyQmxvY2tMaXN0KGN1cnJlbnRQYWdlKTtcbiAgICAgIHJlbmRlckJsb2NrRGV0YWlscyhnZXRBY3RpdmVCbG9jaygpKTtcbiAgICAgIGFwcGx5UHJldmlld0hpZ2hsaWdodChhY3RpdmVCbG9ja0lkKTtcbiAgICAgIHVwZGF0ZURyYWdnYWJsZVN0YXRlKCk7XG4gICAgICBpZiAoYmxvY2tMaWJyYXJ5T3Blbikge1xuICAgICAgICBjbG9zZUJsb2NrTGlicmFyeSgpO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgaXNEZXNrdG9wRHJhd2VyID0gKCkgPT4gd2luZG93Lm1hdGNoTWVkaWEoJyhtaW4td2lkdGg6IDEwMjRweCknKS5tYXRjaGVzO1xuICAgIGNvbnN0IHN5bmNEcmF3ZXJTdGF0ZSA9ICgpID0+IHtcbiAgICAgIGlmICghZHJhd2VyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChpc0Rlc2t0b3BEcmF3ZXIoKSkge1xuICAgICAgICBkcmF3ZXIuY2xhc3NMaXN0LmFkZCgnaXMtb3BlbicpO1xuICAgICAgICBkcmF3ZXJCYWNrZHJvcD8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnb3ZlcmZsb3ctaGlkZGVuJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkcmF3ZXIuY2xhc3NMaXN0LnJlbW92ZSgnaXMtb3BlbicpO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3Qgb3BlbkRyYXdlciA9ICgpID0+IHtcbiAgICAgIGlmICghZHJhd2VyIHx8IGlzRGVza3RvcERyYXdlcigpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGRyYXdlci5jbGFzc0xpc3QuYWRkKCdpcy1vcGVuJyk7XG4gICAgICBkcmF3ZXJCYWNrZHJvcD8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ292ZXJmbG93LWhpZGRlbicpO1xuICAgIH07XG4gICAgY29uc3QgY2xvc2VEcmF3ZXIgPSAoKSA9PiB7XG4gICAgICBpZiAoIWRyYXdlcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBkcmF3ZXIuY2xhc3NMaXN0LnJlbW92ZSgnaXMtb3BlbicpO1xuICAgICAgZHJhd2VyQmFja2Ryb3A/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICB9O1xuICAgIGNvbnN0IG9wZW5BZGRQYWdlRm9ybSA9ICgpID0+IHtcbiAgICAgIGlmICghYWRkUGFnZUZvcm0gfHwgIWFkZFBhZ2VUb2dnbGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYWRkUGFnZUZvcm0uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBhZGRQYWdlVG9nZ2xlLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgYWRkUGFnZUVycm9yICYmIChhZGRQYWdlRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgICBwYWdlU2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gICAgICBpZiAoYWRkUGFnZU5hbWUpIHtcbiAgICAgICAgYWRkUGFnZU5hbWUudmFsdWUgPSAnJztcbiAgICAgICAgYWRkUGFnZU5hbWUuZm9jdXMoKTtcbiAgICAgIH1cbiAgICAgIGlmIChhZGRQYWdlVGl0bGUpIHtcbiAgICAgICAgYWRkUGFnZVRpdGxlLnZhbHVlID0gJyc7XG4gICAgICB9XG4gICAgICBpZiAoYWRkUGFnZVNsdWcpIHtcbiAgICAgICAgYWRkUGFnZVNsdWcudmFsdWUgPSAnJztcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGNsb3NlQWRkUGFnZUZvcm0gPSAoKSA9PiB7XG4gICAgICBpZiAoIWFkZFBhZ2VGb3JtIHx8ICFhZGRQYWdlVG9nZ2xlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGFkZFBhZ2VGb3JtLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgYWRkUGFnZVRvZ2dsZS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGFkZFBhZ2VFcnJvciAmJiAoYWRkUGFnZUVycm9yLnRleHRDb250ZW50ID0gJycpO1xuICAgICAgcGFnZVNsdWdNYW51YWxseUVkaXRlZCA9IGZhbHNlO1xuICAgICAgYWRkUGFnZUZvcm0ucmVzZXQoKTtcbiAgICB9O1xuICAgIGNvbnN0IHN5bmNTbHVnRnJvbU5hbWUgPSAoKSA9PiB7XG4gICAgICBpZiAoIWFkZFBhZ2VOYW1lIHx8ICFhZGRQYWdlU2x1Zykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAocGFnZVNsdWdNYW51YWxseUVkaXRlZCAmJiBhZGRQYWdlU2x1Zy52YWx1ZS50cmltKCkubGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhZGRQYWdlU2x1Zy52YWx1ZSA9IG5vcm1hbGl6ZVBhZ2VTbHVnKGFkZFBhZ2VOYW1lLnZhbHVlKTtcbiAgICB9O1xuXG4gICAgbGV0IHBhZ2VzID0gW107XG4gICAgbGV0IGFjdGl2ZVBhZ2VJZCA9IG51bGw7XG4gICAgbGV0IHBhZ2VTbHVnTWFudWFsbHlFZGl0ZWQgPSBmYWxzZTtcbiAgICBsZXQgY3VycmVudFBhZ2UgPSBudWxsO1xuICAgIGxldCBhY3RpdmVCbG9ja0lkID0gbnVsbDtcbiAgICBsZXQgYmxvY2tMaWJyYXJ5T3BlbiA9IGZhbHNlO1xuICAgIGxldCBwZW5kaW5nRGVsZXRlQmxvY2tJZCA9IG51bGw7XG4gICAgbGV0IGxhdGVzdFByZXZpZXdIdG1sID0gJyc7XG4gICAgbGV0IHByZXZpZXdSZWFkeSA9IGZhbHNlO1xuICAgIGxldCBwcmV2aWV3UmVxdWVzdENvbnRyb2xsZXIgPSBudWxsO1xuICAgIGxldCBkZXNpZ25Db2xsZWN0aW9ucyA9IFtdO1xuXG4gICAgY29uc3Qgbm9ybWFsaXplQmxvY2tEYXRhID0gKGJsb2NrKSA9PiB7XG4gICAgICBjb25zdCBub3JtYWxpemVkID0ge1xuICAgICAgICAuLi5ibG9jayxcbiAgICAgICAgcHJvcHM6IEFycmF5LmlzQXJyYXkoYmxvY2sucHJvcHMpID8gYmxvY2sucHJvcHMgOiBbXSxcbiAgICAgICAgc2V0dGluZ3M6IHsgLi4uKGJsb2NrLnNldHRpbmdzIHx8IHt9KSB9LFxuICAgICAgfTtcbiAgICAgIGNvbnN0IHR5cGUgPSAobm9ybWFsaXplZC50eXBlIHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgaWYgKHR5cGUgPT09ICdjb2xsZWN0aW9uZ3JpZCcpIHtcbiAgICAgICAgbm9ybWFsaXplZC5jb2xsZWN0aW9uSWQgPVxuICAgICAgICAgIG5vcm1hbGl6ZWQuY29sbGVjdGlvbklkIHx8IG5vcm1hbGl6ZWQuc2V0dGluZ3MuY29sbGVjdGlvbklkIHx8ICcnO1xuICAgICAgICBub3JtYWxpemVkLnNldHRpbmdzLmNvbGxlY3Rpb25JZCA9IG5vcm1hbGl6ZWQuY29sbGVjdGlvbklkO1xuICAgICAgICBub3JtYWxpemVkLnNldHRpbmdzLmxpbWl0ID0gbm9ybWFsaXplZC5zZXR0aW5ncy5saW1pdCB8fCA2O1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5vcm1hbGl6ZWQ7XG4gICAgfTtcblxuICAgIGNvbnN0IG5vcm1hbGl6ZVBhZ2VEYXRhID0gKHBhZ2UpID0+ICh7XG4gICAgICAuLi5wYWdlLFxuICAgICAgYmxvY2tzOiAocGFnZS5ibG9ja3MgfHwgW10pLm1hcCgoYmxvY2spID0+IG5vcm1hbGl6ZUJsb2NrRGF0YShibG9jaykpLFxuICAgICAgc2VvOiB7XG4gICAgICAgIHRpdGxlOiAocGFnZS5zZW8/LnRpdGxlIHx8ICcnKS50cmltKCksXG4gICAgICAgIGRlc2NyaXB0aW9uOiAocGFnZS5zZW8/LmRlc2NyaXB0aW9uIHx8ICcnKS50cmltKCksXG4gICAgICAgIGluZGV4ZWQ6XG4gICAgICAgICAgdHlwZW9mIHBhZ2Uuc2VvPy5pbmRleGVkID09PSAnYm9vbGVhbicgPyBwYWdlLnNlby5pbmRleGVkIDogbnVsbCxcbiAgICAgIH0sXG4gICAgICBhY2Nlc3NpYmlsaXR5OiB7XG4gICAgICAgIHNob3dJbk1haW5OYXY6IHBhZ2UuYWNjZXNzaWJpbGl0eT8uc2hvd0luTWFpbk5hdiAhPT0gZmFsc2UsXG4gICAgICAgIG1haW5MYWJlbDogKHBhZ2UuYWNjZXNzaWJpbGl0eT8ubWFpbkxhYmVsIHx8ICcnKS50cmltKCksXG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgY29uc3QgbG9hZERlc2lnbkNvbGxlY3Rpb25zID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uc0FwaUJhc2UpIHtcbiAgICAgICAgZGVzaWduQ29sbGVjdGlvbnMgPSBbXTtcbiAgICAgICAgdXBkYXRlQ29sbGVjdGlvblNlbGVjdE9wdGlvbnMoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChjb2xsZWN0aW9uc0FwaUJhc2UsIHtcbiAgICAgICAgICBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIGNvbGxlY3Rpb25zLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gW10pO1xuICAgICAgICBkZXNpZ25Db2xsZWN0aW9ucyA9IEFycmF5LmlzQXJyYXkocGF5bG9hZCkgPyBwYXlsb2FkIDogW107XG4gICAgICAgIGNvbnN0IGN1cnJlbnRWYWx1ZSA9IGNvbGxlY3Rpb25TZWxlY3Q/LnZhbHVlIHx8ICcnO1xuICAgICAgICB1cGRhdGVDb2xsZWN0aW9uU2VsZWN0T3B0aW9ucyhjdXJyZW50VmFsdWUpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkZXNpZ25dIGNvbGxlY3Rpb25zIGxvYWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoJ0NvbGxlY3Rpb25zIGluZGlzcG9uaWJsZXMuJyk7XG4gICAgICAgIGRlc2lnbkNvbGxlY3Rpb25zID0gW107XG4gICAgICAgIHVwZGF0ZUNvbGxlY3Rpb25TZWxlY3RPcHRpb25zKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHN5bmNDb2xsZWN0aW9uU2VsZWN0aW9uSW5mbyA9IChjb2xsZWN0aW9uSWQpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvblNlbGVjdGlvbkluZm8pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFjb2xsZWN0aW9uSWQpIHtcbiAgICAgICAgY29sbGVjdGlvblNlbGVjdGlvbkluZm8udGV4dENvbnRlbnQgPSBkZXNpZ25Db2xsZWN0aW9ucy5sZW5ndGhcbiAgICAgICAgICA/ICdTXHUwMEU5bGVjdGlvbm5leiB1bmUgY29sbGVjdGlvbiBwb3VyIGFmZmljaGVyIHNlcyBpbmZvcm1hdGlvbnMuJ1xuICAgICAgICAgIDogJ0F1Y3VuZSBjb2xsZWN0aW9uIGRpc3BvbmlibGUuIEFqb3V0ZXotZW4gZGVwdWlzIGxcdTIwMTlvbmdsZXQgQ29udGVudXMuJztcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgZW50cnkgPSBkZXNpZ25Db2xsZWN0aW9ucy5maW5kKChjb2xsZWN0aW9uKSA9PiBjb2xsZWN0aW9uLmlkID09PSBjb2xsZWN0aW9uSWQpO1xuICAgICAgaWYgKCFlbnRyeSkge1xuICAgICAgICBjb2xsZWN0aW9uU2VsZWN0aW9uSW5mby50ZXh0Q29udGVudCA9IGBDb2xsZWN0aW9uICR7Y29sbGVjdGlvbklkfWA7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRldGFpbHMgPSBbXTtcbiAgICAgIGlmIChlbnRyeS5kZXNjcmlwdGlvbikge1xuICAgICAgICBkZXRhaWxzLnB1c2goZW50cnkuZGVzY3JpcHRpb24pO1xuICAgICAgfVxuICAgICAgaWYgKGVudHJ5LnR5cGUpIHtcbiAgICAgICAgZGV0YWlscy5wdXNoKGBUeXBlXHUwMEEwOiAke2VudHJ5LnR5cGV9YCk7XG4gICAgICB9XG4gICAgICBjb2xsZWN0aW9uU2VsZWN0aW9uSW5mby50ZXh0Q29udGVudCA9XG4gICAgICAgIGRldGFpbHMuam9pbignIFx1MDBCNyAnKSB8fCBgQ29sbGVjdGlvbiAke2VudHJ5Lm5hbWUgfHwgZW50cnkuaWR9YDtcbiAgICB9O1xuXG4gICAgY29uc3QgdXBkYXRlQ29sbGVjdGlvblNlbGVjdE9wdGlvbnMgPSAoc2VsZWN0ZWRWYWx1ZSA9ICcnKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25TZWxlY3QpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29sbGVjdGlvblNlbGVjdC5pbm5lckhUTUwgPSAnJztcbiAgICAgIGlmICghZGVzaWduQ29sbGVjdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgIGNvbGxlY3Rpb25TZWxlY3QuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgICAgb3B0aW9uLnZhbHVlID0gJyc7XG4gICAgICAgIG9wdGlvbi50ZXh0Q29udGVudCA9ICdBdWN1bmUgY29sbGVjdGlvbiBkaXNwb25pYmxlJztcbiAgICAgICAgY29sbGVjdGlvblNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb24pO1xuICAgICAgICBzeW5jQ29sbGVjdGlvblNlbGVjdGlvbkluZm8oJycpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb2xsZWN0aW9uU2VsZWN0LmRpc2FibGVkID0gZmFsc2U7XG4gICAgICBpZiAoc2VsZWN0ZWRWYWx1ZSAmJiAhZGVzaWduQ29sbGVjdGlvbnMuc29tZSgoZW50cnkpID0+IGVudHJ5LmlkID09PSBzZWxlY3RlZFZhbHVlKSkge1xuICAgICAgICBjb25zdCBmYWxsYmFja09wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICBmYWxsYmFja09wdGlvbi52YWx1ZSA9IHNlbGVjdGVkVmFsdWU7XG4gICAgICAgIGZhbGxiYWNrT3B0aW9uLnRleHRDb250ZW50ID0gc2VsZWN0ZWRWYWx1ZTtcbiAgICAgICAgY29sbGVjdGlvblNlbGVjdC5hcHBlbmRDaGlsZChmYWxsYmFja09wdGlvbik7XG4gICAgICB9XG4gICAgICBkZXNpZ25Db2xsZWN0aW9ucy5mb3JFYWNoKChjb2xsZWN0aW9uKSA9PiB7XG4gICAgICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICBvcHRpb24udmFsdWUgPSBjb2xsZWN0aW9uLmlkO1xuICAgICAgICBjb25zdCBsYWJlbCA9IGNvbGxlY3Rpb24ubmFtZSB8fCBjb2xsZWN0aW9uLmlkO1xuICAgICAgICBvcHRpb24udGV4dENvbnRlbnQgPSBjb2xsZWN0aW9uLnR5cGUgPyBgJHtsYWJlbH0gXHUwMEI3ICR7Y29sbGVjdGlvbi50eXBlfWAgOiBsYWJlbDtcbiAgICAgICAgb3B0aW9uLmRhdGFzZXQuZGVzY3JpcHRpb24gPSBjb2xsZWN0aW9uLmRlc2NyaXB0aW9uIHx8ICcnO1xuICAgICAgICBjb2xsZWN0aW9uU2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbik7XG4gICAgICB9KTtcbiAgICAgIGlmIChzZWxlY3RlZFZhbHVlKSB7XG4gICAgICAgIGNvbGxlY3Rpb25TZWxlY3QudmFsdWUgPSBzZWxlY3RlZFZhbHVlO1xuICAgICAgfVxuICAgICAgc3luY0NvbGxlY3Rpb25TZWxlY3Rpb25JbmZvKGNvbGxlY3Rpb25TZWxlY3QudmFsdWUgfHwgJycpO1xuICAgIH07XG5cbiAgICBsb2FkRGVzaWduQ29sbGVjdGlvbnMoKTtcbiAgICBzeW5jRHJhd2VyU3RhdGUoKTtcblxuICAgIGRyYXdlck9wZW5CdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlbkRyYXdlcik7XG4gICAgfSk7XG4gICAgZHJhd2VyQ2xvc2VCdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VEcmF3ZXIpO1xuICAgIH0pO1xuICAgIGRyYXdlckJhY2tkcm9wPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlRHJhd2VyKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgKCkgPT4ge1xuICAgICAgc3luY0RyYXdlclN0YXRlKCk7XG4gICAgICB1cGRhdGVEcmFnZ2FibGVTdGF0ZSgpO1xuICAgIH0pO1xuXG4gICAgYWRkUGFnZVRvZ2dsZT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuQWRkUGFnZUZvcm0pO1xuICAgIGFkZFBhZ2VDYW5jZWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VBZGRQYWdlRm9ybSk7XG4gICAgYWRkUGFnZU5hbWU/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0Jywgc3luY1NsdWdGcm9tTmFtZSk7XG4gICAgYWRkUGFnZVNsdWc/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgYWRkUGFnZUVycm9yICYmIChhZGRQYWdlRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgICBwYWdlU2x1Z01hbnVhbGx5RWRpdGVkID0gdHJ1ZTtcbiAgICB9KTtcbiAgICBhZGRQYWdlRm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKCFwYWdlc0FwaUJhc2UpIHtcbiAgICAgICAgYWRkUGFnZUVycm9yICYmIChhZGRQYWdlRXJyb3IudGV4dENvbnRlbnQgPSAnQXVjdW4gc2l0ZSBzXHUwMEU5bGVjdGlvbm5cdTAwRTkuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghYWRkUGFnZU5hbWUgfHwgIWFkZFBhZ2VTbHVnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG5hbWUgPSBhZGRQYWdlTmFtZS52YWx1ZS50cmltKCk7XG4gICAgICBjb25zdCB0aXRsZSA9IGFkZFBhZ2VUaXRsZT8udmFsdWUudHJpbSgpIHx8IG5hbWU7IC8vIEZhbGxiYWNrIHRvIG5hbWUgaWYgdGl0bGUgaXMgZW1wdHlcbiAgICAgIGNvbnN0IHNsdWcgPSBub3JtYWxpemVQYWdlU2x1ZyhhZGRQYWdlU2x1Zy52YWx1ZS50cmltKCkgfHwgbmFtZSk7XG4gICAgICBpZiAoIW5hbWUgfHwgIXNsdWcpIHtcbiAgICAgICAgYWRkUGFnZUVycm9yICYmIChhZGRQYWdlRXJyb3IudGV4dENvbnRlbnQgPSAnTm9tIGV0IHNsdWcgc29udCByZXF1aXMuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGFkZFBhZ2VFcnJvciAmJiAoYWRkUGFnZUVycm9yLnRleHRDb250ZW50ID0gJycpO1xuICAgICAgaWYgKGFkZFBhZ2VTdWJtaXRCdXR0b24pIHtcbiAgICAgICAgYWRkUGFnZVN1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIGFkZFBhZ2VTdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSAnQ3JcdTAwRTlhdGlvbi4uLic7XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBjcmVhdGVkUGFnZSA9IGF3YWl0IGNyZWF0ZVBhZ2VPblNlcnZlcih7IG5hbWUsIHRpdGxlLCBzbHVnIH0pO1xuICAgICAgICBpZiAoIWNyZWF0ZWRQYWdlIHx8ICFjcmVhdGVkUGFnZS5pZCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUlx1MDBFOXBvbnNlIGludmFsaWRlLicpO1xuICAgICAgICB9XG4gICAgICAgIHBhZ2VzID0gWy4uLnBhZ2VzLCBub3JtYWxpemVQYWdlRGF0YShjcmVhdGVkUGFnZSldO1xuICAgICAgICBjbG9zZUFkZFBhZ2VGb3JtKCk7XG4gICAgICAgIHNob3dUb2FzdCgnUGFnZSBjclx1MDBFOVx1MDBFOWUnKTtcbiAgICAgICAgc2V0QWN0aXZlUGFnZShjcmVhdGVkUGFnZS5pZCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2Rlc2lnbl0gY3JlYXRlIHBhZ2UgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgYWRkUGFnZUVycm9yICYmIChhZGRQYWdlRXJyb3IudGV4dENvbnRlbnQgPSBlcnIubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBjclx1MDBFOWVyIGxhIHBhZ2UuJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoYWRkUGFnZVN1Ym1pdEJ1dHRvbikge1xuICAgICAgICAgIGFkZFBhZ2VTdWJtaXRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICBhZGRQYWdlU3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gJ0NyXHUwMEU5ZXInO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyA9PT0gSW1wb3J0IEpTT04gaGFuZGxlcnMgPT09XG4gICAgY29uc3QgcmVzZXRQYXN0ZVN0YXRlID0gKCkgPT4ge1xuICAgICAgaWYgKGltcG9ydFBhc3RlSW5wdXQpIGltcG9ydFBhc3RlSW5wdXQudmFsdWUgPSAnJztcbiAgICAgIGlmIChwYXN0ZUVycm9yKSB7XG4gICAgICAgIHBhc3RlRXJyb3IuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIHBhc3RlRXJyb3IudGV4dENvbnRlbnQgPSAnJztcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgdmFsaWRhdGVQYXN0ZUpzb24gPSAoKSA9PiB7XG4gICAgICBpZiAoIWltcG9ydFBhc3RlSW5wdXQpIHJldHVybiBudWxsO1xuICAgICAgY29uc3QgdGV4dCA9IGltcG9ydFBhc3RlSW5wdXQudmFsdWUudHJpbSgpO1xuICAgICAgaWYgKCF0ZXh0KSB7XG4gICAgICAgIGlmIChwYXN0ZUVycm9yKSBwYXN0ZUVycm9yLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZCA9IEpTT04ucGFyc2UodGV4dCk7XG4gICAgICAgIGlmIChwYXN0ZUVycm9yKSBwYXN0ZUVycm9yLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICByZXR1cm4gcGFyc2VkO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGlmIChwYXN0ZUVycm9yKSB7XG4gICAgICAgICAgcGFzdGVFcnJvci5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICBwYXN0ZUVycm9yLnRleHRDb250ZW50ID0gYFx1Mjc0QyBKU09OIGludmFsaWRlIDogJHtlcnIubWVzc2FnZX1gO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBmb3JtYXRQYXN0ZUpzb24gPSAoKSA9PiB7XG4gICAgICBpZiAoIWltcG9ydFBhc3RlSW5wdXQpIHJldHVybjtcbiAgICAgIGNvbnN0IHRleHQgPSBpbXBvcnRQYXN0ZUlucHV0LnZhbHVlLnRyaW0oKTtcbiAgICAgIGlmICghdGV4dCkgcmV0dXJuO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcGFyc2VkID0gSlNPTi5wYXJzZSh0ZXh0KTtcbiAgICAgICAgaW1wb3J0UGFzdGVJbnB1dC52YWx1ZSA9IEpTT04uc3RyaW5naWZ5KHBhcnNlZCwgbnVsbCwgMik7XG4gICAgICAgIHZhbGlkYXRlUGFzdGVKc29uKCk7XG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgLy8gU2kgcGFzIHZhbGlkZSwgb24gbmUgZm9ybWF0ZSBwYXNcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgdXBkYXRlSW1wb3J0U3VibWl0U3RhdGUgPSAoKSA9PiB7XG4gICAgICBpZiAoIWltcG9ydFN1Ym1pdCkgcmV0dXJuO1xuICAgICAgaWYgKGFjdGl2ZUltcG9ydFRhYiA9PT0gJ3VwbG9hZCcpIHtcbiAgICAgICAgaW1wb3J0U3VibWl0LmRpc2FibGVkID0gaW1wb3J0U2VsZWN0ZWRGaWxlcy5sZW5ndGggPT09IDA7XG4gICAgICB9IGVsc2UgaWYgKGFjdGl2ZUltcG9ydFRhYiA9PT0gJ3Bhc3RlJykge1xuICAgICAgICBjb25zdCBwYXJzZWQgPSB2YWxpZGF0ZVBhc3RlSnNvbigpO1xuICAgICAgICBpbXBvcnRTdWJtaXQuZGlzYWJsZWQgPSAhcGFyc2VkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW1wb3J0U3VibWl0LmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3Qgb3BlbkltcG9ydE1vZGFsID0gKCkgPT4ge1xuICAgICAgaWYgKCFpbXBvcnRNb2RhbCkgcmV0dXJuO1xuICAgICAgaW1wb3J0TW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBpbXBvcnRNb2RhbC5jbGFzc0xpc3QuYWRkKCdmbGV4Jyk7XG4gICAgICBpbXBvcnRTZWxlY3RlZEZpbGVzID0gW107XG4gICAgICBhY3RpdmVJbXBvcnRUYWIgPSAndXBsb2FkJztcbiAgICAgIHVwZGF0ZUltcG9ydEZpbGVMaXN0KCk7XG4gICAgICByZXNldFBhc3RlU3RhdGUoKTtcbiAgICAgIGlmIChpbXBvcnRSZXN1bHRzKSBpbXBvcnRSZXN1bHRzLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgaWYgKGltcG9ydFJlc3VsdHNDb250ZW50KSBpbXBvcnRSZXN1bHRzQ29udGVudC5pbm5lckhUTUwgPSAnJztcbiAgICAgIHVwZGF0ZUltcG9ydFN1Ym1pdFN0YXRlKCk7XG4gICAgICAvLyBSZXNldCB0YWJzIHRvIHVwbG9hZFxuICAgICAgaW1wb3J0VGFicy5mb3JFYWNoKCh0KSA9PiB7XG4gICAgICAgIGlmICh0LmRhdGFzZXQuaW1wb3J0VGFiID09PSAndXBsb2FkJykge1xuICAgICAgICAgIHQuY2xhc3NMaXN0LmFkZCgnYmctWyM5QzZCRkZdJywgJ3RleHQtd2hpdGUnKTtcbiAgICAgICAgICB0LmNsYXNzTGlzdC5yZW1vdmUoJ2JvcmRlcicsICdib3JkZXItc2xhdGUtMjAwJywgJ3RleHQtc2xhdGUtNzAwJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdC5jbGFzc0xpc3QucmVtb3ZlKCdiZy1bIzlDNkJGRl0nLCAndGV4dC13aGl0ZScpO1xuICAgICAgICAgIHQuY2xhc3NMaXN0LmFkZCgnYm9yZGVyJywgJ2JvcmRlci1zbGF0ZS0yMDAnLCAndGV4dC1zbGF0ZS03MDAnKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpbXBvcnRQYW5lbHMuZm9yRWFjaCgocCkgPT4ge1xuICAgICAgICBpZiAocC5kYXRhc2V0LmltcG9ydFBhbmVsID09PSAndXBsb2FkJykge1xuICAgICAgICAgIHAuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBhY3RpdmF0ZU1vZGFsKGltcG9ydE1vZGFsLCBjbG9zZUltcG9ydE1vZGFsKTtcbiAgICB9O1xuICAgIGNvbnN0IGNsb3NlSW1wb3J0TW9kYWwgPSAoKSA9PiB7XG4gICAgICBpZiAoIWltcG9ydE1vZGFsKSByZXR1cm47XG4gICAgICBpbXBvcnRNb2RhbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGltcG9ydE1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2ZsZXgnKTtcbiAgICAgIGltcG9ydFNlbGVjdGVkRmlsZXMgPSBbXTtcbiAgICAgIHJlc2V0UGFzdGVTdGF0ZSgpO1xuICAgICAgZGVhY3RpdmF0ZU1vZGFsKGltcG9ydE1vZGFsKTtcbiAgICB9O1xuICAgIGNvbnN0IHVwZGF0ZUltcG9ydEZpbGVMaXN0ID0gKCkgPT4ge1xuICAgICAgaWYgKCFpbXBvcnRGaWxlTGlzdCB8fCAhaW1wb3J0RmlsZU5hbWVzKSByZXR1cm47XG4gICAgICBpZiAoaW1wb3J0U2VsZWN0ZWRGaWxlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgaW1wb3J0RmlsZUxpc3QuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIHVwZGF0ZUltcG9ydFN1Ym1pdFN0YXRlKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGltcG9ydEZpbGVMaXN0LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgaW1wb3J0RmlsZU5hbWVzLmlubmVySFRNTCA9IGltcG9ydFNlbGVjdGVkRmlsZXNcbiAgICAgICAgLm1hcCgoZikgPT4gYDxsaSBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+PHNwYW4gY2xhc3M9XCJ0ZXh0LWxnXCI+XHVEODNEXHVEQ0M0PC9zcGFuPiR7Zi5uYW1lfTwvbGk+YClcbiAgICAgICAgLmpvaW4oJycpO1xuICAgICAgdXBkYXRlSW1wb3J0U3VibWl0U3RhdGUoKTtcbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZUltcG9ydEZpbGVzID0gKGZpbGVzKSA9PiB7XG4gICAgICBjb25zdCBqc29uRmlsZXMgPSBBcnJheS5mcm9tKGZpbGVzKS5maWx0ZXIoXG4gICAgICAgIChmKSA9PiBmLnR5cGUgPT09ICdhcHBsaWNhdGlvbi9qc29uJyB8fCBmLm5hbWUuZW5kc1dpdGgoJy5qc29uJylcbiAgICAgICk7XG4gICAgICBpZiAoanNvbkZpbGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBzaG93VG9hc3QoJ0F1Y3VuIGZpY2hpZXIgSlNPTiB2YWxpZGUuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGltcG9ydFNlbGVjdGVkRmlsZXMgPSBqc29uRmlsZXM7XG4gICAgICB1cGRhdGVJbXBvcnRGaWxlTGlzdCgpO1xuICAgIH07XG4gICAgY29uc3QgZXhlY3V0ZUltcG9ydCA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghcGFnZXNBcGlCYXNlKSByZXR1cm47XG4gICAgICBcbiAgICAgIC8vIERldGVybWluZSBzb3VyY2Ugb2YgZGF0YSBiYXNlZCBvbiBhY3RpdmUgdGFiXG4gICAgICBsZXQgcGFnZXNEYXRhID0gW107XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKCdbaW1wb3J0XSBhY3RpdmVJbXBvcnRUYWI6JywgYWN0aXZlSW1wb3J0VGFiKTtcbiAgICAgIFxuICAgICAgaWYgKGFjdGl2ZUltcG9ydFRhYiA9PT0gJ3Bhc3RlJykge1xuICAgICAgICAvLyBJbXBvcnQgZnJvbSBwYXN0ZWQgSlNPTlxuICAgICAgICBjb25zdCB0ZXh0ID0gaW1wb3J0UGFzdGVJbnB1dD8udmFsdWU/LnRyaW0oKTtcbiAgICAgICAgY29uc29sZS5sb2coJ1tpbXBvcnRdIHBhc3RlIHRleHQgbGVuZ3RoOicsIHRleHQ/Lmxlbmd0aCk7XG4gICAgICAgIGlmICghdGV4dCkge1xuICAgICAgICAgIHNob3dUb2FzdCgnQXVjdW4gSlNPTiBcdTAwRTAgaW1wb3J0ZXIuJyk7XG4gICAgICAgICAgaWYgKGltcG9ydFJlc3VsdHMgJiYgaW1wb3J0UmVzdWx0c0NvbnRlbnQpIHtcbiAgICAgICAgICAgIGltcG9ydFJlc3VsdHMuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgICBpbXBvcnRSZXN1bHRzQ29udGVudC5pbm5lckhUTUwgPSAnPHAgY2xhc3M9XCJ0ZXh0LWFtYmVyLTYwMFwiPlx1MjZBMCBMZSBjaGFtcCBkZSB0ZXh0ZSBlc3QgdmlkZS48L3A+JztcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcGFyc2VkID0gSlNPTi5wYXJzZSh0ZXh0KTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnW2ltcG9ydF0gcGFyc2VkIEpTT046JywgcGFyc2VkKTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnW2ltcG9ydF0gcGFyc2VkIHR5cGU6JywgdHlwZW9mIHBhcnNlZCwgQXJyYXkuaXNBcnJheShwYXJzZWQpID8gJ2FycmF5JyA6ICdub3QgYXJyYXknKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBTdXBwb3J0IGZvcm1hdCB7IHBhZ2VzOiBbLi4uXSwgY29sbGVjdGlvbnM6IHsuLi59IH1cbiAgICAgICAgICBpZiAocGFyc2VkICYmICFBcnJheS5pc0FycmF5KHBhcnNlZCkgJiYgcGFyc2VkLnBhZ2VzKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnW2ltcG9ydF0gZGV0ZWN0ZWQgcGFnZXMrY29sbGVjdGlvbnMgZm9ybWF0Jyk7XG4gICAgICAgICAgICBwYWdlc0RhdGEgPSBwYXJzZWQ7IC8vIFNlbmQgdGhlIHdob2xlIG9iamVjdCwgYmFja2VuZCB3aWxsIGhhbmRsZSBpdFxuICAgICAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShwYXJzZWQpKSB7XG4gICAgICAgICAgICBwYWdlc0RhdGEucHVzaCguLi5wYXJzZWQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYWdlc0RhdGEucHVzaChwYXJzZWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zb2xlLmxvZygnW2ltcG9ydF0gcGFnZXNEYXRhIHByZXBhcmVkOicsIHBhZ2VzRGF0YSk7XG4gICAgICAgIH0gY2F0Y2ggKHBhcnNlRXJyKSB7XG4gICAgICAgICAgLy8gQWZmaWNoZXIgbGUgZFx1MDBFOXRhaWwgZGUgbCdlcnJldXIgZGUgcGFyc2luZ1xuICAgICAgICAgIGNvbnN0IGVycm9yTGluZSA9IHBhcnNlRXJyLm1lc3NhZ2UubWF0Y2goL3Bvc2l0aW9uIChcXGQrKS8pO1xuICAgICAgICAgIGxldCBlcnJvckRldGFpbCA9IHBhcnNlRXJyLm1lc3NhZ2U7XG4gICAgICAgICAgaWYgKGVycm9yTGluZSkge1xuICAgICAgICAgICAgY29uc3QgcG9zID0gcGFyc2VJbnQoZXJyb3JMaW5lWzFdLCAxMCk7XG4gICAgICAgICAgICBjb25zdCBsaW5lcyA9IHRleHQuc3Vic3RyaW5nKDAsIHBvcykuc3BsaXQoJ1xcbicpO1xuICAgICAgICAgICAgY29uc3QgbGluZU51bSA9IGxpbmVzLmxlbmd0aDtcbiAgICAgICAgICAgIGNvbnN0IGNvbE51bSA9IGxpbmVzW2xpbmVzLmxlbmd0aCAtIDFdLmxlbmd0aCArIDE7XG4gICAgICAgICAgICBlcnJvckRldGFpbCA9IGBMaWduZSAke2xpbmVOdW19LCBjb2xvbm5lICR7Y29sTnVtfTogJHtwYXJzZUVyci5tZXNzYWdlfWA7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNob3dUb2FzdChgRXJyZXVyIEpTT04gOiAke2Vycm9yRGV0YWlsfWAsICdlcnJvcicpO1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tpbXBvcnRdIHBhc3RlIHBhcnNlIGVycm9yJywgcGFyc2VFcnIpO1xuICAgICAgICAgIC8vIFNob3cgZXJyb3IgaW4gcmVzdWx0cyBhcmVhXG4gICAgICAgICAgaWYgKGltcG9ydFJlc3VsdHMgJiYgaW1wb3J0UmVzdWx0c0NvbnRlbnQpIHtcbiAgICAgICAgICAgIGltcG9ydFJlc3VsdHMuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgICBpbXBvcnRSZXN1bHRzQ29udGVudC5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LXJvc2UtNjAwXCI+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJmb250LW1lZGl1bVwiPlx1MjcxNyBFcnJldXIgZGUgc3ludGF4ZSBKU09OPC9wPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC14cyBtdC0xXCI+JHtlcnJvckRldGFpbH08L3A+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXhzIG10LTIgdGV4dC1zbGF0ZS01MDBcIj5WXHUwMEU5cmlmaWV6IGxlcyB2aXJndWxlcywgZ3VpbGxlbWV0cyBldCBhY2NvbGFkZXMuPC9wPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIGA7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChhY3RpdmVJbXBvcnRUYWIgPT09ICd1cGxvYWQnKSB7XG4gICAgICAgIC8vIEltcG9ydCBmcm9tIGZpbGVzXG4gICAgICAgIGlmIChpbXBvcnRTZWxlY3RlZEZpbGVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICAgICAgICBjb25zdCBmaWxlRXJyb3JzID0gW107XG4gICAgICAgIGZvciAoY29uc3QgZmlsZSBvZiBpbXBvcnRTZWxlY3RlZEZpbGVzKSB7XG4gICAgICAgICAgY29uc3QgdGV4dCA9IGF3YWl0IGZpbGUudGV4dCgpO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBwYXJzZWQgPSBKU09OLnBhcnNlKHRleHQpO1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocGFyc2VkKSkge1xuICAgICAgICAgICAgICBwYWdlc0RhdGEucHVzaCguLi5wYXJzZWQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGFnZXNEYXRhLnB1c2gocGFyc2VkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoIChwYXJzZUVycikge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JMaW5lID0gcGFyc2VFcnIubWVzc2FnZS5tYXRjaCgvcG9zaXRpb24gKFxcZCspLyk7XG4gICAgICAgICAgICBsZXQgZXJyb3JEZXRhaWwgPSBwYXJzZUVyci5tZXNzYWdlO1xuICAgICAgICAgICAgaWYgKGVycm9yTGluZSkge1xuICAgICAgICAgICAgICBjb25zdCBwb3MgPSBwYXJzZUludChlcnJvckxpbmVbMV0sIDEwKTtcbiAgICAgICAgICAgICAgY29uc3QgbGluZXMgPSB0ZXh0LnN1YnN0cmluZygwLCBwb3MpLnNwbGl0KCdcXG4nKTtcbiAgICAgICAgICAgICAgY29uc3QgbGluZU51bSA9IGxpbmVzLmxlbmd0aDtcbiAgICAgICAgICAgICAgZXJyb3JEZXRhaWwgPSBgTGlnbmUgJHtsaW5lTnVtfTogJHtwYXJzZUVyci5tZXNzYWdlfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaWxlRXJyb3JzLnB1c2goeyBmaWxlOiBmaWxlLm5hbWUsIGVycm9yOiBlcnJvckRldGFpbCB9KTtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tpbXBvcnRdIHBhcnNlIGVycm9yJywgZmlsZS5uYW1lLCBwYXJzZUVycik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFNob3cgZmlsZSBwYXJzaW5nIGVycm9ycyBpZiBhbnlcbiAgICAgICAgaWYgKGZpbGVFcnJvcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGlmIChpbXBvcnRSZXN1bHRzICYmIGltcG9ydFJlc3VsdHNDb250ZW50KSB7XG4gICAgICAgICAgICBpbXBvcnRSZXN1bHRzLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgICAgbGV0IGh0bWwgPSAnPGRpdiBjbGFzcz1cInRleHQtcm9zZS02MDBcIj48cCBjbGFzcz1cImZvbnQtbWVkaXVtXCI+XHUyNzE3IEVycmV1cnMgZGUgc3ludGF4ZSBKU09OPC9wPjx1bCBjbGFzcz1cIm1sLTQgdGV4dC14cyBtdC0xXCI+JztcbiAgICAgICAgICAgIGZpbGVFcnJvcnMuZm9yRWFjaChlID0+IHtcbiAgICAgICAgICAgICAgaHRtbCArPSBgPGxpPjxzdHJvbmc+JHtlLmZpbGV9PC9zdHJvbmc+OiAke2UuZXJyb3J9PC9saT5gO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBodG1sICs9ICc8L3VsPjwvZGl2Pic7XG4gICAgICAgICAgICBpZiAocGFnZXNEYXRhLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgaHRtbCArPSBgPHAgY2xhc3M9XCJ0ZXh0LWFtYmVyLTYwMCBtdC0yIHRleHQtc21cIj5cdTI2QTAgJHtwYWdlc0RhdGEubGVuZ3RofSBwYWdlKHMpIHZhbGlkZShzKSBzZXJvbnQgaW1wb3J0XHUwMEU5ZShzKTwvcD5gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW1wb3J0UmVzdWx0c0NvbnRlbnQuaW5uZXJIVE1MID0gaHRtbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHBhZ2VzRGF0YS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHNob3dUb2FzdCgnVG91cyBsZXMgZmljaGllcnMgY29udGllbm5lbnQgZGVzIGVycmV1cnMgSlNPTicsICdlcnJvcicpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBWXHUwMEU5cmlmaWVyIHF1J29uIGEgZGVzIGRvbm5cdTAwRTllcyBcdTAwRTAgaW1wb3J0ZXJcbiAgICAgIGNvbnN0IGhhc0RhdGEgPSBBcnJheS5pc0FycmF5KHBhZ2VzRGF0YSkgXG4gICAgICAgID8gcGFnZXNEYXRhLmxlbmd0aCA+IDAgXG4gICAgICAgIDogKHBhZ2VzRGF0YSAmJiAocGFnZXNEYXRhLnBhZ2VzPy5sZW5ndGggPiAwIHx8IHBhZ2VzRGF0YS50aXRsZSkpO1xuICAgICAgXG4gICAgICBjb25zb2xlLmxvZygnW2ltcG9ydF0gaGFzRGF0YSBjaGVjazonLCBoYXNEYXRhLCAncGFnZXNEYXRhOicsIHBhZ2VzRGF0YSk7XG4gICAgICBcbiAgICAgIGlmICghaGFzRGF0YSkge1xuICAgICAgICBzaG93VG9hc3QoJ0F1Y3VuZSBwYWdlIHZhbGlkZSBcdTAwRTAgaW1wb3J0ZXIuJyk7XG4gICAgICAgIGlmIChpbXBvcnRSZXN1bHRzICYmIGltcG9ydFJlc3VsdHNDb250ZW50KSB7XG4gICAgICAgICAgaW1wb3J0UmVzdWx0cy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICBpbXBvcnRSZXN1bHRzQ29udGVudC5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC1hbWJlci02MDBcIj5cbiAgICAgICAgICAgICAgPHAgY2xhc3M9XCJmb250LW1lZGl1bVwiPlx1MjZBMCBBdWN1bmUgcGFnZSBkXHUwMEU5dGVjdFx1MDBFOWU8L3A+XG4gICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC14cyBtdC0xXCI+TGUgSlNPTiBkb2l0IGNvbnRlbmlyIDo8L3A+XG4gICAgICAgICAgICAgIDx1bCBjbGFzcz1cInRleHQteHMgbWwtNCBtdC0xIGxpc3QtZGlzY1wiPlxuICAgICAgICAgICAgICAgIDxsaT5VbiBvYmpldCBwYWdlIGF2ZWMgXCJ0aXRsZVwiIDogPGNvZGU+e1widGl0bGVcIjogXCJNYSBwYWdlXCIsIC4uLn08L2NvZGU+PC9saT5cbiAgICAgICAgICAgICAgICA8bGk+VW4gdGFibGVhdSBkZSBwYWdlcyA6IDxjb2RlPlt7XCJ0aXRsZVwiOiBcIlBhZ2UgMVwifSwge1widGl0bGVcIjogXCJQYWdlIDJcIn1dPC9jb2RlPjwvbGk+XG4gICAgICAgICAgICAgICAgPGxpPk91IHVuIG9iamV0IGNvbWJpblx1MDBFOSA6IDxjb2RlPntcInBhZ2VzXCI6IFsuLi5dLCBcImNvbGxlY3Rpb25zXCI6IHsuLi59fTwvY29kZT48L2xpPlxuICAgICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgYDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChpbXBvcnRTdWJtaXQpIHtcbiAgICAgICAgaW1wb3J0U3VibWl0LmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgaW1wb3J0U3VibWl0LnRleHRDb250ZW50ID0gJ0ltcG9ydC4uLic7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEFmZmljaGVyIGNlIHF1J29uIHZhIGVudm95ZXIgKGRlYnVnKVxuICAgICAgY29uc29sZS5sb2coJ1tpbXBvcnRdIFNlbmRpbmcgdG8gc2VydmVyOicsIEpTT04uc3RyaW5naWZ5KHBhZ2VzRGF0YSkuc3Vic3RyaW5nKDAsIDUwMCkpO1xuICAgICAgXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke3BhZ2VzQXBpQmFzZX0vaW1wb3J0YCwge1xuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZScsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGFnZXNEYXRhKSxcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBjb25zb2xlLmxvZygnW2ltcG9ydF0gU2VydmVyIHJlc3BvbnNlIHN0YXR1czonLCByZXNwb25zZS5zdGF0dXMpO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBjb25zb2xlLmxvZygnW2ltcG9ydF0gU2VydmVyIHJlc3BvbnNlIGJvZHk6JywgcmVzdWx0KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIC8vIEFmZmljaGVyIGxlIGRcdTAwRTl0YWlsIGRlIGwnZXJyZXVyIHNlcnZldXJcbiAgICAgICAgICBpZiAoaW1wb3J0UmVzdWx0cyAmJiBpbXBvcnRSZXN1bHRzQ29udGVudCkge1xuICAgICAgICAgICAgaW1wb3J0UmVzdWx0cy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIGltcG9ydFJlc3VsdHNDb250ZW50LmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRleHQtcm9zZS02MDBcIj5cbiAgICAgICAgICAgICAgICA8cCBjbGFzcz1cImZvbnQtbWVkaXVtXCI+XHUyNzE3IEVycmV1ciBzZXJ2ZXVyPC9wPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC14cyBtdC0xXCI+JHtyZXN1bHQubWVzc2FnZSB8fCAnRXJyZXVyIGluY29ubnVlJ308L3A+XG4gICAgICAgICAgICAgICAgJHtyZXN1bHQuZGV0YWlscyA/IGA8cCBjbGFzcz1cInRleHQteHMgbXQtMSB0ZXh0LXNsYXRlLTUwMFwiPiR7cmVzdWx0LmRldGFpbHN9PC9wPmAgOiAnJ31cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICBgO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzdWx0Lm1lc3NhZ2UgfHwgJ0VycmV1ciBzZXJ2ZXVyJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2hvdyByZXN1bHRzXG4gICAgICAgIGlmIChpbXBvcnRSZXN1bHRzICYmIGltcG9ydFJlc3VsdHNDb250ZW50KSB7XG4gICAgICAgICAgaW1wb3J0UmVzdWx0cy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICBsZXQgaHRtbCA9ICcnO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIEVudFx1MDBFQXRlIHN1Y2NcdTAwRThzL2VycmV1clxuICAgICAgICAgIGNvbnN0IGhhc1N1Y2Nlc3MgPSAocmVzdWx0LmltcG9ydGVkPy5sZW5ndGggPiAwKSB8fCAocmVzdWx0LmNvbGxlY3Rpb25zQ3JlYXRlZD8ubGVuZ3RoID4gMCk7XG4gICAgICAgICAgY29uc3QgaGFzRXJyb3JzID0gcmVzdWx0LmVycm9ycz8ubGVuZ3RoID4gMDtcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoaGFzU3VjY2VzcyAmJiAhaGFzRXJyb3JzKSB7XG4gICAgICAgICAgICBodG1sICs9ICc8ZGl2IGNsYXNzPVwiYmctZ3JlZW4tNTAgYm9yZGVyIGJvcmRlci1ncmVlbi0yMDAgcm91bmRlZC1sZyBwLTMgbWItMlwiPjxwIGNsYXNzPVwidGV4dC1ncmVlbi04MDAgZm9udC1tZWRpdW1cIj5cdTI3MTMgSW1wb3J0IHJcdTAwRTl1c3NpPC9wPjwvZGl2Pic7XG4gICAgICAgICAgfSBlbHNlIGlmIChoYXNTdWNjZXNzICYmIGhhc0Vycm9ycykge1xuICAgICAgICAgICAgaHRtbCArPSAnPGRpdiBjbGFzcz1cImJnLWFtYmVyLTUwIGJvcmRlciBib3JkZXItYW1iZXItMjAwIHJvdW5kZWQtbGcgcC0zIG1iLTJcIj48cCBjbGFzcz1cInRleHQtYW1iZXItODAwIGZvbnQtbWVkaXVtXCI+XHUyNkEwIEltcG9ydCBwYXJ0aWVsPC9wPjwvZGl2Pic7XG4gICAgICAgICAgfSBlbHNlIGlmIChoYXNFcnJvcnMpIHtcbiAgICAgICAgICAgIGh0bWwgKz0gJzxkaXYgY2xhc3M9XCJiZy1yb3NlLTUwIGJvcmRlciBib3JkZXItcm9zZS0yMDAgcm91bmRlZC1sZyBwLTMgbWItMlwiPjxwIGNsYXNzPVwidGV4dC1yb3NlLTgwMCBmb250LW1lZGl1bVwiPlx1MjcxNyBJbXBvcnQgXHUwMEU5Y2hvdVx1MDBFOTwvcD48L2Rpdj4nO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAvLyBDb2xsZWN0aW9ucyBjclx1MDBFOVx1MDBFOWVzXG4gICAgICAgICAgaWYgKHJlc3VsdC5jb2xsZWN0aW9uc0NyZWF0ZWQgJiYgcmVzdWx0LmNvbGxlY3Rpb25zQ3JlYXRlZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBodG1sICs9IGA8cCBjbGFzcz1cInRleHQtdmlvbGV0LTcwMCBtdC0yXCI+XHUyNzEzICR7cmVzdWx0LmNvbGxlY3Rpb25zQ3JlYXRlZC5sZW5ndGh9IGNvbGxlY3Rpb24ocykgY3JcdTAwRTlcdTAwRTllKHMpPC9wPmA7XG4gICAgICAgICAgICBodG1sICs9ICc8dWwgY2xhc3M9XCJtbC00IHRleHQteHMgdGV4dC1zbGF0ZS02MDBcIj4nO1xuICAgICAgICAgICAgcmVzdWx0LmNvbGxlY3Rpb25zQ3JlYXRlZC5mb3JFYWNoKChjKSA9PiB7XG4gICAgICAgICAgICAgIGh0bWwgKz0gYDxsaT4ke2MubmFtZX0gKCR7Yy5pdGVtc0NvdW50fSBpdGVtJHtjLml0ZW1zQ291bnQgPiAxID8gJ3MnIDogJyd9KTwvbGk+YDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaHRtbCArPSAnPC91bD4nO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBQYWdlcyBpbXBvcnRcdTAwRTllc1xuICAgICAgICAgIGlmIChyZXN1bHQuaW1wb3J0ZWQgJiYgcmVzdWx0LmltcG9ydGVkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGh0bWwgKz0gYDxwIGNsYXNzPVwidGV4dC1ncmVlbi03MDAgbXQtMlwiPlx1MjcxMyAke3Jlc3VsdC5pbXBvcnRlZC5sZW5ndGh9IHBhZ2UocykgaW1wb3J0XHUwMEU5ZShzKTwvcD5gO1xuICAgICAgICAgICAgaHRtbCArPSAnPHVsIGNsYXNzPVwibWwtNCB0ZXh0LXhzIHRleHQtc2xhdGUtNjAwXCI+JztcbiAgICAgICAgICAgIHJlc3VsdC5pbXBvcnRlZC5mb3JFYWNoKChwKSA9PiB7XG4gICAgICAgICAgICAgIGh0bWwgKz0gYDxsaT48c3Ryb25nPiR7cC50aXRsZX08L3N0cm9uZz4gXHUyMTkyICR7cC5zbHVnfSAoJHtwLmFjdGlvbiA9PT0gJ3VwZGF0ZWQnID8gJ21pc2UgXHUwMEUwIGpvdXInIDogJ2NyXHUwMEU5XHUwMEU5ZSd9KTwvbGk+YDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaHRtbCArPSAnPC91bD4nO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBFcnJldXJzIGF2ZWMgZFx1MDBFOXRhaWxzXG4gICAgICAgICAgaWYgKHJlc3VsdC5lcnJvcnMgJiYgcmVzdWx0LmVycm9ycy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBodG1sICs9IGA8cCBjbGFzcz1cInRleHQtcm9zZS02MDAgbXQtMyBmb250LW1lZGl1bVwiPlx1MjcxNyAke3Jlc3VsdC5lcnJvcnMubGVuZ3RofSBlcnJldXIocyk8L3A+YDtcbiAgICAgICAgICAgIGh0bWwgKz0gJzx1bCBjbGFzcz1cIm1sLTQgdGV4dC14cyB0ZXh0LXJvc2UtNjAwIHNwYWNlLXktMSBtdC0xXCI+JztcbiAgICAgICAgICAgIHJlc3VsdC5lcnJvcnMuZm9yRWFjaCgoZSkgPT4ge1xuICAgICAgICAgICAgICBodG1sICs9IGA8bGkgY2xhc3M9XCJiZy1yb3NlLTUwIHAtMiByb3VuZGVkXCI+PHN0cm9uZz4ke2UudGl0bGV9PC9zdHJvbmc+PGJyLz48c3BhbiBjbGFzcz1cInRleHQtcm9zZS01MDBcIj4ke2UuZXJyb3J9PC9zcGFuPjwvbGk+YDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaHRtbCArPSAnPC91bD4nO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpbXBvcnRSZXN1bHRzQ29udGVudC5pbm5lckhUTUwgPSBodG1sO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlbG9hZCBwYWdlcyBsaXN0IGFuZCBzaG93IHRvYXN0XG4gICAgICAgIGNvbnN0IGhhc1N1Y2Nlc3MgPSAocmVzdWx0LmltcG9ydGVkPy5sZW5ndGggPiAwKSB8fCAocmVzdWx0LmNvbGxlY3Rpb25zQ3JlYXRlZD8ubGVuZ3RoID4gMCk7XG4gICAgICAgIGNvbnN0IGhhc0Vycm9ycyA9IHJlc3VsdC5lcnJvcnM/Lmxlbmd0aCA+IDA7XG4gICAgICAgIFxuICAgICAgICBpZiAocmVzdWx0LmltcG9ydGVkICYmIHJlc3VsdC5pbXBvcnRlZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY29uc3QgZnJlc2hQYWdlcyA9IGF3YWl0IGZldGNoUGFnZXNGcm9tU2VydmVyKCk7XG4gICAgICAgICAgcGFnZXMgPSBmcmVzaFBhZ2VzO1xuICAgICAgICAgIHJlbmRlclBhZ2VMaXN0cyhwYWdlcywgYWN0aXZlUGFnZUlkKTtcbiAgICAgICAgICBpZiAocGFnZXMubGVuZ3RoID4gMCAmJiAhYWN0aXZlUGFnZUlkKSB7XG4gICAgICAgICAgICBzZXRBY3RpdmVQYWdlKHBhZ2VzWzBdLmlkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFRvYXN0IGF2ZWMgc3RhdHV0IGFwcHJvcHJpXHUwMEU5XG4gICAgICAgIGlmIChoYXNTdWNjZXNzICYmICFoYXNFcnJvcnMpIHtcbiAgICAgICAgICBjb25zdCBjb2xsZWN0aW9uc01zZyA9IHJlc3VsdC5jb2xsZWN0aW9uc0NyZWF0ZWQ/Lmxlbmd0aCBcbiAgICAgICAgICAgID8gYCArICR7cmVzdWx0LmNvbGxlY3Rpb25zQ3JlYXRlZC5sZW5ndGh9IGNvbGxlY3Rpb24ocylgIFxuICAgICAgICAgICAgOiAnJztcbiAgICAgICAgICBzaG93VG9hc3QoYFx1MjcxMyBJbXBvcnQgclx1MDBFOXVzc2kgOiAke3Jlc3VsdC5pbXBvcnRlZD8ubGVuZ3RoIHx8IDB9IHBhZ2Uocykke2NvbGxlY3Rpb25zTXNnfWAsICdzdWNjZXNzJyk7XG4gICAgICAgIH0gZWxzZSBpZiAoaGFzU3VjY2VzcyAmJiBoYXNFcnJvcnMpIHtcbiAgICAgICAgICBzaG93VG9hc3QoYFx1MjZBMCBJbXBvcnQgcGFydGllbCA6ICR7cmVzdWx0LmltcG9ydGVkPy5sZW5ndGggfHwgMH0gcGFnZShzKSwgJHtyZXN1bHQuZXJyb3JzLmxlbmd0aH0gZXJyZXVyKHMpYCwgJ3dhcm5pbmcnKTtcbiAgICAgICAgfSBlbHNlIGlmIChoYXNFcnJvcnMpIHtcbiAgICAgICAgICBzaG93VG9hc3QoYFx1MjcxNyBJbXBvcnQgXHUwMEU5Y2hvdVx1MDBFOSA6ICR7cmVzdWx0LmVycm9ycy5sZW5ndGh9IGVycmV1cihzKWAsICdlcnJvcicpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpbXBvcnRTZWxlY3RlZEZpbGVzID0gW107XG4gICAgICAgIHVwZGF0ZUltcG9ydEZpbGVMaXN0KCk7XG4gICAgICAgIHJlc2V0UGFzdGVTdGF0ZSgpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tpbXBvcnRdIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGltcG9ydCcsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKGltcG9ydFN1Ym1pdCkge1xuICAgICAgICAgIGltcG9ydFN1Ym1pdC5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgIGltcG9ydFN1Ym1pdC50ZXh0Q29udGVudCA9ICdJbXBvcnRlcic7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIGltcG9ydFRvZ2dsZT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuSW1wb3J0TW9kYWwpO1xuICAgIGltcG9ydENsb3NlQnV0dG9ucy5mb3JFYWNoKChidG4pID0+IGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlSW1wb3J0TW9kYWwpKTtcbiAgICBpbXBvcnRNb2RhbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgaWYgKGUudGFyZ2V0ID09PSBpbXBvcnRNb2RhbCkgY2xvc2VJbXBvcnRNb2RhbCgpO1xuICAgIH0pO1xuICAgIGltcG9ydEZpbGVJbnB1dD8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGUpID0+IHtcbiAgICAgIGhhbmRsZUltcG9ydEZpbGVzKGUudGFyZ2V0LmZpbGVzKTtcbiAgICB9KTtcbiAgICBpbXBvcnREcm9wem9uZT8uYWRkRXZlbnRMaXN0ZW5lcignZHJhZ292ZXInLCAoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaW1wb3J0RHJvcHpvbmUuY2xhc3NMaXN0LmFkZCgnYm9yZGVyLVsjOUM2QkZGXScsICdiZy1bIzlDNkJGRl0vMTAnKTtcbiAgICB9KTtcbiAgICBpbXBvcnREcm9wem9uZT8uYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2xlYXZlJywgKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGltcG9ydERyb3B6b25lLmNsYXNzTGlzdC5yZW1vdmUoJ2JvcmRlci1bIzlDNkJGRl0nLCAnYmctWyM5QzZCRkZdLzEwJyk7XG4gICAgfSk7XG4gICAgaW1wb3J0RHJvcHpvbmU/LmFkZEV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCAoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaW1wb3J0RHJvcHpvbmUuY2xhc3NMaXN0LnJlbW92ZSgnYm9yZGVyLVsjOUM2QkZGXScsICdiZy1bIzlDNkJGRl0vMTAnKTtcbiAgICAgIGhhbmRsZUltcG9ydEZpbGVzKGUuZGF0YVRyYW5zZmVyLmZpbGVzKTtcbiAgICB9KTtcbiAgICBpbXBvcnRTdWJtaXQ/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZXhlY3V0ZUltcG9ydCk7XG4gICAgLy8gUGFzdGUgSlNPTiBoYW5kbGVyc1xuICAgIGltcG9ydFBhc3RlSW5wdXQ/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgdXBkYXRlSW1wb3J0U3VibWl0U3RhdGUoKTtcbiAgICB9KTtcbiAgICBwYXN0ZUZvcm1hdEJ0bj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmb3JtYXRQYXN0ZUpzb24pO1xuICAgIC8vIEltcG9ydCB0YWJzXG4gICAgaW1wb3J0VGFicy5mb3JFYWNoKCh0YWIpID0+IHtcbiAgICAgIHRhYi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgY29uc3QgdGFyZ2V0UGFuZWwgPSB0YWIuZGF0YXNldC5pbXBvcnRUYWI7XG4gICAgICAgIGFjdGl2ZUltcG9ydFRhYiA9IHRhcmdldFBhbmVsO1xuICAgICAgICBpbXBvcnRUYWJzLmZvckVhY2goKHQpID0+IHtcbiAgICAgICAgICBpZiAodC5kYXRhc2V0LmltcG9ydFRhYiA9PT0gdGFyZ2V0UGFuZWwpIHtcbiAgICAgICAgICAgIHQuY2xhc3NMaXN0LmFkZCgnYmctWyM5QzZCRkZdJywgJ3RleHQtd2hpdGUnKTtcbiAgICAgICAgICAgIHQuY2xhc3NMaXN0LnJlbW92ZSgnYm9yZGVyJywgJ2JvcmRlci1zbGF0ZS0yMDAnLCAndGV4dC1zbGF0ZS03MDAnKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdC5jbGFzc0xpc3QucmVtb3ZlKCdiZy1bIzlDNkJGRl0nLCAndGV4dC13aGl0ZScpO1xuICAgICAgICAgICAgdC5jbGFzc0xpc3QuYWRkKCdib3JkZXInLCAnYm9yZGVyLXNsYXRlLTIwMCcsICd0ZXh0LXNsYXRlLTcwMCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGltcG9ydFBhbmVscy5mb3JFYWNoKChwKSA9PiB7XG4gICAgICAgICAgaWYgKHAuZGF0YXNldC5pbXBvcnRQYW5lbCA9PT0gdGFyZ2V0UGFuZWwpIHtcbiAgICAgICAgICAgIHAuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHAuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdXBkYXRlSW1wb3J0U3VibWl0U3RhdGUoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGNvcHlUZW1wbGF0ZUJ0bj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXRlbXBsYXRlSnNvbikgcmV0dXJuO1xuICAgICAgY29uc3QgdGV4dCA9IHRlbXBsYXRlSnNvbi50ZXh0Q29udGVudCB8fCAnJztcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KHRleHQpO1xuICAgICAgICBzaG93VG9hc3QoJ1RlbXBsYXRlIGNvcGlcdTAwRTkgIScpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tpbXBvcnRdIGNvcHkgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KCdFcnJldXIgY29waWUnKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIERlbGV0ZSBwYWdlIG1vZGFsIGxpc3RlbmVyc1xuICAgIGRlbGV0ZVBhZ2VDYW5jZWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VEZWxldGVQYWdlTW9kYWwpO1xuICAgIGRlbGV0ZVBhZ2VDb25maXJtPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGV4ZWN1dGVEZWxldGVQYWdlKTtcbiAgICBkZWxldGVQYWdlTW9kYWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGlmIChlLnRhcmdldCA9PT0gZGVsZXRlUGFnZU1vZGFsKSBjbG9zZURlbGV0ZVBhZ2VNb2RhbCgpO1xuICAgIH0pO1xuXG4gICAgYmxvY2tMaWJyYXJ5VG9nZ2xlPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB0b2dnbGVCbG9ja0xpYnJhcnkoKTtcbiAgICB9KTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgaWYgKCFibG9ja0xpYnJhcnlPcGVuKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChcbiAgICAgICAgYmxvY2tMaWJyYXJ5Py5jb250YWlucyhldmVudC50YXJnZXQpIHx8XG4gICAgICAgIGJsb2NrTGlicmFyeVRvZ2dsZT8uY29udGFpbnMoZXZlbnQudGFyZ2V0KVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNsb3NlQmxvY2tMaWJyYXJ5KCk7XG4gICAgfSk7XG4gICAgYmxvY2tBZGRCdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBjb25zdCB0eXBlID0gYnV0dG9uLmRhdGFzZXQuYmxvY2tBZGQ7XG4gICAgICAgIGFkZEJsb2NrRnJvbUxpYnJhcnkodHlwZSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBibG9ja0RlbGV0ZUNhbmNlbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjbG9zZUJsb2NrRGVsZXRlTW9kYWwoKTtcbiAgICB9KTtcbiAgICBibG9ja0RlbGV0ZUNvbmZpcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgaWYgKHBlbmRpbmdEZWxldGVCbG9ja0lkKSB7XG4gICAgICAgIGRlbGV0ZUJsb2NrQnlJZChwZW5kaW5nRGVsZXRlQmxvY2tJZCk7XG4gICAgICB9XG4gICAgICBjbG9zZUJsb2NrRGVsZXRlTW9kYWwoKTtcbiAgICB9KTtcbiAgICBibG9ja0RlbGV0ZU1vZGFsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gYmxvY2tEZWxldGVNb2RhbCkge1xuICAgICAgICBjbG9zZUJsb2NrRGVsZXRlTW9kYWwoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBibG9ja0Zvcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQ7XG4gICAgICBpZiAoIXRhcmdldCB8fCAhdGFyZ2V0Lm5hbWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gTWluaSBwcmV2aWV3IHBvdXIgZ3JvdXBlXG4gICAgICBpZiAodGFyZ2V0Lm5hbWUgPT09ICdncm91cC1jb2x1bW5zLW1vYmlsZScgfHwgdGFyZ2V0Lm5hbWUgPT09ICdncm91cC1jb2x1bW5zLWRlc2t0b3AnKSB7XG4gICAgICAgIGNvbnN0IG1vYmlsZVZhbHVlID1cbiAgICAgICAgICBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJncm91cC1jb2x1bW5zLW1vYmlsZVwiXScpPy52YWx1ZSB8fCAnMSc7XG4gICAgICAgIGNvbnN0IGRlc2t0b3BWYWx1ZSA9XG4gICAgICAgICAgYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZ3JvdXAtY29sdW1ucy1kZXNrdG9wXCJdJyk/LnZhbHVlIHx8ICczJztcbiAgICAgICAgdXBkYXRlR3JvdXBNaW5pUHJldmlldyhtb2JpbGVWYWx1ZSwgZGVza3RvcFZhbHVlKTtcbiAgICAgIH1cbiAgICAgIC8vIE1pbmkgcHJldmlldyBwb3VyIGNvbGxlY3Rpb25cbiAgICAgIGlmICh0YXJnZXQubmFtZSA9PT0gJ2NvbGxlY3Rpb24tY29sdW1ucy1tb2JpbGUnIHx8IHRhcmdldC5uYW1lID09PSAnY29sbGVjdGlvbi1jb2x1bW5zLWRlc2t0b3AnKSB7XG4gICAgICAgIGNvbnN0IG1vYmlsZVZhbHVlID1cbiAgICAgICAgICBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJjb2xsZWN0aW9uLWNvbHVtbnMtbW9iaWxlXCJdJyk/LnZhbHVlIHx8ICcxJztcbiAgICAgICAgY29uc3QgZGVza3RvcFZhbHVlID1cbiAgICAgICAgICBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJjb2xsZWN0aW9uLWNvbHVtbnMtZGVza3RvcFwiXScpPy52YWx1ZSB8fCAnMyc7XG4gICAgICAgIHVwZGF0ZUNvbGxlY3Rpb25NaW5pUHJldmlldyhtb2JpbGVWYWx1ZSwgZGVza3RvcFZhbHVlKTtcbiAgICAgIH1cbiAgICAgIC8vIERcdTAwRTl0ZWN0aW9uIHNpIG9uIGVzdCBkYW5zIGxlIHBhbmVsIEFwcGFyZW5jZSBcdTIxOTIgYXV0by1zYXZlXG4gICAgICBjb25zdCBwYW5lbCA9IHRhcmdldC5jbG9zZXN0KCdbZGF0YS1ibG9jay1wYW5lbF0nKTtcbiAgICAgIGlmIChwYW5lbCAmJiBwYW5lbC5kYXRhc2V0LmJsb2NrUGFuZWwgPT09ICdhcHBlYXJhbmNlJykge1xuICAgICAgICAvLyBBdXRvLXNhdmUgKyByZWZyZXNoIHByZXZpZXcgcG91ciBsJ2FwcGFyZW5jZVxuICAgICAgICBjb25zdCBibG9jayA9IGdldEFjdGl2ZUJsb2NrKCk7XG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IGdldEJsb2NrRm9ybUNvbmZpZyhibG9jayk7XG4gICAgICAgIGlmIChibG9jayAmJiBjb25maWcpIHtcbiAgICAgICAgICBjb25zdCB2YWx1ZXMgPSBjb2xsZWN0Rm9ybVZhbHVlcyhjb25maWcpO1xuICAgICAgICAgIGhhbmRsZUFwcGVhcmFuY2VDaGFuZ2UoYmxvY2suaWQsIHZhbHVlcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICAvLyBcdTAwQzlnYWxlbWVudCBzdXIgJ2NoYW5nZScgcG91ciBsZXMgc2VsZWN0c1xuICAgIGJsb2NrRm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQ7XG4gICAgICBpZiAoIXRhcmdldCB8fCAhdGFyZ2V0Lm5hbWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gTWlzZSBcdTAwRTAgam91ciBkdSBwcmV2aWV3IGRlIGNvdWxldXIgcG91ciBsZXMgY29sb3Igc2VsZWN0c1xuICAgICAgaWYgKHRhcmdldC5oYXNBdHRyaWJ1dGUoJ2RhdGEtY29sb3Itc2VsZWN0JykpIHtcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRPcHRpb24gPSB0YXJnZXQub3B0aW9uc1t0YXJnZXQuc2VsZWN0ZWRJbmRleF07XG4gICAgICAgIGNvbnN0IGNvbG9yID0gc2VsZWN0ZWRPcHRpb24/LmRhdGFzZXQ/LmNvbG9yIHx8ICcjZmZmZmZmJztcbiAgICAgICAgY29uc3QgY29sb3JQcmV2aWV3ID0gdGFyZ2V0LmNsb3Nlc3QoJy5yZWxhdGl2ZScpPy5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xvci1wcmV2aWV3XScpO1xuICAgICAgICBpZiAoY29sb3JQcmV2aWV3KSB7XG4gICAgICAgICAgaWYgKGNvbG9yID09PSAndHJhbnNwYXJlbnQnKSB7XG4gICAgICAgICAgICBjb2xvclByZXZpZXcuc3R5bGUuYmFja2dyb3VuZCA9ICdyZXBlYXRpbmctY29uaWMtZ3JhZGllbnQoI2NjYyAwJSAyNSUsIHdoaXRlIDAlIDUwJSkgNTAlIC8gOHB4IDhweCc7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbG9yUHJldmlldy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBjb2xvcjtcbiAgICAgICAgICAgIGNvbG9yUHJldmlldy5zdHlsZS5iYWNrZ3JvdW5kID0gJyc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb25zdCBwYW5lbCA9IHRhcmdldC5jbG9zZXN0KCdbZGF0YS1ibG9jay1wYW5lbF0nKTtcbiAgICAgIGlmIChwYW5lbCAmJiBwYW5lbC5kYXRhc2V0LmJsb2NrUGFuZWwgPT09ICdhcHBlYXJhbmNlJykge1xuICAgICAgICBjb25zdCBibG9jayA9IGdldEFjdGl2ZUJsb2NrKCk7XG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IGdldEJsb2NrRm9ybUNvbmZpZyhibG9jayk7XG4gICAgICAgIGlmIChibG9jayAmJiBjb25maWcpIHtcbiAgICAgICAgICBjb25zdCB2YWx1ZXMgPSBjb2xsZWN0Rm9ybVZhbHVlcyhjb25maWcpO1xuICAgICAgICAgIGhhbmRsZUFwcGVhcmFuY2VDaGFuZ2UoYmxvY2suaWQsIHZhbHVlcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICBjb2xsZWN0aW9uU2VsZWN0Py5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICAgIHN5bmNDb2xsZWN0aW9uU2VsZWN0aW9uSW5mbyh0YXJnZXQ/LnZhbHVlIHx8ICcnKTtcbiAgICB9KTtcbiAgICBibG9ja0Zvcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGhhbmRsZUJsb2NrRm9ybVN1Ym1pdCk7XG4gICAgYmxvY2tGb3JtQ2FuY2VsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGNvbnN0IGJsb2NrID0gZ2V0QWN0aXZlQmxvY2soKTtcbiAgICAgIGlmIChibG9jaykge1xuICAgICAgICBwb3B1bGF0ZUJsb2NrRm9ybShibG9jayk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcHJldmlld0ZyYW1lPy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xuICAgICAgcHJldmlld1JlYWR5ID0gdHJ1ZTtcbiAgICAgIHVwZGF0ZVByZXZpZXdTdGF0dXMoJ1x1MDBDMCBqb3VyJyk7XG4gICAgICBhcHBseVByZXZpZXdIaWdobGlnaHQoYWN0aXZlQmxvY2tJZCk7XG4gICAgfSk7XG4gICAgcHJldmlld09wZW5CdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgcHJldmlld1dpbmRvdyA9IHdpbmRvdy5vcGVuKCcnLCAnX2JsYW5rJyk7XG4gICAgICBpZiAoIXByZXZpZXdXaW5kb3cpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcHJldmlld1dpbmRvdy5vcGVuZXIgPSBudWxsO1xuICAgICAgY29uc3QgZG9jID0gcHJldmlld1dpbmRvdy5kb2N1bWVudDtcbiAgICAgIGRvYy5vcGVuKCk7XG4gICAgICBkb2Mud3JpdGUobGF0ZXN0UHJldmlld0h0bWwgfHwgZ2V0TG9hZGluZ1ByZXZpZXdIdG1sKCkpO1xuICAgICAgZG9jLmNsb3NlKCk7XG4gICAgfSk7XG5cbiAgICAvLyBTRU8gcGFuZWwgbG9naWNcbiAgICBjb25zdCB0b2dnbGVTZW9QYW5lbCA9IChzaG93KSA9PiB7XG4gICAgICBpZiAoIXNlb1BhbmVsKSByZXR1cm47XG4gICAgICBpZiAoc2hvdykge1xuICAgICAgICBzZW9QYW5lbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgLy8gUG9wdWxhdGUgZmllbGRzIHdpdGggY3VycmVudCBwYWdlIFNFTyBkYXRhXG4gICAgICAgIGlmIChjdXJyZW50UGFnZSkge1xuICAgICAgICAgIHNlb1RpdGxlSW5wdXQgJiYgKHNlb1RpdGxlSW5wdXQudmFsdWUgPSBjdXJyZW50UGFnZS5zZW8/LnRpdGxlIHx8ICcnKTtcbiAgICAgICAgICBzZW9EZXNjcmlwdGlvbklucHV0ICYmIChzZW9EZXNjcmlwdGlvbklucHV0LnZhbHVlID0gY3VycmVudFBhZ2Uuc2VvPy5kZXNjcmlwdGlvbiB8fCAnJyk7XG4gICAgICAgICAgLy8gaW5kZXhlZDogdHJ1ZSBieSBkZWZhdWx0IGlmIG5vdCBleHBsaWNpdGx5IHNldCB0byBmYWxzZVxuICAgICAgICAgIHNlb0luZGV4ZWRDaGVja2JveCAmJiAoc2VvSW5kZXhlZENoZWNrYm94LmNoZWNrZWQgPSBjdXJyZW50UGFnZS5zZW8/LmluZGV4ZWQgIT09IGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2VvUGFuZWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBzZXRTZW9GZWVkYmFjayA9IChtZXNzYWdlLCB0b25lID0gJ211dGVkJykgPT4ge1xuICAgICAgaWYgKCFzZW9GZWVkYmFjaykgcmV0dXJuO1xuICAgICAgY29uc3QgY29sb3IgPSB0b25lID09PSAnc3VjY2VzcycgPyAndGV4dC1lbWVyYWxkLTYwMCcgOiB0b25lID09PSAnZXJyb3InID8gJ3RleHQtcm9zZS02MDAnIDogJ3RleHQtc2xhdGUtNTAwJztcbiAgICAgIHNlb0ZlZWRiYWNrLnRleHRDb250ZW50ID0gbWVzc2FnZSB8fCAnJztcbiAgICAgIHNlb0ZlZWRiYWNrLmNsYXNzTmFtZSA9IGB0ZXh0LXNtICR7Y29sb3J9YDtcbiAgICB9O1xuICAgIHNlb1RvZ2dsZUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBpc1Zpc2libGUgPSBzZW9QYW5lbCAmJiAhc2VvUGFuZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdoaWRkZW4nKTtcbiAgICAgIHRvZ2dsZVNlb1BhbmVsKCFpc1Zpc2libGUpO1xuICAgIH0pO1xuICAgIHNlb0Nsb3NlQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRvZ2dsZVNlb1BhbmVsKGZhbHNlKSk7XG4gICAgc2VvRm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSkge1xuICAgICAgICBzZXRTZW9GZWVkYmFjaygnQXVjdW5lIHBhZ2UgYWN0aXZlLicsICdlcnJvcicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZW9TYXZlQnV0dG9uICYmIChzZW9TYXZlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZSk7XG4gICAgICBzZXRTZW9GZWVkYmFjaygnJyk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBzZW9EYXRhID0ge1xuICAgICAgICAgIHRpdGxlOiAoc2VvVGl0bGVJbnB1dD8udmFsdWUgfHwgJycpLnRyaW0oKSxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogKHNlb0Rlc2NyaXB0aW9uSW5wdXQ/LnZhbHVlIHx8ICcnKS50cmltKCksXG4gICAgICAgICAgaW5kZXhlZDogc2VvSW5kZXhlZENoZWNrYm94Py5jaGVja2VkID8/IHRydWUsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRQYWdlID0geyAuLi5jdXJyZW50UGFnZSwgc2VvOiBzZW9EYXRhIH07XG4gICAgICAgIGNvbnN0IHNhdmVkID0gYXdhaXQgc2F2ZVBhZ2VUb1NlcnZlcih1cGRhdGVkUGFnZSk7XG4gICAgICAgIGlmIChzYXZlZCkge1xuICAgICAgICAgIGN1cnJlbnRQYWdlID0gc2F2ZWQ7XG4gICAgICAgICAgc2V0U2VvRmVlZGJhY2soJ1NFTyBlbnJlZ2lzdHJcdTAwRTkuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgICBzaG93VG9hc3QoJ1NFTyBtaXMgXHUwMEUwIGpvdXInKTtcbiAgICAgICAgICByZWZyZXNoUHJldmlldyhjdXJyZW50UGFnZSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbc2VvXSBzYXZlIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNldFNlb0ZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsYSBzYXV2ZWdhcmRlLicsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2VvU2F2ZUJ1dHRvbiAmJiAoc2VvU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGNvbnN0IHN5bmNQYWdlQWNjZXNzaWJpbGl0eUZpZWxkcyA9ICgpID0+IHtcbiAgICAgIGlmICghcGFnZUFjY2Vzc2liaWxpdHlOYXZDaGVja2JveCAmJiAhcGFnZUFjY2Vzc2liaWxpdHlNYWluSW5wdXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFjdXJyZW50UGFnZSkge1xuICAgICAgICBwYWdlQWNjZXNzaWJpbGl0eU5hdkNoZWNrYm94ICYmIChwYWdlQWNjZXNzaWJpbGl0eU5hdkNoZWNrYm94LmNoZWNrZWQgPSB0cnVlKTtcbiAgICAgICAgcGFnZUFjY2Vzc2liaWxpdHlNYWluSW5wdXQgJiYgKHBhZ2VBY2Nlc3NpYmlsaXR5TWFpbklucHV0LnZhbHVlID0gJycpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAocGFnZUFjY2Vzc2liaWxpdHlOYXZDaGVja2JveCkge1xuICAgICAgICBwYWdlQWNjZXNzaWJpbGl0eU5hdkNoZWNrYm94LmNoZWNrZWQgPVxuICAgICAgICAgIGN1cnJlbnRQYWdlLmFjY2Vzc2liaWxpdHk/LnNob3dJbk1haW5OYXYgIT09IGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKHBhZ2VBY2Nlc3NpYmlsaXR5TWFpbklucHV0KSB7XG4gICAgICAgIHBhZ2VBY2Nlc3NpYmlsaXR5TWFpbklucHV0LnZhbHVlID0gY3VycmVudFBhZ2UuYWNjZXNzaWJpbGl0eT8ubWFpbkxhYmVsIHx8ICcnO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCB0b2dnbGVQYWdlQWNjZXNzaWJpbGl0eVBhbmVsID0gKHNob3cpID0+IHtcbiAgICAgIGlmICghcGFnZUFjY2Vzc2liaWxpdHlQYW5lbCkgcmV0dXJuO1xuICAgICAgaWYgKHNob3cpIHtcbiAgICAgICAgc3luY1BhZ2VBY2Nlc3NpYmlsaXR5RmllbGRzKCk7XG4gICAgICAgIHBhZ2VBY2Nlc3NpYmlsaXR5UGFuZWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYWdlQWNjZXNzaWJpbGl0eVBhbmVsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBzZXRQYWdlQWNjZXNzaWJpbGl0eUZlZWRiYWNrID0gKG1lc3NhZ2UsIHRvbmUgPSAnbXV0ZWQnKSA9PiB7XG4gICAgICBpZiAoIXBhZ2VBY2Nlc3NpYmlsaXR5RmVlZGJhY2spIHJldHVybjtcbiAgICAgIGNvbnN0IGNvbG9yID1cbiAgICAgICAgdG9uZSA9PT0gJ3N1Y2Nlc3MnXG4gICAgICAgICAgPyAndGV4dC1lbWVyYWxkLTYwMCdcbiAgICAgICAgICA6IHRvbmUgPT09ICdlcnJvcidcbiAgICAgICAgICAgID8gJ3RleHQtcm9zZS02MDAnXG4gICAgICAgICAgICA6ICd0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICBwYWdlQWNjZXNzaWJpbGl0eUZlZWRiYWNrLnRleHRDb250ZW50ID0gbWVzc2FnZSB8fCAnJztcbiAgICAgIHBhZ2VBY2Nlc3NpYmlsaXR5RmVlZGJhY2suY2xhc3NOYW1lID0gYHRleHQtc20gJHtjb2xvcn1gO1xuICAgIH07XG5cbiAgICBwYWdlQWNjZXNzaWJpbGl0eVRvZ2dsZUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBpc1Zpc2libGUgPVxuICAgICAgICBwYWdlQWNjZXNzaWJpbGl0eVBhbmVsICYmICFwYWdlQWNjZXNzaWJpbGl0eVBhbmVsLmNsYXNzTGlzdC5jb250YWlucygnaGlkZGVuJyk7XG4gICAgICB0b2dnbGVQYWdlQWNjZXNzaWJpbGl0eVBhbmVsKCFpc1Zpc2libGUpO1xuICAgIH0pO1xuICAgIHBhZ2VBY2Nlc3NpYmlsaXR5Q2xvc2VCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT5cbiAgICAgIHRvZ2dsZVBhZ2VBY2Nlc3NpYmlsaXR5UGFuZWwoZmFsc2UpLFxuICAgICk7XG5cbiAgICBwYWdlQWNjZXNzaWJpbGl0eUZvcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmICghY3VycmVudFBhZ2UpIHtcbiAgICAgICAgc2V0UGFnZUFjY2Vzc2liaWxpdHlGZWVkYmFjaygnQXVjdW5lIHBhZ2UgYWN0aXZlLicsICdlcnJvcicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwYWdlQWNjZXNzaWJpbGl0eVNhdmVCdXR0b24gJiYgKHBhZ2VBY2Nlc3NpYmlsaXR5U2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWUpO1xuICAgICAgc2V0UGFnZUFjY2Vzc2liaWxpdHlGZWVkYmFjaygnJyk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBhY2Nlc3NpYmlsaXR5RGF0YSA9IHtcbiAgICAgICAgICBzaG93SW5NYWluTmF2OiBwYWdlQWNjZXNzaWJpbGl0eU5hdkNoZWNrYm94Py5jaGVja2VkID8/IHRydWUsXG4gICAgICAgICAgbWFpbkxhYmVsOiAocGFnZUFjY2Vzc2liaWxpdHlNYWluSW5wdXQ/LnZhbHVlIHx8ICcnKS50cmltKCksXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRQYWdlID0ge1xuICAgICAgICAgIC4uLmN1cnJlbnRQYWdlLFxuICAgICAgICAgIGFjY2Vzc2liaWxpdHk6IGFjY2Vzc2liaWxpdHlEYXRhLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBzYXZlZCA9IGF3YWl0IHNhdmVQYWdlVG9TZXJ2ZXIodXBkYXRlZFBhZ2UpO1xuICAgICAgICBpZiAoc2F2ZWQpIHtcbiAgICAgICAgICBjdXJyZW50UGFnZSA9IHNhdmVkO1xuICAgICAgICAgIHN5bmNQYWdlQWNjZXNzaWJpbGl0eUZpZWxkcygpO1xuICAgICAgICAgIHNldFBhZ2VBY2Nlc3NpYmlsaXR5RmVlZGJhY2soJ0FjY2Vzc2liaWxpdFx1MDBFOSBlbnJlZ2lzdHJcdTAwRTllLicsICdzdWNjZXNzJyk7XG4gICAgICAgICAgc2hvd1RvYXN0KCdBY2Nlc3NpYmlsaXRcdTAwRTkgbWlzZSBcdTAwRTAgam91cicpO1xuICAgICAgICAgIHJlbmRlclBhZ2VMaXN0cyhwYWdlcywgYWN0aXZlUGFnZUlkKTtcbiAgICAgICAgICByZWZyZXNoUHJldmlldyhjdXJyZW50UGFnZSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbYWNjZXNzaWJpbGl0eV0gc2F2ZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzZXRQYWdlQWNjZXNzaWJpbGl0eUZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsYSBzYXV2ZWdhcmRlLicsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgcGFnZUFjY2Vzc2liaWxpdHlTYXZlQnV0dG9uICYmIChwYWdlQWNjZXNzaWJpbGl0eVNhdmVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBQYWdlIHByb3BlcnRpZXMgcGFuZWwgbG9naWNcbiAgICBjb25zdCB0b2dnbGVQYWdlUHJvcHNQYW5lbCA9IChzaG93KSA9PiB7XG4gICAgICBpZiAoIXBhZ2VQcm9wc1BhbmVsKSByZXR1cm47XG4gICAgICBpZiAoc2hvdykge1xuICAgICAgICBwYWdlUHJvcHNQYW5lbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgLy8gUG9wdWxhdGUgZmllbGRzIHdpdGggY3VycmVudCBwYWdlIGRhdGFcbiAgICAgICAgaWYgKGN1cnJlbnRQYWdlKSB7XG4gICAgICAgICAgcGFnZU5hbWVJbnB1dCAmJiAocGFnZU5hbWVJbnB1dC52YWx1ZSA9IGN1cnJlbnRQYWdlLm5hbWUgfHwgJycpO1xuICAgICAgICAgIHBhZ2VUaXRsZUlucHV0ICYmIChwYWdlVGl0bGVJbnB1dC52YWx1ZSA9IGN1cnJlbnRQYWdlLnRpdGxlIHx8ICcnKTtcbiAgICAgICAgICBwYWdlU2x1Z0lucHV0ICYmIChwYWdlU2x1Z0lucHV0LnZhbHVlID0gY3VycmVudFBhZ2Uuc2x1ZyB8fCAnJyk7XG4gICAgICAgICAgcGFnZURlc2NyaXB0aW9uSW5wdXQgJiYgKHBhZ2VEZXNjcmlwdGlvbklucHV0LnZhbHVlID0gY3VycmVudFBhZ2UuZGVzY3JpcHRpb24gfHwgJycpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYWdlUHJvcHNQYW5lbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHNldFBhZ2VQcm9wc0ZlZWRiYWNrID0gKG1lc3NhZ2UsIHRvbmUgPSAnbXV0ZWQnKSA9PiB7XG4gICAgICBpZiAoIXBhZ2VQcm9wc0ZlZWRiYWNrKSByZXR1cm47XG4gICAgICBjb25zdCBjb2xvciA9IHRvbmUgPT09ICdzdWNjZXNzJyA/ICd0ZXh0LWVtZXJhbGQtNjAwJyA6IHRvbmUgPT09ICdlcnJvcicgPyAndGV4dC1yb3NlLTYwMCcgOiAndGV4dC1zbGF0ZS01MDAnO1xuICAgICAgcGFnZVByb3BzRmVlZGJhY2sudGV4dENvbnRlbnQgPSBtZXNzYWdlIHx8ICcnO1xuICAgICAgcGFnZVByb3BzRmVlZGJhY2suY2xhc3NOYW1lID0gYHRleHQtc20gJHtjb2xvcn1gO1xuICAgIH07XG4gICAgcGFnZVByb3BzVG9nZ2xlQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IGlzVmlzaWJsZSA9IHBhZ2VQcm9wc1BhbmVsICYmICFwYWdlUHJvcHNQYW5lbC5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpO1xuICAgICAgdG9nZ2xlUGFnZVByb3BzUGFuZWwoIWlzVmlzaWJsZSk7XG4gICAgfSk7XG4gICAgcGFnZVByb3BzQ2xvc2VCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdG9nZ2xlUGFnZVByb3BzUGFuZWwoZmFsc2UpKTtcbiAgICBwYWdlUHJvcHNGb3JtPy5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlKSB7XG4gICAgICAgIHNldFBhZ2VQcm9wc0ZlZWRiYWNrKCdBdWN1bmUgcGFnZSBhY3RpdmUuJywgJ2Vycm9yJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHBhZ2VQcm9wc1NhdmVCdXR0b24gJiYgKHBhZ2VQcm9wc1NhdmVCdXR0b24uZGlzYWJsZWQgPSB0cnVlKTtcbiAgICAgIHNldFBhZ2VQcm9wc0ZlZWRiYWNrKCcnKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IG5ld05hbWUgPSAocGFnZU5hbWVJbnB1dD8udmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgICAgY29uc3QgbmV3VGl0bGUgPSAocGFnZVRpdGxlSW5wdXQ/LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICAgIGNvbnN0IG5ld1NsdWcgPSAocGFnZVNsdWdJbnB1dD8udmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgICAgY29uc3QgbmV3RGVzY3JpcHRpb24gPSAocGFnZURlc2NyaXB0aW9uSW5wdXQ/LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICAgIFxuICAgICAgICAvLyBWYWxpZGF0aW9uIGJhc2lxdWVcbiAgICAgICAgaWYgKCFuZXdUaXRsZSkge1xuICAgICAgICAgIHNldFBhZ2VQcm9wc0ZlZWRiYWNrKCdMZSB0aXRyZSBlc3QgcmVxdWlzLicsICdlcnJvcicpO1xuICAgICAgICAgIHBhZ2VQcm9wc1NhdmVCdXR0b24gJiYgKHBhZ2VQcm9wc1NhdmVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghbmV3U2x1ZyB8fCAhbmV3U2x1Zy5zdGFydHNXaXRoKCcvJykpIHtcbiAgICAgICAgICBzZXRQYWdlUHJvcHNGZWVkYmFjaygnTGUgc2x1ZyBkb2l0IGNvbW1lbmNlciBwYXIgLy4nLCAnZXJyb3InKTtcbiAgICAgICAgICBwYWdlUHJvcHNTYXZlQnV0dG9uICYmIChwYWdlUHJvcHNTYXZlQnV0dG9uLmRpc2FibGVkID0gZmFsc2UpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgY29uc3QgdXBkYXRlZFBhZ2UgPSB7XG4gICAgICAgICAgLi4uY3VycmVudFBhZ2UsXG4gICAgICAgICAgbmFtZTogbmV3TmFtZSB8fCBuZXdUaXRsZSwgLy8gRmFsbGJhY2sgdG8gdGl0bGUgaWYgbmFtZSBpcyBlbXB0eVxuICAgICAgICAgIHRpdGxlOiBuZXdUaXRsZSxcbiAgICAgICAgICBzbHVnOiBuZXdTbHVnLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBuZXdEZXNjcmlwdGlvbixcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3Qgc2F2ZWQgPSBhd2FpdCBzYXZlUGFnZVRvU2VydmVyKHVwZGF0ZWRQYWdlKTtcbiAgICAgICAgaWYgKHNhdmVkKSB7XG4gICAgICAgICAgY3VycmVudFBhZ2UgPSBzYXZlZDtcbiAgICAgICAgICAvLyBVcGRhdGUgcGFnZXMgYXJyYXlcbiAgICAgICAgICBwYWdlcyA9IHBhZ2VzLm1hcCgocCkgPT4gKHAuaWQgPT09IHNhdmVkLmlkID8gc2F2ZWQgOiBwKSk7XG4gICAgICAgICAgc2V0UGFnZVByb3BzRmVlZGJhY2soJ1Byb3ByaVx1MDBFOXRcdTAwRTlzIGVucmVnaXN0clx1MDBFOWVzLicsICdzdWNjZXNzJyk7XG4gICAgICAgICAgc2hvd1RvYXN0KCdQYWdlIG1pc2UgXHUwMEUwIGpvdXInKTtcbiAgICAgICAgICAvLyBVcGRhdGUgVUlcbiAgICAgICAgICBzZXRBY3RpdmVMYWJlbHMoY3VycmVudFBhZ2UpO1xuICAgICAgICAgIHJlbmRlclBhZ2VMaXN0cyhwYWdlcywgYWN0aXZlUGFnZUlkKTtcbiAgICAgICAgICByZWZyZXNoUHJldmlldyhjdXJyZW50UGFnZSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbcGFnZS1wcm9wc10gc2F2ZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzZXRQYWdlUHJvcHNGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZGUgbGEgc2F1dmVnYXJkZS4nLCAnZXJyb3InKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHBhZ2VQcm9wc1NhdmVCdXR0b24gJiYgKHBhZ2VQcm9wc1NhdmVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBjb25zdCBoYW5kbGVCbG9ja0RyYWdTdGFydCA9IChldmVudCkgPT4ge1xuICAgICAgY29uc3QgaXRlbSA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCdbZGF0YS1ibG9jay1pdGVtXScpO1xuICAgICAgaWYgKCFpdGVtIHx8ICFpc0Rlc2t0b3BSZW9yZGVyKCkpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZHJhZ1NvdXJjZUlkID0gaXRlbS5kYXRhc2V0LmJsb2NrSWQgfHwgbnVsbDtcbiAgICAgIGlmICghZHJhZ1NvdXJjZUlkKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGV2ZW50LmRhdGFUcmFuc2Zlci5lZmZlY3RBbGxvd2VkID0gJ21vdmUnO1xuICAgICAgZXZlbnQuZGF0YVRyYW5zZmVyLnNldERhdGEoJ3RleHQvcGxhaW4nLCBkcmFnU291cmNlSWQpO1xuICAgICAgLy8gU3R5bGUgZHUgYmxvYyBlbiBjb3VycyBkZSBkcmFnXG4gICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICBpdGVtLmNsYXNzTGlzdC5hZGQoJ29wYWNpdHktNTAnLCAnc2NhbGUtWzAuOThdJywgJ3NoYWRvdy1sZycsICdyaW5nLTInLCAncmluZy1bIzlDNkJGRl0nKTtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgY29uc3QgY2xlYXJEcmFnSW5kaWNhdG9ycyA9ICgpID0+IHtcbiAgICAgIGJsb2NrTGlzdFxuICAgICAgICA/LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWJsb2NrLWl0ZW1dJylcbiAgICAgICAgLmZvckVhY2goKG5vZGUpID0+IHtcbiAgICAgICAgICBub2RlLmNsYXNzTGlzdC5yZW1vdmUoXG4gICAgICAgICAgICAnb3BhY2l0eS01MCcsICdzY2FsZS1bMC45OF0nLCAnc2hhZG93LWxnJywgJ3JpbmctMicsICdyaW5nLVsjOUM2QkZGXScsXG4gICAgICAgICAgICAnYm9yZGVyLXQtNCcsICdib3JkZXItYi00JywgJ2JvcmRlci10LVsjOUM2QkZGXScsICdib3JkZXItYi1bIzlDNkJGRl0nLFxuICAgICAgICAgICAgJ3B0LTYnLCAncGItNidcbiAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZUJsb2NrRHJhZ0VuZCA9ICgpID0+IHtcbiAgICAgIGRyYWdTb3VyY2VJZCA9IG51bGw7XG4gICAgICBjbGVhckRyYWdJbmRpY2F0b3JzKCk7XG4gICAgfTtcbiAgICBjb25zdCBoYW5kbGVCbG9ja0RyYWdPdmVyID0gKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoIWRyYWdTb3VyY2VJZCB8fCAhaXNEZXNrdG9wUmVvcmRlcigpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCdbZGF0YS1ibG9jay1pdGVtXScpO1xuICAgICAgaWYgKCF0YXJnZXQgfHwgdGFyZ2V0LmRhdGFzZXQuYmxvY2tJZCA9PT0gZHJhZ1NvdXJjZUlkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBldmVudC5kYXRhVHJhbnNmZXIuZHJvcEVmZmVjdCA9ICdtb3ZlJztcbiAgICAgIC8vIERcdTAwRTl0ZXJtaW5lIHNpIG9uIGRyb3AgYXZhbnQgb3UgYXByXHUwMEU4c1xuICAgICAgY29uc3QgcmVjdCA9IHRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIGNvbnN0IG1pZFkgPSByZWN0LnRvcCArIHJlY3QuaGVpZ2h0IC8gMjtcbiAgICAgIGNvbnN0IGlzQWJvdmUgPSBldmVudC5jbGllbnRZIDwgbWlkWTtcbiAgICAgIC8vIE5ldHRvaWUgbGVzIGF1dHJlcyBpbmRpY2F0ZXVyc1xuICAgICAgYmxvY2tMaXN0Py5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1ibG9jay1pdGVtXScpLmZvckVhY2goKG5vZGUpID0+IHtcbiAgICAgICAgaWYgKG5vZGUgIT09IHRhcmdldCAmJiBub2RlLmRhdGFzZXQuYmxvY2tJZCAhPT0gZHJhZ1NvdXJjZUlkKSB7XG4gICAgICAgICAgbm9kZS5jbGFzc0xpc3QucmVtb3ZlKCdib3JkZXItdC00JywgJ2JvcmRlci1iLTQnLCAnYm9yZGVyLXQtWyM5QzZCRkZdJywgJ2JvcmRlci1iLVsjOUM2QkZGXScsICdwdC02JywgJ3BiLTYnKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICAvLyBBcHBsaXF1ZSBsJ2luZGljYXRldXIgZGUgcG9zaXRpb25cbiAgICAgIHRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKCdib3JkZXItdC00JywgJ2JvcmRlci1iLTQnLCAnYm9yZGVyLXQtWyM5QzZCRkZdJywgJ2JvcmRlci1iLVsjOUM2QkZGXScsICdwdC02JywgJ3BiLTYnKTtcbiAgICAgIGlmIChpc0Fib3ZlKSB7XG4gICAgICAgIHRhcmdldC5jbGFzc0xpc3QuYWRkKCdib3JkZXItdC00JywgJ2JvcmRlci10LVsjOUM2QkZGXScsICdwdC02Jyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0YXJnZXQuY2xhc3NMaXN0LmFkZCgnYm9yZGVyLWItNCcsICdib3JkZXItYi1bIzlDNkJGRl0nLCAncGItNicpO1xuICAgICAgfVxuICAgICAgdGFyZ2V0LmRhdGFzZXQuZHJvcFBvc2l0aW9uID0gaXNBYm92ZSA/ICdiZWZvcmUnIDogJ2FmdGVyJztcbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZUJsb2NrRHJhZ0xlYXZlID0gKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQuY2xvc2VzdCgnW2RhdGEtYmxvY2staXRlbV0nKTtcbiAgICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vIFZcdTAwRTlyaWZpZSBzaSBvbiBxdWl0dGUgdnJhaW1lbnQgbCdcdTAwRTlsXHUwMEU5bWVudCAocGFzIGp1c3RlIHZlcnMgdW4gZW5mYW50KVxuICAgICAgY29uc3QgcmVsYXRlZFRhcmdldCA9IGV2ZW50LnJlbGF0ZWRUYXJnZXQ7XG4gICAgICBpZiAocmVsYXRlZFRhcmdldCAmJiB0YXJnZXQuY29udGFpbnMocmVsYXRlZFRhcmdldCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoJ2JvcmRlci10LTQnLCAnYm9yZGVyLWItNCcsICdib3JkZXItdC1bIzlDNkJGRl0nLCAnYm9yZGVyLWItWyM5QzZCRkZdJywgJ3B0LTYnLCAncGItNicpO1xuICAgICAgZGVsZXRlIHRhcmdldC5kYXRhc2V0LmRyb3BQb3NpdGlvbjtcbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZUJsb2NrRHJvcCA9IChldmVudCkgPT4ge1xuICAgICAgaWYgKCFkcmFnU291cmNlSWQgfHwgIWlzRGVza3RvcFJlb3JkZXIoKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLWJsb2NrLWl0ZW1dJyk7XG4gICAgICBjb25zdCBzb3VyY2UgPSBkcmFnU291cmNlSWQ7XG4gICAgICBjb25zdCBkcm9wUG9zaXRpb24gPSB0YXJnZXQ/LmRhdGFzZXQuZHJvcFBvc2l0aW9uIHx8ICdhZnRlcic7XG4gICAgICBkcmFnU291cmNlSWQgPSBudWxsO1xuICAgICAgY2xlYXJEcmFnSW5kaWNhdG9ycygpO1xuICAgICAgY29uc3QgdGFyZ2V0SWQgPSB0YXJnZXQ/LmRhdGFzZXQuYmxvY2tJZCB8fCBudWxsO1xuICAgICAgaWYgKCF0YXJnZXRJZCB8fCBzb3VyY2UgPT09IHRhcmdldElkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHJlb3JkZXJCbG9ja3NXaXRoUG9zaXRpb24oc291cmNlLCB0YXJnZXRJZCwgZHJvcFBvc2l0aW9uKTtcbiAgICB9O1xuICAgIGxldCBkcmFnU291cmNlSWQgPSBudWxsO1xuICAgIGJsb2NrTGlzdD8uYWRkRXZlbnRMaXN0ZW5lcignZHJhZ3N0YXJ0JywgaGFuZGxlQmxvY2tEcmFnU3RhcnQpO1xuICAgIGJsb2NrTGlzdD8uYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2VuZCcsIGhhbmRsZUJsb2NrRHJhZ0VuZCk7XG4gICAgYmxvY2tMaXN0Py5hZGRFdmVudExpc3RlbmVyKCdkcmFnb3ZlcicsIGhhbmRsZUJsb2NrRHJhZ092ZXIpO1xuICAgIGJsb2NrTGlzdD8uYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2xlYXZlJywgaGFuZGxlQmxvY2tEcmFnTGVhdmUpO1xuICAgIGJsb2NrTGlzdD8uYWRkRXZlbnRMaXN0ZW5lcignZHJvcCcsIGhhbmRsZUJsb2NrRHJvcCk7XG4gICAgbG9hZFBhZ2VzRnJvbVNlcnZlcigpO1xuXG4gICAgLy8gXHUwMEM5Y291dGVyIGwnXHUwMEU5dlx1MDBFOW5lbWVudCBkZSByYWZyYVx1MDBFRWNoaXNzZW1lbnQgZFx1MDBFOWNsZW5jaFx1MDBFOSBwYXIgbCdJQVxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2FpLXBhZ2UtdXBkYXRlZCcsIGFzeW5jIChlKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZygnW2Rlc2lnbl0gUmFmcmFcdTAwRUVjaGlzc2VtZW50IGRcdTAwRTljbGVuY2hcdTAwRTkgcGFyIElBJywgZS5kZXRhaWwpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gUmVjaGFyZ2VyIGxlcyBwYWdlcyBkZXB1aXMgbGUgc2VydmV1clxuICAgICAgICBjb25zdCBsb2FkZWRQYWdlcyA9IGF3YWl0IGZldGNoUGFnZXNGcm9tU2VydmVyKCk7XG4gICAgICAgIHBhZ2VzID0gKEFycmF5LmlzQXJyYXkobG9hZGVkUGFnZXMpID8gbG9hZGVkUGFnZXMgOiBbXSkubWFwKChwYWdlKSA9PlxuICAgICAgICAgIG5vcm1hbGl6ZVBhZ2VEYXRhKHBhZ2UpLFxuICAgICAgICApO1xuICAgICAgICBcbiAgICAgICAgLy8gVHJvdXZlciBldCBtZXR0cmUgXHUwMEUwIGpvdXIgbGEgcGFnZSBhY3RpdmVcbiAgICAgICAgaWYgKGUuZGV0YWlsPy5wYWdlSWQpIHtcbiAgICAgICAgICBjb25zdCB1cGRhdGVkUGFnZSA9IHBhZ2VzLmZpbmQocCA9PiBwLmlkID09PSBlLmRldGFpbC5wYWdlSWQpO1xuICAgICAgICAgIGlmICh1cGRhdGVkUGFnZSkge1xuICAgICAgICAgICAgY3VycmVudFBhZ2UgPSB1cGRhdGVkUGFnZTtcbiAgICAgICAgICAgIGFjdGl2ZVBhZ2VJZCA9IHVwZGF0ZWRQYWdlLmlkO1xuICAgICAgICAgICAgLy8gUmFmcmFcdTAwRUVjaGlyIGxhIHByZXZpZXcgYXZlYyBsYSBwYWdlIG1pc2UgXHUwMEUwIGpvdXJcbiAgICAgICAgICAgIHJlZnJlc2hQcmV2aWV3KGN1cnJlbnRQYWdlKTtcbiAgICAgICAgICAgIC8vIFJhZnJhXHUwMEVFY2hpciBsYSBsaXN0ZSBkZXMgYmxvY3NcbiAgICAgICAgICAgIHJlbmRlckJsb2NrTGlzdChjdXJyZW50UGFnZSk7XG4gICAgICAgICAgICBzaG93VG9hc3QoJ1BhZ2UgbWlzZSBcdTAwRTAgam91ciBwYXIgbFxcJ0lBJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGFjdGl2ZVBhZ2VJZCkge1xuICAgICAgICAgIC8vIFJhZnJhXHUwMEVFY2hpciBsYSBwYWdlIGFjdGl2ZSBhY3R1ZWxsZVxuICAgICAgICAgIGNvbnN0IGFjdGl2ZVBhZ2UgPSBwYWdlcy5maW5kKHAgPT4gcC5pZCA9PT0gYWN0aXZlUGFnZUlkKTtcbiAgICAgICAgICBpZiAoYWN0aXZlUGFnZSkge1xuICAgICAgICAgICAgY3VycmVudFBhZ2UgPSBhY3RpdmVQYWdlO1xuICAgICAgICAgICAgcmVmcmVzaFByZXZpZXcoY3VycmVudFBhZ2UpO1xuICAgICAgICAgICAgcmVuZGVyQmxvY2tMaXN0KGN1cnJlbnRQYWdlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZGVzaWduXSBFcnJldXIgcmFmcmFcdTAwRUVjaGlzc2VtZW50IElBOicsIGVycik7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBpbml0Q29udGVudFdvcmtzcGFjZSgpIHtcbiAgICBjb25zdCBjb2xsZWN0aW9uTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbGxlY3Rpb24tbGlzdF0nKTtcbiAgICBpZiAoIWNvbGxlY3Rpb25MaXN0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIC8vIFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFxuICAgIC8vIEhFQURFUiAmIEZPT1RFUiBNQU5BR0VNRU5UXG4gICAgLy8gXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXG4gICAgY29uc3QgY29udGVudFZpZXdzID0ge1xuICAgICAgZW1wdHk6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbnRlbnQtdmlldz1cImVtcHR5XCJdJyksXG4gICAgICBoZWFkZXI6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbnRlbnQtdmlldz1cImhlYWRlclwiXScpLFxuICAgICAgY29sbGVjdGlvbjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29udGVudC12aWV3PVwiY29sbGVjdGlvblwiXScpLFxuICAgICAgZm9vdGVyOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb250ZW50LXZpZXc9XCJmb290ZXJcIl0nKSxcbiAgICB9O1xuICAgIGNvbnN0IGNvbnRlbnRTZWN0aW9uQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWNvbnRlbnQtc2VjdGlvbl0nKTtcbiAgICBjb25zdCBjb250ZW50U2VjdGlvblRyaWdnZXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtY29udGVudC1zZWN0aW9uLXRyaWdnZXJdJyk7XG4gICAgY29uc3QgY29udGVudERyYXdlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbnRlbnQtZHJhd2VyXScpO1xuICAgIGNvbnN0IGNvbnRlbnREcmF3ZXJCYWNrZHJvcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbnRlbnQtZHJhd2VyLWJhY2tkcm9wXScpO1xuICAgIGNvbnN0IGNvbnRlbnREcmF3ZXJPcGVuQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWNvbnRlbnQtZHJhd2VyLW9wZW5dJyk7XG4gICAgY29uc3QgY29udGVudERyYXdlckNsb3NlQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWNvbnRlbnQtZHJhd2VyLWNsb3NlXScpO1xuICAgIGNvbnN0IGhlYWRlclN0YXR1c0luZGljYXRvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWhlYWRlci1zdGF0dXNdJyk7XG4gICAgY29uc3QgZm9vdGVyU3RhdHVzSW5kaWNhdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZm9vdGVyLXN0YXR1c10nKTtcbiAgICBjb25zdCBjb2xsZWN0aW9uQ291bnRFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbGxlY3Rpb24tY291bnRdJyk7XG4gICAgXG4gICAgLy8gSGVhZGVyIGZpZWxkc1xuICAgIGNvbnN0IGhlYWRlckZpZWxkcyA9IHtcbiAgICAgIGxvZ286IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaGVhZGVyLWxvZ29cIl0nKSxcbiAgICAgIGxvZ29BbHQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaGVhZGVyLWxvZ28tYWx0XCJdJyksXG4gICAgICBsb2dvVXJsOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImhlYWRlci1sb2dvLXVybFwiXScpLFxuICAgICAgY3RhVGV4dDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJoZWFkZXItY3RhLXRleHRcIl0nKSxcbiAgICAgIGN0YVVybDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJoZWFkZXItY3RhLXVybFwiXScpLFxuICAgICAgY3RhU3R5bGU6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaGVhZGVyLWN0YS1zdHlsZVwiXScpLFxuICAgICAgcG9zaXRpb246IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaGVhZGVyLXBvc2l0aW9uXCJdJyksXG4gICAgICBiZzogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJoZWFkZXItYmdcIl0nKSxcbiAgICB9O1xuICAgIGNvbnN0IGhlYWRlck5hdkxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1oZWFkZXItbmF2LWxpc3RdJyk7XG4gICAgY29uc3QgaGVhZGVyTmF2QWRkQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaGVhZGVyLW5hdi1hZGRdJyk7XG4gICAgY29uc3QgaGVhZGVyU2F2ZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWhlYWRlci1zYXZlXScpO1xuICAgIGNvbnN0IGhlYWRlck5hdkl0ZW1UZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRlbXBsYXRlLWhlYWRlci1uYXYtaXRlbV0nKTtcbiAgICBjb25zdCBoZWFkZXJQYWdlc0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1oZWFkZXItcGFnZXMtbGlzdF0nKTtcbiAgICBsZXQgc2l0ZVBhZ2VzID0gW107IC8vIFBhZ2VzIGR1IHNpdGUgcG91ciBsZXMgY2hlY2tib3hlc1xuICAgIGxldCBzZWxlY3RlZE5hdlBhZ2VzID0gW107IC8vIFBhZ2VzIHNcdTAwRTlsZWN0aW9ublx1MDBFOWVzIHBvdXIgbGUgbWVudSAoYXZlYyBvcmRyZSlcbiAgICBcbiAgICAvLyBGb290ZXIgZmllbGRzXG4gICAgY29uc3QgZm9vdGVyRmllbGRzID0ge1xuICAgICAgbGlua2VkaW46IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZm9vdGVyLXNvY2lhbC1saW5rZWRpblwiXScpLFxuICAgICAgdHdpdHRlcjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJmb290ZXItc29jaWFsLXR3aXR0ZXJcIl0nKSxcbiAgICAgIGluc3RhZ3JhbTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJmb290ZXItc29jaWFsLWluc3RhZ3JhbVwiXScpLFxuICAgICAgZmFjZWJvb2s6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZm9vdGVyLXNvY2lhbC1mYWNlYm9va1wiXScpLFxuICAgICAgeW91dHViZTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJmb290ZXItc29jaWFsLXlvdXR1YmVcIl0nKSxcbiAgICAgIGdpdGh1YjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJmb290ZXItc29jaWFsLWdpdGh1YlwiXScpLFxuICAgICAgY29weXJpZ2h0OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImZvb3Rlci1jb3B5cmlnaHRcIl0nKSxcbiAgICAgIGxlZ2FsVXJsOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImZvb3Rlci1sZWdhbC11cmxcIl0nKSxcbiAgICAgIHByaXZhY3lVcmw6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZm9vdGVyLXByaXZhY3ktdXJsXCJdJyksXG4gICAgICBiZzogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJmb290ZXItYmdcIl0nKSxcbiAgICAgIGNvbHVtbnNDb3VudDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJmb290ZXItY29sdW1ucy1jb3VudFwiXScpLFxuICAgIH07XG4gICAgY29uc3QgZm9vdGVyQ29sdW1uc0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1mb290ZXItY29sdW1ucy1saXN0XScpO1xuICAgIGNvbnN0IGZvb3RlckNvbHVtbkFkZEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWZvb3Rlci1jb2x1bW4tYWRkXScpO1xuICAgIGNvbnN0IGZvb3RlclNhdmVCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1mb290ZXItc2F2ZV0nKTtcbiAgICBjb25zdCBmb290ZXJDb2x1bW5UZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRlbXBsYXRlLWZvb3Rlci1jb2x1bW5dJyk7XG4gICAgY29uc3QgZm9vdGVyTGlua1RlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtdGVtcGxhdGUtZm9vdGVyLWxpbmtdJyk7XG4gICAgXG4gICAgbGV0IGFjdGl2ZUNvbnRlbnRTZWN0aW9uID0gbnVsbDtcbiAgICBsZXQgaGVhZGVyRGF0YSA9IHsgbmF2OiBbXSwgbG9nbzoge30sIGN0YToge30sIHN0eWxlOiB7fSB9O1xuICAgIGxldCBmb290ZXJEYXRhID0geyBjb2x1bW5zOiBbXSwgc29jaWFsczoge30sIGNvcHlyaWdodDogJycsIGxlZ2FsOiB7fSwgc3R5bGU6IHt9IH07XG4gICAgXG4gICAgY29uc3Qgc2FmZVNpdGVTbHVnRm9yTGF5b3V0ID0gc3RyaXBMZWFkaW5nU2xhc2god29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyk7XG4gICAgY29uc3Qgc2x1ZyA9IHNhZmVTaXRlU2x1Z0ZvckxheW91dDsgLy8gQWxpYXMgcG91ciBsZXMgZm9uY3Rpb25zIHF1aSB1dGlsaXNlbnQgc2x1Z1xuICAgIGNvbnN0IGxheW91dEFwaUJhc2UgPSBzYWZlU2l0ZVNsdWdGb3JMYXlvdXQgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWdGb3JMYXlvdXQpfS9sYXlvdXRgIDogbnVsbDtcbiAgICBcbiAgICAvLyBWaWV3IHN3aXRjaGluZ1xuICAgIGNvbnN0IHNob3dDb250ZW50VmlldyA9ICh2aWV3TmFtZSkgPT4ge1xuICAgICAgT2JqZWN0LmVudHJpZXMoY29udGVudFZpZXdzKS5mb3JFYWNoKChbbmFtZSwgZWxdKSA9PiB7XG4gICAgICAgIGlmIChlbCkgZWwuY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZGVuJywgbmFtZSAhPT0gdmlld05hbWUpO1xuICAgICAgfSk7XG4gICAgICBjb250ZW50U2VjdGlvbkJ1dHRvbnMuZm9yRWFjaChidG4gPT4ge1xuICAgICAgICBjb25zdCBzZWN0aW9uID0gYnRuLmRhdGFzZXQuY29udGVudFNlY3Rpb247XG4gICAgICAgIGlmIChzZWN0aW9uID09PSB2aWV3TmFtZSkge1xuICAgICAgICAgIGJ0bi5kYXRhc2V0LmFjdGl2ZSA9ICd0cnVlJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkZWxldGUgYnRuLmRhdGFzZXQuYWN0aXZlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGFjdGl2ZUNvbnRlbnRTZWN0aW9uID0gdmlld05hbWU7XG4gICAgfTtcbiAgICBcbiAgICAvLyBEcmF3ZXIgbWFuYWdlbWVudFxuICAgIGNvbnN0IG9wZW5Db250ZW50RHJhd2VyID0gKCkgPT4ge1xuICAgICAgY29udGVudERyYXdlcj8uY2xhc3NMaXN0LmFkZCgnaXMtb3BlbicpO1xuICAgICAgY29udGVudERyYXdlciAmJiAoY29udGVudERyYXdlci5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWCgwKScpO1xuICAgICAgY29udGVudERyYXdlckJhY2tkcm9wPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnb3ZlcmZsb3ctaGlkZGVuJyk7XG4gICAgfTtcbiAgICBjb25zdCBjbG9zZUNvbnRlbnREcmF3ZXIgPSAoKSA9PiB7XG4gICAgICBjb250ZW50RHJhd2VyPy5jbGFzc0xpc3QucmVtb3ZlKCdpcy1vcGVuJyk7XG4gICAgICBjb250ZW50RHJhd2VyICYmIChjb250ZW50RHJhd2VyLnN0eWxlLnRyYW5zZm9ybSA9ICcnKTtcbiAgICAgIGNvbnRlbnREcmF3ZXJCYWNrZHJvcD8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ292ZXJmbG93LWhpZGRlbicpO1xuICAgIH07XG4gICAgXG4gICAgY29udGVudERyYXdlck9wZW5CdXR0b25zLmZvckVhY2goYnRuID0+IGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5Db250ZW50RHJhd2VyKSk7XG4gICAgY29udGVudERyYXdlckNsb3NlQnV0dG9ucy5mb3JFYWNoKGJ0biA9PiBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZUNvbnRlbnREcmF3ZXIpKTtcbiAgICBjb250ZW50RHJhd2VyQmFja2Ryb3A/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VDb250ZW50RHJhd2VyKTtcbiAgICBcbiAgICAvLyBTZWN0aW9uIGJ1dHRvbiBoYW5kbGVyc1xuICAgIGNvbnRlbnRTZWN0aW9uQnV0dG9ucy5mb3JFYWNoKGJ0biA9PiB7XG4gICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHNlY3Rpb24gPSBidG4uZGF0YXNldC5jb250ZW50U2VjdGlvbjtcbiAgICAgICAgaWYgKHNlY3Rpb24gPT09ICdoZWFkZXInIHx8IHNlY3Rpb24gPT09ICdmb290ZXInKSB7XG4gICAgICAgICAgc2hvd0NvbnRlbnRWaWV3KHNlY3Rpb24pO1xuICAgICAgICB9XG4gICAgICAgIGNsb3NlQ29udGVudERyYXdlcigpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgY29udGVudFNlY3Rpb25UcmlnZ2Vycy5mb3JFYWNoKGJ0biA9PiB7XG4gICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHNlY3Rpb24gPSBidG4uZGF0YXNldC5jb250ZW50U2VjdGlvblRyaWdnZXI7XG4gICAgICAgIGlmIChzZWN0aW9uKSBzaG93Q29udGVudFZpZXcoc2VjdGlvbik7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBcbiAgICAvLyBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcbiAgICAvLyBIRUFERVIgRlVOQ1RJT05TXG4gICAgLy8gXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXG4gICAgXG4gICAgLy8gQ2hhcmdlciBsYSBsaXN0ZSBkZXMgcGFnZXMgZHUgc2l0ZSBwb3VyIGxlcyBjaGVja2JveGVzXG4gICAgY29uc3QgbG9hZFNpdGVQYWdlc0ZvckhlYWRlciA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghc2x1ZyB8fCAhaGVhZGVyUGFnZXNMaXN0KSByZXR1cm47XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL3NpdGVzLyR7c2x1Z30vcGFnZXNgLCB7IGNyZWRlbnRpYWxzOiAnaW5jbHVkZScgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHRocm93IG5ldyBFcnJvcignRXJyZXVyIGNoYXJnZW1lbnQgcGFnZXMnKTtcbiAgICAgICAgc2l0ZVBhZ2VzID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICByZW5kZXJQYWdlQ2hlY2tib3hlcygpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1toZWFkZXJdIGxvYWQgcGFnZXMgZXJyb3InLCBlcnIpO1xuICAgICAgICBoZWFkZXJQYWdlc0xpc3QuaW5uZXJIVE1MID0gJzxwIGNsYXNzPVwidGV4dC14cyB0ZXh0LXJlZC01MDBcIj5FcnJldXIgY2hhcmdlbWVudCBwYWdlczwvcD4nO1xuICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgLy8gQWZmaWNoZXIgbGVzIGNoZWNrYm94ZXMgcG91ciBjaGFxdWUgcGFnZVxuICAgIGNvbnN0IHJlbmRlclBhZ2VDaGVja2JveGVzID0gKCkgPT4ge1xuICAgICAgaWYgKCFoZWFkZXJQYWdlc0xpc3QpIHJldHVybjtcbiAgICAgIGhlYWRlclBhZ2VzTGlzdC5pbm5lckhUTUwgPSAnJztcbiAgICAgIFxuICAgICAgaWYgKHNpdGVQYWdlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgaGVhZGVyUGFnZXNMaXN0LmlubmVySFRNTCA9ICc8cCBjbGFzcz1cInRleHQteHMgdGV4dC1zbGF0ZS00MDAgaXRhbGljXCI+QXVjdW5lIHBhZ2UgZGlzcG9uaWJsZTwvcD4nO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBcbiAgICAgIHNpdGVQYWdlcy5mb3JFYWNoKHBhZ2UgPT4ge1xuICAgICAgICBjb25zdCBwYWdlU2x1ZyA9IHBhZ2Uuc2x1ZyB8fCBwYWdlLmlkO1xuICAgICAgICAvLyBVc2UgcGFnZS5uYW1lIChzaG9ydCBuYW1lKSBpZiBhdmFpbGFibGUsIGZhbGxiYWNrIHRvIHRpdGxlXG4gICAgICAgIGNvbnN0IHBhZ2VEaXNwbGF5TmFtZSA9IHBhZ2UubmFtZSB8fCBwYWdlLnRpdGxlIHx8IHBhZ2VTbHVnO1xuICAgICAgICBjb25zdCBwYWdlVXJsID0gcGFnZVNsdWcgPT09ICdpbmRleCcgPyAnLycgOiBgLyR7cGFnZVNsdWd9YDtcbiAgICAgICAgXG4gICAgICAgIC8vIFZcdTAwRTlyaWZpZXIgc2kgY2V0dGUgcGFnZSBlc3Qgc1x1MDBFOWxlY3Rpb25uXHUwMEU5ZSBkYW5zIGxhIG5hdlxuICAgICAgICBjb25zdCBpc1NlbGVjdGVkID0gc2VsZWN0ZWROYXZQYWdlcy5zb21lKG5hdiA9PiBuYXYudXJsID09PSBwYWdlVXJsKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgICAgICAgbGFiZWwuY2xhc3NOYW1lID0gJ2ZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHB4LTMgcHktMiByb3VuZGVkLWxnIGJvcmRlciBib3JkZXItc2xhdGUtMjAwIGhvdmVyOmJnLXNsYXRlLTUwIGN1cnNvci1wb2ludGVyIHRyYW5zaXRpb24tY29sb3JzJztcbiAgICAgICAgbGFiZWwuaW5uZXJIVE1MID0gYFxuICAgICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuYW1lPVwibmF2LXBhZ2VcIiB2YWx1ZT1cIiR7cGFnZVVybH1cIiBkYXRhLXBhZ2UtdGl0bGU9XCIke3BhZ2VEaXNwbGF5TmFtZX1cIlxuICAgICAgICAgICAgICAgICBjbGFzcz1cInctNCBoLTQgcm91bmRlZCBib3JkZXItc2xhdGUtMzAwIHRleHQtdmlvbGV0LTYwMCBmb2N1czpyaW5nLXZpb2xldC01MDBcIlxuICAgICAgICAgICAgICAgICAke2lzU2VsZWN0ZWQgPyAnY2hlY2tlZCcgOiAnJ30+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJmbGV4LTEgdGV4dC1zbSB0ZXh0LXNsYXRlLTcwMFwiPiR7cGFnZURpc3BsYXlOYW1lfTwvc3Bhbj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQteHMgdGV4dC1zbGF0ZS00MDBcIj4ke3BhZ2VVcmx9PC9zcGFuPlxuICAgICAgICBgO1xuICAgICAgICBcbiAgICAgICAgLy8gTWV0dHJlIFx1MDBFMCBqb3VyIHNlbGVjdGVkTmF2UGFnZXMgcXVhbmQgb24gY29jaGUvZFx1MDBFOWNvY2hlXG4gICAgICAgIGNvbnN0IGNoZWNrYm94ID0gbGFiZWwucXVlcnlTZWxlY3RvcignaW5wdXQnKTtcbiAgICAgICAgY2hlY2tib3guYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICAgICAgICAgIGlmIChjaGVja2JveC5jaGVja2VkKSB7XG4gICAgICAgICAgICAvLyBBam91dGVyIFx1MDBFMCBsYSBsaXN0ZVxuICAgICAgICAgICAgaWYgKCFzZWxlY3RlZE5hdlBhZ2VzLnNvbWUobmF2ID0+IG5hdi51cmwgPT09IHBhZ2VVcmwpKSB7XG4gICAgICAgICAgICAgIHNlbGVjdGVkTmF2UGFnZXMucHVzaCh7IGxhYmVsOiBwYWdlRGlzcGxheU5hbWUsIHVybDogcGFnZVVybCB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gUmV0aXJlciBkZSBsYSBsaXN0ZVxuICAgICAgICAgICAgc2VsZWN0ZWROYXZQYWdlcyA9IHNlbGVjdGVkTmF2UGFnZXMuZmlsdGVyKG5hdiA9PiBuYXYudXJsICE9PSBwYWdlVXJsKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgaGVhZGVyUGFnZXNMaXN0LmFwcGVuZENoaWxkKGxhYmVsKTtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgXG4gICAgY29uc3QgY29sbGVjdEhlYWRlckRhdGEgPSAoKSA9PiB7XG4gICAgICAvLyBDb2xsZWN0ZXIgbGVzIHBhZ2VzIGNvY2hcdTAwRTllcyBkYW5zIGwnb3JkcmUgYWN0dWVsXG4gICAgICBjb25zdCBuYXYgPSBbXTtcbiAgICAgIGhlYWRlclBhZ2VzTGlzdD8ucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbbmFtZT1cIm5hdi1wYWdlXCJdOmNoZWNrZWQnKS5mb3JFYWNoKGNoZWNrYm94ID0+IHtcbiAgICAgICAgY29uc3QgdXJsID0gY2hlY2tib3gudmFsdWU7XG4gICAgICAgIGNvbnN0IGxhYmVsID0gY2hlY2tib3guZGF0YXNldC5wYWdlVGl0bGUgfHwgdXJsO1xuICAgICAgICBuYXYucHVzaCh7IGxhYmVsLCB1cmwgfSk7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbG9nbzoge1xuICAgICAgICAgIHNyYzogaGVhZGVyRmllbGRzLmxvZ28/LnZhbHVlPy50cmltKCkgfHwgJycsXG4gICAgICAgICAgYWx0OiBoZWFkZXJGaWVsZHMubG9nb0FsdD8udmFsdWU/LnRyaW0oKSB8fCAnJyxcbiAgICAgICAgICB1cmw6IGhlYWRlckZpZWxkcy5sb2dvVXJsPy52YWx1ZT8udHJpbSgpIHx8ICcvJyxcbiAgICAgICAgfSxcbiAgICAgICAgbmF2LFxuICAgICAgICBjdGE6IHtcbiAgICAgICAgICB0ZXh0OiBoZWFkZXJGaWVsZHMuY3RhVGV4dD8udmFsdWU/LnRyaW0oKSB8fCAnJyxcbiAgICAgICAgICB1cmw6IGhlYWRlckZpZWxkcy5jdGFVcmw/LnZhbHVlPy50cmltKCkgfHwgJycsXG4gICAgICAgICAgc3R5bGU6IGhlYWRlckZpZWxkcy5jdGFTdHlsZT8udmFsdWUgfHwgJ3ByaW1hcnknLFxuICAgICAgICB9LFxuICAgICAgICBzdHlsZToge1xuICAgICAgICAgIHBvc2l0aW9uOiBoZWFkZXJGaWVsZHMucG9zaXRpb24/LnZhbHVlIHx8ICdzdGF0aWMnLFxuICAgICAgICAgIGJnOiBoZWFkZXJGaWVsZHMuYmc/LnZhbHVlIHx8ICdiZy13aGl0ZScsXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgIH07XG4gICAgXG4gICAgY29uc3QgcG9wdWxhdGVIZWFkZXJGb3JtID0gYXN5bmMgKGRhdGEpID0+IHtcbiAgICAgIGlmICghZGF0YSkgcmV0dXJuO1xuICAgICAgaWYgKGhlYWRlckZpZWxkcy5sb2dvKSBoZWFkZXJGaWVsZHMubG9nby52YWx1ZSA9IGRhdGEubG9nbz8uc3JjIHx8ICcnO1xuICAgICAgaWYgKGhlYWRlckZpZWxkcy5sb2dvQWx0KSBoZWFkZXJGaWVsZHMubG9nb0FsdC52YWx1ZSA9IGRhdGEubG9nbz8uYWx0IHx8ICcnO1xuICAgICAgaWYgKGhlYWRlckZpZWxkcy5sb2dvVXJsKSBoZWFkZXJGaWVsZHMubG9nb1VybC52YWx1ZSA9IGRhdGEubG9nbz8udXJsIHx8ICcvJztcbiAgICAgIGlmIChoZWFkZXJGaWVsZHMuY3RhVGV4dCkgaGVhZGVyRmllbGRzLmN0YVRleHQudmFsdWUgPSBkYXRhLmN0YT8udGV4dCB8fCAnJztcbiAgICAgIGlmIChoZWFkZXJGaWVsZHMuY3RhVXJsKSBoZWFkZXJGaWVsZHMuY3RhVXJsLnZhbHVlID0gZGF0YS5jdGE/LnVybCB8fCAnJztcbiAgICAgIGlmIChoZWFkZXJGaWVsZHMuY3RhU3R5bGUpIGhlYWRlckZpZWxkcy5jdGFTdHlsZS52YWx1ZSA9IGRhdGEuY3RhPy5zdHlsZSB8fCAncHJpbWFyeSc7XG4gICAgICBpZiAoaGVhZGVyRmllbGRzLnBvc2l0aW9uKSBoZWFkZXJGaWVsZHMucG9zaXRpb24udmFsdWUgPSBkYXRhLnN0eWxlPy5wb3NpdGlvbiB8fCAnc3RhdGljJztcbiAgICAgIGlmIChoZWFkZXJGaWVsZHMuYmcpIGhlYWRlckZpZWxkcy5iZy52YWx1ZSA9IGRhdGEuc3R5bGU/LmJnIHx8ICdiZy13aGl0ZSc7XG4gICAgICBcbiAgICAgIC8vIFN0b2NrZXIgbGVzIHBhZ2VzIHNcdTAwRTlsZWN0aW9ublx1MDBFOWVzIHBvdXIgbGVzIGNoZWNrYm94ZXNcbiAgICAgIHNlbGVjdGVkTmF2UGFnZXMgPSBkYXRhLm5hdiB8fCBbXTtcbiAgICAgIFxuICAgICAgLy8gQ2hhcmdlciBsZXMgcGFnZXMgZXQgYWZmaWNoZXIgbGVzIGNoZWNrYm94ZXNcbiAgICAgIGF3YWl0IGxvYWRTaXRlUGFnZXNGb3JIZWFkZXIoKTtcbiAgICAgIFxuICAgICAgLy8gVXBkYXRlIHN0YXR1cyBpbmRpY2F0b3JcbiAgICAgIGNvbnN0IGhhc0RhdGEgPSBkYXRhLmxvZ28/LnNyYyB8fCBkYXRhLm5hdj8ubGVuZ3RoID4gMCB8fCBkYXRhLmN0YT8udGV4dDtcbiAgICAgIGlmIChoZWFkZXJTdGF0dXNJbmRpY2F0b3IpIHtcbiAgICAgICAgaGVhZGVyU3RhdHVzSW5kaWNhdG9yLmNsYXNzTGlzdC50b2dnbGUoJ2JnLWdyZWVuLTUwMCcsICEhaGFzRGF0YSk7XG4gICAgICAgIGhlYWRlclN0YXR1c0luZGljYXRvci5jbGFzc0xpc3QudG9nZ2xlKCdiZy1zbGF0ZS0zMDAnLCAhaGFzRGF0YSk7XG4gICAgICAgIGhlYWRlclN0YXR1c0luZGljYXRvci50aXRsZSA9IGhhc0RhdGEgPyAnQ29uZmlndXJcdTAwRTknIDogJ05vbiBjb25maWd1clx1MDBFOSc7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGhlYWRlclNhdmVCdG4/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFsYXlvdXRBcGlCYXNlKSByZXR1cm47XG4gICAgICBoZWFkZXJTYXZlQnRuLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIGhlYWRlclNhdmVCdG4udGV4dENvbnRlbnQgPSAnRW5yZWdpc3RyZW1lbnQuLi4nO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGNvbGxlY3RIZWFkZXJEYXRhKCk7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7bGF5b3V0QXBpQmFzZX0vaGVhZGVyYCwge1xuICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgY3JlZGVudGlhbHM6ICdpbmNsdWRlJyxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHRocm93IG5ldyBFcnJvcignRXJyZXVyIHNlcnZldXInKTtcbiAgICAgICAgaGVhZGVyRGF0YSA9IGRhdGE7XG4gICAgICAgIHBvcHVsYXRlSGVhZGVyRm9ybShkYXRhKTtcbiAgICAgICAgc2hvd1RvYXN0KCdIZWFkZXIgZW5yZWdpc3RyXHUwMEU5Jyk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2hlYWRlcl0gc2F2ZSBlcnJvcicsIGVycik7XG4gICAgICAgIHNob3dUb2FzdCgnRXJyZXVyIGxvcnMgZGUgbFxcJ2VucmVnaXN0cmVtZW50JywgJ2Vycm9yJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBoZWFkZXJTYXZlQnRuLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIGhlYWRlclNhdmVCdG4udGV4dENvbnRlbnQgPSAnRW5yZWdpc3RyZXInO1xuICAgICAgfVxuICAgIH0pO1xuICAgIFxuICAgIC8vIFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFxuICAgIC8vIEZPT1RFUiBGVU5DVElPTlNcbiAgICAvLyBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcbiAgICBjb25zdCBhZGRGb290ZXJMaW5rID0gKGNvbnRhaW5lciwgbGFiZWwgPSAnJywgdXJsID0gJycpID0+IHtcbiAgICAgIGlmICghZm9vdGVyTGlua1RlbXBsYXRlIHx8ICFjb250YWluZXIpIHJldHVybjtcbiAgICAgIGNvbnN0IGNsb25lID0gZm9vdGVyTGlua1RlbXBsYXRlLmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpO1xuICAgICAgY29uc3QgaXRlbSA9IGNsb25lLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWZvb3Rlci1saW5rXScpO1xuICAgICAgY29uc3QgbGFiZWxJbnB1dCA9IGNsb25lLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwibGluay1sYWJlbFwiXScpO1xuICAgICAgY29uc3QgdXJsSW5wdXQgPSBjbG9uZS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImxpbmstdXJsXCJdJyk7XG4gICAgICBjb25zdCByZW1vdmVCdG4gPSBjbG9uZS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1saW5rLXJlbW92ZV0nKTtcbiAgICAgIGlmIChsYWJlbElucHV0KSBsYWJlbElucHV0LnZhbHVlID0gbGFiZWw7XG4gICAgICBpZiAodXJsSW5wdXQpIHVybElucHV0LnZhbHVlID0gdXJsO1xuICAgICAgcmVtb3ZlQnRuPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGl0ZW0/LnJlbW92ZSgpKTtcbiAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChjbG9uZSk7XG4gICAgfTtcbiAgICBcbiAgICBjb25zdCBhZGRGb290ZXJDb2x1bW4gPSAodGl0bGUgPSAnJywgbGlua3MgPSBbXSkgPT4ge1xuICAgICAgaWYgKCFmb290ZXJDb2x1bW5UZW1wbGF0ZSB8fCAhZm9vdGVyQ29sdW1uc0xpc3QpIHJldHVybjtcbiAgICAgIGNvbnN0IGNsb25lID0gZm9vdGVyQ29sdW1uVGVtcGxhdGUuY29udGVudC5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICBjb25zdCBjb2x1bW4gPSBjbG9uZS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1mb290ZXItY29sdW1uXScpO1xuICAgICAgY29uc3QgdGl0bGVJbnB1dCA9IGNsb25lLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiY29sdW1uLXRpdGxlXCJdJyk7XG4gICAgICBjb25zdCBsaW5rc0NvbnRhaW5lciA9IGNsb25lLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbHVtbi1saW5rc10nKTtcbiAgICAgIGNvbnN0IGFkZExpbmtCdG4gPSBjbG9uZS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2x1bW4tbGluay1hZGRdJyk7XG4gICAgICBjb25zdCByZW1vdmVCdG4gPSBjbG9uZS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2x1bW4tcmVtb3ZlXScpO1xuICAgICAgaWYgKHRpdGxlSW5wdXQpIHRpdGxlSW5wdXQudmFsdWUgPSB0aXRsZTtcbiAgICAgIGxpbmtzLmZvckVhY2gobGluayA9PiBhZGRGb290ZXJMaW5rKGxpbmtzQ29udGFpbmVyLCBsaW5rLmxhYmVsLCBsaW5rLnVybCkpO1xuICAgICAgYWRkTGlua0J0bj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBhZGRGb290ZXJMaW5rKGxpbmtzQ29udGFpbmVyKSk7XG4gICAgICByZW1vdmVCdG4/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gY29sdW1uPy5yZW1vdmUoKSk7XG4gICAgICBmb290ZXJDb2x1bW5zTGlzdC5hcHBlbmRDaGlsZChjbG9uZSk7XG4gICAgfTtcbiAgICBcbiAgICBjb25zdCBjb2xsZWN0Rm9vdGVyRGF0YSA9ICgpID0+IHtcbiAgICAgIGNvbnN0IGNvbHVtbnMgPSBbXTtcbiAgICAgIGZvb3RlckNvbHVtbnNMaXN0Py5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1mb290ZXItY29sdW1uXScpLmZvckVhY2goY29sID0+IHtcbiAgICAgICAgY29uc3QgdGl0bGUgPSBjb2wucXVlcnlTZWxlY3RvcignW25hbWU9XCJjb2x1bW4tdGl0bGVcIl0nKT8udmFsdWU/LnRyaW0oKSB8fCAnJztcbiAgICAgICAgY29uc3QgbGlua3MgPSBbXTtcbiAgICAgICAgY29sLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWZvb3Rlci1saW5rXScpLmZvckVhY2gobGlua0VsID0+IHtcbiAgICAgICAgICBjb25zdCBsYWJlbCA9IGxpbmtFbC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImxpbmstbGFiZWxcIl0nKT8udmFsdWU/LnRyaW0oKSB8fCAnJztcbiAgICAgICAgICBjb25zdCB1cmwgPSBsaW5rRWwucXVlcnlTZWxlY3RvcignW25hbWU9XCJsaW5rLXVybFwiXScpPy52YWx1ZT8udHJpbSgpIHx8ICcnO1xuICAgICAgICAgIGlmIChsYWJlbCB8fCB1cmwpIGxpbmtzLnB1c2goeyBsYWJlbCwgdXJsIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHRpdGxlIHx8IGxpbmtzLmxlbmd0aCA+IDApIGNvbHVtbnMucHVzaCh7IHRpdGxlLCBsaW5rcyB9KTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY29sdW1ucyxcbiAgICAgICAgc29jaWFsczoge1xuICAgICAgICAgIGxpbmtlZGluOiBmb290ZXJGaWVsZHMubGlua2VkaW4/LnZhbHVlPy50cmltKCkgfHwgJycsXG4gICAgICAgICAgdHdpdHRlcjogZm9vdGVyRmllbGRzLnR3aXR0ZXI/LnZhbHVlPy50cmltKCkgfHwgJycsXG4gICAgICAgICAgaW5zdGFncmFtOiBmb290ZXJGaWVsZHMuaW5zdGFncmFtPy52YWx1ZT8udHJpbSgpIHx8ICcnLFxuICAgICAgICAgIGZhY2Vib29rOiBmb290ZXJGaWVsZHMuZmFjZWJvb2s/LnZhbHVlPy50cmltKCkgfHwgJycsXG4gICAgICAgICAgeW91dHViZTogZm9vdGVyRmllbGRzLnlvdXR1YmU/LnZhbHVlPy50cmltKCkgfHwgJycsXG4gICAgICAgICAgZ2l0aHViOiBmb290ZXJGaWVsZHMuZ2l0aHViPy52YWx1ZT8udHJpbSgpIHx8ICcnLFxuICAgICAgICB9LFxuICAgICAgICBjb3B5cmlnaHQ6IGZvb3RlckZpZWxkcy5jb3B5cmlnaHQ/LnZhbHVlPy50cmltKCkgfHwgJycsXG4gICAgICAgIGxlZ2FsOiB7XG4gICAgICAgICAgdXJsOiBmb290ZXJGaWVsZHMubGVnYWxVcmw/LnZhbHVlPy50cmltKCkgfHwgJycsXG4gICAgICAgICAgcHJpdmFjeVVybDogZm9vdGVyRmllbGRzLnByaXZhY3lVcmw/LnZhbHVlPy50cmltKCkgfHwgJycsXG4gICAgICAgIH0sXG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgYmc6IGZvb3RlckZpZWxkcy5iZz8udmFsdWUgfHwgJ2JnLXNsYXRlLTkwMCB0ZXh0LXdoaXRlJyxcbiAgICAgICAgICBjb2x1bW5zQ291bnQ6IGZvb3RlckZpZWxkcy5jb2x1bW5zQ291bnQ/LnZhbHVlIHx8ICc0JyxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgfTtcbiAgICBcbiAgICBjb25zdCBwb3B1bGF0ZUZvb3RlckZvcm0gPSAoZGF0YSkgPT4ge1xuICAgICAgaWYgKCFkYXRhKSByZXR1cm47XG4gICAgICBpZiAoZm9vdGVyRmllbGRzLmxpbmtlZGluKSBmb290ZXJGaWVsZHMubGlua2VkaW4udmFsdWUgPSBkYXRhLnNvY2lhbHM/LmxpbmtlZGluIHx8ICcnO1xuICAgICAgaWYgKGZvb3RlckZpZWxkcy50d2l0dGVyKSBmb290ZXJGaWVsZHMudHdpdHRlci52YWx1ZSA9IGRhdGEuc29jaWFscz8udHdpdHRlciB8fCAnJztcbiAgICAgIGlmIChmb290ZXJGaWVsZHMuaW5zdGFncmFtKSBmb290ZXJGaWVsZHMuaW5zdGFncmFtLnZhbHVlID0gZGF0YS5zb2NpYWxzPy5pbnN0YWdyYW0gfHwgJyc7XG4gICAgICBpZiAoZm9vdGVyRmllbGRzLmZhY2Vib29rKSBmb290ZXJGaWVsZHMuZmFjZWJvb2sudmFsdWUgPSBkYXRhLnNvY2lhbHM/LmZhY2Vib29rIHx8ICcnO1xuICAgICAgaWYgKGZvb3RlckZpZWxkcy55b3V0dWJlKSBmb290ZXJGaWVsZHMueW91dHViZS52YWx1ZSA9IGRhdGEuc29jaWFscz8ueW91dHViZSB8fCAnJztcbiAgICAgIGlmIChmb290ZXJGaWVsZHMuZ2l0aHViKSBmb290ZXJGaWVsZHMuZ2l0aHViLnZhbHVlID0gZGF0YS5zb2NpYWxzPy5naXRodWIgfHwgJyc7XG4gICAgICBpZiAoZm9vdGVyRmllbGRzLmNvcHlyaWdodCkgZm9vdGVyRmllbGRzLmNvcHlyaWdodC52YWx1ZSA9IGRhdGEuY29weXJpZ2h0IHx8ICcnO1xuICAgICAgaWYgKGZvb3RlckZpZWxkcy5sZWdhbFVybCkgZm9vdGVyRmllbGRzLmxlZ2FsVXJsLnZhbHVlID0gZGF0YS5sZWdhbD8udXJsIHx8ICcnO1xuICAgICAgaWYgKGZvb3RlckZpZWxkcy5wcml2YWN5VXJsKSBmb290ZXJGaWVsZHMucHJpdmFjeVVybC52YWx1ZSA9IGRhdGEubGVnYWw/LnByaXZhY3lVcmwgfHwgJyc7XG4gICAgICBpZiAoZm9vdGVyRmllbGRzLmJnKSBmb290ZXJGaWVsZHMuYmcudmFsdWUgPSBkYXRhLnN0eWxlPy5iZyB8fCAnYmctc2xhdGUtOTAwIHRleHQtd2hpdGUnO1xuICAgICAgaWYgKGZvb3RlckZpZWxkcy5jb2x1bW5zQ291bnQpIGZvb3RlckZpZWxkcy5jb2x1bW5zQ291bnQudmFsdWUgPSBkYXRhLnN0eWxlPy5jb2x1bW5zQ291bnQgfHwgJzQnO1xuICAgICAgLy8gUG9wdWxhdGUgY29sdW1uc1xuICAgICAgaWYgKGZvb3RlckNvbHVtbnNMaXN0KSBmb290ZXJDb2x1bW5zTGlzdC5pbm5lckhUTUwgPSAnJztcbiAgICAgIChkYXRhLmNvbHVtbnMgfHwgW10pLmZvckVhY2goY29sID0+IGFkZEZvb3RlckNvbHVtbihjb2wudGl0bGUsIGNvbC5saW5rcykpO1xuICAgICAgLy8gVXBkYXRlIHN0YXR1cyBpbmRpY2F0b3JcbiAgICAgIGNvbnN0IGhhc0RhdGEgPSBkYXRhLmNvbHVtbnM/Lmxlbmd0aCA+IDAgfHwgZGF0YS5jb3B5cmlnaHQgfHwgT2JqZWN0LnZhbHVlcyhkYXRhLnNvY2lhbHMgfHwge30pLnNvbWUodiA9PiB2KTtcbiAgICAgIGlmIChmb290ZXJTdGF0dXNJbmRpY2F0b3IpIHtcbiAgICAgICAgZm9vdGVyU3RhdHVzSW5kaWNhdG9yLmNsYXNzTGlzdC50b2dnbGUoJ2JnLWdyZWVuLTUwMCcsICEhaGFzRGF0YSk7XG4gICAgICAgIGZvb3RlclN0YXR1c0luZGljYXRvci5jbGFzc0xpc3QudG9nZ2xlKCdiZy1zbGF0ZS0zMDAnLCAhaGFzRGF0YSk7XG4gICAgICAgIGZvb3RlclN0YXR1c0luZGljYXRvci50aXRsZSA9IGhhc0RhdGEgPyAnQ29uZmlndXJcdTAwRTknIDogJ05vbiBjb25maWd1clx1MDBFOSc7XG4gICAgICB9XG4gICAgfTtcbiAgICBcbiAgICBmb290ZXJDb2x1bW5BZGRCdG4/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gYWRkRm9vdGVyQ29sdW1uKCkpO1xuICAgIFxuICAgIGZvb3RlclNhdmVCdG4/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFsYXlvdXRBcGlCYXNlKSByZXR1cm47XG4gICAgICBmb290ZXJTYXZlQnRuLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIGZvb3RlclNhdmVCdG4udGV4dENvbnRlbnQgPSAnRW5yZWdpc3RyZW1lbnQuLi4nO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGNvbGxlY3RGb290ZXJEYXRhKCk7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7bGF5b3V0QXBpQmFzZX0vZm9vdGVyYCwge1xuICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgY3JlZGVudGlhbHM6ICdpbmNsdWRlJyxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHRocm93IG5ldyBFcnJvcignRXJyZXVyIHNlcnZldXInKTtcbiAgICAgICAgZm9vdGVyRGF0YSA9IGRhdGE7XG4gICAgICAgIHBvcHVsYXRlRm9vdGVyRm9ybShkYXRhKTtcbiAgICAgICAgc2hvd1RvYXN0KCdGb290ZXIgZW5yZWdpc3RyXHUwMEU5Jyk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2Zvb3Rlcl0gc2F2ZSBlcnJvcicsIGVycik7XG4gICAgICAgIHNob3dUb2FzdCgnRXJyZXVyIGxvcnMgZGUgbFxcJ2VucmVnaXN0cmVtZW50JywgJ2Vycm9yJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBmb290ZXJTYXZlQnRuLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIGZvb3RlclNhdmVCdG4udGV4dENvbnRlbnQgPSAnRW5yZWdpc3RyZXInO1xuICAgICAgfVxuICAgIH0pO1xuICAgIFxuICAgIC8vIExvYWQgbGF5b3V0IGRhdGEgb24gaW5pdFxuICAgIGNvbnN0IGxvYWRMYXlvdXREYXRhID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFsYXlvdXRBcGlCYXNlKSByZXR1cm47XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGxheW91dEFwaUJhc2UsIHsgY3JlZGVudGlhbHM6ICdpbmNsdWRlJyB9KTtcbiAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICBpZiAoZGF0YS5oZWFkZXIpIHtcbiAgICAgICAgICAgIGhlYWRlckRhdGEgPSBkYXRhLmhlYWRlcjtcbiAgICAgICAgICAgIHBvcHVsYXRlSGVhZGVyRm9ybShkYXRhLmhlYWRlcik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChkYXRhLmZvb3Rlcikge1xuICAgICAgICAgICAgZm9vdGVyRGF0YSA9IGRhdGEuZm9vdGVyO1xuICAgICAgICAgICAgcG9wdWxhdGVGb290ZXJGb3JtKGRhdGEuZm9vdGVyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbbGF5b3V0XSBsb2FkIGVycm9yJywgZXJyKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIC8vIEluaXRpYWxpemUgbGF5b3V0IGRhdGFcbiAgICBsb2FkTGF5b3V0RGF0YSgpO1xuICAgIFxuICAgIC8vIFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFxuICAgIC8vIENPTExFQ1RJT05TIChleGlzdGluZyBjb2RlIGNvbnRpbnVlcyBiZWxvdylcbiAgICAvLyBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcbiAgICBcbiAgICBjb25zdCBjb2xsZWN0aW9uRW1wdHlTdGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbGxlY3Rpb24tZW1wdHldJyk7XG4gICAgY29uc3QgY29sbGVjdGlvbkl0ZW1zRW1wdHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xsZWN0aW9uLWl0ZW1zLWVtcHR5XScpO1xuICAgIGNvbnN0IGl0ZW1UYWJsZVdyYXBwZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLXRhYmxlLXdyYXBwZXJdJyk7XG4gICAgY29uc3QgaXRlbVRhYmxlQm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tdGFibGUtYm9keV0nKTtcbiAgICBjb25zdCBjb2xsZWN0aW9uVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xsZWN0aW9uLXRpdGxlXScpO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25EZXNjcmlwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbGxlY3Rpb24tZGVzY3JpcHRpb25dJyk7XG4gICAgY29uc3QgaXRlbUFkZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tYWRkXScpO1xuICAgIGNvbnN0IGl0ZW1EZXRhaWxFbXB0eSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tZGV0YWlsLWVtcHR5XScpO1xuICAgIGNvbnN0IGl0ZW1Gb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS1mb3JtXScpO1xuICAgIGNvbnN0IGl0ZW1Gb3JtRmllbGRzID0gaXRlbUZvcm1cbiAgICAgID8ge1xuICAgICAgICAgIHRpdGxlOiBpdGVtRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cIml0ZW0tdGl0bGVcIl0nKSxcbiAgICAgICAgICBzbHVnOiBpdGVtRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cIml0ZW0tc2x1Z1wiXScpLFxuICAgICAgICAgIGV4Y2VycHQ6IGl0ZW1Gb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaXRlbS1leGNlcnB0XCJdJyksXG4gICAgICAgICAgY29udGVudDogaXRlbUZvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJpdGVtLWNvbnRlbnRcIl0nKSxcbiAgICAgICAgICBpbWFnZTogaXRlbUZvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJpdGVtLWltYWdlXCJdJyksXG4gICAgICAgICAgY3RhVGV4dDogaXRlbUZvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJpdGVtLWN0YS10ZXh0XCJdJyksXG4gICAgICAgICAgY3RhVXJsOiBpdGVtRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cIml0ZW0tY3RhLXVybFwiXScpLFxuICAgICAgICAgIHN0YXR1czogaXRlbUZvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJpdGVtLXN0YXR1c1wiXScpLFxuICAgICAgICB9XG4gICAgICA6IHt9O1xuICAgIGNvbnN0IGl0ZW1TdGF0dXNCYWRnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tc3RhdHVzLWJhZGdlXScpO1xuICAgIGNvbnN0IGl0ZW1EZWxldGVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLWRlbGV0ZV0nKTtcbiAgICBjb25zdCBpdGVtRGVsZXRlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLWRlbGV0ZS1tb2RhbF0nKTtcbiAgICBjb25zdCBpdGVtRGVsZXRlQ2FuY2VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS1kZWxldGUtY2FuY2VsXScpO1xuICAgIGNvbnN0IGl0ZW1EZWxldGVDb25maXJtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS1kZWxldGUtY29uZmlybV0nKTtcbiAgICBjb25zdCBpdGVtRm9ybUNhbmNlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tY2FuY2VsXScpO1xuICAgIGNvbnN0IGl0ZW1Gb3JtU2F2ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tc2F2ZV0nKTtcbiAgICBjb25zdCBzdGF0dXNCYWRnZUJhc2VDbGFzcyA9ICdyb3VuZGVkLWZ1bGwgcHgtMyBweS0xIHRleHQteHMgZm9udC1zZW1pYm9sZCc7XG5cbiAgICBjb25zdCBzYWZlU2l0ZVNsdWdWYWx1ZSA9IHN0cmlwTGVhZGluZ1NsYXNoKFxuICAgICAgd29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyxcbiAgICApO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25zQXBpQmFzZSA9IHNhZmVTaXRlU2x1Z1ZhbHVlXG4gICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Z1ZhbHVlKX0vY29sbGVjdGlvbnNgXG4gICAgICA6IG51bGw7XG5cbiAgICBsZXQgY29sbGVjdGlvbnMgPSBbXTtcbiAgICBsZXQgY29sbGVjdGlvbkl0ZW1zID0gW107XG4gICAgbGV0IGFjdGl2ZUNvbGxlY3Rpb25JZCA9IG51bGw7XG4gICAgbGV0IGFjdGl2ZUl0ZW1JZCA9IG51bGw7XG4gICAgbGV0IGlzQ3JlYXRpbmdJdGVtID0gZmFsc2U7XG4gICAgbGV0IGl0ZW1TbHVnTWFudWFsbHlFZGl0ZWQgPSBmYWxzZTtcbiAgICBsZXQgcGVuZGluZ0RlbGV0ZUl0ZW1JZCA9IG51bGw7XG5cbiAgICBjb25zdCBub3JtYWxpemVJdGVtU2x1Z0lucHV0ID0gKHZhbHVlKSA9PiB7XG4gICAgICBjb25zdCByYXcgPSAodmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgIGlmICghcmF3KSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICAgIH1cbiAgICAgIGlmIChyYXcgPT09ICcvJykge1xuICAgICAgICByZXR1cm4gJy8nO1xuICAgICAgfVxuICAgICAgY29uc3Qgc2VnbWVudHMgPSByYXcucmVwbGFjZSgvXlxcLy8sICcnKS5zcGxpdCgnLycpO1xuICAgICAgY29uc3QgY2xlYW5lZFNlZ21lbnRzID0gc2VnbWVudHNcbiAgICAgICAgLm1hcCgoc2VnbWVudCkgPT4gd29ya3NwYWNlU2x1Z2lmeShzZWdtZW50IHx8ICcnKSlcbiAgICAgICAgLmZpbHRlcigoc2VnbWVudCkgPT4gc2VnbWVudC5sZW5ndGggPiAwKTtcbiAgICAgIGlmICghY2xlYW5lZFNlZ21lbnRzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgICB9XG4gICAgICByZXR1cm4gYC8ke2NsZWFuZWRTZWdtZW50cy5qb2luKCcvJyl9YDtcbiAgICB9O1xuXG4gICAgY29uc3QgZm9ybWF0SXRlbURhdGUgPSAodmFsdWUpID0+IHtcbiAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuICdcdTIwMTQnO1xuICAgICAgfVxuICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKHZhbHVlKTtcbiAgICAgIGlmIChOdW1iZXIuaXNOYU4oZGF0ZS5nZXRUaW1lKCkpKSB7XG4gICAgICAgIHJldHVybiAnXHUyMDE0JztcbiAgICAgIH1cbiAgICAgIHJldHVybiBkYXRlLnRvTG9jYWxlRGF0ZVN0cmluZygnZnItRlInLCB7IGRheTogJzItZGlnaXQnLCBtb250aDogJ3Nob3J0JywgeWVhcjogJ251bWVyaWMnIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCB1cGRhdGVDb2xsZWN0aW9uSGVhZGVyID0gKCkgPT4ge1xuICAgICAgY29uc3QgY29sbGVjdGlvbiA9IGNvbGxlY3Rpb25zLmZpbmQoKGVudHJ5KSA9PiBlbnRyeS5pZCA9PT0gYWN0aXZlQ29sbGVjdGlvbklkKTtcbiAgICAgIGlmIChjb2xsZWN0aW9uVGl0bGUpIHtcbiAgICAgICAgY29sbGVjdGlvblRpdGxlLnRleHRDb250ZW50ID0gY29sbGVjdGlvbj8ubmFtZSB8fCAnU1x1MDBFOWxlY3Rpb25uZXogdW5lIGNvbGxlY3Rpb24nO1xuICAgICAgfVxuICAgICAgaWYgKGNvbGxlY3Rpb25EZXNjcmlwdGlvbikge1xuICAgICAgICBjb2xsZWN0aW9uRGVzY3JpcHRpb24udGV4dENvbnRlbnQgPSBjb2xsZWN0aW9uPy5kZXNjcmlwdGlvbiB8fCAnJztcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgdXBkYXRlSXRlbXNFbXB0eU1lc3NhZ2UgPSAobWVzc2FnZSkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uSXRlbXNFbXB0eSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb2xsZWN0aW9uSXRlbXNFbXB0eS50ZXh0Q29udGVudCA9XG4gICAgICAgIG1lc3NhZ2UgfHxcbiAgICAgICAgKGFjdGl2ZUNvbGxlY3Rpb25JZFxuICAgICAgICAgID8gJ0F1Y3VuIGl0ZW0gZGFucyBjZXR0ZSBjb2xsZWN0aW9uIHBvdXIgbGUgbW9tZW50LidcbiAgICAgICAgICA6ICdDaG9pc2lzc2V6IHVuZSBjb2xsZWN0aW9uIGRhbnMgbGUgcGFubmVhdSBkZSBnYXVjaGUuJyk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhpZGVJdGVtRm9ybSA9ICgpID0+IHtcbiAgICAgIGlmIChpdGVtRm9ybSkge1xuICAgICAgICBpdGVtRm9ybS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgaXRlbUZvcm0uZGF0YXNldC5pdGVtSWQgPSAnJztcbiAgICAgIH1cbiAgICAgIGl0ZW1EZXRhaWxFbXB0eT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBpZiAoaXRlbVN0YXR1c0JhZGdlKSB7XG4gICAgICAgIGl0ZW1TdGF0dXNCYWRnZS5jbGFzc05hbWUgPSBgaGlkZGVuICR7c3RhdHVzQmFkZ2VCYXNlQ2xhc3N9YDtcbiAgICAgICAgaXRlbVN0YXR1c0JhZGdlLnRleHRDb250ZW50ID0gJyc7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbURlbGV0ZUJ1dHRvbikge1xuICAgICAgICBpdGVtRGVsZXRlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3Qgc2hvd0l0ZW1Gb3JtID0gKCkgPT4ge1xuICAgICAgaWYgKCFpdGVtRm9ybSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpdGVtRm9ybS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGl0ZW1EZXRhaWxFbXB0eT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgfTtcblxuICAgIGNvbnN0IHN5bmNBZGRCdXR0b25TdGF0ZSA9ICgpID0+IHtcbiAgICAgIGlmICghaXRlbUFkZEJ1dHRvbikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpdGVtQWRkQnV0dG9uLmRpc2FibGVkID0gIWFjdGl2ZUNvbGxlY3Rpb25JZDtcbiAgICAgIGlmIChpdGVtQWRkQnV0dG9uLmRpc2FibGVkKSB7XG4gICAgICAgIGl0ZW1BZGRCdXR0b24uY2xhc3NMaXN0LmFkZCgnb3BhY2l0eS02MCcsICdwb2ludGVyLWV2ZW50cy1ub25lJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpdGVtQWRkQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ29wYWNpdHktNjAnLCAncG9pbnRlci1ldmVudHMtbm9uZScpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBzeW5jSXRlbVN0YXR1c0JhZGdlID0gKHN0YXR1cykgPT4ge1xuICAgICAgaWYgKCFpdGVtU3RhdHVzQmFkZ2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFzdGF0dXMpIHtcbiAgICAgICAgaXRlbVN0YXR1c0JhZGdlLmNsYXNzTmFtZSA9IGBoaWRkZW4gJHtzdGF0dXNCYWRnZUJhc2VDbGFzc31gO1xuICAgICAgICBpdGVtU3RhdHVzQmFkZ2UudGV4dENvbnRlbnQgPSAnJztcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IHN0YXR1cy50b0xvd2VyQ2FzZSgpO1xuICAgICAgbGV0IGNvbG9yQ2xhc3MgPSAnYmctc2xhdGUtMTAwIHRleHQtc2xhdGUtNjAwIGJvcmRlciBib3JkZXItc2xhdGUtMjAwJztcbiAgICAgIGlmIChub3JtYWxpemVkID09PSAncHVibGlcdTAwRTknIHx8IG5vcm1hbGl6ZWQgPT09ICdwdWJsaWUnKSB7XG4gICAgICAgIGNvbG9yQ2xhc3MgPSAnYmctZW1lcmFsZC01MCB0ZXh0LWVtZXJhbGQtNzAwIGJvcmRlciBib3JkZXItZW1lcmFsZC0xMDAnO1xuICAgICAgfSBlbHNlIGlmIChub3JtYWxpemVkID09PSAnYnJvdWlsbG9uJykge1xuICAgICAgICBjb2xvckNsYXNzID0gJ2JnLWFtYmVyLTUwIHRleHQtYW1iZXItNzAwIGJvcmRlciBib3JkZXItYW1iZXItMTAwJztcbiAgICAgIH1cbiAgICAgIGl0ZW1TdGF0dXNCYWRnZS5jbGFzc05hbWUgPSBgJHtzdGF0dXNCYWRnZUJhc2VDbGFzc30gJHtjb2xvckNsYXNzfWA7XG4gICAgICBpdGVtU3RhdHVzQmFkZ2UudGV4dENvbnRlbnQgPSBzdGF0dXM7XG4gICAgfTtcblxuICAgIGNvbnN0IHJlbmRlckNvbGxlY3Rpb25MaXN0ID0gKCkgPT4ge1xuICAgICAgY29sbGVjdGlvbkxpc3QuaW5uZXJIVE1MID0gJyc7XG4gICAgICAvLyBVcGRhdGUgY29sbGVjdGlvbiBjb3VudFxuICAgICAgaWYgKGNvbGxlY3Rpb25Db3VudEVsKSBjb2xsZWN0aW9uQ291bnRFbC50ZXh0Q29udGVudCA9IGNvbGxlY3Rpb25zLmxlbmd0aDtcbiAgICAgIGlmICghY29sbGVjdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgIGNvbGxlY3Rpb25FbXB0eVN0YXRlPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29sbGVjdGlvbkVtcHR5U3RhdGU/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgY29sbGVjdGlvbnMuZm9yRWFjaCgoY29sbGVjdGlvbikgPT4ge1xuICAgICAgICBjb25zdCBpc0FjdGl2ZSA9IGNvbGxlY3Rpb24uaWQgPT09IGFjdGl2ZUNvbGxlY3Rpb25JZDtcbiAgICAgICAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIGJ1dHRvbi50eXBlID0gJ2J1dHRvbic7XG4gICAgICAgIGJ1dHRvbi5kYXRhc2V0LmNvbGxlY3Rpb25JZCA9IGNvbGxlY3Rpb24uaWQ7XG4gICAgICAgIGJ1dHRvbi5jbGFzc05hbWUgPSBbXG4gICAgICAgICAgJ3ctZnVsbCByb3VuZGVkLXhsIGJvcmRlciBweC0zIHB5LTIgdGV4dC1sZWZ0IHRyYW5zaXRpb24gZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLVsjOUM2QkZGXS80MCcsXG4gICAgICAgICAgaXNBY3RpdmVcbiAgICAgICAgICAgID8gJ2JnLVsjRjdGMEZGXSBib3JkZXItWyM5QzZCRkZdLzQwIHRleHQtc2xhdGUtOTAwJ1xuICAgICAgICAgICAgOiAnYm9yZGVyLXNsYXRlLTIwMCB0ZXh0LXNsYXRlLTcwMCBob3Zlcjpib3JkZXItWyM5QzZCRkZdLzQwJyxcbiAgICAgICAgXS5qb2luKCcgJyk7XG4gICAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnb3B0aW9uJyk7XG4gICAgICAgIGlmIChpc0FjdGl2ZSkge1xuICAgICAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtY3VycmVudCcsICd0cnVlJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYnV0dG9uLnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1jdXJyZW50Jyk7XG4gICAgICAgIH1cbiAgICAgICAgYnV0dG9uLmlubmVySFRNTCA9IGBcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIGdhcC0yXCI+XG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQtc20gZm9udC1zZW1pYm9sZFwiPiR7Y29sbGVjdGlvbi5uYW1lIHx8IGNvbGxlY3Rpb24uaWR9PC9wPlxuICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQteHMgdGV4dC1zbGF0ZS01MDBcIj4ke2NvbGxlY3Rpb24uZGVzY3JpcHRpb24gfHwgJyd9PC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQtWzExcHhdIHVwcGVyY2FzZSB0cmFja2luZy13aWRlIHRleHQtc2xhdGUtNDAwXCI+JHtjb2xsZWN0aW9uLnR5cGUgfHwgJyd9PC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICBgO1xuICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgc2V0QWN0aXZlQ29sbGVjdGlvbihjb2xsZWN0aW9uLmlkKTtcbiAgICAgICAgICBpZiAoIXdpbmRvdy5tYXRjaE1lZGlhKCcobWluLXdpZHRoOiAxMDI0cHgpJykubWF0Y2hlcykge1xuICAgICAgICAgICAgY2xvc2VDb250ZW50RHJhd2VyKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgY29sbGVjdGlvbkxpc3QuYXBwZW5kQ2hpbGQoYnV0dG9uKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCByZW5kZXJJdGVtVGFibGUgPSAoKSA9PiB7XG4gICAgICBpZiAoIWl0ZW1UYWJsZUJvZHkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaXRlbVRhYmxlQm9keS5pbm5lckhUTUwgPSAnJztcbiAgICAgIGlmICghY29sbGVjdGlvbkl0ZW1zLmxlbmd0aCB8fCAhYWN0aXZlQ29sbGVjdGlvbklkKSB7XG4gICAgICAgIGNvbGxlY3Rpb25JdGVtc0VtcHR5Py5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgdXBkYXRlSXRlbXNFbXB0eU1lc3NhZ2UoKTtcbiAgICAgICAgaXRlbVRhYmxlV3JhcHBlcj8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbGxlY3Rpb25JdGVtc0VtcHR5Py5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGl0ZW1UYWJsZVdyYXBwZXI/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgY29sbGVjdGlvbkl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgICAgY29uc3Qgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKTtcbiAgICAgICAgcm93LmRhdGFzZXQuaXRlbUlkID0gaXRlbS5pZDtcbiAgICAgICAgY29uc3QgaXNBY3RpdmUgPSBpdGVtLmlkID09PSBhY3RpdmVJdGVtSWQgJiYgIWlzQ3JlYXRpbmdJdGVtO1xuICAgICAgICByb3cuY2xhc3NOYW1lID0gW1xuICAgICAgICAgICdjdXJzb3ItcG9pbnRlciB0cmFuc2l0aW9uIGZvY3VzLXdpdGhpbjpiZy1bI0Y3RjBGRl0vNzAgZm9jdXM6b3V0bGluZS1ub25lJyxcbiAgICAgICAgICBpc0FjdGl2ZSA/ICdiZy1bI0Y3RjBGRl0vNzAnIDogJ2hvdmVyOmJnLXNsYXRlLTUwJyxcbiAgICAgICAgXS5qb2luKCcgJyk7XG4gICAgICAgIHJvdy50YWJJbmRleCA9IDA7XG4gICAgICAgIHJvdy5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnYnV0dG9uJyk7XG4gICAgICAgIGlmIChpc0FjdGl2ZSkge1xuICAgICAgICAgIHJvdy5zZXRBdHRyaWJ1dGUoJ2FyaWEtY3VycmVudCcsICd0cnVlJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcm93LnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1jdXJyZW50Jyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3RhdHVzID0gaXRlbS5zdGF0dXMgfHwgJ0Jyb3VpbGxvbic7XG4gICAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBzdGF0dXMudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgY29uc3Qgc3RhdHVzQ2xhc3NlcyA9XG4gICAgICAgICAgbm9ybWFsaXplZCA9PT0gJ3B1YmxpXHUwMEU5JyB8fCBub3JtYWxpemVkID09PSAncHVibGllJ1xuICAgICAgICAgICAgPyAnYmctZW1lcmFsZC01MCB0ZXh0LWVtZXJhbGQtNzAwIGJvcmRlciBib3JkZXItZW1lcmFsZC0xMDAnXG4gICAgICAgICAgICA6ICdiZy1hbWJlci01MCB0ZXh0LWFtYmVyLTcwMCBib3JkZXIgYm9yZGVyLWFtYmVyLTEwMCc7XG4gICAgICAgIHJvdy5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgPHRkIGNsYXNzPVwicHgtNCBweS0zIGFsaWduLXRvcFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgdGV4dC1zbGF0ZS05MDBcIj4ke2l0ZW0udGl0bGUgfHwgJ1NhbnMgdGl0cmUnfTwvc3Bhbj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNTAwXCI+JHtpdGVtLnN1bW1hcnkgfHwgaXRlbS5leGNlcnB0IHx8ICcnfTwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgPHRkIGNsYXNzPVwicHgtNCBweS0zIGFsaWduLXRvcCB0ZXh0LXNtIHRleHQtc2xhdGUtNjAwXCI+JHtpdGVtLnNsdWcgfHwgJyd9PC90ZD5cbiAgICAgICAgICA8dGQgY2xhc3M9XCJweC00IHB5LTMgYWxpZ24tdG9wXCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciByb3VuZGVkLWZ1bGwgcHgtMyBweS0xIHRleHQteHMgZm9udC1zZW1pYm9sZCAke3N0YXR1c0NsYXNzZXN9XCI+XG4gICAgICAgICAgICAgICR7c3RhdHVzfVxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgPHRkIGNsYXNzPVwicHgtNCBweS0zIGFsaWduLXRvcCB0ZXh0LXNtIHRleHQtc2xhdGUtNTAwXCI+JHtmb3JtYXRJdGVtRGF0ZShcbiAgICAgICAgICAgIGl0ZW0udXBkYXRlZEF0IHx8IGl0ZW0uY3JlYXRlZEF0LFxuICAgICAgICAgICl9PC90ZD5cbiAgICAgICAgYDtcbiAgICAgICAgY29uc3QgaGFuZGxlU2VsZWN0ID0gKCkgPT4ge1xuICAgICAgICAgIHNlbGVjdEl0ZW0oaXRlbS5pZCk7XG4gICAgICAgIH07XG4gICAgICAgIHJvdy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZVNlbGVjdCk7XG4gICAgICAgIHJvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VudGVyJyB8fCBldmVudC5rZXkgPT09ICcgJykge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGhhbmRsZVNlbGVjdCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGl0ZW1UYWJsZUJvZHkuYXBwZW5kQ2hpbGQocm93KTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCBzZWxlY3RJdGVtID0gKGl0ZW1JZCkgPT4ge1xuICAgICAgY29uc3QgaXRlbSA9IGNvbGxlY3Rpb25JdGVtcy5maW5kKChlbnRyeSkgPT4gZW50cnkuaWQgPT09IGl0ZW1JZCk7XG4gICAgICBpZiAoIWl0ZW0pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYWN0aXZlSXRlbUlkID0gaXRlbS5pZDtcbiAgICAgIGlzQ3JlYXRpbmdJdGVtID0gZmFsc2U7XG4gICAgICBpdGVtU2x1Z01hbnVhbGx5RWRpdGVkID0gdHJ1ZTtcbiAgICAgIHBvcHVsYXRlSXRlbUZvcm0oaXRlbSk7XG4gICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICB9O1xuXG4gICAgY29uc3QgcG9wdWxhdGVJdGVtRm9ybSA9IChpdGVtKSA9PiB7XG4gICAgICBpZiAoIWl0ZW1Gb3JtIHx8ICFpdGVtKSB7XG4gICAgICAgIGhpZGVJdGVtRm9ybSgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzaG93SXRlbUZvcm0oKTtcbiAgICAgIGl0ZW1Gb3JtLmRhdGFzZXQuaXRlbUlkID0gaXRlbS5pZDtcbiAgICAgIGlmIChpdGVtRm9ybUZpZWxkcy50aXRsZSkge1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy50aXRsZS52YWx1ZSA9IGl0ZW0udGl0bGUgfHwgJyc7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbUZvcm1GaWVsZHMuc2x1Zykge1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy5zbHVnLnZhbHVlID0gaXRlbS5zbHVnIHx8ICcnO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1Gb3JtRmllbGRzLmV4Y2VycHQpIHtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMuZXhjZXJwdC52YWx1ZSA9IGl0ZW0uc3VtbWFyeSB8fCBpdGVtLmV4Y2VycHQgfHwgJyc7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbUZvcm1GaWVsZHMuY29udGVudCkge1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy5jb250ZW50LnZhbHVlID0gaXRlbS5jb250ZW50IHx8ICcnO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1Gb3JtRmllbGRzLmltYWdlKSB7XG4gICAgICAgIGl0ZW1Gb3JtRmllbGRzLmltYWdlLnZhbHVlID0gaXRlbS5pbWFnZSB8fCAnJztcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtRm9ybUZpZWxkcy5jdGFUZXh0KSB7XG4gICAgICAgIGl0ZW1Gb3JtRmllbGRzLmN0YVRleHQudmFsdWUgPSBpdGVtLmN0YT8udGV4dCB8fCBpdGVtLmN0YVRleHQgfHwgJyc7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbUZvcm1GaWVsZHMuY3RhVXJsKSB7XG4gICAgICAgIGl0ZW1Gb3JtRmllbGRzLmN0YVVybC52YWx1ZSA9IGl0ZW0uY3RhPy51cmwgfHwgaXRlbS5jdGFVcmwgfHwgJyc7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbUZvcm1GaWVsZHMuc3RhdHVzKSB7XG4gICAgICAgIGl0ZW1Gb3JtRmllbGRzLnN0YXR1cy52YWx1ZSA9IGl0ZW0uc3RhdHVzIHx8ICdCcm91aWxsb24nO1xuICAgICAgfVxuICAgICAgc3luY0l0ZW1TdGF0dXNCYWRnZShpdGVtLnN0YXR1cyB8fCAnQnJvdWlsbG9uJyk7XG4gICAgICBpZiAoaXRlbURlbGV0ZUJ1dHRvbikge1xuICAgICAgICBpdGVtRGVsZXRlQnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHByZXBhcmVOZXdJdGVtRm9ybSA9ICgpID0+IHtcbiAgICAgIGlmICghaXRlbUZvcm0pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaXNDcmVhdGluZ0l0ZW0gPSB0cnVlO1xuICAgICAgYWN0aXZlSXRlbUlkID0gbnVsbDtcbiAgICAgIGl0ZW1TbHVnTWFudWFsbHlFZGl0ZWQgPSBmYWxzZTtcbiAgICAgIGl0ZW1Gb3JtLmRhdGFzZXQuaXRlbUlkID0gJyc7XG4gICAgICBpdGVtRm9ybS5yZXNldCgpO1xuICAgICAgaWYgKGl0ZW1Gb3JtRmllbGRzLnN0YXR1cykge1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy5zdGF0dXMudmFsdWUgPSAnQnJvdWlsbG9uJztcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtRm9ybUZpZWxkcy5zbHVnKSB7XG4gICAgICAgIGl0ZW1Gb3JtRmllbGRzLnNsdWcudmFsdWUgPSAnJztcbiAgICAgIH1cbiAgICAgIHN5bmNJdGVtU3RhdHVzQmFkZ2UoJ0Jyb3VpbGxvbicpO1xuICAgICAgc2hvd0l0ZW1Gb3JtKCk7XG4gICAgICBpZiAoaXRlbURlbGV0ZUJ1dHRvbikge1xuICAgICAgICBpdGVtRGVsZXRlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGl0ZW1Gb3JtRmllbGRzLnRpdGxlPy5mb2N1cygpO1xuICAgIH07XG5cbiAgICBjb25zdCBjb2xsZWN0SXRlbUZvcm1WYWx1ZXMgPSAoKSA9PiB7XG4gICAgICBjb25zdCB0aXRsZSA9IChpdGVtRm9ybUZpZWxkcy50aXRsZT8udmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgIGNvbnN0IHNsdWdJbnB1dCA9IChpdGVtRm9ybUZpZWxkcy5zbHVnPy52YWx1ZSB8fCAnJykudHJpbSgpO1xuICAgICAgY29uc3Qgc3VtbWFyeSA9IChpdGVtRm9ybUZpZWxkcy5leGNlcnB0Py52YWx1ZSB8fCAnJykudHJpbSgpO1xuICAgICAgY29uc3QgY29udGVudCA9IChpdGVtRm9ybUZpZWxkcy5jb250ZW50Py52YWx1ZSB8fCAnJykudHJpbSgpO1xuICAgICAgY29uc3QgaW1hZ2UgPSAoaXRlbUZvcm1GaWVsZHMuaW1hZ2U/LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICBjb25zdCBjdGFUZXh0ID0gKGl0ZW1Gb3JtRmllbGRzLmN0YVRleHQ/LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICBjb25zdCBjdGFVcmwgPSAoaXRlbUZvcm1GaWVsZHMuY3RhVXJsPy52YWx1ZSB8fCAnJykudHJpbSgpO1xuICAgICAgY29uc3Qgc3RhdHVzID0gaXRlbUZvcm1GaWVsZHMuc3RhdHVzPy52YWx1ZSB8fCAnQnJvdWlsbG9uJztcbiAgICAgIFxuICAgICAgLy8gQnVpbGQgQ1RBIG9iamVjdCBvbmx5IGlmIGF0IGxlYXN0IG9uZSBmaWVsZCBpcyBmaWxsZWRcbiAgICAgIGNvbnN0IGN0YSA9IChjdGFUZXh0IHx8IGN0YVVybCkgPyB7IHRleHQ6IGN0YVRleHQsIHVybDogY3RhVXJsIH0gOiBudWxsO1xuICAgICAgXG4gICAgICByZXR1cm4ge1xuICAgICAgICB0aXRsZSxcbiAgICAgICAgc2x1Zzogc2x1Z0lucHV0ID8gbm9ybWFsaXplSXRlbVNsdWdJbnB1dChzbHVnSW5wdXQpIDogbm9ybWFsaXplSXRlbVNsdWdJbnB1dCh0aXRsZSksXG4gICAgICAgIHN1bW1hcnksXG4gICAgICAgIGV4Y2VycHQ6IHN1bW1hcnksXG4gICAgICAgIGNvbnRlbnQsXG4gICAgICAgIGltYWdlLFxuICAgICAgICBzdGF0dXMsXG4gICAgICAgIC4uLihjdGEgJiYgeyBjdGEgfSksXG4gICAgICB9O1xuICAgIH07XG5cbiAgICBjb25zdCBzZXRGb3JtU2F2aW5nU3RhdGUgPSAoaXNTYXZpbmcpID0+IHtcbiAgICAgIGlmIChpdGVtRm9ybVNhdmUpIHtcbiAgICAgICAgaXRlbUZvcm1TYXZlLmRpc2FibGVkID0gaXNTYXZpbmc7XG4gICAgICAgIGl0ZW1Gb3JtU2F2ZS50ZXh0Q29udGVudCA9IGlzU2F2aW5nID8gJ0VucmVnaXN0cmVtZW50XHUyMDI2JyA6ICdFbnJlZ2lzdHJlcic7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbURlbGV0ZUJ1dHRvbiAmJiAhaXNDcmVhdGluZ0l0ZW0gJiYgYWN0aXZlSXRlbUlkKSB7XG4gICAgICAgIGl0ZW1EZWxldGVCdXR0b24uZGlzYWJsZWQgPSBpc1NhdmluZztcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgZmV0Y2hDb2xsZWN0aW9uSXRlbXMgPSBhc3luYyAoY29sbGVjdGlvbklkKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25zQXBpQmFzZSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgICBgJHtjb2xsZWN0aW9uc0FwaUJhc2V9LyR7ZW5jb2RlVVJJQ29tcG9uZW50KGNvbGxlY3Rpb25JZCl9L2l0ZW1zYCxcbiAgICAgICAgeyBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSxcbiAgICAgICk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihwYXlsb2FkLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgY2hhcmdlciBsZXMgaXRlbXMuJyk7XG4gICAgICB9XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoZGF0YS5pdGVtcykgPyBkYXRhLml0ZW1zIDogW107XG4gICAgfTtcblxuICAgIGNvbnN0IHNldEFjdGl2ZUNvbGxlY3Rpb24gPSBhc3luYyAoY29sbGVjdGlvbklkKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25JZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhY3RpdmVDb2xsZWN0aW9uSWQgPSBjb2xsZWN0aW9uSWQ7XG4gICAgICBhY3RpdmVJdGVtSWQgPSBudWxsO1xuICAgICAgaXNDcmVhdGluZ0l0ZW0gPSBmYWxzZTtcbiAgICAgIGl0ZW1TbHVnTWFudWFsbHlFZGl0ZWQgPSBmYWxzZTtcbiAgICAgIC8vIFN3aXRjaCB0byBjb2xsZWN0aW9uIHZpZXdcbiAgICAgIHNob3dDb250ZW50VmlldygnY29sbGVjdGlvbicpO1xuICAgICAgdXBkYXRlQ29sbGVjdGlvbkhlYWRlcigpO1xuICAgICAgc3luY0FkZEJ1dHRvblN0YXRlKCk7XG4gICAgICByZW5kZXJDb2xsZWN0aW9uTGlzdCgpO1xuICAgICAgaGlkZUl0ZW1Gb3JtKCk7XG4gICAgICBjb2xsZWN0aW9uSXRlbXMgPSBbXTtcbiAgICAgIHJlbmRlckl0ZW1UYWJsZSgpO1xuICAgICAgdXBkYXRlSXRlbXNFbXB0eU1lc3NhZ2UoJ0NoYXJnZW1lbnQgZGVzIGl0ZW1zXHUyMDI2Jyk7XG4gICAgICBjb2xsZWN0aW9uSXRlbXNFbXB0eT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBpdGVtVGFibGVXcmFwcGVyPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGlmICghY29sbGVjdGlvbnNBcGlCYXNlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbGxlY3Rpb25JdGVtcyA9IGF3YWl0IGZldGNoQ29sbGVjdGlvbkl0ZW1zKGNvbGxlY3Rpb25JZCk7XG4gICAgICAgIHJlbmRlckl0ZW1UYWJsZSgpO1xuICAgICAgICBpZiAoIWNvbGxlY3Rpb25JdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgICB1cGRhdGVJdGVtc0VtcHR5TWVzc2FnZSgpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2NvbnRlbnRdIGl0ZW1zIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxlcyBpdGVtcy4nKTtcbiAgICAgICAgY29sbGVjdGlvbkl0ZW1zID0gW107XG4gICAgICAgIHJlbmRlckl0ZW1UYWJsZSgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBjcmVhdGVDb2xsZWN0aW9uSXRlbSA9IGFzeW5jIChjb2xsZWN0aW9uSWQsIHBheWxvYWQpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvbnNBcGlCYXNlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignU2l0ZSBpbmNvbm51LicpO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgYCR7Y29sbGVjdGlvbnNBcGlCYXNlfS8ke2VuY29kZVVSSUNvbXBvbmVudChjb2xsZWN0aW9uSWQpfS9pdGVtc2AsXG4gICAgICAgIHtcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgfSxcbiAgICAgICk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihkYXRhLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgY3JcdTAwRTllciBjZXQgaXRlbS4nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgfTtcblxuICAgIGNvbnN0IHVwZGF0ZUNvbGxlY3Rpb25JdGVtID0gYXN5bmMgKGNvbGxlY3Rpb25JZCwgaXRlbUlkLCBwYXlsb2FkKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25zQXBpQmFzZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NpdGUgaW5jb25udS4nKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgIGAke2NvbGxlY3Rpb25zQXBpQmFzZX0vJHtlbmNvZGVVUklDb21wb25lbnQoY29sbGVjdGlvbklkKX0vaXRlbXMvJHtlbmNvZGVVUklDb21wb25lbnQoaXRlbUlkKX1gLFxuICAgICAgICB7XG4gICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgfSxcbiAgICAgICk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihkYXRhLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgc2F1dmVnYXJkZXIgY2V0IGl0ZW0uJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgIH07XG5cbiAgICBjb25zdCBkZWxldGVDb2xsZWN0aW9uSXRlbSA9IGFzeW5jIChjb2xsZWN0aW9uSWQsIGl0ZW1JZCkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uc0FwaUJhc2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTaXRlIGluY29ubnUuJyk7XG4gICAgICB9XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgICBgJHtjb2xsZWN0aW9uc0FwaUJhc2V9LyR7ZW5jb2RlVVJJQ29tcG9uZW50KGNvbGxlY3Rpb25JZCl9L2l0ZW1zLyR7ZW5jb2RlVVJJQ29tcG9uZW50KGl0ZW1JZCl9YCxcbiAgICAgICAgeyBtZXRob2Q6ICdERUxFVEUnIH0sXG4gICAgICApO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZGF0YS5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIHN1cHByaW1lciBjZXQgaXRlbS4nKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgbG9hZENvbGxlY3Rpb25zID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uc0FwaUJhc2UpIHtcbiAgICAgICAgY29sbGVjdGlvbkVtcHR5U3RhdGU/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICBhY3RpdmVDb2xsZWN0aW9uSWQgPSBudWxsO1xuICAgICAgICBjb2xsZWN0aW9uSXRlbXMgPSBbXTtcbiAgICAgICAgcmVuZGVySXRlbVRhYmxlKCk7XG4gICAgICAgIHVwZGF0ZUNvbGxlY3Rpb25IZWFkZXIoKTtcbiAgICAgICAgc3luY0FkZEJ1dHRvblN0YXRlKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goY29sbGVjdGlvbnNBcGlCYXNlLCB7XG4gICAgICAgICAgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxlcyBjb2xsZWN0aW9ucy4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+IFtdKTtcbiAgICAgICAgY29sbGVjdGlvbnMgPSBBcnJheS5pc0FycmF5KHBheWxvYWQpID8gcGF5bG9hZCA6IFtdO1xuICAgICAgICByZW5kZXJDb2xsZWN0aW9uTGlzdCgpO1xuICAgICAgICBpZiAoY29sbGVjdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGNvbnN0IGRlZmF1bHRJZCA9IGNvbGxlY3Rpb25zLmZpbmQoKGVudHJ5KSA9PiBlbnRyeS5pZCA9PT0gYWN0aXZlQ29sbGVjdGlvbklkKT8uaWRcbiAgICAgICAgICAgIHx8IGNvbGxlY3Rpb25zWzBdLmlkO1xuICAgICAgICAgIHNldEFjdGl2ZUNvbGxlY3Rpb24oZGVmYXVsdElkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhY3RpdmVDb2xsZWN0aW9uSWQgPSBudWxsO1xuICAgICAgICAgIGNvbGxlY3Rpb25JdGVtcyA9IFtdO1xuICAgICAgICAgIHVwZGF0ZUNvbGxlY3Rpb25IZWFkZXIoKTtcbiAgICAgICAgICBzeW5jQWRkQnV0dG9uU3RhdGUoKTtcbiAgICAgICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tjb250ZW50XSBsb2FkIGNvbGxlY3Rpb25zJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIGNvbGxlY3Rpb25zLicpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBpdGVtQWRkQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGlmICghYWN0aXZlQ29sbGVjdGlvbklkKSB7XG4gICAgICAgIHNob3dUb2FzdCgnU1x1MDBFOWxlY3Rpb25uZXogZFx1MjAxOWFib3JkIHVuZSBjb2xsZWN0aW9uLicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwcmVwYXJlTmV3SXRlbUZvcm0oKTtcbiAgICAgIHJlbmRlckl0ZW1UYWJsZSgpO1xuICAgIH0pO1xuXG4gICAgaXRlbUZvcm1DYW5jZWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKGlzQ3JlYXRpbmdJdGVtKSB7XG4gICAgICAgIGlzQ3JlYXRpbmdJdGVtID0gZmFsc2U7XG4gICAgICAgIGFjdGl2ZUl0ZW1JZCA9IG51bGw7XG4gICAgICAgIGhpZGVJdGVtRm9ybSgpO1xuICAgICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGFjdGl2ZUl0ZW1JZCkge1xuICAgICAgICBjb25zdCBpdGVtID0gY29sbGVjdGlvbkl0ZW1zLmZpbmQoKGVudHJ5KSA9PiBlbnRyeS5pZCA9PT0gYWN0aXZlSXRlbUlkKTtcbiAgICAgICAgcG9wdWxhdGVJdGVtRm9ybShpdGVtKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGhpZGVJdGVtRm9ybSgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaXRlbUZvcm1GaWVsZHMuc3RhdHVzPy5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgICBzeW5jSXRlbVN0YXR1c0JhZGdlKGl0ZW1Gb3JtRmllbGRzLnN0YXR1cy52YWx1ZSk7XG4gICAgfSk7XG5cbiAgICBpdGVtRm9ybUZpZWxkcy50aXRsZT8uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgICBpZiAoIWlzQ3JlYXRpbmdJdGVtIHx8ICFpdGVtRm9ybUZpZWxkcy5zbHVnIHx8IGl0ZW1TbHVnTWFudWFsbHlFZGl0ZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaXRlbUZvcm1GaWVsZHMuc2x1Zy52YWx1ZSA9IG5vcm1hbGl6ZUl0ZW1TbHVnSW5wdXQoaXRlbUZvcm1GaWVsZHMudGl0bGUudmFsdWUpO1xuICAgIH0pO1xuXG4gICAgaXRlbUZvcm1GaWVsZHMuc2x1Zz8uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgICBpZiAoIWlzQ3JlYXRpbmdJdGVtKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGl0ZW1TbHVnTWFudWFsbHlFZGl0ZWQgPSB0cnVlO1xuICAgIH0pO1xuXG4gICAgaXRlbUZvcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmICghYWN0aXZlQ29sbGVjdGlvbklkKSB7XG4gICAgICAgIHNob3dUb2FzdCgnU1x1MDBFOWxlY3Rpb25uZXogdW5lIGNvbGxlY3Rpb24uJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHZhbHVlcyA9IGNvbGxlY3RJdGVtRm9ybVZhbHVlcygpO1xuICAgICAgaWYgKCF2YWx1ZXMudGl0bGUpIHtcbiAgICAgICAgc2hvd1RvYXN0KCdMZSB0aXRyZSBlc3QgcmVxdWlzLicpO1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy50aXRsZT8uZm9jdXMoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2V0Rm9ybVNhdmluZ1N0YXRlKHRydWUpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgbGV0IHNhdmVkSXRlbTtcbiAgICAgICAgaWYgKGlzQ3JlYXRpbmdJdGVtIHx8ICFhY3RpdmVJdGVtSWQpIHtcbiAgICAgICAgICBzYXZlZEl0ZW0gPSBhd2FpdCBjcmVhdGVDb2xsZWN0aW9uSXRlbShhY3RpdmVDb2xsZWN0aW9uSWQsIHZhbHVlcyk7XG4gICAgICAgICAgY29sbGVjdGlvbkl0ZW1zID0gWy4uLmNvbGxlY3Rpb25JdGVtcywgc2F2ZWRJdGVtXTtcbiAgICAgICAgICBzaG93VG9hc3QoJ0l0ZW0gY3JcdTAwRTlcdTAwRTknKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzYXZlZEl0ZW0gPSBhd2FpdCB1cGRhdGVDb2xsZWN0aW9uSXRlbShhY3RpdmVDb2xsZWN0aW9uSWQsIGFjdGl2ZUl0ZW1JZCwgdmFsdWVzKTtcbiAgICAgICAgICBjb2xsZWN0aW9uSXRlbXMgPSBjb2xsZWN0aW9uSXRlbXMubWFwKChpdGVtKSA9PlxuICAgICAgICAgICAgaXRlbS5pZCA9PT0gc2F2ZWRJdGVtLmlkID8gc2F2ZWRJdGVtIDogaXRlbSxcbiAgICAgICAgICApO1xuICAgICAgICAgIHNob3dUb2FzdCgnSXRlbSBtaXMgXHUwMEUwIGpvdXInKTtcbiAgICAgICAgfVxuICAgICAgICBpc0NyZWF0aW5nSXRlbSA9IGZhbHNlO1xuICAgICAgICBhY3RpdmVJdGVtSWQgPSBzYXZlZEl0ZW0uaWQ7XG4gICAgICAgIHBvcHVsYXRlSXRlbUZvcm0oc2F2ZWRJdGVtKTtcbiAgICAgICAgcmVuZGVySXRlbVRhYmxlKCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2NvbnRlbnRdIHNhdmUgaXRlbSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgc2F1dmVnYXJkZXIgY2V0IGl0ZW0uJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZXRGb3JtU2F2aW5nU3RhdGUoZmFsc2UpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgY29uc3QgY2xvc2VEZWxldGVNb2RhbCA9ICgpID0+IHtcbiAgICAgIGlmICghaXRlbURlbGV0ZU1vZGFsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGl0ZW1EZWxldGVNb2RhbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGl0ZW1EZWxldGVNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdmbGV4Jyk7XG4gICAgICBwZW5kaW5nRGVsZXRlSXRlbUlkID0gbnVsbDtcbiAgICB9O1xuXG4gICAgY29uc3Qgb3BlbkRlbGV0ZU1vZGFsID0gKCkgPT4ge1xuICAgICAgaWYgKCFpdGVtRGVsZXRlTW9kYWwgfHwgIWFjdGl2ZUl0ZW1JZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwZW5kaW5nRGVsZXRlSXRlbUlkID0gYWN0aXZlSXRlbUlkO1xuICAgICAgaXRlbURlbGV0ZU1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgaXRlbURlbGV0ZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2ZsZXgnKTtcbiAgICB9O1xuXG4gICAgaXRlbURlbGV0ZUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoIWFjdGl2ZUl0ZW1JZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBvcGVuRGVsZXRlTW9kYWwoKTtcbiAgICB9KTtcblxuICAgIGl0ZW1EZWxldGVDYW5jZWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY2xvc2VEZWxldGVNb2RhbCgpO1xuICAgIH0pO1xuXG4gICAgaXRlbURlbGV0ZU1vZGFsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gaXRlbURlbGV0ZU1vZGFsKSB7XG4gICAgICAgIGNsb3NlRGVsZXRlTW9kYWwoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGl0ZW1EZWxldGVDb25maXJtPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghcGVuZGluZ0RlbGV0ZUl0ZW1JZCB8fCAhYWN0aXZlQ29sbGVjdGlvbklkKSB7XG4gICAgICAgIGNsb3NlRGVsZXRlTW9kYWwoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaXRlbURlbGV0ZUNvbmZpcm0uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgaXRlbURlbGV0ZUNvbmZpcm0udGV4dENvbnRlbnQgPSAnU3VwcHJlc3Npb25cdTIwMjYnO1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgZGVsZXRlQ29sbGVjdGlvbkl0ZW0oYWN0aXZlQ29sbGVjdGlvbklkLCBwZW5kaW5nRGVsZXRlSXRlbUlkKTtcbiAgICAgICAgY29sbGVjdGlvbkl0ZW1zID0gY29sbGVjdGlvbkl0ZW1zLmZpbHRlcigoaXRlbSkgPT4gaXRlbS5pZCAhPT0gcGVuZGluZ0RlbGV0ZUl0ZW1JZCk7XG4gICAgICAgIGlmIChhY3RpdmVJdGVtSWQgPT09IHBlbmRpbmdEZWxldGVJdGVtSWQpIHtcbiAgICAgICAgICBhY3RpdmVJdGVtSWQgPSBudWxsO1xuICAgICAgICAgIGhpZGVJdGVtRm9ybSgpO1xuICAgICAgICB9XG4gICAgICAgIHNob3dUb2FzdCgnSXRlbSBzdXBwcmltXHUwMEU5Jyk7XG4gICAgICAgIHJlbmRlckl0ZW1UYWJsZSgpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tjb250ZW50XSBkZWxldGUgaXRlbSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgc3VwcHJpbWVyIGNldCBpdGVtLicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaXRlbURlbGV0ZUNvbmZpcm0uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgaXRlbURlbGV0ZUNvbmZpcm0udGV4dENvbnRlbnQgPSAnU3VwcHJpbWVyJztcbiAgICAgICAgY2xvc2VEZWxldGVNb2RhbCgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdXBkYXRlQ29sbGVjdGlvbkhlYWRlcigpO1xuICAgIHN5bmNBZGRCdXR0b25TdGF0ZSgpO1xuICAgIGxvYWRDb2xsZWN0aW9ucygpO1xuICB9XG5cbiAgZnVuY3Rpb24gaW5pdERlcGxveVdvcmtzcGFjZSgpIHtcbiAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LWZvcm1dJyk7XG4gICAgaWYgKCFmb3JtKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHByb3RvY29sU2VsZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LXByb3RvY29sXScpO1xuICAgIGNvbnN0IGhvc3RJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1ob3N0XScpO1xuICAgIGNvbnN0IHBvcnRJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1wb3J0XScpO1xuICAgIGNvbnN0IHVzZXJJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS11c2VyXScpO1xuICAgIGNvbnN0IHBhc3N3b3JkSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktcGFzc3dvcmRdJyk7XG4gICAgY29uc3Qgc2hvd1Bhc3N3b3JkVG9nZ2xlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LXNob3ctcGFzc3dvcmRdJyk7XG4gICAgY29uc3QgcmVtb3RlUGF0aElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LXJlbW90ZS1wYXRoXScpO1xuICAgIGNvbnN0IGZlZWRiYWNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LWZlZWRiYWNrXScpO1xuICAgIGNvbnN0IHNhdmVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktc2F2ZV0nKTtcbiAgICBjb25zdCB0ZXN0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LXRlc3RdJyk7XG4gICAgY29uc3QgZGVwbG95QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LXRyaWdnZXJdJyk7XG4gICAgY29uc3QgaGlzdG9yeUxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktaGlzdG9yeV0nKTtcbiAgICBjb25zdCBsb2dCb3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktbG9nXScpO1xuXG4gICAgY29uc3Qgc2FmZVNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goXG4gICAgICB3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnLFxuICAgICk7XG4gICAgY29uc3QgZGVwbG95QXBpQmFzZSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9kZXBsb3ktY29uZmlnYFxuICAgICAgOiBudWxsO1xuICAgIGNvbnN0IGRlcGxveVJ1bkFwaSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9kZXBsb3lgXG4gICAgICA6IG51bGw7XG4gICAgY29uc3QgZGVwbG95TG9nQXBpID0gc2FmZVNpdGVTbHVnXG4gICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Zyl9L2RlcGxveS1sb2dgXG4gICAgICA6IG51bGw7XG5cbiAgICBsZXQgaGFzUGFzc3dvcmQgPSBmYWxzZTtcbiAgICBsZXQgYnVzeUFjdGlvbiA9IG51bGw7XG5cbiAgICBjb25zdCBzYW5pdGl6ZVJlbW90ZVBhdGggPSAodmFsdWUpID0+IHtcbiAgICAgIGNvbnN0IHRyaW1tZWQgPSAodmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgIGlmICghdHJpbW1lZCkge1xuICAgICAgICByZXR1cm4gJy93d3cnO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRyaW1tZWQuc3RhcnRzV2l0aCgnLycpID8gdHJpbW1lZCA6IGAvJHt0cmltbWVkfWA7XG4gICAgfTtcblxuICAgIGNvbnN0IHNldEZlZWRiYWNrID0gKG1lc3NhZ2UsIHRvbmUgPSAnbXV0ZWQnKSA9PiB7XG4gICAgICBpZiAoIWZlZWRiYWNrKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGJhc2VDbGFzcyA9ICdpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgcm91bmRlZC1mdWxsIHB4LTMgcHktMSB0ZXh0LXhzIGZvbnQtc2VtaWJvbGQnO1xuICAgICAgY29uc3QgdG9uZUNsYXNzID1cbiAgICAgICAgdG9uZSA9PT0gJ3N1Y2Nlc3MnXG4gICAgICAgICAgPyAnYmctZW1lcmFsZC01MCB0ZXh0LWVtZXJhbGQtNzAwIGJvcmRlciBib3JkZXItZW1lcmFsZC0xMDAnXG4gICAgICAgICAgOiB0b25lID09PSAnZXJyb3InXG4gICAgICAgICAgICA/ICdiZy1yb3NlLTUwIHRleHQtcm9zZS03MDAgYm9yZGVyIGJvcmRlci1yb3NlLTEwMCdcbiAgICAgICAgICAgIDogJ2JnLXNsYXRlLTUwIHRleHQtc2xhdGUtNjAwIGJvcmRlciBib3JkZXItc2xhdGUtMTAwJztcbiAgICAgIGlmICghbWVzc2FnZSkge1xuICAgICAgICBmZWVkYmFjay50ZXh0Q29udGVudCA9ICcnO1xuICAgICAgICBmZWVkYmFjay5jbGFzc05hbWUgPSAndGV4dC1zbSB0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGljb24gPSB0b25lID09PSAnc3VjY2VzcycgPyAnXHUyNzA1JyA6IHRvbmUgPT09ICdlcnJvcicgPyAnXHUyNzRDJyA6ICdcdTIxMzlcdUZFMEYnO1xuICAgICAgZmVlZGJhY2suaW5uZXJIVE1MID0gYDxzcGFuIGNsYXNzPVwiJHtiYXNlQ2xhc3N9ICR7dG9uZUNsYXNzfVwiPiR7aWNvbn08c3Bhbj4ke21lc3NhZ2V9PC9zcGFuPjwvc3Bhbj5gO1xuICAgICAgZmVlZGJhY2suY2xhc3NOYW1lID0gJ3RleHQtc20nO1xuICAgIH07XG5cbiAgICBjb25zdCBzZXRCdXN5ID0gKGFjdGlvbiA9IG51bGwpID0+IHtcbiAgICAgIGJ1c3lBY3Rpb24gPSBhY3Rpb247XG4gICAgICBjb25zdCBkaXNhYmxlID0gQm9vbGVhbihhY3Rpb24pO1xuICAgICAgY29uc3Qgc3Bpbm5lciA9XG4gICAgICAgICc8c3ZnIGNsYXNzPVwiaC00IHctNCBhbmltYXRlLXNwaW4gdGV4dC13aGl0ZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjxjaXJjbGUgY2xhc3M9XCJvcGFjaXR5LTI1XCIgY3g9XCIxMlwiIGN5PVwiMTJcIiByPVwiMTBcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCI0XCI+PC9jaXJjbGU+PHBhdGggY2xhc3M9XCJvcGFjaXR5LTc1XCIgZmlsbD1cImN1cnJlbnRDb2xvclwiIGQ9XCJNNCAxMmE4IDggMCAwMTgtOHY0YTQgNCAwIDAwLTQgNEg0elwiPjwvcGF0aD48L3N2Zz4nO1xuICAgICAgaWYgKHNhdmVCdXR0b24pIHtcbiAgICAgICAgc2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IGRpc2FibGU7XG4gICAgICAgIHNhdmVCdXR0b24uaW5uZXJIVE1MID1cbiAgICAgICAgICBhY3Rpb24gPT09ICdzYXZlJ1xuICAgICAgICAgICAgPyBgPHNwYW4gY2xhc3M9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj4ke3NwaW5uZXJ9PHNwYW4+RW5yZWdpc3RyZW1lbnRcdTIwMjY8L3NwYW4+PC9zcGFuPmBcbiAgICAgICAgICAgIDogJ0VucmVnaXN0cmVyJztcbiAgICAgIH1cbiAgICAgIGlmICh0ZXN0QnV0dG9uKSB7XG4gICAgICAgIHRlc3RCdXR0b24uZGlzYWJsZWQgPSBkaXNhYmxlO1xuICAgICAgICB0ZXN0QnV0dG9uLmlubmVySFRNTCA9XG4gICAgICAgICAgYWN0aW9uID09PSAndGVzdCdcbiAgICAgICAgICAgID8gYDxzcGFuIGNsYXNzPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+PHNwYW4gY2xhc3M9XCJoLTQgdy00IGFuaW1hdGUtc3BpbiByb3VuZGVkLWZ1bGwgYm9yZGVyLTIgYm9yZGVyLXNsYXRlLTIwMCBib3JkZXItdC1zbGF0ZS02MDBcIj48L3NwYW4+PHNwYW4+VGVzdCBlbiBjb3Vyc1x1MjAyNjwvc3Bhbj48L3NwYW4+YFxuICAgICAgICAgICAgOiAnVGVzdGVyIGxhIGNvbm5leGlvbic7XG4gICAgICB9XG4gICAgICBpZiAoZGVwbG95QnV0dG9uKSB7XG4gICAgICAgIGRlcGxveUJ1dHRvbi5kaXNhYmxlZCA9IGRpc2FibGUgJiYgYWN0aW9uICE9PSBudWxsO1xuICAgICAgICBkZXBsb3lCdXR0b24uaW5uZXJIVE1MID1cbiAgICAgICAgICBhY3Rpb24gPT09ICdkZXBsb3knXG4gICAgICAgICAgICA/IGA8c3BhbiBjbGFzcz1cImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPjxzcGFuIGNsYXNzPVwiaC00IHctNCBhbmltYXRlLXNwaW4gcm91bmRlZC1mdWxsIGJvcmRlci0yIGJvcmRlci13aGl0ZS82MCBib3JkZXItdC13aGl0ZVwiPjwvc3Bhbj48c3Bhbj5EXHUwMEU5cGxvaWVtZW50XHUyMDI2PC9zcGFuPjwvc3Bhbj5gXG4gICAgICAgICAgICA6ICdEXHUwMEU5cGxveWVyIG1haW50ZW5hbnQnO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBwb3B1bGF0ZUZvcm0gPSAoY29uZmlnKSA9PiB7XG4gICAgICBwcm90b2NvbFNlbGVjdCAmJiAocHJvdG9jb2xTZWxlY3QudmFsdWUgPSBjb25maWcucHJvdG9jb2wgfHwgJ3NmdHAnKTtcbiAgICAgIGhvc3RJbnB1dCAmJiAoaG9zdElucHV0LnZhbHVlID0gY29uZmlnLmhvc3QgfHwgJycpO1xuICAgICAgcG9ydElucHV0ICYmIChwb3J0SW5wdXQudmFsdWUgPSBjb25maWcucG9ydCB8fCAnJyk7XG4gICAgICB1c2VySW5wdXQgJiYgKHVzZXJJbnB1dC52YWx1ZSA9IGNvbmZpZy51c2VyIHx8ICcnKTtcbiAgICAgIHJlbW90ZVBhdGhJbnB1dCAmJiAocmVtb3RlUGF0aElucHV0LnZhbHVlID0gY29uZmlnLnJlbW90ZVBhdGggfHwgJy93d3cnKTtcbiAgICAgIGhhc1Bhc3N3b3JkID0gQm9vbGVhbihjb25maWcuaGFzUGFzc3dvcmQpO1xuICAgICAgaWYgKHBhc3N3b3JkSW5wdXQpIHtcbiAgICAgICAgcGFzc3dvcmRJbnB1dC52YWx1ZSA9ICcnO1xuICAgICAgICBwYXNzd29yZElucHV0LnBsYWNlaG9sZGVyID0gaGFzUGFzc3dvcmQgPyAnTm9uIGFmZmljaFx1MDBFOScgOiAnTW90IGRlIHBhc3NlJztcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgcmVuZGVySGlzdG9yeSA9IChlbnRyaWVzID0gW10pID0+IHtcbiAgICAgIGlmICghaGlzdG9yeUxpc3QpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaGlzdG9yeUxpc3QuaW5uZXJIVE1MID0gJyc7XG4gICAgICBpZiAoIWVudHJpZXMubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgbGkuY2xhc3NOYW1lID0gJ3RleHQtc2xhdGUtNTAwJztcbiAgICAgICAgbGkudGV4dENvbnRlbnQgPSAnQXVjdW4gZFx1MDBFOXBsb2llbWVudCBwb3VyIGxlIG1vbWVudC4nO1xuICAgICAgICBoaXN0b3J5TGlzdC5hcHBlbmRDaGlsZChsaSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGVudHJpZXMuZm9yRWFjaCgoZW50cnkpID0+IHtcbiAgICAgICAgY29uc3QgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgICBsaS5jbGFzc05hbWUgPVxuICAgICAgICAgICdmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gZ2FwLTIgcm91bmRlZC14bCBib3JkZXIgYm9yZGVyLXNsYXRlLTIwMCBweC0zIHB5LTInO1xuICAgICAgICBjb25zdCBzdGF0dXNCYWRnZSA9XG4gICAgICAgICAgZW50cnkuc3RhdHVzID09PSAnc3VjY2VzcydcbiAgICAgICAgICAgID8gJzxzcGFuIGNsYXNzPVwicm91bmRlZC1mdWxsIGJnLWVtZXJhbGQtNTAgcHgtMiBweS0wLjUgdGV4dC1bMTFweF0gZm9udC1zZW1pYm9sZCB0ZXh0LWVtZXJhbGQtNzAwXCI+U3VjY1x1MDBFOHM8L3NwYW4+J1xuICAgICAgICAgICAgOiAnPHNwYW4gY2xhc3M9XCJyb3VuZGVkLWZ1bGwgYmctcm9zZS01MCBweC0yIHB5LTAuNSB0ZXh0LVsxMXB4XSBmb250LXNlbWlib2xkIHRleHQtcm9zZS03MDBcIj5cdTAwQzljaGVjPC9zcGFuPic7XG4gICAgICAgIGNvbnN0IGRhdGUgPSBlbnRyeS5maW5pc2hlZEF0IHx8IGVudHJ5LnN0YXJ0ZWRBdCB8fCAnJztcbiAgICAgICAgY29uc3QgZHVyYXRpb24gPVxuICAgICAgICAgIGVudHJ5LmR1cmF0aW9uTXMgJiYgTnVtYmVyKGVudHJ5LmR1cmF0aW9uTXMpID49IDBcbiAgICAgICAgICAgID8gYCR7TWF0aC5yb3VuZChOdW1iZXIoZW50cnkuZHVyYXRpb25NcykgLyAxMDAwKX1zYFxuICAgICAgICAgICAgOiAnJztcbiAgICAgICAgbGkuaW5uZXJIVE1MID0gYFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJzcGFjZS15LTFcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPiR7c3RhdHVzQmFkZ2V9PHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNTAwXCI+JHtkYXRlfTwvc3Bhbj48L2Rpdj5cbiAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1zbSB0ZXh0LXNsYXRlLTgwMFwiPiR7ZW50cnkubWVzc2FnZSB8fCAnJ308L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInRleHQteHMgdGV4dC1zbGF0ZS01MDBcIj4ke2R1cmF0aW9ufTwvZGl2PlxuICAgICAgICBgO1xuICAgICAgICBsaS5kYXRhc2V0LmRlcGxveUlkID0gZW50cnkuaWQgfHwgJyc7XG4gICAgICAgIGxpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgIGlmIChlbnRyeS5sb2dzICYmIGxvZ0JveCkge1xuICAgICAgICAgICAgbG9nQm94LnRleHRDb250ZW50ID0gZW50cnkubG9ncy5qb2luKCdcXG4nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBoaXN0b3J5TGlzdC5hcHBlbmRDaGlsZChsaSk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgcmVuZGVyTG9ncyA9IChsaW5lcyA9IFtdKSA9PiB7XG4gICAgICBpZiAoIWxvZ0JveCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBsb2dCb3gudGV4dENvbnRlbnQgPSBsaW5lcy5sZW5ndGggPyBsaW5lcy5qb2luKCdcXG4nKSA6ICdBdWN1biBsb2cgcG91ciBsZSBtb21lbnQuJztcbiAgICB9O1xuXG4gICAgY29uc3QgZmV0Y2hIaXN0b3J5ID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFkZXBsb3lMb2dBcGkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChkZXBsb3lMb2dBcGksIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICAgICAgICByZW5kZXJIaXN0b3J5KFtdKTtcbiAgICAgICAgICAgIHJlbmRlckxvZ3MoWydBUEkgZFx1MDBFOXBsb2llbWVudCBpbmRpc3BvbmlibGUgKHJlZFx1MDBFOW1hcnJlIGxlIHNlcnZldXIpLiddKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbFx1MjAxOWhpc3RvcmlxdWUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgY29uc3QgZW50cmllcyA9IEFycmF5LmlzQXJyYXkocGF5bG9hZC5lbnRyaWVzKSA/IHBheWxvYWQuZW50cmllcyA6IFtdO1xuICAgICAgICByZW5kZXJIaXN0b3J5KGVudHJpZXMpO1xuICAgICAgICBpZiAoZW50cmllc1swXT8ubG9ncykge1xuICAgICAgICAgIHJlbmRlckxvZ3MoZW50cmllc1swXS5sb2dzKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkZXBsb3ldIGhpc3RvcnkgZmFpbGVkJywgZXJyKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgZmV0Y2hDb25maWcgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWRlcGxveUFwaUJhc2UpIHtcbiAgICAgICAgc2V0RmVlZGJhY2soJ0F1Y3VuIHNpdGUgYWN0aWYgc1x1MDBFOWxlY3Rpb25uXHUwMEU5LicsICdlcnJvcicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZXRCdXN5KCdsb2FkJyk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGRlcGxveUFwaUJhc2UsIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xuICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBwb3B1bGF0ZUZvcm0ocGF5bG9hZCB8fCB7fSk7XG4gICAgICAgICAgc2V0RmVlZGJhY2soJ0NvbmZpZ3VyYXRpb24gY2hhcmdcdTAwRTllLicsICdtdXRlZCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBvcHVsYXRlRm9ybShwYXlsb2FkIHx8IHt9KTtcbiAgICAgICAgICBzZXRGZWVkYmFjayhwYXlsb2FkLm1lc3NhZ2UgfHwgJ0NvbmZpZ3VyYXRpb24gcGFyIGRcdTAwRTlmYXV0IGNoYXJnXHUwMEU5ZS4nLCAnbXV0ZWQnKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkZXBsb3ldIGxvYWQgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2V0RmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGR1IGNoYXJnZW1lbnQuJywgJ2Vycm9yJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZXRCdXN5KG51bGwpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBidWlsZFBheWxvYWQgPSAoKSA9PiB7XG4gICAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICBwcm90b2NvbDogcHJvdG9jb2xTZWxlY3Q/LnZhbHVlIHx8ICdzZnRwJyxcbiAgICAgICAgaG9zdDogaG9zdElucHV0Py52YWx1ZS50cmltKCkgfHwgJycsXG4gICAgICAgIHBvcnQ6IE51bWJlcihwb3J0SW5wdXQ/LnZhbHVlKSB8fCB1bmRlZmluZWQsXG4gICAgICAgIHVzZXI6IHVzZXJJbnB1dD8udmFsdWUudHJpbSgpIHx8ICcnLFxuICAgICAgICByZW1vdGVQYXRoOiBzYW5pdGl6ZVJlbW90ZVBhdGgocmVtb3RlUGF0aElucHV0Py52YWx1ZSB8fCAnL3d3dycpLFxuICAgICAgfTtcbiAgICAgIGNvbnN0IHB3ZCA9IHBhc3N3b3JkSW5wdXQ/LnZhbHVlIHx8ICcnO1xuICAgICAgaWYgKHB3ZC50cmltKCkubGVuZ3RoID4gMCkge1xuICAgICAgICBwYXlsb2FkLnBhc3N3b3JkID0gcHdkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfTtcblxuICAgIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKCFkZXBsb3lBcGlCYXNlKSB7XG4gICAgICAgIHNldEZlZWRiYWNrKCdBdWN1biBzaXRlIGFjdGlmIHNcdTAwRTlsZWN0aW9ublx1MDBFOS4nLCAnZXJyb3InKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgcGF5bG9hZCA9IGJ1aWxkUGF5bG9hZCgpO1xuICAgICAgc2V0QnVzeSgnc2F2ZScpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChkZXBsb3lBcGlCYXNlLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBjb25zdCBlcnJvclBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yUGF5bG9hZC5tZXNzYWdlIHx8ICdTYXV2ZWdhcmRlIGltcG9zc2libGUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2F2ZWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIHBvcHVsYXRlRm9ybShzYXZlZCB8fCB7fSk7XG4gICAgICAgIHNldEZlZWRiYWNrKCdDb25maWd1cmF0aW9uIGVucmVnaXN0clx1MDBFOWUuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgc2hvd1RvYXN0KCdDb25maWd1cmF0aW9uIGRcdTAwRTlwbG9pZW1lbnQgc2F1dmVnYXJkXHUwMEU5ZScpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkZXBsb3ldIHNhdmUgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2V0RmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGRlIGxhIHNhdXZlZ2FyZGUuJywgJ2Vycm9yJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZXRCdXN5KG51bGwpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGVzdEJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWRlcGxveUFwaUJhc2UpIHtcbiAgICAgICAgc2V0RmVlZGJhY2soJ0F1Y3VuIHNpdGUgYWN0aWYgc1x1MDBFOWxlY3Rpb25uXHUwMEU5LicsICdlcnJvcicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBwYXlsb2FkID0gYnVpbGRQYXlsb2FkKCk7XG4gICAgICBpZiAoIXBheWxvYWQuaG9zdCB8fCAhcGF5bG9hZC51c2VyIHx8ICFwYXlsb2FkLnJlbW90ZVBhdGgpIHtcbiAgICAgICAgc2V0RmVlZGJhY2soJ1JlbXBsaXNzZXogbGVzIGNoYW1wcyByZXF1aXMgYXZhbnQgZGUgdGVzdGVyLicsICdlcnJvcicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZXRCdXN5KCd0ZXN0Jyk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke2RlcGxveUFwaUJhc2V9L3Rlc3RgLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2sgfHwgcmVzdWx0LnN1Y2Nlc3MgPT09IGZhbHNlKSB7XG4gICAgICAgICAgc2V0RmVlZGJhY2socmVzdWx0Lm1lc3NhZ2UgfHwgJ1Rlc3QgZGUgY29ubmV4aW9uIFx1MDBFOWNob3VcdTAwRTkuJywgJ2Vycm9yJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNldEZlZWRiYWNrKHJlc3VsdC5tZXNzYWdlIHx8ICdDb25uZXhpb24gT0suJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgc2hvd1RvYXN0KCdUZXN0IGRlIGNvbm5leGlvbiByXHUwMEU5dXNzaScpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkZXBsb3ldIHRlc3QgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2V0RmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ1Rlc3QgZGUgY29ubmV4aW9uIFx1MDBFOWNob3VcdTAwRTkuJywgJ2Vycm9yJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZXRCdXN5KG51bGwpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgZGVwbG95QnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghZGVwbG95UnVuQXBpKSB7XG4gICAgICAgIHNldEZlZWRiYWNrKCdBdWN1biBzaXRlIGFjdGlmIHNcdTAwRTlsZWN0aW9ublx1MDBFOS4nLCAnZXJyb3InKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2V0QnVzeSgnZGVwbG95Jyk7XG4gICAgICByZW5kZXJMb2dzKFsnRFx1MDBFOXBsb2llbWVudCBlbiBjb3Vyc1x1MjAyNiddKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goZGVwbG95UnVuQXBpLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYnVpbGRQYXlsb2FkKCkpLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICAgICAgICBzZXRGZWVkYmFjaygnQVBJIGRcdTAwRTlwbG9pZW1lbnQgaW5kaXNwb25pYmxlIChyZWRcdTAwRTltYXJyZSBsZSBzZXJ2ZXVyKS4nLCAnZXJyb3InKTtcbiAgICAgICAgICAgIHJlbmRlckxvZ3MoWydBUEkgZFx1MDBFOXBsb2llbWVudCBpbmRpc3BvbmlibGUgKHJlZFx1MDBFOW1hcnJlIGxlIHNlcnZldXIpLiddKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVuZGVyTG9ncyhyZXN1bHQubG9ncyB8fCBbXSk7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5tZXNzYWdlIHx8ICdEXHUwMEU5cGxvaWVtZW50IFx1MDBFOWNob3VcdTAwRTkuJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmVuZGVyTG9ncyhyZXN1bHQubG9ncyB8fCBbXSk7XG4gICAgICAgIGF3YWl0IGZldGNoSGlzdG9yeSgpO1xuICAgICAgICBzaG93VG9hc3QoJ0RcdTAwRTlwbG9pZW1lbnQgdGVybWluXHUwMEU5Jyk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2RlcGxveV0gcnVuIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNldEZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdEXHUwMEU5cGxvaWVtZW50IFx1MDBFOWNob3VcdTAwRTkuJywgJ2Vycm9yJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZXRCdXN5KG51bGwpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgc2hvd1Bhc3N3b3JkVG9nZ2xlPy5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgICBpZiAoIXBhc3N3b3JkSW5wdXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcGFzc3dvcmRJbnB1dC50eXBlID0gc2hvd1Bhc3N3b3JkVG9nZ2xlLmNoZWNrZWQgPyAndGV4dCcgOiAncGFzc3dvcmQnO1xuICAgIH0pO1xuXG4gICAgLy8gRG93bmxvYWQgYnVpbGQgYXMgWklQXG4gICAgY29uc3QgZG93bmxvYWRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kb3dubG9hZC1idWlsZF0nKTtcbiAgICBjb25zdCBkb3dubG9hZEZlZWRiYWNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZG93bmxvYWQtZmVlZGJhY2tdJyk7XG4gICAgY29uc3QgZG93bmxvYWRBcGkgPSBzYWZlU2l0ZVNsdWdcbiAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnKX0vZG93bmxvYWRgXG4gICAgICA6IG51bGw7XG5cbiAgICBjb25zdCBzZXREb3dubG9hZEZlZWRiYWNrID0gKG1lc3NhZ2UsIHRvbmUgPSAnbXV0ZWQnKSA9PiB7XG4gICAgICBpZiAoIWRvd25sb2FkRmVlZGJhY2spIHJldHVybjtcbiAgICAgIGNvbnN0IGNvbG9yID1cbiAgICAgICAgdG9uZSA9PT0gJ3N1Y2Nlc3MnXG4gICAgICAgICAgPyAndGV4dC1lbWVyYWxkLTYwMCdcbiAgICAgICAgICA6IHRvbmUgPT09ICdlcnJvcidcbiAgICAgICAgICAgID8gJ3RleHQtcm9zZS02MDAnXG4gICAgICAgICAgICA6ICd0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICBkb3dubG9hZEZlZWRiYWNrLnRleHRDb250ZW50ID0gbWVzc2FnZSB8fCAnJztcbiAgICAgIGRvd25sb2FkRmVlZGJhY2suY2xhc3NOYW1lID0gYHRleHQtc20gJHtjb2xvcn1gO1xuICAgIH07XG5cbiAgICBkb3dubG9hZEJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWRvd25sb2FkQXBpKSB7XG4gICAgICAgIHNldERvd25sb2FkRmVlZGJhY2soJ0F1Y3VuIHNpdGUgYWN0aWYgc1x1MDBFOWxlY3Rpb25uXHUwMEU5LicsICdlcnJvcicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBkb3dubG9hZEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICBjb25zdCBvcmlnaW5hbENvbnRlbnQgPSBkb3dubG9hZEJ1dHRvbi5pbm5lckhUTUw7XG4gICAgICBkb3dubG9hZEJ1dHRvbi5pbm5lckhUTUwgPSBgXG4gICAgICAgIDxzdmcgY2xhc3M9XCJ3LTQgaC00IGFuaW1hdGUtc3BpblwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgIDxjaXJjbGUgY2xhc3M9XCJvcGFjaXR5LTI1XCIgY3g9XCIxMlwiIGN5PVwiMTJcIiByPVwiMTBcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCI0XCI+PC9jaXJjbGU+XG4gICAgICAgICAgPHBhdGggY2xhc3M9XCJvcGFjaXR5LTc1XCIgZmlsbD1cImN1cnJlbnRDb2xvclwiIGQ9XCJNNCAxMmE4IDggMCAwMTgtOHY0YTQgNCAwIDAwLTQgNEg0elwiPjwvcGF0aD5cbiAgICAgICAgPC9zdmc+XG4gICAgICAgIDxzcGFuPkJ1aWxkIGVuIGNvdXJzLi4uPC9zcGFuPlxuICAgICAgYDtcbiAgICAgIHNldERvd25sb2FkRmVlZGJhY2soJ0dcdTAwRTluXHUwMEU5cmF0aW9uIGR1IGJ1aWxkIGVuIGNvdXJzLi4uJywgJ211dGVkJyk7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goZG93bmxvYWRBcGkpO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgY29uc3QgZXJyb3JEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvckRhdGEubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBnXHUwMEU5blx1MDBFOXJlciBsZSBaSVAuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVFx1MDBFOWxcdTAwRTljaGFyZ2VyIGxlIGZpY2hpZXJcbiAgICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IHJlc3BvbnNlLmJsb2IoKTtcbiAgICAgICAgY29uc3QgdXJsID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4gICAgICAgIGNvbnN0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICAgIGEuaHJlZiA9IHVybDtcbiAgICAgICAgYS5kb3dubG9hZCA9IGAke3NhZmVTaXRlU2x1Z30tYnVpbGQuemlwYDtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhKTtcbiAgICAgICAgYS5jbGljaygpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGEpO1xuICAgICAgICB3aW5kb3cuVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpO1xuICAgICAgICBzZXREb3dubG9hZEZlZWRiYWNrKCdUXHUwMEU5bFx1MDBFOWNoYXJnZW1lbnQgdGVybWluXHUwMEU5ICEnLCAnc3VjY2VzcycpO1xuICAgICAgICBzaG93VG9hc3QoJ0J1aWxkIHRcdTAwRTlsXHUwMEU5Y2hhcmdcdTAwRTkgYXZlYyBzdWNjXHUwMEU4cycpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkb3dubG9hZF0gZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2V0RG93bmxvYWRGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZHUgdFx1MDBFOWxcdTAwRTljaGFyZ2VtZW50LicsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgZG93bmxvYWRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgZG93bmxvYWRCdXR0b24uaW5uZXJIVE1MID0gb3JpZ2luYWxDb250ZW50O1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgZmV0Y2hDb25maWcoKTtcbiAgICBmZXRjaEhpc3RvcnkoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXRTZXR0aW5nc1dvcmtzcGFjZSgpIHtcbiAgICBjb25zdCB0YWJCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtc2V0dGluZ3MtdGFiXScpO1xuICAgIGNvbnN0IHRhYlBhbmVscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXNldHRpbmdzLXBhbmVsXScpO1xuICAgIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZG1pbi1wYXNzd29yZC1mb3JtXScpO1xuICAgIGNvbnN0IHNpdGVGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS1jb25maWctZm9ybV0nKTtcbiAgICBjb25zdCBzaXRlRmVlZGJhY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLWNvbmZpZy1mZWVkYmFja10nKTtcbiAgICBjb25zdCB0aGVtZUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1mb3JtXScpO1xuICAgIGNvbnN0IHN3aXRjaFRhYiA9IChuYW1lKSA9PiB7XG4gICAgICB0YWJCdXR0b25zLmZvckVhY2goKGJ0bikgPT4ge1xuICAgICAgICBjb25zdCBpc0FjdGl2ZSA9IGJ0bi5kYXRhc2V0LnNldHRpbmdzVGFiID09PSBuYW1lO1xuICAgICAgICBidG4uc2V0QXR0cmlidXRlKCdhcmlhLXNlbGVjdGVkJywgaXNBY3RpdmUgPyAndHJ1ZScgOiAnZmFsc2UnKTtcbiAgICAgICAgYnRuLmNsYXNzTGlzdC50b2dnbGUoJ2JnLVsjOUM2QkZGXScsIGlzQWN0aXZlKTtcbiAgICAgICAgYnRuLmNsYXNzTGlzdC50b2dnbGUoJ3RleHQtd2hpdGUnLCBpc0FjdGl2ZSk7XG4gICAgICB9KTtcbiAgICAgIHRhYlBhbmVscy5mb3JFYWNoKChwYW5lbCkgPT4ge1xuICAgICAgICBwYW5lbC5jbGFzc0xpc3QudG9nZ2xlKCdoaWRkZW4nLCBwYW5lbC5kYXRhc2V0LnNldHRpbmdzUGFuZWwgIT09IG5hbWUpO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICB0YWJCdXR0b25zLmZvckVhY2goKGJ0bikgPT4ge1xuICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gc3dpdGNoVGFiKGJ0bi5kYXRhc2V0LnNldHRpbmdzVGFiIHx8ICdhY2NvdW50JykpO1xuICAgIH0pO1xuICAgIHN3aXRjaFRhYignYWNjb3VudCcpO1xuXG4gICAgaWYgKCFmb3JtKSB7XG4gICAgICAvLyBzdGlsbCBhbGxvdyBzaXRlIGZvcm0gZXZlbiBpZiBwYXNzd29yZCBmb3JtIGFic2VudFxuICAgIH1cbiAgICBpZiAoZm9ybSkge1xuICAgICAgY29uc3QgZmVlZGJhY2sgPSBmb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFkbWluLXBhc3N3b3JkLWZlZWRiYWNrXScpO1xuICAgICAgY29uc3Qgc3VibWl0ID0gZm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZG1pbi1wYXNzd29yZC1zdWJtaXRdJyk7XG4gICAgICBjb25zdCBzZXRGZWVkYmFjayA9IChtZXNzYWdlLCB0b25lID0gJ211dGVkJykgPT4ge1xuICAgICAgICBpZiAoIWZlZWRiYWNrKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGNvbG9yID1cbiAgICAgICAgICB0b25lID09PSAnc3VjY2VzcydcbiAgICAgICAgICAgID8gJ3RleHQtZW1lcmFsZC02MDAnXG4gICAgICAgICAgICA6IHRvbmUgPT09ICdlcnJvcidcbiAgICAgICAgICAgICAgPyAndGV4dC1yb3NlLTYwMCdcbiAgICAgICAgICAgICAgOiAndGV4dC1zbGF0ZS01MDAnO1xuICAgICAgICBmZWVkYmFjay50ZXh0Q29udGVudCA9IG1lc3NhZ2UgfHwgJyc7XG4gICAgICAgIGZlZWRiYWNrLmNsYXNzTmFtZSA9IGB0ZXh0LXNtICR7Y29sb3J9YDtcbiAgICAgIH07XG4gICAgICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YShmb3JtKTtcbiAgICAgICAgY29uc3QgY3VycmVudFBhc3N3b3JkID0gZm9ybURhdGEuZ2V0KCdjdXJyZW50UGFzc3dvcmQnKSB8fCAnJztcbiAgICAgICAgY29uc3QgbmV3UGFzc3dvcmQgPSBmb3JtRGF0YS5nZXQoJ25ld1Bhc3N3b3JkJykgfHwgJyc7XG4gICAgICAgIGNvbnN0IGNvbmZpcm1QYXNzd29yZCA9IGZvcm1EYXRhLmdldCgnY29uZmlybVBhc3N3b3JkJykgfHwgJyc7XG4gICAgICAgIGlmICghY3VycmVudFBhc3N3b3JkIHx8ICFuZXdQYXNzd29yZCB8fCAhY29uZmlybVBhc3N3b3JkKSB7XG4gICAgICAgICAgc2V0RmVlZGJhY2soJ0NvbXBsXHUwMEU4dGUgdG91cyBsZXMgY2hhbXBzLicsICdlcnJvcicpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzdWJtaXQgJiYgKHN1Ym1pdC5kaXNhYmxlZCA9IHRydWUpO1xuICAgICAgICBzZXRGZWVkYmFjaygnJyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9hZG1pbi9wYXNzd29yZCcsIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGN1cnJlbnRQYXNzd29yZCwgbmV3UGFzc3dvcmQsIGNvbmZpcm1QYXNzd29yZCB9KSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2sgfHwgcGF5bG9hZC5zdWNjZXNzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHBheWxvYWQubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBtZXR0cmUgXHUwMEUwIGpvdXIgbGUgbW90IGRlIHBhc3NlLicpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXRGZWVkYmFjayhwYXlsb2FkLm1lc3NhZ2UgfHwgJ01vdCBkZSBwYXNzZSBtaXMgXHUwMEUwIGpvdXIuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgICBmb3JtLnJlc2V0KCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gY2hhbmdlIHBhc3N3b3JkIGZhaWxlZCcsIGVycik7XG4gICAgICAgICAgc2V0RmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGRlIGxhIG1pc2UgXHUwMEUwIGpvdXIuJywgJ2Vycm9yJyk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgc3VibWl0ICYmIChzdWJtaXQuZGlzYWJsZWQgPSBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChzaXRlRm9ybSkge1xuICAgICAgY29uc3QgbmFtZUlucHV0ID0gc2l0ZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS1uYW1lXScpO1xuICAgICAgY29uc3QgbGFuZ1NlbGVjdCA9IHNpdGVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtbGFuZ3VhZ2VdJyk7XG4gICAgICBjb25zdCB0YWdsaW5lSW5wdXQgPSBzaXRlRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLXRhZ2xpbmVdJyk7XG4gICAgICBjb25zdCBzYXZlQnV0dG9uID0gc2l0ZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS1zYXZlXScpO1xuICAgICAgY29uc3Qgc2V0U2l0ZUZlZWRiYWNrID0gKG1lc3NhZ2UsIHRvbmUgPSAnbXV0ZWQnKSA9PiB7XG4gICAgICAgIGlmICghc2l0ZUZlZWRiYWNrKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGNvbG9yID1cbiAgICAgICAgICB0b25lID09PSAnc3VjY2VzcydcbiAgICAgICAgICAgID8gJ3RleHQtZW1lcmFsZC02MDAnXG4gICAgICAgICAgICA6IHRvbmUgPT09ICdlcnJvcidcbiAgICAgICAgICAgICAgPyAndGV4dC1yb3NlLTYwMCdcbiAgICAgICAgICAgICAgOiAndGV4dC1zbGF0ZS01MDAnO1xuICAgICAgICBzaXRlRmVlZGJhY2sudGV4dENvbnRlbnQgPSBtZXNzYWdlIHx8ICcnO1xuICAgICAgICBzaXRlRmVlZGJhY2suY2xhc3NOYW1lID0gYHRleHQtc20gJHtjb2xvcn1gO1xuICAgICAgfTtcblxuICAgICAgY29uc3Qgc2FmZVNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goXG4gICAgICAgIHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJycsXG4gICAgICApO1xuICAgICAgY29uc3Qgc2l0ZUNvbmZpZ0FwaSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Zyl9L2NvbmZpZy9zaXRlYFxuICAgICAgICA6IG51bGw7XG5cbiAgICAgIGNvbnN0IGxvYWRTaXRlQ29uZmlnID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoIXNpdGVDb25maWdBcGkpIHJldHVybjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHNpdGVDb25maWdBcGksIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHJldHVybjtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIGlmIChuYW1lSW5wdXQpIG5hbWVJbnB1dC52YWx1ZSA9IHBheWxvYWQubmFtZSB8fCAnJztcbiAgICAgICAgICBpZiAobGFuZ1NlbGVjdCkgbGFuZ1NlbGVjdC52YWx1ZSA9IHBheWxvYWQubGFuZ3VhZ2UgfHwgJ2ZyJztcbiAgICAgICAgICBpZiAodGFnbGluZUlucHV0KSB0YWdsaW5lSW5wdXQudmFsdWUgPSBwYXlsb2FkLnRhZ2xpbmUgfHwgJyc7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gbG9hZCBzaXRlIGNvbmZpZyBmYWlsZWQnLCBlcnIpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBzaXRlRm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKCFzaXRlQ29uZmlnQXBpKSB7XG4gICAgICAgICAgc2V0U2l0ZUZlZWRiYWNrKCdBdWN1biBzaXRlIGFjdGlmLicsICdlcnJvcicpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW5hbWVJbnB1dD8udmFsdWUudHJpbSgpKSB7XG4gICAgICAgICAgc2V0U2l0ZUZlZWRiYWNrKCdOb20gcmVxdWlzLicsICdlcnJvcicpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzYXZlQnV0dG9uICYmIChzYXZlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZSk7XG4gICAgICAgIHNldFNpdGVGZWVkYmFjaygnJyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgICAgIG5hbWU6IG5hbWVJbnB1dD8udmFsdWUgfHwgJycsXG4gICAgICAgICAgICBsYW5ndWFnZTogbGFuZ1NlbGVjdD8udmFsdWUgfHwgJ2ZyJyxcbiAgICAgICAgICAgIHRhZ2xpbmU6IHRhZ2xpbmVJbnB1dD8udmFsdWUgfHwgJycsXG4gICAgICAgICAgfTtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHNpdGVDb25maWdBcGksIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rIHx8IHJlc3VsdC5zdWNjZXNzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5tZXNzYWdlIHx8ICdTYXV2ZWdhcmRlIGltcG9zc2libGUuJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNldFNpdGVGZWVkYmFjayhyZXN1bHQubWVzc2FnZSB8fCAnUGFyYW1cdTAwRTh0cmVzIGVucmVnaXN0clx1MDBFOXMuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3NldHRpbmdzXSBzYXZlIHNpdGUgY29uZmlnIGZhaWxlZCcsIGVycik7XG4gICAgICAgICAgc2V0U2l0ZUZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsYSBzYXV2ZWdhcmRlLicsICdlcnJvcicpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIHNhdmVCdXR0b24gJiYgKHNhdmVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBsb2FkU2l0ZUNvbmZpZygpO1xuICAgIH1cblxuICAgIGlmICh0aGVtZUZvcm0pIHtcbiAgICAgIGNvbnN0IHNhZmVTaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKFxuICAgICAgICB3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnLFxuICAgICAgKTtcbiAgICAgIGNvbnN0IHRoZW1lQXBpID0gc2FmZVNpdGVTbHVnXG4gICAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnKX0vY29uZmlnL3RoZW1lYFxuICAgICAgICA6IG51bGw7XG5cbiAgICAgIGNvbnN0IGNvbG9yU2VsZWN0cyA9IHtcbiAgICAgICAgcHJpbWFyeTogdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLXByaW1hcnldJyksXG4gICAgICAgIHNlY29uZGFyeTogdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLXNlY29uZGFyeV0nKSxcbiAgICAgICAgYWNjZW50OiB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtYWNjZW50XScpLFxuICAgICAgICBiYWNrZ3JvdW5kOiB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtYmFja2dyb3VuZF0nKSxcbiAgICAgICAgdGV4dDogdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLXRleHRdJyksXG4gICAgICB9O1xuICAgICAgY29uc3QgaGVhZGluZ1NlbGVjdCA9IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1oZWFkaW5nc10nKTtcbiAgICAgIGNvbnN0IGJvZHlTZWxlY3QgPSB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtYm9keV0nKTtcbiAgICAgIGNvbnN0IHJhZGl1c1NtYWxsID0gdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLXJhZGl1cy1zbWFsbF0nKTtcbiAgICAgIGNvbnN0IHJhZGl1c01lZGl1bSA9IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1yYWRpdXMtbWVkaXVtXScpO1xuICAgICAgY29uc3QgcmFkaXVzTGFyZ2UgPSB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtcmFkaXVzLWxhcmdlXScpO1xuICAgICAgY29uc3QgcHJldmlldyA9IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1wcmV2aWV3XScpO1xuICAgICAgY29uc3QgdGhlbWVGZWVkYmFjayA9IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1mZWVkYmFja10nKTtcbiAgICAgIGNvbnN0IGFwcGx5QnV0dG9uID0gdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLWFwcGx5XScpO1xuICAgICAgY29uc3QgdGFpbHdpbmRIdWVzID0gW1xuICAgICAgICAnc2xhdGUnLCdncmF5JywnemluYycsJ25ldXRyYWwnLCdzdG9uZScsJ3JlZCcsJ29yYW5nZScsJ2FtYmVyJywneWVsbG93JywnbGltZScsJ2dyZWVuJywnZW1lcmFsZCcsJ3RlYWwnLCdjeWFuJywnc2t5JywnYmx1ZScsJ2luZGlnbycsJ3Zpb2xldCcsJ3B1cnBsZScsJ2Z1Y2hzaWEnLCdwaW5rJywncm9zZSdcbiAgICAgIF07XG4gICAgICBjb25zdCB0YWlsd2luZFNoYWRlcyA9IFsnNTAnLCcxMDAnLCcyMDAnLCczMDAnLCc0MDAnLCc1MDAnLCc2MDAnLCc3MDAnLCc4MDAnLCc5MDAnXTtcbiAgICAgIGNvbnN0IHRhaWx3aW5kVG9rZW5zID0gdGFpbHdpbmRIdWVzLmZsYXRNYXAoKGgpPT50YWlsd2luZFNoYWRlcy5tYXAoKHMpPT5gJHtofS0ke3N9YCkpO1xuXG4gICAgICBjb25zdCBmaWxsQ29sb3JPcHRpb25zID0gKCkgPT4ge1xuICAgICAgICBPYmplY3QudmFsdWVzKGNvbG9yU2VsZWN0cykuZm9yRWFjaCgoc2VsKT0+e1xuICAgICAgICAgIGlmICghc2VsIHx8IHNlbC5vcHRpb25zLmxlbmd0aCkgcmV0dXJuO1xuICAgICAgICAgIHRhaWx3aW5kVG9rZW5zLmZvckVhY2goKHRva2VuKT0+e1xuICAgICAgICAgICAgY29uc3Qgb3B0aW9uPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICAgICAgb3B0aW9uLnZhbHVlPXRva2VuO1xuICAgICAgICAgICAgY29uc3QgW2gsc109dG9rZW4uc3BsaXQoJy0nKTtcbiAgICAgICAgICAgIG9wdGlvbi50ZXh0Q29udGVudD1gJHtoLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2guc2xpY2UoMSl9ICR7c31gO1xuICAgICAgICAgICAgc2VsLmFwcGVuZENoaWxkKG9wdGlvbik7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcblxuICAgICAgY29uc3Qgc2V0VGhlbWVGZWVkYmFjayA9IChtZXNzYWdlLCB0b25lID0gJ211dGVkJykgPT4ge1xuICAgICAgICBpZiAoIXRoZW1lRmVlZGJhY2spIHJldHVybjtcbiAgICAgICAgY29uc3QgY29sb3IgPVxuICAgICAgICAgIHRvbmUgPT09ICdzdWNjZXNzJ1xuICAgICAgICAgICAgPyAndGV4dC1lbWVyYWxkLTYwMCdcbiAgICAgICAgICAgIDogdG9uZSA9PT0gJ2Vycm9yJ1xuICAgICAgICAgICAgICA/ICd0ZXh0LXJvc2UtNjAwJ1xuICAgICAgICAgICAgICA6ICd0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICAgIHRoZW1lRmVlZGJhY2sudGV4dENvbnRlbnQgPSBtZXNzYWdlIHx8ICcnO1xuICAgICAgICB0aGVtZUZlZWRiYWNrLmNsYXNzTmFtZSA9IGB0ZXh0LXNtICR7Y29sb3J9YDtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHN5bmNQcmV2aWV3ID0gKCkgPT4ge1xuICAgICAgICBpZiAoIXByZXZpZXcpIHJldHVybjtcbiAgICAgICAgY29uc3QgdG9rZW5Ub0hleCA9ICh0b2tlbikgPT4ge1xuICAgICAgICAgIGlmICghdG9rZW4pIHJldHVybiBudWxsO1xuICAgICAgICAgIC8vIEdcdTAwRTlyZXIgbGVzIGNhcyBzcFx1MDBFOWNpYXV4IHdoaXRlLCBibGFjaywgdHJhbnNwYXJlbnRcbiAgICAgICAgICBpZiAodG9rZW4gPT09ICd3aGl0ZScpIHJldHVybiAnI2ZmZmZmZic7XG4gICAgICAgICAgaWYgKHRva2VuID09PSAnYmxhY2snKSByZXR1cm4gJyMwMDAwMDAnO1xuICAgICAgICAgIGlmICh0b2tlbiA9PT0gJ3RyYW5zcGFyZW50JykgcmV0dXJuICd0cmFuc3BhcmVudCc7XG4gICAgICAgICAgXG4gICAgICAgICAgY29uc3QgW2gsc109dG9rZW4uc3BsaXQoJy0nKTtcbiAgICAgICAgICBpZiAoIWggfHwgIXMpIHJldHVybiBudWxsOyAvLyBGb3JtYXQgaW52YWxpZGVcbiAgICAgICAgICBcbiAgICAgICAgICBjb25zdCBtYXAgPSB7XG4gICAgICAgICAgICBzbGF0ZTonI2UyZThmMCcsZ3JheTonI2QxZDVkYicsemluYzonI2Q0ZDRkOCcsbmV1dHJhbDonI2Q0ZDRkNCcsc3RvbmU6JyNkNmQzZDEnLFxuICAgICAgICAgICAgcmVkOicjZWY0NDQ0JyxvcmFuZ2U6JyNmOTczMTYnLGFtYmVyOicjZjU5ZTBiJyx5ZWxsb3c6JyNlYWIzMDgnLGxpbWU6JyM4NGNjMTYnLFxuICAgICAgICAgICAgZ3JlZW46JyMyMmM1NWUnLGVtZXJhbGQ6JyMxMGI5ODEnLHRlYWw6JyMxNGI4YTYnLGN5YW46JyMwNmI2ZDQnLHNreTonIzBlYTVlOScsXG4gICAgICAgICAgICBibHVlOicjM2I4MmY2JyxpbmRpZ286JyM2MzY2ZjEnLHZpb2xldDonIzhiNWNmNicscHVycGxlOicjYTg1NWY3JyxmdWNoc2lhOicjZDk0NmVmJyxcbiAgICAgICAgICAgIHBpbms6JyNlYzQ4OTknLHJvc2U6JyNmNDNmNWUnXG4gICAgICAgICAgfTtcbiAgICAgICAgICBjb25zdCBiYXNlPW1hcFtoXTtcbiAgICAgICAgICBpZiAoIWJhc2UpIHJldHVybiBudWxsO1xuICAgICAgICAgIC8vIHJvdWdoIHNoYWRlIHR3ZWFrIHVzaW5nIG9wYWNpdHk7IG5vdCBleGFjdCBUYWlsd2luZCBwYWxldHRlIGJ1dCBwcmV2aWV3LWZyaWVuZGx5XG4gICAgICAgICAgY29uc3Qgc2hhZGVOdW09TnVtYmVyKHMpfHw1MDA7XG4gICAgICAgICAgY29uc3QgZmFjdG9yID0gTWF0aC5taW4oTWF0aC5tYXgoKHNoYWRlTnVtLTUwKS85MDAsMCksMSk7XG4gICAgICAgICAgY29uc3QgdG9SZ2I9KGhleCk9PmhleC5tYXRjaCgvW0EtRmEtZjAtOV17Mn0vZykubWFwKCh2KT0+cGFyc2VJbnQodiwxNikpO1xuICAgICAgICAgIGNvbnN0IFtyLGcsYl09dG9SZ2IoYmFzZS5yZXBsYWNlKCcjJywnJykpO1xuICAgICAgICAgIGNvbnN0IG1peD0odik9Pk1hdGgucm91bmQoMjU1IC0gKDI1NSAtIHYpKmZhY3Rvcik7XG4gICAgICAgICAgcmV0dXJuIGByZ2IoJHttaXgocil9LCAke21peChnKX0sICR7bWl4KGIpfSlgO1xuICAgICAgICB9O1xuICAgICAgICBwcmV2aWV3LnN0eWxlLnNldFByb3BlcnR5KCctLWNvbG9yLXByaW1hcnknLCB0b2tlblRvSGV4KGNvbG9yU2VsZWN0cy5wcmltYXJ5Py52YWx1ZSkgfHwgJyM5QzZCRkYnKTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1jb2xvci1zZWNvbmRhcnknLCB0b2tlblRvSGV4KGNvbG9yU2VsZWN0cy5zZWNvbmRhcnk/LnZhbHVlKSB8fCAnIzBFQTVFOScpO1xuICAgICAgICBwcmV2aWV3LnN0eWxlLnNldFByb3BlcnR5KCctLWNvbG9yLWFjY2VudCcsIHRva2VuVG9IZXgoY29sb3JTZWxlY3RzLmFjY2VudD8udmFsdWUpIHx8ICcjRjk3MzE2Jyk7XG4gICAgICAgIHByZXZpZXcuc3R5bGUuc2V0UHJvcGVydHkoJy0tY29sb3ItYmFja2dyb3VuZCcsIHRva2VuVG9IZXgoY29sb3JTZWxlY3RzLmJhY2tncm91bmQ/LnZhbHVlKSB8fCAnI0ZGRkZGRicpO1xuICAgICAgICBwcmV2aWV3LnN0eWxlLnNldFByb3BlcnR5KCctLWNvbG9yLXRleHQnLCB0b2tlblRvSGV4KGNvbG9yU2VsZWN0cy50ZXh0Py52YWx1ZSkgfHwgJyMwRjE3MkEnKTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1mb250LWhlYWRpbmdzJywgaGVhZGluZ1NlbGVjdD8udmFsdWUgfHwgJ0ludGVyLCBzYW5zLXNlcmlmJyk7XG4gICAgICAgIHByZXZpZXcuc3R5bGUuc2V0UHJvcGVydHkoJy0tZm9udC1ib2R5JywgYm9keVNlbGVjdD8udmFsdWUgfHwgJ0ludGVyLCBzYW5zLXNlcmlmJyk7XG4gICAgICAgIHByZXZpZXcuc3R5bGUuc2V0UHJvcGVydHkoJy0tcmFkaXVzLXNtYWxsJywgcmFkaXVzU21hbGw/LnZhbHVlIHx8ICc4cHgnKTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1yYWRpdXMtbWVkaXVtJywgcmFkaXVzTWVkaXVtPy52YWx1ZSB8fCAnMTZweCcpO1xuICAgICAgICBwcmV2aWV3LnN0eWxlLnNldFByb3BlcnR5KCctLXJhZGl1cy1sYXJnZScsIHJhZGl1c0xhcmdlPy52YWx1ZSB8fCAnMjRweCcpO1xuICAgICAgICBwcmV2aWV3LnN0eWxlLmJvcmRlclJhZGl1cyA9IHJhZGl1c01lZGl1bT8udmFsdWUgfHwgJzE2cHgnO1xuICAgICAgfTtcblxuICAgICAgY29uc3Qgc2V0Q29sb3JGaWVsZHMgPSAoa2V5LCB2YWx1ZSkgPT4ge1xuICAgICAgICBpZiAoY29sb3JTZWxlY3RzW2tleV0pIGNvbG9yU2VsZWN0c1trZXldLnZhbHVlID0gdmFsdWU7XG4gICAgICB9O1xuICAgICAgXG4gICAgICAvLyBGb25jdGlvbiBwb3VyIG1ldHRyZSBcdTAwRTAgam91ciBsZSBwcmV2aWV3IGRlIGNvdWxldXIgZCd1biBzZWxlY3RcbiAgICAgIGNvbnN0IHVwZGF0ZUNvbG9yU2VsZWN0UHJldmlldyA9IChzZWxlY3QpID0+IHtcbiAgICAgICAgaWYgKCFzZWxlY3QpIHJldHVybjtcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRPcHRpb24gPSBzZWxlY3Qub3B0aW9uc1tzZWxlY3Quc2VsZWN0ZWRJbmRleF07XG4gICAgICAgIGNvbnN0IGNvbG9yID0gc2VsZWN0ZWRPcHRpb24/LmRhdGFzZXQ/LmNvbG9yIHx8ICcjZmZmZmZmJztcbiAgICAgICAgY29uc3QgY29sb3JQcmV2aWV3ID0gc2VsZWN0LmNsb3Nlc3QoJy5yZWxhdGl2ZScpPy5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xvci1wcmV2aWV3XScpO1xuICAgICAgICBpZiAoY29sb3JQcmV2aWV3KSB7XG4gICAgICAgICAgaWYgKGNvbG9yID09PSAndHJhbnNwYXJlbnQnKSB7XG4gICAgICAgICAgICBjb2xvclByZXZpZXcuc3R5bGUuYmFja2dyb3VuZCA9ICdyZXBlYXRpbmctY29uaWMtZ3JhZGllbnQoI2NjYyAwJSAyNSUsIHdoaXRlIDAlIDUwJSkgNTAlIC8gOHB4IDhweCc7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbG9yUHJldmlldy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBjb2xvcjtcbiAgICAgICAgICAgIGNvbG9yUHJldmlldy5zdHlsZS5iYWNrZ3JvdW5kID0gJyc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgXG4gICAgICAvLyBJbml0aWFsaXNlciBsZXMgcHJldmlld3MgZGUgY291bGV1ciBldCBham91dGVyIGxlcyBsaXN0ZW5lcnNcbiAgICAgIGNvbnN0IGluaXRDb2xvclByZXZpZXdzID0gKCkgPT4ge1xuICAgICAgICBPYmplY3QudmFsdWVzKGNvbG9yU2VsZWN0cykuZm9yRWFjaCgoc2VsZWN0KSA9PiB7XG4gICAgICAgICAgaWYgKCFzZWxlY3QpIHJldHVybjtcbiAgICAgICAgICB1cGRhdGVDb2xvclNlbGVjdFByZXZpZXcoc2VsZWN0KTtcbiAgICAgICAgICBzZWxlY3QuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4gdXBkYXRlQ29sb3JTZWxlY3RQcmV2aWV3KHNlbGVjdCkpO1xuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgIE9iamVjdC5rZXlzKGNvbG9yU2VsZWN0cykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgIGNvbG9yU2VsZWN0c1trZXldPy5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBzeW5jUHJldmlldyk7XG4gICAgICB9KTtcbiAgICAgIFtoZWFkaW5nU2VsZWN0LCBib2R5U2VsZWN0LCByYWRpdXNTbWFsbCwgcmFkaXVzTWVkaXVtLCByYWRpdXNMYXJnZV0uZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgICAgZWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHN5bmNQcmV2aWV3KTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBsb2FkVGhlbWUgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIGlmICghdGhlbWVBcGkpIHJldHVybjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHRoZW1lQXBpLCB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSByZXR1cm47XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICBzZXRDb2xvckZpZWxkcygncHJpbWFyeScsIHBheWxvYWQuY29sb3JzPy5wcmltYXJ5IHx8ICd2aW9sZXQtNTAwJyk7XG4gICAgICAgICAgc2V0Q29sb3JGaWVsZHMoJ3NlY29uZGFyeScsIHBheWxvYWQuY29sb3JzPy5zZWNvbmRhcnkgfHwgJ2luZGlnby00MDAnKTtcbiAgICAgICAgICBzZXRDb2xvckZpZWxkcygnYWNjZW50JywgcGF5bG9hZC5jb2xvcnM/LmFjY2VudCB8fCAnZW1lcmFsZC01MDAnKTtcbiAgICAgICAgICBzZXRDb2xvckZpZWxkcygnYmFja2dyb3VuZCcsIHBheWxvYWQuY29sb3JzPy5iYWNrZ3JvdW5kIHx8ICdzbGF0ZS01MCcpO1xuICAgICAgICAgIHNldENvbG9yRmllbGRzKCd0ZXh0JywgcGF5bG9hZC5jb2xvcnM/LnRleHQgfHwgJ3NsYXRlLTkwMCcpO1xuICAgICAgICAgIGlmIChoZWFkaW5nU2VsZWN0KSBoZWFkaW5nU2VsZWN0LnZhbHVlID0gcGF5bG9hZC50eXBvZ3JhcGh5Py5oZWFkaW5ncyB8fCAnSW50ZXIsIHNhbnMtc2VyaWYnO1xuICAgICAgICAgIGlmIChib2R5U2VsZWN0KSBib2R5U2VsZWN0LnZhbHVlID0gcGF5bG9hZC50eXBvZ3JhcGh5Py5ib2R5IHx8ICdJbnRlciwgc2Fucy1zZXJpZic7XG4gICAgICAgICAgaWYgKHJhZGl1c1NtYWxsKSByYWRpdXNTbWFsbC52YWx1ZSA9IHBheWxvYWQucmFkaXVzPy5zbWFsbCB8fCAnOHB4JztcbiAgICAgICAgICBpZiAocmFkaXVzTWVkaXVtKSByYWRpdXNNZWRpdW0udmFsdWUgPSBwYXlsb2FkLnJhZGl1cz8ubWVkaXVtIHx8ICcxNnB4JztcbiAgICAgICAgICBpZiAocmFkaXVzTGFyZ2UpIHJhZGl1c0xhcmdlLnZhbHVlID0gcGF5bG9hZC5yYWRpdXM/LmxhcmdlIHx8ICcyNHB4JztcbiAgICAgICAgICBzeW5jUHJldmlldygpO1xuICAgICAgICAgIC8vIE1ldHRyZSBcdTAwRTAgam91ciBsZXMgcHJldmlld3MgZGUgY291bGV1ciBhcHJcdTAwRThzIGNoYXJnZW1lbnRcbiAgICAgICAgICBPYmplY3QudmFsdWVzKGNvbG9yU2VsZWN0cykuZm9yRWFjaCh1cGRhdGVDb2xvclNlbGVjdFByZXZpZXcpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIGxvYWQgdGhlbWUgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgZmlsbENvbG9yT3B0aW9ucygpO1xuICAgICAgaW5pdENvbG9yUHJldmlld3MoKTtcbiAgICAgIGFwcGx5QnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAoIXRoZW1lQXBpKSB7XG4gICAgICAgICAgc2V0VGhlbWVGZWVkYmFjaygnQXVjdW4gc2l0ZSBhY3RpZi4nLCAnZXJyb3InKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgICBjb2xvcnM6IHtcbiAgICAgICAgICAgIHByaW1hcnk6IGNvbG9yU2VsZWN0cy5wcmltYXJ5Py52YWx1ZSB8fCAndmlvbGV0LTUwMCcsXG4gICAgICAgICAgICBzZWNvbmRhcnk6IGNvbG9yU2VsZWN0cy5zZWNvbmRhcnk/LnZhbHVlIHx8ICdpbmRpZ28tNDAwJyxcbiAgICAgICAgICAgIGFjY2VudDogY29sb3JTZWxlY3RzLmFjY2VudD8udmFsdWUgfHwgJ2VtZXJhbGQtNTAwJyxcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IGNvbG9yU2VsZWN0cy5iYWNrZ3JvdW5kPy52YWx1ZSB8fCAnc2xhdGUtNTAnLFxuICAgICAgICAgICAgdGV4dDogY29sb3JTZWxlY3RzLnRleHQ/LnZhbHVlIHx8ICdzbGF0ZS05MDAnLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgdHlwb2dyYXBoeToge1xuICAgICAgICAgICAgaGVhZGluZ3M6IGhlYWRpbmdTZWxlY3Q/LnZhbHVlIHx8ICdJbnRlciwgc2Fucy1zZXJpZicsXG4gICAgICAgICAgICBib2R5OiBib2R5U2VsZWN0Py52YWx1ZSB8fCAnSW50ZXIsIHNhbnMtc2VyaWYnLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgcmFkaXVzOiB7XG4gICAgICAgICAgICBzbWFsbDogcmFkaXVzU21hbGw/LnZhbHVlIHx8ICc4cHgnLFxuICAgICAgICAgICAgbWVkaXVtOiByYWRpdXNNZWRpdW0/LnZhbHVlIHx8ICcxNnB4JyxcbiAgICAgICAgICAgIGxhcmdlOiByYWRpdXNMYXJnZT8udmFsdWUgfHwgJzI0cHgnLFxuICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIGFwcGx5QnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgc2V0VGhlbWVGZWVkYmFjaygnJyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh0aGVtZUFwaSwge1xuICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2sgfHwgcmVzdWx0LnN1Y2Nlc3MgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzdWx0Lm1lc3NhZ2UgfHwgJ0FwcGxpY2F0aW9uIGR1IHRoXHUwMEU4bWUgXHUwMEU5Y2hvdVx1MDBFOWUuJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNldFRoZW1lRmVlZGJhY2socmVzdWx0Lm1lc3NhZ2UgfHwgJ1RoXHUwMEU4bWUgYXBwbGlxdVx1MDBFOS4nLCAnc3VjY2VzcycpO1xuICAgICAgICAgIHN5bmNQcmV2aWV3KCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gYXBwbHkgdGhlbWUgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgICBzZXRUaGVtZUZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsXHUyMDE5YXBwbGljYXRpb24gZHUgdGhcdTAwRThtZS4nLCAnZXJyb3InKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBhcHBseUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgZmlsbENvbG9yT3B0aW9ucygpO1xuICAgICAgaW5pdENvbG9yUHJldmlld3MoKTtcbiAgICAgIGxvYWRUaGVtZSgpO1xuICAgICAgc3luY1ByZXZpZXcoKTtcbiAgICB9XG5cbiAgICAvLyBTRU8gQ29uZmlnIGZvcm0gKFVTOS5CMSlcbiAgICBjb25zdCBzZW9Db25maWdGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2VvLWNvbmZpZy1mb3JtXScpO1xuICAgIGlmIChzZW9Db25maWdGb3JtKSB7XG4gICAgICBjb25zdCBpbmRleEFsbENoZWNrYm94ID0gc2VvQ29uZmlnRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8taW5kZXgtYWxsXScpO1xuICAgICAgY29uc3Qgc2VvQ29uZmlnRmVlZGJhY2sgPSBzZW9Db25maWdGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby1jb25maWctZmVlZGJhY2tdJyk7XG4gICAgICBjb25zdCBzZW9TYXZlQnV0dG9uID0gc2VvQ29uZmlnRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8tc2F2ZV0nKTtcblxuICAgICAgY29uc3Qgc2FmZVNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goXG4gICAgICAgIHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJycsXG4gICAgICApO1xuICAgICAgY29uc3Qgc2l0ZUNvbmZpZ0FwaSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Zyl9L2NvbmZpZy9zaXRlYFxuICAgICAgICA6IG51bGw7XG5cbiAgICAgIGNvbnN0IHNldFNlb0ZlZWRiYWNrID0gKG1lc3NhZ2UsIHRvbmUgPSAnbXV0ZWQnKSA9PiB7XG4gICAgICAgIGlmICghc2VvQ29uZmlnRmVlZGJhY2spIHJldHVybjtcbiAgICAgICAgY29uc3QgY29sb3IgPVxuICAgICAgICAgIHRvbmUgPT09ICdzdWNjZXNzJ1xuICAgICAgICAgICAgPyAndGV4dC1lbWVyYWxkLTYwMCdcbiAgICAgICAgICAgIDogdG9uZSA9PT0gJ2Vycm9yJ1xuICAgICAgICAgICAgICA/ICd0ZXh0LXJvc2UtNjAwJ1xuICAgICAgICAgICAgICA6ICd0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICAgIHNlb0NvbmZpZ0ZlZWRiYWNrLnRleHRDb250ZW50ID0gbWVzc2FnZSB8fCAnJztcbiAgICAgICAgc2VvQ29uZmlnRmVlZGJhY2suY2xhc3NOYW1lID0gYHRleHQtc20gJHtjb2xvcn1gO1xuICAgICAgfTtcblxuICAgICAgY29uc3QgbG9hZFNlb0NvbmZpZyA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKCFzaXRlQ29uZmlnQXBpKSByZXR1cm47XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChzaXRlQ29uZmlnQXBpLCB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSByZXR1cm47XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICBjb25zdCBpbmRleEFsbCA9IHBheWxvYWQuc2VvPy5pbmRleEFsbFBhZ2VzQnlEZWZhdWx0ICE9PSBmYWxzZTtcbiAgICAgICAgICBpZiAoaW5kZXhBbGxDaGVja2JveCkgaW5kZXhBbGxDaGVja2JveC5jaGVja2VkID0gaW5kZXhBbGw7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gbG9hZCBzZW8gY29uZmlnIGZhaWxlZCcsIGVycik7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHNlb0NvbmZpZ0Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmICghc2l0ZUNvbmZpZ0FwaSkge1xuICAgICAgICAgIHNldFNlb0ZlZWRiYWNrKCdBdWN1biBzaXRlIGFjdGlmLicsICdlcnJvcicpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzZW9TYXZlQnV0dG9uICYmIChzZW9TYXZlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZSk7XG4gICAgICAgIHNldFNlb0ZlZWRiYWNrKCcnKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBGaXJzdCBsb2FkIGN1cnJlbnQgY29uZmlnIHRvIHByZXNlcnZlIG90aGVyIGZpZWxkc1xuICAgICAgICAgIGNvbnN0IGN1cnJlbnRSZXMgPSBhd2FpdCBmZXRjaChzaXRlQ29uZmlnQXBpLCB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcbiAgICAgICAgICBjb25zdCBjdXJyZW50Q29uZmlnID0gY3VycmVudFJlcy5vayA/IGF3YWl0IGN1cnJlbnRSZXMuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpIDoge307XG5cbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICAgICAgLi4uY3VycmVudENvbmZpZyxcbiAgICAgICAgICAgIHNlbzoge1xuICAgICAgICAgICAgICAuLi4oY3VycmVudENvbmZpZy5zZW8gfHwge30pLFxuICAgICAgICAgICAgICBpbmRleEFsbFBhZ2VzQnlEZWZhdWx0OiBpbmRleEFsbENoZWNrYm94Py5jaGVja2VkID8/IHRydWUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH07XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChzaXRlQ29uZmlnQXBpLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vayB8fCByZXN1bHQuc3VjY2VzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQubWVzc2FnZSB8fCAnU2F1dmVnYXJkZSBpbXBvc3NpYmxlLicpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXRTZW9GZWVkYmFjayhyZXN1bHQubWVzc2FnZSB8fCAnUGFyYW1cdTAwRTh0cmVzIFNFTyBlbnJlZ2lzdHJcdTAwRTlzLicsICdzdWNjZXNzJyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gc2F2ZSBzZW8gY29uZmlnIGZhaWxlZCcsIGVycik7XG4gICAgICAgICAgc2V0U2VvRmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGRlIGxhIHNhdXZlZ2FyZGUuJywgJ2Vycm9yJyk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgc2VvU2F2ZUJ1dHRvbiAmJiAoc2VvU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGxvYWRTZW9Db25maWcoKTtcbiAgICB9XG5cbiAgICAvLyBBbmFseXRpY3MgZm9ybSAoVVM5LkIyKVxuICAgIGNvbnN0IGFuYWx5dGljc0Zvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hbmFseXRpY3MtZm9ybV0nKTtcbiAgICBpZiAoYW5hbHl0aWNzRm9ybSkge1xuICAgICAgY29uc3QgaGVhZFRleHRhcmVhID0gYW5hbHl0aWNzRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hbmFseXRpY3MtaGVhZF0nKTtcbiAgICAgIGNvbnN0IGJvZHlUZXh0YXJlYSA9IGFuYWx5dGljc0Zvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYW5hbHl0aWNzLWJvZHldJyk7XG4gICAgICBjb25zdCBhbmFseXRpY3NGZWVkYmFjayA9IGFuYWx5dGljc0Zvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYW5hbHl0aWNzLWZlZWRiYWNrXScpO1xuICAgICAgY29uc3QgYW5hbHl0aWNzU2F2ZUJ1dHRvbiA9IGFuYWx5dGljc0Zvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYW5hbHl0aWNzLXNhdmVdJyk7XG5cbiAgICAgIGNvbnN0IHNhZmVTaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKFxuICAgICAgICB3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnLFxuICAgICAgKTtcbiAgICAgIGNvbnN0IHNpdGVDb25maWdBcGkgPSBzYWZlU2l0ZVNsdWdcbiAgICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9jb25maWcvc2l0ZWBcbiAgICAgICAgOiBudWxsO1xuXG4gICAgICBjb25zdCBzZXRBbmFseXRpY3NGZWVkYmFjayA9IChtZXNzYWdlLCB0b25lID0gJ211dGVkJykgPT4ge1xuICAgICAgICBpZiAoIWFuYWx5dGljc0ZlZWRiYWNrKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGNvbG9yID1cbiAgICAgICAgICB0b25lID09PSAnc3VjY2VzcydcbiAgICAgICAgICAgID8gJ3RleHQtZW1lcmFsZC02MDAnXG4gICAgICAgICAgICA6IHRvbmUgPT09ICdlcnJvcidcbiAgICAgICAgICAgICAgPyAndGV4dC1yb3NlLTYwMCdcbiAgICAgICAgICAgICAgOiAndGV4dC1zbGF0ZS01MDAnO1xuICAgICAgICBhbmFseXRpY3NGZWVkYmFjay50ZXh0Q29udGVudCA9IG1lc3NhZ2UgfHwgJyc7XG4gICAgICAgIGFuYWx5dGljc0ZlZWRiYWNrLmNsYXNzTmFtZSA9IGB0ZXh0LXNtICR7Y29sb3J9YDtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGxvYWRBbmFseXRpY3NDb25maWcgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIGlmICghc2l0ZUNvbmZpZ0FwaSkgcmV0dXJuO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goc2l0ZUNvbmZpZ0FwaSwgeyBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgcmV0dXJuO1xuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgaWYgKGhlYWRUZXh0YXJlYSkgaGVhZFRleHRhcmVhLnZhbHVlID0gcGF5bG9hZC5hbmFseXRpY3M/LmhlYWRDb2RlIHx8ICcnO1xuICAgICAgICAgIGlmIChib2R5VGV4dGFyZWEpIGJvZHlUZXh0YXJlYS52YWx1ZSA9IHBheWxvYWQuYW5hbHl0aWNzPy5ib2R5RW5kQ29kZSB8fCAnJztcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3NldHRpbmdzXSBsb2FkIGFuYWx5dGljcyBjb25maWcgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgYW5hbHl0aWNzRm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKCFzaXRlQ29uZmlnQXBpKSB7XG4gICAgICAgICAgc2V0QW5hbHl0aWNzRmVlZGJhY2soJ0F1Y3VuIHNpdGUgYWN0aWYuJywgJ2Vycm9yJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGFuYWx5dGljc1NhdmVCdXR0b24gJiYgKGFuYWx5dGljc1NhdmVCdXR0b24uZGlzYWJsZWQgPSB0cnVlKTtcbiAgICAgICAgc2V0QW5hbHl0aWNzRmVlZGJhY2soJycpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIEZpcnN0IGxvYWQgY3VycmVudCBjb25maWcgdG8gcHJlc2VydmUgb3RoZXIgZmllbGRzXG4gICAgICAgICAgY29uc3QgY3VycmVudFJlcyA9IGF3YWl0IGZldGNoKHNpdGVDb25maWdBcGksIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xuICAgICAgICAgIGNvbnN0IGN1cnJlbnRDb25maWcgPSBjdXJyZW50UmVzLm9rID8gYXdhaXQgY3VycmVudFJlcy5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSkgOiB7fTtcblxuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgICAgICAuLi5jdXJyZW50Q29uZmlnLFxuICAgICAgICAgICAgYW5hbHl0aWNzOiB7XG4gICAgICAgICAgICAgIGhlYWRDb2RlOiBoZWFkVGV4dGFyZWE/LnZhbHVlIHx8ICcnLFxuICAgICAgICAgICAgICBib2R5RW5kQ29kZTogYm9keVRleHRhcmVhPy52YWx1ZSB8fCAnJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfTtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHNpdGVDb25maWdBcGksIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rIHx8IHJlc3VsdC5zdWNjZXNzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5tZXNzYWdlIHx8ICdTYXV2ZWdhcmRlIGltcG9zc2libGUuJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNldEFuYWx5dGljc0ZlZWRiYWNrKHJlc3VsdC5tZXNzYWdlIHx8ICdTY3JpcHRzIGVucmVnaXN0clx1MDBFOXMuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3NldHRpbmdzXSBzYXZlIGFuYWx5dGljcyBjb25maWcgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgICBzZXRBbmFseXRpY3NGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZGUgbGEgc2F1dmVnYXJkZS4nLCAnZXJyb3InKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBhbmFseXRpY3NTYXZlQnV0dG9uICYmIChhbmFseXRpY3NTYXZlQnV0dG9uLmRpc2FibGVkID0gZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgbG9hZEFuYWx5dGljc0NvbmZpZygpO1xuICAgIH1cblxuICAgIGNvbnN0IGFjY2Vzc2liaWxpdHlGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWNjZXNzaWJpbGl0eS1mb3JtXScpO1xuICAgIGlmIChhY2Nlc3NpYmlsaXR5Rm9ybSkge1xuICAgICAgY29uc3QgYW5pbWF0aW9uc1RvZ2dsZSA9IGFjY2Vzc2liaWxpdHlGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFjY2Vzc2liaWxpdHktYW5pbWF0aW9uc10nKTtcbiAgICAgIGNvbnN0IGNvbnRyYXN0VG9nZ2xlID0gYWNjZXNzaWJpbGl0eUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYWNjZXNzaWJpbGl0eS1jb250cmFzdF0nKTtcbiAgICAgIGNvbnN0IGFjY2Vzc2liaWxpdHlGZWVkYmFjayA9IGFjY2Vzc2liaWxpdHlGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFjY2Vzc2liaWxpdHktZmVlZGJhY2tdJyk7XG4gICAgICBjb25zdCBhY2Nlc3NpYmlsaXR5U2F2ZUJ1dHRvbiA9IGFjY2Vzc2liaWxpdHlGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFjY2Vzc2liaWxpdHktc2F2ZV0nKTtcblxuICAgICAgY29uc3Qgc2FmZVNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goXG4gICAgICAgIHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJycsXG4gICAgICApO1xuICAgICAgY29uc3Qgc2l0ZUNvbmZpZ0FwaSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Zyl9L2NvbmZpZy9zaXRlYFxuICAgICAgICA6IG51bGw7XG5cbiAgICAgIGNvbnN0IHNldEFjY2Vzc2liaWxpdHlGZWVkYmFjayA9IChtZXNzYWdlLCB0b25lID0gJ211dGVkJykgPT4ge1xuICAgICAgICBpZiAoIWFjY2Vzc2liaWxpdHlGZWVkYmFjaykgcmV0dXJuO1xuICAgICAgICBjb25zdCBjb2xvciA9XG4gICAgICAgICAgdG9uZSA9PT0gJ3N1Y2Nlc3MnXG4gICAgICAgICAgICA/ICd0ZXh0LWVtZXJhbGQtNjAwJ1xuICAgICAgICAgICAgOiB0b25lID09PSAnZXJyb3InXG4gICAgICAgICAgICAgID8gJ3RleHQtcm9zZS02MDAnXG4gICAgICAgICAgICAgIDogJ3RleHQtc2xhdGUtNTAwJztcbiAgICAgICAgYWNjZXNzaWJpbGl0eUZlZWRiYWNrLnRleHRDb250ZW50ID0gbWVzc2FnZSB8fCAnJztcbiAgICAgICAgYWNjZXNzaWJpbGl0eUZlZWRiYWNrLmNsYXNzTmFtZSA9IGB0ZXh0LXNtICR7Y29sb3J9YDtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGxvYWRBY2Nlc3NpYmlsaXR5Q29uZmlnID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoIXNpdGVDb25maWdBcGkpIHJldHVybjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHNpdGVDb25maWdBcGksIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHJldHVybjtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIGlmIChhbmltYXRpb25zVG9nZ2xlKSB7XG4gICAgICAgICAgICBhbmltYXRpb25zVG9nZ2xlLmNoZWNrZWQgPSBwYXlsb2FkLmFjY2Vzc2liaWxpdHk/LmFuaW1hdGlvbnNFbmFibGVkICE9PSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGNvbnRyYXN0VG9nZ2xlKSB7XG4gICAgICAgICAgICBjb250cmFzdFRvZ2dsZS5jaGVja2VkID0gcGF5bG9hZC5hY2Nlc3NpYmlsaXR5Py5oaWdoQ29udHJhc3QgPT09IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIGxvYWQgYWNjZXNzaWJpbGl0eSBjb25maWcgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgYWNjZXNzaWJpbGl0eUZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmICghc2l0ZUNvbmZpZ0FwaSkge1xuICAgICAgICAgIHNldEFjY2Vzc2liaWxpdHlGZWVkYmFjaygnQXVjdW4gc2l0ZSBhY3RpZi4nLCAnZXJyb3InKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgYWNjZXNzaWJpbGl0eVNhdmVCdXR0b24gJiYgKGFjY2Vzc2liaWxpdHlTYXZlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZSk7XG4gICAgICAgIHNldEFjY2Vzc2liaWxpdHlGZWVkYmFjaygnJyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgY3VycmVudFJlcyA9IGF3YWl0IGZldGNoKHNpdGVDb25maWdBcGksIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xuICAgICAgICAgIGNvbnN0IGN1cnJlbnRDb25maWcgPSBjdXJyZW50UmVzLm9rID8gYXdhaXQgY3VycmVudFJlcy5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSkgOiB7fTtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICAgICAgLi4uY3VycmVudENvbmZpZyxcbiAgICAgICAgICAgIGFjY2Vzc2liaWxpdHk6IHtcbiAgICAgICAgICAgICAgYW5pbWF0aW9uc0VuYWJsZWQ6IGFuaW1hdGlvbnNUb2dnbGU/LmNoZWNrZWQgPz8gdHJ1ZSxcbiAgICAgICAgICAgICAgaGlnaENvbnRyYXN0OiBjb250cmFzdFRvZ2dsZT8uY2hlY2tlZCA/PyBmYWxzZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfTtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHNpdGVDb25maWdBcGksIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rIHx8IHJlc3VsdC5zdWNjZXNzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5tZXNzYWdlIHx8ICdTYXV2ZWdhcmRlIGltcG9zc2libGUuJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNldEFjY2Vzc2liaWxpdHlGZWVkYmFjayhyZXN1bHQubWVzc2FnZSB8fCAnUHJcdTAwRTlmXHUwMEU5cmVuY2VzIG1pc2VzIFx1MDBFMCBqb3VyLicsICdzdWNjZXNzJyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gc2F2ZSBhY2Nlc3NpYmlsaXR5IGNvbmZpZyBmYWlsZWQnLCBlcnIpO1xuICAgICAgICAgIHNldEFjY2Vzc2liaWxpdHlGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZGUgbGEgc2F1dmVnYXJkZS4nLCAnZXJyb3InKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBhY2Nlc3NpYmlsaXR5U2F2ZUJ1dHRvbiAmJiAoYWNjZXNzaWJpbGl0eVNhdmVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBsb2FkQWNjZXNzaWJpbGl0eUNvbmZpZygpO1xuICAgIH1cblxuICAgIC8vIEFJIENvbmZpZyBmb3JtIChVUyAtIEFJIEFzc2lzdGFudClcbiAgICBjb25zdCBhaUNvbmZpZ0Zvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1haS1jb25maWctZm9ybV0nKTtcbiAgICBpZiAoYWlDb25maWdGb3JtKSB7XG4gICAgICBjb25zdCBhcGlLZXlJbnB1dCA9IGFpQ29uZmlnRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1haS1hcGkta2V5XScpO1xuICAgICAgY29uc3QgbW9kZWxTZWxlY3QgPSBhaUNvbmZpZ0Zvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYWktbW9kZWxdJyk7XG4gICAgICBjb25zdCBwcm9qZWN0UHJvbXB0VGV4dGFyZWEgPSBhaUNvbmZpZ0Zvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYWktcHJvamVjdC1wcm9tcHRdJyk7XG4gICAgICBjb25zdCBlbmFibGVkQ2hlY2tib3ggPSBhaUNvbmZpZ0Zvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYWktZW5hYmxlZF0nKTtcbiAgICAgIGNvbnN0IGFpRmVlZGJhY2sgPSBhaUNvbmZpZ0Zvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYWktZmVlZGJhY2tdJyk7XG4gICAgICBjb25zdCBhaVNhdmVCdXR0b24gPSBhaUNvbmZpZ0Zvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYWktc2F2ZV0nKTtcblxuICAgICAgY29uc3Qgc2FmZVNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goXG4gICAgICAgIHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJycsXG4gICAgICApO1xuICAgICAgY29uc3QgYWlDb25maWdBcGkgPSBzYWZlU2l0ZVNsdWdcbiAgICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9jb25maWcvYWlgXG4gICAgICAgIDogbnVsbDtcblxuICAgICAgY29uc3Qgc2V0QUlGZWVkYmFjayA9IChtZXNzYWdlLCB0b25lID0gJ211dGVkJykgPT4ge1xuICAgICAgICBpZiAoIWFpRmVlZGJhY2spIHJldHVybjtcbiAgICAgICAgY29uc3QgY29sb3IgPVxuICAgICAgICAgIHRvbmUgPT09ICdzdWNjZXNzJ1xuICAgICAgICAgICAgPyAndGV4dC1lbWVyYWxkLTYwMCdcbiAgICAgICAgICAgIDogdG9uZSA9PT0gJ2Vycm9yJ1xuICAgICAgICAgICAgICA/ICd0ZXh0LXJvc2UtNjAwJ1xuICAgICAgICAgICAgICA6ICd0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICAgIGFpRmVlZGJhY2sudGV4dENvbnRlbnQgPSBtZXNzYWdlIHx8ICcnO1xuICAgICAgICBhaUZlZWRiYWNrLmNsYXNzTmFtZSA9IGB0ZXh0LXNtICR7Y29sb3J9YDtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGxvYWRBSUNvbmZpZyA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKCFhaUNvbmZpZ0FwaSkgcmV0dXJuO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYWlDb25maWdBcGksIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHJldHVybjtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIC8vIEFQSSBrZXkgaXMgbWFza2VkLCB3ZSBzaG93IHBsYWNlaG9sZGVyIGlmIGl0IGV4aXN0c1xuICAgICAgICAgIGlmIChhcGlLZXlJbnB1dCkge1xuICAgICAgICAgICAgYXBpS2V5SW5wdXQudmFsdWUgPSAnJztcbiAgICAgICAgICAgIGFwaUtleUlucHV0LnBsYWNlaG9sZGVyID0gcGF5bG9hZC5oYXNBcGlLZXkgPyAnXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyJyA6ICdDbFx1MDBFOSBBUEkgR2VtaW5pJztcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG1vZGVsU2VsZWN0KSBtb2RlbFNlbGVjdC52YWx1ZSA9IHBheWxvYWQubW9kZWwgfHwgJ2dlbWluaS0yLjUtZmxhc2gnO1xuICAgICAgICAgIGlmIChwcm9qZWN0UHJvbXB0VGV4dGFyZWEpIHByb2plY3RQcm9tcHRUZXh0YXJlYS52YWx1ZSA9IHBheWxvYWQucHJvamVjdFByb21wdCB8fCAnJztcbiAgICAgICAgICBpZiAoZW5hYmxlZENoZWNrYm94KSBlbmFibGVkQ2hlY2tib3guY2hlY2tlZCA9IHBheWxvYWQuZW5hYmxlZCAhPT0gZmFsc2U7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gbG9hZCBBSSBjb25maWcgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgYWlDb25maWdGb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAoIWFpQ29uZmlnQXBpKSB7XG4gICAgICAgICAgc2V0QUlGZWVkYmFjaygnQXVjdW4gc2l0ZSBhY3RpZi4nLCAnZXJyb3InKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgYWlTYXZlQnV0dG9uICYmIChhaVNhdmVCdXR0b24uZGlzYWJsZWQgPSB0cnVlKTtcbiAgICAgICAgc2V0QUlGZWVkYmFjaygnJyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgICAgIG1vZGVsOiBtb2RlbFNlbGVjdD8udmFsdWUgfHwgJ2dlbWluaS0yLjUtZmxhc2gnLFxuICAgICAgICAgICAgcHJvamVjdFByb21wdDogcHJvamVjdFByb21wdFRleHRhcmVhPy52YWx1ZSB8fCAnJyxcbiAgICAgICAgICAgIGVuYWJsZWQ6IGVuYWJsZWRDaGVja2JveD8uY2hlY2tlZCA/PyB0cnVlLFxuICAgICAgICAgIH07XG4gICAgICAgICAgLy8gT25seSBpbmNsdWRlIGFwaUtleSBpZiB0aGUgdXNlciBlbnRlcmVkIG9uZSAobm90IGVtcHR5KVxuICAgICAgICAgIGNvbnN0IGFwaUtleVZhbHVlID0gYXBpS2V5SW5wdXQ/LnZhbHVlPy50cmltKCk7XG4gICAgICAgICAgaWYgKGFwaUtleVZhbHVlKSB7XG4gICAgICAgICAgICBwYXlsb2FkLmFwaUtleSA9IGFwaUtleVZhbHVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYWlDb25maWdBcGksIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rIHx8IHJlc3VsdC5zdWNjZXNzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5tZXNzYWdlIHx8ICdTYXV2ZWdhcmRlIGltcG9zc2libGUuJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNldEFJRmVlZGJhY2socmVzdWx0Lm1lc3NhZ2UgfHwgJ0NvbmZpZ3VyYXRpb24gSUEgZW5yZWdpc3RyXHUwMEU5ZS4nLCAnc3VjY2VzcycpO1xuICAgICAgICAgIC8vIENsZWFyIHRoZSBBUEkga2V5IGZpZWxkIGFmdGVyIHN1Y2Nlc3NmdWwgc2F2ZVxuICAgICAgICAgIGlmIChhcGlLZXlJbnB1dCkge1xuICAgICAgICAgICAgYXBpS2V5SW5wdXQudmFsdWUgPSAnJztcbiAgICAgICAgICAgIGFwaUtleUlucHV0LnBsYWNlaG9sZGVyID0gJ1x1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMic7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIHNhdmUgQUkgY29uZmlnIGZhaWxlZCcsIGVycik7XG4gICAgICAgICAgc2V0QUlGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZGUgbGEgc2F1dmVnYXJkZS4nLCAnZXJyb3InKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBhaVNhdmVCdXR0b24gJiYgKGFpU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGxvYWRBSUNvbmZpZygpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXRNZWRpYVdvcmtzcGFjZSgpIHtcbiAgICBjb25zdCBncmlkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZ3JpZF0nKTtcbiAgICBpZiAoIWdyaWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZW1wdHlTdGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWVtcHR5XScpO1xuICAgIGNvbnN0IGNvdW50QmFkZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1jb3VudF0nKTtcbiAgICBjb25zdCBmaWx0ZXJUeXBlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZmlsdGVyLXR5cGVdJyk7XG4gICAgY29uc3QgZGV0YWlsRW1wdHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZXRhaWwtZW1wdHldJyk7XG4gICAgY29uc3QgZGV0YWlsUGFuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZXRhaWxdJyk7XG4gICAgY29uc3QgZGV0YWlsUHJldmlldyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRldGFpbC1wcmV2aWV3XScpO1xuICAgIGNvbnN0IGRldGFpbE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZXRhaWwtbmFtZV0nKTtcbiAgICBjb25zdCBkZXRhaWxUeXBlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGV0YWlsLXR5cGVdJyk7XG4gICAgY29uc3QgZGV0YWlsU2l6ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRldGFpbC1zaXplXScpO1xuICAgIGNvbnN0IGRldGFpbFBhdGggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZXRhaWwtcGF0aF0nKTtcbiAgICBjb25zdCBkZXRhaWxVc2VkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGV0YWlsLXVzZWRdJyk7XG4gICAgY29uc3QgZGV0YWlsQWx0SW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1hbHQtZWRpdF0nKTtcbiAgICBjb25zdCBkZXRhaWxTYXZlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtc2F2ZV0nKTtcbiAgICBjb25zdCBkZXRhaWxEZWxldGVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZWxldGVdJyk7XG4gICAgY29uc3QgZGVsZXRlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZWxldGUtbW9kYWxdJyk7XG4gICAgY29uc3QgZGVsZXRlQ2FuY2VsQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGVsZXRlLWNhbmNlbF0nKTtcbiAgICBjb25zdCBkZWxldGVDb25maXJtQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGVsZXRlLWNvbmZpcm1dJyk7XG4gICAgY29uc3QgdXBsb2FkT3BlbkJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLXVwbG9hZC1vcGVuXScpO1xuICAgIGNvbnN0IGZpbGVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWZpbGUtaW5wdXRdJyk7XG4gICAgY29uc3QgdXBsb2FkU3RhdHVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtdXBsb2FkLXN0YXR1c10nKTtcblxuICAgIGNvbnN0IHNhZmVTaXRlU2x1Z1ZhbHVlID0gc3RyaXBMZWFkaW5nU2xhc2goXG4gICAgICB3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnLFxuICAgICk7XG4gICAgY29uc3QgbWVkaWFBcGlCYXNlID0gc2FmZVNpdGVTbHVnVmFsdWVcbiAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnVmFsdWUpfS9tZWRpYWBcbiAgICAgIDogbnVsbDtcblxuICAgIGxldCBtZWRpYUl0ZW1zID0gW107XG4gICAgbGV0IGZpbHRlcmVkSXRlbXMgPSBbXTtcbiAgICBsZXQgYWN0aXZlTWVkaWFJZCA9IG51bGw7XG4gICAgbGV0IGhpZ2hsaWdodE1lZGlhSWQgPSBudWxsO1xuICAgIGxldCBwZW5kaW5nVXBsb2FkRmlsZSA9IG51bGw7XG4gICAgbGV0IHVwbG9hZEluUHJvZ3Jlc3MgPSBmYWxzZTtcbiAgICBsZXQgZGV0YWlsRGlydHkgPSBmYWxzZTtcbiAgICBsZXQgdXBsb2FkTW9kZSA9IGZhbHNlO1xuICAgIGxldCB1cGxvYWRQcmV2aWV3VXJsID0gbnVsbDtcblxuICAgIGNvbnN0IGRlcml2ZUdyb3VwVHlwZSA9IChpdGVtKSA9PiB7XG4gICAgICBjb25zdCB0eXBlID0gKGl0ZW0udHlwZSB8fCAnJykudG9Mb3dlckNhc2UoKTtcbiAgICAgIGNvbnN0IGZpbGVuYW1lID0gKGl0ZW0uZmlsZW5hbWUgfHwgJycpLnRvTG93ZXJDYXNlKCk7XG4gICAgICBpZiAodHlwZS5pbmNsdWRlcygnaW1hZ2UnKSB8fCAvXFwuKHBuZ3xqcGU/Z3x3ZWJwfHN2Z3xnaWYpJC9pLnRlc3QoZmlsZW5hbWUpKSB7XG4gICAgICAgIHJldHVybiAnaW1hZ2UnO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGUuaW5jbHVkZXMoJ3BkZicpIHx8IHR5cGUuaW5jbHVkZXMoJ2RvYycpIHx8IC9cXC4ocGRmfGRvY3g/KSQvaS50ZXN0KGZpbGVuYW1lKSkge1xuICAgICAgICByZXR1cm4gJ2RvY3VtZW50JztcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlLmluY2x1ZGVzKCd2aWRlbycpIHx8IC9cXC4obXA0fG1vdnx3ZWJtKSQvaS50ZXN0KGZpbGVuYW1lKSkge1xuICAgICAgICByZXR1cm4gJ3ZpZGVvJztcbiAgICAgIH1cbiAgICAgIHJldHVybiAnb3RoZXInO1xuICAgIH07XG5cbiAgICBjb25zdCBpc0ltYWdlVHlwZSA9IChpdGVtKSA9PiBkZXJpdmVHcm91cFR5cGUoaXRlbSkgPT09ICdpbWFnZSc7XG5cbiAgICBjb25zdCBmb3JtYXRUeXBlTGFiZWwgPSAoaXRlbSkgPT4ge1xuICAgICAgaWYgKGl0ZW0udHlwZSkge1xuICAgICAgICByZXR1cm4gaXRlbS50eXBlLnRvVXBwZXJDYXNlKCk7XG4gICAgICB9XG4gICAgICBjb25zdCBleHQgPSAoaXRlbS5maWxlbmFtZSB8fCAnJykuc3BsaXQoJy4nKS5wb3AoKTtcbiAgICAgIHJldHVybiBleHQgPyBleHQudG9VcHBlckNhc2UoKSA6ICdGSUxFJztcbiAgICB9O1xuXG4gICAgY29uc3QgZm9ybWF0RmlsZVNpemUgPSAoc2l6ZSkgPT4ge1xuICAgICAgaWYgKCFzaXplIHx8IHNpemUgPD0gMCkge1xuICAgICAgICByZXR1cm4gJ1x1MjAxNCc7XG4gICAgICB9XG4gICAgICBpZiAoc2l6ZSA8IDEwMjQpIHtcbiAgICAgICAgcmV0dXJuIGAke3NpemV9IG9gO1xuICAgICAgfVxuICAgICAgaWYgKHNpemUgPCAxMDI0ICogMTAyNCkge1xuICAgICAgICByZXR1cm4gYCR7KHNpemUgLyAxMDI0KS50b0ZpeGVkKDEpfSBrb2A7XG4gICAgICB9XG4gICAgICByZXR1cm4gYCR7KHNpemUgLyAoMTAyNCAqIDEwMjQpKS50b0ZpeGVkKDEpfSBNb2A7XG4gICAgfTtcblxuICAgIGNvbnN0IHJlc2V0RGV0YWlsUGFuZWwgPSAoKSA9PiB7XG4gICAgICBkZXRhaWxQYW5lbD8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBkZXRhaWxFbXB0eT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBjbGVhclVwbG9hZFN0YXRlKCk7XG4gICAgICBhY3RpdmVNZWRpYUlkID0gbnVsbDtcbiAgICAgIGRldGFpbERpcnR5ID0gZmFsc2U7XG4gICAgICB1cGRhdGVEZXRhaWxBY3Rpb25zKGZhbHNlKTtcbiAgICAgIGlmIChkZXRhaWxQcmV2aWV3KSB7XG4gICAgICAgIGRldGFpbFByZXZpZXcuaW5uZXJIVE1MID1cbiAgICAgICAgICAnPHNwYW4gY2xhc3M9XCJ0ZXh0LXNsYXRlLTQwMCB0ZXh0LXNtXCI+QXVjdW4gbVx1MDBFOWRpYSBzXHUwMEU5bGVjdGlvbm5cdTAwRTk8L3NwYW4+JztcbiAgICAgIH1cbiAgICAgIGlmIChkZXRhaWxOYW1lKSB7XG4gICAgICAgIGRldGFpbE5hbWUudGV4dENvbnRlbnQgPSAnJztcbiAgICAgIH1cbiAgICAgIGRldGFpbFR5cGUgJiYgKGRldGFpbFR5cGUudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgICBkZXRhaWxTaXplICYmIChkZXRhaWxTaXplLnRleHRDb250ZW50ID0gJycpO1xuICAgICAgaWYgKGRldGFpbEFsdElucHV0KSB7XG4gICAgICAgIGRldGFpbEFsdElucHV0LnZhbHVlID0gJyc7XG4gICAgICB9XG4gICAgICBkZXRhaWxQYXRoICYmIChkZXRhaWxQYXRoLnRleHRDb250ZW50ID0gJycpO1xuICAgICAgaWYgKGRldGFpbFVzZWQpIHtcbiAgICAgICAgZGV0YWlsVXNlZC5pbm5lckhUTUwgPSAnJztcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgY2xlYXJVcGxvYWRTdGF0ZSA9ICgpID0+IHtcbiAgICAgIHBlbmRpbmdVcGxvYWRGaWxlID0gbnVsbDtcbiAgICAgIHVwbG9hZE1vZGUgPSBmYWxzZTtcbiAgICAgIHVwbG9hZEluUHJvZ3Jlc3MgPSBmYWxzZTtcbiAgICAgIGlmICh1cGxvYWRQcmV2aWV3VXJsKSB7XG4gICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwodXBsb2FkUHJldmlld1VybCk7XG4gICAgICAgIHVwbG9hZFByZXZpZXdVcmwgPSBudWxsO1xuICAgICAgfVxuICAgICAgdXBsb2FkU3RhdHVzICYmICh1cGxvYWRTdGF0dXMudGV4dENvbnRlbnQgPSAnQXVjdW4gZmljaGllciBzXHUwMEU5bGVjdGlvbm5cdTAwRTkuJyk7XG4gICAgICBmaWxlSW5wdXQgJiYgKGZpbGVJbnB1dC52YWx1ZSA9ICcnKTtcbiAgICB9O1xuXG4gICAgY29uc3QgdXBkYXRlQ291bnRCYWRnZSA9ICgpID0+IHtcbiAgICAgIGlmICghY291bnRCYWRnZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWZpbHRlcmVkSXRlbXMubGVuZ3RoKSB7XG4gICAgICAgIGNvdW50QmFkZ2UudGV4dENvbnRlbnQgPSAnMCBtXHUwMEU5ZGlhJztcbiAgICAgIH0gZWxzZSBpZiAoZmlsdGVyZWRJdGVtcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgY291bnRCYWRnZS50ZXh0Q29udGVudCA9ICcxIG1cdTAwRTlkaWEnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY291bnRCYWRnZS50ZXh0Q29udGVudCA9IGAke2ZpbHRlcmVkSXRlbXMubGVuZ3RofSBtXHUwMEU5ZGlhc2A7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHJlbmRlckdyaWQgPSAoKSA9PiB7XG4gICAgICBncmlkLmlubmVySFRNTCA9ICcnO1xuICAgICAgaWYgKCFmaWx0ZXJlZEl0ZW1zLmxlbmd0aCkge1xuICAgICAgICBlbXB0eVN0YXRlPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgcmVzZXREZXRhaWxQYW5lbCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBlbXB0eVN0YXRlPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGZpbHRlcmVkSXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICBjb25zdCBjYXJkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIGNhcmQudHlwZSA9ICdidXR0b24nO1xuICAgICAgICBjYXJkLmRhdGFzZXQubWVkaWFJZCA9IGl0ZW0uaWQ7XG4gICAgICAgIGNvbnN0IGlzQWN0aXZlID0gaXRlbS5pZCA9PT0gYWN0aXZlTWVkaWFJZDtcbiAgICAgICAgY2FyZC5jbGFzc05hbWUgPSBbXG4gICAgICAgICAgJ2dyb3VwIHJlbGF0aXZlIGZsZXggZmxleC1jb2wgcm91bmRlZC0yeGwgYm9yZGVyIHB4LTMgcHktMyB0ZXh0LWxlZnQgdHJhbnNpdGlvbiBmb2N1cy12aXNpYmxlOm91dGxpbmUgZm9jdXMtdmlzaWJsZTpvdXRsaW5lLTIgZm9jdXMtdmlzaWJsZTpvdXRsaW5lLW9mZnNldC0yIGZvY3VzLXZpc2libGU6b3V0bGluZS1bIzlDNkJGRl0nLFxuICAgICAgICAgIGlzQWN0aXZlXG4gICAgICAgICAgICA/ICdib3JkZXItWyM5QzZCRkZdIGJnLVsjRjdGMEZGXS82MCBzaGFkb3ctc20nXG4gICAgICAgICAgICA6ICdib3JkZXItc2xhdGUtMjAwIGhvdmVyOmJvcmRlci1bIzlDNkJGRl0vNDAnLFxuICAgICAgICBdLmpvaW4oJyAnKTtcbiAgICAgICAgY29uc3QgcHJldmlldyA9IGlzSW1hZ2VUeXBlKGl0ZW0pXG4gICAgICAgICAgPyBgPGltZyBzcmM9XCIke2l0ZW0ucGF0aH1cIiBhbHQ9XCIke2l0ZW0uYWx0IHx8IGl0ZW0uZmlsZW5hbWV9XCIgY2xhc3M9XCJoLWZ1bGwgdy1mdWxsIG9iamVjdC1jb3ZlclwiIC8+YFxuICAgICAgICAgIDogYDxkaXYgY2xhc3M9XCJmbGV4IGgtZnVsbCB3LWZ1bGwgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHRleHQtM3hsIHRleHQtc2xhdGUtNDAwXCI+XHVEODNEXHVEQ0M0PC9kaXY+YDtcbiAgICAgICAgY2FyZC5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInJlbGF0aXZlIGFzcGVjdC1bNC8zXSBvdmVyZmxvdy1oaWRkZW4gcm91bmRlZC14bCBiZy1zbGF0ZS0xMDBcIj5cbiAgICAgICAgICAgICR7cHJldmlld31cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwibXQtMiBzcGFjZS15LTFcIj5cbiAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1zbSBmb250LXNlbWlib2xkIHRleHQtc2xhdGUtOTAwIHRydW5jYXRlXCI+JHtpdGVtLmZpbGVuYW1lfTwvcD5cbiAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC14cyB0ZXh0LXNsYXRlLTUwMFwiPlxuICAgICAgICAgICAgICAke2Zvcm1hdFR5cGVMYWJlbChpdGVtKX0gXHUwMEI3ICR7Zm9ybWF0RmlsZVNpemUoaXRlbS5zaXplKX1cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgYDtcbiAgICAgICAgaWYgKGl0ZW0uaWQgPT09IGhpZ2hsaWdodE1lZGlhSWQpIHtcbiAgICAgICAgICBjYXJkLmNsYXNzTGlzdC5hZGQoJ3JpbmctMicsICdyaW5nLVsjOUM2QkZGXScpO1xuICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGNhcmQuY2xhc3NMaXN0LnJlbW92ZSgncmluZy0yJywgJ3JpbmctWyM5QzZCRkZdJyk7XG4gICAgICAgICAgfSwgMTYwMCk7XG4gICAgICAgIH1cbiAgICAgICAgY2FyZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHNlbGVjdE1lZGlhKGl0ZW0uaWQpKTtcbiAgICAgICAgZ3JpZC5hcHBlbmRDaGlsZChjYXJkKTtcbiAgICAgIH0pO1xuICAgICAgaGlnaGxpZ2h0TWVkaWFJZCA9IG51bGw7XG4gICAgfTtcblxuICAgIGNvbnN0IHJlbmRlclVzZWRJbiA9IChpdGVtKSA9PiB7XG4gICAgICBpZiAoIWRldGFpbFVzZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZGV0YWlsVXNlZC5pbm5lckhUTUwgPSAnJztcbiAgICAgIGlmICghaXRlbS51c2VkSW4gfHwgaXRlbS51c2VkSW4ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGNvbnN0IGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgbGkudGV4dENvbnRlbnQgPSAnTm9uIHV0aWxpc1x1MDBFOSc7XG4gICAgICAgIGxpLmNsYXNzTmFtZSA9ICd0ZXh0LXhzIHRleHQtc2xhdGUtNDAwJztcbiAgICAgICAgZGV0YWlsVXNlZC5hcHBlbmRDaGlsZChsaSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGl0ZW0udXNlZEluLmZvckVhY2goKGVudHJ5KSA9PiB7XG4gICAgICAgIGNvbnN0IGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgbGkudGV4dENvbnRlbnQgPSBlbnRyeTtcbiAgICAgICAgbGkuY2xhc3NOYW1lID0gJ3RleHQteHMgdGV4dC1zbGF0ZS02MDAnO1xuICAgICAgICBkZXRhaWxVc2VkLmFwcGVuZENoaWxkKGxpKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCB1cGRhdGVEZXRhaWxBY3Rpb25zID0gKHNhdmluZykgPT4ge1xuICAgICAgaWYgKCFkZXRhaWxTYXZlQnV0dG9uKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICh1cGxvYWRNb2RlKSB7XG4gICAgICAgIGRldGFpbFNhdmVCdXR0b24udGV4dENvbnRlbnQgPSBzYXZpbmcgPyAnVFx1MDBFOWxcdTAwRTl2ZXJzZW1lbnRcdTIwMjYnIDogJ1RcdTAwRTlsXHUwMEU5dmVyc2VyJztcbiAgICAgICAgZGV0YWlsU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IHNhdmluZyB8fCAhcGVuZGluZ1VwbG9hZEZpbGU7XG4gICAgICAgIGlmIChkZXRhaWxEZWxldGVCdXR0b24pIHtcbiAgICAgICAgICBkZXRhaWxEZWxldGVCdXR0b24uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZGV0YWlsU2F2ZUJ1dHRvbi50ZXh0Q29udGVudCA9IHNhdmluZyA/ICdFbnJlZ2lzdHJlbWVudFx1MjAyNicgOiAnRW5yZWdpc3RyZXInO1xuICAgICAgZGV0YWlsU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IHNhdmluZyB8fCAhZGV0YWlsRGlydHk7XG4gICAgICBpZiAoZGV0YWlsRGVsZXRlQnV0dG9uKSB7XG4gICAgICAgIGRldGFpbERlbGV0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgZGV0YWlsRGVsZXRlQnV0dG9uLmRpc2FibGVkID0gIWFjdGl2ZU1lZGlhSWQ7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHNlbGVjdE1lZGlhID0gKG1lZGlhSWQpID0+IHtcbiAgICAgIGNvbnN0IGl0ZW0gPSBtZWRpYUl0ZW1zLmZpbmQoKGVudHJ5KSA9PiBlbnRyeS5pZCA9PT0gbWVkaWFJZCk7XG4gICAgICBpZiAoIWl0ZW0pIHtcbiAgICAgICAgcmVzZXREZXRhaWxQYW5lbCgpO1xuICAgICAgICByZW5kZXJHcmlkKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNsZWFyVXBsb2FkU3RhdGUoKTtcbiAgICAgIGFjdGl2ZU1lZGlhSWQgPSBpdGVtLmlkO1xuICAgICAgZGV0YWlsRGlydHkgPSBmYWxzZTtcbiAgICAgIHVwZGF0ZURldGFpbEFjdGlvbnMoZmFsc2UpO1xuICAgICAgcmVuZGVyR3JpZCgpO1xuICAgICAgZGV0YWlsRW1wdHk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgZGV0YWlsUGFuZWw/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgaWYgKGRldGFpbFByZXZpZXcpIHtcbiAgICAgICAgaWYgKGlzSW1hZ2VUeXBlKGl0ZW0pKSB7XG4gICAgICAgICAgZGV0YWlsUHJldmlldy5pbm5lckhUTUwgPSBgPGltZyBzcmM9XCIke2l0ZW0ucGF0aH1cIiBhbHQ9XCIke2l0ZW0uYWx0IHx8IGl0ZW0uZmlsZW5hbWV9XCIgY2xhc3M9XCJoLWZ1bGwgdy1mdWxsIHJvdW5kZWQtMnhsIG9iamVjdC1jb3ZlclwiIC8+YDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkZXRhaWxQcmV2aWV3LmlubmVySFRNTCA9XG4gICAgICAgICAgICAnPGRpdiBjbGFzcz1cImZsZXggaC1mdWxsIHctZnVsbCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgZ2FwLTEgdGV4dC1zbGF0ZS00MDBcIj48c3BhbiBjbGFzcz1cInRleHQtM3hsXCI+XHVEODNEXHVEQ0M0PC9zcGFuPjxzcGFuIGNsYXNzPVwidGV4dC14cyBmb250LXNlbWlib2xkXCI+RG9jdW1lbnQ8L3NwYW4+PC9kaXY+JztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZGV0YWlsTmFtZSAmJiAoZGV0YWlsTmFtZS50ZXh0Q29udGVudCA9IGl0ZW0uZmlsZW5hbWUgfHwgJ0ZpY2hpZXInKTtcbiAgICAgIGRldGFpbFR5cGUgJiYgKGRldGFpbFR5cGUudGV4dENvbnRlbnQgPSBmb3JtYXRUeXBlTGFiZWwoaXRlbSkpO1xuICAgICAgZGV0YWlsU2l6ZSAmJiAoZGV0YWlsU2l6ZS50ZXh0Q29udGVudCA9IGZvcm1hdEZpbGVTaXplKGl0ZW0uc2l6ZSkpO1xuICAgICAgaWYgKGRldGFpbEFsdElucHV0KSB7XG4gICAgICAgIGRldGFpbEFsdElucHV0LnZhbHVlID0gaXRlbS5hbHQgfHwgJyc7XG4gICAgICB9XG4gICAgICBkZXRhaWxQYXRoICYmIChkZXRhaWxQYXRoLnRleHRDb250ZW50ID0gaXRlbS5wYXRoIHx8ICdcdTIwMTQnKTtcbiAgICAgIHJlbmRlclVzZWRJbihpdGVtKTtcbiAgICB9O1xuXG4gICAgY29uc3Qgc2hvd1VwbG9hZFByZXZpZXcgPSAoZmlsZSkgPT4ge1xuICAgICAgaWYgKCFmaWxlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHVwbG9hZE1vZGUgPSB0cnVlO1xuICAgICAgZGV0YWlsRGlydHkgPSBmYWxzZTtcbiAgICAgIGFjdGl2ZU1lZGlhSWQgPSBudWxsO1xuICAgICAgZGV0YWlsRW1wdHk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgZGV0YWlsUGFuZWw/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgaWYgKHVwbG9hZFByZXZpZXdVcmwpIHtcbiAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTCh1cGxvYWRQcmV2aWV3VXJsKTtcbiAgICAgIH1cbiAgICAgIHVwbG9hZFByZXZpZXdVcmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGUpO1xuICAgICAgaWYgKGRldGFpbFByZXZpZXcpIHtcbiAgICAgICAgZGV0YWlsUHJldmlldy5pbm5lckhUTUwgPSBgPGltZyBzcmM9XCIke3VwbG9hZFByZXZpZXdVcmx9XCIgYWx0PVwiJHtmaWxlLm5hbWV9XCIgY2xhc3M9XCJoLWZ1bGwgdy1mdWxsIHJvdW5kZWQtMnhsIG9iamVjdC1jb3ZlclwiIC8+YDtcbiAgICAgIH1cbiAgICAgIGRldGFpbE5hbWUgJiYgKGRldGFpbE5hbWUudGV4dENvbnRlbnQgPSBmaWxlLm5hbWUpO1xuICAgICAgZGV0YWlsVHlwZSAmJiAoZGV0YWlsVHlwZS50ZXh0Q29udGVudCA9IGZvcm1hdFR5cGVMYWJlbCh7IHR5cGU6IGZpbGUudHlwZSwgZmlsZW5hbWU6IGZpbGUubmFtZSB9KSk7XG4gICAgICBkZXRhaWxTaXplICYmIChkZXRhaWxTaXplLnRleHRDb250ZW50ID0gZm9ybWF0RmlsZVNpemUoZmlsZS5zaXplKSk7XG4gICAgICBpZiAoZGV0YWlsQWx0SW5wdXQgJiYgIWRldGFpbEFsdElucHV0LnZhbHVlLnRyaW0oKSkge1xuICAgICAgICBkZXRhaWxBbHRJbnB1dC52YWx1ZSA9IGZpbGUubmFtZS5yZXBsYWNlKC9cXC5bXi5dKyQvLCAnJykucmVwbGFjZSgvWy1fXS9nLCAnICcpO1xuICAgICAgfVxuICAgICAgZGV0YWlsUGF0aCAmJiAoZGV0YWlsUGF0aC50ZXh0Q29udGVudCA9ICdFbiBhdHRlbnRlIGRlIHRcdTAwRTlsXHUwMEU5dmVyc2VtZW50Jyk7XG4gICAgICBpZiAoZGV0YWlsVXNlZCkge1xuICAgICAgICBkZXRhaWxVc2VkLmlubmVySFRNTCA9ICcnO1xuICAgICAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICAgIGxpLnRleHRDb250ZW50ID0gJ05vbiB1dGlsaXNcdTAwRTknO1xuICAgICAgICBsaS5jbGFzc05hbWUgPSAndGV4dC14cyB0ZXh0LXNsYXRlLTQwMCc7XG4gICAgICAgIGRldGFpbFVzZWQuYXBwZW5kQ2hpbGQobGkpO1xuICAgICAgfVxuICAgICAgdXBkYXRlRGV0YWlsQWN0aW9ucyhmYWxzZSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGFwcGx5RmlsdGVycyA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHR5cGVGaWx0ZXIgPSBmaWx0ZXJUeXBlPy52YWx1ZSB8fCAnYWxsJztcbiAgICAgIGlmICh0eXBlRmlsdGVyID09PSAnYWxsJykge1xuICAgICAgICBmaWx0ZXJlZEl0ZW1zID0gWy4uLm1lZGlhSXRlbXNdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZmlsdGVyZWRJdGVtcyA9IG1lZGlhSXRlbXMuZmlsdGVyKChpdGVtKSA9PiBpdGVtLmdyb3VwVHlwZSA9PT0gdHlwZUZpbHRlcik7XG4gICAgICB9XG4gICAgICBpZiAoIWZpbHRlcmVkSXRlbXMuc29tZSgoaXRlbSkgPT4gaXRlbS5pZCA9PT0gYWN0aXZlTWVkaWFJZCkpIHtcbiAgICAgICAgcmVzZXREZXRhaWxQYW5lbCgpO1xuICAgICAgfVxuICAgICAgdXBkYXRlQ291bnRCYWRnZSgpO1xuICAgICAgcmVuZGVyR3JpZCgpO1xuICAgIH07XG5cbiAgICBjb25zdCBsb2FkTWVkaWEgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIW1lZGlhQXBpQmFzZSkge1xuICAgICAgICBlbXB0eVN0YXRlPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChtZWRpYUFwaUJhc2UsIHtcbiAgICAgICAgICBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIG1cdTAwRTlkaWFzLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHsgaXRlbXM6IFtdIH0pKTtcbiAgICAgICAgbWVkaWFJdGVtcyA9IEFycmF5LmlzQXJyYXkocGF5bG9hZC5pdGVtcylcbiAgICAgICAgICA/IHBheWxvYWQuaXRlbXMubWFwKChpdGVtKSA9PiAoeyAuLi5pdGVtLCBncm91cFR5cGU6IGRlcml2ZUdyb3VwVHlwZShpdGVtKSB9KSlcbiAgICAgICAgICA6IFtdO1xuICAgICAgICBhcHBseUZpbHRlcnMoKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbbWVkaWFdIGxvYWQgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIG1cdTAwRTlkaWFzLicpO1xuICAgICAgICBtZWRpYUl0ZW1zID0gW107XG4gICAgICAgIGFwcGx5RmlsdGVycygpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBmaWx0ZXJUeXBlPy5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgICBhcHBseUZpbHRlcnMoKTtcbiAgICB9KTtcbiAgICBkZXRhaWxBbHRJbnB1dD8uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgICBpZiAodXBsb2FkTW9kZSkge1xuICAgICAgICB1cGRhdGVEZXRhaWxBY3Rpb25zKGZhbHNlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFhY3RpdmVNZWRpYUlkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGRldGFpbERpcnR5ID0gdHJ1ZTtcbiAgICAgIHVwZGF0ZURldGFpbEFjdGlvbnMoZmFsc2UpO1xuICAgIH0pO1xuXG4gICAgY29uc3QgaGFuZGxlRmlsZVNlbGVjdGlvbiA9IChmaWxlKSA9PiB7XG4gICAgICBpZiAoIWZpbGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFmaWxlLnR5cGUuc3RhcnRzV2l0aCgnaW1hZ2UvJykpIHtcbiAgICAgICAgc2hvd1RvYXN0KCdTZXVsZXMgbGVzIGltYWdlcyBzb250IGFjY2VwdFx1MDBFOWVzIHBvdXIgbGUgbW9tZW50LicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoZmlsZS5zaXplID4gNCAqIDEwMjQgKiAxMDI0KSB7XG4gICAgICAgIHNob3dUb2FzdCgnRmljaGllciB0cm9wIHZvbHVtaW5ldXggKDQgTW8gbWF4KS4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcGVuZGluZ1VwbG9hZEZpbGUgPSBmaWxlO1xuICAgICAgc2hvd1VwbG9hZFByZXZpZXcoZmlsZSk7XG4gICAgICBpZiAodXBsb2FkU3RhdHVzKSB7XG4gICAgICAgIHVwbG9hZFN0YXR1cy50ZXh0Q29udGVudCA9IGAke2ZpbGUubmFtZX0gXHUwMEI3ICR7Zm9ybWF0RmlsZVNpemUoZmlsZS5zaXplKX1gO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCByZWFkRmlsZUFzQmFzZTY0ID0gKGZpbGUpID0+XG4gICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICAgIHJlYWRlci5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gcmVhZGVyLnJlc3VsdCB8fCAnJztcbiAgICAgICAgICBjb25zdCBbLCBiYXNlNjQgPSAnJ10gPSBTdHJpbmcocmVzdWx0KS5zcGxpdCgnLCcpO1xuICAgICAgICAgIHJlc29sdmUoYmFzZTY0KTtcbiAgICAgICAgfTtcbiAgICAgICAgcmVhZGVyLm9uZXJyb3IgPSAoKSA9PiByZWplY3QobmV3IEVycm9yKCdJbXBvc3NpYmxlIGRlIGxpcmUgY2UgZmljaGllci4nKSk7XG4gICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xuICAgICAgfSk7XG5cbiAgICBjb25zdCB1cGxvYWRTZWxlY3RlZE1lZGlhID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFwZW5kaW5nVXBsb2FkRmlsZSB8fCAhbWVkaWFBcGlCYXNlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHVwbG9hZEluUHJvZ3Jlc3MgPSB0cnVlO1xuICAgICAgdXBkYXRlRGV0YWlsQWN0aW9ucyh0cnVlKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGJhc2U2NCA9IGF3YWl0IHJlYWRGaWxlQXNCYXNlNjQocGVuZGluZ1VwbG9hZEZpbGUpO1xuICAgICAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICAgIGZpbGVuYW1lOiBwZW5kaW5nVXBsb2FkRmlsZS5uYW1lLFxuICAgICAgICAgIHR5cGU6IHBlbmRpbmdVcGxvYWRGaWxlLnR5cGUsXG4gICAgICAgICAgc2l6ZTogcGVuZGluZ1VwbG9hZEZpbGUuc2l6ZSxcbiAgICAgICAgICBhbHQ6IGRldGFpbEFsdElucHV0Py52YWx1ZSB8fCAnJyxcbiAgICAgICAgICBkYXRhOiBiYXNlNjQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2gobWVkaWFBcGlCYXNlLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgY29uc3QgZXJyb3JQYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvclBheWxvYWQubWVzc2FnZSB8fCAnVXBsb2FkIGltcG9zc2libGUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2F2ZWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIHNhdmVkLmdyb3VwVHlwZSA9IGRlcml2ZUdyb3VwVHlwZShzYXZlZCk7XG4gICAgICAgIG1lZGlhSXRlbXMgPSBbLi4ubWVkaWFJdGVtcywgc2F2ZWRdO1xuICAgICAgICBoaWdobGlnaHRNZWRpYUlkID0gc2F2ZWQuaWQ7XG4gICAgICAgIGFwcGx5RmlsdGVycygpO1xuICAgICAgICBzZWxlY3RNZWRpYShzYXZlZC5pZCk7XG4gICAgICAgIHNob3dUb2FzdCgnTVx1MDBFOWRpYSBham91dFx1MDBFOScpO1xuICAgICAgICBjbGVhclVwbG9hZFN0YXRlKCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW21lZGlhXSB1cGxvYWQgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIHRcdTAwRTlsXHUwMEU5dmVyc2VyIGNlIG1cdTAwRTlkaWEuJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICB1cGxvYWRJblByb2dyZXNzID0gZmFsc2U7XG4gICAgICAgIHBlbmRpbmdVcGxvYWRGaWxlID0gbnVsbDtcbiAgICAgICAgdXBkYXRlRGV0YWlsQWN0aW9ucyhmYWxzZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHVwbG9hZE9wZW5CdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gZmlsZUlucHV0Py5jbGljaygpKTtcbiAgICBmaWxlSW5wdXQ/LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgICAgIGlmIChmaWxlSW5wdXQuZmlsZXMgJiYgZmlsZUlucHV0LmZpbGVzWzBdKSB7XG4gICAgICAgIGhhbmRsZUZpbGVTZWxlY3Rpb24oZmlsZUlucHV0LmZpbGVzWzBdKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBjb25zdCBjbG9zZURlbGV0ZU1vZGFsID0gKCkgPT4ge1xuICAgICAgaWYgKCFkZWxldGVNb2RhbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBkZWxldGVNb2RhbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGRlbGV0ZU1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2ZsZXgnKTtcbiAgICB9O1xuXG4gICAgY29uc3Qgb3BlbkRlbGV0ZU1vZGFsID0gKCkgPT4ge1xuICAgICAgaWYgKCFhY3RpdmVNZWRpYUlkIHx8IHVwbG9hZE1vZGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGRlbGV0ZU1vZGFsKSB7XG4gICAgICAgIGRlbGV0ZU1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICBkZWxldGVNb2RhbC5jbGFzc0xpc3QuYWRkKCdmbGV4Jyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vIEZhbGxiYWNrIHNpIGF1Y3VuZSBtb2RhbGUgbidlc3QgZGlzcG9uaWJsZVxuICAgICAgaWYgKHdpbmRvdy5jb25maXJtKCdTdXBwcmltZXIgY2UgbVx1MDBFOWRpYSA/JykpIHtcbiAgICAgICAgZGVsZXRlQWN0aXZlTWVkaWEoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgZGVsZXRlQWN0aXZlTWVkaWEgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWFjdGl2ZU1lZGlhSWQgfHwgIW1lZGlhQXBpQmFzZSkge1xuICAgICAgICBjbG9zZURlbGV0ZU1vZGFsKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRpc2FibGVCdXR0b25zID0gKCkgPT4ge1xuICAgICAgICBpZiAoZGV0YWlsRGVsZXRlQnV0dG9uKSB7XG4gICAgICAgICAgZGV0YWlsRGVsZXRlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVsZXRlQ29uZmlybUJ1dHRvbikge1xuICAgICAgICAgIGRlbGV0ZUNvbmZpcm1CdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICAgIGRlbGV0ZUNvbmZpcm1CdXR0b24udGV4dENvbnRlbnQgPSAnU3VwcHJlc3Npb25cdTIwMjYnO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgY29uc3QgZW5hYmxlQnV0dG9ucyA9ICgpID0+IHtcbiAgICAgICAgaWYgKGRldGFpbERlbGV0ZUJ1dHRvbikge1xuICAgICAgICAgIGRldGFpbERlbGV0ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkZWxldGVDb25maXJtQnV0dG9uKSB7XG4gICAgICAgICAgZGVsZXRlQ29uZmlybUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgIGRlbGV0ZUNvbmZpcm1CdXR0b24udGV4dENvbnRlbnQgPSAnU3VwcHJpbWVyJztcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGRpc2FibGVCdXR0b25zKCk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgICAgIGAke21lZGlhQXBpQmFzZX0vJHtlbmNvZGVVUklDb21wb25lbnQoYWN0aXZlTWVkaWFJZCl9YCxcbiAgICAgICAgICB7IG1ldGhvZDogJ0RFTEVURScgfSxcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHBheWxvYWQubWVzc2FnZSB8fCAnU3VwcHJlc3Npb24gaW1wb3NzaWJsZS4nKTtcbiAgICAgICAgfVxuICAgICAgICBtZWRpYUl0ZW1zID0gbWVkaWFJdGVtcy5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0uaWQgIT09IGFjdGl2ZU1lZGlhSWQpO1xuICAgICAgICBmaWx0ZXJlZEl0ZW1zID0gZmlsdGVyZWRJdGVtcy5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0uaWQgIT09IGFjdGl2ZU1lZGlhSWQpO1xuICAgICAgICBzaG93VG9hc3QoJ01cdTAwRTlkaWEgc3VwcHJpbVx1MDBFOScpO1xuICAgICAgICByZXNldERldGFpbFBhbmVsKCk7XG4gICAgICAgIHVwZGF0ZUNvdW50QmFkZ2UoKTtcbiAgICAgICAgcmVuZGVyR3JpZCgpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1ttZWRpYV0gZGVsZXRlIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBzdXBwcmltZXIgY2UgbVx1MDBFOWRpYS4nKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGVuYWJsZUJ1dHRvbnMoKTtcbiAgICAgICAgY2xvc2VEZWxldGVNb2RhbCgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBkZWxldGVDYW5jZWxCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VEZWxldGVNb2RhbCk7XG4gICAgZGVsZXRlTW9kYWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSBkZWxldGVNb2RhbCkge1xuICAgICAgICBjbG9zZURlbGV0ZU1vZGFsKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBkZWxldGVDb25maXJtQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGRlbGV0ZUFjdGl2ZU1lZGlhKCkpO1xuICAgIGRldGFpbERlbGV0ZUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuRGVsZXRlTW9kYWwpO1xuXG4gICAgZGV0YWlsU2F2ZUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAodXBsb2FkTW9kZSkge1xuICAgICAgICB1cGxvYWRTZWxlY3RlZE1lZGlhKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghYWN0aXZlTWVkaWFJZCB8fCAhbWVkaWFBcGlCYXNlIHx8ICFkZXRhaWxBbHRJbnB1dCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB1cGRhdGVEZXRhaWxBY3Rpb25zKHRydWUpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IHsgYWx0OiBkZXRhaWxBbHRJbnB1dC52YWx1ZSB8fCAnJyB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgICAgIGAke21lZGlhQXBpQmFzZX0vJHtlbmNvZGVVUklDb21wb25lbnQoYWN0aXZlTWVkaWFJZCl9YCxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgICB9LFxuICAgICAgICApO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgY29uc3QgZXJyb3JQYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvclBheWxvYWQubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBtZXR0cmUgXHUwMEUwIGpvdXIgY2UgbVx1MDBFOWRpYS4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB1cGRhdGVkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBtZWRpYUl0ZW1zID0gbWVkaWFJdGVtcy5tYXAoKGl0ZW0pID0+XG4gICAgICAgICAgaXRlbS5pZCA9PT0gYWN0aXZlTWVkaWFJZCA/IHsgLi4uaXRlbSwgLi4udXBkYXRlZCB9IDogaXRlbSxcbiAgICAgICAgKTtcbiAgICAgICAgZmlsdGVyZWRJdGVtcyA9IGZpbHRlcmVkSXRlbXMubWFwKChpdGVtKSA9PlxuICAgICAgICAgIGl0ZW0uaWQgPT09IGFjdGl2ZU1lZGlhSWQgPyB7IC4uLml0ZW0sIC4uLnVwZGF0ZWQgfSA6IGl0ZW0sXG4gICAgICAgICk7XG4gICAgICAgIGRldGFpbERpcnR5ID0gZmFsc2U7XG4gICAgICAgIHVwZGF0ZURldGFpbEFjdGlvbnMoZmFsc2UpO1xuICAgICAgICBzaG93VG9hc3QoJ01cdTAwRTlkaWEgbWlzIFx1MDBFMCBqb3VyJyk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW21lZGlhXSB1cGRhdGUgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdcdTAwQzljaGVjIGRlIGxhIG1pc2UgXHUwMEUwIGpvdXIuJyk7XG4gICAgICAgIHVwZGF0ZURldGFpbEFjdGlvbnMoZmFsc2UpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgbG9hZE1lZGlhKCk7XG4gIH1cblxuICAvLyBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcbiAgLy8gQUkgQ0hBVCAtIEFzc2lzdGFudCBJQSBjb250ZXh0dWVsXG4gIC8vIFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFxuXG4gIGNvbnN0IGFpQ2hhdFRvZ2dsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhaS1jaGF0LXRvZ2dsZScpO1xuICBjb25zdCBhaUNoYXRQYW5lbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhaS1jaGF0LXBhbmVsJyk7XG4gIGNvbnN0IGFpQ2hhdE92ZXJsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWktY2hhdC1vdmVybGF5Jyk7XG4gIGNvbnN0IGFpQ2hhdENsb3NlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FpLWNoYXQtY2xvc2UnKTtcbiAgY29uc3QgYWlDaGF0Q2xlYXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWktY2hhdC1jbGVhcicpO1xuICBjb25zdCBhaUNoYXRGb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FpLWNoYXQtZm9ybScpO1xuICBjb25zdCBhaUNoYXRJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhaS1jaGF0LWlucHV0Jyk7XG4gIGNvbnN0IGFpQ2hhdE1lc3NhZ2VzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FpLWNoYXQtbWVzc2FnZXMnKTtcbiAgY29uc3QgYWlDaGF0U3RhdHVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FpLWNoYXQtc3RhdHVzJyk7XG4gIGNvbnN0IGFpQ2hhdE5vQXBpID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FpLWNoYXQtbm8tYXBpJyk7XG4gIGNvbnN0IGFpUXVpY2tCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYWktcXVpY2tdJyk7XG5cbiAgbGV0IGFpQ2hhdE9wZW4gPSBmYWxzZTtcbiAgbGV0IGFpSXNMb2FkaW5nID0gZmFsc2U7XG4gIGxldCBhaUNvbmZpZ0NoZWNrZWQgPSBmYWxzZTtcbiAgbGV0IGFpSGFzQXBpS2V5ID0gZmFsc2U7XG5cbiAgLyoqXG4gICAqIE91dnJlIGxlIHBhbmVsIGRlIGNoYXQgSUFcbiAgICovXG4gIGZ1bmN0aW9uIG9wZW5BSUNoYXQoKSB7XG4gICAgaWYgKCFhaUNoYXRQYW5lbCkgcmV0dXJuO1xuICAgIGFpQ2hhdE9wZW4gPSB0cnVlO1xuICAgIGFpQ2hhdFBhbmVsLmNsYXNzTGlzdC5yZW1vdmUoJ3RyYW5zbGF0ZS14LWZ1bGwnKTtcbiAgICBhaUNoYXRQYW5lbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ2ZhbHNlJyk7XG4gICAgYWlDaGF0T3ZlcmxheT8uY2xhc3NMaXN0LnJlbW92ZSgnb3BhY2l0eS0wJywgJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICBhaUNoYXRPdmVybGF5Py5jbGFzc0xpc3QuYWRkKCdvcGFjaXR5LTEwMCcpO1xuICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnb3ZlcmZsb3ctaGlkZGVuJyk7XG4gICAgYWlDaGF0SW5wdXQ/LmZvY3VzKCk7XG5cbiAgICAvLyBWXHUwMEU5cmlmaWVyIGxhIGNvbmZpZyBBSSBhdSBwcmVtaWVyIG91dmVydHVyZVxuICAgIGlmICghYWlDb25maWdDaGVja2VkKSB7XG4gICAgICBjaGVja0FJQ29uZmlnKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEZlcm1lIGxlIHBhbmVsIGRlIGNoYXQgSUFcbiAgICovXG4gIGZ1bmN0aW9uIGNsb3NlQUlDaGF0KCkge1xuICAgIGlmICghYWlDaGF0UGFuZWwpIHJldHVybjtcbiAgICBhaUNoYXRPcGVuID0gZmFsc2U7XG4gICAgYWlDaGF0UGFuZWwuY2xhc3NMaXN0LmFkZCgndHJhbnNsYXRlLXgtZnVsbCcpO1xuICAgIGFpQ2hhdFBhbmVsLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuICAgIGFpQ2hhdE92ZXJsYXk/LmNsYXNzTGlzdC5hZGQoJ29wYWNpdHktMCcsICdwb2ludGVyLWV2ZW50cy1ub25lJyk7XG4gICAgYWlDaGF0T3ZlcmxheT8uY2xhc3NMaXN0LnJlbW92ZSgnb3BhY2l0eS0xMDAnKTtcbiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ292ZXJmbG93LWhpZGRlbicpO1xuICB9XG5cbiAgLyoqXG4gICAqIFZcdTAwRTlyaWZpZSBzaSBsJ0FQSSBBSSBlc3QgY29uZmlndXJcdTAwRTllXG4gICAqL1xuICBhc3luYyBmdW5jdGlvbiBjaGVja0FJQ29uZmlnKCkge1xuICAgIGNvbnN0IHNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goc3RvcmVkU2l0ZS5zbHVnIHx8ICcnKTtcbiAgICBpZiAoIXNpdGVTbHVnKSB7XG4gICAgICBhaUNoYXROb0FwaT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNpdGVTbHVnKX0vY29uZmlnL2FpYCk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB0aHJvdyBuZXcgRXJyb3IoJ0NvbmZpZyBjaGVjayBmYWlsZWQnKTtcbiAgICAgIGNvbnN0IGNvbmZpZyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIGFpQ29uZmlnQ2hlY2tlZCA9IHRydWU7XG4gICAgICBhaUhhc0FwaUtleSA9IGNvbmZpZy5oYXNBcGlLZXk7XG4gICAgICBcbiAgICAgIGlmICghY29uZmlnLmVuYWJsZWQgfHwgIWNvbmZpZy5oYXNBcGlLZXkpIHtcbiAgICAgICAgYWlDaGF0Tm9BcGk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWlDaGF0Tm9BcGk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICAvLyBDaGFyZ2VyIGwnaGlzdG9yaXF1ZVxuICAgICAgICBsb2FkQUlDaGF0SGlzdG9yeSgpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignW0FJXSBDb25maWcgY2hlY2sgZmFpbGVkOicsIGVycik7XG4gICAgICBhaUNoYXROb0FwaT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENoYXJnZSBsJ2hpc3RvcmlxdWUgZGUgY29udmVyc2F0aW9uXG4gICAqL1xuICBhc3luYyBmdW5jdGlvbiBsb2FkQUlDaGF0SGlzdG9yeSgpIHtcbiAgICBjb25zdCBzaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyk7XG4gICAgaWYgKCFzaXRlU2x1ZyB8fCAhYWlDaGF0TWVzc2FnZXMpIHJldHVybjtcbiAgICBcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzaXRlU2x1Zyl9L2FpL2hpc3RvcnlgKTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHJldHVybjtcbiAgICAgIFxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIGlmIChkYXRhLm1lc3NhZ2VzICYmIGRhdGEubWVzc2FnZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAvLyBFZmZhY2VyIGxlIG1lc3NhZ2UgZGUgYmllbnZlbnVlXG4gICAgICAgIGNvbnN0IHdlbGNvbWVNc2cgPSBhaUNoYXRNZXNzYWdlcy5xdWVyeVNlbGVjdG9yKCdbZGF0YS1haS13ZWxjb21lXScpO1xuICAgICAgICBpZiAod2VsY29tZU1zZykgd2VsY29tZU1zZy5yZW1vdmUoKTtcbiAgICAgICAgXG4gICAgICAgIC8vIEFmZmljaGVyIGxlcyBtZXNzYWdlc1xuICAgICAgICBkYXRhLm1lc3NhZ2VzLmZvckVhY2gobXNnID0+IHtcbiAgICAgICAgICBhcHBlbmRBSU1lc3NhZ2UobXNnLmNvbnRlbnQsIG1zZy5yb2xlID09PSAndXNlcicgPyAndXNlcicgOiAnYXNzaXN0YW50Jyk7XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgLy8gU2Nyb2xsIHZlcnMgbGUgYmFzXG4gICAgICAgIGFpQ2hhdE1lc3NhZ2VzLnNjcm9sbFRvcCA9IGFpQ2hhdE1lc3NhZ2VzLnNjcm9sbEhlaWdodDtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tBSV0gSGlzdG9yeSBsb2FkIGZhaWxlZDonLCBlcnIpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBam91dGUgdW4gbWVzc2FnZSBhdSBjaGF0XG4gICAqL1xuICBmdW5jdGlvbiBhcHBlbmRBSU1lc3NhZ2UoY29udGVudCwgcm9sZSA9ICdhc3Npc3RhbnQnKSB7XG4gICAgaWYgKCFhaUNoYXRNZXNzYWdlcykgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0IG1zZ0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIG1zZ0Rpdi5jbGFzc05hbWUgPSAnZmxleCBnYXAtMyc7XG4gICAgXG4gICAgaWYgKHJvbGUgPT09ICd1c2VyJykge1xuICAgICAgbXNnRGl2LmlubmVySFRNTCA9IGBcbiAgICAgICAgPGRpdiBjbGFzcz1cImZsZXgtMVwiPjwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwibWF4LXctWzgwJV0gYmctdmlvbGV0LTYwMCB0ZXh0LXdoaXRlIHJvdW5kZWQtMnhsIHJvdW5kZWQtdHItbm9uZSBwLTNcIj5cbiAgICAgICAgICA8cCBjbGFzcz1cInRleHQtc20gd2hpdGVzcGFjZS1wcmUtd3JhcFwiPiR7ZXNjYXBlSHRtbChjb250ZW50KX08L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwidy04IGgtOCByb3VuZGVkLWZ1bGwgYmctc2xhdGUtMjAwIGZsZXgtc2hyaW5rLTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICA8c3ZnIGNsYXNzPVwidy00IGgtNCB0ZXh0LXNsYXRlLTUwMFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgPHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTYgN2E0IDQgMCAxMS04IDAgNCA0IDAgMDE4IDB6TTEyIDE0YTcgNyAwIDAwLTcgN2gxNGE3IDcgMCAwMC03LTd6XCIvPlxuICAgICAgICAgIDwvc3ZnPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIGA7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEZvcm1hdHRlciBsZSBjb250ZW51IE1hcmtkb3duIGJhc2lxdWVcbiAgICAgIGNvbnN0IGZvcm1hdHRlZENvbnRlbnQgPSBmb3JtYXRBSVJlc3BvbnNlKGNvbnRlbnQpO1xuICAgICAgbXNnRGl2LmlubmVySFRNTCA9IGBcbiAgICAgICAgPGRpdiBjbGFzcz1cInctOCBoLTggcm91bmRlZC1mdWxsIGJnLWdyYWRpZW50LXRvLWJyIGZyb20tdmlvbGV0LTUwMCB0by1pbmRpZ28tNjAwIGZsZXgtc2hyaW5rLTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICA8c3ZnIGNsYXNzPVwidy00IGgtNCB0ZXh0LXdoaXRlXCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICA8cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk05LjY2MyAxN2g0LjY3M00xMiAzdjFtNi4zNjQgMS42MzZsLS43MDcuNzA3TTIxIDEyaC0xTTQgMTJIM20zLjM0My01LjY1N2wtLjcwNy0uNzA3bTIuODI4IDkuOWE1IDUgMCAxMTcuMDcyIDBsLS41NDguNTQ3QTMuMzc0IDMuMzc0IDAgMDAxNCAxOC40NjlWMTlhMiAyIDAgMTEtNCAwdi0uNTMxYzAtLjg5NS0uMzU2LTEuNzU0LS45ODgtMi4zODZsLS41NDgtLjU0N3pcIi8+XG4gICAgICAgICAgPC9zdmc+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleC0xIGJnLXNsYXRlLTUwIHJvdW5kZWQtMnhsIHJvdW5kZWQtdGwtbm9uZSBwLTMgb3ZlcmZsb3cteC1hdXRvXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInRleHQtc20gdGV4dC1zbGF0ZS03MDAgcHJvc2UgcHJvc2Utc20gbWF4LXctbm9uZSBbJj5wcmVdOmJnLXNsYXRlLTgwMCBbJj5wcmVdOnRleHQtc2xhdGUtMTAwIFsmPnByZV06cm91bmRlZC1sZyBbJj5wcmVdOnAtMyBbJj5wcmVdOm92ZXJmbG93LXgtYXV0byBbJj5jb2RlXTpiZy1zbGF0ZS0yMDAgWyY+Y29kZV06cHgtMSBbJj5jb2RlXTpyb3VuZGVkXCI+JHtmb3JtYXR0ZWRDb250ZW50fTwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIGA7XG4gICAgfVxuICAgIFxuICAgIGFpQ2hhdE1lc3NhZ2VzLmFwcGVuZENoaWxkKG1zZ0Rpdik7XG4gICAgYWlDaGF0TWVzc2FnZXMuc2Nyb2xsVG9wID0gYWlDaGF0TWVzc2FnZXMuc2Nyb2xsSGVpZ2h0O1xuICB9XG5cbiAgLyoqXG4gICAqIEFmZmljaGUgdW4gaW5kaWNhdGV1ciBkZSBjaGFyZ2VtZW50XG4gICAqL1xuICBmdW5jdGlvbiBzaG93QUlMb2FkaW5nKCkge1xuICAgIGlmICghYWlDaGF0TWVzc2FnZXMpIHJldHVybjtcbiAgICBcbiAgICBjb25zdCBsb2FkaW5nRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgbG9hZGluZ0Rpdi5jbGFzc05hbWUgPSAnZmxleCBnYXAtMyc7XG4gICAgbG9hZGluZ0Rpdi5pZCA9ICdhaS1sb2FkaW5nLWluZGljYXRvcic7XG4gICAgbG9hZGluZ0Rpdi5pbm5lckhUTUwgPSBgXG4gICAgICA8ZGl2IGNsYXNzPVwidy04IGgtOCByb3VuZGVkLWZ1bGwgYmctZ3JhZGllbnQtdG8tYnIgZnJvbS12aW9sZXQtNTAwIHRvLWluZGlnby02MDAgZmxleC1zaHJpbmstMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICA8c3ZnIGNsYXNzPVwidy00IGgtNCB0ZXh0LXdoaXRlIGFuaW1hdGUtcHVsc2VcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICA8cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk05LjY2MyAxN2g0LjY3M00xMiAzdjFtNi4zNjQgMS42MzZsLS43MDcuNzA3TTIxIDEyaC0xTTQgMTJIM20zLjM0My01LjY1N2wtLjcwNy0uNzA3bTIuODI4IDkuOWE1IDUgMCAxMTcuMDcyIDBsLS41NDguNTQ3QTMuMzc0IDMuMzc0IDAgMDAxNCAxOC40NjlWMTlhMiAyIDAgMTEtNCAwdi0uNTMxYzAtLjg5NS0uMzU2LTEuNzU0LS45ODgtMi4zODZsLS41NDgtLjU0N3pcIi8+XG4gICAgICAgIDwvc3ZnPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwiZmxleC0xIGJnLXNsYXRlLTUwIHJvdW5kZWQtMnhsIHJvdW5kZWQtdGwtbm9uZSBwLTNcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInctMiBoLTIgYmctdmlvbGV0LTQwMCByb3VuZGVkLWZ1bGwgYW5pbWF0ZS1ib3VuY2VcIiBzdHlsZT1cImFuaW1hdGlvbi1kZWxheTogMG1zXCI+PC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInctMiBoLTIgYmctdmlvbGV0LTQwMCByb3VuZGVkLWZ1bGwgYW5pbWF0ZS1ib3VuY2VcIiBzdHlsZT1cImFuaW1hdGlvbi1kZWxheTogMTUwbXNcIj48L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwidy0yIGgtMiBiZy12aW9sZXQtNDAwIHJvdW5kZWQtZnVsbCBhbmltYXRlLWJvdW5jZVwiIHN0eWxlPVwiYW5pbWF0aW9uLWRlbGF5OiAzMDBtc1wiPjwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIGA7XG4gICAgXG4gICAgYWlDaGF0TWVzc2FnZXMuYXBwZW5kQ2hpbGQobG9hZGluZ0Rpdik7XG4gICAgYWlDaGF0TWVzc2FnZXMuc2Nyb2xsVG9wID0gYWlDaGF0TWVzc2FnZXMuc2Nyb2xsSGVpZ2h0O1xuICB9XG5cbiAgLyoqXG4gICAqIENhY2hlIGwnaW5kaWNhdGV1ciBkZSBjaGFyZ2VtZW50XG4gICAqL1xuICBmdW5jdGlvbiBoaWRlQUlMb2FkaW5nKCkge1xuICAgIGNvbnN0IGxvYWRpbmdEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWktbG9hZGluZy1pbmRpY2F0b3InKTtcbiAgICBsb2FkaW5nRGl2Py5yZW1vdmUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGb3JtYXRlIGxhIHJcdTAwRTlwb25zZSBkZSBsJ0lBIChNYXJrZG93biBiYXNpcXVlKVxuICAgKi9cbiAgZnVuY3Rpb24gZm9ybWF0QUlSZXNwb25zZSh0ZXh0KSB7XG4gICAgaWYgKCF0ZXh0KSByZXR1cm4gJyc7XG4gICAgXG4gICAgLy8gRXNjYXBlIEhUTUwgZCdhYm9yZFxuICAgIGxldCBmb3JtYXR0ZWQgPSBlc2NhcGVIdG1sKHRleHQpO1xuICAgIFxuICAgIC8vIENvZGUgYmxvY2tzIGBgYFxuICAgIGZvcm1hdHRlZCA9IGZvcm1hdHRlZC5yZXBsYWNlKC9gYGAoXFx3KilcXG4oW1xcc1xcU10qPylgYGAvZywgKG1hdGNoLCBsYW5nLCBjb2RlKSA9PiB7XG4gICAgICByZXR1cm4gYDxwcmUgY2xhc3M9XCJsYW5ndWFnZS0ke2xhbmcgfHwgJ3RleHQnfVwiPjxjb2RlPiR7Y29kZS50cmltKCl9PC9jb2RlPjwvcHJlPmA7XG4gICAgfSk7XG4gICAgXG4gICAgLy8gSW5saW5lIGNvZGUgYFxuICAgIGZvcm1hdHRlZCA9IGZvcm1hdHRlZC5yZXBsYWNlKC9gKFteYF0rKWAvZywgJzxjb2RlPiQxPC9jb2RlPicpO1xuICAgIFxuICAgIC8vIEJvbGQgKip0ZXh0KipcbiAgICBmb3JtYXR0ZWQgPSBmb3JtYXR0ZWQucmVwbGFjZSgvXFwqXFwqKFteKl0rKVxcKlxcKi9nLCAnPHN0cm9uZz4kMTwvc3Ryb25nPicpO1xuICAgIFxuICAgIC8vIEl0YWxpYyAqdGV4dCpcbiAgICBmb3JtYXR0ZWQgPSBmb3JtYXR0ZWQucmVwbGFjZSgvXFwqKFteKl0rKVxcKi9nLCAnPGVtPiQxPC9lbT4nKTtcbiAgICBcbiAgICAvLyBUaXRyZXNcbiAgICBmb3JtYXR0ZWQgPSBmb3JtYXR0ZWQucmVwbGFjZSgvXiMjIyAoLispJC9nbSwgJzxoNCBjbGFzcz1cImZvbnQtc2VtaWJvbGQgdGV4dC1zbGF0ZS05MDAgbXQtMyBtYi0xXCI+JDE8L2g0PicpO1xuICAgIGZvcm1hdHRlZCA9IGZvcm1hdHRlZC5yZXBsYWNlKC9eIyMgKC4rKSQvZ20sICc8aDMgY2xhc3M9XCJmb250LXNlbWlib2xkIHRleHQtc2xhdGUtOTAwIG10LTMgbWItMVwiPiQxPC9oMz4nKTtcbiAgICBmb3JtYXR0ZWQgPSBmb3JtYXR0ZWQucmVwbGFjZSgvXiMgKC4rKSQvZ20sICc8aDIgY2xhc3M9XCJmb250LWJvbGQgdGV4dC1zbGF0ZS05MDAgbXQtMyBtYi0yXCI+JDE8L2gyPicpO1xuICAgIFxuICAgIC8vIExpc3Rlc1xuICAgIGZvcm1hdHRlZCA9IGZvcm1hdHRlZC5yZXBsYWNlKC9eLSAoLispJC9nbSwgJzxsaSBjbGFzcz1cIm1sLTRcIj4kMTwvbGk+Jyk7XG4gICAgZm9ybWF0dGVkID0gZm9ybWF0dGVkLnJlcGxhY2UoL14oXFxkKylcXC4gKC4rKSQvZ20sICc8bGkgY2xhc3M9XCJtbC00XCI+JDI8L2xpPicpO1xuICAgIFxuICAgIC8vIFBhcmFncmFwaGVzIChsaWduZXMgdmlkZXMpXG4gICAgZm9ybWF0dGVkID0gZm9ybWF0dGVkLnJlcGxhY2UoL1xcblxcbi9nLCAnPC9wPjxwIGNsYXNzPVwibWItMlwiPicpO1xuICAgIGZvcm1hdHRlZCA9ICc8cCBjbGFzcz1cIm1iLTJcIj4nICsgZm9ybWF0dGVkICsgJzwvcD4nO1xuICAgIFxuICAgIC8vIE5ldHRveWVyIGxlcyA8cD4gdmlkZXNcbiAgICBmb3JtYXR0ZWQgPSBmb3JtYXR0ZWQucmVwbGFjZSgvPHAgY2xhc3M9XCJtYi0yXCI+PFxcL3A+L2csICcnKTtcbiAgICBcbiAgICByZXR1cm4gZm9ybWF0dGVkO1xuICB9XG5cbiAgLyoqXG4gICAqIFx1MDBDOWNoYXBwZSBsZSBIVE1MXG4gICAqL1xuICBmdW5jdGlvbiBlc2NhcGVIdG1sKHRleHQpIHtcbiAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBkaXYudGV4dENvbnRlbnQgPSB0ZXh0O1xuICAgIHJldHVybiBkaXYuaW5uZXJIVE1MO1xuICB9XG5cbiAgLyoqXG4gICAqIEVudm9pZSB1biBtZXNzYWdlIGF1IGNoYXQgSUFcbiAgICovXG4gIGFzeW5jIGZ1bmN0aW9uIHNlbmRBSU1lc3NhZ2UobWVzc2FnZSkge1xuICAgIGNvbnN0IHNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goc3RvcmVkU2l0ZS5zbHVnIHx8ICcnKTtcbiAgICBpZiAoIW1lc3NhZ2UgfHwgIXNpdGVTbHVnIHx8IGFpSXNMb2FkaW5nKSByZXR1cm47XG4gICAgXG4gICAgYWlJc0xvYWRpbmcgPSB0cnVlO1xuICAgIGFpQ2hhdElucHV0LmRpc2FibGVkID0gdHJ1ZTtcbiAgICBcbiAgICAvLyBFZmZhY2VyIGxlIG1lc3NhZ2UgZGUgYmllbnZlbnVlIGF1IHByZW1pZXIgbWVzc2FnZVxuICAgIGNvbnN0IHdlbGNvbWVNc2cgPSBhaUNoYXRNZXNzYWdlcz8ucXVlcnlTZWxlY3RvcignW2RhdGEtYWktd2VsY29tZV0nKTtcbiAgICBpZiAod2VsY29tZU1zZykgd2VsY29tZU1zZy5yZW1vdmUoKTtcbiAgICBcbiAgICAvLyBBZmZpY2hlciBsZSBtZXNzYWdlIGRlIGwndXRpbGlzYXRldXJcbiAgICBhcHBlbmRBSU1lc3NhZ2UobWVzc2FnZSwgJ3VzZXInKTtcbiAgICBcbiAgICAvLyBBZmZpY2hlciBsZSBsb2FkZXJcbiAgICBzaG93QUlMb2FkaW5nKCk7XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2l0ZVNsdWcpfS9haS9jaGF0YCwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgbWVzc2FnZSB9KVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGhpZGVBSUxvYWRpbmcoKTtcbiAgICAgIFxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBlcnJvciA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yLm1lc3NhZ2UgfHwgJ0VycmV1ciBkZSBjb21tdW5pY2F0aW9uJyk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBcbiAgICAgIGlmIChkYXRhLnJlc3BvbnNlKSB7XG4gICAgICAgIGFwcGVuZEFJTWVzc2FnZShkYXRhLnJlc3BvbnNlLCAnYXNzaXN0YW50Jyk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEdcdTAwRTlyZXIgbGVzIHByb3Bvc2l0aW9ucyBkJ1x1MDBFOWRpdGlvbiBkZSBwYWdlXG4gICAgICBpZiAoZGF0YS5lZGl0UHJvcG9zYWwpIHtcbiAgICAgICAgYXBwZW5kRWRpdFByb3Bvc2FsKGRhdGEuZWRpdFByb3Bvc2FsKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gR1x1MDBFOXJlciBsZXMgcHJvcG9zaXRpb25zIGRlIG1vZGlmaWNhdGlvbiBkdSB0aFx1MDBFOG1lXG4gICAgICBpZiAoZGF0YS50aGVtZVByb3Bvc2FsKSB7XG4gICAgICAgIGFwcGVuZFRoZW1lUHJvcG9zYWwoZGF0YS50aGVtZVByb3Bvc2FsKTtcbiAgICAgIH1cbiAgICAgIFxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgaGlkZUFJTG9hZGluZygpO1xuICAgICAgYXBwZW5kQUlNZXNzYWdlKGBcdTI3NEMgRXJyZXVyOiAke2Vyci5tZXNzYWdlfWAsICdhc3Npc3RhbnQnKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgYWlJc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgIGFpQ2hhdElucHV0LmRpc2FibGVkID0gZmFsc2U7XG4gICAgICBhaUNoYXRJbnB1dC5mb2N1cygpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBZmZpY2hlIHVuZSBwcm9wb3NpdGlvbiBkJ1x1MDBFOWRpdGlvbiBhdmVjIGJvdXRvbnMgZGUgdmFsaWRhdGlvblxuICAgKi9cbiAgZnVuY3Rpb24gYXBwZW5kRWRpdFByb3Bvc2FsKHByb3Bvc2FsKSB7XG4gICAgaWYgKCFhaUNoYXRNZXNzYWdlcyB8fCAhcHJvcG9zYWwpIHJldHVybjtcbiAgICBcbiAgICBjb25zdCBwcm9wb3NhbERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHByb3Bvc2FsRGl2LmNsYXNzTmFtZSA9ICdmbGV4IGdhcC0zIG10LTInO1xuICAgIHByb3Bvc2FsRGl2LmRhdGFzZXQucHJvcG9zYWxJZCA9IHByb3Bvc2FsLnByb3Bvc2FsSWQ7XG4gICAgXG4gICAgLy8gQ29uc3RydWlyZSBsZSByXHUwMEU5c3VtXHUwMEU5IGRlcyBjaGFuZ2VtZW50c1xuICAgIGxldCBjaGFuZ2VzSHRtbCA9ICcnO1xuICAgIGlmIChwcm9wb3NhbC5jaGFuZ2VzKSB7XG4gICAgICBpZiAocHJvcG9zYWwuY2hhbmdlcy50aXRsZSkge1xuICAgICAgICBjaGFuZ2VzSHRtbCArPSBgPGxpPlRpdHJlIFx1MjE5MiA8c3Ryb25nPiR7ZXNjYXBlSHRtbChwcm9wb3NhbC5jaGFuZ2VzLnRpdGxlKX08L3N0cm9uZz48L2xpPmA7XG4gICAgICB9XG4gICAgICBpZiAocHJvcG9zYWwuY2hhbmdlcy5kZXNjcmlwdGlvbikge1xuICAgICAgICBjaGFuZ2VzSHRtbCArPSBgPGxpPkRlc2NyaXB0aW9uIFx1MjE5MiAke2VzY2FwZUh0bWwocHJvcG9zYWwuY2hhbmdlcy5kZXNjcmlwdGlvbi5zdWJzdHJpbmcoMCwgODApKX0uLi48L2xpPmA7XG4gICAgICB9XG4gICAgICBpZiAocHJvcG9zYWwuY2hhbmdlcy5zZW8pIHtcbiAgICAgICAgaWYgKHByb3Bvc2FsLmNoYW5nZXMuc2VvLm1ldGFUaXRsZSkge1xuICAgICAgICAgIGNoYW5nZXNIdG1sICs9IGA8bGk+TWV0YSB0aXRsZSBcdTIxOTIgJHtlc2NhcGVIdG1sKHByb3Bvc2FsLmNoYW5nZXMuc2VvLm1ldGFUaXRsZSl9PC9saT5gO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9wb3NhbC5jaGFuZ2VzLnNlby5tZXRhRGVzY3JpcHRpb24pIHtcbiAgICAgICAgICBjaGFuZ2VzSHRtbCArPSBgPGxpPk1ldGEgZGVzY3JpcHRpb24gXHUyMTkyICR7ZXNjYXBlSHRtbChwcm9wb3NhbC5jaGFuZ2VzLnNlby5tZXRhRGVzY3JpcHRpb24uc3Vic3RyaW5nKDAsIDYwKSl9Li4uPC9saT5gO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAocHJvcG9zYWwuY2hhbmdlcy5ibG9ja1VwZGF0ZSkge1xuICAgICAgICBjaGFuZ2VzSHRtbCArPSBgPGxpPkJsb2MgXCIke3Byb3Bvc2FsLmNoYW5nZXMuYmxvY2tVcGRhdGUuYmxvY2tJZH1cIiBtb2RpZmlcdTAwRTk8L2xpPmA7XG4gICAgICAgIGlmIChwcm9wb3NhbC5jaGFuZ2VzLmJsb2NrVXBkYXRlLnNldHRpbmdzKSB7XG4gICAgICAgICAgY29uc3Qgc2V0dGluZ3MgPSBwcm9wb3NhbC5jaGFuZ2VzLmJsb2NrVXBkYXRlLnNldHRpbmdzO1xuICAgICAgICAgIGlmIChzZXR0aW5ncy50aXRsZSkgY2hhbmdlc0h0bWwgKz0gYDxsaSBjbGFzcz1cIm1sLTRcIj5cdTIxOTIgdGl0bGU6ICR7ZXNjYXBlSHRtbChzZXR0aW5ncy50aXRsZSl9PC9saT5gO1xuICAgICAgICAgIGlmIChzZXR0aW5ncy5jb250ZW50KSBjaGFuZ2VzSHRtbCArPSBgPGxpIGNsYXNzPVwibWwtNFwiPlx1MjE5MiBjb250ZW50IG1vZGlmaVx1MDBFOTwvbGk+YDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBwcm9wb3NhbERpdi5pbm5lckhUTUwgPSBgXG4gICAgICA8ZGl2IGNsYXNzPVwidy04IGgtOCByb3VuZGVkLWZ1bGwgYmctYW1iZXItNTAwIGZsZXgtc2hyaW5rLTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgPHN2ZyBjbGFzcz1cInctNCBoLTQgdGV4dC13aGl0ZVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgIDxwYXRoIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTExIDVINmEyIDIgMCAwMC0yIDJ2MTFhMiAyIDAgMDAyIDJoMTFhMiAyIDAgMDAyLTJ2LTVtLTEuNDE0LTkuNDE0YTIgMiAwIDExMi44MjggMi44MjhMMTEuODI4IDE1SDl2LTIuODI4bDguNTg2LTguNTg2elwiLz5cbiAgICAgICAgPC9zdmc+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJmbGV4LTEgYmctYW1iZXItNTAgYm9yZGVyIGJvcmRlci1hbWJlci0yMDAgcm91bmRlZC0yeGwgcm91bmRlZC10bC1ub25lIHAtNFwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgbWItMlwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC14cyBmb250LXNlbWlib2xkIHRleHQtYW1iZXItNzAwIGJnLWFtYmVyLTEwMCBweC0yIHB5LTAuNSByb3VuZGVkXCI+UHJvcG9zaXRpb24gZCdcdTAwRTlkaXRpb248L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8cCBjbGFzcz1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1zbGF0ZS04MDAgbWItMVwiPlBhZ2UgOiAke2VzY2FwZUh0bWwocHJvcG9zYWwucGFnZVRpdGxlIHx8IHByb3Bvc2FsLnBhZ2VJZCl9PC9wPlxuICAgICAgICAke3Byb3Bvc2FsLnJlYXNvbiA/IGA8cCBjbGFzcz1cInRleHQtc20gdGV4dC1zbGF0ZS02MDAgbWItMlwiPiR7ZXNjYXBlSHRtbChwcm9wb3NhbC5yZWFzb24pfTwvcD5gIDogJyd9XG4gICAgICAgIDx1bCBjbGFzcz1cInRleHQteHMgdGV4dC1zbGF0ZS02MDAgc3BhY2UteS0xIG1iLTMgbGlzdC1kaXNjIG1sLTRcIj5cbiAgICAgICAgICAke2NoYW5nZXNIdG1sIHx8ICc8bGk+TW9kaWZpY2F0aW9ucyBwcm9wb3NcdTAwRTllczwvbGk+J31cbiAgICAgICAgPC91bD5cbiAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggZ2FwLTJcIj5cbiAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgY2xhc3M9XCJhaS1hcHBseS1lZGl0IHB4LTMgcHktMS41IHRleHQteHMgZm9udC1tZWRpdW0gdGV4dC13aGl0ZSBiZy1lbWVyYWxkLTYwMCBob3ZlcjpiZy1lbWVyYWxkLTcwMCByb3VuZGVkLWxnIHRyYW5zaXRpb24tY29sb3JzIGZsZXggaXRlbXMtY2VudGVyIGdhcC0xXCJcbiAgICAgICAgICAgIGRhdGEtcHJvcG9zYWwtaWQ9XCIke3Byb3Bvc2FsLnByb3Bvc2FsSWR9XCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8c3ZnIGNsYXNzPVwidy0zLjUgaC0zLjVcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNSAxM2w0IDRMMTkgN1wiLz5cbiAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgQXBwbGlxdWVyXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgIGNsYXNzPVwiYWktcmVqZWN0LWVkaXQgcHgtMyBweS0xLjUgdGV4dC14cyBmb250LW1lZGl1bSB0ZXh0LXNsYXRlLTYwMCBiZy1zbGF0ZS0xMDAgaG92ZXI6Ymctc2xhdGUtMjAwIHJvdW5kZWQtbGcgdHJhbnNpdGlvbi1jb2xvcnMgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTFcIlxuICAgICAgICAgICAgZGF0YS1wcm9wb3NhbC1pZD1cIiR7cHJvcG9zYWwucHJvcG9zYWxJZH1cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJ3LTMuNSBoLTMuNVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgICA8cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk02IDE4TDE4IDZNNiA2bDEyIDEyXCIvPlxuICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICBSZWpldGVyXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgYDtcbiAgICBcbiAgICBhaUNoYXRNZXNzYWdlcy5hcHBlbmRDaGlsZChwcm9wb3NhbERpdik7XG4gICAgYWlDaGF0TWVzc2FnZXMuc2Nyb2xsVG9wID0gYWlDaGF0TWVzc2FnZXMuc2Nyb2xsSGVpZ2h0O1xuICAgIFxuICAgIC8vIEF0dGFjaGVyIGxlcyBcdTAwRTl2XHUwMEU5bmVtZW50cyBhdXggYm91dG9uc1xuICAgIHByb3Bvc2FsRGl2LnF1ZXJ5U2VsZWN0b3IoJy5haS1hcHBseS1lZGl0Jyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlQXBwbHlFZGl0KTtcbiAgICBwcm9wb3NhbERpdi5xdWVyeVNlbGVjdG9yKCcuYWktcmVqZWN0LWVkaXQnKT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVSZWplY3RFZGl0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZmZpY2hlIHVuZSBwcm9wb3NpdGlvbiBkZSBtb2RpZmljYXRpb24gZHUgdGhcdTAwRThtZSBhdmVjIGJvdXRvbnMgZGUgdmFsaWRhdGlvblxuICAgKi9cbiAgZnVuY3Rpb24gYXBwZW5kVGhlbWVQcm9wb3NhbChwcm9wb3NhbCkge1xuICAgIGlmICghYWlDaGF0TWVzc2FnZXMgfHwgIXByb3Bvc2FsKSByZXR1cm47XG4gICAgXG4gICAgY29uc3QgcHJvcG9zYWxEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBwcm9wb3NhbERpdi5jbGFzc05hbWUgPSAnZmxleCBnYXAtMyBtdC0yJztcbiAgICBwcm9wb3NhbERpdi5kYXRhc2V0LnByb3Bvc2FsSWQgPSBwcm9wb3NhbC5wcm9wb3NhbElkO1xuICAgIFxuICAgIC8vIENvbnN0cnVpcmUgbGUgclx1MDBFOXN1bVx1MDBFOSBkZXMgY2hhbmdlbWVudHMgZGUgY291bGV1cnNcbiAgICBsZXQgY29sb3JzSHRtbCA9ICcnO1xuICAgIGlmIChwcm9wb3NhbC5jaGFuZ2VzPy5jb2xvcnMpIHtcbiAgICAgIGNvbnN0IGNvbG9ycyA9IHByb3Bvc2FsLmNoYW5nZXMuY29sb3JzO1xuICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoY29sb3JzKSkge1xuICAgICAgICBjb2xvcnNIdG1sICs9IGA8bGkgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwidy00IGgtNCByb3VuZGVkIGJvcmRlciBib3JkZXItc2xhdGUtMzAwXCIgc3R5bGU9XCJiYWNrZ3JvdW5kOiAke2dldFRhaWx3aW5kQ29sb3JDc3ModmFsdWUpfVwiPjwvc3Bhbj5cbiAgICAgICAgICA8c3Bhbj4ke2tleX06IDxzdHJvbmc+JHtlc2NhcGVIdG1sKHZhbHVlKX08L3N0cm9uZz48L3NwYW4+XG4gICAgICAgIDwvbGk+YDtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gVHlwb2dyYXBoaWVzXG4gICAgbGV0IHR5cG9IdG1sID0gJyc7XG4gICAgaWYgKHByb3Bvc2FsLmNoYW5nZXM/LnR5cG9ncmFwaHkpIHtcbiAgICAgIGNvbnN0IHR5cG8gPSBwcm9wb3NhbC5jaGFuZ2VzLnR5cG9ncmFwaHk7XG4gICAgICBpZiAodHlwby5oZWFkaW5ncykgdHlwb0h0bWwgKz0gYDxsaT5UaXRyZXMgXHUyMTkyIDxzdHJvbmc+JHtlc2NhcGVIdG1sKHR5cG8uaGVhZGluZ3MpfTwvc3Ryb25nPjwvbGk+YDtcbiAgICAgIGlmICh0eXBvLmJvZHkpIHR5cG9IdG1sICs9IGA8bGk+VGV4dGVzIFx1MjE5MiA8c3Ryb25nPiR7ZXNjYXBlSHRtbCh0eXBvLmJvZHkpfTwvc3Ryb25nPjwvbGk+YDtcbiAgICB9XG4gICAgXG4gICAgcHJvcG9zYWxEaXYuaW5uZXJIVE1MID0gYFxuICAgICAgPGRpdiBjbGFzcz1cInctOCBoLTggcm91bmRlZC1mdWxsIGJnLXB1cnBsZS01MDAgZmxleC1zaHJpbmstMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICA8c3ZnIGNsYXNzPVwidy00IGgtNCB0ZXh0LXdoaXRlXCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgPHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNyAyMWE0IDQgMCAwMS00LTRWNWEyIDIgMCAwMTItMmg0YTIgMiAwIDAxMiAydjEyYTQgNCAwIDAxLTQgNHptMCAwaDEyYTIgMiAwIDAwMi0ydi00YTIgMiAwIDAwLTItMmgtMi4zNDNNMTEgNy4zNDNsMS42NTctMS42NTdhMiAyIDAgMDEyLjgyOCAwbDIuODI5IDIuODI5YTIgMiAwIDAxMCAyLjgyOGwtOC40ODYgOC40ODVNNyAxN2guMDFcIi8+XG4gICAgICAgIDwvc3ZnPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwiZmxleC0xIGJnLXB1cnBsZS01MCBib3JkZXIgYm9yZGVyLXB1cnBsZS0yMDAgcm91bmRlZC0yeGwgcm91bmRlZC10bC1ub25lIHAtNFwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgbWItMlwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC14cyBmb250LXNlbWlib2xkIHRleHQtcHVycGxlLTcwMCBiZy1wdXJwbGUtMTAwIHB4LTIgcHktMC41IHJvdW5kZWRcIj5Nb2RpZmljYXRpb24gZHUgdGhcdTAwRThtZTwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgICR7cHJvcG9zYWwucmVhc29uID8gYDxwIGNsYXNzPVwidGV4dC1zbSB0ZXh0LXNsYXRlLTYwMCBtYi0zXCI+JHtlc2NhcGVIdG1sKHByb3Bvc2FsLnJlYXNvbil9PC9wPmAgOiAnJ31cbiAgICAgICAgJHtjb2xvcnNIdG1sID8gYFxuICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC14cyBmb250LW1lZGl1bSB0ZXh0LXNsYXRlLTcwMCBtYi0xXCI+Q291bGV1cnMgOjwvcD5cbiAgICAgICAgICA8dWwgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNjAwIHNwYWNlLXktMSBtYi0zXCI+JHtjb2xvcnNIdG1sfTwvdWw+XG4gICAgICAgIGAgOiAnJ31cbiAgICAgICAgJHt0eXBvSHRtbCA/IGBcbiAgICAgICAgICA8cCBjbGFzcz1cInRleHQteHMgZm9udC1tZWRpdW0gdGV4dC1zbGF0ZS03MDAgbWItMVwiPlR5cG9ncmFwaGllcyA6PC9wPlxuICAgICAgICAgIDx1bCBjbGFzcz1cInRleHQteHMgdGV4dC1zbGF0ZS02MDAgc3BhY2UteS0xIG1iLTMgbGlzdC1kaXNjIG1sLTRcIj4ke3R5cG9IdG1sfTwvdWw+XG4gICAgICAgIGAgOiAnJ31cbiAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggZ2FwLTJcIj5cbiAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgY2xhc3M9XCJhaS1hcHBseS10aGVtZSBweC0zIHB5LTEuNSB0ZXh0LXhzIGZvbnQtbWVkaXVtIHRleHQtd2hpdGUgYmctcHVycGxlLTYwMCBob3ZlcjpiZy1wdXJwbGUtNzAwIHJvdW5kZWQtbGcgdHJhbnNpdGlvbi1jb2xvcnMgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTFcIlxuICAgICAgICAgICAgZGF0YS1wcm9wb3NhbC1pZD1cIiR7cHJvcG9zYWwucHJvcG9zYWxJZH1cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJ3LTMuNSBoLTMuNVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgICA8cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk01IDEzbDQgNEwxOSA3XCIvPlxuICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICBBcHBsaXF1ZXJcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgY2xhc3M9XCJhaS1yZWplY3QtdGhlbWUgcHgtMyBweS0xLjUgdGV4dC14cyBmb250LW1lZGl1bSB0ZXh0LXNsYXRlLTYwMCBiZy1zbGF0ZS0xMDAgaG92ZXI6Ymctc2xhdGUtMjAwIHJvdW5kZWQtbGcgdHJhbnNpdGlvbi1jb2xvcnMgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTFcIlxuICAgICAgICAgICAgZGF0YS1wcm9wb3NhbC1pZD1cIiR7cHJvcG9zYWwucHJvcG9zYWxJZH1cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJ3LTMuNSBoLTMuNVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgICA8cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk02IDE4TDE4IDZNNiA2bDEyIDEyXCIvPlxuICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICBSZWpldGVyXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgYDtcbiAgICBcbiAgICBhaUNoYXRNZXNzYWdlcy5hcHBlbmRDaGlsZChwcm9wb3NhbERpdik7XG4gICAgYWlDaGF0TWVzc2FnZXMuc2Nyb2xsVG9wID0gYWlDaGF0TWVzc2FnZXMuc2Nyb2xsSGVpZ2h0O1xuICAgIFxuICAgIC8vIEF0dGFjaGVyIGxlcyBcdTAwRTl2XHUwMEU5bmVtZW50cyBhdXggYm91dG9uc1xuICAgIHByb3Bvc2FsRGl2LnF1ZXJ5U2VsZWN0b3IoJy5haS1hcHBseS10aGVtZScpPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZUFwcGx5VGhlbWUpO1xuICAgIHByb3Bvc2FsRGl2LnF1ZXJ5U2VsZWN0b3IoJy5haS1yZWplY3QtdGhlbWUnKT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVSZWplY3RFZGl0KTsgLy8gUlx1MDBFOXV0aWxpc2UgbGEgbVx1MDBFQW1lIGxvZ2lxdWUgZGUgcmVqZXRcbiAgfVxuICBcbiAgLyoqXG4gICAqIENvbnZlcnRpdCB1bmUgY291bGV1ciBUYWlsd2luZCBlbiBDU1MgYXBwcm94aW1hdGlmIHBvdXIgcHJldmlld1xuICAgKi9cbiAgZnVuY3Rpb24gZ2V0VGFpbHdpbmRDb2xvckNzcyhjb2xvck5hbWUpIHtcbiAgICBjb25zdCBjb2xvcnMgPSB7XG4gICAgICAnd2hpdGUnOiAnI2ZmZmZmZicsICdibGFjayc6ICcjMDAwMDAwJywgJ3RyYW5zcGFyZW50JzogJ3RyYW5zcGFyZW50JyxcbiAgICAgICdzbGF0ZS01MCc6ICcjZjhmYWZjJywgJ3NsYXRlLTEwMCc6ICcjZjFmNWY5JywgJ3NsYXRlLTIwMCc6ICcjZTJlOGYwJywgJ3NsYXRlLTMwMCc6ICcjY2JkNWUxJywgJ3NsYXRlLTQwMCc6ICcjOTRhM2I4JywgJ3NsYXRlLTUwMCc6ICcjNjQ3NDhiJywgJ3NsYXRlLTYwMCc6ICcjNDc1NTY5JywgJ3NsYXRlLTcwMCc6ICcjMzM0MTU1JywgJ3NsYXRlLTgwMCc6ICcjMWUyOTNiJywgJ3NsYXRlLTkwMCc6ICcjMGYxNzJhJyxcbiAgICAgICdncmF5LTUwJzogJyNmOWZhZmInLCAnZ3JheS0xMDAnOiAnI2YzZjRmNicsICdncmF5LTIwMCc6ICcjZTVlN2ViJywgJ2dyYXktMzAwJzogJyNkMWQ1ZGInLCAnZ3JheS00MDAnOiAnIzljYTNhZicsICdncmF5LTUwMCc6ICcjNmI3MjgwJywgJ2dyYXktNjAwJzogJyM0YjU1NjMnLCAnZ3JheS03MDAnOiAnIzM3NDE1MScsICdncmF5LTgwMCc6ICcjMWYyOTM3JywgJ2dyYXktOTAwJzogJyMxMTE4MjcnLFxuICAgICAgJ3Zpb2xldC01MCc6ICcjZjVmM2ZmJywgJ3Zpb2xldC0xMDAnOiAnI2VkZTlmZScsICd2aW9sZXQtMjAwJzogJyNkZGQ2ZmUnLCAndmlvbGV0LTMwMCc6ICcjYzRiNWZkJywgJ3Zpb2xldC00MDAnOiAnI2E3OGJmYScsICd2aW9sZXQtNTAwJzogJyM4YjVjZjYnLCAndmlvbGV0LTYwMCc6ICcjN2MzYWVkJywgJ3Zpb2xldC03MDAnOiAnIzZkMjhkOScsICd2aW9sZXQtODAwJzogJyM1YjIxYjYnLCAndmlvbGV0LTkwMCc6ICcjNGMxZDk1JyxcbiAgICAgICdwdXJwbGUtNTAnOiAnI2ZhZjVmZicsICdwdXJwbGUtMTAwJzogJyNmM2U4ZmYnLCAncHVycGxlLTIwMCc6ICcjZTlkNWZmJywgJ3B1cnBsZS0zMDAnOiAnI2Q4YjRmZScsICdwdXJwbGUtNDAwJzogJyNjMDg0ZmMnLCAncHVycGxlLTUwMCc6ICcjYTg1NWY3JywgJ3B1cnBsZS02MDAnOiAnIzkzMzNlYScsICdwdXJwbGUtNzAwJzogJyM3ZTIyY2UnLCAncHVycGxlLTgwMCc6ICcjNmIyMWE4JywgJ3B1cnBsZS05MDAnOiAnIzU4MWM4NycsXG4gICAgICAnYmx1ZS01MCc6ICcjZWZmNmZmJywgJ2JsdWUtMTAwJzogJyNkYmVhZmUnLCAnYmx1ZS0yMDAnOiAnI2JmZGJmZScsICdibHVlLTMwMCc6ICcjOTNjNWZkJywgJ2JsdWUtNDAwJzogJyM2MGE1ZmEnLCAnYmx1ZS01MDAnOiAnIzNiODJmNicsICdibHVlLTYwMCc6ICcjMjU2M2ViJywgJ2JsdWUtNzAwJzogJyMxZDRlZDgnLCAnYmx1ZS04MDAnOiAnIzFlNDBhZicsICdibHVlLTkwMCc6ICcjMWUzYThhJyxcbiAgICAgICdlbWVyYWxkLTUwJzogJyNlY2ZkZjUnLCAnZW1lcmFsZC0xMDAnOiAnI2QxZmFlNScsICdlbWVyYWxkLTIwMCc6ICcjYTdmM2QwJywgJ2VtZXJhbGQtMzAwJzogJyM2ZWU3YjcnLCAnZW1lcmFsZC00MDAnOiAnIzM0ZDM5OScsICdlbWVyYWxkLTUwMCc6ICcjMTBiOTgxJywgJ2VtZXJhbGQtNjAwJzogJyMwNTk2NjknLCAnZW1lcmFsZC03MDAnOiAnIzA0Nzg1NycsICdlbWVyYWxkLTgwMCc6ICcjMDY1ZjQ2JywgJ2VtZXJhbGQtOTAwJzogJyMwNjRlM2InLFxuICAgICAgJ3RlYWwtNTAnOiAnI2YwZmRmYScsICd0ZWFsLTEwMCc6ICcjY2NmYmYxJywgJ3RlYWwtMjAwJzogJyM5OWY2ZTQnLCAndGVhbC0zMDAnOiAnIzVlZWFkNCcsICd0ZWFsLTQwMCc6ICcjMmRkNGJmJywgJ3RlYWwtNTAwJzogJyMxNGI4YTYnLCAndGVhbC02MDAnOiAnIzBkOTQ4OCcsICd0ZWFsLTcwMCc6ICcjMGY3NjZlJywgJ3RlYWwtODAwJzogJyMxMTVlNTknLCAndGVhbC05MDAnOiAnIzEzNGU0YScsXG4gICAgICAnYW1iZXItNTAnOiAnI2ZmZmJlYicsICdhbWJlci0xMDAnOiAnI2ZlZjNjNycsICdhbWJlci0yMDAnOiAnI2ZkZTY4YScsICdhbWJlci0zMDAnOiAnI2ZjZDM0ZCcsICdhbWJlci00MDAnOiAnI2ZiYmYyNCcsICdhbWJlci01MDAnOiAnI2Y1OWUwYicsICdhbWJlci02MDAnOiAnI2Q5NzcwNicsICdhbWJlci03MDAnOiAnI2I0NTMwOScsICdhbWJlci04MDAnOiAnIzkyNDAwZScsICdhbWJlci05MDAnOiAnIzc4MzUwZicsXG4gICAgICAncmVkLTUwJzogJyNmZWYyZjInLCAncmVkLTEwMCc6ICcjZmVlMmUyJywgJ3JlZC0yMDAnOiAnI2ZlY2FjYScsICdyZWQtMzAwJzogJyNmY2E1YTUnLCAncmVkLTQwMCc6ICcjZjg3MTcxJywgJ3JlZC01MDAnOiAnI2VmNDQ0NCcsICdyZWQtNjAwJzogJyNkYzI2MjYnLCAncmVkLTcwMCc6ICcjYjkxYzFjJywgJ3JlZC04MDAnOiAnIzk5MWIxYicsICdyZWQtOTAwJzogJyM3ZjFkMWQnXG4gICAgfTtcbiAgICByZXR1cm4gY29sb3JzW2NvbG9yTmFtZV0gfHwgJyM5QzZCRkYnO1xuICB9XG5cbiAgLyoqXG4gICAqIEFwcGxpcXVlIHVuZSBwcm9wb3NpdGlvbiBkZSBtb2RpZmljYXRpb24gZHUgdGhcdTAwRThtZVxuICAgKi9cbiAgYXN5bmMgZnVuY3Rpb24gaGFuZGxlQXBwbHlUaGVtZShlKSB7XG4gICAgY29uc3QgcHJvcG9zYWxJZCA9IGUudGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLXByb3Bvc2FsLWlkXScpPy5kYXRhc2V0LnByb3Bvc2FsSWQ7XG4gICAgY29uc3Qgc2l0ZVNsdWcgPSBzdHJpcExlYWRpbmdTbGFzaChzdG9yZWRTaXRlLnNsdWcgfHwgJycpO1xuICAgIGlmICghcHJvcG9zYWxJZCB8fCAhc2l0ZVNsdWcpIHJldHVybjtcbiAgICBcbiAgICBjb25zdCBidG4gPSBlLnRhcmdldC5jbG9zZXN0KCdidXR0b24nKTtcbiAgICBidG4uZGlzYWJsZWQgPSB0cnVlO1xuICAgIGJ0bi5pbm5lckhUTUwgPSAnPHNwYW4gY2xhc3M9XCJhbmltYXRlLXNwaW5cIj5cdTIzRjM8L3NwYW4+IEFwcGxpY2F0aW9uLi4uJztcbiAgICBcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzaXRlU2x1Zyl9L2FpL2FwcGx5LXRoZW1lYCwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgcHJvcG9zYWxJZCB9KVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBcbiAgICAgIGlmIChyZXNwb25zZS5vayAmJiBkYXRhLnN1Y2Nlc3MpIHtcbiAgICAgICAgLy8gUmVtcGxhY2VyIGxhIGNhcmQgcGFyIHVuIG1lc3NhZ2UgZGUgc3VjY1x1MDBFOHNcbiAgICAgICAgY29uc3QgcHJvcG9zYWxDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtcHJvcG9zYWwtaWQ9XCIke3Byb3Bvc2FsSWR9XCJdYCk7XG4gICAgICAgIGlmIChwcm9wb3NhbENhcmQpIHtcbiAgICAgICAgICBwcm9wb3NhbENhcmQuaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInctOCBoLTggcm91bmRlZC1mdWxsIGJnLXB1cnBsZS01MDAgZmxleC1zaHJpbmstMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICA8c3ZnIGNsYXNzPVwidy00IGgtNCB0ZXh0LXdoaXRlXCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNSAxM2w0IDRMMTkgN1wiLz5cbiAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4LTEgYmctcHVycGxlLTUwIGJvcmRlciBib3JkZXItcHVycGxlLTIwMCByb3VuZGVkLTJ4bCByb3VuZGVkLXRsLW5vbmUgcC0zXCI+XG4gICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1zbSB0ZXh0LXB1cnBsZS03MDBcIj5cdTI3MDUgVGhcdTAwRThtZSBtaXMgXHUwMEUwIGpvdXIgYXZlYyBzdWNjXHUwMEU4cyAhPC9wPlxuICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQteHMgdGV4dC1wdXJwbGUtNjAwIG10LTFcIj5SZWNoYXJnZXogbGEgcHJldmlldyBwb3VyIHZvaXIgbGVzIGNoYW5nZW1lbnRzLjwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIGA7XG4gICAgICAgIH1cbiAgICAgICAgc2hvd1RvYXN0KCdUaFx1MDBFOG1lIG1pcyBcdTAwRTAgam91ciAhJyk7XG4gICAgICAgIFxuICAgICAgICAvLyBEXHUwMEU5Y2xlbmNoZXIgdW4gXHUwMEU5dlx1MDBFOW5lbWVudCBwZXJzb25uYWxpc1x1MDBFOSBwb3VyIHJhZnJhXHUwMEVFY2hpclxuICAgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnYWktdGhlbWUtdXBkYXRlZCcsIHtcbiAgICAgICAgICBkZXRhaWw6IHsgdXBkYXRlZFRoZW1lOiBkYXRhLnVwZGF0ZWRUaGVtZSB9XG4gICAgICAgIH0pKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihkYXRhLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGRlIGxcXCdhcHBsaWNhdGlvbicpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgYnRuLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICBidG4uaW5uZXJIVE1MID0gYDxzdmcgY2xhc3M9XCJ3LTMuNSBoLTMuNVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTUgMTNsNCA0TDE5IDdcIi8+PC9zdmc+IFJcdTAwRTllc3NheWVyYDtcbiAgICAgIHNob3dUb2FzdChgRXJyZXVyOiAke2Vyci5tZXNzYWdlfWApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBsaXF1ZSB1bmUgcHJvcG9zaXRpb24gZCdcdTAwRTlkaXRpb24gdmFsaWRcdTAwRTllXG4gICAqL1xuICBhc3luYyBmdW5jdGlvbiBoYW5kbGVBcHBseUVkaXQoZSkge1xuICAgIGNvbnN0IHByb3Bvc2FsSWQgPSBlLnRhcmdldC5jbG9zZXN0KCdbZGF0YS1wcm9wb3NhbC1pZF0nKT8uZGF0YXNldC5wcm9wb3NhbElkO1xuICAgIGNvbnN0IHNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goc3RvcmVkU2l0ZS5zbHVnIHx8ICcnKTtcbiAgICBpZiAoIXByb3Bvc2FsSWQgfHwgIXNpdGVTbHVnKSByZXR1cm47XG4gICAgXG4gICAgY29uc3QgYnRuID0gZS50YXJnZXQuY2xvc2VzdCgnYnV0dG9uJyk7XG4gICAgYnRuLmRpc2FibGVkID0gdHJ1ZTtcbiAgICBidG4uaW5uZXJIVE1MID0gJzxzcGFuIGNsYXNzPVwiYW5pbWF0ZS1zcGluXCI+XHUyM0YzPC9zcGFuPiBBcHBsaWNhdGlvbi4uLic7XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2l0ZVNsdWcpfS9haS9hcHBseS1lZGl0YCwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgcHJvcG9zYWxJZCB9KVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBcbiAgICAgIGlmIChyZXNwb25zZS5vayAmJiBkYXRhLnN1Y2Nlc3MpIHtcbiAgICAgICAgLy8gUmVtcGxhY2VyIGxhIGNhcmQgcGFyIHVuIG1lc3NhZ2UgZGUgc3VjY1x1MDBFOHNcbiAgICAgICAgY29uc3QgcHJvcG9zYWxDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtcHJvcG9zYWwtaWQ9XCIke3Byb3Bvc2FsSWR9XCJdYCk7XG4gICAgICAgIGlmIChwcm9wb3NhbENhcmQpIHtcbiAgICAgICAgICBwcm9wb3NhbENhcmQuaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInctOCBoLTggcm91bmRlZC1mdWxsIGJnLWVtZXJhbGQtNTAwIGZsZXgtc2hyaW5rLTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgPHN2ZyBjbGFzcz1cInctNCBoLTQgdGV4dC13aGl0ZVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgICAgIDxwYXRoIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTUgMTNsNCA0TDE5IDdcIi8+XG4gICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleC0xIGJnLWVtZXJhbGQtNTAgYm9yZGVyIGJvcmRlci1lbWVyYWxkLTIwMCByb3VuZGVkLTJ4bCByb3VuZGVkLXRsLW5vbmUgcC0zXCI+XG4gICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1zbSB0ZXh0LWVtZXJhbGQtNzAwXCI+XHUyNzA1IE1vZGlmaWNhdGlvbnMgYXBwbGlxdVx1MDBFOWVzIGF2ZWMgc3VjY1x1MDBFOHMgITwvcD5cbiAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtZW1lcmFsZC02MDAgbXQtMVwiPkxhIHByZXZpZXcgc2UgbWV0IFx1MDBFMCBqb3VyIGF1dG9tYXRpcXVlbWVudC48L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICBgO1xuICAgICAgICB9XG4gICAgICAgIHNob3dUb2FzdCgnTW9kaWZpY2F0aW9ucyBhcHBsaXF1XHUwMEU5ZXMgIScpO1xuICAgICAgICBcbiAgICAgICAgLy8gRFx1MDBFOWNsZW5jaGVyIHVuIFx1MDBFOXZcdTAwRTluZW1lbnQgcGVyc29ubmFsaXNcdTAwRTkgcG91ciByYWZyYVx1MDBFRWNoaXIgbGEgcHJldmlld1xuICAgICAgICBjb25zdCBwYWdlSWQgPSBkYXRhLnVwZGF0ZWRQYWdlPy5pZCB8fCBudWxsO1xuICAgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnYWktcGFnZS11cGRhdGVkJywge1xuICAgICAgICAgIGRldGFpbDogeyBwYWdlSWQsIHVwZGF0ZWRQYWdlOiBkYXRhLnVwZGF0ZWRQYWdlIH1cbiAgICAgICAgfSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGRhdGEubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZGUgbFxcJ2FwcGxpY2F0aW9uJyk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBidG4uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgIGJ0bi5pbm5lckhUTUwgPSBgPHN2ZyBjbGFzcz1cInctMy41IGgtMy41XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNSAxM2w0IDRMMTkgN1wiLz48L3N2Zz4gUlx1MDBFOWVzc2F5ZXJgO1xuICAgICAgc2hvd1RvYXN0KGBFcnJldXI6ICR7ZXJyLm1lc3NhZ2V9YCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlamV0dGUgdW5lIHByb3Bvc2l0aW9uIGQnXHUwMEU5ZGl0aW9uXG4gICAqL1xuICBhc3luYyBmdW5jdGlvbiBoYW5kbGVSZWplY3RFZGl0KGUpIHtcbiAgICBjb25zdCBwcm9wb3NhbElkID0gZS50YXJnZXQuY2xvc2VzdCgnW2RhdGEtcHJvcG9zYWwtaWRdJyk/LmRhdGFzZXQucHJvcG9zYWxJZDtcbiAgICBjb25zdCBzaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyk7XG4gICAgaWYgKCFwcm9wb3NhbElkIHx8ICFzaXRlU2x1ZykgcmV0dXJuO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICBhd2FpdCBmZXRjaChgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzaXRlU2x1Zyl9L2FpL3Byb3Bvc2FsLyR7cHJvcG9zYWxJZH1gLCB7XG4gICAgICAgIG1ldGhvZDogJ0RFTEVURSdcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBSZW1wbGFjZXIgbGEgY2FyZCBwYXIgdW4gbWVzc2FnZSBkZSByZWpldFxuICAgICAgY29uc3QgcHJvcG9zYWxDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtcHJvcG9zYWwtaWQ9XCIke3Byb3Bvc2FsSWR9XCJdYCk7XG4gICAgICBpZiAocHJvcG9zYWxDYXJkKSB7XG4gICAgICAgIHByb3Bvc2FsQ2FyZC5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInctOCBoLTggcm91bmRlZC1mdWxsIGJnLXNsYXRlLTQwMCBmbGV4LXNocmluay0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICA8c3ZnIGNsYXNzPVwidy00IGgtNCB0ZXh0LXdoaXRlXCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICAgIDxwYXRoIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTYgMThMMTggNk02IDZsMTIgMTJcIi8+XG4gICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleC0xIGJnLXNsYXRlLTEwMCByb3VuZGVkLTJ4bCByb3VuZGVkLXRsLW5vbmUgcC0zXCI+XG4gICAgICAgICAgICA8cCBjbGFzcz1cInRleHQtc20gdGV4dC1zbGF0ZS01MDBcIj5Qcm9wb3NpdGlvbiByZWpldFx1MDBFOWUuPC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICBgO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignW0FJXSBSZWplY3QgZWRpdCBlcnJvcjonLCBlcnIpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBFZmZhY2UgbCdoaXN0b3JpcXVlIGR1IGNoYXRcbiAgICovXG4gIGFzeW5jIGZ1bmN0aW9uIGNsZWFyQUlIaXN0b3J5KCkge1xuICAgIGNvbnN0IHNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goc3RvcmVkU2l0ZS5zbHVnIHx8ICcnKTtcbiAgICBpZiAoIXNpdGVTbHVnIHx8ICFhaUNoYXRNZXNzYWdlcykgcmV0dXJuO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICBhd2FpdCBmZXRjaChgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzaXRlU2x1Zyl9L2FpL2hpc3RvcnlgLCB7IG1ldGhvZDogJ0RFTEVURScgfSk7XG4gICAgICBcbiAgICAgIC8vIFZpZGVyIGxlcyBtZXNzYWdlc1xuICAgICAgYWlDaGF0TWVzc2FnZXMuaW5uZXJIVE1MID0gJyc7XG4gICAgICBcbiAgICAgIC8vIFJcdTAwRTlhZmZpY2hlciBsZSBtZXNzYWdlIGRlIGJpZW52ZW51ZVxuICAgICAgYWlDaGF0TWVzc2FnZXMuaW5uZXJIVE1MID0gYFxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBnYXAtM1wiIGRhdGEtYWktd2VsY29tZT5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwidy04IGgtOCByb3VuZGVkLWZ1bGwgYmctZ3JhZGllbnQtdG8tYnIgZnJvbS12aW9sZXQtNTAwIHRvLWluZGlnby02MDAgZmxleC1zaHJpbmstMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgPHN2ZyBjbGFzcz1cInctNCBoLTQgdGV4dC13aGl0ZVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgICA8cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk05LjY2MyAxN2g0LjY3M00xMiAzdjFtNi4zNjQgMS42MzZsLS43MDcuNzA3TTIxIDEyaC0xTTQgMTJIM20zLjM0My01LjY1N2wtLjcwNy0uNzA3bTIuODI4IDkuOWE1IDUgMCAxMTcuMDcyIDBsLS41NDguNTQ3QTMuMzc0IDMuMzc0IDAgMDAxNCAxOC40NjlWMTlhMiAyIDAgMTEtNCAwdi0uNTMxYzAtLjg5NS0uMzU2LTEuNzU0LS45ODgtMi4zODZsLS41NDgtLjU0N3pcIi8+XG4gICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleC0xIGJnLXNsYXRlLTUwIHJvdW5kZWQtMnhsIHJvdW5kZWQtdGwtbm9uZSBwLTNcIj5cbiAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1zbSB0ZXh0LXNsYXRlLTcwMFwiPlxuICAgICAgICAgICAgICBTYWx1dCAhIFx1RDgzRFx1REM0QiBKZSBzdWlzIHRvbiBhc3Npc3RhbnQgSUEgcG91ciBjZSBzaXRlLiBKZSBwZXV4IHQnYWlkZXIgXHUwMEUwIDpcbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDx1bCBjbGFzcz1cIm10LTIgdGV4dC1zbSB0ZXh0LXNsYXRlLTYwMCBzcGFjZS15LTFcIj5cbiAgICAgICAgICAgICAgPGxpPlx1RDgzQ1x1REZBOCBTdWdnXHUwMEU5cmVyIGRlcyBwYWxldHRlcyBkZSBjb3VsZXVyczwvbGk+XG4gICAgICAgICAgICAgIDxsaT5cdTI3MERcdUZFMEYgR1x1MDBFOW5cdTAwRTlyZXIgZHUgY29udGVudSBwb3VyIHRlcyBibG9jczwvbGk+XG4gICAgICAgICAgICAgIDxsaT5cdUQ4M0RcdURDQzQgQ3JcdTAwRTllciBkZXMgc3RydWN0dXJlcyBkZSBwYWdlczwvbGk+XG4gICAgICAgICAgICAgIDxsaT5cdUQ4M0RcdUREMEQgQW1cdTAwRTlsaW9yZXIgdG9uIFNFTzwvbGk+XG4gICAgICAgICAgICAgIDxsaT5cdTI3MEZcdUZFMEYgPHN0cm9uZz5BbmFseXNlciBldCBtb2RpZmllciB0ZXMgcGFnZXM8L3N0cm9uZz4gKGF2ZWMgdmFsaWRhdGlvbik8L2xpPlxuICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICBgO1xuICAgICAgXG4gICAgICBzaG93VG9hc3QoJ0hpc3RvcmlxdWUgZWZmYWNcdTAwRTknKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tBSV0gQ2xlYXIgaGlzdG9yeSBmYWlsZWQ6JywgZXJyKTtcbiAgICAgIHNob3dUb2FzdCgnRXJyZXVyIGxvcnMgZGUgbFxcJ2VmZmFjZW1lbnQnKTtcbiAgICB9XG4gIH1cblxuICAvLyBQcm9tcHRzIHJhcGlkZXNcbiAgY29uc3QgcXVpY2tQcm9tcHRzID0ge1xuICAgIGNvbG9yczogJ1N1Z2dcdTAwRThyZS1tb2kgMyBwYWxldHRlcyBkZSBjb3VsZXVycyBoYXJtb25pZXVzZXMgcG91ciBtb24gc2l0ZS4gUG91ciBjaGFxdWUgcGFsZXR0ZSwgZG9ubmUgbGVzIGNvdWxldXJzIFRhaWx3aW5kOiBwcmltYXJ5LCBzZWNvbmRhcnksIGFjY2VudCwgZXQgYmFja2dyb3VuZC4nLFxuICAgIGhlcm86ICdHXHUwMEU5blx1MDBFOHJlIHVuIGJsb2MgSGVybyBlbiBKU09OIGF2ZWMgdW4gdGl0cmUgYWNjcm9jaGV1ciwgdW4gc291cy10aXRyZSBlbmdhZ2VhbnQgZXQgdW4gQ1RBLicsXG4gICAgc2VvOiAnQW5hbHlzZSBtb24gc2l0ZSBldCBzdWdnXHUwMEU4cmUgZGVzIGFtXHUwMEU5bGlvcmF0aW9ucyBTRU8gcG91ciBsZSBtZXRhIHRpdGxlIGV0IGxhIG1ldGEgZGVzY3JpcHRpb24gZGUgbWEgcGFnZSBkXFwnYWNjdWVpbC4nLFxuICAgIGxhbmRpbmc6ICdHXHUwMEU5blx1MDBFOHJlIGxhIHN0cnVjdHVyZSBKU09OIGRcXCd1bmUgbGFuZGluZyBwYWdlIGNvbXBsXHUwMEU4dGUgYXZlYzogSGVybywgMyBzZWN0aW9ucyBkZSBjb250ZW51LCBldCB1biBDVEEgZmluYWwuJyxcbiAgICBhbmFseXplOiAnQW5hbHlzZSBsZSBjb250ZW51IGRlIHRvdXRlcyBtZXMgcGFnZXMgZXQgcHJvcG9zZSBkZXMgYW1cdTAwRTlsaW9yYXRpb25zIGNvbmNyXHUwMEU4dGVzLiBQb3VyIGNoYXF1ZSBzdWdnZXN0aW9uIGRcXCdhbVx1MDBFOWxpb3JhdGlvbiBkZSB0ZXh0ZSBvdSBkZSBzdHJ1Y3R1cmUsIHV0aWxpc2UgbGUgZm9ybWF0IHByb3Bvc2UtZWRpdCBwb3VyIHF1ZSBqZSBwdWlzc2UgdmFsaWRlci4nLFxuICAgIGltcHJvdmVIb21lOiAnQW5hbHlzZSBtYSBwYWdlIGRcXCdhY2N1ZWlsIGV0IHByb3Bvc2UgdW5lIGFtXHUwMEU5bGlvcmF0aW9uIGR1IHRpdHJlIG91IGR1IEhlcm8gcG91ciBsZSByZW5kcmUgcGx1cyBpbXBhY3RhbnQuIFV0aWxpc2UgbGUgZm9ybWF0IHByb3Bvc2UtZWRpdC4nXG4gIH07XG5cbiAgLy8gRXZlbnQgbGlzdGVuZXJzXG4gIGFpQ2hhdFRvZ2dsZT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgaWYgKGFpQ2hhdE9wZW4pIHtcbiAgICAgIGNsb3NlQUlDaGF0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9wZW5BSUNoYXQoKTtcbiAgICB9XG4gIH0pO1xuXG4gIGFpQ2hhdENsb3NlPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlQUlDaGF0KTtcbiAgYWlDaGF0T3ZlcmxheT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZUFJQ2hhdCk7XG5cbiAgYWlDaGF0Q2xlYXI/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGlmIChjb25maXJtKCdFZmZhY2VyIHRvdXQgbFxcJ2hpc3RvcmlxdWUgZGUgY29udmVyc2F0aW9uID8nKSkge1xuICAgICAgY2xlYXJBSUhpc3RvcnkoKTtcbiAgICB9XG4gIH0pO1xuXG4gIGFpQ2hhdEZvcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBhaUNoYXRJbnB1dD8udmFsdWU/LnRyaW0oKTtcbiAgICBpZiAobWVzc2FnZSkge1xuICAgICAgYWlDaGF0SW5wdXQudmFsdWUgPSAnJztcbiAgICAgIHNlbmRBSU1lc3NhZ2UobWVzc2FnZSk7XG4gICAgfVxuICB9KTtcblxuICBhaVF1aWNrQnV0dG9ucy5mb3JFYWNoKGJ0biA9PiB7XG4gICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgYWN0aW9uID0gYnRuLmRhdGFzZXQuYWlRdWljaztcbiAgICAgIGNvbnN0IHByb21wdCA9IHF1aWNrUHJvbXB0c1thY3Rpb25dO1xuICAgICAgaWYgKHByb21wdCkge1xuICAgICAgICBzZW5kQUlNZXNzYWdlKHByb21wdCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8vIEZlcm1lciBhdmVjIEVzY2FwZVxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGUpID0+IHtcbiAgICBpZiAoZS5rZXkgPT09ICdFc2NhcGUnICYmIGFpQ2hhdE9wZW4pIHtcbiAgICAgIGNsb3NlQUlDaGF0KCk7XG4gICAgfVxuICB9KTtcbn0pO1xuIl0sCiAgIm1hcHBpbmdzIjogIk1BQUEsU0FBUyxpQkFBaUIsbUJBQW9CLElBQU0sQ0FDbEQsUUFBUSxJQUFJLDJCQUF3QixFQUNwQyxJQUFNQSxHQUFlLFNBQVMsY0FBYyxlQUFlLEVBQ3ZEQSxJQUNGQSxHQUFhLGlCQUFpQixRQUFTLFNBQVksQ0FDakRBLEdBQWEsU0FBVyxHQUN4QixHQUFJLENBQ0YsTUFBTSxNQUFNLGNBQWUsQ0FDekIsT0FBUSxPQUNSLFFBQVMsQ0FDUCxlQUFnQixrQkFDbEIsQ0FDRixDQUFDLENBQ0gsT0FBU0MsRUFBSyxDQUNaLFFBQVEsTUFBTSwwQ0FBd0NBLENBQUcsQ0FDM0QsUUFBRSxDQUNBLE9BQU8sU0FBUyxLQUFPLG1CQUN6QixDQUNGLENBQUMsRUFHSCxJQUFNQyxHQUFVLFNBQVMsY0FBYyxzQkFBc0IsRUFDdkRDLEdBQWlCLFNBQVMsY0FBYyw4QkFBOEIsRUFDdEVDLEdBQWlCLFNBQVMsaUJBQWlCLDZCQUE2QixFQUN4RUMsR0FBc0IsU0FBUyxpQkFBaUIsNEJBQTRCLEVBQzVFQyxHQUFPLFNBQVMsS0FDbEJDLEdBQWMsR0FFWkMsR0FBb0IsSUFBTSxDQUM5QixHQUFJLENBQUNOLEdBQ0gsT0FHRixHQURrQixPQUFPLFdBQVcscUJBQXFCLEVBQUUsUUFDNUMsQ0FDYkEsR0FBUSxVQUFVLE9BQU8sUUFBUSxFQUNqQ0MsSUFBQSxNQUFBQSxHQUFnQixVQUFVLElBQUksVUFDOUJHLEdBQUssVUFBVSxPQUFPLGlCQUFpQixFQUN2QyxNQUNGLENBQ0lDLElBQ0ZMLEdBQVEsVUFBVSxPQUFPLFFBQVEsRUFDakNDLElBQUEsTUFBQUEsR0FBZ0IsVUFBVSxPQUFPLFVBQ2pDRyxHQUFLLFVB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QWIsWUFBQXR4QixFQUFvQixPQUNoQ00sSUFDRmd4QixHQUFZLE1BQVEsR0FDcEI2QixHQUFjN3lCLENBQU8sRUFFekIsR0FFQW94QixHQUFlLFFBQVFwWCxHQUFPLENBQzVCQSxFQUFJLGlCQUFpQixRQUFTLElBQU0sQ0FDbEMsSUFBTXNNLEVBQVN0TSxFQUFJLFFBQVEsUUFDckJnYSxFQUFTRCxHQUFhek4sQ0FBTSxFQUM5QjBOLEdBQ0ZuQixHQUFjbUIsQ0FBTSxDQUV4QixDQUFDLENBQ0gsQ0FBQyxFQUdELFNBQVMsaUJBQWlCLFVBQVlsaEIsR0FBTSxDQUN0Q0EsRUFBRSxNQUFRLFVBQVl1ZSxJQUN4Qk0sR0FBWSxDQUVoQixDQUFDLENBQ0gsQ0FBQyIsCiAgIm5hbWVzIjogWyJsb2dvdXRCdXR0b24iLCAiZXJyIiwgInNpZGViYXIiLCAic2lkZWJhck92ZXJsYXkiLCAic2lkZWJhclRvZ2dsZXMiLCAic2lkZWJhckNsb3NlQnV0dG9ucyIsICJib2R5IiwgInNpZGViYXJPcGVuIiwgImFwcGx5U2lkZWJhclN0YXRlIiwgIm9wZW5TaWRlYmFyIiwgImNsb3NlU2lkZWJhciIsICJidXR0b24iLCAiZXZlbnQiLCAiQUNUSVZFX1NJVEVfS0VZIiwgIkFDVElWRV9TSVRFX05BTUVfS0VZIiwgInN0b3JlZFNpdGUiLCAic2l0ZUNhcmRzIiwgInNpdGVTZWxlY3RCdXR0b25zIiwgInNpdGVOYW1lTGFiZWwiLCAid29ya3NwYWNlU2l0ZUxhYmVsIiwgIndvcmtzcGFjZUJhY2tOYW1lIiwgIndvcmtzcGFjZUJhY2tNb2RhbCIsICJ3b3Jrc3BhY2VCYWNrQnV0dG9ucyIsICJ3b3Jrc3BhY2VCYWNrQ2FuY2VsIiwgIndvcmtzcGFjZUJhY2tDb25maXJtIiwgIndvcmtzcGFjZU5hdkxpbmtzIiwgInNpdGVUb2FzdCIsICJzaXRlVG9hc3RNZXNzYWdlIiwgInNpdGVDcmVhdGVCdXR0b25zIiwgInNpdGVNb2RhbCIsICJzaXRlRm9ybSIsICJzaXRlTmFtZUlucHV0IiwgInNpdGVTbHVnSW5wdXQiLCAic2l0ZVNsdWdFcnJvciIsICJzaXRlTW9kYWxFcnJvciIsICJzaXRlTW9kYWxDYW5jZWxCdXR0b25zIiwgInNpdGVNb2RhbFN1Ym1pdEJ1dHRvbiIsICJ3b3Jrc3BhY2VDb250ZXh0IiwgImdldFdvcmtzcGFjZUNvbnRleHQiLCAic2x1Z01hbnVhbGx5RWRpdGVkIiwgInRvYXN0VGltZW91dElkIiwgImZvY3VzYWJsZVNlbGVjdG9yIiwgIm1vZGFsU3RhY2siLCAiZ2V0Rm9jdXNhYmxlRWxlbWVudHMiLCAibW9kYWwiLCAiZWwiLCAiaGFuZGxlTW9kYWxLZXlkb3duIiwgImN1cnJlbnRFbnRyeSIsICJvbkNsb3NlIiwgImZvY3VzYWJsZUVsZW1lbnRzIiwgImZpcnN0IiwgImxhc3QiLCAiYWN0aXZhdGVNb2RhbCIsICJmb2N1c2FibGUiLCAiX2EiLCAiX2IiLCAiZGVhY3RpdmF0ZU1vZGFsIiwgImluZGV4IiwgImVudHJ5IiwgInNob3dUb2FzdCIsICJtZXNzYWdlIiwgImVuc3VyZUxlYWRpbmdTbGFzaCIsICJzbHVnIiwgInN0cmlwTGVhZGluZ1NsYXNoIiwgInBlcnNpc3RTaXRlU3RhdGUiLCAibmFtZSIsICJub3JtYWxpemVkU2x1ZyIsICJ1cGRhdGVTaXRlTGFiZWxzIiwgInVwZGF0ZVdvcmtzcGFjZU5hdkxpbmtzIiwgImxpbmsiLCAidGFiIiwgInNsdWdQYXRoIiwgImFwcGx5QWN0aXZlU2l0ZSIsICJvcHRpb25zIiwgImFjdGl2ZVNpdGVOYW1lIiwgImNhcmQiLCAiaXNBY3RpdmUiLCAiYmFkZ2UiLCAiZmluYWxOYW1lIiwgInNlbGVjdFNpdGUiLCAicmVzcG9uc2UiLCAicGF5bG9hZCIsICJmaW5hbFNsdWciLCAic3luY0FjdGl2ZVNpdGVGcm9tU2VydmVyIiwgInNpdGUiLCAiZGVmYXVsdENhcmQiLCAid29ya3NwYWNlU2x1Z2lmeSIsICJ2YWx1ZSIsICJub3JtYWxpemVTbHVnVmFsdWUiLCAiYmFzZSIsICJvcGVuU2l0ZU1vZGFsIiwgImNsb3NlU2l0ZU1vZGFsIiwgInNsdWdWYWwiLCAibmFtZVZhbCIsICJnZXRTbHVnU2V0IiwgIm5hbWVWYWx1ZSIsICJzbHVnVmFsdWUiLCAiY3JlYXRlZFNpdGUiLCAiY2xvc2VXb3Jrc3BhY2VCYWNrTW9kYWwiLCAibWF0Y2giLCAiZGV0ZWN0V29ya3NwYWNlU2VjdGlvbiIsICJvcGVuV29ya3NwYWNlQmFja01vZGFsIiwgImFjdGl2ZVNlY3Rpb24iLCAiaW5pdERlc2lnbldvcmtzcGFjZSIsICJpbml0Q29udGVudFdvcmtzcGFjZSIsICJpbml0TWVkaWFXb3Jrc3BhY2UiLCAiaW5pdERlcGxveVdvcmtzcGFjZSIsICJpbml0U2V0dGluZ3NXb3Jrc3BhY2UiLCAicGFnZUxpc3RzIiwgImFjdGl2ZVRpdGxlIiwgImFjdGl2ZVNsdWciLCAicHJldmlld1RhZ3MiLCAicHJldmlld0ZyYW1lIiwgInByZXZpZXdPcGVuQnV0dG9uIiwgInByZXZpZXdTdGF0dXMiLCAicHJldmlld0hpZ2hsaWdodE92ZXJsYXkiLCAic2VvVG9nZ2xlQnV0dG9uIiwgInNlb1BhbmVsIiwgInNlb0Nsb3NlQnV0dG9uIiwgInNlb0Zvcm0iLCAic2VvVGl0bGVJbnB1dCIsICJzZW9EZXNjcmlwdGlvbklucHV0IiwgInNlb0luZGV4ZWRDaGVja2JveCIsICJzZW9GZWVkYmFjayIsICJzZW9TYXZlQnV0dG9uIiwgInBhZ2VBY2Nlc3NpYmlsaXR5VG9nZ2xlQnV0dG9uIiwgInBhZ2VBY2Nlc3NpYmlsaXR5UGFuZWwiLCAicGFnZUFjY2Vzc2liaWxpdHlDbG9zZUJ1dHRvbiIsICJwYWdlQWNjZXNzaWJpbGl0eUZvcm0iLCAicGFnZUFjY2Vzc2liaWxpdHlOYXZDaGVja2JveCIsICJwYWdlQWNjZXNzaWJpbGl0eU1haW5JbnB1dCIsICJwYWdlQWNjZXNzaWJpbGl0eUZlZWRiYWNrIiwgInBhZ2VBY2Nlc3NpYmlsaXR5U2F2ZUJ1dHRvbiIsICJwYWdlUHJvcHNUb2dnbGVCdXR0b24iLCAicGFnZVByb3BzUGFuZWwiLCAicGFnZVByb3BzQ2xvc2VCdXR0b24iLCAicGFnZVByb3BzRm9ybSIsICJwYWdlTmFtZUlucHV0IiwgInBhZ2VUaXRsZUlucHV0IiwgInBhZ2VTbHVnSW5wdXQiLCAicGFnZURlc2NyaXB0aW9uSW5wdXQiLCAicGFnZVByb3BzRmVlZGJhY2siLCAicGFnZVByb3BzU2F2ZUJ1dHRvbiIsICJibG9ja0xpc3QiLCAiYmxvY2tMaXN0RW1wdHkiLCAiYmxvY2tDb3VudEJhZGdlIiwgImJsb2NrTGlicmFyeVRvZ2dsZSIsICJibG9ja0xpYnJhcnkiLCAiYmxvY2tBZGRCdXR0b25zIiwgImJsb2NrRGVsZXRlTW9kYWwiLCAiYmxvY2tEZWxldGVDb25maXJtIiwgImJsb2NrRGVsZXRlQ2FuY2VsIiwgImJsb2NrRGV0YWlsRW1wdHkiLCAiYmxvY2tEZXRhaWxTdGF0dXMiLCAiYmxvY2tFZGl0b3IiLCAiYmxvY2tFZGl0b3JUaXRsZSIsICJibG9ja0VkaXRvclR5cGUiLCAiYmxvY2tFZGl0b3JVbnN1cHBvcnRlZCIsICJibG9ja0Zvcm0iLCAiYmxvY2tGb3JtU2VjdGlvbnMiLCAiYmxvY2tUYWJzIiwgImFjdGl2ZUJsb2NrVGFiIiwgImxlZnRQYW5lbFRhYnMiLCAibGVmdFBhbmVsQmxvY2tzIiwgImxlZnRQYW5lbFBhZ2VzIiwgImFjdGl2ZUxlZnRUYWIiLCAic3dpdGNoTGVmdFRhYiIsICJ0YWJOYW1lIiwgImJsb2NrRm9ybUFjdGlvbnMiLCAiYmxvY2tGb3JtQXV0b3NhdmUiLCAic3dpdGNoQmxvY2tUYWIiLCAicGFuZWwiLCAiY29sbGVjdGlvblNlbGVjdCIsICJjb2xsZWN0aW9uU2VsZWN0aW9uSW5mbyIsICJibG9ja0Zvcm1DYW5jZWwiLCAiZ3JvdXBQcmV2aWV3TW9iaWxlIiwgImdyb3VwUHJldmlld0Rlc2t0b3AiLCAiY29sbGVjdGlvblByZXZpZXdNb2JpbGUiLCAiY29sbGVjdGlvblByZXZpZXdEZXNrdG9wIiwgImJsb2NrVHlwZUZvcm1zIiwgImJsb2NrVHlwZUFsaWFzZXMiLCAiYW5pbWF0aW9uRmllbGRNYXAiLCAiY29uZmlnIiwgInVwZGF0ZUdyb3VwTWluaVByZXZpZXciLCAibW9iaWxlVmFsdWUiLCAiZGVza3RvcFZhbHVlIiwgInJlbmRlckJveGVzIiwgImNvdW50IiwgInVwZGF0ZUNvbGxlY3Rpb25NaW5pUHJldmlldyIsICJmZXRjaFBhZ2VzRnJvbVNlcnZlciIsICJwYWdlc0FwaUJhc2UiLCAiY3JlYXRlUGFnZU9uU2VydmVyIiwgInRpdGxlIiwgInNhdmVQYWdlVG9TZXJ2ZXIiLCAicGFnZSIsICJzYXZlZCIsICJub3JtYWxpemVkIiwgIm5vcm1hbGl6ZVBhZ2VEYXRhIiwgInBhZ2VzIiwgImN1cnJlbnRQYWdlIiwgImxvYWRQYWdlc0Zyb21TZXJ2ZXIiLCAiYWN0aXZlUGFnZUlkIiwgInJlbmRlclBhZ2VMaXN0cyIsICJyZW5kZXJCbG9ja0xpc3QiLCAibG9hZGVkUGFnZXMiLCAiZ2V0TG9hZGluZ1ByZXZpZXdIdG1sIiwgImdldFN0b3JlZEFjdGl2ZVBhZ2UiLCAic2V0QWN0aXZlUGFnZSIsICJub3JtYWxpemVUeXBlIiwgImdldEJsb2NrRm9ybUNvbmZpZyIsICJibG9jayIsICJ0eXBlS2V5IiwgImFsaWFzIiwgInBvcHVsYXRlQmxvY2tGb3JtIiwgIl9jIiwgIl9kIiwgIl9lIiwgInNlY3Rpb24iLCAiZGVzaXJlZFZhbHVlIiwgInVwZGF0ZUNvbGxlY3Rpb25TZWxlY3RPcHRpb25zIiwgInNldHRpbmdLZXkiLCAiZmllbGROYW1lIiwgImlucHV0IiwgImZhbGxiYWNrIiwgInNlbGVjdCIsICJzZWxlY3RlZE9wdGlvbiIsICJjb2xvciIsICJjb2xvclByZXZpZXciLCAiY29sbGVjdEZvcm1WYWx1ZXMiLCAidmFsdWVzIiwgInBhcnNlZCIsICJ1cGRhdGVQcmV2aWV3U3RhdHVzIiwgInRleHQiLCAic2VyaWFsaXplUGFnZUZvclByZXZpZXciLCAic2VyaWFsaXplQmxvY2siLCAiZGVib3VuY2UiLCAiZm4iLCAiZGVsYXkiLCAidGltZW91dElkIiwgImFyZ3MiLCAiYXV0b1NhdmVBcHBlYXJhbmNlIiwgImFjdGl2ZUJsb2NrSWQiLCAiZ2V0QWN0aXZlQmxvY2siLCAidXBkYXRlZEJsb2NrcyIsICJ1cGRhdGVkU2V0dGluZ3MiLCAibmV4dFBhZ2UiLCAicCIsICJ1cGRhdGVQcmV2aWV3QmxvY2tMaXZlIiwgImJsb2NrSWQiLCAic2V0dGluZ3MiLCAiZGVib3VuY2VkUmVmcmVzaFByZXZpZXciLCAicmVmcmVzaFByZXZpZXciLCAiaGFuZGxlQXBwZWFyYW5jZUNoYW5nZSIsICJwcmV2aWV3U2l0ZVNsdWciLCAic2VyaWFsaXplZFBhZ2VzIiwgInByZXZpZXdSZWFkeSIsICJwcmV2aWV3UmVxdWVzdENvbnRyb2xsZXIiLCAiY29udHJvbGxlciIsICJkYXRhIiwgImxhdGVzdFByZXZpZXdIdG1sIiwgImVycm9yIiwgImhhbmRsZUJsb2NrRm9ybVN1Ym1pdCIsICJhbHRWYWx1ZSIsICJ1cGRhdGVkQmxvY2siLCAidXBkYXRlQ3VycmVudFBhZ2VCbG9ja3MiLCAiZHJhd2VyIiwgImRyYXdlckJhY2tkcm9wIiwgImRyYXdlck9wZW5CdXR0b25zIiwgImRyYXdlckNsb3NlQnV0dG9ucyIsICJhZGRQYWdlVG9nZ2xlIiwgImFkZFBhZ2VGb3JtIiwgImFkZFBhZ2VOYW1lIiwgImFkZFBhZ2VUaXRsZSIsICJhZGRQYWdlU2x1ZyIsICJhZGRQYWdlQ2FuY2VsIiwgImFkZFBhZ2VFcnJvciIsICJhZGRQYWdlU3VibWl0QnV0dG9uIiwgImltcG9ydFRvZ2dsZSIsICJpbXBvcnRNb2RhbCIsICJpbXBvcnRDbG9zZUJ1dHRvbnMiLCAiaW1wb3J0RHJvcHpvbmUiLCAiaW1wb3J0RmlsZUlucHV0IiwgImltcG9ydEZpbGVMaXN0IiwgImltcG9ydEZpbGVOYW1lcyIsICJpbXBvcnRSZXN1bHRzIiwgImltcG9ydFJlc3VsdHNDb250ZW50IiwgImltcG9ydFN1Ym1pdCIsICJpbXBvcnRUYWJzIiwgImltcG9ydFBhbmVscyIsICJjb3B5VGVtcGxhdGVCdG4iLCAidGVtcGxhdGVKc29uIiwgImltcG9ydFBhc3RlSW5wdXQiLCAicGFzdGVGb3JtYXRCdG4iLCAicGFzdGVFcnJvciIsICJpbXBvcnRTZWxlY3RlZEZpbGVzIiwgImFjdGl2ZUltcG9ydFRhYiIsICJkZWxldGVQYWdlTW9kYWwiLCAiZGVsZXRlUGFnZU5hbWUiLCAiZGVsZXRlUGFnZUNhbmNlbCIsICJkZWxldGVQYWdlQ29uZmlybSIsICJwYWdlVG9EZWxldGUiLCAic2l0ZUtleSIsICJzaXRlU2x1Z1ZhbHVlIiwgInNhZmVTaXRlU2x1ZyIsICJjb2xsZWN0aW9uc0FwaUJhc2UiLCAic3RvcmFnZUtleXMiLCAiY3JlYXRlQmxvY2siLCAiaWQiLCAibGFiZWwiLCAidHlwZSIsICJzdGF0dXMiLCAiZGVzY3JpcHRpb24iLCAicHJvcHMiLCAiYmxvY2tMaWJyYXJ5RGVmaW5pdGlvbnMiLCAicGVyc2lzdEFjdGl2ZVBhZ2UiLCAicGFnZUlkIiwgInN0b3JlZCIsICJmb3JtYXRCbG9ja0NvdW50IiwgIm5vcm1hbGl6ZVBhZ2VTbHVnIiwgImdlbmVyYXRlQmxvY2tJZCIsICJrZXkiLCAiY3JlYXRlSW5pdGlhbEJsb2NrcyIsICJzZXRBY3RpdmVMYWJlbHMiLCAicmVuZGVyUHJldmlld01ldGEiLCAidGFnIiwgImdldFN0YXR1c0JhZGdlQ2xhc3NlcyIsICJyZW5kZXJCbG9ja0RldGFpbHMiLCAiYXBwbHlQcmV2aWV3SGlnaGxpZ2h0IiwgImRvYyIsICJub2RlIiwgImNyZWF0ZUJsb2NrSXRlbUVsZW1lbnQiLCAiaXNOZXN0ZWQiLCAicGFyZW50SWQiLCAiYmxvY2tUeXBlIiwgImlzR3JvdXAiLCAiaXRlbSIsICJhY2NlbnQiLCAiY29udGVudCIsICJoYW5kbGUiLCAidGV4dFdyYXBwZXIiLCAibWV0YSIsICJ0eXBlQmFkZ2UiLCAic3RhdHVzQmFkZ2UiLCAiY2hpbGRDb3VudCIsICJjaGlsZEJhZGdlIiwgImRpc3BsYXlMYWJlbCIsICJjb2xsZWN0aW9uTmFtZSIsICJkZXNpZ25Db2xsZWN0aW9ucyIsICJpbmZvIiwgImFjdGlvbnMiLCAibW92ZUJ1dHRvbnMiLCAibW92ZVVwIiwgIm1vdmVDaGlsZEJsb2NrQnlPZmZzZXQiLCAibW92ZUJsb2NrQnlPZmZzZXQiLCAibW92ZURvd24iLCAiZGVsZXRlQnV0dG9uIiwgInJlbW92ZUNoaWxkRnJvbUdyb3VwIiwgIm9wZW5CbG9ja0RlbGV0ZU1vZGFsIiwgInNldEFjdGl2ZUJsb2NrIiwgImNyZWF0ZUdyb3VwRHJvcFpvbmUiLCAicGFyZW50QmxvY2siLCAiZHJvcFpvbmUiLCAiZSIsICJtb3ZlQmxvY2tUb0dyb3VwIiwgIm9wZW5BZGRCbG9ja1RvR3JvdXBNb2RhbCIsICJibG9ja3MiLCAiY2hpbGQiLCAiY2hpbGRJdGVtIiwgImdyb3VwSWQiLCAiYmxvY2tJbmRleCIsICJiIiwgImdyb3VwQmxvY2siLCAibW92ZWRCbG9jayIsICJjaGlsZElkIiwgImNoaWxkSW5kZXgiLCAiYyIsICJncm91cEluZGV4IiwgIm9mZnNldCIsICJjdXJyZW50SW5kZXgiLCAibmV3SW5kZXgiLCAicGVuZGluZ0dyb3VwSWRGb3JOZXdCbG9jayIsICJvcGVuRGVsZXRlUGFnZU1vZGFsIiwgImNsb3NlRGVsZXRlUGFnZU1vZGFsIiwgImV4ZWN1dGVEZWxldGVQYWdlIiwgInBhZ2VUaXRsZSIsICJyZXN1bHQiLCAiYWN0aXZlSWQiLCAibGlzdCIsICJkaXNwbGF5TmFtZSIsICJuYXZCYWRnZSIsICJpc0Rlc2t0b3BEcmF3ZXIiLCAiY2xvc2VEcmF3ZXIiLCAiZGVsZXRlQnRuIiwgImFjdGl2ZUJsb2NrUGFyZW50SWQiLCAidGFyZ2V0QmxvY2siLCAiZm91bmQiLCAibmV3QmxvY2tzIiwgInVwZGF0ZUN1cnJlbnRQYWdlU3RhdGUiLCAiaXNEZXNrdG9wUmVvcmRlciIsICJtb3ZlZCIsICJyZW9yZGVyQmxvY2tzIiwgInNvdXJjZUlkIiwgInRhcmdldElkIiwgImZyb21JbmRleCIsICJ0b0luZGV4IiwgInJlb3JkZXJCbG9ja3NXaXRoUG9zaXRpb24iLCAicG9zaXRpb24iLCAiaW5zZXJ0SW5kZXgiLCAidXBkYXRlRHJhZ2dhYmxlU3RhdGUiLCAiZHJhZ2dhYmxlIiwgImNsb3NlQmxvY2tMaWJyYXJ5IiwgImJsb2NrTGlicmFyeU9wZW4iLCAib3BlbkJsb2NrTGlicmFyeSIsICJ0b2dnbGVCbG9ja0xpYnJhcnkiLCAiYWRkQmxvY2tGcm9tTGlicmFyeSIsICJkZWZpbml0aW9uIiwgIm5ld0Jsb2NrIiwgImZpcnN0Q29sbGVjdGlvbklkIiwgIm5leHRCbG9ja3MiLCAiZGVsZXRlQmxvY2tCeUlkIiwgIm5leHRBY3RpdmUiLCAiY2xvc2VCbG9ja0RlbGV0ZU1vZGFsIiwgInBlbmRpbmdEZWxldGVCbG9ja0lkIiwgInRhcmdldCIsICJzeW5jUGFnZUFjY2Vzc2liaWxpdHlGaWVsZHMiLCAic3luY0RyYXdlclN0YXRlIiwgIm9wZW5EcmF3ZXIiLCAib3BlbkFkZFBhZ2VGb3JtIiwgInBhZ2VTbHVnTWFudWFsbHlFZGl0ZWQiLCAiY2xvc2VBZGRQYWdlRm9ybSIsICJzeW5jU2x1Z0Zyb21OYW1lIiwgIm5vcm1hbGl6ZUJsb2NrRGF0YSIsICJsb2FkRGVzaWduQ29sbGVjdGlvbnMiLCAiY3VycmVudFZhbHVlIiwgInN5bmNDb2xsZWN0aW9uU2VsZWN0aW9uSW5mbyIsICJjb2xsZWN0aW9uSWQiLCAiY29sbGVjdGlvbiIsICJkZXRhaWxzIiwgInNlbGVjdGVkVmFsdWUiLCAib3B0aW9uIiwgImZhbGxiYWNrT3B0aW9uIiwgImNyZWF0ZWRQYWdlIiwgInJlc2V0UGFzdGVTdGF0ZSIsICJ2YWxpZGF0ZVBhc3RlSnNvbiIsICJmb3JtYXRQYXN0ZUpzb24iLCAidXBkYXRlSW1wb3J0U3VibWl0U3RhdGUiLCAib3BlbkltcG9ydE1vZGFsIiwgInVwZGF0ZUltcG9ydEZpbGVMaXN0IiwgInQiLCAiY2xvc2VJbXBvcnRNb2RhbCIsICJmIiwgImhhbmRsZUltcG9ydEZpbGVzIiwgImZpbGVzIiwgImpzb25GaWxlcyIsICJleGVjdXRlSW1wb3J0IiwgIl9mIiwgIl9nIiwgIl9oIiwgIl9pIiwgIl9qIiwgIl9rIiwgInBhZ2VzRGF0YSIsICJwYXJzZUVyciIsICJlcnJvckxpbmUiLCAiZXJyb3JEZXRhaWwiLCAicG9zIiwgImxpbmVzIiwgImxpbmVOdW0iLCAiY29sTnVtIiwgImZpbGVFcnJvcnMiLCAiZmlsZSIsICJodG1sIiwgImhhc0RhdGEiLCAiaGFzU3VjY2VzcyIsICJoYXNFcnJvcnMiLCAiY29sbGVjdGlvbnNNc2ciLCAiYnRuIiwgInRhcmdldFBhbmVsIiwgInByZXZpZXdXaW5kb3ciLCAidG9nZ2xlU2VvUGFuZWwiLCAic2hvdyIsICJzZXRTZW9GZWVkYmFjayIsICJ0b25lIiwgImlzVmlzaWJsZSIsICJzZW9EYXRhIiwgInVwZGF0ZWRQYWdlIiwgInRvZ2dsZVBhZ2VBY2Nlc3NpYmlsaXR5UGFuZWwiLCAic2V0UGFnZUFjY2Vzc2liaWxpdHlGZWVkYmFjayIsICJhY2Nlc3NpYmlsaXR5RGF0YSIsICJ0b2dnbGVQYWdlUHJvcHNQYW5lbCIsICJzZXRQYWdlUHJvcHNGZWVkYmFjayIsICJuZXdOYW1lIiwgIm5ld1RpdGxlIiwgIm5ld1NsdWciLCAibmV3RGVzY3JpcHRpb24iLCAiaGFuZGxlQmxvY2tEcmFnU3RhcnQiLCAiZHJhZ1NvdXJjZUlkIiwgImNsZWFyRHJhZ0luZGljYXRvcnMiLCAiaGFuZGxlQmxvY2tEcmFnRW5kIiwgImhhbmRsZUJsb2NrRHJhZ092ZXIiLCAicmVjdCIsICJtaWRZIiwgImlzQWJvdmUiLCAiaGFuZGxlQmxvY2tEcmFnTGVhdmUiLCAicmVsYXRlZFRhcmdldCIsICJoYW5kbGVCbG9ja0Ryb3AiLCAic291cmNlIiwgImRyb3BQb3NpdGlvbiIsICJhY3RpdmVQYWdlIiwgImNvbGxlY3Rpb25MaXN0IiwgImNvbnRlbnRWaWV3cyIsICJjb250ZW50U2VjdGlvbkJ1dHRvbnMiLCAiY29udGVudFNlY3Rpb25UcmlnZ2VycyIsICJjb250ZW50RHJhd2VyIiwgImNvbnRlbnREcmF3ZXJCYWNrZHJvcCIsICJjb250ZW50RHJhd2VyT3BlbkJ1dHRvbnMiLCAiY29udGVudERyYXdlckNsb3NlQnV0dG9ucyIsICJoZWFkZXJTdGF0dXNJbmRpY2F0b3IiLCAiZm9vdGVyU3RhdHVzSW5kaWNhdG9yIiwgImNvbGxlY3Rpb25Db3VudEVsIiwgImhlYWRlckZpZWxkcyIsICJoZWFkZXJOYXZMaXN0IiwgImhlYWRlck5hdkFkZEJ0biIsICJoZWFkZXJTYXZlQnRuIiwgImhlYWRlck5hdkl0ZW1UZW1wbGF0ZSIsICJoZWFkZXJQYWdlc0xpc3QiLCAic2l0ZVBhZ2VzIiwgInNlbGVjdGVkTmF2UGFnZXMiLCAiZm9vdGVyRmllbGRzIiwgImZvb3RlckNvbHVtbnNMaXN0IiwgImZvb3RlckNvbHVtbkFkZEJ0biIsICJmb290ZXJTYXZlQnRuIiwgImZvb3RlckNvbHVtblRlbXBsYXRlIiwgImZvb3RlckxpbmtUZW1wbGF0ZSIsICJhY3RpdmVDb250ZW50U2VjdGlvbiIsICJoZWFkZXJEYXRhIiwgImZvb3RlckRhdGEiLCAic2FmZVNpdGVTbHVnRm9yTGF5b3V0IiwgImxheW91dEFwaUJhc2UiLCAic2hvd0NvbnRlbnRWaWV3IiwgInZpZXdOYW1lIiwgIm9wZW5Db250ZW50RHJhd2VyIiwgImNsb3NlQ29udGVudERyYXdlciIsICJsb2FkU2l0ZVBhZ2VzRm9ySGVhZGVyIiwgInJlbmRlclBhZ2VDaGVja2JveGVzIiwgInBhZ2VTbHVnIiwgInBhZ2VEaXNwbGF5TmFtZSIsICJwYWdlVXJsIiwgImlzU2VsZWN0ZWQiLCAibmF2IiwgImNoZWNrYm94IiwgImNvbGxlY3RIZWFkZXJEYXRhIiwgIl9sIiwgIl9tIiwgInVybCIsICJwb3B1bGF0ZUhlYWRlckZvcm0iLCAiYWRkRm9vdGVyTGluayIsICJjb250YWluZXIiLCAiY2xvbmUiLCAibGFiZWxJbnB1dCIsICJ1cmxJbnB1dCIsICJyZW1vdmVCdG4iLCAiYWRkRm9vdGVyQ29sdW1uIiwgImxpbmtzIiwgImNvbHVtbiIsICJ0aXRsZUlucHV0IiwgImxpbmtzQ29udGFpbmVyIiwgImFkZExpbmtCdG4iLCAiY29sbGVjdEZvb3RlckRhdGEiLCAiX24iLCAiX28iLCAiX3AiLCAiX3EiLCAiX3IiLCAiX3MiLCAiX3QiLCAiY29sdW1ucyIsICJjb2wiLCAibGlua0VsIiwgInBvcHVsYXRlRm9vdGVyRm9ybSIsICJ2IiwgImNvbGxlY3Rpb25FbXB0eVN0YXRlIiwgImNvbGxlY3Rpb25JdGVtc0VtcHR5IiwgIml0ZW1UYWJsZVdyYXBwZXIiLCAiaXRlbVRhYmxlQm9keSIsICJjb2xsZWN0aW9uVGl0bGUiLCAiY29sbGVjdGlvbkRlc2NyaXB0aW9uIiwgIml0ZW1BZGRCdXR0b24iLCAiaXRlbURldGFpbEVtcHR5IiwgIml0ZW1Gb3JtIiwgIml0ZW1Gb3JtRmllbGRzIiwgIml0ZW1TdGF0dXNCYWRnZSIsICJpdGVtRGVsZXRlQnV0dG9uIiwgIml0ZW1EZWxldGVNb2RhbCIsICJpdGVtRGVsZXRlQ2FuY2VsIiwgIml0ZW1EZWxldGVDb25maXJtIiwgIml0ZW1Gb3JtQ2FuY2VsIiwgIml0ZW1Gb3JtU2F2ZSIsICJzdGF0dXNCYWRnZUJhc2VDbGFzcyIsICJzYWZlU2l0ZVNsdWdWYWx1ZSIsICJjb2xsZWN0aW9ucyIsICJjb2xsZWN0aW9uSXRlbXMiLCAiYWN0aXZlQ29sbGVjdGlvbklkIiwgImFjdGl2ZUl0ZW1JZCIsICJpc0NyZWF0aW5nSXRlbSIsICJpdGVtU2x1Z01hbnVhbGx5RWRpdGVkIiwgInBlbmRpbmdEZWxldGVJdGVtSWQiLCAibm9ybWFsaXplSXRlbVNsdWdJbnB1dCIsICJyYXciLCAiY2xlYW5lZFNlZ21lbnRzIiwgInNlZ21lbnQiLCAiZm9ybWF0SXRlbURhdGUiLCAiZGF0ZSIsICJ1cGRhdGVDb2xsZWN0aW9uSGVhZGVyIiwgInVwZGF0ZUl0ZW1zRW1wdHlNZXNzYWdlIiwgImhpZGVJdGVtRm9ybSIsICJzaG93SXRlbUZvcm0iLCAic3luY0FkZEJ1dHRvblN0YXRlIiwgInN5bmNJdGVtU3RhdHVzQmFkZ2UiLCAiY29sb3JDbGFzcyIsICJyZW5kZXJDb2xsZWN0aW9uTGlzdCIsICJzZXRBY3RpdmVDb2xsZWN0aW9uIiwgInJlbmRlckl0ZW1UYWJsZSIsICJyb3ciLCAic3RhdHVzQ2xhc3NlcyIsICJoYW5kbGVTZWxlY3QiLCAic2VsZWN0SXRlbSIsICJpdGVtSWQiLCAicG9wdWxhdGVJdGVtRm9ybSIsICJwcmVwYXJlTmV3SXRlbUZvcm0iLCAiY29sbGVjdEl0ZW1Gb3JtVmFsdWVzIiwgInNsdWdJbnB1dCIsICJzdW1tYXJ5IiwgImltYWdlIiwgImN0YVRleHQiLCAiY3RhVXJsIiwgImN0YSIsICJzZXRGb3JtU2F2aW5nU3RhdGUiLCAiaXNTYXZpbmciLCAiZmV0Y2hDb2xsZWN0aW9uSXRlbXMiLCAiY3JlYXRlQ29sbGVjdGlvbkl0ZW0iLCAidXBkYXRlQ29sbGVjdGlvbkl0ZW0iLCAiZGVsZXRlQ29sbGVjdGlvbkl0ZW0iLCAibG9hZENvbGxlY3Rpb25zIiwgImRlZmF1bHRJZCIsICJzYXZlZEl0ZW0iLCAiY2xvc2VEZWxldGVNb2RhbCIsICJvcGVuRGVsZXRlTW9kYWwiLCAiZm9ybSIsICJwcm90b2NvbFNlbGVjdCIsICJob3N0SW5wdXQiLCAicG9ydElucHV0IiwgInVzZXJJbnB1dCIsICJwYXNzd29yZElucHV0IiwgInNob3dQYXNzd29yZFRvZ2dsZSIsICJyZW1vdGVQYXRoSW5wdXQiLCAiZmVlZGJhY2siLCAic2F2ZUJ1dHRvbiIsICJ0ZXN0QnV0dG9uIiwgImRlcGxveUJ1dHRvbiIsICJoaXN0b3J5TGlzdCIsICJsb2dCb3giLCAiZGVwbG95QXBpQmFzZSIsICJkZXBsb3lSdW5BcGkiLCAiZGVwbG95TG9nQXBpIiwgImhhc1Bhc3N3b3JkIiwgImJ1c3lBY3Rpb24iLCAic2FuaXRpemVSZW1vdGVQYXRoIiwgInRyaW1tZWQiLCAic2V0RmVlZGJhY2siLCAiYmFzZUNsYXNzIiwgInRvbmVDbGFzcyIsICJpY29uIiwgInNldEJ1c3kiLCAiYWN0aW9uIiwgImRpc2FibGUiLCAic3Bpbm5lciIsICJwb3B1bGF0ZUZvcm0iLCAicmVuZGVySGlzdG9yeSIsICJlbnRyaWVzIiwgImxpIiwgImR1cmF0aW9uIiwgInJlbmRlckxvZ3MiLCAiZmV0Y2hIaXN0b3J5IiwgImZldGNoQ29uZmlnIiwgImJ1aWxkUGF5bG9hZCIsICJwd2QiLCAiZXJyb3JQYXlsb2FkIiwgImRvd25sb2FkQnV0dG9uIiwgImRvd25sb2FkRmVlZGJhY2siLCAiZG93bmxvYWRBcGkiLCAic2V0RG93bmxvYWRGZWVkYmFjayIsICJvcmlnaW5hbENvbnRlbnQiLCAiZXJyb3JEYXRhIiwgImJsb2IiLCAiYSIsICJ0YWJCdXR0b25zIiwgInRhYlBhbmVscyIsICJzaXRlRmVlZGJhY2siLCAidGhlbWVGb3JtIiwgInN3aXRjaFRhYiIsICJzdWJtaXQiLCAiZm9ybURhdGEiLCAiY3VycmVudFBhc3N3b3JkIiwgIm5ld1Bhc3N3b3JkIiwgImNvbmZpcm1QYXNzd29yZCIsICJuYW1lSW5wdXQiLCAibGFuZ1NlbGVjdCIsICJ0YWdsaW5lSW5wdXQiLCAic2V0U2l0ZUZlZWRiYWNrIiwgInNpdGVDb25maWdBcGkiLCAibG9hZFNpdGVDb25maWciLCAidGhlbWVBcGkiLCAiY29sb3JTZWxlY3RzIiwgImhlYWRpbmdTZWxlY3QiLCAiYm9keVNlbGVjdCIsICJyYWRpdXNTbWFsbCIsICJyYWRpdXNNZWRpdW0iLCAicmFkaXVzTGFyZ2UiLCAicHJldmlldyIsICJ0aGVtZUZlZWRiYWNrIiwgImFwcGx5QnV0dG9uIiwgInRhaWx3aW5kSHVlcyIsICJ0YWlsd2luZFNoYWRlcyIsICJ0YWlsd2luZFRva2VucyIsICJoIiwgInMiLCAiZmlsbENvbG9yT3B0aW9ucyIsICJzZWwiLCAidG9rZW4iLCAic2V0VGhlbWVGZWVkYmFjayIsICJzeW5jUHJldmlldyIsICJ0b2tlblRvSGV4IiwgInNoYWRlTnVtIiwgImZhY3RvciIsICJ0b1JnYiIsICJoZXgiLCAiciIsICJnIiwgIm1peCIsICJzZXRDb2xvckZpZWxkcyIsICJ1cGRhdGVDb2xvclNlbGVjdFByZXZpZXciLCAiaW5pdENvbG9yUHJldmlld3MiLCAibG9hZFRoZW1lIiwgInNlb0NvbmZpZ0Zvcm0iLCAiaW5kZXhBbGxDaGVja2JveCIsICJzZW9Db25maWdGZWVkYmFjayIsICJsb2FkU2VvQ29uZmlnIiwgImluZGV4QWxsIiwgImN1cnJlbnRSZXMiLCAiY3VycmVudENvbmZpZyIsICJhbmFseXRpY3NGb3JtIiwgImhlYWRUZXh0YXJlYSIsICJib2R5VGV4dGFyZWEiLCAiYW5hbHl0aWNzRmVlZGJhY2siLCAiYW5hbHl0aWNzU2F2ZUJ1dHRvbiIsICJzZXRBbmFseXRpY3NGZWVkYmFjayIsICJsb2FkQW5hbHl0aWNzQ29uZmlnIiwgImFjY2Vzc2liaWxpdHlGb3JtIiwgImFuaW1hdGlvbnNUb2dnbGUiLCAiY29udHJhc3RUb2dnbGUiLCAiYWNjZXNzaWJpbGl0eUZlZWRiYWNrIiwgImFjY2Vzc2liaWxpdHlTYXZlQnV0dG9uIiwgInNldEFjY2Vzc2liaWxpdHlGZWVkYmFjayIsICJsb2FkQWNjZXNzaWJpbGl0eUNvbmZpZyIsICJhaUNvbmZpZ0Zvcm0iLCAiYXBpS2V5SW5wdXQiLCAibW9kZWxTZWxlY3QiLCAicHJvamVjdFByb21wdFRleHRhcmVhIiwgImVuYWJsZWRDaGVja2JveCIsICJhaUZlZWRiYWNrIiwgImFpU2F2ZUJ1dHRvbiIsICJhaUNvbmZpZ0FwaSIsICJzZXRBSUZlZWRiYWNrIiwgImxvYWRBSUNvbmZpZyIsICJhcGlLZXlWYWx1ZSIsICJncmlkIiwgImVtcHR5U3RhdGUiLCAiY291bnRCYWRnZSIsICJmaWx0ZXJUeXBlIiwgImRldGFpbEVtcHR5IiwgImRldGFpbFBhbmVsIiwgImRldGFpbFByZXZpZXciLCAiZGV0YWlsTmFtZSIsICJkZXRhaWxUeXBlIiwgImRldGFpbFNpemUiLCAiZGV0YWlsUGF0aCIsICJkZXRhaWxVc2VkIiwgImRldGFpbEFsdElucHV0IiwgImRldGFpbFNhdmVCdXR0b24iLCAiZGV0YWlsRGVsZXRlQnV0dG9uIiwgImRlbGV0ZU1vZGFsIiwgImRlbGV0ZUNhbmNlbEJ1dHRvbiIsICJkZWxldGVDb25maXJtQnV0dG9uIiwgInVwbG9hZE9wZW5CdXR0b24iLCAiZmlsZUlucHV0IiwgInVwbG9hZFN0YXR1cyIsICJtZWRpYUFwaUJhc2UiLCAibWVkaWFJdGVtcyIsICJmaWx0ZXJlZEl0ZW1zIiwgImFjdGl2ZU1lZGlhSWQiLCAiaGlnaGxpZ2h0TWVkaWFJZCIsICJwZW5kaW5nVXBsb2FkRmlsZSIsICJ1cGxvYWRJblByb2dyZXNzIiwgImRldGFpbERpcnR5IiwgInVwbG9hZE1vZGUiLCAidXBsb2FkUHJldmlld1VybCIsICJkZXJpdmVHcm91cFR5cGUiLCAiZmlsZW5hbWUiLCAiaXNJbWFnZVR5cGUiLCAiZm9ybWF0VHlwZUxhYmVsIiwgImV4dCIsICJmb3JtYXRGaWxlU2l6ZSIsICJzaXplIiwgInJlc2V0RGV0YWlsUGFuZWwiLCAiY2xlYXJVcGxvYWRTdGF0ZSIsICJ1cGRhdGVEZXRhaWxBY3Rpb25zIiwgInVwZGF0ZUNvdW50QmFkZ2UiLCAicmVuZGVyR3JpZCIsICJzZWxlY3RNZWRpYSIsICJyZW5kZXJVc2VkSW4iLCAic2F2aW5nIiwgIm1lZGlhSWQiLCAic2hvd1VwbG9hZFByZXZpZXciLCAiYXBwbHlGaWx0ZXJzIiwgInR5cGVGaWx0ZXIiLCAibG9hZE1lZGlhIiwgImhhbmRsZUZpbGVTZWxlY3Rpb24iLCAicmVhZEZpbGVBc0Jhc2U2NCIsICJyZXNvbHZlIiwgInJlamVjdCIsICJyZWFkZXIiLCAiYmFzZTY0IiwgInVwbG9hZFNlbGVjdGVkTWVkaWEiLCAiZGVsZXRlQWN0aXZlTWVkaWEiLCAiZGlzYWJsZUJ1dHRvbnMiLCAiZW5hYmxlQnV0dG9ucyIsICJ1cGRhdGVkIiwgImFpQ2hhdFRvZ2dsZSIsICJhaUNoYXRQYW5lbCIsICJhaUNoYXRPdmVybGF5IiwgImFpQ2hhdENsb3NlIiwgImFpQ2hhdENsZWFyIiwgImFpQ2hhdEZvcm0iLCAiYWlDaGF0SW5wdXQiLCAiYWlDaGF0TWVzc2FnZXMiLCAiYWlDaGF0U3RhdHVzIiwgImFpQ2hhdE5vQXBpIiwgImFpUXVpY2tCdXR0b25zIiwgImFpQ2hhdE9wZW4iLCAiYWlJc0xvYWRpbmciLCAiYWlDb25maWdDaGVja2VkIiwgImFpSGFzQXBpS2V5IiwgIm9wZW5BSUNoYXQiLCAiY2hlY2tBSUNvbmZpZyIsICJjbG9zZUFJQ2hhdCIsICJzaXRlU2x1ZyIsICJsb2FkQUlDaGF0SGlzdG9yeSIsICJ3ZWxjb21lTXNnIiwgIm1zZyIsICJhcHBlbmRBSU1lc3NhZ2UiLCAicm9sZSIsICJtc2dEaXYiLCAiZXNjYXBlSHRtbCIsICJmb3JtYXR0ZWRDb250ZW50IiwgImZvcm1hdEFJUmVzcG9uc2UiLCAic2hvd0FJTG9hZGluZyIsICJsb2FkaW5nRGl2IiwgImhpZGVBSUxvYWRpbmciLCAiZm9ybWF0dGVkIiwgImxhbmciLCAiY29kZSIsICJkaXYiLCAic2VuZEFJTWVzc2FnZSIsICJhcHBlbmRFZGl0UHJvcG9zYWwiLCAiYXBwZW5kVGhlbWVQcm9wb3NhbCIsICJwcm9wb3NhbCIsICJwcm9wb3NhbERpdiIsICJjaGFuZ2VzSHRtbCIsICJoYW5kbGVBcHBseUVkaXQiLCAiaGFuZGxlUmVqZWN0RWRpdCIsICJjb2xvcnNIdG1sIiwgImNvbG9ycyIsICJnZXRUYWlsd2luZENvbG9yQ3NzIiwgInR5cG9IdG1sIiwgInR5cG8iLCAiaGFuZGxlQXBwbHlUaGVtZSIsICJjb2xvck5hbWUiLCAicHJvcG9zYWxJZCIsICJwcm9wb3NhbENhcmQiLCAiY2xlYXJBSUhpc3RvcnkiLCAicXVpY2tQcm9tcHRzIiwgInByb21wdCJdCn0K
