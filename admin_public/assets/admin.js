(()=>{document.addEventListener("DOMContentLoaded",()=>{var vn;console.log("[admin] Atelier charg\xE9");let xo=document.querySelector("[data-logout]");xo&&xo.addEventListener("click",async()=>{xo.disabled=!0;try{await fetch("/api/logout",{method:"POST",headers:{"Content-Type":"application/json"}})}catch(s){console.error("[admin] Impossible de se d\xE9connecter",s)}finally{window.location.href="/admin/index.html"}});let Ss=document.querySelector("[data-admin-sidebar]"),vt=document.querySelector("[data-admin-sidebar-overlay]"),tn=document.querySelectorAll("[data-admin-sidebar-toggle]"),zn=document.querySelectorAll("[data-admin-sidebar-close]"),wo=document.body,Os=!1,Js=()=>{if(!Ss)return;if(window.matchMedia("(min-width: 1024px)").matches){Ss.classList.remove("hidden"),vt==null||vt.classList.add("hidden"),wo.classList.remove("overflow-hidden");return}Os?(Ss.classList.remove("hidden"),vt==null||vt.classList.remove("hidden"),wo.classList.add("overflow-hidden")):(Ss.classList.add("hidden"),vt==null||vt.classList.add("hidden"),wo.classList.remove("overflow-hidden"))},Vn=()=>{Os=!0,Js()},So=()=>{Os=!1,Js()};Ss&&tn.length>0&&(tn.forEach(s=>{s.addEventListener("click",Vn)}),zn.forEach(s=>{s.addEventListener("click",So)}),vt==null||vt.addEventListener("click",So),window.addEventListener("resize",Js),window.addEventListener("keydown",s=>{s.key==="Escape"&&Os&&So()}),Js());let sn="clower:currentSite",on="clower:currentSiteName",ee={slug:null,name:""};(()=>{try{let s=window.localStorage.getItem(sn);ee.slug=s?Tt(Ae(s)):null,ee.name=window.localStorage.getItem(on)||""}catch{ee.slug=null,ee.name=""}})();let Lo=document.querySelectorAll("[data-site-card]"),On=document.querySelectorAll("[data-site-select]"),Ls=document.querySelector("[data-current-site-name]"),nn=document.querySelector("[data-workspace-site-name]"),rn=document.querySelector("[data-workspace-back-name]"),At=document.querySelector("[data-workspace-back-modal]"),Jn=document.querySelectorAll("[data-workspace-back]"),Wn=document.querySelectorAll("[data-workspace-back-cancel]"),ko=document.querySelector("[data-workspace-back-confirm]"),Gn=document.querySelectorAll("[data-workspace-tab]"),Co=document.querySelector("[data-site-toast]"),an=document.querySelector("[data-site-toast-message]"),Zn=document.querySelectorAll("[data-site-create]"),dt=document.querySelector("[data-site-modal]"),at=document.querySelector("[data-site-form]"),Ye=at==null?void 0:at.querySelector('input[name="siteName"]'),je=at==null?void 0:at.querySelector('input[name="siteSlug"]'),Qe=document.querySelector("[data-site-slug-error]"),Xe=document.querySelector("[data-site-modal-error]"),Kn=document.querySelectorAll("[data-site-modal-cancel]"),as=document.querySelector("[data-site-modal-submit]"),J=ir(),Ws=!1,Eo=null,ln='a[href], button:not([disabled]), textarea, input, select, [tabindex]:not([tabindex="-1"])',is=[],cn=s=>Array.from(s.querySelectorAll(ln)).filter(n=>!n.hasAttribute("disabled")&&!n.getAttribute("aria-hidden")),_n=s=>{if(!is.length)return;let n=is[is.length-1],{modal:i,onClose:d}=n;if(s.key==="Escape"){s.preventDefault(),d==null||d();return}if(s.key!=="Tab")return;let f=cn(i);if(!f.length)return;let y=f[0],V=f[f.length-1];s.shiftKey?document.activeElement===y&&(s.preventDefault(),V.focus()):document.activeElement===V&&(s.preventDefault(),y.focus())};document.addEventListener("keydown",_n);let ks=(s,n)=>{if(!s)return;is.push({modal:s,onClose:n,trigger:document.activeElement instanceof HTMLElement?document.activeElement:null});let i=cn(s);window.setTimeout(()=>{var d,f;(f=(d=i[0]||s).focus)==null||f.call(d)},0)},Cs=s=>{var d,f;let n=is.findIndex(y=>y.modal===s);if(n===-1)return;let[i]=is.splice(n,1);(f=(d=i.trigger)==null?void 0:d.focus)==null||f.call(d)},te=document.querySelector("[data-mobile-panels-overlay]"),de=document.querySelector("[data-mobile-panels-layer]"),bt={left:document.querySelector('[data-mobile-panel="left"]'),right:document.querySelector('[data-mobile-panel="right"]')},Zt=null;de!=null&&de.parentElement&&(Zt=document.createComment("mobile-panels-layer-placeholder"),de.parentElement.insertBefore(Zt,de));let Kt=null;(vn=bt.right)!=null&&vn.parentElement&&(Kt=document.createComment("mobile-panel-right-placeholder"),bt.right.parentElement.insertBefore(Kt,bt.right));let dn=document.querySelectorAll("[data-mobile-panel-toggle]"),Yn=document.querySelectorAll("[data-mobile-panel-close]"),Es={left:null,right:null},kt=null,_t=()=>window.matchMedia("(min-width: 1024px)").matches,Qn=()=>{if(!(!de||!Zt)){if(_t()){let s=Zt.parentElement;if(!s)return;(de.parentElement!==s||Zt.nextSibling!==de)&&s.insertBefore(de,Zt.nextSibling),de.dataset.mobilePanelPlacement="sidebar";return}de.parentElement!==document.body&&(document.body.appendChild(de),de.dataset.mobilePanelPlacement="overlay")}},Xn=()=>{let s=bt.right;if(!(!s||!Kt)){if(_t()){let n=Kt.parentElement;if(!n)return;(s.parentElement!==n||Kt.nextSibling!==s)&&n.insertBefore(s,Kt.nextSibling),s.dataset.mobilePanelPlacement="sidebar";return}if(de){let n=bt.left;n&&n.parentElement===de?(s.parentElement!==de||s.previousSibling!==n)&&de.insertBefore(s,n.nextSibling):s.parentElement!==de&&de.appendChild(s),s.dataset.mobilePanelPlacement="overlay"}else s.parentElement!==document.body&&(document.body.appendChild(s),s.dataset.mobilePanelPlacement="overlay")}},un=()=>{Qn(),Xn()};un();let Gs={};Object.entries(bt).forEach(([s,n])=>{if(!n)return;let i=Number(window.getComputedStyle(n).zIndex)||0;Gs[s]=i});let er=(Object.values(Gs).reduce((s,n)=>Math.max(s,n||0),0)||150)+5,Zs=(s,n)=>{let i=bt[s];if(i){if(_t()){i.style.removeProperty("z-index");return}n?i.style.zIndex=String(er):Gs[s]?i.style.zIndex=String(Gs[s]):i.style.removeProperty("z-index")}},Nt=(s,n,i)=>{!s||!n||n.split(" ").map(d=>d.trim()).filter(Boolean).forEach(d=>s.classList[i](d))},qo=(s,n)=>{if(!s)return;let i=s.dataset.mobilePanelHidden||"",d=s.dataset.mobilePanelVisible||"translate-x-0";n?(Nt(s,d,"remove"),Nt(s,i,"add"),s.classList.add("pointer-events-none"),s.classList.remove("pointer-events-auto"),s.setAttribute("aria-hidden","true"),s.dataset.mobilePanelOpen="false"):(Nt(s,i,"remove"),Nt(s,d,"add"),s.classList.remove("pointer-events-none"),s.classList.add("pointer-events-auto"),s.setAttribute("aria-hidden","false"),s.dataset.mobilePanelOpen="true")},qs=(s=kt)=>{var d;if(!s||_t())return;let n=bt[s];if(!n)return;Zs(s,!1),qo(n,!0);let i=Es[s];i&&i.setAttribute("aria-expanded","false"),Es[s]=null,kt===s&&(te==null||te.classList.add("hidden"),te==null||te.classList.remove("pointer-events-auto"),te==null||te.classList.add("pointer-events-none"),te==null||te.setAttribute("aria-hidden","true"),de==null||de.classList.add("pointer-events-none"),document.body.classList.remove("overflow-hidden"),(d=i==null?void 0:i.focus)==null||d.call(i),kt=null)},tr=(s,n)=>{if(!s||_t())return;let i=bt[s];if(!i)return;kt&&kt!==s&&qs(kt),qo(i,!1),Zs(s,!0),kt=s,Es[s]=n||null,n&&n.setAttribute("aria-expanded","true"),te==null||te.classList.remove("hidden","pointer-events-none"),te==null||te.classList.add("pointer-events-auto"),te==null||te.setAttribute("aria-hidden","false"),de==null||de.classList.remove("pointer-events-none"),document.body.classList.add("overflow-hidden");let d=i.querySelector(ln);window.setTimeout(()=>{var f;(f=d==null?void 0:d.focus)==null||f.call(d)},0)},mn=()=>{un(),_t()?(te==null||te.classList.add("hidden"),de==null||de.classList.add("pointer-events-none"),document.body.classList.remove("overflow-hidden"),kt=null,Object.keys(bt).forEach(s=>{let n=bt[s];if(!n)return;Zs(s,!1),n.classList.remove("pointer-events-none"),n.classList.add("pointer-events-auto"),n.setAttribute("aria-hidden","false"),n.dataset.mobilePanelOpen="false";let i=Es[s];i==null||i.setAttribute("aria-expanded","false"),Es[s]=null})):(Object.entries(bt).forEach(([s,n])=>{n&&n.dataset.mobilePanelOpen!=="true"&&(qo(n,!0),Zs(s,!1))}),kt||(te==null||te.classList.add("hidden","pointer-events-none"),te==null||te.classList.remove("pointer-events-auto"),te==null||te.setAttribute("aria-hidden","true"),de==null||de.classList.add("pointer-events-none")))};dn.length>0&&(dn.forEach(s=>{let n=s.dataset.mobilePanelToggle;s.addEventListener("click",()=>{kt===n?qs(n):tr(n,s)})}),Yn.forEach(s=>{let n=s.dataset.mobilePanelClose;s.addEventListener("click",()=>qs(n))}),te==null||te.addEventListener("click",()=>qs()),window.addEventListener("keydown",s=>{s.key==="Escape"&&kt&&!_t()&&qs()}),window.addEventListener("resize",mn),mn());let M=s=>{!Co||!an||(an.textContent=s,Co.classList.remove("hidden"),Eo&&clearTimeout(Eo),Eo=setTimeout(()=>{Co.classList.add("hidden")},2500))};function Tt(s){if(!s)return"";let n=`${s}`.trim();if(!n)return"";let i=n.replace(/^\/+/,"");return i?`/${i}`:"/"}function Ae(s){return s?`${s}`.replace(/^\/+/,""):""}let Ks=(s,n)=>{let i=s?Tt(s):null;try{i&&(window.localStorage.setItem(sn,i),ee.slug=i),typeof n=="string"&&n.length>0&&(window.localStorage.setItem(on,n),ee.name=n)}catch{ee.slug=i||ee.slug,ee.name=n||ee.name}},fn=s=>{Ls&&s&&(Ls.textContent=s),nn&&s&&(nn.textContent=s),rn&&s&&(rn.textContent=s)},Ao=s=>{Gn.forEach(n=>{let i=n.dataset.workspaceTab;if(!i)return;if(!s){n.href="#",n.classList.add("pointer-events-none","opacity-50","text-slate-400"),n.setAttribute("aria-disabled","true");return}let d=encodeURIComponent(Ae(s));n.href=`/admin/site/${d}/${i}`,n.classList.remove("pointer-events-none","opacity-50","text-slate-400"),n.removeAttribute("aria-disabled")})},_s=(s,n={})=>{if(!s)return;let i=Tt(s),d=n.siteName||ee.name||(Ls==null?void 0:Ls.dataset.defaultSiteName)||"";Lo.forEach(y=>{let H=Tt(y.dataset.siteCard||"")===i,O=y.querySelector("[data-site-active-badge]");H?(y.classList.add("border-[#9C6BFF]","ring-2","ring-[#9C6BFF]","shadow-md"),y.classList.remove("border-slate-200"),O==null||O.classList.remove("hidden"),d=y.dataset.siteName||d):(y.classList.remove("border-[#9C6BFF]","ring-2","ring-[#9C6BFF]","shadow-md"),y.classList.add("border-slate-200"),O==null||O.classList.add("hidden"))}),n.persist!==!1&&Ks(i,n.siteName||d);let f=n.siteName||d;fn(f),Ao(i)},sr=async(s,n)=>{let i=Tt(s);try{let d=await fetch("/api/sites/select",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({slug:i})});if(!d.ok){let O=await d.json().catch(()=>({}));M(O.message||"Impossible de s\xE9lectionner ce site.");return}let f=await d.json().catch(()=>({})),y=Tt(f.slug||i),V=f.name||n;Ks(y,V),_s(y,{siteName:V,persist:!1});let H=encodeURIComponent(Ae(y));window.location.href=`/admin/site/${H}/design`}catch(d){console.error("[admin] Impossible de s\xE9lectionner le site",d),M("Erreur inattendue lors de la s\xE9lection.")}},or=async()=>{try{let s=await fetch("/api/sites/current",{credentials:"same-origin"});if(!s.ok){s.status===404&&J&&(window.location.href="/admin/sites");return}let n=await s.json(),i=Tt(n.slug);Ks(i,n.name),_s(i,{siteName:n.name,persist:!1})}catch(s){console.warn("[admin] Impossible de r\xE9cup\xE9rer le site actif",s)}};(()=>{if(ee.slug){_s(ee.slug,{siteName:ee.name,persist:!1});return}let s=document.querySelector('[data-site-card][data-site-default="true"]')||Lo[0];s&&_s(s.dataset.siteCard,{siteName:s.dataset.siteName||"",persist:!1})})(),or(),J?Ao(J.slugValue):ee.slug&&Ao(ee.slug),On.forEach(s=>{s.addEventListener("click",()=>{if(s.disabled)return;let n=s.dataset.siteSelect,i=s.dataset.siteSelectName||"Ce site";n&&(s.disabled=!0,sr(n,i).finally(()=>{s.disabled=!1}))})});let Yt=s=>(s||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),nr=s=>{let n=Yt(s||"");return n?`/${n}`:""},rr=()=>{dt&&(dt.classList.remove("hidden"),dt.classList.add("flex"),Ws=!1,at==null||at.reset(),Qe&&(Qe.textContent=""),Xe&&(Xe.textContent=""),je&&Ye&&(je.value=Yt(Ye.value)),ks(dt,As),window.setTimeout(()=>{Ye==null||Ye.focus()},0))},As=()=>{dt&&(dt.classList.add("hidden"),dt.classList.remove("flex"),Ws=!1,at==null||at.reset(),Qe&&(Qe.textContent=""),Xe&&(Xe.textContent=""),Cs(dt))};Zn.forEach(s=>{s.addEventListener("click",rr)}),Kn.forEach(s=>{s.addEventListener("click",As)}),dt==null||dt.addEventListener("click",s=>{s.target===dt&&As()}),Ye==null||Ye.addEventListener("input",()=>{je&&((!Ws||je.value.trim().length===0)&&(je.value=Yt(Ye.value)),Qe&&(Qe.textContent=""),Xe&&(Xe.textContent=""))}),je==null||je.addEventListener("focus",()=>{let s=(je==null?void 0:je.value)||"",n=(Ye==null?void 0:Ye.value)||"";!s.trim()&&n.trim()&&(je.value=Yt(n))}),je==null||je.addEventListener("input",()=>{Ws=!0,Qe&&(Qe.textContent=""),Xe&&(Xe.textContent="")});let ar=()=>new Set(Array.from(Lo).map(s=>Tt(s.dataset.siteCard||"")));at==null||at.addEventListener("submit",async s=>{if(s.preventDefault(),console.log("[admin] Form submit - siteNameInput:",Ye,"siteSlugInput:",je),!Ye||!je){console.log("[admin] Missing inputs, aborting");return}let n=(Ye.value||"").trim(),i=(je.value||"").trim();console.log("[admin] nameValue:",n,"slugValue:",i),!i&&n&&(i=Yt(n),je.value=i,console.log("[admin] Auto-generated slug:",i));let d=nr(i);if(console.log("[admin] normalizedSlug:",d),!n){console.log("[admin] Name validation failed"),Xe&&(Xe.textContent="Le nom du site est requis."),Ye.focus();return}if(!d){console.log("[admin] Slug validation failed"),Qe&&(Qe.textContent="Le slug ne peut pas \xEAtre vide ou contenir uniquement des caract\xE8res sp\xE9ciaux."),je.focus();return}if(ar().has(d)){Qe&&(Qe.textContent="Ce slug est d\xE9j\xE0 utilis\xE9.");return}Qe&&(Qe.textContent=""),Xe&&(Xe.textContent=""),as&&(as.disabled=!0,as.textContent="Cr\xE9ation...");try{let y=await fetch("/api/sites",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:n,slug:d})});if(!y.ok){let G=await y.json().catch(()=>({})),w=G.message||"Impossible de cr\xE9er ce site.";Xe&&(Xe.textContent=w),G.field==="slug"&&Qe&&(Qe.textContent=w);return}let V=await y.json(),H=Tt((V==null?void 0:V.slug)||d),O=(V==null?void 0:V.name)||n;Ks(H,O),As();let X=encodeURIComponent(Ae(H));window.location.href=`/admin/site/${X}/design`}catch(y){console.error("[admin] Impossible de cr\xE9er le site",y),Xe&&(Xe.textContent="Erreur inattendue. R\xE9essaie dans un instant.")}finally{as&&(as.disabled=!1,as.textContent="Cr\xE9er")}}),window.addEventListener("keydown",s=>{s.key==="Escape"&&(dt&&!dt.classList.contains("hidden")&&As(),At&&!At.classList.contains("hidden")&&Ys(),blockDeleteModal&&!blockDeleteModal.classList.contains("hidden")&&closeBlockDeleteModal(),blockLibraryOpen&&closeBlockLibrary())});function ir(){let s=window.location.pathname.match(/^\/admin\/site\/([^/]+)(?:\/([^/]+))?/);return s?{slugPart:decodeURIComponent(s[1]),slugValue:Tt(decodeURIComponent(s[1])),section:s[2]||"design"}:null}function lr(){return document.querySelector("[data-page-list]")?"design":document.querySelector("[data-collection-list]")?"content":document.querySelector("[data-media-grid]")?"media":document.querySelector("[data-deploy-form]")?"deploy":null}function cr(){if(!At){window.location.href="/admin/sites";return}At.classList.remove("hidden"),At.classList.add("flex"),ks(At,Ys)}function Ys(){At&&(At.classList.add("hidden"),At.classList.remove("flex"),Cs(At))}Jn.forEach(s=>{s.addEventListener("click",cr)}),Wn.forEach(s=>{s.addEventListener("click",Ys)}),ko==null||ko.addEventListener("click",()=>{Ys(),window.location.href="/admin/sites"});let Qt="repeating-conic-gradient(#ccc 0% 25%, white 0% 50%) 50% / 8px 8px",dr=s=>{if(!s||typeof s!="string")return null;let n=s.trim().toLowerCase();if(n==="transparent")return null;let i=n.match(/^rgb\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*\\)$/);if(i)return[Math.min(255,Math.max(0,Number(i[1]))),Math.min(255,Math.max(0,Number(i[2]))),Math.min(255,Math.max(0,Number(i[3])))];let d=n.match(/^#([a-f0-9]{3}|[a-f0-9]{6})$/);if(d){let f=d[1],y=f.length===3?f.split("").map(X=>`${X}${X}`).join(""):f,V=parseInt(y.slice(0,2),16),H=parseInt(y.slice(2,4),16),O=parseInt(y.slice(4,6),16);return[V,H,O]}return null},To=s=>{let n=dr(s);if(!n)return"#0f172a";let[i,d,f]=n;return(.2126*i+.7152*d+.0722*f)/255>.62?"#0f172a":"#ffffff"},Qs=s=>{s&&Array.from(s.options).forEach(n=>{var d;let i=(d=n.dataset)==null?void 0:d.color;if(i){if(i==="transparent"){n.style.background=Qt,n.style.color="#475569";return}n.style.background=i,n.style.color=To(i)}})},Ts=(J==null?void 0:J.section)||lr();Ts==="design"&&ur(),Ts==="content"&&mr(),Ts==="media"&&gr(),Ts==="deploy"&&fr(),Ts==="settings"&&pr(),J&&ee.name&&fn(ee.name);function ur(){let s=document.querySelectorAll("[data-page-list]");if(s.length===0)return;let n=document.querySelector("[data-active-page-title]"),i=document.querySelector("[data-active-page-slug]"),d=document.querySelector("[data-page-preview-tags]"),f=document.querySelector("[data-page-preview-frame]"),y=document.querySelector("[data-page-preview-frame-wrapper]"),V=document.querySelector("[data-page-preview-shell]"),H=document.querySelectorAll("[data-preview-view-button]"),O=document.querySelector("[data-page-preview-current-view]"),X=document.querySelector("[data-preview-open]"),G=document.querySelector("[data-preview-status]"),w=document.querySelector("[data-preview-highlight]"),T=document.querySelector("[data-seo-toggle]"),B=document.querySelector("[data-seo-panel]"),P=document.querySelector("[data-seo-close]"),j=document.querySelector("[data-seo-form]"),U=document.querySelector("[data-seo-title]"),L=document.querySelector("[data-seo-description]"),S=document.querySelector("[data-seo-indexed]"),b=document.querySelector("[data-seo-feedback]"),A=document.querySelector("[data-seo-save]"),q=document.querySelector("[data-page-accessibility-toggle]"),D=document.querySelector("[data-page-accessibility-panel]"),W=document.querySelector("[data-page-accessibility-close]"),_=document.querySelector("[data-page-accessibility-form]"),Z=document.querySelector("[data-page-accessibility-nav]"),he=document.querySelector("[data-page-accessibility-main]"),Le=document.querySelector("[data-page-accessibility-feedback]"),Ve=document.querySelector("[data-page-accessibility-save]"),ve=document.querySelector("[data-page-props-toggle]"),K=document.querySelector("[data-page-props-panel]"),Ie=document.querySelector("[data-page-props-close]"),Re=document.querySelector("[data-page-props-form]"),$=document.querySelector("[data-page-name]"),k=document.querySelector("[data-page-title-input]"),z=document.querySelector("[data-page-slug-input]"),fe=document.querySelector("[data-page-description]"),C=document.querySelector("[data-page-props-feedback]"),x=document.querySelector("[data-page-props-save]"),E=document.querySelector("[data-blocks-list]"),se=document.querySelector("[data-blocks-empty]"),Y=document.querySelector("[data-block-count]"),pe=document.querySelector("[data-block-library-toggle]"),ne=document.querySelector("[data-block-library]"),be=document.querySelectorAll("[data-block-add]"),ie=document.querySelector("[data-block-delete-modal]"),Ne=document.querySelector("[data-block-delete-confirm]"),Pe=document.querySelector("[data-block-delete-cancel]"),Se=document.querySelector("[data-block-detail-empty]"),Ee=document.querySelector("[data-block-detail-status]"),Be=document.querySelector("[data-block-editor]"),Dt=document.querySelector("[data-block-editor-block-name]"),h=document.querySelector("[data-block-editor-block-type]"),I=document.querySelector("[data-block-editor-unsupported]"),g=document.querySelector("[data-block-form]"),oe=(e,t)=>{if(e){if(t==="transparent"){e.style.background=Qt,e.style.borderColor="#cbd5f5",e.style.boxShadow="";return}e.style.background=t,e.style.borderColor=t,e.style.boxShadow="0 0 0 1px rgba(15,23,42,0.15)"}},It=(e,t)=>{if(!e||!t||Array.from(e.options).some(r=>r.value===t))return;let o=document.createElement("option");o.value=t,o.textContent="Couleur personnalis\xE9e",o.dataset.color=t,t==="transparent"?(o.style.background=Qt,o.style.color="#475569"):(o.style.background=t,o.style.color=To(t)),e.appendChild(o),Qs(e)},Xt=e=>{var u,p,R;if(!e)return;let t=e.options[e.selectedIndex],o=((u=t==null?void 0:t.dataset)==null?void 0:u.color)||"#ffffff",r=(p=e.closest(".relative"))==null?void 0:p.querySelector("[data-color-preview]");r&&(o==="transparent"?r.style.background=Qt:r.style.background=o);let l=(R=e.closest(".relative"))==null?void 0:R.querySelector("[data-theme-color-chip]");oe(l,o)},so=g?Array.from(g.querySelectorAll("[data-theme-color-select]")):[],Mo=e=>{var o;return(((o=e==null?void 0:e.getAttribute)==null?void 0:o.call(e,"name"))||"").endsWith("-bg")},$s=[{label:"Couleur primaire",value:"theme-primary",cssVar:"--color-primary"},{label:"Couleur secondaire",value:"theme-secondary",cssVar:"--color-secondary"},{label:"Couleur accent",value:"theme-accent",cssVar:"--color-accent"},{label:"Fond",value:"theme-background",cssVar:"--color-background"},{label:"Texte",value:"theme-text",cssVar:"--color-text"}],bn=(e,t="#ffffff")=>{if(!e)return t;let o=getComputedStyle(document.documentElement).getPropertyValue(e);return o?o.trim():t},oo=e=>{e&&(e.innerHTML="",$s.forEach(({label:t,value:o,cssVar:r})=>{let l=document.createElement("option");l.value=o;let u=bn(r);l.textContent=t,l.dataset.color=u,u==="transparent"?(l.style.background=Qt,l.style.color="#475569"):(l.style.background=u,l.style.color=To(u)),e.appendChild(l)}),e.value=$s[0].value,e.removeAttribute("disabled"),Mo(e)&&Qs(e),Xt(e))},ut=()=>so.forEach(oo);ut(),document.addEventListener("ai-theme-updated",ut);let Bt=g?Array.from(g.querySelectorAll("[data-editor-section]")):[],De=document.querySelectorAll("[data-block-tab]"),Oe="content",He=document.querySelectorAll("[data-left-tab]"),mt=document.querySelector('[data-left-panel="blocks"]'),zt=document.querySelector('[data-left-panel="pages"]'),Vt="blocks",Is=e=>{Vt=e,He.forEach(t=>{let o=t.dataset.leftTab===e;t.setAttribute("aria-selected",o?"true":"false"),o?(t.classList.add("text-[#9C6BFF]"),t.classList.remove("text-slate-500","hover:text-slate-700"),t.classList.add("after:absolute","after:bottom-0","after:left-0","after:right-0","after:h-0.5","after:bg-[#9C6BFF]")):(t.classList.remove("text-[#9C6BFF]"),t.classList.add("text-slate-500","hover:text-slate-700"),t.classList.remove("after:absolute","after:bottom-0","after:left-0","after:right-0","after:h-0.5","after:bg-[#9C6BFF]"))}),mt&&mt.classList.toggle("hidden",e!=="blocks"),zt&&zt.classList.toggle("hidden",e!=="pages")};He.forEach(e=>{e.addEventListener("click",()=>{Is(e.dataset.leftTab)})});let Bs=document.querySelector("[data-block-form-actions]"),Ot=document.querySelector("[data-block-form-autosave]"),cs=e=>{Oe=e,De.forEach(o=>{let r=o.dataset.blockTab===e;o.setAttribute("aria-selected",r?"true":"false"),r?(o.classList.add("text-[#9C6BFF]"),o.classList.remove("text-slate-500","hover:text-slate-700"),o.classList.add("after:absolute","after:bottom-0","after:left-0","after:right-0","after:h-0.5","after:bg-[#9C6BFF]")):(o.classList.remove("text-[#9C6BFF]"),o.classList.add("text-slate-500","hover:text-slate-700"),o.classList.remove("after:absolute","after:bottom-0","after:left-0","after:right-0","after:h-0.5","after:bg-[#9C6BFF]"))});let t=g==null?void 0:g.querySelector("[data-editor-section]:not(.hidden)");t&&t.querySelectorAll("[data-block-panel]").forEach(r=>{r.dataset.blockPanel===e?r.classList.remove("hidden"):r.classList.add("hidden")}),Bs&&Ot&&(e==="content"?(Bs.classList.remove("hidden"),Ot.classList.add("hidden")):(Bs.classList.add("hidden"),Ot.classList.remove("hidden")))};De.forEach(e=>{e.addEventListener("click",()=>{cs(e.dataset.blockTab)})});let Te=g==null?void 0:g.querySelector('[name="collection-grid-collection"]'),es=g==null?void 0:g.querySelector("[data-collection-selection-info]"),Jt=document.querySelector("[data-block-form-cancel]"),ds=g==null?void 0:g.querySelector("[data-group-preview-mobile]"),js=g==null?void 0:g.querySelector("[data-group-preview-desktop]"),gt=g==null?void 0:g.querySelector("[data-collection-preview-mobile]"),no=g==null?void 0:g.querySelector("[data-collection-preview-desktop]"),us={hero:{section:"hero",labelField:"title",descriptionField:"subtitle",fields:{title:"hero-title",subtitle:"hero-subtitle",ctaLabel:"hero-cta-label",ctaUrl:"hero-cta-url",image:"hero-image",layout:"hero-layout",imageWidth:"hero-image-width",imageHeight:"hero-image-height",imageObjectFit:"hero-image-object-fit",height:"hero-height",contentAlign:"hero-content-align",horizontalAlign:"hero-horizontal-align",textAlign:"hero-text-align",overlay:"hero-overlay",titleSize:"hero-title-size",bg:"hero-bg",borderRadius:"hero-border-radius",shadow:"hero-shadow",border:"hero-border"}},paragraphe:{section:"paragraph",labelField:"title",descriptionField:"content",fields:{title:"paragraph-title",content:"paragraph-content",align:"paragraph-align",titleSize:"paragraph-title-size",textSize:"paragraph-text-size",spacing:"paragraph-spacing",bg:"paragraph-bg",borderRadius:"paragraph-border-radius",shadow:"paragraph-shadow",border:"paragraph-border"}},image:{section:"image",labelField:"alt",fields:{src:"image-src",alt:"image-alt",showCaption:"image-caption-toggle",caption:"image-caption",rounded:"image-rounded",shadow:"image-shadow",maxWidth:"image-max-width",height:"image-height",objectFit:"image-object-fit",align:"image-align",bg:"image-bg",borderRadius:"image-border-radius",border:"image-border"}},groupe:{section:"group",fields:{columnsMobile:"group-columns-mobile",columnsDesktop:"group-columns-desktop",gap:"group-gap",itemsAlign:"group-items-align",mobileLayout:"group-mobile-layout",bg:"group-bg",borderRadius:"group-border-radius",shadow:"group-shadow",border:"group-border"}},collectiongrid:{section:"collection",fields:{collectionId:"collection-grid-collection",limit:"collection-grid-limit",columnsMobile:"collection-columns-mobile",columnsDesktop:"collection-columns-desktop",gap:"collection-gap",itemsAlign:"collection-items-align",cardRounded:"collection-card-rounded",mobileLayout:"collection-mobile-layout",bg:"collection-bg",borderRadius:"collection-border-radius",shadow:"collection-shadow",border:"collection-border"}},form:{section:"form",labelField:"formTitle",fields:{formTitle:"form-title",actionUrl:"form-action-url",method:"form-method",serviceName:"form-service-name",submitLabel:"form-submit-label",successMessage:"form-success-message",maxWidth:"form-max-width",align:"form-align",buttonRounded:"form-button-rounded",spacing:"form-spacing",bg:"form-bg",borderRadius:"form-border-radius",shadow:"form-shadow",border:"form-border"}},newsletterembed:{section:"newsletter",labelField:"title",fields:{title:"newsletter-title",serviceName:"newsletter-service-name",embedCode:"newsletter-embed-code",maxWidth:"newsletter-max-width",align:"newsletter-align",padding:"newsletter-padding",bg:"newsletter-bg",borderRadius:"newsletter-border-radius",shadow:"newsletter-shadow",border:"newsletter-border"}}},Fo={texte:"paragraphe",paragraph:"paragraphe",paragraphs:"paragraphe",paragraphes:"paragraphe",text:"paragraphe",hero:"hero",image:"image",groupe:"groupe",group:"groupe",collection:"collectiongrid",collectiongrid:"collectiongrid","collection-grid":"collectiongrid",form:"form",formulaire:"form",contact:"form",newsletterembed:"newsletterembed",newsletter:"newsletterembed",embed:"newsletterembed"},No={animation:"anim-type",animationDelay:"anim-delay",animationDuration:"anim-duration"};Object.values(us).forEach(e=>{e.fields={...e.fields,...No}});let Ps=(e,t)=>{if(!ds||!js)return;let o=r=>Array.from({length:Number(r)||1}).map(()=>'<span class="block h-2 w-full rounded-full bg-slate-300"></span>').join("");ds.innerHTML=o(e),js.innerHTML=o(t)},ro=(e,t)=>{if(!gt||!no)return;let o=r=>Array.from({length:Number(r)||1}).map(()=>'<span class="block h-2 w-full rounded-full bg-violet-300"></span>').join("");gt.innerHTML=o(e),no.innerHTML=o(t)},ms=async()=>{if(!St)return[];let e=await fetch(St,{headers:{Accept:"application/json"}});if(!e.ok)throw new Error("Impossible de charger les pages.");let t=await e.json().catch(()=>[]);return Array.isArray(t)?t:[]},Do=async({name:e,title:t,slug:o})=>{if(!St)throw new Error("Site inconnu.");let r=await fetch(St,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,title:t,slug:o})});if(!r.ok){let l=await r.json().catch(()=>({}));throw new Error(l.message||"Impossible de cr\xE9er la page.")}return r.json().catch(()=>({}))},ts=async e=>{if(!(!St||!(e!=null&&e.id)))try{let t=await fetch(`${St}/${encodeURIComponent(e.id)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){let r=await t.json().catch(()=>({}));throw new Error(r.message||"Impossible de sauvegarder la page.")}let o=await t.json().catch(()=>({}));if(o!=null&&o.id){let r=ns(o);return ae=ae.map(l=>l.id===r.id?r:l),(m==null?void 0:m.id)===r.id&&(m=r),r}return o}catch(t){console.error("[design] Save page failed",t),M(t.message||"Sauvegarde impossible.")}},Ho=async()=>{if(!St){ae=[],Me=null,m=null,Wt(ae,Me),Lt(null),Se==null||Se.classList.remove("hidden"),Be==null||Be.classList.add("hidden");return}try{let e=await ms();if(ae=(Array.isArray(e)?e:[]).map(t=>ns(t)),ae.length===0){Me=null,m=null,Wt(ae,Me),Lt(null),Se==null||Se.classList.remove("hidden"),Be==null||Be.classList.add("hidden"),f&&(f.srcdoc=a());return}Me=Pr(ae),qt(Me)}catch(e){console.error("[design] Impossible de charger les pages",e),M("Impossible de charger les pages.")}},Uo=e=>(e||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),jt=e=>{if(!e)return null;let t=Uo(e.type),o=Fo[t]||t;return us[o]||null},ao=e=>{var r,l,u,p,R,ue,Fe;if(!g||!Be)return;e&&!e.settings&&(e.settings={});let t=jt(e);if(Dt&&(Dt.textContent=(e==null?void 0:e.label)||"Bloc"),h&&(h.textContent=(e==null?void 0:e.type)||"Bloc"),!t){g.classList.add("hidden"),I==null||I.classList.remove("hidden"),g.dataset.blockId="";return}if(I==null||I.classList.add("hidden"),g.classList.remove("hidden"),g.reset(),g.dataset.blockId=e.id,Bt.forEach(Ce=>{Ce.dataset.editorSection===t.section?Ce.classList.remove("hidden"):Ce.classList.add("hidden")}),cs("content"),t.section==="collection"){let Ce=e.collectionId||((r=e.settings)==null?void 0:r.collectionId)||"";yo(Ce)}if(Object.entries(t.fields).forEach(([Ce,Ke])=>{var N,rt,qe;let _e=g.querySelector(`[name="${Ke}"]`);if(!_e)return;let me=(N=e.settings)==null?void 0:N[Ce];if(_e.type==="checkbox")_e.checked=!!me;else if(_e.type==="number"){let ge=(qe=(rt=_e.dataset.default)!=null?rt:_e.defaultValue)!=null?qe:"";_e.value=me!=null?me:ge}else _e.tagName,_e.value=me!=null?me:""}),t.section==="group"){let Ce=((l=g.querySelector('[name="group-columns-mobile"]'))==null?void 0:l.value)||"1",Ke=((u=g.querySelector('[name="group-columns-desktop"]'))==null?void 0:u.value)||"3";Ps(Ce,Ke)}if(t.section==="collection"){let Ce=((p=g.querySelector('[name="collection-columns-mobile"]'))==null?void 0:p.value)||"1",Ke=((R=g.querySelector('[name="collection-columns-desktop"]'))==null?void 0:R.value)||"3";ro(Ce,Ke)}let o=(ue=t.fields)==null?void 0:ue.bg;if(o){let Ce=g.querySelector(`[name="${o}"]`);It(Ce,(Fe=e.settings)==null?void 0:Fe.bg)}g.querySelectorAll("[data-color-select]").forEach(Xt)},ss=e=>{if(!g||!e)return{};let t={};return Object.entries(e.fields).forEach(([o,r])=>{var u,p;let l=g.querySelector(`[name="${r}"]`);if(l)if(l.type==="checkbox")t[o]=l.checked;else if(l.type==="number"){let R=Number(l.value);t[o]=Number.isFinite(R)?R:0}else if(l.tagName==="SELECT"){let R=(p=(u=l.dataset.default)!=null?u:l.value)!=null?p:"";t[o]=l.value||R}else l.tagName==="TEXTAREA"?t[o]=l.value||"":l.type==="select-one"?t[o]=l.value:t[o]=l.value||""}),t},Ct=e=>{if(G){if(!e){G.classList.add("hidden");return}G.classList.remove("hidden"),G.textContent=e}},io=e=>{if(!e)return null;let t=o=>{var r;return{id:o.id,type:o.type,label:o.label,status:o.status,description:o.description,props:o.props||[],settings:o.settings||{},collectionId:o.collectionId||((r=o.settings)==null?void 0:r.collectionId)||"",children:(o.children||[]).map(t)}};return{id:e.id,name:e.name,title:e.title,slug:e.slug,description:e.description||"",badges:[...e.badges||[]],seo:e.seo||{},accessibility:e.accessibility||{},blocks:(e.blocks||[]).map(t)}},a=()=>'<!DOCTYPE html><html><body style="font-family:Inter,sans-serif;padding:40px;color:#475569;background:#fff;">Pr\xE9paration de la pr\xE9visualisation\u2026</body></html>',c=(e,t)=>{let o;return(...r)=>{clearTimeout(o),o=setTimeout(()=>e(...r),t)}},v=async()=>{if(!m||!Ze)return;let e=bs(),t=jt(e);if(!e||!t)return;let o=ss(t),r=(m.blocks||[]).map(u=>{if(u.id!==e.id)return u;let p={...u.settings||{},...o};return{...u,settings:p}}),l={...m,blocks:r};m=l;try{let u=await ts(l);if(u!=null&&u.id){let p=ns(u);m=p,ae=ae.map(R=>R.id===p.id?p:R)}}catch(u){console.warn("[design] auto-save appearance failed",u)}},F=(e,t)=>{!f||!f.contentWindow||f.contentWindow.postMessage({type:"updateBlockStyles",blockId:e,settings:t},"*")},Q=c(()=>{m&&re(m)},1500),le=(e,t)=>{F(e,t),Ct("Modification\u2026"),v().then(()=>{Ct("Sauvegard\xE9"),setTimeout(()=>Ct("\xC0 jour"),1500)}).catch(()=>Ct("Erreur de sauvegarde")),Q()},re=e=>{if(!f||!e)return;let t=(J==null?void 0:J.slugValue)||ee.slug||"",o=ae.map(u=>({id:u.id,slug:u.slug,title:u.title,name:u.name,accessibility:u.accessibility})),r={page:io(e),site:{title:ee.name||"Site",slug:t,pages:o}};Zo=!1,Ct("Actualisation\u2026"),f.srcdoc=a(),zs&&zs.abort();let l=new AbortController;zs=l,fetch("/api/preview",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r),signal:l.signal}).then(u=>{if(!u.ok)throw new Error("Preview error");return u.json()}).then(u=>{l.signal.aborted||(Go=u.html||"",f.setAttribute("title",`Pr\xE9visualisation de la page ${e.title||""}`.trim()),f.srcdoc=Go||a(),Ct("\xC0 jour"))}).catch(u=>{l.signal.aborted||(console.error("[preview] Impossible de rendre la page",u),Ct("Erreur preview"),f.srcdoc='<!DOCTYPE html><html><body style="font-family:Inter,sans-serif;padding:40px;color:#be123c;background:#fff;">Erreur lors du rendu de la pr\xE9visualisation.</body></html>')}).finally(()=>{zs===l&&(zs=null)})},ce=e=>{var u;if(e.preventDefault(),!m||!Ze)return;let t=bs(),o=jt(t);if(!t||!o)return;let r=ss(o);if(o.section==="image"){let p=(r.alt||"").trim();if(r.alt=p,!p){M("Ajoute un texte alternatif pour cette image.","error"),(u=g==null?void 0:g.querySelector('[name="image-alt"]'))==null||u.focus();return}}if(o.section==="collection"){if(!r.collectionId){M("S\xE9lectionnez une collection.");return}r.limit=Math.max(1,Number(r.limit)||1)}let l=(m.blocks||[]).map(p=>{if(p.id!==t.id)return p;let R={...p.settings||{},...r},ue={...p,settings:R};return o.labelField&&r[o.labelField]&&(ue.label=r[o.labelField]),o.descriptionField&&r[o.descriptionField]&&(ue.description=r[o.descriptionField]),o.section==="collection"&&(ue.collectionId=r.collectionId,ue.settings.collectionId=r.collectionId,ue.settings.limit=r.limit),ue});xs(l),M("Bloc mis \xE0 jour"),qt(m.id,{preserveBlock:!0})},ke=document.querySelector("[data-page-drawer]"),xe=document.querySelector("[data-page-drawer-backdrop]"),et=document.querySelectorAll("[data-page-drawer-open]"),tt=document.querySelectorAll("[data-page-drawer-close]"),$e=document.querySelector("[data-add-page-toggle]"),ye=document.querySelector("[data-add-page-form]"),ze=document.querySelector("[data-add-page-name]"),Et=document.querySelector("[data-add-page-title]"),st=document.querySelector("[data-add-page-slug]"),fs=document.querySelector("[data-add-page-cancel]"),Je=document.querySelector("[data-add-page-error]"),Ht=ye==null?void 0:ye.querySelector('[type="submit"]'),ps=document.querySelector("[data-import-pages-toggle]"),lt=document.querySelector("[data-import-modal]"),lo=document.querySelectorAll("[data-import-modal-close]"),ot=document.querySelector("[data-import-dropzone]"),gs=document.querySelector("[data-import-file-input]"),hs=document.querySelector("[data-import-file-list]"),Ms=document.querySelector("[data-import-file-names]"),We=document.querySelector("[data-import-results]"),Ge=document.querySelector("[data-import-results-content]"),nt=document.querySelector("[data-import-submit]"),ys=document.querySelectorAll("[data-import-tab]"),Fs=document.querySelectorAll("[data-import-panel]"),vs=document.querySelector("[data-copy-template]"),xn=document.querySelector("[data-template-json]"),ht=document.querySelector("[data-import-paste-json]"),Ro=document.querySelector("[data-format-json]"),Pt=document.querySelector("[data-import-paste-error]"),Ut=[],os="upload",wt=document.querySelector("[data-delete-page-modal]"),wn=document.querySelector("[data-delete-page-name]"),zo=document.querySelector("[data-delete-page-cancel]"),Rt=document.querySelector("[data-delete-page-confirm]"),Ns=null,$r=Ae((J==null?void 0:J.slugValue)||ee.slug||"default")||"default",Ir=(J==null?void 0:J.slugValue)||ee.slug||"",co=Ae(Ir)||"",St=co?`/api/sites/${encodeURIComponent(co)}/pages`:null,Sn=co?`/api/sites/${encodeURIComponent(co)}/collections`:null,Ln={active:`clower:activePage:${$r}`},Vo=(e,t,o,r,l,u=[],p={})=>{let R={id:e,label:t,type:o,status:r,description:l,props:u,settings:{...p}};return R.settings.collectionId&&(R.collectionId=R.settings.collectionId),R},Br={hero:{type:"Hero",label:"Hero de page",description:"Section pleine largeur avec CTA principal.",status:"Brouillon",props:[{label:"CTA",value:"D\xE9couvrir"},{label:"Hauteur",value:"80vh"}],settings:{title:"Titre du hero",subtitle:"",ctaLabel:"D\xE9couvrir",ctaUrl:"#",image:"",align:"center"}},paragraph:{type:"Paragraphe",label:"Bloc \xE9ditorial",description:"Paragraphe libre pour raconter votre histoire.",status:"Brouillon",props:[{label:"Longueur",value:"150 mots"}],settings:{title:"Titre du paragraphe",content:"",align:"left"}},image:{type:"Image",label:"Bloc image",description:"Visuel seul avec l\xE9gende optionnelle.",status:"Brouillon",props:[{label:"Ratio",value:"16:9"},{label:"L\xE9gende",value:"Inactive"}],settings:{src:"",alt:"",showCaption:!1,caption:""}},group:{type:"Groupe",label:"Groupe de sections",description:"Conteneur pour imbriquer plusieurs sous-blocs.",status:"Brouillon",props:[{label:"Disposition",value:"Verticale"}],settings:{layout:"grid",columnsMobile:"1",columnsDesktop:"3",mobileLayout:"stack"}},collectiongrid:{type:"CollectionGrid",label:"Grille de contenus",description:"Affiche automatiquement les items d\u2019une collection.",status:"Brouillon",settings:{collectionId:"",limit:6,mobileLayout:"stack"}},form:{type:"Form",label:"Formulaire de contact",description:"Formulaire avec envoi vers un service externe.",status:"Brouillon",settings:{formTitle:"Contactez-nous",actionUrl:"",method:"POST",serviceName:"",submitLabel:"Envoyer",successMessage:"Merci pour votre message !"}},newsletterembed:{type:"NewsletterEmbed",label:"Newsletter / Embed",description:"Int\xE9gration d'un formulaire newsletter externe (Brevo, Mailchimp\u2026).",status:"Brouillon",settings:{title:"Restez inform\xE9",serviceName:"",embedCode:""}}},jr=e=>{try{window.localStorage.setItem(Ln.active,e)}catch{}},Pr=e=>{var t;try{let o=window.localStorage.getItem(Ln.active);if(o&&e.some(r=>r.id===o))return o}catch{}return((t=e[0])==null?void 0:t.id)||null},Mr=e=>!e||e<=0?"0 bloc":e===1?"1 bloc":`${e} blocs`,kn=e=>{if(!e||e==="/")return"/";let t=Yt(e.replace(/^\//,""));return t?`/${t}`:"/"},Oo=(e="page",t="block")=>`${e}-${t}-${Date.now().toString(36)}-${Math.floor(Math.random()*1e3)}`,ga=(e,t)=>[Vo(Oo(e,"intro"),"Introduction","Paragraphe","Brouillon",`Paragraphe introductif pour "${t}".`,[{label:"Longueur",value:"2 paragraphes"}],{title:`Introduction \xE0 ${t}`,content:"Ajoutez votre premier paragraphe de pr\xE9sentation.",align:"left"}),Vo(Oo(e,"content"),"Zone de contenu","Groupe","Brouillon","Section principale \xE0 composer avec textes et visuels.",[{label:"Colonnes",value:"Auto"}],{layout:"grid",columnsMobile:"1",columnsDesktop:"2",mobileLayout:"stack"})],Cn=e=>{n&&(n.textContent=(e==null?void 0:e.name)||(e==null?void 0:e.title)||"Page"),i&&(i.textContent=(e==null?void 0:e.slug)||"/")},Fr=e=>{if(!d)return;d.innerHTML="",(e&&e.badges&&e.badges.length>0?e.badges:["Structure en cours"]).forEach(o=>{let r=document.createElement("span");r.className="rounded-full bg-slate-100 px-3 py-1",r.textContent=o,d.appendChild(r)})},Nr=e=>{switch((e||"").toLowerCase()){case"en ligne":return"bg-emerald-50 text-emerald-700";case"brouillon":return"bg-amber-50 text-amber-700";default:return"bg-slate-100 text-slate-600"}},uo=e=>{if(!(!Se||!Be)){if(!e){Se.classList.remove("hidden"),Be.classList.add("hidden"),I==null||I.classList.add("hidden"),g==null||g.classList.add("hidden"),Ee==null||Ee.classList.add("hidden");return}Se.classList.add("hidden"),Be.classList.remove("hidden"),Ee&&(e.status?(Ee.textContent=e.status,Ee.className=`rounded-full px-3 py-1 text-xs font-semibold ${Nr(e.status)}`,Ee.classList.remove("hidden")):Ee.classList.add("hidden")),ao(e)}},Dr=()=>{let e=getComputedStyle(document.documentElement).getPropertyValue("--color-accent");return e?e.trim():"#9C6BFF"},Ds=e=>{if(!f)return;let t=f.contentDocument;if(!t)return;if(t.querySelectorAll("[data-preview-block]").forEach(r=>{r.dataset.previewBlock===e?(r.classList.add("preview-block-active"),Zo&&e&&r.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})):r.classList.remove("preview-block-active")}),w){let r=Dr();w.style.borderColor=e?r:"transparent",w.style.opacity=e?"0.5":"0"}},En={desktop:{width:"100%",height:"640px",maxWidth:"",margin:"0"},mobile:{width:"375px",height:"780px",maxWidth:"375px",margin:"0 auto"}},qn=e=>{let t=En[e]?e:"desktop";H.forEach(r=>{let l=r.dataset.previewView===t;r.setAttribute("aria-pressed",l?"true":"false"),l?(r.classList.add("bg-slate-900","text-white"),r.classList.remove("bg-slate-200","text-slate-500")):(r.classList.remove("bg-slate-900","text-white"),r.classList.add("bg-slate-200","text-slate-500"))});let o=En[t];f&&(f.style.width=o.width,f.style.height=o.height,f.style.maxWidth=o.maxWidth,f.style.margin=o.margin),y&&(y.style.width="100%",y.style.minHeight=o.height,y.style.maxWidth=o.maxWidth||"100%"),V&&(V.dataset.previewShellView=t),O&&(O.textContent=t==="mobile"?"Vue mobile":"Vue bureau")},An=(e,t=!1,o=null)=>{var en;let r=e.id===Ze,l=(e.type||"").toLowerCase(),u=l==="groupe"||l==="group"||l==="sections"||l==="grid",p=document.createElement("div");p.dataset.blockItem="true",p.dataset.blockId=e.id,o&&(p.dataset.parentBlockId=o),u&&(p.dataset.isGroup="true"),p.setAttribute("role","option"),p.setAttribute("aria-selected",r?"true":"false"),p.setAttribute("draggable","true"),p.tabIndex=0,p.className=["relative flex items-center gap-3 rounded-2xl border px-3 py-2 text-left transition group",t?"ml-6 border-dashed":"",r?"bg-slate-100 border-[#9C6BFF]/40 shadow-sm":"border-slate-200 hover:border-[#9C6BFF]/40"].join(" ");let R=document.createElement("span");R.className=`absolute inset-y-2 left-0 w-1 rounded-full bg-[#9C6BFF] ${r?"":"hidden"}`,p.appendChild(R);let ue=document.createElement("div");ue.className="flex flex-1 items-center gap-3";let Fe=document.createElement("div");Fe.className="hidden lg:flex cursor-grab active:cursor-grabbing flex-shrink-0 items-center text-lg text-slate-400 hover:text-slate-600 transition-colors select-none",Fe.innerHTML="\u22EE\u22EE",Fe.setAttribute("title","Glisser pour r\xE9ordonner"),ue.appendChild(Fe);let Ce=document.createElement("div");Ce.className="flex-1";let Ke=document.createElement("div");Ke.className="flex items-center gap-2 text-[11px] uppercase tracking-wide text-slate-500";let _e=document.createElement("span");_e.className="rounded-full bg-slate-100 px-2 py-0.5 text-[10px] font-semibold text-slate-600",_e.textContent=e.type;let me=document.createElement("span");if(me.className="text-slate-400",me.textContent=e.status,Ke.appendChild(_e),u){let ft=(e.children||[]).length,rs=document.createElement("span");rs.className="rounded-full bg-violet-100 px-2 py-0.5 text-[10px] font-semibold text-violet-600",rs.textContent=`${ft} \xE9l\xE9ment${ft!==1?"s":""}`,Ke.appendChild(rs)}Ke.appendChild(me);let N=document.createElement("p");N.className="mt-1 text-sm font-semibold text-slate-900";let rt=e.settings&&e.settings.title||e.label||"Bloc sans titre";if(N.textContent=rt,Ce.appendChild(Ke),Ce.appendChild(N),l==="collectiongrid"&&e.collectionId){let ft=((en=Mt.find(da=>da.id===e.collectionId))==null?void 0:en.name)||e.collectionId,rs=document.createElement("p");rs.className="text-xs text-slate-400",rs.textContent=`Collection : ${ft}`,Ce.appendChild(rs)}ue.appendChild(Ce),p.appendChild(ue);let qe=document.createElement("div");qe.className="flex flex-col gap-1 text-xs text-slate-400";let ge=document.createElement("div");ge.className="flex items-center gap-1 lg:hidden";let ct=document.createElement("button");ct.type="button",ct.className="rounded-lg border border-slate-200 px-2 py-1 text-[11px] font-semibold text-slate-500",ct.textContent="\u2191",ct.addEventListener("click",ft=>{ft.stopPropagation(),o?Tn(o,e.id,-1):In(e.id,-1)});let yt=document.createElement("button");yt.type="button",yt.className="rounded-lg border border-slate-200 px-2 py-1 text-[11px] font-semibold text-slate-500",yt.textContent="\u2193",yt.addEventListener("click",ft=>{ft.stopPropagation(),o?Tn(o,e.id,1):In(e.id,1)}),ge.appendChild(ct),ge.appendChild(yt),qe.appendChild(ge);let Ue=document.createElement("button");return Ue.type="button",Ue.className="inline-flex items-center justify-center rounded-lg border border-transparent px-2 py-1 text-[12px] text-rose-500 hover:text-rose-700",Ue.innerHTML="\u{1F5D1}\uFE0F",Ue.addEventListener("click",ft=>{ft.stopPropagation(),o?Rr(o,e.id):Kr(e.id)}),qe.appendChild(Ue),p.appendChild(qe),p.addEventListener("click",()=>{Gt(e.id,o)}),p.addEventListener("keydown",ft=>{(ft.key==="Enter"||ft.key===" ")&&(ft.preventDefault(),Gt(e.id,o))}),{item:p,isGroup:u,block:e}},Hr=e=>{let t=document.createElement("div");return t.dataset.groupDropZone=e.id,t.className="ml-6 border-2 border-dashed border-slate-200 rounded-xl p-3 text-center text-xs text-slate-400 hover:border-violet-300 hover:bg-violet-50/50 transition-colors cursor-pointer",t.innerHTML='<span class="pointer-events-none">\u{1F4E6} Glissez un bloc ici ou cliquez pour ajouter</span>',t.addEventListener("dragover",o=>{o.preventDefault(),o.stopPropagation(),t.classList.add("border-violet-400","bg-violet-50")}),t.addEventListener("dragleave",o=>{o.stopPropagation(),t.classList.remove("border-violet-400","bg-violet-50")}),t.addEventListener("drop",o=>{o.preventDefault(),o.stopPropagation(),t.classList.remove("border-violet-400","bg-violet-50");let r=o.dataTransfer.getData("text/plain");r&&r!==e.id&&Ur(r,e.id)}),t.addEventListener("click",()=>{zr(e.id)}),t},Lt=e=>{if(!E)return;E.innerHTML="";let t=(e==null?void 0:e.blocks)||[];if(Y&&(Y.textContent=Mr(t.length)),t.length===0){E.classList.add("hidden"),se==null||se.classList.remove("hidden");return}E.classList.remove("hidden"),se==null||se.classList.add("hidden"),t.forEach(o=>{let{item:r,isGroup:l}=An(o,!1,null);if(E.appendChild(r),l){(o.children||[]).forEach(R=>{let{item:ue}=An(R,!0,o.id);E.appendChild(ue)});let p=Hr(o);E.appendChild(p)}})},Ur=(e,t)=>{if(!m)return;let o=m.blocks.findIndex(R=>R.id===e),r=m.blocks.find(R=>R.id===t);if(o===-1||!r)return;let u=(m.blocks[o].type||"").toLowerCase();if(u==="groupe"||u==="group"){M("Impossible d'imbriquer des groupes","error");return}let[p]=m.blocks.splice(o,1);r.children||(r.children=[]),r.children.push(p),Lt(m),savePageBlocks(),M("Bloc ajout\xE9 au groupe")},Rr=(e,t)=>{if(!m)return;let o=m.blocks.find(p=>p.id===e);if(!o||!o.children)return;let r=o.children.findIndex(p=>p.id===t);if(r===-1)return;let[l]=o.children.splice(r,1),u=m.blocks.findIndex(p=>p.id===e);m.blocks.splice(u+1,0,l),Lt(m),savePageBlocks(),M("Bloc sorti du groupe")},Tn=(e,t,o)=>{if(!m)return;let r=m.blocks.find(R=>R.id===e);if(!r||!r.children)return;let l=r.children.findIndex(R=>R.id===t);if(l===-1)return;let u=l+o;if(u<0||u>=r.children.length)return;let[p]=r.children.splice(l,1);r.children.splice(u,0,p),Lt(m),savePageBlocks()},zr=e=>{Hs=e,openBlockPicker()},Hs=null,Vr=e=>{!wt||!e||(Ns=e,wn&&(wn.textContent=e.title||e.id),wt.classList.remove("hidden"),wt.classList.add("flex"),ks(wt,mo))},mo=()=>{wt&&(wt.classList.add("hidden"),wt.classList.remove("flex"),Ns=null,Cs(wt))},Or=async()=>{if(!St||!Ns)return;let e=Ns.id,t=Ns.title||e;Rt&&(Rt.disabled=!0,Rt.textContent="Suppression...");try{let o=await fetch(`${St}/${encodeURIComponent(e)}`,{method:"DELETE",credentials:"include"}),r=await o.json();if(!o.ok)throw new Error(r.message||"Erreur serveur");ae=ae.filter(l=>l.id!==e),Me===e?ae.length>0?qt(ae[0].id):(Me=null,m=null,Wt(ae,null),Lt(null),Se==null||Se.classList.remove("hidden"),Be==null||Be.classList.add("hidden"),f&&(f.srcdoc=a())):Wt(ae,Me),mo(),M(`Page "${t}" supprim\xE9e`)}catch(o){console.error("[pages] delete failed",o),M(o.message||"Erreur suppression")}finally{Rt&&(Rt.disabled=!1,Rt.textContent="Supprimer")}},Wt=(e,t)=>{s.forEach(o=>{o.innerHTML="",e.forEach(r=>{var Ce;let l=document.createElement("li");l.className="flex items-center gap-1";let u=document.createElement("button");u.type="button",u.dataset.pageId=r.id,u.className=["flex-1 flex items-center gap-3 px-3 py-2 text-left transition",t===r.id?"bg-[#9C6BFF]/10 text-slate-900 border border-[#9C6BFF]/40 rounded-xl shadow-sm":"text-slate-700 hover:bg-slate-50 rounded-xl"].join(" "),t===r.id?u.setAttribute("aria-current","page"):u.removeAttribute("aria-current");let p=r.name||r.title,ue=((Ce=r.accessibility)==null?void 0:Ce.showInMainNav)===!1?'<span class="text-[10px] font-semibold text-amber-600">Masqu\xE9 du menu</span>':"";u.innerHTML=`
            <span class="flex h-9 w-9 items-center justify-center rounded-xl border border-slate-200 bg-white text-slate-500">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                <path d="M6.5 4.5h7l4 4v11a1 1 0 0 1-1 1h-10a1 1 0 0 1-1-1v-14a1 1 0 0 1 1-1Z" stroke="currentColor" stroke-width="1.4" stroke-linejoin="round"/>
                <path d="M13.5 4.5v4a1 1 0 0 0 1 1h3" stroke="currentColor" stroke-width="1.4"/>
              </svg>
            </span>
            <div class="flex flex-col">
              <span class="text-sm font-semibold">${p}</span>
              <span class="text-xs text-slate-500">${r.slug}</span>
              ${ue}
            </div>
          `,u.addEventListener("click",()=>{qt(r.id),Jo()||Wo()}),l.appendChild(u);let Fe=document.createElement("button");Fe.type="button",Fe.className="flex-shrink-0 p-2 text-slate-400 hover:text-rose-600 hover:bg-rose-50 rounded-lg transition",Fe.title="Supprimer cette page",Fe.setAttribute("aria-label",`Supprimer ${p}`),Fe.innerHTML=`
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M3 6h18M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2m3 0v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6h14ZM10 11v6M14 11v6"/>
            </svg>
          `,Fe.addEventListener("click",Ke=>{Ke.stopPropagation(),Vr(r)}),l.appendChild(Fe),o.appendChild(l)})})},bs=()=>{if(!m||!Array.isArray(m.blocks))return null;let e=m.blocks.find(t=>t.id===Ze);if(!e){for(let t of m.blocks)if(t.children&&(e=t.children.find(o=>o.id===Ze),e))break}return e||null},$n=null,Gt=(e,t=null)=>{if(!m)return;if(!e){Ze=null,$n=null,Lt(m),uo(null),Ds(null);return}let o=null;if(o=m.blocks.find(r=>r.id===e),!o&&t){let r=m.blocks.find(l=>l.id===t);r&&r.children&&(o=r.children.find(l=>l.id===e))}if(!o){for(let r of m.blocks)if(r.children){let l=r.children.find(u=>u.id===e);if(l){o=l,t=r.id;break}}}o||(o=m.blocks[0]||null,t=null),Ze=(o==null?void 0:o.id)||null,$n=t,Lt(m),uo(o),Ds(Ze)},xs=e=>{if(!m)return;let t={...m,blocks:e};_r(t)},fo=()=>window.matchMedia("(min-width: 1024px)").matches;function In(e,t){if(!m||!e||!t)return;let o=[...m.blocks||[]],r=o.findIndex(p=>p.id===e);if(r<0)return;let l=r+t;if(l<0||l>=o.length)return;let[u]=o.splice(r,1);o.splice(l,0,u),xs(o),qt(m.id,{preserveBlock:!0}),Gt(u.id)}function ha(e,t){if(!m||!e||!t||e===t)return;let o=[...m.blocks||[]],r=o.findIndex(p=>p.id===e),l=o.findIndex(p=>p.id===t);if(r<0||l<0)return;let[u]=o.splice(r,1);o.splice(l,0,u),xs(o),qt(m.id,{preserveBlock:!0}),Gt(u.id)}function Jr(e,t,o){if(!m||!e||!t||e===t)return;let r=[...m.blocks||[]],l=r.findIndex(ue=>ue.id===e),u=r.findIndex(ue=>ue.id===t);if(l<0||u<0)return;let[p]=r.splice(l,1);l<u&&u--;let R=o==="before"?u:u+1;r.splice(R,0,p),xs(r),qt(m.id,{preserveBlock:!0}),Gt(p.id)}function Bn(){if(!E)return;let e=fo();E.querySelectorAll("[data-block-item]").forEach(t=>{t.setAttribute("draggable",e?"true":"false")})}function Us(){ne&&(ne.classList.add("hidden"),Rs=!1)}function Wr(){ne&&(ne.classList.remove("hidden"),Rs=!0)}function Gr(){Rs?Us():Wr()}function Zr(e){var u;if(!m||!e)return;let t=Br[e];if(!t)return;let o=(m.blocks||[]).filter(p=>p.type===t.type).length+1,r=Vo(Oo(m.id,e),`${t.label} ${o}`,t.type,t.status,t.description,t.props,t.settings||{});if((t.type||"").toLowerCase()==="collectiongrid"){let p=((u=Mt[0])==null?void 0:u.id)||"";r.collectionId=p,r.settings.collectionId=p,r.settings.limit=r.settings.limit||6}if(Hs){let p=m.blocks.find(R=>R.id===Hs);if(p){p.children||(p.children=[]),p.children.push(r),Hs=null,Lt(m),savePageBlocks(),Gt(r.id,p.id),Us(),M("Bloc ajout\xE9 au groupe");return}Hs=null}let l=[...m.blocks||[],r];xs(l),qt(m.id,{preserveBlock:!0}),Gt(r.id),Us(),M("Bloc ajout\xE9")}function jn(e){var r,l;if(!m)return;let t=(m.blocks||[]).filter(u=>u.id!==e),o=e===Ze?((r=t[0])==null?void 0:r.id)||null:Ze||((l=t[0])==null?void 0:l.id)||null;xs(t),Ze=o,qt(m.id,{preserveBlock:!0}),Ze?Gt(Ze):(uo(null),Ds(null)),M("Bloc supprim\xE9")}function po(){ie&&(ie.classList.add("hidden"),ie.classList.remove("flex"),ho=null,Cs(ie))}function Kr(e){if(!ie){jn(e);return}ho=e,ie.classList.remove("hidden"),ie.classList.add("flex"),ks(ie,po)}let _r=e=>{if(!e)return;let t=ns(e);ae=ae.map(o=>o.id===t.id?t:o),m=t,ts(t)},qt=(e,t={})=>{var l,u;let o=ae.find(p=>p.id===e)||ae[0]||null;m=o?ns(o):null,Me=(o==null?void 0:o.id)||null,(!t.preserveBlock||!m||!m.blocks.some(p=>p.id===Ze))&&(Ze=((u=(l=m==null?void 0:m.blocks)==null?void 0:l[0])==null?void 0:u.id)||null),Me&&jr(Me),Wt(ae,Me),Cn(m),Xo(),Fr(m),re(m),Lt(m),uo(bs()),Ds(Ze),Bn(),Rs&&Us()},Jo=()=>window.matchMedia("(min-width: 1024px)").matches,Pn=()=>{ke&&(Jo()?(ke.classList.add("is-open"),xe==null||xe.classList.add("hidden"),document.body.classList.remove("overflow-hidden")):ke.classList.remove("is-open"))},Yr=()=>{!ke||Jo()||(ke.classList.add("is-open"),xe==null||xe.classList.remove("hidden"),document.body.classList.add("overflow-hidden"))},Wo=()=>{ke&&(ke.classList.remove("is-open"),xe==null||xe.classList.add("hidden"),document.body.classList.remove("overflow-hidden"))},Qr=()=>{!ye||!$e||(ye.classList.remove("hidden"),$e.classList.add("hidden"),Je&&(Je.textContent=""),go=!1,ze&&(ze.value="",ze.focus()),Et&&(Et.value=""),st&&(st.value=""))},Mn=()=>{!ye||!$e||(ye.classList.add("hidden"),$e.classList.remove("hidden"),Je&&(Je.textContent=""),go=!1,ye.reset())},Xr=()=>{!ze||!st||go&&st.value.trim().length>0||(st.value=kn(ze.value))},ae=[],Me=null,go=!1,m=null,Ze=null,Rs=!1,ho=null,Go="",Zo=!1,zs=null,Mt=[],ea=e=>{let t={...e,props:Array.isArray(e.props)?e.props:[],settings:{...e.settings||{}}};return(t.type||"").toLowerCase()==="collectiongrid"&&(t.collectionId=t.collectionId||t.settings.collectionId||"",t.settings.collectionId=t.collectionId,t.settings.limit=t.settings.limit||6),t},ns=e=>{var t,o,r,l,u;return{...e,blocks:(e.blocks||[]).map(p=>ea(p)),seo:{title:(((t=e.seo)==null?void 0:t.title)||"").trim(),description:(((o=e.seo)==null?void 0:o.description)||"").trim(),indexed:typeof((r=e.seo)==null?void 0:r.indexed)=="boolean"?e.seo.indexed:null},accessibility:{showInMainNav:((l=e.accessibility)==null?void 0:l.showInMainNav)!==!1,mainLabel:(((u=e.accessibility)==null?void 0:u.mainLabel)||"").trim()}}},ta=async()=>{if(!Sn){Mt=[],yo();return}try{let e=await fetch(Sn,{headers:{Accept:"application/json"}});if(!e.ok)throw new Error("Impossible de charger les collections.");let t=await e.json().catch(()=>[]);Mt=Array.isArray(t)?t:[];let o=(Te==null?void 0:Te.value)||"";yo(o)}catch(e){console.error("[design] collections load",e),M("Collections indisponibles."),Mt=[],yo()}},Ko=e=>{if(!es)return;if(!e){es.textContent=Mt.length?"S\xE9lectionnez une collection pour afficher ses informations.":"Aucune collection disponible. Ajoutez-en depuis l\u2019onglet Contenus.";return}let t=Mt.find(r=>r.id===e);if(!t){es.textContent=`Collection ${e}`;return}let o=[];t.description&&o.push(t.description),t.type&&o.push(`Type\xA0: ${t.type}`),es.textContent=o.join(" \xB7 ")||`Collection ${t.name||t.id}`},yo=(e="")=>{if(Te){if(Te.innerHTML="",!Mt.length){Te.disabled=!0;let t=document.createElement("option");t.value="",t.textContent="Aucune collection disponible",Te.appendChild(t),Ko("");return}if(Te.disabled=!1,e&&!Mt.some(t=>t.id===e)){let t=document.createElement("option");t.value=e,t.textContent=e,Te.appendChild(t)}Mt.forEach(t=>{let o=document.createElement("option");o.value=t.id;let r=t.name||t.id;o.textContent=t.type?`${r} \xB7 ${t.type}`:r,o.dataset.description=t.description||"",Te.appendChild(o)}),e&&(Te.value=e),Ko(Te.value||"")}};ta(),Pn(),et.forEach(e=>{e.addEventListener("click",Yr)}),tt.forEach(e=>{e.addEventListener("click",Wo)}),xe==null||xe.addEventListener("click",Wo),window.addEventListener("resize",()=>{Pn(),Bn()}),$e==null||$e.addEventListener("click",Qr),fs==null||fs.addEventListener("click",Mn),ze==null||ze.addEventListener("input",Xr),st==null||st.addEventListener("input",()=>{Je&&(Je.textContent=""),go=!0}),ye==null||ye.addEventListener("submit",async e=>{if(e.preventDefault(),!St){Je&&(Je.textContent="Aucun site s\xE9lectionn\xE9.");return}if(!ze||!st)return;let t=ze.value.trim(),o=(Et==null?void 0:Et.value.trim())||t,r=kn(st.value.trim()||t);if(!t||!r){Je&&(Je.textContent="Nom et slug sont requis.");return}Je&&(Je.textContent=""),Ht&&(Ht.disabled=!0,Ht.textContent="Cr\xE9ation...");try{let l=await Do({name:t,title:o,slug:r});if(!l||!l.id)throw new Error("R\xE9ponse invalide.");ae=[...ae,ns(l)],Mn(),M("Page cr\xE9\xE9e"),qt(l.id)}catch(l){console.error("[design] create page failed",l),Je&&(Je.textContent=l.message||"Impossible de cr\xE9er la page.")}finally{Ht&&(Ht.disabled=!1,Ht.textContent="Cr\xE9er")}});let _o=()=>{ht&&(ht.value=""),Pt&&(Pt.classList.add("hidden"),Pt.textContent="")},Fn=()=>{if(!ht)return null;let e=ht.value.trim();if(!e)return Pt&&Pt.classList.add("hidden"),null;try{let t=JSON.parse(e);return Pt&&Pt.classList.add("hidden"),t}catch(t){return Pt&&(Pt.classList.remove("hidden"),Pt.textContent=`\u274C JSON invalide : ${t.message}`),null}},sa=()=>{if(!ht)return;let e=ht.value.trim();if(e)try{let t=JSON.parse(e);ht.value=JSON.stringify(t,null,2),Fn()}catch{}},Vs=()=>{if(nt)if(os==="upload")nt.disabled=Ut.length===0;else if(os==="paste"){let e=Fn();nt.disabled=!e}else nt.disabled=!0},oa=()=>{lt&&(lt.classList.remove("hidden"),lt.classList.add("flex"),Ut=[],os="upload",Qo(),_o(),We&&We.classList.add("hidden"),Ge&&(Ge.innerHTML=""),Vs(),ys.forEach(e=>{e.dataset.importTab==="upload"?(e.classList.add("bg-[#9C6BFF]","text-white"),e.classList.remove("border","border-slate-200","text-slate-700")):(e.classList.remove("bg-[#9C6BFF]","text-white"),e.classList.add("border","border-slate-200","text-slate-700"))}),Fs.forEach(e=>{e.dataset.importPanel==="upload"?e.classList.remove("hidden"):e.classList.add("hidden")}),ks(lt,Yo))},Yo=()=>{lt&&(lt.classList.add("hidden"),lt.classList.remove("flex"),Ut=[],_o(),Cs(lt))},Qo=()=>{if(!(!hs||!Ms)){if(Ut.length===0){hs.classList.add("hidden"),Vs();return}hs.classList.remove("hidden"),Ms.innerHTML=Ut.map(e=>`<li class="flex items-center gap-2"><span class="text-lg">\u{1F4C4}</span>${e.name}</li>`).join(""),Vs()}},Nn=e=>{let t=Array.from(e).filter(o=>o.type==="application/json"||o.name.endsWith(".json"));if(t.length===0){M("Aucun fichier JSON valide.");return}Ut=t,Qo()},na=async()=>{var o,r,l,u,p,R,ue,Fe,Ce,Ke,_e;if(!St)return;let e=[];if(console.log("[import] activeImportTab:",os),os==="paste"){let me=(o=ht==null?void 0:ht.value)==null?void 0:o.trim();if(console.log("[import] paste text length:",me==null?void 0:me.length),!me){M("Aucun JSON \xE0 importer."),We&&Ge&&(We.classList.remove("hidden"),Ge.innerHTML='<p class="text-amber-600">\u26A0 Le champ de texte est vide.</p>');return}try{let N=JSON.parse(me);console.log("[import] parsed JSON:",N),console.log("[import] parsed type:",typeof N,Array.isArray(N)?"array":"not array"),N&&!Array.isArray(N)&&N.pages?(console.log("[import] detected pages+collections format"),e=N):Array.isArray(N)?e.push(...N):e.push(N),console.log("[import] pagesData prepared:",e)}catch(N){let rt=N.message.match(/position (\d+)/),qe=N.message;if(rt){let ge=parseInt(rt[1],10),ct=me.substring(0,ge).split(`
`),yt=ct.length,Ue=ct[ct.length-1].length+1;qe=`Ligne ${yt}, colonne ${Ue}: ${N.message}`}M(`Erreur JSON : ${qe}`,"error"),console.error("[import] paste parse error",N),We&&Ge&&(We.classList.remove("hidden"),Ge.innerHTML=`
              <div class="text-rose-600">
                <p class="font-medium">\u2717 Erreur de syntaxe JSON</p>
                <p class="text-xs mt-1">${qe}</p>
                <p class="text-xs mt-2 text-slate-500">V\xE9rifiez les virgules, guillemets et accolades.</p>
              </div>
            `);return}}else if(os==="upload"){if(Ut.length===0)return;let me=[];for(let N of Ut){let rt=await N.text();try{let qe=JSON.parse(rt);Array.isArray(qe)?e.push(...qe):e.push(qe)}catch(qe){let ge=qe.message.match(/position (\d+)/),ct=qe.message;if(ge){let yt=parseInt(ge[1],10);ct=`Ligne ${rt.substring(0,yt).split(`
`).length}: ${qe.message}`}me.push({file:N.name,error:ct}),console.error("[import] parse error",N.name,qe)}}if(me.length>0){if(We&&Ge){We.classList.remove("hidden");let N='<div class="text-rose-600"><p class="font-medium">\u2717 Erreurs de syntaxe JSON</p><ul class="ml-4 text-xs mt-1">';me.forEach(rt=>{N+=`<li><strong>${rt.file}</strong>: ${rt.error}</li>`}),N+="</ul></div>",e.length>0&&(N+=`<p class="text-amber-600 mt-2 text-sm">\u26A0 ${e.length} page(s) valide(s) seront import\xE9e(s)</p>`),Ge.innerHTML=N}if(e.length===0){M("Tous les fichiers contiennent des erreurs JSON","error");return}}}else return;let t=Array.isArray(e)?e.length>0:e&&(((r=e.pages)==null?void 0:r.length)>0||e.title);if(console.log("[import] hasData check:",t,"pagesData:",e),!t){M("Aucune page valide \xE0 importer."),We&&Ge&&(We.classList.remove("hidden"),Ge.innerHTML=`
            <div class="text-amber-600">
              <p class="font-medium">\u26A0 Aucune page d\xE9tect\xE9e</p>
              <p class="text-xs mt-1">Le JSON doit contenir :</p>
              <ul class="text-xs ml-4 mt-1 list-disc">
                <li>Un objet page avec "title" : <code>{"title": "Ma page", ...}</code></li>
                <li>Un tableau de pages : <code>[{"title": "Page 1"}, {"title": "Page 2"}]</code></li>
                <li>Ou un objet combin\xE9 : <code>{"pages": [...], "collections": {...}}</code></li>
              </ul>
            </div>
          `);return}nt&&(nt.disabled=!0,nt.textContent="Import..."),console.log("[import] Sending to server:",JSON.stringify(e).substring(0,500));try{let me=await fetch(`${St}/import`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)});console.log("[import] Server response status:",me.status);let N=await me.json();if(console.log("[import] Server response body:",N),!me.ok)throw We&&Ge&&(We.classList.remove("hidden"),Ge.innerHTML=`
              <div class="text-rose-600">
                <p class="font-medium">\u2717 Erreur serveur</p>
                <p class="text-xs mt-1">${N.message||"Erreur inconnue"}</p>
                ${N.details?`<p class="text-xs mt-1 text-slate-500">${N.details}</p>`:""}
              </div>
            `),new Error(N.message||"Erreur serveur");if(We&&Ge){We.classList.remove("hidden");let ge="",ct=((l=N.imported)==null?void 0:l.length)>0||((u=N.collectionsCreated)==null?void 0:u.length)>0,yt=((p=N.errors)==null?void 0:p.length)>0;ct&&!yt?ge+='<div class="bg-green-50 border border-green-200 rounded-lg p-3 mb-2"><p class="text-green-800 font-medium">\u2713 Import r\xE9ussi</p></div>':ct&&yt?ge+='<div class="bg-amber-50 border border-amber-200 rounded-lg p-3 mb-2"><p class="text-amber-800 font-medium">\u26A0 Import partiel</p></div>':yt&&(ge+='<div class="bg-rose-50 border border-rose-200 rounded-lg p-3 mb-2"><p class="text-rose-800 font-medium">\u2717 Import \xE9chou\xE9</p></div>'),N.collectionsCreated&&N.collectionsCreated.length>0&&(ge+=`<p class="text-violet-700 mt-2">\u2713 ${N.collectionsCreated.length} collection(s) cr\xE9\xE9e(s)</p>`,ge+='<ul class="ml-4 text-xs text-slate-600">',N.collectionsCreated.forEach(Ue=>{ge+=`<li>${Ue.name} (${Ue.itemsCount} item${Ue.itemsCount>1?"s":""})</li>`}),ge+="</ul>"),N.imported&&N.imported.length>0&&(ge+=`<p class="text-green-700 mt-2">\u2713 ${N.imported.length} page(s) import\xE9e(s)</p>`,ge+='<ul class="ml-4 text-xs text-slate-600">',N.imported.forEach(Ue=>{ge+=`<li><strong>${Ue.title}</strong> \u2192 ${Ue.slug} (${Ue.action==="updated"?"mise \xE0 jour":"cr\xE9\xE9e"})</li>`}),ge+="</ul>"),N.errors&&N.errors.length>0&&(ge+=`<p class="text-rose-600 mt-3 font-medium">\u2717 ${N.errors.length} erreur(s)</p>`,ge+='<ul class="ml-4 text-xs text-rose-600 space-y-1 mt-1">',N.errors.forEach(Ue=>{ge+=`<li class="bg-rose-50 p-2 rounded"><strong>${Ue.title}</strong><br/><span class="text-rose-500">${Ue.error}</span></li>`}),ge+="</ul>"),Ge.innerHTML=ge}let rt=((R=N.imported)==null?void 0:R.length)>0||((ue=N.collectionsCreated)==null?void 0:ue.length)>0,qe=((Fe=N.errors)==null?void 0:Fe.length)>0;if(N.imported&&N.imported.length>0&&(ae=await ms(),Wt(ae,Me),ae.length>0&&!Me&&qt(ae[0].id)),rt&&!qe){let ge=(Ce=N.collectionsCreated)!=null&&Ce.length?` + ${N.collectionsCreated.length} collection(s)`:"";M(`\u2713 Import r\xE9ussi : ${((Ke=N.imported)==null?void 0:Ke.length)||0} page(s)${ge}`,"success")}else rt&&qe?M(`\u26A0 Import partiel : ${((_e=N.imported)==null?void 0:_e.length)||0} page(s), ${N.errors.length} erreur(s)`,"warning"):qe&&M(`\u2717 Import \xE9chou\xE9 : ${N.errors.length} erreur(s)`,"error");Ut=[],Qo(),_o()}catch(me){console.error("[import] failed",me),M(me.message||"Erreur import","error")}finally{nt&&(nt.disabled=!1,nt.textContent="Importer")}};ps==null||ps.addEventListener("click",oa),lo.forEach(e=>e.addEventListener("click",Yo)),lt==null||lt.addEventListener("click",e=>{e.target===lt&&Yo()}),gs==null||gs.addEventListener("change",e=>{Nn(e.target.files)}),ot==null||ot.addEventListener("dragover",e=>{e.preventDefault(),ot.classList.add("border-[#9C6BFF]","bg-[#9C6BFF]/10")}),ot==null||ot.addEventListener("dragleave",e=>{e.preventDefault(),ot.classList.remove("border-[#9C6BFF]","bg-[#9C6BFF]/10")}),ot==null||ot.addEventListener("drop",e=>{e.preventDefault(),ot.classList.remove("border-[#9C6BFF]","bg-[#9C6BFF]/10"),Nn(e.dataTransfer.files)}),nt==null||nt.addEventListener("click",na),ht==null||ht.addEventListener("input",()=>{Vs()}),Ro==null||Ro.addEventListener("click",sa),ys.forEach(e=>{e.addEventListener("click",()=>{let t=e.dataset.importTab;os=t,ys.forEach(o=>{o.dataset.importTab===t?(o.classList.add("bg-[#9C6BFF]","text-white"),o.classList.remove("border","border-slate-200","text-slate-700")):(o.classList.remove("bg-[#9C6BFF]","text-white"),o.classList.add("border","border-slate-200","text-slate-700"))}),Fs.forEach(o=>{o.dataset.importPanel===t?o.classList.remove("hidden"):o.classList.add("hidden")}),Vs()})}),vs==null||vs.addEventListener("click",async()=>{if(!xn)return;let e=xn.textContent||"";try{await navigator.clipboard.writeText(e),M("Template copi\xE9 !")}catch(t){console.error("[import] copy failed",t),M("Erreur copie")}}),zo==null||zo.addEventListener("click",mo),Rt==null||Rt.addEventListener("click",Or),wt==null||wt.addEventListener("click",e=>{e.target===wt&&mo()}),pe==null||pe.addEventListener("click",e=>{e.stopPropagation(),Gr()}),document.addEventListener("click",e=>{Rs&&(ne!=null&&ne.contains(e.target)||pe!=null&&pe.contains(e.target)||Us())}),be.forEach(e=>{e.addEventListener("click",t=>{t.stopPropagation();let o=e.dataset.blockAdd;Zr(o)})}),Pe==null||Pe.addEventListener("click",()=>{po()}),Ne==null||Ne.addEventListener("click",()=>{ho&&jn(ho),po()}),ie==null||ie.addEventListener("click",e=>{e.target===ie&&po()}),g==null||g.addEventListener("input",e=>{var r,l,u,p;let t=e.target;if(!t||!t.name)return;if(t.name==="group-columns-mobile"||t.name==="group-columns-desktop"){let R=((r=g.querySelector('[name="group-columns-mobile"]'))==null?void 0:r.value)||"1",ue=((l=g.querySelector('[name="group-columns-desktop"]'))==null?void 0:l.value)||"3";Ps(R,ue)}if(t.name==="collection-columns-mobile"||t.name==="collection-columns-desktop"){let R=((u=g.querySelector('[name="collection-columns-mobile"]'))==null?void 0:u.value)||"1",ue=((p=g.querySelector('[name="collection-columns-desktop"]'))==null?void 0:p.value)||"3";ro(R,ue)}let o=t.closest("[data-block-panel]");if(o&&o.dataset.blockPanel==="appearance"){let R=bs(),ue=jt(R);if(R&&ue){let Fe=ss(ue);le(R.id,Fe)}}}),g==null||g.addEventListener("change",e=>{var r,l;let t=e.target;if(!t||!t.name)return;if(t.hasAttribute("data-color-select")){let u=t.options[t.selectedIndex],p=((r=u==null?void 0:u.dataset)==null?void 0:r.color)||"#ffffff",R=(l=t.closest(".relative"))==null?void 0:l.querySelector("[data-color-preview]");R&&(p==="transparent"?R.style.background=Qt:R.style.background=p)}let o=t.closest("[data-block-panel]");if(o&&o.dataset.blockPanel==="appearance"){let u=bs(),p=jt(u);if(u&&p){let R=ss(p);le(u.id,R)}}}),Te==null||Te.addEventListener("change",e=>{let t=e.target;Ko((t==null?void 0:t.value)||"")}),g==null||g.addEventListener("submit",ce),Jt==null||Jt.addEventListener("click",e=>{e.preventDefault();let t=bs();t&&ao(t)}),H.length>0&&(H.forEach(e=>{e.addEventListener("click",()=>{let t=e.dataset.previewView||"desktop";qn(t)})}),qn("desktop")),f==null||f.addEventListener("load",()=>{Zo=!0,Ct("\xC0 jour"),Ds(Ze)}),X==null||X.addEventListener("click",()=>{let e=window.open("","_blank");if(!e)return;e.opener=null;let t=e.document;t.open(),t.write(Go||a()),t.close()});let Dn=e=>{var t,o,r;B&&(e?(B.classList.remove("hidden"),m&&(U&&(U.value=((t=m.seo)==null?void 0:t.title)||""),L&&(L.value=((o=m.seo)==null?void 0:o.description)||""),S&&(S.checked=((r=m.seo)==null?void 0:r.indexed)!==!1))):B.classList.add("hidden"))},vo=(e,t="muted")=>{if(!b)return;let o=t==="success"?"text-emerald-600":t==="error"?"text-rose-600":"text-slate-500";b.textContent=e||"",b.className=`text-sm ${o}`};T==null||T.addEventListener("click",()=>{let e=B&&!B.classList.contains("hidden");Dn(!e)}),P==null||P.addEventListener("click",()=>Dn(!1)),j==null||j.addEventListener("submit",async e=>{var t;if(e.preventDefault(),!m){vo("Aucune page active.","error");return}A&&(A.disabled=!0),vo("");try{let o={title:((U==null?void 0:U.value)||"").trim(),description:((L==null?void 0:L.value)||"").trim(),indexed:(t=S==null?void 0:S.checked)!=null?t:!0},r={...m,seo:o},l=await ts(r);l&&(m=l,vo("SEO enregistr\xE9.","success"),M("SEO mis \xE0 jour"),re(m))}catch(o){console.error("[seo] save failed",o),vo(o.message||"Erreur lors de la sauvegarde.","error")}finally{A&&(A.disabled=!1)}});let Xo=()=>{var e,t;if(!(!Z&&!he)){if(!m){Z&&(Z.checked=!0),he&&(he.value="");return}Z&&(Z.checked=((e=m.accessibility)==null?void 0:e.showInMainNav)!==!1),he&&(he.value=((t=m.accessibility)==null?void 0:t.mainLabel)||"")}},Hn=e=>{D&&(e?(Xo(),D.classList.remove("hidden")):D.classList.add("hidden"))},bo=(e,t="muted")=>{if(!Le)return;let o=t==="success"?"text-emerald-600":t==="error"?"text-rose-600":"text-slate-500";Le.textContent=e||"",Le.className=`text-sm ${o}`};q==null||q.addEventListener("click",()=>{let e=D&&!D.classList.contains("hidden");Hn(!e)}),W==null||W.addEventListener("click",()=>Hn(!1)),_==null||_.addEventListener("submit",async e=>{var t;if(e.preventDefault(),!m){bo("Aucune page active.","error");return}Ve&&(Ve.disabled=!0),bo("");try{let o={showInMainNav:(t=Z==null?void 0:Z.checked)!=null?t:!0,mainLabel:((he==null?void 0:he.value)||"").trim()},r={...m,accessibility:o},l=await ts(r);l&&(m=l,Xo(),bo("Accessibilit\xE9 enregistr\xE9e.","success"),M("Accessibilit\xE9 mise \xE0 jour"),Wt(ae,Me),re(m))}catch(o){console.error("[accessibility] save failed",o),bo(o.message||"Erreur lors de la sauvegarde.","error")}finally{Ve&&(Ve.disabled=!1)}});let Un=e=>{K&&(e?(K.classList.remove("hidden"),m&&($&&($.value=m.name||""),k&&(k.value=m.title||""),z&&(z.value=m.slug||""),fe&&(fe.value=m.description||""))):K.classList.add("hidden"))},ws=(e,t="muted")=>{if(!C)return;let o=t==="success"?"text-emerald-600":t==="error"?"text-rose-600":"text-slate-500";C.textContent=e||"",C.className=`text-sm ${o}`};ve==null||ve.addEventListener("click",()=>{let e=K&&!K.classList.contains("hidden");Un(!e)}),Ie==null||Ie.addEventListener("click",()=>Un(!1)),Re==null||Re.addEventListener("submit",async e=>{if(e.preventDefault(),!m){ws("Aucune page active.","error");return}x&&(x.disabled=!0),ws("");try{let t=(($==null?void 0:$.value)||"").trim(),o=((k==null?void 0:k.value)||"").trim(),r=((z==null?void 0:z.value)||"").trim(),l=((fe==null?void 0:fe.value)||"").trim();if(!o){ws("Le titre est requis.","error"),x&&(x.disabled=!1);return}if(!r||!r.startsWith("/")){ws("Le slug doit commencer par /.","error"),x&&(x.disabled=!1);return}let u={...m,name:t||o,title:o,slug:r,description:l},p=await ts(u);p&&(m=p,ae=ae.map(R=>R.id===p.id?p:R),ws("Propri\xE9t\xE9s enregistr\xE9es.","success"),M("Page mise \xE0 jour"),Cn(m),Wt(ae,Me),re(m))}catch(t){console.error("[page-props] save failed",t),ws(t.message||"Erreur lors de la sauvegarde.","error")}finally{x&&(x.disabled=!1)}});let ra=e=>{let t=e.target.closest("[data-block-item]");if(!t||!fo()){e.preventDefault();return}if(Ft=t.dataset.blockId||null,!Ft){e.preventDefault();return}e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/plain",Ft),requestAnimationFrame(()=>{t.classList.add("opacity-50","scale-[0.98]","shadow-lg","ring-2","ring-[#9C6BFF]")})},Rn=()=>{E==null||E.querySelectorAll("[data-block-item]").forEach(e=>{e.classList.remove("opacity-50","scale-[0.98]","shadow-lg","ring-2","ring-[#9C6BFF]","border-t-4","border-b-4","border-t-[#9C6BFF]","border-b-[#9C6BFF]","pt-6","pb-6")})},aa=()=>{Ft=null,Rn()},ia=e=>{if(!Ft||!fo())return;let t=e.target.closest("[data-block-item]");if(!t||t.dataset.blockId===Ft)return;e.preventDefault(),e.dataTransfer.dropEffect="move";let o=t.getBoundingClientRect(),r=o.top+o.height/2,l=e.clientY<r;E==null||E.querySelectorAll("[data-block-item]").forEach(u=>{u!==t&&u.dataset.blockId!==Ft&&u.classList.remove("border-t-4","border-b-4","border-t-[#9C6BFF]","border-b-[#9C6BFF]","pt-6","pb-6")}),t.classList.remove("border-t-4","border-b-4","border-t-[#9C6BFF]","border-b-[#9C6BFF]","pt-6","pb-6"),l?t.classList.add("border-t-4","border-t-[#9C6BFF]","pt-6"):t.classList.add("border-b-4","border-b-[#9C6BFF]","pb-6"),t.dataset.dropPosition=l?"before":"after"},la=e=>{let t=e.target.closest("[data-block-item]");if(!t)return;let o=e.relatedTarget;o&&t.contains(o)||(t.classList.remove("border-t-4","border-b-4","border-t-[#9C6BFF]","border-b-[#9C6BFF]","pt-6","pb-6"),delete t.dataset.dropPosition)},ca=e=>{if(!Ft||!fo())return;e.preventDefault();let t=e.target.closest("[data-block-item]"),o=Ft,r=(t==null?void 0:t.dataset.dropPosition)||"after";Ft=null,Rn();let l=(t==null?void 0:t.dataset.blockId)||null;!l||o===l||Jr(o,l,r)},Ft=null;E==null||E.addEventListener("dragstart",ra),E==null||E.addEventListener("dragend",aa),E==null||E.addEventListener("dragover",ia),E==null||E.addEventListener("dragleave",la),E==null||E.addEventListener("drop",ca),Ho(),document.addEventListener("ai-page-updated",async e=>{var t;console.log("[design] Rafra\xEEchissement d\xE9clench\xE9 par IA",e.detail);try{let o=await ms();if(ae=(Array.isArray(o)?o:[]).map(r=>ns(r)),(t=e.detail)!=null&&t.pageId){let r=ae.find(l=>l.id===e.detail.pageId);r&&(m=r,Me=r.id,re(m),Lt(m),M("Page mise \xE0 jour par l'IA"))}else if(Me){let r=ae.find(l=>l.id===Me);r&&(m=r,re(m),Lt(m))}}catch(o){console.error("[design] Erreur rafra\xEEchissement IA:",o)}})}function mr(){var ss,Ct,io;let s=document.querySelector("[data-collection-list]");if(!s)return;let n={empty:document.querySelector('[data-content-view="empty"]'),header:document.querySelector('[data-content-view="header"]'),collection:document.querySelector('[data-content-view="collection"]'),footer:document.querySelector('[data-content-view="footer"]')},i=document.querySelectorAll("[data-content-section]"),d=document.querySelectorAll("[data-content-section-trigger]"),f=document.querySelector("[data-header-status]"),y=document.querySelector("[data-footer-status]"),V=document.querySelector("[data-collection-count]"),H=document.querySelector("[data-item-panel]"),O=document.querySelectorAll("[data-item-panel-close]"),X=document.querySelector("[data-collection-empty]"),G=document.querySelector("[data-collection-items-empty]"),w=document.querySelector("[data-item-table-wrapper]"),T=document.querySelector("[data-item-table-body]"),B=document.querySelector("[data-collection-title]"),P=document.querySelector("[data-collection-description]"),j=document.querySelector("[data-item-add]"),U=document.querySelector("[data-item-detail-empty]"),L=document.querySelector("[data-item-form]"),S=L?{title:L.querySelector('[name="item-title"]'),slug:L.querySelector('[name="item-slug"]'),excerpt:L.querySelector('[name="item-excerpt"]'),content:L.querySelector('[name="item-content"]'),image:L.querySelector('[name="item-image"]'),ctaText:L.querySelector('[name="item-cta-text"]'),ctaUrl:L.querySelector('[name="item-cta-url"]'),status:L.querySelector('[name="item-status"]')}:{},b=document.querySelector("[data-item-status-badge]"),A=document.querySelector("[data-item-delete]"),q=document.querySelector("[data-item-delete-modal]"),D=document.querySelector("[data-item-delete-cancel]"),W=document.querySelector("[data-item-delete-confirm]"),_=document.querySelector("[data-item-cancel]"),Z=document.querySelector("[data-item-save]"),he="rounded-full px-3 py-1 text-xs font-semibold",Le=()=>window.matchMedia("(min-width: 1024px)").matches,Ve=a=>{if(!H||Le())return;let c=H.dataset.itemPanelHidden||"",v=H.dataset.itemPanelVisible||"";a?(Nt(H,v,"remove"),Nt(H,c,"add"),H.classList.add("pointer-events-none"),H.dataset.itemPanelOpen="false"):(Nt(H,c,"remove"),Nt(H,v,"add"),H.classList.remove("pointer-events-none"),H.dataset.itemPanelOpen="true")},ve=()=>{if(H){if(Le()){let a=H.dataset.itemPanelHidden||"";Nt(H,a,"remove"),H.classList.remove("pointer-events-none"),H.dataset.itemPanelOpen="true";return}L!=null&&L.classList.contains("hidden")?Ve(!0):Ve(!1)}};window.addEventListener("resize",ve),O.forEach(a=>{a.addEventListener("click",c=>{c.preventDefault(),!Le()&&Te()})}),ve();let K={logo:document.querySelector('[name="header-logo"]'),logoAlt:document.querySelector('[name="header-logo-alt"]'),logoUrl:document.querySelector('[name="header-logo-url"]'),ctaText:document.querySelector('[name="header-cta-text"]'),ctaUrl:document.querySelector('[name="header-cta-url"]'),ctaStyle:document.querySelector('[name="header-cta-style"]'),position:document.querySelector('[name="header-position"]'),bg:document.querySelector('[name="header-bg"]')},Ie=document.querySelector("[data-header-nav-list]"),Re=document.querySelector("[data-header-nav-add]"),$=document.querySelector("[data-header-save]"),k=document.querySelector("[data-template-header-nav-item]"),z=document.querySelector("[data-header-pages-list]"),fe=[],C=[],x={linkedin:document.querySelector('[name="footer-social-linkedin"]'),twitter:document.querySelector('[name="footer-social-twitter"]'),instagram:document.querySelector('[name="footer-social-instagram"]'),facebook:document.querySelector('[name="footer-social-facebook"]'),youtube:document.querySelector('[name="footer-social-youtube"]'),github:document.querySelector('[name="footer-social-github"]'),copyright:document.querySelector('[name="footer-copyright"]'),legalUrl:document.querySelector('[name="footer-legal-url"]'),privacyUrl:document.querySelector('[name="footer-privacy-url"]'),bg:document.querySelector('[name="footer-bg"]'),columnsCount:document.querySelector('[name="footer-columns-count"]')},E=document.querySelector("[data-footer-columns-list]"),se=document.querySelector("[data-footer-column-add]"),Y=document.querySelector("[data-footer-save]"),pe=document.querySelector("[data-template-footer-column]"),ne=document.querySelector("[data-template-footer-link]"),be=null,ie={nav:[],logo:{},cta:{},style:{}},Ne={columns:[],socials:{},copyright:"",legal:{},style:{}},Pe=Ae((J==null?void 0:J.slugValue)||ee.slug||""),Se=Pe,Ee=Pe?`/api/sites/${encodeURIComponent(Pe)}/layout`:null,Be=a=>{Object.entries(n).forEach(([c,v])=>{v&&v.classList.toggle("hidden",c!==a)}),i.forEach(c=>{c.dataset.contentSection===a?c.dataset.active="true":delete c.dataset.active}),be=a};i.forEach(a=>{a.addEventListener("click",()=>{let c=a.dataset.contentSection;(c==="header"||c==="footer")&&Be(c)})}),d.forEach(a=>{a.addEventListener("click",()=>{let c=a.dataset.contentSectionTrigger;c&&Be(c)})});let Dt=async()=>{if(!(!Se||!z))try{let a=await fetch(`/api/sites/${Se}/pages`,{credentials:"include"});if(!a.ok)throw new Error("Erreur chargement pages");fe=await a.json(),g()}catch(a){console.error("[header] load pages error",a),z.innerHTML='<p class="text-xs text-red-500">Erreur chargement pages</p>'}},h=a=>{let c=(a||"").toString().trim();if(!c||c==="/"||c==="index")return"/";let v=c.toLowerCase();if(c.startsWith("#")||v.startsWith("mailto:")||v.startsWith("tel:")||/^[a-z]+:\/\//i.test(c))return c;if(c.startsWith("//")){let Q=c.slice(2);if(Q.includes("."))return c;let le=Q.replace(/^\/+/,"").replace(/\/+$/,"");return le?`/${le}`:"/"}let F=c.replace(/^\/+/,"").replace(/\/+$/,"");return F?`/${F}`:"/"},I=(a,c="")=>{let v=(a||"").toString().trim();return v?h(v):c},g=()=>{if(z){if(z.innerHTML="",fe.length===0){z.innerHTML='<p class="text-xs text-slate-400 italic">Aucune page disponible</p>';return}fe.forEach(a=>{let c=a.slug||a.id||"",v=a.name||a.title||c,F=h(c),Q=C.some(ce=>ce.url===F),le=document.createElement("label");le.className="flex items-center gap-2 px-3 py-2 rounded-lg border border-slate-200 hover:bg-slate-50 cursor-pointer transition-colors",le.innerHTML=`
          <input type="checkbox" name="nav-page" value="${F}" data-page-title="${v}"
                 class="w-4 h-4 rounded border-slate-300 text-violet-600 focus:ring-violet-500"
                 ${Q?"checked":""}>
          <span class="flex-1 text-sm text-slate-700">${v}</span>
          <span class="text-xs text-slate-400">${F}</span>
        `;let re=le.querySelector("input");re.addEventListener("change",()=>{re.checked?C.some(ce=>ce.url===F)||C.push({label:v,url:F}):C=C.filter(ce=>ce.url!==F)}),z.appendChild(le)})}},oe=()=>{var c,v,F,Q,le,re,ce,ke,xe,et,tt;let a=[];return z==null||z.querySelectorAll('input[name="nav-page"]:checked').forEach($e=>{let ye=h($e.value),ze=$e.dataset.pageTitle||ye;a.push({label:ze,url:ye})}),{logo:{src:((v=(c=K.logo)==null?void 0:c.value)==null?void 0:v.trim())||"",alt:((Q=(F=K.logoAlt)==null?void 0:F.value)==null?void 0:Q.trim())||"",url:I((le=K.logoUrl)==null?void 0:le.value,"/")},nav:a,cta:{text:((ce=(re=K.ctaText)==null?void 0:re.value)==null?void 0:ce.trim())||"",url:I((ke=K.ctaUrl)==null?void 0:ke.value,""),style:((xe=K.ctaStyle)==null?void 0:xe.value)||"primary"},style:{position:((et=K.position)==null?void 0:et.value)||"static",bg:((tt=K.bg)==null?void 0:tt.value)||"bg-white"}}},It=async a=>{var v,F,Q,le,re,ce,ke,xe,et,tt,$e;if(!a)return;K.logo&&(K.logo.value=((v=a.logo)==null?void 0:v.src)||""),K.logoAlt&&(K.logoAlt.value=((F=a.logo)==null?void 0:F.alt)||""),K.logoUrl&&(K.logoUrl.value=I((Q=a.logo)==null?void 0:Q.url,"/")),K.ctaText&&(K.ctaText.value=((le=a.cta)==null?void 0:le.text)||""),K.ctaUrl&&(K.ctaUrl.value=I((re=a.cta)==null?void 0:re.url,"")),K.ctaStyle&&(K.ctaStyle.value=((ce=a.cta)==null?void 0:ce.style)||"primary"),K.position&&(K.position.value=((ke=a.style)==null?void 0:ke.position)||"static"),K.bg&&(K.bg.value=((xe=a.style)==null?void 0:xe.bg)||"bg-white"),C=(a.nav||[]).map(ye=>({...ye,url:h(ye.url)})),await Dt();let c=((et=a.logo)==null?void 0:et.src)||((tt=a.nav)==null?void 0:tt.length)>0||(($e=a.cta)==null?void 0:$e.text);f&&(f.classList.toggle("bg-green-500",!!c),f.classList.toggle("bg-slate-300",!c),f.title=c?"Configur\xE9":"Non configur\xE9")};$==null||$.addEventListener("click",async()=>{if(Ee){$.disabled=!0,$.textContent="Enregistrement...";try{let a=oe();if(!(await fetch(`${Ee}/header`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(a)})).ok)throw new Error("Erreur serveur");ie=a,It(a),M("Header enregistr\xE9")}catch(a){console.error("[header] save error",a),M("Erreur lors de l'enregistrement","error")}finally{$.disabled=!1,$.textContent="Enregistrer"}}});let Xt=(a,c="",v="")=>{if(!ne||!a)return;let F=ne.content.cloneNode(!0),Q=F.querySelector("[data-footer-link]"),le=F.querySelector('[name="link-label"]'),re=F.querySelector('[name="link-url"]'),ce=F.querySelector("[data-link-remove]");le&&(le.value=c),re&&(re.value=v),ce==null||ce.addEventListener("click",()=>Q==null?void 0:Q.remove()),a.appendChild(F)},so=(a="",c=[])=>{if(!pe||!E)return;let v=pe.content.cloneNode(!0),F=v.querySelector("[data-footer-column]"),Q=v.querySelector('[name="column-title"]'),le=v.querySelector("[data-column-links]"),re=v.querySelector("[data-column-link-add]"),ce=v.querySelector("[data-column-remove]");Q&&(Q.value=a),c.forEach(ke=>Xt(le,ke.label,ke.url)),re==null||re.addEventListener("click",()=>Xt(le)),ce==null||ce.addEventListener("click",()=>F==null?void 0:F.remove()),E.appendChild(v)},Mo=()=>{var c,v,F,Q,le,re,ce,ke,xe,et,tt,$e,ye,ze,Et,st,fs,Je,Ht,ps;let a=[];return E==null||E.querySelectorAll("[data-footer-column]").forEach(lt=>{var gs,hs;let lo=((hs=(gs=lt.querySelector('[name="column-title"]'))==null?void 0:gs.value)==null?void 0:hs.trim())||"",ot=[];lt.querySelectorAll("[data-footer-link]").forEach(Ms=>{var nt,ys,Fs,vs;let We=((ys=(nt=Ms.querySelector('[name="link-label"]'))==null?void 0:nt.value)==null?void 0:ys.trim())||"",Ge=((vs=(Fs=Ms.querySelector('[name="link-url"]'))==null?void 0:Fs.value)==null?void 0:vs.trim())||"";(We||Ge)&&ot.push({label:We,url:Ge})}),(lo||ot.length>0)&&a.push({title:lo,links:ot})}),{columns:a,socials:{linkedin:((v=(c=x.linkedin)==null?void 0:c.value)==null?void 0:v.trim())||"",twitter:((Q=(F=x.twitter)==null?void 0:F.value)==null?void 0:Q.trim())||"",instagram:((re=(le=x.instagram)==null?void 0:le.value)==null?void 0:re.trim())||"",facebook:((ke=(ce=x.facebook)==null?void 0:ce.value)==null?void 0:ke.trim())||"",youtube:((et=(xe=x.youtube)==null?void 0:xe.value)==null?void 0:et.trim())||"",github:(($e=(tt=x.github)==null?void 0:tt.value)==null?void 0:$e.trim())||""},copyright:((ze=(ye=x.copyright)==null?void 0:ye.value)==null?void 0:ze.trim())||"",legal:{url:((st=(Et=x.legalUrl)==null?void 0:Et.value)==null?void 0:st.trim())||"",privacyUrl:((Je=(fs=x.privacyUrl)==null?void 0:fs.value)==null?void 0:Je.trim())||""},style:{bg:((Ht=x.bg)==null?void 0:Ht.value)||"bg-slate-900 text-white",columnsCount:((ps=x.columnsCount)==null?void 0:ps.value)||"4"}}},$s=a=>{var v,F,Q,le,re,ce,ke,xe,et,tt,$e;if(!a)return;x.linkedin&&(x.linkedin.value=((v=a.socials)==null?void 0:v.linkedin)||""),x.twitter&&(x.twitter.value=((F=a.socials)==null?void 0:F.twitter)||""),x.instagram&&(x.instagram.value=((Q=a.socials)==null?void 0:Q.instagram)||""),x.facebook&&(x.facebook.value=((le=a.socials)==null?void 0:le.facebook)||""),x.youtube&&(x.youtube.value=((re=a.socials)==null?void 0:re.youtube)||""),x.github&&(x.github.value=((ce=a.socials)==null?void 0:ce.github)||""),x.copyright&&(x.copyright.value=a.copyright||""),x.legalUrl&&(x.legalUrl.value=((ke=a.legal)==null?void 0:ke.url)||""),x.privacyUrl&&(x.privacyUrl.value=((xe=a.legal)==null?void 0:xe.privacyUrl)||""),x.bg&&(x.bg.value=((et=a.style)==null?void 0:et.bg)||"bg-slate-900 text-white"),x.columnsCount&&(x.columnsCount.value=((tt=a.style)==null?void 0:tt.columnsCount)||"4"),E&&(E.innerHTML=""),(a.columns||[]).forEach(ye=>so(ye.title,ye.links));let c=(($e=a.columns)==null?void 0:$e.length)>0||a.copyright||Object.values(a.socials||{}).some(ye=>ye);y&&(y.classList.toggle("bg-green-500",!!c),y.classList.toggle("bg-slate-300",!c),y.title=c?"Configur\xE9":"Non configur\xE9")};se==null||se.addEventListener("click",()=>so()),Y==null||Y.addEventListener("click",async()=>{if(Ee){Y.disabled=!0,Y.textContent="Enregistrement...";try{let a=Mo();if(!(await fetch(`${Ee}/footer`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(a)})).ok)throw new Error("Erreur serveur");Ne=a,$s(a),M("Footer enregistr\xE9")}catch(a){console.error("[footer] save error",a),M("Erreur lors de l'enregistrement","error")}finally{Y.disabled=!1,Y.textContent="Enregistrer"}}}),(async()=>{if(Ee)try{let a=await fetch(Ee,{credentials:"include"});if(a.ok){let c=await a.json();c.header&&(ie=c.header,It(c.header)),c.footer&&(Ne=c.footer,$s(c.footer))}}catch(a){console.error("[layout] load error",a)}})();let oo=Ae((J==null?void 0:J.slugValue)||ee.slug||""),ut=oo?`/api/sites/${encodeURIComponent(oo)}/collections`:null,Bt=[],De=[],Oe=null,He=null,mt=!1,zt=!1,Vt=null,Is=a=>{let c=(a||"").trim();if(!c)return"";if(c==="/")return"/";let F=c.replace(/^\//,"").split("/").map(Q=>Yt(Q||"")).filter(Q=>Q.length>0);return F.length?`/${F.join("/")}`:""},Bs=a=>{if(!a)return"\u2014";let c=new Date(a);return Number.isNaN(c.getTime())?"\u2014":c.toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric"})},Ot=()=>{let a=Bt.find(c=>c.id===Oe);B&&(B.textContent=(a==null?void 0:a.name)||"S\xE9lectionnez une collection"),P&&(P.textContent=(a==null?void 0:a.description)||"")},cs=a=>{G&&(G.textContent=a||(Oe?"Aucun item dans cette collection pour le moment.":"Choisissez une collection dans le panneau de gauche."))},Te=()=>{L&&(L.classList.add("hidden"),L.dataset.itemId=""),U==null||U.classList.remove("hidden"),b&&(b.className=`hidden ${he}`,b.textContent=""),A&&(A.disabled=!0),ve()},es=()=>{L&&(L.classList.remove("hidden"),U==null||U.classList.add("hidden"),ve())},Jt=()=>{j&&(j.disabled=!Oe,j.disabled?j.classList.add("opacity-60","pointer-events-none"):j.classList.remove("opacity-60","pointer-events-none"))},ds=a=>{if(!b)return;if(!a){b.className=`hidden ${he}`,b.textContent="";return}let c=a.toLowerCase(),v="bg-slate-100 text-slate-600 border border-slate-200";c==="publi\xE9"||c==="publie"?v="bg-emerald-50 text-emerald-700 border border-emerald-100":c==="brouillon"&&(v="bg-amber-50 text-amber-700 border border-amber-100"),b.className=`${he} ${v}`,b.textContent=a},js=()=>{if(s.innerHTML="",V&&(V.textContent=Bt.length),!Bt.length){X==null||X.classList.remove("hidden");return}X==null||X.classList.add("hidden"),Bt.forEach(a=>{let c=a.id===Oe,v=document.createElement("button");v.type="button",v.dataset.collectionId=a.id,v.className=["w-full rounded-xl border px-3 py-2 text-left transition focus:outline-none focus:ring-2 focus:ring-[#9C6BFF]/40",c?"bg-[#F7F0FF] border-[#9C6BFF]/40 text-slate-900":"border-slate-200 text-slate-700 hover:border-[#9C6BFF]/40"].join(" "),v.setAttribute("role","option"),c?v.setAttribute("aria-current","true"):v.removeAttribute("aria-current"),v.innerHTML=`
          <div class="flex items-center justify-between gap-2">
            <div>
              <p class="text-sm font-semibold">${a.name||a.id}</p>
              <p class="text-xs text-slate-500">${a.description||""}</p>
            </div>
            <span class="text-[11px] uppercase tracking-wide text-slate-400">${a.type||""}</span>
          </div>
        `,v.addEventListener("click",()=>{ms(a.id)}),s.appendChild(v)})},gt=()=>{if(T){if(T.innerHTML="",!De.length||!Oe){G==null||G.classList.remove("hidden"),cs(),w==null||w.classList.add("hidden");return}G==null||G.classList.add("hidden"),w==null||w.classList.remove("hidden"),De.forEach(a=>{let c=document.createElement("tr");c.dataset.itemId=a.id;let v=a.id===He&&!mt;c.className=["cursor-pointer transition focus-within:bg-[#F7F0FF]/70 focus:outline-none",v?"bg-[#F7F0FF]/70":"hover:bg-slate-50"].join(" "),c.tabIndex=0,c.setAttribute("role","button"),v?c.setAttribute("aria-current","true"):c.removeAttribute("aria-current");let F=a.status||"Brouillon",Q=F.toLowerCase(),le=Q==="publi\xE9"||Q==="publie"?"bg-emerald-50 text-emerald-700 border border-emerald-100":"bg-amber-50 text-amber-700 border border-amber-100";c.innerHTML=`
          <td class="px-4 py-3 align-top">
            <div class="flex flex-col">
              <span class="text-sm font-semibold text-slate-900">${a.title||"Sans titre"}</span>
              <span class="text-xs text-slate-500">${a.summary||a.excerpt||""}</span>
            </div>
          </td>
          <td class="px-4 py-3 align-top text-sm text-slate-600">${a.slug||""}</td>
          <td class="px-4 py-3 align-top">
            <span class="inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold ${le}">
              ${F}
            </span>
          </td>
          <td class="px-4 py-3 align-top text-sm text-slate-500">${Bs(a.updatedAt||a.createdAt)}</td>
        `;let re=()=>{no(a.id)};c.addEventListener("click",re),c.addEventListener("keydown",ce=>{(ce.key==="Enter"||ce.key===" ")&&(ce.preventDefault(),re())}),T.appendChild(c)})}},no=a=>{let c=De.find(v=>v.id===a);c&&(He=c.id,mt=!1,zt=!0,us(c),gt())},us=a=>{var c,v;if(!L||!a){Te();return}es(),L.dataset.itemId=a.id,S.title&&(S.title.value=a.title||""),S.slug&&(S.slug.value=a.slug||""),S.excerpt&&(S.excerpt.value=a.summary||a.excerpt||""),S.content&&(S.content.value=a.content||""),S.image&&(S.image.value=a.image||""),S.ctaText&&(S.ctaText.value=((c=a.cta)==null?void 0:c.text)||a.ctaText||""),S.ctaUrl&&(S.ctaUrl.value=((v=a.cta)==null?void 0:v.url)||a.ctaUrl||""),S.status&&(S.status.value=a.status||"Brouillon"),ds(a.status||"Brouillon"),A&&(A.disabled=!1)},Fo=()=>{var a;L&&(mt=!0,He=null,zt=!1,L.dataset.itemId="",L.reset(),S.status&&(S.status.value="Brouillon"),S.slug&&(S.slug.value=""),ds("Brouillon"),es(),A&&(A.disabled=!0),(a=S.title)==null||a.focus())},No=()=>{var xe,et,tt,$e,ye,ze,Et,st;let a=(((xe=S.title)==null?void 0:xe.value)||"").trim(),c=(((et=S.slug)==null?void 0:et.value)||"").trim(),v=(((tt=S.excerpt)==null?void 0:tt.value)||"").trim(),F=((($e=S.content)==null?void 0:$e.value)||"").trim(),Q=(((ye=S.image)==null?void 0:ye.value)||"").trim(),le=(((ze=S.ctaText)==null?void 0:ze.value)||"").trim(),re=(((Et=S.ctaUrl)==null?void 0:Et.value)||"").trim(),ce=((st=S.status)==null?void 0:st.value)||"Brouillon",ke=le||re?{text:le,url:re}:null;return{title:a,slug:Is(c||a),summary:v,excerpt:v,content:F,image:Q,status:ce,...ke&&{cta:ke}}},Ps=a=>{Z&&(Z.disabled=a,Z.textContent=a?"Enregistrement\u2026":"Enregistrer"),A&&!mt&&He&&(A.disabled=a)},ro=async a=>{if(!ut)return[];let c=await fetch(`${ut}/${encodeURIComponent(a)}/items`,{headers:{Accept:"application/json"}});if(!c.ok){let F=await c.json().catch(()=>({}));throw new Error(F.message||"Impossible de charger les items.")}let v=await c.json().catch(()=>({}));return Array.isArray(v.items)?v.items:[]},ms=async a=>{if(a&&(Oe=a,He=null,mt=!1,zt=!1,Be("collection"),Ot(),Jt(),js(),Te(),De=[],gt(),cs("Chargement des items\u2026"),G==null||G.classList.remove("hidden"),w==null||w.classList.add("hidden"),!!ut))try{De=await ro(a),gt(),De.length||cs()}catch(c){console.error("[content] items failed",c),M(c.message||"Impossible de charger les items."),De=[],gt()}},Do=async(a,c)=>{if(!ut)throw new Error("Site inconnu.");let v=await fetch(`${ut}/${encodeURIComponent(a)}/items`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});if(!v.ok){let F=await v.json().catch(()=>({}));throw new Error(F.message||"Impossible de cr\xE9er cet item.")}return v.json()},ts=async(a,c,v)=>{if(!ut)throw new Error("Site inconnu.");let F=await fetch(`${ut}/${encodeURIComponent(a)}/items/${encodeURIComponent(c)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(v)});if(!F.ok){let Q=await F.json().catch(()=>({}));throw new Error(Q.message||"Impossible de sauvegarder cet item.")}return F.json()},Ho=async(a,c)=>{if(!ut)throw new Error("Site inconnu.");let v=await fetch(`${ut}/${encodeURIComponent(a)}/items/${encodeURIComponent(c)}`,{method:"DELETE"});if(!v.ok){let F=await v.json().catch(()=>({}));throw new Error(F.message||"Impossible de supprimer cet item.")}},Uo=async()=>{var a;if(!ut){X==null||X.classList.remove("hidden"),Oe=null,De=[],gt(),Ot(),Jt();return}try{let c=await fetch(ut,{headers:{Accept:"application/json"}});if(!c.ok)throw new Error("Impossible de charger les collections.");let v=await c.json().catch(()=>[]);if(Bt=Array.isArray(v)?v:[],js(),Bt.length>0){let F=((a=Bt.find(Q=>Q.id===Oe))==null?void 0:a.id)||Bt[0].id;ms(F)}else Oe=null,De=[],Ot(),Jt(),gt()}catch(c){console.error("[content] load collections",c),M(c.message||"Impossible de charger les collections.")}};j==null||j.addEventListener("click",()=>{if(!Oe){M("S\xE9lectionnez d\u2019abord une collection.");return}Fo(),gt()}),_==null||_.addEventListener("click",a=>{if(a.preventDefault(),mt){mt=!1,He=null,Te(),gt();return}if(He){let c=De.find(v=>v.id===He);us(c)}else Te()}),(ss=S.status)==null||ss.addEventListener("change",()=>{ds(S.status.value)}),(Ct=S.title)==null||Ct.addEventListener("input",()=>{!mt||!S.slug||zt||(S.slug.value=Is(S.title.value))}),(io=S.slug)==null||io.addEventListener("input",()=>{mt&&(zt=!0)}),L==null||L.addEventListener("submit",async a=>{var v;if(a.preventDefault(),!Oe){M("S\xE9lectionnez une collection.");return}let c=No();if(!c.title){M("Le titre est requis."),(v=S.title)==null||v.focus();return}Ps(!0);try{let F;mt||!He?(F=await Do(Oe,c),De=[...De,F],M("Item cr\xE9\xE9")):(F=await ts(Oe,He,c),De=De.map(Q=>Q.id===F.id?F:Q),M("Item mis \xE0 jour")),mt=!1,He=F.id,us(F),gt()}catch(F){console.error("[content] save item failed",F),M(F.message||"Impossible de sauvegarder cet item.")}finally{Ps(!1)}});let jt=()=>{q&&(q.classList.add("hidden"),q.classList.remove("flex"),Vt=null)},ao=()=>{!q||!He||(Vt=He,q.classList.remove("hidden"),q.classList.add("flex"))};A==null||A.addEventListener("click",a=>{a.preventDefault(),He&&ao()}),D==null||D.addEventListener("click",()=>{jt()}),q==null||q.addEventListener("click",a=>{a.target===q&&jt()}),W==null||W.addEventListener("click",async()=>{if(!Vt||!Oe){jt();return}W.disabled=!0,W.textContent="Suppression\u2026";try{await Ho(Oe,Vt),De=De.filter(a=>a.id!==Vt),He===Vt&&(He=null,Te()),M("Item supprim\xE9"),gt()}catch(a){console.error("[content] delete item failed",a),M(a.message||"Impossible de supprimer cet item.")}finally{W.disabled=!1,W.textContent="Supprimer",jt()}}),Ot(),Jt(),Uo()}function fr(){let s=document.querySelector("[data-deploy-form]");if(!s)return;let n=document.querySelector("[data-deploy-protocol]"),i=document.querySelector("[data-deploy-host]"),d=document.querySelector("[data-deploy-port]"),f=document.querySelector("[data-deploy-user]"),y=document.querySelector("[data-deploy-password]"),V=document.querySelector("[data-deploy-show-password]"),H=document.querySelector("[data-deploy-remote-path]"),O=document.querySelector("[data-deploy-feedback]"),X=document.querySelector("[data-deploy-save]"),G=document.querySelector("[data-deploy-test]"),w=document.querySelector("[data-deploy-trigger]"),T=document.querySelector("[data-deploy-history]"),B=document.querySelector("[data-deploy-log]"),P=Ae((J==null?void 0:J.slugValue)||ee.slug||""),j=P?`/api/sites/${encodeURIComponent(P)}/deploy-config`:null,U=P?`/api/sites/${encodeURIComponent(P)}/deploy`:null,L=P?`/api/sites/${encodeURIComponent(P)}/deploy-log`:null,S=!1,b=null,A=$=>{let k=($||"").trim();return k?k.startsWith("/")?k:`/${k}`:"/www"},q=($,k="muted")=>{if(!O)return;let z="inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold",fe=k==="success"?"bg-emerald-50 text-emerald-700 border border-emerald-100":k==="error"?"bg-rose-50 text-rose-700 border border-rose-100":"bg-slate-50 text-slate-600 border border-slate-100";if(!$){O.textContent="",O.className="text-sm text-slate-500";return}let C=k==="success"?"\u2705":k==="error"?"\u274C":"\u2139\uFE0F";O.innerHTML=`<span class="${z} ${fe}">${C}<span>${$}</span></span>`,O.className="text-sm"},D=($=null)=>{b=$;let k=!!$,z='<svg class="h-4 w-4 animate-spin text-white" viewBox="0 0 24 24" fill="none" aria-hidden="true"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"></path></svg>';X&&(X.disabled=k,X.innerHTML=$==="save"?`<span class="inline-flex items-center gap-2">${z}<span>Enregistrement\u2026</span></span>`:"Enregistrer"),G&&(G.disabled=k,G.innerHTML=$==="test"?'<span class="inline-flex items-center gap-2"><span class="h-4 w-4 animate-spin rounded-full border-2 border-slate-200 border-t-slate-600"></span><span>Test en cours\u2026</span></span>':"Tester la connexion"),w&&(w.disabled=k&&$!==null,w.innerHTML=$==="deploy"?'<span class="inline-flex items-center gap-2"><span class="h-4 w-4 animate-spin rounded-full border-2 border-white/60 border-t-white"></span><span>D\xE9ploiement\u2026</span></span>':"D\xE9ployer maintenant")},W=$=>{n&&(n.value=$.protocol||"sftp"),i&&(i.value=$.host||""),d&&(d.value=$.port||""),f&&(f.value=$.user||""),H&&(H.value=$.remotePath||"/www"),S=!!$.hasPassword,y&&(y.value="",y.placeholder=S?"Non affich\xE9":"Mot de passe")},_=($=[])=>{if(T){if(T.innerHTML="",!$.length){let k=document.createElement("li");k.className="text-slate-500",k.textContent="Aucun d\xE9ploiement pour le moment.",T.appendChild(k);return}$.forEach(k=>{let z=document.createElement("li");z.className="flex items-center justify-between gap-2 rounded-xl border border-slate-200 px-3 py-2";let fe=k.status==="success"?'<span class="rounded-full bg-emerald-50 px-2 py-0.5 text-[11px] font-semibold text-emerald-700">Succ\xE8s</span>':'<span class="rounded-full bg-rose-50 px-2 py-0.5 text-[11px] font-semibold text-rose-700">\xC9chec</span>',C=k.finishedAt||k.startedAt||"",x=k.durationMs&&Number(k.durationMs)>=0?`${Math.round(Number(k.durationMs)/1e3)}s`:"";z.innerHTML=`
          <div class="space-y-1">
            <div class="flex items-center gap-2">${fe}<span class="text-xs text-slate-500">${C}</span></div>
            <p class="text-sm text-slate-800">${k.message||""}</p>
          </div>
          <div class="text-xs text-slate-500">${x}</div>
        `,z.dataset.deployId=k.id||"",z.addEventListener("click",()=>{k.logs&&B&&(B.textContent=k.logs.join(`
`))}),T.appendChild(z)})}},Z=($=[])=>{B&&(B.textContent=$.length?$.join(`
`):"Aucun log pour le moment.")},he=async()=>{var $;if(L)try{let k=await fetch(L,{headers:{Accept:"application/json"}});if(!k.ok){if(k.status===404){_([]),Z(["API d\xE9ploiement indisponible (red\xE9marre le serveur)."]);return}throw new Error("Impossible de charger l\u2019historique.")}let z=await k.json().catch(()=>({})),fe=Array.isArray(z.entries)?z.entries:[];_(fe),($=fe[0])!=null&&$.logs&&Z(fe[0].logs)}catch(k){console.error("[deploy] history failed",k)}},Le=async()=>{if(!j){q("Aucun site actif s\xE9lectionn\xE9.","error");return}D("load");try{let $=await fetch(j,{headers:{Accept:"application/json"}}),k=await $.json().catch(()=>({}));$.ok?(W(k||{}),q("Configuration charg\xE9e.","muted")):(W(k||{}),q(k.message||"Configuration par d\xE9faut charg\xE9e.","muted"))}catch($){console.error("[deploy] load failed",$),q($.message||"Erreur lors du chargement.","error")}finally{D(null)}},Ve=()=>{let $={protocol:(n==null?void 0:n.value)||"sftp",host:(i==null?void 0:i.value.trim())||"",port:Number(d==null?void 0:d.value)||void 0,user:(f==null?void 0:f.value.trim())||"",remotePath:A((H==null?void 0:H.value)||"/www")},k=(y==null?void 0:y.value)||"";return k.trim().length>0&&($.password=k),$};s.addEventListener("submit",async $=>{if($.preventDefault(),!j){q("Aucun site actif s\xE9lectionn\xE9.","error");return}let k=Ve();D("save");try{let z=await fetch(j,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(k)});if(!z.ok){let C=await z.json().catch(()=>({}));throw new Error(C.message||"Sauvegarde impossible.")}let fe=await z.json();W(fe||{}),q("Configuration enregistr\xE9e.","success"),M("Configuration d\xE9ploiement sauvegard\xE9e")}catch(z){console.error("[deploy] save failed",z),q(z.message||"Erreur lors de la sauvegarde.","error")}finally{D(null)}}),G==null||G.addEventListener("click",async()=>{if(!j){q("Aucun site actif s\xE9lectionn\xE9.","error");return}let $=Ve();if(!$.host||!$.user||!$.remotePath){q("Remplissez les champs requis avant de tester.","error");return}D("test");try{let k=await fetch(`${j}/test`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify($)}),z=await k.json().catch(()=>({}));if(!k.ok||z.success===!1){q(z.message||"Test de connexion \xE9chou\xE9.","error");return}q(z.message||"Connexion OK.","success"),M("Test de connexion r\xE9ussi")}catch(k){console.error("[deploy] test failed",k),q(k.message||"Test de connexion \xE9chou\xE9.","error")}finally{D(null)}}),w==null||w.addEventListener("click",async()=>{if(!U){q("Aucun site actif s\xE9lectionn\xE9.","error");return}D("deploy"),Z(["D\xE9ploiement en cours\u2026"]);try{let $=await fetch(U,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ve())}),k=await $.json().catch(()=>({}));if(!$.ok){if($.status===404){q("API d\xE9ploiement indisponible (red\xE9marre le serveur).","error"),Z(["API d\xE9ploiement indisponible (red\xE9marre le serveur)."]);return}throw Z(k.logs||[]),new Error(k.message||"D\xE9ploiement \xE9chou\xE9.")}Z(k.logs||[]),await he(),M("D\xE9ploiement termin\xE9")}catch($){console.error("[deploy] run failed",$),q($.message||"D\xE9ploiement \xE9chou\xE9.","error")}finally{D(null)}}),V==null||V.addEventListener("change",()=>{y&&(y.type=V.checked?"text":"password")});let ve=document.querySelector("[data-download-build]"),K=document.querySelector("[data-download-feedback]"),Ie=P?`/api/sites/${encodeURIComponent(P)}/download`:null,Re=($,k="muted")=>{if(!K)return;let z=k==="success"?"text-emerald-600":k==="error"?"text-rose-600":"text-slate-500";K.textContent=$||"",K.className=`text-sm ${z}`};ve==null||ve.addEventListener("click",async()=>{if(!Ie){Re("Aucun site actif s\xE9lectionn\xE9.","error");return}ve.disabled=!0;let $=ve.innerHTML;ve.innerHTML=`
        <svg class="w-4 h-4 animate-spin" fill="none" viewBox="0 0 24 24">
          <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
          <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"></path>
        </svg>
        <span>Build en cours...</span>
      `,Re("G\xE9n\xE9ration du build en cours...","muted");try{let k=await fetch(Ie);if(!k.ok){let x=await k.json().catch(()=>({}));throw new Error(x.message||"Impossible de g\xE9n\xE9rer le ZIP.")}let z=await k.blob(),fe=window.URL.createObjectURL(z),C=document.createElement("a");C.href=fe,C.download=`${P}-build.zip`,document.body.appendChild(C),C.click(),document.body.removeChild(C),window.URL.revokeObjectURL(fe),Re("T\xE9l\xE9chargement termin\xE9 !","success"),M("Build t\xE9l\xE9charg\xE9 avec succ\xE8s")}catch(k){console.error("[download] failed",k),Re(k.message||"Erreur lors du t\xE9l\xE9chargement.","error")}finally{ve.disabled=!1,ve.innerHTML=$}}),Le(),he()}function pr(){let s=document.querySelectorAll("[data-settings-tab]"),n=document.querySelectorAll("[data-settings-panel]"),i=document.querySelector("[data-admin-password-form]"),d=document.querySelector("[data-site-config-form]"),f=document.querySelector("[data-site-config-feedback]"),y=document.querySelector("[data-theme-form]"),V=w=>{s.forEach(T=>{let B=T.dataset.settingsTab===w;T.setAttribute("aria-selected",B?"true":"false"),T.classList.toggle("bg-[#9C6BFF]",B),T.classList.toggle("text-white",B)}),n.forEach(T=>{T.classList.toggle("hidden",T.dataset.settingsPanel!==w)})};if(s.forEach(w=>{w.addEventListener("click",()=>V(w.dataset.settingsTab||"account"))}),V("account"),i){let w=i.querySelector("[data-admin-password-feedback]"),T=i.querySelector("[data-admin-password-submit]"),B=(P,j="muted")=>{if(!w)return;let U=j==="success"?"text-emerald-600":j==="error"?"text-rose-600":"text-slate-500";w.textContent=P||"",w.className=`text-sm ${U}`};i.addEventListener("submit",async P=>{P.preventDefault();let j=new FormData(i),U=j.get("currentPassword")||"",L=j.get("newPassword")||"",S=j.get("confirmPassword")||"";if(!U||!L||!S){B("Compl\xE8te tous les champs.","error");return}T&&(T.disabled=!0),B("");try{let b=await fetch("/api/admin/password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentPassword:U,newPassword:L,confirmPassword:S})}),A=await b.json().catch(()=>({}));if(!b.ok||A.success===!1)throw new Error(A.message||"Impossible de mettre \xE0 jour le mot de passe.");B(A.message||"Mot de passe mis \xE0 jour.","success"),i.reset()}catch(b){console.error("[settings] change password failed",b),B(b.message||"Erreur lors de la mise \xE0 jour.","error")}finally{T&&(T.disabled=!1)}})}if(d){let w=d.querySelector("[data-site-name]"),T=d.querySelector("[data-site-language]"),B=d.querySelector("[data-site-tagline]"),P=d.querySelector("[data-site-save]"),j=(b,A="muted")=>{if(!f)return;let q=A==="success"?"text-emerald-600":A==="error"?"text-rose-600":"text-slate-500";f.textContent=b||"",f.className=`text-sm ${q}`},U=Ae((J==null?void 0:J.slugValue)||ee.slug||""),L=U?`/api/sites/${encodeURIComponent(U)}/config/site`:null,S=async()=>{if(L)try{let b=await fetch(L,{headers:{Accept:"application/json"}});if(!b.ok)return;let A=await b.json().catch(()=>({}));w&&(w.value=A.name||""),T&&(T.value=A.language||"fr"),B&&(B.value=A.tagline||"")}catch(b){console.error("[settings] load site config failed",b)}};d.addEventListener("submit",async b=>{if(b.preventDefault(),!L){j("Aucun site actif.","error");return}if(!(w!=null&&w.value.trim())){j("Nom requis.","error");return}P&&(P.disabled=!0),j("");try{let A={name:(w==null?void 0:w.value)||"",language:(T==null?void 0:T.value)||"fr",tagline:(B==null?void 0:B.value)||""},q=await fetch(L,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(A)}),D=await q.json().catch(()=>({}));if(!q.ok||D.success===!1)throw new Error(D.message||"Sauvegarde impossible.");j(D.message||"Param\xE8tres enregistr\xE9s.","success")}catch(A){console.error("[settings] save site config failed",A),j(A.message||"Erreur lors de la sauvegarde.","error")}finally{P&&(P.disabled=!1)}}),S()}if(y){let w=Ae((J==null?void 0:J.slugValue)||ee.slug||""),T=w?`/api/sites/${encodeURIComponent(w)}/config/theme`:null,B={primary:y.querySelector("[data-theme-primary]"),secondary:y.querySelector("[data-theme-secondary]"),accent:y.querySelector("[data-theme-accent]"),background:y.querySelector("[data-theme-background]"),text:y.querySelector("[data-theme-text]")},P=y.querySelector("[data-theme-headings]"),j=y.querySelector("[data-theme-body]"),U=y.querySelector("[data-theme-radius-small]"),L=y.querySelector("[data-theme-radius-medium]"),S=y.querySelector("[data-theme-radius-large]"),b=y.querySelector("[data-theme-preview]"),A=y.querySelector("[data-theme-feedback]"),q=y.querySelector("[data-theme-apply]"),D={slate:"#e2e8f0",gray:"#d1d5db",zinc:"#d4d4d8",neutral:"#d4d4d4",stone:"#d6d3d1",red:"#ef4444",orange:"#f97316",amber:"#f59e0b",yellow:"#eab308",lime:"#84cc16",green:"#22c55e",emerald:"#10b981",teal:"#14b8a6",cyan:"#06b6d4",sky:"#0ea5e9",blue:"#3b82f6",indigo:"#6366f1",violet:"#8b5cf6",purple:"#a855f7",fuchsia:"#d946ef",pink:"#ec4899",rose:"#f43f5e"},W=C=>{if(!C)return null;if(C==="white")return"#ffffff";if(C==="black")return"#000000";if(C==="transparent")return"transparent";let[x,E]=C.split("-");if(!x||!E)return null;let se=D[x];if(!se)return null;let Y=Number(E)||500,pe=Math.min(Math.max((Y-50)/900,0),1),ne=Se=>Se.replace("#","").match(/[A-Fa-f0-9]{2}/g).map(Ee=>parseInt(Ee,16)),[be,ie,Ne]=ne(se),Pe=Se=>Math.round(255-(255-Se)*pe);return`rgb(${Pe(be)}, ${Pe(ie)}, ${Pe(Ne)})`},_=["slate","gray","zinc","neutral","stone","red","orange","amber","yellow","lime","green","emerald","teal","cyan","sky","blue","indigo","violet","purple","fuchsia","pink","rose"],Z=["50","100","200","300","400","500","600","700","800","900"],he=_.flatMap(C=>Z.map(x=>`${C}-${x}`)),Le=[{value:"white",label:"Blanc",color:"#ffffff",emoji:"\u2B1C"},{value:"transparent",label:"Transparent",color:"transparent",emoji:"\u2B1C"},{value:"black",label:"Noir",color:"#000000",emoji:"\u2B1B"}],Ve=(()=>{let C=[];return Le.forEach(({value:x,label:E,color:se,emoji:Y})=>{C.push({value:x,label:`${Y} ${E}`,color:se})}),he.forEach(x=>{let[E,se]=x.split("-"),Y=W(x)||"#ffffff";C.push({value:x,label:`${E.charAt(0).toUpperCase()+E.slice(1)} ${se}`,color:Y})}),C})(),ve=C=>typeof C=="string"?C.trim().toLowerCase():"",K=(C={})=>{Object.entries(B).forEach(([x,E])=>{var Y;if(!E)return;let se=ve(C[x]);E.innerHTML="",Ve.forEach(({value:pe,label:ne,color:be})=>{let ie=document.createElement("option");ie.value=pe,ie.textContent=ne,ie.dataset.color=be,se&&se===pe&&(ie.selected=!0),E.appendChild(ie)}),E.dataset.default=E.dataset.default||((Y=E.options[0])==null?void 0:Y.value)||"",!se&&E.dataset.default&&(E.value=E.dataset.default),Qs(E)})},Ie=(C,x="muted")=>{if(!A)return;let E=x==="success"?"text-emerald-600":x==="error"?"text-rose-600":"text-slate-500";A.textContent=C||"",A.className=`text-sm ${E}`},Re=()=>{var x,E,se,Y,pe;if(!b)return;let C=ne=>{if(!ne)return null;if(ne==="white")return"#ffffff";if(ne==="black")return"#000000";if(ne==="transparent")return"transparent";let[be,ie]=ne.split("-");if(!be||!ie)return null;let Pe={slate:"#e2e8f0",gray:"#d1d5db",zinc:"#d4d4d8",neutral:"#d4d4d4",stone:"#d6d3d1",red:"#ef4444",orange:"#f97316",amber:"#f59e0b",yellow:"#eab308",lime:"#84cc16",green:"#22c55e",emerald:"#10b981",teal:"#14b8a6",cyan:"#06b6d4",sky:"#0ea5e9",blue:"#3b82f6",indigo:"#6366f1",violet:"#8b5cf6",purple:"#a855f7",fuchsia:"#d946ef",pink:"#ec4899",rose:"#f43f5e"}[be];if(!Pe)return null;let Se=Number(ie)||500,Ee=Math.min(Math.max((Se-50)/900,0),1),Be=oe=>oe.match(/[A-Fa-f0-9]{2}/g).map(It=>parseInt(It,16)),[Dt,h,I]=Be(Pe.replace("#","")),g=oe=>Math.round(255-(255-oe)*Ee);return`rgb(${g(Dt)}, ${g(h)}, ${g(I)})`};b.style.setProperty("--color-primary",W((x=B.primary)==null?void 0:x.value)||"#9C6BFF"),b.style.setProperty("--color-secondary",W((E=B.secondary)==null?void 0:E.value)||"#0EA5E9"),b.style.setProperty("--color-accent",W((se=B.accent)==null?void 0:se.value)||"#F97316"),b.style.setProperty("--color-background",W((Y=B.background)==null?void 0:Y.value)||"#FFFFFF"),b.style.setProperty("--color-text",W((pe=B.text)==null?void 0:pe.value)||"#0F172A"),b.style.setProperty("--font-headings",(P==null?void 0:P.value)||"Inter, sans-serif"),b.style.setProperty("--font-body",(j==null?void 0:j.value)||"Inter, sans-serif"),b.style.setProperty("--radius-small",(U==null?void 0:U.value)||"8px"),b.style.setProperty("--radius-medium",(L==null?void 0:L.value)||"16px"),b.style.setProperty("--radius-large",(S==null?void 0:S.value)||"24px"),b.style.borderRadius=(L==null?void 0:L.value)||"16px"},$=(C,x)=>{if(C){if(x==="transparent"){C.style.background="repeating-conic-gradient(#ccc 0% 25%, white 0% 50%) 50% / 8px 8px",C.style.borderColor="#cbd5f5",C.style.boxShadow="";return}C.style.background=x,C.style.borderColor=x,C.style.boxShadow="0 0 0 1px rgba(15,23,42,0.15)"}},k=C=>{var pe,ne,be;if(!C)return;let x=C.options[C.selectedIndex],E=((pe=x==null?void 0:x.dataset)==null?void 0:pe.color)||"#ffffff",se=(ne=C.closest(".relative"))==null?void 0:ne.querySelector("[data-color-preview]");se&&(E==="transparent"?se.style.background=Qt:se.style.background=E);let Y=(be=C.closest(".relative"))==null?void 0:be.querySelector("[data-theme-color-chip]");$(Y,E)},z=()=>{Object.values(B).forEach(C=>{C&&(Qs(C),k(C),C.addEventListener("change",()=>k(C)))})};Object.keys(B).forEach(C=>{var x;(x=B[C])==null||x.addEventListener("change",Re)}),[P,j,U,L,S].forEach(C=>{C==null||C.addEventListener("change",Re)});let fe=async()=>{var C,x,E,se,Y;if(T)try{let pe=await fetch(T,{headers:{Accept:"application/json"},credentials:"include"});if(!pe.ok)return;let ne=await pe.json().catch(()=>({})),be=ne.colors||{};K(be),Object.entries(B).forEach(([ie,Ne])=>{if(!Ne)return;let Pe=be[ie],Se=ve(Pe);Se?Ne.value=Se:Pe?Ne.value=Pe:Ne.dataset.default&&(Ne.value=Ne.dataset.default),k(Ne)}),P&&(P.value=((C=ne.typography)==null?void 0:C.headings)||"Inter, sans-serif"),j&&(j.value=((x=ne.typography)==null?void 0:x.body)||"Inter, sans-serif"),U&&(U.value=((E=ne.radius)==null?void 0:E.small)||"8px"),L&&(L.value=((se=ne.radius)==null?void 0:se.medium)||"16px"),S&&(S.value=((Y=ne.radius)==null?void 0:Y.large)||"24px"),Re()}catch(pe){console.error("[settings] load theme failed",pe)}};q==null||q.addEventListener("click",async C=>{var E,se,Y,pe,ne;if(C.preventDefault(),!T){Ie("Aucun site actif.","error");return}let x={colors:{primary:((E=B.primary)==null?void 0:E.value)||"violet-500",secondary:((se=B.secondary)==null?void 0:se.value)||"indigo-400",accent:((Y=B.accent)==null?void 0:Y.value)||"emerald-500",background:((pe=B.background)==null?void 0:pe.value)||"slate-50",text:((ne=B.text)==null?void 0:ne.value)||"slate-900"},typography:{headings:(P==null?void 0:P.value)||"Inter, sans-serif",body:(j==null?void 0:j.value)||"Inter, sans-serif"},radius:{small:(U==null?void 0:U.value)||"8px",medium:(L==null?void 0:L.value)||"16px",large:(S==null?void 0:S.value)||"24px"}};q.disabled=!0,Ie("");try{let be=await fetch(T,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(x)}),ie=await be.json().catch(()=>({}));if(!be.ok||ie.success===!1)throw new Error(ie.message||"Application du th\xE8me \xE9chou\xE9e.");await fe(),Ie(ie.message||"Th\xE8me appliqu\xE9.","success")}catch(be){console.error("[settings] apply theme failed",be),Ie(be.message||"Erreur lors de l\u2019application du th\xE8me.","error")}finally{q.disabled=!1}}),K(),z(),fe(),Re(),document.addEventListener("ai-theme-updated",()=>{fe(),Ie("Th\xE8me mis \xE0 jour.","success")})}let H=document.querySelector("[data-seo-config-form]");if(H){let w=H.querySelector("[data-seo-index-all]"),T=H.querySelector("[data-seo-config-feedback]"),B=H.querySelector("[data-seo-save]"),P=Ae((J==null?void 0:J.slugValue)||ee.slug||""),j=P?`/api/sites/${encodeURIComponent(P)}/config/site`:null,U=(S,b="muted")=>{if(!T)return;let A=b==="success"?"text-emerald-600":b==="error"?"text-rose-600":"text-slate-500";T.textContent=S||"",T.className=`text-sm ${A}`},L=async()=>{var S;if(j)try{let b=await fetch(j,{headers:{Accept:"application/json"}});if(!b.ok)return;let q=((S=(await b.json().catch(()=>({}))).seo)==null?void 0:S.indexAllPagesByDefault)!==!1;w&&(w.checked=q)}catch(b){console.error("[settings] load seo config failed",b)}};H.addEventListener("submit",async S=>{var b;if(S.preventDefault(),!j){U("Aucun site actif.","error");return}B&&(B.disabled=!0),U("");try{let A=await fetch(j,{headers:{Accept:"application/json"}}),q=A.ok?await A.json().catch(()=>({})):{},D={...q,seo:{...q.seo||{},indexAllPagesByDefault:(b=w==null?void 0:w.checked)!=null?b:!0}},W=await fetch(j,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(D)}),_=await W.json().catch(()=>({}));if(!W.ok||_.success===!1)throw new Error(_.message||"Sauvegarde impossible.");U(_.message||"Param\xE8tres SEO enregistr\xE9s.","success")}catch(A){console.error("[settings] save seo config failed",A),U(A.message||"Erreur lors de la sauvegarde.","error")}finally{B&&(B.disabled=!1)}}),L()}let O=document.querySelector("[data-analytics-form]");if(O){let w=O.querySelector("[data-analytics-head]"),T=O.querySelector("[data-analytics-body]"),B=O.querySelector("[data-analytics-feedback]"),P=O.querySelector("[data-analytics-save]"),j=Ae((J==null?void 0:J.slugValue)||ee.slug||""),U=j?`/api/sites/${encodeURIComponent(j)}/config/site`:null,L=(b,A="muted")=>{if(!B)return;let q=A==="success"?"text-emerald-600":A==="error"?"text-rose-600":"text-slate-500";B.textContent=b||"",B.className=`text-sm ${q}`},S=async()=>{var b,A;if(U)try{let q=await fetch(U,{headers:{Accept:"application/json"}});if(!q.ok)return;let D=await q.json().catch(()=>({}));w&&(w.value=((b=D.analytics)==null?void 0:b.headCode)||""),T&&(T.value=((A=D.analytics)==null?void 0:A.bodyEndCode)||"")}catch(q){console.error("[settings] load analytics config failed",q)}};O.addEventListener("submit",async b=>{if(b.preventDefault(),!U){L("Aucun site actif.","error");return}P&&(P.disabled=!0),L("");try{let A=await fetch(U,{headers:{Accept:"application/json"}}),D={...A.ok?await A.json().catch(()=>({})):{},analytics:{headCode:(w==null?void 0:w.value)||"",bodyEndCode:(T==null?void 0:T.value)||""}},W=await fetch(U,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(D)}),_=await W.json().catch(()=>({}));if(!W.ok||_.success===!1)throw new Error(_.message||"Sauvegarde impossible.");L(_.message||"Scripts enregistr\xE9s.","success")}catch(A){console.error("[settings] save analytics config failed",A),L(A.message||"Erreur lors de la sauvegarde.","error")}finally{P&&(P.disabled=!1)}}),S()}let X=document.querySelector("[data-accessibility-form]");if(X){let w=X.querySelector("[data-accessibility-animations]"),T=X.querySelector("[data-accessibility-contrast]"),B=X.querySelector("[data-accessibility-feedback]"),P=X.querySelector("[data-accessibility-save]"),j=Ae((J==null?void 0:J.slugValue)||ee.slug||""),U=j?`/api/sites/${encodeURIComponent(j)}/config/site`:null,L=(b,A="muted")=>{if(!B)return;let q=A==="success"?"text-emerald-600":A==="error"?"text-rose-600":"text-slate-500";B.textContent=b||"",B.className=`text-sm ${q}`},S=async()=>{var b,A;if(U)try{let q=await fetch(U,{headers:{Accept:"application/json"}});if(!q.ok)return;let D=await q.json().catch(()=>({}));w&&(w.checked=((b=D.accessibility)==null?void 0:b.animationsEnabled)!==!1),T&&(T.checked=((A=D.accessibility)==null?void 0:A.highContrast)===!0)}catch(q){console.error("[settings] load accessibility config failed",q)}};X.addEventListener("submit",async b=>{var A,q;if(b.preventDefault(),!U){L("Aucun site actif.","error");return}P&&(P.disabled=!0),L("");try{let D=await fetch(U,{headers:{Accept:"application/json"}}),_={...D.ok?await D.json().catch(()=>({})):{},accessibility:{animationsEnabled:(A=w==null?void 0:w.checked)!=null?A:!0,highContrast:(q=T==null?void 0:T.checked)!=null?q:!1}},Z=await fetch(U,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(_)}),he=await Z.json().catch(()=>({}));if(!Z.ok||he.success===!1)throw new Error(he.message||"Sauvegarde impossible.");L(he.message||"Pr\xE9f\xE9rences mises \xE0 jour.","success")}catch(D){console.error("[settings] save accessibility config failed",D),L(D.message||"Erreur lors de la sauvegarde.","error")}finally{P&&(P.disabled=!1)}}),S()}let G=document.querySelector("[data-ai-config-form]");if(G){let w=G.querySelector("[data-ai-api-key]"),T=G.querySelector("[data-ai-model]"),B=G.querySelector("[data-ai-project-prompt]"),P=G.querySelector("[data-ai-enabled]"),j=G.querySelector("[data-ai-feedback]"),U=G.querySelector("[data-ai-save]"),L=Ae((J==null?void 0:J.slugValue)||ee.slug||""),S=L?`/api/sites/${encodeURIComponent(L)}/config/ai`:null,b=(q,D="muted")=>{if(!j)return;let W=D==="success"?"text-emerald-600":D==="error"?"text-rose-600":"text-slate-500";j.textContent=q||"",j.className=`text-sm ${W}`},A=async()=>{if(S)try{let q=await fetch(S,{headers:{Accept:"application/json"}});if(!q.ok)return;let D=await q.json().catch(()=>({}));w&&(w.value="",w.placeholder=D.hasApiKey?"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022":"Cl\xE9 API Gemini"),T&&(T.value=D.model||"gemini-2.5-flash"),B&&(B.value=D.projectPrompt||""),P&&(P.checked=D.enabled!==!1)}catch(q){console.error("[settings] load AI config failed",q)}};G.addEventListener("submit",async q=>{var D,W;if(q.preventDefault(),!S){b("Aucun site actif.","error");return}U&&(U.disabled=!0),b("");try{let _={model:(T==null?void 0:T.value)||"gemini-2.5-flash",projectPrompt:(B==null?void 0:B.value)||"",enabled:(D=P==null?void 0:P.checked)!=null?D:!0},Z=(W=w==null?void 0:w.value)==null?void 0:W.trim();Z&&(_.apiKey=Z);let he=await fetch(S,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(_)}),Le=await he.json().catch(()=>({}));if(!he.ok||Le.success===!1)throw new Error(Le.message||"Sauvegarde impossible.");b(Le.message||"Configuration IA enregistr\xE9e.","success"),w&&(w.value="",w.placeholder="\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022")}catch(_){console.error("[settings] save AI config failed",_),b(_.message||"Erreur lors de la sauvegarde.","error")}finally{U&&(U.disabled=!1)}}),A()}}function gr(){let s=document.querySelector("[data-media-grid]");if(!s)return;let n=document.querySelector("[data-media-empty]"),i=document.querySelector("[data-media-count]"),d=document.querySelector("[data-media-filter-type]"),f=document.querySelector("[data-media-detail-empty]"),y=document.querySelector("[data-media-detail]"),V=document.querySelector("[data-media-detail-preview]"),H=document.querySelector("[data-media-detail-name]"),O=document.querySelector("[data-media-detail-type]"),X=document.querySelector("[data-media-detail-size]"),G=document.querySelector("[data-media-detail-path]"),w=document.querySelector("[data-media-detail-used]"),T=document.querySelector("[data-media-alt-edit]"),B=document.querySelector("[data-media-save]"),P=document.querySelector("[data-media-delete]"),j=document.querySelector("[data-media-delete-modal]"),U=document.querySelector("[data-media-delete-cancel]"),L=document.querySelector("[data-media-delete-confirm]"),S=document.querySelector("[data-media-upload-open]"),b=document.querySelector("[data-media-file-input]"),A=document.querySelector("[data-media-upload-status]"),q=Ae((J==null?void 0:J.slugValue)||ee.slug||""),D=q?`/api/sites/${encodeURIComponent(q)}/media`:null,W=[],_=[],Z=null,he=null,Le=null,Ve=!1,ve=!1,K=!1,Ie=null,Re=h=>{let I=(h.type||"").toLowerCase(),g=(h.filename||"").toLowerCase();return I.includes("image")||/\.(png|jpe?g|webp|svg|gif)$/i.test(g)?"image":I.includes("pdf")||I.includes("doc")||/\.(pdf|docx?)$/i.test(g)?"document":I.includes("video")||/\.(mp4|mov|webm)$/i.test(g)?"video":"other"},$=h=>Re(h)==="image",k=h=>{if(h.type)return h.type.toUpperCase();let I=(h.filename||"").split(".").pop();return I?I.toUpperCase():"FILE"},z=h=>!h||h<=0?"\u2014":h<1024?`${h} o`:h<1024*1024?`${(h/1024).toFixed(1)} ko`:`${(h/(1024*1024)).toFixed(1)} Mo`,fe=()=>{y==null||y.classList.add("hidden"),f==null||f.classList.remove("hidden"),C(),Z=null,ve=!1,Y(!1),V&&(V.innerHTML='<span class="text-slate-400 text-sm">Aucun m\xE9dia s\xE9lectionn\xE9</span>'),H&&(H.textContent=""),O&&(O.textContent=""),X&&(X.textContent=""),T&&(T.value=""),G&&(G.textContent=""),w&&(w.innerHTML="")},C=()=>{Le=null,K=!1,Ve=!1,Ie&&(URL.revokeObjectURL(Ie),Ie=null),A&&(A.textContent="Aucun fichier s\xE9lectionn\xE9."),b&&(b.value="")},x=()=>{i&&(_.length?_.length===1?i.textContent="1 m\xE9dia":i.textContent=`${_.length} m\xE9dias`:i.textContent="0 m\xE9dia")},E=()=>{if(s.innerHTML="",!_.length){n==null||n.classList.remove("hidden"),fe();return}n==null||n.classList.add("hidden"),_.forEach(h=>{let I=document.createElement("button");I.type="button",I.dataset.mediaId=h.id;let g=h.id===Z;I.className=["group relative flex flex-col rounded-2xl border px-3 py-3 text-left transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[#9C6BFF]",g?"border-[#9C6BFF] bg-[#F7F0FF]/60 shadow-sm":"border-slate-200 hover:border-[#9C6BFF]/40"].join(" ");let oe=$(h)?`<img src="${h.path}" alt="${h.alt||h.filename}" class="h-full w-full object-cover" />`:'<div class="flex h-full w-full items-center justify-center text-3xl text-slate-400">\u{1F4C4}</div>';I.innerHTML=`
          <div class="relative aspect-[4/3] overflow-hidden rounded-xl bg-slate-100">
            ${oe}
          </div>
          <div class="mt-2 space-y-1">
            <p class="text-sm font-semibold text-slate-900 truncate">${h.filename}</p>
            <p class="text-xs text-slate-500">
              ${k(h)} \xB7 ${z(h.size)}
            </p>
          </div>
        `,h.id===he&&(I.classList.add("ring-2","ring-[#9C6BFF]"),window.setTimeout(()=>{I.classList.remove("ring-2","ring-[#9C6BFF]")},1600)),I.addEventListener("click",()=>pe(h.id)),s.appendChild(I)}),he=null},se=h=>{if(w){if(w.innerHTML="",!h.usedIn||h.usedIn.length===0){let I=document.createElement("li");I.textContent="Non utilis\xE9",I.className="text-xs text-slate-400",w.appendChild(I);return}h.usedIn.forEach(I=>{let g=document.createElement("li");g.textContent=I,g.className="text-xs text-slate-600",w.appendChild(g)})}},Y=h=>{if(B){if(K){B.textContent=h?"T\xE9l\xE9versement\u2026":"T\xE9l\xE9verser",B.disabled=h||!Le,P&&P.classList.add("hidden");return}B.textContent=h?"Enregistrement\u2026":"Enregistrer",B.disabled=h||!ve,P&&(P.classList.remove("hidden"),P.disabled=!Z)}},pe=h=>{let I=W.find(g=>g.id===h);if(!I){fe(),E();return}C(),Z=I.id,ve=!1,Y(!1),E(),f==null||f.classList.add("hidden"),y==null||y.classList.remove("hidden"),V&&($(I)?V.innerHTML=`<img src="${I.path}" alt="${I.alt||I.filename}" class="h-full w-full rounded-2xl object-cover" />`:V.innerHTML='<div class="flex h-full w-full flex-col items-center justify-center gap-1 text-slate-400"><span class="text-3xl">\u{1F4C4}</span><span class="text-xs font-semibold">Document</span></div>'),H&&(H.textContent=I.filename||"Fichier"),O&&(O.textContent=k(I)),X&&(X.textContent=z(I.size)),T&&(T.value=I.alt||""),G&&(G.textContent=I.path||"\u2014"),se(I)},ne=h=>{if(h){if(K=!0,ve=!1,Z=null,f==null||f.classList.add("hidden"),y==null||y.classList.remove("hidden"),Ie&&URL.revokeObjectURL(Ie),Ie=URL.createObjectURL(h),V&&(V.innerHTML=`<img src="${Ie}" alt="${h.name}" class="h-full w-full rounded-2xl object-cover" />`),H&&(H.textContent=h.name),O&&(O.textContent=k({type:h.type,filename:h.name})),X&&(X.textContent=z(h.size)),T&&!T.value.trim()&&(T.value=h.name.replace(/\.[^.]+$/,"").replace(/[-_]/g," ")),G&&(G.textContent="En attente de t\xE9l\xE9versement"),w){w.innerHTML="";let I=document.createElement("li");I.textContent="Non utilis\xE9",I.className="text-xs text-slate-400",w.appendChild(I)}Y(!1)}},be=()=>{let h=(d==null?void 0:d.value)||"all";h==="all"?_=[...W]:_=W.filter(I=>I.groupType===h),_.some(I=>I.id===Z)||fe(),x(),E()},ie=async()=>{if(!D){n==null||n.classList.remove("hidden");return}try{let h=await fetch(D,{headers:{Accept:"application/json"}});if(!h.ok)throw new Error("Impossible de charger les m\xE9dias.");let I=await h.json().catch(()=>({items:[]}));W=Array.isArray(I.items)?I.items.map(g=>({...g,groupType:Re(g)})):[],be()}catch(h){console.error("[media] load failed",h),M(h.message||"Impossible de charger les m\xE9dias."),W=[],be()}};d==null||d.addEventListener("change",()=>{be()}),T==null||T.addEventListener("input",()=>{if(K){Y(!1);return}Z&&(ve=!0,Y(!1))});let Ne=h=>{if(h){if(!h.type.startsWith("image/")){M("Seules les images sont accept\xE9es pour le moment.");return}if(h.size>4*1024*1024){M("Fichier trop volumineux (4 Mo max).");return}Le=h,ne(h),A&&(A.textContent=`${h.name} \xB7 ${z(h.size)}`)}},Pe=h=>new Promise((I,g)=>{let oe=new FileReader;oe.onload=()=>{let It=oe.result||"",[,Xt=""]=String(It).split(",");I(Xt)},oe.onerror=()=>g(new Error("Impossible de lire ce fichier.")),oe.readAsDataURL(h)}),Se=async()=>{if(!(!Le||!D)){Ve=!0,Y(!0);try{let h=await Pe(Le),I={filename:Le.name,type:Le.type,size:Le.size,alt:(T==null?void 0:T.value)||"",data:h},g=await fetch(D,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(I)});if(!g.ok){let It=await g.json().catch(()=>({}));throw new Error(It.message||"Upload impossible.")}let oe=await g.json();oe.groupType=Re(oe),W=[...W,oe],he=oe.id,be(),pe(oe.id),M("M\xE9dia ajout\xE9"),C()}catch(h){console.error("[media] upload failed",h),M(h.message||"Impossible de t\xE9l\xE9verser ce m\xE9dia.")}finally{Ve=!1,Le=null,Y(!1)}}};S==null||S.addEventListener("click",()=>b==null?void 0:b.click()),b==null||b.addEventListener("change",()=>{b.files&&b.files[0]&&Ne(b.files[0])});let Ee=()=>{j&&(j.classList.add("hidden"),j.classList.remove("flex"))},Be=()=>{if(!(!Z||K)){if(j){j.classList.remove("hidden"),j.classList.add("flex");return}window.confirm("Supprimer ce m\xE9dia ?")&&Dt()}},Dt=async()=>{if(!Z||!D){Ee();return}let h=()=>{P&&(P.disabled=!0),L&&(L.disabled=!0,L.textContent="Suppression\u2026")},I=()=>{P&&(P.disabled=!1),L&&(L.disabled=!1,L.textContent="Supprimer")};h();try{let g=await fetch(`${D}/${encodeURIComponent(Z)}`,{method:"DELETE"});if(!g.ok){let oe=await g.json().catch(()=>({}));throw new Error(oe.message||"Suppression impossible.")}W=W.filter(oe=>oe.id!==Z),_=_.filter(oe=>oe.id!==Z),M("M\xE9dia supprim\xE9"),fe(),x(),E()}catch(g){console.error("[media] delete failed",g),M(g.message||"Impossible de supprimer ce m\xE9dia.")}finally{I(),Ee()}};U==null||U.addEventListener("click",Ee),j==null||j.addEventListener("click",h=>{h.target===j&&Ee()}),L==null||L.addEventListener("click",()=>Dt()),P==null||P.addEventListener("click",Be),B==null||B.addEventListener("click",async()=>{if(K){Se();return}if(!(!Z||!D||!T)){Y(!0);try{let h={alt:T.value||""},I=await fetch(`${D}/${encodeURIComponent(Z)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)});if(!I.ok){let oe=await I.json().catch(()=>({}));throw new Error(oe.message||"Impossible de mettre \xE0 jour ce m\xE9dia.")}let g=await I.json();W=W.map(oe=>oe.id===Z?{...oe,...g}:oe),_=_.map(oe=>oe.id===Z?{...oe,...g}:oe),ve=!1,Y(!1),M("M\xE9dia mis \xE0 jour")}catch(h){console.error("[media] update failed",h),M(h.message||"\xC9chec de la mise \xE0 jour."),Y(!1)}}}),ie()}let $o=document.getElementById("ai-chat-toggle"),ls=document.getElementById("ai-chat-panel"),it=document.getElementById("ai-chat-overlay"),Io=document.getElementById("ai-chat-close"),Bo=document.getElementById("ai-chat-clear"),jo=document.getElementById("ai-chat-form"),$t=document.getElementById("ai-chat-input"),we=document.getElementById("ai-chat-messages"),pa=document.getElementById("ai-chat-status"),xt=document.getElementById("ai-chat-no-api"),hr=document.querySelectorAll("[data-ai-quick]"),Xs=!1,Po=!1,pn=!1,yr=!1;function vr(){ls&&(Xs=!0,ls.classList.remove("translate-x-full"),ls.setAttribute("aria-hidden","false"),it==null||it.classList.remove("opacity-0","pointer-events-none"),it==null||it.classList.add("opacity-100"),document.body.classList.add("overflow-hidden"),$t==null||$t.focus(),pn||br())}function eo(){ls&&(Xs=!1,ls.classList.add("translate-x-full"),ls.setAttribute("aria-hidden","true"),it==null||it.classList.add("opacity-0","pointer-events-none"),it==null||it.classList.remove("opacity-100"),document.body.classList.remove("overflow-hidden"))}async function br(){let s=Ae(ee.slug||"");if(!s){xt==null||xt.classList.remove("hidden");return}try{let n=await fetch(`/api/sites/${encodeURIComponent(s)}/config/ai`);if(!n.ok)throw new Error("Config check failed");let i=await n.json();pn=!0,yr=i.hasApiKey,!i.enabled||!i.hasApiKey?xt==null||xt.classList.remove("hidden"):(xt==null||xt.classList.add("hidden"),xr())}catch(n){console.error("[AI] Config check failed:",n),xt==null||xt.classList.remove("hidden")}}async function xr(){let s=Ae(ee.slug||"");if(!(!s||!we))try{let n=await fetch(`/api/sites/${encodeURIComponent(s)}/ai/history`);if(!n.ok)return;let i=await n.json();if(i.messages&&i.messages.length>0){let d=we.querySelector("[data-ai-welcome]");d&&d.remove(),i.messages.forEach(f=>{to(f.content,f.role==="user"?"user":"assistant")}),we.scrollTop=we.scrollHeight}}catch(n){console.error("[AI] History load failed:",n)}}function to(s,n="assistant"){if(!we)return;let i=document.createElement("div");if(i.className="flex gap-3",n==="user")i.innerHTML=`
        <div class="flex-1"></div>
        <div class="max-w-[80%] bg-violet-600 text-white rounded-2xl rounded-tr-none p-3">
          <p class="text-sm whitespace-pre-wrap">${pt(s)}</p>
        </div>
        <div class="w-8 h-8 rounded-full bg-slate-200 flex-shrink-0 flex items-center justify-center">
          <svg class="w-4 h-4 text-slate-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
          </svg>
        </div>
      `;else{let d=Sr(s);i.innerHTML=`
        <div class="w-8 h-8 rounded-full bg-gradient-to-br from-violet-500 to-indigo-600 flex-shrink-0 flex items-center justify-center">
          <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
          </svg>
        </div>
        <div class="flex-1 bg-slate-50 rounded-2xl rounded-tl-none p-3 overflow-x-auto">
          <div class="text-sm text-slate-700 prose prose-sm max-w-none [&>pre]:bg-slate-800 [&>pre]:text-slate-100 [&>pre]:rounded-lg [&>pre]:p-3 [&>pre]:overflow-x-auto [&>code]:bg-slate-200 [&>code]:px-1 [&>code]:rounded">${d}</div>
        </div>
      `}we.appendChild(i),we.scrollTop=we.scrollHeight}function wr(){if(!we)return;let s=document.createElement("div");s.className="flex gap-3",s.id="ai-loading-indicator",s.innerHTML=`
      <div class="w-8 h-8 rounded-full bg-gradient-to-br from-violet-500 to-indigo-600 flex-shrink-0 flex items-center justify-center">
        <svg class="w-4 h-4 text-white animate-pulse" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
        </svg>
      </div>
      <div class="flex-1 bg-slate-50 rounded-2xl rounded-tl-none p-3">
        <div class="flex items-center gap-2">
          <div class="w-2 h-2 bg-violet-400 rounded-full animate-bounce" style="animation-delay: 0ms"></div>
          <div class="w-2 h-2 bg-violet-400 rounded-full animate-bounce" style="animation-delay: 150ms"></div>
          <div class="w-2 h-2 bg-violet-400 rounded-full animate-bounce" style="animation-delay: 300ms"></div>
        </div>
      </div>
    `,we.appendChild(s),we.scrollTop=we.scrollHeight}function gn(){let s=document.getElementById("ai-loading-indicator");s==null||s.remove()}function Sr(s){if(!s)return"";let n=pt(s);return n=n.replace(/```(\w*)\n([\s\S]*?)```/g,(i,d,f)=>`<pre class="language-${d||"text"}"><code>${f.trim()}</code></pre>`),n=n.replace(/`([^`]+)`/g,"<code>$1</code>"),n=n.replace(/\*\*([^*]+)\*\*/g,"<strong>$1</strong>"),n=n.replace(/\*([^*]+)\*/g,"<em>$1</em>"),n=n.replace(/^### (.+)$/gm,'<h4 class="font-semibold text-slate-900 mt-3 mb-1">$1</h4>'),n=n.replace(/^## (.+)$/gm,'<h3 class="font-semibold text-slate-900 mt-3 mb-1">$1</h3>'),n=n.replace(/^# (.+)$/gm,'<h2 class="font-bold text-slate-900 mt-3 mb-2">$1</h2>'),n=n.replace(/^- (.+)$/gm,'<li class="ml-4">$1</li>'),n=n.replace(/^(\d+)\. (.+)$/gm,'<li class="ml-4">$2</li>'),n=n.replace(/\n\n/g,'</p><p class="mb-2">'),n='<p class="mb-2">'+n+"</p>",n=n.replace(/<p class="mb-2"><\/p>/g,""),n}function pt(s){let n=document.createElement("div");return n.textContent=s,n.innerHTML}async function hn(s){let n=Ae(ee.slug||"");if(!s||!n||Po)return;Po=!0,$t.disabled=!0;let i=we==null?void 0:we.querySelector("[data-ai-welcome]");i&&i.remove(),to(s,"user"),wr();try{let d=await fetch(`/api/sites/${encodeURIComponent(n)}/ai/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:s})});if(gn(),!d.ok){let y=await d.json().catch(()=>({}));throw new Error(y.message||"Erreur de communication")}let f=await d.json();f.response&&to(f.response,"assistant"),f.editProposal&&Lr(f.editProposal),f.themeProposal&&kr(f.themeProposal)}catch(d){gn(),to(`\u274C Erreur: ${d.message}`,"assistant")}finally{Po=!1,$t.disabled=!1,$t.focus()}}function Lr(s){var d,f;if(!we||!s)return;let n=document.createElement("div");n.className="flex gap-3 mt-2",n.dataset.proposalId=s.proposalId;let i="";if(s.changes&&(s.changes.title&&(i+=`<li>Titre \u2192 <strong>${pt(s.changes.title)}</strong></li>`),s.changes.description&&(i+=`<li>Description \u2192 ${pt(s.changes.description.substring(0,80))}...</li>`),s.changes.seo&&(s.changes.seo.metaTitle&&(i+=`<li>Meta title \u2192 ${pt(s.changes.seo.metaTitle)}</li>`),s.changes.seo.metaDescription&&(i+=`<li>Meta description \u2192 ${pt(s.changes.seo.metaDescription.substring(0,60))}...</li>`)),s.changes.blockUpdate&&(i+=`<li>Bloc "${s.changes.blockUpdate.blockId}" modifi\xE9</li>`,s.changes.blockUpdate.settings))){let y=s.changes.blockUpdate.settings;y.title&&(i+=`<li class="ml-4">\u2192 title: ${pt(y.title)}</li>`),y.content&&(i+='<li class="ml-4">\u2192 content modifi\xE9</li>')}n.innerHTML=`
      <div class="w-8 h-8 rounded-full bg-amber-500 flex-shrink-0 flex items-center justify-center">
        <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"/>
        </svg>
      </div>
      <div class="flex-1 bg-amber-50 border border-amber-200 rounded-2xl rounded-tl-none p-4">
        <div class="flex items-center gap-2 mb-2">
          <span class="text-xs font-semibold text-amber-700 bg-amber-100 px-2 py-0.5 rounded">Proposition d'\xE9dition</span>
        </div>
        <p class="text-sm font-medium text-slate-800 mb-1">Page : ${pt(s.pageTitle||s.pageId)}</p>
        ${s.reason?`<p class="text-sm text-slate-600 mb-2">${pt(s.reason)}</p>`:""}
        <ul class="text-xs text-slate-600 space-y-1 mb-3 list-disc ml-4">
          ${i||"<li>Modifications propos\xE9es</li>"}
        </ul>
        <div class="flex gap-2">
          <button 
            class="ai-apply-edit px-3 py-1.5 text-xs font-medium text-white bg-emerald-600 hover:bg-emerald-700 rounded-lg transition-colors flex items-center gap-1"
            data-proposal-id="${s.proposalId}"
          >
            <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
            </svg>
            Appliquer
          </button>
          <button 
            class="ai-reject-edit px-3 py-1.5 text-xs font-medium text-slate-600 bg-slate-100 hover:bg-slate-200 rounded-lg transition-colors flex items-center gap-1"
            data-proposal-id="${s.proposalId}"
          >
            <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
            </svg>
            Rejeter
          </button>
        </div>
      </div>
    `,we.appendChild(n),we.scrollTop=we.scrollHeight,(d=n.querySelector(".ai-apply-edit"))==null||d.addEventListener("click",qr),(f=n.querySelector(".ai-reject-edit"))==null||f.addEventListener("click",yn)}function kr(s){var f,y,V,H;if(!we||!s)return;let n=document.createElement("div");n.className="flex gap-3 mt-2",n.dataset.proposalId=s.proposalId;let i="";if((f=s.changes)!=null&&f.colors){let O=s.changes.colors;for(let[X,G]of Object.entries(O))i+=`<li class="flex items-center gap-2">
          <span class="w-4 h-4 rounded border border-slate-300" style="background: ${Cr(G)}"></span>
          <span>${X}: <strong>${pt(G)}</strong></span>
        </li>`}let d="";if((y=s.changes)!=null&&y.typography){let O=s.changes.typography;O.headings&&(d+=`<li>Titres \u2192 <strong>${pt(O.headings)}</strong></li>`),O.body&&(d+=`<li>Textes \u2192 <strong>${pt(O.body)}</strong></li>`)}n.innerHTML=`
      <div class="w-8 h-8 rounded-full bg-purple-500 flex-shrink-0 flex items-center justify-center">
        <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"/>
        </svg>
      </div>
      <div class="flex-1 bg-purple-50 border border-purple-200 rounded-2xl rounded-tl-none p-4">
        <div class="flex items-center gap-2 mb-2">
          <span class="text-xs font-semibold text-purple-700 bg-purple-100 px-2 py-0.5 rounded">Modification du th\xE8me</span>
        </div>
        ${s.reason?`<p class="text-sm text-slate-600 mb-3">${pt(s.reason)}</p>`:""}
        ${i?`
          <p class="text-xs font-medium text-slate-700 mb-1">Couleurs :</p>
          <ul class="text-xs text-slate-600 space-y-1 mb-3">${i}</ul>
        `:""}
        ${d?`
          <p class="text-xs font-medium text-slate-700 mb-1">Typographies :</p>
          <ul class="text-xs text-slate-600 space-y-1 mb-3 list-disc ml-4">${d}</ul>
        `:""}
        <div class="flex gap-2">
          <button 
            class="ai-apply-theme px-3 py-1.5 text-xs font-medium text-white bg-purple-600 hover:bg-purple-700 rounded-lg transition-colors flex items-center gap-1"
            data-proposal-id="${s.proposalId}"
          >
            <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
            </svg>
            Appliquer
          </button>
          <button 
            class="ai-reject-theme px-3 py-1.5 text-xs font-medium text-slate-600 bg-slate-100 hover:bg-slate-200 rounded-lg transition-colors flex items-center gap-1"
            data-proposal-id="${s.proposalId}"
          >
            <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
            </svg>
            Rejeter
          </button>
        </div>
      </div>
    `,we.appendChild(n),we.scrollTop=we.scrollHeight,(V=n.querySelector(".ai-apply-theme"))==null||V.addEventListener("click",Er),(H=n.querySelector(".ai-reject-theme"))==null||H.addEventListener("click",yn)}function Cr(s){return{white:"#ffffff",black:"#000000",transparent:"transparent","slate-50":"#f8fafc","slate-100":"#f1f5f9","slate-200":"#e2e8f0","slate-300":"#cbd5e1","slate-400":"#94a3b8","slate-500":"#64748b","slate-600":"#475569","slate-700":"#334155","slate-800":"#1e293b","slate-900":"#0f172a","gray-50":"#f9fafb","gray-100":"#f3f4f6","gray-200":"#e5e7eb","gray-300":"#d1d5db","gray-400":"#9ca3af","gray-500":"#6b7280","gray-600":"#4b5563","gray-700":"#374151","gray-800":"#1f2937","gray-900":"#111827","violet-50":"#f5f3ff","violet-100":"#ede9fe","violet-200":"#ddd6fe","violet-300":"#c4b5fd","violet-400":"#a78bfa","violet-500":"#8b5cf6","violet-600":"#7c3aed","violet-700":"#6d28d9","violet-800":"#5b21b6","violet-900":"#4c1d95","purple-50":"#faf5ff","purple-100":"#f3e8ff","purple-200":"#e9d5ff","purple-300":"#d8b4fe","purple-400":"#c084fc","purple-500":"#a855f7","purple-600":"#9333ea","purple-700":"#7e22ce","purple-800":"#6b21a8","purple-900":"#581c87","blue-50":"#eff6ff","blue-100":"#dbeafe","blue-200":"#bfdbfe","blue-300":"#93c5fd","blue-400":"#60a5fa","blue-500":"#3b82f6","blue-600":"#2563eb","blue-700":"#1d4ed8","blue-800":"#1e40af","blue-900":"#1e3a8a","emerald-50":"#ecfdf5","emerald-100":"#d1fae5","emerald-200":"#a7f3d0","emerald-300":"#6ee7b7","emerald-400":"#34d399","emerald-500":"#10b981","emerald-600":"#059669","emerald-700":"#047857","emerald-800":"#065f46","emerald-900":"#064e3b","teal-50":"#f0fdfa","teal-100":"#ccfbf1","teal-200":"#99f6e4","teal-300":"#5eead4","teal-400":"#2dd4bf","teal-500":"#14b8a6","teal-600":"#0d9488","teal-700":"#0f766e","teal-800":"#115e59","teal-900":"#134e4a","amber-50":"#fffbeb","amber-100":"#fef3c7","amber-200":"#fde68a","amber-300":"#fcd34d","amber-400":"#fbbf24","amber-500":"#f59e0b","amber-600":"#d97706","amber-700":"#b45309","amber-800":"#92400e","amber-900":"#78350f","red-50":"#fef2f2","red-100":"#fee2e2","red-200":"#fecaca","red-300":"#fca5a5","red-400":"#f87171","red-500":"#ef4444","red-600":"#dc2626","red-700":"#b91c1c","red-800":"#991b1b","red-900":"#7f1d1d"}[s]||"#9C6BFF"}async function Er(s){var f;let n=(f=s.target.closest("[data-proposal-id]"))==null?void 0:f.dataset.proposalId,i=Ae(ee.slug||"");if(!n||!i)return;let d=s.target.closest("button");d.disabled=!0,d.innerHTML='<span class="animate-spin">\u23F3</span> Application...';try{let y=await fetch(`/api/sites/${encodeURIComponent(i)}/ai/apply-theme`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({proposalId:n})}),V=await y.json();if(y.ok&&V.success){let H=document.querySelector(`[data-proposal-id="${n}"]`);H&&(H.innerHTML=`
            <div class="w-8 h-8 rounded-full bg-purple-500 flex-shrink-0 flex items-center justify-center">
              <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
              </svg>
            </div>
            <div class="flex-1 bg-purple-50 border border-purple-200 rounded-2xl rounded-tl-none p-3">
              <p class="text-sm text-purple-700">\u2705 Th\xE8me mis \xE0 jour avec succ\xE8s !</p>
              <p class="text-xs text-purple-600 mt-1">Rechargez la preview pour voir les changements.</p>
            </div>
          `),M("Th\xE8me mis \xE0 jour !"),document.dispatchEvent(new CustomEvent("ai-theme-updated",{detail:{updatedTheme:V.updatedTheme}}))}else throw new Error(V.message||"Erreur lors de l'application")}catch(y){d.disabled=!1,d.innerHTML='<svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg> R\xE9essayer',M(`Erreur: ${y.message}`)}}async function qr(s){var f,y;let n=(f=s.target.closest("[data-proposal-id]"))==null?void 0:f.dataset.proposalId,i=Ae(ee.slug||"");if(!n||!i)return;let d=s.target.closest("button");d.disabled=!0,d.innerHTML='<span class="animate-spin">\u23F3</span> Application...';try{let V=await fetch(`/api/sites/${encodeURIComponent(i)}/ai/apply-edit`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({proposalId:n})}),H=await V.json();if(V.ok&&H.success){let O=document.querySelector(`[data-proposal-id="${n}"]`);O&&(O.innerHTML=`
            <div class="w-8 h-8 rounded-full bg-emerald-500 flex-shrink-0 flex items-center justify-center">
              <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
              </svg>
            </div>
            <div class="flex-1 bg-emerald-50 border border-emerald-200 rounded-2xl rounded-tl-none p-3">
              <p class="text-sm text-emerald-700">\u2705 Modifications appliqu\xE9es avec succ\xE8s !</p>
              <p class="text-xs text-emerald-600 mt-1">La preview se met \xE0 jour automatiquement.</p>
            </div>
          `),M("Modifications appliqu\xE9es !");let X=((y=H.updatedPage)==null?void 0:y.id)||null;document.dispatchEvent(new CustomEvent("ai-page-updated",{detail:{pageId:X,updatedPage:H.updatedPage}}))}else throw new Error(H.message||"Erreur lors de l'application")}catch(V){d.disabled=!1,d.innerHTML='<svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg> R\xE9essayer',M(`Erreur: ${V.message}`)}}async function yn(s){var d;let n=(d=s.target.closest("[data-proposal-id]"))==null?void 0:d.dataset.proposalId,i=Ae(ee.slug||"");if(!(!n||!i))try{await fetch(`/api/sites/${encodeURIComponent(i)}/ai/proposal/${n}`,{method:"DELETE"});let f=document.querySelector(`[data-proposal-id="${n}"]`);f&&(f.innerHTML=`
          <div class="w-8 h-8 rounded-full bg-slate-400 flex-shrink-0 flex items-center justify-center">
            <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
            </svg>
          </div>
          <div class="flex-1 bg-slate-100 rounded-2xl rounded-tl-none p-3">
            <p class="text-sm text-slate-500">Proposition rejet\xE9e.</p>
          </div>
        `)}catch(f){console.error("[AI] Reject edit error:",f)}}async function Ar(){let s=Ae(ee.slug||"");if(!(!s||!we))try{await fetch(`/api/sites/${encodeURIComponent(s)}/ai/history`,{method:"DELETE"}),we.innerHTML="",we.innerHTML=`
        <div class="flex gap-3" data-ai-welcome>
          <div class="w-8 h-8 rounded-full bg-gradient-to-br from-violet-500 to-indigo-600 flex-shrink-0 flex items-center justify-center">
            <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
            </svg>
          </div>
          <div class="flex-1 bg-slate-50 rounded-2xl rounded-tl-none p-3">
            <p class="text-sm text-slate-700">
              Salut ! \u{1F44B} Je suis ton assistant IA pour ce site. Je peux t'aider \xE0 :
            </p>
            <ul class="mt-2 text-sm text-slate-600 space-y-1">
              <li>\u{1F3A8} Sugg\xE9rer des palettes de couleurs</li>
              <li>\u270D\uFE0F G\xE9n\xE9rer du contenu pour tes blocs</li>
              <li>\u{1F4C4} Cr\xE9er des structures de pages</li>
              <li>\u{1F50D} Am\xE9liorer ton SEO</li>
              <li>\u270F\uFE0F <strong>Analyser et modifier tes pages</strong> (avec validation)</li>
            </ul>
          </div>
        </div>
      `,M("Historique effac\xE9")}catch(n){console.error("[AI] Clear history failed:",n),M("Erreur lors de l'effacement")}}let Tr={colors:"Sugg\xE8re-moi 3 palettes de couleurs harmonieuses pour mon site. Pour chaque palette, donne les couleurs Tailwind: primary, secondary, accent, et background.",hero:"G\xE9n\xE8re un bloc Hero en JSON avec un titre accrocheur, un sous-titre engageant et un CTA.",seo:"Analyse mon site et sugg\xE8re des am\xE9liorations SEO pour le meta title et la meta description de ma page d'accueil.",landing:"G\xE9n\xE8re la structure JSON d'une landing page compl\xE8te avec: Hero, 3 sections de contenu, et un CTA final.",analyze:"Analyse le contenu de toutes mes pages et propose des am\xE9liorations concr\xE8tes. Pour chaque suggestion d'am\xE9lioration de texte ou de structure, utilise le format propose-edit pour que je puisse valider.",improveHome:"Analyse ma page d'accueil et propose une am\xE9lioration du titre ou du Hero pour le rendre plus impactant. Utilise le format propose-edit."};$o==null||$o.addEventListener("click",()=>{Xs?eo():vr()}),Io==null||Io.addEventListener("click",eo),it==null||it.addEventListener("click",eo),Bo==null||Bo.addEventListener("click",()=>{confirm("Effacer tout l'historique de conversation ?")&&Ar()}),jo==null||jo.addEventListener("submit",s=>{var i;s.preventDefault();let n=(i=$t==null?void 0:$t.value)==null?void 0:i.trim();n&&($t.value="",hn(n))}),hr.forEach(s=>{s.addEventListener("click",()=>{let n=s.dataset.aiQuick,i=Tr[n];i&&hn(i)})}),document.addEventListener("keydown",s=>{s.key==="Escape"&&Xs&&eo()})});})();
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vY29yZS9zY3JpcHRzL2FkbWluLmpzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuICBjb25zb2xlLmxvZygnW2FkbWluXSBBdGVsaWVyIGNoYXJnXHUwMEU5Jyk7XG4gIGNvbnN0IGxvZ291dEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWxvZ291dF0nKTtcbiAgaWYgKGxvZ291dEJ1dHRvbikge1xuICAgIGxvZ291dEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGxvZ291dEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBmZXRjaCgnL2FwaS9sb2dvdXQnLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbYWRtaW5dIEltcG9zc2libGUgZGUgc2UgZFx1MDBFOWNvbm5lY3RlcicsIGVycik7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvYWRtaW4vaW5kZXguaHRtbCc7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBjb25zdCBzaWRlYmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRtaW4tc2lkZWJhcl0nKTtcbiAgY29uc3Qgc2lkZWJhck92ZXJsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZG1pbi1zaWRlYmFyLW92ZXJsYXldJyk7XG4gIGNvbnN0IHNpZGViYXJUb2dnbGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYWRtaW4tc2lkZWJhci10b2dnbGVdJyk7XG4gIGNvbnN0IHNpZGViYXJDbG9zZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1hZG1pbi1zaWRlYmFyLWNsb3NlXScpO1xuICBjb25zdCBib2R5ID0gZG9jdW1lbnQuYm9keTtcbiAgbGV0IHNpZGViYXJPcGVuID0gZmFsc2U7XG5cbiAgY29uc3QgYXBwbHlTaWRlYmFyU3RhdGUgPSAoKSA9PiB7XG4gICAgaWYgKCFzaWRlYmFyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGlzRGVza3RvcCA9IHdpbmRvdy5tYXRjaE1lZGlhKCcobWluLXdpZHRoOiAxMDI0cHgpJykubWF0Y2hlcztcbiAgICBpZiAoaXNEZXNrdG9wKSB7XG4gICAgICBzaWRlYmFyLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgc2lkZWJhck92ZXJsYXk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHNpZGViYXJPcGVuKSB7XG4gICAgICBzaWRlYmFyLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgc2lkZWJhck92ZXJsYXk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgYm9keS5jbGFzc0xpc3QuYWRkKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2lkZWJhci5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIHNpZGViYXJPdmVybGF5Py5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnb3ZlcmZsb3ctaGlkZGVuJyk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IG9wZW5TaWRlYmFyID0gKCkgPT4ge1xuICAgIHNpZGViYXJPcGVuID0gdHJ1ZTtcbiAgICBhcHBseVNpZGViYXJTdGF0ZSgpO1xuICB9O1xuXG4gIGNvbnN0IGNsb3NlU2lkZWJhciA9ICgpID0+IHtcbiAgICBzaWRlYmFyT3BlbiA9IGZhbHNlO1xuICAgIGFwcGx5U2lkZWJhclN0YXRlKCk7XG4gIH07XG5cbiAgaWYgKHNpZGViYXIgJiYgc2lkZWJhclRvZ2dsZXMubGVuZ3RoID4gMCkge1xuICAgIHNpZGViYXJUb2dnbGVzLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlblNpZGViYXIpO1xuICAgIH0pO1xuICAgIHNpZGViYXJDbG9zZUJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZVNpZGViYXIpO1xuICAgIH0pO1xuICAgIHNpZGViYXJPdmVybGF5Py5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlU2lkZWJhcik7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGFwcGx5U2lkZWJhclN0YXRlKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VzY2FwZScgJiYgc2lkZWJhck9wZW4pIHtcbiAgICAgICAgY2xvc2VTaWRlYmFyKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgYXBwbHlTaWRlYmFyU3RhdGUoKTtcbiAgfVxuXG4gIGNvbnN0IEFDVElWRV9TSVRFX0tFWSA9ICdjbG93ZXI6Y3VycmVudFNpdGUnO1xuICBjb25zdCBBQ1RJVkVfU0lURV9OQU1FX0tFWSA9ICdjbG93ZXI6Y3VycmVudFNpdGVOYW1lJztcbiAgY29uc3Qgc3RvcmVkU2l0ZSA9IHsgc2x1ZzogbnVsbCwgbmFtZTogJycgfTtcbiAgY29uc3QgbG9hZFN0b3JlZFNpdGUgPSAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJhd1NsdWcgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oQUNUSVZFX1NJVEVfS0VZKTtcbiAgICAgIHN0b3JlZFNpdGUuc2x1ZyA9IHJhd1NsdWcgPyBlbnN1cmVMZWFkaW5nU2xhc2goc3RyaXBMZWFkaW5nU2xhc2gocmF3U2x1ZykpIDogbnVsbDtcbiAgICAgIHN0b3JlZFNpdGUubmFtZSA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShBQ1RJVkVfU0lURV9OQU1FX0tFWSkgfHwgJyc7XG4gICAgfSBjYXRjaCB7XG4gICAgICBzdG9yZWRTaXRlLnNsdWcgPSBudWxsO1xuICAgICAgc3RvcmVkU2l0ZS5uYW1lID0gJyc7XG4gICAgfVxuICB9O1xuICBsb2FkU3RvcmVkU2l0ZSgpO1xuXG4gIGNvbnN0IHNpdGVDYXJkcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXNpdGUtY2FyZF0nKTtcbiAgY29uc3Qgc2l0ZVNlbGVjdEJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1zaXRlLXNlbGVjdF0nKTtcbiAgY29uc3Qgc2l0ZU5hbWVMYWJlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWN1cnJlbnQtc2l0ZS1uYW1lXScpO1xuICBjb25zdCB3b3Jrc3BhY2VTaXRlTGFiZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS13b3Jrc3BhY2Utc2l0ZS1uYW1lXScpO1xuICBjb25zdCB3b3Jrc3BhY2VCYWNrTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXdvcmtzcGFjZS1iYWNrLW5hbWVdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZUJhY2tNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXdvcmtzcGFjZS1iYWNrLW1vZGFsXScpO1xuICBjb25zdCB3b3Jrc3BhY2VCYWNrQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXdvcmtzcGFjZS1iYWNrXScpO1xuICBjb25zdCB3b3Jrc3BhY2VCYWNrQ2FuY2VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtd29ya3NwYWNlLWJhY2stY2FuY2VsXScpO1xuICBjb25zdCB3b3Jrc3BhY2VCYWNrQ29uZmlybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXdvcmtzcGFjZS1iYWNrLWNvbmZpcm1dJyk7XG4gIGNvbnN0IHdvcmtzcGFjZU5hdkxpbmtzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtd29ya3NwYWNlLXRhYl0nKTtcbiAgY29uc3Qgc2l0ZVRvYXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS10b2FzdF0nKTtcbiAgY29uc3Qgc2l0ZVRvYXN0TWVzc2FnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtdG9hc3QtbWVzc2FnZV0nKTtcbiAgY29uc3Qgc2l0ZUNyZWF0ZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1zaXRlLWNyZWF0ZV0nKTtcbiAgY29uc3Qgc2l0ZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS1tb2RhbF0nKTtcbiAgY29uc3Qgc2l0ZUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLWZvcm1dJyk7XG4gIC8vIFVzZSBtb3JlIHNwZWNpZmljIHNlbGVjdG9ycyB0byBnZXQgaW5wdXRzIElOU0lERSB0aGUgZm9ybSwgbm90IHNpdGUgY2FyZHNcbiAgY29uc3Qgc2l0ZU5hbWVJbnB1dCA9IHNpdGVGb3JtPy5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPVwic2l0ZU5hbWVcIl0nKTtcbiAgY29uc3Qgc2l0ZVNsdWdJbnB1dCA9IHNpdGVGb3JtPy5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPVwic2l0ZVNsdWdcIl0nKTtcbiAgY29uc3Qgc2l0ZVNsdWdFcnJvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtc2x1Zy1lcnJvcl0nKTtcbiAgY29uc3Qgc2l0ZU1vZGFsRXJyb3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLW1vZGFsLWVycm9yXScpO1xuICBjb25zdCBzaXRlTW9kYWxDYW5jZWxCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtc2l0ZS1tb2RhbC1jYW5jZWxdJyk7XG4gIGNvbnN0IHNpdGVNb2RhbFN1Ym1pdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtbW9kYWwtc3VibWl0XScpO1xuICBjb25zdCB3b3Jrc3BhY2VDb250ZXh0ID0gZ2V0V29ya3NwYWNlQ29udGV4dCgpO1xuICBsZXQgc2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gIGxldCB0b2FzdFRpbWVvdXRJZCA9IG51bGw7XG5cbiAgY29uc3QgZm9jdXNhYmxlU2VsZWN0b3IgPVxuICAgICdhW2hyZWZdLCBidXR0b246bm90KFtkaXNhYmxlZF0pLCB0ZXh0YXJlYSwgaW5wdXQsIHNlbGVjdCwgW3RhYmluZGV4XTpub3QoW3RhYmluZGV4PVwiLTFcIl0pJztcbiAgY29uc3QgbW9kYWxTdGFjayA9IFtdO1xuICBjb25zdCBnZXRGb2N1c2FibGVFbGVtZW50cyA9IChtb2RhbCkgPT5cbiAgICBBcnJheS5mcm9tKG1vZGFsLnF1ZXJ5U2VsZWN0b3JBbGwoZm9jdXNhYmxlU2VsZWN0b3IpKS5maWx0ZXIoXG4gICAgICAoZWwpID0+ICFlbC5oYXNBdHRyaWJ1dGUoJ2Rpc2FibGVkJykgJiYgIWVsLmdldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nKSxcbiAgICApO1xuICBjb25zdCBoYW5kbGVNb2RhbEtleWRvd24gPSAoZXZlbnQpID0+IHtcbiAgICBpZiAoIW1vZGFsU3RhY2subGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGN1cnJlbnRFbnRyeSA9IG1vZGFsU3RhY2tbbW9kYWxTdGFjay5sZW5ndGggLSAxXTtcbiAgICBjb25zdCB7IG1vZGFsLCBvbkNsb3NlIH0gPSBjdXJyZW50RW50cnk7XG4gICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBvbkNsb3NlPy4oKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGV2ZW50LmtleSAhPT0gJ1RhYicpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZm9jdXNhYmxlRWxlbWVudHMgPSBnZXRGb2N1c2FibGVFbGVtZW50cyhtb2RhbCk7XG4gICAgaWYgKCFmb2N1c2FibGVFbGVtZW50cy5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZmlyc3QgPSBmb2N1c2FibGVFbGVtZW50c1swXTtcbiAgICBjb25zdCBsYXN0ID0gZm9jdXNhYmxlRWxlbWVudHNbZm9jdXNhYmxlRWxlbWVudHMubGVuZ3RoIC0gMV07XG4gICAgaWYgKGV2ZW50LnNoaWZ0S2V5KSB7XG4gICAgICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gZmlyc3QpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgbGFzdC5mb2N1cygpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gbGFzdCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGZpcnN0LmZvY3VzKCk7XG4gICAgfVxuICB9O1xuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlTW9kYWxLZXlkb3duKTtcbiAgY29uc3QgYWN0aXZhdGVNb2RhbCA9IChtb2RhbCwgb25DbG9zZSkgPT4ge1xuICAgIGlmICghbW9kYWwpIHJldHVybjtcbiAgICBtb2RhbFN0YWNrLnB1c2goe1xuICAgICAgbW9kYWwsXG4gICAgICBvbkNsb3NlLFxuICAgICAgdHJpZ2dlcjogZG9jdW1lbnQuYWN0aXZlRWxlbWVudCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ID8gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA6IG51bGwsXG4gICAgfSk7XG4gICAgY29uc3QgZm9jdXNhYmxlID0gZ2V0Rm9jdXNhYmxlRWxlbWVudHMobW9kYWwpO1xuICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIChmb2N1c2FibGVbMF0gfHwgbW9kYWwpLmZvY3VzPy4oKTtcbiAgICB9LCAwKTtcbiAgfTtcbiAgY29uc3QgZGVhY3RpdmF0ZU1vZGFsID0gKG1vZGFsKSA9PiB7XG4gICAgY29uc3QgaW5kZXggPSBtb2RhbFN0YWNrLmZpbmRJbmRleCgoZW50cnkpID0+IGVudHJ5Lm1vZGFsID09PSBtb2RhbCk7XG4gICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBbZW50cnldID0gbW9kYWxTdGFjay5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIGVudHJ5LnRyaWdnZXI/LmZvY3VzPy4oKTtcbiAgfTtcbiAgY29uc3QgbW9iaWxlUGFuZWxPdmVybGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbW9iaWxlLXBhbmVscy1vdmVybGF5XScpO1xuICBjb25zdCBtb2JpbGVQYW5lbExheWVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbW9iaWxlLXBhbmVscy1sYXllcl0nKTtcbiAgY29uc3QgbW9iaWxlUGFuZWxzID0ge1xuICAgIGxlZnQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1vYmlsZS1wYW5lbD1cImxlZnRcIl0nKSxcbiAgICByaWdodDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbW9iaWxlLXBhbmVsPVwicmlnaHRcIl0nKSxcbiAgfTtcbiAgbGV0IG1vYmlsZVBhbmVsTGF5ZXJQbGFjZWhvbGRlciA9IG51bGw7XG4gIGlmIChtb2JpbGVQYW5lbExheWVyPy5wYXJlbnRFbGVtZW50KSB7XG4gICAgbW9iaWxlUGFuZWxMYXllclBsYWNlaG9sZGVyID0gZG9jdW1lbnQuY3JlYXRlQ29tbWVudCgnbW9iaWxlLXBhbmVscy1sYXllci1wbGFjZWhvbGRlcicpO1xuICAgIG1vYmlsZVBhbmVsTGF5ZXIucGFyZW50RWxlbWVudC5pbnNlcnRCZWZvcmUobW9iaWxlUGFuZWxMYXllclBsYWNlaG9sZGVyLCBtb2JpbGVQYW5lbExheWVyKTtcbiAgfVxuICBsZXQgcmlnaHRQYW5lbFBsYWNlaG9sZGVyID0gbnVsbDtcbiAgaWYgKG1vYmlsZVBhbmVscy5yaWdodD8ucGFyZW50RWxlbWVudCkge1xuICAgIHJpZ2h0UGFuZWxQbGFjZWhvbGRlciA9IGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoJ21vYmlsZS1wYW5lbC1yaWdodC1wbGFjZWhvbGRlcicpO1xuICAgIG1vYmlsZVBhbmVscy5yaWdodC5wYXJlbnRFbGVtZW50Lmluc2VydEJlZm9yZShyaWdodFBhbmVsUGxhY2Vob2xkZXIsIG1vYmlsZVBhbmVscy5yaWdodCk7XG4gIH1cbiAgY29uc3QgbW9iaWxlUGFuZWxUb2dnbGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtbW9iaWxlLXBhbmVsLXRvZ2dsZV0nKTtcbiAgY29uc3QgbW9iaWxlUGFuZWxDbG9zZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1tb2JpbGUtcGFuZWwtY2xvc2VdJyk7XG4gIGNvbnN0IG1vYmlsZVBhbmVsVHJpZ2dlcnMgPSB7IGxlZnQ6IG51bGwsIHJpZ2h0OiBudWxsIH07XG4gIGxldCBhY3RpdmVNb2JpbGVQYW5lbCA9IG51bGw7XG4gIGNvbnN0IGlzRGVza3RvcFZpZXdwb3J0ID0gKCkgPT4gd2luZG93Lm1hdGNoTWVkaWEoJyhtaW4td2lkdGg6IDEwMjRweCknKS5tYXRjaGVzO1xuICBjb25zdCBlbnN1cmVNb2JpbGVQYW5lbExheWVyUGxhY2VtZW50ID0gKCkgPT4ge1xuICAgIGlmICghbW9iaWxlUGFuZWxMYXllciB8fCAhbW9iaWxlUGFuZWxMYXllclBsYWNlaG9sZGVyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChpc0Rlc2t0b3BWaWV3cG9ydCgpKSB7XG4gICAgICBjb25zdCB0YXJnZXRQYXJlbnQgPSBtb2JpbGVQYW5lbExheWVyUGxhY2Vob2xkZXIucGFyZW50RWxlbWVudDtcbiAgICAgIGlmICghdGFyZ2V0UGFyZW50KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChtb2JpbGVQYW5lbExheWVyLnBhcmVudEVsZW1lbnQgIT09IHRhcmdldFBhcmVudCkge1xuICAgICAgICB0YXJnZXRQYXJlbnQuaW5zZXJ0QmVmb3JlKG1vYmlsZVBhbmVsTGF5ZXIsIG1vYmlsZVBhbmVsTGF5ZXJQbGFjZWhvbGRlci5uZXh0U2libGluZyk7XG4gICAgICB9IGVsc2UgaWYgKG1vYmlsZVBhbmVsTGF5ZXJQbGFjZWhvbGRlci5uZXh0U2libGluZyAhPT0gbW9iaWxlUGFuZWxMYXllcikge1xuICAgICAgICB0YXJnZXRQYXJlbnQuaW5zZXJ0QmVmb3JlKG1vYmlsZVBhbmVsTGF5ZXIsIG1vYmlsZVBhbmVsTGF5ZXJQbGFjZWhvbGRlci5uZXh0U2libGluZyk7XG4gICAgICB9XG4gICAgICBtb2JpbGVQYW5lbExheWVyLmRhdGFzZXQubW9iaWxlUGFuZWxQbGFjZW1lbnQgPSAnc2lkZWJhcic7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChtb2JpbGVQYW5lbExheWVyLnBhcmVudEVsZW1lbnQgIT09IGRvY3VtZW50LmJvZHkpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobW9iaWxlUGFuZWxMYXllcik7XG4gICAgICBtb2JpbGVQYW5lbExheWVyLmRhdGFzZXQubW9iaWxlUGFuZWxQbGFjZW1lbnQgPSAnb3ZlcmxheSc7XG4gICAgfVxuICB9O1xuICBjb25zdCBlbnN1cmVSaWdodFBhbmVsUGxhY2VtZW50ID0gKCkgPT4ge1xuICAgIGNvbnN0IHBhbmVsID0gbW9iaWxlUGFuZWxzLnJpZ2h0O1xuICAgIGlmICghcGFuZWwgfHwgIXJpZ2h0UGFuZWxQbGFjZWhvbGRlcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoaXNEZXNrdG9wVmlld3BvcnQoKSkge1xuICAgICAgY29uc3QgdGFyZ2V0UGFyZW50ID0gcmlnaHRQYW5lbFBsYWNlaG9sZGVyLnBhcmVudEVsZW1lbnQ7XG4gICAgICBpZiAoIXRhcmdldFBhcmVudCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAocGFuZWwucGFyZW50RWxlbWVudCAhPT0gdGFyZ2V0UGFyZW50KSB7XG4gICAgICAgIHRhcmdldFBhcmVudC5pbnNlcnRCZWZvcmUocGFuZWwsIHJpZ2h0UGFuZWxQbGFjZWhvbGRlci5uZXh0U2libGluZyk7XG4gICAgICB9IGVsc2UgaWYgKHJpZ2h0UGFuZWxQbGFjZWhvbGRlci5uZXh0U2libGluZyAhPT0gcGFuZWwpIHtcbiAgICAgICAgdGFyZ2V0UGFyZW50Lmluc2VydEJlZm9yZShwYW5lbCwgcmlnaHRQYW5lbFBsYWNlaG9sZGVyLm5leHRTaWJsaW5nKTtcbiAgICAgIH1cbiAgICAgIHBhbmVsLmRhdGFzZXQubW9iaWxlUGFuZWxQbGFjZW1lbnQgPSAnc2lkZWJhcic7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChtb2JpbGVQYW5lbExheWVyKSB7XG4gICAgICBjb25zdCBsZWZ0UGFuZWwgPSBtb2JpbGVQYW5lbHMubGVmdDtcbiAgICAgIGlmIChsZWZ0UGFuZWwgJiYgbGVmdFBhbmVsLnBhcmVudEVsZW1lbnQgPT09IG1vYmlsZVBhbmVsTGF5ZXIpIHtcbiAgICAgICAgaWYgKHBhbmVsLnBhcmVudEVsZW1lbnQgIT09IG1vYmlsZVBhbmVsTGF5ZXIgfHwgcGFuZWwucHJldmlvdXNTaWJsaW5nICE9PSBsZWZ0UGFuZWwpIHtcbiAgICAgICAgICBtb2JpbGVQYW5lbExheWVyLmluc2VydEJlZm9yZShwYW5lbCwgbGVmdFBhbmVsLm5leHRTaWJsaW5nKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChwYW5lbC5wYXJlbnRFbGVtZW50ICE9PSBtb2JpbGVQYW5lbExheWVyKSB7XG4gICAgICAgIG1vYmlsZVBhbmVsTGF5ZXIuYXBwZW5kQ2hpbGQocGFuZWwpO1xuICAgICAgfVxuICAgICAgcGFuZWwuZGF0YXNldC5tb2JpbGVQYW5lbFBsYWNlbWVudCA9ICdvdmVybGF5JztcbiAgICB9IGVsc2UgaWYgKHBhbmVsLnBhcmVudEVsZW1lbnQgIT09IGRvY3VtZW50LmJvZHkpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQocGFuZWwpO1xuICAgICAgcGFuZWwuZGF0YXNldC5tb2JpbGVQYW5lbFBsYWNlbWVudCA9ICdvdmVybGF5JztcbiAgICB9XG4gIH07XG4gIGNvbnN0IGVuc3VyZU1vYmlsZVBhbmVsUGxhY2VtZW50ID0gKCkgPT4ge1xuICAgIGVuc3VyZU1vYmlsZVBhbmVsTGF5ZXJQbGFjZW1lbnQoKTtcbiAgICBlbnN1cmVSaWdodFBhbmVsUGxhY2VtZW50KCk7XG4gIH07XG4gIGVuc3VyZU1vYmlsZVBhbmVsUGxhY2VtZW50KCk7XG4gIGNvbnN0IHBhbmVsRGVmYXVsdFogPSB7fTtcbiAgT2JqZWN0LmVudHJpZXMobW9iaWxlUGFuZWxzKS5mb3JFYWNoKChbc2lkZSwgcGFuZWxdKSA9PiB7XG4gICAgaWYgKCFwYW5lbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBjb21wdXRlZFogPSBOdW1iZXIod2luZG93LmdldENvbXB1dGVkU3R5bGUocGFuZWwpLnpJbmRleCkgfHwgMDtcbiAgICBwYW5lbERlZmF1bHRaW3NpZGVdID0gY29tcHV0ZWRaO1xuICB9KTtcbiAgY29uc3QgbWF4RGVmYXVsdFogPVxuICAgIE9iamVjdC52YWx1ZXMocGFuZWxEZWZhdWx0WikucmVkdWNlKChtYXgsIHZhbHVlKSA9PiBNYXRoLm1heChtYXgsIHZhbHVlIHx8IDApLCAwKSB8fCAxNTA7XG4gIGNvbnN0IGFjdGl2ZVBhbmVsWiA9IG1heERlZmF1bHRaICsgNTtcbiAgY29uc3Qgc2V0UGFuZWxaU3RhdGUgPSAoc2lkZSwgaXNBY3RpdmUpID0+IHtcbiAgICBjb25zdCBwYW5lbCA9IG1vYmlsZVBhbmVsc1tzaWRlXTtcbiAgICBpZiAoIXBhbmVsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChpc0Rlc2t0b3BWaWV3cG9ydCgpKSB7XG4gICAgICBwYW5lbC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnei1pbmRleCcpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoaXNBY3RpdmUpIHtcbiAgICAgIHBhbmVsLnN0eWxlLnpJbmRleCA9IFN0cmluZyhhY3RpdmVQYW5lbFopO1xuICAgIH0gZWxzZSBpZiAocGFuZWxEZWZhdWx0WltzaWRlXSkge1xuICAgICAgcGFuZWwuc3R5bGUuekluZGV4ID0gU3RyaW5nKHBhbmVsRGVmYXVsdFpbc2lkZV0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBwYW5lbC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnei1pbmRleCcpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgYXBwbHlQYW5lbENsYXNzZXMgPSAocGFuZWwsIGNsYXNzZXMsIG1ldGhvZCkgPT4ge1xuICAgIGlmICghcGFuZWwgfHwgIWNsYXNzZXMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY2xhc3Nlc1xuICAgICAgLnNwbGl0KCcgJylcbiAgICAgIC5tYXAoKGNscykgPT4gY2xzLnRyaW0oKSlcbiAgICAgIC5maWx0ZXIoQm9vbGVhbilcbiAgICAgIC5mb3JFYWNoKChjbHMpID0+IHBhbmVsLmNsYXNzTGlzdFttZXRob2RdKGNscykpO1xuICB9O1xuICBjb25zdCBzZXRQYW5lbEhpZGRlblN0YXRlID0gKHBhbmVsLCBoaWRkZW4pID0+IHtcbiAgICBpZiAoIXBhbmVsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGhpZGRlbkNsYXNzZXMgPSBwYW5lbC5kYXRhc2V0Lm1vYmlsZVBhbmVsSGlkZGVuIHx8ICcnO1xuICAgIGNvbnN0IHZpc2libGVDbGFzc2VzID0gcGFuZWwuZGF0YXNldC5tb2JpbGVQYW5lbFZpc2libGUgfHwgJ3RyYW5zbGF0ZS14LTAnO1xuICAgIGlmIChoaWRkZW4pIHtcbiAgICAgIGFwcGx5UGFuZWxDbGFzc2VzKHBhbmVsLCB2aXNpYmxlQ2xhc3NlcywgJ3JlbW92ZScpO1xuICAgICAgYXBwbHlQYW5lbENsYXNzZXMocGFuZWwsIGhpZGRlbkNsYXNzZXMsICdhZGQnKTtcbiAgICAgIHBhbmVsLmNsYXNzTGlzdC5hZGQoJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICAgIHBhbmVsLmNsYXNzTGlzdC5yZW1vdmUoJ3BvaW50ZXItZXZlbnRzLWF1dG8nKTtcbiAgICAgIHBhbmVsLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuICAgICAgcGFuZWwuZGF0YXNldC5tb2JpbGVQYW5lbE9wZW4gPSAnZmFsc2UnO1xuICAgIH0gZWxzZSB7XG4gICAgICBhcHBseVBhbmVsQ2xhc3NlcyhwYW5lbCwgaGlkZGVuQ2xhc3NlcywgJ3JlbW92ZScpO1xuICAgICAgYXBwbHlQYW5lbENsYXNzZXMocGFuZWwsIHZpc2libGVDbGFzc2VzLCAnYWRkJyk7XG4gICAgICBwYW5lbC5jbGFzc0xpc3QucmVtb3ZlKCdwb2ludGVyLWV2ZW50cy1ub25lJyk7XG4gICAgICBwYW5lbC5jbGFzc0xpc3QuYWRkKCdwb2ludGVyLWV2ZW50cy1hdXRvJyk7XG4gICAgICBwYW5lbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ2ZhbHNlJyk7XG4gICAgICBwYW5lbC5kYXRhc2V0Lm1vYmlsZVBhbmVsT3BlbiA9ICd0cnVlJztcbiAgICB9XG4gIH07XG4gIGNvbnN0IGNsb3NlTW9iaWxlUGFuZWwgPSAoc2lkZSA9IGFjdGl2ZU1vYmlsZVBhbmVsKSA9PiB7XG4gICAgaWYgKCFzaWRlIHx8IGlzRGVza3RvcFZpZXdwb3J0KCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcGFuZWwgPSBtb2JpbGVQYW5lbHNbc2lkZV07XG4gICAgaWYgKCFwYW5lbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzZXRQYW5lbFpTdGF0ZShzaWRlLCBmYWxzZSk7XG4gICAgc2V0UGFuZWxIaWRkZW5TdGF0ZShwYW5lbCwgdHJ1ZSk7XG4gICAgY29uc3QgdHJpZ2dlciA9IG1vYmlsZVBhbmVsVHJpZ2dlcnNbc2lkZV07XG4gICAgaWYgKHRyaWdnZXIpIHtcbiAgICAgIHRyaWdnZXIuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJyk7XG4gICAgfVxuICAgIG1vYmlsZVBhbmVsVHJpZ2dlcnNbc2lkZV0gPSBudWxsO1xuICAgIGlmIChhY3RpdmVNb2JpbGVQYW5lbCA9PT0gc2lkZSkge1xuICAgICAgbW9iaWxlUGFuZWxPdmVybGF5Py5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIG1vYmlsZVBhbmVsT3ZlcmxheT8uY2xhc3NMaXN0LnJlbW92ZSgncG9pbnRlci1ldmVudHMtYXV0bycpO1xuICAgICAgbW9iaWxlUGFuZWxPdmVybGF5Py5jbGFzc0xpc3QuYWRkKCdwb2ludGVyLWV2ZW50cy1ub25lJyk7XG4gICAgICBtb2JpbGVQYW5lbE92ZXJsYXk/LnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuICAgICAgbW9iaWxlUGFuZWxMYXllcj8uY2xhc3NMaXN0LmFkZCgncG9pbnRlci1ldmVudHMtbm9uZScpO1xuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICAgIHRyaWdnZXI/LmZvY3VzPy4oKTtcbiAgICAgIGFjdGl2ZU1vYmlsZVBhbmVsID0gbnVsbDtcbiAgICB9XG4gIH07XG4gIGNvbnN0IG9wZW5Nb2JpbGVQYW5lbCA9IChzaWRlLCB0cmlnZ2VyKSA9PiB7XG4gICAgaWYgKCFzaWRlIHx8IGlzRGVza3RvcFZpZXdwb3J0KCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcGFuZWwgPSBtb2JpbGVQYW5lbHNbc2lkZV07XG4gICAgaWYgKCFwYW5lbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoYWN0aXZlTW9iaWxlUGFuZWwgJiYgYWN0aXZlTW9iaWxlUGFuZWwgIT09IHNpZGUpIHtcbiAgICAgIGNsb3NlTW9iaWxlUGFuZWwoYWN0aXZlTW9iaWxlUGFuZWwpO1xuICAgIH1cbiAgICBzZXRQYW5lbEhpZGRlblN0YXRlKHBhbmVsLCBmYWxzZSk7XG4gICAgc2V0UGFuZWxaU3RhdGUoc2lkZSwgdHJ1ZSk7XG4gICAgYWN0aXZlTW9iaWxlUGFuZWwgPSBzaWRlO1xuICAgIG1vYmlsZVBhbmVsVHJpZ2dlcnNbc2lkZV0gPSB0cmlnZ2VyIHx8IG51bGw7XG4gICAgaWYgKHRyaWdnZXIpIHtcbiAgICAgIHRyaWdnZXIuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ3RydWUnKTtcbiAgICB9XG4gICAgbW9iaWxlUGFuZWxPdmVybGF5Py5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nLCAncG9pbnRlci1ldmVudHMtbm9uZScpO1xuICAgIG1vYmlsZVBhbmVsT3ZlcmxheT8uY2xhc3NMaXN0LmFkZCgncG9pbnRlci1ldmVudHMtYXV0bycpO1xuICAgIG1vYmlsZVBhbmVsT3ZlcmxheT8uc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICdmYWxzZScpO1xuICAgIG1vYmlsZVBhbmVsTGF5ZXI/LmNsYXNzTGlzdC5yZW1vdmUoJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ292ZXJmbG93LWhpZGRlbicpO1xuICAgIGNvbnN0IGZvY3VzVGFyZ2V0ID0gcGFuZWwucXVlcnlTZWxlY3Rvcihmb2N1c2FibGVTZWxlY3Rvcik7XG4gICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgZm9jdXNUYXJnZXQ/LmZvY3VzPy4oKTtcbiAgICB9LCAwKTtcbiAgfTtcbiAgY29uc3Qgc3luY01vYmlsZVBhbmVsc1dpdGhWaWV3cG9ydCA9ICgpID0+IHtcbiAgICBlbnN1cmVNb2JpbGVQYW5lbFBsYWNlbWVudCgpO1xuICAgIGlmIChpc0Rlc2t0b3BWaWV3cG9ydCgpKSB7XG4gICAgICBtb2JpbGVQYW5lbE92ZXJsYXk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgbW9iaWxlUGFuZWxMYXllcj8uY2xhc3NMaXN0LmFkZCgncG9pbnRlci1ldmVudHMtbm9uZScpO1xuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICAgIGFjdGl2ZU1vYmlsZVBhbmVsID0gbnVsbDtcbiAgICAgIE9iamVjdC5rZXlzKG1vYmlsZVBhbmVscykuZm9yRWFjaCgoc2lkZSkgPT4ge1xuICAgICAgICBjb25zdCBwYW5lbCA9IG1vYmlsZVBhbmVsc1tzaWRlXTtcbiAgICAgICAgaWYgKCFwYW5lbCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzZXRQYW5lbFpTdGF0ZShzaWRlLCBmYWxzZSk7XG4gICAgICAgIHBhbmVsLmNsYXNzTGlzdC5yZW1vdmUoJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICAgICAgcGFuZWwuY2xhc3NMaXN0LmFkZCgncG9pbnRlci1ldmVudHMtYXV0bycpO1xuICAgICAgICBwYW5lbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ2ZhbHNlJyk7XG4gICAgICAgIHBhbmVsLmRhdGFzZXQubW9iaWxlUGFuZWxPcGVuID0gJ2ZhbHNlJztcbiAgICAgICAgY29uc3QgdHJpZ2dlciA9IG1vYmlsZVBhbmVsVHJpZ2dlcnNbc2lkZV07XG4gICAgICAgIHRyaWdnZXI/LnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsICdmYWxzZScpO1xuICAgICAgICBtb2JpbGVQYW5lbFRyaWdnZXJzW3NpZGVdID0gbnVsbDtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBPYmplY3QuZW50cmllcyhtb2JpbGVQYW5lbHMpLmZvckVhY2goKFtzaWRlLCBwYW5lbF0pID0+IHtcbiAgICAgICAgaWYgKCFwYW5lbCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFuZWwuZGF0YXNldC5tb2JpbGVQYW5lbE9wZW4gIT09ICd0cnVlJykge1xuICAgICAgICAgIHNldFBhbmVsSGlkZGVuU3RhdGUocGFuZWwsIHRydWUpO1xuICAgICAgICAgIHNldFBhbmVsWlN0YXRlKHNpZGUsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoIWFjdGl2ZU1vYmlsZVBhbmVsKSB7XG4gICAgICAgIG1vYmlsZVBhbmVsT3ZlcmxheT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJywgJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICAgICAgbW9iaWxlUGFuZWxPdmVybGF5Py5jbGFzc0xpc3QucmVtb3ZlKCdwb2ludGVyLWV2ZW50cy1hdXRvJyk7XG4gICAgICAgIG1vYmlsZVBhbmVsT3ZlcmxheT8uc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJyk7XG4gICAgICAgIG1vYmlsZVBhbmVsTGF5ZXI/LmNsYXNzTGlzdC5hZGQoJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIGlmIChtb2JpbGVQYW5lbFRvZ2dsZXMubGVuZ3RoID4gMCkge1xuICAgIG1vYmlsZVBhbmVsVG9nZ2xlcy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICAgIGNvbnN0IHNpZGUgPSBidXR0b24uZGF0YXNldC5tb2JpbGVQYW5lbFRvZ2dsZTtcbiAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgaWYgKGFjdGl2ZU1vYmlsZVBhbmVsID09PSBzaWRlKSB7XG4gICAgICAgICAgY2xvc2VNb2JpbGVQYW5lbChzaWRlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvcGVuTW9iaWxlUGFuZWwoc2lkZSwgYnV0dG9uKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgbW9iaWxlUGFuZWxDbG9zZUJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICBjb25zdCBzaWRlID0gYnV0dG9uLmRhdGFzZXQubW9iaWxlUGFuZWxDbG9zZTtcbiAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGNsb3NlTW9iaWxlUGFuZWwoc2lkZSkpO1xuICAgIH0pO1xuICAgIG1vYmlsZVBhbmVsT3ZlcmxheT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBjbG9zZU1vYmlsZVBhbmVsKCkpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQua2V5ID09PSAnRXNjYXBlJyAmJiBhY3RpdmVNb2JpbGVQYW5lbCAmJiAhaXNEZXNrdG9wVmlld3BvcnQoKSkge1xuICAgICAgICBjbG9zZU1vYmlsZVBhbmVsKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHN5bmNNb2JpbGVQYW5lbHNXaXRoVmlld3BvcnQpO1xuICAgIHN5bmNNb2JpbGVQYW5lbHNXaXRoVmlld3BvcnQoKTtcbiAgfVxuXG4gIGNvbnN0IHNob3dUb2FzdCA9IChtZXNzYWdlKSA9PiB7XG4gICAgaWYgKCFzaXRlVG9hc3QgfHwgIXNpdGVUb2FzdE1lc3NhZ2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2l0ZVRvYXN0TWVzc2FnZS50ZXh0Q29udGVudCA9IG1lc3NhZ2U7XG4gICAgc2l0ZVRvYXN0LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgIGlmICh0b2FzdFRpbWVvdXRJZCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRvYXN0VGltZW91dElkKTtcbiAgICB9XG4gICAgdG9hc3RUaW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHNpdGVUb2FzdC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICB9LCAyNTAwKTtcbiAgfTtcblxuICBmdW5jdGlvbiBlbnN1cmVMZWFkaW5nU2xhc2goc2x1Zykge1xuICAgIGlmICghc2x1Zykge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICBjb25zdCB0cmltbWVkID0gYCR7c2x1Z31gLnRyaW0oKTtcbiAgICBpZiAoIXRyaW1tZWQpIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgY29uc3Qgd2l0aG91dExlYWRpbmcgPSB0cmltbWVkLnJlcGxhY2UoL15cXC8rLywgJycpO1xuICAgIGlmICghd2l0aG91dExlYWRpbmcpIHtcbiAgICAgIHJldHVybiAnLyc7XG4gICAgfVxuICAgIHJldHVybiBgLyR7d2l0aG91dExlYWRpbmd9YDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHN0cmlwTGVhZGluZ1NsYXNoKHNsdWcpIHtcbiAgICBpZiAoIXNsdWcpIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgcmV0dXJuIGAke3NsdWd9YC5yZXBsYWNlKC9eXFwvKy8sICcnKTtcbiAgfVxuXG4gIGNvbnN0IHBlcnNpc3RTaXRlU3RhdGUgPSAoc2x1ZywgbmFtZSkgPT4ge1xuICAgIGNvbnN0IG5vcm1hbGl6ZWRTbHVnID0gc2x1ZyA/IGVuc3VyZUxlYWRpbmdTbGFzaChzbHVnKSA6IG51bGw7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChub3JtYWxpemVkU2x1Zykge1xuICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oQUNUSVZFX1NJVEVfS0VZLCBub3JtYWxpemVkU2x1Zyk7XG4gICAgICAgIHN0b3JlZFNpdGUuc2x1ZyA9IG5vcm1hbGl6ZWRTbHVnO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBuYW1lID09PSAnc3RyaW5nJyAmJiBuYW1lLmxlbmd0aCA+IDApIHtcbiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKEFDVElWRV9TSVRFX05BTUVfS0VZLCBuYW1lKTtcbiAgICAgICAgc3RvcmVkU2l0ZS5uYW1lID0gbmFtZTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIHtcbiAgICAgIHN0b3JlZFNpdGUuc2x1ZyA9IG5vcm1hbGl6ZWRTbHVnIHx8IHN0b3JlZFNpdGUuc2x1ZztcbiAgICAgIHN0b3JlZFNpdGUubmFtZSA9IG5hbWUgfHwgc3RvcmVkU2l0ZS5uYW1lO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCB1cGRhdGVTaXRlTGFiZWxzID0gKG5hbWUpID0+IHtcbiAgICBpZiAoc2l0ZU5hbWVMYWJlbCAmJiBuYW1lKSB7XG4gICAgICBzaXRlTmFtZUxhYmVsLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICB9XG4gICAgaWYgKHdvcmtzcGFjZVNpdGVMYWJlbCAmJiBuYW1lKSB7XG4gICAgICB3b3Jrc3BhY2VTaXRlTGFiZWwudGV4dENvbnRlbnQgPSBuYW1lO1xuICAgIH1cbiAgICBpZiAod29ya3NwYWNlQmFja05hbWUgJiYgbmFtZSkge1xuICAgICAgd29ya3NwYWNlQmFja05hbWUudGV4dENvbnRlbnQgPSBuYW1lO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCB1cGRhdGVXb3Jrc3BhY2VOYXZMaW5rcyA9IChzbHVnKSA9PiB7XG4gICAgd29ya3NwYWNlTmF2TGlua3MuZm9yRWFjaCgobGluaykgPT4ge1xuICAgICAgY29uc3QgdGFiID0gbGluay5kYXRhc2V0LndvcmtzcGFjZVRhYjtcbiAgICAgIGlmICghdGFiKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghc2x1Zykge1xuICAgICAgICBsaW5rLmhyZWYgPSAnIyc7XG4gICAgICAgIGxpbmsuY2xhc3NMaXN0LmFkZCgncG9pbnRlci1ldmVudHMtbm9uZScsICdvcGFjaXR5LTUwJywgJ3RleHQtc2xhdGUtNDAwJyk7XG4gICAgICAgIGxpbmsuc2V0QXR0cmlidXRlKCdhcmlhLWRpc2FibGVkJywgJ3RydWUnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3Qgc2x1Z1BhdGggPSBlbmNvZGVVUklDb21wb25lbnQoc3RyaXBMZWFkaW5nU2xhc2goc2x1ZykpO1xuICAgICAgbGluay5ocmVmID0gYC9hZG1pbi9zaXRlLyR7c2x1Z1BhdGh9LyR7dGFifWA7XG4gICAgICBsaW5rLmNsYXNzTGlzdC5yZW1vdmUoJ3BvaW50ZXItZXZlbnRzLW5vbmUnLCAnb3BhY2l0eS01MCcsICd0ZXh0LXNsYXRlLTQwMCcpO1xuICAgICAgbGluay5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtZGlzYWJsZWQnKTtcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBhcHBseUFjdGl2ZVNpdGUgPSAoc2x1Zywgb3B0aW9ucyA9IHt9KSA9PiB7XG4gICAgaWYgKCFzbHVnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG5vcm1hbGl6ZWRTbHVnID0gZW5zdXJlTGVhZGluZ1NsYXNoKHNsdWcpO1xuICAgIGxldCBhY3RpdmVTaXRlTmFtZSA9XG4gICAgICBvcHRpb25zLnNpdGVOYW1lIHx8IHN0b3JlZFNpdGUubmFtZSB8fCBzaXRlTmFtZUxhYmVsPy5kYXRhc2V0LmRlZmF1bHRTaXRlTmFtZSB8fCAnJztcbiAgICBzaXRlQ2FyZHMuZm9yRWFjaCgoY2FyZCkgPT4ge1xuICAgICAgY29uc3QgY2FyZFNsdWcgPSBlbnN1cmVMZWFkaW5nU2xhc2goY2FyZC5kYXRhc2V0LnNpdGVDYXJkIHx8ICcnKTtcbiAgICAgIGNvbnN0IGlzQWN0aXZlID0gY2FyZFNsdWcgPT09IG5vcm1hbGl6ZWRTbHVnO1xuICAgICAgY29uc3QgYmFkZ2UgPSBjYXJkLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtYWN0aXZlLWJhZGdlXScpO1xuICAgICAgaWYgKGlzQWN0aXZlKSB7XG4gICAgICAgIGNhcmQuY2xhc3NMaXN0LmFkZCgnYm9yZGVyLVsjOUM2QkZGXScsICdyaW5nLTInLCAncmluZy1bIzlDNkJGRl0nLCAnc2hhZG93LW1kJyk7XG4gICAgICAgIGNhcmQuY2xhc3NMaXN0LnJlbW92ZSgnYm9yZGVyLXNsYXRlLTIwMCcpO1xuICAgICAgICBiYWRnZT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIGFjdGl2ZVNpdGVOYW1lID0gY2FyZC5kYXRhc2V0LnNpdGVOYW1lIHx8IGFjdGl2ZVNpdGVOYW1lO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FyZC5jbGFzc0xpc3QucmVtb3ZlKCdib3JkZXItWyM5QzZCRkZdJywgJ3JpbmctMicsICdyaW5nLVsjOUM2QkZGXScsICdzaGFkb3ctbWQnKTtcbiAgICAgICAgY2FyZC5jbGFzc0xpc3QuYWRkKCdib3JkZXItc2xhdGUtMjAwJyk7XG4gICAgICAgIGJhZGdlPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAob3B0aW9ucy5wZXJzaXN0ICE9PSBmYWxzZSkge1xuICAgICAgcGVyc2lzdFNpdGVTdGF0ZShub3JtYWxpemVkU2x1Zywgb3B0aW9ucy5zaXRlTmFtZSB8fCBhY3RpdmVTaXRlTmFtZSk7XG4gICAgfVxuICAgIGNvbnN0IGZpbmFsTmFtZSA9IG9wdGlvbnMuc2l0ZU5hbWUgfHwgYWN0aXZlU2l0ZU5hbWU7XG4gICAgdXBkYXRlU2l0ZUxhYmVscyhmaW5hbE5hbWUpO1xuICAgIHVwZGF0ZVdvcmtzcGFjZU5hdkxpbmtzKG5vcm1hbGl6ZWRTbHVnKTtcbiAgfTtcblxuICBjb25zdCBzZWxlY3RTaXRlID0gYXN5bmMgKHNsdWcsIG5hbWUpID0+IHtcbiAgICBjb25zdCBub3JtYWxpemVkU2x1ZyA9IGVuc3VyZUxlYWRpbmdTbGFzaChzbHVnKTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9zaXRlcy9zZWxlY3QnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBzbHVnOiBub3JtYWxpemVkU2x1ZyB9KSxcbiAgICAgIH0pO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICBzaG93VG9hc3QocGF5bG9hZC5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIHNcdTAwRTlsZWN0aW9ubmVyIGNlIHNpdGUuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICBjb25zdCBmaW5hbFNsdWcgPSBlbnN1cmVMZWFkaW5nU2xhc2gocGF5bG9hZC5zbHVnIHx8IG5vcm1hbGl6ZWRTbHVnKTtcbiAgICAgIGNvbnN0IGZpbmFsTmFtZSA9IHBheWxvYWQubmFtZSB8fCBuYW1lO1xuICAgICAgcGVyc2lzdFNpdGVTdGF0ZShmaW5hbFNsdWcsIGZpbmFsTmFtZSk7XG4gICAgICBhcHBseUFjdGl2ZVNpdGUoZmluYWxTbHVnLCB7IHNpdGVOYW1lOiBmaW5hbE5hbWUsIHBlcnNpc3Q6IGZhbHNlIH0pO1xuICAgICAgY29uc3Qgc2x1Z1BhdGggPSBlbmNvZGVVUklDb21wb25lbnQoc3RyaXBMZWFkaW5nU2xhc2goZmluYWxTbHVnKSk7XG4gICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGAvYWRtaW4vc2l0ZS8ke3NsdWdQYXRofS9kZXNpZ25gO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignW2FkbWluXSBJbXBvc3NpYmxlIGRlIHNcdTAwRTlsZWN0aW9ubmVyIGxlIHNpdGUnLCBlcnIpO1xuICAgICAgc2hvd1RvYXN0KCdFcnJldXIgaW5hdHRlbmR1ZSBsb3JzIGRlIGxhIHNcdTAwRTlsZWN0aW9uLicpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBzeW5jQWN0aXZlU2l0ZUZyb21TZXJ2ZXIgPSBhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvc2l0ZXMvY3VycmVudCcsIHsgY3JlZGVudGlhbHM6ICdzYW1lLW9yaWdpbicgfSk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwNCAmJiB3b3Jrc3BhY2VDb250ZXh0KSB7XG4gICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnL2FkbWluL3NpdGVzJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBzaXRlID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgY29uc3Qgbm9ybWFsaXplZFNsdWcgPSBlbnN1cmVMZWFkaW5nU2xhc2goc2l0ZS5zbHVnKTtcbiAgICAgIHBlcnNpc3RTaXRlU3RhdGUobm9ybWFsaXplZFNsdWcsIHNpdGUubmFtZSk7XG4gICAgICBhcHBseUFjdGl2ZVNpdGUobm9ybWFsaXplZFNsdWcsIHsgc2l0ZU5hbWU6IHNpdGUubmFtZSwgcGVyc2lzdDogZmFsc2UgfSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ1thZG1pbl0gSW1wb3NzaWJsZSBkZSByXHUwMEU5Y3VwXHUwMEU5cmVyIGxlIHNpdGUgYWN0aWYnLCBlcnIpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoaWdobGlnaHRGcm9tU3RvcmFnZU9yRGVmYXVsdCA9ICgpID0+IHtcbiAgICBpZiAoc3RvcmVkU2l0ZS5zbHVnKSB7XG4gICAgICBhcHBseUFjdGl2ZVNpdGUoc3RvcmVkU2l0ZS5zbHVnLCB7IHNpdGVOYW1lOiBzdG9yZWRTaXRlLm5hbWUsIHBlcnNpc3Q6IGZhbHNlIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBkZWZhdWx0Q2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtY2FyZF1bZGF0YS1zaXRlLWRlZmF1bHQ9XCJ0cnVlXCJdJykgfHwgc2l0ZUNhcmRzWzBdO1xuICAgIGlmIChkZWZhdWx0Q2FyZCkge1xuICAgICAgYXBwbHlBY3RpdmVTaXRlKGRlZmF1bHRDYXJkLmRhdGFzZXQuc2l0ZUNhcmQsIHtcbiAgICAgICAgc2l0ZU5hbWU6IGRlZmF1bHRDYXJkLmRhdGFzZXQuc2l0ZU5hbWUgfHwgJycsXG4gICAgICAgIHBlcnNpc3Q6IGZhbHNlLFxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIGhpZ2hsaWdodEZyb21TdG9yYWdlT3JEZWZhdWx0KCk7XG4gIHN5bmNBY3RpdmVTaXRlRnJvbVNlcnZlcigpO1xuICBpZiAod29ya3NwYWNlQ29udGV4dCkge1xuICAgIHVwZGF0ZVdvcmtzcGFjZU5hdkxpbmtzKHdvcmtzcGFjZUNvbnRleHQuc2x1Z1ZhbHVlKTtcbiAgfSBlbHNlIGlmIChzdG9yZWRTaXRlLnNsdWcpIHtcbiAgICB1cGRhdGVXb3Jrc3BhY2VOYXZMaW5rcyhzdG9yZWRTaXRlLnNsdWcpO1xuICB9XG5cbiAgc2l0ZVNlbGVjdEJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgaWYgKGJ1dHRvbi5kaXNhYmxlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBzbHVnID0gYnV0dG9uLmRhdGFzZXQuc2l0ZVNlbGVjdDtcbiAgICAgIGNvbnN0IG5hbWUgPSBidXR0b24uZGF0YXNldC5zaXRlU2VsZWN0TmFtZSB8fCAnQ2Ugc2l0ZSc7XG4gICAgICBpZiAoIXNsdWcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIHNlbGVjdFNpdGUoc2x1ZywgbmFtZSkuZmluYWxseSgoKSA9PiB7XG4gICAgICAgIGJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGNvbnN0IHdvcmtzcGFjZVNsdWdpZnkgPSAodmFsdWUpID0+XG4gICAgKHZhbHVlIHx8ICcnKVxuICAgICAgLm5vcm1hbGl6ZSgnTkZEJylcbiAgICAgIC5yZXBsYWNlKC9bXFx1MDMwMC1cXHUwMzZmXS9nLCAnJylcbiAgICAgIC50b0xvd2VyQ2FzZSgpXG4gICAgICAucmVwbGFjZSgvW15hLXowLTldKy9nLCAnLScpXG4gICAgICAucmVwbGFjZSgvXi0rfC0rJC9nLCAnJyk7XG5cbiAgY29uc3Qgbm9ybWFsaXplU2x1Z1ZhbHVlID0gKHZhbHVlKSA9PiB7XG4gICAgY29uc3QgYmFzZSA9IHdvcmtzcGFjZVNsdWdpZnkodmFsdWUgfHwgJycpO1xuICAgIGlmICghYmFzZSkge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICByZXR1cm4gYC8ke2Jhc2V9YDtcbiAgfTtcblxuICBjb25zdCBvcGVuU2l0ZU1vZGFsID0gKCkgPT4ge1xuICAgIGlmICghc2l0ZU1vZGFsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHNpdGVNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICBzaXRlTW9kYWwuY2xhc3NMaXN0LmFkZCgnZmxleCcpO1xuICAgIHNsdWdNYW51YWxseUVkaXRlZCA9IGZhbHNlO1xuICAgIHNpdGVGb3JtPy5yZXNldCgpO1xuICAgIHNpdGVTbHVnRXJyb3IgJiYgKHNpdGVTbHVnRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgc2l0ZU1vZGFsRXJyb3IgJiYgKHNpdGVNb2RhbEVycm9yLnRleHRDb250ZW50ID0gJycpO1xuICAgIGlmIChzaXRlU2x1Z0lucHV0ICYmIHNpdGVOYW1lSW5wdXQpIHtcbiAgICAgIHNpdGVTbHVnSW5wdXQudmFsdWUgPSB3b3Jrc3BhY2VTbHVnaWZ5KHNpdGVOYW1lSW5wdXQudmFsdWUpO1xuICAgIH1cbiAgICBhY3RpdmF0ZU1vZGFsKHNpdGVNb2RhbCwgY2xvc2VTaXRlTW9kYWwpO1xuICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHNpdGVOYW1lSW5wdXQ/LmZvY3VzKCk7XG4gICAgfSwgMCk7XG4gIH07XG5cbiAgY29uc3QgY2xvc2VTaXRlTW9kYWwgPSAoKSA9PiB7XG4gICAgaWYgKCFzaXRlTW9kYWwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2l0ZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgIHNpdGVNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdmbGV4Jyk7XG4gICAgc2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gICAgc2l0ZUZvcm0/LnJlc2V0KCk7XG4gICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICBzaXRlTW9kYWxFcnJvciAmJiAoc2l0ZU1vZGFsRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgZGVhY3RpdmF0ZU1vZGFsKHNpdGVNb2RhbCk7XG4gIH07XG5cbiAgc2l0ZUNyZWF0ZUJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlblNpdGVNb2RhbCk7XG4gIH0pO1xuXG4gIHNpdGVNb2RhbENhbmNlbEJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VTaXRlTW9kYWwpO1xuICB9KTtcblxuICBzaXRlTW9kYWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gc2l0ZU1vZGFsKSB7XG4gICAgICBjbG9zZVNpdGVNb2RhbCgpO1xuICAgIH1cbiAgfSk7XG5cbiAgc2l0ZU5hbWVJbnB1dD8uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgaWYgKCFzaXRlU2x1Z0lucHV0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghc2x1Z01hbnVhbGx5RWRpdGVkIHx8IHNpdGVTbHVnSW5wdXQudmFsdWUudHJpbSgpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgc2l0ZVNsdWdJbnB1dC52YWx1ZSA9IHdvcmtzcGFjZVNsdWdpZnkoc2l0ZU5hbWVJbnB1dC52YWx1ZSk7XG4gICAgfVxuICAgIC8vIENsZWFyIGVycm9ycyB3aGVuIHVzZXIgdHlwZXNcbiAgICBzaXRlU2x1Z0Vycm9yICYmIChzaXRlU2x1Z0Vycm9yLnRleHRDb250ZW50ID0gJycpO1xuICAgIHNpdGVNb2RhbEVycm9yICYmIChzaXRlTW9kYWxFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgfSk7XG5cbiAgc2l0ZVNsdWdJbnB1dD8uYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCAoKSA9PiB7XG4gICAgLy8gQXV0by1maWxsIHNsdWcgZnJvbSBuYW1lIGlmIGVtcHR5IHdoZW4gdXNlciBmb2N1c2VzIHRoZSBzbHVnIGZpZWxkXG4gICAgY29uc3Qgc2x1Z1ZhbCA9IHNpdGVTbHVnSW5wdXQ/LnZhbHVlIHx8ICcnO1xuICAgIGNvbnN0IG5hbWVWYWwgPSBzaXRlTmFtZUlucHV0Py52YWx1ZSB8fCAnJztcbiAgICBpZiAoIXNsdWdWYWwudHJpbSgpICYmIG5hbWVWYWwudHJpbSgpKSB7XG4gICAgICBzaXRlU2x1Z0lucHV0LnZhbHVlID0gd29ya3NwYWNlU2x1Z2lmeShuYW1lVmFsKTtcbiAgICB9XG4gIH0pO1xuXG4gIHNpdGVTbHVnSW5wdXQ/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgIHNsdWdNYW51YWxseUVkaXRlZCA9IHRydWU7XG4gICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICBzaXRlTW9kYWxFcnJvciAmJiAoc2l0ZU1vZGFsRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gIH0pO1xuXG4gIGNvbnN0IGdldFNsdWdTZXQgPSAoKSA9PlxuICAgIG5ldyBTZXQoQXJyYXkuZnJvbShzaXRlQ2FyZHMpLm1hcCgoY2FyZCkgPT4gZW5zdXJlTGVhZGluZ1NsYXNoKGNhcmQuZGF0YXNldC5zaXRlQ2FyZCB8fCAnJykpKTtcblxuICBzaXRlRm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zb2xlLmxvZygnW2FkbWluXSBGb3JtIHN1Ym1pdCAtIHNpdGVOYW1lSW5wdXQ6Jywgc2l0ZU5hbWVJbnB1dCwgJ3NpdGVTbHVnSW5wdXQ6Jywgc2l0ZVNsdWdJbnB1dCk7XG4gICAgXG4gICAgaWYgKCFzaXRlTmFtZUlucHV0IHx8ICFzaXRlU2x1Z0lucHV0KSB7XG4gICAgICBjb25zb2xlLmxvZygnW2FkbWluXSBNaXNzaW5nIGlucHV0cywgYWJvcnRpbmcnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgbmFtZVZhbHVlID0gKHNpdGVOYW1lSW5wdXQudmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICBsZXQgc2x1Z1ZhbHVlID0gKHNpdGVTbHVnSW5wdXQudmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICBcbiAgICBjb25zb2xlLmxvZygnW2FkbWluXSBuYW1lVmFsdWU6JywgbmFtZVZhbHVlLCAnc2x1Z1ZhbHVlOicsIHNsdWdWYWx1ZSk7XG4gICAgXG4gICAgLy8gQXV0by1nZW5lcmF0ZSBzbHVnIGZyb20gbmFtZSBpZiBlbXB0eVxuICAgIGlmICghc2x1Z1ZhbHVlICYmIG5hbWVWYWx1ZSkge1xuICAgICAgc2x1Z1ZhbHVlID0gd29ya3NwYWNlU2x1Z2lmeShuYW1lVmFsdWUpO1xuICAgICAgc2l0ZVNsdWdJbnB1dC52YWx1ZSA9IHNsdWdWYWx1ZTtcbiAgICAgIGNvbnNvbGUubG9nKCdbYWRtaW5dIEF1dG8tZ2VuZXJhdGVkIHNsdWc6Jywgc2x1Z1ZhbHVlKTtcbiAgICB9XG4gICAgXG4gICAgY29uc3Qgbm9ybWFsaXplZFNsdWcgPSBub3JtYWxpemVTbHVnVmFsdWUoc2x1Z1ZhbHVlKTtcbiAgICBjb25zb2xlLmxvZygnW2FkbWluXSBub3JtYWxpemVkU2x1ZzonLCBub3JtYWxpemVkU2x1Zyk7XG4gICAgXG4gICAgLy8gVmFsaWRhdGUgbmFtZVxuICAgIGlmICghbmFtZVZhbHVlKSB7XG4gICAgICBjb25zb2xlLmxvZygnW2FkbWluXSBOYW1lIHZhbGlkYXRpb24gZmFpbGVkJyk7XG4gICAgICBzaXRlTW9kYWxFcnJvciAmJiAoc2l0ZU1vZGFsRXJyb3IudGV4dENvbnRlbnQgPSAnTGUgbm9tIGR1IHNpdGUgZXN0IHJlcXVpcy4nKTtcbiAgICAgIHNpdGVOYW1lSW5wdXQuZm9jdXMoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgLy8gVmFsaWRhdGUgc2x1Z1xuICAgIGlmICghbm9ybWFsaXplZFNsdWcpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdbYWRtaW5dIFNsdWcgdmFsaWRhdGlvbiBmYWlsZWQnKTtcbiAgICAgIHNpdGVTbHVnRXJyb3IgJiYgKHNpdGVTbHVnRXJyb3IudGV4dENvbnRlbnQgPSAnTGUgc2x1ZyBuZSBwZXV0IHBhcyBcdTAwRUF0cmUgdmlkZSBvdSBjb250ZW5pciB1bmlxdWVtZW50IGRlcyBjYXJhY3RcdTAwRThyZXMgc3BcdTAwRTljaWF1eC4nKTtcbiAgICAgIHNpdGVTbHVnSW5wdXQuZm9jdXMoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgZXhpc3RpbmdTbHVncyA9IGdldFNsdWdTZXQoKTtcbiAgICBpZiAoZXhpc3RpbmdTbHVncy5oYXMobm9ybWFsaXplZFNsdWcpKSB7XG4gICAgICBzaXRlU2x1Z0Vycm9yICYmIChzaXRlU2x1Z0Vycm9yLnRleHRDb250ZW50ID0gJ0NlIHNsdWcgZXN0IGRcdTAwRTlqXHUwMEUwIHV0aWxpc1x1MDBFOS4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICBzaXRlTW9kYWxFcnJvciAmJiAoc2l0ZU1vZGFsRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgaWYgKHNpdGVNb2RhbFN1Ym1pdEJ1dHRvbikge1xuICAgICAgc2l0ZU1vZGFsU3VibWl0QnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIHNpdGVNb2RhbFN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9ICdDclx1MDBFOWF0aW9uLi4uJztcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvc2l0ZXMnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBuYW1lOiBuYW1lVmFsdWUsIHNsdWc6IG5vcm1hbGl6ZWRTbHVnIH0pLFxuICAgICAgfSk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBwYXlsb2FkLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgY3JcdTAwRTllciBjZSBzaXRlLic7XG4gICAgICAgIHNpdGVNb2RhbEVycm9yICYmIChzaXRlTW9kYWxFcnJvci50ZXh0Q29udGVudCA9IG1lc3NhZ2UpO1xuICAgICAgICBpZiAocGF5bG9hZC5maWVsZCA9PT0gJ3NsdWcnKSB7XG4gICAgICAgICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9IG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNyZWF0ZWRTaXRlID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgY29uc3QgZmluYWxTbHVnID0gZW5zdXJlTGVhZGluZ1NsYXNoKGNyZWF0ZWRTaXRlPy5zbHVnIHx8IG5vcm1hbGl6ZWRTbHVnKTtcbiAgICAgIGNvbnN0IGZpbmFsTmFtZSA9IGNyZWF0ZWRTaXRlPy5uYW1lIHx8IG5hbWVWYWx1ZTtcbiAgICAgIHBlcnNpc3RTaXRlU3RhdGUoZmluYWxTbHVnLCBmaW5hbE5hbWUpO1xuICAgICAgY2xvc2VTaXRlTW9kYWwoKTtcbiAgICAgIGNvbnN0IHNsdWdQYXRoID0gZW5jb2RlVVJJQ29tcG9uZW50KHN0cmlwTGVhZGluZ1NsYXNoKGZpbmFsU2x1ZykpO1xuICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBgL2FkbWluL3NpdGUvJHtzbHVnUGF0aH0vZGVzaWduYDtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1thZG1pbl0gSW1wb3NzaWJsZSBkZSBjclx1MDBFOWVyIGxlIHNpdGUnLCBlcnIpO1xuICAgICAgc2l0ZU1vZGFsRXJyb3IgJiYgKHNpdGVNb2RhbEVycm9yLnRleHRDb250ZW50ID0gJ0VycmV1ciBpbmF0dGVuZHVlLiBSXHUwMEU5ZXNzYWllIGRhbnMgdW4gaW5zdGFudC4nKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKHNpdGVNb2RhbFN1Ym1pdEJ1dHRvbikge1xuICAgICAgICBzaXRlTW9kYWxTdWJtaXRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgc2l0ZU1vZGFsU3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gJ0NyXHUwMEU5ZXInO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZlbnQpID0+IHtcbiAgICBpZiAoZXZlbnQua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgaWYgKHNpdGVNb2RhbCAmJiAhc2l0ZU1vZGFsLmNsYXNzTGlzdC5jb250YWlucygnaGlkZGVuJykpIHtcbiAgICAgICAgY2xvc2VTaXRlTW9kYWwoKTtcbiAgICAgIH1cbiAgICAgIGlmICh3b3Jrc3BhY2VCYWNrTW9kYWwgJiYgIXdvcmtzcGFjZUJhY2tNb2RhbC5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpKSB7XG4gICAgICAgIGNsb3NlV29ya3NwYWNlQmFja01vZGFsKCk7XG4gICAgICB9XG4gICAgICBpZiAoYmxvY2tEZWxldGVNb2RhbCAmJiAhYmxvY2tEZWxldGVNb2RhbC5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpKSB7XG4gICAgICAgIGNsb3NlQmxvY2tEZWxldGVNb2RhbCgpO1xuICAgICAgfVxuICAgICAgaWYgKGJsb2NrTGlicmFyeU9wZW4pIHtcbiAgICAgICAgY2xvc2VCbG9ja0xpYnJhcnkoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIGdldFdvcmtzcGFjZUNvbnRleHQoKSB7XG4gICAgY29uc3QgbWF0Y2ggPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUubWF0Y2goL15cXC9hZG1pblxcL3NpdGVcXC8oW14vXSspKD86XFwvKFteL10rKSk/Lyk7XG4gICAgaWYgKCFtYXRjaCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBzbHVnUGFydDogZGVjb2RlVVJJQ29tcG9uZW50KG1hdGNoWzFdKSxcbiAgICAgIHNsdWdWYWx1ZTogZW5zdXJlTGVhZGluZ1NsYXNoKGRlY29kZVVSSUNvbXBvbmVudChtYXRjaFsxXSkpLFxuICAgICAgc2VjdGlvbjogbWF0Y2hbMl0gfHwgJ2Rlc2lnbicsXG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRldGVjdFdvcmtzcGFjZVNlY3Rpb24oKSB7XG4gICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXBhZ2UtbGlzdF0nKSkge1xuICAgICAgcmV0dXJuICdkZXNpZ24nO1xuICAgIH1cbiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29sbGVjdGlvbi1saXN0XScpKSB7XG4gICAgICByZXR1cm4gJ2NvbnRlbnQnO1xuICAgIH1cbiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZ3JpZF0nKSkge1xuICAgICAgcmV0dXJuICdtZWRpYSc7XG4gICAgfVxuICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktZm9ybV0nKSkge1xuICAgICAgcmV0dXJuICdkZXBsb3knO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9wZW5Xb3Jrc3BhY2VCYWNrTW9kYWwoKSB7XG4gICAgaWYgKCF3b3Jrc3BhY2VCYWNrTW9kYWwpIHtcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9hZG1pbi9zaXRlcyc7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHdvcmtzcGFjZUJhY2tNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICB3b3Jrc3BhY2VCYWNrTW9kYWwuY2xhc3NMaXN0LmFkZCgnZmxleCcpO1xuICAgIGFjdGl2YXRlTW9kYWwod29ya3NwYWNlQmFja01vZGFsLCBjbG9zZVdvcmtzcGFjZUJhY2tNb2RhbCk7XG4gIH1cblxuICBmdW5jdGlvbiBjbG9zZVdvcmtzcGFjZUJhY2tNb2RhbCgpIHtcbiAgICBpZiAoIXdvcmtzcGFjZUJhY2tNb2RhbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB3b3Jrc3BhY2VCYWNrTW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgd29ya3NwYWNlQmFja01vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2ZsZXgnKTtcbiAgICBkZWFjdGl2YXRlTW9kYWwod29ya3NwYWNlQmFja01vZGFsKTtcbiAgfVxuXG4gIHdvcmtzcGFjZUJhY2tCdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5Xb3Jrc3BhY2VCYWNrTW9kYWwpO1xuICB9KTtcbiAgd29ya3NwYWNlQmFja0NhbmNlbC5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZVdvcmtzcGFjZUJhY2tNb2RhbCk7XG4gIH0pO1xuICB3b3Jrc3BhY2VCYWNrQ29uZmlybT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgY2xvc2VXb3Jrc3BhY2VCYWNrTW9kYWwoKTtcbiAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvYWRtaW4vc2l0ZXMnO1xuICB9KTtcblxuICBjb25zdCBUUkFOU1BBUkVOVF9QQVRURVJOID1cbiAgICAncmVwZWF0aW5nLWNvbmljLWdyYWRpZW50KCNjY2MgMCUgMjUlLCB3aGl0ZSAwJSA1MCUpIDUwJSAvIDhweCA4cHgnO1xuICBjb25zdCBwYXJzZUNzc0NvbG9yVG9SZ2IgPSAodmFsdWUpID0+IHtcbiAgICBpZiAoIXZhbHVlIHx8IHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpIHJldHVybiBudWxsO1xuICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSB2YWx1ZS50cmltKCkudG9Mb3dlckNhc2UoKTtcbiAgICBpZiAobm9ybWFsaXplZCA9PT0gJ3RyYW5zcGFyZW50JykgcmV0dXJuIG51bGw7XG4gICAgY29uc3QgcmdiTWF0Y2ggPSBub3JtYWxpemVkLm1hdGNoKFxuICAgICAgL15yZ2JcXFxcKFxcXFxzKihcXFxcZHsxLDN9KVxcXFxzKixcXFxccyooXFxcXGR7MSwzfSlcXFxccyosXFxcXHMqKFxcXFxkezEsM30pXFxcXHMqXFxcXCkkLyxcbiAgICApO1xuICAgIGlmIChyZ2JNYXRjaCkge1xuICAgICAgcmV0dXJuIFtcbiAgICAgICAgTWF0aC5taW4oMjU1LCBNYXRoLm1heCgwLCBOdW1iZXIocmdiTWF0Y2hbMV0pKSksXG4gICAgICAgIE1hdGgubWluKDI1NSwgTWF0aC5tYXgoMCwgTnVtYmVyKHJnYk1hdGNoWzJdKSkpLFxuICAgICAgICBNYXRoLm1pbigyNTUsIE1hdGgubWF4KDAsIE51bWJlcihyZ2JNYXRjaFszXSkpKSxcbiAgICAgIF07XG4gICAgfVxuICAgIGNvbnN0IGhleE1hdGNoID0gbm9ybWFsaXplZC5tYXRjaCgvXiMoW2EtZjAtOV17M318W2EtZjAtOV17Nn0pJC8pO1xuICAgIGlmIChoZXhNYXRjaCkge1xuICAgICAgY29uc3QgaGV4ID0gaGV4TWF0Y2hbMV07XG4gICAgICBjb25zdCBub3JtYWxpemVkSGV4ID1cbiAgICAgICAgaGV4Lmxlbmd0aCA9PT0gMyA/IGhleC5zcGxpdCgnJykubWFwKChjKSA9PiBgJHtjfSR7Y31gKS5qb2luKCcnKSA6IGhleDtcbiAgICAgIGNvbnN0IHIgPSBwYXJzZUludChub3JtYWxpemVkSGV4LnNsaWNlKDAsIDIpLCAxNik7XG4gICAgICBjb25zdCBnID0gcGFyc2VJbnQobm9ybWFsaXplZEhleC5zbGljZSgyLCA0KSwgMTYpO1xuICAgICAgY29uc3QgYiA9IHBhcnNlSW50KG5vcm1hbGl6ZWRIZXguc2xpY2UoNCwgNiksIDE2KTtcbiAgICAgIHJldHVybiBbciwgZywgYl07XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9O1xuICBjb25zdCBnZXRSZWFkYWJsZVRleHRDb2xvciA9IChiYWNrZ3JvdW5kQ29sb3IpID0+IHtcbiAgICBjb25zdCByZ2IgPSBwYXJzZUNzc0NvbG9yVG9SZ2IoYmFja2dyb3VuZENvbG9yKTtcbiAgICBpZiAoIXJnYikgcmV0dXJuICcjMGYxNzJhJztcbiAgICBjb25zdCBbciwgZywgYl0gPSByZ2I7XG4gICAgY29uc3QgbHVtaW5hbmNlID0gKDAuMjEyNiAqIHIgKyAwLjcxNTIgKiBnICsgMC4wNzIyICogYikgLyAyNTU7XG4gICAgcmV0dXJuIGx1bWluYW5jZSA+IDAuNjIgPyAnIzBmMTcyYScgOiAnI2ZmZmZmZic7XG4gIH07XG4gIGNvbnN0IHN0eWxlU2VsZWN0T3B0aW9ucyA9IChzZWxlY3QpID0+IHtcbiAgICBpZiAoIXNlbGVjdCkgcmV0dXJuO1xuICAgIEFycmF5LmZyb20oc2VsZWN0Lm9wdGlvbnMpLmZvckVhY2goKG9wdGlvbikgPT4ge1xuICAgICAgY29uc3Qgb3B0aW9uQ29sb3IgPSBvcHRpb24uZGF0YXNldD8uY29sb3I7XG4gICAgICBpZiAoIW9wdGlvbkNvbG9yKSByZXR1cm47XG4gICAgICBpZiAob3B0aW9uQ29sb3IgPT09ICd0cmFuc3BhcmVudCcpIHtcbiAgICAgICAgb3B0aW9uLnN0eWxlLmJhY2tncm91bmQgPSBUUkFOU1BBUkVOVF9QQVRURVJOO1xuICAgICAgICBvcHRpb24uc3R5bGUuY29sb3IgPSAnIzQ3NTU2OSc7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIG9wdGlvbi5zdHlsZS5iYWNrZ3JvdW5kID0gb3B0aW9uQ29sb3I7XG4gICAgICBvcHRpb24uc3R5bGUuY29sb3IgPSBnZXRSZWFkYWJsZVRleHRDb2xvcihvcHRpb25Db2xvcik7XG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3QgYWN0aXZlU2VjdGlvbiA9IHdvcmtzcGFjZUNvbnRleHQ/LnNlY3Rpb24gfHwgZGV0ZWN0V29ya3NwYWNlU2VjdGlvbigpO1xuXG4gIGlmIChhY3RpdmVTZWN0aW9uID09PSAnZGVzaWduJykge1xuICAgIGluaXREZXNpZ25Xb3Jrc3BhY2UoKTtcbiAgfVxuICBpZiAoYWN0aXZlU2VjdGlvbiA9PT0gJ2NvbnRlbnQnKSB7XG4gICAgaW5pdENvbnRlbnRXb3Jrc3BhY2UoKTtcbiAgfVxuICBpZiAoYWN0aXZlU2VjdGlvbiA9PT0gJ21lZGlhJykge1xuICAgIGluaXRNZWRpYVdvcmtzcGFjZSgpO1xuICB9XG4gIGlmIChhY3RpdmVTZWN0aW9uID09PSAnZGVwbG95Jykge1xuICAgIGluaXREZXBsb3lXb3Jrc3BhY2UoKTtcbiAgfVxuICBpZiAoYWN0aXZlU2VjdGlvbiA9PT0gJ3NldHRpbmdzJykge1xuICAgIGluaXRTZXR0aW5nc1dvcmtzcGFjZSgpO1xuICB9XG5cbiAgaWYgKHdvcmtzcGFjZUNvbnRleHQgJiYgc3RvcmVkU2l0ZS5uYW1lKSB7XG4gICAgdXBkYXRlU2l0ZUxhYmVscyhzdG9yZWRTaXRlLm5hbWUpO1xuICB9XG5cbiAgZnVuY3Rpb24gaW5pdERlc2lnbldvcmtzcGFjZSgpIHtcbiAgICBjb25zdCBwYWdlTGlzdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1wYWdlLWxpc3RdJyk7XG4gICAgaWYgKHBhZ2VMaXN0cy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgYWN0aXZlVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hY3RpdmUtcGFnZS10aXRsZV0nKTtcbiAgICBjb25zdCBhY3RpdmVTbHVnID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWN0aXZlLXBhZ2Utc2x1Z10nKTtcbiAgICBjb25zdCBwcmV2aWV3VGFncyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXBhZ2UtcHJldmlldy10YWdzXScpO1xuICAgIGNvbnN0IHByZXZpZXdGcmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXBhZ2UtcHJldmlldy1mcmFtZV0nKTtcbiAgICBjb25zdCBwcmV2aWV3RnJhbWVXcmFwcGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcmV2aWV3LWZyYW1lLXdyYXBwZXJdJyk7XG4gICAgY29uc3QgcHJldmlld1NoZWxsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcmV2aWV3LXNoZWxsXScpO1xuICAgIGNvbnN0IHByZXZpZXdWaWV3QnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXByZXZpZXctdmlldy1idXR0b25dJyk7XG4gICAgY29uc3QgcHJldmlld0N1cnJlbnRWaWV3TGFiZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLXByZXZpZXctY3VycmVudC12aWV3XScpO1xuICAgIGNvbnN0IHByZXZpZXdPcGVuQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcHJldmlldy1vcGVuXScpO1xuICAgIGNvbnN0IHByZXZpZXdTdGF0dXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wcmV2aWV3LXN0YXR1c10nKTtcbiAgICBjb25zdCBwcmV2aWV3SGlnaGxpZ2h0T3ZlcmxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXByZXZpZXctaGlnaGxpZ2h0XScpO1xuICAgIC8vIFNFTyBwYW5lbCBlbGVtZW50c1xuICAgIGNvbnN0IHNlb1RvZ2dsZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby10b2dnbGVdJyk7XG4gICAgY29uc3Qgc2VvUGFuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8tcGFuZWxdJyk7XG4gICAgY29uc3Qgc2VvQ2xvc2VCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8tY2xvc2VdJyk7XG4gICAgY29uc3Qgc2VvRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby1mb3JtXScpO1xuICAgIGNvbnN0IHNlb1RpdGxlSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8tdGl0bGVdJyk7XG4gICAgY29uc3Qgc2VvRGVzY3JpcHRpb25JbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby1kZXNjcmlwdGlvbl0nKTtcbiAgICBjb25zdCBzZW9JbmRleGVkQ2hlY2tib3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8taW5kZXhlZF0nKTtcbiAgICBjb25zdCBzZW9GZWVkYmFjayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby1mZWVkYmFja10nKTtcbiAgICBjb25zdCBzZW9TYXZlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2VvLXNhdmVdJyk7XG4gICAgY29uc3QgcGFnZUFjY2Vzc2liaWxpdHlUb2dnbGVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgJ1tkYXRhLXBhZ2UtYWNjZXNzaWJpbGl0eS10b2dnbGVdJyxcbiAgICApO1xuICAgIGNvbnN0IHBhZ2VBY2Nlc3NpYmlsaXR5UGFuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLWFjY2Vzc2liaWxpdHktcGFuZWxdJyk7XG4gICAgY29uc3QgcGFnZUFjY2Vzc2liaWxpdHlDbG9zZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAnW2RhdGEtcGFnZS1hY2Nlc3NpYmlsaXR5LWNsb3NlXScsXG4gICAgKTtcbiAgICBjb25zdCBwYWdlQWNjZXNzaWJpbGl0eUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLWFjY2Vzc2liaWxpdHktZm9ybV0nKTtcbiAgICBjb25zdCBwYWdlQWNjZXNzaWJpbGl0eU5hdkNoZWNrYm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgICdbZGF0YS1wYWdlLWFjY2Vzc2liaWxpdHktbmF2XScsXG4gICAgKTtcbiAgICBjb25zdCBwYWdlQWNjZXNzaWJpbGl0eU1haW5JbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAnW2RhdGEtcGFnZS1hY2Nlc3NpYmlsaXR5LW1haW5dJyxcbiAgICApO1xuICAgIGNvbnN0IHBhZ2VBY2Nlc3NpYmlsaXR5RmVlZGJhY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgJ1tkYXRhLXBhZ2UtYWNjZXNzaWJpbGl0eS1mZWVkYmFja10nLFxuICAgICk7XG4gICAgY29uc3QgcGFnZUFjY2Vzc2liaWxpdHlTYXZlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgICdbZGF0YS1wYWdlLWFjY2Vzc2liaWxpdHktc2F2ZV0nLFxuICAgICk7XG4gICAgLy8gUGFnZSBwcm9wZXJ0aWVzIHBhbmVsIGVsZW1lbnRzXG4gICAgY29uc3QgcGFnZVByb3BzVG9nZ2xlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcm9wcy10b2dnbGVdJyk7XG4gICAgY29uc3QgcGFnZVByb3BzUGFuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLXByb3BzLXBhbmVsXScpO1xuICAgIGNvbnN0IHBhZ2VQcm9wc0Nsb3NlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcm9wcy1jbG9zZV0nKTtcbiAgICBjb25zdCBwYWdlUHJvcHNGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcm9wcy1mb3JtXScpO1xuICAgIGNvbnN0IHBhZ2VOYW1lSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLW5hbWVdJyk7XG4gICAgY29uc3QgcGFnZVRpdGxlSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLXRpdGxlLWlucHV0XScpO1xuICAgIGNvbnN0IHBhZ2VTbHVnSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLXNsdWctaW5wdXRdJyk7XG4gICAgY29uc3QgcGFnZURlc2NyaXB0aW9uSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLWRlc2NyaXB0aW9uXScpO1xuICAgIGNvbnN0IHBhZ2VQcm9wc0ZlZWRiYWNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcm9wcy1mZWVkYmFja10nKTtcbiAgICBjb25zdCBwYWdlUHJvcHNTYXZlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcm9wcy1zYXZlXScpO1xuICAgIGNvbnN0IGJsb2NrTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2Nrcy1saXN0XScpO1xuICAgIGNvbnN0IGJsb2NrTGlzdEVtcHR5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2tzLWVtcHR5XScpO1xuICAgIGNvbnN0IGJsb2NrQ291bnRCYWRnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWNvdW50XScpO1xuICAgIGNvbnN0IGJsb2NrTGlicmFyeVRvZ2dsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWxpYnJhcnktdG9nZ2xlXScpO1xuICAgIGNvbnN0IGJsb2NrTGlicmFyeSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWxpYnJhcnldJyk7XG4gICAgY29uc3QgYmxvY2tBZGRCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYmxvY2stYWRkXScpO1xuICAgIGNvbnN0IGJsb2NrRGVsZXRlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1kZWxldGUtbW9kYWxdJyk7XG4gICAgY29uc3QgYmxvY2tEZWxldGVDb25maXJtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZGVsZXRlLWNvbmZpcm1dJyk7XG4gICAgY29uc3QgYmxvY2tEZWxldGVDYW5jZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1kZWxldGUtY2FuY2VsXScpO1xuICAgIGNvbnN0IGJsb2NrRGV0YWlsRW1wdHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1kZXRhaWwtZW1wdHldJyk7XG4gICAgY29uc3QgYmxvY2tEZXRhaWxTdGF0dXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1kZXRhaWwtc3RhdHVzXScpO1xuICAgIGNvbnN0IGJsb2NrRWRpdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZWRpdG9yXScpO1xuICAgIGNvbnN0IGJsb2NrRWRpdG9yVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1lZGl0b3ItYmxvY2stbmFtZV0nKTtcbiAgICBjb25zdCBibG9ja0VkaXRvclR5cGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1lZGl0b3ItYmxvY2stdHlwZV0nKTtcbiAgICBjb25zdCBibG9ja0VkaXRvclVuc3VwcG9ydGVkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZWRpdG9yLXVuc3VwcG9ydGVkXScpO1xuICAgIGNvbnN0IGJsb2NrRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWZvcm1dJyk7XG4gICAgY29uc3Qgc3R5bGVDb2xvckNoaXAgPSAoY2hpcCwgY29sb3IpID0+IHtcbiAgICAgIGlmICghY2hpcCkgcmV0dXJuO1xuICAgICAgaWYgKGNvbG9yID09PSAndHJhbnNwYXJlbnQnKSB7XG4gICAgICAgIGNoaXAuc3R5bGUuYmFja2dyb3VuZCA9IFRSQU5TUEFSRU5UX1BBVFRFUk47XG4gICAgICAgIGNoaXAuc3R5bGUuYm9yZGVyQ29sb3IgPSAnI2NiZDVmNSc7XG4gICAgICAgIGNoaXAuc3R5bGUuYm94U2hhZG93ID0gJyc7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNoaXAuc3R5bGUuYmFja2dyb3VuZCA9IGNvbG9yO1xuICAgICAgY2hpcC5zdHlsZS5ib3JkZXJDb2xvciA9IGNvbG9yO1xuICAgICAgY2hpcC5zdHlsZS5ib3hTaGFkb3cgPSAnMCAwIDAgMXB4IHJnYmEoMTUsMjMsNDIsMC4xNSknO1xuICAgIH07XG4gICAgY29uc3QgZW5zdXJlQ3VzdG9tVGhlbWVPcHRpb24gPSAoc2VsZWN0LCB2YWx1ZSkgPT4ge1xuICAgICAgaWYgKCFzZWxlY3QgfHwgIXZhbHVlKSByZXR1cm47XG4gICAgICBpZiAoQXJyYXkuZnJvbShzZWxlY3Qub3B0aW9ucykuc29tZSgob3B0KSA9PiBvcHQudmFsdWUgPT09IHZhbHVlKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgIG9wdGlvbi52YWx1ZSA9IHZhbHVlO1xuICAgICAgb3B0aW9uLnRleHRDb250ZW50ID0gJ0NvdWxldXIgcGVyc29ubmFsaXNcdTAwRTllJztcbiAgICAgIG9wdGlvbi5kYXRhc2V0LmNvbG9yID0gdmFsdWU7XG4gICAgICBpZiAodmFsdWUgPT09ICd0cmFuc3BhcmVudCcpIHtcbiAgICAgICAgb3B0aW9uLnN0eWxlLmJhY2tncm91bmQgPSBUUkFOU1BBUkVOVF9QQVRURVJOO1xuICAgICAgICBvcHRpb24uc3R5bGUuY29sb3IgPSAnIzQ3NTU2OSc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvcHRpb24uc3R5bGUuYmFja2dyb3VuZCA9IHZhbHVlO1xuICAgICAgICBvcHRpb24uc3R5bGUuY29sb3IgPSBnZXRSZWFkYWJsZVRleHRDb2xvcih2YWx1ZSk7XG4gICAgICB9XG4gICAgICBzZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uKTtcbiAgICAgIHN0eWxlU2VsZWN0T3B0aW9ucyhzZWxlY3QpO1xuICAgIH07XG4gICAgY29uc3QgdXBkYXRlQ29sb3JTZWxlY3RQcmV2aWV3ID0gKHNlbGVjdCkgPT4ge1xuICAgICAgaWYgKCFzZWxlY3QpIHJldHVybjtcbiAgICAgIGNvbnN0IHNlbGVjdGVkT3B0aW9uID0gc2VsZWN0Lm9wdGlvbnNbc2VsZWN0LnNlbGVjdGVkSW5kZXhdO1xuICAgICAgY29uc3QgY29sb3IgPSBzZWxlY3RlZE9wdGlvbj8uZGF0YXNldD8uY29sb3IgfHwgJyNmZmZmZmYnO1xuICAgICAgY29uc3QgY29sb3JQcmV2aWV3ID0gc2VsZWN0LmNsb3Nlc3QoJy5yZWxhdGl2ZScpPy5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xvci1wcmV2aWV3XScpO1xuICAgICAgaWYgKGNvbG9yUHJldmlldykge1xuICAgICAgICBpZiAoY29sb3IgPT09ICd0cmFuc3BhcmVudCcpIHtcbiAgICAgICAgICBjb2xvclByZXZpZXcuc3R5bGUuYmFja2dyb3VuZCA9IFRSQU5TUEFSRU5UX1BBVFRFUk47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29sb3JQcmV2aWV3LnN0eWxlLmJhY2tncm91bmQgPSBjb2xvcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3QgY29sb3JDaGlwID0gc2VsZWN0LmNsb3Nlc3QoJy5yZWxhdGl2ZScpPy5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1jb2xvci1jaGlwXScpO1xuICAgICAgc3R5bGVDb2xvckNoaXAoY29sb3JDaGlwLCBjb2xvcik7XG4gICAgfTtcblxuICAgIGNvbnN0IHRoZW1lQ29sb3JTZWxlY3RzID0gYmxvY2tGb3JtXG4gICAgICA/IEFycmF5LmZyb20oYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXRoZW1lLWNvbG9yLXNlbGVjdF0nKSlcbiAgICAgIDogW107XG4gICAgY29uc3QgaXNCYWNrZ3JvdW5kVGhlbWVTZWxlY3QgPSAoc2VsZWN0KSA9PiB7XG4gICAgICBjb25zdCBuYW1lID0gc2VsZWN0Py5nZXRBdHRyaWJ1dGU/LignbmFtZScpIHx8ICcnO1xuICAgICAgcmV0dXJuIG5hbWUuZW5kc1dpdGgoJy1iZycpO1xuICAgIH07XG4gICAgY29uc3QgdGhlbWVDb2xvclByZXNldHMgPSBbXG4gICAgICB7IGxhYmVsOiAnQ291bGV1ciBwcmltYWlyZScsIHZhbHVlOiAndGhlbWUtcHJpbWFyeScsIGNzc1ZhcjogJy0tY29sb3ItcHJpbWFyeScgfSxcbiAgICAgIHsgbGFiZWw6ICdDb3VsZXVyIHNlY29uZGFpcmUnLCB2YWx1ZTogJ3RoZW1lLXNlY29uZGFyeScsIGNzc1ZhcjogJy0tY29sb3Itc2Vjb25kYXJ5JyB9LFxuICAgICAgeyBsYWJlbDogJ0NvdWxldXIgYWNjZW50JywgdmFsdWU6ICd0aGVtZS1hY2NlbnQnLCBjc3NWYXI6ICctLWNvbG9yLWFjY2VudCcgfSxcbiAgICAgIHsgbGFiZWw6ICdGb25kJywgdmFsdWU6ICd0aGVtZS1iYWNrZ3JvdW5kJywgY3NzVmFyOiAnLS1jb2xvci1iYWNrZ3JvdW5kJyB9LFxuICAgICAgeyBsYWJlbDogJ1RleHRlJywgdmFsdWU6ICd0aGVtZS10ZXh0JywgY3NzVmFyOiAnLS1jb2xvci10ZXh0JyB9LFxuICAgIF07XG4gICAgY29uc3QgZ2V0Q29tcHV0ZWRUaGVtZUNvbG9yVmFsdWUgPSAoY3NzVmFyLCBmYWxsYmFjayA9ICcjZmZmZmZmJykgPT4ge1xuICAgICAgaWYgKCFjc3NWYXIpIHJldHVybiBmYWxsYmFjaztcbiAgICAgIGNvbnN0IGNvbXB1dGVkID0gZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLmdldFByb3BlcnR5VmFsdWUoY3NzVmFyKTtcbiAgICAgIHJldHVybiBjb21wdXRlZCA/IGNvbXB1dGVkLnRyaW0oKSA6IGZhbGxiYWNrO1xuICAgIH07XG4gICAgY29uc3QgZmlsbFRoZW1lQ29sb3JTZWxlY3QgPSAoc2VsZWN0KSA9PiB7XG4gICAgICBpZiAoIXNlbGVjdCkgcmV0dXJuO1xuICAgICAgc2VsZWN0LmlubmVySFRNTCA9ICcnO1xuICAgICAgdGhlbWVDb2xvclByZXNldHMuZm9yRWFjaCgoeyBsYWJlbCwgdmFsdWUsIGNzc1ZhciB9KSA9PiB7XG4gICAgICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICBvcHRpb24udmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgY29uc3QgY29sb3JWYWx1ZSA9IGdldENvbXB1dGVkVGhlbWVDb2xvclZhbHVlKGNzc1Zhcik7XG4gICAgICAgIG9wdGlvbi50ZXh0Q29udGVudCA9IGxhYmVsO1xuICAgICAgICBvcHRpb24uZGF0YXNldC5jb2xvciA9IGNvbG9yVmFsdWU7XG4gICAgICAgIGlmIChjb2xvclZhbHVlID09PSAndHJhbnNwYXJlbnQnKSB7XG4gICAgICAgICAgb3B0aW9uLnN0eWxlLmJhY2tncm91bmQgPSBUUkFOU1BBUkVOVF9QQVRURVJOO1xuICAgICAgICAgIG9wdGlvbi5zdHlsZS5jb2xvciA9ICcjNDc1NTY5JztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9wdGlvbi5zdHlsZS5iYWNrZ3JvdW5kID0gY29sb3JWYWx1ZTtcbiAgICAgICAgICAgIG9wdGlvbi5zdHlsZS5jb2xvciA9IGdldFJlYWRhYmxlVGV4dENvbG9yKGNvbG9yVmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNlbGVjdC52YWx1ZSA9IHRoZW1lQ29sb3JQcmVzZXRzWzBdLnZhbHVlO1xuICAgICAgICBzZWxlY3QucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xuICAgICAgICBpZiAoaXNCYWNrZ3JvdW5kVGhlbWVTZWxlY3Qoc2VsZWN0KSkge1xuICAgICAgICAgIHN0eWxlU2VsZWN0T3B0aW9ucyhzZWxlY3QpO1xuICAgICAgICB9XG4gICAgICAgIHVwZGF0ZUNvbG9yU2VsZWN0UHJldmlldyhzZWxlY3QpO1xuICAgICAgfTtcbiAgICAgIGNvbnN0IHJlZnJlc2hUaGVtZUNvbG9yU2VsZWN0cyA9ICgpID0+IHRoZW1lQ29sb3JTZWxlY3RzLmZvckVhY2goZmlsbFRoZW1lQ29sb3JTZWxlY3QpO1xuICAgICAgcmVmcmVzaFRoZW1lQ29sb3JTZWxlY3RzKCk7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdhaS10aGVtZS11cGRhdGVkJywgcmVmcmVzaFRoZW1lQ29sb3JTZWxlY3RzKTtcbiAgICBjb25zdCBibG9ja0Zvcm1TZWN0aW9ucyA9IGJsb2NrRm9ybVxuICAgICAgPyBBcnJheS5mcm9tKGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1lZGl0b3Itc2VjdGlvbl0nKSlcbiAgICAgIDogW107XG4gICAgLy8gT25nbGV0cyBDb250ZW51IC8gQXBwYXJlbmNlXG4gICAgY29uc3QgYmxvY2tUYWJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYmxvY2stdGFiXScpO1xuICAgIGxldCBhY3RpdmVCbG9ja1RhYiA9ICdjb250ZW50JztcblxuICAgIC8vIE9uZ2xldHMgcGFubmVhdSBnYXVjaGUgKEJsb2NzIC8gUGFnZXMpXG4gICAgY29uc3QgbGVmdFBhbmVsVGFicyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWxlZnQtdGFiXScpO1xuICAgIGNvbnN0IGxlZnRQYW5lbEJsb2NrcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWxlZnQtcGFuZWw9XCJibG9ja3NcIl0nKTtcbiAgICBjb25zdCBsZWZ0UGFuZWxQYWdlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWxlZnQtcGFuZWw9XCJwYWdlc1wiXScpO1xuICAgIGxldCBhY3RpdmVMZWZ0VGFiID0gJ2Jsb2Nrcyc7XG5cbiAgICAvLyBGb25jdGlvbiBwb3VyIHN3aXRjaGVyIGVudHJlIGxlcyBvbmdsZXRzIEJsb2NzL1BhZ2VzIGR1IHBhbm5lYXUgZ2F1Y2hlXG4gICAgY29uc3Qgc3dpdGNoTGVmdFRhYiA9ICh0YWJOYW1lKSA9PiB7XG4gICAgICBhY3RpdmVMZWZ0VGFiID0gdGFiTmFtZTtcbiAgICAgIGxlZnRQYW5lbFRhYnMuZm9yRWFjaCgodGFiKSA9PiB7XG4gICAgICAgIGNvbnN0IGlzQWN0aXZlID0gdGFiLmRhdGFzZXQubGVmdFRhYiA9PT0gdGFiTmFtZTtcbiAgICAgICAgdGFiLnNldEF0dHJpYnV0ZSgnYXJpYS1zZWxlY3RlZCcsIGlzQWN0aXZlID8gJ3RydWUnIDogJ2ZhbHNlJyk7XG4gICAgICAgIGlmIChpc0FjdGl2ZSkge1xuICAgICAgICAgIHRhYi5jbGFzc0xpc3QuYWRkKCd0ZXh0LVsjOUM2QkZGXScpO1xuICAgICAgICAgIHRhYi5jbGFzc0xpc3QucmVtb3ZlKCd0ZXh0LXNsYXRlLTUwMCcsICdob3Zlcjp0ZXh0LXNsYXRlLTcwMCcpO1xuICAgICAgICAgIHRhYi5jbGFzc0xpc3QuYWRkKCdhZnRlcjphYnNvbHV0ZScsICdhZnRlcjpib3R0b20tMCcsICdhZnRlcjpsZWZ0LTAnLCAnYWZ0ZXI6cmlnaHQtMCcsICdhZnRlcjpoLTAuNScsICdhZnRlcjpiZy1bIzlDNkJGRl0nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0YWIuY2xhc3NMaXN0LnJlbW92ZSgndGV4dC1bIzlDNkJGRl0nKTtcbiAgICAgICAgICB0YWIuY2xhc3NMaXN0LmFkZCgndGV4dC1zbGF0ZS01MDAnLCAnaG92ZXI6dGV4dC1zbGF0ZS03MDAnKTtcbiAgICAgICAgICB0YWIuY2xhc3NMaXN0LnJlbW92ZSgnYWZ0ZXI6YWJzb2x1dGUnLCAnYWZ0ZXI6Ym90dG9tLTAnLCAnYWZ0ZXI6bGVmdC0wJywgJ2FmdGVyOnJpZ2h0LTAnLCAnYWZ0ZXI6aC0wLjUnLCAnYWZ0ZXI6YmctWyM5QzZCRkZdJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgLy8gQWZmaWNoZXIvbWFzcXVlciBsZXMgcGFuZWxzXG4gICAgICBpZiAobGVmdFBhbmVsQmxvY2tzKSB7XG4gICAgICAgIGxlZnRQYW5lbEJsb2Nrcy5jbGFzc0xpc3QudG9nZ2xlKCdoaWRkZW4nLCB0YWJOYW1lICE9PSAnYmxvY2tzJyk7XG4gICAgICB9XG4gICAgICBpZiAobGVmdFBhbmVsUGFnZXMpIHtcbiAgICAgICAgbGVmdFBhbmVsUGFnZXMuY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZGVuJywgdGFiTmFtZSAhPT0gJ3BhZ2VzJyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIEV2ZW50IGxpc3RlbmVycyBwb3VyIGxlcyBvbmdsZXRzIGR1IHBhbm5lYXUgZ2F1Y2hlXG4gICAgbGVmdFBhbmVsVGFicy5mb3JFYWNoKCh0YWIpID0+IHtcbiAgICAgIHRhYi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgc3dpdGNoTGVmdFRhYih0YWIuZGF0YXNldC5sZWZ0VGFiKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIFxuICAgIC8vIERcdTAwRTljbGFyYXRpb25zIGRlcyBcdTAwRTlsXHUwMEU5bWVudHMgZCdhY3Rpb25zIGR1IGZvcm11bGFpcmUgKGF2YW50IHN3aXRjaEJsb2NrVGFiKVxuICAgIGNvbnN0IGJsb2NrRm9ybUFjdGlvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1mb3JtLWFjdGlvbnNdJyk7XG4gICAgY29uc3QgYmxvY2tGb3JtQXV0b3NhdmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1mb3JtLWF1dG9zYXZlXScpO1xuXG4gICAgLy8gRm9uY3Rpb24gcG91ciBzd2l0Y2hlciBlbnRyZSBsZXMgb25nbGV0cyBDb250ZW51L0FwcGFyZW5jZVxuICAgIGNvbnN0IHN3aXRjaEJsb2NrVGFiID0gKHRhYk5hbWUpID0+IHtcbiAgICAgIGFjdGl2ZUJsb2NrVGFiID0gdGFiTmFtZTtcbiAgICAgIC8vIE1ldHRyZSBcdTAwRTAgam91ciBsZXMgc3R5bGVzIGRlcyBib3V0b25zIGQnb25nbGV0XG4gICAgICBibG9ja1RhYnMuZm9yRWFjaCgodGFiKSA9PiB7XG4gICAgICAgIGNvbnN0IGlzQWN0aXZlID0gdGFiLmRhdGFzZXQuYmxvY2tUYWIgPT09IHRhYk5hbWU7XG4gICAgICAgIHRhYi5zZXRBdHRyaWJ1dGUoJ2FyaWEtc2VsZWN0ZWQnLCBpc0FjdGl2ZSA/ICd0cnVlJyA6ICdmYWxzZScpO1xuICAgICAgICBpZiAoaXNBY3RpdmUpIHtcbiAgICAgICAgICB0YWIuY2xhc3NMaXN0LmFkZCgndGV4dC1bIzlDNkJGRl0nKTtcbiAgICAgICAgICB0YWIuY2xhc3NMaXN0LnJlbW92ZSgndGV4dC1zbGF0ZS01MDAnLCAnaG92ZXI6dGV4dC1zbGF0ZS03MDAnKTtcbiAgICAgICAgICB0YWIuY2xhc3NMaXN0LmFkZCgnYWZ0ZXI6YWJzb2x1dGUnLCAnYWZ0ZXI6Ym90dG9tLTAnLCAnYWZ0ZXI6bGVmdC0wJywgJ2FmdGVyOnJpZ2h0LTAnLCAnYWZ0ZXI6aC0wLjUnLCAnYWZ0ZXI6YmctWyM5QzZCRkZdJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGFiLmNsYXNzTGlzdC5yZW1vdmUoJ3RleHQtWyM5QzZCRkZdJyk7XG4gICAgICAgICAgdGFiLmNsYXNzTGlzdC5hZGQoJ3RleHQtc2xhdGUtNTAwJywgJ2hvdmVyOnRleHQtc2xhdGUtNzAwJyk7XG4gICAgICAgICAgdGFiLmNsYXNzTGlzdC5yZW1vdmUoJ2FmdGVyOmFic29sdXRlJywgJ2FmdGVyOmJvdHRvbS0wJywgJ2FmdGVyOmxlZnQtMCcsICdhZnRlcjpyaWdodC0wJywgJ2FmdGVyOmgtMC41JywgJ2FmdGVyOmJnLVsjOUM2QkZGXScpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIC8vIEFmZmljaGVyL21hc3F1ZXIgbGVzIHBhbmVscyBkYW5zIGxhIHNlY3Rpb24gYWN0aXZlXG4gICAgICBjb25zdCBhY3RpdmVTZWN0aW9uID0gYmxvY2tGb3JtPy5xdWVyeVNlbGVjdG9yKCdbZGF0YS1lZGl0b3Itc2VjdGlvbl06bm90KC5oaWRkZW4pJyk7XG4gICAgICBpZiAoYWN0aXZlU2VjdGlvbikge1xuICAgICAgICBjb25zdCBwYW5lbHMgPSBhY3RpdmVTZWN0aW9uLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWJsb2NrLXBhbmVsXScpO1xuICAgICAgICBwYW5lbHMuZm9yRWFjaCgocGFuZWwpID0+IHtcbiAgICAgICAgICBpZiAocGFuZWwuZGF0YXNldC5ibG9ja1BhbmVsID09PSB0YWJOYW1lKSB7XG4gICAgICAgICAgICBwYW5lbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFuZWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIC8vIEFmZmljaGVyL21hc3F1ZXIgbGVzIGJvdXRvbnMgc2Vsb24gbCdvbmdsZXRcbiAgICAgIC8vIENvbnRlbnUgXHUyMTkyIGJvdXRvbnMgRW5yZWdpc3RyZXIvQW5udWxlclxuICAgICAgLy8gQXBwYXJlbmNlIFx1MjE5MiBpbmRpY2F0ZXVyIGF1dG8tc2F2ZVxuICAgICAgaWYgKGJsb2NrRm9ybUFjdGlvbnMgJiYgYmxvY2tGb3JtQXV0b3NhdmUpIHtcbiAgICAgICAgaWYgKHRhYk5hbWUgPT09ICdjb250ZW50Jykge1xuICAgICAgICAgIGJsb2NrRm9ybUFjdGlvbnMuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgYmxvY2tGb3JtQXV0b3NhdmUuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYmxvY2tGb3JtQWN0aW9ucy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgICBibG9ja0Zvcm1BdXRvc2F2ZS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBFdmVudCBsaXN0ZW5lcnMgcG91ciBsZXMgb25nbGV0c1xuICAgIGJsb2NrVGFicy5mb3JFYWNoKCh0YWIpID0+IHtcbiAgICAgIHRhYi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgc3dpdGNoQmxvY2tUYWIodGFiLmRhdGFzZXQuYmxvY2tUYWIpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBjb25zdCBjb2xsZWN0aW9uU2VsZWN0ID0gYmxvY2tGb3JtPy5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImNvbGxlY3Rpb24tZ3JpZC1jb2xsZWN0aW9uXCJdJyk7XG4gICAgY29uc3QgY29sbGVjdGlvblNlbGVjdGlvbkluZm8gPSBibG9ja0Zvcm0/LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAnW2RhdGEtY29sbGVjdGlvbi1zZWxlY3Rpb24taW5mb10nLFxuICAgICk7XG4gICAgY29uc3QgYmxvY2tGb3JtQ2FuY2VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZm9ybS1jYW5jZWxdJyk7XG4gICAgY29uc3QgZ3JvdXBQcmV2aWV3TW9iaWxlID0gYmxvY2tGb3JtPy5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ncm91cC1wcmV2aWV3LW1vYmlsZV0nKTtcbiAgICBjb25zdCBncm91cFByZXZpZXdEZXNrdG9wID0gYmxvY2tGb3JtPy5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ncm91cC1wcmV2aWV3LWRlc2t0b3BdJyk7XG4gICAgY29uc3QgY29sbGVjdGlvblByZXZpZXdNb2JpbGUgPSBibG9ja0Zvcm0/LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbGxlY3Rpb24tcHJldmlldy1tb2JpbGVdJyk7XG4gICAgY29uc3QgY29sbGVjdGlvblByZXZpZXdEZXNrdG9wID0gYmxvY2tGb3JtPy5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xsZWN0aW9uLXByZXZpZXctZGVza3RvcF0nKTtcbiAgICBjb25zdCBibG9ja1R5cGVGb3JtcyA9IHtcbiAgICAgIGhlcm86IHtcbiAgICAgICAgc2VjdGlvbjogJ2hlcm8nLFxuICAgICAgICBsYWJlbEZpZWxkOiAndGl0bGUnLFxuICAgICAgICBkZXNjcmlwdGlvbkZpZWxkOiAnc3VidGl0bGUnLFxuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICB0aXRsZTogJ2hlcm8tdGl0bGUnLFxuICAgICAgICAgIHN1YnRpdGxlOiAnaGVyby1zdWJ0aXRsZScsXG4gICAgICAgICAgY3RhTGFiZWw6ICdoZXJvLWN0YS1sYWJlbCcsXG4gICAgICAgICAgY3RhVXJsOiAnaGVyby1jdGEtdXJsJyxcbiAgICAgICAgICAvLyBBcHBhcmVuY2VcbiAgICAgICAgICBpbWFnZTogJ2hlcm8taW1hZ2UnLFxuICAgICAgICAgIGxheW91dDogJ2hlcm8tbGF5b3V0JyxcbiAgICAgICAgICBpbWFnZVdpZHRoOiAnaGVyby1pbWFnZS13aWR0aCcsXG4gICAgICAgICAgaW1hZ2VIZWlnaHQ6ICdoZXJvLWltYWdlLWhlaWdodCcsXG4gICAgICAgICAgaW1hZ2VPYmplY3RGaXQ6ICdoZXJvLWltYWdlLW9iamVjdC1maXQnLFxuICAgICAgICAgIGhlaWdodDogJ2hlcm8taGVpZ2h0JyxcbiAgICAgICAgICBjb250ZW50QWxpZ246ICdoZXJvLWNvbnRlbnQtYWxpZ24nLFxuICAgICAgICAgIGhvcml6b250YWxBbGlnbjogJ2hlcm8taG9yaXpvbnRhbC1hbGlnbicsXG4gICAgICAgICAgdGV4dEFsaWduOiAnaGVyby10ZXh0LWFsaWduJyxcbiAgICAgICAgICBvdmVybGF5OiAnaGVyby1vdmVybGF5JyxcbiAgICAgICAgICB0aXRsZVNpemU6ICdoZXJvLXRpdGxlLXNpemUnLFxuICAgICAgICAgIC8vIENhcmQgc3R5bGVcbiAgICAgICAgICBiZzogJ2hlcm8tYmcnLFxuICAgICAgICAgIGJvcmRlclJhZGl1czogJ2hlcm8tYm9yZGVyLXJhZGl1cycsXG4gICAgICAgICAgc2hhZG93OiAnaGVyby1zaGFkb3cnLFxuICAgICAgICAgIGJvcmRlcjogJ2hlcm8tYm9yZGVyJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBwYXJhZ3JhcGhlOiB7XG4gICAgICAgIHNlY3Rpb246ICdwYXJhZ3JhcGgnLFxuICAgICAgICBsYWJlbEZpZWxkOiAndGl0bGUnLFxuICAgICAgICBkZXNjcmlwdGlvbkZpZWxkOiAnY29udGVudCcsXG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIHRpdGxlOiAncGFyYWdyYXBoLXRpdGxlJyxcbiAgICAgICAgICBjb250ZW50OiAncGFyYWdyYXBoLWNvbnRlbnQnLFxuICAgICAgICAgIC8vIEFwcGFyZW5jZVxuICAgICAgICAgIGFsaWduOiAncGFyYWdyYXBoLWFsaWduJyxcbiAgICAgICAgICB0aXRsZVNpemU6ICdwYXJhZ3JhcGgtdGl0bGUtc2l6ZScsXG4gICAgICAgICAgdGV4dFNpemU6ICdwYXJhZ3JhcGgtdGV4dC1zaXplJyxcbiAgICAgICAgICBzcGFjaW5nOiAncGFyYWdyYXBoLXNwYWNpbmcnLFxuICAgICAgICAgIC8vIENhcmQgc3R5bGVcbiAgICAgICAgICBiZzogJ3BhcmFncmFwaC1iZycsXG4gICAgICAgICAgYm9yZGVyUmFkaXVzOiAncGFyYWdyYXBoLWJvcmRlci1yYWRpdXMnLFxuICAgICAgICAgIHNoYWRvdzogJ3BhcmFncmFwaC1zaGFkb3cnLFxuICAgICAgICAgIGJvcmRlcjogJ3BhcmFncmFwaC1ib3JkZXInLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGltYWdlOiB7XG4gICAgICAgIHNlY3Rpb246ICdpbWFnZScsXG4gICAgICAgIGxhYmVsRmllbGQ6ICdhbHQnLFxuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBzcmM6ICdpbWFnZS1zcmMnLFxuICAgICAgICAgIGFsdDogJ2ltYWdlLWFsdCcsXG4gICAgICAgICAgc2hvd0NhcHRpb246ICdpbWFnZS1jYXB0aW9uLXRvZ2dsZScsXG4gICAgICAgICAgY2FwdGlvbjogJ2ltYWdlLWNhcHRpb24nLFxuICAgICAgICAgIC8vIEFwcGFyZW5jZVxuICAgICAgICAgIHJvdW5kZWQ6ICdpbWFnZS1yb3VuZGVkJyxcbiAgICAgICAgICBzaGFkb3c6ICdpbWFnZS1zaGFkb3cnLFxuICAgICAgICAgIG1heFdpZHRoOiAnaW1hZ2UtbWF4LXdpZHRoJyxcbiAgICAgICAgICBoZWlnaHQ6ICdpbWFnZS1oZWlnaHQnLFxuICAgICAgICAgIG9iamVjdEZpdDogJ2ltYWdlLW9iamVjdC1maXQnLFxuICAgICAgICAgIGFsaWduOiAnaW1hZ2UtYWxpZ24nLFxuICAgICAgICAgIC8vIENhcmQgc3R5bGVcbiAgICAgICAgICBiZzogJ2ltYWdlLWJnJyxcbiAgICAgICAgICBib3JkZXJSYWRpdXM6ICdpbWFnZS1ib3JkZXItcmFkaXVzJyxcbiAgICAgICAgICBib3JkZXI6ICdpbWFnZS1ib3JkZXInLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGdyb3VwZToge1xuICAgICAgICBzZWN0aW9uOiAnZ3JvdXAnLFxuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAvLyBBcHBhcmVuY2VcbiAgICAgICAgICBjb2x1bW5zTW9iaWxlOiAnZ3JvdXAtY29sdW1ucy1tb2JpbGUnLFxuICAgICAgICAgIGNvbHVtbnNEZXNrdG9wOiAnZ3JvdXAtY29sdW1ucy1kZXNrdG9wJyxcbiAgICAgICAgICBnYXA6ICdncm91cC1nYXAnLFxuICAgICAgICAgIGl0ZW1zQWxpZ246ICdncm91cC1pdGVtcy1hbGlnbicsXG4gICAgICAgICAgbW9iaWxlTGF5b3V0OiAnZ3JvdXAtbW9iaWxlLWxheW91dCcsXG4gICAgICAgICAgLy8gQ2FyZCBzdHlsZVxuICAgICAgICAgIGJnOiAnZ3JvdXAtYmcnLFxuICAgICAgICAgIGJvcmRlclJhZGl1czogJ2dyb3VwLWJvcmRlci1yYWRpdXMnLFxuICAgICAgICAgIHNoYWRvdzogJ2dyb3VwLXNoYWRvdycsXG4gICAgICAgICAgYm9yZGVyOiAnZ3JvdXAtYm9yZGVyJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBjb2xsZWN0aW9uZ3JpZDoge1xuICAgICAgICBzZWN0aW9uOiAnY29sbGVjdGlvbicsXG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIGNvbGxlY3Rpb25JZDogJ2NvbGxlY3Rpb24tZ3JpZC1jb2xsZWN0aW9uJyxcbiAgICAgICAgICBsaW1pdDogJ2NvbGxlY3Rpb24tZ3JpZC1saW1pdCcsXG4gICAgICAgICAgLy8gQXBwYXJlbmNlXG4gICAgICAgICAgY29sdW1uc01vYmlsZTogJ2NvbGxlY3Rpb24tY29sdW1ucy1tb2JpbGUnLFxuICAgICAgICAgIGNvbHVtbnNEZXNrdG9wOiAnY29sbGVjdGlvbi1jb2x1bW5zLWRlc2t0b3AnLFxuICAgICAgICAgIGdhcDogJ2NvbGxlY3Rpb24tZ2FwJyxcbiAgICAgICAgICBpdGVtc0FsaWduOiAnY29sbGVjdGlvbi1pdGVtcy1hbGlnbicsXG4gICAgICAgICAgY2FyZFJvdW5kZWQ6ICdjb2xsZWN0aW9uLWNhcmQtcm91bmRlZCcsXG4gICAgICAgICAgbW9iaWxlTGF5b3V0OiAnY29sbGVjdGlvbi1tb2JpbGUtbGF5b3V0JyxcbiAgICAgICAgICAvLyBDYXJkIHN0eWxlXG4gICAgICAgICAgYmc6ICdjb2xsZWN0aW9uLWJnJyxcbiAgICAgICAgICBib3JkZXJSYWRpdXM6ICdjb2xsZWN0aW9uLWJvcmRlci1yYWRpdXMnLFxuICAgICAgICAgIHNoYWRvdzogJ2NvbGxlY3Rpb24tc2hhZG93JyxcbiAgICAgICAgICBib3JkZXI6ICdjb2xsZWN0aW9uLWJvcmRlcicsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgZm9ybToge1xuICAgICAgICBzZWN0aW9uOiAnZm9ybScsXG4gICAgICAgIGxhYmVsRmllbGQ6ICdmb3JtVGl0bGUnLFxuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBmb3JtVGl0bGU6ICdmb3JtLXRpdGxlJyxcbiAgICAgICAgICBhY3Rpb25Vcmw6ICdmb3JtLWFjdGlvbi11cmwnLFxuICAgICAgICAgIG1ldGhvZDogJ2Zvcm0tbWV0aG9kJyxcbiAgICAgICAgICBzZXJ2aWNlTmFtZTogJ2Zvcm0tc2VydmljZS1uYW1lJyxcbiAgICAgICAgICBzdWJtaXRMYWJlbDogJ2Zvcm0tc3VibWl0LWxhYmVsJyxcbiAgICAgICAgICBzdWNjZXNzTWVzc2FnZTogJ2Zvcm0tc3VjY2Vzcy1tZXNzYWdlJyxcbiAgICAgICAgICAvLyBBcHBhcmVuY2VcbiAgICAgICAgICBtYXhXaWR0aDogJ2Zvcm0tbWF4LXdpZHRoJyxcbiAgICAgICAgICBhbGlnbjogJ2Zvcm0tYWxpZ24nLFxuICAgICAgICAgIGJ1dHRvblJvdW5kZWQ6ICdmb3JtLWJ1dHRvbi1yb3VuZGVkJyxcbiAgICAgICAgICBzcGFjaW5nOiAnZm9ybS1zcGFjaW5nJyxcbiAgICAgICAgICAvLyBDYXJkIHN0eWxlXG4gICAgICAgICAgYmc6ICdmb3JtLWJnJyxcbiAgICAgICAgICBib3JkZXJSYWRpdXM6ICdmb3JtLWJvcmRlci1yYWRpdXMnLFxuICAgICAgICAgIHNoYWRvdzogJ2Zvcm0tc2hhZG93JyxcbiAgICAgICAgICBib3JkZXI6ICdmb3JtLWJvcmRlcicsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgbmV3c2xldHRlcmVtYmVkOiB7XG4gICAgICAgIHNlY3Rpb246ICduZXdzbGV0dGVyJyxcbiAgICAgICAgbGFiZWxGaWVsZDogJ3RpdGxlJyxcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgdGl0bGU6ICduZXdzbGV0dGVyLXRpdGxlJyxcbiAgICAgICAgICBzZXJ2aWNlTmFtZTogJ25ld3NsZXR0ZXItc2VydmljZS1uYW1lJyxcbiAgICAgICAgICBlbWJlZENvZGU6ICduZXdzbGV0dGVyLWVtYmVkLWNvZGUnLFxuICAgICAgICAgIC8vIEFwcGFyZW5jZVxuICAgICAgICAgIG1heFdpZHRoOiAnbmV3c2xldHRlci1tYXgtd2lkdGgnLFxuICAgICAgICAgIGFsaWduOiAnbmV3c2xldHRlci1hbGlnbicsXG4gICAgICAgICAgcGFkZGluZzogJ25ld3NsZXR0ZXItcGFkZGluZycsXG4gICAgICAgICAgYmc6ICduZXdzbGV0dGVyLWJnJyxcbiAgICAgICAgICAvLyBDYXJkIHN0eWxlXG4gICAgICAgICAgYm9yZGVyUmFkaXVzOiAnbmV3c2xldHRlci1ib3JkZXItcmFkaXVzJyxcbiAgICAgICAgICBzaGFkb3c6ICduZXdzbGV0dGVyLXNoYWRvdycsXG4gICAgICAgICAgYm9yZGVyOiAnbmV3c2xldHRlci1ib3JkZXInLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9O1xuICAgIGNvbnN0IGJsb2NrVHlwZUFsaWFzZXMgPSB7XG4gICAgICB0ZXh0ZTogJ3BhcmFncmFwaGUnLFxuICAgICAgcGFyYWdyYXBoOiAncGFyYWdyYXBoZScsXG4gICAgICBwYXJhZ3JhcGhzOiAncGFyYWdyYXBoZScsXG4gICAgICBwYXJhZ3JhcGhlczogJ3BhcmFncmFwaGUnLFxuICAgICAgdGV4dDogJ3BhcmFncmFwaGUnLFxuICAgICAgaGVybzogJ2hlcm8nLFxuICAgICAgaW1hZ2U6ICdpbWFnZScsXG4gICAgICBncm91cGU6ICdncm91cGUnLFxuICAgICAgZ3JvdXA6ICdncm91cGUnLFxuICAgICAgY29sbGVjdGlvbjogJ2NvbGxlY3Rpb25ncmlkJyxcbiAgICAgIGNvbGxlY3Rpb25ncmlkOiAnY29sbGVjdGlvbmdyaWQnLFxuICAgICAgJ2NvbGxlY3Rpb24tZ3JpZCc6ICdjb2xsZWN0aW9uZ3JpZCcsXG4gICAgICBmb3JtOiAnZm9ybScsXG4gICAgICBmb3JtdWxhaXJlOiAnZm9ybScsXG4gICAgICBjb250YWN0OiAnZm9ybScsXG4gICAgICBuZXdzbGV0dGVyZW1iZWQ6ICduZXdzbGV0dGVyZW1iZWQnLFxuICAgICAgbmV3c2xldHRlcjogJ25ld3NsZXR0ZXJlbWJlZCcsXG4gICAgICBlbWJlZDogJ25ld3NsZXR0ZXJlbWJlZCcsXG4gICAgfTtcbiAgICBjb25zdCBhbmltYXRpb25GaWVsZE1hcCA9IHtcbiAgICAgIGFuaW1hdGlvbjogJ2FuaW0tdHlwZScsXG4gICAgICBhbmltYXRpb25EZWxheTogJ2FuaW0tZGVsYXknLFxuICAgICAgYW5pbWF0aW9uRHVyYXRpb246ICdhbmltLWR1cmF0aW9uJyxcbiAgICB9O1xuICAgIE9iamVjdC52YWx1ZXMoYmxvY2tUeXBlRm9ybXMpLmZvckVhY2goKGNvbmZpZykgPT4ge1xuICAgICAgY29uZmlnLmZpZWxkcyA9IHsgLi4uY29uZmlnLmZpZWxkcywgLi4uYW5pbWF0aW9uRmllbGRNYXAgfTtcbiAgICB9KTtcbiAgICBjb25zdCB1cGRhdGVHcm91cE1pbmlQcmV2aWV3ID0gKG1vYmlsZVZhbHVlLCBkZXNrdG9wVmFsdWUpID0+IHtcbiAgICAgIGlmICghZ3JvdXBQcmV2aWV3TW9iaWxlIHx8ICFncm91cFByZXZpZXdEZXNrdG9wKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlbmRlckJveGVzID0gKGNvdW50KSA9PlxuICAgICAgICBBcnJheS5mcm9tKHsgbGVuZ3RoOiBOdW1iZXIoY291bnQpIHx8IDEgfSlcbiAgICAgICAgICAubWFwKCgpID0+ICc8c3BhbiBjbGFzcz1cImJsb2NrIGgtMiB3LWZ1bGwgcm91bmRlZC1mdWxsIGJnLXNsYXRlLTMwMFwiPjwvc3Bhbj4nKVxuICAgICAgICAgIC5qb2luKCcnKTtcbiAgICAgIGdyb3VwUHJldmlld01vYmlsZS5pbm5lckhUTUwgPSByZW5kZXJCb3hlcyhtb2JpbGVWYWx1ZSk7XG4gICAgICBncm91cFByZXZpZXdEZXNrdG9wLmlubmVySFRNTCA9IHJlbmRlckJveGVzKGRlc2t0b3BWYWx1ZSk7XG4gICAgfTtcbiAgICBjb25zdCB1cGRhdGVDb2xsZWN0aW9uTWluaVByZXZpZXcgPSAobW9iaWxlVmFsdWUsIGRlc2t0b3BWYWx1ZSkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uUHJldmlld01vYmlsZSB8fCAhY29sbGVjdGlvblByZXZpZXdEZXNrdG9wKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlbmRlckJveGVzID0gKGNvdW50KSA9PlxuICAgICAgICBBcnJheS5mcm9tKHsgbGVuZ3RoOiBOdW1iZXIoY291bnQpIHx8IDEgfSlcbiAgICAgICAgICAubWFwKCgpID0+ICc8c3BhbiBjbGFzcz1cImJsb2NrIGgtMiB3LWZ1bGwgcm91bmRlZC1mdWxsIGJnLXZpb2xldC0zMDBcIj48L3NwYW4+JylcbiAgICAgICAgICAuam9pbignJyk7XG4gICAgICBjb2xsZWN0aW9uUHJldmlld01vYmlsZS5pbm5lckhUTUwgPSByZW5kZXJCb3hlcyhtb2JpbGVWYWx1ZSk7XG4gICAgICBjb2xsZWN0aW9uUHJldmlld0Rlc2t0b3AuaW5uZXJIVE1MID0gcmVuZGVyQm94ZXMoZGVza3RvcFZhbHVlKTtcbiAgICB9O1xuICAgIGNvbnN0IGZldGNoUGFnZXNGcm9tU2VydmVyID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFwYWdlc0FwaUJhc2UpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChwYWdlc0FwaUJhc2UsIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ltcG9zc2libGUgZGUgY2hhcmdlciBsZXMgcGFnZXMuJyk7XG4gICAgICB9XG4gICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+IFtdKTtcbiAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHBheWxvYWQpID8gcGF5bG9hZCA6IFtdO1xuICAgIH07XG4gICAgY29uc3QgY3JlYXRlUGFnZU9uU2VydmVyID0gYXN5bmMgKHsgbmFtZSwgdGl0bGUsIHNsdWcgfSkgPT4ge1xuICAgICAgaWYgKCFwYWdlc0FwaUJhc2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTaXRlIGluY29ubnUuJyk7XG4gICAgICB9XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHBhZ2VzQXBpQmFzZSwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgbmFtZSwgdGl0bGUsIHNsdWcgfSksXG4gICAgICB9KTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHBheWxvYWQubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBjclx1MDBFOWVyIGxhIHBhZ2UuJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgIH07XG4gICAgY29uc3Qgc2F2ZVBhZ2VUb1NlcnZlciA9IGFzeW5jIChwYWdlKSA9PiB7XG4gICAgICBpZiAoIXBhZ2VzQXBpQmFzZSB8fCAhcGFnZT8uaWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtwYWdlc0FwaUJhc2V9LyR7ZW5jb2RlVVJJQ29tcG9uZW50KHBhZ2UuaWQpfWAsIHtcbiAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYWdlKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihwYXlsb2FkLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgc2F1dmVnYXJkZXIgbGEgcGFnZS4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzYXZlZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgaWYgKHNhdmVkPy5pZCkge1xuICAgICAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBub3JtYWxpemVQYWdlRGF0YShzYXZlZCk7XG4gICAgICAgICAgcGFnZXMgPSBwYWdlcy5tYXAoKGVudHJ5KSA9PiAoZW50cnkuaWQgPT09IG5vcm1hbGl6ZWQuaWQgPyBub3JtYWxpemVkIDogZW50cnkpKTtcbiAgICAgICAgICBpZiAoY3VycmVudFBhZ2U/LmlkID09PSBub3JtYWxpemVkLmlkKSB7XG4gICAgICAgICAgICBjdXJyZW50UGFnZSA9IG5vcm1hbGl6ZWQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBub3JtYWxpemVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzYXZlZDtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZGVzaWduXSBTYXZlIHBhZ2UgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdTYXV2ZWdhcmRlIGltcG9zc2libGUuJyk7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBsb2FkUGFnZXNGcm9tU2VydmVyID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFwYWdlc0FwaUJhc2UpIHtcbiAgICAgICAgcGFnZXMgPSBbXTtcbiAgICAgICAgYWN0aXZlUGFnZUlkID0gbnVsbDtcbiAgICAgICAgY3VycmVudFBhZ2UgPSBudWxsO1xuICAgICAgICByZW5kZXJQYWdlTGlzdHMocGFnZXMsIGFjdGl2ZVBhZ2VJZCk7XG4gICAgICAgIHJlbmRlckJsb2NrTGlzdChudWxsKTtcbiAgICAgICAgYmxvY2tEZXRhaWxFbXB0eT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIGJsb2NrRWRpdG9yPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgbG9hZGVkUGFnZXMgPSBhd2FpdCBmZXRjaFBhZ2VzRnJvbVNlcnZlcigpO1xuICAgICAgICBwYWdlcyA9IChBcnJheS5pc0FycmF5KGxvYWRlZFBhZ2VzKSA/IGxvYWRlZFBhZ2VzIDogW10pLm1hcCgocGFnZSkgPT5cbiAgICAgICAgICBub3JtYWxpemVQYWdlRGF0YShwYWdlKSxcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKHBhZ2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIGFjdGl2ZVBhZ2VJZCA9IG51bGw7XG4gICAgICAgICAgY3VycmVudFBhZ2UgPSBudWxsO1xuICAgICAgICAgIHJlbmRlclBhZ2VMaXN0cyhwYWdlcywgYWN0aXZlUGFnZUlkKTtcbiAgICAgICAgICByZW5kZXJCbG9ja0xpc3QobnVsbCk7XG4gICAgICAgICAgYmxvY2tEZXRhaWxFbXB0eT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgYmxvY2tFZGl0b3I/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICAgIHByZXZpZXdGcmFtZSAmJiAocHJldmlld0ZyYW1lLnNyY2RvYyA9IGdldExvYWRpbmdQcmV2aWV3SHRtbCgpKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgYWN0aXZlUGFnZUlkID0gZ2V0U3RvcmVkQWN0aXZlUGFnZShwYWdlcyk7XG4gICAgICAgIHNldEFjdGl2ZVBhZ2UoYWN0aXZlUGFnZUlkKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZGVzaWduXSBJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIHBhZ2VzJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KCdJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIHBhZ2VzLicpO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3Qgbm9ybWFsaXplVHlwZSA9ICh2YWx1ZSkgPT5cbiAgICAgICh2YWx1ZSB8fCAnJykubm9ybWFsaXplKCdORkQnKS5yZXBsYWNlKC9bXFx1MDMwMC1cXHUwMzZmXS9nLCAnJykudG9Mb3dlckNhc2UoKTtcbiAgICBjb25zdCBnZXRCbG9ja0Zvcm1Db25maWcgPSAoYmxvY2spID0+IHtcbiAgICAgIGlmICghYmxvY2spIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICBjb25zdCB0eXBlS2V5ID0gbm9ybWFsaXplVHlwZShibG9jay50eXBlKTtcbiAgICAgIGNvbnN0IGFsaWFzID0gYmxvY2tUeXBlQWxpYXNlc1t0eXBlS2V5XSB8fCB0eXBlS2V5O1xuICAgICAgcmV0dXJuIGJsb2NrVHlwZUZvcm1zW2FsaWFzXSB8fCBudWxsO1xuICAgIH07XG4gICAgY29uc3QgcG9wdWxhdGVCbG9ja0Zvcm0gPSAoYmxvY2spID0+IHtcbiAgICAgIGlmICghYmxvY2tGb3JtIHx8ICFibG9ja0VkaXRvcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoYmxvY2sgJiYgIWJsb2NrLnNldHRpbmdzKSB7XG4gICAgICAgIGJsb2NrLnNldHRpbmdzID0ge307XG4gICAgICB9XG4gICAgICBjb25zdCBjb25maWcgPSBnZXRCbG9ja0Zvcm1Db25maWcoYmxvY2spO1xuICAgICAgaWYgKGJsb2NrRWRpdG9yVGl0bGUpIHtcbiAgICAgICAgYmxvY2tFZGl0b3JUaXRsZS50ZXh0Q29udGVudCA9IGJsb2NrPy5sYWJlbCB8fCAnQmxvYyc7XG4gICAgICB9XG4gICAgICBpZiAoYmxvY2tFZGl0b3JUeXBlKSB7XG4gICAgICAgIGJsb2NrRWRpdG9yVHlwZS50ZXh0Q29udGVudCA9IGJsb2NrPy50eXBlIHx8ICdCbG9jJztcbiAgICAgIH1cbiAgICAgIGlmICghY29uZmlnKSB7XG4gICAgICAgIGJsb2NrRm9ybS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgYmxvY2tFZGl0b3JVbnN1cHBvcnRlZD8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIGJsb2NrRm9ybS5kYXRhc2V0LmJsb2NrSWQgPSAnJztcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYmxvY2tFZGl0b3JVbnN1cHBvcnRlZD8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBibG9ja0Zvcm0uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBibG9ja0Zvcm0ucmVzZXQoKTtcbiAgICAgIGJsb2NrRm9ybS5kYXRhc2V0LmJsb2NrSWQgPSBibG9jay5pZDtcbiAgICAgIGJsb2NrRm9ybVNlY3Rpb25zLmZvckVhY2goKHNlY3Rpb24pID0+IHtcbiAgICAgICAgY29uc3Qgc2VjdGlvbklkID0gc2VjdGlvbi5kYXRhc2V0LmVkaXRvclNlY3Rpb247XG4gICAgICAgIGlmIChzZWN0aW9uSWQgPT09IGNvbmZpZy5zZWN0aW9uKSB7XG4gICAgICAgICAgc2VjdGlvbi5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWN0aW9uLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIC8vIFJcdTAwRTlpbml0aWFsaXNlciBzdXIgbCdvbmdsZXQgQ29udGVudVxuICAgICAgc3dpdGNoQmxvY2tUYWIoJ2NvbnRlbnQnKTtcbiAgICAgIGlmIChjb25maWcuc2VjdGlvbiA9PT0gJ2NvbGxlY3Rpb24nKSB7XG4gICAgICAgIGNvbnN0IGRlc2lyZWRWYWx1ZSA9IGJsb2NrLmNvbGxlY3Rpb25JZCB8fCBibG9jay5zZXR0aW5ncz8uY29sbGVjdGlvbklkIHx8ICcnO1xuICAgICAgICB1cGRhdGVDb2xsZWN0aW9uU2VsZWN0T3B0aW9ucyhkZXNpcmVkVmFsdWUpO1xuICAgICAgfVxuICAgICAgT2JqZWN0LmVudHJpZXMoY29uZmlnLmZpZWxkcykuZm9yRWFjaCgoW3NldHRpbmdLZXksIGZpZWxkTmFtZV0pID0+IHtcbiAgICAgICAgY29uc3QgaW5wdXQgPSBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcihgW25hbWU9XCIke2ZpZWxkTmFtZX1cIl1gKTtcbiAgICAgICAgaWYgKCFpbnB1dCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2YWx1ZSA9IGJsb2NrLnNldHRpbmdzPy5bc2V0dGluZ0tleV07XG4gICAgICAgIGlmIChpbnB1dC50eXBlID09PSAnY2hlY2tib3gnKSB7XG4gICAgICAgICAgaW5wdXQuY2hlY2tlZCA9IEJvb2xlYW4odmFsdWUpO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0LnR5cGUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgY29uc3QgZmFsbGJhY2sgPSBpbnB1dC5kYXRhc2V0LmRlZmF1bHQgPz8gaW5wdXQuZGVmYXVsdFZhbHVlID8/ICcnO1xuICAgICAgICAgIGlucHV0LnZhbHVlID0gdmFsdWUgPz8gZmFsbGJhY2s7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5wdXQudGFnTmFtZSA9PT0gJ1RFWFRBUkVBJykge1xuICAgICAgICAgIGlucHV0LnZhbHVlID0gdmFsdWUgPz8gJyc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaW5wdXQudmFsdWUgPSB2YWx1ZSA/PyAnJztcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoY29uZmlnLnNlY3Rpb24gPT09ICdncm91cCcpIHtcbiAgICAgICAgY29uc3QgbW9iaWxlVmFsdWUgPVxuICAgICAgICAgIGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImdyb3VwLWNvbHVtbnMtbW9iaWxlXCJdJyk/LnZhbHVlIHx8ICcxJztcbiAgICAgICAgY29uc3QgZGVza3RvcFZhbHVlID1cbiAgICAgICAgICBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJncm91cC1jb2x1bW5zLWRlc2t0b3BcIl0nKT8udmFsdWUgfHwgJzMnO1xuICAgICAgICB1cGRhdGVHcm91cE1pbmlQcmV2aWV3KG1vYmlsZVZhbHVlLCBkZXNrdG9wVmFsdWUpO1xuICAgICAgfVxuICAgICAgaWYgKGNvbmZpZy5zZWN0aW9uID09PSAnY29sbGVjdGlvbicpIHtcbiAgICAgICAgY29uc3QgbW9iaWxlVmFsdWUgPVxuICAgICAgICAgIGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImNvbGxlY3Rpb24tY29sdW1ucy1tb2JpbGVcIl0nKT8udmFsdWUgfHwgJzEnO1xuICAgICAgICBjb25zdCBkZXNrdG9wVmFsdWUgPVxuICAgICAgICAgIGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImNvbGxlY3Rpb24tY29sdW1ucy1kZXNrdG9wXCJdJyk/LnZhbHVlIHx8ICczJztcbiAgICAgICAgdXBkYXRlQ29sbGVjdGlvbk1pbmlQcmV2aWV3KG1vYmlsZVZhbHVlLCBkZXNrdG9wVmFsdWUpO1xuICAgICAgfVxuICAgICAgY29uc3QgYmdGaWVsZE5hbWUgPSBjb25maWcuZmllbGRzPy5iZztcbiAgICAgIGlmIChiZ0ZpZWxkTmFtZSkge1xuICAgICAgICBjb25zdCBiZ1NlbGVjdCA9IGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yKGBbbmFtZT1cIiR7YmdGaWVsZE5hbWV9XCJdYCk7XG4gICAgICAgIGVuc3VyZUN1c3RvbVRoZW1lT3B0aW9uKGJnU2VsZWN0LCBibG9jay5zZXR0aW5ncz8uYmcpO1xuICAgICAgfVxuICAgICAgYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWNvbG9yLXNlbGVjdF0nKS5mb3JFYWNoKHVwZGF0ZUNvbG9yU2VsZWN0UHJldmlldyk7XG4gICAgfTtcbiAgICBjb25zdCBjb2xsZWN0Rm9ybVZhbHVlcyA9IChjb25maWcpID0+IHtcbiAgICAgIGlmICghYmxvY2tGb3JtIHx8ICFjb25maWcpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgfVxuICAgICAgY29uc3QgdmFsdWVzID0ge307XG4gICAgICBPYmplY3QuZW50cmllcyhjb25maWcuZmllbGRzKS5mb3JFYWNoKChbc2V0dGluZ0tleSwgZmllbGROYW1lXSkgPT4ge1xuICAgICAgICBjb25zdCBpbnB1dCA9IGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yKGBbbmFtZT1cIiR7ZmllbGROYW1lfVwiXWApO1xuICAgICAgICBpZiAoIWlucHV0KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbnB1dC50eXBlID09PSAnY2hlY2tib3gnKSB7XG4gICAgICAgICAgdmFsdWVzW3NldHRpbmdLZXldID0gaW5wdXQuY2hlY2tlZDtcbiAgICAgICAgfSBlbHNlIGlmIChpbnB1dC50eXBlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIGNvbnN0IHBhcnNlZCA9IE51bWJlcihpbnB1dC52YWx1ZSk7XG4gICAgICAgICAgdmFsdWVzW3NldHRpbmdLZXldID0gTnVtYmVyLmlzRmluaXRlKHBhcnNlZCkgPyBwYXJzZWQgOiAwO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0LnRhZ05hbWUgPT09ICdTRUxFQ1QnKSB7XG4gICAgICAgICAgY29uc3QgZmFsbGJhY2sgPSBpbnB1dC5kYXRhc2V0LmRlZmF1bHQgPz8gaW5wdXQudmFsdWUgPz8gJyc7XG4gICAgICAgICAgdmFsdWVzW3NldHRpbmdLZXldID0gaW5wdXQudmFsdWUgfHwgZmFsbGJhY2s7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5wdXQudGFnTmFtZSA9PT0gJ1RFWFRBUkVBJykge1xuICAgICAgICAgIHZhbHVlc1tzZXR0aW5nS2V5XSA9IGlucHV0LnZhbHVlIHx8ICcnO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0LnR5cGUgPT09ICdzZWxlY3Qtb25lJykge1xuICAgICAgICAgIHZhbHVlc1tzZXR0aW5nS2V5XSA9IGlucHV0LnZhbHVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhbHVlc1tzZXR0aW5nS2V5XSA9IGlucHV0LnZhbHVlIHx8ICcnO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgfTtcbiAgICBjb25zdCB1cGRhdGVQcmV2aWV3U3RhdHVzID0gKHRleHQpID0+IHtcbiAgICAgIGlmICghcHJldmlld1N0YXR1cykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIXRleHQpIHtcbiAgICAgICAgcHJldmlld1N0YXR1cy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcHJldmlld1N0YXR1cy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIHByZXZpZXdTdGF0dXMudGV4dENvbnRlbnQgPSB0ZXh0O1xuICAgIH07XG4gICAgY29uc3Qgc2VyaWFsaXplUGFnZUZvclByZXZpZXcgPSAocGFnZSkgPT4ge1xuICAgICAgaWYgKCFwYWdlKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBGb25jdGlvbiBwb3VyIHNcdTAwRTlyaWFsaXNlciB1biBibG9jICh1dGlsaXNcdTAwRTkgcG91ciBsZXMgYmxvY3MgZXQgbGV1cnMgZW5mYW50cylcbiAgICAgIGNvbnN0IHNlcmlhbGl6ZUJsb2NrID0gKGJsb2NrKSA9PiAoe1xuICAgICAgICBpZDogYmxvY2suaWQsXG4gICAgICAgIHR5cGU6IGJsb2NrLnR5cGUsXG4gICAgICAgIGxhYmVsOiBibG9jay5sYWJlbCxcbiAgICAgICAgc3RhdHVzOiBibG9jay5zdGF0dXMsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBibG9jay5kZXNjcmlwdGlvbixcbiAgICAgICAgcHJvcHM6IGJsb2NrLnByb3BzIHx8IFtdLFxuICAgICAgICBzZXR0aW5nczogYmxvY2suc2V0dGluZ3MgfHwge30sXG4gICAgICAgIGNvbGxlY3Rpb25JZDogYmxvY2suY29sbGVjdGlvbklkIHx8IGJsb2NrLnNldHRpbmdzPy5jb2xsZWN0aW9uSWQgfHwgJycsXG4gICAgICAgIGNoaWxkcmVuOiAoYmxvY2suY2hpbGRyZW4gfHwgW10pLm1hcChzZXJpYWxpemVCbG9jayksXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IHBhZ2UuaWQsXG4gICAgICAgIG5hbWU6IHBhZ2UubmFtZSxcbiAgICAgICAgdGl0bGU6IHBhZ2UudGl0bGUsXG4gICAgICAgIHNsdWc6IHBhZ2Uuc2x1ZyxcbiAgICAgICAgZGVzY3JpcHRpb246IHBhZ2UuZGVzY3JpcHRpb24gfHwgJycsXG4gICAgICAgIGJhZGdlczogWy4uLihwYWdlLmJhZGdlcyB8fCBbXSldLFxuICAgICAgICBzZW86IHBhZ2Uuc2VvIHx8IHt9LFxuICAgICAgICBhY2Nlc3NpYmlsaXR5OiBwYWdlLmFjY2Vzc2liaWxpdHkgfHwge30sXG4gICAgICAgIGJsb2NrczogKHBhZ2UuYmxvY2tzIHx8IFtdKS5tYXAoc2VyaWFsaXplQmxvY2spLFxuICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IGdldExvYWRpbmdQcmV2aWV3SHRtbCA9ICgpID0+XG4gICAgICAnPCFET0NUWVBFIGh0bWw+PGh0bWw+PGJvZHkgc3R5bGU9XCJmb250LWZhbWlseTpJbnRlcixzYW5zLXNlcmlmO3BhZGRpbmc6NDBweDtjb2xvcjojNDc1NTY5O2JhY2tncm91bmQ6I2ZmZjtcIj5Qclx1MDBFOXBhcmF0aW9uIGRlIGxhIHByXHUwMEU5dmlzdWFsaXNhdGlvblx1MjAyNjwvYm9keT48L2h0bWw+JztcblxuICAgIC8vIERlYm91bmNlIHV0aWxpdHlcbiAgICBjb25zdCBkZWJvdW5jZSA9IChmbiwgZGVsYXkpID0+IHtcbiAgICAgIGxldCB0aW1lb3V0SWQ7XG4gICAgICByZXR1cm4gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG4gICAgICAgIHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4gZm4oLi4uYXJncyksIGRlbGF5KTtcbiAgICAgIH07XG4gICAgfTtcblxuICAgIC8vIEF1dG8tc2F2ZSBwb3VyIGwnYXBwYXJlbmNlIChpbW1cdTAwRTlkaWF0IHBvdXIgXHUwMEU5dml0ZXIgbGVzIHBlcnRlcylcbiAgICBjb25zdCBhdXRvU2F2ZUFwcGVhcmFuY2UgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlIHx8ICFhY3RpdmVCbG9ja0lkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGJsb2NrID0gZ2V0QWN0aXZlQmxvY2soKTtcbiAgICAgIGNvbnN0IGNvbmZpZyA9IGdldEJsb2NrRm9ybUNvbmZpZyhibG9jayk7XG4gICAgICBpZiAoIWJsb2NrIHx8ICFjb25maWcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgdmFsdWVzID0gY29sbGVjdEZvcm1WYWx1ZXMoY29uZmlnKTtcbiAgICAgIGNvbnN0IHVwZGF0ZWRCbG9ja3MgPSAoY3VycmVudFBhZ2UuYmxvY2tzIHx8IFtdKS5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIGlmIChlbnRyeS5pZCAhPT0gYmxvY2suaWQpIHtcbiAgICAgICAgICByZXR1cm4gZW50cnk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdXBkYXRlZFNldHRpbmdzID0geyAuLi4oZW50cnkuc2V0dGluZ3MgfHwge30pLCAuLi52YWx1ZXMgfTtcbiAgICAgICAgcmV0dXJuIHsgLi4uZW50cnksIHNldHRpbmdzOiB1cGRhdGVkU2V0dGluZ3MgfTtcbiAgICAgIH0pO1xuICAgICAgLy8gTWlzZSBcdTAwRTAgam91ciBzaWxlbmNpZXVzZSAoc2FucyB0b2FzdCBuaSByZWZyZXNoIGNvbXBsZXQpXG4gICAgICBjb25zdCBuZXh0UGFnZSA9IHsgLi4uY3VycmVudFBhZ2UsIGJsb2NrczogdXBkYXRlZEJsb2NrcyB9O1xuICAgICAgY3VycmVudFBhZ2UgPSBuZXh0UGFnZTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHNhdmVkID0gYXdhaXQgc2F2ZVBhZ2VUb1NlcnZlcihuZXh0UGFnZSk7XG4gICAgICAgIGlmIChzYXZlZD8uaWQpIHtcbiAgICAgICAgICBjb25zdCBub3JtYWxpemVkID0gbm9ybWFsaXplUGFnZURhdGEoc2F2ZWQpO1xuICAgICAgICAgIGN1cnJlbnRQYWdlID0gbm9ybWFsaXplZDtcbiAgICAgICAgICBwYWdlcyA9IHBhZ2VzLm1hcCgocCkgPT4gKHAuaWQgPT09IG5vcm1hbGl6ZWQuaWQgPyBub3JtYWxpemVkIDogcCkpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdbZGVzaWduXSBhdXRvLXNhdmUgYXBwZWFyYW5jZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBNaXNlIFx1MDBFMCBqb3VyIGxpdmUgZGUgbGEgcHJldmlldyB2aWEgcG9zdE1lc3NhZ2UgKHNhbnMgcmVjaGFyZ2VyIGwnaWZyYW1lKVxuICAgIGNvbnN0IHVwZGF0ZVByZXZpZXdCbG9ja0xpdmUgPSAoYmxvY2tJZCwgc2V0dGluZ3MpID0+IHtcbiAgICAgIGlmICghcHJldmlld0ZyYW1lIHx8ICFwcmV2aWV3RnJhbWUuY29udGVudFdpbmRvdykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBFbnZvaWUgbGVzIG5vdXZlbGxlcyBjbGFzc2VzIGF1IGJsb2MgZGFucyBsJ2lmcmFtZVxuICAgICAgcHJldmlld0ZyYW1lLmNvbnRlbnRXaW5kb3cucG9zdE1lc3NhZ2Uoe1xuICAgICAgICB0eXBlOiAndXBkYXRlQmxvY2tTdHlsZXMnLFxuICAgICAgICBibG9ja0lkLFxuICAgICAgICBzZXR0aW5ncyxcbiAgICAgIH0sICcqJyk7XG4gICAgfTtcblxuICAgIC8vIFJlZnJlc2ggcHJldmlldyBjb21wbGV0IGRlYm91bmNlZCAocG91ciBsZXMgY2hhbmdlbWVudHMgY29tcGxleGVzKVxuICAgIGNvbnN0IGRlYm91bmNlZFJlZnJlc2hQcmV2aWV3ID0gZGVib3VuY2UoKCkgPT4ge1xuICAgICAgaWYgKGN1cnJlbnRQYWdlKSB7XG4gICAgICAgIHJlZnJlc2hQcmV2aWV3KGN1cnJlbnRQYWdlKTtcbiAgICAgIH1cbiAgICB9LCAxNTAwKTtcblxuICAgIC8vIE1pc2UgXHUwMEUwIGpvdXIgbGl2ZSBpbW1cdTAwRTlkaWF0ZSAocG91ciBsYSBwcmV2aWV3KVxuICAgIGNvbnN0IGhhbmRsZUFwcGVhcmFuY2VDaGFuZ2UgPSAoYmxvY2tJZCwgc2V0dGluZ3MpID0+IHtcbiAgICAgIHVwZGF0ZVByZXZpZXdCbG9ja0xpdmUoYmxvY2tJZCwgc2V0dGluZ3MpO1xuICAgICAgdXBkYXRlUHJldmlld1N0YXR1cygnTW9kaWZpY2F0aW9uXHUyMDI2Jyk7XG4gICAgICBhdXRvU2F2ZUFwcGVhcmFuY2UoKVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgdXBkYXRlUHJldmlld1N0YXR1cygnU2F1dmVnYXJkXHUwMEU5Jyk7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB1cGRhdGVQcmV2aWV3U3RhdHVzKCdcdTAwQzAgam91cicpLCAxNTAwKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKCgpID0+IHVwZGF0ZVByZXZpZXdTdGF0dXMoJ0VycmV1ciBkZSBzYXV2ZWdhcmRlJykpO1xuICAgICAgLy8gUmVmcmVzaCBjb21wbGV0IGFwclx1MDBFOHMgdW4gZFx1MDBFOWxhaSBwbHVzIGxvbmcgKHBvdXIgbGVzIGNoYW5nZW1lbnRzIGRlIGxheW91dCwgZXRjLilcbiAgICAgIGRlYm91bmNlZFJlZnJlc2hQcmV2aWV3KCk7XG4gICAgfTtcblxuICAgIGNvbnN0IHJlZnJlc2hQcmV2aWV3ID0gKHBhZ2UpID0+IHtcbiAgICAgIGlmICghcHJldmlld0ZyYW1lIHx8ICFwYWdlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHByZXZpZXdTaXRlU2x1ZyA9IHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJyc7XG4gICAgICBjb25zdCBzZXJpYWxpemVkUGFnZXMgPSBwYWdlcy5tYXAoKGVudHJ5KSA9PiAoe1xuICAgICAgICBpZDogZW50cnkuaWQsXG4gICAgICAgIHNsdWc6IGVudHJ5LnNsdWcsXG4gICAgICAgIHRpdGxlOiBlbnRyeS50aXRsZSxcbiAgICAgICAgbmFtZTogZW50cnkubmFtZSxcbiAgICAgICAgYWNjZXNzaWJpbGl0eTogZW50cnkuYWNjZXNzaWJpbGl0eSxcbiAgICAgIH0pKTtcbiAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgIHBhZ2U6IHNlcmlhbGl6ZVBhZ2VGb3JQcmV2aWV3KHBhZ2UpLFxuICAgICAgICBzaXRlOiB7XG4gICAgICAgICAgdGl0bGU6IHN0b3JlZFNpdGUubmFtZSB8fCAnU2l0ZScsXG4gICAgICAgICAgc2x1ZzogcHJldmlld1NpdGVTbHVnLFxuICAgICAgICAgIHBhZ2VzOiBzZXJpYWxpemVkUGFnZXMsXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgICAgcHJldmlld1JlYWR5ID0gZmFsc2U7XG4gICAgICB1cGRhdGVQcmV2aWV3U3RhdHVzKCdBY3R1YWxpc2F0aW9uXHUyMDI2Jyk7XG4gICAgICBwcmV2aWV3RnJhbWUuc3JjZG9jID0gZ2V0TG9hZGluZ1ByZXZpZXdIdG1sKCk7XG4gICAgICBpZiAocHJldmlld1JlcXVlc3RDb250cm9sbGVyKSB7XG4gICAgICAgIHByZXZpZXdSZXF1ZXN0Q29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgfVxuICAgICAgY29uc3QgY29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICAgIHByZXZpZXdSZXF1ZXN0Q29udHJvbGxlciA9IGNvbnRyb2xsZXI7XG4gICAgICBmZXRjaCgnL2FwaS9wcmV2aWV3Jywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICBzaWduYWw6IGNvbnRyb2xsZXIuc2lnbmFsLFxuICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQcmV2aWV3IGVycm9yJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgICAgaWYgKGNvbnRyb2xsZXIuc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgbGF0ZXN0UHJldmlld0h0bWwgPSBkYXRhLmh0bWwgfHwgJyc7XG4gICAgICAgICAgcHJldmlld0ZyYW1lLnNldEF0dHJpYnV0ZShcbiAgICAgICAgICAgICd0aXRsZScsXG4gICAgICAgICAgICBgUHJcdTAwRTl2aXN1YWxpc2F0aW9uIGRlIGxhIHBhZ2UgJHtwYWdlLnRpdGxlIHx8ICcnfWAudHJpbSgpLFxuICAgICAgICAgICk7XG4gICAgICAgICAgcHJldmlld0ZyYW1lLnNyY2RvYyA9IGxhdGVzdFByZXZpZXdIdG1sIHx8IGdldExvYWRpbmdQcmV2aWV3SHRtbCgpO1xuICAgICAgICAgIHVwZGF0ZVByZXZpZXdTdGF0dXMoJ1x1MDBDMCBqb3VyJyk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICBpZiAoY29udHJvbGxlci5zaWduYWwuYWJvcnRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbcHJldmlld10gSW1wb3NzaWJsZSBkZSByZW5kcmUgbGEgcGFnZScsIGVycm9yKTtcbiAgICAgICAgICB1cGRhdGVQcmV2aWV3U3RhdHVzKCdFcnJldXIgcHJldmlldycpO1xuICAgICAgICAgIHByZXZpZXdGcmFtZS5zcmNkb2MgPVxuICAgICAgICAgICAgJzwhRE9DVFlQRSBodG1sPjxodG1sPjxib2R5IHN0eWxlPVwiZm9udC1mYW1pbHk6SW50ZXIsc2Fucy1zZXJpZjtwYWRkaW5nOjQwcHg7Y29sb3I6I2JlMTIzYztiYWNrZ3JvdW5kOiNmZmY7XCI+RXJyZXVyIGxvcnMgZHUgcmVuZHUgZGUgbGEgcHJcdTAwRTl2aXN1YWxpc2F0aW9uLjwvYm9keT48L2h0bWw+JztcbiAgICAgICAgfSlcbiAgICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICAgIGlmIChwcmV2aWV3UmVxdWVzdENvbnRyb2xsZXIgPT09IGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgIHByZXZpZXdSZXF1ZXN0Q29udHJvbGxlciA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZUJsb2NrRm9ybVN1Ym1pdCA9IChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmICghY3VycmVudFBhZ2UgfHwgIWFjdGl2ZUJsb2NrSWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgYmxvY2sgPSBnZXRBY3RpdmVCbG9jaygpO1xuICAgICAgY29uc3QgY29uZmlnID0gZ2V0QmxvY2tGb3JtQ29uZmlnKGJsb2NrKTtcbiAgICAgIGlmICghYmxvY2sgfHwgIWNvbmZpZykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCB2YWx1ZXMgPSBjb2xsZWN0Rm9ybVZhbHVlcyhjb25maWcpO1xuICAgICAgaWYgKGNvbmZpZy5zZWN0aW9uID09PSAnaW1hZ2UnKSB7XG4gICAgICAgIGNvbnN0IGFsdFZhbHVlID0gKHZhbHVlcy5hbHQgfHwgJycpLnRyaW0oKTtcbiAgICAgICAgdmFsdWVzLmFsdCA9IGFsdFZhbHVlO1xuICAgICAgICBpZiAoIWFsdFZhbHVlKSB7XG4gICAgICAgICAgc2hvd1RvYXN0KCdBam91dGUgdW4gdGV4dGUgYWx0ZXJuYXRpZiBwb3VyIGNldHRlIGltYWdlLicsICdlcnJvcicpO1xuICAgICAgICAgIGJsb2NrRm9ybT8ucXVlcnlTZWxlY3RvcignW25hbWU9XCJpbWFnZS1hbHRcIl0nKT8uZm9jdXMoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChjb25maWcuc2VjdGlvbiA9PT0gJ2NvbGxlY3Rpb24nKSB7XG4gICAgICAgIGlmICghdmFsdWVzLmNvbGxlY3Rpb25JZCkge1xuICAgICAgICAgIHNob3dUb2FzdCgnU1x1MDBFOWxlY3Rpb25uZXogdW5lIGNvbGxlY3Rpb24uJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhbHVlcy5saW1pdCA9IE1hdGgubWF4KDEsIE51bWJlcih2YWx1ZXMubGltaXQpIHx8IDEpO1xuICAgICAgfVxuICAgICAgY29uc3QgdXBkYXRlZEJsb2NrcyA9IChjdXJyZW50UGFnZS5ibG9ja3MgfHwgW10pLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgaWYgKGVudHJ5LmlkICE9PSBibG9jay5pZCkge1xuICAgICAgICAgIHJldHVybiBlbnRyeTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB1cGRhdGVkU2V0dGluZ3MgPSB7IC4uLihlbnRyeS5zZXR0aW5ncyB8fCB7fSksIC4uLnZhbHVlcyB9O1xuICAgICAgICBjb25zdCB1cGRhdGVkQmxvY2sgPSB7XG4gICAgICAgICAgLi4uZW50cnksXG4gICAgICAgICAgc2V0dGluZ3M6IHVwZGF0ZWRTZXR0aW5ncyxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGNvbmZpZy5sYWJlbEZpZWxkICYmIHZhbHVlc1tjb25maWcubGFiZWxGaWVsZF0pIHtcbiAgICAgICAgICB1cGRhdGVkQmxvY2subGFiZWwgPSB2YWx1ZXNbY29uZmlnLmxhYmVsRmllbGRdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb25maWcuZGVzY3JpcHRpb25GaWVsZCAmJiB2YWx1ZXNbY29uZmlnLmRlc2NyaXB0aW9uRmllbGRdKSB7XG4gICAgICAgICAgdXBkYXRlZEJsb2NrLmRlc2NyaXB0aW9uID0gdmFsdWVzW2NvbmZpZy5kZXNjcmlwdGlvbkZpZWxkXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29uZmlnLnNlY3Rpb24gPT09ICdjb2xsZWN0aW9uJykge1xuICAgICAgICAgIHVwZGF0ZWRCbG9jay5jb2xsZWN0aW9uSWQgPSB2YWx1ZXMuY29sbGVjdGlvbklkO1xuICAgICAgICAgIHVwZGF0ZWRCbG9jay5zZXR0aW5ncy5jb2xsZWN0aW9uSWQgPSB2YWx1ZXMuY29sbGVjdGlvbklkO1xuICAgICAgICAgIHVwZGF0ZWRCbG9jay5zZXR0aW5ncy5saW1pdCA9IHZhbHVlcy5saW1pdDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdXBkYXRlZEJsb2NrO1xuICAgICAgfSk7XG4gICAgICB1cGRhdGVDdXJyZW50UGFnZUJsb2Nrcyh1cGRhdGVkQmxvY2tzKTtcbiAgICAgIHNob3dUb2FzdCgnQmxvYyBtaXMgXHUwMEUwIGpvdXInKTtcbiAgICAgIHNldEFjdGl2ZVBhZ2UoY3VycmVudFBhZ2UuaWQsIHsgcHJlc2VydmVCbG9jazogdHJ1ZSB9KTtcbiAgICB9O1xuICAgIGNvbnN0IGRyYXdlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXBhZ2UtZHJhd2VyXScpO1xuICAgIGNvbnN0IGRyYXdlckJhY2tkcm9wID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1kcmF3ZXItYmFja2Ryb3BdJyk7XG4gICAgY29uc3QgZHJhd2VyT3BlbkJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1wYWdlLWRyYXdlci1vcGVuXScpO1xuICAgIGNvbnN0IGRyYXdlckNsb3NlQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXBhZ2UtZHJhd2VyLWNsb3NlXScpO1xuICAgIGNvbnN0IGFkZFBhZ2VUb2dnbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZGQtcGFnZS10b2dnbGVdJyk7XG4gICAgY29uc3QgYWRkUGFnZUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZGQtcGFnZS1mb3JtXScpO1xuICAgIGNvbnN0IGFkZFBhZ2VOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRkLXBhZ2UtbmFtZV0nKTtcbiAgICBjb25zdCBhZGRQYWdlVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZGQtcGFnZS10aXRsZV0nKTtcbiAgICBjb25zdCBhZGRQYWdlU2x1ZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFkZC1wYWdlLXNsdWddJyk7XG4gICAgY29uc3QgYWRkUGFnZUNhbmNlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFkZC1wYWdlLWNhbmNlbF0nKTtcbiAgICBjb25zdCBhZGRQYWdlRXJyb3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZGQtcGFnZS1lcnJvcl0nKTtcbiAgICBjb25zdCBhZGRQYWdlU3VibWl0QnV0dG9uID0gYWRkUGFnZUZvcm0/LnF1ZXJ5U2VsZWN0b3IoJ1t0eXBlPVwic3VibWl0XCJdJyk7XG4gICAgLy8gSW1wb3J0IEpTT04gZWxlbWVudHNcbiAgICBjb25zdCBpbXBvcnRUb2dnbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbXBvcnQtcGFnZXMtdG9nZ2xlXScpO1xuICAgIGNvbnN0IGltcG9ydE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaW1wb3J0LW1vZGFsXScpO1xuICAgIGNvbnN0IGltcG9ydENsb3NlQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWltcG9ydC1tb2RhbC1jbG9zZV0nKTtcbiAgICBjb25zdCBpbXBvcnREcm9wem9uZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWltcG9ydC1kcm9wem9uZV0nKTtcbiAgICBjb25zdCBpbXBvcnRGaWxlSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbXBvcnQtZmlsZS1pbnB1dF0nKTtcbiAgICBjb25zdCBpbXBvcnRGaWxlTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWltcG9ydC1maWxlLWxpc3RdJyk7XG4gICAgY29uc3QgaW1wb3J0RmlsZU5hbWVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaW1wb3J0LWZpbGUtbmFtZXNdJyk7XG4gICAgY29uc3QgaW1wb3J0UmVzdWx0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWltcG9ydC1yZXN1bHRzXScpO1xuICAgIGNvbnN0IGltcG9ydFJlc3VsdHNDb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaW1wb3J0LXJlc3VsdHMtY29udGVudF0nKTtcbiAgICBjb25zdCBpbXBvcnRTdWJtaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbXBvcnQtc3VibWl0XScpO1xuICAgIGNvbnN0IGltcG9ydFRhYnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1pbXBvcnQtdGFiXScpO1xuICAgIGNvbnN0IGltcG9ydFBhbmVscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWltcG9ydC1wYW5lbF0nKTtcbiAgICBjb25zdCBjb3B5VGVtcGxhdGVCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb3B5LXRlbXBsYXRlXScpO1xuICAgIGNvbnN0IHRlbXBsYXRlSnNvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRlbXBsYXRlLWpzb25dJyk7XG4gICAgLy8gUGFzdGUgSlNPTiBlbGVtZW50c1xuICAgIGNvbnN0IGltcG9ydFBhc3RlSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbXBvcnQtcGFzdGUtanNvbl0nKTtcbiAgICBjb25zdCBwYXN0ZUZvcm1hdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWZvcm1hdC1qc29uXScpO1xuICAgIGNvbnN0IHBhc3RlRXJyb3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbXBvcnQtcGFzdGUtZXJyb3JdJyk7XG4gICAgbGV0IGltcG9ydFNlbGVjdGVkRmlsZXMgPSBbXTtcbiAgICBsZXQgYWN0aXZlSW1wb3J0VGFiID0gJ3VwbG9hZCc7XG4gICAgLy8gRGVsZXRlIHBhZ2UgZWxlbWVudHNcbiAgICBjb25zdCBkZWxldGVQYWdlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZWxldGUtcGFnZS1tb2RhbF0nKTtcbiAgICBjb25zdCBkZWxldGVQYWdlTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlbGV0ZS1wYWdlLW5hbWVdJyk7XG4gICAgY29uc3QgZGVsZXRlUGFnZUNhbmNlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlbGV0ZS1wYWdlLWNhbmNlbF0nKTtcbiAgICBjb25zdCBkZWxldGVQYWdlQ29uZmlybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlbGV0ZS1wYWdlLWNvbmZpcm1dJyk7XG4gICAgbGV0IHBhZ2VUb0RlbGV0ZSA9IG51bGw7XG4gICAgY29uc3Qgc2l0ZUtleSA9XG4gICAgICBzdHJpcExlYWRpbmdTbGFzaCh3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICdkZWZhdWx0JykgfHwgJ2RlZmF1bHQnO1xuICAgIGNvbnN0IHNpdGVTbHVnVmFsdWUgPSB3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnO1xuICAgIGNvbnN0IHNhZmVTaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKHNpdGVTbHVnVmFsdWUpIHx8ICcnO1xuICAgIGNvbnN0IHBhZ2VzQXBpQmFzZSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9wYWdlc2BcbiAgICAgIDogbnVsbDtcbiAgICBjb25zdCBjb2xsZWN0aW9uc0FwaUJhc2UgPSBzYWZlU2l0ZVNsdWdcbiAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnKX0vY29sbGVjdGlvbnNgXG4gICAgICA6IG51bGw7XG4gICAgY29uc3Qgc3RvcmFnZUtleXMgPSB7XG4gICAgICBhY3RpdmU6IGBjbG93ZXI6YWN0aXZlUGFnZToke3NpdGVLZXl9YCxcbiAgICB9O1xuICAgIGNvbnN0IGNyZWF0ZUJsb2NrID0gKGlkLCBsYWJlbCwgdHlwZSwgc3RhdHVzLCBkZXNjcmlwdGlvbiwgcHJvcHMgPSBbXSwgc2V0dGluZ3MgPSB7fSkgPT4ge1xuICAgICAgY29uc3QgYmxvY2sgPSB7XG4gICAgICAgIGlkLFxuICAgICAgICBsYWJlbCxcbiAgICAgICAgdHlwZSxcbiAgICAgICAgc3RhdHVzLFxuICAgICAgICBkZXNjcmlwdGlvbixcbiAgICAgICAgcHJvcHMsXG4gICAgICAgIHNldHRpbmdzOiB7IC4uLnNldHRpbmdzIH0sXG4gICAgICB9O1xuICAgICAgaWYgKGJsb2NrLnNldHRpbmdzLmNvbGxlY3Rpb25JZCkge1xuICAgICAgICBibG9jay5jb2xsZWN0aW9uSWQgPSBibG9jay5zZXR0aW5ncy5jb2xsZWN0aW9uSWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmxvY2s7XG4gICAgfTtcbiAgICBjb25zdCBibG9ja0xpYnJhcnlEZWZpbml0aW9ucyA9IHtcbiAgICAgIGhlcm86IHtcbiAgICAgICAgdHlwZTogJ0hlcm8nLFxuICAgICAgICBsYWJlbDogJ0hlcm8gZGUgcGFnZScsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnU2VjdGlvbiBwbGVpbmUgbGFyZ2V1ciBhdmVjIENUQSBwcmluY2lwYWwuJyxcbiAgICAgICAgc3RhdHVzOiAnQnJvdWlsbG9uJyxcbiAgICAgICAgcHJvcHM6IFtcbiAgICAgICAgICB7IGxhYmVsOiAnQ1RBJywgdmFsdWU6ICdEXHUwMEU5Y291dnJpcicgfSxcbiAgICAgICAgICB7IGxhYmVsOiAnSGF1dGV1cicsIHZhbHVlOiAnODB2aCcgfSxcbiAgICAgICAgXSxcbiAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICB0aXRsZTogJ1RpdHJlIGR1IGhlcm8nLFxuICAgICAgICAgIHN1YnRpdGxlOiAnJyxcbiAgICAgICAgICBjdGFMYWJlbDogJ0RcdTAwRTljb3V2cmlyJyxcbiAgICAgICAgICBjdGFVcmw6ICcjJyxcbiAgICAgICAgICBpbWFnZTogJycsXG4gICAgICAgICAgYWxpZ246ICdjZW50ZXInLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIHBhcmFncmFwaDoge1xuICAgICAgICB0eXBlOiAnUGFyYWdyYXBoZScsXG4gICAgICAgIGxhYmVsOiAnQmxvYyBcdTAwRTlkaXRvcmlhbCcsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnUGFyYWdyYXBoZSBsaWJyZSBwb3VyIHJhY29udGVyIHZvdHJlIGhpc3RvaXJlLicsXG4gICAgICAgIHN0YXR1czogJ0Jyb3VpbGxvbicsXG4gICAgICAgIHByb3BzOiBbeyBsYWJlbDogJ0xvbmd1ZXVyJywgdmFsdWU6ICcxNTAgbW90cycgfV0sXG4gICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgdGl0bGU6ICdUaXRyZSBkdSBwYXJhZ3JhcGhlJyxcbiAgICAgICAgICBjb250ZW50OiAnJyxcbiAgICAgICAgICBhbGlnbjogJ2xlZnQnLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGltYWdlOiB7XG4gICAgICAgIHR5cGU6ICdJbWFnZScsXG4gICAgICAgIGxhYmVsOiAnQmxvYyBpbWFnZScsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnVmlzdWVsIHNldWwgYXZlYyBsXHUwMEU5Z2VuZGUgb3B0aW9ubmVsbGUuJyxcbiAgICAgICAgc3RhdHVzOiAnQnJvdWlsbG9uJyxcbiAgICAgICAgcHJvcHM6IFtcbiAgICAgICAgICB7IGxhYmVsOiAnUmF0aW8nLCB2YWx1ZTogJzE2OjknIH0sXG4gICAgICAgICAgeyBsYWJlbDogJ0xcdTAwRTlnZW5kZScsIHZhbHVlOiAnSW5hY3RpdmUnIH0sXG4gICAgICAgIF0sXG4gICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgc3JjOiAnJyxcbiAgICAgICAgICBhbHQ6ICcnLFxuICAgICAgICAgIHNob3dDYXB0aW9uOiBmYWxzZSxcbiAgICAgICAgICBjYXB0aW9uOiAnJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBncm91cDoge1xuICAgICAgICB0eXBlOiAnR3JvdXBlJyxcbiAgICAgICAgbGFiZWw6ICdHcm91cGUgZGUgc2VjdGlvbnMnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0NvbnRlbmV1ciBwb3VyIGltYnJpcXVlciBwbHVzaWV1cnMgc291cy1ibG9jcy4nLFxuICAgICAgICBzdGF0dXM6ICdCcm91aWxsb24nLFxuICAgICAgICBwcm9wczogW3sgbGFiZWw6ICdEaXNwb3NpdGlvbicsIHZhbHVlOiAnVmVydGljYWxlJyB9XSxcbiAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICBsYXlvdXQ6ICdncmlkJyxcbiAgICAgICAgICBjb2x1bW5zTW9iaWxlOiAnMScsXG4gICAgICAgICAgY29sdW1uc0Rlc2t0b3A6ICczJyxcbiAgICAgICAgICBtb2JpbGVMYXlvdXQ6ICdzdGFjaycsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgY29sbGVjdGlvbmdyaWQ6IHtcbiAgICAgICAgdHlwZTogJ0NvbGxlY3Rpb25HcmlkJyxcbiAgICAgICAgbGFiZWw6ICdHcmlsbGUgZGUgY29udGVudXMnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0FmZmljaGUgYXV0b21hdGlxdWVtZW50IGxlcyBpdGVtcyBkXHUyMDE5dW5lIGNvbGxlY3Rpb24uJyxcbiAgICAgICAgc3RhdHVzOiAnQnJvdWlsbG9uJyxcbiAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICBjb2xsZWN0aW9uSWQ6ICcnLFxuICAgICAgICAgIGxpbWl0OiA2LFxuICAgICAgICAgIG1vYmlsZUxheW91dDogJ3N0YWNrJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBmb3JtOiB7XG4gICAgICAgIHR5cGU6ICdGb3JtJyxcbiAgICAgICAgbGFiZWw6ICdGb3JtdWxhaXJlIGRlIGNvbnRhY3QnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0Zvcm11bGFpcmUgYXZlYyBlbnZvaSB2ZXJzIHVuIHNlcnZpY2UgZXh0ZXJuZS4nLFxuICAgICAgICBzdGF0dXM6ICdCcm91aWxsb24nLFxuICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgIGZvcm1UaXRsZTogJ0NvbnRhY3Rlei1ub3VzJyxcbiAgICAgICAgICBhY3Rpb25Vcmw6ICcnLFxuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIHNlcnZpY2VOYW1lOiAnJyxcbiAgICAgICAgICBzdWJtaXRMYWJlbDogJ0Vudm95ZXInLFxuICAgICAgICAgIHN1Y2Nlc3NNZXNzYWdlOiAnTWVyY2kgcG91ciB2b3RyZSBtZXNzYWdlICEnLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIG5ld3NsZXR0ZXJlbWJlZDoge1xuICAgICAgICB0eXBlOiAnTmV3c2xldHRlckVtYmVkJyxcbiAgICAgICAgbGFiZWw6ICdOZXdzbGV0dGVyIC8gRW1iZWQnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0ludFx1MDBFOWdyYXRpb24gZFxcJ3VuIGZvcm11bGFpcmUgbmV3c2xldHRlciBleHRlcm5lIChCcmV2bywgTWFpbGNoaW1wXHUyMDI2KS4nLFxuICAgICAgICBzdGF0dXM6ICdCcm91aWxsb24nLFxuICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgIHRpdGxlOiAnUmVzdGV6IGluZm9ybVx1MDBFOScsXG4gICAgICAgICAgc2VydmljZU5hbWU6ICcnLFxuICAgICAgICAgIGVtYmVkQ29kZTogJycsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH07XG4gICAgY29uc3QgcGVyc2lzdEFjdGl2ZVBhZ2UgPSAocGFnZUlkKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oc3RvcmFnZUtleXMuYWN0aXZlLCBwYWdlSWQpO1xuICAgICAgfSBjYXRjaCB7XG4gICAgICAgIC8qIGlnbm9yZSBzdG9yYWdlIGVycm9ycyAqL1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgZ2V0U3RvcmVkQWN0aXZlUGFnZSA9IChwYWdlcykgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgc3RvcmVkID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKHN0b3JhZ2VLZXlzLmFjdGl2ZSk7XG4gICAgICAgIGlmIChzdG9yZWQgJiYgcGFnZXMuc29tZSgocGFnZSkgPT4gcGFnZS5pZCA9PT0gc3RvcmVkKSkge1xuICAgICAgICAgIHJldHVybiBzdG9yZWQ7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2gge1xuICAgICAgICAvKiBpZ25vcmUgc3RvcmFnZSBlcnJvcnMgKi9cbiAgICAgIH1cbiAgICAgIHJldHVybiBwYWdlc1swXT8uaWQgfHwgbnVsbDtcbiAgICB9O1xuICAgIGNvbnN0IGZvcm1hdEJsb2NrQ291bnQgPSAoY291bnQpID0+IHtcbiAgICAgIGlmICghY291bnQgfHwgY291bnQgPD0gMCkge1xuICAgICAgICByZXR1cm4gJzAgYmxvYyc7XG4gICAgICB9XG4gICAgICByZXR1cm4gY291bnQgPT09IDEgPyAnMSBibG9jJyA6IGAke2NvdW50fSBibG9jc2A7XG4gICAgfTtcbiAgICBjb25zdCBub3JtYWxpemVQYWdlU2x1ZyA9ICh2YWx1ZSkgPT4ge1xuICAgICAgaWYgKCF2YWx1ZSB8fCB2YWx1ZSA9PT0gJy8nKSB7XG4gICAgICAgIHJldHVybiAnLyc7XG4gICAgICB9XG4gICAgICBjb25zdCBiYXNlID0gd29ya3NwYWNlU2x1Z2lmeSh2YWx1ZS5yZXBsYWNlKC9eXFwvLywgJycpKTtcbiAgICAgIHJldHVybiBiYXNlID8gYC8ke2Jhc2V9YCA6ICcvJztcbiAgICB9O1xuICAgIGNvbnN0IGdlbmVyYXRlQmxvY2tJZCA9IChwYWdlSWQgPSAncGFnZScsIGtleSA9ICdibG9jaycpID0+XG4gICAgICBgJHtwYWdlSWR9LSR7a2V5fS0ke0RhdGUubm93KCkudG9TdHJpbmcoMzYpfS0ke01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDApfWA7XG4gICAgY29uc3QgY3JlYXRlSW5pdGlhbEJsb2NrcyA9IChwYWdlSWQsIHRpdGxlKSA9PiBbXG4gICAgICBjcmVhdGVCbG9jayhcbiAgICAgICAgZ2VuZXJhdGVCbG9ja0lkKHBhZ2VJZCwgJ2ludHJvJyksXG4gICAgICAgICdJbnRyb2R1Y3Rpb24nLFxuICAgICAgICAnUGFyYWdyYXBoZScsXG4gICAgICAgICdCcm91aWxsb24nLFxuICAgICAgICBgUGFyYWdyYXBoZSBpbnRyb2R1Y3RpZiBwb3VyIFwiJHt0aXRsZX1cIi5gLFxuICAgICAgICBbeyBsYWJlbDogJ0xvbmd1ZXVyJywgdmFsdWU6ICcyIHBhcmFncmFwaGVzJyB9XSxcbiAgICAgICAge1xuICAgICAgICAgIHRpdGxlOiBgSW50cm9kdWN0aW9uIFx1MDBFMCAke3RpdGxlfWAsXG4gICAgICAgICAgY29udGVudDogJ0Fqb3V0ZXogdm90cmUgcHJlbWllciBwYXJhZ3JhcGhlIGRlIHByXHUwMEU5c2VudGF0aW9uLicsXG4gICAgICAgICAgYWxpZ246ICdsZWZ0JyxcbiAgICAgICAgfSxcbiAgICAgICksXG4gICAgICBjcmVhdGVCbG9jayhcbiAgICAgICAgZ2VuZXJhdGVCbG9ja0lkKHBhZ2VJZCwgJ2NvbnRlbnQnKSxcbiAgICAgICAgJ1pvbmUgZGUgY29udGVudScsXG4gICAgICAgICdHcm91cGUnLFxuICAgICAgICAnQnJvdWlsbG9uJyxcbiAgICAgICAgJ1NlY3Rpb24gcHJpbmNpcGFsZSBcdTAwRTAgY29tcG9zZXIgYXZlYyB0ZXh0ZXMgZXQgdmlzdWVscy4nLFxuICAgICAgICBbeyBsYWJlbDogJ0NvbG9ubmVzJywgdmFsdWU6ICdBdXRvJyB9XSxcbiAgICAgICAge1xuICAgICAgICAgIGxheW91dDogJ2dyaWQnLFxuICAgICAgICAgIGNvbHVtbnNNb2JpbGU6ICcxJyxcbiAgICAgICAgICBjb2x1bW5zRGVza3RvcDogJzInLFxuICAgICAgICAgIG1vYmlsZUxheW91dDogJ3N0YWNrJyxcbiAgICAgICAgfSxcbiAgICAgICksXG4gICAgXTtcbiAgICBjb25zdCBzZXRBY3RpdmVMYWJlbHMgPSAocGFnZSkgPT4ge1xuICAgICAgaWYgKGFjdGl2ZVRpdGxlKSB7XG4gICAgICAgIC8vIFVzZSBwYWdlLm5hbWUgKHNob3J0IG5hbWUpIGlmIGF2YWlsYWJsZSwgZmFsbGJhY2sgdG8gdGl0bGVcbiAgICAgICAgYWN0aXZlVGl0bGUudGV4dENvbnRlbnQgPSBwYWdlPy5uYW1lIHx8IHBhZ2U/LnRpdGxlIHx8ICdQYWdlJztcbiAgICAgIH1cbiAgICAgIGlmIChhY3RpdmVTbHVnKSB7XG4gICAgICAgIGFjdGl2ZVNsdWcudGV4dENvbnRlbnQgPSBwYWdlPy5zbHVnIHx8ICcvJztcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHJlbmRlclByZXZpZXdNZXRhID0gKHBhZ2UpID0+IHtcbiAgICAgIGlmICghcHJldmlld1RhZ3MpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcHJldmlld1RhZ3MuaW5uZXJIVE1MID0gJyc7XG4gICAgICBjb25zdCB0YWdzID1cbiAgICAgICAgcGFnZSAmJiBwYWdlLmJhZGdlcyAmJiBwYWdlLmJhZGdlcy5sZW5ndGggPiAwID8gcGFnZS5iYWRnZXMgOiBbJ1N0cnVjdHVyZSBlbiBjb3VycyddO1xuICAgICAgdGFncy5mb3JFYWNoKCh0YWcpID0+IHtcbiAgICAgICAgY29uc3QgYmFkZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgIGJhZGdlLmNsYXNzTmFtZSA9ICdyb3VuZGVkLWZ1bGwgYmctc2xhdGUtMTAwIHB4LTMgcHktMSc7XG4gICAgICAgIGJhZGdlLnRleHRDb250ZW50ID0gdGFnO1xuICAgICAgICBwcmV2aWV3VGFncy5hcHBlbmRDaGlsZChiYWRnZSk7XG4gICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IGdldFN0YXR1c0JhZGdlQ2xhc3NlcyA9IChzdGF0dXMpID0+IHtcbiAgICAgIHN3aXRjaCAoKHN0YXR1cyB8fCAnJykudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICBjYXNlICdlbiBsaWduZSc6XG4gICAgICAgICAgcmV0dXJuICdiZy1lbWVyYWxkLTUwIHRleHQtZW1lcmFsZC03MDAnO1xuICAgICAgICBjYXNlICdicm91aWxsb24nOlxuICAgICAgICAgIHJldHVybiAnYmctYW1iZXItNTAgdGV4dC1hbWJlci03MDAnO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiAnYmctc2xhdGUtMTAwIHRleHQtc2xhdGUtNjAwJztcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHJlbmRlckJsb2NrRGV0YWlscyA9IChibG9jaykgPT4ge1xuICAgICAgaWYgKCFibG9ja0RldGFpbEVtcHR5IHx8ICFibG9ja0VkaXRvcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWJsb2NrKSB7XG4gICAgICAgIGJsb2NrRGV0YWlsRW1wdHkuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIGJsb2NrRWRpdG9yLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBibG9ja0VkaXRvclVuc3VwcG9ydGVkPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgYmxvY2tGb3JtPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgYmxvY2tEZXRhaWxTdGF0dXM/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBibG9ja0RldGFpbEVtcHR5LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgYmxvY2tFZGl0b3IuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBpZiAoYmxvY2tEZXRhaWxTdGF0dXMpIHtcbiAgICAgICAgaWYgKGJsb2NrLnN0YXR1cykge1xuICAgICAgICAgIGJsb2NrRGV0YWlsU3RhdHVzLnRleHRDb250ZW50ID0gYmxvY2suc3RhdHVzO1xuICAgICAgICAgIGJsb2NrRGV0YWlsU3RhdHVzLmNsYXNzTmFtZSA9IGByb3VuZGVkLWZ1bGwgcHgtMyBweS0xIHRleHQteHMgZm9udC1zZW1pYm9sZCAke2dldFN0YXR1c0JhZGdlQ2xhc3NlcyhcbiAgICAgICAgICAgIGJsb2NrLnN0YXR1cyxcbiAgICAgICAgICApfWA7XG4gICAgICAgICAgYmxvY2tEZXRhaWxTdGF0dXMuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYmxvY2tEZXRhaWxTdGF0dXMuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHBvcHVsYXRlQmxvY2tGb3JtKGJsb2NrKTtcbiAgICB9O1xuICAgIGNvbnN0IHJlYWRBY2NlbnRDb2xvciA9ICgpID0+IHtcbiAgICAgIGNvbnN0IGNvbXB1dGVkID0gZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLmdldFByb3BlcnR5VmFsdWUoJy0tY29sb3ItYWNjZW50Jyk7XG4gICAgICByZXR1cm4gY29tcHV0ZWQgPyBjb21wdXRlZC50cmltKCkgOiAnIzlDNkJGRic7XG4gICAgfTtcbiAgICBjb25zdCBhcHBseVByZXZpZXdIaWdobGlnaHQgPSAoYmxvY2tJZCkgPT4ge1xuICAgICAgaWYgKCFwcmV2aWV3RnJhbWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgZG9jID0gcHJldmlld0ZyYW1lLmNvbnRlbnREb2N1bWVudDtcbiAgICAgIGlmICghZG9jKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG5vZGVzID0gZG9jLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXByZXZpZXctYmxvY2tdJyk7XG4gICAgICBub2Rlcy5mb3JFYWNoKChub2RlKSA9PiB7XG4gICAgICAgIGlmIChub2RlLmRhdGFzZXQucHJldmlld0Jsb2NrID09PSBibG9ja0lkKSB7XG4gICAgICAgICAgbm9kZS5jbGFzc0xpc3QuYWRkKCdwcmV2aWV3LWJsb2NrLWFjdGl2ZScpO1xuICAgICAgICAgIGlmIChwcmV2aWV3UmVhZHkgJiYgYmxvY2tJZCkge1xuICAgICAgICAgICAgbm9kZS5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiAnc21vb3RoJywgYmxvY2s6ICdjZW50ZXInLCBpbmxpbmU6ICduZWFyZXN0JyB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbm9kZS5jbGFzc0xpc3QucmVtb3ZlKCdwcmV2aWV3LWJsb2NrLWFjdGl2ZScpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmIChwcmV2aWV3SGlnaGxpZ2h0T3ZlcmxheSkge1xuICAgICAgICBjb25zdCBhY2NlbnQgPSByZWFkQWNjZW50Q29sb3IoKTtcbiAgICAgICAgcHJldmlld0hpZ2hsaWdodE92ZXJsYXkuc3R5bGUuYm9yZGVyQ29sb3IgPSBibG9ja0lkID8gYWNjZW50IDogJ3RyYW5zcGFyZW50JztcbiAgICAgICAgcHJldmlld0hpZ2hsaWdodE92ZXJsYXkuc3R5bGUub3BhY2l0eSA9IGJsb2NrSWQgPyAnMC41JyA6ICcwJztcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHByZXZpZXdWaWV3UHJlc2V0cyA9IHtcbiAgICAgIGRlc2t0b3A6IHsgd2lkdGg6ICcxMDAlJywgaGVpZ2h0OiAnNjQwcHgnLCBtYXhXaWR0aDogJycsIG1hcmdpbjogJzAnIH0sXG4gICAgICBtb2JpbGU6IHsgd2lkdGg6ICczNzVweCcsIGhlaWdodDogJzc4MHB4JywgbWF4V2lkdGg6ICczNzVweCcsIG1hcmdpbjogJzAgYXV0bycgfSxcbiAgICB9O1xuICAgIGNvbnN0IHNldFByZXZpZXdWaWV3ID0gKHZpZXcpID0+IHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IHByZXZpZXdWaWV3UHJlc2V0c1t2aWV3XSA/IHZpZXcgOiAnZGVza3RvcCc7XG4gICAgICBwcmV2aWV3Vmlld0J1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICAgIGNvbnN0IGlzQWN0aXZlID0gYnV0dG9uLmRhdGFzZXQucHJldmlld1ZpZXcgPT09IHRhcmdldDtcbiAgICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZSgnYXJpYS1wcmVzc2VkJywgaXNBY3RpdmUgPyAndHJ1ZScgOiAnZmFsc2UnKTtcbiAgICAgICAgaWYgKGlzQWN0aXZlKSB7XG4gICAgICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2JnLXNsYXRlLTkwMCcsICd0ZXh0LXdoaXRlJyk7XG4gICAgICAgICAgYnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2JnLXNsYXRlLTIwMCcsICd0ZXh0LXNsYXRlLTUwMCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdiZy1zbGF0ZS05MDAnLCAndGV4dC13aGl0ZScpO1xuICAgICAgICAgIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdiZy1zbGF0ZS0yMDAnLCAndGV4dC1zbGF0ZS01MDAnKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBjb25zdCBzdHlsZXMgPSBwcmV2aWV3Vmlld1ByZXNldHNbdGFyZ2V0XTtcbiAgICAgIGlmIChwcmV2aWV3RnJhbWUpIHtcbiAgICAgICAgcHJldmlld0ZyYW1lLnN0eWxlLndpZHRoID0gc3R5bGVzLndpZHRoO1xuICAgICAgICBwcmV2aWV3RnJhbWUuc3R5bGUuaGVpZ2h0ID0gc3R5bGVzLmhlaWdodDtcbiAgICAgICAgcHJldmlld0ZyYW1lLnN0eWxlLm1heFdpZHRoID0gc3R5bGVzLm1heFdpZHRoO1xuICAgICAgICBwcmV2aWV3RnJhbWUuc3R5bGUubWFyZ2luID0gc3R5bGVzLm1hcmdpbjtcbiAgICAgIH1cbiAgICAgIGlmIChwcmV2aWV3RnJhbWVXcmFwcGVyKSB7XG4gICAgICAgIHByZXZpZXdGcmFtZVdyYXBwZXIuc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgICAgIHByZXZpZXdGcmFtZVdyYXBwZXIuc3R5bGUubWluSGVpZ2h0ID0gc3R5bGVzLmhlaWdodDtcbiAgICAgICAgcHJldmlld0ZyYW1lV3JhcHBlci5zdHlsZS5tYXhXaWR0aCA9IHN0eWxlcy5tYXhXaWR0aCB8fCAnMTAwJSc7XG4gICAgICB9XG4gICAgICBpZiAocHJldmlld1NoZWxsKSB7XG4gICAgICAgIHByZXZpZXdTaGVsbC5kYXRhc2V0LnByZXZpZXdTaGVsbFZpZXcgPSB0YXJnZXQ7XG4gICAgICB9XG4gICAgICBpZiAocHJldmlld0N1cnJlbnRWaWV3TGFiZWwpIHtcbiAgICAgICAgcHJldmlld0N1cnJlbnRWaWV3TGFiZWwudGV4dENvbnRlbnQgPSB0YXJnZXQgPT09ICdtb2JpbGUnID8gJ1Z1ZSBtb2JpbGUnIDogJ1Z1ZSBidXJlYXUnO1xuICAgICAgfVxuICAgIH07XG4gICAgLy8gRm9uY3Rpb24gcG91ciBjclx1MDBFOWVyIHVuIFx1MDBFOWxcdTAwRTltZW50IGRlIGJsb2MgKHV0aWxpc1x1MDBFOSBwb3VyIGxlcyBibG9jcyBldCBsZXMgZW5mYW50cyBkZSBncm91cGUpXG4gICAgY29uc3QgY3JlYXRlQmxvY2tJdGVtRWxlbWVudCA9IChibG9jaywgaXNOZXN0ZWQgPSBmYWxzZSwgcGFyZW50SWQgPSBudWxsKSA9PiB7XG4gICAgICBjb25zdCBpc0FjdGl2ZSA9IGJsb2NrLmlkID09PSBhY3RpdmVCbG9ja0lkO1xuICAgICAgY29uc3QgYmxvY2tUeXBlID0gKGJsb2NrLnR5cGUgfHwgJycpLnRvTG93ZXJDYXNlKCk7XG4gICAgICBjb25zdCBpc0dyb3VwID0gYmxvY2tUeXBlID09PSAnZ3JvdXBlJyB8fCBibG9ja1R5cGUgPT09ICdncm91cCcgfHwgYmxvY2tUeXBlID09PSAnc2VjdGlvbnMnIHx8IGJsb2NrVHlwZSA9PT0gJ2dyaWQnO1xuICAgICAgXG4gICAgICBjb25zdCBpdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBpdGVtLmRhdGFzZXQuYmxvY2tJdGVtID0gJ3RydWUnO1xuICAgICAgaXRlbS5kYXRhc2V0LmJsb2NrSWQgPSBibG9jay5pZDtcbiAgICAgIGlmIChwYXJlbnRJZCkgaXRlbS5kYXRhc2V0LnBhcmVudEJsb2NrSWQgPSBwYXJlbnRJZDtcbiAgICAgIGlmIChpc0dyb3VwKSBpdGVtLmRhdGFzZXQuaXNHcm91cCA9ICd0cnVlJztcbiAgICAgIGl0ZW0uc2V0QXR0cmlidXRlKCdyb2xlJywgJ29wdGlvbicpO1xuICAgICAgaXRlbS5zZXRBdHRyaWJ1dGUoJ2FyaWEtc2VsZWN0ZWQnLCBpc0FjdGl2ZSA/ICd0cnVlJyA6ICdmYWxzZScpO1xuICAgICAgaXRlbS5zZXRBdHRyaWJ1dGUoJ2RyYWdnYWJsZScsICd0cnVlJyk7XG4gICAgICBpdGVtLnRhYkluZGV4ID0gMDtcbiAgICAgIGl0ZW0uY2xhc3NOYW1lID0gW1xuICAgICAgICAncmVsYXRpdmUgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTMgcm91bmRlZC0yeGwgYm9yZGVyIHB4LTMgcHktMiB0ZXh0LWxlZnQgdHJhbnNpdGlvbiBncm91cCcsXG4gICAgICAgIGlzTmVzdGVkID8gJ21sLTYgYm9yZGVyLWRhc2hlZCcgOiAnJyxcbiAgICAgICAgaXNBY3RpdmVcbiAgICAgICAgICA/ICdiZy1zbGF0ZS0xMDAgYm9yZGVyLVsjOUM2QkZGXS80MCBzaGFkb3ctc20nXG4gICAgICAgICAgOiAnYm9yZGVyLXNsYXRlLTIwMCBob3Zlcjpib3JkZXItWyM5QzZCRkZdLzQwJyxcbiAgICAgIF0uam9pbignICcpO1xuICAgICAgXG4gICAgICBjb25zdCBhY2NlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICBhY2NlbnQuY2xhc3NOYW1lID0gYGFic29sdXRlIGluc2V0LXktMiBsZWZ0LTAgdy0xIHJvdW5kZWQtZnVsbCBiZy1bIzlDNkJGRl0gJHtpc0FjdGl2ZSA/ICcnIDogJ2hpZGRlbid9YDtcbiAgICAgIGl0ZW0uYXBwZW5kQ2hpbGQoYWNjZW50KTtcblxuICAgICAgY29uc3QgY29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgY29udGVudC5jbGFzc05hbWUgPSAnZmxleCBmbGV4LTEgaXRlbXMtY2VudGVyIGdhcC0zJztcbiAgICAgIFxuICAgICAgY29uc3QgaGFuZGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBoYW5kbGUuY2xhc3NOYW1lID0gJ2hpZGRlbiBsZzpmbGV4IGN1cnNvci1ncmFiIGFjdGl2ZTpjdXJzb3ItZ3JhYmJpbmcgZmxleC1zaHJpbmstMCBpdGVtcy1jZW50ZXIgdGV4dC1sZyB0ZXh0LXNsYXRlLTQwMCBob3Zlcjp0ZXh0LXNsYXRlLTYwMCB0cmFuc2l0aW9uLWNvbG9ycyBzZWxlY3Qtbm9uZSc7XG4gICAgICBoYW5kbGUuaW5uZXJIVE1MID0gJ1x1MjJFRVx1MjJFRSc7XG4gICAgICBoYW5kbGUuc2V0QXR0cmlidXRlKCd0aXRsZScsICdHbGlzc2VyIHBvdXIgclx1MDBFOW9yZG9ubmVyJyk7XG4gICAgICBjb250ZW50LmFwcGVuZENoaWxkKGhhbmRsZSk7XG5cbiAgICAgIGNvbnN0IHRleHRXcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICB0ZXh0V3JhcHBlci5jbGFzc05hbWUgPSAnZmxleC0xJztcbiAgICAgIFxuICAgICAgY29uc3QgbWV0YSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgbWV0YS5jbGFzc05hbWUgPSAnZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgdGV4dC1bMTFweF0gdXBwZXJjYXNlIHRyYWNraW5nLXdpZGUgdGV4dC1zbGF0ZS01MDAnO1xuICAgICAgXG4gICAgICBjb25zdCB0eXBlQmFkZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICB0eXBlQmFkZ2UuY2xhc3NOYW1lID0gJ3JvdW5kZWQtZnVsbCBiZy1zbGF0ZS0xMDAgcHgtMiBweS0wLjUgdGV4dC1bMTBweF0gZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTYwMCc7XG4gICAgICB0eXBlQmFkZ2UudGV4dENvbnRlbnQgPSBibG9jay50eXBlO1xuICAgICAgXG4gICAgICBjb25zdCBzdGF0dXNCYWRnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgIHN0YXR1c0JhZGdlLmNsYXNzTmFtZSA9ICd0ZXh0LXNsYXRlLTQwMCc7XG4gICAgICBzdGF0dXNCYWRnZS50ZXh0Q29udGVudCA9IGJsb2NrLnN0YXR1cztcbiAgICAgIFxuICAgICAgbWV0YS5hcHBlbmRDaGlsZCh0eXBlQmFkZ2UpO1xuICAgICAgaWYgKGlzR3JvdXApIHtcbiAgICAgICAgY29uc3QgY2hpbGRDb3VudCA9IChibG9jay5jaGlsZHJlbiB8fCBbXSkubGVuZ3RoO1xuICAgICAgICBjb25zdCBjaGlsZEJhZGdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICBjaGlsZEJhZGdlLmNsYXNzTmFtZSA9ICdyb3VuZGVkLWZ1bGwgYmctdmlvbGV0LTEwMCBweC0yIHB5LTAuNSB0ZXh0LVsxMHB4XSBmb250LXNlbWlib2xkIHRleHQtdmlvbGV0LTYwMCc7XG4gICAgICAgIGNoaWxkQmFkZ2UudGV4dENvbnRlbnQgPSBgJHtjaGlsZENvdW50fSBcdTAwRTlsXHUwMEU5bWVudCR7Y2hpbGRDb3VudCAhPT0gMSA/ICdzJyA6ICcnfWA7XG4gICAgICAgIG1ldGEuYXBwZW5kQ2hpbGQoY2hpbGRCYWRnZSk7XG4gICAgICB9XG4gICAgICBtZXRhLmFwcGVuZENoaWxkKHN0YXR1c0JhZGdlKTtcbiAgICAgIFxuICAgICAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgICB0aXRsZS5jbGFzc05hbWUgPSAnbXQtMSB0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgdGV4dC1zbGF0ZS05MDAnO1xuICAgICAgY29uc3QgZGlzcGxheUxhYmVsID0gKGJsb2NrLnNldHRpbmdzICYmIGJsb2NrLnNldHRpbmdzLnRpdGxlKSB8fCBibG9jay5sYWJlbCB8fCAnQmxvYyBzYW5zIHRpdHJlJztcbiAgICAgIHRpdGxlLnRleHRDb250ZW50ID0gZGlzcGxheUxhYmVsO1xuICAgICAgXG4gICAgICB0ZXh0V3JhcHBlci5hcHBlbmRDaGlsZChtZXRhKTtcbiAgICAgIHRleHRXcmFwcGVyLmFwcGVuZENoaWxkKHRpdGxlKTtcbiAgICAgIFxuICAgICAgaWYgKGJsb2NrVHlwZSA9PT0gJ2NvbGxlY3Rpb25ncmlkJyAmJiBibG9jay5jb2xsZWN0aW9uSWQpIHtcbiAgICAgICAgY29uc3QgY29sbGVjdGlvbk5hbWUgPSBkZXNpZ25Db2xsZWN0aW9ucy5maW5kKChlbnRyeSkgPT4gZW50cnkuaWQgPT09IGJsb2NrLmNvbGxlY3Rpb25JZCk/Lm5hbWUgfHwgYmxvY2suY29sbGVjdGlvbklkO1xuICAgICAgICBjb25zdCBpbmZvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgICAgICBpbmZvLmNsYXNzTmFtZSA9ICd0ZXh0LXhzIHRleHQtc2xhdGUtNDAwJztcbiAgICAgICAgaW5mby50ZXh0Q29udGVudCA9IGBDb2xsZWN0aW9uIDogJHtjb2xsZWN0aW9uTmFtZX1gO1xuICAgICAgICB0ZXh0V3JhcHBlci5hcHBlbmRDaGlsZChpbmZvKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29udGVudC5hcHBlbmRDaGlsZCh0ZXh0V3JhcHBlcik7XG4gICAgICBpdGVtLmFwcGVuZENoaWxkKGNvbnRlbnQpO1xuXG4gICAgICBjb25zdCBhY3Rpb25zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBhY3Rpb25zLmNsYXNzTmFtZSA9ICdmbGV4IGZsZXgtY29sIGdhcC0xIHRleHQteHMgdGV4dC1zbGF0ZS00MDAnO1xuXG4gICAgICBjb25zdCBtb3ZlQnV0dG9ucyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgbW92ZUJ1dHRvbnMuY2xhc3NOYW1lID0gJ2ZsZXggaXRlbXMtY2VudGVyIGdhcC0xIGxnOmhpZGRlbic7XG4gICAgICBjb25zdCBtb3ZlVXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgIG1vdmVVcC50eXBlID0gJ2J1dHRvbic7XG4gICAgICBtb3ZlVXAuY2xhc3NOYW1lID0gJ3JvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1zbGF0ZS0yMDAgcHgtMiBweS0xIHRleHQtWzExcHhdIGZvbnQtc2VtaWJvbGQgdGV4dC1zbGF0ZS01MDAnO1xuICAgICAgbW92ZVVwLnRleHRDb250ZW50ID0gJ1x1MjE5MSc7XG4gICAgICBtb3ZlVXAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGlmIChwYXJlbnRJZCkge1xuICAgICAgICAgIG1vdmVDaGlsZEJsb2NrQnlPZmZzZXQocGFyZW50SWQsIGJsb2NrLmlkLCAtMSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbW92ZUJsb2NrQnlPZmZzZXQoYmxvY2suaWQsIC0xKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBjb25zdCBtb3ZlRG93biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgbW92ZURvd24udHlwZSA9ICdidXR0b24nO1xuICAgICAgbW92ZURvd24uY2xhc3NOYW1lID0gJ3JvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1zbGF0ZS0yMDAgcHgtMiBweS0xIHRleHQtWzExcHhdIGZvbnQtc2VtaWJvbGQgdGV4dC1zbGF0ZS01MDAnO1xuICAgICAgbW92ZURvd24udGV4dENvbnRlbnQgPSAnXHUyMTkzJztcbiAgICAgIG1vdmVEb3duLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBpZiAocGFyZW50SWQpIHtcbiAgICAgICAgICBtb3ZlQ2hpbGRCbG9ja0J5T2Zmc2V0KHBhcmVudElkLCBibG9jay5pZCwgMSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbW92ZUJsb2NrQnlPZmZzZXQoYmxvY2suaWQsIDEpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIG1vdmVCdXR0b25zLmFwcGVuZENoaWxkKG1vdmVVcCk7XG4gICAgICBtb3ZlQnV0dG9ucy5hcHBlbmRDaGlsZChtb3ZlRG93bik7XG4gICAgICBhY3Rpb25zLmFwcGVuZENoaWxkKG1vdmVCdXR0b25zKTtcblxuICAgICAgY29uc3QgZGVsZXRlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICBkZWxldGVCdXR0b24udHlwZSA9ICdidXR0b24nO1xuICAgICAgZGVsZXRlQnV0dG9uLmNsYXNzTmFtZSA9ICdpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLXRyYW5zcGFyZW50IHB4LTIgcHktMSB0ZXh0LVsxMnB4XSB0ZXh0LXJvc2UtNTAwIGhvdmVyOnRleHQtcm9zZS03MDAnO1xuICAgICAgZGVsZXRlQnV0dG9uLmlubmVySFRNTCA9ICdcdUQ4M0RcdURERDFcdUZFMEYnO1xuICAgICAgZGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBpZiAocGFyZW50SWQpIHtcbiAgICAgICAgICByZW1vdmVDaGlsZEZyb21Hcm91cChwYXJlbnRJZCwgYmxvY2suaWQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9wZW5CbG9ja0RlbGV0ZU1vZGFsKGJsb2NrLmlkKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGFjdGlvbnMuYXBwZW5kQ2hpbGQoZGVsZXRlQnV0dG9uKTtcbiAgICAgIGl0ZW0uYXBwZW5kQ2hpbGQoYWN0aW9ucyk7XG5cbiAgICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIHNldEFjdGl2ZUJsb2NrKGJsb2NrLmlkLCBwYXJlbnRJZCk7XG4gICAgICB9KTtcbiAgICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldmVudCkgPT4ge1xuICAgICAgICBpZiAoZXZlbnQua2V5ID09PSAnRW50ZXInIHx8IGV2ZW50LmtleSA9PT0gJyAnKSB7XG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBzZXRBY3RpdmVCbG9jayhibG9jay5pZCwgcGFyZW50SWQpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHsgaXRlbSwgaXNHcm91cCwgYmxvY2sgfTtcbiAgICB9O1xuICAgIFxuICAgIC8vIEZvbmN0aW9uIHBvdXIgY3JcdTAwRTllciBsYSB6b25lIGRlIGRyb3AgcG91ciB1biBncm91cGVcbiAgICBjb25zdCBjcmVhdGVHcm91cERyb3Bab25lID0gKHBhcmVudEJsb2NrKSA9PiB7XG4gICAgICBjb25zdCBkcm9wWm9uZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgZHJvcFpvbmUuZGF0YXNldC5ncm91cERyb3Bab25lID0gcGFyZW50QmxvY2suaWQ7XG4gICAgICBkcm9wWm9uZS5jbGFzc05hbWUgPSAnbWwtNiBib3JkZXItMiBib3JkZXItZGFzaGVkIGJvcmRlci1zbGF0ZS0yMDAgcm91bmRlZC14bCBwLTMgdGV4dC1jZW50ZXIgdGV4dC14cyB0ZXh0LXNsYXRlLTQwMCBob3Zlcjpib3JkZXItdmlvbGV0LTMwMCBob3ZlcjpiZy12aW9sZXQtNTAvNTAgdHJhbnNpdGlvbi1jb2xvcnMgY3Vyc29yLXBvaW50ZXInO1xuICAgICAgZHJvcFpvbmUuaW5uZXJIVE1MID0gJzxzcGFuIGNsYXNzPVwicG9pbnRlci1ldmVudHMtbm9uZVwiPlx1RDgzRFx1RENFNiBHbGlzc2V6IHVuIGJsb2MgaWNpIG91IGNsaXF1ZXogcG91ciBham91dGVyPC9zcGFuPic7XG4gICAgICBcbiAgICAgIC8vIFx1MDBDOXZcdTAwRTluZW1lbnRzIGRlIGRyYWcgJiBkcm9wXG4gICAgICBkcm9wWm9uZS5hZGRFdmVudExpc3RlbmVyKCdkcmFnb3ZlcicsIChlKSA9PiB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgZHJvcFpvbmUuY2xhc3NMaXN0LmFkZCgnYm9yZGVyLXZpb2xldC00MDAnLCAnYmctdmlvbGV0LTUwJyk7XG4gICAgICB9KTtcbiAgICAgIGRyb3Bab25lLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdsZWF2ZScsIChlKSA9PiB7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGRyb3Bab25lLmNsYXNzTGlzdC5yZW1vdmUoJ2JvcmRlci12aW9sZXQtNDAwJywgJ2JnLXZpb2xldC01MCcpO1xuICAgICAgfSk7XG4gICAgICBkcm9wWm9uZS5hZGRFdmVudExpc3RlbmVyKCdkcm9wJywgKGUpID0+IHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBkcm9wWm9uZS5jbGFzc0xpc3QucmVtb3ZlKCdib3JkZXItdmlvbGV0LTQwMCcsICdiZy12aW9sZXQtNTAnKTtcbiAgICAgICAgY29uc3QgYmxvY2tJZCA9IGUuZGF0YVRyYW5zZmVyLmdldERhdGEoJ3RleHQvcGxhaW4nKTtcbiAgICAgICAgaWYgKGJsb2NrSWQgJiYgYmxvY2tJZCAhPT0gcGFyZW50QmxvY2suaWQpIHtcbiAgICAgICAgICBtb3ZlQmxvY2tUb0dyb3VwKGJsb2NrSWQsIHBhcmVudEJsb2NrLmlkKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIC8vIENsaWMgcG91ciBham91dGVyIHVuIGJsb2MgYXUgZ3JvdXBlXG4gICAgICBkcm9wWm9uZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgb3BlbkFkZEJsb2NrVG9Hcm91cE1vZGFsKHBhcmVudEJsb2NrLmlkKTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICByZXR1cm4gZHJvcFpvbmU7XG4gICAgfTtcblxuICAgIGNvbnN0IHJlbmRlckJsb2NrTGlzdCA9IChwYWdlKSA9PiB7XG4gICAgICBpZiAoIWJsb2NrTGlzdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBibG9ja0xpc3QuaW5uZXJIVE1MID0gJyc7XG4gICAgICBjb25zdCBibG9ja3MgPSBwYWdlPy5ibG9ja3MgfHwgW107XG4gICAgICBpZiAoYmxvY2tDb3VudEJhZGdlKSB7XG4gICAgICAgIGJsb2NrQ291bnRCYWRnZS50ZXh0Q29udGVudCA9IGZvcm1hdEJsb2NrQ291bnQoYmxvY2tzLmxlbmd0aCk7XG4gICAgICB9XG4gICAgICBpZiAoYmxvY2tzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBibG9ja0xpc3QuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIGJsb2NrTGlzdEVtcHR5Py5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYmxvY2tMaXN0LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgYmxvY2tMaXN0RW1wdHk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgXG4gICAgICBibG9ja3MuZm9yRWFjaCgoYmxvY2spID0+IHtcbiAgICAgICAgY29uc3QgeyBpdGVtLCBpc0dyb3VwIH0gPSBjcmVhdGVCbG9ja0l0ZW1FbGVtZW50KGJsb2NrLCBmYWxzZSwgbnVsbCk7XG4gICAgICAgIGJsb2NrTGlzdC5hcHBlbmRDaGlsZChpdGVtKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFNpIGMnZXN0IHVuIGdyb3VwZSwgYWZmaWNoZXIgbGVzIGVuZmFudHMgZXQgbGEgem9uZSBkZSBkcm9wXG4gICAgICAgIGlmIChpc0dyb3VwKSB7XG4gICAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBibG9jay5jaGlsZHJlbiB8fCBbXTtcbiAgICAgICAgICBjaGlsZHJlbi5mb3JFYWNoKChjaGlsZCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyBpdGVtOiBjaGlsZEl0ZW0gfSA9IGNyZWF0ZUJsb2NrSXRlbUVsZW1lbnQoY2hpbGQsIHRydWUsIGJsb2NrLmlkKTtcbiAgICAgICAgICAgIGJsb2NrTGlzdC5hcHBlbmRDaGlsZChjaGlsZEl0ZW0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIC8vIFpvbmUgZGUgZHJvcCBwb3VyIGFqb3V0ZXIgZGVzIGJsb2NzIGF1IGdyb3VwZVxuICAgICAgICAgIGNvbnN0IGRyb3Bab25lID0gY3JlYXRlR3JvdXBEcm9wWm9uZShibG9jayk7XG4gICAgICAgICAgYmxvY2tMaXN0LmFwcGVuZENoaWxkKGRyb3Bab25lKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcbiAgICBcbiAgICAvLyBGb25jdGlvbnMgcG91ciBnXHUwMEU5cmVyIGxlcyBlbmZhbnRzIGRlcyBncm91cGVzXG4gICAgY29uc3QgbW92ZUJsb2NrVG9Hcm91cCA9IChibG9ja0lkLCBncm91cElkKSA9PiB7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlKSByZXR1cm47XG4gICAgICBjb25zdCBibG9ja0luZGV4ID0gY3VycmVudFBhZ2UuYmxvY2tzLmZpbmRJbmRleCgoYikgPT4gYi5pZCA9PT0gYmxvY2tJZCk7XG4gICAgICBjb25zdCBncm91cEJsb2NrID0gY3VycmVudFBhZ2UuYmxvY2tzLmZpbmQoKGIpID0+IGIuaWQgPT09IGdyb3VwSWQpO1xuICAgICAgaWYgKGJsb2NrSW5kZXggPT09IC0xIHx8ICFncm91cEJsb2NrKSByZXR1cm47XG4gICAgICBcbiAgICAgIC8vIE5lIHBhcyBwZXJtZXR0cmUgZGUgZFx1MDBFOXBsYWNlciB1biBncm91cGUgZGFucyB1biBncm91cGVcbiAgICAgIGNvbnN0IGJsb2NrID0gY3VycmVudFBhZ2UuYmxvY2tzW2Jsb2NrSW5kZXhdO1xuICAgICAgY29uc3QgYmxvY2tUeXBlID0gKGJsb2NrLnR5cGUgfHwgJycpLnRvTG93ZXJDYXNlKCk7XG4gICAgICBpZiAoYmxvY2tUeXBlID09PSAnZ3JvdXBlJyB8fCBibG9ja1R5cGUgPT09ICdncm91cCcpIHtcbiAgICAgICAgc2hvd1RvYXN0KCdJbXBvc3NpYmxlIGRcXCdpbWJyaXF1ZXIgZGVzIGdyb3VwZXMnLCAnZXJyb3InKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBSZXRpcmVyIGxlIGJsb2MgZGUgbGEgbGlzdGUgcHJpbmNpcGFsZVxuICAgICAgY29uc3QgW21vdmVkQmxvY2tdID0gY3VycmVudFBhZ2UuYmxvY2tzLnNwbGljZShibG9ja0luZGV4LCAxKTtcbiAgICAgIFxuICAgICAgLy8gQWpvdXRlciBhdSBncm91cGVcbiAgICAgIGlmICghZ3JvdXBCbG9jay5jaGlsZHJlbikgZ3JvdXBCbG9jay5jaGlsZHJlbiA9IFtdO1xuICAgICAgZ3JvdXBCbG9jay5jaGlsZHJlbi5wdXNoKG1vdmVkQmxvY2spO1xuICAgICAgXG4gICAgICByZW5kZXJCbG9ja0xpc3QoY3VycmVudFBhZ2UpO1xuICAgICAgc2F2ZVBhZ2VCbG9ja3MoKTtcbiAgICAgIHNob3dUb2FzdChgQmxvYyBham91dFx1MDBFOSBhdSBncm91cGVgKTtcbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IHJlbW92ZUNoaWxkRnJvbUdyb3VwID0gKGdyb3VwSWQsIGNoaWxkSWQpID0+IHtcbiAgICAgIGlmICghY3VycmVudFBhZ2UpIHJldHVybjtcbiAgICAgIGNvbnN0IGdyb3VwQmxvY2sgPSBjdXJyZW50UGFnZS5ibG9ja3MuZmluZCgoYikgPT4gYi5pZCA9PT0gZ3JvdXBJZCk7XG4gICAgICBpZiAoIWdyb3VwQmxvY2sgfHwgIWdyb3VwQmxvY2suY2hpbGRyZW4pIHJldHVybjtcbiAgICAgIFxuICAgICAgY29uc3QgY2hpbGRJbmRleCA9IGdyb3VwQmxvY2suY2hpbGRyZW4uZmluZEluZGV4KChjKSA9PiBjLmlkID09PSBjaGlsZElkKTtcbiAgICAgIGlmIChjaGlsZEluZGV4ID09PSAtMSkgcmV0dXJuO1xuICAgICAgXG4gICAgICAvLyBSZXRpcmVyIGwnZW5mYW50IGR1IGdyb3VwZSBldCBsZSByZW1ldHRyZSBkYW5zIGxhIGxpc3RlIHByaW5jaXBhbGUgYXByXHUwMEU4cyBsZSBncm91cGVcbiAgICAgIGNvbnN0IFtjaGlsZF0gPSBncm91cEJsb2NrLmNoaWxkcmVuLnNwbGljZShjaGlsZEluZGV4LCAxKTtcbiAgICAgIGNvbnN0IGdyb3VwSW5kZXggPSBjdXJyZW50UGFnZS5ibG9ja3MuZmluZEluZGV4KChiKSA9PiBiLmlkID09PSBncm91cElkKTtcbiAgICAgIGN1cnJlbnRQYWdlLmJsb2Nrcy5zcGxpY2UoZ3JvdXBJbmRleCArIDEsIDAsIGNoaWxkKTtcbiAgICAgIFxuICAgICAgcmVuZGVyQmxvY2tMaXN0KGN1cnJlbnRQYWdlKTtcbiAgICAgIHNhdmVQYWdlQmxvY2tzKCk7XG4gICAgICBzaG93VG9hc3QoYEJsb2Mgc29ydGkgZHUgZ3JvdXBlYCk7XG4gICAgfTtcbiAgICBcbiAgICBjb25zdCBtb3ZlQ2hpbGRCbG9ja0J5T2Zmc2V0ID0gKGdyb3VwSWQsIGNoaWxkSWQsIG9mZnNldCkgPT4ge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSkgcmV0dXJuO1xuICAgICAgY29uc3QgZ3JvdXBCbG9jayA9IGN1cnJlbnRQYWdlLmJsb2Nrcy5maW5kKChiKSA9PiBiLmlkID09PSBncm91cElkKTtcbiAgICAgIGlmICghZ3JvdXBCbG9jayB8fCAhZ3JvdXBCbG9jay5jaGlsZHJlbikgcmV0dXJuO1xuICAgICAgXG4gICAgICBjb25zdCBjdXJyZW50SW5kZXggPSBncm91cEJsb2NrLmNoaWxkcmVuLmZpbmRJbmRleCgoYykgPT4gYy5pZCA9PT0gY2hpbGRJZCk7XG4gICAgICBpZiAoY3VycmVudEluZGV4ID09PSAtMSkgcmV0dXJuO1xuICAgICAgXG4gICAgICBjb25zdCBuZXdJbmRleCA9IGN1cnJlbnRJbmRleCArIG9mZnNldDtcbiAgICAgIGlmIChuZXdJbmRleCA8IDAgfHwgbmV3SW5kZXggPj0gZ3JvdXBCbG9jay5jaGlsZHJlbi5sZW5ndGgpIHJldHVybjtcbiAgICAgIFxuICAgICAgY29uc3QgW2NoaWxkXSA9IGdyb3VwQmxvY2suY2hpbGRyZW4uc3BsaWNlKGN1cnJlbnRJbmRleCwgMSk7XG4gICAgICBncm91cEJsb2NrLmNoaWxkcmVuLnNwbGljZShuZXdJbmRleCwgMCwgY2hpbGQpO1xuICAgICAgXG4gICAgICByZW5kZXJCbG9ja0xpc3QoY3VycmVudFBhZ2UpO1xuICAgICAgc2F2ZVBhZ2VCbG9ja3MoKTtcbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IG9wZW5BZGRCbG9ja1RvR3JvdXBNb2RhbCA9IChncm91cElkKSA9PiB7XG4gICAgICAvLyBVdGlsaXNlciBsZSBtXHUwMEVBbWUgbW9kYWwgZCdham91dCBkZSBibG9jLCBtYWlzIGF2ZWMgbGUgY29udGV4dGUgZHUgZ3JvdXBlXG4gICAgICBwZW5kaW5nR3JvdXBJZEZvck5ld0Jsb2NrID0gZ3JvdXBJZDtcbiAgICAgIG9wZW5CbG9ja1BpY2tlcigpO1xuICAgIH07XG4gICAgXG4gICAgbGV0IHBlbmRpbmdHcm91cElkRm9yTmV3QmxvY2sgPSBudWxsO1xuXG4gICAgLy8gPT09IERlbGV0ZSBwYWdlIGhhbmRsZXJzIChkZWZpbmVkIGJlZm9yZSByZW5kZXJQYWdlTGlzdHMpID09PVxuICAgIGNvbnN0IG9wZW5EZWxldGVQYWdlTW9kYWwgPSAocGFnZSkgPT4ge1xuICAgICAgaWYgKCFkZWxldGVQYWdlTW9kYWwgfHwgIXBhZ2UpIHJldHVybjtcbiAgICAgIHBhZ2VUb0RlbGV0ZSA9IHBhZ2U7XG4gICAgICBpZiAoZGVsZXRlUGFnZU5hbWUpIGRlbGV0ZVBhZ2VOYW1lLnRleHRDb250ZW50ID0gcGFnZS50aXRsZSB8fCBwYWdlLmlkO1xuICAgICAgZGVsZXRlUGFnZU1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgZGVsZXRlUGFnZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2ZsZXgnKTtcbiAgICAgIGFjdGl2YXRlTW9kYWwoZGVsZXRlUGFnZU1vZGFsLCBjbG9zZURlbGV0ZVBhZ2VNb2RhbCk7XG4gICAgfTtcbiAgICBjb25zdCBjbG9zZURlbGV0ZVBhZ2VNb2RhbCA9ICgpID0+IHtcbiAgICAgIGlmICghZGVsZXRlUGFnZU1vZGFsKSByZXR1cm47XG4gICAgICBkZWxldGVQYWdlTW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBkZWxldGVQYWdlTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnZmxleCcpO1xuICAgICAgcGFnZVRvRGVsZXRlID0gbnVsbDtcbiAgICAgIGRlYWN0aXZhdGVNb2RhbChkZWxldGVQYWdlTW9kYWwpO1xuICAgIH07XG4gICAgY29uc3QgZXhlY3V0ZURlbGV0ZVBhZ2UgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXBhZ2VzQXBpQmFzZSB8fCAhcGFnZVRvRGVsZXRlKSByZXR1cm47XG4gICAgICBjb25zdCBwYWdlSWQgPSBwYWdlVG9EZWxldGUuaWQ7XG4gICAgICBjb25zdCBwYWdlVGl0bGUgPSBwYWdlVG9EZWxldGUudGl0bGUgfHwgcGFnZUlkO1xuICAgICAgaWYgKGRlbGV0ZVBhZ2VDb25maXJtKSB7XG4gICAgICAgIGRlbGV0ZVBhZ2VDb25maXJtLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgZGVsZXRlUGFnZUNvbmZpcm0udGV4dENvbnRlbnQgPSAnU3VwcHJlc3Npb24uLi4nO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtwYWdlc0FwaUJhc2V9LyR7ZW5jb2RlVVJJQ29tcG9uZW50KHBhZ2VJZCl9YCwge1xuICAgICAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICAgICAgY3JlZGVudGlhbHM6ICdpbmNsdWRlJyxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQubWVzc2FnZSB8fCAnRXJyZXVyIHNlcnZldXInKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTdXBwcmltZXIgZGUgbGEgbGlzdGUgbG9jYWxlXG4gICAgICAgIHBhZ2VzID0gcGFnZXMuZmlsdGVyKChwKSA9PiBwLmlkICE9PSBwYWdlSWQpO1xuICAgICAgICAvLyBTaSBsYSBwYWdlIHN1cHByaW1cdTAwRTllIFx1MDBFOXRhaXQgYWN0aXZlLCBzXHUwMEU5bGVjdGlvbm5lciBsYSBwcmVtaVx1MDBFOHJlXG4gICAgICAgIGlmIChhY3RpdmVQYWdlSWQgPT09IHBhZ2VJZCkge1xuICAgICAgICAgIGlmIChwYWdlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBzZXRBY3RpdmVQYWdlKHBhZ2VzWzBdLmlkKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYWN0aXZlUGFnZUlkID0gbnVsbDtcbiAgICAgICAgICAgIGN1cnJlbnRQYWdlID0gbnVsbDtcbiAgICAgICAgICAgIHJlbmRlclBhZ2VMaXN0cyhwYWdlcywgbnVsbCk7XG4gICAgICAgICAgICByZW5kZXJCbG9ja0xpc3QobnVsbCk7XG4gICAgICAgICAgICBibG9ja0RldGFpbEVtcHR5Py5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIGJsb2NrRWRpdG9yPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIHByZXZpZXdGcmFtZSAmJiAocHJldmlld0ZyYW1lLnNyY2RvYyA9IGdldExvYWRpbmdQcmV2aWV3SHRtbCgpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVuZGVyUGFnZUxpc3RzKHBhZ2VzLCBhY3RpdmVQYWdlSWQpO1xuICAgICAgICB9XG4gICAgICAgIGNsb3NlRGVsZXRlUGFnZU1vZGFsKCk7XG4gICAgICAgIHNob3dUb2FzdChgUGFnZSBcIiR7cGFnZVRpdGxlfVwiIHN1cHByaW1cdTAwRTllYCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW3BhZ2VzXSBkZWxldGUgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdFcnJldXIgc3VwcHJlc3Npb24nKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmIChkZWxldGVQYWdlQ29uZmlybSkge1xuICAgICAgICAgIGRlbGV0ZVBhZ2VDb25maXJtLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgZGVsZXRlUGFnZUNvbmZpcm0udGV4dENvbnRlbnQgPSAnU3VwcHJpbWVyJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCByZW5kZXJQYWdlTGlzdHMgPSAocGFnZXMsIGFjdGl2ZUlkKSA9PiB7XG4gICAgICBwYWdlTGlzdHMuZm9yRWFjaCgobGlzdCkgPT4ge1xuICAgICAgICBsaXN0LmlubmVySFRNTCA9ICcnO1xuICAgICAgICBwYWdlcy5mb3JFYWNoKChwYWdlKSA9PiB7XG4gICAgICAgICAgY29uc3QgaXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICAgICAgaXRlbS5jbGFzc05hbWUgPSAnZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEnO1xuICAgICAgICAgIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICAgIGJ1dHRvbi50eXBlID0gJ2J1dHRvbic7XG4gICAgICAgICAgYnV0dG9uLmRhdGFzZXQucGFnZUlkID0gcGFnZS5pZDtcbiAgICAgICAgICBidXR0b24uY2xhc3NOYW1lID0gW1xuICAgICAgICAgICAgJ2ZsZXgtMSBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMyBweC0zIHB5LTIgdGV4dC1sZWZ0IHRyYW5zaXRpb24nLFxuICAgICAgICAgICAgYWN0aXZlSWQgPT09IHBhZ2UuaWRcbiAgICAgICAgICAgICAgPyAnYmctWyM5QzZCRkZdLzEwIHRleHQtc2xhdGUtOTAwIGJvcmRlciBib3JkZXItWyM5QzZCRkZdLzQwIHJvdW5kZWQteGwgc2hhZG93LXNtJ1xuICAgICAgICAgICAgICA6ICd0ZXh0LXNsYXRlLTcwMCBob3ZlcjpiZy1zbGF0ZS01MCByb3VuZGVkLXhsJyxcbiAgICAgICAgICBdLmpvaW4oJyAnKTtcbiAgICAgICAgICBpZiAoYWN0aXZlSWQgPT09IHBhZ2UuaWQpIHtcbiAgICAgICAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtY3VycmVudCcsICdwYWdlJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJ1dHRvbi5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtY3VycmVudCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBVc2UgcGFnZS5uYW1lIChzaG9ydCBuYW1lKSBpZiBhdmFpbGFibGUsIGZhbGxiYWNrIHRvIHRpdGxlXG4gICAgICAgICAgY29uc3QgZGlzcGxheU5hbWUgPSBwYWdlLm5hbWUgfHwgcGFnZS50aXRsZTtcbiAgICAgICAgICBjb25zdCBpc0hpZGRlbkZyb21OYXYgPSBwYWdlLmFjY2Vzc2liaWxpdHk/LnNob3dJbk1haW5OYXYgPT09IGZhbHNlO1xuICAgICAgICAgIGNvbnN0IG5hdkJhZGdlID0gaXNIaWRkZW5Gcm9tTmF2XG4gICAgICAgICAgICA/ICc8c3BhbiBjbGFzcz1cInRleHQtWzEwcHhdIGZvbnQtc2VtaWJvbGQgdGV4dC1hbWJlci02MDBcIj5NYXNxdVx1MDBFOSBkdSBtZW51PC9zcGFuPidcbiAgICAgICAgICAgIDogJyc7XG4gICAgICAgICAgYnV0dG9uLmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZmxleCBoLTkgdy05IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciByb3VuZGVkLXhsIGJvcmRlciBib3JkZXItc2xhdGUtMjAwIGJnLXdoaXRlIHRleHQtc2xhdGUtNTAwXCI+XG4gICAgICAgICAgICAgIDxzdmcgd2lkdGg9XCIxOFwiIGhlaWdodD1cIjE4XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+XG4gICAgICAgICAgICAgICAgPHBhdGggZD1cIk02LjUgNC41aDdsNCA0djExYTEgMSAwIDAgMS0xIDFoLTEwYTEgMSAwIDAgMS0xLTF2LTE0YTEgMSAwIDAgMSAxLTFaXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMS40XCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIi8+XG4gICAgICAgICAgICAgICAgPHBhdGggZD1cIk0xMy41IDQuNXY0YTEgMSAwIDAgMCAxIDFoM1wiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjEuNFwiLz5cbiAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQtc20gZm9udC1zZW1pYm9sZFwiPiR7ZGlzcGxheU5hbWV9PC9zcGFuPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQteHMgdGV4dC1zbGF0ZS01MDBcIj4ke3BhZ2Uuc2x1Z308L3NwYW4+XG4gICAgICAgICAgICAgICR7bmF2QmFkZ2V9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICBgO1xuICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIHNldEFjdGl2ZVBhZ2UocGFnZS5pZCk7XG4gICAgICAgICAgICBpZiAoIWlzRGVza3RvcERyYXdlcigpKSB7XG4gICAgICAgICAgICAgIGNsb3NlRHJhd2VyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaXRlbS5hcHBlbmRDaGlsZChidXR0b24pO1xuICAgICAgICAgIC8vIEJvdXRvbiBkZSBzdXBwcmVzc2lvblxuICAgICAgICAgIGNvbnN0IGRlbGV0ZUJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICAgIGRlbGV0ZUJ0bi50eXBlID0gJ2J1dHRvbic7XG4gICAgICAgICAgZGVsZXRlQnRuLmNsYXNzTmFtZSA9ICdmbGV4LXNocmluay0wIHAtMiB0ZXh0LXNsYXRlLTQwMCBob3Zlcjp0ZXh0LXJvc2UtNjAwIGhvdmVyOmJnLXJvc2UtNTAgcm91bmRlZC1sZyB0cmFuc2l0aW9uJztcbiAgICAgICAgICBkZWxldGVCdG4udGl0bGUgPSAnU3VwcHJpbWVyIGNldHRlIHBhZ2UnO1xuICAgICAgICAgIGRlbGV0ZUJ0bi5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCBgU3VwcHJpbWVyICR7ZGlzcGxheU5hbWV9YCk7XG4gICAgICAgICAgZGVsZXRlQnRuLmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgIDxzdmcgd2lkdGg9XCIxNlwiIGhlaWdodD1cIjE2XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiPlxuICAgICAgICAgICAgICA8cGF0aCBkPVwiTTMgNmgxOE04IDZWNGEyIDIgMCAwIDEgMi0yaDRhMiAyIDAgMCAxIDIgMnYybTMgMHYxNGEyIDIgMCAwIDEtMiAySDdhMiAyIDAgMCAxLTItMlY2aDE0Wk0xMCAxMXY2TTE0IDExdjZcIi8+XG4gICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICBgO1xuICAgICAgICAgIGRlbGV0ZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgb3BlbkRlbGV0ZVBhZ2VNb2RhbChwYWdlKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpdGVtLmFwcGVuZENoaWxkKGRlbGV0ZUJ0bik7XG4gICAgICAgICAgbGlzdC5hcHBlbmRDaGlsZChpdGVtKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IGdldEFjdGl2ZUJsb2NrID0gKCkgPT4ge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSB8fCAhQXJyYXkuaXNBcnJheShjdXJyZW50UGFnZS5ibG9ja3MpKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgLy8gQ2hlcmNoZXIgbGUgYmxvYyBkYW5zIGxhIGxpc3RlIHByaW5jaXBhbGUgb3UgZGFucyBsZXMgZW5mYW50cyBkZXMgZ3JvdXBlc1xuICAgICAgbGV0IGJsb2NrID0gY3VycmVudFBhZ2UuYmxvY2tzLmZpbmQoKGJsb2NrKSA9PiBibG9jay5pZCA9PT0gYWN0aXZlQmxvY2tJZCk7XG4gICAgICBpZiAoIWJsb2NrKSB7XG4gICAgICAgIGZvciAoY29uc3QgYiBvZiBjdXJyZW50UGFnZS5ibG9ja3MpIHtcbiAgICAgICAgICBpZiAoYi5jaGlsZHJlbikge1xuICAgICAgICAgICAgYmxvY2sgPSBiLmNoaWxkcmVuLmZpbmQoKGNoaWxkKSA9PiBjaGlsZC5pZCA9PT0gYWN0aXZlQmxvY2tJZCk7XG4gICAgICAgICAgICBpZiAoYmxvY2spIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGJsb2NrIHx8IG51bGw7XG4gICAgfTtcbiAgICBcbiAgICAvLyBWYXJpYWJsZSBwb3VyIHN0b2NrZXIgbGUgcGFyZW50IGR1IGJsb2MgYWN0aWYgKHNpIGMnZXN0IHVuIGVuZmFudCBkZSBncm91cGUpXG4gICAgbGV0IGFjdGl2ZUJsb2NrUGFyZW50SWQgPSBudWxsO1xuICAgIFxuICAgIGNvbnN0IHNldEFjdGl2ZUJsb2NrID0gKGJsb2NrSWQsIHBhcmVudElkID0gbnVsbCkgPT4ge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWJsb2NrSWQpIHtcbiAgICAgICAgYWN0aXZlQmxvY2tJZCA9IG51bGw7XG4gICAgICAgIGFjdGl2ZUJsb2NrUGFyZW50SWQgPSBudWxsO1xuICAgICAgICByZW5kZXJCbG9ja0xpc3QoY3VycmVudFBhZ2UpO1xuICAgICAgICByZW5kZXJCbG9ja0RldGFpbHMobnVsbCk7XG4gICAgICAgIGFwcGx5UHJldmlld0hpZ2hsaWdodChudWxsKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgXG4gICAgICBsZXQgdGFyZ2V0QmxvY2sgPSBudWxsO1xuICAgICAgXG4gICAgICAvLyBDaGVyY2hlciBkYW5zIGxlcyBibG9jcyBwcmluY2lwYXV4XG4gICAgICB0YXJnZXRCbG9jayA9IGN1cnJlbnRQYWdlLmJsb2Nrcy5maW5kKChibG9jaykgPT4gYmxvY2suaWQgPT09IGJsb2NrSWQpO1xuICAgICAgXG4gICAgICAvLyBTaSBwYXMgdHJvdXZcdTAwRTkgZXQgcXUnb24gYSB1biBwYXJlbnRJZCwgY2hlcmNoZXIgZGFucyBsZXMgZW5mYW50cyBkdSBwYXJlbnRcbiAgICAgIGlmICghdGFyZ2V0QmxvY2sgJiYgcGFyZW50SWQpIHtcbiAgICAgICAgY29uc3QgcGFyZW50QmxvY2sgPSBjdXJyZW50UGFnZS5ibG9ja3MuZmluZCgoYikgPT4gYi5pZCA9PT0gcGFyZW50SWQpO1xuICAgICAgICBpZiAocGFyZW50QmxvY2sgJiYgcGFyZW50QmxvY2suY2hpbGRyZW4pIHtcbiAgICAgICAgICB0YXJnZXRCbG9jayA9IHBhcmVudEJsb2NrLmNoaWxkcmVuLmZpbmQoKGNoaWxkKSA9PiBjaGlsZC5pZCA9PT0gYmxvY2tJZCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gU2lub24gY2hlcmNoZXIgZGFucyB0b3VzIGxlcyBncm91cGVzXG4gICAgICBpZiAoIXRhcmdldEJsb2NrKSB7XG4gICAgICAgIGZvciAoY29uc3QgYiBvZiBjdXJyZW50UGFnZS5ibG9ja3MpIHtcbiAgICAgICAgICBpZiAoYi5jaGlsZHJlbikge1xuICAgICAgICAgICAgY29uc3QgZm91bmQgPSBiLmNoaWxkcmVuLmZpbmQoKGNoaWxkKSA9PiBjaGlsZC5pZCA9PT0gYmxvY2tJZCk7XG4gICAgICAgICAgICBpZiAoZm91bmQpIHtcbiAgICAgICAgICAgICAgdGFyZ2V0QmxvY2sgPSBmb3VuZDtcbiAgICAgICAgICAgICAgcGFyZW50SWQgPSBiLmlkO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gRmFsbGJhY2sgc3VyIGxlIHByZW1pZXIgYmxvY1xuICAgICAgaWYgKCF0YXJnZXRCbG9jaykge1xuICAgICAgICB0YXJnZXRCbG9jayA9IGN1cnJlbnRQYWdlLmJsb2Nrc1swXSB8fCBudWxsO1xuICAgICAgICBwYXJlbnRJZCA9IG51bGw7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGFjdGl2ZUJsb2NrSWQgPSB0YXJnZXRCbG9jaz8uaWQgfHwgbnVsbDtcbiAgICAgIGFjdGl2ZUJsb2NrUGFyZW50SWQgPSBwYXJlbnRJZDtcbiAgICAgIHJlbmRlckJsb2NrTGlzdChjdXJyZW50UGFnZSk7XG4gICAgICByZW5kZXJCbG9ja0RldGFpbHModGFyZ2V0QmxvY2spO1xuICAgICAgYXBwbHlQcmV2aWV3SGlnaGxpZ2h0KGFjdGl2ZUJsb2NrSWQpO1xuICAgIH07XG4gICAgY29uc3QgdXBkYXRlQ3VycmVudFBhZ2VCbG9ja3MgPSAobmV3QmxvY2tzKSA9PiB7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG5leHRQYWdlID0geyAuLi5jdXJyZW50UGFnZSwgYmxvY2tzOiBuZXdCbG9ja3MgfTtcbiAgICAgIHVwZGF0ZUN1cnJlbnRQYWdlU3RhdGUobmV4dFBhZ2UpO1xuICAgIH07XG4gICAgY29uc3QgaXNEZXNrdG9wUmVvcmRlciA9ICgpID0+IHdpbmRvdy5tYXRjaE1lZGlhKCcobWluLXdpZHRoOiAxMDI0cHgpJykubWF0Y2hlcztcbiAgICBmdW5jdGlvbiBtb3ZlQmxvY2tCeU9mZnNldChibG9ja0lkLCBvZmZzZXQpIHtcbiAgICAgIGlmICghY3VycmVudFBhZ2UgfHwgIWJsb2NrSWQgfHwgIW9mZnNldCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBibG9ja3MgPSBbLi4uKGN1cnJlbnRQYWdlLmJsb2NrcyB8fCBbXSldO1xuICAgICAgY29uc3QgaW5kZXggPSBibG9ja3MuZmluZEluZGV4KChibG9jaykgPT4gYmxvY2suaWQgPT09IGJsb2NrSWQpO1xuICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBuZXdJbmRleCA9IGluZGV4ICsgb2Zmc2V0O1xuICAgICAgaWYgKG5ld0luZGV4IDwgMCB8fCBuZXdJbmRleCA+PSBibG9ja3MubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IFttb3ZlZF0gPSBibG9ja3Muc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIGJsb2Nrcy5zcGxpY2UobmV3SW5kZXgsIDAsIG1vdmVkKTtcbiAgICAgIHVwZGF0ZUN1cnJlbnRQYWdlQmxvY2tzKGJsb2Nrcyk7XG4gICAgICBzZXRBY3RpdmVQYWdlKGN1cnJlbnRQYWdlLmlkLCB7IHByZXNlcnZlQmxvY2s6IHRydWUgfSk7XG4gICAgICBzZXRBY3RpdmVCbG9jayhtb3ZlZC5pZCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlb3JkZXJCbG9ja3Moc291cmNlSWQsIHRhcmdldElkKSB7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlIHx8ICFzb3VyY2VJZCB8fCAhdGFyZ2V0SWQgfHwgc291cmNlSWQgPT09IHRhcmdldElkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGJsb2NrcyA9IFsuLi4oY3VycmVudFBhZ2UuYmxvY2tzIHx8IFtdKV07XG4gICAgICBjb25zdCBmcm9tSW5kZXggPSBibG9ja3MuZmluZEluZGV4KChibG9jaykgPT4gYmxvY2suaWQgPT09IHNvdXJjZUlkKTtcbiAgICAgIGNvbnN0IHRvSW5kZXggPSBibG9ja3MuZmluZEluZGV4KChibG9jaykgPT4gYmxvY2suaWQgPT09IHRhcmdldElkKTtcbiAgICAgIGlmIChmcm9tSW5kZXggPCAwIHx8IHRvSW5kZXggPCAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IFttb3ZlZF0gPSBibG9ja3Muc3BsaWNlKGZyb21JbmRleCwgMSk7XG4gICAgICBibG9ja3Muc3BsaWNlKHRvSW5kZXgsIDAsIG1vdmVkKTtcbiAgICAgIHVwZGF0ZUN1cnJlbnRQYWdlQmxvY2tzKGJsb2Nrcyk7XG4gICAgICBzZXRBY3RpdmVQYWdlKGN1cnJlbnRQYWdlLmlkLCB7IHByZXNlcnZlQmxvY2s6IHRydWUgfSk7XG4gICAgICBzZXRBY3RpdmVCbG9jayhtb3ZlZC5pZCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlb3JkZXJCbG9ja3NXaXRoUG9zaXRpb24oc291cmNlSWQsIHRhcmdldElkLCBwb3NpdGlvbikge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSB8fCAhc291cmNlSWQgfHwgIXRhcmdldElkIHx8IHNvdXJjZUlkID09PSB0YXJnZXRJZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBibG9ja3MgPSBbLi4uKGN1cnJlbnRQYWdlLmJsb2NrcyB8fCBbXSldO1xuICAgICAgY29uc3QgZnJvbUluZGV4ID0gYmxvY2tzLmZpbmRJbmRleCgoYmxvY2spID0+IGJsb2NrLmlkID09PSBzb3VyY2VJZCk7XG4gICAgICBsZXQgdG9JbmRleCA9IGJsb2Nrcy5maW5kSW5kZXgoKGJsb2NrKSA9PiBibG9jay5pZCA9PT0gdGFyZ2V0SWQpO1xuICAgICAgaWYgKGZyb21JbmRleCA8IDAgfHwgdG9JbmRleCA8IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgW21vdmVkXSA9IGJsb2Nrcy5zcGxpY2UoZnJvbUluZGV4LCAxKTtcbiAgICAgIC8vIEFqdXN0ZXIgbCdpbmRleCBzaSBuXHUwMEU5Y2Vzc2FpcmUgYXByXHUwMEU4cyBsYSBzdXBwcmVzc2lvblxuICAgICAgaWYgKGZyb21JbmRleCA8IHRvSW5kZXgpIHtcbiAgICAgICAgdG9JbmRleC0tO1xuICAgICAgfVxuICAgICAgLy8gSW5zXHUwMEU5cmVyIGF2YW50IG91IGFwclx1MDBFOHMgbGEgY2libGVcbiAgICAgIGNvbnN0IGluc2VydEluZGV4ID0gcG9zaXRpb24gPT09ICdiZWZvcmUnID8gdG9JbmRleCA6IHRvSW5kZXggKyAxO1xuICAgICAgYmxvY2tzLnNwbGljZShpbnNlcnRJbmRleCwgMCwgbW92ZWQpO1xuICAgICAgdXBkYXRlQ3VycmVudFBhZ2VCbG9ja3MoYmxvY2tzKTtcbiAgICAgIHNldEFjdGl2ZVBhZ2UoY3VycmVudFBhZ2UuaWQsIHsgcHJlc2VydmVCbG9jazogdHJ1ZSB9KTtcbiAgICAgIHNldEFjdGl2ZUJsb2NrKG1vdmVkLmlkKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlRHJhZ2dhYmxlU3RhdGUoKSB7XG4gICAgICBpZiAoIWJsb2NrTGlzdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBkcmFnZ2FibGUgPSBpc0Rlc2t0b3BSZW9yZGVyKCk7XG4gICAgICBibG9ja0xpc3QucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYmxvY2staXRlbV0nKS5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgIGl0ZW0uc2V0QXR0cmlidXRlKCdkcmFnZ2FibGUnLCBkcmFnZ2FibGUgPyAndHJ1ZScgOiAnZmFsc2UnKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjbG9zZUJsb2NrTGlicmFyeSgpIHtcbiAgICAgIGlmICghYmxvY2tMaWJyYXJ5KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGJsb2NrTGlicmFyeS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGJsb2NrTGlicmFyeU9wZW4gPSBmYWxzZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gb3BlbkJsb2NrTGlicmFyeSgpIHtcbiAgICAgIGlmICghYmxvY2tMaWJyYXJ5KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGJsb2NrTGlicmFyeS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGJsb2NrTGlicmFyeU9wZW4gPSB0cnVlO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0b2dnbGVCbG9ja0xpYnJhcnkoKSB7XG4gICAgICBibG9ja0xpYnJhcnlPcGVuID8gY2xvc2VCbG9ja0xpYnJhcnkoKSA6IG9wZW5CbG9ja0xpYnJhcnkoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYWRkQmxvY2tGcm9tTGlicmFyeSh0eXBlKSB7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlIHx8ICF0eXBlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRlZmluaXRpb24gPSBibG9ja0xpYnJhcnlEZWZpbml0aW9uc1t0eXBlXTtcbiAgICAgIGlmICghZGVmaW5pdGlvbikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBjb3VudCA9XG4gICAgICAgIChjdXJyZW50UGFnZS5ibG9ja3MgfHwgW10pLmZpbHRlcigoYmxvY2spID0+IGJsb2NrLnR5cGUgPT09IGRlZmluaXRpb24udHlwZSkubGVuZ3RoICsgMTtcbiAgICAgIGNvbnN0IG5ld0Jsb2NrID0gY3JlYXRlQmxvY2soXG4gICAgICAgIGdlbmVyYXRlQmxvY2tJZChjdXJyZW50UGFnZS5pZCwgdHlwZSksXG4gICAgICAgIGAke2RlZmluaXRpb24ubGFiZWx9ICR7Y291bnR9YCxcbiAgICAgICAgZGVmaW5pdGlvbi50eXBlLFxuICAgICAgICBkZWZpbml0aW9uLnN0YXR1cyxcbiAgICAgICAgZGVmaW5pdGlvbi5kZXNjcmlwdGlvbixcbiAgICAgICAgZGVmaW5pdGlvbi5wcm9wcyxcbiAgICAgICAgZGVmaW5pdGlvbi5zZXR0aW5ncyB8fCB7fSxcbiAgICAgICk7XG4gICAgICBpZiAoKGRlZmluaXRpb24udHlwZSB8fCAnJykudG9Mb3dlckNhc2UoKSA9PT0gJ2NvbGxlY3Rpb25ncmlkJykge1xuICAgICAgICBjb25zdCBmaXJzdENvbGxlY3Rpb25JZCA9IGRlc2lnbkNvbGxlY3Rpb25zWzBdPy5pZCB8fCAnJztcbiAgICAgICAgbmV3QmxvY2suY29sbGVjdGlvbklkID0gZmlyc3RDb2xsZWN0aW9uSWQ7XG4gICAgICAgIG5ld0Jsb2NrLnNldHRpbmdzLmNvbGxlY3Rpb25JZCA9IGZpcnN0Q29sbGVjdGlvbklkO1xuICAgICAgICBuZXdCbG9jay5zZXR0aW5ncy5saW1pdCA9IG5ld0Jsb2NrLnNldHRpbmdzLmxpbWl0IHx8IDY7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFNpIG9uIGFqb3V0ZSBcdTAwRTAgdW4gZ3JvdXBlXG4gICAgICBpZiAocGVuZGluZ0dyb3VwSWRGb3JOZXdCbG9jaykge1xuICAgICAgICBjb25zdCBncm91cEJsb2NrID0gY3VycmVudFBhZ2UuYmxvY2tzLmZpbmQoKGIpID0+IGIuaWQgPT09IHBlbmRpbmdHcm91cElkRm9yTmV3QmxvY2spO1xuICAgICAgICBpZiAoZ3JvdXBCbG9jaykge1xuICAgICAgICAgIGlmICghZ3JvdXBCbG9jay5jaGlsZHJlbikgZ3JvdXBCbG9jay5jaGlsZHJlbiA9IFtdO1xuICAgICAgICAgIGdyb3VwQmxvY2suY2hpbGRyZW4ucHVzaChuZXdCbG9jayk7XG4gICAgICAgICAgcGVuZGluZ0dyb3VwSWRGb3JOZXdCbG9jayA9IG51bGw7XG4gICAgICAgICAgcmVuZGVyQmxvY2tMaXN0KGN1cnJlbnRQYWdlKTtcbiAgICAgICAgICBzYXZlUGFnZUJsb2NrcygpO1xuICAgICAgICAgIHNldEFjdGl2ZUJsb2NrKG5ld0Jsb2NrLmlkLCBncm91cEJsb2NrLmlkKTtcbiAgICAgICAgICBjbG9zZUJsb2NrTGlicmFyeSgpO1xuICAgICAgICAgIHNob3dUb2FzdCgnQmxvYyBham91dFx1MDBFOSBhdSBncm91cGUnKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcGVuZGluZ0dyb3VwSWRGb3JOZXdCbG9jayA9IG51bGw7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IG5leHRCbG9ja3MgPSBbLi4uKGN1cnJlbnRQYWdlLmJsb2NrcyB8fCBbXSksIG5ld0Jsb2NrXTtcbiAgICAgIHVwZGF0ZUN1cnJlbnRQYWdlQmxvY2tzKG5leHRCbG9ja3MpO1xuICAgICAgc2V0QWN0aXZlUGFnZShjdXJyZW50UGFnZS5pZCwgeyBwcmVzZXJ2ZUJsb2NrOiB0cnVlIH0pO1xuICAgICAgc2V0QWN0aXZlQmxvY2sobmV3QmxvY2suaWQpO1xuICAgICAgY2xvc2VCbG9ja0xpYnJhcnkoKTtcbiAgICAgIHNob3dUb2FzdCgnQmxvYyBham91dFx1MDBFOScpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkZWxldGVCbG9ja0J5SWQoYmxvY2tJZCkge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBibG9ja3MgPSAoY3VycmVudFBhZ2UuYmxvY2tzIHx8IFtdKS5maWx0ZXIoKGJsb2NrKSA9PiBibG9jay5pZCAhPT0gYmxvY2tJZCk7XG4gICAgICBjb25zdCBuZXh0QWN0aXZlID1cbiAgICAgICAgYmxvY2tJZCA9PT0gYWN0aXZlQmxvY2tJZCA/IGJsb2Nrc1swXT8uaWQgfHwgbnVsbCA6IGFjdGl2ZUJsb2NrSWQgfHwgYmxvY2tzWzBdPy5pZCB8fCBudWxsO1xuICAgICAgdXBkYXRlQ3VycmVudFBhZ2VCbG9ja3MoYmxvY2tzKTtcbiAgICAgIGFjdGl2ZUJsb2NrSWQgPSBuZXh0QWN0aXZlO1xuICAgICAgc2V0QWN0aXZlUGFnZShjdXJyZW50UGFnZS5pZCwgeyBwcmVzZXJ2ZUJsb2NrOiB0cnVlIH0pO1xuICAgICAgaWYgKGFjdGl2ZUJsb2NrSWQpIHtcbiAgICAgICAgc2V0QWN0aXZlQmxvY2soYWN0aXZlQmxvY2tJZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZW5kZXJCbG9ja0RldGFpbHMobnVsbCk7XG4gICAgICAgIGFwcGx5UHJldmlld0hpZ2hsaWdodChudWxsKTtcbiAgICAgIH1cbiAgICAgIHNob3dUb2FzdCgnQmxvYyBzdXBwcmltXHUwMEU5Jyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNsb3NlQmxvY2tEZWxldGVNb2RhbCgpIHtcbiAgICAgIGlmICghYmxvY2tEZWxldGVNb2RhbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBibG9ja0RlbGV0ZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgYmxvY2tEZWxldGVNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdmbGV4Jyk7XG4gICAgICBwZW5kaW5nRGVsZXRlQmxvY2tJZCA9IG51bGw7XG4gICAgICBkZWFjdGl2YXRlTW9kYWwoYmxvY2tEZWxldGVNb2RhbCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG9wZW5CbG9ja0RlbGV0ZU1vZGFsKGJsb2NrSWQpIHtcbiAgICAgIGlmICghYmxvY2tEZWxldGVNb2RhbCkge1xuICAgICAgICBkZWxldGVCbG9ja0J5SWQoYmxvY2tJZCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHBlbmRpbmdEZWxldGVCbG9ja0lkID0gYmxvY2tJZDtcbiAgICAgIGJsb2NrRGVsZXRlTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBibG9ja0RlbGV0ZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2ZsZXgnKTtcbiAgICAgIGFjdGl2YXRlTW9kYWwoYmxvY2tEZWxldGVNb2RhbCwgY2xvc2VCbG9ja0RlbGV0ZU1vZGFsKTtcbiAgICB9XG4gICAgY29uc3QgdXBkYXRlQ3VycmVudFBhZ2VTdGF0ZSA9IChuZXh0UGFnZSkgPT4ge1xuICAgICAgaWYgKCFuZXh0UGFnZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBub3JtYWxpemVkID0gbm9ybWFsaXplUGFnZURhdGEobmV4dFBhZ2UpO1xuICAgICAgcGFnZXMgPSBwYWdlcy5tYXAoKHBhZ2UpID0+IChwYWdlLmlkID09PSBub3JtYWxpemVkLmlkID8gbm9ybWFsaXplZCA6IHBhZ2UpKTtcbiAgICAgIGN1cnJlbnRQYWdlID0gbm9ybWFsaXplZDtcbiAgICAgIHNhdmVQYWdlVG9TZXJ2ZXIobm9ybWFsaXplZCk7XG4gICAgfTtcbiAgICBjb25zdCBzZXRBY3RpdmVQYWdlID0gKHBhZ2VJZCwgb3B0aW9ucyA9IHt9KSA9PiB7XG4gICAgICBjb25zdCB0YXJnZXQgPSBwYWdlcy5maW5kKChwYWdlKSA9PiBwYWdlLmlkID09PSBwYWdlSWQpIHx8IHBhZ2VzWzBdIHx8IG51bGw7XG4gICAgICBjb25zdCBub3JtYWxpemVkVGFyZ2V0ID0gdGFyZ2V0ID8gbm9ybWFsaXplUGFnZURhdGEodGFyZ2V0KSA6IG51bGw7XG4gICAgICBjdXJyZW50UGFnZSA9IG5vcm1hbGl6ZWRUYXJnZXQ7XG4gICAgICBhY3RpdmVQYWdlSWQgPSB0YXJnZXQ/LmlkIHx8IG51bGw7XG4gICAgICBpZiAoIW9wdGlvbnMucHJlc2VydmVCbG9jayB8fCAhY3VycmVudFBhZ2UgfHwgIWN1cnJlbnRQYWdlLmJsb2Nrcy5zb21lKChibG9jaykgPT4gYmxvY2suaWQgPT09IGFjdGl2ZUJsb2NrSWQpKSB7XG4gICAgICAgIGFjdGl2ZUJsb2NrSWQgPSBjdXJyZW50UGFnZT8uYmxvY2tzPy5bMF0/LmlkIHx8IG51bGw7XG4gICAgICB9XG4gICAgICBpZiAoYWN0aXZlUGFnZUlkKSB7XG4gICAgICAgIHBlcnNpc3RBY3RpdmVQYWdlKGFjdGl2ZVBhZ2VJZCk7XG4gICAgICB9XG4gICAgICByZW5kZXJQYWdlTGlzdHMocGFnZXMsIGFjdGl2ZVBhZ2VJZCk7XG4gICAgICBzZXRBY3RpdmVMYWJlbHMoY3VycmVudFBhZ2UpO1xuICAgICAgc3luY1BhZ2VBY2Nlc3NpYmlsaXR5RmllbGRzKCk7XG4gICAgICByZW5kZXJQcmV2aWV3TWV0YShjdXJyZW50UGFnZSk7XG4gICAgICByZWZyZXNoUHJldmlldyhjdXJyZW50UGFnZSk7XG4gICAgICByZW5kZXJCbG9ja0xpc3QoY3VycmVudFBhZ2UpO1xuICAgICAgcmVuZGVyQmxvY2tEZXRhaWxzKGdldEFjdGl2ZUJsb2NrKCkpO1xuICAgICAgYXBwbHlQcmV2aWV3SGlnaGxpZ2h0KGFjdGl2ZUJsb2NrSWQpO1xuICAgICAgdXBkYXRlRHJhZ2dhYmxlU3RhdGUoKTtcbiAgICAgIGlmIChibG9ja0xpYnJhcnlPcGVuKSB7XG4gICAgICAgIGNsb3NlQmxvY2tMaWJyYXJ5KCk7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBpc0Rlc2t0b3BEcmF3ZXIgPSAoKSA9PiB3aW5kb3cubWF0Y2hNZWRpYSgnKG1pbi13aWR0aDogMTAyNHB4KScpLm1hdGNoZXM7XG4gICAgY29uc3Qgc3luY0RyYXdlclN0YXRlID0gKCkgPT4ge1xuICAgICAgaWYgKCFkcmF3ZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGlzRGVza3RvcERyYXdlcigpKSB7XG4gICAgICAgIGRyYXdlci5jbGFzc0xpc3QuYWRkKCdpcy1vcGVuJyk7XG4gICAgICAgIGRyYXdlckJhY2tkcm9wPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRyYXdlci5jbGFzc0xpc3QucmVtb3ZlKCdpcy1vcGVuJyk7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBvcGVuRHJhd2VyID0gKCkgPT4ge1xuICAgICAgaWYgKCFkcmF3ZXIgfHwgaXNEZXNrdG9wRHJhd2VyKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZHJhd2VyLmNsYXNzTGlzdC5hZGQoJ2lzLW9wZW4nKTtcbiAgICAgIGRyYXdlckJhY2tkcm9wPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnb3ZlcmZsb3ctaGlkZGVuJyk7XG4gICAgfTtcbiAgICBjb25zdCBjbG9zZURyYXdlciA9ICgpID0+IHtcbiAgICAgIGlmICghZHJhd2VyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGRyYXdlci5jbGFzc0xpc3QucmVtb3ZlKCdpcy1vcGVuJyk7XG4gICAgICBkcmF3ZXJCYWNrZHJvcD8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ292ZXJmbG93LWhpZGRlbicpO1xuICAgIH07XG4gICAgY29uc3Qgb3BlbkFkZFBhZ2VGb3JtID0gKCkgPT4ge1xuICAgICAgaWYgKCFhZGRQYWdlRm9ybSB8fCAhYWRkUGFnZVRvZ2dsZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhZGRQYWdlRm9ybS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGFkZFBhZ2VUb2dnbGUuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBhZGRQYWdlRXJyb3IgJiYgKGFkZFBhZ2VFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICAgIHBhZ2VTbHVnTWFudWFsbHlFZGl0ZWQgPSBmYWxzZTtcbiAgICAgIGlmIChhZGRQYWdlTmFtZSkge1xuICAgICAgICBhZGRQYWdlTmFtZS52YWx1ZSA9ICcnO1xuICAgICAgICBhZGRQYWdlTmFtZS5mb2N1cygpO1xuICAgICAgfVxuICAgICAgaWYgKGFkZFBhZ2VUaXRsZSkge1xuICAgICAgICBhZGRQYWdlVGl0bGUudmFsdWUgPSAnJztcbiAgICAgIH1cbiAgICAgIGlmIChhZGRQYWdlU2x1Zykge1xuICAgICAgICBhZGRQYWdlU2x1Zy52YWx1ZSA9ICcnO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgY2xvc2VBZGRQYWdlRm9ybSA9ICgpID0+IHtcbiAgICAgIGlmICghYWRkUGFnZUZvcm0gfHwgIWFkZFBhZ2VUb2dnbGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYWRkUGFnZUZvcm0uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBhZGRQYWdlVG9nZ2xlLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgYWRkUGFnZUVycm9yICYmIChhZGRQYWdlRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgICBwYWdlU2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gICAgICBhZGRQYWdlRm9ybS5yZXNldCgpO1xuICAgIH07XG4gICAgY29uc3Qgc3luY1NsdWdGcm9tTmFtZSA9ICgpID0+IHtcbiAgICAgIGlmICghYWRkUGFnZU5hbWUgfHwgIWFkZFBhZ2VTbHVnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChwYWdlU2x1Z01hbnVhbGx5RWRpdGVkICYmIGFkZFBhZ2VTbHVnLnZhbHVlLnRyaW0oKS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGFkZFBhZ2VTbHVnLnZhbHVlID0gbm9ybWFsaXplUGFnZVNsdWcoYWRkUGFnZU5hbWUudmFsdWUpO1xuICAgIH07XG5cbiAgICBsZXQgcGFnZXMgPSBbXTtcbiAgICBsZXQgYWN0aXZlUGFnZUlkID0gbnVsbDtcbiAgICBsZXQgcGFnZVNsdWdNYW51YWxseUVkaXRlZCA9IGZhbHNlO1xuICAgIGxldCBjdXJyZW50UGFnZSA9IG51bGw7XG4gICAgbGV0IGFjdGl2ZUJsb2NrSWQgPSBudWxsO1xuICAgIGxldCBibG9ja0xpYnJhcnlPcGVuID0gZmFsc2U7XG4gICAgbGV0IHBlbmRpbmdEZWxldGVCbG9ja0lkID0gbnVsbDtcbiAgICBsZXQgbGF0ZXN0UHJldmlld0h0bWwgPSAnJztcbiAgICBsZXQgcHJldmlld1JlYWR5ID0gZmFsc2U7XG4gICAgbGV0IHByZXZpZXdSZXF1ZXN0Q29udHJvbGxlciA9IG51bGw7XG4gICAgbGV0IGRlc2lnbkNvbGxlY3Rpb25zID0gW107XG5cbiAgICBjb25zdCBub3JtYWxpemVCbG9ja0RhdGEgPSAoYmxvY2spID0+IHtcbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSB7XG4gICAgICAgIC4uLmJsb2NrLFxuICAgICAgICBwcm9wczogQXJyYXkuaXNBcnJheShibG9jay5wcm9wcykgPyBibG9jay5wcm9wcyA6IFtdLFxuICAgICAgICBzZXR0aW5nczogeyAuLi4oYmxvY2suc2V0dGluZ3MgfHwge30pIH0sXG4gICAgICB9O1xuICAgICAgY29uc3QgdHlwZSA9IChub3JtYWxpemVkLnR5cGUgfHwgJycpLnRvTG93ZXJDYXNlKCk7XG4gICAgICBpZiAodHlwZSA9PT0gJ2NvbGxlY3Rpb25ncmlkJykge1xuICAgICAgICBub3JtYWxpemVkLmNvbGxlY3Rpb25JZCA9XG4gICAgICAgICAgbm9ybWFsaXplZC5jb2xsZWN0aW9uSWQgfHwgbm9ybWFsaXplZC5zZXR0aW5ncy5jb2xsZWN0aW9uSWQgfHwgJyc7XG4gICAgICAgIG5vcm1hbGl6ZWQuc2V0dGluZ3MuY29sbGVjdGlvbklkID0gbm9ybWFsaXplZC5jb2xsZWN0aW9uSWQ7XG4gICAgICAgIG5vcm1hbGl6ZWQuc2V0dGluZ3MubGltaXQgPSBub3JtYWxpemVkLnNldHRpbmdzLmxpbWl0IHx8IDY7XG4gICAgICB9XG4gICAgICByZXR1cm4gbm9ybWFsaXplZDtcbiAgICB9O1xuXG4gICAgY29uc3Qgbm9ybWFsaXplUGFnZURhdGEgPSAocGFnZSkgPT4gKHtcbiAgICAgIC4uLnBhZ2UsXG4gICAgICBibG9ja3M6IChwYWdlLmJsb2NrcyB8fCBbXSkubWFwKChibG9jaykgPT4gbm9ybWFsaXplQmxvY2tEYXRhKGJsb2NrKSksXG4gICAgICBzZW86IHtcbiAgICAgICAgdGl0bGU6IChwYWdlLnNlbz8udGl0bGUgfHwgJycpLnRyaW0oKSxcbiAgICAgICAgZGVzY3JpcHRpb246IChwYWdlLnNlbz8uZGVzY3JpcHRpb24gfHwgJycpLnRyaW0oKSxcbiAgICAgICAgaW5kZXhlZDpcbiAgICAgICAgICB0eXBlb2YgcGFnZS5zZW8/LmluZGV4ZWQgPT09ICdib29sZWFuJyA/IHBhZ2Uuc2VvLmluZGV4ZWQgOiBudWxsLFxuICAgICAgfSxcbiAgICAgIGFjY2Vzc2liaWxpdHk6IHtcbiAgICAgICAgc2hvd0luTWFpbk5hdjogcGFnZS5hY2Nlc3NpYmlsaXR5Py5zaG93SW5NYWluTmF2ICE9PSBmYWxzZSxcbiAgICAgICAgbWFpbkxhYmVsOiAocGFnZS5hY2Nlc3NpYmlsaXR5Py5tYWluTGFiZWwgfHwgJycpLnRyaW0oKSxcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICBjb25zdCBsb2FkRGVzaWduQ29sbGVjdGlvbnMgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25zQXBpQmFzZSkge1xuICAgICAgICBkZXNpZ25Db2xsZWN0aW9ucyA9IFtdO1xuICAgICAgICB1cGRhdGVDb2xsZWN0aW9uU2VsZWN0T3B0aW9ucygpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGNvbGxlY3Rpb25zQXBpQmFzZSwge1xuICAgICAgICAgIGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ltcG9zc2libGUgZGUgY2hhcmdlciBsZXMgY29sbGVjdGlvbnMuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiBbXSk7XG4gICAgICAgIGRlc2lnbkNvbGxlY3Rpb25zID0gQXJyYXkuaXNBcnJheShwYXlsb2FkKSA/IHBheWxvYWQgOiBbXTtcbiAgICAgICAgY29uc3QgY3VycmVudFZhbHVlID0gY29sbGVjdGlvblNlbGVjdD8udmFsdWUgfHwgJyc7XG4gICAgICAgIHVwZGF0ZUNvbGxlY3Rpb25TZWxlY3RPcHRpb25zKGN1cnJlbnRWYWx1ZSk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2Rlc2lnbl0gY29sbGVjdGlvbnMgbG9hZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdCgnQ29sbGVjdGlvbnMgaW5kaXNwb25pYmxlcy4nKTtcbiAgICAgICAgZGVzaWduQ29sbGVjdGlvbnMgPSBbXTtcbiAgICAgICAgdXBkYXRlQ29sbGVjdGlvblNlbGVjdE9wdGlvbnMoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3Qgc3luY0NvbGxlY3Rpb25TZWxlY3Rpb25JbmZvID0gKGNvbGxlY3Rpb25JZCkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uU2VsZWN0aW9uSW5mbykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWNvbGxlY3Rpb25JZCkge1xuICAgICAgICBjb2xsZWN0aW9uU2VsZWN0aW9uSW5mby50ZXh0Q29udGVudCA9IGRlc2lnbkNvbGxlY3Rpb25zLmxlbmd0aFxuICAgICAgICAgID8gJ1NcdTAwRTlsZWN0aW9ubmV6IHVuZSBjb2xsZWN0aW9uIHBvdXIgYWZmaWNoZXIgc2VzIGluZm9ybWF0aW9ucy4nXG4gICAgICAgICAgOiAnQXVjdW5lIGNvbGxlY3Rpb24gZGlzcG9uaWJsZS4gQWpvdXRlei1lbiBkZXB1aXMgbFx1MjAxOW9uZ2xldCBDb250ZW51cy4nO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBlbnRyeSA9IGRlc2lnbkNvbGxlY3Rpb25zLmZpbmQoKGNvbGxlY3Rpb24pID0+IGNvbGxlY3Rpb24uaWQgPT09IGNvbGxlY3Rpb25JZCk7XG4gICAgICBpZiAoIWVudHJ5KSB7XG4gICAgICAgIGNvbGxlY3Rpb25TZWxlY3Rpb25JbmZvLnRleHRDb250ZW50ID0gYENvbGxlY3Rpb24gJHtjb2xsZWN0aW9uSWR9YDtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgZGV0YWlscyA9IFtdO1xuICAgICAgaWYgKGVudHJ5LmRlc2NyaXB0aW9uKSB7XG4gICAgICAgIGRldGFpbHMucHVzaChlbnRyeS5kZXNjcmlwdGlvbik7XG4gICAgICB9XG4gICAgICBpZiAoZW50cnkudHlwZSkge1xuICAgICAgICBkZXRhaWxzLnB1c2goYFR5cGVcdTAwQTA6ICR7ZW50cnkudHlwZX1gKTtcbiAgICAgIH1cbiAgICAgIGNvbGxlY3Rpb25TZWxlY3Rpb25JbmZvLnRleHRDb250ZW50ID1cbiAgICAgICAgZGV0YWlscy5qb2luKCcgXHUwMEI3ICcpIHx8IGBDb2xsZWN0aW9uICR7ZW50cnkubmFtZSB8fCBlbnRyeS5pZH1gO1xuICAgIH07XG5cbiAgICBjb25zdCB1cGRhdGVDb2xsZWN0aW9uU2VsZWN0T3B0aW9ucyA9IChzZWxlY3RlZFZhbHVlID0gJycpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvblNlbGVjdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb2xsZWN0aW9uU2VsZWN0LmlubmVySFRNTCA9ICcnO1xuICAgICAgaWYgKCFkZXNpZ25Db2xsZWN0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgY29sbGVjdGlvblNlbGVjdC5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICBvcHRpb24udmFsdWUgPSAnJztcbiAgICAgICAgb3B0aW9uLnRleHRDb250ZW50ID0gJ0F1Y3VuZSBjb2xsZWN0aW9uIGRpc3BvbmlibGUnO1xuICAgICAgICBjb2xsZWN0aW9uU2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbik7XG4gICAgICAgIHN5bmNDb2xsZWN0aW9uU2VsZWN0aW9uSW5mbygnJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbGxlY3Rpb25TZWxlY3QuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgIGlmIChzZWxlY3RlZFZhbHVlICYmICFkZXNpZ25Db2xsZWN0aW9ucy5zb21lKChlbnRyeSkgPT4gZW50cnkuaWQgPT09IHNlbGVjdGVkVmFsdWUpKSB7XG4gICAgICAgIGNvbnN0IGZhbGxiYWNrT3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICAgIGZhbGxiYWNrT3B0aW9uLnZhbHVlID0gc2VsZWN0ZWRWYWx1ZTtcbiAgICAgICAgZmFsbGJhY2tPcHRpb24udGV4dENvbnRlbnQgPSBzZWxlY3RlZFZhbHVlO1xuICAgICAgICBjb2xsZWN0aW9uU2VsZWN0LmFwcGVuZENoaWxkKGZhbGxiYWNrT3B0aW9uKTtcbiAgICAgIH1cbiAgICAgIGRlc2lnbkNvbGxlY3Rpb25zLmZvckVhY2goKGNvbGxlY3Rpb24pID0+IHtcbiAgICAgICAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICAgIG9wdGlvbi52YWx1ZSA9IGNvbGxlY3Rpb24uaWQ7XG4gICAgICAgIGNvbnN0IGxhYmVsID0gY29sbGVjdGlvbi5uYW1lIHx8IGNvbGxlY3Rpb24uaWQ7XG4gICAgICAgIG9wdGlvbi50ZXh0Q29udGVudCA9IGNvbGxlY3Rpb24udHlwZSA/IGAke2xhYmVsfSBcdTAwQjcgJHtjb2xsZWN0aW9uLnR5cGV9YCA6IGxhYmVsO1xuICAgICAgICBvcHRpb24uZGF0YXNldC5kZXNjcmlwdGlvbiA9IGNvbGxlY3Rpb24uZGVzY3JpcHRpb24gfHwgJyc7XG4gICAgICAgIGNvbGxlY3Rpb25TZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uKTtcbiAgICAgIH0pO1xuICAgICAgaWYgKHNlbGVjdGVkVmFsdWUpIHtcbiAgICAgICAgY29sbGVjdGlvblNlbGVjdC52YWx1ZSA9IHNlbGVjdGVkVmFsdWU7XG4gICAgICB9XG4gICAgICBzeW5jQ29sbGVjdGlvblNlbGVjdGlvbkluZm8oY29sbGVjdGlvblNlbGVjdC52YWx1ZSB8fCAnJyk7XG4gICAgfTtcblxuICAgIGxvYWREZXNpZ25Db2xsZWN0aW9ucygpO1xuICAgIHN5bmNEcmF3ZXJTdGF0ZSgpO1xuXG4gICAgZHJhd2VyT3BlbkJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuRHJhd2VyKTtcbiAgICB9KTtcbiAgICBkcmF3ZXJDbG9zZUJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZURyYXdlcik7XG4gICAgfSk7XG4gICAgZHJhd2VyQmFja2Ryb3A/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VEcmF3ZXIpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCAoKSA9PiB7XG4gICAgICBzeW5jRHJhd2VyU3RhdGUoKTtcbiAgICAgIHVwZGF0ZURyYWdnYWJsZVN0YXRlKCk7XG4gICAgfSk7XG5cbiAgICBhZGRQYWdlVG9nZ2xlPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5BZGRQYWdlRm9ybSk7XG4gICAgYWRkUGFnZUNhbmNlbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZUFkZFBhZ2VGb3JtKTtcbiAgICBhZGRQYWdlTmFtZT8uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBzeW5jU2x1Z0Zyb21OYW1lKTtcbiAgICBhZGRQYWdlU2x1Zz8uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgICBhZGRQYWdlRXJyb3IgJiYgKGFkZFBhZ2VFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICAgIHBhZ2VTbHVnTWFudWFsbHlFZGl0ZWQgPSB0cnVlO1xuICAgIH0pO1xuICAgIGFkZFBhZ2VGb3JtPy5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoIXBhZ2VzQXBpQmFzZSkge1xuICAgICAgICBhZGRQYWdlRXJyb3IgJiYgKGFkZFBhZ2VFcnJvci50ZXh0Q29udGVudCA9ICdBdWN1biBzaXRlIHNcdTAwRTlsZWN0aW9ublx1MDBFOS4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFhZGRQYWdlTmFtZSB8fCAhYWRkUGFnZVNsdWcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgbmFtZSA9IGFkZFBhZ2VOYW1lLnZhbHVlLnRyaW0oKTtcbiAgICAgIGNvbnN0IHRpdGxlID0gYWRkUGFnZVRpdGxlPy52YWx1ZS50cmltKCkgfHwgbmFtZTsgLy8gRmFsbGJhY2sgdG8gbmFtZSBpZiB0aXRsZSBpcyBlbXB0eVxuICAgICAgY29uc3Qgc2x1ZyA9IG5vcm1hbGl6ZVBhZ2VTbHVnKGFkZFBhZ2VTbHVnLnZhbHVlLnRyaW0oKSB8fCBuYW1lKTtcbiAgICAgIGlmICghbmFtZSB8fCAhc2x1Zykge1xuICAgICAgICBhZGRQYWdlRXJyb3IgJiYgKGFkZFBhZ2VFcnJvci50ZXh0Q29udGVudCA9ICdOb20gZXQgc2x1ZyBzb250IHJlcXVpcy4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYWRkUGFnZUVycm9yICYmIChhZGRQYWdlRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgICBpZiAoYWRkUGFnZVN1Ym1pdEJ1dHRvbikge1xuICAgICAgICBhZGRQYWdlU3VibWl0QnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgYWRkUGFnZVN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9ICdDclx1MDBFOWF0aW9uLi4uJztcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGNyZWF0ZWRQYWdlID0gYXdhaXQgY3JlYXRlUGFnZU9uU2VydmVyKHsgbmFtZSwgdGl0bGUsIHNsdWcgfSk7XG4gICAgICAgIGlmICghY3JlYXRlZFBhZ2UgfHwgIWNyZWF0ZWRQYWdlLmlkKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSXHUwMEU5cG9uc2UgaW52YWxpZGUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgcGFnZXMgPSBbLi4ucGFnZXMsIG5vcm1hbGl6ZVBhZ2VEYXRhKGNyZWF0ZWRQYWdlKV07XG4gICAgICAgIGNsb3NlQWRkUGFnZUZvcm0oKTtcbiAgICAgICAgc2hvd1RvYXN0KCdQYWdlIGNyXHUwMEU5XHUwMEU5ZScpO1xuICAgICAgICBzZXRBY3RpdmVQYWdlKGNyZWF0ZWRQYWdlLmlkKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZGVzaWduXSBjcmVhdGUgcGFnZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBhZGRQYWdlRXJyb3IgJiYgKGFkZFBhZ2VFcnJvci50ZXh0Q29udGVudCA9IGVyci5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIGNyXHUwMEU5ZXIgbGEgcGFnZS4nKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmIChhZGRQYWdlU3VibWl0QnV0dG9uKSB7XG4gICAgICAgICAgYWRkUGFnZVN1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgIGFkZFBhZ2VTdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSAnQ3JcdTAwRTllcic7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vID09PSBJbXBvcnQgSlNPTiBoYW5kbGVycyA9PT1cbiAgICBjb25zdCByZXNldFBhc3RlU3RhdGUgPSAoKSA9PiB7XG4gICAgICBpZiAoaW1wb3J0UGFzdGVJbnB1dCkgaW1wb3J0UGFzdGVJbnB1dC52YWx1ZSA9ICcnO1xuICAgICAgaWYgKHBhc3RlRXJyb3IpIHtcbiAgICAgICAgcGFzdGVFcnJvci5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgcGFzdGVFcnJvci50ZXh0Q29udGVudCA9ICcnO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCB2YWxpZGF0ZVBhc3RlSnNvbiA9ICgpID0+IHtcbiAgICAgIGlmICghaW1wb3J0UGFzdGVJbnB1dCkgcmV0dXJuIG51bGw7XG4gICAgICBjb25zdCB0ZXh0ID0gaW1wb3J0UGFzdGVJbnB1dC52YWx1ZS50cmltKCk7XG4gICAgICBpZiAoIXRleHQpIHtcbiAgICAgICAgaWYgKHBhc3RlRXJyb3IpIHBhc3RlRXJyb3IuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcGFyc2VkID0gSlNPTi5wYXJzZSh0ZXh0KTtcbiAgICAgICAgaWYgKHBhc3RlRXJyb3IpIHBhc3RlRXJyb3IuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIHJldHVybiBwYXJzZWQ7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgaWYgKHBhc3RlRXJyb3IpIHtcbiAgICAgICAgICBwYXN0ZUVycm9yLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgIHBhc3RlRXJyb3IudGV4dENvbnRlbnQgPSBgXHUyNzRDIEpTT04gaW52YWxpZGUgOiAke2Vyci5tZXNzYWdlfWA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGZvcm1hdFBhc3RlSnNvbiA9ICgpID0+IHtcbiAgICAgIGlmICghaW1wb3J0UGFzdGVJbnB1dCkgcmV0dXJuO1xuICAgICAgY29uc3QgdGV4dCA9IGltcG9ydFBhc3RlSW5wdXQudmFsdWUudHJpbSgpO1xuICAgICAgaWYgKCF0ZXh0KSByZXR1cm47XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBwYXJzZWQgPSBKU09OLnBhcnNlKHRleHQpO1xuICAgICAgICBpbXBvcnRQYXN0ZUlucHV0LnZhbHVlID0gSlNPTi5zdHJpbmdpZnkocGFyc2VkLCBudWxsLCAyKTtcbiAgICAgICAgdmFsaWRhdGVQYXN0ZUpzb24oKTtcbiAgICAgIH0gY2F0Y2gge1xuICAgICAgICAvLyBTaSBwYXMgdmFsaWRlLCBvbiBuZSBmb3JtYXRlIHBhc1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCB1cGRhdGVJbXBvcnRTdWJtaXRTdGF0ZSA9ICgpID0+IHtcbiAgICAgIGlmICghaW1wb3J0U3VibWl0KSByZXR1cm47XG4gICAgICBpZiAoYWN0aXZlSW1wb3J0VGFiID09PSAndXBsb2FkJykge1xuICAgICAgICBpbXBvcnRTdWJtaXQuZGlzYWJsZWQgPSBpbXBvcnRTZWxlY3RlZEZpbGVzLmxlbmd0aCA9PT0gMDtcbiAgICAgIH0gZWxzZSBpZiAoYWN0aXZlSW1wb3J0VGFiID09PSAncGFzdGUnKSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZCA9IHZhbGlkYXRlUGFzdGVKc29uKCk7XG4gICAgICAgIGltcG9ydFN1Ym1pdC5kaXNhYmxlZCA9ICFwYXJzZWQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbXBvcnRTdWJtaXQuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBvcGVuSW1wb3J0TW9kYWwgPSAoKSA9PiB7XG4gICAgICBpZiAoIWltcG9ydE1vZGFsKSByZXR1cm47XG4gICAgICBpbXBvcnRNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGltcG9ydE1vZGFsLmNsYXNzTGlzdC5hZGQoJ2ZsZXgnKTtcbiAgICAgIGltcG9ydFNlbGVjdGVkRmlsZXMgPSBbXTtcbiAgICAgIGFjdGl2ZUltcG9ydFRhYiA9ICd1cGxvYWQnO1xuICAgICAgdXBkYXRlSW1wb3J0RmlsZUxpc3QoKTtcbiAgICAgIHJlc2V0UGFzdGVTdGF0ZSgpO1xuICAgICAgaWYgKGltcG9ydFJlc3VsdHMpIGltcG9ydFJlc3VsdHMuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBpZiAoaW1wb3J0UmVzdWx0c0NvbnRlbnQpIGltcG9ydFJlc3VsdHNDb250ZW50LmlubmVySFRNTCA9ICcnO1xuICAgICAgdXBkYXRlSW1wb3J0U3VibWl0U3RhdGUoKTtcbiAgICAgIC8vIFJlc2V0IHRhYnMgdG8gdXBsb2FkXG4gICAgICBpbXBvcnRUYWJzLmZvckVhY2goKHQpID0+IHtcbiAgICAgICAgaWYgKHQuZGF0YXNldC5pbXBvcnRUYWIgPT09ICd1cGxvYWQnKSB7XG4gICAgICAgICAgdC5jbGFzc0xpc3QuYWRkKCdiZy1bIzlDNkJGRl0nLCAndGV4dC13aGl0ZScpO1xuICAgICAgICAgIHQuY2xhc3NMaXN0LnJlbW92ZSgnYm9yZGVyJywgJ2JvcmRlci1zbGF0ZS0yMDAnLCAndGV4dC1zbGF0ZS03MDAnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0LmNsYXNzTGlzdC5yZW1vdmUoJ2JnLVsjOUM2QkZGXScsICd0ZXh0LXdoaXRlJyk7XG4gICAgICAgICAgdC5jbGFzc0xpc3QuYWRkKCdib3JkZXInLCAnYm9yZGVyLXNsYXRlLTIwMCcsICd0ZXh0LXNsYXRlLTcwMCcpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGltcG9ydFBhbmVscy5mb3JFYWNoKChwKSA9PiB7XG4gICAgICAgIGlmIChwLmRhdGFzZXQuaW1wb3J0UGFuZWwgPT09ICd1cGxvYWQnKSB7XG4gICAgICAgICAgcC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGFjdGl2YXRlTW9kYWwoaW1wb3J0TW9kYWwsIGNsb3NlSW1wb3J0TW9kYWwpO1xuICAgIH07XG4gICAgY29uc3QgY2xvc2VJbXBvcnRNb2RhbCA9ICgpID0+IHtcbiAgICAgIGlmICghaW1wb3J0TW9kYWwpIHJldHVybjtcbiAgICAgIGltcG9ydE1vZGFsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgaW1wb3J0TW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnZmxleCcpO1xuICAgICAgaW1wb3J0U2VsZWN0ZWRGaWxlcyA9IFtdO1xuICAgICAgcmVzZXRQYXN0ZVN0YXRlKCk7XG4gICAgICBkZWFjdGl2YXRlTW9kYWwoaW1wb3J0TW9kYWwpO1xuICAgIH07XG4gICAgY29uc3QgdXBkYXRlSW1wb3J0RmlsZUxpc3QgPSAoKSA9PiB7XG4gICAgICBpZiAoIWltcG9ydEZpbGVMaXN0IHx8ICFpbXBvcnRGaWxlTmFtZXMpIHJldHVybjtcbiAgICAgIGlmIChpbXBvcnRTZWxlY3RlZEZpbGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBpbXBvcnRGaWxlTGlzdC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgdXBkYXRlSW1wb3J0U3VibWl0U3RhdGUoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaW1wb3J0RmlsZUxpc3QuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBpbXBvcnRGaWxlTmFtZXMuaW5uZXJIVE1MID0gaW1wb3J0U2VsZWN0ZWRGaWxlc1xuICAgICAgICAubWFwKChmKSA9PiBgPGxpIGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj48c3BhbiBjbGFzcz1cInRleHQtbGdcIj5cdUQ4M0RcdURDQzQ8L3NwYW4+JHtmLm5hbWV9PC9saT5gKVxuICAgICAgICAuam9pbignJyk7XG4gICAgICB1cGRhdGVJbXBvcnRTdWJtaXRTdGF0ZSgpO1xuICAgIH07XG4gICAgY29uc3QgaGFuZGxlSW1wb3J0RmlsZXMgPSAoZmlsZXMpID0+IHtcbiAgICAgIGNvbnN0IGpzb25GaWxlcyA9IEFycmF5LmZyb20oZmlsZXMpLmZpbHRlcihcbiAgICAgICAgKGYpID0+IGYudHlwZSA9PT0gJ2FwcGxpY2F0aW9uL2pzb24nIHx8IGYubmFtZS5lbmRzV2l0aCgnLmpzb24nKVxuICAgICAgKTtcbiAgICAgIGlmIChqc29uRmlsZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHNob3dUb2FzdCgnQXVjdW4gZmljaGllciBKU09OIHZhbGlkZS4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaW1wb3J0U2VsZWN0ZWRGaWxlcyA9IGpzb25GaWxlcztcbiAgICAgIHVwZGF0ZUltcG9ydEZpbGVMaXN0KCk7XG4gICAgfTtcbiAgICBjb25zdCBleGVjdXRlSW1wb3J0ID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFwYWdlc0FwaUJhc2UpIHJldHVybjtcbiAgICAgIFxuICAgICAgLy8gRGV0ZXJtaW5lIHNvdXJjZSBvZiBkYXRhIGJhc2VkIG9uIGFjdGl2ZSB0YWJcbiAgICAgIGxldCBwYWdlc0RhdGEgPSBbXTtcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coJ1tpbXBvcnRdIGFjdGl2ZUltcG9ydFRhYjonLCBhY3RpdmVJbXBvcnRUYWIpO1xuICAgICAgXG4gICAgICBpZiAoYWN0aXZlSW1wb3J0VGFiID09PSAncGFzdGUnKSB7XG4gICAgICAgIC8vIEltcG9ydCBmcm9tIHBhc3RlZCBKU09OXG4gICAgICAgIGNvbnN0IHRleHQgPSBpbXBvcnRQYXN0ZUlucHV0Py52YWx1ZT8udHJpbSgpO1xuICAgICAgICBjb25zb2xlLmxvZygnW2ltcG9ydF0gcGFzdGUgdGV4dCBsZW5ndGg6JywgdGV4dD8ubGVuZ3RoKTtcbiAgICAgICAgaWYgKCF0ZXh0KSB7XG4gICAgICAgICAgc2hvd1RvYXN0KCdBdWN1biBKU09OIFx1MDBFMCBpbXBvcnRlci4nKTtcbiAgICAgICAgICBpZiAoaW1wb3J0UmVzdWx0cyAmJiBpbXBvcnRSZXN1bHRzQ29udGVudCkge1xuICAgICAgICAgICAgaW1wb3J0UmVzdWx0cy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIGltcG9ydFJlc3VsdHNDb250ZW50LmlubmVySFRNTCA9ICc8cCBjbGFzcz1cInRleHQtYW1iZXItNjAwXCI+XHUyNkEwIExlIGNoYW1wIGRlIHRleHRlIGVzdCB2aWRlLjwvcD4nO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBwYXJzZWQgPSBKU09OLnBhcnNlKHRleHQpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdbaW1wb3J0XSBwYXJzZWQgSlNPTjonLCBwYXJzZWQpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdbaW1wb3J0XSBwYXJzZWQgdHlwZTonLCB0eXBlb2YgcGFyc2VkLCBBcnJheS5pc0FycmF5KHBhcnNlZCkgPyAnYXJyYXknIDogJ25vdCBhcnJheScpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIFN1cHBvcnQgZm9ybWF0IHsgcGFnZXM6IFsuLi5dLCBjb2xsZWN0aW9uczogey4uLn0gfVxuICAgICAgICAgIGlmIChwYXJzZWQgJiYgIUFycmF5LmlzQXJyYXkocGFyc2VkKSAmJiBwYXJzZWQucGFnZXMpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbaW1wb3J0XSBkZXRlY3RlZCBwYWdlcytjb2xsZWN0aW9ucyBmb3JtYXQnKTtcbiAgICAgICAgICAgIHBhZ2VzRGF0YSA9IHBhcnNlZDsgLy8gU2VuZCB0aGUgd2hvbGUgb2JqZWN0LCBiYWNrZW5kIHdpbGwgaGFuZGxlIGl0XG4gICAgICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHBhcnNlZCkpIHtcbiAgICAgICAgICAgIHBhZ2VzRGF0YS5wdXNoKC4uLnBhcnNlZCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhZ2VzRGF0YS5wdXNoKHBhcnNlZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnNvbGUubG9nKCdbaW1wb3J0XSBwYWdlc0RhdGEgcHJlcGFyZWQ6JywgcGFnZXNEYXRhKTtcbiAgICAgICAgfSBjYXRjaCAocGFyc2VFcnIpIHtcbiAgICAgICAgICAvLyBBZmZpY2hlciBsZSBkXHUwMEU5dGFpbCBkZSBsJ2VycmV1ciBkZSBwYXJzaW5nXG4gICAgICAgICAgY29uc3QgZXJyb3JMaW5lID0gcGFyc2VFcnIubWVzc2FnZS5tYXRjaCgvcG9zaXRpb24gKFxcZCspLyk7XG4gICAgICAgICAgbGV0IGVycm9yRGV0YWlsID0gcGFyc2VFcnIubWVzc2FnZTtcbiAgICAgICAgICBpZiAoZXJyb3JMaW5lKSB7XG4gICAgICAgICAgICBjb25zdCBwb3MgPSBwYXJzZUludChlcnJvckxpbmVbMV0sIDEwKTtcbiAgICAgICAgICAgIGNvbnN0IGxpbmVzID0gdGV4dC5zdWJzdHJpbmcoMCwgcG9zKS5zcGxpdCgnXFxuJyk7XG4gICAgICAgICAgICBjb25zdCBsaW5lTnVtID0gbGluZXMubGVuZ3RoO1xuICAgICAgICAgICAgY29uc3QgY29sTnVtID0gbGluZXNbbGluZXMubGVuZ3RoIC0gMV0ubGVuZ3RoICsgMTtcbiAgICAgICAgICAgIGVycm9yRGV0YWlsID0gYExpZ25lICR7bGluZU51bX0sIGNvbG9ubmUgJHtjb2xOdW19OiAke3BhcnNlRXJyLm1lc3NhZ2V9YDtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2hvd1RvYXN0KGBFcnJldXIgSlNPTiA6ICR7ZXJyb3JEZXRhaWx9YCwgJ2Vycm9yJyk7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW2ltcG9ydF0gcGFzdGUgcGFyc2UgZXJyb3InLCBwYXJzZUVycik7XG4gICAgICAgICAgLy8gU2hvdyBlcnJvciBpbiByZXN1bHRzIGFyZWFcbiAgICAgICAgICBpZiAoaW1wb3J0UmVzdWx0cyAmJiBpbXBvcnRSZXN1bHRzQ29udGVudCkge1xuICAgICAgICAgICAgaW1wb3J0UmVzdWx0cy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIGltcG9ydFJlc3VsdHNDb250ZW50LmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRleHQtcm9zZS02MDBcIj5cbiAgICAgICAgICAgICAgICA8cCBjbGFzcz1cImZvbnQtbWVkaXVtXCI+XHUyNzE3IEVycmV1ciBkZSBzeW50YXhlIEpTT048L3A+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXhzIG10LTFcIj4ke2Vycm9yRGV0YWlsfTwvcD5cbiAgICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQteHMgbXQtMiB0ZXh0LXNsYXRlLTUwMFwiPlZcdTAwRTlyaWZpZXogbGVzIHZpcmd1bGVzLCBndWlsbGVtZXRzIGV0IGFjY29sYWRlcy48L3A+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgYDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGFjdGl2ZUltcG9ydFRhYiA9PT0gJ3VwbG9hZCcpIHtcbiAgICAgICAgLy8gSW1wb3J0IGZyb20gZmlsZXNcbiAgICAgICAgaWYgKGltcG9ydFNlbGVjdGVkRmlsZXMubGVuZ3RoID09PSAwKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGZpbGVFcnJvcnMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBmaWxlIG9mIGltcG9ydFNlbGVjdGVkRmlsZXMpIHtcbiAgICAgICAgICBjb25zdCB0ZXh0ID0gYXdhaXQgZmlsZS50ZXh0KCk7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZCA9IEpTT04ucGFyc2UodGV4dCk7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwYXJzZWQpKSB7XG4gICAgICAgICAgICAgIHBhZ2VzRGF0YS5wdXNoKC4uLnBhcnNlZCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwYWdlc0RhdGEucHVzaChwYXJzZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2ggKHBhcnNlRXJyKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvckxpbmUgPSBwYXJzZUVyci5tZXNzYWdlLm1hdGNoKC9wb3NpdGlvbiAoXFxkKykvKTtcbiAgICAgICAgICAgIGxldCBlcnJvckRldGFpbCA9IHBhcnNlRXJyLm1lc3NhZ2U7XG4gICAgICAgICAgICBpZiAoZXJyb3JMaW5lKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHBvcyA9IHBhcnNlSW50KGVycm9yTGluZVsxXSwgMTApO1xuICAgICAgICAgICAgICBjb25zdCBsaW5lcyA9IHRleHQuc3Vic3RyaW5nKDAsIHBvcykuc3BsaXQoJ1xcbicpO1xuICAgICAgICAgICAgICBjb25zdCBsaW5lTnVtID0gbGluZXMubGVuZ3RoO1xuICAgICAgICAgICAgICBlcnJvckRldGFpbCA9IGBMaWduZSAke2xpbmVOdW19OiAke3BhcnNlRXJyLm1lc3NhZ2V9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbGVFcnJvcnMucHVzaCh7IGZpbGU6IGZpbGUubmFtZSwgZXJyb3I6IGVycm9yRGV0YWlsIH0pO1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignW2ltcG9ydF0gcGFyc2UgZXJyb3InLCBmaWxlLm5hbWUsIHBhcnNlRXJyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2hvdyBmaWxlIHBhcnNpbmcgZXJyb3JzIGlmIGFueVxuICAgICAgICBpZiAoZmlsZUVycm9ycy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgaWYgKGltcG9ydFJlc3VsdHMgJiYgaW1wb3J0UmVzdWx0c0NvbnRlbnQpIHtcbiAgICAgICAgICAgIGltcG9ydFJlc3VsdHMuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgICBsZXQgaHRtbCA9ICc8ZGl2IGNsYXNzPVwidGV4dC1yb3NlLTYwMFwiPjxwIGNsYXNzPVwiZm9udC1tZWRpdW1cIj5cdTI3MTcgRXJyZXVycyBkZSBzeW50YXhlIEpTT048L3A+PHVsIGNsYXNzPVwibWwtNCB0ZXh0LXhzIG10LTFcIj4nO1xuICAgICAgICAgICAgZmlsZUVycm9ycy5mb3JFYWNoKGUgPT4ge1xuICAgICAgICAgICAgICBodG1sICs9IGA8bGk+PHN0cm9uZz4ke2UuZmlsZX08L3N0cm9uZz46ICR7ZS5lcnJvcn08L2xpPmA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGh0bWwgKz0gJzwvdWw+PC9kaXY+JztcbiAgICAgICAgICAgIGlmIChwYWdlc0RhdGEubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICBodG1sICs9IGA8cCBjbGFzcz1cInRleHQtYW1iZXItNjAwIG10LTIgdGV4dC1zbVwiPlx1MjZBMCAke3BhZ2VzRGF0YS5sZW5ndGh9IHBhZ2UocykgdmFsaWRlKHMpIHNlcm9udCBpbXBvcnRcdTAwRTllKHMpPC9wPmA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbXBvcnRSZXN1bHRzQ29udGVudC5pbm5lckhUTUwgPSBodG1sO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocGFnZXNEYXRhLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgc2hvd1RvYXN0KCdUb3VzIGxlcyBmaWNoaWVycyBjb250aWVubmVudCBkZXMgZXJyZXVycyBKU09OJywgJ2Vycm9yJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIFZcdTAwRTlyaWZpZXIgcXUnb24gYSBkZXMgZG9ublx1MDBFOWVzIFx1MDBFMCBpbXBvcnRlclxuICAgICAgY29uc3QgaGFzRGF0YSA9IEFycmF5LmlzQXJyYXkocGFnZXNEYXRhKSBcbiAgICAgICAgPyBwYWdlc0RhdGEubGVuZ3RoID4gMCBcbiAgICAgICAgOiAocGFnZXNEYXRhICYmIChwYWdlc0RhdGEucGFnZXM/Lmxlbmd0aCA+IDAgfHwgcGFnZXNEYXRhLnRpdGxlKSk7XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKCdbaW1wb3J0XSBoYXNEYXRhIGNoZWNrOicsIGhhc0RhdGEsICdwYWdlc0RhdGE6JywgcGFnZXNEYXRhKTtcbiAgICAgIFxuICAgICAgaWYgKCFoYXNEYXRhKSB7XG4gICAgICAgIHNob3dUb2FzdCgnQXVjdW5lIHBhZ2UgdmFsaWRlIFx1MDBFMCBpbXBvcnRlci4nKTtcbiAgICAgICAgaWYgKGltcG9ydFJlc3VsdHMgJiYgaW1wb3J0UmVzdWx0c0NvbnRlbnQpIHtcbiAgICAgICAgICBpbXBvcnRSZXN1bHRzLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgIGltcG9ydFJlc3VsdHNDb250ZW50LmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LWFtYmVyLTYwMFwiPlxuICAgICAgICAgICAgICA8cCBjbGFzcz1cImZvbnQtbWVkaXVtXCI+XHUyNkEwIEF1Y3VuZSBwYWdlIGRcdTAwRTl0ZWN0XHUwMEU5ZTwvcD5cbiAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXhzIG10LTFcIj5MZSBKU09OIGRvaXQgY29udGVuaXIgOjwvcD5cbiAgICAgICAgICAgICAgPHVsIGNsYXNzPVwidGV4dC14cyBtbC00IG10LTEgbGlzdC1kaXNjXCI+XG4gICAgICAgICAgICAgICAgPGxpPlVuIG9iamV0IHBhZ2UgYXZlYyBcInRpdGxlXCIgOiA8Y29kZT57XCJ0aXRsZVwiOiBcIk1hIHBhZ2VcIiwgLi4ufTwvY29kZT48L2xpPlxuICAgICAgICAgICAgICAgIDxsaT5VbiB0YWJsZWF1IGRlIHBhZ2VzIDogPGNvZGU+W3tcInRpdGxlXCI6IFwiUGFnZSAxXCJ9LCB7XCJ0aXRsZVwiOiBcIlBhZ2UgMlwifV08L2NvZGU+PC9saT5cbiAgICAgICAgICAgICAgICA8bGk+T3UgdW4gb2JqZXQgY29tYmluXHUwMEU5IDogPGNvZGU+e1wicGFnZXNcIjogWy4uLl0sIFwiY29sbGVjdGlvbnNcIjogey4uLn19PC9jb2RlPjwvbGk+XG4gICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICBgO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGltcG9ydFN1Ym1pdCkge1xuICAgICAgICBpbXBvcnRTdWJtaXQuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICBpbXBvcnRTdWJtaXQudGV4dENvbnRlbnQgPSAnSW1wb3J0Li4uJztcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gQWZmaWNoZXIgY2UgcXUnb24gdmEgZW52b3llciAoZGVidWcpXG4gICAgICBjb25zb2xlLmxvZygnW2ltcG9ydF0gU2VuZGluZyB0byBzZXJ2ZXI6JywgSlNPTi5zdHJpbmdpZnkocGFnZXNEYXRhKS5zdWJzdHJpbmcoMCwgNTAwKSk7XG4gICAgICBcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7cGFnZXNBcGlCYXNlfS9pbXBvcnRgLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgY3JlZGVudGlhbHM6ICdpbmNsdWRlJyxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYWdlc0RhdGEpLFxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGNvbnNvbGUubG9nKCdbaW1wb3J0XSBTZXJ2ZXIgcmVzcG9uc2Ugc3RhdHVzOicsIHJlc3BvbnNlLnN0YXR1cyk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdbaW1wb3J0XSBTZXJ2ZXIgcmVzcG9uc2UgYm9keTonLCByZXN1bHQpO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgLy8gQWZmaWNoZXIgbGUgZFx1MDBFOXRhaWwgZGUgbCdlcnJldXIgc2VydmV1clxuICAgICAgICAgIGlmIChpbXBvcnRSZXN1bHRzICYmIGltcG9ydFJlc3VsdHNDb250ZW50KSB7XG4gICAgICAgICAgICBpbXBvcnRSZXN1bHRzLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgICAgaW1wb3J0UmVzdWx0c0NvbnRlbnQuaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC1yb3NlLTYwMFwiPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwiZm9udC1tZWRpdW1cIj5cdTI3MTcgRXJyZXVyIHNlcnZldXI8L3A+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXhzIG10LTFcIj4ke3Jlc3VsdC5tZXNzYWdlIHx8ICdFcnJldXIgaW5jb25udWUnfTwvcD5cbiAgICAgICAgICAgICAgICAke3Jlc3VsdC5kZXRhaWxzID8gYDxwIGNsYXNzPVwidGV4dC14cyBtdC0xIHRleHQtc2xhdGUtNTAwXCI+JHtyZXN1bHQuZGV0YWlsc308L3A+YCA6ICcnfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIGA7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQubWVzc2FnZSB8fCAnRXJyZXVyIHNlcnZldXInKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTaG93IHJlc3VsdHNcbiAgICAgICAgaWYgKGltcG9ydFJlc3VsdHMgJiYgaW1wb3J0UmVzdWx0c0NvbnRlbnQpIHtcbiAgICAgICAgICBpbXBvcnRSZXN1bHRzLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgIGxldCBodG1sID0gJyc7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gRW50XHUwMEVBdGUgc3VjY1x1MDBFOHMvZXJyZXVyXG4gICAgICAgICAgY29uc3QgaGFzU3VjY2VzcyA9IChyZXN1bHQuaW1wb3J0ZWQ/Lmxlbmd0aCA+IDApIHx8IChyZXN1bHQuY29sbGVjdGlvbnNDcmVhdGVkPy5sZW5ndGggPiAwKTtcbiAgICAgICAgICBjb25zdCBoYXNFcnJvcnMgPSByZXN1bHQuZXJyb3JzPy5sZW5ndGggPiAwO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmIChoYXNTdWNjZXNzICYmICFoYXNFcnJvcnMpIHtcbiAgICAgICAgICAgIGh0bWwgKz0gJzxkaXYgY2xhc3M9XCJiZy1ncmVlbi01MCBib3JkZXIgYm9yZGVyLWdyZWVuLTIwMCByb3VuZGVkLWxnIHAtMyBtYi0yXCI+PHAgY2xhc3M9XCJ0ZXh0LWdyZWVuLTgwMCBmb250LW1lZGl1bVwiPlx1MjcxMyBJbXBvcnQgclx1MDBFOXVzc2k8L3A+PC9kaXY+JztcbiAgICAgICAgICB9IGVsc2UgaWYgKGhhc1N1Y2Nlc3MgJiYgaGFzRXJyb3JzKSB7XG4gICAgICAgICAgICBodG1sICs9ICc8ZGl2IGNsYXNzPVwiYmctYW1iZXItNTAgYm9yZGVyIGJvcmRlci1hbWJlci0yMDAgcm91bmRlZC1sZyBwLTMgbWItMlwiPjxwIGNsYXNzPVwidGV4dC1hbWJlci04MDAgZm9udC1tZWRpdW1cIj5cdTI2QTAgSW1wb3J0IHBhcnRpZWw8L3A+PC9kaXY+JztcbiAgICAgICAgICB9IGVsc2UgaWYgKGhhc0Vycm9ycykge1xuICAgICAgICAgICAgaHRtbCArPSAnPGRpdiBjbGFzcz1cImJnLXJvc2UtNTAgYm9yZGVyIGJvcmRlci1yb3NlLTIwMCByb3VuZGVkLWxnIHAtMyBtYi0yXCI+PHAgY2xhc3M9XCJ0ZXh0LXJvc2UtODAwIGZvbnQtbWVkaXVtXCI+XHUyNzE3IEltcG9ydCBcdTAwRTljaG91XHUwMEU5PC9wPjwvZGl2Pic7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIENvbGxlY3Rpb25zIGNyXHUwMEU5XHUwMEU5ZXNcbiAgICAgICAgICBpZiAocmVzdWx0LmNvbGxlY3Rpb25zQ3JlYXRlZCAmJiByZXN1bHQuY29sbGVjdGlvbnNDcmVhdGVkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGh0bWwgKz0gYDxwIGNsYXNzPVwidGV4dC12aW9sZXQtNzAwIG10LTJcIj5cdTI3MTMgJHtyZXN1bHQuY29sbGVjdGlvbnNDcmVhdGVkLmxlbmd0aH0gY29sbGVjdGlvbihzKSBjclx1MDBFOVx1MDBFOWUocyk8L3A+YDtcbiAgICAgICAgICAgIGh0bWwgKz0gJzx1bCBjbGFzcz1cIm1sLTQgdGV4dC14cyB0ZXh0LXNsYXRlLTYwMFwiPic7XG4gICAgICAgICAgICByZXN1bHQuY29sbGVjdGlvbnNDcmVhdGVkLmZvckVhY2goKGMpID0+IHtcbiAgICAgICAgICAgICAgaHRtbCArPSBgPGxpPiR7Yy5uYW1lfSAoJHtjLml0ZW1zQ291bnR9IGl0ZW0ke2MuaXRlbXNDb3VudCA+IDEgPyAncycgOiAnJ30pPC9saT5gO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBodG1sICs9ICc8L3VsPic7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIFBhZ2VzIGltcG9ydFx1MDBFOWVzXG4gICAgICAgICAgaWYgKHJlc3VsdC5pbXBvcnRlZCAmJiByZXN1bHQuaW1wb3J0ZWQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgaHRtbCArPSBgPHAgY2xhc3M9XCJ0ZXh0LWdyZWVuLTcwMCBtdC0yXCI+XHUyNzEzICR7cmVzdWx0LmltcG9ydGVkLmxlbmd0aH0gcGFnZShzKSBpbXBvcnRcdTAwRTllKHMpPC9wPmA7XG4gICAgICAgICAgICBodG1sICs9ICc8dWwgY2xhc3M9XCJtbC00IHRleHQteHMgdGV4dC1zbGF0ZS02MDBcIj4nO1xuICAgICAgICAgICAgcmVzdWx0LmltcG9ydGVkLmZvckVhY2goKHApID0+IHtcbiAgICAgICAgICAgICAgaHRtbCArPSBgPGxpPjxzdHJvbmc+JHtwLnRpdGxlfTwvc3Ryb25nPiBcdTIxOTIgJHtwLnNsdWd9ICgke3AuYWN0aW9uID09PSAndXBkYXRlZCcgPyAnbWlzZSBcdTAwRTAgam91cicgOiAnY3JcdTAwRTlcdTAwRTllJ30pPC9saT5gO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBodG1sICs9ICc8L3VsPic7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIEVycmV1cnMgYXZlYyBkXHUwMEU5dGFpbHNcbiAgICAgICAgICBpZiAocmVzdWx0LmVycm9ycyAmJiByZXN1bHQuZXJyb3JzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGh0bWwgKz0gYDxwIGNsYXNzPVwidGV4dC1yb3NlLTYwMCBtdC0zIGZvbnQtbWVkaXVtXCI+XHUyNzE3ICR7cmVzdWx0LmVycm9ycy5sZW5ndGh9IGVycmV1cihzKTwvcD5gO1xuICAgICAgICAgICAgaHRtbCArPSAnPHVsIGNsYXNzPVwibWwtNCB0ZXh0LXhzIHRleHQtcm9zZS02MDAgc3BhY2UteS0xIG10LTFcIj4nO1xuICAgICAgICAgICAgcmVzdWx0LmVycm9ycy5mb3JFYWNoKChlKSA9PiB7XG4gICAgICAgICAgICAgIGh0bWwgKz0gYDxsaSBjbGFzcz1cImJnLXJvc2UtNTAgcC0yIHJvdW5kZWRcIj48c3Ryb25nPiR7ZS50aXRsZX08L3N0cm9uZz48YnIvPjxzcGFuIGNsYXNzPVwidGV4dC1yb3NlLTUwMFwiPiR7ZS5lcnJvcn08L3NwYW4+PC9saT5gO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBodG1sICs9ICc8L3VsPic7XG4gICAgICAgICAgfVxuICAgICAgICAgIGltcG9ydFJlc3VsdHNDb250ZW50LmlubmVySFRNTCA9IGh0bWw7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVsb2FkIHBhZ2VzIGxpc3QgYW5kIHNob3cgdG9hc3RcbiAgICAgICAgY29uc3QgaGFzU3VjY2VzcyA9IChyZXN1bHQuaW1wb3J0ZWQ/Lmxlbmd0aCA+IDApIHx8IChyZXN1bHQuY29sbGVjdGlvbnNDcmVhdGVkPy5sZW5ndGggPiAwKTtcbiAgICAgICAgY29uc3QgaGFzRXJyb3JzID0gcmVzdWx0LmVycm9ycz8ubGVuZ3RoID4gMDtcbiAgICAgICAgXG4gICAgICAgIGlmIChyZXN1bHQuaW1wb3J0ZWQgJiYgcmVzdWx0LmltcG9ydGVkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBjb25zdCBmcmVzaFBhZ2VzID0gYXdhaXQgZmV0Y2hQYWdlc0Zyb21TZXJ2ZXIoKTtcbiAgICAgICAgICBwYWdlcyA9IGZyZXNoUGFnZXM7XG4gICAgICAgICAgcmVuZGVyUGFnZUxpc3RzKHBhZ2VzLCBhY3RpdmVQYWdlSWQpO1xuICAgICAgICAgIGlmIChwYWdlcy5sZW5ndGggPiAwICYmICFhY3RpdmVQYWdlSWQpIHtcbiAgICAgICAgICAgIHNldEFjdGl2ZVBhZ2UocGFnZXNbMF0uaWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gVG9hc3QgYXZlYyBzdGF0dXQgYXBwcm9wcmlcdTAwRTlcbiAgICAgICAgaWYgKGhhc1N1Y2Nlc3MgJiYgIWhhc0Vycm9ycykge1xuICAgICAgICAgIGNvbnN0IGNvbGxlY3Rpb25zTXNnID0gcmVzdWx0LmNvbGxlY3Rpb25zQ3JlYXRlZD8ubGVuZ3RoIFxuICAgICAgICAgICAgPyBgICsgJHtyZXN1bHQuY29sbGVjdGlvbnNDcmVhdGVkLmxlbmd0aH0gY29sbGVjdGlvbihzKWAgXG4gICAgICAgICAgICA6ICcnO1xuICAgICAgICAgIHNob3dUb2FzdChgXHUyNzEzIEltcG9ydCByXHUwMEU5dXNzaSA6ICR7cmVzdWx0LmltcG9ydGVkPy5sZW5ndGggfHwgMH0gcGFnZShzKSR7Y29sbGVjdGlvbnNNc2d9YCwgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgfSBlbHNlIGlmIChoYXNTdWNjZXNzICYmIGhhc0Vycm9ycykge1xuICAgICAgICAgIHNob3dUb2FzdChgXHUyNkEwIEltcG9ydCBwYXJ0aWVsIDogJHtyZXN1bHQuaW1wb3J0ZWQ/Lmxlbmd0aCB8fCAwfSBwYWdlKHMpLCAke3Jlc3VsdC5lcnJvcnMubGVuZ3RofSBlcnJldXIocylgLCAnd2FybmluZycpO1xuICAgICAgICB9IGVsc2UgaWYgKGhhc0Vycm9ycykge1xuICAgICAgICAgIHNob3dUb2FzdChgXHUyNzE3IEltcG9ydCBcdTAwRTljaG91XHUwMEU5IDogJHtyZXN1bHQuZXJyb3JzLmxlbmd0aH0gZXJyZXVyKHMpYCwgJ2Vycm9yJyk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGltcG9ydFNlbGVjdGVkRmlsZXMgPSBbXTtcbiAgICAgICAgdXBkYXRlSW1wb3J0RmlsZUxpc3QoKTtcbiAgICAgICAgcmVzZXRQYXN0ZVN0YXRlKCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2ltcG9ydF0gZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdFcnJldXIgaW1wb3J0JywgJ2Vycm9yJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoaW1wb3J0U3VibWl0KSB7XG4gICAgICAgICAgaW1wb3J0U3VibWl0LmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgaW1wb3J0U3VibWl0LnRleHRDb250ZW50ID0gJ0ltcG9ydGVyJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgaW1wb3J0VG9nZ2xlPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5JbXBvcnRNb2RhbCk7XG4gICAgaW1wb3J0Q2xvc2VCdXR0b25zLmZvckVhY2goKGJ0bikgPT4gYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VJbXBvcnRNb2RhbCkpO1xuICAgIGltcG9ydE1vZGFsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBpZiAoZS50YXJnZXQgPT09IGltcG9ydE1vZGFsKSBjbG9zZUltcG9ydE1vZGFsKCk7XG4gICAgfSk7XG4gICAgaW1wb3J0RmlsZUlucHV0Py5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZSkgPT4ge1xuICAgICAgaGFuZGxlSW1wb3J0RmlsZXMoZS50YXJnZXQuZmlsZXMpO1xuICAgIH0pO1xuICAgIGltcG9ydERyb3B6b25lPy5hZGRFdmVudExpc3RlbmVyKCdkcmFnb3ZlcicsIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpbXBvcnREcm9wem9uZS5jbGFzc0xpc3QuYWRkKCdib3JkZXItWyM5QzZCRkZdJywgJ2JnLVsjOUM2QkZGXS8xMCcpO1xuICAgIH0pO1xuICAgIGltcG9ydERyb3B6b25lPy5hZGRFdmVudExpc3RlbmVyKCdkcmFnbGVhdmUnLCAoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaW1wb3J0RHJvcHpvbmUuY2xhc3NMaXN0LnJlbW92ZSgnYm9yZGVyLVsjOUM2QkZGXScsICdiZy1bIzlDNkJGRl0vMTAnKTtcbiAgICB9KTtcbiAgICBpbXBvcnREcm9wem9uZT8uYWRkRXZlbnRMaXN0ZW5lcignZHJvcCcsIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpbXBvcnREcm9wem9uZS5jbGFzc0xpc3QucmVtb3ZlKCdib3JkZXItWyM5QzZCRkZdJywgJ2JnLVsjOUM2QkZGXS8xMCcpO1xuICAgICAgaGFuZGxlSW1wb3J0RmlsZXMoZS5kYXRhVHJhbnNmZXIuZmlsZXMpO1xuICAgIH0pO1xuICAgIGltcG9ydFN1Ym1pdD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBleGVjdXRlSW1wb3J0KTtcbiAgICAvLyBQYXN0ZSBKU09OIGhhbmRsZXJzXG4gICAgaW1wb3J0UGFzdGVJbnB1dD8uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgICB1cGRhdGVJbXBvcnRTdWJtaXRTdGF0ZSgpO1xuICAgIH0pO1xuICAgIHBhc3RlRm9ybWF0QnRuPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZvcm1hdFBhc3RlSnNvbik7XG4gICAgLy8gSW1wb3J0IHRhYnNcbiAgICBpbXBvcnRUYWJzLmZvckVhY2goKHRhYikgPT4ge1xuICAgICAgdGFiLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBjb25zdCB0YXJnZXRQYW5lbCA9IHRhYi5kYXRhc2V0LmltcG9ydFRhYjtcbiAgICAgICAgYWN0aXZlSW1wb3J0VGFiID0gdGFyZ2V0UGFuZWw7XG4gICAgICAgIGltcG9ydFRhYnMuZm9yRWFjaCgodCkgPT4ge1xuICAgICAgICAgIGlmICh0LmRhdGFzZXQuaW1wb3J0VGFiID09PSB0YXJnZXRQYW5lbCkge1xuICAgICAgICAgICAgdC5jbGFzc0xpc3QuYWRkKCdiZy1bIzlDNkJGRl0nLCAndGV4dC13aGl0ZScpO1xuICAgICAgICAgICAgdC5jbGFzc0xpc3QucmVtb3ZlKCdib3JkZXInLCAnYm9yZGVyLXNsYXRlLTIwMCcsICd0ZXh0LXNsYXRlLTcwMCcpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0LmNsYXNzTGlzdC5yZW1vdmUoJ2JnLVsjOUM2QkZGXScsICd0ZXh0LXdoaXRlJyk7XG4gICAgICAgICAgICB0LmNsYXNzTGlzdC5hZGQoJ2JvcmRlcicsICdib3JkZXItc2xhdGUtMjAwJywgJ3RleHQtc2xhdGUtNzAwJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaW1wb3J0UGFuZWxzLmZvckVhY2goKHApID0+IHtcbiAgICAgICAgICBpZiAocC5kYXRhc2V0LmltcG9ydFBhbmVsID09PSB0YXJnZXRQYW5lbCkge1xuICAgICAgICAgICAgcC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB1cGRhdGVJbXBvcnRTdWJtaXRTdGF0ZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgY29weVRlbXBsYXRlQnRuPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghdGVtcGxhdGVKc29uKSByZXR1cm47XG4gICAgICBjb25zdCB0ZXh0ID0gdGVtcGxhdGVKc29uLnRleHRDb250ZW50IHx8ICcnO1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQodGV4dCk7XG4gICAgICAgIHNob3dUb2FzdCgnVGVtcGxhdGUgY29waVx1MDBFOSAhJyk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2ltcG9ydF0gY29weSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoJ0VycmV1ciBjb3BpZScpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gRGVsZXRlIHBhZ2UgbW9kYWwgbGlzdGVuZXJzXG4gICAgZGVsZXRlUGFnZUNhbmNlbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZURlbGV0ZVBhZ2VNb2RhbCk7XG4gICAgZGVsZXRlUGFnZUNvbmZpcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZXhlY3V0ZURlbGV0ZVBhZ2UpO1xuICAgIGRlbGV0ZVBhZ2VNb2RhbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgaWYgKGUudGFyZ2V0ID09PSBkZWxldGVQYWdlTW9kYWwpIGNsb3NlRGVsZXRlUGFnZU1vZGFsKCk7XG4gICAgfSk7XG5cbiAgICBibG9ja0xpYnJhcnlUb2dnbGU/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIHRvZ2dsZUJsb2NrTGlicmFyeSgpO1xuICAgIH0pO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoIWJsb2NrTGlicmFyeU9wZW4pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKFxuICAgICAgICBibG9ja0xpYnJhcnk/LmNvbnRhaW5zKGV2ZW50LnRhcmdldCkgfHxcbiAgICAgICAgYmxvY2tMaWJyYXJ5VG9nZ2xlPy5jb250YWlucyhldmVudC50YXJnZXQpXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY2xvc2VCbG9ja0xpYnJhcnkoKTtcbiAgICB9KTtcbiAgICBibG9ja0FkZEJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGNvbnN0IHR5cGUgPSBidXR0b24uZGF0YXNldC5ibG9ja0FkZDtcbiAgICAgICAgYWRkQmxvY2tGcm9tTGlicmFyeSh0eXBlKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGJsb2NrRGVsZXRlQ2FuY2VsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNsb3NlQmxvY2tEZWxldGVNb2RhbCgpO1xuICAgIH0pO1xuICAgIGJsb2NrRGVsZXRlQ29uZmlybT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBpZiAocGVuZGluZ0RlbGV0ZUJsb2NrSWQpIHtcbiAgICAgICAgZGVsZXRlQmxvY2tCeUlkKHBlbmRpbmdEZWxldGVCbG9ja0lkKTtcbiAgICAgIH1cbiAgICAgIGNsb3NlQmxvY2tEZWxldGVNb2RhbCgpO1xuICAgIH0pO1xuICAgIGJsb2NrRGVsZXRlTW9kYWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSBibG9ja0RlbGV0ZU1vZGFsKSB7XG4gICAgICAgIGNsb3NlQmxvY2tEZWxldGVNb2RhbCgpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGJsb2NrRm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICAgIGlmICghdGFyZ2V0IHx8ICF0YXJnZXQubmFtZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBNaW5pIHByZXZpZXcgcG91ciBncm91cGVcbiAgICAgIGlmICh0YXJnZXQubmFtZSA9PT0gJ2dyb3VwLWNvbHVtbnMtbW9iaWxlJyB8fCB0YXJnZXQubmFtZSA9PT0gJ2dyb3VwLWNvbHVtbnMtZGVza3RvcCcpIHtcbiAgICAgICAgY29uc3QgbW9iaWxlVmFsdWUgPVxuICAgICAgICAgIGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImdyb3VwLWNvbHVtbnMtbW9iaWxlXCJdJyk/LnZhbHVlIHx8ICcxJztcbiAgICAgICAgY29uc3QgZGVza3RvcFZhbHVlID1cbiAgICAgICAgICBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJncm91cC1jb2x1bW5zLWRlc2t0b3BcIl0nKT8udmFsdWUgfHwgJzMnO1xuICAgICAgICB1cGRhdGVHcm91cE1pbmlQcmV2aWV3KG1vYmlsZVZhbHVlLCBkZXNrdG9wVmFsdWUpO1xuICAgICAgfVxuICAgICAgLy8gTWluaSBwcmV2aWV3IHBvdXIgY29sbGVjdGlvblxuICAgICAgaWYgKHRhcmdldC5uYW1lID09PSAnY29sbGVjdGlvbi1jb2x1bW5zLW1vYmlsZScgfHwgdGFyZ2V0Lm5hbWUgPT09ICdjb2xsZWN0aW9uLWNvbHVtbnMtZGVza3RvcCcpIHtcbiAgICAgICAgY29uc3QgbW9iaWxlVmFsdWUgPVxuICAgICAgICAgIGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImNvbGxlY3Rpb24tY29sdW1ucy1tb2JpbGVcIl0nKT8udmFsdWUgfHwgJzEnO1xuICAgICAgICBjb25zdCBkZXNrdG9wVmFsdWUgPVxuICAgICAgICAgIGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImNvbGxlY3Rpb24tY29sdW1ucy1kZXNrdG9wXCJdJyk/LnZhbHVlIHx8ICczJztcbiAgICAgICAgdXBkYXRlQ29sbGVjdGlvbk1pbmlQcmV2aWV3KG1vYmlsZVZhbHVlLCBkZXNrdG9wVmFsdWUpO1xuICAgICAgfVxuICAgICAgLy8gRFx1MDBFOXRlY3Rpb24gc2kgb24gZXN0IGRhbnMgbGUgcGFuZWwgQXBwYXJlbmNlIFx1MjE5MiBhdXRvLXNhdmVcbiAgICAgIGNvbnN0IHBhbmVsID0gdGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLWJsb2NrLXBhbmVsXScpO1xuICAgICAgaWYgKHBhbmVsICYmIHBhbmVsLmRhdGFzZXQuYmxvY2tQYW5lbCA9PT0gJ2FwcGVhcmFuY2UnKSB7XG4gICAgICAgIC8vIEF1dG8tc2F2ZSArIHJlZnJlc2ggcHJldmlldyBwb3VyIGwnYXBwYXJlbmNlXG4gICAgICAgIGNvbnN0IGJsb2NrID0gZ2V0QWN0aXZlQmxvY2soKTtcbiAgICAgICAgY29uc3QgY29uZmlnID0gZ2V0QmxvY2tGb3JtQ29uZmlnKGJsb2NrKTtcbiAgICAgICAgaWYgKGJsb2NrICYmIGNvbmZpZykge1xuICAgICAgICAgIGNvbnN0IHZhbHVlcyA9IGNvbGxlY3RGb3JtVmFsdWVzKGNvbmZpZyk7XG4gICAgICAgICAgaGFuZGxlQXBwZWFyYW5jZUNoYW5nZShibG9jay5pZCwgdmFsdWVzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIC8vIFx1MDBDOWdhbGVtZW50IHN1ciAnY2hhbmdlJyBwb3VyIGxlcyBzZWxlY3RzXG4gICAgYmxvY2tGb3JtPy5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICAgIGlmICghdGFyZ2V0IHx8ICF0YXJnZXQubmFtZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBNaXNlIFx1MDBFMCBqb3VyIGR1IHByZXZpZXcgZGUgY291bGV1ciBwb3VyIGxlcyBjb2xvciBzZWxlY3RzXG4gICAgICBpZiAodGFyZ2V0Lmhhc0F0dHJpYnV0ZSgnZGF0YS1jb2xvci1zZWxlY3QnKSkge1xuICAgICAgICBjb25zdCBzZWxlY3RlZE9wdGlvbiA9IHRhcmdldC5vcHRpb25zW3RhcmdldC5zZWxlY3RlZEluZGV4XTtcbiAgICAgICAgY29uc3QgY29sb3IgPSBzZWxlY3RlZE9wdGlvbj8uZGF0YXNldD8uY29sb3IgfHwgJyNmZmZmZmYnO1xuICAgICAgICBjb25zdCBjb2xvclByZXZpZXcgPSB0YXJnZXQuY2xvc2VzdCgnLnJlbGF0aXZlJyk/LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbG9yLXByZXZpZXddJyk7XG4gICAgICAgIGlmIChjb2xvclByZXZpZXcpIHtcbiAgICAgICAgICBpZiAoY29sb3IgPT09ICd0cmFuc3BhcmVudCcpIHtcbiAgICAgICAgICAgIGNvbG9yUHJldmlldy5zdHlsZS5iYWNrZ3JvdW5kID0gVFJBTlNQQVJFTlRfUEFUVEVSTjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29sb3JQcmV2aWV3LnN0eWxlLmJhY2tncm91bmQgPSBjb2xvcjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNvbnN0IHBhbmVsID0gdGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLWJsb2NrLXBhbmVsXScpO1xuICAgICAgaWYgKHBhbmVsICYmIHBhbmVsLmRhdGFzZXQuYmxvY2tQYW5lbCA9PT0gJ2FwcGVhcmFuY2UnKSB7XG4gICAgICAgIGNvbnN0IGJsb2NrID0gZ2V0QWN0aXZlQmxvY2soKTtcbiAgICAgICAgY29uc3QgY29uZmlnID0gZ2V0QmxvY2tGb3JtQ29uZmlnKGJsb2NrKTtcbiAgICAgICAgaWYgKGJsb2NrICYmIGNvbmZpZykge1xuICAgICAgICAgIGNvbnN0IHZhbHVlcyA9IGNvbGxlY3RGb3JtVmFsdWVzKGNvbmZpZyk7XG4gICAgICAgICAgaGFuZGxlQXBwZWFyYW5jZUNoYW5nZShibG9jay5pZCwgdmFsdWVzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbGxlY3Rpb25TZWxlY3Q/LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIChldmVudCkgPT4ge1xuICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgc3luY0NvbGxlY3Rpb25TZWxlY3Rpb25JbmZvKHRhcmdldD8udmFsdWUgfHwgJycpO1xuICAgIH0pO1xuICAgIGJsb2NrRm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgaGFuZGxlQmxvY2tGb3JtU3VibWl0KTtcbiAgICBibG9ja0Zvcm1DYW5jZWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgY29uc3QgYmxvY2sgPSBnZXRBY3RpdmVCbG9jaygpO1xuICAgICAgaWYgKGJsb2NrKSB7XG4gICAgICAgIHBvcHVsYXRlQmxvY2tGb3JtKGJsb2NrKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAocHJldmlld1ZpZXdCdXR0b25zLmxlbmd0aCA+IDApIHtcbiAgICAgIHByZXZpZXdWaWV3QnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHRhcmdldFZpZXcgPSBidXR0b24uZGF0YXNldC5wcmV2aWV3VmlldyB8fCAnZGVza3RvcCc7XG4gICAgICAgICAgc2V0UHJldmlld1ZpZXcodGFyZ2V0Vmlldyk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICBzZXRQcmV2aWV3VmlldygnZGVza3RvcCcpO1xuICAgIH1cbiAgICBwcmV2aWV3RnJhbWU/LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoKSA9PiB7XG4gICAgICBwcmV2aWV3UmVhZHkgPSB0cnVlO1xuICAgICAgdXBkYXRlUHJldmlld1N0YXR1cygnXHUwMEMwIGpvdXInKTtcbiAgICAgIGFwcGx5UHJldmlld0hpZ2hsaWdodChhY3RpdmVCbG9ja0lkKTtcbiAgICB9KTtcbiAgICBwcmV2aWV3T3BlbkJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBwcmV2aWV3V2luZG93ID0gd2luZG93Lm9wZW4oJycsICdfYmxhbmsnKTtcbiAgICAgIGlmICghcHJldmlld1dpbmRvdykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwcmV2aWV3V2luZG93Lm9wZW5lciA9IG51bGw7XG4gICAgICBjb25zdCBkb2MgPSBwcmV2aWV3V2luZG93LmRvY3VtZW50O1xuICAgICAgZG9jLm9wZW4oKTtcbiAgICAgIGRvYy53cml0ZShsYXRlc3RQcmV2aWV3SHRtbCB8fCBnZXRMb2FkaW5nUHJldmlld0h0bWwoKSk7XG4gICAgICBkb2MuY2xvc2UoKTtcbiAgICB9KTtcblxuICAgIC8vIFNFTyBwYW5lbCBsb2dpY1xuICAgIGNvbnN0IHRvZ2dsZVNlb1BhbmVsID0gKHNob3cpID0+IHtcbiAgICAgIGlmICghc2VvUGFuZWwpIHJldHVybjtcbiAgICAgIGlmIChzaG93KSB7XG4gICAgICAgIHNlb1BhbmVsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAvLyBQb3B1bGF0ZSBmaWVsZHMgd2l0aCBjdXJyZW50IHBhZ2UgU0VPIGRhdGFcbiAgICAgICAgaWYgKGN1cnJlbnRQYWdlKSB7XG4gICAgICAgICAgc2VvVGl0bGVJbnB1dCAmJiAoc2VvVGl0bGVJbnB1dC52YWx1ZSA9IGN1cnJlbnRQYWdlLnNlbz8udGl0bGUgfHwgJycpO1xuICAgICAgICAgIHNlb0Rlc2NyaXB0aW9uSW5wdXQgJiYgKHNlb0Rlc2NyaXB0aW9uSW5wdXQudmFsdWUgPSBjdXJyZW50UGFnZS5zZW8/LmRlc2NyaXB0aW9uIHx8ICcnKTtcbiAgICAgICAgICAvLyBpbmRleGVkOiB0cnVlIGJ5IGRlZmF1bHQgaWYgbm90IGV4cGxpY2l0bHkgc2V0IHRvIGZhbHNlXG4gICAgICAgICAgc2VvSW5kZXhlZENoZWNrYm94ICYmIChzZW9JbmRleGVkQ2hlY2tib3guY2hlY2tlZCA9IGN1cnJlbnRQYWdlLnNlbz8uaW5kZXhlZCAhPT0gZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZW9QYW5lbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHNldFNlb0ZlZWRiYWNrID0gKG1lc3NhZ2UsIHRvbmUgPSAnbXV0ZWQnKSA9PiB7XG4gICAgICBpZiAoIXNlb0ZlZWRiYWNrKSByZXR1cm47XG4gICAgICBjb25zdCBjb2xvciA9IHRvbmUgPT09ICdzdWNjZXNzJyA/ICd0ZXh0LWVtZXJhbGQtNjAwJyA6IHRvbmUgPT09ICdlcnJvcicgPyAndGV4dC1yb3NlLTYwMCcgOiAndGV4dC1zbGF0ZS01MDAnO1xuICAgICAgc2VvRmVlZGJhY2sudGV4dENvbnRlbnQgPSBtZXNzYWdlIHx8ICcnO1xuICAgICAgc2VvRmVlZGJhY2suY2xhc3NOYW1lID0gYHRleHQtc20gJHtjb2xvcn1gO1xuICAgIH07XG4gICAgc2VvVG9nZ2xlQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IGlzVmlzaWJsZSA9IHNlb1BhbmVsICYmICFzZW9QYW5lbC5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpO1xuICAgICAgdG9nZ2xlU2VvUGFuZWwoIWlzVmlzaWJsZSk7XG4gICAgfSk7XG4gICAgc2VvQ2xvc2VCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdG9nZ2xlU2VvUGFuZWwoZmFsc2UpKTtcbiAgICBzZW9Gb3JtPy5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlKSB7XG4gICAgICAgIHNldFNlb0ZlZWRiYWNrKCdBdWN1bmUgcGFnZSBhY3RpdmUuJywgJ2Vycm9yJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNlb1NhdmVCdXR0b24gJiYgKHNlb1NhdmVCdXR0b24uZGlzYWJsZWQgPSB0cnVlKTtcbiAgICAgIHNldFNlb0ZlZWRiYWNrKCcnKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHNlb0RhdGEgPSB7XG4gICAgICAgICAgdGl0bGU6IChzZW9UaXRsZUlucHV0Py52YWx1ZSB8fCAnJykudHJpbSgpLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAoc2VvRGVzY3JpcHRpb25JbnB1dD8udmFsdWUgfHwgJycpLnRyaW0oKSxcbiAgICAgICAgICBpbmRleGVkOiBzZW9JbmRleGVkQ2hlY2tib3g/LmNoZWNrZWQgPz8gdHJ1ZSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgdXBkYXRlZFBhZ2UgPSB7IC4uLmN1cnJlbnRQYWdlLCBzZW86IHNlb0RhdGEgfTtcbiAgICAgICAgY29uc3Qgc2F2ZWQgPSBhd2FpdCBzYXZlUGFnZVRvU2VydmVyKHVwZGF0ZWRQYWdlKTtcbiAgICAgICAgaWYgKHNhdmVkKSB7XG4gICAgICAgICAgY3VycmVudFBhZ2UgPSBzYXZlZDtcbiAgICAgICAgICBzZXRTZW9GZWVkYmFjaygnU0VPIGVucmVnaXN0clx1MDBFOS4nLCAnc3VjY2VzcycpO1xuICAgICAgICAgIHNob3dUb2FzdCgnU0VPIG1pcyBcdTAwRTAgam91cicpO1xuICAgICAgICAgIHJlZnJlc2hQcmV2aWV3KGN1cnJlbnRQYWdlKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZW9dIHNhdmUgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2V0U2VvRmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGRlIGxhIHNhdXZlZ2FyZGUuJywgJ2Vycm9yJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZW9TYXZlQnV0dG9uICYmIChzZW9TYXZlQnV0dG9uLmRpc2FibGVkID0gZmFsc2UpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgY29uc3Qgc3luY1BhZ2VBY2Nlc3NpYmlsaXR5RmllbGRzID0gKCkgPT4ge1xuICAgICAgaWYgKCFwYWdlQWNjZXNzaWJpbGl0eU5hdkNoZWNrYm94ICYmICFwYWdlQWNjZXNzaWJpbGl0eU1haW5JbnB1dCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlKSB7XG4gICAgICAgIHBhZ2VBY2Nlc3NpYmlsaXR5TmF2Q2hlY2tib3ggJiYgKHBhZ2VBY2Nlc3NpYmlsaXR5TmF2Q2hlY2tib3guY2hlY2tlZCA9IHRydWUpO1xuICAgICAgICBwYWdlQWNjZXNzaWJpbGl0eU1haW5JbnB1dCAmJiAocGFnZUFjY2Vzc2liaWxpdHlNYWluSW5wdXQudmFsdWUgPSAnJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChwYWdlQWNjZXNzaWJpbGl0eU5hdkNoZWNrYm94KSB7XG4gICAgICAgIHBhZ2VBY2Nlc3NpYmlsaXR5TmF2Q2hlY2tib3guY2hlY2tlZCA9XG4gICAgICAgICAgY3VycmVudFBhZ2UuYWNjZXNzaWJpbGl0eT8uc2hvd0luTWFpbk5hdiAhPT0gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAocGFnZUFjY2Vzc2liaWxpdHlNYWluSW5wdXQpIHtcbiAgICAgICAgcGFnZUFjY2Vzc2liaWxpdHlNYWluSW5wdXQudmFsdWUgPSBjdXJyZW50UGFnZS5hY2Nlc3NpYmlsaXR5Py5tYWluTGFiZWwgfHwgJyc7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHRvZ2dsZVBhZ2VBY2Nlc3NpYmlsaXR5UGFuZWwgPSAoc2hvdykgPT4ge1xuICAgICAgaWYgKCFwYWdlQWNjZXNzaWJpbGl0eVBhbmVsKSByZXR1cm47XG4gICAgICBpZiAoc2hvdykge1xuICAgICAgICBzeW5jUGFnZUFjY2Vzc2liaWxpdHlGaWVsZHMoKTtcbiAgICAgICAgcGFnZUFjY2Vzc2liaWxpdHlQYW5lbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhZ2VBY2Nlc3NpYmlsaXR5UGFuZWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHNldFBhZ2VBY2Nlc3NpYmlsaXR5RmVlZGJhY2sgPSAobWVzc2FnZSwgdG9uZSA9ICdtdXRlZCcpID0+IHtcbiAgICAgIGlmICghcGFnZUFjY2Vzc2liaWxpdHlGZWVkYmFjaykgcmV0dXJuO1xuICAgICAgY29uc3QgY29sb3IgPVxuICAgICAgICB0b25lID09PSAnc3VjY2VzcydcbiAgICAgICAgICA/ICd0ZXh0LWVtZXJhbGQtNjAwJ1xuICAgICAgICAgIDogdG9uZSA9PT0gJ2Vycm9yJ1xuICAgICAgICAgICAgPyAndGV4dC1yb3NlLTYwMCdcbiAgICAgICAgICAgIDogJ3RleHQtc2xhdGUtNTAwJztcbiAgICAgIHBhZ2VBY2Nlc3NpYmlsaXR5RmVlZGJhY2sudGV4dENvbnRlbnQgPSBtZXNzYWdlIHx8ICcnO1xuICAgICAgcGFnZUFjY2Vzc2liaWxpdHlGZWVkYmFjay5jbGFzc05hbWUgPSBgdGV4dC1zbSAke2NvbG9yfWA7XG4gICAgfTtcblxuICAgIHBhZ2VBY2Nlc3NpYmlsaXR5VG9nZ2xlQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IGlzVmlzaWJsZSA9XG4gICAgICAgIHBhZ2VBY2Nlc3NpYmlsaXR5UGFuZWwgJiYgIXBhZ2VBY2Nlc3NpYmlsaXR5UGFuZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdoaWRkZW4nKTtcbiAgICAgIHRvZ2dsZVBhZ2VBY2Nlc3NpYmlsaXR5UGFuZWwoIWlzVmlzaWJsZSk7XG4gICAgfSk7XG4gICAgcGFnZUFjY2Vzc2liaWxpdHlDbG9zZUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PlxuICAgICAgdG9nZ2xlUGFnZUFjY2Vzc2liaWxpdHlQYW5lbChmYWxzZSksXG4gICAgKTtcblxuICAgIHBhZ2VBY2Nlc3NpYmlsaXR5Rm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSkge1xuICAgICAgICBzZXRQYWdlQWNjZXNzaWJpbGl0eUZlZWRiYWNrKCdBdWN1bmUgcGFnZSBhY3RpdmUuJywgJ2Vycm9yJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHBhZ2VBY2Nlc3NpYmlsaXR5U2F2ZUJ1dHRvbiAmJiAocGFnZUFjY2Vzc2liaWxpdHlTYXZlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZSk7XG4gICAgICBzZXRQYWdlQWNjZXNzaWJpbGl0eUZlZWRiYWNrKCcnKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGFjY2Vzc2liaWxpdHlEYXRhID0ge1xuICAgICAgICAgIHNob3dJbk1haW5OYXY6IHBhZ2VBY2Nlc3NpYmlsaXR5TmF2Q2hlY2tib3g/LmNoZWNrZWQgPz8gdHJ1ZSxcbiAgICAgICAgICBtYWluTGFiZWw6IChwYWdlQWNjZXNzaWJpbGl0eU1haW5JbnB1dD8udmFsdWUgfHwgJycpLnRyaW0oKSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgdXBkYXRlZFBhZ2UgPSB7XG4gICAgICAgICAgLi4uY3VycmVudFBhZ2UsXG4gICAgICAgICAgYWNjZXNzaWJpbGl0eTogYWNjZXNzaWJpbGl0eURhdGEsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHNhdmVkID0gYXdhaXQgc2F2ZVBhZ2VUb1NlcnZlcih1cGRhdGVkUGFnZSk7XG4gICAgICAgIGlmIChzYXZlZCkge1xuICAgICAgICAgIGN1cnJlbnRQYWdlID0gc2F2ZWQ7XG4gICAgICAgICAgc3luY1BhZ2VBY2Nlc3NpYmlsaXR5RmllbGRzKCk7XG4gICAgICAgICAgc2V0UGFnZUFjY2Vzc2liaWxpdHlGZWVkYmFjaygnQWNjZXNzaWJpbGl0XHUwMEU5IGVucmVnaXN0clx1MDBFOWUuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgICBzaG93VG9hc3QoJ0FjY2Vzc2liaWxpdFx1MDBFOSBtaXNlIFx1MDBFMCBqb3VyJyk7XG4gICAgICAgICAgcmVuZGVyUGFnZUxpc3RzKHBhZ2VzLCBhY3RpdmVQYWdlSWQpO1xuICAgICAgICAgIHJlZnJlc2hQcmV2aWV3KGN1cnJlbnRQYWdlKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1thY2Nlc3NpYmlsaXR5XSBzYXZlIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNldFBhZ2VBY2Nlc3NpYmlsaXR5RmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGRlIGxhIHNhdXZlZ2FyZGUuJywgJ2Vycm9yJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBwYWdlQWNjZXNzaWJpbGl0eVNhdmVCdXR0b24gJiYgKHBhZ2VBY2Nlc3NpYmlsaXR5U2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIFBhZ2UgcHJvcGVydGllcyBwYW5lbCBsb2dpY1xuICAgIGNvbnN0IHRvZ2dsZVBhZ2VQcm9wc1BhbmVsID0gKHNob3cpID0+IHtcbiAgICAgIGlmICghcGFnZVByb3BzUGFuZWwpIHJldHVybjtcbiAgICAgIGlmIChzaG93KSB7XG4gICAgICAgIHBhZ2VQcm9wc1BhbmVsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAvLyBQb3B1bGF0ZSBmaWVsZHMgd2l0aCBjdXJyZW50IHBhZ2UgZGF0YVxuICAgICAgICBpZiAoY3VycmVudFBhZ2UpIHtcbiAgICAgICAgICBwYWdlTmFtZUlucHV0ICYmIChwYWdlTmFtZUlucHV0LnZhbHVlID0gY3VycmVudFBhZ2UubmFtZSB8fCAnJyk7XG4gICAgICAgICAgcGFnZVRpdGxlSW5wdXQgJiYgKHBhZ2VUaXRsZUlucHV0LnZhbHVlID0gY3VycmVudFBhZ2UudGl0bGUgfHwgJycpO1xuICAgICAgICAgIHBhZ2VTbHVnSW5wdXQgJiYgKHBhZ2VTbHVnSW5wdXQudmFsdWUgPSBjdXJyZW50UGFnZS5zbHVnIHx8ICcnKTtcbiAgICAgICAgICBwYWdlRGVzY3JpcHRpb25JbnB1dCAmJiAocGFnZURlc2NyaXB0aW9uSW5wdXQudmFsdWUgPSBjdXJyZW50UGFnZS5kZXNjcmlwdGlvbiB8fCAnJyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhZ2VQcm9wc1BhbmVsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3Qgc2V0UGFnZVByb3BzRmVlZGJhY2sgPSAobWVzc2FnZSwgdG9uZSA9ICdtdXRlZCcpID0+IHtcbiAgICAgIGlmICghcGFnZVByb3BzRmVlZGJhY2spIHJldHVybjtcbiAgICAgIGNvbnN0IGNvbG9yID0gdG9uZSA9PT0gJ3N1Y2Nlc3MnID8gJ3RleHQtZW1lcmFsZC02MDAnIDogdG9uZSA9PT0gJ2Vycm9yJyA/ICd0ZXh0LXJvc2UtNjAwJyA6ICd0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICBwYWdlUHJvcHNGZWVkYmFjay50ZXh0Q29udGVudCA9IG1lc3NhZ2UgfHwgJyc7XG4gICAgICBwYWdlUHJvcHNGZWVkYmFjay5jbGFzc05hbWUgPSBgdGV4dC1zbSAke2NvbG9yfWA7XG4gICAgfTtcbiAgICBwYWdlUHJvcHNUb2dnbGVCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgaXNWaXNpYmxlID0gcGFnZVByb3BzUGFuZWwgJiYgIXBhZ2VQcm9wc1BhbmVsLmNsYXNzTGlzdC5jb250YWlucygnaGlkZGVuJyk7XG4gICAgICB0b2dnbGVQYWdlUHJvcHNQYW5lbCghaXNWaXNpYmxlKTtcbiAgICB9KTtcbiAgICBwYWdlUHJvcHNDbG9zZUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0b2dnbGVQYWdlUHJvcHNQYW5lbChmYWxzZSkpO1xuICAgIHBhZ2VQcm9wc0Zvcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmICghY3VycmVudFBhZ2UpIHtcbiAgICAgICAgc2V0UGFnZVByb3BzRmVlZGJhY2soJ0F1Y3VuZSBwYWdlIGFjdGl2ZS4nLCAnZXJyb3InKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcGFnZVByb3BzU2F2ZUJ1dHRvbiAmJiAocGFnZVByb3BzU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWUpO1xuICAgICAgc2V0UGFnZVByb3BzRmVlZGJhY2soJycpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgbmV3TmFtZSA9IChwYWdlTmFtZUlucHV0Py52YWx1ZSB8fCAnJykudHJpbSgpO1xuICAgICAgICBjb25zdCBuZXdUaXRsZSA9IChwYWdlVGl0bGVJbnB1dD8udmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgICAgY29uc3QgbmV3U2x1ZyA9IChwYWdlU2x1Z0lucHV0Py52YWx1ZSB8fCAnJykudHJpbSgpO1xuICAgICAgICBjb25zdCBuZXdEZXNjcmlwdGlvbiA9IChwYWdlRGVzY3JpcHRpb25JbnB1dD8udmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFZhbGlkYXRpb24gYmFzaXF1ZVxuICAgICAgICBpZiAoIW5ld1RpdGxlKSB7XG4gICAgICAgICAgc2V0UGFnZVByb3BzRmVlZGJhY2soJ0xlIHRpdHJlIGVzdCByZXF1aXMuJywgJ2Vycm9yJyk7XG4gICAgICAgICAgcGFnZVByb3BzU2F2ZUJ1dHRvbiAmJiAocGFnZVByb3BzU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFuZXdTbHVnIHx8ICFuZXdTbHVnLnN0YXJ0c1dpdGgoJy8nKSkge1xuICAgICAgICAgIHNldFBhZ2VQcm9wc0ZlZWRiYWNrKCdMZSBzbHVnIGRvaXQgY29tbWVuY2VyIHBhciAvLicsICdlcnJvcicpO1xuICAgICAgICAgIHBhZ2VQcm9wc1NhdmVCdXR0b24gJiYgKHBhZ2VQcm9wc1NhdmVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBjb25zdCB1cGRhdGVkUGFnZSA9IHtcbiAgICAgICAgICAuLi5jdXJyZW50UGFnZSxcbiAgICAgICAgICBuYW1lOiBuZXdOYW1lIHx8IG5ld1RpdGxlLCAvLyBGYWxsYmFjayB0byB0aXRsZSBpZiBuYW1lIGlzIGVtcHR5XG4gICAgICAgICAgdGl0bGU6IG5ld1RpdGxlLFxuICAgICAgICAgIHNsdWc6IG5ld1NsdWcsXG4gICAgICAgICAgZGVzY3JpcHRpb246IG5ld0Rlc2NyaXB0aW9uLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBzYXZlZCA9IGF3YWl0IHNhdmVQYWdlVG9TZXJ2ZXIodXBkYXRlZFBhZ2UpO1xuICAgICAgICBpZiAoc2F2ZWQpIHtcbiAgICAgICAgICBjdXJyZW50UGFnZSA9IHNhdmVkO1xuICAgICAgICAgIC8vIFVwZGF0ZSBwYWdlcyBhcnJheVxuICAgICAgICAgIHBhZ2VzID0gcGFnZXMubWFwKChwKSA9PiAocC5pZCA9PT0gc2F2ZWQuaWQgPyBzYXZlZCA6IHApKTtcbiAgICAgICAgICBzZXRQYWdlUHJvcHNGZWVkYmFjaygnUHJvcHJpXHUwMEU5dFx1MDBFOXMgZW5yZWdpc3RyXHUwMEU5ZXMuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgICBzaG93VG9hc3QoJ1BhZ2UgbWlzZSBcdTAwRTAgam91cicpO1xuICAgICAgICAgIC8vIFVwZGF0ZSBVSVxuICAgICAgICAgIHNldEFjdGl2ZUxhYmVscyhjdXJyZW50UGFnZSk7XG4gICAgICAgICAgcmVuZGVyUGFnZUxpc3RzKHBhZ2VzLCBhY3RpdmVQYWdlSWQpO1xuICAgICAgICAgIHJlZnJlc2hQcmV2aWV3KGN1cnJlbnRQYWdlKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1twYWdlLXByb3BzXSBzYXZlIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNldFBhZ2VQcm9wc0ZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsYSBzYXV2ZWdhcmRlLicsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgcGFnZVByb3BzU2F2ZUJ1dHRvbiAmJiAocGFnZVByb3BzU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGNvbnN0IGhhbmRsZUJsb2NrRHJhZ1N0YXJ0ID0gKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCBpdGVtID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLWJsb2NrLWl0ZW1dJyk7XG4gICAgICBpZiAoIWl0ZW0gfHwgIWlzRGVza3RvcFJlb3JkZXIoKSkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBkcmFnU291cmNlSWQgPSBpdGVtLmRhdGFzZXQuYmxvY2tJZCB8fCBudWxsO1xuICAgICAgaWYgKCFkcmFnU291cmNlSWQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZXZlbnQuZGF0YVRyYW5zZmVyLmVmZmVjdEFsbG93ZWQgPSAnbW92ZSc7XG4gICAgICBldmVudC5kYXRhVHJhbnNmZXIuc2V0RGF0YSgndGV4dC9wbGFpbicsIGRyYWdTb3VyY2VJZCk7XG4gICAgICAvLyBTdHlsZSBkdSBibG9jIGVuIGNvdXJzIGRlIGRyYWdcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgIGl0ZW0uY2xhc3NMaXN0LmFkZCgnb3BhY2l0eS01MCcsICdzY2FsZS1bMC45OF0nLCAnc2hhZG93LWxnJywgJ3JpbmctMicsICdyaW5nLVsjOUM2QkZGXScpO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICBjb25zdCBjbGVhckRyYWdJbmRpY2F0b3JzID0gKCkgPT4ge1xuICAgICAgYmxvY2tMaXN0XG4gICAgICAgID8ucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYmxvY2staXRlbV0nKVxuICAgICAgICAuZm9yRWFjaCgobm9kZSkgPT4ge1xuICAgICAgICAgIG5vZGUuY2xhc3NMaXN0LnJlbW92ZShcbiAgICAgICAgICAgICdvcGFjaXR5LTUwJywgJ3NjYWxlLVswLjk4XScsICdzaGFkb3ctbGcnLCAncmluZy0yJywgJ3JpbmctWyM5QzZCRkZdJyxcbiAgICAgICAgICAgICdib3JkZXItdC00JywgJ2JvcmRlci1iLTQnLCAnYm9yZGVyLXQtWyM5QzZCRkZdJywgJ2JvcmRlci1iLVsjOUM2QkZGXScsXG4gICAgICAgICAgICAncHQtNicsICdwYi02J1xuICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgY29uc3QgaGFuZGxlQmxvY2tEcmFnRW5kID0gKCkgPT4ge1xuICAgICAgZHJhZ1NvdXJjZUlkID0gbnVsbDtcbiAgICAgIGNsZWFyRHJhZ0luZGljYXRvcnMoKTtcbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZUJsb2NrRHJhZ092ZXIgPSAoZXZlbnQpID0+IHtcbiAgICAgIGlmICghZHJhZ1NvdXJjZUlkIHx8ICFpc0Rlc2t0b3BSZW9yZGVyKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLWJsb2NrLWl0ZW1dJyk7XG4gICAgICBpZiAoIXRhcmdldCB8fCB0YXJnZXQuZGF0YXNldC5ibG9ja0lkID09PSBkcmFnU291cmNlSWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGV2ZW50LmRhdGFUcmFuc2Zlci5kcm9wRWZmZWN0ID0gJ21vdmUnO1xuICAgICAgLy8gRFx1MDBFOXRlcm1pbmUgc2kgb24gZHJvcCBhdmFudCBvdSBhcHJcdTAwRThzXG4gICAgICBjb25zdCByZWN0ID0gdGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgY29uc3QgbWlkWSA9IHJlY3QudG9wICsgcmVjdC5oZWlnaHQgLyAyO1xuICAgICAgY29uc3QgaXNBYm92ZSA9IGV2ZW50LmNsaWVudFkgPCBtaWRZO1xuICAgICAgLy8gTmV0dG9pZSBsZXMgYXV0cmVzIGluZGljYXRldXJzXG4gICAgICBibG9ja0xpc3Q/LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWJsb2NrLWl0ZW1dJykuZm9yRWFjaCgobm9kZSkgPT4ge1xuICAgICAgICBpZiAobm9kZSAhPT0gdGFyZ2V0ICYmIG5vZGUuZGF0YXNldC5ibG9ja0lkICE9PSBkcmFnU291cmNlSWQpIHtcbiAgICAgICAgICBub2RlLmNsYXNzTGlzdC5yZW1vdmUoJ2JvcmRlci10LTQnLCAnYm9yZGVyLWItNCcsICdib3JkZXItdC1bIzlDNkJGRl0nLCAnYm9yZGVyLWItWyM5QzZCRkZdJywgJ3B0LTYnLCAncGItNicpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIC8vIEFwcGxpcXVlIGwnaW5kaWNhdGV1ciBkZSBwb3NpdGlvblxuICAgICAgdGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoJ2JvcmRlci10LTQnLCAnYm9yZGVyLWItNCcsICdib3JkZXItdC1bIzlDNkJGRl0nLCAnYm9yZGVyLWItWyM5QzZCRkZdJywgJ3B0LTYnLCAncGItNicpO1xuICAgICAgaWYgKGlzQWJvdmUpIHtcbiAgICAgICAgdGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2JvcmRlci10LTQnLCAnYm9yZGVyLXQtWyM5QzZCRkZdJywgJ3B0LTYnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRhcmdldC5jbGFzc0xpc3QuYWRkKCdib3JkZXItYi00JywgJ2JvcmRlci1iLVsjOUM2QkZGXScsICdwYi02Jyk7XG4gICAgICB9XG4gICAgICB0YXJnZXQuZGF0YXNldC5kcm9wUG9zaXRpb24gPSBpc0Fib3ZlID8gJ2JlZm9yZScgOiAnYWZ0ZXInO1xuICAgIH07XG4gICAgY29uc3QgaGFuZGxlQmxvY2tEcmFnTGVhdmUgPSAoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCdbZGF0YS1ibG9jay1pdGVtXScpO1xuICAgICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gVlx1MDBFOXJpZmllIHNpIG9uIHF1aXR0ZSB2cmFpbWVudCBsJ1x1MDBFOWxcdTAwRTltZW50IChwYXMganVzdGUgdmVycyB1biBlbmZhbnQpXG4gICAgICBjb25zdCByZWxhdGVkVGFyZ2V0ID0gZXZlbnQucmVsYXRlZFRhcmdldDtcbiAgICAgIGlmIChyZWxhdGVkVGFyZ2V0ICYmIHRhcmdldC5jb250YWlucyhyZWxhdGVkVGFyZ2V0KSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0YXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgnYm9yZGVyLXQtNCcsICdib3JkZXItYi00JywgJ2JvcmRlci10LVsjOUM2QkZGXScsICdib3JkZXItYi1bIzlDNkJGRl0nLCAncHQtNicsICdwYi02Jyk7XG4gICAgICBkZWxldGUgdGFyZ2V0LmRhdGFzZXQuZHJvcFBvc2l0aW9uO1xuICAgIH07XG4gICAgY29uc3QgaGFuZGxlQmxvY2tEcm9wID0gKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoIWRyYWdTb3VyY2VJZCB8fCAhaXNEZXNrdG9wUmVvcmRlcigpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQuY2xvc2VzdCgnW2RhdGEtYmxvY2staXRlbV0nKTtcbiAgICAgIGNvbnN0IHNvdXJjZSA9IGRyYWdTb3VyY2VJZDtcbiAgICAgIGNvbnN0IGRyb3BQb3NpdGlvbiA9IHRhcmdldD8uZGF0YXNldC5kcm9wUG9zaXRpb24gfHwgJ2FmdGVyJztcbiAgICAgIGRyYWdTb3VyY2VJZCA9IG51bGw7XG4gICAgICBjbGVhckRyYWdJbmRpY2F0b3JzKCk7XG4gICAgICBjb25zdCB0YXJnZXRJZCA9IHRhcmdldD8uZGF0YXNldC5ibG9ja0lkIHx8IG51bGw7XG4gICAgICBpZiAoIXRhcmdldElkIHx8IHNvdXJjZSA9PT0gdGFyZ2V0SWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcmVvcmRlckJsb2Nrc1dpdGhQb3NpdGlvbihzb3VyY2UsIHRhcmdldElkLCBkcm9wUG9zaXRpb24pO1xuICAgIH07XG4gICAgbGV0IGRyYWdTb3VyY2VJZCA9IG51bGw7XG4gICAgYmxvY2tMaXN0Py5hZGRFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCBoYW5kbGVCbG9ja0RyYWdTdGFydCk7XG4gICAgYmxvY2tMaXN0Py5hZGRFdmVudExpc3RlbmVyKCdkcmFnZW5kJywgaGFuZGxlQmxvY2tEcmFnRW5kKTtcbiAgICBibG9ja0xpc3Q/LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgaGFuZGxlQmxvY2tEcmFnT3Zlcik7XG4gICAgYmxvY2tMaXN0Py5hZGRFdmVudExpc3RlbmVyKCdkcmFnbGVhdmUnLCBoYW5kbGVCbG9ja0RyYWdMZWF2ZSk7XG4gICAgYmxvY2tMaXN0Py5hZGRFdmVudExpc3RlbmVyKCdkcm9wJywgaGFuZGxlQmxvY2tEcm9wKTtcbiAgICBsb2FkUGFnZXNGcm9tU2VydmVyKCk7XG5cbiAgICAvLyBcdTAwQzljb3V0ZXIgbCdcdTAwRTl2XHUwMEU5bmVtZW50IGRlIHJhZnJhXHUwMEVFY2hpc3NlbWVudCBkXHUwMEU5Y2xlbmNoXHUwMEU5IHBhciBsJ0lBXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignYWktcGFnZS11cGRhdGVkJywgYXN5bmMgKGUpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCdbZGVzaWduXSBSYWZyYVx1MDBFRWNoaXNzZW1lbnQgZFx1MDBFOWNsZW5jaFx1MDBFOSBwYXIgSUEnLCBlLmRldGFpbCk7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBSZWNoYXJnZXIgbGVzIHBhZ2VzIGRlcHVpcyBsZSBzZXJ2ZXVyXG4gICAgICAgIGNvbnN0IGxvYWRlZFBhZ2VzID0gYXdhaXQgZmV0Y2hQYWdlc0Zyb21TZXJ2ZXIoKTtcbiAgICAgICAgcGFnZXMgPSAoQXJyYXkuaXNBcnJheShsb2FkZWRQYWdlcykgPyBsb2FkZWRQYWdlcyA6IFtdKS5tYXAoKHBhZ2UpID0+XG4gICAgICAgICAgbm9ybWFsaXplUGFnZURhdGEocGFnZSksXG4gICAgICAgICk7XG4gICAgICAgIFxuICAgICAgICAvLyBUcm91dmVyIGV0IG1ldHRyZSBcdTAwRTAgam91ciBsYSBwYWdlIGFjdGl2ZVxuICAgICAgICBpZiAoZS5kZXRhaWw/LnBhZ2VJZCkge1xuICAgICAgICAgIGNvbnN0IHVwZGF0ZWRQYWdlID0gcGFnZXMuZmluZChwID0+IHAuaWQgPT09IGUuZGV0YWlsLnBhZ2VJZCk7XG4gICAgICAgICAgaWYgKHVwZGF0ZWRQYWdlKSB7XG4gICAgICAgICAgICBjdXJyZW50UGFnZSA9IHVwZGF0ZWRQYWdlO1xuICAgICAgICAgICAgYWN0aXZlUGFnZUlkID0gdXBkYXRlZFBhZ2UuaWQ7XG4gICAgICAgICAgICAvLyBSYWZyYVx1MDBFRWNoaXIgbGEgcHJldmlldyBhdmVjIGxhIHBhZ2UgbWlzZSBcdTAwRTAgam91clxuICAgICAgICAgICAgcmVmcmVzaFByZXZpZXcoY3VycmVudFBhZ2UpO1xuICAgICAgICAgICAgLy8gUmFmcmFcdTAwRUVjaGlyIGxhIGxpc3RlIGRlcyBibG9jc1xuICAgICAgICAgICAgcmVuZGVyQmxvY2tMaXN0KGN1cnJlbnRQYWdlKTtcbiAgICAgICAgICAgIHNob3dUb2FzdCgnUGFnZSBtaXNlIFx1MDBFMCBqb3VyIHBhciBsXFwnSUEnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoYWN0aXZlUGFnZUlkKSB7XG4gICAgICAgICAgLy8gUmFmcmFcdTAwRUVjaGlyIGxhIHBhZ2UgYWN0aXZlIGFjdHVlbGxlXG4gICAgICAgICAgY29uc3QgYWN0aXZlUGFnZSA9IHBhZ2VzLmZpbmQocCA9PiBwLmlkID09PSBhY3RpdmVQYWdlSWQpO1xuICAgICAgICAgIGlmIChhY3RpdmVQYWdlKSB7XG4gICAgICAgICAgICBjdXJyZW50UGFnZSA9IGFjdGl2ZVBhZ2U7XG4gICAgICAgICAgICByZWZyZXNoUHJldmlldyhjdXJyZW50UGFnZSk7XG4gICAgICAgICAgICByZW5kZXJCbG9ja0xpc3QoY3VycmVudFBhZ2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkZXNpZ25dIEVycmV1ciByYWZyYVx1MDBFRWNoaXNzZW1lbnQgSUE6JywgZXJyKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXRDb250ZW50V29ya3NwYWNlKCkge1xuICAgIGNvbnN0IGNvbGxlY3Rpb25MaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29sbGVjdGlvbi1saXN0XScpO1xuICAgIGlmICghY29sbGVjdGlvbkxpc3QpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgLy8gXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXG4gICAgLy8gSEVBREVSICYgRk9PVEVSIE1BTkFHRU1FTlRcbiAgICAvLyBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcbiAgICBjb25zdCBjb250ZW50Vmlld3MgPSB7XG4gICAgICBlbXB0eTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29udGVudC12aWV3PVwiZW1wdHlcIl0nKSxcbiAgICAgIGhlYWRlcjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29udGVudC12aWV3PVwiaGVhZGVyXCJdJyksXG4gICAgICBjb2xsZWN0aW9uOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb250ZW50LXZpZXc9XCJjb2xsZWN0aW9uXCJdJyksXG4gICAgICBmb290ZXI6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbnRlbnQtdmlldz1cImZvb3RlclwiXScpLFxuICAgIH07XG4gICAgY29uc3QgY29udGVudFNlY3Rpb25CdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtY29udGVudC1zZWN0aW9uXScpO1xuICAgIGNvbnN0IGNvbnRlbnRTZWN0aW9uVHJpZ2dlcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1jb250ZW50LXNlY3Rpb24tdHJpZ2dlcl0nKTtcbiAgICBjb25zdCBoZWFkZXJTdGF0dXNJbmRpY2F0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1oZWFkZXItc3RhdHVzXScpO1xuICAgIGNvbnN0IGZvb3RlclN0YXR1c0luZGljYXRvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWZvb3Rlci1zdGF0dXNdJyk7XG4gICAgY29uc3QgY29sbGVjdGlvbkNvdW50RWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xsZWN0aW9uLWNvdW50XScpO1xuICAgIGNvbnN0IGl0ZW1QYW5lbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tcGFuZWxdJyk7XG4gICAgY29uc3QgaXRlbVBhbmVsQ2xvc2VCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtaXRlbS1wYW5lbC1jbG9zZV0nKTtcbiAgICBjb25zdCBjb2xsZWN0aW9uRW1wdHlTdGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbGxlY3Rpb24tZW1wdHldJyk7XG4gICAgY29uc3QgY29sbGVjdGlvbkl0ZW1zRW1wdHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xsZWN0aW9uLWl0ZW1zLWVtcHR5XScpO1xuICAgIGNvbnN0IGl0ZW1UYWJsZVdyYXBwZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLXRhYmxlLXdyYXBwZXJdJyk7XG4gICAgY29uc3QgaXRlbVRhYmxlQm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tdGFibGUtYm9keV0nKTtcbiAgICBjb25zdCBjb2xsZWN0aW9uVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xsZWN0aW9uLXRpdGxlXScpO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25EZXNjcmlwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbGxlY3Rpb24tZGVzY3JpcHRpb25dJyk7XG4gICAgY29uc3QgaXRlbUFkZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tYWRkXScpO1xuICAgIGNvbnN0IGl0ZW1EZXRhaWxFbXB0eSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tZGV0YWlsLWVtcHR5XScpO1xuICAgIGNvbnN0IGl0ZW1Gb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS1mb3JtXScpO1xuICAgIGNvbnN0IGl0ZW1Gb3JtRmllbGRzID0gaXRlbUZvcm1cbiAgICAgID8ge1xuICAgICAgICAgIHRpdGxlOiBpdGVtRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cIml0ZW0tdGl0bGVcIl0nKSxcbiAgICAgICAgICBzbHVnOiBpdGVtRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cIml0ZW0tc2x1Z1wiXScpLFxuICAgICAgICAgIGV4Y2VycHQ6IGl0ZW1Gb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaXRlbS1leGNlcnB0XCJdJyksXG4gICAgICAgICAgY29udGVudDogaXRlbUZvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJpdGVtLWNvbnRlbnRcIl0nKSxcbiAgICAgICAgICBpbWFnZTogaXRlbUZvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJpdGVtLWltYWdlXCJdJyksXG4gICAgICAgICAgY3RhVGV4dDogaXRlbUZvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJpdGVtLWN0YS10ZXh0XCJdJyksXG4gICAgICAgICAgY3RhVXJsOiBpdGVtRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cIml0ZW0tY3RhLXVybFwiXScpLFxuICAgICAgICAgIHN0YXR1czogaXRlbUZvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJpdGVtLXN0YXR1c1wiXScpLFxuICAgICAgICB9XG4gICAgICA6IHt9O1xuICAgIGNvbnN0IGl0ZW1TdGF0dXNCYWRnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tc3RhdHVzLWJhZGdlXScpO1xuICAgIGNvbnN0IGl0ZW1EZWxldGVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLWRlbGV0ZV0nKTtcbiAgICBjb25zdCBpdGVtRGVsZXRlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLWRlbGV0ZS1tb2RhbF0nKTtcbiAgICBjb25zdCBpdGVtRGVsZXRlQ2FuY2VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS1kZWxldGUtY2FuY2VsXScpO1xuICAgIGNvbnN0IGl0ZW1EZWxldGVDb25maXJtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS1kZWxldGUtY29uZmlybV0nKTtcbiAgICBjb25zdCBpdGVtRm9ybUNhbmNlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tY2FuY2VsXScpO1xuICAgIGNvbnN0IGl0ZW1Gb3JtU2F2ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tc2F2ZV0nKTtcbiAgICBjb25zdCBzdGF0dXNCYWRnZUJhc2VDbGFzcyA9ICdyb3VuZGVkLWZ1bGwgcHgtMyBweS0xIHRleHQteHMgZm9udC1zZW1pYm9sZCc7XG4gICAgY29uc3QgaXNEZXNrdG9wVmlld3BvcnQgPSAoKSA9PiB3aW5kb3cubWF0Y2hNZWRpYSgnKG1pbi13aWR0aDogMTAyNHB4KScpLm1hdGNoZXM7XG4gICAgY29uc3Qgc2V0SXRlbVBhbmVsSGlkZGVuU3RhdGUgPSAoaGlkZGVuKSA9PiB7XG4gICAgICBpZiAoIWl0ZW1QYW5lbCB8fCBpc0Rlc2t0b3BWaWV3cG9ydCgpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGhpZGRlbkNsYXNzZXMgPSBpdGVtUGFuZWwuZGF0YXNldC5pdGVtUGFuZWxIaWRkZW4gfHwgJyc7XG4gICAgICBjb25zdCB2aXNpYmxlQ2xhc3NlcyA9IGl0ZW1QYW5lbC5kYXRhc2V0Lml0ZW1QYW5lbFZpc2libGUgfHwgJyc7XG4gICAgICBpZiAoaGlkZGVuKSB7XG4gICAgICAgIGFwcGx5UGFuZWxDbGFzc2VzKGl0ZW1QYW5lbCwgdmlzaWJsZUNsYXNzZXMsICdyZW1vdmUnKTtcbiAgICAgICAgYXBwbHlQYW5lbENsYXNzZXMoaXRlbVBhbmVsLCBoaWRkZW5DbGFzc2VzLCAnYWRkJyk7XG4gICAgICAgIGl0ZW1QYW5lbC5jbGFzc0xpc3QuYWRkKCdwb2ludGVyLWV2ZW50cy1ub25lJyk7XG4gICAgICAgIGl0ZW1QYW5lbC5kYXRhc2V0Lml0ZW1QYW5lbE9wZW4gPSAnZmFsc2UnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXBwbHlQYW5lbENsYXNzZXMoaXRlbVBhbmVsLCBoaWRkZW5DbGFzc2VzLCAncmVtb3ZlJyk7XG4gICAgICAgIGFwcGx5UGFuZWxDbGFzc2VzKGl0ZW1QYW5lbCwgdmlzaWJsZUNsYXNzZXMsICdhZGQnKTtcbiAgICAgICAgaXRlbVBhbmVsLmNsYXNzTGlzdC5yZW1vdmUoJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICAgICAgaXRlbVBhbmVsLmRhdGFzZXQuaXRlbVBhbmVsT3BlbiA9ICd0cnVlJztcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHN5bmNJdGVtUGFuZWxXaXRoVmlld3BvcnQgPSAoKSA9PiB7XG4gICAgICBpZiAoIWl0ZW1QYW5lbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoaXNEZXNrdG9wVmlld3BvcnQoKSkge1xuICAgICAgICBjb25zdCBoaWRkZW5DbGFzc2VzID0gaXRlbVBhbmVsLmRhdGFzZXQuaXRlbVBhbmVsSGlkZGVuIHx8ICcnO1xuICAgICAgICBhcHBseVBhbmVsQ2xhc3NlcyhpdGVtUGFuZWwsIGhpZGRlbkNsYXNzZXMsICdyZW1vdmUnKTtcbiAgICAgICAgaXRlbVBhbmVsLmNsYXNzTGlzdC5yZW1vdmUoJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICAgICAgaXRlbVBhbmVsLmRhdGFzZXQuaXRlbVBhbmVsT3BlbiA9ICd0cnVlJztcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1Gb3JtPy5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpKSB7XG4gICAgICAgIHNldEl0ZW1QYW5lbEhpZGRlblN0YXRlKHRydWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0SXRlbVBhbmVsSGlkZGVuU3RhdGUoZmFsc2UpO1xuICAgICAgfVxuICAgIH07XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHN5bmNJdGVtUGFuZWxXaXRoVmlld3BvcnQpO1xuICAgIGl0ZW1QYW5lbENsb3NlQnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAoaXNEZXNrdG9wVmlld3BvcnQoKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBoaWRlSXRlbUZvcm0oKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHN5bmNJdGVtUGFuZWxXaXRoVmlld3BvcnQoKTtcbiAgICBcbiAgICAvLyBIZWFkZXIgZmllbGRzXG4gICAgY29uc3QgaGVhZGVyRmllbGRzID0ge1xuICAgICAgbG9nbzogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJoZWFkZXItbG9nb1wiXScpLFxuICAgICAgbG9nb0FsdDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJoZWFkZXItbG9nby1hbHRcIl0nKSxcbiAgICAgIGxvZ29Vcmw6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaGVhZGVyLWxvZ28tdXJsXCJdJyksXG4gICAgICBjdGFUZXh0OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImhlYWRlci1jdGEtdGV4dFwiXScpLFxuICAgICAgY3RhVXJsOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImhlYWRlci1jdGEtdXJsXCJdJyksXG4gICAgICBjdGFTdHlsZTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJoZWFkZXItY3RhLXN0eWxlXCJdJyksXG4gICAgICBwb3NpdGlvbjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJoZWFkZXItcG9zaXRpb25cIl0nKSxcbiAgICAgIGJnOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImhlYWRlci1iZ1wiXScpLFxuICAgIH07XG4gICAgY29uc3QgaGVhZGVyTmF2TGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWhlYWRlci1uYXYtbGlzdF0nKTtcbiAgICBjb25zdCBoZWFkZXJOYXZBZGRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1oZWFkZXItbmF2LWFkZF0nKTtcbiAgICBjb25zdCBoZWFkZXJTYXZlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaGVhZGVyLXNhdmVdJyk7XG4gICAgY29uc3QgaGVhZGVyTmF2SXRlbVRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtdGVtcGxhdGUtaGVhZGVyLW5hdi1pdGVtXScpO1xuICAgIGNvbnN0IGhlYWRlclBhZ2VzTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWhlYWRlci1wYWdlcy1saXN0XScpO1xuICAgIGxldCBzaXRlUGFnZXMgPSBbXTsgLy8gUGFnZXMgZHUgc2l0ZSBwb3VyIGxlcyBjaGVja2JveGVzXG4gICAgbGV0IHNlbGVjdGVkTmF2UGFnZXMgPSBbXTsgLy8gUGFnZXMgc1x1MDBFOWxlY3Rpb25uXHUwMEU5ZXMgcG91ciBsZSBtZW51IChhdmVjIG9yZHJlKVxuICAgIFxuICAgIC8vIEZvb3RlciBmaWVsZHNcbiAgICBjb25zdCBmb290ZXJGaWVsZHMgPSB7XG4gICAgICBsaW5rZWRpbjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJmb290ZXItc29jaWFsLWxpbmtlZGluXCJdJyksXG4gICAgICB0d2l0dGVyOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImZvb3Rlci1zb2NpYWwtdHdpdHRlclwiXScpLFxuICAgICAgaW5zdGFncmFtOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImZvb3Rlci1zb2NpYWwtaW5zdGFncmFtXCJdJyksXG4gICAgICBmYWNlYm9vazogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJmb290ZXItc29jaWFsLWZhY2Vib29rXCJdJyksXG4gICAgICB5b3V0dWJlOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImZvb3Rlci1zb2NpYWwteW91dHViZVwiXScpLFxuICAgICAgZ2l0aHViOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImZvb3Rlci1zb2NpYWwtZ2l0aHViXCJdJyksXG4gICAgICBjb3B5cmlnaHQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZm9vdGVyLWNvcHlyaWdodFwiXScpLFxuICAgICAgbGVnYWxVcmw6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZm9vdGVyLWxlZ2FsLXVybFwiXScpLFxuICAgICAgcHJpdmFjeVVybDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJmb290ZXItcHJpdmFjeS11cmxcIl0nKSxcbiAgICAgIGJnOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImZvb3Rlci1iZ1wiXScpLFxuICAgICAgY29sdW1uc0NvdW50OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImZvb3Rlci1jb2x1bW5zLWNvdW50XCJdJyksXG4gICAgfTtcbiAgICBjb25zdCBmb290ZXJDb2x1bW5zTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWZvb3Rlci1jb2x1bW5zLWxpc3RdJyk7XG4gICAgY29uc3QgZm9vdGVyQ29sdW1uQWRkQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZm9vdGVyLWNvbHVtbi1hZGRdJyk7XG4gICAgY29uc3QgZm9vdGVyU2F2ZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWZvb3Rlci1zYXZlXScpO1xuICAgIGNvbnN0IGZvb3RlckNvbHVtblRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtdGVtcGxhdGUtZm9vdGVyLWNvbHVtbl0nKTtcbiAgICBjb25zdCBmb290ZXJMaW5rVGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS10ZW1wbGF0ZS1mb290ZXItbGlua10nKTtcbiAgICBcbiAgICBsZXQgYWN0aXZlQ29udGVudFNlY3Rpb24gPSBudWxsO1xuICAgIGxldCBoZWFkZXJEYXRhID0geyBuYXY6IFtdLCBsb2dvOiB7fSwgY3RhOiB7fSwgc3R5bGU6IHt9IH07XG4gICAgbGV0IGZvb3RlckRhdGEgPSB7IGNvbHVtbnM6IFtdLCBzb2NpYWxzOiB7fSwgY29weXJpZ2h0OiAnJywgbGVnYWw6IHt9LCBzdHlsZToge30gfTtcbiAgICBcbiAgICBjb25zdCBzYWZlU2l0ZVNsdWdGb3JMYXlvdXQgPSBzdHJpcExlYWRpbmdTbGFzaCh3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnKTtcbiAgICBjb25zdCBzbHVnID0gc2FmZVNpdGVTbHVnRm9yTGF5b3V0OyAvLyBBbGlhcyBwb3VyIGxlcyBmb25jdGlvbnMgcXVpIHV0aWxpc2VudCBzbHVnXG4gICAgY29uc3QgbGF5b3V0QXBpQmFzZSA9IHNhZmVTaXRlU2x1Z0ZvckxheW91dCA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Z0ZvckxheW91dCl9L2xheW91dGAgOiBudWxsO1xuICAgIFxuICAgIC8vIFZpZXcgc3dpdGNoaW5nXG4gICAgY29uc3Qgc2hvd0NvbnRlbnRWaWV3ID0gKHZpZXdOYW1lKSA9PiB7XG4gICAgICBPYmplY3QuZW50cmllcyhjb250ZW50Vmlld3MpLmZvckVhY2goKFtuYW1lLCBlbF0pID0+IHtcbiAgICAgICAgaWYgKGVsKSBlbC5jbGFzc0xpc3QudG9nZ2xlKCdoaWRkZW4nLCBuYW1lICE9PSB2aWV3TmFtZSk7XG4gICAgICB9KTtcbiAgICAgIGNvbnRlbnRTZWN0aW9uQnV0dG9ucy5mb3JFYWNoKGJ0biA9PiB7XG4gICAgICAgIGNvbnN0IHNlY3Rpb24gPSBidG4uZGF0YXNldC5jb250ZW50U2VjdGlvbjtcbiAgICAgICAgaWYgKHNlY3Rpb24gPT09IHZpZXdOYW1lKSB7XG4gICAgICAgICAgYnRuLmRhdGFzZXQuYWN0aXZlID0gJ3RydWUnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRlbGV0ZSBidG4uZGF0YXNldC5hY3RpdmU7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgYWN0aXZlQ29udGVudFNlY3Rpb24gPSB2aWV3TmFtZTtcbiAgICB9O1xuICAgIFxuICAgIC8vIFNlY3Rpb24gYnV0dG9uIGhhbmRsZXJzXG4gICAgY29udGVudFNlY3Rpb25CdXR0b25zLmZvckVhY2goYnRuID0+IHtcbiAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgY29uc3Qgc2VjdGlvbiA9IGJ0bi5kYXRhc2V0LmNvbnRlbnRTZWN0aW9uO1xuICAgICAgICBpZiAoc2VjdGlvbiA9PT0gJ2hlYWRlcicgfHwgc2VjdGlvbiA9PT0gJ2Zvb3RlcicpIHtcbiAgICAgICAgICBzaG93Q29udGVudFZpZXcoc2VjdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGNvbnRlbnRTZWN0aW9uVHJpZ2dlcnMuZm9yRWFjaChidG4gPT4ge1xuICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBjb25zdCBzZWN0aW9uID0gYnRuLmRhdGFzZXQuY29udGVudFNlY3Rpb25UcmlnZ2VyO1xuICAgICAgICBpZiAoc2VjdGlvbikgc2hvd0NvbnRlbnRWaWV3KHNlY3Rpb24pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgXG4gICAgLy8gXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXG4gICAgLy8gSEVBREVSIEZVTkNUSU9OU1xuICAgIC8vIFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFxuICAgIFxuICAgIC8vIENoYXJnZXIgbGEgbGlzdGUgZGVzIHBhZ2VzIGR1IHNpdGUgcG91ciBsZXMgY2hlY2tib3hlc1xuICAgIGNvbnN0IGxvYWRTaXRlUGFnZXNGb3JIZWFkZXIgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXNsdWcgfHwgIWhlYWRlclBhZ2VzTGlzdCkgcmV0dXJuO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9zaXRlcy8ke3NsdWd9L3BhZ2VzYCwgeyBjcmVkZW50aWFsczogJ2luY2x1ZGUnIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB0aHJvdyBuZXcgRXJyb3IoJ0VycmV1ciBjaGFyZ2VtZW50IHBhZ2VzJyk7XG4gICAgICAgIHNpdGVQYWdlcyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgcmVuZGVyUGFnZUNoZWNrYm94ZXMoKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbaGVhZGVyXSBsb2FkIHBhZ2VzIGVycm9yJywgZXJyKTtcbiAgICAgICAgaGVhZGVyUGFnZXNMaXN0LmlubmVySFRNTCA9ICc8cCBjbGFzcz1cInRleHQteHMgdGV4dC1yZWQtNTAwXCI+RXJyZXVyIGNoYXJnZW1lbnQgcGFnZXM8L3A+JztcbiAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIC8vIEFmZmljaGVyIGxlcyBjaGVja2JveGVzIHBvdXIgY2hhcXVlIHBhZ2VcbiAgY29uc3Qgbm9ybWFsaXplTmF2UGFnZVVybCA9ICh2YWx1ZSkgPT4ge1xuICAgIGNvbnN0IHJhdyA9ICh2YWx1ZSB8fCAnJykudG9TdHJpbmcoKS50cmltKCk7XG4gICAgaWYgKCFyYXcgfHwgcmF3ID09PSAnLycgfHwgcmF3ID09PSAnaW5kZXgnKSB7XG4gICAgICByZXR1cm4gJy8nO1xuICAgIH1cbiAgICBjb25zdCBsb3dlciA9IHJhdy50b0xvd2VyQ2FzZSgpO1xuICAgIGlmIChyYXcuc3RhcnRzV2l0aCgnIycpKSB7XG4gICAgICByZXR1cm4gcmF3O1xuICAgIH1cbiAgICBpZiAobG93ZXIuc3RhcnRzV2l0aCgnbWFpbHRvOicpIHx8IGxvd2VyLnN0YXJ0c1dpdGgoJ3RlbDonKSkge1xuICAgICAgcmV0dXJuIHJhdztcbiAgICB9XG4gICAgaWYgKC9eW2Etel0rOlxcL1xcLy9pLnRlc3QocmF3KSkge1xuICAgICAgcmV0dXJuIHJhdztcbiAgICB9XG4gICAgaWYgKHJhdy5zdGFydHNXaXRoKCcvLycpKSB7XG4gICAgICBjb25zdCB3aXRob3V0U2xhc2hlcyA9IHJhdy5zbGljZSgyKTtcbiAgICAgIGlmICh3aXRob3V0U2xhc2hlcy5pbmNsdWRlcygnLicpKSB7XG4gICAgICAgIHJldHVybiByYXc7XG4gICAgICB9XG4gICAgICBjb25zdCBjbGVhbmVkSW50ZXJuYWwgPSB3aXRob3V0U2xhc2hlcy5yZXBsYWNlKC9eXFwvKy8sICcnKS5yZXBsYWNlKC9cXC8rJC8sICcnKTtcbiAgICAgIHJldHVybiBjbGVhbmVkSW50ZXJuYWwgPyBgLyR7Y2xlYW5lZEludGVybmFsfWAgOiAnLyc7XG4gICAgfVxuICAgIGNvbnN0IGNsZWFuZWQgPSByYXcucmVwbGFjZSgvXlxcLysvLCAnJykucmVwbGFjZSgvXFwvKyQvLCAnJyk7XG4gICAgcmV0dXJuIGNsZWFuZWQgPyBgLyR7Y2xlYW5lZH1gIDogJy8nO1xuICB9O1xuICBjb25zdCBub3JtYWxpemVPcHRpb25hbE5hdlVybCA9ICh2YWx1ZSwgZGVmYXVsdFZhbHVlID0gJycpID0+IHtcbiAgICBjb25zdCB0cmltbWVkID0gKHZhbHVlIHx8ICcnKS50b1N0cmluZygpLnRyaW0oKTtcbiAgICBpZiAoIXRyaW1tZWQpIHtcbiAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBub3JtYWxpemVOYXZQYWdlVXJsKHRyaW1tZWQpO1xuICB9O1xuXG4gIGNvbnN0IHJlbmRlclBhZ2VDaGVja2JveGVzID0gKCkgPT4ge1xuICAgIGlmICghaGVhZGVyUGFnZXNMaXN0KSByZXR1cm47XG4gICAgaGVhZGVyUGFnZXNMaXN0LmlubmVySFRNTCA9ICcnO1xuXG4gICAgaWYgKHNpdGVQYWdlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgaGVhZGVyUGFnZXNMaXN0LmlubmVySFRNTCA9ICc8cCBjbGFzcz1cInRleHQteHMgdGV4dC1zbGF0ZS00MDAgaXRhbGljXCI+QXVjdW5lIHBhZ2UgZGlzcG9uaWJsZTwvcD4nO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBcbiAgICBzaXRlUGFnZXMuZm9yRWFjaChwYWdlID0+IHtcbiAgICAgIGNvbnN0IHBhZ2VTbHVnID0gcGFnZS5zbHVnIHx8IHBhZ2UuaWQgfHwgJyc7XG4gICAgICAvLyBVc2UgcGFnZS5uYW1lIChzaG9ydCBuYW1lKSBpZiBhdmFpbGFibGUsIGZhbGxiYWNrIHRvIHRpdGxlXG4gICAgICBjb25zdCBwYWdlRGlzcGxheU5hbWUgPSBwYWdlLm5hbWUgfHwgcGFnZS50aXRsZSB8fCBwYWdlU2x1ZztcbiAgICAgIGNvbnN0IHBhZ2VVcmwgPSBub3JtYWxpemVOYXZQYWdlVXJsKHBhZ2VTbHVnKTtcblxuICAgICAgLy8gVlx1MDBFOXJpZmllciBzaSBjZXR0ZSBwYWdlIGVzdCBzXHUwMEU5bGVjdGlvbm5cdTAwRTllIGRhbnMgbGEgbmF2XG4gICAgICBjb25zdCBpc1NlbGVjdGVkID0gc2VsZWN0ZWROYXZQYWdlcy5zb21lKG5hdiA9PiBuYXYudXJsID09PSBwYWdlVXJsKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgICAgICAgbGFiZWwuY2xhc3NOYW1lID0gJ2ZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHB4LTMgcHktMiByb3VuZGVkLWxnIGJvcmRlciBib3JkZXItc2xhdGUtMjAwIGhvdmVyOmJnLXNsYXRlLTUwIGN1cnNvci1wb2ludGVyIHRyYW5zaXRpb24tY29sb3JzJztcbiAgICAgICAgbGFiZWwuaW5uZXJIVE1MID0gYFxuICAgICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuYW1lPVwibmF2LXBhZ2VcIiB2YWx1ZT1cIiR7cGFnZVVybH1cIiBkYXRhLXBhZ2UtdGl0bGU9XCIke3BhZ2VEaXNwbGF5TmFtZX1cIlxuICAgICAgICAgICAgICAgICBjbGFzcz1cInctNCBoLTQgcm91bmRlZCBib3JkZXItc2xhdGUtMzAwIHRleHQtdmlvbGV0LTYwMCBmb2N1czpyaW5nLXZpb2xldC01MDBcIlxuICAgICAgICAgICAgICAgICAke2lzU2VsZWN0ZWQgPyAnY2hlY2tlZCcgOiAnJ30+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJmbGV4LTEgdGV4dC1zbSB0ZXh0LXNsYXRlLTcwMFwiPiR7cGFnZURpc3BsYXlOYW1lfTwvc3Bhbj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQteHMgdGV4dC1zbGF0ZS00MDBcIj4ke3BhZ2VVcmx9PC9zcGFuPlxuICAgICAgICBgO1xuICAgICAgICBcbiAgICAgICAgLy8gTWV0dHJlIFx1MDBFMCBqb3VyIHNlbGVjdGVkTmF2UGFnZXMgcXVhbmQgb24gY29jaGUvZFx1MDBFOWNvY2hlXG4gICAgICAgIGNvbnN0IGNoZWNrYm94ID0gbGFiZWwucXVlcnlTZWxlY3RvcignaW5wdXQnKTtcbiAgICAgICAgY2hlY2tib3guYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICAgICAgICAgIGlmIChjaGVja2JveC5jaGVja2VkKSB7XG4gICAgICAgICAgICAvLyBBam91dGVyIFx1MDBFMCBsYSBsaXN0ZVxuICAgICAgICAgICAgaWYgKCFzZWxlY3RlZE5hdlBhZ2VzLnNvbWUobmF2ID0+IG5hdi51cmwgPT09IHBhZ2VVcmwpKSB7XG4gICAgICAgICAgICAgIHNlbGVjdGVkTmF2UGFnZXMucHVzaCh7IGxhYmVsOiBwYWdlRGlzcGxheU5hbWUsIHVybDogcGFnZVVybCB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gUmV0aXJlciBkZSBsYSBsaXN0ZVxuICAgICAgICAgICAgc2VsZWN0ZWROYXZQYWdlcyA9IHNlbGVjdGVkTmF2UGFnZXMuZmlsdGVyKG5hdiA9PiBuYXYudXJsICE9PSBwYWdlVXJsKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgaGVhZGVyUGFnZXNMaXN0LmFwcGVuZENoaWxkKGxhYmVsKTtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgXG4gICAgY29uc3QgY29sbGVjdEhlYWRlckRhdGEgPSAoKSA9PiB7XG4gICAgICAvLyBDb2xsZWN0ZXIgbGVzIHBhZ2VzIGNvY2hcdTAwRTllcyBkYW5zIGwnb3JkcmUgYWN0dWVsXG4gICAgICBjb25zdCBuYXYgPSBbXTtcbiAgICAgIGhlYWRlclBhZ2VzTGlzdD8ucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbbmFtZT1cIm5hdi1wYWdlXCJdOmNoZWNrZWQnKS5mb3JFYWNoKGNoZWNrYm94ID0+IHtcbiAgICAgICAgY29uc3QgdXJsID0gbm9ybWFsaXplTmF2UGFnZVVybChjaGVja2JveC52YWx1ZSk7XG4gICAgICAgIGNvbnN0IGxhYmVsID0gY2hlY2tib3guZGF0YXNldC5wYWdlVGl0bGUgfHwgdXJsO1xuICAgICAgICBuYXYucHVzaCh7IGxhYmVsLCB1cmwgfSk7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbG9nbzoge1xuICAgICAgICAgIHNyYzogaGVhZGVyRmllbGRzLmxvZ28/LnZhbHVlPy50cmltKCkgfHwgJycsXG4gICAgICAgICAgYWx0OiBoZWFkZXJGaWVsZHMubG9nb0FsdD8udmFsdWU/LnRyaW0oKSB8fCAnJyxcbiAgICAgICAgICB1cmw6IG5vcm1hbGl6ZU9wdGlvbmFsTmF2VXJsKGhlYWRlckZpZWxkcy5sb2dvVXJsPy52YWx1ZSwgJy8nKSxcbiAgICAgICAgfSxcbiAgICAgICAgbmF2LFxuICAgICAgICBjdGE6IHtcbiAgICAgICAgICB0ZXh0OiBoZWFkZXJGaWVsZHMuY3RhVGV4dD8udmFsdWU/LnRyaW0oKSB8fCAnJyxcbiAgICAgICAgICB1cmw6IG5vcm1hbGl6ZU9wdGlvbmFsTmF2VXJsKGhlYWRlckZpZWxkcy5jdGFVcmw/LnZhbHVlLCAnJyksXG4gICAgICAgICAgc3R5bGU6IGhlYWRlckZpZWxkcy5jdGFTdHlsZT8udmFsdWUgfHwgJ3ByaW1hcnknLFxuICAgICAgICB9LFxuICAgICAgICBzdHlsZToge1xuICAgICAgICAgIHBvc2l0aW9uOiBoZWFkZXJGaWVsZHMucG9zaXRpb24/LnZhbHVlIHx8ICdzdGF0aWMnLFxuICAgICAgICAgIGJnOiBoZWFkZXJGaWVsZHMuYmc/LnZhbHVlIHx8ICdiZy13aGl0ZScsXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgIH07XG4gICAgXG4gICAgY29uc3QgcG9wdWxhdGVIZWFkZXJGb3JtID0gYXN5bmMgKGRhdGEpID0+IHtcbiAgICAgIGlmICghZGF0YSkgcmV0dXJuO1xuICAgICAgaWYgKGhlYWRlckZpZWxkcy5sb2dvKSBoZWFkZXJGaWVsZHMubG9nby52YWx1ZSA9IGRhdGEubG9nbz8uc3JjIHx8ICcnO1xuICAgICAgaWYgKGhlYWRlckZpZWxkcy5sb2dvQWx0KSBoZWFkZXJGaWVsZHMubG9nb0FsdC52YWx1ZSA9IGRhdGEubG9nbz8uYWx0IHx8ICcnO1xuICAgICAgaWYgKGhlYWRlckZpZWxkcy5sb2dvVXJsKSBoZWFkZXJGaWVsZHMubG9nb1VybC52YWx1ZSA9IG5vcm1hbGl6ZU9wdGlvbmFsTmF2VXJsKGRhdGEubG9nbz8udXJsLCAnLycpO1xuICAgICAgaWYgKGhlYWRlckZpZWxkcy5jdGFUZXh0KSBoZWFkZXJGaWVsZHMuY3RhVGV4dC52YWx1ZSA9IGRhdGEuY3RhPy50ZXh0IHx8ICcnO1xuICAgICAgaWYgKGhlYWRlckZpZWxkcy5jdGFVcmwpIGhlYWRlckZpZWxkcy5jdGFVcmwudmFsdWUgPSBub3JtYWxpemVPcHRpb25hbE5hdlVybChkYXRhLmN0YT8udXJsLCAnJyk7XG4gICAgICBpZiAoaGVhZGVyRmllbGRzLmN0YVN0eWxlKSBoZWFkZXJGaWVsZHMuY3RhU3R5bGUudmFsdWUgPSBkYXRhLmN0YT8uc3R5bGUgfHwgJ3ByaW1hcnknO1xuICAgICAgaWYgKGhlYWRlckZpZWxkcy5wb3NpdGlvbikgaGVhZGVyRmllbGRzLnBvc2l0aW9uLnZhbHVlID0gZGF0YS5zdHlsZT8ucG9zaXRpb24gfHwgJ3N0YXRpYyc7XG4gICAgICBpZiAoaGVhZGVyRmllbGRzLmJnKSBoZWFkZXJGaWVsZHMuYmcudmFsdWUgPSBkYXRhLnN0eWxlPy5iZyB8fCAnYmctd2hpdGUnO1xuICAgICAgXG4gICAgICAvLyBTdG9ja2VyIGxlcyBwYWdlcyBzXHUwMEU5bGVjdGlvbm5cdTAwRTllcyBwb3VyIGxlcyBjaGVja2JveGVzXG4gICAgICBzZWxlY3RlZE5hdlBhZ2VzID0gKGRhdGEubmF2IHx8IFtdKS5tYXAoKGl0ZW0pID0+ICh7XG4gICAgICAgIC4uLml0ZW0sXG4gICAgICAgIHVybDogbm9ybWFsaXplTmF2UGFnZVVybChpdGVtLnVybCksXG4gICAgICB9KSk7XG4gICAgICBcbiAgICAgIC8vIENoYXJnZXIgbGVzIHBhZ2VzIGV0IGFmZmljaGVyIGxlcyBjaGVja2JveGVzXG4gICAgICBhd2FpdCBsb2FkU2l0ZVBhZ2VzRm9ySGVhZGVyKCk7XG4gICAgICBcbiAgICAgIC8vIFVwZGF0ZSBzdGF0dXMgaW5kaWNhdG9yXG4gICAgICBjb25zdCBoYXNEYXRhID0gZGF0YS5sb2dvPy5zcmMgfHwgZGF0YS5uYXY/Lmxlbmd0aCA+IDAgfHwgZGF0YS5jdGE/LnRleHQ7XG4gICAgICBpZiAoaGVhZGVyU3RhdHVzSW5kaWNhdG9yKSB7XG4gICAgICAgIGhlYWRlclN0YXR1c0luZGljYXRvci5jbGFzc0xpc3QudG9nZ2xlKCdiZy1ncmVlbi01MDAnLCAhIWhhc0RhdGEpO1xuICAgICAgICBoZWFkZXJTdGF0dXNJbmRpY2F0b3IuY2xhc3NMaXN0LnRvZ2dsZSgnYmctc2xhdGUtMzAwJywgIWhhc0RhdGEpO1xuICAgICAgICBoZWFkZXJTdGF0dXNJbmRpY2F0b3IudGl0bGUgPSBoYXNEYXRhID8gJ0NvbmZpZ3VyXHUwMEU5JyA6ICdOb24gY29uZmlndXJcdTAwRTknO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBoZWFkZXJTYXZlQnRuPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghbGF5b3V0QXBpQmFzZSkgcmV0dXJuO1xuICAgICAgaGVhZGVyU2F2ZUJ0bi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICBoZWFkZXJTYXZlQnRuLnRleHRDb250ZW50ID0gJ0VucmVnaXN0cmVtZW50Li4uJztcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBjb2xsZWN0SGVhZGVyRGF0YSgpO1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke2xheW91dEFwaUJhc2V9L2hlYWRlcmAsIHtcbiAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZScsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB0aHJvdyBuZXcgRXJyb3IoJ0VycmV1ciBzZXJ2ZXVyJyk7XG4gICAgICAgIGhlYWRlckRhdGEgPSBkYXRhO1xuICAgICAgICBwb3B1bGF0ZUhlYWRlckZvcm0oZGF0YSk7XG4gICAgICAgIHNob3dUb2FzdCgnSGVhZGVyIGVucmVnaXN0clx1MDBFOScpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1toZWFkZXJdIHNhdmUgZXJyb3InLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoJ0VycmV1ciBsb3JzIGRlIGxcXCdlbnJlZ2lzdHJlbWVudCcsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaGVhZGVyU2F2ZUJ0bi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICBoZWFkZXJTYXZlQnRuLnRleHRDb250ZW50ID0gJ0VucmVnaXN0cmVyJztcbiAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICAvLyBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcbiAgICAvLyBGT09URVIgRlVOQ1RJT05TXG4gICAgLy8gXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXG4gICAgY29uc3QgYWRkRm9vdGVyTGluayA9IChjb250YWluZXIsIGxhYmVsID0gJycsIHVybCA9ICcnKSA9PiB7XG4gICAgICBpZiAoIWZvb3RlckxpbmtUZW1wbGF0ZSB8fCAhY29udGFpbmVyKSByZXR1cm47XG4gICAgICBjb25zdCBjbG9uZSA9IGZvb3RlckxpbmtUZW1wbGF0ZS5jb250ZW50LmNsb25lTm9kZSh0cnVlKTtcbiAgICAgIGNvbnN0IGl0ZW0gPSBjbG9uZS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1mb290ZXItbGlua10nKTtcbiAgICAgIGNvbnN0IGxhYmVsSW5wdXQgPSBjbG9uZS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImxpbmstbGFiZWxcIl0nKTtcbiAgICAgIGNvbnN0IHVybElucHV0ID0gY2xvbmUucXVlcnlTZWxlY3RvcignW25hbWU9XCJsaW5rLXVybFwiXScpO1xuICAgICAgY29uc3QgcmVtb3ZlQnRuID0gY2xvbmUucXVlcnlTZWxlY3RvcignW2RhdGEtbGluay1yZW1vdmVdJyk7XG4gICAgICBpZiAobGFiZWxJbnB1dCkgbGFiZWxJbnB1dC52YWx1ZSA9IGxhYmVsO1xuICAgICAgaWYgKHVybElucHV0KSB1cmxJbnB1dC52YWx1ZSA9IHVybDtcbiAgICAgIHJlbW92ZUJ0bj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBpdGVtPy5yZW1vdmUoKSk7XG4gICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoY2xvbmUpO1xuICAgIH07XG4gICAgXG4gICAgY29uc3QgYWRkRm9vdGVyQ29sdW1uID0gKHRpdGxlID0gJycsIGxpbmtzID0gW10pID0+IHtcbiAgICAgIGlmICghZm9vdGVyQ29sdW1uVGVtcGxhdGUgfHwgIWZvb3RlckNvbHVtbnNMaXN0KSByZXR1cm47XG4gICAgICBjb25zdCBjbG9uZSA9IGZvb3RlckNvbHVtblRlbXBsYXRlLmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpO1xuICAgICAgY29uc3QgY29sdW1uID0gY2xvbmUucXVlcnlTZWxlY3RvcignW2RhdGEtZm9vdGVyLWNvbHVtbl0nKTtcbiAgICAgIGNvbnN0IHRpdGxlSW5wdXQgPSBjbG9uZS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImNvbHVtbi10aXRsZVwiXScpO1xuICAgICAgY29uc3QgbGlua3NDb250YWluZXIgPSBjbG9uZS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2x1bW4tbGlua3NdJyk7XG4gICAgICBjb25zdCBhZGRMaW5rQnRuID0gY2xvbmUucXVlcnlTZWxlY3RvcignW2RhdGEtY29sdW1uLWxpbmstYWRkXScpO1xuICAgICAgY29uc3QgcmVtb3ZlQnRuID0gY2xvbmUucXVlcnlTZWxlY3RvcignW2RhdGEtY29sdW1uLXJlbW92ZV0nKTtcbiAgICAgIGlmICh0aXRsZUlucHV0KSB0aXRsZUlucHV0LnZhbHVlID0gdGl0bGU7XG4gICAgICBsaW5rcy5mb3JFYWNoKGxpbmsgPT4gYWRkRm9vdGVyTGluayhsaW5rc0NvbnRhaW5lciwgbGluay5sYWJlbCwgbGluay51cmwpKTtcbiAgICAgIGFkZExpbmtCdG4/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gYWRkRm9vdGVyTGluayhsaW5rc0NvbnRhaW5lcikpO1xuICAgICAgcmVtb3ZlQnRuPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGNvbHVtbj8ucmVtb3ZlKCkpO1xuICAgICAgZm9vdGVyQ29sdW1uc0xpc3QuYXBwZW5kQ2hpbGQoY2xvbmUpO1xuICAgIH07XG4gICAgXG4gICAgY29uc3QgY29sbGVjdEZvb3RlckRhdGEgPSAoKSA9PiB7XG4gICAgICBjb25zdCBjb2x1bW5zID0gW107XG4gICAgICBmb290ZXJDb2x1bW5zTGlzdD8ucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtZm9vdGVyLWNvbHVtbl0nKS5mb3JFYWNoKGNvbCA9PiB7XG4gICAgICAgIGNvbnN0IHRpdGxlID0gY29sLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiY29sdW1uLXRpdGxlXCJdJyk/LnZhbHVlPy50cmltKCkgfHwgJyc7XG4gICAgICAgIGNvbnN0IGxpbmtzID0gW107XG4gICAgICAgIGNvbC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1mb290ZXItbGlua10nKS5mb3JFYWNoKGxpbmtFbCA9PiB7XG4gICAgICAgICAgY29uc3QgbGFiZWwgPSBsaW5rRWwucXVlcnlTZWxlY3RvcignW25hbWU9XCJsaW5rLWxhYmVsXCJdJyk/LnZhbHVlPy50cmltKCkgfHwgJyc7XG4gICAgICAgICAgY29uc3QgdXJsID0gbGlua0VsLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwibGluay11cmxcIl0nKT8udmFsdWU/LnRyaW0oKSB8fCAnJztcbiAgICAgICAgICBpZiAobGFiZWwgfHwgdXJsKSBsaW5rcy5wdXNoKHsgbGFiZWwsIHVybCB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh0aXRsZSB8fCBsaW5rcy5sZW5ndGggPiAwKSBjb2x1bW5zLnB1c2goeyB0aXRsZSwgbGlua3MgfSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNvbHVtbnMsXG4gICAgICAgIHNvY2lhbHM6IHtcbiAgICAgICAgICBsaW5rZWRpbjogZm9vdGVyRmllbGRzLmxpbmtlZGluPy52YWx1ZT8udHJpbSgpIHx8ICcnLFxuICAgICAgICAgIHR3aXR0ZXI6IGZvb3RlckZpZWxkcy50d2l0dGVyPy52YWx1ZT8udHJpbSgpIHx8ICcnLFxuICAgICAgICAgIGluc3RhZ3JhbTogZm9vdGVyRmllbGRzLmluc3RhZ3JhbT8udmFsdWU/LnRyaW0oKSB8fCAnJyxcbiAgICAgICAgICBmYWNlYm9vazogZm9vdGVyRmllbGRzLmZhY2Vib29rPy52YWx1ZT8udHJpbSgpIHx8ICcnLFxuICAgICAgICAgIHlvdXR1YmU6IGZvb3RlckZpZWxkcy55b3V0dWJlPy52YWx1ZT8udHJpbSgpIHx8ICcnLFxuICAgICAgICAgIGdpdGh1YjogZm9vdGVyRmllbGRzLmdpdGh1Yj8udmFsdWU/LnRyaW0oKSB8fCAnJyxcbiAgICAgICAgfSxcbiAgICAgICAgY29weXJpZ2h0OiBmb290ZXJGaWVsZHMuY29weXJpZ2h0Py52YWx1ZT8udHJpbSgpIHx8ICcnLFxuICAgICAgICBsZWdhbDoge1xuICAgICAgICAgIHVybDogZm9vdGVyRmllbGRzLmxlZ2FsVXJsPy52YWx1ZT8udHJpbSgpIHx8ICcnLFxuICAgICAgICAgIHByaXZhY3lVcmw6IGZvb3RlckZpZWxkcy5wcml2YWN5VXJsPy52YWx1ZT8udHJpbSgpIHx8ICcnLFxuICAgICAgICB9LFxuICAgICAgICBzdHlsZToge1xuICAgICAgICAgIGJnOiBmb290ZXJGaWVsZHMuYmc/LnZhbHVlIHx8ICdiZy1zbGF0ZS05MDAgdGV4dC13aGl0ZScsXG4gICAgICAgICAgY29sdW1uc0NvdW50OiBmb290ZXJGaWVsZHMuY29sdW1uc0NvdW50Py52YWx1ZSB8fCAnNCcsXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgIH07XG4gICAgXG4gICAgY29uc3QgcG9wdWxhdGVGb290ZXJGb3JtID0gKGRhdGEpID0+IHtcbiAgICAgIGlmICghZGF0YSkgcmV0dXJuO1xuICAgICAgaWYgKGZvb3RlckZpZWxkcy5saW5rZWRpbikgZm9vdGVyRmllbGRzLmxpbmtlZGluLnZhbHVlID0gZGF0YS5zb2NpYWxzPy5saW5rZWRpbiB8fCAnJztcbiAgICAgIGlmIChmb290ZXJGaWVsZHMudHdpdHRlcikgZm9vdGVyRmllbGRzLnR3aXR0ZXIudmFsdWUgPSBkYXRhLnNvY2lhbHM/LnR3aXR0ZXIgfHwgJyc7XG4gICAgICBpZiAoZm9vdGVyRmllbGRzLmluc3RhZ3JhbSkgZm9vdGVyRmllbGRzLmluc3RhZ3JhbS52YWx1ZSA9IGRhdGEuc29jaWFscz8uaW5zdGFncmFtIHx8ICcnO1xuICAgICAgaWYgKGZvb3RlckZpZWxkcy5mYWNlYm9vaykgZm9vdGVyRmllbGRzLmZhY2Vib29rLnZhbHVlID0gZGF0YS5zb2NpYWxzPy5mYWNlYm9vayB8fCAnJztcbiAgICAgIGlmIChmb290ZXJGaWVsZHMueW91dHViZSkgZm9vdGVyRmllbGRzLnlvdXR1YmUudmFsdWUgPSBkYXRhLnNvY2lhbHM/LnlvdXR1YmUgfHwgJyc7XG4gICAgICBpZiAoZm9vdGVyRmllbGRzLmdpdGh1YikgZm9vdGVyRmllbGRzLmdpdGh1Yi52YWx1ZSA9IGRhdGEuc29jaWFscz8uZ2l0aHViIHx8ICcnO1xuICAgICAgaWYgKGZvb3RlckZpZWxkcy5jb3B5cmlnaHQpIGZvb3RlckZpZWxkcy5jb3B5cmlnaHQudmFsdWUgPSBkYXRhLmNvcHlyaWdodCB8fCAnJztcbiAgICAgIGlmIChmb290ZXJGaWVsZHMubGVnYWxVcmwpIGZvb3RlckZpZWxkcy5sZWdhbFVybC52YWx1ZSA9IGRhdGEubGVnYWw/LnVybCB8fCAnJztcbiAgICAgIGlmIChmb290ZXJGaWVsZHMucHJpdmFjeVVybCkgZm9vdGVyRmllbGRzLnByaXZhY3lVcmwudmFsdWUgPSBkYXRhLmxlZ2FsPy5wcml2YWN5VXJsIHx8ICcnO1xuICAgICAgaWYgKGZvb3RlckZpZWxkcy5iZykgZm9vdGVyRmllbGRzLmJnLnZhbHVlID0gZGF0YS5zdHlsZT8uYmcgfHwgJ2JnLXNsYXRlLTkwMCB0ZXh0LXdoaXRlJztcbiAgICAgIGlmIChmb290ZXJGaWVsZHMuY29sdW1uc0NvdW50KSBmb290ZXJGaWVsZHMuY29sdW1uc0NvdW50LnZhbHVlID0gZGF0YS5zdHlsZT8uY29sdW1uc0NvdW50IHx8ICc0JztcbiAgICAgIC8vIFBvcHVsYXRlIGNvbHVtbnNcbiAgICAgIGlmIChmb290ZXJDb2x1bW5zTGlzdCkgZm9vdGVyQ29sdW1uc0xpc3QuaW5uZXJIVE1MID0gJyc7XG4gICAgICAoZGF0YS5jb2x1bW5zIHx8IFtdKS5mb3JFYWNoKGNvbCA9PiBhZGRGb290ZXJDb2x1bW4oY29sLnRpdGxlLCBjb2wubGlua3MpKTtcbiAgICAgIC8vIFVwZGF0ZSBzdGF0dXMgaW5kaWNhdG9yXG4gICAgICBjb25zdCBoYXNEYXRhID0gZGF0YS5jb2x1bW5zPy5sZW5ndGggPiAwIHx8IGRhdGEuY29weXJpZ2h0IHx8IE9iamVjdC52YWx1ZXMoZGF0YS5zb2NpYWxzIHx8IHt9KS5zb21lKHYgPT4gdik7XG4gICAgICBpZiAoZm9vdGVyU3RhdHVzSW5kaWNhdG9yKSB7XG4gICAgICAgIGZvb3RlclN0YXR1c0luZGljYXRvci5jbGFzc0xpc3QudG9nZ2xlKCdiZy1ncmVlbi01MDAnLCAhIWhhc0RhdGEpO1xuICAgICAgICBmb290ZXJTdGF0dXNJbmRpY2F0b3IuY2xhc3NMaXN0LnRvZ2dsZSgnYmctc2xhdGUtMzAwJywgIWhhc0RhdGEpO1xuICAgICAgICBmb290ZXJTdGF0dXNJbmRpY2F0b3IudGl0bGUgPSBoYXNEYXRhID8gJ0NvbmZpZ3VyXHUwMEU5JyA6ICdOb24gY29uZmlndXJcdTAwRTknO1xuICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgZm9vdGVyQ29sdW1uQWRkQnRuPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGFkZEZvb3RlckNvbHVtbigpKTtcbiAgICBcbiAgICBmb290ZXJTYXZlQnRuPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghbGF5b3V0QXBpQmFzZSkgcmV0dXJuO1xuICAgICAgZm9vdGVyU2F2ZUJ0bi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICBmb290ZXJTYXZlQnRuLnRleHRDb250ZW50ID0gJ0VucmVnaXN0cmVtZW50Li4uJztcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBjb2xsZWN0Rm9vdGVyRGF0YSgpO1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke2xheW91dEFwaUJhc2V9L2Zvb3RlcmAsIHtcbiAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZScsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB0aHJvdyBuZXcgRXJyb3IoJ0VycmV1ciBzZXJ2ZXVyJyk7XG4gICAgICAgIGZvb3RlckRhdGEgPSBkYXRhO1xuICAgICAgICBwb3B1bGF0ZUZvb3RlckZvcm0oZGF0YSk7XG4gICAgICAgIHNob3dUb2FzdCgnRm9vdGVyIGVucmVnaXN0clx1MDBFOScpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tmb290ZXJdIHNhdmUgZXJyb3InLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoJ0VycmV1ciBsb3JzIGRlIGxcXCdlbnJlZ2lzdHJlbWVudCcsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgZm9vdGVyU2F2ZUJ0bi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICBmb290ZXJTYXZlQnRuLnRleHRDb250ZW50ID0gJ0VucmVnaXN0cmVyJztcbiAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICAvLyBMb2FkIGxheW91dCBkYXRhIG9uIGluaXRcbiAgICBjb25zdCBsb2FkTGF5b3V0RGF0YSA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghbGF5b3V0QXBpQmFzZSkgcmV0dXJuO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChsYXlvdXRBcGlCYXNlLCB7IGNyZWRlbnRpYWxzOiAnaW5jbHVkZScgfSk7XG4gICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgaWYgKGRhdGEuaGVhZGVyKSB7XG4gICAgICAgICAgICBoZWFkZXJEYXRhID0gZGF0YS5oZWFkZXI7XG4gICAgICAgICAgICBwb3B1bGF0ZUhlYWRlckZvcm0oZGF0YS5oZWFkZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZGF0YS5mb290ZXIpIHtcbiAgICAgICAgICAgIGZvb3RlckRhdGEgPSBkYXRhLmZvb3RlcjtcbiAgICAgICAgICAgIHBvcHVsYXRlRm9vdGVyRm9ybShkYXRhLmZvb3Rlcik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2xheW91dF0gbG9hZCBlcnJvcicsIGVycik7XG4gICAgICB9XG4gICAgfTtcbiAgICBcbiAgICAvLyBJbml0aWFsaXplIGxheW91dCBkYXRhXG4gICAgbG9hZExheW91dERhdGEoKTtcbiAgICBcbiAgICBjb25zdCBzYWZlU2l0ZVNsdWdWYWx1ZSA9IHN0cmlwTGVhZGluZ1NsYXNoKFxuICAgICAgd29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyxcbiAgICApO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25zQXBpQmFzZSA9IHNhZmVTaXRlU2x1Z1ZhbHVlXG4gICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Z1ZhbHVlKX0vY29sbGVjdGlvbnNgXG4gICAgICA6IG51bGw7XG5cbiAgICBsZXQgY29sbGVjdGlvbnMgPSBbXTtcbiAgICBsZXQgY29sbGVjdGlvbkl0ZW1zID0gW107XG4gICAgbGV0IGFjdGl2ZUNvbGxlY3Rpb25JZCA9IG51bGw7XG4gICAgbGV0IGFjdGl2ZUl0ZW1JZCA9IG51bGw7XG4gICAgbGV0IGlzQ3JlYXRpbmdJdGVtID0gZmFsc2U7XG4gICAgbGV0IGl0ZW1TbHVnTWFudWFsbHlFZGl0ZWQgPSBmYWxzZTtcbiAgICBsZXQgcGVuZGluZ0RlbGV0ZUl0ZW1JZCA9IG51bGw7XG5cbiAgICBjb25zdCBub3JtYWxpemVJdGVtU2x1Z0lucHV0ID0gKHZhbHVlKSA9PiB7XG4gICAgICBjb25zdCByYXcgPSAodmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgIGlmICghcmF3KSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICAgIH1cbiAgICAgIGlmIChyYXcgPT09ICcvJykge1xuICAgICAgICByZXR1cm4gJy8nO1xuICAgICAgfVxuICAgICAgY29uc3Qgc2VnbWVudHMgPSByYXcucmVwbGFjZSgvXlxcLy8sICcnKS5zcGxpdCgnLycpO1xuICAgICAgY29uc3QgY2xlYW5lZFNlZ21lbnRzID0gc2VnbWVudHNcbiAgICAgICAgLm1hcCgoc2VnbWVudCkgPT4gd29ya3NwYWNlU2x1Z2lmeShzZWdtZW50IHx8ICcnKSlcbiAgICAgICAgLmZpbHRlcigoc2VnbWVudCkgPT4gc2VnbWVudC5sZW5ndGggPiAwKTtcbiAgICAgIGlmICghY2xlYW5lZFNlZ21lbnRzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgICB9XG4gICAgICByZXR1cm4gYC8ke2NsZWFuZWRTZWdtZW50cy5qb2luKCcvJyl9YDtcbiAgICB9O1xuXG4gICAgY29uc3QgZm9ybWF0SXRlbURhdGUgPSAodmFsdWUpID0+IHtcbiAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuICdcdTIwMTQnO1xuICAgICAgfVxuICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKHZhbHVlKTtcbiAgICAgIGlmIChOdW1iZXIuaXNOYU4oZGF0ZS5nZXRUaW1lKCkpKSB7XG4gICAgICAgIHJldHVybiAnXHUyMDE0JztcbiAgICAgIH1cbiAgICAgIHJldHVybiBkYXRlLnRvTG9jYWxlRGF0ZVN0cmluZygnZnItRlInLCB7IGRheTogJzItZGlnaXQnLCBtb250aDogJ3Nob3J0JywgeWVhcjogJ251bWVyaWMnIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCB1cGRhdGVDb2xsZWN0aW9uSGVhZGVyID0gKCkgPT4ge1xuICAgICAgY29uc3QgY29sbGVjdGlvbiA9IGNvbGxlY3Rpb25zLmZpbmQoKGVudHJ5KSA9PiBlbnRyeS5pZCA9PT0gYWN0aXZlQ29sbGVjdGlvbklkKTtcbiAgICAgIGlmIChjb2xsZWN0aW9uVGl0bGUpIHtcbiAgICAgICAgY29sbGVjdGlvblRpdGxlLnRleHRDb250ZW50ID0gY29sbGVjdGlvbj8ubmFtZSB8fCAnU1x1MDBFOWxlY3Rpb25uZXogdW5lIGNvbGxlY3Rpb24nO1xuICAgICAgfVxuICAgICAgaWYgKGNvbGxlY3Rpb25EZXNjcmlwdGlvbikge1xuICAgICAgICBjb2xsZWN0aW9uRGVzY3JpcHRpb24udGV4dENvbnRlbnQgPSBjb2xsZWN0aW9uPy5kZXNjcmlwdGlvbiB8fCAnJztcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgdXBkYXRlSXRlbXNFbXB0eU1lc3NhZ2UgPSAobWVzc2FnZSkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uSXRlbXNFbXB0eSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb2xsZWN0aW9uSXRlbXNFbXB0eS50ZXh0Q29udGVudCA9XG4gICAgICAgIG1lc3NhZ2UgfHxcbiAgICAgICAgKGFjdGl2ZUNvbGxlY3Rpb25JZFxuICAgICAgICAgID8gJ0F1Y3VuIGl0ZW0gZGFucyBjZXR0ZSBjb2xsZWN0aW9uIHBvdXIgbGUgbW9tZW50LidcbiAgICAgICAgICA6ICdDaG9pc2lzc2V6IHVuZSBjb2xsZWN0aW9uIGRhbnMgbGUgcGFubmVhdSBkZSBnYXVjaGUuJyk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhpZGVJdGVtRm9ybSA9ICgpID0+IHtcbiAgICAgIGlmIChpdGVtRm9ybSkge1xuICAgICAgICBpdGVtRm9ybS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgaXRlbUZvcm0uZGF0YXNldC5pdGVtSWQgPSAnJztcbiAgICAgIH1cbiAgICAgIGl0ZW1EZXRhaWxFbXB0eT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBpZiAoaXRlbVN0YXR1c0JhZGdlKSB7XG4gICAgICAgIGl0ZW1TdGF0dXNCYWRnZS5jbGFzc05hbWUgPSBgaGlkZGVuICR7c3RhdHVzQmFkZ2VCYXNlQ2xhc3N9YDtcbiAgICAgICAgaXRlbVN0YXR1c0JhZGdlLnRleHRDb250ZW50ID0gJyc7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbURlbGV0ZUJ1dHRvbikge1xuICAgICAgICBpdGVtRGVsZXRlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHN5bmNJdGVtUGFuZWxXaXRoVmlld3BvcnQoKTtcbiAgICB9O1xuXG4gICAgY29uc3Qgc2hvd0l0ZW1Gb3JtID0gKCkgPT4ge1xuICAgICAgaWYgKCFpdGVtRm9ybSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpdGVtRm9ybS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGl0ZW1EZXRhaWxFbXB0eT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBzeW5jSXRlbVBhbmVsV2l0aFZpZXdwb3J0KCk7XG4gICAgfTtcblxuICAgIGNvbnN0IHN5bmNBZGRCdXR0b25TdGF0ZSA9ICgpID0+IHtcbiAgICAgIGlmICghaXRlbUFkZEJ1dHRvbikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpdGVtQWRkQnV0dG9uLmRpc2FibGVkID0gIWFjdGl2ZUNvbGxlY3Rpb25JZDtcbiAgICAgIGlmIChpdGVtQWRkQnV0dG9uLmRpc2FibGVkKSB7XG4gICAgICAgIGl0ZW1BZGRCdXR0b24uY2xhc3NMaXN0LmFkZCgnb3BhY2l0eS02MCcsICdwb2ludGVyLWV2ZW50cy1ub25lJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpdGVtQWRkQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ29wYWNpdHktNjAnLCAncG9pbnRlci1ldmVudHMtbm9uZScpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBzeW5jSXRlbVN0YXR1c0JhZGdlID0gKHN0YXR1cykgPT4ge1xuICAgICAgaWYgKCFpdGVtU3RhdHVzQmFkZ2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFzdGF0dXMpIHtcbiAgICAgICAgaXRlbVN0YXR1c0JhZGdlLmNsYXNzTmFtZSA9IGBoaWRkZW4gJHtzdGF0dXNCYWRnZUJhc2VDbGFzc31gO1xuICAgICAgICBpdGVtU3RhdHVzQmFkZ2UudGV4dENvbnRlbnQgPSAnJztcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IHN0YXR1cy50b0xvd2VyQ2FzZSgpO1xuICAgICAgbGV0IGNvbG9yQ2xhc3MgPSAnYmctc2xhdGUtMTAwIHRleHQtc2xhdGUtNjAwIGJvcmRlciBib3JkZXItc2xhdGUtMjAwJztcbiAgICAgIGlmIChub3JtYWxpemVkID09PSAncHVibGlcdTAwRTknIHx8IG5vcm1hbGl6ZWQgPT09ICdwdWJsaWUnKSB7XG4gICAgICAgIGNvbG9yQ2xhc3MgPSAnYmctZW1lcmFsZC01MCB0ZXh0LWVtZXJhbGQtNzAwIGJvcmRlciBib3JkZXItZW1lcmFsZC0xMDAnO1xuICAgICAgfSBlbHNlIGlmIChub3JtYWxpemVkID09PSAnYnJvdWlsbG9uJykge1xuICAgICAgICBjb2xvckNsYXNzID0gJ2JnLWFtYmVyLTUwIHRleHQtYW1iZXItNzAwIGJvcmRlciBib3JkZXItYW1iZXItMTAwJztcbiAgICAgIH1cbiAgICAgIGl0ZW1TdGF0dXNCYWRnZS5jbGFzc05hbWUgPSBgJHtzdGF0dXNCYWRnZUJhc2VDbGFzc30gJHtjb2xvckNsYXNzfWA7XG4gICAgICBpdGVtU3RhdHVzQmFkZ2UudGV4dENvbnRlbnQgPSBzdGF0dXM7XG4gICAgfTtcblxuICAgIGNvbnN0IHJlbmRlckNvbGxlY3Rpb25MaXN0ID0gKCkgPT4ge1xuICAgICAgY29sbGVjdGlvbkxpc3QuaW5uZXJIVE1MID0gJyc7XG4gICAgICAvLyBVcGRhdGUgY29sbGVjdGlvbiBjb3VudFxuICAgICAgaWYgKGNvbGxlY3Rpb25Db3VudEVsKSBjb2xsZWN0aW9uQ291bnRFbC50ZXh0Q29udGVudCA9IGNvbGxlY3Rpb25zLmxlbmd0aDtcbiAgICAgIGlmICghY29sbGVjdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgIGNvbGxlY3Rpb25FbXB0eVN0YXRlPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29sbGVjdGlvbkVtcHR5U3RhdGU/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgY29sbGVjdGlvbnMuZm9yRWFjaCgoY29sbGVjdGlvbikgPT4ge1xuICAgICAgICBjb25zdCBpc0FjdGl2ZSA9IGNvbGxlY3Rpb24uaWQgPT09IGFjdGl2ZUNvbGxlY3Rpb25JZDtcbiAgICAgICAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIGJ1dHRvbi50eXBlID0gJ2J1dHRvbic7XG4gICAgICAgIGJ1dHRvbi5kYXRhc2V0LmNvbGxlY3Rpb25JZCA9IGNvbGxlY3Rpb24uaWQ7XG4gICAgICAgIGJ1dHRvbi5jbGFzc05hbWUgPSBbXG4gICAgICAgICAgJ3ctZnVsbCByb3VuZGVkLXhsIGJvcmRlciBweC0zIHB5LTIgdGV4dC1sZWZ0IHRyYW5zaXRpb24gZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLVsjOUM2QkZGXS80MCcsXG4gICAgICAgICAgaXNBY3RpdmVcbiAgICAgICAgICAgID8gJ2JnLVsjRjdGMEZGXSBib3JkZXItWyM5QzZCRkZdLzQwIHRleHQtc2xhdGUtOTAwJ1xuICAgICAgICAgICAgOiAnYm9yZGVyLXNsYXRlLTIwMCB0ZXh0LXNsYXRlLTcwMCBob3Zlcjpib3JkZXItWyM5QzZCRkZdLzQwJyxcbiAgICAgICAgXS5qb2luKCcgJyk7XG4gICAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnb3B0aW9uJyk7XG4gICAgICAgIGlmIChpc0FjdGl2ZSkge1xuICAgICAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtY3VycmVudCcsICd0cnVlJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYnV0dG9uLnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1jdXJyZW50Jyk7XG4gICAgICAgIH1cbiAgICAgICAgYnV0dG9uLmlubmVySFRNTCA9IGBcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIGdhcC0yXCI+XG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQtc20gZm9udC1zZW1pYm9sZFwiPiR7Y29sbGVjdGlvbi5uYW1lIHx8IGNvbGxlY3Rpb24uaWR9PC9wPlxuICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQteHMgdGV4dC1zbGF0ZS01MDBcIj4ke2NvbGxlY3Rpb24uZGVzY3JpcHRpb24gfHwgJyd9PC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQtWzExcHhdIHVwcGVyY2FzZSB0cmFja2luZy13aWRlIHRleHQtc2xhdGUtNDAwXCI+JHtjb2xsZWN0aW9uLnR5cGUgfHwgJyd9PC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICBgO1xuICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgc2V0QWN0aXZlQ29sbGVjdGlvbihjb2xsZWN0aW9uLmlkKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbGxlY3Rpb25MaXN0LmFwcGVuZENoaWxkKGJ1dHRvbik7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgcmVuZGVySXRlbVRhYmxlID0gKCkgPT4ge1xuICAgICAgaWYgKCFpdGVtVGFibGVCb2R5KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGl0ZW1UYWJsZUJvZHkuaW5uZXJIVE1MID0gJyc7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25JdGVtcy5sZW5ndGggfHwgIWFjdGl2ZUNvbGxlY3Rpb25JZCkge1xuICAgICAgICBjb2xsZWN0aW9uSXRlbXNFbXB0eT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIHVwZGF0ZUl0ZW1zRW1wdHlNZXNzYWdlKCk7XG4gICAgICAgIGl0ZW1UYWJsZVdyYXBwZXI/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb2xsZWN0aW9uSXRlbXNFbXB0eT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBpdGVtVGFibGVXcmFwcGVyPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGNvbGxlY3Rpb25JdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgIGNvbnN0IHJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyJyk7XG4gICAgICAgIHJvdy5kYXRhc2V0Lml0ZW1JZCA9IGl0ZW0uaWQ7XG4gICAgICAgIGNvbnN0IGlzQWN0aXZlID0gaXRlbS5pZCA9PT0gYWN0aXZlSXRlbUlkICYmICFpc0NyZWF0aW5nSXRlbTtcbiAgICAgICAgcm93LmNsYXNzTmFtZSA9IFtcbiAgICAgICAgICAnY3Vyc29yLXBvaW50ZXIgdHJhbnNpdGlvbiBmb2N1cy13aXRoaW46YmctWyNGN0YwRkZdLzcwIGZvY3VzOm91dGxpbmUtbm9uZScsXG4gICAgICAgICAgaXNBY3RpdmUgPyAnYmctWyNGN0YwRkZdLzcwJyA6ICdob3ZlcjpiZy1zbGF0ZS01MCcsXG4gICAgICAgIF0uam9pbignICcpO1xuICAgICAgICByb3cudGFiSW5kZXggPSAwO1xuICAgICAgICByb3cuc2V0QXR0cmlidXRlKCdyb2xlJywgJ2J1dHRvbicpO1xuICAgICAgICBpZiAoaXNBY3RpdmUpIHtcbiAgICAgICAgICByb3cuc2V0QXR0cmlidXRlKCdhcmlhLWN1cnJlbnQnLCAndHJ1ZScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJvdy5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtY3VycmVudCcpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHN0YXR1cyA9IGl0ZW0uc3RhdHVzIHx8ICdCcm91aWxsb24nO1xuICAgICAgICBjb25zdCBub3JtYWxpemVkID0gc3RhdHVzLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGNvbnN0IHN0YXR1c0NsYXNzZXMgPVxuICAgICAgICAgIG5vcm1hbGl6ZWQgPT09ICdwdWJsaVx1MDBFOScgfHwgbm9ybWFsaXplZCA9PT0gJ3B1YmxpZSdcbiAgICAgICAgICAgID8gJ2JnLWVtZXJhbGQtNTAgdGV4dC1lbWVyYWxkLTcwMCBib3JkZXIgYm9yZGVyLWVtZXJhbGQtMTAwJ1xuICAgICAgICAgICAgOiAnYmctYW1iZXItNTAgdGV4dC1hbWJlci03MDAgYm9yZGVyIGJvcmRlci1hbWJlci0xMDAnO1xuICAgICAgICByb3cuaW5uZXJIVE1MID0gYFxuICAgICAgICAgIDx0ZCBjbGFzcz1cInB4LTQgcHktMyBhbGlnbi10b3BcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC1zbSBmb250LXNlbWlib2xkIHRleHQtc2xhdGUtOTAwXCI+JHtpdGVtLnRpdGxlIHx8ICdTYW5zIHRpdHJlJ308L3NwYW4+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC14cyB0ZXh0LXNsYXRlLTUwMFwiPiR7aXRlbS5zdW1tYXJ5IHx8IGl0ZW0uZXhjZXJwdCB8fCAnJ308L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L3RkPlxuICAgICAgICAgIDx0ZCBjbGFzcz1cInB4LTQgcHktMyBhbGlnbi10b3AgdGV4dC1zbSB0ZXh0LXNsYXRlLTYwMFwiPiR7aXRlbS5zbHVnIHx8ICcnfTwvdGQ+XG4gICAgICAgICAgPHRkIGNsYXNzPVwicHgtNCBweS0zIGFsaWduLXRvcFwiPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgcm91bmRlZC1mdWxsIHB4LTMgcHktMSB0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgJHtzdGF0dXNDbGFzc2VzfVwiPlxuICAgICAgICAgICAgICAke3N0YXR1c31cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L3RkPlxuICAgICAgICAgIDx0ZCBjbGFzcz1cInB4LTQgcHktMyBhbGlnbi10b3AgdGV4dC1zbSB0ZXh0LXNsYXRlLTUwMFwiPiR7Zm9ybWF0SXRlbURhdGUoXG4gICAgICAgICAgICBpdGVtLnVwZGF0ZWRBdCB8fCBpdGVtLmNyZWF0ZWRBdCxcbiAgICAgICAgICApfTwvdGQ+XG4gICAgICAgIGA7XG4gICAgICAgIGNvbnN0IGhhbmRsZVNlbGVjdCA9ICgpID0+IHtcbiAgICAgICAgICBzZWxlY3RJdGVtKGl0ZW0uaWQpO1xuICAgICAgICB9O1xuICAgICAgICByb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVTZWxlY3QpO1xuICAgICAgICByb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldmVudCkgPT4ge1xuICAgICAgICAgIGlmIChldmVudC5rZXkgPT09ICdFbnRlcicgfHwgZXZlbnQua2V5ID09PSAnICcpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBoYW5kbGVTZWxlY3QoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpdGVtVGFibGVCb2R5LmFwcGVuZENoaWxkKHJvdyk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgY29uc3Qgc2VsZWN0SXRlbSA9IChpdGVtSWQpID0+IHtcbiAgICAgIGNvbnN0IGl0ZW0gPSBjb2xsZWN0aW9uSXRlbXMuZmluZCgoZW50cnkpID0+IGVudHJ5LmlkID09PSBpdGVtSWQpO1xuICAgICAgaWYgKCFpdGVtKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGFjdGl2ZUl0ZW1JZCA9IGl0ZW0uaWQ7XG4gICAgICBpc0NyZWF0aW5nSXRlbSA9IGZhbHNlO1xuICAgICAgaXRlbVNsdWdNYW51YWxseUVkaXRlZCA9IHRydWU7XG4gICAgICBwb3B1bGF0ZUl0ZW1Gb3JtKGl0ZW0pO1xuICAgICAgcmVuZGVySXRlbVRhYmxlKCk7XG4gICAgfTtcblxuICAgIGNvbnN0IHBvcHVsYXRlSXRlbUZvcm0gPSAoaXRlbSkgPT4ge1xuICAgICAgaWYgKCFpdGVtRm9ybSB8fCAhaXRlbSkge1xuICAgICAgICBoaWRlSXRlbUZvcm0oKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2hvd0l0ZW1Gb3JtKCk7XG4gICAgICBpdGVtRm9ybS5kYXRhc2V0Lml0ZW1JZCA9IGl0ZW0uaWQ7XG4gICAgICBpZiAoaXRlbUZvcm1GaWVsZHMudGl0bGUpIHtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMudGl0bGUudmFsdWUgPSBpdGVtLnRpdGxlIHx8ICcnO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1Gb3JtRmllbGRzLnNsdWcpIHtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMuc2x1Zy52YWx1ZSA9IGl0ZW0uc2x1ZyB8fCAnJztcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtRm9ybUZpZWxkcy5leGNlcnB0KSB7XG4gICAgICAgIGl0ZW1Gb3JtRmllbGRzLmV4Y2VycHQudmFsdWUgPSBpdGVtLnN1bW1hcnkgfHwgaXRlbS5leGNlcnB0IHx8ICcnO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1Gb3JtRmllbGRzLmNvbnRlbnQpIHtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMuY29udGVudC52YWx1ZSA9IGl0ZW0uY29udGVudCB8fCAnJztcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtRm9ybUZpZWxkcy5pbWFnZSkge1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy5pbWFnZS52YWx1ZSA9IGl0ZW0uaW1hZ2UgfHwgJyc7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbUZvcm1GaWVsZHMuY3RhVGV4dCkge1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy5jdGFUZXh0LnZhbHVlID0gaXRlbS5jdGE/LnRleHQgfHwgaXRlbS5jdGFUZXh0IHx8ICcnO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1Gb3JtRmllbGRzLmN0YVVybCkge1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy5jdGFVcmwudmFsdWUgPSBpdGVtLmN0YT8udXJsIHx8IGl0ZW0uY3RhVXJsIHx8ICcnO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1Gb3JtRmllbGRzLnN0YXR1cykge1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy5zdGF0dXMudmFsdWUgPSBpdGVtLnN0YXR1cyB8fCAnQnJvdWlsbG9uJztcbiAgICAgIH1cbiAgICAgIHN5bmNJdGVtU3RhdHVzQmFkZ2UoaXRlbS5zdGF0dXMgfHwgJ0Jyb3VpbGxvbicpO1xuICAgICAgaWYgKGl0ZW1EZWxldGVCdXR0b24pIHtcbiAgICAgICAgaXRlbURlbGV0ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBwcmVwYXJlTmV3SXRlbUZvcm0gPSAoKSA9PiB7XG4gICAgICBpZiAoIWl0ZW1Gb3JtKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlzQ3JlYXRpbmdJdGVtID0gdHJ1ZTtcbiAgICAgIGFjdGl2ZUl0ZW1JZCA9IG51bGw7XG4gICAgICBpdGVtU2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gICAgICBpdGVtRm9ybS5kYXRhc2V0Lml0ZW1JZCA9ICcnO1xuICAgICAgaXRlbUZvcm0ucmVzZXQoKTtcbiAgICAgIGlmIChpdGVtRm9ybUZpZWxkcy5zdGF0dXMpIHtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMuc3RhdHVzLnZhbHVlID0gJ0Jyb3VpbGxvbic7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbUZvcm1GaWVsZHMuc2x1Zykge1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy5zbHVnLnZhbHVlID0gJyc7XG4gICAgICB9XG4gICAgICBzeW5jSXRlbVN0YXR1c0JhZGdlKCdCcm91aWxsb24nKTtcbiAgICAgIHNob3dJdGVtRm9ybSgpO1xuICAgICAgaWYgKGl0ZW1EZWxldGVCdXR0b24pIHtcbiAgICAgICAgaXRlbURlbGV0ZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICB9XG4gICAgICBpdGVtRm9ybUZpZWxkcy50aXRsZT8uZm9jdXMoKTtcbiAgICB9O1xuXG4gICAgY29uc3QgY29sbGVjdEl0ZW1Gb3JtVmFsdWVzID0gKCkgPT4ge1xuICAgICAgY29uc3QgdGl0bGUgPSAoaXRlbUZvcm1GaWVsZHMudGl0bGU/LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICBjb25zdCBzbHVnSW5wdXQgPSAoaXRlbUZvcm1GaWVsZHMuc2x1Zz8udmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgIGNvbnN0IHN1bW1hcnkgPSAoaXRlbUZvcm1GaWVsZHMuZXhjZXJwdD8udmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgIGNvbnN0IGNvbnRlbnQgPSAoaXRlbUZvcm1GaWVsZHMuY29udGVudD8udmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgIGNvbnN0IGltYWdlID0gKGl0ZW1Gb3JtRmllbGRzLmltYWdlPy52YWx1ZSB8fCAnJykudHJpbSgpO1xuICAgICAgY29uc3QgY3RhVGV4dCA9IChpdGVtRm9ybUZpZWxkcy5jdGFUZXh0Py52YWx1ZSB8fCAnJykudHJpbSgpO1xuICAgICAgY29uc3QgY3RhVXJsID0gKGl0ZW1Gb3JtRmllbGRzLmN0YVVybD8udmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgIGNvbnN0IHN0YXR1cyA9IGl0ZW1Gb3JtRmllbGRzLnN0YXR1cz8udmFsdWUgfHwgJ0Jyb3VpbGxvbic7XG4gICAgICBcbiAgICAgIC8vIEJ1aWxkIENUQSBvYmplY3Qgb25seSBpZiBhdCBsZWFzdCBvbmUgZmllbGQgaXMgZmlsbGVkXG4gICAgICBjb25zdCBjdGEgPSAoY3RhVGV4dCB8fCBjdGFVcmwpID8geyB0ZXh0OiBjdGFUZXh0LCB1cmw6IGN0YVVybCB9IDogbnVsbDtcbiAgICAgIFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdGl0bGUsXG4gICAgICAgIHNsdWc6IHNsdWdJbnB1dCA/IG5vcm1hbGl6ZUl0ZW1TbHVnSW5wdXQoc2x1Z0lucHV0KSA6IG5vcm1hbGl6ZUl0ZW1TbHVnSW5wdXQodGl0bGUpLFxuICAgICAgICBzdW1tYXJ5LFxuICAgICAgICBleGNlcnB0OiBzdW1tYXJ5LFxuICAgICAgICBjb250ZW50LFxuICAgICAgICBpbWFnZSxcbiAgICAgICAgc3RhdHVzLFxuICAgICAgICAuLi4oY3RhICYmIHsgY3RhIH0pLFxuICAgICAgfTtcbiAgICB9O1xuXG4gICAgY29uc3Qgc2V0Rm9ybVNhdmluZ1N0YXRlID0gKGlzU2F2aW5nKSA9PiB7XG4gICAgICBpZiAoaXRlbUZvcm1TYXZlKSB7XG4gICAgICAgIGl0ZW1Gb3JtU2F2ZS5kaXNhYmxlZCA9IGlzU2F2aW5nO1xuICAgICAgICBpdGVtRm9ybVNhdmUudGV4dENvbnRlbnQgPSBpc1NhdmluZyA/ICdFbnJlZ2lzdHJlbWVudFx1MjAyNicgOiAnRW5yZWdpc3RyZXInO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1EZWxldGVCdXR0b24gJiYgIWlzQ3JlYXRpbmdJdGVtICYmIGFjdGl2ZUl0ZW1JZCkge1xuICAgICAgICBpdGVtRGVsZXRlQnV0dG9uLmRpc2FibGVkID0gaXNTYXZpbmc7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGZldGNoQ29sbGVjdGlvbkl0ZW1zID0gYXN5bmMgKGNvbGxlY3Rpb25JZCkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uc0FwaUJhc2UpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgYCR7Y29sbGVjdGlvbnNBcGlCYXNlfS8ke2VuY29kZVVSSUNvbXBvbmVudChjb2xsZWN0aW9uSWQpfS9pdGVtc2AsXG4gICAgICAgIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0sXG4gICAgICApO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IocGF5bG9hZC5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIGl0ZW1zLicpO1xuICAgICAgfVxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KGRhdGEuaXRlbXMpID8gZGF0YS5pdGVtcyA6IFtdO1xuICAgIH07XG5cbiAgICBjb25zdCBzZXRBY3RpdmVDb2xsZWN0aW9uID0gYXN5bmMgKGNvbGxlY3Rpb25JZCkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uSWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYWN0aXZlQ29sbGVjdGlvbklkID0gY29sbGVjdGlvbklkO1xuICAgICAgYWN0aXZlSXRlbUlkID0gbnVsbDtcbiAgICAgIGlzQ3JlYXRpbmdJdGVtID0gZmFsc2U7XG4gICAgICBpdGVtU2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gICAgICAvLyBTd2l0Y2ggdG8gY29sbGVjdGlvbiB2aWV3XG4gICAgICBzaG93Q29udGVudFZpZXcoJ2NvbGxlY3Rpb24nKTtcbiAgICAgIHVwZGF0ZUNvbGxlY3Rpb25IZWFkZXIoKTtcbiAgICAgIHN5bmNBZGRCdXR0b25TdGF0ZSgpO1xuICAgICAgcmVuZGVyQ29sbGVjdGlvbkxpc3QoKTtcbiAgICAgIGhpZGVJdGVtRm9ybSgpO1xuICAgICAgY29sbGVjdGlvbkl0ZW1zID0gW107XG4gICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICAgIHVwZGF0ZUl0ZW1zRW1wdHlNZXNzYWdlKCdDaGFyZ2VtZW50IGRlcyBpdGVtc1x1MjAyNicpO1xuICAgICAgY29sbGVjdGlvbkl0ZW1zRW1wdHk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgaXRlbVRhYmxlV3JhcHBlcj8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25zQXBpQmFzZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb2xsZWN0aW9uSXRlbXMgPSBhd2FpdCBmZXRjaENvbGxlY3Rpb25JdGVtcyhjb2xsZWN0aW9uSWQpO1xuICAgICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICAgICAgaWYgKCFjb2xsZWN0aW9uSXRlbXMubGVuZ3RoKSB7XG4gICAgICAgICAgdXBkYXRlSXRlbXNFbXB0eU1lc3NhZ2UoKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tjb250ZW50XSBpdGVtcyBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgY2hhcmdlciBsZXMgaXRlbXMuJyk7XG4gICAgICAgIGNvbGxlY3Rpb25JdGVtcyA9IFtdO1xuICAgICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgY3JlYXRlQ29sbGVjdGlvbkl0ZW0gPSBhc3luYyAoY29sbGVjdGlvbklkLCBwYXlsb2FkKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25zQXBpQmFzZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NpdGUgaW5jb25udS4nKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgIGAke2NvbGxlY3Rpb25zQXBpQmFzZX0vJHtlbmNvZGVVUklDb21wb25lbnQoY29sbGVjdGlvbklkKX0vaXRlbXNgLFxuICAgICAgICB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgIH0sXG4gICAgICApO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZGF0YS5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIGNyXHUwMEU5ZXIgY2V0IGl0ZW0uJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgIH07XG5cbiAgICBjb25zdCB1cGRhdGVDb2xsZWN0aW9uSXRlbSA9IGFzeW5jIChjb2xsZWN0aW9uSWQsIGl0ZW1JZCwgcGF5bG9hZCkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uc0FwaUJhc2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTaXRlIGluY29ubnUuJyk7XG4gICAgICB9XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgICBgJHtjb2xsZWN0aW9uc0FwaUJhc2V9LyR7ZW5jb2RlVVJJQ29tcG9uZW50KGNvbGxlY3Rpb25JZCl9L2l0ZW1zLyR7ZW5jb2RlVVJJQ29tcG9uZW50KGl0ZW1JZCl9YCxcbiAgICAgICAge1xuICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgIH0sXG4gICAgICApO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZGF0YS5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIHNhdXZlZ2FyZGVyIGNldCBpdGVtLicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICB9O1xuXG4gICAgY29uc3QgZGVsZXRlQ29sbGVjdGlvbkl0ZW0gPSBhc3luYyAoY29sbGVjdGlvbklkLCBpdGVtSWQpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvbnNBcGlCYXNlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignU2l0ZSBpbmNvbm51LicpO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgYCR7Y29sbGVjdGlvbnNBcGlCYXNlfS8ke2VuY29kZVVSSUNvbXBvbmVudChjb2xsZWN0aW9uSWQpfS9pdGVtcy8ke2VuY29kZVVSSUNvbXBvbmVudChpdGVtSWQpfWAsXG4gICAgICAgIHsgbWV0aG9kOiAnREVMRVRFJyB9LFxuICAgICAgKTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGRhdGEubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBzdXBwcmltZXIgY2V0IGl0ZW0uJyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGxvYWRDb2xsZWN0aW9ucyA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvbnNBcGlCYXNlKSB7XG4gICAgICAgIGNvbGxlY3Rpb25FbXB0eVN0YXRlPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgYWN0aXZlQ29sbGVjdGlvbklkID0gbnVsbDtcbiAgICAgICAgY29sbGVjdGlvbkl0ZW1zID0gW107XG4gICAgICAgIHJlbmRlckl0ZW1UYWJsZSgpO1xuICAgICAgICB1cGRhdGVDb2xsZWN0aW9uSGVhZGVyKCk7XG4gICAgICAgIHN5bmNBZGRCdXR0b25TdGF0ZSgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGNvbGxlY3Rpb25zQXBpQmFzZSwge1xuICAgICAgICAgIGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ltcG9zc2libGUgZGUgY2hhcmdlciBsZXMgY29sbGVjdGlvbnMuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiBbXSk7XG4gICAgICAgIGNvbGxlY3Rpb25zID0gQXJyYXkuaXNBcnJheShwYXlsb2FkKSA/IHBheWxvYWQgOiBbXTtcbiAgICAgICAgcmVuZGVyQ29sbGVjdGlvbkxpc3QoKTtcbiAgICAgICAgaWYgKGNvbGxlY3Rpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBjb25zdCBkZWZhdWx0SWQgPSBjb2xsZWN0aW9ucy5maW5kKChlbnRyeSkgPT4gZW50cnkuaWQgPT09IGFjdGl2ZUNvbGxlY3Rpb25JZCk/LmlkXG4gICAgICAgICAgICB8fCBjb2xsZWN0aW9uc1swXS5pZDtcbiAgICAgICAgICBzZXRBY3RpdmVDb2xsZWN0aW9uKGRlZmF1bHRJZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYWN0aXZlQ29sbGVjdGlvbklkID0gbnVsbDtcbiAgICAgICAgICBjb2xsZWN0aW9uSXRlbXMgPSBbXTtcbiAgICAgICAgICB1cGRhdGVDb2xsZWN0aW9uSGVhZGVyKCk7XG4gICAgICAgICAgc3luY0FkZEJ1dHRvblN0YXRlKCk7XG4gICAgICAgICAgcmVuZGVySXRlbVRhYmxlKCk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbY29udGVudF0gbG9hZCBjb2xsZWN0aW9ucycsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxlcyBjb2xsZWN0aW9ucy4nKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaXRlbUFkZEJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBpZiAoIWFjdGl2ZUNvbGxlY3Rpb25JZCkge1xuICAgICAgICBzaG93VG9hc3QoJ1NcdTAwRTlsZWN0aW9ubmV6IGRcdTIwMTlhYm9yZCB1bmUgY29sbGVjdGlvbi4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcHJlcGFyZU5ld0l0ZW1Gb3JtKCk7XG4gICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICB9KTtcblxuICAgIGl0ZW1Gb3JtQ2FuY2VsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmIChpc0NyZWF0aW5nSXRlbSkge1xuICAgICAgICBpc0NyZWF0aW5nSXRlbSA9IGZhbHNlO1xuICAgICAgICBhY3RpdmVJdGVtSWQgPSBudWxsO1xuICAgICAgICBoaWRlSXRlbUZvcm0oKTtcbiAgICAgICAgcmVuZGVySXRlbVRhYmxlKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChhY3RpdmVJdGVtSWQpIHtcbiAgICAgICAgY29uc3QgaXRlbSA9IGNvbGxlY3Rpb25JdGVtcy5maW5kKChlbnRyeSkgPT4gZW50cnkuaWQgPT09IGFjdGl2ZUl0ZW1JZCk7XG4gICAgICAgIHBvcHVsYXRlSXRlbUZvcm0oaXRlbSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBoaWRlSXRlbUZvcm0oKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGl0ZW1Gb3JtRmllbGRzLnN0YXR1cz8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICAgICAgc3luY0l0ZW1TdGF0dXNCYWRnZShpdGVtRm9ybUZpZWxkcy5zdGF0dXMudmFsdWUpO1xuICAgIH0pO1xuXG4gICAgaXRlbUZvcm1GaWVsZHMudGl0bGU/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgaWYgKCFpc0NyZWF0aW5nSXRlbSB8fCAhaXRlbUZvcm1GaWVsZHMuc2x1ZyB8fCBpdGVtU2x1Z01hbnVhbGx5RWRpdGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGl0ZW1Gb3JtRmllbGRzLnNsdWcudmFsdWUgPSBub3JtYWxpemVJdGVtU2x1Z0lucHV0KGl0ZW1Gb3JtRmllbGRzLnRpdGxlLnZhbHVlKTtcbiAgICB9KTtcblxuICAgIGl0ZW1Gb3JtRmllbGRzLnNsdWc/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgaWYgKCFpc0NyZWF0aW5nSXRlbSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpdGVtU2x1Z01hbnVhbGx5RWRpdGVkID0gdHJ1ZTtcbiAgICB9KTtcblxuICAgIGl0ZW1Gb3JtPy5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoIWFjdGl2ZUNvbGxlY3Rpb25JZCkge1xuICAgICAgICBzaG93VG9hc3QoJ1NcdTAwRTlsZWN0aW9ubmV6IHVuZSBjb2xsZWN0aW9uLicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCB2YWx1ZXMgPSBjb2xsZWN0SXRlbUZvcm1WYWx1ZXMoKTtcbiAgICAgIGlmICghdmFsdWVzLnRpdGxlKSB7XG4gICAgICAgIHNob3dUb2FzdCgnTGUgdGl0cmUgZXN0IHJlcXVpcy4nKTtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMudGl0bGU/LmZvY3VzKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNldEZvcm1TYXZpbmdTdGF0ZSh0cnVlKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGxldCBzYXZlZEl0ZW07XG4gICAgICAgIGlmIChpc0NyZWF0aW5nSXRlbSB8fCAhYWN0aXZlSXRlbUlkKSB7XG4gICAgICAgICAgc2F2ZWRJdGVtID0gYXdhaXQgY3JlYXRlQ29sbGVjdGlvbkl0ZW0oYWN0aXZlQ29sbGVjdGlvbklkLCB2YWx1ZXMpO1xuICAgICAgICAgIGNvbGxlY3Rpb25JdGVtcyA9IFsuLi5jb2xsZWN0aW9uSXRlbXMsIHNhdmVkSXRlbV07XG4gICAgICAgICAgc2hvd1RvYXN0KCdJdGVtIGNyXHUwMEU5XHUwMEU5Jyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2F2ZWRJdGVtID0gYXdhaXQgdXBkYXRlQ29sbGVjdGlvbkl0ZW0oYWN0aXZlQ29sbGVjdGlvbklkLCBhY3RpdmVJdGVtSWQsIHZhbHVlcyk7XG4gICAgICAgICAgY29sbGVjdGlvbkl0ZW1zID0gY29sbGVjdGlvbkl0ZW1zLm1hcCgoaXRlbSkgPT5cbiAgICAgICAgICAgIGl0ZW0uaWQgPT09IHNhdmVkSXRlbS5pZCA/IHNhdmVkSXRlbSA6IGl0ZW0sXG4gICAgICAgICAgKTtcbiAgICAgICAgICBzaG93VG9hc3QoJ0l0ZW0gbWlzIFx1MDBFMCBqb3VyJyk7XG4gICAgICAgIH1cbiAgICAgICAgaXNDcmVhdGluZ0l0ZW0gPSBmYWxzZTtcbiAgICAgICAgYWN0aXZlSXRlbUlkID0gc2F2ZWRJdGVtLmlkO1xuICAgICAgICBwb3B1bGF0ZUl0ZW1Gb3JtKHNhdmVkSXRlbSk7XG4gICAgICAgIHJlbmRlckl0ZW1UYWJsZSgpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tjb250ZW50XSBzYXZlIGl0ZW0gZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIHNhdXZlZ2FyZGVyIGNldCBpdGVtLicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0Rm9ybVNhdmluZ1N0YXRlKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGNvbnN0IGNsb3NlRGVsZXRlTW9kYWwgPSAoKSA9PiB7XG4gICAgICBpZiAoIWl0ZW1EZWxldGVNb2RhbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpdGVtRGVsZXRlTW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBpdGVtRGVsZXRlTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnZmxleCcpO1xuICAgICAgcGVuZGluZ0RlbGV0ZUl0ZW1JZCA9IG51bGw7XG4gICAgfTtcblxuICAgIGNvbnN0IG9wZW5EZWxldGVNb2RhbCA9ICgpID0+IHtcbiAgICAgIGlmICghaXRlbURlbGV0ZU1vZGFsIHx8ICFhY3RpdmVJdGVtSWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcGVuZGluZ0RlbGV0ZUl0ZW1JZCA9IGFjdGl2ZUl0ZW1JZDtcbiAgICAgIGl0ZW1EZWxldGVNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGl0ZW1EZWxldGVNb2RhbC5jbGFzc0xpc3QuYWRkKCdmbGV4Jyk7XG4gICAgfTtcblxuICAgIGl0ZW1EZWxldGVCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKCFhY3RpdmVJdGVtSWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgb3BlbkRlbGV0ZU1vZGFsKCk7XG4gICAgfSk7XG5cbiAgICBpdGVtRGVsZXRlQ2FuY2VsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNsb3NlRGVsZXRlTW9kYWwoKTtcbiAgICB9KTtcblxuICAgIGl0ZW1EZWxldGVNb2RhbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIGlmIChldmVudC50YXJnZXQgPT09IGl0ZW1EZWxldGVNb2RhbCkge1xuICAgICAgICBjbG9zZURlbGV0ZU1vZGFsKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpdGVtRGVsZXRlQ29uZmlybT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXBlbmRpbmdEZWxldGVJdGVtSWQgfHwgIWFjdGl2ZUNvbGxlY3Rpb25JZCkge1xuICAgICAgICBjbG9zZURlbGV0ZU1vZGFsKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGl0ZW1EZWxldGVDb25maXJtLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIGl0ZW1EZWxldGVDb25maXJtLnRleHRDb250ZW50ID0gJ1N1cHByZXNzaW9uXHUyMDI2JztcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IGRlbGV0ZUNvbGxlY3Rpb25JdGVtKGFjdGl2ZUNvbGxlY3Rpb25JZCwgcGVuZGluZ0RlbGV0ZUl0ZW1JZCk7XG4gICAgICAgIGNvbGxlY3Rpb25JdGVtcyA9IGNvbGxlY3Rpb25JdGVtcy5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0uaWQgIT09IHBlbmRpbmdEZWxldGVJdGVtSWQpO1xuICAgICAgICBpZiAoYWN0aXZlSXRlbUlkID09PSBwZW5kaW5nRGVsZXRlSXRlbUlkKSB7XG4gICAgICAgICAgYWN0aXZlSXRlbUlkID0gbnVsbDtcbiAgICAgICAgICBoaWRlSXRlbUZvcm0oKTtcbiAgICAgICAgfVxuICAgICAgICBzaG93VG9hc3QoJ0l0ZW0gc3VwcHJpbVx1MDBFOScpO1xuICAgICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbY29udGVudF0gZGVsZXRlIGl0ZW0gZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIHN1cHByaW1lciBjZXQgaXRlbS4nKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGl0ZW1EZWxldGVDb25maXJtLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIGl0ZW1EZWxldGVDb25maXJtLnRleHRDb250ZW50ID0gJ1N1cHByaW1lcic7XG4gICAgICAgIGNsb3NlRGVsZXRlTW9kYWwoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHVwZGF0ZUNvbGxlY3Rpb25IZWFkZXIoKTtcbiAgICBzeW5jQWRkQnV0dG9uU3RhdGUoKTtcbiAgICBsb2FkQ29sbGVjdGlvbnMoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXREZXBsb3lXb3Jrc3BhY2UoKSB7XG4gICAgY29uc3QgZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1mb3JtXScpO1xuICAgIGlmICghZm9ybSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBwcm90b2NvbFNlbGVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1wcm90b2NvbF0nKTtcbiAgICBjb25zdCBob3N0SW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktaG9zdF0nKTtcbiAgICBjb25zdCBwb3J0SW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktcG9ydF0nKTtcbiAgICBjb25zdCB1c2VySW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktdXNlcl0nKTtcbiAgICBjb25zdCBwYXNzd29yZElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LXBhc3N3b3JkXScpO1xuICAgIGNvbnN0IHNob3dQYXNzd29yZFRvZ2dsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1zaG93LXBhc3N3b3JkXScpO1xuICAgIGNvbnN0IHJlbW90ZVBhdGhJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1yZW1vdGUtcGF0aF0nKTtcbiAgICBjb25zdCBmZWVkYmFjayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1mZWVkYmFja10nKTtcbiAgICBjb25zdCBzYXZlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LXNhdmVdJyk7XG4gICAgY29uc3QgdGVzdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS10ZXN0XScpO1xuICAgIGNvbnN0IGRlcGxveUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS10cmlnZ2VyXScpO1xuICAgIGNvbnN0IGhpc3RvcnlMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LWhpc3RvcnldJyk7XG4gICAgY29uc3QgbG9nQm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LWxvZ10nKTtcblxuICAgIGNvbnN0IHNhZmVTaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKFxuICAgICAgd29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyxcbiAgICApO1xuICAgIGNvbnN0IGRlcGxveUFwaUJhc2UgPSBzYWZlU2l0ZVNsdWdcbiAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnKX0vZGVwbG95LWNvbmZpZ2BcbiAgICAgIDogbnVsbDtcbiAgICBjb25zdCBkZXBsb3lSdW5BcGkgPSBzYWZlU2l0ZVNsdWdcbiAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnKX0vZGVwbG95YFxuICAgICAgOiBudWxsO1xuICAgIGNvbnN0IGRlcGxveUxvZ0FwaSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9kZXBsb3ktbG9nYFxuICAgICAgOiBudWxsO1xuXG4gICAgbGV0IGhhc1Bhc3N3b3JkID0gZmFsc2U7XG4gICAgbGV0IGJ1c3lBY3Rpb24gPSBudWxsO1xuXG4gICAgY29uc3Qgc2FuaXRpemVSZW1vdGVQYXRoID0gKHZhbHVlKSA9PiB7XG4gICAgICBjb25zdCB0cmltbWVkID0gKHZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICBpZiAoIXRyaW1tZWQpIHtcbiAgICAgICAgcmV0dXJuICcvd3d3JztcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cmltbWVkLnN0YXJ0c1dpdGgoJy8nKSA/IHRyaW1tZWQgOiBgLyR7dHJpbW1lZH1gO1xuICAgIH07XG5cbiAgICBjb25zdCBzZXRGZWVkYmFjayA9IChtZXNzYWdlLCB0b25lID0gJ211dGVkJykgPT4ge1xuICAgICAgaWYgKCFmZWVkYmFjaykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBiYXNlQ2xhc3MgPSAnaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHJvdW5kZWQtZnVsbCBweC0zIHB5LTEgdGV4dC14cyBmb250LXNlbWlib2xkJztcbiAgICAgIGNvbnN0IHRvbmVDbGFzcyA9XG4gICAgICAgIHRvbmUgPT09ICdzdWNjZXNzJ1xuICAgICAgICAgID8gJ2JnLWVtZXJhbGQtNTAgdGV4dC1lbWVyYWxkLTcwMCBib3JkZXIgYm9yZGVyLWVtZXJhbGQtMTAwJ1xuICAgICAgICAgIDogdG9uZSA9PT0gJ2Vycm9yJ1xuICAgICAgICAgICAgPyAnYmctcm9zZS01MCB0ZXh0LXJvc2UtNzAwIGJvcmRlciBib3JkZXItcm9zZS0xMDAnXG4gICAgICAgICAgICA6ICdiZy1zbGF0ZS01MCB0ZXh0LXNsYXRlLTYwMCBib3JkZXIgYm9yZGVyLXNsYXRlLTEwMCc7XG4gICAgICBpZiAoIW1lc3NhZ2UpIHtcbiAgICAgICAgZmVlZGJhY2sudGV4dENvbnRlbnQgPSAnJztcbiAgICAgICAgZmVlZGJhY2suY2xhc3NOYW1lID0gJ3RleHQtc20gdGV4dC1zbGF0ZS01MDAnO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBpY29uID0gdG9uZSA9PT0gJ3N1Y2Nlc3MnID8gJ1x1MjcwNScgOiB0b25lID09PSAnZXJyb3InID8gJ1x1Mjc0QycgOiAnXHUyMTM5XHVGRTBGJztcbiAgICAgIGZlZWRiYWNrLmlubmVySFRNTCA9IGA8c3BhbiBjbGFzcz1cIiR7YmFzZUNsYXNzfSAke3RvbmVDbGFzc31cIj4ke2ljb259PHNwYW4+JHttZXNzYWdlfTwvc3Bhbj48L3NwYW4+YDtcbiAgICAgIGZlZWRiYWNrLmNsYXNzTmFtZSA9ICd0ZXh0LXNtJztcbiAgICB9O1xuXG4gICAgY29uc3Qgc2V0QnVzeSA9IChhY3Rpb24gPSBudWxsKSA9PiB7XG4gICAgICBidXN5QWN0aW9uID0gYWN0aW9uO1xuICAgICAgY29uc3QgZGlzYWJsZSA9IEJvb2xlYW4oYWN0aW9uKTtcbiAgICAgIGNvbnN0IHNwaW5uZXIgPVxuICAgICAgICAnPHN2ZyBjbGFzcz1cImgtNCB3LTQgYW5pbWF0ZS1zcGluIHRleHQtd2hpdGVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48Y2lyY2xlIGNsYXNzPVwib3BhY2l0eS0yNVwiIGN4PVwiMTJcIiBjeT1cIjEyXCIgcj1cIjEwXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiNFwiPjwvY2lyY2xlPjxwYXRoIGNsYXNzPVwib3BhY2l0eS03NVwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIiBkPVwiTTQgMTJhOCA4IDAgMDE4LTh2NGE0IDQgMCAwMC00IDRINHpcIj48L3BhdGg+PC9zdmc+JztcbiAgICAgIGlmIChzYXZlQnV0dG9uKSB7XG4gICAgICAgIHNhdmVCdXR0b24uZGlzYWJsZWQgPSBkaXNhYmxlO1xuICAgICAgICBzYXZlQnV0dG9uLmlubmVySFRNTCA9XG4gICAgICAgICAgYWN0aW9uID09PSAnc2F2ZSdcbiAgICAgICAgICAgID8gYDxzcGFuIGNsYXNzPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+JHtzcGlubmVyfTxzcGFuPkVucmVnaXN0cmVtZW50XHUyMDI2PC9zcGFuPjwvc3Bhbj5gXG4gICAgICAgICAgICA6ICdFbnJlZ2lzdHJlcic7XG4gICAgICB9XG4gICAgICBpZiAodGVzdEJ1dHRvbikge1xuICAgICAgICB0ZXN0QnV0dG9uLmRpc2FibGVkID0gZGlzYWJsZTtcbiAgICAgICAgdGVzdEJ1dHRvbi5pbm5lckhUTUwgPVxuICAgICAgICAgIGFjdGlvbiA9PT0gJ3Rlc3QnXG4gICAgICAgICAgICA/IGA8c3BhbiBjbGFzcz1cImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPjxzcGFuIGNsYXNzPVwiaC00IHctNCBhbmltYXRlLXNwaW4gcm91bmRlZC1mdWxsIGJvcmRlci0yIGJvcmRlci1zbGF0ZS0yMDAgYm9yZGVyLXQtc2xhdGUtNjAwXCI+PC9zcGFuPjxzcGFuPlRlc3QgZW4gY291cnNcdTIwMjY8L3NwYW4+PC9zcGFuPmBcbiAgICAgICAgICAgIDogJ1Rlc3RlciBsYSBjb25uZXhpb24nO1xuICAgICAgfVxuICAgICAgaWYgKGRlcGxveUJ1dHRvbikge1xuICAgICAgICBkZXBsb3lCdXR0b24uZGlzYWJsZWQgPSBkaXNhYmxlICYmIGFjdGlvbiAhPT0gbnVsbDtcbiAgICAgICAgZGVwbG95QnV0dG9uLmlubmVySFRNTCA9XG4gICAgICAgICAgYWN0aW9uID09PSAnZGVwbG95J1xuICAgICAgICAgICAgPyBgPHNwYW4gY2xhc3M9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj48c3BhbiBjbGFzcz1cImgtNCB3LTQgYW5pbWF0ZS1zcGluIHJvdW5kZWQtZnVsbCBib3JkZXItMiBib3JkZXItd2hpdGUvNjAgYm9yZGVyLXQtd2hpdGVcIj48L3NwYW4+PHNwYW4+RFx1MDBFOXBsb2llbWVudFx1MjAyNjwvc3Bhbj48L3NwYW4+YFxuICAgICAgICAgICAgOiAnRFx1MDBFOXBsb3llciBtYWludGVuYW50JztcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgcG9wdWxhdGVGb3JtID0gKGNvbmZpZykgPT4ge1xuICAgICAgcHJvdG9jb2xTZWxlY3QgJiYgKHByb3RvY29sU2VsZWN0LnZhbHVlID0gY29uZmlnLnByb3RvY29sIHx8ICdzZnRwJyk7XG4gICAgICBob3N0SW5wdXQgJiYgKGhvc3RJbnB1dC52YWx1ZSA9IGNvbmZpZy5ob3N0IHx8ICcnKTtcbiAgICAgIHBvcnRJbnB1dCAmJiAocG9ydElucHV0LnZhbHVlID0gY29uZmlnLnBvcnQgfHwgJycpO1xuICAgICAgdXNlcklucHV0ICYmICh1c2VySW5wdXQudmFsdWUgPSBjb25maWcudXNlciB8fCAnJyk7XG4gICAgICByZW1vdGVQYXRoSW5wdXQgJiYgKHJlbW90ZVBhdGhJbnB1dC52YWx1ZSA9IGNvbmZpZy5yZW1vdGVQYXRoIHx8ICcvd3d3Jyk7XG4gICAgICBoYXNQYXNzd29yZCA9IEJvb2xlYW4oY29uZmlnLmhhc1Bhc3N3b3JkKTtcbiAgICAgIGlmIChwYXNzd29yZElucHV0KSB7XG4gICAgICAgIHBhc3N3b3JkSW5wdXQudmFsdWUgPSAnJztcbiAgICAgICAgcGFzc3dvcmRJbnB1dC5wbGFjZWhvbGRlciA9IGhhc1Bhc3N3b3JkID8gJ05vbiBhZmZpY2hcdTAwRTknIDogJ01vdCBkZSBwYXNzZSc7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHJlbmRlckhpc3RvcnkgPSAoZW50cmllcyA9IFtdKSA9PiB7XG4gICAgICBpZiAoIWhpc3RvcnlMaXN0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGhpc3RvcnlMaXN0LmlubmVySFRNTCA9ICcnO1xuICAgICAgaWYgKCFlbnRyaWVzLmxlbmd0aCkge1xuICAgICAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICAgIGxpLmNsYXNzTmFtZSA9ICd0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICAgIGxpLnRleHRDb250ZW50ID0gJ0F1Y3VuIGRcdTAwRTlwbG9pZW1lbnQgcG91ciBsZSBtb21lbnQuJztcbiAgICAgICAgaGlzdG9yeUxpc3QuYXBwZW5kQ2hpbGQobGkpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBlbnRyaWVzLmZvckVhY2goKGVudHJ5KSA9PiB7XG4gICAgICAgIGNvbnN0IGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgbGkuY2xhc3NOYW1lID1cbiAgICAgICAgICAnZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIGdhcC0yIHJvdW5kZWQteGwgYm9yZGVyIGJvcmRlci1zbGF0ZS0yMDAgcHgtMyBweS0yJztcbiAgICAgICAgY29uc3Qgc3RhdHVzQmFkZ2UgPVxuICAgICAgICAgIGVudHJ5LnN0YXR1cyA9PT0gJ3N1Y2Nlc3MnXG4gICAgICAgICAgICA/ICc8c3BhbiBjbGFzcz1cInJvdW5kZWQtZnVsbCBiZy1lbWVyYWxkLTUwIHB4LTIgcHktMC41IHRleHQtWzExcHhdIGZvbnQtc2VtaWJvbGQgdGV4dC1lbWVyYWxkLTcwMFwiPlN1Y2NcdTAwRThzPC9zcGFuPidcbiAgICAgICAgICAgIDogJzxzcGFuIGNsYXNzPVwicm91bmRlZC1mdWxsIGJnLXJvc2UtNTAgcHgtMiBweS0wLjUgdGV4dC1bMTFweF0gZm9udC1zZW1pYm9sZCB0ZXh0LXJvc2UtNzAwXCI+XHUwMEM5Y2hlYzwvc3Bhbj4nO1xuICAgICAgICBjb25zdCBkYXRlID0gZW50cnkuZmluaXNoZWRBdCB8fCBlbnRyeS5zdGFydGVkQXQgfHwgJyc7XG4gICAgICAgIGNvbnN0IGR1cmF0aW9uID1cbiAgICAgICAgICBlbnRyeS5kdXJhdGlvbk1zICYmIE51bWJlcihlbnRyeS5kdXJhdGlvbk1zKSA+PSAwXG4gICAgICAgICAgICA/IGAke01hdGgucm91bmQoTnVtYmVyKGVudHJ5LmR1cmF0aW9uTXMpIC8gMTAwMCl9c2BcbiAgICAgICAgICAgIDogJyc7XG4gICAgICAgIGxpLmlubmVySFRNTCA9IGBcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwic3BhY2UteS0xXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj4ke3N0YXR1c0JhZGdlfTxzcGFuIGNsYXNzPVwidGV4dC14cyB0ZXh0LXNsYXRlLTUwMFwiPiR7ZGF0ZX08L3NwYW4+PC9kaXY+XG4gICAgICAgICAgICA8cCBjbGFzcz1cInRleHQtc20gdGV4dC1zbGF0ZS04MDBcIj4ke2VudHJ5Lm1lc3NhZ2UgfHwgJyd9PC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNTAwXCI+JHtkdXJhdGlvbn08L2Rpdj5cbiAgICAgICAgYDtcbiAgICAgICAgbGkuZGF0YXNldC5kZXBsb3lJZCA9IGVudHJ5LmlkIHx8ICcnO1xuICAgICAgICBsaS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICBpZiAoZW50cnkubG9ncyAmJiBsb2dCb3gpIHtcbiAgICAgICAgICAgIGxvZ0JveC50ZXh0Q29udGVudCA9IGVudHJ5LmxvZ3Muam9pbignXFxuJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaGlzdG9yeUxpc3QuYXBwZW5kQ2hpbGQobGkpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IHJlbmRlckxvZ3MgPSAobGluZXMgPSBbXSkgPT4ge1xuICAgICAgaWYgKCFsb2dCb3gpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbG9nQm94LnRleHRDb250ZW50ID0gbGluZXMubGVuZ3RoID8gbGluZXMuam9pbignXFxuJykgOiAnQXVjdW4gbG9nIHBvdXIgbGUgbW9tZW50Lic7XG4gICAgfTtcblxuICAgIGNvbnN0IGZldGNoSGlzdG9yeSA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghZGVwbG95TG9nQXBpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goZGVwbG95TG9nQXBpLCB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwNCkge1xuICAgICAgICAgICAgcmVuZGVySGlzdG9yeShbXSk7XG4gICAgICAgICAgICByZW5kZXJMb2dzKFsnQVBJIGRcdTAwRTlwbG9pZW1lbnQgaW5kaXNwb25pYmxlIChyZWRcdTAwRTltYXJyZSBsZSBzZXJ2ZXVyKS4nXSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxcdTIwMTloaXN0b3JpcXVlLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIGNvbnN0IGVudHJpZXMgPSBBcnJheS5pc0FycmF5KHBheWxvYWQuZW50cmllcykgPyBwYXlsb2FkLmVudHJpZXMgOiBbXTtcbiAgICAgICAgcmVuZGVySGlzdG9yeShlbnRyaWVzKTtcbiAgICAgICAgaWYgKGVudHJpZXNbMF0/LmxvZ3MpIHtcbiAgICAgICAgICByZW5kZXJMb2dzKGVudHJpZXNbMF0ubG9ncyk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZGVwbG95XSBoaXN0b3J5IGZhaWxlZCcsIGVycik7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGZldGNoQ29uZmlnID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFkZXBsb3lBcGlCYXNlKSB7XG4gICAgICAgIHNldEZlZWRiYWNrKCdBdWN1biBzaXRlIGFjdGlmIHNcdTAwRTlsZWN0aW9ublx1MDBFOS4nLCAnZXJyb3InKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2V0QnVzeSgnbG9hZCcpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChkZXBsb3lBcGlCYXNlLCB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgcG9wdWxhdGVGb3JtKHBheWxvYWQgfHwge30pO1xuICAgICAgICAgIHNldEZlZWRiYWNrKCdDb25maWd1cmF0aW9uIGNoYXJnXHUwMEU5ZS4nLCAnbXV0ZWQnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwb3B1bGF0ZUZvcm0ocGF5bG9hZCB8fCB7fSk7XG4gICAgICAgICAgc2V0RmVlZGJhY2socGF5bG9hZC5tZXNzYWdlIHx8ICdDb25maWd1cmF0aW9uIHBhciBkXHUwMEU5ZmF1dCBjaGFyZ1x1MDBFOWUuJywgJ211dGVkJyk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZGVwbG95XSBsb2FkIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNldEZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkdSBjaGFyZ2VtZW50LicsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0QnVzeShudWxsKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgYnVpbGRQYXlsb2FkID0gKCkgPT4ge1xuICAgICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgcHJvdG9jb2w6IHByb3RvY29sU2VsZWN0Py52YWx1ZSB8fCAnc2Z0cCcsXG4gICAgICAgIGhvc3Q6IGhvc3RJbnB1dD8udmFsdWUudHJpbSgpIHx8ICcnLFxuICAgICAgICBwb3J0OiBOdW1iZXIocG9ydElucHV0Py52YWx1ZSkgfHwgdW5kZWZpbmVkLFxuICAgICAgICB1c2VyOiB1c2VySW5wdXQ/LnZhbHVlLnRyaW0oKSB8fCAnJyxcbiAgICAgICAgcmVtb3RlUGF0aDogc2FuaXRpemVSZW1vdGVQYXRoKHJlbW90ZVBhdGhJbnB1dD8udmFsdWUgfHwgJy93d3cnKSxcbiAgICAgIH07XG4gICAgICBjb25zdCBwd2QgPSBwYXNzd29yZElucHV0Py52YWx1ZSB8fCAnJztcbiAgICAgIGlmIChwd2QudHJpbSgpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcGF5bG9hZC5wYXNzd29yZCA9IHB3ZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH07XG5cbiAgICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmICghZGVwbG95QXBpQmFzZSkge1xuICAgICAgICBzZXRGZWVkYmFjaygnQXVjdW4gc2l0ZSBhY3RpZiBzXHUwMEU5bGVjdGlvbm5cdTAwRTkuJywgJ2Vycm9yJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHBheWxvYWQgPSBidWlsZFBheWxvYWQoKTtcbiAgICAgIHNldEJ1c3koJ3NhdmUnKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goZGVwbG95QXBpQmFzZSwge1xuICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgY29uc3QgZXJyb3JQYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvclBheWxvYWQubWVzc2FnZSB8fCAnU2F1dmVnYXJkZSBpbXBvc3NpYmxlLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNhdmVkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBwb3B1bGF0ZUZvcm0oc2F2ZWQgfHwge30pO1xuICAgICAgICBzZXRGZWVkYmFjaygnQ29uZmlndXJhdGlvbiBlbnJlZ2lzdHJcdTAwRTllLicsICdzdWNjZXNzJyk7XG4gICAgICAgIHNob3dUb2FzdCgnQ29uZmlndXJhdGlvbiBkXHUwMEU5cGxvaWVtZW50IHNhdXZlZ2FyZFx1MDBFOWUnKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZGVwbG95XSBzYXZlIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNldEZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsYSBzYXV2ZWdhcmRlLicsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0QnVzeShudWxsKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRlc3RCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFkZXBsb3lBcGlCYXNlKSB7XG4gICAgICAgIHNldEZlZWRiYWNrKCdBdWN1biBzaXRlIGFjdGlmIHNcdTAwRTlsZWN0aW9ublx1MDBFOS4nLCAnZXJyb3InKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgcGF5bG9hZCA9IGJ1aWxkUGF5bG9hZCgpO1xuICAgICAgaWYgKCFwYXlsb2FkLmhvc3QgfHwgIXBheWxvYWQudXNlciB8fCAhcGF5bG9hZC5yZW1vdGVQYXRoKSB7XG4gICAgICAgIHNldEZlZWRiYWNrKCdSZW1wbGlzc2V6IGxlcyBjaGFtcHMgcmVxdWlzIGF2YW50IGRlIHRlc3Rlci4nLCAnZXJyb3InKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2V0QnVzeSgndGVzdCcpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtkZXBsb3lBcGlCYXNlfS90ZXN0YCwge1xuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rIHx8IHJlc3VsdC5zdWNjZXNzID09PSBmYWxzZSkge1xuICAgICAgICAgIHNldEZlZWRiYWNrKHJlc3VsdC5tZXNzYWdlIHx8ICdUZXN0IGRlIGNvbm5leGlvbiBcdTAwRTljaG91XHUwMEU5LicsICdlcnJvcicpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzZXRGZWVkYmFjayhyZXN1bHQubWVzc2FnZSB8fCAnQ29ubmV4aW9uIE9LLicsICdzdWNjZXNzJyk7XG4gICAgICAgIHNob3dUb2FzdCgnVGVzdCBkZSBjb25uZXhpb24gclx1MDBFOXVzc2knKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZGVwbG95XSB0ZXN0IGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNldEZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdUZXN0IGRlIGNvbm5leGlvbiBcdTAwRTljaG91XHUwMEU5LicsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0QnVzeShudWxsKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGRlcGxveUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWRlcGxveVJ1bkFwaSkge1xuICAgICAgICBzZXRGZWVkYmFjaygnQXVjdW4gc2l0ZSBhY3RpZiBzXHUwMEU5bGVjdGlvbm5cdTAwRTkuJywgJ2Vycm9yJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNldEJ1c3koJ2RlcGxveScpO1xuICAgICAgcmVuZGVyTG9ncyhbJ0RcdTAwRTlwbG9pZW1lbnQgZW4gY291cnNcdTIwMjYnXSk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGRlcGxveVJ1bkFwaSwge1xuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJ1aWxkUGF5bG9hZCgpKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwNCkge1xuICAgICAgICAgICAgc2V0RmVlZGJhY2soJ0FQSSBkXHUwMEU5cGxvaWVtZW50IGluZGlzcG9uaWJsZSAocmVkXHUwMEU5bWFycmUgbGUgc2VydmV1cikuJywgJ2Vycm9yJyk7XG4gICAgICAgICAgICByZW5kZXJMb2dzKFsnQVBJIGRcdTAwRTlwbG9pZW1lbnQgaW5kaXNwb25pYmxlIChyZWRcdTAwRTltYXJyZSBsZSBzZXJ2ZXVyKS4nXSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlbmRlckxvZ3MocmVzdWx0LmxvZ3MgfHwgW10pO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQubWVzc2FnZSB8fCAnRFx1MDBFOXBsb2llbWVudCBcdTAwRTljaG91XHUwMEU5LicpO1xuICAgICAgICB9XG4gICAgICAgIHJlbmRlckxvZ3MocmVzdWx0LmxvZ3MgfHwgW10pO1xuICAgICAgICBhd2FpdCBmZXRjaEhpc3RvcnkoKTtcbiAgICAgICAgc2hvd1RvYXN0KCdEXHUwMEU5cGxvaWVtZW50IHRlcm1pblx1MDBFOScpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkZXBsb3ldIHJ1biBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzZXRGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRFx1MDBFOXBsb2llbWVudCBcdTAwRTljaG91XHUwMEU5LicsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0QnVzeShudWxsKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHNob3dQYXNzd29yZFRvZ2dsZT8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICAgICAgaWYgKCFwYXNzd29yZElucHV0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHBhc3N3b3JkSW5wdXQudHlwZSA9IHNob3dQYXNzd29yZFRvZ2dsZS5jaGVja2VkID8gJ3RleHQnIDogJ3Bhc3N3b3JkJztcbiAgICB9KTtcblxuICAgIC8vIERvd25sb2FkIGJ1aWxkIGFzIFpJUFxuICAgIGNvbnN0IGRvd25sb2FkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZG93bmxvYWQtYnVpbGRdJyk7XG4gICAgY29uc3QgZG93bmxvYWRGZWVkYmFjayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRvd25sb2FkLWZlZWRiYWNrXScpO1xuICAgIGNvbnN0IGRvd25sb2FkQXBpID0gc2FmZVNpdGVTbHVnXG4gICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Zyl9L2Rvd25sb2FkYFxuICAgICAgOiBudWxsO1xuXG4gICAgY29uc3Qgc2V0RG93bmxvYWRGZWVkYmFjayA9IChtZXNzYWdlLCB0b25lID0gJ211dGVkJykgPT4ge1xuICAgICAgaWYgKCFkb3dubG9hZEZlZWRiYWNrKSByZXR1cm47XG4gICAgICBjb25zdCBjb2xvciA9XG4gICAgICAgIHRvbmUgPT09ICdzdWNjZXNzJ1xuICAgICAgICAgID8gJ3RleHQtZW1lcmFsZC02MDAnXG4gICAgICAgICAgOiB0b25lID09PSAnZXJyb3InXG4gICAgICAgICAgICA/ICd0ZXh0LXJvc2UtNjAwJ1xuICAgICAgICAgICAgOiAndGV4dC1zbGF0ZS01MDAnO1xuICAgICAgZG93bmxvYWRGZWVkYmFjay50ZXh0Q29udGVudCA9IG1lc3NhZ2UgfHwgJyc7XG4gICAgICBkb3dubG9hZEZlZWRiYWNrLmNsYXNzTmFtZSA9IGB0ZXh0LXNtICR7Y29sb3J9YDtcbiAgICB9O1xuXG4gICAgZG93bmxvYWRCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFkb3dubG9hZEFwaSkge1xuICAgICAgICBzZXREb3dubG9hZEZlZWRiYWNrKCdBdWN1biBzaXRlIGFjdGlmIHNcdTAwRTlsZWN0aW9ublx1MDBFOS4nLCAnZXJyb3InKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZG93bmxvYWRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgY29uc3Qgb3JpZ2luYWxDb250ZW50ID0gZG93bmxvYWRCdXR0b24uaW5uZXJIVE1MO1xuICAgICAgZG93bmxvYWRCdXR0b24uaW5uZXJIVE1MID0gYFxuICAgICAgICA8c3ZnIGNsYXNzPVwidy00IGgtNCBhbmltYXRlLXNwaW5cIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICA8Y2lyY2xlIGNsYXNzPVwib3BhY2l0eS0yNVwiIGN4PVwiMTJcIiBjeT1cIjEyXCIgcj1cIjEwXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiNFwiPjwvY2lyY2xlPlxuICAgICAgICAgIDxwYXRoIGNsYXNzPVwib3BhY2l0eS03NVwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIiBkPVwiTTQgMTJhOCA4IDAgMDE4LTh2NGE0IDQgMCAwMC00IDRINHpcIj48L3BhdGg+XG4gICAgICAgIDwvc3ZnPlxuICAgICAgICA8c3Bhbj5CdWlsZCBlbiBjb3Vycy4uLjwvc3Bhbj5cbiAgICAgIGA7XG4gICAgICBzZXREb3dubG9hZEZlZWRiYWNrKCdHXHUwMEU5blx1MDBFOXJhdGlvbiBkdSBidWlsZCBlbiBjb3Vycy4uLicsICdtdXRlZCcpO1xuXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGRvd25sb2FkQXBpKTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnN0IGVycm9yRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JEYXRhLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgZ1x1MDBFOW5cdTAwRTlyZXIgbGUgWklQLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRcdTAwRTlsXHUwMEU5Y2hhcmdlciBsZSBmaWNoaWVyXG4gICAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCByZXNwb25zZS5ibG9iKCk7XG4gICAgICAgIGNvbnN0IHVybCA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICAgICAgICBjb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgICBhLmhyZWYgPSB1cmw7XG4gICAgICAgIGEuZG93bmxvYWQgPSBgJHtzYWZlU2l0ZVNsdWd9LWJ1aWxkLnppcGA7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSk7XG4gICAgICAgIGEuY2xpY2soKTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChhKTtcbiAgICAgICAgd2luZG93LlVSTC5yZXZva2VPYmplY3RVUkwodXJsKTtcbiAgICAgICAgc2V0RG93bmxvYWRGZWVkYmFjaygnVFx1MDBFOWxcdTAwRTljaGFyZ2VtZW50IHRlcm1pblx1MDBFOSAhJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgc2hvd1RvYXN0KCdCdWlsZCB0XHUwMEU5bFx1MDBFOWNoYXJnXHUwMEU5IGF2ZWMgc3VjY1x1MDBFOHMnKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZG93bmxvYWRdIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNldERvd25sb2FkRmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGR1IHRcdTAwRTlsXHUwMEU5Y2hhcmdlbWVudC4nLCAnZXJyb3InKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGRvd25sb2FkQnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIGRvd25sb2FkQnV0dG9uLmlubmVySFRNTCA9IG9yaWdpbmFsQ29udGVudDtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGZldGNoQ29uZmlnKCk7XG4gICAgZmV0Y2hIaXN0b3J5KCk7XG4gIH1cblxuICBmdW5jdGlvbiBpbml0U2V0dGluZ3NXb3Jrc3BhY2UoKSB7XG4gICAgY29uc3QgdGFiQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXNldHRpbmdzLXRhYl0nKTtcbiAgICBjb25zdCB0YWJQYW5lbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1zZXR0aW5ncy1wYW5lbF0nKTtcbiAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRtaW4tcGFzc3dvcmQtZm9ybV0nKTtcbiAgICBjb25zdCBzaXRlRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtY29uZmlnLWZvcm1dJyk7XG4gICAgY29uc3Qgc2l0ZUZlZWRiYWNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS1jb25maWctZmVlZGJhY2tdJyk7XG4gICAgY29uc3QgdGhlbWVGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtZm9ybV0nKTtcbiAgICBjb25zdCBzd2l0Y2hUYWIgPSAobmFtZSkgPT4ge1xuICAgICAgdGFiQnV0dG9ucy5mb3JFYWNoKChidG4pID0+IHtcbiAgICAgICAgY29uc3QgaXNBY3RpdmUgPSBidG4uZGF0YXNldC5zZXR0aW5nc1RhYiA9PT0gbmFtZTtcbiAgICAgICAgYnRuLnNldEF0dHJpYnV0ZSgnYXJpYS1zZWxlY3RlZCcsIGlzQWN0aXZlID8gJ3RydWUnIDogJ2ZhbHNlJyk7XG4gICAgICAgIGJ0bi5jbGFzc0xpc3QudG9nZ2xlKCdiZy1bIzlDNkJGRl0nLCBpc0FjdGl2ZSk7XG4gICAgICAgIGJ0bi5jbGFzc0xpc3QudG9nZ2xlKCd0ZXh0LXdoaXRlJywgaXNBY3RpdmUpO1xuICAgICAgfSk7XG4gICAgICB0YWJQYW5lbHMuZm9yRWFjaCgocGFuZWwpID0+IHtcbiAgICAgICAgcGFuZWwuY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZGVuJywgcGFuZWwuZGF0YXNldC5zZXR0aW5nc1BhbmVsICE9PSBuYW1lKTtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgdGFiQnV0dG9ucy5mb3JFYWNoKChidG4pID0+IHtcbiAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHN3aXRjaFRhYihidG4uZGF0YXNldC5zZXR0aW5nc1RhYiB8fCAnYWNjb3VudCcpKTtcbiAgICB9KTtcbiAgICBzd2l0Y2hUYWIoJ2FjY291bnQnKTtcblxuICAgIGlmICghZm9ybSkge1xuICAgICAgLy8gc3RpbGwgYWxsb3cgc2l0ZSBmb3JtIGV2ZW4gaWYgcGFzc3dvcmQgZm9ybSBhYnNlbnRcbiAgICB9XG4gICAgaWYgKGZvcm0pIHtcbiAgICAgIGNvbnN0IGZlZWRiYWNrID0gZm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZG1pbi1wYXNzd29yZC1mZWVkYmFja10nKTtcbiAgICAgIGNvbnN0IHN1Ym1pdCA9IGZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYWRtaW4tcGFzc3dvcmQtc3VibWl0XScpO1xuICAgICAgY29uc3Qgc2V0RmVlZGJhY2sgPSAobWVzc2FnZSwgdG9uZSA9ICdtdXRlZCcpID0+IHtcbiAgICAgICAgaWYgKCFmZWVkYmFjaykgcmV0dXJuO1xuICAgICAgICBjb25zdCBjb2xvciA9XG4gICAgICAgICAgdG9uZSA9PT0gJ3N1Y2Nlc3MnXG4gICAgICAgICAgICA/ICd0ZXh0LWVtZXJhbGQtNjAwJ1xuICAgICAgICAgICAgOiB0b25lID09PSAnZXJyb3InXG4gICAgICAgICAgICAgID8gJ3RleHQtcm9zZS02MDAnXG4gICAgICAgICAgICAgIDogJ3RleHQtc2xhdGUtNTAwJztcbiAgICAgICAgZmVlZGJhY2sudGV4dENvbnRlbnQgPSBtZXNzYWdlIHx8ICcnO1xuICAgICAgICBmZWVkYmFjay5jbGFzc05hbWUgPSBgdGV4dC1zbSAke2NvbG9yfWA7XG4gICAgICB9O1xuICAgICAgZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoZm9ybSk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRQYXNzd29yZCA9IGZvcm1EYXRhLmdldCgnY3VycmVudFBhc3N3b3JkJykgfHwgJyc7XG4gICAgICAgIGNvbnN0IG5ld1Bhc3N3b3JkID0gZm9ybURhdGEuZ2V0KCduZXdQYXNzd29yZCcpIHx8ICcnO1xuICAgICAgICBjb25zdCBjb25maXJtUGFzc3dvcmQgPSBmb3JtRGF0YS5nZXQoJ2NvbmZpcm1QYXNzd29yZCcpIHx8ICcnO1xuICAgICAgICBpZiAoIWN1cnJlbnRQYXNzd29yZCB8fCAhbmV3UGFzc3dvcmQgfHwgIWNvbmZpcm1QYXNzd29yZCkge1xuICAgICAgICAgIHNldEZlZWRiYWNrKCdDb21wbFx1MDBFOHRlIHRvdXMgbGVzIGNoYW1wcy4nLCAnZXJyb3InKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc3VibWl0ICYmIChzdWJtaXQuZGlzYWJsZWQgPSB0cnVlKTtcbiAgICAgICAgc2V0RmVlZGJhY2soJycpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvYWRtaW4vcGFzc3dvcmQnLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBjdXJyZW50UGFzc3dvcmQsIG5ld1Bhc3N3b3JkLCBjb25maXJtUGFzc3dvcmQgfSksXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rIHx8IHBheWxvYWQuc3VjY2VzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihwYXlsb2FkLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgbWV0dHJlIFx1MDBFMCBqb3VyIGxlIG1vdCBkZSBwYXNzZS4nKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0RmVlZGJhY2socGF5bG9hZC5tZXNzYWdlIHx8ICdNb3QgZGUgcGFzc2UgbWlzIFx1MDBFMCBqb3VyLicsICdzdWNjZXNzJyk7XG4gICAgICAgICAgZm9ybS5yZXNldCgpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIGNoYW5nZSBwYXNzd29yZCBmYWlsZWQnLCBlcnIpO1xuICAgICAgICAgIHNldEZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsYSBtaXNlIFx1MDBFMCBqb3VyLicsICdlcnJvcicpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIHN1Ym1pdCAmJiAoc3VibWl0LmRpc2FibGVkID0gZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoc2l0ZUZvcm0pIHtcbiAgICAgIGNvbnN0IG5hbWVJbnB1dCA9IHNpdGVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtbmFtZV0nKTtcbiAgICAgIGNvbnN0IGxhbmdTZWxlY3QgPSBzaXRlRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLWxhbmd1YWdlXScpO1xuICAgICAgY29uc3QgdGFnbGluZUlucHV0ID0gc2l0ZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS10YWdsaW5lXScpO1xuICAgICAgY29uc3Qgc2F2ZUJ1dHRvbiA9IHNpdGVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtc2F2ZV0nKTtcbiAgICAgIGNvbnN0IHNldFNpdGVGZWVkYmFjayA9IChtZXNzYWdlLCB0b25lID0gJ211dGVkJykgPT4ge1xuICAgICAgICBpZiAoIXNpdGVGZWVkYmFjaykgcmV0dXJuO1xuICAgICAgICBjb25zdCBjb2xvciA9XG4gICAgICAgICAgdG9uZSA9PT0gJ3N1Y2Nlc3MnXG4gICAgICAgICAgICA/ICd0ZXh0LWVtZXJhbGQtNjAwJ1xuICAgICAgICAgICAgOiB0b25lID09PSAnZXJyb3InXG4gICAgICAgICAgICAgID8gJ3RleHQtcm9zZS02MDAnXG4gICAgICAgICAgICAgIDogJ3RleHQtc2xhdGUtNTAwJztcbiAgICAgICAgc2l0ZUZlZWRiYWNrLnRleHRDb250ZW50ID0gbWVzc2FnZSB8fCAnJztcbiAgICAgICAgc2l0ZUZlZWRiYWNrLmNsYXNzTmFtZSA9IGB0ZXh0LXNtICR7Y29sb3J9YDtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHNhZmVTaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKFxuICAgICAgICB3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnLFxuICAgICAgKTtcbiAgICAgIGNvbnN0IHNpdGVDb25maWdBcGkgPSBzYWZlU2l0ZVNsdWdcbiAgICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9jb25maWcvc2l0ZWBcbiAgICAgICAgOiBudWxsO1xuXG4gICAgICBjb25zdCBsb2FkU2l0ZUNvbmZpZyA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKCFzaXRlQ29uZmlnQXBpKSByZXR1cm47XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChzaXRlQ29uZmlnQXBpLCB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSByZXR1cm47XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICBpZiAobmFtZUlucHV0KSBuYW1lSW5wdXQudmFsdWUgPSBwYXlsb2FkLm5hbWUgfHwgJyc7XG4gICAgICAgICAgaWYgKGxhbmdTZWxlY3QpIGxhbmdTZWxlY3QudmFsdWUgPSBwYXlsb2FkLmxhbmd1YWdlIHx8ICdmcic7XG4gICAgICAgICAgaWYgKHRhZ2xpbmVJbnB1dCkgdGFnbGluZUlucHV0LnZhbHVlID0gcGF5bG9hZC50YWdsaW5lIHx8ICcnO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIGxvYWQgc2l0ZSBjb25maWcgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgc2l0ZUZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmICghc2l0ZUNvbmZpZ0FwaSkge1xuICAgICAgICAgIHNldFNpdGVGZWVkYmFjaygnQXVjdW4gc2l0ZSBhY3RpZi4nLCAnZXJyb3InKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFuYW1lSW5wdXQ/LnZhbHVlLnRyaW0oKSkge1xuICAgICAgICAgIHNldFNpdGVGZWVkYmFjaygnTm9tIHJlcXVpcy4nLCAnZXJyb3InKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc2F2ZUJ1dHRvbiAmJiAoc2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWUpO1xuICAgICAgICBzZXRTaXRlRmVlZGJhY2soJycpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgICAgICBuYW1lOiBuYW1lSW5wdXQ/LnZhbHVlIHx8ICcnLFxuICAgICAgICAgICAgbGFuZ3VhZ2U6IGxhbmdTZWxlY3Q/LnZhbHVlIHx8ICdmcicsXG4gICAgICAgICAgICB0YWdsaW5lOiB0YWdsaW5lSW5wdXQ/LnZhbHVlIHx8ICcnLFxuICAgICAgICAgIH07XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChzaXRlQ29uZmlnQXBpLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vayB8fCByZXN1bHQuc3VjY2VzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQubWVzc2FnZSB8fCAnU2F1dmVnYXJkZSBpbXBvc3NpYmxlLicpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXRTaXRlRmVlZGJhY2socmVzdWx0Lm1lc3NhZ2UgfHwgJ1BhcmFtXHUwMEU4dHJlcyBlbnJlZ2lzdHJcdTAwRTlzLicsICdzdWNjZXNzJyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gc2F2ZSBzaXRlIGNvbmZpZyBmYWlsZWQnLCBlcnIpO1xuICAgICAgICAgIHNldFNpdGVGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZGUgbGEgc2F1dmVnYXJkZS4nLCAnZXJyb3InKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBzYXZlQnV0dG9uICYmIChzYXZlQnV0dG9uLmRpc2FibGVkID0gZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgbG9hZFNpdGVDb25maWcoKTtcbiAgICB9XG5cbiAgICBpZiAodGhlbWVGb3JtKSB7XG4gICAgICBjb25zdCBzYWZlU2l0ZVNsdWcgPSBzdHJpcExlYWRpbmdTbGFzaChcbiAgICAgICAgd29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyxcbiAgICAgICk7XG4gICAgICBjb25zdCB0aGVtZUFwaSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Zyl9L2NvbmZpZy90aGVtZWBcbiAgICAgICAgOiBudWxsO1xuXG4gICAgICBjb25zdCBjb2xvclNlbGVjdHMgPSB7XG4gICAgICAgIHByaW1hcnk6IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1wcmltYXJ5XScpLFxuICAgICAgICBzZWNvbmRhcnk6IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1zZWNvbmRhcnldJyksXG4gICAgICAgIGFjY2VudDogdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLWFjY2VudF0nKSxcbiAgICAgICAgYmFja2dyb3VuZDogdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLWJhY2tncm91bmRdJyksXG4gICAgICAgIHRleHQ6IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS10ZXh0XScpLFxuICAgICAgfTtcbiAgICAgIGNvbnN0IGhlYWRpbmdTZWxlY3QgPSB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtaGVhZGluZ3NdJyk7XG4gICAgICBjb25zdCBib2R5U2VsZWN0ID0gdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLWJvZHldJyk7XG4gICAgICBjb25zdCByYWRpdXNTbWFsbCA9IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1yYWRpdXMtc21hbGxdJyk7XG4gICAgICBjb25zdCByYWRpdXNNZWRpdW0gPSB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtcmFkaXVzLW1lZGl1bV0nKTtcbiAgICAgIGNvbnN0IHJhZGl1c0xhcmdlID0gdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLXJhZGl1cy1sYXJnZV0nKTtcbiAgICAgIGNvbnN0IHByZXZpZXcgPSB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtcHJldmlld10nKTtcbiAgICAgIGNvbnN0IHRoZW1lRmVlZGJhY2sgPSB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtZmVlZGJhY2tdJyk7XG4gICAgICBjb25zdCBhcHBseUJ1dHRvbiA9IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1hcHBseV0nKTtcbiAgICAgIGNvbnN0IHRhaWx3aW5kQmFzZU1hcCA9IHtcbiAgICAgICAgc2xhdGU6JyNlMmU4ZjAnLGdyYXk6JyNkMWQ1ZGInLHppbmM6JyNkNGQ0ZDgnLG5ldXRyYWw6JyNkNGQ0ZDQnLHN0b25lOicjZDZkM2QxJyxcbiAgICAgICAgcmVkOicjZWY0NDQ0JyxvcmFuZ2U6JyNmOTczMTYnLGFtYmVyOicjZjU5ZTBiJyx5ZWxsb3c6JyNlYWIzMDgnLGxpbWU6JyM4NGNjMTYnLFxuICAgICAgICBncmVlbjonIzIyYzU1ZScsZW1lcmFsZDonIzEwYjk4MScsdGVhbDonIzE0YjhhNicsY3lhbjonIzA2YjZkNCcsc2t5OicjMGVhNWU5JyxcbiAgICAgICAgYmx1ZTonIzNiODJmNicsaW5kaWdvOicjNjM2NmYxJyx2aW9sZXQ6JyM4YjVjZjYnLHB1cnBsZTonI2E4NTVmNycsZnVjaHNpYTonI2Q5NDZlZicsXG4gICAgICAgIHBpbms6JyNlYzQ4OTknLHJvc2U6JyNmNDNmNWUnXG4gICAgICB9O1xuICAgICAgY29uc3QgdGFpbHdpbmRUb2tlblRvSGV4ID0gKHRva2VuKSA9PiB7XG4gICAgICAgIGlmICghdG9rZW4pIHJldHVybiBudWxsO1xuICAgICAgICBpZiAodG9rZW4gPT09ICd3aGl0ZScpIHJldHVybiAnI2ZmZmZmZic7XG4gICAgICAgIGlmICh0b2tlbiA9PT0gJ2JsYWNrJykgcmV0dXJuICcjMDAwMDAwJztcbiAgICAgICAgaWYgKHRva2VuID09PSAndHJhbnNwYXJlbnQnKSByZXR1cm4gJ3RyYW5zcGFyZW50JztcbiAgICAgICAgY29uc3QgW2gsc10gPSB0b2tlbi5zcGxpdCgnLScpO1xuICAgICAgICBpZiAoIWggfHwgIXMpIHJldHVybiBudWxsO1xuICAgICAgICBjb25zdCBiYXNlID0gdGFpbHdpbmRCYXNlTWFwW2hdO1xuICAgICAgICBpZiAoIWJhc2UpIHJldHVybiBudWxsO1xuICAgICAgICBjb25zdCBzaGFkZU51bSA9IE51bWJlcihzKSB8fCA1MDA7XG4gICAgICAgIGNvbnN0IGZhY3RvciA9IE1hdGgubWluKE1hdGgubWF4KChzaGFkZU51bSAtIDUwKSAvIDkwMCwgMCksIDEpO1xuICAgICAgICBjb25zdCB0b1JnYiA9IChoZXgpID0+XG4gICAgICAgICAgaGV4XG4gICAgICAgICAgICAucmVwbGFjZSgnIycsICcnKVxuICAgICAgICAgICAgLm1hdGNoKC9bQS1GYS1mMC05XXsyfS9nKVxuICAgICAgICAgICAgLm1hcCgodikgPT4gcGFyc2VJbnQodiwgMTYpKTtcbiAgICAgICAgY29uc3QgW3IsIGcsIGJdID0gdG9SZ2IoYmFzZSk7XG4gICAgICAgIGNvbnN0IG1peCA9ICh2KSA9PiBNYXRoLnJvdW5kKDI1NSAtICgyNTUgLSB2KSAqIGZhY3Rvcik7XG4gICAgICAgIHJldHVybiBgcmdiKCR7bWl4KHIpfSwgJHttaXgoZyl9LCAke21peChiKX0pYDtcbiAgICAgIH07XG4gICAgICBjb25zdCB0YWlsd2luZEh1ZXMgPSBbXG4gICAgICAgICdzbGF0ZScsJ2dyYXknLCd6aW5jJywnbmV1dHJhbCcsJ3N0b25lJywncmVkJywnb3JhbmdlJywnYW1iZXInLCd5ZWxsb3cnLCdsaW1lJywnZ3JlZW4nLCdlbWVyYWxkJywndGVhbCcsJ2N5YW4nLCdza3knLCdibHVlJywnaW5kaWdvJywndmlvbGV0JywncHVycGxlJywnZnVjaHNpYScsJ3BpbmsnLCdyb3NlJ1xuICAgICAgXTtcbiAgICAgIGNvbnN0IHRhaWx3aW5kU2hhZGVzID0gWyc1MCcsJzEwMCcsJzIwMCcsJzMwMCcsJzQwMCcsJzUwMCcsJzYwMCcsJzcwMCcsJzgwMCcsJzkwMCddO1xuICAgICAgY29uc3QgdGFpbHdpbmRUb2tlbnMgPSB0YWlsd2luZEh1ZXMuZmxhdE1hcCgoaCk9PnRhaWx3aW5kU2hhZGVzLm1hcCgocyk9PmAke2h9LSR7c31gKSk7XG5cbiAgICAgIGNvbnN0IG5ldXRyYWxUb2tlbnMgPSBbXG4gICAgICAgIHsgdmFsdWU6ICd3aGl0ZScsIGxhYmVsOiAnQmxhbmMnLCBjb2xvcjogJyNmZmZmZmYnLCBlbW9qaTogJ1x1MkIxQycgfSxcbiAgICAgICAgeyB2YWx1ZTogJ3RyYW5zcGFyZW50JywgbGFiZWw6ICdUcmFuc3BhcmVudCcsIGNvbG9yOiAndHJhbnNwYXJlbnQnLCBlbW9qaTogJ1x1MkIxQycgfSxcbiAgICAgICAgeyB2YWx1ZTogJ2JsYWNrJywgbGFiZWw6ICdOb2lyJywgY29sb3I6ICcjMDAwMDAwJywgZW1vamk6ICdcdTJCMUInIH0sXG4gICAgICBdO1xuXG4gICAgICBjb25zdCBjb2xvck9wdGlvbkRlZmluaXRpb25zID0gKCgpID0+IHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IFtdO1xuICAgICAgICBuZXV0cmFsVG9rZW5zLmZvckVhY2goKHsgdmFsdWUsIGxhYmVsLCBjb2xvciwgZW1vamkgfSkgPT4ge1xuICAgICAgICAgIG9wdGlvbnMucHVzaCh7XG4gICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgIGxhYmVsOiBgJHtlbW9qaX0gJHtsYWJlbH1gLFxuICAgICAgICAgICAgY29sb3IsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0YWlsd2luZFRva2Vucy5mb3JFYWNoKCh0b2tlbikgPT4ge1xuICAgICAgICAgIGNvbnN0IFtoLCBzXSA9IHRva2VuLnNwbGl0KCctJyk7XG4gICAgICAgICAgY29uc3QgY29sb3JWYWx1ZSA9IHRhaWx3aW5kVG9rZW5Ub0hleCh0b2tlbikgfHwgJyNmZmZmZmYnO1xuICAgICAgICAgIG9wdGlvbnMucHVzaCh7XG4gICAgICAgICAgICB2YWx1ZTogdG9rZW4sXG4gICAgICAgICAgICBsYWJlbDogYCR7aC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGguc2xpY2UoMSl9ICR7c31gLFxuICAgICAgICAgICAgY29sb3I6IGNvbG9yVmFsdWUsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gb3B0aW9ucztcbiAgICAgIH0pKCk7XG5cbiAgICAgIGNvbnN0IG5vcm1hbGl6ZVNlbGVjdENvbG9yID0gKHZhbHVlKSA9PlxuICAgICAgICB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnID8gdmFsdWUudHJpbSgpLnRvTG93ZXJDYXNlKCkgOiAnJztcblxuICAgICAgY29uc3QgZmlsbENvbG9yT3B0aW9ucyA9IChzZWxlY3RlZENvbG9ycyA9IHt9KSA9PiB7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKGNvbG9yU2VsZWN0cykuZm9yRWFjaCgoW2tleSwgc2VsXSkgPT4ge1xuICAgICAgICAgIGlmICghc2VsKSByZXR1cm47XG4gICAgICAgICAgY29uc3Qgbm9ybWFsaXplZFZhbHVlID0gbm9ybWFsaXplU2VsZWN0Q29sb3Ioc2VsZWN0ZWRDb2xvcnNba2V5XSk7XG4gICAgICAgICAgc2VsLmlubmVySFRNTCA9ICcnO1xuICAgICAgICAgIGNvbG9yT3B0aW9uRGVmaW5pdGlvbnMuZm9yRWFjaCgoeyB2YWx1ZSwgbGFiZWwsIGNvbG9yIH0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICAgICAgb3B0aW9uLnZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICBvcHRpb24udGV4dENvbnRlbnQgPSBsYWJlbDtcbiAgICAgICAgICAgIG9wdGlvbi5kYXRhc2V0LmNvbG9yID0gY29sb3I7XG4gICAgICAgICAgICBpZiAobm9ybWFsaXplZFZhbHVlICYmIG5vcm1hbGl6ZWRWYWx1ZSA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgb3B0aW9uLnNlbGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNlbC5hcHBlbmRDaGlsZChvcHRpb24pO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNlbC5kYXRhc2V0LmRlZmF1bHQgPSBzZWwuZGF0YXNldC5kZWZhdWx0IHx8IHNlbC5vcHRpb25zWzBdPy52YWx1ZSB8fCAnJztcbiAgICAgICAgICBpZiAoIW5vcm1hbGl6ZWRWYWx1ZSAmJiBzZWwuZGF0YXNldC5kZWZhdWx0KSB7XG4gICAgICAgICAgICBzZWwudmFsdWUgPSBzZWwuZGF0YXNldC5kZWZhdWx0O1xuICAgICAgICAgIH1cbiAgICAgICAgICBzdHlsZVNlbGVjdE9wdGlvbnMoc2VsKTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBzZXRUaGVtZUZlZWRiYWNrID0gKG1lc3NhZ2UsIHRvbmUgPSAnbXV0ZWQnKSA9PiB7XG4gICAgICAgIGlmICghdGhlbWVGZWVkYmFjaykgcmV0dXJuO1xuICAgICAgICBjb25zdCBjb2xvciA9XG4gICAgICAgICAgdG9uZSA9PT0gJ3N1Y2Nlc3MnXG4gICAgICAgICAgICA/ICd0ZXh0LWVtZXJhbGQtNjAwJ1xuICAgICAgICAgICAgOiB0b25lID09PSAnZXJyb3InXG4gICAgICAgICAgICAgID8gJ3RleHQtcm9zZS02MDAnXG4gICAgICAgICAgICAgIDogJ3RleHQtc2xhdGUtNTAwJztcbiAgICAgICAgdGhlbWVGZWVkYmFjay50ZXh0Q29udGVudCA9IG1lc3NhZ2UgfHwgJyc7XG4gICAgICAgIHRoZW1lRmVlZGJhY2suY2xhc3NOYW1lID0gYHRleHQtc20gJHtjb2xvcn1gO1xuICAgICAgfTtcblxuICAgICAgY29uc3Qgc3luY1ByZXZpZXcgPSAoKSA9PiB7XG4gICAgICAgIGlmICghcHJldmlldykgcmV0dXJuO1xuICAgICAgICBjb25zdCB0b2tlblRvSGV4ID0gKHRva2VuKSA9PiB7XG4gICAgICAgICAgaWYgKCF0b2tlbikgcmV0dXJuIG51bGw7XG4gICAgICAgICAgLy8gR1x1MDBFOXJlciBsZXMgY2FzIHNwXHUwMEU5Y2lhdXggd2hpdGUsIGJsYWNrLCB0cmFuc3BhcmVudFxuICAgICAgICAgIGlmICh0b2tlbiA9PT0gJ3doaXRlJykgcmV0dXJuICcjZmZmZmZmJztcbiAgICAgICAgICBpZiAodG9rZW4gPT09ICdibGFjaycpIHJldHVybiAnIzAwMDAwMCc7XG4gICAgICAgICAgaWYgKHRva2VuID09PSAndHJhbnNwYXJlbnQnKSByZXR1cm4gJ3RyYW5zcGFyZW50JztcbiAgICAgICAgICBcbiAgICAgICAgICBjb25zdCBbaCxzXT10b2tlbi5zcGxpdCgnLScpO1xuICAgICAgICAgIGlmICghaCB8fCAhcykgcmV0dXJuIG51bGw7IC8vIEZvcm1hdCBpbnZhbGlkZVxuICAgICAgICAgIFxuICAgICAgICAgIGNvbnN0IG1hcCA9IHtcbiAgICAgICAgICAgIHNsYXRlOicjZTJlOGYwJyxncmF5OicjZDFkNWRiJyx6aW5jOicjZDRkNGQ4JyxuZXV0cmFsOicjZDRkNGQ0JyxzdG9uZTonI2Q2ZDNkMScsXG4gICAgICAgICAgICByZWQ6JyNlZjQ0NDQnLG9yYW5nZTonI2Y5NzMxNicsYW1iZXI6JyNmNTllMGInLHllbGxvdzonI2VhYjMwOCcsbGltZTonIzg0Y2MxNicsXG4gICAgICAgICAgICBncmVlbjonIzIyYzU1ZScsZW1lcmFsZDonIzEwYjk4MScsdGVhbDonIzE0YjhhNicsY3lhbjonIzA2YjZkNCcsc2t5OicjMGVhNWU5JyxcbiAgICAgICAgICAgIGJsdWU6JyMzYjgyZjYnLGluZGlnbzonIzYzNjZmMScsdmlvbGV0OicjOGI1Y2Y2JyxwdXJwbGU6JyNhODU1ZjcnLGZ1Y2hzaWE6JyNkOTQ2ZWYnLFxuICAgICAgICAgICAgcGluazonI2VjNDg5OScscm9zZTonI2Y0M2Y1ZSdcbiAgICAgICAgICB9O1xuICAgICAgICAgIGNvbnN0IGJhc2U9bWFwW2hdO1xuICAgICAgICAgIGlmICghYmFzZSkgcmV0dXJuIG51bGw7XG4gICAgICAgICAgLy8gcm91Z2ggc2hhZGUgdHdlYWsgdXNpbmcgb3BhY2l0eTsgbm90IGV4YWN0IFRhaWx3aW5kIHBhbGV0dGUgYnV0IHByZXZpZXctZnJpZW5kbHlcbiAgICAgICAgICBjb25zdCBzaGFkZU51bT1OdW1iZXIocyl8fDUwMDtcbiAgICAgICAgICBjb25zdCBmYWN0b3IgPSBNYXRoLm1pbihNYXRoLm1heCgoc2hhZGVOdW0tNTApLzkwMCwwKSwxKTtcbiAgICAgICAgICBjb25zdCB0b1JnYj0oaGV4KT0+aGV4Lm1hdGNoKC9bQS1GYS1mMC05XXsyfS9nKS5tYXAoKHYpPT5wYXJzZUludCh2LDE2KSk7XG4gICAgICAgICAgY29uc3QgW3IsZyxiXT10b1JnYihiYXNlLnJlcGxhY2UoJyMnLCcnKSk7XG4gICAgICAgICAgY29uc3QgbWl4PSh2KT0+TWF0aC5yb3VuZCgyNTUgLSAoMjU1IC0gdikqZmFjdG9yKTtcbiAgICAgICAgICByZXR1cm4gYHJnYigke21peChyKX0sICR7bWl4KGcpfSwgJHttaXgoYil9KWA7XG4gICAgICAgIH07XG4gICAgICAgIHByZXZpZXcuc3R5bGUuc2V0UHJvcGVydHkoJy0tY29sb3ItcHJpbWFyeScsIHRhaWx3aW5kVG9rZW5Ub0hleChjb2xvclNlbGVjdHMucHJpbWFyeT8udmFsdWUpIHx8ICcjOUM2QkZGJyk7XG4gICAgICAgIHByZXZpZXcuc3R5bGUuc2V0UHJvcGVydHkoJy0tY29sb3Itc2Vjb25kYXJ5JywgdGFpbHdpbmRUb2tlblRvSGV4KGNvbG9yU2VsZWN0cy5zZWNvbmRhcnk/LnZhbHVlKSB8fCAnIzBFQTVFOScpO1xuICAgICAgICBwcmV2aWV3LnN0eWxlLnNldFByb3BlcnR5KCctLWNvbG9yLWFjY2VudCcsIHRhaWx3aW5kVG9rZW5Ub0hleChjb2xvclNlbGVjdHMuYWNjZW50Py52YWx1ZSkgfHwgJyNGOTczMTYnKTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1jb2xvci1iYWNrZ3JvdW5kJywgdGFpbHdpbmRUb2tlblRvSGV4KGNvbG9yU2VsZWN0cy5iYWNrZ3JvdW5kPy52YWx1ZSkgfHwgJyNGRkZGRkYnKTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1jb2xvci10ZXh0JywgdGFpbHdpbmRUb2tlblRvSGV4KGNvbG9yU2VsZWN0cy50ZXh0Py52YWx1ZSkgfHwgJyMwRjE3MkEnKTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1mb250LWhlYWRpbmdzJywgaGVhZGluZ1NlbGVjdD8udmFsdWUgfHwgJ0ludGVyLCBzYW5zLXNlcmlmJyk7XG4gICAgICAgIHByZXZpZXcuc3R5bGUuc2V0UHJvcGVydHkoJy0tZm9udC1ib2R5JywgYm9keVNlbGVjdD8udmFsdWUgfHwgJ0ludGVyLCBzYW5zLXNlcmlmJyk7XG4gICAgICAgIHByZXZpZXcuc3R5bGUuc2V0UHJvcGVydHkoJy0tcmFkaXVzLXNtYWxsJywgcmFkaXVzU21hbGw/LnZhbHVlIHx8ICc4cHgnKTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1yYWRpdXMtbWVkaXVtJywgcmFkaXVzTWVkaXVtPy52YWx1ZSB8fCAnMTZweCcpO1xuICAgICAgICBwcmV2aWV3LnN0eWxlLnNldFByb3BlcnR5KCctLXJhZGl1cy1sYXJnZScsIHJhZGl1c0xhcmdlPy52YWx1ZSB8fCAnMjRweCcpO1xuICAgICAgICBwcmV2aWV3LnN0eWxlLmJvcmRlclJhZGl1cyA9IHJhZGl1c01lZGl1bT8udmFsdWUgfHwgJzE2cHgnO1xuICAgICAgfTtcblxuICAgICAgLy8gSW5pdGlhbGlzZXIgbGVzIHByZXZpZXdzIGRlIGNvdWxldXIgZXQgYWpvdXRlciBsZXMgbGlzdGVuZXJzXG4gICAgICBjb25zdCBzdHlsZVRoZW1lQ29sb3JDaGlwID0gKGNoaXAsIGNvbG9yKSA9PiB7XG4gICAgICAgIGlmICghY2hpcCkgcmV0dXJuO1xuICAgICAgICBpZiAoY29sb3IgPT09ICd0cmFuc3BhcmVudCcpIHtcbiAgICAgICAgICBjaGlwLnN0eWxlLmJhY2tncm91bmQgPSAncmVwZWF0aW5nLWNvbmljLWdyYWRpZW50KCNjY2MgMCUgMjUlLCB3aGl0ZSAwJSA1MCUpIDUwJSAvIDhweCA4cHgnO1xuICAgICAgICAgIGNoaXAuc3R5bGUuYm9yZGVyQ29sb3IgPSAnI2NiZDVmNSc7XG4gICAgICAgICAgY2hpcC5zdHlsZS5ib3hTaGFkb3cgPSAnJztcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY2hpcC5zdHlsZS5iYWNrZ3JvdW5kID0gY29sb3I7XG4gICAgICAgIGNoaXAuc3R5bGUuYm9yZGVyQ29sb3IgPSBjb2xvcjtcbiAgICAgICAgY2hpcC5zdHlsZS5ib3hTaGFkb3cgPSAnMCAwIDAgMXB4IHJnYmEoMTUsMjMsNDIsMC4xNSknO1xuICAgICAgfTtcbiAgICAgIGNvbnN0IHVwZGF0ZVRoZW1lQ29sb3JQcmV2aWV3ID0gKHNlbGVjdCkgPT4ge1xuICAgICAgICBpZiAoIXNlbGVjdCkgcmV0dXJuO1xuICAgICAgICBjb25zdCBzZWxlY3RlZE9wdGlvbiA9IHNlbGVjdC5vcHRpb25zW3NlbGVjdC5zZWxlY3RlZEluZGV4XTtcbiAgICAgICAgY29uc3QgY29sb3IgPSBzZWxlY3RlZE9wdGlvbj8uZGF0YXNldD8uY29sb3IgfHwgJyNmZmZmZmYnO1xuICAgICAgICBjb25zdCBjb2xvclByZXZpZXcgPSBzZWxlY3QuY2xvc2VzdCgnLnJlbGF0aXZlJyk/LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbG9yLXByZXZpZXddJyk7XG4gICAgICAgIGlmIChjb2xvclByZXZpZXcpIHtcbiAgICAgICAgICBpZiAoY29sb3IgPT09ICd0cmFuc3BhcmVudCcpIHtcbiAgICAgICAgICAgIGNvbG9yUHJldmlldy5zdHlsZS5iYWNrZ3JvdW5kID0gVFJBTlNQQVJFTlRfUEFUVEVSTjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29sb3JQcmV2aWV3LnN0eWxlLmJhY2tncm91bmQgPSBjb2xvcjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29sb3JDaGlwID0gc2VsZWN0LmNsb3Nlc3QoJy5yZWxhdGl2ZScpPy5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1jb2xvci1jaGlwXScpO1xuICAgICAgICBzdHlsZVRoZW1lQ29sb3JDaGlwKGNvbG9yQ2hpcCwgY29sb3IpO1xuICAgICAgfTtcblxuICAgICAgY29uc3QgaW5pdENvbG9yUHJldmlld3MgPSAoKSA9PiB7XG4gICAgICAgIE9iamVjdC52YWx1ZXMoY29sb3JTZWxlY3RzKS5mb3JFYWNoKChzZWxlY3QpID0+IHtcbiAgICAgICAgICBpZiAoIXNlbGVjdCkgcmV0dXJuO1xuICAgICAgICAgIHN0eWxlU2VsZWN0T3B0aW9ucyhzZWxlY3QpO1xuICAgICAgICAgIHVwZGF0ZVRoZW1lQ29sb3JQcmV2aWV3KHNlbGVjdCk7XG4gICAgICAgICAgc2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHVwZGF0ZVRoZW1lQ29sb3JQcmV2aWV3KHNlbGVjdCkpO1xuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgIE9iamVjdC5rZXlzKGNvbG9yU2VsZWN0cykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgIGNvbG9yU2VsZWN0c1trZXldPy5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBzeW5jUHJldmlldyk7XG4gICAgICB9KTtcbiAgICAgIFtoZWFkaW5nU2VsZWN0LCBib2R5U2VsZWN0LCByYWRpdXNTbWFsbCwgcmFkaXVzTWVkaXVtLCByYWRpdXNMYXJnZV0uZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgICAgZWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHN5bmNQcmV2aWV3KTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBsb2FkVGhlbWUgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIGlmICghdGhlbWVBcGkpIHJldHVybjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHRoZW1lQXBpLCB7XG4gICAgICAgICAgICBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICBjcmVkZW50aWFsczogJ2luY2x1ZGUnLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHJldHVybjtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIGNvbnN0IHRoZW1lQ29sb3JzID0gcGF5bG9hZC5jb2xvcnMgfHwge307XG4gICAgICAgICAgZmlsbENvbG9yT3B0aW9ucyh0aGVtZUNvbG9ycyk7XG4gICAgICAgICAgT2JqZWN0LmVudHJpZXMoY29sb3JTZWxlY3RzKS5mb3JFYWNoKChba2V5LCBzZWxlY3RdKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXNlbGVjdCkgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSB0aGVtZUNvbG9yc1trZXldO1xuICAgICAgICAgICAgY29uc3Qgbm9ybWFsaXplZFZhbHVlID0gbm9ybWFsaXplU2VsZWN0Q29sb3IodmFsdWUpO1xuICAgICAgICAgICAgaWYgKG5vcm1hbGl6ZWRWYWx1ZSkge1xuICAgICAgICAgICAgICBzZWxlY3QudmFsdWUgPSBub3JtYWxpemVkVmFsdWU7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgIHNlbGVjdC52YWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzZWxlY3QuZGF0YXNldC5kZWZhdWx0KSB7XG4gICAgICAgICAgICAgIHNlbGVjdC52YWx1ZSA9IHNlbGVjdC5kYXRhc2V0LmRlZmF1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1cGRhdGVUaGVtZUNvbG9yUHJldmlldyhzZWxlY3QpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGlmIChoZWFkaW5nU2VsZWN0KSBoZWFkaW5nU2VsZWN0LnZhbHVlID0gcGF5bG9hZC50eXBvZ3JhcGh5Py5oZWFkaW5ncyB8fCAnSW50ZXIsIHNhbnMtc2VyaWYnO1xuICAgICAgICAgIGlmIChib2R5U2VsZWN0KSBib2R5U2VsZWN0LnZhbHVlID0gcGF5bG9hZC50eXBvZ3JhcGh5Py5ib2R5IHx8ICdJbnRlciwgc2Fucy1zZXJpZic7XG4gICAgICAgICAgaWYgKHJhZGl1c1NtYWxsKSByYWRpdXNTbWFsbC52YWx1ZSA9IHBheWxvYWQucmFkaXVzPy5zbWFsbCB8fCAnOHB4JztcbiAgICAgICAgICBpZiAocmFkaXVzTWVkaXVtKSByYWRpdXNNZWRpdW0udmFsdWUgPSBwYXlsb2FkLnJhZGl1cz8ubWVkaXVtIHx8ICcxNnB4JztcbiAgICAgICAgICBpZiAocmFkaXVzTGFyZ2UpIHJhZGl1c0xhcmdlLnZhbHVlID0gcGF5bG9hZC5yYWRpdXM/LmxhcmdlIHx8ICcyNHB4JztcbiAgICAgICAgICBzeW5jUHJldmlldygpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIGxvYWQgdGhlbWUgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgYXBwbHlCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmICghdGhlbWVBcGkpIHtcbiAgICAgICAgICBzZXRUaGVtZUZlZWRiYWNrKCdBdWN1biBzaXRlIGFjdGlmLicsICdlcnJvcicpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICAgIGNvbG9yczoge1xuICAgICAgICAgICAgcHJpbWFyeTogY29sb3JTZWxlY3RzLnByaW1hcnk/LnZhbHVlIHx8ICd2aW9sZXQtNTAwJyxcbiAgICAgICAgICAgIHNlY29uZGFyeTogY29sb3JTZWxlY3RzLnNlY29uZGFyeT8udmFsdWUgfHwgJ2luZGlnby00MDAnLFxuICAgICAgICAgICAgYWNjZW50OiBjb2xvclNlbGVjdHMuYWNjZW50Py52YWx1ZSB8fCAnZW1lcmFsZC01MDAnLFxuICAgICAgICAgICAgYmFja2dyb3VuZDogY29sb3JTZWxlY3RzLmJhY2tncm91bmQ/LnZhbHVlIHx8ICdzbGF0ZS01MCcsXG4gICAgICAgICAgICB0ZXh0OiBjb2xvclNlbGVjdHMudGV4dD8udmFsdWUgfHwgJ3NsYXRlLTkwMCcsXG4gICAgICAgICAgfSxcbiAgICAgICAgICB0eXBvZ3JhcGh5OiB7XG4gICAgICAgICAgICBoZWFkaW5nczogaGVhZGluZ1NlbGVjdD8udmFsdWUgfHwgJ0ludGVyLCBzYW5zLXNlcmlmJyxcbiAgICAgICAgICAgIGJvZHk6IGJvZHlTZWxlY3Q/LnZhbHVlIHx8ICdJbnRlciwgc2Fucy1zZXJpZicsXG4gICAgICAgICAgfSxcbiAgICAgICAgICByYWRpdXM6IHtcbiAgICAgICAgICAgIHNtYWxsOiByYWRpdXNTbWFsbD8udmFsdWUgfHwgJzhweCcsXG4gICAgICAgICAgICBtZWRpdW06IHJhZGl1c01lZGl1bT8udmFsdWUgfHwgJzE2cHgnLFxuICAgICAgICAgICAgbGFyZ2U6IHJhZGl1c0xhcmdlPy52YWx1ZSB8fCAnMjRweCcsXG4gICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgYXBwbHlCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICBzZXRUaGVtZUZlZWRiYWNrKCcnKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHRoZW1lQXBpLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICBjcmVkZW50aWFsczogJ2luY2x1ZGUnLFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2sgfHwgcmVzdWx0LnN1Y2Nlc3MgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzdWx0Lm1lc3NhZ2UgfHwgJ0FwcGxpY2F0aW9uIGR1IHRoXHUwMEU4bWUgXHUwMEU5Y2hvdVx1MDBFOWUuJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGF3YWl0IGxvYWRUaGVtZSgpO1xuICAgICAgICAgIHNldFRoZW1lRmVlZGJhY2socmVzdWx0Lm1lc3NhZ2UgfHwgJ1RoXHUwMEU4bWUgYXBwbGlxdVx1MDBFOS4nLCAnc3VjY2VzcycpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIGFwcGx5IHRoZW1lIGZhaWxlZCcsIGVycik7XG4gICAgICAgICAgc2V0VGhlbWVGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZGUgbFx1MjAxOWFwcGxpY2F0aW9uIGR1IHRoXHUwMEU4bWUuJywgJ2Vycm9yJyk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgYXBwbHlCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGZpbGxDb2xvck9wdGlvbnMoKTtcbiAgICAgIGluaXRDb2xvclByZXZpZXdzKCk7XG4gICAgICBsb2FkVGhlbWUoKTtcbiAgICAgIHN5bmNQcmV2aWV3KCk7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdhaS10aGVtZS11cGRhdGVkJywgKCkgPT4ge1xuICAgICAgICBsb2FkVGhlbWUoKTtcbiAgICAgICAgc2V0VGhlbWVGZWVkYmFjaygnVGhcdTAwRThtZSBtaXMgXHUwMEUwIGpvdXIuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIFNFTyBDb25maWcgZm9ybSAoVVM5LkIxKVxuICAgIGNvbnN0IHNlb0NvbmZpZ0Zvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8tY29uZmlnLWZvcm1dJyk7XG4gICAgaWYgKHNlb0NvbmZpZ0Zvcm0pIHtcbiAgICAgIGNvbnN0IGluZGV4QWxsQ2hlY2tib3ggPSBzZW9Db25maWdGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby1pbmRleC1hbGxdJyk7XG4gICAgICBjb25zdCBzZW9Db25maWdGZWVkYmFjayA9IHNlb0NvbmZpZ0Zvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtc2VvLWNvbmZpZy1mZWVkYmFja10nKTtcbiAgICAgIGNvbnN0IHNlb1NhdmVCdXR0b24gPSBzZW9Db25maWdGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby1zYXZlXScpO1xuXG4gICAgICBjb25zdCBzYWZlU2l0ZVNsdWcgPSBzdHJpcExlYWRpbmdTbGFzaChcbiAgICAgICAgd29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyxcbiAgICAgICk7XG4gICAgICBjb25zdCBzaXRlQ29uZmlnQXBpID0gc2FmZVNpdGVTbHVnXG4gICAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnKX0vY29uZmlnL3NpdGVgXG4gICAgICAgIDogbnVsbDtcblxuICAgICAgY29uc3Qgc2V0U2VvRmVlZGJhY2sgPSAobWVzc2FnZSwgdG9uZSA9ICdtdXRlZCcpID0+IHtcbiAgICAgICAgaWYgKCFzZW9Db25maWdGZWVkYmFjaykgcmV0dXJuO1xuICAgICAgICBjb25zdCBjb2xvciA9XG4gICAgICAgICAgdG9uZSA9PT0gJ3N1Y2Nlc3MnXG4gICAgICAgICAgICA/ICd0ZXh0LWVtZXJhbGQtNjAwJ1xuICAgICAgICAgICAgOiB0b25lID09PSAnZXJyb3InXG4gICAgICAgICAgICAgID8gJ3RleHQtcm9zZS02MDAnXG4gICAgICAgICAgICAgIDogJ3RleHQtc2xhdGUtNTAwJztcbiAgICAgICAgc2VvQ29uZmlnRmVlZGJhY2sudGV4dENvbnRlbnQgPSBtZXNzYWdlIHx8ICcnO1xuICAgICAgICBzZW9Db25maWdGZWVkYmFjay5jbGFzc05hbWUgPSBgdGV4dC1zbSAke2NvbG9yfWA7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBsb2FkU2VvQ29uZmlnID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoIXNpdGVDb25maWdBcGkpIHJldHVybjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHNpdGVDb25maWdBcGksIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHJldHVybjtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIGNvbnN0IGluZGV4QWxsID0gcGF5bG9hZC5zZW8/LmluZGV4QWxsUGFnZXNCeURlZmF1bHQgIT09IGZhbHNlO1xuICAgICAgICAgIGlmIChpbmRleEFsbENoZWNrYm94KSBpbmRleEFsbENoZWNrYm94LmNoZWNrZWQgPSBpbmRleEFsbDtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3NldHRpbmdzXSBsb2FkIHNlbyBjb25maWcgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgc2VvQ29uZmlnRm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKCFzaXRlQ29uZmlnQXBpKSB7XG4gICAgICAgICAgc2V0U2VvRmVlZGJhY2soJ0F1Y3VuIHNpdGUgYWN0aWYuJywgJ2Vycm9yJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNlb1NhdmVCdXR0b24gJiYgKHNlb1NhdmVCdXR0b24uZGlzYWJsZWQgPSB0cnVlKTtcbiAgICAgICAgc2V0U2VvRmVlZGJhY2soJycpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIEZpcnN0IGxvYWQgY3VycmVudCBjb25maWcgdG8gcHJlc2VydmUgb3RoZXIgZmllbGRzXG4gICAgICAgICAgY29uc3QgY3VycmVudFJlcyA9IGF3YWl0IGZldGNoKHNpdGVDb25maWdBcGksIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xuICAgICAgICAgIGNvbnN0IGN1cnJlbnRDb25maWcgPSBjdXJyZW50UmVzLm9rID8gYXdhaXQgY3VycmVudFJlcy5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSkgOiB7fTtcblxuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgICAgICAuLi5jdXJyZW50Q29uZmlnLFxuICAgICAgICAgICAgc2VvOiB7XG4gICAgICAgICAgICAgIC4uLihjdXJyZW50Q29uZmlnLnNlbyB8fCB7fSksXG4gICAgICAgICAgICAgIGluZGV4QWxsUGFnZXNCeURlZmF1bHQ6IGluZGV4QWxsQ2hlY2tib3g/LmNoZWNrZWQgPz8gdHJ1ZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfTtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHNpdGVDb25maWdBcGksIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rIHx8IHJlc3VsdC5zdWNjZXNzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5tZXNzYWdlIHx8ICdTYXV2ZWdhcmRlIGltcG9zc2libGUuJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNldFNlb0ZlZWRiYWNrKHJlc3VsdC5tZXNzYWdlIHx8ICdQYXJhbVx1MDBFOHRyZXMgU0VPIGVucmVnaXN0clx1MDBFOXMuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3NldHRpbmdzXSBzYXZlIHNlbyBjb25maWcgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgICBzZXRTZW9GZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZGUgbGEgc2F1dmVnYXJkZS4nLCAnZXJyb3InKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBzZW9TYXZlQnV0dG9uICYmIChzZW9TYXZlQnV0dG9uLmRpc2FibGVkID0gZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgbG9hZFNlb0NvbmZpZygpO1xuICAgIH1cblxuICAgIC8vIEFuYWx5dGljcyBmb3JtIChVUzkuQjIpXG4gICAgY29uc3QgYW5hbHl0aWNzRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFuYWx5dGljcy1mb3JtXScpO1xuICAgIGlmIChhbmFseXRpY3NGb3JtKSB7XG4gICAgICBjb25zdCBoZWFkVGV4dGFyZWEgPSBhbmFseXRpY3NGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFuYWx5dGljcy1oZWFkXScpO1xuICAgICAgY29uc3QgYm9keVRleHRhcmVhID0gYW5hbHl0aWNzRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hbmFseXRpY3MtYm9keV0nKTtcbiAgICAgIGNvbnN0IGFuYWx5dGljc0ZlZWRiYWNrID0gYW5hbHl0aWNzRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hbmFseXRpY3MtZmVlZGJhY2tdJyk7XG4gICAgICBjb25zdCBhbmFseXRpY3NTYXZlQnV0dG9uID0gYW5hbHl0aWNzRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hbmFseXRpY3Mtc2F2ZV0nKTtcblxuICAgICAgY29uc3Qgc2FmZVNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goXG4gICAgICAgIHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJycsXG4gICAgICApO1xuICAgICAgY29uc3Qgc2l0ZUNvbmZpZ0FwaSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Zyl9L2NvbmZpZy9zaXRlYFxuICAgICAgICA6IG51bGw7XG5cbiAgICAgIGNvbnN0IHNldEFuYWx5dGljc0ZlZWRiYWNrID0gKG1lc3NhZ2UsIHRvbmUgPSAnbXV0ZWQnKSA9PiB7XG4gICAgICAgIGlmICghYW5hbHl0aWNzRmVlZGJhY2spIHJldHVybjtcbiAgICAgICAgY29uc3QgY29sb3IgPVxuICAgICAgICAgIHRvbmUgPT09ICdzdWNjZXNzJ1xuICAgICAgICAgICAgPyAndGV4dC1lbWVyYWxkLTYwMCdcbiAgICAgICAgICAgIDogdG9uZSA9PT0gJ2Vycm9yJ1xuICAgICAgICAgICAgICA/ICd0ZXh0LXJvc2UtNjAwJ1xuICAgICAgICAgICAgICA6ICd0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICAgIGFuYWx5dGljc0ZlZWRiYWNrLnRleHRDb250ZW50ID0gbWVzc2FnZSB8fCAnJztcbiAgICAgICAgYW5hbHl0aWNzRmVlZGJhY2suY2xhc3NOYW1lID0gYHRleHQtc20gJHtjb2xvcn1gO1xuICAgICAgfTtcblxuICAgICAgY29uc3QgbG9hZEFuYWx5dGljc0NvbmZpZyA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKCFzaXRlQ29uZmlnQXBpKSByZXR1cm47XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChzaXRlQ29uZmlnQXBpLCB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSByZXR1cm47XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICBpZiAoaGVhZFRleHRhcmVhKSBoZWFkVGV4dGFyZWEudmFsdWUgPSBwYXlsb2FkLmFuYWx5dGljcz8uaGVhZENvZGUgfHwgJyc7XG4gICAgICAgICAgaWYgKGJvZHlUZXh0YXJlYSkgYm9keVRleHRhcmVhLnZhbHVlID0gcGF5bG9hZC5hbmFseXRpY3M/LmJvZHlFbmRDb2RlIHx8ICcnO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIGxvYWQgYW5hbHl0aWNzIGNvbmZpZyBmYWlsZWQnLCBlcnIpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBhbmFseXRpY3NGb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAoIXNpdGVDb25maWdBcGkpIHtcbiAgICAgICAgICBzZXRBbmFseXRpY3NGZWVkYmFjaygnQXVjdW4gc2l0ZSBhY3RpZi4nLCAnZXJyb3InKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgYW5hbHl0aWNzU2F2ZUJ1dHRvbiAmJiAoYW5hbHl0aWNzU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWUpO1xuICAgICAgICBzZXRBbmFseXRpY3NGZWVkYmFjaygnJyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gRmlyc3QgbG9hZCBjdXJyZW50IGNvbmZpZyB0byBwcmVzZXJ2ZSBvdGhlciBmaWVsZHNcbiAgICAgICAgICBjb25zdCBjdXJyZW50UmVzID0gYXdhaXQgZmV0Y2goc2l0ZUNvbmZpZ0FwaSwgeyBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSk7XG4gICAgICAgICAgY29uc3QgY3VycmVudENvbmZpZyA9IGN1cnJlbnRSZXMub2sgPyBhd2FpdCBjdXJyZW50UmVzLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKSA6IHt9O1xuXG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgICAgIC4uLmN1cnJlbnRDb25maWcsXG4gICAgICAgICAgICBhbmFseXRpY3M6IHtcbiAgICAgICAgICAgICAgaGVhZENvZGU6IGhlYWRUZXh0YXJlYT8udmFsdWUgfHwgJycsXG4gICAgICAgICAgICAgIGJvZHlFbmRDb2RlOiBib2R5VGV4dGFyZWE/LnZhbHVlIHx8ICcnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9O1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goc2l0ZUNvbmZpZ0FwaSwge1xuICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2sgfHwgcmVzdWx0LnN1Y2Nlc3MgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzdWx0Lm1lc3NhZ2UgfHwgJ1NhdXZlZ2FyZGUgaW1wb3NzaWJsZS4nKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0QW5hbHl0aWNzRmVlZGJhY2socmVzdWx0Lm1lc3NhZ2UgfHwgJ1NjcmlwdHMgZW5yZWdpc3RyXHUwMEU5cy4nLCAnc3VjY2VzcycpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIHNhdmUgYW5hbHl0aWNzIGNvbmZpZyBmYWlsZWQnLCBlcnIpO1xuICAgICAgICAgIHNldEFuYWx5dGljc0ZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsYSBzYXV2ZWdhcmRlLicsICdlcnJvcicpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGFuYWx5dGljc1NhdmVCdXR0b24gJiYgKGFuYWx5dGljc1NhdmVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBsb2FkQW5hbHl0aWNzQ29uZmlnKCk7XG4gICAgfVxuXG4gICAgY29uc3QgYWNjZXNzaWJpbGl0eUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hY2Nlc3NpYmlsaXR5LWZvcm1dJyk7XG4gICAgaWYgKGFjY2Vzc2liaWxpdHlGb3JtKSB7XG4gICAgICBjb25zdCBhbmltYXRpb25zVG9nZ2xlID0gYWNjZXNzaWJpbGl0eUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYWNjZXNzaWJpbGl0eS1hbmltYXRpb25zXScpO1xuICAgICAgY29uc3QgY29udHJhc3RUb2dnbGUgPSBhY2Nlc3NpYmlsaXR5Rm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hY2Nlc3NpYmlsaXR5LWNvbnRyYXN0XScpO1xuICAgICAgY29uc3QgYWNjZXNzaWJpbGl0eUZlZWRiYWNrID0gYWNjZXNzaWJpbGl0eUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYWNjZXNzaWJpbGl0eS1mZWVkYmFja10nKTtcbiAgICAgIGNvbnN0IGFjY2Vzc2liaWxpdHlTYXZlQnV0dG9uID0gYWNjZXNzaWJpbGl0eUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYWNjZXNzaWJpbGl0eS1zYXZlXScpO1xuXG4gICAgICBjb25zdCBzYWZlU2l0ZVNsdWcgPSBzdHJpcExlYWRpbmdTbGFzaChcbiAgICAgICAgd29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyxcbiAgICAgICk7XG4gICAgICBjb25zdCBzaXRlQ29uZmlnQXBpID0gc2FmZVNpdGVTbHVnXG4gICAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnKX0vY29uZmlnL3NpdGVgXG4gICAgICAgIDogbnVsbDtcblxuICAgICAgY29uc3Qgc2V0QWNjZXNzaWJpbGl0eUZlZWRiYWNrID0gKG1lc3NhZ2UsIHRvbmUgPSAnbXV0ZWQnKSA9PiB7XG4gICAgICAgIGlmICghYWNjZXNzaWJpbGl0eUZlZWRiYWNrKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGNvbG9yID1cbiAgICAgICAgICB0b25lID09PSAnc3VjY2VzcydcbiAgICAgICAgICAgID8gJ3RleHQtZW1lcmFsZC02MDAnXG4gICAgICAgICAgICA6IHRvbmUgPT09ICdlcnJvcidcbiAgICAgICAgICAgICAgPyAndGV4dC1yb3NlLTYwMCdcbiAgICAgICAgICAgICAgOiAndGV4dC1zbGF0ZS01MDAnO1xuICAgICAgICBhY2Nlc3NpYmlsaXR5RmVlZGJhY2sudGV4dENvbnRlbnQgPSBtZXNzYWdlIHx8ICcnO1xuICAgICAgICBhY2Nlc3NpYmlsaXR5RmVlZGJhY2suY2xhc3NOYW1lID0gYHRleHQtc20gJHtjb2xvcn1gO1xuICAgICAgfTtcblxuICAgICAgY29uc3QgbG9hZEFjY2Vzc2liaWxpdHlDb25maWcgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIGlmICghc2l0ZUNvbmZpZ0FwaSkgcmV0dXJuO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goc2l0ZUNvbmZpZ0FwaSwgeyBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgcmV0dXJuO1xuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgaWYgKGFuaW1hdGlvbnNUb2dnbGUpIHtcbiAgICAgICAgICAgIGFuaW1hdGlvbnNUb2dnbGUuY2hlY2tlZCA9IHBheWxvYWQuYWNjZXNzaWJpbGl0eT8uYW5pbWF0aW9uc0VuYWJsZWQgIT09IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoY29udHJhc3RUb2dnbGUpIHtcbiAgICAgICAgICAgIGNvbnRyYXN0VG9nZ2xlLmNoZWNrZWQgPSBwYXlsb2FkLmFjY2Vzc2liaWxpdHk/LmhpZ2hDb250cmFzdCA9PT0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gbG9hZCBhY2Nlc3NpYmlsaXR5IGNvbmZpZyBmYWlsZWQnLCBlcnIpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBhY2Nlc3NpYmlsaXR5Rm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKCFzaXRlQ29uZmlnQXBpKSB7XG4gICAgICAgICAgc2V0QWNjZXNzaWJpbGl0eUZlZWRiYWNrKCdBdWN1biBzaXRlIGFjdGlmLicsICdlcnJvcicpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBhY2Nlc3NpYmlsaXR5U2F2ZUJ1dHRvbiAmJiAoYWNjZXNzaWJpbGl0eVNhdmVCdXR0b24uZGlzYWJsZWQgPSB0cnVlKTtcbiAgICAgICAgc2V0QWNjZXNzaWJpbGl0eUZlZWRiYWNrKCcnKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBjdXJyZW50UmVzID0gYXdhaXQgZmV0Y2goc2l0ZUNvbmZpZ0FwaSwgeyBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSk7XG4gICAgICAgICAgY29uc3QgY3VycmVudENvbmZpZyA9IGN1cnJlbnRSZXMub2sgPyBhd2FpdCBjdXJyZW50UmVzLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKSA6IHt9O1xuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgICAgICAuLi5jdXJyZW50Q29uZmlnLFxuICAgICAgICAgICAgYWNjZXNzaWJpbGl0eToge1xuICAgICAgICAgICAgICBhbmltYXRpb25zRW5hYmxlZDogYW5pbWF0aW9uc1RvZ2dsZT8uY2hlY2tlZCA/PyB0cnVlLFxuICAgICAgICAgICAgICBoaWdoQ29udHJhc3Q6IGNvbnRyYXN0VG9nZ2xlPy5jaGVja2VkID8/IGZhbHNlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9O1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goc2l0ZUNvbmZpZ0FwaSwge1xuICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2sgfHwgcmVzdWx0LnN1Y2Nlc3MgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzdWx0Lm1lc3NhZ2UgfHwgJ1NhdXZlZ2FyZGUgaW1wb3NzaWJsZS4nKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0QWNjZXNzaWJpbGl0eUZlZWRiYWNrKHJlc3VsdC5tZXNzYWdlIHx8ICdQclx1MDBFOWZcdTAwRTlyZW5jZXMgbWlzZXMgXHUwMEUwIGpvdXIuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3NldHRpbmdzXSBzYXZlIGFjY2Vzc2liaWxpdHkgY29uZmlnIGZhaWxlZCcsIGVycik7XG4gICAgICAgICAgc2V0QWNjZXNzaWJpbGl0eUZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsYSBzYXV2ZWdhcmRlLicsICdlcnJvcicpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGFjY2Vzc2liaWxpdHlTYXZlQnV0dG9uICYmIChhY2Nlc3NpYmlsaXR5U2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGxvYWRBY2Nlc3NpYmlsaXR5Q29uZmlnKCk7XG4gICAgfVxuXG4gICAgLy8gQUkgQ29uZmlnIGZvcm0gKFVTIC0gQUkgQXNzaXN0YW50KVxuICAgIGNvbnN0IGFpQ29uZmlnRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFpLWNvbmZpZy1mb3JtXScpO1xuICAgIGlmIChhaUNvbmZpZ0Zvcm0pIHtcbiAgICAgIGNvbnN0IGFwaUtleUlucHV0ID0gYWlDb25maWdGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFpLWFwaS1rZXldJyk7XG4gICAgICBjb25zdCBtb2RlbFNlbGVjdCA9IGFpQ29uZmlnRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1haS1tb2RlbF0nKTtcbiAgICAgIGNvbnN0IHByb2plY3RQcm9tcHRUZXh0YXJlYSA9IGFpQ29uZmlnRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1haS1wcm9qZWN0LXByb21wdF0nKTtcbiAgICAgIGNvbnN0IGVuYWJsZWRDaGVja2JveCA9IGFpQ29uZmlnRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1haS1lbmFibGVkXScpO1xuICAgICAgY29uc3QgYWlGZWVkYmFjayA9IGFpQ29uZmlnRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1haS1mZWVkYmFja10nKTtcbiAgICAgIGNvbnN0IGFpU2F2ZUJ1dHRvbiA9IGFpQ29uZmlnRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1haS1zYXZlXScpO1xuXG4gICAgICBjb25zdCBzYWZlU2l0ZVNsdWcgPSBzdHJpcExlYWRpbmdTbGFzaChcbiAgICAgICAgd29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyxcbiAgICAgICk7XG4gICAgICBjb25zdCBhaUNvbmZpZ0FwaSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Zyl9L2NvbmZpZy9haWBcbiAgICAgICAgOiBudWxsO1xuXG4gICAgICBjb25zdCBzZXRBSUZlZWRiYWNrID0gKG1lc3NhZ2UsIHRvbmUgPSAnbXV0ZWQnKSA9PiB7XG4gICAgICAgIGlmICghYWlGZWVkYmFjaykgcmV0dXJuO1xuICAgICAgICBjb25zdCBjb2xvciA9XG4gICAgICAgICAgdG9uZSA9PT0gJ3N1Y2Nlc3MnXG4gICAgICAgICAgICA/ICd0ZXh0LWVtZXJhbGQtNjAwJ1xuICAgICAgICAgICAgOiB0b25lID09PSAnZXJyb3InXG4gICAgICAgICAgICAgID8gJ3RleHQtcm9zZS02MDAnXG4gICAgICAgICAgICAgIDogJ3RleHQtc2xhdGUtNTAwJztcbiAgICAgICAgYWlGZWVkYmFjay50ZXh0Q29udGVudCA9IG1lc3NhZ2UgfHwgJyc7XG4gICAgICAgIGFpRmVlZGJhY2suY2xhc3NOYW1lID0gYHRleHQtc20gJHtjb2xvcn1gO1xuICAgICAgfTtcblxuICAgICAgY29uc3QgbG9hZEFJQ29uZmlnID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoIWFpQ29uZmlnQXBpKSByZXR1cm47XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChhaUNvbmZpZ0FwaSwgeyBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgcmV0dXJuO1xuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgLy8gQVBJIGtleSBpcyBtYXNrZWQsIHdlIHNob3cgcGxhY2Vob2xkZXIgaWYgaXQgZXhpc3RzXG4gICAgICAgICAgaWYgKGFwaUtleUlucHV0KSB7XG4gICAgICAgICAgICBhcGlLZXlJbnB1dC52YWx1ZSA9ICcnO1xuICAgICAgICAgICAgYXBpS2V5SW5wdXQucGxhY2Vob2xkZXIgPSBwYXlsb2FkLmhhc0FwaUtleSA/ICdcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjInIDogJ0NsXHUwMEU5IEFQSSBHZW1pbmknO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAobW9kZWxTZWxlY3QpIG1vZGVsU2VsZWN0LnZhbHVlID0gcGF5bG9hZC5tb2RlbCB8fCAnZ2VtaW5pLTIuNS1mbGFzaCc7XG4gICAgICAgICAgaWYgKHByb2plY3RQcm9tcHRUZXh0YXJlYSkgcHJvamVjdFByb21wdFRleHRhcmVhLnZhbHVlID0gcGF5bG9hZC5wcm9qZWN0UHJvbXB0IHx8ICcnO1xuICAgICAgICAgIGlmIChlbmFibGVkQ2hlY2tib3gpIGVuYWJsZWRDaGVja2JveC5jaGVja2VkID0gcGF5bG9hZC5lbmFibGVkICE9PSBmYWxzZTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3NldHRpbmdzXSBsb2FkIEFJIGNvbmZpZyBmYWlsZWQnLCBlcnIpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBhaUNvbmZpZ0Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmICghYWlDb25maWdBcGkpIHtcbiAgICAgICAgICBzZXRBSUZlZWRiYWNrKCdBdWN1biBzaXRlIGFjdGlmLicsICdlcnJvcicpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBhaVNhdmVCdXR0b24gJiYgKGFpU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWUpO1xuICAgICAgICBzZXRBSUZlZWRiYWNrKCcnKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICAgICAgbW9kZWw6IG1vZGVsU2VsZWN0Py52YWx1ZSB8fCAnZ2VtaW5pLTIuNS1mbGFzaCcsXG4gICAgICAgICAgICBwcm9qZWN0UHJvbXB0OiBwcm9qZWN0UHJvbXB0VGV4dGFyZWE/LnZhbHVlIHx8ICcnLFxuICAgICAgICAgICAgZW5hYmxlZDogZW5hYmxlZENoZWNrYm94Py5jaGVja2VkID8/IHRydWUsXG4gICAgICAgICAgfTtcbiAgICAgICAgICAvLyBPbmx5IGluY2x1ZGUgYXBpS2V5IGlmIHRoZSB1c2VyIGVudGVyZWQgb25lIChub3QgZW1wdHkpXG4gICAgICAgICAgY29uc3QgYXBpS2V5VmFsdWUgPSBhcGlLZXlJbnB1dD8udmFsdWU/LnRyaW0oKTtcbiAgICAgICAgICBpZiAoYXBpS2V5VmFsdWUpIHtcbiAgICAgICAgICAgIHBheWxvYWQuYXBpS2V5ID0gYXBpS2V5VmFsdWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChhaUNvbmZpZ0FwaSwge1xuICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2sgfHwgcmVzdWx0LnN1Y2Nlc3MgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzdWx0Lm1lc3NhZ2UgfHwgJ1NhdXZlZ2FyZGUgaW1wb3NzaWJsZS4nKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0QUlGZWVkYmFjayhyZXN1bHQubWVzc2FnZSB8fCAnQ29uZmlndXJhdGlvbiBJQSBlbnJlZ2lzdHJcdTAwRTllLicsICdzdWNjZXNzJyk7XG4gICAgICAgICAgLy8gQ2xlYXIgdGhlIEFQSSBrZXkgZmllbGQgYWZ0ZXIgc3VjY2Vzc2Z1bCBzYXZlXG4gICAgICAgICAgaWYgKGFwaUtleUlucHV0KSB7XG4gICAgICAgICAgICBhcGlLZXlJbnB1dC52YWx1ZSA9ICcnO1xuICAgICAgICAgICAgYXBpS2V5SW5wdXQucGxhY2Vob2xkZXIgPSAnXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyJztcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gc2F2ZSBBSSBjb25maWcgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgICBzZXRBSUZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsYSBzYXV2ZWdhcmRlLicsICdlcnJvcicpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGFpU2F2ZUJ1dHRvbiAmJiAoYWlTYXZlQnV0dG9uLmRpc2FibGVkID0gZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgbG9hZEFJQ29uZmlnKCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaW5pdE1lZGlhV29ya3NwYWNlKCkge1xuICAgIGNvbnN0IGdyaWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1ncmlkXScpO1xuICAgIGlmICghZ3JpZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBlbXB0eVN0YXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZW1wdHldJyk7XG4gICAgY29uc3QgY291bnRCYWRnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWNvdW50XScpO1xuICAgIGNvbnN0IGZpbHRlclR5cGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1maWx0ZXItdHlwZV0nKTtcbiAgICBjb25zdCBkZXRhaWxFbXB0eSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRldGFpbC1lbXB0eV0nKTtcbiAgICBjb25zdCBkZXRhaWxQYW5lbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRldGFpbF0nKTtcbiAgICBjb25zdCBkZXRhaWxQcmV2aWV3ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGV0YWlsLXByZXZpZXddJyk7XG4gICAgY29uc3QgZGV0YWlsTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRldGFpbC1uYW1lXScpO1xuICAgIGNvbnN0IGRldGFpbFR5cGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZXRhaWwtdHlwZV0nKTtcbiAgICBjb25zdCBkZXRhaWxTaXplID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGV0YWlsLXNpemVdJyk7XG4gICAgY29uc3QgZGV0YWlsUGF0aCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRldGFpbC1wYXRoXScpO1xuICAgIGNvbnN0IGRldGFpbFVzZWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZXRhaWwtdXNlZF0nKTtcbiAgICBjb25zdCBkZXRhaWxBbHRJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWFsdC1lZGl0XScpO1xuICAgIGNvbnN0IGRldGFpbFNhdmVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1zYXZlXScpO1xuICAgIGNvbnN0IGRldGFpbERlbGV0ZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRlbGV0ZV0nKTtcbiAgICBjb25zdCBkZWxldGVNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRlbGV0ZS1tb2RhbF0nKTtcbiAgICBjb25zdCBkZWxldGVDYW5jZWxCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZWxldGUtY2FuY2VsXScpO1xuICAgIGNvbnN0IGRlbGV0ZUNvbmZpcm1CdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZWxldGUtY29uZmlybV0nKTtcbiAgICBjb25zdCB1cGxvYWRPcGVuQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtdXBsb2FkLW9wZW5dJyk7XG4gICAgY29uc3QgZmlsZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZmlsZS1pbnB1dF0nKTtcbiAgICBjb25zdCB1cGxvYWRTdGF0dXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS11cGxvYWQtc3RhdHVzXScpO1xuXG4gICAgY29uc3Qgc2FmZVNpdGVTbHVnVmFsdWUgPSBzdHJpcExlYWRpbmdTbGFzaChcbiAgICAgIHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJycsXG4gICAgKTtcbiAgICBjb25zdCBtZWRpYUFwaUJhc2UgPSBzYWZlU2l0ZVNsdWdWYWx1ZVxuICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWdWYWx1ZSl9L21lZGlhYFxuICAgICAgOiBudWxsO1xuXG4gICAgbGV0IG1lZGlhSXRlbXMgPSBbXTtcbiAgICBsZXQgZmlsdGVyZWRJdGVtcyA9IFtdO1xuICAgIGxldCBhY3RpdmVNZWRpYUlkID0gbnVsbDtcbiAgICBsZXQgaGlnaGxpZ2h0TWVkaWFJZCA9IG51bGw7XG4gICAgbGV0IHBlbmRpbmdVcGxvYWRGaWxlID0gbnVsbDtcbiAgICBsZXQgdXBsb2FkSW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgIGxldCBkZXRhaWxEaXJ0eSA9IGZhbHNlO1xuICAgIGxldCB1cGxvYWRNb2RlID0gZmFsc2U7XG4gICAgbGV0IHVwbG9hZFByZXZpZXdVcmwgPSBudWxsO1xuXG4gICAgY29uc3QgZGVyaXZlR3JvdXBUeXBlID0gKGl0ZW0pID0+IHtcbiAgICAgIGNvbnN0IHR5cGUgPSAoaXRlbS50eXBlIHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgY29uc3QgZmlsZW5hbWUgPSAoaXRlbS5maWxlbmFtZSB8fCAnJykudG9Mb3dlckNhc2UoKTtcbiAgICAgIGlmICh0eXBlLmluY2x1ZGVzKCdpbWFnZScpIHx8IC9cXC4ocG5nfGpwZT9nfHdlYnB8c3ZnfGdpZikkL2kudGVzdChmaWxlbmFtZSkpIHtcbiAgICAgICAgcmV0dXJuICdpbWFnZSc7XG4gICAgICB9XG4gICAgICBpZiAodHlwZS5pbmNsdWRlcygncGRmJykgfHwgdHlwZS5pbmNsdWRlcygnZG9jJykgfHwgL1xcLihwZGZ8ZG9jeD8pJC9pLnRlc3QoZmlsZW5hbWUpKSB7XG4gICAgICAgIHJldHVybiAnZG9jdW1lbnQnO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGUuaW5jbHVkZXMoJ3ZpZGVvJykgfHwgL1xcLihtcDR8bW92fHdlYm0pJC9pLnRlc3QoZmlsZW5hbWUpKSB7XG4gICAgICAgIHJldHVybiAndmlkZW8nO1xuICAgICAgfVxuICAgICAgcmV0dXJuICdvdGhlcic7XG4gICAgfTtcblxuICAgIGNvbnN0IGlzSW1hZ2VUeXBlID0gKGl0ZW0pID0+IGRlcml2ZUdyb3VwVHlwZShpdGVtKSA9PT0gJ2ltYWdlJztcblxuICAgIGNvbnN0IGZvcm1hdFR5cGVMYWJlbCA9IChpdGVtKSA9PiB7XG4gICAgICBpZiAoaXRlbS50eXBlKSB7XG4gICAgICAgIHJldHVybiBpdGVtLnR5cGUudG9VcHBlckNhc2UoKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGV4dCA9IChpdGVtLmZpbGVuYW1lIHx8ICcnKS5zcGxpdCgnLicpLnBvcCgpO1xuICAgICAgcmV0dXJuIGV4dCA/IGV4dC50b1VwcGVyQ2FzZSgpIDogJ0ZJTEUnO1xuICAgIH07XG5cbiAgICBjb25zdCBmb3JtYXRGaWxlU2l6ZSA9IChzaXplKSA9PiB7XG4gICAgICBpZiAoIXNpemUgfHwgc2l6ZSA8PSAwKSB7XG4gICAgICAgIHJldHVybiAnXHUyMDE0JztcbiAgICAgIH1cbiAgICAgIGlmIChzaXplIDwgMTAyNCkge1xuICAgICAgICByZXR1cm4gYCR7c2l6ZX0gb2A7XG4gICAgICB9XG4gICAgICBpZiAoc2l6ZSA8IDEwMjQgKiAxMDI0KSB7XG4gICAgICAgIHJldHVybiBgJHsoc2l6ZSAvIDEwMjQpLnRvRml4ZWQoMSl9IGtvYDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBgJHsoc2l6ZSAvICgxMDI0ICogMTAyNCkpLnRvRml4ZWQoMSl9IE1vYDtcbiAgICB9O1xuXG4gICAgY29uc3QgcmVzZXREZXRhaWxQYW5lbCA9ICgpID0+IHtcbiAgICAgIGRldGFpbFBhbmVsPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGRldGFpbEVtcHR5Py5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGNsZWFyVXBsb2FkU3RhdGUoKTtcbiAgICAgIGFjdGl2ZU1lZGlhSWQgPSBudWxsO1xuICAgICAgZGV0YWlsRGlydHkgPSBmYWxzZTtcbiAgICAgIHVwZGF0ZURldGFpbEFjdGlvbnMoZmFsc2UpO1xuICAgICAgaWYgKGRldGFpbFByZXZpZXcpIHtcbiAgICAgICAgZGV0YWlsUHJldmlldy5pbm5lckhUTUwgPVxuICAgICAgICAgICc8c3BhbiBjbGFzcz1cInRleHQtc2xhdGUtNDAwIHRleHQtc21cIj5BdWN1biBtXHUwMEU5ZGlhIHNcdTAwRTlsZWN0aW9ublx1MDBFOTwvc3Bhbj4nO1xuICAgICAgfVxuICAgICAgaWYgKGRldGFpbE5hbWUpIHtcbiAgICAgICAgZGV0YWlsTmFtZS50ZXh0Q29udGVudCA9ICcnO1xuICAgICAgfVxuICAgICAgZGV0YWlsVHlwZSAmJiAoZGV0YWlsVHlwZS50ZXh0Q29udGVudCA9ICcnKTtcbiAgICAgIGRldGFpbFNpemUgJiYgKGRldGFpbFNpemUudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgICBpZiAoZGV0YWlsQWx0SW5wdXQpIHtcbiAgICAgICAgZGV0YWlsQWx0SW5wdXQudmFsdWUgPSAnJztcbiAgICAgIH1cbiAgICAgIGRldGFpbFBhdGggJiYgKGRldGFpbFBhdGgudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgICBpZiAoZGV0YWlsVXNlZCkge1xuICAgICAgICBkZXRhaWxVc2VkLmlubmVySFRNTCA9ICcnO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBjbGVhclVwbG9hZFN0YXRlID0gKCkgPT4ge1xuICAgICAgcGVuZGluZ1VwbG9hZEZpbGUgPSBudWxsO1xuICAgICAgdXBsb2FkTW9kZSA9IGZhbHNlO1xuICAgICAgdXBsb2FkSW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgICAgaWYgKHVwbG9hZFByZXZpZXdVcmwpIHtcbiAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTCh1cGxvYWRQcmV2aWV3VXJsKTtcbiAgICAgICAgdXBsb2FkUHJldmlld1VybCA9IG51bGw7XG4gICAgICB9XG4gICAgICB1cGxvYWRTdGF0dXMgJiYgKHVwbG9hZFN0YXR1cy50ZXh0Q29udGVudCA9ICdBdWN1biBmaWNoaWVyIHNcdTAwRTlsZWN0aW9ublx1MDBFOS4nKTtcbiAgICAgIGZpbGVJbnB1dCAmJiAoZmlsZUlucHV0LnZhbHVlID0gJycpO1xuICAgIH07XG5cbiAgICBjb25zdCB1cGRhdGVDb3VudEJhZGdlID0gKCkgPT4ge1xuICAgICAgaWYgKCFjb3VudEJhZGdlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghZmlsdGVyZWRJdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgY291bnRCYWRnZS50ZXh0Q29udGVudCA9ICcwIG1cdTAwRTlkaWEnO1xuICAgICAgfSBlbHNlIGlmIChmaWx0ZXJlZEl0ZW1zLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICBjb3VudEJhZGdlLnRleHRDb250ZW50ID0gJzEgbVx1MDBFOWRpYSc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb3VudEJhZGdlLnRleHRDb250ZW50ID0gYCR7ZmlsdGVyZWRJdGVtcy5sZW5ndGh9IG1cdTAwRTlkaWFzYDtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgcmVuZGVyR3JpZCA9ICgpID0+IHtcbiAgICAgIGdyaWQuaW5uZXJIVE1MID0gJyc7XG4gICAgICBpZiAoIWZpbHRlcmVkSXRlbXMubGVuZ3RoKSB7XG4gICAgICAgIGVtcHR5U3RhdGU/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICByZXNldERldGFpbFBhbmVsKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGVtcHR5U3RhdGU/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgZmlsdGVyZWRJdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgIGNvbnN0IGNhcmQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgY2FyZC50eXBlID0gJ2J1dHRvbic7XG4gICAgICAgIGNhcmQuZGF0YXNldC5tZWRpYUlkID0gaXRlbS5pZDtcbiAgICAgICAgY29uc3QgaXNBY3RpdmUgPSBpdGVtLmlkID09PSBhY3RpdmVNZWRpYUlkO1xuICAgICAgICBjYXJkLmNsYXNzTmFtZSA9IFtcbiAgICAgICAgICAnZ3JvdXAgcmVsYXRpdmUgZmxleCBmbGV4LWNvbCByb3VuZGVkLTJ4bCBib3JkZXIgcHgtMyBweS0zIHRleHQtbGVmdCB0cmFuc2l0aW9uIGZvY3VzLXZpc2libGU6b3V0bGluZSBmb2N1cy12aXNpYmxlOm91dGxpbmUtMiBmb2N1cy12aXNpYmxlOm91dGxpbmUtb2Zmc2V0LTIgZm9jdXMtdmlzaWJsZTpvdXRsaW5lLVsjOUM2QkZGXScsXG4gICAgICAgICAgaXNBY3RpdmVcbiAgICAgICAgICAgID8gJ2JvcmRlci1bIzlDNkJGRl0gYmctWyNGN0YwRkZdLzYwIHNoYWRvdy1zbSdcbiAgICAgICAgICAgIDogJ2JvcmRlci1zbGF0ZS0yMDAgaG92ZXI6Ym9yZGVyLVsjOUM2QkZGXS80MCcsXG4gICAgICAgIF0uam9pbignICcpO1xuICAgICAgICBjb25zdCBwcmV2aWV3ID0gaXNJbWFnZVR5cGUoaXRlbSlcbiAgICAgICAgICA/IGA8aW1nIHNyYz1cIiR7aXRlbS5wYXRofVwiIGFsdD1cIiR7aXRlbS5hbHQgfHwgaXRlbS5maWxlbmFtZX1cIiBjbGFzcz1cImgtZnVsbCB3LWZ1bGwgb2JqZWN0LWNvdmVyXCIgLz5gXG4gICAgICAgICAgOiBgPGRpdiBjbGFzcz1cImZsZXggaC1mdWxsIHctZnVsbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdGV4dC0zeGwgdGV4dC1zbGF0ZS00MDBcIj5cdUQ4M0RcdURDQzQ8L2Rpdj5gO1xuICAgICAgICBjYXJkLmlubmVySFRNTCA9IGBcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwicmVsYXRpdmUgYXNwZWN0LVs0LzNdIG92ZXJmbG93LWhpZGRlbiByb3VuZGVkLXhsIGJnLXNsYXRlLTEwMFwiPlxuICAgICAgICAgICAgJHtwcmV2aWV3fVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJtdC0yIHNwYWNlLXktMVwiPlxuICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgdGV4dC1zbGF0ZS05MDAgdHJ1bmNhdGVcIj4ke2l0ZW0uZmlsZW5hbWV9PC9wPlxuICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNTAwXCI+XG4gICAgICAgICAgICAgICR7Zm9ybWF0VHlwZUxhYmVsKGl0ZW0pfSBcdTAwQjcgJHtmb3JtYXRGaWxlU2l6ZShpdGVtLnNpemUpfVxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICBgO1xuICAgICAgICBpZiAoaXRlbS5pZCA9PT0gaGlnaGxpZ2h0TWVkaWFJZCkge1xuICAgICAgICAgIGNhcmQuY2xhc3NMaXN0LmFkZCgncmluZy0yJywgJ3JpbmctWyM5QzZCRkZdJyk7XG4gICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgY2FyZC5jbGFzc0xpc3QucmVtb3ZlKCdyaW5nLTInLCAncmluZy1bIzlDNkJGRl0nKTtcbiAgICAgICAgICB9LCAxNjAwKTtcbiAgICAgICAgfVxuICAgICAgICBjYXJkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gc2VsZWN0TWVkaWEoaXRlbS5pZCkpO1xuICAgICAgICBncmlkLmFwcGVuZENoaWxkKGNhcmQpO1xuICAgICAgfSk7XG4gICAgICBoaWdobGlnaHRNZWRpYUlkID0gbnVsbDtcbiAgICB9O1xuXG4gICAgY29uc3QgcmVuZGVyVXNlZEluID0gKGl0ZW0pID0+IHtcbiAgICAgIGlmICghZGV0YWlsVXNlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBkZXRhaWxVc2VkLmlubmVySFRNTCA9ICcnO1xuICAgICAgaWYgKCFpdGVtLnVzZWRJbiB8fCBpdGVtLnVzZWRJbi5sZW5ndGggPT09IDApIHtcbiAgICAgICAgY29uc3QgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgICBsaS50ZXh0Q29udGVudCA9ICdOb24gdXRpbGlzXHUwMEU5JztcbiAgICAgICAgbGkuY2xhc3NOYW1lID0gJ3RleHQteHMgdGV4dC1zbGF0ZS00MDAnO1xuICAgICAgICBkZXRhaWxVc2VkLmFwcGVuZENoaWxkKGxpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaXRlbS51c2VkSW4uZm9yRWFjaCgoZW50cnkpID0+IHtcbiAgICAgICAgY29uc3QgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgICBsaS50ZXh0Q29udGVudCA9IGVudHJ5O1xuICAgICAgICBsaS5jbGFzc05hbWUgPSAndGV4dC14cyB0ZXh0LXNsYXRlLTYwMCc7XG4gICAgICAgIGRldGFpbFVzZWQuYXBwZW5kQ2hpbGQobGkpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IHVwZGF0ZURldGFpbEFjdGlvbnMgPSAoc2F2aW5nKSA9PiB7XG4gICAgICBpZiAoIWRldGFpbFNhdmVCdXR0b24pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHVwbG9hZE1vZGUpIHtcbiAgICAgICAgZGV0YWlsU2F2ZUJ1dHRvbi50ZXh0Q29udGVudCA9IHNhdmluZyA/ICdUXHUwMEU5bFx1MDBFOXZlcnNlbWVudFx1MjAyNicgOiAnVFx1MDBFOWxcdTAwRTl2ZXJzZXInO1xuICAgICAgICBkZXRhaWxTYXZlQnV0dG9uLmRpc2FibGVkID0gc2F2aW5nIHx8ICFwZW5kaW5nVXBsb2FkRmlsZTtcbiAgICAgICAgaWYgKGRldGFpbERlbGV0ZUJ1dHRvbikge1xuICAgICAgICAgIGRldGFpbERlbGV0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBkZXRhaWxTYXZlQnV0dG9uLnRleHRDb250ZW50ID0gc2F2aW5nID8gJ0VucmVnaXN0cmVtZW50XHUyMDI2JyA6ICdFbnJlZ2lzdHJlcic7XG4gICAgICBkZXRhaWxTYXZlQnV0dG9uLmRpc2FibGVkID0gc2F2aW5nIHx8ICFkZXRhaWxEaXJ0eTtcbiAgICAgIGlmIChkZXRhaWxEZWxldGVCdXR0b24pIHtcbiAgICAgICAgZGV0YWlsRGVsZXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICBkZXRhaWxEZWxldGVCdXR0b24uZGlzYWJsZWQgPSAhYWN0aXZlTWVkaWFJZDtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3Qgc2VsZWN0TWVkaWEgPSAobWVkaWFJZCkgPT4ge1xuICAgICAgY29uc3QgaXRlbSA9IG1lZGlhSXRlbXMuZmluZCgoZW50cnkpID0+IGVudHJ5LmlkID09PSBtZWRpYUlkKTtcbiAgICAgIGlmICghaXRlbSkge1xuICAgICAgICByZXNldERldGFpbFBhbmVsKCk7XG4gICAgICAgIHJlbmRlckdyaWQoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY2xlYXJVcGxvYWRTdGF0ZSgpO1xuICAgICAgYWN0aXZlTWVkaWFJZCA9IGl0ZW0uaWQ7XG4gICAgICBkZXRhaWxEaXJ0eSA9IGZhbHNlO1xuICAgICAgdXBkYXRlRGV0YWlsQWN0aW9ucyhmYWxzZSk7XG4gICAgICByZW5kZXJHcmlkKCk7XG4gICAgICBkZXRhaWxFbXB0eT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBkZXRhaWxQYW5lbD8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBpZiAoZGV0YWlsUHJldmlldykge1xuICAgICAgICBpZiAoaXNJbWFnZVR5cGUoaXRlbSkpIHtcbiAgICAgICAgICBkZXRhaWxQcmV2aWV3LmlubmVySFRNTCA9IGA8aW1nIHNyYz1cIiR7aXRlbS5wYXRofVwiIGFsdD1cIiR7aXRlbS5hbHQgfHwgaXRlbS5maWxlbmFtZX1cIiBjbGFzcz1cImgtZnVsbCB3LWZ1bGwgcm91bmRlZC0yeGwgb2JqZWN0LWNvdmVyXCIgLz5gO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRldGFpbFByZXZpZXcuaW5uZXJIVE1MID1cbiAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiZmxleCBoLWZ1bGwgdy1mdWxsIGZsZXgtY29sIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBnYXAtMSB0ZXh0LXNsYXRlLTQwMFwiPjxzcGFuIGNsYXNzPVwidGV4dC0zeGxcIj5cdUQ4M0RcdURDQzQ8L3NwYW4+PHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIGZvbnQtc2VtaWJvbGRcIj5Eb2N1bWVudDwvc3Bhbj48L2Rpdj4nO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBkZXRhaWxOYW1lICYmIChkZXRhaWxOYW1lLnRleHRDb250ZW50ID0gaXRlbS5maWxlbmFtZSB8fCAnRmljaGllcicpO1xuICAgICAgZGV0YWlsVHlwZSAmJiAoZGV0YWlsVHlwZS50ZXh0Q29udGVudCA9IGZvcm1hdFR5cGVMYWJlbChpdGVtKSk7XG4gICAgICBkZXRhaWxTaXplICYmIChkZXRhaWxTaXplLnRleHRDb250ZW50ID0gZm9ybWF0RmlsZVNpemUoaXRlbS5zaXplKSk7XG4gICAgICBpZiAoZGV0YWlsQWx0SW5wdXQpIHtcbiAgICAgICAgZGV0YWlsQWx0SW5wdXQudmFsdWUgPSBpdGVtLmFsdCB8fCAnJztcbiAgICAgIH1cbiAgICAgIGRldGFpbFBhdGggJiYgKGRldGFpbFBhdGgudGV4dENvbnRlbnQgPSBpdGVtLnBhdGggfHwgJ1x1MjAxNCcpO1xuICAgICAgcmVuZGVyVXNlZEluKGl0ZW0pO1xuICAgIH07XG5cbiAgICBjb25zdCBzaG93VXBsb2FkUHJldmlldyA9IChmaWxlKSA9PiB7XG4gICAgICBpZiAoIWZpbGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdXBsb2FkTW9kZSA9IHRydWU7XG4gICAgICBkZXRhaWxEaXJ0eSA9IGZhbHNlO1xuICAgICAgYWN0aXZlTWVkaWFJZCA9IG51bGw7XG4gICAgICBkZXRhaWxFbXB0eT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBkZXRhaWxQYW5lbD8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBpZiAodXBsb2FkUHJldmlld1VybCkge1xuICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKHVwbG9hZFByZXZpZXdVcmwpO1xuICAgICAgfVxuICAgICAgdXBsb2FkUHJldmlld1VybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZSk7XG4gICAgICBpZiAoZGV0YWlsUHJldmlldykge1xuICAgICAgICBkZXRhaWxQcmV2aWV3LmlubmVySFRNTCA9IGA8aW1nIHNyYz1cIiR7dXBsb2FkUHJldmlld1VybH1cIiBhbHQ9XCIke2ZpbGUubmFtZX1cIiBjbGFzcz1cImgtZnVsbCB3LWZ1bGwgcm91bmRlZC0yeGwgb2JqZWN0LWNvdmVyXCIgLz5gO1xuICAgICAgfVxuICAgICAgZGV0YWlsTmFtZSAmJiAoZGV0YWlsTmFtZS50ZXh0Q29udGVudCA9IGZpbGUubmFtZSk7XG4gICAgICBkZXRhaWxUeXBlICYmIChkZXRhaWxUeXBlLnRleHRDb250ZW50ID0gZm9ybWF0VHlwZUxhYmVsKHsgdHlwZTogZmlsZS50eXBlLCBmaWxlbmFtZTogZmlsZS5uYW1lIH0pKTtcbiAgICAgIGRldGFpbFNpemUgJiYgKGRldGFpbFNpemUudGV4dENvbnRlbnQgPSBmb3JtYXRGaWxlU2l6ZShmaWxlLnNpemUpKTtcbiAgICAgIGlmIChkZXRhaWxBbHRJbnB1dCAmJiAhZGV0YWlsQWx0SW5wdXQudmFsdWUudHJpbSgpKSB7XG4gICAgICAgIGRldGFpbEFsdElucHV0LnZhbHVlID0gZmlsZS5uYW1lLnJlcGxhY2UoL1xcLlteLl0rJC8sICcnKS5yZXBsYWNlKC9bLV9dL2csICcgJyk7XG4gICAgICB9XG4gICAgICBkZXRhaWxQYXRoICYmIChkZXRhaWxQYXRoLnRleHRDb250ZW50ID0gJ0VuIGF0dGVudGUgZGUgdFx1MDBFOWxcdTAwRTl2ZXJzZW1lbnQnKTtcbiAgICAgIGlmIChkZXRhaWxVc2VkKSB7XG4gICAgICAgIGRldGFpbFVzZWQuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgIGNvbnN0IGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgbGkudGV4dENvbnRlbnQgPSAnTm9uIHV0aWxpc1x1MDBFOSc7XG4gICAgICAgIGxpLmNsYXNzTmFtZSA9ICd0ZXh0LXhzIHRleHQtc2xhdGUtNDAwJztcbiAgICAgICAgZGV0YWlsVXNlZC5hcHBlbmRDaGlsZChsaSk7XG4gICAgICB9XG4gICAgICB1cGRhdGVEZXRhaWxBY3Rpb25zKGZhbHNlKTtcbiAgICB9O1xuXG4gICAgY29uc3QgYXBwbHlGaWx0ZXJzID0gKCkgPT4ge1xuICAgICAgY29uc3QgdHlwZUZpbHRlciA9IGZpbHRlclR5cGU/LnZhbHVlIHx8ICdhbGwnO1xuICAgICAgaWYgKHR5cGVGaWx0ZXIgPT09ICdhbGwnKSB7XG4gICAgICAgIGZpbHRlcmVkSXRlbXMgPSBbLi4ubWVkaWFJdGVtc107XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmaWx0ZXJlZEl0ZW1zID0gbWVkaWFJdGVtcy5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0uZ3JvdXBUeXBlID09PSB0eXBlRmlsdGVyKTtcbiAgICAgIH1cbiAgICAgIGlmICghZmlsdGVyZWRJdGVtcy5zb21lKChpdGVtKSA9PiBpdGVtLmlkID09PSBhY3RpdmVNZWRpYUlkKSkge1xuICAgICAgICByZXNldERldGFpbFBhbmVsKCk7XG4gICAgICB9XG4gICAgICB1cGRhdGVDb3VudEJhZGdlKCk7XG4gICAgICByZW5kZXJHcmlkKCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGxvYWRNZWRpYSA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghbWVkaWFBcGlCYXNlKSB7XG4gICAgICAgIGVtcHR5U3RhdGU/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKG1lZGlhQXBpQmFzZSwge1xuICAgICAgICAgIGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ltcG9zc2libGUgZGUgY2hhcmdlciBsZXMgbVx1MDBFOWRpYXMuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoeyBpdGVtczogW10gfSkpO1xuICAgICAgICBtZWRpYUl0ZW1zID0gQXJyYXkuaXNBcnJheShwYXlsb2FkLml0ZW1zKVxuICAgICAgICAgID8gcGF5bG9hZC5pdGVtcy5tYXAoKGl0ZW0pID0+ICh7IC4uLml0ZW0sIGdyb3VwVHlwZTogZGVyaXZlR3JvdXBUeXBlKGl0ZW0pIH0pKVxuICAgICAgICAgIDogW107XG4gICAgICAgIGFwcGx5RmlsdGVycygpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1ttZWRpYV0gbG9hZCBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgY2hhcmdlciBsZXMgbVx1MDBFOWRpYXMuJyk7XG4gICAgICAgIG1lZGlhSXRlbXMgPSBbXTtcbiAgICAgICAgYXBwbHlGaWx0ZXJzKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGZpbHRlclR5cGU/LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgICAgIGFwcGx5RmlsdGVycygpO1xuICAgIH0pO1xuICAgIGRldGFpbEFsdElucHV0Py5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICAgIGlmICh1cGxvYWRNb2RlKSB7XG4gICAgICAgIHVwZGF0ZURldGFpbEFjdGlvbnMoZmFsc2UpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWFjdGl2ZU1lZGlhSWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZGV0YWlsRGlydHkgPSB0cnVlO1xuICAgICAgdXBkYXRlRGV0YWlsQWN0aW9ucyhmYWxzZSk7XG4gICAgfSk7XG5cbiAgICBjb25zdCBoYW5kbGVGaWxlU2VsZWN0aW9uID0gKGZpbGUpID0+IHtcbiAgICAgIGlmICghZmlsZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWZpbGUudHlwZS5zdGFydHNXaXRoKCdpbWFnZS8nKSkge1xuICAgICAgICBzaG93VG9hc3QoJ1NldWxlcyBsZXMgaW1hZ2VzIHNvbnQgYWNjZXB0XHUwMEU5ZXMgcG91ciBsZSBtb21lbnQuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChmaWxlLnNpemUgPiA0ICogMTAyNCAqIDEwMjQpIHtcbiAgICAgICAgc2hvd1RvYXN0KCdGaWNoaWVyIHRyb3Agdm9sdW1pbmV1eCAoNCBNbyBtYXgpLicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwZW5kaW5nVXBsb2FkRmlsZSA9IGZpbGU7XG4gICAgICBzaG93VXBsb2FkUHJldmlldyhmaWxlKTtcbiAgICAgIGlmICh1cGxvYWRTdGF0dXMpIHtcbiAgICAgICAgdXBsb2FkU3RhdHVzLnRleHRDb250ZW50ID0gYCR7ZmlsZS5uYW1lfSBcdTAwQjcgJHtmb3JtYXRGaWxlU2l6ZShmaWxlLnNpemUpfWA7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHJlYWRGaWxlQXNCYXNlNjQgPSAoZmlsZSkgPT5cbiAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgICAgcmVhZGVyLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSByZWFkZXIucmVzdWx0IHx8ICcnO1xuICAgICAgICAgIGNvbnN0IFssIGJhc2U2NCA9ICcnXSA9IFN0cmluZyhyZXN1bHQpLnNwbGl0KCcsJyk7XG4gICAgICAgICAgcmVzb2x2ZShiYXNlNjQpO1xuICAgICAgICB9O1xuICAgICAgICByZWFkZXIub25lcnJvciA9ICgpID0+IHJlamVjdChuZXcgRXJyb3IoJ0ltcG9zc2libGUgZGUgbGlyZSBjZSBmaWNoaWVyLicpKTtcbiAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XG4gICAgICB9KTtcblxuICAgIGNvbnN0IHVwbG9hZFNlbGVjdGVkTWVkaWEgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXBlbmRpbmdVcGxvYWRGaWxlIHx8ICFtZWRpYUFwaUJhc2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdXBsb2FkSW5Qcm9ncmVzcyA9IHRydWU7XG4gICAgICB1cGRhdGVEZXRhaWxBY3Rpb25zKHRydWUpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgYmFzZTY0ID0gYXdhaXQgcmVhZEZpbGVBc0Jhc2U2NChwZW5kaW5nVXBsb2FkRmlsZSk7XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgICAgZmlsZW5hbWU6IHBlbmRpbmdVcGxvYWRGaWxlLm5hbWUsXG4gICAgICAgICAgdHlwZTogcGVuZGluZ1VwbG9hZEZpbGUudHlwZSxcbiAgICAgICAgICBzaXplOiBwZW5kaW5nVXBsb2FkRmlsZS5zaXplLFxuICAgICAgICAgIGFsdDogZGV0YWlsQWx0SW5wdXQ/LnZhbHVlIHx8ICcnLFxuICAgICAgICAgIGRhdGE6IGJhc2U2NCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChtZWRpYUFwaUJhc2UsIHtcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBjb25zdCBlcnJvclBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yUGF5bG9hZC5tZXNzYWdlIHx8ICdVcGxvYWQgaW1wb3NzaWJsZS4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzYXZlZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgc2F2ZWQuZ3JvdXBUeXBlID0gZGVyaXZlR3JvdXBUeXBlKHNhdmVkKTtcbiAgICAgICAgbWVkaWFJdGVtcyA9IFsuLi5tZWRpYUl0ZW1zLCBzYXZlZF07XG4gICAgICAgIGhpZ2hsaWdodE1lZGlhSWQgPSBzYXZlZC5pZDtcbiAgICAgICAgYXBwbHlGaWx0ZXJzKCk7XG4gICAgICAgIHNlbGVjdE1lZGlhKHNhdmVkLmlkKTtcbiAgICAgICAgc2hvd1RvYXN0KCdNXHUwMEU5ZGlhIGFqb3V0XHUwMEU5Jyk7XG4gICAgICAgIGNsZWFyVXBsb2FkU3RhdGUoKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbbWVkaWFdIHVwbG9hZCBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgdFx1MDBFOWxcdTAwRTl2ZXJzZXIgY2UgbVx1MDBFOWRpYS4nKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHVwbG9hZEluUHJvZ3Jlc3MgPSBmYWxzZTtcbiAgICAgICAgcGVuZGluZ1VwbG9hZEZpbGUgPSBudWxsO1xuICAgICAgICB1cGRhdGVEZXRhaWxBY3Rpb25zKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdXBsb2FkT3BlbkJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBmaWxlSW5wdXQ/LmNsaWNrKCkpO1xuICAgIGZpbGVJbnB1dD8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICAgICAgaWYgKGZpbGVJbnB1dC5maWxlcyAmJiBmaWxlSW5wdXQuZmlsZXNbMF0pIHtcbiAgICAgICAgaGFuZGxlRmlsZVNlbGVjdGlvbihmaWxlSW5wdXQuZmlsZXNbMF0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IGNsb3NlRGVsZXRlTW9kYWwgPSAoKSA9PiB7XG4gICAgICBpZiAoIWRlbGV0ZU1vZGFsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGRlbGV0ZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgZGVsZXRlTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnZmxleCcpO1xuICAgIH07XG5cbiAgICBjb25zdCBvcGVuRGVsZXRlTW9kYWwgPSAoKSA9PiB7XG4gICAgICBpZiAoIWFjdGl2ZU1lZGlhSWQgfHwgdXBsb2FkTW9kZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoZGVsZXRlTW9kYWwpIHtcbiAgICAgICAgZGVsZXRlTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIGRlbGV0ZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2ZsZXgnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gRmFsbGJhY2sgc2kgYXVjdW5lIG1vZGFsZSBuJ2VzdCBkaXNwb25pYmxlXG4gICAgICBpZiAod2luZG93LmNvbmZpcm0oJ1N1cHByaW1lciBjZSBtXHUwMEU5ZGlhID8nKSkge1xuICAgICAgICBkZWxldGVBY3RpdmVNZWRpYSgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBkZWxldGVBY3RpdmVNZWRpYSA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghYWN0aXZlTWVkaWFJZCB8fCAhbWVkaWFBcGlCYXNlKSB7XG4gICAgICAgIGNsb3NlRGVsZXRlTW9kYWwoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgZGlzYWJsZUJ1dHRvbnMgPSAoKSA9PiB7XG4gICAgICAgIGlmIChkZXRhaWxEZWxldGVCdXR0b24pIHtcbiAgICAgICAgICBkZXRhaWxEZWxldGVCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkZWxldGVDb25maXJtQnV0dG9uKSB7XG4gICAgICAgICAgZGVsZXRlQ29uZmlybUJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgICAgZGVsZXRlQ29uZmlybUJ1dHRvbi50ZXh0Q29udGVudCA9ICdTdXBwcmVzc2lvblx1MjAyNic7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBjb25zdCBlbmFibGVCdXR0b25zID0gKCkgPT4ge1xuICAgICAgICBpZiAoZGV0YWlsRGVsZXRlQnV0dG9uKSB7XG4gICAgICAgICAgZGV0YWlsRGVsZXRlQnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlbGV0ZUNvbmZpcm1CdXR0b24pIHtcbiAgICAgICAgICBkZWxldGVDb25maXJtQnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgZGVsZXRlQ29uZmlybUJ1dHRvbi50ZXh0Q29udGVudCA9ICdTdXBwcmltZXInO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgZGlzYWJsZUJ1dHRvbnMoKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgICAgYCR7bWVkaWFBcGlCYXNlfS8ke2VuY29kZVVSSUNvbXBvbmVudChhY3RpdmVNZWRpYUlkKX1gLFxuICAgICAgICAgIHsgbWV0aG9kOiAnREVMRVRFJyB9LFxuICAgICAgICApO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocGF5bG9hZC5tZXNzYWdlIHx8ICdTdXBwcmVzc2lvbiBpbXBvc3NpYmxlLicpO1xuICAgICAgICB9XG4gICAgICAgIG1lZGlhSXRlbXMgPSBtZWRpYUl0ZW1zLmZpbHRlcigoaXRlbSkgPT4gaXRlbS5pZCAhPT0gYWN0aXZlTWVkaWFJZCk7XG4gICAgICAgIGZpbHRlcmVkSXRlbXMgPSBmaWx0ZXJlZEl0ZW1zLmZpbHRlcigoaXRlbSkgPT4gaXRlbS5pZCAhPT0gYWN0aXZlTWVkaWFJZCk7XG4gICAgICAgIHNob3dUb2FzdCgnTVx1MDBFOWRpYSBzdXBwcmltXHUwMEU5Jyk7XG4gICAgICAgIHJlc2V0RGV0YWlsUGFuZWwoKTtcbiAgICAgICAgdXBkYXRlQ291bnRCYWRnZSgpO1xuICAgICAgICByZW5kZXJHcmlkKCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW21lZGlhXSBkZWxldGUgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIHN1cHByaW1lciBjZSBtXHUwMEU5ZGlhLicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgZW5hYmxlQnV0dG9ucygpO1xuICAgICAgICBjbG9zZURlbGV0ZU1vZGFsKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGRlbGV0ZUNhbmNlbEJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZURlbGV0ZU1vZGFsKTtcbiAgICBkZWxldGVNb2RhbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIGlmIChldmVudC50YXJnZXQgPT09IGRlbGV0ZU1vZGFsKSB7XG4gICAgICAgIGNsb3NlRGVsZXRlTW9kYWwoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGRlbGV0ZUNvbmZpcm1CdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gZGVsZXRlQWN0aXZlTWVkaWEoKSk7XG4gICAgZGV0YWlsRGVsZXRlQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5EZWxldGVNb2RhbCk7XG5cbiAgICBkZXRhaWxTYXZlQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGlmICh1cGxvYWRNb2RlKSB7XG4gICAgICAgIHVwbG9hZFNlbGVjdGVkTWVkaWEoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFhY3RpdmVNZWRpYUlkIHx8ICFtZWRpYUFwaUJhc2UgfHwgIWRldGFpbEFsdElucHV0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHVwZGF0ZURldGFpbEFjdGlvbnModHJ1ZSk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBwYXlsb2FkID0geyBhbHQ6IGRldGFpbEFsdElucHV0LnZhbHVlIHx8ICcnIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgICAgYCR7bWVkaWFBcGlCYXNlfS8ke2VuY29kZVVSSUNvbXBvbmVudChhY3RpdmVNZWRpYUlkKX1gLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICAgIH0sXG4gICAgICAgICk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBjb25zdCBlcnJvclBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yUGF5bG9hZC5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIG1ldHRyZSBcdTAwRTAgam91ciBjZSBtXHUwMEU5ZGlhLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHVwZGF0ZWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIG1lZGlhSXRlbXMgPSBtZWRpYUl0ZW1zLm1hcCgoaXRlbSkgPT5cbiAgICAgICAgICBpdGVtLmlkID09PSBhY3RpdmVNZWRpYUlkID8geyAuLi5pdGVtLCAuLi51cGRhdGVkIH0gOiBpdGVtLFxuICAgICAgICApO1xuICAgICAgICBmaWx0ZXJlZEl0ZW1zID0gZmlsdGVyZWRJdGVtcy5tYXAoKGl0ZW0pID0+XG4gICAgICAgICAgaXRlbS5pZCA9PT0gYWN0aXZlTWVkaWFJZCA/IHsgLi4uaXRlbSwgLi4udXBkYXRlZCB9IDogaXRlbSxcbiAgICAgICAgKTtcbiAgICAgICAgZGV0YWlsRGlydHkgPSBmYWxzZTtcbiAgICAgICAgdXBkYXRlRGV0YWlsQWN0aW9ucyhmYWxzZSk7XG4gICAgICAgIHNob3dUb2FzdCgnTVx1MDBFOWRpYSBtaXMgXHUwMEUwIGpvdXInKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbbWVkaWFdIHVwZGF0ZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UgfHwgJ1x1MDBDOWNoZWMgZGUgbGEgbWlzZSBcdTAwRTAgam91ci4nKTtcbiAgICAgICAgdXBkYXRlRGV0YWlsQWN0aW9ucyhmYWxzZSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBsb2FkTWVkaWEoKTtcbiAgfVxuXG4gIC8vIFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFxuICAvLyBBSSBDSEFUIC0gQXNzaXN0YW50IElBIGNvbnRleHR1ZWxcbiAgLy8gXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXG5cbiAgY29uc3QgYWlDaGF0VG9nZ2xlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FpLWNoYXQtdG9nZ2xlJyk7XG4gIGNvbnN0IGFpQ2hhdFBhbmVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FpLWNoYXQtcGFuZWwnKTtcbiAgY29uc3QgYWlDaGF0T3ZlcmxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhaS1jaGF0LW92ZXJsYXknKTtcbiAgY29uc3QgYWlDaGF0Q2xvc2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWktY2hhdC1jbG9zZScpO1xuICBjb25zdCBhaUNoYXRDbGVhciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhaS1jaGF0LWNsZWFyJyk7XG4gIGNvbnN0IGFpQ2hhdEZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWktY2hhdC1mb3JtJyk7XG4gIGNvbnN0IGFpQ2hhdElucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FpLWNoYXQtaW5wdXQnKTtcbiAgY29uc3QgYWlDaGF0TWVzc2FnZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWktY2hhdC1tZXNzYWdlcycpO1xuICBjb25zdCBhaUNoYXRTdGF0dXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWktY2hhdC1zdGF0dXMnKTtcbiAgY29uc3QgYWlDaGF0Tm9BcGkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWktY2hhdC1uby1hcGknKTtcbiAgY29uc3QgYWlRdWlja0J1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1haS1xdWlja10nKTtcblxuICBsZXQgYWlDaGF0T3BlbiA9IGZhbHNlO1xuICBsZXQgYWlJc0xvYWRpbmcgPSBmYWxzZTtcbiAgbGV0IGFpQ29uZmlnQ2hlY2tlZCA9IGZhbHNlO1xuICBsZXQgYWlIYXNBcGlLZXkgPSBmYWxzZTtcblxuICAvKipcbiAgICogT3V2cmUgbGUgcGFuZWwgZGUgY2hhdCBJQVxuICAgKi9cbiAgZnVuY3Rpb24gb3BlbkFJQ2hhdCgpIHtcbiAgICBpZiAoIWFpQ2hhdFBhbmVsKSByZXR1cm47XG4gICAgYWlDaGF0T3BlbiA9IHRydWU7XG4gICAgYWlDaGF0UGFuZWwuY2xhc3NMaXN0LnJlbW92ZSgndHJhbnNsYXRlLXgtZnVsbCcpO1xuICAgIGFpQ2hhdFBhbmVsLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAnZmFsc2UnKTtcbiAgICBhaUNoYXRPdmVybGF5Py5jbGFzc0xpc3QucmVtb3ZlKCdvcGFjaXR5LTAnLCAncG9pbnRlci1ldmVudHMtbm9uZScpO1xuICAgIGFpQ2hhdE92ZXJsYXk/LmNsYXNzTGlzdC5hZGQoJ29wYWNpdHktMTAwJyk7XG4gICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICBhaUNoYXRJbnB1dD8uZm9jdXMoKTtcblxuICAgIC8vIFZcdTAwRTlyaWZpZXIgbGEgY29uZmlnIEFJIGF1IHByZW1pZXIgb3V2ZXJ0dXJlXG4gICAgaWYgKCFhaUNvbmZpZ0NoZWNrZWQpIHtcbiAgICAgIGNoZWNrQUlDb25maWcoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRmVybWUgbGUgcGFuZWwgZGUgY2hhdCBJQVxuICAgKi9cbiAgZnVuY3Rpb24gY2xvc2VBSUNoYXQoKSB7XG4gICAgaWYgKCFhaUNoYXRQYW5lbCkgcmV0dXJuO1xuICAgIGFpQ2hhdE9wZW4gPSBmYWxzZTtcbiAgICBhaUNoYXRQYW5lbC5jbGFzc0xpc3QuYWRkKCd0cmFuc2xhdGUteC1mdWxsJyk7XG4gICAgYWlDaGF0UGFuZWwuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJyk7XG4gICAgYWlDaGF0T3ZlcmxheT8uY2xhc3NMaXN0LmFkZCgnb3BhY2l0eS0wJywgJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICBhaUNoYXRPdmVybGF5Py5jbGFzc0xpc3QucmVtb3ZlKCdvcGFjaXR5LTEwMCcpO1xuICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnb3ZlcmZsb3ctaGlkZGVuJyk7XG4gIH1cblxuICAvKipcbiAgICogVlx1MDBFOXJpZmllIHNpIGwnQVBJIEFJIGVzdCBjb25maWd1clx1MDBFOWVcbiAgICovXG4gIGFzeW5jIGZ1bmN0aW9uIGNoZWNrQUlDb25maWcoKSB7XG4gICAgY29uc3Qgc2l0ZVNsdWcgPSBzdHJpcExlYWRpbmdTbGFzaChzdG9yZWRTaXRlLnNsdWcgfHwgJycpO1xuICAgIGlmICghc2l0ZVNsdWcpIHtcbiAgICAgIGFpQ2hhdE5vQXBpPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2l0ZVNsdWcpfS9jb25maWcvYWlgKTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHRocm93IG5ldyBFcnJvcignQ29uZmlnIGNoZWNrIGZhaWxlZCcpO1xuICAgICAgY29uc3QgY29uZmlnID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgYWlDb25maWdDaGVja2VkID0gdHJ1ZTtcbiAgICAgIGFpSGFzQXBpS2V5ID0gY29uZmlnLmhhc0FwaUtleTtcbiAgICAgIFxuICAgICAgaWYgKCFjb25maWcuZW5hYmxlZCB8fCAhY29uZmlnLmhhc0FwaUtleSkge1xuICAgICAgICBhaUNoYXROb0FwaT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhaUNoYXROb0FwaT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIC8vIENoYXJnZXIgbCdoaXN0b3JpcXVlXG4gICAgICAgIGxvYWRBSUNoYXRIaXN0b3J5KCk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdbQUldIENvbmZpZyBjaGVjayBmYWlsZWQ6JywgZXJyKTtcbiAgICAgIGFpQ2hhdE5vQXBpPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2hhcmdlIGwnaGlzdG9yaXF1ZSBkZSBjb252ZXJzYXRpb25cbiAgICovXG4gIGFzeW5jIGZ1bmN0aW9uIGxvYWRBSUNoYXRIaXN0b3J5KCkge1xuICAgIGNvbnN0IHNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goc3RvcmVkU2l0ZS5zbHVnIHx8ICcnKTtcbiAgICBpZiAoIXNpdGVTbHVnIHx8ICFhaUNoYXRNZXNzYWdlcykgcmV0dXJuO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNpdGVTbHVnKX0vYWkvaGlzdG9yeWApO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykgcmV0dXJuO1xuICAgICAgXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgaWYgKGRhdGEubWVzc2FnZXMgJiYgZGF0YS5tZXNzYWdlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIC8vIEVmZmFjZXIgbGUgbWVzc2FnZSBkZSBiaWVudmVudWVcbiAgICAgICAgY29uc3Qgd2VsY29tZU1zZyA9IGFpQ2hhdE1lc3NhZ2VzLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFpLXdlbGNvbWVdJyk7XG4gICAgICAgIGlmICh3ZWxjb21lTXNnKSB3ZWxjb21lTXNnLnJlbW92ZSgpO1xuICAgICAgICBcbiAgICAgICAgLy8gQWZmaWNoZXIgbGVzIG1lc3NhZ2VzXG4gICAgICAgIGRhdGEubWVzc2FnZXMuZm9yRWFjaChtc2cgPT4ge1xuICAgICAgICAgIGFwcGVuZEFJTWVzc2FnZShtc2cuY29udGVudCwgbXNnLnJvbGUgPT09ICd1c2VyJyA/ICd1c2VyJyA6ICdhc3Npc3RhbnQnKTtcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICAvLyBTY3JvbGwgdmVycyBsZSBiYXNcbiAgICAgICAgYWlDaGF0TWVzc2FnZXMuc2Nyb2xsVG9wID0gYWlDaGF0TWVzc2FnZXMuc2Nyb2xsSGVpZ2h0O1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignW0FJXSBIaXN0b3J5IGxvYWQgZmFpbGVkOicsIGVycik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFqb3V0ZSB1biBtZXNzYWdlIGF1IGNoYXRcbiAgICovXG4gIGZ1bmN0aW9uIGFwcGVuZEFJTWVzc2FnZShjb250ZW50LCByb2xlID0gJ2Fzc2lzdGFudCcpIHtcbiAgICBpZiAoIWFpQ2hhdE1lc3NhZ2VzKSByZXR1cm47XG4gICAgXG4gICAgY29uc3QgbXNnRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgbXNnRGl2LmNsYXNzTmFtZSA9ICdmbGV4IGdhcC0zJztcbiAgICBcbiAgICBpZiAocm9sZSA9PT0gJ3VzZXInKSB7XG4gICAgICBtc2dEaXYuaW5uZXJIVE1MID0gYFxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleC0xXCI+PC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJtYXgtdy1bODAlXSBiZy12aW9sZXQtNjAwIHRleHQtd2hpdGUgcm91bmRlZC0yeGwgcm91bmRlZC10ci1ub25lIHAtM1wiPlxuICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1zbSB3aGl0ZXNwYWNlLXByZS13cmFwXCI+JHtlc2NhcGVIdG1sKGNvbnRlbnQpfTwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJ3LTggaC04IHJvdW5kZWQtZnVsbCBiZy1zbGF0ZS0yMDAgZmxleC1zaHJpbmstMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgIDxzdmcgY2xhc3M9XCJ3LTQgaC00IHRleHQtc2xhdGUtNTAwXCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICA8cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xNiA3YTQgNCAwIDExLTggMCA0IDQgMCAwMTggMHpNMTIgMTRhNyA3IDAgMDAtNyA3aDE0YTcgNyAwIDAwLTctN3pcIi8+XG4gICAgICAgICAgPC9zdmc+XG4gICAgICAgIDwvZGl2PlxuICAgICAgYDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRm9ybWF0dGVyIGxlIGNvbnRlbnUgTWFya2Rvd24gYmFzaXF1ZVxuICAgICAgY29uc3QgZm9ybWF0dGVkQ29udGVudCA9IGZvcm1hdEFJUmVzcG9uc2UoY29udGVudCk7XG4gICAgICBtc2dEaXYuaW5uZXJIVE1MID0gYFxuICAgICAgICA8ZGl2IGNsYXNzPVwidy04IGgtOCByb3VuZGVkLWZ1bGwgYmctZ3JhZGllbnQtdG8tYnIgZnJvbS12aW9sZXQtNTAwIHRvLWluZGlnby02MDAgZmxleC1zaHJpbmstMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgIDxzdmcgY2xhc3M9XCJ3LTQgaC00IHRleHQtd2hpdGVcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgIDxwYXRoIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTkuNjYzIDE3aDQuNjczTTEyIDN2MW02LjM2NCAxLjYzNmwtLjcwNy43MDdNMjEgMTJoLTFNNCAxMkgzbTMuMzQzLTUuNjU3bC0uNzA3LS43MDdtMi44MjggOS45YTUgNSAwIDExNy4wNzIgMGwtLjU0OC41NDdBMy4zNzQgMy4zNzQgMCAwMDE0IDE4LjQ2OVYxOWEyIDIgMCAxMS00IDB2LS41MzFjMC0uODk1LS4zNTYtMS43NTQtLjk4OC0yLjM4NmwtLjU0OC0uNTQ3elwiLz5cbiAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4LTEgYmctc2xhdGUtNTAgcm91bmRlZC0yeGwgcm91bmRlZC10bC1ub25lIHAtMyBvdmVyZmxvdy14LWF1dG9cIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC1zbSB0ZXh0LXNsYXRlLTcwMCBwcm9zZSBwcm9zZS1zbSBtYXgtdy1ub25lIFsmPnByZV06Ymctc2xhdGUtODAwIFsmPnByZV06dGV4dC1zbGF0ZS0xMDAgWyY+cHJlXTpyb3VuZGVkLWxnIFsmPnByZV06cC0zIFsmPnByZV06b3ZlcmZsb3cteC1hdXRvIFsmPmNvZGVdOmJnLXNsYXRlLTIwMCBbJj5jb2RlXTpweC0xIFsmPmNvZGVdOnJvdW5kZWRcIj4ke2Zvcm1hdHRlZENvbnRlbnR9PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgYDtcbiAgICB9XG4gICAgXG4gICAgYWlDaGF0TWVzc2FnZXMuYXBwZW5kQ2hpbGQobXNnRGl2KTtcbiAgICBhaUNoYXRNZXNzYWdlcy5zY3JvbGxUb3AgPSBhaUNoYXRNZXNzYWdlcy5zY3JvbGxIZWlnaHQ7XG4gIH1cblxuICAvKipcbiAgICogQWZmaWNoZSB1biBpbmRpY2F0ZXVyIGRlIGNoYXJnZW1lbnRcbiAgICovXG4gIGZ1bmN0aW9uIHNob3dBSUxvYWRpbmcoKSB7XG4gICAgaWYgKCFhaUNoYXRNZXNzYWdlcykgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0IGxvYWRpbmdEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBsb2FkaW5nRGl2LmNsYXNzTmFtZSA9ICdmbGV4IGdhcC0zJztcbiAgICBsb2FkaW5nRGl2LmlkID0gJ2FpLWxvYWRpbmctaW5kaWNhdG9yJztcbiAgICBsb2FkaW5nRGl2LmlubmVySFRNTCA9IGBcbiAgICAgIDxkaXYgY2xhc3M9XCJ3LTggaC04IHJvdW5kZWQtZnVsbCBiZy1ncmFkaWVudC10by1iciBmcm9tLXZpb2xldC01MDAgdG8taW5kaWdvLTYwMCBmbGV4LXNocmluay0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgIDxzdmcgY2xhc3M9XCJ3LTQgaC00IHRleHQtd2hpdGUgYW5pbWF0ZS1wdWxzZVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgIDxwYXRoIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTkuNjYzIDE3aDQuNjczTTEyIDN2MW02LjM2NCAxLjYzNmwtLjcwNy43MDdNMjEgMTJoLTFNNCAxMkgzbTMuMzQzLTUuNjU3bC0uNzA3LS43MDdtMi44MjggOS45YTUgNSAwIDExNy4wNzIgMGwtLjU0OC41NDdBMy4zNzQgMy4zNzQgMCAwMDE0IDE4LjQ2OVYxOWEyIDIgMCAxMS00IDB2LS41MzFjMC0uODk1LS4zNTYtMS43NTQtLjk4OC0yLjM4NmwtLjU0OC0uNTQ3elwiLz5cbiAgICAgICAgPC9zdmc+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJmbGV4LTEgYmctc2xhdGUtNTAgcm91bmRlZC0yeGwgcm91bmRlZC10bC1ub25lIHAtM1wiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwidy0yIGgtMiBiZy12aW9sZXQtNDAwIHJvdW5kZWQtZnVsbCBhbmltYXRlLWJvdW5jZVwiIHN0eWxlPVwiYW5pbWF0aW9uLWRlbGF5OiAwbXNcIj48L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwidy0yIGgtMiBiZy12aW9sZXQtNDAwIHJvdW5kZWQtZnVsbCBhbmltYXRlLWJvdW5jZVwiIHN0eWxlPVwiYW5pbWF0aW9uLWRlbGF5OiAxNTBtc1wiPjwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ3LTIgaC0yIGJnLXZpb2xldC00MDAgcm91bmRlZC1mdWxsIGFuaW1hdGUtYm91bmNlXCIgc3R5bGU9XCJhbmltYXRpb24tZGVsYXk6IDMwMG1zXCI+PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgYDtcbiAgICBcbiAgICBhaUNoYXRNZXNzYWdlcy5hcHBlbmRDaGlsZChsb2FkaW5nRGl2KTtcbiAgICBhaUNoYXRNZXNzYWdlcy5zY3JvbGxUb3AgPSBhaUNoYXRNZXNzYWdlcy5zY3JvbGxIZWlnaHQ7XG4gIH1cblxuICAvKipcbiAgICogQ2FjaGUgbCdpbmRpY2F0ZXVyIGRlIGNoYXJnZW1lbnRcbiAgICovXG4gIGZ1bmN0aW9uIGhpZGVBSUxvYWRpbmcoKSB7XG4gICAgY29uc3QgbG9hZGluZ0RpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhaS1sb2FkaW5nLWluZGljYXRvcicpO1xuICAgIGxvYWRpbmdEaXY/LnJlbW92ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEZvcm1hdGUgbGEgclx1MDBFOXBvbnNlIGRlIGwnSUEgKE1hcmtkb3duIGJhc2lxdWUpXG4gICAqL1xuICBmdW5jdGlvbiBmb3JtYXRBSVJlc3BvbnNlKHRleHQpIHtcbiAgICBpZiAoIXRleHQpIHJldHVybiAnJztcbiAgICBcbiAgICAvLyBFc2NhcGUgSFRNTCBkJ2Fib3JkXG4gICAgbGV0IGZvcm1hdHRlZCA9IGVzY2FwZUh0bWwodGV4dCk7XG4gICAgXG4gICAgLy8gQ29kZSBibG9ja3MgYGBgXG4gICAgZm9ybWF0dGVkID0gZm9ybWF0dGVkLnJlcGxhY2UoL2BgYChcXHcqKVxcbihbXFxzXFxTXSo/KWBgYC9nLCAobWF0Y2gsIGxhbmcsIGNvZGUpID0+IHtcbiAgICAgIHJldHVybiBgPHByZSBjbGFzcz1cImxhbmd1YWdlLSR7bGFuZyB8fCAndGV4dCd9XCI+PGNvZGU+JHtjb2RlLnRyaW0oKX08L2NvZGU+PC9wcmU+YDtcbiAgICB9KTtcbiAgICBcbiAgICAvLyBJbmxpbmUgY29kZSBgXG4gICAgZm9ybWF0dGVkID0gZm9ybWF0dGVkLnJlcGxhY2UoL2AoW15gXSspYC9nLCAnPGNvZGU+JDE8L2NvZGU+Jyk7XG4gICAgXG4gICAgLy8gQm9sZCAqKnRleHQqKlxuICAgIGZvcm1hdHRlZCA9IGZvcm1hdHRlZC5yZXBsYWNlKC9cXCpcXCooW14qXSspXFwqXFwqL2csICc8c3Ryb25nPiQxPC9zdHJvbmc+Jyk7XG4gICAgXG4gICAgLy8gSXRhbGljICp0ZXh0KlxuICAgIGZvcm1hdHRlZCA9IGZvcm1hdHRlZC5yZXBsYWNlKC9cXCooW14qXSspXFwqL2csICc8ZW0+JDE8L2VtPicpO1xuICAgIFxuICAgIC8vIFRpdHJlc1xuICAgIGZvcm1hdHRlZCA9IGZvcm1hdHRlZC5yZXBsYWNlKC9eIyMjICguKykkL2dtLCAnPGg0IGNsYXNzPVwiZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTkwMCBtdC0zIG1iLTFcIj4kMTwvaDQ+Jyk7XG4gICAgZm9ybWF0dGVkID0gZm9ybWF0dGVkLnJlcGxhY2UoL14jIyAoLispJC9nbSwgJzxoMyBjbGFzcz1cImZvbnQtc2VtaWJvbGQgdGV4dC1zbGF0ZS05MDAgbXQtMyBtYi0xXCI+JDE8L2gzPicpO1xuICAgIGZvcm1hdHRlZCA9IGZvcm1hdHRlZC5yZXBsYWNlKC9eIyAoLispJC9nbSwgJzxoMiBjbGFzcz1cImZvbnQtYm9sZCB0ZXh0LXNsYXRlLTkwMCBtdC0zIG1iLTJcIj4kMTwvaDI+Jyk7XG4gICAgXG4gICAgLy8gTGlzdGVzXG4gICAgZm9ybWF0dGVkID0gZm9ybWF0dGVkLnJlcGxhY2UoL14tICguKykkL2dtLCAnPGxpIGNsYXNzPVwibWwtNFwiPiQxPC9saT4nKTtcbiAgICBmb3JtYXR0ZWQgPSBmb3JtYXR0ZWQucmVwbGFjZSgvXihcXGQrKVxcLiAoLispJC9nbSwgJzxsaSBjbGFzcz1cIm1sLTRcIj4kMjwvbGk+Jyk7XG4gICAgXG4gICAgLy8gUGFyYWdyYXBoZXMgKGxpZ25lcyB2aWRlcylcbiAgICBmb3JtYXR0ZWQgPSBmb3JtYXR0ZWQucmVwbGFjZSgvXFxuXFxuL2csICc8L3A+PHAgY2xhc3M9XCJtYi0yXCI+Jyk7XG4gICAgZm9ybWF0dGVkID0gJzxwIGNsYXNzPVwibWItMlwiPicgKyBmb3JtYXR0ZWQgKyAnPC9wPic7XG4gICAgXG4gICAgLy8gTmV0dG95ZXIgbGVzIDxwPiB2aWRlc1xuICAgIGZvcm1hdHRlZCA9IGZvcm1hdHRlZC5yZXBsYWNlKC88cCBjbGFzcz1cIm1iLTJcIj48XFwvcD4vZywgJycpO1xuICAgIFxuICAgIHJldHVybiBmb3JtYXR0ZWQ7XG4gIH1cblxuICAvKipcbiAgICogXHUwMEM5Y2hhcHBlIGxlIEhUTUxcbiAgICovXG4gIGZ1bmN0aW9uIGVzY2FwZUh0bWwodGV4dCkge1xuICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGRpdi50ZXh0Q29udGVudCA9IHRleHQ7XG4gICAgcmV0dXJuIGRpdi5pbm5lckhUTUw7XG4gIH1cblxuICAvKipcbiAgICogRW52b2llIHVuIG1lc3NhZ2UgYXUgY2hhdCBJQVxuICAgKi9cbiAgYXN5bmMgZnVuY3Rpb24gc2VuZEFJTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgY29uc3Qgc2l0ZVNsdWcgPSBzdHJpcExlYWRpbmdTbGFzaChzdG9yZWRTaXRlLnNsdWcgfHwgJycpO1xuICAgIGlmICghbWVzc2FnZSB8fCAhc2l0ZVNsdWcgfHwgYWlJc0xvYWRpbmcpIHJldHVybjtcbiAgICBcbiAgICBhaUlzTG9hZGluZyA9IHRydWU7XG4gICAgYWlDaGF0SW5wdXQuZGlzYWJsZWQgPSB0cnVlO1xuICAgIFxuICAgIC8vIEVmZmFjZXIgbGUgbWVzc2FnZSBkZSBiaWVudmVudWUgYXUgcHJlbWllciBtZXNzYWdlXG4gICAgY29uc3Qgd2VsY29tZU1zZyA9IGFpQ2hhdE1lc3NhZ2VzPy5xdWVyeVNlbGVjdG9yKCdbZGF0YS1haS13ZWxjb21lXScpO1xuICAgIGlmICh3ZWxjb21lTXNnKSB3ZWxjb21lTXNnLnJlbW92ZSgpO1xuICAgIFxuICAgIC8vIEFmZmljaGVyIGxlIG1lc3NhZ2UgZGUgbCd1dGlsaXNhdGV1clxuICAgIGFwcGVuZEFJTWVzc2FnZShtZXNzYWdlLCAndXNlcicpO1xuICAgIFxuICAgIC8vIEFmZmljaGVyIGxlIGxvYWRlclxuICAgIHNob3dBSUxvYWRpbmcoKTtcbiAgICBcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzaXRlU2x1Zyl9L2FpL2NoYXRgLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBtZXNzYWdlIH0pXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgaGlkZUFJTG9hZGluZygpO1xuICAgICAgXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IGVycm9yID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IubWVzc2FnZSB8fCAnRXJyZXVyIGRlIGNvbW11bmljYXRpb24nKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIFxuICAgICAgaWYgKGRhdGEucmVzcG9uc2UpIHtcbiAgICAgICAgYXBwZW5kQUlNZXNzYWdlKGRhdGEucmVzcG9uc2UsICdhc3Npc3RhbnQnKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gR1x1MDBFOXJlciBsZXMgcHJvcG9zaXRpb25zIGQnXHUwMEU5ZGl0aW9uIGRlIHBhZ2VcbiAgICAgIGlmIChkYXRhLmVkaXRQcm9wb3NhbCkge1xuICAgICAgICBhcHBlbmRFZGl0UHJvcG9zYWwoZGF0YS5lZGl0UHJvcG9zYWwpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBHXHUwMEU5cmVyIGxlcyBwcm9wb3NpdGlvbnMgZGUgbW9kaWZpY2F0aW9uIGR1IHRoXHUwMEU4bWVcbiAgICAgIGlmIChkYXRhLnRoZW1lUHJvcG9zYWwpIHtcbiAgICAgICAgYXBwZW5kVGhlbWVQcm9wb3NhbChkYXRhLnRoZW1lUHJvcG9zYWwpO1xuICAgICAgfVxuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBoaWRlQUlMb2FkaW5nKCk7XG4gICAgICBhcHBlbmRBSU1lc3NhZ2UoYFx1Mjc0QyBFcnJldXI6ICR7ZXJyLm1lc3NhZ2V9YCwgJ2Fzc2lzdGFudCcpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBhaUlzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgYWlDaGF0SW5wdXQuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgIGFpQ2hhdElucHV0LmZvY3VzKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFmZmljaGUgdW5lIHByb3Bvc2l0aW9uIGQnXHUwMEU5ZGl0aW9uIGF2ZWMgYm91dG9ucyBkZSB2YWxpZGF0aW9uXG4gICAqL1xuICBmdW5jdGlvbiBhcHBlbmRFZGl0UHJvcG9zYWwocHJvcG9zYWwpIHtcbiAgICBpZiAoIWFpQ2hhdE1lc3NhZ2VzIHx8ICFwcm9wb3NhbCkgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0IHByb3Bvc2FsRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgcHJvcG9zYWxEaXYuY2xhc3NOYW1lID0gJ2ZsZXggZ2FwLTMgbXQtMic7XG4gICAgcHJvcG9zYWxEaXYuZGF0YXNldC5wcm9wb3NhbElkID0gcHJvcG9zYWwucHJvcG9zYWxJZDtcbiAgICBcbiAgICAvLyBDb25zdHJ1aXJlIGxlIHJcdTAwRTlzdW1cdTAwRTkgZGVzIGNoYW5nZW1lbnRzXG4gICAgbGV0IGNoYW5nZXNIdG1sID0gJyc7XG4gICAgaWYgKHByb3Bvc2FsLmNoYW5nZXMpIHtcbiAgICAgIGlmIChwcm9wb3NhbC5jaGFuZ2VzLnRpdGxlKSB7XG4gICAgICAgIGNoYW5nZXNIdG1sICs9IGA8bGk+VGl0cmUgXHUyMTkyIDxzdHJvbmc+JHtlc2NhcGVIdG1sKHByb3Bvc2FsLmNoYW5nZXMudGl0bGUpfTwvc3Ryb25nPjwvbGk+YDtcbiAgICAgIH1cbiAgICAgIGlmIChwcm9wb3NhbC5jaGFuZ2VzLmRlc2NyaXB0aW9uKSB7XG4gICAgICAgIGNoYW5nZXNIdG1sICs9IGA8bGk+RGVzY3JpcHRpb24gXHUyMTkyICR7ZXNjYXBlSHRtbChwcm9wb3NhbC5jaGFuZ2VzLmRlc2NyaXB0aW9uLnN1YnN0cmluZygwLCA4MCkpfS4uLjwvbGk+YDtcbiAgICAgIH1cbiAgICAgIGlmIChwcm9wb3NhbC5jaGFuZ2VzLnNlbykge1xuICAgICAgICBpZiAocHJvcG9zYWwuY2hhbmdlcy5zZW8ubWV0YVRpdGxlKSB7XG4gICAgICAgICAgY2hhbmdlc0h0bWwgKz0gYDxsaT5NZXRhIHRpdGxlIFx1MjE5MiAke2VzY2FwZUh0bWwocHJvcG9zYWwuY2hhbmdlcy5zZW8ubWV0YVRpdGxlKX08L2xpPmA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByb3Bvc2FsLmNoYW5nZXMuc2VvLm1ldGFEZXNjcmlwdGlvbikge1xuICAgICAgICAgIGNoYW5nZXNIdG1sICs9IGA8bGk+TWV0YSBkZXNjcmlwdGlvbiBcdTIxOTIgJHtlc2NhcGVIdG1sKHByb3Bvc2FsLmNoYW5nZXMuc2VvLm1ldGFEZXNjcmlwdGlvbi5zdWJzdHJpbmcoMCwgNjApKX0uLi48L2xpPmA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChwcm9wb3NhbC5jaGFuZ2VzLmJsb2NrVXBkYXRlKSB7XG4gICAgICAgIGNoYW5nZXNIdG1sICs9IGA8bGk+QmxvYyBcIiR7cHJvcG9zYWwuY2hhbmdlcy5ibG9ja1VwZGF0ZS5ibG9ja0lkfVwiIG1vZGlmaVx1MDBFOTwvbGk+YDtcbiAgICAgICAgaWYgKHByb3Bvc2FsLmNoYW5nZXMuYmxvY2tVcGRhdGUuc2V0dGluZ3MpIHtcbiAgICAgICAgICBjb25zdCBzZXR0aW5ncyA9IHByb3Bvc2FsLmNoYW5nZXMuYmxvY2tVcGRhdGUuc2V0dGluZ3M7XG4gICAgICAgICAgaWYgKHNldHRpbmdzLnRpdGxlKSBjaGFuZ2VzSHRtbCArPSBgPGxpIGNsYXNzPVwibWwtNFwiPlx1MjE5MiB0aXRsZTogJHtlc2NhcGVIdG1sKHNldHRpbmdzLnRpdGxlKX08L2xpPmA7XG4gICAgICAgICAgaWYgKHNldHRpbmdzLmNvbnRlbnQpIGNoYW5nZXNIdG1sICs9IGA8bGkgY2xhc3M9XCJtbC00XCI+XHUyMTkyIGNvbnRlbnQgbW9kaWZpXHUwMEU5PC9saT5gO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIHByb3Bvc2FsRGl2LmlubmVySFRNTCA9IGBcbiAgICAgIDxkaXYgY2xhc3M9XCJ3LTggaC04IHJvdW5kZWQtZnVsbCBiZy1hbWJlci01MDAgZmxleC1zaHJpbmstMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICA8c3ZnIGNsYXNzPVwidy00IGgtNCB0ZXh0LXdoaXRlXCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgPHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTEgNUg2YTIgMiAwIDAwLTIgMnYxMWEyIDIgMCAwMDIgMmgxMWEyIDIgMCAwMDItMnYtNW0tMS40MTQtOS40MTRhMiAyIDAgMTEyLjgyOCAyLjgyOEwxMS44MjggMTVIOXYtMi44MjhsOC41ODYtOC41ODZ6XCIvPlxuICAgICAgICA8L3N2Zz5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cImZsZXgtMSBiZy1hbWJlci01MCBib3JkZXIgYm9yZGVyLWFtYmVyLTIwMCByb3VuZGVkLTJ4bCByb3VuZGVkLXRsLW5vbmUgcC00XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBtYi0yXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgdGV4dC1hbWJlci03MDAgYmctYW1iZXItMTAwIHB4LTIgcHktMC41IHJvdW5kZWRcIj5Qcm9wb3NpdGlvbiBkJ1x1MDBFOWRpdGlvbjwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxwIGNsYXNzPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LXNsYXRlLTgwMCBtYi0xXCI+UGFnZSA6ICR7ZXNjYXBlSHRtbChwcm9wb3NhbC5wYWdlVGl0bGUgfHwgcHJvcG9zYWwucGFnZUlkKX08L3A+XG4gICAgICAgICR7cHJvcG9zYWwucmVhc29uID8gYDxwIGNsYXNzPVwidGV4dC1zbSB0ZXh0LXNsYXRlLTYwMCBtYi0yXCI+JHtlc2NhcGVIdG1sKHByb3Bvc2FsLnJlYXNvbil9PC9wPmAgOiAnJ31cbiAgICAgICAgPHVsIGNsYXNzPVwidGV4dC14cyB0ZXh0LXNsYXRlLTYwMCBzcGFjZS15LTEgbWItMyBsaXN0LWRpc2MgbWwtNFwiPlxuICAgICAgICAgICR7Y2hhbmdlc0h0bWwgfHwgJzxsaT5Nb2RpZmljYXRpb25zIHByb3Bvc1x1MDBFOWVzPC9saT4nfVxuICAgICAgICA8L3VsPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBnYXAtMlwiPlxuICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICBjbGFzcz1cImFpLWFwcGx5LWVkaXQgcHgtMyBweS0xLjUgdGV4dC14cyBmb250LW1lZGl1bSB0ZXh0LXdoaXRlIGJnLWVtZXJhbGQtNjAwIGhvdmVyOmJnLWVtZXJhbGQtNzAwIHJvdW5kZWQtbGcgdHJhbnNpdGlvbi1jb2xvcnMgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTFcIlxuICAgICAgICAgICAgZGF0YS1wcm9wb3NhbC1pZD1cIiR7cHJvcG9zYWwucHJvcG9zYWxJZH1cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJ3LTMuNSBoLTMuNVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgICA8cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk01IDEzbDQgNEwxOSA3XCIvPlxuICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICBBcHBsaXF1ZXJcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgY2xhc3M9XCJhaS1yZWplY3QtZWRpdCBweC0zIHB5LTEuNSB0ZXh0LXhzIGZvbnQtbWVkaXVtIHRleHQtc2xhdGUtNjAwIGJnLXNsYXRlLTEwMCBob3ZlcjpiZy1zbGF0ZS0yMDAgcm91bmRlZC1sZyB0cmFuc2l0aW9uLWNvbG9ycyBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMVwiXG4gICAgICAgICAgICBkYXRhLXByb3Bvc2FsLWlkPVwiJHtwcm9wb3NhbC5wcm9wb3NhbElkfVwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHN2ZyBjbGFzcz1cInctMy41IGgtMy41XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICAgIDxwYXRoIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTYgMThMMTggNk02IDZsMTIgMTJcIi8+XG4gICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgIFJlamV0ZXJcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICBgO1xuICAgIFxuICAgIGFpQ2hhdE1lc3NhZ2VzLmFwcGVuZENoaWxkKHByb3Bvc2FsRGl2KTtcbiAgICBhaUNoYXRNZXNzYWdlcy5zY3JvbGxUb3AgPSBhaUNoYXRNZXNzYWdlcy5zY3JvbGxIZWlnaHQ7XG4gICAgXG4gICAgLy8gQXR0YWNoZXIgbGVzIFx1MDBFOXZcdTAwRTluZW1lbnRzIGF1eCBib3V0b25zXG4gICAgcHJvcG9zYWxEaXYucXVlcnlTZWxlY3RvcignLmFpLWFwcGx5LWVkaXQnKT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVBcHBseUVkaXQpO1xuICAgIHByb3Bvc2FsRGl2LnF1ZXJ5U2VsZWN0b3IoJy5haS1yZWplY3QtZWRpdCcpPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZVJlamVjdEVkaXQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFmZmljaGUgdW5lIHByb3Bvc2l0aW9uIGRlIG1vZGlmaWNhdGlvbiBkdSB0aFx1MDBFOG1lIGF2ZWMgYm91dG9ucyBkZSB2YWxpZGF0aW9uXG4gICAqL1xuICBmdW5jdGlvbiBhcHBlbmRUaGVtZVByb3Bvc2FsKHByb3Bvc2FsKSB7XG4gICAgaWYgKCFhaUNoYXRNZXNzYWdlcyB8fCAhcHJvcG9zYWwpIHJldHVybjtcbiAgICBcbiAgICBjb25zdCBwcm9wb3NhbERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHByb3Bvc2FsRGl2LmNsYXNzTmFtZSA9ICdmbGV4IGdhcC0zIG10LTInO1xuICAgIHByb3Bvc2FsRGl2LmRhdGFzZXQucHJvcG9zYWxJZCA9IHByb3Bvc2FsLnByb3Bvc2FsSWQ7XG4gICAgXG4gICAgLy8gQ29uc3RydWlyZSBsZSByXHUwMEU5c3VtXHUwMEU5IGRlcyBjaGFuZ2VtZW50cyBkZSBjb3VsZXVyc1xuICAgIGxldCBjb2xvcnNIdG1sID0gJyc7XG4gICAgaWYgKHByb3Bvc2FsLmNoYW5nZXM/LmNvbG9ycykge1xuICAgICAgY29uc3QgY29sb3JzID0gcHJvcG9zYWwuY2hhbmdlcy5jb2xvcnM7XG4gICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhjb2xvcnMpKSB7XG4gICAgICAgIGNvbG9yc0h0bWwgKz0gYDxsaSBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJ3LTQgaC00IHJvdW5kZWQgYm9yZGVyIGJvcmRlci1zbGF0ZS0zMDBcIiBzdHlsZT1cImJhY2tncm91bmQ6ICR7Z2V0VGFpbHdpbmRDb2xvckNzcyh2YWx1ZSl9XCI+PC9zcGFuPlxuICAgICAgICAgIDxzcGFuPiR7a2V5fTogPHN0cm9uZz4ke2VzY2FwZUh0bWwodmFsdWUpfTwvc3Ryb25nPjwvc3Bhbj5cbiAgICAgICAgPC9saT5gO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvLyBUeXBvZ3JhcGhpZXNcbiAgICBsZXQgdHlwb0h0bWwgPSAnJztcbiAgICBpZiAocHJvcG9zYWwuY2hhbmdlcz8udHlwb2dyYXBoeSkge1xuICAgICAgY29uc3QgdHlwbyA9IHByb3Bvc2FsLmNoYW5nZXMudHlwb2dyYXBoeTtcbiAgICAgIGlmICh0eXBvLmhlYWRpbmdzKSB0eXBvSHRtbCArPSBgPGxpPlRpdHJlcyBcdTIxOTIgPHN0cm9uZz4ke2VzY2FwZUh0bWwodHlwby5oZWFkaW5ncyl9PC9zdHJvbmc+PC9saT5gO1xuICAgICAgaWYgKHR5cG8uYm9keSkgdHlwb0h0bWwgKz0gYDxsaT5UZXh0ZXMgXHUyMTkyIDxzdHJvbmc+JHtlc2NhcGVIdG1sKHR5cG8uYm9keSl9PC9zdHJvbmc+PC9saT5gO1xuICAgIH1cbiAgICBcbiAgICBwcm9wb3NhbERpdi5pbm5lckhUTUwgPSBgXG4gICAgICA8ZGl2IGNsYXNzPVwidy04IGgtOCByb3VuZGVkLWZ1bGwgYmctcHVycGxlLTUwMCBmbGV4LXNocmluay0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgIDxzdmcgY2xhc3M9XCJ3LTQgaC00IHRleHQtd2hpdGVcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICA8cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk03IDIxYTQgNCAwIDAxLTQtNFY1YTIgMiAwIDAxMi0yaDRhMiAyIDAgMDEyIDJ2MTJhNCA0IDAgMDEtNCA0em0wIDBoMTJhMiAyIDAgMDAyLTJ2LTRhMiAyIDAgMDAtMi0yaC0yLjM0M00xMSA3LjM0M2wxLjY1Ny0xLjY1N2EyIDIgMCAwMTIuODI4IDBsMi44MjkgMi44MjlhMiAyIDAgMDEwIDIuODI4bC04LjQ4NiA4LjQ4NU03IDE3aC4wMVwiLz5cbiAgICAgICAgPC9zdmc+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJmbGV4LTEgYmctcHVycGxlLTUwIGJvcmRlciBib3JkZXItcHVycGxlLTIwMCByb3VuZGVkLTJ4bCByb3VuZGVkLXRsLW5vbmUgcC00XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBtYi0yXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgdGV4dC1wdXJwbGUtNzAwIGJnLXB1cnBsZS0xMDAgcHgtMiBweS0wLjUgcm91bmRlZFwiPk1vZGlmaWNhdGlvbiBkdSB0aFx1MDBFOG1lPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgJHtwcm9wb3NhbC5yZWFzb24gPyBgPHAgY2xhc3M9XCJ0ZXh0LXNtIHRleHQtc2xhdGUtNjAwIG1iLTNcIj4ke2VzY2FwZUh0bWwocHJvcG9zYWwucmVhc29uKX08L3A+YCA6ICcnfVxuICAgICAgICAke2NvbG9yc0h0bWwgPyBgXG4gICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXhzIGZvbnQtbWVkaXVtIHRleHQtc2xhdGUtNzAwIG1iLTFcIj5Db3VsZXVycyA6PC9wPlxuICAgICAgICAgIDx1bCBjbGFzcz1cInRleHQteHMgdGV4dC1zbGF0ZS02MDAgc3BhY2UteS0xIG1iLTNcIj4ke2NvbG9yc0h0bWx9PC91bD5cbiAgICAgICAgYCA6ICcnfVxuICAgICAgICAke3R5cG9IdG1sID8gYFxuICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC14cyBmb250LW1lZGl1bSB0ZXh0LXNsYXRlLTcwMCBtYi0xXCI+VHlwb2dyYXBoaWVzIDo8L3A+XG4gICAgICAgICAgPHVsIGNsYXNzPVwidGV4dC14cyB0ZXh0LXNsYXRlLTYwMCBzcGFjZS15LTEgbWItMyBsaXN0LWRpc2MgbWwtNFwiPiR7dHlwb0h0bWx9PC91bD5cbiAgICAgICAgYCA6ICcnfVxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBnYXAtMlwiPlxuICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICBjbGFzcz1cImFpLWFwcGx5LXRoZW1lIHB4LTMgcHktMS41IHRleHQteHMgZm9udC1tZWRpdW0gdGV4dC13aGl0ZSBiZy1wdXJwbGUtNjAwIGhvdmVyOmJnLXB1cnBsZS03MDAgcm91bmRlZC1sZyB0cmFuc2l0aW9uLWNvbG9ycyBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMVwiXG4gICAgICAgICAgICBkYXRhLXByb3Bvc2FsLWlkPVwiJHtwcm9wb3NhbC5wcm9wb3NhbElkfVwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHN2ZyBjbGFzcz1cInctMy41IGgtMy41XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICAgIDxwYXRoIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTUgMTNsNCA0TDE5IDdcIi8+XG4gICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgIEFwcGxpcXVlclxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICBjbGFzcz1cImFpLXJlamVjdC10aGVtZSBweC0zIHB5LTEuNSB0ZXh0LXhzIGZvbnQtbWVkaXVtIHRleHQtc2xhdGUtNjAwIGJnLXNsYXRlLTEwMCBob3ZlcjpiZy1zbGF0ZS0yMDAgcm91bmRlZC1sZyB0cmFuc2l0aW9uLWNvbG9ycyBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMVwiXG4gICAgICAgICAgICBkYXRhLXByb3Bvc2FsLWlkPVwiJHtwcm9wb3NhbC5wcm9wb3NhbElkfVwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHN2ZyBjbGFzcz1cInctMy41IGgtMy41XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICAgIDxwYXRoIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTYgMThMMTggNk02IDZsMTIgMTJcIi8+XG4gICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgIFJlamV0ZXJcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICBgO1xuICAgIFxuICAgIGFpQ2hhdE1lc3NhZ2VzLmFwcGVuZENoaWxkKHByb3Bvc2FsRGl2KTtcbiAgICBhaUNoYXRNZXNzYWdlcy5zY3JvbGxUb3AgPSBhaUNoYXRNZXNzYWdlcy5zY3JvbGxIZWlnaHQ7XG4gICAgXG4gICAgLy8gQXR0YWNoZXIgbGVzIFx1MDBFOXZcdTAwRTluZW1lbnRzIGF1eCBib3V0b25zXG4gICAgcHJvcG9zYWxEaXYucXVlcnlTZWxlY3RvcignLmFpLWFwcGx5LXRoZW1lJyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlQXBwbHlUaGVtZSk7XG4gICAgcHJvcG9zYWxEaXYucXVlcnlTZWxlY3RvcignLmFpLXJlamVjdC10aGVtZScpPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZVJlamVjdEVkaXQpOyAvLyBSXHUwMEU5dXRpbGlzZSBsYSBtXHUwMEVBbWUgbG9naXF1ZSBkZSByZWpldFxuICB9XG4gIFxuICAvKipcbiAgICogQ29udmVydGl0IHVuZSBjb3VsZXVyIFRhaWx3aW5kIGVuIENTUyBhcHByb3hpbWF0aWYgcG91ciBwcmV2aWV3XG4gICAqL1xuICBmdW5jdGlvbiBnZXRUYWlsd2luZENvbG9yQ3NzKGNvbG9yTmFtZSkge1xuICAgIGNvbnN0IGNvbG9ycyA9IHtcbiAgICAgICd3aGl0ZSc6ICcjZmZmZmZmJywgJ2JsYWNrJzogJyMwMDAwMDAnLCAndHJhbnNwYXJlbnQnOiAndHJhbnNwYXJlbnQnLFxuICAgICAgJ3NsYXRlLTUwJzogJyNmOGZhZmMnLCAnc2xhdGUtMTAwJzogJyNmMWY1ZjknLCAnc2xhdGUtMjAwJzogJyNlMmU4ZjAnLCAnc2xhdGUtMzAwJzogJyNjYmQ1ZTEnLCAnc2xhdGUtNDAwJzogJyM5NGEzYjgnLCAnc2xhdGUtNTAwJzogJyM2NDc0OGInLCAnc2xhdGUtNjAwJzogJyM0NzU1NjknLCAnc2xhdGUtNzAwJzogJyMzMzQxNTUnLCAnc2xhdGUtODAwJzogJyMxZTI5M2InLCAnc2xhdGUtOTAwJzogJyMwZjE3MmEnLFxuICAgICAgJ2dyYXktNTAnOiAnI2Y5ZmFmYicsICdncmF5LTEwMCc6ICcjZjNmNGY2JywgJ2dyYXktMjAwJzogJyNlNWU3ZWInLCAnZ3JheS0zMDAnOiAnI2QxZDVkYicsICdncmF5LTQwMCc6ICcjOWNhM2FmJywgJ2dyYXktNTAwJzogJyM2YjcyODAnLCAnZ3JheS02MDAnOiAnIzRiNTU2MycsICdncmF5LTcwMCc6ICcjMzc0MTUxJywgJ2dyYXktODAwJzogJyMxZjI5MzcnLCAnZ3JheS05MDAnOiAnIzExMTgyNycsXG4gICAgICAndmlvbGV0LTUwJzogJyNmNWYzZmYnLCAndmlvbGV0LTEwMCc6ICcjZWRlOWZlJywgJ3Zpb2xldC0yMDAnOiAnI2RkZDZmZScsICd2aW9sZXQtMzAwJzogJyNjNGI1ZmQnLCAndmlvbGV0LTQwMCc6ICcjYTc4YmZhJywgJ3Zpb2xldC01MDAnOiAnIzhiNWNmNicsICd2aW9sZXQtNjAwJzogJyM3YzNhZWQnLCAndmlvbGV0LTcwMCc6ICcjNmQyOGQ5JywgJ3Zpb2xldC04MDAnOiAnIzViMjFiNicsICd2aW9sZXQtOTAwJzogJyM0YzFkOTUnLFxuICAgICAgJ3B1cnBsZS01MCc6ICcjZmFmNWZmJywgJ3B1cnBsZS0xMDAnOiAnI2YzZThmZicsICdwdXJwbGUtMjAwJzogJyNlOWQ1ZmYnLCAncHVycGxlLTMwMCc6ICcjZDhiNGZlJywgJ3B1cnBsZS00MDAnOiAnI2MwODRmYycsICdwdXJwbGUtNTAwJzogJyNhODU1ZjcnLCAncHVycGxlLTYwMCc6ICcjOTMzM2VhJywgJ3B1cnBsZS03MDAnOiAnIzdlMjJjZScsICdwdXJwbGUtODAwJzogJyM2YjIxYTgnLCAncHVycGxlLTkwMCc6ICcjNTgxYzg3JyxcbiAgICAgICdibHVlLTUwJzogJyNlZmY2ZmYnLCAnYmx1ZS0xMDAnOiAnI2RiZWFmZScsICdibHVlLTIwMCc6ICcjYmZkYmZlJywgJ2JsdWUtMzAwJzogJyM5M2M1ZmQnLCAnYmx1ZS00MDAnOiAnIzYwYTVmYScsICdibHVlLTUwMCc6ICcjM2I4MmY2JywgJ2JsdWUtNjAwJzogJyMyNTYzZWInLCAnYmx1ZS03MDAnOiAnIzFkNGVkOCcsICdibHVlLTgwMCc6ICcjMWU0MGFmJywgJ2JsdWUtOTAwJzogJyMxZTNhOGEnLFxuICAgICAgJ2VtZXJhbGQtNTAnOiAnI2VjZmRmNScsICdlbWVyYWxkLTEwMCc6ICcjZDFmYWU1JywgJ2VtZXJhbGQtMjAwJzogJyNhN2YzZDAnLCAnZW1lcmFsZC0zMDAnOiAnIzZlZTdiNycsICdlbWVyYWxkLTQwMCc6ICcjMzRkMzk5JywgJ2VtZXJhbGQtNTAwJzogJyMxMGI5ODEnLCAnZW1lcmFsZC02MDAnOiAnIzA1OTY2OScsICdlbWVyYWxkLTcwMCc6ICcjMDQ3ODU3JywgJ2VtZXJhbGQtODAwJzogJyMwNjVmNDYnLCAnZW1lcmFsZC05MDAnOiAnIzA2NGUzYicsXG4gICAgICAndGVhbC01MCc6ICcjZjBmZGZhJywgJ3RlYWwtMTAwJzogJyNjY2ZiZjEnLCAndGVhbC0yMDAnOiAnIzk5ZjZlNCcsICd0ZWFsLTMwMCc6ICcjNWVlYWQ0JywgJ3RlYWwtNDAwJzogJyMyZGQ0YmYnLCAndGVhbC01MDAnOiAnIzE0YjhhNicsICd0ZWFsLTYwMCc6ICcjMGQ5NDg4JywgJ3RlYWwtNzAwJzogJyMwZjc2NmUnLCAndGVhbC04MDAnOiAnIzExNWU1OScsICd0ZWFsLTkwMCc6ICcjMTM0ZTRhJyxcbiAgICAgICdhbWJlci01MCc6ICcjZmZmYmViJywgJ2FtYmVyLTEwMCc6ICcjZmVmM2M3JywgJ2FtYmVyLTIwMCc6ICcjZmRlNjhhJywgJ2FtYmVyLTMwMCc6ICcjZmNkMzRkJywgJ2FtYmVyLTQwMCc6ICcjZmJiZjI0JywgJ2FtYmVyLTUwMCc6ICcjZjU5ZTBiJywgJ2FtYmVyLTYwMCc6ICcjZDk3NzA2JywgJ2FtYmVyLTcwMCc6ICcjYjQ1MzA5JywgJ2FtYmVyLTgwMCc6ICcjOTI0MDBlJywgJ2FtYmVyLTkwMCc6ICcjNzgzNTBmJyxcbiAgICAgICdyZWQtNTAnOiAnI2ZlZjJmMicsICdyZWQtMTAwJzogJyNmZWUyZTInLCAncmVkLTIwMCc6ICcjZmVjYWNhJywgJ3JlZC0zMDAnOiAnI2ZjYTVhNScsICdyZWQtNDAwJzogJyNmODcxNzEnLCAncmVkLTUwMCc6ICcjZWY0NDQ0JywgJ3JlZC02MDAnOiAnI2RjMjYyNicsICdyZWQtNzAwJzogJyNiOTFjMWMnLCAncmVkLTgwMCc6ICcjOTkxYjFiJywgJ3JlZC05MDAnOiAnIzdmMWQxZCdcbiAgICB9O1xuICAgIHJldHVybiBjb2xvcnNbY29sb3JOYW1lXSB8fCAnIzlDNkJGRic7XG4gIH1cblxuICAvKipcbiAgICogQXBwbGlxdWUgdW5lIHByb3Bvc2l0aW9uIGRlIG1vZGlmaWNhdGlvbiBkdSB0aFx1MDBFOG1lXG4gICAqL1xuICBhc3luYyBmdW5jdGlvbiBoYW5kbGVBcHBseVRoZW1lKGUpIHtcbiAgICBjb25zdCBwcm9wb3NhbElkID0gZS50YXJnZXQuY2xvc2VzdCgnW2RhdGEtcHJvcG9zYWwtaWRdJyk/LmRhdGFzZXQucHJvcG9zYWxJZDtcbiAgICBjb25zdCBzaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyk7XG4gICAgaWYgKCFwcm9wb3NhbElkIHx8ICFzaXRlU2x1ZykgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0IGJ0biA9IGUudGFyZ2V0LmNsb3Nlc3QoJ2J1dHRvbicpO1xuICAgIGJ0bi5kaXNhYmxlZCA9IHRydWU7XG4gICAgYnRuLmlubmVySFRNTCA9ICc8c3BhbiBjbGFzcz1cImFuaW1hdGUtc3BpblwiPlx1MjNGMzwvc3Bhbj4gQXBwbGljYXRpb24uLi4nO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNpdGVTbHVnKX0vYWkvYXBwbHktdGhlbWVgLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBwcm9wb3NhbElkIH0pXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIFxuICAgICAgaWYgKHJlc3BvbnNlLm9rICYmIGRhdGEuc3VjY2Vzcykge1xuICAgICAgICAvLyBSZW1wbGFjZXIgbGEgY2FyZCBwYXIgdW4gbWVzc2FnZSBkZSBzdWNjXHUwMEU4c1xuICAgICAgICBjb25zdCBwcm9wb3NhbENhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1wcm9wb3NhbC1pZD1cIiR7cHJvcG9zYWxJZH1cIl1gKTtcbiAgICAgICAgaWYgKHByb3Bvc2FsQ2FyZCkge1xuICAgICAgICAgIHByb3Bvc2FsQ2FyZC5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwidy04IGgtOCByb3VuZGVkLWZ1bGwgYmctcHVycGxlLTUwMCBmbGV4LXNocmluay0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJ3LTQgaC00IHRleHQtd2hpdGVcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgICAgICA8cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk01IDEzbDQgNEwxOSA3XCIvPlxuICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXgtMSBiZy1wdXJwbGUtNTAgYm9yZGVyIGJvcmRlci1wdXJwbGUtMjAwIHJvdW5kZWQtMnhsIHJvdW5kZWQtdGwtbm9uZSBwLTNcIj5cbiAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXNtIHRleHQtcHVycGxlLTcwMFwiPlx1MjcwNSBUaFx1MDBFOG1lIG1pcyBcdTAwRTAgam91ciBhdmVjIHN1Y2NcdTAwRThzICE8L3A+XG4gICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC14cyB0ZXh0LXB1cnBsZS02MDAgbXQtMVwiPlJlY2hhcmdleiBsYSBwcmV2aWV3IHBvdXIgdm9pciBsZXMgY2hhbmdlbWVudHMuPC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgYDtcbiAgICAgICAgfVxuICAgICAgICBzaG93VG9hc3QoJ1RoXHUwMEU4bWUgbWlzIFx1MDBFMCBqb3VyICEnKTtcbiAgICAgICAgXG4gICAgICAgIC8vIERcdTAwRTljbGVuY2hlciB1biBcdTAwRTl2XHUwMEU5bmVtZW50IHBlcnNvbm5hbGlzXHUwMEU5IHBvdXIgcmFmcmFcdTAwRUVjaGlyXG4gICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdhaS10aGVtZS11cGRhdGVkJywge1xuICAgICAgICAgIGRldGFpbDogeyB1cGRhdGVkVGhlbWU6IGRhdGEudXBkYXRlZFRoZW1lIH1cbiAgICAgICAgfSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGRhdGEubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZGUgbFxcJ2FwcGxpY2F0aW9uJyk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBidG4uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgIGJ0bi5pbm5lckhUTUwgPSBgPHN2ZyBjbGFzcz1cInctMy41IGgtMy41XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNSAxM2w0IDRMMTkgN1wiLz48L3N2Zz4gUlx1MDBFOWVzc2F5ZXJgO1xuICAgICAgc2hvd1RvYXN0KGBFcnJldXI6ICR7ZXJyLm1lc3NhZ2V9YCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFwcGxpcXVlIHVuZSBwcm9wb3NpdGlvbiBkJ1x1MDBFOWRpdGlvbiB2YWxpZFx1MDBFOWVcbiAgICovXG4gIGFzeW5jIGZ1bmN0aW9uIGhhbmRsZUFwcGx5RWRpdChlKSB7XG4gICAgY29uc3QgcHJvcG9zYWxJZCA9IGUudGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLXByb3Bvc2FsLWlkXScpPy5kYXRhc2V0LnByb3Bvc2FsSWQ7XG4gICAgY29uc3Qgc2l0ZVNsdWcgPSBzdHJpcExlYWRpbmdTbGFzaChzdG9yZWRTaXRlLnNsdWcgfHwgJycpO1xuICAgIGlmICghcHJvcG9zYWxJZCB8fCAhc2l0ZVNsdWcpIHJldHVybjtcbiAgICBcbiAgICBjb25zdCBidG4gPSBlLnRhcmdldC5jbG9zZXN0KCdidXR0b24nKTtcbiAgICBidG4uZGlzYWJsZWQgPSB0cnVlO1xuICAgIGJ0bi5pbm5lckhUTUwgPSAnPHNwYW4gY2xhc3M9XCJhbmltYXRlLXNwaW5cIj5cdTIzRjM8L3NwYW4+IEFwcGxpY2F0aW9uLi4uJztcbiAgICBcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzaXRlU2x1Zyl9L2FpL2FwcGx5LWVkaXRgLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBwcm9wb3NhbElkIH0pXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIFxuICAgICAgaWYgKHJlc3BvbnNlLm9rICYmIGRhdGEuc3VjY2Vzcykge1xuICAgICAgICAvLyBSZW1wbGFjZXIgbGEgY2FyZCBwYXIgdW4gbWVzc2FnZSBkZSBzdWNjXHUwMEU4c1xuICAgICAgICBjb25zdCBwcm9wb3NhbENhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1wcm9wb3NhbC1pZD1cIiR7cHJvcG9zYWxJZH1cIl1gKTtcbiAgICAgICAgaWYgKHByb3Bvc2FsQ2FyZCkge1xuICAgICAgICAgIHByb3Bvc2FsQ2FyZC5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwidy04IGgtOCByb3VuZGVkLWZ1bGwgYmctZW1lcmFsZC01MDAgZmxleC1zaHJpbmstMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICA8c3ZnIGNsYXNzPVwidy00IGgtNCB0ZXh0LXdoaXRlXCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNSAxM2w0IDRMMTkgN1wiLz5cbiAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4LTEgYmctZW1lcmFsZC01MCBib3JkZXIgYm9yZGVyLWVtZXJhbGQtMjAwIHJvdW5kZWQtMnhsIHJvdW5kZWQtdGwtbm9uZSBwLTNcIj5cbiAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXNtIHRleHQtZW1lcmFsZC03MDBcIj5cdTI3MDUgTW9kaWZpY2F0aW9ucyBhcHBsaXF1XHUwMEU5ZXMgYXZlYyBzdWNjXHUwMEU4cyAhPC9wPlxuICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQteHMgdGV4dC1lbWVyYWxkLTYwMCBtdC0xXCI+TGEgcHJldmlldyBzZSBtZXQgXHUwMEUwIGpvdXIgYXV0b21hdGlxdWVtZW50LjwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIGA7XG4gICAgICAgIH1cbiAgICAgICAgc2hvd1RvYXN0KCdNb2RpZmljYXRpb25zIGFwcGxpcXVcdTAwRTllcyAhJyk7XG4gICAgICAgIFxuICAgICAgICAvLyBEXHUwMEU5Y2xlbmNoZXIgdW4gXHUwMEU5dlx1MDBFOW5lbWVudCBwZXJzb25uYWxpc1x1MDBFOSBwb3VyIHJhZnJhXHUwMEVFY2hpciBsYSBwcmV2aWV3XG4gICAgICAgIGNvbnN0IHBhZ2VJZCA9IGRhdGEudXBkYXRlZFBhZ2U/LmlkIHx8IG51bGw7XG4gICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdhaS1wYWdlLXVwZGF0ZWQnLCB7XG4gICAgICAgICAgZGV0YWlsOiB7IHBhZ2VJZCwgdXBkYXRlZFBhZ2U6IGRhdGEudXBkYXRlZFBhZ2UgfVxuICAgICAgICB9KSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZGF0YS5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsXFwnYXBwbGljYXRpb24nKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGJ0bi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgYnRuLmlubmVySFRNTCA9IGA8c3ZnIGNsYXNzPVwidy0zLjUgaC0zLjVcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk01IDEzbDQgNEwxOSA3XCIvPjwvc3ZnPiBSXHUwMEU5ZXNzYXllcmA7XG4gICAgICBzaG93VG9hc3QoYEVycmV1cjogJHtlcnIubWVzc2FnZX1gKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVqZXR0ZSB1bmUgcHJvcG9zaXRpb24gZCdcdTAwRTlkaXRpb25cbiAgICovXG4gIGFzeW5jIGZ1bmN0aW9uIGhhbmRsZVJlamVjdEVkaXQoZSkge1xuICAgIGNvbnN0IHByb3Bvc2FsSWQgPSBlLnRhcmdldC5jbG9zZXN0KCdbZGF0YS1wcm9wb3NhbC1pZF0nKT8uZGF0YXNldC5wcm9wb3NhbElkO1xuICAgIGNvbnN0IHNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goc3RvcmVkU2l0ZS5zbHVnIHx8ICcnKTtcbiAgICBpZiAoIXByb3Bvc2FsSWQgfHwgIXNpdGVTbHVnKSByZXR1cm47XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IGZldGNoKGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNpdGVTbHVnKX0vYWkvcHJvcG9zYWwvJHtwcm9wb3NhbElkfWAsIHtcbiAgICAgICAgbWV0aG9kOiAnREVMRVRFJ1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIC8vIFJlbXBsYWNlciBsYSBjYXJkIHBhciB1biBtZXNzYWdlIGRlIHJlamV0XG4gICAgICBjb25zdCBwcm9wb3NhbENhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1wcm9wb3NhbC1pZD1cIiR7cHJvcG9zYWxJZH1cIl1gKTtcbiAgICAgIGlmIChwcm9wb3NhbENhcmQpIHtcbiAgICAgICAgcHJvcG9zYWxDYXJkLmlubmVySFRNTCA9IGBcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwidy04IGgtOCByb3VuZGVkLWZ1bGwgYmctc2xhdGUtNDAwIGZsZXgtc2hyaW5rLTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJ3LTQgaC00IHRleHQtd2hpdGVcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNiAxOEwxOCA2TTYgNmwxMiAxMlwiLz5cbiAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4LTEgYmctc2xhdGUtMTAwIHJvdW5kZWQtMnhsIHJvdW5kZWQtdGwtbm9uZSBwLTNcIj5cbiAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1zbSB0ZXh0LXNsYXRlLTUwMFwiPlByb3Bvc2l0aW9uIHJlamV0XHUwMEU5ZS48L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIGA7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdbQUldIFJlamVjdCBlZGl0IGVycm9yOicsIGVycik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEVmZmFjZSBsJ2hpc3RvcmlxdWUgZHUgY2hhdFxuICAgKi9cbiAgYXN5bmMgZnVuY3Rpb24gY2xlYXJBSUhpc3RvcnkoKSB7XG4gICAgY29uc3Qgc2l0ZVNsdWcgPSBzdHJpcExlYWRpbmdTbGFzaChzdG9yZWRTaXRlLnNsdWcgfHwgJycpO1xuICAgIGlmICghc2l0ZVNsdWcgfHwgIWFpQ2hhdE1lc3NhZ2VzKSByZXR1cm47XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IGZldGNoKGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNpdGVTbHVnKX0vYWkvaGlzdG9yeWAsIHsgbWV0aG9kOiAnREVMRVRFJyB9KTtcbiAgICAgIFxuICAgICAgLy8gVmlkZXIgbGVzIG1lc3NhZ2VzXG4gICAgICBhaUNoYXRNZXNzYWdlcy5pbm5lckhUTUwgPSAnJztcbiAgICAgIFxuICAgICAgLy8gUlx1MDBFOWFmZmljaGVyIGxlIG1lc3NhZ2UgZGUgYmllbnZlbnVlXG4gICAgICBhaUNoYXRNZXNzYWdlcy5pbm5lckhUTUwgPSBgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGdhcC0zXCIgZGF0YS1haS13ZWxjb21lPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ3LTggaC04IHJvdW5kZWQtZnVsbCBiZy1ncmFkaWVudC10by1iciBmcm9tLXZpb2xldC01MDAgdG8taW5kaWdvLTYwMCBmbGV4LXNocmluay0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICA8c3ZnIGNsYXNzPVwidy00IGgtNCB0ZXh0LXdoaXRlXCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICAgIDxwYXRoIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTkuNjYzIDE3aDQuNjczTTEyIDN2MW02LjM2NCAxLjYzNmwtLjcwNy43MDdNMjEgMTJoLTFNNCAxMkgzbTMuMzQzLTUuNjU3bC0uNzA3LS43MDdtMi44MjggOS45YTUgNSAwIDExNy4wNzIgMGwtLjU0OC41NDdBMy4zNzQgMy4zNzQgMCAwMDE0IDE4LjQ2OVYxOWEyIDIgMCAxMS00IDB2LS41MzFjMC0uODk1LS4zNTYtMS43NTQtLjk4OC0yLjM4NmwtLjU0OC0uNTQ3elwiLz5cbiAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4LTEgYmctc2xhdGUtNTAgcm91bmRlZC0yeGwgcm91bmRlZC10bC1ub25lIHAtM1wiPlxuICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXNtIHRleHQtc2xhdGUtNzAwXCI+XG4gICAgICAgICAgICAgIFNhbHV0ICEgXHVEODNEXHVEQzRCIEplIHN1aXMgdG9uIGFzc2lzdGFudCBJQSBwb3VyIGNlIHNpdGUuIEplIHBldXggdCdhaWRlciBcdTAwRTAgOlxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPHVsIGNsYXNzPVwibXQtMiB0ZXh0LXNtIHRleHQtc2xhdGUtNjAwIHNwYWNlLXktMVwiPlxuICAgICAgICAgICAgICA8bGk+XHVEODNDXHVERkE4IFN1Z2dcdTAwRTlyZXIgZGVzIHBhbGV0dGVzIGRlIGNvdWxldXJzPC9saT5cbiAgICAgICAgICAgICAgPGxpPlx1MjcwRFx1RkUwRiBHXHUwMEU5blx1MDBFOXJlciBkdSBjb250ZW51IHBvdXIgdGVzIGJsb2NzPC9saT5cbiAgICAgICAgICAgICAgPGxpPlx1RDgzRFx1RENDNCBDclx1MDBFOWVyIGRlcyBzdHJ1Y3R1cmVzIGRlIHBhZ2VzPC9saT5cbiAgICAgICAgICAgICAgPGxpPlx1RDgzRFx1REQwRCBBbVx1MDBFOWxpb3JlciB0b24gU0VPPC9saT5cbiAgICAgICAgICAgICAgPGxpPlx1MjcwRlx1RkUwRiA8c3Ryb25nPkFuYWx5c2VyIGV0IG1vZGlmaWVyIHRlcyBwYWdlczwvc3Ryb25nPiAoYXZlYyB2YWxpZGF0aW9uKTwvbGk+XG4gICAgICAgICAgICA8L3VsPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIGA7XG4gICAgICBcbiAgICAgIHNob3dUb2FzdCgnSGlzdG9yaXF1ZSBlZmZhY1x1MDBFOScpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignW0FJXSBDbGVhciBoaXN0b3J5IGZhaWxlZDonLCBlcnIpO1xuICAgICAgc2hvd1RvYXN0KCdFcnJldXIgbG9ycyBkZSBsXFwnZWZmYWNlbWVudCcpO1xuICAgIH1cbiAgfVxuXG4gIC8vIFByb21wdHMgcmFwaWRlc1xuICBjb25zdCBxdWlja1Byb21wdHMgPSB7XG4gICAgY29sb3JzOiAnU3VnZ1x1MDBFOHJlLW1vaSAzIHBhbGV0dGVzIGRlIGNvdWxldXJzIGhhcm1vbmlldXNlcyBwb3VyIG1vbiBzaXRlLiBQb3VyIGNoYXF1ZSBwYWxldHRlLCBkb25uZSBsZXMgY291bGV1cnMgVGFpbHdpbmQ6IHByaW1hcnksIHNlY29uZGFyeSwgYWNjZW50LCBldCBiYWNrZ3JvdW5kLicsXG4gICAgaGVybzogJ0dcdTAwRTluXHUwMEU4cmUgdW4gYmxvYyBIZXJvIGVuIEpTT04gYXZlYyB1biB0aXRyZSBhY2Nyb2NoZXVyLCB1biBzb3VzLXRpdHJlIGVuZ2FnZWFudCBldCB1biBDVEEuJyxcbiAgICBzZW86ICdBbmFseXNlIG1vbiBzaXRlIGV0IHN1Z2dcdTAwRThyZSBkZXMgYW1cdTAwRTlsaW9yYXRpb25zIFNFTyBwb3VyIGxlIG1ldGEgdGl0bGUgZXQgbGEgbWV0YSBkZXNjcmlwdGlvbiBkZSBtYSBwYWdlIGRcXCdhY2N1ZWlsLicsXG4gICAgbGFuZGluZzogJ0dcdTAwRTluXHUwMEU4cmUgbGEgc3RydWN0dXJlIEpTT04gZFxcJ3VuZSBsYW5kaW5nIHBhZ2UgY29tcGxcdTAwRTh0ZSBhdmVjOiBIZXJvLCAzIHNlY3Rpb25zIGRlIGNvbnRlbnUsIGV0IHVuIENUQSBmaW5hbC4nLFxuICAgIGFuYWx5emU6ICdBbmFseXNlIGxlIGNvbnRlbnUgZGUgdG91dGVzIG1lcyBwYWdlcyBldCBwcm9wb3NlIGRlcyBhbVx1MDBFOWxpb3JhdGlvbnMgY29uY3JcdTAwRTh0ZXMuIFBvdXIgY2hhcXVlIHN1Z2dlc3Rpb24gZFxcJ2FtXHUwMEU5bGlvcmF0aW9uIGRlIHRleHRlIG91IGRlIHN0cnVjdHVyZSwgdXRpbGlzZSBsZSBmb3JtYXQgcHJvcG9zZS1lZGl0IHBvdXIgcXVlIGplIHB1aXNzZSB2YWxpZGVyLicsXG4gICAgaW1wcm92ZUhvbWU6ICdBbmFseXNlIG1hIHBhZ2UgZFxcJ2FjY3VlaWwgZXQgcHJvcG9zZSB1bmUgYW1cdTAwRTlsaW9yYXRpb24gZHUgdGl0cmUgb3UgZHUgSGVybyBwb3VyIGxlIHJlbmRyZSBwbHVzIGltcGFjdGFudC4gVXRpbGlzZSBsZSBmb3JtYXQgcHJvcG9zZS1lZGl0LidcbiAgfTtcblxuICAvLyBFdmVudCBsaXN0ZW5lcnNcbiAgYWlDaGF0VG9nZ2xlPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBpZiAoYWlDaGF0T3Blbikge1xuICAgICAgY2xvc2VBSUNoYXQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3BlbkFJQ2hhdCgpO1xuICAgIH1cbiAgfSk7XG5cbiAgYWlDaGF0Q2xvc2U/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VBSUNoYXQpO1xuICBhaUNoYXRPdmVybGF5Py5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlQUlDaGF0KTtcblxuICBhaUNoYXRDbGVhcj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgaWYgKGNvbmZpcm0oJ0VmZmFjZXIgdG91dCBsXFwnaGlzdG9yaXF1ZSBkZSBjb252ZXJzYXRpb24gPycpKSB7XG4gICAgICBjbGVhckFJSGlzdG9yeSgpO1xuICAgIH1cbiAgfSk7XG5cbiAgYWlDaGF0Rm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgbWVzc2FnZSA9IGFpQ2hhdElucHV0Py52YWx1ZT8udHJpbSgpO1xuICAgIGlmIChtZXNzYWdlKSB7XG4gICAgICBhaUNoYXRJbnB1dC52YWx1ZSA9ICcnO1xuICAgICAgc2VuZEFJTWVzc2FnZShtZXNzYWdlKTtcbiAgICB9XG4gIH0pO1xuXG4gIGFpUXVpY2tCdXR0b25zLmZvckVhY2goYnRuID0+IHtcbiAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBhY3Rpb24gPSBidG4uZGF0YXNldC5haVF1aWNrO1xuICAgICAgY29uc3QgcHJvbXB0ID0gcXVpY2tQcm9tcHRzW2FjdGlvbl07XG4gICAgICBpZiAocHJvbXB0KSB7XG4gICAgICAgIHNlbmRBSU1lc3NhZ2UocHJvbXB0KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gRmVybWVyIGF2ZWMgRXNjYXBlXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZSkgPT4ge1xuICAgIGlmIChlLmtleSA9PT0gJ0VzY2FwZScgJiYgYWlDaGF0T3Blbikge1xuICAgICAgY2xvc2VBSUNoYXQoKTtcbiAgICB9XG4gIH0pO1xufSk7XG4iXSwKICAibWFwcGluZ3MiOiAiTUFBQSxTQUFTLGlCQUFpQixtQkFBb0IsSUFBTSxDQUFwRCxJQUFBQSxHQUNFLFFBQVEsSUFBSSwyQkFBd0IsRUFDcEMsSUFBTUMsR0FBZSxTQUFTLGNBQWMsZUFBZSxFQUN2REEsSUFDRkEsR0FBYSxpQkFBaUIsUUFBUyxTQUFZLENBQ2pEQSxHQUFhLFNBQVcsR0FDeEIsR0FBSSxDQUNGLE1BQU0sTUFBTSxjQUFlLENBQ3pCLE9BQVEsT0FDUixRQUFTLENBQ1AsZUFBZ0Isa0JBQ2xCLENBQ0YsQ0FBQyxDQUNILE9BQVNDLEVBQUssQ0FDWixRQUFRLE1BQU0sMENBQXdDQSxDQUFHLENBQzNELFFBQUUsQ0FDQSxPQUFPLFNBQVMsS0FBTyxtQkFDekIsQ0FDRixDQUFDLEVBR0gsSUFBTUMsR0FBVSxTQUFTLGNBQWMsc0JBQXNCLEVBQ3ZEQyxHQUFpQixTQUFTLGNBQWMsOEJBQThCLEVBQ3RFQyxHQUFpQixTQUFTLGlCQUFpQiw2QkFBNkIsRUFDeEVDLEdBQXNCLFNBQVMsaUJBQWlCLDRCQUE0QixFQUM1RUMsR0FBTyxTQUFTLEtBQ2xCQyxHQUFjLEdBRVpDLEdBQW9CLElBQU0sQ0FDOUIsR0FBSSxDQUFDTixHQUNILE9BR0YsR0FEa0IsT0FBTyxXQUFXLHFCQUFxQixFQUFFLFFBQzVDLENBQ2JBLEdBQVEsVUFBVSxPQUFPLFFBQVEs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QWEsVUFBVyxZQUFhLFVBQVcsWUFBYSxVQUFXLFlBQWEsVUFBVyxZQUFhLFVBQVcsWUFBYSxVQUFXLFlBQWEsVUFDcE8sVUFBVyxVQUFXLFdBQVksVUFBVyxXQUFZLFVBQVcsV0FBWSxVQUFXLFdBQVksVUFBVyxXQUFZLFVBQVcsV0FBWSxVQUFXLFdBQVksVUFBVyxXQUFZLFVBQVcsV0FBWSxVQUMxTixZQUFhLFVBQVcsYUFBYyxVQUFXLGFBQWMsVUFBVyxhQUFjLFVBQVcsYUFBYyxVQUFXLGFBQWMsVUFBVyxhQUFjLFVBQVcsYUFBYyxVQUFXLGFBQWMsVUFBVyxhQUFjLFVBQzlPLFlBQWEsVUFBVyxhQUFjLFVBQVcsYUFBYyxVQUFXLGFBQWMsVUFBVyxhQUFjLFVBQVcsYUFBYyxVQUFXLGFBQWMsVUFBVyxhQUFjLFVBQVcsYUFBYyxVQUFXLGFBQWMsVUFDOU8sVUFBVyxVQUFXLFdBQVksVUFBVyxXQUFZLFVBQVcsV0FBWSxVQUFXLFdBQVksVUFBVyxXQUFZLFVBQVcsV0FBWSxVQUFXLFdBQVksVUFBVyxXQUFZLFVBQVcsV0FBWSxVQUMxTixhQUFjLFVBQVcsY0FBZSxVQUFXLGNBQWUsVUFBVyxjQUFlLFVBQVcsY0FBZSxVQUFXLGNBQWUsVUFBVyxjQUFlLFVBQVcsY0FBZSxVQUFXLGNBQWUsVUFBVyxjQUFlLFVBQ3hQLFVBQVcsVUFBVyxXQUFZLFVBQVcsV0FBWSxVQUFXLFdBQVksVUFBVyxXQUFZLFVBQVcsV0FBWSxVQUFXLFdBQVksVUFBVyxXQUFZLFVBQVcsV0FBWSxVQUFXLFdBQVksVUFDMU4sV0FBWSxVQUFXLFlBQWEsVUFBVyxZQUFhLFVBQVcsWUFBYSxVQUFXLFlBQWEsVUFBVyxZQUFhLFVBQVcsWUFBYSxVQUFXLFlBQWEsVUFBVyxZQUFhLFVBQVcsWUFBYSxVQUNwTyxTQUFVLFVBQVcsVUFBVyxVQUFXLFVBQVcsVUFBVyxVQUFXLFVBQVcsVUFBVyxVQUFXLFVBQVcsVUFBVyxVQUFXLFVBQVcsVUFBVyxVQUFXLFVBQVcsVUFBVyxVQUFXLFNBQ2xOLEVBQ2NBLENBQVMsR0FBSyxTQUM5QixD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SEFDVCxRQUFTLHFOQUNULFlBQWEsNklBQ2YsRUFHQXJELElBQUEsTUFBQUEsR0FBYyxpQkFBaUIsUUFBUyxJQUFNLENBQ3hDVyxHQUNGTSxHQUFZLEVBRVpGLEdBQVcsQ0FFZixHQUVBWixJQUFBLE1BQUFBLEdBQWEsaUJBQWlCLFFBQVNjLElBQ3ZDZixJQUFBLE1BQUFBLEdBQWUsaUJBQWlCLFFBQVNlLElBRXpDYixJQUFBLE1BQUFBLEdBQWEsaUJBQWlCLFFBQVMsSUFBTSxDQUN2QyxRQUFRLDZDQUE4QyxHQUN4RGdELEdBQWUsQ0FFbkIsR0FFQS9DLElBQUEsTUFBQUEsR0FBWSxpQkFBaUIsU0FBV3RlLEdBQU0sQ0EvOU9oRCxJQUFBNWIsRUFnK09JNGIsRUFBRSxlQUFlLEVBQ2pCLElBQU14VixHQUFVcEcsRUFBQW02QixJQUFBLFlBQUFBLEdBQWEsUUFBYixZQUFBbjZCLEVBQW9CLE9BQ2hDb0csSUFDRit6QixHQUFZLE1BQVEsR0FDcEI2QixHQUFjNTFCLENBQU8sRUFFekIsR0FFQW0wQixHQUFlLFFBQVEvWCxHQUFPLENBQzVCQSxFQUFJLGlCQUFpQixRQUFTLElBQU0sQ0FDbEMsSUFBTTJNLEVBQVMzTSxFQUFJLFFBQVEsUUFDckIyYSxFQUFTRCxHQUFhL04sQ0FBTSxFQUM5QmdPLEdBQ0ZuQixHQUFjbUIsQ0FBTSxDQUV4QixDQUFDLENBQ0gsQ0FBQyxFQUdELFNBQVMsaUJBQWlCLFVBQVl2aEIsR0FBTSxDQUN0Q0EsRUFBRSxNQUFRLFVBQVk0ZSxJQUN4Qk0sR0FBWSxDQUVoQixDQUFDLENBQ0gsQ0FBQyIsCiAgIm5hbWVzIjogWyJfYSIsICJsb2dvdXRCdXR0b24iLCAiZXJyIiwgInNpZGViYXIiLCAic2lkZWJhck92ZXJsYXkiLCAic2lkZWJhclRvZ2dsZXMiLCAic2lkZWJhckNsb3NlQnV0dG9ucyIsICJib2R5IiwgInNpZGViYXJPcGVuIiwgImFwcGx5U2lkZWJhclN0YXRlIiwgIm9wZW5TaWRlYmFyIiwgImNsb3NlU2lkZWJhciIsICJidXR0b24iLCAiZXZlbnQiLCAiQUNUSVZFX1NJVEVfS0VZIiwgIkFDVElWRV9TSVRFX05BTUVfS0VZIiwgInN0b3JlZFNpdGUiLCAicmF3U2x1ZyIsICJlbnN1cmVMZWFkaW5nU2xhc2giLCAic3RyaXBMZWFkaW5nU2xhc2giLCAic2l0ZUNhcmRzIiwgInNpdGVTZWxlY3RCdXR0b25zIiwgInNpdGVOYW1lTGFiZWwiLCAid29ya3NwYWNlU2l0ZUxhYmVsIiwgIndvcmtzcGFjZUJhY2tOYW1lIiwgIndvcmtzcGFjZUJhY2tNb2RhbCIsICJ3b3Jrc3BhY2VCYWNrQnV0dG9ucyIsICJ3b3Jrc3BhY2VCYWNrQ2FuY2VsIiwgIndvcmtzcGFjZUJhY2tDb25maXJtIiwgIndvcmtzcGFjZU5hdkxpbmtzIiwgInNpdGVUb2FzdCIsICJzaXRlVG9hc3RNZXNzYWdlIiwgInNpdGVDcmVhdGVCdXR0b25zIiwgInNpdGVNb2RhbCIsICJzaXRlRm9ybSIsICJzaXRlTmFtZUlucHV0IiwgInNpdGVTbHVnSW5wdXQiLCAic2l0ZVNsdWdFcnJvciIsICJzaXRlTW9kYWxFcnJvciIsICJzaXRlTW9kYWxDYW5jZWxCdXR0b25zIiwgInNpdGVNb2RhbFN1Ym1pdEJ1dHRvbiIsICJ3b3Jrc3BhY2VDb250ZXh0IiwgImdldFdvcmtzcGFjZUNvbnRleHQiLCAic2x1Z01hbnVhbGx5RWRpdGVkIiwgInRvYXN0VGltZW91dElkIiwgImZvY3VzYWJsZVNlbGVjdG9yIiwgIm1vZGFsU3RhY2siLCAiZ2V0Rm9jdXNhYmxlRWxlbWVudHMiLCAibW9kYWwiLCAiZWwiLCAiaGFuZGxlTW9kYWxLZXlkb3duIiwgImN1cnJlbnRFbnRyeSIsICJvbkNsb3NlIiwgImZvY3VzYWJsZUVsZW1lbnRzIiwgImZpcnN0IiwgImxhc3QiLCAiYWN0aXZhdGVNb2RhbCIsICJmb2N1c2FibGUiLCAiX2IiLCAiZGVhY3RpdmF0ZU1vZGFsIiwgImluZGV4IiwgImVudHJ5IiwgIm1vYmlsZVBhbmVsT3ZlcmxheSIsICJtb2JpbGVQYW5lbExheWVyIiwgIm1vYmlsZVBhbmVscyIsICJtb2JpbGVQYW5lbExheWVyUGxhY2Vob2xkZXIiLCAicmlnaHRQYW5lbFBsYWNlaG9sZGVyIiwgIm1vYmlsZVBhbmVsVG9nZ2xlcyIsICJtb2JpbGVQYW5lbENsb3NlQnV0dG9ucyIsICJtb2JpbGVQYW5lbFRyaWdnZXJzIiwgImFjdGl2ZU1vYmlsZVBhbmVsIiwgImlzRGVza3RvcFZpZXdwb3J0IiwgImVuc3VyZU1vYmlsZVBhbmVsTGF5ZXJQbGFjZW1lbnQiLCAidGFyZ2V0UGFyZW50IiwgImVuc3VyZVJpZ2h0UGFuZWxQbGFjZW1lbnQiLCAicGFuZWwiLCAibGVmdFBhbmVsIiwgImVuc3VyZU1vYmlsZVBhbmVsUGxhY2VtZW50IiwgInBhbmVsRGVmYXVsdFoiLCAic2lkZSIsICJjb21wdXRlZFoiLCAiYWN0aXZlUGFuZWxaIiwgIm1heCIsICJ2YWx1ZSIsICJzZXRQYW5lbFpTdGF0ZSIsICJpc0FjdGl2ZSIsICJhcHBseVBhbmVsQ2xhc3NlcyIsICJjbGFzc2VzIiwgIm1ldGhvZCIsICJjbHMiLCAic2V0UGFuZWxIaWRkZW5TdGF0ZSIsICJoaWRkZW4iLCAiaGlkZGVuQ2xhc3NlcyIsICJ2aXNpYmxlQ2xhc3NlcyIsICJjbG9zZU1vYmlsZVBhbmVsIiwgInRyaWdnZXIiLCAib3Blbk1vYmlsZVBhbmVsIiwgImZvY3VzVGFyZ2V0IiwgInN5bmNNb2JpbGVQYW5lbHNXaXRoVmlld3BvcnQiLCAic2hvd1RvYXN0IiwgIm1lc3NhZ2UiLCAic2x1ZyIsICJ0cmltbWVkIiwgIndpdGhvdXRMZWFkaW5nIiwgInBlcnNpc3RTaXRlU3RhdGUiLCAibmFtZSIsICJub3JtYWxpemVkU2x1ZyIsICJ1cGRhdGVTaXRlTGFiZWxzIiwgInVwZGF0ZVdvcmtzcGFjZU5hdkxpbmtzIiwgImxpbmsiLCAidGFiIiwgInNsdWdQYXRoIiwgImFwcGx5QWN0aXZlU2l0ZSIsICJvcHRpb25zIiwgImFjdGl2ZVNpdGVOYW1lIiwgImNhcmQiLCAiYmFkZ2UiLCAiZmluYWxOYW1lIiwgInNlbGVjdFNpdGUiLCAicmVzcG9uc2UiLCAicGF5bG9hZCIsICJmaW5hbFNsdWciLCAic3luY0FjdGl2ZVNpdGVGcm9tU2VydmVyIiwgInNpdGUiLCAiZGVmYXVsdENhcmQiLCAid29ya3NwYWNlU2x1Z2lmeSIsICJub3JtYWxpemVTbHVnVmFsdWUiLCAiYmFzZSIsICJvcGVuU2l0ZU1vZGFsIiwgImNsb3NlU2l0ZU1vZGFsIiwgInNsdWdWYWwiLCAibmFtZVZhbCIsICJnZXRTbHVnU2V0IiwgIm5hbWVWYWx1ZSIsICJzbHVnVmFsdWUiLCAiY3JlYXRlZFNpdGUiLCAiY2xvc2VXb3Jrc3BhY2VCYWNrTW9kYWwiLCAibWF0Y2giLCAiZGV0ZWN0V29ya3NwYWNlU2VjdGlvbiIsICJvcGVuV29ya3NwYWNlQmFja01vZGFsIiwgIlRSQU5TUEFSRU5UX1BBVFRFUk4iLCAicGFyc2VDc3NDb2xvclRvUmdiIiwgIm5vcm1hbGl6ZWQiLCAicmdiTWF0Y2giLCAiaGV4TWF0Y2giLCAiaGV4IiwgIm5vcm1hbGl6ZWRIZXgiLCAiYyIsICJyIiwgImciLCAiYiIsICJnZXRSZWFkYWJsZVRleHRDb2xvciIsICJiYWNrZ3JvdW5kQ29sb3IiLCAicmdiIiwgInN0eWxlU2VsZWN0T3B0aW9ucyIsICJzZWxlY3QiLCAib3B0aW9uIiwgIm9wdGlvbkNvbG9yIiwgImFjdGl2ZVNlY3Rpb24iLCAiaW5pdERlc2lnbldvcmtzcGFjZSIsICJpbml0Q29udGVudFdvcmtzcGFjZSIsICJpbml0TWVkaWFXb3Jrc3BhY2UiLCAiaW5pdERlcGxveVdvcmtzcGFjZSIsICJpbml0U2V0dGluZ3NXb3Jrc3BhY2UiLCAicGFnZUxpc3RzIiwgImFjdGl2ZVRpdGxlIiwgImFjdGl2ZVNsdWciLCAicHJldmlld1RhZ3MiLCAicHJldmlld0ZyYW1lIiwgInByZXZpZXdGcmFtZVdyYXBwZXIiLCAicHJldmlld1NoZWxsIiwgInByZXZpZXdWaWV3QnV0dG9ucyIsICJwcmV2aWV3Q3VycmVudFZpZXdMYWJlbCIsICJwcmV2aWV3T3BlbkJ1dHRvbiIsICJwcmV2aWV3U3RhdHVzIiwgInByZXZpZXdIaWdobGlnaHRPdmVybGF5IiwgInNlb1RvZ2dsZUJ1dHRvbiIsICJzZW9QYW5lbCIsICJzZW9DbG9zZUJ1dHRvbiIsICJzZW9Gb3JtIiwgInNlb1RpdGxlSW5wdXQiLCAic2VvRGVzY3JpcHRpb25JbnB1dCIsICJzZW9JbmRleGVkQ2hlY2tib3giLCAic2VvRmVlZGJhY2siLCAic2VvU2F2ZUJ1dHRvbiIsICJwYWdlQWNjZXNzaWJpbGl0eVRvZ2dsZUJ1dHRvbiIsICJwYWdlQWNjZXNzaWJpbGl0eVBhbmVsIiwgInBhZ2VBY2Nlc3NpYmlsaXR5Q2xvc2VCdXR0b24iLCAicGFnZUFjY2Vzc2liaWxpdHlGb3JtIiwgInBhZ2VBY2Nlc3NpYmlsaXR5TmF2Q2hlY2tib3giLCAicGFnZUFjY2Vzc2liaWxpdHlNYWluSW5wdXQiLCAicGFnZUFjY2Vzc2liaWxpdHlGZWVkYmFjayIsICJwYWdlQWNjZXNzaWJpbGl0eVNhdmVCdXR0b24iLCAicGFnZVByb3BzVG9nZ2xlQnV0dG9uIiwgInBhZ2VQcm9wc1BhbmVsIiwgInBhZ2VQcm9wc0Nsb3NlQnV0dG9uIiwgInBhZ2VQcm9wc0Zvcm0iLCAicGFnZU5hbWVJbnB1dCIsICJwYWdlVGl0bGVJbnB1dCIsICJwYWdlU2x1Z0lucHV0IiwgInBhZ2VEZXNjcmlwdGlvbklucHV0IiwgInBhZ2VQcm9wc0ZlZWRiYWNrIiwgInBhZ2VQcm9wc1NhdmVCdXR0b24iLCAiYmxvY2tMaXN0IiwgImJsb2NrTGlzdEVtcHR5IiwgImJsb2NrQ291bnRCYWRnZSIsICJibG9ja0xpYnJhcnlUb2dnbGUiLCAiYmxvY2tMaWJyYXJ5IiwgImJsb2NrQWRkQnV0dG9ucyIsICJibG9ja0RlbGV0ZU1vZGFsIiwgImJsb2NrRGVsZXRlQ29uZmlybSIsICJibG9ja0RlbGV0ZUNhbmNlbCIsICJibG9ja0RldGFpbEVtcHR5IiwgImJsb2NrRGV0YWlsU3RhdHVzIiwgImJsb2NrRWRpdG9yIiwgImJsb2NrRWRpdG9yVGl0bGUiLCAiYmxvY2tFZGl0b3JUeXBlIiwgImJsb2NrRWRpdG9yVW5zdXBwb3J0ZWQiLCAiYmxvY2tGb3JtIiwgInN0eWxlQ29sb3JDaGlwIiwgImNoaXAiLCAiY29sb3IiLCAiZW5zdXJlQ3VzdG9tVGhlbWVPcHRpb24iLCAib3B0IiwgInVwZGF0ZUNvbG9yU2VsZWN0UHJldmlldyIsICJfYyIsICJzZWxlY3RlZE9wdGlvbiIsICJjb2xvclByZXZpZXciLCAiY29sb3JDaGlwIiwgInRoZW1lQ29sb3JTZWxlY3RzIiwgImlzQmFja2dyb3VuZFRoZW1lU2VsZWN0IiwgInRoZW1lQ29sb3JQcmVzZXRzIiwgImdldENvbXB1dGVkVGhlbWVDb2xvclZhbHVlIiwgImNzc1ZhciIsICJmYWxsYmFjayIsICJjb21wdXRlZCIsICJmaWxsVGhlbWVDb2xvclNlbGVjdCIsICJsYWJlbCIsICJjb2xvclZhbHVlIiwgInJlZnJlc2hUaGVtZUNvbG9yU2VsZWN0cyIsICJibG9ja0Zvcm1TZWN0aW9ucyIsICJibG9ja1RhYnMiLCAiYWN0aXZlQmxvY2tUYWIiLCAibGVmdFBhbmVsVGFicyIsICJsZWZ0UGFuZWxCbG9ja3MiLCAibGVmdFBhbmVsUGFnZXMiLCAiYWN0aXZlTGVmdFRhYiIsICJzd2l0Y2hMZWZ0VGFiIiwgInRhYk5hbWUiLCAiYmxvY2tGb3JtQWN0aW9ucyIsICJibG9ja0Zvcm1BdXRvc2F2ZSIsICJzd2l0Y2hCbG9ja1RhYiIsICJjb2xsZWN0aW9uU2VsZWN0IiwgImNvbGxlY3Rpb25TZWxlY3Rpb25JbmZvIiwgImJsb2NrRm9ybUNhbmNlbCIsICJncm91cFByZXZpZXdNb2JpbGUiLCAiZ3JvdXBQcmV2aWV3RGVza3RvcCIsICJjb2xsZWN0aW9uUHJldmlld01vYmlsZSIsICJjb2xsZWN0aW9uUHJldmlld0Rlc2t0b3AiLCAiYmxvY2tUeXBlRm9ybXMiLCAiYmxvY2tUeXBlQWxpYXNlcyIsICJhbmltYXRpb25GaWVsZE1hcCIsICJjb25maWciLCAidXBkYXRlR3JvdXBNaW5pUHJldmlldyIsICJtb2JpbGVWYWx1ZSIsICJkZXNrdG9wVmFsdWUiLCAicmVuZGVyQm94ZXMiLCAiY291bnQiLCAidXBkYXRlQ29sbGVjdGlvbk1pbmlQcmV2aWV3IiwgImZldGNoUGFnZXNGcm9tU2VydmVyIiwgInBhZ2VzQXBpQmFzZSIsICJjcmVhdGVQYWdlT25TZXJ2ZXIiLCAidGl0bGUiLCAic2F2ZVBhZ2VUb1NlcnZlciIsICJwYWdlIiwgInNhdmVkIiwgIm5vcm1hbGl6ZVBhZ2VEYXRhIiwgInBhZ2VzIiwgImN1cnJlbnRQYWdlIiwgImxvYWRQYWdlc0Zyb21TZXJ2ZXIiLCAiYWN0aXZlUGFnZUlkIiwgInJlbmRlclBhZ2VMaXN0cyIsICJyZW5kZXJCbG9ja0xpc3QiLCAibG9hZGVkUGFnZXMiLCAiZ2V0TG9hZGluZ1ByZXZpZXdIdG1sIiwgImdldFN0b3JlZEFjdGl2ZVBhZ2UiLCAic2V0QWN0aXZlUGFnZSIsICJub3JtYWxpemVUeXBlIiwgImdldEJsb2NrRm9ybUNvbmZpZyIsICJibG9jayIsICJ0eXBlS2V5IiwgImFsaWFzIiwgInBvcHVsYXRlQmxvY2tGb3JtIiwgIl9kIiwgIl9lIiwgIl9mIiwgIl9nIiwgInNlY3Rpb24iLCAiZGVzaXJlZFZhbHVlIiwgInVwZGF0ZUNvbGxlY3Rpb25TZWxlY3RPcHRpb25zIiwgInNldHRpbmdLZXkiLCAiZmllbGROYW1lIiwgImlucHV0IiwgImJnRmllbGROYW1lIiwgImJnU2VsZWN0IiwgImNvbGxlY3RGb3JtVmFsdWVzIiwgInZhbHVlcyIsICJwYXJzZWQiLCAidXBkYXRlUHJldmlld1N0YXR1cyIsICJ0ZXh0IiwgInNlcmlhbGl6ZVBhZ2VGb3JQcmV2aWV3IiwgInNlcmlhbGl6ZUJsb2NrIiwgImRlYm91bmNlIiwgImZuIiwgImRlbGF5IiwgInRpbWVvdXRJZCIsICJhcmdzIiwgImF1dG9TYXZlQXBwZWFyYW5jZSIsICJhY3RpdmVCbG9ja0lkIiwgImdldEFjdGl2ZUJsb2NrIiwgInVwZGF0ZWRCbG9ja3MiLCAidXBkYXRlZFNldHRpbmdzIiwgIm5leHRQYWdlIiwgInAiLCAidXBkYXRlUHJldmlld0Jsb2NrTGl2ZSIsICJibG9ja0lkIiwgInNldHRpbmdzIiwgImRlYm91bmNlZFJlZnJlc2hQcmV2aWV3IiwgInJlZnJlc2hQcmV2aWV3IiwgImhhbmRsZUFwcGVhcmFuY2VDaGFuZ2UiLCAicHJldmlld1NpdGVTbHVnIiwgInNlcmlhbGl6ZWRQYWdlcyIsICJwcmV2aWV3UmVhZHkiLCAicHJldmlld1JlcXVlc3RDb250cm9sbGVyIiwgImNvbnRyb2xsZXIiLCAiZGF0YSIsICJsYXRlc3RQcmV2aWV3SHRtbCIsICJlcnJvciIsICJoYW5kbGVCbG9ja0Zvcm1TdWJtaXQiLCAiYWx0VmFsdWUiLCAidXBkYXRlZEJsb2NrIiwgInVwZGF0ZUN1cnJlbnRQYWdlQmxvY2tzIiwgImRyYXdlciIsICJkcmF3ZXJCYWNrZHJvcCIsICJkcmF3ZXJPcGVuQnV0dG9ucyIsICJkcmF3ZXJDbG9zZUJ1dHRvbnMiLCAiYWRkUGFnZVRvZ2dsZSIsICJhZGRQYWdlRm9ybSIsICJhZGRQYWdlTmFtZSIsICJhZGRQYWdlVGl0bGUiLCAiYWRkUGFnZVNsdWciLCAiYWRkUGFnZUNhbmNlbCIsICJhZGRQYWdlRXJyb3IiLCAiYWRkUGFnZVN1Ym1pdEJ1dHRvbiIsICJpbXBvcnRUb2dnbGUiLCAiaW1wb3J0TW9kYWwiLCAiaW1wb3J0Q2xvc2VCdXR0b25zIiwgImltcG9ydERyb3B6b25lIiwgImltcG9ydEZpbGVJbnB1dCIsICJpbXBvcnRGaWxlTGlzdCIsICJpbXBvcnRGaWxlTmFtZXMiLCAiaW1wb3J0UmVzdWx0cyIsICJpbXBvcnRSZXN1bHRzQ29udGVudCIsICJpbXBvcnRTdWJtaXQiLCAiaW1wb3J0VGFicyIsICJpbXBvcnRQYW5lbHMiLCAiY29weVRlbXBsYXRlQnRuIiwgInRlbXBsYXRlSnNvbiIsICJpbXBvcnRQYXN0ZUlucHV0IiwgInBhc3RlRm9ybWF0QnRuIiwgInBhc3RlRXJyb3IiLCAiaW1wb3J0U2VsZWN0ZWRGaWxlcyIsICJhY3RpdmVJbXBvcnRUYWIiLCAiZGVsZXRlUGFnZU1vZGFsIiwgImRlbGV0ZVBhZ2VOYW1lIiwgImRlbGV0ZVBhZ2VDYW5jZWwiLCAiZGVsZXRlUGFnZUNvbmZpcm0iLCAicGFnZVRvRGVsZXRlIiwgInNpdGVLZXkiLCAic2l0ZVNsdWdWYWx1ZSIsICJzYWZlU2l0ZVNsdWciLCAiY29sbGVjdGlvbnNBcGlCYXNlIiwgInN0b3JhZ2VLZXlzIiwgImNyZWF0ZUJsb2NrIiwgImlkIiwgInR5cGUiLCAic3RhdHVzIiwgImRlc2NyaXB0aW9uIiwgInByb3BzIiwgImJsb2NrTGlicmFyeURlZmluaXRpb25zIiwgInBlcnNpc3RBY3RpdmVQYWdlIiwgInBhZ2VJZCIsICJzdG9yZWQiLCAiZm9ybWF0QmxvY2tDb3VudCIsICJub3JtYWxpemVQYWdlU2x1ZyIsICJnZW5lcmF0ZUJsb2NrSWQiLCAia2V5IiwgImNyZWF0ZUluaXRpYWxCbG9ja3MiLCAic2V0QWN0aXZlTGFiZWxzIiwgInJlbmRlclByZXZpZXdNZXRhIiwgInRhZyIsICJnZXRTdGF0dXNCYWRnZUNsYXNzZXMiLCAicmVuZGVyQmxvY2tEZXRhaWxzIiwgInJlYWRBY2NlbnRDb2xvciIsICJhcHBseVByZXZpZXdIaWdobGlnaHQiLCAiZG9jIiwgIm5vZGUiLCAiYWNjZW50IiwgInByZXZpZXdWaWV3UHJlc2V0cyIsICJzZXRQcmV2aWV3VmlldyIsICJ2aWV3IiwgInRhcmdldCIsICJzdHlsZXMiLCAiY3JlYXRlQmxvY2tJdGVtRWxlbWVudCIsICJpc05lc3RlZCIsICJwYXJlbnRJZCIsICJibG9ja1R5cGUiLCAiaXNHcm91cCIsICJpdGVtIiwgImNvbnRlbnQiLCAiaGFuZGxlIiwgInRleHRXcmFwcGVyIiwgIm1ldGEiLCAidHlwZUJhZGdlIiwgInN0YXR1c0JhZGdlIiwgImNoaWxkQ291bnQiLCAiY2hpbGRCYWRnZSIsICJkaXNwbGF5TGFiZWwiLCAiY29sbGVjdGlvbk5hbWUiLCAiZGVzaWduQ29sbGVjdGlvbnMiLCAiaW5mbyIsICJhY3Rpb25zIiwgIm1vdmVCdXR0b25zIiwgIm1vdmVVcCIsICJtb3ZlQ2hpbGRCbG9ja0J5T2Zmc2V0IiwgIm1vdmVCbG9ja0J5T2Zmc2V0IiwgIm1vdmVEb3duIiwgImRlbGV0ZUJ1dHRvbiIsICJyZW1vdmVDaGlsZEZyb21Hcm91cCIsICJvcGVuQmxvY2tEZWxldGVNb2RhbCIsICJzZXRBY3RpdmVCbG9jayIsICJjcmVhdGVHcm91cERyb3Bab25lIiwgInBhcmVudEJsb2NrIiwgImRyb3Bab25lIiwgImUiLCAibW92ZUJsb2NrVG9Hcm91cCIsICJvcGVuQWRkQmxvY2tUb0dyb3VwTW9kYWwiLCAiYmxvY2tzIiwgImNoaWxkIiwgImNoaWxkSXRlbSIsICJncm91cElkIiwgImJsb2NrSW5kZXgiLCAiZ3JvdXBCbG9jayIsICJtb3ZlZEJsb2NrIiwgImNoaWxkSWQiLCAiY2hpbGRJbmRleCIsICJncm91cEluZGV4IiwgIm9mZnNldCIsICJjdXJyZW50SW5kZXgiLCAibmV3SW5kZXgiLCAicGVuZGluZ0dyb3VwSWRGb3JOZXdCbG9jayIsICJvcGVuRGVsZXRlUGFnZU1vZGFsIiwgImNsb3NlRGVsZXRlUGFnZU1vZGFsIiwgImV4ZWN1dGVEZWxldGVQYWdlIiwgInBhZ2VUaXRsZSIsICJyZXN1bHQiLCAiYWN0aXZlSWQiLCAibGlzdCIsICJkaXNwbGF5TmFtZSIsICJuYXZCYWRnZSIsICJpc0Rlc2t0b3BEcmF3ZXIiLCAiY2xvc2VEcmF3ZXIiLCAiZGVsZXRlQnRuIiwgImFjdGl2ZUJsb2NrUGFyZW50SWQiLCAidGFyZ2V0QmxvY2siLCAiZm91bmQiLCAibmV3QmxvY2tzIiwgInVwZGF0ZUN1cnJlbnRQYWdlU3RhdGUiLCAiaXNEZXNrdG9wUmVvcmRlciIsICJtb3ZlZCIsICJyZW9yZGVyQmxvY2tzIiwgInNvdXJjZUlkIiwgInRhcmdldElkIiwgImZyb21JbmRleCIsICJ0b0luZGV4IiwgInJlb3JkZXJCbG9ja3NXaXRoUG9zaXRpb24iLCAicG9zaXRpb24iLCAiaW5zZXJ0SW5kZXgiLCAidXBkYXRlRHJhZ2dhYmxlU3RhdGUiLCAiZHJhZ2dhYmxlIiwgImNsb3NlQmxvY2tMaWJyYXJ5IiwgImJsb2NrTGlicmFyeU9wZW4iLCAib3BlbkJsb2NrTGlicmFyeSIsICJ0b2dnbGVCbG9ja0xpYnJhcnkiLCAiYWRkQmxvY2tGcm9tTGlicmFyeSIsICJkZWZpbml0aW9uIiwgIm5ld0Jsb2NrIiwgImZpcnN0Q29sbGVjdGlvbklkIiwgIm5leHRCbG9ja3MiLCAiZGVsZXRlQmxvY2tCeUlkIiwgIm5leHRBY3RpdmUiLCAiY2xvc2VCbG9ja0RlbGV0ZU1vZGFsIiwgInBlbmRpbmdEZWxldGVCbG9ja0lkIiwgInN5bmNQYWdlQWNjZXNzaWJpbGl0eUZpZWxkcyIsICJzeW5jRHJhd2VyU3RhdGUiLCAib3BlbkRyYXdlciIsICJvcGVuQWRkUGFnZUZvcm0iLCAicGFnZVNsdWdNYW51YWxseUVkaXRlZCIsICJjbG9zZUFkZFBhZ2VGb3JtIiwgInN5bmNTbHVnRnJvbU5hbWUiLCAibm9ybWFsaXplQmxvY2tEYXRhIiwgImxvYWREZXNpZ25Db2xsZWN0aW9ucyIsICJjdXJyZW50VmFsdWUiLCAic3luY0NvbGxlY3Rpb25TZWxlY3Rpb25JbmZvIiwgImNvbGxlY3Rpb25JZCIsICJjb2xsZWN0aW9uIiwgImRldGFpbHMiLCAic2VsZWN0ZWRWYWx1ZSIsICJmYWxsYmFja09wdGlvbiIsICJjcmVhdGVkUGFnZSIsICJyZXNldFBhc3RlU3RhdGUiLCAidmFsaWRhdGVQYXN0ZUpzb24iLCAiZm9ybWF0UGFzdGVKc29uIiwgInVwZGF0ZUltcG9ydFN1Ym1pdFN0YXRlIiwgIm9wZW5JbXBvcnRNb2RhbCIsICJ1cGRhdGVJbXBvcnRGaWxlTGlzdCIsICJ0IiwgImNsb3NlSW1wb3J0TW9kYWwiLCAiZiIsICJoYW5kbGVJbXBvcnRGaWxlcyIsICJmaWxlcyIsICJqc29uRmlsZXMiLCAiZXhlY3V0ZUltcG9ydCIsICJfaCIsICJfaSIsICJfaiIsICJfayIsICJwYWdlc0RhdGEiLCAicGFyc2VFcnIiLCAiZXJyb3JMaW5lIiwgImVycm9yRGV0YWlsIiwgInBvcyIsICJsaW5lcyIsICJsaW5lTnVtIiwgImNvbE51bSIsICJmaWxlRXJyb3JzIiwgImZpbGUiLCAiaHRtbCIsICJoYXNEYXRhIiwgImhhc1N1Y2Nlc3MiLCAiaGFzRXJyb3JzIiwgImNvbGxlY3Rpb25zTXNnIiwgImJ0biIsICJ0YXJnZXRQYW5lbCIsICJ0YXJnZXRWaWV3IiwgInByZXZpZXdXaW5kb3ciLCAidG9nZ2xlU2VvUGFuZWwiLCAic2hvdyIsICJzZXRTZW9GZWVkYmFjayIsICJ0b25lIiwgImlzVmlzaWJsZSIsICJzZW9EYXRhIiwgInVwZGF0ZWRQYWdlIiwgInRvZ2dsZVBhZ2VBY2Nlc3NpYmlsaXR5UGFuZWwiLCAic2V0UGFnZUFjY2Vzc2liaWxpdHlGZWVkYmFjayIsICJhY2Nlc3NpYmlsaXR5RGF0YSIsICJ0b2dnbGVQYWdlUHJvcHNQYW5lbCIsICJzZXRQYWdlUHJvcHNGZWVkYmFjayIsICJuZXdOYW1lIiwgIm5ld1RpdGxlIiwgIm5ld1NsdWciLCAibmV3RGVzY3JpcHRpb24iLCAiaGFuZGxlQmxvY2tEcmFnU3RhcnQiLCAiZHJhZ1NvdXJjZUlkIiwgImNsZWFyRHJhZ0luZGljYXRvcnMiLCAiaGFuZGxlQmxvY2tEcmFnRW5kIiwgImhhbmRsZUJsb2NrRHJhZ092ZXIiLCAicmVjdCIsICJtaWRZIiwgImlzQWJvdmUiLCAiaGFuZGxlQmxvY2tEcmFnTGVhdmUiLCAicmVsYXRlZFRhcmdldCIsICJoYW5kbGVCbG9ja0Ryb3AiLCAic291cmNlIiwgImRyb3BQb3NpdGlvbiIsICJhY3RpdmVQYWdlIiwgImNvbGxlY3Rpb25MaXN0IiwgImNvbnRlbnRWaWV3cyIsICJjb250ZW50U2VjdGlvbkJ1dHRvbnMiLCAiY29udGVudFNlY3Rpb25UcmlnZ2VycyIsICJoZWFkZXJTdGF0dXNJbmRpY2F0b3IiLCAiZm9vdGVyU3RhdHVzSW5kaWNhdG9yIiwgImNvbGxlY3Rpb25Db3VudEVsIiwgIml0ZW1QYW5lbCIsICJpdGVtUGFuZWxDbG9zZUJ1dHRvbnMiLCAiY29sbGVjdGlvbkVtcHR5U3RhdGUiLCAiY29sbGVjdGlvbkl0ZW1zRW1wdHkiLCAiaXRlbVRhYmxlV3JhcHBlciIsICJpdGVtVGFibGVCb2R5IiwgImNvbGxlY3Rpb25UaXRsZSIsICJjb2xsZWN0aW9uRGVzY3JpcHRpb24iLCAiaXRlbUFkZEJ1dHRvbiIsICJpdGVtRGV0YWlsRW1wdHkiLCAiaXRlbUZvcm0iLCAiaXRlbUZvcm1GaWVsZHMiLCAiaXRlbVN0YXR1c0JhZGdlIiwgIml0ZW1EZWxldGVCdXR0b24iLCAiaXRlbURlbGV0ZU1vZGFsIiwgIml0ZW1EZWxldGVDYW5jZWwiLCAiaXRlbURlbGV0ZUNvbmZpcm0iLCAiaXRlbUZvcm1DYW5jZWwiLCAiaXRlbUZvcm1TYXZlIiwgInN0YXR1c0JhZGdlQmFzZUNsYXNzIiwgInNldEl0ZW1QYW5lbEhpZGRlblN0YXRlIiwgInN5bmNJdGVtUGFuZWxXaXRoVmlld3BvcnQiLCAiaGlkZUl0ZW1Gb3JtIiwgImhlYWRlckZpZWxkcyIsICJoZWFkZXJOYXZMaXN0IiwgImhlYWRlck5hdkFkZEJ0biIsICJoZWFkZXJTYXZlQnRuIiwgImhlYWRlck5hdkl0ZW1UZW1wbGF0ZSIsICJoZWFkZXJQYWdlc0xpc3QiLCAic2l0ZVBhZ2VzIiwgInNlbGVjdGVkTmF2UGFnZXMiLCAiZm9vdGVyRmllbGRzIiwgImZvb3RlckNvbHVtbnNMaXN0IiwgImZvb3RlckNvbHVtbkFkZEJ0biIsICJmb290ZXJTYXZlQnRuIiwgImZvb3RlckNvbHVtblRlbXBsYXRlIiwgImZvb3RlckxpbmtUZW1wbGF0ZSIsICJhY3RpdmVDb250ZW50U2VjdGlvbiIsICJoZWFkZXJEYXRhIiwgImZvb3RlckRhdGEiLCAic2FmZVNpdGVTbHVnRm9yTGF5b3V0IiwgImxheW91dEFwaUJhc2UiLCAic2hvd0NvbnRlbnRWaWV3IiwgInZpZXdOYW1lIiwgImxvYWRTaXRlUGFnZXNGb3JIZWFkZXIiLCAicmVuZGVyUGFnZUNoZWNrYm94ZXMiLCAibm9ybWFsaXplTmF2UGFnZVVybCIsICJyYXciLCAibG93ZXIiLCAid2l0aG91dFNsYXNoZXMiLCAiY2xlYW5lZEludGVybmFsIiwgImNsZWFuZWQiLCAibm9ybWFsaXplT3B0aW9uYWxOYXZVcmwiLCAiZGVmYXVsdFZhbHVlIiwgInBhZ2VTbHVnIiwgInBhZ2VEaXNwbGF5TmFtZSIsICJwYWdlVXJsIiwgImlzU2VsZWN0ZWQiLCAibmF2IiwgImNoZWNrYm94IiwgImNvbGxlY3RIZWFkZXJEYXRhIiwgInVybCIsICJwb3B1bGF0ZUhlYWRlckZvcm0iLCAiYWRkRm9vdGVyTGluayIsICJjb250YWluZXIiLCAiY2xvbmUiLCAibGFiZWxJbnB1dCIsICJ1cmxJbnB1dCIsICJyZW1vdmVCdG4iLCAiYWRkRm9vdGVyQ29sdW1uIiwgImxpbmtzIiwgImNvbHVtbiIsICJ0aXRsZUlucHV0IiwgImxpbmtzQ29udGFpbmVyIiwgImFkZExpbmtCdG4iLCAiY29sbGVjdEZvb3RlckRhdGEiLCAiX2wiLCAiX20iLCAiX24iLCAiX28iLCAiX3AiLCAiX3EiLCAiX3IiLCAiX3MiLCAiX3QiLCAiY29sdW1ucyIsICJjb2wiLCAibGlua0VsIiwgInBvcHVsYXRlRm9vdGVyRm9ybSIsICJ2IiwgInNhZmVTaXRlU2x1Z1ZhbHVlIiwgImNvbGxlY3Rpb25zIiwgImNvbGxlY3Rpb25JdGVtcyIsICJhY3RpdmVDb2xsZWN0aW9uSWQiLCAiYWN0aXZlSXRlbUlkIiwgImlzQ3JlYXRpbmdJdGVtIiwgIml0ZW1TbHVnTWFudWFsbHlFZGl0ZWQiLCAicGVuZGluZ0RlbGV0ZUl0ZW1JZCIsICJub3JtYWxpemVJdGVtU2x1Z0lucHV0IiwgImNsZWFuZWRTZWdtZW50cyIsICJzZWdtZW50IiwgImZvcm1hdEl0ZW1EYXRlIiwgImRhdGUiLCAidXBkYXRlQ29sbGVjdGlvbkhlYWRlciIsICJ1cGRhdGVJdGVtc0VtcHR5TWVzc2FnZSIsICJzaG93SXRlbUZvcm0iLCAic3luY0FkZEJ1dHRvblN0YXRlIiwgInN5bmNJdGVtU3RhdHVzQmFkZ2UiLCAiY29sb3JDbGFzcyIsICJyZW5kZXJDb2xsZWN0aW9uTGlzdCIsICJzZXRBY3RpdmVDb2xsZWN0aW9uIiwgInJlbmRlckl0ZW1UYWJsZSIsICJyb3ciLCAic3RhdHVzQ2xhc3NlcyIsICJoYW5kbGVTZWxlY3QiLCAic2VsZWN0SXRlbSIsICJpdGVtSWQiLCAicG9wdWxhdGVJdGVtRm9ybSIsICJwcmVwYXJlTmV3SXRlbUZvcm0iLCAiY29sbGVjdEl0ZW1Gb3JtVmFsdWVzIiwgInNsdWdJbnB1dCIsICJzdW1tYXJ5IiwgImltYWdlIiwgImN0YVRleHQiLCAiY3RhVXJsIiwgImN0YSIsICJzZXRGb3JtU2F2aW5nU3RhdGUiLCAiaXNTYXZpbmciLCAiZmV0Y2hDb2xsZWN0aW9uSXRlbXMiLCAiY3JlYXRlQ29sbGVjdGlvbkl0ZW0iLCAidXBkYXRlQ29sbGVjdGlvbkl0ZW0iLCAiZGVsZXRlQ29sbGVjdGlvbkl0ZW0iLCAibG9hZENvbGxlY3Rpb25zIiwgImRlZmF1bHRJZCIsICJzYXZlZEl0ZW0iLCAiY2xvc2VEZWxldGVNb2RhbCIsICJvcGVuRGVsZXRlTW9kYWwiLCAiZm9ybSIsICJwcm90b2NvbFNlbGVjdCIsICJob3N0SW5wdXQiLCAicG9ydElucHV0IiwgInVzZXJJbnB1dCIsICJwYXNzd29yZElucHV0IiwgInNob3dQYXNzd29yZFRvZ2dsZSIsICJyZW1vdGVQYXRoSW5wdXQiLCAiZmVlZGJhY2siLCAic2F2ZUJ1dHRvbiIsICJ0ZXN0QnV0dG9uIiwgImRlcGxveUJ1dHRvbiIsICJoaXN0b3J5TGlzdCIsICJsb2dCb3giLCAiZGVwbG95QXBpQmFzZSIsICJkZXBsb3lSdW5BcGkiLCAiZGVwbG95TG9nQXBpIiwgImhhc1Bhc3N3b3JkIiwgImJ1c3lBY3Rpb24iLCAic2FuaXRpemVSZW1vdGVQYXRoIiwgInNldEZlZWRiYWNrIiwgImJhc2VDbGFzcyIsICJ0b25lQ2xhc3MiLCAiaWNvbiIsICJzZXRCdXN5IiwgImFjdGlvbiIsICJkaXNhYmxlIiwgInNwaW5uZXIiLCAicG9wdWxhdGVGb3JtIiwgInJlbmRlckhpc3RvcnkiLCAiZW50cmllcyIsICJsaSIsICJkdXJhdGlvbiIsICJyZW5kZXJMb2dzIiwgImZldGNoSGlzdG9yeSIsICJmZXRjaENvbmZpZyIsICJidWlsZFBheWxvYWQiLCAicHdkIiwgImVycm9yUGF5bG9hZCIsICJkb3dubG9hZEJ1dHRvbiIsICJkb3dubG9hZEZlZWRiYWNrIiwgImRvd25sb2FkQXBpIiwgInNldERvd25sb2FkRmVlZGJhY2siLCAib3JpZ2luYWxDb250ZW50IiwgImVycm9yRGF0YSIsICJibG9iIiwgImEiLCAidGFiQnV0dG9ucyIsICJ0YWJQYW5lbHMiLCAic2l0ZUZlZWRiYWNrIiwgInRoZW1lRm9ybSIsICJzd2l0Y2hUYWIiLCAic3VibWl0IiwgImZvcm1EYXRhIiwgImN1cnJlbnRQYXNzd29yZCIsICJuZXdQYXNzd29yZCIsICJjb25maXJtUGFzc3dvcmQiLCAibmFtZUlucHV0IiwgImxhbmdTZWxlY3QiLCAidGFnbGluZUlucHV0IiwgInNldFNpdGVGZWVkYmFjayIsICJzaXRlQ29uZmlnQXBpIiwgImxvYWRTaXRlQ29uZmlnIiwgInRoZW1lQXBpIiwgImNvbG9yU2VsZWN0cyIsICJoZWFkaW5nU2VsZWN0IiwgImJvZHlTZWxlY3QiLCAicmFkaXVzU21hbGwiLCAicmFkaXVzTWVkaXVtIiwgInJhZGl1c0xhcmdlIiwgInByZXZpZXciLCAidGhlbWVGZWVkYmFjayIsICJhcHBseUJ1dHRvbiIsICJ0YWlsd2luZEJhc2VNYXAiLCAidGFpbHdpbmRUb2tlblRvSGV4IiwgInRva2VuIiwgImgiLCAicyIsICJzaGFkZU51bSIsICJmYWN0b3IiLCAidG9SZ2IiLCAibWl4IiwgInRhaWx3aW5kSHVlcyIsICJ0YWlsd2luZFNoYWRlcyIsICJ0YWlsd2luZFRva2VucyIsICJuZXV0cmFsVG9rZW5zIiwgImNvbG9yT3B0aW9uRGVmaW5pdGlvbnMiLCAiZW1vamkiLCAibm9ybWFsaXplU2VsZWN0Q29sb3IiLCAiZmlsbENvbG9yT3B0aW9ucyIsICJzZWxlY3RlZENvbG9ycyIsICJzZWwiLCAibm9ybWFsaXplZFZhbHVlIiwgInNldFRoZW1lRmVlZGJhY2siLCAic3luY1ByZXZpZXciLCAidG9rZW5Ub0hleCIsICJzdHlsZVRoZW1lQ29sb3JDaGlwIiwgInVwZGF0ZVRoZW1lQ29sb3JQcmV2aWV3IiwgImluaXRDb2xvclByZXZpZXdzIiwgImxvYWRUaGVtZSIsICJ0aGVtZUNvbG9ycyIsICJzZW9Db25maWdGb3JtIiwgImluZGV4QWxsQ2hlY2tib3giLCAic2VvQ29uZmlnRmVlZGJhY2siLCAibG9hZFNlb0NvbmZpZyIsICJpbmRleEFsbCIsICJjdXJyZW50UmVzIiwgImN1cnJlbnRDb25maWciLCAiYW5hbHl0aWNzRm9ybSIsICJoZWFkVGV4dGFyZWEiLCAiYm9keVRleHRhcmVhIiwgImFuYWx5dGljc0ZlZWRiYWNrIiwgImFuYWx5dGljc1NhdmVCdXR0b24iLCAic2V0QW5hbHl0aWNzRmVlZGJhY2siLCAibG9hZEFuYWx5dGljc0NvbmZpZyIsICJhY2Nlc3NpYmlsaXR5Rm9ybSIsICJhbmltYXRpb25zVG9nZ2xlIiwgImNvbnRyYXN0VG9nZ2xlIiwgImFjY2Vzc2liaWxpdHlGZWVkYmFjayIsICJhY2Nlc3NpYmlsaXR5U2F2ZUJ1dHRvbiIsICJzZXRBY2Nlc3NpYmlsaXR5RmVlZGJhY2siLCAibG9hZEFjY2Vzc2liaWxpdHlDb25maWciLCAiYWlDb25maWdGb3JtIiwgImFwaUtleUlucHV0IiwgIm1vZGVsU2VsZWN0IiwgInByb2plY3RQcm9tcHRUZXh0YXJlYSIsICJlbmFibGVkQ2hlY2tib3giLCAiYWlGZWVkYmFjayIsICJhaVNhdmVCdXR0b24iLCAiYWlDb25maWdBcGkiLCAic2V0QUlGZWVkYmFjayIsICJsb2FkQUlDb25maWciLCAiYXBpS2V5VmFsdWUiLCAiZ3JpZCIsICJlbXB0eVN0YXRlIiwgImNvdW50QmFkZ2UiLCAiZmlsdGVyVHlwZSIsICJkZXRhaWxFbXB0eSIsICJkZXRhaWxQYW5lbCIsICJkZXRhaWxQcmV2aWV3IiwgImRldGFpbE5hbWUiLCAiZGV0YWlsVHlwZSIsICJkZXRhaWxTaXplIiwgImRldGFpbFBhdGgiLCAiZGV0YWlsVXNlZCIsICJkZXRhaWxBbHRJbnB1dCIsICJkZXRhaWxTYXZlQnV0dG9uIiwgImRldGFpbERlbGV0ZUJ1dHRvbiIsICJkZWxldGVNb2RhbCIsICJkZWxldGVDYW5jZWxCdXR0b24iLCAiZGVsZXRlQ29uZmlybUJ1dHRvbiIsICJ1cGxvYWRPcGVuQnV0dG9uIiwgImZpbGVJbnB1dCIsICJ1cGxvYWRTdGF0dXMiLCAibWVkaWFBcGlCYXNlIiwgIm1lZGlhSXRlbXMiLCAiZmlsdGVyZWRJdGVtcyIsICJhY3RpdmVNZWRpYUlkIiwgImhpZ2hsaWdodE1lZGlhSWQiLCAicGVuZGluZ1VwbG9hZEZpbGUiLCAidXBsb2FkSW5Qcm9ncmVzcyIsICJkZXRhaWxEaXJ0eSIsICJ1cGxvYWRNb2RlIiwgInVwbG9hZFByZXZpZXdVcmwiLCAiZGVyaXZlR3JvdXBUeXBlIiwgImZpbGVuYW1lIiwgImlzSW1hZ2VUeXBlIiwgImZvcm1hdFR5cGVMYWJlbCIsICJleHQiLCAiZm9ybWF0RmlsZVNpemUiLCAic2l6ZSIsICJyZXNldERldGFpbFBhbmVsIiwgImNsZWFyVXBsb2FkU3RhdGUiLCAidXBkYXRlRGV0YWlsQWN0aW9ucyIsICJ1cGRhdGVDb3VudEJhZGdlIiwgInJlbmRlckdyaWQiLCAic2VsZWN0TWVkaWEiLCAicmVuZGVyVXNlZEluIiwgInNhdmluZyIsICJtZWRpYUlkIiwgInNob3dVcGxvYWRQcmV2aWV3IiwgImFwcGx5RmlsdGVycyIsICJ0eXBlRmlsdGVyIiwgImxvYWRNZWRpYSIsICJoYW5kbGVGaWxlU2VsZWN0aW9uIiwgInJlYWRGaWxlQXNCYXNlNjQiLCAicmVzb2x2ZSIsICJyZWplY3QiLCAicmVhZGVyIiwgImJhc2U2NCIsICJ1cGxvYWRTZWxlY3RlZE1lZGlhIiwgImRlbGV0ZUFjdGl2ZU1lZGlhIiwgImRpc2FibGVCdXR0b25zIiwgImVuYWJsZUJ1dHRvbnMiLCAidXBkYXRlZCIsICJhaUNoYXRUb2dnbGUiLCAiYWlDaGF0UGFuZWwiLCAiYWlDaGF0T3ZlcmxheSIsICJhaUNoYXRDbG9zZSIsICJhaUNoYXRDbGVhciIsICJhaUNoYXRGb3JtIiwgImFpQ2hhdElucHV0IiwgImFpQ2hhdE1lc3NhZ2VzIiwgImFpQ2hhdFN0YXR1cyIsICJhaUNoYXROb0FwaSIsICJhaVF1aWNrQnV0dG9ucyIsICJhaUNoYXRPcGVuIiwgImFpSXNMb2FkaW5nIiwgImFpQ29uZmlnQ2hlY2tlZCIsICJhaUhhc0FwaUtleSIsICJvcGVuQUlDaGF0IiwgImNoZWNrQUlDb25maWciLCAiY2xvc2VBSUNoYXQiLCAic2l0ZVNsdWciLCAibG9hZEFJQ2hhdEhpc3RvcnkiLCAid2VsY29tZU1zZyIsICJtc2ciLCAiYXBwZW5kQUlNZXNzYWdlIiwgInJvbGUiLCAibXNnRGl2IiwgImVzY2FwZUh0bWwiLCAiZm9ybWF0dGVkQ29udGVudCIsICJmb3JtYXRBSVJlc3BvbnNlIiwgInNob3dBSUxvYWRpbmciLCAibG9hZGluZ0RpdiIsICJoaWRlQUlMb2FkaW5nIiwgImZvcm1hdHRlZCIsICJsYW5nIiwgImNvZGUiLCAiZGl2IiwgInNlbmRBSU1lc3NhZ2UiLCAiYXBwZW5kRWRpdFByb3Bvc2FsIiwgImFwcGVuZFRoZW1lUHJvcG9zYWwiLCAicHJvcG9zYWwiLCAicHJvcG9zYWxEaXYiLCAiY2hhbmdlc0h0bWwiLCAiaGFuZGxlQXBwbHlFZGl0IiwgImhhbmRsZVJlamVjdEVkaXQiLCAiY29sb3JzSHRtbCIsICJjb2xvcnMiLCAiZ2V0VGFpbHdpbmRDb2xvckNzcyIsICJ0eXBvSHRtbCIsICJ0eXBvIiwgImhhbmRsZUFwcGx5VGhlbWUiLCAiY29sb3JOYW1lIiwgInByb3Bvc2FsSWQiLCAicHJvcG9zYWxDYXJkIiwgImNsZWFyQUlIaXN0b3J5IiwgInF1aWNrUHJvbXB0cyIsICJwcm9tcHQiXQp9Cg==
