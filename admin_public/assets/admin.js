(()=>{document.addEventListener("DOMContentLoaded",()=>{var Cr;console.log("[admin] Atelier charg\xE9");let Eo=document.querySelector("[data-logout]");Eo&&Eo.addEventListener("click",async()=>{Eo.disabled=!0;try{await fetch("/api/logout",{method:"POST",headers:{"Content-Type":"application/json"}})}catch(o){console.error("[admin] Impossible de se d\xE9connecter",o)}finally{window.location.href="/admin/index.html"}});let Cs=document.querySelector("[data-admin-sidebar]"),vt=document.querySelector("[data-admin-sidebar-overlay]"),cr=document.querySelectorAll("[data-admin-sidebar-toggle]"),Xr=document.querySelectorAll("[data-admin-sidebar-close]"),qo=document.body,Zs=!1,Ks=()=>{if(!Cs)return;if(window.matchMedia("(min-width: 1024px)").matches){Cs.classList.remove("hidden"),vt==null||vt.classList.add("hidden"),qo.classList.remove("overflow-hidden");return}Zs?(Cs.classList.remove("hidden"),vt==null||vt.classList.remove("hidden"),qo.classList.add("overflow-hidden")):(Cs.classList.add("hidden"),vt==null||vt.classList.add("hidden"),qo.classList.remove("overflow-hidden"))},en=()=>{Zs=!0,Ks()},Ao=()=>{Zs=!1,Ks()};Cs&&cr.length>0&&(cr.forEach(o=>{o.addEventListener("click",en)}),Xr.forEach(o=>{o.addEventListener("click",Ao)}),vt==null||vt.addEventListener("click",Ao),window.addEventListener("resize",Ks),window.addEventListener("keydown",o=>{o.key==="Escape"&&Zs&&Ao()}),Ks());let dr="clower:currentSite",ur="clower:currentSiteName",te={slug:null,name:""};(()=>{try{let o=window.localStorage.getItem(dr);te.slug=o?It(Ie(o)):null,te.name=window.localStorage.getItem(ur)||""}catch{te.slug=null,te.name=""}})();let To=document.querySelectorAll("[data-site-card]"),tn=document.querySelectorAll("[data-site-select]"),Es=document.querySelector("[data-current-site-name]"),mr=document.querySelector("[data-workspace-site-name]"),fr=document.querySelector("[data-workspace-back-name]"),Tt=document.querySelector("[data-workspace-back-modal]"),sn=document.querySelectorAll("[data-workspace-back]"),on=document.querySelectorAll("[data-workspace-back-cancel]"),Io=document.querySelector("[data-workspace-back-confirm]"),rn=document.querySelectorAll("[data-workspace-tab]"),Bo=document.querySelector("[data-site-toast]"),pr=document.querySelector("[data-site-toast-message]"),nn=document.querySelectorAll("[data-site-create]"),dt=document.querySelector("[data-site-modal]"),at=document.querySelector("[data-site-form]"),Xe=at==null?void 0:at.querySelector('input[name="siteName"]'),Me=at==null?void 0:at.querySelector('input[name="siteSlug"]'),et=document.querySelector("[data-site-slug-error]"),tt=document.querySelector("[data-site-modal-error]"),an=document.querySelectorAll("[data-site-modal-cancel]"),ms=document.querySelector("[data-site-modal-submit]"),G=vn(),_s=!1,$o=null,gr='a[href], button:not([disabled]), textarea, input, select, [tabindex]:not([tabindex="-1"])',fs=[],hr=o=>Array.from(o.querySelectorAll(gr)).filter(n=>!n.hasAttribute("disabled")&&!n.getAttribute("aria-hidden")),ln=o=>{if(!fs.length)return;let n=fs[fs.length-1],{modal:c,onClose:f}=n;if(o.key==="Escape"){o.preventDefault(),f==null||f();return}if(o.key!=="Tab")return;let p=hr(c);if(!p.length)return;let y=p[0],O=p[p.length-1];o.shiftKey?document.activeElement===y&&(o.preventDefault(),O.focus()):document.activeElement===O&&(o.preventDefault(),y.focus())};document.addEventListener("keydown",ln);let qs=(o,n)=>{if(!o)return;fs.push({modal:o,onClose:n,trigger:document.activeElement instanceof HTMLElement?document.activeElement:null});let c=hr(o);window.setTimeout(()=>{var f,p;(p=(f=c[0]||o).focus)==null||p.call(f)},0)},As=o=>{var f,p;let n=fs.findIndex(y=>y.modal===o);if(n===-1)return;let[c]=fs.splice(n,1);(p=(f=c.trigger)==null?void 0:f.focus)==null||p.call(f)},ae=document.querySelector("[data-mobile-panels-overlay]"),me=document.querySelector("[data-mobile-panels-layer]"),xt={left:document.querySelector('[data-mobile-panel="left"]'),right:document.querySelector('[data-mobile-panel="right"]')},_t=null;me!=null&&me.parentElement&&(_t=document.createComment("mobile-panels-layer-placeholder"),me.parentElement.insertBefore(_t,me));let Yt=null;(Cr=xt.right)!=null&&Cr.parentElement&&(Yt=document.createComment("mobile-panel-right-placeholder"),xt.right.parentElement.insertBefore(Yt,xt.right));let yr=document.querySelectorAll("[data-mobile-panel-toggle]"),cn=document.querySelectorAll("[data-mobile-panel-close]"),Ts={left:null,right:null},Ct=null,Qt=()=>window.matchMedia("(min-width: 1024px)").matches,dn=()=>{if(!(!me||!_t)){if(Qt()){let o=_t.parentElement;if(!o)return;(me.parentElement!==o||_t.nextSibling!==me)&&o.insertBefore(me,_t.nextSibling),me.dataset.mobilePanelPlacement="sidebar";return}me.parentElement!==document.body&&(document.body.appendChild(me),me.dataset.mobilePanelPlacement="overlay")}},un=()=>{let o=xt.right;if(!(!o||!Yt)){if(Qt()){let n=Yt.parentElement;if(!n)return;(o.parentElement!==n||Yt.nextSibling!==o)&&n.insertBefore(o,Yt.nextSibling),o.dataset.mobilePanelPlacement="sidebar";return}if(me){let n=xt.left;n&&n.parentElement===me?(o.parentElement!==me||o.previousSibling!==n)&&me.insertBefore(o,n.nextSibling):o.parentElement!==me&&me.appendChild(o),o.dataset.mobilePanelPlacement="overlay"}else o.parentElement!==document.body&&(document.body.appendChild(o),o.dataset.mobilePanelPlacement="overlay")}},br=()=>{dn(),un()};br();let Ys={};Object.entries(xt).forEach(([o,n])=>{if(!n)return;let c=Number(window.getComputedStyle(n).zIndex)||0;Ys[o]=c});let mn=(Object.values(Ys).reduce((o,n)=>Math.max(o,n||0),0)||150)+5,Qs=(o,n)=>{let c=xt[o];if(c){if(Qt()){c.style.removeProperty("z-index");return}n?c.style.zIndex=String(mn):Ys[o]?c.style.zIndex=String(Ys[o]):c.style.removeProperty("z-index")}},Dt=(o,n,c)=>{!o||!n||n.split(" ").map(f=>f.trim()).filter(Boolean).forEach(f=>o.classList[c](f))},Po=(o,n)=>{if(!o)return;let c=o.dataset.mobilePanelHidden||"",f=o.dataset.mobilePanelVisible||"translate-x-0";n?(Dt(o,f,"remove"),Dt(o,c,"add"),o.classList.add("pointer-events-none"),o.classList.remove("pointer-events-auto"),o.setAttribute("aria-hidden","true"),o.dataset.mobilePanelOpen="false"):(Dt(o,c,"remove"),Dt(o,f,"add"),o.classList.remove("pointer-events-none"),o.classList.add("pointer-events-auto"),o.setAttribute("aria-hidden","false"),o.dataset.mobilePanelOpen="true")},Is=(o=Ct)=>{var f;if(!o||Qt())return;let n=xt[o];if(!n)return;Qs(o,!1),Po(n,!0);let c=Ts[o];c&&c.setAttribute("aria-expanded","false"),Ts[o]=null,Ct===o&&(ae==null||ae.classList.add("hidden"),ae==null||ae.classList.remove("pointer-events-auto"),ae==null||ae.classList.add("pointer-events-none"),ae==null||ae.setAttribute("aria-hidden","true"),me==null||me.classList.add("pointer-events-none"),document.body.classList.remove("overflow-hidden"),(f=c==null?void 0:c.focus)==null||f.call(c),Ct=null)},fn=(o,n)=>{if(!o||Qt())return;let c=xt[o];if(!c)return;Ct&&Ct!==o&&Is(Ct),Po(c,!1),Qs(o,!0),Ct=o,Ts[o]=n||null,n&&n.setAttribute("aria-expanded","true"),ae==null||ae.classList.remove("hidden","pointer-events-none"),ae==null||ae.classList.add("pointer-events-auto"),ae==null||ae.setAttribute("aria-hidden","false"),me==null||me.classList.remove("pointer-events-none"),document.body.classList.add("overflow-hidden");let f=c.querySelector(gr);window.setTimeout(()=>{var p;(p=f==null?void 0:f.focus)==null||p.call(f)},0)},vr=()=>{br(),Qt()?(ae==null||ae.classList.add("hidden"),me==null||me.classList.add("pointer-events-none"),document.body.classList.remove("overflow-hidden"),Ct=null,Object.keys(xt).forEach(o=>{let n=xt[o];if(!n)return;Qs(o,!1),n.classList.remove("pointer-events-none"),n.classList.add("pointer-events-auto"),n.setAttribute("aria-hidden","false"),n.dataset.mobilePanelOpen="false";let c=Ts[o];c==null||c.setAttribute("aria-expanded","false"),Ts[o]=null})):(Object.entries(xt).forEach(([o,n])=>{n&&n.dataset.mobilePanelOpen!=="true"&&(Po(n,!0),Qs(o,!1))}),Ct||(ae==null||ae.classList.add("hidden","pointer-events-none"),ae==null||ae.classList.remove("pointer-events-auto"),ae==null||ae.setAttribute("aria-hidden","true"),me==null||me.classList.add("pointer-events-none")))};yr.length>0&&(yr.forEach(o=>{let n=o.dataset.mobilePanelToggle;o.addEventListener("click",()=>{Ct===n?Is(n):fn(n,o)})}),cn.forEach(o=>{let n=o.dataset.mobilePanelClose;o.addEventListener("click",()=>Is(n))}),ae==null||ae.addEventListener("click",()=>Is()),window.addEventListener("keydown",o=>{o.key==="Escape"&&Ct&&!Qt()&&Is()}),window.addEventListener("resize",vr),vr());let F=o=>{!Bo||!pr||(pr.textContent=o,Bo.classList.remove("hidden"),$o&&clearTimeout($o),$o=setTimeout(()=>{Bo.classList.add("hidden")},2500))};function It(o){if(!o)return"";let n=`${o}`.trim();if(!n)return"";let c=n.replace(/^\/+/,"");return c?`/${c}`:"/"}function Ie(o){return o?`${o}`.replace(/^\/+/,""):""}let Xs=(o,n)=>{let c=o?It(o):null;try{c&&(window.localStorage.setItem(dr,c),te.slug=c),typeof n=="string"&&n.length>0&&(window.localStorage.setItem(ur,n),te.name=n)}catch{te.slug=c||te.slug,te.name=n||te.name}},xr=o=>{Es&&o&&(Es.textContent=o),mr&&o&&(mr.textContent=o),fr&&o&&(fr.textContent=o)},jo=o=>{rn.forEach(n=>{let c=n.dataset.workspaceTab;if(!c)return;if(!o){n.href="#",n.classList.add("pointer-events-none","opacity-50","text-slate-400"),n.setAttribute("aria-disabled","true");return}let f=encodeURIComponent(Ie(o));n.href=`/admin/site/${f}/${c}`,n.classList.remove("pointer-events-none","opacity-50","text-slate-400"),n.removeAttribute("aria-disabled")})},eo=(o,n={})=>{if(!o)return;let c=It(o),f=n.siteName||te.name||(Es==null?void 0:Es.dataset.defaultSiteName)||"";To.forEach(y=>{let U=It(y.dataset.siteCard||"")===c,J=y.querySelector("[data-site-active-badge]");U?(y.classList.add("border-[#9C6BFF]","ring-2","ring-[#9C6BFF]","shadow-md"),y.classList.remove("border-slate-200"),J==null||J.classList.remove("hidden"),f=y.dataset.siteName||f):(y.classList.remove("border-[#9C6BFF]","ring-2","ring-[#9C6BFF]","shadow-md"),y.classList.add("border-slate-200"),J==null||J.classList.add("hidden"))}),n.persist!==!1&&Xs(c,n.siteName||f);let p=n.siteName||f;xr(p),jo(c)},pn=async(o,n)=>{let c=It(o);try{let f=await fetch("/api/sites/select",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({slug:c})});if(!f.ok){let J=await f.json().catch(()=>({}));F(J.message||"Impossible de s\xE9lectionner ce site.");return}let p=await f.json().catch(()=>({})),y=It(p.slug||c),O=p.name||n;Xs(y,O),eo(y,{siteName:O,persist:!1});let U=encodeURIComponent(Ie(y));window.location.href=`/admin/site/${U}/design`}catch(f){console.error("[admin] Impossible de s\xE9lectionner le site",f),F("Erreur inattendue lors de la s\xE9lection.")}},gn=async()=>{try{let o=await fetch("/api/sites/current",{credentials:"same-origin"});if(!o.ok){o.status===404&&G&&(window.location.href="/admin/sites");return}let n=await o.json(),c=It(n.slug);Xs(c,n.name),eo(c,{siteName:n.name,persist:!1})}catch(o){console.warn("[admin] Impossible de r\xE9cup\xE9rer le site actif",o)}};(()=>{if(te.slug){eo(te.slug,{siteName:te.name,persist:!1});return}let o=document.querySelector('[data-site-card][data-site-default="true"]')||To[0];o&&eo(o.dataset.siteCard,{siteName:o.dataset.siteName||"",persist:!1})})(),gn(),G?jo(G.slugValue):te.slug&&jo(te.slug),tn.forEach(o=>{o.addEventListener("click",()=>{if(o.disabled)return;let n=o.dataset.siteSelect,c=o.dataset.siteSelectName||"Ce site";n&&(o.disabled=!0,pn(n,c).finally(()=>{o.disabled=!1}))})});let Xt=o=>(o||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),hn=o=>{let n=Xt(o||"");return n?`/${n}`:""},yn=()=>{dt&&(dt.classList.remove("hidden"),dt.classList.add("flex"),_s=!1,at==null||at.reset(),et&&(et.textContent=""),tt&&(tt.textContent=""),Me&&Xe&&(Me.value=Xt(Xe.value)),qs(dt,Bs),window.setTimeout(()=>{Xe==null||Xe.focus()},0))},Bs=()=>{dt&&(dt.classList.add("hidden"),dt.classList.remove("flex"),_s=!1,at==null||at.reset(),et&&(et.textContent=""),tt&&(tt.textContent=""),As(dt))};nn.forEach(o=>{o.addEventListener("click",yn)}),an.forEach(o=>{o.addEventListener("click",Bs)}),dt==null||dt.addEventListener("click",o=>{o.target===dt&&Bs()}),Xe==null||Xe.addEventListener("input",()=>{Me&&((!_s||Me.value.trim().length===0)&&(Me.value=Xt(Xe.value)),et&&(et.textContent=""),tt&&(tt.textContent=""))}),Me==null||Me.addEventListener("focus",()=>{let o=(Me==null?void 0:Me.value)||"",n=(Xe==null?void 0:Xe.value)||"";!o.trim()&&n.trim()&&(Me.value=Xt(n))}),Me==null||Me.addEventListener("input",()=>{_s=!0,et&&(et.textContent=""),tt&&(tt.textContent="")});let bn=()=>new Set(Array.from(To).map(o=>It(o.dataset.siteCard||"")));at==null||at.addEventListener("submit",async o=>{if(o.preventDefault(),console.log("[admin] Form submit - siteNameInput:",Xe,"siteSlugInput:",Me),!Xe||!Me){console.log("[admin] Missing inputs, aborting");return}let n=(Xe.value||"").trim(),c=(Me.value||"").trim();console.log("[admin] nameValue:",n,"slugValue:",c),!c&&n&&(c=Xt(n),Me.value=c,console.log("[admin] Auto-generated slug:",c));let f=hn(c);if(console.log("[admin] normalizedSlug:",f),!n){console.log("[admin] Name validation failed"),tt&&(tt.textContent="Le nom du site est requis."),Xe.focus();return}if(!f){console.log("[admin] Slug validation failed"),et&&(et.textContent="Le slug ne peut pas \xEAtre vide ou contenir uniquement des caract\xE8res sp\xE9ciaux."),Me.focus();return}if(bn().has(f)){et&&(et.textContent="Ce slug est d\xE9j\xE0 utilis\xE9.");return}et&&(et.textContent=""),tt&&(tt.textContent=""),ms&&(ms.disabled=!0,ms.textContent="Cr\xE9ation...");try{let y=await fetch("/api/sites",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:n,slug:f})});if(!y.ok){let K=await y.json().catch(()=>({})),w=K.message||"Impossible de cr\xE9er ce site.";tt&&(tt.textContent=w),K.field==="slug"&&et&&(et.textContent=w);return}let O=await y.json(),U=It((O==null?void 0:O.slug)||f),J=(O==null?void 0:O.name)||n;Xs(U,J),Bs();let ee=encodeURIComponent(Ie(U));window.location.href=`/admin/site/${ee}/design`}catch(y){console.error("[admin] Impossible de cr\xE9er le site",y),tt&&(tt.textContent="Erreur inattendue. R\xE9essaie dans un instant.")}finally{ms&&(ms.disabled=!1,ms.textContent="Cr\xE9er")}}),window.addEventListener("keydown",o=>{o.key==="Escape"&&(dt&&!dt.classList.contains("hidden")&&Bs(),Tt&&!Tt.classList.contains("hidden")&&to(),blockDeleteModal&&!blockDeleteModal.classList.contains("hidden")&&closeBlockDeleteModal(),blockLibraryOpen&&closeBlockLibrary())});function vn(){let o=window.location.pathname.match(/^\/admin\/site\/([^/]+)(?:\/([^/]+))?/);return o?{slugPart:decodeURIComponent(o[1]),slugValue:It(decodeURIComponent(o[1])),section:o[2]||"design"}:null}function xn(){return document.querySelector("[data-page-list]")?"design":document.querySelector("[data-collection-list]")?"content":document.querySelector("[data-media-grid]")?"media":document.querySelector("[data-deploy-form]")?"deploy":null}function wn(){if(!Tt){window.location.href="/admin/sites";return}Tt.classList.remove("hidden"),Tt.classList.add("flex"),qs(Tt,to)}function to(){Tt&&(Tt.classList.add("hidden"),Tt.classList.remove("flex"),As(Tt))}sn.forEach(o=>{o.addEventListener("click",wn)}),on.forEach(o=>{o.addEventListener("click",to)}),Io==null||Io.addEventListener("click",()=>{to(),window.location.href="/admin/sites"});let es="repeating-conic-gradient(#ccc 0% 25%, white 0% 50%) 50% / 8px 8px",Sn=o=>{if(!o||typeof o!="string")return null;let n=o.trim().toLowerCase();if(n==="transparent")return null;let c=n.match(/^rgb\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*\\)$/);if(c)return[Math.min(255,Math.max(0,Number(c[1]))),Math.min(255,Math.max(0,Number(c[2]))),Math.min(255,Math.max(0,Number(c[3])))];let f=n.match(/^#([a-f0-9]{3}|[a-f0-9]{6})$/);if(f){let p=f[1],y=p.length===3?p.split("").map(ee=>`${ee}${ee}`).join(""):p,O=parseInt(y.slice(0,2),16),U=parseInt(y.slice(2,4),16),J=parseInt(y.slice(4,6),16);return[O,U,J]}return null},Mo=o=>{let n=Sn(o);if(!n)return"#0f172a";let[c,f,p]=n;return(.2126*c+.7152*f+.0722*p)/255>.62?"#0f172a":"#ffffff"},so=o=>{o&&Array.from(o.options).forEach(n=>{var f;let c=(f=n.dataset)==null?void 0:f.color;if(c){if(c==="transparent"){n.style.background=es,n.style.color="#475569";return}n.style.background=c,n.style.color=Mo(c)}})},$s=(G==null?void 0:G.section)||xn();$s==="design"&&Ln(),$s==="content"&&kn(),$s==="media"&&qn(),$s==="deploy"&&Cn(),$s==="settings"&&En(),G&&te.name&&xr(te.name);function Ln(){let o=document.querySelectorAll("[data-page-list]");if(o.length===0)return;let n=document.querySelector("[data-active-page-title]"),c=document.querySelector("[data-active-page-slug]"),f=document.querySelector("[data-page-preview-tags]"),p=document.querySelector("[data-page-preview-frame]"),y=document.querySelector("[data-page-preview-frame-wrapper]"),O=document.querySelector("[data-page-preview-shell]"),U=document.querySelectorAll("[data-preview-view-button]"),J=document.querySelector("[data-page-preview-current-view]"),ee=document.querySelector("[data-preview-open]"),K=document.querySelector("[data-preview-status]"),w=document.querySelector("[data-preview-highlight]"),B=document.querySelector("[data-seo-toggle]"),j=document.querySelector("[data-seo-panel]"),N=document.querySelector("[data-seo-close]"),M=document.querySelector("[data-seo-form]"),R=document.querySelector("[data-seo-title]"),L=document.querySelector("[data-seo-description]"),S=document.querySelector("[data-seo-indexed]"),v=document.querySelector("[data-seo-feedback]"),T=document.querySelector("[data-seo-save]"),A=document.querySelector("[data-page-accessibility-toggle]"),H=document.querySelector("[data-page-accessibility-panel]"),Z=document.querySelector("[data-page-accessibility-close]"),Y=document.querySelector("[data-page-accessibility-form]"),_=document.querySelector("[data-page-accessibility-nav]"),xe=document.querySelector("[data-page-accessibility-main]"),Ee=document.querySelector("[data-page-accessibility-feedback]"),Ge=document.querySelector("[data-page-accessibility-save]"),we=document.querySelector("[data-page-props-toggle]"),W=document.querySelector("[data-page-props-panel]"),Pe=document.querySelector("[data-page-props-close]"),ze=document.querySelector("[data-page-props-form]"),$=document.querySelector("[data-page-name]"),k=document.querySelector("[data-page-title-input]"),V=document.querySelector("[data-page-slug-input]"),ge=document.querySelector("[data-page-description]"),C=document.querySelector("[data-page-props-feedback]"),x=document.querySelector("[data-page-props-save]"),E=document.querySelector("[data-blocks-list]"),ie=document.querySelector("[data-blocks-empty]"),Q=document.querySelector("[data-block-count]"),he=document.querySelector("[data-block-library-toggle]"),ce=document.querySelector("[data-block-library]"),Se=document.querySelectorAll("[data-block-add]"),ue=document.querySelector("[data-block-delete-modal]"),De=document.querySelector("[data-block-delete-confirm]"),Fe=document.querySelector("[data-block-delete-cancel]"),Ce=document.querySelector("[data-block-detail-empty]"),qe=document.querySelector("[data-block-detail-status]"),je=document.querySelector("[data-block-editor]"),Ht=document.querySelector("[data-block-editor-block-name]"),h=document.querySelector("[data-block-editor-block-type]"),P=document.querySelector("[data-block-editor-unsupported]"),g=document.querySelector("[data-block-form]"),le=(e,t)=>{if(e){if(t==="transparent"){e.style.background=es,e.style.borderColor="#cbd5f5",e.style.boxShadow="";return}e.style.background=t,e.style.borderColor=t,e.style.boxShadow="0 0 0 1px rgba(15,23,42,0.15)"}},$t=(e,t)=>{if(!e||!t||Array.from(e.options).some(r=>r.value===t))return;let s=document.createElement("option");s.value=t,s.textContent="Couleur personnalis\xE9e",s.dataset.color=t,t==="transparent"?(s.style.background=es,s.style.color="#475569"):(s.style.background=t,s.style.color=Mo(t)),e.appendChild(s),so(e)},ts=e=>{var l,m,q;if(!e)return;let t=e.options[e.selectedIndex],s=((l=t==null?void 0:t.dataset)==null?void 0:l.color)||"#ffffff",r=(m=e.closest(".relative"))==null?void 0:m.querySelector("[data-color-preview]");r&&(s==="transparent"?r.style.background=es:r.style.background=s);let a=(q=e.closest(".relative"))==null?void 0:q.querySelector("[data-theme-color-chip]");le(a,s)},ao=g?Array.from(g.querySelectorAll("[data-theme-color-select]")):[],Ro=e=>{var s;return(((s=e==null?void 0:e.getAttribute)==null?void 0:s.call(e,"name"))||"").endsWith("-bg")},Ps=[{label:"Couleur primaire",value:"theme-primary",cssVar:"--color-primary"},{label:"Couleur secondaire",value:"theme-secondary",cssVar:"--color-secondary"},{label:"Couleur accent",value:"theme-accent",cssVar:"--color-accent"},{label:"Fond",value:"theme-background",cssVar:"--color-background"},{label:"Texte",value:"theme-text",cssVar:"--color-text"}],Er=(e,t="#ffffff")=>{if(!e)return t;let s=getComputedStyle(document.documentElement).getPropertyValue(e);return s?s.trim():t},io=e=>{e&&(e.innerHTML="",Ps.forEach(({label:t,value:s,cssVar:r})=>{let a=document.createElement("option");a.value=s;let l=Er(r);a.textContent=t,a.dataset.color=l,l==="transparent"?(a.style.background=es,a.style.color="#475569"):(a.style.background=l,a.style.color=Mo(l)),e.appendChild(a)}),e.value=Ps[0].value,e.removeAttribute("disabled"),Ro(e)&&so(e),ts(e))},ut=()=>ao.forEach(io);ut(),document.addEventListener("ai-theme-updated",ut);let Pt=g?Array.from(g.querySelectorAll("[data-editor-section]")):[],He=e=>!g||!(e!=null&&e.section)?null:g.querySelector(`[data-editor-section="${e.section}"]`),Ve=document.querySelectorAll("[data-block-tab]"),Oe="content",mt=document.querySelectorAll("[data-left-tab]"),Wt=document.querySelector('[data-left-panel="blocks"]'),Ut=document.querySelector('[data-left-panel="pages"]'),js="blocks",zo=e=>{js=e,mt.forEach(t=>{let s=t.dataset.leftTab===e;t.setAttribute("aria-selected",s?"true":"false"),s?(t.classList.add("text-[#9C6BFF]"),t.classList.remove("text-slate-500","hover:text-slate-700"),t.classList.add("after:absolute","after:bottom-0","after:left-0","after:right-0","after:h-0.5","after:bg-[#9C6BFF]")):(t.classList.remove("text-[#9C6BFF]"),t.classList.add("text-slate-500","hover:text-slate-700"),t.classList.remove("after:absolute","after:bottom-0","after:left-0","after:right-0","after:h-0.5","after:bg-[#9C6BFF]"))}),Wt&&Wt.classList.toggle("hidden",e!=="blocks"),Ut&&Ut.classList.toggle("hidden",e!=="pages")};mt.forEach(e=>{e.addEventListener("click",()=>{zo(e.dataset.leftTab)})});let Gt=document.querySelector("[data-block-form-actions]"),ss=document.querySelector("[data-block-form-autosave]"),Rt=e=>{Oe=e,Ve.forEach(s=>{let r=s.dataset.blockTab===e;s.setAttribute("aria-selected",r?"true":"false"),r?(s.classList.add("text-[#9C6BFF]"),s.classList.remove("text-slate-500","hover:text-slate-700"),s.classList.add("after:absolute","after:bottom-0","after:left-0","after:right-0","after:h-0.5","after:bg-[#9C6BFF]")):(s.classList.remove("text-[#9C6BFF]"),s.classList.add("text-slate-500","hover:text-slate-700"),s.classList.remove("after:absolute","after:bottom-0","after:left-0","after:right-0","after:h-0.5","after:bg-[#9C6BFF]"))});let t=g==null?void 0:g.querySelector("[data-editor-section]:not(.hidden)");t&&t.querySelectorAll("[data-block-panel]").forEach(r=>{r.dataset.blockPanel===e?r.classList.remove("hidden"):r.classList.add("hidden")}),Gt&&ss&&(e==="content"?(Gt.classList.remove("hidden"),ss.classList.add("hidden")):(Gt.classList.add("hidden"),ss.classList.remove("hidden")))};Ve.forEach(e=>{e.addEventListener("click",()=>{Rt(e.dataset.blockTab)})});let Je=g==null?void 0:g.querySelector('[name="collection-grid-collection"]'),zt=g==null?void 0:g.querySelector("[data-collection-selection-info]"),os=document.querySelector("[data-block-form-cancel]"),Ms=g==null?void 0:g.querySelector("[data-group-preview-mobile]"),gt=g==null?void 0:g.querySelector("[data-group-preview-desktop]"),lo=g==null?void 0:g.querySelector("[data-collection-preview-mobile]"),gs=g==null?void 0:g.querySelector("[data-collection-preview-desktop]"),co={hero:{section:"hero",labelField:"title",descriptionField:"subtitle",fields:{title:"hero-title",subtitle:"hero-subtitle",ctaLabel:"hero-cta-label",ctaUrl:"hero-cta-url",ctaTextColor:"hero-cta-text-color",image:"hero-image",layout:"hero-layout",imageWidth:"hero-image-width",imageHeight:"hero-image-height",imageObjectFit:"hero-image-object-fit",height:"hero-height",contentAlign:"hero-content-align",horizontalAlign:"hero-horizontal-align",textAlign:"hero-text-align",overlay:"hero-overlay",titleSize:"hero-title-size",bg:"hero-bg",borderRadius:"hero-border-radius",shadow:"hero-shadow",border:"hero-border"}},paragraphe:{section:"paragraph",labelField:"title",descriptionField:"content",fields:{title:"paragraph-title",content:"paragraph-content",align:"paragraph-align",titleSize:"paragraph-title-size",textSize:"paragraph-text-size",spacing:"paragraph-spacing",bg:"paragraph-bg",borderRadius:"paragraph-border-radius",shadow:"paragraph-shadow",border:"paragraph-border"}},image:{section:"image",labelField:"alt",fields:{src:"image-src",alt:"image-alt",showCaption:"image-caption-toggle",caption:"image-caption",rounded:"image-rounded",shadow:"image-shadow",maxWidth:"image-max-width",height:"image-height",objectFit:"image-object-fit",align:"image-align",bg:"image-bg",borderRadius:"image-border-radius",border:"image-border"}},groupe:{section:"group",fields:{columnsMobile:"group-columns-mobile",columnsDesktop:"group-columns-desktop",gap:"group-gap",itemsAlign:"group-items-align",mobileLayout:"group-mobile-layout",bg:"group-bg",borderRadius:"group-border-radius",shadow:"group-shadow",border:"group-border"}},collectiongrid:{section:"collection",fields:{collectionId:"collection-grid-collection",limit:"collection-grid-limit",columnsMobile:"collection-columns-mobile",columnsDesktop:"collection-columns-desktop",gap:"collection-gap",itemsAlign:"collection-items-align",cardRounded:"collection-card-rounded",mobileLayout:"collection-mobile-layout",bg:"collection-bg",borderRadius:"collection-border-radius",shadow:"collection-shadow",border:"collection-border"}},form:{section:"form",labelField:"formTitle",fields:{formTitle:"form-title",actionUrl:"form-action-url",method:"form-method",serviceName:"form-service-name",submitLabel:"form-submit-label",successMessage:"form-success-message",maxWidth:"form-max-width",align:"form-align",buttonRounded:"form-button-rounded",spacing:"form-spacing",bg:"form-bg",borderRadius:"form-border-radius",shadow:"form-shadow",border:"form-border"}},newsletterembed:{section:"newsletter",labelField:"title",fields:{title:"newsletter-title",serviceName:"newsletter-service-name",embedCode:"newsletter-embed-code",maxWidth:"newsletter-max-width",align:"newsletter-align",padding:"newsletter-padding",bg:"newsletter-bg",borderRadius:"newsletter-border-radius",shadow:"newsletter-shadow",border:"newsletter-border"}}},Vo={texte:"paragraphe",paragraph:"paragraphe",paragraphs:"paragraphe",paragraphes:"paragraphe",text:"paragraphe",hero:"hero",image:"image",groupe:"groupe",group:"groupe",collection:"collectiongrid",collectiongrid:"collectiongrid","collection-grid":"collectiongrid",form:"form",formulaire:"form",contact:"form",newsletterembed:"newsletterembed",newsletter:"newsletterembed",embed:"newsletterembed"},uo={animation:"anim-type",animationDelay:"anim-delay",animationDuration:"anim-duration"};Object.values(co).forEach(e=>{e.fields={...e.fields,...uo}});let mo=(e,t)=>{if(!Ms||!gt)return;let s=r=>Array.from({length:Number(r)||1}).map(()=>'<span class="block h-2 w-full rounded-full bg-slate-300"></span>').join("");Ms.innerHTML=s(e),gt.innerHTML=s(t)},Fs=(e,t)=>{if(!lo||!gs)return;let s=r=>Array.from({length:Number(r)||1}).map(()=>'<span class="block h-2 w-full rounded-full bg-violet-300"></span>').join("");lo.innerHTML=s(e),gs.innerHTML=s(t)},Ns=async()=>{if(!Lt)return[];let e=await fetch(Lt,{headers:{Accept:"application/json"}});if(!e.ok)throw new Error("Impossible de charger les pages.");let t=await e.json().catch(()=>[]);return Array.isArray(t)?t:[]},Oo=async({name:e,title:t,slug:s})=>{if(!Lt)throw new Error("Site inconnu.");let r=await fetch(Lt,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,title:t,slug:s})});if(!r.ok){let a=await r.json().catch(()=>({}));throw new Error(a.message||"Impossible de cr\xE9er la page.")}return r.json().catch(()=>({}))},rs=async e=>{if(!(!Lt||!(e!=null&&e.id)))try{let t=await fetch(`${Lt}/${encodeURIComponent(e.id)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){let r=await t.json().catch(()=>({}));throw new Error(r.message||"Impossible de sauvegarder la page.")}let s=await t.json().catch(()=>({}));if(s!=null&&s.id){let r=ds(s);return de=de.map(a=>a.id===r.id?r:a),(u==null?void 0:u.id)===r.id&&(u=r),r}return s}catch(t){console.error("[design] Save page failed",t),F(t.message||"Sauvegarde impossible.")}},Jo=async()=>{if(!Lt){de=[],Ne=null,u=null,Kt(de,Ne),kt(null),Ce==null||Ce.classList.remove("hidden"),je==null||je.classList.add("hidden");return}try{let e=await Ns();if(de=(Array.isArray(e)?e:[]).map(t=>ds(t)),de.length===0){Ne=null,u=null,Kt(de,Ne),kt(null),Ce==null||Ce.classList.remove("hidden"),je==null||je.classList.add("hidden"),p&&(p.srcdoc=d());return}Ne=Wn(de),At(Ne)}catch(e){console.error("[design] Impossible de charger les pages",e),F("Impossible de charger les pages.")}},hs=e=>(e||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),ns=e=>{if(!e)return null;let t=hs(e.type),s=Vo[t]||t;return co[s]||null},Ds=e=>{var a,l,m,q,z,oe,re;if(!g||!je)return;e&&!e.settings&&(e.settings={});let t=ns(e),s=He(t)||g;if(Ht&&(Ht.textContent=(e==null?void 0:e.label)||"Bloc"),h&&(h.textContent=(e==null?void 0:e.type)||"Bloc"),!t){g.classList.add("hidden"),P==null||P.classList.remove("hidden"),g.dataset.blockId="";return}if(P==null||P.classList.add("hidden"),g.classList.remove("hidden"),g.reset(),g.dataset.blockId=e.id,Pt.forEach(ye=>{ye.dataset.editorSection===t.section?ye.classList.remove("hidden"):ye.classList.add("hidden")}),Rt("content"),t.section==="collection"){let ye=e.collectionId||((a=e.settings)==null?void 0:a.collectionId)||"";Lo(ye)}if(Object.entries(t.fields).forEach(([ye,ve])=>{var nt,Te,pe;let ne=s.querySelector(`[name="${ve}"]`);if(!ne)return;let I=(nt=e.settings)==null?void 0:nt[ye];if(ne.type==="checkbox")ne.checked=!!I;else if(ne.type==="number"){let Qe=(pe=(Te=ne.dataset.default)!=null?Te:ne.defaultValue)!=null?pe:"";ne.value=I!=null?I:Qe}else ne.tagName,ne.value=I!=null?I:""}),t.section==="group"){let ye=((l=g.querySelector('[name="group-columns-mobile"]'))==null?void 0:l.value)||"1",ve=((m=g.querySelector('[name="group-columns-desktop"]'))==null?void 0:m.value)||"3";mo(ye,ve)}if(t.section==="collection"){let ye=((q=g.querySelector('[name="collection-columns-mobile"]'))==null?void 0:q.value)||"1",ve=((z=g.querySelector('[name="collection-columns-desktop"]'))==null?void 0:z.value)||"3";Fs(ye,ve)}let r=(oe=t.fields)==null?void 0:oe.bg;if(r){let ye=s.querySelector(`[name="${r}"]`);$t(ye,(re=e.settings)==null?void 0:re.bg)}g.querySelectorAll("[data-color-select]").forEach(ts)},as=e=>{if(!g||!e)return{};let t=He(e)||g,s={};return Object.entries(e.fields).forEach(([r,a])=>{var m,q;let l=t.querySelector(`[name="${a}"]`);if(l)if(l.type==="checkbox")s[r]=l.checked;else if(l.type==="number"){let z=Number(l.value);s[r]=Number.isFinite(z)?z:0}else if(l.tagName==="SELECT"){let z=(q=(m=l.dataset.default)!=null?m:l.value)!=null?q:"";s[r]=l.value||z}else l.tagName==="TEXTAREA"?s[r]=l.value||"":l.type==="select-one"?s[r]=l.value:s[r]=l.value||""}),s},Et=e=>{if(K){if(!e){K.classList.add("hidden");return}K.classList.remove("hidden"),K.textContent=e}},i=e=>{if(!e)return null;let t=s=>{var r;return{id:s.id,type:s.type,label:s.label,status:s.status,description:s.description,props:s.props||[],settings:s.settings||{},collectionId:s.collectionId||((r=s.settings)==null?void 0:r.collectionId)||"",children:(s.children||[]).map(t)}};return{id:e.id,name:e.name,title:e.title,slug:e.slug,description:e.description||"",badges:[...e.badges||[]],seo:e.seo||{},accessibility:e.accessibility||{},blocks:(e.blocks||[]).map(t)}},d=()=>'<!DOCTYPE html><html><body style="font-family:Inter,sans-serif;padding:40px;color:#475569;background:#fff;">Pr\xE9paration de la pr\xE9visualisation\u2026</body></html>',b=(e,t)=>{let s;return(...r)=>{clearTimeout(s),s=setTimeout(()=>e(...r),t)}},D=async()=>{if(!u||!Ye)return;let e=ls(),t=ns(e);if(!e||!t)return;let s=as(t),{blocks:r,didUpdate:a,foundParentId:l}=Rr(u.blocks||[],e.id,q=>{let z={...q.settings||{},...s};return{...q,settings:z}},cs);if(!a)return;cs=l;let m={...u,blocks:r};u=m;try{let q=await rs(m);if(q!=null&&q.id){let z=ds(q);u=z,de=de.map(oe=>oe.id===z.id?z:oe)}}catch(q){console.warn("[design] auto-save appearance failed",q)}},X=(e,t)=>{!p||!p.contentWindow||p.contentWindow.postMessage({type:"updateBlockStyles",blockId:e,settings:t},"*")},fe=b(()=>{u&&se(u)},1500),be=(e,t)=>{X(e,t),Et("Modification\u2026"),D().then(()=>{Et("Sauvegard\xE9"),setTimeout(()=>Et("\xC0 jour"),1500)}).catch(()=>Et("Erreur de sauvegarde")),fe()},se=e=>{if(!p||!e)return;let t=(G==null?void 0:G.slugValue)||te.slug||"",s=de.map(l=>({id:l.id,slug:l.slug,title:l.title,name:l.name,accessibility:l.accessibility})),r={page:i(e),site:{title:te.name||"Site",slug:t,pages:s}};sr=!1,Et("Actualisation\u2026"),p.srcdoc=d(),Js&&Js.abort();let a=new AbortController;Js=a,fetch("/api/preview",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r),signal:a.signal}).then(l=>{if(!l.ok)throw new Error("Preview error");return l.json()}).then(l=>{a.signal.aborted||(tr=l.html||"",p.setAttribute("title",`Pr\xE9visualisation de la page ${e.title||""}`.trim()),p.srcdoc=tr||d(),Et("\xC0 jour"))}).catch(l=>{a.signal.aborted||(console.error("[preview] Impossible de rendre la page",l),Et("Erreur preview"),p.srcdoc='<!DOCTYPE html><html><body style="font-family:Inter,sans-serif;padding:40px;color:#be123c;background:#fff;">Erreur lors du rendu de la pr\xE9visualisation.</body></html>')}).finally(()=>{Js===a&&(Js=null)})},Ue=e=>{var q;if(e.preventDefault(),!u||!Ye)return;let t=ls(),s=ns(t);if(!t||!s)return;let r=as(s);if(s.section==="image"){let z=(r.alt||"").trim();if(r.alt=z,!z){F("Ajoute un texte alternatif pour cette image.","error"),(q=g==null?void 0:g.querySelector('[name="image-alt"]'))==null||q.focus();return}}if(s.section==="collection"){if(!r.collectionId){F("S\xE9lectionnez une collection.");return}r.limit=Math.max(1,Number(r.limit)||1)}let{blocks:a,didUpdate:l,foundParentId:m}=Rr(u.blocks||[],t.id,z=>{let oe={...z.settings||{},...r},re={...z,settings:oe};return s.labelField&&r[s.labelField]&&(re.label=r[s.labelField]),s.descriptionField&&r[s.descriptionField]&&(re.description=r[s.descriptionField]),s.section==="collection"&&(re.collectionId=r.collectionId,re.settings.collectionId=r.collectionId,re.settings.limit=r.limit),re},cs);l&&(cs=m,Ss(a),F("Bloc mis \xE0 jour"),At(u.id,{preserveBlock:!0}))},$e=document.querySelector("[data-page-drawer]"),Le=document.querySelector("[data-page-drawer-backdrop]"),st=document.querySelectorAll("[data-page-drawer-open]"),ot=document.querySelectorAll("[data-page-drawer-close]"),Ae=document.querySelector("[data-add-page-toggle]"),Be=document.querySelector("[data-add-page-form]"),We=document.querySelector("[data-add-page-name]"),qt=document.querySelector("[data-add-page-title]"),ht=document.querySelector("[data-add-page-slug]"),ys=document.querySelector("[data-add-page-cancel]"),Ze=document.querySelector("[data-add-page-error]"),Vt=Be==null?void 0:Be.querySelector('[type="submit"]'),bs=document.querySelector("[data-import-pages-toggle]"),lt=document.querySelector("[data-import-modal]"),Hs=document.querySelectorAll("[data-import-modal-close]"),ct=document.querySelector("[data-import-dropzone]"),vs=document.querySelector("[data-import-file-input]"),xs=document.querySelector("[data-import-file-list]"),Us=document.querySelector("[data-import-file-names]"),Ke=document.querySelector("[data-import-results]"),_e=document.querySelector("[data-import-results-content]"),rt=document.querySelector("[data-import-submit]"),ws=document.querySelectorAll("[data-import-tab]"),Rs=document.querySelectorAll("[data-import-panel]"),Wo=document.querySelector("[data-copy-prompt]"),Go=document.querySelector("[data-copy-template]"),qr=document.querySelector("[data-template-json]"),Ar=document.querySelector("[data-import-ai-prompt]"),yt=document.querySelector("[data-import-paste-json]"),Zo=document.querySelector("[data-format-json]"),jt=document.querySelector("[data-import-paste-error]"),Ot=[],is="upload",St=document.querySelector("[data-delete-page-modal]"),Tr=document.querySelector("[data-delete-page-name]"),Ko=document.querySelector("[data-delete-page-cancel]"),Jt=document.querySelector("[data-delete-page-confirm]"),zs=null,zn=Ie((G==null?void 0:G.slugValue)||te.slug||"default")||"default",Vn=(G==null?void 0:G.slugValue)||te.slug||"",fo=Ie(Vn)||"",Lt=fo?`/api/sites/${encodeURIComponent(fo)}/pages`:null,Ir=fo?`/api/sites/${encodeURIComponent(fo)}/collections`:null,Br={active:`clower:activePage:${zn}`},_o=(e,t,s,r,a,l=[],m={})=>{let q={id:e,label:t,type:s,status:r,description:a,props:l,settings:{...m}};return q.settings.collectionId&&(q.collectionId=q.settings.collectionId),q},On={hero:{type:"Hero",label:"Hero de page",description:"Section pleine largeur avec CTA principal.",status:"Brouillon",props:[{label:"CTA",value:"D\xE9couvrir"},{label:"Hauteur",value:"80vh"}],settings:{title:"Titre du hero",subtitle:"",ctaLabel:"D\xE9couvrir",ctaUrl:"#",image:"",align:"center"}},paragraph:{type:"Paragraphe",label:"Bloc \xE9ditorial",description:"Paragraphe libre pour raconter votre histoire.",status:"Brouillon",props:[{label:"Longueur",value:"150 mots"}],settings:{title:"Titre du paragraphe",content:"",align:"left"}},image:{type:"Image",label:"Bloc image",description:"Visuel seul avec l\xE9gende optionnelle.",status:"Brouillon",props:[{label:"Ratio",value:"16:9"},{label:"L\xE9gende",value:"Inactive"}],settings:{src:"",alt:"",showCaption:!1,caption:""}},group:{type:"Groupe",label:"Groupe de sections",description:"Conteneur pour imbriquer plusieurs sous-blocs.",status:"Brouillon",props:[{label:"Disposition",value:"Verticale"}],settings:{layout:"grid",columnsMobile:"1",columnsDesktop:"3",mobileLayout:"stack"}},collectiongrid:{type:"CollectionGrid",label:"Grille de contenus",description:"Affiche automatiquement les items d\u2019une collection.",status:"Brouillon",settings:{collectionId:"",limit:6,mobileLayout:"stack"}},form:{type:"Form",label:"Formulaire de contact",description:"Formulaire avec envoi vers un service externe.",status:"Brouillon",settings:{formTitle:"Contactez-nous",actionUrl:"",method:"POST",serviceName:"",submitLabel:"Envoyer",successMessage:"Merci pour votre message !"}},newsletterembed:{type:"NewsletterEmbed",label:"Newsletter / Embed",description:"Int\xE9gration d'un formulaire newsletter externe (Brevo, Mailchimp\u2026).",status:"Brouillon",settings:{title:"Restez inform\xE9",serviceName:"",embedCode:""}}},Jn=e=>{try{window.localStorage.setItem(Br.active,e)}catch{}},Wn=e=>{var t;try{let s=window.localStorage.getItem(Br.active);if(s&&e.some(r=>r.id===s))return s}catch{}return((t=e[0])==null?void 0:t.id)||null},Gn=e=>!e||e<=0?"0 bloc":e===1?"1 bloc":`${e} blocs`,$r=e=>{if(!e||e==="/")return"/";let t=Xt(e.replace(/^\//,""));return t?`/${t}`:"/"},Yo=(e="page",t="block")=>`${e}-${t}-${Date.now().toString(36)}-${Math.floor(Math.random()*1e3)}`,Ia=(e,t)=>[_o(Yo(e,"intro"),"Introduction","Paragraphe","Brouillon",`Paragraphe introductif pour "${t}".`,[{label:"Longueur",value:"2 paragraphes"}],{title:`Introduction \xE0 ${t}`,content:"Ajoutez votre premier paragraphe de pr\xE9sentation.",align:"left"}),_o(Yo(e,"content"),"Zone de contenu","Groupe","Brouillon","Section principale \xE0 composer avec textes et visuels.",[{label:"Colonnes",value:"Auto"}],{layout:"grid",columnsMobile:"1",columnsDesktop:"2",mobileLayout:"stack"})],Pr=e=>{n&&(n.textContent=(e==null?void 0:e.name)||(e==null?void 0:e.title)||"Page"),c&&(c.textContent=(e==null?void 0:e.slug)||"/")},Zn=e=>{if(!f)return;f.innerHTML="",(e&&e.badges&&e.badges.length>0?e.badges:["Structure en cours"]).forEach(s=>{let r=document.createElement("span");r.className="rounded-full bg-slate-100 px-3 py-1",r.textContent=s,f.appendChild(r)})},Kn=e=>{switch((e||"").toLowerCase()){case"en ligne":return"bg-emerald-50 text-emerald-700";case"brouillon":return"bg-amber-50 text-amber-700";default:return"bg-slate-100 text-slate-600"}},po=e=>{if(!(!Ce||!je)){if(!e){Ce.classList.remove("hidden"),je.classList.add("hidden"),P==null||P.classList.add("hidden"),g==null||g.classList.add("hidden"),qe==null||qe.classList.add("hidden");return}Ce.classList.add("hidden"),je.classList.remove("hidden"),qe&&(e.status?(qe.textContent=e.status,qe.className=`rounded-full px-3 py-1 text-xs font-semibold ${Kn(e.status)}`,qe.classList.remove("hidden")):qe.classList.add("hidden")),Ds(e)}},_n=()=>{let e=getComputedStyle(document.documentElement).getPropertyValue("--color-accent");return e?e.trim():"#9C6BFF"},Vs=e=>{if(!p)return;let t=p.contentDocument;if(!t)return;if(t.querySelectorAll("[data-preview-block]").forEach(r=>{r.dataset.previewBlock===e?(r.classList.add("preview-block-active"),sr&&e&&r.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})):r.classList.remove("preview-block-active")}),w){let r=_n();w.style.borderColor=e?r:"transparent",w.style.opacity=e?"0.5":"0"}},jr={desktop:{width:"100%",height:"640px",maxWidth:"",margin:"0"},mobile:{width:"375px",height:"780px",maxWidth:"375px",margin:"0 auto"}},Mr=e=>{let t=jr[e]?e:"desktop";U.forEach(r=>{let a=r.dataset.previewView===t;r.setAttribute("aria-pressed",a?"true":"false"),a?(r.classList.add("bg-slate-900","text-white"),r.classList.remove("bg-slate-200","text-slate-500")):(r.classList.remove("bg-slate-900","text-white"),r.classList.add("bg-slate-200","text-slate-500"))});let s=jr[t];p&&(p.style.width=s.width,p.style.height=s.height,p.style.maxWidth=s.maxWidth,p.style.margin=s.margin),y&&(y.style.width="100%",y.style.minHeight=s.height,y.style.maxWidth=s.maxWidth||"100%"),O&&(O.dataset.previewShellView=t),J&&(J.textContent=t==="mobile"?"Vue mobile":"Vue bureau")},Fr=(e,t=!1,s=null)=>{var lr;let r=e.id===Ye,a=(e.type||"").toLowerCase(),l=a==="groupe"||a==="group"||a==="sections"||a==="grid",m=document.createElement("div");m.dataset.blockItem="true",m.dataset.blockId=e.id,s&&(m.dataset.parentBlockId=s),l&&(m.dataset.isGroup="true"),m.setAttribute("role","option"),m.setAttribute("aria-selected",r?"true":"false"),m.setAttribute("draggable","true"),m.tabIndex=0,m.className=["relative flex items-center gap-3 rounded-2xl border px-3 py-2 text-left transition group",t?"ml-6 border-dashed":"",r?"bg-slate-100 border-[#9C6BFF]/40 shadow-sm":"border-slate-200 hover:border-[#9C6BFF]/40"].join(" ");let q=document.createElement("span");q.className=`absolute inset-y-2 left-0 w-1 rounded-full bg-[#9C6BFF] ${r?"":"hidden"}`,m.appendChild(q);let z=document.createElement("div");z.className="flex flex-1 items-center gap-3";let oe=document.createElement("div");oe.className="hidden lg:flex cursor-grab active:cursor-grabbing flex-shrink-0 items-center text-lg text-slate-400 hover:text-slate-600 transition-colors select-none",oe.innerHTML="\u22EE\u22EE",oe.setAttribute("title","Glisser pour r\xE9ordonner"),z.appendChild(oe);let re=document.createElement("div");re.className="flex-1";let ye=document.createElement("div");ye.className="flex items-center gap-2 text-[11px] uppercase tracking-wide text-slate-500";let ve=document.createElement("span");ve.className="rounded-full bg-slate-100 px-2 py-0.5 text-[10px] font-semibold text-slate-600",ve.textContent=e.type;let ne=document.createElement("span");if(ne.className="text-slate-400",ne.textContent=e.status,ye.appendChild(ve),l){let ft=(e.children||[]).length,us=document.createElement("span");us.className="rounded-full bg-violet-100 px-2 py-0.5 text-[10px] font-semibold text-violet-600",us.textContent=`${ft} \xE9l\xE9ment${ft!==1?"s":""}`,ye.appendChild(us)}ye.appendChild(ne);let I=document.createElement("p");I.className="mt-1 text-sm font-semibold text-slate-900";let nt=e.settings&&e.settings.title||e.label||"Bloc sans titre";if(I.textContent=nt,re.appendChild(ye),re.appendChild(I),a==="collectiongrid"&&e.collectionId){let ft=((lr=Ft.find(Ca=>Ca.id===e.collectionId))==null?void 0:lr.name)||e.collectionId,us=document.createElement("p");us.className="text-xs text-slate-400",us.textContent=`Collection : ${ft}`,re.appendChild(us)}z.appendChild(re),m.appendChild(z);let Te=document.createElement("div");Te.className="flex flex-col gap-1 text-xs text-slate-400";let pe=document.createElement("div");pe.className="flex items-center gap-1 lg:hidden";let Qe=document.createElement("button");Qe.type="button",Qe.className="rounded-lg border border-slate-200 px-2 py-1 text-[11px] font-semibold text-slate-500",Qe.textContent="\u2191",Qe.addEventListener("click",ft=>{ft.stopPropagation(),s?Ur(s,e.id,-1):zr(e.id,-1)});let bt=document.createElement("button");bt.type="button",bt.className="rounded-lg border border-slate-200 px-2 py-1 text-[11px] font-semibold text-slate-500",bt.textContent="\u2193",bt.addEventListener("click",ft=>{ft.stopPropagation(),s?Ur(s,e.id,1):zr(e.id,1)}),pe.appendChild(Qe),pe.appendChild(bt),Te.appendChild(pe);let Re=document.createElement("button");return Re.type="button",Re.className="inline-flex items-center justify-center rounded-lg border border-transparent px-2 py-1 text-[12px] text-rose-500 hover:text-rose-700",Re.innerHTML="\u{1F5D1}\uFE0F",Re.addEventListener("click",ft=>{ft.stopPropagation(),s?ea(s,e.id):da(e.id)}),Te.appendChild(Re),m.appendChild(Te),m.addEventListener("click",()=>{Mt(e.id,s)}),m.addEventListener("keydown",ft=>{(ft.key==="Enter"||ft.key===" ")&&(ft.preventDefault(),Mt(e.id,s))}),{item:m,isGroup:l,block:e}},Yn=e=>{let t=document.createElement("div");return t.dataset.groupDropZone=e.id,t.className="ml-6 border-2 border-dashed border-slate-200 rounded-xl p-3 text-center text-xs text-slate-400 hover:border-violet-300 hover:bg-violet-50/50 transition-colors cursor-pointer",t.innerHTML='<span class="pointer-events-none">\u{1F4E6} Glissez un bloc ici ou cliquez pour ajouter</span>',t.addEventListener("dragover",s=>{s.preventDefault(),s.stopPropagation(),t.classList.add("border-violet-400","bg-violet-50")}),t.addEventListener("dragleave",s=>{s.stopPropagation(),t.classList.remove("border-violet-400","bg-violet-50")}),t.addEventListener("drop",s=>{s.preventDefault(),s.stopPropagation(),t.classList.remove("border-violet-400","bg-violet-50");let r=s.dataTransfer.getData("text/plain");r&&r!==e.id&&Xn(r,e.id)}),t.addEventListener("click",()=>{sa(e.id)}),t},kt=e=>{if(!E)return;E.innerHTML="";let t=(e==null?void 0:e.blocks)||[];if(Q&&(Q.textContent=Gn(t.length)),t.length===0){E.classList.add("hidden"),ie==null||ie.classList.remove("hidden");return}E.classList.remove("hidden"),ie==null||ie.classList.add("hidden"),t.forEach(s=>{let{item:r,isGroup:a}=Fr(s,!1,null);if(E.appendChild(r),a){(s.children||[]).forEach(q=>{let{item:z}=Fr(q,!0,s.id);E.appendChild(z)});let m=Yn(s);E.appendChild(m)}})},Qn=e=>{if(!u||!e)return null;for(let t=0;t<u.blocks.length;t++){let s=u.blocks[t],r=((s==null?void 0:s.type)||"").toLowerCase();if(!(r==="groupe"||r==="group"||r==="sections"||r==="grid")||!Array.isArray(s.children))continue;let l=s.children.findIndex(m=>m.id===e);if(l!==-1)return{groupId:s.id,groupIndex:t,childIndex:l}}return null},Nr=e=>{if(!u||!e)return null;let t=u.blocks.findIndex(l=>l.id===e);if(t!==-1){let[l]=u.blocks.splice(t,1);return{block:l,from:{type:"root",index:t}}}let s=Qn(e);if(!s)return null;let r=u.blocks.find(l=>l.id===s.groupId);if(!r||!Array.isArray(r.children))return null;let[a]=r.children.splice(s.childIndex,1);return{block:a,from:{type:"group",groupId:s.groupId,index:s.childIndex}}},go=(e,t)=>{if(!u||!e)return;let s=Math.min(Math.max(0,t!=null?t:u.blocks.length),u.blocks.length);u.blocks.splice(s,0,e)},ho=(e,t,s)=>{if(!u||!e||!t)return!1;let r=u.blocks.find(l=>l.id===t);if(!r)return!1;Array.isArray(r.children)||(r.children=[]);let a=Math.min(Math.max(0,s!=null?s:r.children.length),r.children.length);return r.children.splice(a,0,e),!0},Dr=(e,t,s=1)=>typeof e!="number"||e<0?null:t==="before"?e:e+s,yo=(e=null,t=null,s=null)=>{kt(u),savePageBlocks(),e&&Mt(e,t),s&&F(s)},Xn=(e,t)=>{var l,m,q;if(!u||!e||!t||e===t)return;let s=u.blocks.find(z=>z.id===t);if(!s)return;let r=Nr(e);if(!(r!=null&&r.block))return;let a=(r.block.type||"").toLowerCase();if(a==="groupe"||a==="group"){F("Impossible d'imbriquer des groupes","error"),((l=r.from)==null?void 0:l.type)==="root"?go(r.block,r.from.index):((m=r.from)==null?void 0:m.type)==="group"&&ho(r.block,r.from.groupId,r.from.index);return}if(((q=r.from)==null?void 0:q.type)==="group"&&r.from.groupId===t){ho(r.block,r.from.groupId,r.from.index);return}Array.isArray(s.children)||(s.children=[]),s.children.push(r.block),yo(r.block.id,t,"Bloc ajout\xE9 au groupe")},ea=(e,t)=>{if(!u)return;let s=u.blocks.find(m=>m.id===e);if(!s||!s.children)return;let r=s.children.findIndex(m=>m.id===t);if(r===-1)return;let[a]=s.children.splice(r,1),l=u.blocks.findIndex(m=>m.id===e);u.blocks.splice(l+1,0,a),kt(u),savePageBlocks(),F("Bloc sorti du groupe")},Qo=(e,t,s)=>{if(!u)return;let r=u.blocks.find(m=>m.id===e);if(!r||!Array.isArray(r.children))return;let a=r.children.findIndex(m=>m.id===t);if(a===-1)return;let[l]=r.children.splice(a,1);go(l,s),yo(l.id,null,"Bloc sorti du groupe")},ta=(e,t,s,r)=>{if(!u)return;let a=u.blocks.find(re=>re.id===e);if(!a||!Array.isArray(a.children))return;let l=a.children.findIndex(re=>re.id===t),m=a.children.findIndex(re=>re.id===s);if(l===-1||m===-1||t===s)return;let[q]=a.children.splice(l,1),z=l<m?m-1:m,oe=r==="before"?z:z+1;a.children.splice(oe,0,q),yo(q.id,e,null)},Hr=(e,t,s,r)=>{var z,oe,re,ye;if(!u||!e||!t)return;let a=Nr(e);if(!(a!=null&&a.block))return;let l=(a.block.type||"").toLowerCase();if(l==="groupe"||l==="group"){F("Impossible d'imbriquer des groupes","error"),((z=a.from)==null?void 0:z.type)==="root"?go(a.block,a.from.index):((oe=a.from)==null?void 0:oe.type)==="group"&&ho(a.block,a.from.groupId,a.from.index);return}let m=u.blocks.find(ve=>ve.id===t);if(!m){((re=a.from)==null?void 0:re.type)==="root"?go(a.block,a.from.index):((ye=a.from)==null?void 0:ye.type)==="group"&&ho(a.block,a.from.groupId,a.from.index);return}Array.isArray(m.children)||(m.children=[]);let q=m.children.length;if(s){let ve=m.children.findIndex(I=>I.id===s),ne=Dr(ve,r,1);ne!==null&&(q=ne)}m.children.splice(q,0,a.block),yo(a.block.id,t,"Bloc ajout\xE9 au groupe")},Ur=(e,t,s)=>{if(!u)return;let r=u.blocks.find(q=>q.id===e);if(!r||!r.children)return;let a=r.children.findIndex(q=>q.id===t);if(a===-1)return;let l=a+s;if(l<0||l>=r.children.length)return;let[m]=r.children.splice(a,1);r.children.splice(l,0,m),kt(u),savePageBlocks()},sa=e=>{Zt=e,openBlockPicker()},Zt=null,oa=e=>{!St||!e||(zs=e,Tr&&(Tr.textContent=e.title||e.id),St.classList.remove("hidden"),St.classList.add("flex"),qs(St,bo))},bo=()=>{St&&(St.classList.add("hidden"),St.classList.remove("flex"),zs=null,As(St))},ra=async()=>{if(!Lt||!zs)return;let e=zs.id,t=zs.title||e;Jt&&(Jt.disabled=!0,Jt.textContent="Suppression...");try{let s=await fetch(`${Lt}/${encodeURIComponent(e)}`,{method:"DELETE",credentials:"include"}),r=await s.json();if(!s.ok)throw new Error(r.message||"Erreur serveur");de=de.filter(a=>a.id!==e),Ne===e?de.length>0?At(de[0].id):(Ne=null,u=null,Kt(de,null),kt(null),Ce==null||Ce.classList.remove("hidden"),je==null||je.classList.add("hidden"),p&&(p.srcdoc=d())):Kt(de,Ne),bo(),F(`Page "${t}" supprim\xE9e`)}catch(s){console.error("[pages] delete failed",s),F(s.message||"Erreur suppression")}finally{Jt&&(Jt.disabled=!1,Jt.textContent="Supprimer")}},Kt=(e,t)=>{o.forEach(s=>{s.innerHTML="",e.forEach(r=>{var re;let a=document.createElement("li");a.className="flex items-center gap-1";let l=document.createElement("button");l.type="button",l.dataset.pageId=r.id,l.className=["flex-1 flex items-center gap-3 px-3 py-2 text-left transition",t===r.id?"bg-[#9C6BFF]/10 text-slate-900 border border-[#9C6BFF]/40 rounded-xl shadow-sm":"text-slate-700 hover:bg-slate-50 rounded-xl"].join(" "),t===r.id?l.setAttribute("aria-current","page"):l.removeAttribute("aria-current");let m=r.name||r.title,z=((re=r.accessibility)==null?void 0:re.showInMainNav)===!1?'<span class="text-[10px] font-semibold text-amber-600">Masqu\xE9 du menu</span>':"";l.innerHTML=`
            <span class="flex h-9 w-9 items-center justify-center rounded-xl border border-slate-200 bg-white text-slate-500">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                <path d="M6.5 4.5h7l4 4v11a1 1 0 0 1-1 1h-10a1 1 0 0 1-1-1v-14a1 1 0 0 1 1-1Z" stroke="currentColor" stroke-width="1.4" stroke-linejoin="round"/>
                <path d="M13.5 4.5v4a1 1 0 0 0 1 1h3" stroke="currentColor" stroke-width="1.4"/>
              </svg>
            </span>
            <div class="flex flex-col">
              <span class="text-sm font-semibold">${m}</span>
              <span class="text-xs text-slate-500">${r.slug}</span>
              ${z}
            </div>
          `,l.addEventListener("click",()=>{At(r.id),Xo()||er()}),a.appendChild(l);let oe=document.createElement("button");oe.type="button",oe.className="flex-shrink-0 p-2 text-slate-400 hover:text-rose-600 hover:bg-rose-50 rounded-lg transition",oe.title="Supprimer cette page",oe.setAttribute("aria-label",`Supprimer ${m}`),oe.innerHTML=`
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M3 6h18M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2m3 0v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6h14ZM10 11v6M14 11v6"/>
            </svg>
          `,oe.addEventListener("click",ye=>{ye.stopPropagation(),oa(r)}),a.appendChild(oe),s.appendChild(a)})})},ls=()=>{if(!u||!Array.isArray(u.blocks))return null;let e=u.blocks.find(t=>t.id===Ye);if(!e){for(let t of u.blocks)if(t.children&&(e=t.children.find(s=>s.id===Ye),e))break}return e||null},na=(e,t)=>{if(!e||!t)return!1;let s=r=>{for(let a of r||[])if(a&&(a.id===t||Array.isArray(a.children)&&s(a.children)))return!0;return!1};return s(e.blocks||[])},Rr=(e,t,s,r=null)=>{let a=!1,l=null,m=(z,oe=null)=>{let re=!1;return{nodes:(z||[]).map(ve=>{if(!ve||!ve.id)return ve;if(ve.id===t&&(!r||r===oe))return a=!0,l=oe,re=!0,s(ve);if(Array.isArray(ve.children)&&ve.children.length>0){let{nodes:ne,changed:I}=m(ve.children,ve.id);if(I)return re=!0,{...ve,children:ne}}return ve}),changed:re}};return{blocks:m(e,null).nodes,didUpdate:a,foundParentId:l}},cs=null,Mt=(e,t=null)=>{if(!u)return;if(!e){Ye=null,cs=null,kt(u),po(null),Vs(null);return}let s=null;if(s=u.blocks.find(r=>r.id===e),!s&&t){let r=u.blocks.find(a=>a.id===t);r&&r.children&&(s=r.children.find(a=>a.id===e))}if(!s){for(let r of u.blocks)if(r.children){let a=r.children.find(l=>l.id===e);if(a){s=a,t=r.id;break}}}s||(s=u.blocks[0]||null,t=null),Ye=(s==null?void 0:s.id)||null,cs=t,kt(u),po(s),Vs(Ye)},Ss=e=>{if(!u)return;let t={...u,blocks:e};ua(t)},vo=()=>window.matchMedia("(min-width: 1024px)").matches;function zr(e,t){if(!u||!e||!t)return;let s=[...u.blocks||[]],r=s.findIndex(m=>m.id===e);if(r<0)return;let a=r+t;if(a<0||a>=s.length)return;let[l]=s.splice(r,1);s.splice(a,0,l),Ss(s),At(u.id,{preserveBlock:!0}),Mt(l.id)}function Ba(e,t){if(!u||!e||!t||e===t)return;let s=[...u.blocks||[]],r=s.findIndex(m=>m.id===e),a=s.findIndex(m=>m.id===t);if(r<0||a<0)return;let[l]=s.splice(r,1);s.splice(a,0,l),Ss(s),At(u.id,{preserveBlock:!0}),Mt(l.id)}function aa(e,t,s){if(!u||!e||!t||e===t)return;let r=[...u.blocks||[]],a=r.findIndex(z=>z.id===e),l=r.findIndex(z=>z.id===t);if(a<0||l<0)return;let[m]=r.splice(a,1);a<l&&l--;let q=s==="before"?l:l+1;r.splice(q,0,m),Ss(r),At(u.id,{preserveBlock:!0}),Mt(m.id)}function Vr(){if(!E)return;let e=vo();E.querySelectorAll("[data-block-item]").forEach(t=>{t.setAttribute("draggable",e?"true":"false")})}function Os(){ce&&(ce.classList.add("hidden"),Ls=!1,Zt=null)}function ia(){ce&&(ce.classList.remove("hidden"),Ls=!0)}function la(){Ls?Os():ia()}function ca(e){var l;if(!u||!e)return;let t=On[e];if(!t)return;let s=(u.blocks||[]).filter(m=>m.type===t.type).length+1,r=_o(Yo(u.id,e),`${t.label} ${s}`,t.type,t.status,t.description,t.props,t.settings||{});if((t.type||"").toLowerCase()==="collectiongrid"){let m=((l=Ft[0])==null?void 0:l.id)||"";r.collectionId=m,r.settings.collectionId=m,r.settings.limit=r.settings.limit||6}if(Zt){let m=u.blocks.find(q=>q.id===Zt);if(m){m.children||(m.children=[]),m.children.push(r),Zt=null,kt(u),savePageBlocks(),Mt(r.id,m.id),Os(),F("Bloc ajout\xE9 au groupe");return}Zt=null}let a=[...u.blocks||[],r];Ss(a),At(u.id,{preserveBlock:!0}),Mt(r.id),Os(),F("Bloc ajout\xE9")}function Or(e){var r,a;if(!u)return;let t=(u.blocks||[]).filter(l=>l.id!==e),s=e===Ye?((r=t[0])==null?void 0:r.id)||null:Ye||((a=t[0])==null?void 0:a.id)||null;Ss(t),Ye=s,At(u.id,{preserveBlock:!0}),Ye?Mt(Ye):(po(null),Vs(null)),F("Bloc supprim\xE9")}function xo(){ue&&(ue.classList.add("hidden"),ue.classList.remove("flex"),So=null,As(ue))}function da(e){if(!ue){Or(e);return}So=e,ue.classList.remove("hidden"),ue.classList.add("flex"),qs(ue,xo)}let ua=e=>{if(!e)return;let t=ds(e);de=de.map(s=>s.id===t.id?t:s),u=t,rs(t)},At=(e,t={})=>{var a,l;let s=de.find(m=>m.id===e)||de[0]||null;u=s?ds(s):null,Ne=(s==null?void 0:s.id)||null,(!t.preserveBlock||!u||!na(u,Ye))&&(Ye=((l=(a=u==null?void 0:u.blocks)==null?void 0:a[0])==null?void 0:l.id)||null,cs=null),Ne&&Jn(Ne),Kt(de,Ne),Pr(u),ir(),Zn(u),se(u),kt(u),po(ls()),Vs(Ye),Vr(),Ls&&Os()},Xo=()=>window.matchMedia("(min-width: 1024px)").matches,Jr=()=>{$e&&(Xo()?($e.classList.add("is-open"),Le==null||Le.classList.add("hidden"),document.body.classList.remove("overflow-hidden")):$e.classList.remove("is-open"))},ma=()=>{!$e||Xo()||($e.classList.add("is-open"),Le==null||Le.classList.remove("hidden"),document.body.classList.add("overflow-hidden"))},er=()=>{$e&&($e.classList.remove("is-open"),Le==null||Le.classList.add("hidden"),document.body.classList.remove("overflow-hidden"))},fa=()=>{!Be||!Ae||(Be.classList.remove("hidden"),Ae.classList.add("hidden"),Ze&&(Ze.textContent=""),wo=!1,We&&(We.value="",We.focus()),qt&&(qt.value=""),ht&&(ht.value=""))},Wr=()=>{!Be||!Ae||(Be.classList.add("hidden"),Ae.classList.remove("hidden"),Ze&&(Ze.textContent=""),wo=!1,Be.reset())},pa=()=>{!We||!ht||wo&&ht.value.trim().length>0||(ht.value=$r(We.value))},de=[],Ne=null,wo=!1,u=null,Ye=null,Ls=!1,So=null,tr="",sr=!1,Js=null,Ft=[],ga=e=>{let t={...e,props:Array.isArray(e.props)?e.props:[],settings:{...e.settings||{}}};return(t.type||"").toLowerCase()==="collectiongrid"&&(t.collectionId=t.collectionId||t.settings.collectionId||"",t.settings.collectionId=t.collectionId,t.settings.limit=t.settings.limit||6),t},ds=e=>{var t,s,r,a,l;return{...e,blocks:(e.blocks||[]).map(m=>ga(m)),seo:{title:(((t=e.seo)==null?void 0:t.title)||"").trim(),description:(((s=e.seo)==null?void 0:s.description)||"").trim(),indexed:typeof((r=e.seo)==null?void 0:r.indexed)=="boolean"?e.seo.indexed:null},accessibility:{showInMainNav:((a=e.accessibility)==null?void 0:a.showInMainNav)!==!1,mainLabel:(((l=e.accessibility)==null?void 0:l.mainLabel)||"").trim()}}},ha=async()=>{if(!Ir){Ft=[],Lo();return}try{let e=await fetch(Ir,{headers:{Accept:"application/json"}});if(!e.ok)throw new Error("Impossible de charger les collections.");let t=await e.json().catch(()=>[]);Ft=Array.isArray(t)?t:[];let s=(Je==null?void 0:Je.value)||"";Lo(s)}catch(e){console.error("[design] collections load",e),F("Collections indisponibles."),Ft=[],Lo()}},or=e=>{if(!zt)return;if(!e){zt.textContent=Ft.length?"S\xE9lectionnez une collection pour afficher ses informations.":"Aucune collection disponible. Ajoutez-en depuis l\u2019onglet Contenus.";return}let t=Ft.find(r=>r.id===e);if(!t){zt.textContent=`Collection ${e}`;return}let s=[];t.description&&s.push(t.description),t.type&&s.push(`Type\xA0: ${t.type}`),zt.textContent=s.join(" \xB7 ")||`Collection ${t.name||t.id}`},Lo=(e="")=>{if(Je){if(Je.innerHTML="",!Ft.length){Je.disabled=!0;let t=document.createElement("option");t.value="",t.textContent="Aucune collection disponible",Je.appendChild(t),or("");return}if(Je.disabled=!1,e&&!Ft.some(t=>t.id===e)){let t=document.createElement("option");t.value=e,t.textContent=e,Je.appendChild(t)}Ft.forEach(t=>{let s=document.createElement("option");s.value=t.id;let r=t.name||t.id;s.textContent=t.type?`${r} \xB7 ${t.type}`:r,s.dataset.description=t.description||"",Je.appendChild(s)}),e&&(Je.value=e),or(Je.value||"")}};ha(),Jr(),st.forEach(e=>{e.addEventListener("click",ma)}),ot.forEach(e=>{e.addEventListener("click",er)}),Le==null||Le.addEventListener("click",er),window.addEventListener("resize",()=>{Jr(),Vr()}),Ae==null||Ae.addEventListener("click",fa),ys==null||ys.addEventListener("click",Wr),We==null||We.addEventListener("input",pa),ht==null||ht.addEventListener("input",()=>{Ze&&(Ze.textContent=""),wo=!0}),Be==null||Be.addEventListener("submit",async e=>{if(e.preventDefault(),!Lt){Ze&&(Ze.textContent="Aucun site s\xE9lectionn\xE9.");return}if(!We||!ht)return;let t=We.value.trim(),s=(qt==null?void 0:qt.value.trim())||t,r=$r(ht.value.trim()||t);if(!t||!r){Ze&&(Ze.textContent="Nom et slug sont requis.");return}Ze&&(Ze.textContent=""),Vt&&(Vt.disabled=!0,Vt.textContent="Cr\xE9ation...");try{let a=await Oo({name:t,title:s,slug:r});if(!a||!a.id)throw new Error("R\xE9ponse invalide.");de=[...de,ds(a)],Wr(),F("Page cr\xE9\xE9e"),At(a.id)}catch(a){console.error("[design] create page failed",a),Ze&&(Ze.textContent=a.message||"Impossible de cr\xE9er la page.")}finally{Vt&&(Vt.disabled=!1,Vt.textContent="Cr\xE9er")}});let rr=()=>{yt&&(yt.value=""),jt&&(jt.classList.add("hidden"),jt.textContent="")},Gr=()=>{if(!yt)return null;let e=yt.value.trim();if(!e)return jt&&jt.classList.add("hidden"),null;try{let t=JSON.parse(e);return jt&&jt.classList.add("hidden"),t}catch(t){return jt&&(jt.classList.remove("hidden"),jt.textContent=`\u274C JSON invalide : ${t.message}`),null}},ya=()=>{if(!yt)return;let e=yt.value.trim();if(e)try{let t=JSON.parse(e);yt.value=JSON.stringify(t,null,2),Gr()}catch{}},Ws=()=>{if(rt)if(is==="upload")rt.disabled=Ot.length===0;else if(is==="paste"){let e=Gr();rt.disabled=!e}else rt.disabled=!0},ba=()=>{lt&&(lt.classList.remove("hidden"),lt.classList.add("flex"),Ot=[],is="upload",ar(),rr(),Ke&&Ke.classList.add("hidden"),_e&&(_e.innerHTML=""),Ws(),ws.forEach(e=>{e.dataset.importTab==="upload"?(e.classList.add("bg-[#9C6BFF]","text-white"),e.classList.remove("border","border-slate-200","text-slate-700")):(e.classList.remove("bg-[#9C6BFF]","text-white"),e.classList.add("border","border-slate-200","text-slate-700"))}),Rs.forEach(e=>{e.dataset.importPanel==="upload"?e.classList.remove("hidden"):e.classList.add("hidden")}),qs(lt,nr))},nr=()=>{lt&&(lt.classList.add("hidden"),lt.classList.remove("flex"),Ot=[],rr(),As(lt))},ar=()=>{if(!(!xs||!Us)){if(Ot.length===0){xs.classList.add("hidden"),Ws();return}xs.classList.remove("hidden"),Us.innerHTML=Ot.map(e=>`<li class="flex items-center gap-2"><span class="text-lg">\u{1F4C4}</span>${e.name}</li>`).join(""),Ws()}},Zr=e=>{let t=Array.from(e).filter(s=>s.type==="application/json"||s.name.endsWith(".json"));if(t.length===0){F("Aucun fichier JSON valide.");return}Ot=t,ar()},va=async()=>{var s,r,a,l,m,q,z,oe,re,ye,ve;if(!Lt)return;let e=[];if(console.log("[import] activeImportTab:",is),is==="paste"){let ne=(s=yt==null?void 0:yt.value)==null?void 0:s.trim();if(console.log("[import] paste text length:",ne==null?void 0:ne.length),!ne){F("Aucun JSON \xE0 importer."),Ke&&_e&&(Ke.classList.remove("hidden"),_e.innerHTML='<p class="text-amber-600">\u26A0 Le champ de texte est vide.</p>');return}try{let I=JSON.parse(ne);console.log("[import] parsed JSON:",I),console.log("[import] parsed type:",typeof I,Array.isArray(I)?"array":"not array"),I&&!Array.isArray(I)&&I.pages?(console.log("[import] detected pages+collections format"),e=I):Array.isArray(I)?e.push(...I):e.push(I),console.log("[import] pagesData prepared:",e)}catch(I){let nt=I.message.match(/position (\d+)/),Te=I.message;if(nt){let pe=parseInt(nt[1],10),Qe=ne.substring(0,pe).split(`
`),bt=Qe.length,Re=Qe[Qe.length-1].length+1;Te=`Ligne ${bt}, colonne ${Re}: ${I.message}`}F(`Erreur JSON : ${Te}`,"error"),console.error("[import] paste parse error",I),Ke&&_e&&(Ke.classList.remove("hidden"),_e.innerHTML=`
              <div class="text-rose-600">
                <p class="font-medium">\u2717 Erreur de syntaxe JSON</p>
                <p class="text-xs mt-1">${Te}</p>
                <p class="text-xs mt-2 text-slate-500">V\xE9rifiez les virgules, guillemets et accolades.</p>
              </div>
            `);return}}else if(is==="upload"){if(Ot.length===0)return;let ne=[];for(let I of Ot){let nt=await I.text();try{let Te=JSON.parse(nt);Array.isArray(Te)?e.push(...Te):e.push(Te)}catch(Te){let pe=Te.message.match(/position (\d+)/),Qe=Te.message;if(pe){let bt=parseInt(pe[1],10);Qe=`Ligne ${nt.substring(0,bt).split(`
`).length}: ${Te.message}`}ne.push({file:I.name,error:Qe}),console.error("[import] parse error",I.name,Te)}}if(ne.length>0){if(Ke&&_e){Ke.classList.remove("hidden");let I='<div class="text-rose-600"><p class="font-medium">\u2717 Erreurs de syntaxe JSON</p><ul class="ml-4 text-xs mt-1">';ne.forEach(nt=>{I+=`<li><strong>${nt.file}</strong>: ${nt.error}</li>`}),I+="</ul></div>",e.length>0&&(I+=`<p class="text-amber-600 mt-2 text-sm">\u26A0 ${e.length} page(s) valide(s) seront import\xE9e(s)</p>`),_e.innerHTML=I}if(e.length===0){F("Tous les fichiers contiennent des erreurs JSON","error");return}}}else return;let t=Array.isArray(e)?e.length>0:e&&(((r=e.pages)==null?void 0:r.length)>0||e.title);if(console.log("[import] hasData check:",t,"pagesData:",e),!t){F("Aucune page valide \xE0 importer."),Ke&&_e&&(Ke.classList.remove("hidden"),_e.innerHTML=`
            <div class="text-amber-600">
              <p class="font-medium">\u26A0 Aucune page d\xE9tect\xE9e</p>
              <p class="text-xs mt-1">Le JSON doit contenir :</p>
              <ul class="text-xs ml-4 mt-1 list-disc">
                <li>Un objet page avec "title" : <code>{"title": "Ma page", ...}</code></li>
                <li>Un tableau de pages : <code>[{"title": "Page 1"}, {"title": "Page 2"}]</code></li>
                <li>Ou un objet combin\xE9 : <code>{"pages": [...], "collections": {...}}</code></li>
              </ul>
            </div>
          `);return}rt&&(rt.disabled=!0,rt.textContent="Import..."),console.log("[import] Sending to server:",JSON.stringify(e).substring(0,500));try{let ne=await fetch(`${Lt}/import`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)});console.log("[import] Server response status:",ne.status);let I=await ne.json();if(console.log("[import] Server response body:",I),!ne.ok)throw Ke&&_e&&(Ke.classList.remove("hidden"),_e.innerHTML=`
              <div class="text-rose-600">
                <p class="font-medium">\u2717 Erreur serveur</p>
                <p class="text-xs mt-1">${I.message||"Erreur inconnue"}</p>
                ${I.details?`<p class="text-xs mt-1 text-slate-500">${I.details}</p>`:""}
              </div>
            `),new Error(I.message||"Erreur serveur");if(Ke&&_e){Ke.classList.remove("hidden");let pe="",Qe=((a=I.imported)==null?void 0:a.length)>0||((l=I.collectionsCreated)==null?void 0:l.length)>0,bt=((m=I.errors)==null?void 0:m.length)>0;Qe&&!bt?pe+='<div class="bg-green-50 border border-green-200 rounded-lg p-3 mb-2"><p class="text-green-800 font-medium">\u2713 Import r\xE9ussi</p></div>':Qe&&bt?pe+='<div class="bg-amber-50 border border-amber-200 rounded-lg p-3 mb-2"><p class="text-amber-800 font-medium">\u26A0 Import partiel</p></div>':bt&&(pe+='<div class="bg-rose-50 border border-rose-200 rounded-lg p-3 mb-2"><p class="text-rose-800 font-medium">\u2717 Import \xE9chou\xE9</p></div>'),I.collectionsCreated&&I.collectionsCreated.length>0&&(pe+=`<p class="text-violet-700 mt-2">\u2713 ${I.collectionsCreated.length} collection(s) cr\xE9\xE9e(s)</p>`,pe+='<ul class="ml-4 text-xs text-slate-600">',I.collectionsCreated.forEach(Re=>{pe+=`<li>${Re.name} (${Re.itemsCount} item${Re.itemsCount>1?"s":""})</li>`}),pe+="</ul>"),I.imported&&I.imported.length>0&&(pe+=`<p class="text-green-700 mt-2">\u2713 ${I.imported.length} page(s) import\xE9e(s)</p>`,pe+='<ul class="ml-4 text-xs text-slate-600">',I.imported.forEach(Re=>{pe+=`<li><strong>${Re.title}</strong> \u2192 ${Re.slug} (${Re.action==="updated"?"mise \xE0 jour":"cr\xE9\xE9e"})</li>`}),pe+="</ul>"),I.errors&&I.errors.length>0&&(pe+=`<p class="text-rose-600 mt-3 font-medium">\u2717 ${I.errors.length} erreur(s)</p>`,pe+='<ul class="ml-4 text-xs text-rose-600 space-y-1 mt-1">',I.errors.forEach(Re=>{pe+=`<li class="bg-rose-50 p-2 rounded"><strong>${Re.title}</strong><br/><span class="text-rose-500">${Re.error}</span></li>`}),pe+="</ul>"),_e.innerHTML=pe}let nt=((q=I.imported)==null?void 0:q.length)>0||((z=I.collectionsCreated)==null?void 0:z.length)>0,Te=((oe=I.errors)==null?void 0:oe.length)>0;if(I.imported&&I.imported.length>0&&(de=await Ns(),Kt(de,Ne),de.length>0&&!Ne&&At(de[0].id)),nt&&!Te){let pe=(re=I.collectionsCreated)!=null&&re.length?` + ${I.collectionsCreated.length} collection(s)`:"";F(`\u2713 Import r\xE9ussi : ${((ye=I.imported)==null?void 0:ye.length)||0} page(s)${pe}`,"success")}else nt&&Te?F(`\u26A0 Import partiel : ${((ve=I.imported)==null?void 0:ve.length)||0} page(s), ${I.errors.length} erreur(s)`,"warning"):Te&&F(`\u2717 Import \xE9chou\xE9 : ${I.errors.length} erreur(s)`,"error");Ot=[],ar(),rr()}catch(ne){console.error("[import] failed",ne),F(ne.message||"Erreur import","error")}finally{rt&&(rt.disabled=!1,rt.textContent="Importer")}};bs==null||bs.addEventListener("click",ba),Hs.forEach(e=>e.addEventListener("click",nr)),lt==null||lt.addEventListener("click",e=>{e.target===lt&&nr()}),vs==null||vs.addEventListener("change",e=>{Zr(e.target.files)}),ct==null||ct.addEventListener("dragover",e=>{e.preventDefault(),ct.classList.add("border-[#9C6BFF]","bg-[#9C6BFF]/10")}),ct==null||ct.addEventListener("dragleave",e=>{e.preventDefault(),ct.classList.remove("border-[#9C6BFF]","bg-[#9C6BFF]/10")}),ct==null||ct.addEventListener("drop",e=>{e.preventDefault(),ct.classList.remove("border-[#9C6BFF]","bg-[#9C6BFF]/10"),Zr(e.dataTransfer.files)}),rt==null||rt.addEventListener("click",va),yt==null||yt.addEventListener("input",()=>{Ws()}),Zo==null||Zo.addEventListener("click",ya),ws.forEach(e=>{e.addEventListener("click",()=>{let t=e.dataset.importTab;is=t,ws.forEach(s=>{s.dataset.importTab===t?(s.classList.add("bg-[#9C6BFF]","text-white"),s.classList.remove("border","border-slate-200","text-slate-700")):(s.classList.remove("bg-[#9C6BFF]","text-white"),s.classList.add("border","border-slate-200","text-slate-700"))}),Rs.forEach(s=>{s.dataset.importPanel===t?s.classList.remove("hidden"):s.classList.add("hidden")}),Ws()})}),Go==null||Go.addEventListener("click",async()=>{if(!qr)return;let e=qr.textContent||"";try{await navigator.clipboard.writeText(e),F("Template copi\xE9 !")}catch(t){console.error("[import] copy failed",t),F("Erreur copie")}}),Wo==null||Wo.addEventListener("click",async()=>{if(!Ar)return;let e=Ar.textContent||"";try{await navigator.clipboard.writeText(e),F("Prompt copi\xE9 !")}catch(t){console.error("[import] copy prompt failed",t),F("Erreur copie")}}),Ko==null||Ko.addEventListener("click",bo),Jt==null||Jt.addEventListener("click",ra),St==null||St.addEventListener("click",e=>{e.target===St&&bo()}),he==null||he.addEventListener("click",e=>{if(e.stopPropagation(),!Ls){let t=ls(),s=((t==null?void 0:t.type)||"").toLowerCase();s==="groupe"||s==="group"?Zt=t.id:Zt=null}la()}),document.addEventListener("click",e=>{Ls&&(ce!=null&&ce.contains(e.target)||he!=null&&he.contains(e.target)||Os())}),Se.forEach(e=>{e.addEventListener("click",t=>{t.stopPropagation();let s=e.dataset.blockAdd;ca(s)})}),Fe==null||Fe.addEventListener("click",()=>{xo()}),De==null||De.addEventListener("click",()=>{So&&Or(So),xo()}),ue==null||ue.addEventListener("click",e=>{e.target===ue&&xo()}),g==null||g.addEventListener("input",e=>{var r,a,l,m;let t=e.target;if(!t||!t.name)return;if(t.name==="group-columns-mobile"||t.name==="group-columns-desktop"){let q=((r=g.querySelector('[name="group-columns-mobile"]'))==null?void 0:r.value)||"1",z=((a=g.querySelector('[name="group-columns-desktop"]'))==null?void 0:a.value)||"3";mo(q,z)}if(t.name==="collection-columns-mobile"||t.name==="collection-columns-desktop"){let q=((l=g.querySelector('[name="collection-columns-mobile"]'))==null?void 0:l.value)||"1",z=((m=g.querySelector('[name="collection-columns-desktop"]'))==null?void 0:m.value)||"3";Fs(q,z)}let s=t.closest("[data-block-panel]");if(s&&s.dataset.blockPanel==="appearance"){let q=ls(),z=ns(q);if(q&&z){let oe=as(z);be(q.id,oe)}}}),g==null||g.addEventListener("change",e=>{var r,a;let t=e.target;if(!t||!t.name)return;if(t.hasAttribute("data-color-select")){let l=t.options[t.selectedIndex],m=((r=l==null?void 0:l.dataset)==null?void 0:r.color)||"#ffffff",q=(a=t.closest(".relative"))==null?void 0:a.querySelector("[data-color-preview]");q&&(m==="transparent"?q.style.background=es:q.style.background=m)}let s=t.closest("[data-block-panel]");if(s&&s.dataset.blockPanel==="appearance"){let l=ls(),m=ns(l);if(l&&m){let q=as(m);be(l.id,q)}}}),Je==null||Je.addEventListener("change",e=>{let t=e.target;or((t==null?void 0:t.value)||"")}),g==null||g.addEventListener("submit",Ue),os==null||os.addEventListener("click",e=>{e.preventDefault();let t=ls();t&&Ds(t)}),U.length>0&&(U.forEach(e=>{e.addEventListener("click",()=>{let t=e.dataset.previewView||"desktop";Mr(t)})}),Mr("desktop")),p==null||p.addEventListener("load",()=>{var r;sr=!0,Et("\xC0 jour"),Vs(Ye);let e=p==null?void 0:p.contentDocument;if(!e||!u||e.documentElement.dataset.rawditPreviewSelectBound==="true")return;if(e.documentElement.dataset.rawditPreviewSelectBound="true",!e.getElementById("rawdit-preview-select-style")){let a=e.createElement("style");a.id="rawdit-preview-select-style",a.textContent=`
	          [data-preview-block]{ cursor:pointer; }
	          [data-preview-block]:hover{ outline:2px solid var(--color-accent, #9C6BFF); outline-offset:2px; }
	        `,(r=e.head)==null||r.appendChild(a)}let t=a=>{let l=((a==null?void 0:a.type)||"").toLowerCase();return l==="groupe"||l==="group"||l==="sections"||l==="grid"},s=a=>{if(!u||!a||(u.blocks||[]).some(l=>l.id===a))return null;for(let l of u.blocks||[])if(!(!t(l)||!Array.isArray(l.children))&&l.children.some(m=>m.id===a))return l.id;return null};e.addEventListener("click",a=>{var oe,re,ye;let l=a.target,m=(oe=l==null?void 0:l.closest)==null?void 0:oe.call(l,"[data-preview-block]"),q=((re=m==null?void 0:m.getAttribute)==null?void 0:re.call(m,"data-preview-block"))||"";if(!q)return;a.preventDefault(),a.stopPropagation(),(ye=a.stopImmediatePropagation)==null||ye.call(a);let z=s(q);Mt(q,z)},!0)}),ee==null||ee.addEventListener("click",()=>{let e=window.open("","_blank");if(!e)return;e.opener=null;let t=e.document;t.open(),t.write(tr||d()),t.close()});let Kr=e=>{var t,s,r;j&&(e?(j.classList.remove("hidden"),u&&(R&&(R.value=((t=u.seo)==null?void 0:t.title)||""),L&&(L.value=((s=u.seo)==null?void 0:s.description)||""),S&&(S.checked=((r=u.seo)==null?void 0:r.indexed)!==!1))):j.classList.add("hidden"))},ko=(e,t="muted")=>{if(!v)return;let s=t==="success"?"text-emerald-600":t==="error"?"text-rose-600":"text-slate-500";v.textContent=e||"",v.className=`text-sm ${s}`};B==null||B.addEventListener("click",()=>{let e=j&&!j.classList.contains("hidden");Kr(!e)}),N==null||N.addEventListener("click",()=>Kr(!1)),M==null||M.addEventListener("submit",async e=>{var t;if(e.preventDefault(),!u){ko("Aucune page active.","error");return}T&&(T.disabled=!0),ko("");try{let s={title:((R==null?void 0:R.value)||"").trim(),description:((L==null?void 0:L.value)||"").trim(),indexed:(t=S==null?void 0:S.checked)!=null?t:!0},r={...u,seo:s},a=await rs(r);a&&(u=a,ko("SEO enregistr\xE9.","success"),F("SEO mis \xE0 jour"),se(u))}catch(s){console.error("[seo] save failed",s),ko(s.message||"Erreur lors de la sauvegarde.","error")}finally{T&&(T.disabled=!1)}});let ir=()=>{var e,t;if(!(!_&&!xe)){if(!u){_&&(_.checked=!0),xe&&(xe.value="");return}_&&(_.checked=((e=u.accessibility)==null?void 0:e.showInMainNav)!==!1),xe&&(xe.value=((t=u.accessibility)==null?void 0:t.mainLabel)||"")}},_r=e=>{H&&(e?(ir(),H.classList.remove("hidden")):H.classList.add("hidden"))},Co=(e,t="muted")=>{if(!Ee)return;let s=t==="success"?"text-emerald-600":t==="error"?"text-rose-600":"text-slate-500";Ee.textContent=e||"",Ee.className=`text-sm ${s}`};A==null||A.addEventListener("click",()=>{let e=H&&!H.classList.contains("hidden");_r(!e)}),Z==null||Z.addEventListener("click",()=>_r(!1)),Y==null||Y.addEventListener("submit",async e=>{var t;if(e.preventDefault(),!u){Co("Aucune page active.","error");return}Ge&&(Ge.disabled=!0),Co("");try{let s={showInMainNav:(t=_==null?void 0:_.checked)!=null?t:!0,mainLabel:((xe==null?void 0:xe.value)||"").trim()},r={...u,accessibility:s},a=await rs(r);a&&(u=a,ir(),Co("Accessibilit\xE9 enregistr\xE9e.","success"),F("Accessibilit\xE9 mise \xE0 jour"),Kt(de,Ne),se(u))}catch(s){console.error("[accessibility] save failed",s),Co(s.message||"Erreur lors de la sauvegarde.","error")}finally{Ge&&(Ge.disabled=!1)}});let Yr=e=>{W&&(e?(W.classList.remove("hidden"),u&&($&&($.value=u.name||""),k&&(k.value=u.title||""),V&&(V.value=u.slug||""),ge&&(ge.value=u.description||""))):W.classList.add("hidden"))},ks=(e,t="muted")=>{if(!C)return;let s=t==="success"?"text-emerald-600":t==="error"?"text-rose-600":"text-slate-500";C.textContent=e||"",C.className=`text-sm ${s}`};we==null||we.addEventListener("click",()=>{let e=W&&!W.classList.contains("hidden");Yr(!e)}),Pe==null||Pe.addEventListener("click",()=>Yr(!1)),ze==null||ze.addEventListener("submit",async e=>{if(e.preventDefault(),!u){ks("Aucune page active.","error");return}x&&(x.disabled=!0),ks("");try{let t=(($==null?void 0:$.value)||"").trim(),s=((k==null?void 0:k.value)||"").trim(),r=((V==null?void 0:V.value)||"").trim(),a=((ge==null?void 0:ge.value)||"").trim();if(!s){ks("Le titre est requis.","error"),x&&(x.disabled=!1);return}if(!r||!r.startsWith("/")){ks("Le slug doit commencer par /.","error"),x&&(x.disabled=!1);return}let l={...u,name:t||s,title:s,slug:r,description:a},m=await rs(l);m&&(u=m,de=de.map(q=>q.id===m.id?m:q),ks("Propri\xE9t\xE9s enregistr\xE9es.","success"),F("Page mise \xE0 jour"),Pr(u),Kt(de,Ne),se(u))}catch(t){console.error("[page-props] save failed",t),ks(t.message||"Erreur lors de la sauvegarde.","error")}finally{x&&(x.disabled=!1)}});let xa=e=>{let t=e.target.closest("[data-block-item]");if(!t||!vo()){e.preventDefault();return}if(Nt=t.dataset.blockId||null,Gs=t.dataset.parentBlockId||null,!Nt){e.preventDefault();return}e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/plain",Nt),e.dataTransfer.setData("application/x-rawdit-parent",Gs||""),requestAnimationFrame(()=>{t.classList.add("opacity-50","scale-[0.98]","shadow-lg","ring-2","ring-[#9C6BFF]")})},Qr=()=>{E==null||E.querySelectorAll("[data-block-item]").forEach(e=>{e.classList.remove("opacity-50","scale-[0.98]","shadow-lg","ring-2","ring-[#9C6BFF]","border-t-4","border-b-4","border-t-[#9C6BFF]","border-b-[#9C6BFF]","pt-6","pb-6")})},wa=()=>{Nt=null,Gs=null,Qr()},Sa=e=>{if(!Nt||!vo())return;let t=e.target.closest("[data-block-item]");if(!t||t.dataset.blockId===Nt)return;e.preventDefault(),e.dataTransfer.dropEffect="move";let s=t.getBoundingClientRect(),r=s.top+s.height/2,a=e.clientY<r;E==null||E.querySelectorAll("[data-block-item]").forEach(l=>{l!==t&&l.dataset.blockId!==Nt&&l.classList.remove("border-t-4","border-b-4","border-t-[#9C6BFF]","border-b-[#9C6BFF]","pt-6","pb-6")}),t.classList.remove("border-t-4","border-b-4","border-t-[#9C6BFF]","border-b-[#9C6BFF]","pt-6","pb-6"),a?t.classList.add("border-t-4","border-t-[#9C6BFF]","pt-6"):t.classList.add("border-b-4","border-b-[#9C6BFF]","pb-6"),t.dataset.dropPosition=a?"before":"after"},La=e=>{let t=e.target.closest("[data-block-item]");if(!t)return;let s=e.relatedTarget;s&&t.contains(s)||(t.classList.remove("border-t-4","border-b-4","border-t-[#9C6BFF]","border-b-[#9C6BFF]","pt-6","pb-6"),delete t.dataset.dropPosition)},ka=e=>{if(!Nt||!vo())return;e.preventDefault();let t=e.target.closest("[data-block-item]"),s=Nt,r=Gs,a=(t==null?void 0:t.dataset.dropPosition)||"after";Nt=null,Gs=null,Qr();let l=(t==null?void 0:t.dataset.blockId)||null;if(!u||!s)return;if(!l){r&&Qo(r,s,u.blocks.length);return}if(s===l)return;let m=(t==null?void 0:t.dataset.parentBlockId)||null;if(r){if(m){if(m===r){ta(r,s,l,a);return}Hr(s,m,l,a);return}let q=u.blocks.findIndex(oe=>oe.id===l);if(q===-1){Qo(r,s,u.blocks.length);return}let z=Dr(q,a,1);Qo(r,s,z!=null?z:u.blocks.length);return}if(m){Hr(s,m,l,a);return}aa(s,l,a)},Nt=null,Gs=null;E==null||E.addEventListener("dragstart",xa),E==null||E.addEventListener("dragend",wa),E==null||E.addEventListener("dragover",Sa),E==null||E.addEventListener("dragleave",La),E==null||E.addEventListener("drop",ka),Jo(),document.addEventListener("ai-page-updated",async e=>{var t;console.log("[design] Rafra\xEEchissement d\xE9clench\xE9 par IA",e.detail);try{let s=await Ns();if(de=(Array.isArray(s)?s:[]).map(r=>ds(r)),(t=e.detail)!=null&&t.pageId){let r=de.find(a=>a.id===e.detail.pageId);r&&(u=r,Ne=r.id,se(u),kt(u),F("Page mise \xE0 jour par l'IA"))}else if(Ne){let r=de.find(a=>a.id===Ne);r&&(u=r,se(u),kt(u))}}catch(s){console.error("[design] Erreur rafra\xEEchissement IA:",s)}})}function kn(){var Ds,as,Et;let o=document.querySelector("[data-collection-list]");if(!o)return;let n={empty:document.querySelector('[data-content-view="empty"]'),header:document.querySelector('[data-content-view="header"]'),collection:document.querySelector('[data-content-view="collection"]'),footer:document.querySelector('[data-content-view="footer"]')},c=document.querySelectorAll("[data-content-section]"),f=document.querySelectorAll("[data-content-section-trigger]"),p=document.querySelector("[data-header-status]"),y=document.querySelector("[data-footer-status]"),O=document.querySelector("[data-collection-count]"),U=document.querySelector("[data-item-panel]"),J=document.querySelectorAll("[data-item-panel-close]"),ee=document.querySelector("[data-collection-empty]"),K=document.querySelector("[data-collection-items-empty]"),w=document.querySelector("[data-item-table-wrapper]"),B=document.querySelector("[data-item-table-body]"),j=document.querySelector("[data-collection-title]"),N=document.querySelector("[data-collection-description]"),M=document.querySelector("[data-item-add]"),R=document.querySelector("[data-item-detail-empty]"),L=document.querySelector("[data-item-form]"),S=L?{title:L.querySelector('[name="item-title"]'),slug:L.querySelector('[name="item-slug"]'),excerpt:L.querySelector('[name="item-excerpt"]'),content:L.querySelector('[name="item-content"]'),image:L.querySelector('[name="item-image"]'),ctaText:L.querySelector('[name="item-cta-text"]'),ctaUrl:L.querySelector('[name="item-cta-url"]'),status:L.querySelector('[name="item-status"]')}:{},v=document.querySelector("[data-item-status-badge]"),T=document.querySelector("[data-item-delete]"),A=document.querySelector("[data-item-delete-modal]"),H=document.querySelector("[data-item-delete-cancel]"),Z=document.querySelector("[data-item-delete-confirm]"),Y=document.querySelector("[data-item-cancel]"),_=document.querySelector("[data-item-save]"),xe="rounded-full px-3 py-1 text-xs font-semibold",Ee=()=>window.matchMedia("(min-width: 1024px)").matches,Ge=i=>{if(!U||Ee())return;let d=U.dataset.itemPanelHidden||"",b=U.dataset.itemPanelVisible||"";i?(Dt(U,b,"remove"),Dt(U,d,"add"),U.classList.add("pointer-events-none"),U.dataset.itemPanelOpen="false"):(Dt(U,d,"remove"),Dt(U,b,"add"),U.classList.remove("pointer-events-none"),U.dataset.itemPanelOpen="true")},we=()=>{if(U){if(Ee()){let i=U.dataset.itemPanelHidden||"";Dt(U,i,"remove"),U.classList.remove("pointer-events-none"),U.dataset.itemPanelOpen="true";return}L!=null&&L.classList.contains("hidden")?Ge(!0):Ge(!1)}};window.addEventListener("resize",we),J.forEach(i=>{i.addEventListener("click",d=>{d.preventDefault(),!Ee()&&Rt()})}),we();let W={logo:document.querySelector('[name="header-logo"]'),logoAlt:document.querySelector('[name="header-logo-alt"]'),logoUrl:document.querySelector('[name="header-logo-url"]'),ctaText:document.querySelector('[name="header-cta-text"]'),ctaUrl:document.querySelector('[name="header-cta-url"]'),ctaStyle:document.querySelector('[name="header-cta-style"]'),ctaTextColor:document.querySelector('[name="header-cta-text-color"]'),position:document.querySelector('[name="header-position"]'),bg:document.querySelector('[name="header-bg"]')},Pe=document.querySelector("[data-header-nav-list]"),ze=document.querySelector("[data-header-nav-add]"),$=document.querySelector("[data-header-save]"),k=document.querySelector("[data-template-header-nav-item]"),V=document.querySelector("[data-header-pages-list]"),ge=[],C=[],x={linkedin:document.querySelector('[name="footer-social-linkedin"]'),twitter:document.querySelector('[name="footer-social-twitter"]'),instagram:document.querySelector('[name="footer-social-instagram"]'),facebook:document.querySelector('[name="footer-social-facebook"]'),youtube:document.querySelector('[name="footer-social-youtube"]'),github:document.querySelector('[name="footer-social-github"]'),copyright:document.querySelector('[name="footer-copyright"]'),legalUrl:document.querySelector('[name="footer-legal-url"]'),privacyUrl:document.querySelector('[name="footer-privacy-url"]'),bg:document.querySelector('[name="footer-bg"]'),columnsCount:document.querySelector('[name="footer-columns-count"]')},E=document.querySelector("[data-footer-columns-list]"),ie=document.querySelector("[data-footer-column-add]"),Q=document.querySelector("[data-footer-save]"),he=document.querySelector("[data-template-footer-column]"),ce=document.querySelector("[data-template-footer-link]"),Se=null,ue={nav:[],logo:{},cta:{},style:{}},De={columns:[],socials:{},copyright:"",legal:{},style:{}},Fe=Ie((G==null?void 0:G.slugValue)||te.slug||""),Ce=Fe,qe=Fe?`/api/sites/${encodeURIComponent(Fe)}/layout`:null,je=i=>{Object.entries(n).forEach(([d,b])=>{b&&b.classList.toggle("hidden",d!==i)}),c.forEach(d=>{d.dataset.contentSection===i?d.dataset.active="true":delete d.dataset.active}),Se=i};c.forEach(i=>{i.addEventListener("click",()=>{let d=i.dataset.contentSection;(d==="header"||d==="footer")&&je(d)})}),f.forEach(i=>{i.addEventListener("click",()=>{let d=i.dataset.contentSectionTrigger;d&&je(d)})});let Ht=async()=>{if(!(!Ce||!V))try{let i=await fetch(`/api/sites/${Ce}/pages`,{credentials:"include"});if(!i.ok)throw new Error("Erreur chargement pages");ge=await i.json(),g()}catch(i){console.error("[header] load pages error",i),V.innerHTML='<p class="text-xs text-red-500">Erreur chargement pages</p>'}},h=i=>{let d=(i||"").toString().trim();if(!d||d==="/"||d==="index")return"/";let b=d.toLowerCase();if(d.startsWith("#")||b.startsWith("mailto:")||b.startsWith("tel:")||/^[a-z]+:\/\//i.test(d))return d;if(d.startsWith("//")){let X=d.slice(2);if(X.includes("."))return d;let fe=X.replace(/^\/+/,"").replace(/\/+$/,"");return fe?`/${fe}`:"/"}let D=d.replace(/^\/+/,"").replace(/\/+$/,"");return D?`/${D}`:"/"},P=(i,d="")=>{let b=(i||"").toString().trim();return b?h(b):d},g=()=>{if(V){if(V.innerHTML="",ge.length===0){V.innerHTML='<p class="text-xs text-slate-400 italic">Aucune page disponible</p>';return}ge.forEach(i=>{let d=i.slug||i.id||"",b=i.name||i.title||d,D=h(d),X=C.some(se=>se.url===D),fe=document.createElement("label");fe.className="flex items-center gap-2 px-3 py-2 rounded-lg border border-slate-200 hover:bg-slate-50 cursor-pointer transition-colors",fe.innerHTML=`
          <input type="checkbox" name="nav-page" value="${D}" data-page-title="${b}"
                 class="w-4 h-4 rounded border-slate-300 text-violet-600 focus:ring-violet-500"
                 ${X?"checked":""}>
          <span class="flex-1 text-sm text-slate-700">${b}</span>
          <span class="text-xs text-slate-400">${D}</span>
        `;let be=fe.querySelector("input");be.addEventListener("change",()=>{be.checked?C.some(se=>se.url===D)||C.push({label:b,url:D}):C=C.filter(se=>se.url!==D)}),V.appendChild(fe)})}},le=()=>{var d,b,D,X,fe,be,se,Ue,$e,Le,st,ot;let i=[];return V==null||V.querySelectorAll('input[name="nav-page"]:checked').forEach(Ae=>{let Be=h(Ae.value),We=Ae.dataset.pageTitle||Be;i.push({label:We,url:Be})}),{logo:{src:((b=(d=W.logo)==null?void 0:d.value)==null?void 0:b.trim())||"",alt:((X=(D=W.logoAlt)==null?void 0:D.value)==null?void 0:X.trim())||"",url:P((fe=W.logoUrl)==null?void 0:fe.value,"/")},nav:i,cta:{text:((se=(be=W.ctaText)==null?void 0:be.value)==null?void 0:se.trim())||"",url:P((Ue=W.ctaUrl)==null?void 0:Ue.value,""),style:(($e=W.ctaStyle)==null?void 0:$e.value)||"primary",textColor:((Le=W.ctaTextColor)==null?void 0:Le.value)||""},style:{position:((st=W.position)==null?void 0:st.value)||"static",bg:((ot=W.bg)==null?void 0:ot.value)||"bg-white"}}},$t=async i=>{var b,D,X,fe,be,se,Ue,$e,Le,st,ot,Ae;if(!i)return;W.logo&&(W.logo.value=((b=i.logo)==null?void 0:b.src)||""),W.logoAlt&&(W.logoAlt.value=((D=i.logo)==null?void 0:D.alt)||""),W.logoUrl&&(W.logoUrl.value=P((X=i.logo)==null?void 0:X.url,"/")),W.ctaText&&(W.ctaText.value=((fe=i.cta)==null?void 0:fe.text)||""),W.ctaUrl&&(W.ctaUrl.value=P((be=i.cta)==null?void 0:be.url,"")),W.ctaStyle&&(W.ctaStyle.value=((se=i.cta)==null?void 0:se.style)||"primary"),W.ctaTextColor&&(W.ctaTextColor.value=((Ue=i.cta)==null?void 0:Ue.textColor)||""),W.position&&(W.position.value=(($e=i.style)==null?void 0:$e.position)||"static"),W.bg&&(W.bg.value=((Le=i.style)==null?void 0:Le.bg)||"bg-white"),C=(i.nav||[]).map(Be=>({...Be,url:h(Be.url)})),await Ht();let d=((st=i.logo)==null?void 0:st.src)||((ot=i.nav)==null?void 0:ot.length)>0||((Ae=i.cta)==null?void 0:Ae.text);p&&(p.classList.toggle("bg-green-500",!!d),p.classList.toggle("bg-slate-300",!d),p.title=d?"Configur\xE9":"Non configur\xE9")};$==null||$.addEventListener("click",async()=>{if(qe){$.disabled=!0,$.textContent="Enregistrement...";try{let i=le();if(!(await fetch(`${qe}/header`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(i)})).ok)throw new Error("Erreur serveur");ue=i,$t(i),F("Header enregistr\xE9")}catch(i){console.error("[header] save error",i),F("Erreur lors de l'enregistrement","error")}finally{$.disabled=!1,$.textContent="Enregistrer"}}});let ts=(i,d="",b="")=>{if(!ce||!i)return;let D=ce.content.cloneNode(!0),X=D.querySelector("[data-footer-link]"),fe=D.querySelector('[name="link-label"]'),be=D.querySelector('[name="link-url"]'),se=D.querySelector("[data-link-remove]");fe&&(fe.value=d),be&&(be.value=b),se==null||se.addEventListener("click",()=>X==null?void 0:X.remove()),i.appendChild(D)},ao=(i="",d=[])=>{if(!he||!E)return;let b=he.content.cloneNode(!0),D=b.querySelector("[data-footer-column]"),X=b.querySelector('[name="column-title"]'),fe=b.querySelector("[data-column-links]"),be=b.querySelector("[data-column-link-add]"),se=b.querySelector("[data-column-remove]");X&&(X.value=i),d.forEach(Ue=>ts(fe,Ue.label,Ue.url)),be==null||be.addEventListener("click",()=>ts(fe)),se==null||se.addEventListener("click",()=>D==null?void 0:D.remove()),E.appendChild(b)},Ro=()=>{var d,b,D,X,fe,be,se,Ue,$e,Le,st,ot,Ae,Be,We,qt,ht,ys,Ze,Vt;let i=[];return E==null||E.querySelectorAll("[data-footer-column]").forEach(bs=>{var ct,vs;let lt=((vs=(ct=bs.querySelector('[name="column-title"]'))==null?void 0:ct.value)==null?void 0:vs.trim())||"",Hs=[];bs.querySelectorAll("[data-footer-link]").forEach(xs=>{var _e,rt,ws,Rs;let Us=((rt=(_e=xs.querySelector('[name="link-label"]'))==null?void 0:_e.value)==null?void 0:rt.trim())||"",Ke=((Rs=(ws=xs.querySelector('[name="link-url"]'))==null?void 0:ws.value)==null?void 0:Rs.trim())||"";(Us||Ke)&&Hs.push({label:Us,url:Ke})}),(lt||Hs.length>0)&&i.push({title:lt,links:Hs})}),{columns:i,socials:{linkedin:((b=(d=x.linkedin)==null?void 0:d.value)==null?void 0:b.trim())||"",twitter:((X=(D=x.twitter)==null?void 0:D.value)==null?void 0:X.trim())||"",instagram:((be=(fe=x.instagram)==null?void 0:fe.value)==null?void 0:be.trim())||"",facebook:((Ue=(se=x.facebook)==null?void 0:se.value)==null?void 0:Ue.trim())||"",youtube:((Le=($e=x.youtube)==null?void 0:$e.value)==null?void 0:Le.trim())||"",github:((ot=(st=x.github)==null?void 0:st.value)==null?void 0:ot.trim())||""},copyright:((Be=(Ae=x.copyright)==null?void 0:Ae.value)==null?void 0:Be.trim())||"",legal:{url:((qt=(We=x.legalUrl)==null?void 0:We.value)==null?void 0:qt.trim())||"",privacyUrl:((ys=(ht=x.privacyUrl)==null?void 0:ht.value)==null?void 0:ys.trim())||""},style:{bg:((Ze=x.bg)==null?void 0:Ze.value)||"bg-slate-900 text-white",columnsCount:((Vt=x.columnsCount)==null?void 0:Vt.value)||"4"}}},Ps=i=>{var b,D,X,fe,be,se,Ue,$e,Le,st,ot;if(!i)return;x.linkedin&&(x.linkedin.value=((b=i.socials)==null?void 0:b.linkedin)||""),x.twitter&&(x.twitter.value=((D=i.socials)==null?void 0:D.twitter)||""),x.instagram&&(x.instagram.value=((X=i.socials)==null?void 0:X.instagram)||""),x.facebook&&(x.facebook.value=((fe=i.socials)==null?void 0:fe.facebook)||""),x.youtube&&(x.youtube.value=((be=i.socials)==null?void 0:be.youtube)||""),x.github&&(x.github.value=((se=i.socials)==null?void 0:se.github)||""),x.copyright&&(x.copyright.value=i.copyright||""),x.legalUrl&&(x.legalUrl.value=((Ue=i.legal)==null?void 0:Ue.url)||""),x.privacyUrl&&(x.privacyUrl.value=(($e=i.legal)==null?void 0:$e.privacyUrl)||""),x.bg&&(x.bg.value=((Le=i.style)==null?void 0:Le.bg)||"bg-slate-900 text-white"),x.columnsCount&&(x.columnsCount.value=((st=i.style)==null?void 0:st.columnsCount)||"4"),E&&(E.innerHTML=""),(i.columns||[]).forEach(Ae=>ao(Ae.title,Ae.links));let d=((ot=i.columns)==null?void 0:ot.length)>0||i.copyright||Object.values(i.socials||{}).some(Ae=>Ae);y&&(y.classList.toggle("bg-green-500",!!d),y.classList.toggle("bg-slate-300",!d),y.title=d?"Configur\xE9":"Non configur\xE9")};ie==null||ie.addEventListener("click",()=>ao()),Q==null||Q.addEventListener("click",async()=>{if(qe){Q.disabled=!0,Q.textContent="Enregistrement...";try{let i=Ro();if(!(await fetch(`${qe}/footer`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(i)})).ok)throw new Error("Erreur serveur");De=i,Ps(i),F("Footer enregistr\xE9")}catch(i){console.error("[footer] save error",i),F("Erreur lors de l'enregistrement","error")}finally{Q.disabled=!1,Q.textContent="Enregistrer"}}}),(async()=>{if(qe)try{let i=await fetch(qe,{credentials:"include"});if(i.ok){let d=await i.json();d.header&&(ue=d.header,$t(d.header)),d.footer&&(De=d.footer,Ps(d.footer))}}catch(i){console.error("[layout] load error",i)}})();let io=Ie((G==null?void 0:G.slugValue)||te.slug||""),ut=io?`/api/sites/${encodeURIComponent(io)}/collections`:null,Pt=[],He=[],Ve=null,Oe=null,mt=!1,Wt=!1,Ut=null,js=i=>{let d=(i||"").trim();if(!d)return"";if(d==="/")return"/";let D=d.replace(/^\//,"").split("/").map(X=>Xt(X||"")).filter(X=>X.length>0);return D.length?`/${D.join("/")}`:""},zo=i=>{if(!i)return"\u2014";let d=new Date(i);return Number.isNaN(d.getTime())?"\u2014":d.toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric"})},Gt=()=>{let i=Pt.find(d=>d.id===Ve);j&&(j.textContent=(i==null?void 0:i.name)||"S\xE9lectionnez une collection"),N&&(N.textContent=(i==null?void 0:i.description)||"")},ss=i=>{K&&(K.textContent=i||(Ve?"Aucun item dans cette collection pour le moment.":"Choisissez une collection dans le panneau de gauche."))},Rt=()=>{L&&(L.classList.add("hidden"),L.dataset.itemId=""),R==null||R.classList.remove("hidden"),v&&(v.className=`hidden ${xe}`,v.textContent=""),T&&(T.disabled=!0),we()},Je=()=>{L&&(L.classList.remove("hidden"),R==null||R.classList.add("hidden"),we())},zt=()=>{M&&(M.disabled=!Ve,M.disabled?M.classList.add("opacity-60","pointer-events-none"):M.classList.remove("opacity-60","pointer-events-none"))},os=i=>{if(!v)return;if(!i){v.className=`hidden ${xe}`,v.textContent="";return}let d=i.toLowerCase(),b="bg-slate-100 text-slate-600 border border-slate-200";d==="publi\xE9"||d==="publie"?b="bg-emerald-50 text-emerald-700 border border-emerald-100":d==="brouillon"&&(b="bg-amber-50 text-amber-700 border border-amber-100"),v.className=`${xe} ${b}`,v.textContent=i},Ms=()=>{if(o.innerHTML="",O&&(O.textContent=Pt.length),!Pt.length){ee==null||ee.classList.remove("hidden");return}ee==null||ee.classList.add("hidden"),Pt.forEach(i=>{let d=i.id===Ve,b=document.createElement("button");b.type="button",b.dataset.collectionId=i.id,b.className=["w-full rounded-xl border px-3 py-2 text-left transition focus:outline-none focus:ring-2 focus:ring-[#9C6BFF]/40",d?"bg-[#F7F0FF] border-[#9C6BFF]/40 text-slate-900":"border-slate-200 text-slate-700 hover:border-[#9C6BFF]/40"].join(" "),b.setAttribute("role","option"),d?b.setAttribute("aria-current","true"):b.removeAttribute("aria-current"),b.innerHTML=`
          <div class="flex items-center justify-between gap-2">
            <div>
              <p class="text-sm font-semibold">${i.name||i.id}</p>
              <p class="text-xs text-slate-500">${i.description||""}</p>
            </div>
            <span class="text-[11px] uppercase tracking-wide text-slate-400">${i.type||""}</span>
          </div>
        `,b.addEventListener("click",()=>{Fs(i.id)}),o.appendChild(b)})},gt=()=>{if(B){if(B.innerHTML="",!He.length||!Ve){K==null||K.classList.remove("hidden"),ss(),w==null||w.classList.add("hidden");return}K==null||K.classList.add("hidden"),w==null||w.classList.remove("hidden"),He.forEach(i=>{let d=document.createElement("tr");d.dataset.itemId=i.id;let b=i.id===Oe&&!mt;d.className=["cursor-pointer transition focus-within:bg-[#F7F0FF]/70 focus:outline-none",b?"bg-[#F7F0FF]/70":"hover:bg-slate-50"].join(" "),d.tabIndex=0,d.setAttribute("role","button"),b?d.setAttribute("aria-current","true"):d.removeAttribute("aria-current");let D=i.status||"Brouillon",X=D.toLowerCase(),fe=X==="publi\xE9"||X==="publie"?"bg-emerald-50 text-emerald-700 border border-emerald-100":"bg-amber-50 text-amber-700 border border-amber-100";d.innerHTML=`
          <td class="px-4 py-3 align-top">
            <div class="flex flex-col">
              <span class="text-sm font-semibold text-slate-900">${i.title||"Sans titre"}</span>
              <span class="text-xs text-slate-500">${i.summary||i.excerpt||""}</span>
            </div>
          </td>
          <td class="px-4 py-3 align-top text-sm text-slate-600">${i.slug||""}</td>
          <td class="px-4 py-3 align-top">
            <span class="inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold ${fe}">
              ${D}
            </span>
          </td>
          <td class="px-4 py-3 align-top text-sm text-slate-500">${zo(i.updatedAt||i.createdAt)}</td>
        `;let be=()=>{lo(i.id)};d.addEventListener("click",be),d.addEventListener("keydown",se=>{(se.key==="Enter"||se.key===" ")&&(se.preventDefault(),be())}),B.appendChild(d)})}},lo=i=>{let d=He.find(b=>b.id===i);d&&(Oe=d.id,mt=!1,Wt=!0,gs(d),gt())},gs=i=>{var d,b;if(!L||!i){Rt();return}Je(),L.dataset.itemId=i.id,S.title&&(S.title.value=i.title||""),S.slug&&(S.slug.value=i.slug||""),S.excerpt&&(S.excerpt.value=i.summary||i.excerpt||""),S.content&&(S.content.value=i.content||""),S.image&&(S.image.value=i.image||""),S.ctaText&&(S.ctaText.value=((d=i.cta)==null?void 0:d.text)||i.ctaText||""),S.ctaUrl&&(S.ctaUrl.value=((b=i.cta)==null?void 0:b.url)||i.ctaUrl||""),S.status&&(S.status.value=i.status||"Brouillon"),os(i.status||"Brouillon"),T&&(T.disabled=!1)},co=()=>{var i;L&&(mt=!0,Oe=null,Wt=!1,L.dataset.itemId="",L.reset(),S.status&&(S.status.value="Brouillon"),S.slug&&(S.slug.value=""),os("Brouillon"),Je(),T&&(T.disabled=!0),(i=S.title)==null||i.focus())},Vo=()=>{var $e,Le,st,ot,Ae,Be,We,qt;let i=((($e=S.title)==null?void 0:$e.value)||"").trim(),d=(((Le=S.slug)==null?void 0:Le.value)||"").trim(),b=(((st=S.excerpt)==null?void 0:st.value)||"").trim(),D=(((ot=S.content)==null?void 0:ot.value)||"").trim(),X=(((Ae=S.image)==null?void 0:Ae.value)||"").trim(),fe=(((Be=S.ctaText)==null?void 0:Be.value)||"").trim(),be=(((We=S.ctaUrl)==null?void 0:We.value)||"").trim(),se=((qt=S.status)==null?void 0:qt.value)||"Brouillon",Ue=fe||be?{text:fe,url:be}:null;return{title:i,slug:js(d||i),summary:b,excerpt:b,content:D,image:X,status:se,...Ue&&{cta:Ue}}},uo=i=>{_&&(_.disabled=i,_.textContent=i?"Enregistrement\u2026":"Enregistrer"),T&&!mt&&Oe&&(T.disabled=i)},mo=async i=>{if(!ut)return[];let d=await fetch(`${ut}/${encodeURIComponent(i)}/items`,{headers:{Accept:"application/json"}});if(!d.ok){let D=await d.json().catch(()=>({}));throw new Error(D.message||"Impossible de charger les items.")}let b=await d.json().catch(()=>({}));return Array.isArray(b.items)?b.items:[]},Fs=async i=>{if(i&&(Ve=i,Oe=null,mt=!1,Wt=!1,je("collection"),Gt(),zt(),Ms(),Rt(),He=[],gt(),ss("Chargement des items\u2026"),K==null||K.classList.remove("hidden"),w==null||w.classList.add("hidden"),!!ut))try{He=await mo(i),gt(),He.length||ss()}catch(d){console.error("[content] items failed",d),F(d.message||"Impossible de charger les items."),He=[],gt()}},Ns=async(i,d)=>{if(!ut)throw new Error("Site inconnu.");let b=await fetch(`${ut}/${encodeURIComponent(i)}/items`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)});if(!b.ok){let D=await b.json().catch(()=>({}));throw new Error(D.message||"Impossible de cr\xE9er cet item.")}return b.json()},Oo=async(i,d,b)=>{if(!ut)throw new Error("Site inconnu.");let D=await fetch(`${ut}/${encodeURIComponent(i)}/items/${encodeURIComponent(d)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});if(!D.ok){let X=await D.json().catch(()=>({}));throw new Error(X.message||"Impossible de sauvegarder cet item.")}return D.json()},rs=async(i,d)=>{if(!ut)throw new Error("Site inconnu.");let b=await fetch(`${ut}/${encodeURIComponent(i)}/items/${encodeURIComponent(d)}`,{method:"DELETE"});if(!b.ok){let D=await b.json().catch(()=>({}));throw new Error(D.message||"Impossible de supprimer cet item.")}},Jo=async()=>{var i;if(!ut){ee==null||ee.classList.remove("hidden"),Ve=null,He=[],gt(),Gt(),zt();return}try{let d=await fetch(ut,{headers:{Accept:"application/json"}});if(!d.ok)throw new Error("Impossible de charger les collections.");let b=await d.json().catch(()=>[]);if(Pt=Array.isArray(b)?b:[],Ms(),Pt.length>0){let D=((i=Pt.find(X=>X.id===Ve))==null?void 0:i.id)||Pt[0].id;Fs(D)}else Ve=null,He=[],Gt(),zt(),gt()}catch(d){console.error("[content] load collections",d),F(d.message||"Impossible de charger les collections.")}};M==null||M.addEventListener("click",()=>{if(!Ve){F("S\xE9lectionnez d\u2019abord une collection.");return}co(),gt()}),Y==null||Y.addEventListener("click",i=>{if(i.preventDefault(),mt){mt=!1,Oe=null,Rt(),gt();return}if(Oe){let d=He.find(b=>b.id===Oe);gs(d)}else Rt()}),(Ds=S.status)==null||Ds.addEventListener("change",()=>{os(S.status.value)}),(as=S.title)==null||as.addEventListener("input",()=>{!mt||!S.slug||Wt||(S.slug.value=js(S.title.value))}),(Et=S.slug)==null||Et.addEventListener("input",()=>{mt&&(Wt=!0)}),L==null||L.addEventListener("submit",async i=>{var b;if(i.preventDefault(),!Ve){F("S\xE9lectionnez une collection.");return}let d=Vo();if(!d.title){F("Le titre est requis."),(b=S.title)==null||b.focus();return}uo(!0);try{let D;mt||!Oe?(D=await Ns(Ve,d),He=[...He,D],F("Item cr\xE9\xE9")):(D=await Oo(Ve,Oe,d),He=He.map(X=>X.id===D.id?D:X),F("Item mis \xE0 jour")),mt=!1,Oe=D.id,gs(D),gt()}catch(D){console.error("[content] save item failed",D),F(D.message||"Impossible de sauvegarder cet item.")}finally{uo(!1)}});let hs=()=>{A&&(A.classList.add("hidden"),A.classList.remove("flex"),Ut=null)},ns=()=>{!A||!Oe||(Ut=Oe,A.classList.remove("hidden"),A.classList.add("flex"))};T==null||T.addEventListener("click",i=>{i.preventDefault(),Oe&&ns()}),H==null||H.addEventListener("click",()=>{hs()}),A==null||A.addEventListener("click",i=>{i.target===A&&hs()}),Z==null||Z.addEventListener("click",async()=>{if(!Ut||!Ve){hs();return}Z.disabled=!0,Z.textContent="Suppression\u2026";try{await rs(Ve,Ut),He=He.filter(i=>i.id!==Ut),Oe===Ut&&(Oe=null,Rt()),F("Item supprim\xE9"),gt()}catch(i){console.error("[content] delete item failed",i),F(i.message||"Impossible de supprimer cet item.")}finally{Z.disabled=!1,Z.textContent="Supprimer",hs()}}),Gt(),zt(),Jo()}function Cn(){let o=document.querySelector("[data-deploy-form]");if(!o)return;let n=document.querySelector("[data-deploy-protocol]"),c=document.querySelector("[data-deploy-host]"),f=document.querySelector("[data-deploy-port]"),p=document.querySelector("[data-deploy-user]"),y=document.querySelector("[data-deploy-password]"),O=document.querySelector("[data-deploy-show-password]"),U=document.querySelector("[data-deploy-remote-path]"),J=document.querySelector("[data-deploy-feedback]"),ee=document.querySelector("[data-deploy-save]"),K=document.querySelector("[data-deploy-test]"),w=document.querySelector("[data-deploy-trigger]"),B=document.querySelector("[data-deploy-history]"),j=document.querySelector("[data-deploy-log]"),N=Ie((G==null?void 0:G.slugValue)||te.slug||""),M=N?`/api/sites/${encodeURIComponent(N)}/deploy-config`:null,R=N?`/api/sites/${encodeURIComponent(N)}/deploy`:null,L=N?`/api/sites/${encodeURIComponent(N)}/deploy-log`:null,S=!1,v=null,T=$=>{let k=($||"").trim();return k?k.startsWith("/")?k:`/${k}`:"/www"},A=($,k="muted")=>{if(!J)return;let V="inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold",ge=k==="success"?"bg-emerald-50 text-emerald-700 border border-emerald-100":k==="error"?"bg-rose-50 text-rose-700 border border-rose-100":"bg-slate-50 text-slate-600 border border-slate-100";if(!$){J.textContent="",J.className="text-sm text-slate-500";return}let C=k==="success"?"\u2705":k==="error"?"\u274C":"\u2139\uFE0F";J.innerHTML=`<span class="${V} ${ge}">${C}<span>${$}</span></span>`,J.className="text-sm"},H=($=null)=>{v=$;let k=!!$,V='<svg class="h-4 w-4 animate-spin text-white" viewBox="0 0 24 24" fill="none" aria-hidden="true"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"></path></svg>';ee&&(ee.disabled=k,ee.innerHTML=$==="save"?`<span class="inline-flex items-center gap-2">${V}<span>Enregistrement\u2026</span></span>`:"Enregistrer"),K&&(K.disabled=k,K.innerHTML=$==="test"?'<span class="inline-flex items-center gap-2"><span class="h-4 w-4 animate-spin rounded-full border-2 border-slate-200 border-t-slate-600"></span><span>Test en cours\u2026</span></span>':"Tester la connexion"),w&&(w.disabled=k&&$!==null,w.innerHTML=$==="deploy"?'<span class="inline-flex items-center gap-2"><span class="h-4 w-4 animate-spin rounded-full border-2 border-white/60 border-t-white"></span><span>D\xE9ploiement\u2026</span></span>':"D\xE9ployer maintenant")},Z=$=>{n&&(n.value=$.protocol||"sftp"),c&&(c.value=$.host||""),f&&(f.value=$.port||""),p&&(p.value=$.user||""),U&&(U.value=$.remotePath||"/www"),S=!!$.hasPassword,y&&(y.value="",y.placeholder=S?"Non affich\xE9":"Mot de passe")},Y=($=[])=>{if(B){if(B.innerHTML="",!$.length){let k=document.createElement("li");k.className="text-slate-500",k.textContent="Aucun d\xE9ploiement pour le moment.",B.appendChild(k);return}$.forEach(k=>{let V=document.createElement("li");V.className="flex items-center justify-between gap-2 rounded-xl border border-slate-200 px-3 py-2";let ge=k.status==="success"?'<span class="rounded-full bg-emerald-50 px-2 py-0.5 text-[11px] font-semibold text-emerald-700">Succ\xE8s</span>':'<span class="rounded-full bg-rose-50 px-2 py-0.5 text-[11px] font-semibold text-rose-700">\xC9chec</span>',C=k.finishedAt||k.startedAt||"",x=k.durationMs&&Number(k.durationMs)>=0?`${Math.round(Number(k.durationMs)/1e3)}s`:"";V.innerHTML=`
          <div class="space-y-1">
            <div class="flex items-center gap-2">${ge}<span class="text-xs text-slate-500">${C}</span></div>
            <p class="text-sm text-slate-800">${k.message||""}</p>
          </div>
          <div class="text-xs text-slate-500">${x}</div>
        `,V.dataset.deployId=k.id||"",V.addEventListener("click",()=>{k.logs&&j&&(j.textContent=k.logs.join(`
`))}),B.appendChild(V)})}},_=($=[])=>{j&&(j.textContent=$.length?$.join(`
`):"Aucun log pour le moment.")},xe=async()=>{var $;if(L)try{let k=await fetch(L,{headers:{Accept:"application/json"}});if(!k.ok){if(k.status===404){Y([]),_(["API d\xE9ploiement indisponible (red\xE9marre le serveur)."]);return}throw new Error("Impossible de charger l\u2019historique.")}let V=await k.json().catch(()=>({})),ge=Array.isArray(V.entries)?V.entries:[];Y(ge),($=ge[0])!=null&&$.logs&&_(ge[0].logs)}catch(k){console.error("[deploy] history failed",k)}},Ee=async()=>{if(!M){A("Aucun site actif s\xE9lectionn\xE9.","error");return}H("load");try{let $=await fetch(M,{headers:{Accept:"application/json"}}),k=await $.json().catch(()=>({}));$.ok?(Z(k||{}),A("Configuration charg\xE9e.","muted")):(Z(k||{}),A(k.message||"Configuration par d\xE9faut charg\xE9e.","muted"))}catch($){console.error("[deploy] load failed",$),A($.message||"Erreur lors du chargement.","error")}finally{H(null)}},Ge=()=>{let $={protocol:(n==null?void 0:n.value)||"sftp",host:(c==null?void 0:c.value.trim())||"",port:Number(f==null?void 0:f.value)||void 0,user:(p==null?void 0:p.value.trim())||"",remotePath:T((U==null?void 0:U.value)||"/www")},k=(y==null?void 0:y.value)||"";return k.trim().length>0&&($.password=k),$};o.addEventListener("submit",async $=>{if($.preventDefault(),!M){A("Aucun site actif s\xE9lectionn\xE9.","error");return}let k=Ge();H("save");try{let V=await fetch(M,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(k)});if(!V.ok){let C=await V.json().catch(()=>({}));throw new Error(C.message||"Sauvegarde impossible.")}let ge=await V.json();Z(ge||{}),A("Configuration enregistr\xE9e.","success"),F("Configuration d\xE9ploiement sauvegard\xE9e")}catch(V){console.error("[deploy] save failed",V),A(V.message||"Erreur lors de la sauvegarde.","error")}finally{H(null)}}),K==null||K.addEventListener("click",async()=>{if(!M){A("Aucun site actif s\xE9lectionn\xE9.","error");return}let $=Ge();if(!$.host||!$.user||!$.remotePath){A("Remplissez les champs requis avant de tester.","error");return}H("test");try{let k=await fetch(`${M}/test`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify($)}),V=await k.json().catch(()=>({}));if(!k.ok||V.success===!1){A(V.message||"Test de connexion \xE9chou\xE9.","error");return}A(V.message||"Connexion OK.","success"),F("Test de connexion r\xE9ussi")}catch(k){console.error("[deploy] test failed",k),A(k.message||"Test de connexion \xE9chou\xE9.","error")}finally{H(null)}}),w==null||w.addEventListener("click",async()=>{if(!R){A("Aucun site actif s\xE9lectionn\xE9.","error");return}H("deploy"),_(["D\xE9ploiement en cours\u2026"]);try{let $=await fetch(R,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ge())}),k=await $.json().catch(()=>({}));if(!$.ok){if($.status===404){A("API d\xE9ploiement indisponible (red\xE9marre le serveur).","error"),_(["API d\xE9ploiement indisponible (red\xE9marre le serveur)."]);return}throw _(k.logs||[]),new Error(k.message||"D\xE9ploiement \xE9chou\xE9.")}_(k.logs||[]),await xe(),F("D\xE9ploiement termin\xE9")}catch($){console.error("[deploy] run failed",$),A($.message||"D\xE9ploiement \xE9chou\xE9.","error")}finally{H(null)}}),O==null||O.addEventListener("change",()=>{y&&(y.type=O.checked?"text":"password")});let we=document.querySelector("[data-download-build]"),W=document.querySelector("[data-download-feedback]"),Pe=N?`/api/sites/${encodeURIComponent(N)}/download`:null,ze=($,k="muted")=>{if(!W)return;let V=k==="success"?"text-emerald-600":k==="error"?"text-rose-600":"text-slate-500";W.textContent=$||"",W.className=`text-sm ${V}`};we==null||we.addEventListener("click",async()=>{if(!Pe){ze("Aucun site actif s\xE9lectionn\xE9.","error");return}we.disabled=!0;let $=we.innerHTML;we.innerHTML=`
        <svg class="w-4 h-4 animate-spin" fill="none" viewBox="0 0 24 24">
          <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
          <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"></path>
        </svg>
        <span>Build en cours...</span>
      `,ze("G\xE9n\xE9ration du build en cours...","muted");try{let k=await fetch(Pe);if(!k.ok){let x=await k.json().catch(()=>({}));throw new Error(x.message||"Impossible de g\xE9n\xE9rer le ZIP.")}let V=await k.blob(),ge=window.URL.createObjectURL(V),C=document.createElement("a");C.href=ge,C.download=`${N}-build.zip`,document.body.appendChild(C),C.click(),document.body.removeChild(C),window.URL.revokeObjectURL(ge),ze("T\xE9l\xE9chargement termin\xE9 !","success"),F("Build t\xE9l\xE9charg\xE9 avec succ\xE8s")}catch(k){console.error("[download] failed",k),ze(k.message||"Erreur lors du t\xE9l\xE9chargement.","error")}finally{we.disabled=!1,we.innerHTML=$}}),Ee(),xe()}function En(){let o=document.querySelectorAll("[data-settings-tab]"),n=document.querySelectorAll("[data-settings-panel]"),c=document.querySelector("[data-admin-password-form]"),f=document.querySelector("[data-site-config-form]"),p=document.querySelector("[data-site-config-feedback]"),y=document.querySelector("[data-theme-form]"),O=w=>{o.forEach(B=>{let j=B.dataset.settingsTab===w;B.setAttribute("aria-selected",j?"true":"false"),B.classList.toggle("bg-[#9C6BFF]",j),B.classList.toggle("text-white",j)}),n.forEach(B=>{B.classList.toggle("hidden",B.dataset.settingsPanel!==w)})};if(o.forEach(w=>{w.addEventListener("click",()=>O(w.dataset.settingsTab||"account"))}),O("account"),c){let w=c.querySelector("[data-admin-password-feedback]"),B=c.querySelector("[data-admin-password-submit]"),j=(N,M="muted")=>{if(!w)return;let R=M==="success"?"text-emerald-600":M==="error"?"text-rose-600":"text-slate-500";w.textContent=N||"",w.className=`text-sm ${R}`};c.addEventListener("submit",async N=>{N.preventDefault();let M=new FormData(c),R=M.get("currentPassword")||"",L=M.get("newPassword")||"",S=M.get("confirmPassword")||"";if(!R||!L||!S){j("Compl\xE8te tous les champs.","error");return}B&&(B.disabled=!0),j("");try{let v=await fetch("/api/admin/password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentPassword:R,newPassword:L,confirmPassword:S})}),T=await v.json().catch(()=>({}));if(!v.ok||T.success===!1)throw new Error(T.message||"Impossible de mettre \xE0 jour le mot de passe.");j(T.message||"Mot de passe mis \xE0 jour.","success"),c.reset()}catch(v){console.error("[settings] change password failed",v),j(v.message||"Erreur lors de la mise \xE0 jour.","error")}finally{B&&(B.disabled=!1)}})}if(f){let w=f.querySelector("[data-site-name]"),B=f.querySelector("[data-site-language]"),j=f.querySelector("[data-site-tagline]"),N=f.querySelector("[data-site-save]"),M=(v,T="muted")=>{if(!p)return;let A=T==="success"?"text-emerald-600":T==="error"?"text-rose-600":"text-slate-500";p.textContent=v||"",p.className=`text-sm ${A}`},R=Ie((G==null?void 0:G.slugValue)||te.slug||""),L=R?`/api/sites/${encodeURIComponent(R)}/config/site`:null,S=async()=>{if(L)try{let v=await fetch(L,{headers:{Accept:"application/json"}});if(!v.ok)return;let T=await v.json().catch(()=>({}));w&&(w.value=T.name||""),B&&(B.value=T.language||"fr"),j&&(j.value=T.tagline||"")}catch(v){console.error("[settings] load site config failed",v)}};f.addEventListener("submit",async v=>{if(v.preventDefault(),!L){M("Aucun site actif.","error");return}if(!(w!=null&&w.value.trim())){M("Nom requis.","error");return}N&&(N.disabled=!0),M("");try{let T={name:(w==null?void 0:w.value)||"",language:(B==null?void 0:B.value)||"fr",tagline:(j==null?void 0:j.value)||""},A=await fetch(L,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(T)}),H=await A.json().catch(()=>({}));if(!A.ok||H.success===!1)throw new Error(H.message||"Sauvegarde impossible.");M(H.message||"Param\xE8tres enregistr\xE9s.","success")}catch(T){console.error("[settings] save site config failed",T),M(T.message||"Erreur lors de la sauvegarde.","error")}finally{N&&(N.disabled=!1)}}),S()}if(y){let w=Ie((G==null?void 0:G.slugValue)||te.slug||""),B=w?`/api/sites/${encodeURIComponent(w)}/config/theme`:null,j={primary:y.querySelector("[data-theme-primary]"),secondary:y.querySelector("[data-theme-secondary]"),accent:y.querySelector("[data-theme-accent]"),background:y.querySelector("[data-theme-background]"),text:y.querySelector("[data-theme-text]")},N=y.querySelector("[data-theme-headings]"),M=y.querySelector("[data-theme-body]"),R=y.querySelector("[data-theme-radius-small]"),L=y.querySelector("[data-theme-radius-medium]"),S=y.querySelector("[data-theme-radius-large]"),v=y.querySelector("[data-theme-preview]"),T=y.querySelector("[data-theme-feedback]"),A=y.querySelector("[data-theme-apply]"),H={slate:"#e2e8f0",gray:"#d1d5db",zinc:"#d4d4d8",neutral:"#d4d4d4",stone:"#d6d3d1",red:"#ef4444",orange:"#f97316",amber:"#f59e0b",yellow:"#eab308",lime:"#84cc16",green:"#22c55e",emerald:"#10b981",teal:"#14b8a6",cyan:"#06b6d4",sky:"#0ea5e9",blue:"#3b82f6",indigo:"#6366f1",violet:"#8b5cf6",purple:"#a855f7",fuchsia:"#d946ef",pink:"#ec4899",rose:"#f43f5e"},Z=C=>{if(!C)return null;if(C==="white")return"#ffffff";if(C==="black")return"#000000";if(C==="transparent")return"transparent";let[x,E]=C.split("-");if(!x||!E)return null;let ie=H[x];if(!ie)return null;let Q=Number(E)||500,he=Math.min(Math.max((Q-50)/900,0),1),ce=Ce=>Ce.replace("#","").match(/[A-Fa-f0-9]{2}/g).map(qe=>parseInt(qe,16)),[Se,ue,De]=ce(ie),Fe=Ce=>Math.round(255-(255-Ce)*he);return`rgb(${Fe(Se)}, ${Fe(ue)}, ${Fe(De)})`},Y=["slate","gray","zinc","neutral","stone","red","orange","amber","yellow","lime","green","emerald","teal","cyan","sky","blue","indigo","violet","purple","fuchsia","pink","rose"],_=["50","100","200","300","400","500","600","700","800","900"],xe=Y.flatMap(C=>_.map(x=>`${C}-${x}`)),Ee=[{value:"white",label:"Blanc",color:"#ffffff",emoji:"\u2B1C"},{value:"transparent",label:"Transparent",color:"transparent",emoji:"\u2B1C"},{value:"black",label:"Noir",color:"#000000",emoji:"\u2B1B"}],Ge=(()=>{let C=[];return Ee.forEach(({value:x,label:E,color:ie,emoji:Q})=>{C.push({value:x,label:`${Q} ${E}`,color:ie})}),xe.forEach(x=>{let[E,ie]=x.split("-"),Q=Z(x)||"#ffffff";C.push({value:x,label:`${E.charAt(0).toUpperCase()+E.slice(1)} ${ie}`,color:Q})}),C})(),we=C=>typeof C=="string"?C.trim().toLowerCase():"",W=(C={})=>{Object.entries(j).forEach(([x,E])=>{var Q;if(!E)return;let ie=we(C[x]);E.innerHTML="",Ge.forEach(({value:he,label:ce,color:Se})=>{let ue=document.createElement("option");ue.value=he,ue.textContent=ce,ue.dataset.color=Se,ie&&ie===he&&(ue.selected=!0),E.appendChild(ue)}),E.dataset.default=E.dataset.default||((Q=E.options[0])==null?void 0:Q.value)||"",!ie&&E.dataset.default&&(E.value=E.dataset.default),so(E)})},Pe=(C,x="muted")=>{if(!T)return;let E=x==="success"?"text-emerald-600":x==="error"?"text-rose-600":"text-slate-500";T.textContent=C||"",T.className=`text-sm ${E}`},ze=()=>{var x,E,ie,Q,he;if(!v)return;let C=ce=>{if(!ce)return null;if(ce==="white")return"#ffffff";if(ce==="black")return"#000000";if(ce==="transparent")return"transparent";let[Se,ue]=ce.split("-");if(!Se||!ue)return null;let Fe={slate:"#e2e8f0",gray:"#d1d5db",zinc:"#d4d4d8",neutral:"#d4d4d4",stone:"#d6d3d1",red:"#ef4444",orange:"#f97316",amber:"#f59e0b",yellow:"#eab308",lime:"#84cc16",green:"#22c55e",emerald:"#10b981",teal:"#14b8a6",cyan:"#06b6d4",sky:"#0ea5e9",blue:"#3b82f6",indigo:"#6366f1",violet:"#8b5cf6",purple:"#a855f7",fuchsia:"#d946ef",pink:"#ec4899",rose:"#f43f5e"}[Se];if(!Fe)return null;let Ce=Number(ue)||500,qe=Math.min(Math.max((Ce-50)/900,0),1),je=le=>le.match(/[A-Fa-f0-9]{2}/g).map($t=>parseInt($t,16)),[Ht,h,P]=je(Fe.replace("#","")),g=le=>Math.round(255-(255-le)*qe);return`rgb(${g(Ht)}, ${g(h)}, ${g(P)})`};v.style.setProperty("--color-primary",Z((x=j.primary)==null?void 0:x.value)||"#9C6BFF"),v.style.setProperty("--color-secondary",Z((E=j.secondary)==null?void 0:E.value)||"#0EA5E9"),v.style.setProperty("--color-accent",Z((ie=j.accent)==null?void 0:ie.value)||"#F97316"),v.style.setProperty("--color-background",Z((Q=j.background)==null?void 0:Q.value)||"#FFFFFF"),v.style.setProperty("--color-text",Z((he=j.text)==null?void 0:he.value)||"#0F172A"),v.style.setProperty("--font-headings",(N==null?void 0:N.value)||"Inter, sans-serif"),v.style.setProperty("--font-body",(M==null?void 0:M.value)||"Inter, sans-serif"),v.style.setProperty("--radius-small",(R==null?void 0:R.value)||"8px"),v.style.setProperty("--radius-medium",(L==null?void 0:L.value)||"16px"),v.style.setProperty("--radius-large",(S==null?void 0:S.value)||"24px"),v.style.borderRadius=(L==null?void 0:L.value)||"16px"},$=(C,x)=>{if(C){if(x==="transparent"){C.style.background="repeating-conic-gradient(#ccc 0% 25%, white 0% 50%) 50% / 8px 8px",C.style.borderColor="#cbd5f5",C.style.boxShadow="";return}C.style.background=x,C.style.borderColor=x,C.style.boxShadow="0 0 0 1px rgba(15,23,42,0.15)"}},k=C=>{var he,ce,Se;if(!C)return;let x=C.options[C.selectedIndex],E=((he=x==null?void 0:x.dataset)==null?void 0:he.color)||"#ffffff",ie=(ce=C.closest(".relative"))==null?void 0:ce.querySelector("[data-color-preview]");ie&&(E==="transparent"?ie.style.background=es:ie.style.background=E);let Q=(Se=C.closest(".relative"))==null?void 0:Se.querySelector("[data-theme-color-chip]");$(Q,E)},V=()=>{Object.values(j).forEach(C=>{C&&(so(C),k(C),C.addEventListener("change",()=>k(C)))})};Object.keys(j).forEach(C=>{var x;(x=j[C])==null||x.addEventListener("change",ze)}),[N,M,R,L,S].forEach(C=>{C==null||C.addEventListener("change",ze)});let ge=async()=>{var C,x,E,ie,Q;if(B)try{let he=await fetch(B,{headers:{Accept:"application/json"},credentials:"include"});if(!he.ok)return;let ce=await he.json().catch(()=>({})),Se=ce.colors||{};W(Se),Object.entries(j).forEach(([ue,De])=>{if(!De)return;let Fe=Se[ue],Ce=we(Fe);Ce?De.value=Ce:Fe?De.value=Fe:De.dataset.default&&(De.value=De.dataset.default),k(De)}),N&&(N.value=((C=ce.typography)==null?void 0:C.headings)||"Inter, sans-serif"),M&&(M.value=((x=ce.typography)==null?void 0:x.body)||"Inter, sans-serif"),R&&(R.value=((E=ce.radius)==null?void 0:E.small)||"8px"),L&&(L.value=((ie=ce.radius)==null?void 0:ie.medium)||"16px"),S&&(S.value=((Q=ce.radius)==null?void 0:Q.large)||"24px"),ze()}catch(he){console.error("[settings] load theme failed",he)}};A==null||A.addEventListener("click",async C=>{var E,ie,Q,he,ce;if(C.preventDefault(),!B){Pe("Aucun site actif.","error");return}let x={colors:{primary:((E=j.primary)==null?void 0:E.value)||"violet-500",secondary:((ie=j.secondary)==null?void 0:ie.value)||"indigo-400",accent:((Q=j.accent)==null?void 0:Q.value)||"emerald-500",background:((he=j.background)==null?void 0:he.value)||"slate-50",text:((ce=j.text)==null?void 0:ce.value)||"slate-900"},typography:{headings:(N==null?void 0:N.value)||"Inter, sans-serif",body:(M==null?void 0:M.value)||"Inter, sans-serif"},radius:{small:(R==null?void 0:R.value)||"8px",medium:(L==null?void 0:L.value)||"16px",large:(S==null?void 0:S.value)||"24px"}};A.disabled=!0,Pe("");try{let Se=await fetch(B,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(x)}),ue=await Se.json().catch(()=>({}));if(!Se.ok||ue.success===!1)throw new Error(ue.message||"Application du th\xE8me \xE9chou\xE9e.");await ge(),Pe(ue.message||"Th\xE8me appliqu\xE9.","success")}catch(Se){console.error("[settings] apply theme failed",Se),Pe(Se.message||"Erreur lors de l\u2019application du th\xE8me.","error")}finally{A.disabled=!1}}),W(),V(),ge(),ze(),document.addEventListener("ai-theme-updated",()=>{ge(),Pe("Th\xE8me mis \xE0 jour.","success")})}let U=document.querySelector("[data-seo-config-form]");if(U){let w=U.querySelector("[data-seo-index-all]"),B=U.querySelector("[data-seo-config-feedback]"),j=U.querySelector("[data-seo-save]"),N=Ie((G==null?void 0:G.slugValue)||te.slug||""),M=N?`/api/sites/${encodeURIComponent(N)}/config/site`:null,R=(S,v="muted")=>{if(!B)return;let T=v==="success"?"text-emerald-600":v==="error"?"text-rose-600":"text-slate-500";B.textContent=S||"",B.className=`text-sm ${T}`},L=async()=>{var S;if(M)try{let v=await fetch(M,{headers:{Accept:"application/json"}});if(!v.ok)return;let A=((S=(await v.json().catch(()=>({}))).seo)==null?void 0:S.indexAllPagesByDefault)!==!1;w&&(w.checked=A)}catch(v){console.error("[settings] load seo config failed",v)}};U.addEventListener("submit",async S=>{var v;if(S.preventDefault(),!M){R("Aucun site actif.","error");return}j&&(j.disabled=!0),R("");try{let T=await fetch(M,{headers:{Accept:"application/json"}}),A=T.ok?await T.json().catch(()=>({})):{},H={...A,seo:{...A.seo||{},indexAllPagesByDefault:(v=w==null?void 0:w.checked)!=null?v:!0}},Z=await fetch(M,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(H)}),Y=await Z.json().catch(()=>({}));if(!Z.ok||Y.success===!1)throw new Error(Y.message||"Sauvegarde impossible.");R(Y.message||"Param\xE8tres SEO enregistr\xE9s.","success")}catch(T){console.error("[settings] save seo config failed",T),R(T.message||"Erreur lors de la sauvegarde.","error")}finally{j&&(j.disabled=!1)}}),L()}let J=document.querySelector("[data-analytics-form]");if(J){let w=J.querySelector("[data-analytics-head]"),B=J.querySelector("[data-analytics-body]"),j=J.querySelector("[data-analytics-feedback]"),N=J.querySelector("[data-analytics-save]"),M=Ie((G==null?void 0:G.slugValue)||te.slug||""),R=M?`/api/sites/${encodeURIComponent(M)}/config/site`:null,L=(v,T="muted")=>{if(!j)return;let A=T==="success"?"text-emerald-600":T==="error"?"text-rose-600":"text-slate-500";j.textContent=v||"",j.className=`text-sm ${A}`},S=async()=>{var v,T;if(R)try{let A=await fetch(R,{headers:{Accept:"application/json"}});if(!A.ok)return;let H=await A.json().catch(()=>({}));w&&(w.value=((v=H.analytics)==null?void 0:v.headCode)||""),B&&(B.value=((T=H.analytics)==null?void 0:T.bodyEndCode)||"")}catch(A){console.error("[settings] load analytics config failed",A)}};J.addEventListener("submit",async v=>{if(v.preventDefault(),!R){L("Aucun site actif.","error");return}N&&(N.disabled=!0),L("");try{let T=await fetch(R,{headers:{Accept:"application/json"}}),H={...T.ok?await T.json().catch(()=>({})):{},analytics:{headCode:(w==null?void 0:w.value)||"",bodyEndCode:(B==null?void 0:B.value)||""}},Z=await fetch(R,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(H)}),Y=await Z.json().catch(()=>({}));if(!Z.ok||Y.success===!1)throw new Error(Y.message||"Sauvegarde impossible.");L(Y.message||"Scripts enregistr\xE9s.","success")}catch(T){console.error("[settings] save analytics config failed",T),L(T.message||"Erreur lors de la sauvegarde.","error")}finally{N&&(N.disabled=!1)}}),S()}let ee=document.querySelector("[data-accessibility-form]");if(ee){let w=ee.querySelector("[data-accessibility-animations]"),B=ee.querySelector("[data-accessibility-contrast]"),j=ee.querySelector("[data-accessibility-feedback]"),N=ee.querySelector("[data-accessibility-save]"),M=Ie((G==null?void 0:G.slugValue)||te.slug||""),R=M?`/api/sites/${encodeURIComponent(M)}/config/site`:null,L=(v,T="muted")=>{if(!j)return;let A=T==="success"?"text-emerald-600":T==="error"?"text-rose-600":"text-slate-500";j.textContent=v||"",j.className=`text-sm ${A}`},S=async()=>{var v,T;if(R)try{let A=await fetch(R,{headers:{Accept:"application/json"}});if(!A.ok)return;let H=await A.json().catch(()=>({}));w&&(w.checked=((v=H.accessibility)==null?void 0:v.animationsEnabled)!==!1),B&&(B.checked=((T=H.accessibility)==null?void 0:T.highContrast)===!0)}catch(A){console.error("[settings] load accessibility config failed",A)}};ee.addEventListener("submit",async v=>{var T,A;if(v.preventDefault(),!R){L("Aucun site actif.","error");return}N&&(N.disabled=!0),L("");try{let H=await fetch(R,{headers:{Accept:"application/json"}}),Y={...H.ok?await H.json().catch(()=>({})):{},accessibility:{animationsEnabled:(T=w==null?void 0:w.checked)!=null?T:!0,highContrast:(A=B==null?void 0:B.checked)!=null?A:!1}},_=await fetch(R,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(Y)}),xe=await _.json().catch(()=>({}));if(!_.ok||xe.success===!1)throw new Error(xe.message||"Sauvegarde impossible.");L(xe.message||"Pr\xE9f\xE9rences mises \xE0 jour.","success")}catch(H){console.error("[settings] save accessibility config failed",H),L(H.message||"Erreur lors de la sauvegarde.","error")}finally{N&&(N.disabled=!1)}}),S()}let K=document.querySelector("[data-ai-config-form]");if(K){let w=K.querySelector("[data-ai-api-key]"),B=K.querySelector("[data-ai-model]"),j=K.querySelector("[data-ai-project-prompt]"),N=K.querySelector("[data-ai-enabled]"),M=K.querySelector("[data-ai-feedback]"),R=K.querySelector("[data-ai-save]"),L=Ie((G==null?void 0:G.slugValue)||te.slug||""),S=L?`/api/sites/${encodeURIComponent(L)}/config/ai`:null,v=(A,H="muted")=>{if(!M)return;let Z=H==="success"?"text-emerald-600":H==="error"?"text-rose-600":"text-slate-500";M.textContent=A||"",M.className=`text-sm ${Z}`},T=async()=>{if(S)try{let A=await fetch(S,{headers:{Accept:"application/json"}});if(!A.ok)return;let H=await A.json().catch(()=>({}));w&&(w.value="",w.placeholder=H.hasApiKey?"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022":"Cl\xE9 API Gemini"),B&&(B.value=H.model||"gemini-2.5-flash"),j&&(j.value=H.projectPrompt||""),N&&(N.checked=H.enabled!==!1)}catch(A){console.error("[settings] load AI config failed",A)}};K.addEventListener("submit",async A=>{var H,Z;if(A.preventDefault(),!S){v("Aucun site actif.","error");return}R&&(R.disabled=!0),v("");try{let Y={model:(B==null?void 0:B.value)||"gemini-2.5-flash",projectPrompt:(j==null?void 0:j.value)||"",enabled:(H=N==null?void 0:N.checked)!=null?H:!0},_=(Z=w==null?void 0:w.value)==null?void 0:Z.trim();_&&(Y.apiKey=_);let xe=await fetch(S,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(Y)}),Ee=await xe.json().catch(()=>({}));if(!xe.ok||Ee.success===!1)throw new Error(Ee.message||"Sauvegarde impossible.");v(Ee.message||"Configuration IA enregistr\xE9e.","success"),w&&(w.value="",w.placeholder="\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022")}catch(Y){console.error("[settings] save AI config failed",Y),v(Y.message||"Erreur lors de la sauvegarde.","error")}finally{R&&(R.disabled=!1)}}),T()}}function qn(){let o=document.querySelector("[data-media-grid]");if(!o)return;let n=document.querySelector("[data-media-empty]"),c=document.querySelector("[data-media-count]"),f=document.querySelector("[data-media-filter-type]"),p=document.querySelector("[data-media-detail-empty]"),y=document.querySelector("[data-media-detail]"),O=document.querySelector("[data-media-detail-preview]"),U=document.querySelector("[data-media-detail-name]"),J=document.querySelector("[data-media-detail-type]"),ee=document.querySelector("[data-media-detail-size]"),K=document.querySelector("[data-media-detail-path]"),w=document.querySelector("[data-media-detail-used]"),B=document.querySelector("[data-media-alt-edit]"),j=document.querySelector("[data-media-save]"),N=document.querySelector("[data-media-delete]"),M=document.querySelector("[data-media-delete-modal]"),R=document.querySelector("[data-media-delete-cancel]"),L=document.querySelector("[data-media-delete-confirm]"),S=document.querySelector("[data-media-upload-open]"),v=document.querySelector("[data-media-file-input]"),T=document.querySelector("[data-media-upload-status]"),A=Ie((G==null?void 0:G.slugValue)||te.slug||""),H=A?`/api/sites/${encodeURIComponent(A)}/media`:null,Z=[],Y=[],_=null,xe=null,Ee=null,Ge=!1,we=!1,W=!1,Pe=null,ze=h=>{let P=(h.type||"").toLowerCase(),g=(h.filename||"").toLowerCase();return P.includes("image")||/\.(png|jpe?g|webp|svg|gif)$/i.test(g)?"image":P.includes("pdf")||P.includes("doc")||/\.(pdf|docx?)$/i.test(g)?"document":P.includes("video")||/\.(mp4|mov|webm)$/i.test(g)?"video":"other"},$=h=>ze(h)==="image",k=h=>{if(h.type)return h.type.toUpperCase();let P=(h.filename||"").split(".").pop();return P?P.toUpperCase():"FILE"},V=h=>!h||h<=0?"\u2014":h<1024?`${h} o`:h<1024*1024?`${(h/1024).toFixed(1)} ko`:`${(h/(1024*1024)).toFixed(1)} Mo`,ge=()=>{y==null||y.classList.add("hidden"),p==null||p.classList.remove("hidden"),C(),_=null,we=!1,Q(!1),O&&(O.innerHTML='<span class="text-slate-400 text-sm">Aucun m\xE9dia s\xE9lectionn\xE9</span>'),U&&(U.textContent=""),J&&(J.textContent=""),ee&&(ee.textContent=""),B&&(B.value=""),K&&(K.textContent=""),w&&(w.innerHTML="")},C=()=>{Ee=null,W=!1,Ge=!1,Pe&&(URL.revokeObjectURL(Pe),Pe=null),T&&(T.textContent="Aucun fichier s\xE9lectionn\xE9."),v&&(v.value="")},x=()=>{c&&(Y.length?Y.length===1?c.textContent="1 m\xE9dia":c.textContent=`${Y.length} m\xE9dias`:c.textContent="0 m\xE9dia")},E=()=>{if(o.innerHTML="",!Y.length){n==null||n.classList.remove("hidden"),ge();return}n==null||n.classList.add("hidden"),Y.forEach(h=>{let P=document.createElement("button");P.type="button",P.dataset.mediaId=h.id;let g=h.id===_;P.className=["group relative flex flex-col rounded-2xl border px-3 py-3 text-left transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[#9C6BFF]",g?"border-[#9C6BFF] bg-[#F7F0FF]/60 shadow-sm":"border-slate-200 hover:border-[#9C6BFF]/40"].join(" ");let le=$(h)?`<img src="${h.path}" alt="${h.alt||h.filename}" class="h-full w-full object-cover" />`:'<div class="flex h-full w-full items-center justify-center text-3xl text-slate-400">\u{1F4C4}</div>';P.innerHTML=`
          <div class="relative aspect-[4/3] overflow-hidden rounded-xl bg-slate-100">
            ${le}
          </div>
          <div class="mt-2 space-y-1">
            <p class="text-sm font-semibold text-slate-900 truncate">${h.filename}</p>
            <p class="text-xs text-slate-500">
              ${k(h)} \xB7 ${V(h.size)}
            </p>
          </div>
        `,h.id===xe&&(P.classList.add("ring-2","ring-[#9C6BFF]"),window.setTimeout(()=>{P.classList.remove("ring-2","ring-[#9C6BFF]")},1600)),P.addEventListener("click",()=>he(h.id)),o.appendChild(P)}),xe=null},ie=h=>{if(w){if(w.innerHTML="",!h.usedIn||h.usedIn.length===0){let P=document.createElement("li");P.textContent="Non utilis\xE9",P.className="text-xs text-slate-400",w.appendChild(P);return}h.usedIn.forEach(P=>{let g=document.createElement("li");g.textContent=P,g.className="text-xs text-slate-600",w.appendChild(g)})}},Q=h=>{if(j){if(W){j.textContent=h?"T\xE9l\xE9versement\u2026":"T\xE9l\xE9verser",j.disabled=h||!Ee,N&&N.classList.add("hidden");return}j.textContent=h?"Enregistrement\u2026":"Enregistrer",j.disabled=h||!we,N&&(N.classList.remove("hidden"),N.disabled=!_)}},he=h=>{let P=Z.find(g=>g.id===h);if(!P){ge(),E();return}C(),_=P.id,we=!1,Q(!1),E(),p==null||p.classList.add("hidden"),y==null||y.classList.remove("hidden"),O&&($(P)?O.innerHTML=`<img src="${P.path}" alt="${P.alt||P.filename}" class="h-full w-full rounded-2xl object-cover" />`:O.innerHTML='<div class="flex h-full w-full flex-col items-center justify-center gap-1 text-slate-400"><span class="text-3xl">\u{1F4C4}</span><span class="text-xs font-semibold">Document</span></div>'),U&&(U.textContent=P.filename||"Fichier"),J&&(J.textContent=k(P)),ee&&(ee.textContent=V(P.size)),B&&(B.value=P.alt||""),K&&(K.textContent=P.path||"\u2014"),ie(P)},ce=h=>{if(h){if(W=!0,we=!1,_=null,p==null||p.classList.add("hidden"),y==null||y.classList.remove("hidden"),Pe&&URL.revokeObjectURL(Pe),Pe=URL.createObjectURL(h),O&&(O.innerHTML=`<img src="${Pe}" alt="${h.name}" class="h-full w-full rounded-2xl object-cover" />`),U&&(U.textContent=h.name),J&&(J.textContent=k({type:h.type,filename:h.name})),ee&&(ee.textContent=V(h.size)),B&&!B.value.trim()&&(B.value=h.name.replace(/\.[^.]+$/,"").replace(/[-_]/g," ")),K&&(K.textContent="En attente de t\xE9l\xE9versement"),w){w.innerHTML="";let P=document.createElement("li");P.textContent="Non utilis\xE9",P.className="text-xs text-slate-400",w.appendChild(P)}Q(!1)}},Se=()=>{let h=(f==null?void 0:f.value)||"all";h==="all"?Y=[...Z]:Y=Z.filter(P=>P.groupType===h),Y.some(P=>P.id===_)||ge(),x(),E()},ue=async()=>{if(!H){n==null||n.classList.remove("hidden");return}try{let h=await fetch(H,{headers:{Accept:"application/json"}});if(!h.ok)throw new Error("Impossible de charger les m\xE9dias.");let P=await h.json().catch(()=>({items:[]}));Z=Array.isArray(P.items)?P.items.map(g=>({...g,groupType:ze(g)})):[],Se()}catch(h){console.error("[media] load failed",h),F(h.message||"Impossible de charger les m\xE9dias."),Z=[],Se()}};f==null||f.addEventListener("change",()=>{Se()}),B==null||B.addEventListener("input",()=>{if(W){Q(!1);return}_&&(we=!0,Q(!1))});let De=h=>{if(h){if(!h.type.startsWith("image/")){F("Seules les images sont accept\xE9es pour le moment.");return}if(h.size>4*1024*1024){F("Fichier trop volumineux (4 Mo max).");return}Ee=h,ce(h),T&&(T.textContent=`${h.name} \xB7 ${V(h.size)}`)}},Fe=h=>new Promise((P,g)=>{let le=new FileReader;le.onload=()=>{let $t=le.result||"",[,ts=""]=String($t).split(",");P(ts)},le.onerror=()=>g(new Error("Impossible de lire ce fichier.")),le.readAsDataURL(h)}),Ce=async()=>{if(!(!Ee||!H)){Ge=!0,Q(!0);try{let h=await Fe(Ee),P={filename:Ee.name,type:Ee.type,size:Ee.size,alt:(B==null?void 0:B.value)||"",data:h},g=await fetch(H,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(P)});if(!g.ok){let $t=await g.json().catch(()=>({}));throw new Error($t.message||"Upload impossible.")}let le=await g.json();le.groupType=ze(le),Z=[...Z,le],xe=le.id,Se(),he(le.id),F("M\xE9dia ajout\xE9"),C()}catch(h){console.error("[media] upload failed",h),F(h.message||"Impossible de t\xE9l\xE9verser ce m\xE9dia.")}finally{Ge=!1,Ee=null,Q(!1)}}};S==null||S.addEventListener("click",()=>v==null?void 0:v.click()),v==null||v.addEventListener("change",()=>{v.files&&v.files[0]&&De(v.files[0])});let qe=()=>{M&&(M.classList.add("hidden"),M.classList.remove("flex"))},je=()=>{if(!(!_||W)){if(M){M.classList.remove("hidden"),M.classList.add("flex");return}window.confirm("Supprimer ce m\xE9dia ?")&&Ht()}},Ht=async()=>{if(!_||!H){qe();return}let h=()=>{N&&(N.disabled=!0),L&&(L.disabled=!0,L.textContent="Suppression\u2026")},P=()=>{N&&(N.disabled=!1),L&&(L.disabled=!1,L.textContent="Supprimer")};h();try{let g=await fetch(`${H}/${encodeURIComponent(_)}`,{method:"DELETE"});if(!g.ok){let le=await g.json().catch(()=>({}));throw new Error(le.message||"Suppression impossible.")}Z=Z.filter(le=>le.id!==_),Y=Y.filter(le=>le.id!==_),F("M\xE9dia supprim\xE9"),ge(),x(),E()}catch(g){console.error("[media] delete failed",g),F(g.message||"Impossible de supprimer ce m\xE9dia.")}finally{P(),qe()}};R==null||R.addEventListener("click",qe),M==null||M.addEventListener("click",h=>{h.target===M&&qe()}),L==null||L.addEventListener("click",()=>Ht()),N==null||N.addEventListener("click",je),j==null||j.addEventListener("click",async()=>{if(W){Ce();return}if(!(!_||!H||!B)){Q(!0);try{let h={alt:B.value||""},P=await fetch(`${H}/${encodeURIComponent(_)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)});if(!P.ok){let le=await P.json().catch(()=>({}));throw new Error(le.message||"Impossible de mettre \xE0 jour ce m\xE9dia.")}let g=await P.json();Z=Z.map(le=>le.id===_?{...le,...g}:le),Y=Y.map(le=>le.id===_?{...le,...g}:le),we=!1,Q(!1),F("M\xE9dia mis \xE0 jour")}catch(h){console.error("[media] update failed",h),F(h.message||"\xC9chec de la mise \xE0 jour."),Q(!1)}}}),ue()}let Fo=document.getElementById("ai-chat-toggle"),ps=document.getElementById("ai-chat-panel"),it=document.getElementById("ai-chat-overlay"),No=document.getElementById("ai-chat-close"),Do=document.getElementById("ai-chat-clear"),Ho=document.getElementById("ai-chat-form"),Bt=document.getElementById("ai-chat-input"),ke=document.getElementById("ai-chat-messages"),Ta=document.getElementById("ai-chat-status"),wt=document.getElementById("ai-chat-no-api"),An=document.querySelectorAll("[data-ai-quick]"),oo=!1,Uo=!1,wr=!1,Tn=!1;function In(){ps&&(oo=!0,ps.classList.remove("translate-x-full"),ps.setAttribute("aria-hidden","false"),it==null||it.classList.remove("opacity-0","pointer-events-none"),it==null||it.classList.add("opacity-100"),document.body.classList.add("overflow-hidden"),Bt==null||Bt.focus(),wr||Bn())}function ro(){ps&&(oo=!1,ps.classList.add("translate-x-full"),ps.setAttribute("aria-hidden","true"),it==null||it.classList.add("opacity-0","pointer-events-none"),it==null||it.classList.remove("opacity-100"),document.body.classList.remove("overflow-hidden"))}async function Bn(){let o=Ie(te.slug||"");if(!o){wt==null||wt.classList.remove("hidden");return}try{let n=await fetch(`/api/sites/${encodeURIComponent(o)}/config/ai`);if(!n.ok)throw new Error("Config check failed");let c=await n.json();wr=!0,Tn=c.hasApiKey,!c.enabled||!c.hasApiKey?wt==null||wt.classList.remove("hidden"):(wt==null||wt.classList.add("hidden"),$n())}catch(n){console.error("[AI] Config check failed:",n),wt==null||wt.classList.remove("hidden")}}async function $n(){let o=Ie(te.slug||"");if(!(!o||!ke))try{let n=await fetch(`/api/sites/${encodeURIComponent(o)}/ai/history`);if(!n.ok)return;let c=await n.json();if(c.messages&&c.messages.length>0){let f=ke.querySelector("[data-ai-welcome]");f&&f.remove(),c.messages.forEach(p=>{no(p.content,p.role==="user"?"user":"assistant")}),ke.scrollTop=ke.scrollHeight}}catch(n){console.error("[AI] History load failed:",n)}}function no(o,n="assistant"){if(!ke)return;let c=document.createElement("div");if(c.className="flex gap-3",n==="user")c.innerHTML=`
        <div class="flex-1"></div>
        <div class="max-w-[80%] bg-violet-600 text-white rounded-2xl rounded-tr-none p-3">
          <p class="text-sm whitespace-pre-wrap">${pt(o)}</p>
        </div>
        <div class="w-8 h-8 rounded-full bg-slate-200 flex-shrink-0 flex items-center justify-center">
          <svg class="w-4 h-4 text-slate-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
          </svg>
        </div>
      `;else{let f=jn(o);c.innerHTML=`
        <div class="w-8 h-8 rounded-full bg-gradient-to-br from-violet-500 to-indigo-600 flex-shrink-0 flex items-center justify-center">
          <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
          </svg>
        </div>
        <div class="flex-1 bg-slate-50 rounded-2xl rounded-tl-none p-3 overflow-x-auto">
          <div class="text-sm text-slate-700 prose prose-sm max-w-none [&>pre]:bg-slate-800 [&>pre]:text-slate-100 [&>pre]:rounded-lg [&>pre]:p-3 [&>pre]:overflow-x-auto [&>code]:bg-slate-200 [&>code]:px-1 [&>code]:rounded">${f}</div>
        </div>
      `}ke.appendChild(c),ke.scrollTop=ke.scrollHeight}function Pn(){if(!ke)return;let o=document.createElement("div");o.className="flex gap-3",o.id="ai-loading-indicator",o.innerHTML=`
      <div class="w-8 h-8 rounded-full bg-gradient-to-br from-violet-500 to-indigo-600 flex-shrink-0 flex items-center justify-center">
        <svg class="w-4 h-4 text-white animate-pulse" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
        </svg>
      </div>
      <div class="flex-1 bg-slate-50 rounded-2xl rounded-tl-none p-3">
        <div class="flex items-center gap-2">
          <div class="w-2 h-2 bg-violet-400 rounded-full animate-bounce" style="animation-delay: 0ms"></div>
          <div class="w-2 h-2 bg-violet-400 rounded-full animate-bounce" style="animation-delay: 150ms"></div>
          <div class="w-2 h-2 bg-violet-400 rounded-full animate-bounce" style="animation-delay: 300ms"></div>
        </div>
      </div>
    `,ke.appendChild(o),ke.scrollTop=ke.scrollHeight}function Sr(){let o=document.getElementById("ai-loading-indicator");o==null||o.remove()}function jn(o){if(!o)return"";let n=pt(o);return n=n.replace(/```(\w*)\n([\s\S]*?)```/g,(c,f,p)=>`<pre class="language-${f||"text"}"><code>${p.trim()}</code></pre>`),n=n.replace(/`([^`]+)`/g,"<code>$1</code>"),n=n.replace(/\*\*([^*]+)\*\*/g,"<strong>$1</strong>"),n=n.replace(/\*([^*]+)\*/g,"<em>$1</em>"),n=n.replace(/^### (.+)$/gm,'<h4 class="font-semibold text-slate-900 mt-3 mb-1">$1</h4>'),n=n.replace(/^## (.+)$/gm,'<h3 class="font-semibold text-slate-900 mt-3 mb-1">$1</h3>'),n=n.replace(/^# (.+)$/gm,'<h2 class="font-bold text-slate-900 mt-3 mb-2">$1</h2>'),n=n.replace(/^- (.+)$/gm,'<li class="ml-4">$1</li>'),n=n.replace(/^(\d+)\. (.+)$/gm,'<li class="ml-4">$2</li>'),n=n.replace(/\n\n/g,'</p><p class="mb-2">'),n='<p class="mb-2">'+n+"</p>",n=n.replace(/<p class="mb-2"><\/p>/g,""),n}function pt(o){let n=document.createElement("div");return n.textContent=o,n.innerHTML}async function Lr(o){let n=Ie(te.slug||"");if(!o||!n||Uo)return;Uo=!0,Bt.disabled=!0;let c=ke==null?void 0:ke.querySelector("[data-ai-welcome]");c&&c.remove(),no(o,"user"),Pn();try{let f=await fetch(`/api/sites/${encodeURIComponent(n)}/ai/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:o})});if(Sr(),!f.ok){let y=await f.json().catch(()=>({}));throw new Error(y.message||"Erreur de communication")}let p=await f.json();p.response&&no(p.response,"assistant"),p.editProposal&&Mn(p.editProposal),p.themeProposal&&Fn(p.themeProposal)}catch(f){Sr(),no(`\u274C Erreur: ${f.message}`,"assistant")}finally{Uo=!1,Bt.disabled=!1,Bt.focus()}}function Mn(o){var f,p;if(!ke||!o)return;let n=document.createElement("div");n.className="flex gap-3 mt-2",n.dataset.proposalId=o.proposalId;let c="";if(o.changes&&(o.changes.title&&(c+=`<li>Titre \u2192 <strong>${pt(o.changes.title)}</strong></li>`),o.changes.description&&(c+=`<li>Description \u2192 ${pt(o.changes.description.substring(0,80))}...</li>`),o.changes.seo&&(o.changes.seo.metaTitle&&(c+=`<li>Meta title \u2192 ${pt(o.changes.seo.metaTitle)}</li>`),o.changes.seo.metaDescription&&(c+=`<li>Meta description \u2192 ${pt(o.changes.seo.metaDescription.substring(0,60))}...</li>`)),o.changes.blockUpdate&&(c+=`<li>Bloc "${o.changes.blockUpdate.blockId}" modifi\xE9</li>`,o.changes.blockUpdate.settings))){let y=o.changes.blockUpdate.settings;y.title&&(c+=`<li class="ml-4">\u2192 title: ${pt(y.title)}</li>`),y.content&&(c+='<li class="ml-4">\u2192 content modifi\xE9</li>')}n.innerHTML=`
      <div class="w-8 h-8 rounded-full bg-amber-500 flex-shrink-0 flex items-center justify-center">
        <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"/>
        </svg>
      </div>
      <div class="flex-1 bg-amber-50 border border-amber-200 rounded-2xl rounded-tl-none p-4">
        <div class="flex items-center gap-2 mb-2">
          <span class="text-xs font-semibold text-amber-700 bg-amber-100 px-2 py-0.5 rounded">Proposition d'\xE9dition</span>
        </div>
        <p class="text-sm font-medium text-slate-800 mb-1">Page : ${pt(o.pageTitle||o.pageId)}</p>
        ${o.reason?`<p class="text-sm text-slate-600 mb-2">${pt(o.reason)}</p>`:""}
        <ul class="text-xs text-slate-600 space-y-1 mb-3 list-disc ml-4">
          ${c||"<li>Modifications propos\xE9es</li>"}
        </ul>
        <div class="flex gap-2">
          <button 
            class="ai-apply-edit px-3 py-1.5 text-xs font-medium text-white bg-emerald-600 hover:bg-emerald-700 rounded-lg transition-colors flex items-center gap-1"
            data-proposal-id="${o.proposalId}"
          >
            <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
            </svg>
            Appliquer
          </button>
          <button 
            class="ai-reject-edit px-3 py-1.5 text-xs font-medium text-slate-600 bg-slate-100 hover:bg-slate-200 rounded-lg transition-colors flex items-center gap-1"
            data-proposal-id="${o.proposalId}"
          >
            <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
            </svg>
            Rejeter
          </button>
        </div>
      </div>
    `,ke.appendChild(n),ke.scrollTop=ke.scrollHeight,(f=n.querySelector(".ai-apply-edit"))==null||f.addEventListener("click",Hn),(p=n.querySelector(".ai-reject-edit"))==null||p.addEventListener("click",kr)}function Fn(o){var p,y,O,U;if(!ke||!o)return;let n=document.createElement("div");n.className="flex gap-3 mt-2",n.dataset.proposalId=o.proposalId;let c="";if((p=o.changes)!=null&&p.colors){let J=o.changes.colors;for(let[ee,K]of Object.entries(J))c+=`<li class="flex items-center gap-2">
          <span class="w-4 h-4 rounded border border-slate-300" style="background: ${Nn(K)}"></span>
          <span>${ee}: <strong>${pt(K)}</strong></span>
        </li>`}let f="";if((y=o.changes)!=null&&y.typography){let J=o.changes.typography;J.headings&&(f+=`<li>Titres \u2192 <strong>${pt(J.headings)}</strong></li>`),J.body&&(f+=`<li>Textes \u2192 <strong>${pt(J.body)}</strong></li>`)}n.innerHTML=`
      <div class="w-8 h-8 rounded-full bg-purple-500 flex-shrink-0 flex items-center justify-center">
        <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"/>
        </svg>
      </div>
      <div class="flex-1 bg-purple-50 border border-purple-200 rounded-2xl rounded-tl-none p-4">
        <div class="flex items-center gap-2 mb-2">
          <span class="text-xs font-semibold text-purple-700 bg-purple-100 px-2 py-0.5 rounded">Modification du th\xE8me</span>
        </div>
        ${o.reason?`<p class="text-sm text-slate-600 mb-3">${pt(o.reason)}</p>`:""}
        ${c?`
          <p class="text-xs font-medium text-slate-700 mb-1">Couleurs :</p>
          <ul class="text-xs text-slate-600 space-y-1 mb-3">${c}</ul>
        `:""}
        ${f?`
          <p class="text-xs font-medium text-slate-700 mb-1">Typographies :</p>
          <ul class="text-xs text-slate-600 space-y-1 mb-3 list-disc ml-4">${f}</ul>
        `:""}
        <div class="flex gap-2">
          <button 
            class="ai-apply-theme px-3 py-1.5 text-xs font-medium text-white bg-purple-600 hover:bg-purple-700 rounded-lg transition-colors flex items-center gap-1"
            data-proposal-id="${o.proposalId}"
          >
            <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
            </svg>
            Appliquer
          </button>
          <button 
            class="ai-reject-theme px-3 py-1.5 text-xs font-medium text-slate-600 bg-slate-100 hover:bg-slate-200 rounded-lg transition-colors flex items-center gap-1"
            data-proposal-id="${o.proposalId}"
          >
            <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
            </svg>
            Rejeter
          </button>
        </div>
      </div>
    `,ke.appendChild(n),ke.scrollTop=ke.scrollHeight,(O=n.querySelector(".ai-apply-theme"))==null||O.addEventListener("click",Dn),(U=n.querySelector(".ai-reject-theme"))==null||U.addEventListener("click",kr)}function Nn(o){return{white:"#ffffff",black:"#000000",transparent:"transparent","slate-50":"#f8fafc","slate-100":"#f1f5f9","slate-200":"#e2e8f0","slate-300":"#cbd5e1","slate-400":"#94a3b8","slate-500":"#64748b","slate-600":"#475569","slate-700":"#334155","slate-800":"#1e293b","slate-900":"#0f172a","gray-50":"#f9fafb","gray-100":"#f3f4f6","gray-200":"#e5e7eb","gray-300":"#d1d5db","gray-400":"#9ca3af","gray-500":"#6b7280","gray-600":"#4b5563","gray-700":"#374151","gray-800":"#1f2937","gray-900":"#111827","violet-50":"#f5f3ff","violet-100":"#ede9fe","violet-200":"#ddd6fe","violet-300":"#c4b5fd","violet-400":"#a78bfa","violet-500":"#8b5cf6","violet-600":"#7c3aed","violet-700":"#6d28d9","violet-800":"#5b21b6","violet-900":"#4c1d95","purple-50":"#faf5ff","purple-100":"#f3e8ff","purple-200":"#e9d5ff","purple-300":"#d8b4fe","purple-400":"#c084fc","purple-500":"#a855f7","purple-600":"#9333ea","purple-700":"#7e22ce","purple-800":"#6b21a8","purple-900":"#581c87","blue-50":"#eff6ff","blue-100":"#dbeafe","blue-200":"#bfdbfe","blue-300":"#93c5fd","blue-400":"#60a5fa","blue-500":"#3b82f6","blue-600":"#2563eb","blue-700":"#1d4ed8","blue-800":"#1e40af","blue-900":"#1e3a8a","emerald-50":"#ecfdf5","emerald-100":"#d1fae5","emerald-200":"#a7f3d0","emerald-300":"#6ee7b7","emerald-400":"#34d399","emerald-500":"#10b981","emerald-600":"#059669","emerald-700":"#047857","emerald-800":"#065f46","emerald-900":"#064e3b","teal-50":"#f0fdfa","teal-100":"#ccfbf1","teal-200":"#99f6e4","teal-300":"#5eead4","teal-400":"#2dd4bf","teal-500":"#14b8a6","teal-600":"#0d9488","teal-700":"#0f766e","teal-800":"#115e59","teal-900":"#134e4a","amber-50":"#fffbeb","amber-100":"#fef3c7","amber-200":"#fde68a","amber-300":"#fcd34d","amber-400":"#fbbf24","amber-500":"#f59e0b","amber-600":"#d97706","amber-700":"#b45309","amber-800":"#92400e","amber-900":"#78350f","red-50":"#fef2f2","red-100":"#fee2e2","red-200":"#fecaca","red-300":"#fca5a5","red-400":"#f87171","red-500":"#ef4444","red-600":"#dc2626","red-700":"#b91c1c","red-800":"#991b1b","red-900":"#7f1d1d"}[o]||"#9C6BFF"}async function Dn(o){var p;let n=(p=o.target.closest("[data-proposal-id]"))==null?void 0:p.dataset.proposalId,c=Ie(te.slug||"");if(!n||!c)return;let f=o.target.closest("button");f.disabled=!0,f.innerHTML='<span class="animate-spin">\u23F3</span> Application...';try{let y=await fetch(`/api/sites/${encodeURIComponent(c)}/ai/apply-theme`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({proposalId:n})}),O=await y.json();if(y.ok&&O.success){let U=document.querySelector(`[data-proposal-id="${n}"]`);U&&(U.innerHTML=`
            <div class="w-8 h-8 rounded-full bg-purple-500 flex-shrink-0 flex items-center justify-center">
              <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
              </svg>
            </div>
            <div class="flex-1 bg-purple-50 border border-purple-200 rounded-2xl rounded-tl-none p-3">
              <p class="text-sm text-purple-700">\u2705 Th\xE8me mis \xE0 jour avec succ\xE8s !</p>
              <p class="text-xs text-purple-600 mt-1">Rechargez la preview pour voir les changements.</p>
            </div>
          `),F("Th\xE8me mis \xE0 jour !"),document.dispatchEvent(new CustomEvent("ai-theme-updated",{detail:{updatedTheme:O.updatedTheme}}))}else throw new Error(O.message||"Erreur lors de l'application")}catch(y){f.disabled=!1,f.innerHTML='<svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg> R\xE9essayer',F(`Erreur: ${y.message}`)}}async function Hn(o){var p,y;let n=(p=o.target.closest("[data-proposal-id]"))==null?void 0:p.dataset.proposalId,c=Ie(te.slug||"");if(!n||!c)return;let f=o.target.closest("button");f.disabled=!0,f.innerHTML='<span class="animate-spin">\u23F3</span> Application...';try{let O=await fetch(`/api/sites/${encodeURIComponent(c)}/ai/apply-edit`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({proposalId:n})}),U=await O.json();if(O.ok&&U.success){let J=document.querySelector(`[data-proposal-id="${n}"]`);J&&(J.innerHTML=`
            <div class="w-8 h-8 rounded-full bg-emerald-500 flex-shrink-0 flex items-center justify-center">
              <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
              </svg>
            </div>
            <div class="flex-1 bg-emerald-50 border border-emerald-200 rounded-2xl rounded-tl-none p-3">
              <p class="text-sm text-emerald-700">\u2705 Modifications appliqu\xE9es avec succ\xE8s !</p>
              <p class="text-xs text-emerald-600 mt-1">La preview se met \xE0 jour automatiquement.</p>
            </div>
          `),F("Modifications appliqu\xE9es !");let ee=((y=U.updatedPage)==null?void 0:y.id)||null;document.dispatchEvent(new CustomEvent("ai-page-updated",{detail:{pageId:ee,updatedPage:U.updatedPage}}))}else throw new Error(U.message||"Erreur lors de l'application")}catch(O){f.disabled=!1,f.innerHTML='<svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg> R\xE9essayer',F(`Erreur: ${O.message}`)}}async function kr(o){var f;let n=(f=o.target.closest("[data-proposal-id]"))==null?void 0:f.dataset.proposalId,c=Ie(te.slug||"");if(!(!n||!c))try{await fetch(`/api/sites/${encodeURIComponent(c)}/ai/proposal/${n}`,{method:"DELETE"});let p=document.querySelector(`[data-proposal-id="${n}"]`);p&&(p.innerHTML=`
          <div class="w-8 h-8 rounded-full bg-slate-400 flex-shrink-0 flex items-center justify-center">
            <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
            </svg>
          </div>
          <div class="flex-1 bg-slate-100 rounded-2xl rounded-tl-none p-3">
            <p class="text-sm text-slate-500">Proposition rejet\xE9e.</p>
          </div>
        `)}catch(p){console.error("[AI] Reject edit error:",p)}}async function Un(){let o=Ie(te.slug||"");if(!(!o||!ke))try{await fetch(`/api/sites/${encodeURIComponent(o)}/ai/history`,{method:"DELETE"}),ke.innerHTML="",ke.innerHTML=`
        <div class="flex gap-3" data-ai-welcome>
          <div class="w-8 h-8 rounded-full bg-gradient-to-br from-violet-500 to-indigo-600 flex-shrink-0 flex items-center justify-center">
            <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
            </svg>
          </div>
          <div class="flex-1 bg-slate-50 rounded-2xl rounded-tl-none p-3">
            <p class="text-sm text-slate-700">
              Salut ! \u{1F44B} Je suis ton assistant IA pour ce site. Je peux t'aider \xE0 :
            </p>
            <ul class="mt-2 text-sm text-slate-600 space-y-1">
              <li>\u{1F3A8} Sugg\xE9rer des palettes de couleurs</li>
              <li>\u270D\uFE0F G\xE9n\xE9rer du contenu pour tes blocs</li>
              <li>\u{1F4C4} Cr\xE9er des structures de pages</li>
              <li>\u{1F50D} Am\xE9liorer ton SEO</li>
              <li>\u270F\uFE0F <strong>Analyser et modifier tes pages</strong> (avec validation)</li>
            </ul>
          </div>
        </div>
      `,F("Historique effac\xE9")}catch(n){console.error("[AI] Clear history failed:",n),F("Erreur lors de l'effacement")}}let Rn={colors:"Sugg\xE8re-moi 3 palettes de couleurs harmonieuses pour mon site. Pour chaque palette, donne les couleurs Tailwind: primary, secondary, accent, et background.",hero:"G\xE9n\xE8re un bloc Hero en JSON avec un titre accrocheur, un sous-titre engageant et un CTA.",seo:"Analyse mon site et sugg\xE8re des am\xE9liorations SEO pour le meta title et la meta description de ma page d'accueil.",landing:"G\xE9n\xE8re la structure JSON d'une landing page compl\xE8te avec: Hero, 3 sections de contenu, et un CTA final.",analyze:"Analyse le contenu de toutes mes pages et propose des am\xE9liorations concr\xE8tes. Pour chaque suggestion d'am\xE9lioration de texte ou de structure, utilise le format propose-edit pour que je puisse valider.",improveHome:"Analyse ma page d'accueil et propose une am\xE9lioration du titre ou du Hero pour le rendre plus impactant. Utilise le format propose-edit."};Fo==null||Fo.addEventListener("click",()=>{oo?ro():In()}),No==null||No.addEventListener("click",ro),it==null||it.addEventListener("click",ro),Do==null||Do.addEventListener("click",()=>{confirm("Effacer tout l'historique de conversation ?")&&Un()}),Ho==null||Ho.addEventListener("submit",o=>{var c;o.preventDefault();let n=(c=Bt==null?void 0:Bt.value)==null?void 0:c.trim();n&&(Bt.value="",Lr(n))}),An.forEach(o=>{o.addEventListener("click",()=>{let n=o.dataset.aiQuick,c=Rn[n];c&&Lr(c)})}),document.addEventListener("keydown",o=>{o.key==="Escape"&&oo&&ro()})});})();
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vY29yZS9zY3JpcHRzL2FkbWluLmpzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuICBjb25zb2xlLmxvZygnW2FkbWluXSBBdGVsaWVyIGNoYXJnXHUwMEU5Jyk7XG4gIGNvbnN0IGxvZ291dEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWxvZ291dF0nKTtcbiAgaWYgKGxvZ291dEJ1dHRvbikge1xuICAgIGxvZ291dEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGxvZ291dEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBmZXRjaCgnL2FwaS9sb2dvdXQnLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbYWRtaW5dIEltcG9zc2libGUgZGUgc2UgZFx1MDBFOWNvbm5lY3RlcicsIGVycik7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvYWRtaW4vaW5kZXguaHRtbCc7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBjb25zdCBzaWRlYmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRtaW4tc2lkZWJhcl0nKTtcbiAgY29uc3Qgc2lkZWJhck92ZXJsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZG1pbi1zaWRlYmFyLW92ZXJsYXldJyk7XG4gIGNvbnN0IHNpZGViYXJUb2dnbGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYWRtaW4tc2lkZWJhci10b2dnbGVdJyk7XG4gIGNvbnN0IHNpZGViYXJDbG9zZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1hZG1pbi1zaWRlYmFyLWNsb3NlXScpO1xuICBjb25zdCBib2R5ID0gZG9jdW1lbnQuYm9keTtcbiAgbGV0IHNpZGViYXJPcGVuID0gZmFsc2U7XG5cbiAgY29uc3QgYXBwbHlTaWRlYmFyU3RhdGUgPSAoKSA9PiB7XG4gICAgaWYgKCFzaWRlYmFyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGlzRGVza3RvcCA9IHdpbmRvdy5tYXRjaE1lZGlhKCcobWluLXdpZHRoOiAxMDI0cHgpJykubWF0Y2hlcztcbiAgICBpZiAoaXNEZXNrdG9wKSB7XG4gICAgICBzaWRlYmFyLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgc2lkZWJhck92ZXJsYXk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHNpZGViYXJPcGVuKSB7XG4gICAgICBzaWRlYmFyLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgc2lkZWJhck92ZXJsYXk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgYm9keS5jbGFzc0xpc3QuYWRkKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2lkZWJhci5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIHNpZGViYXJPdmVybGF5Py5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnb3ZlcmZsb3ctaGlkZGVuJyk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IG9wZW5TaWRlYmFyID0gKCkgPT4ge1xuICAgIHNpZGViYXJPcGVuID0gdHJ1ZTtcbiAgICBhcHBseVNpZGViYXJTdGF0ZSgpO1xuICB9O1xuXG4gIGNvbnN0IGNsb3NlU2lkZWJhciA9ICgpID0+IHtcbiAgICBzaWRlYmFyT3BlbiA9IGZhbHNlO1xuICAgIGFwcGx5U2lkZWJhclN0YXRlKCk7XG4gIH07XG5cbiAgaWYgKHNpZGViYXIgJiYgc2lkZWJhclRvZ2dsZXMubGVuZ3RoID4gMCkge1xuICAgIHNpZGViYXJUb2dnbGVzLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlblNpZGViYXIpO1xuICAgIH0pO1xuICAgIHNpZGViYXJDbG9zZUJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZVNpZGViYXIpO1xuICAgIH0pO1xuICAgIHNpZGViYXJPdmVybGF5Py5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlU2lkZWJhcik7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGFwcGx5U2lkZWJhclN0YXRlKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VzY2FwZScgJiYgc2lkZWJhck9wZW4pIHtcbiAgICAgICAgY2xvc2VTaWRlYmFyKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgYXBwbHlTaWRlYmFyU3RhdGUoKTtcbiAgfVxuXG4gIGNvbnN0IEFDVElWRV9TSVRFX0tFWSA9ICdjbG93ZXI6Y3VycmVudFNpdGUnO1xuICBjb25zdCBBQ1RJVkVfU0lURV9OQU1FX0tFWSA9ICdjbG93ZXI6Y3VycmVudFNpdGVOYW1lJztcbiAgY29uc3Qgc3RvcmVkU2l0ZSA9IHsgc2x1ZzogbnVsbCwgbmFtZTogJycgfTtcbiAgY29uc3QgbG9hZFN0b3JlZFNpdGUgPSAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJhd1NsdWcgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oQUNUSVZFX1NJVEVfS0VZKTtcbiAgICAgIHN0b3JlZFNpdGUuc2x1ZyA9IHJhd1NsdWcgPyBlbnN1cmVMZWFkaW5nU2xhc2goc3RyaXBMZWFkaW5nU2xhc2gocmF3U2x1ZykpIDogbnVsbDtcbiAgICAgIHN0b3JlZFNpdGUubmFtZSA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShBQ1RJVkVfU0lURV9OQU1FX0tFWSkgfHwgJyc7XG4gICAgfSBjYXRjaCB7XG4gICAgICBzdG9yZWRTaXRlLnNsdWcgPSBudWxsO1xuICAgICAgc3RvcmVkU2l0ZS5uYW1lID0gJyc7XG4gICAgfVxuICB9O1xuICBsb2FkU3RvcmVkU2l0ZSgpO1xuXG4gIGNvbnN0IHNpdGVDYXJkcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXNpdGUtY2FyZF0nKTtcbiAgY29uc3Qgc2l0ZVNlbGVjdEJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1zaXRlLXNlbGVjdF0nKTtcbiAgY29uc3Qgc2l0ZU5hbWVMYWJlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWN1cnJlbnQtc2l0ZS1uYW1lXScpO1xuICBjb25zdCB3b3Jrc3BhY2VTaXRlTGFiZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS13b3Jrc3BhY2Utc2l0ZS1uYW1lXScpO1xuICBjb25zdCB3b3Jrc3BhY2VCYWNrTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXdvcmtzcGFjZS1iYWNrLW5hbWVdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZUJhY2tNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXdvcmtzcGFjZS1iYWNrLW1vZGFsXScpO1xuICBjb25zdCB3b3Jrc3BhY2VCYWNrQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXdvcmtzcGFjZS1iYWNrXScpO1xuICBjb25zdCB3b3Jrc3BhY2VCYWNrQ2FuY2VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtd29ya3NwYWNlLWJhY2stY2FuY2VsXScpO1xuICBjb25zdCB3b3Jrc3BhY2VCYWNrQ29uZmlybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXdvcmtzcGFjZS1iYWNrLWNvbmZpcm1dJyk7XG4gIGNvbnN0IHdvcmtzcGFjZU5hdkxpbmtzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtd29ya3NwYWNlLXRhYl0nKTtcbiAgY29uc3Qgc2l0ZVRvYXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS10b2FzdF0nKTtcbiAgY29uc3Qgc2l0ZVRvYXN0TWVzc2FnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtdG9hc3QtbWVzc2FnZV0nKTtcbiAgY29uc3Qgc2l0ZUNyZWF0ZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1zaXRlLWNyZWF0ZV0nKTtcbiAgY29uc3Qgc2l0ZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS1tb2RhbF0nKTtcbiAgY29uc3Qgc2l0ZUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLWZvcm1dJyk7XG4gIC8vIFVzZSBtb3JlIHNwZWNpZmljIHNlbGVjdG9ycyB0byBnZXQgaW5wdXRzIElOU0lERSB0aGUgZm9ybSwgbm90IHNpdGUgY2FyZHNcbiAgY29uc3Qgc2l0ZU5hbWVJbnB1dCA9IHNpdGVGb3JtPy5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPVwic2l0ZU5hbWVcIl0nKTtcbiAgY29uc3Qgc2l0ZVNsdWdJbnB1dCA9IHNpdGVGb3JtPy5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPVwic2l0ZVNsdWdcIl0nKTtcbiAgY29uc3Qgc2l0ZVNsdWdFcnJvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtc2x1Zy1lcnJvcl0nKTtcbiAgY29uc3Qgc2l0ZU1vZGFsRXJyb3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLW1vZGFsLWVycm9yXScpO1xuICBjb25zdCBzaXRlTW9kYWxDYW5jZWxCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtc2l0ZS1tb2RhbC1jYW5jZWxdJyk7XG4gIGNvbnN0IHNpdGVNb2RhbFN1Ym1pdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtbW9kYWwtc3VibWl0XScpO1xuICBjb25zdCB3b3Jrc3BhY2VDb250ZXh0ID0gZ2V0V29ya3NwYWNlQ29udGV4dCgpO1xuICBsZXQgc2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gIGxldCB0b2FzdFRpbWVvdXRJZCA9IG51bGw7XG5cbiAgY29uc3QgZm9jdXNhYmxlU2VsZWN0b3IgPVxuICAgICdhW2hyZWZdLCBidXR0b246bm90KFtkaXNhYmxlZF0pLCB0ZXh0YXJlYSwgaW5wdXQsIHNlbGVjdCwgW3RhYmluZGV4XTpub3QoW3RhYmluZGV4PVwiLTFcIl0pJztcbiAgY29uc3QgbW9kYWxTdGFjayA9IFtdO1xuICBjb25zdCBnZXRGb2N1c2FibGVFbGVtZW50cyA9IChtb2RhbCkgPT5cbiAgICBBcnJheS5mcm9tKG1vZGFsLnF1ZXJ5U2VsZWN0b3JBbGwoZm9jdXNhYmxlU2VsZWN0b3IpKS5maWx0ZXIoXG4gICAgICAoZWwpID0+ICFlbC5oYXNBdHRyaWJ1dGUoJ2Rpc2FibGVkJykgJiYgIWVsLmdldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nKSxcbiAgICApO1xuICBjb25zdCBoYW5kbGVNb2RhbEtleWRvd24gPSAoZXZlbnQpID0+IHtcbiAgICBpZiAoIW1vZGFsU3RhY2subGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGN1cnJlbnRFbnRyeSA9IG1vZGFsU3RhY2tbbW9kYWxTdGFjay5sZW5ndGggLSAxXTtcbiAgICBjb25zdCB7IG1vZGFsLCBvbkNsb3NlIH0gPSBjdXJyZW50RW50cnk7XG4gICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBvbkNsb3NlPy4oKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGV2ZW50LmtleSAhPT0gJ1RhYicpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZm9jdXNhYmxlRWxlbWVudHMgPSBnZXRGb2N1c2FibGVFbGVtZW50cyhtb2RhbCk7XG4gICAgaWYgKCFmb2N1c2FibGVFbGVtZW50cy5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZmlyc3QgPSBmb2N1c2FibGVFbGVtZW50c1swXTtcbiAgICBjb25zdCBsYXN0ID0gZm9jdXNhYmxlRWxlbWVudHNbZm9jdXNhYmxlRWxlbWVudHMubGVuZ3RoIC0gMV07XG4gICAgaWYgKGV2ZW50LnNoaWZ0S2V5KSB7XG4gICAgICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gZmlyc3QpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgbGFzdC5mb2N1cygpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gbGFzdCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGZpcnN0LmZvY3VzKCk7XG4gICAgfVxuICB9O1xuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlTW9kYWxLZXlkb3duKTtcbiAgY29uc3QgYWN0aXZhdGVNb2RhbCA9IChtb2RhbCwgb25DbG9zZSkgPT4ge1xuICAgIGlmICghbW9kYWwpIHJldHVybjtcbiAgICBtb2RhbFN0YWNrLnB1c2goe1xuICAgICAgbW9kYWwsXG4gICAgICBvbkNsb3NlLFxuICAgICAgdHJpZ2dlcjogZG9jdW1lbnQuYWN0aXZlRWxlbWVudCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ID8gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA6IG51bGwsXG4gICAgfSk7XG4gICAgY29uc3QgZm9jdXNhYmxlID0gZ2V0Rm9jdXNhYmxlRWxlbWVudHMobW9kYWwpO1xuICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIChmb2N1c2FibGVbMF0gfHwgbW9kYWwpLmZvY3VzPy4oKTtcbiAgICB9LCAwKTtcbiAgfTtcbiAgY29uc3QgZGVhY3RpdmF0ZU1vZGFsID0gKG1vZGFsKSA9PiB7XG4gICAgY29uc3QgaW5kZXggPSBtb2RhbFN0YWNrLmZpbmRJbmRleCgoZW50cnkpID0+IGVudHJ5Lm1vZGFsID09PSBtb2RhbCk7XG4gICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBbZW50cnldID0gbW9kYWxTdGFjay5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIGVudHJ5LnRyaWdnZXI/LmZvY3VzPy4oKTtcbiAgfTtcbiAgY29uc3QgbW9iaWxlUGFuZWxPdmVybGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbW9iaWxlLXBhbmVscy1vdmVybGF5XScpO1xuICBjb25zdCBtb2JpbGVQYW5lbExheWVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbW9iaWxlLXBhbmVscy1sYXllcl0nKTtcbiAgY29uc3QgbW9iaWxlUGFuZWxzID0ge1xuICAgIGxlZnQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1vYmlsZS1wYW5lbD1cImxlZnRcIl0nKSxcbiAgICByaWdodDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbW9iaWxlLXBhbmVsPVwicmlnaHRcIl0nKSxcbiAgfTtcbiAgbGV0IG1vYmlsZVBhbmVsTGF5ZXJQbGFjZWhvbGRlciA9IG51bGw7XG4gIGlmIChtb2JpbGVQYW5lbExheWVyPy5wYXJlbnRFbGVtZW50KSB7XG4gICAgbW9iaWxlUGFuZWxMYXllclBsYWNlaG9sZGVyID0gZG9jdW1lbnQuY3JlYXRlQ29tbWVudCgnbW9iaWxlLXBhbmVscy1sYXllci1wbGFjZWhvbGRlcicpO1xuICAgIG1vYmlsZVBhbmVsTGF5ZXIucGFyZW50RWxlbWVudC5pbnNlcnRCZWZvcmUobW9iaWxlUGFuZWxMYXllclBsYWNlaG9sZGVyLCBtb2JpbGVQYW5lbExheWVyKTtcbiAgfVxuICBsZXQgcmlnaHRQYW5lbFBsYWNlaG9sZGVyID0gbnVsbDtcbiAgaWYgKG1vYmlsZVBhbmVscy5yaWdodD8ucGFyZW50RWxlbWVudCkge1xuICAgIHJpZ2h0UGFuZWxQbGFjZWhvbGRlciA9IGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoJ21vYmlsZS1wYW5lbC1yaWdodC1wbGFjZWhvbGRlcicpO1xuICAgIG1vYmlsZVBhbmVscy5yaWdodC5wYXJlbnRFbGVtZW50Lmluc2VydEJlZm9yZShyaWdodFBhbmVsUGxhY2Vob2xkZXIsIG1vYmlsZVBhbmVscy5yaWdodCk7XG4gIH1cbiAgY29uc3QgbW9iaWxlUGFuZWxUb2dnbGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtbW9iaWxlLXBhbmVsLXRvZ2dsZV0nKTtcbiAgY29uc3QgbW9iaWxlUGFuZWxDbG9zZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1tb2JpbGUtcGFuZWwtY2xvc2VdJyk7XG4gIGNvbnN0IG1vYmlsZVBhbmVsVHJpZ2dlcnMgPSB7IGxlZnQ6IG51bGwsIHJpZ2h0OiBudWxsIH07XG4gIGxldCBhY3RpdmVNb2JpbGVQYW5lbCA9IG51bGw7XG4gIGNvbnN0IGlzRGVza3RvcFZpZXdwb3J0ID0gKCkgPT4gd2luZG93Lm1hdGNoTWVkaWEoJyhtaW4td2lkdGg6IDEwMjRweCknKS5tYXRjaGVzO1xuICBjb25zdCBlbnN1cmVNb2JpbGVQYW5lbExheWVyUGxhY2VtZW50ID0gKCkgPT4ge1xuICAgIGlmICghbW9iaWxlUGFuZWxMYXllciB8fCAhbW9iaWxlUGFuZWxMYXllclBsYWNlaG9sZGVyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChpc0Rlc2t0b3BWaWV3cG9ydCgpKSB7XG4gICAgICBjb25zdCB0YXJnZXRQYXJlbnQgPSBtb2JpbGVQYW5lbExheWVyUGxhY2Vob2xkZXIucGFyZW50RWxlbWVudDtcbiAgICAgIGlmICghdGFyZ2V0UGFyZW50KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChtb2JpbGVQYW5lbExheWVyLnBhcmVudEVsZW1lbnQgIT09IHRhcmdldFBhcmVudCkge1xuICAgICAgICB0YXJnZXRQYXJlbnQuaW5zZXJ0QmVmb3JlKG1vYmlsZVBhbmVsTGF5ZXIsIG1vYmlsZVBhbmVsTGF5ZXJQbGFjZWhvbGRlci5uZXh0U2libGluZyk7XG4gICAgICB9IGVsc2UgaWYgKG1vYmlsZVBhbmVsTGF5ZXJQbGFjZWhvbGRlci5uZXh0U2libGluZyAhPT0gbW9iaWxlUGFuZWxMYXllcikge1xuICAgICAgICB0YXJnZXRQYXJlbnQuaW5zZXJ0QmVmb3JlKG1vYmlsZVBhbmVsTGF5ZXIsIG1vYmlsZVBhbmVsTGF5ZXJQbGFjZWhvbGRlci5uZXh0U2libGluZyk7XG4gICAgICB9XG4gICAgICBtb2JpbGVQYW5lbExheWVyLmRhdGFzZXQubW9iaWxlUGFuZWxQbGFjZW1lbnQgPSAnc2lkZWJhcic7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChtb2JpbGVQYW5lbExheWVyLnBhcmVudEVsZW1lbnQgIT09IGRvY3VtZW50LmJvZHkpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobW9iaWxlUGFuZWxMYXllcik7XG4gICAgICBtb2JpbGVQYW5lbExheWVyLmRhdGFzZXQubW9iaWxlUGFuZWxQbGFjZW1lbnQgPSAnb3ZlcmxheSc7XG4gICAgfVxuICB9O1xuICBjb25zdCBlbnN1cmVSaWdodFBhbmVsUGxhY2VtZW50ID0gKCkgPT4ge1xuICAgIGNvbnN0IHBhbmVsID0gbW9iaWxlUGFuZWxzLnJpZ2h0O1xuICAgIGlmICghcGFuZWwgfHwgIXJpZ2h0UGFuZWxQbGFjZWhvbGRlcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoaXNEZXNrdG9wVmlld3BvcnQoKSkge1xuICAgICAgY29uc3QgdGFyZ2V0UGFyZW50ID0gcmlnaHRQYW5lbFBsYWNlaG9sZGVyLnBhcmVudEVsZW1lbnQ7XG4gICAgICBpZiAoIXRhcmdldFBhcmVudCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAocGFuZWwucGFyZW50RWxlbWVudCAhPT0gdGFyZ2V0UGFyZW50KSB7XG4gICAgICAgIHRhcmdldFBhcmVudC5pbnNlcnRCZWZvcmUocGFuZWwsIHJpZ2h0UGFuZWxQbGFjZWhvbGRlci5uZXh0U2libGluZyk7XG4gICAgICB9IGVsc2UgaWYgKHJpZ2h0UGFuZWxQbGFjZWhvbGRlci5uZXh0U2libGluZyAhPT0gcGFuZWwpIHtcbiAgICAgICAgdGFyZ2V0UGFyZW50Lmluc2VydEJlZm9yZShwYW5lbCwgcmlnaHRQYW5lbFBsYWNlaG9sZGVyLm5leHRTaWJsaW5nKTtcbiAgICAgIH1cbiAgICAgIHBhbmVsLmRhdGFzZXQubW9iaWxlUGFuZWxQbGFjZW1lbnQgPSAnc2lkZWJhcic7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChtb2JpbGVQYW5lbExheWVyKSB7XG4gICAgICBjb25zdCBsZWZ0UGFuZWwgPSBtb2JpbGVQYW5lbHMubGVmdDtcbiAgICAgIGlmIChsZWZ0UGFuZWwgJiYgbGVmdFBhbmVsLnBhcmVudEVsZW1lbnQgPT09IG1vYmlsZVBhbmVsTGF5ZXIpIHtcbiAgICAgICAgaWYgKHBhbmVsLnBhcmVudEVsZW1lbnQgIT09IG1vYmlsZVBhbmVsTGF5ZXIgfHwgcGFuZWwucHJldmlvdXNTaWJsaW5nICE9PSBsZWZ0UGFuZWwpIHtcbiAgICAgICAgICBtb2JpbGVQYW5lbExheWVyLmluc2VydEJlZm9yZShwYW5lbCwgbGVmdFBhbmVsLm5leHRTaWJsaW5nKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChwYW5lbC5wYXJlbnRFbGVtZW50ICE9PSBtb2JpbGVQYW5lbExheWVyKSB7XG4gICAgICAgIG1vYmlsZVBhbmVsTGF5ZXIuYXBwZW5kQ2hpbGQocGFuZWwpO1xuICAgICAgfVxuICAgICAgcGFuZWwuZGF0YXNldC5tb2JpbGVQYW5lbFBsYWNlbWVudCA9ICdvdmVybGF5JztcbiAgICB9IGVsc2UgaWYgKHBhbmVsLnBhcmVudEVsZW1lbnQgIT09IGRvY3VtZW50LmJvZHkpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQocGFuZWwpO1xuICAgICAgcGFuZWwuZGF0YXNldC5tb2JpbGVQYW5lbFBsYWNlbWVudCA9ICdvdmVybGF5JztcbiAgICB9XG4gIH07XG4gIGNvbnN0IGVuc3VyZU1vYmlsZVBhbmVsUGxhY2VtZW50ID0gKCkgPT4ge1xuICAgIGVuc3VyZU1vYmlsZVBhbmVsTGF5ZXJQbGFjZW1lbnQoKTtcbiAgICBlbnN1cmVSaWdodFBhbmVsUGxhY2VtZW50KCk7XG4gIH07XG4gIGVuc3VyZU1vYmlsZVBhbmVsUGxhY2VtZW50KCk7XG4gIGNvbnN0IHBhbmVsRGVmYXVsdFogPSB7fTtcbiAgT2JqZWN0LmVudHJpZXMobW9iaWxlUGFuZWxzKS5mb3JFYWNoKChbc2lkZSwgcGFuZWxdKSA9PiB7XG4gICAgaWYgKCFwYW5lbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBjb21wdXRlZFogPSBOdW1iZXIod2luZG93LmdldENvbXB1dGVkU3R5bGUocGFuZWwpLnpJbmRleCkgfHwgMDtcbiAgICBwYW5lbERlZmF1bHRaW3NpZGVdID0gY29tcHV0ZWRaO1xuICB9KTtcbiAgY29uc3QgbWF4RGVmYXVsdFogPVxuICAgIE9iamVjdC52YWx1ZXMocGFuZWxEZWZhdWx0WikucmVkdWNlKChtYXgsIHZhbHVlKSA9PiBNYXRoLm1heChtYXgsIHZhbHVlIHx8IDApLCAwKSB8fCAxNTA7XG4gIGNvbnN0IGFjdGl2ZVBhbmVsWiA9IG1heERlZmF1bHRaICsgNTtcbiAgY29uc3Qgc2V0UGFuZWxaU3RhdGUgPSAoc2lkZSwgaXNBY3RpdmUpID0+IHtcbiAgICBjb25zdCBwYW5lbCA9IG1vYmlsZVBhbmVsc1tzaWRlXTtcbiAgICBpZiAoIXBhbmVsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChpc0Rlc2t0b3BWaWV3cG9ydCgpKSB7XG4gICAgICBwYW5lbC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnei1pbmRleCcpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoaXNBY3RpdmUpIHtcbiAgICAgIHBhbmVsLnN0eWxlLnpJbmRleCA9IFN0cmluZyhhY3RpdmVQYW5lbFopO1xuICAgIH0gZWxzZSBpZiAocGFuZWxEZWZhdWx0WltzaWRlXSkge1xuICAgICAgcGFuZWwuc3R5bGUuekluZGV4ID0gU3RyaW5nKHBhbmVsRGVmYXVsdFpbc2lkZV0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBwYW5lbC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnei1pbmRleCcpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgYXBwbHlQYW5lbENsYXNzZXMgPSAocGFuZWwsIGNsYXNzZXMsIG1ldGhvZCkgPT4ge1xuICAgIGlmICghcGFuZWwgfHwgIWNsYXNzZXMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY2xhc3Nlc1xuICAgICAgLnNwbGl0KCcgJylcbiAgICAgIC5tYXAoKGNscykgPT4gY2xzLnRyaW0oKSlcbiAgICAgIC5maWx0ZXIoQm9vbGVhbilcbiAgICAgIC5mb3JFYWNoKChjbHMpID0+IHBhbmVsLmNsYXNzTGlzdFttZXRob2RdKGNscykpO1xuICB9O1xuICBjb25zdCBzZXRQYW5lbEhpZGRlblN0YXRlID0gKHBhbmVsLCBoaWRkZW4pID0+IHtcbiAgICBpZiAoIXBhbmVsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGhpZGRlbkNsYXNzZXMgPSBwYW5lbC5kYXRhc2V0Lm1vYmlsZVBhbmVsSGlkZGVuIHx8ICcnO1xuICAgIGNvbnN0IHZpc2libGVDbGFzc2VzID0gcGFuZWwuZGF0YXNldC5tb2JpbGVQYW5lbFZpc2libGUgfHwgJ3RyYW5zbGF0ZS14LTAnO1xuICAgIGlmIChoaWRkZW4pIHtcbiAgICAgIGFwcGx5UGFuZWxDbGFzc2VzKHBhbmVsLCB2aXNpYmxlQ2xhc3NlcywgJ3JlbW92ZScpO1xuICAgICAgYXBwbHlQYW5lbENsYXNzZXMocGFuZWwsIGhpZGRlbkNsYXNzZXMsICdhZGQnKTtcbiAgICAgIHBhbmVsLmNsYXNzTGlzdC5hZGQoJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICAgIHBhbmVsLmNsYXNzTGlzdC5yZW1vdmUoJ3BvaW50ZXItZXZlbnRzLWF1dG8nKTtcbiAgICAgIHBhbmVsLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuICAgICAgcGFuZWwuZGF0YXNldC5tb2JpbGVQYW5lbE9wZW4gPSAnZmFsc2UnO1xuICAgIH0gZWxzZSB7XG4gICAgICBhcHBseVBhbmVsQ2xhc3NlcyhwYW5lbCwgaGlkZGVuQ2xhc3NlcywgJ3JlbW92ZScpO1xuICAgICAgYXBwbHlQYW5lbENsYXNzZXMocGFuZWwsIHZpc2libGVDbGFzc2VzLCAnYWRkJyk7XG4gICAgICBwYW5lbC5jbGFzc0xpc3QucmVtb3ZlKCdwb2ludGVyLWV2ZW50cy1ub25lJyk7XG4gICAgICBwYW5lbC5jbGFzc0xpc3QuYWRkKCdwb2ludGVyLWV2ZW50cy1hdXRvJyk7XG4gICAgICBwYW5lbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ2ZhbHNlJyk7XG4gICAgICBwYW5lbC5kYXRhc2V0Lm1vYmlsZVBhbmVsT3BlbiA9ICd0cnVlJztcbiAgICB9XG4gIH07XG4gIGNvbnN0IGNsb3NlTW9iaWxlUGFuZWwgPSAoc2lkZSA9IGFjdGl2ZU1vYmlsZVBhbmVsKSA9PiB7XG4gICAgaWYgKCFzaWRlIHx8IGlzRGVza3RvcFZpZXdwb3J0KCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcGFuZWwgPSBtb2JpbGVQYW5lbHNbc2lkZV07XG4gICAgaWYgKCFwYW5lbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzZXRQYW5lbFpTdGF0ZShzaWRlLCBmYWxzZSk7XG4gICAgc2V0UGFuZWxIaWRkZW5TdGF0ZShwYW5lbCwgdHJ1ZSk7XG4gICAgY29uc3QgdHJpZ2dlciA9IG1vYmlsZVBhbmVsVHJpZ2dlcnNbc2lkZV07XG4gICAgaWYgKHRyaWdnZXIpIHtcbiAgICAgIHRyaWdnZXIuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJyk7XG4gICAgfVxuICAgIG1vYmlsZVBhbmVsVHJpZ2dlcnNbc2lkZV0gPSBudWxsO1xuICAgIGlmIChhY3RpdmVNb2JpbGVQYW5lbCA9PT0gc2lkZSkge1xuICAgICAgbW9iaWxlUGFuZWxPdmVybGF5Py5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIG1vYmlsZVBhbmVsT3ZlcmxheT8uY2xhc3NMaXN0LnJlbW92ZSgncG9pbnRlci1ldmVudHMtYXV0bycpO1xuICAgICAgbW9iaWxlUGFuZWxPdmVybGF5Py5jbGFzc0xpc3QuYWRkKCdwb2ludGVyLWV2ZW50cy1ub25lJyk7XG4gICAgICBtb2JpbGVQYW5lbE92ZXJsYXk/LnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuICAgICAgbW9iaWxlUGFuZWxMYXllcj8uY2xhc3NMaXN0LmFkZCgncG9pbnRlci1ldmVudHMtbm9uZScpO1xuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICAgIHRyaWdnZXI/LmZvY3VzPy4oKTtcbiAgICAgIGFjdGl2ZU1vYmlsZVBhbmVsID0gbnVsbDtcbiAgICB9XG4gIH07XG4gIGNvbnN0IG9wZW5Nb2JpbGVQYW5lbCA9IChzaWRlLCB0cmlnZ2VyKSA9PiB7XG4gICAgaWYgKCFzaWRlIHx8IGlzRGVza3RvcFZpZXdwb3J0KCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcGFuZWwgPSBtb2JpbGVQYW5lbHNbc2lkZV07XG4gICAgaWYgKCFwYW5lbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoYWN0aXZlTW9iaWxlUGFuZWwgJiYgYWN0aXZlTW9iaWxlUGFuZWwgIT09IHNpZGUpIHtcbiAgICAgIGNsb3NlTW9iaWxlUGFuZWwoYWN0aXZlTW9iaWxlUGFuZWwpO1xuICAgIH1cbiAgICBzZXRQYW5lbEhpZGRlblN0YXRlKHBhbmVsLCBmYWxzZSk7XG4gICAgc2V0UGFuZWxaU3RhdGUoc2lkZSwgdHJ1ZSk7XG4gICAgYWN0aXZlTW9iaWxlUGFuZWwgPSBzaWRlO1xuICAgIG1vYmlsZVBhbmVsVHJpZ2dlcnNbc2lkZV0gPSB0cmlnZ2VyIHx8IG51bGw7XG4gICAgaWYgKHRyaWdnZXIpIHtcbiAgICAgIHRyaWdnZXIuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ3RydWUnKTtcbiAgICB9XG4gICAgbW9iaWxlUGFuZWxPdmVybGF5Py5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nLCAncG9pbnRlci1ldmVudHMtbm9uZScpO1xuICAgIG1vYmlsZVBhbmVsT3ZlcmxheT8uY2xhc3NMaXN0LmFkZCgncG9pbnRlci1ldmVudHMtYXV0bycpO1xuICAgIG1vYmlsZVBhbmVsT3ZlcmxheT8uc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICdmYWxzZScpO1xuICAgIG1vYmlsZVBhbmVsTGF5ZXI/LmNsYXNzTGlzdC5yZW1vdmUoJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ292ZXJmbG93LWhpZGRlbicpO1xuICAgIGNvbnN0IGZvY3VzVGFyZ2V0ID0gcGFuZWwucXVlcnlTZWxlY3Rvcihmb2N1c2FibGVTZWxlY3Rvcik7XG4gICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgZm9jdXNUYXJnZXQ/LmZvY3VzPy4oKTtcbiAgICB9LCAwKTtcbiAgfTtcbiAgY29uc3Qgc3luY01vYmlsZVBhbmVsc1dpdGhWaWV3cG9ydCA9ICgpID0+IHtcbiAgICBlbnN1cmVNb2JpbGVQYW5lbFBsYWNlbWVudCgpO1xuICAgIGlmIChpc0Rlc2t0b3BWaWV3cG9ydCgpKSB7XG4gICAgICBtb2JpbGVQYW5lbE92ZXJsYXk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgbW9iaWxlUGFuZWxMYXllcj8uY2xhc3NMaXN0LmFkZCgncG9pbnRlci1ldmVudHMtbm9uZScpO1xuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICAgIGFjdGl2ZU1vYmlsZVBhbmVsID0gbnVsbDtcbiAgICAgIE9iamVjdC5rZXlzKG1vYmlsZVBhbmVscykuZm9yRWFjaCgoc2lkZSkgPT4ge1xuICAgICAgICBjb25zdCBwYW5lbCA9IG1vYmlsZVBhbmVsc1tzaWRlXTtcbiAgICAgICAgaWYgKCFwYW5lbCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzZXRQYW5lbFpTdGF0ZShzaWRlLCBmYWxzZSk7XG4gICAgICAgIHBhbmVsLmNsYXNzTGlzdC5yZW1vdmUoJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICAgICAgcGFuZWwuY2xhc3NMaXN0LmFkZCgncG9pbnRlci1ldmVudHMtYXV0bycpO1xuICAgICAgICBwYW5lbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ2ZhbHNlJyk7XG4gICAgICAgIHBhbmVsLmRhdGFzZXQubW9iaWxlUGFuZWxPcGVuID0gJ2ZhbHNlJztcbiAgICAgICAgY29uc3QgdHJpZ2dlciA9IG1vYmlsZVBhbmVsVHJpZ2dlcnNbc2lkZV07XG4gICAgICAgIHRyaWdnZXI/LnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsICdmYWxzZScpO1xuICAgICAgICBtb2JpbGVQYW5lbFRyaWdnZXJzW3NpZGVdID0gbnVsbDtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBPYmplY3QuZW50cmllcyhtb2JpbGVQYW5lbHMpLmZvckVhY2goKFtzaWRlLCBwYW5lbF0pID0+IHtcbiAgICAgICAgaWYgKCFwYW5lbCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFuZWwuZGF0YXNldC5tb2JpbGVQYW5lbE9wZW4gIT09ICd0cnVlJykge1xuICAgICAgICAgIHNldFBhbmVsSGlkZGVuU3RhdGUocGFuZWwsIHRydWUpO1xuICAgICAgICAgIHNldFBhbmVsWlN0YXRlKHNpZGUsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoIWFjdGl2ZU1vYmlsZVBhbmVsKSB7XG4gICAgICAgIG1vYmlsZVBhbmVsT3ZlcmxheT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJywgJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICAgICAgbW9iaWxlUGFuZWxPdmVybGF5Py5jbGFzc0xpc3QucmVtb3ZlKCdwb2ludGVyLWV2ZW50cy1hdXRvJyk7XG4gICAgICAgIG1vYmlsZVBhbmVsT3ZlcmxheT8uc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJyk7XG4gICAgICAgIG1vYmlsZVBhbmVsTGF5ZXI/LmNsYXNzTGlzdC5hZGQoJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIGlmIChtb2JpbGVQYW5lbFRvZ2dsZXMubGVuZ3RoID4gMCkge1xuICAgIG1vYmlsZVBhbmVsVG9nZ2xlcy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICAgIGNvbnN0IHNpZGUgPSBidXR0b24uZGF0YXNldC5tb2JpbGVQYW5lbFRvZ2dsZTtcbiAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgaWYgKGFjdGl2ZU1vYmlsZVBhbmVsID09PSBzaWRlKSB7XG4gICAgICAgICAgY2xvc2VNb2JpbGVQYW5lbChzaWRlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvcGVuTW9iaWxlUGFuZWwoc2lkZSwgYnV0dG9uKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgbW9iaWxlUGFuZWxDbG9zZUJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICBjb25zdCBzaWRlID0gYnV0dG9uLmRhdGFzZXQubW9iaWxlUGFuZWxDbG9zZTtcbiAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGNsb3NlTW9iaWxlUGFuZWwoc2lkZSkpO1xuICAgIH0pO1xuICAgIG1vYmlsZVBhbmVsT3ZlcmxheT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBjbG9zZU1vYmlsZVBhbmVsKCkpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQua2V5ID09PSAnRXNjYXBlJyAmJiBhY3RpdmVNb2JpbGVQYW5lbCAmJiAhaXNEZXNrdG9wVmlld3BvcnQoKSkge1xuICAgICAgICBjbG9zZU1vYmlsZVBhbmVsKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHN5bmNNb2JpbGVQYW5lbHNXaXRoVmlld3BvcnQpO1xuICAgIHN5bmNNb2JpbGVQYW5lbHNXaXRoVmlld3BvcnQoKTtcbiAgfVxuXG4gIGNvbnN0IHNob3dUb2FzdCA9IChtZXNzYWdlKSA9PiB7XG4gICAgaWYgKCFzaXRlVG9hc3QgfHwgIXNpdGVUb2FzdE1lc3NhZ2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2l0ZVRvYXN0TWVzc2FnZS50ZXh0Q29udGVudCA9IG1lc3NhZ2U7XG4gICAgc2l0ZVRvYXN0LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgIGlmICh0b2FzdFRpbWVvdXRJZCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRvYXN0VGltZW91dElkKTtcbiAgICB9XG4gICAgdG9hc3RUaW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHNpdGVUb2FzdC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICB9LCAyNTAwKTtcbiAgfTtcblxuICBmdW5jdGlvbiBlbnN1cmVMZWFkaW5nU2xhc2goc2x1Zykge1xuICAgIGlmICghc2x1Zykge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICBjb25zdCB0cmltbWVkID0gYCR7c2x1Z31gLnRyaW0oKTtcbiAgICBpZiAoIXRyaW1tZWQpIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgY29uc3Qgd2l0aG91dExlYWRpbmcgPSB0cmltbWVkLnJlcGxhY2UoL15cXC8rLywgJycpO1xuICAgIGlmICghd2l0aG91dExlYWRpbmcpIHtcbiAgICAgIHJldHVybiAnLyc7XG4gICAgfVxuICAgIHJldHVybiBgLyR7d2l0aG91dExlYWRpbmd9YDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHN0cmlwTGVhZGluZ1NsYXNoKHNsdWcpIHtcbiAgICBpZiAoIXNsdWcpIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgcmV0dXJuIGAke3NsdWd9YC5yZXBsYWNlKC9eXFwvKy8sICcnKTtcbiAgfVxuXG4gIGNvbnN0IHBlcnNpc3RTaXRlU3RhdGUgPSAoc2x1ZywgbmFtZSkgPT4ge1xuICAgIGNvbnN0IG5vcm1hbGl6ZWRTbHVnID0gc2x1ZyA/IGVuc3VyZUxlYWRpbmdTbGFzaChzbHVnKSA6IG51bGw7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChub3JtYWxpemVkU2x1Zykge1xuICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oQUNUSVZFX1NJVEVfS0VZLCBub3JtYWxpemVkU2x1Zyk7XG4gICAgICAgIHN0b3JlZFNpdGUuc2x1ZyA9IG5vcm1hbGl6ZWRTbHVnO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBuYW1lID09PSAnc3RyaW5nJyAmJiBuYW1lLmxlbmd0aCA+IDApIHtcbiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKEFDVElWRV9TSVRFX05BTUVfS0VZLCBuYW1lKTtcbiAgICAgICAgc3RvcmVkU2l0ZS5uYW1lID0gbmFtZTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIHtcbiAgICAgIHN0b3JlZFNpdGUuc2x1ZyA9IG5vcm1hbGl6ZWRTbHVnIHx8IHN0b3JlZFNpdGUuc2x1ZztcbiAgICAgIHN0b3JlZFNpdGUubmFtZSA9IG5hbWUgfHwgc3RvcmVkU2l0ZS5uYW1lO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCB1cGRhdGVTaXRlTGFiZWxzID0gKG5hbWUpID0+IHtcbiAgICBpZiAoc2l0ZU5hbWVMYWJlbCAmJiBuYW1lKSB7XG4gICAgICBzaXRlTmFtZUxhYmVsLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICB9XG4gICAgaWYgKHdvcmtzcGFjZVNpdGVMYWJlbCAmJiBuYW1lKSB7XG4gICAgICB3b3Jrc3BhY2VTaXRlTGFiZWwudGV4dENvbnRlbnQgPSBuYW1lO1xuICAgIH1cbiAgICBpZiAod29ya3NwYWNlQmFja05hbWUgJiYgbmFtZSkge1xuICAgICAgd29ya3NwYWNlQmFja05hbWUudGV4dENvbnRlbnQgPSBuYW1lO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCB1cGRhdGVXb3Jrc3BhY2VOYXZMaW5rcyA9IChzbHVnKSA9PiB7XG4gICAgd29ya3NwYWNlTmF2TGlua3MuZm9yRWFjaCgobGluaykgPT4ge1xuICAgICAgY29uc3QgdGFiID0gbGluay5kYXRhc2V0LndvcmtzcGFjZVRhYjtcbiAgICAgIGlmICghdGFiKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghc2x1Zykge1xuICAgICAgICBsaW5rLmhyZWYgPSAnIyc7XG4gICAgICAgIGxpbmsuY2xhc3NMaXN0LmFkZCgncG9pbnRlci1ldmVudHMtbm9uZScsICdvcGFjaXR5LTUwJywgJ3RleHQtc2xhdGUtNDAwJyk7XG4gICAgICAgIGxpbmsuc2V0QXR0cmlidXRlKCdhcmlhLWRpc2FibGVkJywgJ3RydWUnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3Qgc2x1Z1BhdGggPSBlbmNvZGVVUklDb21wb25lbnQoc3RyaXBMZWFkaW5nU2xhc2goc2x1ZykpO1xuICAgICAgbGluay5ocmVmID0gYC9hZG1pbi9zaXRlLyR7c2x1Z1BhdGh9LyR7dGFifWA7XG4gICAgICBsaW5rLmNsYXNzTGlzdC5yZW1vdmUoJ3BvaW50ZXItZXZlbnRzLW5vbmUnLCAnb3BhY2l0eS01MCcsICd0ZXh0LXNsYXRlLTQwMCcpO1xuICAgICAgbGluay5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtZGlzYWJsZWQnKTtcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBhcHBseUFjdGl2ZVNpdGUgPSAoc2x1Zywgb3B0aW9ucyA9IHt9KSA9PiB7XG4gICAgaWYgKCFzbHVnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG5vcm1hbGl6ZWRTbHVnID0gZW5zdXJlTGVhZGluZ1NsYXNoKHNsdWcpO1xuICAgIGxldCBhY3RpdmVTaXRlTmFtZSA9XG4gICAgICBvcHRpb25zLnNpdGVOYW1lIHx8IHN0b3JlZFNpdGUubmFtZSB8fCBzaXRlTmFtZUxhYmVsPy5kYXRhc2V0LmRlZmF1bHRTaXRlTmFtZSB8fCAnJztcbiAgICBzaXRlQ2FyZHMuZm9yRWFjaCgoY2FyZCkgPT4ge1xuICAgICAgY29uc3QgY2FyZFNsdWcgPSBlbnN1cmVMZWFkaW5nU2xhc2goY2FyZC5kYXRhc2V0LnNpdGVDYXJkIHx8ICcnKTtcbiAgICAgIGNvbnN0IGlzQWN0aXZlID0gY2FyZFNsdWcgPT09IG5vcm1hbGl6ZWRTbHVnO1xuICAgICAgY29uc3QgYmFkZ2UgPSBjYXJkLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtYWN0aXZlLWJhZGdlXScpO1xuICAgICAgaWYgKGlzQWN0aXZlKSB7XG4gICAgICAgIGNhcmQuY2xhc3NMaXN0LmFkZCgnYm9yZGVyLVsjOUM2QkZGXScsICdyaW5nLTInLCAncmluZy1bIzlDNkJGRl0nLCAnc2hhZG93LW1kJyk7XG4gICAgICAgIGNhcmQuY2xhc3NMaXN0LnJlbW92ZSgnYm9yZGVyLXNsYXRlLTIwMCcpO1xuICAgICAgICBiYWRnZT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIGFjdGl2ZVNpdGVOYW1lID0gY2FyZC5kYXRhc2V0LnNpdGVOYW1lIHx8IGFjdGl2ZVNpdGVOYW1lO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FyZC5jbGFzc0xpc3QucmVtb3ZlKCdib3JkZXItWyM5QzZCRkZdJywgJ3JpbmctMicsICdyaW5nLVsjOUM2QkZGXScsICdzaGFkb3ctbWQnKTtcbiAgICAgICAgY2FyZC5jbGFzc0xpc3QuYWRkKCdib3JkZXItc2xhdGUtMjAwJyk7XG4gICAgICAgIGJhZGdlPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAob3B0aW9ucy5wZXJzaXN0ICE9PSBmYWxzZSkge1xuICAgICAgcGVyc2lzdFNpdGVTdGF0ZShub3JtYWxpemVkU2x1Zywgb3B0aW9ucy5zaXRlTmFtZSB8fCBhY3RpdmVTaXRlTmFtZSk7XG4gICAgfVxuICAgIGNvbnN0IGZpbmFsTmFtZSA9IG9wdGlvbnMuc2l0ZU5hbWUgfHwgYWN0aXZlU2l0ZU5hbWU7XG4gICAgdXBkYXRlU2l0ZUxhYmVscyhmaW5hbE5hbWUpO1xuICAgIHVwZGF0ZVdvcmtzcGFjZU5hdkxpbmtzKG5vcm1hbGl6ZWRTbHVnKTtcbiAgfTtcblxuICBjb25zdCBzZWxlY3RTaXRlID0gYXN5bmMgKHNsdWcsIG5hbWUpID0+IHtcbiAgICBjb25zdCBub3JtYWxpemVkU2x1ZyA9IGVuc3VyZUxlYWRpbmdTbGFzaChzbHVnKTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9zaXRlcy9zZWxlY3QnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBzbHVnOiBub3JtYWxpemVkU2x1ZyB9KSxcbiAgICAgIH0pO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICBzaG93VG9hc3QocGF5bG9hZC5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIHNcdTAwRTlsZWN0aW9ubmVyIGNlIHNpdGUuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICBjb25zdCBmaW5hbFNsdWcgPSBlbnN1cmVMZWFkaW5nU2xhc2gocGF5bG9hZC5zbHVnIHx8IG5vcm1hbGl6ZWRTbHVnKTtcbiAgICAgIGNvbnN0IGZpbmFsTmFtZSA9IHBheWxvYWQubmFtZSB8fCBuYW1lO1xuICAgICAgcGVyc2lzdFNpdGVTdGF0ZShmaW5hbFNsdWcsIGZpbmFsTmFtZSk7XG4gICAgICBhcHBseUFjdGl2ZVNpdGUoZmluYWxTbHVnLCB7IHNpdGVOYW1lOiBmaW5hbE5hbWUsIHBlcnNpc3Q6IGZhbHNlIH0pO1xuICAgICAgY29uc3Qgc2x1Z1BhdGggPSBlbmNvZGVVUklDb21wb25lbnQoc3RyaXBMZWFkaW5nU2xhc2goZmluYWxTbHVnKSk7XG4gICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGAvYWRtaW4vc2l0ZS8ke3NsdWdQYXRofS9kZXNpZ25gO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignW2FkbWluXSBJbXBvc3NpYmxlIGRlIHNcdTAwRTlsZWN0aW9ubmVyIGxlIHNpdGUnLCBlcnIpO1xuICAgICAgc2hvd1RvYXN0KCdFcnJldXIgaW5hdHRlbmR1ZSBsb3JzIGRlIGxhIHNcdTAwRTlsZWN0aW9uLicpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBzeW5jQWN0aXZlU2l0ZUZyb21TZXJ2ZXIgPSBhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvc2l0ZXMvY3VycmVudCcsIHsgY3JlZGVudGlhbHM6ICdzYW1lLW9yaWdpbicgfSk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwNCAmJiB3b3Jrc3BhY2VDb250ZXh0KSB7XG4gICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnL2FkbWluL3NpdGVzJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBzaXRlID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgY29uc3Qgbm9ybWFsaXplZFNsdWcgPSBlbnN1cmVMZWFkaW5nU2xhc2goc2l0ZS5zbHVnKTtcbiAgICAgIHBlcnNpc3RTaXRlU3RhdGUobm9ybWFsaXplZFNsdWcsIHNpdGUubmFtZSk7XG4gICAgICBhcHBseUFjdGl2ZVNpdGUobm9ybWFsaXplZFNsdWcsIHsgc2l0ZU5hbWU6IHNpdGUubmFtZSwgcGVyc2lzdDogZmFsc2UgfSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ1thZG1pbl0gSW1wb3NzaWJsZSBkZSByXHUwMEU5Y3VwXHUwMEU5cmVyIGxlIHNpdGUgYWN0aWYnLCBlcnIpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoaWdobGlnaHRGcm9tU3RvcmFnZU9yRGVmYXVsdCA9ICgpID0+IHtcbiAgICBpZiAoc3RvcmVkU2l0ZS5zbHVnKSB7XG4gICAgICBhcHBseUFjdGl2ZVNpdGUoc3RvcmVkU2l0ZS5zbHVnLCB7IHNpdGVOYW1lOiBzdG9yZWRTaXRlLm5hbWUsIHBlcnNpc3Q6IGZhbHNlIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBkZWZhdWx0Q2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtY2FyZF1bZGF0YS1zaXRlLWRlZmF1bHQ9XCJ0cnVlXCJdJykgfHwgc2l0ZUNhcmRzWzBdO1xuICAgIGlmIChkZWZhdWx0Q2FyZCkge1xuICAgICAgYXBwbHlBY3RpdmVTaXRlKGRlZmF1bHRDYXJkLmRhdGFzZXQuc2l0ZUNhcmQsIHtcbiAgICAgICAgc2l0ZU5hbWU6IGRlZmF1bHRDYXJkLmRhdGFzZXQuc2l0ZU5hbWUgfHwgJycsXG4gICAgICAgIHBlcnNpc3Q6IGZhbHNlLFxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIGhpZ2hsaWdodEZyb21TdG9yYWdlT3JEZWZhdWx0KCk7XG4gIHN5bmNBY3RpdmVTaXRlRnJvbVNlcnZlcigpO1xuICBpZiAod29ya3NwYWNlQ29udGV4dCkge1xuICAgIHVwZGF0ZVdvcmtzcGFjZU5hdkxpbmtzKHdvcmtzcGFjZUNvbnRleHQuc2x1Z1ZhbHVlKTtcbiAgfSBlbHNlIGlmIChzdG9yZWRTaXRlLnNsdWcpIHtcbiAgICB1cGRhdGVXb3Jrc3BhY2VOYXZMaW5rcyhzdG9yZWRTaXRlLnNsdWcpO1xuICB9XG5cbiAgc2l0ZVNlbGVjdEJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgaWYgKGJ1dHRvbi5kaXNhYmxlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBzbHVnID0gYnV0dG9uLmRhdGFzZXQuc2l0ZVNlbGVjdDtcbiAgICAgIGNvbnN0IG5hbWUgPSBidXR0b24uZGF0YXNldC5zaXRlU2VsZWN0TmFtZSB8fCAnQ2Ugc2l0ZSc7XG4gICAgICBpZiAoIXNsdWcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIHNlbGVjdFNpdGUoc2x1ZywgbmFtZSkuZmluYWxseSgoKSA9PiB7XG4gICAgICAgIGJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGNvbnN0IHdvcmtzcGFjZVNsdWdpZnkgPSAodmFsdWUpID0+XG4gICAgKHZhbHVlIHx8ICcnKVxuICAgICAgLm5vcm1hbGl6ZSgnTkZEJylcbiAgICAgIC5yZXBsYWNlKC9bXFx1MDMwMC1cXHUwMzZmXS9nLCAnJylcbiAgICAgIC50b0xvd2VyQ2FzZSgpXG4gICAgICAucmVwbGFjZSgvW15hLXowLTldKy9nLCAnLScpXG4gICAgICAucmVwbGFjZSgvXi0rfC0rJC9nLCAnJyk7XG5cbiAgY29uc3Qgbm9ybWFsaXplU2x1Z1ZhbHVlID0gKHZhbHVlKSA9PiB7XG4gICAgY29uc3QgYmFzZSA9IHdvcmtzcGFjZVNsdWdpZnkodmFsdWUgfHwgJycpO1xuICAgIGlmICghYmFzZSkge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICByZXR1cm4gYC8ke2Jhc2V9YDtcbiAgfTtcblxuICBjb25zdCBvcGVuU2l0ZU1vZGFsID0gKCkgPT4ge1xuICAgIGlmICghc2l0ZU1vZGFsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHNpdGVNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICBzaXRlTW9kYWwuY2xhc3NMaXN0LmFkZCgnZmxleCcpO1xuICAgIHNsdWdNYW51YWxseUVkaXRlZCA9IGZhbHNlO1xuICAgIHNpdGVGb3JtPy5yZXNldCgpO1xuICAgIHNpdGVTbHVnRXJyb3IgJiYgKHNpdGVTbHVnRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgc2l0ZU1vZGFsRXJyb3IgJiYgKHNpdGVNb2RhbEVycm9yLnRleHRDb250ZW50ID0gJycpO1xuICAgIGlmIChzaXRlU2x1Z0lucHV0ICYmIHNpdGVOYW1lSW5wdXQpIHtcbiAgICAgIHNpdGVTbHVnSW5wdXQudmFsdWUgPSB3b3Jrc3BhY2VTbHVnaWZ5KHNpdGVOYW1lSW5wdXQudmFsdWUpO1xuICAgIH1cbiAgICBhY3RpdmF0ZU1vZGFsKHNpdGVNb2RhbCwgY2xvc2VTaXRlTW9kYWwpO1xuICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHNpdGVOYW1lSW5wdXQ/LmZvY3VzKCk7XG4gICAgfSwgMCk7XG4gIH07XG5cbiAgY29uc3QgY2xvc2VTaXRlTW9kYWwgPSAoKSA9PiB7XG4gICAgaWYgKCFzaXRlTW9kYWwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2l0ZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgIHNpdGVNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdmbGV4Jyk7XG4gICAgc2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gICAgc2l0ZUZvcm0/LnJlc2V0KCk7XG4gICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICBzaXRlTW9kYWxFcnJvciAmJiAoc2l0ZU1vZGFsRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgZGVhY3RpdmF0ZU1vZGFsKHNpdGVNb2RhbCk7XG4gIH07XG5cbiAgc2l0ZUNyZWF0ZUJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlblNpdGVNb2RhbCk7XG4gIH0pO1xuXG4gIHNpdGVNb2RhbENhbmNlbEJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VTaXRlTW9kYWwpO1xuICB9KTtcblxuICBzaXRlTW9kYWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gc2l0ZU1vZGFsKSB7XG4gICAgICBjbG9zZVNpdGVNb2RhbCgpO1xuICAgIH1cbiAgfSk7XG5cbiAgc2l0ZU5hbWVJbnB1dD8uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgaWYgKCFzaXRlU2x1Z0lucHV0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghc2x1Z01hbnVhbGx5RWRpdGVkIHx8IHNpdGVTbHVnSW5wdXQudmFsdWUudHJpbSgpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgc2l0ZVNsdWdJbnB1dC52YWx1ZSA9IHdvcmtzcGFjZVNsdWdpZnkoc2l0ZU5hbWVJbnB1dC52YWx1ZSk7XG4gICAgfVxuICAgIC8vIENsZWFyIGVycm9ycyB3aGVuIHVzZXIgdHlwZXNcbiAgICBzaXRlU2x1Z0Vycm9yICYmIChzaXRlU2x1Z0Vycm9yLnRleHRDb250ZW50ID0gJycpO1xuICAgIHNpdGVNb2RhbEVycm9yICYmIChzaXRlTW9kYWxFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgfSk7XG5cbiAgc2l0ZVNsdWdJbnB1dD8uYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCAoKSA9PiB7XG4gICAgLy8gQXV0by1maWxsIHNsdWcgZnJvbSBuYW1lIGlmIGVtcHR5IHdoZW4gdXNlciBmb2N1c2VzIHRoZSBzbHVnIGZpZWxkXG4gICAgY29uc3Qgc2x1Z1ZhbCA9IHNpdGVTbHVnSW5wdXQ/LnZhbHVlIHx8ICcnO1xuICAgIGNvbnN0IG5hbWVWYWwgPSBzaXRlTmFtZUlucHV0Py52YWx1ZSB8fCAnJztcbiAgICBpZiAoIXNsdWdWYWwudHJpbSgpICYmIG5hbWVWYWwudHJpbSgpKSB7XG4gICAgICBzaXRlU2x1Z0lucHV0LnZhbHVlID0gd29ya3NwYWNlU2x1Z2lmeShuYW1lVmFsKTtcbiAgICB9XG4gIH0pO1xuXG4gIHNpdGVTbHVnSW5wdXQ/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgIHNsdWdNYW51YWxseUVkaXRlZCA9IHRydWU7XG4gICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICBzaXRlTW9kYWxFcnJvciAmJiAoc2l0ZU1vZGFsRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gIH0pO1xuXG4gIGNvbnN0IGdldFNsdWdTZXQgPSAoKSA9PlxuICAgIG5ldyBTZXQoQXJyYXkuZnJvbShzaXRlQ2FyZHMpLm1hcCgoY2FyZCkgPT4gZW5zdXJlTGVhZGluZ1NsYXNoKGNhcmQuZGF0YXNldC5zaXRlQ2FyZCB8fCAnJykpKTtcblxuICBzaXRlRm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zb2xlLmxvZygnW2FkbWluXSBGb3JtIHN1Ym1pdCAtIHNpdGVOYW1lSW5wdXQ6Jywgc2l0ZU5hbWVJbnB1dCwgJ3NpdGVTbHVnSW5wdXQ6Jywgc2l0ZVNsdWdJbnB1dCk7XG4gICAgXG4gICAgaWYgKCFzaXRlTmFtZUlucHV0IHx8ICFzaXRlU2x1Z0lucHV0KSB7XG4gICAgICBjb25zb2xlLmxvZygnW2FkbWluXSBNaXNzaW5nIGlucHV0cywgYWJvcnRpbmcnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgbmFtZVZhbHVlID0gKHNpdGVOYW1lSW5wdXQudmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICBsZXQgc2x1Z1ZhbHVlID0gKHNpdGVTbHVnSW5wdXQudmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICBcbiAgICBjb25zb2xlLmxvZygnW2FkbWluXSBuYW1lVmFsdWU6JywgbmFtZVZhbHVlLCAnc2x1Z1ZhbHVlOicsIHNsdWdWYWx1ZSk7XG4gICAgXG4gICAgLy8gQXV0by1nZW5lcmF0ZSBzbHVnIGZyb20gbmFtZSBpZiBlbXB0eVxuICAgIGlmICghc2x1Z1ZhbHVlICYmIG5hbWVWYWx1ZSkge1xuICAgICAgc2x1Z1ZhbHVlID0gd29ya3NwYWNlU2x1Z2lmeShuYW1lVmFsdWUpO1xuICAgICAgc2l0ZVNsdWdJbnB1dC52YWx1ZSA9IHNsdWdWYWx1ZTtcbiAgICAgIGNvbnNvbGUubG9nKCdbYWRtaW5dIEF1dG8tZ2VuZXJhdGVkIHNsdWc6Jywgc2x1Z1ZhbHVlKTtcbiAgICB9XG4gICAgXG4gICAgY29uc3Qgbm9ybWFsaXplZFNsdWcgPSBub3JtYWxpemVTbHVnVmFsdWUoc2x1Z1ZhbHVlKTtcbiAgICBjb25zb2xlLmxvZygnW2FkbWluXSBub3JtYWxpemVkU2x1ZzonLCBub3JtYWxpemVkU2x1Zyk7XG4gICAgXG4gICAgLy8gVmFsaWRhdGUgbmFtZVxuICAgIGlmICghbmFtZVZhbHVlKSB7XG4gICAgICBjb25zb2xlLmxvZygnW2FkbWluXSBOYW1lIHZhbGlkYXRpb24gZmFpbGVkJyk7XG4gICAgICBzaXRlTW9kYWxFcnJvciAmJiAoc2l0ZU1vZGFsRXJyb3IudGV4dENvbnRlbnQgPSAnTGUgbm9tIGR1IHNpdGUgZXN0IHJlcXVpcy4nKTtcbiAgICAgIHNpdGVOYW1lSW5wdXQuZm9jdXMoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgLy8gVmFsaWRhdGUgc2x1Z1xuICAgIGlmICghbm9ybWFsaXplZFNsdWcpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdbYWRtaW5dIFNsdWcgdmFsaWRhdGlvbiBmYWlsZWQnKTtcbiAgICAgIHNpdGVTbHVnRXJyb3IgJiYgKHNpdGVTbHVnRXJyb3IudGV4dENvbnRlbnQgPSAnTGUgc2x1ZyBuZSBwZXV0IHBhcyBcdTAwRUF0cmUgdmlkZSBvdSBjb250ZW5pciB1bmlxdWVtZW50IGRlcyBjYXJhY3RcdTAwRThyZXMgc3BcdTAwRTljaWF1eC4nKTtcbiAgICAgIHNpdGVTbHVnSW5wdXQuZm9jdXMoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgZXhpc3RpbmdTbHVncyA9IGdldFNsdWdTZXQoKTtcbiAgICBpZiAoZXhpc3RpbmdTbHVncy5oYXMobm9ybWFsaXplZFNsdWcpKSB7XG4gICAgICBzaXRlU2x1Z0Vycm9yICYmIChzaXRlU2x1Z0Vycm9yLnRleHRDb250ZW50ID0gJ0NlIHNsdWcgZXN0IGRcdTAwRTlqXHUwMEUwIHV0aWxpc1x1MDBFOS4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICBzaXRlTW9kYWxFcnJvciAmJiAoc2l0ZU1vZGFsRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgaWYgKHNpdGVNb2RhbFN1Ym1pdEJ1dHRvbikge1xuICAgICAgc2l0ZU1vZGFsU3VibWl0QnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIHNpdGVNb2RhbFN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9ICdDclx1MDBFOWF0aW9uLi4uJztcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvc2l0ZXMnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBuYW1lOiBuYW1lVmFsdWUsIHNsdWc6IG5vcm1hbGl6ZWRTbHVnIH0pLFxuICAgICAgfSk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBwYXlsb2FkLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgY3JcdTAwRTllciBjZSBzaXRlLic7XG4gICAgICAgIHNpdGVNb2RhbEVycm9yICYmIChzaXRlTW9kYWxFcnJvci50ZXh0Q29udGVudCA9IG1lc3NhZ2UpO1xuICAgICAgICBpZiAocGF5bG9hZC5maWVsZCA9PT0gJ3NsdWcnKSB7XG4gICAgICAgICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9IG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNyZWF0ZWRTaXRlID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgY29uc3QgZmluYWxTbHVnID0gZW5zdXJlTGVhZGluZ1NsYXNoKGNyZWF0ZWRTaXRlPy5zbHVnIHx8IG5vcm1hbGl6ZWRTbHVnKTtcbiAgICAgIGNvbnN0IGZpbmFsTmFtZSA9IGNyZWF0ZWRTaXRlPy5uYW1lIHx8IG5hbWVWYWx1ZTtcbiAgICAgIHBlcnNpc3RTaXRlU3RhdGUoZmluYWxTbHVnLCBmaW5hbE5hbWUpO1xuICAgICAgY2xvc2VTaXRlTW9kYWwoKTtcbiAgICAgIGNvbnN0IHNsdWdQYXRoID0gZW5jb2RlVVJJQ29tcG9uZW50KHN0cmlwTGVhZGluZ1NsYXNoKGZpbmFsU2x1ZykpO1xuICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBgL2FkbWluL3NpdGUvJHtzbHVnUGF0aH0vZGVzaWduYDtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1thZG1pbl0gSW1wb3NzaWJsZSBkZSBjclx1MDBFOWVyIGxlIHNpdGUnLCBlcnIpO1xuICAgICAgc2l0ZU1vZGFsRXJyb3IgJiYgKHNpdGVNb2RhbEVycm9yLnRleHRDb250ZW50ID0gJ0VycmV1ciBpbmF0dGVuZHVlLiBSXHUwMEU5ZXNzYWllIGRhbnMgdW4gaW5zdGFudC4nKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKHNpdGVNb2RhbFN1Ym1pdEJ1dHRvbikge1xuICAgICAgICBzaXRlTW9kYWxTdWJtaXRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgc2l0ZU1vZGFsU3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gJ0NyXHUwMEU5ZXInO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZlbnQpID0+IHtcbiAgICBpZiAoZXZlbnQua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgaWYgKHNpdGVNb2RhbCAmJiAhc2l0ZU1vZGFsLmNsYXNzTGlzdC5jb250YWlucygnaGlkZGVuJykpIHtcbiAgICAgICAgY2xvc2VTaXRlTW9kYWwoKTtcbiAgICAgIH1cbiAgICAgIGlmICh3b3Jrc3BhY2VCYWNrTW9kYWwgJiYgIXdvcmtzcGFjZUJhY2tNb2RhbC5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpKSB7XG4gICAgICAgIGNsb3NlV29ya3NwYWNlQmFja01vZGFsKCk7XG4gICAgICB9XG4gICAgICBpZiAoYmxvY2tEZWxldGVNb2RhbCAmJiAhYmxvY2tEZWxldGVNb2RhbC5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpKSB7XG4gICAgICAgIGNsb3NlQmxvY2tEZWxldGVNb2RhbCgpO1xuICAgICAgfVxuICAgICAgaWYgKGJsb2NrTGlicmFyeU9wZW4pIHtcbiAgICAgICAgY2xvc2VCbG9ja0xpYnJhcnkoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIGdldFdvcmtzcGFjZUNvbnRleHQoKSB7XG4gICAgY29uc3QgbWF0Y2ggPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUubWF0Y2goL15cXC9hZG1pblxcL3NpdGVcXC8oW14vXSspKD86XFwvKFteL10rKSk/Lyk7XG4gICAgaWYgKCFtYXRjaCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBzbHVnUGFydDogZGVjb2RlVVJJQ29tcG9uZW50KG1hdGNoWzFdKSxcbiAgICAgIHNsdWdWYWx1ZTogZW5zdXJlTGVhZGluZ1NsYXNoKGRlY29kZVVSSUNvbXBvbmVudChtYXRjaFsxXSkpLFxuICAgICAgc2VjdGlvbjogbWF0Y2hbMl0gfHwgJ2Rlc2lnbicsXG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRldGVjdFdvcmtzcGFjZVNlY3Rpb24oKSB7XG4gICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXBhZ2UtbGlzdF0nKSkge1xuICAgICAgcmV0dXJuICdkZXNpZ24nO1xuICAgIH1cbiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29sbGVjdGlvbi1saXN0XScpKSB7XG4gICAgICByZXR1cm4gJ2NvbnRlbnQnO1xuICAgIH1cbiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZ3JpZF0nKSkge1xuICAgICAgcmV0dXJuICdtZWRpYSc7XG4gICAgfVxuICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktZm9ybV0nKSkge1xuICAgICAgcmV0dXJuICdkZXBsb3knO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9wZW5Xb3Jrc3BhY2VCYWNrTW9kYWwoKSB7XG4gICAgaWYgKCF3b3Jrc3BhY2VCYWNrTW9kYWwpIHtcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9hZG1pbi9zaXRlcyc7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHdvcmtzcGFjZUJhY2tNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICB3b3Jrc3BhY2VCYWNrTW9kYWwuY2xhc3NMaXN0LmFkZCgnZmxleCcpO1xuICAgIGFjdGl2YXRlTW9kYWwod29ya3NwYWNlQmFja01vZGFsLCBjbG9zZVdvcmtzcGFjZUJhY2tNb2RhbCk7XG4gIH1cblxuICBmdW5jdGlvbiBjbG9zZVdvcmtzcGFjZUJhY2tNb2RhbCgpIHtcbiAgICBpZiAoIXdvcmtzcGFjZUJhY2tNb2RhbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB3b3Jrc3BhY2VCYWNrTW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgd29ya3NwYWNlQmFja01vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2ZsZXgnKTtcbiAgICBkZWFjdGl2YXRlTW9kYWwod29ya3NwYWNlQmFja01vZGFsKTtcbiAgfVxuXG4gIHdvcmtzcGFjZUJhY2tCdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5Xb3Jrc3BhY2VCYWNrTW9kYWwpO1xuICB9KTtcbiAgd29ya3NwYWNlQmFja0NhbmNlbC5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZVdvcmtzcGFjZUJhY2tNb2RhbCk7XG4gIH0pO1xuICB3b3Jrc3BhY2VCYWNrQ29uZmlybT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgY2xvc2VXb3Jrc3BhY2VCYWNrTW9kYWwoKTtcbiAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvYWRtaW4vc2l0ZXMnO1xuICB9KTtcblxuICBjb25zdCBUUkFOU1BBUkVOVF9QQVRURVJOID1cbiAgICAncmVwZWF0aW5nLWNvbmljLWdyYWRpZW50KCNjY2MgMCUgMjUlLCB3aGl0ZSAwJSA1MCUpIDUwJSAvIDhweCA4cHgnO1xuICBjb25zdCBwYXJzZUNzc0NvbG9yVG9SZ2IgPSAodmFsdWUpID0+IHtcbiAgICBpZiAoIXZhbHVlIHx8IHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpIHJldHVybiBudWxsO1xuICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSB2YWx1ZS50cmltKCkudG9Mb3dlckNhc2UoKTtcbiAgICBpZiAobm9ybWFsaXplZCA9PT0gJ3RyYW5zcGFyZW50JykgcmV0dXJuIG51bGw7XG4gICAgY29uc3QgcmdiTWF0Y2ggPSBub3JtYWxpemVkLm1hdGNoKFxuICAgICAgL15yZ2JcXFxcKFxcXFxzKihcXFxcZHsxLDN9KVxcXFxzKixcXFxccyooXFxcXGR7MSwzfSlcXFxccyosXFxcXHMqKFxcXFxkezEsM30pXFxcXHMqXFxcXCkkLyxcbiAgICApO1xuICAgIGlmIChyZ2JNYXRjaCkge1xuICAgICAgcmV0dXJuIFtcbiAgICAgICAgTWF0aC5taW4oMjU1LCBNYXRoLm1heCgwLCBOdW1iZXIocmdiTWF0Y2hbMV0pKSksXG4gICAgICAgIE1hdGgubWluKDI1NSwgTWF0aC5tYXgoMCwgTnVtYmVyKHJnYk1hdGNoWzJdKSkpLFxuICAgICAgICBNYXRoLm1pbigyNTUsIE1hdGgubWF4KDAsIE51bWJlcihyZ2JNYXRjaFszXSkpKSxcbiAgICAgIF07XG4gICAgfVxuICAgIGNvbnN0IGhleE1hdGNoID0gbm9ybWFsaXplZC5tYXRjaCgvXiMoW2EtZjAtOV17M318W2EtZjAtOV17Nn0pJC8pO1xuICAgIGlmIChoZXhNYXRjaCkge1xuICAgICAgY29uc3QgaGV4ID0gaGV4TWF0Y2hbMV07XG4gICAgICBjb25zdCBub3JtYWxpemVkSGV4ID1cbiAgICAgICAgaGV4Lmxlbmd0aCA9PT0gMyA/IGhleC5zcGxpdCgnJykubWFwKChjKSA9PiBgJHtjfSR7Y31gKS5qb2luKCcnKSA6IGhleDtcbiAgICAgIGNvbnN0IHIgPSBwYXJzZUludChub3JtYWxpemVkSGV4LnNsaWNlKDAsIDIpLCAxNik7XG4gICAgICBjb25zdCBnID0gcGFyc2VJbnQobm9ybWFsaXplZEhleC5zbGljZSgyLCA0KSwgMTYpO1xuICAgICAgY29uc3QgYiA9IHBhcnNlSW50KG5vcm1hbGl6ZWRIZXguc2xpY2UoNCwgNiksIDE2KTtcbiAgICAgIHJldHVybiBbciwgZywgYl07XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9O1xuICBjb25zdCBnZXRSZWFkYWJsZVRleHRDb2xvciA9IChiYWNrZ3JvdW5kQ29sb3IpID0+IHtcbiAgICBjb25zdCByZ2IgPSBwYXJzZUNzc0NvbG9yVG9SZ2IoYmFja2dyb3VuZENvbG9yKTtcbiAgICBpZiAoIXJnYikgcmV0dXJuICcjMGYxNzJhJztcbiAgICBjb25zdCBbciwgZywgYl0gPSByZ2I7XG4gICAgY29uc3QgbHVtaW5hbmNlID0gKDAuMjEyNiAqIHIgKyAwLjcxNTIgKiBnICsgMC4wNzIyICogYikgLyAyNTU7XG4gICAgcmV0dXJuIGx1bWluYW5jZSA+IDAuNjIgPyAnIzBmMTcyYScgOiAnI2ZmZmZmZic7XG4gIH07XG4gIGNvbnN0IHN0eWxlU2VsZWN0T3B0aW9ucyA9IChzZWxlY3QpID0+IHtcbiAgICBpZiAoIXNlbGVjdCkgcmV0dXJuO1xuICAgIEFycmF5LmZyb20oc2VsZWN0Lm9wdGlvbnMpLmZvckVhY2goKG9wdGlvbikgPT4ge1xuICAgICAgY29uc3Qgb3B0aW9uQ29sb3IgPSBvcHRpb24uZGF0YXNldD8uY29sb3I7XG4gICAgICBpZiAoIW9wdGlvbkNvbG9yKSByZXR1cm47XG4gICAgICBpZiAob3B0aW9uQ29sb3IgPT09ICd0cmFuc3BhcmVudCcpIHtcbiAgICAgICAgb3B0aW9uLnN0eWxlLmJhY2tncm91bmQgPSBUUkFOU1BBUkVOVF9QQVRURVJOO1xuICAgICAgICBvcHRpb24uc3R5bGUuY29sb3IgPSAnIzQ3NTU2OSc7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIG9wdGlvbi5zdHlsZS5iYWNrZ3JvdW5kID0gb3B0aW9uQ29sb3I7XG4gICAgICBvcHRpb24uc3R5bGUuY29sb3IgPSBnZXRSZWFkYWJsZVRleHRDb2xvcihvcHRpb25Db2xvcik7XG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3QgYWN0aXZlU2VjdGlvbiA9IHdvcmtzcGFjZUNvbnRleHQ/LnNlY3Rpb24gfHwgZGV0ZWN0V29ya3NwYWNlU2VjdGlvbigpO1xuXG4gIGlmIChhY3RpdmVTZWN0aW9uID09PSAnZGVzaWduJykge1xuICAgIGluaXREZXNpZ25Xb3Jrc3BhY2UoKTtcbiAgfVxuICBpZiAoYWN0aXZlU2VjdGlvbiA9PT0gJ2NvbnRlbnQnKSB7XG4gICAgaW5pdENvbnRlbnRXb3Jrc3BhY2UoKTtcbiAgfVxuICBpZiAoYWN0aXZlU2VjdGlvbiA9PT0gJ21lZGlhJykge1xuICAgIGluaXRNZWRpYVdvcmtzcGFjZSgpO1xuICB9XG4gIGlmIChhY3RpdmVTZWN0aW9uID09PSAnZGVwbG95Jykge1xuICAgIGluaXREZXBsb3lXb3Jrc3BhY2UoKTtcbiAgfVxuICBpZiAoYWN0aXZlU2VjdGlvbiA9PT0gJ3NldHRpbmdzJykge1xuICAgIGluaXRTZXR0aW5nc1dvcmtzcGFjZSgpO1xuICB9XG5cbiAgaWYgKHdvcmtzcGFjZUNvbnRleHQgJiYgc3RvcmVkU2l0ZS5uYW1lKSB7XG4gICAgdXBkYXRlU2l0ZUxhYmVscyhzdG9yZWRTaXRlLm5hbWUpO1xuICB9XG5cbiAgZnVuY3Rpb24gaW5pdERlc2lnbldvcmtzcGFjZSgpIHtcbiAgICBjb25zdCBwYWdlTGlzdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1wYWdlLWxpc3RdJyk7XG4gICAgaWYgKHBhZ2VMaXN0cy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgYWN0aXZlVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hY3RpdmUtcGFnZS10aXRsZV0nKTtcbiAgICBjb25zdCBhY3RpdmVTbHVnID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWN0aXZlLXBhZ2Utc2x1Z10nKTtcbiAgICBjb25zdCBwcmV2aWV3VGFncyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXBhZ2UtcHJldmlldy10YWdzXScpO1xuICAgIGNvbnN0IHByZXZpZXdGcmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXBhZ2UtcHJldmlldy1mcmFtZV0nKTtcbiAgICBjb25zdCBwcmV2aWV3RnJhbWVXcmFwcGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcmV2aWV3LWZyYW1lLXdyYXBwZXJdJyk7XG4gICAgY29uc3QgcHJldmlld1NoZWxsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcmV2aWV3LXNoZWxsXScpO1xuICAgIGNvbnN0IHByZXZpZXdWaWV3QnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXByZXZpZXctdmlldy1idXR0b25dJyk7XG4gICAgY29uc3QgcHJldmlld0N1cnJlbnRWaWV3TGFiZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLXByZXZpZXctY3VycmVudC12aWV3XScpO1xuICAgIGNvbnN0IHByZXZpZXdPcGVuQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcHJldmlldy1vcGVuXScpO1xuICAgIGNvbnN0IHByZXZpZXdTdGF0dXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wcmV2aWV3LXN0YXR1c10nKTtcbiAgICBjb25zdCBwcmV2aWV3SGlnaGxpZ2h0T3ZlcmxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXByZXZpZXctaGlnaGxpZ2h0XScpO1xuICAgIC8vIFNFTyBwYW5lbCBlbGVtZW50c1xuICAgIGNvbnN0IHNlb1RvZ2dsZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby10b2dnbGVdJyk7XG4gICAgY29uc3Qgc2VvUGFuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8tcGFuZWxdJyk7XG4gICAgY29uc3Qgc2VvQ2xvc2VCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8tY2xvc2VdJyk7XG4gICAgY29uc3Qgc2VvRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby1mb3JtXScpO1xuICAgIGNvbnN0IHNlb1RpdGxlSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8tdGl0bGVdJyk7XG4gICAgY29uc3Qgc2VvRGVzY3JpcHRpb25JbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby1kZXNjcmlwdGlvbl0nKTtcbiAgICBjb25zdCBzZW9JbmRleGVkQ2hlY2tib3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8taW5kZXhlZF0nKTtcbiAgICBjb25zdCBzZW9GZWVkYmFjayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby1mZWVkYmFja10nKTtcbiAgICBjb25zdCBzZW9TYXZlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2VvLXNhdmVdJyk7XG4gICAgY29uc3QgcGFnZUFjY2Vzc2liaWxpdHlUb2dnbGVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgJ1tkYXRhLXBhZ2UtYWNjZXNzaWJpbGl0eS10b2dnbGVdJyxcbiAgICApO1xuICAgIGNvbnN0IHBhZ2VBY2Nlc3NpYmlsaXR5UGFuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLWFjY2Vzc2liaWxpdHktcGFuZWxdJyk7XG4gICAgY29uc3QgcGFnZUFjY2Vzc2liaWxpdHlDbG9zZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAnW2RhdGEtcGFnZS1hY2Nlc3NpYmlsaXR5LWNsb3NlXScsXG4gICAgKTtcbiAgICBjb25zdCBwYWdlQWNjZXNzaWJpbGl0eUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLWFjY2Vzc2liaWxpdHktZm9ybV0nKTtcbiAgICBjb25zdCBwYWdlQWNjZXNzaWJpbGl0eU5hdkNoZWNrYm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgICdbZGF0YS1wYWdlLWFjY2Vzc2liaWxpdHktbmF2XScsXG4gICAgKTtcbiAgICBjb25zdCBwYWdlQWNjZXNzaWJpbGl0eU1haW5JbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAnW2RhdGEtcGFnZS1hY2Nlc3NpYmlsaXR5LW1haW5dJyxcbiAgICApO1xuICAgIGNvbnN0IHBhZ2VBY2Nlc3NpYmlsaXR5RmVlZGJhY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgJ1tkYXRhLXBhZ2UtYWNjZXNzaWJpbGl0eS1mZWVkYmFja10nLFxuICAgICk7XG4gICAgY29uc3QgcGFnZUFjY2Vzc2liaWxpdHlTYXZlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgICdbZGF0YS1wYWdlLWFjY2Vzc2liaWxpdHktc2F2ZV0nLFxuICAgICk7XG4gICAgLy8gUGFnZSBwcm9wZXJ0aWVzIHBhbmVsIGVsZW1lbnRzXG4gICAgY29uc3QgcGFnZVByb3BzVG9nZ2xlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcm9wcy10b2dnbGVdJyk7XG4gICAgY29uc3QgcGFnZVByb3BzUGFuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLXByb3BzLXBhbmVsXScpO1xuICAgIGNvbnN0IHBhZ2VQcm9wc0Nsb3NlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcm9wcy1jbG9zZV0nKTtcbiAgICBjb25zdCBwYWdlUHJvcHNGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcm9wcy1mb3JtXScpO1xuICAgIGNvbnN0IHBhZ2VOYW1lSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLW5hbWVdJyk7XG4gICAgY29uc3QgcGFnZVRpdGxlSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLXRpdGxlLWlucHV0XScpO1xuICAgIGNvbnN0IHBhZ2VTbHVnSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLXNsdWctaW5wdXRdJyk7XG4gICAgY29uc3QgcGFnZURlc2NyaXB0aW9uSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLWRlc2NyaXB0aW9uXScpO1xuICAgIGNvbnN0IHBhZ2VQcm9wc0ZlZWRiYWNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcm9wcy1mZWVkYmFja10nKTtcbiAgICBjb25zdCBwYWdlUHJvcHNTYXZlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcm9wcy1zYXZlXScpO1xuICAgIGNvbnN0IGJsb2NrTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2Nrcy1saXN0XScpO1xuICAgIGNvbnN0IGJsb2NrTGlzdEVtcHR5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2tzLWVtcHR5XScpO1xuICAgIGNvbnN0IGJsb2NrQ291bnRCYWRnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWNvdW50XScpO1xuICAgIGNvbnN0IGJsb2NrTGlicmFyeVRvZ2dsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWxpYnJhcnktdG9nZ2xlXScpO1xuICAgIGNvbnN0IGJsb2NrTGlicmFyeSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWxpYnJhcnldJyk7XG4gICAgY29uc3QgYmxvY2tBZGRCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYmxvY2stYWRkXScpO1xuICAgIGNvbnN0IGJsb2NrRGVsZXRlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1kZWxldGUtbW9kYWxdJyk7XG4gICAgY29uc3QgYmxvY2tEZWxldGVDb25maXJtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZGVsZXRlLWNvbmZpcm1dJyk7XG4gICAgY29uc3QgYmxvY2tEZWxldGVDYW5jZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1kZWxldGUtY2FuY2VsXScpO1xuICAgIGNvbnN0IGJsb2NrRGV0YWlsRW1wdHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1kZXRhaWwtZW1wdHldJyk7XG4gICAgY29uc3QgYmxvY2tEZXRhaWxTdGF0dXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1kZXRhaWwtc3RhdHVzXScpO1xuICAgIGNvbnN0IGJsb2NrRWRpdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZWRpdG9yXScpO1xuICAgIGNvbnN0IGJsb2NrRWRpdG9yVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1lZGl0b3ItYmxvY2stbmFtZV0nKTtcbiAgICBjb25zdCBibG9ja0VkaXRvclR5cGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1lZGl0b3ItYmxvY2stdHlwZV0nKTtcbiAgICBjb25zdCBibG9ja0VkaXRvclVuc3VwcG9ydGVkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZWRpdG9yLXVuc3VwcG9ydGVkXScpO1xuICAgIGNvbnN0IGJsb2NrRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWZvcm1dJyk7XG4gICAgY29uc3Qgc3R5bGVDb2xvckNoaXAgPSAoY2hpcCwgY29sb3IpID0+IHtcbiAgICAgIGlmICghY2hpcCkgcmV0dXJuO1xuICAgICAgaWYgKGNvbG9yID09PSAndHJhbnNwYXJlbnQnKSB7XG4gICAgICAgIGNoaXAuc3R5bGUuYmFja2dyb3VuZCA9IFRSQU5TUEFSRU5UX1BBVFRFUk47XG4gICAgICAgIGNoaXAuc3R5bGUuYm9yZGVyQ29sb3IgPSAnI2NiZDVmNSc7XG4gICAgICAgIGNoaXAuc3R5bGUuYm94U2hhZG93ID0gJyc7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNoaXAuc3R5bGUuYmFja2dyb3VuZCA9IGNvbG9yO1xuICAgICAgY2hpcC5zdHlsZS5ib3JkZXJDb2xvciA9IGNvbG9yO1xuICAgICAgY2hpcC5zdHlsZS5ib3hTaGFkb3cgPSAnMCAwIDAgMXB4IHJnYmEoMTUsMjMsNDIsMC4xNSknO1xuICAgIH07XG4gICAgY29uc3QgZW5zdXJlQ3VzdG9tVGhlbWVPcHRpb24gPSAoc2VsZWN0LCB2YWx1ZSkgPT4ge1xuICAgICAgaWYgKCFzZWxlY3QgfHwgIXZhbHVlKSByZXR1cm47XG4gICAgICBpZiAoQXJyYXkuZnJvbShzZWxlY3Qub3B0aW9ucykuc29tZSgob3B0KSA9PiBvcHQudmFsdWUgPT09IHZhbHVlKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgIG9wdGlvbi52YWx1ZSA9IHZhbHVlO1xuICAgICAgb3B0aW9uLnRleHRDb250ZW50ID0gJ0NvdWxldXIgcGVyc29ubmFsaXNcdTAwRTllJztcbiAgICAgIG9wdGlvbi5kYXRhc2V0LmNvbG9yID0gdmFsdWU7XG4gICAgICBpZiAodmFsdWUgPT09ICd0cmFuc3BhcmVudCcpIHtcbiAgICAgICAgb3B0aW9uLnN0eWxlLmJhY2tncm91bmQgPSBUUkFOU1BBUkVOVF9QQVRURVJOO1xuICAgICAgICBvcHRpb24uc3R5bGUuY29sb3IgPSAnIzQ3NTU2OSc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvcHRpb24uc3R5bGUuYmFja2dyb3VuZCA9IHZhbHVlO1xuICAgICAgICBvcHRpb24uc3R5bGUuY29sb3IgPSBnZXRSZWFkYWJsZVRleHRDb2xvcih2YWx1ZSk7XG4gICAgICB9XG4gICAgICBzZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uKTtcbiAgICAgIHN0eWxlU2VsZWN0T3B0aW9ucyhzZWxlY3QpO1xuICAgIH07XG4gICAgY29uc3QgdXBkYXRlQ29sb3JTZWxlY3RQcmV2aWV3ID0gKHNlbGVjdCkgPT4ge1xuICAgICAgaWYgKCFzZWxlY3QpIHJldHVybjtcbiAgICAgIGNvbnN0IHNlbGVjdGVkT3B0aW9uID0gc2VsZWN0Lm9wdGlvbnNbc2VsZWN0LnNlbGVjdGVkSW5kZXhdO1xuICAgICAgY29uc3QgY29sb3IgPSBzZWxlY3RlZE9wdGlvbj8uZGF0YXNldD8uY29sb3IgfHwgJyNmZmZmZmYnO1xuICAgICAgY29uc3QgY29sb3JQcmV2aWV3ID0gc2VsZWN0LmNsb3Nlc3QoJy5yZWxhdGl2ZScpPy5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xvci1wcmV2aWV3XScpO1xuICAgICAgaWYgKGNvbG9yUHJldmlldykge1xuICAgICAgICBpZiAoY29sb3IgPT09ICd0cmFuc3BhcmVudCcpIHtcbiAgICAgICAgICBjb2xvclByZXZpZXcuc3R5bGUuYmFja2dyb3VuZCA9IFRSQU5TUEFSRU5UX1BBVFRFUk47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29sb3JQcmV2aWV3LnN0eWxlLmJhY2tncm91bmQgPSBjb2xvcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3QgY29sb3JDaGlwID0gc2VsZWN0LmNsb3Nlc3QoJy5yZWxhdGl2ZScpPy5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1jb2xvci1jaGlwXScpO1xuICAgICAgc3R5bGVDb2xvckNoaXAoY29sb3JDaGlwLCBjb2xvcik7XG4gICAgfTtcblxuICAgIGNvbnN0IHRoZW1lQ29sb3JTZWxlY3RzID0gYmxvY2tGb3JtXG4gICAgICA/IEFycmF5LmZyb20oYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXRoZW1lLWNvbG9yLXNlbGVjdF0nKSlcbiAgICAgIDogW107XG4gICAgY29uc3QgaXNCYWNrZ3JvdW5kVGhlbWVTZWxlY3QgPSAoc2VsZWN0KSA9PiB7XG4gICAgICBjb25zdCBuYW1lID0gc2VsZWN0Py5nZXRBdHRyaWJ1dGU/LignbmFtZScpIHx8ICcnO1xuICAgICAgcmV0dXJuIG5hbWUuZW5kc1dpdGgoJy1iZycpO1xuICAgIH07XG4gICAgY29uc3QgdGhlbWVDb2xvclByZXNldHMgPSBbXG4gICAgICB7IGxhYmVsOiAnQ291bGV1ciBwcmltYWlyZScsIHZhbHVlOiAndGhlbWUtcHJpbWFyeScsIGNzc1ZhcjogJy0tY29sb3ItcHJpbWFyeScgfSxcbiAgICAgIHsgbGFiZWw6ICdDb3VsZXVyIHNlY29uZGFpcmUnLCB2YWx1ZTogJ3RoZW1lLXNlY29uZGFyeScsIGNzc1ZhcjogJy0tY29sb3Itc2Vjb25kYXJ5JyB9LFxuICAgICAgeyBsYWJlbDogJ0NvdWxldXIgYWNjZW50JywgdmFsdWU6ICd0aGVtZS1hY2NlbnQnLCBjc3NWYXI6ICctLWNvbG9yLWFjY2VudCcgfSxcbiAgICAgIHsgbGFiZWw6ICdGb25kJywgdmFsdWU6ICd0aGVtZS1iYWNrZ3JvdW5kJywgY3NzVmFyOiAnLS1jb2xvci1iYWNrZ3JvdW5kJyB9LFxuICAgICAgeyBsYWJlbDogJ1RleHRlJywgdmFsdWU6ICd0aGVtZS10ZXh0JywgY3NzVmFyOiAnLS1jb2xvci10ZXh0JyB9LFxuICAgIF07XG4gICAgY29uc3QgZ2V0Q29tcHV0ZWRUaGVtZUNvbG9yVmFsdWUgPSAoY3NzVmFyLCBmYWxsYmFjayA9ICcjZmZmZmZmJykgPT4ge1xuICAgICAgaWYgKCFjc3NWYXIpIHJldHVybiBmYWxsYmFjaztcbiAgICAgIGNvbnN0IGNvbXB1dGVkID0gZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLmdldFByb3BlcnR5VmFsdWUoY3NzVmFyKTtcbiAgICAgIHJldHVybiBjb21wdXRlZCA/IGNvbXB1dGVkLnRyaW0oKSA6IGZhbGxiYWNrO1xuICAgIH07XG4gICAgY29uc3QgZmlsbFRoZW1lQ29sb3JTZWxlY3QgPSAoc2VsZWN0KSA9PiB7XG4gICAgICBpZiAoIXNlbGVjdCkgcmV0dXJuO1xuICAgICAgc2VsZWN0LmlubmVySFRNTCA9ICcnO1xuICAgICAgdGhlbWVDb2xvclByZXNldHMuZm9yRWFjaCgoeyBsYWJlbCwgdmFsdWUsIGNzc1ZhciB9KSA9PiB7XG4gICAgICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICBvcHRpb24udmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgY29uc3QgY29sb3JWYWx1ZSA9IGdldENvbXB1dGVkVGhlbWVDb2xvclZhbHVlKGNzc1Zhcik7XG4gICAgICAgIG9wdGlvbi50ZXh0Q29udGVudCA9IGxhYmVsO1xuICAgICAgICBvcHRpb24uZGF0YXNldC5jb2xvciA9IGNvbG9yVmFsdWU7XG4gICAgICAgIGlmIChjb2xvclZhbHVlID09PSAndHJhbnNwYXJlbnQnKSB7XG4gICAgICAgICAgb3B0aW9uLnN0eWxlLmJhY2tncm91bmQgPSBUUkFOU1BBUkVOVF9QQVRURVJOO1xuICAgICAgICAgIG9wdGlvbi5zdHlsZS5jb2xvciA9ICcjNDc1NTY5JztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9wdGlvbi5zdHlsZS5iYWNrZ3JvdW5kID0gY29sb3JWYWx1ZTtcbiAgICAgICAgICAgIG9wdGlvbi5zdHlsZS5jb2xvciA9IGdldFJlYWRhYmxlVGV4dENvbG9yKGNvbG9yVmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNlbGVjdC52YWx1ZSA9IHRoZW1lQ29sb3JQcmVzZXRzWzBdLnZhbHVlO1xuICAgICAgICBzZWxlY3QucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xuICAgICAgICBpZiAoaXNCYWNrZ3JvdW5kVGhlbWVTZWxlY3Qoc2VsZWN0KSkge1xuICAgICAgICAgIHN0eWxlU2VsZWN0T3B0aW9ucyhzZWxlY3QpO1xuICAgICAgICB9XG4gICAgICAgIHVwZGF0ZUNvbG9yU2VsZWN0UHJldmlldyhzZWxlY3QpO1xuICAgICAgfTtcbiAgICAgIGNvbnN0IHJlZnJlc2hUaGVtZUNvbG9yU2VsZWN0cyA9ICgpID0+IHRoZW1lQ29sb3JTZWxlY3RzLmZvckVhY2goZmlsbFRoZW1lQ29sb3JTZWxlY3QpO1xuICAgICAgcmVmcmVzaFRoZW1lQ29sb3JTZWxlY3RzKCk7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdhaS10aGVtZS11cGRhdGVkJywgcmVmcmVzaFRoZW1lQ29sb3JTZWxlY3RzKTtcbiAgICBjb25zdCBibG9ja0Zvcm1TZWN0aW9ucyA9IGJsb2NrRm9ybVxuICAgICAgPyBBcnJheS5mcm9tKGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1lZGl0b3Itc2VjdGlvbl0nKSlcbiAgICAgIDogW107XG4gICAgY29uc3QgZ2V0QmxvY2tFZGl0b3JTZWN0aW9uRWxlbWVudCA9IChjb25maWcpID0+IHtcbiAgICAgIGlmICghYmxvY2tGb3JtIHx8ICFjb25maWc/LnNlY3Rpb24pIHJldHVybiBudWxsO1xuICAgICAgcmV0dXJuIGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yKGBbZGF0YS1lZGl0b3Itc2VjdGlvbj1cIiR7Y29uZmlnLnNlY3Rpb259XCJdYCk7XG4gICAgfTtcbiAgICAvLyBPbmdsZXRzIENvbnRlbnUgLyBBcHBhcmVuY2VcbiAgICBjb25zdCBibG9ja1RhYnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1ibG9jay10YWJdJyk7XG4gICAgbGV0IGFjdGl2ZUJsb2NrVGFiID0gJ2NvbnRlbnQnO1xuXG4gICAgLy8gT25nbGV0cyBwYW5uZWF1IGdhdWNoZSAoQmxvY3MgLyBQYWdlcylcbiAgICBjb25zdCBsZWZ0UGFuZWxUYWJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtbGVmdC10YWJdJyk7XG4gICAgY29uc3QgbGVmdFBhbmVsQmxvY2tzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbGVmdC1wYW5lbD1cImJsb2Nrc1wiXScpO1xuICAgIGNvbnN0IGxlZnRQYW5lbFBhZ2VzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbGVmdC1wYW5lbD1cInBhZ2VzXCJdJyk7XG4gICAgbGV0IGFjdGl2ZUxlZnRUYWIgPSAnYmxvY2tzJztcblxuICAgIC8vIEZvbmN0aW9uIHBvdXIgc3dpdGNoZXIgZW50cmUgbGVzIG9uZ2xldHMgQmxvY3MvUGFnZXMgZHUgcGFubmVhdSBnYXVjaGVcbiAgICBjb25zdCBzd2l0Y2hMZWZ0VGFiID0gKHRhYk5hbWUpID0+IHtcbiAgICAgIGFjdGl2ZUxlZnRUYWIgPSB0YWJOYW1lO1xuICAgICAgbGVmdFBhbmVsVGFicy5mb3JFYWNoKCh0YWIpID0+IHtcbiAgICAgICAgY29uc3QgaXNBY3RpdmUgPSB0YWIuZGF0YXNldC5sZWZ0VGFiID09PSB0YWJOYW1lO1xuICAgICAgICB0YWIuc2V0QXR0cmlidXRlKCdhcmlhLXNlbGVjdGVkJywgaXNBY3RpdmUgPyAndHJ1ZScgOiAnZmFsc2UnKTtcbiAgICAgICAgaWYgKGlzQWN0aXZlKSB7XG4gICAgICAgICAgdGFiLmNsYXNzTGlzdC5hZGQoJ3RleHQtWyM5QzZCRkZdJyk7XG4gICAgICAgICAgdGFiLmNsYXNzTGlzdC5yZW1vdmUoJ3RleHQtc2xhdGUtNTAwJywgJ2hvdmVyOnRleHQtc2xhdGUtNzAwJyk7XG4gICAgICAgICAgdGFiLmNsYXNzTGlzdC5hZGQoJ2FmdGVyOmFic29sdXRlJywgJ2FmdGVyOmJvdHRvbS0wJywgJ2FmdGVyOmxlZnQtMCcsICdhZnRlcjpyaWdodC0wJywgJ2FmdGVyOmgtMC41JywgJ2FmdGVyOmJnLVsjOUM2QkZGXScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRhYi5jbGFzc0xpc3QucmVtb3ZlKCd0ZXh0LVsjOUM2QkZGXScpO1xuICAgICAgICAgIHRhYi5jbGFzc0xpc3QuYWRkKCd0ZXh0LXNsYXRlLTUwMCcsICdob3Zlcjp0ZXh0LXNsYXRlLTcwMCcpO1xuICAgICAgICAgIHRhYi5jbGFzc0xpc3QucmVtb3ZlKCdhZnRlcjphYnNvbHV0ZScsICdhZnRlcjpib3R0b20tMCcsICdhZnRlcjpsZWZ0LTAnLCAnYWZ0ZXI6cmlnaHQtMCcsICdhZnRlcjpoLTAuNScsICdhZnRlcjpiZy1bIzlDNkJGRl0nKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICAvLyBBZmZpY2hlci9tYXNxdWVyIGxlcyBwYW5lbHNcbiAgICAgIGlmIChsZWZ0UGFuZWxCbG9ja3MpIHtcbiAgICAgICAgbGVmdFBhbmVsQmxvY2tzLmNsYXNzTGlzdC50b2dnbGUoJ2hpZGRlbicsIHRhYk5hbWUgIT09ICdibG9ja3MnKTtcbiAgICAgIH1cbiAgICAgIGlmIChsZWZ0UGFuZWxQYWdlcykge1xuICAgICAgICBsZWZ0UGFuZWxQYWdlcy5jbGFzc0xpc3QudG9nZ2xlKCdoaWRkZW4nLCB0YWJOYW1lICE9PSAncGFnZXMnKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gRXZlbnQgbGlzdGVuZXJzIHBvdXIgbGVzIG9uZ2xldHMgZHUgcGFubmVhdSBnYXVjaGVcbiAgICBsZWZ0UGFuZWxUYWJzLmZvckVhY2goKHRhYikgPT4ge1xuICAgICAgdGFiLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBzd2l0Y2hMZWZ0VGFiKHRhYi5kYXRhc2V0LmxlZnRUYWIpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgXG4gICAgLy8gRFx1MDBFOWNsYXJhdGlvbnMgZGVzIFx1MDBFOWxcdTAwRTltZW50cyBkJ2FjdGlvbnMgZHUgZm9ybXVsYWlyZSAoYXZhbnQgc3dpdGNoQmxvY2tUYWIpXG4gICAgY29uc3QgYmxvY2tGb3JtQWN0aW9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWZvcm0tYWN0aW9uc10nKTtcbiAgICBjb25zdCBibG9ja0Zvcm1BdXRvc2F2ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWZvcm0tYXV0b3NhdmVdJyk7XG5cbiAgICAvLyBGb25jdGlvbiBwb3VyIHN3aXRjaGVyIGVudHJlIGxlcyBvbmdsZXRzIENvbnRlbnUvQXBwYXJlbmNlXG4gICAgY29uc3Qgc3dpdGNoQmxvY2tUYWIgPSAodGFiTmFtZSkgPT4ge1xuICAgICAgYWN0aXZlQmxvY2tUYWIgPSB0YWJOYW1lO1xuICAgICAgLy8gTWV0dHJlIFx1MDBFMCBqb3VyIGxlcyBzdHlsZXMgZGVzIGJvdXRvbnMgZCdvbmdsZXRcbiAgICAgIGJsb2NrVGFicy5mb3JFYWNoKCh0YWIpID0+IHtcbiAgICAgICAgY29uc3QgaXNBY3RpdmUgPSB0YWIuZGF0YXNldC5ibG9ja1RhYiA9PT0gdGFiTmFtZTtcbiAgICAgICAgdGFiLnNldEF0dHJpYnV0ZSgnYXJpYS1zZWxlY3RlZCcsIGlzQWN0aXZlID8gJ3RydWUnIDogJ2ZhbHNlJyk7XG4gICAgICAgIGlmIChpc0FjdGl2ZSkge1xuICAgICAgICAgIHRhYi5jbGFzc0xpc3QuYWRkKCd0ZXh0LVsjOUM2QkZGXScpO1xuICAgICAgICAgIHRhYi5jbGFzc0xpc3QucmVtb3ZlKCd0ZXh0LXNsYXRlLTUwMCcsICdob3Zlcjp0ZXh0LXNsYXRlLTcwMCcpO1xuICAgICAgICAgIHRhYi5jbGFzc0xpc3QuYWRkKCdhZnRlcjphYnNvbHV0ZScsICdhZnRlcjpib3R0b20tMCcsICdhZnRlcjpsZWZ0LTAnLCAnYWZ0ZXI6cmlnaHQtMCcsICdhZnRlcjpoLTAuNScsICdhZnRlcjpiZy1bIzlDNkJGRl0nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0YWIuY2xhc3NMaXN0LnJlbW92ZSgndGV4dC1bIzlDNkJGRl0nKTtcbiAgICAgICAgICB0YWIuY2xhc3NMaXN0LmFkZCgndGV4dC1zbGF0ZS01MDAnLCAnaG92ZXI6dGV4dC1zbGF0ZS03MDAnKTtcbiAgICAgICAgICB0YWIuY2xhc3NMaXN0LnJlbW92ZSgnYWZ0ZXI6YWJzb2x1dGUnLCAnYWZ0ZXI6Ym90dG9tLTAnLCAnYWZ0ZXI6bGVmdC0wJywgJ2FmdGVyOnJpZ2h0LTAnLCAnYWZ0ZXI6aC0wLjUnLCAnYWZ0ZXI6YmctWyM5QzZCRkZdJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgLy8gQWZmaWNoZXIvbWFzcXVlciBsZXMgcGFuZWxzIGRhbnMgbGEgc2VjdGlvbiBhY3RpdmVcbiAgICAgIGNvbnN0IGFjdGl2ZVNlY3Rpb24gPSBibG9ja0Zvcm0/LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWVkaXRvci1zZWN0aW9uXTpub3QoLmhpZGRlbiknKTtcbiAgICAgIGlmIChhY3RpdmVTZWN0aW9uKSB7XG4gICAgICAgIGNvbnN0IHBhbmVscyA9IGFjdGl2ZVNlY3Rpb24ucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYmxvY2stcGFuZWxdJyk7XG4gICAgICAgIHBhbmVscy5mb3JFYWNoKChwYW5lbCkgPT4ge1xuICAgICAgICAgIGlmIChwYW5lbC5kYXRhc2V0LmJsb2NrUGFuZWwgPT09IHRhYk5hbWUpIHtcbiAgICAgICAgICAgIHBhbmVsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYW5lbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgLy8gQWZmaWNoZXIvbWFzcXVlciBsZXMgYm91dG9ucyBzZWxvbiBsJ29uZ2xldFxuICAgICAgLy8gQ29udGVudSBcdTIxOTIgYm91dG9ucyBFbnJlZ2lzdHJlci9Bbm51bGVyXG4gICAgICAvLyBBcHBhcmVuY2UgXHUyMTkyIGluZGljYXRldXIgYXV0by1zYXZlXG4gICAgICBpZiAoYmxvY2tGb3JtQWN0aW9ucyAmJiBibG9ja0Zvcm1BdXRvc2F2ZSkge1xuICAgICAgICBpZiAodGFiTmFtZSA9PT0gJ2NvbnRlbnQnKSB7XG4gICAgICAgICAgYmxvY2tGb3JtQWN0aW9ucy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICBibG9ja0Zvcm1BdXRvc2F2ZS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBibG9ja0Zvcm1BY3Rpb25zLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICAgIGJsb2NrRm9ybUF1dG9zYXZlLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIEV2ZW50IGxpc3RlbmVycyBwb3VyIGxlcyBvbmdsZXRzXG4gICAgYmxvY2tUYWJzLmZvckVhY2goKHRhYikgPT4ge1xuICAgICAgdGFiLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBzd2l0Y2hCbG9ja1RhYih0YWIuZGF0YXNldC5ibG9ja1RhYik7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGNvbnN0IGNvbGxlY3Rpb25TZWxlY3QgPSBibG9ja0Zvcm0/LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiY29sbGVjdGlvbi1ncmlkLWNvbGxlY3Rpb25cIl0nKTtcbiAgICBjb25zdCBjb2xsZWN0aW9uU2VsZWN0aW9uSW5mbyA9IGJsb2NrRm9ybT8ucXVlcnlTZWxlY3RvcihcbiAgICAgICdbZGF0YS1jb2xsZWN0aW9uLXNlbGVjdGlvbi1pbmZvXScsXG4gICAgKTtcbiAgICBjb25zdCBibG9ja0Zvcm1DYW5jZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1mb3JtLWNhbmNlbF0nKTtcbiAgICBjb25zdCBncm91cFByZXZpZXdNb2JpbGUgPSBibG9ja0Zvcm0/LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWdyb3VwLXByZXZpZXctbW9iaWxlXScpO1xuICAgIGNvbnN0IGdyb3VwUHJldmlld0Rlc2t0b3AgPSBibG9ja0Zvcm0/LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWdyb3VwLXByZXZpZXctZGVza3RvcF0nKTtcbiAgICBjb25zdCBjb2xsZWN0aW9uUHJldmlld01vYmlsZSA9IGJsb2NrRm9ybT8ucXVlcnlTZWxlY3RvcignW2RhdGEtY29sbGVjdGlvbi1wcmV2aWV3LW1vYmlsZV0nKTtcbiAgICBjb25zdCBjb2xsZWN0aW9uUHJldmlld0Rlc2t0b3AgPSBibG9ja0Zvcm0/LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbGxlY3Rpb24tcHJldmlldy1kZXNrdG9wXScpO1xuICAgIGNvbnN0IGJsb2NrVHlwZUZvcm1zID0ge1xuICAgICAgaGVybzoge1xuICAgICAgICBzZWN0aW9uOiAnaGVybycsXG4gICAgICAgIGxhYmVsRmllbGQ6ICd0aXRsZScsXG4gICAgICAgIGRlc2NyaXB0aW9uRmllbGQ6ICdzdWJ0aXRsZScsXG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIHRpdGxlOiAnaGVyby10aXRsZScsXG4gICAgICAgICAgc3VidGl0bGU6ICdoZXJvLXN1YnRpdGxlJyxcbiAgICAgICAgICBjdGFMYWJlbDogJ2hlcm8tY3RhLWxhYmVsJyxcbiAgICAgICAgICBjdGFVcmw6ICdoZXJvLWN0YS11cmwnLFxuICAgICAgICAgIGN0YVRleHRDb2xvcjogJ2hlcm8tY3RhLXRleHQtY29sb3InLFxuICAgICAgICAgIC8vIEFwcGFyZW5jZVxuICAgICAgICAgIGltYWdlOiAnaGVyby1pbWFnZScsXG4gICAgICAgICAgbGF5b3V0OiAnaGVyby1sYXlvdXQnLFxuICAgICAgICAgIGltYWdlV2lkdGg6ICdoZXJvLWltYWdlLXdpZHRoJyxcbiAgICAgICAgICBpbWFnZUhlaWdodDogJ2hlcm8taW1hZ2UtaGVpZ2h0JyxcbiAgICAgICAgICBpbWFnZU9iamVjdEZpdDogJ2hlcm8taW1hZ2Utb2JqZWN0LWZpdCcsXG4gICAgICAgICAgaGVpZ2h0OiAnaGVyby1oZWlnaHQnLFxuICAgICAgICAgIGNvbnRlbnRBbGlnbjogJ2hlcm8tY29udGVudC1hbGlnbicsXG4gICAgICAgICAgaG9yaXpvbnRhbEFsaWduOiAnaGVyby1ob3Jpem9udGFsLWFsaWduJyxcbiAgICAgICAgICB0ZXh0QWxpZ246ICdoZXJvLXRleHQtYWxpZ24nLFxuICAgICAgICAgIG92ZXJsYXk6ICdoZXJvLW92ZXJsYXknLFxuICAgICAgICAgIHRpdGxlU2l6ZTogJ2hlcm8tdGl0bGUtc2l6ZScsXG4gICAgICAgICAgLy8gQ2FyZCBzdHlsZVxuICAgICAgICAgIGJnOiAnaGVyby1iZycsXG4gICAgICAgICAgYm9yZGVyUmFkaXVzOiAnaGVyby1ib3JkZXItcmFkaXVzJyxcbiAgICAgICAgICBzaGFkb3c6ICdoZXJvLXNoYWRvdycsXG4gICAgICAgICAgYm9yZGVyOiAnaGVyby1ib3JkZXInLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIHBhcmFncmFwaGU6IHtcbiAgICAgICAgc2VjdGlvbjogJ3BhcmFncmFwaCcsXG4gICAgICAgIGxhYmVsRmllbGQ6ICd0aXRsZScsXG4gICAgICAgIGRlc2NyaXB0aW9uRmllbGQ6ICdjb250ZW50JyxcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgdGl0bGU6ICdwYXJhZ3JhcGgtdGl0bGUnLFxuICAgICAgICAgIGNvbnRlbnQ6ICdwYXJhZ3JhcGgtY29udGVudCcsXG4gICAgICAgICAgLy8gQXBwYXJlbmNlXG4gICAgICAgICAgYWxpZ246ICdwYXJhZ3JhcGgtYWxpZ24nLFxuICAgICAgICAgIHRpdGxlU2l6ZTogJ3BhcmFncmFwaC10aXRsZS1zaXplJyxcbiAgICAgICAgICB0ZXh0U2l6ZTogJ3BhcmFncmFwaC10ZXh0LXNpemUnLFxuICAgICAgICAgIHNwYWNpbmc6ICdwYXJhZ3JhcGgtc3BhY2luZycsXG4gICAgICAgICAgLy8gQ2FyZCBzdHlsZVxuICAgICAgICAgIGJnOiAncGFyYWdyYXBoLWJnJyxcbiAgICAgICAgICBib3JkZXJSYWRpdXM6ICdwYXJhZ3JhcGgtYm9yZGVyLXJhZGl1cycsXG4gICAgICAgICAgc2hhZG93OiAncGFyYWdyYXBoLXNoYWRvdycsXG4gICAgICAgICAgYm9yZGVyOiAncGFyYWdyYXBoLWJvcmRlcicsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgaW1hZ2U6IHtcbiAgICAgICAgc2VjdGlvbjogJ2ltYWdlJyxcbiAgICAgICAgbGFiZWxGaWVsZDogJ2FsdCcsXG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIHNyYzogJ2ltYWdlLXNyYycsXG4gICAgICAgICAgYWx0OiAnaW1hZ2UtYWx0JyxcbiAgICAgICAgICBzaG93Q2FwdGlvbjogJ2ltYWdlLWNhcHRpb24tdG9nZ2xlJyxcbiAgICAgICAgICBjYXB0aW9uOiAnaW1hZ2UtY2FwdGlvbicsXG4gICAgICAgICAgLy8gQXBwYXJlbmNlXG4gICAgICAgICAgcm91bmRlZDogJ2ltYWdlLXJvdW5kZWQnLFxuICAgICAgICAgIHNoYWRvdzogJ2ltYWdlLXNoYWRvdycsXG4gICAgICAgICAgbWF4V2lkdGg6ICdpbWFnZS1tYXgtd2lkdGgnLFxuICAgICAgICAgIGhlaWdodDogJ2ltYWdlLWhlaWdodCcsXG4gICAgICAgICAgb2JqZWN0Rml0OiAnaW1hZ2Utb2JqZWN0LWZpdCcsXG4gICAgICAgICAgYWxpZ246ICdpbWFnZS1hbGlnbicsXG4gICAgICAgICAgLy8gQ2FyZCBzdHlsZVxuICAgICAgICAgIGJnOiAnaW1hZ2UtYmcnLFxuICAgICAgICAgIGJvcmRlclJhZGl1czogJ2ltYWdlLWJvcmRlci1yYWRpdXMnLFxuICAgICAgICAgIGJvcmRlcjogJ2ltYWdlLWJvcmRlcicsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgZ3JvdXBlOiB7XG4gICAgICAgIHNlY3Rpb246ICdncm91cCcsXG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIC8vIEFwcGFyZW5jZVxuICAgICAgICAgIGNvbHVtbnNNb2JpbGU6ICdncm91cC1jb2x1bW5zLW1vYmlsZScsXG4gICAgICAgICAgY29sdW1uc0Rlc2t0b3A6ICdncm91cC1jb2x1bW5zLWRlc2t0b3AnLFxuICAgICAgICAgIGdhcDogJ2dyb3VwLWdhcCcsXG4gICAgICAgICAgaXRlbXNBbGlnbjogJ2dyb3VwLWl0ZW1zLWFsaWduJyxcbiAgICAgICAgICBtb2JpbGVMYXlvdXQ6ICdncm91cC1tb2JpbGUtbGF5b3V0JyxcbiAgICAgICAgICAvLyBDYXJkIHN0eWxlXG4gICAgICAgICAgYmc6ICdncm91cC1iZycsXG4gICAgICAgICAgYm9yZGVyUmFkaXVzOiAnZ3JvdXAtYm9yZGVyLXJhZGl1cycsXG4gICAgICAgICAgc2hhZG93OiAnZ3JvdXAtc2hhZG93JyxcbiAgICAgICAgICBib3JkZXI6ICdncm91cC1ib3JkZXInLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGNvbGxlY3Rpb25ncmlkOiB7XG4gICAgICAgIHNlY3Rpb246ICdjb2xsZWN0aW9uJyxcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgY29sbGVjdGlvbklkOiAnY29sbGVjdGlvbi1ncmlkLWNvbGxlY3Rpb24nLFxuICAgICAgICAgIGxpbWl0OiAnY29sbGVjdGlvbi1ncmlkLWxpbWl0JyxcbiAgICAgICAgICAvLyBBcHBhcmVuY2VcbiAgICAgICAgICBjb2x1bW5zTW9iaWxlOiAnY29sbGVjdGlvbi1jb2x1bW5zLW1vYmlsZScsXG4gICAgICAgICAgY29sdW1uc0Rlc2t0b3A6ICdjb2xsZWN0aW9uLWNvbHVtbnMtZGVza3RvcCcsXG4gICAgICAgICAgZ2FwOiAnY29sbGVjdGlvbi1nYXAnLFxuICAgICAgICAgIGl0ZW1zQWxpZ246ICdjb2xsZWN0aW9uLWl0ZW1zLWFsaWduJyxcbiAgICAgICAgICBjYXJkUm91bmRlZDogJ2NvbGxlY3Rpb24tY2FyZC1yb3VuZGVkJyxcbiAgICAgICAgICBtb2JpbGVMYXlvdXQ6ICdjb2xsZWN0aW9uLW1vYmlsZS1sYXlvdXQnLFxuICAgICAgICAgIC8vIENhcmQgc3R5bGVcbiAgICAgICAgICBiZzogJ2NvbGxlY3Rpb24tYmcnLFxuICAgICAgICAgIGJvcmRlclJhZGl1czogJ2NvbGxlY3Rpb24tYm9yZGVyLXJhZGl1cycsXG4gICAgICAgICAgc2hhZG93OiAnY29sbGVjdGlvbi1zaGFkb3cnLFxuICAgICAgICAgIGJvcmRlcjogJ2NvbGxlY3Rpb24tYm9yZGVyJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBmb3JtOiB7XG4gICAgICAgIHNlY3Rpb246ICdmb3JtJyxcbiAgICAgICAgbGFiZWxGaWVsZDogJ2Zvcm1UaXRsZScsXG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIGZvcm1UaXRsZTogJ2Zvcm0tdGl0bGUnLFxuICAgICAgICAgIGFjdGlvblVybDogJ2Zvcm0tYWN0aW9uLXVybCcsXG4gICAgICAgICAgbWV0aG9kOiAnZm9ybS1tZXRob2QnLFxuICAgICAgICAgIHNlcnZpY2VOYW1lOiAnZm9ybS1zZXJ2aWNlLW5hbWUnLFxuICAgICAgICAgIHN1Ym1pdExhYmVsOiAnZm9ybS1zdWJtaXQtbGFiZWwnLFxuICAgICAgICAgIHN1Y2Nlc3NNZXNzYWdlOiAnZm9ybS1zdWNjZXNzLW1lc3NhZ2UnLFxuICAgICAgICAgIC8vIEFwcGFyZW5jZVxuICAgICAgICAgIG1heFdpZHRoOiAnZm9ybS1tYXgtd2lkdGgnLFxuICAgICAgICAgIGFsaWduOiAnZm9ybS1hbGlnbicsXG4gICAgICAgICAgYnV0dG9uUm91bmRlZDogJ2Zvcm0tYnV0dG9uLXJvdW5kZWQnLFxuICAgICAgICAgIHNwYWNpbmc6ICdmb3JtLXNwYWNpbmcnLFxuICAgICAgICAgIC8vIENhcmQgc3R5bGVcbiAgICAgICAgICBiZzogJ2Zvcm0tYmcnLFxuICAgICAgICAgIGJvcmRlclJhZGl1czogJ2Zvcm0tYm9yZGVyLXJhZGl1cycsXG4gICAgICAgICAgc2hhZG93OiAnZm9ybS1zaGFkb3cnLFxuICAgICAgICAgIGJvcmRlcjogJ2Zvcm0tYm9yZGVyJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBuZXdzbGV0dGVyZW1iZWQ6IHtcbiAgICAgICAgc2VjdGlvbjogJ25ld3NsZXR0ZXInLFxuICAgICAgICBsYWJlbEZpZWxkOiAndGl0bGUnLFxuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICB0aXRsZTogJ25ld3NsZXR0ZXItdGl0bGUnLFxuICAgICAgICAgIHNlcnZpY2VOYW1lOiAnbmV3c2xldHRlci1zZXJ2aWNlLW5hbWUnLFxuICAgICAgICAgIGVtYmVkQ29kZTogJ25ld3NsZXR0ZXItZW1iZWQtY29kZScsXG4gICAgICAgICAgLy8gQXBwYXJlbmNlXG4gICAgICAgICAgbWF4V2lkdGg6ICduZXdzbGV0dGVyLW1heC13aWR0aCcsXG4gICAgICAgICAgYWxpZ246ICduZXdzbGV0dGVyLWFsaWduJyxcbiAgICAgICAgICBwYWRkaW5nOiAnbmV3c2xldHRlci1wYWRkaW5nJyxcbiAgICAgICAgICBiZzogJ25ld3NsZXR0ZXItYmcnLFxuICAgICAgICAgIC8vIENhcmQgc3R5bGVcbiAgICAgICAgICBib3JkZXJSYWRpdXM6ICduZXdzbGV0dGVyLWJvcmRlci1yYWRpdXMnLFxuICAgICAgICAgIHNoYWRvdzogJ25ld3NsZXR0ZXItc2hhZG93JyxcbiAgICAgICAgICBib3JkZXI6ICduZXdzbGV0dGVyLWJvcmRlcicsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH07XG4gICAgY29uc3QgYmxvY2tUeXBlQWxpYXNlcyA9IHtcbiAgICAgIHRleHRlOiAncGFyYWdyYXBoZScsXG4gICAgICBwYXJhZ3JhcGg6ICdwYXJhZ3JhcGhlJyxcbiAgICAgIHBhcmFncmFwaHM6ICdwYXJhZ3JhcGhlJyxcbiAgICAgIHBhcmFncmFwaGVzOiAncGFyYWdyYXBoZScsXG4gICAgICB0ZXh0OiAncGFyYWdyYXBoZScsXG4gICAgICBoZXJvOiAnaGVybycsXG4gICAgICBpbWFnZTogJ2ltYWdlJyxcbiAgICAgIGdyb3VwZTogJ2dyb3VwZScsXG4gICAgICBncm91cDogJ2dyb3VwZScsXG4gICAgICBjb2xsZWN0aW9uOiAnY29sbGVjdGlvbmdyaWQnLFxuICAgICAgY29sbGVjdGlvbmdyaWQ6ICdjb2xsZWN0aW9uZ3JpZCcsXG4gICAgICAnY29sbGVjdGlvbi1ncmlkJzogJ2NvbGxlY3Rpb25ncmlkJyxcbiAgICAgIGZvcm06ICdmb3JtJyxcbiAgICAgIGZvcm11bGFpcmU6ICdmb3JtJyxcbiAgICAgIGNvbnRhY3Q6ICdmb3JtJyxcbiAgICAgIG5ld3NsZXR0ZXJlbWJlZDogJ25ld3NsZXR0ZXJlbWJlZCcsXG4gICAgICBuZXdzbGV0dGVyOiAnbmV3c2xldHRlcmVtYmVkJyxcbiAgICAgIGVtYmVkOiAnbmV3c2xldHRlcmVtYmVkJyxcbiAgICB9O1xuICAgIGNvbnN0IGFuaW1hdGlvbkZpZWxkTWFwID0ge1xuICAgICAgYW5pbWF0aW9uOiAnYW5pbS10eXBlJyxcbiAgICAgIGFuaW1hdGlvbkRlbGF5OiAnYW5pbS1kZWxheScsXG4gICAgICBhbmltYXRpb25EdXJhdGlvbjogJ2FuaW0tZHVyYXRpb24nLFxuICAgIH07XG4gICAgT2JqZWN0LnZhbHVlcyhibG9ja1R5cGVGb3JtcykuZm9yRWFjaCgoY29uZmlnKSA9PiB7XG4gICAgICBjb25maWcuZmllbGRzID0geyAuLi5jb25maWcuZmllbGRzLCAuLi5hbmltYXRpb25GaWVsZE1hcCB9O1xuICAgIH0pO1xuICAgIGNvbnN0IHVwZGF0ZUdyb3VwTWluaVByZXZpZXcgPSAobW9iaWxlVmFsdWUsIGRlc2t0b3BWYWx1ZSkgPT4ge1xuICAgICAgaWYgKCFncm91cFByZXZpZXdNb2JpbGUgfHwgIWdyb3VwUHJldmlld0Rlc2t0b3ApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVuZGVyQm94ZXMgPSAoY291bnQpID0+XG4gICAgICAgIEFycmF5LmZyb20oeyBsZW5ndGg6IE51bWJlcihjb3VudCkgfHwgMSB9KVxuICAgICAgICAgIC5tYXAoKCkgPT4gJzxzcGFuIGNsYXNzPVwiYmxvY2sgaC0yIHctZnVsbCByb3VuZGVkLWZ1bGwgYmctc2xhdGUtMzAwXCI+PC9zcGFuPicpXG4gICAgICAgICAgLmpvaW4oJycpO1xuICAgICAgZ3JvdXBQcmV2aWV3TW9iaWxlLmlubmVySFRNTCA9IHJlbmRlckJveGVzKG1vYmlsZVZhbHVlKTtcbiAgICAgIGdyb3VwUHJldmlld0Rlc2t0b3AuaW5uZXJIVE1MID0gcmVuZGVyQm94ZXMoZGVza3RvcFZhbHVlKTtcbiAgICB9O1xuICAgIGNvbnN0IHVwZGF0ZUNvbGxlY3Rpb25NaW5pUHJldmlldyA9IChtb2JpbGVWYWx1ZSwgZGVza3RvcFZhbHVlKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25QcmV2aWV3TW9iaWxlIHx8ICFjb2xsZWN0aW9uUHJldmlld0Rlc2t0b3ApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVuZGVyQm94ZXMgPSAoY291bnQpID0+XG4gICAgICAgIEFycmF5LmZyb20oeyBsZW5ndGg6IE51bWJlcihjb3VudCkgfHwgMSB9KVxuICAgICAgICAgIC5tYXAoKCkgPT4gJzxzcGFuIGNsYXNzPVwiYmxvY2sgaC0yIHctZnVsbCByb3VuZGVkLWZ1bGwgYmctdmlvbGV0LTMwMFwiPjwvc3Bhbj4nKVxuICAgICAgICAgIC5qb2luKCcnKTtcbiAgICAgIGNvbGxlY3Rpb25QcmV2aWV3TW9iaWxlLmlubmVySFRNTCA9IHJlbmRlckJveGVzKG1vYmlsZVZhbHVlKTtcbiAgICAgIGNvbGxlY3Rpb25QcmV2aWV3RGVza3RvcC5pbm5lckhUTUwgPSByZW5kZXJCb3hlcyhkZXNrdG9wVmFsdWUpO1xuICAgIH07XG4gICAgY29uc3QgZmV0Y2hQYWdlc0Zyb21TZXJ2ZXIgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXBhZ2VzQXBpQmFzZSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHBhZ2VzQXBpQmFzZSwgeyBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxlcyBwYWdlcy4nKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gW10pO1xuICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkocGF5bG9hZCkgPyBwYXlsb2FkIDogW107XG4gICAgfTtcbiAgICBjb25zdCBjcmVhdGVQYWdlT25TZXJ2ZXIgPSBhc3luYyAoeyBuYW1lLCB0aXRsZSwgc2x1ZyB9KSA9PiB7XG4gICAgICBpZiAoIXBhZ2VzQXBpQmFzZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NpdGUgaW5jb25udS4nKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2gocGFnZXNBcGlCYXNlLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBuYW1lLCB0aXRsZSwgc2x1ZyB9KSxcbiAgICAgIH0pO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IocGF5bG9hZC5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIGNyXHUwMEU5ZXIgbGEgcGFnZS4nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgfTtcbiAgICBjb25zdCBzYXZlUGFnZVRvU2VydmVyID0gYXN5bmMgKHBhZ2UpID0+IHtcbiAgICAgIGlmICghcGFnZXNBcGlCYXNlIHx8ICFwYWdlPy5pZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke3BhZ2VzQXBpQmFzZX0vJHtlbmNvZGVVUklDb21wb25lbnQocGFnZS5pZCl9YCwge1xuICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBhZ2UpLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHBheWxvYWQubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBzYXV2ZWdhcmRlciBsYSBwYWdlLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNhdmVkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICBpZiAoc2F2ZWQ/LmlkKSB7XG4gICAgICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZVBhZ2VEYXRhKHNhdmVkKTtcbiAgICAgICAgICBwYWdlcyA9IHBhZ2VzLm1hcCgoZW50cnkpID0+IChlbnRyeS5pZCA9PT0gbm9ybWFsaXplZC5pZCA/IG5vcm1hbGl6ZWQgOiBlbnRyeSkpO1xuICAgICAgICAgIGlmIChjdXJyZW50UGFnZT8uaWQgPT09IG5vcm1hbGl6ZWQuaWQpIHtcbiAgICAgICAgICAgIGN1cnJlbnRQYWdlID0gbm9ybWFsaXplZDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNhdmVkO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkZXNpZ25dIFNhdmUgcGFnZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UgfHwgJ1NhdXZlZ2FyZGUgaW1wb3NzaWJsZS4nKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGxvYWRQYWdlc0Zyb21TZXJ2ZXIgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXBhZ2VzQXBpQmFzZSkge1xuICAgICAgICBwYWdlcyA9IFtdO1xuICAgICAgICBhY3RpdmVQYWdlSWQgPSBudWxsO1xuICAgICAgICBjdXJyZW50UGFnZSA9IG51bGw7XG4gICAgICAgIHJlbmRlclBhZ2VMaXN0cyhwYWdlcywgYWN0aXZlUGFnZUlkKTtcbiAgICAgICAgcmVuZGVyQmxvY2tMaXN0KG51bGwpO1xuICAgICAgICBibG9ja0RldGFpbEVtcHR5Py5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgYmxvY2tFZGl0b3I/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBsb2FkZWRQYWdlcyA9IGF3YWl0IGZldGNoUGFnZXNGcm9tU2VydmVyKCk7XG4gICAgICAgIHBhZ2VzID0gKEFycmF5LmlzQXJyYXkobG9hZGVkUGFnZXMpID8gbG9hZGVkUGFnZXMgOiBbXSkubWFwKChwYWdlKSA9PlxuICAgICAgICAgIG5vcm1hbGl6ZVBhZ2VEYXRhKHBhZ2UpLFxuICAgICAgICApO1xuICAgICAgICBpZiAocGFnZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgYWN0aXZlUGFnZUlkID0gbnVsbDtcbiAgICAgICAgICBjdXJyZW50UGFnZSA9IG51bGw7XG4gICAgICAgICAgcmVuZGVyUGFnZUxpc3RzKHBhZ2VzLCBhY3RpdmVQYWdlSWQpO1xuICAgICAgICAgIHJlbmRlckJsb2NrTGlzdChudWxsKTtcbiAgICAgICAgICBibG9ja0RldGFpbEVtcHR5Py5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICBibG9ja0VkaXRvcj8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgICAgcHJldmlld0ZyYW1lICYmIChwcmV2aWV3RnJhbWUuc3JjZG9jID0gZ2V0TG9hZGluZ1ByZXZpZXdIdG1sKCkpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBhY3RpdmVQYWdlSWQgPSBnZXRTdG9yZWRBY3RpdmVQYWdlKHBhZ2VzKTtcbiAgICAgICAgc2V0QWN0aXZlUGFnZShhY3RpdmVQYWdlSWQpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkZXNpZ25dIEltcG9zc2libGUgZGUgY2hhcmdlciBsZXMgcGFnZXMnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoJ0ltcG9zc2libGUgZGUgY2hhcmdlciBsZXMgcGFnZXMuJyk7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBub3JtYWxpemVUeXBlID0gKHZhbHVlKSA9PlxuICAgICAgKHZhbHVlIHx8ICcnKS5ub3JtYWxpemUoJ05GRCcpLnJlcGxhY2UoL1tcXHUwMzAwLVxcdTAzNmZdL2csICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgIGNvbnN0IGdldEJsb2NrRm9ybUNvbmZpZyA9IChibG9jaykgPT4ge1xuICAgICAgaWYgKCFibG9jaykge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHR5cGVLZXkgPSBub3JtYWxpemVUeXBlKGJsb2NrLnR5cGUpO1xuICAgICAgY29uc3QgYWxpYXMgPSBibG9ja1R5cGVBbGlhc2VzW3R5cGVLZXldIHx8IHR5cGVLZXk7XG4gICAgICByZXR1cm4gYmxvY2tUeXBlRm9ybXNbYWxpYXNdIHx8IG51bGw7XG4gICAgfTtcbiAgICBjb25zdCBwb3B1bGF0ZUJsb2NrRm9ybSA9IChibG9jaykgPT4ge1xuICAgICAgaWYgKCFibG9ja0Zvcm0gfHwgIWJsb2NrRWRpdG9yKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChibG9jayAmJiAhYmxvY2suc2V0dGluZ3MpIHtcbiAgICAgICAgYmxvY2suc2V0dGluZ3MgPSB7fTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNvbmZpZyA9IGdldEJsb2NrRm9ybUNvbmZpZyhibG9jayk7XG4gICAgICBjb25zdCBzZWN0aW9uUm9vdCA9IGdldEJsb2NrRWRpdG9yU2VjdGlvbkVsZW1lbnQoY29uZmlnKSB8fCBibG9ja0Zvcm07XG4gICAgICBpZiAoYmxvY2tFZGl0b3JUaXRsZSkge1xuICAgICAgICBibG9ja0VkaXRvclRpdGxlLnRleHRDb250ZW50ID0gYmxvY2s/LmxhYmVsIHx8ICdCbG9jJztcbiAgICAgIH1cbiAgICAgIGlmIChibG9ja0VkaXRvclR5cGUpIHtcbiAgICAgICAgYmxvY2tFZGl0b3JUeXBlLnRleHRDb250ZW50ID0gYmxvY2s/LnR5cGUgfHwgJ0Jsb2MnO1xuICAgICAgfVxuICAgICAgaWYgKCFjb25maWcpIHtcbiAgICAgICAgYmxvY2tGb3JtLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBibG9ja0VkaXRvclVuc3VwcG9ydGVkPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgYmxvY2tGb3JtLmRhdGFzZXQuYmxvY2tJZCA9ICcnO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBibG9ja0VkaXRvclVuc3VwcG9ydGVkPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGJsb2NrRm9ybS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGJsb2NrRm9ybS5yZXNldCgpO1xuICAgICAgYmxvY2tGb3JtLmRhdGFzZXQuYmxvY2tJZCA9IGJsb2NrLmlkO1xuICAgICAgYmxvY2tGb3JtU2VjdGlvbnMuZm9yRWFjaCgoc2VjdGlvbikgPT4ge1xuICAgICAgICBjb25zdCBzZWN0aW9uSWQgPSBzZWN0aW9uLmRhdGFzZXQuZWRpdG9yU2VjdGlvbjtcbiAgICAgICAgaWYgKHNlY3Rpb25JZCA9PT0gY29uZmlnLnNlY3Rpb24pIHtcbiAgICAgICAgICBzZWN0aW9uLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlY3Rpb24uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgLy8gUlx1MDBFOWluaXRpYWxpc2VyIHN1ciBsJ29uZ2xldCBDb250ZW51XG4gICAgICBzd2l0Y2hCbG9ja1RhYignY29udGVudCcpO1xuICAgICAgaWYgKGNvbmZpZy5zZWN0aW9uID09PSAnY29sbGVjdGlvbicpIHtcbiAgICAgICAgY29uc3QgZGVzaXJlZFZhbHVlID0gYmxvY2suY29sbGVjdGlvbklkIHx8IGJsb2NrLnNldHRpbmdzPy5jb2xsZWN0aW9uSWQgfHwgJyc7XG4gICAgICAgIHVwZGF0ZUNvbGxlY3Rpb25TZWxlY3RPcHRpb25zKGRlc2lyZWRWYWx1ZSk7XG4gICAgICB9XG4gICAgICBPYmplY3QuZW50cmllcyhjb25maWcuZmllbGRzKS5mb3JFYWNoKChbc2V0dGluZ0tleSwgZmllbGROYW1lXSkgPT4ge1xuICAgICAgICBjb25zdCBpbnB1dCA9IHNlY3Rpb25Sb290LnF1ZXJ5U2VsZWN0b3IoYFtuYW1lPVwiJHtmaWVsZE5hbWV9XCJdYCk7XG4gICAgICAgIGlmICghaW5wdXQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdmFsdWUgPSBibG9jay5zZXR0aW5ncz8uW3NldHRpbmdLZXldO1xuICAgICAgICBpZiAoaW5wdXQudHlwZSA9PT0gJ2NoZWNrYm94Jykge1xuICAgICAgICAgIGlucHV0LmNoZWNrZWQgPSBCb29sZWFuKHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIGlmIChpbnB1dC50eXBlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIGNvbnN0IGZhbGxiYWNrID0gaW5wdXQuZGF0YXNldC5kZWZhdWx0ID8/IGlucHV0LmRlZmF1bHRWYWx1ZSA/PyAnJztcbiAgICAgICAgICBpbnB1dC52YWx1ZSA9IHZhbHVlID8/IGZhbGxiYWNrO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0LnRhZ05hbWUgPT09ICdURVhUQVJFQScpIHtcbiAgICAgICAgICBpbnB1dC52YWx1ZSA9IHZhbHVlID8/ICcnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlucHV0LnZhbHVlID0gdmFsdWUgPz8gJyc7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKGNvbmZpZy5zZWN0aW9uID09PSAnZ3JvdXAnKSB7XG4gICAgICAgIGNvbnN0IG1vYmlsZVZhbHVlID1cbiAgICAgICAgICBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJncm91cC1jb2x1bW5zLW1vYmlsZVwiXScpPy52YWx1ZSB8fCAnMSc7XG4gICAgICAgIGNvbnN0IGRlc2t0b3BWYWx1ZSA9XG4gICAgICAgICAgYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZ3JvdXAtY29sdW1ucy1kZXNrdG9wXCJdJyk/LnZhbHVlIHx8ICczJztcbiAgICAgICAgdXBkYXRlR3JvdXBNaW5pUHJldmlldyhtb2JpbGVWYWx1ZSwgZGVza3RvcFZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGlmIChjb25maWcuc2VjdGlvbiA9PT0gJ2NvbGxlY3Rpb24nKSB7XG4gICAgICAgIGNvbnN0IG1vYmlsZVZhbHVlID1cbiAgICAgICAgICBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJjb2xsZWN0aW9uLWNvbHVtbnMtbW9iaWxlXCJdJyk/LnZhbHVlIHx8ICcxJztcbiAgICAgICAgY29uc3QgZGVza3RvcFZhbHVlID1cbiAgICAgICAgICBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJjb2xsZWN0aW9uLWNvbHVtbnMtZGVza3RvcFwiXScpPy52YWx1ZSB8fCAnMyc7XG4gICAgICAgIHVwZGF0ZUNvbGxlY3Rpb25NaW5pUHJldmlldyhtb2JpbGVWYWx1ZSwgZGVza3RvcFZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGJnRmllbGROYW1lID0gY29uZmlnLmZpZWxkcz8uYmc7XG4gICAgICBpZiAoYmdGaWVsZE5hbWUpIHtcbiAgICAgICAgY29uc3QgYmdTZWxlY3QgPSBzZWN0aW9uUm9vdC5xdWVyeVNlbGVjdG9yKGBbbmFtZT1cIiR7YmdGaWVsZE5hbWV9XCJdYCk7XG4gICAgICAgIGVuc3VyZUN1c3RvbVRoZW1lT3B0aW9uKGJnU2VsZWN0LCBibG9jay5zZXR0aW5ncz8uYmcpO1xuICAgICAgfVxuICAgICAgYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWNvbG9yLXNlbGVjdF0nKS5mb3JFYWNoKHVwZGF0ZUNvbG9yU2VsZWN0UHJldmlldyk7XG4gICAgfTtcbiAgICBjb25zdCBjb2xsZWN0Rm9ybVZhbHVlcyA9IChjb25maWcpID0+IHtcbiAgICAgIGlmICghYmxvY2tGb3JtIHx8ICFjb25maWcpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgfVxuICAgICAgY29uc3Qgc2VjdGlvblJvb3QgPSBnZXRCbG9ja0VkaXRvclNlY3Rpb25FbGVtZW50KGNvbmZpZykgfHwgYmxvY2tGb3JtO1xuICAgICAgY29uc3QgdmFsdWVzID0ge307XG4gICAgICBPYmplY3QuZW50cmllcyhjb25maWcuZmllbGRzKS5mb3JFYWNoKChbc2V0dGluZ0tleSwgZmllbGROYW1lXSkgPT4ge1xuICAgICAgICBjb25zdCBpbnB1dCA9IHNlY3Rpb25Sb290LnF1ZXJ5U2VsZWN0b3IoYFtuYW1lPVwiJHtmaWVsZE5hbWV9XCJdYCk7XG4gICAgICAgIGlmICghaW5wdXQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlucHV0LnR5cGUgPT09ICdjaGVja2JveCcpIHtcbiAgICAgICAgICB2YWx1ZXNbc2V0dGluZ0tleV0gPSBpbnB1dC5jaGVja2VkO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0LnR5cGUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgY29uc3QgcGFyc2VkID0gTnVtYmVyKGlucHV0LnZhbHVlKTtcbiAgICAgICAgICB2YWx1ZXNbc2V0dGluZ0tleV0gPSBOdW1iZXIuaXNGaW5pdGUocGFyc2VkKSA/IHBhcnNlZCA6IDA7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5wdXQudGFnTmFtZSA9PT0gJ1NFTEVDVCcpIHtcbiAgICAgICAgICBjb25zdCBmYWxsYmFjayA9IGlucHV0LmRhdGFzZXQuZGVmYXVsdCA/PyBpbnB1dC52YWx1ZSA/PyAnJztcbiAgICAgICAgICB2YWx1ZXNbc2V0dGluZ0tleV0gPSBpbnB1dC52YWx1ZSB8fCBmYWxsYmFjaztcbiAgICAgICAgfSBlbHNlIGlmIChpbnB1dC50YWdOYW1lID09PSAnVEVYVEFSRUEnKSB7XG4gICAgICAgICAgdmFsdWVzW3NldHRpbmdLZXldID0gaW5wdXQudmFsdWUgfHwgJyc7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5wdXQudHlwZSA9PT0gJ3NlbGVjdC1vbmUnKSB7XG4gICAgICAgICAgdmFsdWVzW3NldHRpbmdLZXldID0gaW5wdXQudmFsdWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFsdWVzW3NldHRpbmdLZXldID0gaW5wdXQudmFsdWUgfHwgJyc7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHZhbHVlcztcbiAgICB9O1xuICAgIGNvbnN0IHVwZGF0ZVByZXZpZXdTdGF0dXMgPSAodGV4dCkgPT4ge1xuICAgICAgaWYgKCFwcmV2aWV3U3RhdHVzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghdGV4dCkge1xuICAgICAgICBwcmV2aWV3U3RhdHVzLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwcmV2aWV3U3RhdHVzLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgcHJldmlld1N0YXR1cy50ZXh0Q29udGVudCA9IHRleHQ7XG4gICAgfTtcbiAgICBjb25zdCBzZXJpYWxpemVQYWdlRm9yUHJldmlldyA9IChwYWdlKSA9PiB7XG4gICAgICBpZiAoIXBhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEZvbmN0aW9uIHBvdXIgc1x1MDBFOXJpYWxpc2VyIHVuIGJsb2MgKHV0aWxpc1x1MDBFOSBwb3VyIGxlcyBibG9jcyBldCBsZXVycyBlbmZhbnRzKVxuICAgICAgY29uc3Qgc2VyaWFsaXplQmxvY2sgPSAoYmxvY2spID0+ICh7XG4gICAgICAgIGlkOiBibG9jay5pZCxcbiAgICAgICAgdHlwZTogYmxvY2sudHlwZSxcbiAgICAgICAgbGFiZWw6IGJsb2NrLmxhYmVsLFxuICAgICAgICBzdGF0dXM6IGJsb2NrLnN0YXR1cyxcbiAgICAgICAgZGVzY3JpcHRpb246IGJsb2NrLmRlc2NyaXB0aW9uLFxuICAgICAgICBwcm9wczogYmxvY2sucHJvcHMgfHwgW10sXG4gICAgICAgIHNldHRpbmdzOiBibG9jay5zZXR0aW5ncyB8fCB7fSxcbiAgICAgICAgY29sbGVjdGlvbklkOiBibG9jay5jb2xsZWN0aW9uSWQgfHwgYmxvY2suc2V0dGluZ3M/LmNvbGxlY3Rpb25JZCB8fCAnJyxcbiAgICAgICAgY2hpbGRyZW46IChibG9jay5jaGlsZHJlbiB8fCBbXSkubWFwKHNlcmlhbGl6ZUJsb2NrKSxcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICByZXR1cm4ge1xuICAgICAgICBpZDogcGFnZS5pZCxcbiAgICAgICAgbmFtZTogcGFnZS5uYW1lLFxuICAgICAgICB0aXRsZTogcGFnZS50aXRsZSxcbiAgICAgICAgc2x1ZzogcGFnZS5zbHVnLFxuICAgICAgICBkZXNjcmlwdGlvbjogcGFnZS5kZXNjcmlwdGlvbiB8fCAnJyxcbiAgICAgICAgYmFkZ2VzOiBbLi4uKHBhZ2UuYmFkZ2VzIHx8IFtdKV0sXG4gICAgICAgIHNlbzogcGFnZS5zZW8gfHwge30sXG4gICAgICAgIGFjY2Vzc2liaWxpdHk6IHBhZ2UuYWNjZXNzaWJpbGl0eSB8fCB7fSxcbiAgICAgICAgYmxvY2tzOiAocGFnZS5ibG9ja3MgfHwgW10pLm1hcChzZXJpYWxpemVCbG9jayksXG4gICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgZ2V0TG9hZGluZ1ByZXZpZXdIdG1sID0gKCkgPT5cbiAgICAgICc8IURPQ1RZUEUgaHRtbD48aHRtbD48Ym9keSBzdHlsZT1cImZvbnQtZmFtaWx5OkludGVyLHNhbnMtc2VyaWY7cGFkZGluZzo0MHB4O2NvbG9yOiM0NzU1Njk7YmFja2dyb3VuZDojZmZmO1wiPlByXHUwMEU5cGFyYXRpb24gZGUgbGEgcHJcdTAwRTl2aXN1YWxpc2F0aW9uXHUyMDI2PC9ib2R5PjwvaHRtbD4nO1xuXG4gICAgLy8gRGVib3VuY2UgdXRpbGl0eVxuICAgIGNvbnN0IGRlYm91bmNlID0gKGZuLCBkZWxheSkgPT4ge1xuICAgICAgbGV0IHRpbWVvdXRJZDtcbiAgICAgIHJldHVybiAoLi4uYXJncykgPT4ge1xuICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcbiAgICAgICAgdGltZW91dElkID0gc2V0VGltZW91dCgoKSA9PiBmbiguLi5hcmdzKSwgZGVsYXkpO1xuICAgICAgfTtcbiAgICB9O1xuXG4gICAgLy8gQXV0by1zYXZlIHBvdXIgbCdhcHBhcmVuY2UgKGltbVx1MDBFOWRpYXQgcG91ciBcdTAwRTl2aXRlciBsZXMgcGVydGVzKVxuICAgIGNvbnN0IGF1dG9TYXZlQXBwZWFyYW5jZSA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghY3VycmVudFBhZ2UgfHwgIWFjdGl2ZUJsb2NrSWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgYmxvY2sgPSBnZXRBY3RpdmVCbG9jaygpO1xuICAgICAgY29uc3QgY29uZmlnID0gZ2V0QmxvY2tGb3JtQ29uZmlnKGJsb2NrKTtcbiAgICAgIGlmICghYmxvY2sgfHwgIWNvbmZpZykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCB2YWx1ZXMgPSBjb2xsZWN0Rm9ybVZhbHVlcyhjb25maWcpO1xuICAgICAgY29uc3QgeyBibG9ja3M6IHVwZGF0ZWRCbG9ja3MsIGRpZFVwZGF0ZSwgZm91bmRQYXJlbnRJZCB9ID0gdXBkYXRlQmxvY2tzRGVlcChcbiAgICAgICAgY3VycmVudFBhZ2UuYmxvY2tzIHx8IFtdLFxuICAgICAgICBibG9jay5pZCxcbiAgICAgICAgKGVudHJ5KSA9PiB7XG4gICAgICAgICAgY29uc3QgdXBkYXRlZFNldHRpbmdzID0geyAuLi4oZW50cnkuc2V0dGluZ3MgfHwge30pLCAuLi52YWx1ZXMgfTtcbiAgICAgICAgICByZXR1cm4geyAuLi5lbnRyeSwgc2V0dGluZ3M6IHVwZGF0ZWRTZXR0aW5ncyB9O1xuICAgICAgICB9LFxuICAgICAgICBhY3RpdmVCbG9ja1BhcmVudElkLFxuICAgICAgKTtcbiAgICAgIGlmICghZGlkVXBkYXRlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGFjdGl2ZUJsb2NrUGFyZW50SWQgPSBmb3VuZFBhcmVudElkO1xuICAgICAgLy8gTWlzZSBcdTAwRTAgam91ciBzaWxlbmNpZXVzZSAoc2FucyB0b2FzdCBuaSByZWZyZXNoIGNvbXBsZXQpXG4gICAgICBjb25zdCBuZXh0UGFnZSA9IHsgLi4uY3VycmVudFBhZ2UsIGJsb2NrczogdXBkYXRlZEJsb2NrcyB9O1xuICAgICAgY3VycmVudFBhZ2UgPSBuZXh0UGFnZTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHNhdmVkID0gYXdhaXQgc2F2ZVBhZ2VUb1NlcnZlcihuZXh0UGFnZSk7XG4gICAgICAgIGlmIChzYXZlZD8uaWQpIHtcbiAgICAgICAgICBjb25zdCBub3JtYWxpemVkID0gbm9ybWFsaXplUGFnZURhdGEoc2F2ZWQpO1xuICAgICAgICAgIGN1cnJlbnRQYWdlID0gbm9ybWFsaXplZDtcbiAgICAgICAgICBwYWdlcyA9IHBhZ2VzLm1hcCgocCkgPT4gKHAuaWQgPT09IG5vcm1hbGl6ZWQuaWQgPyBub3JtYWxpemVkIDogcCkpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdbZGVzaWduXSBhdXRvLXNhdmUgYXBwZWFyYW5jZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBNaXNlIFx1MDBFMCBqb3VyIGxpdmUgZGUgbGEgcHJldmlldyB2aWEgcG9zdE1lc3NhZ2UgKHNhbnMgcmVjaGFyZ2VyIGwnaWZyYW1lKVxuICAgIGNvbnN0IHVwZGF0ZVByZXZpZXdCbG9ja0xpdmUgPSAoYmxvY2tJZCwgc2V0dGluZ3MpID0+IHtcbiAgICAgIGlmICghcHJldmlld0ZyYW1lIHx8ICFwcmV2aWV3RnJhbWUuY29udGVudFdpbmRvdykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBFbnZvaWUgbGVzIG5vdXZlbGxlcyBjbGFzc2VzIGF1IGJsb2MgZGFucyBsJ2lmcmFtZVxuICAgICAgcHJldmlld0ZyYW1lLmNvbnRlbnRXaW5kb3cucG9zdE1lc3NhZ2Uoe1xuICAgICAgICB0eXBlOiAndXBkYXRlQmxvY2tTdHlsZXMnLFxuICAgICAgICBibG9ja0lkLFxuICAgICAgICBzZXR0aW5ncyxcbiAgICAgIH0sICcqJyk7XG4gICAgfTtcblxuICAgIC8vIFJlZnJlc2ggcHJldmlldyBjb21wbGV0IGRlYm91bmNlZCAocG91ciBsZXMgY2hhbmdlbWVudHMgY29tcGxleGVzKVxuICAgIGNvbnN0IGRlYm91bmNlZFJlZnJlc2hQcmV2aWV3ID0gZGVib3VuY2UoKCkgPT4ge1xuICAgICAgaWYgKGN1cnJlbnRQYWdlKSB7XG4gICAgICAgIHJlZnJlc2hQcmV2aWV3KGN1cnJlbnRQYWdlKTtcbiAgICAgIH1cbiAgICB9LCAxNTAwKTtcblxuICAgIC8vIE1pc2UgXHUwMEUwIGpvdXIgbGl2ZSBpbW1cdTAwRTlkaWF0ZSAocG91ciBsYSBwcmV2aWV3KVxuICAgIGNvbnN0IGhhbmRsZUFwcGVhcmFuY2VDaGFuZ2UgPSAoYmxvY2tJZCwgc2V0dGluZ3MpID0+IHtcbiAgICAgIHVwZGF0ZVByZXZpZXdCbG9ja0xpdmUoYmxvY2tJZCwgc2V0dGluZ3MpO1xuICAgICAgdXBkYXRlUHJldmlld1N0YXR1cygnTW9kaWZpY2F0aW9uXHUyMDI2Jyk7XG4gICAgICBhdXRvU2F2ZUFwcGVhcmFuY2UoKVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgdXBkYXRlUHJldmlld1N0YXR1cygnU2F1dmVnYXJkXHUwMEU5Jyk7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB1cGRhdGVQcmV2aWV3U3RhdHVzKCdcdTAwQzAgam91cicpLCAxNTAwKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKCgpID0+IHVwZGF0ZVByZXZpZXdTdGF0dXMoJ0VycmV1ciBkZSBzYXV2ZWdhcmRlJykpO1xuICAgICAgLy8gUmVmcmVzaCBjb21wbGV0IGFwclx1MDBFOHMgdW4gZFx1MDBFOWxhaSBwbHVzIGxvbmcgKHBvdXIgbGVzIGNoYW5nZW1lbnRzIGRlIGxheW91dCwgZXRjLilcbiAgICAgIGRlYm91bmNlZFJlZnJlc2hQcmV2aWV3KCk7XG4gICAgfTtcblxuICAgIGNvbnN0IHJlZnJlc2hQcmV2aWV3ID0gKHBhZ2UpID0+IHtcbiAgICAgIGlmICghcHJldmlld0ZyYW1lIHx8ICFwYWdlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHByZXZpZXdTaXRlU2x1ZyA9IHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJyc7XG4gICAgICBjb25zdCBzZXJpYWxpemVkUGFnZXMgPSBwYWdlcy5tYXAoKGVudHJ5KSA9PiAoe1xuICAgICAgICBpZDogZW50cnkuaWQsXG4gICAgICAgIHNsdWc6IGVudHJ5LnNsdWcsXG4gICAgICAgIHRpdGxlOiBlbnRyeS50aXRsZSxcbiAgICAgICAgbmFtZTogZW50cnkubmFtZSxcbiAgICAgICAgYWNjZXNzaWJpbGl0eTogZW50cnkuYWNjZXNzaWJpbGl0eSxcbiAgICAgIH0pKTtcbiAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgIHBhZ2U6IHNlcmlhbGl6ZVBhZ2VGb3JQcmV2aWV3KHBhZ2UpLFxuICAgICAgICBzaXRlOiB7XG4gICAgICAgICAgdGl0bGU6IHN0b3JlZFNpdGUubmFtZSB8fCAnU2l0ZScsXG4gICAgICAgICAgc2x1ZzogcHJldmlld1NpdGVTbHVnLFxuICAgICAgICAgIHBhZ2VzOiBzZXJpYWxpemVkUGFnZXMsXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgICAgcHJldmlld1JlYWR5ID0gZmFsc2U7XG4gICAgICB1cGRhdGVQcmV2aWV3U3RhdHVzKCdBY3R1YWxpc2F0aW9uXHUyMDI2Jyk7XG4gICAgICBwcmV2aWV3RnJhbWUuc3JjZG9jID0gZ2V0TG9hZGluZ1ByZXZpZXdIdG1sKCk7XG4gICAgICBpZiAocHJldmlld1JlcXVlc3RDb250cm9sbGVyKSB7XG4gICAgICAgIHByZXZpZXdSZXF1ZXN0Q29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgfVxuICAgICAgY29uc3QgY29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICAgIHByZXZpZXdSZXF1ZXN0Q29udHJvbGxlciA9IGNvbnRyb2xsZXI7XG4gICAgICBmZXRjaCgnL2FwaS9wcmV2aWV3Jywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICBzaWduYWw6IGNvbnRyb2xsZXIuc2lnbmFsLFxuICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQcmV2aWV3IGVycm9yJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgICAgaWYgKGNvbnRyb2xsZXIuc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgbGF0ZXN0UHJldmlld0h0bWwgPSBkYXRhLmh0bWwgfHwgJyc7XG4gICAgICAgICAgcHJldmlld0ZyYW1lLnNldEF0dHJpYnV0ZShcbiAgICAgICAgICAgICd0aXRsZScsXG4gICAgICAgICAgICBgUHJcdTAwRTl2aXN1YWxpc2F0aW9uIGRlIGxhIHBhZ2UgJHtwYWdlLnRpdGxlIHx8ICcnfWAudHJpbSgpLFxuICAgICAgICAgICk7XG4gICAgICAgICAgcHJldmlld0ZyYW1lLnNyY2RvYyA9IGxhdGVzdFByZXZpZXdIdG1sIHx8IGdldExvYWRpbmdQcmV2aWV3SHRtbCgpO1xuICAgICAgICAgIHVwZGF0ZVByZXZpZXdTdGF0dXMoJ1x1MDBDMCBqb3VyJyk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICBpZiAoY29udHJvbGxlci5zaWduYWwuYWJvcnRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbcHJldmlld10gSW1wb3NzaWJsZSBkZSByZW5kcmUgbGEgcGFnZScsIGVycm9yKTtcbiAgICAgICAgICB1cGRhdGVQcmV2aWV3U3RhdHVzKCdFcnJldXIgcHJldmlldycpO1xuICAgICAgICAgIHByZXZpZXdGcmFtZS5zcmNkb2MgPVxuICAgICAgICAgICAgJzwhRE9DVFlQRSBodG1sPjxodG1sPjxib2R5IHN0eWxlPVwiZm9udC1mYW1pbHk6SW50ZXIsc2Fucy1zZXJpZjtwYWRkaW5nOjQwcHg7Y29sb3I6I2JlMTIzYztiYWNrZ3JvdW5kOiNmZmY7XCI+RXJyZXVyIGxvcnMgZHUgcmVuZHUgZGUgbGEgcHJcdTAwRTl2aXN1YWxpc2F0aW9uLjwvYm9keT48L2h0bWw+JztcbiAgICAgICAgfSlcbiAgICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICAgIGlmIChwcmV2aWV3UmVxdWVzdENvbnRyb2xsZXIgPT09IGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgIHByZXZpZXdSZXF1ZXN0Q29udHJvbGxlciA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZUJsb2NrRm9ybVN1Ym1pdCA9IChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmICghY3VycmVudFBhZ2UgfHwgIWFjdGl2ZUJsb2NrSWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgYmxvY2sgPSBnZXRBY3RpdmVCbG9jaygpO1xuICAgICAgY29uc3QgY29uZmlnID0gZ2V0QmxvY2tGb3JtQ29uZmlnKGJsb2NrKTtcbiAgICAgIGlmICghYmxvY2sgfHwgIWNvbmZpZykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCB2YWx1ZXMgPSBjb2xsZWN0Rm9ybVZhbHVlcyhjb25maWcpO1xuICAgICAgaWYgKGNvbmZpZy5zZWN0aW9uID09PSAnaW1hZ2UnKSB7XG4gICAgICAgIGNvbnN0IGFsdFZhbHVlID0gKHZhbHVlcy5hbHQgfHwgJycpLnRyaW0oKTtcbiAgICAgICAgdmFsdWVzLmFsdCA9IGFsdFZhbHVlO1xuICAgICAgICBpZiAoIWFsdFZhbHVlKSB7XG4gICAgICAgICAgc2hvd1RvYXN0KCdBam91dGUgdW4gdGV4dGUgYWx0ZXJuYXRpZiBwb3VyIGNldHRlIGltYWdlLicsICdlcnJvcicpO1xuICAgICAgICAgIGJsb2NrRm9ybT8ucXVlcnlTZWxlY3RvcignW25hbWU9XCJpbWFnZS1hbHRcIl0nKT8uZm9jdXMoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChjb25maWcuc2VjdGlvbiA9PT0gJ2NvbGxlY3Rpb24nKSB7XG4gICAgICAgIGlmICghdmFsdWVzLmNvbGxlY3Rpb25JZCkge1xuICAgICAgICAgIHNob3dUb2FzdCgnU1x1MDBFOWxlY3Rpb25uZXogdW5lIGNvbGxlY3Rpb24uJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhbHVlcy5saW1pdCA9IE1hdGgubWF4KDEsIE51bWJlcih2YWx1ZXMubGltaXQpIHx8IDEpO1xuICAgICAgfVxuICAgICAgY29uc3QgeyBibG9ja3M6IHVwZGF0ZWRCbG9ja3MsIGRpZFVwZGF0ZSwgZm91bmRQYXJlbnRJZCB9ID0gdXBkYXRlQmxvY2tzRGVlcChcbiAgICAgICAgY3VycmVudFBhZ2UuYmxvY2tzIHx8IFtdLFxuICAgICAgICBibG9jay5pZCxcbiAgICAgICAgKGVudHJ5KSA9PiB7XG4gICAgICAgICAgY29uc3QgdXBkYXRlZFNldHRpbmdzID0geyAuLi4oZW50cnkuc2V0dGluZ3MgfHwge30pLCAuLi52YWx1ZXMgfTtcbiAgICAgICAgICBjb25zdCB1cGRhdGVkQmxvY2sgPSB7XG4gICAgICAgICAgICAuLi5lbnRyeSxcbiAgICAgICAgICAgIHNldHRpbmdzOiB1cGRhdGVkU2V0dGluZ3MsXG4gICAgICAgICAgfTtcbiAgICAgICAgICBpZiAoY29uZmlnLmxhYmVsRmllbGQgJiYgdmFsdWVzW2NvbmZpZy5sYWJlbEZpZWxkXSkge1xuICAgICAgICAgICAgdXBkYXRlZEJsb2NrLmxhYmVsID0gdmFsdWVzW2NvbmZpZy5sYWJlbEZpZWxkXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGNvbmZpZy5kZXNjcmlwdGlvbkZpZWxkICYmIHZhbHVlc1tjb25maWcuZGVzY3JpcHRpb25GaWVsZF0pIHtcbiAgICAgICAgICAgIHVwZGF0ZWRCbG9jay5kZXNjcmlwdGlvbiA9IHZhbHVlc1tjb25maWcuZGVzY3JpcHRpb25GaWVsZF07XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChjb25maWcuc2VjdGlvbiA9PT0gJ2NvbGxlY3Rpb24nKSB7XG4gICAgICAgICAgICB1cGRhdGVkQmxvY2suY29sbGVjdGlvbklkID0gdmFsdWVzLmNvbGxlY3Rpb25JZDtcbiAgICAgICAgICAgIHVwZGF0ZWRCbG9jay5zZXR0aW5ncy5jb2xsZWN0aW9uSWQgPSB2YWx1ZXMuY29sbGVjdGlvbklkO1xuICAgICAgICAgICAgdXBkYXRlZEJsb2NrLnNldHRpbmdzLmxpbWl0ID0gdmFsdWVzLmxpbWl0O1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdXBkYXRlZEJsb2NrO1xuICAgICAgICB9LFxuICAgICAgICBhY3RpdmVCbG9ja1BhcmVudElkLFxuICAgICAgKTtcbiAgICAgIGlmICghZGlkVXBkYXRlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGFjdGl2ZUJsb2NrUGFyZW50SWQgPSBmb3VuZFBhcmVudElkO1xuICAgICAgdXBkYXRlQ3VycmVudFBhZ2VCbG9ja3ModXBkYXRlZEJsb2Nrcyk7XG4gICAgICBzaG93VG9hc3QoJ0Jsb2MgbWlzIFx1MDBFMCBqb3VyJyk7XG4gICAgICBzZXRBY3RpdmVQYWdlKGN1cnJlbnRQYWdlLmlkLCB7IHByZXNlcnZlQmxvY2s6IHRydWUgfSk7XG4gICAgfTtcbiAgICBjb25zdCBkcmF3ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLWRyYXdlcl0nKTtcbiAgICBjb25zdCBkcmF3ZXJCYWNrZHJvcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXBhZ2UtZHJhd2VyLWJhY2tkcm9wXScpO1xuICAgIGNvbnN0IGRyYXdlck9wZW5CdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtcGFnZS1kcmF3ZXItb3Blbl0nKTtcbiAgICBjb25zdCBkcmF3ZXJDbG9zZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1wYWdlLWRyYXdlci1jbG9zZV0nKTtcbiAgICBjb25zdCBhZGRQYWdlVG9nZ2xlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRkLXBhZ2UtdG9nZ2xlXScpO1xuICAgIGNvbnN0IGFkZFBhZ2VGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRkLXBhZ2UtZm9ybV0nKTtcbiAgICBjb25zdCBhZGRQYWdlTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFkZC1wYWdlLW5hbWVdJyk7XG4gICAgY29uc3QgYWRkUGFnZVRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRkLXBhZ2UtdGl0bGVdJyk7XG4gICAgY29uc3QgYWRkUGFnZVNsdWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZGQtcGFnZS1zbHVnXScpO1xuICAgIGNvbnN0IGFkZFBhZ2VDYW5jZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZGQtcGFnZS1jYW5jZWxdJyk7XG4gICAgY29uc3QgYWRkUGFnZUVycm9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRkLXBhZ2UtZXJyb3JdJyk7XG4gICAgY29uc3QgYWRkUGFnZVN1Ym1pdEJ1dHRvbiA9IGFkZFBhZ2VGb3JtPy5xdWVyeVNlbGVjdG9yKCdbdHlwZT1cInN1Ym1pdFwiXScpO1xuICAgIC8vIEltcG9ydCBKU09OIGVsZW1lbnRzXG4gICAgY29uc3QgaW1wb3J0VG9nZ2xlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaW1wb3J0LXBhZ2VzLXRvZ2dsZV0nKTtcbiAgICBjb25zdCBpbXBvcnRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWltcG9ydC1tb2RhbF0nKTtcbiAgICBjb25zdCBpbXBvcnRDbG9zZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1pbXBvcnQtbW9kYWwtY2xvc2VdJyk7XG4gICAgY29uc3QgaW1wb3J0RHJvcHpvbmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbXBvcnQtZHJvcHpvbmVdJyk7XG4gICAgY29uc3QgaW1wb3J0RmlsZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaW1wb3J0LWZpbGUtaW5wdXRdJyk7XG4gICAgY29uc3QgaW1wb3J0RmlsZUxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbXBvcnQtZmlsZS1saXN0XScpO1xuICAgIGNvbnN0IGltcG9ydEZpbGVOYW1lcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWltcG9ydC1maWxlLW5hbWVzXScpO1xuICAgIGNvbnN0IGltcG9ydFJlc3VsdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbXBvcnQtcmVzdWx0c10nKTtcbiAgICBjb25zdCBpbXBvcnRSZXN1bHRzQ29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWltcG9ydC1yZXN1bHRzLWNvbnRlbnRdJyk7XG4gICAgY29uc3QgaW1wb3J0U3VibWl0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaW1wb3J0LXN1Ym1pdF0nKTtcbiAgICBjb25zdCBpbXBvcnRUYWJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtaW1wb3J0LXRhYl0nKTtcbiAgICBjb25zdCBpbXBvcnRQYW5lbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1pbXBvcnQtcGFuZWxdJyk7XG4gICAgY29uc3QgY29weVByb21wdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvcHktcHJvbXB0XScpO1xuICAgIGNvbnN0IGNvcHlUZW1wbGF0ZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvcHktdGVtcGxhdGVdJyk7XG4gICAgY29uc3QgdGVtcGxhdGVKc29uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtdGVtcGxhdGUtanNvbl0nKTtcbiAgICBjb25zdCBpbXBvcnRBaVByb21wdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWltcG9ydC1haS1wcm9tcHRdJyk7XG4gICAgLy8gUGFzdGUgSlNPTiBlbGVtZW50c1xuICAgIGNvbnN0IGltcG9ydFBhc3RlSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbXBvcnQtcGFzdGUtanNvbl0nKTtcbiAgICBjb25zdCBwYXN0ZUZvcm1hdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWZvcm1hdC1qc29uXScpO1xuICAgIGNvbnN0IHBhc3RlRXJyb3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbXBvcnQtcGFzdGUtZXJyb3JdJyk7XG4gICAgbGV0IGltcG9ydFNlbGVjdGVkRmlsZXMgPSBbXTtcbiAgICBsZXQgYWN0aXZlSW1wb3J0VGFiID0gJ3VwbG9hZCc7XG4gICAgLy8gRGVsZXRlIHBhZ2UgZWxlbWVudHNcbiAgICBjb25zdCBkZWxldGVQYWdlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZWxldGUtcGFnZS1tb2RhbF0nKTtcbiAgICBjb25zdCBkZWxldGVQYWdlTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlbGV0ZS1wYWdlLW5hbWVdJyk7XG4gICAgY29uc3QgZGVsZXRlUGFnZUNhbmNlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlbGV0ZS1wYWdlLWNhbmNlbF0nKTtcbiAgICBjb25zdCBkZWxldGVQYWdlQ29uZmlybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlbGV0ZS1wYWdlLWNvbmZpcm1dJyk7XG4gICAgbGV0IHBhZ2VUb0RlbGV0ZSA9IG51bGw7XG4gICAgY29uc3Qgc2l0ZUtleSA9XG4gICAgICBzdHJpcExlYWRpbmdTbGFzaCh3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICdkZWZhdWx0JykgfHwgJ2RlZmF1bHQnO1xuICAgIGNvbnN0IHNpdGVTbHVnVmFsdWUgPSB3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnO1xuICAgIGNvbnN0IHNhZmVTaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKHNpdGVTbHVnVmFsdWUpIHx8ICcnO1xuICAgIGNvbnN0IHBhZ2VzQXBpQmFzZSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9wYWdlc2BcbiAgICAgIDogbnVsbDtcbiAgICBjb25zdCBjb2xsZWN0aW9uc0FwaUJhc2UgPSBzYWZlU2l0ZVNsdWdcbiAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnKX0vY29sbGVjdGlvbnNgXG4gICAgICA6IG51bGw7XG4gICAgY29uc3Qgc3RvcmFnZUtleXMgPSB7XG4gICAgICBhY3RpdmU6IGBjbG93ZXI6YWN0aXZlUGFnZToke3NpdGVLZXl9YCxcbiAgICB9O1xuICAgIGNvbnN0IGNyZWF0ZUJsb2NrID0gKGlkLCBsYWJlbCwgdHlwZSwgc3RhdHVzLCBkZXNjcmlwdGlvbiwgcHJvcHMgPSBbXSwgc2V0dGluZ3MgPSB7fSkgPT4ge1xuICAgICAgY29uc3QgYmxvY2sgPSB7XG4gICAgICAgIGlkLFxuICAgICAgICBsYWJlbCxcbiAgICAgICAgdHlwZSxcbiAgICAgICAgc3RhdHVzLFxuICAgICAgICBkZXNjcmlwdGlvbixcbiAgICAgICAgcHJvcHMsXG4gICAgICAgIHNldHRpbmdzOiB7IC4uLnNldHRpbmdzIH0sXG4gICAgICB9O1xuICAgICAgaWYgKGJsb2NrLnNldHRpbmdzLmNvbGxlY3Rpb25JZCkge1xuICAgICAgICBibG9jay5jb2xsZWN0aW9uSWQgPSBibG9jay5zZXR0aW5ncy5jb2xsZWN0aW9uSWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmxvY2s7XG4gICAgfTtcbiAgICBjb25zdCBibG9ja0xpYnJhcnlEZWZpbml0aW9ucyA9IHtcbiAgICAgIGhlcm86IHtcbiAgICAgICAgdHlwZTogJ0hlcm8nLFxuICAgICAgICBsYWJlbDogJ0hlcm8gZGUgcGFnZScsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnU2VjdGlvbiBwbGVpbmUgbGFyZ2V1ciBhdmVjIENUQSBwcmluY2lwYWwuJyxcbiAgICAgICAgc3RhdHVzOiAnQnJvdWlsbG9uJyxcbiAgICAgICAgcHJvcHM6IFtcbiAgICAgICAgICB7IGxhYmVsOiAnQ1RBJywgdmFsdWU6ICdEXHUwMEU5Y291dnJpcicgfSxcbiAgICAgICAgICB7IGxhYmVsOiAnSGF1dGV1cicsIHZhbHVlOiAnODB2aCcgfSxcbiAgICAgICAgXSxcbiAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICB0aXRsZTogJ1RpdHJlIGR1IGhlcm8nLFxuICAgICAgICAgIHN1YnRpdGxlOiAnJyxcbiAgICAgICAgICBjdGFMYWJlbDogJ0RcdTAwRTljb3V2cmlyJyxcbiAgICAgICAgICBjdGFVcmw6ICcjJyxcbiAgICAgICAgICBpbWFnZTogJycsXG4gICAgICAgICAgYWxpZ246ICdjZW50ZXInLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIHBhcmFncmFwaDoge1xuICAgICAgICB0eXBlOiAnUGFyYWdyYXBoZScsXG4gICAgICAgIGxhYmVsOiAnQmxvYyBcdTAwRTlkaXRvcmlhbCcsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnUGFyYWdyYXBoZSBsaWJyZSBwb3VyIHJhY29udGVyIHZvdHJlIGhpc3RvaXJlLicsXG4gICAgICAgIHN0YXR1czogJ0Jyb3VpbGxvbicsXG4gICAgICAgIHByb3BzOiBbeyBsYWJlbDogJ0xvbmd1ZXVyJywgdmFsdWU6ICcxNTAgbW90cycgfV0sXG4gICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgdGl0bGU6ICdUaXRyZSBkdSBwYXJhZ3JhcGhlJyxcbiAgICAgICAgICBjb250ZW50OiAnJyxcbiAgICAgICAgICBhbGlnbjogJ2xlZnQnLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGltYWdlOiB7XG4gICAgICAgIHR5cGU6ICdJbWFnZScsXG4gICAgICAgIGxhYmVsOiAnQmxvYyBpbWFnZScsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnVmlzdWVsIHNldWwgYXZlYyBsXHUwMEU5Z2VuZGUgb3B0aW9ubmVsbGUuJyxcbiAgICAgICAgc3RhdHVzOiAnQnJvdWlsbG9uJyxcbiAgICAgICAgcHJvcHM6IFtcbiAgICAgICAgICB7IGxhYmVsOiAnUmF0aW8nLCB2YWx1ZTogJzE2OjknIH0sXG4gICAgICAgICAgeyBsYWJlbDogJ0xcdTAwRTlnZW5kZScsIHZhbHVlOiAnSW5hY3RpdmUnIH0sXG4gICAgICAgIF0sXG4gICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgc3JjOiAnJyxcbiAgICAgICAgICBhbHQ6ICcnLFxuICAgICAgICAgIHNob3dDYXB0aW9uOiBmYWxzZSxcbiAgICAgICAgICBjYXB0aW9uOiAnJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBncm91cDoge1xuICAgICAgICB0eXBlOiAnR3JvdXBlJyxcbiAgICAgICAgbGFiZWw6ICdHcm91cGUgZGUgc2VjdGlvbnMnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0NvbnRlbmV1ciBwb3VyIGltYnJpcXVlciBwbHVzaWV1cnMgc291cy1ibG9jcy4nLFxuICAgICAgICBzdGF0dXM6ICdCcm91aWxsb24nLFxuICAgICAgICBwcm9wczogW3sgbGFiZWw6ICdEaXNwb3NpdGlvbicsIHZhbHVlOiAnVmVydGljYWxlJyB9XSxcbiAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICBsYXlvdXQ6ICdncmlkJyxcbiAgICAgICAgICBjb2x1bW5zTW9iaWxlOiAnMScsXG4gICAgICAgICAgY29sdW1uc0Rlc2t0b3A6ICczJyxcbiAgICAgICAgICBtb2JpbGVMYXlvdXQ6ICdzdGFjaycsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgY29sbGVjdGlvbmdyaWQ6IHtcbiAgICAgICAgdHlwZTogJ0NvbGxlY3Rpb25HcmlkJyxcbiAgICAgICAgbGFiZWw6ICdHcmlsbGUgZGUgY29udGVudXMnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0FmZmljaGUgYXV0b21hdGlxdWVtZW50IGxlcyBpdGVtcyBkXHUyMDE5dW5lIGNvbGxlY3Rpb24uJyxcbiAgICAgICAgc3RhdHVzOiAnQnJvdWlsbG9uJyxcbiAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICBjb2xsZWN0aW9uSWQ6ICcnLFxuICAgICAgICAgIGxpbWl0OiA2LFxuICAgICAgICAgIG1vYmlsZUxheW91dDogJ3N0YWNrJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBmb3JtOiB7XG4gICAgICAgIHR5cGU6ICdGb3JtJyxcbiAgICAgICAgbGFiZWw6ICdGb3JtdWxhaXJlIGRlIGNvbnRhY3QnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0Zvcm11bGFpcmUgYXZlYyBlbnZvaSB2ZXJzIHVuIHNlcnZpY2UgZXh0ZXJuZS4nLFxuICAgICAgICBzdGF0dXM6ICdCcm91aWxsb24nLFxuICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgIGZvcm1UaXRsZTogJ0NvbnRhY3Rlei1ub3VzJyxcbiAgICAgICAgICBhY3Rpb25Vcmw6ICcnLFxuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIHNlcnZpY2VOYW1lOiAnJyxcbiAgICAgICAgICBzdWJtaXRMYWJlbDogJ0Vudm95ZXInLFxuICAgICAgICAgIHN1Y2Nlc3NNZXNzYWdlOiAnTWVyY2kgcG91ciB2b3RyZSBtZXNzYWdlICEnLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIG5ld3NsZXR0ZXJlbWJlZDoge1xuICAgICAgICB0eXBlOiAnTmV3c2xldHRlckVtYmVkJyxcbiAgICAgICAgbGFiZWw6ICdOZXdzbGV0dGVyIC8gRW1iZWQnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0ludFx1MDBFOWdyYXRpb24gZFxcJ3VuIGZvcm11bGFpcmUgbmV3c2xldHRlciBleHRlcm5lIChCcmV2bywgTWFpbGNoaW1wXHUyMDI2KS4nLFxuICAgICAgICBzdGF0dXM6ICdCcm91aWxsb24nLFxuICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgIHRpdGxlOiAnUmVzdGV6IGluZm9ybVx1MDBFOScsXG4gICAgICAgICAgc2VydmljZU5hbWU6ICcnLFxuICAgICAgICAgIGVtYmVkQ29kZTogJycsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH07XG4gICAgY29uc3QgcGVyc2lzdEFjdGl2ZVBhZ2UgPSAocGFnZUlkKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oc3RvcmFnZUtleXMuYWN0aXZlLCBwYWdlSWQpO1xuICAgICAgfSBjYXRjaCB7XG4gICAgICAgIC8qIGlnbm9yZSBzdG9yYWdlIGVycm9ycyAqL1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgZ2V0U3RvcmVkQWN0aXZlUGFnZSA9IChwYWdlcykgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgc3RvcmVkID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKHN0b3JhZ2VLZXlzLmFjdGl2ZSk7XG4gICAgICAgIGlmIChzdG9yZWQgJiYgcGFnZXMuc29tZSgocGFnZSkgPT4gcGFnZS5pZCA9PT0gc3RvcmVkKSkge1xuICAgICAgICAgIHJldHVybiBzdG9yZWQ7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2gge1xuICAgICAgICAvKiBpZ25vcmUgc3RvcmFnZSBlcnJvcnMgKi9cbiAgICAgIH1cbiAgICAgIHJldHVybiBwYWdlc1swXT8uaWQgfHwgbnVsbDtcbiAgICB9O1xuICAgIGNvbnN0IGZvcm1hdEJsb2NrQ291bnQgPSAoY291bnQpID0+IHtcbiAgICAgIGlmICghY291bnQgfHwgY291bnQgPD0gMCkge1xuICAgICAgICByZXR1cm4gJzAgYmxvYyc7XG4gICAgICB9XG4gICAgICByZXR1cm4gY291bnQgPT09IDEgPyAnMSBibG9jJyA6IGAke2NvdW50fSBibG9jc2A7XG4gICAgfTtcbiAgICBjb25zdCBub3JtYWxpemVQYWdlU2x1ZyA9ICh2YWx1ZSkgPT4ge1xuICAgICAgaWYgKCF2YWx1ZSB8fCB2YWx1ZSA9PT0gJy8nKSB7XG4gICAgICAgIHJldHVybiAnLyc7XG4gICAgICB9XG4gICAgICBjb25zdCBiYXNlID0gd29ya3NwYWNlU2x1Z2lmeSh2YWx1ZS5yZXBsYWNlKC9eXFwvLywgJycpKTtcbiAgICAgIHJldHVybiBiYXNlID8gYC8ke2Jhc2V9YCA6ICcvJztcbiAgICB9O1xuICAgIGNvbnN0IGdlbmVyYXRlQmxvY2tJZCA9IChwYWdlSWQgPSAncGFnZScsIGtleSA9ICdibG9jaycpID0+XG4gICAgICBgJHtwYWdlSWR9LSR7a2V5fS0ke0RhdGUubm93KCkudG9TdHJpbmcoMzYpfS0ke01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDApfWA7XG4gICAgY29uc3QgY3JlYXRlSW5pdGlhbEJsb2NrcyA9IChwYWdlSWQsIHRpdGxlKSA9PiBbXG4gICAgICBjcmVhdGVCbG9jayhcbiAgICAgICAgZ2VuZXJhdGVCbG9ja0lkKHBhZ2VJZCwgJ2ludHJvJyksXG4gICAgICAgICdJbnRyb2R1Y3Rpb24nLFxuICAgICAgICAnUGFyYWdyYXBoZScsXG4gICAgICAgICdCcm91aWxsb24nLFxuICAgICAgICBgUGFyYWdyYXBoZSBpbnRyb2R1Y3RpZiBwb3VyIFwiJHt0aXRsZX1cIi5gLFxuICAgICAgICBbeyBsYWJlbDogJ0xvbmd1ZXVyJywgdmFsdWU6ICcyIHBhcmFncmFwaGVzJyB9XSxcbiAgICAgICAge1xuICAgICAgICAgIHRpdGxlOiBgSW50cm9kdWN0aW9uIFx1MDBFMCAke3RpdGxlfWAsXG4gICAgICAgICAgY29udGVudDogJ0Fqb3V0ZXogdm90cmUgcHJlbWllciBwYXJhZ3JhcGhlIGRlIHByXHUwMEU5c2VudGF0aW9uLicsXG4gICAgICAgICAgYWxpZ246ICdsZWZ0JyxcbiAgICAgICAgfSxcbiAgICAgICksXG4gICAgICBjcmVhdGVCbG9jayhcbiAgICAgICAgZ2VuZXJhdGVCbG9ja0lkKHBhZ2VJZCwgJ2NvbnRlbnQnKSxcbiAgICAgICAgJ1pvbmUgZGUgY29udGVudScsXG4gICAgICAgICdHcm91cGUnLFxuICAgICAgICAnQnJvdWlsbG9uJyxcbiAgICAgICAgJ1NlY3Rpb24gcHJpbmNpcGFsZSBcdTAwRTAgY29tcG9zZXIgYXZlYyB0ZXh0ZXMgZXQgdmlzdWVscy4nLFxuICAgICAgICBbeyBsYWJlbDogJ0NvbG9ubmVzJywgdmFsdWU6ICdBdXRvJyB9XSxcbiAgICAgICAge1xuICAgICAgICAgIGxheW91dDogJ2dyaWQnLFxuICAgICAgICAgIGNvbHVtbnNNb2JpbGU6ICcxJyxcbiAgICAgICAgICBjb2x1bW5zRGVza3RvcDogJzInLFxuICAgICAgICAgIG1vYmlsZUxheW91dDogJ3N0YWNrJyxcbiAgICAgICAgfSxcbiAgICAgICksXG4gICAgXTtcbiAgICBjb25zdCBzZXRBY3RpdmVMYWJlbHMgPSAocGFnZSkgPT4ge1xuICAgICAgaWYgKGFjdGl2ZVRpdGxlKSB7XG4gICAgICAgIC8vIFVzZSBwYWdlLm5hbWUgKHNob3J0IG5hbWUpIGlmIGF2YWlsYWJsZSwgZmFsbGJhY2sgdG8gdGl0bGVcbiAgICAgICAgYWN0aXZlVGl0bGUudGV4dENvbnRlbnQgPSBwYWdlPy5uYW1lIHx8IHBhZ2U/LnRpdGxlIHx8ICdQYWdlJztcbiAgICAgIH1cbiAgICAgIGlmIChhY3RpdmVTbHVnKSB7XG4gICAgICAgIGFjdGl2ZVNsdWcudGV4dENvbnRlbnQgPSBwYWdlPy5zbHVnIHx8ICcvJztcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHJlbmRlclByZXZpZXdNZXRhID0gKHBhZ2UpID0+IHtcbiAgICAgIGlmICghcHJldmlld1RhZ3MpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcHJldmlld1RhZ3MuaW5uZXJIVE1MID0gJyc7XG4gICAgICBjb25zdCB0YWdzID1cbiAgICAgICAgcGFnZSAmJiBwYWdlLmJhZGdlcyAmJiBwYWdlLmJhZGdlcy5sZW5ndGggPiAwID8gcGFnZS5iYWRnZXMgOiBbJ1N0cnVjdHVyZSBlbiBjb3VycyddO1xuICAgICAgdGFncy5mb3JFYWNoKCh0YWcpID0+IHtcbiAgICAgICAgY29uc3QgYmFkZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgIGJhZGdlLmNsYXNzTmFtZSA9ICdyb3VuZGVkLWZ1bGwgYmctc2xhdGUtMTAwIHB4LTMgcHktMSc7XG4gICAgICAgIGJhZGdlLnRleHRDb250ZW50ID0gdGFnO1xuICAgICAgICBwcmV2aWV3VGFncy5hcHBlbmRDaGlsZChiYWRnZSk7XG4gICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IGdldFN0YXR1c0JhZGdlQ2xhc3NlcyA9IChzdGF0dXMpID0+IHtcbiAgICAgIHN3aXRjaCAoKHN0YXR1cyB8fCAnJykudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICBjYXNlICdlbiBsaWduZSc6XG4gICAgICAgICAgcmV0dXJuICdiZy1lbWVyYWxkLTUwIHRleHQtZW1lcmFsZC03MDAnO1xuICAgICAgICBjYXNlICdicm91aWxsb24nOlxuICAgICAgICAgIHJldHVybiAnYmctYW1iZXItNTAgdGV4dC1hbWJlci03MDAnO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiAnYmctc2xhdGUtMTAwIHRleHQtc2xhdGUtNjAwJztcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHJlbmRlckJsb2NrRGV0YWlscyA9IChibG9jaykgPT4ge1xuICAgICAgaWYgKCFibG9ja0RldGFpbEVtcHR5IHx8ICFibG9ja0VkaXRvcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWJsb2NrKSB7XG4gICAgICAgIGJsb2NrRGV0YWlsRW1wdHkuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIGJsb2NrRWRpdG9yLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBibG9ja0VkaXRvclVuc3VwcG9ydGVkPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgYmxvY2tGb3JtPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgYmxvY2tEZXRhaWxTdGF0dXM/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBibG9ja0RldGFpbEVtcHR5LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgYmxvY2tFZGl0b3IuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBpZiAoYmxvY2tEZXRhaWxTdGF0dXMpIHtcbiAgICAgICAgaWYgKGJsb2NrLnN0YXR1cykge1xuICAgICAgICAgIGJsb2NrRGV0YWlsU3RhdHVzLnRleHRDb250ZW50ID0gYmxvY2suc3RhdHVzO1xuICAgICAgICAgIGJsb2NrRGV0YWlsU3RhdHVzLmNsYXNzTmFtZSA9IGByb3VuZGVkLWZ1bGwgcHgtMyBweS0xIHRleHQteHMgZm9udC1zZW1pYm9sZCAke2dldFN0YXR1c0JhZGdlQ2xhc3NlcyhcbiAgICAgICAgICAgIGJsb2NrLnN0YXR1cyxcbiAgICAgICAgICApfWA7XG4gICAgICAgICAgYmxvY2tEZXRhaWxTdGF0dXMuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYmxvY2tEZXRhaWxTdGF0dXMuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHBvcHVsYXRlQmxvY2tGb3JtKGJsb2NrKTtcbiAgICB9O1xuICAgIGNvbnN0IHJlYWRBY2NlbnRDb2xvciA9ICgpID0+IHtcbiAgICAgIGNvbnN0IGNvbXB1dGVkID0gZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLmdldFByb3BlcnR5VmFsdWUoJy0tY29sb3ItYWNjZW50Jyk7XG4gICAgICByZXR1cm4gY29tcHV0ZWQgPyBjb21wdXRlZC50cmltKCkgOiAnIzlDNkJGRic7XG4gICAgfTtcbiAgICBjb25zdCBhcHBseVByZXZpZXdIaWdobGlnaHQgPSAoYmxvY2tJZCkgPT4ge1xuICAgICAgaWYgKCFwcmV2aWV3RnJhbWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgZG9jID0gcHJldmlld0ZyYW1lLmNvbnRlbnREb2N1bWVudDtcbiAgICAgIGlmICghZG9jKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG5vZGVzID0gZG9jLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXByZXZpZXctYmxvY2tdJyk7XG4gICAgICBub2Rlcy5mb3JFYWNoKChub2RlKSA9PiB7XG4gICAgICAgIGlmIChub2RlLmRhdGFzZXQucHJldmlld0Jsb2NrID09PSBibG9ja0lkKSB7XG4gICAgICAgICAgbm9kZS5jbGFzc0xpc3QuYWRkKCdwcmV2aWV3LWJsb2NrLWFjdGl2ZScpO1xuICAgICAgICAgIGlmIChwcmV2aWV3UmVhZHkgJiYgYmxvY2tJZCkge1xuICAgICAgICAgICAgbm9kZS5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiAnc21vb3RoJywgYmxvY2s6ICdjZW50ZXInLCBpbmxpbmU6ICduZWFyZXN0JyB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbm9kZS5jbGFzc0xpc3QucmVtb3ZlKCdwcmV2aWV3LWJsb2NrLWFjdGl2ZScpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmIChwcmV2aWV3SGlnaGxpZ2h0T3ZlcmxheSkge1xuICAgICAgICBjb25zdCBhY2NlbnQgPSByZWFkQWNjZW50Q29sb3IoKTtcbiAgICAgICAgcHJldmlld0hpZ2hsaWdodE92ZXJsYXkuc3R5bGUuYm9yZGVyQ29sb3IgPSBibG9ja0lkID8gYWNjZW50IDogJ3RyYW5zcGFyZW50JztcbiAgICAgICAgcHJldmlld0hpZ2hsaWdodE92ZXJsYXkuc3R5bGUub3BhY2l0eSA9IGJsb2NrSWQgPyAnMC41JyA6ICcwJztcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHByZXZpZXdWaWV3UHJlc2V0cyA9IHtcbiAgICAgIGRlc2t0b3A6IHsgd2lkdGg6ICcxMDAlJywgaGVpZ2h0OiAnNjQwcHgnLCBtYXhXaWR0aDogJycsIG1hcmdpbjogJzAnIH0sXG4gICAgICBtb2JpbGU6IHsgd2lkdGg6ICczNzVweCcsIGhlaWdodDogJzc4MHB4JywgbWF4V2lkdGg6ICczNzVweCcsIG1hcmdpbjogJzAgYXV0bycgfSxcbiAgICB9O1xuICAgIGNvbnN0IHNldFByZXZpZXdWaWV3ID0gKHZpZXcpID0+IHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IHByZXZpZXdWaWV3UHJlc2V0c1t2aWV3XSA/IHZpZXcgOiAnZGVza3RvcCc7XG4gICAgICBwcmV2aWV3Vmlld0J1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICAgIGNvbnN0IGlzQWN0aXZlID0gYnV0dG9uLmRhdGFzZXQucHJldmlld1ZpZXcgPT09IHRhcmdldDtcbiAgICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZSgnYXJpYS1wcmVzc2VkJywgaXNBY3RpdmUgPyAndHJ1ZScgOiAnZmFsc2UnKTtcbiAgICAgICAgaWYgKGlzQWN0aXZlKSB7XG4gICAgICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2JnLXNsYXRlLTkwMCcsICd0ZXh0LXdoaXRlJyk7XG4gICAgICAgICAgYnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2JnLXNsYXRlLTIwMCcsICd0ZXh0LXNsYXRlLTUwMCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdiZy1zbGF0ZS05MDAnLCAndGV4dC13aGl0ZScpO1xuICAgICAgICAgIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdiZy1zbGF0ZS0yMDAnLCAndGV4dC1zbGF0ZS01MDAnKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBjb25zdCBzdHlsZXMgPSBwcmV2aWV3Vmlld1ByZXNldHNbdGFyZ2V0XTtcbiAgICAgIGlmIChwcmV2aWV3RnJhbWUpIHtcbiAgICAgICAgcHJldmlld0ZyYW1lLnN0eWxlLndpZHRoID0gc3R5bGVzLndpZHRoO1xuICAgICAgICBwcmV2aWV3RnJhbWUuc3R5bGUuaGVpZ2h0ID0gc3R5bGVzLmhlaWdodDtcbiAgICAgICAgcHJldmlld0ZyYW1lLnN0eWxlLm1heFdpZHRoID0gc3R5bGVzLm1heFdpZHRoO1xuICAgICAgICBwcmV2aWV3RnJhbWUuc3R5bGUubWFyZ2luID0gc3R5bGVzLm1hcmdpbjtcbiAgICAgIH1cbiAgICAgIGlmIChwcmV2aWV3RnJhbWVXcmFwcGVyKSB7XG4gICAgICAgIHByZXZpZXdGcmFtZVdyYXBwZXIuc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgICAgIHByZXZpZXdGcmFtZVdyYXBwZXIuc3R5bGUubWluSGVpZ2h0ID0gc3R5bGVzLmhlaWdodDtcbiAgICAgICAgcHJldmlld0ZyYW1lV3JhcHBlci5zdHlsZS5tYXhXaWR0aCA9IHN0eWxlcy5tYXhXaWR0aCB8fCAnMTAwJSc7XG4gICAgICB9XG4gICAgICBpZiAocHJldmlld1NoZWxsKSB7XG4gICAgICAgIHByZXZpZXdTaGVsbC5kYXRhc2V0LnByZXZpZXdTaGVsbFZpZXcgPSB0YXJnZXQ7XG4gICAgICB9XG4gICAgICBpZiAocHJldmlld0N1cnJlbnRWaWV3TGFiZWwpIHtcbiAgICAgICAgcHJldmlld0N1cnJlbnRWaWV3TGFiZWwudGV4dENvbnRlbnQgPSB0YXJnZXQgPT09ICdtb2JpbGUnID8gJ1Z1ZSBtb2JpbGUnIDogJ1Z1ZSBidXJlYXUnO1xuICAgICAgfVxuICAgIH07XG4gICAgLy8gRm9uY3Rpb24gcG91ciBjclx1MDBFOWVyIHVuIFx1MDBFOWxcdTAwRTltZW50IGRlIGJsb2MgKHV0aWxpc1x1MDBFOSBwb3VyIGxlcyBibG9jcyBldCBsZXMgZW5mYW50cyBkZSBncm91cGUpXG4gICAgY29uc3QgY3JlYXRlQmxvY2tJdGVtRWxlbWVudCA9IChibG9jaywgaXNOZXN0ZWQgPSBmYWxzZSwgcGFyZW50SWQgPSBudWxsKSA9PiB7XG4gICAgICBjb25zdCBpc0FjdGl2ZSA9IGJsb2NrLmlkID09PSBhY3RpdmVCbG9ja0lkO1xuICAgICAgY29uc3QgYmxvY2tUeXBlID0gKGJsb2NrLnR5cGUgfHwgJycpLnRvTG93ZXJDYXNlKCk7XG4gICAgICBjb25zdCBpc0dyb3VwID0gYmxvY2tUeXBlID09PSAnZ3JvdXBlJyB8fCBibG9ja1R5cGUgPT09ICdncm91cCcgfHwgYmxvY2tUeXBlID09PSAnc2VjdGlvbnMnIHx8IGJsb2NrVHlwZSA9PT0gJ2dyaWQnO1xuICAgICAgXG4gICAgICBjb25zdCBpdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBpdGVtLmRhdGFzZXQuYmxvY2tJdGVtID0gJ3RydWUnO1xuICAgICAgaXRlbS5kYXRhc2V0LmJsb2NrSWQgPSBibG9jay5pZDtcbiAgICAgIGlmIChwYXJlbnRJZCkgaXRlbS5kYXRhc2V0LnBhcmVudEJsb2NrSWQgPSBwYXJlbnRJZDtcbiAgICAgIGlmIChpc0dyb3VwKSBpdGVtLmRhdGFzZXQuaXNHcm91cCA9ICd0cnVlJztcbiAgICAgIGl0ZW0uc2V0QXR0cmlidXRlKCdyb2xlJywgJ29wdGlvbicpO1xuICAgICAgaXRlbS5zZXRBdHRyaWJ1dGUoJ2FyaWEtc2VsZWN0ZWQnLCBpc0FjdGl2ZSA/ICd0cnVlJyA6ICdmYWxzZScpO1xuICAgICAgaXRlbS5zZXRBdHRyaWJ1dGUoJ2RyYWdnYWJsZScsICd0cnVlJyk7XG4gICAgICBpdGVtLnRhYkluZGV4ID0gMDtcbiAgICAgIGl0ZW0uY2xhc3NOYW1lID0gW1xuICAgICAgICAncmVsYXRpdmUgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTMgcm91bmRlZC0yeGwgYm9yZGVyIHB4LTMgcHktMiB0ZXh0LWxlZnQgdHJhbnNpdGlvbiBncm91cCcsXG4gICAgICAgIGlzTmVzdGVkID8gJ21sLTYgYm9yZGVyLWRhc2hlZCcgOiAnJyxcbiAgICAgICAgaXNBY3RpdmVcbiAgICAgICAgICA/ICdiZy1zbGF0ZS0xMDAgYm9yZGVyLVsjOUM2QkZGXS80MCBzaGFkb3ctc20nXG4gICAgICAgICAgOiAnYm9yZGVyLXNsYXRlLTIwMCBob3Zlcjpib3JkZXItWyM5QzZCRkZdLzQwJyxcbiAgICAgIF0uam9pbignICcpO1xuICAgICAgXG4gICAgICBjb25zdCBhY2NlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICBhY2NlbnQuY2xhc3NOYW1lID0gYGFic29sdXRlIGluc2V0LXktMiBsZWZ0LTAgdy0xIHJvdW5kZWQtZnVsbCBiZy1bIzlDNkJGRl0gJHtpc0FjdGl2ZSA/ICcnIDogJ2hpZGRlbid9YDtcbiAgICAgIGl0ZW0uYXBwZW5kQ2hpbGQoYWNjZW50KTtcblxuICAgICAgY29uc3QgY29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgY29udGVudC5jbGFzc05hbWUgPSAnZmxleCBmbGV4LTEgaXRlbXMtY2VudGVyIGdhcC0zJztcbiAgICAgIFxuICAgICAgY29uc3QgaGFuZGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBoYW5kbGUuY2xhc3NOYW1lID0gJ2hpZGRlbiBsZzpmbGV4IGN1cnNvci1ncmFiIGFjdGl2ZTpjdXJzb3ItZ3JhYmJpbmcgZmxleC1zaHJpbmstMCBpdGVtcy1jZW50ZXIgdGV4dC1sZyB0ZXh0LXNsYXRlLTQwMCBob3Zlcjp0ZXh0LXNsYXRlLTYwMCB0cmFuc2l0aW9uLWNvbG9ycyBzZWxlY3Qtbm9uZSc7XG4gICAgICBoYW5kbGUuaW5uZXJIVE1MID0gJ1x1MjJFRVx1MjJFRSc7XG4gICAgICBoYW5kbGUuc2V0QXR0cmlidXRlKCd0aXRsZScsICdHbGlzc2VyIHBvdXIgclx1MDBFOW9yZG9ubmVyJyk7XG4gICAgICBjb250ZW50LmFwcGVuZENoaWxkKGhhbmRsZSk7XG5cbiAgICAgIGNvbnN0IHRleHRXcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICB0ZXh0V3JhcHBlci5jbGFzc05hbWUgPSAnZmxleC0xJztcbiAgICAgIFxuICAgICAgY29uc3QgbWV0YSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgbWV0YS5jbGFzc05hbWUgPSAnZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgdGV4dC1bMTFweF0gdXBwZXJjYXNlIHRyYWNraW5nLXdpZGUgdGV4dC1zbGF0ZS01MDAnO1xuICAgICAgXG4gICAgICBjb25zdCB0eXBlQmFkZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICB0eXBlQmFkZ2UuY2xhc3NOYW1lID0gJ3JvdW5kZWQtZnVsbCBiZy1zbGF0ZS0xMDAgcHgtMiBweS0wLjUgdGV4dC1bMTBweF0gZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTYwMCc7XG4gICAgICB0eXBlQmFkZ2UudGV4dENvbnRlbnQgPSBibG9jay50eXBlO1xuICAgICAgXG4gICAgICBjb25zdCBzdGF0dXNCYWRnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgIHN0YXR1c0JhZGdlLmNsYXNzTmFtZSA9ICd0ZXh0LXNsYXRlLTQwMCc7XG4gICAgICBzdGF0dXNCYWRnZS50ZXh0Q29udGVudCA9IGJsb2NrLnN0YXR1cztcbiAgICAgIFxuICAgICAgbWV0YS5hcHBlbmRDaGlsZCh0eXBlQmFkZ2UpO1xuICAgICAgaWYgKGlzR3JvdXApIHtcbiAgICAgICAgY29uc3QgY2hpbGRDb3VudCA9IChibG9jay5jaGlsZHJlbiB8fCBbXSkubGVuZ3RoO1xuICAgICAgICBjb25zdCBjaGlsZEJhZGdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICBjaGlsZEJhZGdlLmNsYXNzTmFtZSA9ICdyb3VuZGVkLWZ1bGwgYmctdmlvbGV0LTEwMCBweC0yIHB5LTAuNSB0ZXh0LVsxMHB4XSBmb250LXNlbWlib2xkIHRleHQtdmlvbGV0LTYwMCc7XG4gICAgICAgIGNoaWxkQmFkZ2UudGV4dENvbnRlbnQgPSBgJHtjaGlsZENvdW50fSBcdTAwRTlsXHUwMEU5bWVudCR7Y2hpbGRDb3VudCAhPT0gMSA/ICdzJyA6ICcnfWA7XG4gICAgICAgIG1ldGEuYXBwZW5kQ2hpbGQoY2hpbGRCYWRnZSk7XG4gICAgICB9XG4gICAgICBtZXRhLmFwcGVuZENoaWxkKHN0YXR1c0JhZGdlKTtcbiAgICAgIFxuICAgICAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgICB0aXRsZS5jbGFzc05hbWUgPSAnbXQtMSB0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgdGV4dC1zbGF0ZS05MDAnO1xuICAgICAgY29uc3QgZGlzcGxheUxhYmVsID0gKGJsb2NrLnNldHRpbmdzICYmIGJsb2NrLnNldHRpbmdzLnRpdGxlKSB8fCBibG9jay5sYWJlbCB8fCAnQmxvYyBzYW5zIHRpdHJlJztcbiAgICAgIHRpdGxlLnRleHRDb250ZW50ID0gZGlzcGxheUxhYmVsO1xuICAgICAgXG4gICAgICB0ZXh0V3JhcHBlci5hcHBlbmRDaGlsZChtZXRhKTtcbiAgICAgIHRleHRXcmFwcGVyLmFwcGVuZENoaWxkKHRpdGxlKTtcbiAgICAgIFxuICAgICAgaWYgKGJsb2NrVHlwZSA9PT0gJ2NvbGxlY3Rpb25ncmlkJyAmJiBibG9jay5jb2xsZWN0aW9uSWQpIHtcbiAgICAgICAgY29uc3QgY29sbGVjdGlvbk5hbWUgPSBkZXNpZ25Db2xsZWN0aW9ucy5maW5kKChlbnRyeSkgPT4gZW50cnkuaWQgPT09IGJsb2NrLmNvbGxlY3Rpb25JZCk/Lm5hbWUgfHwgYmxvY2suY29sbGVjdGlvbklkO1xuICAgICAgICBjb25zdCBpbmZvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgICAgICBpbmZvLmNsYXNzTmFtZSA9ICd0ZXh0LXhzIHRleHQtc2xhdGUtNDAwJztcbiAgICAgICAgaW5mby50ZXh0Q29udGVudCA9IGBDb2xsZWN0aW9uIDogJHtjb2xsZWN0aW9uTmFtZX1gO1xuICAgICAgICB0ZXh0V3JhcHBlci5hcHBlbmRDaGlsZChpbmZvKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29udGVudC5hcHBlbmRDaGlsZCh0ZXh0V3JhcHBlcik7XG4gICAgICBpdGVtLmFwcGVuZENoaWxkKGNvbnRlbnQpO1xuXG4gICAgICBjb25zdCBhY3Rpb25zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBhY3Rpb25zLmNsYXNzTmFtZSA9ICdmbGV4IGZsZXgtY29sIGdhcC0xIHRleHQteHMgdGV4dC1zbGF0ZS00MDAnO1xuXG4gICAgICBjb25zdCBtb3ZlQnV0dG9ucyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgbW92ZUJ1dHRvbnMuY2xhc3NOYW1lID0gJ2ZsZXggaXRlbXMtY2VudGVyIGdhcC0xIGxnOmhpZGRlbic7XG4gICAgICBjb25zdCBtb3ZlVXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgIG1vdmVVcC50eXBlID0gJ2J1dHRvbic7XG4gICAgICBtb3ZlVXAuY2xhc3NOYW1lID0gJ3JvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1zbGF0ZS0yMDAgcHgtMiBweS0xIHRleHQtWzExcHhdIGZvbnQtc2VtaWJvbGQgdGV4dC1zbGF0ZS01MDAnO1xuICAgICAgbW92ZVVwLnRleHRDb250ZW50ID0gJ1x1MjE5MSc7XG4gICAgICBtb3ZlVXAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGlmIChwYXJlbnRJZCkge1xuICAgICAgICAgIG1vdmVDaGlsZEJsb2NrQnlPZmZzZXQocGFyZW50SWQsIGJsb2NrLmlkLCAtMSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbW92ZUJsb2NrQnlPZmZzZXQoYmxvY2suaWQsIC0xKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBjb25zdCBtb3ZlRG93biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgbW92ZURvd24udHlwZSA9ICdidXR0b24nO1xuICAgICAgbW92ZURvd24uY2xhc3NOYW1lID0gJ3JvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1zbGF0ZS0yMDAgcHgtMiBweS0xIHRleHQtWzExcHhdIGZvbnQtc2VtaWJvbGQgdGV4dC1zbGF0ZS01MDAnO1xuICAgICAgbW92ZURvd24udGV4dENvbnRlbnQgPSAnXHUyMTkzJztcbiAgICAgIG1vdmVEb3duLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBpZiAocGFyZW50SWQpIHtcbiAgICAgICAgICBtb3ZlQ2hpbGRCbG9ja0J5T2Zmc2V0KHBhcmVudElkLCBibG9jay5pZCwgMSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbW92ZUJsb2NrQnlPZmZzZXQoYmxvY2suaWQsIDEpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIG1vdmVCdXR0b25zLmFwcGVuZENoaWxkKG1vdmVVcCk7XG4gICAgICBtb3ZlQnV0dG9ucy5hcHBlbmRDaGlsZChtb3ZlRG93bik7XG4gICAgICBhY3Rpb25zLmFwcGVuZENoaWxkKG1vdmVCdXR0b25zKTtcblxuICAgICAgY29uc3QgZGVsZXRlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICBkZWxldGVCdXR0b24udHlwZSA9ICdidXR0b24nO1xuICAgICAgZGVsZXRlQnV0dG9uLmNsYXNzTmFtZSA9ICdpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLXRyYW5zcGFyZW50IHB4LTIgcHktMSB0ZXh0LVsxMnB4XSB0ZXh0LXJvc2UtNTAwIGhvdmVyOnRleHQtcm9zZS03MDAnO1xuICAgICAgZGVsZXRlQnV0dG9uLmlubmVySFRNTCA9ICdcdUQ4M0RcdURERDFcdUZFMEYnO1xuICAgICAgZGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBpZiAocGFyZW50SWQpIHtcbiAgICAgICAgICByZW1vdmVDaGlsZEZyb21Hcm91cChwYXJlbnRJZCwgYmxvY2suaWQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9wZW5CbG9ja0RlbGV0ZU1vZGFsKGJsb2NrLmlkKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGFjdGlvbnMuYXBwZW5kQ2hpbGQoZGVsZXRlQnV0dG9uKTtcbiAgICAgIGl0ZW0uYXBwZW5kQ2hpbGQoYWN0aW9ucyk7XG5cbiAgICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIHNldEFjdGl2ZUJsb2NrKGJsb2NrLmlkLCBwYXJlbnRJZCk7XG4gICAgICB9KTtcbiAgICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldmVudCkgPT4ge1xuICAgICAgICBpZiAoZXZlbnQua2V5ID09PSAnRW50ZXInIHx8IGV2ZW50LmtleSA9PT0gJyAnKSB7XG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBzZXRBY3RpdmVCbG9jayhibG9jay5pZCwgcGFyZW50SWQpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHsgaXRlbSwgaXNHcm91cCwgYmxvY2sgfTtcbiAgICB9O1xuICAgIFxuICAgIC8vIEZvbmN0aW9uIHBvdXIgY3JcdTAwRTllciBsYSB6b25lIGRlIGRyb3AgcG91ciB1biBncm91cGVcbiAgICBjb25zdCBjcmVhdGVHcm91cERyb3Bab25lID0gKHBhcmVudEJsb2NrKSA9PiB7XG4gICAgICBjb25zdCBkcm9wWm9uZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgZHJvcFpvbmUuZGF0YXNldC5ncm91cERyb3Bab25lID0gcGFyZW50QmxvY2suaWQ7XG4gICAgICBkcm9wWm9uZS5jbGFzc05hbWUgPSAnbWwtNiBib3JkZXItMiBib3JkZXItZGFzaGVkIGJvcmRlci1zbGF0ZS0yMDAgcm91bmRlZC14bCBwLTMgdGV4dC1jZW50ZXIgdGV4dC14cyB0ZXh0LXNsYXRlLTQwMCBob3Zlcjpib3JkZXItdmlvbGV0LTMwMCBob3ZlcjpiZy12aW9sZXQtNTAvNTAgdHJhbnNpdGlvbi1jb2xvcnMgY3Vyc29yLXBvaW50ZXInO1xuICAgICAgZHJvcFpvbmUuaW5uZXJIVE1MID0gJzxzcGFuIGNsYXNzPVwicG9pbnRlci1ldmVudHMtbm9uZVwiPlx1RDgzRFx1RENFNiBHbGlzc2V6IHVuIGJsb2MgaWNpIG91IGNsaXF1ZXogcG91ciBham91dGVyPC9zcGFuPic7XG4gICAgICBcbiAgICAgIC8vIFx1MDBDOXZcdTAwRTluZW1lbnRzIGRlIGRyYWcgJiBkcm9wXG4gICAgICBkcm9wWm9uZS5hZGRFdmVudExpc3RlbmVyKCdkcmFnb3ZlcicsIChlKSA9PiB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgZHJvcFpvbmUuY2xhc3NMaXN0LmFkZCgnYm9yZGVyLXZpb2xldC00MDAnLCAnYmctdmlvbGV0LTUwJyk7XG4gICAgICB9KTtcbiAgICAgIGRyb3Bab25lLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdsZWF2ZScsIChlKSA9PiB7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGRyb3Bab25lLmNsYXNzTGlzdC5yZW1vdmUoJ2JvcmRlci12aW9sZXQtNDAwJywgJ2JnLXZpb2xldC01MCcpO1xuICAgICAgfSk7XG4gICAgICBkcm9wWm9uZS5hZGRFdmVudExpc3RlbmVyKCdkcm9wJywgKGUpID0+IHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBkcm9wWm9uZS5jbGFzc0xpc3QucmVtb3ZlKCdib3JkZXItdmlvbGV0LTQwMCcsICdiZy12aW9sZXQtNTAnKTtcbiAgICAgICAgY29uc3QgYmxvY2tJZCA9IGUuZGF0YVRyYW5zZmVyLmdldERhdGEoJ3RleHQvcGxhaW4nKTtcbiAgICAgICAgaWYgKGJsb2NrSWQgJiYgYmxvY2tJZCAhPT0gcGFyZW50QmxvY2suaWQpIHtcbiAgICAgICAgICBtb3ZlQmxvY2tUb0dyb3VwKGJsb2NrSWQsIHBhcmVudEJsb2NrLmlkKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIC8vIENsaWMgcG91ciBham91dGVyIHVuIGJsb2MgYXUgZ3JvdXBlXG4gICAgICBkcm9wWm9uZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgb3BlbkFkZEJsb2NrVG9Hcm91cE1vZGFsKHBhcmVudEJsb2NrLmlkKTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICByZXR1cm4gZHJvcFpvbmU7XG4gICAgfTtcblxuXHQgICAgY29uc3QgcmVuZGVyQmxvY2tMaXN0ID0gKHBhZ2UpID0+IHtcblx0ICAgICAgaWYgKCFibG9ja0xpc3QpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cbiAgICAgIGJsb2NrTGlzdC5pbm5lckhUTUwgPSAnJztcbiAgICAgIGNvbnN0IGJsb2NrcyA9IHBhZ2U/LmJsb2NrcyB8fCBbXTtcbiAgICAgIGlmIChibG9ja0NvdW50QmFkZ2UpIHtcbiAgICAgICAgYmxvY2tDb3VudEJhZGdlLnRleHRDb250ZW50ID0gZm9ybWF0QmxvY2tDb3VudChibG9ja3MubGVuZ3RoKTtcbiAgICAgIH1cbiAgICAgIGlmIChibG9ja3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGJsb2NrTGlzdC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgYmxvY2tMaXN0RW1wdHk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBibG9ja0xpc3QuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBibG9ja0xpc3RFbXB0eT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBcbiAgICAgIGJsb2Nrcy5mb3JFYWNoKChibG9jaykgPT4ge1xuICAgICAgICBjb25zdCB7IGl0ZW0sIGlzR3JvdXAgfSA9IGNyZWF0ZUJsb2NrSXRlbUVsZW1lbnQoYmxvY2ssIGZhbHNlLCBudWxsKTtcbiAgICAgICAgYmxvY2tMaXN0LmFwcGVuZENoaWxkKGl0ZW0pO1xuICAgICAgICBcbiAgICAgICAgLy8gU2kgYydlc3QgdW4gZ3JvdXBlLCBhZmZpY2hlciBsZXMgZW5mYW50cyBldCBsYSB6b25lIGRlIGRyb3BcbiAgICAgICAgaWYgKGlzR3JvdXApIHtcbiAgICAgICAgICBjb25zdCBjaGlsZHJlbiA9IGJsb2NrLmNoaWxkcmVuIHx8IFtdO1xuICAgICAgICAgIGNoaWxkcmVuLmZvckVhY2goKGNoaWxkKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IGl0ZW06IGNoaWxkSXRlbSB9ID0gY3JlYXRlQmxvY2tJdGVtRWxlbWVudChjaGlsZCwgdHJ1ZSwgYmxvY2suaWQpO1xuICAgICAgICAgICAgYmxvY2tMaXN0LmFwcGVuZENoaWxkKGNoaWxkSXRlbSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgLy8gWm9uZSBkZSBkcm9wIHBvdXIgYWpvdXRlciBkZXMgYmxvY3MgYXUgZ3JvdXBlXG4gICAgICAgICAgY29uc3QgZHJvcFpvbmUgPSBjcmVhdGVHcm91cERyb3Bab25lKGJsb2NrKTtcbiAgICAgICAgICBibG9ja0xpc3QuYXBwZW5kQ2hpbGQoZHJvcFpvbmUpO1xuICAgICAgICB9XG4gICAgICB9KTtcblx0ICAgIH07XG5cdCAgICBcblx0ICAgIC8vIEZvbmN0aW9ucyBwb3VyIGdcdTAwRTlyZXIgbGVzIGVuZmFudHMgZGVzIGdyb3VwZXNcblx0ICAgIGNvbnN0IGZpbmRDaGlsZExvY2F0aW9uID0gKGNoaWxkSWQpID0+IHtcblx0ICAgICAgaWYgKCFjdXJyZW50UGFnZSB8fCAhY2hpbGRJZCkgcmV0dXJuIG51bGw7XG5cdCAgICAgIGZvciAobGV0IGdyb3VwSW5kZXggPSAwOyBncm91cEluZGV4IDwgY3VycmVudFBhZ2UuYmxvY2tzLmxlbmd0aDsgZ3JvdXBJbmRleCsrKSB7XG5cdCAgICAgICAgY29uc3QgZ3JvdXBCbG9jayA9IGN1cnJlbnRQYWdlLmJsb2Nrc1tncm91cEluZGV4XTtcblx0ICAgICAgICBjb25zdCBncm91cFR5cGUgPSAoZ3JvdXBCbG9jaz8udHlwZSB8fCAnJykudG9Mb3dlckNhc2UoKTtcblx0ICAgICAgICBjb25zdCBpc0dyb3VwID1cblx0ICAgICAgICAgIGdyb3VwVHlwZSA9PT0gJ2dyb3VwZScgfHwgZ3JvdXBUeXBlID09PSAnZ3JvdXAnIHx8IGdyb3VwVHlwZSA9PT0gJ3NlY3Rpb25zJyB8fCBncm91cFR5cGUgPT09ICdncmlkJztcblx0ICAgICAgICBpZiAoIWlzR3JvdXAgfHwgIUFycmF5LmlzQXJyYXkoZ3JvdXBCbG9jay5jaGlsZHJlbikpIGNvbnRpbnVlO1xuXHQgICAgICAgIGNvbnN0IGNoaWxkSW5kZXggPSBncm91cEJsb2NrLmNoaWxkcmVuLmZpbmRJbmRleCgoY2hpbGQpID0+IGNoaWxkLmlkID09PSBjaGlsZElkKTtcblx0ICAgICAgICBpZiAoY2hpbGRJbmRleCAhPT0gLTEpIHtcblx0ICAgICAgICAgIHJldHVybiB7IGdyb3VwSWQ6IGdyb3VwQmxvY2suaWQsIGdyb3VwSW5kZXgsIGNoaWxkSW5kZXggfTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICB9O1xuXHQgICAgY29uc3QgZXh0cmFjdEJsb2NrQnlJZCA9IChibG9ja0lkKSA9PiB7XG5cdCAgICAgIGlmICghY3VycmVudFBhZ2UgfHwgIWJsb2NrSWQpIHJldHVybiBudWxsO1xuXHQgICAgICBjb25zdCByb290SW5kZXggPSBjdXJyZW50UGFnZS5ibG9ja3MuZmluZEluZGV4KChiKSA9PiBiLmlkID09PSBibG9ja0lkKTtcblx0ICAgICAgaWYgKHJvb3RJbmRleCAhPT0gLTEpIHtcblx0ICAgICAgICBjb25zdCBbYmxvY2tdID0gY3VycmVudFBhZ2UuYmxvY2tzLnNwbGljZShyb290SW5kZXgsIDEpO1xuXHQgICAgICAgIHJldHVybiB7IGJsb2NrLCBmcm9tOiB7IHR5cGU6ICdyb290JywgaW5kZXg6IHJvb3RJbmRleCB9IH07XG5cdCAgICAgIH1cblx0ICAgICAgY29uc3QgY2hpbGRMb2MgPSBmaW5kQ2hpbGRMb2NhdGlvbihibG9ja0lkKTtcblx0ICAgICAgaWYgKCFjaGlsZExvYykgcmV0dXJuIG51bGw7XG5cdCAgICAgIGNvbnN0IGdyb3VwQmxvY2sgPSBjdXJyZW50UGFnZS5ibG9ja3MuZmluZCgoYikgPT4gYi5pZCA9PT0gY2hpbGRMb2MuZ3JvdXBJZCk7XG5cdCAgICAgIGlmICghZ3JvdXBCbG9jayB8fCAhQXJyYXkuaXNBcnJheShncm91cEJsb2NrLmNoaWxkcmVuKSkgcmV0dXJuIG51bGw7XG5cdCAgICAgIGNvbnN0IFtibG9ja10gPSBncm91cEJsb2NrLmNoaWxkcmVuLnNwbGljZShjaGlsZExvYy5jaGlsZEluZGV4LCAxKTtcblx0ICAgICAgcmV0dXJuIHsgYmxvY2ssIGZyb206IHsgdHlwZTogJ2dyb3VwJywgZ3JvdXBJZDogY2hpbGRMb2MuZ3JvdXBJZCwgaW5kZXg6IGNoaWxkTG9jLmNoaWxkSW5kZXggfSB9O1xuXHQgICAgfTtcblx0ICAgIGNvbnN0IGluc2VydEJsb2NrSW50b1Jvb3QgPSAoYmxvY2ssIGluZGV4KSA9PiB7XG5cdCAgICAgIGlmICghY3VycmVudFBhZ2UgfHwgIWJsb2NrKSByZXR1cm47XG5cdCAgICAgIGNvbnN0IHNhZmVJbmRleCA9IE1hdGgubWluKE1hdGgubWF4KDAsIGluZGV4ID8/IGN1cnJlbnRQYWdlLmJsb2Nrcy5sZW5ndGgpLCBjdXJyZW50UGFnZS5ibG9ja3MubGVuZ3RoKTtcblx0ICAgICAgY3VycmVudFBhZ2UuYmxvY2tzLnNwbGljZShzYWZlSW5kZXgsIDAsIGJsb2NrKTtcblx0ICAgIH07XG5cdCAgICBjb25zdCBpbnNlcnRCbG9ja0ludG9Hcm91cCA9IChibG9jaywgZ3JvdXBJZCwgaW5kZXgpID0+IHtcblx0ICAgICAgaWYgKCFjdXJyZW50UGFnZSB8fCAhYmxvY2sgfHwgIWdyb3VwSWQpIHJldHVybiBmYWxzZTtcblx0ICAgICAgY29uc3QgZ3JvdXBCbG9jayA9IGN1cnJlbnRQYWdlLmJsb2Nrcy5maW5kKChiKSA9PiBiLmlkID09PSBncm91cElkKTtcblx0ICAgICAgaWYgKCFncm91cEJsb2NrKSByZXR1cm4gZmFsc2U7XG5cdCAgICAgIGlmICghQXJyYXkuaXNBcnJheShncm91cEJsb2NrLmNoaWxkcmVuKSkgZ3JvdXBCbG9jay5jaGlsZHJlbiA9IFtdO1xuXHQgICAgICBjb25zdCBzYWZlSW5kZXggPSBNYXRoLm1pbihcblx0ICAgICAgICBNYXRoLm1heCgwLCBpbmRleCA/PyBncm91cEJsb2NrLmNoaWxkcmVuLmxlbmd0aCksXG5cdCAgICAgICAgZ3JvdXBCbG9jay5jaGlsZHJlbi5sZW5ndGgsXG5cdCAgICAgICk7XG5cdCAgICAgIGdyb3VwQmxvY2suY2hpbGRyZW4uc3BsaWNlKHNhZmVJbmRleCwgMCwgYmxvY2spO1xuXHQgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH07XG5cdCAgICBjb25zdCBnZXRJbnNlcnRJbmRleEZyb21Qb3NpdGlvbiA9IChiYXNlSW5kZXgsIHBvc2l0aW9uLCBvZmZzZXRXaGVuQWZ0ZXIgPSAxKSA9PiB7XG5cdCAgICAgIGlmICh0eXBlb2YgYmFzZUluZGV4ICE9PSAnbnVtYmVyJyB8fCBiYXNlSW5kZXggPCAwKSByZXR1cm4gbnVsbDtcblx0ICAgICAgcmV0dXJuIHBvc2l0aW9uID09PSAnYmVmb3JlJyA/IGJhc2VJbmRleCA6IGJhc2VJbmRleCArIG9mZnNldFdoZW5BZnRlcjtcblx0ICAgIH07XG5cdCAgICBjb25zdCBjb21taXRCbG9ja3NDaGFuZ2UgPSAoYWN0aXZlSWQgPSBudWxsLCBhY3RpdmVQYXJlbnRJZCA9IG51bGwsIHRvYXN0TWVzc2FnZSA9IG51bGwpID0+IHtcblx0ICAgICAgcmVuZGVyQmxvY2tMaXN0KGN1cnJlbnRQYWdlKTtcblx0ICAgICAgc2F2ZVBhZ2VCbG9ja3MoKTtcblx0ICAgICAgaWYgKGFjdGl2ZUlkKSB7XG5cdCAgICAgICAgc2V0QWN0aXZlQmxvY2soYWN0aXZlSWQsIGFjdGl2ZVBhcmVudElkKTtcblx0ICAgICAgfVxuXHQgICAgICBpZiAodG9hc3RNZXNzYWdlKSB7XG5cdCAgICAgICAgc2hvd1RvYXN0KHRvYXN0TWVzc2FnZSk7XG5cdCAgICAgIH1cblx0ICAgIH07XG5cblx0ICAgIGNvbnN0IG1vdmVCbG9ja1RvR3JvdXAgPSAoYmxvY2tJZCwgZ3JvdXBJZCkgPT4ge1xuXHQgICAgICBpZiAoIWN1cnJlbnRQYWdlKSByZXR1cm47XG5cdCAgICAgIGlmICghYmxvY2tJZCB8fCAhZ3JvdXBJZCB8fCBibG9ja0lkID09PSBncm91cElkKSByZXR1cm47XG5cdCAgICAgIGNvbnN0IGdyb3VwQmxvY2sgPSBjdXJyZW50UGFnZS5ibG9ja3MuZmluZCgoYikgPT4gYi5pZCA9PT0gZ3JvdXBJZCk7XG5cdCAgICAgIGlmICghZ3JvdXBCbG9jaykgcmV0dXJuO1xuXHQgICAgICBcblx0ICAgICAgLy8gTmUgcGFzIHBlcm1ldHRyZSBkZSBkXHUwMEU5cGxhY2VyIHVuIGdyb3VwZSBkYW5zIHVuIGdyb3VwZVxuXHQgICAgICBjb25zdCBleHRyYWN0ZWQgPSBleHRyYWN0QmxvY2tCeUlkKGJsb2NrSWQpO1xuXHQgICAgICBpZiAoIWV4dHJhY3RlZD8uYmxvY2spIHJldHVybjtcblx0ICAgICAgY29uc3QgYmxvY2tUeXBlID0gKGV4dHJhY3RlZC5ibG9jay50eXBlIHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xuXHQgICAgICBpZiAoYmxvY2tUeXBlID09PSAnZ3JvdXBlJyB8fCBibG9ja1R5cGUgPT09ICdncm91cCcpIHtcblx0ICAgICAgICBzaG93VG9hc3QoJ0ltcG9zc2libGUgZFxcJ2ltYnJpcXVlciBkZXMgZ3JvdXBlcycsICdlcnJvcicpO1xuXHQgICAgICAgIC8vIFJlbWV0dHJlIGxlIGJsb2MgXHUwMEUwIHNhIHBsYWNlIGQnb3JpZ2luZVxuXHQgICAgICAgIGlmIChleHRyYWN0ZWQuZnJvbT8udHlwZSA9PT0gJ3Jvb3QnKSB7XG5cdCAgICAgICAgICBpbnNlcnRCbG9ja0ludG9Sb290KGV4dHJhY3RlZC5ibG9jaywgZXh0cmFjdGVkLmZyb20uaW5kZXgpO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoZXh0cmFjdGVkLmZyb20/LnR5cGUgPT09ICdncm91cCcpIHtcblx0ICAgICAgICAgIGluc2VydEJsb2NrSW50b0dyb3VwKGV4dHJhY3RlZC5ibG9jaywgZXh0cmFjdGVkLmZyb20uZ3JvdXBJZCwgZXh0cmFjdGVkLmZyb20uaW5kZXgpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cblx0ICAgICAgXG5cdCAgICAgIC8vIERcdTAwRTlqXHUwMEUwIGRhbnMgY2UgZ3JvdXBlIFx1MjE5MiBuby1vcFxuXHQgICAgICBpZiAoZXh0cmFjdGVkLmZyb20/LnR5cGUgPT09ICdncm91cCcgJiYgZXh0cmFjdGVkLmZyb20uZ3JvdXBJZCA9PT0gZ3JvdXBJZCkge1xuXHQgICAgICAgIGluc2VydEJsb2NrSW50b0dyb3VwKGV4dHJhY3RlZC5ibG9jaywgZXh0cmFjdGVkLmZyb20uZ3JvdXBJZCwgZXh0cmFjdGVkLmZyb20uaW5kZXgpO1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXG5cdCAgICAgIGlmICghQXJyYXkuaXNBcnJheShncm91cEJsb2NrLmNoaWxkcmVuKSkgZ3JvdXBCbG9jay5jaGlsZHJlbiA9IFtdO1xuXHQgICAgICBncm91cEJsb2NrLmNoaWxkcmVuLnB1c2goZXh0cmFjdGVkLmJsb2NrKTtcblx0ICAgICAgY29tbWl0QmxvY2tzQ2hhbmdlKGV4dHJhY3RlZC5ibG9jay5pZCwgZ3JvdXBJZCwgYEJsb2MgYWpvdXRcdTAwRTkgYXUgZ3JvdXBlYCk7XG5cdCAgICB9O1xuXHQgICAgXG5cdCAgICBjb25zdCByZW1vdmVDaGlsZEZyb21Hcm91cCA9IChncm91cElkLCBjaGlsZElkKSA9PiB7XG5cdCAgICAgIGlmICghY3VycmVudFBhZ2UpIHJldHVybjtcbiAgICAgIGNvbnN0IGdyb3VwQmxvY2sgPSBjdXJyZW50UGFnZS5ibG9ja3MuZmluZCgoYikgPT4gYi5pZCA9PT0gZ3JvdXBJZCk7XG4gICAgICBpZiAoIWdyb3VwQmxvY2sgfHwgIWdyb3VwQmxvY2suY2hpbGRyZW4pIHJldHVybjtcbiAgICAgIFxuICAgICAgY29uc3QgY2hpbGRJbmRleCA9IGdyb3VwQmxvY2suY2hpbGRyZW4uZmluZEluZGV4KChjKSA9PiBjLmlkID09PSBjaGlsZElkKTtcbiAgICAgIGlmIChjaGlsZEluZGV4ID09PSAtMSkgcmV0dXJuO1xuICAgICAgXG4gICAgICAvLyBSZXRpcmVyIGwnZW5mYW50IGR1IGdyb3VwZSBldCBsZSByZW1ldHRyZSBkYW5zIGxhIGxpc3RlIHByaW5jaXBhbGUgYXByXHUwMEU4cyBsZSBncm91cGVcbiAgICAgIGNvbnN0IFtjaGlsZF0gPSBncm91cEJsb2NrLmNoaWxkcmVuLnNwbGljZShjaGlsZEluZGV4LCAxKTtcbiAgICAgIGNvbnN0IGdyb3VwSW5kZXggPSBjdXJyZW50UGFnZS5ibG9ja3MuZmluZEluZGV4KChiKSA9PiBiLmlkID09PSBncm91cElkKTtcbiAgICAgIGN1cnJlbnRQYWdlLmJsb2Nrcy5zcGxpY2UoZ3JvdXBJbmRleCArIDEsIDAsIGNoaWxkKTtcbiAgICAgIFxuXHQgICAgICByZW5kZXJCbG9ja0xpc3QoY3VycmVudFBhZ2UpO1xuXHQgICAgICBzYXZlUGFnZUJsb2NrcygpO1xuXHQgICAgICBzaG93VG9hc3QoYEJsb2Mgc29ydGkgZHUgZ3JvdXBlYCk7XG5cdCAgICB9O1xuXG5cdCAgICBjb25zdCBtb3ZlQ2hpbGRGcm9tR3JvdXBUb1Jvb3RBdCA9IChncm91cElkLCBjaGlsZElkLCBpbnNlcnRJbmRleCkgPT4ge1xuXHQgICAgICBpZiAoIWN1cnJlbnRQYWdlKSByZXR1cm47XG5cdCAgICAgIGNvbnN0IGdyb3VwQmxvY2sgPSBjdXJyZW50UGFnZS5ibG9ja3MuZmluZCgoYikgPT4gYi5pZCA9PT0gZ3JvdXBJZCk7XG5cdCAgICAgIGlmICghZ3JvdXBCbG9jayB8fCAhQXJyYXkuaXNBcnJheShncm91cEJsb2NrLmNoaWxkcmVuKSkgcmV0dXJuO1xuXHQgICAgICBjb25zdCBjaGlsZEluZGV4ID0gZ3JvdXBCbG9jay5jaGlsZHJlbi5maW5kSW5kZXgoKGMpID0+IGMuaWQgPT09IGNoaWxkSWQpO1xuXHQgICAgICBpZiAoY2hpbGRJbmRleCA9PT0gLTEpIHJldHVybjtcblx0ICAgICAgY29uc3QgW2NoaWxkXSA9IGdyb3VwQmxvY2suY2hpbGRyZW4uc3BsaWNlKGNoaWxkSW5kZXgsIDEpO1xuXHQgICAgICBpbnNlcnRCbG9ja0ludG9Sb290KGNoaWxkLCBpbnNlcnRJbmRleCk7XG5cdCAgICAgIGNvbW1pdEJsb2Nrc0NoYW5nZShjaGlsZC5pZCwgbnVsbCwgJ0Jsb2Mgc29ydGkgZHUgZ3JvdXBlJyk7XG5cdCAgICB9O1xuXG5cdCAgICBjb25zdCBtb3ZlQ2hpbGRXaXRoaW5Hcm91cCA9IChncm91cElkLCBjaGlsZElkLCB0YXJnZXRDaGlsZElkLCBwb3NpdGlvbikgPT4ge1xuXHQgICAgICBpZiAoIWN1cnJlbnRQYWdlKSByZXR1cm47XG5cdCAgICAgIGNvbnN0IGdyb3VwQmxvY2sgPSBjdXJyZW50UGFnZS5ibG9ja3MuZmluZCgoYikgPT4gYi5pZCA9PT0gZ3JvdXBJZCk7XG5cdCAgICAgIGlmICghZ3JvdXBCbG9jayB8fCAhQXJyYXkuaXNBcnJheShncm91cEJsb2NrLmNoaWxkcmVuKSkgcmV0dXJuO1xuXHQgICAgICBjb25zdCBmcm9tSW5kZXggPSBncm91cEJsb2NrLmNoaWxkcmVuLmZpbmRJbmRleCgoYykgPT4gYy5pZCA9PT0gY2hpbGRJZCk7XG5cdCAgICAgIGNvbnN0IHRvSW5kZXhCYXNlID0gZ3JvdXBCbG9jay5jaGlsZHJlbi5maW5kSW5kZXgoKGMpID0+IGMuaWQgPT09IHRhcmdldENoaWxkSWQpO1xuXHQgICAgICBpZiAoZnJvbUluZGV4ID09PSAtMSB8fCB0b0luZGV4QmFzZSA9PT0gLTEgfHwgY2hpbGRJZCA9PT0gdGFyZ2V0Q2hpbGRJZCkgcmV0dXJuO1xuXHQgICAgICBjb25zdCBbbW92ZWRdID0gZ3JvdXBCbG9jay5jaGlsZHJlbi5zcGxpY2UoZnJvbUluZGV4LCAxKTtcblx0ICAgICAgY29uc3QgYWRqdXN0ZWRUb0luZGV4QmFzZSA9IGZyb21JbmRleCA8IHRvSW5kZXhCYXNlID8gdG9JbmRleEJhc2UgLSAxIDogdG9JbmRleEJhc2U7XG5cdCAgICAgIGNvbnN0IGluc2VydEluZGV4ID1cblx0ICAgICAgICBwb3NpdGlvbiA9PT0gJ2JlZm9yZScgPyBhZGp1c3RlZFRvSW5kZXhCYXNlIDogYWRqdXN0ZWRUb0luZGV4QmFzZSArIDE7XG5cdCAgICAgIGdyb3VwQmxvY2suY2hpbGRyZW4uc3BsaWNlKGluc2VydEluZGV4LCAwLCBtb3ZlZCk7XG5cdCAgICAgIGNvbW1pdEJsb2Nrc0NoYW5nZShtb3ZlZC5pZCwgZ3JvdXBJZCwgbnVsbCk7XG5cdCAgICB9O1xuXG5cdCAgICBjb25zdCBtb3ZlQW55QmxvY2tUb0dyb3VwQXQgPSAoYmxvY2tJZCwgZ3JvdXBJZCwgdGFyZ2V0Q2hpbGRJZCwgcG9zaXRpb24pID0+IHtcblx0ICAgICAgaWYgKCFjdXJyZW50UGFnZSkgcmV0dXJuO1xuXHQgICAgICBpZiAoIWJsb2NrSWQgfHwgIWdyb3VwSWQpIHJldHVybjtcblx0ICAgICAgY29uc3QgZXh0cmFjdGVkID0gZXh0cmFjdEJsb2NrQnlJZChibG9ja0lkKTtcblx0ICAgICAgaWYgKCFleHRyYWN0ZWQ/LmJsb2NrKSByZXR1cm47XG5cdCAgICAgIGNvbnN0IGJsb2NrVHlwZSA9IChleHRyYWN0ZWQuYmxvY2sudHlwZSB8fCAnJykudG9Mb3dlckNhc2UoKTtcblx0ICAgICAgaWYgKGJsb2NrVHlwZSA9PT0gJ2dyb3VwZScgfHwgYmxvY2tUeXBlID09PSAnZ3JvdXAnKSB7XG5cdCAgICAgICAgc2hvd1RvYXN0KFwiSW1wb3NzaWJsZSBkJ2ltYnJpcXVlciBkZXMgZ3JvdXBlc1wiLCAnZXJyb3InKTtcblx0ICAgICAgICBpZiAoZXh0cmFjdGVkLmZyb20/LnR5cGUgPT09ICdyb290Jykge1xuXHQgICAgICAgICAgaW5zZXJ0QmxvY2tJbnRvUm9vdChleHRyYWN0ZWQuYmxvY2ssIGV4dHJhY3RlZC5mcm9tLmluZGV4KTtcblx0ICAgICAgICB9IGVsc2UgaWYgKGV4dHJhY3RlZC5mcm9tPy50eXBlID09PSAnZ3JvdXAnKSB7XG5cdCAgICAgICAgICBpbnNlcnRCbG9ja0ludG9Hcm91cChleHRyYWN0ZWQuYmxvY2ssIGV4dHJhY3RlZC5mcm9tLmdyb3VwSWQsIGV4dHJhY3RlZC5mcm9tLmluZGV4KTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cdCAgICAgIGNvbnN0IGdyb3VwQmxvY2sgPSBjdXJyZW50UGFnZS5ibG9ja3MuZmluZCgoYikgPT4gYi5pZCA9PT0gZ3JvdXBJZCk7XG5cdCAgICAgIGlmICghZ3JvdXBCbG9jaykge1xuXHQgICAgICAgIC8vIFJlbWV0dHJlIGxlIGJsb2Ncblx0ICAgICAgICBpZiAoZXh0cmFjdGVkLmZyb20/LnR5cGUgPT09ICdyb290Jykge1xuXHQgICAgICAgICAgaW5zZXJ0QmxvY2tJbnRvUm9vdChleHRyYWN0ZWQuYmxvY2ssIGV4dHJhY3RlZC5mcm9tLmluZGV4KTtcblx0ICAgICAgICB9IGVsc2UgaWYgKGV4dHJhY3RlZC5mcm9tPy50eXBlID09PSAnZ3JvdXAnKSB7XG5cdCAgICAgICAgICBpbnNlcnRCbG9ja0ludG9Hcm91cChleHRyYWN0ZWQuYmxvY2ssIGV4dHJhY3RlZC5mcm9tLmdyb3VwSWQsIGV4dHJhY3RlZC5mcm9tLmluZGV4KTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cdCAgICAgIGlmICghQXJyYXkuaXNBcnJheShncm91cEJsb2NrLmNoaWxkcmVuKSkgZ3JvdXBCbG9jay5jaGlsZHJlbiA9IFtdO1xuXHQgICAgICBsZXQgaW5zZXJ0SW5kZXggPSBncm91cEJsb2NrLmNoaWxkcmVuLmxlbmd0aDtcblx0ICAgICAgaWYgKHRhcmdldENoaWxkSWQpIHtcblx0ICAgICAgICBjb25zdCB0YXJnZXRJbmRleCA9IGdyb3VwQmxvY2suY2hpbGRyZW4uZmluZEluZGV4KChjKSA9PiBjLmlkID09PSB0YXJnZXRDaGlsZElkKTtcblx0ICAgICAgICBjb25zdCByZXNvbHZlZCA9IGdldEluc2VydEluZGV4RnJvbVBvc2l0aW9uKHRhcmdldEluZGV4LCBwb3NpdGlvbiwgMSk7XG5cdCAgICAgICAgaWYgKHJlc29sdmVkICE9PSBudWxsKSBpbnNlcnRJbmRleCA9IHJlc29sdmVkO1xuXHQgICAgICB9XG5cdCAgICAgIGdyb3VwQmxvY2suY2hpbGRyZW4uc3BsaWNlKGluc2VydEluZGV4LCAwLCBleHRyYWN0ZWQuYmxvY2spO1xuXHQgICAgICBjb21taXRCbG9ja3NDaGFuZ2UoZXh0cmFjdGVkLmJsb2NrLmlkLCBncm91cElkLCAnQmxvYyBham91dFx1MDBFOSBhdSBncm91cGUnKTtcblx0ICAgIH07XG4gICAgXG4gICAgY29uc3QgbW92ZUNoaWxkQmxvY2tCeU9mZnNldCA9IChncm91cElkLCBjaGlsZElkLCBvZmZzZXQpID0+IHtcbiAgICAgIGlmICghY3VycmVudFBhZ2UpIHJldHVybjtcbiAgICAgIGNvbnN0IGdyb3VwQmxvY2sgPSBjdXJyZW50UGFnZS5ibG9ja3MuZmluZCgoYikgPT4gYi5pZCA9PT0gZ3JvdXBJZCk7XG4gICAgICBpZiAoIWdyb3VwQmxvY2sgfHwgIWdyb3VwQmxvY2suY2hpbGRyZW4pIHJldHVybjtcbiAgICAgIFxuICAgICAgY29uc3QgY3VycmVudEluZGV4ID0gZ3JvdXBCbG9jay5jaGlsZHJlbi5maW5kSW5kZXgoKGMpID0+IGMuaWQgPT09IGNoaWxkSWQpO1xuICAgICAgaWYgKGN1cnJlbnRJbmRleCA9PT0gLTEpIHJldHVybjtcbiAgICAgIFxuICAgICAgY29uc3QgbmV3SW5kZXggPSBjdXJyZW50SW5kZXggKyBvZmZzZXQ7XG4gICAgICBpZiAobmV3SW5kZXggPCAwIHx8IG5ld0luZGV4ID49IGdyb3VwQmxvY2suY2hpbGRyZW4ubGVuZ3RoKSByZXR1cm47XG4gICAgICBcbiAgICAgIGNvbnN0IFtjaGlsZF0gPSBncm91cEJsb2NrLmNoaWxkcmVuLnNwbGljZShjdXJyZW50SW5kZXgsIDEpO1xuICAgICAgZ3JvdXBCbG9jay5jaGlsZHJlbi5zcGxpY2UobmV3SW5kZXgsIDAsIGNoaWxkKTtcbiAgICAgIFxuICAgICAgcmVuZGVyQmxvY2tMaXN0KGN1cnJlbnRQYWdlKTtcbiAgICAgIHNhdmVQYWdlQmxvY2tzKCk7XG4gICAgfTtcbiAgICBcbiAgICBjb25zdCBvcGVuQWRkQmxvY2tUb0dyb3VwTW9kYWwgPSAoZ3JvdXBJZCkgPT4ge1xuICAgICAgLy8gVXRpbGlzZXIgbGUgbVx1MDBFQW1lIG1vZGFsIGQnYWpvdXQgZGUgYmxvYywgbWFpcyBhdmVjIGxlIGNvbnRleHRlIGR1IGdyb3VwZVxuICAgICAgcGVuZGluZ0dyb3VwSWRGb3JOZXdCbG9jayA9IGdyb3VwSWQ7XG4gICAgICBvcGVuQmxvY2tQaWNrZXIoKTtcbiAgICB9O1xuICAgIFxuICAgIGxldCBwZW5kaW5nR3JvdXBJZEZvck5ld0Jsb2NrID0gbnVsbDtcblxuICAgIC8vID09PSBEZWxldGUgcGFnZSBoYW5kbGVycyAoZGVmaW5lZCBiZWZvcmUgcmVuZGVyUGFnZUxpc3RzKSA9PT1cbiAgICBjb25zdCBvcGVuRGVsZXRlUGFnZU1vZGFsID0gKHBhZ2UpID0+IHtcbiAgICAgIGlmICghZGVsZXRlUGFnZU1vZGFsIHx8ICFwYWdlKSByZXR1cm47XG4gICAgICBwYWdlVG9EZWxldGUgPSBwYWdlO1xuICAgICAgaWYgKGRlbGV0ZVBhZ2VOYW1lKSBkZWxldGVQYWdlTmFtZS50ZXh0Q29udGVudCA9IHBhZ2UudGl0bGUgfHwgcGFnZS5pZDtcbiAgICAgIGRlbGV0ZVBhZ2VNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGRlbGV0ZVBhZ2VNb2RhbC5jbGFzc0xpc3QuYWRkKCdmbGV4Jyk7XG4gICAgICBhY3RpdmF0ZU1vZGFsKGRlbGV0ZVBhZ2VNb2RhbCwgY2xvc2VEZWxldGVQYWdlTW9kYWwpO1xuICAgIH07XG4gICAgY29uc3QgY2xvc2VEZWxldGVQYWdlTW9kYWwgPSAoKSA9PiB7XG4gICAgICBpZiAoIWRlbGV0ZVBhZ2VNb2RhbCkgcmV0dXJuO1xuICAgICAgZGVsZXRlUGFnZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgZGVsZXRlUGFnZU1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2ZsZXgnKTtcbiAgICAgIHBhZ2VUb0RlbGV0ZSA9IG51bGw7XG4gICAgICBkZWFjdGl2YXRlTW9kYWwoZGVsZXRlUGFnZU1vZGFsKTtcbiAgICB9O1xuICAgIGNvbnN0IGV4ZWN1dGVEZWxldGVQYWdlID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFwYWdlc0FwaUJhc2UgfHwgIXBhZ2VUb0RlbGV0ZSkgcmV0dXJuO1xuICAgICAgY29uc3QgcGFnZUlkID0gcGFnZVRvRGVsZXRlLmlkO1xuICAgICAgY29uc3QgcGFnZVRpdGxlID0gcGFnZVRvRGVsZXRlLnRpdGxlIHx8IHBhZ2VJZDtcbiAgICAgIGlmIChkZWxldGVQYWdlQ29uZmlybSkge1xuICAgICAgICBkZWxldGVQYWdlQ29uZmlybS5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIGRlbGV0ZVBhZ2VDb25maXJtLnRleHRDb250ZW50ID0gJ1N1cHByZXNzaW9uLi4uJztcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7cGFnZXNBcGlCYXNlfS8ke2VuY29kZVVSSUNvbXBvbmVudChwYWdlSWQpfWAsIHtcbiAgICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZScsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzdWx0Lm1lc3NhZ2UgfHwgJ0VycmV1ciBzZXJ2ZXVyJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU3VwcHJpbWVyIGRlIGxhIGxpc3RlIGxvY2FsZVxuICAgICAgICBwYWdlcyA9IHBhZ2VzLmZpbHRlcigocCkgPT4gcC5pZCAhPT0gcGFnZUlkKTtcbiAgICAgICAgLy8gU2kgbGEgcGFnZSBzdXBwcmltXHUwMEU5ZSBcdTAwRTl0YWl0IGFjdGl2ZSwgc1x1MDBFOWxlY3Rpb25uZXIgbGEgcHJlbWlcdTAwRThyZVxuICAgICAgICBpZiAoYWN0aXZlUGFnZUlkID09PSBwYWdlSWQpIHtcbiAgICAgICAgICBpZiAocGFnZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgc2V0QWN0aXZlUGFnZShwYWdlc1swXS5pZCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFjdGl2ZVBhZ2VJZCA9IG51bGw7XG4gICAgICAgICAgICBjdXJyZW50UGFnZSA9IG51bGw7XG4gICAgICAgICAgICByZW5kZXJQYWdlTGlzdHMocGFnZXMsIG51bGwpO1xuICAgICAgICAgICAgcmVuZGVyQmxvY2tMaXN0KG51bGwpO1xuICAgICAgICAgICAgYmxvY2tEZXRhaWxFbXB0eT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgICBibG9ja0VkaXRvcj8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgICAgICBwcmV2aWV3RnJhbWUgJiYgKHByZXZpZXdGcmFtZS5zcmNkb2MgPSBnZXRMb2FkaW5nUHJldmlld0h0bWwoKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlbmRlclBhZ2VMaXN0cyhwYWdlcywgYWN0aXZlUGFnZUlkKTtcbiAgICAgICAgfVxuICAgICAgICBjbG9zZURlbGV0ZVBhZ2VNb2RhbCgpO1xuICAgICAgICBzaG93VG9hc3QoYFBhZ2UgXCIke3BhZ2VUaXRsZX1cIiBzdXBwcmltXHUwMEU5ZWApO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1twYWdlc10gZGVsZXRlIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnRXJyZXVyIHN1cHByZXNzaW9uJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoZGVsZXRlUGFnZUNvbmZpcm0pIHtcbiAgICAgICAgICBkZWxldGVQYWdlQ29uZmlybS5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgIGRlbGV0ZVBhZ2VDb25maXJtLnRleHRDb250ZW50ID0gJ1N1cHByaW1lcic7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgcmVuZGVyUGFnZUxpc3RzID0gKHBhZ2VzLCBhY3RpdmVJZCkgPT4ge1xuICAgICAgcGFnZUxpc3RzLmZvckVhY2goKGxpc3QpID0+IHtcbiAgICAgICAgbGlzdC5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgcGFnZXMuZm9yRWFjaCgocGFnZSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgICAgIGl0ZW0uY2xhc3NOYW1lID0gJ2ZsZXggaXRlbXMtY2VudGVyIGdhcC0xJztcbiAgICAgICAgICBjb25zdCBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgICBidXR0b24udHlwZSA9ICdidXR0b24nO1xuICAgICAgICAgIGJ1dHRvbi5kYXRhc2V0LnBhZ2VJZCA9IHBhZ2UuaWQ7XG4gICAgICAgICAgYnV0dG9uLmNsYXNzTmFtZSA9IFtcbiAgICAgICAgICAgICdmbGV4LTEgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTMgcHgtMyBweS0yIHRleHQtbGVmdCB0cmFuc2l0aW9uJyxcbiAgICAgICAgICAgIGFjdGl2ZUlkID09PSBwYWdlLmlkXG4gICAgICAgICAgICAgID8gJ2JnLVsjOUM2QkZGXS8xMCB0ZXh0LXNsYXRlLTkwMCBib3JkZXIgYm9yZGVyLVsjOUM2QkZGXS80MCByb3VuZGVkLXhsIHNoYWRvdy1zbSdcbiAgICAgICAgICAgICAgOiAndGV4dC1zbGF0ZS03MDAgaG92ZXI6Ymctc2xhdGUtNTAgcm91bmRlZC14bCcsXG4gICAgICAgICAgXS5qb2luKCcgJyk7XG4gICAgICAgICAgaWYgKGFjdGl2ZUlkID09PSBwYWdlLmlkKSB7XG4gICAgICAgICAgICBidXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLWN1cnJlbnQnLCAncGFnZScpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBidXR0b24ucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWN1cnJlbnQnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gVXNlIHBhZ2UubmFtZSAoc2hvcnQgbmFtZSkgaWYgYXZhaWxhYmxlLCBmYWxsYmFjayB0byB0aXRsZVxuICAgICAgICAgIGNvbnN0IGRpc3BsYXlOYW1lID0gcGFnZS5uYW1lIHx8IHBhZ2UudGl0bGU7XG4gICAgICAgICAgY29uc3QgaXNIaWRkZW5Gcm9tTmF2ID0gcGFnZS5hY2Nlc3NpYmlsaXR5Py5zaG93SW5NYWluTmF2ID09PSBmYWxzZTtcbiAgICAgICAgICBjb25zdCBuYXZCYWRnZSA9IGlzSGlkZGVuRnJvbU5hdlxuICAgICAgICAgICAgPyAnPHNwYW4gY2xhc3M9XCJ0ZXh0LVsxMHB4XSBmb250LXNlbWlib2xkIHRleHQtYW1iZXItNjAwXCI+TWFzcXVcdTAwRTkgZHUgbWVudTwvc3Bhbj4nXG4gICAgICAgICAgICA6ICcnO1xuICAgICAgICAgIGJ1dHRvbi5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cImZsZXggaC05IHctOSBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcm91bmRlZC14bCBib3JkZXIgYm9yZGVyLXNsYXRlLTIwMCBiZy13aGl0ZSB0ZXh0LXNsYXRlLTUwMFwiPlxuICAgICAgICAgICAgICA8c3ZnIHdpZHRoPVwiMThcIiBoZWlnaHQ9XCIxOFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPlxuICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNNi41IDQuNWg3bDQgNHYxMWExIDEgMCAwIDEtMSAxaC0xMGExIDEgMCAwIDEtMS0xdi0xNGExIDEgMCAwIDEgMS0xWlwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjEuNFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIvPlxuICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMTMuNSA0LjV2NGExIDEgMCAwIDAgMSAxaDNcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIxLjRcIi8+XG4gICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXNtIGZvbnQtc2VtaWJvbGRcIj4ke2Rpc3BsYXlOYW1lfTwvc3Bhbj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNTAwXCI+JHtwYWdlLnNsdWd9PC9zcGFuPlxuICAgICAgICAgICAgICAke25hdkJhZGdlfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgYDtcbiAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICBzZXRBY3RpdmVQYWdlKHBhZ2UuaWQpO1xuICAgICAgICAgICAgaWYgKCFpc0Rlc2t0b3BEcmF3ZXIoKSkge1xuICAgICAgICAgICAgICBjbG9zZURyYXdlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGl0ZW0uYXBwZW5kQ2hpbGQoYnV0dG9uKTtcbiAgICAgICAgICAvLyBCb3V0b24gZGUgc3VwcHJlc3Npb25cbiAgICAgICAgICBjb25zdCBkZWxldGVCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgICBkZWxldGVCdG4udHlwZSA9ICdidXR0b24nO1xuICAgICAgICAgIGRlbGV0ZUJ0bi5jbGFzc05hbWUgPSAnZmxleC1zaHJpbmstMCBwLTIgdGV4dC1zbGF0ZS00MDAgaG92ZXI6dGV4dC1yb3NlLTYwMCBob3ZlcjpiZy1yb3NlLTUwIHJvdW5kZWQtbGcgdHJhbnNpdGlvbic7XG4gICAgICAgICAgZGVsZXRlQnRuLnRpdGxlID0gJ1N1cHByaW1lciBjZXR0ZSBwYWdlJztcbiAgICAgICAgICBkZWxldGVCdG4uc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgYFN1cHByaW1lciAke2Rpc3BsYXlOYW1lfWApO1xuICAgICAgICAgIGRlbGV0ZUJ0bi5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICA8c3ZnIHdpZHRoPVwiMTZcIiBoZWlnaHQ9XCIxNlwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIj5cbiAgICAgICAgICAgICAgPHBhdGggZD1cIk0zIDZoMThNOCA2VjRhMiAyIDAgMCAxIDItMmg0YTIgMiAwIDAgMSAyIDJ2Mm0zIDB2MTRhMiAyIDAgMCAxLTIgMkg3YTIgMiAwIDAgMS0yLTJWNmgxNFpNMTAgMTF2Nk0xNCAxMXY2XCIvPlxuICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgYDtcbiAgICAgICAgICBkZWxldGVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIG9wZW5EZWxldGVQYWdlTW9kYWwocGFnZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaXRlbS5hcHBlbmRDaGlsZChkZWxldGVCdG4pO1xuICAgICAgICAgIGxpc3QuYXBwZW5kQ2hpbGQoaXRlbSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICBjb25zdCBnZXRBY3RpdmVCbG9jayA9ICgpID0+IHtcbiAgICAgIGlmICghY3VycmVudFBhZ2UgfHwgIUFycmF5LmlzQXJyYXkoY3VycmVudFBhZ2UuYmxvY2tzKSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIC8vIENoZXJjaGVyIGxlIGJsb2MgZGFucyBsYSBsaXN0ZSBwcmluY2lwYWxlIG91IGRhbnMgbGVzIGVuZmFudHMgZGVzIGdyb3VwZXNcbiAgICAgIGxldCBibG9jayA9IGN1cnJlbnRQYWdlLmJsb2Nrcy5maW5kKChibG9jaykgPT4gYmxvY2suaWQgPT09IGFjdGl2ZUJsb2NrSWQpO1xuICAgICAgaWYgKCFibG9jaykge1xuICAgICAgICBmb3IgKGNvbnN0IGIgb2YgY3VycmVudFBhZ2UuYmxvY2tzKSB7XG4gICAgICAgICAgaWYgKGIuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGJsb2NrID0gYi5jaGlsZHJlbi5maW5kKChjaGlsZCkgPT4gY2hpbGQuaWQgPT09IGFjdGl2ZUJsb2NrSWQpO1xuICAgICAgICAgICAgaWYgKGJsb2NrKSBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBibG9jayB8fCBudWxsO1xuICAgIH07XG5cbiAgICBjb25zdCBwYWdlSGFzQmxvY2tJZCA9IChwYWdlLCBibG9ja0lkKSA9PiB7XG4gICAgICBpZiAoIXBhZ2UgfHwgIWJsb2NrSWQpIHJldHVybiBmYWxzZTtcbiAgICAgIGNvbnN0IHdhbGsgPSAobm9kZXMpID0+IHtcbiAgICAgICAgZm9yIChjb25zdCBub2RlIG9mIG5vZGVzIHx8IFtdKSB7XG4gICAgICAgICAgaWYgKCFub2RlKSBjb250aW51ZTtcbiAgICAgICAgICBpZiAobm9kZS5pZCA9PT0gYmxvY2tJZCkgcmV0dXJuIHRydWU7XG4gICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkobm9kZS5jaGlsZHJlbikgJiYgd2Fsayhub2RlLmNoaWxkcmVuKSkgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfTtcbiAgICAgIHJldHVybiB3YWxrKHBhZ2UuYmxvY2tzIHx8IFtdKTtcbiAgICB9O1xuXG4gICAgY29uc3QgdXBkYXRlQmxvY2tzRGVlcCA9IChibG9ja3MsIGJsb2NrSWQsIHVwZGF0ZXIsIHBhcmVudEhpbnQgPSBudWxsKSA9PiB7XG4gICAgICBsZXQgZGlkVXBkYXRlID0gZmFsc2U7XG4gICAgICBsZXQgZm91bmRQYXJlbnRJZCA9IG51bGw7XG5cbiAgICAgIGNvbnN0IHdhbGsgPSAobm9kZXMsIGN1cnJlbnRQYXJlbnRJZCA9IG51bGwpID0+IHtcbiAgICAgICAgbGV0IGNoYW5nZWQgPSBmYWxzZTtcbiAgICAgICAgY29uc3QgbmV4dE5vZGVzID0gKG5vZGVzIHx8IFtdKS5tYXAoKG5vZGUpID0+IHtcbiAgICAgICAgICBpZiAoIW5vZGUgfHwgIW5vZGUuaWQpIHJldHVybiBub2RlO1xuXG4gICAgICAgICAgaWYgKG5vZGUuaWQgPT09IGJsb2NrSWQgJiYgKCFwYXJlbnRIaW50IHx8IHBhcmVudEhpbnQgPT09IGN1cnJlbnRQYXJlbnRJZCkpIHtcbiAgICAgICAgICAgIGRpZFVwZGF0ZSA9IHRydWU7XG4gICAgICAgICAgICBmb3VuZFBhcmVudElkID0gY3VycmVudFBhcmVudElkO1xuICAgICAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm4gdXBkYXRlcihub2RlKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShub2RlLmNoaWxkcmVuKSAmJiBub2RlLmNoaWxkcmVuLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHsgbm9kZXM6IG5leHRDaGlsZHJlbiwgY2hhbmdlZDogY2hpbGRyZW5DaGFuZ2VkIH0gPSB3YWxrKG5vZGUuY2hpbGRyZW4sIG5vZGUuaWQpO1xuICAgICAgICAgICAgaWYgKGNoaWxkcmVuQ2hhbmdlZCkge1xuICAgICAgICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgcmV0dXJuIHsgLi4ubm9kZSwgY2hpbGRyZW46IG5leHRDaGlsZHJlbiB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHsgbm9kZXM6IG5leHROb2RlcywgY2hhbmdlZCB9O1xuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gd2FsayhibG9ja3MsIG51bGwpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYmxvY2tzOiByZXN1bHQubm9kZXMsXG4gICAgICAgIGRpZFVwZGF0ZSxcbiAgICAgICAgZm91bmRQYXJlbnRJZCxcbiAgICAgIH07XG4gICAgfTtcbiAgICBcbiAgICAvLyBWYXJpYWJsZSBwb3VyIHN0b2NrZXIgbGUgcGFyZW50IGR1IGJsb2MgYWN0aWYgKHNpIGMnZXN0IHVuIGVuZmFudCBkZSBncm91cGUpXG4gICAgbGV0IGFjdGl2ZUJsb2NrUGFyZW50SWQgPSBudWxsO1xuICAgIFxuICAgIGNvbnN0IHNldEFjdGl2ZUJsb2NrID0gKGJsb2NrSWQsIHBhcmVudElkID0gbnVsbCkgPT4ge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWJsb2NrSWQpIHtcbiAgICAgICAgYWN0aXZlQmxvY2tJZCA9IG51bGw7XG4gICAgICAgIGFjdGl2ZUJsb2NrUGFyZW50SWQgPSBudWxsO1xuICAgICAgICByZW5kZXJCbG9ja0xpc3QoY3VycmVudFBhZ2UpO1xuICAgICAgICByZW5kZXJCbG9ja0RldGFpbHMobnVsbCk7XG4gICAgICAgIGFwcGx5UHJldmlld0hpZ2hsaWdodChudWxsKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgXG4gICAgICBsZXQgdGFyZ2V0QmxvY2sgPSBudWxsO1xuICAgICAgXG4gICAgICAvLyBDaGVyY2hlciBkYW5zIGxlcyBibG9jcyBwcmluY2lwYXV4XG4gICAgICB0YXJnZXRCbG9jayA9IGN1cnJlbnRQYWdlLmJsb2Nrcy5maW5kKChibG9jaykgPT4gYmxvY2suaWQgPT09IGJsb2NrSWQpO1xuICAgICAgXG4gICAgICAvLyBTaSBwYXMgdHJvdXZcdTAwRTkgZXQgcXUnb24gYSB1biBwYXJlbnRJZCwgY2hlcmNoZXIgZGFucyBsZXMgZW5mYW50cyBkdSBwYXJlbnRcbiAgICAgIGlmICghdGFyZ2V0QmxvY2sgJiYgcGFyZW50SWQpIHtcbiAgICAgICAgY29uc3QgcGFyZW50QmxvY2sgPSBjdXJyZW50UGFnZS5ibG9ja3MuZmluZCgoYikgPT4gYi5pZCA9PT0gcGFyZW50SWQpO1xuICAgICAgICBpZiAocGFyZW50QmxvY2sgJiYgcGFyZW50QmxvY2suY2hpbGRyZW4pIHtcbiAgICAgICAgICB0YXJnZXRCbG9jayA9IHBhcmVudEJsb2NrLmNoaWxkcmVuLmZpbmQoKGNoaWxkKSA9PiBjaGlsZC5pZCA9PT0gYmxvY2tJZCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gU2lub24gY2hlcmNoZXIgZGFucyB0b3VzIGxlcyBncm91cGVzXG4gICAgICBpZiAoIXRhcmdldEJsb2NrKSB7XG4gICAgICAgIGZvciAoY29uc3QgYiBvZiBjdXJyZW50UGFnZS5ibG9ja3MpIHtcbiAgICAgICAgICBpZiAoYi5jaGlsZHJlbikge1xuICAgICAgICAgICAgY29uc3QgZm91bmQgPSBiLmNoaWxkcmVuLmZpbmQoKGNoaWxkKSA9PiBjaGlsZC5pZCA9PT0gYmxvY2tJZCk7XG4gICAgICAgICAgICBpZiAoZm91bmQpIHtcbiAgICAgICAgICAgICAgdGFyZ2V0QmxvY2sgPSBmb3VuZDtcbiAgICAgICAgICAgICAgcGFyZW50SWQgPSBiLmlkO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gRmFsbGJhY2sgc3VyIGxlIHByZW1pZXIgYmxvY1xuICAgICAgaWYgKCF0YXJnZXRCbG9jaykge1xuICAgICAgICB0YXJnZXRCbG9jayA9IGN1cnJlbnRQYWdlLmJsb2Nrc1swXSB8fCBudWxsO1xuICAgICAgICBwYXJlbnRJZCA9IG51bGw7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGFjdGl2ZUJsb2NrSWQgPSB0YXJnZXRCbG9jaz8uaWQgfHwgbnVsbDtcbiAgICAgIGFjdGl2ZUJsb2NrUGFyZW50SWQgPSBwYXJlbnRJZDtcbiAgICAgIHJlbmRlckJsb2NrTGlzdChjdXJyZW50UGFnZSk7XG4gICAgICByZW5kZXJCbG9ja0RldGFpbHModGFyZ2V0QmxvY2spO1xuICAgICAgYXBwbHlQcmV2aWV3SGlnaGxpZ2h0KGFjdGl2ZUJsb2NrSWQpO1xuICAgIH07XG4gICAgY29uc3QgdXBkYXRlQ3VycmVudFBhZ2VCbG9ja3MgPSAobmV3QmxvY2tzKSA9PiB7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG5leHRQYWdlID0geyAuLi5jdXJyZW50UGFnZSwgYmxvY2tzOiBuZXdCbG9ja3MgfTtcbiAgICAgIHVwZGF0ZUN1cnJlbnRQYWdlU3RhdGUobmV4dFBhZ2UpO1xuICAgIH07XG4gICAgY29uc3QgaXNEZXNrdG9wUmVvcmRlciA9ICgpID0+IHdpbmRvdy5tYXRjaE1lZGlhKCcobWluLXdpZHRoOiAxMDI0cHgpJykubWF0Y2hlcztcbiAgICBmdW5jdGlvbiBtb3ZlQmxvY2tCeU9mZnNldChibG9ja0lkLCBvZmZzZXQpIHtcbiAgICAgIGlmICghY3VycmVudFBhZ2UgfHwgIWJsb2NrSWQgfHwgIW9mZnNldCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBibG9ja3MgPSBbLi4uKGN1cnJlbnRQYWdlLmJsb2NrcyB8fCBbXSldO1xuICAgICAgY29uc3QgaW5kZXggPSBibG9ja3MuZmluZEluZGV4KChibG9jaykgPT4gYmxvY2suaWQgPT09IGJsb2NrSWQpO1xuICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBuZXdJbmRleCA9IGluZGV4ICsgb2Zmc2V0O1xuICAgICAgaWYgKG5ld0luZGV4IDwgMCB8fCBuZXdJbmRleCA+PSBibG9ja3MubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IFttb3ZlZF0gPSBibG9ja3Muc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIGJsb2Nrcy5zcGxpY2UobmV3SW5kZXgsIDAsIG1vdmVkKTtcbiAgICAgIHVwZGF0ZUN1cnJlbnRQYWdlQmxvY2tzKGJsb2Nrcyk7XG4gICAgICBzZXRBY3RpdmVQYWdlKGN1cnJlbnRQYWdlLmlkLCB7IHByZXNlcnZlQmxvY2s6IHRydWUgfSk7XG4gICAgICBzZXRBY3RpdmVCbG9jayhtb3ZlZC5pZCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlb3JkZXJCbG9ja3Moc291cmNlSWQsIHRhcmdldElkKSB7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlIHx8ICFzb3VyY2VJZCB8fCAhdGFyZ2V0SWQgfHwgc291cmNlSWQgPT09IHRhcmdldElkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGJsb2NrcyA9IFsuLi4oY3VycmVudFBhZ2UuYmxvY2tzIHx8IFtdKV07XG4gICAgICBjb25zdCBmcm9tSW5kZXggPSBibG9ja3MuZmluZEluZGV4KChibG9jaykgPT4gYmxvY2suaWQgPT09IHNvdXJjZUlkKTtcbiAgICAgIGNvbnN0IHRvSW5kZXggPSBibG9ja3MuZmluZEluZGV4KChibG9jaykgPT4gYmxvY2suaWQgPT09IHRhcmdldElkKTtcbiAgICAgIGlmIChmcm9tSW5kZXggPCAwIHx8IHRvSW5kZXggPCAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IFttb3ZlZF0gPSBibG9ja3Muc3BsaWNlKGZyb21JbmRleCwgMSk7XG4gICAgICBibG9ja3Muc3BsaWNlKHRvSW5kZXgsIDAsIG1vdmVkKTtcbiAgICAgIHVwZGF0ZUN1cnJlbnRQYWdlQmxvY2tzKGJsb2Nrcyk7XG4gICAgICBzZXRBY3RpdmVQYWdlKGN1cnJlbnRQYWdlLmlkLCB7IHByZXNlcnZlQmxvY2s6IHRydWUgfSk7XG4gICAgICBzZXRBY3RpdmVCbG9jayhtb3ZlZC5pZCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlb3JkZXJCbG9ja3NXaXRoUG9zaXRpb24oc291cmNlSWQsIHRhcmdldElkLCBwb3NpdGlvbikge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSB8fCAhc291cmNlSWQgfHwgIXRhcmdldElkIHx8IHNvdXJjZUlkID09PSB0YXJnZXRJZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBibG9ja3MgPSBbLi4uKGN1cnJlbnRQYWdlLmJsb2NrcyB8fCBbXSldO1xuICAgICAgY29uc3QgZnJvbUluZGV4ID0gYmxvY2tzLmZpbmRJbmRleCgoYmxvY2spID0+IGJsb2NrLmlkID09PSBzb3VyY2VJZCk7XG4gICAgICBsZXQgdG9JbmRleCA9IGJsb2Nrcy5maW5kSW5kZXgoKGJsb2NrKSA9PiBibG9jay5pZCA9PT0gdGFyZ2V0SWQpO1xuICAgICAgaWYgKGZyb21JbmRleCA8IDAgfHwgdG9JbmRleCA8IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgW21vdmVkXSA9IGJsb2Nrcy5zcGxpY2UoZnJvbUluZGV4LCAxKTtcbiAgICAgIC8vIEFqdXN0ZXIgbCdpbmRleCBzaSBuXHUwMEU5Y2Vzc2FpcmUgYXByXHUwMEU4cyBsYSBzdXBwcmVzc2lvblxuICAgICAgaWYgKGZyb21JbmRleCA8IHRvSW5kZXgpIHtcbiAgICAgICAgdG9JbmRleC0tO1xuICAgICAgfVxuICAgICAgLy8gSW5zXHUwMEU5cmVyIGF2YW50IG91IGFwclx1MDBFOHMgbGEgY2libGVcbiAgICAgIGNvbnN0IGluc2VydEluZGV4ID0gcG9zaXRpb24gPT09ICdiZWZvcmUnID8gdG9JbmRleCA6IHRvSW5kZXggKyAxO1xuICAgICAgYmxvY2tzLnNwbGljZShpbnNlcnRJbmRleCwgMCwgbW92ZWQpO1xuICAgICAgdXBkYXRlQ3VycmVudFBhZ2VCbG9ja3MoYmxvY2tzKTtcbiAgICAgIHNldEFjdGl2ZVBhZ2UoY3VycmVudFBhZ2UuaWQsIHsgcHJlc2VydmVCbG9jazogdHJ1ZSB9KTtcbiAgICAgIHNldEFjdGl2ZUJsb2NrKG1vdmVkLmlkKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlRHJhZ2dhYmxlU3RhdGUoKSB7XG4gICAgICBpZiAoIWJsb2NrTGlzdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBkcmFnZ2FibGUgPSBpc0Rlc2t0b3BSZW9yZGVyKCk7XG4gICAgICBibG9ja0xpc3QucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYmxvY2staXRlbV0nKS5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgIGl0ZW0uc2V0QXR0cmlidXRlKCdkcmFnZ2FibGUnLCBkcmFnZ2FibGUgPyAndHJ1ZScgOiAnZmFsc2UnKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjbG9zZUJsb2NrTGlicmFyeSgpIHtcbiAgICAgIGlmICghYmxvY2tMaWJyYXJ5KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGJsb2NrTGlicmFyeS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGJsb2NrTGlicmFyeU9wZW4gPSBmYWxzZTtcbiAgICAgIHBlbmRpbmdHcm91cElkRm9yTmV3QmxvY2sgPSBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBvcGVuQmxvY2tMaWJyYXJ5KCkge1xuICAgICAgaWYgKCFibG9ja0xpYnJhcnkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYmxvY2tMaWJyYXJ5LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgYmxvY2tMaWJyYXJ5T3BlbiA9IHRydWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRvZ2dsZUJsb2NrTGlicmFyeSgpIHtcbiAgICAgIGJsb2NrTGlicmFyeU9wZW4gPyBjbG9zZUJsb2NrTGlicmFyeSgpIDogb3BlbkJsb2NrTGlicmFyeSgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBhZGRCbG9ja0Zyb21MaWJyYXJ5KHR5cGUpIHtcbiAgICAgIGlmICghY3VycmVudFBhZ2UgfHwgIXR5cGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgZGVmaW5pdGlvbiA9IGJsb2NrTGlicmFyeURlZmluaXRpb25zW3R5cGVdO1xuICAgICAgaWYgKCFkZWZpbml0aW9uKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNvdW50ID1cbiAgICAgICAgKGN1cnJlbnRQYWdlLmJsb2NrcyB8fCBbXSkuZmlsdGVyKChibG9jaykgPT4gYmxvY2sudHlwZSA9PT0gZGVmaW5pdGlvbi50eXBlKS5sZW5ndGggKyAxO1xuICAgICAgY29uc3QgbmV3QmxvY2sgPSBjcmVhdGVCbG9jayhcbiAgICAgICAgZ2VuZXJhdGVCbG9ja0lkKGN1cnJlbnRQYWdlLmlkLCB0eXBlKSxcbiAgICAgICAgYCR7ZGVmaW5pdGlvbi5sYWJlbH0gJHtjb3VudH1gLFxuICAgICAgICBkZWZpbml0aW9uLnR5cGUsXG4gICAgICAgIGRlZmluaXRpb24uc3RhdHVzLFxuICAgICAgICBkZWZpbml0aW9uLmRlc2NyaXB0aW9uLFxuICAgICAgICBkZWZpbml0aW9uLnByb3BzLFxuICAgICAgICBkZWZpbml0aW9uLnNldHRpbmdzIHx8IHt9LFxuICAgICAgKTtcbiAgICAgIGlmICgoZGVmaW5pdGlvbi50eXBlIHx8ICcnKS50b0xvd2VyQ2FzZSgpID09PSAnY29sbGVjdGlvbmdyaWQnKSB7XG4gICAgICAgIGNvbnN0IGZpcnN0Q29sbGVjdGlvbklkID0gZGVzaWduQ29sbGVjdGlvbnNbMF0/LmlkIHx8ICcnO1xuICAgICAgICBuZXdCbG9jay5jb2xsZWN0aW9uSWQgPSBmaXJzdENvbGxlY3Rpb25JZDtcbiAgICAgICAgbmV3QmxvY2suc2V0dGluZ3MuY29sbGVjdGlvbklkID0gZmlyc3RDb2xsZWN0aW9uSWQ7XG4gICAgICAgIG5ld0Jsb2NrLnNldHRpbmdzLmxpbWl0ID0gbmV3QmxvY2suc2V0dGluZ3MubGltaXQgfHwgNjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gU2kgb24gYWpvdXRlIFx1MDBFMCB1biBncm91cGVcbiAgICAgIGlmIChwZW5kaW5nR3JvdXBJZEZvck5ld0Jsb2NrKSB7XG4gICAgICAgIGNvbnN0IGdyb3VwQmxvY2sgPSBjdXJyZW50UGFnZS5ibG9ja3MuZmluZCgoYikgPT4gYi5pZCA9PT0gcGVuZGluZ0dyb3VwSWRGb3JOZXdCbG9jayk7XG4gICAgICAgIGlmIChncm91cEJsb2NrKSB7XG4gICAgICAgICAgaWYgKCFncm91cEJsb2NrLmNoaWxkcmVuKSBncm91cEJsb2NrLmNoaWxkcmVuID0gW107XG4gICAgICAgICAgZ3JvdXBCbG9jay5jaGlsZHJlbi5wdXNoKG5ld0Jsb2NrKTtcbiAgICAgICAgICBwZW5kaW5nR3JvdXBJZEZvck5ld0Jsb2NrID0gbnVsbDtcbiAgICAgICAgICByZW5kZXJCbG9ja0xpc3QoY3VycmVudFBhZ2UpO1xuICAgICAgICAgIHNhdmVQYWdlQmxvY2tzKCk7XG4gICAgICAgICAgc2V0QWN0aXZlQmxvY2sobmV3QmxvY2suaWQsIGdyb3VwQmxvY2suaWQpO1xuICAgICAgICAgIGNsb3NlQmxvY2tMaWJyYXJ5KCk7XG4gICAgICAgICAgc2hvd1RvYXN0KCdCbG9jIGFqb3V0XHUwMEU5IGF1IGdyb3VwZScpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBwZW5kaW5nR3JvdXBJZEZvck5ld0Jsb2NrID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgbmV4dEJsb2NrcyA9IFsuLi4oY3VycmVudFBhZ2UuYmxvY2tzIHx8IFtdKSwgbmV3QmxvY2tdO1xuICAgICAgdXBkYXRlQ3VycmVudFBhZ2VCbG9ja3MobmV4dEJsb2Nrcyk7XG4gICAgICBzZXRBY3RpdmVQYWdlKGN1cnJlbnRQYWdlLmlkLCB7IHByZXNlcnZlQmxvY2s6IHRydWUgfSk7XG4gICAgICBzZXRBY3RpdmVCbG9jayhuZXdCbG9jay5pZCk7XG4gICAgICBjbG9zZUJsb2NrTGlicmFyeSgpO1xuICAgICAgc2hvd1RvYXN0KCdCbG9jIGFqb3V0XHUwMEU5Jyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlbGV0ZUJsb2NrQnlJZChibG9ja0lkKSB7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGJsb2NrcyA9IChjdXJyZW50UGFnZS5ibG9ja3MgfHwgW10pLmZpbHRlcigoYmxvY2spID0+IGJsb2NrLmlkICE9PSBibG9ja0lkKTtcbiAgICAgIGNvbnN0IG5leHRBY3RpdmUgPVxuICAgICAgICBibG9ja0lkID09PSBhY3RpdmVCbG9ja0lkID8gYmxvY2tzWzBdPy5pZCB8fCBudWxsIDogYWN0aXZlQmxvY2tJZCB8fCBibG9ja3NbMF0/LmlkIHx8IG51bGw7XG4gICAgICB1cGRhdGVDdXJyZW50UGFnZUJsb2NrcyhibG9ja3MpO1xuICAgICAgYWN0aXZlQmxvY2tJZCA9IG5leHRBY3RpdmU7XG4gICAgICBzZXRBY3RpdmVQYWdlKGN1cnJlbnRQYWdlLmlkLCB7IHByZXNlcnZlQmxvY2s6IHRydWUgfSk7XG4gICAgICBpZiAoYWN0aXZlQmxvY2tJZCkge1xuICAgICAgICBzZXRBY3RpdmVCbG9jayhhY3RpdmVCbG9ja0lkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlbmRlckJsb2NrRGV0YWlscyhudWxsKTtcbiAgICAgICAgYXBwbHlQcmV2aWV3SGlnaGxpZ2h0KG51bGwpO1xuICAgICAgfVxuICAgICAgc2hvd1RvYXN0KCdCbG9jIHN1cHByaW1cdTAwRTknKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2xvc2VCbG9ja0RlbGV0ZU1vZGFsKCkge1xuICAgICAgaWYgKCFibG9ja0RlbGV0ZU1vZGFsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGJsb2NrRGVsZXRlTW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBibG9ja0RlbGV0ZU1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2ZsZXgnKTtcbiAgICAgIHBlbmRpbmdEZWxldGVCbG9ja0lkID0gbnVsbDtcbiAgICAgIGRlYWN0aXZhdGVNb2RhbChibG9ja0RlbGV0ZU1vZGFsKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gb3BlbkJsb2NrRGVsZXRlTW9kYWwoYmxvY2tJZCkge1xuICAgICAgaWYgKCFibG9ja0RlbGV0ZU1vZGFsKSB7XG4gICAgICAgIGRlbGV0ZUJsb2NrQnlJZChibG9ja0lkKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcGVuZGluZ0RlbGV0ZUJsb2NrSWQgPSBibG9ja0lkO1xuICAgICAgYmxvY2tEZWxldGVNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGJsb2NrRGVsZXRlTW9kYWwuY2xhc3NMaXN0LmFkZCgnZmxleCcpO1xuICAgICAgYWN0aXZhdGVNb2RhbChibG9ja0RlbGV0ZU1vZGFsLCBjbG9zZUJsb2NrRGVsZXRlTW9kYWwpO1xuICAgIH1cbiAgICBjb25zdCB1cGRhdGVDdXJyZW50UGFnZVN0YXRlID0gKG5leHRQYWdlKSA9PiB7XG4gICAgICBpZiAoIW5leHRQYWdlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBub3JtYWxpemVQYWdlRGF0YShuZXh0UGFnZSk7XG4gICAgICBwYWdlcyA9IHBhZ2VzLm1hcCgocGFnZSkgPT4gKHBhZ2UuaWQgPT09IG5vcm1hbGl6ZWQuaWQgPyBub3JtYWxpemVkIDogcGFnZSkpO1xuICAgICAgY3VycmVudFBhZ2UgPSBub3JtYWxpemVkO1xuICAgICAgc2F2ZVBhZ2VUb1NlcnZlcihub3JtYWxpemVkKTtcbiAgICB9O1xuICAgIGNvbnN0IHNldEFjdGl2ZVBhZ2UgPSAocGFnZUlkLCBvcHRpb25zID0ge30pID0+IHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IHBhZ2VzLmZpbmQoKHBhZ2UpID0+IHBhZ2UuaWQgPT09IHBhZ2VJZCkgfHwgcGFnZXNbMF0gfHwgbnVsbDtcbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWRUYXJnZXQgPSB0YXJnZXQgPyBub3JtYWxpemVQYWdlRGF0YSh0YXJnZXQpIDogbnVsbDtcbiAgICAgIGN1cnJlbnRQYWdlID0gbm9ybWFsaXplZFRhcmdldDtcbiAgICAgIGFjdGl2ZVBhZ2VJZCA9IHRhcmdldD8uaWQgfHwgbnVsbDtcbiAgICAgIGlmICghb3B0aW9ucy5wcmVzZXJ2ZUJsb2NrIHx8ICFjdXJyZW50UGFnZSB8fCAhcGFnZUhhc0Jsb2NrSWQoY3VycmVudFBhZ2UsIGFjdGl2ZUJsb2NrSWQpKSB7XG4gICAgICAgIGFjdGl2ZUJsb2NrSWQgPSBjdXJyZW50UGFnZT8uYmxvY2tzPy5bMF0/LmlkIHx8IG51bGw7XG4gICAgICAgIGFjdGl2ZUJsb2NrUGFyZW50SWQgPSBudWxsO1xuICAgICAgfVxuICAgICAgaWYgKGFjdGl2ZVBhZ2VJZCkge1xuICAgICAgICBwZXJzaXN0QWN0aXZlUGFnZShhY3RpdmVQYWdlSWQpO1xuICAgICAgfVxuICAgICAgcmVuZGVyUGFnZUxpc3RzKHBhZ2VzLCBhY3RpdmVQYWdlSWQpO1xuICAgICAgc2V0QWN0aXZlTGFiZWxzKGN1cnJlbnRQYWdlKTtcbiAgICAgIHN5bmNQYWdlQWNjZXNzaWJpbGl0eUZpZWxkcygpO1xuICAgICAgcmVuZGVyUHJldmlld01ldGEoY3VycmVudFBhZ2UpO1xuICAgICAgcmVmcmVzaFByZXZpZXcoY3VycmVudFBhZ2UpO1xuICAgICAgcmVuZGVyQmxvY2tMaXN0KGN1cnJlbnRQYWdlKTtcbiAgICAgIHJlbmRlckJsb2NrRGV0YWlscyhnZXRBY3RpdmVCbG9jaygpKTtcbiAgICAgIGFwcGx5UHJldmlld0hpZ2hsaWdodChhY3RpdmVCbG9ja0lkKTtcbiAgICAgIHVwZGF0ZURyYWdnYWJsZVN0YXRlKCk7XG4gICAgICBpZiAoYmxvY2tMaWJyYXJ5T3Blbikge1xuICAgICAgICBjbG9zZUJsb2NrTGlicmFyeSgpO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgaXNEZXNrdG9wRHJhd2VyID0gKCkgPT4gd2luZG93Lm1hdGNoTWVkaWEoJyhtaW4td2lkdGg6IDEwMjRweCknKS5tYXRjaGVzO1xuICAgIGNvbnN0IHN5bmNEcmF3ZXJTdGF0ZSA9ICgpID0+IHtcbiAgICAgIGlmICghZHJhd2VyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChpc0Rlc2t0b3BEcmF3ZXIoKSkge1xuICAgICAgICBkcmF3ZXIuY2xhc3NMaXN0LmFkZCgnaXMtb3BlbicpO1xuICAgICAgICBkcmF3ZXJCYWNrZHJvcD8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnb3ZlcmZsb3ctaGlkZGVuJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkcmF3ZXIuY2xhc3NMaXN0LnJlbW92ZSgnaXMtb3BlbicpO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3Qgb3BlbkRyYXdlciA9ICgpID0+IHtcbiAgICAgIGlmICghZHJhd2VyIHx8IGlzRGVza3RvcERyYXdlcigpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGRyYXdlci5jbGFzc0xpc3QuYWRkKCdpcy1vcGVuJyk7XG4gICAgICBkcmF3ZXJCYWNrZHJvcD8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ292ZXJmbG93LWhpZGRlbicpO1xuICAgIH07XG4gICAgY29uc3QgY2xvc2VEcmF3ZXIgPSAoKSA9PiB7XG4gICAgICBpZiAoIWRyYXdlcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBkcmF3ZXIuY2xhc3NMaXN0LnJlbW92ZSgnaXMtb3BlbicpO1xuICAgICAgZHJhd2VyQmFja2Ryb3A/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICB9O1xuICAgIGNvbnN0IG9wZW5BZGRQYWdlRm9ybSA9ICgpID0+IHtcbiAgICAgIGlmICghYWRkUGFnZUZvcm0gfHwgIWFkZFBhZ2VUb2dnbGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYWRkUGFnZUZvcm0uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBhZGRQYWdlVG9nZ2xlLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgYWRkUGFnZUVycm9yICYmIChhZGRQYWdlRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgICBwYWdlU2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gICAgICBpZiAoYWRkUGFnZU5hbWUpIHtcbiAgICAgICAgYWRkUGFnZU5hbWUudmFsdWUgPSAnJztcbiAgICAgICAgYWRkUGFnZU5hbWUuZm9jdXMoKTtcbiAgICAgIH1cbiAgICAgIGlmIChhZGRQYWdlVGl0bGUpIHtcbiAgICAgICAgYWRkUGFnZVRpdGxlLnZhbHVlID0gJyc7XG4gICAgICB9XG4gICAgICBpZiAoYWRkUGFnZVNsdWcpIHtcbiAgICAgICAgYWRkUGFnZVNsdWcudmFsdWUgPSAnJztcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGNsb3NlQWRkUGFnZUZvcm0gPSAoKSA9PiB7XG4gICAgICBpZiAoIWFkZFBhZ2VGb3JtIHx8ICFhZGRQYWdlVG9nZ2xlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGFkZFBhZ2VGb3JtLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgYWRkUGFnZVRvZ2dsZS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGFkZFBhZ2VFcnJvciAmJiAoYWRkUGFnZUVycm9yLnRleHRDb250ZW50ID0gJycpO1xuICAgICAgcGFnZVNsdWdNYW51YWxseUVkaXRlZCA9IGZhbHNlO1xuICAgICAgYWRkUGFnZUZvcm0ucmVzZXQoKTtcbiAgICB9O1xuICAgIGNvbnN0IHN5bmNTbHVnRnJvbU5hbWUgPSAoKSA9PiB7XG4gICAgICBpZiAoIWFkZFBhZ2VOYW1lIHx8ICFhZGRQYWdlU2x1Zykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAocGFnZVNsdWdNYW51YWxseUVkaXRlZCAmJiBhZGRQYWdlU2x1Zy52YWx1ZS50cmltKCkubGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhZGRQYWdlU2x1Zy52YWx1ZSA9IG5vcm1hbGl6ZVBhZ2VTbHVnKGFkZFBhZ2VOYW1lLnZhbHVlKTtcbiAgICB9O1xuXG4gICAgbGV0IHBhZ2VzID0gW107XG4gICAgbGV0IGFjdGl2ZVBhZ2VJZCA9IG51bGw7XG4gICAgbGV0IHBhZ2VTbHVnTWFudWFsbHlFZGl0ZWQgPSBmYWxzZTtcbiAgICBsZXQgY3VycmVudFBhZ2UgPSBudWxsO1xuICAgIGxldCBhY3RpdmVCbG9ja0lkID0gbnVsbDtcbiAgICBsZXQgYmxvY2tMaWJyYXJ5T3BlbiA9IGZhbHNlO1xuICAgIGxldCBwZW5kaW5nRGVsZXRlQmxvY2tJZCA9IG51bGw7XG4gICAgbGV0IGxhdGVzdFByZXZpZXdIdG1sID0gJyc7XG4gICAgbGV0IHByZXZpZXdSZWFkeSA9IGZhbHNlO1xuICAgIGxldCBwcmV2aWV3UmVxdWVzdENvbnRyb2xsZXIgPSBudWxsO1xuICAgIGxldCBkZXNpZ25Db2xsZWN0aW9ucyA9IFtdO1xuXG4gICAgY29uc3Qgbm9ybWFsaXplQmxvY2tEYXRhID0gKGJsb2NrKSA9PiB7XG4gICAgICBjb25zdCBub3JtYWxpemVkID0ge1xuICAgICAgICAuLi5ibG9jayxcbiAgICAgICAgcHJvcHM6IEFycmF5LmlzQXJyYXkoYmxvY2sucHJvcHMpID8gYmxvY2sucHJvcHMgOiBbXSxcbiAgICAgICAgc2V0dGluZ3M6IHsgLi4uKGJsb2NrLnNldHRpbmdzIHx8IHt9KSB9LFxuICAgICAgfTtcbiAgICAgIGNvbnN0IHR5cGUgPSAobm9ybWFsaXplZC50eXBlIHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgaWYgKHR5cGUgPT09ICdjb2xsZWN0aW9uZ3JpZCcpIHtcbiAgICAgICAgbm9ybWFsaXplZC5jb2xsZWN0aW9uSWQgPVxuICAgICAgICAgIG5vcm1hbGl6ZWQuY29sbGVjdGlvbklkIHx8IG5vcm1hbGl6ZWQuc2V0dGluZ3MuY29sbGVjdGlvbklkIHx8ICcnO1xuICAgICAgICBub3JtYWxpemVkLnNldHRpbmdzLmNvbGxlY3Rpb25JZCA9IG5vcm1hbGl6ZWQuY29sbGVjdGlvbklkO1xuICAgICAgICBub3JtYWxpemVkLnNldHRpbmdzLmxpbWl0ID0gbm9ybWFsaXplZC5zZXR0aW5ncy5saW1pdCB8fCA2O1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5vcm1hbGl6ZWQ7XG4gICAgfTtcblxuICAgIGNvbnN0IG5vcm1hbGl6ZVBhZ2VEYXRhID0gKHBhZ2UpID0+ICh7XG4gICAgICAuLi5wYWdlLFxuICAgICAgYmxvY2tzOiAocGFnZS5ibG9ja3MgfHwgW10pLm1hcCgoYmxvY2spID0+IG5vcm1hbGl6ZUJsb2NrRGF0YShibG9jaykpLFxuICAgICAgc2VvOiB7XG4gICAgICAgIHRpdGxlOiAocGFnZS5zZW8/LnRpdGxlIHx8ICcnKS50cmltKCksXG4gICAgICAgIGRlc2NyaXB0aW9uOiAocGFnZS5zZW8/LmRlc2NyaXB0aW9uIHx8ICcnKS50cmltKCksXG4gICAgICAgIGluZGV4ZWQ6XG4gICAgICAgICAgdHlwZW9mIHBhZ2Uuc2VvPy5pbmRleGVkID09PSAnYm9vbGVhbicgPyBwYWdlLnNlby5pbmRleGVkIDogbnVsbCxcbiAgICAgIH0sXG4gICAgICBhY2Nlc3NpYmlsaXR5OiB7XG4gICAgICAgIHNob3dJbk1haW5OYXY6IHBhZ2UuYWNjZXNzaWJpbGl0eT8uc2hvd0luTWFpbk5hdiAhPT0gZmFsc2UsXG4gICAgICAgIG1haW5MYWJlbDogKHBhZ2UuYWNjZXNzaWJpbGl0eT8ubWFpbkxhYmVsIHx8ICcnKS50cmltKCksXG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgY29uc3QgbG9hZERlc2lnbkNvbGxlY3Rpb25zID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uc0FwaUJhc2UpIHtcbiAgICAgICAgZGVzaWduQ29sbGVjdGlvbnMgPSBbXTtcbiAgICAgICAgdXBkYXRlQ29sbGVjdGlvblNlbGVjdE9wdGlvbnMoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChjb2xsZWN0aW9uc0FwaUJhc2UsIHtcbiAgICAgICAgICBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIGNvbGxlY3Rpb25zLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gW10pO1xuICAgICAgICBkZXNpZ25Db2xsZWN0aW9ucyA9IEFycmF5LmlzQXJyYXkocGF5bG9hZCkgPyBwYXlsb2FkIDogW107XG4gICAgICAgIGNvbnN0IGN1cnJlbnRWYWx1ZSA9IGNvbGxlY3Rpb25TZWxlY3Q/LnZhbHVlIHx8ICcnO1xuICAgICAgICB1cGRhdGVDb2xsZWN0aW9uU2VsZWN0T3B0aW9ucyhjdXJyZW50VmFsdWUpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkZXNpZ25dIGNvbGxlY3Rpb25zIGxvYWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoJ0NvbGxlY3Rpb25zIGluZGlzcG9uaWJsZXMuJyk7XG4gICAgICAgIGRlc2lnbkNvbGxlY3Rpb25zID0gW107XG4gICAgICAgIHVwZGF0ZUNvbGxlY3Rpb25TZWxlY3RPcHRpb25zKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHN5bmNDb2xsZWN0aW9uU2VsZWN0aW9uSW5mbyA9IChjb2xsZWN0aW9uSWQpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvblNlbGVjdGlvbkluZm8pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFjb2xsZWN0aW9uSWQpIHtcbiAgICAgICAgY29sbGVjdGlvblNlbGVjdGlvbkluZm8udGV4dENvbnRlbnQgPSBkZXNpZ25Db2xsZWN0aW9ucy5sZW5ndGhcbiAgICAgICAgICA/ICdTXHUwMEU5bGVjdGlvbm5leiB1bmUgY29sbGVjdGlvbiBwb3VyIGFmZmljaGVyIHNlcyBpbmZvcm1hdGlvbnMuJ1xuICAgICAgICAgIDogJ0F1Y3VuZSBjb2xsZWN0aW9uIGRpc3BvbmlibGUuIEFqb3V0ZXotZW4gZGVwdWlzIGxcdTIwMTlvbmdsZXQgQ29udGVudXMuJztcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgZW50cnkgPSBkZXNpZ25Db2xsZWN0aW9ucy5maW5kKChjb2xsZWN0aW9uKSA9PiBjb2xsZWN0aW9uLmlkID09PSBjb2xsZWN0aW9uSWQpO1xuICAgICAgaWYgKCFlbnRyeSkge1xuICAgICAgICBjb2xsZWN0aW9uU2VsZWN0aW9uSW5mby50ZXh0Q29udGVudCA9IGBDb2xsZWN0aW9uICR7Y29sbGVjdGlvbklkfWA7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRldGFpbHMgPSBbXTtcbiAgICAgIGlmIChlbnRyeS5kZXNjcmlwdGlvbikge1xuICAgICAgICBkZXRhaWxzLnB1c2goZW50cnkuZGVzY3JpcHRpb24pO1xuICAgICAgfVxuICAgICAgaWYgKGVudHJ5LnR5cGUpIHtcbiAgICAgICAgZGV0YWlscy5wdXNoKGBUeXBlXHUwMEEwOiAke2VudHJ5LnR5cGV9YCk7XG4gICAgICB9XG4gICAgICBjb2xsZWN0aW9uU2VsZWN0aW9uSW5mby50ZXh0Q29udGVudCA9XG4gICAgICAgIGRldGFpbHMuam9pbignIFx1MDBCNyAnKSB8fCBgQ29sbGVjdGlvbiAke2VudHJ5Lm5hbWUgfHwgZW50cnkuaWR9YDtcbiAgICB9O1xuXG4gICAgY29uc3QgdXBkYXRlQ29sbGVjdGlvblNlbGVjdE9wdGlvbnMgPSAoc2VsZWN0ZWRWYWx1ZSA9ICcnKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25TZWxlY3QpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29sbGVjdGlvblNlbGVjdC5pbm5lckhUTUwgPSAnJztcbiAgICAgIGlmICghZGVzaWduQ29sbGVjdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgIGNvbGxlY3Rpb25TZWxlY3QuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgICAgb3B0aW9uLnZhbHVlID0gJyc7XG4gICAgICAgIG9wdGlvbi50ZXh0Q29udGVudCA9ICdBdWN1bmUgY29sbGVjdGlvbiBkaXNwb25pYmxlJztcbiAgICAgICAgY29sbGVjdGlvblNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb24pO1xuICAgICAgICBzeW5jQ29sbGVjdGlvblNlbGVjdGlvbkluZm8oJycpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb2xsZWN0aW9uU2VsZWN0LmRpc2FibGVkID0gZmFsc2U7XG4gICAgICBpZiAoc2VsZWN0ZWRWYWx1ZSAmJiAhZGVzaWduQ29sbGVjdGlvbnMuc29tZSgoZW50cnkpID0+IGVudHJ5LmlkID09PSBzZWxlY3RlZFZhbHVlKSkge1xuICAgICAgICBjb25zdCBmYWxsYmFja09wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICBmYWxsYmFja09wdGlvbi52YWx1ZSA9IHNlbGVjdGVkVmFsdWU7XG4gICAgICAgIGZhbGxiYWNrT3B0aW9uLnRleHRDb250ZW50ID0gc2VsZWN0ZWRWYWx1ZTtcbiAgICAgICAgY29sbGVjdGlvblNlbGVjdC5hcHBlbmRDaGlsZChmYWxsYmFja09wdGlvbik7XG4gICAgICB9XG4gICAgICBkZXNpZ25Db2xsZWN0aW9ucy5mb3JFYWNoKChjb2xsZWN0aW9uKSA9PiB7XG4gICAgICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICBvcHRpb24udmFsdWUgPSBjb2xsZWN0aW9uLmlkO1xuICAgICAgICBjb25zdCBsYWJlbCA9IGNvbGxlY3Rpb24ubmFtZSB8fCBjb2xsZWN0aW9uLmlkO1xuICAgICAgICBvcHRpb24udGV4dENvbnRlbnQgPSBjb2xsZWN0aW9uLnR5cGUgPyBgJHtsYWJlbH0gXHUwMEI3ICR7Y29sbGVjdGlvbi50eXBlfWAgOiBsYWJlbDtcbiAgICAgICAgb3B0aW9uLmRhdGFzZXQuZGVzY3JpcHRpb24gPSBjb2xsZWN0aW9uLmRlc2NyaXB0aW9uIHx8ICcnO1xuICAgICAgICBjb2xsZWN0aW9uU2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbik7XG4gICAgICB9KTtcbiAgICAgIGlmIChzZWxlY3RlZFZhbHVlKSB7XG4gICAgICAgIGNvbGxlY3Rpb25TZWxlY3QudmFsdWUgPSBzZWxlY3RlZFZhbHVlO1xuICAgICAgfVxuICAgICAgc3luY0NvbGxlY3Rpb25TZWxlY3Rpb25JbmZvKGNvbGxlY3Rpb25TZWxlY3QudmFsdWUgfHwgJycpO1xuICAgIH07XG5cbiAgICBsb2FkRGVzaWduQ29sbGVjdGlvbnMoKTtcbiAgICBzeW5jRHJhd2VyU3RhdGUoKTtcblxuICAgIGRyYXdlck9wZW5CdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlbkRyYXdlcik7XG4gICAgfSk7XG4gICAgZHJhd2VyQ2xvc2VCdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VEcmF3ZXIpO1xuICAgIH0pO1xuICAgIGRyYXdlckJhY2tkcm9wPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlRHJhd2VyKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgKCkgPT4ge1xuICAgICAgc3luY0RyYXdlclN0YXRlKCk7XG4gICAgICB1cGRhdGVEcmFnZ2FibGVTdGF0ZSgpO1xuICAgIH0pO1xuXG4gICAgYWRkUGFnZVRvZ2dsZT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuQWRkUGFnZUZvcm0pO1xuICAgIGFkZFBhZ2VDYW5jZWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VBZGRQYWdlRm9ybSk7XG4gICAgYWRkUGFnZU5hbWU/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0Jywgc3luY1NsdWdGcm9tTmFtZSk7XG4gICAgYWRkUGFnZVNsdWc/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgYWRkUGFnZUVycm9yICYmIChhZGRQYWdlRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgICBwYWdlU2x1Z01hbnVhbGx5RWRpdGVkID0gdHJ1ZTtcbiAgICB9KTtcbiAgICBhZGRQYWdlRm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKCFwYWdlc0FwaUJhc2UpIHtcbiAgICAgICAgYWRkUGFnZUVycm9yICYmIChhZGRQYWdlRXJyb3IudGV4dENvbnRlbnQgPSAnQXVjdW4gc2l0ZSBzXHUwMEU5bGVjdGlvbm5cdTAwRTkuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghYWRkUGFnZU5hbWUgfHwgIWFkZFBhZ2VTbHVnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG5hbWUgPSBhZGRQYWdlTmFtZS52YWx1ZS50cmltKCk7XG4gICAgICBjb25zdCB0aXRsZSA9IGFkZFBhZ2VUaXRsZT8udmFsdWUudHJpbSgpIHx8IG5hbWU7IC8vIEZhbGxiYWNrIHRvIG5hbWUgaWYgdGl0bGUgaXMgZW1wdHlcbiAgICAgIGNvbnN0IHNsdWcgPSBub3JtYWxpemVQYWdlU2x1ZyhhZGRQYWdlU2x1Zy52YWx1ZS50cmltKCkgfHwgbmFtZSk7XG4gICAgICBpZiAoIW5hbWUgfHwgIXNsdWcpIHtcbiAgICAgICAgYWRkUGFnZUVycm9yICYmIChhZGRQYWdlRXJyb3IudGV4dENvbnRlbnQgPSAnTm9tIGV0IHNsdWcgc29udCByZXF1aXMuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGFkZFBhZ2VFcnJvciAmJiAoYWRkUGFnZUVycm9yLnRleHRDb250ZW50ID0gJycpO1xuICAgICAgaWYgKGFkZFBhZ2VTdWJtaXRCdXR0b24pIHtcbiAgICAgICAgYWRkUGFnZVN1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIGFkZFBhZ2VTdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSAnQ3JcdTAwRTlhdGlvbi4uLic7XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBjcmVhdGVkUGFnZSA9IGF3YWl0IGNyZWF0ZVBhZ2VPblNlcnZlcih7IG5hbWUsIHRpdGxlLCBzbHVnIH0pO1xuICAgICAgICBpZiAoIWNyZWF0ZWRQYWdlIHx8ICFjcmVhdGVkUGFnZS5pZCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUlx1MDBFOXBvbnNlIGludmFsaWRlLicpO1xuICAgICAgICB9XG4gICAgICAgIHBhZ2VzID0gWy4uLnBhZ2VzLCBub3JtYWxpemVQYWdlRGF0YShjcmVhdGVkUGFnZSldO1xuICAgICAgICBjbG9zZUFkZFBhZ2VGb3JtKCk7XG4gICAgICAgIHNob3dUb2FzdCgnUGFnZSBjclx1MDBFOVx1MDBFOWUnKTtcbiAgICAgICAgc2V0QWN0aXZlUGFnZShjcmVhdGVkUGFnZS5pZCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2Rlc2lnbl0gY3JlYXRlIHBhZ2UgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgYWRkUGFnZUVycm9yICYmIChhZGRQYWdlRXJyb3IudGV4dENvbnRlbnQgPSBlcnIubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBjclx1MDBFOWVyIGxhIHBhZ2UuJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoYWRkUGFnZVN1Ym1pdEJ1dHRvbikge1xuICAgICAgICAgIGFkZFBhZ2VTdWJtaXRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICBhZGRQYWdlU3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gJ0NyXHUwMEU5ZXInO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyA9PT0gSW1wb3J0IEpTT04gaGFuZGxlcnMgPT09XG4gICAgY29uc3QgcmVzZXRQYXN0ZVN0YXRlID0gKCkgPT4ge1xuICAgICAgaWYgKGltcG9ydFBhc3RlSW5wdXQpIGltcG9ydFBhc3RlSW5wdXQudmFsdWUgPSAnJztcbiAgICAgIGlmIChwYXN0ZUVycm9yKSB7XG4gICAgICAgIHBhc3RlRXJyb3IuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIHBhc3RlRXJyb3IudGV4dENvbnRlbnQgPSAnJztcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgdmFsaWRhdGVQYXN0ZUpzb24gPSAoKSA9PiB7XG4gICAgICBpZiAoIWltcG9ydFBhc3RlSW5wdXQpIHJldHVybiBudWxsO1xuICAgICAgY29uc3QgdGV4dCA9IGltcG9ydFBhc3RlSW5wdXQudmFsdWUudHJpbSgpO1xuICAgICAgaWYgKCF0ZXh0KSB7XG4gICAgICAgIGlmIChwYXN0ZUVycm9yKSBwYXN0ZUVycm9yLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZCA9IEpTT04ucGFyc2UodGV4dCk7XG4gICAgICAgIGlmIChwYXN0ZUVycm9yKSBwYXN0ZUVycm9yLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICByZXR1cm4gcGFyc2VkO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGlmIChwYXN0ZUVycm9yKSB7XG4gICAgICAgICAgcGFzdGVFcnJvci5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICBwYXN0ZUVycm9yLnRleHRDb250ZW50ID0gYFx1Mjc0QyBKU09OIGludmFsaWRlIDogJHtlcnIubWVzc2FnZX1gO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBmb3JtYXRQYXN0ZUpzb24gPSAoKSA9PiB7XG4gICAgICBpZiAoIWltcG9ydFBhc3RlSW5wdXQpIHJldHVybjtcbiAgICAgIGNvbnN0IHRleHQgPSBpbXBvcnRQYXN0ZUlucHV0LnZhbHVlLnRyaW0oKTtcbiAgICAgIGlmICghdGV4dCkgcmV0dXJuO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcGFyc2VkID0gSlNPTi5wYXJzZSh0ZXh0KTtcbiAgICAgICAgaW1wb3J0UGFzdGVJbnB1dC52YWx1ZSA9IEpTT04uc3RyaW5naWZ5KHBhcnNlZCwgbnVsbCwgMik7XG4gICAgICAgIHZhbGlkYXRlUGFzdGVKc29uKCk7XG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgLy8gU2kgcGFzIHZhbGlkZSwgb24gbmUgZm9ybWF0ZSBwYXNcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgdXBkYXRlSW1wb3J0U3VibWl0U3RhdGUgPSAoKSA9PiB7XG4gICAgICBpZiAoIWltcG9ydFN1Ym1pdCkgcmV0dXJuO1xuICAgICAgaWYgKGFjdGl2ZUltcG9ydFRhYiA9PT0gJ3VwbG9hZCcpIHtcbiAgICAgICAgaW1wb3J0U3VibWl0LmRpc2FibGVkID0gaW1wb3J0U2VsZWN0ZWRGaWxlcy5sZW5ndGggPT09IDA7XG4gICAgICB9IGVsc2UgaWYgKGFjdGl2ZUltcG9ydFRhYiA9PT0gJ3Bhc3RlJykge1xuICAgICAgICBjb25zdCBwYXJzZWQgPSB2YWxpZGF0ZVBhc3RlSnNvbigpO1xuICAgICAgICBpbXBvcnRTdWJtaXQuZGlzYWJsZWQgPSAhcGFyc2VkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW1wb3J0U3VibWl0LmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3Qgb3BlbkltcG9ydE1vZGFsID0gKCkgPT4ge1xuICAgICAgaWYgKCFpbXBvcnRNb2RhbCkgcmV0dXJuO1xuICAgICAgaW1wb3J0TW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBpbXBvcnRNb2RhbC5jbGFzc0xpc3QuYWRkKCdmbGV4Jyk7XG4gICAgICBpbXBvcnRTZWxlY3RlZEZpbGVzID0gW107XG4gICAgICBhY3RpdmVJbXBvcnRUYWIgPSAndXBsb2FkJztcbiAgICAgIHVwZGF0ZUltcG9ydEZpbGVMaXN0KCk7XG4gICAgICByZXNldFBhc3RlU3RhdGUoKTtcbiAgICAgIGlmIChpbXBvcnRSZXN1bHRzKSBpbXBvcnRSZXN1bHRzLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgaWYgKGltcG9ydFJlc3VsdHNDb250ZW50KSBpbXBvcnRSZXN1bHRzQ29udGVudC5pbm5lckhUTUwgPSAnJztcbiAgICAgIHVwZGF0ZUltcG9ydFN1Ym1pdFN0YXRlKCk7XG4gICAgICAvLyBSZXNldCB0YWJzIHRvIHVwbG9hZFxuICAgICAgaW1wb3J0VGFicy5mb3JFYWNoKCh0KSA9PiB7XG4gICAgICAgIGlmICh0LmRhdGFzZXQuaW1wb3J0VGFiID09PSAndXBsb2FkJykge1xuICAgICAgICAgIHQuY2xhc3NMaXN0LmFkZCgnYmctWyM5QzZCRkZdJywgJ3RleHQtd2hpdGUnKTtcbiAgICAgICAgICB0LmNsYXNzTGlzdC5yZW1vdmUoJ2JvcmRlcicsICdib3JkZXItc2xhdGUtMjAwJywgJ3RleHQtc2xhdGUtNzAwJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdC5jbGFzc0xpc3QucmVtb3ZlKCdiZy1bIzlDNkJGRl0nLCAndGV4dC13aGl0ZScpO1xuICAgICAgICAgIHQuY2xhc3NMaXN0LmFkZCgnYm9yZGVyJywgJ2JvcmRlci1zbGF0ZS0yMDAnLCAndGV4dC1zbGF0ZS03MDAnKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpbXBvcnRQYW5lbHMuZm9yRWFjaCgocCkgPT4ge1xuICAgICAgICBpZiAocC5kYXRhc2V0LmltcG9ydFBhbmVsID09PSAndXBsb2FkJykge1xuICAgICAgICAgIHAuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBhY3RpdmF0ZU1vZGFsKGltcG9ydE1vZGFsLCBjbG9zZUltcG9ydE1vZGFsKTtcbiAgICB9O1xuICAgIGNvbnN0IGNsb3NlSW1wb3J0TW9kYWwgPSAoKSA9PiB7XG4gICAgICBpZiAoIWltcG9ydE1vZGFsKSByZXR1cm47XG4gICAgICBpbXBvcnRNb2RhbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGltcG9ydE1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2ZsZXgnKTtcbiAgICAgIGltcG9ydFNlbGVjdGVkRmlsZXMgPSBbXTtcbiAgICAgIHJlc2V0UGFzdGVTdGF0ZSgpO1xuICAgICAgZGVhY3RpdmF0ZU1vZGFsKGltcG9ydE1vZGFsKTtcbiAgICB9O1xuICAgIGNvbnN0IHVwZGF0ZUltcG9ydEZpbGVMaXN0ID0gKCkgPT4ge1xuICAgICAgaWYgKCFpbXBvcnRGaWxlTGlzdCB8fCAhaW1wb3J0RmlsZU5hbWVzKSByZXR1cm47XG4gICAgICBpZiAoaW1wb3J0U2VsZWN0ZWRGaWxlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgaW1wb3J0RmlsZUxpc3QuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIHVwZGF0ZUltcG9ydFN1Ym1pdFN0YXRlKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGltcG9ydEZpbGVMaXN0LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgaW1wb3J0RmlsZU5hbWVzLmlubmVySFRNTCA9IGltcG9ydFNlbGVjdGVkRmlsZXNcbiAgICAgICAgLm1hcCgoZikgPT4gYDxsaSBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+PHNwYW4gY2xhc3M9XCJ0ZXh0LWxnXCI+XHVEODNEXHVEQ0M0PC9zcGFuPiR7Zi5uYW1lfTwvbGk+YClcbiAgICAgICAgLmpvaW4oJycpO1xuICAgICAgdXBkYXRlSW1wb3J0U3VibWl0U3RhdGUoKTtcbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZUltcG9ydEZpbGVzID0gKGZpbGVzKSA9PiB7XG4gICAgICBjb25zdCBqc29uRmlsZXMgPSBBcnJheS5mcm9tKGZpbGVzKS5maWx0ZXIoXG4gICAgICAgIChmKSA9PiBmLnR5cGUgPT09ICdhcHBsaWNhdGlvbi9qc29uJyB8fCBmLm5hbWUuZW5kc1dpdGgoJy5qc29uJylcbiAgICAgICk7XG4gICAgICBpZiAoanNvbkZpbGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBzaG93VG9hc3QoJ0F1Y3VuIGZpY2hpZXIgSlNPTiB2YWxpZGUuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGltcG9ydFNlbGVjdGVkRmlsZXMgPSBqc29uRmlsZXM7XG4gICAgICB1cGRhdGVJbXBvcnRGaWxlTGlzdCgpO1xuICAgIH07XG4gICAgY29uc3QgZXhlY3V0ZUltcG9ydCA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghcGFnZXNBcGlCYXNlKSByZXR1cm47XG4gICAgICBcbiAgICAgIC8vIERldGVybWluZSBzb3VyY2Ugb2YgZGF0YSBiYXNlZCBvbiBhY3RpdmUgdGFiXG4gICAgICBsZXQgcGFnZXNEYXRhID0gW107XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKCdbaW1wb3J0XSBhY3RpdmVJbXBvcnRUYWI6JywgYWN0aXZlSW1wb3J0VGFiKTtcbiAgICAgIFxuICAgICAgaWYgKGFjdGl2ZUltcG9ydFRhYiA9PT0gJ3Bhc3RlJykge1xuICAgICAgICAvLyBJbXBvcnQgZnJvbSBwYXN0ZWQgSlNPTlxuICAgICAgICBjb25zdCB0ZXh0ID0gaW1wb3J0UGFzdGVJbnB1dD8udmFsdWU/LnRyaW0oKTtcbiAgICAgICAgY29uc29sZS5sb2coJ1tpbXBvcnRdIHBhc3RlIHRleHQgbGVuZ3RoOicsIHRleHQ/Lmxlbmd0aCk7XG4gICAgICAgIGlmICghdGV4dCkge1xuICAgICAgICAgIHNob3dUb2FzdCgnQXVjdW4gSlNPTiBcdTAwRTAgaW1wb3J0ZXIuJyk7XG4gICAgICAgICAgaWYgKGltcG9ydFJlc3VsdHMgJiYgaW1wb3J0UmVzdWx0c0NvbnRlbnQpIHtcbiAgICAgICAgICAgIGltcG9ydFJlc3VsdHMuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgICBpbXBvcnRSZXN1bHRzQ29udGVudC5pbm5lckhUTUwgPSAnPHAgY2xhc3M9XCJ0ZXh0LWFtYmVyLTYwMFwiPlx1MjZBMCBMZSBjaGFtcCBkZSB0ZXh0ZSBlc3QgdmlkZS48L3A+JztcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcGFyc2VkID0gSlNPTi5wYXJzZSh0ZXh0KTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnW2ltcG9ydF0gcGFyc2VkIEpTT046JywgcGFyc2VkKTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnW2ltcG9ydF0gcGFyc2VkIHR5cGU6JywgdHlwZW9mIHBhcnNlZCwgQXJyYXkuaXNBcnJheShwYXJzZWQpID8gJ2FycmF5JyA6ICdub3QgYXJyYXknKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBTdXBwb3J0IGZvcm1hdCB7IHBhZ2VzOiBbLi4uXSwgY29sbGVjdGlvbnM6IHsuLi59IH1cbiAgICAgICAgICBpZiAocGFyc2VkICYmICFBcnJheS5pc0FycmF5KHBhcnNlZCkgJiYgcGFyc2VkLnBhZ2VzKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnW2ltcG9ydF0gZGV0ZWN0ZWQgcGFnZXMrY29sbGVjdGlvbnMgZm9ybWF0Jyk7XG4gICAgICAgICAgICBwYWdlc0RhdGEgPSBwYXJzZWQ7IC8vIFNlbmQgdGhlIHdob2xlIG9iamVjdCwgYmFja2VuZCB3aWxsIGhhbmRsZSBpdFxuICAgICAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShwYXJzZWQpKSB7XG4gICAgICAgICAgICBwYWdlc0RhdGEucHVzaCguLi5wYXJzZWQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYWdlc0RhdGEucHVzaChwYXJzZWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zb2xlLmxvZygnW2ltcG9ydF0gcGFnZXNEYXRhIHByZXBhcmVkOicsIHBhZ2VzRGF0YSk7XG4gICAgICAgIH0gY2F0Y2ggKHBhcnNlRXJyKSB7XG4gICAgICAgICAgLy8gQWZmaWNoZXIgbGUgZFx1MDBFOXRhaWwgZGUgbCdlcnJldXIgZGUgcGFyc2luZ1xuICAgICAgICAgIGNvbnN0IGVycm9yTGluZSA9IHBhcnNlRXJyLm1lc3NhZ2UubWF0Y2goL3Bvc2l0aW9uIChcXGQrKS8pO1xuICAgICAgICAgIGxldCBlcnJvckRldGFpbCA9IHBhcnNlRXJyLm1lc3NhZ2U7XG4gICAgICAgICAgaWYgKGVycm9yTGluZSkge1xuICAgICAgICAgICAgY29uc3QgcG9zID0gcGFyc2VJbnQoZXJyb3JMaW5lWzFdLCAxMCk7XG4gICAgICAgICAgICBjb25zdCBsaW5lcyA9IHRleHQuc3Vic3RyaW5nKDAsIHBvcykuc3BsaXQoJ1xcbicpO1xuICAgICAgICAgICAgY29uc3QgbGluZU51bSA9IGxpbmVzLmxlbmd0aDtcbiAgICAgICAgICAgIGNvbnN0IGNvbE51bSA9IGxpbmVzW2xpbmVzLmxlbmd0aCAtIDFdLmxlbmd0aCArIDE7XG4gICAgICAgICAgICBlcnJvckRldGFpbCA9IGBMaWduZSAke2xpbmVOdW19LCBjb2xvbm5lICR7Y29sTnVtfTogJHtwYXJzZUVyci5tZXNzYWdlfWA7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNob3dUb2FzdChgRXJyZXVyIEpTT04gOiAke2Vycm9yRGV0YWlsfWAsICdlcnJvcicpO1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tpbXBvcnRdIHBhc3RlIHBhcnNlIGVycm9yJywgcGFyc2VFcnIpO1xuICAgICAgICAgIC8vIFNob3cgZXJyb3IgaW4gcmVzdWx0cyBhcmVhXG4gICAgICAgICAgaWYgKGltcG9ydFJlc3VsdHMgJiYgaW1wb3J0UmVzdWx0c0NvbnRlbnQpIHtcbiAgICAgICAgICAgIGltcG9ydFJlc3VsdHMuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgICBpbXBvcnRSZXN1bHRzQ29udGVudC5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LXJvc2UtNjAwXCI+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJmb250LW1lZGl1bVwiPlx1MjcxNyBFcnJldXIgZGUgc3ludGF4ZSBKU09OPC9wPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC14cyBtdC0xXCI+JHtlcnJvckRldGFpbH08L3A+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXhzIG10LTIgdGV4dC1zbGF0ZS01MDBcIj5WXHUwMEU5cmlmaWV6IGxlcyB2aXJndWxlcywgZ3VpbGxlbWV0cyBldCBhY2NvbGFkZXMuPC9wPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIGA7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChhY3RpdmVJbXBvcnRUYWIgPT09ICd1cGxvYWQnKSB7XG4gICAgICAgIC8vIEltcG9ydCBmcm9tIGZpbGVzXG4gICAgICAgIGlmIChpbXBvcnRTZWxlY3RlZEZpbGVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICAgICAgICBjb25zdCBmaWxlRXJyb3JzID0gW107XG4gICAgICAgIGZvciAoY29uc3QgZmlsZSBvZiBpbXBvcnRTZWxlY3RlZEZpbGVzKSB7XG4gICAgICAgICAgY29uc3QgdGV4dCA9IGF3YWl0IGZpbGUudGV4dCgpO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBwYXJzZWQgPSBKU09OLnBhcnNlKHRleHQpO1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocGFyc2VkKSkge1xuICAgICAgICAgICAgICBwYWdlc0RhdGEucHVzaCguLi5wYXJzZWQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGFnZXNEYXRhLnB1c2gocGFyc2VkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoIChwYXJzZUVycikge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JMaW5lID0gcGFyc2VFcnIubWVzc2FnZS5tYXRjaCgvcG9zaXRpb24gKFxcZCspLyk7XG4gICAgICAgICAgICBsZXQgZXJyb3JEZXRhaWwgPSBwYXJzZUVyci5tZXNzYWdlO1xuICAgICAgICAgICAgaWYgKGVycm9yTGluZSkge1xuICAgICAgICAgICAgICBjb25zdCBwb3MgPSBwYXJzZUludChlcnJvckxpbmVbMV0sIDEwKTtcbiAgICAgICAgICAgICAgY29uc3QgbGluZXMgPSB0ZXh0LnN1YnN0cmluZygwLCBwb3MpLnNwbGl0KCdcXG4nKTtcbiAgICAgICAgICAgICAgY29uc3QgbGluZU51bSA9IGxpbmVzLmxlbmd0aDtcbiAgICAgICAgICAgICAgZXJyb3JEZXRhaWwgPSBgTGlnbmUgJHtsaW5lTnVtfTogJHtwYXJzZUVyci5tZXNzYWdlfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaWxlRXJyb3JzLnB1c2goeyBmaWxlOiBmaWxlLm5hbWUsIGVycm9yOiBlcnJvckRldGFpbCB9KTtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tpbXBvcnRdIHBhcnNlIGVycm9yJywgZmlsZS5uYW1lLCBwYXJzZUVycik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFNob3cgZmlsZSBwYXJzaW5nIGVycm9ycyBpZiBhbnlcbiAgICAgICAgaWYgKGZpbGVFcnJvcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGlmIChpbXBvcnRSZXN1bHRzICYmIGltcG9ydFJlc3VsdHNDb250ZW50KSB7XG4gICAgICAgICAgICBpbXBvcnRSZXN1bHRzLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgICAgbGV0IGh0bWwgPSAnPGRpdiBjbGFzcz1cInRleHQtcm9zZS02MDBcIj48cCBjbGFzcz1cImZvbnQtbWVkaXVtXCI+XHUyNzE3IEVycmV1cnMgZGUgc3ludGF4ZSBKU09OPC9wPjx1bCBjbGFzcz1cIm1sLTQgdGV4dC14cyBtdC0xXCI+JztcbiAgICAgICAgICAgIGZpbGVFcnJvcnMuZm9yRWFjaChlID0+IHtcbiAgICAgICAgICAgICAgaHRtbCArPSBgPGxpPjxzdHJvbmc+JHtlLmZpbGV9PC9zdHJvbmc+OiAke2UuZXJyb3J9PC9saT5gO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBodG1sICs9ICc8L3VsPjwvZGl2Pic7XG4gICAgICAgICAgICBpZiAocGFnZXNEYXRhLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgaHRtbCArPSBgPHAgY2xhc3M9XCJ0ZXh0LWFtYmVyLTYwMCBtdC0yIHRleHQtc21cIj5cdTI2QTAgJHtwYWdlc0RhdGEubGVuZ3RofSBwYWdlKHMpIHZhbGlkZShzKSBzZXJvbnQgaW1wb3J0XHUwMEU5ZShzKTwvcD5gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW1wb3J0UmVzdWx0c0NvbnRlbnQuaW5uZXJIVE1MID0gaHRtbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHBhZ2VzRGF0YS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHNob3dUb2FzdCgnVG91cyBsZXMgZmljaGllcnMgY29udGllbm5lbnQgZGVzIGVycmV1cnMgSlNPTicsICdlcnJvcicpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBWXHUwMEU5cmlmaWVyIHF1J29uIGEgZGVzIGRvbm5cdTAwRTllcyBcdTAwRTAgaW1wb3J0ZXJcbiAgICAgIGNvbnN0IGhhc0RhdGEgPSBBcnJheS5pc0FycmF5KHBhZ2VzRGF0YSkgXG4gICAgICAgID8gcGFnZXNEYXRhLmxlbmd0aCA+IDAgXG4gICAgICAgIDogKHBhZ2VzRGF0YSAmJiAocGFnZXNEYXRhLnBhZ2VzPy5sZW5ndGggPiAwIHx8IHBhZ2VzRGF0YS50aXRsZSkpO1xuICAgICAgXG4gICAgICBjb25zb2xlLmxvZygnW2ltcG9ydF0gaGFzRGF0YSBjaGVjazonLCBoYXNEYXRhLCAncGFnZXNEYXRhOicsIHBhZ2VzRGF0YSk7XG4gICAgICBcbiAgICAgIGlmICghaGFzRGF0YSkge1xuICAgICAgICBzaG93VG9hc3QoJ0F1Y3VuZSBwYWdlIHZhbGlkZSBcdTAwRTAgaW1wb3J0ZXIuJyk7XG4gICAgICAgIGlmIChpbXBvcnRSZXN1bHRzICYmIGltcG9ydFJlc3VsdHNDb250ZW50KSB7XG4gICAgICAgICAgaW1wb3J0UmVzdWx0cy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICBpbXBvcnRSZXN1bHRzQ29udGVudC5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC1hbWJlci02MDBcIj5cbiAgICAgICAgICAgICAgPHAgY2xhc3M9XCJmb250LW1lZGl1bVwiPlx1MjZBMCBBdWN1bmUgcGFnZSBkXHUwMEU5dGVjdFx1MDBFOWU8L3A+XG4gICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC14cyBtdC0xXCI+TGUgSlNPTiBkb2l0IGNvbnRlbmlyIDo8L3A+XG4gICAgICAgICAgICAgIDx1bCBjbGFzcz1cInRleHQteHMgbWwtNCBtdC0xIGxpc3QtZGlzY1wiPlxuICAgICAgICAgICAgICAgIDxsaT5VbiBvYmpldCBwYWdlIGF2ZWMgXCJ0aXRsZVwiIDogPGNvZGU+e1widGl0bGVcIjogXCJNYSBwYWdlXCIsIC4uLn08L2NvZGU+PC9saT5cbiAgICAgICAgICAgICAgICA8bGk+VW4gdGFibGVhdSBkZSBwYWdlcyA6IDxjb2RlPlt7XCJ0aXRsZVwiOiBcIlBhZ2UgMVwifSwge1widGl0bGVcIjogXCJQYWdlIDJcIn1dPC9jb2RlPjwvbGk+XG4gICAgICAgICAgICAgICAgPGxpPk91IHVuIG9iamV0IGNvbWJpblx1MDBFOSA6IDxjb2RlPntcInBhZ2VzXCI6IFsuLi5dLCBcImNvbGxlY3Rpb25zXCI6IHsuLi59fTwvY29kZT48L2xpPlxuICAgICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgYDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChpbXBvcnRTdWJtaXQpIHtcbiAgICAgICAgaW1wb3J0U3VibWl0LmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgaW1wb3J0U3VibWl0LnRleHRDb250ZW50ID0gJ0ltcG9ydC4uLic7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEFmZmljaGVyIGNlIHF1J29uIHZhIGVudm95ZXIgKGRlYnVnKVxuICAgICAgY29uc29sZS5sb2coJ1tpbXBvcnRdIFNlbmRpbmcgdG8gc2VydmVyOicsIEpTT04uc3RyaW5naWZ5KHBhZ2VzRGF0YSkuc3Vic3RyaW5nKDAsIDUwMCkpO1xuICAgICAgXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke3BhZ2VzQXBpQmFzZX0vaW1wb3J0YCwge1xuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZScsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGFnZXNEYXRhKSxcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBjb25zb2xlLmxvZygnW2ltcG9ydF0gU2VydmVyIHJlc3BvbnNlIHN0YXR1czonLCByZXNwb25zZS5zdGF0dXMpO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBjb25zb2xlLmxvZygnW2ltcG9ydF0gU2VydmVyIHJlc3BvbnNlIGJvZHk6JywgcmVzdWx0KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIC8vIEFmZmljaGVyIGxlIGRcdTAwRTl0YWlsIGRlIGwnZXJyZXVyIHNlcnZldXJcbiAgICAgICAgICBpZiAoaW1wb3J0UmVzdWx0cyAmJiBpbXBvcnRSZXN1bHRzQ29udGVudCkge1xuICAgICAgICAgICAgaW1wb3J0UmVzdWx0cy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIGltcG9ydFJlc3VsdHNDb250ZW50LmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRleHQtcm9zZS02MDBcIj5cbiAgICAgICAgICAgICAgICA8cCBjbGFzcz1cImZvbnQtbWVkaXVtXCI+XHUyNzE3IEVycmV1ciBzZXJ2ZXVyPC9wPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC14cyBtdC0xXCI+JHtyZXN1bHQubWVzc2FnZSB8fCAnRXJyZXVyIGluY29ubnVlJ308L3A+XG4gICAgICAgICAgICAgICAgJHtyZXN1bHQuZGV0YWlscyA/IGA8cCBjbGFzcz1cInRleHQteHMgbXQtMSB0ZXh0LXNsYXRlLTUwMFwiPiR7cmVzdWx0LmRldGFpbHN9PC9wPmAgOiAnJ31cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICBgO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzdWx0Lm1lc3NhZ2UgfHwgJ0VycmV1ciBzZXJ2ZXVyJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2hvdyByZXN1bHRzXG4gICAgICAgIGlmIChpbXBvcnRSZXN1bHRzICYmIGltcG9ydFJlc3VsdHNDb250ZW50KSB7XG4gICAgICAgICAgaW1wb3J0UmVzdWx0cy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICBsZXQgaHRtbCA9ICcnO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIEVudFx1MDBFQXRlIHN1Y2NcdTAwRThzL2VycmV1clxuICAgICAgICAgIGNvbnN0IGhhc1N1Y2Nlc3MgPSAocmVzdWx0LmltcG9ydGVkPy5sZW5ndGggPiAwKSB8fCAocmVzdWx0LmNvbGxlY3Rpb25zQ3JlYXRlZD8ubGVuZ3RoID4gMCk7XG4gICAgICAgICAgY29uc3QgaGFzRXJyb3JzID0gcmVzdWx0LmVycm9ycz8ubGVuZ3RoID4gMDtcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoaGFzU3VjY2VzcyAmJiAhaGFzRXJyb3JzKSB7XG4gICAgICAgICAgICBodG1sICs9ICc8ZGl2IGNsYXNzPVwiYmctZ3JlZW4tNTAgYm9yZGVyIGJvcmRlci1ncmVlbi0yMDAgcm91bmRlZC1sZyBwLTMgbWItMlwiPjxwIGNsYXNzPVwidGV4dC1ncmVlbi04MDAgZm9udC1tZWRpdW1cIj5cdTI3MTMgSW1wb3J0IHJcdTAwRTl1c3NpPC9wPjwvZGl2Pic7XG4gICAgICAgICAgfSBlbHNlIGlmIChoYXNTdWNjZXNzICYmIGhhc0Vycm9ycykge1xuICAgICAgICAgICAgaHRtbCArPSAnPGRpdiBjbGFzcz1cImJnLWFtYmVyLTUwIGJvcmRlciBib3JkZXItYW1iZXItMjAwIHJvdW5kZWQtbGcgcC0zIG1iLTJcIj48cCBjbGFzcz1cInRleHQtYW1iZXItODAwIGZvbnQtbWVkaXVtXCI+XHUyNkEwIEltcG9ydCBwYXJ0aWVsPC9wPjwvZGl2Pic7XG4gICAgICAgICAgfSBlbHNlIGlmIChoYXNFcnJvcnMpIHtcbiAgICAgICAgICAgIGh0bWwgKz0gJzxkaXYgY2xhc3M9XCJiZy1yb3NlLTUwIGJvcmRlciBib3JkZXItcm9zZS0yMDAgcm91bmRlZC1sZyBwLTMgbWItMlwiPjxwIGNsYXNzPVwidGV4dC1yb3NlLTgwMCBmb250LW1lZGl1bVwiPlx1MjcxNyBJbXBvcnQgXHUwMEU5Y2hvdVx1MDBFOTwvcD48L2Rpdj4nO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAvLyBDb2xsZWN0aW9ucyBjclx1MDBFOVx1MDBFOWVzXG4gICAgICAgICAgaWYgKHJlc3VsdC5jb2xsZWN0aW9uc0NyZWF0ZWQgJiYgcmVzdWx0LmNvbGxlY3Rpb25zQ3JlYXRlZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBodG1sICs9IGA8cCBjbGFzcz1cInRleHQtdmlvbGV0LTcwMCBtdC0yXCI+XHUyNzEzICR7cmVzdWx0LmNvbGxlY3Rpb25zQ3JlYXRlZC5sZW5ndGh9IGNvbGxlY3Rpb24ocykgY3JcdTAwRTlcdTAwRTllKHMpPC9wPmA7XG4gICAgICAgICAgICBodG1sICs9ICc8dWwgY2xhc3M9XCJtbC00IHRleHQteHMgdGV4dC1zbGF0ZS02MDBcIj4nO1xuICAgICAgICAgICAgcmVzdWx0LmNvbGxlY3Rpb25zQ3JlYXRlZC5mb3JFYWNoKChjKSA9PiB7XG4gICAgICAgICAgICAgIGh0bWwgKz0gYDxsaT4ke2MubmFtZX0gKCR7Yy5pdGVtc0NvdW50fSBpdGVtJHtjLml0ZW1zQ291bnQgPiAxID8gJ3MnIDogJyd9KTwvbGk+YDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaHRtbCArPSAnPC91bD4nO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBQYWdlcyBpbXBvcnRcdTAwRTllc1xuICAgICAgICAgIGlmIChyZXN1bHQuaW1wb3J0ZWQgJiYgcmVzdWx0LmltcG9ydGVkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGh0bWwgKz0gYDxwIGNsYXNzPVwidGV4dC1ncmVlbi03MDAgbXQtMlwiPlx1MjcxMyAke3Jlc3VsdC5pbXBvcnRlZC5sZW5ndGh9IHBhZ2UocykgaW1wb3J0XHUwMEU5ZShzKTwvcD5gO1xuICAgICAgICAgICAgaHRtbCArPSAnPHVsIGNsYXNzPVwibWwtNCB0ZXh0LXhzIHRleHQtc2xhdGUtNjAwXCI+JztcbiAgICAgICAgICAgIHJlc3VsdC5pbXBvcnRlZC5mb3JFYWNoKChwKSA9PiB7XG4gICAgICAgICAgICAgIGh0bWwgKz0gYDxsaT48c3Ryb25nPiR7cC50aXRsZX08L3N0cm9uZz4gXHUyMTkyICR7cC5zbHVnfSAoJHtwLmFjdGlvbiA9PT0gJ3VwZGF0ZWQnID8gJ21pc2UgXHUwMEUwIGpvdXInIDogJ2NyXHUwMEU5XHUwMEU5ZSd9KTwvbGk+YDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaHRtbCArPSAnPC91bD4nO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBFcnJldXJzIGF2ZWMgZFx1MDBFOXRhaWxzXG4gICAgICAgICAgaWYgKHJlc3VsdC5lcnJvcnMgJiYgcmVzdWx0LmVycm9ycy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBodG1sICs9IGA8cCBjbGFzcz1cInRleHQtcm9zZS02MDAgbXQtMyBmb250LW1lZGl1bVwiPlx1MjcxNyAke3Jlc3VsdC5lcnJvcnMubGVuZ3RofSBlcnJldXIocyk8L3A+YDtcbiAgICAgICAgICAgIGh0bWwgKz0gJzx1bCBjbGFzcz1cIm1sLTQgdGV4dC14cyB0ZXh0LXJvc2UtNjAwIHNwYWNlLXktMSBtdC0xXCI+JztcbiAgICAgICAgICAgIHJlc3VsdC5lcnJvcnMuZm9yRWFjaCgoZSkgPT4ge1xuICAgICAgICAgICAgICBodG1sICs9IGA8bGkgY2xhc3M9XCJiZy1yb3NlLTUwIHAtMiByb3VuZGVkXCI+PHN0cm9uZz4ke2UudGl0bGV9PC9zdHJvbmc+PGJyLz48c3BhbiBjbGFzcz1cInRleHQtcm9zZS01MDBcIj4ke2UuZXJyb3J9PC9zcGFuPjwvbGk+YDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaHRtbCArPSAnPC91bD4nO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpbXBvcnRSZXN1bHRzQ29udGVudC5pbm5lckhUTUwgPSBodG1sO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlbG9hZCBwYWdlcyBsaXN0IGFuZCBzaG93IHRvYXN0XG4gICAgICAgIGNvbnN0IGhhc1N1Y2Nlc3MgPSAocmVzdWx0LmltcG9ydGVkPy5sZW5ndGggPiAwKSB8fCAocmVzdWx0LmNvbGxlY3Rpb25zQ3JlYXRlZD8ubGVuZ3RoID4gMCk7XG4gICAgICAgIGNvbnN0IGhhc0Vycm9ycyA9IHJlc3VsdC5lcnJvcnM/Lmxlbmd0aCA+IDA7XG4gICAgICAgIFxuICAgICAgICBpZiAocmVzdWx0LmltcG9ydGVkICYmIHJlc3VsdC5pbXBvcnRlZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY29uc3QgZnJlc2hQYWdlcyA9IGF3YWl0IGZldGNoUGFnZXNGcm9tU2VydmVyKCk7XG4gICAgICAgICAgcGFnZXMgPSBmcmVzaFBhZ2VzO1xuICAgICAgICAgIHJlbmRlclBhZ2VMaXN0cyhwYWdlcywgYWN0aXZlUGFnZUlkKTtcbiAgICAgICAgICBpZiAocGFnZXMubGVuZ3RoID4gMCAmJiAhYWN0aXZlUGFnZUlkKSB7XG4gICAgICAgICAgICBzZXRBY3RpdmVQYWdlKHBhZ2VzWzBdLmlkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFRvYXN0IGF2ZWMgc3RhdHV0IGFwcHJvcHJpXHUwMEU5XG4gICAgICAgIGlmIChoYXNTdWNjZXNzICYmICFoYXNFcnJvcnMpIHtcbiAgICAgICAgICBjb25zdCBjb2xsZWN0aW9uc01zZyA9IHJlc3VsdC5jb2xsZWN0aW9uc0NyZWF0ZWQ/Lmxlbmd0aCBcbiAgICAgICAgICAgID8gYCArICR7cmVzdWx0LmNvbGxlY3Rpb25zQ3JlYXRlZC5sZW5ndGh9IGNvbGxlY3Rpb24ocylgIFxuICAgICAgICAgICAgOiAnJztcbiAgICAgICAgICBzaG93VG9hc3QoYFx1MjcxMyBJbXBvcnQgclx1MDBFOXVzc2kgOiAke3Jlc3VsdC5pbXBvcnRlZD8ubGVuZ3RoIHx8IDB9IHBhZ2Uocykke2NvbGxlY3Rpb25zTXNnfWAsICdzdWNjZXNzJyk7XG4gICAgICAgIH0gZWxzZSBpZiAoaGFzU3VjY2VzcyAmJiBoYXNFcnJvcnMpIHtcbiAgICAgICAgICBzaG93VG9hc3QoYFx1MjZBMCBJbXBvcnQgcGFydGllbCA6ICR7cmVzdWx0LmltcG9ydGVkPy5sZW5ndGggfHwgMH0gcGFnZShzKSwgJHtyZXN1bHQuZXJyb3JzLmxlbmd0aH0gZXJyZXVyKHMpYCwgJ3dhcm5pbmcnKTtcbiAgICAgICAgfSBlbHNlIGlmIChoYXNFcnJvcnMpIHtcbiAgICAgICAgICBzaG93VG9hc3QoYFx1MjcxNyBJbXBvcnQgXHUwMEU5Y2hvdVx1MDBFOSA6ICR7cmVzdWx0LmVycm9ycy5sZW5ndGh9IGVycmV1cihzKWAsICdlcnJvcicpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpbXBvcnRTZWxlY3RlZEZpbGVzID0gW107XG4gICAgICAgIHVwZGF0ZUltcG9ydEZpbGVMaXN0KCk7XG4gICAgICAgIHJlc2V0UGFzdGVTdGF0ZSgpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tpbXBvcnRdIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGltcG9ydCcsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKGltcG9ydFN1Ym1pdCkge1xuICAgICAgICAgIGltcG9ydFN1Ym1pdC5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgIGltcG9ydFN1Ym1pdC50ZXh0Q29udGVudCA9ICdJbXBvcnRlcic7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIGltcG9ydFRvZ2dsZT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuSW1wb3J0TW9kYWwpO1xuICAgIGltcG9ydENsb3NlQnV0dG9ucy5mb3JFYWNoKChidG4pID0+IGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlSW1wb3J0TW9kYWwpKTtcbiAgICBpbXBvcnRNb2RhbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgaWYgKGUudGFyZ2V0ID09PSBpbXBvcnRNb2RhbCkgY2xvc2VJbXBvcnRNb2RhbCgpO1xuICAgIH0pO1xuICAgIGltcG9ydEZpbGVJbnB1dD8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGUpID0+IHtcbiAgICAgIGhhbmRsZUltcG9ydEZpbGVzKGUudGFyZ2V0LmZpbGVzKTtcbiAgICB9KTtcbiAgICBpbXBvcnREcm9wem9uZT8uYWRkRXZlbnRMaXN0ZW5lcignZHJhZ292ZXInLCAoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaW1wb3J0RHJvcHpvbmUuY2xhc3NMaXN0LmFkZCgnYm9yZGVyLVsjOUM2QkZGXScsICdiZy1bIzlDNkJGRl0vMTAnKTtcbiAgICB9KTtcbiAgICBpbXBvcnREcm9wem9uZT8uYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2xlYXZlJywgKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGltcG9ydERyb3B6b25lLmNsYXNzTGlzdC5yZW1vdmUoJ2JvcmRlci1bIzlDNkJGRl0nLCAnYmctWyM5QzZCRkZdLzEwJyk7XG4gICAgfSk7XG4gICAgaW1wb3J0RHJvcHpvbmU/LmFkZEV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCAoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaW1wb3J0RHJvcHpvbmUuY2xhc3NMaXN0LnJlbW92ZSgnYm9yZGVyLVsjOUM2QkZGXScsICdiZy1bIzlDNkJGRl0vMTAnKTtcbiAgICAgIGhhbmRsZUltcG9ydEZpbGVzKGUuZGF0YVRyYW5zZmVyLmZpbGVzKTtcbiAgICB9KTtcbiAgICBpbXBvcnRTdWJtaXQ/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZXhlY3V0ZUltcG9ydCk7XG4gICAgLy8gUGFzdGUgSlNPTiBoYW5kbGVyc1xuICAgIGltcG9ydFBhc3RlSW5wdXQ/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgdXBkYXRlSW1wb3J0U3VibWl0U3RhdGUoKTtcbiAgICB9KTtcbiAgICBwYXN0ZUZvcm1hdEJ0bj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmb3JtYXRQYXN0ZUpzb24pO1xuICAgIC8vIEltcG9ydCB0YWJzXG4gICAgaW1wb3J0VGFicy5mb3JFYWNoKCh0YWIpID0+IHtcbiAgICAgIHRhYi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgY29uc3QgdGFyZ2V0UGFuZWwgPSB0YWIuZGF0YXNldC5pbXBvcnRUYWI7XG4gICAgICAgIGFjdGl2ZUltcG9ydFRhYiA9IHRhcmdldFBhbmVsO1xuICAgICAgICBpbXBvcnRUYWJzLmZvckVhY2goKHQpID0+IHtcbiAgICAgICAgICBpZiAodC5kYXRhc2V0LmltcG9ydFRhYiA9PT0gdGFyZ2V0UGFuZWwpIHtcbiAgICAgICAgICAgIHQuY2xhc3NMaXN0LmFkZCgnYmctWyM5QzZCRkZdJywgJ3RleHQtd2hpdGUnKTtcbiAgICAgICAgICAgIHQuY2xhc3NMaXN0LnJlbW92ZSgnYm9yZGVyJywgJ2JvcmRlci1zbGF0ZS0yMDAnLCAndGV4dC1zbGF0ZS03MDAnKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdC5jbGFzc0xpc3QucmVtb3ZlKCdiZy1bIzlDNkJGRl0nLCAndGV4dC13aGl0ZScpO1xuICAgICAgICAgICAgdC5jbGFzc0xpc3QuYWRkKCdib3JkZXInLCAnYm9yZGVyLXNsYXRlLTIwMCcsICd0ZXh0LXNsYXRlLTcwMCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGltcG9ydFBhbmVscy5mb3JFYWNoKChwKSA9PiB7XG4gICAgICAgICAgaWYgKHAuZGF0YXNldC5pbXBvcnRQYW5lbCA9PT0gdGFyZ2V0UGFuZWwpIHtcbiAgICAgICAgICAgIHAuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHAuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdXBkYXRlSW1wb3J0U3VibWl0U3RhdGUoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGNvcHlUZW1wbGF0ZUJ0bj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXRlbXBsYXRlSnNvbikgcmV0dXJuO1xuICAgICAgY29uc3QgdGV4dCA9IHRlbXBsYXRlSnNvbi50ZXh0Q29udGVudCB8fCAnJztcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KHRleHQpO1xuICAgICAgICBzaG93VG9hc3QoJ1RlbXBsYXRlIGNvcGlcdTAwRTkgIScpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tpbXBvcnRdIGNvcHkgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KCdFcnJldXIgY29waWUnKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGNvcHlQcm9tcHRCdG4/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFpbXBvcnRBaVByb21wdCkgcmV0dXJuO1xuICAgICAgY29uc3QgdGV4dCA9IGltcG9ydEFpUHJvbXB0LnRleHRDb250ZW50IHx8ICcnO1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQodGV4dCk7XG4gICAgICAgIHNob3dUb2FzdCgnUHJvbXB0IGNvcGlcdTAwRTkgIScpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tpbXBvcnRdIGNvcHkgcHJvbXB0IGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdCgnRXJyZXVyIGNvcGllJyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBEZWxldGUgcGFnZSBtb2RhbCBsaXN0ZW5lcnNcbiAgICBkZWxldGVQYWdlQ2FuY2VsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlRGVsZXRlUGFnZU1vZGFsKTtcbiAgICBkZWxldGVQYWdlQ29uZmlybT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBleGVjdXRlRGVsZXRlUGFnZSk7XG4gICAgZGVsZXRlUGFnZU1vZGFsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBpZiAoZS50YXJnZXQgPT09IGRlbGV0ZVBhZ2VNb2RhbCkgY2xvc2VEZWxldGVQYWdlTW9kYWwoKTtcbiAgICB9KTtcblxuICAgIGJsb2NrTGlicmFyeVRvZ2dsZT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgLy8gU2kgdW4gZ3JvdXBlIGVzdCBzXHUwMEU5bGVjdGlvbm5cdTAwRTksIGwnYWpvdXQgdmlhIGxhIGJpYmxpb3RoXHUwMEU4cXVlIGRvaXQgY2libGVyIGNlIGdyb3VwZS5cbiAgICAgIC8vIChMYSBkcm9wem9uZSBkZSBncm91cGUgdXRpbGlzZSBkXHUwMEU5alx1MDBFMCBgcGVuZGluZ0dyb3VwSWRGb3JOZXdCbG9ja2AuKVxuICAgICAgaWYgKCFibG9ja0xpYnJhcnlPcGVuKSB7XG4gICAgICAgIGNvbnN0IGFjdGl2ZSA9IGdldEFjdGl2ZUJsb2NrKCk7XG4gICAgICAgIGNvbnN0IHR5cGUgPSAoYWN0aXZlPy50eXBlIHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBpZiAodHlwZSA9PT0gJ2dyb3VwZScgfHwgdHlwZSA9PT0gJ2dyb3VwJykge1xuICAgICAgICAgIHBlbmRpbmdHcm91cElkRm9yTmV3QmxvY2sgPSBhY3RpdmUuaWQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVuZGluZ0dyb3VwSWRGb3JOZXdCbG9jayA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRvZ2dsZUJsb2NrTGlicmFyeSgpO1xuICAgIH0pO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoIWJsb2NrTGlicmFyeU9wZW4pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKFxuICAgICAgICBibG9ja0xpYnJhcnk/LmNvbnRhaW5zKGV2ZW50LnRhcmdldCkgfHxcbiAgICAgICAgYmxvY2tMaWJyYXJ5VG9nZ2xlPy5jb250YWlucyhldmVudC50YXJnZXQpXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY2xvc2VCbG9ja0xpYnJhcnkoKTtcbiAgICB9KTtcbiAgICBibG9ja0FkZEJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGNvbnN0IHR5cGUgPSBidXR0b24uZGF0YXNldC5ibG9ja0FkZDtcbiAgICAgICAgYWRkQmxvY2tGcm9tTGlicmFyeSh0eXBlKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGJsb2NrRGVsZXRlQ2FuY2VsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNsb3NlQmxvY2tEZWxldGVNb2RhbCgpO1xuICAgIH0pO1xuICAgIGJsb2NrRGVsZXRlQ29uZmlybT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBpZiAocGVuZGluZ0RlbGV0ZUJsb2NrSWQpIHtcbiAgICAgICAgZGVsZXRlQmxvY2tCeUlkKHBlbmRpbmdEZWxldGVCbG9ja0lkKTtcbiAgICAgIH1cbiAgICAgIGNsb3NlQmxvY2tEZWxldGVNb2RhbCgpO1xuICAgIH0pO1xuICAgIGJsb2NrRGVsZXRlTW9kYWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSBibG9ja0RlbGV0ZU1vZGFsKSB7XG4gICAgICAgIGNsb3NlQmxvY2tEZWxldGVNb2RhbCgpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGJsb2NrRm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICAgIGlmICghdGFyZ2V0IHx8ICF0YXJnZXQubmFtZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBNaW5pIHByZXZpZXcgcG91ciBncm91cGVcbiAgICAgIGlmICh0YXJnZXQubmFtZSA9PT0gJ2dyb3VwLWNvbHVtbnMtbW9iaWxlJyB8fCB0YXJnZXQubmFtZSA9PT0gJ2dyb3VwLWNvbHVtbnMtZGVza3RvcCcpIHtcbiAgICAgICAgY29uc3QgbW9iaWxlVmFsdWUgPVxuICAgICAgICAgIGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImdyb3VwLWNvbHVtbnMtbW9iaWxlXCJdJyk/LnZhbHVlIHx8ICcxJztcbiAgICAgICAgY29uc3QgZGVza3RvcFZhbHVlID1cbiAgICAgICAgICBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJncm91cC1jb2x1bW5zLWRlc2t0b3BcIl0nKT8udmFsdWUgfHwgJzMnO1xuICAgICAgICB1cGRhdGVHcm91cE1pbmlQcmV2aWV3KG1vYmlsZVZhbHVlLCBkZXNrdG9wVmFsdWUpO1xuICAgICAgfVxuICAgICAgLy8gTWluaSBwcmV2aWV3IHBvdXIgY29sbGVjdGlvblxuICAgICAgaWYgKHRhcmdldC5uYW1lID09PSAnY29sbGVjdGlvbi1jb2x1bW5zLW1vYmlsZScgfHwgdGFyZ2V0Lm5hbWUgPT09ICdjb2xsZWN0aW9uLWNvbHVtbnMtZGVza3RvcCcpIHtcbiAgICAgICAgY29uc3QgbW9iaWxlVmFsdWUgPVxuICAgICAgICAgIGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImNvbGxlY3Rpb24tY29sdW1ucy1tb2JpbGVcIl0nKT8udmFsdWUgfHwgJzEnO1xuICAgICAgICBjb25zdCBkZXNrdG9wVmFsdWUgPVxuICAgICAgICAgIGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImNvbGxlY3Rpb24tY29sdW1ucy1kZXNrdG9wXCJdJyk/LnZhbHVlIHx8ICczJztcbiAgICAgICAgdXBkYXRlQ29sbGVjdGlvbk1pbmlQcmV2aWV3KG1vYmlsZVZhbHVlLCBkZXNrdG9wVmFsdWUpO1xuICAgICAgfVxuICAgICAgLy8gRFx1MDBFOXRlY3Rpb24gc2kgb24gZXN0IGRhbnMgbGUgcGFuZWwgQXBwYXJlbmNlIFx1MjE5MiBhdXRvLXNhdmVcbiAgICAgIGNvbnN0IHBhbmVsID0gdGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLWJsb2NrLXBhbmVsXScpO1xuICAgICAgaWYgKHBhbmVsICYmIHBhbmVsLmRhdGFzZXQuYmxvY2tQYW5lbCA9PT0gJ2FwcGVhcmFuY2UnKSB7XG4gICAgICAgIC8vIEF1dG8tc2F2ZSArIHJlZnJlc2ggcHJldmlldyBwb3VyIGwnYXBwYXJlbmNlXG4gICAgICAgIGNvbnN0IGJsb2NrID0gZ2V0QWN0aXZlQmxvY2soKTtcbiAgICAgICAgY29uc3QgY29uZmlnID0gZ2V0QmxvY2tGb3JtQ29uZmlnKGJsb2NrKTtcbiAgICAgICAgaWYgKGJsb2NrICYmIGNvbmZpZykge1xuICAgICAgICAgIGNvbnN0IHZhbHVlcyA9IGNvbGxlY3RGb3JtVmFsdWVzKGNvbmZpZyk7XG4gICAgICAgICAgaGFuZGxlQXBwZWFyYW5jZUNoYW5nZShibG9jay5pZCwgdmFsdWVzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIC8vIFx1MDBDOWdhbGVtZW50IHN1ciAnY2hhbmdlJyBwb3VyIGxlcyBzZWxlY3RzXG4gICAgYmxvY2tGb3JtPy5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICAgIGlmICghdGFyZ2V0IHx8ICF0YXJnZXQubmFtZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBNaXNlIFx1MDBFMCBqb3VyIGR1IHByZXZpZXcgZGUgY291bGV1ciBwb3VyIGxlcyBjb2xvciBzZWxlY3RzXG4gICAgICBpZiAodGFyZ2V0Lmhhc0F0dHJpYnV0ZSgnZGF0YS1jb2xvci1zZWxlY3QnKSkge1xuICAgICAgICBjb25zdCBzZWxlY3RlZE9wdGlvbiA9IHRhcmdldC5vcHRpb25zW3RhcmdldC5zZWxlY3RlZEluZGV4XTtcbiAgICAgICAgY29uc3QgY29sb3IgPSBzZWxlY3RlZE9wdGlvbj8uZGF0YXNldD8uY29sb3IgfHwgJyNmZmZmZmYnO1xuICAgICAgICBjb25zdCBjb2xvclByZXZpZXcgPSB0YXJnZXQuY2xvc2VzdCgnLnJlbGF0aXZlJyk/LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbG9yLXByZXZpZXddJyk7XG4gICAgICAgIGlmIChjb2xvclByZXZpZXcpIHtcbiAgICAgICAgICBpZiAoY29sb3IgPT09ICd0cmFuc3BhcmVudCcpIHtcbiAgICAgICAgICAgIGNvbG9yUHJldmlldy5zdHlsZS5iYWNrZ3JvdW5kID0gVFJBTlNQQVJFTlRfUEFUVEVSTjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29sb3JQcmV2aWV3LnN0eWxlLmJhY2tncm91bmQgPSBjb2xvcjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNvbnN0IHBhbmVsID0gdGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLWJsb2NrLXBhbmVsXScpO1xuICAgICAgaWYgKHBhbmVsICYmIHBhbmVsLmRhdGFzZXQuYmxvY2tQYW5lbCA9PT0gJ2FwcGVhcmFuY2UnKSB7XG4gICAgICAgIGNvbnN0IGJsb2NrID0gZ2V0QWN0aXZlQmxvY2soKTtcbiAgICAgICAgY29uc3QgY29uZmlnID0gZ2V0QmxvY2tGb3JtQ29uZmlnKGJsb2NrKTtcbiAgICAgICAgaWYgKGJsb2NrICYmIGNvbmZpZykge1xuICAgICAgICAgIGNvbnN0IHZhbHVlcyA9IGNvbGxlY3RGb3JtVmFsdWVzKGNvbmZpZyk7XG4gICAgICAgICAgaGFuZGxlQXBwZWFyYW5jZUNoYW5nZShibG9jay5pZCwgdmFsdWVzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbGxlY3Rpb25TZWxlY3Q/LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIChldmVudCkgPT4ge1xuICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgc3luY0NvbGxlY3Rpb25TZWxlY3Rpb25JbmZvKHRhcmdldD8udmFsdWUgfHwgJycpO1xuICAgIH0pO1xuICAgIGJsb2NrRm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgaGFuZGxlQmxvY2tGb3JtU3VibWl0KTtcbiAgICBibG9ja0Zvcm1DYW5jZWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgY29uc3QgYmxvY2sgPSBnZXRBY3RpdmVCbG9jaygpO1xuICAgICAgaWYgKGJsb2NrKSB7XG4gICAgICAgIHBvcHVsYXRlQmxvY2tGb3JtKGJsb2NrKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAocHJldmlld1ZpZXdCdXR0b25zLmxlbmd0aCA+IDApIHtcbiAgICAgIHByZXZpZXdWaWV3QnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHRhcmdldFZpZXcgPSBidXR0b24uZGF0YXNldC5wcmV2aWV3VmlldyB8fCAnZGVza3RvcCc7XG4gICAgICAgICAgc2V0UHJldmlld1ZpZXcodGFyZ2V0Vmlldyk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICBzZXRQcmV2aWV3VmlldygnZGVza3RvcCcpO1xuICAgIH1cblx0ICAgIHByZXZpZXdGcmFtZT8uYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHtcblx0ICAgICAgcHJldmlld1JlYWR5ID0gdHJ1ZTtcblx0ICAgICAgdXBkYXRlUHJldmlld1N0YXR1cygnXHUwMEMwIGpvdXInKTtcblx0ICAgICAgYXBwbHlQcmV2aWV3SGlnaGxpZ2h0KGFjdGl2ZUJsb2NrSWQpO1xuXG5cdCAgICAgIGNvbnN0IGRvYyA9IHByZXZpZXdGcmFtZT8uY29udGVudERvY3VtZW50O1xuXHQgICAgICBpZiAoIWRvYyB8fCAhY3VycmVudFBhZ2UpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKGRvYy5kb2N1bWVudEVsZW1lbnQuZGF0YXNldC5yYXdkaXRQcmV2aWV3U2VsZWN0Qm91bmQgPT09ICd0cnVlJykge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHQgICAgICBkb2MuZG9jdW1lbnRFbGVtZW50LmRhdGFzZXQucmF3ZGl0UHJldmlld1NlbGVjdEJvdW5kID0gJ3RydWUnO1xuXG5cdCAgICAgIC8vIFN0eWxlcyBsXHUwMEU5Z2VycyBwb3VyIHJlbmRyZSBsJ2ludGVyYWN0aW9uIFx1MDBFOXZpZGVudGUgKGhvdmVyICsgY3Vyc2V1cilcblx0ICAgICAgaWYgKCFkb2MuZ2V0RWxlbWVudEJ5SWQoJ3Jhd2RpdC1wcmV2aWV3LXNlbGVjdC1zdHlsZScpKSB7XG5cdCAgICAgICAgY29uc3Qgc3R5bGUgPSBkb2MuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcblx0ICAgICAgICBzdHlsZS5pZCA9ICdyYXdkaXQtcHJldmlldy1zZWxlY3Qtc3R5bGUnO1xuXHQgICAgICAgIHN0eWxlLnRleHRDb250ZW50ID0gYFxuXHQgICAgICAgICAgW2RhdGEtcHJldmlldy1ibG9ja117IGN1cnNvcjpwb2ludGVyOyB9XG5cdCAgICAgICAgICBbZGF0YS1wcmV2aWV3LWJsb2NrXTpob3Zlcnsgb3V0bGluZToycHggc29saWQgdmFyKC0tY29sb3ItYWNjZW50LCAjOUM2QkZGKTsgb3V0bGluZS1vZmZzZXQ6MnB4OyB9XG5cdCAgICAgICAgYDtcblx0ICAgICAgICBkb2MuaGVhZD8uYXBwZW5kQ2hpbGQoc3R5bGUpO1xuXHQgICAgICB9XG5cblx0ICAgICAgY29uc3QgaXNHcm91cFR5cGUgPSAoYmxvY2spID0+IHtcblx0ICAgICAgICBjb25zdCB0ID0gKGJsb2NrPy50eXBlIHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xuXHQgICAgICAgIHJldHVybiB0ID09PSAnZ3JvdXBlJyB8fCB0ID09PSAnZ3JvdXAnIHx8IHQgPT09ICdzZWN0aW9ucycgfHwgdCA9PT0gJ2dyaWQnO1xuXHQgICAgICB9O1xuXHQgICAgICBjb25zdCBnZXRQYXJlbnRJZEZvckJsb2NrID0gKGJsb2NrSWQpID0+IHtcblx0ICAgICAgICBpZiAoIWN1cnJlbnRQYWdlIHx8ICFibG9ja0lkKSByZXR1cm4gbnVsbDtcblx0ICAgICAgICBpZiAoKGN1cnJlbnRQYWdlLmJsb2NrcyB8fCBbXSkuc29tZSgoYikgPT4gYi5pZCA9PT0gYmxvY2tJZCkpIHtcblx0ICAgICAgICAgIHJldHVybiBudWxsO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBmb3IgKGNvbnN0IGIgb2YgY3VycmVudFBhZ2UuYmxvY2tzIHx8IFtdKSB7XG5cdCAgICAgICAgICBpZiAoIWlzR3JvdXBUeXBlKGIpIHx8ICFBcnJheS5pc0FycmF5KGIuY2hpbGRyZW4pKSBjb250aW51ZTtcblx0ICAgICAgICAgIGlmIChiLmNoaWxkcmVuLnNvbWUoKGNoaWxkKSA9PiBjaGlsZC5pZCA9PT0gYmxvY2tJZCkpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGIuaWQ7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBudWxsO1xuXHQgICAgICB9O1xuXG5cdCAgICAgIGRvYy5hZGRFdmVudExpc3RlbmVyKFxuXHQgICAgICAgICdjbGljaycsXG5cdCAgICAgICAgKGV2ZW50KSA9PiB7XG5cdCAgICAgICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQ7XG5cdCAgICAgICAgICBjb25zdCBlbCA9IHRhcmdldD8uY2xvc2VzdD8uKCdbZGF0YS1wcmV2aWV3LWJsb2NrXScpO1xuXHQgICAgICAgICAgY29uc3QgYmxvY2tJZCA9IGVsPy5nZXRBdHRyaWJ1dGU/LignZGF0YS1wcmV2aWV3LWJsb2NrJykgfHwgJyc7XG5cdCAgICAgICAgICBpZiAoIWJsb2NrSWQpIHJldHVybjtcblx0ICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdCAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblx0ICAgICAgICAgIGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbj8uKCk7XG5cdCAgICAgICAgICBjb25zdCBwYXJlbnRJZCA9IGdldFBhcmVudElkRm9yQmxvY2soYmxvY2tJZCk7XG5cdCAgICAgICAgICBzZXRBY3RpdmVCbG9jayhibG9ja0lkLCBwYXJlbnRJZCk7XG5cdCAgICAgICAgfSxcblx0ICAgICAgICB0cnVlLFxuXHQgICAgICApO1xuXHQgICAgfSk7XG4gICAgcHJldmlld09wZW5CdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgcHJldmlld1dpbmRvdyA9IHdpbmRvdy5vcGVuKCcnLCAnX2JsYW5rJyk7XG4gICAgICBpZiAoIXByZXZpZXdXaW5kb3cpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcHJldmlld1dpbmRvdy5vcGVuZXIgPSBudWxsO1xuICAgICAgY29uc3QgZG9jID0gcHJldmlld1dpbmRvdy5kb2N1bWVudDtcbiAgICAgIGRvYy5vcGVuKCk7XG4gICAgICBkb2Mud3JpdGUobGF0ZXN0UHJldmlld0h0bWwgfHwgZ2V0TG9hZGluZ1ByZXZpZXdIdG1sKCkpO1xuICAgICAgZG9jLmNsb3NlKCk7XG4gICAgfSk7XG5cbiAgICAvLyBTRU8gcGFuZWwgbG9naWNcbiAgICBjb25zdCB0b2dnbGVTZW9QYW5lbCA9IChzaG93KSA9PiB7XG4gICAgICBpZiAoIXNlb1BhbmVsKSByZXR1cm47XG4gICAgICBpZiAoc2hvdykge1xuICAgICAgICBzZW9QYW5lbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgLy8gUG9wdWxhdGUgZmllbGRzIHdpdGggY3VycmVudCBwYWdlIFNFTyBkYXRhXG4gICAgICAgIGlmIChjdXJyZW50UGFnZSkge1xuICAgICAgICAgIHNlb1RpdGxlSW5wdXQgJiYgKHNlb1RpdGxlSW5wdXQudmFsdWUgPSBjdXJyZW50UGFnZS5zZW8/LnRpdGxlIHx8ICcnKTtcbiAgICAgICAgICBzZW9EZXNjcmlwdGlvbklucHV0ICYmIChzZW9EZXNjcmlwdGlvbklucHV0LnZhbHVlID0gY3VycmVudFBhZ2Uuc2VvPy5kZXNjcmlwdGlvbiB8fCAnJyk7XG4gICAgICAgICAgLy8gaW5kZXhlZDogdHJ1ZSBieSBkZWZhdWx0IGlmIG5vdCBleHBsaWNpdGx5IHNldCB0byBmYWxzZVxuICAgICAgICAgIHNlb0luZGV4ZWRDaGVja2JveCAmJiAoc2VvSW5kZXhlZENoZWNrYm94LmNoZWNrZWQgPSBjdXJyZW50UGFnZS5zZW8/LmluZGV4ZWQgIT09IGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2VvUGFuZWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBzZXRTZW9GZWVkYmFjayA9IChtZXNzYWdlLCB0b25lID0gJ211dGVkJykgPT4ge1xuICAgICAgaWYgKCFzZW9GZWVkYmFjaykgcmV0dXJuO1xuICAgICAgY29uc3QgY29sb3IgPSB0b25lID09PSAnc3VjY2VzcycgPyAndGV4dC1lbWVyYWxkLTYwMCcgOiB0b25lID09PSAnZXJyb3InID8gJ3RleHQtcm9zZS02MDAnIDogJ3RleHQtc2xhdGUtNTAwJztcbiAgICAgIHNlb0ZlZWRiYWNrLnRleHRDb250ZW50ID0gbWVzc2FnZSB8fCAnJztcbiAgICAgIHNlb0ZlZWRiYWNrLmNsYXNzTmFtZSA9IGB0ZXh0LXNtICR7Y29sb3J9YDtcbiAgICB9O1xuICAgIHNlb1RvZ2dsZUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBpc1Zpc2libGUgPSBzZW9QYW5lbCAmJiAhc2VvUGFuZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdoaWRkZW4nKTtcbiAgICAgIHRvZ2dsZVNlb1BhbmVsKCFpc1Zpc2libGUpO1xuICAgIH0pO1xuICAgIHNlb0Nsb3NlQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRvZ2dsZVNlb1BhbmVsKGZhbHNlKSk7XG4gICAgc2VvRm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSkge1xuICAgICAgICBzZXRTZW9GZWVkYmFjaygnQXVjdW5lIHBhZ2UgYWN0aXZlLicsICdlcnJvcicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZW9TYXZlQnV0dG9uICYmIChzZW9TYXZlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZSk7XG4gICAgICBzZXRTZW9GZWVkYmFjaygnJyk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBzZW9EYXRhID0ge1xuICAgICAgICAgIHRpdGxlOiAoc2VvVGl0bGVJbnB1dD8udmFsdWUgfHwgJycpLnRyaW0oKSxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogKHNlb0Rlc2NyaXB0aW9uSW5wdXQ/LnZhbHVlIHx8ICcnKS50cmltKCksXG4gICAgICAgICAgaW5kZXhlZDogc2VvSW5kZXhlZENoZWNrYm94Py5jaGVja2VkID8/IHRydWUsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRQYWdlID0geyAuLi5jdXJyZW50UGFnZSwgc2VvOiBzZW9EYXRhIH07XG4gICAgICAgIGNvbnN0IHNhdmVkID0gYXdhaXQgc2F2ZVBhZ2VUb1NlcnZlcih1cGRhdGVkUGFnZSk7XG4gICAgICAgIGlmIChzYXZlZCkge1xuICAgICAgICAgIGN1cnJlbnRQYWdlID0gc2F2ZWQ7XG4gICAgICAgICAgc2V0U2VvRmVlZGJhY2soJ1NFTyBlbnJlZ2lzdHJcdTAwRTkuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgICBzaG93VG9hc3QoJ1NFTyBtaXMgXHUwMEUwIGpvdXInKTtcbiAgICAgICAgICByZWZyZXNoUHJldmlldyhjdXJyZW50UGFnZSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbc2VvXSBzYXZlIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNldFNlb0ZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsYSBzYXV2ZWdhcmRlLicsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2VvU2F2ZUJ1dHRvbiAmJiAoc2VvU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGNvbnN0IHN5bmNQYWdlQWNjZXNzaWJpbGl0eUZpZWxkcyA9ICgpID0+IHtcbiAgICAgIGlmICghcGFnZUFjY2Vzc2liaWxpdHlOYXZDaGVja2JveCAmJiAhcGFnZUFjY2Vzc2liaWxpdHlNYWluSW5wdXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFjdXJyZW50UGFnZSkge1xuICAgICAgICBwYWdlQWNjZXNzaWJpbGl0eU5hdkNoZWNrYm94ICYmIChwYWdlQWNjZXNzaWJpbGl0eU5hdkNoZWNrYm94LmNoZWNrZWQgPSB0cnVlKTtcbiAgICAgICAgcGFnZUFjY2Vzc2liaWxpdHlNYWluSW5wdXQgJiYgKHBhZ2VBY2Nlc3NpYmlsaXR5TWFpbklucHV0LnZhbHVlID0gJycpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAocGFnZUFjY2Vzc2liaWxpdHlOYXZDaGVja2JveCkge1xuICAgICAgICBwYWdlQWNjZXNzaWJpbGl0eU5hdkNoZWNrYm94LmNoZWNrZWQgPVxuICAgICAgICAgIGN1cnJlbnRQYWdlLmFjY2Vzc2liaWxpdHk/LnNob3dJbk1haW5OYXYgIT09IGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKHBhZ2VBY2Nlc3NpYmlsaXR5TWFpbklucHV0KSB7XG4gICAgICAgIHBhZ2VBY2Nlc3NpYmlsaXR5TWFpbklucHV0LnZhbHVlID0gY3VycmVudFBhZ2UuYWNjZXNzaWJpbGl0eT8ubWFpbkxhYmVsIHx8ICcnO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCB0b2dnbGVQYWdlQWNjZXNzaWJpbGl0eVBhbmVsID0gKHNob3cpID0+IHtcbiAgICAgIGlmICghcGFnZUFjY2Vzc2liaWxpdHlQYW5lbCkgcmV0dXJuO1xuICAgICAgaWYgKHNob3cpIHtcbiAgICAgICAgc3luY1BhZ2VBY2Nlc3NpYmlsaXR5RmllbGRzKCk7XG4gICAgICAgIHBhZ2VBY2Nlc3NpYmlsaXR5UGFuZWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYWdlQWNjZXNzaWJpbGl0eVBhbmVsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBzZXRQYWdlQWNjZXNzaWJpbGl0eUZlZWRiYWNrID0gKG1lc3NhZ2UsIHRvbmUgPSAnbXV0ZWQnKSA9PiB7XG4gICAgICBpZiAoIXBhZ2VBY2Nlc3NpYmlsaXR5RmVlZGJhY2spIHJldHVybjtcbiAgICAgIGNvbnN0IGNvbG9yID1cbiAgICAgICAgdG9uZSA9PT0gJ3N1Y2Nlc3MnXG4gICAgICAgICAgPyAndGV4dC1lbWVyYWxkLTYwMCdcbiAgICAgICAgICA6IHRvbmUgPT09ICdlcnJvcidcbiAgICAgICAgICAgID8gJ3RleHQtcm9zZS02MDAnXG4gICAgICAgICAgICA6ICd0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICBwYWdlQWNjZXNzaWJpbGl0eUZlZWRiYWNrLnRleHRDb250ZW50ID0gbWVzc2FnZSB8fCAnJztcbiAgICAgIHBhZ2VBY2Nlc3NpYmlsaXR5RmVlZGJhY2suY2xhc3NOYW1lID0gYHRleHQtc20gJHtjb2xvcn1gO1xuICAgIH07XG5cbiAgICBwYWdlQWNjZXNzaWJpbGl0eVRvZ2dsZUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBpc1Zpc2libGUgPVxuICAgICAgICBwYWdlQWNjZXNzaWJpbGl0eVBhbmVsICYmICFwYWdlQWNjZXNzaWJpbGl0eVBhbmVsLmNsYXNzTGlzdC5jb250YWlucygnaGlkZGVuJyk7XG4gICAgICB0b2dnbGVQYWdlQWNjZXNzaWJpbGl0eVBhbmVsKCFpc1Zpc2libGUpO1xuICAgIH0pO1xuICAgIHBhZ2VBY2Nlc3NpYmlsaXR5Q2xvc2VCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT5cbiAgICAgIHRvZ2dsZVBhZ2VBY2Nlc3NpYmlsaXR5UGFuZWwoZmFsc2UpLFxuICAgICk7XG5cbiAgICBwYWdlQWNjZXNzaWJpbGl0eUZvcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmICghY3VycmVudFBhZ2UpIHtcbiAgICAgICAgc2V0UGFnZUFjY2Vzc2liaWxpdHlGZWVkYmFjaygnQXVjdW5lIHBhZ2UgYWN0aXZlLicsICdlcnJvcicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwYWdlQWNjZXNzaWJpbGl0eVNhdmVCdXR0b24gJiYgKHBhZ2VBY2Nlc3NpYmlsaXR5U2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWUpO1xuICAgICAgc2V0UGFnZUFjY2Vzc2liaWxpdHlGZWVkYmFjaygnJyk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBhY2Nlc3NpYmlsaXR5RGF0YSA9IHtcbiAgICAgICAgICBzaG93SW5NYWluTmF2OiBwYWdlQWNjZXNzaWJpbGl0eU5hdkNoZWNrYm94Py5jaGVja2VkID8/IHRydWUsXG4gICAgICAgICAgbWFpbkxhYmVsOiAocGFnZUFjY2Vzc2liaWxpdHlNYWluSW5wdXQ/LnZhbHVlIHx8ICcnKS50cmltKCksXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRQYWdlID0ge1xuICAgICAgICAgIC4uLmN1cnJlbnRQYWdlLFxuICAgICAgICAgIGFjY2Vzc2liaWxpdHk6IGFjY2Vzc2liaWxpdHlEYXRhLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBzYXZlZCA9IGF3YWl0IHNhdmVQYWdlVG9TZXJ2ZXIodXBkYXRlZFBhZ2UpO1xuICAgICAgICBpZiAoc2F2ZWQpIHtcbiAgICAgICAgICBjdXJyZW50UGFnZSA9IHNhdmVkO1xuICAgICAgICAgIHN5bmNQYWdlQWNjZXNzaWJpbGl0eUZpZWxkcygpO1xuICAgICAgICAgIHNldFBhZ2VBY2Nlc3NpYmlsaXR5RmVlZGJhY2soJ0FjY2Vzc2liaWxpdFx1MDBFOSBlbnJlZ2lzdHJcdTAwRTllLicsICdzdWNjZXNzJyk7XG4gICAgICAgICAgc2hvd1RvYXN0KCdBY2Nlc3NpYmlsaXRcdTAwRTkgbWlzZSBcdTAwRTAgam91cicpO1xuICAgICAgICAgIHJlbmRlclBhZ2VMaXN0cyhwYWdlcywgYWN0aXZlUGFnZUlkKTtcbiAgICAgICAgICByZWZyZXNoUHJldmlldyhjdXJyZW50UGFnZSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbYWNjZXNzaWJpbGl0eV0gc2F2ZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzZXRQYWdlQWNjZXNzaWJpbGl0eUZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsYSBzYXV2ZWdhcmRlLicsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgcGFnZUFjY2Vzc2liaWxpdHlTYXZlQnV0dG9uICYmIChwYWdlQWNjZXNzaWJpbGl0eVNhdmVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBQYWdlIHByb3BlcnRpZXMgcGFuZWwgbG9naWNcbiAgICBjb25zdCB0b2dnbGVQYWdlUHJvcHNQYW5lbCA9IChzaG93KSA9PiB7XG4gICAgICBpZiAoIXBhZ2VQcm9wc1BhbmVsKSByZXR1cm47XG4gICAgICBpZiAoc2hvdykge1xuICAgICAgICBwYWdlUHJvcHNQYW5lbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgLy8gUG9wdWxhdGUgZmllbGRzIHdpdGggY3VycmVudCBwYWdlIGRhdGFcbiAgICAgICAgaWYgKGN1cnJlbnRQYWdlKSB7XG4gICAgICAgICAgcGFnZU5hbWVJbnB1dCAmJiAocGFnZU5hbWVJbnB1dC52YWx1ZSA9IGN1cnJlbnRQYWdlLm5hbWUgfHwgJycpO1xuICAgICAgICAgIHBhZ2VUaXRsZUlucHV0ICYmIChwYWdlVGl0bGVJbnB1dC52YWx1ZSA9IGN1cnJlbnRQYWdlLnRpdGxlIHx8ICcnKTtcbiAgICAgICAgICBwYWdlU2x1Z0lucHV0ICYmIChwYWdlU2x1Z0lucHV0LnZhbHVlID0gY3VycmVudFBhZ2Uuc2x1ZyB8fCAnJyk7XG4gICAgICAgICAgcGFnZURlc2NyaXB0aW9uSW5wdXQgJiYgKHBhZ2VEZXNjcmlwdGlvbklucHV0LnZhbHVlID0gY3VycmVudFBhZ2UuZGVzY3JpcHRpb24gfHwgJycpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYWdlUHJvcHNQYW5lbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHNldFBhZ2VQcm9wc0ZlZWRiYWNrID0gKG1lc3NhZ2UsIHRvbmUgPSAnbXV0ZWQnKSA9PiB7XG4gICAgICBpZiAoIXBhZ2VQcm9wc0ZlZWRiYWNrKSByZXR1cm47XG4gICAgICBjb25zdCBjb2xvciA9IHRvbmUgPT09ICdzdWNjZXNzJyA/ICd0ZXh0LWVtZXJhbGQtNjAwJyA6IHRvbmUgPT09ICdlcnJvcicgPyAndGV4dC1yb3NlLTYwMCcgOiAndGV4dC1zbGF0ZS01MDAnO1xuICAgICAgcGFnZVByb3BzRmVlZGJhY2sudGV4dENvbnRlbnQgPSBtZXNzYWdlIHx8ICcnO1xuICAgICAgcGFnZVByb3BzRmVlZGJhY2suY2xhc3NOYW1lID0gYHRleHQtc20gJHtjb2xvcn1gO1xuICAgIH07XG4gICAgcGFnZVByb3BzVG9nZ2xlQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IGlzVmlzaWJsZSA9IHBhZ2VQcm9wc1BhbmVsICYmICFwYWdlUHJvcHNQYW5lbC5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpO1xuICAgICAgdG9nZ2xlUGFnZVByb3BzUGFuZWwoIWlzVmlzaWJsZSk7XG4gICAgfSk7XG4gICAgcGFnZVByb3BzQ2xvc2VCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdG9nZ2xlUGFnZVByb3BzUGFuZWwoZmFsc2UpKTtcbiAgICBwYWdlUHJvcHNGb3JtPy5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlKSB7XG4gICAgICAgIHNldFBhZ2VQcm9wc0ZlZWRiYWNrKCdBdWN1bmUgcGFnZSBhY3RpdmUuJywgJ2Vycm9yJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHBhZ2VQcm9wc1NhdmVCdXR0b24gJiYgKHBhZ2VQcm9wc1NhdmVCdXR0b24uZGlzYWJsZWQgPSB0cnVlKTtcbiAgICAgIHNldFBhZ2VQcm9wc0ZlZWRiYWNrKCcnKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IG5ld05hbWUgPSAocGFnZU5hbWVJbnB1dD8udmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgICAgY29uc3QgbmV3VGl0bGUgPSAocGFnZVRpdGxlSW5wdXQ/LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICAgIGNvbnN0IG5ld1NsdWcgPSAocGFnZVNsdWdJbnB1dD8udmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgICAgY29uc3QgbmV3RGVzY3JpcHRpb24gPSAocGFnZURlc2NyaXB0aW9uSW5wdXQ/LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICAgIFxuICAgICAgICAvLyBWYWxpZGF0aW9uIGJhc2lxdWVcbiAgICAgICAgaWYgKCFuZXdUaXRsZSkge1xuICAgICAgICAgIHNldFBhZ2VQcm9wc0ZlZWRiYWNrKCdMZSB0aXRyZSBlc3QgcmVxdWlzLicsICdlcnJvcicpO1xuICAgICAgICAgIHBhZ2VQcm9wc1NhdmVCdXR0b24gJiYgKHBhZ2VQcm9wc1NhdmVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghbmV3U2x1ZyB8fCAhbmV3U2x1Zy5zdGFydHNXaXRoKCcvJykpIHtcbiAgICAgICAgICBzZXRQYWdlUHJvcHNGZWVkYmFjaygnTGUgc2x1ZyBkb2l0IGNvbW1lbmNlciBwYXIgLy4nLCAnZXJyb3InKTtcbiAgICAgICAgICBwYWdlUHJvcHNTYXZlQnV0dG9uICYmIChwYWdlUHJvcHNTYXZlQnV0dG9uLmRpc2FibGVkID0gZmFsc2UpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgY29uc3QgdXBkYXRlZFBhZ2UgPSB7XG4gICAgICAgICAgLi4uY3VycmVudFBhZ2UsXG4gICAgICAgICAgbmFtZTogbmV3TmFtZSB8fCBuZXdUaXRsZSwgLy8gRmFsbGJhY2sgdG8gdGl0bGUgaWYgbmFtZSBpcyBlbXB0eVxuICAgICAgICAgIHRpdGxlOiBuZXdUaXRsZSxcbiAgICAgICAgICBzbHVnOiBuZXdTbHVnLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBuZXdEZXNjcmlwdGlvbixcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3Qgc2F2ZWQgPSBhd2FpdCBzYXZlUGFnZVRvU2VydmVyKHVwZGF0ZWRQYWdlKTtcbiAgICAgICAgaWYgKHNhdmVkKSB7XG4gICAgICAgICAgY3VycmVudFBhZ2UgPSBzYXZlZDtcbiAgICAgICAgICAvLyBVcGRhdGUgcGFnZXMgYXJyYXlcbiAgICAgICAgICBwYWdlcyA9IHBhZ2VzLm1hcCgocCkgPT4gKHAuaWQgPT09IHNhdmVkLmlkID8gc2F2ZWQgOiBwKSk7XG4gICAgICAgICAgc2V0UGFnZVByb3BzRmVlZGJhY2soJ1Byb3ByaVx1MDBFOXRcdTAwRTlzIGVucmVnaXN0clx1MDBFOWVzLicsICdzdWNjZXNzJyk7XG4gICAgICAgICAgc2hvd1RvYXN0KCdQYWdlIG1pc2UgXHUwMEUwIGpvdXInKTtcbiAgICAgICAgICAvLyBVcGRhdGUgVUlcbiAgICAgICAgICBzZXRBY3RpdmVMYWJlbHMoY3VycmVudFBhZ2UpO1xuICAgICAgICAgIHJlbmRlclBhZ2VMaXN0cyhwYWdlcywgYWN0aXZlUGFnZUlkKTtcbiAgICAgICAgICByZWZyZXNoUHJldmlldyhjdXJyZW50UGFnZSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbcGFnZS1wcm9wc10gc2F2ZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzZXRQYWdlUHJvcHNGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZGUgbGEgc2F1dmVnYXJkZS4nLCAnZXJyb3InKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHBhZ2VQcm9wc1NhdmVCdXR0b24gJiYgKHBhZ2VQcm9wc1NhdmVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZSk7XG4gICAgICB9XG4gICAgfSk7XG5cblx0ICAgIGNvbnN0IGhhbmRsZUJsb2NrRHJhZ1N0YXJ0ID0gKGV2ZW50KSA9PiB7XG5cdCAgICAgIGNvbnN0IGl0ZW0gPSBldmVudC50YXJnZXQuY2xvc2VzdCgnW2RhdGEtYmxvY2staXRlbV0nKTtcblx0ICAgICAgaWYgKCFpdGVtIHx8ICFpc0Rlc2t0b3BSZW9yZGVyKCkpIHtcblx0ICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHQgICAgICBkcmFnU291cmNlSWQgPSBpdGVtLmRhdGFzZXQuYmxvY2tJZCB8fCBudWxsO1xuXHQgICAgICBkcmFnU291cmNlUGFyZW50SWQgPSBpdGVtLmRhdGFzZXQucGFyZW50QmxvY2tJZCB8fCBudWxsO1xuXHQgICAgICBpZiAoIWRyYWdTb3VyY2VJZCkge1xuXHQgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cdCAgICAgIGV2ZW50LmRhdGFUcmFuc2Zlci5lZmZlY3RBbGxvd2VkID0gJ21vdmUnO1xuXHQgICAgICBldmVudC5kYXRhVHJhbnNmZXIuc2V0RGF0YSgndGV4dC9wbGFpbicsIGRyYWdTb3VyY2VJZCk7XG5cdCAgICAgIGV2ZW50LmRhdGFUcmFuc2Zlci5zZXREYXRhKCdhcHBsaWNhdGlvbi94LXJhd2RpdC1wYXJlbnQnLCBkcmFnU291cmNlUGFyZW50SWQgfHwgJycpO1xuXHQgICAgICAvLyBTdHlsZSBkdSBibG9jIGVuIGNvdXJzIGRlIGRyYWdcblx0ICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcblx0ICAgICAgICBpdGVtLmNsYXNzTGlzdC5hZGQoJ29wYWNpdHktNTAnLCAnc2NhbGUtWzAuOThdJywgJ3NoYWRvdy1sZycsICdyaW5nLTInLCAncmluZy1bIzlDNkJGRl0nKTtcblx0ICAgICAgfSk7XG5cdCAgICB9O1xuICAgIGNvbnN0IGNsZWFyRHJhZ0luZGljYXRvcnMgPSAoKSA9PiB7XG4gICAgICBibG9ja0xpc3RcbiAgICAgICAgPy5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1ibG9jay1pdGVtXScpXG4gICAgICAgIC5mb3JFYWNoKChub2RlKSA9PiB7XG4gICAgICAgICAgbm9kZS5jbGFzc0xpc3QucmVtb3ZlKFxuICAgICAgICAgICAgJ29wYWNpdHktNTAnLCAnc2NhbGUtWzAuOThdJywgJ3NoYWRvdy1sZycsICdyaW5nLTInLCAncmluZy1bIzlDNkJGRl0nLFxuICAgICAgICAgICAgJ2JvcmRlci10LTQnLCAnYm9yZGVyLWItNCcsICdib3JkZXItdC1bIzlDNkJGRl0nLCAnYm9yZGVyLWItWyM5QzZCRkZdJyxcbiAgICAgICAgICAgICdwdC02JywgJ3BiLTYnXG4gICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblx0ICAgIGNvbnN0IGhhbmRsZUJsb2NrRHJhZ0VuZCA9ICgpID0+IHtcblx0ICAgICAgZHJhZ1NvdXJjZUlkID0gbnVsbDtcblx0ICAgICAgZHJhZ1NvdXJjZVBhcmVudElkID0gbnVsbDtcblx0ICAgICAgY2xlYXJEcmFnSW5kaWNhdG9ycygpO1xuXHQgICAgfTtcbiAgICBjb25zdCBoYW5kbGVCbG9ja0RyYWdPdmVyID0gKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoIWRyYWdTb3VyY2VJZCB8fCAhaXNEZXNrdG9wUmVvcmRlcigpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCdbZGF0YS1ibG9jay1pdGVtXScpO1xuICAgICAgaWYgKCF0YXJnZXQgfHwgdGFyZ2V0LmRhdGFzZXQuYmxvY2tJZCA9PT0gZHJhZ1NvdXJjZUlkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBldmVudC5kYXRhVHJhbnNmZXIuZHJvcEVmZmVjdCA9ICdtb3ZlJztcbiAgICAgIC8vIERcdTAwRTl0ZXJtaW5lIHNpIG9uIGRyb3AgYXZhbnQgb3UgYXByXHUwMEU4c1xuICAgICAgY29uc3QgcmVjdCA9IHRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIGNvbnN0IG1pZFkgPSByZWN0LnRvcCArIHJlY3QuaGVpZ2h0IC8gMjtcbiAgICAgIGNvbnN0IGlzQWJvdmUgPSBldmVudC5jbGllbnRZIDwgbWlkWTtcbiAgICAgIC8vIE5ldHRvaWUgbGVzIGF1dHJlcyBpbmRpY2F0ZXVyc1xuICAgICAgYmxvY2tMaXN0Py5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1ibG9jay1pdGVtXScpLmZvckVhY2goKG5vZGUpID0+IHtcbiAgICAgICAgaWYgKG5vZGUgIT09IHRhcmdldCAmJiBub2RlLmRhdGFzZXQuYmxvY2tJZCAhPT0gZHJhZ1NvdXJjZUlkKSB7XG4gICAgICAgICAgbm9kZS5jbGFzc0xpc3QucmVtb3ZlKCdib3JkZXItdC00JywgJ2JvcmRlci1iLTQnLCAnYm9yZGVyLXQtWyM5QzZCRkZdJywgJ2JvcmRlci1iLVsjOUM2QkZGXScsICdwdC02JywgJ3BiLTYnKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICAvLyBBcHBsaXF1ZSBsJ2luZGljYXRldXIgZGUgcG9zaXRpb25cbiAgICAgIHRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKCdib3JkZXItdC00JywgJ2JvcmRlci1iLTQnLCAnYm9yZGVyLXQtWyM5QzZCRkZdJywgJ2JvcmRlci1iLVsjOUM2QkZGXScsICdwdC02JywgJ3BiLTYnKTtcbiAgICAgIGlmIChpc0Fib3ZlKSB7XG4gICAgICAgIHRhcmdldC5jbGFzc0xpc3QuYWRkKCdib3JkZXItdC00JywgJ2JvcmRlci10LVsjOUM2QkZGXScsICdwdC02Jyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0YXJnZXQuY2xhc3NMaXN0LmFkZCgnYm9yZGVyLWItNCcsICdib3JkZXItYi1bIzlDNkJGRl0nLCAncGItNicpO1xuICAgICAgfVxuICAgICAgdGFyZ2V0LmRhdGFzZXQuZHJvcFBvc2l0aW9uID0gaXNBYm92ZSA/ICdiZWZvcmUnIDogJ2FmdGVyJztcbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZUJsb2NrRHJhZ0xlYXZlID0gKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQuY2xvc2VzdCgnW2RhdGEtYmxvY2staXRlbV0nKTtcbiAgICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vIFZcdTAwRTlyaWZpZSBzaSBvbiBxdWl0dGUgdnJhaW1lbnQgbCdcdTAwRTlsXHUwMEU5bWVudCAocGFzIGp1c3RlIHZlcnMgdW4gZW5mYW50KVxuICAgICAgY29uc3QgcmVsYXRlZFRhcmdldCA9IGV2ZW50LnJlbGF0ZWRUYXJnZXQ7XG4gICAgICBpZiAocmVsYXRlZFRhcmdldCAmJiB0YXJnZXQuY29udGFpbnMocmVsYXRlZFRhcmdldCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoJ2JvcmRlci10LTQnLCAnYm9yZGVyLWItNCcsICdib3JkZXItdC1bIzlDNkJGRl0nLCAnYm9yZGVyLWItWyM5QzZCRkZdJywgJ3B0LTYnLCAncGItNicpO1xuICAgICAgZGVsZXRlIHRhcmdldC5kYXRhc2V0LmRyb3BQb3NpdGlvbjtcbiAgICB9O1xuXHQgICAgY29uc3QgaGFuZGxlQmxvY2tEcm9wID0gKGV2ZW50KSA9PiB7XG5cdCAgICAgIGlmICghZHJhZ1NvdXJjZUlkIHx8ICFpc0Rlc2t0b3BSZW9yZGVyKCkpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cblx0ICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0ICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLWJsb2NrLWl0ZW1dJyk7XG5cdCAgICAgIGNvbnN0IHNvdXJjZSA9IGRyYWdTb3VyY2VJZDtcblx0ICAgICAgY29uc3Qgc291cmNlUGFyZW50ID0gZHJhZ1NvdXJjZVBhcmVudElkO1xuXHQgICAgICBjb25zdCBkcm9wUG9zaXRpb24gPSB0YXJnZXQ/LmRhdGFzZXQuZHJvcFBvc2l0aW9uIHx8ICdhZnRlcic7XG5cdCAgICAgIGRyYWdTb3VyY2VJZCA9IG51bGw7XG5cdCAgICAgIGRyYWdTb3VyY2VQYXJlbnRJZCA9IG51bGw7XG5cdCAgICAgIGNsZWFyRHJhZ0luZGljYXRvcnMoKTtcblx0ICAgICAgY29uc3QgdGFyZ2V0SWQgPSB0YXJnZXQ/LmRhdGFzZXQuYmxvY2tJZCB8fCBudWxsO1xuXHQgICAgICBpZiAoIWN1cnJlbnRQYWdlIHx8ICFzb3VyY2UpIHJldHVybjtcblx0ICAgICAgaWYgKCF0YXJnZXRJZCkge1xuXHQgICAgICAgIGlmIChzb3VyY2VQYXJlbnQpIHtcblx0ICAgICAgICAgIG1vdmVDaGlsZEZyb21Hcm91cFRvUm9vdEF0KHNvdXJjZVBhcmVudCwgc291cmNlLCBjdXJyZW50UGFnZS5ibG9ja3MubGVuZ3RoKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cdCAgICAgIGlmIChzb3VyY2UgPT09IHRhcmdldElkKSByZXR1cm47XG5cblx0ICAgICAgY29uc3QgdGFyZ2V0UGFyZW50ID0gdGFyZ2V0Py5kYXRhc2V0LnBhcmVudEJsb2NrSWQgfHwgbnVsbDtcblxuXHQgICAgICAvLyBEXHUwMEU5cGxhY2VyIGRlcHVpcyB1biBncm91cGVcblx0ICAgICAgaWYgKHNvdXJjZVBhcmVudCkge1xuXHQgICAgICAgIGlmICh0YXJnZXRQYXJlbnQpIHtcblx0ICAgICAgICAgIC8vIFZlcnMgdW4gZW5mYW50IGQndW4gZ3JvdXBlIChtXHUwMEVBbWUgZ3JvdXBlIFx1MjE5MiByZW9yZGVyLCBhdXRyZSBncm91cGUgXHUyMTkyIG1vdmUpXG5cdCAgICAgICAgICBpZiAodGFyZ2V0UGFyZW50ID09PSBzb3VyY2VQYXJlbnQpIHtcblx0ICAgICAgICAgICAgbW92ZUNoaWxkV2l0aGluR3JvdXAoc291cmNlUGFyZW50LCBzb3VyY2UsIHRhcmdldElkLCBkcm9wUG9zaXRpb24pO1xuXHQgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICBtb3ZlQW55QmxvY2tUb0dyb3VwQXQoc291cmNlLCB0YXJnZXRQYXJlbnQsIHRhcmdldElkLCBkcm9wUG9zaXRpb24pO1xuXHQgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIC8vIERyb3Agc3VyIHVuIGJsb2MgcmFjaW5lIFx1MjE5MiBzb3J0aXIgZHUgZ3JvdXBlIFx1MDBFMCB1bmUgcG9zaXRpb25cblx0ICAgICAgICBjb25zdCB0YXJnZXRSb290SW5kZXggPSBjdXJyZW50UGFnZS5ibG9ja3MuZmluZEluZGV4KChiKSA9PiBiLmlkID09PSB0YXJnZXRJZCk7XG5cdCAgICAgICAgaWYgKHRhcmdldFJvb3RJbmRleCA9PT0gLTEpIHtcblx0ICAgICAgICAgIG1vdmVDaGlsZEZyb21Hcm91cFRvUm9vdEF0KHNvdXJjZVBhcmVudCwgc291cmNlLCBjdXJyZW50UGFnZS5ibG9ja3MubGVuZ3RoKTtcblx0ICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICB9XG5cdCAgICAgICAgY29uc3QgaW5zZXJ0SW5kZXggPSBnZXRJbnNlcnRJbmRleEZyb21Qb3NpdGlvbih0YXJnZXRSb290SW5kZXgsIGRyb3BQb3NpdGlvbiwgMSk7XG5cdCAgICAgICAgbW92ZUNoaWxkRnJvbUdyb3VwVG9Sb290QXQoc291cmNlUGFyZW50LCBzb3VyY2UsIGluc2VydEluZGV4ID8/IGN1cnJlbnRQYWdlLmJsb2Nrcy5sZW5ndGgpO1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXG5cdCAgICAgIC8vIERcdTAwRTlwbGFjZXIgZGVwdWlzIGxhIGxpc3RlIHJhY2luZSB2ZXJzIGwnaW50XHUwMEU5cmlldXIgZCd1biBncm91cGUgKGRyb3Agc3VyIGVuZmFudClcblx0ICAgICAgaWYgKHRhcmdldFBhcmVudCkge1xuXHQgICAgICAgIG1vdmVBbnlCbG9ja1RvR3JvdXBBdChzb3VyY2UsIHRhcmdldFBhcmVudCwgdGFyZ2V0SWQsIGRyb3BQb3NpdGlvbik7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cblx0ICAgICAgLy8gUGFyIGRcdTAwRTlmYXV0OiByZW9yZGVyIGRlcyBibG9jcyByYWNpbmVcblx0ICAgICAgcmVvcmRlckJsb2Nrc1dpdGhQb3NpdGlvbihzb3VyY2UsIHRhcmdldElkLCBkcm9wUG9zaXRpb24pO1xuXHQgICAgfTtcblx0ICAgIGxldCBkcmFnU291cmNlSWQgPSBudWxsO1xuXHQgICAgbGV0IGRyYWdTb3VyY2VQYXJlbnRJZCA9IG51bGw7XG4gICAgYmxvY2tMaXN0Py5hZGRFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCBoYW5kbGVCbG9ja0RyYWdTdGFydCk7XG4gICAgYmxvY2tMaXN0Py5hZGRFdmVudExpc3RlbmVyKCdkcmFnZW5kJywgaGFuZGxlQmxvY2tEcmFnRW5kKTtcbiAgICBibG9ja0xpc3Q/LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgaGFuZGxlQmxvY2tEcmFnT3Zlcik7XG4gICAgYmxvY2tMaXN0Py5hZGRFdmVudExpc3RlbmVyKCdkcmFnbGVhdmUnLCBoYW5kbGVCbG9ja0RyYWdMZWF2ZSk7XG4gICAgYmxvY2tMaXN0Py5hZGRFdmVudExpc3RlbmVyKCdkcm9wJywgaGFuZGxlQmxvY2tEcm9wKTtcbiAgICBsb2FkUGFnZXNGcm9tU2VydmVyKCk7XG5cbiAgICAvLyBcdTAwQzljb3V0ZXIgbCdcdTAwRTl2XHUwMEU5bmVtZW50IGRlIHJhZnJhXHUwMEVFY2hpc3NlbWVudCBkXHUwMEU5Y2xlbmNoXHUwMEU5IHBhciBsJ0lBXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignYWktcGFnZS11cGRhdGVkJywgYXN5bmMgKGUpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCdbZGVzaWduXSBSYWZyYVx1MDBFRWNoaXNzZW1lbnQgZFx1MDBFOWNsZW5jaFx1MDBFOSBwYXIgSUEnLCBlLmRldGFpbCk7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBSZWNoYXJnZXIgbGVzIHBhZ2VzIGRlcHVpcyBsZSBzZXJ2ZXVyXG4gICAgICAgIGNvbnN0IGxvYWRlZFBhZ2VzID0gYXdhaXQgZmV0Y2hQYWdlc0Zyb21TZXJ2ZXIoKTtcbiAgICAgICAgcGFnZXMgPSAoQXJyYXkuaXNBcnJheShsb2FkZWRQYWdlcykgPyBsb2FkZWRQYWdlcyA6IFtdKS5tYXAoKHBhZ2UpID0+XG4gICAgICAgICAgbm9ybWFsaXplUGFnZURhdGEocGFnZSksXG4gICAgICAgICk7XG4gICAgICAgIFxuICAgICAgICAvLyBUcm91dmVyIGV0IG1ldHRyZSBcdTAwRTAgam91ciBsYSBwYWdlIGFjdGl2ZVxuICAgICAgICBpZiAoZS5kZXRhaWw/LnBhZ2VJZCkge1xuICAgICAgICAgIGNvbnN0IHVwZGF0ZWRQYWdlID0gcGFnZXMuZmluZChwID0+IHAuaWQgPT09IGUuZGV0YWlsLnBhZ2VJZCk7XG4gICAgICAgICAgaWYgKHVwZGF0ZWRQYWdlKSB7XG4gICAgICAgICAgICBjdXJyZW50UGFnZSA9IHVwZGF0ZWRQYWdlO1xuICAgICAgICAgICAgYWN0aXZlUGFnZUlkID0gdXBkYXRlZFBhZ2UuaWQ7XG4gICAgICAgICAgICAvLyBSYWZyYVx1MDBFRWNoaXIgbGEgcHJldmlldyBhdmVjIGxhIHBhZ2UgbWlzZSBcdTAwRTAgam91clxuICAgICAgICAgICAgcmVmcmVzaFByZXZpZXcoY3VycmVudFBhZ2UpO1xuICAgICAgICAgICAgLy8gUmFmcmFcdTAwRUVjaGlyIGxhIGxpc3RlIGRlcyBibG9jc1xuICAgICAgICAgICAgcmVuZGVyQmxvY2tMaXN0KGN1cnJlbnRQYWdlKTtcbiAgICAgICAgICAgIHNob3dUb2FzdCgnUGFnZSBtaXNlIFx1MDBFMCBqb3VyIHBhciBsXFwnSUEnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoYWN0aXZlUGFnZUlkKSB7XG4gICAgICAgICAgLy8gUmFmcmFcdTAwRUVjaGlyIGxhIHBhZ2UgYWN0aXZlIGFjdHVlbGxlXG4gICAgICAgICAgY29uc3QgYWN0aXZlUGFnZSA9IHBhZ2VzLmZpbmQocCA9PiBwLmlkID09PSBhY3RpdmVQYWdlSWQpO1xuICAgICAgICAgIGlmIChhY3RpdmVQYWdlKSB7XG4gICAgICAgICAgICBjdXJyZW50UGFnZSA9IGFjdGl2ZVBhZ2U7XG4gICAgICAgICAgICByZWZyZXNoUHJldmlldyhjdXJyZW50UGFnZSk7XG4gICAgICAgICAgICByZW5kZXJCbG9ja0xpc3QoY3VycmVudFBhZ2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkZXNpZ25dIEVycmV1ciByYWZyYVx1MDBFRWNoaXNzZW1lbnQgSUE6JywgZXJyKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXRDb250ZW50V29ya3NwYWNlKCkge1xuICAgIGNvbnN0IGNvbGxlY3Rpb25MaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29sbGVjdGlvbi1saXN0XScpO1xuICAgIGlmICghY29sbGVjdGlvbkxpc3QpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgLy8gXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXG4gICAgLy8gSEVBREVSICYgRk9PVEVSIE1BTkFHRU1FTlRcbiAgICAvLyBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcbiAgICBjb25zdCBjb250ZW50Vmlld3MgPSB7XG4gICAgICBlbXB0eTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29udGVudC12aWV3PVwiZW1wdHlcIl0nKSxcbiAgICAgIGhlYWRlcjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29udGVudC12aWV3PVwiaGVhZGVyXCJdJyksXG4gICAgICBjb2xsZWN0aW9uOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb250ZW50LXZpZXc9XCJjb2xsZWN0aW9uXCJdJyksXG4gICAgICBmb290ZXI6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbnRlbnQtdmlldz1cImZvb3RlclwiXScpLFxuICAgIH07XG4gICAgY29uc3QgY29udGVudFNlY3Rpb25CdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtY29udGVudC1zZWN0aW9uXScpO1xuICAgIGNvbnN0IGNvbnRlbnRTZWN0aW9uVHJpZ2dlcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1jb250ZW50LXNlY3Rpb24tdHJpZ2dlcl0nKTtcbiAgICBjb25zdCBoZWFkZXJTdGF0dXNJbmRpY2F0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1oZWFkZXItc3RhdHVzXScpO1xuICAgIGNvbnN0IGZvb3RlclN0YXR1c0luZGljYXRvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWZvb3Rlci1zdGF0dXNdJyk7XG4gICAgY29uc3QgY29sbGVjdGlvbkNvdW50RWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xsZWN0aW9uLWNvdW50XScpO1xuICAgIGNvbnN0IGl0ZW1QYW5lbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tcGFuZWxdJyk7XG4gICAgY29uc3QgaXRlbVBhbmVsQ2xvc2VCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtaXRlbS1wYW5lbC1jbG9zZV0nKTtcbiAgICBjb25zdCBjb2xsZWN0aW9uRW1wdHlTdGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbGxlY3Rpb24tZW1wdHldJyk7XG4gICAgY29uc3QgY29sbGVjdGlvbkl0ZW1zRW1wdHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xsZWN0aW9uLWl0ZW1zLWVtcHR5XScpO1xuICAgIGNvbnN0IGl0ZW1UYWJsZVdyYXBwZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLXRhYmxlLXdyYXBwZXJdJyk7XG4gICAgY29uc3QgaXRlbVRhYmxlQm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tdGFibGUtYm9keV0nKTtcbiAgICBjb25zdCBjb2xsZWN0aW9uVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xsZWN0aW9uLXRpdGxlXScpO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25EZXNjcmlwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbGxlY3Rpb24tZGVzY3JpcHRpb25dJyk7XG4gICAgY29uc3QgaXRlbUFkZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tYWRkXScpO1xuICAgIGNvbnN0IGl0ZW1EZXRhaWxFbXB0eSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tZGV0YWlsLWVtcHR5XScpO1xuICAgIGNvbnN0IGl0ZW1Gb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS1mb3JtXScpO1xuICAgIGNvbnN0IGl0ZW1Gb3JtRmllbGRzID0gaXRlbUZvcm1cbiAgICAgID8ge1xuICAgICAgICAgIHRpdGxlOiBpdGVtRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cIml0ZW0tdGl0bGVcIl0nKSxcbiAgICAgICAgICBzbHVnOiBpdGVtRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cIml0ZW0tc2x1Z1wiXScpLFxuICAgICAgICAgIGV4Y2VycHQ6IGl0ZW1Gb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaXRlbS1leGNlcnB0XCJdJyksXG4gICAgICAgICAgY29udGVudDogaXRlbUZvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJpdGVtLWNvbnRlbnRcIl0nKSxcbiAgICAgICAgICBpbWFnZTogaXRlbUZvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJpdGVtLWltYWdlXCJdJyksXG4gICAgICAgICAgY3RhVGV4dDogaXRlbUZvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJpdGVtLWN0YS10ZXh0XCJdJyksXG4gICAgICAgICAgY3RhVXJsOiBpdGVtRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cIml0ZW0tY3RhLXVybFwiXScpLFxuICAgICAgICAgIHN0YXR1czogaXRlbUZvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJpdGVtLXN0YXR1c1wiXScpLFxuICAgICAgICB9XG4gICAgICA6IHt9O1xuICAgIGNvbnN0IGl0ZW1TdGF0dXNCYWRnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tc3RhdHVzLWJhZGdlXScpO1xuICAgIGNvbnN0IGl0ZW1EZWxldGVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLWRlbGV0ZV0nKTtcbiAgICBjb25zdCBpdGVtRGVsZXRlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLWRlbGV0ZS1tb2RhbF0nKTtcbiAgICBjb25zdCBpdGVtRGVsZXRlQ2FuY2VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS1kZWxldGUtY2FuY2VsXScpO1xuICAgIGNvbnN0IGl0ZW1EZWxldGVDb25maXJtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS1kZWxldGUtY29uZmlybV0nKTtcbiAgICBjb25zdCBpdGVtRm9ybUNhbmNlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tY2FuY2VsXScpO1xuICAgIGNvbnN0IGl0ZW1Gb3JtU2F2ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tc2F2ZV0nKTtcbiAgICBjb25zdCBzdGF0dXNCYWRnZUJhc2VDbGFzcyA9ICdyb3VuZGVkLWZ1bGwgcHgtMyBweS0xIHRleHQteHMgZm9udC1zZW1pYm9sZCc7XG4gICAgY29uc3QgaXNEZXNrdG9wVmlld3BvcnQgPSAoKSA9PiB3aW5kb3cubWF0Y2hNZWRpYSgnKG1pbi13aWR0aDogMTAyNHB4KScpLm1hdGNoZXM7XG4gICAgY29uc3Qgc2V0SXRlbVBhbmVsSGlkZGVuU3RhdGUgPSAoaGlkZGVuKSA9PiB7XG4gICAgICBpZiAoIWl0ZW1QYW5lbCB8fCBpc0Rlc2t0b3BWaWV3cG9ydCgpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGhpZGRlbkNsYXNzZXMgPSBpdGVtUGFuZWwuZGF0YXNldC5pdGVtUGFuZWxIaWRkZW4gfHwgJyc7XG4gICAgICBjb25zdCB2aXNpYmxlQ2xhc3NlcyA9IGl0ZW1QYW5lbC5kYXRhc2V0Lml0ZW1QYW5lbFZpc2libGUgfHwgJyc7XG4gICAgICBpZiAoaGlkZGVuKSB7XG4gICAgICAgIGFwcGx5UGFuZWxDbGFzc2VzKGl0ZW1QYW5lbCwgdmlzaWJsZUNsYXNzZXMsICdyZW1vdmUnKTtcbiAgICAgICAgYXBwbHlQYW5lbENsYXNzZXMoaXRlbVBhbmVsLCBoaWRkZW5DbGFzc2VzLCAnYWRkJyk7XG4gICAgICAgIGl0ZW1QYW5lbC5jbGFzc0xpc3QuYWRkKCdwb2ludGVyLWV2ZW50cy1ub25lJyk7XG4gICAgICAgIGl0ZW1QYW5lbC5kYXRhc2V0Lml0ZW1QYW5lbE9wZW4gPSAnZmFsc2UnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXBwbHlQYW5lbENsYXNzZXMoaXRlbVBhbmVsLCBoaWRkZW5DbGFzc2VzLCAncmVtb3ZlJyk7XG4gICAgICAgIGFwcGx5UGFuZWxDbGFzc2VzKGl0ZW1QYW5lbCwgdmlzaWJsZUNsYXNzZXMsICdhZGQnKTtcbiAgICAgICAgaXRlbVBhbmVsLmNsYXNzTGlzdC5yZW1vdmUoJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICAgICAgaXRlbVBhbmVsLmRhdGFzZXQuaXRlbVBhbmVsT3BlbiA9ICd0cnVlJztcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHN5bmNJdGVtUGFuZWxXaXRoVmlld3BvcnQgPSAoKSA9PiB7XG4gICAgICBpZiAoIWl0ZW1QYW5lbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoaXNEZXNrdG9wVmlld3BvcnQoKSkge1xuICAgICAgICBjb25zdCBoaWRkZW5DbGFzc2VzID0gaXRlbVBhbmVsLmRhdGFzZXQuaXRlbVBhbmVsSGlkZGVuIHx8ICcnO1xuICAgICAgICBhcHBseVBhbmVsQ2xhc3NlcyhpdGVtUGFuZWwsIGhpZGRlbkNsYXNzZXMsICdyZW1vdmUnKTtcbiAgICAgICAgaXRlbVBhbmVsLmNsYXNzTGlzdC5yZW1vdmUoJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICAgICAgaXRlbVBhbmVsLmRhdGFzZXQuaXRlbVBhbmVsT3BlbiA9ICd0cnVlJztcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1Gb3JtPy5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpKSB7XG4gICAgICAgIHNldEl0ZW1QYW5lbEhpZGRlblN0YXRlKHRydWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0SXRlbVBhbmVsSGlkZGVuU3RhdGUoZmFsc2UpO1xuICAgICAgfVxuICAgIH07XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHN5bmNJdGVtUGFuZWxXaXRoVmlld3BvcnQpO1xuICAgIGl0ZW1QYW5lbENsb3NlQnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAoaXNEZXNrdG9wVmlld3BvcnQoKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBoaWRlSXRlbUZvcm0oKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHN5bmNJdGVtUGFuZWxXaXRoVmlld3BvcnQoKTtcbiAgICBcbiAgICAvLyBIZWFkZXIgZmllbGRzXG4gICAgY29uc3QgaGVhZGVyRmllbGRzID0ge1xuICAgICAgbG9nbzogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJoZWFkZXItbG9nb1wiXScpLFxuICAgICAgbG9nb0FsdDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJoZWFkZXItbG9nby1hbHRcIl0nKSxcbiAgICAgIGxvZ29Vcmw6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaGVhZGVyLWxvZ28tdXJsXCJdJyksXG4gICAgICBjdGFUZXh0OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImhlYWRlci1jdGEtdGV4dFwiXScpLFxuICAgICAgY3RhVXJsOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImhlYWRlci1jdGEtdXJsXCJdJyksXG4gICAgICBjdGFTdHlsZTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJoZWFkZXItY3RhLXN0eWxlXCJdJyksXG4gICAgICBjdGFUZXh0Q29sb3I6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaGVhZGVyLWN0YS10ZXh0LWNvbG9yXCJdJyksXG4gICAgICBwb3NpdGlvbjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJoZWFkZXItcG9zaXRpb25cIl0nKSxcbiAgICAgIGJnOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImhlYWRlci1iZ1wiXScpLFxuICAgIH07XG4gICAgY29uc3QgaGVhZGVyTmF2TGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWhlYWRlci1uYXYtbGlzdF0nKTtcbiAgICBjb25zdCBoZWFkZXJOYXZBZGRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1oZWFkZXItbmF2LWFkZF0nKTtcbiAgICBjb25zdCBoZWFkZXJTYXZlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaGVhZGVyLXNhdmVdJyk7XG4gICAgY29uc3QgaGVhZGVyTmF2SXRlbVRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtdGVtcGxhdGUtaGVhZGVyLW5hdi1pdGVtXScpO1xuICAgIGNvbnN0IGhlYWRlclBhZ2VzTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWhlYWRlci1wYWdlcy1saXN0XScpO1xuICAgIGxldCBzaXRlUGFnZXMgPSBbXTsgLy8gUGFnZXMgZHUgc2l0ZSBwb3VyIGxlcyBjaGVja2JveGVzXG4gICAgbGV0IHNlbGVjdGVkTmF2UGFnZXMgPSBbXTsgLy8gUGFnZXMgc1x1MDBFOWxlY3Rpb25uXHUwMEU5ZXMgcG91ciBsZSBtZW51IChhdmVjIG9yZHJlKVxuICAgIFxuICAgIC8vIEZvb3RlciBmaWVsZHNcbiAgICBjb25zdCBmb290ZXJGaWVsZHMgPSB7XG4gICAgICBsaW5rZWRpbjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJmb290ZXItc29jaWFsLWxpbmtlZGluXCJdJyksXG4gICAgICB0d2l0dGVyOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImZvb3Rlci1zb2NpYWwtdHdpdHRlclwiXScpLFxuICAgICAgaW5zdGFncmFtOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImZvb3Rlci1zb2NpYWwtaW5zdGFncmFtXCJdJyksXG4gICAgICBmYWNlYm9vazogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJmb290ZXItc29jaWFsLWZhY2Vib29rXCJdJyksXG4gICAgICB5b3V0dWJlOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImZvb3Rlci1zb2NpYWwteW91dHViZVwiXScpLFxuICAgICAgZ2l0aHViOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImZvb3Rlci1zb2NpYWwtZ2l0aHViXCJdJyksXG4gICAgICBjb3B5cmlnaHQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZm9vdGVyLWNvcHlyaWdodFwiXScpLFxuICAgICAgbGVnYWxVcmw6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZm9vdGVyLWxlZ2FsLXVybFwiXScpLFxuICAgICAgcHJpdmFjeVVybDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJmb290ZXItcHJpdmFjeS11cmxcIl0nKSxcbiAgICAgIGJnOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImZvb3Rlci1iZ1wiXScpLFxuICAgICAgY29sdW1uc0NvdW50OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImZvb3Rlci1jb2x1bW5zLWNvdW50XCJdJyksXG4gICAgfTtcbiAgICBjb25zdCBmb290ZXJDb2x1bW5zTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWZvb3Rlci1jb2x1bW5zLWxpc3RdJyk7XG4gICAgY29uc3QgZm9vdGVyQ29sdW1uQWRkQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZm9vdGVyLWNvbHVtbi1hZGRdJyk7XG4gICAgY29uc3QgZm9vdGVyU2F2ZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWZvb3Rlci1zYXZlXScpO1xuICAgIGNvbnN0IGZvb3RlckNvbHVtblRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtdGVtcGxhdGUtZm9vdGVyLWNvbHVtbl0nKTtcbiAgICBjb25zdCBmb290ZXJMaW5rVGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS10ZW1wbGF0ZS1mb290ZXItbGlua10nKTtcbiAgICBcbiAgICBsZXQgYWN0aXZlQ29udGVudFNlY3Rpb24gPSBudWxsO1xuICAgIGxldCBoZWFkZXJEYXRhID0geyBuYXY6IFtdLCBsb2dvOiB7fSwgY3RhOiB7fSwgc3R5bGU6IHt9IH07XG4gICAgbGV0IGZvb3RlckRhdGEgPSB7IGNvbHVtbnM6IFtdLCBzb2NpYWxzOiB7fSwgY29weXJpZ2h0OiAnJywgbGVnYWw6IHt9LCBzdHlsZToge30gfTtcbiAgICBcbiAgICBjb25zdCBzYWZlU2l0ZVNsdWdGb3JMYXlvdXQgPSBzdHJpcExlYWRpbmdTbGFzaCh3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnKTtcbiAgICBjb25zdCBzbHVnID0gc2FmZVNpdGVTbHVnRm9yTGF5b3V0OyAvLyBBbGlhcyBwb3VyIGxlcyBmb25jdGlvbnMgcXVpIHV0aWxpc2VudCBzbHVnXG4gICAgY29uc3QgbGF5b3V0QXBpQmFzZSA9IHNhZmVTaXRlU2x1Z0ZvckxheW91dCA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Z0ZvckxheW91dCl9L2xheW91dGAgOiBudWxsO1xuICAgIFxuICAgIC8vIFZpZXcgc3dpdGNoaW5nXG4gICAgY29uc3Qgc2hvd0NvbnRlbnRWaWV3ID0gKHZpZXdOYW1lKSA9PiB7XG4gICAgICBPYmplY3QuZW50cmllcyhjb250ZW50Vmlld3MpLmZvckVhY2goKFtuYW1lLCBlbF0pID0+IHtcbiAgICAgICAgaWYgKGVsKSBlbC5jbGFzc0xpc3QudG9nZ2xlKCdoaWRkZW4nLCBuYW1lICE9PSB2aWV3TmFtZSk7XG4gICAgICB9KTtcbiAgICAgIGNvbnRlbnRTZWN0aW9uQnV0dG9ucy5mb3JFYWNoKGJ0biA9PiB7XG4gICAgICAgIGNvbnN0IHNlY3Rpb24gPSBidG4uZGF0YXNldC5jb250ZW50U2VjdGlvbjtcbiAgICAgICAgaWYgKHNlY3Rpb24gPT09IHZpZXdOYW1lKSB7XG4gICAgICAgICAgYnRuLmRhdGFzZXQuYWN0aXZlID0gJ3RydWUnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRlbGV0ZSBidG4uZGF0YXNldC5hY3RpdmU7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgYWN0aXZlQ29udGVudFNlY3Rpb24gPSB2aWV3TmFtZTtcbiAgICB9O1xuICAgIFxuICAgIC8vIFNlY3Rpb24gYnV0dG9uIGhhbmRsZXJzXG4gICAgY29udGVudFNlY3Rpb25CdXR0b25zLmZvckVhY2goYnRuID0+IHtcbiAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgY29uc3Qgc2VjdGlvbiA9IGJ0bi5kYXRhc2V0LmNvbnRlbnRTZWN0aW9uO1xuICAgICAgICBpZiAoc2VjdGlvbiA9PT0gJ2hlYWRlcicgfHwgc2VjdGlvbiA9PT0gJ2Zvb3RlcicpIHtcbiAgICAgICAgICBzaG93Q29udGVudFZpZXcoc2VjdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGNvbnRlbnRTZWN0aW9uVHJpZ2dlcnMuZm9yRWFjaChidG4gPT4ge1xuICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBjb25zdCBzZWN0aW9uID0gYnRuLmRhdGFzZXQuY29udGVudFNlY3Rpb25UcmlnZ2VyO1xuICAgICAgICBpZiAoc2VjdGlvbikgc2hvd0NvbnRlbnRWaWV3KHNlY3Rpb24pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgXG4gICAgLy8gXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXG4gICAgLy8gSEVBREVSIEZVTkNUSU9OU1xuICAgIC8vIFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFxuICAgIFxuICAgIC8vIENoYXJnZXIgbGEgbGlzdGUgZGVzIHBhZ2VzIGR1IHNpdGUgcG91ciBsZXMgY2hlY2tib3hlc1xuICAgIGNvbnN0IGxvYWRTaXRlUGFnZXNGb3JIZWFkZXIgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXNsdWcgfHwgIWhlYWRlclBhZ2VzTGlzdCkgcmV0dXJuO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9zaXRlcy8ke3NsdWd9L3BhZ2VzYCwgeyBjcmVkZW50aWFsczogJ2luY2x1ZGUnIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB0aHJvdyBuZXcgRXJyb3IoJ0VycmV1ciBjaGFyZ2VtZW50IHBhZ2VzJyk7XG4gICAgICAgIHNpdGVQYWdlcyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgcmVuZGVyUGFnZUNoZWNrYm94ZXMoKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbaGVhZGVyXSBsb2FkIHBhZ2VzIGVycm9yJywgZXJyKTtcbiAgICAgICAgaGVhZGVyUGFnZXNMaXN0LmlubmVySFRNTCA9ICc8cCBjbGFzcz1cInRleHQteHMgdGV4dC1yZWQtNTAwXCI+RXJyZXVyIGNoYXJnZW1lbnQgcGFnZXM8L3A+JztcbiAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIC8vIEFmZmljaGVyIGxlcyBjaGVja2JveGVzIHBvdXIgY2hhcXVlIHBhZ2VcbiAgY29uc3Qgbm9ybWFsaXplTmF2UGFnZVVybCA9ICh2YWx1ZSkgPT4ge1xuICAgIGNvbnN0IHJhdyA9ICh2YWx1ZSB8fCAnJykudG9TdHJpbmcoKS50cmltKCk7XG4gICAgaWYgKCFyYXcgfHwgcmF3ID09PSAnLycgfHwgcmF3ID09PSAnaW5kZXgnKSB7XG4gICAgICByZXR1cm4gJy8nO1xuICAgIH1cbiAgICBjb25zdCBsb3dlciA9IHJhdy50b0xvd2VyQ2FzZSgpO1xuICAgIGlmIChyYXcuc3RhcnRzV2l0aCgnIycpKSB7XG4gICAgICByZXR1cm4gcmF3O1xuICAgIH1cbiAgICBpZiAobG93ZXIuc3RhcnRzV2l0aCgnbWFpbHRvOicpIHx8IGxvd2VyLnN0YXJ0c1dpdGgoJ3RlbDonKSkge1xuICAgICAgcmV0dXJuIHJhdztcbiAgICB9XG4gICAgaWYgKC9eW2Etel0rOlxcL1xcLy9pLnRlc3QocmF3KSkge1xuICAgICAgcmV0dXJuIHJhdztcbiAgICB9XG4gICAgaWYgKHJhdy5zdGFydHNXaXRoKCcvLycpKSB7XG4gICAgICBjb25zdCB3aXRob3V0U2xhc2hlcyA9IHJhdy5zbGljZSgyKTtcbiAgICAgIGlmICh3aXRob3V0U2xhc2hlcy5pbmNsdWRlcygnLicpKSB7XG4gICAgICAgIHJldHVybiByYXc7XG4gICAgICB9XG4gICAgICBjb25zdCBjbGVhbmVkSW50ZXJuYWwgPSB3aXRob3V0U2xhc2hlcy5yZXBsYWNlKC9eXFwvKy8sICcnKS5yZXBsYWNlKC9cXC8rJC8sICcnKTtcbiAgICAgIHJldHVybiBjbGVhbmVkSW50ZXJuYWwgPyBgLyR7Y2xlYW5lZEludGVybmFsfWAgOiAnLyc7XG4gICAgfVxuICAgIGNvbnN0IGNsZWFuZWQgPSByYXcucmVwbGFjZSgvXlxcLysvLCAnJykucmVwbGFjZSgvXFwvKyQvLCAnJyk7XG4gICAgcmV0dXJuIGNsZWFuZWQgPyBgLyR7Y2xlYW5lZH1gIDogJy8nO1xuICB9O1xuICBjb25zdCBub3JtYWxpemVPcHRpb25hbE5hdlVybCA9ICh2YWx1ZSwgZGVmYXVsdFZhbHVlID0gJycpID0+IHtcbiAgICBjb25zdCB0cmltbWVkID0gKHZhbHVlIHx8ICcnKS50b1N0cmluZygpLnRyaW0oKTtcbiAgICBpZiAoIXRyaW1tZWQpIHtcbiAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBub3JtYWxpemVOYXZQYWdlVXJsKHRyaW1tZWQpO1xuICB9O1xuXG4gIGNvbnN0IHJlbmRlclBhZ2VDaGVja2JveGVzID0gKCkgPT4ge1xuICAgIGlmICghaGVhZGVyUGFnZXNMaXN0KSByZXR1cm47XG4gICAgaGVhZGVyUGFnZXNMaXN0LmlubmVySFRNTCA9ICcnO1xuXG4gICAgaWYgKHNpdGVQYWdlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgaGVhZGVyUGFnZXNMaXN0LmlubmVySFRNTCA9ICc8cCBjbGFzcz1cInRleHQteHMgdGV4dC1zbGF0ZS00MDAgaXRhbGljXCI+QXVjdW5lIHBhZ2UgZGlzcG9uaWJsZTwvcD4nO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBcbiAgICBzaXRlUGFnZXMuZm9yRWFjaChwYWdlID0+IHtcbiAgICAgIGNvbnN0IHBhZ2VTbHVnID0gcGFnZS5zbHVnIHx8IHBhZ2UuaWQgfHwgJyc7XG4gICAgICAvLyBVc2UgcGFnZS5uYW1lIChzaG9ydCBuYW1lKSBpZiBhdmFpbGFibGUsIGZhbGxiYWNrIHRvIHRpdGxlXG4gICAgICBjb25zdCBwYWdlRGlzcGxheU5hbWUgPSBwYWdlLm5hbWUgfHwgcGFnZS50aXRsZSB8fCBwYWdlU2x1ZztcbiAgICAgIGNvbnN0IHBhZ2VVcmwgPSBub3JtYWxpemVOYXZQYWdlVXJsKHBhZ2VTbHVnKTtcblxuICAgICAgLy8gVlx1MDBFOXJpZmllciBzaSBjZXR0ZSBwYWdlIGVzdCBzXHUwMEU5bGVjdGlvbm5cdTAwRTllIGRhbnMgbGEgbmF2XG4gICAgICBjb25zdCBpc1NlbGVjdGVkID0gc2VsZWN0ZWROYXZQYWdlcy5zb21lKG5hdiA9PiBuYXYudXJsID09PSBwYWdlVXJsKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgICAgICAgbGFiZWwuY2xhc3NOYW1lID0gJ2ZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHB4LTMgcHktMiByb3VuZGVkLWxnIGJvcmRlciBib3JkZXItc2xhdGUtMjAwIGhvdmVyOmJnLXNsYXRlLTUwIGN1cnNvci1wb2ludGVyIHRyYW5zaXRpb24tY29sb3JzJztcbiAgICAgICAgbGFiZWwuaW5uZXJIVE1MID0gYFxuICAgICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuYW1lPVwibmF2LXBhZ2VcIiB2YWx1ZT1cIiR7cGFnZVVybH1cIiBkYXRhLXBhZ2UtdGl0bGU9XCIke3BhZ2VEaXNwbGF5TmFtZX1cIlxuICAgICAgICAgICAgICAgICBjbGFzcz1cInctNCBoLTQgcm91bmRlZCBib3JkZXItc2xhdGUtMzAwIHRleHQtdmlvbGV0LTYwMCBmb2N1czpyaW5nLXZpb2xldC01MDBcIlxuICAgICAgICAgICAgICAgICAke2lzU2VsZWN0ZWQgPyAnY2hlY2tlZCcgOiAnJ30+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJmbGV4LTEgdGV4dC1zbSB0ZXh0LXNsYXRlLTcwMFwiPiR7cGFnZURpc3BsYXlOYW1lfTwvc3Bhbj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQteHMgdGV4dC1zbGF0ZS00MDBcIj4ke3BhZ2VVcmx9PC9zcGFuPlxuICAgICAgICBgO1xuICAgICAgICBcbiAgICAgICAgLy8gTWV0dHJlIFx1MDBFMCBqb3VyIHNlbGVjdGVkTmF2UGFnZXMgcXVhbmQgb24gY29jaGUvZFx1MDBFOWNvY2hlXG4gICAgICAgIGNvbnN0IGNoZWNrYm94ID0gbGFiZWwucXVlcnlTZWxlY3RvcignaW5wdXQnKTtcbiAgICAgICAgY2hlY2tib3guYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICAgICAgICAgIGlmIChjaGVja2JveC5jaGVja2VkKSB7XG4gICAgICAgICAgICAvLyBBam91dGVyIFx1MDBFMCBsYSBsaXN0ZVxuICAgICAgICAgICAgaWYgKCFzZWxlY3RlZE5hdlBhZ2VzLnNvbWUobmF2ID0+IG5hdi51cmwgPT09IHBhZ2VVcmwpKSB7XG4gICAgICAgICAgICAgIHNlbGVjdGVkTmF2UGFnZXMucHVzaCh7IGxhYmVsOiBwYWdlRGlzcGxheU5hbWUsIHVybDogcGFnZVVybCB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gUmV0aXJlciBkZSBsYSBsaXN0ZVxuICAgICAgICAgICAgc2VsZWN0ZWROYXZQYWdlcyA9IHNlbGVjdGVkTmF2UGFnZXMuZmlsdGVyKG5hdiA9PiBuYXYudXJsICE9PSBwYWdlVXJsKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgaGVhZGVyUGFnZXNMaXN0LmFwcGVuZENoaWxkKGxhYmVsKTtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgXG4gICAgY29uc3QgY29sbGVjdEhlYWRlckRhdGEgPSAoKSA9PiB7XG4gICAgICAvLyBDb2xsZWN0ZXIgbGVzIHBhZ2VzIGNvY2hcdTAwRTllcyBkYW5zIGwnb3JkcmUgYWN0dWVsXG4gICAgICBjb25zdCBuYXYgPSBbXTtcbiAgICAgIGhlYWRlclBhZ2VzTGlzdD8ucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbbmFtZT1cIm5hdi1wYWdlXCJdOmNoZWNrZWQnKS5mb3JFYWNoKGNoZWNrYm94ID0+IHtcbiAgICAgICAgY29uc3QgdXJsID0gbm9ybWFsaXplTmF2UGFnZVVybChjaGVja2JveC52YWx1ZSk7XG4gICAgICAgIGNvbnN0IGxhYmVsID0gY2hlY2tib3guZGF0YXNldC5wYWdlVGl0bGUgfHwgdXJsO1xuICAgICAgICBuYXYucHVzaCh7IGxhYmVsLCB1cmwgfSk7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbG9nbzoge1xuICAgICAgICAgIHNyYzogaGVhZGVyRmllbGRzLmxvZ28/LnZhbHVlPy50cmltKCkgfHwgJycsXG4gICAgICAgICAgYWx0OiBoZWFkZXJGaWVsZHMubG9nb0FsdD8udmFsdWU/LnRyaW0oKSB8fCAnJyxcbiAgICAgICAgICB1cmw6IG5vcm1hbGl6ZU9wdGlvbmFsTmF2VXJsKGhlYWRlckZpZWxkcy5sb2dvVXJsPy52YWx1ZSwgJy8nKSxcbiAgICAgICAgfSxcbiAgICAgICAgbmF2LFxuICAgICAgICBjdGE6IHtcbiAgICAgICAgICB0ZXh0OiBoZWFkZXJGaWVsZHMuY3RhVGV4dD8udmFsdWU/LnRyaW0oKSB8fCAnJyxcbiAgICAgICAgICB1cmw6IG5vcm1hbGl6ZU9wdGlvbmFsTmF2VXJsKGhlYWRlckZpZWxkcy5jdGFVcmw/LnZhbHVlLCAnJyksXG4gICAgICAgICAgc3R5bGU6IGhlYWRlckZpZWxkcy5jdGFTdHlsZT8udmFsdWUgfHwgJ3ByaW1hcnknLFxuICAgICAgICAgIHRleHRDb2xvcjogaGVhZGVyRmllbGRzLmN0YVRleHRDb2xvcj8udmFsdWUgfHwgJycsXG4gICAgICAgIH0sXG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgcG9zaXRpb246IGhlYWRlckZpZWxkcy5wb3NpdGlvbj8udmFsdWUgfHwgJ3N0YXRpYycsXG4gICAgICAgICAgYmc6IGhlYWRlckZpZWxkcy5iZz8udmFsdWUgfHwgJ2JnLXdoaXRlJyxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgfTtcbiAgICBcbiAgICBjb25zdCBwb3B1bGF0ZUhlYWRlckZvcm0gPSBhc3luYyAoZGF0YSkgPT4ge1xuICAgICAgaWYgKCFkYXRhKSByZXR1cm47XG4gICAgICBpZiAoaGVhZGVyRmllbGRzLmxvZ28pIGhlYWRlckZpZWxkcy5sb2dvLnZhbHVlID0gZGF0YS5sb2dvPy5zcmMgfHwgJyc7XG4gICAgICBpZiAoaGVhZGVyRmllbGRzLmxvZ29BbHQpIGhlYWRlckZpZWxkcy5sb2dvQWx0LnZhbHVlID0gZGF0YS5sb2dvPy5hbHQgfHwgJyc7XG4gICAgICBpZiAoaGVhZGVyRmllbGRzLmxvZ29VcmwpIGhlYWRlckZpZWxkcy5sb2dvVXJsLnZhbHVlID0gbm9ybWFsaXplT3B0aW9uYWxOYXZVcmwoZGF0YS5sb2dvPy51cmwsICcvJyk7XG4gICAgICBpZiAoaGVhZGVyRmllbGRzLmN0YVRleHQpIGhlYWRlckZpZWxkcy5jdGFUZXh0LnZhbHVlID0gZGF0YS5jdGE/LnRleHQgfHwgJyc7XG4gICAgICBpZiAoaGVhZGVyRmllbGRzLmN0YVVybCkgaGVhZGVyRmllbGRzLmN0YVVybC52YWx1ZSA9IG5vcm1hbGl6ZU9wdGlvbmFsTmF2VXJsKGRhdGEuY3RhPy51cmwsICcnKTtcbiAgICAgIGlmIChoZWFkZXJGaWVsZHMuY3RhU3R5bGUpIGhlYWRlckZpZWxkcy5jdGFTdHlsZS52YWx1ZSA9IGRhdGEuY3RhPy5zdHlsZSB8fCAncHJpbWFyeSc7XG4gICAgICBpZiAoaGVhZGVyRmllbGRzLmN0YVRleHRDb2xvcikgaGVhZGVyRmllbGRzLmN0YVRleHRDb2xvci52YWx1ZSA9IGRhdGEuY3RhPy50ZXh0Q29sb3IgfHwgJyc7XG4gICAgICBpZiAoaGVhZGVyRmllbGRzLnBvc2l0aW9uKSBoZWFkZXJGaWVsZHMucG9zaXRpb24udmFsdWUgPSBkYXRhLnN0eWxlPy5wb3NpdGlvbiB8fCAnc3RhdGljJztcbiAgICAgIGlmIChoZWFkZXJGaWVsZHMuYmcpIGhlYWRlckZpZWxkcy5iZy52YWx1ZSA9IGRhdGEuc3R5bGU/LmJnIHx8ICdiZy13aGl0ZSc7XG4gICAgICBcbiAgICAgIC8vIFN0b2NrZXIgbGVzIHBhZ2VzIHNcdTAwRTlsZWN0aW9ublx1MDBFOWVzIHBvdXIgbGVzIGNoZWNrYm94ZXNcbiAgICAgIHNlbGVjdGVkTmF2UGFnZXMgPSAoZGF0YS5uYXYgfHwgW10pLm1hcCgoaXRlbSkgPT4gKHtcbiAgICAgICAgLi4uaXRlbSxcbiAgICAgICAgdXJsOiBub3JtYWxpemVOYXZQYWdlVXJsKGl0ZW0udXJsKSxcbiAgICAgIH0pKTtcbiAgICAgIFxuICAgICAgLy8gQ2hhcmdlciBsZXMgcGFnZXMgZXQgYWZmaWNoZXIgbGVzIGNoZWNrYm94ZXNcbiAgICAgIGF3YWl0IGxvYWRTaXRlUGFnZXNGb3JIZWFkZXIoKTtcbiAgICAgIFxuICAgICAgLy8gVXBkYXRlIHN0YXR1cyBpbmRpY2F0b3JcbiAgICAgIGNvbnN0IGhhc0RhdGEgPSBkYXRhLmxvZ28/LnNyYyB8fCBkYXRhLm5hdj8ubGVuZ3RoID4gMCB8fCBkYXRhLmN0YT8udGV4dDtcbiAgICAgIGlmIChoZWFkZXJTdGF0dXNJbmRpY2F0b3IpIHtcbiAgICAgICAgaGVhZGVyU3RhdHVzSW5kaWNhdG9yLmNsYXNzTGlzdC50b2dnbGUoJ2JnLWdyZWVuLTUwMCcsICEhaGFzRGF0YSk7XG4gICAgICAgIGhlYWRlclN0YXR1c0luZGljYXRvci5jbGFzc0xpc3QudG9nZ2xlKCdiZy1zbGF0ZS0zMDAnLCAhaGFzRGF0YSk7XG4gICAgICAgIGhlYWRlclN0YXR1c0luZGljYXRvci50aXRsZSA9IGhhc0RhdGEgPyAnQ29uZmlndXJcdTAwRTknIDogJ05vbiBjb25maWd1clx1MDBFOSc7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGhlYWRlclNhdmVCdG4/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFsYXlvdXRBcGlCYXNlKSByZXR1cm47XG4gICAgICBoZWFkZXJTYXZlQnRuLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIGhlYWRlclNhdmVCdG4udGV4dENvbnRlbnQgPSAnRW5yZWdpc3RyZW1lbnQuLi4nO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGNvbGxlY3RIZWFkZXJEYXRhKCk7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7bGF5b3V0QXBpQmFzZX0vaGVhZGVyYCwge1xuICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgY3JlZGVudGlhbHM6ICdpbmNsdWRlJyxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHRocm93IG5ldyBFcnJvcignRXJyZXVyIHNlcnZldXInKTtcbiAgICAgICAgaGVhZGVyRGF0YSA9IGRhdGE7XG4gICAgICAgIHBvcHVsYXRlSGVhZGVyRm9ybShkYXRhKTtcbiAgICAgICAgc2hvd1RvYXN0KCdIZWFkZXIgZW5yZWdpc3RyXHUwMEU5Jyk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2hlYWRlcl0gc2F2ZSBlcnJvcicsIGVycik7XG4gICAgICAgIHNob3dUb2FzdCgnRXJyZXVyIGxvcnMgZGUgbFxcJ2VucmVnaXN0cmVtZW50JywgJ2Vycm9yJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBoZWFkZXJTYXZlQnRuLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIGhlYWRlclNhdmVCdG4udGV4dENvbnRlbnQgPSAnRW5yZWdpc3RyZXInO1xuICAgICAgfVxuICAgIH0pO1xuICAgIFxuICAgIC8vIFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFxuICAgIC8vIEZPT1RFUiBGVU5DVElPTlNcbiAgICAvLyBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcbiAgICBjb25zdCBhZGRGb290ZXJMaW5rID0gKGNvbnRhaW5lciwgbGFiZWwgPSAnJywgdXJsID0gJycpID0+IHtcbiAgICAgIGlmICghZm9vdGVyTGlua1RlbXBsYXRlIHx8ICFjb250YWluZXIpIHJldHVybjtcbiAgICAgIGNvbnN0IGNsb25lID0gZm9vdGVyTGlua1RlbXBsYXRlLmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpO1xuICAgICAgY29uc3QgaXRlbSA9IGNsb25lLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWZvb3Rlci1saW5rXScpO1xuICAgICAgY29uc3QgbGFiZWxJbnB1dCA9IGNsb25lLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwibGluay1sYWJlbFwiXScpO1xuICAgICAgY29uc3QgdXJsSW5wdXQgPSBjbG9uZS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImxpbmstdXJsXCJdJyk7XG4gICAgICBjb25zdCByZW1vdmVCdG4gPSBjbG9uZS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1saW5rLXJlbW92ZV0nKTtcbiAgICAgIGlmIChsYWJlbElucHV0KSBsYWJlbElucHV0LnZhbHVlID0gbGFiZWw7XG4gICAgICBpZiAodXJsSW5wdXQpIHVybElucHV0LnZhbHVlID0gdXJsO1xuICAgICAgcmVtb3ZlQnRuPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGl0ZW0/LnJlbW92ZSgpKTtcbiAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChjbG9uZSk7XG4gICAgfTtcbiAgICBcbiAgICBjb25zdCBhZGRGb290ZXJDb2x1bW4gPSAodGl0bGUgPSAnJywgbGlua3MgPSBbXSkgPT4ge1xuICAgICAgaWYgKCFmb290ZXJDb2x1bW5UZW1wbGF0ZSB8fCAhZm9vdGVyQ29sdW1uc0xpc3QpIHJldHVybjtcbiAgICAgIGNvbnN0IGNsb25lID0gZm9vdGVyQ29sdW1uVGVtcGxhdGUuY29udGVudC5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICBjb25zdCBjb2x1bW4gPSBjbG9uZS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1mb290ZXItY29sdW1uXScpO1xuICAgICAgY29uc3QgdGl0bGVJbnB1dCA9IGNsb25lLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiY29sdW1uLXRpdGxlXCJdJyk7XG4gICAgICBjb25zdCBsaW5rc0NvbnRhaW5lciA9IGNsb25lLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbHVtbi1saW5rc10nKTtcbiAgICAgIGNvbnN0IGFkZExpbmtCdG4gPSBjbG9uZS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2x1bW4tbGluay1hZGRdJyk7XG4gICAgICBjb25zdCByZW1vdmVCdG4gPSBjbG9uZS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2x1bW4tcmVtb3ZlXScpO1xuICAgICAgaWYgKHRpdGxlSW5wdXQpIHRpdGxlSW5wdXQudmFsdWUgPSB0aXRsZTtcbiAgICAgIGxpbmtzLmZvckVhY2gobGluayA9PiBhZGRGb290ZXJMaW5rKGxpbmtzQ29udGFpbmVyLCBsaW5rLmxhYmVsLCBsaW5rLnVybCkpO1xuICAgICAgYWRkTGlua0J0bj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBhZGRGb290ZXJMaW5rKGxpbmtzQ29udGFpbmVyKSk7XG4gICAgICByZW1vdmVCdG4/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gY29sdW1uPy5yZW1vdmUoKSk7XG4gICAgICBmb290ZXJDb2x1bW5zTGlzdC5hcHBlbmRDaGlsZChjbG9uZSk7XG4gICAgfTtcbiAgICBcbiAgICBjb25zdCBjb2xsZWN0Rm9vdGVyRGF0YSA9ICgpID0+IHtcbiAgICAgIGNvbnN0IGNvbHVtbnMgPSBbXTtcbiAgICAgIGZvb3RlckNvbHVtbnNMaXN0Py5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1mb290ZXItY29sdW1uXScpLmZvckVhY2goY29sID0+IHtcbiAgICAgICAgY29uc3QgdGl0bGUgPSBjb2wucXVlcnlTZWxlY3RvcignW25hbWU9XCJjb2x1bW4tdGl0bGVcIl0nKT8udmFsdWU/LnRyaW0oKSB8fCAnJztcbiAgICAgICAgY29uc3QgbGlua3MgPSBbXTtcbiAgICAgICAgY29sLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWZvb3Rlci1saW5rXScpLmZvckVhY2gobGlua0VsID0+IHtcbiAgICAgICAgICBjb25zdCBsYWJlbCA9IGxpbmtFbC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImxpbmstbGFiZWxcIl0nKT8udmFsdWU/LnRyaW0oKSB8fCAnJztcbiAgICAgICAgICBjb25zdCB1cmwgPSBsaW5rRWwucXVlcnlTZWxlY3RvcignW25hbWU9XCJsaW5rLXVybFwiXScpPy52YWx1ZT8udHJpbSgpIHx8ICcnO1xuICAgICAgICAgIGlmIChsYWJlbCB8fCB1cmwpIGxpbmtzLnB1c2goeyBsYWJlbCwgdXJsIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHRpdGxlIHx8IGxpbmtzLmxlbmd0aCA+IDApIGNvbHVtbnMucHVzaCh7IHRpdGxlLCBsaW5rcyB9KTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY29sdW1ucyxcbiAgICAgICAgc29jaWFsczoge1xuICAgICAgICAgIGxpbmtlZGluOiBmb290ZXJGaWVsZHMubGlua2VkaW4/LnZhbHVlPy50cmltKCkgfHwgJycsXG4gICAgICAgICAgdHdpdHRlcjogZm9vdGVyRmllbGRzLnR3aXR0ZXI/LnZhbHVlPy50cmltKCkgfHwgJycsXG4gICAgICAgICAgaW5zdGFncmFtOiBmb290ZXJGaWVsZHMuaW5zdGFncmFtPy52YWx1ZT8udHJpbSgpIHx8ICcnLFxuICAgICAgICAgIGZhY2Vib29rOiBmb290ZXJGaWVsZHMuZmFjZWJvb2s/LnZhbHVlPy50cmltKCkgfHwgJycsXG4gICAgICAgICAgeW91dHViZTogZm9vdGVyRmllbGRzLnlvdXR1YmU/LnZhbHVlPy50cmltKCkgfHwgJycsXG4gICAgICAgICAgZ2l0aHViOiBmb290ZXJGaWVsZHMuZ2l0aHViPy52YWx1ZT8udHJpbSgpIHx8ICcnLFxuICAgICAgICB9LFxuICAgICAgICBjb3B5cmlnaHQ6IGZvb3RlckZpZWxkcy5jb3B5cmlnaHQ/LnZhbHVlPy50cmltKCkgfHwgJycsXG4gICAgICAgIGxlZ2FsOiB7XG4gICAgICAgICAgdXJsOiBmb290ZXJGaWVsZHMubGVnYWxVcmw/LnZhbHVlPy50cmltKCkgfHwgJycsXG4gICAgICAgICAgcHJpdmFjeVVybDogZm9vdGVyRmllbGRzLnByaXZhY3lVcmw/LnZhbHVlPy50cmltKCkgfHwgJycsXG4gICAgICAgIH0sXG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgYmc6IGZvb3RlckZpZWxkcy5iZz8udmFsdWUgfHwgJ2JnLXNsYXRlLTkwMCB0ZXh0LXdoaXRlJyxcbiAgICAgICAgICBjb2x1bW5zQ291bnQ6IGZvb3RlckZpZWxkcy5jb2x1bW5zQ291bnQ/LnZhbHVlIHx8ICc0JyxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgfTtcbiAgICBcbiAgICBjb25zdCBwb3B1bGF0ZUZvb3RlckZvcm0gPSAoZGF0YSkgPT4ge1xuICAgICAgaWYgKCFkYXRhKSByZXR1cm47XG4gICAgICBpZiAoZm9vdGVyRmllbGRzLmxpbmtlZGluKSBmb290ZXJGaWVsZHMubGlua2VkaW4udmFsdWUgPSBkYXRhLnNvY2lhbHM/LmxpbmtlZGluIHx8ICcnO1xuICAgICAgaWYgKGZvb3RlckZpZWxkcy50d2l0dGVyKSBmb290ZXJGaWVsZHMudHdpdHRlci52YWx1ZSA9IGRhdGEuc29jaWFscz8udHdpdHRlciB8fCAnJztcbiAgICAgIGlmIChmb290ZXJGaWVsZHMuaW5zdGFncmFtKSBmb290ZXJGaWVsZHMuaW5zdGFncmFtLnZhbHVlID0gZGF0YS5zb2NpYWxzPy5pbnN0YWdyYW0gfHwgJyc7XG4gICAgICBpZiAoZm9vdGVyRmllbGRzLmZhY2Vib29rKSBmb290ZXJGaWVsZHMuZmFjZWJvb2sudmFsdWUgPSBkYXRhLnNvY2lhbHM/LmZhY2Vib29rIHx8ICcnO1xuICAgICAgaWYgKGZvb3RlckZpZWxkcy55b3V0dWJlKSBmb290ZXJGaWVsZHMueW91dHViZS52YWx1ZSA9IGRhdGEuc29jaWFscz8ueW91dHViZSB8fCAnJztcbiAgICAgIGlmIChmb290ZXJGaWVsZHMuZ2l0aHViKSBmb290ZXJGaWVsZHMuZ2l0aHViLnZhbHVlID0gZGF0YS5zb2NpYWxzPy5naXRodWIgfHwgJyc7XG4gICAgICBpZiAoZm9vdGVyRmllbGRzLmNvcHlyaWdodCkgZm9vdGVyRmllbGRzLmNvcHlyaWdodC52YWx1ZSA9IGRhdGEuY29weXJpZ2h0IHx8ICcnO1xuICAgICAgaWYgKGZvb3RlckZpZWxkcy5sZWdhbFVybCkgZm9vdGVyRmllbGRzLmxlZ2FsVXJsLnZhbHVlID0gZGF0YS5sZWdhbD8udXJsIHx8ICcnO1xuICAgICAgaWYgKGZvb3RlckZpZWxkcy5wcml2YWN5VXJsKSBmb290ZXJGaWVsZHMucHJpdmFjeVVybC52YWx1ZSA9IGRhdGEubGVnYWw/LnByaXZhY3lVcmwgfHwgJyc7XG4gICAgICBpZiAoZm9vdGVyRmllbGRzLmJnKSBmb290ZXJGaWVsZHMuYmcudmFsdWUgPSBkYXRhLnN0eWxlPy5iZyB8fCAnYmctc2xhdGUtOTAwIHRleHQtd2hpdGUnO1xuICAgICAgaWYgKGZvb3RlckZpZWxkcy5jb2x1bW5zQ291bnQpIGZvb3RlckZpZWxkcy5jb2x1bW5zQ291bnQudmFsdWUgPSBkYXRhLnN0eWxlPy5jb2x1bW5zQ291bnQgfHwgJzQnO1xuICAgICAgLy8gUG9wdWxhdGUgY29sdW1uc1xuICAgICAgaWYgKGZvb3RlckNvbHVtbnNMaXN0KSBmb290ZXJDb2x1bW5zTGlzdC5pbm5lckhUTUwgPSAnJztcbiAgICAgIChkYXRhLmNvbHVtbnMgfHwgW10pLmZvckVhY2goY29sID0+IGFkZEZvb3RlckNvbHVtbihjb2wudGl0bGUsIGNvbC5saW5rcykpO1xuICAgICAgLy8gVXBkYXRlIHN0YXR1cyBpbmRpY2F0b3JcbiAgICAgIGNvbnN0IGhhc0RhdGEgPSBkYXRhLmNvbHVtbnM/Lmxlbmd0aCA+IDAgfHwgZGF0YS5jb3B5cmlnaHQgfHwgT2JqZWN0LnZhbHVlcyhkYXRhLnNvY2lhbHMgfHwge30pLnNvbWUodiA9PiB2KTtcbiAgICAgIGlmIChmb290ZXJTdGF0dXNJbmRpY2F0b3IpIHtcbiAgICAgICAgZm9vdGVyU3RhdHVzSW5kaWNhdG9yLmNsYXNzTGlzdC50b2dnbGUoJ2JnLWdyZWVuLTUwMCcsICEhaGFzRGF0YSk7XG4gICAgICAgIGZvb3RlclN0YXR1c0luZGljYXRvci5jbGFzc0xpc3QudG9nZ2xlKCdiZy1zbGF0ZS0zMDAnLCAhaGFzRGF0YSk7XG4gICAgICAgIGZvb3RlclN0YXR1c0luZGljYXRvci50aXRsZSA9IGhhc0RhdGEgPyAnQ29uZmlndXJcdTAwRTknIDogJ05vbiBjb25maWd1clx1MDBFOSc7XG4gICAgICB9XG4gICAgfTtcbiAgICBcbiAgICBmb290ZXJDb2x1bW5BZGRCdG4/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gYWRkRm9vdGVyQ29sdW1uKCkpO1xuICAgIFxuICAgIGZvb3RlclNhdmVCdG4/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFsYXlvdXRBcGlCYXNlKSByZXR1cm47XG4gICAgICBmb290ZXJTYXZlQnRuLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIGZvb3RlclNhdmVCdG4udGV4dENvbnRlbnQgPSAnRW5yZWdpc3RyZW1lbnQuLi4nO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGNvbGxlY3RGb290ZXJEYXRhKCk7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7bGF5b3V0QXBpQmFzZX0vZm9vdGVyYCwge1xuICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgY3JlZGVudGlhbHM6ICdpbmNsdWRlJyxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHRocm93IG5ldyBFcnJvcignRXJyZXVyIHNlcnZldXInKTtcbiAgICAgICAgZm9vdGVyRGF0YSA9IGRhdGE7XG4gICAgICAgIHBvcHVsYXRlRm9vdGVyRm9ybShkYXRhKTtcbiAgICAgICAgc2hvd1RvYXN0KCdGb290ZXIgZW5yZWdpc3RyXHUwMEU5Jyk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2Zvb3Rlcl0gc2F2ZSBlcnJvcicsIGVycik7XG4gICAgICAgIHNob3dUb2FzdCgnRXJyZXVyIGxvcnMgZGUgbFxcJ2VucmVnaXN0cmVtZW50JywgJ2Vycm9yJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBmb290ZXJTYXZlQnRuLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIGZvb3RlclNhdmVCdG4udGV4dENvbnRlbnQgPSAnRW5yZWdpc3RyZXInO1xuICAgICAgfVxuICAgIH0pO1xuICAgIFxuICAgIC8vIExvYWQgbGF5b3V0IGRhdGEgb24gaW5pdFxuICAgIGNvbnN0IGxvYWRMYXlvdXREYXRhID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFsYXlvdXRBcGlCYXNlKSByZXR1cm47XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGxheW91dEFwaUJhc2UsIHsgY3JlZGVudGlhbHM6ICdpbmNsdWRlJyB9KTtcbiAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICBpZiAoZGF0YS5oZWFkZXIpIHtcbiAgICAgICAgICAgIGhlYWRlckRhdGEgPSBkYXRhLmhlYWRlcjtcbiAgICAgICAgICAgIHBvcHVsYXRlSGVhZGVyRm9ybShkYXRhLmhlYWRlcik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChkYXRhLmZvb3Rlcikge1xuICAgICAgICAgICAgZm9vdGVyRGF0YSA9IGRhdGEuZm9vdGVyO1xuICAgICAgICAgICAgcG9wdWxhdGVGb290ZXJGb3JtKGRhdGEuZm9vdGVyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbbGF5b3V0XSBsb2FkIGVycm9yJywgZXJyKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIC8vIEluaXRpYWxpemUgbGF5b3V0IGRhdGFcbiAgICBsb2FkTGF5b3V0RGF0YSgpO1xuICAgIFxuICAgIGNvbnN0IHNhZmVTaXRlU2x1Z1ZhbHVlID0gc3RyaXBMZWFkaW5nU2xhc2goXG4gICAgICB3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnLFxuICAgICk7XG4gICAgY29uc3QgY29sbGVjdGlvbnNBcGlCYXNlID0gc2FmZVNpdGVTbHVnVmFsdWVcbiAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnVmFsdWUpfS9jb2xsZWN0aW9uc2BcbiAgICAgIDogbnVsbDtcblxuICAgIGxldCBjb2xsZWN0aW9ucyA9IFtdO1xuICAgIGxldCBjb2xsZWN0aW9uSXRlbXMgPSBbXTtcbiAgICBsZXQgYWN0aXZlQ29sbGVjdGlvbklkID0gbnVsbDtcbiAgICBsZXQgYWN0aXZlSXRlbUlkID0gbnVsbDtcbiAgICBsZXQgaXNDcmVhdGluZ0l0ZW0gPSBmYWxzZTtcbiAgICBsZXQgaXRlbVNsdWdNYW51YWxseUVkaXRlZCA9IGZhbHNlO1xuICAgIGxldCBwZW5kaW5nRGVsZXRlSXRlbUlkID0gbnVsbDtcblxuICAgIGNvbnN0IG5vcm1hbGl6ZUl0ZW1TbHVnSW5wdXQgPSAodmFsdWUpID0+IHtcbiAgICAgIGNvbnN0IHJhdyA9ICh2YWx1ZSB8fCAnJykudHJpbSgpO1xuICAgICAgaWYgKCFyYXcpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfVxuICAgICAgaWYgKHJhdyA9PT0gJy8nKSB7XG4gICAgICAgIHJldHVybiAnLyc7XG4gICAgICB9XG4gICAgICBjb25zdCBzZWdtZW50cyA9IHJhdy5yZXBsYWNlKC9eXFwvLywgJycpLnNwbGl0KCcvJyk7XG4gICAgICBjb25zdCBjbGVhbmVkU2VnbWVudHMgPSBzZWdtZW50c1xuICAgICAgICAubWFwKChzZWdtZW50KSA9PiB3b3Jrc3BhY2VTbHVnaWZ5KHNlZ21lbnQgfHwgJycpKVxuICAgICAgICAuZmlsdGVyKChzZWdtZW50KSA9PiBzZWdtZW50Lmxlbmd0aCA+IDApO1xuICAgICAgaWYgKCFjbGVhbmVkU2VnbWVudHMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICAgIH1cbiAgICAgIHJldHVybiBgLyR7Y2xlYW5lZFNlZ21lbnRzLmpvaW4oJy8nKX1gO1xuICAgIH07XG5cbiAgICBjb25zdCBmb3JtYXRJdGVtRGF0ZSA9ICh2YWx1ZSkgPT4ge1xuICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICByZXR1cm4gJ1x1MjAxNCc7XG4gICAgICB9XG4gICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUodmFsdWUpO1xuICAgICAgaWYgKE51bWJlci5pc05hTihkYXRlLmdldFRpbWUoKSkpIHtcbiAgICAgICAgcmV0dXJuICdcdTIwMTQnO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGRhdGUudG9Mb2NhbGVEYXRlU3RyaW5nKCdmci1GUicsIHsgZGF5OiAnMi1kaWdpdCcsIG1vbnRoOiAnc2hvcnQnLCB5ZWFyOiAnbnVtZXJpYycgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IHVwZGF0ZUNvbGxlY3Rpb25IZWFkZXIgPSAoKSA9PiB7XG4gICAgICBjb25zdCBjb2xsZWN0aW9uID0gY29sbGVjdGlvbnMuZmluZCgoZW50cnkpID0+IGVudHJ5LmlkID09PSBhY3RpdmVDb2xsZWN0aW9uSWQpO1xuICAgICAgaWYgKGNvbGxlY3Rpb25UaXRsZSkge1xuICAgICAgICBjb2xsZWN0aW9uVGl0bGUudGV4dENvbnRlbnQgPSBjb2xsZWN0aW9uPy5uYW1lIHx8ICdTXHUwMEU5bGVjdGlvbm5leiB1bmUgY29sbGVjdGlvbic7XG4gICAgICB9XG4gICAgICBpZiAoY29sbGVjdGlvbkRlc2NyaXB0aW9uKSB7XG4gICAgICAgIGNvbGxlY3Rpb25EZXNjcmlwdGlvbi50ZXh0Q29udGVudCA9IGNvbGxlY3Rpb24/LmRlc2NyaXB0aW9uIHx8ICcnO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCB1cGRhdGVJdGVtc0VtcHR5TWVzc2FnZSA9IChtZXNzYWdlKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25JdGVtc0VtcHR5KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbGxlY3Rpb25JdGVtc0VtcHR5LnRleHRDb250ZW50ID1cbiAgICAgICAgbWVzc2FnZSB8fFxuICAgICAgICAoYWN0aXZlQ29sbGVjdGlvbklkXG4gICAgICAgICAgPyAnQXVjdW4gaXRlbSBkYW5zIGNldHRlIGNvbGxlY3Rpb24gcG91ciBsZSBtb21lbnQuJ1xuICAgICAgICAgIDogJ0Nob2lzaXNzZXogdW5lIGNvbGxlY3Rpb24gZGFucyBsZSBwYW5uZWF1IGRlIGdhdWNoZS4nKTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGlkZUl0ZW1Gb3JtID0gKCkgPT4ge1xuICAgICAgaWYgKGl0ZW1Gb3JtKSB7XG4gICAgICAgIGl0ZW1Gb3JtLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBpdGVtRm9ybS5kYXRhc2V0Lml0ZW1JZCA9ICcnO1xuICAgICAgfVxuICAgICAgaXRlbURldGFpbEVtcHR5Py5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGlmIChpdGVtU3RhdHVzQmFkZ2UpIHtcbiAgICAgICAgaXRlbVN0YXR1c0JhZGdlLmNsYXNzTmFtZSA9IGBoaWRkZW4gJHtzdGF0dXNCYWRnZUJhc2VDbGFzc31gO1xuICAgICAgICBpdGVtU3RhdHVzQmFkZ2UudGV4dENvbnRlbnQgPSAnJztcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtRGVsZXRlQnV0dG9uKSB7XG4gICAgICAgIGl0ZW1EZWxldGVCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgc3luY0l0ZW1QYW5lbFdpdGhWaWV3cG9ydCgpO1xuICAgIH07XG5cbiAgICBjb25zdCBzaG93SXRlbUZvcm0gPSAoKSA9PiB7XG4gICAgICBpZiAoIWl0ZW1Gb3JtKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGl0ZW1Gb3JtLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgaXRlbURldGFpbEVtcHR5Py5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIHN5bmNJdGVtUGFuZWxXaXRoVmlld3BvcnQoKTtcbiAgICB9O1xuXG4gICAgY29uc3Qgc3luY0FkZEJ1dHRvblN0YXRlID0gKCkgPT4ge1xuICAgICAgaWYgKCFpdGVtQWRkQnV0dG9uKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGl0ZW1BZGRCdXR0b24uZGlzYWJsZWQgPSAhYWN0aXZlQ29sbGVjdGlvbklkO1xuICAgICAgaWYgKGl0ZW1BZGRCdXR0b24uZGlzYWJsZWQpIHtcbiAgICAgICAgaXRlbUFkZEJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdvcGFjaXR5LTYwJywgJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGl0ZW1BZGRCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnb3BhY2l0eS02MCcsICdwb2ludGVyLWV2ZW50cy1ub25lJyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHN5bmNJdGVtU3RhdHVzQmFkZ2UgPSAoc3RhdHVzKSA9PiB7XG4gICAgICBpZiAoIWl0ZW1TdGF0dXNCYWRnZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIXN0YXR1cykge1xuICAgICAgICBpdGVtU3RhdHVzQmFkZ2UuY2xhc3NOYW1lID0gYGhpZGRlbiAke3N0YXR1c0JhZGdlQmFzZUNsYXNzfWA7XG4gICAgICAgIGl0ZW1TdGF0dXNCYWRnZS50ZXh0Q29udGVudCA9ICcnO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBub3JtYWxpemVkID0gc3RhdHVzLnRvTG93ZXJDYXNlKCk7XG4gICAgICBsZXQgY29sb3JDbGFzcyA9ICdiZy1zbGF0ZS0xMDAgdGV4dC1zbGF0ZS02MDAgYm9yZGVyIGJvcmRlci1zbGF0ZS0yMDAnO1xuICAgICAgaWYgKG5vcm1hbGl6ZWQgPT09ICdwdWJsaVx1MDBFOScgfHwgbm9ybWFsaXplZCA9PT0gJ3B1YmxpZScpIHtcbiAgICAgICAgY29sb3JDbGFzcyA9ICdiZy1lbWVyYWxkLTUwIHRleHQtZW1lcmFsZC03MDAgYm9yZGVyIGJvcmRlci1lbWVyYWxkLTEwMCc7XG4gICAgICB9IGVsc2UgaWYgKG5vcm1hbGl6ZWQgPT09ICdicm91aWxsb24nKSB7XG4gICAgICAgIGNvbG9yQ2xhc3MgPSAnYmctYW1iZXItNTAgdGV4dC1hbWJlci03MDAgYm9yZGVyIGJvcmRlci1hbWJlci0xMDAnO1xuICAgICAgfVxuICAgICAgaXRlbVN0YXR1c0JhZGdlLmNsYXNzTmFtZSA9IGAke3N0YXR1c0JhZGdlQmFzZUNsYXNzfSAke2NvbG9yQ2xhc3N9YDtcbiAgICAgIGl0ZW1TdGF0dXNCYWRnZS50ZXh0Q29udGVudCA9IHN0YXR1cztcbiAgICB9O1xuXG4gICAgY29uc3QgcmVuZGVyQ29sbGVjdGlvbkxpc3QgPSAoKSA9PiB7XG4gICAgICBjb2xsZWN0aW9uTGlzdC5pbm5lckhUTUwgPSAnJztcbiAgICAgIC8vIFVwZGF0ZSBjb2xsZWN0aW9uIGNvdW50XG4gICAgICBpZiAoY29sbGVjdGlvbkNvdW50RWwpIGNvbGxlY3Rpb25Db3VudEVsLnRleHRDb250ZW50ID0gY29sbGVjdGlvbnMubGVuZ3RoO1xuICAgICAgaWYgKCFjb2xsZWN0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgY29sbGVjdGlvbkVtcHR5U3RhdGU/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb2xsZWN0aW9uRW1wdHlTdGF0ZT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBjb2xsZWN0aW9ucy5mb3JFYWNoKChjb2xsZWN0aW9uKSA9PiB7XG4gICAgICAgIGNvbnN0IGlzQWN0aXZlID0gY29sbGVjdGlvbi5pZCA9PT0gYWN0aXZlQ29sbGVjdGlvbklkO1xuICAgICAgICBjb25zdCBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgYnV0dG9uLnR5cGUgPSAnYnV0dG9uJztcbiAgICAgICAgYnV0dG9uLmRhdGFzZXQuY29sbGVjdGlvbklkID0gY29sbGVjdGlvbi5pZDtcbiAgICAgICAgYnV0dG9uLmNsYXNzTmFtZSA9IFtcbiAgICAgICAgICAndy1mdWxsIHJvdW5kZWQteGwgYm9yZGVyIHB4LTMgcHktMiB0ZXh0LWxlZnQgdHJhbnNpdGlvbiBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctWyM5QzZCRkZdLzQwJyxcbiAgICAgICAgICBpc0FjdGl2ZVxuICAgICAgICAgICAgPyAnYmctWyNGN0YwRkZdIGJvcmRlci1bIzlDNkJGRl0vNDAgdGV4dC1zbGF0ZS05MDAnXG4gICAgICAgICAgICA6ICdib3JkZXItc2xhdGUtMjAwIHRleHQtc2xhdGUtNzAwIGhvdmVyOmJvcmRlci1bIzlDNkJGRl0vNDAnLFxuICAgICAgICBdLmpvaW4oJyAnKTtcbiAgICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZSgncm9sZScsICdvcHRpb24nKTtcbiAgICAgICAgaWYgKGlzQWN0aXZlKSB7XG4gICAgICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZSgnYXJpYS1jdXJyZW50JywgJ3RydWUnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBidXR0b24ucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWN1cnJlbnQnKTtcbiAgICAgICAgfVxuICAgICAgICBidXR0b24uaW5uZXJIVE1MID0gYFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gZ2FwLTJcIj5cbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1zbSBmb250LXNlbWlib2xkXCI+JHtjb2xsZWN0aW9uLm5hbWUgfHwgY29sbGVjdGlvbi5pZH08L3A+XG4gICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC14cyB0ZXh0LXNsYXRlLTUwMFwiPiR7Y29sbGVjdGlvbi5kZXNjcmlwdGlvbiB8fCAnJ308L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC1bMTFweF0gdXBwZXJjYXNlIHRyYWNraW5nLXdpZGUgdGV4dC1zbGF0ZS00MDBcIj4ke2NvbGxlY3Rpb24udHlwZSB8fCAnJ308L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIGA7XG4gICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICBzZXRBY3RpdmVDb2xsZWN0aW9uKGNvbGxlY3Rpb24uaWQpO1xuICAgICAgICB9KTtcbiAgICAgICAgY29sbGVjdGlvbkxpc3QuYXBwZW5kQ2hpbGQoYnV0dG9uKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCByZW5kZXJJdGVtVGFibGUgPSAoKSA9PiB7XG4gICAgICBpZiAoIWl0ZW1UYWJsZUJvZHkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaXRlbVRhYmxlQm9keS5pbm5lckhUTUwgPSAnJztcbiAgICAgIGlmICghY29sbGVjdGlvbkl0ZW1zLmxlbmd0aCB8fCAhYWN0aXZlQ29sbGVjdGlvbklkKSB7XG4gICAgICAgIGNvbGxlY3Rpb25JdGVtc0VtcHR5Py5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgdXBkYXRlSXRlbXNFbXB0eU1lc3NhZ2UoKTtcbiAgICAgICAgaXRlbVRhYmxlV3JhcHBlcj8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbGxlY3Rpb25JdGVtc0VtcHR5Py5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGl0ZW1UYWJsZVdyYXBwZXI/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgY29sbGVjdGlvbkl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgICAgY29uc3Qgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKTtcbiAgICAgICAgcm93LmRhdGFzZXQuaXRlbUlkID0gaXRlbS5pZDtcbiAgICAgICAgY29uc3QgaXNBY3RpdmUgPSBpdGVtLmlkID09PSBhY3RpdmVJdGVtSWQgJiYgIWlzQ3JlYXRpbmdJdGVtO1xuICAgICAgICByb3cuY2xhc3NOYW1lID0gW1xuICAgICAgICAgICdjdXJzb3ItcG9pbnRlciB0cmFuc2l0aW9uIGZvY3VzLXdpdGhpbjpiZy1bI0Y3RjBGRl0vNzAgZm9jdXM6b3V0bGluZS1ub25lJyxcbiAgICAgICAgICBpc0FjdGl2ZSA/ICdiZy1bI0Y3RjBGRl0vNzAnIDogJ2hvdmVyOmJnLXNsYXRlLTUwJyxcbiAgICAgICAgXS5qb2luKCcgJyk7XG4gICAgICAgIHJvdy50YWJJbmRleCA9IDA7XG4gICAgICAgIHJvdy5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnYnV0dG9uJyk7XG4gICAgICAgIGlmIChpc0FjdGl2ZSkge1xuICAgICAgICAgIHJvdy5zZXRBdHRyaWJ1dGUoJ2FyaWEtY3VycmVudCcsICd0cnVlJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcm93LnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1jdXJyZW50Jyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3RhdHVzID0gaXRlbS5zdGF0dXMgfHwgJ0Jyb3VpbGxvbic7XG4gICAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBzdGF0dXMudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgY29uc3Qgc3RhdHVzQ2xhc3NlcyA9XG4gICAgICAgICAgbm9ybWFsaXplZCA9PT0gJ3B1YmxpXHUwMEU5JyB8fCBub3JtYWxpemVkID09PSAncHVibGllJ1xuICAgICAgICAgICAgPyAnYmctZW1lcmFsZC01MCB0ZXh0LWVtZXJhbGQtNzAwIGJvcmRlciBib3JkZXItZW1lcmFsZC0xMDAnXG4gICAgICAgICAgICA6ICdiZy1hbWJlci01MCB0ZXh0LWFtYmVyLTcwMCBib3JkZXIgYm9yZGVyLWFtYmVyLTEwMCc7XG4gICAgICAgIHJvdy5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgPHRkIGNsYXNzPVwicHgtNCBweS0zIGFsaWduLXRvcFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgdGV4dC1zbGF0ZS05MDBcIj4ke2l0ZW0udGl0bGUgfHwgJ1NhbnMgdGl0cmUnfTwvc3Bhbj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNTAwXCI+JHtpdGVtLnN1bW1hcnkgfHwgaXRlbS5leGNlcnB0IHx8ICcnfTwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgPHRkIGNsYXNzPVwicHgtNCBweS0zIGFsaWduLXRvcCB0ZXh0LXNtIHRleHQtc2xhdGUtNjAwXCI+JHtpdGVtLnNsdWcgfHwgJyd9PC90ZD5cbiAgICAgICAgICA8dGQgY2xhc3M9XCJweC00IHB5LTMgYWxpZ24tdG9wXCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciByb3VuZGVkLWZ1bGwgcHgtMyBweS0xIHRleHQteHMgZm9udC1zZW1pYm9sZCAke3N0YXR1c0NsYXNzZXN9XCI+XG4gICAgICAgICAgICAgICR7c3RhdHVzfVxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgPHRkIGNsYXNzPVwicHgtNCBweS0zIGFsaWduLXRvcCB0ZXh0LXNtIHRleHQtc2xhdGUtNTAwXCI+JHtmb3JtYXRJdGVtRGF0ZShcbiAgICAgICAgICAgIGl0ZW0udXBkYXRlZEF0IHx8IGl0ZW0uY3JlYXRlZEF0LFxuICAgICAgICAgICl9PC90ZD5cbiAgICAgICAgYDtcbiAgICAgICAgY29uc3QgaGFuZGxlU2VsZWN0ID0gKCkgPT4ge1xuICAgICAgICAgIHNlbGVjdEl0ZW0oaXRlbS5pZCk7XG4gICAgICAgIH07XG4gICAgICAgIHJvdy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZVNlbGVjdCk7XG4gICAgICAgIHJvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VudGVyJyB8fCBldmVudC5rZXkgPT09ICcgJykge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGhhbmRsZVNlbGVjdCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGl0ZW1UYWJsZUJvZHkuYXBwZW5kQ2hpbGQocm93KTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCBzZWxlY3RJdGVtID0gKGl0ZW1JZCkgPT4ge1xuICAgICAgY29uc3QgaXRlbSA9IGNvbGxlY3Rpb25JdGVtcy5maW5kKChlbnRyeSkgPT4gZW50cnkuaWQgPT09IGl0ZW1JZCk7XG4gICAgICBpZiAoIWl0ZW0pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYWN0aXZlSXRlbUlkID0gaXRlbS5pZDtcbiAgICAgIGlzQ3JlYXRpbmdJdGVtID0gZmFsc2U7XG4gICAgICBpdGVtU2x1Z01hbnVhbGx5RWRpdGVkID0gdHJ1ZTtcbiAgICAgIHBvcHVsYXRlSXRlbUZvcm0oaXRlbSk7XG4gICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICB9O1xuXG4gICAgY29uc3QgcG9wdWxhdGVJdGVtRm9ybSA9IChpdGVtKSA9PiB7XG4gICAgICBpZiAoIWl0ZW1Gb3JtIHx8ICFpdGVtKSB7XG4gICAgICAgIGhpZGVJdGVtRm9ybSgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzaG93SXRlbUZvcm0oKTtcbiAgICAgIGl0ZW1Gb3JtLmRhdGFzZXQuaXRlbUlkID0gaXRlbS5pZDtcbiAgICAgIGlmIChpdGVtRm9ybUZpZWxkcy50aXRsZSkge1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy50aXRsZS52YWx1ZSA9IGl0ZW0udGl0bGUgfHwgJyc7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbUZvcm1GaWVsZHMuc2x1Zykge1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy5zbHVnLnZhbHVlID0gaXRlbS5zbHVnIHx8ICcnO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1Gb3JtRmllbGRzLmV4Y2VycHQpIHtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMuZXhjZXJwdC52YWx1ZSA9IGl0ZW0uc3VtbWFyeSB8fCBpdGVtLmV4Y2VycHQgfHwgJyc7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbUZvcm1GaWVsZHMuY29udGVudCkge1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy5jb250ZW50LnZhbHVlID0gaXRlbS5jb250ZW50IHx8ICcnO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1Gb3JtRmllbGRzLmltYWdlKSB7XG4gICAgICAgIGl0ZW1Gb3JtRmllbGRzLmltYWdlLnZhbHVlID0gaXRlbS5pbWFnZSB8fCAnJztcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtRm9ybUZpZWxkcy5jdGFUZXh0KSB7XG4gICAgICAgIGl0ZW1Gb3JtRmllbGRzLmN0YVRleHQudmFsdWUgPSBpdGVtLmN0YT8udGV4dCB8fCBpdGVtLmN0YVRleHQgfHwgJyc7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbUZvcm1GaWVsZHMuY3RhVXJsKSB7XG4gICAgICAgIGl0ZW1Gb3JtRmllbGRzLmN0YVVybC52YWx1ZSA9IGl0ZW0uY3RhPy51cmwgfHwgaXRlbS5jdGFVcmwgfHwgJyc7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbUZvcm1GaWVsZHMuc3RhdHVzKSB7XG4gICAgICAgIGl0ZW1Gb3JtRmllbGRzLnN0YXR1cy52YWx1ZSA9IGl0ZW0uc3RhdHVzIHx8ICdCcm91aWxsb24nO1xuICAgICAgfVxuICAgICAgc3luY0l0ZW1TdGF0dXNCYWRnZShpdGVtLnN0YXR1cyB8fCAnQnJvdWlsbG9uJyk7XG4gICAgICBpZiAoaXRlbURlbGV0ZUJ1dHRvbikge1xuICAgICAgICBpdGVtRGVsZXRlQnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHByZXBhcmVOZXdJdGVtRm9ybSA9ICgpID0+IHtcbiAgICAgIGlmICghaXRlbUZvcm0pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaXNDcmVhdGluZ0l0ZW0gPSB0cnVlO1xuICAgICAgYWN0aXZlSXRlbUlkID0gbnVsbDtcbiAgICAgIGl0ZW1TbHVnTWFudWFsbHlFZGl0ZWQgPSBmYWxzZTtcbiAgICAgIGl0ZW1Gb3JtLmRhdGFzZXQuaXRlbUlkID0gJyc7XG4gICAgICBpdGVtRm9ybS5yZXNldCgpO1xuICAgICAgaWYgKGl0ZW1Gb3JtRmllbGRzLnN0YXR1cykge1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy5zdGF0dXMudmFsdWUgPSAnQnJvdWlsbG9uJztcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtRm9ybUZpZWxkcy5zbHVnKSB7XG4gICAgICAgIGl0ZW1Gb3JtRmllbGRzLnNsdWcudmFsdWUgPSAnJztcbiAgICAgIH1cbiAgICAgIHN5bmNJdGVtU3RhdHVzQmFkZ2UoJ0Jyb3VpbGxvbicpO1xuICAgICAgc2hvd0l0ZW1Gb3JtKCk7XG4gICAgICBpZiAoaXRlbURlbGV0ZUJ1dHRvbikge1xuICAgICAgICBpdGVtRGVsZXRlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGl0ZW1Gb3JtRmllbGRzLnRpdGxlPy5mb2N1cygpO1xuICAgIH07XG5cbiAgICBjb25zdCBjb2xsZWN0SXRlbUZvcm1WYWx1ZXMgPSAoKSA9PiB7XG4gICAgICBjb25zdCB0aXRsZSA9IChpdGVtRm9ybUZpZWxkcy50aXRsZT8udmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgIGNvbnN0IHNsdWdJbnB1dCA9IChpdGVtRm9ybUZpZWxkcy5zbHVnPy52YWx1ZSB8fCAnJykudHJpbSgpO1xuICAgICAgY29uc3Qgc3VtbWFyeSA9IChpdGVtRm9ybUZpZWxkcy5leGNlcnB0Py52YWx1ZSB8fCAnJykudHJpbSgpO1xuICAgICAgY29uc3QgY29udGVudCA9IChpdGVtRm9ybUZpZWxkcy5jb250ZW50Py52YWx1ZSB8fCAnJykudHJpbSgpO1xuICAgICAgY29uc3QgaW1hZ2UgPSAoaXRlbUZvcm1GaWVsZHMuaW1hZ2U/LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICBjb25zdCBjdGFUZXh0ID0gKGl0ZW1Gb3JtRmllbGRzLmN0YVRleHQ/LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICBjb25zdCBjdGFVcmwgPSAoaXRlbUZvcm1GaWVsZHMuY3RhVXJsPy52YWx1ZSB8fCAnJykudHJpbSgpO1xuICAgICAgY29uc3Qgc3RhdHVzID0gaXRlbUZvcm1GaWVsZHMuc3RhdHVzPy52YWx1ZSB8fCAnQnJvdWlsbG9uJztcbiAgICAgIFxuICAgICAgLy8gQnVpbGQgQ1RBIG9iamVjdCBvbmx5IGlmIGF0IGxlYXN0IG9uZSBmaWVsZCBpcyBmaWxsZWRcbiAgICAgIGNvbnN0IGN0YSA9IChjdGFUZXh0IHx8IGN0YVVybCkgPyB7IHRleHQ6IGN0YVRleHQsIHVybDogY3RhVXJsIH0gOiBudWxsO1xuICAgICAgXG4gICAgICByZXR1cm4ge1xuICAgICAgICB0aXRsZSxcbiAgICAgICAgc2x1Zzogc2x1Z0lucHV0ID8gbm9ybWFsaXplSXRlbVNsdWdJbnB1dChzbHVnSW5wdXQpIDogbm9ybWFsaXplSXRlbVNsdWdJbnB1dCh0aXRsZSksXG4gICAgICAgIHN1bW1hcnksXG4gICAgICAgIGV4Y2VycHQ6IHN1bW1hcnksXG4gICAgICAgIGNvbnRlbnQsXG4gICAgICAgIGltYWdlLFxuICAgICAgICBzdGF0dXMsXG4gICAgICAgIC4uLihjdGEgJiYgeyBjdGEgfSksXG4gICAgICB9O1xuICAgIH07XG5cbiAgICBjb25zdCBzZXRGb3JtU2F2aW5nU3RhdGUgPSAoaXNTYXZpbmcpID0+IHtcbiAgICAgIGlmIChpdGVtRm9ybVNhdmUpIHtcbiAgICAgICAgaXRlbUZvcm1TYXZlLmRpc2FibGVkID0gaXNTYXZpbmc7XG4gICAgICAgIGl0ZW1Gb3JtU2F2ZS50ZXh0Q29udGVudCA9IGlzU2F2aW5nID8gJ0VucmVnaXN0cmVtZW50XHUyMDI2JyA6ICdFbnJlZ2lzdHJlcic7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbURlbGV0ZUJ1dHRvbiAmJiAhaXNDcmVhdGluZ0l0ZW0gJiYgYWN0aXZlSXRlbUlkKSB7XG4gICAgICAgIGl0ZW1EZWxldGVCdXR0b24uZGlzYWJsZWQgPSBpc1NhdmluZztcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgZmV0Y2hDb2xsZWN0aW9uSXRlbXMgPSBhc3luYyAoY29sbGVjdGlvbklkKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25zQXBpQmFzZSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgICBgJHtjb2xsZWN0aW9uc0FwaUJhc2V9LyR7ZW5jb2RlVVJJQ29tcG9uZW50KGNvbGxlY3Rpb25JZCl9L2l0ZW1zYCxcbiAgICAgICAgeyBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSxcbiAgICAgICk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihwYXlsb2FkLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgY2hhcmdlciBsZXMgaXRlbXMuJyk7XG4gICAgICB9XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoZGF0YS5pdGVtcykgPyBkYXRhLml0ZW1zIDogW107XG4gICAgfTtcblxuICAgIGNvbnN0IHNldEFjdGl2ZUNvbGxlY3Rpb24gPSBhc3luYyAoY29sbGVjdGlvbklkKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25JZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhY3RpdmVDb2xsZWN0aW9uSWQgPSBjb2xsZWN0aW9uSWQ7XG4gICAgICBhY3RpdmVJdGVtSWQgPSBudWxsO1xuICAgICAgaXNDcmVhdGluZ0l0ZW0gPSBmYWxzZTtcbiAgICAgIGl0ZW1TbHVnTWFudWFsbHlFZGl0ZWQgPSBmYWxzZTtcbiAgICAgIC8vIFN3aXRjaCB0byBjb2xsZWN0aW9uIHZpZXdcbiAgICAgIHNob3dDb250ZW50VmlldygnY29sbGVjdGlvbicpO1xuICAgICAgdXBkYXRlQ29sbGVjdGlvbkhlYWRlcigpO1xuICAgICAgc3luY0FkZEJ1dHRvblN0YXRlKCk7XG4gICAgICByZW5kZXJDb2xsZWN0aW9uTGlzdCgpO1xuICAgICAgaGlkZUl0ZW1Gb3JtKCk7XG4gICAgICBjb2xsZWN0aW9uSXRlbXMgPSBbXTtcbiAgICAgIHJlbmRlckl0ZW1UYWJsZSgpO1xuICAgICAgdXBkYXRlSXRlbXNFbXB0eU1lc3NhZ2UoJ0NoYXJnZW1lbnQgZGVzIGl0ZW1zXHUyMDI2Jyk7XG4gICAgICBjb2xsZWN0aW9uSXRlbXNFbXB0eT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBpdGVtVGFibGVXcmFwcGVyPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGlmICghY29sbGVjdGlvbnNBcGlCYXNlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbGxlY3Rpb25JdGVtcyA9IGF3YWl0IGZldGNoQ29sbGVjdGlvbkl0ZW1zKGNvbGxlY3Rpb25JZCk7XG4gICAgICAgIHJlbmRlckl0ZW1UYWJsZSgpO1xuICAgICAgICBpZiAoIWNvbGxlY3Rpb25JdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgICB1cGRhdGVJdGVtc0VtcHR5TWVzc2FnZSgpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2NvbnRlbnRdIGl0ZW1zIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxlcyBpdGVtcy4nKTtcbiAgICAgICAgY29sbGVjdGlvbkl0ZW1zID0gW107XG4gICAgICAgIHJlbmRlckl0ZW1UYWJsZSgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBjcmVhdGVDb2xsZWN0aW9uSXRlbSA9IGFzeW5jIChjb2xsZWN0aW9uSWQsIHBheWxvYWQpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvbnNBcGlCYXNlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignU2l0ZSBpbmNvbm51LicpO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgYCR7Y29sbGVjdGlvbnNBcGlCYXNlfS8ke2VuY29kZVVSSUNvbXBvbmVudChjb2xsZWN0aW9uSWQpfS9pdGVtc2AsXG4gICAgICAgIHtcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgfSxcbiAgICAgICk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihkYXRhLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgY3JcdTAwRTllciBjZXQgaXRlbS4nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgfTtcblxuICAgIGNvbnN0IHVwZGF0ZUNvbGxlY3Rpb25JdGVtID0gYXN5bmMgKGNvbGxlY3Rpb25JZCwgaXRlbUlkLCBwYXlsb2FkKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25zQXBpQmFzZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NpdGUgaW5jb25udS4nKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgIGAke2NvbGxlY3Rpb25zQXBpQmFzZX0vJHtlbmNvZGVVUklDb21wb25lbnQoY29sbGVjdGlvbklkKX0vaXRlbXMvJHtlbmNvZGVVUklDb21wb25lbnQoaXRlbUlkKX1gLFxuICAgICAgICB7XG4gICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgfSxcbiAgICAgICk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihkYXRhLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgc2F1dmVnYXJkZXIgY2V0IGl0ZW0uJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgIH07XG5cbiAgICBjb25zdCBkZWxldGVDb2xsZWN0aW9uSXRlbSA9IGFzeW5jIChjb2xsZWN0aW9uSWQsIGl0ZW1JZCkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uc0FwaUJhc2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTaXRlIGluY29ubnUuJyk7XG4gICAgICB9XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgICBgJHtjb2xsZWN0aW9uc0FwaUJhc2V9LyR7ZW5jb2RlVVJJQ29tcG9uZW50KGNvbGxlY3Rpb25JZCl9L2l0ZW1zLyR7ZW5jb2RlVVJJQ29tcG9uZW50KGl0ZW1JZCl9YCxcbiAgICAgICAgeyBtZXRob2Q6ICdERUxFVEUnIH0sXG4gICAgICApO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZGF0YS5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIHN1cHByaW1lciBjZXQgaXRlbS4nKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgbG9hZENvbGxlY3Rpb25zID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uc0FwaUJhc2UpIHtcbiAgICAgICAgY29sbGVjdGlvbkVtcHR5U3RhdGU/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICBhY3RpdmVDb2xsZWN0aW9uSWQgPSBudWxsO1xuICAgICAgICBjb2xsZWN0aW9uSXRlbXMgPSBbXTtcbiAgICAgICAgcmVuZGVySXRlbVRhYmxlKCk7XG4gICAgICAgIHVwZGF0ZUNvbGxlY3Rpb25IZWFkZXIoKTtcbiAgICAgICAgc3luY0FkZEJ1dHRvblN0YXRlKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goY29sbGVjdGlvbnNBcGlCYXNlLCB7XG4gICAgICAgICAgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxlcyBjb2xsZWN0aW9ucy4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+IFtdKTtcbiAgICAgICAgY29sbGVjdGlvbnMgPSBBcnJheS5pc0FycmF5KHBheWxvYWQpID8gcGF5bG9hZCA6IFtdO1xuICAgICAgICByZW5kZXJDb2xsZWN0aW9uTGlzdCgpO1xuICAgICAgICBpZiAoY29sbGVjdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGNvbnN0IGRlZmF1bHRJZCA9IGNvbGxlY3Rpb25zLmZpbmQoKGVudHJ5KSA9PiBlbnRyeS5pZCA9PT0gYWN0aXZlQ29sbGVjdGlvbklkKT8uaWRcbiAgICAgICAgICAgIHx8IGNvbGxlY3Rpb25zWzBdLmlkO1xuICAgICAgICAgIHNldEFjdGl2ZUNvbGxlY3Rpb24oZGVmYXVsdElkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhY3RpdmVDb2xsZWN0aW9uSWQgPSBudWxsO1xuICAgICAgICAgIGNvbGxlY3Rpb25JdGVtcyA9IFtdO1xuICAgICAgICAgIHVwZGF0ZUNvbGxlY3Rpb25IZWFkZXIoKTtcbiAgICAgICAgICBzeW5jQWRkQnV0dG9uU3RhdGUoKTtcbiAgICAgICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tjb250ZW50XSBsb2FkIGNvbGxlY3Rpb25zJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIGNvbGxlY3Rpb25zLicpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBpdGVtQWRkQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGlmICghYWN0aXZlQ29sbGVjdGlvbklkKSB7XG4gICAgICAgIHNob3dUb2FzdCgnU1x1MDBFOWxlY3Rpb25uZXogZFx1MjAxOWFib3JkIHVuZSBjb2xsZWN0aW9uLicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwcmVwYXJlTmV3SXRlbUZvcm0oKTtcbiAgICAgIHJlbmRlckl0ZW1UYWJsZSgpO1xuICAgIH0pO1xuXG4gICAgaXRlbUZvcm1DYW5jZWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKGlzQ3JlYXRpbmdJdGVtKSB7XG4gICAgICAgIGlzQ3JlYXRpbmdJdGVtID0gZmFsc2U7XG4gICAgICAgIGFjdGl2ZUl0ZW1JZCA9IG51bGw7XG4gICAgICAgIGhpZGVJdGVtRm9ybSgpO1xuICAgICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGFjdGl2ZUl0ZW1JZCkge1xuICAgICAgICBjb25zdCBpdGVtID0gY29sbGVjdGlvbkl0ZW1zLmZpbmQoKGVudHJ5KSA9PiBlbnRyeS5pZCA9PT0gYWN0aXZlSXRlbUlkKTtcbiAgICAgICAgcG9wdWxhdGVJdGVtRm9ybShpdGVtKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGhpZGVJdGVtRm9ybSgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaXRlbUZvcm1GaWVsZHMuc3RhdHVzPy5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgICBzeW5jSXRlbVN0YXR1c0JhZGdlKGl0ZW1Gb3JtRmllbGRzLnN0YXR1cy52YWx1ZSk7XG4gICAgfSk7XG5cbiAgICBpdGVtRm9ybUZpZWxkcy50aXRsZT8uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgICBpZiAoIWlzQ3JlYXRpbmdJdGVtIHx8ICFpdGVtRm9ybUZpZWxkcy5zbHVnIHx8IGl0ZW1TbHVnTWFudWFsbHlFZGl0ZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaXRlbUZvcm1GaWVsZHMuc2x1Zy52YWx1ZSA9IG5vcm1hbGl6ZUl0ZW1TbHVnSW5wdXQoaXRlbUZvcm1GaWVsZHMudGl0bGUudmFsdWUpO1xuICAgIH0pO1xuXG4gICAgaXRlbUZvcm1GaWVsZHMuc2x1Zz8uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgICBpZiAoIWlzQ3JlYXRpbmdJdGVtKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGl0ZW1TbHVnTWFudWFsbHlFZGl0ZWQgPSB0cnVlO1xuICAgIH0pO1xuXG4gICAgaXRlbUZvcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmICghYWN0aXZlQ29sbGVjdGlvbklkKSB7XG4gICAgICAgIHNob3dUb2FzdCgnU1x1MDBFOWxlY3Rpb25uZXogdW5lIGNvbGxlY3Rpb24uJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHZhbHVlcyA9IGNvbGxlY3RJdGVtRm9ybVZhbHVlcygpO1xuICAgICAgaWYgKCF2YWx1ZXMudGl0bGUpIHtcbiAgICAgICAgc2hvd1RvYXN0KCdMZSB0aXRyZSBlc3QgcmVxdWlzLicpO1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy50aXRsZT8uZm9jdXMoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2V0Rm9ybVNhdmluZ1N0YXRlKHRydWUpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgbGV0IHNhdmVkSXRlbTtcbiAgICAgICAgaWYgKGlzQ3JlYXRpbmdJdGVtIHx8ICFhY3RpdmVJdGVtSWQpIHtcbiAgICAgICAgICBzYXZlZEl0ZW0gPSBhd2FpdCBjcmVhdGVDb2xsZWN0aW9uSXRlbShhY3RpdmVDb2xsZWN0aW9uSWQsIHZhbHVlcyk7XG4gICAgICAgICAgY29sbGVjdGlvbkl0ZW1zID0gWy4uLmNvbGxlY3Rpb25JdGVtcywgc2F2ZWRJdGVtXTtcbiAgICAgICAgICBzaG93VG9hc3QoJ0l0ZW0gY3JcdTAwRTlcdTAwRTknKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzYXZlZEl0ZW0gPSBhd2FpdCB1cGRhdGVDb2xsZWN0aW9uSXRlbShhY3RpdmVDb2xsZWN0aW9uSWQsIGFjdGl2ZUl0ZW1JZCwgdmFsdWVzKTtcbiAgICAgICAgICBjb2xsZWN0aW9uSXRlbXMgPSBjb2xsZWN0aW9uSXRlbXMubWFwKChpdGVtKSA9PlxuICAgICAgICAgICAgaXRlbS5pZCA9PT0gc2F2ZWRJdGVtLmlkID8gc2F2ZWRJdGVtIDogaXRlbSxcbiAgICAgICAgICApO1xuICAgICAgICAgIHNob3dUb2FzdCgnSXRlbSBtaXMgXHUwMEUwIGpvdXInKTtcbiAgICAgICAgfVxuICAgICAgICBpc0NyZWF0aW5nSXRlbSA9IGZhbHNlO1xuICAgICAgICBhY3RpdmVJdGVtSWQgPSBzYXZlZEl0ZW0uaWQ7XG4gICAgICAgIHBvcHVsYXRlSXRlbUZvcm0oc2F2ZWRJdGVtKTtcbiAgICAgICAgcmVuZGVySXRlbVRhYmxlKCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2NvbnRlbnRdIHNhdmUgaXRlbSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgc2F1dmVnYXJkZXIgY2V0IGl0ZW0uJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZXRGb3JtU2F2aW5nU3RhdGUoZmFsc2UpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgY29uc3QgY2xvc2VEZWxldGVNb2RhbCA9ICgpID0+IHtcbiAgICAgIGlmICghaXRlbURlbGV0ZU1vZGFsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGl0ZW1EZWxldGVNb2RhbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGl0ZW1EZWxldGVNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdmbGV4Jyk7XG4gICAgICBwZW5kaW5nRGVsZXRlSXRlbUlkID0gbnVsbDtcbiAgICB9O1xuXG4gICAgY29uc3Qgb3BlbkRlbGV0ZU1vZGFsID0gKCkgPT4ge1xuICAgICAgaWYgKCFpdGVtRGVsZXRlTW9kYWwgfHwgIWFjdGl2ZUl0ZW1JZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwZW5kaW5nRGVsZXRlSXRlbUlkID0gYWN0aXZlSXRlbUlkO1xuICAgICAgaXRlbURlbGV0ZU1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgaXRlbURlbGV0ZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2ZsZXgnKTtcbiAgICB9O1xuXG4gICAgaXRlbURlbGV0ZUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoIWFjdGl2ZUl0ZW1JZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBvcGVuRGVsZXRlTW9kYWwoKTtcbiAgICB9KTtcblxuICAgIGl0ZW1EZWxldGVDYW5jZWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY2xvc2VEZWxldGVNb2RhbCgpO1xuICAgIH0pO1xuXG4gICAgaXRlbURlbGV0ZU1vZGFsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gaXRlbURlbGV0ZU1vZGFsKSB7XG4gICAgICAgIGNsb3NlRGVsZXRlTW9kYWwoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGl0ZW1EZWxldGVDb25maXJtPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghcGVuZGluZ0RlbGV0ZUl0ZW1JZCB8fCAhYWN0aXZlQ29sbGVjdGlvbklkKSB7XG4gICAgICAgIGNsb3NlRGVsZXRlTW9kYWwoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaXRlbURlbGV0ZUNvbmZpcm0uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgaXRlbURlbGV0ZUNvbmZpcm0udGV4dENvbnRlbnQgPSAnU3VwcHJlc3Npb25cdTIwMjYnO1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgZGVsZXRlQ29sbGVjdGlvbkl0ZW0oYWN0aXZlQ29sbGVjdGlvbklkLCBwZW5kaW5nRGVsZXRlSXRlbUlkKTtcbiAgICAgICAgY29sbGVjdGlvbkl0ZW1zID0gY29sbGVjdGlvbkl0ZW1zLmZpbHRlcigoaXRlbSkgPT4gaXRlbS5pZCAhPT0gcGVuZGluZ0RlbGV0ZUl0ZW1JZCk7XG4gICAgICAgIGlmIChhY3RpdmVJdGVtSWQgPT09IHBlbmRpbmdEZWxldGVJdGVtSWQpIHtcbiAgICAgICAgICBhY3RpdmVJdGVtSWQgPSBudWxsO1xuICAgICAgICAgIGhpZGVJdGVtRm9ybSgpO1xuICAgICAgICB9XG4gICAgICAgIHNob3dUb2FzdCgnSXRlbSBzdXBwcmltXHUwMEU5Jyk7XG4gICAgICAgIHJlbmRlckl0ZW1UYWJsZSgpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tjb250ZW50XSBkZWxldGUgaXRlbSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgc3VwcHJpbWVyIGNldCBpdGVtLicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaXRlbURlbGV0ZUNvbmZpcm0uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgaXRlbURlbGV0ZUNvbmZpcm0udGV4dENvbnRlbnQgPSAnU3VwcHJpbWVyJztcbiAgICAgICAgY2xvc2VEZWxldGVNb2RhbCgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdXBkYXRlQ29sbGVjdGlvbkhlYWRlcigpO1xuICAgIHN5bmNBZGRCdXR0b25TdGF0ZSgpO1xuICAgIGxvYWRDb2xsZWN0aW9ucygpO1xuICB9XG5cbiAgZnVuY3Rpb24gaW5pdERlcGxveVdvcmtzcGFjZSgpIHtcbiAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LWZvcm1dJyk7XG4gICAgaWYgKCFmb3JtKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHByb3RvY29sU2VsZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LXByb3RvY29sXScpO1xuICAgIGNvbnN0IGhvc3RJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1ob3N0XScpO1xuICAgIGNvbnN0IHBvcnRJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1wb3J0XScpO1xuICAgIGNvbnN0IHVzZXJJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS11c2VyXScpO1xuICAgIGNvbnN0IHBhc3N3b3JkSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktcGFzc3dvcmRdJyk7XG4gICAgY29uc3Qgc2hvd1Bhc3N3b3JkVG9nZ2xlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LXNob3ctcGFzc3dvcmRdJyk7XG4gICAgY29uc3QgcmVtb3RlUGF0aElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LXJlbW90ZS1wYXRoXScpO1xuICAgIGNvbnN0IGZlZWRiYWNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LWZlZWRiYWNrXScpO1xuICAgIGNvbnN0IHNhdmVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktc2F2ZV0nKTtcbiAgICBjb25zdCB0ZXN0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LXRlc3RdJyk7XG4gICAgY29uc3QgZGVwbG95QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LXRyaWdnZXJdJyk7XG4gICAgY29uc3QgaGlzdG9yeUxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktaGlzdG9yeV0nKTtcbiAgICBjb25zdCBsb2dCb3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktbG9nXScpO1xuXG4gICAgY29uc3Qgc2FmZVNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goXG4gICAgICB3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnLFxuICAgICk7XG4gICAgY29uc3QgZGVwbG95QXBpQmFzZSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9kZXBsb3ktY29uZmlnYFxuICAgICAgOiBudWxsO1xuICAgIGNvbnN0IGRlcGxveVJ1bkFwaSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9kZXBsb3lgXG4gICAgICA6IG51bGw7XG4gICAgY29uc3QgZGVwbG95TG9nQXBpID0gc2FmZVNpdGVTbHVnXG4gICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Zyl9L2RlcGxveS1sb2dgXG4gICAgICA6IG51bGw7XG5cbiAgICBsZXQgaGFzUGFzc3dvcmQgPSBmYWxzZTtcbiAgICBsZXQgYnVzeUFjdGlvbiA9IG51bGw7XG5cbiAgICBjb25zdCBzYW5pdGl6ZVJlbW90ZVBhdGggPSAodmFsdWUpID0+IHtcbiAgICAgIGNvbnN0IHRyaW1tZWQgPSAodmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgIGlmICghdHJpbW1lZCkge1xuICAgICAgICByZXR1cm4gJy93d3cnO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRyaW1tZWQuc3RhcnRzV2l0aCgnLycpID8gdHJpbW1lZCA6IGAvJHt0cmltbWVkfWA7XG4gICAgfTtcblxuICAgIGNvbnN0IHNldEZlZWRiYWNrID0gKG1lc3NhZ2UsIHRvbmUgPSAnbXV0ZWQnKSA9PiB7XG4gICAgICBpZiAoIWZlZWRiYWNrKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGJhc2VDbGFzcyA9ICdpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgcm91bmRlZC1mdWxsIHB4LTMgcHktMSB0ZXh0LXhzIGZvbnQtc2VtaWJvbGQnO1xuICAgICAgY29uc3QgdG9uZUNsYXNzID1cbiAgICAgICAgdG9uZSA9PT0gJ3N1Y2Nlc3MnXG4gICAgICAgICAgPyAnYmctZW1lcmFsZC01MCB0ZXh0LWVtZXJhbGQtNzAwIGJvcmRlciBib3JkZXItZW1lcmFsZC0xMDAnXG4gICAgICAgICAgOiB0b25lID09PSAnZXJyb3InXG4gICAgICAgICAgICA/ICdiZy1yb3NlLTUwIHRleHQtcm9zZS03MDAgYm9yZGVyIGJvcmRlci1yb3NlLTEwMCdcbiAgICAgICAgICAgIDogJ2JnLXNsYXRlLTUwIHRleHQtc2xhdGUtNjAwIGJvcmRlciBib3JkZXItc2xhdGUtMTAwJztcbiAgICAgIGlmICghbWVzc2FnZSkge1xuICAgICAgICBmZWVkYmFjay50ZXh0Q29udGVudCA9ICcnO1xuICAgICAgICBmZWVkYmFjay5jbGFzc05hbWUgPSAndGV4dC1zbSB0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGljb24gPSB0b25lID09PSAnc3VjY2VzcycgPyAnXHUyNzA1JyA6IHRvbmUgPT09ICdlcnJvcicgPyAnXHUyNzRDJyA6ICdcdTIxMzlcdUZFMEYnO1xuICAgICAgZmVlZGJhY2suaW5uZXJIVE1MID0gYDxzcGFuIGNsYXNzPVwiJHtiYXNlQ2xhc3N9ICR7dG9uZUNsYXNzfVwiPiR7aWNvbn08c3Bhbj4ke21lc3NhZ2V9PC9zcGFuPjwvc3Bhbj5gO1xuICAgICAgZmVlZGJhY2suY2xhc3NOYW1lID0gJ3RleHQtc20nO1xuICAgIH07XG5cbiAgICBjb25zdCBzZXRCdXN5ID0gKGFjdGlvbiA9IG51bGwpID0+IHtcbiAgICAgIGJ1c3lBY3Rpb24gPSBhY3Rpb247XG4gICAgICBjb25zdCBkaXNhYmxlID0gQm9vbGVhbihhY3Rpb24pO1xuICAgICAgY29uc3Qgc3Bpbm5lciA9XG4gICAgICAgICc8c3ZnIGNsYXNzPVwiaC00IHctNCBhbmltYXRlLXNwaW4gdGV4dC13aGl0ZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjxjaXJjbGUgY2xhc3M9XCJvcGFjaXR5LTI1XCIgY3g9XCIxMlwiIGN5PVwiMTJcIiByPVwiMTBcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCI0XCI+PC9jaXJjbGU+PHBhdGggY2xhc3M9XCJvcGFjaXR5LTc1XCIgZmlsbD1cImN1cnJlbnRDb2xvclwiIGQ9XCJNNCAxMmE4IDggMCAwMTgtOHY0YTQgNCAwIDAwLTQgNEg0elwiPjwvcGF0aD48L3N2Zz4nO1xuICAgICAgaWYgKHNhdmVCdXR0b24pIHtcbiAgICAgICAgc2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IGRpc2FibGU7XG4gICAgICAgIHNhdmVCdXR0b24uaW5uZXJIVE1MID1cbiAgICAgICAgICBhY3Rpb24gPT09ICdzYXZlJ1xuICAgICAgICAgICAgPyBgPHNwYW4gY2xhc3M9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj4ke3NwaW5uZXJ9PHNwYW4+RW5yZWdpc3RyZW1lbnRcdTIwMjY8L3NwYW4+PC9zcGFuPmBcbiAgICAgICAgICAgIDogJ0VucmVnaXN0cmVyJztcbiAgICAgIH1cbiAgICAgIGlmICh0ZXN0QnV0dG9uKSB7XG4gICAgICAgIHRlc3RCdXR0b24uZGlzYWJsZWQgPSBkaXNhYmxlO1xuICAgICAgICB0ZXN0QnV0dG9uLmlubmVySFRNTCA9XG4gICAgICAgICAgYWN0aW9uID09PSAndGVzdCdcbiAgICAgICAgICAgID8gYDxzcGFuIGNsYXNzPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+PHNwYW4gY2xhc3M9XCJoLTQgdy00IGFuaW1hdGUtc3BpbiByb3VuZGVkLWZ1bGwgYm9yZGVyLTIgYm9yZGVyLXNsYXRlLTIwMCBib3JkZXItdC1zbGF0ZS02MDBcIj48L3NwYW4+PHNwYW4+VGVzdCBlbiBjb3Vyc1x1MjAyNjwvc3Bhbj48L3NwYW4+YFxuICAgICAgICAgICAgOiAnVGVzdGVyIGxhIGNvbm5leGlvbic7XG4gICAgICB9XG4gICAgICBpZiAoZGVwbG95QnV0dG9uKSB7XG4gICAgICAgIGRlcGxveUJ1dHRvbi5kaXNhYmxlZCA9IGRpc2FibGUgJiYgYWN0aW9uICE9PSBudWxsO1xuICAgICAgICBkZXBsb3lCdXR0b24uaW5uZXJIVE1MID1cbiAgICAgICAgICBhY3Rpb24gPT09ICdkZXBsb3knXG4gICAgICAgICAgICA/IGA8c3BhbiBjbGFzcz1cImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPjxzcGFuIGNsYXNzPVwiaC00IHctNCBhbmltYXRlLXNwaW4gcm91bmRlZC1mdWxsIGJvcmRlci0yIGJvcmRlci13aGl0ZS82MCBib3JkZXItdC13aGl0ZVwiPjwvc3Bhbj48c3Bhbj5EXHUwMEU5cGxvaWVtZW50XHUyMDI2PC9zcGFuPjwvc3Bhbj5gXG4gICAgICAgICAgICA6ICdEXHUwMEU5cGxveWVyIG1haW50ZW5hbnQnO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBwb3B1bGF0ZUZvcm0gPSAoY29uZmlnKSA9PiB7XG4gICAgICBwcm90b2NvbFNlbGVjdCAmJiAocHJvdG9jb2xTZWxlY3QudmFsdWUgPSBjb25maWcucHJvdG9jb2wgfHwgJ3NmdHAnKTtcbiAgICAgIGhvc3RJbnB1dCAmJiAoaG9zdElucHV0LnZhbHVlID0gY29uZmlnLmhvc3QgfHwgJycpO1xuICAgICAgcG9ydElucHV0ICYmIChwb3J0SW5wdXQudmFsdWUgPSBjb25maWcucG9ydCB8fCAnJyk7XG4gICAgICB1c2VySW5wdXQgJiYgKHVzZXJJbnB1dC52YWx1ZSA9IGNvbmZpZy51c2VyIHx8ICcnKTtcbiAgICAgIHJlbW90ZVBhdGhJbnB1dCAmJiAocmVtb3RlUGF0aElucHV0LnZhbHVlID0gY29uZmlnLnJlbW90ZVBhdGggfHwgJy93d3cnKTtcbiAgICAgIGhhc1Bhc3N3b3JkID0gQm9vbGVhbihjb25maWcuaGFzUGFzc3dvcmQpO1xuICAgICAgaWYgKHBhc3N3b3JkSW5wdXQpIHtcbiAgICAgICAgcGFzc3dvcmRJbnB1dC52YWx1ZSA9ICcnO1xuICAgICAgICBwYXNzd29yZElucHV0LnBsYWNlaG9sZGVyID0gaGFzUGFzc3dvcmQgPyAnTm9uIGFmZmljaFx1MDBFOScgOiAnTW90IGRlIHBhc3NlJztcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgcmVuZGVySGlzdG9yeSA9IChlbnRyaWVzID0gW10pID0+IHtcbiAgICAgIGlmICghaGlzdG9yeUxpc3QpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaGlzdG9yeUxpc3QuaW5uZXJIVE1MID0gJyc7XG4gICAgICBpZiAoIWVudHJpZXMubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgbGkuY2xhc3NOYW1lID0gJ3RleHQtc2xhdGUtNTAwJztcbiAgICAgICAgbGkudGV4dENvbnRlbnQgPSAnQXVjdW4gZFx1MDBFOXBsb2llbWVudCBwb3VyIGxlIG1vbWVudC4nO1xuICAgICAgICBoaXN0b3J5TGlzdC5hcHBlbmRDaGlsZChsaSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGVudHJpZXMuZm9yRWFjaCgoZW50cnkpID0+IHtcbiAgICAgICAgY29uc3QgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgICBsaS5jbGFzc05hbWUgPVxuICAgICAgICAgICdmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gZ2FwLTIgcm91bmRlZC14bCBib3JkZXIgYm9yZGVyLXNsYXRlLTIwMCBweC0zIHB5LTInO1xuICAgICAgICBjb25zdCBzdGF0dXNCYWRnZSA9XG4gICAgICAgICAgZW50cnkuc3RhdHVzID09PSAnc3VjY2VzcydcbiAgICAgICAgICAgID8gJzxzcGFuIGNsYXNzPVwicm91bmRlZC1mdWxsIGJnLWVtZXJhbGQtNTAgcHgtMiBweS0wLjUgdGV4dC1bMTFweF0gZm9udC1zZW1pYm9sZCB0ZXh0LWVtZXJhbGQtNzAwXCI+U3VjY1x1MDBFOHM8L3NwYW4+J1xuICAgICAgICAgICAgOiAnPHNwYW4gY2xhc3M9XCJyb3VuZGVkLWZ1bGwgYmctcm9zZS01MCBweC0yIHB5LTAuNSB0ZXh0LVsxMXB4XSBmb250LXNlbWlib2xkIHRleHQtcm9zZS03MDBcIj5cdTAwQzljaGVjPC9zcGFuPic7XG4gICAgICAgIGNvbnN0IGRhdGUgPSBlbnRyeS5maW5pc2hlZEF0IHx8IGVudHJ5LnN0YXJ0ZWRBdCB8fCAnJztcbiAgICAgICAgY29uc3QgZHVyYXRpb24gPVxuICAgICAgICAgIGVudHJ5LmR1cmF0aW9uTXMgJiYgTnVtYmVyKGVudHJ5LmR1cmF0aW9uTXMpID49IDBcbiAgICAgICAgICAgID8gYCR7TWF0aC5yb3VuZChOdW1iZXIoZW50cnkuZHVyYXRpb25NcykgLyAxMDAwKX1zYFxuICAgICAgICAgICAgOiAnJztcbiAgICAgICAgbGkuaW5uZXJIVE1MID0gYFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJzcGFjZS15LTFcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPiR7c3RhdHVzQmFkZ2V9PHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNTAwXCI+JHtkYXRlfTwvc3Bhbj48L2Rpdj5cbiAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1zbSB0ZXh0LXNsYXRlLTgwMFwiPiR7ZW50cnkubWVzc2FnZSB8fCAnJ308L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInRleHQteHMgdGV4dC1zbGF0ZS01MDBcIj4ke2R1cmF0aW9ufTwvZGl2PlxuICAgICAgICBgO1xuICAgICAgICBsaS5kYXRhc2V0LmRlcGxveUlkID0gZW50cnkuaWQgfHwgJyc7XG4gICAgICAgIGxpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgIGlmIChlbnRyeS5sb2dzICYmIGxvZ0JveCkge1xuICAgICAgICAgICAgbG9nQm94LnRleHRDb250ZW50ID0gZW50cnkubG9ncy5qb2luKCdcXG4nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBoaXN0b3J5TGlzdC5hcHBlbmRDaGlsZChsaSk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgcmVuZGVyTG9ncyA9IChsaW5lcyA9IFtdKSA9PiB7XG4gICAgICBpZiAoIWxvZ0JveCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBsb2dCb3gudGV4dENvbnRlbnQgPSBsaW5lcy5sZW5ndGggPyBsaW5lcy5qb2luKCdcXG4nKSA6ICdBdWN1biBsb2cgcG91ciBsZSBtb21lbnQuJztcbiAgICB9O1xuXG4gICAgY29uc3QgZmV0Y2hIaXN0b3J5ID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFkZXBsb3lMb2dBcGkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChkZXBsb3lMb2dBcGksIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICAgICAgICByZW5kZXJIaXN0b3J5KFtdKTtcbiAgICAgICAgICAgIHJlbmRlckxvZ3MoWydBUEkgZFx1MDBFOXBsb2llbWVudCBpbmRpc3BvbmlibGUgKHJlZFx1MDBFOW1hcnJlIGxlIHNlcnZldXIpLiddKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbFx1MjAxOWhpc3RvcmlxdWUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgY29uc3QgZW50cmllcyA9IEFycmF5LmlzQXJyYXkocGF5bG9hZC5lbnRyaWVzKSA/IHBheWxvYWQuZW50cmllcyA6IFtdO1xuICAgICAgICByZW5kZXJIaXN0b3J5KGVudHJpZXMpO1xuICAgICAgICBpZiAoZW50cmllc1swXT8ubG9ncykge1xuICAgICAgICAgIHJlbmRlckxvZ3MoZW50cmllc1swXS5sb2dzKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkZXBsb3ldIGhpc3RvcnkgZmFpbGVkJywgZXJyKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgZmV0Y2hDb25maWcgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWRlcGxveUFwaUJhc2UpIHtcbiAgICAgICAgc2V0RmVlZGJhY2soJ0F1Y3VuIHNpdGUgYWN0aWYgc1x1MDBFOWxlY3Rpb25uXHUwMEU5LicsICdlcnJvcicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZXRCdXN5KCdsb2FkJyk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGRlcGxveUFwaUJhc2UsIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xuICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBwb3B1bGF0ZUZvcm0ocGF5bG9hZCB8fCB7fSk7XG4gICAgICAgICAgc2V0RmVlZGJhY2soJ0NvbmZpZ3VyYXRpb24gY2hhcmdcdTAwRTllLicsICdtdXRlZCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBvcHVsYXRlRm9ybShwYXlsb2FkIHx8IHt9KTtcbiAgICAgICAgICBzZXRGZWVkYmFjayhwYXlsb2FkLm1lc3NhZ2UgfHwgJ0NvbmZpZ3VyYXRpb24gcGFyIGRcdTAwRTlmYXV0IGNoYXJnXHUwMEU5ZS4nLCAnbXV0ZWQnKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkZXBsb3ldIGxvYWQgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2V0RmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGR1IGNoYXJnZW1lbnQuJywgJ2Vycm9yJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZXRCdXN5KG51bGwpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBidWlsZFBheWxvYWQgPSAoKSA9PiB7XG4gICAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICBwcm90b2NvbDogcHJvdG9jb2xTZWxlY3Q/LnZhbHVlIHx8ICdzZnRwJyxcbiAgICAgICAgaG9zdDogaG9zdElucHV0Py52YWx1ZS50cmltKCkgfHwgJycsXG4gICAgICAgIHBvcnQ6IE51bWJlcihwb3J0SW5wdXQ/LnZhbHVlKSB8fCB1bmRlZmluZWQsXG4gICAgICAgIHVzZXI6IHVzZXJJbnB1dD8udmFsdWUudHJpbSgpIHx8ICcnLFxuICAgICAgICByZW1vdGVQYXRoOiBzYW5pdGl6ZVJlbW90ZVBhdGgocmVtb3RlUGF0aElucHV0Py52YWx1ZSB8fCAnL3d3dycpLFxuICAgICAgfTtcbiAgICAgIGNvbnN0IHB3ZCA9IHBhc3N3b3JkSW5wdXQ/LnZhbHVlIHx8ICcnO1xuICAgICAgaWYgKHB3ZC50cmltKCkubGVuZ3RoID4gMCkge1xuICAgICAgICBwYXlsb2FkLnBhc3N3b3JkID0gcHdkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfTtcblxuICAgIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKCFkZXBsb3lBcGlCYXNlKSB7XG4gICAgICAgIHNldEZlZWRiYWNrKCdBdWN1biBzaXRlIGFjdGlmIHNcdTAwRTlsZWN0aW9ublx1MDBFOS4nLCAnZXJyb3InKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgcGF5bG9hZCA9IGJ1aWxkUGF5bG9hZCgpO1xuICAgICAgc2V0QnVzeSgnc2F2ZScpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChkZXBsb3lBcGlCYXNlLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBjb25zdCBlcnJvclBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yUGF5bG9hZC5tZXNzYWdlIHx8ICdTYXV2ZWdhcmRlIGltcG9zc2libGUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2F2ZWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIHBvcHVsYXRlRm9ybShzYXZlZCB8fCB7fSk7XG4gICAgICAgIHNldEZlZWRiYWNrKCdDb25maWd1cmF0aW9uIGVucmVnaXN0clx1MDBFOWUuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgc2hvd1RvYXN0KCdDb25maWd1cmF0aW9uIGRcdTAwRTlwbG9pZW1lbnQgc2F1dmVnYXJkXHUwMEU5ZScpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkZXBsb3ldIHNhdmUgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2V0RmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGRlIGxhIHNhdXZlZ2FyZGUuJywgJ2Vycm9yJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZXRCdXN5KG51bGwpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGVzdEJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWRlcGxveUFwaUJhc2UpIHtcbiAgICAgICAgc2V0RmVlZGJhY2soJ0F1Y3VuIHNpdGUgYWN0aWYgc1x1MDBFOWxlY3Rpb25uXHUwMEU5LicsICdlcnJvcicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBwYXlsb2FkID0gYnVpbGRQYXlsb2FkKCk7XG4gICAgICBpZiAoIXBheWxvYWQuaG9zdCB8fCAhcGF5bG9hZC51c2VyIHx8ICFwYXlsb2FkLnJlbW90ZVBhdGgpIHtcbiAgICAgICAgc2V0RmVlZGJhY2soJ1JlbXBsaXNzZXogbGVzIGNoYW1wcyByZXF1aXMgYXZhbnQgZGUgdGVzdGVyLicsICdlcnJvcicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZXRCdXN5KCd0ZXN0Jyk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke2RlcGxveUFwaUJhc2V9L3Rlc3RgLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2sgfHwgcmVzdWx0LnN1Y2Nlc3MgPT09IGZhbHNlKSB7XG4gICAgICAgICAgc2V0RmVlZGJhY2socmVzdWx0Lm1lc3NhZ2UgfHwgJ1Rlc3QgZGUgY29ubmV4aW9uIFx1MDBFOWNob3VcdTAwRTkuJywgJ2Vycm9yJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNldEZlZWRiYWNrKHJlc3VsdC5tZXNzYWdlIHx8ICdDb25uZXhpb24gT0suJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgc2hvd1RvYXN0KCdUZXN0IGRlIGNvbm5leGlvbiByXHUwMEU5dXNzaScpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkZXBsb3ldIHRlc3QgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2V0RmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ1Rlc3QgZGUgY29ubmV4aW9uIFx1MDBFOWNob3VcdTAwRTkuJywgJ2Vycm9yJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZXRCdXN5KG51bGwpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgZGVwbG95QnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghZGVwbG95UnVuQXBpKSB7XG4gICAgICAgIHNldEZlZWRiYWNrKCdBdWN1biBzaXRlIGFjdGlmIHNcdTAwRTlsZWN0aW9ublx1MDBFOS4nLCAnZXJyb3InKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2V0QnVzeSgnZGVwbG95Jyk7XG4gICAgICByZW5kZXJMb2dzKFsnRFx1MDBFOXBsb2llbWVudCBlbiBjb3Vyc1x1MjAyNiddKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goZGVwbG95UnVuQXBpLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYnVpbGRQYXlsb2FkKCkpLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICAgICAgICBzZXRGZWVkYmFjaygnQVBJIGRcdTAwRTlwbG9pZW1lbnQgaW5kaXNwb25pYmxlIChyZWRcdTAwRTltYXJyZSBsZSBzZXJ2ZXVyKS4nLCAnZXJyb3InKTtcbiAgICAgICAgICAgIHJlbmRlckxvZ3MoWydBUEkgZFx1MDBFOXBsb2llbWVudCBpbmRpc3BvbmlibGUgKHJlZFx1MDBFOW1hcnJlIGxlIHNlcnZldXIpLiddKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVuZGVyTG9ncyhyZXN1bHQubG9ncyB8fCBbXSk7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5tZXNzYWdlIHx8ICdEXHUwMEU5cGxvaWVtZW50IFx1MDBFOWNob3VcdTAwRTkuJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmVuZGVyTG9ncyhyZXN1bHQubG9ncyB8fCBbXSk7XG4gICAgICAgIGF3YWl0IGZldGNoSGlzdG9yeSgpO1xuICAgICAgICBzaG93VG9hc3QoJ0RcdTAwRTlwbG9pZW1lbnQgdGVybWluXHUwMEU5Jyk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2RlcGxveV0gcnVuIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNldEZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdEXHUwMEU5cGxvaWVtZW50IFx1MDBFOWNob3VcdTAwRTkuJywgJ2Vycm9yJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZXRCdXN5KG51bGwpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgc2hvd1Bhc3N3b3JkVG9nZ2xlPy5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgICBpZiAoIXBhc3N3b3JkSW5wdXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcGFzc3dvcmRJbnB1dC50eXBlID0gc2hvd1Bhc3N3b3JkVG9nZ2xlLmNoZWNrZWQgPyAndGV4dCcgOiAncGFzc3dvcmQnO1xuICAgIH0pO1xuXG4gICAgLy8gRG93bmxvYWQgYnVpbGQgYXMgWklQXG4gICAgY29uc3QgZG93bmxvYWRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kb3dubG9hZC1idWlsZF0nKTtcbiAgICBjb25zdCBkb3dubG9hZEZlZWRiYWNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZG93bmxvYWQtZmVlZGJhY2tdJyk7XG4gICAgY29uc3QgZG93bmxvYWRBcGkgPSBzYWZlU2l0ZVNsdWdcbiAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnKX0vZG93bmxvYWRgXG4gICAgICA6IG51bGw7XG5cbiAgICBjb25zdCBzZXREb3dubG9hZEZlZWRiYWNrID0gKG1lc3NhZ2UsIHRvbmUgPSAnbXV0ZWQnKSA9PiB7XG4gICAgICBpZiAoIWRvd25sb2FkRmVlZGJhY2spIHJldHVybjtcbiAgICAgIGNvbnN0IGNvbG9yID1cbiAgICAgICAgdG9uZSA9PT0gJ3N1Y2Nlc3MnXG4gICAgICAgICAgPyAndGV4dC1lbWVyYWxkLTYwMCdcbiAgICAgICAgICA6IHRvbmUgPT09ICdlcnJvcidcbiAgICAgICAgICAgID8gJ3RleHQtcm9zZS02MDAnXG4gICAgICAgICAgICA6ICd0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICBkb3dubG9hZEZlZWRiYWNrLnRleHRDb250ZW50ID0gbWVzc2FnZSB8fCAnJztcbiAgICAgIGRvd25sb2FkRmVlZGJhY2suY2xhc3NOYW1lID0gYHRleHQtc20gJHtjb2xvcn1gO1xuICAgIH07XG5cbiAgICBkb3dubG9hZEJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWRvd25sb2FkQXBpKSB7XG4gICAgICAgIHNldERvd25sb2FkRmVlZGJhY2soJ0F1Y3VuIHNpdGUgYWN0aWYgc1x1MDBFOWxlY3Rpb25uXHUwMEU5LicsICdlcnJvcicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBkb3dubG9hZEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICBjb25zdCBvcmlnaW5hbENvbnRlbnQgPSBkb3dubG9hZEJ1dHRvbi5pbm5lckhUTUw7XG4gICAgICBkb3dubG9hZEJ1dHRvbi5pbm5lckhUTUwgPSBgXG4gICAgICAgIDxzdmcgY2xhc3M9XCJ3LTQgaC00IGFuaW1hdGUtc3BpblwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgIDxjaXJjbGUgY2xhc3M9XCJvcGFjaXR5LTI1XCIgY3g9XCIxMlwiIGN5PVwiMTJcIiByPVwiMTBcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCI0XCI+PC9jaXJjbGU+XG4gICAgICAgICAgPHBhdGggY2xhc3M9XCJvcGFjaXR5LTc1XCIgZmlsbD1cImN1cnJlbnRDb2xvclwiIGQ9XCJNNCAxMmE4IDggMCAwMTgtOHY0YTQgNCAwIDAwLTQgNEg0elwiPjwvcGF0aD5cbiAgICAgICAgPC9zdmc+XG4gICAgICAgIDxzcGFuPkJ1aWxkIGVuIGNvdXJzLi4uPC9zcGFuPlxuICAgICAgYDtcbiAgICAgIHNldERvd25sb2FkRmVlZGJhY2soJ0dcdTAwRTluXHUwMEU5cmF0aW9uIGR1IGJ1aWxkIGVuIGNvdXJzLi4uJywgJ211dGVkJyk7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goZG93bmxvYWRBcGkpO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgY29uc3QgZXJyb3JEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvckRhdGEubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBnXHUwMEU5blx1MDBFOXJlciBsZSBaSVAuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVFx1MDBFOWxcdTAwRTljaGFyZ2VyIGxlIGZpY2hpZXJcbiAgICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IHJlc3BvbnNlLmJsb2IoKTtcbiAgICAgICAgY29uc3QgdXJsID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4gICAgICAgIGNvbnN0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICAgIGEuaHJlZiA9IHVybDtcbiAgICAgICAgYS5kb3dubG9hZCA9IGAke3NhZmVTaXRlU2x1Z30tYnVpbGQuemlwYDtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhKTtcbiAgICAgICAgYS5jbGljaygpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGEpO1xuICAgICAgICB3aW5kb3cuVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpO1xuICAgICAgICBzZXREb3dubG9hZEZlZWRiYWNrKCdUXHUwMEU5bFx1MDBFOWNoYXJnZW1lbnQgdGVybWluXHUwMEU5ICEnLCAnc3VjY2VzcycpO1xuICAgICAgICBzaG93VG9hc3QoJ0J1aWxkIHRcdTAwRTlsXHUwMEU5Y2hhcmdcdTAwRTkgYXZlYyBzdWNjXHUwMEU4cycpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkb3dubG9hZF0gZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2V0RG93bmxvYWRGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZHUgdFx1MDBFOWxcdTAwRTljaGFyZ2VtZW50LicsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgZG93bmxvYWRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgZG93bmxvYWRCdXR0b24uaW5uZXJIVE1MID0gb3JpZ2luYWxDb250ZW50O1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgZmV0Y2hDb25maWcoKTtcbiAgICBmZXRjaEhpc3RvcnkoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXRTZXR0aW5nc1dvcmtzcGFjZSgpIHtcbiAgICBjb25zdCB0YWJCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtc2V0dGluZ3MtdGFiXScpO1xuICAgIGNvbnN0IHRhYlBhbmVscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXNldHRpbmdzLXBhbmVsXScpO1xuICAgIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZG1pbi1wYXNzd29yZC1mb3JtXScpO1xuICAgIGNvbnN0IHNpdGVGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS1jb25maWctZm9ybV0nKTtcbiAgICBjb25zdCBzaXRlRmVlZGJhY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLWNvbmZpZy1mZWVkYmFja10nKTtcbiAgICBjb25zdCB0aGVtZUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1mb3JtXScpO1xuICAgIGNvbnN0IHN3aXRjaFRhYiA9IChuYW1lKSA9PiB7XG4gICAgICB0YWJCdXR0b25zLmZvckVhY2goKGJ0bikgPT4ge1xuICAgICAgICBjb25zdCBpc0FjdGl2ZSA9IGJ0bi5kYXRhc2V0LnNldHRpbmdzVGFiID09PSBuYW1lO1xuICAgICAgICBidG4uc2V0QXR0cmlidXRlKCdhcmlhLXNlbGVjdGVkJywgaXNBY3RpdmUgPyAndHJ1ZScgOiAnZmFsc2UnKTtcbiAgICAgICAgYnRuLmNsYXNzTGlzdC50b2dnbGUoJ2JnLVsjOUM2QkZGXScsIGlzQWN0aXZlKTtcbiAgICAgICAgYnRuLmNsYXNzTGlzdC50b2dnbGUoJ3RleHQtd2hpdGUnLCBpc0FjdGl2ZSk7XG4gICAgICB9KTtcbiAgICAgIHRhYlBhbmVscy5mb3JFYWNoKChwYW5lbCkgPT4ge1xuICAgICAgICBwYW5lbC5jbGFzc0xpc3QudG9nZ2xlKCdoaWRkZW4nLCBwYW5lbC5kYXRhc2V0LnNldHRpbmdzUGFuZWwgIT09IG5hbWUpO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICB0YWJCdXR0b25zLmZvckVhY2goKGJ0bikgPT4ge1xuICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gc3dpdGNoVGFiKGJ0bi5kYXRhc2V0LnNldHRpbmdzVGFiIHx8ICdhY2NvdW50JykpO1xuICAgIH0pO1xuICAgIHN3aXRjaFRhYignYWNjb3VudCcpO1xuXG4gICAgaWYgKCFmb3JtKSB7XG4gICAgICAvLyBzdGlsbCBhbGxvdyBzaXRlIGZvcm0gZXZlbiBpZiBwYXNzd29yZCBmb3JtIGFic2VudFxuICAgIH1cbiAgICBpZiAoZm9ybSkge1xuICAgICAgY29uc3QgZmVlZGJhY2sgPSBmb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFkbWluLXBhc3N3b3JkLWZlZWRiYWNrXScpO1xuICAgICAgY29uc3Qgc3VibWl0ID0gZm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZG1pbi1wYXNzd29yZC1zdWJtaXRdJyk7XG4gICAgICBjb25zdCBzZXRGZWVkYmFjayA9IChtZXNzYWdlLCB0b25lID0gJ211dGVkJykgPT4ge1xuICAgICAgICBpZiAoIWZlZWRiYWNrKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGNvbG9yID1cbiAgICAgICAgICB0b25lID09PSAnc3VjY2VzcydcbiAgICAgICAgICAgID8gJ3RleHQtZW1lcmFsZC02MDAnXG4gICAgICAgICAgICA6IHRvbmUgPT09ICdlcnJvcidcbiAgICAgICAgICAgICAgPyAndGV4dC1yb3NlLTYwMCdcbiAgICAgICAgICAgICAgOiAndGV4dC1zbGF0ZS01MDAnO1xuICAgICAgICBmZWVkYmFjay50ZXh0Q29udGVudCA9IG1lc3NhZ2UgfHwgJyc7XG4gICAgICAgIGZlZWRiYWNrLmNsYXNzTmFtZSA9IGB0ZXh0LXNtICR7Y29sb3J9YDtcbiAgICAgIH07XG4gICAgICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YShmb3JtKTtcbiAgICAgICAgY29uc3QgY3VycmVudFBhc3N3b3JkID0gZm9ybURhdGEuZ2V0KCdjdXJyZW50UGFzc3dvcmQnKSB8fCAnJztcbiAgICAgICAgY29uc3QgbmV3UGFzc3dvcmQgPSBmb3JtRGF0YS5nZXQoJ25ld1Bhc3N3b3JkJykgfHwgJyc7XG4gICAgICAgIGNvbnN0IGNvbmZpcm1QYXNzd29yZCA9IGZvcm1EYXRhLmdldCgnY29uZmlybVBhc3N3b3JkJykgfHwgJyc7XG4gICAgICAgIGlmICghY3VycmVudFBhc3N3b3JkIHx8ICFuZXdQYXNzd29yZCB8fCAhY29uZmlybVBhc3N3b3JkKSB7XG4gICAgICAgICAgc2V0RmVlZGJhY2soJ0NvbXBsXHUwMEU4dGUgdG91cyBsZXMgY2hhbXBzLicsICdlcnJvcicpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzdWJtaXQgJiYgKHN1Ym1pdC5kaXNhYmxlZCA9IHRydWUpO1xuICAgICAgICBzZXRGZWVkYmFjaygnJyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9hZG1pbi9wYXNzd29yZCcsIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGN1cnJlbnRQYXNzd29yZCwgbmV3UGFzc3dvcmQsIGNvbmZpcm1QYXNzd29yZCB9KSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2sgfHwgcGF5bG9hZC5zdWNjZXNzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHBheWxvYWQubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBtZXR0cmUgXHUwMEUwIGpvdXIgbGUgbW90IGRlIHBhc3NlLicpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXRGZWVkYmFjayhwYXlsb2FkLm1lc3NhZ2UgfHwgJ01vdCBkZSBwYXNzZSBtaXMgXHUwMEUwIGpvdXIuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgICBmb3JtLnJlc2V0KCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gY2hhbmdlIHBhc3N3b3JkIGZhaWxlZCcsIGVycik7XG4gICAgICAgICAgc2V0RmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGRlIGxhIG1pc2UgXHUwMEUwIGpvdXIuJywgJ2Vycm9yJyk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgc3VibWl0ICYmIChzdWJtaXQuZGlzYWJsZWQgPSBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChzaXRlRm9ybSkge1xuICAgICAgY29uc3QgbmFtZUlucHV0ID0gc2l0ZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS1uYW1lXScpO1xuICAgICAgY29uc3QgbGFuZ1NlbGVjdCA9IHNpdGVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtbGFuZ3VhZ2VdJyk7XG4gICAgICBjb25zdCB0YWdsaW5lSW5wdXQgPSBzaXRlRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLXRhZ2xpbmVdJyk7XG4gICAgICBjb25zdCBzYXZlQnV0dG9uID0gc2l0ZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS1zYXZlXScpO1xuICAgICAgY29uc3Qgc2V0U2l0ZUZlZWRiYWNrID0gKG1lc3NhZ2UsIHRvbmUgPSAnbXV0ZWQnKSA9PiB7XG4gICAgICAgIGlmICghc2l0ZUZlZWRiYWNrKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGNvbG9yID1cbiAgICAgICAgICB0b25lID09PSAnc3VjY2VzcydcbiAgICAgICAgICAgID8gJ3RleHQtZW1lcmFsZC02MDAnXG4gICAgICAgICAgICA6IHRvbmUgPT09ICdlcnJvcidcbiAgICAgICAgICAgICAgPyAndGV4dC1yb3NlLTYwMCdcbiAgICAgICAgICAgICAgOiAndGV4dC1zbGF0ZS01MDAnO1xuICAgICAgICBzaXRlRmVlZGJhY2sudGV4dENvbnRlbnQgPSBtZXNzYWdlIHx8ICcnO1xuICAgICAgICBzaXRlRmVlZGJhY2suY2xhc3NOYW1lID0gYHRleHQtc20gJHtjb2xvcn1gO1xuICAgICAgfTtcblxuICAgICAgY29uc3Qgc2FmZVNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goXG4gICAgICAgIHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJycsXG4gICAgICApO1xuICAgICAgY29uc3Qgc2l0ZUNvbmZpZ0FwaSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Zyl9L2NvbmZpZy9zaXRlYFxuICAgICAgICA6IG51bGw7XG5cbiAgICAgIGNvbnN0IGxvYWRTaXRlQ29uZmlnID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoIXNpdGVDb25maWdBcGkpIHJldHVybjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHNpdGVDb25maWdBcGksIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHJldHVybjtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIGlmIChuYW1lSW5wdXQpIG5hbWVJbnB1dC52YWx1ZSA9IHBheWxvYWQubmFtZSB8fCAnJztcbiAgICAgICAgICBpZiAobGFuZ1NlbGVjdCkgbGFuZ1NlbGVjdC52YWx1ZSA9IHBheWxvYWQubGFuZ3VhZ2UgfHwgJ2ZyJztcbiAgICAgICAgICBpZiAodGFnbGluZUlucHV0KSB0YWdsaW5lSW5wdXQudmFsdWUgPSBwYXlsb2FkLnRhZ2xpbmUgfHwgJyc7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gbG9hZCBzaXRlIGNvbmZpZyBmYWlsZWQnLCBlcnIpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBzaXRlRm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKCFzaXRlQ29uZmlnQXBpKSB7XG4gICAgICAgICAgc2V0U2l0ZUZlZWRiYWNrKCdBdWN1biBzaXRlIGFjdGlmLicsICdlcnJvcicpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW5hbWVJbnB1dD8udmFsdWUudHJpbSgpKSB7XG4gICAgICAgICAgc2V0U2l0ZUZlZWRiYWNrKCdOb20gcmVxdWlzLicsICdlcnJvcicpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzYXZlQnV0dG9uICYmIChzYXZlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZSk7XG4gICAgICAgIHNldFNpdGVGZWVkYmFjaygnJyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgICAgIG5hbWU6IG5hbWVJbnB1dD8udmFsdWUgfHwgJycsXG4gICAgICAgICAgICBsYW5ndWFnZTogbGFuZ1NlbGVjdD8udmFsdWUgfHwgJ2ZyJyxcbiAgICAgICAgICAgIHRhZ2xpbmU6IHRhZ2xpbmVJbnB1dD8udmFsdWUgfHwgJycsXG4gICAgICAgICAgfTtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHNpdGVDb25maWdBcGksIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rIHx8IHJlc3VsdC5zdWNjZXNzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5tZXNzYWdlIHx8ICdTYXV2ZWdhcmRlIGltcG9zc2libGUuJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNldFNpdGVGZWVkYmFjayhyZXN1bHQubWVzc2FnZSB8fCAnUGFyYW1cdTAwRTh0cmVzIGVucmVnaXN0clx1MDBFOXMuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3NldHRpbmdzXSBzYXZlIHNpdGUgY29uZmlnIGZhaWxlZCcsIGVycik7XG4gICAgICAgICAgc2V0U2l0ZUZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsYSBzYXV2ZWdhcmRlLicsICdlcnJvcicpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIHNhdmVCdXR0b24gJiYgKHNhdmVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBsb2FkU2l0ZUNvbmZpZygpO1xuICAgIH1cblxuICAgIGlmICh0aGVtZUZvcm0pIHtcbiAgICAgIGNvbnN0IHNhZmVTaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKFxuICAgICAgICB3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnLFxuICAgICAgKTtcbiAgICAgIGNvbnN0IHRoZW1lQXBpID0gc2FmZVNpdGVTbHVnXG4gICAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnKX0vY29uZmlnL3RoZW1lYFxuICAgICAgICA6IG51bGw7XG5cbiAgICAgIGNvbnN0IGNvbG9yU2VsZWN0cyA9IHtcbiAgICAgICAgcHJpbWFyeTogdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLXByaW1hcnldJyksXG4gICAgICAgIHNlY29uZGFyeTogdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLXNlY29uZGFyeV0nKSxcbiAgICAgICAgYWNjZW50OiB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtYWNjZW50XScpLFxuICAgICAgICBiYWNrZ3JvdW5kOiB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtYmFja2dyb3VuZF0nKSxcbiAgICAgICAgdGV4dDogdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLXRleHRdJyksXG4gICAgICB9O1xuICAgICAgY29uc3QgaGVhZGluZ1NlbGVjdCA9IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1oZWFkaW5nc10nKTtcbiAgICAgIGNvbnN0IGJvZHlTZWxlY3QgPSB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtYm9keV0nKTtcbiAgICAgIGNvbnN0IHJhZGl1c1NtYWxsID0gdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLXJhZGl1cy1zbWFsbF0nKTtcbiAgICAgIGNvbnN0IHJhZGl1c01lZGl1bSA9IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1yYWRpdXMtbWVkaXVtXScpO1xuICAgICAgY29uc3QgcmFkaXVzTGFyZ2UgPSB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtcmFkaXVzLWxhcmdlXScpO1xuICAgICAgY29uc3QgcHJldmlldyA9IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1wcmV2aWV3XScpO1xuICAgICAgY29uc3QgdGhlbWVGZWVkYmFjayA9IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1mZWVkYmFja10nKTtcbiAgICAgIGNvbnN0IGFwcGx5QnV0dG9uID0gdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLWFwcGx5XScpO1xuICAgICAgY29uc3QgdGFpbHdpbmRCYXNlTWFwID0ge1xuICAgICAgICBzbGF0ZTonI2UyZThmMCcsZ3JheTonI2QxZDVkYicsemluYzonI2Q0ZDRkOCcsbmV1dHJhbDonI2Q0ZDRkNCcsc3RvbmU6JyNkNmQzZDEnLFxuICAgICAgICByZWQ6JyNlZjQ0NDQnLG9yYW5nZTonI2Y5NzMxNicsYW1iZXI6JyNmNTllMGInLHllbGxvdzonI2VhYjMwOCcsbGltZTonIzg0Y2MxNicsXG4gICAgICAgIGdyZWVuOicjMjJjNTVlJyxlbWVyYWxkOicjMTBiOTgxJyx0ZWFsOicjMTRiOGE2JyxjeWFuOicjMDZiNmQ0Jyxza3k6JyMwZWE1ZTknLFxuICAgICAgICBibHVlOicjM2I4MmY2JyxpbmRpZ286JyM2MzY2ZjEnLHZpb2xldDonIzhiNWNmNicscHVycGxlOicjYTg1NWY3JyxmdWNoc2lhOicjZDk0NmVmJyxcbiAgICAgICAgcGluazonI2VjNDg5OScscm9zZTonI2Y0M2Y1ZSdcbiAgICAgIH07XG4gICAgICBjb25zdCB0YWlsd2luZFRva2VuVG9IZXggPSAodG9rZW4pID0+IHtcbiAgICAgICAgaWYgKCF0b2tlbikgcmV0dXJuIG51bGw7XG4gICAgICAgIGlmICh0b2tlbiA9PT0gJ3doaXRlJykgcmV0dXJuICcjZmZmZmZmJztcbiAgICAgICAgaWYgKHRva2VuID09PSAnYmxhY2snKSByZXR1cm4gJyMwMDAwMDAnO1xuICAgICAgICBpZiAodG9rZW4gPT09ICd0cmFuc3BhcmVudCcpIHJldHVybiAndHJhbnNwYXJlbnQnO1xuICAgICAgICBjb25zdCBbaCxzXSA9IHRva2VuLnNwbGl0KCctJyk7XG4gICAgICAgIGlmICghaCB8fCAhcykgcmV0dXJuIG51bGw7XG4gICAgICAgIGNvbnN0IGJhc2UgPSB0YWlsd2luZEJhc2VNYXBbaF07XG4gICAgICAgIGlmICghYmFzZSkgcmV0dXJuIG51bGw7XG4gICAgICAgIGNvbnN0IHNoYWRlTnVtID0gTnVtYmVyKHMpIHx8IDUwMDtcbiAgICAgICAgY29uc3QgZmFjdG9yID0gTWF0aC5taW4oTWF0aC5tYXgoKHNoYWRlTnVtIC0gNTApIC8gOTAwLCAwKSwgMSk7XG4gICAgICAgIGNvbnN0IHRvUmdiID0gKGhleCkgPT5cbiAgICAgICAgICBoZXhcbiAgICAgICAgICAgIC5yZXBsYWNlKCcjJywgJycpXG4gICAgICAgICAgICAubWF0Y2goL1tBLUZhLWYwLTldezJ9L2cpXG4gICAgICAgICAgICAubWFwKCh2KSA9PiBwYXJzZUludCh2LCAxNikpO1xuICAgICAgICBjb25zdCBbciwgZywgYl0gPSB0b1JnYihiYXNlKTtcbiAgICAgICAgY29uc3QgbWl4ID0gKHYpID0+IE1hdGgucm91bmQoMjU1IC0gKDI1NSAtIHYpICogZmFjdG9yKTtcbiAgICAgICAgcmV0dXJuIGByZ2IoJHttaXgocil9LCAke21peChnKX0sICR7bWl4KGIpfSlgO1xuICAgICAgfTtcbiAgICAgIGNvbnN0IHRhaWx3aW5kSHVlcyA9IFtcbiAgICAgICAgJ3NsYXRlJywnZ3JheScsJ3ppbmMnLCduZXV0cmFsJywnc3RvbmUnLCdyZWQnLCdvcmFuZ2UnLCdhbWJlcicsJ3llbGxvdycsJ2xpbWUnLCdncmVlbicsJ2VtZXJhbGQnLCd0ZWFsJywnY3lhbicsJ3NreScsJ2JsdWUnLCdpbmRpZ28nLCd2aW9sZXQnLCdwdXJwbGUnLCdmdWNoc2lhJywncGluaycsJ3Jvc2UnXG4gICAgICBdO1xuICAgICAgY29uc3QgdGFpbHdpbmRTaGFkZXMgPSBbJzUwJywnMTAwJywnMjAwJywnMzAwJywnNDAwJywnNTAwJywnNjAwJywnNzAwJywnODAwJywnOTAwJ107XG4gICAgICBjb25zdCB0YWlsd2luZFRva2VucyA9IHRhaWx3aW5kSHVlcy5mbGF0TWFwKChoKT0+dGFpbHdpbmRTaGFkZXMubWFwKChzKT0+YCR7aH0tJHtzfWApKTtcblxuICAgICAgY29uc3QgbmV1dHJhbFRva2VucyA9IFtcbiAgICAgICAgeyB2YWx1ZTogJ3doaXRlJywgbGFiZWw6ICdCbGFuYycsIGNvbG9yOiAnI2ZmZmZmZicsIGVtb2ppOiAnXHUyQjFDJyB9LFxuICAgICAgICB7IHZhbHVlOiAndHJhbnNwYXJlbnQnLCBsYWJlbDogJ1RyYW5zcGFyZW50JywgY29sb3I6ICd0cmFuc3BhcmVudCcsIGVtb2ppOiAnXHUyQjFDJyB9LFxuICAgICAgICB7IHZhbHVlOiAnYmxhY2snLCBsYWJlbDogJ05vaXInLCBjb2xvcjogJyMwMDAwMDAnLCBlbW9qaTogJ1x1MkIxQicgfSxcbiAgICAgIF07XG5cbiAgICAgIGNvbnN0IGNvbG9yT3B0aW9uRGVmaW5pdGlvbnMgPSAoKCkgPT4ge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gW107XG4gICAgICAgIG5ldXRyYWxUb2tlbnMuZm9yRWFjaCgoeyB2YWx1ZSwgbGFiZWwsIGNvbG9yLCBlbW9qaSB9KSA9PiB7XG4gICAgICAgICAgb3B0aW9ucy5wdXNoKHtcbiAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgbGFiZWw6IGAke2Vtb2ppfSAke2xhYmVsfWAsXG4gICAgICAgICAgICBjb2xvcixcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRhaWx3aW5kVG9rZW5zLmZvckVhY2goKHRva2VuKSA9PiB7XG4gICAgICAgICAgY29uc3QgW2gsIHNdID0gdG9rZW4uc3BsaXQoJy0nKTtcbiAgICAgICAgICBjb25zdCBjb2xvclZhbHVlID0gdGFpbHdpbmRUb2tlblRvSGV4KHRva2VuKSB8fCAnI2ZmZmZmZic7XG4gICAgICAgICAgb3B0aW9ucy5wdXNoKHtcbiAgICAgICAgICAgIHZhbHVlOiB0b2tlbixcbiAgICAgICAgICAgIGxhYmVsOiBgJHtoLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgaC5zbGljZSgxKX0gJHtzfWAsXG4gICAgICAgICAgICBjb2xvcjogY29sb3JWYWx1ZSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBvcHRpb25zO1xuICAgICAgfSkoKTtcblxuICAgICAgY29uc3Qgbm9ybWFsaXplU2VsZWN0Q29sb3IgPSAodmFsdWUpID0+XG4gICAgICAgIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgPyB2YWx1ZS50cmltKCkudG9Mb3dlckNhc2UoKSA6ICcnO1xuXG4gICAgICBjb25zdCBmaWxsQ29sb3JPcHRpb25zID0gKHNlbGVjdGVkQ29sb3JzID0ge30pID0+IHtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMoY29sb3JTZWxlY3RzKS5mb3JFYWNoKChba2V5LCBzZWxdKSA9PiB7XG4gICAgICAgICAgaWYgKCFzZWwpIHJldHVybjtcbiAgICAgICAgICBjb25zdCBub3JtYWxpemVkVmFsdWUgPSBub3JtYWxpemVTZWxlY3RDb2xvcihzZWxlY3RlZENvbG9yc1trZXldKTtcbiAgICAgICAgICBzZWwuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgICAgY29sb3JPcHRpb25EZWZpbml0aW9ucy5mb3JFYWNoKCh7IHZhbHVlLCBsYWJlbCwgY29sb3IgfSkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICAgICAgICBvcHRpb24udmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICAgIG9wdGlvbi50ZXh0Q29udGVudCA9IGxhYmVsO1xuICAgICAgICAgICAgb3B0aW9uLmRhdGFzZXQuY29sb3IgPSBjb2xvcjtcbiAgICAgICAgICAgIGlmIChub3JtYWxpemVkVmFsdWUgJiYgbm9ybWFsaXplZFZhbHVlID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgICBvcHRpb24uc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2VsLmFwcGVuZENoaWxkKG9wdGlvbik7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2VsLmRhdGFzZXQuZGVmYXVsdCA9IHNlbC5kYXRhc2V0LmRlZmF1bHQgfHwgc2VsLm9wdGlvbnNbMF0/LnZhbHVlIHx8ICcnO1xuICAgICAgICAgIGlmICghbm9ybWFsaXplZFZhbHVlICYmIHNlbC5kYXRhc2V0LmRlZmF1bHQpIHtcbiAgICAgICAgICAgIHNlbC52YWx1ZSA9IHNlbC5kYXRhc2V0LmRlZmF1bHQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIHN0eWxlU2VsZWN0T3B0aW9ucyhzZWwpO1xuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHNldFRoZW1lRmVlZGJhY2sgPSAobWVzc2FnZSwgdG9uZSA9ICdtdXRlZCcpID0+IHtcbiAgICAgICAgaWYgKCF0aGVtZUZlZWRiYWNrKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGNvbG9yID1cbiAgICAgICAgICB0b25lID09PSAnc3VjY2VzcydcbiAgICAgICAgICAgID8gJ3RleHQtZW1lcmFsZC02MDAnXG4gICAgICAgICAgICA6IHRvbmUgPT09ICdlcnJvcidcbiAgICAgICAgICAgICAgPyAndGV4dC1yb3NlLTYwMCdcbiAgICAgICAgICAgICAgOiAndGV4dC1zbGF0ZS01MDAnO1xuICAgICAgICB0aGVtZUZlZWRiYWNrLnRleHRDb250ZW50ID0gbWVzc2FnZSB8fCAnJztcbiAgICAgICAgdGhlbWVGZWVkYmFjay5jbGFzc05hbWUgPSBgdGV4dC1zbSAke2NvbG9yfWA7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBzeW5jUHJldmlldyA9ICgpID0+IHtcbiAgICAgICAgaWYgKCFwcmV2aWV3KSByZXR1cm47XG4gICAgICAgIGNvbnN0IHRva2VuVG9IZXggPSAodG9rZW4pID0+IHtcbiAgICAgICAgICBpZiAoIXRva2VuKSByZXR1cm4gbnVsbDtcbiAgICAgICAgICAvLyBHXHUwMEU5cmVyIGxlcyBjYXMgc3BcdTAwRTljaWF1eCB3aGl0ZSwgYmxhY2ssIHRyYW5zcGFyZW50XG4gICAgICAgICAgaWYgKHRva2VuID09PSAnd2hpdGUnKSByZXR1cm4gJyNmZmZmZmYnO1xuICAgICAgICAgIGlmICh0b2tlbiA9PT0gJ2JsYWNrJykgcmV0dXJuICcjMDAwMDAwJztcbiAgICAgICAgICBpZiAodG9rZW4gPT09ICd0cmFuc3BhcmVudCcpIHJldHVybiAndHJhbnNwYXJlbnQnO1xuICAgICAgICAgIFxuICAgICAgICAgIGNvbnN0IFtoLHNdPXRva2VuLnNwbGl0KCctJyk7XG4gICAgICAgICAgaWYgKCFoIHx8ICFzKSByZXR1cm4gbnVsbDsgLy8gRm9ybWF0IGludmFsaWRlXG4gICAgICAgICAgXG4gICAgICAgICAgY29uc3QgbWFwID0ge1xuICAgICAgICAgICAgc2xhdGU6JyNlMmU4ZjAnLGdyYXk6JyNkMWQ1ZGInLHppbmM6JyNkNGQ0ZDgnLG5ldXRyYWw6JyNkNGQ0ZDQnLHN0b25lOicjZDZkM2QxJyxcbiAgICAgICAgICAgIHJlZDonI2VmNDQ0NCcsb3JhbmdlOicjZjk3MzE2JyxhbWJlcjonI2Y1OWUwYicseWVsbG93OicjZWFiMzA4JyxsaW1lOicjODRjYzE2JyxcbiAgICAgICAgICAgIGdyZWVuOicjMjJjNTVlJyxlbWVyYWxkOicjMTBiOTgxJyx0ZWFsOicjMTRiOGE2JyxjeWFuOicjMDZiNmQ0Jyxza3k6JyMwZWE1ZTknLFxuICAgICAgICAgICAgYmx1ZTonIzNiODJmNicsaW5kaWdvOicjNjM2NmYxJyx2aW9sZXQ6JyM4YjVjZjYnLHB1cnBsZTonI2E4NTVmNycsZnVjaHNpYTonI2Q5NDZlZicsXG4gICAgICAgICAgICBwaW5rOicjZWM0ODk5Jyxyb3NlOicjZjQzZjVlJ1xuICAgICAgICAgIH07XG4gICAgICAgICAgY29uc3QgYmFzZT1tYXBbaF07XG4gICAgICAgICAgaWYgKCFiYXNlKSByZXR1cm4gbnVsbDtcbiAgICAgICAgICAvLyByb3VnaCBzaGFkZSB0d2VhayB1c2luZyBvcGFjaXR5OyBub3QgZXhhY3QgVGFpbHdpbmQgcGFsZXR0ZSBidXQgcHJldmlldy1mcmllbmRseVxuICAgICAgICAgIGNvbnN0IHNoYWRlTnVtPU51bWJlcihzKXx8NTAwO1xuICAgICAgICAgIGNvbnN0IGZhY3RvciA9IE1hdGgubWluKE1hdGgubWF4KChzaGFkZU51bS01MCkvOTAwLDApLDEpO1xuICAgICAgICAgIGNvbnN0IHRvUmdiPShoZXgpPT5oZXgubWF0Y2goL1tBLUZhLWYwLTldezJ9L2cpLm1hcCgodik9PnBhcnNlSW50KHYsMTYpKTtcbiAgICAgICAgICBjb25zdCBbcixnLGJdPXRvUmdiKGJhc2UucmVwbGFjZSgnIycsJycpKTtcbiAgICAgICAgICBjb25zdCBtaXg9KHYpPT5NYXRoLnJvdW5kKDI1NSAtICgyNTUgLSB2KSpmYWN0b3IpO1xuICAgICAgICAgIHJldHVybiBgcmdiKCR7bWl4KHIpfSwgJHttaXgoZyl9LCAke21peChiKX0pYDtcbiAgICAgICAgfTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1jb2xvci1wcmltYXJ5JywgdGFpbHdpbmRUb2tlblRvSGV4KGNvbG9yU2VsZWN0cy5wcmltYXJ5Py52YWx1ZSkgfHwgJyM5QzZCRkYnKTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1jb2xvci1zZWNvbmRhcnknLCB0YWlsd2luZFRva2VuVG9IZXgoY29sb3JTZWxlY3RzLnNlY29uZGFyeT8udmFsdWUpIHx8ICcjMEVBNUU5Jyk7XG4gICAgICAgIHByZXZpZXcuc3R5bGUuc2V0UHJvcGVydHkoJy0tY29sb3ItYWNjZW50JywgdGFpbHdpbmRUb2tlblRvSGV4KGNvbG9yU2VsZWN0cy5hY2NlbnQ/LnZhbHVlKSB8fCAnI0Y5NzMxNicpO1xuICAgICAgICBwcmV2aWV3LnN0eWxlLnNldFByb3BlcnR5KCctLWNvbG9yLWJhY2tncm91bmQnLCB0YWlsd2luZFRva2VuVG9IZXgoY29sb3JTZWxlY3RzLmJhY2tncm91bmQ/LnZhbHVlKSB8fCAnI0ZGRkZGRicpO1xuICAgICAgICBwcmV2aWV3LnN0eWxlLnNldFByb3BlcnR5KCctLWNvbG9yLXRleHQnLCB0YWlsd2luZFRva2VuVG9IZXgoY29sb3JTZWxlY3RzLnRleHQ/LnZhbHVlKSB8fCAnIzBGMTcyQScpO1xuICAgICAgICBwcmV2aWV3LnN0eWxlLnNldFByb3BlcnR5KCctLWZvbnQtaGVhZGluZ3MnLCBoZWFkaW5nU2VsZWN0Py52YWx1ZSB8fCAnSW50ZXIsIHNhbnMtc2VyaWYnKTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1mb250LWJvZHknLCBib2R5U2VsZWN0Py52YWx1ZSB8fCAnSW50ZXIsIHNhbnMtc2VyaWYnKTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1yYWRpdXMtc21hbGwnLCByYWRpdXNTbWFsbD8udmFsdWUgfHwgJzhweCcpO1xuICAgICAgICBwcmV2aWV3LnN0eWxlLnNldFByb3BlcnR5KCctLXJhZGl1cy1tZWRpdW0nLCByYWRpdXNNZWRpdW0/LnZhbHVlIHx8ICcxNnB4Jyk7XG4gICAgICAgIHByZXZpZXcuc3R5bGUuc2V0UHJvcGVydHkoJy0tcmFkaXVzLWxhcmdlJywgcmFkaXVzTGFyZ2U/LnZhbHVlIHx8ICcyNHB4Jyk7XG4gICAgICAgIHByZXZpZXcuc3R5bGUuYm9yZGVyUmFkaXVzID0gcmFkaXVzTWVkaXVtPy52YWx1ZSB8fCAnMTZweCc7XG4gICAgICB9O1xuXG4gICAgICAvLyBJbml0aWFsaXNlciBsZXMgcHJldmlld3MgZGUgY291bGV1ciBldCBham91dGVyIGxlcyBsaXN0ZW5lcnNcbiAgICAgIGNvbnN0IHN0eWxlVGhlbWVDb2xvckNoaXAgPSAoY2hpcCwgY29sb3IpID0+IHtcbiAgICAgICAgaWYgKCFjaGlwKSByZXR1cm47XG4gICAgICAgIGlmIChjb2xvciA9PT0gJ3RyYW5zcGFyZW50Jykge1xuICAgICAgICAgIGNoaXAuc3R5bGUuYmFja2dyb3VuZCA9ICdyZXBlYXRpbmctY29uaWMtZ3JhZGllbnQoI2NjYyAwJSAyNSUsIHdoaXRlIDAlIDUwJSkgNTAlIC8gOHB4IDhweCc7XG4gICAgICAgICAgY2hpcC5zdHlsZS5ib3JkZXJDb2xvciA9ICcjY2JkNWY1JztcbiAgICAgICAgICBjaGlwLnN0eWxlLmJveFNoYWRvdyA9ICcnO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjaGlwLnN0eWxlLmJhY2tncm91bmQgPSBjb2xvcjtcbiAgICAgICAgY2hpcC5zdHlsZS5ib3JkZXJDb2xvciA9IGNvbG9yO1xuICAgICAgICBjaGlwLnN0eWxlLmJveFNoYWRvdyA9ICcwIDAgMCAxcHggcmdiYSgxNSwyMyw0MiwwLjE1KSc7XG4gICAgICB9O1xuICAgICAgY29uc3QgdXBkYXRlVGhlbWVDb2xvclByZXZpZXcgPSAoc2VsZWN0KSA9PiB7XG4gICAgICAgIGlmICghc2VsZWN0KSByZXR1cm47XG4gICAgICAgIGNvbnN0IHNlbGVjdGVkT3B0aW9uID0gc2VsZWN0Lm9wdGlvbnNbc2VsZWN0LnNlbGVjdGVkSW5kZXhdO1xuICAgICAgICBjb25zdCBjb2xvciA9IHNlbGVjdGVkT3B0aW9uPy5kYXRhc2V0Py5jb2xvciB8fCAnI2ZmZmZmZic7XG4gICAgICAgIGNvbnN0IGNvbG9yUHJldmlldyA9IHNlbGVjdC5jbG9zZXN0KCcucmVsYXRpdmUnKT8ucXVlcnlTZWxlY3RvcignW2RhdGEtY29sb3ItcHJldmlld10nKTtcbiAgICAgICAgaWYgKGNvbG9yUHJldmlldykge1xuICAgICAgICAgIGlmIChjb2xvciA9PT0gJ3RyYW5zcGFyZW50Jykge1xuICAgICAgICAgICAgY29sb3JQcmV2aWV3LnN0eWxlLmJhY2tncm91bmQgPSBUUkFOU1BBUkVOVF9QQVRURVJOO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb2xvclByZXZpZXcuc3R5bGUuYmFja2dyb3VuZCA9IGNvbG9yO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb2xvckNoaXAgPSBzZWxlY3QuY2xvc2VzdCgnLnJlbGF0aXZlJyk/LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLWNvbG9yLWNoaXBdJyk7XG4gICAgICAgIHN0eWxlVGhlbWVDb2xvckNoaXAoY29sb3JDaGlwLCBjb2xvcik7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBpbml0Q29sb3JQcmV2aWV3cyA9ICgpID0+IHtcbiAgICAgICAgT2JqZWN0LnZhbHVlcyhjb2xvclNlbGVjdHMpLmZvckVhY2goKHNlbGVjdCkgPT4ge1xuICAgICAgICAgIGlmICghc2VsZWN0KSByZXR1cm47XG4gICAgICAgICAgc3R5bGVTZWxlY3RPcHRpb25zKHNlbGVjdCk7XG4gICAgICAgICAgdXBkYXRlVGhlbWVDb2xvclByZXZpZXcoc2VsZWN0KTtcbiAgICAgICAgICBzZWxlY3QuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4gdXBkYXRlVGhlbWVDb2xvclByZXZpZXcoc2VsZWN0KSk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcblxuICAgICAgT2JqZWN0LmtleXMoY29sb3JTZWxlY3RzKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgY29sb3JTZWxlY3RzW2tleV0/LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHN5bmNQcmV2aWV3KTtcbiAgICAgIH0pO1xuICAgICAgW2hlYWRpbmdTZWxlY3QsIGJvZHlTZWxlY3QsIHJhZGl1c1NtYWxsLCByYWRpdXNNZWRpdW0sIHJhZGl1c0xhcmdlXS5mb3JFYWNoKChlbCkgPT4ge1xuICAgICAgICBlbD8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgc3luY1ByZXZpZXcpO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGxvYWRUaGVtZSA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKCF0aGVtZUFwaSkgcmV0dXJuO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godGhlbWVBcGksIHtcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZScsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgcmV0dXJuO1xuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgY29uc3QgdGhlbWVDb2xvcnMgPSBwYXlsb2FkLmNvbG9ycyB8fCB7fTtcbiAgICAgICAgICBmaWxsQ29sb3JPcHRpb25zKHRoZW1lQ29sb3JzKTtcbiAgICAgICAgICBPYmplY3QuZW50cmllcyhjb2xvclNlbGVjdHMpLmZvckVhY2goKFtrZXksIHNlbGVjdF0pID0+IHtcbiAgICAgICAgICAgIGlmICghc2VsZWN0KSByZXR1cm47XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHRoZW1lQ29sb3JzW2tleV07XG4gICAgICAgICAgICBjb25zdCBub3JtYWxpemVkVmFsdWUgPSBub3JtYWxpemVTZWxlY3RDb2xvcih2YWx1ZSk7XG4gICAgICAgICAgICBpZiAobm9ybWFsaXplZFZhbHVlKSB7XG4gICAgICAgICAgICAgIHNlbGVjdC52YWx1ZSA9IG5vcm1hbGl6ZWRWYWx1ZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgc2VsZWN0LnZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHNlbGVjdC5kYXRhc2V0LmRlZmF1bHQpIHtcbiAgICAgICAgICAgICAgc2VsZWN0LnZhbHVlID0gc2VsZWN0LmRhdGFzZXQuZGVmYXVsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHVwZGF0ZVRoZW1lQ29sb3JQcmV2aWV3KHNlbGVjdCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaWYgKGhlYWRpbmdTZWxlY3QpIGhlYWRpbmdTZWxlY3QudmFsdWUgPSBwYXlsb2FkLnR5cG9ncmFwaHk/LmhlYWRpbmdzIHx8ICdJbnRlciwgc2Fucy1zZXJpZic7XG4gICAgICAgICAgaWYgKGJvZHlTZWxlY3QpIGJvZHlTZWxlY3QudmFsdWUgPSBwYXlsb2FkLnR5cG9ncmFwaHk/LmJvZHkgfHwgJ0ludGVyLCBzYW5zLXNlcmlmJztcbiAgICAgICAgICBpZiAocmFkaXVzU21hbGwpIHJhZGl1c1NtYWxsLnZhbHVlID0gcGF5bG9hZC5yYWRpdXM/LnNtYWxsIHx8ICc4cHgnO1xuICAgICAgICAgIGlmIChyYWRpdXNNZWRpdW0pIHJhZGl1c01lZGl1bS52YWx1ZSA9IHBheWxvYWQucmFkaXVzPy5tZWRpdW0gfHwgJzE2cHgnO1xuICAgICAgICAgIGlmIChyYWRpdXNMYXJnZSkgcmFkaXVzTGFyZ2UudmFsdWUgPSBwYXlsb2FkLnJhZGl1cz8ubGFyZ2UgfHwgJzI0cHgnO1xuICAgICAgICAgIHN5bmNQcmV2aWV3KCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gbG9hZCB0aGVtZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBhcHBseUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKCF0aGVtZUFwaSkge1xuICAgICAgICAgIHNldFRoZW1lRmVlZGJhY2soJ0F1Y3VuIHNpdGUgYWN0aWYuJywgJ2Vycm9yJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgICAgY29sb3JzOiB7XG4gICAgICAgICAgICBwcmltYXJ5OiBjb2xvclNlbGVjdHMucHJpbWFyeT8udmFsdWUgfHwgJ3Zpb2xldC01MDAnLFxuICAgICAgICAgICAgc2Vjb25kYXJ5OiBjb2xvclNlbGVjdHMuc2Vjb25kYXJ5Py52YWx1ZSB8fCAnaW5kaWdvLTQwMCcsXG4gICAgICAgICAgICBhY2NlbnQ6IGNvbG9yU2VsZWN0cy5hY2NlbnQ/LnZhbHVlIHx8ICdlbWVyYWxkLTUwMCcsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiBjb2xvclNlbGVjdHMuYmFja2dyb3VuZD8udmFsdWUgfHwgJ3NsYXRlLTUwJyxcbiAgICAgICAgICAgIHRleHQ6IGNvbG9yU2VsZWN0cy50ZXh0Py52YWx1ZSB8fCAnc2xhdGUtOTAwJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHR5cG9ncmFwaHk6IHtcbiAgICAgICAgICAgIGhlYWRpbmdzOiBoZWFkaW5nU2VsZWN0Py52YWx1ZSB8fCAnSW50ZXIsIHNhbnMtc2VyaWYnLFxuICAgICAgICAgICAgYm9keTogYm9keVNlbGVjdD8udmFsdWUgfHwgJ0ludGVyLCBzYW5zLXNlcmlmJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHJhZGl1czoge1xuICAgICAgICAgICAgc21hbGw6IHJhZGl1c1NtYWxsPy52YWx1ZSB8fCAnOHB4JyxcbiAgICAgICAgICAgIG1lZGl1bTogcmFkaXVzTWVkaXVtPy52YWx1ZSB8fCAnMTZweCcsXG4gICAgICAgICAgICBsYXJnZTogcmFkaXVzTGFyZ2U/LnZhbHVlIHx8ICcyNHB4JyxcbiAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgICBhcHBseUJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIHNldFRoZW1lRmVlZGJhY2soJycpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godGhlbWVBcGksIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZScsXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vayB8fCByZXN1bHQuc3VjY2VzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQubWVzc2FnZSB8fCAnQXBwbGljYXRpb24gZHUgdGhcdTAwRThtZSBcdTAwRTljaG91XHUwMEU5ZS4nKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYXdhaXQgbG9hZFRoZW1lKCk7XG4gICAgICAgICAgc2V0VGhlbWVGZWVkYmFjayhyZXN1bHQubWVzc2FnZSB8fCAnVGhcdTAwRThtZSBhcHBsaXF1XHUwMEU5LicsICdzdWNjZXNzJyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gYXBwbHkgdGhlbWUgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgICBzZXRUaGVtZUZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsXHUyMDE5YXBwbGljYXRpb24gZHUgdGhcdTAwRThtZS4nLCAnZXJyb3InKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBhcHBseUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgZmlsbENvbG9yT3B0aW9ucygpO1xuICAgICAgaW5pdENvbG9yUHJldmlld3MoKTtcbiAgICAgIGxvYWRUaGVtZSgpO1xuICAgICAgc3luY1ByZXZpZXcoKTtcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2FpLXRoZW1lLXVwZGF0ZWQnLCAoKSA9PiB7XG4gICAgICAgIGxvYWRUaGVtZSgpO1xuICAgICAgICBzZXRUaGVtZUZlZWRiYWNrKCdUaFx1MDBFOG1lIG1pcyBcdTAwRTAgam91ci4nLCAnc3VjY2VzcycpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gU0VPIENvbmZpZyBmb3JtIChVUzkuQjEpXG4gICAgY29uc3Qgc2VvQ29uZmlnRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby1jb25maWctZm9ybV0nKTtcbiAgICBpZiAoc2VvQ29uZmlnRm9ybSkge1xuICAgICAgY29uc3QgaW5kZXhBbGxDaGVja2JveCA9IHNlb0NvbmZpZ0Zvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtc2VvLWluZGV4LWFsbF0nKTtcbiAgICAgIGNvbnN0IHNlb0NvbmZpZ0ZlZWRiYWNrID0gc2VvQ29uZmlnRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8tY29uZmlnLWZlZWRiYWNrXScpO1xuICAgICAgY29uc3Qgc2VvU2F2ZUJ1dHRvbiA9IHNlb0NvbmZpZ0Zvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtc2VvLXNhdmVdJyk7XG5cbiAgICAgIGNvbnN0IHNhZmVTaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKFxuICAgICAgICB3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnLFxuICAgICAgKTtcbiAgICAgIGNvbnN0IHNpdGVDb25maWdBcGkgPSBzYWZlU2l0ZVNsdWdcbiAgICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9jb25maWcvc2l0ZWBcbiAgICAgICAgOiBudWxsO1xuXG4gICAgICBjb25zdCBzZXRTZW9GZWVkYmFjayA9IChtZXNzYWdlLCB0b25lID0gJ211dGVkJykgPT4ge1xuICAgICAgICBpZiAoIXNlb0NvbmZpZ0ZlZWRiYWNrKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGNvbG9yID1cbiAgICAgICAgICB0b25lID09PSAnc3VjY2VzcydcbiAgICAgICAgICAgID8gJ3RleHQtZW1lcmFsZC02MDAnXG4gICAgICAgICAgICA6IHRvbmUgPT09ICdlcnJvcidcbiAgICAgICAgICAgICAgPyAndGV4dC1yb3NlLTYwMCdcbiAgICAgICAgICAgICAgOiAndGV4dC1zbGF0ZS01MDAnO1xuICAgICAgICBzZW9Db25maWdGZWVkYmFjay50ZXh0Q29udGVudCA9IG1lc3NhZ2UgfHwgJyc7XG4gICAgICAgIHNlb0NvbmZpZ0ZlZWRiYWNrLmNsYXNzTmFtZSA9IGB0ZXh0LXNtICR7Y29sb3J9YDtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGxvYWRTZW9Db25maWcgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIGlmICghc2l0ZUNvbmZpZ0FwaSkgcmV0dXJuO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goc2l0ZUNvbmZpZ0FwaSwgeyBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgcmV0dXJuO1xuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgY29uc3QgaW5kZXhBbGwgPSBwYXlsb2FkLnNlbz8uaW5kZXhBbGxQYWdlc0J5RGVmYXVsdCAhPT0gZmFsc2U7XG4gICAgICAgICAgaWYgKGluZGV4QWxsQ2hlY2tib3gpIGluZGV4QWxsQ2hlY2tib3guY2hlY2tlZCA9IGluZGV4QWxsO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIGxvYWQgc2VvIGNvbmZpZyBmYWlsZWQnLCBlcnIpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBzZW9Db25maWdGb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAoIXNpdGVDb25maWdBcGkpIHtcbiAgICAgICAgICBzZXRTZW9GZWVkYmFjaygnQXVjdW4gc2l0ZSBhY3RpZi4nLCAnZXJyb3InKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc2VvU2F2ZUJ1dHRvbiAmJiAoc2VvU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWUpO1xuICAgICAgICBzZXRTZW9GZWVkYmFjaygnJyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gRmlyc3QgbG9hZCBjdXJyZW50IGNvbmZpZyB0byBwcmVzZXJ2ZSBvdGhlciBmaWVsZHNcbiAgICAgICAgICBjb25zdCBjdXJyZW50UmVzID0gYXdhaXQgZmV0Y2goc2l0ZUNvbmZpZ0FwaSwgeyBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSk7XG4gICAgICAgICAgY29uc3QgY3VycmVudENvbmZpZyA9IGN1cnJlbnRSZXMub2sgPyBhd2FpdCBjdXJyZW50UmVzLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKSA6IHt9O1xuXG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgICAgIC4uLmN1cnJlbnRDb25maWcsXG4gICAgICAgICAgICBzZW86IHtcbiAgICAgICAgICAgICAgLi4uKGN1cnJlbnRDb25maWcuc2VvIHx8IHt9KSxcbiAgICAgICAgICAgICAgaW5kZXhBbGxQYWdlc0J5RGVmYXVsdDogaW5kZXhBbGxDaGVja2JveD8uY2hlY2tlZCA/PyB0cnVlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9O1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goc2l0ZUNvbmZpZ0FwaSwge1xuICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2sgfHwgcmVzdWx0LnN1Y2Nlc3MgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzdWx0Lm1lc3NhZ2UgfHwgJ1NhdXZlZ2FyZGUgaW1wb3NzaWJsZS4nKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0U2VvRmVlZGJhY2socmVzdWx0Lm1lc3NhZ2UgfHwgJ1BhcmFtXHUwMEU4dHJlcyBTRU8gZW5yZWdpc3RyXHUwMEU5cy4nLCAnc3VjY2VzcycpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIHNhdmUgc2VvIGNvbmZpZyBmYWlsZWQnLCBlcnIpO1xuICAgICAgICAgIHNldFNlb0ZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsYSBzYXV2ZWdhcmRlLicsICdlcnJvcicpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIHNlb1NhdmVCdXR0b24gJiYgKHNlb1NhdmVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBsb2FkU2VvQ29uZmlnKCk7XG4gICAgfVxuXG4gICAgLy8gQW5hbHl0aWNzIGZvcm0gKFVTOS5CMilcbiAgICBjb25zdCBhbmFseXRpY3NGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYW5hbHl0aWNzLWZvcm1dJyk7XG4gICAgaWYgKGFuYWx5dGljc0Zvcm0pIHtcbiAgICAgIGNvbnN0IGhlYWRUZXh0YXJlYSA9IGFuYWx5dGljc0Zvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYW5hbHl0aWNzLWhlYWRdJyk7XG4gICAgICBjb25zdCBib2R5VGV4dGFyZWEgPSBhbmFseXRpY3NGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFuYWx5dGljcy1ib2R5XScpO1xuICAgICAgY29uc3QgYW5hbHl0aWNzRmVlZGJhY2sgPSBhbmFseXRpY3NGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFuYWx5dGljcy1mZWVkYmFja10nKTtcbiAgICAgIGNvbnN0IGFuYWx5dGljc1NhdmVCdXR0b24gPSBhbmFseXRpY3NGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFuYWx5dGljcy1zYXZlXScpO1xuXG4gICAgICBjb25zdCBzYWZlU2l0ZVNsdWcgPSBzdHJpcExlYWRpbmdTbGFzaChcbiAgICAgICAgd29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyxcbiAgICAgICk7XG4gICAgICBjb25zdCBzaXRlQ29uZmlnQXBpID0gc2FmZVNpdGVTbHVnXG4gICAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnKX0vY29uZmlnL3NpdGVgXG4gICAgICAgIDogbnVsbDtcblxuICAgICAgY29uc3Qgc2V0QW5hbHl0aWNzRmVlZGJhY2sgPSAobWVzc2FnZSwgdG9uZSA9ICdtdXRlZCcpID0+IHtcbiAgICAgICAgaWYgKCFhbmFseXRpY3NGZWVkYmFjaykgcmV0dXJuO1xuICAgICAgICBjb25zdCBjb2xvciA9XG4gICAgICAgICAgdG9uZSA9PT0gJ3N1Y2Nlc3MnXG4gICAgICAgICAgICA/ICd0ZXh0LWVtZXJhbGQtNjAwJ1xuICAgICAgICAgICAgOiB0b25lID09PSAnZXJyb3InXG4gICAgICAgICAgICAgID8gJ3RleHQtcm9zZS02MDAnXG4gICAgICAgICAgICAgIDogJ3RleHQtc2xhdGUtNTAwJztcbiAgICAgICAgYW5hbHl0aWNzRmVlZGJhY2sudGV4dENvbnRlbnQgPSBtZXNzYWdlIHx8ICcnO1xuICAgICAgICBhbmFseXRpY3NGZWVkYmFjay5jbGFzc05hbWUgPSBgdGV4dC1zbSAke2NvbG9yfWA7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBsb2FkQW5hbHl0aWNzQ29uZmlnID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoIXNpdGVDb25maWdBcGkpIHJldHVybjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHNpdGVDb25maWdBcGksIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHJldHVybjtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIGlmIChoZWFkVGV4dGFyZWEpIGhlYWRUZXh0YXJlYS52YWx1ZSA9IHBheWxvYWQuYW5hbHl0aWNzPy5oZWFkQ29kZSB8fCAnJztcbiAgICAgICAgICBpZiAoYm9keVRleHRhcmVhKSBib2R5VGV4dGFyZWEudmFsdWUgPSBwYXlsb2FkLmFuYWx5dGljcz8uYm9keUVuZENvZGUgfHwgJyc7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gbG9hZCBhbmFseXRpY3MgY29uZmlnIGZhaWxlZCcsIGVycik7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGFuYWx5dGljc0Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmICghc2l0ZUNvbmZpZ0FwaSkge1xuICAgICAgICAgIHNldEFuYWx5dGljc0ZlZWRiYWNrKCdBdWN1biBzaXRlIGFjdGlmLicsICdlcnJvcicpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBhbmFseXRpY3NTYXZlQnV0dG9uICYmIChhbmFseXRpY3NTYXZlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZSk7XG4gICAgICAgIHNldEFuYWx5dGljc0ZlZWRiYWNrKCcnKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBGaXJzdCBsb2FkIGN1cnJlbnQgY29uZmlnIHRvIHByZXNlcnZlIG90aGVyIGZpZWxkc1xuICAgICAgICAgIGNvbnN0IGN1cnJlbnRSZXMgPSBhd2FpdCBmZXRjaChzaXRlQ29uZmlnQXBpLCB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcbiAgICAgICAgICBjb25zdCBjdXJyZW50Q29uZmlnID0gY3VycmVudFJlcy5vayA/IGF3YWl0IGN1cnJlbnRSZXMuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpIDoge307XG5cbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICAgICAgLi4uY3VycmVudENvbmZpZyxcbiAgICAgICAgICAgIGFuYWx5dGljczoge1xuICAgICAgICAgICAgICBoZWFkQ29kZTogaGVhZFRleHRhcmVhPy52YWx1ZSB8fCAnJyxcbiAgICAgICAgICAgICAgYm9keUVuZENvZGU6IGJvZHlUZXh0YXJlYT8udmFsdWUgfHwgJycsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH07XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChzaXRlQ29uZmlnQXBpLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vayB8fCByZXN1bHQuc3VjY2VzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQubWVzc2FnZSB8fCAnU2F1dmVnYXJkZSBpbXBvc3NpYmxlLicpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXRBbmFseXRpY3NGZWVkYmFjayhyZXN1bHQubWVzc2FnZSB8fCAnU2NyaXB0cyBlbnJlZ2lzdHJcdTAwRTlzLicsICdzdWNjZXNzJyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gc2F2ZSBhbmFseXRpY3MgY29uZmlnIGZhaWxlZCcsIGVycik7XG4gICAgICAgICAgc2V0QW5hbHl0aWNzRmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGRlIGxhIHNhdXZlZ2FyZGUuJywgJ2Vycm9yJyk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgYW5hbHl0aWNzU2F2ZUJ1dHRvbiAmJiAoYW5hbHl0aWNzU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGxvYWRBbmFseXRpY3NDb25maWcoKTtcbiAgICB9XG5cbiAgICBjb25zdCBhY2Nlc3NpYmlsaXR5Rm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFjY2Vzc2liaWxpdHktZm9ybV0nKTtcbiAgICBpZiAoYWNjZXNzaWJpbGl0eUZvcm0pIHtcbiAgICAgIGNvbnN0IGFuaW1hdGlvbnNUb2dnbGUgPSBhY2Nlc3NpYmlsaXR5Rm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hY2Nlc3NpYmlsaXR5LWFuaW1hdGlvbnNdJyk7XG4gICAgICBjb25zdCBjb250cmFzdFRvZ2dsZSA9IGFjY2Vzc2liaWxpdHlGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFjY2Vzc2liaWxpdHktY29udHJhc3RdJyk7XG4gICAgICBjb25zdCBhY2Nlc3NpYmlsaXR5RmVlZGJhY2sgPSBhY2Nlc3NpYmlsaXR5Rm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hY2Nlc3NpYmlsaXR5LWZlZWRiYWNrXScpO1xuICAgICAgY29uc3QgYWNjZXNzaWJpbGl0eVNhdmVCdXR0b24gPSBhY2Nlc3NpYmlsaXR5Rm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hY2Nlc3NpYmlsaXR5LXNhdmVdJyk7XG5cbiAgICAgIGNvbnN0IHNhZmVTaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKFxuICAgICAgICB3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnLFxuICAgICAgKTtcbiAgICAgIGNvbnN0IHNpdGVDb25maWdBcGkgPSBzYWZlU2l0ZVNsdWdcbiAgICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9jb25maWcvc2l0ZWBcbiAgICAgICAgOiBudWxsO1xuXG4gICAgICBjb25zdCBzZXRBY2Nlc3NpYmlsaXR5RmVlZGJhY2sgPSAobWVzc2FnZSwgdG9uZSA9ICdtdXRlZCcpID0+IHtcbiAgICAgICAgaWYgKCFhY2Nlc3NpYmlsaXR5RmVlZGJhY2spIHJldHVybjtcbiAgICAgICAgY29uc3QgY29sb3IgPVxuICAgICAgICAgIHRvbmUgPT09ICdzdWNjZXNzJ1xuICAgICAgICAgICAgPyAndGV4dC1lbWVyYWxkLTYwMCdcbiAgICAgICAgICAgIDogdG9uZSA9PT0gJ2Vycm9yJ1xuICAgICAgICAgICAgICA/ICd0ZXh0LXJvc2UtNjAwJ1xuICAgICAgICAgICAgICA6ICd0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICAgIGFjY2Vzc2liaWxpdHlGZWVkYmFjay50ZXh0Q29udGVudCA9IG1lc3NhZ2UgfHwgJyc7XG4gICAgICAgIGFjY2Vzc2liaWxpdHlGZWVkYmFjay5jbGFzc05hbWUgPSBgdGV4dC1zbSAke2NvbG9yfWA7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBsb2FkQWNjZXNzaWJpbGl0eUNvbmZpZyA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKCFzaXRlQ29uZmlnQXBpKSByZXR1cm47XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChzaXRlQ29uZmlnQXBpLCB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSByZXR1cm47XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICBpZiAoYW5pbWF0aW9uc1RvZ2dsZSkge1xuICAgICAgICAgICAgYW5pbWF0aW9uc1RvZ2dsZS5jaGVja2VkID0gcGF5bG9hZC5hY2Nlc3NpYmlsaXR5Py5hbmltYXRpb25zRW5hYmxlZCAhPT0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChjb250cmFzdFRvZ2dsZSkge1xuICAgICAgICAgICAgY29udHJhc3RUb2dnbGUuY2hlY2tlZCA9IHBheWxvYWQuYWNjZXNzaWJpbGl0eT8uaGlnaENvbnRyYXN0ID09PSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3NldHRpbmdzXSBsb2FkIGFjY2Vzc2liaWxpdHkgY29uZmlnIGZhaWxlZCcsIGVycik7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGFjY2Vzc2liaWxpdHlGb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAoIXNpdGVDb25maWdBcGkpIHtcbiAgICAgICAgICBzZXRBY2Nlc3NpYmlsaXR5RmVlZGJhY2soJ0F1Y3VuIHNpdGUgYWN0aWYuJywgJ2Vycm9yJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGFjY2Vzc2liaWxpdHlTYXZlQnV0dG9uICYmIChhY2Nlc3NpYmlsaXR5U2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWUpO1xuICAgICAgICBzZXRBY2Nlc3NpYmlsaXR5RmVlZGJhY2soJycpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IGN1cnJlbnRSZXMgPSBhd2FpdCBmZXRjaChzaXRlQ29uZmlnQXBpLCB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcbiAgICAgICAgICBjb25zdCBjdXJyZW50Q29uZmlnID0gY3VycmVudFJlcy5vayA/IGF3YWl0IGN1cnJlbnRSZXMuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpIDoge307XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgICAgIC4uLmN1cnJlbnRDb25maWcsXG4gICAgICAgICAgICBhY2Nlc3NpYmlsaXR5OiB7XG4gICAgICAgICAgICAgIGFuaW1hdGlvbnNFbmFibGVkOiBhbmltYXRpb25zVG9nZ2xlPy5jaGVja2VkID8/IHRydWUsXG4gICAgICAgICAgICAgIGhpZ2hDb250cmFzdDogY29udHJhc3RUb2dnbGU/LmNoZWNrZWQgPz8gZmFsc2UsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH07XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChzaXRlQ29uZmlnQXBpLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vayB8fCByZXN1bHQuc3VjY2VzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQubWVzc2FnZSB8fCAnU2F1dmVnYXJkZSBpbXBvc3NpYmxlLicpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXRBY2Nlc3NpYmlsaXR5RmVlZGJhY2socmVzdWx0Lm1lc3NhZ2UgfHwgJ1ByXHUwMEU5Zlx1MDBFOXJlbmNlcyBtaXNlcyBcdTAwRTAgam91ci4nLCAnc3VjY2VzcycpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIHNhdmUgYWNjZXNzaWJpbGl0eSBjb25maWcgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgICBzZXRBY2Nlc3NpYmlsaXR5RmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGRlIGxhIHNhdXZlZ2FyZGUuJywgJ2Vycm9yJyk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgYWNjZXNzaWJpbGl0eVNhdmVCdXR0b24gJiYgKGFjY2Vzc2liaWxpdHlTYXZlQnV0dG9uLmRpc2FibGVkID0gZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgbG9hZEFjY2Vzc2liaWxpdHlDb25maWcoKTtcbiAgICB9XG5cbiAgICAvLyBBSSBDb25maWcgZm9ybSAoVVMgLSBBSSBBc3Npc3RhbnQpXG4gICAgY29uc3QgYWlDb25maWdGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWktY29uZmlnLWZvcm1dJyk7XG4gICAgaWYgKGFpQ29uZmlnRm9ybSkge1xuICAgICAgY29uc3QgYXBpS2V5SW5wdXQgPSBhaUNvbmZpZ0Zvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYWktYXBpLWtleV0nKTtcbiAgICAgIGNvbnN0IG1vZGVsU2VsZWN0ID0gYWlDb25maWdGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFpLW1vZGVsXScpO1xuICAgICAgY29uc3QgcHJvamVjdFByb21wdFRleHRhcmVhID0gYWlDb25maWdGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFpLXByb2plY3QtcHJvbXB0XScpO1xuICAgICAgY29uc3QgZW5hYmxlZENoZWNrYm94ID0gYWlDb25maWdGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFpLWVuYWJsZWRdJyk7XG4gICAgICBjb25zdCBhaUZlZWRiYWNrID0gYWlDb25maWdGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFpLWZlZWRiYWNrXScpO1xuICAgICAgY29uc3QgYWlTYXZlQnV0dG9uID0gYWlDb25maWdGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFpLXNhdmVdJyk7XG5cbiAgICAgIGNvbnN0IHNhZmVTaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKFxuICAgICAgICB3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnLFxuICAgICAgKTtcbiAgICAgIGNvbnN0IGFpQ29uZmlnQXBpID0gc2FmZVNpdGVTbHVnXG4gICAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnKX0vY29uZmlnL2FpYFxuICAgICAgICA6IG51bGw7XG5cbiAgICAgIGNvbnN0IHNldEFJRmVlZGJhY2sgPSAobWVzc2FnZSwgdG9uZSA9ICdtdXRlZCcpID0+IHtcbiAgICAgICAgaWYgKCFhaUZlZWRiYWNrKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGNvbG9yID1cbiAgICAgICAgICB0b25lID09PSAnc3VjY2VzcydcbiAgICAgICAgICAgID8gJ3RleHQtZW1lcmFsZC02MDAnXG4gICAgICAgICAgICA6IHRvbmUgPT09ICdlcnJvcidcbiAgICAgICAgICAgICAgPyAndGV4dC1yb3NlLTYwMCdcbiAgICAgICAgICAgICAgOiAndGV4dC1zbGF0ZS01MDAnO1xuICAgICAgICBhaUZlZWRiYWNrLnRleHRDb250ZW50ID0gbWVzc2FnZSB8fCAnJztcbiAgICAgICAgYWlGZWVkYmFjay5jbGFzc05hbWUgPSBgdGV4dC1zbSAke2NvbG9yfWA7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBsb2FkQUlDb25maWcgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIGlmICghYWlDb25maWdBcGkpIHJldHVybjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGFpQ29uZmlnQXBpLCB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSByZXR1cm47XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICAvLyBBUEkga2V5IGlzIG1hc2tlZCwgd2Ugc2hvdyBwbGFjZWhvbGRlciBpZiBpdCBleGlzdHNcbiAgICAgICAgICBpZiAoYXBpS2V5SW5wdXQpIHtcbiAgICAgICAgICAgIGFwaUtleUlucHV0LnZhbHVlID0gJyc7XG4gICAgICAgICAgICBhcGlLZXlJbnB1dC5wbGFjZWhvbGRlciA9IHBheWxvYWQuaGFzQXBpS2V5ID8gJ1x1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMicgOiAnQ2xcdTAwRTkgQVBJIEdlbWluaSc7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChtb2RlbFNlbGVjdCkgbW9kZWxTZWxlY3QudmFsdWUgPSBwYXlsb2FkLm1vZGVsIHx8ICdnZW1pbmktMi41LWZsYXNoJztcbiAgICAgICAgICBpZiAocHJvamVjdFByb21wdFRleHRhcmVhKSBwcm9qZWN0UHJvbXB0VGV4dGFyZWEudmFsdWUgPSBwYXlsb2FkLnByb2plY3RQcm9tcHQgfHwgJyc7XG4gICAgICAgICAgaWYgKGVuYWJsZWRDaGVja2JveCkgZW5hYmxlZENoZWNrYm94LmNoZWNrZWQgPSBwYXlsb2FkLmVuYWJsZWQgIT09IGZhbHNlO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIGxvYWQgQUkgY29uZmlnIGZhaWxlZCcsIGVycik7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGFpQ29uZmlnRm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKCFhaUNvbmZpZ0FwaSkge1xuICAgICAgICAgIHNldEFJRmVlZGJhY2soJ0F1Y3VuIHNpdGUgYWN0aWYuJywgJ2Vycm9yJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGFpU2F2ZUJ1dHRvbiAmJiAoYWlTYXZlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZSk7XG4gICAgICAgIHNldEFJRmVlZGJhY2soJycpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgICAgICBtb2RlbDogbW9kZWxTZWxlY3Q/LnZhbHVlIHx8ICdnZW1pbmktMi41LWZsYXNoJyxcbiAgICAgICAgICAgIHByb2plY3RQcm9tcHQ6IHByb2plY3RQcm9tcHRUZXh0YXJlYT8udmFsdWUgfHwgJycsXG4gICAgICAgICAgICBlbmFibGVkOiBlbmFibGVkQ2hlY2tib3g/LmNoZWNrZWQgPz8gdHJ1ZSxcbiAgICAgICAgICB9O1xuICAgICAgICAgIC8vIE9ubHkgaW5jbHVkZSBhcGlLZXkgaWYgdGhlIHVzZXIgZW50ZXJlZCBvbmUgKG5vdCBlbXB0eSlcbiAgICAgICAgICBjb25zdCBhcGlLZXlWYWx1ZSA9IGFwaUtleUlucHV0Py52YWx1ZT8udHJpbSgpO1xuICAgICAgICAgIGlmIChhcGlLZXlWYWx1ZSkge1xuICAgICAgICAgICAgcGF5bG9hZC5hcGlLZXkgPSBhcGlLZXlWYWx1ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGFpQ29uZmlnQXBpLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vayB8fCByZXN1bHQuc3VjY2VzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQubWVzc2FnZSB8fCAnU2F1dmVnYXJkZSBpbXBvc3NpYmxlLicpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXRBSUZlZWRiYWNrKHJlc3VsdC5tZXNzYWdlIHx8ICdDb25maWd1cmF0aW9uIElBIGVucmVnaXN0clx1MDBFOWUuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgICAvLyBDbGVhciB0aGUgQVBJIGtleSBmaWVsZCBhZnRlciBzdWNjZXNzZnVsIHNhdmVcbiAgICAgICAgICBpZiAoYXBpS2V5SW5wdXQpIHtcbiAgICAgICAgICAgIGFwaUtleUlucHV0LnZhbHVlID0gJyc7XG4gICAgICAgICAgICBhcGlLZXlJbnB1dC5wbGFjZWhvbGRlciA9ICdcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjInO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3NldHRpbmdzXSBzYXZlIEFJIGNvbmZpZyBmYWlsZWQnLCBlcnIpO1xuICAgICAgICAgIHNldEFJRmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGRlIGxhIHNhdXZlZ2FyZGUuJywgJ2Vycm9yJyk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgYWlTYXZlQnV0dG9uICYmIChhaVNhdmVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBsb2FkQUlDb25maWcoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBpbml0TWVkaWFXb3Jrc3BhY2UoKSB7XG4gICAgY29uc3QgZ3JpZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWdyaWRdJyk7XG4gICAgaWYgKCFncmlkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGVtcHR5U3RhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1lbXB0eV0nKTtcbiAgICBjb25zdCBjb3VudEJhZGdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtY291bnRdJyk7XG4gICAgY29uc3QgZmlsdGVyVHlwZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWZpbHRlci10eXBlXScpO1xuICAgIGNvbnN0IGRldGFpbEVtcHR5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGV0YWlsLWVtcHR5XScpO1xuICAgIGNvbnN0IGRldGFpbFBhbmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGV0YWlsXScpO1xuICAgIGNvbnN0IGRldGFpbFByZXZpZXcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZXRhaWwtcHJldmlld10nKTtcbiAgICBjb25zdCBkZXRhaWxOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGV0YWlsLW5hbWVdJyk7XG4gICAgY29uc3QgZGV0YWlsVHlwZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRldGFpbC10eXBlXScpO1xuICAgIGNvbnN0IGRldGFpbFNpemUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZXRhaWwtc2l6ZV0nKTtcbiAgICBjb25zdCBkZXRhaWxQYXRoID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGV0YWlsLXBhdGhdJyk7XG4gICAgY29uc3QgZGV0YWlsVXNlZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRldGFpbC11c2VkXScpO1xuICAgIGNvbnN0IGRldGFpbEFsdElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtYWx0LWVkaXRdJyk7XG4gICAgY29uc3QgZGV0YWlsU2F2ZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLXNhdmVdJyk7XG4gICAgY29uc3QgZGV0YWlsRGVsZXRlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGVsZXRlXScpO1xuICAgIGNvbnN0IGRlbGV0ZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGVsZXRlLW1vZGFsXScpO1xuICAgIGNvbnN0IGRlbGV0ZUNhbmNlbEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRlbGV0ZS1jYW5jZWxdJyk7XG4gICAgY29uc3QgZGVsZXRlQ29uZmlybUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRlbGV0ZS1jb25maXJtXScpO1xuICAgIGNvbnN0IHVwbG9hZE9wZW5CdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS11cGxvYWQtb3Blbl0nKTtcbiAgICBjb25zdCBmaWxlSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1maWxlLWlucHV0XScpO1xuICAgIGNvbnN0IHVwbG9hZFN0YXR1cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLXVwbG9hZC1zdGF0dXNdJyk7XG5cbiAgICBjb25zdCBzYWZlU2l0ZVNsdWdWYWx1ZSA9IHN0cmlwTGVhZGluZ1NsYXNoKFxuICAgICAgd29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyxcbiAgICApO1xuICAgIGNvbnN0IG1lZGlhQXBpQmFzZSA9IHNhZmVTaXRlU2x1Z1ZhbHVlXG4gICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Z1ZhbHVlKX0vbWVkaWFgXG4gICAgICA6IG51bGw7XG5cbiAgICBsZXQgbWVkaWFJdGVtcyA9IFtdO1xuICAgIGxldCBmaWx0ZXJlZEl0ZW1zID0gW107XG4gICAgbGV0IGFjdGl2ZU1lZGlhSWQgPSBudWxsO1xuICAgIGxldCBoaWdobGlnaHRNZWRpYUlkID0gbnVsbDtcbiAgICBsZXQgcGVuZGluZ1VwbG9hZEZpbGUgPSBudWxsO1xuICAgIGxldCB1cGxvYWRJblByb2dyZXNzID0gZmFsc2U7XG4gICAgbGV0IGRldGFpbERpcnR5ID0gZmFsc2U7XG4gICAgbGV0IHVwbG9hZE1vZGUgPSBmYWxzZTtcbiAgICBsZXQgdXBsb2FkUHJldmlld1VybCA9IG51bGw7XG5cbiAgICBjb25zdCBkZXJpdmVHcm91cFR5cGUgPSAoaXRlbSkgPT4ge1xuICAgICAgY29uc3QgdHlwZSA9IChpdGVtLnR5cGUgfHwgJycpLnRvTG93ZXJDYXNlKCk7XG4gICAgICBjb25zdCBmaWxlbmFtZSA9IChpdGVtLmZpbGVuYW1lIHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgaWYgKHR5cGUuaW5jbHVkZXMoJ2ltYWdlJykgfHwgL1xcLihwbmd8anBlP2d8d2VicHxzdmd8Z2lmKSQvaS50ZXN0KGZpbGVuYW1lKSkge1xuICAgICAgICByZXR1cm4gJ2ltYWdlJztcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlLmluY2x1ZGVzKCdwZGYnKSB8fCB0eXBlLmluY2x1ZGVzKCdkb2MnKSB8fCAvXFwuKHBkZnxkb2N4PykkL2kudGVzdChmaWxlbmFtZSkpIHtcbiAgICAgICAgcmV0dXJuICdkb2N1bWVudCc7XG4gICAgICB9XG4gICAgICBpZiAodHlwZS5pbmNsdWRlcygndmlkZW8nKSB8fCAvXFwuKG1wNHxtb3Z8d2VibSkkL2kudGVzdChmaWxlbmFtZSkpIHtcbiAgICAgICAgcmV0dXJuICd2aWRlbyc7XG4gICAgICB9XG4gICAgICByZXR1cm4gJ290aGVyJztcbiAgICB9O1xuXG4gICAgY29uc3QgaXNJbWFnZVR5cGUgPSAoaXRlbSkgPT4gZGVyaXZlR3JvdXBUeXBlKGl0ZW0pID09PSAnaW1hZ2UnO1xuXG4gICAgY29uc3QgZm9ybWF0VHlwZUxhYmVsID0gKGl0ZW0pID0+IHtcbiAgICAgIGlmIChpdGVtLnR5cGUpIHtcbiAgICAgICAgcmV0dXJuIGl0ZW0udHlwZS50b1VwcGVyQ2FzZSgpO1xuICAgICAgfVxuICAgICAgY29uc3QgZXh0ID0gKGl0ZW0uZmlsZW5hbWUgfHwgJycpLnNwbGl0KCcuJykucG9wKCk7XG4gICAgICByZXR1cm4gZXh0ID8gZXh0LnRvVXBwZXJDYXNlKCkgOiAnRklMRSc7XG4gICAgfTtcblxuICAgIGNvbnN0IGZvcm1hdEZpbGVTaXplID0gKHNpemUpID0+IHtcbiAgICAgIGlmICghc2l6ZSB8fCBzaXplIDw9IDApIHtcbiAgICAgICAgcmV0dXJuICdcdTIwMTQnO1xuICAgICAgfVxuICAgICAgaWYgKHNpemUgPCAxMDI0KSB7XG4gICAgICAgIHJldHVybiBgJHtzaXplfSBvYDtcbiAgICAgIH1cbiAgICAgIGlmIChzaXplIDwgMTAyNCAqIDEwMjQpIHtcbiAgICAgICAgcmV0dXJuIGAkeyhzaXplIC8gMTAyNCkudG9GaXhlZCgxKX0ga29gO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGAkeyhzaXplIC8gKDEwMjQgKiAxMDI0KSkudG9GaXhlZCgxKX0gTW9gO1xuICAgIH07XG5cbiAgICBjb25zdCByZXNldERldGFpbFBhbmVsID0gKCkgPT4ge1xuICAgICAgZGV0YWlsUGFuZWw/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgZGV0YWlsRW1wdHk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgY2xlYXJVcGxvYWRTdGF0ZSgpO1xuICAgICAgYWN0aXZlTWVkaWFJZCA9IG51bGw7XG4gICAgICBkZXRhaWxEaXJ0eSA9IGZhbHNlO1xuICAgICAgdXBkYXRlRGV0YWlsQWN0aW9ucyhmYWxzZSk7XG4gICAgICBpZiAoZGV0YWlsUHJldmlldykge1xuICAgICAgICBkZXRhaWxQcmV2aWV3LmlubmVySFRNTCA9XG4gICAgICAgICAgJzxzcGFuIGNsYXNzPVwidGV4dC1zbGF0ZS00MDAgdGV4dC1zbVwiPkF1Y3VuIG1cdTAwRTlkaWEgc1x1MDBFOWxlY3Rpb25uXHUwMEU5PC9zcGFuPic7XG4gICAgICB9XG4gICAgICBpZiAoZGV0YWlsTmFtZSkge1xuICAgICAgICBkZXRhaWxOYW1lLnRleHRDb250ZW50ID0gJyc7XG4gICAgICB9XG4gICAgICBkZXRhaWxUeXBlICYmIChkZXRhaWxUeXBlLnRleHRDb250ZW50ID0gJycpO1xuICAgICAgZGV0YWlsU2l6ZSAmJiAoZGV0YWlsU2l6ZS50ZXh0Q29udGVudCA9ICcnKTtcbiAgICAgIGlmIChkZXRhaWxBbHRJbnB1dCkge1xuICAgICAgICBkZXRhaWxBbHRJbnB1dC52YWx1ZSA9ICcnO1xuICAgICAgfVxuICAgICAgZGV0YWlsUGF0aCAmJiAoZGV0YWlsUGF0aC50ZXh0Q29udGVudCA9ICcnKTtcbiAgICAgIGlmIChkZXRhaWxVc2VkKSB7XG4gICAgICAgIGRldGFpbFVzZWQuaW5uZXJIVE1MID0gJyc7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGNsZWFyVXBsb2FkU3RhdGUgPSAoKSA9PiB7XG4gICAgICBwZW5kaW5nVXBsb2FkRmlsZSA9IG51bGw7XG4gICAgICB1cGxvYWRNb2RlID0gZmFsc2U7XG4gICAgICB1cGxvYWRJblByb2dyZXNzID0gZmFsc2U7XG4gICAgICBpZiAodXBsb2FkUHJldmlld1VybCkge1xuICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKHVwbG9hZFByZXZpZXdVcmwpO1xuICAgICAgICB1cGxvYWRQcmV2aWV3VXJsID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIHVwbG9hZFN0YXR1cyAmJiAodXBsb2FkU3RhdHVzLnRleHRDb250ZW50ID0gJ0F1Y3VuIGZpY2hpZXIgc1x1MDBFOWxlY3Rpb25uXHUwMEU5LicpO1xuICAgICAgZmlsZUlucHV0ICYmIChmaWxlSW5wdXQudmFsdWUgPSAnJyk7XG4gICAgfTtcblxuICAgIGNvbnN0IHVwZGF0ZUNvdW50QmFkZ2UgPSAoKSA9PiB7XG4gICAgICBpZiAoIWNvdW50QmFkZ2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFmaWx0ZXJlZEl0ZW1zLmxlbmd0aCkge1xuICAgICAgICBjb3VudEJhZGdlLnRleHRDb250ZW50ID0gJzAgbVx1MDBFOWRpYSc7XG4gICAgICB9IGVsc2UgaWYgKGZpbHRlcmVkSXRlbXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGNvdW50QmFkZ2UudGV4dENvbnRlbnQgPSAnMSBtXHUwMEU5ZGlhJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvdW50QmFkZ2UudGV4dENvbnRlbnQgPSBgJHtmaWx0ZXJlZEl0ZW1zLmxlbmd0aH0gbVx1MDBFOWRpYXNgO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCByZW5kZXJHcmlkID0gKCkgPT4ge1xuICAgICAgZ3JpZC5pbm5lckhUTUwgPSAnJztcbiAgICAgIGlmICghZmlsdGVyZWRJdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgZW1wdHlTdGF0ZT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIHJlc2V0RGV0YWlsUGFuZWwoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZW1wdHlTdGF0ZT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBmaWx0ZXJlZEl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgICAgY29uc3QgY2FyZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICBjYXJkLnR5cGUgPSAnYnV0dG9uJztcbiAgICAgICAgY2FyZC5kYXRhc2V0Lm1lZGlhSWQgPSBpdGVtLmlkO1xuICAgICAgICBjb25zdCBpc0FjdGl2ZSA9IGl0ZW0uaWQgPT09IGFjdGl2ZU1lZGlhSWQ7XG4gICAgICAgIGNhcmQuY2xhc3NOYW1lID0gW1xuICAgICAgICAgICdncm91cCByZWxhdGl2ZSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtMnhsIGJvcmRlciBweC0zIHB5LTMgdGV4dC1sZWZ0IHRyYW5zaXRpb24gZm9jdXMtdmlzaWJsZTpvdXRsaW5lIGZvY3VzLXZpc2libGU6b3V0bGluZS0yIGZvY3VzLXZpc2libGU6b3V0bGluZS1vZmZzZXQtMiBmb2N1cy12aXNpYmxlOm91dGxpbmUtWyM5QzZCRkZdJyxcbiAgICAgICAgICBpc0FjdGl2ZVxuICAgICAgICAgICAgPyAnYm9yZGVyLVsjOUM2QkZGXSBiZy1bI0Y3RjBGRl0vNjAgc2hhZG93LXNtJ1xuICAgICAgICAgICAgOiAnYm9yZGVyLXNsYXRlLTIwMCBob3Zlcjpib3JkZXItWyM5QzZCRkZdLzQwJyxcbiAgICAgICAgXS5qb2luKCcgJyk7XG4gICAgICAgIGNvbnN0IHByZXZpZXcgPSBpc0ltYWdlVHlwZShpdGVtKVxuICAgICAgICAgID8gYDxpbWcgc3JjPVwiJHtpdGVtLnBhdGh9XCIgYWx0PVwiJHtpdGVtLmFsdCB8fCBpdGVtLmZpbGVuYW1lfVwiIGNsYXNzPVwiaC1mdWxsIHctZnVsbCBvYmplY3QtY292ZXJcIiAvPmBcbiAgICAgICAgICA6IGA8ZGl2IGNsYXNzPVwiZmxleCBoLWZ1bGwgdy1mdWxsIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB0ZXh0LTN4bCB0ZXh0LXNsYXRlLTQwMFwiPlx1RDgzRFx1RENDNDwvZGl2PmA7XG4gICAgICAgIGNhcmQuaW5uZXJIVE1MID0gYFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJyZWxhdGl2ZSBhc3BlY3QtWzQvM10gb3ZlcmZsb3ctaGlkZGVuIHJvdW5kZWQteGwgYmctc2xhdGUtMTAwXCI+XG4gICAgICAgICAgICAke3ByZXZpZXd9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cIm10LTIgc3BhY2UteS0xXCI+XG4gICAgICAgICAgICA8cCBjbGFzcz1cInRleHQtc20gZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTkwMCB0cnVuY2F0ZVwiPiR7aXRlbS5maWxlbmFtZX08L3A+XG4gICAgICAgICAgICA8cCBjbGFzcz1cInRleHQteHMgdGV4dC1zbGF0ZS01MDBcIj5cbiAgICAgICAgICAgICAgJHtmb3JtYXRUeXBlTGFiZWwoaXRlbSl9IFx1MDBCNyAke2Zvcm1hdEZpbGVTaXplKGl0ZW0uc2l6ZSl9XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIGA7XG4gICAgICAgIGlmIChpdGVtLmlkID09PSBoaWdobGlnaHRNZWRpYUlkKSB7XG4gICAgICAgICAgY2FyZC5jbGFzc0xpc3QuYWRkKCdyaW5nLTInLCAncmluZy1bIzlDNkJGRl0nKTtcbiAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBjYXJkLmNsYXNzTGlzdC5yZW1vdmUoJ3JpbmctMicsICdyaW5nLVsjOUM2QkZGXScpO1xuICAgICAgICAgIH0sIDE2MDApO1xuICAgICAgICB9XG4gICAgICAgIGNhcmQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBzZWxlY3RNZWRpYShpdGVtLmlkKSk7XG4gICAgICAgIGdyaWQuYXBwZW5kQ2hpbGQoY2FyZCk7XG4gICAgICB9KTtcbiAgICAgIGhpZ2hsaWdodE1lZGlhSWQgPSBudWxsO1xuICAgIH07XG5cbiAgICBjb25zdCByZW5kZXJVc2VkSW4gPSAoaXRlbSkgPT4ge1xuICAgICAgaWYgKCFkZXRhaWxVc2VkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGRldGFpbFVzZWQuaW5uZXJIVE1MID0gJyc7XG4gICAgICBpZiAoIWl0ZW0udXNlZEluIHx8IGl0ZW0udXNlZEluLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICAgIGxpLnRleHRDb250ZW50ID0gJ05vbiB1dGlsaXNcdTAwRTknO1xuICAgICAgICBsaS5jbGFzc05hbWUgPSAndGV4dC14cyB0ZXh0LXNsYXRlLTQwMCc7XG4gICAgICAgIGRldGFpbFVzZWQuYXBwZW5kQ2hpbGQobGkpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpdGVtLnVzZWRJbi5mb3JFYWNoKChlbnRyeSkgPT4ge1xuICAgICAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICAgIGxpLnRleHRDb250ZW50ID0gZW50cnk7XG4gICAgICAgIGxpLmNsYXNzTmFtZSA9ICd0ZXh0LXhzIHRleHQtc2xhdGUtNjAwJztcbiAgICAgICAgZGV0YWlsVXNlZC5hcHBlbmRDaGlsZChsaSk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgdXBkYXRlRGV0YWlsQWN0aW9ucyA9IChzYXZpbmcpID0+IHtcbiAgICAgIGlmICghZGV0YWlsU2F2ZUJ1dHRvbikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAodXBsb2FkTW9kZSkge1xuICAgICAgICBkZXRhaWxTYXZlQnV0dG9uLnRleHRDb250ZW50ID0gc2F2aW5nID8gJ1RcdTAwRTlsXHUwMEU5dmVyc2VtZW50XHUyMDI2JyA6ICdUXHUwMEU5bFx1MDBFOXZlcnNlcic7XG4gICAgICAgIGRldGFpbFNhdmVCdXR0b24uZGlzYWJsZWQgPSBzYXZpbmcgfHwgIXBlbmRpbmdVcGxvYWRGaWxlO1xuICAgICAgICBpZiAoZGV0YWlsRGVsZXRlQnV0dG9uKSB7XG4gICAgICAgICAgZGV0YWlsRGVsZXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGRldGFpbFNhdmVCdXR0b24udGV4dENvbnRlbnQgPSBzYXZpbmcgPyAnRW5yZWdpc3RyZW1lbnRcdTIwMjYnIDogJ0VucmVnaXN0cmVyJztcbiAgICAgIGRldGFpbFNhdmVCdXR0b24uZGlzYWJsZWQgPSBzYXZpbmcgfHwgIWRldGFpbERpcnR5O1xuICAgICAgaWYgKGRldGFpbERlbGV0ZUJ1dHRvbikge1xuICAgICAgICBkZXRhaWxEZWxldGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIGRldGFpbERlbGV0ZUJ1dHRvbi5kaXNhYmxlZCA9ICFhY3RpdmVNZWRpYUlkO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBzZWxlY3RNZWRpYSA9IChtZWRpYUlkKSA9PiB7XG4gICAgICBjb25zdCBpdGVtID0gbWVkaWFJdGVtcy5maW5kKChlbnRyeSkgPT4gZW50cnkuaWQgPT09IG1lZGlhSWQpO1xuICAgICAgaWYgKCFpdGVtKSB7XG4gICAgICAgIHJlc2V0RGV0YWlsUGFuZWwoKTtcbiAgICAgICAgcmVuZGVyR3JpZCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjbGVhclVwbG9hZFN0YXRlKCk7XG4gICAgICBhY3RpdmVNZWRpYUlkID0gaXRlbS5pZDtcbiAgICAgIGRldGFpbERpcnR5ID0gZmFsc2U7XG4gICAgICB1cGRhdGVEZXRhaWxBY3Rpb25zKGZhbHNlKTtcbiAgICAgIHJlbmRlckdyaWQoKTtcbiAgICAgIGRldGFpbEVtcHR5Py5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGRldGFpbFBhbmVsPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGlmIChkZXRhaWxQcmV2aWV3KSB7XG4gICAgICAgIGlmIChpc0ltYWdlVHlwZShpdGVtKSkge1xuICAgICAgICAgIGRldGFpbFByZXZpZXcuaW5uZXJIVE1MID0gYDxpbWcgc3JjPVwiJHtpdGVtLnBhdGh9XCIgYWx0PVwiJHtpdGVtLmFsdCB8fCBpdGVtLmZpbGVuYW1lfVwiIGNsYXNzPVwiaC1mdWxsIHctZnVsbCByb3VuZGVkLTJ4bCBvYmplY3QtY292ZXJcIiAvPmA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGV0YWlsUHJldmlldy5pbm5lckhUTUwgPVxuICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJmbGV4IGgtZnVsbCB3LWZ1bGwgZmxleC1jb2wgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGdhcC0xIHRleHQtc2xhdGUtNDAwXCI+PHNwYW4gY2xhc3M9XCJ0ZXh0LTN4bFwiPlx1RDgzRFx1RENDNDwvc3Bhbj48c3BhbiBjbGFzcz1cInRleHQteHMgZm9udC1zZW1pYm9sZFwiPkRvY3VtZW50PC9zcGFuPjwvZGl2Pic7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGRldGFpbE5hbWUgJiYgKGRldGFpbE5hbWUudGV4dENvbnRlbnQgPSBpdGVtLmZpbGVuYW1lIHx8ICdGaWNoaWVyJyk7XG4gICAgICBkZXRhaWxUeXBlICYmIChkZXRhaWxUeXBlLnRleHRDb250ZW50ID0gZm9ybWF0VHlwZUxhYmVsKGl0ZW0pKTtcbiAgICAgIGRldGFpbFNpemUgJiYgKGRldGFpbFNpemUudGV4dENvbnRlbnQgPSBmb3JtYXRGaWxlU2l6ZShpdGVtLnNpemUpKTtcbiAgICAgIGlmIChkZXRhaWxBbHRJbnB1dCkge1xuICAgICAgICBkZXRhaWxBbHRJbnB1dC52YWx1ZSA9IGl0ZW0uYWx0IHx8ICcnO1xuICAgICAgfVxuICAgICAgZGV0YWlsUGF0aCAmJiAoZGV0YWlsUGF0aC50ZXh0Q29udGVudCA9IGl0ZW0ucGF0aCB8fCAnXHUyMDE0Jyk7XG4gICAgICByZW5kZXJVc2VkSW4oaXRlbSk7XG4gICAgfTtcblxuICAgIGNvbnN0IHNob3dVcGxvYWRQcmV2aWV3ID0gKGZpbGUpID0+IHtcbiAgICAgIGlmICghZmlsZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB1cGxvYWRNb2RlID0gdHJ1ZTtcbiAgICAgIGRldGFpbERpcnR5ID0gZmFsc2U7XG4gICAgICBhY3RpdmVNZWRpYUlkID0gbnVsbDtcbiAgICAgIGRldGFpbEVtcHR5Py5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGRldGFpbFBhbmVsPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGlmICh1cGxvYWRQcmV2aWV3VXJsKSB7XG4gICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwodXBsb2FkUHJldmlld1VybCk7XG4gICAgICB9XG4gICAgICB1cGxvYWRQcmV2aWV3VXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKTtcbiAgICAgIGlmIChkZXRhaWxQcmV2aWV3KSB7XG4gICAgICAgIGRldGFpbFByZXZpZXcuaW5uZXJIVE1MID0gYDxpbWcgc3JjPVwiJHt1cGxvYWRQcmV2aWV3VXJsfVwiIGFsdD1cIiR7ZmlsZS5uYW1lfVwiIGNsYXNzPVwiaC1mdWxsIHctZnVsbCByb3VuZGVkLTJ4bCBvYmplY3QtY292ZXJcIiAvPmA7XG4gICAgICB9XG4gICAgICBkZXRhaWxOYW1lICYmIChkZXRhaWxOYW1lLnRleHRDb250ZW50ID0gZmlsZS5uYW1lKTtcbiAgICAgIGRldGFpbFR5cGUgJiYgKGRldGFpbFR5cGUudGV4dENvbnRlbnQgPSBmb3JtYXRUeXBlTGFiZWwoeyB0eXBlOiBmaWxlLnR5cGUsIGZpbGVuYW1lOiBmaWxlLm5hbWUgfSkpO1xuICAgICAgZGV0YWlsU2l6ZSAmJiAoZGV0YWlsU2l6ZS50ZXh0Q29udGVudCA9IGZvcm1hdEZpbGVTaXplKGZpbGUuc2l6ZSkpO1xuICAgICAgaWYgKGRldGFpbEFsdElucHV0ICYmICFkZXRhaWxBbHRJbnB1dC52YWx1ZS50cmltKCkpIHtcbiAgICAgICAgZGV0YWlsQWx0SW5wdXQudmFsdWUgPSBmaWxlLm5hbWUucmVwbGFjZSgvXFwuW14uXSskLywgJycpLnJlcGxhY2UoL1stX10vZywgJyAnKTtcbiAgICAgIH1cbiAgICAgIGRldGFpbFBhdGggJiYgKGRldGFpbFBhdGgudGV4dENvbnRlbnQgPSAnRW4gYXR0ZW50ZSBkZSB0XHUwMEU5bFx1MDBFOXZlcnNlbWVudCcpO1xuICAgICAgaWYgKGRldGFpbFVzZWQpIHtcbiAgICAgICAgZGV0YWlsVXNlZC5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgY29uc3QgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgICBsaS50ZXh0Q29udGVudCA9ICdOb24gdXRpbGlzXHUwMEU5JztcbiAgICAgICAgbGkuY2xhc3NOYW1lID0gJ3RleHQteHMgdGV4dC1zbGF0ZS00MDAnO1xuICAgICAgICBkZXRhaWxVc2VkLmFwcGVuZENoaWxkKGxpKTtcbiAgICAgIH1cbiAgICAgIHVwZGF0ZURldGFpbEFjdGlvbnMoZmFsc2UpO1xuICAgIH07XG5cbiAgICBjb25zdCBhcHBseUZpbHRlcnMgPSAoKSA9PiB7XG4gICAgICBjb25zdCB0eXBlRmlsdGVyID0gZmlsdGVyVHlwZT8udmFsdWUgfHwgJ2FsbCc7XG4gICAgICBpZiAodHlwZUZpbHRlciA9PT0gJ2FsbCcpIHtcbiAgICAgICAgZmlsdGVyZWRJdGVtcyA9IFsuLi5tZWRpYUl0ZW1zXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZpbHRlcmVkSXRlbXMgPSBtZWRpYUl0ZW1zLmZpbHRlcigoaXRlbSkgPT4gaXRlbS5ncm91cFR5cGUgPT09IHR5cGVGaWx0ZXIpO1xuICAgICAgfVxuICAgICAgaWYgKCFmaWx0ZXJlZEl0ZW1zLnNvbWUoKGl0ZW0pID0+IGl0ZW0uaWQgPT09IGFjdGl2ZU1lZGlhSWQpKSB7XG4gICAgICAgIHJlc2V0RGV0YWlsUGFuZWwoKTtcbiAgICAgIH1cbiAgICAgIHVwZGF0ZUNvdW50QmFkZ2UoKTtcbiAgICAgIHJlbmRlckdyaWQoKTtcbiAgICB9O1xuXG4gICAgY29uc3QgbG9hZE1lZGlhID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFtZWRpYUFwaUJhc2UpIHtcbiAgICAgICAgZW1wdHlTdGF0ZT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2gobWVkaWFBcGlCYXNlLCB7XG4gICAgICAgICAgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxlcyBtXHUwMEU5ZGlhcy4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7IGl0ZW1zOiBbXSB9KSk7XG4gICAgICAgIG1lZGlhSXRlbXMgPSBBcnJheS5pc0FycmF5KHBheWxvYWQuaXRlbXMpXG4gICAgICAgICAgPyBwYXlsb2FkLml0ZW1zLm1hcCgoaXRlbSkgPT4gKHsgLi4uaXRlbSwgZ3JvdXBUeXBlOiBkZXJpdmVHcm91cFR5cGUoaXRlbSkgfSkpXG4gICAgICAgICAgOiBbXTtcbiAgICAgICAgYXBwbHlGaWx0ZXJzKCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW21lZGlhXSBsb2FkIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxlcyBtXHUwMEU5ZGlhcy4nKTtcbiAgICAgICAgbWVkaWFJdGVtcyA9IFtdO1xuICAgICAgICBhcHBseUZpbHRlcnMoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgZmlsdGVyVHlwZT8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICAgICAgYXBwbHlGaWx0ZXJzKCk7XG4gICAgfSk7XG4gICAgZGV0YWlsQWx0SW5wdXQ/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgaWYgKHVwbG9hZE1vZGUpIHtcbiAgICAgICAgdXBkYXRlRGV0YWlsQWN0aW9ucyhmYWxzZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghYWN0aXZlTWVkaWFJZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBkZXRhaWxEaXJ0eSA9IHRydWU7XG4gICAgICB1cGRhdGVEZXRhaWxBY3Rpb25zKGZhbHNlKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IGhhbmRsZUZpbGVTZWxlY3Rpb24gPSAoZmlsZSkgPT4ge1xuICAgICAgaWYgKCFmaWxlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghZmlsZS50eXBlLnN0YXJ0c1dpdGgoJ2ltYWdlLycpKSB7XG4gICAgICAgIHNob3dUb2FzdCgnU2V1bGVzIGxlcyBpbWFnZXMgc29udCBhY2NlcHRcdTAwRTllcyBwb3VyIGxlIG1vbWVudC4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGZpbGUuc2l6ZSA+IDQgKiAxMDI0ICogMTAyNCkge1xuICAgICAgICBzaG93VG9hc3QoJ0ZpY2hpZXIgdHJvcCB2b2x1bWluZXV4ICg0IE1vIG1heCkuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHBlbmRpbmdVcGxvYWRGaWxlID0gZmlsZTtcbiAgICAgIHNob3dVcGxvYWRQcmV2aWV3KGZpbGUpO1xuICAgICAgaWYgKHVwbG9hZFN0YXR1cykge1xuICAgICAgICB1cGxvYWRTdGF0dXMudGV4dENvbnRlbnQgPSBgJHtmaWxlLm5hbWV9IFx1MDBCNyAke2Zvcm1hdEZpbGVTaXplKGZpbGUuc2l6ZSl9YDtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgcmVhZEZpbGVBc0Jhc2U2NCA9IChmaWxlKSA9PlxuICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgICByZWFkZXIub25sb2FkID0gKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHJlYWRlci5yZXN1bHQgfHwgJyc7XG4gICAgICAgICAgY29uc3QgWywgYmFzZTY0ID0gJyddID0gU3RyaW5nKHJlc3VsdCkuc3BsaXQoJywnKTtcbiAgICAgICAgICByZXNvbHZlKGJhc2U2NCk7XG4gICAgICAgIH07XG4gICAgICAgIHJlYWRlci5vbmVycm9yID0gKCkgPT4gcmVqZWN0KG5ldyBFcnJvcignSW1wb3NzaWJsZSBkZSBsaXJlIGNlIGZpY2hpZXIuJykpO1xuICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcbiAgICAgIH0pO1xuXG4gICAgY29uc3QgdXBsb2FkU2VsZWN0ZWRNZWRpYSA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghcGVuZGluZ1VwbG9hZEZpbGUgfHwgIW1lZGlhQXBpQmFzZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB1cGxvYWRJblByb2dyZXNzID0gdHJ1ZTtcbiAgICAgIHVwZGF0ZURldGFpbEFjdGlvbnModHJ1ZSk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBiYXNlNjQgPSBhd2FpdCByZWFkRmlsZUFzQmFzZTY0KHBlbmRpbmdVcGxvYWRGaWxlKTtcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgICBmaWxlbmFtZTogcGVuZGluZ1VwbG9hZEZpbGUubmFtZSxcbiAgICAgICAgICB0eXBlOiBwZW5kaW5nVXBsb2FkRmlsZS50eXBlLFxuICAgICAgICAgIHNpemU6IHBlbmRpbmdVcGxvYWRGaWxlLnNpemUsXG4gICAgICAgICAgYWx0OiBkZXRhaWxBbHRJbnB1dD8udmFsdWUgfHwgJycsXG4gICAgICAgICAgZGF0YTogYmFzZTY0LFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKG1lZGlhQXBpQmFzZSwge1xuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnN0IGVycm9yUGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JQYXlsb2FkLm1lc3NhZ2UgfHwgJ1VwbG9hZCBpbXBvc3NpYmxlLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNhdmVkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBzYXZlZC5ncm91cFR5cGUgPSBkZXJpdmVHcm91cFR5cGUoc2F2ZWQpO1xuICAgICAgICBtZWRpYUl0ZW1zID0gWy4uLm1lZGlhSXRlbXMsIHNhdmVkXTtcbiAgICAgICAgaGlnaGxpZ2h0TWVkaWFJZCA9IHNhdmVkLmlkO1xuICAgICAgICBhcHBseUZpbHRlcnMoKTtcbiAgICAgICAgc2VsZWN0TWVkaWEoc2F2ZWQuaWQpO1xuICAgICAgICBzaG93VG9hc3QoJ01cdTAwRTlkaWEgYWpvdXRcdTAwRTknKTtcbiAgICAgICAgY2xlYXJVcGxvYWRTdGF0ZSgpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1ttZWRpYV0gdXBsb2FkIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSB0XHUwMEU5bFx1MDBFOXZlcnNlciBjZSBtXHUwMEU5ZGlhLicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgdXBsb2FkSW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgICAgICBwZW5kaW5nVXBsb2FkRmlsZSA9IG51bGw7XG4gICAgICAgIHVwZGF0ZURldGFpbEFjdGlvbnMoZmFsc2UpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB1cGxvYWRPcGVuQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGZpbGVJbnB1dD8uY2xpY2soKSk7XG4gICAgZmlsZUlucHV0Py5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgICBpZiAoZmlsZUlucHV0LmZpbGVzICYmIGZpbGVJbnB1dC5maWxlc1swXSkge1xuICAgICAgICBoYW5kbGVGaWxlU2VsZWN0aW9uKGZpbGVJbnB1dC5maWxlc1swXSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgY29uc3QgY2xvc2VEZWxldGVNb2RhbCA9ICgpID0+IHtcbiAgICAgIGlmICghZGVsZXRlTW9kYWwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZGVsZXRlTW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBkZWxldGVNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdmbGV4Jyk7XG4gICAgfTtcblxuICAgIGNvbnN0IG9wZW5EZWxldGVNb2RhbCA9ICgpID0+IHtcbiAgICAgIGlmICghYWN0aXZlTWVkaWFJZCB8fCB1cGxvYWRNb2RlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChkZWxldGVNb2RhbCkge1xuICAgICAgICBkZWxldGVNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgZGVsZXRlTW9kYWwuY2xhc3NMaXN0LmFkZCgnZmxleCcpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBGYWxsYmFjayBzaSBhdWN1bmUgbW9kYWxlIG4nZXN0IGRpc3BvbmlibGVcbiAgICAgIGlmICh3aW5kb3cuY29uZmlybSgnU3VwcHJpbWVyIGNlIG1cdTAwRTlkaWEgPycpKSB7XG4gICAgICAgIGRlbGV0ZUFjdGl2ZU1lZGlhKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGRlbGV0ZUFjdGl2ZU1lZGlhID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFhY3RpdmVNZWRpYUlkIHx8ICFtZWRpYUFwaUJhc2UpIHtcbiAgICAgICAgY2xvc2VEZWxldGVNb2RhbCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBkaXNhYmxlQnV0dG9ucyA9ICgpID0+IHtcbiAgICAgICAgaWYgKGRldGFpbERlbGV0ZUJ1dHRvbikge1xuICAgICAgICAgIGRldGFpbERlbGV0ZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlbGV0ZUNvbmZpcm1CdXR0b24pIHtcbiAgICAgICAgICBkZWxldGVDb25maXJtQnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgICBkZWxldGVDb25maXJtQnV0dG9uLnRleHRDb250ZW50ID0gJ1N1cHByZXNzaW9uXHUyMDI2JztcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGNvbnN0IGVuYWJsZUJ1dHRvbnMgPSAoKSA9PiB7XG4gICAgICAgIGlmIChkZXRhaWxEZWxldGVCdXR0b24pIHtcbiAgICAgICAgICBkZXRhaWxEZWxldGVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVsZXRlQ29uZmlybUJ1dHRvbikge1xuICAgICAgICAgIGRlbGV0ZUNvbmZpcm1CdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICBkZWxldGVDb25maXJtQnV0dG9uLnRleHRDb250ZW50ID0gJ1N1cHByaW1lcic7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBkaXNhYmxlQnV0dG9ucygpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgICBgJHttZWRpYUFwaUJhc2V9LyR7ZW5jb2RlVVJJQ29tcG9uZW50KGFjdGl2ZU1lZGlhSWQpfWAsXG4gICAgICAgICAgeyBtZXRob2Q6ICdERUxFVEUnIH0sXG4gICAgICAgICk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihwYXlsb2FkLm1lc3NhZ2UgfHwgJ1N1cHByZXNzaW9uIGltcG9zc2libGUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgbWVkaWFJdGVtcyA9IG1lZGlhSXRlbXMuZmlsdGVyKChpdGVtKSA9PiBpdGVtLmlkICE9PSBhY3RpdmVNZWRpYUlkKTtcbiAgICAgICAgZmlsdGVyZWRJdGVtcyA9IGZpbHRlcmVkSXRlbXMuZmlsdGVyKChpdGVtKSA9PiBpdGVtLmlkICE9PSBhY3RpdmVNZWRpYUlkKTtcbiAgICAgICAgc2hvd1RvYXN0KCdNXHUwMEU5ZGlhIHN1cHByaW1cdTAwRTknKTtcbiAgICAgICAgcmVzZXREZXRhaWxQYW5lbCgpO1xuICAgICAgICB1cGRhdGVDb3VudEJhZGdlKCk7XG4gICAgICAgIHJlbmRlckdyaWQoKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbbWVkaWFdIGRlbGV0ZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgc3VwcHJpbWVyIGNlIG1cdTAwRTlkaWEuJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBlbmFibGVCdXR0b25zKCk7XG4gICAgICAgIGNsb3NlRGVsZXRlTW9kYWwoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgZGVsZXRlQ2FuY2VsQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlRGVsZXRlTW9kYWwpO1xuICAgIGRlbGV0ZU1vZGFsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gZGVsZXRlTW9kYWwpIHtcbiAgICAgICAgY2xvc2VEZWxldGVNb2RhbCgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgZGVsZXRlQ29uZmlybUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBkZWxldGVBY3RpdmVNZWRpYSgpKTtcbiAgICBkZXRhaWxEZWxldGVCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlbkRlbGV0ZU1vZGFsKTtcblxuICAgIGRldGFpbFNhdmVCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKHVwbG9hZE1vZGUpIHtcbiAgICAgICAgdXBsb2FkU2VsZWN0ZWRNZWRpYSgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWFjdGl2ZU1lZGlhSWQgfHwgIW1lZGlhQXBpQmFzZSB8fCAhZGV0YWlsQWx0SW5wdXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdXBkYXRlRGV0YWlsQWN0aW9ucyh0cnVlKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSB7IGFsdDogZGV0YWlsQWx0SW5wdXQudmFsdWUgfHwgJycgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgICBgJHttZWRpYUFwaUJhc2V9LyR7ZW5jb2RlVVJJQ29tcG9uZW50KGFjdGl2ZU1lZGlhSWQpfWAsXG4gICAgICAgICAge1xuICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgICAgfSxcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnN0IGVycm9yUGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JQYXlsb2FkLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgbWV0dHJlIFx1MDBFMCBqb3VyIGNlIG1cdTAwRTlkaWEuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdXBkYXRlZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgbWVkaWFJdGVtcyA9IG1lZGlhSXRlbXMubWFwKChpdGVtKSA9PlxuICAgICAgICAgIGl0ZW0uaWQgPT09IGFjdGl2ZU1lZGlhSWQgPyB7IC4uLml0ZW0sIC4uLnVwZGF0ZWQgfSA6IGl0ZW0sXG4gICAgICAgICk7XG4gICAgICAgIGZpbHRlcmVkSXRlbXMgPSBmaWx0ZXJlZEl0ZW1zLm1hcCgoaXRlbSkgPT5cbiAgICAgICAgICBpdGVtLmlkID09PSBhY3RpdmVNZWRpYUlkID8geyAuLi5pdGVtLCAuLi51cGRhdGVkIH0gOiBpdGVtLFxuICAgICAgICApO1xuICAgICAgICBkZXRhaWxEaXJ0eSA9IGZhbHNlO1xuICAgICAgICB1cGRhdGVEZXRhaWxBY3Rpb25zKGZhbHNlKTtcbiAgICAgICAgc2hvd1RvYXN0KCdNXHUwMEU5ZGlhIG1pcyBcdTAwRTAgam91cicpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1ttZWRpYV0gdXBkYXRlIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnXHUwMEM5Y2hlYyBkZSBsYSBtaXNlIFx1MDBFMCBqb3VyLicpO1xuICAgICAgICB1cGRhdGVEZXRhaWxBY3Rpb25zKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGxvYWRNZWRpYSgpO1xuICB9XG5cbiAgLy8gXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXG4gIC8vIEFJIENIQVQgLSBBc3Npc3RhbnQgSUEgY29udGV4dHVlbFxuICAvLyBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcblxuICBjb25zdCBhaUNoYXRUb2dnbGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWktY2hhdC10b2dnbGUnKTtcbiAgY29uc3QgYWlDaGF0UGFuZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWktY2hhdC1wYW5lbCcpO1xuICBjb25zdCBhaUNoYXRPdmVybGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FpLWNoYXQtb3ZlcmxheScpO1xuICBjb25zdCBhaUNoYXRDbG9zZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhaS1jaGF0LWNsb3NlJyk7XG4gIGNvbnN0IGFpQ2hhdENsZWFyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FpLWNoYXQtY2xlYXInKTtcbiAgY29uc3QgYWlDaGF0Rm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhaS1jaGF0LWZvcm0nKTtcbiAgY29uc3QgYWlDaGF0SW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWktY2hhdC1pbnB1dCcpO1xuICBjb25zdCBhaUNoYXRNZXNzYWdlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhaS1jaGF0LW1lc3NhZ2VzJyk7XG4gIGNvbnN0IGFpQ2hhdFN0YXR1cyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhaS1jaGF0LXN0YXR1cycpO1xuICBjb25zdCBhaUNoYXROb0FwaSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhaS1jaGF0LW5vLWFwaScpO1xuICBjb25zdCBhaVF1aWNrQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWFpLXF1aWNrXScpO1xuXG4gIGxldCBhaUNoYXRPcGVuID0gZmFsc2U7XG4gIGxldCBhaUlzTG9hZGluZyA9IGZhbHNlO1xuICBsZXQgYWlDb25maWdDaGVja2VkID0gZmFsc2U7XG4gIGxldCBhaUhhc0FwaUtleSA9IGZhbHNlO1xuXG4gIC8qKlxuICAgKiBPdXZyZSBsZSBwYW5lbCBkZSBjaGF0IElBXG4gICAqL1xuICBmdW5jdGlvbiBvcGVuQUlDaGF0KCkge1xuICAgIGlmICghYWlDaGF0UGFuZWwpIHJldHVybjtcbiAgICBhaUNoYXRPcGVuID0gdHJ1ZTtcbiAgICBhaUNoYXRQYW5lbC5jbGFzc0xpc3QucmVtb3ZlKCd0cmFuc2xhdGUteC1mdWxsJyk7XG4gICAgYWlDaGF0UGFuZWwuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICdmYWxzZScpO1xuICAgIGFpQ2hhdE92ZXJsYXk/LmNsYXNzTGlzdC5yZW1vdmUoJ29wYWNpdHktMCcsICdwb2ludGVyLWV2ZW50cy1ub25lJyk7XG4gICAgYWlDaGF0T3ZlcmxheT8uY2xhc3NMaXN0LmFkZCgnb3BhY2l0eS0xMDAnKTtcbiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ292ZXJmbG93LWhpZGRlbicpO1xuICAgIGFpQ2hhdElucHV0Py5mb2N1cygpO1xuXG4gICAgLy8gVlx1MDBFOXJpZmllciBsYSBjb25maWcgQUkgYXUgcHJlbWllciBvdXZlcnR1cmVcbiAgICBpZiAoIWFpQ29uZmlnQ2hlY2tlZCkge1xuICAgICAgY2hlY2tBSUNvbmZpZygpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBGZXJtZSBsZSBwYW5lbCBkZSBjaGF0IElBXG4gICAqL1xuICBmdW5jdGlvbiBjbG9zZUFJQ2hhdCgpIHtcbiAgICBpZiAoIWFpQ2hhdFBhbmVsKSByZXR1cm47XG4gICAgYWlDaGF0T3BlbiA9IGZhbHNlO1xuICAgIGFpQ2hhdFBhbmVsLmNsYXNzTGlzdC5hZGQoJ3RyYW5zbGF0ZS14LWZ1bGwnKTtcbiAgICBhaUNoYXRQYW5lbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcbiAgICBhaUNoYXRPdmVybGF5Py5jbGFzc0xpc3QuYWRkKCdvcGFjaXR5LTAnLCAncG9pbnRlci1ldmVudHMtbm9uZScpO1xuICAgIGFpQ2hhdE92ZXJsYXk/LmNsYXNzTGlzdC5yZW1vdmUoJ29wYWNpdHktMTAwJyk7XG4gICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBWXHUwMEU5cmlmaWUgc2kgbCdBUEkgQUkgZXN0IGNvbmZpZ3VyXHUwMEU5ZVxuICAgKi9cbiAgYXN5bmMgZnVuY3Rpb24gY2hlY2tBSUNvbmZpZygpIHtcbiAgICBjb25zdCBzaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyk7XG4gICAgaWYgKCFzaXRlU2x1Zykge1xuICAgICAgYWlDaGF0Tm9BcGk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzaXRlU2x1Zyl9L2NvbmZpZy9haWApO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykgdGhyb3cgbmV3IEVycm9yKCdDb25maWcgY2hlY2sgZmFpbGVkJyk7XG4gICAgICBjb25zdCBjb25maWcgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBhaUNvbmZpZ0NoZWNrZWQgPSB0cnVlO1xuICAgICAgYWlIYXNBcGlLZXkgPSBjb25maWcuaGFzQXBpS2V5O1xuICAgICAgXG4gICAgICBpZiAoIWNvbmZpZy5lbmFibGVkIHx8ICFjb25maWcuaGFzQXBpS2V5KSB7XG4gICAgICAgIGFpQ2hhdE5vQXBpPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFpQ2hhdE5vQXBpPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgLy8gQ2hhcmdlciBsJ2hpc3RvcmlxdWVcbiAgICAgICAgbG9hZEFJQ2hhdEhpc3RvcnkoKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tBSV0gQ29uZmlnIGNoZWNrIGZhaWxlZDonLCBlcnIpO1xuICAgICAgYWlDaGF0Tm9BcGk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDaGFyZ2UgbCdoaXN0b3JpcXVlIGRlIGNvbnZlcnNhdGlvblxuICAgKi9cbiAgYXN5bmMgZnVuY3Rpb24gbG9hZEFJQ2hhdEhpc3RvcnkoKSB7XG4gICAgY29uc3Qgc2l0ZVNsdWcgPSBzdHJpcExlYWRpbmdTbGFzaChzdG9yZWRTaXRlLnNsdWcgfHwgJycpO1xuICAgIGlmICghc2l0ZVNsdWcgfHwgIWFpQ2hhdE1lc3NhZ2VzKSByZXR1cm47XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2l0ZVNsdWcpfS9haS9oaXN0b3J5YCk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSByZXR1cm47XG4gICAgICBcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBpZiAoZGF0YS5tZXNzYWdlcyAmJiBkYXRhLm1lc3NhZ2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgLy8gRWZmYWNlciBsZSBtZXNzYWdlIGRlIGJpZW52ZW51ZVxuICAgICAgICBjb25zdCB3ZWxjb21lTXNnID0gYWlDaGF0TWVzc2FnZXMucXVlcnlTZWxlY3RvcignW2RhdGEtYWktd2VsY29tZV0nKTtcbiAgICAgICAgaWYgKHdlbGNvbWVNc2cpIHdlbGNvbWVNc2cucmVtb3ZlKCk7XG4gICAgICAgIFxuICAgICAgICAvLyBBZmZpY2hlciBsZXMgbWVzc2FnZXNcbiAgICAgICAgZGF0YS5tZXNzYWdlcy5mb3JFYWNoKG1zZyA9PiB7XG4gICAgICAgICAgYXBwZW5kQUlNZXNzYWdlKG1zZy5jb250ZW50LCBtc2cucm9sZSA9PT0gJ3VzZXInID8gJ3VzZXInIDogJ2Fzc2lzdGFudCcpO1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIFNjcm9sbCB2ZXJzIGxlIGJhc1xuICAgICAgICBhaUNoYXRNZXNzYWdlcy5zY3JvbGxUb3AgPSBhaUNoYXRNZXNzYWdlcy5zY3JvbGxIZWlnaHQ7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdbQUldIEhpc3RvcnkgbG9hZCBmYWlsZWQ6JywgZXJyKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQWpvdXRlIHVuIG1lc3NhZ2UgYXUgY2hhdFxuICAgKi9cbiAgZnVuY3Rpb24gYXBwZW5kQUlNZXNzYWdlKGNvbnRlbnQsIHJvbGUgPSAnYXNzaXN0YW50Jykge1xuICAgIGlmICghYWlDaGF0TWVzc2FnZXMpIHJldHVybjtcbiAgICBcbiAgICBjb25zdCBtc2dEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBtc2dEaXYuY2xhc3NOYW1lID0gJ2ZsZXggZ2FwLTMnO1xuICAgIFxuICAgIGlmIChyb2xlID09PSAndXNlcicpIHtcbiAgICAgIG1zZ0Rpdi5pbm5lckhUTUwgPSBgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4LTFcIj48L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm1heC13LVs4MCVdIGJnLXZpb2xldC02MDAgdGV4dC13aGl0ZSByb3VuZGVkLTJ4bCByb3VuZGVkLXRyLW5vbmUgcC0zXCI+XG4gICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXNtIHdoaXRlc3BhY2UtcHJlLXdyYXBcIj4ke2VzY2FwZUh0bWwoY29udGVudCl9PC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInctOCBoLTggcm91bmRlZC1mdWxsIGJnLXNsYXRlLTIwMCBmbGV4LXNocmluay0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgPHN2ZyBjbGFzcz1cInctNCBoLTQgdGV4dC1zbGF0ZS01MDBcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgIDxwYXRoIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE2IDdhNCA0IDAgMTEtOCAwIDQgNCAwIDAxOCAwek0xMiAxNGE3IDcgMCAwMC03IDdoMTRhNyA3IDAgMDAtNy03elwiLz5cbiAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgPC9kaXY+XG4gICAgICBgO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBGb3JtYXR0ZXIgbGUgY29udGVudSBNYXJrZG93biBiYXNpcXVlXG4gICAgICBjb25zdCBmb3JtYXR0ZWRDb250ZW50ID0gZm9ybWF0QUlSZXNwb25zZShjb250ZW50KTtcbiAgICAgIG1zZ0Rpdi5pbm5lckhUTUwgPSBgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJ3LTggaC04IHJvdW5kZWQtZnVsbCBiZy1ncmFkaWVudC10by1iciBmcm9tLXZpb2xldC01MDAgdG8taW5kaWdvLTYwMCBmbGV4LXNocmluay0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgPHN2ZyBjbGFzcz1cInctNCBoLTQgdGV4dC13aGl0ZVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgPHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNOS42NjMgMTdoNC42NzNNMTIgM3YxbTYuMzY0IDEuNjM2bC0uNzA3LjcwN00yMSAxMmgtMU00IDEySDNtMy4zNDMtNS42NTdsLS43MDctLjcwN20yLjgyOCA5LjlhNSA1IDAgMTE3LjA3MiAwbC0uNTQ4LjU0N0EzLjM3NCAzLjM3NCAwIDAwMTQgMTguNDY5VjE5YTIgMiAwIDExLTQgMHYtLjUzMWMwLS44OTUtLjM1Ni0xLjc1NC0uOTg4LTIuMzg2bC0uNTQ4LS41NDd6XCIvPlxuICAgICAgICAgIDwvc3ZnPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImZsZXgtMSBiZy1zbGF0ZS01MCByb3VuZGVkLTJ4bCByb3VuZGVkLXRsLW5vbmUgcC0zIG92ZXJmbG93LXgtYXV0b1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LXNtIHRleHQtc2xhdGUtNzAwIHByb3NlIHByb3NlLXNtIG1heC13LW5vbmUgWyY+cHJlXTpiZy1zbGF0ZS04MDAgWyY+cHJlXTp0ZXh0LXNsYXRlLTEwMCBbJj5wcmVdOnJvdW5kZWQtbGcgWyY+cHJlXTpwLTMgWyY+cHJlXTpvdmVyZmxvdy14LWF1dG8gWyY+Y29kZV06Ymctc2xhdGUtMjAwIFsmPmNvZGVdOnB4LTEgWyY+Y29kZV06cm91bmRlZFwiPiR7Zm9ybWF0dGVkQ29udGVudH08L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICBgO1xuICAgIH1cbiAgICBcbiAgICBhaUNoYXRNZXNzYWdlcy5hcHBlbmRDaGlsZChtc2dEaXYpO1xuICAgIGFpQ2hhdE1lc3NhZ2VzLnNjcm9sbFRvcCA9IGFpQ2hhdE1lc3NhZ2VzLnNjcm9sbEhlaWdodDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZmZpY2hlIHVuIGluZGljYXRldXIgZGUgY2hhcmdlbWVudFxuICAgKi9cbiAgZnVuY3Rpb24gc2hvd0FJTG9hZGluZygpIHtcbiAgICBpZiAoIWFpQ2hhdE1lc3NhZ2VzKSByZXR1cm47XG4gICAgXG4gICAgY29uc3QgbG9hZGluZ0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGxvYWRpbmdEaXYuY2xhc3NOYW1lID0gJ2ZsZXggZ2FwLTMnO1xuICAgIGxvYWRpbmdEaXYuaWQgPSAnYWktbG9hZGluZy1pbmRpY2F0b3InO1xuICAgIGxvYWRpbmdEaXYuaW5uZXJIVE1MID0gYFxuICAgICAgPGRpdiBjbGFzcz1cInctOCBoLTggcm91bmRlZC1mdWxsIGJnLWdyYWRpZW50LXRvLWJyIGZyb20tdmlvbGV0LTUwMCB0by1pbmRpZ28tNjAwIGZsZXgtc2hyaW5rLTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgPHN2ZyBjbGFzcz1cInctNCBoLTQgdGV4dC13aGl0ZSBhbmltYXRlLXB1bHNlXCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgPHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNOS42NjMgMTdoNC42NzNNMTIgM3YxbTYuMzY0IDEuNjM2bC0uNzA3LjcwN00yMSAxMmgtMU00IDEySDNtMy4zNDMtNS42NTdsLS43MDctLjcwN20yLjgyOCA5LjlhNSA1IDAgMTE3LjA3MiAwbC0uNTQ4LjU0N0EzLjM3NCAzLjM3NCAwIDAwMTQgMTguNDY5VjE5YTIgMiAwIDExLTQgMHYtLjUzMWMwLS44OTUtLjM1Ni0xLjc1NC0uOTg4LTIuMzg2bC0uNTQ4LS41NDd6XCIvPlxuICAgICAgICA8L3N2Zz5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cImZsZXgtMSBiZy1zbGF0ZS01MCByb3VuZGVkLTJ4bCByb3VuZGVkLXRsLW5vbmUgcC0zXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ3LTIgaC0yIGJnLXZpb2xldC00MDAgcm91bmRlZC1mdWxsIGFuaW1hdGUtYm91bmNlXCIgc3R5bGU9XCJhbmltYXRpb24tZGVsYXk6IDBtc1wiPjwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ3LTIgaC0yIGJnLXZpb2xldC00MDAgcm91bmRlZC1mdWxsIGFuaW1hdGUtYm91bmNlXCIgc3R5bGU9XCJhbmltYXRpb24tZGVsYXk6IDE1MG1zXCI+PC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInctMiBoLTIgYmctdmlvbGV0LTQwMCByb3VuZGVkLWZ1bGwgYW5pbWF0ZS1ib3VuY2VcIiBzdHlsZT1cImFuaW1hdGlvbi1kZWxheTogMzAwbXNcIj48L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICBgO1xuICAgIFxuICAgIGFpQ2hhdE1lc3NhZ2VzLmFwcGVuZENoaWxkKGxvYWRpbmdEaXYpO1xuICAgIGFpQ2hhdE1lc3NhZ2VzLnNjcm9sbFRvcCA9IGFpQ2hhdE1lc3NhZ2VzLnNjcm9sbEhlaWdodDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWNoZSBsJ2luZGljYXRldXIgZGUgY2hhcmdlbWVudFxuICAgKi9cbiAgZnVuY3Rpb24gaGlkZUFJTG9hZGluZygpIHtcbiAgICBjb25zdCBsb2FkaW5nRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FpLWxvYWRpbmctaW5kaWNhdG9yJyk7XG4gICAgbG9hZGluZ0Rpdj8ucmVtb3ZlKCk7XG4gIH1cblxuICAvKipcbiAgICogRm9ybWF0ZSBsYSByXHUwMEU5cG9uc2UgZGUgbCdJQSAoTWFya2Rvd24gYmFzaXF1ZSlcbiAgICovXG4gIGZ1bmN0aW9uIGZvcm1hdEFJUmVzcG9uc2UodGV4dCkge1xuICAgIGlmICghdGV4dCkgcmV0dXJuICcnO1xuICAgIFxuICAgIC8vIEVzY2FwZSBIVE1MIGQnYWJvcmRcbiAgICBsZXQgZm9ybWF0dGVkID0gZXNjYXBlSHRtbCh0ZXh0KTtcbiAgICBcbiAgICAvLyBDb2RlIGJsb2NrcyBgYGBcbiAgICBmb3JtYXR0ZWQgPSBmb3JtYXR0ZWQucmVwbGFjZSgvYGBgKFxcdyopXFxuKFtcXHNcXFNdKj8pYGBgL2csIChtYXRjaCwgbGFuZywgY29kZSkgPT4ge1xuICAgICAgcmV0dXJuIGA8cHJlIGNsYXNzPVwibGFuZ3VhZ2UtJHtsYW5nIHx8ICd0ZXh0J31cIj48Y29kZT4ke2NvZGUudHJpbSgpfTwvY29kZT48L3ByZT5gO1xuICAgIH0pO1xuICAgIFxuICAgIC8vIElubGluZSBjb2RlIGBcbiAgICBmb3JtYXR0ZWQgPSBmb3JtYXR0ZWQucmVwbGFjZSgvYChbXmBdKylgL2csICc8Y29kZT4kMTwvY29kZT4nKTtcbiAgICBcbiAgICAvLyBCb2xkICoqdGV4dCoqXG4gICAgZm9ybWF0dGVkID0gZm9ybWF0dGVkLnJlcGxhY2UoL1xcKlxcKihbXipdKylcXCpcXCovZywgJzxzdHJvbmc+JDE8L3N0cm9uZz4nKTtcbiAgICBcbiAgICAvLyBJdGFsaWMgKnRleHQqXG4gICAgZm9ybWF0dGVkID0gZm9ybWF0dGVkLnJlcGxhY2UoL1xcKihbXipdKylcXCovZywgJzxlbT4kMTwvZW0+Jyk7XG4gICAgXG4gICAgLy8gVGl0cmVzXG4gICAgZm9ybWF0dGVkID0gZm9ybWF0dGVkLnJlcGxhY2UoL14jIyMgKC4rKSQvZ20sICc8aDQgY2xhc3M9XCJmb250LXNlbWlib2xkIHRleHQtc2xhdGUtOTAwIG10LTMgbWItMVwiPiQxPC9oND4nKTtcbiAgICBmb3JtYXR0ZWQgPSBmb3JtYXR0ZWQucmVwbGFjZSgvXiMjICguKykkL2dtLCAnPGgzIGNsYXNzPVwiZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTkwMCBtdC0zIG1iLTFcIj4kMTwvaDM+Jyk7XG4gICAgZm9ybWF0dGVkID0gZm9ybWF0dGVkLnJlcGxhY2UoL14jICguKykkL2dtLCAnPGgyIGNsYXNzPVwiZm9udC1ib2xkIHRleHQtc2xhdGUtOTAwIG10LTMgbWItMlwiPiQxPC9oMj4nKTtcbiAgICBcbiAgICAvLyBMaXN0ZXNcbiAgICBmb3JtYXR0ZWQgPSBmb3JtYXR0ZWQucmVwbGFjZSgvXi0gKC4rKSQvZ20sICc8bGkgY2xhc3M9XCJtbC00XCI+JDE8L2xpPicpO1xuICAgIGZvcm1hdHRlZCA9IGZvcm1hdHRlZC5yZXBsYWNlKC9eKFxcZCspXFwuICguKykkL2dtLCAnPGxpIGNsYXNzPVwibWwtNFwiPiQyPC9saT4nKTtcbiAgICBcbiAgICAvLyBQYXJhZ3JhcGhlcyAobGlnbmVzIHZpZGVzKVxuICAgIGZvcm1hdHRlZCA9IGZvcm1hdHRlZC5yZXBsYWNlKC9cXG5cXG4vZywgJzwvcD48cCBjbGFzcz1cIm1iLTJcIj4nKTtcbiAgICBmb3JtYXR0ZWQgPSAnPHAgY2xhc3M9XCJtYi0yXCI+JyArIGZvcm1hdHRlZCArICc8L3A+JztcbiAgICBcbiAgICAvLyBOZXR0b3llciBsZXMgPHA+IHZpZGVzXG4gICAgZm9ybWF0dGVkID0gZm9ybWF0dGVkLnJlcGxhY2UoLzxwIGNsYXNzPVwibWItMlwiPjxcXC9wPi9nLCAnJyk7XG4gICAgXG4gICAgcmV0dXJuIGZvcm1hdHRlZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBcdTAwQzljaGFwcGUgbGUgSFRNTFxuICAgKi9cbiAgZnVuY3Rpb24gZXNjYXBlSHRtbCh0ZXh0KSB7XG4gICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZGl2LnRleHRDb250ZW50ID0gdGV4dDtcbiAgICByZXR1cm4gZGl2LmlubmVySFRNTDtcbiAgfVxuXG4gIC8qKlxuICAgKiBFbnZvaWUgdW4gbWVzc2FnZSBhdSBjaGF0IElBXG4gICAqL1xuICBhc3luYyBmdW5jdGlvbiBzZW5kQUlNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICBjb25zdCBzaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyk7XG4gICAgaWYgKCFtZXNzYWdlIHx8ICFzaXRlU2x1ZyB8fCBhaUlzTG9hZGluZykgcmV0dXJuO1xuICAgIFxuICAgIGFpSXNMb2FkaW5nID0gdHJ1ZTtcbiAgICBhaUNoYXRJbnB1dC5kaXNhYmxlZCA9IHRydWU7XG4gICAgXG4gICAgLy8gRWZmYWNlciBsZSBtZXNzYWdlIGRlIGJpZW52ZW51ZSBhdSBwcmVtaWVyIG1lc3NhZ2VcbiAgICBjb25zdCB3ZWxjb21lTXNnID0gYWlDaGF0TWVzc2FnZXM/LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFpLXdlbGNvbWVdJyk7XG4gICAgaWYgKHdlbGNvbWVNc2cpIHdlbGNvbWVNc2cucmVtb3ZlKCk7XG4gICAgXG4gICAgLy8gQWZmaWNoZXIgbGUgbWVzc2FnZSBkZSBsJ3V0aWxpc2F0ZXVyXG4gICAgYXBwZW5kQUlNZXNzYWdlKG1lc3NhZ2UsICd1c2VyJyk7XG4gICAgXG4gICAgLy8gQWZmaWNoZXIgbGUgbG9hZGVyXG4gICAgc2hvd0FJTG9hZGluZygpO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNpdGVTbHVnKX0vYWkvY2hhdGAsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IG1lc3NhZ2UgfSlcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBoaWRlQUlMb2FkaW5nKCk7XG4gICAgICBcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgZXJyb3IgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvci5tZXNzYWdlIHx8ICdFcnJldXIgZGUgY29tbXVuaWNhdGlvbicpO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgXG4gICAgICBpZiAoZGF0YS5yZXNwb25zZSkge1xuICAgICAgICBhcHBlbmRBSU1lc3NhZ2UoZGF0YS5yZXNwb25zZSwgJ2Fzc2lzdGFudCcpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBHXHUwMEU5cmVyIGxlcyBwcm9wb3NpdGlvbnMgZCdcdTAwRTlkaXRpb24gZGUgcGFnZVxuICAgICAgaWYgKGRhdGEuZWRpdFByb3Bvc2FsKSB7XG4gICAgICAgIGFwcGVuZEVkaXRQcm9wb3NhbChkYXRhLmVkaXRQcm9wb3NhbCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEdcdTAwRTlyZXIgbGVzIHByb3Bvc2l0aW9ucyBkZSBtb2RpZmljYXRpb24gZHUgdGhcdTAwRThtZVxuICAgICAgaWYgKGRhdGEudGhlbWVQcm9wb3NhbCkge1xuICAgICAgICBhcHBlbmRUaGVtZVByb3Bvc2FsKGRhdGEudGhlbWVQcm9wb3NhbCk7XG4gICAgICB9XG4gICAgICBcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGhpZGVBSUxvYWRpbmcoKTtcbiAgICAgIGFwcGVuZEFJTWVzc2FnZShgXHUyNzRDIEVycmV1cjogJHtlcnIubWVzc2FnZX1gLCAnYXNzaXN0YW50Jyk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGFpSXNMb2FkaW5nID0gZmFsc2U7XG4gICAgICBhaUNoYXRJbnB1dC5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgYWlDaGF0SW5wdXQuZm9jdXMoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQWZmaWNoZSB1bmUgcHJvcG9zaXRpb24gZCdcdTAwRTlkaXRpb24gYXZlYyBib3V0b25zIGRlIHZhbGlkYXRpb25cbiAgICovXG4gIGZ1bmN0aW9uIGFwcGVuZEVkaXRQcm9wb3NhbChwcm9wb3NhbCkge1xuICAgIGlmICghYWlDaGF0TWVzc2FnZXMgfHwgIXByb3Bvc2FsKSByZXR1cm47XG4gICAgXG4gICAgY29uc3QgcHJvcG9zYWxEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBwcm9wb3NhbERpdi5jbGFzc05hbWUgPSAnZmxleCBnYXAtMyBtdC0yJztcbiAgICBwcm9wb3NhbERpdi5kYXRhc2V0LnByb3Bvc2FsSWQgPSBwcm9wb3NhbC5wcm9wb3NhbElkO1xuICAgIFxuICAgIC8vIENvbnN0cnVpcmUgbGUgclx1MDBFOXN1bVx1MDBFOSBkZXMgY2hhbmdlbWVudHNcbiAgICBsZXQgY2hhbmdlc0h0bWwgPSAnJztcbiAgICBpZiAocHJvcG9zYWwuY2hhbmdlcykge1xuICAgICAgaWYgKHByb3Bvc2FsLmNoYW5nZXMudGl0bGUpIHtcbiAgICAgICAgY2hhbmdlc0h0bWwgKz0gYDxsaT5UaXRyZSBcdTIxOTIgPHN0cm9uZz4ke2VzY2FwZUh0bWwocHJvcG9zYWwuY2hhbmdlcy50aXRsZSl9PC9zdHJvbmc+PC9saT5gO1xuICAgICAgfVxuICAgICAgaWYgKHByb3Bvc2FsLmNoYW5nZXMuZGVzY3JpcHRpb24pIHtcbiAgICAgICAgY2hhbmdlc0h0bWwgKz0gYDxsaT5EZXNjcmlwdGlvbiBcdTIxOTIgJHtlc2NhcGVIdG1sKHByb3Bvc2FsLmNoYW5nZXMuZGVzY3JpcHRpb24uc3Vic3RyaW5nKDAsIDgwKSl9Li4uPC9saT5gO1xuICAgICAgfVxuICAgICAgaWYgKHByb3Bvc2FsLmNoYW5nZXMuc2VvKSB7XG4gICAgICAgIGlmIChwcm9wb3NhbC5jaGFuZ2VzLnNlby5tZXRhVGl0bGUpIHtcbiAgICAgICAgICBjaGFuZ2VzSHRtbCArPSBgPGxpPk1ldGEgdGl0bGUgXHUyMTkyICR7ZXNjYXBlSHRtbChwcm9wb3NhbC5jaGFuZ2VzLnNlby5tZXRhVGl0bGUpfTwvbGk+YDtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvcG9zYWwuY2hhbmdlcy5zZW8ubWV0YURlc2NyaXB0aW9uKSB7XG4gICAgICAgICAgY2hhbmdlc0h0bWwgKz0gYDxsaT5NZXRhIGRlc2NyaXB0aW9uIFx1MjE5MiAke2VzY2FwZUh0bWwocHJvcG9zYWwuY2hhbmdlcy5zZW8ubWV0YURlc2NyaXB0aW9uLnN1YnN0cmluZygwLCA2MCkpfS4uLjwvbGk+YDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHByb3Bvc2FsLmNoYW5nZXMuYmxvY2tVcGRhdGUpIHtcbiAgICAgICAgY2hhbmdlc0h0bWwgKz0gYDxsaT5CbG9jIFwiJHtwcm9wb3NhbC5jaGFuZ2VzLmJsb2NrVXBkYXRlLmJsb2NrSWR9XCIgbW9kaWZpXHUwMEU5PC9saT5gO1xuICAgICAgICBpZiAocHJvcG9zYWwuY2hhbmdlcy5ibG9ja1VwZGF0ZS5zZXR0aW5ncykge1xuICAgICAgICAgIGNvbnN0IHNldHRpbmdzID0gcHJvcG9zYWwuY2hhbmdlcy5ibG9ja1VwZGF0ZS5zZXR0aW5ncztcbiAgICAgICAgICBpZiAoc2V0dGluZ3MudGl0bGUpIGNoYW5nZXNIdG1sICs9IGA8bGkgY2xhc3M9XCJtbC00XCI+XHUyMTkyIHRpdGxlOiAke2VzY2FwZUh0bWwoc2V0dGluZ3MudGl0bGUpfTwvbGk+YDtcbiAgICAgICAgICBpZiAoc2V0dGluZ3MuY29udGVudCkgY2hhbmdlc0h0bWwgKz0gYDxsaSBjbGFzcz1cIm1sLTRcIj5cdTIxOTIgY29udGVudCBtb2RpZmlcdTAwRTk8L2xpPmA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgcHJvcG9zYWxEaXYuaW5uZXJIVE1MID0gYFxuICAgICAgPGRpdiBjbGFzcz1cInctOCBoLTggcm91bmRlZC1mdWxsIGJnLWFtYmVyLTUwMCBmbGV4LXNocmluay0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgIDxzdmcgY2xhc3M9XCJ3LTQgaC00IHRleHQtd2hpdGVcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICA8cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xMSA1SDZhMiAyIDAgMDAtMiAydjExYTIgMiAwIDAwMiAyaDExYTIgMiAwIDAwMi0ydi01bS0xLjQxNC05LjQxNGEyIDIgMCAxMTIuODI4IDIuODI4TDExLjgyOCAxNUg5di0yLjgyOGw4LjU4Ni04LjU4NnpcIi8+XG4gICAgICAgIDwvc3ZnPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwiZmxleC0xIGJnLWFtYmVyLTUwIGJvcmRlciBib3JkZXItYW1iZXItMjAwIHJvdW5kZWQtMnhsIHJvdW5kZWQtdGwtbm9uZSBwLTRcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIG1iLTJcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQteHMgZm9udC1zZW1pYm9sZCB0ZXh0LWFtYmVyLTcwMCBiZy1hbWJlci0xMDAgcHgtMiBweS0wLjUgcm91bmRlZFwiPlByb3Bvc2l0aW9uIGQnXHUwMEU5ZGl0aW9uPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtc2xhdGUtODAwIG1iLTFcIj5QYWdlIDogJHtlc2NhcGVIdG1sKHByb3Bvc2FsLnBhZ2VUaXRsZSB8fCBwcm9wb3NhbC5wYWdlSWQpfTwvcD5cbiAgICAgICAgJHtwcm9wb3NhbC5yZWFzb24gPyBgPHAgY2xhc3M9XCJ0ZXh0LXNtIHRleHQtc2xhdGUtNjAwIG1iLTJcIj4ke2VzY2FwZUh0bWwocHJvcG9zYWwucmVhc29uKX08L3A+YCA6ICcnfVxuICAgICAgICA8dWwgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNjAwIHNwYWNlLXktMSBtYi0zIGxpc3QtZGlzYyBtbC00XCI+XG4gICAgICAgICAgJHtjaGFuZ2VzSHRtbCB8fCAnPGxpPk1vZGlmaWNhdGlvbnMgcHJvcG9zXHUwMEU5ZXM8L2xpPid9XG4gICAgICAgIDwvdWw+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGdhcC0yXCI+XG4gICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgIGNsYXNzPVwiYWktYXBwbHktZWRpdCBweC0zIHB5LTEuNSB0ZXh0LXhzIGZvbnQtbWVkaXVtIHRleHQtd2hpdGUgYmctZW1lcmFsZC02MDAgaG92ZXI6YmctZW1lcmFsZC03MDAgcm91bmRlZC1sZyB0cmFuc2l0aW9uLWNvbG9ycyBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMVwiXG4gICAgICAgICAgICBkYXRhLXByb3Bvc2FsLWlkPVwiJHtwcm9wb3NhbC5wcm9wb3NhbElkfVwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHN2ZyBjbGFzcz1cInctMy41IGgtMy41XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICAgIDxwYXRoIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTUgMTNsNCA0TDE5IDdcIi8+XG4gICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgIEFwcGxpcXVlclxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICBjbGFzcz1cImFpLXJlamVjdC1lZGl0IHB4LTMgcHktMS41IHRleHQteHMgZm9udC1tZWRpdW0gdGV4dC1zbGF0ZS02MDAgYmctc2xhdGUtMTAwIGhvdmVyOmJnLXNsYXRlLTIwMCByb3VuZGVkLWxnIHRyYW5zaXRpb24tY29sb3JzIGZsZXggaXRlbXMtY2VudGVyIGdhcC0xXCJcbiAgICAgICAgICAgIGRhdGEtcHJvcG9zYWwtaWQ9XCIke3Byb3Bvc2FsLnByb3Bvc2FsSWR9XCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8c3ZnIGNsYXNzPVwidy0zLjUgaC0zLjVcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNiAxOEwxOCA2TTYgNmwxMiAxMlwiLz5cbiAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgUmVqZXRlclxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIGA7XG4gICAgXG4gICAgYWlDaGF0TWVzc2FnZXMuYXBwZW5kQ2hpbGQocHJvcG9zYWxEaXYpO1xuICAgIGFpQ2hhdE1lc3NhZ2VzLnNjcm9sbFRvcCA9IGFpQ2hhdE1lc3NhZ2VzLnNjcm9sbEhlaWdodDtcbiAgICBcbiAgICAvLyBBdHRhY2hlciBsZXMgXHUwMEU5dlx1MDBFOW5lbWVudHMgYXV4IGJvdXRvbnNcbiAgICBwcm9wb3NhbERpdi5xdWVyeVNlbGVjdG9yKCcuYWktYXBwbHktZWRpdCcpPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZUFwcGx5RWRpdCk7XG4gICAgcHJvcG9zYWxEaXYucXVlcnlTZWxlY3RvcignLmFpLXJlamVjdC1lZGl0Jyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlUmVqZWN0RWRpdCk7XG4gIH1cblxuICAvKipcbiAgICogQWZmaWNoZSB1bmUgcHJvcG9zaXRpb24gZGUgbW9kaWZpY2F0aW9uIGR1IHRoXHUwMEU4bWUgYXZlYyBib3V0b25zIGRlIHZhbGlkYXRpb25cbiAgICovXG4gIGZ1bmN0aW9uIGFwcGVuZFRoZW1lUHJvcG9zYWwocHJvcG9zYWwpIHtcbiAgICBpZiAoIWFpQ2hhdE1lc3NhZ2VzIHx8ICFwcm9wb3NhbCkgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0IHByb3Bvc2FsRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgcHJvcG9zYWxEaXYuY2xhc3NOYW1lID0gJ2ZsZXggZ2FwLTMgbXQtMic7XG4gICAgcHJvcG9zYWxEaXYuZGF0YXNldC5wcm9wb3NhbElkID0gcHJvcG9zYWwucHJvcG9zYWxJZDtcbiAgICBcbiAgICAvLyBDb25zdHJ1aXJlIGxlIHJcdTAwRTlzdW1cdTAwRTkgZGVzIGNoYW5nZW1lbnRzIGRlIGNvdWxldXJzXG4gICAgbGV0IGNvbG9yc0h0bWwgPSAnJztcbiAgICBpZiAocHJvcG9zYWwuY2hhbmdlcz8uY29sb3JzKSB7XG4gICAgICBjb25zdCBjb2xvcnMgPSBwcm9wb3NhbC5jaGFuZ2VzLmNvbG9ycztcbiAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGNvbG9ycykpIHtcbiAgICAgICAgY29sb3JzSHRtbCArPSBgPGxpIGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInctNCBoLTQgcm91bmRlZCBib3JkZXIgYm9yZGVyLXNsYXRlLTMwMFwiIHN0eWxlPVwiYmFja2dyb3VuZDogJHtnZXRUYWlsd2luZENvbG9yQ3NzKHZhbHVlKX1cIj48L3NwYW4+XG4gICAgICAgICAgPHNwYW4+JHtrZXl9OiA8c3Ryb25nPiR7ZXNjYXBlSHRtbCh2YWx1ZSl9PC9zdHJvbmc+PC9zcGFuPlxuICAgICAgICA8L2xpPmA7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8vIFR5cG9ncmFwaGllc1xuICAgIGxldCB0eXBvSHRtbCA9ICcnO1xuICAgIGlmIChwcm9wb3NhbC5jaGFuZ2VzPy50eXBvZ3JhcGh5KSB7XG4gICAgICBjb25zdCB0eXBvID0gcHJvcG9zYWwuY2hhbmdlcy50eXBvZ3JhcGh5O1xuICAgICAgaWYgKHR5cG8uaGVhZGluZ3MpIHR5cG9IdG1sICs9IGA8bGk+VGl0cmVzIFx1MjE5MiA8c3Ryb25nPiR7ZXNjYXBlSHRtbCh0eXBvLmhlYWRpbmdzKX08L3N0cm9uZz48L2xpPmA7XG4gICAgICBpZiAodHlwby5ib2R5KSB0eXBvSHRtbCArPSBgPGxpPlRleHRlcyBcdTIxOTIgPHN0cm9uZz4ke2VzY2FwZUh0bWwodHlwby5ib2R5KX08L3N0cm9uZz48L2xpPmA7XG4gICAgfVxuICAgIFxuICAgIHByb3Bvc2FsRGl2LmlubmVySFRNTCA9IGBcbiAgICAgIDxkaXYgY2xhc3M9XCJ3LTggaC04IHJvdW5kZWQtZnVsbCBiZy1wdXJwbGUtNTAwIGZsZXgtc2hyaW5rLTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgPHN2ZyBjbGFzcz1cInctNCBoLTQgdGV4dC13aGl0ZVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgIDxwYXRoIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTcgMjFhNCA0IDAgMDEtNC00VjVhMiAyIDAgMDEyLTJoNGEyIDIgMCAwMTIgMnYxMmE0IDQgMCAwMS00IDR6bTAgMGgxMmEyIDIgMCAwMDItMnYtNGEyIDIgMCAwMC0yLTJoLTIuMzQzTTExIDcuMzQzbDEuNjU3LTEuNjU3YTIgMiAwIDAxMi44MjggMGwyLjgyOSAyLjgyOWEyIDIgMCAwMTAgMi44MjhsLTguNDg2IDguNDg1TTcgMTdoLjAxXCIvPlxuICAgICAgICA8L3N2Zz5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cImZsZXgtMSBiZy1wdXJwbGUtNTAgYm9yZGVyIGJvcmRlci1wdXJwbGUtMjAwIHJvdW5kZWQtMnhsIHJvdW5kZWQtdGwtbm9uZSBwLTRcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIG1iLTJcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQteHMgZm9udC1zZW1pYm9sZCB0ZXh0LXB1cnBsZS03MDAgYmctcHVycGxlLTEwMCBweC0yIHB5LTAuNSByb3VuZGVkXCI+TW9kaWZpY2F0aW9uIGR1IHRoXHUwMEU4bWU8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICAke3Byb3Bvc2FsLnJlYXNvbiA/IGA8cCBjbGFzcz1cInRleHQtc20gdGV4dC1zbGF0ZS02MDAgbWItM1wiPiR7ZXNjYXBlSHRtbChwcm9wb3NhbC5yZWFzb24pfTwvcD5gIDogJyd9XG4gICAgICAgICR7Y29sb3JzSHRtbCA/IGBcbiAgICAgICAgICA8cCBjbGFzcz1cInRleHQteHMgZm9udC1tZWRpdW0gdGV4dC1zbGF0ZS03MDAgbWItMVwiPkNvdWxldXJzIDo8L3A+XG4gICAgICAgICAgPHVsIGNsYXNzPVwidGV4dC14cyB0ZXh0LXNsYXRlLTYwMCBzcGFjZS15LTEgbWItM1wiPiR7Y29sb3JzSHRtbH08L3VsPlxuICAgICAgICBgIDogJyd9XG4gICAgICAgICR7dHlwb0h0bWwgPyBgXG4gICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXhzIGZvbnQtbWVkaXVtIHRleHQtc2xhdGUtNzAwIG1iLTFcIj5UeXBvZ3JhcGhpZXMgOjwvcD5cbiAgICAgICAgICA8dWwgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNjAwIHNwYWNlLXktMSBtYi0zIGxpc3QtZGlzYyBtbC00XCI+JHt0eXBvSHRtbH08L3VsPlxuICAgICAgICBgIDogJyd9XG4gICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGdhcC0yXCI+XG4gICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgIGNsYXNzPVwiYWktYXBwbHktdGhlbWUgcHgtMyBweS0xLjUgdGV4dC14cyBmb250LW1lZGl1bSB0ZXh0LXdoaXRlIGJnLXB1cnBsZS02MDAgaG92ZXI6YmctcHVycGxlLTcwMCByb3VuZGVkLWxnIHRyYW5zaXRpb24tY29sb3JzIGZsZXggaXRlbXMtY2VudGVyIGdhcC0xXCJcbiAgICAgICAgICAgIGRhdGEtcHJvcG9zYWwtaWQ9XCIke3Byb3Bvc2FsLnByb3Bvc2FsSWR9XCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8c3ZnIGNsYXNzPVwidy0zLjUgaC0zLjVcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNSAxM2w0IDRMMTkgN1wiLz5cbiAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgQXBwbGlxdWVyXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgIGNsYXNzPVwiYWktcmVqZWN0LXRoZW1lIHB4LTMgcHktMS41IHRleHQteHMgZm9udC1tZWRpdW0gdGV4dC1zbGF0ZS02MDAgYmctc2xhdGUtMTAwIGhvdmVyOmJnLXNsYXRlLTIwMCByb3VuZGVkLWxnIHRyYW5zaXRpb24tY29sb3JzIGZsZXggaXRlbXMtY2VudGVyIGdhcC0xXCJcbiAgICAgICAgICAgIGRhdGEtcHJvcG9zYWwtaWQ9XCIke3Byb3Bvc2FsLnByb3Bvc2FsSWR9XCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8c3ZnIGNsYXNzPVwidy0zLjUgaC0zLjVcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNiAxOEwxOCA2TTYgNmwxMiAxMlwiLz5cbiAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgUmVqZXRlclxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIGA7XG4gICAgXG4gICAgYWlDaGF0TWVzc2FnZXMuYXBwZW5kQ2hpbGQocHJvcG9zYWxEaXYpO1xuICAgIGFpQ2hhdE1lc3NhZ2VzLnNjcm9sbFRvcCA9IGFpQ2hhdE1lc3NhZ2VzLnNjcm9sbEhlaWdodDtcbiAgICBcbiAgICAvLyBBdHRhY2hlciBsZXMgXHUwMEU5dlx1MDBFOW5lbWVudHMgYXV4IGJvdXRvbnNcbiAgICBwcm9wb3NhbERpdi5xdWVyeVNlbGVjdG9yKCcuYWktYXBwbHktdGhlbWUnKT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVBcHBseVRoZW1lKTtcbiAgICBwcm9wb3NhbERpdi5xdWVyeVNlbGVjdG9yKCcuYWktcmVqZWN0LXRoZW1lJyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlUmVqZWN0RWRpdCk7IC8vIFJcdTAwRTl1dGlsaXNlIGxhIG1cdTAwRUFtZSBsb2dpcXVlIGRlIHJlamV0XG4gIH1cbiAgXG4gIC8qKlxuICAgKiBDb252ZXJ0aXQgdW5lIGNvdWxldXIgVGFpbHdpbmQgZW4gQ1NTIGFwcHJveGltYXRpZiBwb3VyIHByZXZpZXdcbiAgICovXG4gIGZ1bmN0aW9uIGdldFRhaWx3aW5kQ29sb3JDc3MoY29sb3JOYW1lKSB7XG4gICAgY29uc3QgY29sb3JzID0ge1xuICAgICAgJ3doaXRlJzogJyNmZmZmZmYnLCAnYmxhY2snOiAnIzAwMDAwMCcsICd0cmFuc3BhcmVudCc6ICd0cmFuc3BhcmVudCcsXG4gICAgICAnc2xhdGUtNTAnOiAnI2Y4ZmFmYycsICdzbGF0ZS0xMDAnOiAnI2YxZjVmOScsICdzbGF0ZS0yMDAnOiAnI2UyZThmMCcsICdzbGF0ZS0zMDAnOiAnI2NiZDVlMScsICdzbGF0ZS00MDAnOiAnIzk0YTNiOCcsICdzbGF0ZS01MDAnOiAnIzY0NzQ4YicsICdzbGF0ZS02MDAnOiAnIzQ3NTU2OScsICdzbGF0ZS03MDAnOiAnIzMzNDE1NScsICdzbGF0ZS04MDAnOiAnIzFlMjkzYicsICdzbGF0ZS05MDAnOiAnIzBmMTcyYScsXG4gICAgICAnZ3JheS01MCc6ICcjZjlmYWZiJywgJ2dyYXktMTAwJzogJyNmM2Y0ZjYnLCAnZ3JheS0yMDAnOiAnI2U1ZTdlYicsICdncmF5LTMwMCc6ICcjZDFkNWRiJywgJ2dyYXktNDAwJzogJyM5Y2EzYWYnLCAnZ3JheS01MDAnOiAnIzZiNzI4MCcsICdncmF5LTYwMCc6ICcjNGI1NTYzJywgJ2dyYXktNzAwJzogJyMzNzQxNTEnLCAnZ3JheS04MDAnOiAnIzFmMjkzNycsICdncmF5LTkwMCc6ICcjMTExODI3JyxcbiAgICAgICd2aW9sZXQtNTAnOiAnI2Y1ZjNmZicsICd2aW9sZXQtMTAwJzogJyNlZGU5ZmUnLCAndmlvbGV0LTIwMCc6ICcjZGRkNmZlJywgJ3Zpb2xldC0zMDAnOiAnI2M0YjVmZCcsICd2aW9sZXQtNDAwJzogJyNhNzhiZmEnLCAndmlvbGV0LTUwMCc6ICcjOGI1Y2Y2JywgJ3Zpb2xldC02MDAnOiAnIzdjM2FlZCcsICd2aW9sZXQtNzAwJzogJyM2ZDI4ZDknLCAndmlvbGV0LTgwMCc6ICcjNWIyMWI2JywgJ3Zpb2xldC05MDAnOiAnIzRjMWQ5NScsXG4gICAgICAncHVycGxlLTUwJzogJyNmYWY1ZmYnLCAncHVycGxlLTEwMCc6ICcjZjNlOGZmJywgJ3B1cnBsZS0yMDAnOiAnI2U5ZDVmZicsICdwdXJwbGUtMzAwJzogJyNkOGI0ZmUnLCAncHVycGxlLTQwMCc6ICcjYzA4NGZjJywgJ3B1cnBsZS01MDAnOiAnI2E4NTVmNycsICdwdXJwbGUtNjAwJzogJyM5MzMzZWEnLCAncHVycGxlLTcwMCc6ICcjN2UyMmNlJywgJ3B1cnBsZS04MDAnOiAnIzZiMjFhOCcsICdwdXJwbGUtOTAwJzogJyM1ODFjODcnLFxuICAgICAgJ2JsdWUtNTAnOiAnI2VmZjZmZicsICdibHVlLTEwMCc6ICcjZGJlYWZlJywgJ2JsdWUtMjAwJzogJyNiZmRiZmUnLCAnYmx1ZS0zMDAnOiAnIzkzYzVmZCcsICdibHVlLTQwMCc6ICcjNjBhNWZhJywgJ2JsdWUtNTAwJzogJyMzYjgyZjYnLCAnYmx1ZS02MDAnOiAnIzI1NjNlYicsICdibHVlLTcwMCc6ICcjMWQ0ZWQ4JywgJ2JsdWUtODAwJzogJyMxZTQwYWYnLCAnYmx1ZS05MDAnOiAnIzFlM2E4YScsXG4gICAgICAnZW1lcmFsZC01MCc6ICcjZWNmZGY1JywgJ2VtZXJhbGQtMTAwJzogJyNkMWZhZTUnLCAnZW1lcmFsZC0yMDAnOiAnI2E3ZjNkMCcsICdlbWVyYWxkLTMwMCc6ICcjNmVlN2I3JywgJ2VtZXJhbGQtNDAwJzogJyMzNGQzOTknLCAnZW1lcmFsZC01MDAnOiAnIzEwYjk4MScsICdlbWVyYWxkLTYwMCc6ICcjMDU5NjY5JywgJ2VtZXJhbGQtNzAwJzogJyMwNDc4NTcnLCAnZW1lcmFsZC04MDAnOiAnIzA2NWY0NicsICdlbWVyYWxkLTkwMCc6ICcjMDY0ZTNiJyxcbiAgICAgICd0ZWFsLTUwJzogJyNmMGZkZmEnLCAndGVhbC0xMDAnOiAnI2NjZmJmMScsICd0ZWFsLTIwMCc6ICcjOTlmNmU0JywgJ3RlYWwtMzAwJzogJyM1ZWVhZDQnLCAndGVhbC00MDAnOiAnIzJkZDRiZicsICd0ZWFsLTUwMCc6ICcjMTRiOGE2JywgJ3RlYWwtNjAwJzogJyMwZDk0ODgnLCAndGVhbC03MDAnOiAnIzBmNzY2ZScsICd0ZWFsLTgwMCc6ICcjMTE1ZTU5JywgJ3RlYWwtOTAwJzogJyMxMzRlNGEnLFxuICAgICAgJ2FtYmVyLTUwJzogJyNmZmZiZWInLCAnYW1iZXItMTAwJzogJyNmZWYzYzcnLCAnYW1iZXItMjAwJzogJyNmZGU2OGEnLCAnYW1iZXItMzAwJzogJyNmY2QzNGQnLCAnYW1iZXItNDAwJzogJyNmYmJmMjQnLCAnYW1iZXItNTAwJzogJyNmNTllMGInLCAnYW1iZXItNjAwJzogJyNkOTc3MDYnLCAnYW1iZXItNzAwJzogJyNiNDUzMDknLCAnYW1iZXItODAwJzogJyM5MjQwMGUnLCAnYW1iZXItOTAwJzogJyM3ODM1MGYnLFxuICAgICAgJ3JlZC01MCc6ICcjZmVmMmYyJywgJ3JlZC0xMDAnOiAnI2ZlZTJlMicsICdyZWQtMjAwJzogJyNmZWNhY2EnLCAncmVkLTMwMCc6ICcjZmNhNWE1JywgJ3JlZC00MDAnOiAnI2Y4NzE3MScsICdyZWQtNTAwJzogJyNlZjQ0NDQnLCAncmVkLTYwMCc6ICcjZGMyNjI2JywgJ3JlZC03MDAnOiAnI2I5MWMxYycsICdyZWQtODAwJzogJyM5OTFiMWInLCAncmVkLTkwMCc6ICcjN2YxZDFkJ1xuICAgIH07XG4gICAgcmV0dXJuIGNvbG9yc1tjb2xvck5hbWVdIHx8ICcjOUM2QkZGJztcbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBsaXF1ZSB1bmUgcHJvcG9zaXRpb24gZGUgbW9kaWZpY2F0aW9uIGR1IHRoXHUwMEU4bWVcbiAgICovXG4gIGFzeW5jIGZ1bmN0aW9uIGhhbmRsZUFwcGx5VGhlbWUoZSkge1xuICAgIGNvbnN0IHByb3Bvc2FsSWQgPSBlLnRhcmdldC5jbG9zZXN0KCdbZGF0YS1wcm9wb3NhbC1pZF0nKT8uZGF0YXNldC5wcm9wb3NhbElkO1xuICAgIGNvbnN0IHNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goc3RvcmVkU2l0ZS5zbHVnIHx8ICcnKTtcbiAgICBpZiAoIXByb3Bvc2FsSWQgfHwgIXNpdGVTbHVnKSByZXR1cm47XG4gICAgXG4gICAgY29uc3QgYnRuID0gZS50YXJnZXQuY2xvc2VzdCgnYnV0dG9uJyk7XG4gICAgYnRuLmRpc2FibGVkID0gdHJ1ZTtcbiAgICBidG4uaW5uZXJIVE1MID0gJzxzcGFuIGNsYXNzPVwiYW5pbWF0ZS1zcGluXCI+XHUyM0YzPC9zcGFuPiBBcHBsaWNhdGlvbi4uLic7XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2l0ZVNsdWcpfS9haS9hcHBseS10aGVtZWAsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHByb3Bvc2FsSWQgfSlcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgXG4gICAgICBpZiAocmVzcG9uc2Uub2sgJiYgZGF0YS5zdWNjZXNzKSB7XG4gICAgICAgIC8vIFJlbXBsYWNlciBsYSBjYXJkIHBhciB1biBtZXNzYWdlIGRlIHN1Y2NcdTAwRThzXG4gICAgICAgIGNvbnN0IHByb3Bvc2FsQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXByb3Bvc2FsLWlkPVwiJHtwcm9wb3NhbElkfVwiXWApO1xuICAgICAgICBpZiAocHJvcG9zYWxDYXJkKSB7XG4gICAgICAgICAgcHJvcG9zYWxDYXJkLmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ3LTggaC04IHJvdW5kZWQtZnVsbCBiZy1wdXJwbGUtNTAwIGZsZXgtc2hyaW5rLTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgPHN2ZyBjbGFzcz1cInctNCBoLTQgdGV4dC13aGl0ZVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgICAgIDxwYXRoIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTUgMTNsNCA0TDE5IDdcIi8+XG4gICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleC0xIGJnLXB1cnBsZS01MCBib3JkZXIgYm9yZGVyLXB1cnBsZS0yMDAgcm91bmRlZC0yeGwgcm91bmRlZC10bC1ub25lIHAtM1wiPlxuICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQtc20gdGV4dC1wdXJwbGUtNzAwXCI+XHUyNzA1IFRoXHUwMEU4bWUgbWlzIFx1MDBFMCBqb3VyIGF2ZWMgc3VjY1x1MDBFOHMgITwvcD5cbiAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtcHVycGxlLTYwMCBtdC0xXCI+UmVjaGFyZ2V6IGxhIHByZXZpZXcgcG91ciB2b2lyIGxlcyBjaGFuZ2VtZW50cy48L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICBgO1xuICAgICAgICB9XG4gICAgICAgIHNob3dUb2FzdCgnVGhcdTAwRThtZSBtaXMgXHUwMEUwIGpvdXIgIScpO1xuICAgICAgICBcbiAgICAgICAgLy8gRFx1MDBFOWNsZW5jaGVyIHVuIFx1MDBFOXZcdTAwRTluZW1lbnQgcGVyc29ubmFsaXNcdTAwRTkgcG91ciByYWZyYVx1MDBFRWNoaXJcbiAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ2FpLXRoZW1lLXVwZGF0ZWQnLCB7XG4gICAgICAgICAgZGV0YWlsOiB7IHVwZGF0ZWRUaGVtZTogZGF0YS51cGRhdGVkVGhlbWUgfVxuICAgICAgICB9KSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZGF0YS5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsXFwnYXBwbGljYXRpb24nKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGJ0bi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgYnRuLmlubmVySFRNTCA9IGA8c3ZnIGNsYXNzPVwidy0zLjUgaC0zLjVcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk01IDEzbDQgNEwxOSA3XCIvPjwvc3ZnPiBSXHUwMEU5ZXNzYXllcmA7XG4gICAgICBzaG93VG9hc3QoYEVycmV1cjogJHtlcnIubWVzc2FnZX1gKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQXBwbGlxdWUgdW5lIHByb3Bvc2l0aW9uIGQnXHUwMEU5ZGl0aW9uIHZhbGlkXHUwMEU5ZVxuICAgKi9cbiAgYXN5bmMgZnVuY3Rpb24gaGFuZGxlQXBwbHlFZGl0KGUpIHtcbiAgICBjb25zdCBwcm9wb3NhbElkID0gZS50YXJnZXQuY2xvc2VzdCgnW2RhdGEtcHJvcG9zYWwtaWRdJyk/LmRhdGFzZXQucHJvcG9zYWxJZDtcbiAgICBjb25zdCBzaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyk7XG4gICAgaWYgKCFwcm9wb3NhbElkIHx8ICFzaXRlU2x1ZykgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0IGJ0biA9IGUudGFyZ2V0LmNsb3Nlc3QoJ2J1dHRvbicpO1xuICAgIGJ0bi5kaXNhYmxlZCA9IHRydWU7XG4gICAgYnRuLmlubmVySFRNTCA9ICc8c3BhbiBjbGFzcz1cImFuaW1hdGUtc3BpblwiPlx1MjNGMzwvc3Bhbj4gQXBwbGljYXRpb24uLi4nO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNpdGVTbHVnKX0vYWkvYXBwbHktZWRpdGAsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHByb3Bvc2FsSWQgfSlcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgXG4gICAgICBpZiAocmVzcG9uc2Uub2sgJiYgZGF0YS5zdWNjZXNzKSB7XG4gICAgICAgIC8vIFJlbXBsYWNlciBsYSBjYXJkIHBhciB1biBtZXNzYWdlIGRlIHN1Y2NcdTAwRThzXG4gICAgICAgIGNvbnN0IHByb3Bvc2FsQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXByb3Bvc2FsLWlkPVwiJHtwcm9wb3NhbElkfVwiXWApO1xuICAgICAgICBpZiAocHJvcG9zYWxDYXJkKSB7XG4gICAgICAgICAgcHJvcG9zYWxDYXJkLmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ3LTggaC04IHJvdW5kZWQtZnVsbCBiZy1lbWVyYWxkLTUwMCBmbGV4LXNocmluay0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJ3LTQgaC00IHRleHQtd2hpdGVcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgICAgICA8cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk01IDEzbDQgNEwxOSA3XCIvPlxuICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXgtMSBiZy1lbWVyYWxkLTUwIGJvcmRlciBib3JkZXItZW1lcmFsZC0yMDAgcm91bmRlZC0yeGwgcm91bmRlZC10bC1ub25lIHAtM1wiPlxuICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQtc20gdGV4dC1lbWVyYWxkLTcwMFwiPlx1MjcwNSBNb2RpZmljYXRpb25zIGFwcGxpcXVcdTAwRTllcyBhdmVjIHN1Y2NcdTAwRThzICE8L3A+XG4gICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC14cyB0ZXh0LWVtZXJhbGQtNjAwIG10LTFcIj5MYSBwcmV2aWV3IHNlIG1ldCBcdTAwRTAgam91ciBhdXRvbWF0aXF1ZW1lbnQuPC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgYDtcbiAgICAgICAgfVxuICAgICAgICBzaG93VG9hc3QoJ01vZGlmaWNhdGlvbnMgYXBwbGlxdVx1MDBFOWVzICEnKTtcbiAgICAgICAgXG4gICAgICAgIC8vIERcdTAwRTljbGVuY2hlciB1biBcdTAwRTl2XHUwMEU5bmVtZW50IHBlcnNvbm5hbGlzXHUwMEU5IHBvdXIgcmFmcmFcdTAwRUVjaGlyIGxhIHByZXZpZXdcbiAgICAgICAgY29uc3QgcGFnZUlkID0gZGF0YS51cGRhdGVkUGFnZT8uaWQgfHwgbnVsbDtcbiAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ2FpLXBhZ2UtdXBkYXRlZCcsIHtcbiAgICAgICAgICBkZXRhaWw6IHsgcGFnZUlkLCB1cGRhdGVkUGFnZTogZGF0YS51cGRhdGVkUGFnZSB9XG4gICAgICAgIH0pKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihkYXRhLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGRlIGxcXCdhcHBsaWNhdGlvbicpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgYnRuLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICBidG4uaW5uZXJIVE1MID0gYDxzdmcgY2xhc3M9XCJ3LTMuNSBoLTMuNVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTUgMTNsNCA0TDE5IDdcIi8+PC9zdmc+IFJcdTAwRTllc3NheWVyYDtcbiAgICAgIHNob3dUb2FzdChgRXJyZXVyOiAke2Vyci5tZXNzYWdlfWApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZWpldHRlIHVuZSBwcm9wb3NpdGlvbiBkJ1x1MDBFOWRpdGlvblxuICAgKi9cbiAgYXN5bmMgZnVuY3Rpb24gaGFuZGxlUmVqZWN0RWRpdChlKSB7XG4gICAgY29uc3QgcHJvcG9zYWxJZCA9IGUudGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLXByb3Bvc2FsLWlkXScpPy5kYXRhc2V0LnByb3Bvc2FsSWQ7XG4gICAgY29uc3Qgc2l0ZVNsdWcgPSBzdHJpcExlYWRpbmdTbGFzaChzdG9yZWRTaXRlLnNsdWcgfHwgJycpO1xuICAgIGlmICghcHJvcG9zYWxJZCB8fCAhc2l0ZVNsdWcpIHJldHVybjtcbiAgICBcbiAgICB0cnkge1xuICAgICAgYXdhaXQgZmV0Y2goYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2l0ZVNsdWcpfS9haS9wcm9wb3NhbC8ke3Byb3Bvc2FsSWR9YCwge1xuICAgICAgICBtZXRob2Q6ICdERUxFVEUnXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgLy8gUmVtcGxhY2VyIGxhIGNhcmQgcGFyIHVuIG1lc3NhZ2UgZGUgcmVqZXRcbiAgICAgIGNvbnN0IHByb3Bvc2FsQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXByb3Bvc2FsLWlkPVwiJHtwcm9wb3NhbElkfVwiXWApO1xuICAgICAgaWYgKHByb3Bvc2FsQ2FyZCkge1xuICAgICAgICBwcm9wb3NhbENhcmQuaW5uZXJIVE1MID0gYFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ3LTggaC04IHJvdW5kZWQtZnVsbCBiZy1zbGF0ZS00MDAgZmxleC1zaHJpbmstMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgPHN2ZyBjbGFzcz1cInctNCBoLTQgdGV4dC13aGl0ZVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgICA8cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk02IDE4TDE4IDZNNiA2bDEyIDEyXCIvPlxuICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXgtMSBiZy1zbGF0ZS0xMDAgcm91bmRlZC0yeGwgcm91bmRlZC10bC1ub25lIHAtM1wiPlxuICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXNtIHRleHQtc2xhdGUtNTAwXCI+UHJvcG9zaXRpb24gcmVqZXRcdTAwRTllLjwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgYDtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tBSV0gUmVqZWN0IGVkaXQgZXJyb3I6JywgZXJyKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRWZmYWNlIGwnaGlzdG9yaXF1ZSBkdSBjaGF0XG4gICAqL1xuICBhc3luYyBmdW5jdGlvbiBjbGVhckFJSGlzdG9yeSgpIHtcbiAgICBjb25zdCBzaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyk7XG4gICAgaWYgKCFzaXRlU2x1ZyB8fCAhYWlDaGF0TWVzc2FnZXMpIHJldHVybjtcbiAgICBcbiAgICB0cnkge1xuICAgICAgYXdhaXQgZmV0Y2goYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2l0ZVNsdWcpfS9haS9oaXN0b3J5YCwgeyBtZXRob2Q6ICdERUxFVEUnIH0pO1xuICAgICAgXG4gICAgICAvLyBWaWRlciBsZXMgbWVzc2FnZXNcbiAgICAgIGFpQ2hhdE1lc3NhZ2VzLmlubmVySFRNTCA9ICcnO1xuICAgICAgXG4gICAgICAvLyBSXHUwMEU5YWZmaWNoZXIgbGUgbWVzc2FnZSBkZSBiaWVudmVudWVcbiAgICAgIGFpQ2hhdE1lc3NhZ2VzLmlubmVySFRNTCA9IGBcbiAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggZ2FwLTNcIiBkYXRhLWFpLXdlbGNvbWU+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInctOCBoLTggcm91bmRlZC1mdWxsIGJnLWdyYWRpZW50LXRvLWJyIGZyb20tdmlvbGV0LTUwMCB0by1pbmRpZ28tNjAwIGZsZXgtc2hyaW5rLTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJ3LTQgaC00IHRleHQtd2hpdGVcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNOS42NjMgMTdoNC42NzNNMTIgM3YxbTYuMzY0IDEuNjM2bC0uNzA3LjcwN00yMSAxMmgtMU00IDEySDNtMy4zNDMtNS42NTdsLS43MDctLjcwN20yLjgyOCA5LjlhNSA1IDAgMTE3LjA3MiAwbC0uNTQ4LjU0N0EzLjM3NCAzLjM3NCAwIDAwMTQgMTguNDY5VjE5YTIgMiAwIDExLTQgMHYtLjUzMWMwLS44OTUtLjM1Ni0xLjc1NC0uOTg4LTIuMzg2bC0uNTQ4LS41NDd6XCIvPlxuICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXgtMSBiZy1zbGF0ZS01MCByb3VuZGVkLTJ4bCByb3VuZGVkLXRsLW5vbmUgcC0zXCI+XG4gICAgICAgICAgICA8cCBjbGFzcz1cInRleHQtc20gdGV4dC1zbGF0ZS03MDBcIj5cbiAgICAgICAgICAgICAgU2FsdXQgISBcdUQ4M0RcdURDNEIgSmUgc3VpcyB0b24gYXNzaXN0YW50IElBIHBvdXIgY2Ugc2l0ZS4gSmUgcGV1eCB0J2FpZGVyIFx1MDBFMCA6XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8dWwgY2xhc3M9XCJtdC0yIHRleHQtc20gdGV4dC1zbGF0ZS02MDAgc3BhY2UteS0xXCI+XG4gICAgICAgICAgICAgIDxsaT5cdUQ4M0NcdURGQTggU3VnZ1x1MDBFOXJlciBkZXMgcGFsZXR0ZXMgZGUgY291bGV1cnM8L2xpPlxuICAgICAgICAgICAgICA8bGk+XHUyNzBEXHVGRTBGIEdcdTAwRTluXHUwMEU5cmVyIGR1IGNvbnRlbnUgcG91ciB0ZXMgYmxvY3M8L2xpPlxuICAgICAgICAgICAgICA8bGk+XHVEODNEXHVEQ0M0IENyXHUwMEU5ZXIgZGVzIHN0cnVjdHVyZXMgZGUgcGFnZXM8L2xpPlxuICAgICAgICAgICAgICA8bGk+XHVEODNEXHVERDBEIEFtXHUwMEU5bGlvcmVyIHRvbiBTRU88L2xpPlxuICAgICAgICAgICAgICA8bGk+XHUyNzBGXHVGRTBGIDxzdHJvbmc+QW5hbHlzZXIgZXQgbW9kaWZpZXIgdGVzIHBhZ2VzPC9zdHJvbmc+IChhdmVjIHZhbGlkYXRpb24pPC9saT5cbiAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgYDtcbiAgICAgIFxuICAgICAgc2hvd1RvYXN0KCdIaXN0b3JpcXVlIGVmZmFjXHUwMEU5Jyk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdbQUldIENsZWFyIGhpc3RvcnkgZmFpbGVkOicsIGVycik7XG4gICAgICBzaG93VG9hc3QoJ0VycmV1ciBsb3JzIGRlIGxcXCdlZmZhY2VtZW50Jyk7XG4gICAgfVxuICB9XG5cbiAgLy8gUHJvbXB0cyByYXBpZGVzXG4gIGNvbnN0IHF1aWNrUHJvbXB0cyA9IHtcbiAgICBjb2xvcnM6ICdTdWdnXHUwMEU4cmUtbW9pIDMgcGFsZXR0ZXMgZGUgY291bGV1cnMgaGFybW9uaWV1c2VzIHBvdXIgbW9uIHNpdGUuIFBvdXIgY2hhcXVlIHBhbGV0dGUsIGRvbm5lIGxlcyBjb3VsZXVycyBUYWlsd2luZDogcHJpbWFyeSwgc2Vjb25kYXJ5LCBhY2NlbnQsIGV0IGJhY2tncm91bmQuJyxcbiAgICBoZXJvOiAnR1x1MDBFOW5cdTAwRThyZSB1biBibG9jIEhlcm8gZW4gSlNPTiBhdmVjIHVuIHRpdHJlIGFjY3JvY2hldXIsIHVuIHNvdXMtdGl0cmUgZW5nYWdlYW50IGV0IHVuIENUQS4nLFxuICAgIHNlbzogJ0FuYWx5c2UgbW9uIHNpdGUgZXQgc3VnZ1x1MDBFOHJlIGRlcyBhbVx1MDBFOWxpb3JhdGlvbnMgU0VPIHBvdXIgbGUgbWV0YSB0aXRsZSBldCBsYSBtZXRhIGRlc2NyaXB0aW9uIGRlIG1hIHBhZ2UgZFxcJ2FjY3VlaWwuJyxcbiAgICBsYW5kaW5nOiAnR1x1MDBFOW5cdTAwRThyZSBsYSBzdHJ1Y3R1cmUgSlNPTiBkXFwndW5lIGxhbmRpbmcgcGFnZSBjb21wbFx1MDBFOHRlIGF2ZWM6IEhlcm8sIDMgc2VjdGlvbnMgZGUgY29udGVudSwgZXQgdW4gQ1RBIGZpbmFsLicsXG4gICAgYW5hbHl6ZTogJ0FuYWx5c2UgbGUgY29udGVudSBkZSB0b3V0ZXMgbWVzIHBhZ2VzIGV0IHByb3Bvc2UgZGVzIGFtXHUwMEU5bGlvcmF0aW9ucyBjb25jclx1MDBFOHRlcy4gUG91ciBjaGFxdWUgc3VnZ2VzdGlvbiBkXFwnYW1cdTAwRTlsaW9yYXRpb24gZGUgdGV4dGUgb3UgZGUgc3RydWN0dXJlLCB1dGlsaXNlIGxlIGZvcm1hdCBwcm9wb3NlLWVkaXQgcG91ciBxdWUgamUgcHVpc3NlIHZhbGlkZXIuJyxcbiAgICBpbXByb3ZlSG9tZTogJ0FuYWx5c2UgbWEgcGFnZSBkXFwnYWNjdWVpbCBldCBwcm9wb3NlIHVuZSBhbVx1MDBFOWxpb3JhdGlvbiBkdSB0aXRyZSBvdSBkdSBIZXJvIHBvdXIgbGUgcmVuZHJlIHBsdXMgaW1wYWN0YW50LiBVdGlsaXNlIGxlIGZvcm1hdCBwcm9wb3NlLWVkaXQuJ1xuICB9O1xuXG4gIC8vIEV2ZW50IGxpc3RlbmVyc1xuICBhaUNoYXRUb2dnbGU/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGlmIChhaUNoYXRPcGVuKSB7XG4gICAgICBjbG9zZUFJQ2hhdCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvcGVuQUlDaGF0KCk7XG4gICAgfVxuICB9KTtcblxuICBhaUNoYXRDbG9zZT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZUFJQ2hhdCk7XG4gIGFpQ2hhdE92ZXJsYXk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VBSUNoYXQpO1xuXG4gIGFpQ2hhdENsZWFyPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBpZiAoY29uZmlybSgnRWZmYWNlciB0b3V0IGxcXCdoaXN0b3JpcXVlIGRlIGNvbnZlcnNhdGlvbiA/JykpIHtcbiAgICAgIGNsZWFyQUlIaXN0b3J5KCk7XG4gICAgfVxuICB9KTtcblxuICBhaUNoYXRGb3JtPy5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCBtZXNzYWdlID0gYWlDaGF0SW5wdXQ/LnZhbHVlPy50cmltKCk7XG4gICAgaWYgKG1lc3NhZ2UpIHtcbiAgICAgIGFpQ2hhdElucHV0LnZhbHVlID0gJyc7XG4gICAgICBzZW5kQUlNZXNzYWdlKG1lc3NhZ2UpO1xuICAgIH1cbiAgfSk7XG5cbiAgYWlRdWlja0J1dHRvbnMuZm9yRWFjaChidG4gPT4ge1xuICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IGFjdGlvbiA9IGJ0bi5kYXRhc2V0LmFpUXVpY2s7XG4gICAgICBjb25zdCBwcm9tcHQgPSBxdWlja1Byb21wdHNbYWN0aW9uXTtcbiAgICAgIGlmIChwcm9tcHQpIHtcbiAgICAgICAgc2VuZEFJTWVzc2FnZShwcm9tcHQpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcblxuICAvLyBGZXJtZXIgYXZlYyBFc2NhcGVcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChlKSA9PiB7XG4gICAgaWYgKGUua2V5ID09PSAnRXNjYXBlJyAmJiBhaUNoYXRPcGVuKSB7XG4gICAgICBjbG9zZUFJQ2hhdCgpO1xuICAgIH1cbiAgfSk7XG59KTtcbiJdLAogICJtYXBwaW5ncyI6ICJNQUFBLFNBQVMsaUJBQWlCLG1CQUFvQixJQUFNLENBQXBELElBQUFBLEdBQ0UsUUFBUSxJQUFJLDJCQUF3QixFQUNwQyxJQUFNQyxHQUFlLFNBQVMsY0FBYyxlQUFlLEVBQ3ZEQSxJQUNGQSxHQUFhLGlCQUFpQixRQUFTLFNBQVksQ0FDakRBLEdBQWEsU0FBVyxHQUN4QixHQUFJLENBQ0YsTUFBTSxNQUFNLGNBQWUsQ0FDekIsT0FBUSxPQUNSLFFBQVMsQ0FDUCxlQUFnQixr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RUFBSSxpQkFBaUIsUUFBUyxJQUFNLENBQ2xDLElBQU1rTixFQUFTbE4sRUFBSSxRQUFRLFFBQ3JCa2IsRUFBU0QsR0FBYS9OLENBQU0sRUFDOUJnTyxHQUNGbkIsR0FBY21CLENBQU0sQ0FFeEIsQ0FBQyxDQUNILENBQUMsRUFHRCxTQUFTLGlCQUFpQixVQUFZM2pCLEdBQU0sQ0FDdENBLEVBQUUsTUFBUSxVQUFZZ2hCLElBQ3hCTSxHQUFZLENBRWhCLENBQUMsQ0FDSCxDQUFDIiwKICAibmFtZXMiOiBbIl9hIiwgImxvZ291dEJ1dHRvbiIsICJlcnIiLCAic2lkZWJhciIsICJzaWRlYmFyT3ZlcmxheSIsICJzaWRlYmFyVG9nZ2xlcyIsICJzaWRlYmFyQ2xvc2VCdXR0b25zIiwgImJvZHkiLCAic2lkZWJhck9wZW4iLCAiYXBwbHlTaWRlYmFyU3RhdGUiLCAib3BlblNpZGViYXIiLCAiY2xvc2VTaWRlYmFyIiwgImJ1dHRvbiIsICJldmVudCIsICJBQ1RJVkVfU0lURV9LRVkiLCAiQUNUSVZFX1NJVEVfTkFNRV9LRVkiLCAic3RvcmVkU2l0ZSIsICJyYXdTbHVnIiwgImVuc3VyZUxlYWRpbmdTbGFzaCIsICJzdHJpcExlYWRpbmdTbGFzaCIsICJzaXRlQ2FyZHMiLCAic2l0ZVNlbGVjdEJ1dHRvbnMiLCAic2l0ZU5hbWVMYWJlbCIsICJ3b3Jrc3BhY2VTaXRlTGFiZWwiLCAid29ya3NwYWNlQmFja05hbWUiLCAid29ya3NwYWNlQmFja01vZGFsIiwgIndvcmtzcGFjZUJhY2tCdXR0b25zIiwgIndvcmtzcGFjZUJhY2tDYW5jZWwiLCAid29ya3NwYWNlQmFja0NvbmZpcm0iLCAid29ya3NwYWNlTmF2TGlua3MiLCAic2l0ZVRvYXN0IiwgInNpdGVUb2FzdE1lc3NhZ2UiLCAic2l0ZUNyZWF0ZUJ1dHRvbnMiLCAic2l0ZU1vZGFsIiwgInNpdGVGb3JtIiwgInNpdGVOYW1lSW5wdXQiLCAic2l0ZVNsdWdJbnB1dCIsICJzaXRlU2x1Z0Vycm9yIiwgInNpdGVNb2RhbEVycm9yIiwgInNpdGVNb2RhbENhbmNlbEJ1dHRvbnMiLCAic2l0ZU1vZGFsU3VibWl0QnV0dG9uIiwgIndvcmtzcGFjZUNvbnRleHQiLCAiZ2V0V29ya3NwYWNlQ29udGV4dCIsICJzbHVnTWFudWFsbHlFZGl0ZWQiLCAidG9hc3RUaW1lb3V0SWQiLCAiZm9jdXNhYmxlU2VsZWN0b3IiLCAibW9kYWxTdGFjayIsICJnZXRGb2N1c2FibGVFbGVtZW50cyIsICJtb2RhbCIsICJlbCIsICJoYW5kbGVNb2RhbEtleWRvd24iLCAiY3VycmVudEVudHJ5IiwgIm9uQ2xvc2UiLCAiZm9jdXNhYmxlRWxlbWVudHMiLCAiZmlyc3QiLCAibGFzdCIsICJhY3RpdmF0ZU1vZGFsIiwgImZvY3VzYWJsZSIsICJfYiIsICJkZWFjdGl2YXRlTW9kYWwiLCAiaW5kZXgiLCAiZW50cnkiLCAibW9iaWxlUGFuZWxPdmVybGF5IiwgIm1vYmlsZVBhbmVsTGF5ZXIiLCAibW9iaWxlUGFuZWxzIiwgIm1vYmlsZVBhbmVsTGF5ZXJQbGFjZWhvbGRlciIsICJyaWdodFBhbmVsUGxhY2Vob2xkZXIiLCAibW9iaWxlUGFuZWxUb2dnbGVzIiwgIm1vYmlsZVBhbmVsQ2xvc2VCdXR0b25zIiwgIm1vYmlsZVBhbmVsVHJpZ2dlcnMiLCAiYWN0aXZlTW9iaWxlUGFuZWwiLCAiaXNEZXNrdG9wVmlld3BvcnQiLCAiZW5zdXJlTW9iaWxlUGFuZWxMYXllclBsYWNlbWVudCIsICJ0YXJnZXRQYXJlbnQiLCAiZW5zdXJlUmlnaHRQYW5lbFBsYWNlbWVudCIsICJwYW5lbCIsICJsZWZ0UGFuZWwiLCAiZW5zdXJlTW9iaWxlUGFuZWxQbGFjZW1lbnQiLCAicGFuZWxEZWZhdWx0WiIsICJzaWRlIiwgImNvbXB1dGVkWiIsICJhY3RpdmVQYW5lbFoiLCAibWF4IiwgInZhbHVlIiwgInNldFBhbmVsWlN0YXRlIiwgImlzQWN0aXZlIiwgImFwcGx5UGFuZWxDbGFzc2VzIiwgImNsYXNzZXMiLCAibWV0aG9kIiwgImNscyIsICJzZXRQYW5lbEhpZGRlblN0YXRlIiwgImhpZGRlbiIsICJoaWRkZW5DbGFzc2VzIiwgInZpc2libGVDbGFzc2VzIiwgImNsb3NlTW9iaWxlUGFuZWwiLCAidHJpZ2dlciIsICJvcGVuTW9iaWxlUGFuZWwiLCAiZm9jdXNUYXJnZXQiLCAic3luY01vYmlsZVBhbmVsc1dpdGhWaWV3cG9ydCIsICJzaG93VG9hc3QiLCAibWVzc2FnZSIsICJzbHVnIiwgInRyaW1tZWQiLCAid2l0aG91dExlYWRpbmciLCAicGVyc2lzdFNpdGVTdGF0ZSIsICJuYW1lIiwgIm5vcm1hbGl6ZWRTbHVnIiwgInVwZGF0ZVNpdGVMYWJlbHMiLCAidXBkYXRlV29ya3NwYWNlTmF2TGlua3MiLCAibGluayIsICJ0YWIiLCAic2x1Z1BhdGgiLCAiYXBwbHlBY3RpdmVTaXRlIiwgIm9wdGlvbnMiLCAiYWN0aXZlU2l0ZU5hbWUiLCAiY2FyZCIsICJiYWRnZSIsICJmaW5hbE5hbWUiLCAic2VsZWN0U2l0ZSIsICJyZXNwb25zZSIsICJwYXlsb2FkIiwgImZpbmFsU2x1ZyIsICJzeW5jQWN0aXZlU2l0ZUZyb21TZXJ2ZXIiLCAic2l0ZSIsICJkZWZhdWx0Q2FyZCIsICJ3b3Jrc3BhY2VTbHVnaWZ5IiwgIm5vcm1hbGl6ZVNsdWdWYWx1ZSIsICJiYXNlIiwgIm9wZW5TaXRlTW9kYWwiLCAiY2xvc2VTaXRlTW9kYWwiLCAic2x1Z1ZhbCIsICJuYW1lVmFsIiwgImdldFNsdWdTZXQiLCAibmFtZVZhbHVlIiwgInNsdWdWYWx1ZSIsICJjcmVhdGVkU2l0ZSIsICJjbG9zZVdvcmtzcGFjZUJhY2tNb2RhbCIsICJtYXRjaCIsICJkZXRlY3RXb3Jrc3BhY2VTZWN0aW9uIiwgIm9wZW5Xb3Jrc3BhY2VCYWNrTW9kYWwiLCAiVFJBTlNQQVJFTlRfUEFUVEVSTiIsICJwYXJzZUNzc0NvbG9yVG9SZ2IiLCAibm9ybWFsaXplZCIsICJyZ2JNYXRjaCIsICJoZXhNYXRjaCIsICJoZXgiLCAibm9ybWFsaXplZEhleCIsICJjIiwgInIiLCAiZyIsICJiIiwgImdldFJlYWRhYmxlVGV4dENvbG9yIiwgImJhY2tncm91bmRDb2xvciIsICJyZ2IiLCAic3R5bGVTZWxlY3RPcHRpb25zIiwgInNlbGVjdCIsICJvcHRpb24iLCAib3B0aW9uQ29sb3IiLCAiYWN0aXZlU2VjdGlvbiIsICJpbml0RGVzaWduV29ya3NwYWNlIiwgImluaXRDb250ZW50V29ya3NwYWNlIiwgImluaXRNZWRpYVdvcmtzcGFjZSIsICJpbml0RGVwbG95V29ya3NwYWNlIiwgImluaXRTZXR0aW5nc1dvcmtzcGFjZSIsICJwYWdlTGlzdHMiLCAiYWN0aXZlVGl0bGUiLCAiYWN0aXZlU2x1ZyIsICJwcmV2aWV3VGFncyIsICJwcmV2aWV3RnJhbWUiLCAicHJldmlld0ZyYW1lV3JhcHBlciIsICJwcmV2aWV3U2hlbGwiLCAicHJldmlld1ZpZXdCdXR0b25zIiwgInByZXZpZXdDdXJyZW50Vmlld0xhYmVsIiwgInByZXZpZXdPcGVuQnV0dG9uIiwgInByZXZpZXdTdGF0dXMiLCAicHJldmlld0hpZ2hsaWdodE92ZXJsYXkiLCAic2VvVG9nZ2xlQnV0dG9uIiwgInNlb1BhbmVsIiwgInNlb0Nsb3NlQnV0dG9uIiwgInNlb0Zvcm0iLCAic2VvVGl0bGVJbnB1dCIsICJzZW9EZXNjcmlwdGlvbklucHV0IiwgInNlb0luZGV4ZWRDaGVja2JveCIsICJzZW9GZWVkYmFjayIsICJzZW9TYXZlQnV0dG9uIiwgInBhZ2VBY2Nlc3NpYmlsaXR5VG9nZ2xlQnV0dG9uIiwgInBhZ2VBY2Nlc3NpYmlsaXR5UGFuZWwiLCAicGFnZUFjY2Vzc2liaWxpdHlDbG9zZUJ1dHRvbiIsICJwYWdlQWNjZXNzaWJpbGl0eUZvcm0iLCAicGFnZUFjY2Vzc2liaWxpdHlOYXZDaGVja2JveCIsICJwYWdlQWNjZXNzaWJpbGl0eU1haW5JbnB1dCIsICJwYWdlQWNjZXNzaWJpbGl0eUZlZWRiYWNrIiwgInBhZ2VBY2Nlc3NpYmlsaXR5U2F2ZUJ1dHRvbiIsICJwYWdlUHJvcHNUb2dnbGVCdXR0b24iLCAicGFnZVByb3BzUGFuZWwiLCAicGFnZVByb3BzQ2xvc2VCdXR0b24iLCAicGFnZVByb3BzRm9ybSIsICJwYWdlTmFtZUlucHV0IiwgInBhZ2VUaXRsZUlucHV0IiwgInBhZ2VTbHVnSW5wdXQiLCAicGFnZURlc2NyaXB0aW9uSW5wdXQiLCAicGFnZVByb3BzRmVlZGJhY2siLCAicGFnZVByb3BzU2F2ZUJ1dHRvbiIsICJibG9ja0xpc3QiLCAiYmxvY2tMaXN0RW1wdHkiLCAiYmxvY2tDb3VudEJhZGdlIiwgImJsb2NrTGlicmFyeVRvZ2dsZSIsICJibG9ja0xpYnJhcnkiLCAiYmxvY2tBZGRCdXR0b25zIiwgImJsb2NrRGVsZXRlTW9kYWwiLCAiYmxvY2tEZWxldGVDb25maXJtIiwgImJsb2NrRGVsZXRlQ2FuY2VsIiwgImJsb2NrRGV0YWlsRW1wdHkiLCAiYmxvY2tEZXRhaWxTdGF0dXMiLCAiYmxvY2tFZGl0b3IiLCAiYmxvY2tFZGl0b3JUaXRsZSIsICJibG9ja0VkaXRvclR5cGUiLCAiYmxvY2tFZGl0b3JVbnN1cHBvcnRlZCIsICJibG9ja0Zvcm0iLCAic3R5bGVDb2xvckNoaXAiLCAiY2hpcCIsICJjb2xvciIsICJlbnN1cmVDdXN0b21UaGVtZU9wdGlvbiIsICJvcHQiLCAidXBkYXRlQ29sb3JTZWxlY3RQcmV2aWV3IiwgIl9jIiwgInNlbGVjdGVkT3B0aW9uIiwgImNvbG9yUHJldmlldyIsICJjb2xvckNoaXAiLCAidGhlbWVDb2xvclNlbGVjdHMiLCAiaXNCYWNrZ3JvdW5kVGhlbWVTZWxlY3QiLCAidGhlbWVDb2xvclByZXNldHMiLCAiZ2V0Q29tcHV0ZWRUaGVtZUNvbG9yVmFsdWUiLCAiY3NzVmFyIiwgImZhbGxiYWNrIiwgImNvbXB1dGVkIiwgImZpbGxUaGVtZUNvbG9yU2VsZWN0IiwgImxhYmVsIiwgImNvbG9yVmFsdWUiLCAicmVmcmVzaFRoZW1lQ29sb3JTZWxlY3RzIiwgImJsb2NrRm9ybVNlY3Rpb25zIiwgImdldEJsb2NrRWRpdG9yU2VjdGlvbkVsZW1lbnQiLCAiY29uZmlnIiwgImJsb2NrVGFicyIsICJhY3RpdmVCbG9ja1RhYiIsICJsZWZ0UGFuZWxUYWJzIiwgImxlZnRQYW5lbEJsb2NrcyIsICJsZWZ0UGFuZWxQYWdlcyIsICJhY3RpdmVMZWZ0VGFiIiwgInN3aXRjaExlZnRUYWIiLCAidGFiTmFtZSIsICJibG9ja0Zvcm1BY3Rpb25zIiwgImJsb2NrRm9ybUF1dG9zYXZlIiwgInN3aXRjaEJsb2NrVGFiIiwgImNvbGxlY3Rpb25TZWxlY3QiLCAiY29sbGVjdGlvblNlbGVjdGlvbkluZm8iLCAiYmxvY2tGb3JtQ2FuY2VsIiwgImdyb3VwUHJldmlld01vYmlsZSIsICJncm91cFByZXZpZXdEZXNrdG9wIiwgImNvbGxlY3Rpb25QcmV2aWV3TW9iaWxlIiwgImNvbGxlY3Rpb25QcmV2aWV3RGVza3RvcCIsICJibG9ja1R5cGVGb3JtcyIsICJibG9ja1R5cGVBbGlhc2VzIiwgImFuaW1hdGlvbkZpZWxkTWFwIiwgInVwZGF0ZUdyb3VwTWluaVByZXZpZXciLCAibW9iaWxlVmFsdWUiLCAiZGVza3RvcFZhbHVlIiwgInJlbmRlckJveGVzIiwgImNvdW50IiwgInVwZGF0ZUNvbGxlY3Rpb25NaW5pUHJldmlldyIsICJmZXRjaFBhZ2VzRnJvbVNlcnZlciIsICJwYWdlc0FwaUJhc2UiLCAiY3JlYXRlUGFnZU9uU2VydmVyIiwgInRpdGxlIiwgInNhdmVQYWdlVG9TZXJ2ZXIiLCAicGFnZSIsICJzYXZlZCIsICJub3JtYWxpemVQYWdlRGF0YSIsICJwYWdlcyIsICJjdXJyZW50UGFnZSIsICJsb2FkUGFnZXNGcm9tU2VydmVyIiwgImFjdGl2ZVBhZ2VJZCIsICJyZW5kZXJQYWdlTGlzdHMiLCAicmVuZGVyQmxvY2tMaXN0IiwgImxvYWRlZFBhZ2VzIiwgImdldExvYWRpbmdQcmV2aWV3SHRtbCIsICJnZXRTdG9yZWRBY3RpdmVQYWdlIiwgInNldEFjdGl2ZVBhZ2UiLCAibm9ybWFsaXplVHlwZSIsICJnZXRCbG9ja0Zvcm1Db25maWciLCAiYmxvY2siLCAidHlwZUtleSIsICJhbGlhcyIsICJwb3B1bGF0ZUJsb2NrRm9ybSIsICJfZCIsICJfZSIsICJfZiIsICJfZyIsICJzZWN0aW9uUm9vdCIsICJzZWN0aW9uIiwgImRlc2lyZWRWYWx1ZSIsICJ1cGRhdGVDb2xsZWN0aW9uU2VsZWN0T3B0aW9ucyIsICJzZXR0aW5nS2V5IiwgImZpZWxkTmFtZSIsICJpbnB1dCIsICJiZ0ZpZWxkTmFtZSIsICJiZ1NlbGVjdCIsICJjb2xsZWN0Rm9ybVZhbHVlcyIsICJ2YWx1ZXMiLCAicGFyc2VkIiwgInVwZGF0ZVByZXZpZXdTdGF0dXMiLCAidGV4dCIsICJzZXJpYWxpemVQYWdlRm9yUHJldmlldyIsICJzZXJpYWxpemVCbG9jayIsICJkZWJvdW5jZSIsICJmbiIsICJkZWxheSIsICJ0aW1lb3V0SWQiLCAiYXJncyIsICJhdXRvU2F2ZUFwcGVhcmFuY2UiLCAiYWN0aXZlQmxvY2tJZCIsICJnZXRBY3RpdmVCbG9jayIsICJ1cGRhdGVkQmxvY2tzIiwgImRpZFVwZGF0ZSIsICJmb3VuZFBhcmVudElkIiwgInVwZGF0ZUJsb2Nrc0RlZXAiLCAidXBkYXRlZFNldHRpbmdzIiwgImFjdGl2ZUJsb2NrUGFyZW50SWQiLCAibmV4dFBhZ2UiLCAicCIsICJ1cGRhdGVQcmV2aWV3QmxvY2tMaXZlIiwgImJsb2NrSWQiLCAic2V0dGluZ3MiLCAiZGVib3VuY2VkUmVmcmVzaFByZXZpZXciLCAicmVmcmVzaFByZXZpZXciLCAiaGFuZGxlQXBwZWFyYW5jZUNoYW5nZSIsICJwcmV2aWV3U2l0ZVNsdWciLCAic2VyaWFsaXplZFBhZ2VzIiwgInByZXZpZXdSZWFkeSIsICJwcmV2aWV3UmVxdWVzdENvbnRyb2xsZXIiLCAiY29udHJvbGxlciIsICJkYXRhIiwgImxhdGVzdFByZXZpZXdIdG1sIiwgImVycm9yIiwgImhhbmRsZUJsb2NrRm9ybVN1Ym1pdCIsICJhbHRWYWx1ZSIsICJ1cGRhdGVkQmxvY2siLCAidXBkYXRlQ3VycmVudFBhZ2VCbG9ja3MiLCAiZHJhd2VyIiwgImRyYXdlckJhY2tkcm9wIiwgImRyYXdlck9wZW5CdXR0b25zIiwgImRyYXdlckNsb3NlQnV0dG9ucyIsICJhZGRQYWdlVG9nZ2xlIiwgImFkZFBhZ2VGb3JtIiwgImFkZFBhZ2VOYW1lIiwgImFkZFBhZ2VUaXRsZSIsICJhZGRQYWdlU2x1ZyIsICJhZGRQYWdlQ2FuY2VsIiwgImFkZFBhZ2VFcnJvciIsICJhZGRQYWdlU3VibWl0QnV0dG9uIiwgImltcG9ydFRvZ2dsZSIsICJpbXBvcnRNb2RhbCIsICJpbXBvcnRDbG9zZUJ1dHRvbnMiLCAiaW1wb3J0RHJvcHpvbmUiLCAiaW1wb3J0RmlsZUlucHV0IiwgImltcG9ydEZpbGVMaXN0IiwgImltcG9ydEZpbGVOYW1lcyIsICJpbXBvcnRSZXN1bHRzIiwgImltcG9ydFJlc3VsdHNDb250ZW50IiwgImltcG9ydFN1Ym1pdCIsICJpbXBvcnRUYWJzIiwgImltcG9ydFBhbmVscyIsICJjb3B5UHJvbXB0QnRuIiwgImNvcHlUZW1wbGF0ZUJ0biIsICJ0ZW1wbGF0ZUpzb24iLCAiaW1wb3J0QWlQcm9tcHQiLCAiaW1wb3J0UGFzdGVJbnB1dCIsICJwYXN0ZUZvcm1hdEJ0biIsICJwYXN0ZUVycm9yIiwgImltcG9ydFNlbGVjdGVkRmlsZXMiLCAiYWN0aXZlSW1wb3J0VGFiIiwgImRlbGV0ZVBhZ2VNb2RhbCIsICJkZWxldGVQYWdlTmFtZSIsICJkZWxldGVQYWdlQ2FuY2VsIiwgImRlbGV0ZVBhZ2VDb25maXJtIiwgInBhZ2VUb0RlbGV0ZSIsICJzaXRlS2V5IiwgInNpdGVTbHVnVmFsdWUiLCAic2FmZVNpdGVTbHVnIiwgImNvbGxlY3Rpb25zQXBpQmFzZSIsICJzdG9yYWdlS2V5cyIsICJjcmVhdGVCbG9jayIsICJpZCIsICJ0eXBlIiwgInN0YXR1cyIsICJkZXNjcmlwdGlvbiIsICJwcm9wcyIsICJibG9ja0xpYnJhcnlEZWZpbml0aW9ucyIsICJwZXJzaXN0QWN0aXZlUGFnZSIsICJwYWdlSWQiLCAic3RvcmVkIiwgImZvcm1hdEJsb2NrQ291bnQiLCAibm9ybWFsaXplUGFnZVNsdWciLCAiZ2VuZXJhdGVCbG9ja0lkIiwgImtleSIsICJjcmVhdGVJbml0aWFsQmxvY2tzIiwgInNldEFjdGl2ZUxhYmVscyIsICJyZW5kZXJQcmV2aWV3TWV0YSIsICJ0YWciLCAiZ2V0U3RhdHVzQmFkZ2VDbGFzc2VzIiwgInJlbmRlckJsb2NrRGV0YWlscyIsICJyZWFkQWNjZW50Q29sb3IiLCAiYXBwbHlQcmV2aWV3SGlnaGxpZ2h0IiwgImRvYyIsICJub2RlIiwgImFjY2VudCIsICJwcmV2aWV3Vmlld1ByZXNldHMiLCAic2V0UHJldmlld1ZpZXciLCAidmlldyIsICJ0YXJnZXQiLCAic3R5bGVzIiwgImNyZWF0ZUJsb2NrSXRlbUVsZW1lbnQiLCAiaXNOZXN0ZWQiLCAicGFyZW50SWQiLCAiYmxvY2tUeXBlIiwgImlzR3JvdXAiLCAiaXRlbSIsICJjb250ZW50IiwgImhhbmRsZSIsICJ0ZXh0V3JhcHBlciIsICJtZXRhIiwgInR5cGVCYWRnZSIsICJzdGF0dXNCYWRnZSIsICJjaGlsZENvdW50IiwgImNoaWxkQmFkZ2UiLCAiZGlzcGxheUxhYmVsIiwgImNvbGxlY3Rpb25OYW1lIiwgImRlc2lnbkNvbGxlY3Rpb25zIiwgImluZm8iLCAiYWN0aW9ucyIsICJtb3ZlQnV0dG9ucyIsICJtb3ZlVXAiLCAibW92ZUNoaWxkQmxvY2tCeU9mZnNldCIsICJtb3ZlQmxvY2tCeU9mZnNldCIsICJtb3ZlRG93biIsICJkZWxldGVCdXR0b24iLCAicmVtb3ZlQ2hpbGRGcm9tR3JvdXAiLCAib3BlbkJsb2NrRGVsZXRlTW9kYWwiLCAic2V0QWN0aXZlQmxvY2siLCAiY3JlYXRlR3JvdXBEcm9wWm9uZSIsICJwYXJlbnRCbG9jayIsICJkcm9wWm9uZSIsICJlIiwgIm1vdmVCbG9ja1RvR3JvdXAiLCAib3BlbkFkZEJsb2NrVG9Hcm91cE1vZGFsIiwgImJsb2NrcyIsICJjaGlsZCIsICJjaGlsZEl0ZW0iLCAiZmluZENoaWxkTG9jYXRpb24iLCAiY2hpbGRJZCIsICJncm91cEluZGV4IiwgImdyb3VwQmxvY2siLCAiZ3JvdXBUeXBlIiwgImNoaWxkSW5kZXgiLCAiZXh0cmFjdEJsb2NrQnlJZCIsICJyb290SW5kZXgiLCAiY2hpbGRMb2MiLCAiaW5zZXJ0QmxvY2tJbnRvUm9vdCIsICJzYWZlSW5kZXgiLCAiaW5zZXJ0QmxvY2tJbnRvR3JvdXAiLCAiZ3JvdXBJZCIsICJnZXRJbnNlcnRJbmRleEZyb21Qb3NpdGlvbiIsICJiYXNlSW5kZXgiLCAicG9zaXRpb24iLCAib2Zmc2V0V2hlbkFmdGVyIiwgImNvbW1pdEJsb2Nrc0NoYW5nZSIsICJhY3RpdmVJZCIsICJhY3RpdmVQYXJlbnRJZCIsICJ0b2FzdE1lc3NhZ2UiLCAiZXh0cmFjdGVkIiwgIm1vdmVDaGlsZEZyb21Hcm91cFRvUm9vdEF0IiwgImluc2VydEluZGV4IiwgIm1vdmVDaGlsZFdpdGhpbkdyb3VwIiwgInRhcmdldENoaWxkSWQiLCAiZnJvbUluZGV4IiwgInRvSW5kZXhCYXNlIiwgIm1vdmVkIiwgImFkanVzdGVkVG9JbmRleEJhc2UiLCAibW92ZUFueUJsb2NrVG9Hcm91cEF0IiwgInRhcmdldEluZGV4IiwgInJlc29sdmVkIiwgIm9mZnNldCIsICJjdXJyZW50SW5kZXgiLCAibmV3SW5kZXgiLCAicGVuZGluZ0dyb3VwSWRGb3JOZXdCbG9jayIsICJvcGVuRGVsZXRlUGFnZU1vZGFsIiwgImNsb3NlRGVsZXRlUGFnZU1vZGFsIiwgImV4ZWN1dGVEZWxldGVQYWdlIiwgInBhZ2VUaXRsZSIsICJyZXN1bHQiLCAibGlzdCIsICJkaXNwbGF5TmFtZSIsICJuYXZCYWRnZSIsICJpc0Rlc2t0b3BEcmF3ZXIiLCAiY2xvc2VEcmF3ZXIiLCAiZGVsZXRlQnRuIiwgInBhZ2VIYXNCbG9ja0lkIiwgIndhbGsiLCAibm9kZXMiLCAidXBkYXRlciIsICJwYXJlbnRIaW50IiwgImN1cnJlbnRQYXJlbnRJZCIsICJjaGFuZ2VkIiwgIm5leHRDaGlsZHJlbiIsICJjaGlsZHJlbkNoYW5nZWQiLCAidGFyZ2V0QmxvY2siLCAiZm91bmQiLCAibmV3QmxvY2tzIiwgInVwZGF0ZUN1cnJlbnRQYWdlU3RhdGUiLCAiaXNEZXNrdG9wUmVvcmRlciIsICJyZW9yZGVyQmxvY2tzIiwgInNvdXJjZUlkIiwgInRhcmdldElkIiwgInRvSW5kZXgiLCAicmVvcmRlckJsb2Nrc1dpdGhQb3NpdGlvbiIsICJ1cGRhdGVEcmFnZ2FibGVTdGF0ZSIsICJkcmFnZ2FibGUiLCAiY2xvc2VCbG9ja0xpYnJhcnkiLCAiYmxvY2tMaWJyYXJ5T3BlbiIsICJvcGVuQmxvY2tMaWJyYXJ5IiwgInRvZ2dsZUJsb2NrTGlicmFyeSIsICJhZGRCbG9ja0Zyb21MaWJyYXJ5IiwgImRlZmluaXRpb24iLCAibmV3QmxvY2siLCAiZmlyc3RDb2xsZWN0aW9uSWQiLCAibmV4dEJsb2NrcyIsICJkZWxldGVCbG9ja0J5SWQiLCAibmV4dEFjdGl2ZSIsICJjbG9zZUJsb2NrRGVsZXRlTW9kYWwiLCAicGVuZGluZ0RlbGV0ZUJsb2NrSWQiLCAic3luY1BhZ2VBY2Nlc3NpYmlsaXR5RmllbGRzIiwgInN5bmNEcmF3ZXJTdGF0ZSIsICJvcGVuRHJhd2VyIiwgIm9wZW5BZGRQYWdlRm9ybSIsICJwYWdlU2x1Z01hbnVhbGx5RWRpdGVkIiwgImNsb3NlQWRkUGFnZUZvcm0iLCAic3luY1NsdWdGcm9tTmFtZSIsICJub3JtYWxpemVCbG9ja0RhdGEiLCAibG9hZERlc2lnbkNvbGxlY3Rpb25zIiwgImN1cnJlbnRWYWx1ZSIsICJzeW5jQ29sbGVjdGlvblNlbGVjdGlvbkluZm8iLCAiY29sbGVjdGlvbklkIiwgImNvbGxlY3Rpb24iLCAiZGV0YWlscyIsICJzZWxlY3RlZFZhbHVlIiwgImZhbGxiYWNrT3B0aW9uIiwgImNyZWF0ZWRQYWdlIiwgInJlc2V0UGFzdGVTdGF0ZSIsICJ2YWxpZGF0ZVBhc3RlSnNvbiIsICJmb3JtYXRQYXN0ZUpzb24iLCAidXBkYXRlSW1wb3J0U3VibWl0U3RhdGUiLCAib3BlbkltcG9ydE1vZGFsIiwgInVwZGF0ZUltcG9ydEZpbGVMaXN0IiwgInQiLCAiY2xvc2VJbXBvcnRNb2RhbCIsICJmIiwgImhhbmRsZUltcG9ydEZpbGVzIiwgImZpbGVzIiwgImpzb25GaWxlcyIsICJleGVjdXRlSW1wb3J0IiwgIl9oIiwgIl9pIiwgIl9qIiwgIl9rIiwgInBhZ2VzRGF0YSIsICJwYXJzZUVyciIsICJlcnJvckxpbmUiLCAiZXJyb3JEZXRhaWwiLCAicG9zIiwgImxpbmVzIiwgImxpbmVOdW0iLCAiY29sTnVtIiwgImZpbGVFcnJvcnMiLCAiZmlsZSIsICJodG1sIiwgImhhc0RhdGEiLCAiaGFzU3VjY2VzcyIsICJoYXNFcnJvcnMiLCAiY29sbGVjdGlvbnNNc2ciLCAiYnRuIiwgInRhcmdldFBhbmVsIiwgImFjdGl2ZSIsICJ0YXJnZXRWaWV3IiwgInN0eWxlIiwgImlzR3JvdXBUeXBlIiwgImdldFBhcmVudElkRm9yQmxvY2siLCAicHJldmlld1dpbmRvdyIsICJ0b2dnbGVTZW9QYW5lbCIsICJzaG93IiwgInNldFNlb0ZlZWRiYWNrIiwgInRvbmUiLCAiaXNWaXNpYmxlIiwgInNlb0RhdGEiLCAidXBkYXRlZFBhZ2UiLCAidG9nZ2xlUGFnZUFjY2Vzc2liaWxpdHlQYW5lbCIsICJzZXRQYWdlQWNjZXNzaWJpbGl0eUZlZWRiYWNrIiwgImFjY2Vzc2liaWxpdHlEYXRhIiwgInRvZ2dsZVBhZ2VQcm9wc1BhbmVsIiwgInNldFBhZ2VQcm9wc0ZlZWRiYWNrIiwgIm5ld05hbWUiLCAibmV3VGl0bGUiLCAibmV3U2x1ZyIsICJuZXdEZXNjcmlwdGlvbiIsICJoYW5kbGVCbG9ja0RyYWdTdGFydCIsICJkcmFnU291cmNlSWQiLCAiZHJhZ1NvdXJjZVBhcmVudElkIiwgImNsZWFyRHJhZ0luZGljYXRvcnMiLCAiaGFuZGxlQmxvY2tEcmFnRW5kIiwgImhhbmRsZUJsb2NrRHJhZ092ZXIiLCAicmVjdCIsICJtaWRZIiwgImlzQWJvdmUiLCAiaGFuZGxlQmxvY2tEcmFnTGVhdmUiLCAicmVsYXRlZFRhcmdldCIsICJoYW5kbGVCbG9ja0Ryb3AiLCAic291cmNlIiwgInNvdXJjZVBhcmVudCIsICJkcm9wUG9zaXRpb24iLCAidGFyZ2V0Um9vdEluZGV4IiwgImFjdGl2ZVBhZ2UiLCAiY29sbGVjdGlvbkxpc3QiLCAiY29udGVudFZpZXdzIiwgImNvbnRlbnRTZWN0aW9uQnV0dG9ucyIsICJjb250ZW50U2VjdGlvblRyaWdnZXJzIiwgImhlYWRlclN0YXR1c0luZGljYXRvciIsICJmb290ZXJTdGF0dXNJbmRpY2F0b3IiLCAiY29sbGVjdGlvbkNvdW50RWwiLCAiaXRlbVBhbmVsIiwgIml0ZW1QYW5lbENsb3NlQnV0dG9ucyIsICJjb2xsZWN0aW9uRW1wdHlTdGF0ZSIsICJjb2xsZWN0aW9uSXRlbXNFbXB0eSIsICJpdGVtVGFibGVXcmFwcGVyIiwgIml0ZW1UYWJsZUJvZHkiLCAiY29sbGVjdGlvblRpdGxlIiwgImNvbGxlY3Rpb25EZXNjcmlwdGlvbiIsICJpdGVtQWRkQnV0dG9uIiwgIml0ZW1EZXRhaWxFbXB0eSIsICJpdGVtRm9ybSIsICJpdGVtRm9ybUZpZWxkcyIsICJpdGVtU3RhdHVzQmFkZ2UiLCAiaXRlbURlbGV0ZUJ1dHRvbiIsICJpdGVtRGVsZXRlTW9kYWwiLCAiaXRlbURlbGV0ZUNhbmNlbCIsICJpdGVtRGVsZXRlQ29uZmlybSIsICJpdGVtRm9ybUNhbmNlbCIsICJpdGVtRm9ybVNhdmUiLCAic3RhdHVzQmFkZ2VCYXNlQ2xhc3MiLCAic2V0SXRlbVBhbmVsSGlkZGVuU3RhdGUiLCAic3luY0l0ZW1QYW5lbFdpdGhWaWV3cG9ydCIsICJoaWRlSXRlbUZvcm0iLCAiaGVhZGVyRmllbGRzIiwgImhlYWRlck5hdkxpc3QiLCAiaGVhZGVyTmF2QWRkQnRuIiwgImhlYWRlclNhdmVCdG4iLCAiaGVhZGVyTmF2SXRlbVRlbXBsYXRlIiwgImhlYWRlclBhZ2VzTGlzdCIsICJzaXRlUGFnZXMiLCAic2VsZWN0ZWROYXZQYWdlcyIsICJmb290ZXJGaWVsZHMiLCAiZm9vdGVyQ29sdW1uc0xpc3QiLCAiZm9vdGVyQ29sdW1uQWRkQnRuIiwgImZvb3RlclNhdmVCdG4iLCAiZm9vdGVyQ29sdW1uVGVtcGxhdGUiLCAiZm9vdGVyTGlua1RlbXBsYXRlIiwgImFjdGl2ZUNvbnRlbnRTZWN0aW9uIiwgImhlYWRlckRhdGEiLCAiZm9vdGVyRGF0YSIsICJzYWZlU2l0ZVNsdWdGb3JMYXlvdXQiLCAibGF5b3V0QXBpQmFzZSIsICJzaG93Q29udGVudFZpZXciLCAidmlld05hbWUiLCAibG9hZFNpdGVQYWdlc0ZvckhlYWRlciIsICJyZW5kZXJQYWdlQ2hlY2tib3hlcyIsICJub3JtYWxpemVOYXZQYWdlVXJsIiwgInJhdyIsICJsb3dlciIsICJ3aXRob3V0U2xhc2hlcyIsICJjbGVhbmVkSW50ZXJuYWwiLCAiY2xlYW5lZCIsICJub3JtYWxpemVPcHRpb25hbE5hdlVybCIsICJkZWZhdWx0VmFsdWUiLCAicGFnZVNsdWciLCAicGFnZURpc3BsYXlOYW1lIiwgInBhZ2VVcmwiLCAiaXNTZWxlY3RlZCIsICJuYXYiLCAiY2hlY2tib3giLCAiY29sbGVjdEhlYWRlckRhdGEiLCAiX2wiLCAidXJsIiwgInBvcHVsYXRlSGVhZGVyRm9ybSIsICJhZGRGb290ZXJMaW5rIiwgImNvbnRhaW5lciIsICJjbG9uZSIsICJsYWJlbElucHV0IiwgInVybElucHV0IiwgInJlbW92ZUJ0biIsICJhZGRGb290ZXJDb2x1bW4iLCAibGlua3MiLCAiY29sdW1uIiwgInRpdGxlSW5wdXQiLCAibGlua3NDb250YWluZXIiLCAiYWRkTGlua0J0biIsICJjb2xsZWN0Rm9vdGVyRGF0YSIsICJfbSIsICJfbiIsICJfbyIsICJfcCIsICJfcSIsICJfciIsICJfcyIsICJfdCIsICJjb2x1bW5zIiwgImNvbCIsICJsaW5rRWwiLCAicG9wdWxhdGVGb290ZXJGb3JtIiwgInYiLCAic2FmZVNpdGVTbHVnVmFsdWUiLCAiY29sbGVjdGlvbnMiLCAiY29sbGVjdGlvbkl0ZW1zIiwgImFjdGl2ZUNvbGxlY3Rpb25JZCIsICJhY3RpdmVJdGVtSWQiLCAiaXNDcmVhdGluZ0l0ZW0iLCAiaXRlbVNsdWdNYW51YWxseUVkaXRlZCIsICJwZW5kaW5nRGVsZXRlSXRlbUlkIiwgIm5vcm1hbGl6ZUl0ZW1TbHVnSW5wdXQiLCAiY2xlYW5lZFNlZ21lbnRzIiwgInNlZ21lbnQiLCAiZm9ybWF0SXRlbURhdGUiLCAiZGF0ZSIsICJ1cGRhdGVDb2xsZWN0aW9uSGVhZGVyIiwgInVwZGF0ZUl0ZW1zRW1wdHlNZXNzYWdlIiwgInNob3dJdGVtRm9ybSIsICJzeW5jQWRkQnV0dG9uU3RhdGUiLCAic3luY0l0ZW1TdGF0dXNCYWRnZSIsICJjb2xvckNsYXNzIiwgInJlbmRlckNvbGxlY3Rpb25MaXN0IiwgInNldEFjdGl2ZUNvbGxlY3Rpb24iLCAicmVuZGVySXRlbVRhYmxlIiwgInJvdyIsICJzdGF0dXNDbGFzc2VzIiwgImhhbmRsZVNlbGVjdCIsICJzZWxlY3RJdGVtIiwgIml0ZW1JZCIsICJwb3B1bGF0ZUl0ZW1Gb3JtIiwgInByZXBhcmVOZXdJdGVtRm9ybSIsICJjb2xsZWN0SXRlbUZvcm1WYWx1ZXMiLCAic2x1Z0lucHV0IiwgInN1bW1hcnkiLCAiaW1hZ2UiLCAiY3RhVGV4dCIsICJjdGFVcmwiLCAiY3RhIiwgInNldEZvcm1TYXZpbmdTdGF0ZSIsICJpc1NhdmluZyIsICJmZXRjaENvbGxlY3Rpb25JdGVtcyIsICJjcmVhdGVDb2xsZWN0aW9uSXRlbSIsICJ1cGRhdGVDb2xsZWN0aW9uSXRlbSIsICJkZWxldGVDb2xsZWN0aW9uSXRlbSIsICJsb2FkQ29sbGVjdGlvbnMiLCAiZGVmYXVsdElkIiwgInNhdmVkSXRlbSIsICJjbG9zZURlbGV0ZU1vZGFsIiwgIm9wZW5EZWxldGVNb2RhbCIsICJmb3JtIiwgInByb3RvY29sU2VsZWN0IiwgImhvc3RJbnB1dCIsICJwb3J0SW5wdXQiLCAidXNlcklucHV0IiwgInBhc3N3b3JkSW5wdXQiLCAic2hvd1Bhc3N3b3JkVG9nZ2xlIiwgInJlbW90ZVBhdGhJbnB1dCIsICJmZWVkYmFjayIsICJzYXZlQnV0dG9uIiwgInRlc3RCdXR0b24iLCAiZGVwbG95QnV0dG9uIiwgImhpc3RvcnlMaXN0IiwgImxvZ0JveCIsICJkZXBsb3lBcGlCYXNlIiwgImRlcGxveVJ1bkFwaSIsICJkZXBsb3lMb2dBcGkiLCAiaGFzUGFzc3dvcmQiLCAiYnVzeUFjdGlvbiIsICJzYW5pdGl6ZVJlbW90ZVBhdGgiLCAic2V0RmVlZGJhY2siLCAiYmFzZUNsYXNzIiwgInRvbmVDbGFzcyIsICJpY29uIiwgInNldEJ1c3kiLCAiYWN0aW9uIiwgImRpc2FibGUiLCAic3Bpbm5lciIsICJwb3B1bGF0ZUZvcm0iLCAicmVuZGVySGlzdG9yeSIsICJlbnRyaWVzIiwgImxpIiwgImR1cmF0aW9uIiwgInJlbmRlckxvZ3MiLCAiZmV0Y2hIaXN0b3J5IiwgImZldGNoQ29uZmlnIiwgImJ1aWxkUGF5bG9hZCIsICJwd2QiLCAiZXJyb3JQYXlsb2FkIiwgImRvd25sb2FkQnV0dG9uIiwgImRvd25sb2FkRmVlZGJhY2siLCAiZG93bmxvYWRBcGkiLCAic2V0RG93bmxvYWRGZWVkYmFjayIsICJvcmlnaW5hbENvbnRlbnQiLCAiZXJyb3JEYXRhIiwgImJsb2IiLCAiYSIsICJ0YWJCdXR0b25zIiwgInRhYlBhbmVscyIsICJzaXRlRmVlZGJhY2siLCAidGhlbWVGb3JtIiwgInN3aXRjaFRhYiIsICJzdWJtaXQiLCAiZm9ybURhdGEiLCAiY3VycmVudFBhc3N3b3JkIiwgIm5ld1Bhc3N3b3JkIiwgImNvbmZpcm1QYXNzd29yZCIsICJuYW1lSW5wdXQiLCAibGFuZ1NlbGVjdCIsICJ0YWdsaW5lSW5wdXQiLCAic2V0U2l0ZUZlZWRiYWNrIiwgInNpdGVDb25maWdBcGkiLCAibG9hZFNpdGVDb25maWciLCAidGhlbWVBcGkiLCAiY29sb3JTZWxlY3RzIiwgImhlYWRpbmdTZWxlY3QiLCAiYm9keVNlbGVjdCIsICJyYWRpdXNTbWFsbCIsICJyYWRpdXNNZWRpdW0iLCAicmFkaXVzTGFyZ2UiLCAicHJldmlldyIsICJ0aGVtZUZlZWRiYWNrIiwgImFwcGx5QnV0dG9uIiwgInRhaWx3aW5kQmFzZU1hcCIsICJ0YWlsd2luZFRva2VuVG9IZXgiLCAidG9rZW4iLCAiaCIsICJzIiwgInNoYWRlTnVtIiwgImZhY3RvciIsICJ0b1JnYiIsICJtaXgiLCAidGFpbHdpbmRIdWVzIiwgInRhaWx3aW5kU2hhZGVzIiwgInRhaWx3aW5kVG9rZW5zIiwgIm5ldXRyYWxUb2tlbnMiLCAiY29sb3JPcHRpb25EZWZpbml0aW9ucyIsICJlbW9qaSIsICJub3JtYWxpemVTZWxlY3RDb2xvciIsICJmaWxsQ29sb3JPcHRpb25zIiwgInNlbGVjdGVkQ29sb3JzIiwgInNlbCIsICJub3JtYWxpemVkVmFsdWUiLCAic2V0VGhlbWVGZWVkYmFjayIsICJzeW5jUHJldmlldyIsICJ0b2tlblRvSGV4IiwgInN0eWxlVGhlbWVDb2xvckNoaXAiLCAidXBkYXRlVGhlbWVDb2xvclByZXZpZXciLCAiaW5pdENvbG9yUHJldmlld3MiLCAibG9hZFRoZW1lIiwgInRoZW1lQ29sb3JzIiwgInNlb0NvbmZpZ0Zvcm0iLCAiaW5kZXhBbGxDaGVja2JveCIsICJzZW9Db25maWdGZWVkYmFjayIsICJsb2FkU2VvQ29uZmlnIiwgImluZGV4QWxsIiwgImN1cnJlbnRSZXMiLCAiY3VycmVudENvbmZpZyIsICJhbmFseXRpY3NGb3JtIiwgImhlYWRUZXh0YXJlYSIsICJib2R5VGV4dGFyZWEiLCAiYW5hbHl0aWNzRmVlZGJhY2siLCAiYW5hbHl0aWNzU2F2ZUJ1dHRvbiIsICJzZXRBbmFseXRpY3NGZWVkYmFjayIsICJsb2FkQW5hbHl0aWNzQ29uZmlnIiwgImFjY2Vzc2liaWxpdHlGb3JtIiwgImFuaW1hdGlvbnNUb2dnbGUiLCAiY29udHJhc3RUb2dnbGUiLCAiYWNjZXNzaWJpbGl0eUZlZWRiYWNrIiwgImFjY2Vzc2liaWxpdHlTYXZlQnV0dG9uIiwgInNldEFjY2Vzc2liaWxpdHlGZWVkYmFjayIsICJsb2FkQWNjZXNzaWJpbGl0eUNvbmZpZyIsICJhaUNvbmZpZ0Zvcm0iLCAiYXBpS2V5SW5wdXQiLCAibW9kZWxTZWxlY3QiLCAicHJvamVjdFByb21wdFRleHRhcmVhIiwgImVuYWJsZWRDaGVja2JveCIsICJhaUZlZWRiYWNrIiwgImFpU2F2ZUJ1dHRvbiIsICJhaUNvbmZpZ0FwaSIsICJzZXRBSUZlZWRiYWNrIiwgImxvYWRBSUNvbmZpZyIsICJhcGlLZXlWYWx1ZSIsICJncmlkIiwgImVtcHR5U3RhdGUiLCAiY291bnRCYWRnZSIsICJmaWx0ZXJUeXBlIiwgImRldGFpbEVtcHR5IiwgImRldGFpbFBhbmVsIiwgImRldGFpbFByZXZpZXciLCAiZGV0YWlsTmFtZSIsICJkZXRhaWxUeXBlIiwgImRldGFpbFNpemUiLCAiZGV0YWlsUGF0aCIsICJkZXRhaWxVc2VkIiwgImRldGFpbEFsdElucHV0IiwgImRldGFpbFNhdmVCdXR0b24iLCAiZGV0YWlsRGVsZXRlQnV0dG9uIiwgImRlbGV0ZU1vZGFsIiwgImRlbGV0ZUNhbmNlbEJ1dHRvbiIsICJkZWxldGVDb25maXJtQnV0dG9uIiwgInVwbG9hZE9wZW5CdXR0b24iLCAiZmlsZUlucHV0IiwgInVwbG9hZFN0YXR1cyIsICJtZWRpYUFwaUJhc2UiLCAibWVkaWFJdGVtcyIsICJmaWx0ZXJlZEl0ZW1zIiwgImFjdGl2ZU1lZGlhSWQiLCAiaGlnaGxpZ2h0TWVkaWFJZCIsICJwZW5kaW5nVXBsb2FkRmlsZSIsICJ1cGxvYWRJblByb2dyZXNzIiwgImRldGFpbERpcnR5IiwgInVwbG9hZE1vZGUiLCAidXBsb2FkUHJldmlld1VybCIsICJkZXJpdmVHcm91cFR5cGUiLCAiZmlsZW5hbWUiLCAiaXNJbWFnZVR5cGUiLCAiZm9ybWF0VHlwZUxhYmVsIiwgImV4dCIsICJmb3JtYXRGaWxlU2l6ZSIsICJzaXplIiwgInJlc2V0RGV0YWlsUGFuZWwiLCAiY2xlYXJVcGxvYWRTdGF0ZSIsICJ1cGRhdGVEZXRhaWxBY3Rpb25zIiwgInVwZGF0ZUNvdW50QmFkZ2UiLCAicmVuZGVyR3JpZCIsICJzZWxlY3RNZWRpYSIsICJyZW5kZXJVc2VkSW4iLCAic2F2aW5nIiwgIm1lZGlhSWQiLCAic2hvd1VwbG9hZFByZXZpZXciLCAiYXBwbHlGaWx0ZXJzIiwgInR5cGVGaWx0ZXIiLCAibG9hZE1lZGlhIiwgImhhbmRsZUZpbGVTZWxlY3Rpb24iLCAicmVhZEZpbGVBc0Jhc2U2NCIsICJyZXNvbHZlIiwgInJlamVjdCIsICJyZWFkZXIiLCAiYmFzZTY0IiwgInVwbG9hZFNlbGVjdGVkTWVkaWEiLCAiZGVsZXRlQWN0aXZlTWVkaWEiLCAiZGlzYWJsZUJ1dHRvbnMiLCAiZW5hYmxlQnV0dG9ucyIsICJ1cGRhdGVkIiwgImFpQ2hhdFRvZ2dsZSIsICJhaUNoYXRQYW5lbCIsICJhaUNoYXRPdmVybGF5IiwgImFpQ2hhdENsb3NlIiwgImFpQ2hhdENsZWFyIiwgImFpQ2hhdEZvcm0iLCAiYWlDaGF0SW5wdXQiLCAiYWlDaGF0TWVzc2FnZXMiLCAiYWlDaGF0U3RhdHVzIiwgImFpQ2hhdE5vQXBpIiwgImFpUXVpY2tCdXR0b25zIiwgImFpQ2hhdE9wZW4iLCAiYWlJc0xvYWRpbmciLCAiYWlDb25maWdDaGVja2VkIiwgImFpSGFzQXBpS2V5IiwgIm9wZW5BSUNoYXQiLCAiY2hlY2tBSUNvbmZpZyIsICJjbG9zZUFJQ2hhdCIsICJzaXRlU2x1ZyIsICJsb2FkQUlDaGF0SGlzdG9yeSIsICJ3ZWxjb21lTXNnIiwgIm1zZyIsICJhcHBlbmRBSU1lc3NhZ2UiLCAicm9sZSIsICJtc2dEaXYiLCAiZXNjYXBlSHRtbCIsICJmb3JtYXR0ZWRDb250ZW50IiwgImZvcm1hdEFJUmVzcG9uc2UiLCAic2hvd0FJTG9hZGluZyIsICJsb2FkaW5nRGl2IiwgImhpZGVBSUxvYWRpbmciLCAiZm9ybWF0dGVkIiwgImxhbmciLCAiY29kZSIsICJkaXYiLCAic2VuZEFJTWVzc2FnZSIsICJhcHBlbmRFZGl0UHJvcG9zYWwiLCAiYXBwZW5kVGhlbWVQcm9wb3NhbCIsICJwcm9wb3NhbCIsICJwcm9wb3NhbERpdiIsICJjaGFuZ2VzSHRtbCIsICJoYW5kbGVBcHBseUVkaXQiLCAiaGFuZGxlUmVqZWN0RWRpdCIsICJjb2xvcnNIdG1sIiwgImNvbG9ycyIsICJnZXRUYWlsd2luZENvbG9yQ3NzIiwgInR5cG9IdG1sIiwgInR5cG8iLCAiaGFuZGxlQXBwbHlUaGVtZSIsICJjb2xvck5hbWUiLCAicHJvcG9zYWxJZCIsICJwcm9wb3NhbENhcmQiLCAiY2xlYXJBSUhpc3RvcnkiLCAicXVpY2tQcm9tcHRzIiwgInByb21wdCJdCn0K
