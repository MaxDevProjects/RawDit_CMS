(()=>{document.addEventListener("DOMContentLoaded",()=>{console.log("[admin] Atelier charg\xE9");let qt=document.querySelector("[data-logout]");qt&&qt.addEventListener("click",async()=>{qt.disabled=!0;try{await fetch("/api/logout",{method:"POST",headers:{"Content-Type":"application/json"}})}catch(o){console.error("[admin] Impossible de se d\xE9connecter",o)}finally{window.location.href="/admin/index.html"}});let _e=document.querySelector("[data-admin-sidebar]"),pe=document.querySelector("[data-admin-sidebar-overlay]"),Gt=document.querySelectorAll("[data-admin-sidebar-toggle]"),us=document.querySelectorAll("[data-admin-sidebar-close]"),kt=document.body,dt=!1,ut=()=>{if(!_e)return;if(window.matchMedia("(min-width: 1024px)").matches){_e.classList.remove("hidden"),pe==null||pe.classList.add("hidden"),kt.classList.remove("overflow-hidden");return}dt?(_e.classList.remove("hidden"),pe==null||pe.classList.remove("hidden"),kt.classList.add("overflow-hidden")):(_e.classList.add("hidden"),pe==null||pe.classList.add("hidden"),kt.classList.remove("overflow-hidden"))},ms=()=>{dt=!0,ut()},At=()=>{dt=!1,ut()};_e&&Gt.length>0&&(Gt.forEach(o=>{o.addEventListener("click",ms)}),us.forEach(o=>{o.addEventListener("click",At)}),pe==null||pe.addEventListener("click",At),window.addEventListener("resize",ut),window.addEventListener("keydown",o=>{o.key==="Escape"&&dt&&At()}),ut());let _t="clower:currentSite",Yt="clower:currentSiteName",_={slug:null,name:""};(()=>{try{_.slug=window.localStorage.getItem(_t),_.name=window.localStorage.getItem(Yt)||""}catch{_.slug=null,_.name=""}})();let It=document.querySelectorAll("[data-site-card]"),ps=document.querySelectorAll("[data-site-select]"),Ye=document.querySelector("[data-current-site-name]"),Kt=document.querySelector("[data-workspace-site-name]"),Xt=document.querySelector("[data-workspace-back-name]"),Ne=document.querySelector("[data-workspace-back-modal]"),fs=document.querySelectorAll("[data-workspace-back]"),gs=document.querySelectorAll("[data-workspace-back-cancel]"),Tt=document.querySelector("[data-workspace-back-confirm]"),hs=document.querySelectorAll("[data-workspace-tab]"),Bt=document.querySelector("[data-site-toast]"),Zt=document.querySelector("[data-site-toast-message]"),ys=document.querySelectorAll("[data-site-create]"),ie=document.querySelector("[data-site-modal]"),Ie=document.querySelector("[data-site-form]"),he=document.querySelector("[data-site-name]"),Le=document.querySelector("[data-site-slug]"),de=document.querySelector("[data-site-slug-error]"),Ce=document.querySelector("[data-site-modal-error]"),vs=document.querySelectorAll("[data-site-modal-cancel]"),Ue=document.querySelector("[data-site-modal-submit]"),V=Es(),mt=!1,pt=null,Ft=null,bs='a[href], button:not([disabled]), textarea, input, select, [tabindex]:not([tabindex="-1"])',Qt=o=>{if(!ie||ie.classList.contains("hidden")||o.key!=="Tab")return;let d=Array.from(ie.querySelectorAll(bs)).filter(F=>!F.hasAttribute("disabled")&&!F.getAttribute("aria-hidden"));if(d.length===0)return;let h=d[0],C=d[d.length-1];o.shiftKey?document.activeElement===h&&(o.preventDefault(),C.focus()):document.activeElement===C&&(o.preventDefault(),h.focus())},H=o=>{!Bt||!Zt||(Zt.textContent=o,Bt.classList.remove("hidden"),Ft&&clearTimeout(Ft),Ft=setTimeout(()=>{Bt.classList.add("hidden")},2500))};function Te(o){return o?o.startsWith("/")?o:`/${o}`:""}function Ee(o){return(o==null?void 0:o.replace(/^\//,""))||""}let ft=(o,d)=>{let h=o?Te(o):null;try{h&&(window.localStorage.setItem(_t,h),_.slug=h),typeof d=="string"&&d.length>0&&(window.localStorage.setItem(Yt,d),_.name=d)}catch{_.slug=h||_.slug,_.name=d||_.name}},es=o=>{Ye&&o&&(Ye.textContent=o),Kt&&o&&(Kt.textContent=o),Xt&&o&&(Xt.textContent=o)},$t=o=>{hs.forEach(d=>{let h=d.dataset.workspaceTab;if(!h)return;if(!o){d.href="#",d.classList.add("pointer-events-none","opacity-50","text-slate-400"),d.setAttribute("aria-disabled","true");return}let C=encodeURIComponent(Ee(o));d.href=`/admin/site/${C}/${h}`,d.classList.remove("pointer-events-none","opacity-50","text-slate-400"),d.removeAttribute("aria-disabled")})},gt=(o,d={})=>{if(!o)return;let h=Te(o),C=d.siteName||_.name||(Ye==null?void 0:Ye.dataset.defaultSiteName)||"";It.forEach(S=>{let E=Te(S.dataset.siteCard||"")===h,f=S.querySelector("[data-site-active-badge]");E?(S.classList.add("border-[#9C6BFF]","ring-2","ring-[#9C6BFF]","shadow-md"),S.classList.remove("border-slate-200"),f==null||f.classList.remove("hidden"),C=S.dataset.siteName||C):(S.classList.remove("border-[#9C6BFF]","ring-2","ring-[#9C6BFF]","shadow-md"),S.classList.add("border-slate-200"),f==null||f.classList.add("hidden"))}),d.persist!==!1&&ft(h,d.siteName||C);let F=d.siteName||C;es(F),$t(h)},xs=async(o,d)=>{let h=Te(o);try{let C=await fetch("/api/sites/select",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({slug:h})});if(!C.ok){let f=await C.json().catch(()=>({}));H(f.message||"Impossible de s\xE9lectionner ce site.");return}let F=await C.json().catch(()=>({})),S=Te(F.slug||h),z=F.name||d;ft(S,z),gt(S,{siteName:z,persist:!1});let E=encodeURIComponent(Ee(S));window.location.href=`/admin/site/${E}/design`}catch(C){console.error("[admin] Impossible de s\xE9lectionner le site",C),H("Erreur inattendue lors de la s\xE9lection.")}},ws=async()=>{try{let o=await fetch("/api/sites/current",{credentials:"same-origin"});if(!o.ok){o.status===404&&V&&(window.location.href="/admin/sites");return}let d=await o.json(),h=Te(d.slug);ft(h,d.name),gt(h,{siteName:d.name,persist:!1})}catch(o){console.warn("[admin] Impossible de r\xE9cup\xE9rer le site actif",o)}};(()=>{if(_.slug){gt(_.slug,{siteName:_.name,persist:!1});return}let o=document.querySelector('[data-site-card][data-site-default="true"]')||It[0];o&&gt(o.dataset.siteCard,{siteName:o.dataset.siteName||"",persist:!1})})(),ws(),V?$t(V.slugValue):_.slug&&$t(_.slug),ps.forEach(o=>{o.addEventListener("click",()=>{if(o.disabled)return;let d=o.dataset.siteSelect,h=o.dataset.siteSelectName||"Ce site";d&&(o.disabled=!0,xs(d,h).finally(()=>{o.disabled=!1}))})});let Ke=o=>o.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),Ss=o=>{let d=Ke(o||"");return d?`/${d}`:""},Ls=()=>{ie&&(pt=document.activeElement,ie.classList.remove("hidden"),ie.classList.add("flex"),mt=!1,Ie==null||Ie.reset(),de&&(de.textContent=""),Ce&&(Ce.textContent=""),Le&&he&&(Le.value=Ke(he.value)),document.addEventListener("keydown",Qt),window.setTimeout(()=>{he==null||he.focus()},0))},ht=()=>{ie&&(ie.classList.add("hidden"),ie.classList.remove("flex"),document.removeEventListener("keydown",Qt),mt=!1,Ie==null||Ie.reset(),de&&(de.textContent=""),Ce&&(Ce.textContent=""),pt==null||pt.focus())};ys.forEach(o=>{o.addEventListener("click",Ls)}),vs.forEach(o=>{o.addEventListener("click",ht)}),ie==null||ie.addEventListener("click",o=>{o.target===ie&&ht()}),he==null||he.addEventListener("input",()=>{Le&&(!mt||Le.value.trim().length===0)&&(Le.value=Ke(he.value))}),Le==null||Le.addEventListener("input",()=>{mt=!0,de&&(de.textContent="")});let Cs=()=>new Set(Array.from(It).map(o=>Te(o.dataset.siteCard||"")));Ie==null||Ie.addEventListener("submit",async o=>{if(o.preventDefault(),!he||!Le)return;let d=(he.value||"").trim(),h=Le.value||"";h||(h=d);let C=Ss(h);if(!d||!C){de&&(de.textContent="Nom et slug sont requis.");return}if(Cs().has(C)){de&&(de.textContent="Ce slug est d\xE9j\xE0 utilis\xE9.");return}de&&(de.textContent=""),Ce&&(Ce.textContent=""),Ue&&(Ue.disabled=!0,Ue.textContent="Cr\xE9ation...");try{let S=await fetch("/api/sites",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:d,slug:C})});if(!S.ok){let P=await S.json().catch(()=>({})),L=P.message||"Impossible de cr\xE9er ce site.";Ce&&(Ce.textContent=L),P.field==="slug"&&de&&(de.textContent=L);return}let z=await S.json(),E=Te((z==null?void 0:z.slug)||C),f=(z==null?void 0:z.name)||d;ft(E,f),ht();let q=encodeURIComponent(Ee(E));window.location.href=`/admin/site/${q}/design`}catch(S){console.error("[admin] Impossible de cr\xE9er le site",S),Ce&&(Ce.textContent="Erreur inattendue. R\xE9essaie dans un instant.")}finally{Ue&&(Ue.disabled=!1,Ue.textContent="Cr\xE9er")}}),window.addEventListener("keydown",o=>{o.key==="Escape"&&(ie&&!ie.classList.contains("hidden")&&ht(),Ne&&!Ne.classList.contains("hidden")&&ts(),blockDeleteModal&&!blockDeleteModal.classList.contains("hidden")&&closeBlockDeleteModal(),blockLibraryOpen&&closeBlockLibrary())});function Es(){let o=window.location.pathname.match(/^\/admin\/site\/([^/]+)(?:\/([^/]+))?/);return o?{slugPart:decodeURIComponent(o[1]),slugValue:Te(decodeURIComponent(o[1])),section:o[2]||"design"}:null}function qs(){return document.querySelector("[data-page-list]")?"design":document.querySelector("[data-collection-list]")?"content":document.querySelector("[data-media-grid]")?"media":document.querySelector("[data-deploy-form]")?"deploy":null}function ks(){if(!Ne){window.location.href="/admin/sites";return}Ne.classList.remove("hidden"),Ne.classList.add("flex")}function ts(){Ne&&(Ne.classList.add("hidden"),Ne.classList.remove("flex"))}fs.forEach(o=>{o.addEventListener("click",ks)}),gs.forEach(o=>{o.addEventListener("click",ts)}),Tt==null||Tt.addEventListener("click",()=>{window.location.href="/admin/sites"});let Xe=(V==null?void 0:V.section)||qs();Xe==="design"&&As(),Xe==="content"&&Is(),Xe==="media"&&Fs(),Xe==="deploy"&&Ts(),Xe==="settings"&&Bs(),V&&_.name&&es(_.name);function As(){let o=document.querySelectorAll("[data-page-list]");if(o.length===0)return;let d=document.querySelector("[data-active-page-title]"),h=document.querySelector("[data-active-page-slug]"),C=document.querySelector("[data-page-preview-tags]"),F=document.querySelector("[data-page-preview-frame]"),S=document.querySelector("[data-preview-open]"),z=document.querySelector("[data-preview-status]"),E=document.querySelector("[data-preview-highlight]"),f=document.querySelector("[data-seo-toggle]"),q=document.querySelector("[data-seo-panel]"),P=document.querySelector("[data-seo-close]"),L=document.querySelector("[data-seo-form]"),k=document.querySelector("[data-seo-title]"),g=document.querySelector("[data-seo-description]"),u=document.querySelector("[data-seo-feedback]"),x=document.querySelector("[data-seo-save]"),p=document.querySelector("[data-blocks-list]"),M=document.querySelector("[data-blocks-empty]"),ne=document.querySelector("[data-block-count]"),J=document.querySelector("[data-block-library-toggle]"),te=document.querySelector("[data-block-library]"),Y=document.querySelectorAll("[data-block-add]"),U=document.querySelector("[data-block-delete-modal]"),W=document.querySelector("[data-block-delete-confirm]"),O=document.querySelector("[data-block-delete-cancel]"),j=document.querySelector("[data-block-detail-empty]"),y=document.querySelector("[data-block-detail-status]"),w=document.querySelector("[data-block-editor]"),N=document.querySelector("[data-block-editor-block-name]"),l=document.querySelector("[data-block-editor-block-type]"),r=document.querySelector("[data-block-editor-unsupported]"),c=document.querySelector("[data-block-form]"),K=c?Array.from(c.querySelectorAll("[data-editor-section]")):[],D=c==null?void 0:c.querySelector('[name="collection-grid-collection"]'),Z=c==null?void 0:c.querySelector("[data-collection-selection-info]"),ue=document.querySelector("[data-block-form-cancel]"),se=c==null?void 0:c.querySelector("[data-group-preview-mobile]"),Q=c==null?void 0:c.querySelector("[data-group-preview-desktop]"),fe={hero:{section:"hero",labelField:"title",descriptionField:"subtitle",fields:{title:"hero-title",subtitle:"hero-subtitle",ctaLabel:"hero-cta-label",ctaUrl:"hero-cta-url",image:"hero-image",align:"hero-align"}},paragraphe:{section:"paragraph",labelField:"title",descriptionField:"content",fields:{title:"paragraph-title",content:"paragraph-content",align:"paragraph-align"}},image:{section:"image",labelField:"alt",fields:{src:"image-src",alt:"image-alt",showCaption:"image-caption-toggle",caption:"image-caption"}},groupe:{section:"group",fields:{layout:"group-layout",columnsMobile:"group-columns-mobile",columnsDesktop:"group-columns-desktop"}},collectiongrid:{section:"collection",fields:{collectionId:"collection-grid-collection",limit:"collection-grid-limit"}},form:{section:"form",labelField:"formTitle",fields:{formTitle:"form-title",actionUrl:"form-action-url",method:"form-method",serviceName:"form-service-name",submitLabel:"form-submit-label",successMessage:"form-success-message"}},newsletterembed:{section:"newsletter",labelField:"title",fields:{title:"newsletter-title",serviceName:"newsletter-service-name",embedCode:"newsletter-embed-code"}}},ye={texte:"paragraphe",paragraph:"paragraphe",paragraphs:"paragraphe",paragraphes:"paragraphe",text:"paragraphe",hero:"hero",image:"image",groupe:"groupe",group:"groupe",collection:"collectiongrid",collectiongrid:"collectiongrid","collection-grid":"collectiongrid",form:"form",formulaire:"form",contact:"form",newsletterembed:"newsletterembed",newsletter:"newsletterembed",embed:"newsletterembed"},ve=(e,t)=>{if(!se||!Q)return;let s=a=>Array.from({length:Number(a)||1}).map(()=>'<span class="block h-2 w-full rounded-full bg-slate-300"></span>').join("");se.innerHTML=s(e),Q.innerHTML=s(t)},ae=async()=>{if(!we)return[];let e=await fetch(we,{headers:{Accept:"application/json"}});if(!e.ok)throw new Error("Impossible de charger les pages.");let t=await e.json().catch(()=>[]);return Array.isArray(t)?t:[]},Be=async({title:e,slug:t})=>{if(!we)throw new Error("Site inconnu.");let s=await fetch(we,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e,slug:t})});if(!s.ok){let a=await s.json().catch(()=>({}));throw new Error(a.message||"Impossible de cr\xE9er la page.")}return s.json().catch(()=>({}))},oe=async e=>{if(!(!we||!(e!=null&&e.id)))try{let t=await fetch(`${we}/${encodeURIComponent(e.id)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){let a=await t.json().catch(()=>({}));throw new Error(a.message||"Impossible de sauvegarder la page.")}let s=await t.json().catch(()=>({}));if(s!=null&&s.id){let a=rt(s);return le=le.map(b=>b.id===a.id?a:b),(A==null?void 0:A.id)===a.id&&(A=a),a}return s}catch(t){console.error("[design] Save page failed",t),H(t.message||"Sauvegarde impossible.")}},ge=async()=>{if(!we){le=[],ke=null,A=null,Nt(le,ke),st(null),j==null||j.classList.remove("hidden"),w==null||w.classList.add("hidden");return}try{let e=await ae();if(le=(Array.isArray(e)?e:[]).map(t=>rt(t)),le.length===0){ke=null,A=null,Nt(le,ke),st(null),j==null||j.classList.remove("hidden"),w==null||w.classList.add("hidden"),F&&(F.srcdoc=$e());return}ke=Ns(le),Pe(ke)}catch(e){console.error("[design] Impossible de charger les pages",e),H("Impossible de charger les pages.")}},Fe=e=>(e||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),Oe=e=>{if(!e)return null;let t=Fe(e.type),s=ye[t]||t;return fe[s]||null},ze=e=>{var s,a,b;if(!c||!w)return;e&&!e.settings&&(e.settings={});let t=Oe(e);if(N&&(N.textContent=(e==null?void 0:e.label)||"Bloc"),l&&(l.textContent=(e==null?void 0:e.type)||"Bloc"),!t){c.classList.add("hidden"),r==null||r.classList.remove("hidden"),c.dataset.blockId="";return}if(r==null||r.classList.add("hidden"),c.classList.remove("hidden"),c.reset(),c.dataset.blockId=e.id,K.forEach(I=>{I.dataset.editorSection===t.section?I.classList.remove("hidden"):I.classList.add("hidden")}),t.section==="collection"){let I=e.collectionId||((s=e.settings)==null?void 0:s.collectionId)||"";St(I)}if(Object.entries(t.fields).forEach(([I,G])=>{var Re;let X=c.querySelector(`[name="${G}"]`);if(!X)return;let re=(Re=e.settings)==null?void 0:Re[I];X.type==="checkbox"?X.checked=!!re:X.type==="number"?X.value=re!=null?re:1:(X.tagName,X.value=re!=null?re:"")}),t.section==="group"){let I=((a=c.querySelector('[name="group-columns-mobile"]'))==null?void 0:a.value)||"1",G=((b=c.querySelector('[name="group-columns-desktop"]'))==null?void 0:b.value)||"3";ve(I,G)}},He=e=>{if(!c||!e)return{};let t={};return Object.entries(e.fields).forEach(([s,a])=>{let b=c.querySelector(`[name="${a}"]`);if(b)if(b.type==="checkbox")t[s]=b.checked;else if(b.type==="number"){let I=Number(b.value);t[s]=Number.isFinite(I)?I:0}else b.tagName==="TEXTAREA"?t[s]=b.value||"":b.type==="select-one"?t[s]=b.value:t[s]=b.value||""}),t},be=e=>{if(z){if(!e){z.classList.add("hidden");return}z.classList.remove("hidden"),z.textContent=e}},Ve=e=>e?{id:e.id,title:e.title,slug:e.slug,badges:[...e.badges||[]],blocks:(e.blocks||[]).map(t=>{var s;return{id:t.id,type:t.type,label:t.label,status:t.status,description:t.description,props:t.props||[],settings:t.settings||{},collectionId:t.collectionId||((s=t.settings)==null?void 0:s.collectionId)||""}})}:null,$e=()=>'<!DOCTYPE html><html><body style="font-family:Inter,sans-serif;padding:40px;color:#475569;background:#fff;">Pr\xE9paration de la pr\xE9visualisation\u2026</body></html>',i=e=>{if(!F||!e)return;let t=(V==null?void 0:V.slugValue)||_.slug||"",s={page:Ve(e),site:{title:_.name||"Site",slug:t}};Ot=!1,be("Actualisation\u2026"),F.srcdoc=$e(),at&&at.abort();let a=new AbortController;at=a,fetch("/api/preview",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s),signal:a.signal}).then(b=>{if(!b.ok)throw new Error("Preview error");return b.json()}).then(b=>{a.signal.aborted||(Ut=b.html||"",F.setAttribute("title",`Pr\xE9visualisation de la page ${e.title||""}`.trim()),F.srcdoc=Ut||$e(),be("\xC0 jour"))}).catch(b=>{a.signal.aborted||(console.error("[preview] Impossible de rendre la page",b),be("Erreur preview"),F.srcdoc='<!DOCTYPE html><html><body style="font-family:Inter,sans-serif;padding:40px;color:#be123c;background:#fff;">Erreur lors du rendu de la pr\xE9visualisation.</body></html>')}).finally(()=>{at===a&&(at=null)})},v=e=>{if(e.preventDefault(),!A||!ce)return;let t=Pt(),s=Oe(t);if(!t||!s)return;let a=He(s);if(s.section==="collection"){if(!a.collectionId){H("S\xE9lectionnez une collection.");return}a.limit=Math.max(1,Number(a.limit)||1)}let b=(A.blocks||[]).map(I=>{if(I.id!==t.id)return I;let G={...I.settings||{},...a},X={...I,settings:G};return s.labelField&&a[s.labelField]&&(X.label=a[s.labelField]),s.descriptionField&&a[s.descriptionField]&&(X.description=a[s.descriptionField]),s.section==="collection"&&(X.collectionId=a.collectionId,X.settings.collectionId=a.collectionId,X.settings.limit=a.limit),X});nt(b),H("Bloc mis \xE0 jour"),Pe(A.id,{preserveBlock:!0})},R=document.querySelector("[data-page-drawer]"),T=document.querySelector("[data-page-drawer-backdrop]"),Me=document.querySelectorAll("[data-page-drawer-open]"),Je=document.querySelectorAll("[data-page-drawer-close]"),qe=document.querySelector("[data-add-page-toggle]"),me=document.querySelector("[data-add-page-form]"),n=document.querySelector("[data-add-page-title]"),m=document.querySelector("[data-add-page-slug]"),B=document.querySelector("[data-add-page-cancel]"),$=document.querySelector("[data-add-page-error]"),ee=me==null?void 0:me.querySelector('[type="submit"]'),Ze=Ee((V==null?void 0:V.slugValue)||_.slug||"default")||"default",De=(V==null?void 0:V.slugValue)||_.slug||"",xe=Ee(De)||"",we=xe?`/api/sites/${encodeURIComponent(xe)}/pages`:null,Qe=xe?`/api/sites/${encodeURIComponent(xe)}/collections`:null,et={active:`clower:activePage:${Ze}`},We=(e,t,s,a,b,I=[],G={})=>{let X={id:e,label:t,type:s,status:a,description:b,props:I,settings:{...G}};return X.settings.collectionId&&(X.collectionId=X.settings.collectionId),X},$s={hero:{type:"Hero",label:"Hero de page",description:"Section pleine largeur avec CTA principal.",status:"Brouillon",props:[{label:"CTA",value:"D\xE9couvrir"},{label:"Hauteur",value:"80vh"}],settings:{title:"Titre du hero",subtitle:"",ctaLabel:"D\xE9couvrir",ctaUrl:"#",image:"",align:"center"}},paragraph:{type:"Paragraphe",label:"Bloc \xE9ditorial",description:"Paragraphe libre pour raconter votre histoire.",status:"Brouillon",props:[{label:"Longueur",value:"150 mots"}],settings:{title:"Titre du paragraphe",content:"",align:"left"}},image:{type:"Image",label:"Bloc image",description:"Visuel seul avec l\xE9gende optionnelle.",status:"Brouillon",props:[{label:"Ratio",value:"16:9"},{label:"L\xE9gende",value:"Inactive"}],settings:{src:"",alt:"",showCaption:!1,caption:""}},group:{type:"Groupe",label:"Groupe de sections",description:"Conteneur pour imbriquer plusieurs sous-blocs.",status:"Brouillon",props:[{label:"Disposition",value:"Verticale"}],settings:{layout:"grid",columnsMobile:"1",columnsDesktop:"3"}},collectiongrid:{type:"CollectionGrid",label:"Grille de contenus",description:"Affiche automatiquement les items d\u2019une collection.",status:"Brouillon",settings:{collectionId:"",limit:6}},form:{type:"Form",label:"Formulaire de contact",description:"Formulaire avec envoi vers un service externe.",status:"Brouillon",settings:{formTitle:"Contactez-nous",actionUrl:"",method:"POST",serviceName:"",submitLabel:"Envoyer",successMessage:"Merci pour votre message !"}},newsletterembed:{type:"NewsletterEmbed",label:"Newsletter / Embed",description:"Int\xE9gration d'un formulaire newsletter externe (Brevo, Mailchimp\u2026).",status:"Brouillon",settings:{title:"Restez inform\xE9",serviceName:"",embedCode:""}}},js=e=>{try{window.localStorage.setItem(et.active,e)}catch{}},Ns=e=>{var t;try{let s=window.localStorage.getItem(et.active);if(s&&e.some(a=>a.id===s))return s}catch{}return((t=e[0])==null?void 0:t.id)||null},Ps=e=>!e||e<=0?"0 bloc":e===1?"1 bloc":`${e} blocs`,ss=e=>{if(!e||e==="/")return"/";let t=Ke(e.replace(/^\//,""));return t?`/${t}`:"/"},jt=(e="page",t="block")=>`${e}-${t}-${Date.now().toString(36)}-${Math.floor(Math.random()*1e3)}`,rn=(e,t)=>[We(jt(e,"intro"),"Introduction","Paragraphe","Brouillon",`Paragraphe introductif pour "${t}".`,[{label:"Longueur",value:"2 paragraphes"}],{title:`Introduction \xE0 ${t}`,content:"Ajoutez votre premier paragraphe de pr\xE9sentation.",align:"left"}),We(jt(e,"content"),"Zone de contenu","Groupe","Brouillon","Section principale \xE0 composer avec textes et visuels.",[{label:"Colonnes",value:"Auto"}],{layout:"grid",columnsMobile:"1",columnsDesktop:"2"})],Ms=e=>{d&&(d.textContent=(e==null?void 0:e.title)||"Page"),h&&(h.textContent=(e==null?void 0:e.slug)||"/")},Ds=e=>{if(!C)return;C.innerHTML="",(e&&e.badges&&e.badges.length>0?e.badges:["Structure en cours"]).forEach(s=>{let a=document.createElement("span");a.className="rounded-full bg-slate-100 px-3 py-1",a.textContent=s,C.appendChild(a)})},Rs=e=>{switch((e||"").toLowerCase()){case"en ligne":return"bg-emerald-50 text-emerald-700";case"brouillon":return"bg-amber-50 text-amber-700";default:return"bg-slate-100 text-slate-600"}},yt=e=>{if(!(!j||!w)){if(!e){j.classList.remove("hidden"),w.classList.add("hidden"),r==null||r.classList.add("hidden"),c==null||c.classList.add("hidden"),y==null||y.classList.add("hidden");return}j.classList.add("hidden"),w.classList.remove("hidden"),y&&(e.status?(y.textContent=e.status,y.className=`rounded-full px-3 py-1 text-xs font-semibold ${Rs(e.status)}`,y.classList.remove("hidden")):y.classList.add("hidden")),ze(e)}},tt=e=>{if(!F)return;let t=F.contentDocument;if(!t)return;t.querySelectorAll("[data-preview-block]").forEach(a=>{a.dataset.previewBlock===e?(a.classList.add("preview-block-active"),Ot&&e&&a.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})):a.classList.remove("preview-block-active")}),E&&(E.style.borderColor=e?"rgba(156, 107, 255, 0.5)":"transparent")},st=e=>{if(!p)return;p.innerHTML="";let t=(e==null?void 0:e.blocks)||[];if(ne&&(ne.textContent=Ps(t.length)),t.length===0){p.classList.add("hidden"),M==null||M.classList.remove("hidden");return}p.classList.remove("hidden"),M==null||M.classList.add("hidden"),t.forEach(s=>{var ds;let a=s.id===ce,b=document.createElement("div");b.dataset.blockItem="true",b.dataset.blockId=s.id,b.setAttribute("role","option"),b.setAttribute("aria-selected",a?"true":"false"),b.tabIndex=0,b.className=["relative flex items-center gap-3 rounded-2xl border px-3 py-2 text-left transition",a?"bg-slate-100 border-[#9C6BFF]/40 shadow-sm":"border-slate-200 hover:border-[#9C6BFF]/40"].join(" ");let I=document.createElement("span");I.className=`absolute inset-y-2 left-0 w-1 rounded-full bg-[#9C6BFF] ${a?"":"hidden"}`,b.appendChild(I);let G=document.createElement("div");G.className="flex flex-1 items-center gap-3";let X=document.createElement("div");X.className="hidden lg:flex cursor-grab flex-shrink-0 items-center text-lg text-slate-400",X.innerHTML="&#8801;",G.appendChild(X);let re=document.createElement("div");re.className="flex-1";let Re=document.createElement("div");Re.className="flex items-center gap-2 text-[11px] uppercase tracking-wide text-slate-500";let Ht=document.createElement("span");Ht.className="rounded-full bg-slate-100 px-2 py-0.5 text-[10px] font-semibold text-slate-600",Ht.textContent=s.type;let Vt=document.createElement("span");Vt.className="text-slate-400",Vt.textContent=s.status,Re.appendChild(Ht),Re.appendChild(Vt);let Jt=document.createElement("p");Jt.className="mt-1 text-sm font-semibold text-slate-900";let sn=s.settings&&s.settings.title||s.label||"Bloc sans titre";if(Jt.textContent=sn,re.appendChild(Re),re.appendChild(Jt),(s.type||"").toLowerCase()==="collectiongrid"&&s.collectionId){let Se=((ds=Ae.find(nn=>nn.id===s.collectionId))==null?void 0:ds.name)||s.collectionId,Wt=document.createElement("p");Wt.className="text-xs text-slate-400",Wt.textContent=`Collection : ${Se}`,re.appendChild(Wt)}G.appendChild(re),b.appendChild(G);let Ct=document.createElement("div");Ct.className="flex flex-col gap-1 text-xs text-slate-400";let Et=document.createElement("div");Et.className="flex items-center gap-1 lg:hidden";let it=document.createElement("button");it.type="button",it.className="rounded-lg border border-slate-200 px-2 py-1 text-[11px] font-semibold text-slate-500",it.textContent="\u2191",it.addEventListener("click",Se=>{Se.stopPropagation(),ns(s.id,-1)});let lt=document.createElement("button");lt.type="button",lt.className="rounded-lg border border-slate-200 px-2 py-1 text-[11px] font-semibold text-slate-500",lt.textContent="\u2193",lt.addEventListener("click",Se=>{Se.stopPropagation(),ns(s.id,1)}),Et.appendChild(it),Et.appendChild(lt),Ct.appendChild(Et);let ct=document.createElement("button");ct.type="button",ct.className="inline-flex items-center justify-center rounded-lg border border-transparent px-2 py-1 text-[12px] text-rose-500 hover:text-rose-700",ct.innerHTML="\u{1F5D1}\uFE0F",ct.addEventListener("click",Se=>{Se.stopPropagation(),Vs(s.id)}),Ct.appendChild(ct),b.appendChild(Ct),b.addEventListener("click",()=>{Ge(s.id)}),b.addEventListener("keydown",Se=>{(Se.key==="Enter"||Se.key===" ")&&(Se.preventDefault(),Ge(s.id))}),p.appendChild(b)})},Nt=(e,t)=>{o.forEach(s=>{s.innerHTML="",e.forEach(a=>{let b=document.createElement("li"),I=document.createElement("button");I.type="button",I.dataset.pageId=a.id,I.className=["w-full flex items-center justify-between gap-3 px-3 py-2 text-left transition",t===a.id?"bg-[#9C6BFF]/10 text-slate-900 border border-[#9C6BFF]/40 rounded-xl shadow-sm":"text-slate-700 hover:bg-slate-50 rounded-xl"].join(" "),t===a.id?I.setAttribute("aria-current","page"):I.removeAttribute("aria-current"),I.innerHTML=`
            <div class="flex items-center gap-3">
              <span class="flex h-9 w-9 items-center justify-center rounded-xl border border-slate-200 bg-white text-slate-500">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                  <path d="M6.5 4.5h7l4 4v11a1 1 0 0 1-1 1h-10a1 1 0 0 1-1-1v-14a1 1 0 0 1 1-1Z" stroke="currentColor" stroke-width="1.4" stroke-linejoin="round"/>
                  <path d="M13.5 4.5v4a1 1 0 0 0 1 1h3" stroke="currentColor" stroke-width="1.4"/>
                </svg>
              </span>
              <div class="flex flex-col">
                <span class="text-sm font-semibold">${a.title}</span>
                <span class="text-xs text-slate-500">${a.slug}</span>
              </div>
            </div>
          `,I.addEventListener("click",()=>{Pe(a.id),Dt()||Rt()}),b.appendChild(I),s.appendChild(b)})})},Pt=()=>!A||!Array.isArray(A.blocks)?null:A.blocks.find(e=>e.id===ce)||null,Ge=e=>{if(!A)return;if(!e){ce=null,st(A),yt(null),tt(null);return}let t=A.blocks.find(s=>s.id===e)||A.blocks[0]||null;ce=(t==null?void 0:t.id)||null,st(A),yt(t),tt(ce)},nt=e=>{if(!A)return;let t={...A,blocks:e};Js(t)},vt=()=>window.matchMedia("(min-width: 1024px)").matches;function ns(e,t){if(!A||!e||!t)return;let s=[...A.blocks||[]],a=s.findIndex(G=>G.id===e);if(a<0)return;let b=a+t;if(b<0||b>=s.length)return;let[I]=s.splice(a,1);s.splice(b,0,I),nt(s),Pe(A.id,{preserveBlock:!0}),Ge(I.id)}function Us(e,t){if(!A||!e||!t||e===t)return;let s=[...A.blocks||[]],a=s.findIndex(G=>G.id===e),b=s.findIndex(G=>G.id===t);if(a<0||b<0)return;let[I]=s.splice(a,1);s.splice(b,0,I),nt(s),Pe(A.id,{preserveBlock:!0}),Ge(I.id)}function os(){if(!p)return;let e=vt();p.querySelectorAll("[data-block-item]").forEach(t=>{t.setAttribute("draggable",e?"true":"false")})}function bt(){te&&(te.classList.add("hidden"),ot=!1)}function Os(){te&&(te.classList.remove("hidden"),ot=!0)}function zs(){ot?bt():Os()}function Hs(e){var I;if(!A||!e)return;let t=$s[e];if(!t)return;let s=(A.blocks||[]).filter(G=>G.type===t.type).length+1,a=We(jt(A.id,e),`${t.label} ${s}`,t.type,t.status,t.description,t.props,t.settings||{});if((t.type||"").toLowerCase()==="collectiongrid"){let G=((I=Ae[0])==null?void 0:I.id)||"";a.collectionId=G,a.settings.collectionId=G,a.settings.limit=a.settings.limit||6}let b=[...A.blocks||[],a];nt(b),Pe(A.id,{preserveBlock:!0}),Ge(a.id),bt(),H("Bloc ajout\xE9")}function as(e){var a,b;if(!A)return;let t=(A.blocks||[]).filter(I=>I.id!==e),s=e===ce?((a=t[0])==null?void 0:a.id)||null:ce||((b=t[0])==null?void 0:b.id)||null;nt(t),ce=s,Pe(A.id,{preserveBlock:!0}),ce?Ge(ce):(yt(null),tt(null)),H("Bloc supprim\xE9")}function Mt(){U&&(U.classList.add("hidden"),U.classList.remove("flex"),wt=null)}function Vs(e){if(!U){as(e);return}wt=e,U.classList.remove("hidden"),U.classList.add("flex")}let Js=e=>{if(!e)return;let t=rt(e);le=le.map(s=>s.id===t.id?t:s),A=t,oe(t)},Pe=(e,t={})=>{var b,I;let s=le.find(G=>G.id===e)||le[0]||null;A=s?rt(s):null,ke=(s==null?void 0:s.id)||null,(!t.preserveBlock||!A||!A.blocks.some(G=>G.id===ce))&&(ce=((I=(b=A==null?void 0:A.blocks)==null?void 0:b[0])==null?void 0:I.id)||null),ke&&js(ke),Nt(le,ke),Ms(A),Ds(A),i(A),st(A),yt(Pt()),tt(ce),os(),ot&&bt()},Dt=()=>window.matchMedia("(min-width: 1024px)").matches,rs=()=>{R&&(Dt()?(R.classList.add("is-open"),T==null||T.classList.add("hidden"),document.body.classList.remove("overflow-hidden")):R.classList.remove("is-open"))},Ws=()=>{!R||Dt()||(R.classList.add("is-open"),T==null||T.classList.remove("hidden"),document.body.classList.add("overflow-hidden"))},Rt=()=>{R&&(R.classList.remove("is-open"),T==null||T.classList.add("hidden"),document.body.classList.remove("overflow-hidden"))},Gs=()=>{!me||!qe||(me.classList.remove("hidden"),qe.classList.add("hidden"),$&&($.textContent=""),xt=!1,n&&(n.value="",n.focus()),m&&(m.value=""))},is=()=>{!me||!qe||(me.classList.add("hidden"),qe.classList.remove("hidden"),$&&($.textContent=""),xt=!1,me.reset())},_s=()=>{!n||!m||xt&&m.value.trim().length>0||(m.value=ss(n.value))},le=[],ke=null,xt=!1,A=null,ce=null,ot=!1,wt=null,Ut="",Ot=!1,at=null,Ae=[],Ys=e=>{let t={...e,props:Array.isArray(e.props)?e.props:[],settings:{...e.settings||{}}};return(t.type||"").toLowerCase()==="collectiongrid"&&(t.collectionId=t.collectionId||t.settings.collectionId||"",t.settings.collectionId=t.collectionId,t.settings.limit=t.settings.limit||6),t},rt=e=>{var t,s;return{...e,blocks:(e.blocks||[]).map(a=>Ys(a)),seo:{title:(((t=e.seo)==null?void 0:t.title)||"").trim(),description:(((s=e.seo)==null?void 0:s.description)||"").trim()}}},Ks=async()=>{if(!Qe){Ae=[],St();return}try{let e=await fetch(Qe,{headers:{Accept:"application/json"}});if(!e.ok)throw new Error("Impossible de charger les collections.");let t=await e.json().catch(()=>[]);Ae=Array.isArray(t)?t:[];let s=(D==null?void 0:D.value)||"";St(s)}catch(e){console.error("[design] collections load",e),H("Collections indisponibles."),Ae=[],St()}},zt=e=>{if(!Z)return;if(!e){Z.textContent=Ae.length?"S\xE9lectionnez une collection pour afficher ses informations.":"Aucune collection disponible. Ajoutez-en depuis l\u2019onglet Contenus.";return}let t=Ae.find(a=>a.id===e);if(!t){Z.textContent=`Collection ${e}`;return}let s=[];t.description&&s.push(t.description),t.type&&s.push(`Type\xA0: ${t.type}`),Z.textContent=s.join(" \xB7 ")||`Collection ${t.name||t.id}`},St=(e="")=>{if(D){if(D.innerHTML="",!Ae.length){D.disabled=!0;let t=document.createElement("option");t.value="",t.textContent="Aucune collection disponible",D.appendChild(t),zt("");return}if(D.disabled=!1,e&&!Ae.some(t=>t.id===e)){let t=document.createElement("option");t.value=e,t.textContent=e,D.appendChild(t)}Ae.forEach(t=>{let s=document.createElement("option");s.value=t.id;let a=t.name||t.id;s.textContent=t.type?`${a} \xB7 ${t.type}`:a,s.dataset.description=t.description||"",D.appendChild(s)}),e&&(D.value=e),zt(D.value||"")}};Ks(),rs(),Me.forEach(e=>{e.addEventListener("click",Ws)}),Je.forEach(e=>{e.addEventListener("click",Rt)}),T==null||T.addEventListener("click",Rt),window.addEventListener("resize",()=>{rs(),os()}),qe==null||qe.addEventListener("click",Gs),B==null||B.addEventListener("click",is),n==null||n.addEventListener("input",_s),m==null||m.addEventListener("input",()=>{$&&($.textContent=""),xt=!0}),me==null||me.addEventListener("submit",async e=>{if(e.preventDefault(),!we){$&&($.textContent="Aucun site s\xE9lectionn\xE9.");return}if(!n||!m)return;let t=n.value.trim(),s=ss(m.value.trim()||t);if(!t||!s){$&&($.textContent="Titre et slug sont requis.");return}$&&($.textContent=""),ee&&(ee.disabled=!0,ee.textContent="Cr\xE9ation...");try{let a=await Be({title:t,slug:s});if(!a||!a.id)throw new Error("R\xE9ponse invalide.");le=[...le,rt(a)],is(),H("Page cr\xE9\xE9e"),Pe(a.id)}catch(a){console.error("[design] create page failed",a),$&&($.textContent=a.message||"Impossible de cr\xE9er la page.")}finally{ee&&(ee.disabled=!1,ee.textContent="Cr\xE9er")}}),J==null||J.addEventListener("click",e=>{e.stopPropagation(),zs()}),document.addEventListener("click",e=>{ot&&(te!=null&&te.contains(e.target)||J!=null&&J.contains(e.target)||bt())}),Y.forEach(e=>{e.addEventListener("click",t=>{t.stopPropagation();let s=e.dataset.blockAdd;Hs(s)})}),O==null||O.addEventListener("click",()=>{Mt()}),W==null||W.addEventListener("click",()=>{wt&&as(wt),Mt()}),U==null||U.addEventListener("click",e=>{e.target===U&&Mt()}),c==null||c.addEventListener("input",e=>{var s,a;let t=e.target;if(!(!t||!t.name)&&(t.name==="group-columns-mobile"||t.name==="group-columns-desktop")){let b=((s=c.querySelector('[name="group-columns-mobile"]'))==null?void 0:s.value)||"1",I=((a=c.querySelector('[name="group-columns-desktop"]'))==null?void 0:a.value)||"3";ve(b,I)}}),D==null||D.addEventListener("change",e=>{let t=e.target;zt((t==null?void 0:t.value)||"")}),c==null||c.addEventListener("submit",v),ue==null||ue.addEventListener("click",e=>{e.preventDefault();let t=Pt();t&&ze(t)}),F==null||F.addEventListener("load",()=>{Ot=!0,be("\xC0 jour"),tt(ce)}),S==null||S.addEventListener("click",()=>{let e=window.open("","_blank");if(!e)return;e.opener=null;let t=e.document;t.open(),t.write(Ut||$e()),t.close()});let ls=e=>{var t,s;q&&(e?(q.classList.remove("hidden"),A&&(k&&(k.value=((t=A.seo)==null?void 0:t.title)||""),g&&(g.value=((s=A.seo)==null?void 0:s.description)||""))):q.classList.add("hidden"))},Lt=(e,t="muted")=>{if(!u)return;let s=t==="success"?"text-emerald-600":t==="error"?"text-rose-600":"text-slate-500";u.textContent=e||"",u.className=`text-sm ${s}`};f==null||f.addEventListener("click",()=>{let e=q&&!q.classList.contains("hidden");ls(!e)}),P==null||P.addEventListener("click",()=>ls(!1)),L==null||L.addEventListener("submit",async e=>{if(e.preventDefault(),!A){Lt("Aucune page active.","error");return}x&&(x.disabled=!0),Lt("");try{let t={title:((k==null?void 0:k.value)||"").trim(),description:((g==null?void 0:g.value)||"").trim()},s={...A,seo:t},a=await oe(s);a&&(A=a,Lt("SEO enregistr\xE9.","success"),H("SEO mis \xE0 jour"),i(A))}catch(t){console.error("[seo] save failed",t),Lt(t.message||"Erreur lors de la sauvegarde.","error")}finally{x&&(x.disabled=!1)}});let Xs=e=>{let t=e.target.closest("[data-block-item]");!t||!vt()||(je=t.dataset.blockId||null,je&&(e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/plain",je),t.classList.add("opacity-50")))},cs=()=>{p==null||p.querySelectorAll("[data-block-item]").forEach(e=>e.classList.remove("opacity-50","ring-2","ring-[#9C6BFF]/50"))},Zs=()=>{je=null,cs()},Qs=e=>{if(!je||!vt())return;let t=e.target.closest("[data-block-item]");!t||t.dataset.blockId===je||(e.preventDefault(),t.classList.add("ring-2","ring-[#9C6BFF]/50"))},en=e=>{let t=e.target.closest("[data-block-item]");t&&t.classList.remove("ring-2","ring-[#9C6BFF]/50")},tn=e=>{if(!je||!vt())return;e.preventDefault();let t=e.target.closest("[data-block-item]"),s=je;je=null,cs();let a=(t==null?void 0:t.dataset.blockId)||null;a&&Us(s,a)},je=null;p==null||p.addEventListener("dragstart",Xs),p==null||p.addEventListener("dragend",Zs),p==null||p.addEventListener("dragover",Qs),p==null||p.addEventListener("dragleave",en),p==null||p.addEventListener("drop",tn),ge()}function Is(){var Je,qe,me;let o=document.querySelector("[data-collection-list]");if(!o)return;let d=document.querySelector("[data-collection-empty]"),h=document.querySelector("[data-collection-items-empty]"),C=document.querySelector("[data-item-table-wrapper]"),F=document.querySelector("[data-item-table-body]"),S=document.querySelector("[data-collection-title]"),z=document.querySelector("[data-collection-description]"),E=document.querySelector("[data-collection-drawer]"),f=document.querySelector("[data-collection-drawer-backdrop]"),q=document.querySelectorAll("[data-collection-drawer-open]"),P=document.querySelectorAll("[data-collection-drawer-close]"),L=document.querySelector("[data-item-add]"),k=document.querySelector("[data-item-detail-empty]"),g=document.querySelector("[data-item-form]"),u=g?{title:g.querySelector('[name="item-title"]'),slug:g.querySelector('[name="item-slug"]'),excerpt:g.querySelector('[name="item-excerpt"]'),content:g.querySelector('[name="item-content"]'),image:g.querySelector('[name="item-image"]'),status:g.querySelector('[name="item-status"]')}:{},x=document.querySelector("[data-item-status-badge]"),p=document.querySelector("[data-item-delete]"),M=document.querySelector("[data-item-delete-modal]"),ne=document.querySelector("[data-item-delete-cancel]"),J=document.querySelector("[data-item-delete-confirm]"),te=document.querySelector("[data-item-cancel]"),Y=document.querySelector("[data-item-save]"),U="rounded-full px-3 py-1 text-xs font-semibold",W=Ee((V==null?void 0:V.slugValue)||_.slug||""),O=W?`/api/sites/${encodeURIComponent(W)}/collections`:null,j=[],y=[],w=null,N=null,l=!1,r=!1,c=null,K=()=>{E&&(E.classList.add("is-open"),E.style.transform="translateX(0)",f==null||f.classList.remove("hidden"),document.body.classList.add("overflow-hidden"))},D=()=>{E&&(E.classList.remove("is-open"),E.style.transform="",f==null||f.classList.add("hidden"),document.body.classList.remove("overflow-hidden"))};q.forEach(n=>{n.addEventListener("click",K)}),P.forEach(n=>{n.addEventListener("click",D)}),f==null||f.addEventListener("click",D);let Z=n=>{let m=(n||"").trim();if(!m)return"";if(m==="/")return"/";let $=m.replace(/^\//,"").split("/").map(ee=>Ke(ee||"")).filter(ee=>ee.length>0);return $.length?`/${$.join("/")}`:""},ue=n=>{if(!n)return"\u2014";let m=new Date(n);return Number.isNaN(m.getTime())?"\u2014":m.toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric"})},se=()=>{let n=j.find(m=>m.id===w);S&&(S.textContent=(n==null?void 0:n.name)||"S\xE9lectionnez une collection"),z&&(z.textContent=(n==null?void 0:n.description)||"")},Q=n=>{h&&(h.textContent=n||(w?"Aucun item dans cette collection pour le moment.":"Choisissez une collection dans le panneau de gauche."))},fe=()=>{g&&(g.classList.add("hidden"),g.dataset.itemId=""),k==null||k.classList.remove("hidden"),x&&(x.className=`hidden ${U}`,x.textContent=""),p&&(p.disabled=!0)},ye=()=>{g&&(g.classList.remove("hidden"),k==null||k.classList.add("hidden"))},ve=()=>{L&&(L.disabled=!w,L.disabled?L.classList.add("opacity-60","pointer-events-none"):L.classList.remove("opacity-60","pointer-events-none"))},ae=n=>{if(!x)return;if(!n){x.className=`hidden ${U}`,x.textContent="";return}let m=n.toLowerCase(),B="bg-slate-100 text-slate-600 border border-slate-200";m==="publi\xE9"||m==="publie"?B="bg-emerald-50 text-emerald-700 border border-emerald-100":m==="brouillon"&&(B="bg-amber-50 text-amber-700 border border-amber-100"),x.className=`${U} ${B}`,x.textContent=n},Be=()=>{if(o.innerHTML="",!j.length){d==null||d.classList.remove("hidden");return}d==null||d.classList.add("hidden"),j.forEach(n=>{let m=n.id===w,B=document.createElement("button");B.type="button",B.dataset.collectionId=n.id,B.className=["w-full rounded-xl border px-3 py-2 text-left transition focus:outline-none focus:ring-2 focus:ring-[#9C6BFF]/40",m?"bg-[#F7F0FF] border-[#9C6BFF]/40 text-slate-900":"border-slate-200 text-slate-700 hover:border-[#9C6BFF]/40"].join(" "),B.setAttribute("role","option"),m?B.setAttribute("aria-current","true"):B.removeAttribute("aria-current"),B.innerHTML=`
          <div class="flex items-center justify-between gap-2">
            <div>
              <p class="text-sm font-semibold">${n.name||n.id}</p>
              <p class="text-xs text-slate-500">${n.description||""}</p>
            </div>
            <span class="text-[11px] uppercase tracking-wide text-slate-400">${n.type||""}</span>
          </div>
        `,B.addEventListener("click",()=>{Ve(n.id),window.matchMedia("(min-width: 1024px)").matches||D()}),o.appendChild(B)})},oe=()=>{if(F){if(F.innerHTML="",!y.length||!w){h==null||h.classList.remove("hidden"),Q(),C==null||C.classList.add("hidden");return}h==null||h.classList.add("hidden"),C==null||C.classList.remove("hidden"),y.forEach(n=>{let m=document.createElement("tr");m.dataset.itemId=n.id;let B=n.id===N&&!l;m.className=["cursor-pointer transition focus-within:bg-[#F7F0FF]/70 focus:outline-none",B?"bg-[#F7F0FF]/70":"hover:bg-slate-50"].join(" "),m.tabIndex=0,m.setAttribute("role","button"),B?m.setAttribute("aria-current","true"):m.removeAttribute("aria-current");let $=n.status||"Brouillon",ee=$.toLowerCase(),Ze=ee==="publi\xE9"||ee==="publie"?"bg-emerald-50 text-emerald-700 border border-emerald-100":"bg-amber-50 text-amber-700 border border-amber-100";m.innerHTML=`
          <td class="px-4 py-3 align-top">
            <div class="flex flex-col">
              <span class="text-sm font-semibold text-slate-900">${n.title||"Sans titre"}</span>
              <span class="text-xs text-slate-500">${n.summary||n.excerpt||""}</span>
            </div>
          </td>
          <td class="px-4 py-3 align-top text-sm text-slate-600">${n.slug||""}</td>
          <td class="px-4 py-3 align-top">
            <span class="inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold ${Ze}">
              ${$}
            </span>
          </td>
          <td class="px-4 py-3 align-top text-sm text-slate-500">${ue(n.updatedAt||n.createdAt)}</td>
        `;let De=()=>{ge(n.id)};m.addEventListener("click",De),m.addEventListener("keydown",xe=>{(xe.key==="Enter"||xe.key===" ")&&(xe.preventDefault(),De())}),F.appendChild(m)})}},ge=n=>{let m=y.find(B=>B.id===n);m&&(N=m.id,l=!1,r=!0,Fe(m),oe())},Fe=n=>{if(!g||!n){fe();return}ye(),g.dataset.itemId=n.id,u.title&&(u.title.value=n.title||""),u.slug&&(u.slug.value=n.slug||""),u.excerpt&&(u.excerpt.value=n.summary||n.excerpt||""),u.content&&(u.content.value=n.content||""),u.image&&(u.image.value=n.image||""),u.status&&(u.status.value=n.status||"Brouillon"),ae(n.status||"Brouillon"),p&&(p.disabled=!1)},Oe=()=>{var n;g&&(l=!0,N=null,r=!1,g.dataset.itemId="",g.reset(),u.status&&(u.status.value="Brouillon"),u.slug&&(u.slug.value=""),ae("Brouillon"),ye(),p&&(p.disabled=!0),(n=u.title)==null||n.focus())},ze=()=>{var De,xe,we,Qe,et,We;let n=(((De=u.title)==null?void 0:De.value)||"").trim(),m=(((xe=u.slug)==null?void 0:xe.value)||"").trim(),B=(((we=u.excerpt)==null?void 0:we.value)||"").trim(),$=(((Qe=u.content)==null?void 0:Qe.value)||"").trim(),ee=(((et=u.image)==null?void 0:et.value)||"").trim(),Ze=((We=u.status)==null?void 0:We.value)||"Brouillon";return{title:n,slug:Z(m||n),summary:B,excerpt:B,content:$,image:ee,status:Ze}},He=n=>{Y&&(Y.disabled=n,Y.textContent=n?"Enregistrement\u2026":"Enregistrer"),p&&!l&&N&&(p.disabled=n)},be=async n=>{if(!O)return[];let m=await fetch(`${O}/${encodeURIComponent(n)}/items`,{headers:{Accept:"application/json"}});if(!m.ok){let $=await m.json().catch(()=>({}));throw new Error($.message||"Impossible de charger les items.")}let B=await m.json().catch(()=>({}));return Array.isArray(B.items)?B.items:[]},Ve=async n=>{if(n&&(w=n,N=null,l=!1,r=!1,se(),ve(),Be(),fe(),y=[],oe(),Q("Chargement des items\u2026"),h==null||h.classList.remove("hidden"),C==null||C.classList.add("hidden"),!!O))try{y=await be(n),oe(),y.length||Q()}catch(m){console.error("[content] items failed",m),H(m.message||"Impossible de charger les items."),y=[],oe()}},$e=async(n,m)=>{if(!O)throw new Error("Site inconnu.");let B=await fetch(`${O}/${encodeURIComponent(n)}/items`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)});if(!B.ok){let $=await B.json().catch(()=>({}));throw new Error($.message||"Impossible de cr\xE9er cet item.")}return B.json()},i=async(n,m,B)=>{if(!O)throw new Error("Site inconnu.");let $=await fetch(`${O}/${encodeURIComponent(n)}/items/${encodeURIComponent(m)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(B)});if(!$.ok){let ee=await $.json().catch(()=>({}));throw new Error(ee.message||"Impossible de sauvegarder cet item.")}return $.json()},v=async(n,m)=>{if(!O)throw new Error("Site inconnu.");let B=await fetch(`${O}/${encodeURIComponent(n)}/items/${encodeURIComponent(m)}`,{method:"DELETE"});if(!B.ok){let $=await B.json().catch(()=>({}));throw new Error($.message||"Impossible de supprimer cet item.")}},R=async()=>{var n;if(!O){d==null||d.classList.remove("hidden"),w=null,y=[],oe(),se(),ve();return}try{let m=await fetch(O,{headers:{Accept:"application/json"}});if(!m.ok)throw new Error("Impossible de charger les collections.");let B=await m.json().catch(()=>[]);if(j=Array.isArray(B)?B:[],Be(),j.length>0){let $=((n=j.find(ee=>ee.id===w))==null?void 0:n.id)||j[0].id;Ve($)}else w=null,y=[],se(),ve(),oe()}catch(m){console.error("[content] load collections",m),H(m.message||"Impossible de charger les collections.")}};L==null||L.addEventListener("click",()=>{if(!w){H("S\xE9lectionnez d\u2019abord une collection.");return}Oe(),oe()}),te==null||te.addEventListener("click",n=>{if(n.preventDefault(),l){l=!1,N=null,fe(),oe();return}if(N){let m=y.find(B=>B.id===N);Fe(m)}else fe()}),(Je=u.status)==null||Je.addEventListener("change",()=>{ae(u.status.value)}),(qe=u.title)==null||qe.addEventListener("input",()=>{!l||!u.slug||r||(u.slug.value=Z(u.title.value))}),(me=u.slug)==null||me.addEventListener("input",()=>{l&&(r=!0)}),g==null||g.addEventListener("submit",async n=>{var B;if(n.preventDefault(),!w){H("S\xE9lectionnez une collection.");return}let m=ze();if(!m.title){H("Le titre est requis."),(B=u.title)==null||B.focus();return}He(!0);try{let $;l||!N?($=await $e(w,m),y=[...y,$],H("Item cr\xE9\xE9")):($=await i(w,N,m),y=y.map(ee=>ee.id===$.id?$:ee),H("Item mis \xE0 jour")),l=!1,N=$.id,Fe($),oe()}catch($){console.error("[content] save item failed",$),H($.message||"Impossible de sauvegarder cet item.")}finally{He(!1)}});let T=()=>{M&&(M.classList.add("hidden"),M.classList.remove("flex"),c=null)},Me=()=>{!M||!N||(c=N,M.classList.remove("hidden"),M.classList.add("flex"))};p==null||p.addEventListener("click",n=>{n.preventDefault(),N&&Me()}),ne==null||ne.addEventListener("click",()=>{T()}),M==null||M.addEventListener("click",n=>{n.target===M&&T()}),J==null||J.addEventListener("click",async()=>{if(!c||!w){T();return}J.disabled=!0,J.textContent="Suppression\u2026";try{await v(w,c),y=y.filter(n=>n.id!==c),N===c&&(N=null,fe()),H("Item supprim\xE9"),oe()}catch(n){console.error("[content] delete item failed",n),H(n.message||"Impossible de supprimer cet item.")}finally{J.disabled=!1,J.textContent="Supprimer",T()}}),se(),ve(),R()}function Ts(){let o=document.querySelector("[data-deploy-form]");if(!o)return;let d=document.querySelector("[data-deploy-protocol]"),h=document.querySelector("[data-deploy-host]"),C=document.querySelector("[data-deploy-port]"),F=document.querySelector("[data-deploy-user]"),S=document.querySelector("[data-deploy-password]"),z=document.querySelector("[data-deploy-show-password]"),E=document.querySelector("[data-deploy-remote-path]"),f=document.querySelector("[data-deploy-feedback]"),q=document.querySelector("[data-deploy-save]"),P=document.querySelector("[data-deploy-test]"),L=document.querySelector("[data-deploy-trigger]"),k=document.querySelector("[data-deploy-history]"),g=document.querySelector("[data-deploy-log]"),u=Ee((V==null?void 0:V.slugValue)||_.slug||""),x=u?`/api/sites/${encodeURIComponent(u)}/deploy-config`:null,p=u?`/api/sites/${encodeURIComponent(u)}/deploy`:null,M=u?`/api/sites/${encodeURIComponent(u)}/deploy-log`:null,ne=!1,J=null,te=l=>{let r=(l||"").trim();return r?r.startsWith("/")?r:`/${r}`:"/www"},Y=(l,r="muted")=>{if(!f)return;let c="inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold",K=r==="success"?"bg-emerald-50 text-emerald-700 border border-emerald-100":r==="error"?"bg-rose-50 text-rose-700 border border-rose-100":"bg-slate-50 text-slate-600 border border-slate-100";if(!l){f.textContent="",f.className="text-sm text-slate-500";return}let D=r==="success"?"\u2705":r==="error"?"\u274C":"\u2139\uFE0F";f.innerHTML=`<span class="${c} ${K}">${D}<span>${l}</span></span>`,f.className="text-sm"},U=(l=null)=>{J=l;let r=!!l,c='<svg class="h-4 w-4 animate-spin text-white" viewBox="0 0 24 24" fill="none" aria-hidden="true"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"></path></svg>';q&&(q.disabled=r,q.innerHTML=l==="save"?`<span class="inline-flex items-center gap-2">${c}<span>Enregistrement\u2026</span></span>`:"Enregistrer"),P&&(P.disabled=r,P.innerHTML=l==="test"?'<span class="inline-flex items-center gap-2"><span class="h-4 w-4 animate-spin rounded-full border-2 border-slate-200 border-t-slate-600"></span><span>Test en cours\u2026</span></span>':"Tester la connexion"),L&&(L.disabled=r&&l!==null,L.innerHTML=l==="deploy"?'<span class="inline-flex items-center gap-2"><span class="h-4 w-4 animate-spin rounded-full border-2 border-white/60 border-t-white"></span><span>D\xE9ploiement\u2026</span></span>':"D\xE9ployer maintenant")},W=l=>{d&&(d.value=l.protocol||"sftp"),h&&(h.value=l.host||""),C&&(C.value=l.port||""),F&&(F.value=l.user||""),E&&(E.value=l.remotePath||"/www"),ne=!!l.hasPassword,S&&(S.value="",S.placeholder=ne?"Non affich\xE9":"Mot de passe")},O=(l=[])=>{if(k){if(k.innerHTML="",!l.length){let r=document.createElement("li");r.className="text-slate-500",r.textContent="Aucun d\xE9ploiement pour le moment.",k.appendChild(r);return}l.forEach(r=>{let c=document.createElement("li");c.className="flex items-center justify-between gap-2 rounded-xl border border-slate-200 px-3 py-2";let K=r.status==="success"?'<span class="rounded-full bg-emerald-50 px-2 py-0.5 text-[11px] font-semibold text-emerald-700">Succ\xE8s</span>':'<span class="rounded-full bg-rose-50 px-2 py-0.5 text-[11px] font-semibold text-rose-700">\xC9chec</span>',D=r.finishedAt||r.startedAt||"",Z=r.durationMs&&Number(r.durationMs)>=0?`${Math.round(Number(r.durationMs)/1e3)}s`:"";c.innerHTML=`
          <div class="space-y-1">
            <div class="flex items-center gap-2">${K}<span class="text-xs text-slate-500">${D}</span></div>
            <p class="text-sm text-slate-800">${r.message||""}</p>
          </div>
          <div class="text-xs text-slate-500">${Z}</div>
        `,c.dataset.deployId=r.id||"",c.addEventListener("click",()=>{r.logs&&g&&(g.textContent=r.logs.join(`
`))}),k.appendChild(c)})}},j=(l=[])=>{g&&(g.textContent=l.length?l.join(`
`):"Aucun log pour le moment.")},y=async()=>{var l;if(M)try{let r=await fetch(M,{headers:{Accept:"application/json"}});if(!r.ok){if(r.status===404){O([]),j(["API d\xE9ploiement indisponible (red\xE9marre le serveur)."]);return}throw new Error("Impossible de charger l\u2019historique.")}let c=await r.json().catch(()=>({})),K=Array.isArray(c.entries)?c.entries:[];O(K),(l=K[0])!=null&&l.logs&&j(K[0].logs)}catch(r){console.error("[deploy] history failed",r)}},w=async()=>{if(!x){Y("Aucun site actif s\xE9lectionn\xE9.","error");return}U("load");try{let l=await fetch(x,{headers:{Accept:"application/json"}}),r=await l.json().catch(()=>({}));l.ok?(W(r||{}),Y("Configuration charg\xE9e.","muted")):(W(r||{}),Y(r.message||"Configuration par d\xE9faut charg\xE9e.","muted"))}catch(l){console.error("[deploy] load failed",l),Y(l.message||"Erreur lors du chargement.","error")}finally{U(null)}},N=()=>{let l={protocol:(d==null?void 0:d.value)||"sftp",host:(h==null?void 0:h.value.trim())||"",port:Number(C==null?void 0:C.value)||void 0,user:(F==null?void 0:F.value.trim())||"",remotePath:te((E==null?void 0:E.value)||"/www")},r=(S==null?void 0:S.value)||"";return r.trim().length>0&&(l.password=r),l};o.addEventListener("submit",async l=>{if(l.preventDefault(),!x){Y("Aucun site actif s\xE9lectionn\xE9.","error");return}let r=N();U("save");try{let c=await fetch(x,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!c.ok){let D=await c.json().catch(()=>({}));throw new Error(D.message||"Sauvegarde impossible.")}let K=await c.json();W(K||{}),Y("Configuration enregistr\xE9e.","success"),H("Configuration d\xE9ploiement sauvegard\xE9e")}catch(c){console.error("[deploy] save failed",c),Y(c.message||"Erreur lors de la sauvegarde.","error")}finally{U(null)}}),P==null||P.addEventListener("click",async()=>{if(!x){Y("Aucun site actif s\xE9lectionn\xE9.","error");return}let l=N();if(!l.host||!l.user||!l.remotePath){Y("Remplissez les champs requis avant de tester.","error");return}U("test");try{let r=await fetch(`${x}/test`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}),c=await r.json().catch(()=>({}));if(!r.ok||c.success===!1){Y(c.message||"Test de connexion \xE9chou\xE9.","error");return}Y(c.message||"Connexion OK.","success"),H("Test de connexion r\xE9ussi")}catch(r){console.error("[deploy] test failed",r),Y(r.message||"Test de connexion \xE9chou\xE9.","error")}finally{U(null)}}),L==null||L.addEventListener("click",async()=>{if(!p){Y("Aucun site actif s\xE9lectionn\xE9.","error");return}U("deploy"),j(["D\xE9ploiement en cours\u2026"]);try{let l=await fetch(p,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(N())}),r=await l.json().catch(()=>({}));if(!l.ok){if(l.status===404){Y("API d\xE9ploiement indisponible (red\xE9marre le serveur).","error"),j(["API d\xE9ploiement indisponible (red\xE9marre le serveur)."]);return}throw j(r.logs||[]),new Error(r.message||"D\xE9ploiement \xE9chou\xE9.")}j(r.logs||[]),await y(),H("D\xE9ploiement termin\xE9")}catch(l){console.error("[deploy] run failed",l),Y(l.message||"D\xE9ploiement \xE9chou\xE9.","error")}finally{U(null)}}),z==null||z.addEventListener("change",()=>{S&&(S.type=z.checked?"text":"password")}),w(),y()}function Bs(){let o=document.querySelectorAll("[data-settings-tab]"),d=document.querySelectorAll("[data-settings-panel]"),h=document.querySelector("[data-admin-password-form]"),C=document.querySelector("[data-site-config-form]"),F=document.querySelector("[data-site-config-feedback]"),S=document.querySelector("[data-theme-form]"),z=E=>{o.forEach(f=>{let q=f.dataset.settingsTab===E;f.setAttribute("aria-selected",q?"true":"false"),f.classList.toggle("bg-[#9C6BFF]",q),f.classList.toggle("text-white",q)}),d.forEach(f=>{f.classList.toggle("hidden",f.dataset.settingsPanel!==E)})};if(o.forEach(E=>{E.addEventListener("click",()=>z(E.dataset.settingsTab||"account"))}),z("account"),h){let E=h.querySelector("[data-admin-password-feedback]"),f=h.querySelector("[data-admin-password-submit]"),q=(P,L="muted")=>{if(!E)return;let k=L==="success"?"text-emerald-600":L==="error"?"text-rose-600":"text-slate-500";E.textContent=P||"",E.className=`text-sm ${k}`};h.addEventListener("submit",async P=>{P.preventDefault();let L=new FormData(h),k=L.get("currentPassword")||"",g=L.get("newPassword")||"",u=L.get("confirmPassword")||"";if(!k||!g||!u){q("Compl\xE8te tous les champs.","error");return}f&&(f.disabled=!0),q("");try{let x=await fetch("/api/admin/password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentPassword:k,newPassword:g,confirmPassword:u})}),p=await x.json().catch(()=>({}));if(!x.ok||p.success===!1)throw new Error(p.message||"Impossible de mettre \xE0 jour le mot de passe.");q(p.message||"Mot de passe mis \xE0 jour.","success"),h.reset()}catch(x){console.error("[settings] change password failed",x),q(x.message||"Erreur lors de la mise \xE0 jour.","error")}finally{f&&(f.disabled=!1)}})}if(C){let E=C.querySelector("[data-site-name]"),f=C.querySelector("[data-site-language]"),q=C.querySelector("[data-site-tagline]"),P=C.querySelector("[data-site-save]"),L=(x,p="muted")=>{if(!F)return;let M=p==="success"?"text-emerald-600":p==="error"?"text-rose-600":"text-slate-500";F.textContent=x||"",F.className=`text-sm ${M}`},k=Ee((V==null?void 0:V.slugValue)||_.slug||""),g=k?`/api/sites/${encodeURIComponent(k)}/config/site`:null,u=async()=>{if(g)try{let x=await fetch(g,{headers:{Accept:"application/json"}});if(!x.ok)return;let p=await x.json().catch(()=>({}));E&&(E.value=p.name||""),f&&(f.value=p.language||"fr"),q&&(q.value=p.tagline||"")}catch(x){console.error("[settings] load site config failed",x)}};C.addEventListener("submit",async x=>{if(x.preventDefault(),!g){L("Aucun site actif.","error");return}if(!(E!=null&&E.value.trim())){L("Nom requis.","error");return}P&&(P.disabled=!0),L("");try{let p={name:(E==null?void 0:E.value)||"",language:(f==null?void 0:f.value)||"fr",tagline:(q==null?void 0:q.value)||""},M=await fetch(g,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)}),ne=await M.json().catch(()=>({}));if(!M.ok||ne.success===!1)throw new Error(ne.message||"Sauvegarde impossible.");L(ne.message||"Param\xE8tres enregistr\xE9s.","success")}catch(p){console.error("[settings] save site config failed",p),L(p.message||"Erreur lors de la sauvegarde.","error")}finally{P&&(P.disabled=!1)}}),u()}if(S){let E=Ee((V==null?void 0:V.slugValue)||_.slug||""),f=E?`/api/sites/${encodeURIComponent(E)}/config/theme`:null,q={primary:S.querySelector("[data-theme-primary]"),secondary:S.querySelector("[data-theme-secondary]"),accent:S.querySelector("[data-theme-accent]"),background:S.querySelector("[data-theme-background]"),text:S.querySelector("[data-theme-text]")},P=S.querySelector("[data-theme-headings]"),L=S.querySelector("[data-theme-body]"),k=S.querySelector("[data-theme-radius-small]"),g=S.querySelector("[data-theme-radius-medium]"),u=S.querySelector("[data-theme-radius-large]"),x=S.querySelector("[data-theme-preview]"),p=S.querySelector("[data-theme-feedback]"),M=S.querySelector("[data-theme-apply]"),ne=["slate","gray","zinc","neutral","stone","red","orange","amber","yellow","lime","green","emerald","teal","cyan","sky","blue","indigo","violet","purple","fuchsia","pink","rose"],J=["50","100","200","300","400","500","600","700","800","900"],te=ne.flatMap(y=>J.map(w=>`${y}-${w}`)),Y=()=>{Object.values(q).forEach(y=>{!y||y.options.length||te.forEach(w=>{let N=document.createElement("option");N.value=w;let[l,r]=w.split("-");N.textContent=`${l.charAt(0).toUpperCase()+l.slice(1)} ${r}`,y.appendChild(N)})})},U=(y,w="muted")=>{if(!p)return;let N=w==="success"?"text-emerald-600":w==="error"?"text-rose-600":"text-slate-500";p.textContent=y||"",p.className=`text-sm ${N}`},W=()=>{var w,N,l,r,c;if(!x)return;let y=K=>{if(!K)return null;let[D,Z]=K.split("-"),se={slate:"#e2e8f0",gray:"#d1d5db",zinc:"#d4d4d8",neutral:"#d4d4d4",stone:"#d6d3d1",red:"#ef4444",orange:"#f97316",amber:"#f59e0b",yellow:"#eab308",lime:"#84cc16",green:"#22c55e",emerald:"#10b981",teal:"#14b8a6",cyan:"#06b6d4",sky:"#0ea5e9",blue:"#3b82f6",indigo:"#6366f1",violet:"#8b5cf6",purple:"#a855f7",fuchsia:"#d946ef",pink:"#ec4899",rose:"#f43f5e"}[D];if(!se)return null;let Q=Number(Z)||500,fe=Math.min(Math.max((Q-50)/900,0),1),ye=ge=>ge.match(/[A-Fa-f0-9]{2}/g).map(Fe=>parseInt(Fe,16)),[ve,ae,Be]=ye(se.replace("#","")),oe=ge=>Math.round(255-(255-ge)*fe);return`rgb(${oe(ve)}, ${oe(ae)}, ${oe(Be)})`};x.style.setProperty("--color-primary",y((w=q.primary)==null?void 0:w.value)||"#9C6BFF"),x.style.setProperty("--color-secondary",y((N=q.secondary)==null?void 0:N.value)||"#0EA5E9"),x.style.setProperty("--color-accent",y((l=q.accent)==null?void 0:l.value)||"#F97316"),x.style.setProperty("--color-background",y((r=q.background)==null?void 0:r.value)||"#FFFFFF"),x.style.setProperty("--color-text",y((c=q.text)==null?void 0:c.value)||"#0F172A"),x.style.setProperty("--font-headings",(P==null?void 0:P.value)||"Inter, sans-serif"),x.style.setProperty("--font-body",(L==null?void 0:L.value)||"Inter, sans-serif"),x.style.setProperty("--radius-small",(k==null?void 0:k.value)||"8px"),x.style.setProperty("--radius-medium",(g==null?void 0:g.value)||"16px"),x.style.setProperty("--radius-large",(u==null?void 0:u.value)||"24px"),x.style.borderRadius=(g==null?void 0:g.value)||"16px"},O=(y,w)=>{q[y]&&(q[y].value=w)};Object.keys(q).forEach(y=>{var w;(w=q[y])==null||w.addEventListener("change",W)}),[P,L,k,g,u].forEach(y=>{y==null||y.addEventListener("change",W)});let j=async()=>{var y,w,N,l,r,c,K,D,Z,ue;if(f)try{let se=await fetch(f,{headers:{Accept:"application/json"}});if(!se.ok)return;let Q=await se.json().catch(()=>({}));O("primary",((y=Q.colors)==null?void 0:y.primary)||"violet-500"),O("secondary",((w=Q.colors)==null?void 0:w.secondary)||"indigo-400"),O("accent",((N=Q.colors)==null?void 0:N.accent)||"emerald-500"),O("background",((l=Q.colors)==null?void 0:l.background)||"slate-50"),O("text",((r=Q.colors)==null?void 0:r.text)||"slate-900"),P&&(P.value=((c=Q.typography)==null?void 0:c.headings)||"Inter, sans-serif"),L&&(L.value=((K=Q.typography)==null?void 0:K.body)||"Inter, sans-serif"),k&&(k.value=((D=Q.radius)==null?void 0:D.small)||"8px"),g&&(g.value=((Z=Q.radius)==null?void 0:Z.medium)||"16px"),u&&(u.value=((ue=Q.radius)==null?void 0:ue.large)||"24px"),W()}catch(se){console.error("[settings] load theme failed",se)}};Y(),M==null||M.addEventListener("click",async y=>{var N,l,r,c,K;if(y.preventDefault(),!f){U("Aucun site actif.","error");return}let w={colors:{primary:((N=q.primary)==null?void 0:N.value)||"violet-500",secondary:((l=q.secondary)==null?void 0:l.value)||"indigo-400",accent:((r=q.accent)==null?void 0:r.value)||"emerald-500",background:((c=q.background)==null?void 0:c.value)||"slate-50",text:((K=q.text)==null?void 0:K.value)||"slate-900"},typography:{headings:(P==null?void 0:P.value)||"Inter, sans-serif",body:(L==null?void 0:L.value)||"Inter, sans-serif"},radius:{small:(k==null?void 0:k.value)||"8px",medium:(g==null?void 0:g.value)||"16px",large:(u==null?void 0:u.value)||"24px"}};M.disabled=!0,U("");try{let D=await fetch(f,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(w)}),Z=await D.json().catch(()=>({}));if(!D.ok||Z.success===!1)throw new Error(Z.message||"Application du th\xE8me \xE9chou\xE9e.");U(Z.message||"Th\xE8me appliqu\xE9.","success"),W()}catch(D){console.error("[settings] apply theme failed",D),U(D.message||"Erreur lors de l\u2019application du th\xE8me.","error")}finally{M.disabled=!1}}),Y(),j(),W()}}function Fs(){let o=document.querySelector("[data-media-grid]");if(!o)return;let d=document.querySelector("[data-media-empty]"),h=document.querySelector("[data-media-count]"),C=document.querySelector("[data-media-filter-type]"),F=document.querySelector("[data-media-detail-empty]"),S=document.querySelector("[data-media-detail]"),z=document.querySelector("[data-media-detail-preview]"),E=document.querySelector("[data-media-detail-name]"),f=document.querySelector("[data-media-detail-type]"),q=document.querySelector("[data-media-detail-size]"),P=document.querySelector("[data-media-detail-path]"),L=document.querySelector("[data-media-detail-used]"),k=document.querySelector("[data-media-alt-edit]"),g=document.querySelector("[data-media-save]"),u=document.querySelector("[data-media-delete]"),x=document.querySelector("[data-media-delete-modal]"),p=document.querySelector("[data-media-delete-cancel]"),M=document.querySelector("[data-media-delete-confirm]"),ne=document.querySelector("[data-media-upload-open]"),J=document.querySelector("[data-media-file-input]"),te=document.querySelector("[data-media-upload-status]"),Y=Ee((V==null?void 0:V.slugValue)||_.slug||""),U=Y?`/api/sites/${encodeURIComponent(Y)}/media`:null,W=[],O=[],j=null,y=null,w=null,N=!1,l=!1,r=!1,c=null,K=i=>{let v=(i.type||"").toLowerCase(),R=(i.filename||"").toLowerCase();return v.includes("image")||/\.(png|jpe?g|webp|svg|gif)$/i.test(R)?"image":v.includes("pdf")||v.includes("doc")||/\.(pdf|docx?)$/i.test(R)?"document":v.includes("video")||/\.(mp4|mov|webm)$/i.test(R)?"video":"other"},D=i=>K(i)==="image",Z=i=>{if(i.type)return i.type.toUpperCase();let v=(i.filename||"").split(".").pop();return v?v.toUpperCase():"FILE"},ue=i=>!i||i<=0?"\u2014":i<1024?`${i} o`:i<1024*1024?`${(i/1024).toFixed(1)} ko`:`${(i/(1024*1024)).toFixed(1)} Mo`,se=()=>{S==null||S.classList.add("hidden"),F==null||F.classList.remove("hidden"),Q(),j=null,l=!1,ae(!1),z&&(z.innerHTML='<span class="text-slate-400 text-sm">Aucun m\xE9dia s\xE9lectionn\xE9</span>'),E&&(E.textContent=""),f&&(f.textContent=""),q&&(q.textContent=""),k&&(k.value=""),P&&(P.textContent=""),L&&(L.innerHTML="")},Q=()=>{w=null,r=!1,N=!1,c&&(URL.revokeObjectURL(c),c=null),te&&(te.textContent="Aucun fichier s\xE9lectionn\xE9."),J&&(J.value="")},fe=()=>{h&&(O.length?O.length===1?h.textContent="1 m\xE9dia":h.textContent=`${O.length} m\xE9dias`:h.textContent="0 m\xE9dia")},ye=()=>{if(o.innerHTML="",!O.length){d==null||d.classList.remove("hidden"),se();return}d==null||d.classList.add("hidden"),O.forEach(i=>{let v=document.createElement("button");v.type="button",v.dataset.mediaId=i.id;let R=i.id===j;v.className=["group relative flex flex-col rounded-2xl border px-3 py-3 text-left transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[#9C6BFF]",R?"border-[#9C6BFF] bg-[#F7F0FF]/60 shadow-sm":"border-slate-200 hover:border-[#9C6BFF]/40"].join(" ");let T=D(i)?`<img src="${i.path}" alt="${i.alt||i.filename}" class="h-full w-full object-cover" />`:'<div class="flex h-full w-full items-center justify-center text-3xl text-slate-400">\u{1F4C4}</div>';v.innerHTML=`
          <div class="relative aspect-[4/3] overflow-hidden rounded-xl bg-slate-100">
            ${T}
          </div>
          <div class="mt-2 space-y-1">
            <p class="text-sm font-semibold text-slate-900 truncate">${i.filename}</p>
            <p class="text-xs text-slate-500">
              ${Z(i)} \xB7 ${ue(i.size)}
            </p>
          </div>
        `,i.id===y&&(v.classList.add("ring-2","ring-[#9C6BFF]"),window.setTimeout(()=>{v.classList.remove("ring-2","ring-[#9C6BFF]")},1600)),v.addEventListener("click",()=>Be(i.id)),o.appendChild(v)}),y=null},ve=i=>{if(L){if(L.innerHTML="",!i.usedIn||i.usedIn.length===0){let v=document.createElement("li");v.textContent="Non utilis\xE9",v.className="text-xs text-slate-400",L.appendChild(v);return}i.usedIn.forEach(v=>{let R=document.createElement("li");R.textContent=v,R.className="text-xs text-slate-600",L.appendChild(R)})}},ae=i=>{if(g){if(r){g.textContent=i?"T\xE9l\xE9versement\u2026":"T\xE9l\xE9verser",g.disabled=i||!w,u&&u.classList.add("hidden");return}g.textContent=i?"Enregistrement\u2026":"Enregistrer",g.disabled=i||!l,u&&(u.classList.remove("hidden"),u.disabled=!j)}},Be=i=>{let v=W.find(R=>R.id===i);if(!v){se(),ye();return}Q(),j=v.id,l=!1,ae(!1),ye(),F==null||F.classList.add("hidden"),S==null||S.classList.remove("hidden"),z&&(D(v)?z.innerHTML=`<img src="${v.path}" alt="${v.alt||v.filename}" class="h-full w-full rounded-2xl object-cover" />`:z.innerHTML='<div class="flex h-full w-full flex-col items-center justify-center gap-1 text-slate-400"><span class="text-3xl">\u{1F4C4}</span><span class="text-xs font-semibold">Document</span></div>'),E&&(E.textContent=v.filename||"Fichier"),f&&(f.textContent=Z(v)),q&&(q.textContent=ue(v.size)),k&&(k.value=v.alt||""),P&&(P.textContent=v.path||"\u2014"),ve(v)},oe=i=>{if(i){if(r=!0,l=!1,j=null,F==null||F.classList.add("hidden"),S==null||S.classList.remove("hidden"),c&&URL.revokeObjectURL(c),c=URL.createObjectURL(i),z&&(z.innerHTML=`<img src="${c}" alt="${i.name}" class="h-full w-full rounded-2xl object-cover" />`),E&&(E.textContent=i.name),f&&(f.textContent=Z({type:i.type,filename:i.name})),q&&(q.textContent=ue(i.size)),k&&!k.value.trim()&&(k.value=i.name.replace(/\.[^.]+$/,"").replace(/[-_]/g," ")),P&&(P.textContent="En attente de t\xE9l\xE9versement"),L){L.innerHTML="";let v=document.createElement("li");v.textContent="Non utilis\xE9",v.className="text-xs text-slate-400",L.appendChild(v)}ae(!1)}},ge=()=>{let i=(C==null?void 0:C.value)||"all";i==="all"?O=[...W]:O=W.filter(v=>v.groupType===i),O.some(v=>v.id===j)||se(),fe(),ye()},Fe=async()=>{if(!U){d==null||d.classList.remove("hidden");return}try{let i=await fetch(U,{headers:{Accept:"application/json"}});if(!i.ok)throw new Error("Impossible de charger les m\xE9dias.");let v=await i.json().catch(()=>({items:[]}));W=Array.isArray(v.items)?v.items.map(R=>({...R,groupType:K(R)})):[],ge()}catch(i){console.error("[media] load failed",i),H(i.message||"Impossible de charger les m\xE9dias."),W=[],ge()}};C==null||C.addEventListener("change",()=>{ge()}),k==null||k.addEventListener("input",()=>{if(r){ae(!1);return}j&&(l=!0,ae(!1))});let Oe=i=>{if(i){if(!i.type.startsWith("image/")){H("Seules les images sont accept\xE9es pour le moment.");return}if(i.size>4*1024*1024){H("Fichier trop volumineux (4 Mo max).");return}w=i,oe(i),te&&(te.textContent=`${i.name} \xB7 ${ue(i.size)}`)}},ze=i=>new Promise((v,R)=>{let T=new FileReader;T.onload=()=>{let Me=T.result||"",[,Je=""]=String(Me).split(",");v(Je)},T.onerror=()=>R(new Error("Impossible de lire ce fichier.")),T.readAsDataURL(i)}),He=async()=>{if(!(!w||!U)){N=!0,ae(!0);try{let i=await ze(w),v={filename:w.name,type:w.type,size:w.size,alt:(k==null?void 0:k.value)||"",data:i},R=await fetch(U,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(v)});if(!R.ok){let Me=await R.json().catch(()=>({}));throw new Error(Me.message||"Upload impossible.")}let T=await R.json();T.groupType=K(T),W=[...W,T],y=T.id,ge(),Be(T.id),H("M\xE9dia ajout\xE9"),Q()}catch(i){console.error("[media] upload failed",i),H(i.message||"Impossible de t\xE9l\xE9verser ce m\xE9dia.")}finally{N=!1,w=null,ae(!1)}}};ne==null||ne.addEventListener("click",()=>J==null?void 0:J.click()),J==null||J.addEventListener("change",()=>{J.files&&J.files[0]&&Oe(J.files[0])});let be=()=>{x&&(x.classList.add("hidden"),x.classList.remove("flex"))},Ve=()=>{if(!(!j||r)){if(x){x.classList.remove("hidden"),x.classList.add("flex");return}window.confirm("Supprimer ce m\xE9dia ?")&&$e()}},$e=async()=>{if(!j||!U){be();return}let i=()=>{u&&(u.disabled=!0),M&&(M.disabled=!0,M.textContent="Suppression\u2026")},v=()=>{u&&(u.disabled=!1),M&&(M.disabled=!1,M.textContent="Supprimer")};i();try{let R=await fetch(`${U}/${encodeURIComponent(j)}`,{method:"DELETE"});if(!R.ok){let T=await R.json().catch(()=>({}));throw new Error(T.message||"Suppression impossible.")}W=W.filter(T=>T.id!==j),O=O.filter(T=>T.id!==j),H("M\xE9dia supprim\xE9"),se(),fe(),ye()}catch(R){console.error("[media] delete failed",R),H(R.message||"Impossible de supprimer ce m\xE9dia.")}finally{v(),be()}};p==null||p.addEventListener("click",be),x==null||x.addEventListener("click",i=>{i.target===x&&be()}),M==null||M.addEventListener("click",()=>$e()),u==null||u.addEventListener("click",Ve),g==null||g.addEventListener("click",async()=>{if(r){He();return}if(!(!j||!U||!k)){ae(!0);try{let i={alt:k.value||""},v=await fetch(`${U}/${encodeURIComponent(j)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!v.ok){let T=await v.json().catch(()=>({}));throw new Error(T.message||"Impossible de mettre \xE0 jour ce m\xE9dia.")}let R=await v.json();W=W.map(T=>T.id===j?{...T,...R}:T),O=O.map(T=>T.id===j?{...T,...R}:T),l=!1,ae(!1),H("M\xE9dia mis \xE0 jour")}catch(i){console.error("[media] update failed",i),H(i.message||"\xC9chec de la mise \xE0 jour."),ae(!1)}}}),Fe()}});})();
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vY29yZS9zY3JpcHRzL2FkbWluLmpzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuICBjb25zb2xlLmxvZygnW2FkbWluXSBBdGVsaWVyIGNoYXJnXHUwMEU5Jyk7XG4gIGNvbnN0IGxvZ291dEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWxvZ291dF0nKTtcbiAgaWYgKGxvZ291dEJ1dHRvbikge1xuICAgIGxvZ291dEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGxvZ291dEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBmZXRjaCgnL2FwaS9sb2dvdXQnLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbYWRtaW5dIEltcG9zc2libGUgZGUgc2UgZFx1MDBFOWNvbm5lY3RlcicsIGVycik7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvYWRtaW4vaW5kZXguaHRtbCc7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBjb25zdCBzaWRlYmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRtaW4tc2lkZWJhcl0nKTtcbiAgY29uc3Qgc2lkZWJhck92ZXJsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZG1pbi1zaWRlYmFyLW92ZXJsYXldJyk7XG4gIGNvbnN0IHNpZGViYXJUb2dnbGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYWRtaW4tc2lkZWJhci10b2dnbGVdJyk7XG4gIGNvbnN0IHNpZGViYXJDbG9zZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1hZG1pbi1zaWRlYmFyLWNsb3NlXScpO1xuICBjb25zdCBib2R5ID0gZG9jdW1lbnQuYm9keTtcbiAgbGV0IHNpZGViYXJPcGVuID0gZmFsc2U7XG5cbiAgY29uc3QgYXBwbHlTaWRlYmFyU3RhdGUgPSAoKSA9PiB7XG4gICAgaWYgKCFzaWRlYmFyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGlzRGVza3RvcCA9IHdpbmRvdy5tYXRjaE1lZGlhKCcobWluLXdpZHRoOiAxMDI0cHgpJykubWF0Y2hlcztcbiAgICBpZiAoaXNEZXNrdG9wKSB7XG4gICAgICBzaWRlYmFyLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgc2lkZWJhck92ZXJsYXk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHNpZGViYXJPcGVuKSB7XG4gICAgICBzaWRlYmFyLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgc2lkZWJhck92ZXJsYXk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgYm9keS5jbGFzc0xpc3QuYWRkKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2lkZWJhci5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIHNpZGViYXJPdmVybGF5Py5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnb3ZlcmZsb3ctaGlkZGVuJyk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IG9wZW5TaWRlYmFyID0gKCkgPT4ge1xuICAgIHNpZGViYXJPcGVuID0gdHJ1ZTtcbiAgICBhcHBseVNpZGViYXJTdGF0ZSgpO1xuICB9O1xuXG4gIGNvbnN0IGNsb3NlU2lkZWJhciA9ICgpID0+IHtcbiAgICBzaWRlYmFyT3BlbiA9IGZhbHNlO1xuICAgIGFwcGx5U2lkZWJhclN0YXRlKCk7XG4gIH07XG5cbiAgaWYgKHNpZGViYXIgJiYgc2lkZWJhclRvZ2dsZXMubGVuZ3RoID4gMCkge1xuICAgIHNpZGViYXJUb2dnbGVzLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlblNpZGViYXIpO1xuICAgIH0pO1xuICAgIHNpZGViYXJDbG9zZUJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZVNpZGViYXIpO1xuICAgIH0pO1xuICAgIHNpZGViYXJPdmVybGF5Py5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlU2lkZWJhcik7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGFwcGx5U2lkZWJhclN0YXRlKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VzY2FwZScgJiYgc2lkZWJhck9wZW4pIHtcbiAgICAgICAgY2xvc2VTaWRlYmFyKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgYXBwbHlTaWRlYmFyU3RhdGUoKTtcbiAgfVxuXG4gIGNvbnN0IEFDVElWRV9TSVRFX0tFWSA9ICdjbG93ZXI6Y3VycmVudFNpdGUnO1xuICBjb25zdCBBQ1RJVkVfU0lURV9OQU1FX0tFWSA9ICdjbG93ZXI6Y3VycmVudFNpdGVOYW1lJztcbiAgY29uc3Qgc3RvcmVkU2l0ZSA9IHsgc2x1ZzogbnVsbCwgbmFtZTogJycgfTtcbiAgY29uc3QgbG9hZFN0b3JlZFNpdGUgPSAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHN0b3JlZFNpdGUuc2x1ZyA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShBQ1RJVkVfU0lURV9LRVkpO1xuICAgICAgc3RvcmVkU2l0ZS5uYW1lID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKEFDVElWRV9TSVRFX05BTUVfS0VZKSB8fCAnJztcbiAgICB9IGNhdGNoIHtcbiAgICAgIHN0b3JlZFNpdGUuc2x1ZyA9IG51bGw7XG4gICAgICBzdG9yZWRTaXRlLm5hbWUgPSAnJztcbiAgICB9XG4gIH07XG4gIGxvYWRTdG9yZWRTaXRlKCk7XG5cbiAgY29uc3Qgc2l0ZUNhcmRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtc2l0ZS1jYXJkXScpO1xuICBjb25zdCBzaXRlU2VsZWN0QnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXNpdGUtc2VsZWN0XScpO1xuICBjb25zdCBzaXRlTmFtZUxhYmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY3VycmVudC1zaXRlLW5hbWVdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZVNpdGVMYWJlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXdvcmtzcGFjZS1zaXRlLW5hbWVdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZUJhY2tOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtd29ya3NwYWNlLWJhY2stbmFtZV0nKTtcbiAgY29uc3Qgd29ya3NwYWNlQmFja01vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtd29ya3NwYWNlLWJhY2stbW9kYWxdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZUJhY2tCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtd29ya3NwYWNlLWJhY2tdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZUJhY2tDYW5jZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS13b3Jrc3BhY2UtYmFjay1jYW5jZWxdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZUJhY2tDb25maXJtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtd29ya3NwYWNlLWJhY2stY29uZmlybV0nKTtcbiAgY29uc3Qgd29ya3NwYWNlTmF2TGlua3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS13b3Jrc3BhY2UtdGFiXScpO1xuICBjb25zdCBzaXRlVG9hc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLXRvYXN0XScpO1xuICBjb25zdCBzaXRlVG9hc3RNZXNzYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS10b2FzdC1tZXNzYWdlXScpO1xuICBjb25zdCBzaXRlQ3JlYXRlQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXNpdGUtY3JlYXRlXScpO1xuICBjb25zdCBzaXRlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLW1vZGFsXScpO1xuICBjb25zdCBzaXRlRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtZm9ybV0nKTtcbiAgY29uc3Qgc2l0ZU5hbWVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtbmFtZV0nKTtcbiAgY29uc3Qgc2l0ZVNsdWdJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtc2x1Z10nKTtcbiAgY29uc3Qgc2l0ZVNsdWdFcnJvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtc2x1Zy1lcnJvcl0nKTtcbiAgY29uc3Qgc2l0ZU1vZGFsRXJyb3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLW1vZGFsLWVycm9yXScpO1xuICBjb25zdCBzaXRlTW9kYWxDYW5jZWxCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtc2l0ZS1tb2RhbC1jYW5jZWxdJyk7XG4gIGNvbnN0IHNpdGVNb2RhbFN1Ym1pdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtbW9kYWwtc3VibWl0XScpO1xuICBjb25zdCB3b3Jrc3BhY2VDb250ZXh0ID0gZ2V0V29ya3NwYWNlQ29udGV4dCgpO1xuICBsZXQgc2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gIGxldCBsYXN0Rm9jdXNlZEVsZW1lbnQgPSBudWxsO1xuICBsZXQgdG9hc3RUaW1lb3V0SWQgPSBudWxsO1xuXG4gIGNvbnN0IGZvY3VzYWJsZVNlbGVjdG9yID1cbiAgICAnYVtocmVmXSwgYnV0dG9uOm5vdChbZGlzYWJsZWRdKSwgdGV4dGFyZWEsIGlucHV0LCBzZWxlY3QsIFt0YWJpbmRleF06bm90KFt0YWJpbmRleD1cIi0xXCJdKSc7XG4gIGNvbnN0IHRyYXBGb2N1cyA9IChldmVudCkgPT4ge1xuICAgIGlmICghc2l0ZU1vZGFsIHx8IHNpdGVNb2RhbC5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpIHx8IGV2ZW50LmtleSAhPT0gJ1RhYicpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZm9jdXNhYmxlRWxlbWVudHMgPSBBcnJheS5mcm9tKHNpdGVNb2RhbC5xdWVyeVNlbGVjdG9yQWxsKGZvY3VzYWJsZVNlbGVjdG9yKSkuZmlsdGVyKFxuICAgICAgKGVsKSA9PiAhZWwuaGFzQXR0cmlidXRlKCdkaXNhYmxlZCcpICYmICFlbC5nZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJyksXG4gICAgKTtcbiAgICBpZiAoZm9jdXNhYmxlRWxlbWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGZpcnN0ID0gZm9jdXNhYmxlRWxlbWVudHNbMF07XG4gICAgY29uc3QgbGFzdCA9IGZvY3VzYWJsZUVsZW1lbnRzW2ZvY3VzYWJsZUVsZW1lbnRzLmxlbmd0aCAtIDFdO1xuICAgIGlmIChldmVudC5zaGlmdEtleSkge1xuICAgICAgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IGZpcnN0KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGxhc3QuZm9jdXMoKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IGxhc3QpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBmaXJzdC5mb2N1cygpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBzaG93VG9hc3QgPSAobWVzc2FnZSkgPT4ge1xuICAgIGlmICghc2l0ZVRvYXN0IHx8ICFzaXRlVG9hc3RNZXNzYWdlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHNpdGVUb2FzdE1lc3NhZ2UudGV4dENvbnRlbnQgPSBtZXNzYWdlO1xuICAgIHNpdGVUb2FzdC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICBpZiAodG9hc3RUaW1lb3V0SWQpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0b2FzdFRpbWVvdXRJZCk7XG4gICAgfVxuICAgIHRvYXN0VGltZW91dElkID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBzaXRlVG9hc3QuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgfSwgMjUwMCk7XG4gIH07XG5cbiAgZnVuY3Rpb24gZW5zdXJlTGVhZGluZ1NsYXNoKHNsdWcpIHtcbiAgICBpZiAoIXNsdWcpIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgcmV0dXJuIHNsdWcuc3RhcnRzV2l0aCgnLycpID8gc2x1ZyA6IGAvJHtzbHVnfWA7XG4gIH1cblxuICBmdW5jdGlvbiBzdHJpcExlYWRpbmdTbGFzaChzbHVnKSB7XG4gICAgcmV0dXJuIHNsdWc/LnJlcGxhY2UoL15cXC8vLCAnJykgfHwgJyc7XG4gIH1cblxuICBjb25zdCBwZXJzaXN0U2l0ZVN0YXRlID0gKHNsdWcsIG5hbWUpID0+IHtcbiAgICBjb25zdCBub3JtYWxpemVkU2x1ZyA9IHNsdWcgPyBlbnN1cmVMZWFkaW5nU2xhc2goc2x1ZykgOiBudWxsO1xuICAgIHRyeSB7XG4gICAgICBpZiAobm9ybWFsaXplZFNsdWcpIHtcbiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKEFDVElWRV9TSVRFX0tFWSwgbm9ybWFsaXplZFNsdWcpO1xuICAgICAgICBzdG9yZWRTaXRlLnNsdWcgPSBub3JtYWxpemVkU2x1ZztcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgbmFtZSA9PT0gJ3N0cmluZycgJiYgbmFtZS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShBQ1RJVkVfU0lURV9OQU1FX0tFWSwgbmFtZSk7XG4gICAgICAgIHN0b3JlZFNpdGUubmFtZSA9IG5hbWU7XG4gICAgICB9XG4gICAgfSBjYXRjaCB7XG4gICAgICBzdG9yZWRTaXRlLnNsdWcgPSBub3JtYWxpemVkU2x1ZyB8fCBzdG9yZWRTaXRlLnNsdWc7XG4gICAgICBzdG9yZWRTaXRlLm5hbWUgPSBuYW1lIHx8IHN0b3JlZFNpdGUubmFtZTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgdXBkYXRlU2l0ZUxhYmVscyA9IChuYW1lKSA9PiB7XG4gICAgaWYgKHNpdGVOYW1lTGFiZWwgJiYgbmFtZSkge1xuICAgICAgc2l0ZU5hbWVMYWJlbC50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgfVxuICAgIGlmICh3b3Jrc3BhY2VTaXRlTGFiZWwgJiYgbmFtZSkge1xuICAgICAgd29ya3NwYWNlU2l0ZUxhYmVsLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICB9XG4gICAgaWYgKHdvcmtzcGFjZUJhY2tOYW1lICYmIG5hbWUpIHtcbiAgICAgIHdvcmtzcGFjZUJhY2tOYW1lLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgdXBkYXRlV29ya3NwYWNlTmF2TGlua3MgPSAoc2x1ZykgPT4ge1xuICAgIHdvcmtzcGFjZU5hdkxpbmtzLmZvckVhY2goKGxpbmspID0+IHtcbiAgICAgIGNvbnN0IHRhYiA9IGxpbmsuZGF0YXNldC53b3Jrc3BhY2VUYWI7XG4gICAgICBpZiAoIXRhYikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIXNsdWcpIHtcbiAgICAgICAgbGluay5ocmVmID0gJyMnO1xuICAgICAgICBsaW5rLmNsYXNzTGlzdC5hZGQoJ3BvaW50ZXItZXZlbnRzLW5vbmUnLCAnb3BhY2l0eS01MCcsICd0ZXh0LXNsYXRlLTQwMCcpO1xuICAgICAgICBsaW5rLnNldEF0dHJpYnV0ZSgnYXJpYS1kaXNhYmxlZCcsICd0cnVlJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHNsdWdQYXRoID0gZW5jb2RlVVJJQ29tcG9uZW50KHN0cmlwTGVhZGluZ1NsYXNoKHNsdWcpKTtcbiAgICAgIGxpbmsuaHJlZiA9IGAvYWRtaW4vc2l0ZS8ke3NsdWdQYXRofS8ke3RhYn1gO1xuICAgICAgbGluay5jbGFzc0xpc3QucmVtb3ZlKCdwb2ludGVyLWV2ZW50cy1ub25lJywgJ29wYWNpdHktNTAnLCAndGV4dC1zbGF0ZS00MDAnKTtcbiAgICAgIGxpbmsucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWRpc2FibGVkJyk7XG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3QgYXBwbHlBY3RpdmVTaXRlID0gKHNsdWcsIG9wdGlvbnMgPSB7fSkgPT4ge1xuICAgIGlmICghc2x1Zykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBub3JtYWxpemVkU2x1ZyA9IGVuc3VyZUxlYWRpbmdTbGFzaChzbHVnKTtcbiAgICBsZXQgYWN0aXZlU2l0ZU5hbWUgPVxuICAgICAgb3B0aW9ucy5zaXRlTmFtZSB8fCBzdG9yZWRTaXRlLm5hbWUgfHwgc2l0ZU5hbWVMYWJlbD8uZGF0YXNldC5kZWZhdWx0U2l0ZU5hbWUgfHwgJyc7XG4gICAgc2l0ZUNhcmRzLmZvckVhY2goKGNhcmQpID0+IHtcbiAgICAgIGNvbnN0IGNhcmRTbHVnID0gZW5zdXJlTGVhZGluZ1NsYXNoKGNhcmQuZGF0YXNldC5zaXRlQ2FyZCB8fCAnJyk7XG4gICAgICBjb25zdCBpc0FjdGl2ZSA9IGNhcmRTbHVnID09PSBub3JtYWxpemVkU2x1ZztcbiAgICAgIGNvbnN0IGJhZGdlID0gY2FyZC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLWFjdGl2ZS1iYWRnZV0nKTtcbiAgICAgIGlmIChpc0FjdGl2ZSkge1xuICAgICAgICBjYXJkLmNsYXNzTGlzdC5hZGQoJ2JvcmRlci1bIzlDNkJGRl0nLCAncmluZy0yJywgJ3JpbmctWyM5QzZCRkZdJywgJ3NoYWRvdy1tZCcpO1xuICAgICAgICBjYXJkLmNsYXNzTGlzdC5yZW1vdmUoJ2JvcmRlci1zbGF0ZS0yMDAnKTtcbiAgICAgICAgYmFkZ2U/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICBhY3RpdmVTaXRlTmFtZSA9IGNhcmQuZGF0YXNldC5zaXRlTmFtZSB8fCBhY3RpdmVTaXRlTmFtZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhcmQuY2xhc3NMaXN0LnJlbW92ZSgnYm9yZGVyLVsjOUM2QkZGXScsICdyaW5nLTInLCAncmluZy1bIzlDNkJGRl0nLCAnc2hhZG93LW1kJyk7XG4gICAgICAgIGNhcmQuY2xhc3NMaXN0LmFkZCgnYm9yZGVyLXNsYXRlLTIwMCcpO1xuICAgICAgICBiYWRnZT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKG9wdGlvbnMucGVyc2lzdCAhPT0gZmFsc2UpIHtcbiAgICAgIHBlcnNpc3RTaXRlU3RhdGUobm9ybWFsaXplZFNsdWcsIG9wdGlvbnMuc2l0ZU5hbWUgfHwgYWN0aXZlU2l0ZU5hbWUpO1xuICAgIH1cbiAgICBjb25zdCBmaW5hbE5hbWUgPSBvcHRpb25zLnNpdGVOYW1lIHx8IGFjdGl2ZVNpdGVOYW1lO1xuICAgIHVwZGF0ZVNpdGVMYWJlbHMoZmluYWxOYW1lKTtcbiAgICB1cGRhdGVXb3Jrc3BhY2VOYXZMaW5rcyhub3JtYWxpemVkU2x1Zyk7XG4gIH07XG5cbiAgY29uc3Qgc2VsZWN0U2l0ZSA9IGFzeW5jIChzbHVnLCBuYW1lKSA9PiB7XG4gICAgY29uc3Qgbm9ybWFsaXplZFNsdWcgPSBlbnN1cmVMZWFkaW5nU2xhc2goc2x1Zyk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvc2l0ZXMvc2VsZWN0Jywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgc2x1Zzogbm9ybWFsaXplZFNsdWcgfSksXG4gICAgICB9KTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgc2hvd1RvYXN0KHBheWxvYWQubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBzXHUwMEU5bGVjdGlvbm5lciBjZSBzaXRlLicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgY29uc3QgZmluYWxTbHVnID0gZW5zdXJlTGVhZGluZ1NsYXNoKHBheWxvYWQuc2x1ZyB8fCBub3JtYWxpemVkU2x1Zyk7XG4gICAgICBjb25zdCBmaW5hbE5hbWUgPSBwYXlsb2FkLm5hbWUgfHwgbmFtZTtcbiAgICAgIHBlcnNpc3RTaXRlU3RhdGUoZmluYWxTbHVnLCBmaW5hbE5hbWUpO1xuICAgICAgYXBwbHlBY3RpdmVTaXRlKGZpbmFsU2x1ZywgeyBzaXRlTmFtZTogZmluYWxOYW1lLCBwZXJzaXN0OiBmYWxzZSB9KTtcbiAgICAgIGNvbnN0IHNsdWdQYXRoID0gZW5jb2RlVVJJQ29tcG9uZW50KHN0cmlwTGVhZGluZ1NsYXNoKGZpbmFsU2x1ZykpO1xuICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBgL2FkbWluL3NpdGUvJHtzbHVnUGF0aH0vZGVzaWduYDtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1thZG1pbl0gSW1wb3NzaWJsZSBkZSBzXHUwMEU5bGVjdGlvbm5lciBsZSBzaXRlJywgZXJyKTtcbiAgICAgIHNob3dUb2FzdCgnRXJyZXVyIGluYXR0ZW5kdWUgbG9ycyBkZSBsYSBzXHUwMEU5bGVjdGlvbi4nKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3Qgc3luY0FjdGl2ZVNpdGVGcm9tU2VydmVyID0gYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL3NpdGVzL2N1cnJlbnQnLCB7IGNyZWRlbnRpYWxzOiAnc2FtZS1vcmlnaW4nIH0pO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDQgJiYgd29ya3NwYWNlQ29udGV4dCkge1xuICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9hZG1pbi9zaXRlcyc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3Qgc2l0ZSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWRTbHVnID0gZW5zdXJlTGVhZGluZ1NsYXNoKHNpdGUuc2x1Zyk7XG4gICAgICBwZXJzaXN0U2l0ZVN0YXRlKG5vcm1hbGl6ZWRTbHVnLCBzaXRlLm5hbWUpO1xuICAgICAgYXBwbHlBY3RpdmVTaXRlKG5vcm1hbGl6ZWRTbHVnLCB7IHNpdGVOYW1lOiBzaXRlLm5hbWUsIHBlcnNpc3Q6IGZhbHNlIH0pO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS53YXJuKCdbYWRtaW5dIEltcG9zc2libGUgZGUgclx1MDBFOWN1cFx1MDBFOXJlciBsZSBzaXRlIGFjdGlmJywgZXJyKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGlnaGxpZ2h0RnJvbVN0b3JhZ2VPckRlZmF1bHQgPSAoKSA9PiB7XG4gICAgaWYgKHN0b3JlZFNpdGUuc2x1Zykge1xuICAgICAgYXBwbHlBY3RpdmVTaXRlKHN0b3JlZFNpdGUuc2x1ZywgeyBzaXRlTmFtZTogc3RvcmVkU2l0ZS5uYW1lLCBwZXJzaXN0OiBmYWxzZSB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZGVmYXVsdENhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLWNhcmRdW2RhdGEtc2l0ZS1kZWZhdWx0PVwidHJ1ZVwiXScpIHx8IHNpdGVDYXJkc1swXTtcbiAgICBpZiAoZGVmYXVsdENhcmQpIHtcbiAgICAgIGFwcGx5QWN0aXZlU2l0ZShkZWZhdWx0Q2FyZC5kYXRhc2V0LnNpdGVDYXJkLCB7XG4gICAgICAgIHNpdGVOYW1lOiBkZWZhdWx0Q2FyZC5kYXRhc2V0LnNpdGVOYW1lIHx8ICcnLFxuICAgICAgICBwZXJzaXN0OiBmYWxzZSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICBoaWdobGlnaHRGcm9tU3RvcmFnZU9yRGVmYXVsdCgpO1xuICBzeW5jQWN0aXZlU2l0ZUZyb21TZXJ2ZXIoKTtcbiAgaWYgKHdvcmtzcGFjZUNvbnRleHQpIHtcbiAgICB1cGRhdGVXb3Jrc3BhY2VOYXZMaW5rcyh3b3Jrc3BhY2VDb250ZXh0LnNsdWdWYWx1ZSk7XG4gIH0gZWxzZSBpZiAoc3RvcmVkU2l0ZS5zbHVnKSB7XG4gICAgdXBkYXRlV29ya3NwYWNlTmF2TGlua3Moc3RvcmVkU2l0ZS5zbHVnKTtcbiAgfVxuXG4gIHNpdGVTZWxlY3RCdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGlmIChidXR0b24uZGlzYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3Qgc2x1ZyA9IGJ1dHRvbi5kYXRhc2V0LnNpdGVTZWxlY3Q7XG4gICAgICBjb25zdCBuYW1lID0gYnV0dG9uLmRhdGFzZXQuc2l0ZVNlbGVjdE5hbWUgfHwgJ0NlIHNpdGUnO1xuICAgICAgaWYgKCFzbHVnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICBzZWxlY3RTaXRlKHNsdWcsIG5hbWUpLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICBidXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBjb25zdCB3b3Jrc3BhY2VTbHVnaWZ5ID0gKHZhbHVlKSA9PlxuICAgIHZhbHVlXG4gICAgICAubm9ybWFsaXplKCdORkQnKVxuICAgICAgLnJlcGxhY2UoL1tcXHUwMzAwLVxcdTAzNmZdL2csICcnKVxuICAgICAgLnRvTG93ZXJDYXNlKClcbiAgICAgIC5yZXBsYWNlKC9bXmEtejAtOV0rL2csICctJylcbiAgICAgIC5yZXBsYWNlKC9eLSt8LSskL2csICcnKTtcblxuICBjb25zdCBub3JtYWxpemVTbHVnVmFsdWUgPSAodmFsdWUpID0+IHtcbiAgICBjb25zdCBiYXNlID0gd29ya3NwYWNlU2x1Z2lmeSh2YWx1ZSB8fCAnJyk7XG4gICAgaWYgKCFiYXNlKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIHJldHVybiBgLyR7YmFzZX1gO1xuICB9O1xuXG4gIGNvbnN0IG9wZW5TaXRlTW9kYWwgPSAoKSA9PiB7XG4gICAgaWYgKCFzaXRlTW9kYWwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGFzdEZvY3VzZWRFbGVtZW50ID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcbiAgICBzaXRlTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgc2l0ZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2ZsZXgnKTtcbiAgICBzbHVnTWFudWFsbHlFZGl0ZWQgPSBmYWxzZTtcbiAgICBzaXRlRm9ybT8ucmVzZXQoKTtcbiAgICBzaXRlU2x1Z0Vycm9yICYmIChzaXRlU2x1Z0Vycm9yLnRleHRDb250ZW50ID0gJycpO1xuICAgIHNpdGVNb2RhbEVycm9yICYmIChzaXRlTW9kYWxFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICBpZiAoc2l0ZVNsdWdJbnB1dCAmJiBzaXRlTmFtZUlucHV0KSB7XG4gICAgICBzaXRlU2x1Z0lucHV0LnZhbHVlID0gd29ya3NwYWNlU2x1Z2lmeShzaXRlTmFtZUlucHV0LnZhbHVlKTtcbiAgICB9XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRyYXBGb2N1cyk7XG4gICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgc2l0ZU5hbWVJbnB1dD8uZm9jdXMoKTtcbiAgICB9LCAwKTtcbiAgfTtcblxuICBjb25zdCBjbG9zZVNpdGVNb2RhbCA9ICgpID0+IHtcbiAgICBpZiAoIXNpdGVNb2RhbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzaXRlTW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgc2l0ZU1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2ZsZXgnKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdHJhcEZvY3VzKTtcbiAgICBzbHVnTWFudWFsbHlFZGl0ZWQgPSBmYWxzZTtcbiAgICBzaXRlRm9ybT8ucmVzZXQoKTtcbiAgICBzaXRlU2x1Z0Vycm9yICYmIChzaXRlU2x1Z0Vycm9yLnRleHRDb250ZW50ID0gJycpO1xuICAgIHNpdGVNb2RhbEVycm9yICYmIChzaXRlTW9kYWxFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICBsYXN0Rm9jdXNlZEVsZW1lbnQ/LmZvY3VzKCk7XG4gIH07XG5cbiAgc2l0ZUNyZWF0ZUJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlblNpdGVNb2RhbCk7XG4gIH0pO1xuXG4gIHNpdGVNb2RhbENhbmNlbEJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VTaXRlTW9kYWwpO1xuICB9KTtcblxuICBzaXRlTW9kYWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gc2l0ZU1vZGFsKSB7XG4gICAgICBjbG9zZVNpdGVNb2RhbCgpO1xuICAgIH1cbiAgfSk7XG5cbiAgc2l0ZU5hbWVJbnB1dD8uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgaWYgKCFzaXRlU2x1Z0lucHV0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghc2x1Z01hbnVhbGx5RWRpdGVkIHx8IHNpdGVTbHVnSW5wdXQudmFsdWUudHJpbSgpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgc2l0ZVNsdWdJbnB1dC52YWx1ZSA9IHdvcmtzcGFjZVNsdWdpZnkoc2l0ZU5hbWVJbnB1dC52YWx1ZSk7XG4gICAgfVxuICB9KTtcblxuICBzaXRlU2x1Z0lucHV0Py5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICBzbHVnTWFudWFsbHlFZGl0ZWQgPSB0cnVlO1xuICAgIHNpdGVTbHVnRXJyb3IgJiYgKHNpdGVTbHVnRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gIH0pO1xuXG4gIGNvbnN0IGdldFNsdWdTZXQgPSAoKSA9PlxuICAgIG5ldyBTZXQoQXJyYXkuZnJvbShzaXRlQ2FyZHMpLm1hcCgoY2FyZCkgPT4gZW5zdXJlTGVhZGluZ1NsYXNoKGNhcmQuZGF0YXNldC5zaXRlQ2FyZCB8fCAnJykpKTtcblxuICBzaXRlRm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAoIXNpdGVOYW1lSW5wdXQgfHwgIXNpdGVTbHVnSW5wdXQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgbmFtZVZhbHVlID0gKHNpdGVOYW1lSW5wdXQudmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICBsZXQgc2x1Z1ZhbHVlID0gc2l0ZVNsdWdJbnB1dC52YWx1ZSB8fCAnJztcbiAgICBpZiAoIXNsdWdWYWx1ZSkge1xuICAgICAgc2x1Z1ZhbHVlID0gbmFtZVZhbHVlO1xuICAgIH1cbiAgICBjb25zdCBub3JtYWxpemVkU2x1ZyA9IG5vcm1hbGl6ZVNsdWdWYWx1ZShzbHVnVmFsdWUpO1xuICAgIGlmICghbmFtZVZhbHVlIHx8ICFub3JtYWxpemVkU2x1Zykge1xuICAgICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9ICdOb20gZXQgc2x1ZyBzb250IHJlcXVpcy4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZXhpc3RpbmdTbHVncyA9IGdldFNsdWdTZXQoKTtcbiAgICBpZiAoZXhpc3RpbmdTbHVncy5oYXMobm9ybWFsaXplZFNsdWcpKSB7XG4gICAgICBzaXRlU2x1Z0Vycm9yICYmIChzaXRlU2x1Z0Vycm9yLnRleHRDb250ZW50ID0gJ0NlIHNsdWcgZXN0IGRcdTAwRTlqXHUwMEUwIHV0aWxpc1x1MDBFOS4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICBzaXRlTW9kYWxFcnJvciAmJiAoc2l0ZU1vZGFsRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgaWYgKHNpdGVNb2RhbFN1Ym1pdEJ1dHRvbikge1xuICAgICAgc2l0ZU1vZGFsU3VibWl0QnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIHNpdGVNb2RhbFN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9ICdDclx1MDBFOWF0aW9uLi4uJztcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvc2l0ZXMnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBuYW1lOiBuYW1lVmFsdWUsIHNsdWc6IG5vcm1hbGl6ZWRTbHVnIH0pLFxuICAgICAgfSk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBwYXlsb2FkLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgY3JcdTAwRTllciBjZSBzaXRlLic7XG4gICAgICAgIHNpdGVNb2RhbEVycm9yICYmIChzaXRlTW9kYWxFcnJvci50ZXh0Q29udGVudCA9IG1lc3NhZ2UpO1xuICAgICAgICBpZiAocGF5bG9hZC5maWVsZCA9PT0gJ3NsdWcnKSB7XG4gICAgICAgICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9IG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNyZWF0ZWRTaXRlID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgY29uc3QgZmluYWxTbHVnID0gZW5zdXJlTGVhZGluZ1NsYXNoKGNyZWF0ZWRTaXRlPy5zbHVnIHx8IG5vcm1hbGl6ZWRTbHVnKTtcbiAgICAgIGNvbnN0IGZpbmFsTmFtZSA9IGNyZWF0ZWRTaXRlPy5uYW1lIHx8IG5hbWVWYWx1ZTtcbiAgICAgIHBlcnNpc3RTaXRlU3RhdGUoZmluYWxTbHVnLCBmaW5hbE5hbWUpO1xuICAgICAgY2xvc2VTaXRlTW9kYWwoKTtcbiAgICAgIGNvbnN0IHNsdWdQYXRoID0gZW5jb2RlVVJJQ29tcG9uZW50KHN0cmlwTGVhZGluZ1NsYXNoKGZpbmFsU2x1ZykpO1xuICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBgL2FkbWluL3NpdGUvJHtzbHVnUGF0aH0vZGVzaWduYDtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1thZG1pbl0gSW1wb3NzaWJsZSBkZSBjclx1MDBFOWVyIGxlIHNpdGUnLCBlcnIpO1xuICAgICAgc2l0ZU1vZGFsRXJyb3IgJiYgKHNpdGVNb2RhbEVycm9yLnRleHRDb250ZW50ID0gJ0VycmV1ciBpbmF0dGVuZHVlLiBSXHUwMEU5ZXNzYWllIGRhbnMgdW4gaW5zdGFudC4nKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKHNpdGVNb2RhbFN1Ym1pdEJ1dHRvbikge1xuICAgICAgICBzaXRlTW9kYWxTdWJtaXRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgc2l0ZU1vZGFsU3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gJ0NyXHUwMEU5ZXInO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZlbnQpID0+IHtcbiAgICBpZiAoZXZlbnQua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgaWYgKHNpdGVNb2RhbCAmJiAhc2l0ZU1vZGFsLmNsYXNzTGlzdC5jb250YWlucygnaGlkZGVuJykpIHtcbiAgICAgICAgY2xvc2VTaXRlTW9kYWwoKTtcbiAgICAgIH1cbiAgICAgIGlmICh3b3Jrc3BhY2VCYWNrTW9kYWwgJiYgIXdvcmtzcGFjZUJhY2tNb2RhbC5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpKSB7XG4gICAgICAgIGNsb3NlV29ya3NwYWNlQmFja01vZGFsKCk7XG4gICAgICB9XG4gICAgICBpZiAoYmxvY2tEZWxldGVNb2RhbCAmJiAhYmxvY2tEZWxldGVNb2RhbC5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpKSB7XG4gICAgICAgIGNsb3NlQmxvY2tEZWxldGVNb2RhbCgpO1xuICAgICAgfVxuICAgICAgaWYgKGJsb2NrTGlicmFyeU9wZW4pIHtcbiAgICAgICAgY2xvc2VCbG9ja0xpYnJhcnkoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIGdldFdvcmtzcGFjZUNvbnRleHQoKSB7XG4gICAgY29uc3QgbWF0Y2ggPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUubWF0Y2goL15cXC9hZG1pblxcL3NpdGVcXC8oW14vXSspKD86XFwvKFteL10rKSk/Lyk7XG4gICAgaWYgKCFtYXRjaCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBzbHVnUGFydDogZGVjb2RlVVJJQ29tcG9uZW50KG1hdGNoWzFdKSxcbiAgICAgIHNsdWdWYWx1ZTogZW5zdXJlTGVhZGluZ1NsYXNoKGRlY29kZVVSSUNvbXBvbmVudChtYXRjaFsxXSkpLFxuICAgICAgc2VjdGlvbjogbWF0Y2hbMl0gfHwgJ2Rlc2lnbicsXG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRldGVjdFdvcmtzcGFjZVNlY3Rpb24oKSB7XG4gICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXBhZ2UtbGlzdF0nKSkge1xuICAgICAgcmV0dXJuICdkZXNpZ24nO1xuICAgIH1cbiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29sbGVjdGlvbi1saXN0XScpKSB7XG4gICAgICByZXR1cm4gJ2NvbnRlbnQnO1xuICAgIH1cbiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZ3JpZF0nKSkge1xuICAgICAgcmV0dXJuICdtZWRpYSc7XG4gICAgfVxuICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktZm9ybV0nKSkge1xuICAgICAgcmV0dXJuICdkZXBsb3knO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9wZW5Xb3Jrc3BhY2VCYWNrTW9kYWwoKSB7XG4gICAgaWYgKCF3b3Jrc3BhY2VCYWNrTW9kYWwpIHtcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9hZG1pbi9zaXRlcyc7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHdvcmtzcGFjZUJhY2tNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICB3b3Jrc3BhY2VCYWNrTW9kYWwuY2xhc3NMaXN0LmFkZCgnZmxleCcpO1xuICB9XG5cbiAgZnVuY3Rpb24gY2xvc2VXb3Jrc3BhY2VCYWNrTW9kYWwoKSB7XG4gICAgaWYgKCF3b3Jrc3BhY2VCYWNrTW9kYWwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgd29ya3NwYWNlQmFja01vZGFsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgIHdvcmtzcGFjZUJhY2tNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdmbGV4Jyk7XG4gIH1cblxuICB3b3Jrc3BhY2VCYWNrQnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuV29ya3NwYWNlQmFja01vZGFsKTtcbiAgfSk7XG4gIHdvcmtzcGFjZUJhY2tDYW5jZWwuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VXb3Jrc3BhY2VCYWNrTW9kYWwpO1xuICB9KTtcbiAgd29ya3NwYWNlQmFja0NvbmZpcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9hZG1pbi9zaXRlcyc7XG4gIH0pO1xuXG4gIGNvbnN0IGFjdGl2ZVNlY3Rpb24gPSB3b3Jrc3BhY2VDb250ZXh0Py5zZWN0aW9uIHx8IGRldGVjdFdvcmtzcGFjZVNlY3Rpb24oKTtcblxuICBpZiAoYWN0aXZlU2VjdGlvbiA9PT0gJ2Rlc2lnbicpIHtcbiAgICBpbml0RGVzaWduV29ya3NwYWNlKCk7XG4gIH1cbiAgaWYgKGFjdGl2ZVNlY3Rpb24gPT09ICdjb250ZW50Jykge1xuICAgIGluaXRDb250ZW50V29ya3NwYWNlKCk7XG4gIH1cbiAgaWYgKGFjdGl2ZVNlY3Rpb24gPT09ICdtZWRpYScpIHtcbiAgICBpbml0TWVkaWFXb3Jrc3BhY2UoKTtcbiAgfVxuICBpZiAoYWN0aXZlU2VjdGlvbiA9PT0gJ2RlcGxveScpIHtcbiAgICBpbml0RGVwbG95V29ya3NwYWNlKCk7XG4gIH1cbiAgaWYgKGFjdGl2ZVNlY3Rpb24gPT09ICdzZXR0aW5ncycpIHtcbiAgICBpbml0U2V0dGluZ3NXb3Jrc3BhY2UoKTtcbiAgfVxuXG4gIGlmICh3b3Jrc3BhY2VDb250ZXh0ICYmIHN0b3JlZFNpdGUubmFtZSkge1xuICAgIHVwZGF0ZVNpdGVMYWJlbHMoc3RvcmVkU2l0ZS5uYW1lKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXREZXNpZ25Xb3Jrc3BhY2UoKSB7XG4gICAgY29uc3QgcGFnZUxpc3RzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtcGFnZS1saXN0XScpO1xuICAgIGlmIChwYWdlTGlzdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGFjdGl2ZVRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWN0aXZlLXBhZ2UtdGl0bGVdJyk7XG4gICAgY29uc3QgYWN0aXZlU2x1ZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFjdGl2ZS1wYWdlLXNsdWddJyk7XG4gICAgY29uc3QgcHJldmlld1RhZ3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLXByZXZpZXctdGFnc10nKTtcbiAgICBjb25zdCBwcmV2aWV3RnJhbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLXByZXZpZXctZnJhbWVdJyk7XG4gICAgY29uc3QgcHJldmlld09wZW5CdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wcmV2aWV3LW9wZW5dJyk7XG4gICAgY29uc3QgcHJldmlld1N0YXR1cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXByZXZpZXctc3RhdHVzXScpO1xuICAgIGNvbnN0IHByZXZpZXdIaWdobGlnaHRPdmVybGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcHJldmlldy1oaWdobGlnaHRdJyk7XG4gICAgLy8gU0VPIHBhbmVsIGVsZW1lbnRzXG4gICAgY29uc3Qgc2VvVG9nZ2xlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2VvLXRvZ2dsZV0nKTtcbiAgICBjb25zdCBzZW9QYW5lbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby1wYW5lbF0nKTtcbiAgICBjb25zdCBzZW9DbG9zZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby1jbG9zZV0nKTtcbiAgICBjb25zdCBzZW9Gb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2VvLWZvcm1dJyk7XG4gICAgY29uc3Qgc2VvVGl0bGVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby10aXRsZV0nKTtcbiAgICBjb25zdCBzZW9EZXNjcmlwdGlvbklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2VvLWRlc2NyaXB0aW9uXScpO1xuICAgIGNvbnN0IHNlb0ZlZWRiYWNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2VvLWZlZWRiYWNrXScpO1xuICAgIGNvbnN0IHNlb1NhdmVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8tc2F2ZV0nKTtcbiAgICBjb25zdCBibG9ja0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9ja3MtbGlzdF0nKTtcbiAgICBjb25zdCBibG9ja0xpc3RFbXB0eSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2Nrcy1lbXB0eV0nKTtcbiAgICBjb25zdCBibG9ja0NvdW50QmFkZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1jb3VudF0nKTtcbiAgICBjb25zdCBibG9ja0xpYnJhcnlUb2dnbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1saWJyYXJ5LXRvZ2dsZV0nKTtcbiAgICBjb25zdCBibG9ja0xpYnJhcnkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1saWJyYXJ5XScpO1xuICAgIGNvbnN0IGJsb2NrQWRkQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWJsb2NrLWFkZF0nKTtcbiAgICBjb25zdCBibG9ja0RlbGV0ZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZGVsZXRlLW1vZGFsXScpO1xuICAgIGNvbnN0IGJsb2NrRGVsZXRlQ29uZmlybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWRlbGV0ZS1jb25maXJtXScpO1xuICAgIGNvbnN0IGJsb2NrRGVsZXRlQ2FuY2VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZGVsZXRlLWNhbmNlbF0nKTtcbiAgICBjb25zdCBibG9ja0RldGFpbEVtcHR5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZGV0YWlsLWVtcHR5XScpO1xuICAgIGNvbnN0IGJsb2NrRGV0YWlsU3RhdHVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZGV0YWlsLXN0YXR1c10nKTtcbiAgICBjb25zdCBibG9ja0VkaXRvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWVkaXRvcl0nKTtcbiAgICBjb25zdCBibG9ja0VkaXRvclRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZWRpdG9yLWJsb2NrLW5hbWVdJyk7XG4gICAgY29uc3QgYmxvY2tFZGl0b3JUeXBlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZWRpdG9yLWJsb2NrLXR5cGVdJyk7XG4gICAgY29uc3QgYmxvY2tFZGl0b3JVbnN1cHBvcnRlZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWVkaXRvci11bnN1cHBvcnRlZF0nKTtcbiAgICBjb25zdCBibG9ja0Zvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1mb3JtXScpO1xuICAgIGNvbnN0IGJsb2NrRm9ybVNlY3Rpb25zID0gYmxvY2tGb3JtXG4gICAgICA/IEFycmF5LmZyb20oYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWVkaXRvci1zZWN0aW9uXScpKVxuICAgICAgOiBbXTtcbiAgICBjb25zdCBjb2xsZWN0aW9uU2VsZWN0ID0gYmxvY2tGb3JtPy5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImNvbGxlY3Rpb24tZ3JpZC1jb2xsZWN0aW9uXCJdJyk7XG4gICAgY29uc3QgY29sbGVjdGlvblNlbGVjdGlvbkluZm8gPSBibG9ja0Zvcm0/LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAnW2RhdGEtY29sbGVjdGlvbi1zZWxlY3Rpb24taW5mb10nLFxuICAgICk7XG4gICAgY29uc3QgYmxvY2tGb3JtQ2FuY2VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZm9ybS1jYW5jZWxdJyk7XG4gICAgY29uc3QgZ3JvdXBQcmV2aWV3TW9iaWxlID0gYmxvY2tGb3JtPy5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ncm91cC1wcmV2aWV3LW1vYmlsZV0nKTtcbiAgICBjb25zdCBncm91cFByZXZpZXdEZXNrdG9wID0gYmxvY2tGb3JtPy5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ncm91cC1wcmV2aWV3LWRlc2t0b3BdJyk7XG4gICAgY29uc3QgYmxvY2tUeXBlRm9ybXMgPSB7XG4gICAgICBoZXJvOiB7XG4gICAgICAgIHNlY3Rpb246ICdoZXJvJyxcbiAgICAgICAgbGFiZWxGaWVsZDogJ3RpdGxlJyxcbiAgICAgICAgZGVzY3JpcHRpb25GaWVsZDogJ3N1YnRpdGxlJyxcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgdGl0bGU6ICdoZXJvLXRpdGxlJyxcbiAgICAgICAgICBzdWJ0aXRsZTogJ2hlcm8tc3VidGl0bGUnLFxuICAgICAgICAgIGN0YUxhYmVsOiAnaGVyby1jdGEtbGFiZWwnLFxuICAgICAgICAgIGN0YVVybDogJ2hlcm8tY3RhLXVybCcsXG4gICAgICAgICAgaW1hZ2U6ICdoZXJvLWltYWdlJyxcbiAgICAgICAgICBhbGlnbjogJ2hlcm8tYWxpZ24nLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIHBhcmFncmFwaGU6IHtcbiAgICAgICAgc2VjdGlvbjogJ3BhcmFncmFwaCcsXG4gICAgICAgIGxhYmVsRmllbGQ6ICd0aXRsZScsXG4gICAgICAgIGRlc2NyaXB0aW9uRmllbGQ6ICdjb250ZW50JyxcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgdGl0bGU6ICdwYXJhZ3JhcGgtdGl0bGUnLFxuICAgICAgICAgIGNvbnRlbnQ6ICdwYXJhZ3JhcGgtY29udGVudCcsXG4gICAgICAgICAgYWxpZ246ICdwYXJhZ3JhcGgtYWxpZ24nLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGltYWdlOiB7XG4gICAgICAgIHNlY3Rpb246ICdpbWFnZScsXG4gICAgICAgIGxhYmVsRmllbGQ6ICdhbHQnLFxuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBzcmM6ICdpbWFnZS1zcmMnLFxuICAgICAgICAgIGFsdDogJ2ltYWdlLWFsdCcsXG4gICAgICAgICAgc2hvd0NhcHRpb246ICdpbWFnZS1jYXB0aW9uLXRvZ2dsZScsXG4gICAgICAgICAgY2FwdGlvbjogJ2ltYWdlLWNhcHRpb24nLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGdyb3VwZToge1xuICAgICAgICBzZWN0aW9uOiAnZ3JvdXAnLFxuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBsYXlvdXQ6ICdncm91cC1sYXlvdXQnLFxuICAgICAgICAgIGNvbHVtbnNNb2JpbGU6ICdncm91cC1jb2x1bW5zLW1vYmlsZScsXG4gICAgICAgICAgY29sdW1uc0Rlc2t0b3A6ICdncm91cC1jb2x1bW5zLWRlc2t0b3AnLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGNvbGxlY3Rpb25ncmlkOiB7XG4gICAgICAgIHNlY3Rpb246ICdjb2xsZWN0aW9uJyxcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgY29sbGVjdGlvbklkOiAnY29sbGVjdGlvbi1ncmlkLWNvbGxlY3Rpb24nLFxuICAgICAgICAgIGxpbWl0OiAnY29sbGVjdGlvbi1ncmlkLWxpbWl0JyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBmb3JtOiB7XG4gICAgICAgIHNlY3Rpb246ICdmb3JtJyxcbiAgICAgICAgbGFiZWxGaWVsZDogJ2Zvcm1UaXRsZScsXG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIGZvcm1UaXRsZTogJ2Zvcm0tdGl0bGUnLFxuICAgICAgICAgIGFjdGlvblVybDogJ2Zvcm0tYWN0aW9uLXVybCcsXG4gICAgICAgICAgbWV0aG9kOiAnZm9ybS1tZXRob2QnLFxuICAgICAgICAgIHNlcnZpY2VOYW1lOiAnZm9ybS1zZXJ2aWNlLW5hbWUnLFxuICAgICAgICAgIHN1Ym1pdExhYmVsOiAnZm9ybS1zdWJtaXQtbGFiZWwnLFxuICAgICAgICAgIHN1Y2Nlc3NNZXNzYWdlOiAnZm9ybS1zdWNjZXNzLW1lc3NhZ2UnLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIG5ld3NsZXR0ZXJlbWJlZDoge1xuICAgICAgICBzZWN0aW9uOiAnbmV3c2xldHRlcicsXG4gICAgICAgIGxhYmVsRmllbGQ6ICd0aXRsZScsXG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIHRpdGxlOiAnbmV3c2xldHRlci10aXRsZScsXG4gICAgICAgICAgc2VydmljZU5hbWU6ICduZXdzbGV0dGVyLXNlcnZpY2UtbmFtZScsXG4gICAgICAgICAgZW1iZWRDb2RlOiAnbmV3c2xldHRlci1lbWJlZC1jb2RlJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfTtcbiAgICBjb25zdCBibG9ja1R5cGVBbGlhc2VzID0ge1xuICAgICAgdGV4dGU6ICdwYXJhZ3JhcGhlJyxcbiAgICAgIHBhcmFncmFwaDogJ3BhcmFncmFwaGUnLFxuICAgICAgcGFyYWdyYXBoczogJ3BhcmFncmFwaGUnLFxuICAgICAgcGFyYWdyYXBoZXM6ICdwYXJhZ3JhcGhlJyxcbiAgICAgIHRleHQ6ICdwYXJhZ3JhcGhlJyxcbiAgICAgIGhlcm86ICdoZXJvJyxcbiAgICAgIGltYWdlOiAnaW1hZ2UnLFxuICAgICAgZ3JvdXBlOiAnZ3JvdXBlJyxcbiAgICAgIGdyb3VwOiAnZ3JvdXBlJyxcbiAgICAgIGNvbGxlY3Rpb246ICdjb2xsZWN0aW9uZ3JpZCcsXG4gICAgICBjb2xsZWN0aW9uZ3JpZDogJ2NvbGxlY3Rpb25ncmlkJyxcbiAgICAgICdjb2xsZWN0aW9uLWdyaWQnOiAnY29sbGVjdGlvbmdyaWQnLFxuICAgICAgZm9ybTogJ2Zvcm0nLFxuICAgICAgZm9ybXVsYWlyZTogJ2Zvcm0nLFxuICAgICAgY29udGFjdDogJ2Zvcm0nLFxuICAgICAgbmV3c2xldHRlcmVtYmVkOiAnbmV3c2xldHRlcmVtYmVkJyxcbiAgICAgIG5ld3NsZXR0ZXI6ICduZXdzbGV0dGVyZW1iZWQnLFxuICAgICAgZW1iZWQ6ICduZXdzbGV0dGVyZW1iZWQnLFxuICAgIH07XG4gICAgY29uc3QgdXBkYXRlR3JvdXBNaW5pUHJldmlldyA9IChtb2JpbGVWYWx1ZSwgZGVza3RvcFZhbHVlKSA9PiB7XG4gICAgICBpZiAoIWdyb3VwUHJldmlld01vYmlsZSB8fCAhZ3JvdXBQcmV2aWV3RGVza3RvcCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCByZW5kZXJCb3hlcyA9IChjb3VudCkgPT5cbiAgICAgICAgQXJyYXkuZnJvbSh7IGxlbmd0aDogTnVtYmVyKGNvdW50KSB8fCAxIH0pXG4gICAgICAgICAgLm1hcCgoKSA9PiAnPHNwYW4gY2xhc3M9XCJibG9jayBoLTIgdy1mdWxsIHJvdW5kZWQtZnVsbCBiZy1zbGF0ZS0zMDBcIj48L3NwYW4+JylcbiAgICAgICAgICAuam9pbignJyk7XG4gICAgICBncm91cFByZXZpZXdNb2JpbGUuaW5uZXJIVE1MID0gcmVuZGVyQm94ZXMobW9iaWxlVmFsdWUpO1xuICAgICAgZ3JvdXBQcmV2aWV3RGVza3RvcC5pbm5lckhUTUwgPSByZW5kZXJCb3hlcyhkZXNrdG9wVmFsdWUpO1xuICAgIH07XG4gICAgY29uc3QgZmV0Y2hQYWdlc0Zyb21TZXJ2ZXIgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXBhZ2VzQXBpQmFzZSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHBhZ2VzQXBpQmFzZSwgeyBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxlcyBwYWdlcy4nKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gW10pO1xuICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkocGF5bG9hZCkgPyBwYXlsb2FkIDogW107XG4gICAgfTtcbiAgICBjb25zdCBjcmVhdGVQYWdlT25TZXJ2ZXIgPSBhc3luYyAoeyB0aXRsZSwgc2x1ZyB9KSA9PiB7XG4gICAgICBpZiAoIXBhZ2VzQXBpQmFzZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NpdGUgaW5jb25udS4nKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2gocGFnZXNBcGlCYXNlLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyB0aXRsZSwgc2x1ZyB9KSxcbiAgICAgIH0pO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IocGF5bG9hZC5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIGNyXHUwMEU5ZXIgbGEgcGFnZS4nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgfTtcbiAgICBjb25zdCBzYXZlUGFnZVRvU2VydmVyID0gYXN5bmMgKHBhZ2UpID0+IHtcbiAgICAgIGlmICghcGFnZXNBcGlCYXNlIHx8ICFwYWdlPy5pZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke3BhZ2VzQXBpQmFzZX0vJHtlbmNvZGVVUklDb21wb25lbnQocGFnZS5pZCl9YCwge1xuICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBhZ2UpLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHBheWxvYWQubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBzYXV2ZWdhcmRlciBsYSBwYWdlLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNhdmVkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICBpZiAoc2F2ZWQ/LmlkKSB7XG4gICAgICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZVBhZ2VEYXRhKHNhdmVkKTtcbiAgICAgICAgICBwYWdlcyA9IHBhZ2VzLm1hcCgoZW50cnkpID0+IChlbnRyeS5pZCA9PT0gbm9ybWFsaXplZC5pZCA/IG5vcm1hbGl6ZWQgOiBlbnRyeSkpO1xuICAgICAgICAgIGlmIChjdXJyZW50UGFnZT8uaWQgPT09IG5vcm1hbGl6ZWQuaWQpIHtcbiAgICAgICAgICAgIGN1cnJlbnRQYWdlID0gbm9ybWFsaXplZDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNhdmVkO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkZXNpZ25dIFNhdmUgcGFnZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UgfHwgJ1NhdXZlZ2FyZGUgaW1wb3NzaWJsZS4nKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGxvYWRQYWdlc0Zyb21TZXJ2ZXIgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXBhZ2VzQXBpQmFzZSkge1xuICAgICAgICBwYWdlcyA9IFtdO1xuICAgICAgICBhY3RpdmVQYWdlSWQgPSBudWxsO1xuICAgICAgICBjdXJyZW50UGFnZSA9IG51bGw7XG4gICAgICAgIHJlbmRlclBhZ2VMaXN0cyhwYWdlcywgYWN0aXZlUGFnZUlkKTtcbiAgICAgICAgcmVuZGVyQmxvY2tMaXN0KG51bGwpO1xuICAgICAgICBibG9ja0RldGFpbEVtcHR5Py5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgYmxvY2tFZGl0b3I/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBsb2FkZWRQYWdlcyA9IGF3YWl0IGZldGNoUGFnZXNGcm9tU2VydmVyKCk7XG4gICAgICAgIHBhZ2VzID0gKEFycmF5LmlzQXJyYXkobG9hZGVkUGFnZXMpID8gbG9hZGVkUGFnZXMgOiBbXSkubWFwKChwYWdlKSA9PlxuICAgICAgICAgIG5vcm1hbGl6ZVBhZ2VEYXRhKHBhZ2UpLFxuICAgICAgICApO1xuICAgICAgICBpZiAocGFnZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgYWN0aXZlUGFnZUlkID0gbnVsbDtcbiAgICAgICAgICBjdXJyZW50UGFnZSA9IG51bGw7XG4gICAgICAgICAgcmVuZGVyUGFnZUxpc3RzKHBhZ2VzLCBhY3RpdmVQYWdlSWQpO1xuICAgICAgICAgIHJlbmRlckJsb2NrTGlzdChudWxsKTtcbiAgICAgICAgICBibG9ja0RldGFpbEVtcHR5Py5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICBibG9ja0VkaXRvcj8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgICAgcHJldmlld0ZyYW1lICYmIChwcmV2aWV3RnJhbWUuc3JjZG9jID0gZ2V0TG9hZGluZ1ByZXZpZXdIdG1sKCkpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBhY3RpdmVQYWdlSWQgPSBnZXRTdG9yZWRBY3RpdmVQYWdlKHBhZ2VzKTtcbiAgICAgICAgc2V0QWN0aXZlUGFnZShhY3RpdmVQYWdlSWQpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkZXNpZ25dIEltcG9zc2libGUgZGUgY2hhcmdlciBsZXMgcGFnZXMnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoJ0ltcG9zc2libGUgZGUgY2hhcmdlciBsZXMgcGFnZXMuJyk7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBub3JtYWxpemVUeXBlID0gKHZhbHVlKSA9PlxuICAgICAgKHZhbHVlIHx8ICcnKS5ub3JtYWxpemUoJ05GRCcpLnJlcGxhY2UoL1tcXHUwMzAwLVxcdTAzNmZdL2csICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgIGNvbnN0IGdldEJsb2NrRm9ybUNvbmZpZyA9IChibG9jaykgPT4ge1xuICAgICAgaWYgKCFibG9jaykge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHR5cGVLZXkgPSBub3JtYWxpemVUeXBlKGJsb2NrLnR5cGUpO1xuICAgICAgY29uc3QgYWxpYXMgPSBibG9ja1R5cGVBbGlhc2VzW3R5cGVLZXldIHx8IHR5cGVLZXk7XG4gICAgICByZXR1cm4gYmxvY2tUeXBlRm9ybXNbYWxpYXNdIHx8IG51bGw7XG4gICAgfTtcbiAgICBjb25zdCBwb3B1bGF0ZUJsb2NrRm9ybSA9IChibG9jaykgPT4ge1xuICAgICAgaWYgKCFibG9ja0Zvcm0gfHwgIWJsb2NrRWRpdG9yKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChibG9jayAmJiAhYmxvY2suc2V0dGluZ3MpIHtcbiAgICAgICAgYmxvY2suc2V0dGluZ3MgPSB7fTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNvbmZpZyA9IGdldEJsb2NrRm9ybUNvbmZpZyhibG9jayk7XG4gICAgICBpZiAoYmxvY2tFZGl0b3JUaXRsZSkge1xuICAgICAgICBibG9ja0VkaXRvclRpdGxlLnRleHRDb250ZW50ID0gYmxvY2s/LmxhYmVsIHx8ICdCbG9jJztcbiAgICAgIH1cbiAgICAgIGlmIChibG9ja0VkaXRvclR5cGUpIHtcbiAgICAgICAgYmxvY2tFZGl0b3JUeXBlLnRleHRDb250ZW50ID0gYmxvY2s/LnR5cGUgfHwgJ0Jsb2MnO1xuICAgICAgfVxuICAgICAgaWYgKCFjb25maWcpIHtcbiAgICAgICAgYmxvY2tGb3JtLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBibG9ja0VkaXRvclVuc3VwcG9ydGVkPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgYmxvY2tGb3JtLmRhdGFzZXQuYmxvY2tJZCA9ICcnO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBibG9ja0VkaXRvclVuc3VwcG9ydGVkPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGJsb2NrRm9ybS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGJsb2NrRm9ybS5yZXNldCgpO1xuICAgICAgYmxvY2tGb3JtLmRhdGFzZXQuYmxvY2tJZCA9IGJsb2NrLmlkO1xuICAgICAgYmxvY2tGb3JtU2VjdGlvbnMuZm9yRWFjaCgoc2VjdGlvbikgPT4ge1xuICAgICAgICBjb25zdCBzZWN0aW9uSWQgPSBzZWN0aW9uLmRhdGFzZXQuZWRpdG9yU2VjdGlvbjtcbiAgICAgICAgaWYgKHNlY3Rpb25JZCA9PT0gY29uZmlnLnNlY3Rpb24pIHtcbiAgICAgICAgICBzZWN0aW9uLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlY3Rpb24uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKGNvbmZpZy5zZWN0aW9uID09PSAnY29sbGVjdGlvbicpIHtcbiAgICAgICAgY29uc3QgZGVzaXJlZFZhbHVlID0gYmxvY2suY29sbGVjdGlvbklkIHx8IGJsb2NrLnNldHRpbmdzPy5jb2xsZWN0aW9uSWQgfHwgJyc7XG4gICAgICAgIHVwZGF0ZUNvbGxlY3Rpb25TZWxlY3RPcHRpb25zKGRlc2lyZWRWYWx1ZSk7XG4gICAgICB9XG4gICAgICBPYmplY3QuZW50cmllcyhjb25maWcuZmllbGRzKS5mb3JFYWNoKChbc2V0dGluZ0tleSwgZmllbGROYW1lXSkgPT4ge1xuICAgICAgICBjb25zdCBpbnB1dCA9IGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yKGBbbmFtZT1cIiR7ZmllbGROYW1lfVwiXWApO1xuICAgICAgICBpZiAoIWlucHV0KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZhbHVlID0gYmxvY2suc2V0dGluZ3M/LltzZXR0aW5nS2V5XTtcbiAgICAgICAgaWYgKGlucHV0LnR5cGUgPT09ICdjaGVja2JveCcpIHtcbiAgICAgICAgICBpbnB1dC5jaGVja2VkID0gQm9vbGVhbih2YWx1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5wdXQudHlwZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICBpbnB1dC52YWx1ZSA9IHZhbHVlID8/IDE7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5wdXQudGFnTmFtZSA9PT0gJ1RFWFRBUkVBJykge1xuICAgICAgICAgIGlucHV0LnZhbHVlID0gdmFsdWUgPz8gJyc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaW5wdXQudmFsdWUgPSB2YWx1ZSA/PyAnJztcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoY29uZmlnLnNlY3Rpb24gPT09ICdncm91cCcpIHtcbiAgICAgICAgY29uc3QgbW9iaWxlVmFsdWUgPVxuICAgICAgICAgIGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImdyb3VwLWNvbHVtbnMtbW9iaWxlXCJdJyk/LnZhbHVlIHx8ICcxJztcbiAgICAgICAgY29uc3QgZGVza3RvcFZhbHVlID1cbiAgICAgICAgICBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJncm91cC1jb2x1bW5zLWRlc2t0b3BcIl0nKT8udmFsdWUgfHwgJzMnO1xuICAgICAgICB1cGRhdGVHcm91cE1pbmlQcmV2aWV3KG1vYmlsZVZhbHVlLCBkZXNrdG9wVmFsdWUpO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgY29sbGVjdEZvcm1WYWx1ZXMgPSAoY29uZmlnKSA9PiB7XG4gICAgICBpZiAoIWJsb2NrRm9ybSB8fCAhY29uZmlnKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHZhbHVlcyA9IHt9O1xuICAgICAgT2JqZWN0LmVudHJpZXMoY29uZmlnLmZpZWxkcykuZm9yRWFjaCgoW3NldHRpbmdLZXksIGZpZWxkTmFtZV0pID0+IHtcbiAgICAgICAgY29uc3QgaW5wdXQgPSBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcihgW25hbWU9XCIke2ZpZWxkTmFtZX1cIl1gKTtcbiAgICAgICAgaWYgKCFpbnB1dCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5wdXQudHlwZSA9PT0gJ2NoZWNrYm94Jykge1xuICAgICAgICAgIHZhbHVlc1tzZXR0aW5nS2V5XSA9IGlucHV0LmNoZWNrZWQ7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5wdXQudHlwZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICBjb25zdCBwYXJzZWQgPSBOdW1iZXIoaW5wdXQudmFsdWUpO1xuICAgICAgICAgIHZhbHVlc1tzZXR0aW5nS2V5XSA9IE51bWJlci5pc0Zpbml0ZShwYXJzZWQpID8gcGFyc2VkIDogMDtcbiAgICAgICAgfSBlbHNlIGlmIChpbnB1dC50YWdOYW1lID09PSAnVEVYVEFSRUEnKSB7XG4gICAgICAgICAgdmFsdWVzW3NldHRpbmdLZXldID0gaW5wdXQudmFsdWUgfHwgJyc7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5wdXQudHlwZSA9PT0gJ3NlbGVjdC1vbmUnKSB7XG4gICAgICAgICAgdmFsdWVzW3NldHRpbmdLZXldID0gaW5wdXQudmFsdWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFsdWVzW3NldHRpbmdLZXldID0gaW5wdXQudmFsdWUgfHwgJyc7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHZhbHVlcztcbiAgICB9O1xuICAgIGNvbnN0IHVwZGF0ZVByZXZpZXdTdGF0dXMgPSAodGV4dCkgPT4ge1xuICAgICAgaWYgKCFwcmV2aWV3U3RhdHVzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghdGV4dCkge1xuICAgICAgICBwcmV2aWV3U3RhdHVzLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwcmV2aWV3U3RhdHVzLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgcHJldmlld1N0YXR1cy50ZXh0Q29udGVudCA9IHRleHQ7XG4gICAgfTtcbiAgICBjb25zdCBzZXJpYWxpemVQYWdlRm9yUHJldmlldyA9IChwYWdlKSA9PiB7XG4gICAgICBpZiAoIXBhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICBpZDogcGFnZS5pZCxcbiAgICAgICAgdGl0bGU6IHBhZ2UudGl0bGUsXG4gICAgICAgIHNsdWc6IHBhZ2Uuc2x1ZyxcbiAgICAgICAgYmFkZ2VzOiBbLi4uKHBhZ2UuYmFkZ2VzIHx8IFtdKV0sXG4gICAgICAgIGJsb2NrczogKHBhZ2UuYmxvY2tzIHx8IFtdKS5tYXAoKGJsb2NrKSA9PiAoe1xuICAgICAgICAgIGlkOiBibG9jay5pZCxcbiAgICAgICAgICB0eXBlOiBibG9jay50eXBlLFxuICAgICAgICAgIGxhYmVsOiBibG9jay5sYWJlbCxcbiAgICAgICAgICBzdGF0dXM6IGJsb2NrLnN0YXR1cyxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogYmxvY2suZGVzY3JpcHRpb24sXG4gICAgICAgICAgcHJvcHM6IGJsb2NrLnByb3BzIHx8IFtdLFxuICAgICAgICAgIHNldHRpbmdzOiBibG9jay5zZXR0aW5ncyB8fCB7fSxcbiAgICAgICAgICBjb2xsZWN0aW9uSWQ6IGJsb2NrLmNvbGxlY3Rpb25JZCB8fCBibG9jay5zZXR0aW5ncz8uY29sbGVjdGlvbklkIHx8ICcnLFxuICAgICAgICB9KSksXG4gICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgZ2V0TG9hZGluZ1ByZXZpZXdIdG1sID0gKCkgPT5cbiAgICAgICc8IURPQ1RZUEUgaHRtbD48aHRtbD48Ym9keSBzdHlsZT1cImZvbnQtZmFtaWx5OkludGVyLHNhbnMtc2VyaWY7cGFkZGluZzo0MHB4O2NvbG9yOiM0NzU1Njk7YmFja2dyb3VuZDojZmZmO1wiPlByXHUwMEU5cGFyYXRpb24gZGUgbGEgcHJcdTAwRTl2aXN1YWxpc2F0aW9uXHUyMDI2PC9ib2R5PjwvaHRtbD4nO1xuICAgIGNvbnN0IHJlZnJlc2hQcmV2aWV3ID0gKHBhZ2UpID0+IHtcbiAgICAgIGlmICghcHJldmlld0ZyYW1lIHx8ICFwYWdlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHByZXZpZXdTaXRlU2x1ZyA9IHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJyc7XG4gICAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICBwYWdlOiBzZXJpYWxpemVQYWdlRm9yUHJldmlldyhwYWdlKSxcbiAgICAgICAgc2l0ZToge1xuICAgICAgICAgIHRpdGxlOiBzdG9yZWRTaXRlLm5hbWUgfHwgJ1NpdGUnLFxuICAgICAgICAgIHNsdWc6IHByZXZpZXdTaXRlU2x1ZyxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgICBwcmV2aWV3UmVhZHkgPSBmYWxzZTtcbiAgICAgIHVwZGF0ZVByZXZpZXdTdGF0dXMoJ0FjdHVhbGlzYXRpb25cdTIwMjYnKTtcbiAgICAgIHByZXZpZXdGcmFtZS5zcmNkb2MgPSBnZXRMb2FkaW5nUHJldmlld0h0bWwoKTtcbiAgICAgIGlmIChwcmV2aWV3UmVxdWVzdENvbnRyb2xsZXIpIHtcbiAgICAgICAgcHJldmlld1JlcXVlc3RDb250cm9sbGVyLmFib3J0KCk7XG4gICAgICB9XG4gICAgICBjb25zdCBjb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgICAgcHJldmlld1JlcXVlc3RDb250cm9sbGVyID0gY29udHJvbGxlcjtcbiAgICAgIGZldGNoKCcvYXBpL3ByZXZpZXcnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgIHNpZ25hbDogY29udHJvbGxlci5zaWduYWwsXG4gICAgICB9KVxuICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1ByZXZpZXcgZXJyb3InKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgICBpZiAoY29udHJvbGxlci5zaWduYWwuYWJvcnRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBsYXRlc3RQcmV2aWV3SHRtbCA9IGRhdGEuaHRtbCB8fCAnJztcbiAgICAgICAgICBwcmV2aWV3RnJhbWUuc2V0QXR0cmlidXRlKFxuICAgICAgICAgICAgJ3RpdGxlJyxcbiAgICAgICAgICAgIGBQclx1MDBFOXZpc3VhbGlzYXRpb24gZGUgbGEgcGFnZSAke3BhZ2UudGl0bGUgfHwgJyd9YC50cmltKCksXG4gICAgICAgICAgKTtcbiAgICAgICAgICBwcmV2aWV3RnJhbWUuc3JjZG9jID0gbGF0ZXN0UHJldmlld0h0bWwgfHwgZ2V0TG9hZGluZ1ByZXZpZXdIdG1sKCk7XG4gICAgICAgICAgdXBkYXRlUHJldmlld1N0YXR1cygnXHUwMEMwIGpvdXInKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICAgIGlmIChjb250cm9sbGVyLnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1twcmV2aWV3XSBJbXBvc3NpYmxlIGRlIHJlbmRyZSBsYSBwYWdlJywgZXJyb3IpO1xuICAgICAgICAgIHVwZGF0ZVByZXZpZXdTdGF0dXMoJ0VycmV1ciBwcmV2aWV3Jyk7XG4gICAgICAgICAgcHJldmlld0ZyYW1lLnNyY2RvYyA9XG4gICAgICAgICAgICAnPCFET0NUWVBFIGh0bWw+PGh0bWw+PGJvZHkgc3R5bGU9XCJmb250LWZhbWlseTpJbnRlcixzYW5zLXNlcmlmO3BhZGRpbmc6NDBweDtjb2xvcjojYmUxMjNjO2JhY2tncm91bmQ6I2ZmZjtcIj5FcnJldXIgbG9ycyBkdSByZW5kdSBkZSBsYSBwclx1MDBFOXZpc3VhbGlzYXRpb24uPC9ib2R5PjwvaHRtbD4nO1xuICAgICAgICB9KVxuICAgICAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICAgICAgaWYgKHByZXZpZXdSZXF1ZXN0Q29udHJvbGxlciA9PT0gY29udHJvbGxlcikge1xuICAgICAgICAgICAgcHJldmlld1JlcXVlc3RDb250cm9sbGVyID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgY29uc3QgaGFuZGxlQmxvY2tGb3JtU3VibWl0ID0gKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSB8fCAhYWN0aXZlQmxvY2tJZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBibG9jayA9IGdldEFjdGl2ZUJsb2NrKCk7XG4gICAgICBjb25zdCBjb25maWcgPSBnZXRCbG9ja0Zvcm1Db25maWcoYmxvY2spO1xuICAgICAgaWYgKCFibG9jayB8fCAhY29uZmlnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHZhbHVlcyA9IGNvbGxlY3RGb3JtVmFsdWVzKGNvbmZpZyk7XG4gICAgICBpZiAoY29uZmlnLnNlY3Rpb24gPT09ICdjb2xsZWN0aW9uJykge1xuICAgICAgICBpZiAoIXZhbHVlcy5jb2xsZWN0aW9uSWQpIHtcbiAgICAgICAgICBzaG93VG9hc3QoJ1NcdTAwRTlsZWN0aW9ubmV6IHVuZSBjb2xsZWN0aW9uLicpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YWx1ZXMubGltaXQgPSBNYXRoLm1heCgxLCBOdW1iZXIodmFsdWVzLmxpbWl0KSB8fCAxKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHVwZGF0ZWRCbG9ja3MgPSAoY3VycmVudFBhZ2UuYmxvY2tzIHx8IFtdKS5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIGlmIChlbnRyeS5pZCAhPT0gYmxvY2suaWQpIHtcbiAgICAgICAgICByZXR1cm4gZW50cnk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdXBkYXRlZFNldHRpbmdzID0geyAuLi4oZW50cnkuc2V0dGluZ3MgfHwge30pLCAuLi52YWx1ZXMgfTtcbiAgICAgICAgY29uc3QgdXBkYXRlZEJsb2NrID0ge1xuICAgICAgICAgIC4uLmVudHJ5LFxuICAgICAgICAgIHNldHRpbmdzOiB1cGRhdGVkU2V0dGluZ3MsXG4gICAgICAgIH07XG4gICAgICAgIGlmIChjb25maWcubGFiZWxGaWVsZCAmJiB2YWx1ZXNbY29uZmlnLmxhYmVsRmllbGRdKSB7XG4gICAgICAgICAgdXBkYXRlZEJsb2NrLmxhYmVsID0gdmFsdWVzW2NvbmZpZy5sYWJlbEZpZWxkXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29uZmlnLmRlc2NyaXB0aW9uRmllbGQgJiYgdmFsdWVzW2NvbmZpZy5kZXNjcmlwdGlvbkZpZWxkXSkge1xuICAgICAgICAgIHVwZGF0ZWRCbG9jay5kZXNjcmlwdGlvbiA9IHZhbHVlc1tjb25maWcuZGVzY3JpcHRpb25GaWVsZF07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbmZpZy5zZWN0aW9uID09PSAnY29sbGVjdGlvbicpIHtcbiAgICAgICAgICB1cGRhdGVkQmxvY2suY29sbGVjdGlvbklkID0gdmFsdWVzLmNvbGxlY3Rpb25JZDtcbiAgICAgICAgICB1cGRhdGVkQmxvY2suc2V0dGluZ3MuY29sbGVjdGlvbklkID0gdmFsdWVzLmNvbGxlY3Rpb25JZDtcbiAgICAgICAgICB1cGRhdGVkQmxvY2suc2V0dGluZ3MubGltaXQgPSB2YWx1ZXMubGltaXQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVwZGF0ZWRCbG9jaztcbiAgICAgIH0pO1xuICAgICAgdXBkYXRlQ3VycmVudFBhZ2VCbG9ja3ModXBkYXRlZEJsb2Nrcyk7XG4gICAgICBzaG93VG9hc3QoJ0Jsb2MgbWlzIFx1MDBFMCBqb3VyJyk7XG4gICAgICBzZXRBY3RpdmVQYWdlKGN1cnJlbnRQYWdlLmlkLCB7IHByZXNlcnZlQmxvY2s6IHRydWUgfSk7XG4gICAgfTtcbiAgICBjb25zdCBkcmF3ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLWRyYXdlcl0nKTtcbiAgICBjb25zdCBkcmF3ZXJCYWNrZHJvcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXBhZ2UtZHJhd2VyLWJhY2tkcm9wXScpO1xuICAgIGNvbnN0IGRyYXdlck9wZW5CdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtcGFnZS1kcmF3ZXItb3Blbl0nKTtcbiAgICBjb25zdCBkcmF3ZXJDbG9zZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1wYWdlLWRyYXdlci1jbG9zZV0nKTtcbiAgICBjb25zdCBhZGRQYWdlVG9nZ2xlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRkLXBhZ2UtdG9nZ2xlXScpO1xuICAgIGNvbnN0IGFkZFBhZ2VGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRkLXBhZ2UtZm9ybV0nKTtcbiAgICBjb25zdCBhZGRQYWdlVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZGQtcGFnZS10aXRsZV0nKTtcbiAgICBjb25zdCBhZGRQYWdlU2x1ZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFkZC1wYWdlLXNsdWddJyk7XG4gICAgY29uc3QgYWRkUGFnZUNhbmNlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFkZC1wYWdlLWNhbmNlbF0nKTtcbiAgICBjb25zdCBhZGRQYWdlRXJyb3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZGQtcGFnZS1lcnJvcl0nKTtcbiAgICBjb25zdCBhZGRQYWdlU3VibWl0QnV0dG9uID0gYWRkUGFnZUZvcm0/LnF1ZXJ5U2VsZWN0b3IoJ1t0eXBlPVwic3VibWl0XCJdJyk7XG4gICAgY29uc3Qgc2l0ZUtleSA9XG4gICAgICBzdHJpcExlYWRpbmdTbGFzaCh3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICdkZWZhdWx0JykgfHwgJ2RlZmF1bHQnO1xuICAgIGNvbnN0IHNpdGVTbHVnVmFsdWUgPSB3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnO1xuICAgIGNvbnN0IHNhZmVTaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKHNpdGVTbHVnVmFsdWUpIHx8ICcnO1xuICAgIGNvbnN0IHBhZ2VzQXBpQmFzZSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9wYWdlc2BcbiAgICAgIDogbnVsbDtcbiAgICBjb25zdCBjb2xsZWN0aW9uc0FwaUJhc2UgPSBzYWZlU2l0ZVNsdWdcbiAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnKX0vY29sbGVjdGlvbnNgXG4gICAgICA6IG51bGw7XG4gICAgY29uc3Qgc3RvcmFnZUtleXMgPSB7XG4gICAgICBhY3RpdmU6IGBjbG93ZXI6YWN0aXZlUGFnZToke3NpdGVLZXl9YCxcbiAgICB9O1xuICAgIGNvbnN0IGNyZWF0ZUJsb2NrID0gKGlkLCBsYWJlbCwgdHlwZSwgc3RhdHVzLCBkZXNjcmlwdGlvbiwgcHJvcHMgPSBbXSwgc2V0dGluZ3MgPSB7fSkgPT4ge1xuICAgICAgY29uc3QgYmxvY2sgPSB7XG4gICAgICAgIGlkLFxuICAgICAgICBsYWJlbCxcbiAgICAgICAgdHlwZSxcbiAgICAgICAgc3RhdHVzLFxuICAgICAgICBkZXNjcmlwdGlvbixcbiAgICAgICAgcHJvcHMsXG4gICAgICAgIHNldHRpbmdzOiB7IC4uLnNldHRpbmdzIH0sXG4gICAgICB9O1xuICAgICAgaWYgKGJsb2NrLnNldHRpbmdzLmNvbGxlY3Rpb25JZCkge1xuICAgICAgICBibG9jay5jb2xsZWN0aW9uSWQgPSBibG9jay5zZXR0aW5ncy5jb2xsZWN0aW9uSWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmxvY2s7XG4gICAgfTtcbiAgICBjb25zdCBibG9ja0xpYnJhcnlEZWZpbml0aW9ucyA9IHtcbiAgICAgIGhlcm86IHtcbiAgICAgICAgdHlwZTogJ0hlcm8nLFxuICAgICAgICBsYWJlbDogJ0hlcm8gZGUgcGFnZScsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnU2VjdGlvbiBwbGVpbmUgbGFyZ2V1ciBhdmVjIENUQSBwcmluY2lwYWwuJyxcbiAgICAgICAgc3RhdHVzOiAnQnJvdWlsbG9uJyxcbiAgICAgICAgcHJvcHM6IFtcbiAgICAgICAgICB7IGxhYmVsOiAnQ1RBJywgdmFsdWU6ICdEXHUwMEU5Y291dnJpcicgfSxcbiAgICAgICAgICB7IGxhYmVsOiAnSGF1dGV1cicsIHZhbHVlOiAnODB2aCcgfSxcbiAgICAgICAgXSxcbiAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICB0aXRsZTogJ1RpdHJlIGR1IGhlcm8nLFxuICAgICAgICAgIHN1YnRpdGxlOiAnJyxcbiAgICAgICAgICBjdGFMYWJlbDogJ0RcdTAwRTljb3V2cmlyJyxcbiAgICAgICAgICBjdGFVcmw6ICcjJyxcbiAgICAgICAgICBpbWFnZTogJycsXG4gICAgICAgICAgYWxpZ246ICdjZW50ZXInLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIHBhcmFncmFwaDoge1xuICAgICAgICB0eXBlOiAnUGFyYWdyYXBoZScsXG4gICAgICAgIGxhYmVsOiAnQmxvYyBcdTAwRTlkaXRvcmlhbCcsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnUGFyYWdyYXBoZSBsaWJyZSBwb3VyIHJhY29udGVyIHZvdHJlIGhpc3RvaXJlLicsXG4gICAgICAgIHN0YXR1czogJ0Jyb3VpbGxvbicsXG4gICAgICAgIHByb3BzOiBbeyBsYWJlbDogJ0xvbmd1ZXVyJywgdmFsdWU6ICcxNTAgbW90cycgfV0sXG4gICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgdGl0bGU6ICdUaXRyZSBkdSBwYXJhZ3JhcGhlJyxcbiAgICAgICAgICBjb250ZW50OiAnJyxcbiAgICAgICAgICBhbGlnbjogJ2xlZnQnLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGltYWdlOiB7XG4gICAgICAgIHR5cGU6ICdJbWFnZScsXG4gICAgICAgIGxhYmVsOiAnQmxvYyBpbWFnZScsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnVmlzdWVsIHNldWwgYXZlYyBsXHUwMEU5Z2VuZGUgb3B0aW9ubmVsbGUuJyxcbiAgICAgICAgc3RhdHVzOiAnQnJvdWlsbG9uJyxcbiAgICAgICAgcHJvcHM6IFtcbiAgICAgICAgICB7IGxhYmVsOiAnUmF0aW8nLCB2YWx1ZTogJzE2OjknIH0sXG4gICAgICAgICAgeyBsYWJlbDogJ0xcdTAwRTlnZW5kZScsIHZhbHVlOiAnSW5hY3RpdmUnIH0sXG4gICAgICAgIF0sXG4gICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgc3JjOiAnJyxcbiAgICAgICAgICBhbHQ6ICcnLFxuICAgICAgICAgIHNob3dDYXB0aW9uOiBmYWxzZSxcbiAgICAgICAgICBjYXB0aW9uOiAnJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBncm91cDoge1xuICAgICAgICB0eXBlOiAnR3JvdXBlJyxcbiAgICAgICAgbGFiZWw6ICdHcm91cGUgZGUgc2VjdGlvbnMnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0NvbnRlbmV1ciBwb3VyIGltYnJpcXVlciBwbHVzaWV1cnMgc291cy1ibG9jcy4nLFxuICAgICAgICBzdGF0dXM6ICdCcm91aWxsb24nLFxuICAgICAgICBwcm9wczogW3sgbGFiZWw6ICdEaXNwb3NpdGlvbicsIHZhbHVlOiAnVmVydGljYWxlJyB9XSxcbiAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICBsYXlvdXQ6ICdncmlkJyxcbiAgICAgICAgICBjb2x1bW5zTW9iaWxlOiAnMScsXG4gICAgICAgICAgY29sdW1uc0Rlc2t0b3A6ICczJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBjb2xsZWN0aW9uZ3JpZDoge1xuICAgICAgICB0eXBlOiAnQ29sbGVjdGlvbkdyaWQnLFxuICAgICAgICBsYWJlbDogJ0dyaWxsZSBkZSBjb250ZW51cycsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnQWZmaWNoZSBhdXRvbWF0aXF1ZW1lbnQgbGVzIGl0ZW1zIGRcdTIwMTl1bmUgY29sbGVjdGlvbi4nLFxuICAgICAgICBzdGF0dXM6ICdCcm91aWxsb24nLFxuICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgIGNvbGxlY3Rpb25JZDogJycsXG4gICAgICAgICAgbGltaXQ6IDYsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgZm9ybToge1xuICAgICAgICB0eXBlOiAnRm9ybScsXG4gICAgICAgIGxhYmVsOiAnRm9ybXVsYWlyZSBkZSBjb250YWN0JyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdGb3JtdWxhaXJlIGF2ZWMgZW52b2kgdmVycyB1biBzZXJ2aWNlIGV4dGVybmUuJyxcbiAgICAgICAgc3RhdHVzOiAnQnJvdWlsbG9uJyxcbiAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICBmb3JtVGl0bGU6ICdDb250YWN0ZXotbm91cycsXG4gICAgICAgICAgYWN0aW9uVXJsOiAnJyxcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBzZXJ2aWNlTmFtZTogJycsXG4gICAgICAgICAgc3VibWl0TGFiZWw6ICdFbnZveWVyJyxcbiAgICAgICAgICBzdWNjZXNzTWVzc2FnZTogJ01lcmNpIHBvdXIgdm90cmUgbWVzc2FnZSAhJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBuZXdzbGV0dGVyZW1iZWQ6IHtcbiAgICAgICAgdHlwZTogJ05ld3NsZXR0ZXJFbWJlZCcsXG4gICAgICAgIGxhYmVsOiAnTmV3c2xldHRlciAvIEVtYmVkJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdJbnRcdTAwRTlncmF0aW9uIGRcXCd1biBmb3JtdWxhaXJlIG5ld3NsZXR0ZXIgZXh0ZXJuZSAoQnJldm8sIE1haWxjaGltcFx1MjAyNikuJyxcbiAgICAgICAgc3RhdHVzOiAnQnJvdWlsbG9uJyxcbiAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICB0aXRsZTogJ1Jlc3RleiBpbmZvcm1cdTAwRTknLFxuICAgICAgICAgIHNlcnZpY2VOYW1lOiAnJyxcbiAgICAgICAgICBlbWJlZENvZGU6ICcnLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9O1xuICAgIGNvbnN0IHBlcnNpc3RBY3RpdmVQYWdlID0gKHBhZ2VJZCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKHN0b3JhZ2VLZXlzLmFjdGl2ZSwgcGFnZUlkKTtcbiAgICAgIH0gY2F0Y2gge1xuICAgICAgICAvKiBpZ25vcmUgc3RvcmFnZSBlcnJvcnMgKi9cbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGdldFN0b3JlZEFjdGl2ZVBhZ2UgPSAocGFnZXMpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHN0b3JlZCA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShzdG9yYWdlS2V5cy5hY3RpdmUpO1xuICAgICAgICBpZiAoc3RvcmVkICYmIHBhZ2VzLnNvbWUoKHBhZ2UpID0+IHBhZ2UuaWQgPT09IHN0b3JlZCkpIHtcbiAgICAgICAgICByZXR1cm4gc3RvcmVkO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgLyogaWdub3JlIHN0b3JhZ2UgZXJyb3JzICovXG4gICAgICB9XG4gICAgICByZXR1cm4gcGFnZXNbMF0/LmlkIHx8IG51bGw7XG4gICAgfTtcbiAgICBjb25zdCBmb3JtYXRCbG9ja0NvdW50ID0gKGNvdW50KSA9PiB7XG4gICAgICBpZiAoIWNvdW50IHx8IGNvdW50IDw9IDApIHtcbiAgICAgICAgcmV0dXJuICcwIGJsb2MnO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNvdW50ID09PSAxID8gJzEgYmxvYycgOiBgJHtjb3VudH0gYmxvY3NgO1xuICAgIH07XG4gICAgY29uc3Qgbm9ybWFsaXplUGFnZVNsdWcgPSAodmFsdWUpID0+IHtcbiAgICAgIGlmICghdmFsdWUgfHwgdmFsdWUgPT09ICcvJykge1xuICAgICAgICByZXR1cm4gJy8nO1xuICAgICAgfVxuICAgICAgY29uc3QgYmFzZSA9IHdvcmtzcGFjZVNsdWdpZnkodmFsdWUucmVwbGFjZSgvXlxcLy8sICcnKSk7XG4gICAgICByZXR1cm4gYmFzZSA/IGAvJHtiYXNlfWAgOiAnLyc7XG4gICAgfTtcbiAgICBjb25zdCBnZW5lcmF0ZUJsb2NrSWQgPSAocGFnZUlkID0gJ3BhZ2UnLCBrZXkgPSAnYmxvY2snKSA9PlxuICAgICAgYCR7cGFnZUlkfS0ke2tleX0tJHtEYXRlLm5vdygpLnRvU3RyaW5nKDM2KX0tJHtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwKX1gO1xuICAgIGNvbnN0IGNyZWF0ZUluaXRpYWxCbG9ja3MgPSAocGFnZUlkLCB0aXRsZSkgPT4gW1xuICAgICAgY3JlYXRlQmxvY2soXG4gICAgICAgIGdlbmVyYXRlQmxvY2tJZChwYWdlSWQsICdpbnRybycpLFxuICAgICAgICAnSW50cm9kdWN0aW9uJyxcbiAgICAgICAgJ1BhcmFncmFwaGUnLFxuICAgICAgICAnQnJvdWlsbG9uJyxcbiAgICAgICAgYFBhcmFncmFwaGUgaW50cm9kdWN0aWYgcG91ciBcIiR7dGl0bGV9XCIuYCxcbiAgICAgICAgW3sgbGFiZWw6ICdMb25ndWV1cicsIHZhbHVlOiAnMiBwYXJhZ3JhcGhlcycgfV0sXG4gICAgICAgIHtcbiAgICAgICAgICB0aXRsZTogYEludHJvZHVjdGlvbiBcdTAwRTAgJHt0aXRsZX1gLFxuICAgICAgICAgIGNvbnRlbnQ6ICdBam91dGV6IHZvdHJlIHByZW1pZXIgcGFyYWdyYXBoZSBkZSBwclx1MDBFOXNlbnRhdGlvbi4nLFxuICAgICAgICAgIGFsaWduOiAnbGVmdCcsXG4gICAgICAgIH0sXG4gICAgICApLFxuICAgICAgY3JlYXRlQmxvY2soXG4gICAgICAgIGdlbmVyYXRlQmxvY2tJZChwYWdlSWQsICdjb250ZW50JyksXG4gICAgICAgICdab25lIGRlIGNvbnRlbnUnLFxuICAgICAgICAnR3JvdXBlJyxcbiAgICAgICAgJ0Jyb3VpbGxvbicsXG4gICAgICAgICdTZWN0aW9uIHByaW5jaXBhbGUgXHUwMEUwIGNvbXBvc2VyIGF2ZWMgdGV4dGVzIGV0IHZpc3VlbHMuJyxcbiAgICAgICAgW3sgbGFiZWw6ICdDb2xvbm5lcycsIHZhbHVlOiAnQXV0bycgfV0sXG4gICAgICAgIHtcbiAgICAgICAgICBsYXlvdXQ6ICdncmlkJyxcbiAgICAgICAgICBjb2x1bW5zTW9iaWxlOiAnMScsXG4gICAgICAgICAgY29sdW1uc0Rlc2t0b3A6ICcyJyxcbiAgICAgICAgfSxcbiAgICAgICksXG4gICAgXTtcbiAgICBjb25zdCBzZXRBY3RpdmVMYWJlbHMgPSAocGFnZSkgPT4ge1xuICAgICAgaWYgKGFjdGl2ZVRpdGxlKSB7XG4gICAgICAgIGFjdGl2ZVRpdGxlLnRleHRDb250ZW50ID0gcGFnZT8udGl0bGUgfHwgJ1BhZ2UnO1xuICAgICAgfVxuICAgICAgaWYgKGFjdGl2ZVNsdWcpIHtcbiAgICAgICAgYWN0aXZlU2x1Zy50ZXh0Q29udGVudCA9IHBhZ2U/LnNsdWcgfHwgJy8nO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgcmVuZGVyUHJldmlld01ldGEgPSAocGFnZSkgPT4ge1xuICAgICAgaWYgKCFwcmV2aWV3VGFncykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwcmV2aWV3VGFncy5pbm5lckhUTUwgPSAnJztcbiAgICAgIGNvbnN0IHRhZ3MgPVxuICAgICAgICBwYWdlICYmIHBhZ2UuYmFkZ2VzICYmIHBhZ2UuYmFkZ2VzLmxlbmd0aCA+IDAgPyBwYWdlLmJhZGdlcyA6IFsnU3RydWN0dXJlIGVuIGNvdXJzJ107XG4gICAgICB0YWdzLmZvckVhY2goKHRhZykgPT4ge1xuICAgICAgICBjb25zdCBiYWRnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgYmFkZ2UuY2xhc3NOYW1lID0gJ3JvdW5kZWQtZnVsbCBiZy1zbGF0ZS0xMDAgcHgtMyBweS0xJztcbiAgICAgICAgYmFkZ2UudGV4dENvbnRlbnQgPSB0YWc7XG4gICAgICAgIHByZXZpZXdUYWdzLmFwcGVuZENoaWxkKGJhZGdlKTtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgY29uc3QgZ2V0U3RhdHVzQmFkZ2VDbGFzc2VzID0gKHN0YXR1cykgPT4ge1xuICAgICAgc3dpdGNoICgoc3RhdHVzIHx8ICcnKS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgIGNhc2UgJ2VuIGxpZ25lJzpcbiAgICAgICAgICByZXR1cm4gJ2JnLWVtZXJhbGQtNTAgdGV4dC1lbWVyYWxkLTcwMCc7XG4gICAgICAgIGNhc2UgJ2Jyb3VpbGxvbic6XG4gICAgICAgICAgcmV0dXJuICdiZy1hbWJlci01MCB0ZXh0LWFtYmVyLTcwMCc7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuICdiZy1zbGF0ZS0xMDAgdGV4dC1zbGF0ZS02MDAnO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgcmVuZGVyQmxvY2tEZXRhaWxzID0gKGJsb2NrKSA9PiB7XG4gICAgICBpZiAoIWJsb2NrRGV0YWlsRW1wdHkgfHwgIWJsb2NrRWRpdG9yKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghYmxvY2spIHtcbiAgICAgICAgYmxvY2tEZXRhaWxFbXB0eS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgYmxvY2tFZGl0b3IuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIGJsb2NrRWRpdG9yVW5zdXBwb3J0ZWQ/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBibG9ja0Zvcm0/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBibG9ja0RldGFpbFN0YXR1cz8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGJsb2NrRGV0YWlsRW1wdHkuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBibG9ja0VkaXRvci5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGlmIChibG9ja0RldGFpbFN0YXR1cykge1xuICAgICAgICBpZiAoYmxvY2suc3RhdHVzKSB7XG4gICAgICAgICAgYmxvY2tEZXRhaWxTdGF0dXMudGV4dENvbnRlbnQgPSBibG9jay5zdGF0dXM7XG4gICAgICAgICAgYmxvY2tEZXRhaWxTdGF0dXMuY2xhc3NOYW1lID0gYHJvdW5kZWQtZnVsbCBweC0zIHB5LTEgdGV4dC14cyBmb250LXNlbWlib2xkICR7Z2V0U3RhdHVzQmFkZ2VDbGFzc2VzKFxuICAgICAgICAgICAgYmxvY2suc3RhdHVzLFxuICAgICAgICAgICl9YDtcbiAgICAgICAgICBibG9ja0RldGFpbFN0YXR1cy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBibG9ja0RldGFpbFN0YXR1cy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcG9wdWxhdGVCbG9ja0Zvcm0oYmxvY2spO1xuICAgIH07XG4gICAgY29uc3QgYXBwbHlQcmV2aWV3SGlnaGxpZ2h0ID0gKGJsb2NrSWQpID0+IHtcbiAgICAgIGlmICghcHJldmlld0ZyYW1lKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRvYyA9IHByZXZpZXdGcmFtZS5jb250ZW50RG9jdW1lbnQ7XG4gICAgICBpZiAoIWRvYykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBub2RlcyA9IGRvYy5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1wcmV2aWV3LWJsb2NrXScpO1xuICAgICAgbm9kZXMuZm9yRWFjaCgobm9kZSkgPT4ge1xuICAgICAgICBpZiAobm9kZS5kYXRhc2V0LnByZXZpZXdCbG9jayA9PT0gYmxvY2tJZCkge1xuICAgICAgICAgIG5vZGUuY2xhc3NMaXN0LmFkZCgncHJldmlldy1ibG9jay1hY3RpdmUnKTtcbiAgICAgICAgICBpZiAocHJldmlld1JlYWR5ICYmIGJsb2NrSWQpIHtcbiAgICAgICAgICAgIG5vZGUuc2Nyb2xsSW50b1ZpZXcoeyBiZWhhdmlvcjogJ3Ntb290aCcsIGJsb2NrOiAnY2VudGVyJywgaW5saW5lOiAnbmVhcmVzdCcgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5vZGUuY2xhc3NMaXN0LnJlbW92ZSgncHJldmlldy1ibG9jay1hY3RpdmUnKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAocHJldmlld0hpZ2hsaWdodE92ZXJsYXkpIHtcbiAgICAgICAgcHJldmlld0hpZ2hsaWdodE92ZXJsYXkuc3R5bGUuYm9yZGVyQ29sb3IgPSBibG9ja0lkID8gJ3JnYmEoMTU2LCAxMDcsIDI1NSwgMC41KScgOiAndHJhbnNwYXJlbnQnO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgcmVuZGVyQmxvY2tMaXN0ID0gKHBhZ2UpID0+IHtcbiAgICAgIGlmICghYmxvY2tMaXN0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGJsb2NrTGlzdC5pbm5lckhUTUwgPSAnJztcbiAgICAgIGNvbnN0IGJsb2NrcyA9IHBhZ2U/LmJsb2NrcyB8fCBbXTtcbiAgICAgIGlmIChibG9ja0NvdW50QmFkZ2UpIHtcbiAgICAgICAgYmxvY2tDb3VudEJhZGdlLnRleHRDb250ZW50ID0gZm9ybWF0QmxvY2tDb3VudChibG9ja3MubGVuZ3RoKTtcbiAgICAgIH1cbiAgICAgIGlmIChibG9ja3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGJsb2NrTGlzdC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgYmxvY2tMaXN0RW1wdHk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBibG9ja0xpc3QuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBibG9ja0xpc3RFbXB0eT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBibG9ja3MuZm9yRWFjaCgoYmxvY2spID0+IHtcbiAgICAgICAgY29uc3QgaXNBY3RpdmUgPSBibG9jay5pZCA9PT0gYWN0aXZlQmxvY2tJZDtcbiAgICAgICAgY29uc3QgaXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBpdGVtLmRhdGFzZXQuYmxvY2tJdGVtID0gJ3RydWUnO1xuICAgICAgICBpdGVtLmRhdGFzZXQuYmxvY2tJZCA9IGJsb2NrLmlkO1xuICAgICAgICBpdGVtLnNldEF0dHJpYnV0ZSgncm9sZScsICdvcHRpb24nKTtcbiAgICAgICAgaXRlbS5zZXRBdHRyaWJ1dGUoJ2FyaWEtc2VsZWN0ZWQnLCBpc0FjdGl2ZSA/ICd0cnVlJyA6ICdmYWxzZScpO1xuICAgICAgICBpdGVtLnRhYkluZGV4ID0gMDtcbiAgICAgICAgaXRlbS5jbGFzc05hbWUgPSBbXG4gICAgICAgICAgJ3JlbGF0aXZlIGZsZXggaXRlbXMtY2VudGVyIGdhcC0zIHJvdW5kZWQtMnhsIGJvcmRlciBweC0zIHB5LTIgdGV4dC1sZWZ0IHRyYW5zaXRpb24nLFxuICAgICAgICAgIGlzQWN0aXZlXG4gICAgICAgICAgICA/ICdiZy1zbGF0ZS0xMDAgYm9yZGVyLVsjOUM2QkZGXS80MCBzaGFkb3ctc20nXG4gICAgICAgICAgICA6ICdib3JkZXItc2xhdGUtMjAwIGhvdmVyOmJvcmRlci1bIzlDNkJGRl0vNDAnLFxuICAgICAgICBdLmpvaW4oJyAnKTtcbiAgICAgICAgY29uc3QgYWNjZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICBhY2NlbnQuY2xhc3NOYW1lID0gYGFic29sdXRlIGluc2V0LXktMiBsZWZ0LTAgdy0xIHJvdW5kZWQtZnVsbCBiZy1bIzlDNkJGRl0gJHtcbiAgICAgICAgICBpc0FjdGl2ZSA/ICcnIDogJ2hpZGRlbidcbiAgICAgICAgfWA7XG4gICAgICAgIGl0ZW0uYXBwZW5kQ2hpbGQoYWNjZW50KTtcblxuICAgICAgICBjb25zdCBjb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGNvbnRlbnQuY2xhc3NOYW1lID0gJ2ZsZXggZmxleC0xIGl0ZW1zLWNlbnRlciBnYXAtMyc7XG4gICAgICAgIGNvbnN0IGhhbmRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBoYW5kbGUuY2xhc3NOYW1lID1cbiAgICAgICAgICAnaGlkZGVuIGxnOmZsZXggY3Vyc29yLWdyYWIgZmxleC1zaHJpbmstMCBpdGVtcy1jZW50ZXIgdGV4dC1sZyB0ZXh0LXNsYXRlLTQwMCc7XG4gICAgICAgIGhhbmRsZS5pbm5lckhUTUwgPSAnJiM4ODAxOyc7XG4gICAgICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQoaGFuZGxlKTtcblxuICAgICAgICBjb25zdCB0ZXh0V3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0ZXh0V3JhcHBlci5jbGFzc05hbWUgPSAnZmxleC0xJztcbiAgICAgICAgY29uc3QgbWV0YSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBtZXRhLmNsYXNzTmFtZSA9ICdmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiB0ZXh0LVsxMXB4XSB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZSB0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICAgIGNvbnN0IHR5cGVCYWRnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgdHlwZUJhZGdlLmNsYXNzTmFtZSA9XG4gICAgICAgICAgJ3JvdW5kZWQtZnVsbCBiZy1zbGF0ZS0xMDAgcHgtMiBweS0wLjUgdGV4dC1bMTBweF0gZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTYwMCc7XG4gICAgICAgIHR5cGVCYWRnZS50ZXh0Q29udGVudCA9IGJsb2NrLnR5cGU7XG4gICAgICAgIGNvbnN0IHN0YXR1c0JhZGdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICBzdGF0dXNCYWRnZS5jbGFzc05hbWUgPSAndGV4dC1zbGF0ZS00MDAnO1xuICAgICAgICBzdGF0dXNCYWRnZS50ZXh0Q29udGVudCA9IGJsb2NrLnN0YXR1cztcbiAgICAgICAgbWV0YS5hcHBlbmRDaGlsZCh0eXBlQmFkZ2UpO1xuICAgICAgICBtZXRhLmFwcGVuZENoaWxkKHN0YXR1c0JhZGdlKTtcbiAgICAgICAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgICAgIHRpdGxlLmNsYXNzTmFtZSA9ICdtdC0xIHRleHQtc20gZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTkwMCc7XG4gICAgICAgIGNvbnN0IGRpc3BsYXlMYWJlbCA9XG4gICAgICAgICAgKGJsb2NrLnNldHRpbmdzICYmIGJsb2NrLnNldHRpbmdzLnRpdGxlKSB8fCBibG9jay5sYWJlbCB8fCAnQmxvYyBzYW5zIHRpdHJlJztcbiAgICAgICAgdGl0bGUudGV4dENvbnRlbnQgPSBkaXNwbGF5TGFiZWw7XG4gICAgICAgIHRleHRXcmFwcGVyLmFwcGVuZENoaWxkKG1ldGEpO1xuICAgICAgICB0ZXh0V3JhcHBlci5hcHBlbmRDaGlsZCh0aXRsZSk7XG4gICAgICAgIGNvbnN0IGJsb2NrVHlwZSA9IChibG9jay50eXBlIHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBpZiAoYmxvY2tUeXBlID09PSAnY29sbGVjdGlvbmdyaWQnICYmIGJsb2NrLmNvbGxlY3Rpb25JZCkge1xuICAgICAgICAgIGNvbnN0IGNvbGxlY3Rpb25OYW1lID1cbiAgICAgICAgICAgIGRlc2lnbkNvbGxlY3Rpb25zLmZpbmQoKGVudHJ5KSA9PiBlbnRyeS5pZCA9PT0gYmxvY2suY29sbGVjdGlvbklkKT8ubmFtZSB8fFxuICAgICAgICAgICAgYmxvY2suY29sbGVjdGlvbklkO1xuICAgICAgICAgIGNvbnN0IGluZm8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgICAgICAgaW5mby5jbGFzc05hbWUgPSAndGV4dC14cyB0ZXh0LXNsYXRlLTQwMCc7XG4gICAgICAgICAgaW5mby50ZXh0Q29udGVudCA9IGBDb2xsZWN0aW9uIDogJHtjb2xsZWN0aW9uTmFtZX1gO1xuICAgICAgICAgIHRleHRXcmFwcGVyLmFwcGVuZENoaWxkKGluZm8pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQodGV4dFdyYXBwZXIpO1xuICAgICAgICBpdGVtLmFwcGVuZENoaWxkKGNvbnRlbnQpO1xuXG4gICAgICAgIGNvbnN0IGFjdGlvbnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgYWN0aW9ucy5jbGFzc05hbWUgPSAnZmxleCBmbGV4LWNvbCBnYXAtMSB0ZXh0LXhzIHRleHQtc2xhdGUtNDAwJztcblxuICAgICAgICBjb25zdCBtb3ZlQnV0dG9ucyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBtb3ZlQnV0dG9ucy5jbGFzc05hbWUgPSAnZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEgbGc6aGlkZGVuJztcbiAgICAgICAgY29uc3QgbW92ZVVwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIG1vdmVVcC50eXBlID0gJ2J1dHRvbic7XG4gICAgICAgIG1vdmVVcC5jbGFzc05hbWUgPVxuICAgICAgICAgICdyb3VuZGVkLWxnIGJvcmRlciBib3JkZXItc2xhdGUtMjAwIHB4LTIgcHktMSB0ZXh0LVsxMXB4XSBmb250LXNlbWlib2xkIHRleHQtc2xhdGUtNTAwJztcbiAgICAgICAgbW92ZVVwLnRleHRDb250ZW50ID0gJ1x1MjE5MSc7XG4gICAgICAgIG1vdmVVcC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgIG1vdmVCbG9ja0J5T2Zmc2V0KGJsb2NrLmlkLCAtMSk7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBtb3ZlRG93biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICBtb3ZlRG93bi50eXBlID0gJ2J1dHRvbic7XG4gICAgICAgIG1vdmVEb3duLmNsYXNzTmFtZSA9XG4gICAgICAgICAgJ3JvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1zbGF0ZS0yMDAgcHgtMiBweS0xIHRleHQtWzExcHhdIGZvbnQtc2VtaWJvbGQgdGV4dC1zbGF0ZS01MDAnO1xuICAgICAgICBtb3ZlRG93bi50ZXh0Q29udGVudCA9ICdcdTIxOTMnO1xuICAgICAgICBtb3ZlRG93bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgIG1vdmVCbG9ja0J5T2Zmc2V0KGJsb2NrLmlkLCAxKTtcbiAgICAgICAgfSk7XG4gICAgICAgIG1vdmVCdXR0b25zLmFwcGVuZENoaWxkKG1vdmVVcCk7XG4gICAgICAgIG1vdmVCdXR0b25zLmFwcGVuZENoaWxkKG1vdmVEb3duKTtcbiAgICAgICAgYWN0aW9ucy5hcHBlbmRDaGlsZChtb3ZlQnV0dG9ucyk7XG5cbiAgICAgICAgY29uc3QgZGVsZXRlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIGRlbGV0ZUJ1dHRvbi50eXBlID0gJ2J1dHRvbic7XG4gICAgICAgIGRlbGV0ZUJ1dHRvbi5jbGFzc05hbWUgPVxuICAgICAgICAgICdpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLXRyYW5zcGFyZW50IHB4LTIgcHktMSB0ZXh0LVsxMnB4XSB0ZXh0LXJvc2UtNTAwIGhvdmVyOnRleHQtcm9zZS03MDAnO1xuICAgICAgICBkZWxldGVCdXR0b24uaW5uZXJIVE1MID0gJ1x1RDgzRFx1REREMVx1RkUwRic7XG4gICAgICAgIGRlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgIG9wZW5CbG9ja0RlbGV0ZU1vZGFsKGJsb2NrLmlkKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgYWN0aW9ucy5hcHBlbmRDaGlsZChkZWxldGVCdXR0b24pO1xuICAgICAgICBpdGVtLmFwcGVuZENoaWxkKGFjdGlvbnMpO1xuXG4gICAgICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgc2V0QWN0aXZlQmxvY2soYmxvY2suaWQpO1xuICAgICAgICB9KTtcbiAgICAgICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VudGVyJyB8fCBldmVudC5rZXkgPT09ICcgJykge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHNldEFjdGl2ZUJsb2NrKGJsb2NrLmlkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBibG9ja0xpc3QuYXBwZW5kQ2hpbGQoaXRlbSk7XG4gICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IHJlbmRlclBhZ2VMaXN0cyA9IChwYWdlcywgYWN0aXZlSWQpID0+IHtcbiAgICAgIHBhZ2VMaXN0cy5mb3JFYWNoKChsaXN0KSA9PiB7XG4gICAgICAgIGxpc3QuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgIHBhZ2VzLmZvckVhY2goKHBhZ2UpID0+IHtcbiAgICAgICAgICBjb25zdCBpdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgICBjb25zdCBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgICBidXR0b24udHlwZSA9ICdidXR0b24nO1xuICAgICAgICAgIGJ1dHRvbi5kYXRhc2V0LnBhZ2VJZCA9IHBhZ2UuaWQ7XG4gICAgICAgICAgYnV0dG9uLmNsYXNzTmFtZSA9IFtcbiAgICAgICAgICAgICd3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIGdhcC0zIHB4LTMgcHktMiB0ZXh0LWxlZnQgdHJhbnNpdGlvbicsXG4gICAgICAgICAgICBhY3RpdmVJZCA9PT0gcGFnZS5pZFxuICAgICAgICAgICAgICA/ICdiZy1bIzlDNkJGRl0vMTAgdGV4dC1zbGF0ZS05MDAgYm9yZGVyIGJvcmRlci1bIzlDNkJGRl0vNDAgcm91bmRlZC14bCBzaGFkb3ctc20nXG4gICAgICAgICAgICAgIDogJ3RleHQtc2xhdGUtNzAwIGhvdmVyOmJnLXNsYXRlLTUwIHJvdW5kZWQteGwnLFxuICAgICAgICAgIF0uam9pbignICcpO1xuICAgICAgICAgIGlmIChhY3RpdmVJZCA9PT0gcGFnZS5pZCkge1xuICAgICAgICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZSgnYXJpYS1jdXJyZW50JywgJ3BhZ2UnKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYnV0dG9uLnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1jdXJyZW50Jyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJ1dHRvbi5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTNcIj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJmbGV4IGgtOSB3LTkgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHJvdW5kZWQteGwgYm9yZGVyIGJvcmRlci1zbGF0ZS0yMDAgYmctd2hpdGUgdGV4dC1zbGF0ZS01MDBcIj5cbiAgICAgICAgICAgICAgICA8c3ZnIHdpZHRoPVwiMThcIiBoZWlnaHQ9XCIxOFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPlxuICAgICAgICAgICAgICAgICAgPHBhdGggZD1cIk02LjUgNC41aDdsNCA0djExYTEgMSAwIDAgMS0xIDFoLTEwYTEgMSAwIDAgMS0xLTF2LTE0YTEgMSAwIDAgMSAxLTFaXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMS40XCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIi8+XG4gICAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTEzLjUgNC41djRhMSAxIDAgMCAwIDEgMWgzXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMS40XCIvPlxuICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXNtIGZvbnQtc2VtaWJvbGRcIj4ke3BhZ2UudGl0bGV9PC9zcGFuPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC14cyB0ZXh0LXNsYXRlLTUwMFwiPiR7cGFnZS5zbHVnfTwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICBgO1xuICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIHNldEFjdGl2ZVBhZ2UocGFnZS5pZCk7XG4gICAgICAgICAgICBpZiAoIWlzRGVza3RvcERyYXdlcigpKSB7XG4gICAgICAgICAgICAgIGNsb3NlRHJhd2VyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaXRlbS5hcHBlbmRDaGlsZChidXR0b24pO1xuICAgICAgICAgIGxpc3QuYXBwZW5kQ2hpbGQoaXRlbSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICBjb25zdCBnZXRBY3RpdmVCbG9jayA9ICgpID0+IHtcbiAgICAgIGlmICghY3VycmVudFBhZ2UgfHwgIUFycmF5LmlzQXJyYXkoY3VycmVudFBhZ2UuYmxvY2tzKSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjdXJyZW50UGFnZS5ibG9ja3MuZmluZCgoYmxvY2spID0+IGJsb2NrLmlkID09PSBhY3RpdmVCbG9ja0lkKSB8fCBudWxsO1xuICAgIH07XG4gICAgY29uc3Qgc2V0QWN0aXZlQmxvY2sgPSAoYmxvY2tJZCkgPT4ge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWJsb2NrSWQpIHtcbiAgICAgICAgYWN0aXZlQmxvY2tJZCA9IG51bGw7XG4gICAgICAgIHJlbmRlckJsb2NrTGlzdChjdXJyZW50UGFnZSk7XG4gICAgICAgIHJlbmRlckJsb2NrRGV0YWlscyhudWxsKTtcbiAgICAgICAgYXBwbHlQcmV2aWV3SGlnaGxpZ2h0KG51bGwpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCB0YXJnZXRCbG9jayA9XG4gICAgICAgIGN1cnJlbnRQYWdlLmJsb2Nrcy5maW5kKChibG9jaykgPT4gYmxvY2suaWQgPT09IGJsb2NrSWQpIHx8IGN1cnJlbnRQYWdlLmJsb2Nrc1swXSB8fCBudWxsO1xuICAgICAgYWN0aXZlQmxvY2tJZCA9IHRhcmdldEJsb2NrPy5pZCB8fCBudWxsO1xuICAgICAgcmVuZGVyQmxvY2tMaXN0KGN1cnJlbnRQYWdlKTtcbiAgICAgIHJlbmRlckJsb2NrRGV0YWlscyh0YXJnZXRCbG9jayk7XG4gICAgICBhcHBseVByZXZpZXdIaWdobGlnaHQoYWN0aXZlQmxvY2tJZCk7XG4gICAgfTtcbiAgICBjb25zdCB1cGRhdGVDdXJyZW50UGFnZUJsb2NrcyA9IChuZXdCbG9ja3MpID0+IHtcbiAgICAgIGlmICghY3VycmVudFBhZ2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgbmV4dFBhZ2UgPSB7IC4uLmN1cnJlbnRQYWdlLCBibG9ja3M6IG5ld0Jsb2NrcyB9O1xuICAgICAgdXBkYXRlQ3VycmVudFBhZ2VTdGF0ZShuZXh0UGFnZSk7XG4gICAgfTtcbiAgICBjb25zdCBpc0Rlc2t0b3BSZW9yZGVyID0gKCkgPT4gd2luZG93Lm1hdGNoTWVkaWEoJyhtaW4td2lkdGg6IDEwMjRweCknKS5tYXRjaGVzO1xuICAgIGZ1bmN0aW9uIG1vdmVCbG9ja0J5T2Zmc2V0KGJsb2NrSWQsIG9mZnNldCkge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSB8fCAhYmxvY2tJZCB8fCAhb2Zmc2V0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGJsb2NrcyA9IFsuLi4oY3VycmVudFBhZ2UuYmxvY2tzIHx8IFtdKV07XG4gICAgICBjb25zdCBpbmRleCA9IGJsb2Nrcy5maW5kSW5kZXgoKGJsb2NrKSA9PiBibG9jay5pZCA9PT0gYmxvY2tJZCk7XG4gICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG5ld0luZGV4ID0gaW5kZXggKyBvZmZzZXQ7XG4gICAgICBpZiAobmV3SW5kZXggPCAwIHx8IG5ld0luZGV4ID49IGJsb2Nrcy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgW21vdmVkXSA9IGJsb2Nrcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgYmxvY2tzLnNwbGljZShuZXdJbmRleCwgMCwgbW92ZWQpO1xuICAgICAgdXBkYXRlQ3VycmVudFBhZ2VCbG9ja3MoYmxvY2tzKTtcbiAgICAgIHNldEFjdGl2ZVBhZ2UoY3VycmVudFBhZ2UuaWQsIHsgcHJlc2VydmVCbG9jazogdHJ1ZSB9KTtcbiAgICAgIHNldEFjdGl2ZUJsb2NrKG1vdmVkLmlkKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVvcmRlckJsb2Nrcyhzb3VyY2VJZCwgdGFyZ2V0SWQpIHtcbiAgICAgIGlmICghY3VycmVudFBhZ2UgfHwgIXNvdXJjZUlkIHx8ICF0YXJnZXRJZCB8fCBzb3VyY2VJZCA9PT0gdGFyZ2V0SWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgYmxvY2tzID0gWy4uLihjdXJyZW50UGFnZS5ibG9ja3MgfHwgW10pXTtcbiAgICAgIGNvbnN0IGZyb21JbmRleCA9IGJsb2Nrcy5maW5kSW5kZXgoKGJsb2NrKSA9PiBibG9jay5pZCA9PT0gc291cmNlSWQpO1xuICAgICAgY29uc3QgdG9JbmRleCA9IGJsb2Nrcy5maW5kSW5kZXgoKGJsb2NrKSA9PiBibG9jay5pZCA9PT0gdGFyZ2V0SWQpO1xuICAgICAgaWYgKGZyb21JbmRleCA8IDAgfHwgdG9JbmRleCA8IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgW21vdmVkXSA9IGJsb2Nrcy5zcGxpY2UoZnJvbUluZGV4LCAxKTtcbiAgICAgIGJsb2Nrcy5zcGxpY2UodG9JbmRleCwgMCwgbW92ZWQpO1xuICAgICAgdXBkYXRlQ3VycmVudFBhZ2VCbG9ja3MoYmxvY2tzKTtcbiAgICAgIHNldEFjdGl2ZVBhZ2UoY3VycmVudFBhZ2UuaWQsIHsgcHJlc2VydmVCbG9jazogdHJ1ZSB9KTtcbiAgICAgIHNldEFjdGl2ZUJsb2NrKG1vdmVkLmlkKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlRHJhZ2dhYmxlU3RhdGUoKSB7XG4gICAgICBpZiAoIWJsb2NrTGlzdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBkcmFnZ2FibGUgPSBpc0Rlc2t0b3BSZW9yZGVyKCk7XG4gICAgICBibG9ja0xpc3QucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYmxvY2staXRlbV0nKS5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgIGl0ZW0uc2V0QXR0cmlidXRlKCdkcmFnZ2FibGUnLCBkcmFnZ2FibGUgPyAndHJ1ZScgOiAnZmFsc2UnKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjbG9zZUJsb2NrTGlicmFyeSgpIHtcbiAgICAgIGlmICghYmxvY2tMaWJyYXJ5KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGJsb2NrTGlicmFyeS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGJsb2NrTGlicmFyeU9wZW4gPSBmYWxzZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gb3BlbkJsb2NrTGlicmFyeSgpIHtcbiAgICAgIGlmICghYmxvY2tMaWJyYXJ5KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGJsb2NrTGlicmFyeS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGJsb2NrTGlicmFyeU9wZW4gPSB0cnVlO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0b2dnbGVCbG9ja0xpYnJhcnkoKSB7XG4gICAgICBibG9ja0xpYnJhcnlPcGVuID8gY2xvc2VCbG9ja0xpYnJhcnkoKSA6IG9wZW5CbG9ja0xpYnJhcnkoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYWRkQmxvY2tGcm9tTGlicmFyeSh0eXBlKSB7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlIHx8ICF0eXBlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRlZmluaXRpb24gPSBibG9ja0xpYnJhcnlEZWZpbml0aW9uc1t0eXBlXTtcbiAgICAgIGlmICghZGVmaW5pdGlvbikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBjb3VudCA9XG4gICAgICAgIChjdXJyZW50UGFnZS5ibG9ja3MgfHwgW10pLmZpbHRlcigoYmxvY2spID0+IGJsb2NrLnR5cGUgPT09IGRlZmluaXRpb24udHlwZSkubGVuZ3RoICsgMTtcbiAgICAgIGNvbnN0IG5ld0Jsb2NrID0gY3JlYXRlQmxvY2soXG4gICAgICAgIGdlbmVyYXRlQmxvY2tJZChjdXJyZW50UGFnZS5pZCwgdHlwZSksXG4gICAgICAgIGAke2RlZmluaXRpb24ubGFiZWx9ICR7Y291bnR9YCxcbiAgICAgICAgZGVmaW5pdGlvbi50eXBlLFxuICAgICAgICBkZWZpbml0aW9uLnN0YXR1cyxcbiAgICAgICAgZGVmaW5pdGlvbi5kZXNjcmlwdGlvbixcbiAgICAgICAgZGVmaW5pdGlvbi5wcm9wcyxcbiAgICAgICAgZGVmaW5pdGlvbi5zZXR0aW5ncyB8fCB7fSxcbiAgICAgICk7XG4gICAgICBpZiAoKGRlZmluaXRpb24udHlwZSB8fCAnJykudG9Mb3dlckNhc2UoKSA9PT0gJ2NvbGxlY3Rpb25ncmlkJykge1xuICAgICAgICBjb25zdCBmaXJzdENvbGxlY3Rpb25JZCA9IGRlc2lnbkNvbGxlY3Rpb25zWzBdPy5pZCB8fCAnJztcbiAgICAgICAgbmV3QmxvY2suY29sbGVjdGlvbklkID0gZmlyc3RDb2xsZWN0aW9uSWQ7XG4gICAgICAgIG5ld0Jsb2NrLnNldHRpbmdzLmNvbGxlY3Rpb25JZCA9IGZpcnN0Q29sbGVjdGlvbklkO1xuICAgICAgICBuZXdCbG9jay5zZXR0aW5ncy5saW1pdCA9IG5ld0Jsb2NrLnNldHRpbmdzLmxpbWl0IHx8IDY7XG4gICAgICB9XG4gICAgICBjb25zdCBuZXh0QmxvY2tzID0gWy4uLihjdXJyZW50UGFnZS5ibG9ja3MgfHwgW10pLCBuZXdCbG9ja107XG4gICAgICB1cGRhdGVDdXJyZW50UGFnZUJsb2NrcyhuZXh0QmxvY2tzKTtcbiAgICAgIHNldEFjdGl2ZVBhZ2UoY3VycmVudFBhZ2UuaWQsIHsgcHJlc2VydmVCbG9jazogdHJ1ZSB9KTtcbiAgICAgIHNldEFjdGl2ZUJsb2NrKG5ld0Jsb2NrLmlkKTtcbiAgICAgIGNsb3NlQmxvY2tMaWJyYXJ5KCk7XG4gICAgICBzaG93VG9hc3QoJ0Jsb2MgYWpvdXRcdTAwRTknKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGVsZXRlQmxvY2tCeUlkKGJsb2NrSWQpIHtcbiAgICAgIGlmICghY3VycmVudFBhZ2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgYmxvY2tzID0gKGN1cnJlbnRQYWdlLmJsb2NrcyB8fCBbXSkuZmlsdGVyKChibG9jaykgPT4gYmxvY2suaWQgIT09IGJsb2NrSWQpO1xuICAgICAgY29uc3QgbmV4dEFjdGl2ZSA9XG4gICAgICAgIGJsb2NrSWQgPT09IGFjdGl2ZUJsb2NrSWQgPyBibG9ja3NbMF0/LmlkIHx8IG51bGwgOiBhY3RpdmVCbG9ja0lkIHx8IGJsb2Nrc1swXT8uaWQgfHwgbnVsbDtcbiAgICAgIHVwZGF0ZUN1cnJlbnRQYWdlQmxvY2tzKGJsb2Nrcyk7XG4gICAgICBhY3RpdmVCbG9ja0lkID0gbmV4dEFjdGl2ZTtcbiAgICAgIHNldEFjdGl2ZVBhZ2UoY3VycmVudFBhZ2UuaWQsIHsgcHJlc2VydmVCbG9jazogdHJ1ZSB9KTtcbiAgICAgIGlmIChhY3RpdmVCbG9ja0lkKSB7XG4gICAgICAgIHNldEFjdGl2ZUJsb2NrKGFjdGl2ZUJsb2NrSWQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVuZGVyQmxvY2tEZXRhaWxzKG51bGwpO1xuICAgICAgICBhcHBseVByZXZpZXdIaWdobGlnaHQobnVsbCk7XG4gICAgICB9XG4gICAgICBzaG93VG9hc3QoJ0Jsb2Mgc3VwcHJpbVx1MDBFOScpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjbG9zZUJsb2NrRGVsZXRlTW9kYWwoKSB7XG4gICAgICBpZiAoIWJsb2NrRGVsZXRlTW9kYWwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYmxvY2tEZWxldGVNb2RhbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGJsb2NrRGVsZXRlTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnZmxleCcpO1xuICAgICAgcGVuZGluZ0RlbGV0ZUJsb2NrSWQgPSBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBvcGVuQmxvY2tEZWxldGVNb2RhbChibG9ja0lkKSB7XG4gICAgICBpZiAoIWJsb2NrRGVsZXRlTW9kYWwpIHtcbiAgICAgICAgZGVsZXRlQmxvY2tCeUlkKGJsb2NrSWQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwZW5kaW5nRGVsZXRlQmxvY2tJZCA9IGJsb2NrSWQ7XG4gICAgICBibG9ja0RlbGV0ZU1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgYmxvY2tEZWxldGVNb2RhbC5jbGFzc0xpc3QuYWRkKCdmbGV4Jyk7XG4gICAgfVxuICAgIGNvbnN0IHVwZGF0ZUN1cnJlbnRQYWdlU3RhdGUgPSAobmV4dFBhZ2UpID0+IHtcbiAgICAgIGlmICghbmV4dFBhZ2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZVBhZ2VEYXRhKG5leHRQYWdlKTtcbiAgICAgIHBhZ2VzID0gcGFnZXMubWFwKChwYWdlKSA9PiAocGFnZS5pZCA9PT0gbm9ybWFsaXplZC5pZCA/IG5vcm1hbGl6ZWQgOiBwYWdlKSk7XG4gICAgICBjdXJyZW50UGFnZSA9IG5vcm1hbGl6ZWQ7XG4gICAgICBzYXZlUGFnZVRvU2VydmVyKG5vcm1hbGl6ZWQpO1xuICAgIH07XG4gICAgY29uc3Qgc2V0QWN0aXZlUGFnZSA9IChwYWdlSWQsIG9wdGlvbnMgPSB7fSkgPT4ge1xuICAgICAgY29uc3QgdGFyZ2V0ID0gcGFnZXMuZmluZCgocGFnZSkgPT4gcGFnZS5pZCA9PT0gcGFnZUlkKSB8fCBwYWdlc1swXSB8fCBudWxsO1xuICAgICAgY29uc3Qgbm9ybWFsaXplZFRhcmdldCA9IHRhcmdldCA/IG5vcm1hbGl6ZVBhZ2VEYXRhKHRhcmdldCkgOiBudWxsO1xuICAgICAgY3VycmVudFBhZ2UgPSBub3JtYWxpemVkVGFyZ2V0O1xuICAgICAgYWN0aXZlUGFnZUlkID0gdGFyZ2V0Py5pZCB8fCBudWxsO1xuICAgICAgaWYgKCFvcHRpb25zLnByZXNlcnZlQmxvY2sgfHwgIWN1cnJlbnRQYWdlIHx8ICFjdXJyZW50UGFnZS5ibG9ja3Muc29tZSgoYmxvY2spID0+IGJsb2NrLmlkID09PSBhY3RpdmVCbG9ja0lkKSkge1xuICAgICAgICBhY3RpdmVCbG9ja0lkID0gY3VycmVudFBhZ2U/LmJsb2Nrcz8uWzBdPy5pZCB8fCBudWxsO1xuICAgICAgfVxuICAgICAgaWYgKGFjdGl2ZVBhZ2VJZCkge1xuICAgICAgICBwZXJzaXN0QWN0aXZlUGFnZShhY3RpdmVQYWdlSWQpO1xuICAgICAgfVxuICAgICAgcmVuZGVyUGFnZUxpc3RzKHBhZ2VzLCBhY3RpdmVQYWdlSWQpO1xuICAgICAgc2V0QWN0aXZlTGFiZWxzKGN1cnJlbnRQYWdlKTtcbiAgICAgIHJlbmRlclByZXZpZXdNZXRhKGN1cnJlbnRQYWdlKTtcbiAgICAgIHJlZnJlc2hQcmV2aWV3KGN1cnJlbnRQYWdlKTtcbiAgICAgIHJlbmRlckJsb2NrTGlzdChjdXJyZW50UGFnZSk7XG4gICAgICByZW5kZXJCbG9ja0RldGFpbHMoZ2V0QWN0aXZlQmxvY2soKSk7XG4gICAgICBhcHBseVByZXZpZXdIaWdobGlnaHQoYWN0aXZlQmxvY2tJZCk7XG4gICAgICB1cGRhdGVEcmFnZ2FibGVTdGF0ZSgpO1xuICAgICAgaWYgKGJsb2NrTGlicmFyeU9wZW4pIHtcbiAgICAgICAgY2xvc2VCbG9ja0xpYnJhcnkoKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGlzRGVza3RvcERyYXdlciA9ICgpID0+IHdpbmRvdy5tYXRjaE1lZGlhKCcobWluLXdpZHRoOiAxMDI0cHgpJykubWF0Y2hlcztcbiAgICBjb25zdCBzeW5jRHJhd2VyU3RhdGUgPSAoKSA9PiB7XG4gICAgICBpZiAoIWRyYXdlcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoaXNEZXNrdG9wRHJhd2VyKCkpIHtcbiAgICAgICAgZHJhd2VyLmNsYXNzTGlzdC5hZGQoJ2lzLW9wZW4nKTtcbiAgICAgICAgZHJhd2VyQmFja2Ryb3A/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ292ZXJmbG93LWhpZGRlbicpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZHJhd2VyLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLW9wZW4nKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IG9wZW5EcmF3ZXIgPSAoKSA9PiB7XG4gICAgICBpZiAoIWRyYXdlciB8fCBpc0Rlc2t0b3BEcmF3ZXIoKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBkcmF3ZXIuY2xhc3NMaXN0LmFkZCgnaXMtb3BlbicpO1xuICAgICAgZHJhd2VyQmFja2Ryb3A/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICB9O1xuICAgIGNvbnN0IGNsb3NlRHJhd2VyID0gKCkgPT4ge1xuICAgICAgaWYgKCFkcmF3ZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZHJhd2VyLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLW9wZW4nKTtcbiAgICAgIGRyYXdlckJhY2tkcm9wPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnb3ZlcmZsb3ctaGlkZGVuJyk7XG4gICAgfTtcbiAgICBjb25zdCBvcGVuQWRkUGFnZUZvcm0gPSAoKSA9PiB7XG4gICAgICBpZiAoIWFkZFBhZ2VGb3JtIHx8ICFhZGRQYWdlVG9nZ2xlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGFkZFBhZ2VGb3JtLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgYWRkUGFnZVRvZ2dsZS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGFkZFBhZ2VFcnJvciAmJiAoYWRkUGFnZUVycm9yLnRleHRDb250ZW50ID0gJycpO1xuICAgICAgcGFnZVNsdWdNYW51YWxseUVkaXRlZCA9IGZhbHNlO1xuICAgICAgaWYgKGFkZFBhZ2VUaXRsZSkge1xuICAgICAgICBhZGRQYWdlVGl0bGUudmFsdWUgPSAnJztcbiAgICAgICAgYWRkUGFnZVRpdGxlLmZvY3VzKCk7XG4gICAgICB9XG4gICAgICBpZiAoYWRkUGFnZVNsdWcpIHtcbiAgICAgICAgYWRkUGFnZVNsdWcudmFsdWUgPSAnJztcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGNsb3NlQWRkUGFnZUZvcm0gPSAoKSA9PiB7XG4gICAgICBpZiAoIWFkZFBhZ2VGb3JtIHx8ICFhZGRQYWdlVG9nZ2xlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGFkZFBhZ2VGb3JtLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgYWRkUGFnZVRvZ2dsZS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGFkZFBhZ2VFcnJvciAmJiAoYWRkUGFnZUVycm9yLnRleHRDb250ZW50ID0gJycpO1xuICAgICAgcGFnZVNsdWdNYW51YWxseUVkaXRlZCA9IGZhbHNlO1xuICAgICAgYWRkUGFnZUZvcm0ucmVzZXQoKTtcbiAgICB9O1xuICAgIGNvbnN0IHN5bmNTbHVnRnJvbVRpdGxlID0gKCkgPT4ge1xuICAgICAgaWYgKCFhZGRQYWdlVGl0bGUgfHwgIWFkZFBhZ2VTbHVnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChwYWdlU2x1Z01hbnVhbGx5RWRpdGVkICYmIGFkZFBhZ2VTbHVnLnZhbHVlLnRyaW0oKS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGFkZFBhZ2VTbHVnLnZhbHVlID0gbm9ybWFsaXplUGFnZVNsdWcoYWRkUGFnZVRpdGxlLnZhbHVlKTtcbiAgICB9O1xuXG4gICAgbGV0IHBhZ2VzID0gW107XG4gICAgbGV0IGFjdGl2ZVBhZ2VJZCA9IG51bGw7XG4gICAgbGV0IHBhZ2VTbHVnTWFudWFsbHlFZGl0ZWQgPSBmYWxzZTtcbiAgICBsZXQgY3VycmVudFBhZ2UgPSBudWxsO1xuICAgIGxldCBhY3RpdmVCbG9ja0lkID0gbnVsbDtcbiAgICBsZXQgYmxvY2tMaWJyYXJ5T3BlbiA9IGZhbHNlO1xuICAgIGxldCBwZW5kaW5nRGVsZXRlQmxvY2tJZCA9IG51bGw7XG4gICAgbGV0IGxhdGVzdFByZXZpZXdIdG1sID0gJyc7XG4gICAgbGV0IHByZXZpZXdSZWFkeSA9IGZhbHNlO1xuICAgIGxldCBwcmV2aWV3UmVxdWVzdENvbnRyb2xsZXIgPSBudWxsO1xuICAgIGxldCBkZXNpZ25Db2xsZWN0aW9ucyA9IFtdO1xuXG4gICAgY29uc3Qgbm9ybWFsaXplQmxvY2tEYXRhID0gKGJsb2NrKSA9PiB7XG4gICAgICBjb25zdCBub3JtYWxpemVkID0ge1xuICAgICAgICAuLi5ibG9jayxcbiAgICAgICAgcHJvcHM6IEFycmF5LmlzQXJyYXkoYmxvY2sucHJvcHMpID8gYmxvY2sucHJvcHMgOiBbXSxcbiAgICAgICAgc2V0dGluZ3M6IHsgLi4uKGJsb2NrLnNldHRpbmdzIHx8IHt9KSB9LFxuICAgICAgfTtcbiAgICAgIGNvbnN0IHR5cGUgPSAobm9ybWFsaXplZC50eXBlIHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgaWYgKHR5cGUgPT09ICdjb2xsZWN0aW9uZ3JpZCcpIHtcbiAgICAgICAgbm9ybWFsaXplZC5jb2xsZWN0aW9uSWQgPVxuICAgICAgICAgIG5vcm1hbGl6ZWQuY29sbGVjdGlvbklkIHx8IG5vcm1hbGl6ZWQuc2V0dGluZ3MuY29sbGVjdGlvbklkIHx8ICcnO1xuICAgICAgICBub3JtYWxpemVkLnNldHRpbmdzLmNvbGxlY3Rpb25JZCA9IG5vcm1hbGl6ZWQuY29sbGVjdGlvbklkO1xuICAgICAgICBub3JtYWxpemVkLnNldHRpbmdzLmxpbWl0ID0gbm9ybWFsaXplZC5zZXR0aW5ncy5saW1pdCB8fCA2O1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5vcm1hbGl6ZWQ7XG4gICAgfTtcblxuICAgIGNvbnN0IG5vcm1hbGl6ZVBhZ2VEYXRhID0gKHBhZ2UpID0+ICh7XG4gICAgICAuLi5wYWdlLFxuICAgICAgYmxvY2tzOiAocGFnZS5ibG9ja3MgfHwgW10pLm1hcCgoYmxvY2spID0+IG5vcm1hbGl6ZUJsb2NrRGF0YShibG9jaykpLFxuICAgICAgc2VvOiB7XG4gICAgICAgIHRpdGxlOiAocGFnZS5zZW8/LnRpdGxlIHx8ICcnKS50cmltKCksXG4gICAgICAgIGRlc2NyaXB0aW9uOiAocGFnZS5zZW8/LmRlc2NyaXB0aW9uIHx8ICcnKS50cmltKCksXG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgY29uc3QgbG9hZERlc2lnbkNvbGxlY3Rpb25zID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uc0FwaUJhc2UpIHtcbiAgICAgICAgZGVzaWduQ29sbGVjdGlvbnMgPSBbXTtcbiAgICAgICAgdXBkYXRlQ29sbGVjdGlvblNlbGVjdE9wdGlvbnMoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChjb2xsZWN0aW9uc0FwaUJhc2UsIHtcbiAgICAgICAgICBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIGNvbGxlY3Rpb25zLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gW10pO1xuICAgICAgICBkZXNpZ25Db2xsZWN0aW9ucyA9IEFycmF5LmlzQXJyYXkocGF5bG9hZCkgPyBwYXlsb2FkIDogW107XG4gICAgICAgIGNvbnN0IGN1cnJlbnRWYWx1ZSA9IGNvbGxlY3Rpb25TZWxlY3Q/LnZhbHVlIHx8ICcnO1xuICAgICAgICB1cGRhdGVDb2xsZWN0aW9uU2VsZWN0T3B0aW9ucyhjdXJyZW50VmFsdWUpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkZXNpZ25dIGNvbGxlY3Rpb25zIGxvYWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoJ0NvbGxlY3Rpb25zIGluZGlzcG9uaWJsZXMuJyk7XG4gICAgICAgIGRlc2lnbkNvbGxlY3Rpb25zID0gW107XG4gICAgICAgIHVwZGF0ZUNvbGxlY3Rpb25TZWxlY3RPcHRpb25zKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHN5bmNDb2xsZWN0aW9uU2VsZWN0aW9uSW5mbyA9IChjb2xsZWN0aW9uSWQpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvblNlbGVjdGlvbkluZm8pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFjb2xsZWN0aW9uSWQpIHtcbiAgICAgICAgY29sbGVjdGlvblNlbGVjdGlvbkluZm8udGV4dENvbnRlbnQgPSBkZXNpZ25Db2xsZWN0aW9ucy5sZW5ndGhcbiAgICAgICAgICA/ICdTXHUwMEU5bGVjdGlvbm5leiB1bmUgY29sbGVjdGlvbiBwb3VyIGFmZmljaGVyIHNlcyBpbmZvcm1hdGlvbnMuJ1xuICAgICAgICAgIDogJ0F1Y3VuZSBjb2xsZWN0aW9uIGRpc3BvbmlibGUuIEFqb3V0ZXotZW4gZGVwdWlzIGxcdTIwMTlvbmdsZXQgQ29udGVudXMuJztcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgZW50cnkgPSBkZXNpZ25Db2xsZWN0aW9ucy5maW5kKChjb2xsZWN0aW9uKSA9PiBjb2xsZWN0aW9uLmlkID09PSBjb2xsZWN0aW9uSWQpO1xuICAgICAgaWYgKCFlbnRyeSkge1xuICAgICAgICBjb2xsZWN0aW9uU2VsZWN0aW9uSW5mby50ZXh0Q29udGVudCA9IGBDb2xsZWN0aW9uICR7Y29sbGVjdGlvbklkfWA7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRldGFpbHMgPSBbXTtcbiAgICAgIGlmIChlbnRyeS5kZXNjcmlwdGlvbikge1xuICAgICAgICBkZXRhaWxzLnB1c2goZW50cnkuZGVzY3JpcHRpb24pO1xuICAgICAgfVxuICAgICAgaWYgKGVudHJ5LnR5cGUpIHtcbiAgICAgICAgZGV0YWlscy5wdXNoKGBUeXBlXHUwMEEwOiAke2VudHJ5LnR5cGV9YCk7XG4gICAgICB9XG4gICAgICBjb2xsZWN0aW9uU2VsZWN0aW9uSW5mby50ZXh0Q29udGVudCA9XG4gICAgICAgIGRldGFpbHMuam9pbignIFx1MDBCNyAnKSB8fCBgQ29sbGVjdGlvbiAke2VudHJ5Lm5hbWUgfHwgZW50cnkuaWR9YDtcbiAgICB9O1xuXG4gICAgY29uc3QgdXBkYXRlQ29sbGVjdGlvblNlbGVjdE9wdGlvbnMgPSAoc2VsZWN0ZWRWYWx1ZSA9ICcnKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25TZWxlY3QpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29sbGVjdGlvblNlbGVjdC5pbm5lckhUTUwgPSAnJztcbiAgICAgIGlmICghZGVzaWduQ29sbGVjdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgIGNvbGxlY3Rpb25TZWxlY3QuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgICAgb3B0aW9uLnZhbHVlID0gJyc7XG4gICAgICAgIG9wdGlvbi50ZXh0Q29udGVudCA9ICdBdWN1bmUgY29sbGVjdGlvbiBkaXNwb25pYmxlJztcbiAgICAgICAgY29sbGVjdGlvblNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb24pO1xuICAgICAgICBzeW5jQ29sbGVjdGlvblNlbGVjdGlvbkluZm8oJycpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb2xsZWN0aW9uU2VsZWN0LmRpc2FibGVkID0gZmFsc2U7XG4gICAgICBpZiAoc2VsZWN0ZWRWYWx1ZSAmJiAhZGVzaWduQ29sbGVjdGlvbnMuc29tZSgoZW50cnkpID0+IGVudHJ5LmlkID09PSBzZWxlY3RlZFZhbHVlKSkge1xuICAgICAgICBjb25zdCBmYWxsYmFja09wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICBmYWxsYmFja09wdGlvbi52YWx1ZSA9IHNlbGVjdGVkVmFsdWU7XG4gICAgICAgIGZhbGxiYWNrT3B0aW9uLnRleHRDb250ZW50ID0gc2VsZWN0ZWRWYWx1ZTtcbiAgICAgICAgY29sbGVjdGlvblNlbGVjdC5hcHBlbmRDaGlsZChmYWxsYmFja09wdGlvbik7XG4gICAgICB9XG4gICAgICBkZXNpZ25Db2xsZWN0aW9ucy5mb3JFYWNoKChjb2xsZWN0aW9uKSA9PiB7XG4gICAgICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICBvcHRpb24udmFsdWUgPSBjb2xsZWN0aW9uLmlkO1xuICAgICAgICBjb25zdCBsYWJlbCA9IGNvbGxlY3Rpb24ubmFtZSB8fCBjb2xsZWN0aW9uLmlkO1xuICAgICAgICBvcHRpb24udGV4dENvbnRlbnQgPSBjb2xsZWN0aW9uLnR5cGUgPyBgJHtsYWJlbH0gXHUwMEI3ICR7Y29sbGVjdGlvbi50eXBlfWAgOiBsYWJlbDtcbiAgICAgICAgb3B0aW9uLmRhdGFzZXQuZGVzY3JpcHRpb24gPSBjb2xsZWN0aW9uLmRlc2NyaXB0aW9uIHx8ICcnO1xuICAgICAgICBjb2xsZWN0aW9uU2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbik7XG4gICAgICB9KTtcbiAgICAgIGlmIChzZWxlY3RlZFZhbHVlKSB7XG4gICAgICAgIGNvbGxlY3Rpb25TZWxlY3QudmFsdWUgPSBzZWxlY3RlZFZhbHVlO1xuICAgICAgfVxuICAgICAgc3luY0NvbGxlY3Rpb25TZWxlY3Rpb25JbmZvKGNvbGxlY3Rpb25TZWxlY3QudmFsdWUgfHwgJycpO1xuICAgIH07XG5cbiAgICBsb2FkRGVzaWduQ29sbGVjdGlvbnMoKTtcbiAgICBzeW5jRHJhd2VyU3RhdGUoKTtcblxuICAgIGRyYXdlck9wZW5CdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlbkRyYXdlcik7XG4gICAgfSk7XG4gICAgZHJhd2VyQ2xvc2VCdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VEcmF3ZXIpO1xuICAgIH0pO1xuICAgIGRyYXdlckJhY2tkcm9wPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlRHJhd2VyKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgKCkgPT4ge1xuICAgICAgc3luY0RyYXdlclN0YXRlKCk7XG4gICAgICB1cGRhdGVEcmFnZ2FibGVTdGF0ZSgpO1xuICAgIH0pO1xuXG4gICAgYWRkUGFnZVRvZ2dsZT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuQWRkUGFnZUZvcm0pO1xuICAgIGFkZFBhZ2VDYW5jZWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VBZGRQYWdlRm9ybSk7XG4gICAgYWRkUGFnZVRpdGxlPy5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIHN5bmNTbHVnRnJvbVRpdGxlKTtcbiAgICBhZGRQYWdlU2x1Zz8uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgICBhZGRQYWdlRXJyb3IgJiYgKGFkZFBhZ2VFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICAgIHBhZ2VTbHVnTWFudWFsbHlFZGl0ZWQgPSB0cnVlO1xuICAgIH0pO1xuICAgIGFkZFBhZ2VGb3JtPy5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoIXBhZ2VzQXBpQmFzZSkge1xuICAgICAgICBhZGRQYWdlRXJyb3IgJiYgKGFkZFBhZ2VFcnJvci50ZXh0Q29udGVudCA9ICdBdWN1biBzaXRlIHNcdTAwRTlsZWN0aW9ublx1MDBFOS4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFhZGRQYWdlVGl0bGUgfHwgIWFkZFBhZ2VTbHVnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHRpdGxlID0gYWRkUGFnZVRpdGxlLnZhbHVlLnRyaW0oKTtcbiAgICAgIGNvbnN0IHNsdWcgPSBub3JtYWxpemVQYWdlU2x1ZyhhZGRQYWdlU2x1Zy52YWx1ZS50cmltKCkgfHwgdGl0bGUpO1xuICAgICAgaWYgKCF0aXRsZSB8fCAhc2x1Zykge1xuICAgICAgICBhZGRQYWdlRXJyb3IgJiYgKGFkZFBhZ2VFcnJvci50ZXh0Q29udGVudCA9ICdUaXRyZSBldCBzbHVnIHNvbnQgcmVxdWlzLicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhZGRQYWdlRXJyb3IgJiYgKGFkZFBhZ2VFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICAgIGlmIChhZGRQYWdlU3VibWl0QnV0dG9uKSB7XG4gICAgICAgIGFkZFBhZ2VTdWJtaXRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICBhZGRQYWdlU3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gJ0NyXHUwMEU5YXRpb24uLi4nO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgY3JlYXRlZFBhZ2UgPSBhd2FpdCBjcmVhdGVQYWdlT25TZXJ2ZXIoeyB0aXRsZSwgc2x1ZyB9KTtcbiAgICAgICAgaWYgKCFjcmVhdGVkUGFnZSB8fCAhY3JlYXRlZFBhZ2UuaWQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JcdTAwRTlwb25zZSBpbnZhbGlkZS4nKTtcbiAgICAgICAgfVxuICAgICAgICBwYWdlcyA9IFsuLi5wYWdlcywgbm9ybWFsaXplUGFnZURhdGEoY3JlYXRlZFBhZ2UpXTtcbiAgICAgICAgY2xvc2VBZGRQYWdlRm9ybSgpO1xuICAgICAgICBzaG93VG9hc3QoJ1BhZ2UgY3JcdTAwRTlcdTAwRTllJyk7XG4gICAgICAgIHNldEFjdGl2ZVBhZ2UoY3JlYXRlZFBhZ2UuaWQpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkZXNpZ25dIGNyZWF0ZSBwYWdlIGZhaWxlZCcsIGVycik7XG4gICAgICAgIGFkZFBhZ2VFcnJvciAmJiAoYWRkUGFnZUVycm9yLnRleHRDb250ZW50ID0gZXJyLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgY3JcdTAwRTllciBsYSBwYWdlLicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKGFkZFBhZ2VTdWJtaXRCdXR0b24pIHtcbiAgICAgICAgICBhZGRQYWdlU3VibWl0QnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgYWRkUGFnZVN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9ICdDclx1MDBFOWVyJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIGJsb2NrTGlicmFyeVRvZ2dsZT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgdG9nZ2xlQmxvY2tMaWJyYXJ5KCk7XG4gICAgfSk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIGlmICghYmxvY2tMaWJyYXJ5T3Blbikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoXG4gICAgICAgIGJsb2NrTGlicmFyeT8uY29udGFpbnMoZXZlbnQudGFyZ2V0KSB8fFxuICAgICAgICBibG9ja0xpYnJhcnlUb2dnbGU/LmNvbnRhaW5zKGV2ZW50LnRhcmdldClcbiAgICAgICkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjbG9zZUJsb2NrTGlicmFyeSgpO1xuICAgIH0pO1xuICAgIGJsb2NrQWRkQnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgY29uc3QgdHlwZSA9IGJ1dHRvbi5kYXRhc2V0LmJsb2NrQWRkO1xuICAgICAgICBhZGRCbG9ja0Zyb21MaWJyYXJ5KHR5cGUpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgYmxvY2tEZWxldGVDYW5jZWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY2xvc2VCbG9ja0RlbGV0ZU1vZGFsKCk7XG4gICAgfSk7XG4gICAgYmxvY2tEZWxldGVDb25maXJtPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGlmIChwZW5kaW5nRGVsZXRlQmxvY2tJZCkge1xuICAgICAgICBkZWxldGVCbG9ja0J5SWQocGVuZGluZ0RlbGV0ZUJsb2NrSWQpO1xuICAgICAgfVxuICAgICAgY2xvc2VCbG9ja0RlbGV0ZU1vZGFsKCk7XG4gICAgfSk7XG4gICAgYmxvY2tEZWxldGVNb2RhbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIGlmIChldmVudC50YXJnZXQgPT09IGJsb2NrRGVsZXRlTW9kYWwpIHtcbiAgICAgICAgY2xvc2VCbG9ja0RlbGV0ZU1vZGFsKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgYmxvY2tGb3JtPy5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIChldmVudCkgPT4ge1xuICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgaWYgKCF0YXJnZXQgfHwgIXRhcmdldC5uYW1lKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICh0YXJnZXQubmFtZSA9PT0gJ2dyb3VwLWNvbHVtbnMtbW9iaWxlJyB8fCB0YXJnZXQubmFtZSA9PT0gJ2dyb3VwLWNvbHVtbnMtZGVza3RvcCcpIHtcbiAgICAgICAgY29uc3QgbW9iaWxlVmFsdWUgPVxuICAgICAgICAgIGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImdyb3VwLWNvbHVtbnMtbW9iaWxlXCJdJyk/LnZhbHVlIHx8ICcxJztcbiAgICAgICAgY29uc3QgZGVza3RvcFZhbHVlID1cbiAgICAgICAgICBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJncm91cC1jb2x1bW5zLWRlc2t0b3BcIl0nKT8udmFsdWUgfHwgJzMnO1xuICAgICAgICB1cGRhdGVHcm91cE1pbmlQcmV2aWV3KG1vYmlsZVZhbHVlLCBkZXNrdG9wVmFsdWUpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbGxlY3Rpb25TZWxlY3Q/LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIChldmVudCkgPT4ge1xuICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgc3luY0NvbGxlY3Rpb25TZWxlY3Rpb25JbmZvKHRhcmdldD8udmFsdWUgfHwgJycpO1xuICAgIH0pO1xuICAgIGJsb2NrRm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgaGFuZGxlQmxvY2tGb3JtU3VibWl0KTtcbiAgICBibG9ja0Zvcm1DYW5jZWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgY29uc3QgYmxvY2sgPSBnZXRBY3RpdmVCbG9jaygpO1xuICAgICAgaWYgKGJsb2NrKSB7XG4gICAgICAgIHBvcHVsYXRlQmxvY2tGb3JtKGJsb2NrKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBwcmV2aWV3RnJhbWU/LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoKSA9PiB7XG4gICAgICBwcmV2aWV3UmVhZHkgPSB0cnVlO1xuICAgICAgdXBkYXRlUHJldmlld1N0YXR1cygnXHUwMEMwIGpvdXInKTtcbiAgICAgIGFwcGx5UHJldmlld0hpZ2hsaWdodChhY3RpdmVCbG9ja0lkKTtcbiAgICB9KTtcbiAgICBwcmV2aWV3T3BlbkJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBwcmV2aWV3V2luZG93ID0gd2luZG93Lm9wZW4oJycsICdfYmxhbmsnKTtcbiAgICAgIGlmICghcHJldmlld1dpbmRvdykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwcmV2aWV3V2luZG93Lm9wZW5lciA9IG51bGw7XG4gICAgICBjb25zdCBkb2MgPSBwcmV2aWV3V2luZG93LmRvY3VtZW50O1xuICAgICAgZG9jLm9wZW4oKTtcbiAgICAgIGRvYy53cml0ZShsYXRlc3RQcmV2aWV3SHRtbCB8fCBnZXRMb2FkaW5nUHJldmlld0h0bWwoKSk7XG4gICAgICBkb2MuY2xvc2UoKTtcbiAgICB9KTtcblxuICAgIC8vIFNFTyBwYW5lbCBsb2dpY1xuICAgIGNvbnN0IHRvZ2dsZVNlb1BhbmVsID0gKHNob3cpID0+IHtcbiAgICAgIGlmICghc2VvUGFuZWwpIHJldHVybjtcbiAgICAgIGlmIChzaG93KSB7XG4gICAgICAgIHNlb1BhbmVsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAvLyBQb3B1bGF0ZSBmaWVsZHMgd2l0aCBjdXJyZW50IHBhZ2UgU0VPIGRhdGFcbiAgICAgICAgaWYgKGN1cnJlbnRQYWdlKSB7XG4gICAgICAgICAgc2VvVGl0bGVJbnB1dCAmJiAoc2VvVGl0bGVJbnB1dC52YWx1ZSA9IGN1cnJlbnRQYWdlLnNlbz8udGl0bGUgfHwgJycpO1xuICAgICAgICAgIHNlb0Rlc2NyaXB0aW9uSW5wdXQgJiYgKHNlb0Rlc2NyaXB0aW9uSW5wdXQudmFsdWUgPSBjdXJyZW50UGFnZS5zZW8/LmRlc2NyaXB0aW9uIHx8ICcnKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2VvUGFuZWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBzZXRTZW9GZWVkYmFjayA9IChtZXNzYWdlLCB0b25lID0gJ211dGVkJykgPT4ge1xuICAgICAgaWYgKCFzZW9GZWVkYmFjaykgcmV0dXJuO1xuICAgICAgY29uc3QgY29sb3IgPSB0b25lID09PSAnc3VjY2VzcycgPyAndGV4dC1lbWVyYWxkLTYwMCcgOiB0b25lID09PSAnZXJyb3InID8gJ3RleHQtcm9zZS02MDAnIDogJ3RleHQtc2xhdGUtNTAwJztcbiAgICAgIHNlb0ZlZWRiYWNrLnRleHRDb250ZW50ID0gbWVzc2FnZSB8fCAnJztcbiAgICAgIHNlb0ZlZWRiYWNrLmNsYXNzTmFtZSA9IGB0ZXh0LXNtICR7Y29sb3J9YDtcbiAgICB9O1xuICAgIHNlb1RvZ2dsZUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBpc1Zpc2libGUgPSBzZW9QYW5lbCAmJiAhc2VvUGFuZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdoaWRkZW4nKTtcbiAgICAgIHRvZ2dsZVNlb1BhbmVsKCFpc1Zpc2libGUpO1xuICAgIH0pO1xuICAgIHNlb0Nsb3NlQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRvZ2dsZVNlb1BhbmVsKGZhbHNlKSk7XG4gICAgc2VvRm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSkge1xuICAgICAgICBzZXRTZW9GZWVkYmFjaygnQXVjdW5lIHBhZ2UgYWN0aXZlLicsICdlcnJvcicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZW9TYXZlQnV0dG9uICYmIChzZW9TYXZlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZSk7XG4gICAgICBzZXRTZW9GZWVkYmFjaygnJyk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBzZW9EYXRhID0ge1xuICAgICAgICAgIHRpdGxlOiAoc2VvVGl0bGVJbnB1dD8udmFsdWUgfHwgJycpLnRyaW0oKSxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogKHNlb0Rlc2NyaXB0aW9uSW5wdXQ/LnZhbHVlIHx8ICcnKS50cmltKCksXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRQYWdlID0geyAuLi5jdXJyZW50UGFnZSwgc2VvOiBzZW9EYXRhIH07XG4gICAgICAgIGNvbnN0IHNhdmVkID0gYXdhaXQgc2F2ZVBhZ2VUb1NlcnZlcih1cGRhdGVkUGFnZSk7XG4gICAgICAgIGlmIChzYXZlZCkge1xuICAgICAgICAgIGN1cnJlbnRQYWdlID0gc2F2ZWQ7XG4gICAgICAgICAgc2V0U2VvRmVlZGJhY2soJ1NFTyBlbnJlZ2lzdHJcdTAwRTkuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgICBzaG93VG9hc3QoJ1NFTyBtaXMgXHUwMEUwIGpvdXInKTtcbiAgICAgICAgICByZWZyZXNoUHJldmlldyhjdXJyZW50UGFnZSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbc2VvXSBzYXZlIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNldFNlb0ZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsYSBzYXV2ZWdhcmRlLicsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2VvU2F2ZUJ1dHRvbiAmJiAoc2VvU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGNvbnN0IGhhbmRsZUJsb2NrRHJhZ1N0YXJ0ID0gKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCBpdGVtID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLWJsb2NrLWl0ZW1dJyk7XG4gICAgICBpZiAoIWl0ZW0gfHwgIWlzRGVza3RvcFJlb3JkZXIoKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBkcmFnU291cmNlSWQgPSBpdGVtLmRhdGFzZXQuYmxvY2tJZCB8fCBudWxsO1xuICAgICAgaWYgKCFkcmFnU291cmNlSWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZXZlbnQuZGF0YVRyYW5zZmVyLmVmZmVjdEFsbG93ZWQgPSAnbW92ZSc7XG4gICAgICBldmVudC5kYXRhVHJhbnNmZXIuc2V0RGF0YSgndGV4dC9wbGFpbicsIGRyYWdTb3VyY2VJZCk7XG4gICAgICBpdGVtLmNsYXNzTGlzdC5hZGQoJ29wYWNpdHktNTAnKTtcbiAgICB9O1xuICAgIGNvbnN0IGNsZWFyRHJhZ0luZGljYXRvcnMgPSAoKSA9PiB7XG4gICAgICBibG9ja0xpc3RcbiAgICAgICAgPy5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1ibG9jay1pdGVtXScpXG4gICAgICAgIC5mb3JFYWNoKChub2RlKSA9PiBub2RlLmNsYXNzTGlzdC5yZW1vdmUoJ29wYWNpdHktNTAnLCAncmluZy0yJywgJ3JpbmctWyM5QzZCRkZdLzUwJykpO1xuICAgIH07XG4gICAgY29uc3QgaGFuZGxlQmxvY2tEcmFnRW5kID0gKCkgPT4ge1xuICAgICAgZHJhZ1NvdXJjZUlkID0gbnVsbDtcbiAgICAgIGNsZWFyRHJhZ0luZGljYXRvcnMoKTtcbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZUJsb2NrRHJhZ092ZXIgPSAoZXZlbnQpID0+IHtcbiAgICAgIGlmICghZHJhZ1NvdXJjZUlkIHx8ICFpc0Rlc2t0b3BSZW9yZGVyKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLWJsb2NrLWl0ZW1dJyk7XG4gICAgICBpZiAoIXRhcmdldCB8fCB0YXJnZXQuZGF0YXNldC5ibG9ja0lkID09PSBkcmFnU291cmNlSWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRhcmdldC5jbGFzc0xpc3QuYWRkKCdyaW5nLTInLCAncmluZy1bIzlDNkJGRl0vNTAnKTtcbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZUJsb2NrRHJhZ0xlYXZlID0gKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQuY2xvc2VzdCgnW2RhdGEtYmxvY2staXRlbV0nKTtcbiAgICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKCdyaW5nLTInLCAncmluZy1bIzlDNkJGRl0vNTAnKTtcbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZUJsb2NrRHJvcCA9IChldmVudCkgPT4ge1xuICAgICAgaWYgKCFkcmFnU291cmNlSWQgfHwgIWlzRGVza3RvcFJlb3JkZXIoKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLWJsb2NrLWl0ZW1dJyk7XG4gICAgICBjb25zdCBzb3VyY2UgPSBkcmFnU291cmNlSWQ7XG4gICAgICBkcmFnU291cmNlSWQgPSBudWxsO1xuICAgICAgY2xlYXJEcmFnSW5kaWNhdG9ycygpO1xuICAgICAgY29uc3QgdGFyZ2V0SWQgPSB0YXJnZXQ/LmRhdGFzZXQuYmxvY2tJZCB8fCBudWxsO1xuICAgICAgaWYgKCF0YXJnZXRJZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICByZW9yZGVyQmxvY2tzKHNvdXJjZSwgdGFyZ2V0SWQpO1xuICAgIH07XG4gICAgbGV0IGRyYWdTb3VyY2VJZCA9IG51bGw7XG4gICAgYmxvY2tMaXN0Py5hZGRFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCBoYW5kbGVCbG9ja0RyYWdTdGFydCk7XG4gICAgYmxvY2tMaXN0Py5hZGRFdmVudExpc3RlbmVyKCdkcmFnZW5kJywgaGFuZGxlQmxvY2tEcmFnRW5kKTtcbiAgICBibG9ja0xpc3Q/LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgaGFuZGxlQmxvY2tEcmFnT3Zlcik7XG4gICAgYmxvY2tMaXN0Py5hZGRFdmVudExpc3RlbmVyKCdkcmFnbGVhdmUnLCBoYW5kbGVCbG9ja0RyYWdMZWF2ZSk7XG4gICAgYmxvY2tMaXN0Py5hZGRFdmVudExpc3RlbmVyKCdkcm9wJywgaGFuZGxlQmxvY2tEcm9wKTtcbiAgICBsb2FkUGFnZXNGcm9tU2VydmVyKCk7XG4gIH1cblxuICBmdW5jdGlvbiBpbml0Q29udGVudFdvcmtzcGFjZSgpIHtcbiAgICBjb25zdCBjb2xsZWN0aW9uTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbGxlY3Rpb24tbGlzdF0nKTtcbiAgICBpZiAoIWNvbGxlY3Rpb25MaXN0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGNvbGxlY3Rpb25FbXB0eVN0YXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29sbGVjdGlvbi1lbXB0eV0nKTtcbiAgICBjb25zdCBjb2xsZWN0aW9uSXRlbXNFbXB0eSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbGxlY3Rpb24taXRlbXMtZW1wdHldJyk7XG4gICAgY29uc3QgaXRlbVRhYmxlV3JhcHBlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tdGFibGUtd3JhcHBlcl0nKTtcbiAgICBjb25zdCBpdGVtVGFibGVCb2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS10YWJsZS1ib2R5XScpO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25UaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbGxlY3Rpb24tdGl0bGVdJyk7XG4gICAgY29uc3QgY29sbGVjdGlvbkRlc2NyaXB0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29sbGVjdGlvbi1kZXNjcmlwdGlvbl0nKTtcbiAgICBjb25zdCBjb2xsZWN0aW9uRHJhd2VyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29sbGVjdGlvbi1kcmF3ZXJdJyk7XG4gICAgY29uc3QgY29sbGVjdGlvbkRyYXdlckJhY2tkcm9wID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29sbGVjdGlvbi1kcmF3ZXItYmFja2Ryb3BdJyk7XG4gICAgY29uc3QgY29sbGVjdGlvbkRyYXdlck9wZW5CdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtY29sbGVjdGlvbi1kcmF3ZXItb3Blbl0nKTtcbiAgICBjb25zdCBjb2xsZWN0aW9uRHJhd2VyQ2xvc2VCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtY29sbGVjdGlvbi1kcmF3ZXItY2xvc2VdJyk7XG4gICAgY29uc3QgaXRlbUFkZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tYWRkXScpO1xuICAgIGNvbnN0IGl0ZW1EZXRhaWxFbXB0eSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tZGV0YWlsLWVtcHR5XScpO1xuICAgIGNvbnN0IGl0ZW1Gb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS1mb3JtXScpO1xuICAgIGNvbnN0IGl0ZW1Gb3JtRmllbGRzID0gaXRlbUZvcm1cbiAgICAgID8ge1xuICAgICAgICAgIHRpdGxlOiBpdGVtRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cIml0ZW0tdGl0bGVcIl0nKSxcbiAgICAgICAgICBzbHVnOiBpdGVtRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cIml0ZW0tc2x1Z1wiXScpLFxuICAgICAgICAgIGV4Y2VycHQ6IGl0ZW1Gb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaXRlbS1leGNlcnB0XCJdJyksXG4gICAgICAgICAgY29udGVudDogaXRlbUZvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJpdGVtLWNvbnRlbnRcIl0nKSxcbiAgICAgICAgICBpbWFnZTogaXRlbUZvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJpdGVtLWltYWdlXCJdJyksXG4gICAgICAgICAgc3RhdHVzOiBpdGVtRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cIml0ZW0tc3RhdHVzXCJdJyksXG4gICAgICAgIH1cbiAgICAgIDoge307XG4gICAgY29uc3QgaXRlbVN0YXR1c0JhZGdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS1zdGF0dXMtYmFkZ2VdJyk7XG4gICAgY29uc3QgaXRlbURlbGV0ZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tZGVsZXRlXScpO1xuICAgIGNvbnN0IGl0ZW1EZWxldGVNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tZGVsZXRlLW1vZGFsXScpO1xuICAgIGNvbnN0IGl0ZW1EZWxldGVDYW5jZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLWRlbGV0ZS1jYW5jZWxdJyk7XG4gICAgY29uc3QgaXRlbURlbGV0ZUNvbmZpcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLWRlbGV0ZS1jb25maXJtXScpO1xuICAgIGNvbnN0IGl0ZW1Gb3JtQ2FuY2VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS1jYW5jZWxdJyk7XG4gICAgY29uc3QgaXRlbUZvcm1TYXZlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS1zYXZlXScpO1xuICAgIGNvbnN0IHN0YXR1c0JhZGdlQmFzZUNsYXNzID0gJ3JvdW5kZWQtZnVsbCBweC0zIHB5LTEgdGV4dC14cyBmb250LXNlbWlib2xkJztcblxuICAgIGNvbnN0IHNhZmVTaXRlU2x1Z1ZhbHVlID0gc3RyaXBMZWFkaW5nU2xhc2goXG4gICAgICB3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnLFxuICAgICk7XG4gICAgY29uc3QgY29sbGVjdGlvbnNBcGlCYXNlID0gc2FmZVNpdGVTbHVnVmFsdWVcbiAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnVmFsdWUpfS9jb2xsZWN0aW9uc2BcbiAgICAgIDogbnVsbDtcblxuICAgIGxldCBjb2xsZWN0aW9ucyA9IFtdO1xuICAgIGxldCBjb2xsZWN0aW9uSXRlbXMgPSBbXTtcbiAgICBsZXQgYWN0aXZlQ29sbGVjdGlvbklkID0gbnVsbDtcbiAgICBsZXQgYWN0aXZlSXRlbUlkID0gbnVsbDtcbiAgICBsZXQgaXNDcmVhdGluZ0l0ZW0gPSBmYWxzZTtcbiAgICBsZXQgaXRlbVNsdWdNYW51YWxseUVkaXRlZCA9IGZhbHNlO1xuICAgIGxldCBwZW5kaW5nRGVsZXRlSXRlbUlkID0gbnVsbDtcblxuICAgIGNvbnN0IG9wZW5Db2xsZWN0aW9uRHJhd2VyID0gKCkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uRHJhd2VyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbGxlY3Rpb25EcmF3ZXIuY2xhc3NMaXN0LmFkZCgnaXMtb3BlbicpO1xuICAgICAgY29sbGVjdGlvbkRyYXdlci5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWCgwKSc7XG4gICAgICBjb2xsZWN0aW9uRHJhd2VyQmFja2Ryb3A/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICB9O1xuXG4gICAgY29uc3QgY2xvc2VDb2xsZWN0aW9uRHJhd2VyID0gKCkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uRHJhd2VyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbGxlY3Rpb25EcmF3ZXIuY2xhc3NMaXN0LnJlbW92ZSgnaXMtb3BlbicpO1xuICAgICAgY29sbGVjdGlvbkRyYXdlci5zdHlsZS50cmFuc2Zvcm0gPSAnJztcbiAgICAgIGNvbGxlY3Rpb25EcmF3ZXJCYWNrZHJvcD8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ292ZXJmbG93LWhpZGRlbicpO1xuICAgIH07XG5cbiAgICBjb2xsZWN0aW9uRHJhd2VyT3BlbkJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuQ29sbGVjdGlvbkRyYXdlcik7XG4gICAgfSk7XG4gICAgY29sbGVjdGlvbkRyYXdlckNsb3NlQnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlQ29sbGVjdGlvbkRyYXdlcik7XG4gICAgfSk7XG4gICAgY29sbGVjdGlvbkRyYXdlckJhY2tkcm9wPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlQ29sbGVjdGlvbkRyYXdlcik7XG5cbiAgICBjb25zdCBub3JtYWxpemVJdGVtU2x1Z0lucHV0ID0gKHZhbHVlKSA9PiB7XG4gICAgICBjb25zdCByYXcgPSAodmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgIGlmICghcmF3KSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICAgIH1cbiAgICAgIGlmIChyYXcgPT09ICcvJykge1xuICAgICAgICByZXR1cm4gJy8nO1xuICAgICAgfVxuICAgICAgY29uc3Qgc2VnbWVudHMgPSByYXcucmVwbGFjZSgvXlxcLy8sICcnKS5zcGxpdCgnLycpO1xuICAgICAgY29uc3QgY2xlYW5lZFNlZ21lbnRzID0gc2VnbWVudHNcbiAgICAgICAgLm1hcCgoc2VnbWVudCkgPT4gd29ya3NwYWNlU2x1Z2lmeShzZWdtZW50IHx8ICcnKSlcbiAgICAgICAgLmZpbHRlcigoc2VnbWVudCkgPT4gc2VnbWVudC5sZW5ndGggPiAwKTtcbiAgICAgIGlmICghY2xlYW5lZFNlZ21lbnRzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgICB9XG4gICAgICByZXR1cm4gYC8ke2NsZWFuZWRTZWdtZW50cy5qb2luKCcvJyl9YDtcbiAgICB9O1xuXG4gICAgY29uc3QgZm9ybWF0SXRlbURhdGUgPSAodmFsdWUpID0+IHtcbiAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuICdcdTIwMTQnO1xuICAgICAgfVxuICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKHZhbHVlKTtcbiAgICAgIGlmIChOdW1iZXIuaXNOYU4oZGF0ZS5nZXRUaW1lKCkpKSB7XG4gICAgICAgIHJldHVybiAnXHUyMDE0JztcbiAgICAgIH1cbiAgICAgIHJldHVybiBkYXRlLnRvTG9jYWxlRGF0ZVN0cmluZygnZnItRlInLCB7IGRheTogJzItZGlnaXQnLCBtb250aDogJ3Nob3J0JywgeWVhcjogJ251bWVyaWMnIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCB1cGRhdGVDb2xsZWN0aW9uSGVhZGVyID0gKCkgPT4ge1xuICAgICAgY29uc3QgY29sbGVjdGlvbiA9IGNvbGxlY3Rpb25zLmZpbmQoKGVudHJ5KSA9PiBlbnRyeS5pZCA9PT0gYWN0aXZlQ29sbGVjdGlvbklkKTtcbiAgICAgIGlmIChjb2xsZWN0aW9uVGl0bGUpIHtcbiAgICAgICAgY29sbGVjdGlvblRpdGxlLnRleHRDb250ZW50ID0gY29sbGVjdGlvbj8ubmFtZSB8fCAnU1x1MDBFOWxlY3Rpb25uZXogdW5lIGNvbGxlY3Rpb24nO1xuICAgICAgfVxuICAgICAgaWYgKGNvbGxlY3Rpb25EZXNjcmlwdGlvbikge1xuICAgICAgICBjb2xsZWN0aW9uRGVzY3JpcHRpb24udGV4dENvbnRlbnQgPSBjb2xsZWN0aW9uPy5kZXNjcmlwdGlvbiB8fCAnJztcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgdXBkYXRlSXRlbXNFbXB0eU1lc3NhZ2UgPSAobWVzc2FnZSkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uSXRlbXNFbXB0eSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb2xsZWN0aW9uSXRlbXNFbXB0eS50ZXh0Q29udGVudCA9XG4gICAgICAgIG1lc3NhZ2UgfHxcbiAgICAgICAgKGFjdGl2ZUNvbGxlY3Rpb25JZFxuICAgICAgICAgID8gJ0F1Y3VuIGl0ZW0gZGFucyBjZXR0ZSBjb2xsZWN0aW9uIHBvdXIgbGUgbW9tZW50LidcbiAgICAgICAgICA6ICdDaG9pc2lzc2V6IHVuZSBjb2xsZWN0aW9uIGRhbnMgbGUgcGFubmVhdSBkZSBnYXVjaGUuJyk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhpZGVJdGVtRm9ybSA9ICgpID0+IHtcbiAgICAgIGlmIChpdGVtRm9ybSkge1xuICAgICAgICBpdGVtRm9ybS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgaXRlbUZvcm0uZGF0YXNldC5pdGVtSWQgPSAnJztcbiAgICAgIH1cbiAgICAgIGl0ZW1EZXRhaWxFbXB0eT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBpZiAoaXRlbVN0YXR1c0JhZGdlKSB7XG4gICAgICAgIGl0ZW1TdGF0dXNCYWRnZS5jbGFzc05hbWUgPSBgaGlkZGVuICR7c3RhdHVzQmFkZ2VCYXNlQ2xhc3N9YDtcbiAgICAgICAgaXRlbVN0YXR1c0JhZGdlLnRleHRDb250ZW50ID0gJyc7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbURlbGV0ZUJ1dHRvbikge1xuICAgICAgICBpdGVtRGVsZXRlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3Qgc2hvd0l0ZW1Gb3JtID0gKCkgPT4ge1xuICAgICAgaWYgKCFpdGVtRm9ybSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpdGVtRm9ybS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGl0ZW1EZXRhaWxFbXB0eT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgfTtcblxuICAgIGNvbnN0IHN5bmNBZGRCdXR0b25TdGF0ZSA9ICgpID0+IHtcbiAgICAgIGlmICghaXRlbUFkZEJ1dHRvbikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpdGVtQWRkQnV0dG9uLmRpc2FibGVkID0gIWFjdGl2ZUNvbGxlY3Rpb25JZDtcbiAgICAgIGlmIChpdGVtQWRkQnV0dG9uLmRpc2FibGVkKSB7XG4gICAgICAgIGl0ZW1BZGRCdXR0b24uY2xhc3NMaXN0LmFkZCgnb3BhY2l0eS02MCcsICdwb2ludGVyLWV2ZW50cy1ub25lJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpdGVtQWRkQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ29wYWNpdHktNjAnLCAncG9pbnRlci1ldmVudHMtbm9uZScpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBzeW5jSXRlbVN0YXR1c0JhZGdlID0gKHN0YXR1cykgPT4ge1xuICAgICAgaWYgKCFpdGVtU3RhdHVzQmFkZ2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFzdGF0dXMpIHtcbiAgICAgICAgaXRlbVN0YXR1c0JhZGdlLmNsYXNzTmFtZSA9IGBoaWRkZW4gJHtzdGF0dXNCYWRnZUJhc2VDbGFzc31gO1xuICAgICAgICBpdGVtU3RhdHVzQmFkZ2UudGV4dENvbnRlbnQgPSAnJztcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IHN0YXR1cy50b0xvd2VyQ2FzZSgpO1xuICAgICAgbGV0IGNvbG9yQ2xhc3MgPSAnYmctc2xhdGUtMTAwIHRleHQtc2xhdGUtNjAwIGJvcmRlciBib3JkZXItc2xhdGUtMjAwJztcbiAgICAgIGlmIChub3JtYWxpemVkID09PSAncHVibGlcdTAwRTknIHx8IG5vcm1hbGl6ZWQgPT09ICdwdWJsaWUnKSB7XG4gICAgICAgIGNvbG9yQ2xhc3MgPSAnYmctZW1lcmFsZC01MCB0ZXh0LWVtZXJhbGQtNzAwIGJvcmRlciBib3JkZXItZW1lcmFsZC0xMDAnO1xuICAgICAgfSBlbHNlIGlmIChub3JtYWxpemVkID09PSAnYnJvdWlsbG9uJykge1xuICAgICAgICBjb2xvckNsYXNzID0gJ2JnLWFtYmVyLTUwIHRleHQtYW1iZXItNzAwIGJvcmRlciBib3JkZXItYW1iZXItMTAwJztcbiAgICAgIH1cbiAgICAgIGl0ZW1TdGF0dXNCYWRnZS5jbGFzc05hbWUgPSBgJHtzdGF0dXNCYWRnZUJhc2VDbGFzc30gJHtjb2xvckNsYXNzfWA7XG4gICAgICBpdGVtU3RhdHVzQmFkZ2UudGV4dENvbnRlbnQgPSBzdGF0dXM7XG4gICAgfTtcblxuICAgIGNvbnN0IHJlbmRlckNvbGxlY3Rpb25MaXN0ID0gKCkgPT4ge1xuICAgICAgY29sbGVjdGlvbkxpc3QuaW5uZXJIVE1MID0gJyc7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25zLmxlbmd0aCkge1xuICAgICAgICBjb2xsZWN0aW9uRW1wdHlTdGF0ZT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbGxlY3Rpb25FbXB0eVN0YXRlPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGNvbGxlY3Rpb25zLmZvckVhY2goKGNvbGxlY3Rpb24pID0+IHtcbiAgICAgICAgY29uc3QgaXNBY3RpdmUgPSBjb2xsZWN0aW9uLmlkID09PSBhY3RpdmVDb2xsZWN0aW9uSWQ7XG4gICAgICAgIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICBidXR0b24udHlwZSA9ICdidXR0b24nO1xuICAgICAgICBidXR0b24uZGF0YXNldC5jb2xsZWN0aW9uSWQgPSBjb2xsZWN0aW9uLmlkO1xuICAgICAgICBidXR0b24uY2xhc3NOYW1lID0gW1xuICAgICAgICAgICd3LWZ1bGwgcm91bmRlZC14bCBib3JkZXIgcHgtMyBweS0yIHRleHQtbGVmdCB0cmFuc2l0aW9uIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1bIzlDNkJGRl0vNDAnLFxuICAgICAgICAgIGlzQWN0aXZlXG4gICAgICAgICAgICA/ICdiZy1bI0Y3RjBGRl0gYm9yZGVyLVsjOUM2QkZGXS80MCB0ZXh0LXNsYXRlLTkwMCdcbiAgICAgICAgICAgIDogJ2JvcmRlci1zbGF0ZS0yMDAgdGV4dC1zbGF0ZS03MDAgaG92ZXI6Ym9yZGVyLVsjOUM2QkZGXS80MCcsXG4gICAgICAgIF0uam9pbignICcpO1xuICAgICAgICBidXR0b24uc2V0QXR0cmlidXRlKCdyb2xlJywgJ29wdGlvbicpO1xuICAgICAgICBpZiAoaXNBY3RpdmUpIHtcbiAgICAgICAgICBidXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLWN1cnJlbnQnLCAndHJ1ZScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGJ1dHRvbi5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtY3VycmVudCcpO1xuICAgICAgICB9XG4gICAgICAgIGJ1dHRvbi5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBnYXAtMlwiPlxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXNtIGZvbnQtc2VtaWJvbGRcIj4ke2NvbGxlY3Rpb24ubmFtZSB8fCBjb2xsZWN0aW9uLmlkfTwvcD5cbiAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNTAwXCI+JHtjb2xsZWN0aW9uLmRlc2NyaXB0aW9uIHx8ICcnfTwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LVsxMXB4XSB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZSB0ZXh0LXNsYXRlLTQwMFwiPiR7Y29sbGVjdGlvbi50eXBlIHx8ICcnfTwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgYDtcbiAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgIHNldEFjdGl2ZUNvbGxlY3Rpb24oY29sbGVjdGlvbi5pZCk7XG4gICAgICAgICAgaWYgKCF3aW5kb3cubWF0Y2hNZWRpYSgnKG1pbi13aWR0aDogMTAyNHB4KScpLm1hdGNoZXMpIHtcbiAgICAgICAgICAgIGNsb3NlQ29sbGVjdGlvbkRyYXdlcigpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGNvbGxlY3Rpb25MaXN0LmFwcGVuZENoaWxkKGJ1dHRvbik7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgcmVuZGVySXRlbVRhYmxlID0gKCkgPT4ge1xuICAgICAgaWYgKCFpdGVtVGFibGVCb2R5KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGl0ZW1UYWJsZUJvZHkuaW5uZXJIVE1MID0gJyc7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25JdGVtcy5sZW5ndGggfHwgIWFjdGl2ZUNvbGxlY3Rpb25JZCkge1xuICAgICAgICBjb2xsZWN0aW9uSXRlbXNFbXB0eT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIHVwZGF0ZUl0ZW1zRW1wdHlNZXNzYWdlKCk7XG4gICAgICAgIGl0ZW1UYWJsZVdyYXBwZXI/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb2xsZWN0aW9uSXRlbXNFbXB0eT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBpdGVtVGFibGVXcmFwcGVyPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGNvbGxlY3Rpb25JdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgIGNvbnN0IHJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyJyk7XG4gICAgICAgIHJvdy5kYXRhc2V0Lml0ZW1JZCA9IGl0ZW0uaWQ7XG4gICAgICAgIGNvbnN0IGlzQWN0aXZlID0gaXRlbS5pZCA9PT0gYWN0aXZlSXRlbUlkICYmICFpc0NyZWF0aW5nSXRlbTtcbiAgICAgICAgcm93LmNsYXNzTmFtZSA9IFtcbiAgICAgICAgICAnY3Vyc29yLXBvaW50ZXIgdHJhbnNpdGlvbiBmb2N1cy13aXRoaW46YmctWyNGN0YwRkZdLzcwIGZvY3VzOm91dGxpbmUtbm9uZScsXG4gICAgICAgICAgaXNBY3RpdmUgPyAnYmctWyNGN0YwRkZdLzcwJyA6ICdob3ZlcjpiZy1zbGF0ZS01MCcsXG4gICAgICAgIF0uam9pbignICcpO1xuICAgICAgICByb3cudGFiSW5kZXggPSAwO1xuICAgICAgICByb3cuc2V0QXR0cmlidXRlKCdyb2xlJywgJ2J1dHRvbicpO1xuICAgICAgICBpZiAoaXNBY3RpdmUpIHtcbiAgICAgICAgICByb3cuc2V0QXR0cmlidXRlKCdhcmlhLWN1cnJlbnQnLCAndHJ1ZScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJvdy5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtY3VycmVudCcpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHN0YXR1cyA9IGl0ZW0uc3RhdHVzIHx8ICdCcm91aWxsb24nO1xuICAgICAgICBjb25zdCBub3JtYWxpemVkID0gc3RhdHVzLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGNvbnN0IHN0YXR1c0NsYXNzZXMgPVxuICAgICAgICAgIG5vcm1hbGl6ZWQgPT09ICdwdWJsaVx1MDBFOScgfHwgbm9ybWFsaXplZCA9PT0gJ3B1YmxpZSdcbiAgICAgICAgICAgID8gJ2JnLWVtZXJhbGQtNTAgdGV4dC1lbWVyYWxkLTcwMCBib3JkZXIgYm9yZGVyLWVtZXJhbGQtMTAwJ1xuICAgICAgICAgICAgOiAnYmctYW1iZXItNTAgdGV4dC1hbWJlci03MDAgYm9yZGVyIGJvcmRlci1hbWJlci0xMDAnO1xuICAgICAgICByb3cuaW5uZXJIVE1MID0gYFxuICAgICAgICAgIDx0ZCBjbGFzcz1cInB4LTQgcHktMyBhbGlnbi10b3BcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC1zbSBmb250LXNlbWlib2xkIHRleHQtc2xhdGUtOTAwXCI+JHtpdGVtLnRpdGxlIHx8ICdTYW5zIHRpdHJlJ308L3NwYW4+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC14cyB0ZXh0LXNsYXRlLTUwMFwiPiR7aXRlbS5zdW1tYXJ5IHx8IGl0ZW0uZXhjZXJwdCB8fCAnJ308L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L3RkPlxuICAgICAgICAgIDx0ZCBjbGFzcz1cInB4LTQgcHktMyBhbGlnbi10b3AgdGV4dC1zbSB0ZXh0LXNsYXRlLTYwMFwiPiR7aXRlbS5zbHVnIHx8ICcnfTwvdGQ+XG4gICAgICAgICAgPHRkIGNsYXNzPVwicHgtNCBweS0zIGFsaWduLXRvcFwiPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgcm91bmRlZC1mdWxsIHB4LTMgcHktMSB0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgJHtzdGF0dXNDbGFzc2VzfVwiPlxuICAgICAgICAgICAgICAke3N0YXR1c31cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L3RkPlxuICAgICAgICAgIDx0ZCBjbGFzcz1cInB4LTQgcHktMyBhbGlnbi10b3AgdGV4dC1zbSB0ZXh0LXNsYXRlLTUwMFwiPiR7Zm9ybWF0SXRlbURhdGUoXG4gICAgICAgICAgICBpdGVtLnVwZGF0ZWRBdCB8fCBpdGVtLmNyZWF0ZWRBdCxcbiAgICAgICAgICApfTwvdGQ+XG4gICAgICAgIGA7XG4gICAgICAgIGNvbnN0IGhhbmRsZVNlbGVjdCA9ICgpID0+IHtcbiAgICAgICAgICBzZWxlY3RJdGVtKGl0ZW0uaWQpO1xuICAgICAgICB9O1xuICAgICAgICByb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVTZWxlY3QpO1xuICAgICAgICByb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldmVudCkgPT4ge1xuICAgICAgICAgIGlmIChldmVudC5rZXkgPT09ICdFbnRlcicgfHwgZXZlbnQua2V5ID09PSAnICcpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBoYW5kbGVTZWxlY3QoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpdGVtVGFibGVCb2R5LmFwcGVuZENoaWxkKHJvdyk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgY29uc3Qgc2VsZWN0SXRlbSA9IChpdGVtSWQpID0+IHtcbiAgICAgIGNvbnN0IGl0ZW0gPSBjb2xsZWN0aW9uSXRlbXMuZmluZCgoZW50cnkpID0+IGVudHJ5LmlkID09PSBpdGVtSWQpO1xuICAgICAgaWYgKCFpdGVtKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGFjdGl2ZUl0ZW1JZCA9IGl0ZW0uaWQ7XG4gICAgICBpc0NyZWF0aW5nSXRlbSA9IGZhbHNlO1xuICAgICAgaXRlbVNsdWdNYW51YWxseUVkaXRlZCA9IHRydWU7XG4gICAgICBwb3B1bGF0ZUl0ZW1Gb3JtKGl0ZW0pO1xuICAgICAgcmVuZGVySXRlbVRhYmxlKCk7XG4gICAgfTtcblxuICAgIGNvbnN0IHBvcHVsYXRlSXRlbUZvcm0gPSAoaXRlbSkgPT4ge1xuICAgICAgaWYgKCFpdGVtRm9ybSB8fCAhaXRlbSkge1xuICAgICAgICBoaWRlSXRlbUZvcm0oKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2hvd0l0ZW1Gb3JtKCk7XG4gICAgICBpdGVtRm9ybS5kYXRhc2V0Lml0ZW1JZCA9IGl0ZW0uaWQ7XG4gICAgICBpZiAoaXRlbUZvcm1GaWVsZHMudGl0bGUpIHtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMudGl0bGUudmFsdWUgPSBpdGVtLnRpdGxlIHx8ICcnO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1Gb3JtRmllbGRzLnNsdWcpIHtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMuc2x1Zy52YWx1ZSA9IGl0ZW0uc2x1ZyB8fCAnJztcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtRm9ybUZpZWxkcy5leGNlcnB0KSB7XG4gICAgICAgIGl0ZW1Gb3JtRmllbGRzLmV4Y2VycHQudmFsdWUgPSBpdGVtLnN1bW1hcnkgfHwgaXRlbS5leGNlcnB0IHx8ICcnO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1Gb3JtRmllbGRzLmNvbnRlbnQpIHtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMuY29udGVudC52YWx1ZSA9IGl0ZW0uY29udGVudCB8fCAnJztcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtRm9ybUZpZWxkcy5pbWFnZSkge1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy5pbWFnZS52YWx1ZSA9IGl0ZW0uaW1hZ2UgfHwgJyc7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbUZvcm1GaWVsZHMuc3RhdHVzKSB7XG4gICAgICAgIGl0ZW1Gb3JtRmllbGRzLnN0YXR1cy52YWx1ZSA9IGl0ZW0uc3RhdHVzIHx8ICdCcm91aWxsb24nO1xuICAgICAgfVxuICAgICAgc3luY0l0ZW1TdGF0dXNCYWRnZShpdGVtLnN0YXR1cyB8fCAnQnJvdWlsbG9uJyk7XG4gICAgICBpZiAoaXRlbURlbGV0ZUJ1dHRvbikge1xuICAgICAgICBpdGVtRGVsZXRlQnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHByZXBhcmVOZXdJdGVtRm9ybSA9ICgpID0+IHtcbiAgICAgIGlmICghaXRlbUZvcm0pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaXNDcmVhdGluZ0l0ZW0gPSB0cnVlO1xuICAgICAgYWN0aXZlSXRlbUlkID0gbnVsbDtcbiAgICAgIGl0ZW1TbHVnTWFudWFsbHlFZGl0ZWQgPSBmYWxzZTtcbiAgICAgIGl0ZW1Gb3JtLmRhdGFzZXQuaXRlbUlkID0gJyc7XG4gICAgICBpdGVtRm9ybS5yZXNldCgpO1xuICAgICAgaWYgKGl0ZW1Gb3JtRmllbGRzLnN0YXR1cykge1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy5zdGF0dXMudmFsdWUgPSAnQnJvdWlsbG9uJztcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtRm9ybUZpZWxkcy5zbHVnKSB7XG4gICAgICAgIGl0ZW1Gb3JtRmllbGRzLnNsdWcudmFsdWUgPSAnJztcbiAgICAgIH1cbiAgICAgIHN5bmNJdGVtU3RhdHVzQmFkZ2UoJ0Jyb3VpbGxvbicpO1xuICAgICAgc2hvd0l0ZW1Gb3JtKCk7XG4gICAgICBpZiAoaXRlbURlbGV0ZUJ1dHRvbikge1xuICAgICAgICBpdGVtRGVsZXRlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGl0ZW1Gb3JtRmllbGRzLnRpdGxlPy5mb2N1cygpO1xuICAgIH07XG5cbiAgICBjb25zdCBjb2xsZWN0SXRlbUZvcm1WYWx1ZXMgPSAoKSA9PiB7XG4gICAgICBjb25zdCB0aXRsZSA9IChpdGVtRm9ybUZpZWxkcy50aXRsZT8udmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgIGNvbnN0IHNsdWdJbnB1dCA9IChpdGVtRm9ybUZpZWxkcy5zbHVnPy52YWx1ZSB8fCAnJykudHJpbSgpO1xuICAgICAgY29uc3Qgc3VtbWFyeSA9IChpdGVtRm9ybUZpZWxkcy5leGNlcnB0Py52YWx1ZSB8fCAnJykudHJpbSgpO1xuICAgICAgY29uc3QgY29udGVudCA9IChpdGVtRm9ybUZpZWxkcy5jb250ZW50Py52YWx1ZSB8fCAnJykudHJpbSgpO1xuICAgICAgY29uc3QgaW1hZ2UgPSAoaXRlbUZvcm1GaWVsZHMuaW1hZ2U/LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICBjb25zdCBzdGF0dXMgPSBpdGVtRm9ybUZpZWxkcy5zdGF0dXM/LnZhbHVlIHx8ICdCcm91aWxsb24nO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdGl0bGUsXG4gICAgICAgIHNsdWc6IHNsdWdJbnB1dCA/IG5vcm1hbGl6ZUl0ZW1TbHVnSW5wdXQoc2x1Z0lucHV0KSA6IG5vcm1hbGl6ZUl0ZW1TbHVnSW5wdXQodGl0bGUpLFxuICAgICAgICBzdW1tYXJ5LFxuICAgICAgICBleGNlcnB0OiBzdW1tYXJ5LFxuICAgICAgICBjb250ZW50LFxuICAgICAgICBpbWFnZSxcbiAgICAgICAgc3RhdHVzLFxuICAgICAgfTtcbiAgICB9O1xuXG4gICAgY29uc3Qgc2V0Rm9ybVNhdmluZ1N0YXRlID0gKGlzU2F2aW5nKSA9PiB7XG4gICAgICBpZiAoaXRlbUZvcm1TYXZlKSB7XG4gICAgICAgIGl0ZW1Gb3JtU2F2ZS5kaXNhYmxlZCA9IGlzU2F2aW5nO1xuICAgICAgICBpdGVtRm9ybVNhdmUudGV4dENvbnRlbnQgPSBpc1NhdmluZyA/ICdFbnJlZ2lzdHJlbWVudFx1MjAyNicgOiAnRW5yZWdpc3RyZXInO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1EZWxldGVCdXR0b24gJiYgIWlzQ3JlYXRpbmdJdGVtICYmIGFjdGl2ZUl0ZW1JZCkge1xuICAgICAgICBpdGVtRGVsZXRlQnV0dG9uLmRpc2FibGVkID0gaXNTYXZpbmc7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGZldGNoQ29sbGVjdGlvbkl0ZW1zID0gYXN5bmMgKGNvbGxlY3Rpb25JZCkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uc0FwaUJhc2UpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgYCR7Y29sbGVjdGlvbnNBcGlCYXNlfS8ke2VuY29kZVVSSUNvbXBvbmVudChjb2xsZWN0aW9uSWQpfS9pdGVtc2AsXG4gICAgICAgIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0sXG4gICAgICApO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IocGF5bG9hZC5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIGl0ZW1zLicpO1xuICAgICAgfVxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KGRhdGEuaXRlbXMpID8gZGF0YS5pdGVtcyA6IFtdO1xuICAgIH07XG5cbiAgICBjb25zdCBzZXRBY3RpdmVDb2xsZWN0aW9uID0gYXN5bmMgKGNvbGxlY3Rpb25JZCkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uSWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYWN0aXZlQ29sbGVjdGlvbklkID0gY29sbGVjdGlvbklkO1xuICAgICAgYWN0aXZlSXRlbUlkID0gbnVsbDtcbiAgICAgIGlzQ3JlYXRpbmdJdGVtID0gZmFsc2U7XG4gICAgICBpdGVtU2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gICAgICB1cGRhdGVDb2xsZWN0aW9uSGVhZGVyKCk7XG4gICAgICBzeW5jQWRkQnV0dG9uU3RhdGUoKTtcbiAgICAgIHJlbmRlckNvbGxlY3Rpb25MaXN0KCk7XG4gICAgICBoaWRlSXRlbUZvcm0oKTtcbiAgICAgIGNvbGxlY3Rpb25JdGVtcyA9IFtdO1xuICAgICAgcmVuZGVySXRlbVRhYmxlKCk7XG4gICAgICB1cGRhdGVJdGVtc0VtcHR5TWVzc2FnZSgnQ2hhcmdlbWVudCBkZXMgaXRlbXNcdTIwMjYnKTtcbiAgICAgIGNvbGxlY3Rpb25JdGVtc0VtcHR5Py5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGl0ZW1UYWJsZVdyYXBwZXI/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgaWYgKCFjb2xsZWN0aW9uc0FwaUJhc2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29sbGVjdGlvbkl0ZW1zID0gYXdhaXQgZmV0Y2hDb2xsZWN0aW9uSXRlbXMoY29sbGVjdGlvbklkKTtcbiAgICAgICAgcmVuZGVySXRlbVRhYmxlKCk7XG4gICAgICAgIGlmICghY29sbGVjdGlvbkl0ZW1zLmxlbmd0aCkge1xuICAgICAgICAgIHVwZGF0ZUl0ZW1zRW1wdHlNZXNzYWdlKCk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbY29udGVudF0gaXRlbXMgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIGl0ZW1zLicpO1xuICAgICAgICBjb2xsZWN0aW9uSXRlbXMgPSBbXTtcbiAgICAgICAgcmVuZGVySXRlbVRhYmxlKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGNyZWF0ZUNvbGxlY3Rpb25JdGVtID0gYXN5bmMgKGNvbGxlY3Rpb25JZCwgcGF5bG9hZCkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uc0FwaUJhc2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTaXRlIGluY29ubnUuJyk7XG4gICAgICB9XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgICBgJHtjb2xsZWN0aW9uc0FwaUJhc2V9LyR7ZW5jb2RlVVJJQ29tcG9uZW50KGNvbGxlY3Rpb25JZCl9L2l0ZW1zYCxcbiAgICAgICAge1xuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICB9LFxuICAgICAgKTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGRhdGEubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBjclx1MDBFOWVyIGNldCBpdGVtLicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICB9O1xuXG4gICAgY29uc3QgdXBkYXRlQ29sbGVjdGlvbkl0ZW0gPSBhc3luYyAoY29sbGVjdGlvbklkLCBpdGVtSWQsIHBheWxvYWQpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvbnNBcGlCYXNlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignU2l0ZSBpbmNvbm51LicpO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgYCR7Y29sbGVjdGlvbnNBcGlCYXNlfS8ke2VuY29kZVVSSUNvbXBvbmVudChjb2xsZWN0aW9uSWQpfS9pdGVtcy8ke2VuY29kZVVSSUNvbXBvbmVudChpdGVtSWQpfWAsXG4gICAgICAgIHtcbiAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICB9LFxuICAgICAgKTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGRhdGEubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBzYXV2ZWdhcmRlciBjZXQgaXRlbS4nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGRlbGV0ZUNvbGxlY3Rpb25JdGVtID0gYXN5bmMgKGNvbGxlY3Rpb25JZCwgaXRlbUlkKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25zQXBpQmFzZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NpdGUgaW5jb25udS4nKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgIGAke2NvbGxlY3Rpb25zQXBpQmFzZX0vJHtlbmNvZGVVUklDb21wb25lbnQoY29sbGVjdGlvbklkKX0vaXRlbXMvJHtlbmNvZGVVUklDb21wb25lbnQoaXRlbUlkKX1gLFxuICAgICAgICB7IG1ldGhvZDogJ0RFTEVURScgfSxcbiAgICAgICk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihkYXRhLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgc3VwcHJpbWVyIGNldCBpdGVtLicpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBsb2FkQ29sbGVjdGlvbnMgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25zQXBpQmFzZSkge1xuICAgICAgICBjb2xsZWN0aW9uRW1wdHlTdGF0ZT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIGFjdGl2ZUNvbGxlY3Rpb25JZCA9IG51bGw7XG4gICAgICAgIGNvbGxlY3Rpb25JdGVtcyA9IFtdO1xuICAgICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICAgICAgdXBkYXRlQ29sbGVjdGlvbkhlYWRlcigpO1xuICAgICAgICBzeW5jQWRkQnV0dG9uU3RhdGUoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChjb2xsZWN0aW9uc0FwaUJhc2UsIHtcbiAgICAgICAgICBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIGNvbGxlY3Rpb25zLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gW10pO1xuICAgICAgICBjb2xsZWN0aW9ucyA9IEFycmF5LmlzQXJyYXkocGF5bG9hZCkgPyBwYXlsb2FkIDogW107XG4gICAgICAgIHJlbmRlckNvbGxlY3Rpb25MaXN0KCk7XG4gICAgICAgIGlmIChjb2xsZWN0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY29uc3QgZGVmYXVsdElkID0gY29sbGVjdGlvbnMuZmluZCgoZW50cnkpID0+IGVudHJ5LmlkID09PSBhY3RpdmVDb2xsZWN0aW9uSWQpPy5pZFxuICAgICAgICAgICAgfHwgY29sbGVjdGlvbnNbMF0uaWQ7XG4gICAgICAgICAgc2V0QWN0aXZlQ29sbGVjdGlvbihkZWZhdWx0SWQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFjdGl2ZUNvbGxlY3Rpb25JZCA9IG51bGw7XG4gICAgICAgICAgY29sbGVjdGlvbkl0ZW1zID0gW107XG4gICAgICAgICAgdXBkYXRlQ29sbGVjdGlvbkhlYWRlcigpO1xuICAgICAgICAgIHN5bmNBZGRCdXR0b25TdGF0ZSgpO1xuICAgICAgICAgIHJlbmRlckl0ZW1UYWJsZSgpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2NvbnRlbnRdIGxvYWQgY29sbGVjdGlvbnMnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgY2hhcmdlciBsZXMgY29sbGVjdGlvbnMuJyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGl0ZW1BZGRCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgaWYgKCFhY3RpdmVDb2xsZWN0aW9uSWQpIHtcbiAgICAgICAgc2hvd1RvYXN0KCdTXHUwMEU5bGVjdGlvbm5leiBkXHUyMDE5YWJvcmQgdW5lIGNvbGxlY3Rpb24uJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHByZXBhcmVOZXdJdGVtRm9ybSgpO1xuICAgICAgcmVuZGVySXRlbVRhYmxlKCk7XG4gICAgfSk7XG5cbiAgICBpdGVtRm9ybUNhbmNlbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoaXNDcmVhdGluZ0l0ZW0pIHtcbiAgICAgICAgaXNDcmVhdGluZ0l0ZW0gPSBmYWxzZTtcbiAgICAgICAgYWN0aXZlSXRlbUlkID0gbnVsbDtcbiAgICAgICAgaGlkZUl0ZW1Gb3JtKCk7XG4gICAgICAgIHJlbmRlckl0ZW1UYWJsZSgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoYWN0aXZlSXRlbUlkKSB7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSBjb2xsZWN0aW9uSXRlbXMuZmluZCgoZW50cnkpID0+IGVudHJ5LmlkID09PSBhY3RpdmVJdGVtSWQpO1xuICAgICAgICBwb3B1bGF0ZUl0ZW1Gb3JtKGl0ZW0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaGlkZUl0ZW1Gb3JtKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpdGVtRm9ybUZpZWxkcy5zdGF0dXM/LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgICAgIHN5bmNJdGVtU3RhdHVzQmFkZ2UoaXRlbUZvcm1GaWVsZHMuc3RhdHVzLnZhbHVlKTtcbiAgICB9KTtcblxuICAgIGl0ZW1Gb3JtRmllbGRzLnRpdGxlPy5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICAgIGlmICghaXNDcmVhdGluZ0l0ZW0gfHwgIWl0ZW1Gb3JtRmllbGRzLnNsdWcgfHwgaXRlbVNsdWdNYW51YWxseUVkaXRlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpdGVtRm9ybUZpZWxkcy5zbHVnLnZhbHVlID0gbm9ybWFsaXplSXRlbVNsdWdJbnB1dChpdGVtRm9ybUZpZWxkcy50aXRsZS52YWx1ZSk7XG4gICAgfSk7XG5cbiAgICBpdGVtRm9ybUZpZWxkcy5zbHVnPy5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICAgIGlmICghaXNDcmVhdGluZ0l0ZW0pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaXRlbVNsdWdNYW51YWxseUVkaXRlZCA9IHRydWU7XG4gICAgfSk7XG5cbiAgICBpdGVtRm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKCFhY3RpdmVDb2xsZWN0aW9uSWQpIHtcbiAgICAgICAgc2hvd1RvYXN0KCdTXHUwMEU5bGVjdGlvbm5leiB1bmUgY29sbGVjdGlvbi4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgdmFsdWVzID0gY29sbGVjdEl0ZW1Gb3JtVmFsdWVzKCk7XG4gICAgICBpZiAoIXZhbHVlcy50aXRsZSkge1xuICAgICAgICBzaG93VG9hc3QoJ0xlIHRpdHJlIGVzdCByZXF1aXMuJyk7XG4gICAgICAgIGl0ZW1Gb3JtRmllbGRzLnRpdGxlPy5mb2N1cygpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZXRGb3JtU2F2aW5nU3RhdGUodHJ1ZSk7XG4gICAgICB0cnkge1xuICAgICAgICBsZXQgc2F2ZWRJdGVtO1xuICAgICAgICBpZiAoaXNDcmVhdGluZ0l0ZW0gfHwgIWFjdGl2ZUl0ZW1JZCkge1xuICAgICAgICAgIHNhdmVkSXRlbSA9IGF3YWl0IGNyZWF0ZUNvbGxlY3Rpb25JdGVtKGFjdGl2ZUNvbGxlY3Rpb25JZCwgdmFsdWVzKTtcbiAgICAgICAgICBjb2xsZWN0aW9uSXRlbXMgPSBbLi4uY29sbGVjdGlvbkl0ZW1zLCBzYXZlZEl0ZW1dO1xuICAgICAgICAgIHNob3dUb2FzdCgnSXRlbSBjclx1MDBFOVx1MDBFOScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNhdmVkSXRlbSA9IGF3YWl0IHVwZGF0ZUNvbGxlY3Rpb25JdGVtKGFjdGl2ZUNvbGxlY3Rpb25JZCwgYWN0aXZlSXRlbUlkLCB2YWx1ZXMpO1xuICAgICAgICAgIGNvbGxlY3Rpb25JdGVtcyA9IGNvbGxlY3Rpb25JdGVtcy5tYXAoKGl0ZW0pID0+XG4gICAgICAgICAgICBpdGVtLmlkID09PSBzYXZlZEl0ZW0uaWQgPyBzYXZlZEl0ZW0gOiBpdGVtLFxuICAgICAgICAgICk7XG4gICAgICAgICAgc2hvd1RvYXN0KCdJdGVtIG1pcyBcdTAwRTAgam91cicpO1xuICAgICAgICB9XG4gICAgICAgIGlzQ3JlYXRpbmdJdGVtID0gZmFsc2U7XG4gICAgICAgIGFjdGl2ZUl0ZW1JZCA9IHNhdmVkSXRlbS5pZDtcbiAgICAgICAgcG9wdWxhdGVJdGVtRm9ybShzYXZlZEl0ZW0pO1xuICAgICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbY29udGVudF0gc2F2ZSBpdGVtIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBzYXV2ZWdhcmRlciBjZXQgaXRlbS4nKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldEZvcm1TYXZpbmdTdGF0ZShmYWxzZSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBjb25zdCBjbG9zZURlbGV0ZU1vZGFsID0gKCkgPT4ge1xuICAgICAgaWYgKCFpdGVtRGVsZXRlTW9kYWwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaXRlbURlbGV0ZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgaXRlbURlbGV0ZU1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2ZsZXgnKTtcbiAgICAgIHBlbmRpbmdEZWxldGVJdGVtSWQgPSBudWxsO1xuICAgIH07XG5cbiAgICBjb25zdCBvcGVuRGVsZXRlTW9kYWwgPSAoKSA9PiB7XG4gICAgICBpZiAoIWl0ZW1EZWxldGVNb2RhbCB8fCAhYWN0aXZlSXRlbUlkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHBlbmRpbmdEZWxldGVJdGVtSWQgPSBhY3RpdmVJdGVtSWQ7XG4gICAgICBpdGVtRGVsZXRlTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBpdGVtRGVsZXRlTW9kYWwuY2xhc3NMaXN0LmFkZCgnZmxleCcpO1xuICAgIH07XG5cbiAgICBpdGVtRGVsZXRlQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmICghYWN0aXZlSXRlbUlkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIG9wZW5EZWxldGVNb2RhbCgpO1xuICAgIH0pO1xuXG4gICAgaXRlbURlbGV0ZUNhbmNlbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjbG9zZURlbGV0ZU1vZGFsKCk7XG4gICAgfSk7XG5cbiAgICBpdGVtRGVsZXRlTW9kYWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSBpdGVtRGVsZXRlTW9kYWwpIHtcbiAgICAgICAgY2xvc2VEZWxldGVNb2RhbCgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaXRlbURlbGV0ZUNvbmZpcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFwZW5kaW5nRGVsZXRlSXRlbUlkIHx8ICFhY3RpdmVDb2xsZWN0aW9uSWQpIHtcbiAgICAgICAgY2xvc2VEZWxldGVNb2RhbCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpdGVtRGVsZXRlQ29uZmlybS5kaXNhYmxlZCA9IHRydWU7XG4gICAgICBpdGVtRGVsZXRlQ29uZmlybS50ZXh0Q29udGVudCA9ICdTdXBwcmVzc2lvblx1MjAyNic7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBkZWxldGVDb2xsZWN0aW9uSXRlbShhY3RpdmVDb2xsZWN0aW9uSWQsIHBlbmRpbmdEZWxldGVJdGVtSWQpO1xuICAgICAgICBjb2xsZWN0aW9uSXRlbXMgPSBjb2xsZWN0aW9uSXRlbXMuZmlsdGVyKChpdGVtKSA9PiBpdGVtLmlkICE9PSBwZW5kaW5nRGVsZXRlSXRlbUlkKTtcbiAgICAgICAgaWYgKGFjdGl2ZUl0ZW1JZCA9PT0gcGVuZGluZ0RlbGV0ZUl0ZW1JZCkge1xuICAgICAgICAgIGFjdGl2ZUl0ZW1JZCA9IG51bGw7XG4gICAgICAgICAgaGlkZUl0ZW1Gb3JtKCk7XG4gICAgICAgIH1cbiAgICAgICAgc2hvd1RvYXN0KCdJdGVtIHN1cHByaW1cdTAwRTknKTtcbiAgICAgICAgcmVuZGVySXRlbVRhYmxlKCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2NvbnRlbnRdIGRlbGV0ZSBpdGVtIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBzdXBwcmltZXIgY2V0IGl0ZW0uJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpdGVtRGVsZXRlQ29uZmlybS5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICBpdGVtRGVsZXRlQ29uZmlybS50ZXh0Q29udGVudCA9ICdTdXBwcmltZXInO1xuICAgICAgICBjbG9zZURlbGV0ZU1vZGFsKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB1cGRhdGVDb2xsZWN0aW9uSGVhZGVyKCk7XG4gICAgc3luY0FkZEJ1dHRvblN0YXRlKCk7XG4gICAgbG9hZENvbGxlY3Rpb25zKCk7XG4gIH1cblxuICBmdW5jdGlvbiBpbml0RGVwbG95V29ya3NwYWNlKCkge1xuICAgIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktZm9ybV0nKTtcbiAgICBpZiAoIWZvcm0pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcHJvdG9jb2xTZWxlY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktcHJvdG9jb2xdJyk7XG4gICAgY29uc3QgaG9zdElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LWhvc3RdJyk7XG4gICAgY29uc3QgcG9ydElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LXBvcnRdJyk7XG4gICAgY29uc3QgdXNlcklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LXVzZXJdJyk7XG4gICAgY29uc3QgcGFzc3dvcmRJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1wYXNzd29yZF0nKTtcbiAgICBjb25zdCBzaG93UGFzc3dvcmRUb2dnbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktc2hvdy1wYXNzd29yZF0nKTtcbiAgICBjb25zdCByZW1vdGVQYXRoSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktcmVtb3RlLXBhdGhdJyk7XG4gICAgY29uc3QgZmVlZGJhY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktZmVlZGJhY2tdJyk7XG4gICAgY29uc3Qgc2F2ZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1zYXZlXScpO1xuICAgIGNvbnN0IHRlc3RCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktdGVzdF0nKTtcbiAgICBjb25zdCBkZXBsb3lCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktdHJpZ2dlcl0nKTtcbiAgICBjb25zdCBoaXN0b3J5TGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1oaXN0b3J5XScpO1xuICAgIGNvbnN0IGxvZ0JveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1sb2ddJyk7XG5cbiAgICBjb25zdCBzYWZlU2l0ZVNsdWcgPSBzdHJpcExlYWRpbmdTbGFzaChcbiAgICAgIHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJycsXG4gICAgKTtcbiAgICBjb25zdCBkZXBsb3lBcGlCYXNlID0gc2FmZVNpdGVTbHVnXG4gICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Zyl9L2RlcGxveS1jb25maWdgXG4gICAgICA6IG51bGw7XG4gICAgY29uc3QgZGVwbG95UnVuQXBpID0gc2FmZVNpdGVTbHVnXG4gICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Zyl9L2RlcGxveWBcbiAgICAgIDogbnVsbDtcbiAgICBjb25zdCBkZXBsb3lMb2dBcGkgPSBzYWZlU2l0ZVNsdWdcbiAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnKX0vZGVwbG95LWxvZ2BcbiAgICAgIDogbnVsbDtcblxuICAgIGxldCBoYXNQYXNzd29yZCA9IGZhbHNlO1xuICAgIGxldCBidXN5QWN0aW9uID0gbnVsbDtcblxuICAgIGNvbnN0IHNhbml0aXplUmVtb3RlUGF0aCA9ICh2YWx1ZSkgPT4ge1xuICAgICAgY29uc3QgdHJpbW1lZCA9ICh2YWx1ZSB8fCAnJykudHJpbSgpO1xuICAgICAgaWYgKCF0cmltbWVkKSB7XG4gICAgICAgIHJldHVybiAnL3d3dyc7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJpbW1lZC5zdGFydHNXaXRoKCcvJykgPyB0cmltbWVkIDogYC8ke3RyaW1tZWR9YDtcbiAgICB9O1xuXG4gICAgY29uc3Qgc2V0RmVlZGJhY2sgPSAobWVzc2FnZSwgdG9uZSA9ICdtdXRlZCcpID0+IHtcbiAgICAgIGlmICghZmVlZGJhY2spIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgYmFzZUNsYXNzID0gJ2lubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiByb3VuZGVkLWZ1bGwgcHgtMyBweS0xIHRleHQteHMgZm9udC1zZW1pYm9sZCc7XG4gICAgICBjb25zdCB0b25lQ2xhc3MgPVxuICAgICAgICB0b25lID09PSAnc3VjY2VzcydcbiAgICAgICAgICA/ICdiZy1lbWVyYWxkLTUwIHRleHQtZW1lcmFsZC03MDAgYm9yZGVyIGJvcmRlci1lbWVyYWxkLTEwMCdcbiAgICAgICAgICA6IHRvbmUgPT09ICdlcnJvcidcbiAgICAgICAgICAgID8gJ2JnLXJvc2UtNTAgdGV4dC1yb3NlLTcwMCBib3JkZXIgYm9yZGVyLXJvc2UtMTAwJ1xuICAgICAgICAgICAgOiAnYmctc2xhdGUtNTAgdGV4dC1zbGF0ZS02MDAgYm9yZGVyIGJvcmRlci1zbGF0ZS0xMDAnO1xuICAgICAgaWYgKCFtZXNzYWdlKSB7XG4gICAgICAgIGZlZWRiYWNrLnRleHRDb250ZW50ID0gJyc7XG4gICAgICAgIGZlZWRiYWNrLmNsYXNzTmFtZSA9ICd0ZXh0LXNtIHRleHQtc2xhdGUtNTAwJztcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgaWNvbiA9IHRvbmUgPT09ICdzdWNjZXNzJyA/ICdcdTI3MDUnIDogdG9uZSA9PT0gJ2Vycm9yJyA/ICdcdTI3NEMnIDogJ1x1MjEzOVx1RkUwRic7XG4gICAgICBmZWVkYmFjay5pbm5lckhUTUwgPSBgPHNwYW4gY2xhc3M9XCIke2Jhc2VDbGFzc30gJHt0b25lQ2xhc3N9XCI+JHtpY29ufTxzcGFuPiR7bWVzc2FnZX08L3NwYW4+PC9zcGFuPmA7XG4gICAgICBmZWVkYmFjay5jbGFzc05hbWUgPSAndGV4dC1zbSc7XG4gICAgfTtcblxuICAgIGNvbnN0IHNldEJ1c3kgPSAoYWN0aW9uID0gbnVsbCkgPT4ge1xuICAgICAgYnVzeUFjdGlvbiA9IGFjdGlvbjtcbiAgICAgIGNvbnN0IGRpc2FibGUgPSBCb29sZWFuKGFjdGlvbik7XG4gICAgICBjb25zdCBzcGlubmVyID1cbiAgICAgICAgJzxzdmcgY2xhc3M9XCJoLTQgdy00IGFuaW1hdGUtc3BpbiB0ZXh0LXdoaXRlXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PGNpcmNsZSBjbGFzcz1cIm9wYWNpdHktMjVcIiBjeD1cIjEyXCIgY3k9XCIxMlwiIHI9XCIxMFwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjRcIj48L2NpcmNsZT48cGF0aCBjbGFzcz1cIm9wYWNpdHktNzVcIiBmaWxsPVwiY3VycmVudENvbG9yXCIgZD1cIk00IDEyYTggOCAwIDAxOC04djRhNCA0IDAgMDAtNCA0SDR6XCI+PC9wYXRoPjwvc3ZnPic7XG4gICAgICBpZiAoc2F2ZUJ1dHRvbikge1xuICAgICAgICBzYXZlQnV0dG9uLmRpc2FibGVkID0gZGlzYWJsZTtcbiAgICAgICAgc2F2ZUJ1dHRvbi5pbm5lckhUTUwgPVxuICAgICAgICAgIGFjdGlvbiA9PT0gJ3NhdmUnXG4gICAgICAgICAgICA/IGA8c3BhbiBjbGFzcz1cImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPiR7c3Bpbm5lcn08c3Bhbj5FbnJlZ2lzdHJlbWVudFx1MjAyNjwvc3Bhbj48L3NwYW4+YFxuICAgICAgICAgICAgOiAnRW5yZWdpc3RyZXInO1xuICAgICAgfVxuICAgICAgaWYgKHRlc3RCdXR0b24pIHtcbiAgICAgICAgdGVzdEJ1dHRvbi5kaXNhYmxlZCA9IGRpc2FibGU7XG4gICAgICAgIHRlc3RCdXR0b24uaW5uZXJIVE1MID1cbiAgICAgICAgICBhY3Rpb24gPT09ICd0ZXN0J1xuICAgICAgICAgICAgPyBgPHNwYW4gY2xhc3M9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj48c3BhbiBjbGFzcz1cImgtNCB3LTQgYW5pbWF0ZS1zcGluIHJvdW5kZWQtZnVsbCBib3JkZXItMiBib3JkZXItc2xhdGUtMjAwIGJvcmRlci10LXNsYXRlLTYwMFwiPjwvc3Bhbj48c3Bhbj5UZXN0IGVuIGNvdXJzXHUyMDI2PC9zcGFuPjwvc3Bhbj5gXG4gICAgICAgICAgICA6ICdUZXN0ZXIgbGEgY29ubmV4aW9uJztcbiAgICAgIH1cbiAgICAgIGlmIChkZXBsb3lCdXR0b24pIHtcbiAgICAgICAgZGVwbG95QnV0dG9uLmRpc2FibGVkID0gZGlzYWJsZSAmJiBhY3Rpb24gIT09IG51bGw7XG4gICAgICAgIGRlcGxveUJ1dHRvbi5pbm5lckhUTUwgPVxuICAgICAgICAgIGFjdGlvbiA9PT0gJ2RlcGxveSdcbiAgICAgICAgICAgID8gYDxzcGFuIGNsYXNzPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+PHNwYW4gY2xhc3M9XCJoLTQgdy00IGFuaW1hdGUtc3BpbiByb3VuZGVkLWZ1bGwgYm9yZGVyLTIgYm9yZGVyLXdoaXRlLzYwIGJvcmRlci10LXdoaXRlXCI+PC9zcGFuPjxzcGFuPkRcdTAwRTlwbG9pZW1lbnRcdTIwMjY8L3NwYW4+PC9zcGFuPmBcbiAgICAgICAgICAgIDogJ0RcdTAwRTlwbG95ZXIgbWFpbnRlbmFudCc7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHBvcHVsYXRlRm9ybSA9IChjb25maWcpID0+IHtcbiAgICAgIHByb3RvY29sU2VsZWN0ICYmIChwcm90b2NvbFNlbGVjdC52YWx1ZSA9IGNvbmZpZy5wcm90b2NvbCB8fCAnc2Z0cCcpO1xuICAgICAgaG9zdElucHV0ICYmIChob3N0SW5wdXQudmFsdWUgPSBjb25maWcuaG9zdCB8fCAnJyk7XG4gICAgICBwb3J0SW5wdXQgJiYgKHBvcnRJbnB1dC52YWx1ZSA9IGNvbmZpZy5wb3J0IHx8ICcnKTtcbiAgICAgIHVzZXJJbnB1dCAmJiAodXNlcklucHV0LnZhbHVlID0gY29uZmlnLnVzZXIgfHwgJycpO1xuICAgICAgcmVtb3RlUGF0aElucHV0ICYmIChyZW1vdGVQYXRoSW5wdXQudmFsdWUgPSBjb25maWcucmVtb3RlUGF0aCB8fCAnL3d3dycpO1xuICAgICAgaGFzUGFzc3dvcmQgPSBCb29sZWFuKGNvbmZpZy5oYXNQYXNzd29yZCk7XG4gICAgICBpZiAocGFzc3dvcmRJbnB1dCkge1xuICAgICAgICBwYXNzd29yZElucHV0LnZhbHVlID0gJyc7XG4gICAgICAgIHBhc3N3b3JkSW5wdXQucGxhY2Vob2xkZXIgPSBoYXNQYXNzd29yZCA/ICdOb24gYWZmaWNoXHUwMEU5JyA6ICdNb3QgZGUgcGFzc2UnO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCByZW5kZXJIaXN0b3J5ID0gKGVudHJpZXMgPSBbXSkgPT4ge1xuICAgICAgaWYgKCFoaXN0b3J5TGlzdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBoaXN0b3J5TGlzdC5pbm5lckhUTUwgPSAnJztcbiAgICAgIGlmICghZW50cmllcy5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgICBsaS5jbGFzc05hbWUgPSAndGV4dC1zbGF0ZS01MDAnO1xuICAgICAgICBsaS50ZXh0Q29udGVudCA9ICdBdWN1biBkXHUwMEU5cGxvaWVtZW50IHBvdXIgbGUgbW9tZW50Lic7XG4gICAgICAgIGhpc3RvcnlMaXN0LmFwcGVuZENoaWxkKGxpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZW50cmllcy5mb3JFYWNoKChlbnRyeSkgPT4ge1xuICAgICAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICAgIGxpLmNsYXNzTmFtZSA9XG4gICAgICAgICAgJ2ZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBnYXAtMiByb3VuZGVkLXhsIGJvcmRlciBib3JkZXItc2xhdGUtMjAwIHB4LTMgcHktMic7XG4gICAgICAgIGNvbnN0IHN0YXR1c0JhZGdlID1cbiAgICAgICAgICBlbnRyeS5zdGF0dXMgPT09ICdzdWNjZXNzJ1xuICAgICAgICAgICAgPyAnPHNwYW4gY2xhc3M9XCJyb3VuZGVkLWZ1bGwgYmctZW1lcmFsZC01MCBweC0yIHB5LTAuNSB0ZXh0LVsxMXB4XSBmb250LXNlbWlib2xkIHRleHQtZW1lcmFsZC03MDBcIj5TdWNjXHUwMEU4czwvc3Bhbj4nXG4gICAgICAgICAgICA6ICc8c3BhbiBjbGFzcz1cInJvdW5kZWQtZnVsbCBiZy1yb3NlLTUwIHB4LTIgcHktMC41IHRleHQtWzExcHhdIGZvbnQtc2VtaWJvbGQgdGV4dC1yb3NlLTcwMFwiPlx1MDBDOWNoZWM8L3NwYW4+JztcbiAgICAgICAgY29uc3QgZGF0ZSA9IGVudHJ5LmZpbmlzaGVkQXQgfHwgZW50cnkuc3RhcnRlZEF0IHx8ICcnO1xuICAgICAgICBjb25zdCBkdXJhdGlvbiA9XG4gICAgICAgICAgZW50cnkuZHVyYXRpb25NcyAmJiBOdW1iZXIoZW50cnkuZHVyYXRpb25NcykgPj0gMFxuICAgICAgICAgICAgPyBgJHtNYXRoLnJvdW5kKE51bWJlcihlbnRyeS5kdXJhdGlvbk1zKSAvIDEwMDApfXNgXG4gICAgICAgICAgICA6ICcnO1xuICAgICAgICBsaS5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInNwYWNlLXktMVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+JHtzdGF0dXNCYWRnZX08c3BhbiBjbGFzcz1cInRleHQteHMgdGV4dC1zbGF0ZS01MDBcIj4ke2RhdGV9PC9zcGFuPjwvZGl2PlxuICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXNtIHRleHQtc2xhdGUtODAwXCI+JHtlbnRyeS5tZXNzYWdlIHx8ICcnfTwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC14cyB0ZXh0LXNsYXRlLTUwMFwiPiR7ZHVyYXRpb259PC9kaXY+XG4gICAgICAgIGA7XG4gICAgICAgIGxpLmRhdGFzZXQuZGVwbG95SWQgPSBlbnRyeS5pZCB8fCAnJztcbiAgICAgICAgbGkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgaWYgKGVudHJ5LmxvZ3MgJiYgbG9nQm94KSB7XG4gICAgICAgICAgICBsb2dCb3gudGV4dENvbnRlbnQgPSBlbnRyeS5sb2dzLmpvaW4oJ1xcbicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGhpc3RvcnlMaXN0LmFwcGVuZENoaWxkKGxpKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCByZW5kZXJMb2dzID0gKGxpbmVzID0gW10pID0+IHtcbiAgICAgIGlmICghbG9nQm94KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGxvZ0JveC50ZXh0Q29udGVudCA9IGxpbmVzLmxlbmd0aCA/IGxpbmVzLmpvaW4oJ1xcbicpIDogJ0F1Y3VuIGxvZyBwb3VyIGxlIG1vbWVudC4nO1xuICAgIH07XG5cbiAgICBjb25zdCBmZXRjaEhpc3RvcnkgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWRlcGxveUxvZ0FwaSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGRlcGxveUxvZ0FwaSwgeyBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDQpIHtcbiAgICAgICAgICAgIHJlbmRlckhpc3RvcnkoW10pO1xuICAgICAgICAgICAgcmVuZGVyTG9ncyhbJ0FQSSBkXHUwMEU5cGxvaWVtZW50IGluZGlzcG9uaWJsZSAocmVkXHUwMEU5bWFycmUgbGUgc2VydmV1cikuJ10pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ltcG9zc2libGUgZGUgY2hhcmdlciBsXHUyMDE5aGlzdG9yaXF1ZS4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICBjb25zdCBlbnRyaWVzID0gQXJyYXkuaXNBcnJheShwYXlsb2FkLmVudHJpZXMpID8gcGF5bG9hZC5lbnRyaWVzIDogW107XG4gICAgICAgIHJlbmRlckhpc3RvcnkoZW50cmllcyk7XG4gICAgICAgIGlmIChlbnRyaWVzWzBdPy5sb2dzKSB7XG4gICAgICAgICAgcmVuZGVyTG9ncyhlbnRyaWVzWzBdLmxvZ3MpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2RlcGxveV0gaGlzdG9yeSBmYWlsZWQnLCBlcnIpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBmZXRjaENvbmZpZyA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghZGVwbG95QXBpQmFzZSkge1xuICAgICAgICBzZXRGZWVkYmFjaygnQXVjdW4gc2l0ZSBhY3RpZiBzXHUwMEU5bGVjdGlvbm5cdTAwRTkuJywgJ2Vycm9yJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNldEJ1c3koJ2xvYWQnKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goZGVwbG95QXBpQmFzZSwgeyBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSk7XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgIHBvcHVsYXRlRm9ybShwYXlsb2FkIHx8IHt9KTtcbiAgICAgICAgICBzZXRGZWVkYmFjaygnQ29uZmlndXJhdGlvbiBjaGFyZ1x1MDBFOWUuJywgJ211dGVkJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcG9wdWxhdGVGb3JtKHBheWxvYWQgfHwge30pO1xuICAgICAgICAgIHNldEZlZWRiYWNrKHBheWxvYWQubWVzc2FnZSB8fCAnQ29uZmlndXJhdGlvbiBwYXIgZFx1MDBFOWZhdXQgY2hhcmdcdTAwRTllLicsICdtdXRlZCcpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2RlcGxveV0gbG9hZCBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzZXRGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZHUgY2hhcmdlbWVudC4nLCAnZXJyb3InKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldEJ1c3kobnVsbCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGJ1aWxkUGF5bG9hZCA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgIHByb3RvY29sOiBwcm90b2NvbFNlbGVjdD8udmFsdWUgfHwgJ3NmdHAnLFxuICAgICAgICBob3N0OiBob3N0SW5wdXQ/LnZhbHVlLnRyaW0oKSB8fCAnJyxcbiAgICAgICAgcG9ydDogTnVtYmVyKHBvcnRJbnB1dD8udmFsdWUpIHx8IHVuZGVmaW5lZCxcbiAgICAgICAgdXNlcjogdXNlcklucHV0Py52YWx1ZS50cmltKCkgfHwgJycsXG4gICAgICAgIHJlbW90ZVBhdGg6IHNhbml0aXplUmVtb3RlUGF0aChyZW1vdGVQYXRoSW5wdXQ/LnZhbHVlIHx8ICcvd3d3JyksXG4gICAgICB9O1xuICAgICAgY29uc3QgcHdkID0gcGFzc3dvcmRJbnB1dD8udmFsdWUgfHwgJyc7XG4gICAgICBpZiAocHdkLnRyaW0oKS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHBheWxvYWQucGFzc3dvcmQgPSBwd2Q7XG4gICAgICB9XG4gICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICB9O1xuXG4gICAgZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoIWRlcGxveUFwaUJhc2UpIHtcbiAgICAgICAgc2V0RmVlZGJhY2soJ0F1Y3VuIHNpdGUgYWN0aWYgc1x1MDBFOWxlY3Rpb25uXHUwMEU5LicsICdlcnJvcicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBwYXlsb2FkID0gYnVpbGRQYXlsb2FkKCk7XG4gICAgICBzZXRCdXN5KCdzYXZlJyk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGRlcGxveUFwaUJhc2UsIHtcbiAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnN0IGVycm9yUGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JQYXlsb2FkLm1lc3NhZ2UgfHwgJ1NhdXZlZ2FyZGUgaW1wb3NzaWJsZS4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzYXZlZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgcG9wdWxhdGVGb3JtKHNhdmVkIHx8IHt9KTtcbiAgICAgICAgc2V0RmVlZGJhY2soJ0NvbmZpZ3VyYXRpb24gZW5yZWdpc3RyXHUwMEU5ZS4nLCAnc3VjY2VzcycpO1xuICAgICAgICBzaG93VG9hc3QoJ0NvbmZpZ3VyYXRpb24gZFx1MDBFOXBsb2llbWVudCBzYXV2ZWdhcmRcdTAwRTllJyk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2RlcGxveV0gc2F2ZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzZXRGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZGUgbGEgc2F1dmVnYXJkZS4nLCAnZXJyb3InKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldEJ1c3kobnVsbCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0ZXN0QnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghZGVwbG95QXBpQmFzZSkge1xuICAgICAgICBzZXRGZWVkYmFjaygnQXVjdW4gc2l0ZSBhY3RpZiBzXHUwMEU5bGVjdGlvbm5cdTAwRTkuJywgJ2Vycm9yJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHBheWxvYWQgPSBidWlsZFBheWxvYWQoKTtcbiAgICAgIGlmICghcGF5bG9hZC5ob3N0IHx8ICFwYXlsb2FkLnVzZXIgfHwgIXBheWxvYWQucmVtb3RlUGF0aCkge1xuICAgICAgICBzZXRGZWVkYmFjaygnUmVtcGxpc3NleiBsZXMgY2hhbXBzIHJlcXVpcyBhdmFudCBkZSB0ZXN0ZXIuJywgJ2Vycm9yJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNldEJ1c3koJ3Rlc3QnKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7ZGVwbG95QXBpQmFzZX0vdGVzdGAsIHtcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vayB8fCByZXN1bHQuc3VjY2VzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBzZXRGZWVkYmFjayhyZXN1bHQubWVzc2FnZSB8fCAnVGVzdCBkZSBjb25uZXhpb24gXHUwMEU5Y2hvdVx1MDBFOS4nLCAnZXJyb3InKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc2V0RmVlZGJhY2socmVzdWx0Lm1lc3NhZ2UgfHwgJ0Nvbm5leGlvbiBPSy4nLCAnc3VjY2VzcycpO1xuICAgICAgICBzaG93VG9hc3QoJ1Rlc3QgZGUgY29ubmV4aW9uIHJcdTAwRTl1c3NpJyk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2RlcGxveV0gdGVzdCBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzZXRGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnVGVzdCBkZSBjb25uZXhpb24gXHUwMEU5Y2hvdVx1MDBFOS4nLCAnZXJyb3InKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldEJ1c3kobnVsbCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBkZXBsb3lCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFkZXBsb3lSdW5BcGkpIHtcbiAgICAgICAgc2V0RmVlZGJhY2soJ0F1Y3VuIHNpdGUgYWN0aWYgc1x1MDBFOWxlY3Rpb25uXHUwMEU5LicsICdlcnJvcicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZXRCdXN5KCdkZXBsb3knKTtcbiAgICAgIHJlbmRlckxvZ3MoWydEXHUwMEU5cGxvaWVtZW50IGVuIGNvdXJzXHUyMDI2J10pO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChkZXBsb3lSdW5BcGksIHtcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShidWlsZFBheWxvYWQoKSksXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDQpIHtcbiAgICAgICAgICAgIHNldEZlZWRiYWNrKCdBUEkgZFx1MDBFOXBsb2llbWVudCBpbmRpc3BvbmlibGUgKHJlZFx1MDBFOW1hcnJlIGxlIHNlcnZldXIpLicsICdlcnJvcicpO1xuICAgICAgICAgICAgcmVuZGVyTG9ncyhbJ0FQSSBkXHUwMEU5cGxvaWVtZW50IGluZGlzcG9uaWJsZSAocmVkXHUwMEU5bWFycmUgbGUgc2VydmV1cikuJ10pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZW5kZXJMb2dzKHJlc3VsdC5sb2dzIHx8IFtdKTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzdWx0Lm1lc3NhZ2UgfHwgJ0RcdTAwRTlwbG9pZW1lbnQgXHUwMEU5Y2hvdVx1MDBFOS4nKTtcbiAgICAgICAgfVxuICAgICAgICByZW5kZXJMb2dzKHJlc3VsdC5sb2dzIHx8IFtdKTtcbiAgICAgICAgYXdhaXQgZmV0Y2hIaXN0b3J5KCk7XG4gICAgICAgIHNob3dUb2FzdCgnRFx1MDBFOXBsb2llbWVudCB0ZXJtaW5cdTAwRTknKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZGVwbG95XSBydW4gZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2V0RmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0RcdTAwRTlwbG9pZW1lbnQgXHUwMEU5Y2hvdVx1MDBFOS4nLCAnZXJyb3InKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldEJ1c3kobnVsbCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBzaG93UGFzc3dvcmRUb2dnbGU/LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgICAgIGlmICghcGFzc3dvcmRJbnB1dCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwYXNzd29yZElucHV0LnR5cGUgPSBzaG93UGFzc3dvcmRUb2dnbGUuY2hlY2tlZCA/ICd0ZXh0JyA6ICdwYXNzd29yZCc7XG4gICAgfSk7XG5cbiAgICBmZXRjaENvbmZpZygpO1xuICAgIGZldGNoSGlzdG9yeSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gaW5pdFNldHRpbmdzV29ya3NwYWNlKCkge1xuICAgIGNvbnN0IHRhYkJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1zZXR0aW5ncy10YWJdJyk7XG4gICAgY29uc3QgdGFiUGFuZWxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtc2V0dGluZ3MtcGFuZWxdJyk7XG4gICAgY29uc3QgZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFkbWluLXBhc3N3b3JkLWZvcm1dJyk7XG4gICAgY29uc3Qgc2l0ZUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLWNvbmZpZy1mb3JtXScpO1xuICAgIGNvbnN0IHNpdGVGZWVkYmFjayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtY29uZmlnLWZlZWRiYWNrXScpO1xuICAgIGNvbnN0IHRoZW1lRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLWZvcm1dJyk7XG4gICAgY29uc3Qgc3dpdGNoVGFiID0gKG5hbWUpID0+IHtcbiAgICAgIHRhYkJ1dHRvbnMuZm9yRWFjaCgoYnRuKSA9PiB7XG4gICAgICAgIGNvbnN0IGlzQWN0aXZlID0gYnRuLmRhdGFzZXQuc2V0dGluZ3NUYWIgPT09IG5hbWU7XG4gICAgICAgIGJ0bi5zZXRBdHRyaWJ1dGUoJ2FyaWEtc2VsZWN0ZWQnLCBpc0FjdGl2ZSA/ICd0cnVlJyA6ICdmYWxzZScpO1xuICAgICAgICBidG4uY2xhc3NMaXN0LnRvZ2dsZSgnYmctWyM5QzZCRkZdJywgaXNBY3RpdmUpO1xuICAgICAgICBidG4uY2xhc3NMaXN0LnRvZ2dsZSgndGV4dC13aGl0ZScsIGlzQWN0aXZlKTtcbiAgICAgIH0pO1xuICAgICAgdGFiUGFuZWxzLmZvckVhY2goKHBhbmVsKSA9PiB7XG4gICAgICAgIHBhbmVsLmNsYXNzTGlzdC50b2dnbGUoJ2hpZGRlbicsIHBhbmVsLmRhdGFzZXQuc2V0dGluZ3NQYW5lbCAhPT0gbmFtZSk7XG4gICAgICB9KTtcbiAgICB9O1xuICAgIHRhYkJ1dHRvbnMuZm9yRWFjaCgoYnRuKSA9PiB7XG4gICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBzd2l0Y2hUYWIoYnRuLmRhdGFzZXQuc2V0dGluZ3NUYWIgfHwgJ2FjY291bnQnKSk7XG4gICAgfSk7XG4gICAgc3dpdGNoVGFiKCdhY2NvdW50Jyk7XG5cbiAgICBpZiAoIWZvcm0pIHtcbiAgICAgIC8vIHN0aWxsIGFsbG93IHNpdGUgZm9ybSBldmVuIGlmIHBhc3N3b3JkIGZvcm0gYWJzZW50XG4gICAgfVxuICAgIGlmIChmb3JtKSB7XG4gICAgICBjb25zdCBmZWVkYmFjayA9IGZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYWRtaW4tcGFzc3dvcmQtZmVlZGJhY2tdJyk7XG4gICAgICBjb25zdCBzdWJtaXQgPSBmb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFkbWluLXBhc3N3b3JkLXN1Ym1pdF0nKTtcbiAgICAgIGNvbnN0IHNldEZlZWRiYWNrID0gKG1lc3NhZ2UsIHRvbmUgPSAnbXV0ZWQnKSA9PiB7XG4gICAgICAgIGlmICghZmVlZGJhY2spIHJldHVybjtcbiAgICAgICAgY29uc3QgY29sb3IgPVxuICAgICAgICAgIHRvbmUgPT09ICdzdWNjZXNzJ1xuICAgICAgICAgICAgPyAndGV4dC1lbWVyYWxkLTYwMCdcbiAgICAgICAgICAgIDogdG9uZSA9PT0gJ2Vycm9yJ1xuICAgICAgICAgICAgICA/ICd0ZXh0LXJvc2UtNjAwJ1xuICAgICAgICAgICAgICA6ICd0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICAgIGZlZWRiYWNrLnRleHRDb250ZW50ID0gbWVzc2FnZSB8fCAnJztcbiAgICAgICAgZmVlZGJhY2suY2xhc3NOYW1lID0gYHRleHQtc20gJHtjb2xvcn1gO1xuICAgICAgfTtcbiAgICAgIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKGZvcm0pO1xuICAgICAgICBjb25zdCBjdXJyZW50UGFzc3dvcmQgPSBmb3JtRGF0YS5nZXQoJ2N1cnJlbnRQYXNzd29yZCcpIHx8ICcnO1xuICAgICAgICBjb25zdCBuZXdQYXNzd29yZCA9IGZvcm1EYXRhLmdldCgnbmV3UGFzc3dvcmQnKSB8fCAnJztcbiAgICAgICAgY29uc3QgY29uZmlybVBhc3N3b3JkID0gZm9ybURhdGEuZ2V0KCdjb25maXJtUGFzc3dvcmQnKSB8fCAnJztcbiAgICAgICAgaWYgKCFjdXJyZW50UGFzc3dvcmQgfHwgIW5ld1Bhc3N3b3JkIHx8ICFjb25maXJtUGFzc3dvcmQpIHtcbiAgICAgICAgICBzZXRGZWVkYmFjaygnQ29tcGxcdTAwRTh0ZSB0b3VzIGxlcyBjaGFtcHMuJywgJ2Vycm9yJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHN1Ym1pdCAmJiAoc3VibWl0LmRpc2FibGVkID0gdHJ1ZSk7XG4gICAgICAgIHNldEZlZWRiYWNrKCcnKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2FkbWluL3Bhc3N3b3JkJywge1xuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgY3VycmVudFBhc3N3b3JkLCBuZXdQYXNzd29yZCwgY29uZmlybVBhc3N3b3JkIH0pLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vayB8fCBwYXlsb2FkLnN1Y2Nlc3MgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocGF5bG9hZC5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIG1ldHRyZSBcdTAwRTAgam91ciBsZSBtb3QgZGUgcGFzc2UuJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNldEZlZWRiYWNrKHBheWxvYWQubWVzc2FnZSB8fCAnTW90IGRlIHBhc3NlIG1pcyBcdTAwRTAgam91ci4nLCAnc3VjY2VzcycpO1xuICAgICAgICAgIGZvcm0ucmVzZXQoKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3NldHRpbmdzXSBjaGFuZ2UgcGFzc3dvcmQgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgICBzZXRGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZGUgbGEgbWlzZSBcdTAwRTAgam91ci4nLCAnZXJyb3InKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBzdWJtaXQgJiYgKHN1Ym1pdC5kaXNhYmxlZCA9IGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKHNpdGVGb3JtKSB7XG4gICAgICBjb25zdCBuYW1lSW5wdXQgPSBzaXRlRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLW5hbWVdJyk7XG4gICAgICBjb25zdCBsYW5nU2VsZWN0ID0gc2l0ZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS1sYW5ndWFnZV0nKTtcbiAgICAgIGNvbnN0IHRhZ2xpbmVJbnB1dCA9IHNpdGVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtdGFnbGluZV0nKTtcbiAgICAgIGNvbnN0IHNhdmVCdXR0b24gPSBzaXRlRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLXNhdmVdJyk7XG4gICAgICBjb25zdCBzZXRTaXRlRmVlZGJhY2sgPSAobWVzc2FnZSwgdG9uZSA9ICdtdXRlZCcpID0+IHtcbiAgICAgICAgaWYgKCFzaXRlRmVlZGJhY2spIHJldHVybjtcbiAgICAgICAgY29uc3QgY29sb3IgPVxuICAgICAgICAgIHRvbmUgPT09ICdzdWNjZXNzJ1xuICAgICAgICAgICAgPyAndGV4dC1lbWVyYWxkLTYwMCdcbiAgICAgICAgICAgIDogdG9uZSA9PT0gJ2Vycm9yJ1xuICAgICAgICAgICAgICA/ICd0ZXh0LXJvc2UtNjAwJ1xuICAgICAgICAgICAgICA6ICd0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICAgIHNpdGVGZWVkYmFjay50ZXh0Q29udGVudCA9IG1lc3NhZ2UgfHwgJyc7XG4gICAgICAgIHNpdGVGZWVkYmFjay5jbGFzc05hbWUgPSBgdGV4dC1zbSAke2NvbG9yfWA7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBzYWZlU2l0ZVNsdWcgPSBzdHJpcExlYWRpbmdTbGFzaChcbiAgICAgICAgd29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyxcbiAgICAgICk7XG4gICAgICBjb25zdCBzaXRlQ29uZmlnQXBpID0gc2FmZVNpdGVTbHVnXG4gICAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnKX0vY29uZmlnL3NpdGVgXG4gICAgICAgIDogbnVsbDtcblxuICAgICAgY29uc3QgbG9hZFNpdGVDb25maWcgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIGlmICghc2l0ZUNvbmZpZ0FwaSkgcmV0dXJuO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goc2l0ZUNvbmZpZ0FwaSwgeyBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgcmV0dXJuO1xuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgaWYgKG5hbWVJbnB1dCkgbmFtZUlucHV0LnZhbHVlID0gcGF5bG9hZC5uYW1lIHx8ICcnO1xuICAgICAgICAgIGlmIChsYW5nU2VsZWN0KSBsYW5nU2VsZWN0LnZhbHVlID0gcGF5bG9hZC5sYW5ndWFnZSB8fCAnZnInO1xuICAgICAgICAgIGlmICh0YWdsaW5lSW5wdXQpIHRhZ2xpbmVJbnB1dC52YWx1ZSA9IHBheWxvYWQudGFnbGluZSB8fCAnJztcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3NldHRpbmdzXSBsb2FkIHNpdGUgY29uZmlnIGZhaWxlZCcsIGVycik7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHNpdGVGb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAoIXNpdGVDb25maWdBcGkpIHtcbiAgICAgICAgICBzZXRTaXRlRmVlZGJhY2soJ0F1Y3VuIHNpdGUgYWN0aWYuJywgJ2Vycm9yJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghbmFtZUlucHV0Py52YWx1ZS50cmltKCkpIHtcbiAgICAgICAgICBzZXRTaXRlRmVlZGJhY2soJ05vbSByZXF1aXMuJywgJ2Vycm9yJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNhdmVCdXR0b24gJiYgKHNhdmVCdXR0b24uZGlzYWJsZWQgPSB0cnVlKTtcbiAgICAgICAgc2V0U2l0ZUZlZWRiYWNrKCcnKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICAgICAgbmFtZTogbmFtZUlucHV0Py52YWx1ZSB8fCAnJyxcbiAgICAgICAgICAgIGxhbmd1YWdlOiBsYW5nU2VsZWN0Py52YWx1ZSB8fCAnZnInLFxuICAgICAgICAgICAgdGFnbGluZTogdGFnbGluZUlucHV0Py52YWx1ZSB8fCAnJyxcbiAgICAgICAgICB9O1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goc2l0ZUNvbmZpZ0FwaSwge1xuICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2sgfHwgcmVzdWx0LnN1Y2Nlc3MgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzdWx0Lm1lc3NhZ2UgfHwgJ1NhdXZlZ2FyZGUgaW1wb3NzaWJsZS4nKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0U2l0ZUZlZWRiYWNrKHJlc3VsdC5tZXNzYWdlIHx8ICdQYXJhbVx1MDBFOHRyZXMgZW5yZWdpc3RyXHUwMEU5cy4nLCAnc3VjY2VzcycpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIHNhdmUgc2l0ZSBjb25maWcgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgICBzZXRTaXRlRmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGRlIGxhIHNhdXZlZ2FyZGUuJywgJ2Vycm9yJyk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgc2F2ZUJ1dHRvbiAmJiAoc2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGxvYWRTaXRlQ29uZmlnKCk7XG4gICAgfVxuXG4gICAgaWYgKHRoZW1lRm9ybSkge1xuICAgICAgY29uc3Qgc2FmZVNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goXG4gICAgICAgIHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJycsXG4gICAgICApO1xuICAgICAgY29uc3QgdGhlbWVBcGkgPSBzYWZlU2l0ZVNsdWdcbiAgICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9jb25maWcvdGhlbWVgXG4gICAgICAgIDogbnVsbDtcblxuICAgICAgY29uc3QgY29sb3JTZWxlY3RzID0ge1xuICAgICAgICBwcmltYXJ5OiB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtcHJpbWFyeV0nKSxcbiAgICAgICAgc2Vjb25kYXJ5OiB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtc2Vjb25kYXJ5XScpLFxuICAgICAgICBhY2NlbnQ6IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1hY2NlbnRdJyksXG4gICAgICAgIGJhY2tncm91bmQ6IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1iYWNrZ3JvdW5kXScpLFxuICAgICAgICB0ZXh0OiB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtdGV4dF0nKSxcbiAgICAgIH07XG4gICAgICBjb25zdCBoZWFkaW5nU2VsZWN0ID0gdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLWhlYWRpbmdzXScpO1xuICAgICAgY29uc3QgYm9keVNlbGVjdCA9IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1ib2R5XScpO1xuICAgICAgY29uc3QgcmFkaXVzU21hbGwgPSB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtcmFkaXVzLXNtYWxsXScpO1xuICAgICAgY29uc3QgcmFkaXVzTWVkaXVtID0gdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLXJhZGl1cy1tZWRpdW1dJyk7XG4gICAgICBjb25zdCByYWRpdXNMYXJnZSA9IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1yYWRpdXMtbGFyZ2VdJyk7XG4gICAgICBjb25zdCBwcmV2aWV3ID0gdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLXByZXZpZXddJyk7XG4gICAgICBjb25zdCB0aGVtZUZlZWRiYWNrID0gdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLWZlZWRiYWNrXScpO1xuICAgICAgY29uc3QgYXBwbHlCdXR0b24gPSB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtYXBwbHldJyk7XG4gICAgICBjb25zdCB0YWlsd2luZEh1ZXMgPSBbXG4gICAgICAgICdzbGF0ZScsJ2dyYXknLCd6aW5jJywnbmV1dHJhbCcsJ3N0b25lJywncmVkJywnb3JhbmdlJywnYW1iZXInLCd5ZWxsb3cnLCdsaW1lJywnZ3JlZW4nLCdlbWVyYWxkJywndGVhbCcsJ2N5YW4nLCdza3knLCdibHVlJywnaW5kaWdvJywndmlvbGV0JywncHVycGxlJywnZnVjaHNpYScsJ3BpbmsnLCdyb3NlJ1xuICAgICAgXTtcbiAgICAgIGNvbnN0IHRhaWx3aW5kU2hhZGVzID0gWyc1MCcsJzEwMCcsJzIwMCcsJzMwMCcsJzQwMCcsJzUwMCcsJzYwMCcsJzcwMCcsJzgwMCcsJzkwMCddO1xuICAgICAgY29uc3QgdGFpbHdpbmRUb2tlbnMgPSB0YWlsd2luZEh1ZXMuZmxhdE1hcCgoaCk9PnRhaWx3aW5kU2hhZGVzLm1hcCgocyk9PmAke2h9LSR7c31gKSk7XG5cbiAgICAgIGNvbnN0IGZpbGxDb2xvck9wdGlvbnMgPSAoKSA9PiB7XG4gICAgICAgIE9iamVjdC52YWx1ZXMoY29sb3JTZWxlY3RzKS5mb3JFYWNoKChzZWwpPT57XG4gICAgICAgICAgaWYgKCFzZWwgfHwgc2VsLm9wdGlvbnMubGVuZ3RoKSByZXR1cm47XG4gICAgICAgICAgdGFpbHdpbmRUb2tlbnMuZm9yRWFjaCgodG9rZW4pPT57XG4gICAgICAgICAgICBjb25zdCBvcHRpb249ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICAgICAgICBvcHRpb24udmFsdWU9dG9rZW47XG4gICAgICAgICAgICBjb25zdCBbaCxzXT10b2tlbi5zcGxpdCgnLScpO1xuICAgICAgICAgICAgb3B0aW9uLnRleHRDb250ZW50PWAke2guY2hhckF0KDApLnRvVXBwZXJDYXNlKCkraC5zbGljZSgxKX0gJHtzfWA7XG4gICAgICAgICAgICBzZWwuYXBwZW5kQ2hpbGQob3B0aW9uKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBzZXRUaGVtZUZlZWRiYWNrID0gKG1lc3NhZ2UsIHRvbmUgPSAnbXV0ZWQnKSA9PiB7XG4gICAgICAgIGlmICghdGhlbWVGZWVkYmFjaykgcmV0dXJuO1xuICAgICAgICBjb25zdCBjb2xvciA9XG4gICAgICAgICAgdG9uZSA9PT0gJ3N1Y2Nlc3MnXG4gICAgICAgICAgICA/ICd0ZXh0LWVtZXJhbGQtNjAwJ1xuICAgICAgICAgICAgOiB0b25lID09PSAnZXJyb3InXG4gICAgICAgICAgICAgID8gJ3RleHQtcm9zZS02MDAnXG4gICAgICAgICAgICAgIDogJ3RleHQtc2xhdGUtNTAwJztcbiAgICAgICAgdGhlbWVGZWVkYmFjay50ZXh0Q29udGVudCA9IG1lc3NhZ2UgfHwgJyc7XG4gICAgICAgIHRoZW1lRmVlZGJhY2suY2xhc3NOYW1lID0gYHRleHQtc20gJHtjb2xvcn1gO1xuICAgICAgfTtcblxuICAgICAgY29uc3Qgc3luY1ByZXZpZXcgPSAoKSA9PiB7XG4gICAgICAgIGlmICghcHJldmlldykgcmV0dXJuO1xuICAgICAgICBjb25zdCB0b2tlblRvSGV4ID0gKHRva2VuKSA9PiB7XG4gICAgICAgICAgaWYgKCF0b2tlbikgcmV0dXJuIG51bGw7XG4gICAgICAgICAgY29uc3QgW2gsc109dG9rZW4uc3BsaXQoJy0nKTtcbiAgICAgICAgICBjb25zdCBtYXAgPSB7XG4gICAgICAgICAgICBzbGF0ZTonI2UyZThmMCcsZ3JheTonI2QxZDVkYicsemluYzonI2Q0ZDRkOCcsbmV1dHJhbDonI2Q0ZDRkNCcsc3RvbmU6JyNkNmQzZDEnLFxuICAgICAgICAgICAgcmVkOicjZWY0NDQ0JyxvcmFuZ2U6JyNmOTczMTYnLGFtYmVyOicjZjU5ZTBiJyx5ZWxsb3c6JyNlYWIzMDgnLGxpbWU6JyM4NGNjMTYnLFxuICAgICAgICAgICAgZ3JlZW46JyMyMmM1NWUnLGVtZXJhbGQ6JyMxMGI5ODEnLHRlYWw6JyMxNGI4YTYnLGN5YW46JyMwNmI2ZDQnLHNreTonIzBlYTVlOScsXG4gICAgICAgICAgICBibHVlOicjM2I4MmY2JyxpbmRpZ286JyM2MzY2ZjEnLHZpb2xldDonIzhiNWNmNicscHVycGxlOicjYTg1NWY3JyxmdWNoc2lhOicjZDk0NmVmJyxcbiAgICAgICAgICAgIHBpbms6JyNlYzQ4OTknLHJvc2U6JyNmNDNmNWUnXG4gICAgICAgICAgfTtcbiAgICAgICAgICBjb25zdCBiYXNlPW1hcFtoXTtcbiAgICAgICAgICBpZiAoIWJhc2UpIHJldHVybiBudWxsO1xuICAgICAgICAgIC8vIHJvdWdoIHNoYWRlIHR3ZWFrIHVzaW5nIG9wYWNpdHk7IG5vdCBleGFjdCBUYWlsd2luZCBwYWxldHRlIGJ1dCBwcmV2aWV3LWZyaWVuZGx5XG4gICAgICAgICAgY29uc3Qgc2hhZGVOdW09TnVtYmVyKHMpfHw1MDA7XG4gICAgICAgICAgY29uc3QgZmFjdG9yID0gTWF0aC5taW4oTWF0aC5tYXgoKHNoYWRlTnVtLTUwKS85MDAsMCksMSk7XG4gICAgICAgICAgY29uc3QgdG9SZ2I9KGhleCk9PmhleC5tYXRjaCgvW0EtRmEtZjAtOV17Mn0vZykubWFwKCh2KT0+cGFyc2VJbnQodiwxNikpO1xuICAgICAgICAgIGNvbnN0IFtyLGcsYl09dG9SZ2IoYmFzZS5yZXBsYWNlKCcjJywnJykpO1xuICAgICAgICAgIGNvbnN0IG1peD0odik9Pk1hdGgucm91bmQoMjU1IC0gKDI1NSAtIHYpKmZhY3Rvcik7XG4gICAgICAgICAgcmV0dXJuIGByZ2IoJHttaXgocil9LCAke21peChnKX0sICR7bWl4KGIpfSlgO1xuICAgICAgICB9O1xuICAgICAgICBwcmV2aWV3LnN0eWxlLnNldFByb3BlcnR5KCctLWNvbG9yLXByaW1hcnknLCB0b2tlblRvSGV4KGNvbG9yU2VsZWN0cy5wcmltYXJ5Py52YWx1ZSkgfHwgJyM5QzZCRkYnKTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1jb2xvci1zZWNvbmRhcnknLCB0b2tlblRvSGV4KGNvbG9yU2VsZWN0cy5zZWNvbmRhcnk/LnZhbHVlKSB8fCAnIzBFQTVFOScpO1xuICAgICAgICBwcmV2aWV3LnN0eWxlLnNldFByb3BlcnR5KCctLWNvbG9yLWFjY2VudCcsIHRva2VuVG9IZXgoY29sb3JTZWxlY3RzLmFjY2VudD8udmFsdWUpIHx8ICcjRjk3MzE2Jyk7XG4gICAgICAgIHByZXZpZXcuc3R5bGUuc2V0UHJvcGVydHkoJy0tY29sb3ItYmFja2dyb3VuZCcsIHRva2VuVG9IZXgoY29sb3JTZWxlY3RzLmJhY2tncm91bmQ/LnZhbHVlKSB8fCAnI0ZGRkZGRicpO1xuICAgICAgICBwcmV2aWV3LnN0eWxlLnNldFByb3BlcnR5KCctLWNvbG9yLXRleHQnLCB0b2tlblRvSGV4KGNvbG9yU2VsZWN0cy50ZXh0Py52YWx1ZSkgfHwgJyMwRjE3MkEnKTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1mb250LWhlYWRpbmdzJywgaGVhZGluZ1NlbGVjdD8udmFsdWUgfHwgJ0ludGVyLCBzYW5zLXNlcmlmJyk7XG4gICAgICAgIHByZXZpZXcuc3R5bGUuc2V0UHJvcGVydHkoJy0tZm9udC1ib2R5JywgYm9keVNlbGVjdD8udmFsdWUgfHwgJ0ludGVyLCBzYW5zLXNlcmlmJyk7XG4gICAgICAgIHByZXZpZXcuc3R5bGUuc2V0UHJvcGVydHkoJy0tcmFkaXVzLXNtYWxsJywgcmFkaXVzU21hbGw/LnZhbHVlIHx8ICc4cHgnKTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1yYWRpdXMtbWVkaXVtJywgcmFkaXVzTWVkaXVtPy52YWx1ZSB8fCAnMTZweCcpO1xuICAgICAgICBwcmV2aWV3LnN0eWxlLnNldFByb3BlcnR5KCctLXJhZGl1cy1sYXJnZScsIHJhZGl1c0xhcmdlPy52YWx1ZSB8fCAnMjRweCcpO1xuICAgICAgICBwcmV2aWV3LnN0eWxlLmJvcmRlclJhZGl1cyA9IHJhZGl1c01lZGl1bT8udmFsdWUgfHwgJzE2cHgnO1xuICAgICAgfTtcblxuICAgICAgY29uc3Qgc2V0Q29sb3JGaWVsZHMgPSAoa2V5LCB2YWx1ZSkgPT4ge1xuICAgICAgICBpZiAoY29sb3JTZWxlY3RzW2tleV0pIGNvbG9yU2VsZWN0c1trZXldLnZhbHVlID0gdmFsdWU7XG4gICAgICB9O1xuXG4gICAgICBPYmplY3Qua2V5cyhjb2xvclNlbGVjdHMpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICBjb2xvclNlbGVjdHNba2V5XT8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgc3luY1ByZXZpZXcpO1xuICAgICAgfSk7XG4gICAgICBbaGVhZGluZ1NlbGVjdCwgYm9keVNlbGVjdCwgcmFkaXVzU21hbGwsIHJhZGl1c01lZGl1bSwgcmFkaXVzTGFyZ2VdLmZvckVhY2goKGVsKSA9PiB7XG4gICAgICAgIGVsPy5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBzeW5jUHJldmlldyk7XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgbG9hZFRoZW1lID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoIXRoZW1lQXBpKSByZXR1cm47XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh0aGVtZUFwaSwgeyBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgcmV0dXJuO1xuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgc2V0Q29sb3JGaWVsZHMoJ3ByaW1hcnknLCBwYXlsb2FkLmNvbG9ycz8ucHJpbWFyeSB8fCAndmlvbGV0LTUwMCcpO1xuICAgICAgICAgIHNldENvbG9yRmllbGRzKCdzZWNvbmRhcnknLCBwYXlsb2FkLmNvbG9ycz8uc2Vjb25kYXJ5IHx8ICdpbmRpZ28tNDAwJyk7XG4gICAgICAgICAgc2V0Q29sb3JGaWVsZHMoJ2FjY2VudCcsIHBheWxvYWQuY29sb3JzPy5hY2NlbnQgfHwgJ2VtZXJhbGQtNTAwJyk7XG4gICAgICAgICAgc2V0Q29sb3JGaWVsZHMoJ2JhY2tncm91bmQnLCBwYXlsb2FkLmNvbG9ycz8uYmFja2dyb3VuZCB8fCAnc2xhdGUtNTAnKTtcbiAgICAgICAgICBzZXRDb2xvckZpZWxkcygndGV4dCcsIHBheWxvYWQuY29sb3JzPy50ZXh0IHx8ICdzbGF0ZS05MDAnKTtcbiAgICAgICAgICBpZiAoaGVhZGluZ1NlbGVjdCkgaGVhZGluZ1NlbGVjdC52YWx1ZSA9IHBheWxvYWQudHlwb2dyYXBoeT8uaGVhZGluZ3MgfHwgJ0ludGVyLCBzYW5zLXNlcmlmJztcbiAgICAgICAgICBpZiAoYm9keVNlbGVjdCkgYm9keVNlbGVjdC52YWx1ZSA9IHBheWxvYWQudHlwb2dyYXBoeT8uYm9keSB8fCAnSW50ZXIsIHNhbnMtc2VyaWYnO1xuICAgICAgICAgIGlmIChyYWRpdXNTbWFsbCkgcmFkaXVzU21hbGwudmFsdWUgPSBwYXlsb2FkLnJhZGl1cz8uc21hbGwgfHwgJzhweCc7XG4gICAgICAgICAgaWYgKHJhZGl1c01lZGl1bSkgcmFkaXVzTWVkaXVtLnZhbHVlID0gcGF5bG9hZC5yYWRpdXM/Lm1lZGl1bSB8fCAnMTZweCc7XG4gICAgICAgICAgaWYgKHJhZGl1c0xhcmdlKSByYWRpdXNMYXJnZS52YWx1ZSA9IHBheWxvYWQucmFkaXVzPy5sYXJnZSB8fCAnMjRweCc7XG4gICAgICAgICAgc3luY1ByZXZpZXcoKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3NldHRpbmdzXSBsb2FkIHRoZW1lIGZhaWxlZCcsIGVycik7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGZpbGxDb2xvck9wdGlvbnMoKTtcbiAgICAgIGFwcGx5QnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAoIXRoZW1lQXBpKSB7XG4gICAgICAgICAgc2V0VGhlbWVGZWVkYmFjaygnQXVjdW4gc2l0ZSBhY3RpZi4nLCAnZXJyb3InKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgICBjb2xvcnM6IHtcbiAgICAgICAgICAgIHByaW1hcnk6IGNvbG9yU2VsZWN0cy5wcmltYXJ5Py52YWx1ZSB8fCAndmlvbGV0LTUwMCcsXG4gICAgICAgICAgICBzZWNvbmRhcnk6IGNvbG9yU2VsZWN0cy5zZWNvbmRhcnk/LnZhbHVlIHx8ICdpbmRpZ28tNDAwJyxcbiAgICAgICAgICAgIGFjY2VudDogY29sb3JTZWxlY3RzLmFjY2VudD8udmFsdWUgfHwgJ2VtZXJhbGQtNTAwJyxcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IGNvbG9yU2VsZWN0cy5iYWNrZ3JvdW5kPy52YWx1ZSB8fCAnc2xhdGUtNTAnLFxuICAgICAgICAgICAgdGV4dDogY29sb3JTZWxlY3RzLnRleHQ/LnZhbHVlIHx8ICdzbGF0ZS05MDAnLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgdHlwb2dyYXBoeToge1xuICAgICAgICAgICAgaGVhZGluZ3M6IGhlYWRpbmdTZWxlY3Q/LnZhbHVlIHx8ICdJbnRlciwgc2Fucy1zZXJpZicsXG4gICAgICAgICAgICBib2R5OiBib2R5U2VsZWN0Py52YWx1ZSB8fCAnSW50ZXIsIHNhbnMtc2VyaWYnLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgcmFkaXVzOiB7XG4gICAgICAgICAgICBzbWFsbDogcmFkaXVzU21hbGw/LnZhbHVlIHx8ICc4cHgnLFxuICAgICAgICAgICAgbWVkaXVtOiByYWRpdXNNZWRpdW0/LnZhbHVlIHx8ICcxNnB4JyxcbiAgICAgICAgICAgIGxhcmdlOiByYWRpdXNMYXJnZT8udmFsdWUgfHwgJzI0cHgnLFxuICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIGFwcGx5QnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgc2V0VGhlbWVGZWVkYmFjaygnJyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh0aGVtZUFwaSwge1xuICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2sgfHwgcmVzdWx0LnN1Y2Nlc3MgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzdWx0Lm1lc3NhZ2UgfHwgJ0FwcGxpY2F0aW9uIGR1IHRoXHUwMEU4bWUgXHUwMEU5Y2hvdVx1MDBFOWUuJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNldFRoZW1lRmVlZGJhY2socmVzdWx0Lm1lc3NhZ2UgfHwgJ1RoXHUwMEU4bWUgYXBwbGlxdVx1MDBFOS4nLCAnc3VjY2VzcycpO1xuICAgICAgICAgIHN5bmNQcmV2aWV3KCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gYXBwbHkgdGhlbWUgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgICBzZXRUaGVtZUZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsXHUyMDE5YXBwbGljYXRpb24gZHUgdGhcdTAwRThtZS4nLCAnZXJyb3InKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBhcHBseUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgZmlsbENvbG9yT3B0aW9ucygpO1xuICAgICAgbG9hZFRoZW1lKCk7XG4gICAgICBzeW5jUHJldmlldygpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXRNZWRpYVdvcmtzcGFjZSgpIHtcbiAgICBjb25zdCBncmlkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZ3JpZF0nKTtcbiAgICBpZiAoIWdyaWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZW1wdHlTdGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWVtcHR5XScpO1xuICAgIGNvbnN0IGNvdW50QmFkZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1jb3VudF0nKTtcbiAgICBjb25zdCBmaWx0ZXJUeXBlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZmlsdGVyLXR5cGVdJyk7XG4gICAgY29uc3QgZGV0YWlsRW1wdHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZXRhaWwtZW1wdHldJyk7XG4gICAgY29uc3QgZGV0YWlsUGFuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZXRhaWxdJyk7XG4gICAgY29uc3QgZGV0YWlsUHJldmlldyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRldGFpbC1wcmV2aWV3XScpO1xuICAgIGNvbnN0IGRldGFpbE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZXRhaWwtbmFtZV0nKTtcbiAgICBjb25zdCBkZXRhaWxUeXBlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGV0YWlsLXR5cGVdJyk7XG4gICAgY29uc3QgZGV0YWlsU2l6ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRldGFpbC1zaXplXScpO1xuICAgIGNvbnN0IGRldGFpbFBhdGggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZXRhaWwtcGF0aF0nKTtcbiAgICBjb25zdCBkZXRhaWxVc2VkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGV0YWlsLXVzZWRdJyk7XG4gICAgY29uc3QgZGV0YWlsQWx0SW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1hbHQtZWRpdF0nKTtcbiAgICBjb25zdCBkZXRhaWxTYXZlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtc2F2ZV0nKTtcbiAgICBjb25zdCBkZXRhaWxEZWxldGVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZWxldGVdJyk7XG4gICAgY29uc3QgZGVsZXRlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZWxldGUtbW9kYWxdJyk7XG4gICAgY29uc3QgZGVsZXRlQ2FuY2VsQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGVsZXRlLWNhbmNlbF0nKTtcbiAgICBjb25zdCBkZWxldGVDb25maXJtQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGVsZXRlLWNvbmZpcm1dJyk7XG4gICAgY29uc3QgdXBsb2FkT3BlbkJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLXVwbG9hZC1vcGVuXScpO1xuICAgIGNvbnN0IGZpbGVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWZpbGUtaW5wdXRdJyk7XG4gICAgY29uc3QgdXBsb2FkU3RhdHVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtdXBsb2FkLXN0YXR1c10nKTtcblxuICAgIGNvbnN0IHNhZmVTaXRlU2x1Z1ZhbHVlID0gc3RyaXBMZWFkaW5nU2xhc2goXG4gICAgICB3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnLFxuICAgICk7XG4gICAgY29uc3QgbWVkaWFBcGlCYXNlID0gc2FmZVNpdGVTbHVnVmFsdWVcbiAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnVmFsdWUpfS9tZWRpYWBcbiAgICAgIDogbnVsbDtcblxuICAgIGxldCBtZWRpYUl0ZW1zID0gW107XG4gICAgbGV0IGZpbHRlcmVkSXRlbXMgPSBbXTtcbiAgICBsZXQgYWN0aXZlTWVkaWFJZCA9IG51bGw7XG4gICAgbGV0IGhpZ2hsaWdodE1lZGlhSWQgPSBudWxsO1xuICAgIGxldCBwZW5kaW5nVXBsb2FkRmlsZSA9IG51bGw7XG4gICAgbGV0IHVwbG9hZEluUHJvZ3Jlc3MgPSBmYWxzZTtcbiAgICBsZXQgZGV0YWlsRGlydHkgPSBmYWxzZTtcbiAgICBsZXQgdXBsb2FkTW9kZSA9IGZhbHNlO1xuICAgIGxldCB1cGxvYWRQcmV2aWV3VXJsID0gbnVsbDtcblxuICAgIGNvbnN0IGRlcml2ZUdyb3VwVHlwZSA9IChpdGVtKSA9PiB7XG4gICAgICBjb25zdCB0eXBlID0gKGl0ZW0udHlwZSB8fCAnJykudG9Mb3dlckNhc2UoKTtcbiAgICAgIGNvbnN0IGZpbGVuYW1lID0gKGl0ZW0uZmlsZW5hbWUgfHwgJycpLnRvTG93ZXJDYXNlKCk7XG4gICAgICBpZiAodHlwZS5pbmNsdWRlcygnaW1hZ2UnKSB8fCAvXFwuKHBuZ3xqcGU/Z3x3ZWJwfHN2Z3xnaWYpJC9pLnRlc3QoZmlsZW5hbWUpKSB7XG4gICAgICAgIHJldHVybiAnaW1hZ2UnO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGUuaW5jbHVkZXMoJ3BkZicpIHx8IHR5cGUuaW5jbHVkZXMoJ2RvYycpIHx8IC9cXC4ocGRmfGRvY3g/KSQvaS50ZXN0KGZpbGVuYW1lKSkge1xuICAgICAgICByZXR1cm4gJ2RvY3VtZW50JztcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlLmluY2x1ZGVzKCd2aWRlbycpIHx8IC9cXC4obXA0fG1vdnx3ZWJtKSQvaS50ZXN0KGZpbGVuYW1lKSkge1xuICAgICAgICByZXR1cm4gJ3ZpZGVvJztcbiAgICAgIH1cbiAgICAgIHJldHVybiAnb3RoZXInO1xuICAgIH07XG5cbiAgICBjb25zdCBpc0ltYWdlVHlwZSA9IChpdGVtKSA9PiBkZXJpdmVHcm91cFR5cGUoaXRlbSkgPT09ICdpbWFnZSc7XG5cbiAgICBjb25zdCBmb3JtYXRUeXBlTGFiZWwgPSAoaXRlbSkgPT4ge1xuICAgICAgaWYgKGl0ZW0udHlwZSkge1xuICAgICAgICByZXR1cm4gaXRlbS50eXBlLnRvVXBwZXJDYXNlKCk7XG4gICAgICB9XG4gICAgICBjb25zdCBleHQgPSAoaXRlbS5maWxlbmFtZSB8fCAnJykuc3BsaXQoJy4nKS5wb3AoKTtcbiAgICAgIHJldHVybiBleHQgPyBleHQudG9VcHBlckNhc2UoKSA6ICdGSUxFJztcbiAgICB9O1xuXG4gICAgY29uc3QgZm9ybWF0RmlsZVNpemUgPSAoc2l6ZSkgPT4ge1xuICAgICAgaWYgKCFzaXplIHx8IHNpemUgPD0gMCkge1xuICAgICAgICByZXR1cm4gJ1x1MjAxNCc7XG4gICAgICB9XG4gICAgICBpZiAoc2l6ZSA8IDEwMjQpIHtcbiAgICAgICAgcmV0dXJuIGAke3NpemV9IG9gO1xuICAgICAgfVxuICAgICAgaWYgKHNpemUgPCAxMDI0ICogMTAyNCkge1xuICAgICAgICByZXR1cm4gYCR7KHNpemUgLyAxMDI0KS50b0ZpeGVkKDEpfSBrb2A7XG4gICAgICB9XG4gICAgICByZXR1cm4gYCR7KHNpemUgLyAoMTAyNCAqIDEwMjQpKS50b0ZpeGVkKDEpfSBNb2A7XG4gICAgfTtcblxuICAgIGNvbnN0IHJlc2V0RGV0YWlsUGFuZWwgPSAoKSA9PiB7XG4gICAgICBkZXRhaWxQYW5lbD8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBkZXRhaWxFbXB0eT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBjbGVhclVwbG9hZFN0YXRlKCk7XG4gICAgICBhY3RpdmVNZWRpYUlkID0gbnVsbDtcbiAgICAgIGRldGFpbERpcnR5ID0gZmFsc2U7XG4gICAgICB1cGRhdGVEZXRhaWxBY3Rpb25zKGZhbHNlKTtcbiAgICAgIGlmIChkZXRhaWxQcmV2aWV3KSB7XG4gICAgICAgIGRldGFpbFByZXZpZXcuaW5uZXJIVE1MID1cbiAgICAgICAgICAnPHNwYW4gY2xhc3M9XCJ0ZXh0LXNsYXRlLTQwMCB0ZXh0LXNtXCI+QXVjdW4gbVx1MDBFOWRpYSBzXHUwMEU5bGVjdGlvbm5cdTAwRTk8L3NwYW4+JztcbiAgICAgIH1cbiAgICAgIGlmIChkZXRhaWxOYW1lKSB7XG4gICAgICAgIGRldGFpbE5hbWUudGV4dENvbnRlbnQgPSAnJztcbiAgICAgIH1cbiAgICAgIGRldGFpbFR5cGUgJiYgKGRldGFpbFR5cGUudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgICBkZXRhaWxTaXplICYmIChkZXRhaWxTaXplLnRleHRDb250ZW50ID0gJycpO1xuICAgICAgaWYgKGRldGFpbEFsdElucHV0KSB7XG4gICAgICAgIGRldGFpbEFsdElucHV0LnZhbHVlID0gJyc7XG4gICAgICB9XG4gICAgICBkZXRhaWxQYXRoICYmIChkZXRhaWxQYXRoLnRleHRDb250ZW50ID0gJycpO1xuICAgICAgaWYgKGRldGFpbFVzZWQpIHtcbiAgICAgICAgZGV0YWlsVXNlZC5pbm5lckhUTUwgPSAnJztcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgY2xlYXJVcGxvYWRTdGF0ZSA9ICgpID0+IHtcbiAgICAgIHBlbmRpbmdVcGxvYWRGaWxlID0gbnVsbDtcbiAgICAgIHVwbG9hZE1vZGUgPSBmYWxzZTtcbiAgICAgIHVwbG9hZEluUHJvZ3Jlc3MgPSBmYWxzZTtcbiAgICAgIGlmICh1cGxvYWRQcmV2aWV3VXJsKSB7XG4gICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwodXBsb2FkUHJldmlld1VybCk7XG4gICAgICAgIHVwbG9hZFByZXZpZXdVcmwgPSBudWxsO1xuICAgICAgfVxuICAgICAgdXBsb2FkU3RhdHVzICYmICh1cGxvYWRTdGF0dXMudGV4dENvbnRlbnQgPSAnQXVjdW4gZmljaGllciBzXHUwMEU5bGVjdGlvbm5cdTAwRTkuJyk7XG4gICAgICBmaWxlSW5wdXQgJiYgKGZpbGVJbnB1dC52YWx1ZSA9ICcnKTtcbiAgICB9O1xuXG4gICAgY29uc3QgdXBkYXRlQ291bnRCYWRnZSA9ICgpID0+IHtcbiAgICAgIGlmICghY291bnRCYWRnZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWZpbHRlcmVkSXRlbXMubGVuZ3RoKSB7XG4gICAgICAgIGNvdW50QmFkZ2UudGV4dENvbnRlbnQgPSAnMCBtXHUwMEU5ZGlhJztcbiAgICAgIH0gZWxzZSBpZiAoZmlsdGVyZWRJdGVtcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgY291bnRCYWRnZS50ZXh0Q29udGVudCA9ICcxIG1cdTAwRTlkaWEnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY291bnRCYWRnZS50ZXh0Q29udGVudCA9IGAke2ZpbHRlcmVkSXRlbXMubGVuZ3RofSBtXHUwMEU5ZGlhc2A7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHJlbmRlckdyaWQgPSAoKSA9PiB7XG4gICAgICBncmlkLmlubmVySFRNTCA9ICcnO1xuICAgICAgaWYgKCFmaWx0ZXJlZEl0ZW1zLmxlbmd0aCkge1xuICAgICAgICBlbXB0eVN0YXRlPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgcmVzZXREZXRhaWxQYW5lbCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBlbXB0eVN0YXRlPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGZpbHRlcmVkSXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICBjb25zdCBjYXJkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIGNhcmQudHlwZSA9ICdidXR0b24nO1xuICAgICAgICBjYXJkLmRhdGFzZXQubWVkaWFJZCA9IGl0ZW0uaWQ7XG4gICAgICAgIGNvbnN0IGlzQWN0aXZlID0gaXRlbS5pZCA9PT0gYWN0aXZlTWVkaWFJZDtcbiAgICAgICAgY2FyZC5jbGFzc05hbWUgPSBbXG4gICAgICAgICAgJ2dyb3VwIHJlbGF0aXZlIGZsZXggZmxleC1jb2wgcm91bmRlZC0yeGwgYm9yZGVyIHB4LTMgcHktMyB0ZXh0LWxlZnQgdHJhbnNpdGlvbiBmb2N1cy12aXNpYmxlOm91dGxpbmUgZm9jdXMtdmlzaWJsZTpvdXRsaW5lLTIgZm9jdXMtdmlzaWJsZTpvdXRsaW5lLW9mZnNldC0yIGZvY3VzLXZpc2libGU6b3V0bGluZS1bIzlDNkJGRl0nLFxuICAgICAgICAgIGlzQWN0aXZlXG4gICAgICAgICAgICA/ICdib3JkZXItWyM5QzZCRkZdIGJnLVsjRjdGMEZGXS82MCBzaGFkb3ctc20nXG4gICAgICAgICAgICA6ICdib3JkZXItc2xhdGUtMjAwIGhvdmVyOmJvcmRlci1bIzlDNkJGRl0vNDAnLFxuICAgICAgICBdLmpvaW4oJyAnKTtcbiAgICAgICAgY29uc3QgcHJldmlldyA9IGlzSW1hZ2VUeXBlKGl0ZW0pXG4gICAgICAgICAgPyBgPGltZyBzcmM9XCIke2l0ZW0ucGF0aH1cIiBhbHQ9XCIke2l0ZW0uYWx0IHx8IGl0ZW0uZmlsZW5hbWV9XCIgY2xhc3M9XCJoLWZ1bGwgdy1mdWxsIG9iamVjdC1jb3ZlclwiIC8+YFxuICAgICAgICAgIDogYDxkaXYgY2xhc3M9XCJmbGV4IGgtZnVsbCB3LWZ1bGwgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHRleHQtM3hsIHRleHQtc2xhdGUtNDAwXCI+XHVEODNEXHVEQ0M0PC9kaXY+YDtcbiAgICAgICAgY2FyZC5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInJlbGF0aXZlIGFzcGVjdC1bNC8zXSBvdmVyZmxvdy1oaWRkZW4gcm91bmRlZC14bCBiZy1zbGF0ZS0xMDBcIj5cbiAgICAgICAgICAgICR7cHJldmlld31cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwibXQtMiBzcGFjZS15LTFcIj5cbiAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1zbSBmb250LXNlbWlib2xkIHRleHQtc2xhdGUtOTAwIHRydW5jYXRlXCI+JHtpdGVtLmZpbGVuYW1lfTwvcD5cbiAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC14cyB0ZXh0LXNsYXRlLTUwMFwiPlxuICAgICAgICAgICAgICAke2Zvcm1hdFR5cGVMYWJlbChpdGVtKX0gXHUwMEI3ICR7Zm9ybWF0RmlsZVNpemUoaXRlbS5zaXplKX1cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgYDtcbiAgICAgICAgaWYgKGl0ZW0uaWQgPT09IGhpZ2hsaWdodE1lZGlhSWQpIHtcbiAgICAgICAgICBjYXJkLmNsYXNzTGlzdC5hZGQoJ3JpbmctMicsICdyaW5nLVsjOUM2QkZGXScpO1xuICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGNhcmQuY2xhc3NMaXN0LnJlbW92ZSgncmluZy0yJywgJ3JpbmctWyM5QzZCRkZdJyk7XG4gICAgICAgICAgfSwgMTYwMCk7XG4gICAgICAgIH1cbiAgICAgICAgY2FyZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHNlbGVjdE1lZGlhKGl0ZW0uaWQpKTtcbiAgICAgICAgZ3JpZC5hcHBlbmRDaGlsZChjYXJkKTtcbiAgICAgIH0pO1xuICAgICAgaGlnaGxpZ2h0TWVkaWFJZCA9IG51bGw7XG4gICAgfTtcblxuICAgIGNvbnN0IHJlbmRlclVzZWRJbiA9IChpdGVtKSA9PiB7XG4gICAgICBpZiAoIWRldGFpbFVzZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZGV0YWlsVXNlZC5pbm5lckhUTUwgPSAnJztcbiAgICAgIGlmICghaXRlbS51c2VkSW4gfHwgaXRlbS51c2VkSW4ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGNvbnN0IGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgbGkudGV4dENvbnRlbnQgPSAnTm9uIHV0aWxpc1x1MDBFOSc7XG4gICAgICAgIGxpLmNsYXNzTmFtZSA9ICd0ZXh0LXhzIHRleHQtc2xhdGUtNDAwJztcbiAgICAgICAgZGV0YWlsVXNlZC5hcHBlbmRDaGlsZChsaSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGl0ZW0udXNlZEluLmZvckVhY2goKGVudHJ5KSA9PiB7XG4gICAgICAgIGNvbnN0IGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgbGkudGV4dENvbnRlbnQgPSBlbnRyeTtcbiAgICAgICAgbGkuY2xhc3NOYW1lID0gJ3RleHQteHMgdGV4dC1zbGF0ZS02MDAnO1xuICAgICAgICBkZXRhaWxVc2VkLmFwcGVuZENoaWxkKGxpKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCB1cGRhdGVEZXRhaWxBY3Rpb25zID0gKHNhdmluZykgPT4ge1xuICAgICAgaWYgKCFkZXRhaWxTYXZlQnV0dG9uKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICh1cGxvYWRNb2RlKSB7XG4gICAgICAgIGRldGFpbFNhdmVCdXR0b24udGV4dENvbnRlbnQgPSBzYXZpbmcgPyAnVFx1MDBFOWxcdTAwRTl2ZXJzZW1lbnRcdTIwMjYnIDogJ1RcdTAwRTlsXHUwMEU5dmVyc2VyJztcbiAgICAgICAgZGV0YWlsU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IHNhdmluZyB8fCAhcGVuZGluZ1VwbG9hZEZpbGU7XG4gICAgICAgIGlmIChkZXRhaWxEZWxldGVCdXR0b24pIHtcbiAgICAgICAgICBkZXRhaWxEZWxldGVCdXR0b24uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZGV0YWlsU2F2ZUJ1dHRvbi50ZXh0Q29udGVudCA9IHNhdmluZyA/ICdFbnJlZ2lzdHJlbWVudFx1MjAyNicgOiAnRW5yZWdpc3RyZXInO1xuICAgICAgZGV0YWlsU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IHNhdmluZyB8fCAhZGV0YWlsRGlydHk7XG4gICAgICBpZiAoZGV0YWlsRGVsZXRlQnV0dG9uKSB7XG4gICAgICAgIGRldGFpbERlbGV0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgZGV0YWlsRGVsZXRlQnV0dG9uLmRpc2FibGVkID0gIWFjdGl2ZU1lZGlhSWQ7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHNlbGVjdE1lZGlhID0gKG1lZGlhSWQpID0+IHtcbiAgICAgIGNvbnN0IGl0ZW0gPSBtZWRpYUl0ZW1zLmZpbmQoKGVudHJ5KSA9PiBlbnRyeS5pZCA9PT0gbWVkaWFJZCk7XG4gICAgICBpZiAoIWl0ZW0pIHtcbiAgICAgICAgcmVzZXREZXRhaWxQYW5lbCgpO1xuICAgICAgICByZW5kZXJHcmlkKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNsZWFyVXBsb2FkU3RhdGUoKTtcbiAgICAgIGFjdGl2ZU1lZGlhSWQgPSBpdGVtLmlkO1xuICAgICAgZGV0YWlsRGlydHkgPSBmYWxzZTtcbiAgICAgIHVwZGF0ZURldGFpbEFjdGlvbnMoZmFsc2UpO1xuICAgICAgcmVuZGVyR3JpZCgpO1xuICAgICAgZGV0YWlsRW1wdHk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgZGV0YWlsUGFuZWw/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgaWYgKGRldGFpbFByZXZpZXcpIHtcbiAgICAgICAgaWYgKGlzSW1hZ2VUeXBlKGl0ZW0pKSB7XG4gICAgICAgICAgZGV0YWlsUHJldmlldy5pbm5lckhUTUwgPSBgPGltZyBzcmM9XCIke2l0ZW0ucGF0aH1cIiBhbHQ9XCIke2l0ZW0uYWx0IHx8IGl0ZW0uZmlsZW5hbWV9XCIgY2xhc3M9XCJoLWZ1bGwgdy1mdWxsIHJvdW5kZWQtMnhsIG9iamVjdC1jb3ZlclwiIC8+YDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkZXRhaWxQcmV2aWV3LmlubmVySFRNTCA9XG4gICAgICAgICAgICAnPGRpdiBjbGFzcz1cImZsZXggaC1mdWxsIHctZnVsbCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgZ2FwLTEgdGV4dC1zbGF0ZS00MDBcIj48c3BhbiBjbGFzcz1cInRleHQtM3hsXCI+XHVEODNEXHVEQ0M0PC9zcGFuPjxzcGFuIGNsYXNzPVwidGV4dC14cyBmb250LXNlbWlib2xkXCI+RG9jdW1lbnQ8L3NwYW4+PC9kaXY+JztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZGV0YWlsTmFtZSAmJiAoZGV0YWlsTmFtZS50ZXh0Q29udGVudCA9IGl0ZW0uZmlsZW5hbWUgfHwgJ0ZpY2hpZXInKTtcbiAgICAgIGRldGFpbFR5cGUgJiYgKGRldGFpbFR5cGUudGV4dENvbnRlbnQgPSBmb3JtYXRUeXBlTGFiZWwoaXRlbSkpO1xuICAgICAgZGV0YWlsU2l6ZSAmJiAoZGV0YWlsU2l6ZS50ZXh0Q29udGVudCA9IGZvcm1hdEZpbGVTaXplKGl0ZW0uc2l6ZSkpO1xuICAgICAgaWYgKGRldGFpbEFsdElucHV0KSB7XG4gICAgICAgIGRldGFpbEFsdElucHV0LnZhbHVlID0gaXRlbS5hbHQgfHwgJyc7XG4gICAgICB9XG4gICAgICBkZXRhaWxQYXRoICYmIChkZXRhaWxQYXRoLnRleHRDb250ZW50ID0gaXRlbS5wYXRoIHx8ICdcdTIwMTQnKTtcbiAgICAgIHJlbmRlclVzZWRJbihpdGVtKTtcbiAgICB9O1xuXG4gICAgY29uc3Qgc2hvd1VwbG9hZFByZXZpZXcgPSAoZmlsZSkgPT4ge1xuICAgICAgaWYgKCFmaWxlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHVwbG9hZE1vZGUgPSB0cnVlO1xuICAgICAgZGV0YWlsRGlydHkgPSBmYWxzZTtcbiAgICAgIGFjdGl2ZU1lZGlhSWQgPSBudWxsO1xuICAgICAgZGV0YWlsRW1wdHk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgZGV0YWlsUGFuZWw/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgaWYgKHVwbG9hZFByZXZpZXdVcmwpIHtcbiAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTCh1cGxvYWRQcmV2aWV3VXJsKTtcbiAgICAgIH1cbiAgICAgIHVwbG9hZFByZXZpZXdVcmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGUpO1xuICAgICAgaWYgKGRldGFpbFByZXZpZXcpIHtcbiAgICAgICAgZGV0YWlsUHJldmlldy5pbm5lckhUTUwgPSBgPGltZyBzcmM9XCIke3VwbG9hZFByZXZpZXdVcmx9XCIgYWx0PVwiJHtmaWxlLm5hbWV9XCIgY2xhc3M9XCJoLWZ1bGwgdy1mdWxsIHJvdW5kZWQtMnhsIG9iamVjdC1jb3ZlclwiIC8+YDtcbiAgICAgIH1cbiAgICAgIGRldGFpbE5hbWUgJiYgKGRldGFpbE5hbWUudGV4dENvbnRlbnQgPSBmaWxlLm5hbWUpO1xuICAgICAgZGV0YWlsVHlwZSAmJiAoZGV0YWlsVHlwZS50ZXh0Q29udGVudCA9IGZvcm1hdFR5cGVMYWJlbCh7IHR5cGU6IGZpbGUudHlwZSwgZmlsZW5hbWU6IGZpbGUubmFtZSB9KSk7XG4gICAgICBkZXRhaWxTaXplICYmIChkZXRhaWxTaXplLnRleHRDb250ZW50ID0gZm9ybWF0RmlsZVNpemUoZmlsZS5zaXplKSk7XG4gICAgICBpZiAoZGV0YWlsQWx0SW5wdXQgJiYgIWRldGFpbEFsdElucHV0LnZhbHVlLnRyaW0oKSkge1xuICAgICAgICBkZXRhaWxBbHRJbnB1dC52YWx1ZSA9IGZpbGUubmFtZS5yZXBsYWNlKC9cXC5bXi5dKyQvLCAnJykucmVwbGFjZSgvWy1fXS9nLCAnICcpO1xuICAgICAgfVxuICAgICAgZGV0YWlsUGF0aCAmJiAoZGV0YWlsUGF0aC50ZXh0Q29udGVudCA9ICdFbiBhdHRlbnRlIGRlIHRcdTAwRTlsXHUwMEU5dmVyc2VtZW50Jyk7XG4gICAgICBpZiAoZGV0YWlsVXNlZCkge1xuICAgICAgICBkZXRhaWxVc2VkLmlubmVySFRNTCA9ICcnO1xuICAgICAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICAgIGxpLnRleHRDb250ZW50ID0gJ05vbiB1dGlsaXNcdTAwRTknO1xuICAgICAgICBsaS5jbGFzc05hbWUgPSAndGV4dC14cyB0ZXh0LXNsYXRlLTQwMCc7XG4gICAgICAgIGRldGFpbFVzZWQuYXBwZW5kQ2hpbGQobGkpO1xuICAgICAgfVxuICAgICAgdXBkYXRlRGV0YWlsQWN0aW9ucyhmYWxzZSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGFwcGx5RmlsdGVycyA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHR5cGVGaWx0ZXIgPSBmaWx0ZXJUeXBlPy52YWx1ZSB8fCAnYWxsJztcbiAgICAgIGlmICh0eXBlRmlsdGVyID09PSAnYWxsJykge1xuICAgICAgICBmaWx0ZXJlZEl0ZW1zID0gWy4uLm1lZGlhSXRlbXNdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZmlsdGVyZWRJdGVtcyA9IG1lZGlhSXRlbXMuZmlsdGVyKChpdGVtKSA9PiBpdGVtLmdyb3VwVHlwZSA9PT0gdHlwZUZpbHRlcik7XG4gICAgICB9XG4gICAgICBpZiAoIWZpbHRlcmVkSXRlbXMuc29tZSgoaXRlbSkgPT4gaXRlbS5pZCA9PT0gYWN0aXZlTWVkaWFJZCkpIHtcbiAgICAgICAgcmVzZXREZXRhaWxQYW5lbCgpO1xuICAgICAgfVxuICAgICAgdXBkYXRlQ291bnRCYWRnZSgpO1xuICAgICAgcmVuZGVyR3JpZCgpO1xuICAgIH07XG5cbiAgICBjb25zdCBsb2FkTWVkaWEgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIW1lZGlhQXBpQmFzZSkge1xuICAgICAgICBlbXB0eVN0YXRlPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChtZWRpYUFwaUJhc2UsIHtcbiAgICAgICAgICBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIG1cdTAwRTlkaWFzLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHsgaXRlbXM6IFtdIH0pKTtcbiAgICAgICAgbWVkaWFJdGVtcyA9IEFycmF5LmlzQXJyYXkocGF5bG9hZC5pdGVtcylcbiAgICAgICAgICA/IHBheWxvYWQuaXRlbXMubWFwKChpdGVtKSA9PiAoeyAuLi5pdGVtLCBncm91cFR5cGU6IGRlcml2ZUdyb3VwVHlwZShpdGVtKSB9KSlcbiAgICAgICAgICA6IFtdO1xuICAgICAgICBhcHBseUZpbHRlcnMoKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbbWVkaWFdIGxvYWQgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIG1cdTAwRTlkaWFzLicpO1xuICAgICAgICBtZWRpYUl0ZW1zID0gW107XG4gICAgICAgIGFwcGx5RmlsdGVycygpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBmaWx0ZXJUeXBlPy5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgICBhcHBseUZpbHRlcnMoKTtcbiAgICB9KTtcbiAgICBkZXRhaWxBbHRJbnB1dD8uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgICBpZiAodXBsb2FkTW9kZSkge1xuICAgICAgICB1cGRhdGVEZXRhaWxBY3Rpb25zKGZhbHNlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFhY3RpdmVNZWRpYUlkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGRldGFpbERpcnR5ID0gdHJ1ZTtcbiAgICAgIHVwZGF0ZURldGFpbEFjdGlvbnMoZmFsc2UpO1xuICAgIH0pO1xuXG4gICAgY29uc3QgaGFuZGxlRmlsZVNlbGVjdGlvbiA9IChmaWxlKSA9PiB7XG4gICAgICBpZiAoIWZpbGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFmaWxlLnR5cGUuc3RhcnRzV2l0aCgnaW1hZ2UvJykpIHtcbiAgICAgICAgc2hvd1RvYXN0KCdTZXVsZXMgbGVzIGltYWdlcyBzb250IGFjY2VwdFx1MDBFOWVzIHBvdXIgbGUgbW9tZW50LicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoZmlsZS5zaXplID4gNCAqIDEwMjQgKiAxMDI0KSB7XG4gICAgICAgIHNob3dUb2FzdCgnRmljaGllciB0cm9wIHZvbHVtaW5ldXggKDQgTW8gbWF4KS4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcGVuZGluZ1VwbG9hZEZpbGUgPSBmaWxlO1xuICAgICAgc2hvd1VwbG9hZFByZXZpZXcoZmlsZSk7XG4gICAgICBpZiAodXBsb2FkU3RhdHVzKSB7XG4gICAgICAgIHVwbG9hZFN0YXR1cy50ZXh0Q29udGVudCA9IGAke2ZpbGUubmFtZX0gXHUwMEI3ICR7Zm9ybWF0RmlsZVNpemUoZmlsZS5zaXplKX1gO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCByZWFkRmlsZUFzQmFzZTY0ID0gKGZpbGUpID0+XG4gICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICAgIHJlYWRlci5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gcmVhZGVyLnJlc3VsdCB8fCAnJztcbiAgICAgICAgICBjb25zdCBbLCBiYXNlNjQgPSAnJ10gPSBTdHJpbmcocmVzdWx0KS5zcGxpdCgnLCcpO1xuICAgICAgICAgIHJlc29sdmUoYmFzZTY0KTtcbiAgICAgICAgfTtcbiAgICAgICAgcmVhZGVyLm9uZXJyb3IgPSAoKSA9PiByZWplY3QobmV3IEVycm9yKCdJbXBvc3NpYmxlIGRlIGxpcmUgY2UgZmljaGllci4nKSk7XG4gICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xuICAgICAgfSk7XG5cbiAgICBjb25zdCB1cGxvYWRTZWxlY3RlZE1lZGlhID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFwZW5kaW5nVXBsb2FkRmlsZSB8fCAhbWVkaWFBcGlCYXNlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHVwbG9hZEluUHJvZ3Jlc3MgPSB0cnVlO1xuICAgICAgdXBkYXRlRGV0YWlsQWN0aW9ucyh0cnVlKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGJhc2U2NCA9IGF3YWl0IHJlYWRGaWxlQXNCYXNlNjQocGVuZGluZ1VwbG9hZEZpbGUpO1xuICAgICAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICAgIGZpbGVuYW1lOiBwZW5kaW5nVXBsb2FkRmlsZS5uYW1lLFxuICAgICAgICAgIHR5cGU6IHBlbmRpbmdVcGxvYWRGaWxlLnR5cGUsXG4gICAgICAgICAgc2l6ZTogcGVuZGluZ1VwbG9hZEZpbGUuc2l6ZSxcbiAgICAgICAgICBhbHQ6IGRldGFpbEFsdElucHV0Py52YWx1ZSB8fCAnJyxcbiAgICAgICAgICBkYXRhOiBiYXNlNjQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2gobWVkaWFBcGlCYXNlLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgY29uc3QgZXJyb3JQYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvclBheWxvYWQubWVzc2FnZSB8fCAnVXBsb2FkIGltcG9zc2libGUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2F2ZWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIHNhdmVkLmdyb3VwVHlwZSA9IGRlcml2ZUdyb3VwVHlwZShzYXZlZCk7XG4gICAgICAgIG1lZGlhSXRlbXMgPSBbLi4ubWVkaWFJdGVtcywgc2F2ZWRdO1xuICAgICAgICBoaWdobGlnaHRNZWRpYUlkID0gc2F2ZWQuaWQ7XG4gICAgICAgIGFwcGx5RmlsdGVycygpO1xuICAgICAgICBzZWxlY3RNZWRpYShzYXZlZC5pZCk7XG4gICAgICAgIHNob3dUb2FzdCgnTVx1MDBFOWRpYSBham91dFx1MDBFOScpO1xuICAgICAgICBjbGVhclVwbG9hZFN0YXRlKCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW21lZGlhXSB1cGxvYWQgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIHRcdTAwRTlsXHUwMEU5dmVyc2VyIGNlIG1cdTAwRTlkaWEuJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICB1cGxvYWRJblByb2dyZXNzID0gZmFsc2U7XG4gICAgICAgIHBlbmRpbmdVcGxvYWRGaWxlID0gbnVsbDtcbiAgICAgICAgdXBkYXRlRGV0YWlsQWN0aW9ucyhmYWxzZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHVwbG9hZE9wZW5CdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gZmlsZUlucHV0Py5jbGljaygpKTtcbiAgICBmaWxlSW5wdXQ/LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgICAgIGlmIChmaWxlSW5wdXQuZmlsZXMgJiYgZmlsZUlucHV0LmZpbGVzWzBdKSB7XG4gICAgICAgIGhhbmRsZUZpbGVTZWxlY3Rpb24oZmlsZUlucHV0LmZpbGVzWzBdKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBjb25zdCBjbG9zZURlbGV0ZU1vZGFsID0gKCkgPT4ge1xuICAgICAgaWYgKCFkZWxldGVNb2RhbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBkZWxldGVNb2RhbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGRlbGV0ZU1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2ZsZXgnKTtcbiAgICB9O1xuXG4gICAgY29uc3Qgb3BlbkRlbGV0ZU1vZGFsID0gKCkgPT4ge1xuICAgICAgaWYgKCFhY3RpdmVNZWRpYUlkIHx8IHVwbG9hZE1vZGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGRlbGV0ZU1vZGFsKSB7XG4gICAgICAgIGRlbGV0ZU1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICBkZWxldGVNb2RhbC5jbGFzc0xpc3QuYWRkKCdmbGV4Jyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vIEZhbGxiYWNrIHNpIGF1Y3VuZSBtb2RhbGUgbidlc3QgZGlzcG9uaWJsZVxuICAgICAgaWYgKHdpbmRvdy5jb25maXJtKCdTdXBwcmltZXIgY2UgbVx1MDBFOWRpYSA/JykpIHtcbiAgICAgICAgZGVsZXRlQWN0aXZlTWVkaWEoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgZGVsZXRlQWN0aXZlTWVkaWEgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWFjdGl2ZU1lZGlhSWQgfHwgIW1lZGlhQXBpQmFzZSkge1xuICAgICAgICBjbG9zZURlbGV0ZU1vZGFsKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRpc2FibGVCdXR0b25zID0gKCkgPT4ge1xuICAgICAgICBpZiAoZGV0YWlsRGVsZXRlQnV0dG9uKSB7XG4gICAgICAgICAgZGV0YWlsRGVsZXRlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVsZXRlQ29uZmlybUJ1dHRvbikge1xuICAgICAgICAgIGRlbGV0ZUNvbmZpcm1CdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICAgIGRlbGV0ZUNvbmZpcm1CdXR0b24udGV4dENvbnRlbnQgPSAnU3VwcHJlc3Npb25cdTIwMjYnO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgY29uc3QgZW5hYmxlQnV0dG9ucyA9ICgpID0+IHtcbiAgICAgICAgaWYgKGRldGFpbERlbGV0ZUJ1dHRvbikge1xuICAgICAgICAgIGRldGFpbERlbGV0ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkZWxldGVDb25maXJtQnV0dG9uKSB7XG4gICAgICAgICAgZGVsZXRlQ29uZmlybUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgIGRlbGV0ZUNvbmZpcm1CdXR0b24udGV4dENvbnRlbnQgPSAnU3VwcHJpbWVyJztcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGRpc2FibGVCdXR0b25zKCk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgICAgIGAke21lZGlhQXBpQmFzZX0vJHtlbmNvZGVVUklDb21wb25lbnQoYWN0aXZlTWVkaWFJZCl9YCxcbiAgICAgICAgICB7IG1ldGhvZDogJ0RFTEVURScgfSxcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHBheWxvYWQubWVzc2FnZSB8fCAnU3VwcHJlc3Npb24gaW1wb3NzaWJsZS4nKTtcbiAgICAgICAgfVxuICAgICAgICBtZWRpYUl0ZW1zID0gbWVkaWFJdGVtcy5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0uaWQgIT09IGFjdGl2ZU1lZGlhSWQpO1xuICAgICAgICBmaWx0ZXJlZEl0ZW1zID0gZmlsdGVyZWRJdGVtcy5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0uaWQgIT09IGFjdGl2ZU1lZGlhSWQpO1xuICAgICAgICBzaG93VG9hc3QoJ01cdTAwRTlkaWEgc3VwcHJpbVx1MDBFOScpO1xuICAgICAgICByZXNldERldGFpbFBhbmVsKCk7XG4gICAgICAgIHVwZGF0ZUNvdW50QmFkZ2UoKTtcbiAgICAgICAgcmVuZGVyR3JpZCgpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1ttZWRpYV0gZGVsZXRlIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBzdXBwcmltZXIgY2UgbVx1MDBFOWRpYS4nKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGVuYWJsZUJ1dHRvbnMoKTtcbiAgICAgICAgY2xvc2VEZWxldGVNb2RhbCgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBkZWxldGVDYW5jZWxCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VEZWxldGVNb2RhbCk7XG4gICAgZGVsZXRlTW9kYWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSBkZWxldGVNb2RhbCkge1xuICAgICAgICBjbG9zZURlbGV0ZU1vZGFsKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBkZWxldGVDb25maXJtQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGRlbGV0ZUFjdGl2ZU1lZGlhKCkpO1xuICAgIGRldGFpbERlbGV0ZUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuRGVsZXRlTW9kYWwpO1xuXG4gICAgZGV0YWlsU2F2ZUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAodXBsb2FkTW9kZSkge1xuICAgICAgICB1cGxvYWRTZWxlY3RlZE1lZGlhKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghYWN0aXZlTWVkaWFJZCB8fCAhbWVkaWFBcGlCYXNlIHx8ICFkZXRhaWxBbHRJbnB1dCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB1cGRhdGVEZXRhaWxBY3Rpb25zKHRydWUpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IHsgYWx0OiBkZXRhaWxBbHRJbnB1dC52YWx1ZSB8fCAnJyB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgICAgIGAke21lZGlhQXBpQmFzZX0vJHtlbmNvZGVVUklDb21wb25lbnQoYWN0aXZlTWVkaWFJZCl9YCxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgICB9LFxuICAgICAgICApO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgY29uc3QgZXJyb3JQYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvclBheWxvYWQubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBtZXR0cmUgXHUwMEUwIGpvdXIgY2UgbVx1MDBFOWRpYS4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB1cGRhdGVkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBtZWRpYUl0ZW1zID0gbWVkaWFJdGVtcy5tYXAoKGl0ZW0pID0+XG4gICAgICAgICAgaXRlbS5pZCA9PT0gYWN0aXZlTWVkaWFJZCA/IHsgLi4uaXRlbSwgLi4udXBkYXRlZCB9IDogaXRlbSxcbiAgICAgICAgKTtcbiAgICAgICAgZmlsdGVyZWRJdGVtcyA9IGZpbHRlcmVkSXRlbXMubWFwKChpdGVtKSA9PlxuICAgICAgICAgIGl0ZW0uaWQgPT09IGFjdGl2ZU1lZGlhSWQgPyB7IC4uLml0ZW0sIC4uLnVwZGF0ZWQgfSA6IGl0ZW0sXG4gICAgICAgICk7XG4gICAgICAgIGRldGFpbERpcnR5ID0gZmFsc2U7XG4gICAgICAgIHVwZGF0ZURldGFpbEFjdGlvbnMoZmFsc2UpO1xuICAgICAgICBzaG93VG9hc3QoJ01cdTAwRTlkaWEgbWlzIFx1MDBFMCBqb3VyJyk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW21lZGlhXSB1cGRhdGUgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdcdTAwQzljaGVjIGRlIGxhIG1pc2UgXHUwMEUwIGpvdXIuJyk7XG4gICAgICAgIHVwZGF0ZURldGFpbEFjdGlvbnMoZmFsc2UpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgbG9hZE1lZGlhKCk7XG4gIH1cbn0pO1xuIl0sCiAgIm1hcHBpbmdzIjogIk1BQUEsU0FBUyxpQkFBaUIsbUJBQW9CLElBQU0sQ0FDbEQsUUFBUSxJQUFJLDJCQUF3QixFQUNwQyxJQUFNQSxHQUFlLFNBQVMsY0FBYyxlQUFlLEVBQ3ZEQSxJQUNGQSxHQUFhLGlCQUFpQixRQUFTLFNBQVksQ0FDakRBLEdBQWEsU0FBVyxHQUN4QixHQUFJLENBQ0YsTUFBTSxNQUFNLGNBQWUsQ0FDekIsT0FBUSxPQUNSLFFBQVMsQ0FDUCxlQUFnQixrQkFDbEIsQ0FDRixDQUFDLENBQ0gsT0FBU0MsRUFBSyxDQUNaLFFBQVEsTUFBTSwwQ0FBd0NBLENBQUcsQ0FDM0QsUUFBRSxDQUNBLE9BQU8sU0FBUyxLQUFPLG1CQUN6QixDQUNGLENBQUMsRUFHSCxJQUFNQyxHQUFVLFNBQVMsY0FBYyxzQkFBc0IsRUFDdkRDLEdBQWlCLFNBQVMsY0FBYyw4QkFBOEIsRUFDdEVDLEdBQWlCLFNBQVMsaUJBQWlCLDZCQUE2QixFQUN4RUMsR0FBc0IsU0FBUyxpQkFBaUIsNEJBQTRCLEVBQzVFQyxHQUFPLFNBQVMsS0FDbEJDLEdBQWMsR0FFWkMsR0FBb0IsSUFBTSxDQUM5QixHQUFJLENBQUNOLEdBQ0gsT0FHRixHQURrQixPQUFPLFdBQVcscUJBQXFCLEVBQUUsUUFDNUMsQ0FDYkEsR0FBUSxVQUFVLE9BQU8sUUFBUSxFQUNqQ0MsSUFBQSxNQUFBQSxHQUFnQixVQUFVLElBQUksVUFDOUJHLEdBQUssVUFBVSxPQUFPLGlCQUFpQixFQUN2QyxNQUNGLENBQ0lDLElBQ0ZMLEdBQVEsVUFBVSxPQUFPLFFBQVEsRUFDakNDLElBQUEsTUFBQUEsR0FBZ0IsVUFBVSxPQUFPLFVBQ2pDRyxHQUFLLFVBQVUsSUFB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QUFZLElBQUksbUJBQW1CRyxDQUFhLENBQUMsR0FDcEQsQ0FDRSxPQUFRLE1BQ1IsUUFBUyxDQUFFLGVBQWdCLGtCQUFtQixFQUM5QyxLQUFNLEtBQUssVUFBVXBjLENBQU8sQ0FDOUIsQ0FDRixFQUNBLEdBQUksQ0FBQ0QsRUFBUyxHQUFJLENBQ2hCLElBQU1xWCxFQUFlLE1BQU1yWCxFQUFTLEtBQUssRUFBRSxNQUFNLEtBQU8sQ0FBQyxFQUFFLEVBQzNELE1BQU0sSUFBSSxNQUFNcVgsRUFBYSxTQUFXLDZDQUF1QyxDQUNqRixDQUNBLElBQU1zSCxFQUFVLE1BQU0zZSxFQUFTLEtBQUssRUFDcENtYyxFQUFhQSxFQUFXLElBQUt4UixHQUMzQkEsRUFBSyxLQUFPMFIsRUFBZ0IsQ0FBRSxHQUFHMVIsRUFBTSxHQUFHZ1UsQ0FBUSxFQUFJaFUsQ0FDeEQsRUFDQXlSLEVBQWdCQSxFQUFjLElBQUt6UixHQUNqQ0EsRUFBSyxLQUFPMFIsRUFBZ0IsQ0FBRSxHQUFHMVIsRUFBTSxHQUFHZ1UsQ0FBUSxFQUFJaFUsQ0FDeEQsRUFDQThSLEVBQWMsR0FDZFksR0FBb0IsRUFBSyxFQUN6QjFlLEVBQVUsd0JBQWtCLENBQzlCLE9BQVMvQyxFQUFLLENBQ1osUUFBUSxNQUFNLHdCQUF5QkEsQ0FBRyxFQUMxQytDLEVBQVUvQyxFQUFJLFNBQVcsZ0NBQTBCLEVBQ25EeWhCLEdBQW9CLEVBQUssQ0FDM0IsRUFDRixHQUVBVyxHQUFVLENBQ1osQ0FDRixDQUFDIiwKICAibmFtZXMiOiBbImxvZ291dEJ1dHRvbiIsICJlcnIiLCAic2lkZWJhciIsICJzaWRlYmFyT3ZlcmxheSIsICJzaWRlYmFyVG9nZ2xlcyIsICJzaWRlYmFyQ2xvc2VCdXR0b25zIiwgImJvZHkiLCAic2lkZWJhck9wZW4iLCAiYXBwbHlTaWRlYmFyU3RhdGUiLCAib3BlblNpZGViYXIiLCAiY2xvc2VTaWRlYmFyIiwgImJ1dHRvbiIsICJldmVudCIsICJBQ1RJVkVfU0lURV9LRVkiLCAiQUNUSVZFX1NJVEVfTkFNRV9LRVkiLCAic3RvcmVkU2l0ZSIsICJzaXRlQ2FyZHMiLCAic2l0ZVNlbGVjdEJ1dHRvbnMiLCAic2l0ZU5hbWVMYWJlbCIsICJ3b3Jrc3BhY2VTaXRlTGFiZWwiLCAid29ya3NwYWNlQmFja05hbWUiLCAid29ya3NwYWNlQmFja01vZGFsIiwgIndvcmtzcGFjZUJhY2tCdXR0b25zIiwgIndvcmtzcGFjZUJhY2tDYW5jZWwiLCAid29ya3NwYWNlQmFja0NvbmZpcm0iLCAid29ya3NwYWNlTmF2TGlua3MiLCAic2l0ZVRvYXN0IiwgInNpdGVUb2FzdE1lc3NhZ2UiLCAic2l0ZUNyZWF0ZUJ1dHRvbnMiLCAic2l0ZU1vZGFsIiwgInNpdGVGb3JtIiwgInNpdGVOYW1lSW5wdXQiLCAic2l0ZVNsdWdJbnB1dCIsICJzaXRlU2x1Z0Vycm9yIiwgInNpdGVNb2RhbEVycm9yIiwgInNpdGVNb2RhbENhbmNlbEJ1dHRvbnMiLCAic2l0ZU1vZGFsU3VibWl0QnV0dG9uIiwgIndvcmtzcGFjZUNvbnRleHQiLCAiZ2V0V29ya3NwYWNlQ29udGV4dCIsICJzbHVnTWFudWFsbHlFZGl0ZWQiLCAibGFzdEZvY3VzZWRFbGVtZW50IiwgInRvYXN0VGltZW91dElkIiwgImZvY3VzYWJsZVNlbGVjdG9yIiwgInRyYXBGb2N1cyIsICJmb2N1c2FibGVFbGVtZW50cyIsICJlbCIsICJmaXJzdCIsICJsYXN0IiwgInNob3dUb2FzdCIsICJtZXNzYWdlIiwgImVuc3VyZUxlYWRpbmdTbGFzaCIsICJzbHVnIiwgInN0cmlwTGVhZGluZ1NsYXNoIiwgInBlcnNpc3RTaXRlU3RhdGUiLCAibmFtZSIsICJub3JtYWxpemVkU2x1ZyIsICJ1cGRhdGVTaXRlTGFiZWxzIiwgInVwZGF0ZVdvcmtzcGFjZU5hdkxpbmtzIiwgImxpbmsiLCAidGFiIiwgInNsdWdQYXRoIiwgImFwcGx5QWN0aXZlU2l0ZSIsICJvcHRpb25zIiwgImFjdGl2ZVNpdGVOYW1lIiwgImNhcmQiLCAiaXNBY3RpdmUiLCAiYmFkZ2UiLCAiZmluYWxOYW1lIiwgInNlbGVjdFNpdGUiLCAicmVzcG9uc2UiLCAicGF5bG9hZCIsICJmaW5hbFNsdWciLCAic3luY0FjdGl2ZVNpdGVGcm9tU2VydmVyIiwgInNpdGUiLCAiZGVmYXVsdENhcmQiLCAid29ya3NwYWNlU2x1Z2lmeSIsICJ2YWx1ZSIsICJub3JtYWxpemVTbHVnVmFsdWUiLCAiYmFzZSIsICJvcGVuU2l0ZU1vZGFsIiwgImNsb3NlU2l0ZU1vZGFsIiwgImdldFNsdWdTZXQiLCAibmFtZVZhbHVlIiwgInNsdWdWYWx1ZSIsICJjcmVhdGVkU2l0ZSIsICJjbG9zZVdvcmtzcGFjZUJhY2tNb2RhbCIsICJtYXRjaCIsICJkZXRlY3RXb3Jrc3BhY2VTZWN0aW9uIiwgIm9wZW5Xb3Jrc3BhY2VCYWNrTW9kYWwiLCAiYWN0aXZlU2VjdGlvbiIsICJpbml0RGVzaWduV29ya3NwYWNlIiwgImluaXRDb250ZW50V29ya3NwYWNlIiwgImluaXRNZWRpYVdvcmtzcGFjZSIsICJpbml0RGVwbG95V29ya3NwYWNlIiwgImluaXRTZXR0aW5nc1dvcmtzcGFjZSIsICJwYWdlTGlzdHMiLCAiYWN0aXZlVGl0bGUiLCAiYWN0aXZlU2x1ZyIsICJwcmV2aWV3VGFncyIsICJwcmV2aWV3RnJhbWUiLCAicHJldmlld09wZW5CdXR0b24iLCAicHJldmlld1N0YXR1cyIsICJwcmV2aWV3SGlnaGxpZ2h0T3ZlcmxheSIsICJzZW9Ub2dnbGVCdXR0b24iLCAic2VvUGFuZWwiLCAic2VvQ2xvc2VCdXR0b24iLCAic2VvRm9ybSIsICJzZW9UaXRsZUlucHV0IiwgInNlb0Rlc2NyaXB0aW9uSW5wdXQiLCAic2VvRmVlZGJhY2siLCAic2VvU2F2ZUJ1dHRvbiIsICJibG9ja0xpc3QiLCAiYmxvY2tMaXN0RW1wdHkiLCAiYmxvY2tDb3VudEJhZGdlIiwgImJsb2NrTGlicmFyeVRvZ2dsZSIsICJibG9ja0xpYnJhcnkiLCAiYmxvY2tBZGRCdXR0b25zIiwgImJsb2NrRGVsZXRlTW9kYWwiLCAiYmxvY2tEZWxldGVDb25maXJtIiwgImJsb2NrRGVsZXRlQ2FuY2VsIiwgImJsb2NrRGV0YWlsRW1wdHkiLCAiYmxvY2tEZXRhaWxTdGF0dXMiLCAiYmxvY2tFZGl0b3IiLCAiYmxvY2tFZGl0b3JUaXRsZSIsICJibG9ja0VkaXRvclR5cGUiLCAiYmxvY2tFZGl0b3JVbnN1cHBvcnRlZCIsICJibG9ja0Zvcm0iLCAiYmxvY2tGb3JtU2VjdGlvbnMiLCAiY29sbGVjdGlvblNlbGVjdCIsICJjb2xsZWN0aW9uU2VsZWN0aW9uSW5mbyIsICJibG9ja0Zvcm1DYW5jZWwiLCAiZ3JvdXBQcmV2aWV3TW9iaWxlIiwgImdyb3VwUHJldmlld0Rlc2t0b3AiLCAiYmxvY2tUeXBlRm9ybXMiLCAiYmxvY2tUeXBlQWxpYXNlcyIsICJ1cGRhdGVHcm91cE1pbmlQcmV2aWV3IiwgIm1vYmlsZVZhbHVlIiwgImRlc2t0b3BWYWx1ZSIsICJyZW5kZXJCb3hlcyIsICJjb3VudCIsICJmZXRjaFBhZ2VzRnJvbVNlcnZlciIsICJwYWdlc0FwaUJhc2UiLCAiY3JlYXRlUGFnZU9uU2VydmVyIiwgInRpdGxlIiwgInNhdmVQYWdlVG9TZXJ2ZXIiLCAicGFnZSIsICJzYXZlZCIsICJub3JtYWxpemVkIiwgIm5vcm1hbGl6ZVBhZ2VEYXRhIiwgInBhZ2VzIiwgImVudHJ5IiwgImN1cnJlbnRQYWdlIiwgImxvYWRQYWdlc0Zyb21TZXJ2ZXIiLCAiYWN0aXZlUGFnZUlkIiwgInJlbmRlclBhZ2VMaXN0cyIsICJyZW5kZXJCbG9ja0xpc3QiLCAibG9hZGVkUGFnZXMiLCAiZ2V0TG9hZGluZ1ByZXZpZXdIdG1sIiwgImdldFN0b3JlZEFjdGl2ZVBhZ2UiLCAic2V0QWN0aXZlUGFnZSIsICJub3JtYWxpemVUeXBlIiwgImdldEJsb2NrRm9ybUNvbmZpZyIsICJibG9jayIsICJ0eXBlS2V5IiwgImFsaWFzIiwgInBvcHVsYXRlQmxvY2tGb3JtIiwgIl9hIiwgIl9iIiwgIl9jIiwgImNvbmZpZyIsICJzZWN0aW9uIiwgImRlc2lyZWRWYWx1ZSIsICJ1cGRhdGVDb2xsZWN0aW9uU2VsZWN0T3B0aW9ucyIsICJzZXR0aW5nS2V5IiwgImZpZWxkTmFtZSIsICJpbnB1dCIsICJjb2xsZWN0Rm9ybVZhbHVlcyIsICJ2YWx1ZXMiLCAicGFyc2VkIiwgInVwZGF0ZVByZXZpZXdTdGF0dXMiLCAidGV4dCIsICJzZXJpYWxpemVQYWdlRm9yUHJldmlldyIsICJyZWZyZXNoUHJldmlldyIsICJwcmV2aWV3U2l0ZVNsdWciLCAicHJldmlld1JlYWR5IiwgInByZXZpZXdSZXF1ZXN0Q29udHJvbGxlciIsICJjb250cm9sbGVyIiwgImRhdGEiLCAibGF0ZXN0UHJldmlld0h0bWwiLCAiZXJyb3IiLCAiaGFuZGxlQmxvY2tGb3JtU3VibWl0IiwgImFjdGl2ZUJsb2NrSWQiLCAiZ2V0QWN0aXZlQmxvY2siLCAidXBkYXRlZEJsb2NrcyIsICJ1cGRhdGVkU2V0dGluZ3MiLCAidXBkYXRlZEJsb2NrIiwgInVwZGF0ZUN1cnJlbnRQYWdlQmxvY2tzIiwgImRyYXdlciIsICJkcmF3ZXJCYWNrZHJvcCIsICJkcmF3ZXJPcGVuQnV0dG9ucyIsICJkcmF3ZXJDbG9zZUJ1dHRvbnMiLCAiYWRkUGFnZVRvZ2dsZSIsICJhZGRQYWdlRm9ybSIsICJhZGRQYWdlVGl0bGUiLCAiYWRkUGFnZVNsdWciLCAiYWRkUGFnZUNhbmNlbCIsICJhZGRQYWdlRXJyb3IiLCAiYWRkUGFnZVN1Ym1pdEJ1dHRvbiIsICJzaXRlS2V5IiwgInNpdGVTbHVnVmFsdWUiLCAic2FmZVNpdGVTbHVnIiwgImNvbGxlY3Rpb25zQXBpQmFzZSIsICJzdG9yYWdlS2V5cyIsICJjcmVhdGVCbG9jayIsICJpZCIsICJsYWJlbCIsICJ0eXBlIiwgInN0YXR1cyIsICJkZXNjcmlwdGlvbiIsICJwcm9wcyIsICJzZXR0aW5ncyIsICJibG9ja0xpYnJhcnlEZWZpbml0aW9ucyIsICJwZXJzaXN0QWN0aXZlUGFnZSIsICJwYWdlSWQiLCAic3RvcmVkIiwgImZvcm1hdEJsb2NrQ291bnQiLCAibm9ybWFsaXplUGFnZVNsdWciLCAiZ2VuZXJhdGVCbG9ja0lkIiwgImtleSIsICJjcmVhdGVJbml0aWFsQmxvY2tzIiwgInNldEFjdGl2ZUxhYmVscyIsICJyZW5kZXJQcmV2aWV3TWV0YSIsICJ0YWciLCAiZ2V0U3RhdHVzQmFkZ2VDbGFzc2VzIiwgInJlbmRlckJsb2NrRGV0YWlscyIsICJhcHBseVByZXZpZXdIaWdobGlnaHQiLCAiYmxvY2tJZCIsICJkb2MiLCAibm9kZSIsICJibG9ja3MiLCAiaXRlbSIsICJhY2NlbnQiLCAiY29udGVudCIsICJoYW5kbGUiLCAidGV4dFdyYXBwZXIiLCAibWV0YSIsICJ0eXBlQmFkZ2UiLCAic3RhdHVzQmFkZ2UiLCAiZGlzcGxheUxhYmVsIiwgImNvbGxlY3Rpb25OYW1lIiwgImRlc2lnbkNvbGxlY3Rpb25zIiwgImluZm8iLCAiYWN0aW9ucyIsICJtb3ZlQnV0dG9ucyIsICJtb3ZlVXAiLCAibW92ZUJsb2NrQnlPZmZzZXQiLCAibW92ZURvd24iLCAiZGVsZXRlQnV0dG9uIiwgIm9wZW5CbG9ja0RlbGV0ZU1vZGFsIiwgInNldEFjdGl2ZUJsb2NrIiwgImFjdGl2ZUlkIiwgImxpc3QiLCAiaXNEZXNrdG9wRHJhd2VyIiwgImNsb3NlRHJhd2VyIiwgInRhcmdldEJsb2NrIiwgIm5ld0Jsb2NrcyIsICJuZXh0UGFnZSIsICJ1cGRhdGVDdXJyZW50UGFnZVN0YXRlIiwgImlzRGVza3RvcFJlb3JkZXIiLCAib2Zmc2V0IiwgImluZGV4IiwgIm5ld0luZGV4IiwgIm1vdmVkIiwgInJlb3JkZXJCbG9ja3MiLCAic291cmNlSWQiLCAidGFyZ2V0SWQiLCAiZnJvbUluZGV4IiwgInRvSW5kZXgiLCAidXBkYXRlRHJhZ2dhYmxlU3RhdGUiLCAiZHJhZ2dhYmxlIiwgImNsb3NlQmxvY2tMaWJyYXJ5IiwgImJsb2NrTGlicmFyeU9wZW4iLCAib3BlbkJsb2NrTGlicmFyeSIsICJ0b2dnbGVCbG9ja0xpYnJhcnkiLCAiYWRkQmxvY2tGcm9tTGlicmFyeSIsICJkZWZpbml0aW9uIiwgIm5ld0Jsb2NrIiwgImZpcnN0Q29sbGVjdGlvbklkIiwgIm5leHRCbG9ja3MiLCAiZGVsZXRlQmxvY2tCeUlkIiwgIm5leHRBY3RpdmUiLCAiY2xvc2VCbG9ja0RlbGV0ZU1vZGFsIiwgInBlbmRpbmdEZWxldGVCbG9ja0lkIiwgInRhcmdldCIsICJzeW5jRHJhd2VyU3RhdGUiLCAib3BlbkRyYXdlciIsICJvcGVuQWRkUGFnZUZvcm0iLCAicGFnZVNsdWdNYW51YWxseUVkaXRlZCIsICJjbG9zZUFkZFBhZ2VGb3JtIiwgInN5bmNTbHVnRnJvbVRpdGxlIiwgIm5vcm1hbGl6ZUJsb2NrRGF0YSIsICJsb2FkRGVzaWduQ29sbGVjdGlvbnMiLCAiY3VycmVudFZhbHVlIiwgInN5bmNDb2xsZWN0aW9uU2VsZWN0aW9uSW5mbyIsICJjb2xsZWN0aW9uSWQiLCAiY29sbGVjdGlvbiIsICJkZXRhaWxzIiwgInNlbGVjdGVkVmFsdWUiLCAib3B0aW9uIiwgImZhbGxiYWNrT3B0aW9uIiwgImNyZWF0ZWRQYWdlIiwgInByZXZpZXdXaW5kb3ciLCAidG9nZ2xlU2VvUGFuZWwiLCAic2hvdyIsICJzZXRTZW9GZWVkYmFjayIsICJ0b25lIiwgImNvbG9yIiwgImlzVmlzaWJsZSIsICJzZW9EYXRhIiwgInVwZGF0ZWRQYWdlIiwgImhhbmRsZUJsb2NrRHJhZ1N0YXJ0IiwgImRyYWdTb3VyY2VJZCIsICJjbGVhckRyYWdJbmRpY2F0b3JzIiwgImhhbmRsZUJsb2NrRHJhZ0VuZCIsICJoYW5kbGVCbG9ja0RyYWdPdmVyIiwgImhhbmRsZUJsb2NrRHJhZ0xlYXZlIiwgImhhbmRsZUJsb2NrRHJvcCIsICJzb3VyY2UiLCAiY29sbGVjdGlvbkxpc3QiLCAiY29sbGVjdGlvbkVtcHR5U3RhdGUiLCAiY29sbGVjdGlvbkl0ZW1zRW1wdHkiLCAiaXRlbVRhYmxlV3JhcHBlciIsICJpdGVtVGFibGVCb2R5IiwgImNvbGxlY3Rpb25UaXRsZSIsICJjb2xsZWN0aW9uRGVzY3JpcHRpb24iLCAiY29sbGVjdGlvbkRyYXdlciIsICJjb2xsZWN0aW9uRHJhd2VyQmFja2Ryb3AiLCAiY29sbGVjdGlvbkRyYXdlck9wZW5CdXR0b25zIiwgImNvbGxlY3Rpb25EcmF3ZXJDbG9zZUJ1dHRvbnMiLCAiaXRlbUFkZEJ1dHRvbiIsICJpdGVtRGV0YWlsRW1wdHkiLCAiaXRlbUZvcm0iLCAiaXRlbUZvcm1GaWVsZHMiLCAiaXRlbVN0YXR1c0JhZGdlIiwgIml0ZW1EZWxldGVCdXR0b24iLCAiaXRlbURlbGV0ZU1vZGFsIiwgIml0ZW1EZWxldGVDYW5jZWwiLCAiaXRlbURlbGV0ZUNvbmZpcm0iLCAiaXRlbUZvcm1DYW5jZWwiLCAiaXRlbUZvcm1TYXZlIiwgInN0YXR1c0JhZGdlQmFzZUNsYXNzIiwgInNhZmVTaXRlU2x1Z1ZhbHVlIiwgImNvbGxlY3Rpb25zIiwgImNvbGxlY3Rpb25JdGVtcyIsICJhY3RpdmVDb2xsZWN0aW9uSWQiLCAiYWN0aXZlSXRlbUlkIiwgImlzQ3JlYXRpbmdJdGVtIiwgIml0ZW1TbHVnTWFudWFsbHlFZGl0ZWQiLCAicGVuZGluZ0RlbGV0ZUl0ZW1JZCIsICJvcGVuQ29sbGVjdGlvbkRyYXdlciIsICJjbG9zZUNvbGxlY3Rpb25EcmF3ZXIiLCAibm9ybWFsaXplSXRlbVNsdWdJbnB1dCIsICJyYXciLCAiY2xlYW5lZFNlZ21lbnRzIiwgInNlZ21lbnQiLCAiZm9ybWF0SXRlbURhdGUiLCAiZGF0ZSIsICJ1cGRhdGVDb2xsZWN0aW9uSGVhZGVyIiwgInVwZGF0ZUl0ZW1zRW1wdHlNZXNzYWdlIiwgImhpZGVJdGVtRm9ybSIsICJzaG93SXRlbUZvcm0iLCAic3luY0FkZEJ1dHRvblN0YXRlIiwgInN5bmNJdGVtU3RhdHVzQmFkZ2UiLCAiY29sb3JDbGFzcyIsICJyZW5kZXJDb2xsZWN0aW9uTGlzdCIsICJzZXRBY3RpdmVDb2xsZWN0aW9uIiwgInJlbmRlckl0ZW1UYWJsZSIsICJyb3ciLCAic3RhdHVzQ2xhc3NlcyIsICJoYW5kbGVTZWxlY3QiLCAic2VsZWN0SXRlbSIsICJpdGVtSWQiLCAicG9wdWxhdGVJdGVtRm9ybSIsICJwcmVwYXJlTmV3SXRlbUZvcm0iLCAiY29sbGVjdEl0ZW1Gb3JtVmFsdWVzIiwgIl9kIiwgIl9lIiwgIl9mIiwgInNsdWdJbnB1dCIsICJzdW1tYXJ5IiwgImltYWdlIiwgInNldEZvcm1TYXZpbmdTdGF0ZSIsICJpc1NhdmluZyIsICJmZXRjaENvbGxlY3Rpb25JdGVtcyIsICJjcmVhdGVDb2xsZWN0aW9uSXRlbSIsICJ1cGRhdGVDb2xsZWN0aW9uSXRlbSIsICJkZWxldGVDb2xsZWN0aW9uSXRlbSIsICJsb2FkQ29sbGVjdGlvbnMiLCAiZGVmYXVsdElkIiwgInNhdmVkSXRlbSIsICJjbG9zZURlbGV0ZU1vZGFsIiwgIm9wZW5EZWxldGVNb2RhbCIsICJmb3JtIiwgInByb3RvY29sU2VsZWN0IiwgImhvc3RJbnB1dCIsICJwb3J0SW5wdXQiLCAidXNlcklucHV0IiwgInBhc3N3b3JkSW5wdXQiLCAic2hvd1Bhc3N3b3JkVG9nZ2xlIiwgInJlbW90ZVBhdGhJbnB1dCIsICJmZWVkYmFjayIsICJzYXZlQnV0dG9uIiwgInRlc3RCdXR0b24iLCAiZGVwbG95QnV0dG9uIiwgImhpc3RvcnlMaXN0IiwgImxvZ0JveCIsICJkZXBsb3lBcGlCYXNlIiwgImRlcGxveVJ1bkFwaSIsICJkZXBsb3lMb2dBcGkiLCAiaGFzUGFzc3dvcmQiLCAiYnVzeUFjdGlvbiIsICJzYW5pdGl6ZVJlbW90ZVBhdGgiLCAidHJpbW1lZCIsICJzZXRGZWVkYmFjayIsICJiYXNlQ2xhc3MiLCAidG9uZUNsYXNzIiwgImljb24iLCAic2V0QnVzeSIsICJhY3Rpb24iLCAiZGlzYWJsZSIsICJzcGlubmVyIiwgInBvcHVsYXRlRm9ybSIsICJyZW5kZXJIaXN0b3J5IiwgImVudHJpZXMiLCAibGkiLCAiZHVyYXRpb24iLCAicmVuZGVyTG9ncyIsICJsaW5lcyIsICJmZXRjaEhpc3RvcnkiLCAiZmV0Y2hDb25maWciLCAiYnVpbGRQYXlsb2FkIiwgInB3ZCIsICJlcnJvclBheWxvYWQiLCAicmVzdWx0IiwgInRhYkJ1dHRvbnMiLCAidGFiUGFuZWxzIiwgInNpdGVGZWVkYmFjayIsICJ0aGVtZUZvcm0iLCAic3dpdGNoVGFiIiwgImJ0biIsICJwYW5lbCIsICJzdWJtaXQiLCAiZm9ybURhdGEiLCAiY3VycmVudFBhc3N3b3JkIiwgIm5ld1Bhc3N3b3JkIiwgImNvbmZpcm1QYXNzd29yZCIsICJuYW1lSW5wdXQiLCAibGFuZ1NlbGVjdCIsICJ0YWdsaW5lSW5wdXQiLCAic2V0U2l0ZUZlZWRiYWNrIiwgInNpdGVDb25maWdBcGkiLCAibG9hZFNpdGVDb25maWciLCAidGhlbWVBcGkiLCAiY29sb3JTZWxlY3RzIiwgImhlYWRpbmdTZWxlY3QiLCAiYm9keVNlbGVjdCIsICJyYWRpdXNTbWFsbCIsICJyYWRpdXNNZWRpdW0iLCAicmFkaXVzTGFyZ2UiLCAicHJldmlldyIsICJ0aGVtZUZlZWRiYWNrIiwgImFwcGx5QnV0dG9uIiwgInRhaWx3aW5kSHVlcyIsICJ0YWlsd2luZFNoYWRlcyIsICJ0YWlsd2luZFRva2VucyIsICJoIiwgInMiLCAiZmlsbENvbG9yT3B0aW9ucyIsICJzZWwiLCAidG9rZW4iLCAic2V0VGhlbWVGZWVkYmFjayIsICJzeW5jUHJldmlldyIsICJ0b2tlblRvSGV4IiwgInNoYWRlTnVtIiwgImZhY3RvciIsICJ0b1JnYiIsICJoZXgiLCAidiIsICJyIiwgImciLCAiYiIsICJtaXgiLCAic2V0Q29sb3JGaWVsZHMiLCAibG9hZFRoZW1lIiwgIl9nIiwgIl9oIiwgIl9pIiwgIl9qIiwgImdyaWQiLCAiZW1wdHlTdGF0ZSIsICJjb3VudEJhZGdlIiwgImZpbHRlclR5cGUiLCAiZGV0YWlsRW1wdHkiLCAiZGV0YWlsUGFuZWwiLCAiZGV0YWlsUHJldmlldyIsICJkZXRhaWxOYW1lIiwgImRldGFpbFR5cGUiLCAiZGV0YWlsU2l6ZSIsICJkZXRhaWxQYXRoIiwgImRldGFpbFVzZWQiLCAiZGV0YWlsQWx0SW5wdXQiLCAiZGV0YWlsU2F2ZUJ1dHRvbiIsICJkZXRhaWxEZWxldGVCdXR0b24iLCAiZGVsZXRlTW9kYWwiLCAiZGVsZXRlQ2FuY2VsQnV0dG9uIiwgImRlbGV0ZUNvbmZpcm1CdXR0b24iLCAidXBsb2FkT3BlbkJ1dHRvbiIsICJmaWxlSW5wdXQiLCAidXBsb2FkU3RhdHVzIiwgIm1lZGlhQXBpQmFzZSIsICJtZWRpYUl0ZW1zIiwgImZpbHRlcmVkSXRlbXMiLCAiYWN0aXZlTWVkaWFJZCIsICJoaWdobGlnaHRNZWRpYUlkIiwgInBlbmRpbmdVcGxvYWRGaWxlIiwgInVwbG9hZEluUHJvZ3Jlc3MiLCAiZGV0YWlsRGlydHkiLCAidXBsb2FkTW9kZSIsICJ1cGxvYWRQcmV2aWV3VXJsIiwgImRlcml2ZUdyb3VwVHlwZSIsICJmaWxlbmFtZSIsICJpc0ltYWdlVHlwZSIsICJmb3JtYXRUeXBlTGFiZWwiLCAiZXh0IiwgImZvcm1hdEZpbGVTaXplIiwgInNpemUiLCAicmVzZXREZXRhaWxQYW5lbCIsICJjbGVhclVwbG9hZFN0YXRlIiwgInVwZGF0ZURldGFpbEFjdGlvbnMiLCAidXBkYXRlQ291bnRCYWRnZSIsICJyZW5kZXJHcmlkIiwgInNlbGVjdE1lZGlhIiwgInJlbmRlclVzZWRJbiIsICJzYXZpbmciLCAibWVkaWFJZCIsICJzaG93VXBsb2FkUHJldmlldyIsICJmaWxlIiwgImFwcGx5RmlsdGVycyIsICJ0eXBlRmlsdGVyIiwgImxvYWRNZWRpYSIsICJoYW5kbGVGaWxlU2VsZWN0aW9uIiwgInJlYWRGaWxlQXNCYXNlNjQiLCAicmVzb2x2ZSIsICJyZWplY3QiLCAicmVhZGVyIiwgImJhc2U2NCIsICJ1cGxvYWRTZWxlY3RlZE1lZGlhIiwgImRlbGV0ZUFjdGl2ZU1lZGlhIiwgImRpc2FibGVCdXR0b25zIiwgImVuYWJsZUJ1dHRvbnMiLCAidXBkYXRlZCJdCn0K
