(()=>{document.addEventListener("DOMContentLoaded",()=>{var No;console.log("[admin] Atelier charg\xE9");let Nr=document.querySelector("[data-logout]");Nr&&Nr.addEventListener("click",async()=>{Nr.disabled=!0;try{await fetch("/api/logout",{method:"POST",headers:{"Content-Type":"application/json"}})}catch(o){console.error("[admin] Impossible de se d\xE9connecter",o)}finally{window.location.href="/admin/index.html"}});let qs=document.querySelector("[data-admin-sidebar]"),kt=document.querySelector("[data-admin-sidebar-overlay]"),wo=document.querySelectorAll("[data-admin-sidebar-toggle]"),pn=document.querySelectorAll("[data-admin-sidebar-close]"),Dr=document.body,_s=!1,Ys=()=>{if(!qs)return;if(window.matchMedia("(min-width: 1024px)").matches){qs.classList.remove("hidden"),kt==null||kt.classList.add("hidden"),Dr.classList.remove("overflow-hidden");return}_s?(qs.classList.remove("hidden"),kt==null||kt.classList.remove("hidden"),Dr.classList.add("overflow-hidden")):(qs.classList.add("hidden"),kt==null||kt.classList.add("hidden"),Dr.classList.remove("overflow-hidden"))},gn=()=>{_s=!0,Ys()},Hr=()=>{_s=!1,Ys()};qs&&wo.length>0&&(wo.forEach(o=>{o.addEventListener("click",gn)}),pn.forEach(o=>{o.addEventListener("click",Hr)}),kt==null||kt.addEventListener("click",Hr),window.addEventListener("resize",Ys),window.addEventListener("keydown",o=>{o.key==="Escape"&&_s&&Hr()}),Ys());let So="clower:currentSite",Lo="clower:currentSiteName",me={slug:null,name:""};(()=>{try{let o=window.localStorage.getItem(So);me.slug=o?jt(Me(o)):null,me.name=window.localStorage.getItem(Lo)||""}catch{me.slug=null,me.name=""}})();let Rr=document.querySelectorAll("[data-site-card]"),hn=document.querySelectorAll("[data-site-select]"),As=document.querySelector("[data-current-site-name]"),ko=document.querySelector("[data-workspace-site-name]"),Co=document.querySelector("[data-workspace-back-name]"),Pt=document.querySelector("[data-workspace-back-modal]"),bn=document.querySelectorAll("[data-workspace-back]"),yn=document.querySelectorAll("[data-workspace-back-cancel]"),Ur=document.querySelector("[data-workspace-back-confirm]"),vn=document.querySelectorAll("[data-workspace-tab]"),zr=document.querySelector("[data-site-toast]"),Eo=document.querySelector("[data-site-toast-message]"),xn=document.querySelectorAll("[data-site-create]"),ft=document.querySelector("[data-site-modal]"),lt=document.querySelector("[data-site-form]"),rt=lt==null?void 0:lt.querySelector('input[name="siteName"]'),ze=lt==null?void 0:lt.querySelector('input[name="siteSlug"]'),ot=document.querySelector("[data-site-slug-error]"),nt=document.querySelector("[data-site-modal-error]"),wn=document.querySelectorAll("[data-site-modal-cancel]"),gs=document.querySelector("[data-site-modal-submit]"),te=Pn(),Qs=!1,Or=null,qo='a[href], button:not([disabled]), textarea, input, select, [tabindex]:not([tabindex="-1"])',hs=[],Ao=o=>Array.from(o.querySelectorAll(qo)).filter(a=>!a.hasAttribute("disabled")&&!a.getAttribute("aria-hidden")),Sn=o=>{if(!hs.length)return;let a=hs[hs.length-1],{modal:d,onClose:p}=a;if(o.key==="Escape"){o.preventDefault(),p==null||p();return}if(o.key!=="Tab")return;let h=Ao(d);if(!h.length)return;let x=h[0],_=h[h.length-1];o.shiftKey?document.activeElement===x&&(o.preventDefault(),_.focus()):document.activeElement===_&&(o.preventDefault(),x.focus())};document.addEventListener("keydown",Sn);let Is=(o,a)=>{if(!o)return;hs.push({modal:o,onClose:a,trigger:document.activeElement instanceof HTMLElement?document.activeElement:null});let d=Ao(o);window.setTimeout(()=>{var p,h;(h=(p=d[0]||o).focus)==null||h.call(p)},0)},Ts=o=>{var p,h;let a=hs.findIndex(x=>x.modal===o);if(a===-1)return;let[d]=hs.splice(a,1);(h=(p=d.trigger)==null?void 0:p.focus)==null||h.call(p)},pe=document.querySelector("[data-mobile-panels-overlay]"),ye=document.querySelector("[data-mobile-panels-layer]"),Ct={left:document.querySelector('[data-mobile-panel="left"]'),right:document.querySelector('[data-mobile-panel="right"]')},os=null;ye!=null&&ye.parentElement&&(os=document.createComment("mobile-panels-layer-placeholder"),ye.parentElement.insertBefore(os,ye));let ns=null;(No=Ct.right)!=null&&No.parentElement&&(ns=document.createComment("mobile-panel-right-placeholder"),Ct.right.parentElement.insertBefore(ns,Ct.right));let Io=document.querySelectorAll("[data-mobile-panel-toggle]"),Ln=document.querySelectorAll("[data-mobile-panel-close]"),$s={left:null,right:null},Tt=null,as=()=>window.matchMedia("(min-width: 1024px)").matches,kn=()=>{if(!(!ye||!os)){if(as()){let o=os.parentElement;if(!o)return;(ye.parentElement!==o||os.nextSibling!==ye)&&o.insertBefore(ye,os.nextSibling),ye.dataset.mobilePanelPlacement="sidebar";return}ye.parentElement!==document.body&&(document.body.appendChild(ye),ye.dataset.mobilePanelPlacement="overlay")}},Cn=()=>{let o=Ct.right;if(!(!o||!ns)){if(as()){let a=ns.parentElement;if(!a)return;(o.parentElement!==a||ns.nextSibling!==o)&&a.insertBefore(o,ns.nextSibling),o.dataset.mobilePanelPlacement="sidebar";return}if(ye){let a=Ct.left;a&&a.parentElement===ye?(o.parentElement!==ye||o.previousSibling!==a)&&ye.insertBefore(o,a.nextSibling):o.parentElement!==ye&&ye.appendChild(o),o.dataset.mobilePanelPlacement="overlay"}else o.parentElement!==document.body&&(document.body.appendChild(o),o.dataset.mobilePanelPlacement="overlay")}},To=()=>{kn(),Cn()};To();let Xs={};Object.entries(Ct).forEach(([o,a])=>{if(!a)return;let d=Number(window.getComputedStyle(a).zIndex)||0;Xs[o]=d});let En=(Object.values(Xs).reduce((o,a)=>Math.max(o,a||0),0)||150)+5,er=(o,a)=>{let d=Ct[o];if(d){if(as()){d.style.removeProperty("z-index");return}a?d.style.zIndex=String(En):Xs[o]?d.style.zIndex=String(Xs[o]):d.style.removeProperty("z-index")}},Ot=(o,a,d)=>{!o||!a||a.split(" ").map(p=>p.trim()).filter(Boolean).forEach(p=>o.classList[d](p))},Vr=(o,a)=>{if(!o)return;let d=o.dataset.mobilePanelHidden||"",p=o.dataset.mobilePanelVisible||"translate-x-0";a?(Ot(o,p,"remove"),Ot(o,d,"add"),o.classList.add("pointer-events-none"),o.classList.remove("pointer-events-auto"),o.setAttribute("aria-hidden","true"),o.dataset.mobilePanelOpen="false"):(Ot(o,d,"remove"),Ot(o,p,"add"),o.classList.remove("pointer-events-none"),o.classList.add("pointer-events-auto"),o.setAttribute("aria-hidden","false"),o.dataset.mobilePanelOpen="true")},Bs=(o=Tt)=>{var p;if(!o||as())return;let a=Ct[o];if(!a)return;er(o,!1),Vr(a,!0);let d=$s[o];d&&d.setAttribute("aria-expanded","false"),$s[o]=null,Tt===o&&(pe==null||pe.classList.add("hidden"),pe==null||pe.classList.remove("pointer-events-auto"),pe==null||pe.classList.add("pointer-events-none"),pe==null||pe.setAttribute("aria-hidden","true"),ye==null||ye.classList.add("pointer-events-none"),document.body.classList.remove("overflow-hidden"),(p=d==null?void 0:d.focus)==null||p.call(d),Tt=null)},qn=(o,a)=>{if(!o||as())return;let d=Ct[o];if(!d)return;Tt&&Tt!==o&&Bs(Tt),Vr(d,!1),er(o,!0),Tt=o,$s[o]=a||null,a&&a.setAttribute("aria-expanded","true"),pe==null||pe.classList.remove("hidden","pointer-events-none"),pe==null||pe.classList.add("pointer-events-auto"),pe==null||pe.setAttribute("aria-hidden","false"),ye==null||ye.classList.remove("pointer-events-none"),document.body.classList.add("overflow-hidden");let p=d.querySelector(qo);window.setTimeout(()=>{var h;(h=p==null?void 0:p.focus)==null||h.call(p)},0)},$o=()=>{To(),as()?(pe==null||pe.classList.add("hidden"),ye==null||ye.classList.add("pointer-events-none"),document.body.classList.remove("overflow-hidden"),Tt=null,Object.keys(Ct).forEach(o=>{let a=Ct[o];if(!a)return;er(o,!1),a.classList.remove("pointer-events-none"),a.classList.add("pointer-events-auto"),a.setAttribute("aria-hidden","false"),a.dataset.mobilePanelOpen="false";let d=$s[o];d==null||d.setAttribute("aria-expanded","false"),$s[o]=null})):(Object.entries(Ct).forEach(([o,a])=>{a&&a.dataset.mobilePanelOpen!=="true"&&(Vr(a,!0),er(o,!1))}),Tt||(pe==null||pe.classList.add("hidden","pointer-events-none"),pe==null||pe.classList.remove("pointer-events-auto"),pe==null||pe.setAttribute("aria-hidden","true"),ye==null||ye.classList.add("pointer-events-none")))};Io.length>0&&(Io.forEach(o=>{let a=o.dataset.mobilePanelToggle;o.addEventListener("click",()=>{Tt===a?Bs(a):qn(a,o)})}),Ln.forEach(o=>{let a=o.dataset.mobilePanelClose;o.addEventListener("click",()=>Bs(a))}),pe==null||pe.addEventListener("click",()=>Bs()),window.addEventListener("keydown",o=>{o.key==="Escape"&&Tt&&!as()&&Bs()}),window.addEventListener("resize",$o),$o());let M=o=>{!zr||!Eo||(Eo.textContent=o,zr.classList.remove("hidden"),Or&&clearTimeout(Or),Or=setTimeout(()=>{zr.classList.add("hidden")},2500))};function jt(o){if(!o)return"";let a=`${o}`.trim();if(!a)return"";let d=a.replace(/^\/+/,"");return d?`/${d}`:"/"}function Me(o){return o?`${o}`.replace(/^\/+/,""):""}let tr=(o,a)=>{let d=o?jt(o):null;try{d&&(window.localStorage.setItem(So,d),me.slug=d),typeof a=="string"&&a.length>0&&(window.localStorage.setItem(Lo,a),me.name=a)}catch{me.slug=d||me.slug,me.name=a||me.name}},Bo=o=>{As&&o&&(As.textContent=o),ko&&o&&(ko.textContent=o),Co&&o&&(Co.textContent=o)},Jr=o=>{vn.forEach(a=>{let d=a.dataset.workspaceTab;if(!d)return;if(!o){a.href="#",a.classList.add("pointer-events-none","opacity-50","text-slate-400"),a.setAttribute("aria-disabled","true");return}let p=encodeURIComponent(Me(o));a.href=`/admin/site/${p}/${d}`,a.classList.remove("pointer-events-none","opacity-50","text-slate-400"),a.removeAttribute("aria-disabled")})},sr=(o,a={})=>{if(!o)return;let d=jt(o),p=a.siteName||me.name||(As==null?void 0:As.dataset.defaultSiteName)||"";Rr.forEach(x=>{let O=jt(x.dataset.siteCard||"")===d,Q=x.querySelector("[data-site-active-badge]");O?(x.classList.add("border-[#9C6BFF]","ring-2","ring-[#9C6BFF]","shadow-md"),x.classList.remove("border-slate-200"),Q==null||Q.classList.remove("hidden"),p=x.dataset.siteName||p):(x.classList.remove("border-[#9C6BFF]","ring-2","ring-[#9C6BFF]","shadow-md"),x.classList.add("border-slate-200"),Q==null||Q.classList.add("hidden"))}),a.persist!==!1&&tr(d,a.siteName||p);let h=a.siteName||p;Bo(h),Jr(d)},An=async(o,a)=>{let d=jt(o);try{let p=await fetch("/api/sites/select",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({slug:d})});if(!p.ok){let Q=await p.json().catch(()=>({}));M(Q.message||"Impossible de s\xE9lectionner ce site.");return}let h=await p.json().catch(()=>({})),x=jt(h.slug||d),_=h.name||a;tr(x,_),sr(x,{siteName:_,persist:!1});let O=encodeURIComponent(Me(x));window.location.href=`/admin/site/${O}/design`}catch(p){console.error("[admin] Impossible de s\xE9lectionner le site",p),M("Erreur inattendue lors de la s\xE9lection.")}},In=async()=>{try{let o=await fetch("/api/sites/current",{credentials:"same-origin"});if(!o.ok){o.status===404&&te&&(window.location.href="/admin/sites");return}let a=await o.json(),d=jt(a.slug);tr(d,a.name),sr(d,{siteName:a.name,persist:!1})}catch(o){console.warn("[admin] Impossible de r\xE9cup\xE9rer le site actif",o)}};(()=>{if(me.slug){sr(me.slug,{siteName:me.name,persist:!1});return}let o=document.querySelector('[data-site-card][data-site-default="true"]')||Rr[0];o&&sr(o.dataset.siteCard,{siteName:o.dataset.siteName||"",persist:!1})})(),In(),te?Jr(te.slugValue):me.slug&&Jr(me.slug),hn.forEach(o=>{o.addEventListener("click",()=>{if(o.disabled)return;let a=o.dataset.siteSelect,d=o.dataset.siteSelectName||"Ce site";a&&(o.disabled=!0,An(a,d).finally(()=>{o.disabled=!1}))})});let Vt=o=>(o||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),Tn=o=>{let a=Vt(o||"");return a?`/${a}`:""},$n=()=>{ft&&(ft.classList.remove("hidden"),ft.classList.add("flex"),Qs=!1,lt==null||lt.reset(),ot&&(ot.textContent=""),nt&&(nt.textContent=""),ze&&rt&&(ze.value=Vt(rt.value)),Is(ft,Ps),window.setTimeout(()=>{rt==null||rt.focus()},0))},Ps=()=>{ft&&(ft.classList.add("hidden"),ft.classList.remove("flex"),Qs=!1,lt==null||lt.reset(),ot&&(ot.textContent=""),nt&&(nt.textContent=""),Ts(ft))};xn.forEach(o=>{o.addEventListener("click",$n)}),wn.forEach(o=>{o.addEventListener("click",Ps)}),ft==null||ft.addEventListener("click",o=>{o.target===ft&&Ps()}),rt==null||rt.addEventListener("input",()=>{ze&&((!Qs||ze.value.trim().length===0)&&(ze.value=Vt(rt.value)),ot&&(ot.textContent=""),nt&&(nt.textContent=""))}),ze==null||ze.addEventListener("focus",()=>{let o=(ze==null?void 0:ze.value)||"",a=(rt==null?void 0:rt.value)||"";!o.trim()&&a.trim()&&(ze.value=Vt(a))}),ze==null||ze.addEventListener("input",()=>{Qs=!0,ot&&(ot.textContent=""),nt&&(nt.textContent="")});let Bn=()=>new Set(Array.from(Rr).map(o=>jt(o.dataset.siteCard||"")));lt==null||lt.addEventListener("submit",async o=>{if(o.preventDefault(),console.log("[admin] Form submit - siteNameInput:",rt,"siteSlugInput:",ze),!rt||!ze){console.log("[admin] Missing inputs, aborting");return}let a=(rt.value||"").trim(),d=(ze.value||"").trim();console.log("[admin] nameValue:",a,"slugValue:",d),!d&&a&&(d=Vt(a),ze.value=d,console.log("[admin] Auto-generated slug:",d));let p=Tn(d);if(console.log("[admin] normalizedSlug:",p),!a){console.log("[admin] Name validation failed"),nt&&(nt.textContent="Le nom du site est requis."),rt.focus();return}if(!p){console.log("[admin] Slug validation failed"),ot&&(ot.textContent="Le slug ne peut pas \xEAtre vide ou contenir uniquement des caract\xE8res sp\xE9ciaux."),ze.focus();return}if(Bn().has(p)){ot&&(ot.textContent="Ce slug est d\xE9j\xE0 utilis\xE9.");return}ot&&(ot.textContent=""),nt&&(nt.textContent=""),gs&&(gs.disabled=!0,gs.textContent="Cr\xE9ation...");try{let x=await fetch("/api/sites",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a,slug:p})});if(!x.ok){let oe=await x.json().catch(()=>({})),k=oe.message||"Impossible de cr\xE9er ce site.";nt&&(nt.textContent=k),oe.field==="slug"&&ot&&(ot.textContent=k);return}let _=await x.json(),O=jt((_==null?void 0:_.slug)||p),Q=(_==null?void 0:_.name)||a;tr(O,Q),Ps();let ue=encodeURIComponent(Me(O));window.location.href=`/admin/site/${ue}/design`}catch(x){console.error("[admin] Impossible de cr\xE9er le site",x),nt&&(nt.textContent="Erreur inattendue. R\xE9essaie dans un instant.")}finally{gs&&(gs.disabled=!1,gs.textContent="Cr\xE9er")}}),window.addEventListener("keydown",o=>{o.key==="Escape"&&(ft&&!ft.classList.contains("hidden")&&Ps(),Pt&&!Pt.classList.contains("hidden")&&rr(),blockDeleteModal&&!blockDeleteModal.classList.contains("hidden")&&closeBlockDeleteModal(),blockLibraryOpen&&closeBlockLibrary())});function Pn(){let o=window.location.pathname.match(/^\/admin\/site\/([^/]+)(?:\/([^/]+))?/);return o?{slugPart:decodeURIComponent(o[1]),slugValue:jt(decodeURIComponent(o[1])),section:o[2]||"design"}:null}function jn(){return document.querySelector("[data-page-list]")?"design":document.querySelector("[data-collection-list]")?"content":document.querySelector("[data-media-grid]")?"media":document.querySelector("[data-deploy-form]")?"deploy":null}function Mn(){if(!Pt){window.location.href="/admin/sites";return}Pt.classList.remove("hidden"),Pt.classList.add("flex"),Is(Pt,rr)}function rr(){Pt&&(Pt.classList.add("hidden"),Pt.classList.remove("flex"),Ts(Pt))}bn.forEach(o=>{o.addEventListener("click",Mn)}),yn.forEach(o=>{o.addEventListener("click",rr)}),Ur==null||Ur.addEventListener("click",()=>{rr(),window.location.href="/admin/sites"});let is="repeating-conic-gradient(#ccc 0% 25%, white 0% 50%) 50% / 8px 8px",Fn=o=>{if(!o||typeof o!="string")return null;let a=o.trim().toLowerCase();if(a==="transparent")return null;let d=a.match(/^rgb\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*\\)$/);if(d)return[Math.min(255,Math.max(0,Number(d[1]))),Math.min(255,Math.max(0,Number(d[2]))),Math.min(255,Math.max(0,Number(d[3])))];let p=a.match(/^#([a-f0-9]{3}|[a-f0-9]{6})$/);if(p){let h=p[1],x=h.length===3?h.split("").map(ue=>`${ue}${ue}`).join(""):h,_=parseInt(x.slice(0,2),16),O=parseInt(x.slice(2,4),16),Q=parseInt(x.slice(4,6),16);return[_,O,Q]}return null},Wr=o=>{let a=Fn(o);if(!a)return"#0f172a";let[d,p,h]=a;return(.2126*d+.7152*p+.0722*h)/255>.62?"#0f172a":"#ffffff"},or=o=>{o&&Array.from(o.options).forEach(a=>{var p;let d=(p=a.dataset)==null?void 0:p.color;if(d){if(d==="transparent"){a.style.background=is,a.style.color="#475569";return}a.style.background=d,a.style.color=Wr(d)}})},js=(te==null?void 0:te.section)||jn();js==="design"&&Nn(),js==="content"&&Dn(),js==="media"&&Un(),js==="deploy"&&Hn(),js==="settings"&&Rn(),te&&me.name&&Bo(me.name);function Nn(){let o=document.querySelectorAll("[data-page-list]");if(o.length===0)return;let a=document.querySelector("[data-active-page-title]"),d=document.querySelector("[data-active-page-slug]"),p=document.querySelector("[data-page-preview-tags]"),h=document.querySelector("[data-page-preview-frame]"),x=document.querySelector("[data-page-preview-frame-wrapper]"),_=document.querySelector("[data-page-preview-shell]"),O=document.querySelectorAll("[data-preview-view-button]"),Q=document.querySelector("[data-page-preview-current-view]"),ue=document.querySelector("[data-preview-open]"),oe=document.querySelector("[data-preview-status]"),k=document.querySelector("[data-preview-highlight]"),T=document.querySelector("[data-seo-toggle]"),$=document.querySelector("[data-seo-panel]"),F=document.querySelector("[data-seo-close]"),j=document.querySelector("[data-seo-form]"),V=document.querySelector("[data-seo-title]"),q=document.querySelector("[data-seo-description]"),E=document.querySelector("[data-seo-indexed]"),L=document.querySelector("[data-seo-feedback]"),I=document.querySelector("[data-seo-save]"),A=document.querySelector("[data-page-accessibility-toggle]"),U=document.querySelector("[data-page-accessibility-panel]"),se=document.querySelector("[data-page-accessibility-close]"),ce=document.querySelector("[data-page-accessibility-form]"),ne=document.querySelector("[data-page-accessibility-nav]"),Ce=document.querySelector("[data-page-accessibility-main]"),$e=document.querySelector("[data-page-accessibility-feedback]"),Qe=document.querySelector("[data-page-accessibility-save]"),qe=document.querySelector("[data-page-props-toggle]"),X=document.querySelector("[data-page-props-panel]"),Be=document.querySelector("[data-page-props-close]"),Pe=document.querySelector("[data-page-props-form]"),N=document.querySelector("[data-page-name]"),S=document.querySelector("[data-page-title-input]"),J=document.querySelector("[data-page-parent-select]"),z=document.querySelector("[data-page-slug-segment-input]"),g=document.querySelector("[data-page-slug-input]"),G=document.querySelector("[data-page-description]"),re=document.querySelector("[data-page-props-feedback]"),Y=document.querySelector("[data-page-props-save]"),H=document.querySelector("[data-blocks-list]"),we=document.querySelector("[data-blocks-empty]"),Se=document.querySelector("[data-block-count]"),he=document.querySelector("[data-block-library-toggle]"),Le=document.querySelector("[data-block-library]"),Ze=document.querySelectorAll("[data-block-add]"),Ee=document.querySelector("[data-block-delete-modal]"),He=document.querySelector("[data-block-delete-confirm]"),at=document.querySelector("[data-block-delete-cancel]"),Ke=document.querySelector("[data-block-detail-empty]"),_e=document.querySelector("[data-block-detail-status]"),b=document.querySelector("[data-block-editor]"),R=document.querySelector("[data-block-editor-block-name]"),le=document.querySelector("[data-block-editor-block-type]"),ae=document.querySelector("[data-block-editor-unsupported]"),w=document.querySelector("[data-block-form]"),ys=(e,t)=>{if(e){if(t==="transparent"){e.style.background=is,e.style.borderColor="#cbd5f5",e.style.boxShadow="";return}e.style.background=t,e.style.borderColor=t,e.style.boxShadow="0 0 0 1px rgba(15,23,42,0.15)"}},lr=(e,t)=>{if(!e||!t||Array.from(e.options).some(r=>r.value===t))return;let s=document.createElement("option");s.value=t,s.textContent="Couleur personnalis\xE9e",s.dataset.color=t,t==="transparent"?(s.style.background=is,s.style.color="#475569"):(s.style.background=t,s.style.color=Wr(t)),e.appendChild(s),or(e)},Ms=e=>{var i,c,f;if(!e)return;let t=e.options[e.selectedIndex],s=((i=t==null?void 0:t.dataset)==null?void 0:i.color)||"#ffffff",r=(c=e.closest(".relative"))==null?void 0:c.querySelector("[data-color-preview]");r&&(s==="transparent"?r.style.background=is:r.style.background=s);let n=(f=e.closest(".relative"))==null?void 0:f.querySelector("[data-theme-color-chip]");ys(n,s)},cr=w?Array.from(w.querySelectorAll("[data-theme-color-select]")):[],Do=e=>{var s;return(((s=e==null?void 0:e.getAttribute)==null?void 0:s.call(e,"name"))||"").endsWith("-bg")},Fs=[{label:"Couleur primaire",value:"theme-primary",cssVar:"--color-primary"},{label:"Couleur secondaire",value:"theme-secondary",cssVar:"--color-secondary"},{label:"Couleur accent",value:"theme-accent",cssVar:"--color-accent"},{label:"Fond",value:"theme-background",cssVar:"--color-background"},{label:"Texte",value:"theme-text",cssVar:"--color-text"}],vt=(e,t="#ffffff")=>{if(!e)return t;let s=getComputedStyle(document.documentElement).getPropertyValue(e);return s?s.trim():t},Ft=e=>{e&&(e.innerHTML="",Fs.forEach(({label:t,value:s,cssVar:r})=>{let n=document.createElement("option");n.value=s;let i=vt(r);n.textContent=t,n.dataset.color=i,i==="transparent"?(n.style.background=is,n.style.color="#475569"):(n.style.background=i,n.style.color=Wr(i)),e.appendChild(n)}),e.value=Fs[0].value,e.removeAttribute("disabled"),Do(e)&&or(e),Ms(e))},Ve=()=>cr.forEach(Ft);Ve(),document.addEventListener("ai-theme-updated",Ve);let Xe=w?Array.from(w.querySelectorAll("[data-editor-section]")):[],Je=e=>!w||!(e!=null&&e.section)?null:w.querySelector(`[data-editor-section="${e.section}"]`),pt=document.querySelectorAll("[data-block-tab]"),ls="content",Jt=document.querySelectorAll("[data-left-tab]"),vs=document.querySelector('[data-left-panel="blocks"]'),dr=document.querySelector('[data-left-panel="pages"]'),xs="blocks",Ns=e=>{xs=e,Jt.forEach(t=>{let s=t.dataset.leftTab===e;t.setAttribute("aria-selected",s?"true":"false"),s?(t.classList.add("text-[#9C6BFF]"),t.classList.remove("text-slate-500","hover:text-slate-700"),t.classList.add("after:absolute","after:bottom-0","after:left-0","after:right-0","after:h-0.5","after:bg-[#9C6BFF]")):(t.classList.remove("text-[#9C6BFF]"),t.classList.add("text-slate-500","hover:text-slate-700"),t.classList.remove("after:absolute","after:bottom-0","after:left-0","after:right-0","after:h-0.5","after:bg-[#9C6BFF]"))}),vs&&vs.classList.toggle("hidden",e!=="blocks"),dr&&dr.classList.toggle("hidden",e!=="pages")};Jt.forEach(e=>{e.addEventListener("click",()=>{Ns(e.dataset.leftTab)})});let Nt=document.querySelector("[data-block-form-actions]"),ws=document.querySelector("[data-block-form-autosave]"),cs=e=>{ls=e,pt.forEach(s=>{let r=s.dataset.blockTab===e;s.setAttribute("aria-selected",r?"true":"false"),r?(s.classList.add("text-[#9C6BFF]"),s.classList.remove("text-slate-500","hover:text-slate-700"),s.classList.add("after:absolute","after:bottom-0","after:left-0","after:right-0","after:h-0.5","after:bg-[#9C6BFF]")):(s.classList.remove("text-[#9C6BFF]"),s.classList.add("text-slate-500","hover:text-slate-700"),s.classList.remove("after:absolute","after:bottom-0","after:left-0","after:right-0","after:h-0.5","after:bg-[#9C6BFF]"))});let t=w==null?void 0:w.querySelector("[data-editor-section]:not(.hidden)");t&&t.querySelectorAll("[data-block-panel]").forEach(r=>{r.dataset.blockPanel===e?r.classList.remove("hidden"):r.classList.add("hidden")}),Nt&&ws&&(e==="content"?(Nt.classList.remove("hidden"),ws.classList.add("hidden")):(Nt.classList.add("hidden"),ws.classList.remove("hidden")))};pt.forEach(e=>{e.addEventListener("click",()=>{cs(e.dataset.blockTab)})});let We=w==null?void 0:w.querySelector('[name="collection-grid-collection"]'),ds=w==null?void 0:w.querySelector("[data-collection-selection-info]"),Ae=w==null?void 0:w.querySelector("[data-collection-card-item-select]"),Ds=w==null?void 0:w.querySelector("[data-collection-card-reset]"),ve=w?{ctaStyle:w.querySelector('[name="collection-item-cta-style"]'),ctaTextColor:w.querySelector('[name="collection-item-cta-text-color"]'),bg:w.querySelector('[name="collection-item-bg"]'),borderRadius:w.querySelector('[name="collection-item-border-radius"]'),shadow:w.querySelector('[name="collection-item-shadow"]'),border:w.querySelector('[name="collection-item-border"]'),animation:w.querySelector('[name="collection-item-anim-type"]'),animationDelay:w.querySelector('[name="collection-item-anim-delay"]'),animationDuration:w.querySelector('[name="collection-item-anim-duration"]')}:{},Hs=document.querySelector("[data-block-form-cancel]"),ur=w==null?void 0:w.querySelector("[data-group-preview-mobile]"),Rs=w==null?void 0:w.querySelector("[data-group-preview-desktop]"),mr=w==null?void 0:w.querySelector("[data-collection-preview-mobile]"),Us=w==null?void 0:w.querySelector("[data-collection-preview-desktop]"),fr={hero:{section:"hero",labelField:"title",descriptionField:"subtitle",fields:{title:"hero-title",subtitle:"hero-subtitle",ctaLabel:"hero-cta-label",ctaUrl:"hero-cta-url",ctaTextColor:"hero-cta-text-color",image:"hero-image",layout:"hero-layout",imageWidth:"hero-image-width",imageHeight:"hero-image-height",imageObjectFit:"hero-image-object-fit",height:"hero-height",contentAlign:"hero-content-align",horizontalAlign:"hero-horizontal-align",textAlign:"hero-text-align",overlay:"hero-overlay",titleSize:"hero-title-size",bg:"hero-bg",borderRadius:"hero-border-radius",shadow:"hero-shadow",border:"hero-border"}},paragraphe:{section:"paragraph",labelField:"title",descriptionField:"content",fields:{title:"paragraph-title",content:"paragraph-content",align:"paragraph-align",titleSize:"paragraph-title-size",textSize:"paragraph-text-size",spacing:"paragraph-spacing",bg:"paragraph-bg",borderRadius:"paragraph-border-radius",shadow:"paragraph-shadow",border:"paragraph-border"}},image:{section:"image",labelField:"alt",fields:{src:"image-src",alt:"image-alt",showCaption:"image-caption-toggle",caption:"image-caption",rounded:"image-rounded",shadow:"image-shadow",maxWidth:"image-max-width",height:"image-height",objectFit:"image-object-fit",align:"image-align",bg:"image-bg",borderRadius:"image-border-radius",border:"image-border"}},groupe:{section:"group",fields:{columnsMobile:"group-columns-mobile",columnsDesktop:"group-columns-desktop",gap:"group-gap",itemsAlign:"group-items-align",mobileLayout:"group-mobile-layout",bg:"group-bg",borderRadius:"group-border-radius",shadow:"group-shadow",border:"group-border"}},collectiongrid:{section:"collection",fields:{collectionId:"collection-grid-collection",limit:"collection-grid-limit",columnsMobile:"collection-columns-mobile",columnsDesktop:"collection-columns-desktop",gap:"collection-gap",itemsAlign:"collection-items-align",cardRounded:"collection-card-rounded",mobileLayout:"collection-mobile-layout",bg:"collection-bg",borderRadius:"collection-border-radius",shadow:"collection-shadow",border:"collection-border"}},form:{section:"form",labelField:"formTitle",fields:{formTitle:"form-title",actionUrl:"form-action-url",method:"form-method",serviceName:"form-service-name",submitLabel:"form-submit-label",successMessage:"form-success-message",maxWidth:"form-max-width",align:"form-align",buttonRounded:"form-button-rounded",spacing:"form-spacing",bg:"form-bg",borderRadius:"form-border-radius",shadow:"form-shadow",border:"form-border"}},newsletterembed:{section:"newsletter",labelField:"title",fields:{title:"newsletter-title",serviceName:"newsletter-service-name",embedCode:"newsletter-embed-code",maxWidth:"newsletter-max-width",align:"newsletter-align",padding:"newsletter-padding",bg:"newsletter-bg",borderRadius:"newsletter-border-radius",shadow:"newsletter-shadow",border:"newsletter-border"}},card:{section:"card",labelField:"title",descriptionField:"description",fields:{title:"card-title",description:"card-description",image:"card-image",ctaText:"card-cta-text",ctaUrl:"card-cta-url",bg:"card-bg",borderRadius:"card-border-radius",shadow:"card-shadow",border:"card-border"}},bouton:{section:"button",labelField:"text",fields:{text:"button-text",url:"button-url",icon:"button-icon",align:"button-align",size:"button-size",textColor:"button-text-color",bg:"button-bg",borderRadius:"button-border-radius",shadow:"button-shadow",border:"button-border"}}},pr={texte:"paragraphe",paragraph:"paragraphe",paragraphs:"paragraphe",paragraphes:"paragraphe",text:"paragraphe",hero:"hero",image:"image",groupe:"groupe",group:"groupe",card:"card",carte:"card",collection:"collectiongrid",collectiongrid:"collectiongrid","collection-grid":"collectiongrid",form:"form",formulaire:"form",contact:"form",newsletterembed:"newsletterembed",newsletter:"newsletterembed",embed:"newsletterembed",bouton:"bouton",button:"bouton",cta:"bouton"},Qr={animation:"anim-type",animationDelay:"anim-delay",animationDuration:"anim-duration"};Object.values(fr).forEach(e=>{e.fields={...e.fields,...Qr}});let gr=(e,t)=>{if(!ur||!Rs)return;let s=r=>Array.from({length:Number(r)||1}).map(()=>'<span class="block h-2 w-full rounded-full bg-slate-300"></span>').join("");ur.innerHTML=s(e),Rs.innerHTML=s(t)},us=(e,t)=>{if(!mr||!Us)return;let s=r=>Array.from({length:Number(r)||1}).map(()=>'<span class="block h-2 w-full rounded-full bg-violet-300"></span>').join("");mr.innerHTML=s(e),Us.innerHTML=s(t)},zs=async()=>{if(!At)return[];let e=await fetch(At,{headers:{Accept:"application/json"}});if(!e.ok)throw new Error("Impossible de charger les pages.");let t=await e.json().catch(()=>[]);return Array.isArray(t)?t:[]},hr=async({name:e,title:t,slug:s})=>{if(!At)throw new Error("Site inconnu.");let r=await fetch(At,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,title:t,slug:s})});if(!r.ok){let n=await r.json().catch(()=>({}));throw new Error(n.message||"Impossible de cr\xE9er la page.")}return r.json().catch(()=>({}))},Wt=async e=>{if(!(!At||!(e!=null&&e.id)))try{let t=await fetch(`${At}/${encodeURIComponent(e.id)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){let r=await t.json().catch(()=>({}));throw new Error(r.message||"Impossible de sauvegarder la page.")}let s=await t.json().catch(()=>({}));if(s!=null&&s.id){let r=rs(s);return de=de.map(n=>n.id===r.id?r:n),(m==null?void 0:m.id)===r.id&&(m=r),r}return s}catch(t){console.error("[design] Save page failed",t),M(t.message||"Sauvegarde impossible.")}},br=async()=>{if(!At){de=[],Oe=null,m=null,es(de,Oe),It(null),Ke==null||Ke.classList.remove("hidden"),b==null||b.classList.add("hidden");return}try{let e=await zs();if(de=(Array.isArray(e)?e:[]).map(t=>rs(t)),de.length===0){Oe=null,m=null,es(de,Oe),It(null),Ke==null||Ke.classList.remove("hidden"),b==null||b.classList.add("hidden"),h&&(h.srcdoc=fe());return}Oe=aa(de),$t(Oe)}catch(e){console.error("[design] Impossible de charger les pages",e),M("Impossible de charger les pages.")}},l=e=>(e||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),u=e=>{if(!e)return null;let t=l(e.type),s=pr[t]||t;return fr[s]||null},y=e=>{var n,i,c,f,v,Z,P;if(!w||!b)return;e&&!e.settings&&(e.settings={});let t=u(e),s=Je(t)||w;if(R&&(R.textContent=(e==null?void 0:e.label)||"Bloc"),le&&(le.textContent=(e==null?void 0:e.type)||"Bloc"),!t){w.classList.add("hidden"),ae==null||ae.classList.remove("hidden"),w.dataset.blockId="";return}if(ae==null||ae.classList.add("hidden"),w.classList.remove("hidden"),w.reset(),w.dataset.blockId=e.id,Xe.forEach(D=>{D.dataset.editorSection===t.section?D.classList.remove("hidden"):D.classList.add("hidden")}),cs("content"),t.section==="collection"){let D=e.collectionId||((n=e.settings)==null?void 0:n.collectionId)||"";jr(D),nn(e)}if(Object.entries(t.fields).forEach(([D,ee])=>{var je,Ie,be;let K=s.querySelector(`[name="${ee}"]`);if(!K)return;let C=(je=e.settings)==null?void 0:je[D];if(K.type==="checkbox")K.checked=!!C;else if(K.type==="number"){let Ge=(be=(Ie=K.dataset.default)!=null?Ie:K.defaultValue)!=null?be:"";K.value=C!=null?C:Ge}else K.tagName,K.value=C!=null?C:""}),t.section==="group"){let D=((i=w.querySelector('[name="group-columns-mobile"]'))==null?void 0:i.value)||"1",ee=((c=w.querySelector('[name="group-columns-desktop"]'))==null?void 0:c.value)||"3";gr(D,ee)}if(t.section==="collection"){let D=((f=w.querySelector('[name="collection-columns-mobile"]'))==null?void 0:f.value)||"1",ee=((v=w.querySelector('[name="collection-columns-desktop"]'))==null?void 0:v.value)||"3";us(D,ee)}let r=(Z=t.fields)==null?void 0:Z.bg;if(r){let D=s.querySelector(`[name="${r}"]`);lr(D,(P=e.settings)==null?void 0:P.bg)}w.querySelectorAll("[data-color-select]").forEach(Ms)},B=e=>{if(!w||!e)return{};let t=Je(e)||w,s={};return Object.entries(e.fields).forEach(([r,n])=>{var c,f;let i=t.querySelector(`[name="${n}"]`);if(i)if(i.type==="checkbox")s[r]=i.checked;else if(i.type==="number"){let v=Number(i.value);s[r]=Number.isFinite(v)?v:0}else if(i.tagName==="SELECT"){let v=(f=(c=i.dataset.default)!=null?c:i.value)!=null?f:"";s[r]=i.value||v}else i.tagName==="TEXTAREA"?s[r]=i.value||"":i.type==="select-one"?s[r]=i.value:s[r]=i.value||""}),s},W=e=>{if(oe){if(!e){oe.classList.add("hidden");return}oe.classList.remove("hidden"),oe.textContent=e}},ge=e=>{if(!e)return null;let t=s=>{var r;return{id:s.id,type:s.type,label:s.label,status:s.status,description:s.description,props:s.props||[],settings:s.settings||{},collectionId:s.collectionId||((r=s.settings)==null?void 0:r.collectionId)||"",children:(s.children||[]).map(t)}};return{id:e.id,name:e.name,title:e.title,slug:e.slug,description:e.description||"",badges:[...e.badges||[]],seo:e.seo||{},accessibility:e.accessibility||{},blocks:(e.blocks||[]).map(t)}},fe=()=>'<!DOCTYPE html><html><body style="font-family:Inter,sans-serif;padding:40px;color:#475569;background:#fff;">Pr\xE9paration de la pr\xE9visualisation\u2026</body></html>',ie=(e,t)=>{let s;return(...r)=>{clearTimeout(s),s=setTimeout(()=>e(...r),t)}},ke=async()=>{if(!m||!tt)return;let e=ts(),t=u(e);if(!e||!t)return;let s=B(t),{blocks:r,didUpdate:n,foundParentId:i}=io(m.blocks||[],e.id,f=>{let v={...f.settings||{},...s};return{...f,settings:v}},ss);if(!n)return;ss=i;let c={...m,blocks:r};m=c;try{let f=await Wt(c);if(f!=null&&f.id){let v=rs(f);m=v,de=de.map(Z=>Z.id===v.id?v:Z)}}catch(f){console.warn("[design] auto-save appearance failed",f)}},Fe=(e,t)=>{!h||!h.contentWindow||h.contentWindow.postMessage({type:"updateBlockStyles",blockId:e,settings:t},"*")},xe=ie(()=>{m&&De(m)},1500),Ne=(e,t)=>{Fe(e,t),W("Modification\u2026"),ke().then(()=>{W("Sauvegard\xE9"),setTimeout(()=>W("\xC0 jour"),1500)}).catch(()=>W("Erreur de sauvegarde")),xe()},De=e=>{if(!h||!e)return;let t=(te==null?void 0:te.slugValue)||me.slug||"",s=de.map(i=>({id:i.id,slug:i.slug,title:i.title,name:i.name,accessibility:i.accessibility})),r={page:ge(e),site:{title:me.name||"Site",slug:t,pages:s}};mo=!1,W("Actualisation\u2026"),h.srcdoc=fe(),Gs&&Gs.abort();let n=new AbortController;Gs=n,fetch("/api/preview",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r),signal:n.signal}).then(async i=>{let c=await i.json().catch(()=>({}));if(!i.ok){let f=(c==null?void 0:c.error)||(c==null?void 0:c.message)||`Preview error (${i.status})`,v=new Error(f);throw v.payload=c,v.status=i.status,v}return c}).then(i=>{n.signal.aborted||(uo=i.html||"",h.setAttribute("title",`Pr\xE9visualisation de la page ${e.title||""}`.trim()),h.srcdoc=uo||fe(),W("\xC0 jour"))}).catch(i=>{n.signal.aborted||(console.error("[preview] Impossible de rendre la page",(i==null?void 0:i.message)||i,(i==null?void 0:i.payload)||""),W("Erreur preview"),h.srcdoc='<!DOCTYPE html><html><body style="font-family:Inter,sans-serif;padding:40px;color:#be123c;background:#fff;">Erreur lors du rendu de la pr\xE9visualisation.</body></html>')}).finally(()=>{Gs===n&&(Gs=null)})},Re=e=>{var f;if(e.preventDefault(),!m||!tt)return;let t=ts(),s=u(t);if(!t||!s)return;let r=B(s);if(s.section==="image"){let v=(r.alt||"").trim();if(r.alt=v,!v){M("Ajoute un texte alternatif pour cette image.","error"),(f=w==null?void 0:w.querySelector('[name="image-alt"]'))==null||f.focus();return}}if(s.section==="collection"){if(!r.collectionId){M("S\xE9lectionnez une collection.");return}r.limit=Math.max(1,Number(r.limit)||1)}let{blocks:n,didUpdate:i,foundParentId:c}=io(m.blocks||[],t.id,v=>{let Z={...v.settings||{},...r},P={...v,settings:Z};return s.labelField&&r[s.labelField]&&(P.label=r[s.labelField]),s.descriptionField&&r[s.descriptionField]&&(P.description=r[s.descriptionField]),s.section==="collection"&&(P.collectionId=r.collectionId,P.settings.collectionId=r.collectionId,P.settings.limit=r.limit),P},ss);i&&(ss=c,Cs(n),M("Bloc mis \xE0 jour"),$t(m.id,{preserveBlock:!0}))},it=document.querySelector("[data-page-drawer]"),Ye=document.querySelector("[data-page-drawer-backdrop]"),ms=document.querySelectorAll("[data-page-drawer-open]"),yr=document.querySelectorAll("[data-page-drawer-close]"),Dt=document.querySelector("[data-add-page-toggle]"),gt=document.querySelector("[data-add-page-form]"),xt=document.querySelector("[data-add-page-name]"),Qt=document.querySelector("[data-add-page-title]"),wt=document.querySelector("[data-add-page-slug]"),fs=document.querySelector("[data-add-page-cancel]"),et=document.querySelector("[data-add-page-error]"),Gt=gt==null?void 0:gt.querySelector('[type="submit"]'),Ss=document.querySelector("[data-import-pages-toggle]"),dt=document.querySelector("[data-import-modal]"),vr=document.querySelectorAll("[data-import-modal-close]"),ut=document.querySelector("[data-import-dropzone]"),Ls=document.querySelector("[data-import-file-input]"),ks=document.querySelector("[data-import-file-list]"),Os=document.querySelector("[data-import-file-names]"),ht=document.querySelector("[data-import-results]"),bt=document.querySelector("[data-import-results-content]"),St=document.querySelector("[data-import-submit]"),Xr=document.querySelectorAll("[data-import-tab]"),Ho=document.querySelectorAll("[data-import-panel]"),eo=document.querySelector("[data-copy-prompt]"),to=document.querySelector("[data-copy-template]"),Ro=document.querySelector("[data-template-json]"),Uo=document.querySelector("[data-import-ai-prompt]"),Lt=document.querySelector("[data-import-paste-json]"),so=document.querySelector("[data-format-json]"),Ht=document.querySelector("[data-import-paste-error]"),Zt=[],ps="upload",qt=document.querySelector("[data-delete-page-modal]"),zo=document.querySelector("[data-delete-page-name]"),ro=document.querySelector("[data-delete-page-cancel]"),Kt=document.querySelector("[data-delete-page-confirm]"),Vs=null,sa=Me((te==null?void 0:te.slugValue)||me.slug||"default")||"default",ra=(te==null?void 0:te.slugValue)||me.slug||"",xr=Me(ra)||"",At=xr?`/api/sites/${encodeURIComponent(xr)}/pages`:null,wr=xr?`/api/sites/${encodeURIComponent(xr)}/collections`:null,Oo={active:`clower:activePage:${sa}`},oo=(e,t,s,r,n,i=[],c={})=>{let f={id:e,label:t,type:s,status:r,description:n,props:i,settings:{...c}};return f.settings.collectionId&&(f.collectionId=f.settings.collectionId),f},oa={hero:{type:"Hero",label:"Hero de page",description:"Section pleine largeur avec CTA principal.",status:"Brouillon",props:[{label:"CTA",value:"D\xE9couvrir"},{label:"Hauteur",value:"80vh"}],settings:{title:"Titre du hero",subtitle:"",ctaLabel:"D\xE9couvrir",ctaUrl:"#",image:"",align:"center"}},paragraph:{type:"Paragraphe",label:"Bloc \xE9ditorial",description:"Paragraphe libre pour raconter votre histoire.",status:"Brouillon",props:[{label:"Longueur",value:"150 mots"}],settings:{title:"Titre du paragraphe",content:"",align:"left"}},image:{type:"Image",label:"Bloc image",description:"Visuel seul avec l\xE9gende optionnelle.",status:"Brouillon",props:[{label:"Ratio",value:"16:9"},{label:"L\xE9gende",value:"Inactive"}],settings:{src:"",alt:"",showCaption:!1,caption:""}},group:{type:"Groupe",label:"Groupe de sections",description:"Conteneur pour imbriquer plusieurs sous-blocs.",status:"Brouillon",props:[{label:"Disposition",value:"Verticale"}],settings:{layout:"grid",columnsMobile:"1",columnsDesktop:"3",mobileLayout:"stack"}},collectiongrid:{type:"CollectionGrid",label:"Grille de contenus",description:"Affiche automatiquement les items d\u2019une collection.",status:"Brouillon",settings:{collectionId:"",limit:6,mobileLayout:"stack"}},button:{type:"Bouton",label:"Bouton",description:"CTA simple (lien styl\xE9).",status:"Brouillon",settings:{text:"D\xE9couvrir",url:"#",icon:!1,align:"text-left",size:"px-6 py-3",textColor:"text-[var(--color-background)]",bg:"theme-primary",borderRadius:"rounded-xl",shadow:"shadow-none",border:"border-none"}},form:{type:"Form",label:"Formulaire de contact",description:"Formulaire avec envoi vers un service externe.",status:"Brouillon",settings:{formTitle:"Contactez-nous",actionUrl:"",method:"POST",serviceName:"",submitLabel:"Envoyer",successMessage:"Merci pour votre message !"}},newsletterembed:{type:"NewsletterEmbed",label:"Newsletter / Embed",description:"Int\xE9gration d'un formulaire newsletter externe (Brevo, Mailchimp\u2026).",status:"Brouillon",settings:{title:"Restez inform\xE9",serviceName:"",embedCode:""}},card:{type:"Card",label:"Carte",description:"Carte avec image, texte et lien.",status:"Brouillon",settings:{title:"Titre de la carte",description:"",image:"",ctaText:"D\xE9couvrir",ctaUrl:"#",bg:"bg-slate-50",borderRadius:"rounded-2xl",shadow:"shadow-sm",border:"border border-slate-100 theme-border-accent"}}},na=e=>{try{window.localStorage.setItem(Oo.active,e)}catch{}},aa=e=>{var t;try{let s=window.localStorage.getItem(Oo.active);if(s&&e.some(r=>r.id===s))return s}catch{}return((t=e[0])==null?void 0:t.id)||null},ia=e=>!e||e<=0?"0 bloc":e===1?"1 bloc":`${e} blocs`,Sr=e=>{let t=(e||"").trim();if(!t||t==="/"||/^[a-z]+:\/\//i.test(t))return"/";let r=t.replace(/\\/g,"/").replace(/^\/+|\/+$/g,"");if(!r)return"/";let n=r.split("/").map(i=>Vt(i||"")).filter(Boolean);return n.length===0?"/":`/${n.join("/")}`},no=(e="page",t="block")=>`${e}-${t}-${Date.now().toString(36)}-${Math.floor(Math.random()*1e3)}`,_a=(e,t)=>[oo(no(e,"intro"),"Introduction","Paragraphe","Brouillon",`Paragraphe introductif pour "${t}".`,[{label:"Longueur",value:"2 paragraphes"}],{title:`Introduction \xE0 ${t}`,content:"Ajoutez votre premier paragraphe de pr\xE9sentation.",align:"left"}),oo(no(e,"content"),"Zone de contenu","Groupe","Brouillon","Section principale \xE0 composer avec textes et visuels.",[{label:"Colonnes",value:"Auto"}],{layout:"grid",columnsMobile:"1",columnsDesktop:"2",mobileLayout:"stack"})],Vo=e=>{a&&(a.textContent=(e==null?void 0:e.name)||(e==null?void 0:e.title)||"Page"),d&&(d.textContent=(e==null?void 0:e.slug)||"/")},la=e=>{if(!p)return;p.innerHTML="",(e&&e.badges&&e.badges.length>0?e.badges:["Structure en cours"]).forEach(s=>{let r=document.createElement("span");r.className="rounded-full bg-slate-100 px-3 py-1",r.textContent=s,p.appendChild(r)})},ca=e=>{switch((e||"").toLowerCase()){case"en ligne":return"bg-emerald-50 text-emerald-700";case"brouillon":return"bg-amber-50 text-amber-700";default:return"bg-slate-100 text-slate-600"}},Lr=e=>{if(!(!Ke||!b)){if(!e){Ke.classList.remove("hidden"),b.classList.add("hidden"),ae==null||ae.classList.add("hidden"),w==null||w.classList.add("hidden"),_e==null||_e.classList.add("hidden");return}Ke.classList.add("hidden"),b.classList.remove("hidden"),_e&&(e.status?(_e.textContent=e.status,_e.className=`rounded-full px-3 py-1 text-xs font-semibold ${ca(e.status)}`,_e.classList.remove("hidden")):_e.classList.add("hidden")),y(e)}},da=()=>{let e=getComputedStyle(document.documentElement).getPropertyValue("--color-accent");return e?e.trim():"#9C6BFF"},Js=e=>{if(!h)return;let t=h.contentDocument;if(!t)return;if(t.querySelectorAll("[data-preview-block]").forEach(r=>{r.dataset.previewBlock===e?(r.classList.add("preview-block-active"),mo&&e&&r.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})):r.classList.remove("preview-block-active")}),k){let r=da();k.style.borderColor=e?r:"transparent",k.style.opacity=e?"0.5":"0"}},Jo={desktop:{width:"100%",height:"640px",maxWidth:"",margin:"0"},mobile:{width:"375px",height:"780px",maxWidth:"375px",margin:"0 auto"}},Wo=e=>{let t=Jo[e]?e:"desktop";O.forEach(r=>{let n=r.dataset.previewView===t;r.setAttribute("aria-pressed",n?"true":"false"),n?(r.classList.add("bg-slate-900","text-white"),r.classList.remove("bg-slate-200","text-slate-500")):(r.classList.remove("bg-slate-900","text-white"),r.classList.add("bg-slate-200","text-slate-500"))});let s=Jo[t];h&&(h.style.width=s.width,h.style.height=s.height,h.style.maxWidth=s.maxWidth,h.style.margin=s.margin),x&&(x.style.width="100%",x.style.minHeight=s.height,x.style.maxWidth=s.maxWidth||"100%"),_&&(_.dataset.previewShellView=t),Q&&(Q.textContent=t==="mobile"?"Vue mobile":"Vue bureau")},Go=(e,t=!1,s=null)=>{var Bt;let r=e.id===tt,n=(e.type||"").toLowerCase(),i=n==="groupe"||n==="group"||n==="sections"||n==="grid",c=document.createElement("div");c.dataset.blockItem="true",c.dataset.blockId=e.id,s&&(c.dataset.parentBlockId=s),i&&(c.dataset.isGroup="true"),c.setAttribute("role","option"),c.setAttribute("aria-selected",r?"true":"false"),c.setAttribute("draggable","true"),c.tabIndex=0,c.className=["relative flex items-center gap-3 rounded-2xl border px-3 py-2 text-left transition group",t?"ml-6 border-dashed":"",r?"bg-slate-100 border-[#9C6BFF]/40 shadow-sm":"border-slate-200 hover:border-[#9C6BFF]/40"].join(" ");let f=document.createElement("span");f.className=`absolute inset-y-2 left-0 w-1 rounded-full bg-[#9C6BFF] ${r?"":"hidden"}`,c.appendChild(f);let v=document.createElement("div");v.className="flex flex-1 items-center gap-3";let Z=document.createElement("div");Z.className="hidden lg:flex cursor-grab active:cursor-grabbing flex-shrink-0 items-center text-lg text-slate-400 hover:text-slate-600 transition-colors select-none",Z.innerHTML="\u22EE\u22EE",Z.setAttribute("title","Glisser pour r\xE9ordonner"),v.appendChild(Z);let P=document.createElement("div");P.className="flex-1";let D=document.createElement("div");D.className="flex items-center gap-2 text-[11px] uppercase tracking-wide text-slate-500";let ee=document.createElement("span");ee.className="rounded-full bg-slate-100 px-2 py-0.5 text-[10px] font-semibold text-slate-600",ee.textContent=e.type;let K=document.createElement("span");if(K.className="text-slate-400",K.textContent=e.status,D.appendChild(ee),i){let st=(e.children||[]).length,Yt=document.createElement("span");Yt.className="rounded-full bg-violet-100 px-2 py-0.5 text-[10px] font-semibold text-violet-600",Yt.textContent=`${st} \xE9l\xE9ment${st!==1?"s":""}`,D.appendChild(Yt)}D.appendChild(K);let C=document.createElement("p");C.className="mt-1 text-sm font-semibold text-slate-900";let je=e.settings&&e.settings.title||e.label||"Bloc sans titre";if(C.textContent=je,P.appendChild(D),P.appendChild(C),n==="collectiongrid"&&e.collectionId){let st=((Bt=Ut.find(Ja=>Ja.id===e.collectionId))==null?void 0:Bt.name)||e.collectionId,Yt=document.createElement("p");Yt.className="text-xs text-slate-400",Yt.textContent=`Collection : ${st}`,P.appendChild(Yt)}v.appendChild(P),c.appendChild(v);let Ie=document.createElement("div");Ie.className="flex flex-col gap-1 text-xs text-slate-400";let be=document.createElement("div");be.className="flex items-center gap-1 lg:hidden";let Ge=document.createElement("button");Ge.type="button",Ge.className="rounded-lg border border-slate-200 px-2 py-1 text-[11px] font-semibold text-slate-500",Ge.textContent="\u2191",Ge.addEventListener("click",st=>{st.stopPropagation(),s?Yo(s,e.id,-1):Qo(e.id,-1)});let mt=document.createElement("button");mt.type="button",mt.className="rounded-lg border border-slate-200 px-2 py-1 text-[11px] font-semibold text-slate-500",mt.textContent="\u2193",mt.addEventListener("click",st=>{st.stopPropagation(),s?Yo(s,e.id,1):Qo(e.id,1)}),be.appendChild(Ge),be.appendChild(mt),Ie.appendChild(be);let Ue=document.createElement("button");return Ue.type="button",Ue.className="inline-flex items-center justify-center rounded-lg border border-transparent px-2 py-1 text-[12px] text-rose-500 hover:text-rose-700",Ue.innerHTML="\u{1F5D1}\uFE0F",Ue.addEventListener("click",st=>{st.stopPropagation(),s?pa(s,e.id):ka(e.id)}),Ie.appendChild(Ue),c.appendChild(Ie),c.addEventListener("click",()=>{Rt(e.id,s)}),c.addEventListener("keydown",st=>{(st.key==="Enter"||st.key===" ")&&(st.preventDefault(),Rt(e.id,s))}),{item:c,isGroup:i,block:e}},ua=e=>{let t=document.createElement("div");return t.dataset.groupDropZone=e.id,t.className="ml-6 border-2 border-dashed border-slate-200 rounded-xl p-3 text-center text-xs text-slate-400 hover:border-violet-300 hover:bg-violet-50/50 transition-colors cursor-pointer",t.innerHTML='<span class="pointer-events-none">\u{1F4E6} Glissez un bloc ici ou cliquez pour ajouter</span>',t.addEventListener("dragover",s=>{s.preventDefault(),s.stopPropagation(),t.classList.add("border-violet-400","bg-violet-50")}),t.addEventListener("dragleave",s=>{s.stopPropagation(),t.classList.remove("border-violet-400","bg-violet-50")}),t.addEventListener("drop",s=>{s.preventDefault(),s.stopPropagation(),t.classList.remove("border-violet-400","bg-violet-50");let r=s.dataTransfer.getData("text/plain");r&&r!==e.id&&fa(r,e.id)}),t.addEventListener("click",()=>{ha(e.id)}),t},It=e=>{if(!H)return;H.innerHTML="";let t=(e==null?void 0:e.blocks)||[];if(Se&&(Se.textContent=ia(t.length)),t.length===0){H.classList.add("hidden"),we==null||we.classList.remove("hidden");return}H.classList.remove("hidden"),we==null||we.classList.add("hidden"),t.forEach(s=>{let{item:r,isGroup:n}=Go(s,!1,null);if(H.appendChild(r),n){(s.children||[]).forEach(f=>{let{item:v}=Go(f,!0,s.id);H.appendChild(v)});let c=ua(s);H.appendChild(c)}})},ma=e=>{if(!m||!e)return null;for(let t=0;t<m.blocks.length;t++){let s=m.blocks[t],r=((s==null?void 0:s.type)||"").toLowerCase();if(!(r==="groupe"||r==="group"||r==="sections"||r==="grid")||!Array.isArray(s.children))continue;let i=s.children.findIndex(c=>c.id===e);if(i!==-1)return{groupId:s.id,groupIndex:t,childIndex:i}}return null},Zo=e=>{if(!m||!e)return null;let t=m.blocks.findIndex(i=>i.id===e);if(t!==-1){let[i]=m.blocks.splice(t,1);return{block:i,from:{type:"root",index:t}}}let s=ma(e);if(!s)return null;let r=m.blocks.find(i=>i.id===s.groupId);if(!r||!Array.isArray(r.children))return null;let[n]=r.children.splice(s.childIndex,1);return{block:n,from:{type:"group",groupId:s.groupId,index:s.childIndex}}},kr=(e,t)=>{if(!m||!e)return;let s=Math.min(Math.max(0,t!=null?t:m.blocks.length),m.blocks.length);m.blocks.splice(s,0,e)},Cr=(e,t,s)=>{if(!m||!e||!t)return!1;let r=m.blocks.find(i=>i.id===t);if(!r)return!1;Array.isArray(r.children)||(r.children=[]);let n=Math.min(Math.max(0,s!=null?s:r.children.length),r.children.length);return r.children.splice(n,0,e),!0},Ko=(e,t,s=1)=>typeof e!="number"||e<0?null:t==="before"?e:e+s,Er=(e=null,t=null,s=null)=>{It(m),savePageBlocks(),e&&Rt(e,t),s&&M(s)},fa=(e,t)=>{var i,c,f;if(!m||!e||!t||e===t)return;let s=m.blocks.find(v=>v.id===t);if(!s)return;let r=Zo(e);if(!(r!=null&&r.block))return;let n=(r.block.type||"").toLowerCase();if(n==="groupe"||n==="group"){M("Impossible d'imbriquer des groupes","error"),((i=r.from)==null?void 0:i.type)==="root"?kr(r.block,r.from.index):((c=r.from)==null?void 0:c.type)==="group"&&Cr(r.block,r.from.groupId,r.from.index);return}if(((f=r.from)==null?void 0:f.type)==="group"&&r.from.groupId===t){Cr(r.block,r.from.groupId,r.from.index);return}Array.isArray(s.children)||(s.children=[]),s.children.push(r.block),Er(r.block.id,t,"Bloc ajout\xE9 au groupe")},pa=(e,t)=>{if(!m)return;let s=m.blocks.find(c=>c.id===e);if(!s||!s.children)return;let r=s.children.findIndex(c=>c.id===t);if(r===-1)return;let[n]=s.children.splice(r,1),i=m.blocks.findIndex(c=>c.id===e);m.blocks.splice(i+1,0,n),It(m),savePageBlocks(),M("Bloc sorti du groupe")},ao=(e,t,s)=>{if(!m)return;let r=m.blocks.find(c=>c.id===e);if(!r||!Array.isArray(r.children))return;let n=r.children.findIndex(c=>c.id===t);if(n===-1)return;let[i]=r.children.splice(n,1);kr(i,s),Er(i.id,null,"Bloc sorti du groupe")},ga=(e,t,s,r)=>{if(!m)return;let n=m.blocks.find(P=>P.id===e);if(!n||!Array.isArray(n.children))return;let i=n.children.findIndex(P=>P.id===t),c=n.children.findIndex(P=>P.id===s);if(i===-1||c===-1||t===s)return;let[f]=n.children.splice(i,1),v=i<c?c-1:c,Z=r==="before"?v:v+1;n.children.splice(Z,0,f),Er(f.id,e,null)},_o=(e,t,s,r)=>{var v,Z,P,D;if(!m||!e||!t)return;let n=Zo(e);if(!(n!=null&&n.block))return;let i=(n.block.type||"").toLowerCase();if(i==="groupe"||i==="group"){M("Impossible d'imbriquer des groupes","error"),((v=n.from)==null?void 0:v.type)==="root"?kr(n.block,n.from.index):((Z=n.from)==null?void 0:Z.type)==="group"&&Cr(n.block,n.from.groupId,n.from.index);return}let c=m.blocks.find(ee=>ee.id===t);if(!c){((P=n.from)==null?void 0:P.type)==="root"?kr(n.block,n.from.index):((D=n.from)==null?void 0:D.type)==="group"&&Cr(n.block,n.from.groupId,n.from.index);return}Array.isArray(c.children)||(c.children=[]);let f=c.children.length;if(s){let ee=c.children.findIndex(C=>C.id===s),K=Ko(ee,r,1);K!==null&&(f=K)}c.children.splice(f,0,n.block),Er(n.block.id,t,"Bloc ajout\xE9 au groupe")},Yo=(e,t,s)=>{if(!m)return;let r=m.blocks.find(f=>f.id===e);if(!r||!r.children)return;let n=r.children.findIndex(f=>f.id===t);if(n===-1)return;let i=n+s;if(i<0||i>=r.children.length)return;let[c]=r.children.splice(n,1);r.children.splice(i,0,c),It(m),savePageBlocks()},ha=e=>{Xt=e,openBlockPicker()},Xt=null,ba=e=>{!qt||!e||(Vs=e,zo&&(zo.textContent=e.title||e.id),qt.classList.remove("hidden"),qt.classList.add("flex"),Is(qt,qr))},qr=()=>{qt&&(qt.classList.add("hidden"),qt.classList.remove("flex"),Vs=null,Ts(qt))},ya=async()=>{if(!At||!Vs)return;let e=Vs.id,t=Vs.title||e;Kt&&(Kt.disabled=!0,Kt.textContent="Suppression...");try{let s=await fetch(`${At}/${encodeURIComponent(e)}`,{method:"DELETE",credentials:"include"}),r=await s.json();if(!s.ok)throw new Error(r.message||"Erreur serveur");de=de.filter(n=>n.id!==e),Oe===e?de.length>0?$t(de[0].id):(Oe=null,m=null,es(de,null),It(null),Ke==null||Ke.classList.remove("hidden"),b==null||b.classList.add("hidden"),h&&(h.srcdoc=fe())):es(de,Oe),qr(),M(`Page "${t}" supprim\xE9e`)}catch(s){console.error("[pages] delete failed",s),M(s.message||"Erreur suppression")}finally{Kt&&(Kt.disabled=!1,Kt.textContent="Supprimer")}},es=(e,t)=>{let s=Array.isArray(e)?e:[],r=new Map(s.map(P=>[P.id,P])),n=new Map,i=P=>{let D=P==null?void 0:P.parentId;if(typeof D!="string"||!D.trim())return null;let ee=D.trim();return r.has(ee)?ee:null};s.forEach(P=>{let D=i(P);n.has(D)||n.set(D,[]),n.get(D).push(P)});let c=(P,D)=>{let ee=(P==null?void 0:P.slug)||"",K=(D==null?void 0:D.slug)||"";return ee==="/"&&K!=="/"?-1:K==="/"&&ee!=="/"?1:ee.localeCompare(K)};Array.from(n.values()).forEach(P=>P.sort(c));let f=[],v=new Set,Z=(P,D)=>{(n.get(P)||[]).forEach(K=>{if(!(K!=null&&K.id)||v.has(K.id))return;v.add(K.id);let C=!!(K.parentId&&!r.has(K.parentId));f.push({page:K,depth:D,hasMissingParent:C}),Z(K.id,D+1)})};Z(null,0),s.forEach(P=>{!(P!=null&&P.id)||v.has(P.id)||(v.add(P.id),f.push({page:P,depth:0,hasMissingParent:!0}),Z(P.id,1))}),o.forEach(P=>{P.innerHTML="",f.forEach(({page:D,depth:ee,hasMissingParent:K})=>{var st;let C=document.createElement("li");C.className="flex items-center gap-1";let je=document.createElement("button");je.type="button",je.dataset.pageId=D.id,je.className=["flex-1 flex items-center gap-3 px-3 py-2 text-left transition",t===D.id?"bg-[#9C6BFF]/10 text-slate-900 border border-[#9C6BFF]/40 rounded-xl shadow-sm":"text-slate-700 hover:bg-slate-50 rounded-xl"].join(" "),t===D.id?je.setAttribute("aria-current","page"):je.removeAttribute("aria-current");let Ie=D.name||D.title,Ge=((st=D.accessibility)==null?void 0:st.showInMainNav)===!1?'<span class="text-[10px] font-semibold text-amber-600">Masqu\xE9 du menu</span>':"",mt=K?'<span class="text-[10px] font-semibold text-rose-600">Parent manquant</span>':"",Ue=Math.min(32,Math.max(0,Number(ee)||0)*14);je.innerHTML=`
            <span class="flex h-9 w-9 items-center justify-center rounded-xl border border-slate-200 bg-white text-slate-500">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                <path d="M6.5 4.5h7l4 4v11a1 1 0 0 1-1 1h-10a1 1 0 0 1-1-1v-14a1 1 0 0 1 1-1Z" stroke="currentColor" stroke-width="1.4" stroke-linejoin="round"/>
                <path d="M13.5 4.5v4a1 1 0 0 0 1 1h3" stroke="currentColor" stroke-width="1.4"/>
              </svg>
            </span>
            <div class="flex flex-col" style="margin-left:${Ue}px">
              <span class="text-sm font-semibold">${Ie}</span>
              <span class="text-xs text-slate-500">${D.slug}</span>
              ${Ge}
              ${mt}
            </div>
          `,je.addEventListener("click",()=>{$t(D.id),lo()||co()}),C.appendChild(je);let Bt=document.createElement("button");Bt.type="button",Bt.className="flex-shrink-0 p-2 text-slate-400 hover:text-rose-600 hover:bg-rose-50 rounded-lg transition",Bt.title="Supprimer cette page",Bt.setAttribute("aria-label",`Supprimer ${Ie}`),Bt.innerHTML=`
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M3 6h18M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2m3 0v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6h14ZM10 11v6M14 11v6"/>
            </svg>
          `,Bt.addEventListener("click",Yt=>{Yt.stopPropagation(),ba(D)}),C.appendChild(Bt),P.appendChild(C)})})},ts=()=>{if(!m||!Array.isArray(m.blocks))return null;let e=m.blocks.find(t=>t.id===tt);if(!e){for(let t of m.blocks)if(t.children&&(e=t.children.find(s=>s.id===tt),e))break}return e||null},va=(e,t)=>{if(!e||!t)return!1;let s=r=>{for(let n of r||[])if(n&&(n.id===t||Array.isArray(n.children)&&s(n.children)))return!0;return!1};return s(e.blocks||[])},io=(e,t,s,r=null)=>{let n=!1,i=null,c=(v,Z=null)=>{let P=!1;return{nodes:(v||[]).map(ee=>{if(!ee||!ee.id)return ee;if(ee.id===t&&(!r||r===Z))return n=!0,i=Z,P=!0,s(ee);if(Array.isArray(ee.children)&&ee.children.length>0){let{nodes:K,changed:C}=c(ee.children,ee.id);if(C)return P=!0,{...ee,children:K}}return ee}),changed:P}};return{blocks:c(e,null).nodes,didUpdate:n,foundParentId:i}},ss=null,Rt=(e,t=null)=>{if(!m)return;if(!e){tt=null,ss=null,It(m),Lr(null),Js(null);return}let s=null;if(s=m.blocks.find(r=>r.id===e),!s&&t){let r=m.blocks.find(n=>n.id===t);r&&r.children&&(s=r.children.find(n=>n.id===e))}if(!s){for(let r of m.blocks)if(r.children){let n=r.children.find(i=>i.id===e);if(n){s=n,t=r.id;break}}}s||(s=m.blocks[0]||null,t=null),tt=(s==null?void 0:s.id)||null,ss=t,It(m),Lr(s),Js(tt)},Cs=e=>{if(!m)return;let t={...m,blocks:e};Ca(t)},Ar=()=>window.matchMedia("(min-width: 1024px)").matches;function Qo(e,t){if(!m||!e||!t)return;let s=[...m.blocks||[]],r=s.findIndex(c=>c.id===e);if(r<0)return;let n=r+t;if(n<0||n>=s.length)return;let[i]=s.splice(r,1);s.splice(n,0,i),Cs(s),$t(m.id,{preserveBlock:!0}),Rt(i.id)}function Ya(e,t){if(!m||!e||!t||e===t)return;let s=[...m.blocks||[]],r=s.findIndex(c=>c.id===e),n=s.findIndex(c=>c.id===t);if(r<0||n<0)return;let[i]=s.splice(r,1);s.splice(n,0,i),Cs(s),$t(m.id,{preserveBlock:!0}),Rt(i.id)}function xa(e,t,s){if(!m||!e||!t||e===t)return;let r=[...m.blocks||[]],n=r.findIndex(v=>v.id===e),i=r.findIndex(v=>v.id===t);if(n<0||i<0)return;let[c]=r.splice(n,1);n<i&&i--;let f=s==="before"?i:i+1;r.splice(f,0,c),Cs(r),$t(m.id,{preserveBlock:!0}),Rt(c.id)}function Xo(){if(!H)return;let e=Ar();H.querySelectorAll("[data-block-item]").forEach(t=>{t.setAttribute("draggable",e?"true":"false")})}function Ws(){Le&&(Le.classList.add("hidden"),Es=!1,Xt=null)}function wa(){Le&&(Le.classList.remove("hidden"),Es=!0)}function Sa(){Es?Ws():wa()}function La(e){var i;if(!m||!e)return;let t=oa[e];if(!t)return;let s=(m.blocks||[]).filter(c=>c.type===t.type).length+1,r=oo(no(m.id,e),`${t.label} ${s}`,t.type,t.status,t.description,t.props,t.settings||{});if((t.type||"").toLowerCase()==="collectiongrid"){let c=((i=Ut[0])==null?void 0:i.id)||"";r.collectionId=c,r.settings.collectionId=c,r.settings.limit=r.settings.limit||6}if(Xt){let c=m.blocks.find(f=>f.id===Xt);if(c){c.children||(c.children=[]),c.children.push(r),Xt=null,It(m),savePageBlocks(),Rt(r.id,c.id),Ws(),M("Bloc ajout\xE9 au groupe");return}Xt=null}let n=[...m.blocks||[],r];Cs(n),$t(m.id,{preserveBlock:!0}),Rt(r.id),Ws(),M("Bloc ajout\xE9")}function en(e){var r,n;if(!m)return;let t=(m.blocks||[]).filter(i=>i.id!==e),s=e===tt?((r=t[0])==null?void 0:r.id)||null:tt||((n=t[0])==null?void 0:n.id)||null;Cs(t),tt=s,$t(m.id,{preserveBlock:!0}),tt?Rt(tt):(Lr(null),Js(null)),M("Bloc supprim\xE9")}function Ir(){Ee&&(Ee.classList.add("hidden"),Ee.classList.remove("flex"),$r=null,Ts(Ee))}function ka(e){if(!Ee){en(e);return}$r=e,Ee.classList.remove("hidden"),Ee.classList.add("flex"),Is(Ee,Ir)}let Ca=e=>{if(!e)return;let t=rs(e);de=de.map(s=>s.id===t.id?t:s),m=t,Wt(t)},$t=(e,t={})=>{var n,i;let s=de.find(c=>c.id===e)||de[0]||null;m=s?rs(s):null,Oe=(s==null?void 0:s.id)||null,(!t.preserveBlock||!m||!va(m,tt))&&(tt=((i=(n=m==null?void 0:m.blocks)==null?void 0:n[0])==null?void 0:i.id)||null,ss=null),Oe&&na(Oe),es(de,Oe),Vo(m),vo(),la(m),De(m),It(m),Lr(ts()),Js(tt),Xo(),Es&&Ws()},lo=()=>window.matchMedia("(min-width: 1024px)").matches,tn=()=>{it&&(lo()?(it.classList.add("is-open"),Ye==null||Ye.classList.add("hidden"),document.body.classList.remove("overflow-hidden")):it.classList.remove("is-open"))},Ea=()=>{!it||lo()||(it.classList.add("is-open"),Ye==null||Ye.classList.remove("hidden"),document.body.classList.add("overflow-hidden"))},co=()=>{it&&(it.classList.remove("is-open"),Ye==null||Ye.classList.add("hidden"),document.body.classList.remove("overflow-hidden"))},qa=()=>{!gt||!Dt||(gt.classList.remove("hidden"),Dt.classList.add("hidden"),et&&(et.textContent=""),Tr=!1,xt&&(xt.value="",xt.focus()),Qt&&(Qt.value=""),wt&&(wt.value=""))},sn=()=>{!gt||!Dt||(gt.classList.add("hidden"),Dt.classList.remove("hidden"),et&&(et.textContent=""),Tr=!1,gt.reset())},Aa=()=>{!xt||!wt||Tr&&wt.value.trim().length>0||(wt.value=Sr(xt.value))},de=[],Oe=null,Tr=!1,m=null,tt=null,Es=!1,$r=null,uo="",mo=!1,Gs=null,Ut=[],Br=new Map,Ia=e=>{let t={...e,props:Array.isArray(e.props)?e.props:[],settings:{...e.settings||{}}};return(t.type||"").toLowerCase()==="collectiongrid"&&(t.collectionId=t.collectionId||t.settings.collectionId||"",t.settings.collectionId=t.collectionId,t.settings.limit=t.settings.limit||6),t},rs=e=>{var t,s,r,n,i;return{...e,parentId:typeof e.parentId=="string"&&e.parentId.trim()?e.parentId.trim():null,blocks:(e.blocks||[]).map(c=>Ia(c)),seo:{title:(((t=e.seo)==null?void 0:t.title)||"").trim(),description:(((s=e.seo)==null?void 0:s.description)||"").trim(),indexed:typeof((r=e.seo)==null?void 0:r.indexed)=="boolean"?e.seo.indexed:null},accessibility:{showInMainNav:((n=e.accessibility)==null?void 0:n.showInMainNav)!==!1,mainLabel:(((i=e.accessibility)==null?void 0:i.mainLabel)||"").trim()}}},Ta=async()=>{if(!wr){Ut=[],jr();return}try{let e=await fetch(wr,{headers:{Accept:"application/json"}});if(!e.ok)throw new Error("Impossible de charger les collections.");let t=await e.json().catch(()=>[]);Ut=Array.isArray(t)?t:[];let s=(We==null?void 0:We.value)||"";jr(s)}catch(e){console.error("[design] collections load",e),M("Collections indisponibles."),Ut=[],jr()}},fo=e=>{if(!ds)return;if(!e){ds.textContent=Ut.length?"S\xE9lectionnez une collection pour afficher ses informations.":"Aucune collection disponible. Ajoutez-en depuis l\u2019onglet Contenus.";return}let t=Ut.find(r=>r.id===e);if(!t){ds.textContent=`Collection ${e}`;return}let s=[];t.description&&s.push(t.description),t.type&&s.push(`Type\xA0: ${t.type}`),ds.textContent=s.join(" \xB7 ")||`Collection ${t.name||t.id}`},$a=async e=>{if(!wr||!e)return[];let t=String(e);if(Br.has(t))return Br.get(t)||[];try{let s=await fetch(`${wr}/${encodeURIComponent(t)}/items`,{headers:{Accept:"application/json"}});if(!s.ok)throw new Error("Impossible de charger les items.");let r=await s.json().catch(()=>({})),n=Array.isArray(r==null?void 0:r.items)?r.items:[];return Br.set(t,n),n}catch(s){return console.warn("[design] collection items load failed",(s==null?void 0:s.message)||s),Br.set(t,[]),[]}},po=()=>{let e=ts();if(!e)return null;let t=l(e.type);return(pr[t]||t)!=="collectiongrid"?null:e},Ba=(e="S\xE9lectionnez une collection")=>{if(!Ae)return;Ae.innerHTML="";let t=document.createElement("option");t.value="",t.textContent=e,Ae.appendChild(t),Ae.value="",Object.values(ve).forEach(s=>{s&&(s.type==="checkbox"?s.checked=!1:s.value="")})},Pr=()=>((Ae==null?void 0:Ae.value)||"").trim(),rn=e=>{var s;let t=(s=e==null?void 0:e.settings)==null?void 0:s.itemOverrides;return!t||typeof t!="object"||Array.isArray(t)?{}:t},on=(e,t)=>{var i,c;if(!e||!t)return;let s=rn(e),r=s[t]&&typeof s[t]=="object"?s[t]:{},n=f=>{var v;return(v=r==null?void 0:r[f])!=null?v:""};ve.ctaStyle&&(ve.ctaStyle.value=n("ctaStyle")),ve.ctaTextColor&&(ve.ctaTextColor.value=n("ctaTextColor")),ve.bg&&(ve.bg.value=n("bg")),ve.borderRadius&&(ve.borderRadius.value=n("borderRadius")),ve.shadow&&(ve.shadow.value=n("shadow")),ve.border&&(ve.border.value=n("border")),ve.animation&&(ve.animation.value=n("animation")),ve.animationDelay&&(ve.animationDelay.value=(i=r==null?void 0:r.animationDelay)!=null?i:""),ve.animationDuration&&(ve.animationDuration.value=(c=r==null?void 0:r.animationDuration)!=null?c:""),w==null||w.querySelectorAll("[data-color-select]").forEach(Ms)},Pa=()=>{var s,r,n,i,c,f,v,Z,P;let e=Pr();if(!e)return null;let t={ctaStyle:(((s=ve.ctaStyle)==null?void 0:s.value)||"").trim(),ctaTextColor:(((r=ve.ctaTextColor)==null?void 0:r.value)||"").trim(),bg:(((n=ve.bg)==null?void 0:n.value)||"").trim(),borderRadius:(((i=ve.borderRadius)==null?void 0:i.value)||"").trim(),shadow:(((c=ve.shadow)==null?void 0:c.value)||"").trim(),border:(((f=ve.border)==null?void 0:f.value)||"").trim(),animation:(((v=ve.animation)==null?void 0:v.value)||"").trim(),animationDelay:Number(((Z=ve.animationDelay)==null?void 0:Z.value)||""),animationDuration:Number(((P=ve.animationDuration)==null?void 0:P.value)||"")};return Number.isFinite(t.animationDelay)||delete t.animationDelay,Number.isFinite(t.animationDuration)||delete t.animationDuration,Object.keys(t).forEach(D=>{t[D]===""&&delete t[D]}),{itemId:e,patch:t}},go=async({reset:e=!1}={})=>{let t=po();if(!m||!t)return;let s=Pr();if(!s)return;let r=f=>{let v={...f.settings||{}},Z={...rn({settings:v})};if(e)delete Z[s];else{let P=Pa();if(!P)return f;let D=P.patch||{};Object.keys(D).length?Z[s]={...Z[s]||{},...D}:delete Z[s]}return v.itemOverrides=Z,{...f,settings:v}},{blocks:n,didUpdate:i}=io(m.blocks||[],t.id,r,ss);if(!i)return;let c={...m,blocks:n};m=c,W("Modification\u2026");try{let f=await Wt(c);if(f!=null&&f.id){let v=rs(f);m=v,de=de.map(Z=>Z.id===v.id?v:Z)}W("Sauvegard\xE9"),setTimeout(()=>W("\xC0 jour"),1500)}catch(f){console.warn("[design] card override save failed",(f==null?void 0:f.message)||f),W("Erreur de sauvegarde")}xe()},nn=async e=>{var i,c;if(!Ae||!e)return;let t=e.collectionId||((i=e.settings)==null?void 0:i.collectionId)||"";if(!t){Ba("S\xE9lectionnez une collection");return}let s=await $a(t);if(Ae.innerHTML="",!s.length){let f=document.createElement("option");f.value="",f.textContent="Aucun item",Ae.appendChild(f),Ae.value="";return}s.forEach(f=>{let v=document.createElement("option");v.value=f.id||"";let Z=f.title||f.slug||f.id||"Item";v.textContent=Z,Ae.appendChild(v)});let r=Pr(),n=r&&s.some(f=>f.id===r)?r:((c=s[0])==null?void 0:c.id)||"";Ae.value=n,on(e,n)},jr=(e="")=>{if(We){if(We.innerHTML="",!Ut.length){We.disabled=!0;let t=document.createElement("option");t.value="",t.textContent="Aucune collection disponible",We.appendChild(t),fo("");return}if(We.disabled=!1,e&&!Ut.some(t=>t.id===e)){let t=document.createElement("option");t.value=e,t.textContent=e,We.appendChild(t)}Ut.forEach(t=>{let s=document.createElement("option");s.value=t.id;let r=t.name||t.id;s.textContent=t.type?`${r} \xB7 ${t.type}`:r,s.dataset.description=t.description||"",We.appendChild(s)}),e&&(We.value=e),fo(We.value||"")}};Ta(),tn(),ms.forEach(e=>{e.addEventListener("click",Ea)}),yr.forEach(e=>{e.addEventListener("click",co)}),Ye==null||Ye.addEventListener("click",co),window.addEventListener("resize",()=>{tn(),Xo()}),Dt==null||Dt.addEventListener("click",qa),fs==null||fs.addEventListener("click",sn),xt==null||xt.addEventListener("input",Aa),wt==null||wt.addEventListener("input",()=>{et&&(et.textContent=""),Tr=!0}),gt==null||gt.addEventListener("submit",async e=>{if(e.preventDefault(),!At){et&&(et.textContent="Aucun site s\xE9lectionn\xE9.");return}if(!xt||!wt)return;let t=xt.value.trim(),s=(Qt==null?void 0:Qt.value.trim())||t,r=Sr(wt.value.trim()||t);if(!t||!r){et&&(et.textContent="Nom et slug sont requis.");return}et&&(et.textContent=""),Gt&&(Gt.disabled=!0,Gt.textContent="Cr\xE9ation...");try{let n=await hr({name:t,title:s,slug:r});if(!n||!n.id)throw new Error("R\xE9ponse invalide.");de=[...de,rs(n)],sn(),M("Page cr\xE9\xE9e"),$t(n.id)}catch(n){console.error("[design] create page failed",n),et&&(et.textContent=n.message||"Impossible de cr\xE9er la page.")}finally{Gt&&(Gt.disabled=!1,Gt.textContent="Cr\xE9er")}});let ho=()=>{Lt&&(Lt.value=""),Ht&&(Ht.classList.add("hidden"),Ht.textContent="")},an=()=>{if(!Lt)return null;let e=Lt.value.trim();if(!e)return Ht&&Ht.classList.add("hidden"),null;try{let t=JSON.parse(e);return Ht&&Ht.classList.add("hidden"),t}catch(t){return Ht&&(Ht.classList.remove("hidden"),Ht.textContent=`\u274C JSON invalide : ${t.message}`),null}},ja=()=>{if(!Lt)return;let e=Lt.value.trim();if(e)try{let t=JSON.parse(e);Lt.value=JSON.stringify(t,null,2),an()}catch{}},Zs=()=>{if(St)if(ps==="upload")St.disabled=Zt.length===0;else if(ps==="paste"){let e=an();St.disabled=!e}else St.disabled=!0},Ma=()=>{dt&&(dt.classList.remove("hidden"),dt.classList.add("flex"),Zt=[],ps="upload",yo(),ho(),ht&&ht.classList.add("hidden"),bt&&(bt.innerHTML=""),Zs(),Xr.forEach(e=>{e.dataset.importTab==="upload"?(e.classList.add("bg-[#9C6BFF]","text-white"),e.classList.remove("border","border-slate-200","text-slate-700")):(e.classList.remove("bg-[#9C6BFF]","text-white"),e.classList.add("border","border-slate-200","text-slate-700"))}),Ho.forEach(e=>{e.dataset.importPanel==="upload"?e.classList.remove("hidden"):e.classList.add("hidden")}),Is(dt,bo))},bo=()=>{dt&&(dt.classList.add("hidden"),dt.classList.remove("flex"),Zt=[],ho(),Ts(dt))},yo=()=>{if(!(!ks||!Os)){if(Zt.length===0){ks.classList.add("hidden"),Zs();return}ks.classList.remove("hidden"),Os.innerHTML=Zt.map(e=>`<li class="flex items-center gap-2"><span class="text-lg">\u{1F4C4}</span>${e.name}</li>`).join(""),Zs()}},ln=e=>{let t=Array.from(e).filter(s=>s.type==="application/json"||s.name.endsWith(".json"));if(t.length===0){M("Aucun fichier JSON valide.");return}Zt=t,yo()},Fa=async()=>{var s,r,n,i,c,f,v,Z,P,D,ee;if(!At)return;let e=[];if(console.log("[import] activeImportTab:",ps),ps==="paste"){let K=(s=Lt==null?void 0:Lt.value)==null?void 0:s.trim();if(console.log("[import] paste text length:",K==null?void 0:K.length),!K){M("Aucun JSON \xE0 importer."),ht&&bt&&(ht.classList.remove("hidden"),bt.innerHTML='<p class="text-amber-600">\u26A0 Le champ de texte est vide.</p>');return}try{let C=JSON.parse(K);console.log("[import] parsed JSON:",C),console.log("[import] parsed type:",typeof C,Array.isArray(C)?"array":"not array"),C&&!Array.isArray(C)&&C.pages?(console.log("[import] detected pages+collections format"),e=C):Array.isArray(C)?e.push(...C):e.push(C),console.log("[import] pagesData prepared:",e)}catch(C){let je=C.message.match(/position (\d+)/),Ie=C.message;if(je){let be=parseInt(je[1],10),Ge=K.substring(0,be).split(`
`),mt=Ge.length,Ue=Ge[Ge.length-1].length+1;Ie=`Ligne ${mt}, colonne ${Ue}: ${C.message}`}M(`Erreur JSON : ${Ie}`,"error"),console.error("[import] paste parse error",C),ht&&bt&&(ht.classList.remove("hidden"),bt.innerHTML=`
              <div class="text-rose-600">
                <p class="font-medium">\u2717 Erreur de syntaxe JSON</p>
                <p class="text-xs mt-1">${Ie}</p>
                <p class="text-xs mt-2 text-slate-500">V\xE9rifiez les virgules, guillemets et accolades.</p>
              </div>
            `);return}}else if(ps==="upload"){if(Zt.length===0)return;let K=[];for(let C of Zt){let je=await C.text();try{let Ie=JSON.parse(je);Array.isArray(Ie)?e.push(...Ie):e.push(Ie)}catch(Ie){let be=Ie.message.match(/position (\d+)/),Ge=Ie.message;if(be){let mt=parseInt(be[1],10);Ge=`Ligne ${je.substring(0,mt).split(`
`).length}: ${Ie.message}`}K.push({file:C.name,error:Ge}),console.error("[import] parse error",C.name,Ie)}}if(K.length>0){if(ht&&bt){ht.classList.remove("hidden");let C='<div class="text-rose-600"><p class="font-medium">\u2717 Erreurs de syntaxe JSON</p><ul class="ml-4 text-xs mt-1">';K.forEach(je=>{C+=`<li><strong>${je.file}</strong>: ${je.error}</li>`}),C+="</ul></div>",e.length>0&&(C+=`<p class="text-amber-600 mt-2 text-sm">\u26A0 ${e.length} page(s) valide(s) seront import\xE9e(s)</p>`),bt.innerHTML=C}if(e.length===0){M("Tous les fichiers contiennent des erreurs JSON","error");return}}}else return;let t=Array.isArray(e)?e.length>0:e&&(((r=e.pages)==null?void 0:r.length)>0||e.title);if(console.log("[import] hasData check:",t,"pagesData:",e),!t){M("Aucune page valide \xE0 importer."),ht&&bt&&(ht.classList.remove("hidden"),bt.innerHTML=`
            <div class="text-amber-600">
              <p class="font-medium">\u26A0 Aucune page d\xE9tect\xE9e</p>
              <p class="text-xs mt-1">Le JSON doit contenir :</p>
              <ul class="text-xs ml-4 mt-1 list-disc">
                <li>Un objet page avec "title" : <code>{"title": "Ma page", ...}</code></li>
                <li>Un tableau de pages : <code>[{"title": "Page 1"}, {"title": "Page 2"}]</code></li>
                <li>Ou un objet combin\xE9 : <code>{"pages": [...], "collections": {...}}</code></li>
              </ul>
            </div>
          `);return}St&&(St.disabled=!0,St.textContent="Import..."),console.log("[import] Sending to server:",JSON.stringify(e).substring(0,500));try{let K=await fetch(`${At}/import`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)});console.log("[import] Server response status:",K.status);let C=await K.json();if(console.log("[import] Server response body:",C),!K.ok)throw ht&&bt&&(ht.classList.remove("hidden"),bt.innerHTML=`
              <div class="text-rose-600">
                <p class="font-medium">\u2717 Erreur serveur</p>
                <p class="text-xs mt-1">${C.message||"Erreur inconnue"}</p>
                ${C.details?`<p class="text-xs mt-1 text-slate-500">${C.details}</p>`:""}
              </div>
            `),new Error(C.message||"Erreur serveur");if(ht&&bt){ht.classList.remove("hidden");let be="",Ge=((n=C.imported)==null?void 0:n.length)>0||((i=C.collectionsCreated)==null?void 0:i.length)>0,mt=((c=C.errors)==null?void 0:c.length)>0;Ge&&!mt?be+='<div class="bg-green-50 border border-green-200 rounded-lg p-3 mb-2"><p class="text-green-800 font-medium">\u2713 Import r\xE9ussi</p></div>':Ge&&mt?be+='<div class="bg-amber-50 border border-amber-200 rounded-lg p-3 mb-2"><p class="text-amber-800 font-medium">\u26A0 Import partiel</p></div>':mt&&(be+='<div class="bg-rose-50 border border-rose-200 rounded-lg p-3 mb-2"><p class="text-rose-800 font-medium">\u2717 Import \xE9chou\xE9</p></div>'),C.collectionsCreated&&C.collectionsCreated.length>0&&(be+=`<p class="text-violet-700 mt-2">\u2713 ${C.collectionsCreated.length} collection(s) cr\xE9\xE9e(s)</p>`,be+='<ul class="ml-4 text-xs text-slate-600">',C.collectionsCreated.forEach(Ue=>{be+=`<li>${Ue.name} (${Ue.itemsCount} item${Ue.itemsCount>1?"s":""})</li>`}),be+="</ul>"),C.imported&&C.imported.length>0&&(be+=`<p class="text-green-700 mt-2">\u2713 ${C.imported.length} page(s) import\xE9e(s)</p>`,be+='<ul class="ml-4 text-xs text-slate-600">',C.imported.forEach(Ue=>{be+=`<li><strong>${Ue.title}</strong> \u2192 ${Ue.slug} (${Ue.action==="updated"?"mise \xE0 jour":"cr\xE9\xE9e"})</li>`}),be+="</ul>"),C.errors&&C.errors.length>0&&(be+=`<p class="text-rose-600 mt-3 font-medium">\u2717 ${C.errors.length} erreur(s)</p>`,be+='<ul class="ml-4 text-xs text-rose-600 space-y-1 mt-1">',C.errors.forEach(Ue=>{be+=`<li class="bg-rose-50 p-2 rounded"><strong>${Ue.title}</strong><br/><span class="text-rose-500">${Ue.error}</span></li>`}),be+="</ul>"),bt.innerHTML=be}let je=((f=C.imported)==null?void 0:f.length)>0||((v=C.collectionsCreated)==null?void 0:v.length)>0,Ie=((Z=C.errors)==null?void 0:Z.length)>0;if(C.imported&&C.imported.length>0&&(de=await zs(),es(de,Oe),de.length>0&&!Oe&&$t(de[0].id)),je&&!Ie){let be=(P=C.collectionsCreated)!=null&&P.length?` + ${C.collectionsCreated.length} collection(s)`:"";M(`\u2713 Import r\xE9ussi : ${((D=C.imported)==null?void 0:D.length)||0} page(s)${be}`,"success")}else je&&Ie?M(`\u26A0 Import partiel : ${((ee=C.imported)==null?void 0:ee.length)||0} page(s), ${C.errors.length} erreur(s)`,"warning"):Ie&&M(`\u2717 Import \xE9chou\xE9 : ${C.errors.length} erreur(s)`,"error");Zt=[],yo(),ho()}catch(K){console.error("[import] failed",K),M(K.message||"Erreur import","error")}finally{St&&(St.disabled=!1,St.textContent="Importer")}};Ss==null||Ss.addEventListener("click",Ma),vr.forEach(e=>e.addEventListener("click",bo)),dt==null||dt.addEventListener("click",e=>{e.target===dt&&bo()}),Ls==null||Ls.addEventListener("change",e=>{ln(e.target.files)}),ut==null||ut.addEventListener("dragover",e=>{e.preventDefault(),ut.classList.add("border-[#9C6BFF]","bg-[#9C6BFF]/10")}),ut==null||ut.addEventListener("dragleave",e=>{e.preventDefault(),ut.classList.remove("border-[#9C6BFF]","bg-[#9C6BFF]/10")}),ut==null||ut.addEventListener("drop",e=>{e.preventDefault(),ut.classList.remove("border-[#9C6BFF]","bg-[#9C6BFF]/10"),ln(e.dataTransfer.files)}),St==null||St.addEventListener("click",Fa),Lt==null||Lt.addEventListener("input",()=>{Zs()}),so==null||so.addEventListener("click",ja),Xr.forEach(e=>{e.addEventListener("click",()=>{let t=e.dataset.importTab;ps=t,Xr.forEach(s=>{s.dataset.importTab===t?(s.classList.add("bg-[#9C6BFF]","text-white"),s.classList.remove("border","border-slate-200","text-slate-700")):(s.classList.remove("bg-[#9C6BFF]","text-white"),s.classList.add("border","border-slate-200","text-slate-700"))}),Ho.forEach(s=>{s.dataset.importPanel===t?s.classList.remove("hidden"):s.classList.add("hidden")}),Zs()})}),to==null||to.addEventListener("click",async()=>{if(!Ro)return;let e=Ro.textContent||"";try{await navigator.clipboard.writeText(e),M("Template copi\xE9 !")}catch(t){console.error("[import] copy failed",t),M("Erreur copie")}}),eo==null||eo.addEventListener("click",async()=>{if(!Uo)return;let e=Uo.textContent||"";try{await navigator.clipboard.writeText(e),M("Prompt copi\xE9 !")}catch(t){console.error("[import] copy prompt failed",t),M("Erreur copie")}}),ro==null||ro.addEventListener("click",qr),Kt==null||Kt.addEventListener("click",ya),qt==null||qt.addEventListener("click",e=>{e.target===qt&&qr()}),he==null||he.addEventListener("click",e=>{if(e.stopPropagation(),!Es){let t=ts(),s=((t==null?void 0:t.type)||"").toLowerCase();s==="groupe"||s==="group"?Xt=t.id:Xt=null}Sa()}),document.addEventListener("click",e=>{Es&&(Le!=null&&Le.contains(e.target)||he!=null&&he.contains(e.target)||Ws())}),Ze.forEach(e=>{e.addEventListener("click",t=>{t.stopPropagation();let s=e.dataset.blockAdd;La(s)})}),at==null||at.addEventListener("click",()=>{Ir()}),He==null||He.addEventListener("click",()=>{$r&&en($r),Ir()}),Ee==null||Ee.addEventListener("click",e=>{e.target===Ee&&Ir()}),w==null||w.addEventListener("input",e=>{var r,n,i,c;let t=e.target;if(!t||!t.name)return;if(t.name.startsWith("collection-item-")){go();return}if(t.name==="group-columns-mobile"||t.name==="group-columns-desktop"){let f=((r=w.querySelector('[name="group-columns-mobile"]'))==null?void 0:r.value)||"1",v=((n=w.querySelector('[name="group-columns-desktop"]'))==null?void 0:n.value)||"3";gr(f,v)}if(t.name==="collection-columns-mobile"||t.name==="collection-columns-desktop"){let f=((i=w.querySelector('[name="collection-columns-mobile"]'))==null?void 0:i.value)||"1",v=((c=w.querySelector('[name="collection-columns-desktop"]'))==null?void 0:c.value)||"3";us(f,v)}let s=t.closest("[data-block-panel]");if(s&&s.dataset.blockPanel==="appearance"){let f=ts(),v=u(f);if(f&&v){let Z=B(v);Ne(f.id,Z)}}}),w==null||w.addEventListener("change",e=>{var r,n;let t=e.target;if(!t||!t.name)return;if(t.name.startsWith("collection-item-")){go();return}if(t.hasAttribute("data-color-select")){let i=t.options[t.selectedIndex],c=((r=i==null?void 0:i.dataset)==null?void 0:r.color)||"#ffffff",f=(n=t.closest(".relative"))==null?void 0:n.querySelector("[data-color-preview]");f&&(c==="transparent"?f.style.background=is:f.style.background=c)}let s=t.closest("[data-block-panel]");if(s&&s.dataset.blockPanel==="appearance"){let i=ts(),c=u(i);if(i&&c){let f=B(c);Ne(i.id,f)}}}),We==null||We.addEventListener("change",e=>{let t=e.target;fo((t==null?void 0:t.value)||"");let s=po();s&&(s.collectionId=(t==null?void 0:t.value)||"",s.settings={...s.settings||{},collectionId:s.collectionId},nn(s))}),Ae==null||Ae.addEventListener("change",()=>{let e=po();if(!e)return;let t=Pr();on(e,t)}),Ds==null||Ds.addEventListener("click",e=>{e.preventDefault(),go({reset:!0})}),w==null||w.addEventListener("submit",Re),Hs==null||Hs.addEventListener("click",e=>{e.preventDefault();let t=ts();t&&y(t)}),O.length>0&&(O.forEach(e=>{e.addEventListener("click",()=>{let t=e.dataset.previewView||"desktop";Wo(t)})}),Wo("desktop")),h==null||h.addEventListener("load",()=>{var r;mo=!0,W("\xC0 jour"),Js(tt);let e=h==null?void 0:h.contentDocument;if(!e||!m||e.documentElement.dataset.rawditPreviewSelectBound==="true")return;if(e.documentElement.dataset.rawditPreviewSelectBound="true",!e.getElementById("rawdit-preview-select-style")){let n=e.createElement("style");n.id="rawdit-preview-select-style",n.textContent=`
	          [data-preview-block]{ cursor:pointer; }
	          [data-preview-block]:hover{ outline:2px solid var(--color-accent, #9C6BFF); outline-offset:2px; }
	        `,(r=e.head)==null||r.appendChild(n)}let t=n=>{let i=((n==null?void 0:n.type)||"").toLowerCase();return i==="groupe"||i==="group"||i==="sections"||i==="grid"},s=n=>{if(!m||!n||(m.blocks||[]).some(i=>i.id===n))return null;for(let i of m.blocks||[])if(!(!t(i)||!Array.isArray(i.children))&&i.children.some(c=>c.id===n))return i.id;return null};e.addEventListener("click",n=>{var Z,P,D;let i=n.target,c=(Z=i==null?void 0:i.closest)==null?void 0:Z.call(i,"[data-preview-block]"),f=((P=c==null?void 0:c.getAttribute)==null?void 0:P.call(c,"data-preview-block"))||"";if(!f)return;n.preventDefault(),n.stopPropagation(),(D=n.stopImmediatePropagation)==null||D.call(n);let v=s(f);Rt(f,v)},!0)}),ue==null||ue.addEventListener("click",()=>{let e=window.open("","_blank");if(!e)return;e.opener=null;let t=e.document;t.open(),t.write(uo||fe()),t.close()});let cn=e=>{var t,s,r;$&&(e?($.classList.remove("hidden"),m&&(V&&(V.value=((t=m.seo)==null?void 0:t.title)||""),q&&(q.value=((s=m.seo)==null?void 0:s.description)||""),E&&(E.checked=((r=m.seo)==null?void 0:r.indexed)!==!1))):$.classList.add("hidden"))},Mr=(e,t="muted")=>{if(!L)return;let s=t==="success"?"text-emerald-600":t==="error"?"text-rose-600":"text-slate-500";L.textContent=e||"",L.className=`text-sm ${s}`};T==null||T.addEventListener("click",()=>{let e=$&&!$.classList.contains("hidden");cn(!e)}),F==null||F.addEventListener("click",()=>cn(!1)),j==null||j.addEventListener("submit",async e=>{var t;if(e.preventDefault(),!m){Mr("Aucune page active.","error");return}I&&(I.disabled=!0),Mr("");try{let s={title:((V==null?void 0:V.value)||"").trim(),description:((q==null?void 0:q.value)||"").trim(),indexed:(t=E==null?void 0:E.checked)!=null?t:!0},r={...m,seo:s},n=await Wt(r);n&&(m=n,Mr("SEO enregistr\xE9.","success"),M("SEO mis \xE0 jour"),De(m))}catch(s){console.error("[seo] save failed",s),Mr(s.message||"Erreur lors de la sauvegarde.","error")}finally{I&&(I.disabled=!1)}});let vo=()=>{var e,t;if(!(!ne&&!Ce)){if(!m){ne&&(ne.checked=!0),Ce&&(Ce.value="");return}ne&&(ne.checked=((e=m.accessibility)==null?void 0:e.showInMainNav)!==!1),Ce&&(Ce.value=((t=m.accessibility)==null?void 0:t.mainLabel)||"")}},dn=e=>{U&&(e?(vo(),U.classList.remove("hidden")):U.classList.add("hidden"))},Fr=(e,t="muted")=>{if(!$e)return;let s=t==="success"?"text-emerald-600":t==="error"?"text-rose-600":"text-slate-500";$e.textContent=e||"",$e.className=`text-sm ${s}`};A==null||A.addEventListener("click",()=>{let e=U&&!U.classList.contains("hidden");dn(!e)}),se==null||se.addEventListener("click",()=>dn(!1)),ce==null||ce.addEventListener("submit",async e=>{var t;if(e.preventDefault(),!m){Fr("Aucune page active.","error");return}Qe&&(Qe.disabled=!0),Fr("");try{let s={showInMainNav:(t=ne==null?void 0:ne.checked)!=null?t:!0,mainLabel:((Ce==null?void 0:Ce.value)||"").trim()},r={...m,accessibility:s},n=await Wt(r);n&&(m=n,vo(),Fr("Accessibilit\xE9 enregistr\xE9e.","success"),M("Accessibilit\xE9 mise \xE0 jour"),es(de,Oe),De(m))}catch(s){console.error("[accessibility] save failed",s),Fr(s.message||"Erreur lors de la sauvegarde.","error")}finally{Qe&&(Qe.disabled=!1)}});let Na=e=>{let t=typeof e=="string"?e.trim():"";if(!t||t==="/")return"";let r=t.replace(/\\/g,"/").replace(/^\/+|\/+$/g,"");if(!r)return"";let n=r.split("/").filter(Boolean);return n[n.length-1]||""},un=(e,t)=>{let s=Vt((t||"").trim());if(!s)return"";let r=Sr(e||"/");return!r||r==="/"?`/${s}`:Sr(`${r}/${s}`)},Da=(e,t)=>{let s=new Map;(e||[]).forEach(i=>{let c=i!=null&&i.parentId&&typeof i.parentId=="string"&&i.parentId.trim()?i.parentId.trim():null;s.has(c)||s.set(c,[]),s.get(c).push(i.id)});let r=new Set,n=[t];for(;n.length>0;){let i=n.pop();(s.get(i)||[]).forEach(f=>{!f||r.has(f)||(r.add(f),n.push(f))})}return r},Ha=({pagesList:e,current:t})=>{if(!J)return;let s=(t==null?void 0:t.id)||"",r=s?Da(e,s):new Set;J.innerHTML='<option value="">Aucune (niveau racine)</option>',(e||[]).filter(i=>(i==null?void 0:i.id)&&i.id!==s&&!r.has(i.id)).slice().sort((i,c)=>(i.slug||"").localeCompare(c.slug||"")).forEach(i=>{let c=document.createElement("option");c.value=i.id,c.textContent=`${i.name||i.title||i.id} \u2014 ${i.slug||"/"}`,J.appendChild(c)})},xo=()=>{var f;if(!m)return;if((m.slug||"/")==="/"){J&&(J.value=""),z&&(z.value=""),g&&(g.value="/"),J&&(J.disabled=!0),z&&(z.disabled=!0);return}J&&(J.disabled=!1),z&&(z.disabled=!1);let s=new Map((de||[]).map(v=>[v.id,v])),r=((J==null?void 0:J.value)||"").trim(),n=r&&((f=s.get(r))==null?void 0:f.slug)||"/",i=((z==null?void 0:z.value)||"").trim(),c=un(n,i);g&&(g.value=c||"")},mn=e=>{X&&(e?(X.classList.remove("hidden"),m&&(N&&(N.value=m.name||""),S&&(S.value=m.title||""),Ha({pagesList:de,current:m}),J&&(J.value=m.parentId||""),z&&(z.value=Na(m.slug||"")),xo(),G&&(G.value=m.description||""))):X.classList.add("hidden"))},_t=(e,t="muted")=>{if(!re)return;let s=t==="success"?"text-emerald-600":t==="error"?"text-rose-600":"text-slate-500";re.textContent=e||"",re.className=`text-sm ${s}`};qe==null||qe.addEventListener("click",()=>{let e=X&&!X.classList.contains("hidden");mn(!e)}),Be==null||Be.addEventListener("click",()=>mn(!1)),J==null||J.addEventListener("change",()=>{xo()}),z==null||z.addEventListener("input",()=>{xo()}),Pe==null||Pe.addEventListener("submit",async e=>{var t;if(e.preventDefault(),!m){_t("Aucune page active.","error");return}Y&&(Y.disabled=!0),_t("");try{let s=((N==null?void 0:N.value)||"").trim(),r=((S==null?void 0:S.value)||"").trim(),n=((G==null?void 0:G.value)||"").trim(),i=((J==null?void 0:J.value)||"").trim(),c=i||null,f=((z==null?void 0:z.value)||"").trim(),v=m.slug||"/",Z=v==="/"?"/":((g==null?void 0:g.value)||"").trim()||un(c&&((t=de.find(ee=>ee.id===c))==null?void 0:t.slug)||"/",f);if(!r){_t("Le titre est requis.","error"),Y&&(Y.disabled=!1);return}if(v!=="/"&&!Vt(f)){_t("Le segment est requis.","error"),Y&&(Y.disabled=!1);return}if(!Z||!Z.startsWith("/")){_t("URL invalide.","error"),Y&&(Y.disabled=!1);return}if(v==="/"&&c){_t("La page d\u2019accueil ne peut pas avoir de parent.","error"),Y&&(Y.disabled=!1);return}if(de.some(ee=>ee.slug===Z&&ee.id!==m.id)){_t("Cette URL est d\xE9j\xE0 utilis\xE9e par une autre page.","error"),Y&&(Y.disabled=!1);return}let P={...m,name:s||r,title:r,parentId:c,slug:Z,description:n},D=await Wt(P);D&&(m=D,de=de.map(ee=>ee.id===D.id?D:ee),_t("Propri\xE9t\xE9s enregistr\xE9es.","success"),M("Page mise \xE0 jour"),Vo(m),es(de,Oe),De(m))}catch(s){console.error("[page-props] save failed",s),_t(s.message||"Erreur lors de la sauvegarde.","error")}finally{Y&&(Y.disabled=!1)}});let Ra=e=>{let t=e.target.closest("[data-block-item]");if(!t||!Ar()){e.preventDefault();return}if(zt=t.dataset.blockId||null,Ks=t.dataset.parentBlockId||null,!zt){e.preventDefault();return}e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/plain",zt),e.dataTransfer.setData("application/x-rawdit-parent",Ks||""),requestAnimationFrame(()=>{t.classList.add("opacity-50","scale-[0.98]","shadow-lg","ring-2","ring-[#9C6BFF]")})},fn=()=>{H==null||H.querySelectorAll("[data-block-item]").forEach(e=>{e.classList.remove("opacity-50","scale-[0.98]","shadow-lg","ring-2","ring-[#9C6BFF]","border-t-4","border-b-4","border-t-[#9C6BFF]","border-b-[#9C6BFF]","pt-6","pb-6")})},Ua=()=>{zt=null,Ks=null,fn()},za=e=>{if(!zt||!Ar())return;let t=e.target.closest("[data-block-item]");if(!t||t.dataset.blockId===zt)return;e.preventDefault(),e.dataTransfer.dropEffect="move";let s=t.getBoundingClientRect(),r=s.top+s.height/2,n=e.clientY<r;H==null||H.querySelectorAll("[data-block-item]").forEach(i=>{i!==t&&i.dataset.blockId!==zt&&i.classList.remove("border-t-4","border-b-4","border-t-[#9C6BFF]","border-b-[#9C6BFF]","pt-6","pb-6")}),t.classList.remove("border-t-4","border-b-4","border-t-[#9C6BFF]","border-b-[#9C6BFF]","pt-6","pb-6"),n?t.classList.add("border-t-4","border-t-[#9C6BFF]","pt-6"):t.classList.add("border-b-4","border-b-[#9C6BFF]","pb-6"),t.dataset.dropPosition=n?"before":"after"},Oa=e=>{let t=e.target.closest("[data-block-item]");if(!t)return;let s=e.relatedTarget;s&&t.contains(s)||(t.classList.remove("border-t-4","border-b-4","border-t-[#9C6BFF]","border-b-[#9C6BFF]","pt-6","pb-6"),delete t.dataset.dropPosition)},Va=e=>{if(!zt||!Ar())return;e.preventDefault();let t=e.target.closest("[data-block-item]"),s=zt,r=Ks,n=(t==null?void 0:t.dataset.dropPosition)||"after";zt=null,Ks=null,fn();let i=(t==null?void 0:t.dataset.blockId)||null;if(!m||!s)return;if(!i){r&&ao(r,s,m.blocks.length);return}if(s===i)return;let c=(t==null?void 0:t.dataset.parentBlockId)||null;if(r){if(c){if(c===r){ga(r,s,i,n);return}_o(s,c,i,n);return}let f=m.blocks.findIndex(Z=>Z.id===i);if(f===-1){ao(r,s,m.blocks.length);return}let v=Ko(f,n,1);ao(r,s,v!=null?v:m.blocks.length);return}if(c){_o(s,c,i,n);return}xa(s,i,n)},zt=null,Ks=null;H==null||H.addEventListener("dragstart",Ra),H==null||H.addEventListener("dragend",Ua),H==null||H.addEventListener("dragover",za),H==null||H.addEventListener("dragleave",Oa),H==null||H.addEventListener("drop",Va),br(),document.addEventListener("ai-page-updated",async e=>{var t;console.log("[design] Rafra\xEEchissement d\xE9clench\xE9 par IA",e.detail);try{let s=await zs();if(de=(Array.isArray(s)?s:[]).map(r=>rs(r)),(t=e.detail)!=null&&t.pageId){let r=de.find(n=>n.id===e.detail.pageId);r&&(m=r,Oe=r.id,De(m),It(m),M("Page mise \xE0 jour par l'IA"))}else if(Oe){let r=de.find(n=>n.id===Oe);r&&(m=r,De(m),It(m))}}catch(s){console.error("[design] Erreur rafra\xEEchissement IA:",s)}})}function Dn(){var hr,Wt,br;let o=document.querySelector("[data-collection-list]");if(!o)return;let a={empty:document.querySelector('[data-content-view="empty"]'),header:document.querySelector('[data-content-view="header"]'),collection:document.querySelector('[data-content-view="collection"]'),footer:document.querySelector('[data-content-view="footer"]')},d=document.querySelectorAll("[data-content-section]"),p=document.querySelectorAll("[data-content-section-trigger]"),h=document.querySelector("[data-header-status]"),x=document.querySelector("[data-footer-status]"),_=document.querySelector("[data-collection-count]"),O=document.querySelector("[data-item-panel]"),Q=document.querySelectorAll("[data-item-panel-close]"),ue=document.querySelector("[data-collection-empty]"),oe=document.querySelector("[data-collection-items-empty]"),k=document.querySelector("[data-item-table-wrapper]"),T=document.querySelector("[data-item-table-body]"),$=document.querySelector("[data-collection-title]"),F=document.querySelector("[data-collection-description]"),j=document.querySelector("[data-item-add]"),V=document.querySelector("[data-item-detail-empty]"),q=document.querySelector("[data-item-form]"),E=q?{title:q.querySelector('[name="item-title"]'),slug:q.querySelector('[name="item-slug"]'),excerpt:q.querySelector('[name="item-excerpt"]'),content:q.querySelector('[name="item-content"]'),image:q.querySelector('[name="item-image"]'),ctaText:q.querySelector('[name="item-cta-text"]'),ctaUrl:q.querySelector('[name="item-cta-url"]'),status:q.querySelector('[name="item-status"]')}:{},L=document.querySelector("[data-item-status-badge]"),I=document.querySelector("[data-item-delete]"),A=document.querySelector("[data-item-delete-modal]"),U=document.querySelector("[data-item-delete-cancel]"),se=document.querySelector("[data-item-delete-confirm]"),ce=document.querySelector("[data-item-cancel]"),ne=document.querySelector("[data-item-save]"),Ce="rounded-full px-3 py-1 text-xs font-semibold",$e=()=>window.matchMedia("(min-width: 1024px)").matches,Qe=l=>{if(!O||$e())return;let u=O.dataset.itemPanelHidden||"",y=O.dataset.itemPanelVisible||"";l?(Ot(O,y,"remove"),Ot(O,u,"add"),O.classList.add("pointer-events-none"),O.dataset.itemPanelOpen="false"):(Ot(O,u,"remove"),Ot(O,y,"add"),O.classList.remove("pointer-events-none"),O.dataset.itemPanelOpen="true")},qe=()=>{if(O){if($e()){let l=O.dataset.itemPanelHidden||"";Ot(O,l,"remove"),O.classList.remove("pointer-events-none"),O.dataset.itemPanelOpen="true";return}q!=null&&q.classList.contains("hidden")?Qe(!0):Qe(!1)}};window.addEventListener("resize",qe),Q.forEach(l=>{l.addEventListener("click",u=>{u.preventDefault(),!$e()&&Nt()})}),qe();let X={logo:document.querySelector('[name="header-logo"]'),logoAlt:document.querySelector('[name="header-logo-alt"]'),logoUrl:document.querySelector('[name="header-logo-url"]'),ctaText:document.querySelector('[name="header-cta-text"]'),ctaUrl:document.querySelector('[name="header-cta-url"]'),ctaStyle:document.querySelector('[name="header-cta-style"]'),ctaTextColor:document.querySelector('[name="header-cta-text-color"]'),position:document.querySelector('[name="header-position"]'),bg:document.querySelector('[name="header-bg"]')},Be=document.querySelector("[data-header-nav-order-list]"),Pe=document.querySelector("[data-header-save]"),N=document.querySelector("[data-template-header-nav-item]"),S=document.querySelector("[data-header-pages-list]"),J=[],z=[],g={linkedin:document.querySelector('[name="footer-social-linkedin"]'),twitter:document.querySelector('[name="footer-social-twitter"]'),instagram:document.querySelector('[name="footer-social-instagram"]'),facebook:document.querySelector('[name="footer-social-facebook"]'),youtube:document.querySelector('[name="footer-social-youtube"]'),github:document.querySelector('[name="footer-social-github"]'),copyright:document.querySelector('[name="footer-copyright"]'),legalUrl:document.querySelector('[name="footer-legal-url"]'),privacyUrl:document.querySelector('[name="footer-privacy-url"]'),bg:document.querySelector('[name="footer-bg"]'),columnsCount:document.querySelector('[name="footer-columns-count"]')},G=document.querySelector("[data-footer-columns-list]"),re=document.querySelector("[data-footer-column-add]"),Y=document.querySelector("[data-footer-save]"),H=document.querySelector("[data-template-footer-column]"),we=document.querySelector("[data-template-footer-link]"),Se=null,he={nav:[],logo:{},cta:{},style:{}},Le={columns:[],socials:{},copyright:"",legal:{},style:{}},Ze=Me((te==null?void 0:te.slugValue)||me.slug||""),Ee=Ze,He=Ze?`/api/sites/${encodeURIComponent(Ze)}/layout`:null,at=l=>{Object.entries(a).forEach(([u,y])=>{y&&y.classList.toggle("hidden",u!==l)}),d.forEach(u=>{u.dataset.contentSection===l?u.dataset.active="true":delete u.dataset.active}),Se=l};d.forEach(l=>{l.addEventListener("click",()=>{let u=l.dataset.contentSection;(u==="header"||u==="footer")&&at(u)})}),p.forEach(l=>{l.addEventListener("click",()=>{let u=l.dataset.contentSectionTrigger;u&&at(u)})});let Ke=async()=>{if(!(!Ee||!S))try{let l=await fetch(`/api/sites/${Ee}/pages`,{credentials:"include"});if(!l.ok)throw new Error("Erreur chargement pages");J=await l.json(),R()}catch(l){console.error("[header] load pages error",l),S.innerHTML='<p class="text-xs text-red-500">Erreur chargement pages</p>'}},_e=l=>{let u=(l||"").toString().trim();if(!u||u==="/"||u==="index")return"/";let y=u.toLowerCase();if(u.startsWith("#")||y.startsWith("mailto:")||y.startsWith("tel:")||/^[a-z]+:\/\//i.test(u))return u;if(u.startsWith("//")){let W=u.slice(2);if(W.includes("."))return u;let ge=W.replace(/^\/+/,"").replace(/\/+$/,"");return ge?`/${ge}`:"/"}let B=u.replace(/^\/+/,"").replace(/\/+$/,"");return B?`/${B}`:"/"},b=(l,u="")=>{let y=(l||"").toString().trim();return y?_e(y):u},R=()=>{if(S){if(S.innerHTML="",J.length===0){S.innerHTML='<p class="text-xs text-slate-400 italic">Aucune page disponible</p>';return}J.forEach(l=>{let u=l.slug||l.id||"",y=l.name||l.title||u,B=_e(u),W=z.some(ie=>ie.url===B),ge=document.createElement("label");ge.className="flex items-center gap-2 px-3 py-2 rounded-lg border border-slate-200 hover:bg-slate-50 cursor-pointer transition-colors",ge.innerHTML=`
          <input type="checkbox" name="nav-page" value="${B}" data-page-title="${y}"
                 class="w-4 h-4 rounded border-slate-300 text-violet-600 focus:ring-violet-500"
                 ${W?"checked":""}>
          <span class="flex-1 text-sm text-slate-700">${y}</span>
          <span class="text-xs text-slate-400">${B}</span>
        `;let fe=ge.querySelector("input");fe.addEventListener("change",()=>{if(fe.checked){let ie=z.findIndex(ke=>ke.url===B);ie===-1?z.push({label:y,url:B}):z[ie]={...z[ie],label:y}}else z=z.filter(ie=>ie.url!==B);le()}),S.appendChild(ge)}),le()}},le=()=>{if(Be){if(Be.innerHTML="",!z||z.length===0){let l=document.createElement("p");l.className="text-xs text-slate-400 italic",l.textContent="Aucun lien de menu s\xE9lectionn\xE9.",Be.appendChild(l);return}z.forEach((l,u)=>{let y=document.createElement("div");y.className="flex items-center gap-2 rounded-xl border border-slate-200 bg-white px-3 py-2",y.dataset.navUrl=l.url;let B=document.createElement("div");B.className="flex-1 min-w-0";let W=document.createElement("p");W.className="text-sm font-medium text-slate-800 truncate",W.textContent=l.label||l.url;let ge=document.createElement("p");ge.className="text-[11px] text-slate-400 truncate",ge.textContent=l.url,B.appendChild(W),B.appendChild(ge);let fe=document.createElement("div");fe.className="flex items-center gap-1";let ie=document.createElement("button");ie.type="button",ie.className="rounded-lg border border-slate-200 px-2 py-1 text-xs font-semibold text-slate-600 hover:bg-slate-50 disabled:opacity-40 disabled:hover:bg-transparent",ie.textContent="\u2191",ie.setAttribute("aria-label",`Monter ${l.label||l.url}`),ie.disabled=u===0,ie.addEventListener("click",()=>{if(u<=0)return;let xe=[...z],Ne=xe[u-1];xe[u-1]=xe[u],xe[u]=Ne,z=xe,le()});let ke=document.createElement("button");ke.type="button",ke.className="rounded-lg border border-slate-200 px-2 py-1 text-xs font-semibold text-slate-600 hover:bg-slate-50 disabled:opacity-40 disabled:hover:bg-transparent",ke.textContent="\u2193",ke.setAttribute("aria-label",`Descendre ${l.label||l.url}`),ke.disabled=u===z.length-1,ke.addEventListener("click",()=>{if(u>=z.length-1)return;let xe=[...z],Ne=xe[u+1];xe[u+1]=xe[u],xe[u]=Ne,z=xe,le()});let Fe=document.createElement("button");Fe.type="button",Fe.className="rounded-lg border border-slate-200 px-2 py-1 text-xs font-semibold text-rose-700 hover:bg-rose-50",Fe.textContent="\u2715",Fe.setAttribute("aria-label",`Retirer ${l.label||l.url}`),Fe.addEventListener("click",()=>{z=z.filter(Ne=>Ne.url!==l.url);let xe=S==null?void 0:S.querySelector(`input[name="nav-page"][value="${CSS.escape(l.url)}"]`);xe&&(xe.checked=!1),le()}),fe.appendChild(ie),fe.appendChild(ke),fe.appendChild(Fe),y.appendChild(B),y.appendChild(fe),Be.appendChild(y)})}},ae=()=>{var u,y,B,W,ge,fe,ie,ke,Fe,xe,Ne,De;let l=(z||[]).map(Re=>({label:(Re.label||Re.url||"").toString().trim(),url:_e(Re.url)})).filter(Re=>Re.url);return{logo:{src:((y=(u=X.logo)==null?void 0:u.value)==null?void 0:y.trim())||"",alt:((W=(B=X.logoAlt)==null?void 0:B.value)==null?void 0:W.trim())||"",url:b((ge=X.logoUrl)==null?void 0:ge.value,"/")},nav:l,cta:{text:((ie=(fe=X.ctaText)==null?void 0:fe.value)==null?void 0:ie.trim())||"",url:b((ke=X.ctaUrl)==null?void 0:ke.value,""),style:((Fe=X.ctaStyle)==null?void 0:Fe.value)||"primary",textColor:((xe=X.ctaTextColor)==null?void 0:xe.value)||""},style:{position:((Ne=X.position)==null?void 0:Ne.value)||"static",bg:((De=X.bg)==null?void 0:De.value)||"bg-white"}}},w=async l=>{var y,B,W,ge,fe,ie,ke,Fe,xe,Ne,De,Re;if(!l)return;X.logo&&(X.logo.value=((y=l.logo)==null?void 0:y.src)||""),X.logoAlt&&(X.logoAlt.value=((B=l.logo)==null?void 0:B.alt)||""),X.logoUrl&&(X.logoUrl.value=b((W=l.logo)==null?void 0:W.url,"/")),X.ctaText&&(X.ctaText.value=((ge=l.cta)==null?void 0:ge.text)||""),X.ctaUrl&&(X.ctaUrl.value=b((fe=l.cta)==null?void 0:fe.url,"")),X.ctaStyle&&(X.ctaStyle.value=((ie=l.cta)==null?void 0:ie.style)||"primary"),X.ctaTextColor&&(X.ctaTextColor.value=((ke=l.cta)==null?void 0:ke.textColor)||""),X.position&&(X.position.value=((Fe=l.style)==null?void 0:Fe.position)||"static"),X.bg&&(X.bg.value=((xe=l.style)==null?void 0:xe.bg)||"bg-white"),z=(l.nav||[]).map(it=>({...it,url:_e(it.url)})),await Ke();let u=((Ne=l.logo)==null?void 0:Ne.src)||((De=l.nav)==null?void 0:De.length)>0||((Re=l.cta)==null?void 0:Re.text);h&&(h.classList.toggle("bg-green-500",!!u),h.classList.toggle("bg-slate-300",!u),h.title=u?"Configur\xE9":"Non configur\xE9")};Pe==null||Pe.addEventListener("click",async()=>{if(He){Pe.disabled=!0,Pe.textContent="Enregistrement...";try{let l=ae();if(!(await fetch(`${He}/header`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(l)})).ok)throw new Error("Erreur serveur");he=l,w(l),M("Header enregistr\xE9")}catch(l){console.error("[header] save error",l),M("Erreur lors de l'enregistrement","error")}finally{Pe.disabled=!1,Pe.textContent="Enregistrer"}}});let ys=(l,u="",y="")=>{if(!we||!l)return;let B=we.content.cloneNode(!0),W=B.querySelector("[data-footer-link]"),ge=B.querySelector('[name="link-label"]'),fe=B.querySelector('[name="link-url"]'),ie=B.querySelector("[data-link-remove]");ge&&(ge.value=u),fe&&(fe.value=y),ie==null||ie.addEventListener("click",()=>W==null?void 0:W.remove()),l.appendChild(B)},lr=(l="",u=[])=>{if(!H||!G)return;let y=H.content.cloneNode(!0),B=y.querySelector("[data-footer-column]"),W=y.querySelector('[name="column-title"]'),ge=y.querySelector("[data-column-links]"),fe=y.querySelector("[data-column-link-add]"),ie=y.querySelector("[data-column-remove]");W&&(W.value=l),u.forEach(ke=>ys(ge,ke.label,ke.url)),fe==null||fe.addEventListener("click",()=>ys(ge)),ie==null||ie.addEventListener("click",()=>B==null?void 0:B.remove()),G.appendChild(y)},Ms=()=>{var u,y,B,W,ge,fe,ie,ke,Fe,xe,Ne,De,Re,it,Ye,ms,yr,Dt,gt,xt;let l=[];return G==null||G.querySelectorAll("[data-footer-column]").forEach(Qt=>{var et,Gt;let wt=((Gt=(et=Qt.querySelector('[name="column-title"]'))==null?void 0:et.value)==null?void 0:Gt.trim())||"",fs=[];Qt.querySelectorAll("[data-footer-link]").forEach(Ss=>{var ut,Ls,ks,Os;let dt=((Ls=(ut=Ss.querySelector('[name="link-label"]'))==null?void 0:ut.value)==null?void 0:Ls.trim())||"",vr=((Os=(ks=Ss.querySelector('[name="link-url"]'))==null?void 0:ks.value)==null?void 0:Os.trim())||"";(dt||vr)&&fs.push({label:dt,url:vr})}),(wt||fs.length>0)&&l.push({title:wt,links:fs})}),{columns:l,socials:{linkedin:((y=(u=g.linkedin)==null?void 0:u.value)==null?void 0:y.trim())||"",twitter:((W=(B=g.twitter)==null?void 0:B.value)==null?void 0:W.trim())||"",instagram:((fe=(ge=g.instagram)==null?void 0:ge.value)==null?void 0:fe.trim())||"",facebook:((ke=(ie=g.facebook)==null?void 0:ie.value)==null?void 0:ke.trim())||"",youtube:((xe=(Fe=g.youtube)==null?void 0:Fe.value)==null?void 0:xe.trim())||"",github:((De=(Ne=g.github)==null?void 0:Ne.value)==null?void 0:De.trim())||""},copyright:((it=(Re=g.copyright)==null?void 0:Re.value)==null?void 0:it.trim())||"",legal:{url:((ms=(Ye=g.legalUrl)==null?void 0:Ye.value)==null?void 0:ms.trim())||"",privacyUrl:((Dt=(yr=g.privacyUrl)==null?void 0:yr.value)==null?void 0:Dt.trim())||""},style:{bg:((gt=g.bg)==null?void 0:gt.value)||"bg-slate-900 text-white",columnsCount:((xt=g.columnsCount)==null?void 0:xt.value)||"4"}}},cr=l=>{var y,B,W,ge,fe,ie,ke,Fe,xe,Ne,De;if(!l)return;g.linkedin&&(g.linkedin.value=((y=l.socials)==null?void 0:y.linkedin)||""),g.twitter&&(g.twitter.value=((B=l.socials)==null?void 0:B.twitter)||""),g.instagram&&(g.instagram.value=((W=l.socials)==null?void 0:W.instagram)||""),g.facebook&&(g.facebook.value=((ge=l.socials)==null?void 0:ge.facebook)||""),g.youtube&&(g.youtube.value=((fe=l.socials)==null?void 0:fe.youtube)||""),g.github&&(g.github.value=((ie=l.socials)==null?void 0:ie.github)||""),g.copyright&&(g.copyright.value=l.copyright||""),g.legalUrl&&(g.legalUrl.value=((ke=l.legal)==null?void 0:ke.url)||""),g.privacyUrl&&(g.privacyUrl.value=((Fe=l.legal)==null?void 0:Fe.privacyUrl)||""),g.bg&&(g.bg.value=((xe=l.style)==null?void 0:xe.bg)||"bg-slate-900 text-white"),g.columnsCount&&(g.columnsCount.value=((Ne=l.style)==null?void 0:Ne.columnsCount)||"4"),G&&(G.innerHTML=""),(l.columns||[]).forEach(Re=>lr(Re.title,Re.links));let u=((De=l.columns)==null?void 0:De.length)>0||l.copyright||Object.values(l.socials||{}).some(Re=>Re);x&&(x.classList.toggle("bg-green-500",!!u),x.classList.toggle("bg-slate-300",!u),x.title=u?"Configur\xE9":"Non configur\xE9")};re==null||re.addEventListener("click",()=>lr()),Y==null||Y.addEventListener("click",async()=>{if(He){Y.disabled=!0,Y.textContent="Enregistrement...";try{let l=Ms();if(!(await fetch(`${He}/footer`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(l)})).ok)throw new Error("Erreur serveur");Le=l,cr(l),M("Footer enregistr\xE9")}catch(l){console.error("[footer] save error",l),M("Erreur lors de l'enregistrement","error")}finally{Y.disabled=!1,Y.textContent="Enregistrer"}}}),(async()=>{if(He)try{let l=await fetch(He,{credentials:"include"});if(l.ok){let u=await l.json();u.header&&(he=u.header,w(u.header)),u.footer&&(Le=u.footer,cr(u.footer))}}catch(l){console.error("[layout] load error",l)}})();let Fs=Me((te==null?void 0:te.slugValue)||me.slug||""),vt=Fs?`/api/sites/${encodeURIComponent(Fs)}/collections`:null,Ft=[],Ve=[],Xe=null,Je=null,pt=!1,ls=!1,Jt=null,vs=l=>{let u=(l||"").trim();if(!u)return"";if(u==="/")return"/";let B=u.replace(/^\//,"").split("/").map(W=>Vt(W||"")).filter(W=>W.length>0);return B.length?`/${B.join("/")}`:""},dr=l=>{if(!l)return"\u2014";let u=new Date(l);return Number.isNaN(u.getTime())?"\u2014":u.toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric"})},xs=()=>{let l=Ft.find(u=>u.id===Xe);$&&($.textContent=(l==null?void 0:l.name)||"S\xE9lectionnez une collection"),F&&(F.textContent=(l==null?void 0:l.description)||"")},Ns=l=>{oe&&(oe.textContent=l||(Xe?"Aucun item dans cette collection pour le moment.":"Choisissez une collection dans le panneau de gauche."))},Nt=()=>{q&&(q.classList.add("hidden"),q.dataset.itemId=""),V==null||V.classList.remove("hidden"),L&&(L.className=`hidden ${Ce}`,L.textContent=""),I&&(I.disabled=!0),qe()},ws=()=>{q&&(q.classList.remove("hidden"),V==null||V.classList.add("hidden"),qe())},cs=()=>{j&&(j.disabled=!Xe,j.disabled?j.classList.add("opacity-60","pointer-events-none"):j.classList.remove("opacity-60","pointer-events-none"))},We=l=>{if(!L)return;if(!l){L.className=`hidden ${Ce}`,L.textContent="";return}let u=l.toLowerCase(),y="bg-slate-100 text-slate-600 border border-slate-200";u==="publi\xE9"||u==="publie"?y="bg-emerald-50 text-emerald-700 border border-emerald-100":u==="brouillon"&&(y="bg-amber-50 text-amber-700 border border-amber-100"),L.className=`${Ce} ${y}`,L.textContent=l},ds=()=>{if(o.innerHTML="",_&&(_.textContent=Ft.length),!Ft.length){ue==null||ue.classList.remove("hidden");return}ue==null||ue.classList.add("hidden"),Ft.forEach(l=>{let u=l.id===Xe,y=document.createElement("button");y.type="button",y.dataset.collectionId=l.id,y.className=["w-full rounded-xl border px-3 py-2 text-left transition focus:outline-none focus:ring-2 focus:ring-[#9C6BFF]/40",u?"bg-[#F7F0FF] border-[#9C6BFF]/40 text-slate-900":"border-slate-200 text-slate-700 hover:border-[#9C6BFF]/40"].join(" "),y.setAttribute("role","option"),u?y.setAttribute("aria-current","true"):y.removeAttribute("aria-current"),y.innerHTML=`
          <div class="flex items-center justify-between gap-2">
            <div>
              <p class="text-sm font-semibold">${l.name||l.id}</p>
              <p class="text-xs text-slate-500">${l.description||""}</p>
            </div>
            <span class="text-[11px] uppercase tracking-wide text-slate-400">${l.type||""}</span>
          </div>
        `,y.addEventListener("click",()=>{Us(l.id)}),o.appendChild(y)})},Ae=()=>{if(T){if(T.innerHTML="",!Ve.length||!Xe){oe==null||oe.classList.remove("hidden"),Ns(),k==null||k.classList.add("hidden");return}oe==null||oe.classList.add("hidden"),k==null||k.classList.remove("hidden"),Ve.forEach(l=>{let u=document.createElement("tr");u.dataset.itemId=l.id;let y=l.id===Je&&!pt;u.className=["cursor-pointer transition focus-within:bg-[#F7F0FF]/70 focus:outline-none",y?"bg-[#F7F0FF]/70":"hover:bg-slate-50"].join(" "),u.tabIndex=0,u.setAttribute("role","button"),y?u.setAttribute("aria-current","true"):u.removeAttribute("aria-current");let B=l.status||"Brouillon",W=B.toLowerCase(),ge=W==="publi\xE9"||W==="publie"?"bg-emerald-50 text-emerald-700 border border-emerald-100":"bg-amber-50 text-amber-700 border border-amber-100";u.innerHTML=`
          <td class="px-4 py-3 align-top">
            <div class="flex flex-col">
              <span class="text-sm font-semibold text-slate-900">${l.title||"Sans titre"}</span>
              <span class="text-xs text-slate-500">${l.summary||l.excerpt||""}</span>
            </div>
          </td>
          <td class="px-4 py-3 align-top text-sm text-slate-600">${l.slug||""}</td>
          <td class="px-4 py-3 align-top">
            <span class="inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold ${ge}">
              ${B}
            </span>
          </td>
          <td class="px-4 py-3 align-top text-sm text-slate-500">${dr(l.updatedAt||l.createdAt)}</td>
        `;let fe=()=>{Ds(l.id)};u.addEventListener("click",fe),u.addEventListener("keydown",ie=>{(ie.key==="Enter"||ie.key===" ")&&(ie.preventDefault(),fe())}),T.appendChild(u)})}},Ds=l=>{let u=Ve.find(y=>y.id===l);u&&(Je=u.id,pt=!1,ls=!0,ve(u),Ae())},ve=l=>{var u,y;if(!q||!l){Nt();return}ws(),q.dataset.itemId=l.id,E.title&&(E.title.value=l.title||""),E.slug&&(E.slug.value=l.slug||""),E.excerpt&&(E.excerpt.value=l.summary||l.excerpt||""),E.content&&(E.content.value=l.content||""),E.image&&(E.image.value=l.image||""),E.ctaText&&(E.ctaText.value=((u=l.cta)==null?void 0:u.text)||l.ctaText||""),E.ctaUrl&&(E.ctaUrl.value=((y=l.cta)==null?void 0:y.url)||l.ctaUrl||""),E.status&&(E.status.value=l.status||"Brouillon"),We(l.status||"Brouillon"),I&&(I.disabled=!1)},Hs=()=>{var l;q&&(pt=!0,Je=null,ls=!1,q.dataset.itemId="",q.reset(),E.status&&(E.status.value="Brouillon"),E.slug&&(E.slug.value=""),We("Brouillon"),ws(),I&&(I.disabled=!0),(l=E.title)==null||l.focus())},ur=()=>{var Fe,xe,Ne,De,Re,it,Ye,ms;let l=(((Fe=E.title)==null?void 0:Fe.value)||"").trim(),u=(((xe=E.slug)==null?void 0:xe.value)||"").trim(),y=(((Ne=E.excerpt)==null?void 0:Ne.value)||"").trim(),B=(((De=E.content)==null?void 0:De.value)||"").trim(),W=(((Re=E.image)==null?void 0:Re.value)||"").trim(),ge=(((it=E.ctaText)==null?void 0:it.value)||"").trim(),fe=(((Ye=E.ctaUrl)==null?void 0:Ye.value)||"").trim(),ie=((ms=E.status)==null?void 0:ms.value)||"Brouillon",ke=ge||fe?{text:ge,url:fe}:null;return{title:l,slug:vs(u||l),summary:y,excerpt:y,content:B,image:W,status:ie,...ke&&{cta:ke}}},Rs=l=>{ne&&(ne.disabled=l,ne.textContent=l?"Enregistrement\u2026":"Enregistrer"),I&&!pt&&Je&&(I.disabled=l)},mr=async l=>{if(!vt)return[];let u=await fetch(`${vt}/${encodeURIComponent(l)}/items`,{headers:{Accept:"application/json"}});if(!u.ok){let B=await u.json().catch(()=>({}));throw new Error(B.message||"Impossible de charger les items.")}let y=await u.json().catch(()=>({}));return Array.isArray(y.items)?y.items:[]},Us=async l=>{if(l&&(Xe=l,Je=null,pt=!1,ls=!1,at("collection"),xs(),cs(),ds(),Nt(),Ve=[],Ae(),Ns("Chargement des items\u2026"),oe==null||oe.classList.remove("hidden"),k==null||k.classList.add("hidden"),!!vt))try{Ve=await mr(l),Ae(),Ve.length||Ns()}catch(u){console.error("[content] items failed",u),M(u.message||"Impossible de charger les items."),Ve=[],Ae()}},fr=async(l,u)=>{if(!vt)throw new Error("Site inconnu.");let y=await fetch(`${vt}/${encodeURIComponent(l)}/items`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)});if(!y.ok){let B=await y.json().catch(()=>({}));throw new Error(B.message||"Impossible de cr\xE9er cet item.")}return y.json()},pr=async(l,u,y)=>{if(!vt)throw new Error("Site inconnu.");let B=await fetch(`${vt}/${encodeURIComponent(l)}/items/${encodeURIComponent(u)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)});if(!B.ok){let W=await B.json().catch(()=>({}));throw new Error(W.message||"Impossible de sauvegarder cet item.")}return B.json()},Qr=async(l,u)=>{if(!vt)throw new Error("Site inconnu.");let y=await fetch(`${vt}/${encodeURIComponent(l)}/items/${encodeURIComponent(u)}`,{method:"DELETE"});if(!y.ok){let B=await y.json().catch(()=>({}));throw new Error(B.message||"Impossible de supprimer cet item.")}},gr=async()=>{var l;if(!vt){ue==null||ue.classList.remove("hidden"),Xe=null,Ve=[],Ae(),xs(),cs();return}try{let u=await fetch(vt,{headers:{Accept:"application/json"}});if(!u.ok)throw new Error("Impossible de charger les collections.");let y=await u.json().catch(()=>[]);if(Ft=Array.isArray(y)?y:[],ds(),Ft.length>0){let B=((l=Ft.find(W=>W.id===Xe))==null?void 0:l.id)||Ft[0].id;Us(B)}else Xe=null,Ve=[],xs(),cs(),Ae()}catch(u){console.error("[content] load collections",u),M(u.message||"Impossible de charger les collections.")}};j==null||j.addEventListener("click",()=>{if(!Xe){M("S\xE9lectionnez d\u2019abord une collection.");return}Hs(),Ae()}),ce==null||ce.addEventListener("click",l=>{if(l.preventDefault(),pt){pt=!1,Je=null,Nt(),Ae();return}if(Je){let u=Ve.find(y=>y.id===Je);ve(u)}else Nt()}),(hr=E.status)==null||hr.addEventListener("change",()=>{We(E.status.value)}),(Wt=E.title)==null||Wt.addEventListener("input",()=>{!pt||!E.slug||ls||(E.slug.value=vs(E.title.value))}),(br=E.slug)==null||br.addEventListener("input",()=>{pt&&(ls=!0)}),q==null||q.addEventListener("submit",async l=>{var y;if(l.preventDefault(),!Xe){M("S\xE9lectionnez une collection.");return}let u=ur();if(!u.title){M("Le titre est requis."),(y=E.title)==null||y.focus();return}Rs(!0);try{let B;pt||!Je?(B=await fr(Xe,u),Ve=[...Ve,B],M("Item cr\xE9\xE9")):(B=await pr(Xe,Je,u),Ve=Ve.map(W=>W.id===B.id?B:W),M("Item mis \xE0 jour")),pt=!1,Je=B.id,ve(B),Ae()}catch(B){console.error("[content] save item failed",B),M(B.message||"Impossible de sauvegarder cet item.")}finally{Rs(!1)}});let us=()=>{A&&(A.classList.add("hidden"),A.classList.remove("flex"),Jt=null)},zs=()=>{!A||!Je||(Jt=Je,A.classList.remove("hidden"),A.classList.add("flex"))};I==null||I.addEventListener("click",l=>{l.preventDefault(),Je&&zs()}),U==null||U.addEventListener("click",()=>{us()}),A==null||A.addEventListener("click",l=>{l.target===A&&us()}),se==null||se.addEventListener("click",async()=>{if(!Jt||!Xe){us();return}se.disabled=!0,se.textContent="Suppression\u2026";try{await Qr(Xe,Jt),Ve=Ve.filter(l=>l.id!==Jt),Je===Jt&&(Je=null,Nt()),M("Item supprim\xE9"),Ae()}catch(l){console.error("[content] delete item failed",l),M(l.message||"Impossible de supprimer cet item.")}finally{se.disabled=!1,se.textContent="Supprimer",us()}}),xs(),cs(),gr()}function Hn(){let o=document.querySelector("[data-deploy-form]");if(!o)return;let a=document.querySelector("[data-deploy-protocol]"),d=document.querySelector("[data-deploy-host]"),p=document.querySelector("[data-deploy-port]"),h=document.querySelector("[data-deploy-user]"),x=document.querySelector("[data-deploy-password]"),_=document.querySelector("[data-deploy-show-password]"),O=document.querySelector("[data-deploy-remote-path]"),Q=document.querySelector("[data-deploy-feedback]"),ue=document.querySelector("[data-deploy-save]"),oe=document.querySelector("[data-deploy-test]"),k=document.querySelector("[data-deploy-trigger]"),T=document.querySelector("[data-deploy-history]"),$=document.querySelector("[data-deploy-log]"),F=Me((te==null?void 0:te.slugValue)||me.slug||""),j=F?`/api/sites/${encodeURIComponent(F)}/deploy-config`:null,V=F?`/api/sites/${encodeURIComponent(F)}/deploy`:null,q=F?`/api/sites/${encodeURIComponent(F)}/deploy-log`:null,E=!1,L=null,I=N=>{let S=(N||"").trim();return S?S.startsWith("/")?S:`/${S}`:"/www"},A=(N,S="muted")=>{if(!Q)return;let J="inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold",z=S==="success"?"bg-emerald-50 text-emerald-700 border border-emerald-100":S==="error"?"bg-rose-50 text-rose-700 border border-rose-100":"bg-slate-50 text-slate-600 border border-slate-100";if(!N){Q.textContent="",Q.className="text-sm text-slate-500";return}let g=S==="success"?"\u2705":S==="error"?"\u274C":"\u2139\uFE0F";Q.innerHTML=`<span class="${J} ${z}">${g}<span>${N}</span></span>`,Q.className="text-sm"},U=(N=null)=>{L=N;let S=!!N,J='<svg class="h-4 w-4 animate-spin text-white" viewBox="0 0 24 24" fill="none" aria-hidden="true"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"></path></svg>';ue&&(ue.disabled=S,ue.innerHTML=N==="save"?`<span class="inline-flex items-center gap-2">${J}<span>Enregistrement\u2026</span></span>`:"Enregistrer"),oe&&(oe.disabled=S,oe.innerHTML=N==="test"?'<span class="inline-flex items-center gap-2"><span class="h-4 w-4 animate-spin rounded-full border-2 border-slate-200 border-t-slate-600"></span><span>Test en cours\u2026</span></span>':"Tester la connexion"),k&&(k.disabled=S&&N!==null,k.innerHTML=N==="deploy"?'<span class="inline-flex items-center gap-2"><span class="h-4 w-4 animate-spin rounded-full border-2 border-white/60 border-t-white"></span><span>D\xE9ploiement\u2026</span></span>':"D\xE9ployer maintenant")},se=N=>{a&&(a.value=N.protocol||"sftp"),d&&(d.value=N.host||""),p&&(p.value=N.port||""),h&&(h.value=N.user||""),O&&(O.value=N.remotePath||"/www"),E=!!N.hasPassword,x&&(x.value="",x.placeholder=E?"Non affich\xE9":"Mot de passe")},ce=(N=[])=>{if(T){if(T.innerHTML="",!N.length){let S=document.createElement("li");S.className="text-slate-500",S.textContent="Aucun d\xE9ploiement pour le moment.",T.appendChild(S);return}N.forEach(S=>{let J=document.createElement("li");J.className="flex items-center justify-between gap-2 rounded-xl border border-slate-200 px-3 py-2";let z=S.status==="success"?'<span class="rounded-full bg-emerald-50 px-2 py-0.5 text-[11px] font-semibold text-emerald-700">Succ\xE8s</span>':'<span class="rounded-full bg-rose-50 px-2 py-0.5 text-[11px] font-semibold text-rose-700">\xC9chec</span>',g=S.finishedAt||S.startedAt||"",G=S.durationMs&&Number(S.durationMs)>=0?`${Math.round(Number(S.durationMs)/1e3)}s`:"";J.innerHTML=`
          <div class="space-y-1">
            <div class="flex items-center gap-2">${z}<span class="text-xs text-slate-500">${g}</span></div>
            <p class="text-sm text-slate-800">${S.message||""}</p>
          </div>
          <div class="text-xs text-slate-500">${G}</div>
        `,J.dataset.deployId=S.id||"",J.addEventListener("click",()=>{S.logs&&$&&($.textContent=S.logs.join(`
`))}),T.appendChild(J)})}},ne=(N=[])=>{$&&($.textContent=N.length?N.join(`
`):"Aucun log pour le moment.")},Ce=async()=>{var N;if(q)try{let S=await fetch(q,{headers:{Accept:"application/json"}});if(!S.ok){if(S.status===404){ce([]),ne(["API d\xE9ploiement indisponible (red\xE9marre le serveur)."]);return}throw new Error("Impossible de charger l\u2019historique.")}let J=await S.json().catch(()=>({})),z=Array.isArray(J.entries)?J.entries:[];ce(z),(N=z[0])!=null&&N.logs&&ne(z[0].logs)}catch(S){console.error("[deploy] history failed",S)}},$e=async()=>{if(!j){A("Aucun site actif s\xE9lectionn\xE9.","error");return}U("load");try{let N=await fetch(j,{headers:{Accept:"application/json"}}),S=await N.json().catch(()=>({}));N.ok?(se(S||{}),A("Configuration charg\xE9e.","muted")):(se(S||{}),A(S.message||"Configuration par d\xE9faut charg\xE9e.","muted"))}catch(N){console.error("[deploy] load failed",N),A(N.message||"Erreur lors du chargement.","error")}finally{U(null)}},Qe=()=>{let N={protocol:(a==null?void 0:a.value)||"sftp",host:(d==null?void 0:d.value.trim())||"",port:Number(p==null?void 0:p.value)||void 0,user:(h==null?void 0:h.value.trim())||"",remotePath:I((O==null?void 0:O.value)||"/www")},S=(x==null?void 0:x.value)||"";return S.trim().length>0&&(N.password=S),N};o.addEventListener("submit",async N=>{if(N.preventDefault(),!j){A("Aucun site actif s\xE9lectionn\xE9.","error");return}let S=Qe();U("save");try{let J=await fetch(j,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(S)});if(!J.ok){let g=await J.json().catch(()=>({}));throw new Error(g.message||"Sauvegarde impossible.")}let z=await J.json();se(z||{}),A("Configuration enregistr\xE9e.","success"),M("Configuration d\xE9ploiement sauvegard\xE9e")}catch(J){console.error("[deploy] save failed",J),A(J.message||"Erreur lors de la sauvegarde.","error")}finally{U(null)}}),oe==null||oe.addEventListener("click",async()=>{if(!j){A("Aucun site actif s\xE9lectionn\xE9.","error");return}let N=Qe();if(!N.host||!N.user||!N.remotePath){A("Remplissez les champs requis avant de tester.","error");return}U("test");try{let S=await fetch(`${j}/test`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(N)}),J=await S.json().catch(()=>({}));if(!S.ok||J.success===!1){A(J.message||"Test de connexion \xE9chou\xE9.","error");return}A(J.message||"Connexion OK.","success"),M("Test de connexion r\xE9ussi")}catch(S){console.error("[deploy] test failed",S),A(S.message||"Test de connexion \xE9chou\xE9.","error")}finally{U(null)}}),k==null||k.addEventListener("click",async()=>{if(!V){A("Aucun site actif s\xE9lectionn\xE9.","error");return}U("deploy"),ne(["D\xE9ploiement en cours\u2026"]);try{let N=await fetch(V,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Qe())}),S=await N.json().catch(()=>({}));if(!N.ok){if(N.status===404){A("API d\xE9ploiement indisponible (red\xE9marre le serveur).","error"),ne(["API d\xE9ploiement indisponible (red\xE9marre le serveur)."]);return}throw ne(S.logs||[]),new Error(S.message||"D\xE9ploiement \xE9chou\xE9.")}ne(S.logs||[]),await Ce(),M("D\xE9ploiement termin\xE9")}catch(N){console.error("[deploy] run failed",N),A(N.message||"D\xE9ploiement \xE9chou\xE9.","error")}finally{U(null)}}),_==null||_.addEventListener("change",()=>{x&&(x.type=_.checked?"text":"password")});let qe=document.querySelector("[data-download-build]"),X=document.querySelector("[data-download-feedback]"),Be=F?`/api/sites/${encodeURIComponent(F)}/download`:null,Pe=(N,S="muted")=>{if(!X)return;let J=S==="success"?"text-emerald-600":S==="error"?"text-rose-600":"text-slate-500";X.textContent=N||"",X.className=`text-sm ${J}`};qe==null||qe.addEventListener("click",async()=>{if(!Be){Pe("Aucun site actif s\xE9lectionn\xE9.","error");return}qe.disabled=!0;let N=qe.innerHTML;qe.innerHTML=`
        <svg class="w-4 h-4 animate-spin" fill="none" viewBox="0 0 24 24">
          <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
          <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"></path>
        </svg>
        <span>Build en cours...</span>
      `,Pe("G\xE9n\xE9ration du build en cours...","muted");try{let S=await fetch(Be);if(!S.ok){let G=await S.json().catch(()=>({}));throw new Error(G.message||"Impossible de g\xE9n\xE9rer le ZIP.")}let J=await S.blob(),z=window.URL.createObjectURL(J),g=document.createElement("a");g.href=z,g.download=`${F}-build.zip`,document.body.appendChild(g),g.click(),document.body.removeChild(g),window.URL.revokeObjectURL(z),Pe("T\xE9l\xE9chargement termin\xE9 !","success"),M("Build t\xE9l\xE9charg\xE9 avec succ\xE8s")}catch(S){console.error("[download] failed",S),Pe(S.message||"Erreur lors du t\xE9l\xE9chargement.","error")}finally{qe.disabled=!1,qe.innerHTML=N}}),$e(),Ce()}function Rn(){let o=document.querySelectorAll("[data-settings-tab]"),a=document.querySelectorAll("[data-settings-panel]"),d=document.querySelector("[data-admin-password-form]"),p=document.querySelector("[data-site-config-form]"),h=document.querySelector("[data-site-config-feedback]"),x=document.querySelector("[data-theme-form]"),_=k=>{o.forEach(T=>{let $=T.dataset.settingsTab===k;T.setAttribute("aria-selected",$?"true":"false"),T.classList.toggle("bg-[#9C6BFF]",$),T.classList.toggle("text-white",$)}),a.forEach(T=>{T.classList.toggle("hidden",T.dataset.settingsPanel!==k)})};if(o.forEach(k=>{k.addEventListener("click",()=>_(k.dataset.settingsTab||"account"))}),_("account"),d){let k=d.querySelector("[data-admin-password-feedback]"),T=d.querySelector("[data-admin-password-submit]"),$=(F,j="muted")=>{if(!k)return;let V=j==="success"?"text-emerald-600":j==="error"?"text-rose-600":"text-slate-500";k.textContent=F||"",k.className=`text-sm ${V}`};d.addEventListener("submit",async F=>{F.preventDefault();let j=new FormData(d),V=j.get("currentPassword")||"",q=j.get("newPassword")||"",E=j.get("confirmPassword")||"";if(!V||!q||!E){$("Compl\xE8te tous les champs.","error");return}T&&(T.disabled=!0),$("");try{let L=await fetch("/api/admin/password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentPassword:V,newPassword:q,confirmPassword:E})}),I=await L.json().catch(()=>({}));if(!L.ok||I.success===!1)throw new Error(I.message||"Impossible de mettre \xE0 jour le mot de passe.");$(I.message||"Mot de passe mis \xE0 jour.","success"),d.reset()}catch(L){console.error("[settings] change password failed",L),$(L.message||"Erreur lors de la mise \xE0 jour.","error")}finally{T&&(T.disabled=!1)}})}if(p){let k=p.querySelector("[data-site-name]"),T=p.querySelector("[data-site-language]"),$=p.querySelector("[data-site-tagline]"),F=p.querySelector("[data-site-save]"),j=(L,I="muted")=>{if(!h)return;let A=I==="success"?"text-emerald-600":I==="error"?"text-rose-600":"text-slate-500";h.textContent=L||"",h.className=`text-sm ${A}`},V=Me((te==null?void 0:te.slugValue)||me.slug||""),q=V?`/api/sites/${encodeURIComponent(V)}/config/site`:null,E=async()=>{if(q)try{let L=await fetch(q,{headers:{Accept:"application/json"}});if(!L.ok)return;let I=await L.json().catch(()=>({}));k&&(k.value=I.name||""),T&&(T.value=I.language||"fr"),$&&($.value=I.tagline||"")}catch(L){console.error("[settings] load site config failed",L)}};p.addEventListener("submit",async L=>{if(L.preventDefault(),!q){j("Aucun site actif.","error");return}if(!(k!=null&&k.value.trim())){j("Nom requis.","error");return}F&&(F.disabled=!0),j("");try{let I={name:(k==null?void 0:k.value)||"",language:(T==null?void 0:T.value)||"fr",tagline:($==null?void 0:$.value)||""},A=await fetch(q,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(I)}),U=await A.json().catch(()=>({}));if(!A.ok||U.success===!1)throw new Error(U.message||"Sauvegarde impossible.");j(U.message||"Param\xE8tres enregistr\xE9s.","success")}catch(I){console.error("[settings] save site config failed",I),j(I.message||"Erreur lors de la sauvegarde.","error")}finally{F&&(F.disabled=!1)}}),E()}if(x){let k=Me((te==null?void 0:te.slugValue)||me.slug||""),T=k?`/api/sites/${encodeURIComponent(k)}/config/theme`:null,$={primary:x.querySelector("[data-theme-primary]"),secondary:x.querySelector("[data-theme-secondary]"),accent:x.querySelector("[data-theme-accent]"),background:x.querySelector("[data-theme-background]"),text:x.querySelector("[data-theme-text]")},F=x.querySelector("[data-theme-headings]"),j=x.querySelector("[data-theme-body]"),V=x.querySelector("[data-theme-radius-small]"),q=x.querySelector("[data-theme-radius-medium]"),E=x.querySelector("[data-theme-radius-large]"),L=x.querySelector("[data-theme-preview]"),I=x.querySelector("[data-theme-feedback]"),A=x.querySelector("[data-theme-apply]"),U={slate:"#e2e8f0",gray:"#d1d5db",zinc:"#d4d4d8",neutral:"#d4d4d4",stone:"#d6d3d1",red:"#ef4444",orange:"#f97316",amber:"#f59e0b",yellow:"#eab308",lime:"#84cc16",green:"#22c55e",emerald:"#10b981",teal:"#14b8a6",cyan:"#06b6d4",sky:"#0ea5e9",blue:"#3b82f6",indigo:"#6366f1",violet:"#8b5cf6",purple:"#a855f7",fuchsia:"#d946ef",pink:"#ec4899",rose:"#f43f5e"},se=g=>{if(!g)return null;if(g==="white")return"#ffffff";if(g==="black")return"#000000";if(g==="transparent")return"transparent";let[G,re]=g.split("-");if(!G||!re)return null;let Y=U[G];if(!Y)return null;let H=Number(re)||500,we=Math.min(Math.max((H-50)/900,0),1),Se=He=>He.replace("#","").match(/[A-Fa-f0-9]{2}/g).map(at=>parseInt(at,16)),[he,Le,Ze]=Se(Y),Ee=He=>Math.round(255-(255-He)*we);return`rgb(${Ee(he)}, ${Ee(Le)}, ${Ee(Ze)})`},ce=["slate","gray","zinc","neutral","stone","red","orange","amber","yellow","lime","green","emerald","teal","cyan","sky","blue","indigo","violet","purple","fuchsia","pink","rose"],ne=["50","100","200","300","400","500","600","700","800","900"],Ce=ce.flatMap(g=>ne.map(G=>`${g}-${G}`)),$e=[{value:"white",label:"Blanc",color:"#ffffff",emoji:"\u2B1C"},{value:"transparent",label:"Transparent",color:"transparent",emoji:"\u2B1C"},{value:"black",label:"Noir",color:"#000000",emoji:"\u2B1B"}],Qe=(()=>{let g=[];return $e.forEach(({value:G,label:re,color:Y,emoji:H})=>{g.push({value:G,label:`${H} ${re}`,color:Y})}),Ce.forEach(G=>{let[re,Y]=G.split("-"),H=se(G)||"#ffffff";g.push({value:G,label:`${re.charAt(0).toUpperCase()+re.slice(1)} ${Y}`,color:H})}),g})(),qe=g=>typeof g=="string"?g.trim().toLowerCase():"",X=(g={})=>{Object.entries($).forEach(([G,re])=>{var H;if(!re)return;let Y=qe(g[G]);re.innerHTML="",Qe.forEach(({value:we,label:Se,color:he})=>{let Le=document.createElement("option");Le.value=we,Le.textContent=Se,Le.dataset.color=he,Y&&Y===we&&(Le.selected=!0),re.appendChild(Le)}),re.dataset.default=re.dataset.default||((H=re.options[0])==null?void 0:H.value)||"",!Y&&re.dataset.default&&(re.value=re.dataset.default),or(re)})},Be=(g,G="muted")=>{if(!I)return;let re=G==="success"?"text-emerald-600":G==="error"?"text-rose-600":"text-slate-500";I.textContent=g||"",I.className=`text-sm ${re}`},Pe=()=>{var G,re,Y,H,we;if(!L)return;let g=Se=>{if(!Se)return null;if(Se==="white")return"#ffffff";if(Se==="black")return"#000000";if(Se==="transparent")return"transparent";let[he,Le]=Se.split("-");if(!he||!Le)return null;let Ee={slate:"#e2e8f0",gray:"#d1d5db",zinc:"#d4d4d8",neutral:"#d4d4d4",stone:"#d6d3d1",red:"#ef4444",orange:"#f97316",amber:"#f59e0b",yellow:"#eab308",lime:"#84cc16",green:"#22c55e",emerald:"#10b981",teal:"#14b8a6",cyan:"#06b6d4",sky:"#0ea5e9",blue:"#3b82f6",indigo:"#6366f1",violet:"#8b5cf6",purple:"#a855f7",fuchsia:"#d946ef",pink:"#ec4899",rose:"#f43f5e"}[he];if(!Ee)return null;let He=Number(Le)||500,at=Math.min(Math.max((He-50)/900,0),1),Ke=ae=>ae.match(/[A-Fa-f0-9]{2}/g).map(w=>parseInt(w,16)),[_e,b,R]=Ke(Ee.replace("#","")),le=ae=>Math.round(255-(255-ae)*at);return`rgb(${le(_e)}, ${le(b)}, ${le(R)})`};L.style.setProperty("--color-primary",se((G=$.primary)==null?void 0:G.value)||"#9C6BFF"),L.style.setProperty("--color-secondary",se((re=$.secondary)==null?void 0:re.value)||"#0EA5E9"),L.style.setProperty("--color-accent",se((Y=$.accent)==null?void 0:Y.value)||"#F97316"),L.style.setProperty("--color-background",se((H=$.background)==null?void 0:H.value)||"#FFFFFF"),L.style.setProperty("--color-text",se((we=$.text)==null?void 0:we.value)||"#0F172A"),L.style.setProperty("--font-headings",(F==null?void 0:F.value)||"Inter, sans-serif"),L.style.setProperty("--font-body",(j==null?void 0:j.value)||"Inter, sans-serif"),L.style.setProperty("--radius-small",(V==null?void 0:V.value)||"8px"),L.style.setProperty("--radius-medium",(q==null?void 0:q.value)||"16px"),L.style.setProperty("--radius-large",(E==null?void 0:E.value)||"24px"),L.style.borderRadius=(q==null?void 0:q.value)||"16px"},N=(g,G)=>{if(g){if(G==="transparent"){g.style.background="repeating-conic-gradient(#ccc 0% 25%, white 0% 50%) 50% / 8px 8px",g.style.borderColor="#cbd5f5",g.style.boxShadow="";return}g.style.background=G,g.style.borderColor=G,g.style.boxShadow="0 0 0 1px rgba(15,23,42,0.15)"}},S=g=>{var we,Se,he;if(!g)return;let G=g.options[g.selectedIndex],re=((we=G==null?void 0:G.dataset)==null?void 0:we.color)||"#ffffff",Y=(Se=g.closest(".relative"))==null?void 0:Se.querySelector("[data-color-preview]");Y&&(re==="transparent"?Y.style.background=is:Y.style.background=re);let H=(he=g.closest(".relative"))==null?void 0:he.querySelector("[data-theme-color-chip]");N(H,re)},J=()=>{Object.values($).forEach(g=>{g&&(or(g),S(g),g.addEventListener("change",()=>S(g)))})};Object.keys($).forEach(g=>{var G;(G=$[g])==null||G.addEventListener("change",Pe)}),[F,j,V,q,E].forEach(g=>{g==null||g.addEventListener("change",Pe)});let z=async()=>{var g,G,re,Y,H;if(T)try{let we=await fetch(T,{headers:{Accept:"application/json"},credentials:"include"});if(!we.ok)return;let Se=await we.json().catch(()=>({})),he=Se.colors||{};X(he),Object.entries($).forEach(([Le,Ze])=>{if(!Ze)return;let Ee=he[Le],He=qe(Ee);He?Ze.value=He:Ee?Ze.value=Ee:Ze.dataset.default&&(Ze.value=Ze.dataset.default),S(Ze)}),F&&(F.value=((g=Se.typography)==null?void 0:g.headings)||"Inter, sans-serif"),j&&(j.value=((G=Se.typography)==null?void 0:G.body)||"Inter, sans-serif"),V&&(V.value=((re=Se.radius)==null?void 0:re.small)||"8px"),q&&(q.value=((Y=Se.radius)==null?void 0:Y.medium)||"16px"),E&&(E.value=((H=Se.radius)==null?void 0:H.large)||"24px"),Pe()}catch(we){console.error("[settings] load theme failed",we)}};A==null||A.addEventListener("click",async g=>{var re,Y,H,we,Se;if(g.preventDefault(),!T){Be("Aucun site actif.","error");return}let G={colors:{primary:((re=$.primary)==null?void 0:re.value)||"violet-500",secondary:((Y=$.secondary)==null?void 0:Y.value)||"indigo-400",accent:((H=$.accent)==null?void 0:H.value)||"emerald-500",background:((we=$.background)==null?void 0:we.value)||"slate-50",text:((Se=$.text)==null?void 0:Se.value)||"slate-900"},typography:{headings:(F==null?void 0:F.value)||"Inter, sans-serif",body:(j==null?void 0:j.value)||"Inter, sans-serif"},radius:{small:(V==null?void 0:V.value)||"8px",medium:(q==null?void 0:q.value)||"16px",large:(E==null?void 0:E.value)||"24px"}};A.disabled=!0,Be("");try{let he=await fetch(T,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(G)}),Le=await he.json().catch(()=>({}));if(!he.ok||Le.success===!1)throw new Error(Le.message||"Application du th\xE8me \xE9chou\xE9e.");await z(),Be(Le.message||"Th\xE8me appliqu\xE9.","success")}catch(he){console.error("[settings] apply theme failed",he),Be(he.message||"Erreur lors de l\u2019application du th\xE8me.","error")}finally{A.disabled=!1}}),X(),J(),z(),Pe(),document.addEventListener("ai-theme-updated",()=>{z(),Be("Th\xE8me mis \xE0 jour.","success")})}let O=document.querySelector("[data-seo-config-form]");if(O){let k=O.querySelector("[data-seo-index-all]"),T=O.querySelector("[data-seo-config-feedback]"),$=O.querySelector("[data-seo-save]"),F=Me((te==null?void 0:te.slugValue)||me.slug||""),j=F?`/api/sites/${encodeURIComponent(F)}/config/site`:null,V=(E,L="muted")=>{if(!T)return;let I=L==="success"?"text-emerald-600":L==="error"?"text-rose-600":"text-slate-500";T.textContent=E||"",T.className=`text-sm ${I}`},q=async()=>{var E;if(j)try{let L=await fetch(j,{headers:{Accept:"application/json"}});if(!L.ok)return;let A=((E=(await L.json().catch(()=>({}))).seo)==null?void 0:E.indexAllPagesByDefault)!==!1;k&&(k.checked=A)}catch(L){console.error("[settings] load seo config failed",L)}};O.addEventListener("submit",async E=>{var L;if(E.preventDefault(),!j){V("Aucun site actif.","error");return}$&&($.disabled=!0),V("");try{let I=await fetch(j,{headers:{Accept:"application/json"}}),A=I.ok?await I.json().catch(()=>({})):{},U={...A,seo:{...A.seo||{},indexAllPagesByDefault:(L=k==null?void 0:k.checked)!=null?L:!0}},se=await fetch(j,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(U)}),ce=await se.json().catch(()=>({}));if(!se.ok||ce.success===!1)throw new Error(ce.message||"Sauvegarde impossible.");V(ce.message||"Param\xE8tres SEO enregistr\xE9s.","success")}catch(I){console.error("[settings] save seo config failed",I),V(I.message||"Erreur lors de la sauvegarde.","error")}finally{$&&($.disabled=!1)}}),q()}let Q=document.querySelector("[data-analytics-form]");if(Q){let k=Q.querySelector("[data-analytics-head]"),T=Q.querySelector("[data-analytics-body]"),$=Q.querySelector("[data-analytics-feedback]"),F=Q.querySelector("[data-analytics-save]"),j=Me((te==null?void 0:te.slugValue)||me.slug||""),V=j?`/api/sites/${encodeURIComponent(j)}/config/site`:null,q=(L,I="muted")=>{if(!$)return;let A=I==="success"?"text-emerald-600":I==="error"?"text-rose-600":"text-slate-500";$.textContent=L||"",$.className=`text-sm ${A}`},E=async()=>{var L,I;if(V)try{let A=await fetch(V,{headers:{Accept:"application/json"}});if(!A.ok)return;let U=await A.json().catch(()=>({}));k&&(k.value=((L=U.analytics)==null?void 0:L.headCode)||""),T&&(T.value=((I=U.analytics)==null?void 0:I.bodyEndCode)||"")}catch(A){console.error("[settings] load analytics config failed",A)}};Q.addEventListener("submit",async L=>{if(L.preventDefault(),!V){q("Aucun site actif.","error");return}F&&(F.disabled=!0),q("");try{let I=await fetch(V,{headers:{Accept:"application/json"}}),U={...I.ok?await I.json().catch(()=>({})):{},analytics:{headCode:(k==null?void 0:k.value)||"",bodyEndCode:(T==null?void 0:T.value)||""}},se=await fetch(V,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(U)}),ce=await se.json().catch(()=>({}));if(!se.ok||ce.success===!1)throw new Error(ce.message||"Sauvegarde impossible.");q(ce.message||"Scripts enregistr\xE9s.","success")}catch(I){console.error("[settings] save analytics config failed",I),q(I.message||"Erreur lors de la sauvegarde.","error")}finally{F&&(F.disabled=!1)}}),E()}let ue=document.querySelector("[data-accessibility-form]");if(ue){let k=ue.querySelector("[data-accessibility-animations]"),T=ue.querySelector("[data-accessibility-contrast]"),$=ue.querySelector("[data-accessibility-feedback]"),F=ue.querySelector("[data-accessibility-save]"),j=Me((te==null?void 0:te.slugValue)||me.slug||""),V=j?`/api/sites/${encodeURIComponent(j)}/config/site`:null,q=(L,I="muted")=>{if(!$)return;let A=I==="success"?"text-emerald-600":I==="error"?"text-rose-600":"text-slate-500";$.textContent=L||"",$.className=`text-sm ${A}`},E=async()=>{var L,I;if(V)try{let A=await fetch(V,{headers:{Accept:"application/json"}});if(!A.ok)return;let U=await A.json().catch(()=>({}));k&&(k.checked=((L=U.accessibility)==null?void 0:L.animationsEnabled)!==!1),T&&(T.checked=((I=U.accessibility)==null?void 0:I.highContrast)===!0)}catch(A){console.error("[settings] load accessibility config failed",A)}};ue.addEventListener("submit",async L=>{var I,A;if(L.preventDefault(),!V){q("Aucun site actif.","error");return}F&&(F.disabled=!0),q("");try{let U=await fetch(V,{headers:{Accept:"application/json"}}),ce={...U.ok?await U.json().catch(()=>({})):{},accessibility:{animationsEnabled:(I=k==null?void 0:k.checked)!=null?I:!0,highContrast:(A=T==null?void 0:T.checked)!=null?A:!1}},ne=await fetch(V,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ce)}),Ce=await ne.json().catch(()=>({}));if(!ne.ok||Ce.success===!1)throw new Error(Ce.message||"Sauvegarde impossible.");q(Ce.message||"Pr\xE9f\xE9rences mises \xE0 jour.","success")}catch(U){console.error("[settings] save accessibility config failed",U),q(U.message||"Erreur lors de la sauvegarde.","error")}finally{F&&(F.disabled=!1)}}),E()}let oe=document.querySelector("[data-ai-config-form]");if(oe){let k=oe.querySelector("[data-ai-api-key]"),T=oe.querySelector("[data-ai-model]"),$=oe.querySelector("[data-ai-project-prompt]"),F=oe.querySelector("[data-ai-enabled]"),j=oe.querySelector("[data-ai-feedback]"),V=oe.querySelector("[data-ai-save]"),q=Me((te==null?void 0:te.slugValue)||me.slug||""),E=q?`/api/sites/${encodeURIComponent(q)}/config/ai`:null,L=(A,U="muted")=>{if(!j)return;let se=U==="success"?"text-emerald-600":U==="error"?"text-rose-600":"text-slate-500";j.textContent=A||"",j.className=`text-sm ${se}`},I=async()=>{if(E)try{let A=await fetch(E,{headers:{Accept:"application/json"}});if(!A.ok)return;let U=await A.json().catch(()=>({}));k&&(k.value="",k.placeholder=U.hasApiKey?"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022":"Cl\xE9 API Gemini"),T&&(T.value=U.model||"gemini-2.5-flash"),$&&($.value=U.projectPrompt||""),F&&(F.checked=U.enabled!==!1)}catch(A){console.error("[settings] load AI config failed",A)}};oe.addEventListener("submit",async A=>{var U,se;if(A.preventDefault(),!E){L("Aucun site actif.","error");return}V&&(V.disabled=!0),L("");try{let ce={model:(T==null?void 0:T.value)||"gemini-2.5-flash",projectPrompt:($==null?void 0:$.value)||"",enabled:(U=F==null?void 0:F.checked)!=null?U:!0},ne=(se=k==null?void 0:k.value)==null?void 0:se.trim();ne&&(ce.apiKey=ne);let Ce=await fetch(E,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ce)}),$e=await Ce.json().catch(()=>({}));if(!Ce.ok||$e.success===!1)throw new Error($e.message||"Sauvegarde impossible.");L($e.message||"Configuration IA enregistr\xE9e.","success"),k&&(k.value="",k.placeholder="\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022")}catch(ce){console.error("[settings] save AI config failed",ce),L(ce.message||"Erreur lors de la sauvegarde.","error")}finally{V&&(V.disabled=!1)}}),I()}}function Un(){let o=document.querySelector("[data-media-grid]");if(!o)return;let a=document.querySelector("[data-media-empty]"),d=document.querySelector("[data-media-count]"),p=document.querySelector("[data-media-filter-type]"),h=document.querySelector("[data-media-detail-empty]"),x=document.querySelector("[data-media-detail]"),_=document.querySelector("[data-media-detail-preview]"),O=document.querySelector("[data-media-detail-name]"),Q=document.querySelector("[data-media-detail-type]"),ue=document.querySelector("[data-media-detail-size]"),oe=document.querySelector("[data-media-detail-path]"),k=document.querySelector("[data-media-detail-used]"),T=document.querySelector("[data-media-alt-edit]"),$=document.querySelector("[data-media-save]"),F=document.querySelector("[data-media-delete]"),j=document.querySelector("[data-media-delete-modal]"),V=document.querySelector("[data-media-delete-cancel]"),q=document.querySelector("[data-media-delete-confirm]"),E=document.querySelector("[data-media-upload-open]"),L=document.querySelector("[data-media-file-input]"),I=document.querySelector("[data-media-upload-status]"),A=Me((te==null?void 0:te.slugValue)||me.slug||""),U=A?`/api/sites/${encodeURIComponent(A)}/media`:null,se=[],ce=[],ne=null,Ce=null,$e=null,Qe=!1,qe=!1,X=!1,Be=null,Pe=b=>{let R=(b.type||"").toLowerCase(),le=(b.filename||"").toLowerCase();return R.includes("image")||/\.(png|jpe?g|webp|svg|gif)$/i.test(le)?"image":R.includes("pdf")||R.includes("doc")||/\.(pdf|docx?)$/i.test(le)?"document":R.includes("video")||/\.(mp4|mov|webm)$/i.test(le)?"video":"other"},N=b=>Pe(b)==="image",S=b=>{if(b.type)return b.type.toUpperCase();let R=(b.filename||"").split(".").pop();return R?R.toUpperCase():"FILE"},J=b=>!b||b<=0?"\u2014":b<1024?`${b} o`:b<1024*1024?`${(b/1024).toFixed(1)} ko`:`${(b/(1024*1024)).toFixed(1)} Mo`,z=()=>{x==null||x.classList.add("hidden"),h==null||h.classList.remove("hidden"),g(),ne=null,qe=!1,H(!1),_&&(_.innerHTML='<span class="text-slate-400 text-sm">Aucun m\xE9dia s\xE9lectionn\xE9</span>'),O&&(O.textContent=""),Q&&(Q.textContent=""),ue&&(ue.textContent=""),T&&(T.value=""),oe&&(oe.textContent=""),k&&(k.innerHTML="")},g=()=>{$e=null,X=!1,Qe=!1,Be&&(URL.revokeObjectURL(Be),Be=null),I&&(I.textContent="Aucun fichier s\xE9lectionn\xE9."),L&&(L.value="")},G=()=>{d&&(ce.length?ce.length===1?d.textContent="1 m\xE9dia":d.textContent=`${ce.length} m\xE9dias`:d.textContent="0 m\xE9dia")},re=()=>{if(o.innerHTML="",!ce.length){a==null||a.classList.remove("hidden"),z();return}a==null||a.classList.add("hidden"),ce.forEach(b=>{let R=document.createElement("button");R.type="button",R.dataset.mediaId=b.id;let le=b.id===ne;R.className=["group relative flex flex-col rounded-2xl border px-3 py-3 text-left transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[#9C6BFF]",le?"border-[#9C6BFF] bg-[#F7F0FF]/60 shadow-sm":"border-slate-200 hover:border-[#9C6BFF]/40"].join(" ");let ae=N(b)?`<img src="${b.path}" alt="${b.alt||b.filename}" class="h-full w-full object-cover" />`:'<div class="flex h-full w-full items-center justify-center text-3xl text-slate-400">\u{1F4C4}</div>';R.innerHTML=`
          <div class="relative aspect-[4/3] overflow-hidden rounded-xl bg-slate-100">
            ${ae}
          </div>
          <div class="mt-2 space-y-1">
            <p class="text-sm font-semibold text-slate-900 truncate">${b.filename}</p>
            <p class="text-xs text-slate-500">
              ${S(b)} \xB7 ${J(b.size)}
            </p>
          </div>
        `,b.id===Ce&&(R.classList.add("ring-2","ring-[#9C6BFF]"),window.setTimeout(()=>{R.classList.remove("ring-2","ring-[#9C6BFF]")},1600)),R.addEventListener("click",()=>we(b.id)),o.appendChild(R)}),Ce=null},Y=b=>{if(k){if(k.innerHTML="",!b.usedIn||b.usedIn.length===0){let R=document.createElement("li");R.textContent="Non utilis\xE9",R.className="text-xs text-slate-400",k.appendChild(R);return}b.usedIn.forEach(R=>{let le=document.createElement("li");le.textContent=R,le.className="text-xs text-slate-600",k.appendChild(le)})}},H=b=>{if($){if(X){$.textContent=b?"T\xE9l\xE9versement\u2026":"T\xE9l\xE9verser",$.disabled=b||!$e,F&&F.classList.add("hidden");return}$.textContent=b?"Enregistrement\u2026":"Enregistrer",$.disabled=b||!qe,F&&(F.classList.remove("hidden"),F.disabled=!ne)}},we=b=>{let R=se.find(le=>le.id===b);if(!R){z(),re();return}g(),ne=R.id,qe=!1,H(!1),re(),h==null||h.classList.add("hidden"),x==null||x.classList.remove("hidden"),_&&(N(R)?_.innerHTML=`<img src="${R.path}" alt="${R.alt||R.filename}" class="h-full w-full rounded-2xl object-cover" />`:_.innerHTML='<div class="flex h-full w-full flex-col items-center justify-center gap-1 text-slate-400"><span class="text-3xl">\u{1F4C4}</span><span class="text-xs font-semibold">Document</span></div>'),O&&(O.textContent=R.filename||"Fichier"),Q&&(Q.textContent=S(R)),ue&&(ue.textContent=J(R.size)),T&&(T.value=R.alt||""),oe&&(oe.textContent=R.path||"\u2014"),Y(R)},Se=b=>{if(b){if(X=!0,qe=!1,ne=null,h==null||h.classList.add("hidden"),x==null||x.classList.remove("hidden"),Be&&URL.revokeObjectURL(Be),Be=URL.createObjectURL(b),_&&(_.innerHTML=`<img src="${Be}" alt="${b.name}" class="h-full w-full rounded-2xl object-cover" />`),O&&(O.textContent=b.name),Q&&(Q.textContent=S({type:b.type,filename:b.name})),ue&&(ue.textContent=J(b.size)),T&&!T.value.trim()&&(T.value=b.name.replace(/\.[^.]+$/,"").replace(/[-_]/g," ")),oe&&(oe.textContent="En attente de t\xE9l\xE9versement"),k){k.innerHTML="";let R=document.createElement("li");R.textContent="Non utilis\xE9",R.className="text-xs text-slate-400",k.appendChild(R)}H(!1)}},he=()=>{let b=(p==null?void 0:p.value)||"all";b==="all"?ce=[...se]:ce=se.filter(R=>R.groupType===b),ce.some(R=>R.id===ne)||z(),G(),re()},Le=async()=>{if(!U){a==null||a.classList.remove("hidden");return}try{let b=await fetch(U,{headers:{Accept:"application/json"}});if(!b.ok)throw new Error("Impossible de charger les m\xE9dias.");let R=await b.json().catch(()=>({items:[]}));se=Array.isArray(R.items)?R.items.map(le=>({...le,groupType:Pe(le)})):[],he()}catch(b){console.error("[media] load failed",b),M(b.message||"Impossible de charger les m\xE9dias."),se=[],he()}};p==null||p.addEventListener("change",()=>{he()}),T==null||T.addEventListener("input",()=>{if(X){H(!1);return}ne&&(qe=!0,H(!1))});let Ze=b=>{if(b){if(!b.type.startsWith("image/")){M("Seules les images sont accept\xE9es pour le moment.");return}if(b.size>4*1024*1024){M("Fichier trop volumineux (4 Mo max).");return}$e=b,Se(b),I&&(I.textContent=`${b.name} \xB7 ${J(b.size)}`)}},Ee=b=>new Promise((R,le)=>{let ae=new FileReader;ae.onload=()=>{let w=ae.result||"",[,ys=""]=String(w).split(",");R(ys)},ae.onerror=()=>le(new Error("Impossible de lire ce fichier.")),ae.readAsDataURL(b)}),He=async()=>{if(!(!$e||!U)){Qe=!0,H(!0);try{let b=await Ee($e),R={filename:$e.name,type:$e.type,size:$e.size,alt:(T==null?void 0:T.value)||"",data:b},le=await fetch(U,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(R)});if(!le.ok){let w=await le.json().catch(()=>({}));throw new Error(w.message||"Upload impossible.")}let ae=await le.json();ae.groupType=Pe(ae),se=[...se,ae],Ce=ae.id,he(),we(ae.id),M("M\xE9dia ajout\xE9"),g()}catch(b){console.error("[media] upload failed",b),M(b.message||"Impossible de t\xE9l\xE9verser ce m\xE9dia.")}finally{Qe=!1,$e=null,H(!1)}}};E==null||E.addEventListener("click",()=>L==null?void 0:L.click()),L==null||L.addEventListener("change",()=>{L.files&&L.files[0]&&Ze(L.files[0])});let at=()=>{j&&(j.classList.add("hidden"),j.classList.remove("flex"))},Ke=()=>{if(!(!ne||X)){if(j){j.classList.remove("hidden"),j.classList.add("flex");return}window.confirm("Supprimer ce m\xE9dia ?")&&_e()}},_e=async()=>{if(!ne||!U){at();return}let b=()=>{F&&(F.disabled=!0),q&&(q.disabled=!0,q.textContent="Suppression\u2026")},R=()=>{F&&(F.disabled=!1),q&&(q.disabled=!1,q.textContent="Supprimer")};b();try{let le=await fetch(`${U}/${encodeURIComponent(ne)}`,{method:"DELETE"});if(!le.ok){let ae=await le.json().catch(()=>({}));throw new Error(ae.message||"Suppression impossible.")}se=se.filter(ae=>ae.id!==ne),ce=ce.filter(ae=>ae.id!==ne),M("M\xE9dia supprim\xE9"),z(),G(),re()}catch(le){console.error("[media] delete failed",le),M(le.message||"Impossible de supprimer ce m\xE9dia.")}finally{R(),at()}};V==null||V.addEventListener("click",at),j==null||j.addEventListener("click",b=>{b.target===j&&at()}),q==null||q.addEventListener("click",()=>_e()),F==null||F.addEventListener("click",Ke),$==null||$.addEventListener("click",async()=>{if(X){He();return}if(!(!ne||!U||!T)){H(!0);try{let b={alt:T.value||""},R=await fetch(`${U}/${encodeURIComponent(ne)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});if(!R.ok){let ae=await R.json().catch(()=>({}));throw new Error(ae.message||"Impossible de mettre \xE0 jour ce m\xE9dia.")}let le=await R.json();se=se.map(ae=>ae.id===ne?{...ae,...le}:ae),ce=ce.map(ae=>ae.id===ne?{...ae,...le}:ae),qe=!1,H(!1),M("M\xE9dia mis \xE0 jour")}catch(b){console.error("[media] update failed",b),M(b.message||"\xC9chec de la mise \xE0 jour."),H(!1)}}}),Le()}let Gr=document.getElementById("ai-chat-toggle"),bs=document.getElementById("ai-chat-panel"),ct=document.getElementById("ai-chat-overlay"),Zr=document.getElementById("ai-chat-close"),Kr=document.getElementById("ai-chat-clear"),_r=document.getElementById("ai-chat-form"),Mt=document.getElementById("ai-chat-input"),Te=document.getElementById("ai-chat-messages"),Ka=document.getElementById("ai-chat-status"),Et=document.getElementById("ai-chat-no-api"),zn=document.querySelectorAll("[data-ai-quick]"),nr=!1,Yr=!1,Po=!1,On=!1;function Vn(){bs&&(nr=!0,bs.classList.remove("translate-x-full"),bs.setAttribute("aria-hidden","false"),ct==null||ct.classList.remove("opacity-0","pointer-events-none"),ct==null||ct.classList.add("opacity-100"),document.body.classList.add("overflow-hidden"),Mt==null||Mt.focus(),Po||Jn())}function ar(){bs&&(nr=!1,bs.classList.add("translate-x-full"),bs.setAttribute("aria-hidden","true"),ct==null||ct.classList.add("opacity-0","pointer-events-none"),ct==null||ct.classList.remove("opacity-100"),document.body.classList.remove("overflow-hidden"))}async function Jn(){let o=Me(me.slug||"");if(!o){Et==null||Et.classList.remove("hidden");return}try{let a=await fetch(`/api/sites/${encodeURIComponent(o)}/config/ai`);if(!a.ok)throw new Error("Config check failed");let d=await a.json();Po=!0,On=d.hasApiKey,!d.enabled||!d.hasApiKey?Et==null||Et.classList.remove("hidden"):(Et==null||Et.classList.add("hidden"),Wn())}catch(a){console.error("[AI] Config check failed:",a),Et==null||Et.classList.remove("hidden")}}async function Wn(){let o=Me(me.slug||"");if(!(!o||!Te))try{let a=await fetch(`/api/sites/${encodeURIComponent(o)}/ai/history`);if(!a.ok)return;let d=await a.json();if(d.messages&&d.messages.length>0){let p=Te.querySelector("[data-ai-welcome]");p&&p.remove(),d.messages.forEach(h=>{ir(h.content,h.role==="user"?"user":"assistant")}),Te.scrollTop=Te.scrollHeight}}catch(a){console.error("[AI] History load failed:",a)}}function ir(o,a="assistant"){if(!Te)return;let d=document.createElement("div");if(d.className="flex gap-3",a==="user")d.innerHTML=`
        <div class="flex-1"></div>
        <div class="max-w-[80%] bg-violet-600 text-white rounded-2xl rounded-tr-none p-3">
          <p class="text-sm whitespace-pre-wrap">${yt(o)}</p>
        </div>
        <div class="w-8 h-8 rounded-full bg-slate-200 flex-shrink-0 flex items-center justify-center">
          <svg class="w-4 h-4 text-slate-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
          </svg>
        </div>
      `;else{let p=Zn(o);d.innerHTML=`
        <div class="w-8 h-8 rounded-full bg-gradient-to-br from-violet-500 to-indigo-600 flex-shrink-0 flex items-center justify-center">
          <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
          </svg>
        </div>
        <div class="flex-1 bg-slate-50 rounded-2xl rounded-tl-none p-3 overflow-x-auto">
          <div class="text-sm text-slate-700 prose prose-sm max-w-none [&>pre]:bg-slate-800 [&>pre]:text-slate-100 [&>pre]:rounded-lg [&>pre]:p-3 [&>pre]:overflow-x-auto [&>code]:bg-slate-200 [&>code]:px-1 [&>code]:rounded">${p}</div>
        </div>
      `}Te.appendChild(d),Te.scrollTop=Te.scrollHeight}function Gn(){if(!Te)return;let o=document.createElement("div");o.className="flex gap-3",o.id="ai-loading-indicator",o.innerHTML=`
      <div class="w-8 h-8 rounded-full bg-gradient-to-br from-violet-500 to-indigo-600 flex-shrink-0 flex items-center justify-center">
        <svg class="w-4 h-4 text-white animate-pulse" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
        </svg>
      </div>
      <div class="flex-1 bg-slate-50 rounded-2xl rounded-tl-none p-3">
        <div class="flex items-center gap-2">
          <div class="w-2 h-2 bg-violet-400 rounded-full animate-bounce" style="animation-delay: 0ms"></div>
          <div class="w-2 h-2 bg-violet-400 rounded-full animate-bounce" style="animation-delay: 150ms"></div>
          <div class="w-2 h-2 bg-violet-400 rounded-full animate-bounce" style="animation-delay: 300ms"></div>
        </div>
      </div>
    `,Te.appendChild(o),Te.scrollTop=Te.scrollHeight}function jo(){let o=document.getElementById("ai-loading-indicator");o==null||o.remove()}function Zn(o){if(!o)return"";let a=yt(o);return a=a.replace(/```(\w*)\n([\s\S]*?)```/g,(d,p,h)=>`<pre class="language-${p||"text"}"><code>${h.trim()}</code></pre>`),a=a.replace(/`([^`]+)`/g,"<code>$1</code>"),a=a.replace(/\*\*([^*]+)\*\*/g,"<strong>$1</strong>"),a=a.replace(/\*([^*]+)\*/g,"<em>$1</em>"),a=a.replace(/^### (.+)$/gm,'<h4 class="font-semibold text-slate-900 mt-3 mb-1">$1</h4>'),a=a.replace(/^## (.+)$/gm,'<h3 class="font-semibold text-slate-900 mt-3 mb-1">$1</h3>'),a=a.replace(/^# (.+)$/gm,'<h2 class="font-bold text-slate-900 mt-3 mb-2">$1</h2>'),a=a.replace(/^- (.+)$/gm,'<li class="ml-4">$1</li>'),a=a.replace(/^(\d+)\. (.+)$/gm,'<li class="ml-4">$2</li>'),a=a.replace(/\n\n/g,'</p><p class="mb-2">'),a='<p class="mb-2">'+a+"</p>",a=a.replace(/<p class="mb-2"><\/p>/g,""),a}function yt(o){let a=document.createElement("div");return a.textContent=o,a.innerHTML}async function Mo(o){let a=Me(me.slug||"");if(!o||!a||Yr)return;Yr=!0,Mt.disabled=!0;let d=Te==null?void 0:Te.querySelector("[data-ai-welcome]");d&&d.remove(),ir(o,"user"),Gn();try{let p=await fetch(`/api/sites/${encodeURIComponent(a)}/ai/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:o})});if(jo(),!p.ok){let x=await p.json().catch(()=>({}));throw new Error(x.message||"Erreur de communication")}let h=await p.json();h.response&&ir(h.response,"assistant"),h.editProposal&&Kn(h.editProposal),h.themeProposal&&_n(h.themeProposal)}catch(p){jo(),ir(`\u274C Erreur: ${p.message}`,"assistant")}finally{Yr=!1,Mt.disabled=!1,Mt.focus()}}function Kn(o){var p,h;if(!Te||!o)return;let a=document.createElement("div");a.className="flex gap-3 mt-2",a.dataset.proposalId=o.proposalId;let d="";if(o.changes&&(o.changes.title&&(d+=`<li>Titre \u2192 <strong>${yt(o.changes.title)}</strong></li>`),o.changes.description&&(d+=`<li>Description \u2192 ${yt(o.changes.description.substring(0,80))}...</li>`),o.changes.seo&&(o.changes.seo.metaTitle&&(d+=`<li>Meta title \u2192 ${yt(o.changes.seo.metaTitle)}</li>`),o.changes.seo.metaDescription&&(d+=`<li>Meta description \u2192 ${yt(o.changes.seo.metaDescription.substring(0,60))}...</li>`)),o.changes.blockUpdate&&(d+=`<li>Bloc "${o.changes.blockUpdate.blockId}" modifi\xE9</li>`,o.changes.blockUpdate.settings))){let x=o.changes.blockUpdate.settings;x.title&&(d+=`<li class="ml-4">\u2192 title: ${yt(x.title)}</li>`),x.content&&(d+='<li class="ml-4">\u2192 content modifi\xE9</li>')}a.innerHTML=`
      <div class="w-8 h-8 rounded-full bg-amber-500 flex-shrink-0 flex items-center justify-center">
        <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"/>
        </svg>
      </div>
      <div class="flex-1 bg-amber-50 border border-amber-200 rounded-2xl rounded-tl-none p-4">
        <div class="flex items-center gap-2 mb-2">
          <span class="text-xs font-semibold text-amber-700 bg-amber-100 px-2 py-0.5 rounded">Proposition d'\xE9dition</span>
        </div>
        <p class="text-sm font-medium text-slate-800 mb-1">Page : ${yt(o.pageTitle||o.pageId)}</p>
        ${o.reason?`<p class="text-sm text-slate-600 mb-2">${yt(o.reason)}</p>`:""}
        <ul class="text-xs text-slate-600 space-y-1 mb-3 list-disc ml-4">
          ${d||"<li>Modifications propos\xE9es</li>"}
        </ul>
        <div class="flex gap-2">
          <button 
            class="ai-apply-edit px-3 py-1.5 text-xs font-medium text-white bg-emerald-600 hover:bg-emerald-700 rounded-lg transition-colors flex items-center gap-1"
            data-proposal-id="${o.proposalId}"
          >
            <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
            </svg>
            Appliquer
          </button>
          <button 
            class="ai-reject-edit px-3 py-1.5 text-xs font-medium text-slate-600 bg-slate-100 hover:bg-slate-200 rounded-lg transition-colors flex items-center gap-1"
            data-proposal-id="${o.proposalId}"
          >
            <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
            </svg>
            Rejeter
          </button>
        </div>
      </div>
    `,Te.appendChild(a),Te.scrollTop=Te.scrollHeight,(p=a.querySelector(".ai-apply-edit"))==null||p.addEventListener("click",Xn),(h=a.querySelector(".ai-reject-edit"))==null||h.addEventListener("click",Fo)}function _n(o){var h,x,_,O;if(!Te||!o)return;let a=document.createElement("div");a.className="flex gap-3 mt-2",a.dataset.proposalId=o.proposalId;let d="";if((h=o.changes)!=null&&h.colors){let Q=o.changes.colors;for(let[ue,oe]of Object.entries(Q))d+=`<li class="flex items-center gap-2">
          <span class="w-4 h-4 rounded border border-slate-300" style="background: ${Yn(oe)}"></span>
          <span>${ue}: <strong>${yt(oe)}</strong></span>
        </li>`}let p="";if((x=o.changes)!=null&&x.typography){let Q=o.changes.typography;Q.headings&&(p+=`<li>Titres \u2192 <strong>${yt(Q.headings)}</strong></li>`),Q.body&&(p+=`<li>Textes \u2192 <strong>${yt(Q.body)}</strong></li>`)}a.innerHTML=`
      <div class="w-8 h-8 rounded-full bg-purple-500 flex-shrink-0 flex items-center justify-center">
        <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"/>
        </svg>
      </div>
      <div class="flex-1 bg-purple-50 border border-purple-200 rounded-2xl rounded-tl-none p-4">
        <div class="flex items-center gap-2 mb-2">
          <span class="text-xs font-semibold text-purple-700 bg-purple-100 px-2 py-0.5 rounded">Modification du th\xE8me</span>
        </div>
        ${o.reason?`<p class="text-sm text-slate-600 mb-3">${yt(o.reason)}</p>`:""}
        ${d?`
          <p class="text-xs font-medium text-slate-700 mb-1">Couleurs :</p>
          <ul class="text-xs text-slate-600 space-y-1 mb-3">${d}</ul>
        `:""}
        ${p?`
          <p class="text-xs font-medium text-slate-700 mb-1">Typographies :</p>
          <ul class="text-xs text-slate-600 space-y-1 mb-3 list-disc ml-4">${p}</ul>
        `:""}
        <div class="flex gap-2">
          <button 
            class="ai-apply-theme px-3 py-1.5 text-xs font-medium text-white bg-purple-600 hover:bg-purple-700 rounded-lg transition-colors flex items-center gap-1"
            data-proposal-id="${o.proposalId}"
          >
            <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
            </svg>
            Appliquer
          </button>
          <button 
            class="ai-reject-theme px-3 py-1.5 text-xs font-medium text-slate-600 bg-slate-100 hover:bg-slate-200 rounded-lg transition-colors flex items-center gap-1"
            data-proposal-id="${o.proposalId}"
          >
            <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
            </svg>
            Rejeter
          </button>
        </div>
      </div>
    `,Te.appendChild(a),Te.scrollTop=Te.scrollHeight,(_=a.querySelector(".ai-apply-theme"))==null||_.addEventListener("click",Qn),(O=a.querySelector(".ai-reject-theme"))==null||O.addEventListener("click",Fo)}function Yn(o){return{white:"#ffffff",black:"#000000",transparent:"transparent","slate-50":"#f8fafc","slate-100":"#f1f5f9","slate-200":"#e2e8f0","slate-300":"#cbd5e1","slate-400":"#94a3b8","slate-500":"#64748b","slate-600":"#475569","slate-700":"#334155","slate-800":"#1e293b","slate-900":"#0f172a","gray-50":"#f9fafb","gray-100":"#f3f4f6","gray-200":"#e5e7eb","gray-300":"#d1d5db","gray-400":"#9ca3af","gray-500":"#6b7280","gray-600":"#4b5563","gray-700":"#374151","gray-800":"#1f2937","gray-900":"#111827","violet-50":"#f5f3ff","violet-100":"#ede9fe","violet-200":"#ddd6fe","violet-300":"#c4b5fd","violet-400":"#a78bfa","violet-500":"#8b5cf6","violet-600":"#7c3aed","violet-700":"#6d28d9","violet-800":"#5b21b6","violet-900":"#4c1d95","purple-50":"#faf5ff","purple-100":"#f3e8ff","purple-200":"#e9d5ff","purple-300":"#d8b4fe","purple-400":"#c084fc","purple-500":"#a855f7","purple-600":"#9333ea","purple-700":"#7e22ce","purple-800":"#6b21a8","purple-900":"#581c87","blue-50":"#eff6ff","blue-100":"#dbeafe","blue-200":"#bfdbfe","blue-300":"#93c5fd","blue-400":"#60a5fa","blue-500":"#3b82f6","blue-600":"#2563eb","blue-700":"#1d4ed8","blue-800":"#1e40af","blue-900":"#1e3a8a","emerald-50":"#ecfdf5","emerald-100":"#d1fae5","emerald-200":"#a7f3d0","emerald-300":"#6ee7b7","emerald-400":"#34d399","emerald-500":"#10b981","emerald-600":"#059669","emerald-700":"#047857","emerald-800":"#065f46","emerald-900":"#064e3b","teal-50":"#f0fdfa","teal-100":"#ccfbf1","teal-200":"#99f6e4","teal-300":"#5eead4","teal-400":"#2dd4bf","teal-500":"#14b8a6","teal-600":"#0d9488","teal-700":"#0f766e","teal-800":"#115e59","teal-900":"#134e4a","amber-50":"#fffbeb","amber-100":"#fef3c7","amber-200":"#fde68a","amber-300":"#fcd34d","amber-400":"#fbbf24","amber-500":"#f59e0b","amber-600":"#d97706","amber-700":"#b45309","amber-800":"#92400e","amber-900":"#78350f","red-50":"#fef2f2","red-100":"#fee2e2","red-200":"#fecaca","red-300":"#fca5a5","red-400":"#f87171","red-500":"#ef4444","red-600":"#dc2626","red-700":"#b91c1c","red-800":"#991b1b","red-900":"#7f1d1d"}[o]||"#9C6BFF"}async function Qn(o){var h;let a=(h=o.target.closest("[data-proposal-id]"))==null?void 0:h.dataset.proposalId,d=Me(me.slug||"");if(!a||!d)return;let p=o.target.closest("button");p.disabled=!0,p.innerHTML='<span class="animate-spin">\u23F3</span> Application...';try{let x=await fetch(`/api/sites/${encodeURIComponent(d)}/ai/apply-theme`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({proposalId:a})}),_=await x.json();if(x.ok&&_.success){let O=document.querySelector(`[data-proposal-id="${a}"]`);O&&(O.innerHTML=`
            <div class="w-8 h-8 rounded-full bg-purple-500 flex-shrink-0 flex items-center justify-center">
              <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
              </svg>
            </div>
            <div class="flex-1 bg-purple-50 border border-purple-200 rounded-2xl rounded-tl-none p-3">
              <p class="text-sm text-purple-700">\u2705 Th\xE8me mis \xE0 jour avec succ\xE8s !</p>
              <p class="text-xs text-purple-600 mt-1">Rechargez la preview pour voir les changements.</p>
            </div>
          `),M("Th\xE8me mis \xE0 jour !"),document.dispatchEvent(new CustomEvent("ai-theme-updated",{detail:{updatedTheme:_.updatedTheme}}))}else throw new Error(_.message||"Erreur lors de l'application")}catch(x){p.disabled=!1,p.innerHTML='<svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg> R\xE9essayer',M(`Erreur: ${x.message}`)}}async function Xn(o){var h,x;let a=(h=o.target.closest("[data-proposal-id]"))==null?void 0:h.dataset.proposalId,d=Me(me.slug||"");if(!a||!d)return;let p=o.target.closest("button");p.disabled=!0,p.innerHTML='<span class="animate-spin">\u23F3</span> Application...';try{let _=await fetch(`/api/sites/${encodeURIComponent(d)}/ai/apply-edit`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({proposalId:a})}),O=await _.json();if(_.ok&&O.success){let Q=document.querySelector(`[data-proposal-id="${a}"]`);Q&&(Q.innerHTML=`
            <div class="w-8 h-8 rounded-full bg-emerald-500 flex-shrink-0 flex items-center justify-center">
              <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
              </svg>
            </div>
            <div class="flex-1 bg-emerald-50 border border-emerald-200 rounded-2xl rounded-tl-none p-3">
              <p class="text-sm text-emerald-700">\u2705 Modifications appliqu\xE9es avec succ\xE8s !</p>
              <p class="text-xs text-emerald-600 mt-1">La preview se met \xE0 jour automatiquement.</p>
            </div>
          `),M("Modifications appliqu\xE9es !");let ue=((x=O.updatedPage)==null?void 0:x.id)||null;document.dispatchEvent(new CustomEvent("ai-page-updated",{detail:{pageId:ue,updatedPage:O.updatedPage}}))}else throw new Error(O.message||"Erreur lors de l'application")}catch(_){p.disabled=!1,p.innerHTML='<svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg> R\xE9essayer',M(`Erreur: ${_.message}`)}}async function Fo(o){var p;let a=(p=o.target.closest("[data-proposal-id]"))==null?void 0:p.dataset.proposalId,d=Me(me.slug||"");if(!(!a||!d))try{await fetch(`/api/sites/${encodeURIComponent(d)}/ai/proposal/${a}`,{method:"DELETE"});let h=document.querySelector(`[data-proposal-id="${a}"]`);h&&(h.innerHTML=`
          <div class="w-8 h-8 rounded-full bg-slate-400 flex-shrink-0 flex items-center justify-center">
            <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
            </svg>
          </div>
          <div class="flex-1 bg-slate-100 rounded-2xl rounded-tl-none p-3">
            <p class="text-sm text-slate-500">Proposition rejet\xE9e.</p>
          </div>
        `)}catch(h){console.error("[AI] Reject edit error:",h)}}async function ea(){let o=Me(me.slug||"");if(!(!o||!Te))try{await fetch(`/api/sites/${encodeURIComponent(o)}/ai/history`,{method:"DELETE"}),Te.innerHTML="",Te.innerHTML=`
        <div class="flex gap-3" data-ai-welcome>
          <div class="w-8 h-8 rounded-full bg-gradient-to-br from-violet-500 to-indigo-600 flex-shrink-0 flex items-center justify-center">
            <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
            </svg>
          </div>
          <div class="flex-1 bg-slate-50 rounded-2xl rounded-tl-none p-3">
            <p class="text-sm text-slate-700">
              Salut ! \u{1F44B} Je suis ton assistant IA pour ce site. Je peux t'aider \xE0 :
            </p>
            <ul class="mt-2 text-sm text-slate-600 space-y-1">
              <li>\u{1F3A8} Sugg\xE9rer des palettes de couleurs</li>
              <li>\u270D\uFE0F G\xE9n\xE9rer du contenu pour tes blocs</li>
              <li>\u{1F4C4} Cr\xE9er des structures de pages</li>
              <li>\u{1F50D} Am\xE9liorer ton SEO</li>
              <li>\u270F\uFE0F <strong>Analyser et modifier tes pages</strong> (avec validation)</li>
            </ul>
          </div>
        </div>
      `,M("Historique effac\xE9")}catch(a){console.error("[AI] Clear history failed:",a),M("Erreur lors de l'effacement")}}let ta={colors:"Sugg\xE8re-moi 3 palettes de couleurs harmonieuses pour mon site. Pour chaque palette, donne les couleurs Tailwind: primary, secondary, accent, et background.",hero:"G\xE9n\xE8re un bloc Hero en JSON avec un titre accrocheur, un sous-titre engageant et un CTA.",seo:"Analyse mon site et sugg\xE8re des am\xE9liorations SEO pour le meta title et la meta description de ma page d'accueil.",landing:"G\xE9n\xE8re la structure JSON d'une landing page compl\xE8te avec: Hero, 3 sections de contenu, et un CTA final.",analyze:"Analyse le contenu de toutes mes pages et propose des am\xE9liorations concr\xE8tes. Pour chaque suggestion d'am\xE9lioration de texte ou de structure, utilise le format propose-edit pour que je puisse valider.",improveHome:"Analyse ma page d'accueil et propose une am\xE9lioration du titre ou du Hero pour le rendre plus impactant. Utilise le format propose-edit."};Gr==null||Gr.addEventListener("click",()=>{nr?ar():Vn()}),Zr==null||Zr.addEventListener("click",ar),ct==null||ct.addEventListener("click",ar),Kr==null||Kr.addEventListener("click",()=>{confirm("Effacer tout l'historique de conversation ?")&&ea()}),_r==null||_r.addEventListener("submit",o=>{var d;o.preventDefault();let a=(d=Mt==null?void 0:Mt.value)==null?void 0:d.trim();a&&(Mt.value="",Mo(a))}),zn.forEach(o=>{o.addEventListener("click",()=>{let a=o.dataset.aiQuick,d=ta[a];d&&Mo(d)})}),document.addEventListener("keydown",o=>{o.key==="Escape"&&nr&&ar()})});})();
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vY29yZS9zY3JpcHRzL2FkbWluLmpzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuICBjb25zb2xlLmxvZygnW2FkbWluXSBBdGVsaWVyIGNoYXJnXHUwMEU5Jyk7XG4gIGNvbnN0IGxvZ291dEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWxvZ291dF0nKTtcbiAgaWYgKGxvZ291dEJ1dHRvbikge1xuICAgIGxvZ291dEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGxvZ291dEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBmZXRjaCgnL2FwaS9sb2dvdXQnLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbYWRtaW5dIEltcG9zc2libGUgZGUgc2UgZFx1MDBFOWNvbm5lY3RlcicsIGVycik7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvYWRtaW4vaW5kZXguaHRtbCc7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBjb25zdCBzaWRlYmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRtaW4tc2lkZWJhcl0nKTtcbiAgY29uc3Qgc2lkZWJhck92ZXJsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZG1pbi1zaWRlYmFyLW92ZXJsYXldJyk7XG4gIGNvbnN0IHNpZGViYXJUb2dnbGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYWRtaW4tc2lkZWJhci10b2dnbGVdJyk7XG4gIGNvbnN0IHNpZGViYXJDbG9zZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1hZG1pbi1zaWRlYmFyLWNsb3NlXScpO1xuICBjb25zdCBib2R5ID0gZG9jdW1lbnQuYm9keTtcbiAgbGV0IHNpZGViYXJPcGVuID0gZmFsc2U7XG5cbiAgY29uc3QgYXBwbHlTaWRlYmFyU3RhdGUgPSAoKSA9PiB7XG4gICAgaWYgKCFzaWRlYmFyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGlzRGVza3RvcCA9IHdpbmRvdy5tYXRjaE1lZGlhKCcobWluLXdpZHRoOiAxMDI0cHgpJykubWF0Y2hlcztcbiAgICBpZiAoaXNEZXNrdG9wKSB7XG4gICAgICBzaWRlYmFyLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgc2lkZWJhck92ZXJsYXk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHNpZGViYXJPcGVuKSB7XG4gICAgICBzaWRlYmFyLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgc2lkZWJhck92ZXJsYXk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgYm9keS5jbGFzc0xpc3QuYWRkKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2lkZWJhci5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIHNpZGViYXJPdmVybGF5Py5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnb3ZlcmZsb3ctaGlkZGVuJyk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IG9wZW5TaWRlYmFyID0gKCkgPT4ge1xuICAgIHNpZGViYXJPcGVuID0gdHJ1ZTtcbiAgICBhcHBseVNpZGViYXJTdGF0ZSgpO1xuICB9O1xuXG4gIGNvbnN0IGNsb3NlU2lkZWJhciA9ICgpID0+IHtcbiAgICBzaWRlYmFyT3BlbiA9IGZhbHNlO1xuICAgIGFwcGx5U2lkZWJhclN0YXRlKCk7XG4gIH07XG5cbiAgaWYgKHNpZGViYXIgJiYgc2lkZWJhclRvZ2dsZXMubGVuZ3RoID4gMCkge1xuICAgIHNpZGViYXJUb2dnbGVzLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlblNpZGViYXIpO1xuICAgIH0pO1xuICAgIHNpZGViYXJDbG9zZUJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZVNpZGViYXIpO1xuICAgIH0pO1xuICAgIHNpZGViYXJPdmVybGF5Py5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlU2lkZWJhcik7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGFwcGx5U2lkZWJhclN0YXRlKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VzY2FwZScgJiYgc2lkZWJhck9wZW4pIHtcbiAgICAgICAgY2xvc2VTaWRlYmFyKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgYXBwbHlTaWRlYmFyU3RhdGUoKTtcbiAgfVxuXG4gIGNvbnN0IEFDVElWRV9TSVRFX0tFWSA9ICdjbG93ZXI6Y3VycmVudFNpdGUnO1xuICBjb25zdCBBQ1RJVkVfU0lURV9OQU1FX0tFWSA9ICdjbG93ZXI6Y3VycmVudFNpdGVOYW1lJztcbiAgY29uc3Qgc3RvcmVkU2l0ZSA9IHsgc2x1ZzogbnVsbCwgbmFtZTogJycgfTtcbiAgY29uc3QgbG9hZFN0b3JlZFNpdGUgPSAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJhd1NsdWcgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oQUNUSVZFX1NJVEVfS0VZKTtcbiAgICAgIHN0b3JlZFNpdGUuc2x1ZyA9IHJhd1NsdWcgPyBlbnN1cmVMZWFkaW5nU2xhc2goc3RyaXBMZWFkaW5nU2xhc2gocmF3U2x1ZykpIDogbnVsbDtcbiAgICAgIHN0b3JlZFNpdGUubmFtZSA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShBQ1RJVkVfU0lURV9OQU1FX0tFWSkgfHwgJyc7XG4gICAgfSBjYXRjaCB7XG4gICAgICBzdG9yZWRTaXRlLnNsdWcgPSBudWxsO1xuICAgICAgc3RvcmVkU2l0ZS5uYW1lID0gJyc7XG4gICAgfVxuICB9O1xuICBsb2FkU3RvcmVkU2l0ZSgpO1xuXG4gIGNvbnN0IHNpdGVDYXJkcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXNpdGUtY2FyZF0nKTtcbiAgY29uc3Qgc2l0ZVNlbGVjdEJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1zaXRlLXNlbGVjdF0nKTtcbiAgY29uc3Qgc2l0ZU5hbWVMYWJlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWN1cnJlbnQtc2l0ZS1uYW1lXScpO1xuICBjb25zdCB3b3Jrc3BhY2VTaXRlTGFiZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS13b3Jrc3BhY2Utc2l0ZS1uYW1lXScpO1xuICBjb25zdCB3b3Jrc3BhY2VCYWNrTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXdvcmtzcGFjZS1iYWNrLW5hbWVdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZUJhY2tNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXdvcmtzcGFjZS1iYWNrLW1vZGFsXScpO1xuICBjb25zdCB3b3Jrc3BhY2VCYWNrQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXdvcmtzcGFjZS1iYWNrXScpO1xuICBjb25zdCB3b3Jrc3BhY2VCYWNrQ2FuY2VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtd29ya3NwYWNlLWJhY2stY2FuY2VsXScpO1xuICBjb25zdCB3b3Jrc3BhY2VCYWNrQ29uZmlybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXdvcmtzcGFjZS1iYWNrLWNvbmZpcm1dJyk7XG4gIGNvbnN0IHdvcmtzcGFjZU5hdkxpbmtzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtd29ya3NwYWNlLXRhYl0nKTtcbiAgY29uc3Qgc2l0ZVRvYXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS10b2FzdF0nKTtcbiAgY29uc3Qgc2l0ZVRvYXN0TWVzc2FnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtdG9hc3QtbWVzc2FnZV0nKTtcbiAgY29uc3Qgc2l0ZUNyZWF0ZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1zaXRlLWNyZWF0ZV0nKTtcbiAgY29uc3Qgc2l0ZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS1tb2RhbF0nKTtcbiAgY29uc3Qgc2l0ZUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLWZvcm1dJyk7XG4gIC8vIFVzZSBtb3JlIHNwZWNpZmljIHNlbGVjdG9ycyB0byBnZXQgaW5wdXRzIElOU0lERSB0aGUgZm9ybSwgbm90IHNpdGUgY2FyZHNcbiAgY29uc3Qgc2l0ZU5hbWVJbnB1dCA9IHNpdGVGb3JtPy5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPVwic2l0ZU5hbWVcIl0nKTtcbiAgY29uc3Qgc2l0ZVNsdWdJbnB1dCA9IHNpdGVGb3JtPy5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPVwic2l0ZVNsdWdcIl0nKTtcbiAgY29uc3Qgc2l0ZVNsdWdFcnJvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtc2x1Zy1lcnJvcl0nKTtcbiAgY29uc3Qgc2l0ZU1vZGFsRXJyb3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLW1vZGFsLWVycm9yXScpO1xuICBjb25zdCBzaXRlTW9kYWxDYW5jZWxCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtc2l0ZS1tb2RhbC1jYW5jZWxdJyk7XG4gIGNvbnN0IHNpdGVNb2RhbFN1Ym1pdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtbW9kYWwtc3VibWl0XScpO1xuICBjb25zdCB3b3Jrc3BhY2VDb250ZXh0ID0gZ2V0V29ya3NwYWNlQ29udGV4dCgpO1xuICBsZXQgc2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gIGxldCB0b2FzdFRpbWVvdXRJZCA9IG51bGw7XG5cbiAgY29uc3QgZm9jdXNhYmxlU2VsZWN0b3IgPVxuICAgICdhW2hyZWZdLCBidXR0b246bm90KFtkaXNhYmxlZF0pLCB0ZXh0YXJlYSwgaW5wdXQsIHNlbGVjdCwgW3RhYmluZGV4XTpub3QoW3RhYmluZGV4PVwiLTFcIl0pJztcbiAgY29uc3QgbW9kYWxTdGFjayA9IFtdO1xuICBjb25zdCBnZXRGb2N1c2FibGVFbGVtZW50cyA9IChtb2RhbCkgPT5cbiAgICBBcnJheS5mcm9tKG1vZGFsLnF1ZXJ5U2VsZWN0b3JBbGwoZm9jdXNhYmxlU2VsZWN0b3IpKS5maWx0ZXIoXG4gICAgICAoZWwpID0+ICFlbC5oYXNBdHRyaWJ1dGUoJ2Rpc2FibGVkJykgJiYgIWVsLmdldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nKSxcbiAgICApO1xuICBjb25zdCBoYW5kbGVNb2RhbEtleWRvd24gPSAoZXZlbnQpID0+IHtcbiAgICBpZiAoIW1vZGFsU3RhY2subGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGN1cnJlbnRFbnRyeSA9IG1vZGFsU3RhY2tbbW9kYWxTdGFjay5sZW5ndGggLSAxXTtcbiAgICBjb25zdCB7IG1vZGFsLCBvbkNsb3NlIH0gPSBjdXJyZW50RW50cnk7XG4gICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBvbkNsb3NlPy4oKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGV2ZW50LmtleSAhPT0gJ1RhYicpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZm9jdXNhYmxlRWxlbWVudHMgPSBnZXRGb2N1c2FibGVFbGVtZW50cyhtb2RhbCk7XG4gICAgaWYgKCFmb2N1c2FibGVFbGVtZW50cy5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZmlyc3QgPSBmb2N1c2FibGVFbGVtZW50c1swXTtcbiAgICBjb25zdCBsYXN0ID0gZm9jdXNhYmxlRWxlbWVudHNbZm9jdXNhYmxlRWxlbWVudHMubGVuZ3RoIC0gMV07XG4gICAgaWYgKGV2ZW50LnNoaWZ0S2V5KSB7XG4gICAgICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gZmlyc3QpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgbGFzdC5mb2N1cygpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gbGFzdCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGZpcnN0LmZvY3VzKCk7XG4gICAgfVxuICB9O1xuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlTW9kYWxLZXlkb3duKTtcbiAgY29uc3QgYWN0aXZhdGVNb2RhbCA9IChtb2RhbCwgb25DbG9zZSkgPT4ge1xuICAgIGlmICghbW9kYWwpIHJldHVybjtcbiAgICBtb2RhbFN0YWNrLnB1c2goe1xuICAgICAgbW9kYWwsXG4gICAgICBvbkNsb3NlLFxuICAgICAgdHJpZ2dlcjogZG9jdW1lbnQuYWN0aXZlRWxlbWVudCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ID8gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA6IG51bGwsXG4gICAgfSk7XG4gICAgY29uc3QgZm9jdXNhYmxlID0gZ2V0Rm9jdXNhYmxlRWxlbWVudHMobW9kYWwpO1xuICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIChmb2N1c2FibGVbMF0gfHwgbW9kYWwpLmZvY3VzPy4oKTtcbiAgICB9LCAwKTtcbiAgfTtcbiAgY29uc3QgZGVhY3RpdmF0ZU1vZGFsID0gKG1vZGFsKSA9PiB7XG4gICAgY29uc3QgaW5kZXggPSBtb2RhbFN0YWNrLmZpbmRJbmRleCgoZW50cnkpID0+IGVudHJ5Lm1vZGFsID09PSBtb2RhbCk7XG4gICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBbZW50cnldID0gbW9kYWxTdGFjay5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIGVudHJ5LnRyaWdnZXI/LmZvY3VzPy4oKTtcbiAgfTtcbiAgY29uc3QgbW9iaWxlUGFuZWxPdmVybGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbW9iaWxlLXBhbmVscy1vdmVybGF5XScpO1xuICBjb25zdCBtb2JpbGVQYW5lbExheWVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbW9iaWxlLXBhbmVscy1sYXllcl0nKTtcbiAgY29uc3QgbW9iaWxlUGFuZWxzID0ge1xuICAgIGxlZnQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1vYmlsZS1wYW5lbD1cImxlZnRcIl0nKSxcbiAgICByaWdodDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbW9iaWxlLXBhbmVsPVwicmlnaHRcIl0nKSxcbiAgfTtcbiAgbGV0IG1vYmlsZVBhbmVsTGF5ZXJQbGFjZWhvbGRlciA9IG51bGw7XG4gIGlmIChtb2JpbGVQYW5lbExheWVyPy5wYXJlbnRFbGVtZW50KSB7XG4gICAgbW9iaWxlUGFuZWxMYXllclBsYWNlaG9sZGVyID0gZG9jdW1lbnQuY3JlYXRlQ29tbWVudCgnbW9iaWxlLXBhbmVscy1sYXllci1wbGFjZWhvbGRlcicpO1xuICAgIG1vYmlsZVBhbmVsTGF5ZXIucGFyZW50RWxlbWVudC5pbnNlcnRCZWZvcmUobW9iaWxlUGFuZWxMYXllclBsYWNlaG9sZGVyLCBtb2JpbGVQYW5lbExheWVyKTtcbiAgfVxuICBsZXQgcmlnaHRQYW5lbFBsYWNlaG9sZGVyID0gbnVsbDtcbiAgaWYgKG1vYmlsZVBhbmVscy5yaWdodD8ucGFyZW50RWxlbWVudCkge1xuICAgIHJpZ2h0UGFuZWxQbGFjZWhvbGRlciA9IGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoJ21vYmlsZS1wYW5lbC1yaWdodC1wbGFjZWhvbGRlcicpO1xuICAgIG1vYmlsZVBhbmVscy5yaWdodC5wYXJlbnRFbGVtZW50Lmluc2VydEJlZm9yZShyaWdodFBhbmVsUGxhY2Vob2xkZXIsIG1vYmlsZVBhbmVscy5yaWdodCk7XG4gIH1cbiAgY29uc3QgbW9iaWxlUGFuZWxUb2dnbGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtbW9iaWxlLXBhbmVsLXRvZ2dsZV0nKTtcbiAgY29uc3QgbW9iaWxlUGFuZWxDbG9zZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1tb2JpbGUtcGFuZWwtY2xvc2VdJyk7XG4gIGNvbnN0IG1vYmlsZVBhbmVsVHJpZ2dlcnMgPSB7IGxlZnQ6IG51bGwsIHJpZ2h0OiBudWxsIH07XG4gIGxldCBhY3RpdmVNb2JpbGVQYW5lbCA9IG51bGw7XG4gIGNvbnN0IGlzRGVza3RvcFZpZXdwb3J0ID0gKCkgPT4gd2luZG93Lm1hdGNoTWVkaWEoJyhtaW4td2lkdGg6IDEwMjRweCknKS5tYXRjaGVzO1xuICBjb25zdCBlbnN1cmVNb2JpbGVQYW5lbExheWVyUGxhY2VtZW50ID0gKCkgPT4ge1xuICAgIGlmICghbW9iaWxlUGFuZWxMYXllciB8fCAhbW9iaWxlUGFuZWxMYXllclBsYWNlaG9sZGVyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChpc0Rlc2t0b3BWaWV3cG9ydCgpKSB7XG4gICAgICBjb25zdCB0YXJnZXRQYXJlbnQgPSBtb2JpbGVQYW5lbExheWVyUGxhY2Vob2xkZXIucGFyZW50RWxlbWVudDtcbiAgICAgIGlmICghdGFyZ2V0UGFyZW50KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChtb2JpbGVQYW5lbExheWVyLnBhcmVudEVsZW1lbnQgIT09IHRhcmdldFBhcmVudCkge1xuICAgICAgICB0YXJnZXRQYXJlbnQuaW5zZXJ0QmVmb3JlKG1vYmlsZVBhbmVsTGF5ZXIsIG1vYmlsZVBhbmVsTGF5ZXJQbGFjZWhvbGRlci5uZXh0U2libGluZyk7XG4gICAgICB9IGVsc2UgaWYgKG1vYmlsZVBhbmVsTGF5ZXJQbGFjZWhvbGRlci5uZXh0U2libGluZyAhPT0gbW9iaWxlUGFuZWxMYXllcikge1xuICAgICAgICB0YXJnZXRQYXJlbnQuaW5zZXJ0QmVmb3JlKG1vYmlsZVBhbmVsTGF5ZXIsIG1vYmlsZVBhbmVsTGF5ZXJQbGFjZWhvbGRlci5uZXh0U2libGluZyk7XG4gICAgICB9XG4gICAgICBtb2JpbGVQYW5lbExheWVyLmRhdGFzZXQubW9iaWxlUGFuZWxQbGFjZW1lbnQgPSAnc2lkZWJhcic7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChtb2JpbGVQYW5lbExheWVyLnBhcmVudEVsZW1lbnQgIT09IGRvY3VtZW50LmJvZHkpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobW9iaWxlUGFuZWxMYXllcik7XG4gICAgICBtb2JpbGVQYW5lbExheWVyLmRhdGFzZXQubW9iaWxlUGFuZWxQbGFjZW1lbnQgPSAnb3ZlcmxheSc7XG4gICAgfVxuICB9O1xuICBjb25zdCBlbnN1cmVSaWdodFBhbmVsUGxhY2VtZW50ID0gKCkgPT4ge1xuICAgIGNvbnN0IHBhbmVsID0gbW9iaWxlUGFuZWxzLnJpZ2h0O1xuICAgIGlmICghcGFuZWwgfHwgIXJpZ2h0UGFuZWxQbGFjZWhvbGRlcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoaXNEZXNrdG9wVmlld3BvcnQoKSkge1xuICAgICAgY29uc3QgdGFyZ2V0UGFyZW50ID0gcmlnaHRQYW5lbFBsYWNlaG9sZGVyLnBhcmVudEVsZW1lbnQ7XG4gICAgICBpZiAoIXRhcmdldFBhcmVudCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAocGFuZWwucGFyZW50RWxlbWVudCAhPT0gdGFyZ2V0UGFyZW50KSB7XG4gICAgICAgIHRhcmdldFBhcmVudC5pbnNlcnRCZWZvcmUocGFuZWwsIHJpZ2h0UGFuZWxQbGFjZWhvbGRlci5uZXh0U2libGluZyk7XG4gICAgICB9IGVsc2UgaWYgKHJpZ2h0UGFuZWxQbGFjZWhvbGRlci5uZXh0U2libGluZyAhPT0gcGFuZWwpIHtcbiAgICAgICAgdGFyZ2V0UGFyZW50Lmluc2VydEJlZm9yZShwYW5lbCwgcmlnaHRQYW5lbFBsYWNlaG9sZGVyLm5leHRTaWJsaW5nKTtcbiAgICAgIH1cbiAgICAgIHBhbmVsLmRhdGFzZXQubW9iaWxlUGFuZWxQbGFjZW1lbnQgPSAnc2lkZWJhcic7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChtb2JpbGVQYW5lbExheWVyKSB7XG4gICAgICBjb25zdCBsZWZ0UGFuZWwgPSBtb2JpbGVQYW5lbHMubGVmdDtcbiAgICAgIGlmIChsZWZ0UGFuZWwgJiYgbGVmdFBhbmVsLnBhcmVudEVsZW1lbnQgPT09IG1vYmlsZVBhbmVsTGF5ZXIpIHtcbiAgICAgICAgaWYgKHBhbmVsLnBhcmVudEVsZW1lbnQgIT09IG1vYmlsZVBhbmVsTGF5ZXIgfHwgcGFuZWwucHJldmlvdXNTaWJsaW5nICE9PSBsZWZ0UGFuZWwpIHtcbiAgICAgICAgICBtb2JpbGVQYW5lbExheWVyLmluc2VydEJlZm9yZShwYW5lbCwgbGVmdFBhbmVsLm5leHRTaWJsaW5nKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChwYW5lbC5wYXJlbnRFbGVtZW50ICE9PSBtb2JpbGVQYW5lbExheWVyKSB7XG4gICAgICAgIG1vYmlsZVBhbmVsTGF5ZXIuYXBwZW5kQ2hpbGQocGFuZWwpO1xuICAgICAgfVxuICAgICAgcGFuZWwuZGF0YXNldC5tb2JpbGVQYW5lbFBsYWNlbWVudCA9ICdvdmVybGF5JztcbiAgICB9IGVsc2UgaWYgKHBhbmVsLnBhcmVudEVsZW1lbnQgIT09IGRvY3VtZW50LmJvZHkpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQocGFuZWwpO1xuICAgICAgcGFuZWwuZGF0YXNldC5tb2JpbGVQYW5lbFBsYWNlbWVudCA9ICdvdmVybGF5JztcbiAgICB9XG4gIH07XG4gIGNvbnN0IGVuc3VyZU1vYmlsZVBhbmVsUGxhY2VtZW50ID0gKCkgPT4ge1xuICAgIGVuc3VyZU1vYmlsZVBhbmVsTGF5ZXJQbGFjZW1lbnQoKTtcbiAgICBlbnN1cmVSaWdodFBhbmVsUGxhY2VtZW50KCk7XG4gIH07XG4gIGVuc3VyZU1vYmlsZVBhbmVsUGxhY2VtZW50KCk7XG4gIGNvbnN0IHBhbmVsRGVmYXVsdFogPSB7fTtcbiAgT2JqZWN0LmVudHJpZXMobW9iaWxlUGFuZWxzKS5mb3JFYWNoKChbc2lkZSwgcGFuZWxdKSA9PiB7XG4gICAgaWYgKCFwYW5lbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBjb21wdXRlZFogPSBOdW1iZXIod2luZG93LmdldENvbXB1dGVkU3R5bGUocGFuZWwpLnpJbmRleCkgfHwgMDtcbiAgICBwYW5lbERlZmF1bHRaW3NpZGVdID0gY29tcHV0ZWRaO1xuICB9KTtcbiAgY29uc3QgbWF4RGVmYXVsdFogPVxuICAgIE9iamVjdC52YWx1ZXMocGFuZWxEZWZhdWx0WikucmVkdWNlKChtYXgsIHZhbHVlKSA9PiBNYXRoLm1heChtYXgsIHZhbHVlIHx8IDApLCAwKSB8fCAxNTA7XG4gIGNvbnN0IGFjdGl2ZVBhbmVsWiA9IG1heERlZmF1bHRaICsgNTtcbiAgY29uc3Qgc2V0UGFuZWxaU3RhdGUgPSAoc2lkZSwgaXNBY3RpdmUpID0+IHtcbiAgICBjb25zdCBwYW5lbCA9IG1vYmlsZVBhbmVsc1tzaWRlXTtcbiAgICBpZiAoIXBhbmVsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChpc0Rlc2t0b3BWaWV3cG9ydCgpKSB7XG4gICAgICBwYW5lbC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnei1pbmRleCcpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoaXNBY3RpdmUpIHtcbiAgICAgIHBhbmVsLnN0eWxlLnpJbmRleCA9IFN0cmluZyhhY3RpdmVQYW5lbFopO1xuICAgIH0gZWxzZSBpZiAocGFuZWxEZWZhdWx0WltzaWRlXSkge1xuICAgICAgcGFuZWwuc3R5bGUuekluZGV4ID0gU3RyaW5nKHBhbmVsRGVmYXVsdFpbc2lkZV0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBwYW5lbC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnei1pbmRleCcpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgYXBwbHlQYW5lbENsYXNzZXMgPSAocGFuZWwsIGNsYXNzZXMsIG1ldGhvZCkgPT4ge1xuICAgIGlmICghcGFuZWwgfHwgIWNsYXNzZXMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY2xhc3Nlc1xuICAgICAgLnNwbGl0KCcgJylcbiAgICAgIC5tYXAoKGNscykgPT4gY2xzLnRyaW0oKSlcbiAgICAgIC5maWx0ZXIoQm9vbGVhbilcbiAgICAgIC5mb3JFYWNoKChjbHMpID0+IHBhbmVsLmNsYXNzTGlzdFttZXRob2RdKGNscykpO1xuICB9O1xuICBjb25zdCBzZXRQYW5lbEhpZGRlblN0YXRlID0gKHBhbmVsLCBoaWRkZW4pID0+IHtcbiAgICBpZiAoIXBhbmVsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGhpZGRlbkNsYXNzZXMgPSBwYW5lbC5kYXRhc2V0Lm1vYmlsZVBhbmVsSGlkZGVuIHx8ICcnO1xuICAgIGNvbnN0IHZpc2libGVDbGFzc2VzID0gcGFuZWwuZGF0YXNldC5tb2JpbGVQYW5lbFZpc2libGUgfHwgJ3RyYW5zbGF0ZS14LTAnO1xuICAgIGlmIChoaWRkZW4pIHtcbiAgICAgIGFwcGx5UGFuZWxDbGFzc2VzKHBhbmVsLCB2aXNpYmxlQ2xhc3NlcywgJ3JlbW92ZScpO1xuICAgICAgYXBwbHlQYW5lbENsYXNzZXMocGFuZWwsIGhpZGRlbkNsYXNzZXMsICdhZGQnKTtcbiAgICAgIHBhbmVsLmNsYXNzTGlzdC5hZGQoJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICAgIHBhbmVsLmNsYXNzTGlzdC5yZW1vdmUoJ3BvaW50ZXItZXZlbnRzLWF1dG8nKTtcbiAgICAgIHBhbmVsLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuICAgICAgcGFuZWwuZGF0YXNldC5tb2JpbGVQYW5lbE9wZW4gPSAnZmFsc2UnO1xuICAgIH0gZWxzZSB7XG4gICAgICBhcHBseVBhbmVsQ2xhc3NlcyhwYW5lbCwgaGlkZGVuQ2xhc3NlcywgJ3JlbW92ZScpO1xuICAgICAgYXBwbHlQYW5lbENsYXNzZXMocGFuZWwsIHZpc2libGVDbGFzc2VzLCAnYWRkJyk7XG4gICAgICBwYW5lbC5jbGFzc0xpc3QucmVtb3ZlKCdwb2ludGVyLWV2ZW50cy1ub25lJyk7XG4gICAgICBwYW5lbC5jbGFzc0xpc3QuYWRkKCdwb2ludGVyLWV2ZW50cy1hdXRvJyk7XG4gICAgICBwYW5lbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ2ZhbHNlJyk7XG4gICAgICBwYW5lbC5kYXRhc2V0Lm1vYmlsZVBhbmVsT3BlbiA9ICd0cnVlJztcbiAgICB9XG4gIH07XG4gIGNvbnN0IGNsb3NlTW9iaWxlUGFuZWwgPSAoc2lkZSA9IGFjdGl2ZU1vYmlsZVBhbmVsKSA9PiB7XG4gICAgaWYgKCFzaWRlIHx8IGlzRGVza3RvcFZpZXdwb3J0KCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcGFuZWwgPSBtb2JpbGVQYW5lbHNbc2lkZV07XG4gICAgaWYgKCFwYW5lbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzZXRQYW5lbFpTdGF0ZShzaWRlLCBmYWxzZSk7XG4gICAgc2V0UGFuZWxIaWRkZW5TdGF0ZShwYW5lbCwgdHJ1ZSk7XG4gICAgY29uc3QgdHJpZ2dlciA9IG1vYmlsZVBhbmVsVHJpZ2dlcnNbc2lkZV07XG4gICAgaWYgKHRyaWdnZXIpIHtcbiAgICAgIHRyaWdnZXIuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJyk7XG4gICAgfVxuICAgIG1vYmlsZVBhbmVsVHJpZ2dlcnNbc2lkZV0gPSBudWxsO1xuICAgIGlmIChhY3RpdmVNb2JpbGVQYW5lbCA9PT0gc2lkZSkge1xuICAgICAgbW9iaWxlUGFuZWxPdmVybGF5Py5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIG1vYmlsZVBhbmVsT3ZlcmxheT8uY2xhc3NMaXN0LnJlbW92ZSgncG9pbnRlci1ldmVudHMtYXV0bycpO1xuICAgICAgbW9iaWxlUGFuZWxPdmVybGF5Py5jbGFzc0xpc3QuYWRkKCdwb2ludGVyLWV2ZW50cy1ub25lJyk7XG4gICAgICBtb2JpbGVQYW5lbE92ZXJsYXk/LnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuICAgICAgbW9iaWxlUGFuZWxMYXllcj8uY2xhc3NMaXN0LmFkZCgncG9pbnRlci1ldmVudHMtbm9uZScpO1xuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICAgIHRyaWdnZXI/LmZvY3VzPy4oKTtcbiAgICAgIGFjdGl2ZU1vYmlsZVBhbmVsID0gbnVsbDtcbiAgICB9XG4gIH07XG4gIGNvbnN0IG9wZW5Nb2JpbGVQYW5lbCA9IChzaWRlLCB0cmlnZ2VyKSA9PiB7XG4gICAgaWYgKCFzaWRlIHx8IGlzRGVza3RvcFZpZXdwb3J0KCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcGFuZWwgPSBtb2JpbGVQYW5lbHNbc2lkZV07XG4gICAgaWYgKCFwYW5lbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoYWN0aXZlTW9iaWxlUGFuZWwgJiYgYWN0aXZlTW9iaWxlUGFuZWwgIT09IHNpZGUpIHtcbiAgICAgIGNsb3NlTW9iaWxlUGFuZWwoYWN0aXZlTW9iaWxlUGFuZWwpO1xuICAgIH1cbiAgICBzZXRQYW5lbEhpZGRlblN0YXRlKHBhbmVsLCBmYWxzZSk7XG4gICAgc2V0UGFuZWxaU3RhdGUoc2lkZSwgdHJ1ZSk7XG4gICAgYWN0aXZlTW9iaWxlUGFuZWwgPSBzaWRlO1xuICAgIG1vYmlsZVBhbmVsVHJpZ2dlcnNbc2lkZV0gPSB0cmlnZ2VyIHx8IG51bGw7XG4gICAgaWYgKHRyaWdnZXIpIHtcbiAgICAgIHRyaWdnZXIuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ3RydWUnKTtcbiAgICB9XG4gICAgbW9iaWxlUGFuZWxPdmVybGF5Py5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nLCAncG9pbnRlci1ldmVudHMtbm9uZScpO1xuICAgIG1vYmlsZVBhbmVsT3ZlcmxheT8uY2xhc3NMaXN0LmFkZCgncG9pbnRlci1ldmVudHMtYXV0bycpO1xuICAgIG1vYmlsZVBhbmVsT3ZlcmxheT8uc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICdmYWxzZScpO1xuICAgIG1vYmlsZVBhbmVsTGF5ZXI/LmNsYXNzTGlzdC5yZW1vdmUoJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ292ZXJmbG93LWhpZGRlbicpO1xuICAgIGNvbnN0IGZvY3VzVGFyZ2V0ID0gcGFuZWwucXVlcnlTZWxlY3Rvcihmb2N1c2FibGVTZWxlY3Rvcik7XG4gICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgZm9jdXNUYXJnZXQ/LmZvY3VzPy4oKTtcbiAgICB9LCAwKTtcbiAgfTtcbiAgY29uc3Qgc3luY01vYmlsZVBhbmVsc1dpdGhWaWV3cG9ydCA9ICgpID0+IHtcbiAgICBlbnN1cmVNb2JpbGVQYW5lbFBsYWNlbWVudCgpO1xuICAgIGlmIChpc0Rlc2t0b3BWaWV3cG9ydCgpKSB7XG4gICAgICBtb2JpbGVQYW5lbE92ZXJsYXk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgbW9iaWxlUGFuZWxMYXllcj8uY2xhc3NMaXN0LmFkZCgncG9pbnRlci1ldmVudHMtbm9uZScpO1xuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICAgIGFjdGl2ZU1vYmlsZVBhbmVsID0gbnVsbDtcbiAgICAgIE9iamVjdC5rZXlzKG1vYmlsZVBhbmVscykuZm9yRWFjaCgoc2lkZSkgPT4ge1xuICAgICAgICBjb25zdCBwYW5lbCA9IG1vYmlsZVBhbmVsc1tzaWRlXTtcbiAgICAgICAgaWYgKCFwYW5lbCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzZXRQYW5lbFpTdGF0ZShzaWRlLCBmYWxzZSk7XG4gICAgICAgIHBhbmVsLmNsYXNzTGlzdC5yZW1vdmUoJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICAgICAgcGFuZWwuY2xhc3NMaXN0LmFkZCgncG9pbnRlci1ldmVudHMtYXV0bycpO1xuICAgICAgICBwYW5lbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ2ZhbHNlJyk7XG4gICAgICAgIHBhbmVsLmRhdGFzZXQubW9iaWxlUGFuZWxPcGVuID0gJ2ZhbHNlJztcbiAgICAgICAgY29uc3QgdHJpZ2dlciA9IG1vYmlsZVBhbmVsVHJpZ2dlcnNbc2lkZV07XG4gICAgICAgIHRyaWdnZXI/LnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsICdmYWxzZScpO1xuICAgICAgICBtb2JpbGVQYW5lbFRyaWdnZXJzW3NpZGVdID0gbnVsbDtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBPYmplY3QuZW50cmllcyhtb2JpbGVQYW5lbHMpLmZvckVhY2goKFtzaWRlLCBwYW5lbF0pID0+IHtcbiAgICAgICAgaWYgKCFwYW5lbCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFuZWwuZGF0YXNldC5tb2JpbGVQYW5lbE9wZW4gIT09ICd0cnVlJykge1xuICAgICAgICAgIHNldFBhbmVsSGlkZGVuU3RhdGUocGFuZWwsIHRydWUpO1xuICAgICAgICAgIHNldFBhbmVsWlN0YXRlKHNpZGUsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoIWFjdGl2ZU1vYmlsZVBhbmVsKSB7XG4gICAgICAgIG1vYmlsZVBhbmVsT3ZlcmxheT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJywgJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICAgICAgbW9iaWxlUGFuZWxPdmVybGF5Py5jbGFzc0xpc3QucmVtb3ZlKCdwb2ludGVyLWV2ZW50cy1hdXRvJyk7XG4gICAgICAgIG1vYmlsZVBhbmVsT3ZlcmxheT8uc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJyk7XG4gICAgICAgIG1vYmlsZVBhbmVsTGF5ZXI/LmNsYXNzTGlzdC5hZGQoJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIGlmIChtb2JpbGVQYW5lbFRvZ2dsZXMubGVuZ3RoID4gMCkge1xuICAgIG1vYmlsZVBhbmVsVG9nZ2xlcy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICAgIGNvbnN0IHNpZGUgPSBidXR0b24uZGF0YXNldC5tb2JpbGVQYW5lbFRvZ2dsZTtcbiAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgaWYgKGFjdGl2ZU1vYmlsZVBhbmVsID09PSBzaWRlKSB7XG4gICAgICAgICAgY2xvc2VNb2JpbGVQYW5lbChzaWRlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvcGVuTW9iaWxlUGFuZWwoc2lkZSwgYnV0dG9uKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgbW9iaWxlUGFuZWxDbG9zZUJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICBjb25zdCBzaWRlID0gYnV0dG9uLmRhdGFzZXQubW9iaWxlUGFuZWxDbG9zZTtcbiAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGNsb3NlTW9iaWxlUGFuZWwoc2lkZSkpO1xuICAgIH0pO1xuICAgIG1vYmlsZVBhbmVsT3ZlcmxheT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBjbG9zZU1vYmlsZVBhbmVsKCkpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQua2V5ID09PSAnRXNjYXBlJyAmJiBhY3RpdmVNb2JpbGVQYW5lbCAmJiAhaXNEZXNrdG9wVmlld3BvcnQoKSkge1xuICAgICAgICBjbG9zZU1vYmlsZVBhbmVsKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHN5bmNNb2JpbGVQYW5lbHNXaXRoVmlld3BvcnQpO1xuICAgIHN5bmNNb2JpbGVQYW5lbHNXaXRoVmlld3BvcnQoKTtcbiAgfVxuXG4gIGNvbnN0IHNob3dUb2FzdCA9IChtZXNzYWdlKSA9PiB7XG4gICAgaWYgKCFzaXRlVG9hc3QgfHwgIXNpdGVUb2FzdE1lc3NhZ2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2l0ZVRvYXN0TWVzc2FnZS50ZXh0Q29udGVudCA9IG1lc3NhZ2U7XG4gICAgc2l0ZVRvYXN0LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgIGlmICh0b2FzdFRpbWVvdXRJZCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRvYXN0VGltZW91dElkKTtcbiAgICB9XG4gICAgdG9hc3RUaW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHNpdGVUb2FzdC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICB9LCAyNTAwKTtcbiAgfTtcblxuICBmdW5jdGlvbiBlbnN1cmVMZWFkaW5nU2xhc2goc2x1Zykge1xuICAgIGlmICghc2x1Zykge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICBjb25zdCB0cmltbWVkID0gYCR7c2x1Z31gLnRyaW0oKTtcbiAgICBpZiAoIXRyaW1tZWQpIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgY29uc3Qgd2l0aG91dExlYWRpbmcgPSB0cmltbWVkLnJlcGxhY2UoL15cXC8rLywgJycpO1xuICAgIGlmICghd2l0aG91dExlYWRpbmcpIHtcbiAgICAgIHJldHVybiAnLyc7XG4gICAgfVxuICAgIHJldHVybiBgLyR7d2l0aG91dExlYWRpbmd9YDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHN0cmlwTGVhZGluZ1NsYXNoKHNsdWcpIHtcbiAgICBpZiAoIXNsdWcpIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgcmV0dXJuIGAke3NsdWd9YC5yZXBsYWNlKC9eXFwvKy8sICcnKTtcbiAgfVxuXG4gIGNvbnN0IHBlcnNpc3RTaXRlU3RhdGUgPSAoc2x1ZywgbmFtZSkgPT4ge1xuICAgIGNvbnN0IG5vcm1hbGl6ZWRTbHVnID0gc2x1ZyA/IGVuc3VyZUxlYWRpbmdTbGFzaChzbHVnKSA6IG51bGw7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChub3JtYWxpemVkU2x1Zykge1xuICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oQUNUSVZFX1NJVEVfS0VZLCBub3JtYWxpemVkU2x1Zyk7XG4gICAgICAgIHN0b3JlZFNpdGUuc2x1ZyA9IG5vcm1hbGl6ZWRTbHVnO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBuYW1lID09PSAnc3RyaW5nJyAmJiBuYW1lLmxlbmd0aCA+IDApIHtcbiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKEFDVElWRV9TSVRFX05BTUVfS0VZLCBuYW1lKTtcbiAgICAgICAgc3RvcmVkU2l0ZS5uYW1lID0gbmFtZTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIHtcbiAgICAgIHN0b3JlZFNpdGUuc2x1ZyA9IG5vcm1hbGl6ZWRTbHVnIHx8IHN0b3JlZFNpdGUuc2x1ZztcbiAgICAgIHN0b3JlZFNpdGUubmFtZSA9IG5hbWUgfHwgc3RvcmVkU2l0ZS5uYW1lO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCB1cGRhdGVTaXRlTGFiZWxzID0gKG5hbWUpID0+IHtcbiAgICBpZiAoc2l0ZU5hbWVMYWJlbCAmJiBuYW1lKSB7XG4gICAgICBzaXRlTmFtZUxhYmVsLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICB9XG4gICAgaWYgKHdvcmtzcGFjZVNpdGVMYWJlbCAmJiBuYW1lKSB7XG4gICAgICB3b3Jrc3BhY2VTaXRlTGFiZWwudGV4dENvbnRlbnQgPSBuYW1lO1xuICAgIH1cbiAgICBpZiAod29ya3NwYWNlQmFja05hbWUgJiYgbmFtZSkge1xuICAgICAgd29ya3NwYWNlQmFja05hbWUudGV4dENvbnRlbnQgPSBuYW1lO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCB1cGRhdGVXb3Jrc3BhY2VOYXZMaW5rcyA9IChzbHVnKSA9PiB7XG4gICAgd29ya3NwYWNlTmF2TGlua3MuZm9yRWFjaCgobGluaykgPT4ge1xuICAgICAgY29uc3QgdGFiID0gbGluay5kYXRhc2V0LndvcmtzcGFjZVRhYjtcbiAgICAgIGlmICghdGFiKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghc2x1Zykge1xuICAgICAgICBsaW5rLmhyZWYgPSAnIyc7XG4gICAgICAgIGxpbmsuY2xhc3NMaXN0LmFkZCgncG9pbnRlci1ldmVudHMtbm9uZScsICdvcGFjaXR5LTUwJywgJ3RleHQtc2xhdGUtNDAwJyk7XG4gICAgICAgIGxpbmsuc2V0QXR0cmlidXRlKCdhcmlhLWRpc2FibGVkJywgJ3RydWUnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3Qgc2x1Z1BhdGggPSBlbmNvZGVVUklDb21wb25lbnQoc3RyaXBMZWFkaW5nU2xhc2goc2x1ZykpO1xuICAgICAgbGluay5ocmVmID0gYC9hZG1pbi9zaXRlLyR7c2x1Z1BhdGh9LyR7dGFifWA7XG4gICAgICBsaW5rLmNsYXNzTGlzdC5yZW1vdmUoJ3BvaW50ZXItZXZlbnRzLW5vbmUnLCAnb3BhY2l0eS01MCcsICd0ZXh0LXNsYXRlLTQwMCcpO1xuICAgICAgbGluay5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtZGlzYWJsZWQnKTtcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBhcHBseUFjdGl2ZVNpdGUgPSAoc2x1Zywgb3B0aW9ucyA9IHt9KSA9PiB7XG4gICAgaWYgKCFzbHVnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG5vcm1hbGl6ZWRTbHVnID0gZW5zdXJlTGVhZGluZ1NsYXNoKHNsdWcpO1xuICAgIGxldCBhY3RpdmVTaXRlTmFtZSA9XG4gICAgICBvcHRpb25zLnNpdGVOYW1lIHx8IHN0b3JlZFNpdGUubmFtZSB8fCBzaXRlTmFtZUxhYmVsPy5kYXRhc2V0LmRlZmF1bHRTaXRlTmFtZSB8fCAnJztcbiAgICBzaXRlQ2FyZHMuZm9yRWFjaCgoY2FyZCkgPT4ge1xuICAgICAgY29uc3QgY2FyZFNsdWcgPSBlbnN1cmVMZWFkaW5nU2xhc2goY2FyZC5kYXRhc2V0LnNpdGVDYXJkIHx8ICcnKTtcbiAgICAgIGNvbnN0IGlzQWN0aXZlID0gY2FyZFNsdWcgPT09IG5vcm1hbGl6ZWRTbHVnO1xuICAgICAgY29uc3QgYmFkZ2UgPSBjYXJkLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtYWN0aXZlLWJhZGdlXScpO1xuICAgICAgaWYgKGlzQWN0aXZlKSB7XG4gICAgICAgIGNhcmQuY2xhc3NMaXN0LmFkZCgnYm9yZGVyLVsjOUM2QkZGXScsICdyaW5nLTInLCAncmluZy1bIzlDNkJGRl0nLCAnc2hhZG93LW1kJyk7XG4gICAgICAgIGNhcmQuY2xhc3NMaXN0LnJlbW92ZSgnYm9yZGVyLXNsYXRlLTIwMCcpO1xuICAgICAgICBiYWRnZT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIGFjdGl2ZVNpdGVOYW1lID0gY2FyZC5kYXRhc2V0LnNpdGVOYW1lIHx8IGFjdGl2ZVNpdGVOYW1lO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FyZC5jbGFzc0xpc3QucmVtb3ZlKCdib3JkZXItWyM5QzZCRkZdJywgJ3JpbmctMicsICdyaW5nLVsjOUM2QkZGXScsICdzaGFkb3ctbWQnKTtcbiAgICAgICAgY2FyZC5jbGFzc0xpc3QuYWRkKCdib3JkZXItc2xhdGUtMjAwJyk7XG4gICAgICAgIGJhZGdlPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAob3B0aW9ucy5wZXJzaXN0ICE9PSBmYWxzZSkge1xuICAgICAgcGVyc2lzdFNpdGVTdGF0ZShub3JtYWxpemVkU2x1Zywgb3B0aW9ucy5zaXRlTmFtZSB8fCBhY3RpdmVTaXRlTmFtZSk7XG4gICAgfVxuICAgIGNvbnN0IGZpbmFsTmFtZSA9IG9wdGlvbnMuc2l0ZU5hbWUgfHwgYWN0aXZlU2l0ZU5hbWU7XG4gICAgdXBkYXRlU2l0ZUxhYmVscyhmaW5hbE5hbWUpO1xuICAgIHVwZGF0ZVdvcmtzcGFjZU5hdkxpbmtzKG5vcm1hbGl6ZWRTbHVnKTtcbiAgfTtcblxuICBjb25zdCBzZWxlY3RTaXRlID0gYXN5bmMgKHNsdWcsIG5hbWUpID0+IHtcbiAgICBjb25zdCBub3JtYWxpemVkU2x1ZyA9IGVuc3VyZUxlYWRpbmdTbGFzaChzbHVnKTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9zaXRlcy9zZWxlY3QnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBzbHVnOiBub3JtYWxpemVkU2x1ZyB9KSxcbiAgICAgIH0pO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICBzaG93VG9hc3QocGF5bG9hZC5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIHNcdTAwRTlsZWN0aW9ubmVyIGNlIHNpdGUuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICBjb25zdCBmaW5hbFNsdWcgPSBlbnN1cmVMZWFkaW5nU2xhc2gocGF5bG9hZC5zbHVnIHx8IG5vcm1hbGl6ZWRTbHVnKTtcbiAgICAgIGNvbnN0IGZpbmFsTmFtZSA9IHBheWxvYWQubmFtZSB8fCBuYW1lO1xuICAgICAgcGVyc2lzdFNpdGVTdGF0ZShmaW5hbFNsdWcsIGZpbmFsTmFtZSk7XG4gICAgICBhcHBseUFjdGl2ZVNpdGUoZmluYWxTbHVnLCB7IHNpdGVOYW1lOiBmaW5hbE5hbWUsIHBlcnNpc3Q6IGZhbHNlIH0pO1xuICAgICAgY29uc3Qgc2x1Z1BhdGggPSBlbmNvZGVVUklDb21wb25lbnQoc3RyaXBMZWFkaW5nU2xhc2goZmluYWxTbHVnKSk7XG4gICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGAvYWRtaW4vc2l0ZS8ke3NsdWdQYXRofS9kZXNpZ25gO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignW2FkbWluXSBJbXBvc3NpYmxlIGRlIHNcdTAwRTlsZWN0aW9ubmVyIGxlIHNpdGUnLCBlcnIpO1xuICAgICAgc2hvd1RvYXN0KCdFcnJldXIgaW5hdHRlbmR1ZSBsb3JzIGRlIGxhIHNcdTAwRTlsZWN0aW9uLicpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBzeW5jQWN0aXZlU2l0ZUZyb21TZXJ2ZXIgPSBhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvc2l0ZXMvY3VycmVudCcsIHsgY3JlZGVudGlhbHM6ICdzYW1lLW9yaWdpbicgfSk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwNCAmJiB3b3Jrc3BhY2VDb250ZXh0KSB7XG4gICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnL2FkbWluL3NpdGVzJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBzaXRlID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgY29uc3Qgbm9ybWFsaXplZFNsdWcgPSBlbnN1cmVMZWFkaW5nU2xhc2goc2l0ZS5zbHVnKTtcbiAgICAgIHBlcnNpc3RTaXRlU3RhdGUobm9ybWFsaXplZFNsdWcsIHNpdGUubmFtZSk7XG4gICAgICBhcHBseUFjdGl2ZVNpdGUobm9ybWFsaXplZFNsdWcsIHsgc2l0ZU5hbWU6IHNpdGUubmFtZSwgcGVyc2lzdDogZmFsc2UgfSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ1thZG1pbl0gSW1wb3NzaWJsZSBkZSByXHUwMEU5Y3VwXHUwMEU5cmVyIGxlIHNpdGUgYWN0aWYnLCBlcnIpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoaWdobGlnaHRGcm9tU3RvcmFnZU9yRGVmYXVsdCA9ICgpID0+IHtcbiAgICBpZiAoc3RvcmVkU2l0ZS5zbHVnKSB7XG4gICAgICBhcHBseUFjdGl2ZVNpdGUoc3RvcmVkU2l0ZS5zbHVnLCB7IHNpdGVOYW1lOiBzdG9yZWRTaXRlLm5hbWUsIHBlcnNpc3Q6IGZhbHNlIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBkZWZhdWx0Q2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtY2FyZF1bZGF0YS1zaXRlLWRlZmF1bHQ9XCJ0cnVlXCJdJykgfHwgc2l0ZUNhcmRzWzBdO1xuICAgIGlmIChkZWZhdWx0Q2FyZCkge1xuICAgICAgYXBwbHlBY3RpdmVTaXRlKGRlZmF1bHRDYXJkLmRhdGFzZXQuc2l0ZUNhcmQsIHtcbiAgICAgICAgc2l0ZU5hbWU6IGRlZmF1bHRDYXJkLmRhdGFzZXQuc2l0ZU5hbWUgfHwgJycsXG4gICAgICAgIHBlcnNpc3Q6IGZhbHNlLFxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIGhpZ2hsaWdodEZyb21TdG9yYWdlT3JEZWZhdWx0KCk7XG4gIHN5bmNBY3RpdmVTaXRlRnJvbVNlcnZlcigpO1xuICBpZiAod29ya3NwYWNlQ29udGV4dCkge1xuICAgIHVwZGF0ZVdvcmtzcGFjZU5hdkxpbmtzKHdvcmtzcGFjZUNvbnRleHQuc2x1Z1ZhbHVlKTtcbiAgfSBlbHNlIGlmIChzdG9yZWRTaXRlLnNsdWcpIHtcbiAgICB1cGRhdGVXb3Jrc3BhY2VOYXZMaW5rcyhzdG9yZWRTaXRlLnNsdWcpO1xuICB9XG5cbiAgc2l0ZVNlbGVjdEJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgaWYgKGJ1dHRvbi5kaXNhYmxlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBzbHVnID0gYnV0dG9uLmRhdGFzZXQuc2l0ZVNlbGVjdDtcbiAgICAgIGNvbnN0IG5hbWUgPSBidXR0b24uZGF0YXNldC5zaXRlU2VsZWN0TmFtZSB8fCAnQ2Ugc2l0ZSc7XG4gICAgICBpZiAoIXNsdWcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIHNlbGVjdFNpdGUoc2x1ZywgbmFtZSkuZmluYWxseSgoKSA9PiB7XG4gICAgICAgIGJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGNvbnN0IHdvcmtzcGFjZVNsdWdpZnkgPSAodmFsdWUpID0+XG4gICAgKHZhbHVlIHx8ICcnKVxuICAgICAgLm5vcm1hbGl6ZSgnTkZEJylcbiAgICAgIC5yZXBsYWNlKC9bXFx1MDMwMC1cXHUwMzZmXS9nLCAnJylcbiAgICAgIC50b0xvd2VyQ2FzZSgpXG4gICAgICAucmVwbGFjZSgvW15hLXowLTldKy9nLCAnLScpXG4gICAgICAucmVwbGFjZSgvXi0rfC0rJC9nLCAnJyk7XG5cbiAgY29uc3Qgbm9ybWFsaXplU2x1Z1ZhbHVlID0gKHZhbHVlKSA9PiB7XG4gICAgY29uc3QgYmFzZSA9IHdvcmtzcGFjZVNsdWdpZnkodmFsdWUgfHwgJycpO1xuICAgIGlmICghYmFzZSkge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICByZXR1cm4gYC8ke2Jhc2V9YDtcbiAgfTtcblxuICBjb25zdCBvcGVuU2l0ZU1vZGFsID0gKCkgPT4ge1xuICAgIGlmICghc2l0ZU1vZGFsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHNpdGVNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICBzaXRlTW9kYWwuY2xhc3NMaXN0LmFkZCgnZmxleCcpO1xuICAgIHNsdWdNYW51YWxseUVkaXRlZCA9IGZhbHNlO1xuICAgIHNpdGVGb3JtPy5yZXNldCgpO1xuICAgIHNpdGVTbHVnRXJyb3IgJiYgKHNpdGVTbHVnRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgc2l0ZU1vZGFsRXJyb3IgJiYgKHNpdGVNb2RhbEVycm9yLnRleHRDb250ZW50ID0gJycpO1xuICAgIGlmIChzaXRlU2x1Z0lucHV0ICYmIHNpdGVOYW1lSW5wdXQpIHtcbiAgICAgIHNpdGVTbHVnSW5wdXQudmFsdWUgPSB3b3Jrc3BhY2VTbHVnaWZ5KHNpdGVOYW1lSW5wdXQudmFsdWUpO1xuICAgIH1cbiAgICBhY3RpdmF0ZU1vZGFsKHNpdGVNb2RhbCwgY2xvc2VTaXRlTW9kYWwpO1xuICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHNpdGVOYW1lSW5wdXQ/LmZvY3VzKCk7XG4gICAgfSwgMCk7XG4gIH07XG5cbiAgY29uc3QgY2xvc2VTaXRlTW9kYWwgPSAoKSA9PiB7XG4gICAgaWYgKCFzaXRlTW9kYWwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2l0ZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgIHNpdGVNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdmbGV4Jyk7XG4gICAgc2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gICAgc2l0ZUZvcm0/LnJlc2V0KCk7XG4gICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICBzaXRlTW9kYWxFcnJvciAmJiAoc2l0ZU1vZGFsRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgZGVhY3RpdmF0ZU1vZGFsKHNpdGVNb2RhbCk7XG4gIH07XG5cbiAgc2l0ZUNyZWF0ZUJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlblNpdGVNb2RhbCk7XG4gIH0pO1xuXG4gIHNpdGVNb2RhbENhbmNlbEJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VTaXRlTW9kYWwpO1xuICB9KTtcblxuICBzaXRlTW9kYWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gc2l0ZU1vZGFsKSB7XG4gICAgICBjbG9zZVNpdGVNb2RhbCgpO1xuICAgIH1cbiAgfSk7XG5cbiAgc2l0ZU5hbWVJbnB1dD8uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgaWYgKCFzaXRlU2x1Z0lucHV0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghc2x1Z01hbnVhbGx5RWRpdGVkIHx8IHNpdGVTbHVnSW5wdXQudmFsdWUudHJpbSgpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgc2l0ZVNsdWdJbnB1dC52YWx1ZSA9IHdvcmtzcGFjZVNsdWdpZnkoc2l0ZU5hbWVJbnB1dC52YWx1ZSk7XG4gICAgfVxuICAgIC8vIENsZWFyIGVycm9ycyB3aGVuIHVzZXIgdHlwZXNcbiAgICBzaXRlU2x1Z0Vycm9yICYmIChzaXRlU2x1Z0Vycm9yLnRleHRDb250ZW50ID0gJycpO1xuICAgIHNpdGVNb2RhbEVycm9yICYmIChzaXRlTW9kYWxFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgfSk7XG5cbiAgc2l0ZVNsdWdJbnB1dD8uYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCAoKSA9PiB7XG4gICAgLy8gQXV0by1maWxsIHNsdWcgZnJvbSBuYW1lIGlmIGVtcHR5IHdoZW4gdXNlciBmb2N1c2VzIHRoZSBzbHVnIGZpZWxkXG4gICAgY29uc3Qgc2x1Z1ZhbCA9IHNpdGVTbHVnSW5wdXQ/LnZhbHVlIHx8ICcnO1xuICAgIGNvbnN0IG5hbWVWYWwgPSBzaXRlTmFtZUlucHV0Py52YWx1ZSB8fCAnJztcbiAgICBpZiAoIXNsdWdWYWwudHJpbSgpICYmIG5hbWVWYWwudHJpbSgpKSB7XG4gICAgICBzaXRlU2x1Z0lucHV0LnZhbHVlID0gd29ya3NwYWNlU2x1Z2lmeShuYW1lVmFsKTtcbiAgICB9XG4gIH0pO1xuXG4gIHNpdGVTbHVnSW5wdXQ/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgIHNsdWdNYW51YWxseUVkaXRlZCA9IHRydWU7XG4gICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICBzaXRlTW9kYWxFcnJvciAmJiAoc2l0ZU1vZGFsRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gIH0pO1xuXG4gIGNvbnN0IGdldFNsdWdTZXQgPSAoKSA9PlxuICAgIG5ldyBTZXQoQXJyYXkuZnJvbShzaXRlQ2FyZHMpLm1hcCgoY2FyZCkgPT4gZW5zdXJlTGVhZGluZ1NsYXNoKGNhcmQuZGF0YXNldC5zaXRlQ2FyZCB8fCAnJykpKTtcblxuICBzaXRlRm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zb2xlLmxvZygnW2FkbWluXSBGb3JtIHN1Ym1pdCAtIHNpdGVOYW1lSW5wdXQ6Jywgc2l0ZU5hbWVJbnB1dCwgJ3NpdGVTbHVnSW5wdXQ6Jywgc2l0ZVNsdWdJbnB1dCk7XG4gICAgXG4gICAgaWYgKCFzaXRlTmFtZUlucHV0IHx8ICFzaXRlU2x1Z0lucHV0KSB7XG4gICAgICBjb25zb2xlLmxvZygnW2FkbWluXSBNaXNzaW5nIGlucHV0cywgYWJvcnRpbmcnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgbmFtZVZhbHVlID0gKHNpdGVOYW1lSW5wdXQudmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICBsZXQgc2x1Z1ZhbHVlID0gKHNpdGVTbHVnSW5wdXQudmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICBcbiAgICBjb25zb2xlLmxvZygnW2FkbWluXSBuYW1lVmFsdWU6JywgbmFtZVZhbHVlLCAnc2x1Z1ZhbHVlOicsIHNsdWdWYWx1ZSk7XG4gICAgXG4gICAgLy8gQXV0by1nZW5lcmF0ZSBzbHVnIGZyb20gbmFtZSBpZiBlbXB0eVxuICAgIGlmICghc2x1Z1ZhbHVlICYmIG5hbWVWYWx1ZSkge1xuICAgICAgc2x1Z1ZhbHVlID0gd29ya3NwYWNlU2x1Z2lmeShuYW1lVmFsdWUpO1xuICAgICAgc2l0ZVNsdWdJbnB1dC52YWx1ZSA9IHNsdWdWYWx1ZTtcbiAgICAgIGNvbnNvbGUubG9nKCdbYWRtaW5dIEF1dG8tZ2VuZXJhdGVkIHNsdWc6Jywgc2x1Z1ZhbHVlKTtcbiAgICB9XG4gICAgXG4gICAgY29uc3Qgbm9ybWFsaXplZFNsdWcgPSBub3JtYWxpemVTbHVnVmFsdWUoc2x1Z1ZhbHVlKTtcbiAgICBjb25zb2xlLmxvZygnW2FkbWluXSBub3JtYWxpemVkU2x1ZzonLCBub3JtYWxpemVkU2x1Zyk7XG4gICAgXG4gICAgLy8gVmFsaWRhdGUgbmFtZVxuICAgIGlmICghbmFtZVZhbHVlKSB7XG4gICAgICBjb25zb2xlLmxvZygnW2FkbWluXSBOYW1lIHZhbGlkYXRpb24gZmFpbGVkJyk7XG4gICAgICBzaXRlTW9kYWxFcnJvciAmJiAoc2l0ZU1vZGFsRXJyb3IudGV4dENvbnRlbnQgPSAnTGUgbm9tIGR1IHNpdGUgZXN0IHJlcXVpcy4nKTtcbiAgICAgIHNpdGVOYW1lSW5wdXQuZm9jdXMoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgLy8gVmFsaWRhdGUgc2x1Z1xuICAgIGlmICghbm9ybWFsaXplZFNsdWcpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdbYWRtaW5dIFNsdWcgdmFsaWRhdGlvbiBmYWlsZWQnKTtcbiAgICAgIHNpdGVTbHVnRXJyb3IgJiYgKHNpdGVTbHVnRXJyb3IudGV4dENvbnRlbnQgPSAnTGUgc2x1ZyBuZSBwZXV0IHBhcyBcdTAwRUF0cmUgdmlkZSBvdSBjb250ZW5pciB1bmlxdWVtZW50IGRlcyBjYXJhY3RcdTAwRThyZXMgc3BcdTAwRTljaWF1eC4nKTtcbiAgICAgIHNpdGVTbHVnSW5wdXQuZm9jdXMoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgZXhpc3RpbmdTbHVncyA9IGdldFNsdWdTZXQoKTtcbiAgICBpZiAoZXhpc3RpbmdTbHVncy5oYXMobm9ybWFsaXplZFNsdWcpKSB7XG4gICAgICBzaXRlU2x1Z0Vycm9yICYmIChzaXRlU2x1Z0Vycm9yLnRleHRDb250ZW50ID0gJ0NlIHNsdWcgZXN0IGRcdTAwRTlqXHUwMEUwIHV0aWxpc1x1MDBFOS4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICBzaXRlTW9kYWxFcnJvciAmJiAoc2l0ZU1vZGFsRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgaWYgKHNpdGVNb2RhbFN1Ym1pdEJ1dHRvbikge1xuICAgICAgc2l0ZU1vZGFsU3VibWl0QnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIHNpdGVNb2RhbFN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9ICdDclx1MDBFOWF0aW9uLi4uJztcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvc2l0ZXMnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBuYW1lOiBuYW1lVmFsdWUsIHNsdWc6IG5vcm1hbGl6ZWRTbHVnIH0pLFxuICAgICAgfSk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBwYXlsb2FkLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgY3JcdTAwRTllciBjZSBzaXRlLic7XG4gICAgICAgIHNpdGVNb2RhbEVycm9yICYmIChzaXRlTW9kYWxFcnJvci50ZXh0Q29udGVudCA9IG1lc3NhZ2UpO1xuICAgICAgICBpZiAocGF5bG9hZC5maWVsZCA9PT0gJ3NsdWcnKSB7XG4gICAgICAgICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9IG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNyZWF0ZWRTaXRlID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgY29uc3QgZmluYWxTbHVnID0gZW5zdXJlTGVhZGluZ1NsYXNoKGNyZWF0ZWRTaXRlPy5zbHVnIHx8IG5vcm1hbGl6ZWRTbHVnKTtcbiAgICAgIGNvbnN0IGZpbmFsTmFtZSA9IGNyZWF0ZWRTaXRlPy5uYW1lIHx8IG5hbWVWYWx1ZTtcbiAgICAgIHBlcnNpc3RTaXRlU3RhdGUoZmluYWxTbHVnLCBmaW5hbE5hbWUpO1xuICAgICAgY2xvc2VTaXRlTW9kYWwoKTtcbiAgICAgIGNvbnN0IHNsdWdQYXRoID0gZW5jb2RlVVJJQ29tcG9uZW50KHN0cmlwTGVhZGluZ1NsYXNoKGZpbmFsU2x1ZykpO1xuICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBgL2FkbWluL3NpdGUvJHtzbHVnUGF0aH0vZGVzaWduYDtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1thZG1pbl0gSW1wb3NzaWJsZSBkZSBjclx1MDBFOWVyIGxlIHNpdGUnLCBlcnIpO1xuICAgICAgc2l0ZU1vZGFsRXJyb3IgJiYgKHNpdGVNb2RhbEVycm9yLnRleHRDb250ZW50ID0gJ0VycmV1ciBpbmF0dGVuZHVlLiBSXHUwMEU5ZXNzYWllIGRhbnMgdW4gaW5zdGFudC4nKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKHNpdGVNb2RhbFN1Ym1pdEJ1dHRvbikge1xuICAgICAgICBzaXRlTW9kYWxTdWJtaXRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgc2l0ZU1vZGFsU3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gJ0NyXHUwMEU5ZXInO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZlbnQpID0+IHtcbiAgICBpZiAoZXZlbnQua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgaWYgKHNpdGVNb2RhbCAmJiAhc2l0ZU1vZGFsLmNsYXNzTGlzdC5jb250YWlucygnaGlkZGVuJykpIHtcbiAgICAgICAgY2xvc2VTaXRlTW9kYWwoKTtcbiAgICAgIH1cbiAgICAgIGlmICh3b3Jrc3BhY2VCYWNrTW9kYWwgJiYgIXdvcmtzcGFjZUJhY2tNb2RhbC5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpKSB7XG4gICAgICAgIGNsb3NlV29ya3NwYWNlQmFja01vZGFsKCk7XG4gICAgICB9XG4gICAgICBpZiAoYmxvY2tEZWxldGVNb2RhbCAmJiAhYmxvY2tEZWxldGVNb2RhbC5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpKSB7XG4gICAgICAgIGNsb3NlQmxvY2tEZWxldGVNb2RhbCgpO1xuICAgICAgfVxuICAgICAgaWYgKGJsb2NrTGlicmFyeU9wZW4pIHtcbiAgICAgICAgY2xvc2VCbG9ja0xpYnJhcnkoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIGdldFdvcmtzcGFjZUNvbnRleHQoKSB7XG4gICAgY29uc3QgbWF0Y2ggPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUubWF0Y2goL15cXC9hZG1pblxcL3NpdGVcXC8oW14vXSspKD86XFwvKFteL10rKSk/Lyk7XG4gICAgaWYgKCFtYXRjaCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBzbHVnUGFydDogZGVjb2RlVVJJQ29tcG9uZW50KG1hdGNoWzFdKSxcbiAgICAgIHNsdWdWYWx1ZTogZW5zdXJlTGVhZGluZ1NsYXNoKGRlY29kZVVSSUNvbXBvbmVudChtYXRjaFsxXSkpLFxuICAgICAgc2VjdGlvbjogbWF0Y2hbMl0gfHwgJ2Rlc2lnbicsXG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRldGVjdFdvcmtzcGFjZVNlY3Rpb24oKSB7XG4gICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXBhZ2UtbGlzdF0nKSkge1xuICAgICAgcmV0dXJuICdkZXNpZ24nO1xuICAgIH1cbiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29sbGVjdGlvbi1saXN0XScpKSB7XG4gICAgICByZXR1cm4gJ2NvbnRlbnQnO1xuICAgIH1cbiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZ3JpZF0nKSkge1xuICAgICAgcmV0dXJuICdtZWRpYSc7XG4gICAgfVxuICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktZm9ybV0nKSkge1xuICAgICAgcmV0dXJuICdkZXBsb3knO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9wZW5Xb3Jrc3BhY2VCYWNrTW9kYWwoKSB7XG4gICAgaWYgKCF3b3Jrc3BhY2VCYWNrTW9kYWwpIHtcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9hZG1pbi9zaXRlcyc7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHdvcmtzcGFjZUJhY2tNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICB3b3Jrc3BhY2VCYWNrTW9kYWwuY2xhc3NMaXN0LmFkZCgnZmxleCcpO1xuICAgIGFjdGl2YXRlTW9kYWwod29ya3NwYWNlQmFja01vZGFsLCBjbG9zZVdvcmtzcGFjZUJhY2tNb2RhbCk7XG4gIH1cblxuICBmdW5jdGlvbiBjbG9zZVdvcmtzcGFjZUJhY2tNb2RhbCgpIHtcbiAgICBpZiAoIXdvcmtzcGFjZUJhY2tNb2RhbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB3b3Jrc3BhY2VCYWNrTW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgd29ya3NwYWNlQmFja01vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2ZsZXgnKTtcbiAgICBkZWFjdGl2YXRlTW9kYWwod29ya3NwYWNlQmFja01vZGFsKTtcbiAgfVxuXG4gIHdvcmtzcGFjZUJhY2tCdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5Xb3Jrc3BhY2VCYWNrTW9kYWwpO1xuICB9KTtcbiAgd29ya3NwYWNlQmFja0NhbmNlbC5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZVdvcmtzcGFjZUJhY2tNb2RhbCk7XG4gIH0pO1xuICB3b3Jrc3BhY2VCYWNrQ29uZmlybT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgY2xvc2VXb3Jrc3BhY2VCYWNrTW9kYWwoKTtcbiAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvYWRtaW4vc2l0ZXMnO1xuICB9KTtcblxuICBjb25zdCBUUkFOU1BBUkVOVF9QQVRURVJOID1cbiAgICAncmVwZWF0aW5nLWNvbmljLWdyYWRpZW50KCNjY2MgMCUgMjUlLCB3aGl0ZSAwJSA1MCUpIDUwJSAvIDhweCA4cHgnO1xuICBjb25zdCBwYXJzZUNzc0NvbG9yVG9SZ2IgPSAodmFsdWUpID0+IHtcbiAgICBpZiAoIXZhbHVlIHx8IHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpIHJldHVybiBudWxsO1xuICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSB2YWx1ZS50cmltKCkudG9Mb3dlckNhc2UoKTtcbiAgICBpZiAobm9ybWFsaXplZCA9PT0gJ3RyYW5zcGFyZW50JykgcmV0dXJuIG51bGw7XG4gICAgY29uc3QgcmdiTWF0Y2ggPSBub3JtYWxpemVkLm1hdGNoKFxuICAgICAgL15yZ2JcXFxcKFxcXFxzKihcXFxcZHsxLDN9KVxcXFxzKixcXFxccyooXFxcXGR7MSwzfSlcXFxccyosXFxcXHMqKFxcXFxkezEsM30pXFxcXHMqXFxcXCkkLyxcbiAgICApO1xuICAgIGlmIChyZ2JNYXRjaCkge1xuICAgICAgcmV0dXJuIFtcbiAgICAgICAgTWF0aC5taW4oMjU1LCBNYXRoLm1heCgwLCBOdW1iZXIocmdiTWF0Y2hbMV0pKSksXG4gICAgICAgIE1hdGgubWluKDI1NSwgTWF0aC5tYXgoMCwgTnVtYmVyKHJnYk1hdGNoWzJdKSkpLFxuICAgICAgICBNYXRoLm1pbigyNTUsIE1hdGgubWF4KDAsIE51bWJlcihyZ2JNYXRjaFszXSkpKSxcbiAgICAgIF07XG4gICAgfVxuICAgIGNvbnN0IGhleE1hdGNoID0gbm9ybWFsaXplZC5tYXRjaCgvXiMoW2EtZjAtOV17M318W2EtZjAtOV17Nn0pJC8pO1xuICAgIGlmIChoZXhNYXRjaCkge1xuICAgICAgY29uc3QgaGV4ID0gaGV4TWF0Y2hbMV07XG4gICAgICBjb25zdCBub3JtYWxpemVkSGV4ID1cbiAgICAgICAgaGV4Lmxlbmd0aCA9PT0gMyA/IGhleC5zcGxpdCgnJykubWFwKChjKSA9PiBgJHtjfSR7Y31gKS5qb2luKCcnKSA6IGhleDtcbiAgICAgIGNvbnN0IHIgPSBwYXJzZUludChub3JtYWxpemVkSGV4LnNsaWNlKDAsIDIpLCAxNik7XG4gICAgICBjb25zdCBnID0gcGFyc2VJbnQobm9ybWFsaXplZEhleC5zbGljZSgyLCA0KSwgMTYpO1xuICAgICAgY29uc3QgYiA9IHBhcnNlSW50KG5vcm1hbGl6ZWRIZXguc2xpY2UoNCwgNiksIDE2KTtcbiAgICAgIHJldHVybiBbciwgZywgYl07XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9O1xuICBjb25zdCBnZXRSZWFkYWJsZVRleHRDb2xvciA9IChiYWNrZ3JvdW5kQ29sb3IpID0+IHtcbiAgICBjb25zdCByZ2IgPSBwYXJzZUNzc0NvbG9yVG9SZ2IoYmFja2dyb3VuZENvbG9yKTtcbiAgICBpZiAoIXJnYikgcmV0dXJuICcjMGYxNzJhJztcbiAgICBjb25zdCBbciwgZywgYl0gPSByZ2I7XG4gICAgY29uc3QgbHVtaW5hbmNlID0gKDAuMjEyNiAqIHIgKyAwLjcxNTIgKiBnICsgMC4wNzIyICogYikgLyAyNTU7XG4gICAgcmV0dXJuIGx1bWluYW5jZSA+IDAuNjIgPyAnIzBmMTcyYScgOiAnI2ZmZmZmZic7XG4gIH07XG4gIGNvbnN0IHN0eWxlU2VsZWN0T3B0aW9ucyA9IChzZWxlY3QpID0+IHtcbiAgICBpZiAoIXNlbGVjdCkgcmV0dXJuO1xuICAgIEFycmF5LmZyb20oc2VsZWN0Lm9wdGlvbnMpLmZvckVhY2goKG9wdGlvbikgPT4ge1xuICAgICAgY29uc3Qgb3B0aW9uQ29sb3IgPSBvcHRpb24uZGF0YXNldD8uY29sb3I7XG4gICAgICBpZiAoIW9wdGlvbkNvbG9yKSByZXR1cm47XG4gICAgICBpZiAob3B0aW9uQ29sb3IgPT09ICd0cmFuc3BhcmVudCcpIHtcbiAgICAgICAgb3B0aW9uLnN0eWxlLmJhY2tncm91bmQgPSBUUkFOU1BBUkVOVF9QQVRURVJOO1xuICAgICAgICBvcHRpb24uc3R5bGUuY29sb3IgPSAnIzQ3NTU2OSc7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIG9wdGlvbi5zdHlsZS5iYWNrZ3JvdW5kID0gb3B0aW9uQ29sb3I7XG4gICAgICBvcHRpb24uc3R5bGUuY29sb3IgPSBnZXRSZWFkYWJsZVRleHRDb2xvcihvcHRpb25Db2xvcik7XG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3QgYWN0aXZlU2VjdGlvbiA9IHdvcmtzcGFjZUNvbnRleHQ/LnNlY3Rpb24gfHwgZGV0ZWN0V29ya3NwYWNlU2VjdGlvbigpO1xuXG4gIGlmIChhY3RpdmVTZWN0aW9uID09PSAnZGVzaWduJykge1xuICAgIGluaXREZXNpZ25Xb3Jrc3BhY2UoKTtcbiAgfVxuICBpZiAoYWN0aXZlU2VjdGlvbiA9PT0gJ2NvbnRlbnQnKSB7XG4gICAgaW5pdENvbnRlbnRXb3Jrc3BhY2UoKTtcbiAgfVxuICBpZiAoYWN0aXZlU2VjdGlvbiA9PT0gJ21lZGlhJykge1xuICAgIGluaXRNZWRpYVdvcmtzcGFjZSgpO1xuICB9XG4gIGlmIChhY3RpdmVTZWN0aW9uID09PSAnZGVwbG95Jykge1xuICAgIGluaXREZXBsb3lXb3Jrc3BhY2UoKTtcbiAgfVxuICBpZiAoYWN0aXZlU2VjdGlvbiA9PT0gJ3NldHRpbmdzJykge1xuICAgIGluaXRTZXR0aW5nc1dvcmtzcGFjZSgpO1xuICB9XG5cbiAgaWYgKHdvcmtzcGFjZUNvbnRleHQgJiYgc3RvcmVkU2l0ZS5uYW1lKSB7XG4gICAgdXBkYXRlU2l0ZUxhYmVscyhzdG9yZWRTaXRlLm5hbWUpO1xuICB9XG5cbiAgZnVuY3Rpb24gaW5pdERlc2lnbldvcmtzcGFjZSgpIHtcbiAgICBjb25zdCBwYWdlTGlzdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1wYWdlLWxpc3RdJyk7XG4gICAgaWYgKHBhZ2VMaXN0cy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgYWN0aXZlVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hY3RpdmUtcGFnZS10aXRsZV0nKTtcbiAgICBjb25zdCBhY3RpdmVTbHVnID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWN0aXZlLXBhZ2Utc2x1Z10nKTtcbiAgICBjb25zdCBwcmV2aWV3VGFncyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXBhZ2UtcHJldmlldy10YWdzXScpO1xuICAgIGNvbnN0IHByZXZpZXdGcmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXBhZ2UtcHJldmlldy1mcmFtZV0nKTtcbiAgICBjb25zdCBwcmV2aWV3RnJhbWVXcmFwcGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcmV2aWV3LWZyYW1lLXdyYXBwZXJdJyk7XG4gICAgY29uc3QgcHJldmlld1NoZWxsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcmV2aWV3LXNoZWxsXScpO1xuICAgIGNvbnN0IHByZXZpZXdWaWV3QnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXByZXZpZXctdmlldy1idXR0b25dJyk7XG4gICAgY29uc3QgcHJldmlld0N1cnJlbnRWaWV3TGFiZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLXByZXZpZXctY3VycmVudC12aWV3XScpO1xuICAgIGNvbnN0IHByZXZpZXdPcGVuQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcHJldmlldy1vcGVuXScpO1xuICAgIGNvbnN0IHByZXZpZXdTdGF0dXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wcmV2aWV3LXN0YXR1c10nKTtcbiAgICBjb25zdCBwcmV2aWV3SGlnaGxpZ2h0T3ZlcmxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXByZXZpZXctaGlnaGxpZ2h0XScpO1xuICAgIC8vIFNFTyBwYW5lbCBlbGVtZW50c1xuICAgIGNvbnN0IHNlb1RvZ2dsZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby10b2dnbGVdJyk7XG4gICAgY29uc3Qgc2VvUGFuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8tcGFuZWxdJyk7XG4gICAgY29uc3Qgc2VvQ2xvc2VCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8tY2xvc2VdJyk7XG4gICAgY29uc3Qgc2VvRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby1mb3JtXScpO1xuICAgIGNvbnN0IHNlb1RpdGxlSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8tdGl0bGVdJyk7XG4gICAgY29uc3Qgc2VvRGVzY3JpcHRpb25JbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby1kZXNjcmlwdGlvbl0nKTtcbiAgICBjb25zdCBzZW9JbmRleGVkQ2hlY2tib3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8taW5kZXhlZF0nKTtcbiAgICBjb25zdCBzZW9GZWVkYmFjayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby1mZWVkYmFja10nKTtcbiAgICBjb25zdCBzZW9TYXZlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2VvLXNhdmVdJyk7XG4gICAgY29uc3QgcGFnZUFjY2Vzc2liaWxpdHlUb2dnbGVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgJ1tkYXRhLXBhZ2UtYWNjZXNzaWJpbGl0eS10b2dnbGVdJyxcbiAgICApO1xuICAgIGNvbnN0IHBhZ2VBY2Nlc3NpYmlsaXR5UGFuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLWFjY2Vzc2liaWxpdHktcGFuZWxdJyk7XG4gICAgY29uc3QgcGFnZUFjY2Vzc2liaWxpdHlDbG9zZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAnW2RhdGEtcGFnZS1hY2Nlc3NpYmlsaXR5LWNsb3NlXScsXG4gICAgKTtcbiAgICBjb25zdCBwYWdlQWNjZXNzaWJpbGl0eUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLWFjY2Vzc2liaWxpdHktZm9ybV0nKTtcbiAgICBjb25zdCBwYWdlQWNjZXNzaWJpbGl0eU5hdkNoZWNrYm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgICdbZGF0YS1wYWdlLWFjY2Vzc2liaWxpdHktbmF2XScsXG4gICAgKTtcbiAgICBjb25zdCBwYWdlQWNjZXNzaWJpbGl0eU1haW5JbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAnW2RhdGEtcGFnZS1hY2Nlc3NpYmlsaXR5LW1haW5dJyxcbiAgICApO1xuICAgIGNvbnN0IHBhZ2VBY2Nlc3NpYmlsaXR5RmVlZGJhY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgJ1tkYXRhLXBhZ2UtYWNjZXNzaWJpbGl0eS1mZWVkYmFja10nLFxuICAgICk7XG4gICAgY29uc3QgcGFnZUFjY2Vzc2liaWxpdHlTYXZlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgICdbZGF0YS1wYWdlLWFjY2Vzc2liaWxpdHktc2F2ZV0nLFxuICAgICk7XG4gICAgLy8gUGFnZSBwcm9wZXJ0aWVzIHBhbmVsIGVsZW1lbnRzXG4gICAgY29uc3QgcGFnZVByb3BzVG9nZ2xlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcm9wcy10b2dnbGVdJyk7XG4gICAgY29uc3QgcGFnZVByb3BzUGFuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLXByb3BzLXBhbmVsXScpO1xuICAgIGNvbnN0IHBhZ2VQcm9wc0Nsb3NlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcm9wcy1jbG9zZV0nKTtcbiAgICBjb25zdCBwYWdlUHJvcHNGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcm9wcy1mb3JtXScpO1xuICAgIGNvbnN0IHBhZ2VOYW1lSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLW5hbWVdJyk7XG4gICAgY29uc3QgcGFnZVRpdGxlSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLXRpdGxlLWlucHV0XScpO1xuICAgIGNvbnN0IHBhZ2VQYXJlbnRTZWxlY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLXBhcmVudC1zZWxlY3RdJyk7XG4gICAgY29uc3QgcGFnZVNsdWdTZWdtZW50SW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLXNsdWctc2VnbWVudC1pbnB1dF0nKTtcbiAgICBjb25zdCBwYWdlU2x1Z0lucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1zbHVnLWlucHV0XScpO1xuICAgIGNvbnN0IHBhZ2VEZXNjcmlwdGlvbklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1kZXNjcmlwdGlvbl0nKTtcbiAgICBjb25zdCBwYWdlUHJvcHNGZWVkYmFjayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXBhZ2UtcHJvcHMtZmVlZGJhY2tdJyk7XG4gICAgY29uc3QgcGFnZVByb3BzU2F2ZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXBhZ2UtcHJvcHMtc2F2ZV0nKTtcbiAgICBjb25zdCBibG9ja0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9ja3MtbGlzdF0nKTtcbiAgICBjb25zdCBibG9ja0xpc3RFbXB0eSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2Nrcy1lbXB0eV0nKTtcbiAgICBjb25zdCBibG9ja0NvdW50QmFkZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1jb3VudF0nKTtcbiAgICBjb25zdCBibG9ja0xpYnJhcnlUb2dnbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1saWJyYXJ5LXRvZ2dsZV0nKTtcbiAgICBjb25zdCBibG9ja0xpYnJhcnkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1saWJyYXJ5XScpO1xuICAgIGNvbnN0IGJsb2NrQWRkQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWJsb2NrLWFkZF0nKTtcbiAgICBjb25zdCBibG9ja0RlbGV0ZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZGVsZXRlLW1vZGFsXScpO1xuICAgIGNvbnN0IGJsb2NrRGVsZXRlQ29uZmlybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWRlbGV0ZS1jb25maXJtXScpO1xuICAgIGNvbnN0IGJsb2NrRGVsZXRlQ2FuY2VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZGVsZXRlLWNhbmNlbF0nKTtcbiAgICBjb25zdCBibG9ja0RldGFpbEVtcHR5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZGV0YWlsLWVtcHR5XScpO1xuICAgIGNvbnN0IGJsb2NrRGV0YWlsU3RhdHVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZGV0YWlsLXN0YXR1c10nKTtcbiAgICBjb25zdCBibG9ja0VkaXRvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWVkaXRvcl0nKTtcbiAgICBjb25zdCBibG9ja0VkaXRvclRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZWRpdG9yLWJsb2NrLW5hbWVdJyk7XG4gICAgY29uc3QgYmxvY2tFZGl0b3JUeXBlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZWRpdG9yLWJsb2NrLXR5cGVdJyk7XG4gICAgY29uc3QgYmxvY2tFZGl0b3JVbnN1cHBvcnRlZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWVkaXRvci11bnN1cHBvcnRlZF0nKTtcbiAgICBjb25zdCBibG9ja0Zvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1mb3JtXScpO1xuICAgIGNvbnN0IHN0eWxlQ29sb3JDaGlwID0gKGNoaXAsIGNvbG9yKSA9PiB7XG4gICAgICBpZiAoIWNoaXApIHJldHVybjtcbiAgICAgIGlmIChjb2xvciA9PT0gJ3RyYW5zcGFyZW50Jykge1xuICAgICAgICBjaGlwLnN0eWxlLmJhY2tncm91bmQgPSBUUkFOU1BBUkVOVF9QQVRURVJOO1xuICAgICAgICBjaGlwLnN0eWxlLmJvcmRlckNvbG9yID0gJyNjYmQ1ZjUnO1xuICAgICAgICBjaGlwLnN0eWxlLmJveFNoYWRvdyA9ICcnO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjaGlwLnN0eWxlLmJhY2tncm91bmQgPSBjb2xvcjtcbiAgICAgIGNoaXAuc3R5bGUuYm9yZGVyQ29sb3IgPSBjb2xvcjtcbiAgICAgIGNoaXAuc3R5bGUuYm94U2hhZG93ID0gJzAgMCAwIDFweCByZ2JhKDE1LDIzLDQyLDAuMTUpJztcbiAgICB9O1xuICAgIGNvbnN0IGVuc3VyZUN1c3RvbVRoZW1lT3B0aW9uID0gKHNlbGVjdCwgdmFsdWUpID0+IHtcbiAgICAgIGlmICghc2VsZWN0IHx8ICF2YWx1ZSkgcmV0dXJuO1xuICAgICAgaWYgKEFycmF5LmZyb20oc2VsZWN0Lm9wdGlvbnMpLnNvbWUoKG9wdCkgPT4gb3B0LnZhbHVlID09PSB2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICBvcHRpb24udmFsdWUgPSB2YWx1ZTtcbiAgICAgIG9wdGlvbi50ZXh0Q29udGVudCA9ICdDb3VsZXVyIHBlcnNvbm5hbGlzXHUwMEU5ZSc7XG4gICAgICBvcHRpb24uZGF0YXNldC5jb2xvciA9IHZhbHVlO1xuICAgICAgaWYgKHZhbHVlID09PSAndHJhbnNwYXJlbnQnKSB7XG4gICAgICAgIG9wdGlvbi5zdHlsZS5iYWNrZ3JvdW5kID0gVFJBTlNQQVJFTlRfUEFUVEVSTjtcbiAgICAgICAgb3B0aW9uLnN0eWxlLmNvbG9yID0gJyM0NzU1NjknO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3B0aW9uLnN0eWxlLmJhY2tncm91bmQgPSB2YWx1ZTtcbiAgICAgICAgb3B0aW9uLnN0eWxlLmNvbG9yID0gZ2V0UmVhZGFibGVUZXh0Q29sb3IodmFsdWUpO1xuICAgICAgfVxuICAgICAgc2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbik7XG4gICAgICBzdHlsZVNlbGVjdE9wdGlvbnMoc2VsZWN0KTtcbiAgICB9O1xuICAgIGNvbnN0IHVwZGF0ZUNvbG9yU2VsZWN0UHJldmlldyA9IChzZWxlY3QpID0+IHtcbiAgICAgIGlmICghc2VsZWN0KSByZXR1cm47XG4gICAgICBjb25zdCBzZWxlY3RlZE9wdGlvbiA9IHNlbGVjdC5vcHRpb25zW3NlbGVjdC5zZWxlY3RlZEluZGV4XTtcbiAgICAgIGNvbnN0IGNvbG9yID0gc2VsZWN0ZWRPcHRpb24/LmRhdGFzZXQ/LmNvbG9yIHx8ICcjZmZmZmZmJztcbiAgICAgIGNvbnN0IGNvbG9yUHJldmlldyA9IHNlbGVjdC5jbG9zZXN0KCcucmVsYXRpdmUnKT8ucXVlcnlTZWxlY3RvcignW2RhdGEtY29sb3ItcHJldmlld10nKTtcbiAgICAgIGlmIChjb2xvclByZXZpZXcpIHtcbiAgICAgICAgaWYgKGNvbG9yID09PSAndHJhbnNwYXJlbnQnKSB7XG4gICAgICAgICAgY29sb3JQcmV2aWV3LnN0eWxlLmJhY2tncm91bmQgPSBUUkFOU1BBUkVOVF9QQVRURVJOO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbG9yUHJldmlldy5zdHlsZS5iYWNrZ3JvdW5kID0gY29sb3I7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNvbnN0IGNvbG9yQ2hpcCA9IHNlbGVjdC5jbG9zZXN0KCcucmVsYXRpdmUnKT8ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtY29sb3ItY2hpcF0nKTtcbiAgICAgIHN0eWxlQ29sb3JDaGlwKGNvbG9yQ2hpcCwgY29sb3IpO1xuICAgIH07XG5cbiAgICBjb25zdCB0aGVtZUNvbG9yU2VsZWN0cyA9IGJsb2NrRm9ybVxuICAgICAgPyBBcnJheS5mcm9tKGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS10aGVtZS1jb2xvci1zZWxlY3RdJykpXG4gICAgICA6IFtdO1xuICAgIGNvbnN0IGlzQmFja2dyb3VuZFRoZW1lU2VsZWN0ID0gKHNlbGVjdCkgPT4ge1xuICAgICAgY29uc3QgbmFtZSA9IHNlbGVjdD8uZ2V0QXR0cmlidXRlPy4oJ25hbWUnKSB8fCAnJztcbiAgICAgIHJldHVybiBuYW1lLmVuZHNXaXRoKCctYmcnKTtcbiAgICB9O1xuICAgIGNvbnN0IHRoZW1lQ29sb3JQcmVzZXRzID0gW1xuICAgICAgeyBsYWJlbDogJ0NvdWxldXIgcHJpbWFpcmUnLCB2YWx1ZTogJ3RoZW1lLXByaW1hcnknLCBjc3NWYXI6ICctLWNvbG9yLXByaW1hcnknIH0sXG4gICAgICB7IGxhYmVsOiAnQ291bGV1ciBzZWNvbmRhaXJlJywgdmFsdWU6ICd0aGVtZS1zZWNvbmRhcnknLCBjc3NWYXI6ICctLWNvbG9yLXNlY29uZGFyeScgfSxcbiAgICAgIHsgbGFiZWw6ICdDb3VsZXVyIGFjY2VudCcsIHZhbHVlOiAndGhlbWUtYWNjZW50JywgY3NzVmFyOiAnLS1jb2xvci1hY2NlbnQnIH0sXG4gICAgICB7IGxhYmVsOiAnRm9uZCcsIHZhbHVlOiAndGhlbWUtYmFja2dyb3VuZCcsIGNzc1ZhcjogJy0tY29sb3ItYmFja2dyb3VuZCcgfSxcbiAgICAgIHsgbGFiZWw6ICdUZXh0ZScsIHZhbHVlOiAndGhlbWUtdGV4dCcsIGNzc1ZhcjogJy0tY29sb3ItdGV4dCcgfSxcbiAgICBdO1xuICAgIGNvbnN0IGdldENvbXB1dGVkVGhlbWVDb2xvclZhbHVlID0gKGNzc1ZhciwgZmFsbGJhY2sgPSAnI2ZmZmZmZicpID0+IHtcbiAgICAgIGlmICghY3NzVmFyKSByZXR1cm4gZmFsbGJhY2s7XG4gICAgICBjb25zdCBjb21wdXRlZCA9IGdldENvbXB1dGVkU3R5bGUoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KS5nZXRQcm9wZXJ0eVZhbHVlKGNzc1Zhcik7XG4gICAgICByZXR1cm4gY29tcHV0ZWQgPyBjb21wdXRlZC50cmltKCkgOiBmYWxsYmFjaztcbiAgICB9O1xuICAgIGNvbnN0IGZpbGxUaGVtZUNvbG9yU2VsZWN0ID0gKHNlbGVjdCkgPT4ge1xuICAgICAgaWYgKCFzZWxlY3QpIHJldHVybjtcbiAgICAgIHNlbGVjdC5pbm5lckhUTUwgPSAnJztcbiAgICAgIHRoZW1lQ29sb3JQcmVzZXRzLmZvckVhY2goKHsgbGFiZWwsIHZhbHVlLCBjc3NWYXIgfSkgPT4ge1xuICAgICAgICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgICAgb3B0aW9uLnZhbHVlID0gdmFsdWU7XG4gICAgICAgIGNvbnN0IGNvbG9yVmFsdWUgPSBnZXRDb21wdXRlZFRoZW1lQ29sb3JWYWx1ZShjc3NWYXIpO1xuICAgICAgICBvcHRpb24udGV4dENvbnRlbnQgPSBsYWJlbDtcbiAgICAgICAgb3B0aW9uLmRhdGFzZXQuY29sb3IgPSBjb2xvclZhbHVlO1xuICAgICAgICBpZiAoY29sb3JWYWx1ZSA9PT0gJ3RyYW5zcGFyZW50Jykge1xuICAgICAgICAgIG9wdGlvbi5zdHlsZS5iYWNrZ3JvdW5kID0gVFJBTlNQQVJFTlRfUEFUVEVSTjtcbiAgICAgICAgICBvcHRpb24uc3R5bGUuY29sb3IgPSAnIzQ3NTU2OSc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvcHRpb24uc3R5bGUuYmFja2dyb3VuZCA9IGNvbG9yVmFsdWU7XG4gICAgICAgICAgICBvcHRpb24uc3R5bGUuY29sb3IgPSBnZXRSZWFkYWJsZVRleHRDb2xvcihjb2xvclZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbik7XG4gICAgICAgIH0pO1xuICAgICAgICBzZWxlY3QudmFsdWUgPSB0aGVtZUNvbG9yUHJlc2V0c1swXS52YWx1ZTtcbiAgICAgICAgc2VsZWN0LnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcbiAgICAgICAgaWYgKGlzQmFja2dyb3VuZFRoZW1lU2VsZWN0KHNlbGVjdCkpIHtcbiAgICAgICAgICBzdHlsZVNlbGVjdE9wdGlvbnMoc2VsZWN0KTtcbiAgICAgICAgfVxuICAgICAgICB1cGRhdGVDb2xvclNlbGVjdFByZXZpZXcoc2VsZWN0KTtcbiAgICAgIH07XG4gICAgICBjb25zdCByZWZyZXNoVGhlbWVDb2xvclNlbGVjdHMgPSAoKSA9PiB0aGVtZUNvbG9yU2VsZWN0cy5mb3JFYWNoKGZpbGxUaGVtZUNvbG9yU2VsZWN0KTtcbiAgICAgIHJlZnJlc2hUaGVtZUNvbG9yU2VsZWN0cygpO1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignYWktdGhlbWUtdXBkYXRlZCcsIHJlZnJlc2hUaGVtZUNvbG9yU2VsZWN0cyk7XG4gICAgY29uc3QgYmxvY2tGb3JtU2VjdGlvbnMgPSBibG9ja0Zvcm1cbiAgICAgID8gQXJyYXkuZnJvbShibG9ja0Zvcm0ucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtZWRpdG9yLXNlY3Rpb25dJykpXG4gICAgICA6IFtdO1xuICAgIGNvbnN0IGdldEJsb2NrRWRpdG9yU2VjdGlvbkVsZW1lbnQgPSAoY29uZmlnKSA9PiB7XG4gICAgICBpZiAoIWJsb2NrRm9ybSB8fCAhY29uZmlnPy5zZWN0aW9uKSByZXR1cm4gbnVsbDtcbiAgICAgIHJldHVybiBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcihgW2RhdGEtZWRpdG9yLXNlY3Rpb249XCIke2NvbmZpZy5zZWN0aW9ufVwiXWApO1xuICAgIH07XG4gICAgLy8gT25nbGV0cyBDb250ZW51IC8gQXBwYXJlbmNlXG4gICAgY29uc3QgYmxvY2tUYWJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYmxvY2stdGFiXScpO1xuICAgIGxldCBhY3RpdmVCbG9ja1RhYiA9ICdjb250ZW50JztcblxuICAgIC8vIE9uZ2xldHMgcGFubmVhdSBnYXVjaGUgKEJsb2NzIC8gUGFnZXMpXG4gICAgY29uc3QgbGVmdFBhbmVsVGFicyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWxlZnQtdGFiXScpO1xuICAgIGNvbnN0IGxlZnRQYW5lbEJsb2NrcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWxlZnQtcGFuZWw9XCJibG9ja3NcIl0nKTtcbiAgICBjb25zdCBsZWZ0UGFuZWxQYWdlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWxlZnQtcGFuZWw9XCJwYWdlc1wiXScpO1xuICAgIGxldCBhY3RpdmVMZWZ0VGFiID0gJ2Jsb2Nrcyc7XG5cbiAgICAvLyBGb25jdGlvbiBwb3VyIHN3aXRjaGVyIGVudHJlIGxlcyBvbmdsZXRzIEJsb2NzL1BhZ2VzIGR1IHBhbm5lYXUgZ2F1Y2hlXG4gICAgY29uc3Qgc3dpdGNoTGVmdFRhYiA9ICh0YWJOYW1lKSA9PiB7XG4gICAgICBhY3RpdmVMZWZ0VGFiID0gdGFiTmFtZTtcbiAgICAgIGxlZnRQYW5lbFRhYnMuZm9yRWFjaCgodGFiKSA9PiB7XG4gICAgICAgIGNvbnN0IGlzQWN0aXZlID0gdGFiLmRhdGFzZXQubGVmdFRhYiA9PT0gdGFiTmFtZTtcbiAgICAgICAgdGFiLnNldEF0dHJpYnV0ZSgnYXJpYS1zZWxlY3RlZCcsIGlzQWN0aXZlID8gJ3RydWUnIDogJ2ZhbHNlJyk7XG4gICAgICAgIGlmIChpc0FjdGl2ZSkge1xuICAgICAgICAgIHRhYi5jbGFzc0xpc3QuYWRkKCd0ZXh0LVsjOUM2QkZGXScpO1xuICAgICAgICAgIHRhYi5jbGFzc0xpc3QucmVtb3ZlKCd0ZXh0LXNsYXRlLTUwMCcsICdob3Zlcjp0ZXh0LXNsYXRlLTcwMCcpO1xuICAgICAgICAgIHRhYi5jbGFzc0xpc3QuYWRkKCdhZnRlcjphYnNvbHV0ZScsICdhZnRlcjpib3R0b20tMCcsICdhZnRlcjpsZWZ0LTAnLCAnYWZ0ZXI6cmlnaHQtMCcsICdhZnRlcjpoLTAuNScsICdhZnRlcjpiZy1bIzlDNkJGRl0nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0YWIuY2xhc3NMaXN0LnJlbW92ZSgndGV4dC1bIzlDNkJGRl0nKTtcbiAgICAgICAgICB0YWIuY2xhc3NMaXN0LmFkZCgndGV4dC1zbGF0ZS01MDAnLCAnaG92ZXI6dGV4dC1zbGF0ZS03MDAnKTtcbiAgICAgICAgICB0YWIuY2xhc3NMaXN0LnJlbW92ZSgnYWZ0ZXI6YWJzb2x1dGUnLCAnYWZ0ZXI6Ym90dG9tLTAnLCAnYWZ0ZXI6bGVmdC0wJywgJ2FmdGVyOnJpZ2h0LTAnLCAnYWZ0ZXI6aC0wLjUnLCAnYWZ0ZXI6YmctWyM5QzZCRkZdJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgLy8gQWZmaWNoZXIvbWFzcXVlciBsZXMgcGFuZWxzXG4gICAgICBpZiAobGVmdFBhbmVsQmxvY2tzKSB7XG4gICAgICAgIGxlZnRQYW5lbEJsb2Nrcy5jbGFzc0xpc3QudG9nZ2xlKCdoaWRkZW4nLCB0YWJOYW1lICE9PSAnYmxvY2tzJyk7XG4gICAgICB9XG4gICAgICBpZiAobGVmdFBhbmVsUGFnZXMpIHtcbiAgICAgICAgbGVmdFBhbmVsUGFnZXMuY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZGVuJywgdGFiTmFtZSAhPT0gJ3BhZ2VzJyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIEV2ZW50IGxpc3RlbmVycyBwb3VyIGxlcyBvbmdsZXRzIGR1IHBhbm5lYXUgZ2F1Y2hlXG4gICAgbGVmdFBhbmVsVGFicy5mb3JFYWNoKCh0YWIpID0+IHtcbiAgICAgIHRhYi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgc3dpdGNoTGVmdFRhYih0YWIuZGF0YXNldC5sZWZ0VGFiKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIFxuICAgIC8vIERcdTAwRTljbGFyYXRpb25zIGRlcyBcdTAwRTlsXHUwMEU5bWVudHMgZCdhY3Rpb25zIGR1IGZvcm11bGFpcmUgKGF2YW50IHN3aXRjaEJsb2NrVGFiKVxuICAgIGNvbnN0IGJsb2NrRm9ybUFjdGlvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1mb3JtLWFjdGlvbnNdJyk7XG4gICAgY29uc3QgYmxvY2tGb3JtQXV0b3NhdmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1mb3JtLWF1dG9zYXZlXScpO1xuXG4gICAgLy8gRm9uY3Rpb24gcG91ciBzd2l0Y2hlciBlbnRyZSBsZXMgb25nbGV0cyBDb250ZW51L0FwcGFyZW5jZVxuICAgIGNvbnN0IHN3aXRjaEJsb2NrVGFiID0gKHRhYk5hbWUpID0+IHtcbiAgICAgIGFjdGl2ZUJsb2NrVGFiID0gdGFiTmFtZTtcbiAgICAgIC8vIE1ldHRyZSBcdTAwRTAgam91ciBsZXMgc3R5bGVzIGRlcyBib3V0b25zIGQnb25nbGV0XG4gICAgICBibG9ja1RhYnMuZm9yRWFjaCgodGFiKSA9PiB7XG4gICAgICAgIGNvbnN0IGlzQWN0aXZlID0gdGFiLmRhdGFzZXQuYmxvY2tUYWIgPT09IHRhYk5hbWU7XG4gICAgICAgIHRhYi5zZXRBdHRyaWJ1dGUoJ2FyaWEtc2VsZWN0ZWQnLCBpc0FjdGl2ZSA/ICd0cnVlJyA6ICdmYWxzZScpO1xuICAgICAgICBpZiAoaXNBY3RpdmUpIHtcbiAgICAgICAgICB0YWIuY2xhc3NMaXN0LmFkZCgndGV4dC1bIzlDNkJGRl0nKTtcbiAgICAgICAgICB0YWIuY2xhc3NMaXN0LnJlbW92ZSgndGV4dC1zbGF0ZS01MDAnLCAnaG92ZXI6dGV4dC1zbGF0ZS03MDAnKTtcbiAgICAgICAgICB0YWIuY2xhc3NMaXN0LmFkZCgnYWZ0ZXI6YWJzb2x1dGUnLCAnYWZ0ZXI6Ym90dG9tLTAnLCAnYWZ0ZXI6bGVmdC0wJywgJ2FmdGVyOnJpZ2h0LTAnLCAnYWZ0ZXI6aC0wLjUnLCAnYWZ0ZXI6YmctWyM5QzZCRkZdJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGFiLmNsYXNzTGlzdC5yZW1vdmUoJ3RleHQtWyM5QzZCRkZdJyk7XG4gICAgICAgICAgdGFiLmNsYXNzTGlzdC5hZGQoJ3RleHQtc2xhdGUtNTAwJywgJ2hvdmVyOnRleHQtc2xhdGUtNzAwJyk7XG4gICAgICAgICAgdGFiLmNsYXNzTGlzdC5yZW1vdmUoJ2FmdGVyOmFic29sdXRlJywgJ2FmdGVyOmJvdHRvbS0wJywgJ2FmdGVyOmxlZnQtMCcsICdhZnRlcjpyaWdodC0wJywgJ2FmdGVyOmgtMC41JywgJ2FmdGVyOmJnLVsjOUM2QkZGXScpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIC8vIEFmZmljaGVyL21hc3F1ZXIgbGVzIHBhbmVscyBkYW5zIGxhIHNlY3Rpb24gYWN0aXZlXG4gICAgICBjb25zdCBhY3RpdmVTZWN0aW9uID0gYmxvY2tGb3JtPy5xdWVyeVNlbGVjdG9yKCdbZGF0YS1lZGl0b3Itc2VjdGlvbl06bm90KC5oaWRkZW4pJyk7XG4gICAgICBpZiAoYWN0aXZlU2VjdGlvbikge1xuICAgICAgICBjb25zdCBwYW5lbHMgPSBhY3RpdmVTZWN0aW9uLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWJsb2NrLXBhbmVsXScpO1xuICAgICAgICBwYW5lbHMuZm9yRWFjaCgocGFuZWwpID0+IHtcbiAgICAgICAgICBpZiAocGFuZWwuZGF0YXNldC5ibG9ja1BhbmVsID09PSB0YWJOYW1lKSB7XG4gICAgICAgICAgICBwYW5lbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFuZWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIC8vIEFmZmljaGVyL21hc3F1ZXIgbGVzIGJvdXRvbnMgc2Vsb24gbCdvbmdsZXRcbiAgICAgIC8vIENvbnRlbnUgXHUyMTkyIGJvdXRvbnMgRW5yZWdpc3RyZXIvQW5udWxlclxuICAgICAgLy8gQXBwYXJlbmNlIFx1MjE5MiBpbmRpY2F0ZXVyIGF1dG8tc2F2ZVxuICAgICAgaWYgKGJsb2NrRm9ybUFjdGlvbnMgJiYgYmxvY2tGb3JtQXV0b3NhdmUpIHtcbiAgICAgICAgaWYgKHRhYk5hbWUgPT09ICdjb250ZW50Jykge1xuICAgICAgICAgIGJsb2NrRm9ybUFjdGlvbnMuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgYmxvY2tGb3JtQXV0b3NhdmUuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYmxvY2tGb3JtQWN0aW9ucy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgICBibG9ja0Zvcm1BdXRvc2F2ZS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBFdmVudCBsaXN0ZW5lcnMgcG91ciBsZXMgb25nbGV0c1xuICAgIGJsb2NrVGFicy5mb3JFYWNoKCh0YWIpID0+IHtcbiAgICAgIHRhYi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgc3dpdGNoQmxvY2tUYWIodGFiLmRhdGFzZXQuYmxvY2tUYWIpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBjb25zdCBjb2xsZWN0aW9uU2VsZWN0ID0gYmxvY2tGb3JtPy5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImNvbGxlY3Rpb24tZ3JpZC1jb2xsZWN0aW9uXCJdJyk7XG4gICAgY29uc3QgY29sbGVjdGlvblNlbGVjdGlvbkluZm8gPSBibG9ja0Zvcm0/LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAnW2RhdGEtY29sbGVjdGlvbi1zZWxlY3Rpb24taW5mb10nLFxuICAgICk7XG4gICAgY29uc3QgY29sbGVjdGlvbkNhcmRJdGVtU2VsZWN0ID0gYmxvY2tGb3JtPy5xdWVyeVNlbGVjdG9yKFxuICAgICAgJ1tkYXRhLWNvbGxlY3Rpb24tY2FyZC1pdGVtLXNlbGVjdF0nLFxuICAgICk7XG4gICAgY29uc3QgY29sbGVjdGlvbkNhcmRSZXNldEJ1dHRvbiA9IGJsb2NrRm9ybT8ucXVlcnlTZWxlY3RvcignW2RhdGEtY29sbGVjdGlvbi1jYXJkLXJlc2V0XScpO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25DYXJkT3ZlcnJpZGVGaWVsZHMgPSBibG9ja0Zvcm1cbiAgICAgID8ge1xuICAgICAgICAgIGN0YVN0eWxlOiBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJjb2xsZWN0aW9uLWl0ZW0tY3RhLXN0eWxlXCJdJyksXG4gICAgICAgICAgY3RhVGV4dENvbG9yOiBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJjb2xsZWN0aW9uLWl0ZW0tY3RhLXRleHQtY29sb3JcIl0nKSxcbiAgICAgICAgICBiZzogYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiY29sbGVjdGlvbi1pdGVtLWJnXCJdJyksXG4gICAgICAgICAgYm9yZGVyUmFkaXVzOiBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJjb2xsZWN0aW9uLWl0ZW0tYm9yZGVyLXJhZGl1c1wiXScpLFxuICAgICAgICAgIHNoYWRvdzogYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiY29sbGVjdGlvbi1pdGVtLXNoYWRvd1wiXScpLFxuICAgICAgICAgIGJvcmRlcjogYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiY29sbGVjdGlvbi1pdGVtLWJvcmRlclwiXScpLFxuICAgICAgICAgIGFuaW1hdGlvbjogYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiY29sbGVjdGlvbi1pdGVtLWFuaW0tdHlwZVwiXScpLFxuICAgICAgICAgIGFuaW1hdGlvbkRlbGF5OiBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJjb2xsZWN0aW9uLWl0ZW0tYW5pbS1kZWxheVwiXScpLFxuICAgICAgICAgIGFuaW1hdGlvbkR1cmF0aW9uOiBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJjb2xsZWN0aW9uLWl0ZW0tYW5pbS1kdXJhdGlvblwiXScpLFxuICAgICAgICB9XG4gICAgICA6IHt9O1xuICAgIGNvbnN0IGJsb2NrRm9ybUNhbmNlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWZvcm0tY2FuY2VsXScpO1xuICAgIGNvbnN0IGdyb3VwUHJldmlld01vYmlsZSA9IGJsb2NrRm9ybT8ucXVlcnlTZWxlY3RvcignW2RhdGEtZ3JvdXAtcHJldmlldy1tb2JpbGVdJyk7XG4gICAgY29uc3QgZ3JvdXBQcmV2aWV3RGVza3RvcCA9IGJsb2NrRm9ybT8ucXVlcnlTZWxlY3RvcignW2RhdGEtZ3JvdXAtcHJldmlldy1kZXNrdG9wXScpO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25QcmV2aWV3TW9iaWxlID0gYmxvY2tGb3JtPy5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xsZWN0aW9uLXByZXZpZXctbW9iaWxlXScpO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25QcmV2aWV3RGVza3RvcCA9IGJsb2NrRm9ybT8ucXVlcnlTZWxlY3RvcignW2RhdGEtY29sbGVjdGlvbi1wcmV2aWV3LWRlc2t0b3BdJyk7XG4gICAgY29uc3QgYmxvY2tUeXBlRm9ybXMgPSB7XG4gICAgICBoZXJvOiB7XG4gICAgICAgIHNlY3Rpb246ICdoZXJvJyxcbiAgICAgICAgbGFiZWxGaWVsZDogJ3RpdGxlJyxcbiAgICAgICAgZGVzY3JpcHRpb25GaWVsZDogJ3N1YnRpdGxlJyxcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgdGl0bGU6ICdoZXJvLXRpdGxlJyxcbiAgICAgICAgICBzdWJ0aXRsZTogJ2hlcm8tc3VidGl0bGUnLFxuICAgICAgICAgIGN0YUxhYmVsOiAnaGVyby1jdGEtbGFiZWwnLFxuICAgICAgICAgIGN0YVVybDogJ2hlcm8tY3RhLXVybCcsXG4gICAgICAgICAgY3RhVGV4dENvbG9yOiAnaGVyby1jdGEtdGV4dC1jb2xvcicsXG4gICAgICAgICAgLy8gQXBwYXJlbmNlXG4gICAgICAgICAgaW1hZ2U6ICdoZXJvLWltYWdlJyxcbiAgICAgICAgICBsYXlvdXQ6ICdoZXJvLWxheW91dCcsXG4gICAgICAgICAgaW1hZ2VXaWR0aDogJ2hlcm8taW1hZ2Utd2lkdGgnLFxuICAgICAgICAgIGltYWdlSGVpZ2h0OiAnaGVyby1pbWFnZS1oZWlnaHQnLFxuICAgICAgICAgIGltYWdlT2JqZWN0Rml0OiAnaGVyby1pbWFnZS1vYmplY3QtZml0JyxcbiAgICAgICAgICBoZWlnaHQ6ICdoZXJvLWhlaWdodCcsXG4gICAgICAgICAgY29udGVudEFsaWduOiAnaGVyby1jb250ZW50LWFsaWduJyxcbiAgICAgICAgICBob3Jpem9udGFsQWxpZ246ICdoZXJvLWhvcml6b250YWwtYWxpZ24nLFxuICAgICAgICAgIHRleHRBbGlnbjogJ2hlcm8tdGV4dC1hbGlnbicsXG4gICAgICAgICAgb3ZlcmxheTogJ2hlcm8tb3ZlcmxheScsXG4gICAgICAgICAgdGl0bGVTaXplOiAnaGVyby10aXRsZS1zaXplJyxcbiAgICAgICAgICAvLyBDYXJkIHN0eWxlXG4gICAgICAgICAgYmc6ICdoZXJvLWJnJyxcbiAgICAgICAgICBib3JkZXJSYWRpdXM6ICdoZXJvLWJvcmRlci1yYWRpdXMnLFxuICAgICAgICAgIHNoYWRvdzogJ2hlcm8tc2hhZG93JyxcbiAgICAgICAgICBib3JkZXI6ICdoZXJvLWJvcmRlcicsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgcGFyYWdyYXBoZToge1xuICAgICAgICBzZWN0aW9uOiAncGFyYWdyYXBoJyxcbiAgICAgICAgbGFiZWxGaWVsZDogJ3RpdGxlJyxcbiAgICAgICAgZGVzY3JpcHRpb25GaWVsZDogJ2NvbnRlbnQnLFxuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICB0aXRsZTogJ3BhcmFncmFwaC10aXRsZScsXG4gICAgICAgICAgY29udGVudDogJ3BhcmFncmFwaC1jb250ZW50JyxcbiAgICAgICAgICAvLyBBcHBhcmVuY2VcbiAgICAgICAgICBhbGlnbjogJ3BhcmFncmFwaC1hbGlnbicsXG4gICAgICAgICAgdGl0bGVTaXplOiAncGFyYWdyYXBoLXRpdGxlLXNpemUnLFxuICAgICAgICAgIHRleHRTaXplOiAncGFyYWdyYXBoLXRleHQtc2l6ZScsXG4gICAgICAgICAgc3BhY2luZzogJ3BhcmFncmFwaC1zcGFjaW5nJyxcbiAgICAgICAgICAvLyBDYXJkIHN0eWxlXG4gICAgICAgICAgYmc6ICdwYXJhZ3JhcGgtYmcnLFxuICAgICAgICAgIGJvcmRlclJhZGl1czogJ3BhcmFncmFwaC1ib3JkZXItcmFkaXVzJyxcbiAgICAgICAgICBzaGFkb3c6ICdwYXJhZ3JhcGgtc2hhZG93JyxcbiAgICAgICAgICBib3JkZXI6ICdwYXJhZ3JhcGgtYm9yZGVyJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBpbWFnZToge1xuICAgICAgICBzZWN0aW9uOiAnaW1hZ2UnLFxuICAgICAgICBsYWJlbEZpZWxkOiAnYWx0JyxcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgc3JjOiAnaW1hZ2Utc3JjJyxcbiAgICAgICAgICBhbHQ6ICdpbWFnZS1hbHQnLFxuICAgICAgICAgIHNob3dDYXB0aW9uOiAnaW1hZ2UtY2FwdGlvbi10b2dnbGUnLFxuICAgICAgICAgIGNhcHRpb246ICdpbWFnZS1jYXB0aW9uJyxcbiAgICAgICAgICAvLyBBcHBhcmVuY2VcbiAgICAgICAgICByb3VuZGVkOiAnaW1hZ2Utcm91bmRlZCcsXG4gICAgICAgICAgc2hhZG93OiAnaW1hZ2Utc2hhZG93JyxcbiAgICAgICAgICBtYXhXaWR0aDogJ2ltYWdlLW1heC13aWR0aCcsXG4gICAgICAgICAgaGVpZ2h0OiAnaW1hZ2UtaGVpZ2h0JyxcbiAgICAgICAgICBvYmplY3RGaXQ6ICdpbWFnZS1vYmplY3QtZml0JyxcbiAgICAgICAgICBhbGlnbjogJ2ltYWdlLWFsaWduJyxcbiAgICAgICAgICAvLyBDYXJkIHN0eWxlXG4gICAgICAgICAgYmc6ICdpbWFnZS1iZycsXG4gICAgICAgICAgYm9yZGVyUmFkaXVzOiAnaW1hZ2UtYm9yZGVyLXJhZGl1cycsXG4gICAgICAgICAgYm9yZGVyOiAnaW1hZ2UtYm9yZGVyJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBncm91cGU6IHtcbiAgICAgICAgc2VjdGlvbjogJ2dyb3VwJyxcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgLy8gQXBwYXJlbmNlXG4gICAgICAgICAgY29sdW1uc01vYmlsZTogJ2dyb3VwLWNvbHVtbnMtbW9iaWxlJyxcbiAgICAgICAgICBjb2x1bW5zRGVza3RvcDogJ2dyb3VwLWNvbHVtbnMtZGVza3RvcCcsXG4gICAgICAgICAgZ2FwOiAnZ3JvdXAtZ2FwJyxcbiAgICAgICAgICBpdGVtc0FsaWduOiAnZ3JvdXAtaXRlbXMtYWxpZ24nLFxuICAgICAgICAgIG1vYmlsZUxheW91dDogJ2dyb3VwLW1vYmlsZS1sYXlvdXQnLFxuICAgICAgICAgIC8vIENhcmQgc3R5bGVcbiAgICAgICAgICBiZzogJ2dyb3VwLWJnJyxcbiAgICAgICAgICBib3JkZXJSYWRpdXM6ICdncm91cC1ib3JkZXItcmFkaXVzJyxcbiAgICAgICAgICBzaGFkb3c6ICdncm91cC1zaGFkb3cnLFxuICAgICAgICAgIGJvcmRlcjogJ2dyb3VwLWJvcmRlcicsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgY29sbGVjdGlvbmdyaWQ6IHtcbiAgICAgICAgc2VjdGlvbjogJ2NvbGxlY3Rpb24nLFxuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBjb2xsZWN0aW9uSWQ6ICdjb2xsZWN0aW9uLWdyaWQtY29sbGVjdGlvbicsXG4gICAgICAgICAgbGltaXQ6ICdjb2xsZWN0aW9uLWdyaWQtbGltaXQnLFxuICAgICAgICAgIC8vIEFwcGFyZW5jZVxuICAgICAgICAgIGNvbHVtbnNNb2JpbGU6ICdjb2xsZWN0aW9uLWNvbHVtbnMtbW9iaWxlJyxcbiAgICAgICAgICBjb2x1bW5zRGVza3RvcDogJ2NvbGxlY3Rpb24tY29sdW1ucy1kZXNrdG9wJyxcbiAgICAgICAgICBnYXA6ICdjb2xsZWN0aW9uLWdhcCcsXG4gICAgICAgICAgaXRlbXNBbGlnbjogJ2NvbGxlY3Rpb24taXRlbXMtYWxpZ24nLFxuICAgICAgICAgIGNhcmRSb3VuZGVkOiAnY29sbGVjdGlvbi1jYXJkLXJvdW5kZWQnLFxuICAgICAgICAgIG1vYmlsZUxheW91dDogJ2NvbGxlY3Rpb24tbW9iaWxlLWxheW91dCcsXG4gICAgICAgICAgLy8gQ2FyZCBzdHlsZVxuICAgICAgICAgIGJnOiAnY29sbGVjdGlvbi1iZycsXG4gICAgICAgICAgYm9yZGVyUmFkaXVzOiAnY29sbGVjdGlvbi1ib3JkZXItcmFkaXVzJyxcbiAgICAgICAgICBzaGFkb3c6ICdjb2xsZWN0aW9uLXNoYWRvdycsXG4gICAgICAgICAgYm9yZGVyOiAnY29sbGVjdGlvbi1ib3JkZXInLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGZvcm06IHtcbiAgICAgICAgc2VjdGlvbjogJ2Zvcm0nLFxuICAgICAgICBsYWJlbEZpZWxkOiAnZm9ybVRpdGxlJyxcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgZm9ybVRpdGxlOiAnZm9ybS10aXRsZScsXG4gICAgICAgICAgYWN0aW9uVXJsOiAnZm9ybS1hY3Rpb24tdXJsJyxcbiAgICAgICAgICBtZXRob2Q6ICdmb3JtLW1ldGhvZCcsXG4gICAgICAgICAgc2VydmljZU5hbWU6ICdmb3JtLXNlcnZpY2UtbmFtZScsXG4gICAgICAgICAgc3VibWl0TGFiZWw6ICdmb3JtLXN1Ym1pdC1sYWJlbCcsXG4gICAgICAgICAgc3VjY2Vzc01lc3NhZ2U6ICdmb3JtLXN1Y2Nlc3MtbWVzc2FnZScsXG4gICAgICAgICAgLy8gQXBwYXJlbmNlXG4gICAgICAgICAgbWF4V2lkdGg6ICdmb3JtLW1heC13aWR0aCcsXG4gICAgICAgICAgYWxpZ246ICdmb3JtLWFsaWduJyxcbiAgICAgICAgICBidXR0b25Sb3VuZGVkOiAnZm9ybS1idXR0b24tcm91bmRlZCcsXG4gICAgICAgICAgc3BhY2luZzogJ2Zvcm0tc3BhY2luZycsXG4gICAgICAgICAgLy8gQ2FyZCBzdHlsZVxuICAgICAgICAgIGJnOiAnZm9ybS1iZycsXG4gICAgICAgICAgYm9yZGVyUmFkaXVzOiAnZm9ybS1ib3JkZXItcmFkaXVzJyxcbiAgICAgICAgICBzaGFkb3c6ICdmb3JtLXNoYWRvdycsXG4gICAgICAgICAgYm9yZGVyOiAnZm9ybS1ib3JkZXInLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIG5ld3NsZXR0ZXJlbWJlZDoge1xuICAgICAgICBzZWN0aW9uOiAnbmV3c2xldHRlcicsXG4gICAgICAgIGxhYmVsRmllbGQ6ICd0aXRsZScsXG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIHRpdGxlOiAnbmV3c2xldHRlci10aXRsZScsXG4gICAgICAgICAgc2VydmljZU5hbWU6ICduZXdzbGV0dGVyLXNlcnZpY2UtbmFtZScsXG4gICAgICAgICAgZW1iZWRDb2RlOiAnbmV3c2xldHRlci1lbWJlZC1jb2RlJyxcbiAgICAgICAgICAvLyBBcHBhcmVuY2VcbiAgICAgICAgICBtYXhXaWR0aDogJ25ld3NsZXR0ZXItbWF4LXdpZHRoJyxcbiAgICAgICAgICBhbGlnbjogJ25ld3NsZXR0ZXItYWxpZ24nLFxuICAgICAgICAgIHBhZGRpbmc6ICduZXdzbGV0dGVyLXBhZGRpbmcnLFxuICAgICAgICAgIGJnOiAnbmV3c2xldHRlci1iZycsXG4gICAgICAgICAgLy8gQ2FyZCBzdHlsZVxuICAgICAgICAgIGJvcmRlclJhZGl1czogJ25ld3NsZXR0ZXItYm9yZGVyLXJhZGl1cycsXG4gICAgICAgICAgc2hhZG93OiAnbmV3c2xldHRlci1zaGFkb3cnLFxuICAgICAgICAgIGJvcmRlcjogJ25ld3NsZXR0ZXItYm9yZGVyJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBjYXJkOiB7XG4gICAgICAgIHNlY3Rpb246ICdjYXJkJyxcbiAgICAgICAgbGFiZWxGaWVsZDogJ3RpdGxlJyxcbiAgICAgICAgZGVzY3JpcHRpb25GaWVsZDogJ2Rlc2NyaXB0aW9uJyxcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgdGl0bGU6ICdjYXJkLXRpdGxlJyxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ2NhcmQtZGVzY3JpcHRpb24nLFxuICAgICAgICAgIGltYWdlOiAnY2FyZC1pbWFnZScsXG4gICAgICAgICAgY3RhVGV4dDogJ2NhcmQtY3RhLXRleHQnLFxuICAgICAgICAgIGN0YVVybDogJ2NhcmQtY3RhLXVybCcsXG4gICAgICAgICAgLy8gQ2FyZCBzdHlsZVxuICAgICAgICAgIGJnOiAnY2FyZC1iZycsXG4gICAgICAgICAgYm9yZGVyUmFkaXVzOiAnY2FyZC1ib3JkZXItcmFkaXVzJyxcbiAgICAgICAgICBzaGFkb3c6ICdjYXJkLXNoYWRvdycsXG4gICAgICAgICAgYm9yZGVyOiAnY2FyZC1ib3JkZXInLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGJvdXRvbjoge1xuICAgICAgICBzZWN0aW9uOiAnYnV0dG9uJyxcbiAgICAgICAgbGFiZWxGaWVsZDogJ3RleHQnLFxuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICB0ZXh0OiAnYnV0dG9uLXRleHQnLFxuICAgICAgICAgIHVybDogJ2J1dHRvbi11cmwnLFxuICAgICAgICAgIGljb246ICdidXR0b24taWNvbicsXG4gICAgICAgICAgLy8gQXBwYXJlbmNlXG4gICAgICAgICAgYWxpZ246ICdidXR0b24tYWxpZ24nLFxuICAgICAgICAgIHNpemU6ICdidXR0b24tc2l6ZScsXG4gICAgICAgICAgdGV4dENvbG9yOiAnYnV0dG9uLXRleHQtY29sb3InLFxuICAgICAgICAgIC8vIENhcmQgc3R5bGVcbiAgICAgICAgICBiZzogJ2J1dHRvbi1iZycsXG4gICAgICAgICAgYm9yZGVyUmFkaXVzOiAnYnV0dG9uLWJvcmRlci1yYWRpdXMnLFxuICAgICAgICAgIHNoYWRvdzogJ2J1dHRvbi1zaGFkb3cnLFxuICAgICAgICAgIGJvcmRlcjogJ2J1dHRvbi1ib3JkZXInLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9O1xuICAgIGNvbnN0IGJsb2NrVHlwZUFsaWFzZXMgPSB7XG4gICAgICB0ZXh0ZTogJ3BhcmFncmFwaGUnLFxuICAgICAgcGFyYWdyYXBoOiAncGFyYWdyYXBoZScsXG4gICAgICBwYXJhZ3JhcGhzOiAncGFyYWdyYXBoZScsXG4gICAgICBwYXJhZ3JhcGhlczogJ3BhcmFncmFwaGUnLFxuICAgICAgdGV4dDogJ3BhcmFncmFwaGUnLFxuICAgICAgaGVybzogJ2hlcm8nLFxuICAgICAgaW1hZ2U6ICdpbWFnZScsXG4gICAgICBncm91cGU6ICdncm91cGUnLFxuICAgICAgZ3JvdXA6ICdncm91cGUnLFxuICAgICAgY2FyZDogJ2NhcmQnLFxuICAgICAgY2FydGU6ICdjYXJkJyxcbiAgICAgIGNvbGxlY3Rpb246ICdjb2xsZWN0aW9uZ3JpZCcsXG4gICAgICBjb2xsZWN0aW9uZ3JpZDogJ2NvbGxlY3Rpb25ncmlkJyxcbiAgICAgICdjb2xsZWN0aW9uLWdyaWQnOiAnY29sbGVjdGlvbmdyaWQnLFxuICAgICAgZm9ybTogJ2Zvcm0nLFxuICAgICAgZm9ybXVsYWlyZTogJ2Zvcm0nLFxuICAgICAgY29udGFjdDogJ2Zvcm0nLFxuICAgICAgbmV3c2xldHRlcmVtYmVkOiAnbmV3c2xldHRlcmVtYmVkJyxcbiAgICAgIG5ld3NsZXR0ZXI6ICduZXdzbGV0dGVyZW1iZWQnLFxuICAgICAgZW1iZWQ6ICduZXdzbGV0dGVyZW1iZWQnLFxuICAgICAgYm91dG9uOiAnYm91dG9uJyxcbiAgICAgIGJ1dHRvbjogJ2JvdXRvbicsXG4gICAgICBjdGE6ICdib3V0b24nLFxuICAgIH07XG4gICAgY29uc3QgYW5pbWF0aW9uRmllbGRNYXAgPSB7XG4gICAgICBhbmltYXRpb246ICdhbmltLXR5cGUnLFxuICAgICAgYW5pbWF0aW9uRGVsYXk6ICdhbmltLWRlbGF5JyxcbiAgICAgIGFuaW1hdGlvbkR1cmF0aW9uOiAnYW5pbS1kdXJhdGlvbicsXG4gICAgfTtcbiAgICBPYmplY3QudmFsdWVzKGJsb2NrVHlwZUZvcm1zKS5mb3JFYWNoKChjb25maWcpID0+IHtcbiAgICAgIGNvbmZpZy5maWVsZHMgPSB7IC4uLmNvbmZpZy5maWVsZHMsIC4uLmFuaW1hdGlvbkZpZWxkTWFwIH07XG4gICAgfSk7XG4gICAgY29uc3QgdXBkYXRlR3JvdXBNaW5pUHJldmlldyA9IChtb2JpbGVWYWx1ZSwgZGVza3RvcFZhbHVlKSA9PiB7XG4gICAgICBpZiAoIWdyb3VwUHJldmlld01vYmlsZSB8fCAhZ3JvdXBQcmV2aWV3RGVza3RvcCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCByZW5kZXJCb3hlcyA9IChjb3VudCkgPT5cbiAgICAgICAgQXJyYXkuZnJvbSh7IGxlbmd0aDogTnVtYmVyKGNvdW50KSB8fCAxIH0pXG4gICAgICAgICAgLm1hcCgoKSA9PiAnPHNwYW4gY2xhc3M9XCJibG9jayBoLTIgdy1mdWxsIHJvdW5kZWQtZnVsbCBiZy1zbGF0ZS0zMDBcIj48L3NwYW4+JylcbiAgICAgICAgICAuam9pbignJyk7XG4gICAgICBncm91cFByZXZpZXdNb2JpbGUuaW5uZXJIVE1MID0gcmVuZGVyQm94ZXMobW9iaWxlVmFsdWUpO1xuICAgICAgZ3JvdXBQcmV2aWV3RGVza3RvcC5pbm5lckhUTUwgPSByZW5kZXJCb3hlcyhkZXNrdG9wVmFsdWUpO1xuICAgIH07XG4gICAgY29uc3QgdXBkYXRlQ29sbGVjdGlvbk1pbmlQcmV2aWV3ID0gKG1vYmlsZVZhbHVlLCBkZXNrdG9wVmFsdWUpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvblByZXZpZXdNb2JpbGUgfHwgIWNvbGxlY3Rpb25QcmV2aWV3RGVza3RvcCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCByZW5kZXJCb3hlcyA9IChjb3VudCkgPT5cbiAgICAgICAgQXJyYXkuZnJvbSh7IGxlbmd0aDogTnVtYmVyKGNvdW50KSB8fCAxIH0pXG4gICAgICAgICAgLm1hcCgoKSA9PiAnPHNwYW4gY2xhc3M9XCJibG9jayBoLTIgdy1mdWxsIHJvdW5kZWQtZnVsbCBiZy12aW9sZXQtMzAwXCI+PC9zcGFuPicpXG4gICAgICAgICAgLmpvaW4oJycpO1xuICAgICAgY29sbGVjdGlvblByZXZpZXdNb2JpbGUuaW5uZXJIVE1MID0gcmVuZGVyQm94ZXMobW9iaWxlVmFsdWUpO1xuICAgICAgY29sbGVjdGlvblByZXZpZXdEZXNrdG9wLmlubmVySFRNTCA9IHJlbmRlckJveGVzKGRlc2t0b3BWYWx1ZSk7XG4gICAgfTtcbiAgICBjb25zdCBmZXRjaFBhZ2VzRnJvbVNlcnZlciA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghcGFnZXNBcGlCYXNlKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2gocGFnZXNBcGlCYXNlLCB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIHBhZ2VzLicpO1xuICAgICAgfVxuICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiBbXSk7XG4gICAgICByZXR1cm4gQXJyYXkuaXNBcnJheShwYXlsb2FkKSA/IHBheWxvYWQgOiBbXTtcbiAgICB9O1xuICAgIGNvbnN0IGNyZWF0ZVBhZ2VPblNlcnZlciA9IGFzeW5jICh7IG5hbWUsIHRpdGxlLCBzbHVnIH0pID0+IHtcbiAgICAgIGlmICghcGFnZXNBcGlCYXNlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignU2l0ZSBpbmNvbm51LicpO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChwYWdlc0FwaUJhc2UsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IG5hbWUsIHRpdGxlLCBzbHVnIH0pLFxuICAgICAgfSk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihwYXlsb2FkLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgY3JcdTAwRTllciBsYSBwYWdlLicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICB9O1xuICAgIGNvbnN0IHNhdmVQYWdlVG9TZXJ2ZXIgPSBhc3luYyAocGFnZSkgPT4ge1xuICAgICAgaWYgKCFwYWdlc0FwaUJhc2UgfHwgIXBhZ2U/LmlkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7cGFnZXNBcGlCYXNlfS8ke2VuY29kZVVSSUNvbXBvbmVudChwYWdlLmlkKX1gLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGFnZSksXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocGF5bG9hZC5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIHNhdXZlZ2FyZGVyIGxhIHBhZ2UuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2F2ZWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIGlmIChzYXZlZD8uaWQpIHtcbiAgICAgICAgICBjb25zdCBub3JtYWxpemVkID0gbm9ybWFsaXplUGFnZURhdGEoc2F2ZWQpO1xuICAgICAgICAgIHBhZ2VzID0gcGFnZXMubWFwKChlbnRyeSkgPT4gKGVudHJ5LmlkID09PSBub3JtYWxpemVkLmlkID8gbm9ybWFsaXplZCA6IGVudHJ5KSk7XG4gICAgICAgICAgaWYgKGN1cnJlbnRQYWdlPy5pZCA9PT0gbm9ybWFsaXplZC5pZCkge1xuICAgICAgICAgICAgY3VycmVudFBhZ2UgPSBub3JtYWxpemVkO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbm9ybWFsaXplZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2F2ZWQ7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2Rlc2lnbl0gU2F2ZSBwYWdlIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnU2F1dmVnYXJkZSBpbXBvc3NpYmxlLicpO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgbG9hZFBhZ2VzRnJvbVNlcnZlciA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghcGFnZXNBcGlCYXNlKSB7XG4gICAgICAgIHBhZ2VzID0gW107XG4gICAgICAgIGFjdGl2ZVBhZ2VJZCA9IG51bGw7XG4gICAgICAgIGN1cnJlbnRQYWdlID0gbnVsbDtcbiAgICAgICAgcmVuZGVyUGFnZUxpc3RzKHBhZ2VzLCBhY3RpdmVQYWdlSWQpO1xuICAgICAgICByZW5kZXJCbG9ja0xpc3QobnVsbCk7XG4gICAgICAgIGJsb2NrRGV0YWlsRW1wdHk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICBibG9ja0VkaXRvcj8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGxvYWRlZFBhZ2VzID0gYXdhaXQgZmV0Y2hQYWdlc0Zyb21TZXJ2ZXIoKTtcbiAgICAgICAgcGFnZXMgPSAoQXJyYXkuaXNBcnJheShsb2FkZWRQYWdlcykgPyBsb2FkZWRQYWdlcyA6IFtdKS5tYXAoKHBhZ2UpID0+XG4gICAgICAgICAgbm9ybWFsaXplUGFnZURhdGEocGFnZSksXG4gICAgICAgICk7XG4gICAgICAgIGlmIChwYWdlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICBhY3RpdmVQYWdlSWQgPSBudWxsO1xuICAgICAgICAgIGN1cnJlbnRQYWdlID0gbnVsbDtcbiAgICAgICAgICByZW5kZXJQYWdlTGlzdHMocGFnZXMsIGFjdGl2ZVBhZ2VJZCk7XG4gICAgICAgICAgcmVuZGVyQmxvY2tMaXN0KG51bGwpO1xuICAgICAgICAgIGJsb2NrRGV0YWlsRW1wdHk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgIGJsb2NrRWRpdG9yPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgICBwcmV2aWV3RnJhbWUgJiYgKHByZXZpZXdGcmFtZS5zcmNkb2MgPSBnZXRMb2FkaW5nUHJldmlld0h0bWwoKSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGFjdGl2ZVBhZ2VJZCA9IGdldFN0b3JlZEFjdGl2ZVBhZ2UocGFnZXMpO1xuICAgICAgICBzZXRBY3RpdmVQYWdlKGFjdGl2ZVBhZ2VJZCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2Rlc2lnbl0gSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxlcyBwYWdlcycsIGVycik7XG4gICAgICAgIHNob3dUb2FzdCgnSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxlcyBwYWdlcy4nKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IG5vcm1hbGl6ZVR5cGUgPSAodmFsdWUpID0+XG4gICAgICAodmFsdWUgfHwgJycpLm5vcm1hbGl6ZSgnTkZEJykucmVwbGFjZSgvW1xcdTAzMDAtXFx1MDM2Zl0vZywgJycpLnRvTG93ZXJDYXNlKCk7XG4gICAgY29uc3QgZ2V0QmxvY2tGb3JtQ29uZmlnID0gKGJsb2NrKSA9PiB7XG4gICAgICBpZiAoIWJsb2NrKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgY29uc3QgdHlwZUtleSA9IG5vcm1hbGl6ZVR5cGUoYmxvY2sudHlwZSk7XG4gICAgICBjb25zdCBhbGlhcyA9IGJsb2NrVHlwZUFsaWFzZXNbdHlwZUtleV0gfHwgdHlwZUtleTtcbiAgICAgIHJldHVybiBibG9ja1R5cGVGb3Jtc1thbGlhc10gfHwgbnVsbDtcbiAgICB9O1xuICAgIGNvbnN0IHBvcHVsYXRlQmxvY2tGb3JtID0gKGJsb2NrKSA9PiB7XG4gICAgICBpZiAoIWJsb2NrRm9ybSB8fCAhYmxvY2tFZGl0b3IpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGJsb2NrICYmICFibG9jay5zZXR0aW5ncykge1xuICAgICAgICBibG9jay5zZXR0aW5ncyA9IHt9O1xuICAgICAgfVxuICAgICAgY29uc3QgY29uZmlnID0gZ2V0QmxvY2tGb3JtQ29uZmlnKGJsb2NrKTtcbiAgICAgIGNvbnN0IHNlY3Rpb25Sb290ID0gZ2V0QmxvY2tFZGl0b3JTZWN0aW9uRWxlbWVudChjb25maWcpIHx8IGJsb2NrRm9ybTtcbiAgICAgIGlmIChibG9ja0VkaXRvclRpdGxlKSB7XG4gICAgICAgIGJsb2NrRWRpdG9yVGl0bGUudGV4dENvbnRlbnQgPSBibG9jaz8ubGFiZWwgfHwgJ0Jsb2MnO1xuICAgICAgfVxuICAgICAgaWYgKGJsb2NrRWRpdG9yVHlwZSkge1xuICAgICAgICBibG9ja0VkaXRvclR5cGUudGV4dENvbnRlbnQgPSBibG9jaz8udHlwZSB8fCAnQmxvYyc7XG4gICAgICB9XG4gICAgICBpZiAoIWNvbmZpZykge1xuICAgICAgICBibG9ja0Zvcm0uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIGJsb2NrRWRpdG9yVW5zdXBwb3J0ZWQ/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICBibG9ja0Zvcm0uZGF0YXNldC5ibG9ja0lkID0gJyc7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGJsb2NrRWRpdG9yVW5zdXBwb3J0ZWQ/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgYmxvY2tGb3JtLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgYmxvY2tGb3JtLnJlc2V0KCk7XG4gICAgICBibG9ja0Zvcm0uZGF0YXNldC5ibG9ja0lkID0gYmxvY2suaWQ7XG4gICAgICBibG9ja0Zvcm1TZWN0aW9ucy5mb3JFYWNoKChzZWN0aW9uKSA9PiB7XG4gICAgICAgIGNvbnN0IHNlY3Rpb25JZCA9IHNlY3Rpb24uZGF0YXNldC5lZGl0b3JTZWN0aW9uO1xuICAgICAgICBpZiAoc2VjdGlvbklkID09PSBjb25maWcuc2VjdGlvbikge1xuICAgICAgICAgIHNlY3Rpb24uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VjdGlvbi5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICAvLyBSXHUwMEU5aW5pdGlhbGlzZXIgc3VyIGwnb25nbGV0IENvbnRlbnVcbiAgICAgIHN3aXRjaEJsb2NrVGFiKCdjb250ZW50Jyk7XG4gICAgICBpZiAoY29uZmlnLnNlY3Rpb24gPT09ICdjb2xsZWN0aW9uJykge1xuICAgICAgICBjb25zdCBkZXNpcmVkVmFsdWUgPSBibG9jay5jb2xsZWN0aW9uSWQgfHwgYmxvY2suc2V0dGluZ3M/LmNvbGxlY3Rpb25JZCB8fCAnJztcbiAgICAgICAgdXBkYXRlQ29sbGVjdGlvblNlbGVjdE9wdGlvbnMoZGVzaXJlZFZhbHVlKTtcbiAgICAgICAgZW5zdXJlQ29sbGVjdGlvbkNhcmRFZGl0b3JSZWFkeShibG9jayk7XG4gICAgICB9XG4gICAgICBPYmplY3QuZW50cmllcyhjb25maWcuZmllbGRzKS5mb3JFYWNoKChbc2V0dGluZ0tleSwgZmllbGROYW1lXSkgPT4ge1xuICAgICAgICBjb25zdCBpbnB1dCA9IHNlY3Rpb25Sb290LnF1ZXJ5U2VsZWN0b3IoYFtuYW1lPVwiJHtmaWVsZE5hbWV9XCJdYCk7XG4gICAgICAgIGlmICghaW5wdXQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdmFsdWUgPSBibG9jay5zZXR0aW5ncz8uW3NldHRpbmdLZXldO1xuICAgICAgICBpZiAoaW5wdXQudHlwZSA9PT0gJ2NoZWNrYm94Jykge1xuICAgICAgICAgIGlucHV0LmNoZWNrZWQgPSBCb29sZWFuKHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIGlmIChpbnB1dC50eXBlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIGNvbnN0IGZhbGxiYWNrID0gaW5wdXQuZGF0YXNldC5kZWZhdWx0ID8/IGlucHV0LmRlZmF1bHRWYWx1ZSA/PyAnJztcbiAgICAgICAgICBpbnB1dC52YWx1ZSA9IHZhbHVlID8/IGZhbGxiYWNrO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0LnRhZ05hbWUgPT09ICdURVhUQVJFQScpIHtcbiAgICAgICAgICBpbnB1dC52YWx1ZSA9IHZhbHVlID8/ICcnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlucHV0LnZhbHVlID0gdmFsdWUgPz8gJyc7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKGNvbmZpZy5zZWN0aW9uID09PSAnZ3JvdXAnKSB7XG4gICAgICAgIGNvbnN0IG1vYmlsZVZhbHVlID1cbiAgICAgICAgICBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJncm91cC1jb2x1bW5zLW1vYmlsZVwiXScpPy52YWx1ZSB8fCAnMSc7XG4gICAgICAgIGNvbnN0IGRlc2t0b3BWYWx1ZSA9XG4gICAgICAgICAgYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZ3JvdXAtY29sdW1ucy1kZXNrdG9wXCJdJyk/LnZhbHVlIHx8ICczJztcbiAgICAgICAgdXBkYXRlR3JvdXBNaW5pUHJldmlldyhtb2JpbGVWYWx1ZSwgZGVza3RvcFZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGlmIChjb25maWcuc2VjdGlvbiA9PT0gJ2NvbGxlY3Rpb24nKSB7XG4gICAgICAgIGNvbnN0IG1vYmlsZVZhbHVlID1cbiAgICAgICAgICBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJjb2xsZWN0aW9uLWNvbHVtbnMtbW9iaWxlXCJdJyk/LnZhbHVlIHx8ICcxJztcbiAgICAgICAgY29uc3QgZGVza3RvcFZhbHVlID1cbiAgICAgICAgICBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJjb2xsZWN0aW9uLWNvbHVtbnMtZGVza3RvcFwiXScpPy52YWx1ZSB8fCAnMyc7XG4gICAgICAgIHVwZGF0ZUNvbGxlY3Rpb25NaW5pUHJldmlldyhtb2JpbGVWYWx1ZSwgZGVza3RvcFZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGJnRmllbGROYW1lID0gY29uZmlnLmZpZWxkcz8uYmc7XG4gICAgICBpZiAoYmdGaWVsZE5hbWUpIHtcbiAgICAgICAgY29uc3QgYmdTZWxlY3QgPSBzZWN0aW9uUm9vdC5xdWVyeVNlbGVjdG9yKGBbbmFtZT1cIiR7YmdGaWVsZE5hbWV9XCJdYCk7XG4gICAgICAgIGVuc3VyZUN1c3RvbVRoZW1lT3B0aW9uKGJnU2VsZWN0LCBibG9jay5zZXR0aW5ncz8uYmcpO1xuICAgICAgfVxuICAgICAgYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWNvbG9yLXNlbGVjdF0nKS5mb3JFYWNoKHVwZGF0ZUNvbG9yU2VsZWN0UHJldmlldyk7XG4gICAgfTtcbiAgICBjb25zdCBjb2xsZWN0Rm9ybVZhbHVlcyA9IChjb25maWcpID0+IHtcbiAgICAgIGlmICghYmxvY2tGb3JtIHx8ICFjb25maWcpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgfVxuICAgICAgY29uc3Qgc2VjdGlvblJvb3QgPSBnZXRCbG9ja0VkaXRvclNlY3Rpb25FbGVtZW50KGNvbmZpZykgfHwgYmxvY2tGb3JtO1xuICAgICAgY29uc3QgdmFsdWVzID0ge307XG4gICAgICBPYmplY3QuZW50cmllcyhjb25maWcuZmllbGRzKS5mb3JFYWNoKChbc2V0dGluZ0tleSwgZmllbGROYW1lXSkgPT4ge1xuICAgICAgICBjb25zdCBpbnB1dCA9IHNlY3Rpb25Sb290LnF1ZXJ5U2VsZWN0b3IoYFtuYW1lPVwiJHtmaWVsZE5hbWV9XCJdYCk7XG4gICAgICAgIGlmICghaW5wdXQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlucHV0LnR5cGUgPT09ICdjaGVja2JveCcpIHtcbiAgICAgICAgICB2YWx1ZXNbc2V0dGluZ0tleV0gPSBpbnB1dC5jaGVja2VkO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0LnR5cGUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgY29uc3QgcGFyc2VkID0gTnVtYmVyKGlucHV0LnZhbHVlKTtcbiAgICAgICAgICB2YWx1ZXNbc2V0dGluZ0tleV0gPSBOdW1iZXIuaXNGaW5pdGUocGFyc2VkKSA/IHBhcnNlZCA6IDA7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5wdXQudGFnTmFtZSA9PT0gJ1NFTEVDVCcpIHtcbiAgICAgICAgICBjb25zdCBmYWxsYmFjayA9IGlucHV0LmRhdGFzZXQuZGVmYXVsdCA/PyBpbnB1dC52YWx1ZSA/PyAnJztcbiAgICAgICAgICB2YWx1ZXNbc2V0dGluZ0tleV0gPSBpbnB1dC52YWx1ZSB8fCBmYWxsYmFjaztcbiAgICAgICAgfSBlbHNlIGlmIChpbnB1dC50YWdOYW1lID09PSAnVEVYVEFSRUEnKSB7XG4gICAgICAgICAgdmFsdWVzW3NldHRpbmdLZXldID0gaW5wdXQudmFsdWUgfHwgJyc7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5wdXQudHlwZSA9PT0gJ3NlbGVjdC1vbmUnKSB7XG4gICAgICAgICAgdmFsdWVzW3NldHRpbmdLZXldID0gaW5wdXQudmFsdWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFsdWVzW3NldHRpbmdLZXldID0gaW5wdXQudmFsdWUgfHwgJyc7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHZhbHVlcztcbiAgICB9O1xuICAgIGNvbnN0IHVwZGF0ZVByZXZpZXdTdGF0dXMgPSAodGV4dCkgPT4ge1xuICAgICAgaWYgKCFwcmV2aWV3U3RhdHVzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghdGV4dCkge1xuICAgICAgICBwcmV2aWV3U3RhdHVzLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwcmV2aWV3U3RhdHVzLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgcHJldmlld1N0YXR1cy50ZXh0Q29udGVudCA9IHRleHQ7XG4gICAgfTtcbiAgICBjb25zdCBzZXJpYWxpemVQYWdlRm9yUHJldmlldyA9IChwYWdlKSA9PiB7XG4gICAgICBpZiAoIXBhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEZvbmN0aW9uIHBvdXIgc1x1MDBFOXJpYWxpc2VyIHVuIGJsb2MgKHV0aWxpc1x1MDBFOSBwb3VyIGxlcyBibG9jcyBldCBsZXVycyBlbmZhbnRzKVxuICAgICAgY29uc3Qgc2VyaWFsaXplQmxvY2sgPSAoYmxvY2spID0+ICh7XG4gICAgICAgIGlkOiBibG9jay5pZCxcbiAgICAgICAgdHlwZTogYmxvY2sudHlwZSxcbiAgICAgICAgbGFiZWw6IGJsb2NrLmxhYmVsLFxuICAgICAgICBzdGF0dXM6IGJsb2NrLnN0YXR1cyxcbiAgICAgICAgZGVzY3JpcHRpb246IGJsb2NrLmRlc2NyaXB0aW9uLFxuICAgICAgICBwcm9wczogYmxvY2sucHJvcHMgfHwgW10sXG4gICAgICAgIHNldHRpbmdzOiBibG9jay5zZXR0aW5ncyB8fCB7fSxcbiAgICAgICAgY29sbGVjdGlvbklkOiBibG9jay5jb2xsZWN0aW9uSWQgfHwgYmxvY2suc2V0dGluZ3M/LmNvbGxlY3Rpb25JZCB8fCAnJyxcbiAgICAgICAgY2hpbGRyZW46IChibG9jay5jaGlsZHJlbiB8fCBbXSkubWFwKHNlcmlhbGl6ZUJsb2NrKSxcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICByZXR1cm4ge1xuICAgICAgICBpZDogcGFnZS5pZCxcbiAgICAgICAgbmFtZTogcGFnZS5uYW1lLFxuICAgICAgICB0aXRsZTogcGFnZS50aXRsZSxcbiAgICAgICAgc2x1ZzogcGFnZS5zbHVnLFxuICAgICAgICBkZXNjcmlwdGlvbjogcGFnZS5kZXNjcmlwdGlvbiB8fCAnJyxcbiAgICAgICAgYmFkZ2VzOiBbLi4uKHBhZ2UuYmFkZ2VzIHx8IFtdKV0sXG4gICAgICAgIHNlbzogcGFnZS5zZW8gfHwge30sXG4gICAgICAgIGFjY2Vzc2liaWxpdHk6IHBhZ2UuYWNjZXNzaWJpbGl0eSB8fCB7fSxcbiAgICAgICAgYmxvY2tzOiAocGFnZS5ibG9ja3MgfHwgW10pLm1hcChzZXJpYWxpemVCbG9jayksXG4gICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgZ2V0TG9hZGluZ1ByZXZpZXdIdG1sID0gKCkgPT5cbiAgICAgICc8IURPQ1RZUEUgaHRtbD48aHRtbD48Ym9keSBzdHlsZT1cImZvbnQtZmFtaWx5OkludGVyLHNhbnMtc2VyaWY7cGFkZGluZzo0MHB4O2NvbG9yOiM0NzU1Njk7YmFja2dyb3VuZDojZmZmO1wiPlByXHUwMEU5cGFyYXRpb24gZGUgbGEgcHJcdTAwRTl2aXN1YWxpc2F0aW9uXHUyMDI2PC9ib2R5PjwvaHRtbD4nO1xuXG4gICAgLy8gRGVib3VuY2UgdXRpbGl0eVxuICAgIGNvbnN0IGRlYm91bmNlID0gKGZuLCBkZWxheSkgPT4ge1xuICAgICAgbGV0IHRpbWVvdXRJZDtcbiAgICAgIHJldHVybiAoLi4uYXJncykgPT4ge1xuICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcbiAgICAgICAgdGltZW91dElkID0gc2V0VGltZW91dCgoKSA9PiBmbiguLi5hcmdzKSwgZGVsYXkpO1xuICAgICAgfTtcbiAgICB9O1xuXG4gICAgLy8gQXV0by1zYXZlIHBvdXIgbCdhcHBhcmVuY2UgKGltbVx1MDBFOWRpYXQgcG91ciBcdTAwRTl2aXRlciBsZXMgcGVydGVzKVxuICAgIGNvbnN0IGF1dG9TYXZlQXBwZWFyYW5jZSA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghY3VycmVudFBhZ2UgfHwgIWFjdGl2ZUJsb2NrSWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgYmxvY2sgPSBnZXRBY3RpdmVCbG9jaygpO1xuICAgICAgY29uc3QgY29uZmlnID0gZ2V0QmxvY2tGb3JtQ29uZmlnKGJsb2NrKTtcbiAgICAgIGlmICghYmxvY2sgfHwgIWNvbmZpZykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCB2YWx1ZXMgPSBjb2xsZWN0Rm9ybVZhbHVlcyhjb25maWcpO1xuICAgICAgY29uc3QgeyBibG9ja3M6IHVwZGF0ZWRCbG9ja3MsIGRpZFVwZGF0ZSwgZm91bmRQYXJlbnRJZCB9ID0gdXBkYXRlQmxvY2tzRGVlcChcbiAgICAgICAgY3VycmVudFBhZ2UuYmxvY2tzIHx8IFtdLFxuICAgICAgICBibG9jay5pZCxcbiAgICAgICAgKGVudHJ5KSA9PiB7XG4gICAgICAgICAgY29uc3QgdXBkYXRlZFNldHRpbmdzID0geyAuLi4oZW50cnkuc2V0dGluZ3MgfHwge30pLCAuLi52YWx1ZXMgfTtcbiAgICAgICAgICByZXR1cm4geyAuLi5lbnRyeSwgc2V0dGluZ3M6IHVwZGF0ZWRTZXR0aW5ncyB9O1xuICAgICAgICB9LFxuICAgICAgICBhY3RpdmVCbG9ja1BhcmVudElkLFxuICAgICAgKTtcbiAgICAgIGlmICghZGlkVXBkYXRlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGFjdGl2ZUJsb2NrUGFyZW50SWQgPSBmb3VuZFBhcmVudElkO1xuICAgICAgLy8gTWlzZSBcdTAwRTAgam91ciBzaWxlbmNpZXVzZSAoc2FucyB0b2FzdCBuaSByZWZyZXNoIGNvbXBsZXQpXG4gICAgICBjb25zdCBuZXh0UGFnZSA9IHsgLi4uY3VycmVudFBhZ2UsIGJsb2NrczogdXBkYXRlZEJsb2NrcyB9O1xuICAgICAgY3VycmVudFBhZ2UgPSBuZXh0UGFnZTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHNhdmVkID0gYXdhaXQgc2F2ZVBhZ2VUb1NlcnZlcihuZXh0UGFnZSk7XG4gICAgICAgIGlmIChzYXZlZD8uaWQpIHtcbiAgICAgICAgICBjb25zdCBub3JtYWxpemVkID0gbm9ybWFsaXplUGFnZURhdGEoc2F2ZWQpO1xuICAgICAgICAgIGN1cnJlbnRQYWdlID0gbm9ybWFsaXplZDtcbiAgICAgICAgICBwYWdlcyA9IHBhZ2VzLm1hcCgocCkgPT4gKHAuaWQgPT09IG5vcm1hbGl6ZWQuaWQgPyBub3JtYWxpemVkIDogcCkpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdbZGVzaWduXSBhdXRvLXNhdmUgYXBwZWFyYW5jZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBNaXNlIFx1MDBFMCBqb3VyIGxpdmUgZGUgbGEgcHJldmlldyB2aWEgcG9zdE1lc3NhZ2UgKHNhbnMgcmVjaGFyZ2VyIGwnaWZyYW1lKVxuICAgIGNvbnN0IHVwZGF0ZVByZXZpZXdCbG9ja0xpdmUgPSAoYmxvY2tJZCwgc2V0dGluZ3MpID0+IHtcbiAgICAgIGlmICghcHJldmlld0ZyYW1lIHx8ICFwcmV2aWV3RnJhbWUuY29udGVudFdpbmRvdykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBFbnZvaWUgbGVzIG5vdXZlbGxlcyBjbGFzc2VzIGF1IGJsb2MgZGFucyBsJ2lmcmFtZVxuICAgICAgcHJldmlld0ZyYW1lLmNvbnRlbnRXaW5kb3cucG9zdE1lc3NhZ2Uoe1xuICAgICAgICB0eXBlOiAndXBkYXRlQmxvY2tTdHlsZXMnLFxuICAgICAgICBibG9ja0lkLFxuICAgICAgICBzZXR0aW5ncyxcbiAgICAgIH0sICcqJyk7XG4gICAgfTtcblxuICAgIC8vIFJlZnJlc2ggcHJldmlldyBjb21wbGV0IGRlYm91bmNlZCAocG91ciBsZXMgY2hhbmdlbWVudHMgY29tcGxleGVzKVxuICAgIGNvbnN0IGRlYm91bmNlZFJlZnJlc2hQcmV2aWV3ID0gZGVib3VuY2UoKCkgPT4ge1xuICAgICAgaWYgKGN1cnJlbnRQYWdlKSB7XG4gICAgICAgIHJlZnJlc2hQcmV2aWV3KGN1cnJlbnRQYWdlKTtcbiAgICAgIH1cbiAgICB9LCAxNTAwKTtcblxuICAgIC8vIE1pc2UgXHUwMEUwIGpvdXIgbGl2ZSBpbW1cdTAwRTlkaWF0ZSAocG91ciBsYSBwcmV2aWV3KVxuICAgIGNvbnN0IGhhbmRsZUFwcGVhcmFuY2VDaGFuZ2UgPSAoYmxvY2tJZCwgc2V0dGluZ3MpID0+IHtcbiAgICAgIHVwZGF0ZVByZXZpZXdCbG9ja0xpdmUoYmxvY2tJZCwgc2V0dGluZ3MpO1xuICAgICAgdXBkYXRlUHJldmlld1N0YXR1cygnTW9kaWZpY2F0aW9uXHUyMDI2Jyk7XG4gICAgICBhdXRvU2F2ZUFwcGVhcmFuY2UoKVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgdXBkYXRlUHJldmlld1N0YXR1cygnU2F1dmVnYXJkXHUwMEU5Jyk7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB1cGRhdGVQcmV2aWV3U3RhdHVzKCdcdTAwQzAgam91cicpLCAxNTAwKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKCgpID0+IHVwZGF0ZVByZXZpZXdTdGF0dXMoJ0VycmV1ciBkZSBzYXV2ZWdhcmRlJykpO1xuICAgICAgLy8gUmVmcmVzaCBjb21wbGV0IGFwclx1MDBFOHMgdW4gZFx1MDBFOWxhaSBwbHVzIGxvbmcgKHBvdXIgbGVzIGNoYW5nZW1lbnRzIGRlIGxheW91dCwgZXRjLilcbiAgICAgIGRlYm91bmNlZFJlZnJlc2hQcmV2aWV3KCk7XG4gICAgfTtcblxuICAgIGNvbnN0IHJlZnJlc2hQcmV2aWV3ID0gKHBhZ2UpID0+IHtcbiAgICAgIGlmICghcHJldmlld0ZyYW1lIHx8ICFwYWdlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHByZXZpZXdTaXRlU2x1ZyA9IHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJyc7XG4gICAgICBjb25zdCBzZXJpYWxpemVkUGFnZXMgPSBwYWdlcy5tYXAoKGVudHJ5KSA9PiAoe1xuICAgICAgICBpZDogZW50cnkuaWQsXG4gICAgICAgIHNsdWc6IGVudHJ5LnNsdWcsXG4gICAgICAgIHRpdGxlOiBlbnRyeS50aXRsZSxcbiAgICAgICAgbmFtZTogZW50cnkubmFtZSxcbiAgICAgICAgYWNjZXNzaWJpbGl0eTogZW50cnkuYWNjZXNzaWJpbGl0eSxcbiAgICAgIH0pKTtcbiAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgIHBhZ2U6IHNlcmlhbGl6ZVBhZ2VGb3JQcmV2aWV3KHBhZ2UpLFxuICAgICAgICBzaXRlOiB7XG4gICAgICAgICAgdGl0bGU6IHN0b3JlZFNpdGUubmFtZSB8fCAnU2l0ZScsXG4gICAgICAgICAgc2x1ZzogcHJldmlld1NpdGVTbHVnLFxuICAgICAgICAgIHBhZ2VzOiBzZXJpYWxpemVkUGFnZXMsXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgICAgcHJldmlld1JlYWR5ID0gZmFsc2U7XG4gICAgICB1cGRhdGVQcmV2aWV3U3RhdHVzKCdBY3R1YWxpc2F0aW9uXHUyMDI2Jyk7XG4gICAgICBwcmV2aWV3RnJhbWUuc3JjZG9jID0gZ2V0TG9hZGluZ1ByZXZpZXdIdG1sKCk7XG4gICAgICBpZiAocHJldmlld1JlcXVlc3RDb250cm9sbGVyKSB7XG4gICAgICAgIHByZXZpZXdSZXF1ZXN0Q29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgfVxuICAgICAgY29uc3QgY29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICAgIHByZXZpZXdSZXF1ZXN0Q29udHJvbGxlciA9IGNvbnRyb2xsZXI7XG4gICAgICBmZXRjaCgnL2FwaS9wcmV2aWV3Jywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICBzaWduYWw6IGNvbnRyb2xsZXIuc2lnbmFsLFxuICAgICAgfSlcbiAgICAgICAgLnRoZW4oYXN5bmMgKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICBjb25zdCBtc2cgPSBkYXRhPy5lcnJvciB8fCBkYXRhPy5tZXNzYWdlIHx8IGBQcmV2aWV3IGVycm9yICgke3Jlc3BvbnNlLnN0YXR1c30pYDtcbiAgICAgICAgICAgIGNvbnN0IGVyciA9IG5ldyBFcnJvcihtc2cpO1xuICAgICAgICAgICAgZXJyLnBheWxvYWQgPSBkYXRhO1xuICAgICAgICAgICAgZXJyLnN0YXR1cyA9IHJlc3BvbnNlLnN0YXR1cztcbiAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgICAgaWYgKGNvbnRyb2xsZXIuc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgbGF0ZXN0UHJldmlld0h0bWwgPSBkYXRhLmh0bWwgfHwgJyc7XG4gICAgICAgICAgcHJldmlld0ZyYW1lLnNldEF0dHJpYnV0ZShcbiAgICAgICAgICAgICd0aXRsZScsXG4gICAgICAgICAgICBgUHJcdTAwRTl2aXN1YWxpc2F0aW9uIGRlIGxhIHBhZ2UgJHtwYWdlLnRpdGxlIHx8ICcnfWAudHJpbSgpLFxuICAgICAgICAgICk7XG4gICAgICAgICAgcHJldmlld0ZyYW1lLnNyY2RvYyA9IGxhdGVzdFByZXZpZXdIdG1sIHx8IGdldExvYWRpbmdQcmV2aWV3SHRtbCgpO1xuICAgICAgICAgIHVwZGF0ZVByZXZpZXdTdGF0dXMoJ1x1MDBDMCBqb3VyJyk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICBpZiAoY29udHJvbGxlci5zaWduYWwuYWJvcnRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbcHJldmlld10gSW1wb3NzaWJsZSBkZSByZW5kcmUgbGEgcGFnZScsIGVycm9yPy5tZXNzYWdlIHx8IGVycm9yLCBlcnJvcj8ucGF5bG9hZCB8fCAnJyk7XG4gICAgICAgICAgdXBkYXRlUHJldmlld1N0YXR1cygnRXJyZXVyIHByZXZpZXcnKTtcbiAgICAgICAgICBwcmV2aWV3RnJhbWUuc3JjZG9jID1cbiAgICAgICAgICAgICc8IURPQ1RZUEUgaHRtbD48aHRtbD48Ym9keSBzdHlsZT1cImZvbnQtZmFtaWx5OkludGVyLHNhbnMtc2VyaWY7cGFkZGluZzo0MHB4O2NvbG9yOiNiZTEyM2M7YmFja2dyb3VuZDojZmZmO1wiPkVycmV1ciBsb3JzIGR1IHJlbmR1IGRlIGxhIHByXHUwMEU5dmlzdWFsaXNhdGlvbi48L2JvZHk+PC9odG1sPic7XG4gICAgICAgIH0pXG4gICAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgICBpZiAocHJldmlld1JlcXVlc3RDb250cm9sbGVyID09PSBjb250cm9sbGVyKSB7XG4gICAgICAgICAgICBwcmV2aWV3UmVxdWVzdENvbnRyb2xsZXIgPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBjb25zdCBoYW5kbGVCbG9ja0Zvcm1TdWJtaXQgPSAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlIHx8ICFhY3RpdmVCbG9ja0lkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGJsb2NrID0gZ2V0QWN0aXZlQmxvY2soKTtcbiAgICAgIGNvbnN0IGNvbmZpZyA9IGdldEJsb2NrRm9ybUNvbmZpZyhibG9jayk7XG4gICAgICBpZiAoIWJsb2NrIHx8ICFjb25maWcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgdmFsdWVzID0gY29sbGVjdEZvcm1WYWx1ZXMoY29uZmlnKTtcbiAgICAgIGlmIChjb25maWcuc2VjdGlvbiA9PT0gJ2ltYWdlJykge1xuICAgICAgICBjb25zdCBhbHRWYWx1ZSA9ICh2YWx1ZXMuYWx0IHx8ICcnKS50cmltKCk7XG4gICAgICAgIHZhbHVlcy5hbHQgPSBhbHRWYWx1ZTtcbiAgICAgICAgaWYgKCFhbHRWYWx1ZSkge1xuICAgICAgICAgIHNob3dUb2FzdCgnQWpvdXRlIHVuIHRleHRlIGFsdGVybmF0aWYgcG91ciBjZXR0ZSBpbWFnZS4nLCAnZXJyb3InKTtcbiAgICAgICAgICBibG9ja0Zvcm0/LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaW1hZ2UtYWx0XCJdJyk/LmZvY3VzKCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoY29uZmlnLnNlY3Rpb24gPT09ICdjb2xsZWN0aW9uJykge1xuICAgICAgICBpZiAoIXZhbHVlcy5jb2xsZWN0aW9uSWQpIHtcbiAgICAgICAgICBzaG93VG9hc3QoJ1NcdTAwRTlsZWN0aW9ubmV6IHVuZSBjb2xsZWN0aW9uLicpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YWx1ZXMubGltaXQgPSBNYXRoLm1heCgxLCBOdW1iZXIodmFsdWVzLmxpbWl0KSB8fCAxKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHsgYmxvY2tzOiB1cGRhdGVkQmxvY2tzLCBkaWRVcGRhdGUsIGZvdW5kUGFyZW50SWQgfSA9IHVwZGF0ZUJsb2Nrc0RlZXAoXG4gICAgICAgIGN1cnJlbnRQYWdlLmJsb2NrcyB8fCBbXSxcbiAgICAgICAgYmxvY2suaWQsXG4gICAgICAgIChlbnRyeSkgPT4ge1xuICAgICAgICAgIGNvbnN0IHVwZGF0ZWRTZXR0aW5ncyA9IHsgLi4uKGVudHJ5LnNldHRpbmdzIHx8IHt9KSwgLi4udmFsdWVzIH07XG4gICAgICAgICAgY29uc3QgdXBkYXRlZEJsb2NrID0ge1xuICAgICAgICAgICAgLi4uZW50cnksXG4gICAgICAgICAgICBzZXR0aW5nczogdXBkYXRlZFNldHRpbmdzLFxuICAgICAgICAgIH07XG4gICAgICAgICAgaWYgKGNvbmZpZy5sYWJlbEZpZWxkICYmIHZhbHVlc1tjb25maWcubGFiZWxGaWVsZF0pIHtcbiAgICAgICAgICAgIHVwZGF0ZWRCbG9jay5sYWJlbCA9IHZhbHVlc1tjb25maWcubGFiZWxGaWVsZF07XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChjb25maWcuZGVzY3JpcHRpb25GaWVsZCAmJiB2YWx1ZXNbY29uZmlnLmRlc2NyaXB0aW9uRmllbGRdKSB7XG4gICAgICAgICAgICB1cGRhdGVkQmxvY2suZGVzY3JpcHRpb24gPSB2YWx1ZXNbY29uZmlnLmRlc2NyaXB0aW9uRmllbGRdO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoY29uZmlnLnNlY3Rpb24gPT09ICdjb2xsZWN0aW9uJykge1xuICAgICAgICAgICAgdXBkYXRlZEJsb2NrLmNvbGxlY3Rpb25JZCA9IHZhbHVlcy5jb2xsZWN0aW9uSWQ7XG4gICAgICAgICAgICB1cGRhdGVkQmxvY2suc2V0dGluZ3MuY29sbGVjdGlvbklkID0gdmFsdWVzLmNvbGxlY3Rpb25JZDtcbiAgICAgICAgICAgIHVwZGF0ZWRCbG9jay5zZXR0aW5ncy5saW1pdCA9IHZhbHVlcy5saW1pdDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHVwZGF0ZWRCbG9jaztcbiAgICAgICAgfSxcbiAgICAgICAgYWN0aXZlQmxvY2tQYXJlbnRJZCxcbiAgICAgICk7XG4gICAgICBpZiAoIWRpZFVwZGF0ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhY3RpdmVCbG9ja1BhcmVudElkID0gZm91bmRQYXJlbnRJZDtcbiAgICAgIHVwZGF0ZUN1cnJlbnRQYWdlQmxvY2tzKHVwZGF0ZWRCbG9ja3MpO1xuICAgICAgc2hvd1RvYXN0KCdCbG9jIG1pcyBcdTAwRTAgam91cicpO1xuICAgICAgc2V0QWN0aXZlUGFnZShjdXJyZW50UGFnZS5pZCwgeyBwcmVzZXJ2ZUJsb2NrOiB0cnVlIH0pO1xuICAgIH07XG4gICAgY29uc3QgZHJhd2VyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1kcmF3ZXJdJyk7XG4gICAgY29uc3QgZHJhd2VyQmFja2Ryb3AgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLWRyYXdlci1iYWNrZHJvcF0nKTtcbiAgICBjb25zdCBkcmF3ZXJPcGVuQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXBhZ2UtZHJhd2VyLW9wZW5dJyk7XG4gICAgY29uc3QgZHJhd2VyQ2xvc2VCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtcGFnZS1kcmF3ZXItY2xvc2VdJyk7XG4gICAgY29uc3QgYWRkUGFnZVRvZ2dsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFkZC1wYWdlLXRvZ2dsZV0nKTtcbiAgICBjb25zdCBhZGRQYWdlRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFkZC1wYWdlLWZvcm1dJyk7XG4gICAgY29uc3QgYWRkUGFnZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZGQtcGFnZS1uYW1lXScpO1xuICAgIGNvbnN0IGFkZFBhZ2VUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFkZC1wYWdlLXRpdGxlXScpO1xuICAgIGNvbnN0IGFkZFBhZ2VTbHVnID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRkLXBhZ2Utc2x1Z10nKTtcbiAgICBjb25zdCBhZGRQYWdlQ2FuY2VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRkLXBhZ2UtY2FuY2VsXScpO1xuICAgIGNvbnN0IGFkZFBhZ2VFcnJvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFkZC1wYWdlLWVycm9yXScpO1xuICAgIGNvbnN0IGFkZFBhZ2VTdWJtaXRCdXR0b24gPSBhZGRQYWdlRm9ybT8ucXVlcnlTZWxlY3RvcignW3R5cGU9XCJzdWJtaXRcIl0nKTtcbiAgICAvLyBJbXBvcnQgSlNPTiBlbGVtZW50c1xuICAgIGNvbnN0IGltcG9ydFRvZ2dsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWltcG9ydC1wYWdlcy10b2dnbGVdJyk7XG4gICAgY29uc3QgaW1wb3J0TW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbXBvcnQtbW9kYWxdJyk7XG4gICAgY29uc3QgaW1wb3J0Q2xvc2VCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtaW1wb3J0LW1vZGFsLWNsb3NlXScpO1xuICAgIGNvbnN0IGltcG9ydERyb3B6b25lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaW1wb3J0LWRyb3B6b25lXScpO1xuICAgIGNvbnN0IGltcG9ydEZpbGVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWltcG9ydC1maWxlLWlucHV0XScpO1xuICAgIGNvbnN0IGltcG9ydEZpbGVMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaW1wb3J0LWZpbGUtbGlzdF0nKTtcbiAgICBjb25zdCBpbXBvcnRGaWxlTmFtZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbXBvcnQtZmlsZS1uYW1lc10nKTtcbiAgICBjb25zdCBpbXBvcnRSZXN1bHRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaW1wb3J0LXJlc3VsdHNdJyk7XG4gICAgY29uc3QgaW1wb3J0UmVzdWx0c0NvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbXBvcnQtcmVzdWx0cy1jb250ZW50XScpO1xuICAgIGNvbnN0IGltcG9ydFN1Ym1pdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWltcG9ydC1zdWJtaXRdJyk7XG4gICAgY29uc3QgaW1wb3J0VGFicyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWltcG9ydC10YWJdJyk7XG4gICAgY29uc3QgaW1wb3J0UGFuZWxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtaW1wb3J0LXBhbmVsXScpO1xuICAgIGNvbnN0IGNvcHlQcm9tcHRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb3B5LXByb21wdF0nKTtcbiAgICBjb25zdCBjb3B5VGVtcGxhdGVCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb3B5LXRlbXBsYXRlXScpO1xuICAgIGNvbnN0IHRlbXBsYXRlSnNvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRlbXBsYXRlLWpzb25dJyk7XG4gICAgY29uc3QgaW1wb3J0QWlQcm9tcHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbXBvcnQtYWktcHJvbXB0XScpO1xuICAgIC8vIFBhc3RlIEpTT04gZWxlbWVudHNcbiAgICBjb25zdCBpbXBvcnRQYXN0ZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaW1wb3J0LXBhc3RlLWpzb25dJyk7XG4gICAgY29uc3QgcGFzdGVGb3JtYXRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1mb3JtYXQtanNvbl0nKTtcbiAgICBjb25zdCBwYXN0ZUVycm9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaW1wb3J0LXBhc3RlLWVycm9yXScpO1xuICAgIGxldCBpbXBvcnRTZWxlY3RlZEZpbGVzID0gW107XG4gICAgbGV0IGFjdGl2ZUltcG9ydFRhYiA9ICd1cGxvYWQnO1xuICAgIC8vIERlbGV0ZSBwYWdlIGVsZW1lbnRzXG4gICAgY29uc3QgZGVsZXRlUGFnZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVsZXRlLXBhZ2UtbW9kYWxdJyk7XG4gICAgY29uc3QgZGVsZXRlUGFnZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZWxldGUtcGFnZS1uYW1lXScpO1xuICAgIGNvbnN0IGRlbGV0ZVBhZ2VDYW5jZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZWxldGUtcGFnZS1jYW5jZWxdJyk7XG4gICAgY29uc3QgZGVsZXRlUGFnZUNvbmZpcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZWxldGUtcGFnZS1jb25maXJtXScpO1xuICAgIGxldCBwYWdlVG9EZWxldGUgPSBudWxsO1xuICAgIGNvbnN0IHNpdGVLZXkgPVxuICAgICAgc3RyaXBMZWFkaW5nU2xhc2god29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnZGVmYXVsdCcpIHx8ICdkZWZhdWx0JztcbiAgICBjb25zdCBzaXRlU2x1Z1ZhbHVlID0gd29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnJztcbiAgICBjb25zdCBzYWZlU2l0ZVNsdWcgPSBzdHJpcExlYWRpbmdTbGFzaChzaXRlU2x1Z1ZhbHVlKSB8fCAnJztcbiAgICBjb25zdCBwYWdlc0FwaUJhc2UgPSBzYWZlU2l0ZVNsdWdcbiAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnKX0vcGFnZXNgXG4gICAgICA6IG51bGw7XG4gICAgY29uc3QgY29sbGVjdGlvbnNBcGlCYXNlID0gc2FmZVNpdGVTbHVnXG4gICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Zyl9L2NvbGxlY3Rpb25zYFxuICAgICAgOiBudWxsO1xuICAgIGNvbnN0IHN0b3JhZ2VLZXlzID0ge1xuICAgICAgYWN0aXZlOiBgY2xvd2VyOmFjdGl2ZVBhZ2U6JHtzaXRlS2V5fWAsXG4gICAgfTtcbiAgICBjb25zdCBjcmVhdGVCbG9jayA9IChpZCwgbGFiZWwsIHR5cGUsIHN0YXR1cywgZGVzY3JpcHRpb24sIHByb3BzID0gW10sIHNldHRpbmdzID0ge30pID0+IHtcbiAgICAgIGNvbnN0IGJsb2NrID0ge1xuICAgICAgICBpZCxcbiAgICAgICAgbGFiZWwsXG4gICAgICAgIHR5cGUsXG4gICAgICAgIHN0YXR1cyxcbiAgICAgICAgZGVzY3JpcHRpb24sXG4gICAgICAgIHByb3BzLFxuICAgICAgICBzZXR0aW5nczogeyAuLi5zZXR0aW5ncyB9LFxuICAgICAgfTtcbiAgICAgIGlmIChibG9jay5zZXR0aW5ncy5jb2xsZWN0aW9uSWQpIHtcbiAgICAgICAgYmxvY2suY29sbGVjdGlvbklkID0gYmxvY2suc2V0dGluZ3MuY29sbGVjdGlvbklkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJsb2NrO1xuICAgIH07XG4gICAgY29uc3QgYmxvY2tMaWJyYXJ5RGVmaW5pdGlvbnMgPSB7XG4gICAgICBoZXJvOiB7XG4gICAgICAgIHR5cGU6ICdIZXJvJyxcbiAgICAgICAgbGFiZWw6ICdIZXJvIGRlIHBhZ2UnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ1NlY3Rpb24gcGxlaW5lIGxhcmdldXIgYXZlYyBDVEEgcHJpbmNpcGFsLicsXG4gICAgICAgIHN0YXR1czogJ0Jyb3VpbGxvbicsXG4gICAgICAgIHByb3BzOiBbXG4gICAgICAgICAgeyBsYWJlbDogJ0NUQScsIHZhbHVlOiAnRFx1MDBFOWNvdXZyaXInIH0sXG4gICAgICAgICAgeyBsYWJlbDogJ0hhdXRldXInLCB2YWx1ZTogJzgwdmgnIH0sXG4gICAgICAgIF0sXG4gICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgdGl0bGU6ICdUaXRyZSBkdSBoZXJvJyxcbiAgICAgICAgICBzdWJ0aXRsZTogJycsXG4gICAgICAgICAgY3RhTGFiZWw6ICdEXHUwMEU5Y291dnJpcicsXG4gICAgICAgICAgY3RhVXJsOiAnIycsXG4gICAgICAgICAgaW1hZ2U6ICcnLFxuICAgICAgICAgIGFsaWduOiAnY2VudGVyJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBwYXJhZ3JhcGg6IHtcbiAgICAgICAgdHlwZTogJ1BhcmFncmFwaGUnLFxuICAgICAgICBsYWJlbDogJ0Jsb2MgXHUwMEU5ZGl0b3JpYWwnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ1BhcmFncmFwaGUgbGlicmUgcG91ciByYWNvbnRlciB2b3RyZSBoaXN0b2lyZS4nLFxuICAgICAgICBzdGF0dXM6ICdCcm91aWxsb24nLFxuICAgICAgICBwcm9wczogW3sgbGFiZWw6ICdMb25ndWV1cicsIHZhbHVlOiAnMTUwIG1vdHMnIH1dLFxuICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgIHRpdGxlOiAnVGl0cmUgZHUgcGFyYWdyYXBoZScsXG4gICAgICAgICAgY29udGVudDogJycsXG4gICAgICAgICAgYWxpZ246ICdsZWZ0JyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBpbWFnZToge1xuICAgICAgICB0eXBlOiAnSW1hZ2UnLFxuICAgICAgICBsYWJlbDogJ0Jsb2MgaW1hZ2UnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ1Zpc3VlbCBzZXVsIGF2ZWMgbFx1MDBFOWdlbmRlIG9wdGlvbm5lbGxlLicsXG4gICAgICAgIHN0YXR1czogJ0Jyb3VpbGxvbicsXG4gICAgICAgIHByb3BzOiBbXG4gICAgICAgICAgeyBsYWJlbDogJ1JhdGlvJywgdmFsdWU6ICcxNjo5JyB9LFxuICAgICAgICAgIHsgbGFiZWw6ICdMXHUwMEU5Z2VuZGUnLCB2YWx1ZTogJ0luYWN0aXZlJyB9LFxuICAgICAgICBdLFxuICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgIHNyYzogJycsXG4gICAgICAgICAgYWx0OiAnJyxcbiAgICAgICAgICBzaG93Q2FwdGlvbjogZmFsc2UsXG4gICAgICAgICAgY2FwdGlvbjogJycsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgZ3JvdXA6IHtcbiAgICAgICAgdHlwZTogJ0dyb3VwZScsXG4gICAgICAgIGxhYmVsOiAnR3JvdXBlIGRlIHNlY3Rpb25zJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdDb250ZW5ldXIgcG91ciBpbWJyaXF1ZXIgcGx1c2lldXJzIHNvdXMtYmxvY3MuJyxcbiAgICAgICAgc3RhdHVzOiAnQnJvdWlsbG9uJyxcbiAgICAgICAgcHJvcHM6IFt7IGxhYmVsOiAnRGlzcG9zaXRpb24nLCB2YWx1ZTogJ1ZlcnRpY2FsZScgfV0sXG4gICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgbGF5b3V0OiAnZ3JpZCcsXG4gICAgICAgICAgY29sdW1uc01vYmlsZTogJzEnLFxuICAgICAgICAgIGNvbHVtbnNEZXNrdG9wOiAnMycsXG4gICAgICAgICAgbW9iaWxlTGF5b3V0OiAnc3RhY2snLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGNvbGxlY3Rpb25ncmlkOiB7XG4gICAgICAgIHR5cGU6ICdDb2xsZWN0aW9uR3JpZCcsXG4gICAgICAgIGxhYmVsOiAnR3JpbGxlIGRlIGNvbnRlbnVzJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdBZmZpY2hlIGF1dG9tYXRpcXVlbWVudCBsZXMgaXRlbXMgZFx1MjAxOXVuZSBjb2xsZWN0aW9uLicsXG4gICAgICAgIHN0YXR1czogJ0Jyb3VpbGxvbicsXG4gICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgY29sbGVjdGlvbklkOiAnJyxcbiAgICAgICAgICBsaW1pdDogNixcbiAgICAgICAgICBtb2JpbGVMYXlvdXQ6ICdzdGFjaycsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgYnV0dG9uOiB7XG4gICAgICAgIHR5cGU6ICdCb3V0b24nLFxuICAgICAgICBsYWJlbDogJ0JvdXRvbicsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnQ1RBIHNpbXBsZSAobGllbiBzdHlsXHUwMEU5KS4nLFxuICAgICAgICBzdGF0dXM6ICdCcm91aWxsb24nLFxuICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgIHRleHQ6ICdEXHUwMEU5Y291dnJpcicsXG4gICAgICAgICAgdXJsOiAnIycsXG4gICAgICAgICAgaWNvbjogZmFsc2UsXG4gICAgICAgICAgYWxpZ246ICd0ZXh0LWxlZnQnLFxuICAgICAgICAgIHNpemU6ICdweC02IHB5LTMnLFxuICAgICAgICAgIHRleHRDb2xvcjogJ3RleHQtW3ZhcigtLWNvbG9yLWJhY2tncm91bmQpXScsXG4gICAgICAgICAgYmc6ICd0aGVtZS1wcmltYXJ5JyxcbiAgICAgICAgICBib3JkZXJSYWRpdXM6ICdyb3VuZGVkLXhsJyxcbiAgICAgICAgICBzaGFkb3c6ICdzaGFkb3ctbm9uZScsXG4gICAgICAgICAgYm9yZGVyOiAnYm9yZGVyLW5vbmUnLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGZvcm06IHtcbiAgICAgICAgdHlwZTogJ0Zvcm0nLFxuICAgICAgICBsYWJlbDogJ0Zvcm11bGFpcmUgZGUgY29udGFjdCcsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnRm9ybXVsYWlyZSBhdmVjIGVudm9pIHZlcnMgdW4gc2VydmljZSBleHRlcm5lLicsXG4gICAgICAgIHN0YXR1czogJ0Jyb3VpbGxvbicsXG4gICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgZm9ybVRpdGxlOiAnQ29udGFjdGV6LW5vdXMnLFxuICAgICAgICAgIGFjdGlvblVybDogJycsXG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgc2VydmljZU5hbWU6ICcnLFxuICAgICAgICAgIHN1Ym1pdExhYmVsOiAnRW52b3llcicsXG4gICAgICAgICAgc3VjY2Vzc01lc3NhZ2U6ICdNZXJjaSBwb3VyIHZvdHJlIG1lc3NhZ2UgIScsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgbmV3c2xldHRlcmVtYmVkOiB7XG4gICAgICAgIHR5cGU6ICdOZXdzbGV0dGVyRW1iZWQnLFxuICAgICAgICBsYWJlbDogJ05ld3NsZXR0ZXIgLyBFbWJlZCcsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnSW50XHUwMEU5Z3JhdGlvbiBkXFwndW4gZm9ybXVsYWlyZSBuZXdzbGV0dGVyIGV4dGVybmUgKEJyZXZvLCBNYWlsY2hpbXBcdTIwMjYpLicsXG4gICAgICAgIHN0YXR1czogJ0Jyb3VpbGxvbicsXG4gICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgdGl0bGU6ICdSZXN0ZXogaW5mb3JtXHUwMEU5JyxcbiAgICAgICAgICBzZXJ2aWNlTmFtZTogJycsXG4gICAgICAgICAgZW1iZWRDb2RlOiAnJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBjYXJkOiB7XG4gICAgICAgIHR5cGU6ICdDYXJkJyxcbiAgICAgICAgbGFiZWw6ICdDYXJ0ZScsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnQ2FydGUgYXZlYyBpbWFnZSwgdGV4dGUgZXQgbGllbi4nLFxuICAgICAgICBzdGF0dXM6ICdCcm91aWxsb24nLFxuICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgIHRpdGxlOiAnVGl0cmUgZGUgbGEgY2FydGUnLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnJyxcbiAgICAgICAgICBpbWFnZTogJycsXG4gICAgICAgICAgY3RhVGV4dDogJ0RcdTAwRTljb3V2cmlyJyxcbiAgICAgICAgICBjdGFVcmw6ICcjJyxcbiAgICAgICAgICBiZzogJ2JnLXNsYXRlLTUwJyxcbiAgICAgICAgICBib3JkZXJSYWRpdXM6ICdyb3VuZGVkLTJ4bCcsXG4gICAgICAgICAgc2hhZG93OiAnc2hhZG93LXNtJyxcbiAgICAgICAgICBib3JkZXI6ICdib3JkZXIgYm9yZGVyLXNsYXRlLTEwMCB0aGVtZS1ib3JkZXItYWNjZW50JyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfTtcbiAgICBjb25zdCBwZXJzaXN0QWN0aXZlUGFnZSA9IChwYWdlSWQpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShzdG9yYWdlS2V5cy5hY3RpdmUsIHBhZ2VJZCk7XG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgLyogaWdub3JlIHN0b3JhZ2UgZXJyb3JzICovXG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBnZXRTdG9yZWRBY3RpdmVQYWdlID0gKHBhZ2VzKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBzdG9yZWQgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oc3RvcmFnZUtleXMuYWN0aXZlKTtcbiAgICAgICAgaWYgKHN0b3JlZCAmJiBwYWdlcy5zb21lKChwYWdlKSA9PiBwYWdlLmlkID09PSBzdG9yZWQpKSB7XG4gICAgICAgICAgcmV0dXJuIHN0b3JlZDtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCB7XG4gICAgICAgIC8qIGlnbm9yZSBzdG9yYWdlIGVycm9ycyAqL1xuICAgICAgfVxuICAgICAgcmV0dXJuIHBhZ2VzWzBdPy5pZCB8fCBudWxsO1xuICAgIH07XG4gICAgY29uc3QgZm9ybWF0QmxvY2tDb3VudCA9IChjb3VudCkgPT4ge1xuICAgICAgaWYgKCFjb3VudCB8fCBjb3VudCA8PSAwKSB7XG4gICAgICAgIHJldHVybiAnMCBibG9jJztcbiAgICAgIH1cbiAgICAgIHJldHVybiBjb3VudCA9PT0gMSA/ICcxIGJsb2MnIDogYCR7Y291bnR9IGJsb2NzYDtcbiAgICB9O1xuICAgIGNvbnN0IG5vcm1hbGl6ZVBhZ2VTbHVnID0gKHZhbHVlKSA9PiB7XG4gICAgICBjb25zdCByYXcgPSAodmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgIGlmICghcmF3IHx8IHJhdyA9PT0gJy8nKSB7XG4gICAgICAgIHJldHVybiAnLyc7XG4gICAgICB9XG4gICAgICBpZiAoL15bYS16XSs6XFwvXFwvL2kudGVzdChyYXcpKSB7XG4gICAgICAgIHJldHVybiAnLyc7XG4gICAgICB9XG4gICAgICBjb25zdCBub3JtYWxpemVkU2VwYXJhdG9ycyA9IHJhdy5yZXBsYWNlKC9cXFxcL2csICcvJyk7XG4gICAgICBjb25zdCB0cmltbWVkID0gbm9ybWFsaXplZFNlcGFyYXRvcnMucmVwbGFjZSgvXlxcLyt8XFwvKyQvZywgJycpO1xuICAgICAgaWYgKCF0cmltbWVkKSB7XG4gICAgICAgIHJldHVybiAnLyc7XG4gICAgICB9XG4gICAgICBjb25zdCBwYXJ0cyA9IHRyaW1tZWRcbiAgICAgICAgLnNwbGl0KCcvJylcbiAgICAgICAgLm1hcCgocGFydCkgPT4gd29ya3NwYWNlU2x1Z2lmeShwYXJ0IHx8ICcnKSlcbiAgICAgICAgLmZpbHRlcihCb29sZWFuKTtcbiAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuICcvJztcbiAgICAgIH1cbiAgICAgIHJldHVybiBgLyR7cGFydHMuam9pbignLycpfWA7XG4gICAgfTtcbiAgICBjb25zdCBnZW5lcmF0ZUJsb2NrSWQgPSAocGFnZUlkID0gJ3BhZ2UnLCBrZXkgPSAnYmxvY2snKSA9PlxuICAgICAgYCR7cGFnZUlkfS0ke2tleX0tJHtEYXRlLm5vdygpLnRvU3RyaW5nKDM2KX0tJHtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwKX1gO1xuICAgIGNvbnN0IGNyZWF0ZUluaXRpYWxCbG9ja3MgPSAocGFnZUlkLCB0aXRsZSkgPT4gW1xuICAgICAgY3JlYXRlQmxvY2soXG4gICAgICAgIGdlbmVyYXRlQmxvY2tJZChwYWdlSWQsICdpbnRybycpLFxuICAgICAgICAnSW50cm9kdWN0aW9uJyxcbiAgICAgICAgJ1BhcmFncmFwaGUnLFxuICAgICAgICAnQnJvdWlsbG9uJyxcbiAgICAgICAgYFBhcmFncmFwaGUgaW50cm9kdWN0aWYgcG91ciBcIiR7dGl0bGV9XCIuYCxcbiAgICAgICAgW3sgbGFiZWw6ICdMb25ndWV1cicsIHZhbHVlOiAnMiBwYXJhZ3JhcGhlcycgfV0sXG4gICAgICAgIHtcbiAgICAgICAgICB0aXRsZTogYEludHJvZHVjdGlvbiBcdTAwRTAgJHt0aXRsZX1gLFxuICAgICAgICAgIGNvbnRlbnQ6ICdBam91dGV6IHZvdHJlIHByZW1pZXIgcGFyYWdyYXBoZSBkZSBwclx1MDBFOXNlbnRhdGlvbi4nLFxuICAgICAgICAgIGFsaWduOiAnbGVmdCcsXG4gICAgICAgIH0sXG4gICAgICApLFxuICAgICAgY3JlYXRlQmxvY2soXG4gICAgICAgIGdlbmVyYXRlQmxvY2tJZChwYWdlSWQsICdjb250ZW50JyksXG4gICAgICAgICdab25lIGRlIGNvbnRlbnUnLFxuICAgICAgICAnR3JvdXBlJyxcbiAgICAgICAgJ0Jyb3VpbGxvbicsXG4gICAgICAgICdTZWN0aW9uIHByaW5jaXBhbGUgXHUwMEUwIGNvbXBvc2VyIGF2ZWMgdGV4dGVzIGV0IHZpc3VlbHMuJyxcbiAgICAgICAgW3sgbGFiZWw6ICdDb2xvbm5lcycsIHZhbHVlOiAnQXV0bycgfV0sXG4gICAgICAgIHtcbiAgICAgICAgICBsYXlvdXQ6ICdncmlkJyxcbiAgICAgICAgICBjb2x1bW5zTW9iaWxlOiAnMScsXG4gICAgICAgICAgY29sdW1uc0Rlc2t0b3A6ICcyJyxcbiAgICAgICAgICBtb2JpbGVMYXlvdXQ6ICdzdGFjaycsXG4gICAgICAgIH0sXG4gICAgICApLFxuICAgIF07XG4gICAgY29uc3Qgc2V0QWN0aXZlTGFiZWxzID0gKHBhZ2UpID0+IHtcbiAgICAgIGlmIChhY3RpdmVUaXRsZSkge1xuICAgICAgICAvLyBVc2UgcGFnZS5uYW1lIChzaG9ydCBuYW1lKSBpZiBhdmFpbGFibGUsIGZhbGxiYWNrIHRvIHRpdGxlXG4gICAgICAgIGFjdGl2ZVRpdGxlLnRleHRDb250ZW50ID0gcGFnZT8ubmFtZSB8fCBwYWdlPy50aXRsZSB8fCAnUGFnZSc7XG4gICAgICB9XG4gICAgICBpZiAoYWN0aXZlU2x1Zykge1xuICAgICAgICBhY3RpdmVTbHVnLnRleHRDb250ZW50ID0gcGFnZT8uc2x1ZyB8fCAnLyc7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCByZW5kZXJQcmV2aWV3TWV0YSA9IChwYWdlKSA9PiB7XG4gICAgICBpZiAoIXByZXZpZXdUYWdzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHByZXZpZXdUYWdzLmlubmVySFRNTCA9ICcnO1xuICAgICAgY29uc3QgdGFncyA9XG4gICAgICAgIHBhZ2UgJiYgcGFnZS5iYWRnZXMgJiYgcGFnZS5iYWRnZXMubGVuZ3RoID4gMCA/IHBhZ2UuYmFkZ2VzIDogWydTdHJ1Y3R1cmUgZW4gY291cnMnXTtcbiAgICAgIHRhZ3MuZm9yRWFjaCgodGFnKSA9PiB7XG4gICAgICAgIGNvbnN0IGJhZGdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICBiYWRnZS5jbGFzc05hbWUgPSAncm91bmRlZC1mdWxsIGJnLXNsYXRlLTEwMCBweC0zIHB5LTEnO1xuICAgICAgICBiYWRnZS50ZXh0Q29udGVudCA9IHRhZztcbiAgICAgICAgcHJldmlld1RhZ3MuYXBwZW5kQ2hpbGQoYmFkZ2UpO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICBjb25zdCBnZXRTdGF0dXNCYWRnZUNsYXNzZXMgPSAoc3RhdHVzKSA9PiB7XG4gICAgICBzd2l0Y2ggKChzdGF0dXMgfHwgJycpLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgY2FzZSAnZW4gbGlnbmUnOlxuICAgICAgICAgIHJldHVybiAnYmctZW1lcmFsZC01MCB0ZXh0LWVtZXJhbGQtNzAwJztcbiAgICAgICAgY2FzZSAnYnJvdWlsbG9uJzpcbiAgICAgICAgICByZXR1cm4gJ2JnLWFtYmVyLTUwIHRleHQtYW1iZXItNzAwJztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gJ2JnLXNsYXRlLTEwMCB0ZXh0LXNsYXRlLTYwMCc7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCByZW5kZXJCbG9ja0RldGFpbHMgPSAoYmxvY2spID0+IHtcbiAgICAgIGlmICghYmxvY2tEZXRhaWxFbXB0eSB8fCAhYmxvY2tFZGl0b3IpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFibG9jaykge1xuICAgICAgICBibG9ja0RldGFpbEVtcHR5LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICBibG9ja0VkaXRvci5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgYmxvY2tFZGl0b3JVbnN1cHBvcnRlZD8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIGJsb2NrRm9ybT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIGJsb2NrRGV0YWlsU3RhdHVzPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYmxvY2tEZXRhaWxFbXB0eS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGJsb2NrRWRpdG9yLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgaWYgKGJsb2NrRGV0YWlsU3RhdHVzKSB7XG4gICAgICAgIGlmIChibG9jay5zdGF0dXMpIHtcbiAgICAgICAgICBibG9ja0RldGFpbFN0YXR1cy50ZXh0Q29udGVudCA9IGJsb2NrLnN0YXR1cztcbiAgICAgICAgICBibG9ja0RldGFpbFN0YXR1cy5jbGFzc05hbWUgPSBgcm91bmRlZC1mdWxsIHB4LTMgcHktMSB0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgJHtnZXRTdGF0dXNCYWRnZUNsYXNzZXMoXG4gICAgICAgICAgICBibG9jay5zdGF0dXMsXG4gICAgICAgICAgKX1gO1xuICAgICAgICAgIGJsb2NrRGV0YWlsU3RhdHVzLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGJsb2NrRGV0YWlsU3RhdHVzLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBwb3B1bGF0ZUJsb2NrRm9ybShibG9jayk7XG4gICAgfTtcbiAgICBjb25zdCByZWFkQWNjZW50Q29sb3IgPSAoKSA9PiB7XG4gICAgICBjb25zdCBjb21wdXRlZCA9IGdldENvbXB1dGVkU3R5bGUoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KS5nZXRQcm9wZXJ0eVZhbHVlKCctLWNvbG9yLWFjY2VudCcpO1xuICAgICAgcmV0dXJuIGNvbXB1dGVkID8gY29tcHV0ZWQudHJpbSgpIDogJyM5QzZCRkYnO1xuICAgIH07XG4gICAgY29uc3QgYXBwbHlQcmV2aWV3SGlnaGxpZ2h0ID0gKGJsb2NrSWQpID0+IHtcbiAgICAgIGlmICghcHJldmlld0ZyYW1lKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRvYyA9IHByZXZpZXdGcmFtZS5jb250ZW50RG9jdW1lbnQ7XG4gICAgICBpZiAoIWRvYykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBub2RlcyA9IGRvYy5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1wcmV2aWV3LWJsb2NrXScpO1xuICAgICAgbm9kZXMuZm9yRWFjaCgobm9kZSkgPT4ge1xuICAgICAgICBpZiAobm9kZS5kYXRhc2V0LnByZXZpZXdCbG9jayA9PT0gYmxvY2tJZCkge1xuICAgICAgICAgIG5vZGUuY2xhc3NMaXN0LmFkZCgncHJldmlldy1ibG9jay1hY3RpdmUnKTtcbiAgICAgICAgICBpZiAocHJldmlld1JlYWR5ICYmIGJsb2NrSWQpIHtcbiAgICAgICAgICAgIG5vZGUuc2Nyb2xsSW50b1ZpZXcoeyBiZWhhdmlvcjogJ3Ntb290aCcsIGJsb2NrOiAnY2VudGVyJywgaW5saW5lOiAnbmVhcmVzdCcgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5vZGUuY2xhc3NMaXN0LnJlbW92ZSgncHJldmlldy1ibG9jay1hY3RpdmUnKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAocHJldmlld0hpZ2hsaWdodE92ZXJsYXkpIHtcbiAgICAgICAgY29uc3QgYWNjZW50ID0gcmVhZEFjY2VudENvbG9yKCk7XG4gICAgICAgIHByZXZpZXdIaWdobGlnaHRPdmVybGF5LnN0eWxlLmJvcmRlckNvbG9yID0gYmxvY2tJZCA/IGFjY2VudCA6ICd0cmFuc3BhcmVudCc7XG4gICAgICAgIHByZXZpZXdIaWdobGlnaHRPdmVybGF5LnN0eWxlLm9wYWNpdHkgPSBibG9ja0lkID8gJzAuNScgOiAnMCc7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBwcmV2aWV3Vmlld1ByZXNldHMgPSB7XG4gICAgICBkZXNrdG9wOiB7IHdpZHRoOiAnMTAwJScsIGhlaWdodDogJzY0MHB4JywgbWF4V2lkdGg6ICcnLCBtYXJnaW46ICcwJyB9LFxuICAgICAgbW9iaWxlOiB7IHdpZHRoOiAnMzc1cHgnLCBoZWlnaHQ6ICc3ODBweCcsIG1heFdpZHRoOiAnMzc1cHgnLCBtYXJnaW46ICcwIGF1dG8nIH0sXG4gICAgfTtcbiAgICBjb25zdCBzZXRQcmV2aWV3VmlldyA9ICh2aWV3KSA9PiB7XG4gICAgICBjb25zdCB0YXJnZXQgPSBwcmV2aWV3Vmlld1ByZXNldHNbdmlld10gPyB2aWV3IDogJ2Rlc2t0b3AnO1xuICAgICAgcHJldmlld1ZpZXdCdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgICAgICBjb25zdCBpc0FjdGl2ZSA9IGJ1dHRvbi5kYXRhc2V0LnByZXZpZXdWaWV3ID09PSB0YXJnZXQ7XG4gICAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtcHJlc3NlZCcsIGlzQWN0aXZlID8gJ3RydWUnIDogJ2ZhbHNlJyk7XG4gICAgICAgIGlmIChpc0FjdGl2ZSkge1xuICAgICAgICAgIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdiZy1zbGF0ZS05MDAnLCAndGV4dC13aGl0ZScpO1xuICAgICAgICAgIGJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdiZy1zbGF0ZS0yMDAnLCAndGV4dC1zbGF0ZS01MDAnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBidXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnYmctc2xhdGUtOTAwJywgJ3RleHQtd2hpdGUnKTtcbiAgICAgICAgICBidXR0b24uY2xhc3NMaXN0LmFkZCgnYmctc2xhdGUtMjAwJywgJ3RleHQtc2xhdGUtNTAwJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgY29uc3Qgc3R5bGVzID0gcHJldmlld1ZpZXdQcmVzZXRzW3RhcmdldF07XG4gICAgICBpZiAocHJldmlld0ZyYW1lKSB7XG4gICAgICAgIHByZXZpZXdGcmFtZS5zdHlsZS53aWR0aCA9IHN0eWxlcy53aWR0aDtcbiAgICAgICAgcHJldmlld0ZyYW1lLnN0eWxlLmhlaWdodCA9IHN0eWxlcy5oZWlnaHQ7XG4gICAgICAgIHByZXZpZXdGcmFtZS5zdHlsZS5tYXhXaWR0aCA9IHN0eWxlcy5tYXhXaWR0aDtcbiAgICAgICAgcHJldmlld0ZyYW1lLnN0eWxlLm1hcmdpbiA9IHN0eWxlcy5tYXJnaW47XG4gICAgICB9XG4gICAgICBpZiAocHJldmlld0ZyYW1lV3JhcHBlcikge1xuICAgICAgICBwcmV2aWV3RnJhbWVXcmFwcGVyLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgICAgICBwcmV2aWV3RnJhbWVXcmFwcGVyLnN0eWxlLm1pbkhlaWdodCA9IHN0eWxlcy5oZWlnaHQ7XG4gICAgICAgIHByZXZpZXdGcmFtZVdyYXBwZXIuc3R5bGUubWF4V2lkdGggPSBzdHlsZXMubWF4V2lkdGggfHwgJzEwMCUnO1xuICAgICAgfVxuICAgICAgaWYgKHByZXZpZXdTaGVsbCkge1xuICAgICAgICBwcmV2aWV3U2hlbGwuZGF0YXNldC5wcmV2aWV3U2hlbGxWaWV3ID0gdGFyZ2V0O1xuICAgICAgfVxuICAgICAgaWYgKHByZXZpZXdDdXJyZW50Vmlld0xhYmVsKSB7XG4gICAgICAgIHByZXZpZXdDdXJyZW50Vmlld0xhYmVsLnRleHRDb250ZW50ID0gdGFyZ2V0ID09PSAnbW9iaWxlJyA/ICdWdWUgbW9iaWxlJyA6ICdWdWUgYnVyZWF1JztcbiAgICAgIH1cbiAgICB9O1xuICAgIC8vIEZvbmN0aW9uIHBvdXIgY3JcdTAwRTllciB1biBcdTAwRTlsXHUwMEU5bWVudCBkZSBibG9jICh1dGlsaXNcdTAwRTkgcG91ciBsZXMgYmxvY3MgZXQgbGVzIGVuZmFudHMgZGUgZ3JvdXBlKVxuICAgIGNvbnN0IGNyZWF0ZUJsb2NrSXRlbUVsZW1lbnQgPSAoYmxvY2ssIGlzTmVzdGVkID0gZmFsc2UsIHBhcmVudElkID0gbnVsbCkgPT4ge1xuICAgICAgY29uc3QgaXNBY3RpdmUgPSBibG9jay5pZCA9PT0gYWN0aXZlQmxvY2tJZDtcbiAgICAgIGNvbnN0IGJsb2NrVHlwZSA9IChibG9jay50eXBlIHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgY29uc3QgaXNHcm91cCA9IGJsb2NrVHlwZSA9PT0gJ2dyb3VwZScgfHwgYmxvY2tUeXBlID09PSAnZ3JvdXAnIHx8IGJsb2NrVHlwZSA9PT0gJ3NlY3Rpb25zJyB8fCBibG9ja1R5cGUgPT09ICdncmlkJztcbiAgICAgIFxuICAgICAgY29uc3QgaXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgaXRlbS5kYXRhc2V0LmJsb2NrSXRlbSA9ICd0cnVlJztcbiAgICAgIGl0ZW0uZGF0YXNldC5ibG9ja0lkID0gYmxvY2suaWQ7XG4gICAgICBpZiAocGFyZW50SWQpIGl0ZW0uZGF0YXNldC5wYXJlbnRCbG9ja0lkID0gcGFyZW50SWQ7XG4gICAgICBpZiAoaXNHcm91cCkgaXRlbS5kYXRhc2V0LmlzR3JvdXAgPSAndHJ1ZSc7XG4gICAgICBpdGVtLnNldEF0dHJpYnV0ZSgncm9sZScsICdvcHRpb24nKTtcbiAgICAgIGl0ZW0uc2V0QXR0cmlidXRlKCdhcmlhLXNlbGVjdGVkJywgaXNBY3RpdmUgPyAndHJ1ZScgOiAnZmFsc2UnKTtcbiAgICAgIGl0ZW0uc2V0QXR0cmlidXRlKCdkcmFnZ2FibGUnLCAndHJ1ZScpO1xuICAgICAgaXRlbS50YWJJbmRleCA9IDA7XG4gICAgICBpdGVtLmNsYXNzTmFtZSA9IFtcbiAgICAgICAgJ3JlbGF0aXZlIGZsZXggaXRlbXMtY2VudGVyIGdhcC0zIHJvdW5kZWQtMnhsIGJvcmRlciBweC0zIHB5LTIgdGV4dC1sZWZ0IHRyYW5zaXRpb24gZ3JvdXAnLFxuICAgICAgICBpc05lc3RlZCA/ICdtbC02IGJvcmRlci1kYXNoZWQnIDogJycsXG4gICAgICAgIGlzQWN0aXZlXG4gICAgICAgICAgPyAnYmctc2xhdGUtMTAwIGJvcmRlci1bIzlDNkJGRl0vNDAgc2hhZG93LXNtJ1xuICAgICAgICAgIDogJ2JvcmRlci1zbGF0ZS0yMDAgaG92ZXI6Ym9yZGVyLVsjOUM2QkZGXS80MCcsXG4gICAgICBdLmpvaW4oJyAnKTtcbiAgICAgIFxuICAgICAgY29uc3QgYWNjZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgYWNjZW50LmNsYXNzTmFtZSA9IGBhYnNvbHV0ZSBpbnNldC15LTIgbGVmdC0wIHctMSByb3VuZGVkLWZ1bGwgYmctWyM5QzZCRkZdICR7aXNBY3RpdmUgPyAnJyA6ICdoaWRkZW4nfWA7XG4gICAgICBpdGVtLmFwcGVuZENoaWxkKGFjY2VudCk7XG5cbiAgICAgIGNvbnN0IGNvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGNvbnRlbnQuY2xhc3NOYW1lID0gJ2ZsZXggZmxleC0xIGl0ZW1zLWNlbnRlciBnYXAtMyc7XG4gICAgICBcbiAgICAgIGNvbnN0IGhhbmRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgaGFuZGxlLmNsYXNzTmFtZSA9ICdoaWRkZW4gbGc6ZmxleCBjdXJzb3ItZ3JhYiBhY3RpdmU6Y3Vyc29yLWdyYWJiaW5nIGZsZXgtc2hyaW5rLTAgaXRlbXMtY2VudGVyIHRleHQtbGcgdGV4dC1zbGF0ZS00MDAgaG92ZXI6dGV4dC1zbGF0ZS02MDAgdHJhbnNpdGlvbi1jb2xvcnMgc2VsZWN0LW5vbmUnO1xuICAgICAgaGFuZGxlLmlubmVySFRNTCA9ICdcdTIyRUVcdTIyRUUnO1xuICAgICAgaGFuZGxlLnNldEF0dHJpYnV0ZSgndGl0bGUnLCAnR2xpc3NlciBwb3VyIHJcdTAwRTlvcmRvbm5lcicpO1xuICAgICAgY29udGVudC5hcHBlbmRDaGlsZChoYW5kbGUpO1xuXG4gICAgICBjb25zdCB0ZXh0V3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgdGV4dFdyYXBwZXIuY2xhc3NOYW1lID0gJ2ZsZXgtMSc7XG4gICAgICBcbiAgICAgIGNvbnN0IG1ldGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIG1ldGEuY2xhc3NOYW1lID0gJ2ZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHRleHQtWzExcHhdIHVwcGVyY2FzZSB0cmFja2luZy13aWRlIHRleHQtc2xhdGUtNTAwJztcbiAgICAgIFxuICAgICAgY29uc3QgdHlwZUJhZGdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgdHlwZUJhZGdlLmNsYXNzTmFtZSA9ICdyb3VuZGVkLWZ1bGwgYmctc2xhdGUtMTAwIHB4LTIgcHktMC41IHRleHQtWzEwcHhdIGZvbnQtc2VtaWJvbGQgdGV4dC1zbGF0ZS02MDAnO1xuICAgICAgdHlwZUJhZGdlLnRleHRDb250ZW50ID0gYmxvY2sudHlwZTtcbiAgICAgIFxuICAgICAgY29uc3Qgc3RhdHVzQmFkZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICBzdGF0dXNCYWRnZS5jbGFzc05hbWUgPSAndGV4dC1zbGF0ZS00MDAnO1xuICAgICAgc3RhdHVzQmFkZ2UudGV4dENvbnRlbnQgPSBibG9jay5zdGF0dXM7XG4gICAgICBcbiAgICAgIG1ldGEuYXBwZW5kQ2hpbGQodHlwZUJhZGdlKTtcbiAgICAgIGlmIChpc0dyb3VwKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkQ291bnQgPSAoYmxvY2suY2hpbGRyZW4gfHwgW10pLmxlbmd0aDtcbiAgICAgICAgY29uc3QgY2hpbGRCYWRnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgY2hpbGRCYWRnZS5jbGFzc05hbWUgPSAncm91bmRlZC1mdWxsIGJnLXZpb2xldC0xMDAgcHgtMiBweS0wLjUgdGV4dC1bMTBweF0gZm9udC1zZW1pYm9sZCB0ZXh0LXZpb2xldC02MDAnO1xuICAgICAgICBjaGlsZEJhZGdlLnRleHRDb250ZW50ID0gYCR7Y2hpbGRDb3VudH0gXHUwMEU5bFx1MDBFOW1lbnQke2NoaWxkQ291bnQgIT09IDEgPyAncycgOiAnJ31gO1xuICAgICAgICBtZXRhLmFwcGVuZENoaWxkKGNoaWxkQmFkZ2UpO1xuICAgICAgfVxuICAgICAgbWV0YS5hcHBlbmRDaGlsZChzdGF0dXNCYWRnZSk7XG4gICAgICBcbiAgICAgIGNvbnN0IHRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgICAgdGl0bGUuY2xhc3NOYW1lID0gJ210LTEgdGV4dC1zbSBmb250LXNlbWlib2xkIHRleHQtc2xhdGUtOTAwJztcbiAgICAgIGNvbnN0IGRpc3BsYXlMYWJlbCA9IChibG9jay5zZXR0aW5ncyAmJiBibG9jay5zZXR0aW5ncy50aXRsZSkgfHwgYmxvY2subGFiZWwgfHwgJ0Jsb2Mgc2FucyB0aXRyZSc7XG4gICAgICB0aXRsZS50ZXh0Q29udGVudCA9IGRpc3BsYXlMYWJlbDtcbiAgICAgIFxuICAgICAgdGV4dFdyYXBwZXIuYXBwZW5kQ2hpbGQobWV0YSk7XG4gICAgICB0ZXh0V3JhcHBlci5hcHBlbmRDaGlsZCh0aXRsZSk7XG4gICAgICBcbiAgICAgIGlmIChibG9ja1R5cGUgPT09ICdjb2xsZWN0aW9uZ3JpZCcgJiYgYmxvY2suY29sbGVjdGlvbklkKSB7XG4gICAgICAgIGNvbnN0IGNvbGxlY3Rpb25OYW1lID0gZGVzaWduQ29sbGVjdGlvbnMuZmluZCgoZW50cnkpID0+IGVudHJ5LmlkID09PSBibG9jay5jb2xsZWN0aW9uSWQpPy5uYW1lIHx8IGJsb2NrLmNvbGxlY3Rpb25JZDtcbiAgICAgICAgY29uc3QgaW5mbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICAgICAgaW5mby5jbGFzc05hbWUgPSAndGV4dC14cyB0ZXh0LXNsYXRlLTQwMCc7XG4gICAgICAgIGluZm8udGV4dENvbnRlbnQgPSBgQ29sbGVjdGlvbiA6ICR7Y29sbGVjdGlvbk5hbWV9YDtcbiAgICAgICAgdGV4dFdyYXBwZXIuYXBwZW5kQ2hpbGQoaW5mbyk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQodGV4dFdyYXBwZXIpO1xuICAgICAgaXRlbS5hcHBlbmRDaGlsZChjb250ZW50KTtcblxuICAgICAgY29uc3QgYWN0aW9ucyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgYWN0aW9ucy5jbGFzc05hbWUgPSAnZmxleCBmbGV4LWNvbCBnYXAtMSB0ZXh0LXhzIHRleHQtc2xhdGUtNDAwJztcblxuICAgICAgY29uc3QgbW92ZUJ1dHRvbnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIG1vdmVCdXR0b25zLmNsYXNzTmFtZSA9ICdmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMSBsZzpoaWRkZW4nO1xuICAgICAgY29uc3QgbW92ZVVwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICBtb3ZlVXAudHlwZSA9ICdidXR0b24nO1xuICAgICAgbW92ZVVwLmNsYXNzTmFtZSA9ICdyb3VuZGVkLWxnIGJvcmRlciBib3JkZXItc2xhdGUtMjAwIHB4LTIgcHktMSB0ZXh0LVsxMXB4XSBmb250LXNlbWlib2xkIHRleHQtc2xhdGUtNTAwJztcbiAgICAgIG1vdmVVcC50ZXh0Q29udGVudCA9ICdcdTIxOTEnO1xuICAgICAgbW92ZVVwLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBpZiAocGFyZW50SWQpIHtcbiAgICAgICAgICBtb3ZlQ2hpbGRCbG9ja0J5T2Zmc2V0KHBhcmVudElkLCBibG9jay5pZCwgLTEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1vdmVCbG9ja0J5T2Zmc2V0KGJsb2NrLmlkLCAtMSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgY29uc3QgbW92ZURvd24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgIG1vdmVEb3duLnR5cGUgPSAnYnV0dG9uJztcbiAgICAgIG1vdmVEb3duLmNsYXNzTmFtZSA9ICdyb3VuZGVkLWxnIGJvcmRlciBib3JkZXItc2xhdGUtMjAwIHB4LTIgcHktMSB0ZXh0LVsxMXB4XSBmb250LXNlbWlib2xkIHRleHQtc2xhdGUtNTAwJztcbiAgICAgIG1vdmVEb3duLnRleHRDb250ZW50ID0gJ1x1MjE5Myc7XG4gICAgICBtb3ZlRG93bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgaWYgKHBhcmVudElkKSB7XG4gICAgICAgICAgbW92ZUNoaWxkQmxvY2tCeU9mZnNldChwYXJlbnRJZCwgYmxvY2suaWQsIDEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1vdmVCbG9ja0J5T2Zmc2V0KGJsb2NrLmlkLCAxKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBtb3ZlQnV0dG9ucy5hcHBlbmRDaGlsZChtb3ZlVXApO1xuICAgICAgbW92ZUJ1dHRvbnMuYXBwZW5kQ2hpbGQobW92ZURvd24pO1xuICAgICAgYWN0aW9ucy5hcHBlbmRDaGlsZChtb3ZlQnV0dG9ucyk7XG5cbiAgICAgIGNvbnN0IGRlbGV0ZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgZGVsZXRlQnV0dG9uLnR5cGUgPSAnYnV0dG9uJztcbiAgICAgIGRlbGV0ZUJ1dHRvbi5jbGFzc05hbWUgPSAnaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci10cmFuc3BhcmVudCBweC0yIHB5LTEgdGV4dC1bMTJweF0gdGV4dC1yb3NlLTUwMCBob3Zlcjp0ZXh0LXJvc2UtNzAwJztcbiAgICAgIGRlbGV0ZUJ1dHRvbi5pbm5lckhUTUwgPSAnXHVEODNEXHVEREQxXHVGRTBGJztcbiAgICAgIGRlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgaWYgKHBhcmVudElkKSB7XG4gICAgICAgICAgcmVtb3ZlQ2hpbGRGcm9tR3JvdXAocGFyZW50SWQsIGJsb2NrLmlkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvcGVuQmxvY2tEZWxldGVNb2RhbChibG9jay5pZCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBhY3Rpb25zLmFwcGVuZENoaWxkKGRlbGV0ZUJ1dHRvbik7XG4gICAgICBpdGVtLmFwcGVuZENoaWxkKGFjdGlvbnMpO1xuXG4gICAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBzZXRBY3RpdmVCbG9jayhibG9jay5pZCwgcGFyZW50SWQpO1xuICAgICAgfSk7XG4gICAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZlbnQpID0+IHtcbiAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VudGVyJyB8fCBldmVudC5rZXkgPT09ICcgJykge1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgc2V0QWN0aXZlQmxvY2soYmxvY2suaWQsIHBhcmVudElkKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIHJldHVybiB7IGl0ZW0sIGlzR3JvdXAsIGJsb2NrIH07XG4gICAgfTtcbiAgICBcbiAgICAvLyBGb25jdGlvbiBwb3VyIGNyXHUwMEU5ZXIgbGEgem9uZSBkZSBkcm9wIHBvdXIgdW4gZ3JvdXBlXG4gICAgY29uc3QgY3JlYXRlR3JvdXBEcm9wWm9uZSA9IChwYXJlbnRCbG9jaykgPT4ge1xuICAgICAgY29uc3QgZHJvcFpvbmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGRyb3Bab25lLmRhdGFzZXQuZ3JvdXBEcm9wWm9uZSA9IHBhcmVudEJsb2NrLmlkO1xuICAgICAgZHJvcFpvbmUuY2xhc3NOYW1lID0gJ21sLTYgYm9yZGVyLTIgYm9yZGVyLWRhc2hlZCBib3JkZXItc2xhdGUtMjAwIHJvdW5kZWQteGwgcC0zIHRleHQtY2VudGVyIHRleHQteHMgdGV4dC1zbGF0ZS00MDAgaG92ZXI6Ym9yZGVyLXZpb2xldC0zMDAgaG92ZXI6YmctdmlvbGV0LTUwLzUwIHRyYW5zaXRpb24tY29sb3JzIGN1cnNvci1wb2ludGVyJztcbiAgICAgIGRyb3Bab25lLmlubmVySFRNTCA9ICc8c3BhbiBjbGFzcz1cInBvaW50ZXItZXZlbnRzLW5vbmVcIj5cdUQ4M0RcdURDRTYgR2xpc3NleiB1biBibG9jIGljaSBvdSBjbGlxdWV6IHBvdXIgYWpvdXRlcjwvc3Bhbj4nO1xuICAgICAgXG4gICAgICAvLyBcdTAwQzl2XHUwMEU5bmVtZW50cyBkZSBkcmFnICYgZHJvcFxuICAgICAgZHJvcFpvbmUuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ292ZXInLCAoZSkgPT4ge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGRyb3Bab25lLmNsYXNzTGlzdC5hZGQoJ2JvcmRlci12aW9sZXQtNDAwJywgJ2JnLXZpb2xldC01MCcpO1xuICAgICAgfSk7XG4gICAgICBkcm9wWm9uZS5hZGRFdmVudExpc3RlbmVyKCdkcmFnbGVhdmUnLCAoZSkgPT4ge1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBkcm9wWm9uZS5jbGFzc0xpc3QucmVtb3ZlKCdib3JkZXItdmlvbGV0LTQwMCcsICdiZy12aW9sZXQtNTAnKTtcbiAgICAgIH0pO1xuICAgICAgZHJvcFpvbmUuYWRkRXZlbnRMaXN0ZW5lcignZHJvcCcsIChlKSA9PiB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgZHJvcFpvbmUuY2xhc3NMaXN0LnJlbW92ZSgnYm9yZGVyLXZpb2xldC00MDAnLCAnYmctdmlvbGV0LTUwJyk7XG4gICAgICAgIGNvbnN0IGJsb2NrSWQgPSBlLmRhdGFUcmFuc2Zlci5nZXREYXRhKCd0ZXh0L3BsYWluJyk7XG4gICAgICAgIGlmIChibG9ja0lkICYmIGJsb2NrSWQgIT09IHBhcmVudEJsb2NrLmlkKSB7XG4gICAgICAgICAgbW92ZUJsb2NrVG9Hcm91cChibG9ja0lkLCBwYXJlbnRCbG9jay5pZCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBDbGljIHBvdXIgYWpvdXRlciB1biBibG9jIGF1IGdyb3VwZVxuICAgICAgZHJvcFpvbmUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIG9wZW5BZGRCbG9ja1RvR3JvdXBNb2RhbChwYXJlbnRCbG9jay5pZCk7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgcmV0dXJuIGRyb3Bab25lO1xuICAgIH07XG5cblx0ICAgIGNvbnN0IHJlbmRlckJsb2NrTGlzdCA9IChwYWdlKSA9PiB7XG5cdCAgICAgIGlmICghYmxvY2tMaXN0KSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG4gICAgICBibG9ja0xpc3QuaW5uZXJIVE1MID0gJyc7XG4gICAgICBjb25zdCBibG9ja3MgPSBwYWdlPy5ibG9ja3MgfHwgW107XG4gICAgICBpZiAoYmxvY2tDb3VudEJhZGdlKSB7XG4gICAgICAgIGJsb2NrQ291bnRCYWRnZS50ZXh0Q29udGVudCA9IGZvcm1hdEJsb2NrQ291bnQoYmxvY2tzLmxlbmd0aCk7XG4gICAgICB9XG4gICAgICBpZiAoYmxvY2tzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBibG9ja0xpc3QuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIGJsb2NrTGlzdEVtcHR5Py5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYmxvY2tMaXN0LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgYmxvY2tMaXN0RW1wdHk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgXG4gICAgICBibG9ja3MuZm9yRWFjaCgoYmxvY2spID0+IHtcbiAgICAgICAgY29uc3QgeyBpdGVtLCBpc0dyb3VwIH0gPSBjcmVhdGVCbG9ja0l0ZW1FbGVtZW50KGJsb2NrLCBmYWxzZSwgbnVsbCk7XG4gICAgICAgIGJsb2NrTGlzdC5hcHBlbmRDaGlsZChpdGVtKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFNpIGMnZXN0IHVuIGdyb3VwZSwgYWZmaWNoZXIgbGVzIGVuZmFudHMgZXQgbGEgem9uZSBkZSBkcm9wXG4gICAgICAgIGlmIChpc0dyb3VwKSB7XG4gICAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBibG9jay5jaGlsZHJlbiB8fCBbXTtcbiAgICAgICAgICBjaGlsZHJlbi5mb3JFYWNoKChjaGlsZCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyBpdGVtOiBjaGlsZEl0ZW0gfSA9IGNyZWF0ZUJsb2NrSXRlbUVsZW1lbnQoY2hpbGQsIHRydWUsIGJsb2NrLmlkKTtcbiAgICAgICAgICAgIGJsb2NrTGlzdC5hcHBlbmRDaGlsZChjaGlsZEl0ZW0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIC8vIFpvbmUgZGUgZHJvcCBwb3VyIGFqb3V0ZXIgZGVzIGJsb2NzIGF1IGdyb3VwZVxuICAgICAgICAgIGNvbnN0IGRyb3Bab25lID0gY3JlYXRlR3JvdXBEcm9wWm9uZShibG9jayk7XG4gICAgICAgICAgYmxvY2tMaXN0LmFwcGVuZENoaWxkKGRyb3Bab25lKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cdCAgICB9O1xuXHQgICAgXG5cdCAgICAvLyBGb25jdGlvbnMgcG91ciBnXHUwMEU5cmVyIGxlcyBlbmZhbnRzIGRlcyBncm91cGVzXG5cdCAgICBjb25zdCBmaW5kQ2hpbGRMb2NhdGlvbiA9IChjaGlsZElkKSA9PiB7XG5cdCAgICAgIGlmICghY3VycmVudFBhZ2UgfHwgIWNoaWxkSWQpIHJldHVybiBudWxsO1xuXHQgICAgICBmb3IgKGxldCBncm91cEluZGV4ID0gMDsgZ3JvdXBJbmRleCA8IGN1cnJlbnRQYWdlLmJsb2Nrcy5sZW5ndGg7IGdyb3VwSW5kZXgrKykge1xuXHQgICAgICAgIGNvbnN0IGdyb3VwQmxvY2sgPSBjdXJyZW50UGFnZS5ibG9ja3NbZ3JvdXBJbmRleF07XG5cdCAgICAgICAgY29uc3QgZ3JvdXBUeXBlID0gKGdyb3VwQmxvY2s/LnR5cGUgfHwgJycpLnRvTG93ZXJDYXNlKCk7XG5cdCAgICAgICAgY29uc3QgaXNHcm91cCA9XG5cdCAgICAgICAgICBncm91cFR5cGUgPT09ICdncm91cGUnIHx8IGdyb3VwVHlwZSA9PT0gJ2dyb3VwJyB8fCBncm91cFR5cGUgPT09ICdzZWN0aW9ucycgfHwgZ3JvdXBUeXBlID09PSAnZ3JpZCc7XG5cdCAgICAgICAgaWYgKCFpc0dyb3VwIHx8ICFBcnJheS5pc0FycmF5KGdyb3VwQmxvY2suY2hpbGRyZW4pKSBjb250aW51ZTtcblx0ICAgICAgICBjb25zdCBjaGlsZEluZGV4ID0gZ3JvdXBCbG9jay5jaGlsZHJlbi5maW5kSW5kZXgoKGNoaWxkKSA9PiBjaGlsZC5pZCA9PT0gY2hpbGRJZCk7XG5cdCAgICAgICAgaWYgKGNoaWxkSW5kZXggIT09IC0xKSB7XG5cdCAgICAgICAgICByZXR1cm4geyBncm91cElkOiBncm91cEJsb2NrLmlkLCBncm91cEluZGV4LCBjaGlsZEluZGV4IH07XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBudWxsO1xuXHQgICAgfTtcblx0ICAgIGNvbnN0IGV4dHJhY3RCbG9ja0J5SWQgPSAoYmxvY2tJZCkgPT4ge1xuXHQgICAgICBpZiAoIWN1cnJlbnRQYWdlIHx8ICFibG9ja0lkKSByZXR1cm4gbnVsbDtcblx0ICAgICAgY29uc3Qgcm9vdEluZGV4ID0gY3VycmVudFBhZ2UuYmxvY2tzLmZpbmRJbmRleCgoYikgPT4gYi5pZCA9PT0gYmxvY2tJZCk7XG5cdCAgICAgIGlmIChyb290SW5kZXggIT09IC0xKSB7XG5cdCAgICAgICAgY29uc3QgW2Jsb2NrXSA9IGN1cnJlbnRQYWdlLmJsb2Nrcy5zcGxpY2Uocm9vdEluZGV4LCAxKTtcblx0ICAgICAgICByZXR1cm4geyBibG9jaywgZnJvbTogeyB0eXBlOiAncm9vdCcsIGluZGV4OiByb290SW5kZXggfSB9O1xuXHQgICAgICB9XG5cdCAgICAgIGNvbnN0IGNoaWxkTG9jID0gZmluZENoaWxkTG9jYXRpb24oYmxvY2tJZCk7XG5cdCAgICAgIGlmICghY2hpbGRMb2MpIHJldHVybiBudWxsO1xuXHQgICAgICBjb25zdCBncm91cEJsb2NrID0gY3VycmVudFBhZ2UuYmxvY2tzLmZpbmQoKGIpID0+IGIuaWQgPT09IGNoaWxkTG9jLmdyb3VwSWQpO1xuXHQgICAgICBpZiAoIWdyb3VwQmxvY2sgfHwgIUFycmF5LmlzQXJyYXkoZ3JvdXBCbG9jay5jaGlsZHJlbikpIHJldHVybiBudWxsO1xuXHQgICAgICBjb25zdCBbYmxvY2tdID0gZ3JvdXBCbG9jay5jaGlsZHJlbi5zcGxpY2UoY2hpbGRMb2MuY2hpbGRJbmRleCwgMSk7XG5cdCAgICAgIHJldHVybiB7IGJsb2NrLCBmcm9tOiB7IHR5cGU6ICdncm91cCcsIGdyb3VwSWQ6IGNoaWxkTG9jLmdyb3VwSWQsIGluZGV4OiBjaGlsZExvYy5jaGlsZEluZGV4IH0gfTtcblx0ICAgIH07XG5cdCAgICBjb25zdCBpbnNlcnRCbG9ja0ludG9Sb290ID0gKGJsb2NrLCBpbmRleCkgPT4ge1xuXHQgICAgICBpZiAoIWN1cnJlbnRQYWdlIHx8ICFibG9jaykgcmV0dXJuO1xuXHQgICAgICBjb25zdCBzYWZlSW5kZXggPSBNYXRoLm1pbihNYXRoLm1heCgwLCBpbmRleCA/PyBjdXJyZW50UGFnZS5ibG9ja3MubGVuZ3RoKSwgY3VycmVudFBhZ2UuYmxvY2tzLmxlbmd0aCk7XG5cdCAgICAgIGN1cnJlbnRQYWdlLmJsb2Nrcy5zcGxpY2Uoc2FmZUluZGV4LCAwLCBibG9jayk7XG5cdCAgICB9O1xuXHQgICAgY29uc3QgaW5zZXJ0QmxvY2tJbnRvR3JvdXAgPSAoYmxvY2ssIGdyb3VwSWQsIGluZGV4KSA9PiB7XG5cdCAgICAgIGlmICghY3VycmVudFBhZ2UgfHwgIWJsb2NrIHx8ICFncm91cElkKSByZXR1cm4gZmFsc2U7XG5cdCAgICAgIGNvbnN0IGdyb3VwQmxvY2sgPSBjdXJyZW50UGFnZS5ibG9ja3MuZmluZCgoYikgPT4gYi5pZCA9PT0gZ3JvdXBJZCk7XG5cdCAgICAgIGlmICghZ3JvdXBCbG9jaykgcmV0dXJuIGZhbHNlO1xuXHQgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoZ3JvdXBCbG9jay5jaGlsZHJlbikpIGdyb3VwQmxvY2suY2hpbGRyZW4gPSBbXTtcblx0ICAgICAgY29uc3Qgc2FmZUluZGV4ID0gTWF0aC5taW4oXG5cdCAgICAgICAgTWF0aC5tYXgoMCwgaW5kZXggPz8gZ3JvdXBCbG9jay5jaGlsZHJlbi5sZW5ndGgpLFxuXHQgICAgICAgIGdyb3VwQmxvY2suY2hpbGRyZW4ubGVuZ3RoLFxuXHQgICAgICApO1xuXHQgICAgICBncm91cEJsb2NrLmNoaWxkcmVuLnNwbGljZShzYWZlSW5kZXgsIDAsIGJsb2NrKTtcblx0ICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICB9O1xuXHQgICAgY29uc3QgZ2V0SW5zZXJ0SW5kZXhGcm9tUG9zaXRpb24gPSAoYmFzZUluZGV4LCBwb3NpdGlvbiwgb2Zmc2V0V2hlbkFmdGVyID0gMSkgPT4ge1xuXHQgICAgICBpZiAodHlwZW9mIGJhc2VJbmRleCAhPT0gJ251bWJlcicgfHwgYmFzZUluZGV4IDwgMCkgcmV0dXJuIG51bGw7XG5cdCAgICAgIHJldHVybiBwb3NpdGlvbiA9PT0gJ2JlZm9yZScgPyBiYXNlSW5kZXggOiBiYXNlSW5kZXggKyBvZmZzZXRXaGVuQWZ0ZXI7XG5cdCAgICB9O1xuXHQgICAgY29uc3QgY29tbWl0QmxvY2tzQ2hhbmdlID0gKGFjdGl2ZUlkID0gbnVsbCwgYWN0aXZlUGFyZW50SWQgPSBudWxsLCB0b2FzdE1lc3NhZ2UgPSBudWxsKSA9PiB7XG5cdCAgICAgIHJlbmRlckJsb2NrTGlzdChjdXJyZW50UGFnZSk7XG5cdCAgICAgIHNhdmVQYWdlQmxvY2tzKCk7XG5cdCAgICAgIGlmIChhY3RpdmVJZCkge1xuXHQgICAgICAgIHNldEFjdGl2ZUJsb2NrKGFjdGl2ZUlkLCBhY3RpdmVQYXJlbnRJZCk7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKHRvYXN0TWVzc2FnZSkge1xuXHQgICAgICAgIHNob3dUb2FzdCh0b2FzdE1lc3NhZ2UpO1xuXHQgICAgICB9XG5cdCAgICB9O1xuXG5cdCAgICBjb25zdCBtb3ZlQmxvY2tUb0dyb3VwID0gKGJsb2NrSWQsIGdyb3VwSWQpID0+IHtcblx0ICAgICAgaWYgKCFjdXJyZW50UGFnZSkgcmV0dXJuO1xuXHQgICAgICBpZiAoIWJsb2NrSWQgfHwgIWdyb3VwSWQgfHwgYmxvY2tJZCA9PT0gZ3JvdXBJZCkgcmV0dXJuO1xuXHQgICAgICBjb25zdCBncm91cEJsb2NrID0gY3VycmVudFBhZ2UuYmxvY2tzLmZpbmQoKGIpID0+IGIuaWQgPT09IGdyb3VwSWQpO1xuXHQgICAgICBpZiAoIWdyb3VwQmxvY2spIHJldHVybjtcblx0ICAgICAgXG5cdCAgICAgIC8vIE5lIHBhcyBwZXJtZXR0cmUgZGUgZFx1MDBFOXBsYWNlciB1biBncm91cGUgZGFucyB1biBncm91cGVcblx0ICAgICAgY29uc3QgZXh0cmFjdGVkID0gZXh0cmFjdEJsb2NrQnlJZChibG9ja0lkKTtcblx0ICAgICAgaWYgKCFleHRyYWN0ZWQ/LmJsb2NrKSByZXR1cm47XG5cdCAgICAgIGNvbnN0IGJsb2NrVHlwZSA9IChleHRyYWN0ZWQuYmxvY2sudHlwZSB8fCAnJykudG9Mb3dlckNhc2UoKTtcblx0ICAgICAgaWYgKGJsb2NrVHlwZSA9PT0gJ2dyb3VwZScgfHwgYmxvY2tUeXBlID09PSAnZ3JvdXAnKSB7XG5cdCAgICAgICAgc2hvd1RvYXN0KCdJbXBvc3NpYmxlIGRcXCdpbWJyaXF1ZXIgZGVzIGdyb3VwZXMnLCAnZXJyb3InKTtcblx0ICAgICAgICAvLyBSZW1ldHRyZSBsZSBibG9jIFx1MDBFMCBzYSBwbGFjZSBkJ29yaWdpbmVcblx0ICAgICAgICBpZiAoZXh0cmFjdGVkLmZyb20/LnR5cGUgPT09ICdyb290Jykge1xuXHQgICAgICAgICAgaW5zZXJ0QmxvY2tJbnRvUm9vdChleHRyYWN0ZWQuYmxvY2ssIGV4dHJhY3RlZC5mcm9tLmluZGV4KTtcblx0ICAgICAgICB9IGVsc2UgaWYgKGV4dHJhY3RlZC5mcm9tPy50eXBlID09PSAnZ3JvdXAnKSB7XG5cdCAgICAgICAgICBpbnNlcnRCbG9ja0ludG9Hcm91cChleHRyYWN0ZWQuYmxvY2ssIGV4dHJhY3RlZC5mcm9tLmdyb3VwSWQsIGV4dHJhY3RlZC5mcm9tLmluZGV4KTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cdCAgICAgIFxuXHQgICAgICAvLyBEXHUwMEU5alx1MDBFMCBkYW5zIGNlIGdyb3VwZSBcdTIxOTIgbm8tb3Bcblx0ICAgICAgaWYgKGV4dHJhY3RlZC5mcm9tPy50eXBlID09PSAnZ3JvdXAnICYmIGV4dHJhY3RlZC5mcm9tLmdyb3VwSWQgPT09IGdyb3VwSWQpIHtcblx0ICAgICAgICBpbnNlcnRCbG9ja0ludG9Hcm91cChleHRyYWN0ZWQuYmxvY2ssIGV4dHJhY3RlZC5mcm9tLmdyb3VwSWQsIGV4dHJhY3RlZC5mcm9tLmluZGV4KTtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cblxuXHQgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoZ3JvdXBCbG9jay5jaGlsZHJlbikpIGdyb3VwQmxvY2suY2hpbGRyZW4gPSBbXTtcblx0ICAgICAgZ3JvdXBCbG9jay5jaGlsZHJlbi5wdXNoKGV4dHJhY3RlZC5ibG9jayk7XG5cdCAgICAgIGNvbW1pdEJsb2Nrc0NoYW5nZShleHRyYWN0ZWQuYmxvY2suaWQsIGdyb3VwSWQsIGBCbG9jIGFqb3V0XHUwMEU5IGF1IGdyb3VwZWApO1xuXHQgICAgfTtcblx0ICAgIFxuXHQgICAgY29uc3QgcmVtb3ZlQ2hpbGRGcm9tR3JvdXAgPSAoZ3JvdXBJZCwgY2hpbGRJZCkgPT4ge1xuXHQgICAgICBpZiAoIWN1cnJlbnRQYWdlKSByZXR1cm47XG4gICAgICBjb25zdCBncm91cEJsb2NrID0gY3VycmVudFBhZ2UuYmxvY2tzLmZpbmQoKGIpID0+IGIuaWQgPT09IGdyb3VwSWQpO1xuICAgICAgaWYgKCFncm91cEJsb2NrIHx8ICFncm91cEJsb2NrLmNoaWxkcmVuKSByZXR1cm47XG4gICAgICBcbiAgICAgIGNvbnN0IGNoaWxkSW5kZXggPSBncm91cEJsb2NrLmNoaWxkcmVuLmZpbmRJbmRleCgoYykgPT4gYy5pZCA9PT0gY2hpbGRJZCk7XG4gICAgICBpZiAoY2hpbGRJbmRleCA9PT0gLTEpIHJldHVybjtcbiAgICAgIFxuICAgICAgLy8gUmV0aXJlciBsJ2VuZmFudCBkdSBncm91cGUgZXQgbGUgcmVtZXR0cmUgZGFucyBsYSBsaXN0ZSBwcmluY2lwYWxlIGFwclx1MDBFOHMgbGUgZ3JvdXBlXG4gICAgICBjb25zdCBbY2hpbGRdID0gZ3JvdXBCbG9jay5jaGlsZHJlbi5zcGxpY2UoY2hpbGRJbmRleCwgMSk7XG4gICAgICBjb25zdCBncm91cEluZGV4ID0gY3VycmVudFBhZ2UuYmxvY2tzLmZpbmRJbmRleCgoYikgPT4gYi5pZCA9PT0gZ3JvdXBJZCk7XG4gICAgICBjdXJyZW50UGFnZS5ibG9ja3Muc3BsaWNlKGdyb3VwSW5kZXggKyAxLCAwLCBjaGlsZCk7XG4gICAgICBcblx0ICAgICAgcmVuZGVyQmxvY2tMaXN0KGN1cnJlbnRQYWdlKTtcblx0ICAgICAgc2F2ZVBhZ2VCbG9ja3MoKTtcblx0ICAgICAgc2hvd1RvYXN0KGBCbG9jIHNvcnRpIGR1IGdyb3VwZWApO1xuXHQgICAgfTtcblxuXHQgICAgY29uc3QgbW92ZUNoaWxkRnJvbUdyb3VwVG9Sb290QXQgPSAoZ3JvdXBJZCwgY2hpbGRJZCwgaW5zZXJ0SW5kZXgpID0+IHtcblx0ICAgICAgaWYgKCFjdXJyZW50UGFnZSkgcmV0dXJuO1xuXHQgICAgICBjb25zdCBncm91cEJsb2NrID0gY3VycmVudFBhZ2UuYmxvY2tzLmZpbmQoKGIpID0+IGIuaWQgPT09IGdyb3VwSWQpO1xuXHQgICAgICBpZiAoIWdyb3VwQmxvY2sgfHwgIUFycmF5LmlzQXJyYXkoZ3JvdXBCbG9jay5jaGlsZHJlbikpIHJldHVybjtcblx0ICAgICAgY29uc3QgY2hpbGRJbmRleCA9IGdyb3VwQmxvY2suY2hpbGRyZW4uZmluZEluZGV4KChjKSA9PiBjLmlkID09PSBjaGlsZElkKTtcblx0ICAgICAgaWYgKGNoaWxkSW5kZXggPT09IC0xKSByZXR1cm47XG5cdCAgICAgIGNvbnN0IFtjaGlsZF0gPSBncm91cEJsb2NrLmNoaWxkcmVuLnNwbGljZShjaGlsZEluZGV4LCAxKTtcblx0ICAgICAgaW5zZXJ0QmxvY2tJbnRvUm9vdChjaGlsZCwgaW5zZXJ0SW5kZXgpO1xuXHQgICAgICBjb21taXRCbG9ja3NDaGFuZ2UoY2hpbGQuaWQsIG51bGwsICdCbG9jIHNvcnRpIGR1IGdyb3VwZScpO1xuXHQgICAgfTtcblxuXHQgICAgY29uc3QgbW92ZUNoaWxkV2l0aGluR3JvdXAgPSAoZ3JvdXBJZCwgY2hpbGRJZCwgdGFyZ2V0Q2hpbGRJZCwgcG9zaXRpb24pID0+IHtcblx0ICAgICAgaWYgKCFjdXJyZW50UGFnZSkgcmV0dXJuO1xuXHQgICAgICBjb25zdCBncm91cEJsb2NrID0gY3VycmVudFBhZ2UuYmxvY2tzLmZpbmQoKGIpID0+IGIuaWQgPT09IGdyb3VwSWQpO1xuXHQgICAgICBpZiAoIWdyb3VwQmxvY2sgfHwgIUFycmF5LmlzQXJyYXkoZ3JvdXBCbG9jay5jaGlsZHJlbikpIHJldHVybjtcblx0ICAgICAgY29uc3QgZnJvbUluZGV4ID0gZ3JvdXBCbG9jay5jaGlsZHJlbi5maW5kSW5kZXgoKGMpID0+IGMuaWQgPT09IGNoaWxkSWQpO1xuXHQgICAgICBjb25zdCB0b0luZGV4QmFzZSA9IGdyb3VwQmxvY2suY2hpbGRyZW4uZmluZEluZGV4KChjKSA9PiBjLmlkID09PSB0YXJnZXRDaGlsZElkKTtcblx0ICAgICAgaWYgKGZyb21JbmRleCA9PT0gLTEgfHwgdG9JbmRleEJhc2UgPT09IC0xIHx8IGNoaWxkSWQgPT09IHRhcmdldENoaWxkSWQpIHJldHVybjtcblx0ICAgICAgY29uc3QgW21vdmVkXSA9IGdyb3VwQmxvY2suY2hpbGRyZW4uc3BsaWNlKGZyb21JbmRleCwgMSk7XG5cdCAgICAgIGNvbnN0IGFkanVzdGVkVG9JbmRleEJhc2UgPSBmcm9tSW5kZXggPCB0b0luZGV4QmFzZSA/IHRvSW5kZXhCYXNlIC0gMSA6IHRvSW5kZXhCYXNlO1xuXHQgICAgICBjb25zdCBpbnNlcnRJbmRleCA9XG5cdCAgICAgICAgcG9zaXRpb24gPT09ICdiZWZvcmUnID8gYWRqdXN0ZWRUb0luZGV4QmFzZSA6IGFkanVzdGVkVG9JbmRleEJhc2UgKyAxO1xuXHQgICAgICBncm91cEJsb2NrLmNoaWxkcmVuLnNwbGljZShpbnNlcnRJbmRleCwgMCwgbW92ZWQpO1xuXHQgICAgICBjb21taXRCbG9ja3NDaGFuZ2UobW92ZWQuaWQsIGdyb3VwSWQsIG51bGwpO1xuXHQgICAgfTtcblxuXHQgICAgY29uc3QgbW92ZUFueUJsb2NrVG9Hcm91cEF0ID0gKGJsb2NrSWQsIGdyb3VwSWQsIHRhcmdldENoaWxkSWQsIHBvc2l0aW9uKSA9PiB7XG5cdCAgICAgIGlmICghY3VycmVudFBhZ2UpIHJldHVybjtcblx0ICAgICAgaWYgKCFibG9ja0lkIHx8ICFncm91cElkKSByZXR1cm47XG5cdCAgICAgIGNvbnN0IGV4dHJhY3RlZCA9IGV4dHJhY3RCbG9ja0J5SWQoYmxvY2tJZCk7XG5cdCAgICAgIGlmICghZXh0cmFjdGVkPy5ibG9jaykgcmV0dXJuO1xuXHQgICAgICBjb25zdCBibG9ja1R5cGUgPSAoZXh0cmFjdGVkLmJsb2NrLnR5cGUgfHwgJycpLnRvTG93ZXJDYXNlKCk7XG5cdCAgICAgIGlmIChibG9ja1R5cGUgPT09ICdncm91cGUnIHx8IGJsb2NrVHlwZSA9PT0gJ2dyb3VwJykge1xuXHQgICAgICAgIHNob3dUb2FzdChcIkltcG9zc2libGUgZCdpbWJyaXF1ZXIgZGVzIGdyb3VwZXNcIiwgJ2Vycm9yJyk7XG5cdCAgICAgICAgaWYgKGV4dHJhY3RlZC5mcm9tPy50eXBlID09PSAncm9vdCcpIHtcblx0ICAgICAgICAgIGluc2VydEJsb2NrSW50b1Jvb3QoZXh0cmFjdGVkLmJsb2NrLCBleHRyYWN0ZWQuZnJvbS5pbmRleCk7XG5cdCAgICAgICAgfSBlbHNlIGlmIChleHRyYWN0ZWQuZnJvbT8udHlwZSA9PT0gJ2dyb3VwJykge1xuXHQgICAgICAgICAgaW5zZXJ0QmxvY2tJbnRvR3JvdXAoZXh0cmFjdGVkLmJsb2NrLCBleHRyYWN0ZWQuZnJvbS5ncm91cElkLCBleHRyYWN0ZWQuZnJvbS5pbmRleCk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHQgICAgICBjb25zdCBncm91cEJsb2NrID0gY3VycmVudFBhZ2UuYmxvY2tzLmZpbmQoKGIpID0+IGIuaWQgPT09IGdyb3VwSWQpO1xuXHQgICAgICBpZiAoIWdyb3VwQmxvY2spIHtcblx0ICAgICAgICAvLyBSZW1ldHRyZSBsZSBibG9jXG5cdCAgICAgICAgaWYgKGV4dHJhY3RlZC5mcm9tPy50eXBlID09PSAncm9vdCcpIHtcblx0ICAgICAgICAgIGluc2VydEJsb2NrSW50b1Jvb3QoZXh0cmFjdGVkLmJsb2NrLCBleHRyYWN0ZWQuZnJvbS5pbmRleCk7XG5cdCAgICAgICAgfSBlbHNlIGlmIChleHRyYWN0ZWQuZnJvbT8udHlwZSA9PT0gJ2dyb3VwJykge1xuXHQgICAgICAgICAgaW5zZXJ0QmxvY2tJbnRvR3JvdXAoZXh0cmFjdGVkLmJsb2NrLCBleHRyYWN0ZWQuZnJvbS5ncm91cElkLCBleHRyYWN0ZWQuZnJvbS5pbmRleCk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHQgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoZ3JvdXBCbG9jay5jaGlsZHJlbikpIGdyb3VwQmxvY2suY2hpbGRyZW4gPSBbXTtcblx0ICAgICAgbGV0IGluc2VydEluZGV4ID0gZ3JvdXBCbG9jay5jaGlsZHJlbi5sZW5ndGg7XG5cdCAgICAgIGlmICh0YXJnZXRDaGlsZElkKSB7XG5cdCAgICAgICAgY29uc3QgdGFyZ2V0SW5kZXggPSBncm91cEJsb2NrLmNoaWxkcmVuLmZpbmRJbmRleCgoYykgPT4gYy5pZCA9PT0gdGFyZ2V0Q2hpbGRJZCk7XG5cdCAgICAgICAgY29uc3QgcmVzb2x2ZWQgPSBnZXRJbnNlcnRJbmRleEZyb21Qb3NpdGlvbih0YXJnZXRJbmRleCwgcG9zaXRpb24sIDEpO1xuXHQgICAgICAgIGlmIChyZXNvbHZlZCAhPT0gbnVsbCkgaW5zZXJ0SW5kZXggPSByZXNvbHZlZDtcblx0ICAgICAgfVxuXHQgICAgICBncm91cEJsb2NrLmNoaWxkcmVuLnNwbGljZShpbnNlcnRJbmRleCwgMCwgZXh0cmFjdGVkLmJsb2NrKTtcblx0ICAgICAgY29tbWl0QmxvY2tzQ2hhbmdlKGV4dHJhY3RlZC5ibG9jay5pZCwgZ3JvdXBJZCwgJ0Jsb2MgYWpvdXRcdTAwRTkgYXUgZ3JvdXBlJyk7XG5cdCAgICB9O1xuICAgIFxuICAgIGNvbnN0IG1vdmVDaGlsZEJsb2NrQnlPZmZzZXQgPSAoZ3JvdXBJZCwgY2hpbGRJZCwgb2Zmc2V0KSA9PiB7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlKSByZXR1cm47XG4gICAgICBjb25zdCBncm91cEJsb2NrID0gY3VycmVudFBhZ2UuYmxvY2tzLmZpbmQoKGIpID0+IGIuaWQgPT09IGdyb3VwSWQpO1xuICAgICAgaWYgKCFncm91cEJsb2NrIHx8ICFncm91cEJsb2NrLmNoaWxkcmVuKSByZXR1cm47XG4gICAgICBcbiAgICAgIGNvbnN0IGN1cnJlbnRJbmRleCA9IGdyb3VwQmxvY2suY2hpbGRyZW4uZmluZEluZGV4KChjKSA9PiBjLmlkID09PSBjaGlsZElkKTtcbiAgICAgIGlmIChjdXJyZW50SW5kZXggPT09IC0xKSByZXR1cm47XG4gICAgICBcbiAgICAgIGNvbnN0IG5ld0luZGV4ID0gY3VycmVudEluZGV4ICsgb2Zmc2V0O1xuICAgICAgaWYgKG5ld0luZGV4IDwgMCB8fCBuZXdJbmRleCA+PSBncm91cEJsb2NrLmNoaWxkcmVuLmxlbmd0aCkgcmV0dXJuO1xuICAgICAgXG4gICAgICBjb25zdCBbY2hpbGRdID0gZ3JvdXBCbG9jay5jaGlsZHJlbi5zcGxpY2UoY3VycmVudEluZGV4LCAxKTtcbiAgICAgIGdyb3VwQmxvY2suY2hpbGRyZW4uc3BsaWNlKG5ld0luZGV4LCAwLCBjaGlsZCk7XG4gICAgICBcbiAgICAgIHJlbmRlckJsb2NrTGlzdChjdXJyZW50UGFnZSk7XG4gICAgICBzYXZlUGFnZUJsb2NrcygpO1xuICAgIH07XG4gICAgXG4gICAgY29uc3Qgb3BlbkFkZEJsb2NrVG9Hcm91cE1vZGFsID0gKGdyb3VwSWQpID0+IHtcbiAgICAgIC8vIFV0aWxpc2VyIGxlIG1cdTAwRUFtZSBtb2RhbCBkJ2Fqb3V0IGRlIGJsb2MsIG1haXMgYXZlYyBsZSBjb250ZXh0ZSBkdSBncm91cGVcbiAgICAgIHBlbmRpbmdHcm91cElkRm9yTmV3QmxvY2sgPSBncm91cElkO1xuICAgICAgb3BlbkJsb2NrUGlja2VyKCk7XG4gICAgfTtcbiAgICBcbiAgICBsZXQgcGVuZGluZ0dyb3VwSWRGb3JOZXdCbG9jayA9IG51bGw7XG5cbiAgICAvLyA9PT0gRGVsZXRlIHBhZ2UgaGFuZGxlcnMgKGRlZmluZWQgYmVmb3JlIHJlbmRlclBhZ2VMaXN0cykgPT09XG4gICAgY29uc3Qgb3BlbkRlbGV0ZVBhZ2VNb2RhbCA9IChwYWdlKSA9PiB7XG4gICAgICBpZiAoIWRlbGV0ZVBhZ2VNb2RhbCB8fCAhcGFnZSkgcmV0dXJuO1xuICAgICAgcGFnZVRvRGVsZXRlID0gcGFnZTtcbiAgICAgIGlmIChkZWxldGVQYWdlTmFtZSkgZGVsZXRlUGFnZU5hbWUudGV4dENvbnRlbnQgPSBwYWdlLnRpdGxlIHx8IHBhZ2UuaWQ7XG4gICAgICBkZWxldGVQYWdlTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBkZWxldGVQYWdlTW9kYWwuY2xhc3NMaXN0LmFkZCgnZmxleCcpO1xuICAgICAgYWN0aXZhdGVNb2RhbChkZWxldGVQYWdlTW9kYWwsIGNsb3NlRGVsZXRlUGFnZU1vZGFsKTtcbiAgICB9O1xuICAgIGNvbnN0IGNsb3NlRGVsZXRlUGFnZU1vZGFsID0gKCkgPT4ge1xuICAgICAgaWYgKCFkZWxldGVQYWdlTW9kYWwpIHJldHVybjtcbiAgICAgIGRlbGV0ZVBhZ2VNb2RhbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGRlbGV0ZVBhZ2VNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdmbGV4Jyk7XG4gICAgICBwYWdlVG9EZWxldGUgPSBudWxsO1xuICAgICAgZGVhY3RpdmF0ZU1vZGFsKGRlbGV0ZVBhZ2VNb2RhbCk7XG4gICAgfTtcbiAgICBjb25zdCBleGVjdXRlRGVsZXRlUGFnZSA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghcGFnZXNBcGlCYXNlIHx8ICFwYWdlVG9EZWxldGUpIHJldHVybjtcbiAgICAgIGNvbnN0IHBhZ2VJZCA9IHBhZ2VUb0RlbGV0ZS5pZDtcbiAgICAgIGNvbnN0IHBhZ2VUaXRsZSA9IHBhZ2VUb0RlbGV0ZS50aXRsZSB8fCBwYWdlSWQ7XG4gICAgICBpZiAoZGVsZXRlUGFnZUNvbmZpcm0pIHtcbiAgICAgICAgZGVsZXRlUGFnZUNvbmZpcm0uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICBkZWxldGVQYWdlQ29uZmlybS50ZXh0Q29udGVudCA9ICdTdXBwcmVzc2lvbi4uLic7XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke3BhZ2VzQXBpQmFzZX0vJHtlbmNvZGVVUklDb21wb25lbnQocGFnZUlkKX1gLCB7XG4gICAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgICAgICBjcmVkZW50aWFsczogJ2luY2x1ZGUnLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5tZXNzYWdlIHx8ICdFcnJldXIgc2VydmV1cicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFN1cHByaW1lciBkZSBsYSBsaXN0ZSBsb2NhbGVcbiAgICAgICAgcGFnZXMgPSBwYWdlcy5maWx0ZXIoKHApID0+IHAuaWQgIT09IHBhZ2VJZCk7XG4gICAgICAgIC8vIFNpIGxhIHBhZ2Ugc3VwcHJpbVx1MDBFOWUgXHUwMEU5dGFpdCBhY3RpdmUsIHNcdTAwRTlsZWN0aW9ubmVyIGxhIHByZW1pXHUwMEU4cmVcbiAgICAgICAgaWYgKGFjdGl2ZVBhZ2VJZCA9PT0gcGFnZUlkKSB7XG4gICAgICAgICAgaWYgKHBhZ2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHNldEFjdGl2ZVBhZ2UocGFnZXNbMF0uaWQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhY3RpdmVQYWdlSWQgPSBudWxsO1xuICAgICAgICAgICAgY3VycmVudFBhZ2UgPSBudWxsO1xuICAgICAgICAgICAgcmVuZGVyUGFnZUxpc3RzKHBhZ2VzLCBudWxsKTtcbiAgICAgICAgICAgIHJlbmRlckJsb2NrTGlzdChudWxsKTtcbiAgICAgICAgICAgIGJsb2NrRGV0YWlsRW1wdHk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgICAgYmxvY2tFZGl0b3I/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICAgICAgcHJldmlld0ZyYW1lICYmIChwcmV2aWV3RnJhbWUuc3JjZG9jID0gZ2V0TG9hZGluZ1ByZXZpZXdIdG1sKCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZW5kZXJQYWdlTGlzdHMocGFnZXMsIGFjdGl2ZVBhZ2VJZCk7XG4gICAgICAgIH1cbiAgICAgICAgY2xvc2VEZWxldGVQYWdlTW9kYWwoKTtcbiAgICAgICAgc2hvd1RvYXN0KGBQYWdlIFwiJHtwYWdlVGl0bGV9XCIgc3VwcHJpbVx1MDBFOWVgKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbcGFnZXNdIGRlbGV0ZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBzdXBwcmVzc2lvbicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKGRlbGV0ZVBhZ2VDb25maXJtKSB7XG4gICAgICAgICAgZGVsZXRlUGFnZUNvbmZpcm0uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICBkZWxldGVQYWdlQ29uZmlybS50ZXh0Q29udGVudCA9ICdTdXBwcmltZXInO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHJlbmRlclBhZ2VMaXN0cyA9IChwYWdlcywgYWN0aXZlSWQpID0+IHtcbiAgICAgIGNvbnN0IHBhZ2VMaXN0ID0gQXJyYXkuaXNBcnJheShwYWdlcykgPyBwYWdlcyA6IFtdO1xuICAgICAgY29uc3QgcGFnZXNCeUlkID0gbmV3IE1hcChwYWdlTGlzdC5tYXAoKHBhZ2UpID0+IFtwYWdlLmlkLCBwYWdlXSkpO1xuICAgICAgY29uc3QgY2hpbGRyZW5CeVBhcmVudElkID0gbmV3IE1hcCgpO1xuICAgICAgY29uc3QgcmVzb2x2ZVBhcmVudEJ1Y2tldCA9IChwYWdlKSA9PiB7XG4gICAgICAgIGNvbnN0IHJhd1BhcmVudElkID0gcGFnZT8ucGFyZW50SWQ7XG4gICAgICAgIGlmICh0eXBlb2YgcmF3UGFyZW50SWQgIT09ICdzdHJpbmcnIHx8ICFyYXdQYXJlbnRJZC50cmltKCkpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXJlbnRJZCA9IHJhd1BhcmVudElkLnRyaW0oKTtcbiAgICAgICAgcmV0dXJuIHBhZ2VzQnlJZC5oYXMocGFyZW50SWQpID8gcGFyZW50SWQgOiBudWxsO1xuICAgICAgfTtcblxuICAgICAgcGFnZUxpc3QuZm9yRWFjaCgocGFnZSkgPT4ge1xuICAgICAgICBjb25zdCBidWNrZXQgPSByZXNvbHZlUGFyZW50QnVja2V0KHBhZ2UpO1xuICAgICAgICBpZiAoIWNoaWxkcmVuQnlQYXJlbnRJZC5oYXMoYnVja2V0KSkge1xuICAgICAgICAgIGNoaWxkcmVuQnlQYXJlbnRJZC5zZXQoYnVja2V0LCBbXSk7XG4gICAgICAgIH1cbiAgICAgICAgY2hpbGRyZW5CeVBhcmVudElkLmdldChidWNrZXQpLnB1c2gocGFnZSk7XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgY29tcGFyZVBhZ2VzID0gKGEsIGIpID0+IHtcbiAgICAgICAgY29uc3Qgc2x1Z0EgPSBhPy5zbHVnIHx8ICcnO1xuICAgICAgICBjb25zdCBzbHVnQiA9IGI/LnNsdWcgfHwgJyc7XG4gICAgICAgIGlmIChzbHVnQSA9PT0gJy8nICYmIHNsdWdCICE9PSAnLycpIHJldHVybiAtMTtcbiAgICAgICAgaWYgKHNsdWdCID09PSAnLycgJiYgc2x1Z0EgIT09ICcvJykgcmV0dXJuIDE7XG4gICAgICAgIHJldHVybiBzbHVnQS5sb2NhbGVDb21wYXJlKHNsdWdCKTtcbiAgICAgIH07XG4gICAgICBBcnJheS5mcm9tKGNoaWxkcmVuQnlQYXJlbnRJZC52YWx1ZXMoKSkuZm9yRWFjaCgobGlzdCkgPT4gbGlzdC5zb3J0KGNvbXBhcmVQYWdlcykpO1xuXG4gICAgICBjb25zdCBvcmRlcmVkID0gW107XG4gICAgICBjb25zdCB2aXNpdGVkID0gbmV3IFNldCgpO1xuICAgICAgY29uc3Qgd2FsayA9IChwYXJlbnRJZCwgZGVwdGgpID0+IHtcbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBjaGlsZHJlbkJ5UGFyZW50SWQuZ2V0KHBhcmVudElkKSB8fCBbXTtcbiAgICAgICAgY2hpbGRyZW4uZm9yRWFjaCgoY2hpbGQpID0+IHtcbiAgICAgICAgICBpZiAoIWNoaWxkPy5pZCB8fCB2aXNpdGVkLmhhcyhjaGlsZC5pZCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmlzaXRlZC5hZGQoY2hpbGQuaWQpO1xuICAgICAgICAgIGNvbnN0IGhhc01pc3NpbmdQYXJlbnQgPSAhIShjaGlsZC5wYXJlbnRJZCAmJiAhcGFnZXNCeUlkLmhhcyhjaGlsZC5wYXJlbnRJZCkpO1xuICAgICAgICAgIG9yZGVyZWQucHVzaCh7IHBhZ2U6IGNoaWxkLCBkZXB0aCwgaGFzTWlzc2luZ1BhcmVudCB9KTtcbiAgICAgICAgICB3YWxrKGNoaWxkLmlkLCBkZXB0aCArIDEpO1xuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgIHdhbGsobnVsbCwgMCk7XG4gICAgICBwYWdlTGlzdC5mb3JFYWNoKChwYWdlKSA9PiB7XG4gICAgICAgIGlmICghcGFnZT8uaWQgfHwgdmlzaXRlZC5oYXMocGFnZS5pZCkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmlzaXRlZC5hZGQocGFnZS5pZCk7XG4gICAgICAgIG9yZGVyZWQucHVzaCh7IHBhZ2UsIGRlcHRoOiAwLCBoYXNNaXNzaW5nUGFyZW50OiB0cnVlIH0pO1xuICAgICAgICB3YWxrKHBhZ2UuaWQsIDEpO1xuICAgICAgfSk7XG5cbiAgICAgIHBhZ2VMaXN0cy5mb3JFYWNoKChsaXN0KSA9PiB7XG4gICAgICAgIGxpc3QuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgIG9yZGVyZWQuZm9yRWFjaCgoeyBwYWdlLCBkZXB0aCwgaGFzTWlzc2luZ1BhcmVudCB9KSA9PiB7XG4gICAgICAgICAgY29uc3QgaXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICAgICAgaXRlbS5jbGFzc05hbWUgPSAnZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEnO1xuICAgICAgICAgIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICAgIGJ1dHRvbi50eXBlID0gJ2J1dHRvbic7XG4gICAgICAgICAgYnV0dG9uLmRhdGFzZXQucGFnZUlkID0gcGFnZS5pZDtcbiAgICAgICAgICBidXR0b24uY2xhc3NOYW1lID0gW1xuICAgICAgICAgICAgJ2ZsZXgtMSBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMyBweC0zIHB5LTIgdGV4dC1sZWZ0IHRyYW5zaXRpb24nLFxuICAgICAgICAgICAgYWN0aXZlSWQgPT09IHBhZ2UuaWRcbiAgICAgICAgICAgICAgPyAnYmctWyM5QzZCRkZdLzEwIHRleHQtc2xhdGUtOTAwIGJvcmRlciBib3JkZXItWyM5QzZCRkZdLzQwIHJvdW5kZWQteGwgc2hhZG93LXNtJ1xuICAgICAgICAgICAgICA6ICd0ZXh0LXNsYXRlLTcwMCBob3ZlcjpiZy1zbGF0ZS01MCByb3VuZGVkLXhsJyxcbiAgICAgICAgICBdLmpvaW4oJyAnKTtcbiAgICAgICAgICBpZiAoYWN0aXZlSWQgPT09IHBhZ2UuaWQpIHtcbiAgICAgICAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtY3VycmVudCcsICdwYWdlJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJ1dHRvbi5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtY3VycmVudCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBkaXNwbGF5TmFtZSA9IHBhZ2UubmFtZSB8fCBwYWdlLnRpdGxlO1xuICAgICAgICAgIGNvbnN0IGlzSGlkZGVuRnJvbU5hdiA9IHBhZ2UuYWNjZXNzaWJpbGl0eT8uc2hvd0luTWFpbk5hdiA9PT0gZmFsc2U7XG4gICAgICAgICAgY29uc3QgbmF2QmFkZ2UgPSBpc0hpZGRlbkZyb21OYXZcbiAgICAgICAgICAgID8gJzxzcGFuIGNsYXNzPVwidGV4dC1bMTBweF0gZm9udC1zZW1pYm9sZCB0ZXh0LWFtYmVyLTYwMFwiPk1hc3F1XHUwMEU5IGR1IG1lbnU8L3NwYW4+J1xuICAgICAgICAgICAgOiAnJztcbiAgICAgICAgICBjb25zdCBoaWVyYXJjaHlCYWRnZSA9IGhhc01pc3NpbmdQYXJlbnRcbiAgICAgICAgICAgID8gJzxzcGFuIGNsYXNzPVwidGV4dC1bMTBweF0gZm9udC1zZW1pYm9sZCB0ZXh0LXJvc2UtNjAwXCI+UGFyZW50IG1hbnF1YW50PC9zcGFuPidcbiAgICAgICAgICAgIDogJyc7XG4gICAgICAgICAgY29uc3QgaW5kZW50ID0gTWF0aC5taW4oMzIsIE1hdGgubWF4KDAsIE51bWJlcihkZXB0aCkgfHwgMCkgKiAxNCk7XG4gICAgICAgICAgYnV0dG9uLmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZmxleCBoLTkgdy05IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciByb3VuZGVkLXhsIGJvcmRlciBib3JkZXItc2xhdGUtMjAwIGJnLXdoaXRlIHRleHQtc2xhdGUtNTAwXCI+XG4gICAgICAgICAgICAgIDxzdmcgd2lkdGg9XCIxOFwiIGhlaWdodD1cIjE4XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+XG4gICAgICAgICAgICAgICAgPHBhdGggZD1cIk02LjUgNC41aDdsNCA0djExYTEgMSAwIDAgMS0xIDFoLTEwYTEgMSAwIDAgMS0xLTF2LTE0YTEgMSAwIDAgMSAxLTFaXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMS40XCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIi8+XG4gICAgICAgICAgICAgICAgPHBhdGggZD1cIk0xMy41IDQuNXY0YTEgMSAwIDAgMCAxIDFoM1wiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjEuNFwiLz5cbiAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBmbGV4LWNvbFwiIHN0eWxlPVwibWFyZ2luLWxlZnQ6JHtpbmRlbnR9cHhcIj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXNtIGZvbnQtc2VtaWJvbGRcIj4ke2Rpc3BsYXlOYW1lfTwvc3Bhbj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNTAwXCI+JHtwYWdlLnNsdWd9PC9zcGFuPlxuICAgICAgICAgICAgICAke25hdkJhZGdlfVxuICAgICAgICAgICAgICAke2hpZXJhcmNoeUJhZGdlfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgYDtcbiAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICBzZXRBY3RpdmVQYWdlKHBhZ2UuaWQpO1xuICAgICAgICAgICAgaWYgKCFpc0Rlc2t0b3BEcmF3ZXIoKSkge1xuICAgICAgICAgICAgICBjbG9zZURyYXdlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGl0ZW0uYXBwZW5kQ2hpbGQoYnV0dG9uKTtcblxuICAgICAgICAgIGNvbnN0IGRlbGV0ZUJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICAgIGRlbGV0ZUJ0bi50eXBlID0gJ2J1dHRvbic7XG4gICAgICAgICAgZGVsZXRlQnRuLmNsYXNzTmFtZSA9XG4gICAgICAgICAgICAnZmxleC1zaHJpbmstMCBwLTIgdGV4dC1zbGF0ZS00MDAgaG92ZXI6dGV4dC1yb3NlLTYwMCBob3ZlcjpiZy1yb3NlLTUwIHJvdW5kZWQtbGcgdHJhbnNpdGlvbic7XG4gICAgICAgICAgZGVsZXRlQnRuLnRpdGxlID0gJ1N1cHByaW1lciBjZXR0ZSBwYWdlJztcbiAgICAgICAgICBkZWxldGVCdG4uc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgYFN1cHByaW1lciAke2Rpc3BsYXlOYW1lfWApO1xuICAgICAgICAgIGRlbGV0ZUJ0bi5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICA8c3ZnIHdpZHRoPVwiMTZcIiBoZWlnaHQ9XCIxNlwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIj5cbiAgICAgICAgICAgICAgPHBhdGggZD1cIk0zIDZoMThNOCA2VjRhMiAyIDAgMCAxIDItMmg0YTIgMiAwIDAgMSAyIDJ2Mm0zIDB2MTRhMiAyIDAgMCAxLTIgMkg3YTIgMiAwIDAgMS0yLTJWNmgxNFpNMTAgMTF2Nk0xNCAxMXY2XCIvPlxuICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgYDtcbiAgICAgICAgICBkZWxldGVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIG9wZW5EZWxldGVQYWdlTW9kYWwocGFnZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaXRlbS5hcHBlbmRDaGlsZChkZWxldGVCdG4pO1xuICAgICAgICAgIGxpc3QuYXBwZW5kQ2hpbGQoaXRlbSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICBjb25zdCBnZXRBY3RpdmVCbG9jayA9ICgpID0+IHtcbiAgICAgIGlmICghY3VycmVudFBhZ2UgfHwgIUFycmF5LmlzQXJyYXkoY3VycmVudFBhZ2UuYmxvY2tzKSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIC8vIENoZXJjaGVyIGxlIGJsb2MgZGFucyBsYSBsaXN0ZSBwcmluY2lwYWxlIG91IGRhbnMgbGVzIGVuZmFudHMgZGVzIGdyb3VwZXNcbiAgICAgIGxldCBibG9jayA9IGN1cnJlbnRQYWdlLmJsb2Nrcy5maW5kKChibG9jaykgPT4gYmxvY2suaWQgPT09IGFjdGl2ZUJsb2NrSWQpO1xuICAgICAgaWYgKCFibG9jaykge1xuICAgICAgICBmb3IgKGNvbnN0IGIgb2YgY3VycmVudFBhZ2UuYmxvY2tzKSB7XG4gICAgICAgICAgaWYgKGIuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGJsb2NrID0gYi5jaGlsZHJlbi5maW5kKChjaGlsZCkgPT4gY2hpbGQuaWQgPT09IGFjdGl2ZUJsb2NrSWQpO1xuICAgICAgICAgICAgaWYgKGJsb2NrKSBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBibG9jayB8fCBudWxsO1xuICAgIH07XG5cbiAgICBjb25zdCBwYWdlSGFzQmxvY2tJZCA9IChwYWdlLCBibG9ja0lkKSA9PiB7XG4gICAgICBpZiAoIXBhZ2UgfHwgIWJsb2NrSWQpIHJldHVybiBmYWxzZTtcbiAgICAgIGNvbnN0IHdhbGsgPSAobm9kZXMpID0+IHtcbiAgICAgICAgZm9yIChjb25zdCBub2RlIG9mIG5vZGVzIHx8IFtdKSB7XG4gICAgICAgICAgaWYgKCFub2RlKSBjb250aW51ZTtcbiAgICAgICAgICBpZiAobm9kZS5pZCA9PT0gYmxvY2tJZCkgcmV0dXJuIHRydWU7XG4gICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkobm9kZS5jaGlsZHJlbikgJiYgd2Fsayhub2RlLmNoaWxkcmVuKSkgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfTtcbiAgICAgIHJldHVybiB3YWxrKHBhZ2UuYmxvY2tzIHx8IFtdKTtcbiAgICB9O1xuXG4gICAgY29uc3QgdXBkYXRlQmxvY2tzRGVlcCA9IChibG9ja3MsIGJsb2NrSWQsIHVwZGF0ZXIsIHBhcmVudEhpbnQgPSBudWxsKSA9PiB7XG4gICAgICBsZXQgZGlkVXBkYXRlID0gZmFsc2U7XG4gICAgICBsZXQgZm91bmRQYXJlbnRJZCA9IG51bGw7XG5cbiAgICAgIGNvbnN0IHdhbGsgPSAobm9kZXMsIGN1cnJlbnRQYXJlbnRJZCA9IG51bGwpID0+IHtcbiAgICAgICAgbGV0IGNoYW5nZWQgPSBmYWxzZTtcbiAgICAgICAgY29uc3QgbmV4dE5vZGVzID0gKG5vZGVzIHx8IFtdKS5tYXAoKG5vZGUpID0+IHtcbiAgICAgICAgICBpZiAoIW5vZGUgfHwgIW5vZGUuaWQpIHJldHVybiBub2RlO1xuXG4gICAgICAgICAgaWYgKG5vZGUuaWQgPT09IGJsb2NrSWQgJiYgKCFwYXJlbnRIaW50IHx8IHBhcmVudEhpbnQgPT09IGN1cnJlbnRQYXJlbnRJZCkpIHtcbiAgICAgICAgICAgIGRpZFVwZGF0ZSA9IHRydWU7XG4gICAgICAgICAgICBmb3VuZFBhcmVudElkID0gY3VycmVudFBhcmVudElkO1xuICAgICAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm4gdXBkYXRlcihub2RlKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShub2RlLmNoaWxkcmVuKSAmJiBub2RlLmNoaWxkcmVuLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHsgbm9kZXM6IG5leHRDaGlsZHJlbiwgY2hhbmdlZDogY2hpbGRyZW5DaGFuZ2VkIH0gPSB3YWxrKG5vZGUuY2hpbGRyZW4sIG5vZGUuaWQpO1xuICAgICAgICAgICAgaWYgKGNoaWxkcmVuQ2hhbmdlZCkge1xuICAgICAgICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgcmV0dXJuIHsgLi4ubm9kZSwgY2hpbGRyZW46IG5leHRDaGlsZHJlbiB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHsgbm9kZXM6IG5leHROb2RlcywgY2hhbmdlZCB9O1xuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gd2FsayhibG9ja3MsIG51bGwpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYmxvY2tzOiByZXN1bHQubm9kZXMsXG4gICAgICAgIGRpZFVwZGF0ZSxcbiAgICAgICAgZm91bmRQYXJlbnRJZCxcbiAgICAgIH07XG4gICAgfTtcbiAgICBcbiAgICAvLyBWYXJpYWJsZSBwb3VyIHN0b2NrZXIgbGUgcGFyZW50IGR1IGJsb2MgYWN0aWYgKHNpIGMnZXN0IHVuIGVuZmFudCBkZSBncm91cGUpXG4gICAgbGV0IGFjdGl2ZUJsb2NrUGFyZW50SWQgPSBudWxsO1xuICAgIFxuICAgIGNvbnN0IHNldEFjdGl2ZUJsb2NrID0gKGJsb2NrSWQsIHBhcmVudElkID0gbnVsbCkgPT4ge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWJsb2NrSWQpIHtcbiAgICAgICAgYWN0aXZlQmxvY2tJZCA9IG51bGw7XG4gICAgICAgIGFjdGl2ZUJsb2NrUGFyZW50SWQgPSBudWxsO1xuICAgICAgICByZW5kZXJCbG9ja0xpc3QoY3VycmVudFBhZ2UpO1xuICAgICAgICByZW5kZXJCbG9ja0RldGFpbHMobnVsbCk7XG4gICAgICAgIGFwcGx5UHJldmlld0hpZ2hsaWdodChudWxsKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgXG4gICAgICBsZXQgdGFyZ2V0QmxvY2sgPSBudWxsO1xuICAgICAgXG4gICAgICAvLyBDaGVyY2hlciBkYW5zIGxlcyBibG9jcyBwcmluY2lwYXV4XG4gICAgICB0YXJnZXRCbG9jayA9IGN1cnJlbnRQYWdlLmJsb2Nrcy5maW5kKChibG9jaykgPT4gYmxvY2suaWQgPT09IGJsb2NrSWQpO1xuICAgICAgXG4gICAgICAvLyBTaSBwYXMgdHJvdXZcdTAwRTkgZXQgcXUnb24gYSB1biBwYXJlbnRJZCwgY2hlcmNoZXIgZGFucyBsZXMgZW5mYW50cyBkdSBwYXJlbnRcbiAgICAgIGlmICghdGFyZ2V0QmxvY2sgJiYgcGFyZW50SWQpIHtcbiAgICAgICAgY29uc3QgcGFyZW50QmxvY2sgPSBjdXJyZW50UGFnZS5ibG9ja3MuZmluZCgoYikgPT4gYi5pZCA9PT0gcGFyZW50SWQpO1xuICAgICAgICBpZiAocGFyZW50QmxvY2sgJiYgcGFyZW50QmxvY2suY2hpbGRyZW4pIHtcbiAgICAgICAgICB0YXJnZXRCbG9jayA9IHBhcmVudEJsb2NrLmNoaWxkcmVuLmZpbmQoKGNoaWxkKSA9PiBjaGlsZC5pZCA9PT0gYmxvY2tJZCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gU2lub24gY2hlcmNoZXIgZGFucyB0b3VzIGxlcyBncm91cGVzXG4gICAgICBpZiAoIXRhcmdldEJsb2NrKSB7XG4gICAgICAgIGZvciAoY29uc3QgYiBvZiBjdXJyZW50UGFnZS5ibG9ja3MpIHtcbiAgICAgICAgICBpZiAoYi5jaGlsZHJlbikge1xuICAgICAgICAgICAgY29uc3QgZm91bmQgPSBiLmNoaWxkcmVuLmZpbmQoKGNoaWxkKSA9PiBjaGlsZC5pZCA9PT0gYmxvY2tJZCk7XG4gICAgICAgICAgICBpZiAoZm91bmQpIHtcbiAgICAgICAgICAgICAgdGFyZ2V0QmxvY2sgPSBmb3VuZDtcbiAgICAgICAgICAgICAgcGFyZW50SWQgPSBiLmlkO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gRmFsbGJhY2sgc3VyIGxlIHByZW1pZXIgYmxvY1xuICAgICAgaWYgKCF0YXJnZXRCbG9jaykge1xuICAgICAgICB0YXJnZXRCbG9jayA9IGN1cnJlbnRQYWdlLmJsb2Nrc1swXSB8fCBudWxsO1xuICAgICAgICBwYXJlbnRJZCA9IG51bGw7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGFjdGl2ZUJsb2NrSWQgPSB0YXJnZXRCbG9jaz8uaWQgfHwgbnVsbDtcbiAgICAgIGFjdGl2ZUJsb2NrUGFyZW50SWQgPSBwYXJlbnRJZDtcbiAgICAgIHJlbmRlckJsb2NrTGlzdChjdXJyZW50UGFnZSk7XG4gICAgICByZW5kZXJCbG9ja0RldGFpbHModGFyZ2V0QmxvY2spO1xuICAgICAgYXBwbHlQcmV2aWV3SGlnaGxpZ2h0KGFjdGl2ZUJsb2NrSWQpO1xuICAgIH07XG4gICAgY29uc3QgdXBkYXRlQ3VycmVudFBhZ2VCbG9ja3MgPSAobmV3QmxvY2tzKSA9PiB7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG5leHRQYWdlID0geyAuLi5jdXJyZW50UGFnZSwgYmxvY2tzOiBuZXdCbG9ja3MgfTtcbiAgICAgIHVwZGF0ZUN1cnJlbnRQYWdlU3RhdGUobmV4dFBhZ2UpO1xuICAgIH07XG4gICAgY29uc3QgaXNEZXNrdG9wUmVvcmRlciA9ICgpID0+IHdpbmRvdy5tYXRjaE1lZGlhKCcobWluLXdpZHRoOiAxMDI0cHgpJykubWF0Y2hlcztcbiAgICBmdW5jdGlvbiBtb3ZlQmxvY2tCeU9mZnNldChibG9ja0lkLCBvZmZzZXQpIHtcbiAgICAgIGlmICghY3VycmVudFBhZ2UgfHwgIWJsb2NrSWQgfHwgIW9mZnNldCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBibG9ja3MgPSBbLi4uKGN1cnJlbnRQYWdlLmJsb2NrcyB8fCBbXSldO1xuICAgICAgY29uc3QgaW5kZXggPSBibG9ja3MuZmluZEluZGV4KChibG9jaykgPT4gYmxvY2suaWQgPT09IGJsb2NrSWQpO1xuICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBuZXdJbmRleCA9IGluZGV4ICsgb2Zmc2V0O1xuICAgICAgaWYgKG5ld0luZGV4IDwgMCB8fCBuZXdJbmRleCA+PSBibG9ja3MubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IFttb3ZlZF0gPSBibG9ja3Muc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIGJsb2Nrcy5zcGxpY2UobmV3SW5kZXgsIDAsIG1vdmVkKTtcbiAgICAgIHVwZGF0ZUN1cnJlbnRQYWdlQmxvY2tzKGJsb2Nrcyk7XG4gICAgICBzZXRBY3RpdmVQYWdlKGN1cnJlbnRQYWdlLmlkLCB7IHByZXNlcnZlQmxvY2s6IHRydWUgfSk7XG4gICAgICBzZXRBY3RpdmVCbG9jayhtb3ZlZC5pZCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlb3JkZXJCbG9ja3Moc291cmNlSWQsIHRhcmdldElkKSB7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlIHx8ICFzb3VyY2VJZCB8fCAhdGFyZ2V0SWQgfHwgc291cmNlSWQgPT09IHRhcmdldElkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGJsb2NrcyA9IFsuLi4oY3VycmVudFBhZ2UuYmxvY2tzIHx8IFtdKV07XG4gICAgICBjb25zdCBmcm9tSW5kZXggPSBibG9ja3MuZmluZEluZGV4KChibG9jaykgPT4gYmxvY2suaWQgPT09IHNvdXJjZUlkKTtcbiAgICAgIGNvbnN0IHRvSW5kZXggPSBibG9ja3MuZmluZEluZGV4KChibG9jaykgPT4gYmxvY2suaWQgPT09IHRhcmdldElkKTtcbiAgICAgIGlmIChmcm9tSW5kZXggPCAwIHx8IHRvSW5kZXggPCAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IFttb3ZlZF0gPSBibG9ja3Muc3BsaWNlKGZyb21JbmRleCwgMSk7XG4gICAgICBibG9ja3Muc3BsaWNlKHRvSW5kZXgsIDAsIG1vdmVkKTtcbiAgICAgIHVwZGF0ZUN1cnJlbnRQYWdlQmxvY2tzKGJsb2Nrcyk7XG4gICAgICBzZXRBY3RpdmVQYWdlKGN1cnJlbnRQYWdlLmlkLCB7IHByZXNlcnZlQmxvY2s6IHRydWUgfSk7XG4gICAgICBzZXRBY3RpdmVCbG9jayhtb3ZlZC5pZCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlb3JkZXJCbG9ja3NXaXRoUG9zaXRpb24oc291cmNlSWQsIHRhcmdldElkLCBwb3NpdGlvbikge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSB8fCAhc291cmNlSWQgfHwgIXRhcmdldElkIHx8IHNvdXJjZUlkID09PSB0YXJnZXRJZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBibG9ja3MgPSBbLi4uKGN1cnJlbnRQYWdlLmJsb2NrcyB8fCBbXSldO1xuICAgICAgY29uc3QgZnJvbUluZGV4ID0gYmxvY2tzLmZpbmRJbmRleCgoYmxvY2spID0+IGJsb2NrLmlkID09PSBzb3VyY2VJZCk7XG4gICAgICBsZXQgdG9JbmRleCA9IGJsb2Nrcy5maW5kSW5kZXgoKGJsb2NrKSA9PiBibG9jay5pZCA9PT0gdGFyZ2V0SWQpO1xuICAgICAgaWYgKGZyb21JbmRleCA8IDAgfHwgdG9JbmRleCA8IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgW21vdmVkXSA9IGJsb2Nrcy5zcGxpY2UoZnJvbUluZGV4LCAxKTtcbiAgICAgIC8vIEFqdXN0ZXIgbCdpbmRleCBzaSBuXHUwMEU5Y2Vzc2FpcmUgYXByXHUwMEU4cyBsYSBzdXBwcmVzc2lvblxuICAgICAgaWYgKGZyb21JbmRleCA8IHRvSW5kZXgpIHtcbiAgICAgICAgdG9JbmRleC0tO1xuICAgICAgfVxuICAgICAgLy8gSW5zXHUwMEU5cmVyIGF2YW50IG91IGFwclx1MDBFOHMgbGEgY2libGVcbiAgICAgIGNvbnN0IGluc2VydEluZGV4ID0gcG9zaXRpb24gPT09ICdiZWZvcmUnID8gdG9JbmRleCA6IHRvSW5kZXggKyAxO1xuICAgICAgYmxvY2tzLnNwbGljZShpbnNlcnRJbmRleCwgMCwgbW92ZWQpO1xuICAgICAgdXBkYXRlQ3VycmVudFBhZ2VCbG9ja3MoYmxvY2tzKTtcbiAgICAgIHNldEFjdGl2ZVBhZ2UoY3VycmVudFBhZ2UuaWQsIHsgcHJlc2VydmVCbG9jazogdHJ1ZSB9KTtcbiAgICAgIHNldEFjdGl2ZUJsb2NrKG1vdmVkLmlkKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlRHJhZ2dhYmxlU3RhdGUoKSB7XG4gICAgICBpZiAoIWJsb2NrTGlzdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBkcmFnZ2FibGUgPSBpc0Rlc2t0b3BSZW9yZGVyKCk7XG4gICAgICBibG9ja0xpc3QucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYmxvY2staXRlbV0nKS5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgIGl0ZW0uc2V0QXR0cmlidXRlKCdkcmFnZ2FibGUnLCBkcmFnZ2FibGUgPyAndHJ1ZScgOiAnZmFsc2UnKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjbG9zZUJsb2NrTGlicmFyeSgpIHtcbiAgICAgIGlmICghYmxvY2tMaWJyYXJ5KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGJsb2NrTGlicmFyeS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGJsb2NrTGlicmFyeU9wZW4gPSBmYWxzZTtcbiAgICAgIHBlbmRpbmdHcm91cElkRm9yTmV3QmxvY2sgPSBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBvcGVuQmxvY2tMaWJyYXJ5KCkge1xuICAgICAgaWYgKCFibG9ja0xpYnJhcnkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYmxvY2tMaWJyYXJ5LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgYmxvY2tMaWJyYXJ5T3BlbiA9IHRydWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRvZ2dsZUJsb2NrTGlicmFyeSgpIHtcbiAgICAgIGJsb2NrTGlicmFyeU9wZW4gPyBjbG9zZUJsb2NrTGlicmFyeSgpIDogb3BlbkJsb2NrTGlicmFyeSgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBhZGRCbG9ja0Zyb21MaWJyYXJ5KHR5cGUpIHtcbiAgICAgIGlmICghY3VycmVudFBhZ2UgfHwgIXR5cGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgZGVmaW5pdGlvbiA9IGJsb2NrTGlicmFyeURlZmluaXRpb25zW3R5cGVdO1xuICAgICAgaWYgKCFkZWZpbml0aW9uKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNvdW50ID1cbiAgICAgICAgKGN1cnJlbnRQYWdlLmJsb2NrcyB8fCBbXSkuZmlsdGVyKChibG9jaykgPT4gYmxvY2sudHlwZSA9PT0gZGVmaW5pdGlvbi50eXBlKS5sZW5ndGggKyAxO1xuICAgICAgY29uc3QgbmV3QmxvY2sgPSBjcmVhdGVCbG9jayhcbiAgICAgICAgZ2VuZXJhdGVCbG9ja0lkKGN1cnJlbnRQYWdlLmlkLCB0eXBlKSxcbiAgICAgICAgYCR7ZGVmaW5pdGlvbi5sYWJlbH0gJHtjb3VudH1gLFxuICAgICAgICBkZWZpbml0aW9uLnR5cGUsXG4gICAgICAgIGRlZmluaXRpb24uc3RhdHVzLFxuICAgICAgICBkZWZpbml0aW9uLmRlc2NyaXB0aW9uLFxuICAgICAgICBkZWZpbml0aW9uLnByb3BzLFxuICAgICAgICBkZWZpbml0aW9uLnNldHRpbmdzIHx8IHt9LFxuICAgICAgKTtcbiAgICAgIGlmICgoZGVmaW5pdGlvbi50eXBlIHx8ICcnKS50b0xvd2VyQ2FzZSgpID09PSAnY29sbGVjdGlvbmdyaWQnKSB7XG4gICAgICAgIGNvbnN0IGZpcnN0Q29sbGVjdGlvbklkID0gZGVzaWduQ29sbGVjdGlvbnNbMF0/LmlkIHx8ICcnO1xuICAgICAgICBuZXdCbG9jay5jb2xsZWN0aW9uSWQgPSBmaXJzdENvbGxlY3Rpb25JZDtcbiAgICAgICAgbmV3QmxvY2suc2V0dGluZ3MuY29sbGVjdGlvbklkID0gZmlyc3RDb2xsZWN0aW9uSWQ7XG4gICAgICAgIG5ld0Jsb2NrLnNldHRpbmdzLmxpbWl0ID0gbmV3QmxvY2suc2V0dGluZ3MubGltaXQgfHwgNjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gU2kgb24gYWpvdXRlIFx1MDBFMCB1biBncm91cGVcbiAgICAgIGlmIChwZW5kaW5nR3JvdXBJZEZvck5ld0Jsb2NrKSB7XG4gICAgICAgIGNvbnN0IGdyb3VwQmxvY2sgPSBjdXJyZW50UGFnZS5ibG9ja3MuZmluZCgoYikgPT4gYi5pZCA9PT0gcGVuZGluZ0dyb3VwSWRGb3JOZXdCbG9jayk7XG4gICAgICAgIGlmIChncm91cEJsb2NrKSB7XG4gICAgICAgICAgaWYgKCFncm91cEJsb2NrLmNoaWxkcmVuKSBncm91cEJsb2NrLmNoaWxkcmVuID0gW107XG4gICAgICAgICAgZ3JvdXBCbG9jay5jaGlsZHJlbi5wdXNoKG5ld0Jsb2NrKTtcbiAgICAgICAgICBwZW5kaW5nR3JvdXBJZEZvck5ld0Jsb2NrID0gbnVsbDtcbiAgICAgICAgICByZW5kZXJCbG9ja0xpc3QoY3VycmVudFBhZ2UpO1xuICAgICAgICAgIHNhdmVQYWdlQmxvY2tzKCk7XG4gICAgICAgICAgc2V0QWN0aXZlQmxvY2sobmV3QmxvY2suaWQsIGdyb3VwQmxvY2suaWQpO1xuICAgICAgICAgIGNsb3NlQmxvY2tMaWJyYXJ5KCk7XG4gICAgICAgICAgc2hvd1RvYXN0KCdCbG9jIGFqb3V0XHUwMEU5IGF1IGdyb3VwZScpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBwZW5kaW5nR3JvdXBJZEZvck5ld0Jsb2NrID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgbmV4dEJsb2NrcyA9IFsuLi4oY3VycmVudFBhZ2UuYmxvY2tzIHx8IFtdKSwgbmV3QmxvY2tdO1xuICAgICAgdXBkYXRlQ3VycmVudFBhZ2VCbG9ja3MobmV4dEJsb2Nrcyk7XG4gICAgICBzZXRBY3RpdmVQYWdlKGN1cnJlbnRQYWdlLmlkLCB7IHByZXNlcnZlQmxvY2s6IHRydWUgfSk7XG4gICAgICBzZXRBY3RpdmVCbG9jayhuZXdCbG9jay5pZCk7XG4gICAgICBjbG9zZUJsb2NrTGlicmFyeSgpO1xuICAgICAgc2hvd1RvYXN0KCdCbG9jIGFqb3V0XHUwMEU5Jyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlbGV0ZUJsb2NrQnlJZChibG9ja0lkKSB7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGJsb2NrcyA9IChjdXJyZW50UGFnZS5ibG9ja3MgfHwgW10pLmZpbHRlcigoYmxvY2spID0+IGJsb2NrLmlkICE9PSBibG9ja0lkKTtcbiAgICAgIGNvbnN0IG5leHRBY3RpdmUgPVxuICAgICAgICBibG9ja0lkID09PSBhY3RpdmVCbG9ja0lkID8gYmxvY2tzWzBdPy5pZCB8fCBudWxsIDogYWN0aXZlQmxvY2tJZCB8fCBibG9ja3NbMF0/LmlkIHx8IG51bGw7XG4gICAgICB1cGRhdGVDdXJyZW50UGFnZUJsb2NrcyhibG9ja3MpO1xuICAgICAgYWN0aXZlQmxvY2tJZCA9IG5leHRBY3RpdmU7XG4gICAgICBzZXRBY3RpdmVQYWdlKGN1cnJlbnRQYWdlLmlkLCB7IHByZXNlcnZlQmxvY2s6IHRydWUgfSk7XG4gICAgICBpZiAoYWN0aXZlQmxvY2tJZCkge1xuICAgICAgICBzZXRBY3RpdmVCbG9jayhhY3RpdmVCbG9ja0lkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlbmRlckJsb2NrRGV0YWlscyhudWxsKTtcbiAgICAgICAgYXBwbHlQcmV2aWV3SGlnaGxpZ2h0KG51bGwpO1xuICAgICAgfVxuICAgICAgc2hvd1RvYXN0KCdCbG9jIHN1cHByaW1cdTAwRTknKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2xvc2VCbG9ja0RlbGV0ZU1vZGFsKCkge1xuICAgICAgaWYgKCFibG9ja0RlbGV0ZU1vZGFsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGJsb2NrRGVsZXRlTW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBibG9ja0RlbGV0ZU1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2ZsZXgnKTtcbiAgICAgIHBlbmRpbmdEZWxldGVCbG9ja0lkID0gbnVsbDtcbiAgICAgIGRlYWN0aXZhdGVNb2RhbChibG9ja0RlbGV0ZU1vZGFsKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gb3BlbkJsb2NrRGVsZXRlTW9kYWwoYmxvY2tJZCkge1xuICAgICAgaWYgKCFibG9ja0RlbGV0ZU1vZGFsKSB7XG4gICAgICAgIGRlbGV0ZUJsb2NrQnlJZChibG9ja0lkKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcGVuZGluZ0RlbGV0ZUJsb2NrSWQgPSBibG9ja0lkO1xuICAgICAgYmxvY2tEZWxldGVNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGJsb2NrRGVsZXRlTW9kYWwuY2xhc3NMaXN0LmFkZCgnZmxleCcpO1xuICAgICAgYWN0aXZhdGVNb2RhbChibG9ja0RlbGV0ZU1vZGFsLCBjbG9zZUJsb2NrRGVsZXRlTW9kYWwpO1xuICAgIH1cbiAgICBjb25zdCB1cGRhdGVDdXJyZW50UGFnZVN0YXRlID0gKG5leHRQYWdlKSA9PiB7XG4gICAgICBpZiAoIW5leHRQYWdlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBub3JtYWxpemVQYWdlRGF0YShuZXh0UGFnZSk7XG4gICAgICBwYWdlcyA9IHBhZ2VzLm1hcCgocGFnZSkgPT4gKHBhZ2UuaWQgPT09IG5vcm1hbGl6ZWQuaWQgPyBub3JtYWxpemVkIDogcGFnZSkpO1xuICAgICAgY3VycmVudFBhZ2UgPSBub3JtYWxpemVkO1xuICAgICAgc2F2ZVBhZ2VUb1NlcnZlcihub3JtYWxpemVkKTtcbiAgICB9O1xuICAgIGNvbnN0IHNldEFjdGl2ZVBhZ2UgPSAocGFnZUlkLCBvcHRpb25zID0ge30pID0+IHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IHBhZ2VzLmZpbmQoKHBhZ2UpID0+IHBhZ2UuaWQgPT09IHBhZ2VJZCkgfHwgcGFnZXNbMF0gfHwgbnVsbDtcbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWRUYXJnZXQgPSB0YXJnZXQgPyBub3JtYWxpemVQYWdlRGF0YSh0YXJnZXQpIDogbnVsbDtcbiAgICAgIGN1cnJlbnRQYWdlID0gbm9ybWFsaXplZFRhcmdldDtcbiAgICAgIGFjdGl2ZVBhZ2VJZCA9IHRhcmdldD8uaWQgfHwgbnVsbDtcbiAgICAgIGlmICghb3B0aW9ucy5wcmVzZXJ2ZUJsb2NrIHx8ICFjdXJyZW50UGFnZSB8fCAhcGFnZUhhc0Jsb2NrSWQoY3VycmVudFBhZ2UsIGFjdGl2ZUJsb2NrSWQpKSB7XG4gICAgICAgIGFjdGl2ZUJsb2NrSWQgPSBjdXJyZW50UGFnZT8uYmxvY2tzPy5bMF0/LmlkIHx8IG51bGw7XG4gICAgICAgIGFjdGl2ZUJsb2NrUGFyZW50SWQgPSBudWxsO1xuICAgICAgfVxuICAgICAgaWYgKGFjdGl2ZVBhZ2VJZCkge1xuICAgICAgICBwZXJzaXN0QWN0aXZlUGFnZShhY3RpdmVQYWdlSWQpO1xuICAgICAgfVxuICAgICAgcmVuZGVyUGFnZUxpc3RzKHBhZ2VzLCBhY3RpdmVQYWdlSWQpO1xuICAgICAgc2V0QWN0aXZlTGFiZWxzKGN1cnJlbnRQYWdlKTtcbiAgICAgIHN5bmNQYWdlQWNjZXNzaWJpbGl0eUZpZWxkcygpO1xuICAgICAgcmVuZGVyUHJldmlld01ldGEoY3VycmVudFBhZ2UpO1xuICAgICAgcmVmcmVzaFByZXZpZXcoY3VycmVudFBhZ2UpO1xuICAgICAgcmVuZGVyQmxvY2tMaXN0KGN1cnJlbnRQYWdlKTtcbiAgICAgIHJlbmRlckJsb2NrRGV0YWlscyhnZXRBY3RpdmVCbG9jaygpKTtcbiAgICAgIGFwcGx5UHJldmlld0hpZ2hsaWdodChhY3RpdmVCbG9ja0lkKTtcbiAgICAgIHVwZGF0ZURyYWdnYWJsZVN0YXRlKCk7XG4gICAgICBpZiAoYmxvY2tMaWJyYXJ5T3Blbikge1xuICAgICAgICBjbG9zZUJsb2NrTGlicmFyeSgpO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgaXNEZXNrdG9wRHJhd2VyID0gKCkgPT4gd2luZG93Lm1hdGNoTWVkaWEoJyhtaW4td2lkdGg6IDEwMjRweCknKS5tYXRjaGVzO1xuICAgIGNvbnN0IHN5bmNEcmF3ZXJTdGF0ZSA9ICgpID0+IHtcbiAgICAgIGlmICghZHJhd2VyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChpc0Rlc2t0b3BEcmF3ZXIoKSkge1xuICAgICAgICBkcmF3ZXIuY2xhc3NMaXN0LmFkZCgnaXMtb3BlbicpO1xuICAgICAgICBkcmF3ZXJCYWNrZHJvcD8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnb3ZlcmZsb3ctaGlkZGVuJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkcmF3ZXIuY2xhc3NMaXN0LnJlbW92ZSgnaXMtb3BlbicpO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3Qgb3BlbkRyYXdlciA9ICgpID0+IHtcbiAgICAgIGlmICghZHJhd2VyIHx8IGlzRGVza3RvcERyYXdlcigpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGRyYXdlci5jbGFzc0xpc3QuYWRkKCdpcy1vcGVuJyk7XG4gICAgICBkcmF3ZXJCYWNrZHJvcD8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ292ZXJmbG93LWhpZGRlbicpO1xuICAgIH07XG4gICAgY29uc3QgY2xvc2VEcmF3ZXIgPSAoKSA9PiB7XG4gICAgICBpZiAoIWRyYXdlcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBkcmF3ZXIuY2xhc3NMaXN0LnJlbW92ZSgnaXMtb3BlbicpO1xuICAgICAgZHJhd2VyQmFja2Ryb3A/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICB9O1xuICAgIGNvbnN0IG9wZW5BZGRQYWdlRm9ybSA9ICgpID0+IHtcbiAgICAgIGlmICghYWRkUGFnZUZvcm0gfHwgIWFkZFBhZ2VUb2dnbGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYWRkUGFnZUZvcm0uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBhZGRQYWdlVG9nZ2xlLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgYWRkUGFnZUVycm9yICYmIChhZGRQYWdlRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgICBwYWdlU2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gICAgICBpZiAoYWRkUGFnZU5hbWUpIHtcbiAgICAgICAgYWRkUGFnZU5hbWUudmFsdWUgPSAnJztcbiAgICAgICAgYWRkUGFnZU5hbWUuZm9jdXMoKTtcbiAgICAgIH1cbiAgICAgIGlmIChhZGRQYWdlVGl0bGUpIHtcbiAgICAgICAgYWRkUGFnZVRpdGxlLnZhbHVlID0gJyc7XG4gICAgICB9XG4gICAgICBpZiAoYWRkUGFnZVNsdWcpIHtcbiAgICAgICAgYWRkUGFnZVNsdWcudmFsdWUgPSAnJztcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGNsb3NlQWRkUGFnZUZvcm0gPSAoKSA9PiB7XG4gICAgICBpZiAoIWFkZFBhZ2VGb3JtIHx8ICFhZGRQYWdlVG9nZ2xlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGFkZFBhZ2VGb3JtLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgYWRkUGFnZVRvZ2dsZS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGFkZFBhZ2VFcnJvciAmJiAoYWRkUGFnZUVycm9yLnRleHRDb250ZW50ID0gJycpO1xuICAgICAgcGFnZVNsdWdNYW51YWxseUVkaXRlZCA9IGZhbHNlO1xuICAgICAgYWRkUGFnZUZvcm0ucmVzZXQoKTtcbiAgICB9O1xuICAgIGNvbnN0IHN5bmNTbHVnRnJvbU5hbWUgPSAoKSA9PiB7XG4gICAgICBpZiAoIWFkZFBhZ2VOYW1lIHx8ICFhZGRQYWdlU2x1Zykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAocGFnZVNsdWdNYW51YWxseUVkaXRlZCAmJiBhZGRQYWdlU2x1Zy52YWx1ZS50cmltKCkubGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhZGRQYWdlU2x1Zy52YWx1ZSA9IG5vcm1hbGl6ZVBhZ2VTbHVnKGFkZFBhZ2VOYW1lLnZhbHVlKTtcbiAgICB9O1xuXG4gICAgbGV0IHBhZ2VzID0gW107XG4gICAgbGV0IGFjdGl2ZVBhZ2VJZCA9IG51bGw7XG4gICAgbGV0IHBhZ2VTbHVnTWFudWFsbHlFZGl0ZWQgPSBmYWxzZTtcbiAgICBsZXQgY3VycmVudFBhZ2UgPSBudWxsO1xuICAgIGxldCBhY3RpdmVCbG9ja0lkID0gbnVsbDtcbiAgICBsZXQgYmxvY2tMaWJyYXJ5T3BlbiA9IGZhbHNlO1xuICAgIGxldCBwZW5kaW5nRGVsZXRlQmxvY2tJZCA9IG51bGw7XG4gICAgbGV0IGxhdGVzdFByZXZpZXdIdG1sID0gJyc7XG4gICAgbGV0IHByZXZpZXdSZWFkeSA9IGZhbHNlO1xuICAgIGxldCBwcmV2aWV3UmVxdWVzdENvbnRyb2xsZXIgPSBudWxsO1xuICAgIGxldCBkZXNpZ25Db2xsZWN0aW9ucyA9IFtdO1xuICAgIGNvbnN0IGRlc2lnbkNvbGxlY3Rpb25JdGVtc0NhY2hlID0gbmV3IE1hcCgpO1xuXG4gICAgY29uc3Qgbm9ybWFsaXplQmxvY2tEYXRhID0gKGJsb2NrKSA9PiB7XG4gICAgICBjb25zdCBub3JtYWxpemVkID0ge1xuICAgICAgICAuLi5ibG9jayxcbiAgICAgICAgcHJvcHM6IEFycmF5LmlzQXJyYXkoYmxvY2sucHJvcHMpID8gYmxvY2sucHJvcHMgOiBbXSxcbiAgICAgICAgc2V0dGluZ3M6IHsgLi4uKGJsb2NrLnNldHRpbmdzIHx8IHt9KSB9LFxuICAgICAgfTtcbiAgICAgIGNvbnN0IHR5cGUgPSAobm9ybWFsaXplZC50eXBlIHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgaWYgKHR5cGUgPT09ICdjb2xsZWN0aW9uZ3JpZCcpIHtcbiAgICAgICAgbm9ybWFsaXplZC5jb2xsZWN0aW9uSWQgPVxuICAgICAgICAgIG5vcm1hbGl6ZWQuY29sbGVjdGlvbklkIHx8IG5vcm1hbGl6ZWQuc2V0dGluZ3MuY29sbGVjdGlvbklkIHx8ICcnO1xuICAgICAgICBub3JtYWxpemVkLnNldHRpbmdzLmNvbGxlY3Rpb25JZCA9IG5vcm1hbGl6ZWQuY29sbGVjdGlvbklkO1xuICAgICAgICBub3JtYWxpemVkLnNldHRpbmdzLmxpbWl0ID0gbm9ybWFsaXplZC5zZXR0aW5ncy5saW1pdCB8fCA2O1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5vcm1hbGl6ZWQ7XG4gICAgfTtcblxuICAgIGNvbnN0IG5vcm1hbGl6ZVBhZ2VEYXRhID0gKHBhZ2UpID0+ICh7XG4gICAgICAuLi5wYWdlLFxuICAgICAgcGFyZW50SWQ6XG4gICAgICAgIHR5cGVvZiBwYWdlLnBhcmVudElkID09PSAnc3RyaW5nJyAmJiBwYWdlLnBhcmVudElkLnRyaW0oKSA/IHBhZ2UucGFyZW50SWQudHJpbSgpIDogbnVsbCxcbiAgICAgIGJsb2NrczogKHBhZ2UuYmxvY2tzIHx8IFtdKS5tYXAoKGJsb2NrKSA9PiBub3JtYWxpemVCbG9ja0RhdGEoYmxvY2spKSxcbiAgICAgIHNlbzoge1xuICAgICAgICB0aXRsZTogKHBhZ2Uuc2VvPy50aXRsZSB8fCAnJykudHJpbSgpLFxuICAgICAgICBkZXNjcmlwdGlvbjogKHBhZ2Uuc2VvPy5kZXNjcmlwdGlvbiB8fCAnJykudHJpbSgpLFxuICAgICAgICBpbmRleGVkOlxuICAgICAgICAgIHR5cGVvZiBwYWdlLnNlbz8uaW5kZXhlZCA9PT0gJ2Jvb2xlYW4nID8gcGFnZS5zZW8uaW5kZXhlZCA6IG51bGwsXG4gICAgICB9LFxuICAgICAgYWNjZXNzaWJpbGl0eToge1xuICAgICAgICBzaG93SW5NYWluTmF2OiBwYWdlLmFjY2Vzc2liaWxpdHk/LnNob3dJbk1haW5OYXYgIT09IGZhbHNlLFxuICAgICAgICBtYWluTGFiZWw6IChwYWdlLmFjY2Vzc2liaWxpdHk/Lm1haW5MYWJlbCB8fCAnJykudHJpbSgpLFxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIGNvbnN0IGxvYWREZXNpZ25Db2xsZWN0aW9ucyA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvbnNBcGlCYXNlKSB7XG4gICAgICAgIGRlc2lnbkNvbGxlY3Rpb25zID0gW107XG4gICAgICAgIHVwZGF0ZUNvbGxlY3Rpb25TZWxlY3RPcHRpb25zKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goY29sbGVjdGlvbnNBcGlCYXNlLCB7XG4gICAgICAgICAgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxlcyBjb2xsZWN0aW9ucy4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+IFtdKTtcbiAgICAgICAgZGVzaWduQ29sbGVjdGlvbnMgPSBBcnJheS5pc0FycmF5KHBheWxvYWQpID8gcGF5bG9hZCA6IFtdO1xuICAgICAgICBjb25zdCBjdXJyZW50VmFsdWUgPSBjb2xsZWN0aW9uU2VsZWN0Py52YWx1ZSB8fCAnJztcbiAgICAgICAgdXBkYXRlQ29sbGVjdGlvblNlbGVjdE9wdGlvbnMoY3VycmVudFZhbHVlKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZGVzaWduXSBjb2xsZWN0aW9ucyBsb2FkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KCdDb2xsZWN0aW9ucyBpbmRpc3BvbmlibGVzLicpO1xuICAgICAgICBkZXNpZ25Db2xsZWN0aW9ucyA9IFtdO1xuICAgICAgICB1cGRhdGVDb2xsZWN0aW9uU2VsZWN0T3B0aW9ucygpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBzeW5jQ29sbGVjdGlvblNlbGVjdGlvbkluZm8gPSAoY29sbGVjdGlvbklkKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25TZWxlY3Rpb25JbmZvKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghY29sbGVjdGlvbklkKSB7XG4gICAgICAgIGNvbGxlY3Rpb25TZWxlY3Rpb25JbmZvLnRleHRDb250ZW50ID0gZGVzaWduQ29sbGVjdGlvbnMubGVuZ3RoXG4gICAgICAgICAgPyAnU1x1MDBFOWxlY3Rpb25uZXogdW5lIGNvbGxlY3Rpb24gcG91ciBhZmZpY2hlciBzZXMgaW5mb3JtYXRpb25zLidcbiAgICAgICAgICA6ICdBdWN1bmUgY29sbGVjdGlvbiBkaXNwb25pYmxlLiBBam91dGV6LWVuIGRlcHVpcyBsXHUyMDE5b25nbGV0IENvbnRlbnVzLic7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGVudHJ5ID0gZGVzaWduQ29sbGVjdGlvbnMuZmluZCgoY29sbGVjdGlvbikgPT4gY29sbGVjdGlvbi5pZCA9PT0gY29sbGVjdGlvbklkKTtcbiAgICAgIGlmICghZW50cnkpIHtcbiAgICAgICAgY29sbGVjdGlvblNlbGVjdGlvbkluZm8udGV4dENvbnRlbnQgPSBgQ29sbGVjdGlvbiAke2NvbGxlY3Rpb25JZH1gO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBkZXRhaWxzID0gW107XG4gICAgICBpZiAoZW50cnkuZGVzY3JpcHRpb24pIHtcbiAgICAgICAgZGV0YWlscy5wdXNoKGVudHJ5LmRlc2NyaXB0aW9uKTtcbiAgICAgIH1cbiAgICAgIGlmIChlbnRyeS50eXBlKSB7XG4gICAgICAgIGRldGFpbHMucHVzaChgVHlwZVx1MDBBMDogJHtlbnRyeS50eXBlfWApO1xuICAgICAgfVxuICAgICAgY29sbGVjdGlvblNlbGVjdGlvbkluZm8udGV4dENvbnRlbnQgPVxuICAgICAgICBkZXRhaWxzLmpvaW4oJyBcdTAwQjcgJykgfHwgYENvbGxlY3Rpb24gJHtlbnRyeS5uYW1lIHx8IGVudHJ5LmlkfWA7XG4gICAgfTtcblxuICAgIGNvbnN0IGZldGNoQ29sbGVjdGlvbkl0ZW1zRm9yRGVzaWduID0gYXN5bmMgKGNvbGxlY3Rpb25JZCkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uc0FwaUJhc2UgfHwgIWNvbGxlY3Rpb25JZCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBjb25zdCBjYWNoZUtleSA9IFN0cmluZyhjb2xsZWN0aW9uSWQpO1xuICAgICAgaWYgKGRlc2lnbkNvbGxlY3Rpb25JdGVtc0NhY2hlLmhhcyhjYWNoZUtleSkpIHtcbiAgICAgICAgcmV0dXJuIGRlc2lnbkNvbGxlY3Rpb25JdGVtc0NhY2hlLmdldChjYWNoZUtleSkgfHwgW107XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgICAgIGAke2NvbGxlY3Rpb25zQXBpQmFzZX0vJHtlbmNvZGVVUklDb21wb25lbnQoY2FjaGVLZXkpfS9pdGVtc2AsXG4gICAgICAgICAgeyBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSxcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxlcyBpdGVtcy4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICBjb25zdCBpdGVtcyA9IEFycmF5LmlzQXJyYXkocGF5bG9hZD8uaXRlbXMpID8gcGF5bG9hZC5pdGVtcyA6IFtdO1xuICAgICAgICBkZXNpZ25Db2xsZWN0aW9uSXRlbXNDYWNoZS5zZXQoY2FjaGVLZXksIGl0ZW1zKTtcbiAgICAgICAgcmV0dXJuIGl0ZW1zO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignW2Rlc2lnbl0gY29sbGVjdGlvbiBpdGVtcyBsb2FkIGZhaWxlZCcsIGVycj8ubWVzc2FnZSB8fCBlcnIpO1xuICAgICAgICBkZXNpZ25Db2xsZWN0aW9uSXRlbXNDYWNoZS5zZXQoY2FjaGVLZXksIFtdKTtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBnZXRBY3RpdmVDb2xsZWN0aW9uR3JpZEJsb2NrID0gKCkgPT4ge1xuICAgICAgY29uc3QgYmxvY2sgPSBnZXRBY3RpdmVCbG9jaygpO1xuICAgICAgaWYgKCFibG9jaykge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHR5cGVLZXkgPSBub3JtYWxpemVUeXBlKGJsb2NrLnR5cGUpO1xuICAgICAgY29uc3QgYWxpYXMgPSBibG9ja1R5cGVBbGlhc2VzW3R5cGVLZXldIHx8IHR5cGVLZXk7XG4gICAgICBpZiAoYWxpYXMgIT09ICdjb2xsZWN0aW9uZ3JpZCcpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmxvY2s7XG4gICAgfTtcblxuICAgIGNvbnN0IGNsZWFyQ29sbGVjdGlvbkNhcmRFZGl0b3IgPSAobWVzc2FnZSA9ICdTXHUwMEU5bGVjdGlvbm5leiB1bmUgY29sbGVjdGlvbicpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvbkNhcmRJdGVtU2VsZWN0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbGxlY3Rpb25DYXJkSXRlbVNlbGVjdC5pbm5lckhUTUwgPSAnJztcbiAgICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgb3B0aW9uLnZhbHVlID0gJyc7XG4gICAgICBvcHRpb24udGV4dENvbnRlbnQgPSBtZXNzYWdlO1xuICAgICAgY29sbGVjdGlvbkNhcmRJdGVtU2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbik7XG4gICAgICBjb2xsZWN0aW9uQ2FyZEl0ZW1TZWxlY3QudmFsdWUgPSAnJztcbiAgICAgIE9iamVjdC52YWx1ZXMoY29sbGVjdGlvbkNhcmRPdmVycmlkZUZpZWxkcykuZm9yRWFjaCgoZmllbGQpID0+IHtcbiAgICAgICAgaWYgKCFmaWVsZCkgcmV0dXJuO1xuICAgICAgICBpZiAoZmllbGQudHlwZSA9PT0gJ2NoZWNrYm94Jykge1xuICAgICAgICAgIGZpZWxkLmNoZWNrZWQgPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmaWVsZC52YWx1ZSA9ICcnO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgZ2V0U2VsZWN0ZWRDb2xsZWN0aW9uQ2FyZEl0ZW1JZCA9ICgpID0+XG4gICAgICAoY29sbGVjdGlvbkNhcmRJdGVtU2VsZWN0Py52YWx1ZSB8fCAnJykudHJpbSgpO1xuXG4gICAgY29uc3QgZ2V0Q29sbGVjdGlvbkdyaWRJdGVtT3ZlcnJpZGVzID0gKGJsb2NrKSA9PiB7XG4gICAgICBjb25zdCByYXcgPSBibG9jaz8uc2V0dGluZ3M/Lml0ZW1PdmVycmlkZXM7XG4gICAgICBpZiAoIXJhdyB8fCB0eXBlb2YgcmF3ICE9PSAnb2JqZWN0JyB8fCBBcnJheS5pc0FycmF5KHJhdykpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJhdztcbiAgICB9O1xuXG4gICAgY29uc3QgcG9wdWxhdGVDb2xsZWN0aW9uQ2FyZE92ZXJyaWRlRmllbGRzID0gKGJsb2NrLCBpdGVtSWQpID0+IHtcbiAgICAgIGlmICghYmxvY2sgfHwgIWl0ZW1JZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBvdmVycmlkZXMgPSBnZXRDb2xsZWN0aW9uR3JpZEl0ZW1PdmVycmlkZXMoYmxvY2spO1xuICAgICAgY29uc3QgZW50cnkgPSBvdmVycmlkZXNbaXRlbUlkXSAmJiB0eXBlb2Ygb3ZlcnJpZGVzW2l0ZW1JZF0gPT09ICdvYmplY3QnID8gb3ZlcnJpZGVzW2l0ZW1JZF0gOiB7fTtcbiAgICAgIGNvbnN0IGdldFZhbHVlID0gKGtleSkgPT4gKGVudHJ5Py5ba2V5XSA/PyAnJyk7XG4gICAgICBpZiAoY29sbGVjdGlvbkNhcmRPdmVycmlkZUZpZWxkcy5jdGFTdHlsZSkge1xuICAgICAgICBjb2xsZWN0aW9uQ2FyZE92ZXJyaWRlRmllbGRzLmN0YVN0eWxlLnZhbHVlID0gZ2V0VmFsdWUoJ2N0YVN0eWxlJyk7XG4gICAgICB9XG4gICAgICBpZiAoY29sbGVjdGlvbkNhcmRPdmVycmlkZUZpZWxkcy5jdGFUZXh0Q29sb3IpIHtcbiAgICAgICAgY29sbGVjdGlvbkNhcmRPdmVycmlkZUZpZWxkcy5jdGFUZXh0Q29sb3IudmFsdWUgPSBnZXRWYWx1ZSgnY3RhVGV4dENvbG9yJyk7XG4gICAgICB9XG4gICAgICBpZiAoY29sbGVjdGlvbkNhcmRPdmVycmlkZUZpZWxkcy5iZykge1xuICAgICAgICBjb2xsZWN0aW9uQ2FyZE92ZXJyaWRlRmllbGRzLmJnLnZhbHVlID0gZ2V0VmFsdWUoJ2JnJyk7XG4gICAgICB9XG4gICAgICBpZiAoY29sbGVjdGlvbkNhcmRPdmVycmlkZUZpZWxkcy5ib3JkZXJSYWRpdXMpIHtcbiAgICAgICAgY29sbGVjdGlvbkNhcmRPdmVycmlkZUZpZWxkcy5ib3JkZXJSYWRpdXMudmFsdWUgPSBnZXRWYWx1ZSgnYm9yZGVyUmFkaXVzJyk7XG4gICAgICB9XG4gICAgICBpZiAoY29sbGVjdGlvbkNhcmRPdmVycmlkZUZpZWxkcy5zaGFkb3cpIHtcbiAgICAgICAgY29sbGVjdGlvbkNhcmRPdmVycmlkZUZpZWxkcy5zaGFkb3cudmFsdWUgPSBnZXRWYWx1ZSgnc2hhZG93Jyk7XG4gICAgICB9XG4gICAgICBpZiAoY29sbGVjdGlvbkNhcmRPdmVycmlkZUZpZWxkcy5ib3JkZXIpIHtcbiAgICAgICAgY29sbGVjdGlvbkNhcmRPdmVycmlkZUZpZWxkcy5ib3JkZXIudmFsdWUgPSBnZXRWYWx1ZSgnYm9yZGVyJyk7XG4gICAgICB9XG4gICAgICBpZiAoY29sbGVjdGlvbkNhcmRPdmVycmlkZUZpZWxkcy5hbmltYXRpb24pIHtcbiAgICAgICAgY29sbGVjdGlvbkNhcmRPdmVycmlkZUZpZWxkcy5hbmltYXRpb24udmFsdWUgPSBnZXRWYWx1ZSgnYW5pbWF0aW9uJyk7XG4gICAgICB9XG4gICAgICBpZiAoY29sbGVjdGlvbkNhcmRPdmVycmlkZUZpZWxkcy5hbmltYXRpb25EZWxheSkge1xuICAgICAgICBjb2xsZWN0aW9uQ2FyZE92ZXJyaWRlRmllbGRzLmFuaW1hdGlvbkRlbGF5LnZhbHVlID1cbiAgICAgICAgICBlbnRyeT8uYW5pbWF0aW9uRGVsYXkgPz8gJyc7XG4gICAgICB9XG4gICAgICBpZiAoY29sbGVjdGlvbkNhcmRPdmVycmlkZUZpZWxkcy5hbmltYXRpb25EdXJhdGlvbikge1xuICAgICAgICBjb2xsZWN0aW9uQ2FyZE92ZXJyaWRlRmllbGRzLmFuaW1hdGlvbkR1cmF0aW9uLnZhbHVlID1cbiAgICAgICAgICBlbnRyeT8uYW5pbWF0aW9uRHVyYXRpb24gPz8gJyc7XG4gICAgICB9XG4gICAgICBibG9ja0Zvcm0/LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWNvbG9yLXNlbGVjdF0nKS5mb3JFYWNoKHVwZGF0ZUNvbG9yU2VsZWN0UHJldmlldyk7XG4gICAgfTtcblxuICAgIGNvbnN0IGJ1aWxkQ29sbGVjdGlvbkNhcmRPdmVycmlkZVBhdGNoID0gKCkgPT4ge1xuICAgICAgY29uc3QgaXRlbUlkID0gZ2V0U2VsZWN0ZWRDb2xsZWN0aW9uQ2FyZEl0ZW1JZCgpO1xuICAgICAgaWYgKCFpdGVtSWQpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICBjb25zdCBwYXRjaCA9IHtcbiAgICAgICAgY3RhU3R5bGU6IChjb2xsZWN0aW9uQ2FyZE92ZXJyaWRlRmllbGRzLmN0YVN0eWxlPy52YWx1ZSB8fCAnJykudHJpbSgpLFxuICAgICAgICBjdGFUZXh0Q29sb3I6IChjb2xsZWN0aW9uQ2FyZE92ZXJyaWRlRmllbGRzLmN0YVRleHRDb2xvcj8udmFsdWUgfHwgJycpLnRyaW0oKSxcbiAgICAgICAgYmc6IChjb2xsZWN0aW9uQ2FyZE92ZXJyaWRlRmllbGRzLmJnPy52YWx1ZSB8fCAnJykudHJpbSgpLFxuICAgICAgICBib3JkZXJSYWRpdXM6IChjb2xsZWN0aW9uQ2FyZE92ZXJyaWRlRmllbGRzLmJvcmRlclJhZGl1cz8udmFsdWUgfHwgJycpLnRyaW0oKSxcbiAgICAgICAgc2hhZG93OiAoY29sbGVjdGlvbkNhcmRPdmVycmlkZUZpZWxkcy5zaGFkb3c/LnZhbHVlIHx8ICcnKS50cmltKCksXG4gICAgICAgIGJvcmRlcjogKGNvbGxlY3Rpb25DYXJkT3ZlcnJpZGVGaWVsZHMuYm9yZGVyPy52YWx1ZSB8fCAnJykudHJpbSgpLFxuICAgICAgICBhbmltYXRpb246IChjb2xsZWN0aW9uQ2FyZE92ZXJyaWRlRmllbGRzLmFuaW1hdGlvbj8udmFsdWUgfHwgJycpLnRyaW0oKSxcbiAgICAgICAgYW5pbWF0aW9uRGVsYXk6IE51bWJlcihjb2xsZWN0aW9uQ2FyZE92ZXJyaWRlRmllbGRzLmFuaW1hdGlvbkRlbGF5Py52YWx1ZSB8fCAnJyksXG4gICAgICAgIGFuaW1hdGlvbkR1cmF0aW9uOiBOdW1iZXIoY29sbGVjdGlvbkNhcmRPdmVycmlkZUZpZWxkcy5hbmltYXRpb25EdXJhdGlvbj8udmFsdWUgfHwgJycpLFxuICAgICAgfTtcbiAgICAgIGlmICghTnVtYmVyLmlzRmluaXRlKHBhdGNoLmFuaW1hdGlvbkRlbGF5KSkge1xuICAgICAgICBkZWxldGUgcGF0Y2guYW5pbWF0aW9uRGVsYXk7XG4gICAgICB9XG4gICAgICBpZiAoIU51bWJlci5pc0Zpbml0ZShwYXRjaC5hbmltYXRpb25EdXJhdGlvbikpIHtcbiAgICAgICAgZGVsZXRlIHBhdGNoLmFuaW1hdGlvbkR1cmF0aW9uO1xuICAgICAgfVxuICAgICAgT2JqZWN0LmtleXMocGF0Y2gpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICBpZiAocGF0Y2hba2V5XSA9PT0gJycpIHtcbiAgICAgICAgICBkZWxldGUgcGF0Y2hba2V5XTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4geyBpdGVtSWQsIHBhdGNoIH07XG4gICAgfTtcblxuICAgIGNvbnN0IHNhdmVDb2xsZWN0aW9uQ2FyZE92ZXJyaWRlcyA9IGFzeW5jICh7IHJlc2V0ID0gZmFsc2UgfSA9IHt9KSA9PiB7XG4gICAgICBjb25zdCBibG9jayA9IGdldEFjdGl2ZUNvbGxlY3Rpb25HcmlkQmxvY2soKTtcbiAgICAgIGlmICghY3VycmVudFBhZ2UgfHwgIWJsb2NrKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGl0ZW1JZCA9IGdldFNlbGVjdGVkQ29sbGVjdGlvbkNhcmRJdGVtSWQoKTtcbiAgICAgIGlmICghaXRlbUlkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHVwZGF0ZSA9IChlbnRyeSkgPT4ge1xuICAgICAgICBjb25zdCBuZXh0U2V0dGluZ3MgPSB7IC4uLihlbnRyeS5zZXR0aW5ncyB8fCB7fSkgfTtcbiAgICAgICAgY29uc3Qgb3ZlcnJpZGVzID0geyAuLi5nZXRDb2xsZWN0aW9uR3JpZEl0ZW1PdmVycmlkZXMoeyBzZXR0aW5nczogbmV4dFNldHRpbmdzIH0pIH07XG4gICAgICAgIGlmIChyZXNldCkge1xuICAgICAgICAgIGRlbGV0ZSBvdmVycmlkZXNbaXRlbUlkXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBidWlsdCA9IGJ1aWxkQ29sbGVjdGlvbkNhcmRPdmVycmlkZVBhdGNoKCk7XG4gICAgICAgICAgaWYgKCFidWlsdCkge1xuICAgICAgICAgICAgcmV0dXJuIGVudHJ5O1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBuZXh0UGF0Y2ggPSBidWlsdC5wYXRjaCB8fCB7fTtcbiAgICAgICAgICBpZiAoIU9iamVjdC5rZXlzKG5leHRQYXRjaCkubGVuZ3RoKSB7XG4gICAgICAgICAgICBkZWxldGUgb3ZlcnJpZGVzW2l0ZW1JZF07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG92ZXJyaWRlc1tpdGVtSWRdID0geyAuLi4ob3ZlcnJpZGVzW2l0ZW1JZF0gfHwge30pLCAuLi5uZXh0UGF0Y2ggfTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbmV4dFNldHRpbmdzLml0ZW1PdmVycmlkZXMgPSBvdmVycmlkZXM7XG4gICAgICAgIHJldHVybiB7IC4uLmVudHJ5LCBzZXR0aW5nczogbmV4dFNldHRpbmdzIH07XG4gICAgICB9O1xuXG4gICAgICBjb25zdCB7IGJsb2NrczogdXBkYXRlZEJsb2NrcywgZGlkVXBkYXRlIH0gPSB1cGRhdGVCbG9ja3NEZWVwKFxuICAgICAgICBjdXJyZW50UGFnZS5ibG9ja3MgfHwgW10sXG4gICAgICAgIGJsb2NrLmlkLFxuICAgICAgICB1cGRhdGUsXG4gICAgICAgIGFjdGl2ZUJsb2NrUGFyZW50SWQsXG4gICAgICApO1xuICAgICAgaWYgKCFkaWRVcGRhdGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgbmV4dFBhZ2UgPSB7IC4uLmN1cnJlbnRQYWdlLCBibG9ja3M6IHVwZGF0ZWRCbG9ja3MgfTtcbiAgICAgIGN1cnJlbnRQYWdlID0gbmV4dFBhZ2U7XG4gICAgICB1cGRhdGVQcmV2aWV3U3RhdHVzKCdNb2RpZmljYXRpb25cdTIwMjYnKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHNhdmVkID0gYXdhaXQgc2F2ZVBhZ2VUb1NlcnZlcihuZXh0UGFnZSk7XG4gICAgICAgIGlmIChzYXZlZD8uaWQpIHtcbiAgICAgICAgICBjb25zdCBub3JtYWxpemVkID0gbm9ybWFsaXplUGFnZURhdGEoc2F2ZWQpO1xuICAgICAgICAgIGN1cnJlbnRQYWdlID0gbm9ybWFsaXplZDtcbiAgICAgICAgICBwYWdlcyA9IHBhZ2VzLm1hcCgocCkgPT4gKHAuaWQgPT09IG5vcm1hbGl6ZWQuaWQgPyBub3JtYWxpemVkIDogcCkpO1xuICAgICAgICB9XG4gICAgICAgIHVwZGF0ZVByZXZpZXdTdGF0dXMoJ1NhdXZlZ2FyZFx1MDBFOScpO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHVwZGF0ZVByZXZpZXdTdGF0dXMoJ1x1MDBDMCBqb3VyJyksIDE1MDApO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignW2Rlc2lnbl0gY2FyZCBvdmVycmlkZSBzYXZlIGZhaWxlZCcsIGVycj8ubWVzc2FnZSB8fCBlcnIpO1xuICAgICAgICB1cGRhdGVQcmV2aWV3U3RhdHVzKCdFcnJldXIgZGUgc2F1dmVnYXJkZScpO1xuICAgICAgfVxuICAgICAgZGVib3VuY2VkUmVmcmVzaFByZXZpZXcoKTtcbiAgICB9O1xuXG4gICAgY29uc3QgZW5zdXJlQ29sbGVjdGlvbkNhcmRFZGl0b3JSZWFkeSA9IGFzeW5jIChibG9jaykgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uQ2FyZEl0ZW1TZWxlY3QgfHwgIWJsb2NrKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNpZCA9IGJsb2NrLmNvbGxlY3Rpb25JZCB8fCBibG9jay5zZXR0aW5ncz8uY29sbGVjdGlvbklkIHx8ICcnO1xuICAgICAgaWYgKCFjaWQpIHtcbiAgICAgICAgY2xlYXJDb2xsZWN0aW9uQ2FyZEVkaXRvcignU1x1MDBFOWxlY3Rpb25uZXogdW5lIGNvbGxlY3Rpb24nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgaXRlbXMgPSBhd2FpdCBmZXRjaENvbGxlY3Rpb25JdGVtc0ZvckRlc2lnbihjaWQpO1xuICAgICAgY29sbGVjdGlvbkNhcmRJdGVtU2VsZWN0LmlubmVySFRNTCA9ICcnO1xuICAgICAgaWYgKCFpdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICAgIG9wdGlvbi52YWx1ZSA9ICcnO1xuICAgICAgICBvcHRpb24udGV4dENvbnRlbnQgPSAnQXVjdW4gaXRlbSc7XG4gICAgICAgIGNvbGxlY3Rpb25DYXJkSXRlbVNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb24pO1xuICAgICAgICBjb2xsZWN0aW9uQ2FyZEl0ZW1TZWxlY3QudmFsdWUgPSAnJztcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgICAgb3B0aW9uLnZhbHVlID0gaXRlbS5pZCB8fCAnJztcbiAgICAgICAgY29uc3QgbGFiZWwgPSBpdGVtLnRpdGxlIHx8IGl0ZW0uc2x1ZyB8fCBpdGVtLmlkIHx8ICdJdGVtJztcbiAgICAgICAgb3B0aW9uLnRleHRDb250ZW50ID0gbGFiZWw7XG4gICAgICAgIGNvbGxlY3Rpb25DYXJkSXRlbVNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb24pO1xuICAgICAgfSk7XG4gICAgICBjb25zdCBleGlzdGluZyA9IGdldFNlbGVjdGVkQ29sbGVjdGlvbkNhcmRJdGVtSWQoKTtcbiAgICAgIGNvbnN0IGRlc2lyZWQgPSBleGlzdGluZyAmJiBpdGVtcy5zb21lKChpdGVtKSA9PiBpdGVtLmlkID09PSBleGlzdGluZykgPyBleGlzdGluZyA6IChpdGVtc1swXT8uaWQgfHwgJycpO1xuICAgICAgY29sbGVjdGlvbkNhcmRJdGVtU2VsZWN0LnZhbHVlID0gZGVzaXJlZDtcbiAgICAgIHBvcHVsYXRlQ29sbGVjdGlvbkNhcmRPdmVycmlkZUZpZWxkcyhibG9jaywgZGVzaXJlZCk7XG4gICAgfTtcblxuICAgIGNvbnN0IHVwZGF0ZUNvbGxlY3Rpb25TZWxlY3RPcHRpb25zID0gKHNlbGVjdGVkVmFsdWUgPSAnJykgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uU2VsZWN0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbGxlY3Rpb25TZWxlY3QuaW5uZXJIVE1MID0gJyc7XG4gICAgICBpZiAoIWRlc2lnbkNvbGxlY3Rpb25zLmxlbmd0aCkge1xuICAgICAgICBjb2xsZWN0aW9uU2VsZWN0LmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICAgIG9wdGlvbi52YWx1ZSA9ICcnO1xuICAgICAgICBvcHRpb24udGV4dENvbnRlbnQgPSAnQXVjdW5lIGNvbGxlY3Rpb24gZGlzcG9uaWJsZSc7XG4gICAgICAgIGNvbGxlY3Rpb25TZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uKTtcbiAgICAgICAgc3luY0NvbGxlY3Rpb25TZWxlY3Rpb25JbmZvKCcnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29sbGVjdGlvblNlbGVjdC5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgaWYgKHNlbGVjdGVkVmFsdWUgJiYgIWRlc2lnbkNvbGxlY3Rpb25zLnNvbWUoKGVudHJ5KSA9PiBlbnRyeS5pZCA9PT0gc2VsZWN0ZWRWYWx1ZSkpIHtcbiAgICAgICAgY29uc3QgZmFsbGJhY2tPcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgICAgZmFsbGJhY2tPcHRpb24udmFsdWUgPSBzZWxlY3RlZFZhbHVlO1xuICAgICAgICBmYWxsYmFja09wdGlvbi50ZXh0Q29udGVudCA9IHNlbGVjdGVkVmFsdWU7XG4gICAgICAgIGNvbGxlY3Rpb25TZWxlY3QuYXBwZW5kQ2hpbGQoZmFsbGJhY2tPcHRpb24pO1xuICAgICAgfVxuICAgICAgZGVzaWduQ29sbGVjdGlvbnMuZm9yRWFjaCgoY29sbGVjdGlvbikgPT4ge1xuICAgICAgICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgICAgb3B0aW9uLnZhbHVlID0gY29sbGVjdGlvbi5pZDtcbiAgICAgICAgY29uc3QgbGFiZWwgPSBjb2xsZWN0aW9uLm5hbWUgfHwgY29sbGVjdGlvbi5pZDtcbiAgICAgICAgb3B0aW9uLnRleHRDb250ZW50ID0gY29sbGVjdGlvbi50eXBlID8gYCR7bGFiZWx9IFx1MDBCNyAke2NvbGxlY3Rpb24udHlwZX1gIDogbGFiZWw7XG4gICAgICAgIG9wdGlvbi5kYXRhc2V0LmRlc2NyaXB0aW9uID0gY29sbGVjdGlvbi5kZXNjcmlwdGlvbiB8fCAnJztcbiAgICAgICAgY29sbGVjdGlvblNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb24pO1xuICAgICAgfSk7XG4gICAgICBpZiAoc2VsZWN0ZWRWYWx1ZSkge1xuICAgICAgICBjb2xsZWN0aW9uU2VsZWN0LnZhbHVlID0gc2VsZWN0ZWRWYWx1ZTtcbiAgICAgIH1cbiAgICAgIHN5bmNDb2xsZWN0aW9uU2VsZWN0aW9uSW5mbyhjb2xsZWN0aW9uU2VsZWN0LnZhbHVlIHx8ICcnKTtcbiAgICB9O1xuXG4gICAgbG9hZERlc2lnbkNvbGxlY3Rpb25zKCk7XG4gICAgc3luY0RyYXdlclN0YXRlKCk7XG5cbiAgICBkcmF3ZXJPcGVuQnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5EcmF3ZXIpO1xuICAgIH0pO1xuICAgIGRyYXdlckNsb3NlQnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlRHJhd2VyKTtcbiAgICB9KTtcbiAgICBkcmF3ZXJCYWNrZHJvcD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZURyYXdlcik7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsICgpID0+IHtcbiAgICAgIHN5bmNEcmF3ZXJTdGF0ZSgpO1xuICAgICAgdXBkYXRlRHJhZ2dhYmxlU3RhdGUoKTtcbiAgICB9KTtcblxuICAgIGFkZFBhZ2VUb2dnbGU/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlbkFkZFBhZ2VGb3JtKTtcbiAgICBhZGRQYWdlQ2FuY2VsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlQWRkUGFnZUZvcm0pO1xuICAgIGFkZFBhZ2VOYW1lPy5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIHN5bmNTbHVnRnJvbU5hbWUpO1xuICAgIGFkZFBhZ2VTbHVnPy5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICAgIGFkZFBhZ2VFcnJvciAmJiAoYWRkUGFnZUVycm9yLnRleHRDb250ZW50ID0gJycpO1xuICAgICAgcGFnZVNsdWdNYW51YWxseUVkaXRlZCA9IHRydWU7XG4gICAgfSk7XG4gICAgYWRkUGFnZUZvcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmICghcGFnZXNBcGlCYXNlKSB7XG4gICAgICAgIGFkZFBhZ2VFcnJvciAmJiAoYWRkUGFnZUVycm9yLnRleHRDb250ZW50ID0gJ0F1Y3VuIHNpdGUgc1x1MDBFOWxlY3Rpb25uXHUwMEU5LicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWFkZFBhZ2VOYW1lIHx8ICFhZGRQYWdlU2x1Zykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBuYW1lID0gYWRkUGFnZU5hbWUudmFsdWUudHJpbSgpO1xuICAgICAgY29uc3QgdGl0bGUgPSBhZGRQYWdlVGl0bGU/LnZhbHVlLnRyaW0oKSB8fCBuYW1lOyAvLyBGYWxsYmFjayB0byBuYW1lIGlmIHRpdGxlIGlzIGVtcHR5XG4gICAgICBjb25zdCBzbHVnID0gbm9ybWFsaXplUGFnZVNsdWcoYWRkUGFnZVNsdWcudmFsdWUudHJpbSgpIHx8IG5hbWUpO1xuICAgICAgaWYgKCFuYW1lIHx8ICFzbHVnKSB7XG4gICAgICAgIGFkZFBhZ2VFcnJvciAmJiAoYWRkUGFnZUVycm9yLnRleHRDb250ZW50ID0gJ05vbSBldCBzbHVnIHNvbnQgcmVxdWlzLicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhZGRQYWdlRXJyb3IgJiYgKGFkZFBhZ2VFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICAgIGlmIChhZGRQYWdlU3VibWl0QnV0dG9uKSB7XG4gICAgICAgIGFkZFBhZ2VTdWJtaXRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICBhZGRQYWdlU3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gJ0NyXHUwMEU5YXRpb24uLi4nO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgY3JlYXRlZFBhZ2UgPSBhd2FpdCBjcmVhdGVQYWdlT25TZXJ2ZXIoeyBuYW1lLCB0aXRsZSwgc2x1ZyB9KTtcbiAgICAgICAgaWYgKCFjcmVhdGVkUGFnZSB8fCAhY3JlYXRlZFBhZ2UuaWQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JcdTAwRTlwb25zZSBpbnZhbGlkZS4nKTtcbiAgICAgICAgfVxuICAgICAgICBwYWdlcyA9IFsuLi5wYWdlcywgbm9ybWFsaXplUGFnZURhdGEoY3JlYXRlZFBhZ2UpXTtcbiAgICAgICAgY2xvc2VBZGRQYWdlRm9ybSgpO1xuICAgICAgICBzaG93VG9hc3QoJ1BhZ2UgY3JcdTAwRTlcdTAwRTllJyk7XG4gICAgICAgIHNldEFjdGl2ZVBhZ2UoY3JlYXRlZFBhZ2UuaWQpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkZXNpZ25dIGNyZWF0ZSBwYWdlIGZhaWxlZCcsIGVycik7XG4gICAgICAgIGFkZFBhZ2VFcnJvciAmJiAoYWRkUGFnZUVycm9yLnRleHRDb250ZW50ID0gZXJyLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgY3JcdTAwRTllciBsYSBwYWdlLicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKGFkZFBhZ2VTdWJtaXRCdXR0b24pIHtcbiAgICAgICAgICBhZGRQYWdlU3VibWl0QnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgYWRkUGFnZVN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9ICdDclx1MDBFOWVyJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gPT09IEltcG9ydCBKU09OIGhhbmRsZXJzID09PVxuICAgIGNvbnN0IHJlc2V0UGFzdGVTdGF0ZSA9ICgpID0+IHtcbiAgICAgIGlmIChpbXBvcnRQYXN0ZUlucHV0KSBpbXBvcnRQYXN0ZUlucHV0LnZhbHVlID0gJyc7XG4gICAgICBpZiAocGFzdGVFcnJvcikge1xuICAgICAgICBwYXN0ZUVycm9yLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBwYXN0ZUVycm9yLnRleHRDb250ZW50ID0gJyc7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHZhbGlkYXRlUGFzdGVKc29uID0gKCkgPT4ge1xuICAgICAgaWYgKCFpbXBvcnRQYXN0ZUlucHV0KSByZXR1cm4gbnVsbDtcbiAgICAgIGNvbnN0IHRleHQgPSBpbXBvcnRQYXN0ZUlucHV0LnZhbHVlLnRyaW0oKTtcbiAgICAgIGlmICghdGV4dCkge1xuICAgICAgICBpZiAocGFzdGVFcnJvcikgcGFzdGVFcnJvci5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBwYXJzZWQgPSBKU09OLnBhcnNlKHRleHQpO1xuICAgICAgICBpZiAocGFzdGVFcnJvcikgcGFzdGVFcnJvci5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgcmV0dXJuIHBhcnNlZDtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBpZiAocGFzdGVFcnJvcikge1xuICAgICAgICAgIHBhc3RlRXJyb3IuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgcGFzdGVFcnJvci50ZXh0Q29udGVudCA9IGBcdTI3NEMgSlNPTiBpbnZhbGlkZSA6ICR7ZXJyLm1lc3NhZ2V9YDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgZm9ybWF0UGFzdGVKc29uID0gKCkgPT4ge1xuICAgICAgaWYgKCFpbXBvcnRQYXN0ZUlucHV0KSByZXR1cm47XG4gICAgICBjb25zdCB0ZXh0ID0gaW1wb3J0UGFzdGVJbnB1dC52YWx1ZS50cmltKCk7XG4gICAgICBpZiAoIXRleHQpIHJldHVybjtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZCA9IEpTT04ucGFyc2UodGV4dCk7XG4gICAgICAgIGltcG9ydFBhc3RlSW5wdXQudmFsdWUgPSBKU09OLnN0cmluZ2lmeShwYXJzZWQsIG51bGwsIDIpO1xuICAgICAgICB2YWxpZGF0ZVBhc3RlSnNvbigpO1xuICAgICAgfSBjYXRjaCB7XG4gICAgICAgIC8vIFNpIHBhcyB2YWxpZGUsIG9uIG5lIGZvcm1hdGUgcGFzXG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHVwZGF0ZUltcG9ydFN1Ym1pdFN0YXRlID0gKCkgPT4ge1xuICAgICAgaWYgKCFpbXBvcnRTdWJtaXQpIHJldHVybjtcbiAgICAgIGlmIChhY3RpdmVJbXBvcnRUYWIgPT09ICd1cGxvYWQnKSB7XG4gICAgICAgIGltcG9ydFN1Ym1pdC5kaXNhYmxlZCA9IGltcG9ydFNlbGVjdGVkRmlsZXMubGVuZ3RoID09PSAwO1xuICAgICAgfSBlbHNlIGlmIChhY3RpdmVJbXBvcnRUYWIgPT09ICdwYXN0ZScpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkID0gdmFsaWRhdGVQYXN0ZUpzb24oKTtcbiAgICAgICAgaW1wb3J0U3VibWl0LmRpc2FibGVkID0gIXBhcnNlZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGltcG9ydFN1Ym1pdC5kaXNhYmxlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IG9wZW5JbXBvcnRNb2RhbCA9ICgpID0+IHtcbiAgICAgIGlmICghaW1wb3J0TW9kYWwpIHJldHVybjtcbiAgICAgIGltcG9ydE1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgaW1wb3J0TW9kYWwuY2xhc3NMaXN0LmFkZCgnZmxleCcpO1xuICAgICAgaW1wb3J0U2VsZWN0ZWRGaWxlcyA9IFtdO1xuICAgICAgYWN0aXZlSW1wb3J0VGFiID0gJ3VwbG9hZCc7XG4gICAgICB1cGRhdGVJbXBvcnRGaWxlTGlzdCgpO1xuICAgICAgcmVzZXRQYXN0ZVN0YXRlKCk7XG4gICAgICBpZiAoaW1wb3J0UmVzdWx0cykgaW1wb3J0UmVzdWx0cy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGlmIChpbXBvcnRSZXN1bHRzQ29udGVudCkgaW1wb3J0UmVzdWx0c0NvbnRlbnQuaW5uZXJIVE1MID0gJyc7XG4gICAgICB1cGRhdGVJbXBvcnRTdWJtaXRTdGF0ZSgpO1xuICAgICAgLy8gUmVzZXQgdGFicyB0byB1cGxvYWRcbiAgICAgIGltcG9ydFRhYnMuZm9yRWFjaCgodCkgPT4ge1xuICAgICAgICBpZiAodC5kYXRhc2V0LmltcG9ydFRhYiA9PT0gJ3VwbG9hZCcpIHtcbiAgICAgICAgICB0LmNsYXNzTGlzdC5hZGQoJ2JnLVsjOUM2QkZGXScsICd0ZXh0LXdoaXRlJyk7XG4gICAgICAgICAgdC5jbGFzc0xpc3QucmVtb3ZlKCdib3JkZXInLCAnYm9yZGVyLXNsYXRlLTIwMCcsICd0ZXh0LXNsYXRlLTcwMCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHQuY2xhc3NMaXN0LnJlbW92ZSgnYmctWyM5QzZCRkZdJywgJ3RleHQtd2hpdGUnKTtcbiAgICAgICAgICB0LmNsYXNzTGlzdC5hZGQoJ2JvcmRlcicsICdib3JkZXItc2xhdGUtMjAwJywgJ3RleHQtc2xhdGUtNzAwJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaW1wb3J0UGFuZWxzLmZvckVhY2goKHApID0+IHtcbiAgICAgICAgaWYgKHAuZGF0YXNldC5pbXBvcnRQYW5lbCA9PT0gJ3VwbG9hZCcpIHtcbiAgICAgICAgICBwLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHAuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgYWN0aXZhdGVNb2RhbChpbXBvcnRNb2RhbCwgY2xvc2VJbXBvcnRNb2RhbCk7XG4gICAgfTtcbiAgICBjb25zdCBjbG9zZUltcG9ydE1vZGFsID0gKCkgPT4ge1xuICAgICAgaWYgKCFpbXBvcnRNb2RhbCkgcmV0dXJuO1xuICAgICAgaW1wb3J0TW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBpbXBvcnRNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdmbGV4Jyk7XG4gICAgICBpbXBvcnRTZWxlY3RlZEZpbGVzID0gW107XG4gICAgICByZXNldFBhc3RlU3RhdGUoKTtcbiAgICAgIGRlYWN0aXZhdGVNb2RhbChpbXBvcnRNb2RhbCk7XG4gICAgfTtcbiAgICBjb25zdCB1cGRhdGVJbXBvcnRGaWxlTGlzdCA9ICgpID0+IHtcbiAgICAgIGlmICghaW1wb3J0RmlsZUxpc3QgfHwgIWltcG9ydEZpbGVOYW1lcykgcmV0dXJuO1xuICAgICAgaWYgKGltcG9ydFNlbGVjdGVkRmlsZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGltcG9ydEZpbGVMaXN0LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICB1cGRhdGVJbXBvcnRTdWJtaXRTdGF0ZSgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpbXBvcnRGaWxlTGlzdC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGltcG9ydEZpbGVOYW1lcy5pbm5lckhUTUwgPSBpbXBvcnRTZWxlY3RlZEZpbGVzXG4gICAgICAgIC5tYXAoKGYpID0+IGA8bGkgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPjxzcGFuIGNsYXNzPVwidGV4dC1sZ1wiPlx1RDgzRFx1RENDNDwvc3Bhbj4ke2YubmFtZX08L2xpPmApXG4gICAgICAgIC5qb2luKCcnKTtcbiAgICAgIHVwZGF0ZUltcG9ydFN1Ym1pdFN0YXRlKCk7XG4gICAgfTtcbiAgICBjb25zdCBoYW5kbGVJbXBvcnRGaWxlcyA9IChmaWxlcykgPT4ge1xuICAgICAgY29uc3QganNvbkZpbGVzID0gQXJyYXkuZnJvbShmaWxlcykuZmlsdGVyKFxuICAgICAgICAoZikgPT4gZi50eXBlID09PSAnYXBwbGljYXRpb24vanNvbicgfHwgZi5uYW1lLmVuZHNXaXRoKCcuanNvbicpXG4gICAgICApO1xuICAgICAgaWYgKGpzb25GaWxlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgc2hvd1RvYXN0KCdBdWN1biBmaWNoaWVyIEpTT04gdmFsaWRlLicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpbXBvcnRTZWxlY3RlZEZpbGVzID0ganNvbkZpbGVzO1xuICAgICAgdXBkYXRlSW1wb3J0RmlsZUxpc3QoKTtcbiAgICB9O1xuICAgIGNvbnN0IGV4ZWN1dGVJbXBvcnQgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXBhZ2VzQXBpQmFzZSkgcmV0dXJuO1xuICAgICAgXG4gICAgICAvLyBEZXRlcm1pbmUgc291cmNlIG9mIGRhdGEgYmFzZWQgb24gYWN0aXZlIHRhYlxuICAgICAgbGV0IHBhZ2VzRGF0YSA9IFtdO1xuICAgICAgXG4gICAgICBjb25zb2xlLmxvZygnW2ltcG9ydF0gYWN0aXZlSW1wb3J0VGFiOicsIGFjdGl2ZUltcG9ydFRhYik7XG4gICAgICBcbiAgICAgIGlmIChhY3RpdmVJbXBvcnRUYWIgPT09ICdwYXN0ZScpIHtcbiAgICAgICAgLy8gSW1wb3J0IGZyb20gcGFzdGVkIEpTT05cbiAgICAgICAgY29uc3QgdGV4dCA9IGltcG9ydFBhc3RlSW5wdXQ/LnZhbHVlPy50cmltKCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdbaW1wb3J0XSBwYXN0ZSB0ZXh0IGxlbmd0aDonLCB0ZXh0Py5sZW5ndGgpO1xuICAgICAgICBpZiAoIXRleHQpIHtcbiAgICAgICAgICBzaG93VG9hc3QoJ0F1Y3VuIEpTT04gXHUwMEUwIGltcG9ydGVyLicpO1xuICAgICAgICAgIGlmIChpbXBvcnRSZXN1bHRzICYmIGltcG9ydFJlc3VsdHNDb250ZW50KSB7XG4gICAgICAgICAgICBpbXBvcnRSZXN1bHRzLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgICAgaW1wb3J0UmVzdWx0c0NvbnRlbnQuaW5uZXJIVE1MID0gJzxwIGNsYXNzPVwidGV4dC1hbWJlci02MDBcIj5cdTI2QTAgTGUgY2hhbXAgZGUgdGV4dGUgZXN0IHZpZGUuPC9wPic7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHBhcnNlZCA9IEpTT04ucGFyc2UodGV4dCk7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1tpbXBvcnRdIHBhcnNlZCBKU09OOicsIHBhcnNlZCk7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1tpbXBvcnRdIHBhcnNlZCB0eXBlOicsIHR5cGVvZiBwYXJzZWQsIEFycmF5LmlzQXJyYXkocGFyc2VkKSA/ICdhcnJheScgOiAnbm90IGFycmF5Jyk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gU3VwcG9ydCBmb3JtYXQgeyBwYWdlczogWy4uLl0sIGNvbGxlY3Rpb25zOiB7Li4ufSB9XG4gICAgICAgICAgaWYgKHBhcnNlZCAmJiAhQXJyYXkuaXNBcnJheShwYXJzZWQpICYmIHBhcnNlZC5wYWdlcykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1tpbXBvcnRdIGRldGVjdGVkIHBhZ2VzK2NvbGxlY3Rpb25zIGZvcm1hdCcpO1xuICAgICAgICAgICAgcGFnZXNEYXRhID0gcGFyc2VkOyAvLyBTZW5kIHRoZSB3aG9sZSBvYmplY3QsIGJhY2tlbmQgd2lsbCBoYW5kbGUgaXRcbiAgICAgICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkocGFyc2VkKSkge1xuICAgICAgICAgICAgcGFnZXNEYXRhLnB1c2goLi4ucGFyc2VkKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFnZXNEYXRhLnB1c2gocGFyc2VkKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc29sZS5sb2coJ1tpbXBvcnRdIHBhZ2VzRGF0YSBwcmVwYXJlZDonLCBwYWdlc0RhdGEpO1xuICAgICAgICB9IGNhdGNoIChwYXJzZUVycikge1xuICAgICAgICAgIC8vIEFmZmljaGVyIGxlIGRcdTAwRTl0YWlsIGRlIGwnZXJyZXVyIGRlIHBhcnNpbmdcbiAgICAgICAgICBjb25zdCBlcnJvckxpbmUgPSBwYXJzZUVyci5tZXNzYWdlLm1hdGNoKC9wb3NpdGlvbiAoXFxkKykvKTtcbiAgICAgICAgICBsZXQgZXJyb3JEZXRhaWwgPSBwYXJzZUVyci5tZXNzYWdlO1xuICAgICAgICAgIGlmIChlcnJvckxpbmUpIHtcbiAgICAgICAgICAgIGNvbnN0IHBvcyA9IHBhcnNlSW50KGVycm9yTGluZVsxXSwgMTApO1xuICAgICAgICAgICAgY29uc3QgbGluZXMgPSB0ZXh0LnN1YnN0cmluZygwLCBwb3MpLnNwbGl0KCdcXG4nKTtcbiAgICAgICAgICAgIGNvbnN0IGxpbmVOdW0gPSBsaW5lcy5sZW5ndGg7XG4gICAgICAgICAgICBjb25zdCBjb2xOdW0gPSBsaW5lc1tsaW5lcy5sZW5ndGggLSAxXS5sZW5ndGggKyAxO1xuICAgICAgICAgICAgZXJyb3JEZXRhaWwgPSBgTGlnbmUgJHtsaW5lTnVtfSwgY29sb25uZSAke2NvbE51bX06ICR7cGFyc2VFcnIubWVzc2FnZX1gO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzaG93VG9hc3QoYEVycmV1ciBKU09OIDogJHtlcnJvckRldGFpbH1gLCAnZXJyb3InKTtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbaW1wb3J0XSBwYXN0ZSBwYXJzZSBlcnJvcicsIHBhcnNlRXJyKTtcbiAgICAgICAgICAvLyBTaG93IGVycm9yIGluIHJlc3VsdHMgYXJlYVxuICAgICAgICAgIGlmIChpbXBvcnRSZXN1bHRzICYmIGltcG9ydFJlc3VsdHNDb250ZW50KSB7XG4gICAgICAgICAgICBpbXBvcnRSZXN1bHRzLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgICAgaW1wb3J0UmVzdWx0c0NvbnRlbnQuaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC1yb3NlLTYwMFwiPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwiZm9udC1tZWRpdW1cIj5cdTI3MTcgRXJyZXVyIGRlIHN5bnRheGUgSlNPTjwvcD5cbiAgICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQteHMgbXQtMVwiPiR7ZXJyb3JEZXRhaWx9PC9wPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC14cyBtdC0yIHRleHQtc2xhdGUtNTAwXCI+Vlx1MDBFOXJpZmlleiBsZXMgdmlyZ3VsZXMsIGd1aWxsZW1ldHMgZXQgYWNjb2xhZGVzLjwvcD5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICBgO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoYWN0aXZlSW1wb3J0VGFiID09PSAndXBsb2FkJykge1xuICAgICAgICAvLyBJbXBvcnQgZnJvbSBmaWxlc1xuICAgICAgICBpZiAoaW1wb3J0U2VsZWN0ZWRGaWxlcy5sZW5ndGggPT09IDApIHJldHVybjtcbiAgICAgICAgY29uc3QgZmlsZUVycm9ycyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IGZpbGUgb2YgaW1wb3J0U2VsZWN0ZWRGaWxlcykge1xuICAgICAgICAgIGNvbnN0IHRleHQgPSBhd2FpdCBmaWxlLnRleHQoKTtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcGFyc2VkID0gSlNPTi5wYXJzZSh0ZXh0KTtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHBhcnNlZCkpIHtcbiAgICAgICAgICAgICAgcGFnZXNEYXRhLnB1c2goLi4ucGFyc2VkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBhZ2VzRGF0YS5wdXNoKHBhcnNlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCAocGFyc2VFcnIpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTGluZSA9IHBhcnNlRXJyLm1lc3NhZ2UubWF0Y2goL3Bvc2l0aW9uIChcXGQrKS8pO1xuICAgICAgICAgICAgbGV0IGVycm9yRGV0YWlsID0gcGFyc2VFcnIubWVzc2FnZTtcbiAgICAgICAgICAgIGlmIChlcnJvckxpbmUpIHtcbiAgICAgICAgICAgICAgY29uc3QgcG9zID0gcGFyc2VJbnQoZXJyb3JMaW5lWzFdLCAxMCk7XG4gICAgICAgICAgICAgIGNvbnN0IGxpbmVzID0gdGV4dC5zdWJzdHJpbmcoMCwgcG9zKS5zcGxpdCgnXFxuJyk7XG4gICAgICAgICAgICAgIGNvbnN0IGxpbmVOdW0gPSBsaW5lcy5sZW5ndGg7XG4gICAgICAgICAgICAgIGVycm9yRGV0YWlsID0gYExpZ25lICR7bGluZU51bX06ICR7cGFyc2VFcnIubWVzc2FnZX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmlsZUVycm9ycy5wdXNoKHsgZmlsZTogZmlsZS5uYW1lLCBlcnJvcjogZXJyb3JEZXRhaWwgfSk7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdbaW1wb3J0XSBwYXJzZSBlcnJvcicsIGZpbGUubmFtZSwgcGFyc2VFcnIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBTaG93IGZpbGUgcGFyc2luZyBlcnJvcnMgaWYgYW55XG4gICAgICAgIGlmIChmaWxlRXJyb3JzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBpZiAoaW1wb3J0UmVzdWx0cyAmJiBpbXBvcnRSZXN1bHRzQ29udGVudCkge1xuICAgICAgICAgICAgaW1wb3J0UmVzdWx0cy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIGxldCBodG1sID0gJzxkaXYgY2xhc3M9XCJ0ZXh0LXJvc2UtNjAwXCI+PHAgY2xhc3M9XCJmb250LW1lZGl1bVwiPlx1MjcxNyBFcnJldXJzIGRlIHN5bnRheGUgSlNPTjwvcD48dWwgY2xhc3M9XCJtbC00IHRleHQteHMgbXQtMVwiPic7XG4gICAgICAgICAgICBmaWxlRXJyb3JzLmZvckVhY2goZSA9PiB7XG4gICAgICAgICAgICAgIGh0bWwgKz0gYDxsaT48c3Ryb25nPiR7ZS5maWxlfTwvc3Ryb25nPjogJHtlLmVycm9yfTwvbGk+YDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaHRtbCArPSAnPC91bD48L2Rpdj4nO1xuICAgICAgICAgICAgaWYgKHBhZ2VzRGF0YS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgIGh0bWwgKz0gYDxwIGNsYXNzPVwidGV4dC1hbWJlci02MDAgbXQtMiB0ZXh0LXNtXCI+XHUyNkEwICR7cGFnZXNEYXRhLmxlbmd0aH0gcGFnZShzKSB2YWxpZGUocykgc2Vyb250IGltcG9ydFx1MDBFOWUocyk8L3A+YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGltcG9ydFJlc3VsdHNDb250ZW50LmlubmVySFRNTCA9IGh0bWw7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChwYWdlc0RhdGEubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBzaG93VG9hc3QoJ1RvdXMgbGVzIGZpY2hpZXJzIGNvbnRpZW5uZW50IGRlcyBlcnJldXJzIEpTT04nLCAnZXJyb3InKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gVlx1MDBFOXJpZmllciBxdSdvbiBhIGRlcyBkb25uXHUwMEU5ZXMgXHUwMEUwIGltcG9ydGVyXG4gICAgICBjb25zdCBoYXNEYXRhID0gQXJyYXkuaXNBcnJheShwYWdlc0RhdGEpIFxuICAgICAgICA/IHBhZ2VzRGF0YS5sZW5ndGggPiAwIFxuICAgICAgICA6IChwYWdlc0RhdGEgJiYgKHBhZ2VzRGF0YS5wYWdlcz8ubGVuZ3RoID4gMCB8fCBwYWdlc0RhdGEudGl0bGUpKTtcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coJ1tpbXBvcnRdIGhhc0RhdGEgY2hlY2s6JywgaGFzRGF0YSwgJ3BhZ2VzRGF0YTonLCBwYWdlc0RhdGEpO1xuICAgICAgXG4gICAgICBpZiAoIWhhc0RhdGEpIHtcbiAgICAgICAgc2hvd1RvYXN0KCdBdWN1bmUgcGFnZSB2YWxpZGUgXHUwMEUwIGltcG9ydGVyLicpO1xuICAgICAgICBpZiAoaW1wb3J0UmVzdWx0cyAmJiBpbXBvcnRSZXN1bHRzQ29udGVudCkge1xuICAgICAgICAgIGltcG9ydFJlc3VsdHMuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgaW1wb3J0UmVzdWx0c0NvbnRlbnQuaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRleHQtYW1iZXItNjAwXCI+XG4gICAgICAgICAgICAgIDxwIGNsYXNzPVwiZm9udC1tZWRpdW1cIj5cdTI2QTAgQXVjdW5lIHBhZ2UgZFx1MDBFOXRlY3RcdTAwRTllPC9wPlxuICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQteHMgbXQtMVwiPkxlIEpTT04gZG9pdCBjb250ZW5pciA6PC9wPlxuICAgICAgICAgICAgICA8dWwgY2xhc3M9XCJ0ZXh0LXhzIG1sLTQgbXQtMSBsaXN0LWRpc2NcIj5cbiAgICAgICAgICAgICAgICA8bGk+VW4gb2JqZXQgcGFnZSBhdmVjIFwidGl0bGVcIiA6IDxjb2RlPntcInRpdGxlXCI6IFwiTWEgcGFnZVwiLCAuLi59PC9jb2RlPjwvbGk+XG4gICAgICAgICAgICAgICAgPGxpPlVuIHRhYmxlYXUgZGUgcGFnZXMgOiA8Y29kZT5be1widGl0bGVcIjogXCJQYWdlIDFcIn0sIHtcInRpdGxlXCI6IFwiUGFnZSAyXCJ9XTwvY29kZT48L2xpPlxuICAgICAgICAgICAgICAgIDxsaT5PdSB1biBvYmpldCBjb21iaW5cdTAwRTkgOiA8Y29kZT57XCJwYWdlc1wiOiBbLi4uXSwgXCJjb2xsZWN0aW9uc1wiOiB7Li4ufX08L2NvZGU+PC9saT5cbiAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIGA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoaW1wb3J0U3VibWl0KSB7XG4gICAgICAgIGltcG9ydFN1Ym1pdC5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIGltcG9ydFN1Ym1pdC50ZXh0Q29udGVudCA9ICdJbXBvcnQuLi4nO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBBZmZpY2hlciBjZSBxdSdvbiB2YSBlbnZveWVyIChkZWJ1ZylcbiAgICAgIGNvbnNvbGUubG9nKCdbaW1wb3J0XSBTZW5kaW5nIHRvIHNlcnZlcjonLCBKU09OLnN0cmluZ2lmeShwYWdlc0RhdGEpLnN1YnN0cmluZygwLCA1MDApKTtcbiAgICAgIFxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtwYWdlc0FwaUJhc2V9L2ltcG9ydGAsIHtcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICBjcmVkZW50aWFsczogJ2luY2x1ZGUnLFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBhZ2VzRGF0YSksXG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgY29uc29sZS5sb2coJ1tpbXBvcnRdIFNlcnZlciByZXNwb25zZSBzdGF0dXM6JywgcmVzcG9uc2Uuc3RhdHVzKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgY29uc29sZS5sb2coJ1tpbXBvcnRdIFNlcnZlciByZXNwb25zZSBib2R5OicsIHJlc3VsdCk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAvLyBBZmZpY2hlciBsZSBkXHUwMEU5dGFpbCBkZSBsJ2VycmV1ciBzZXJ2ZXVyXG4gICAgICAgICAgaWYgKGltcG9ydFJlc3VsdHMgJiYgaW1wb3J0UmVzdWx0c0NvbnRlbnQpIHtcbiAgICAgICAgICAgIGltcG9ydFJlc3VsdHMuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgICBpbXBvcnRSZXN1bHRzQ29udGVudC5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LXJvc2UtNjAwXCI+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJmb250LW1lZGl1bVwiPlx1MjcxNyBFcnJldXIgc2VydmV1cjwvcD5cbiAgICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQteHMgbXQtMVwiPiR7cmVzdWx0Lm1lc3NhZ2UgfHwgJ0VycmV1ciBpbmNvbm51ZSd9PC9wPlxuICAgICAgICAgICAgICAgICR7cmVzdWx0LmRldGFpbHMgPyBgPHAgY2xhc3M9XCJ0ZXh0LXhzIG10LTEgdGV4dC1zbGF0ZS01MDBcIj4ke3Jlc3VsdC5kZXRhaWxzfTwvcD5gIDogJyd9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgYDtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5tZXNzYWdlIHx8ICdFcnJldXIgc2VydmV1cicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNob3cgcmVzdWx0c1xuICAgICAgICBpZiAoaW1wb3J0UmVzdWx0cyAmJiBpbXBvcnRSZXN1bHRzQ29udGVudCkge1xuICAgICAgICAgIGltcG9ydFJlc3VsdHMuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgbGV0IGh0bWwgPSAnJztcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBFbnRcdTAwRUF0ZSBzdWNjXHUwMEU4cy9lcnJldXJcbiAgICAgICAgICBjb25zdCBoYXNTdWNjZXNzID0gKHJlc3VsdC5pbXBvcnRlZD8ubGVuZ3RoID4gMCkgfHwgKHJlc3VsdC5jb2xsZWN0aW9uc0NyZWF0ZWQ/Lmxlbmd0aCA+IDApO1xuICAgICAgICAgIGNvbnN0IGhhc0Vycm9ycyA9IHJlc3VsdC5lcnJvcnM/Lmxlbmd0aCA+IDA7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKGhhc1N1Y2Nlc3MgJiYgIWhhc0Vycm9ycykge1xuICAgICAgICAgICAgaHRtbCArPSAnPGRpdiBjbGFzcz1cImJnLWdyZWVuLTUwIGJvcmRlciBib3JkZXItZ3JlZW4tMjAwIHJvdW5kZWQtbGcgcC0zIG1iLTJcIj48cCBjbGFzcz1cInRleHQtZ3JlZW4tODAwIGZvbnQtbWVkaXVtXCI+XHUyNzEzIEltcG9ydCByXHUwMEU5dXNzaTwvcD48L2Rpdj4nO1xuICAgICAgICAgIH0gZWxzZSBpZiAoaGFzU3VjY2VzcyAmJiBoYXNFcnJvcnMpIHtcbiAgICAgICAgICAgIGh0bWwgKz0gJzxkaXYgY2xhc3M9XCJiZy1hbWJlci01MCBib3JkZXIgYm9yZGVyLWFtYmVyLTIwMCByb3VuZGVkLWxnIHAtMyBtYi0yXCI+PHAgY2xhc3M9XCJ0ZXh0LWFtYmVyLTgwMCBmb250LW1lZGl1bVwiPlx1MjZBMCBJbXBvcnQgcGFydGllbDwvcD48L2Rpdj4nO1xuICAgICAgICAgIH0gZWxzZSBpZiAoaGFzRXJyb3JzKSB7XG4gICAgICAgICAgICBodG1sICs9ICc8ZGl2IGNsYXNzPVwiYmctcm9zZS01MCBib3JkZXIgYm9yZGVyLXJvc2UtMjAwIHJvdW5kZWQtbGcgcC0zIG1iLTJcIj48cCBjbGFzcz1cInRleHQtcm9zZS04MDAgZm9udC1tZWRpdW1cIj5cdTI3MTcgSW1wb3J0IFx1MDBFOWNob3VcdTAwRTk8L3A+PC9kaXY+JztcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQ29sbGVjdGlvbnMgY3JcdTAwRTlcdTAwRTllc1xuICAgICAgICAgIGlmIChyZXN1bHQuY29sbGVjdGlvbnNDcmVhdGVkICYmIHJlc3VsdC5jb2xsZWN0aW9uc0NyZWF0ZWQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgaHRtbCArPSBgPHAgY2xhc3M9XCJ0ZXh0LXZpb2xldC03MDAgbXQtMlwiPlx1MjcxMyAke3Jlc3VsdC5jb2xsZWN0aW9uc0NyZWF0ZWQubGVuZ3RofSBjb2xsZWN0aW9uKHMpIGNyXHUwMEU5XHUwMEU5ZShzKTwvcD5gO1xuICAgICAgICAgICAgaHRtbCArPSAnPHVsIGNsYXNzPVwibWwtNCB0ZXh0LXhzIHRleHQtc2xhdGUtNjAwXCI+JztcbiAgICAgICAgICAgIHJlc3VsdC5jb2xsZWN0aW9uc0NyZWF0ZWQuZm9yRWFjaCgoYykgPT4ge1xuICAgICAgICAgICAgICBodG1sICs9IGA8bGk+JHtjLm5hbWV9ICgke2MuaXRlbXNDb3VudH0gaXRlbSR7Yy5pdGVtc0NvdW50ID4gMSA/ICdzJyA6ICcnfSk8L2xpPmA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGh0bWwgKz0gJzwvdWw+JztcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gUGFnZXMgaW1wb3J0XHUwMEU5ZXNcbiAgICAgICAgICBpZiAocmVzdWx0LmltcG9ydGVkICYmIHJlc3VsdC5pbXBvcnRlZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBodG1sICs9IGA8cCBjbGFzcz1cInRleHQtZ3JlZW4tNzAwIG10LTJcIj5cdTI3MTMgJHtyZXN1bHQuaW1wb3J0ZWQubGVuZ3RofSBwYWdlKHMpIGltcG9ydFx1MDBFOWUocyk8L3A+YDtcbiAgICAgICAgICAgIGh0bWwgKz0gJzx1bCBjbGFzcz1cIm1sLTQgdGV4dC14cyB0ZXh0LXNsYXRlLTYwMFwiPic7XG4gICAgICAgICAgICByZXN1bHQuaW1wb3J0ZWQuZm9yRWFjaCgocCkgPT4ge1xuICAgICAgICAgICAgICBodG1sICs9IGA8bGk+PHN0cm9uZz4ke3AudGl0bGV9PC9zdHJvbmc+IFx1MjE5MiAke3Auc2x1Z30gKCR7cC5hY3Rpb24gPT09ICd1cGRhdGVkJyA/ICdtaXNlIFx1MDBFMCBqb3VyJyA6ICdjclx1MDBFOVx1MDBFOWUnfSk8L2xpPmA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGh0bWwgKz0gJzwvdWw+JztcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gRXJyZXVycyBhdmVjIGRcdTAwRTl0YWlsc1xuICAgICAgICAgIGlmIChyZXN1bHQuZXJyb3JzICYmIHJlc3VsdC5lcnJvcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgaHRtbCArPSBgPHAgY2xhc3M9XCJ0ZXh0LXJvc2UtNjAwIG10LTMgZm9udC1tZWRpdW1cIj5cdTI3MTcgJHtyZXN1bHQuZXJyb3JzLmxlbmd0aH0gZXJyZXVyKHMpPC9wPmA7XG4gICAgICAgICAgICBodG1sICs9ICc8dWwgY2xhc3M9XCJtbC00IHRleHQteHMgdGV4dC1yb3NlLTYwMCBzcGFjZS15LTEgbXQtMVwiPic7XG4gICAgICAgICAgICByZXN1bHQuZXJyb3JzLmZvckVhY2goKGUpID0+IHtcbiAgICAgICAgICAgICAgaHRtbCArPSBgPGxpIGNsYXNzPVwiYmctcm9zZS01MCBwLTIgcm91bmRlZFwiPjxzdHJvbmc+JHtlLnRpdGxlfTwvc3Ryb25nPjxici8+PHNwYW4gY2xhc3M9XCJ0ZXh0LXJvc2UtNTAwXCI+JHtlLmVycm9yfTwvc3Bhbj48L2xpPmA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGh0bWwgKz0gJzwvdWw+JztcbiAgICAgICAgICB9XG4gICAgICAgICAgaW1wb3J0UmVzdWx0c0NvbnRlbnQuaW5uZXJIVE1MID0gaHRtbDtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZWxvYWQgcGFnZXMgbGlzdCBhbmQgc2hvdyB0b2FzdFxuICAgICAgICBjb25zdCBoYXNTdWNjZXNzID0gKHJlc3VsdC5pbXBvcnRlZD8ubGVuZ3RoID4gMCkgfHwgKHJlc3VsdC5jb2xsZWN0aW9uc0NyZWF0ZWQ/Lmxlbmd0aCA+IDApO1xuICAgICAgICBjb25zdCBoYXNFcnJvcnMgPSByZXN1bHQuZXJyb3JzPy5sZW5ndGggPiAwO1xuICAgICAgICBcbiAgICAgICAgaWYgKHJlc3VsdC5pbXBvcnRlZCAmJiByZXN1bHQuaW1wb3J0ZWQubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGNvbnN0IGZyZXNoUGFnZXMgPSBhd2FpdCBmZXRjaFBhZ2VzRnJvbVNlcnZlcigpO1xuICAgICAgICAgIHBhZ2VzID0gZnJlc2hQYWdlcztcbiAgICAgICAgICByZW5kZXJQYWdlTGlzdHMocGFnZXMsIGFjdGl2ZVBhZ2VJZCk7XG4gICAgICAgICAgaWYgKHBhZ2VzLmxlbmd0aCA+IDAgJiYgIWFjdGl2ZVBhZ2VJZCkge1xuICAgICAgICAgICAgc2V0QWN0aXZlUGFnZShwYWdlc1swXS5pZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBUb2FzdCBhdmVjIHN0YXR1dCBhcHByb3ByaVx1MDBFOVxuICAgICAgICBpZiAoaGFzU3VjY2VzcyAmJiAhaGFzRXJyb3JzKSB7XG4gICAgICAgICAgY29uc3QgY29sbGVjdGlvbnNNc2cgPSByZXN1bHQuY29sbGVjdGlvbnNDcmVhdGVkPy5sZW5ndGggXG4gICAgICAgICAgICA/IGAgKyAke3Jlc3VsdC5jb2xsZWN0aW9uc0NyZWF0ZWQubGVuZ3RofSBjb2xsZWN0aW9uKHMpYCBcbiAgICAgICAgICAgIDogJyc7XG4gICAgICAgICAgc2hvd1RvYXN0KGBcdTI3MTMgSW1wb3J0IHJcdTAwRTl1c3NpIDogJHtyZXN1bHQuaW1wb3J0ZWQ/Lmxlbmd0aCB8fCAwfSBwYWdlKHMpJHtjb2xsZWN0aW9uc01zZ31gLCAnc3VjY2VzcycpO1xuICAgICAgICB9IGVsc2UgaWYgKGhhc1N1Y2Nlc3MgJiYgaGFzRXJyb3JzKSB7XG4gICAgICAgICAgc2hvd1RvYXN0KGBcdTI2QTAgSW1wb3J0IHBhcnRpZWwgOiAke3Jlc3VsdC5pbXBvcnRlZD8ubGVuZ3RoIHx8IDB9IHBhZ2UocyksICR7cmVzdWx0LmVycm9ycy5sZW5ndGh9IGVycmV1cihzKWAsICd3YXJuaW5nJyk7XG4gICAgICAgIH0gZWxzZSBpZiAoaGFzRXJyb3JzKSB7XG4gICAgICAgICAgc2hvd1RvYXN0KGBcdTI3MTcgSW1wb3J0IFx1MDBFOWNob3VcdTAwRTkgOiAke3Jlc3VsdC5lcnJvcnMubGVuZ3RofSBlcnJldXIocylgLCAnZXJyb3InKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaW1wb3J0U2VsZWN0ZWRGaWxlcyA9IFtdO1xuICAgICAgICB1cGRhdGVJbXBvcnRGaWxlTGlzdCgpO1xuICAgICAgICByZXNldFBhc3RlU3RhdGUoKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbaW1wb3J0XSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBpbXBvcnQnLCAnZXJyb3InKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmIChpbXBvcnRTdWJtaXQpIHtcbiAgICAgICAgICBpbXBvcnRTdWJtaXQuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICBpbXBvcnRTdWJtaXQudGV4dENvbnRlbnQgPSAnSW1wb3J0ZXInO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICBpbXBvcnRUb2dnbGU/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlbkltcG9ydE1vZGFsKTtcbiAgICBpbXBvcnRDbG9zZUJ1dHRvbnMuZm9yRWFjaCgoYnRuKSA9PiBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZUltcG9ydE1vZGFsKSk7XG4gICAgaW1wb3J0TW9kYWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGlmIChlLnRhcmdldCA9PT0gaW1wb3J0TW9kYWwpIGNsb3NlSW1wb3J0TW9kYWwoKTtcbiAgICB9KTtcbiAgICBpbXBvcnRGaWxlSW5wdXQ/LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIChlKSA9PiB7XG4gICAgICBoYW5kbGVJbXBvcnRGaWxlcyhlLnRhcmdldC5maWxlcyk7XG4gICAgfSk7XG4gICAgaW1wb3J0RHJvcHpvbmU/LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGltcG9ydERyb3B6b25lLmNsYXNzTGlzdC5hZGQoJ2JvcmRlci1bIzlDNkJGRl0nLCAnYmctWyM5QzZCRkZdLzEwJyk7XG4gICAgfSk7XG4gICAgaW1wb3J0RHJvcHpvbmU/LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdsZWF2ZScsIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpbXBvcnREcm9wem9uZS5jbGFzc0xpc3QucmVtb3ZlKCdib3JkZXItWyM5QzZCRkZdJywgJ2JnLVsjOUM2QkZGXS8xMCcpO1xuICAgIH0pO1xuICAgIGltcG9ydERyb3B6b25lPy5hZGRFdmVudExpc3RlbmVyKCdkcm9wJywgKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGltcG9ydERyb3B6b25lLmNsYXNzTGlzdC5yZW1vdmUoJ2JvcmRlci1bIzlDNkJGRl0nLCAnYmctWyM5QzZCRkZdLzEwJyk7XG4gICAgICBoYW5kbGVJbXBvcnRGaWxlcyhlLmRhdGFUcmFuc2Zlci5maWxlcyk7XG4gICAgfSk7XG4gICAgaW1wb3J0U3VibWl0Py5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGV4ZWN1dGVJbXBvcnQpO1xuICAgIC8vIFBhc3RlIEpTT04gaGFuZGxlcnNcbiAgICBpbXBvcnRQYXN0ZUlucHV0Py5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICAgIHVwZGF0ZUltcG9ydFN1Ym1pdFN0YXRlKCk7XG4gICAgfSk7XG4gICAgcGFzdGVGb3JtYXRCdG4/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZm9ybWF0UGFzdGVKc29uKTtcbiAgICAvLyBJbXBvcnQgdGFic1xuICAgIGltcG9ydFRhYnMuZm9yRWFjaCgodGFiKSA9PiB7XG4gICAgICB0YWIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHRhcmdldFBhbmVsID0gdGFiLmRhdGFzZXQuaW1wb3J0VGFiO1xuICAgICAgICBhY3RpdmVJbXBvcnRUYWIgPSB0YXJnZXRQYW5lbDtcbiAgICAgICAgaW1wb3J0VGFicy5mb3JFYWNoKCh0KSA9PiB7XG4gICAgICAgICAgaWYgKHQuZGF0YXNldC5pbXBvcnRUYWIgPT09IHRhcmdldFBhbmVsKSB7XG4gICAgICAgICAgICB0LmNsYXNzTGlzdC5hZGQoJ2JnLVsjOUM2QkZGXScsICd0ZXh0LXdoaXRlJyk7XG4gICAgICAgICAgICB0LmNsYXNzTGlzdC5yZW1vdmUoJ2JvcmRlcicsICdib3JkZXItc2xhdGUtMjAwJywgJ3RleHQtc2xhdGUtNzAwJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHQuY2xhc3NMaXN0LnJlbW92ZSgnYmctWyM5QzZCRkZdJywgJ3RleHQtd2hpdGUnKTtcbiAgICAgICAgICAgIHQuY2xhc3NMaXN0LmFkZCgnYm9yZGVyJywgJ2JvcmRlci1zbGF0ZS0yMDAnLCAndGV4dC1zbGF0ZS03MDAnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpbXBvcnRQYW5lbHMuZm9yRWFjaCgocCkgPT4ge1xuICAgICAgICAgIGlmIChwLmRhdGFzZXQuaW1wb3J0UGFuZWwgPT09IHRhcmdldFBhbmVsKSB7XG4gICAgICAgICAgICBwLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHVwZGF0ZUltcG9ydFN1Ym1pdFN0YXRlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBjb3B5VGVtcGxhdGVCdG4/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCF0ZW1wbGF0ZUpzb24pIHJldHVybjtcbiAgICAgIGNvbnN0IHRleHQgPSB0ZW1wbGF0ZUpzb24udGV4dENvbnRlbnQgfHwgJyc7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dCh0ZXh0KTtcbiAgICAgICAgc2hvd1RvYXN0KCdUZW1wbGF0ZSBjb3BpXHUwMEU5ICEnKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbaW1wb3J0XSBjb3B5IGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdCgnRXJyZXVyIGNvcGllJyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBjb3B5UHJvbXB0QnRuPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghaW1wb3J0QWlQcm9tcHQpIHJldHVybjtcbiAgICAgIGNvbnN0IHRleHQgPSBpbXBvcnRBaVByb21wdC50ZXh0Q29udGVudCB8fCAnJztcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KHRleHQpO1xuICAgICAgICBzaG93VG9hc3QoJ1Byb21wdCBjb3BpXHUwMEU5ICEnKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbaW1wb3J0XSBjb3B5IHByb21wdCBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoJ0VycmV1ciBjb3BpZScpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gRGVsZXRlIHBhZ2UgbW9kYWwgbGlzdGVuZXJzXG4gICAgZGVsZXRlUGFnZUNhbmNlbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZURlbGV0ZVBhZ2VNb2RhbCk7XG4gICAgZGVsZXRlUGFnZUNvbmZpcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZXhlY3V0ZURlbGV0ZVBhZ2UpO1xuICAgIGRlbGV0ZVBhZ2VNb2RhbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgaWYgKGUudGFyZ2V0ID09PSBkZWxldGVQYWdlTW9kYWwpIGNsb3NlRGVsZXRlUGFnZU1vZGFsKCk7XG4gICAgfSk7XG5cbiAgICBibG9ja0xpYnJhcnlUb2dnbGU/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIC8vIFNpIHVuIGdyb3VwZSBlc3Qgc1x1MDBFOWxlY3Rpb25uXHUwMEU5LCBsJ2Fqb3V0IHZpYSBsYSBiaWJsaW90aFx1MDBFOHF1ZSBkb2l0IGNpYmxlciBjZSBncm91cGUuXG4gICAgICAvLyAoTGEgZHJvcHpvbmUgZGUgZ3JvdXBlIHV0aWxpc2UgZFx1MDBFOWpcdTAwRTAgYHBlbmRpbmdHcm91cElkRm9yTmV3QmxvY2tgLilcbiAgICAgIGlmICghYmxvY2tMaWJyYXJ5T3Blbikge1xuICAgICAgICBjb25zdCBhY3RpdmUgPSBnZXRBY3RpdmVCbG9jaygpO1xuICAgICAgICBjb25zdCB0eXBlID0gKGFjdGl2ZT8udHlwZSB8fCAnJykudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgaWYgKHR5cGUgPT09ICdncm91cGUnIHx8IHR5cGUgPT09ICdncm91cCcpIHtcbiAgICAgICAgICBwZW5kaW5nR3JvdXBJZEZvck5ld0Jsb2NrID0gYWN0aXZlLmlkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlbmRpbmdHcm91cElkRm9yTmV3QmxvY2sgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0b2dnbGVCbG9ja0xpYnJhcnkoKTtcbiAgICB9KTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgaWYgKCFibG9ja0xpYnJhcnlPcGVuKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChcbiAgICAgICAgYmxvY2tMaWJyYXJ5Py5jb250YWlucyhldmVudC50YXJnZXQpIHx8XG4gICAgICAgIGJsb2NrTGlicmFyeVRvZ2dsZT8uY29udGFpbnMoZXZlbnQudGFyZ2V0KVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNsb3NlQmxvY2tMaWJyYXJ5KCk7XG4gICAgfSk7XG4gICAgYmxvY2tBZGRCdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBjb25zdCB0eXBlID0gYnV0dG9uLmRhdGFzZXQuYmxvY2tBZGQ7XG4gICAgICAgIGFkZEJsb2NrRnJvbUxpYnJhcnkodHlwZSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBibG9ja0RlbGV0ZUNhbmNlbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjbG9zZUJsb2NrRGVsZXRlTW9kYWwoKTtcbiAgICB9KTtcbiAgICBibG9ja0RlbGV0ZUNvbmZpcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgaWYgKHBlbmRpbmdEZWxldGVCbG9ja0lkKSB7XG4gICAgICAgIGRlbGV0ZUJsb2NrQnlJZChwZW5kaW5nRGVsZXRlQmxvY2tJZCk7XG4gICAgICB9XG4gICAgICBjbG9zZUJsb2NrRGVsZXRlTW9kYWwoKTtcbiAgICB9KTtcbiAgICBibG9ja0RlbGV0ZU1vZGFsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gYmxvY2tEZWxldGVNb2RhbCkge1xuICAgICAgICBjbG9zZUJsb2NrRGVsZXRlTW9kYWwoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBibG9ja0Zvcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQ7XG4gICAgICBpZiAoIXRhcmdldCB8fCAhdGFyZ2V0Lm5hbWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHRhcmdldC5uYW1lLnN0YXJ0c1dpdGgoJ2NvbGxlY3Rpb24taXRlbS0nKSkge1xuICAgICAgICBzYXZlQ29sbGVjdGlvbkNhcmRPdmVycmlkZXMoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gTWluaSBwcmV2aWV3IHBvdXIgZ3JvdXBlXG4gICAgICBpZiAodGFyZ2V0Lm5hbWUgPT09ICdncm91cC1jb2x1bW5zLW1vYmlsZScgfHwgdGFyZ2V0Lm5hbWUgPT09ICdncm91cC1jb2x1bW5zLWRlc2t0b3AnKSB7XG4gICAgICAgIGNvbnN0IG1vYmlsZVZhbHVlID1cbiAgICAgICAgICBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJncm91cC1jb2x1bW5zLW1vYmlsZVwiXScpPy52YWx1ZSB8fCAnMSc7XG4gICAgICAgIGNvbnN0IGRlc2t0b3BWYWx1ZSA9XG4gICAgICAgICAgYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZ3JvdXAtY29sdW1ucy1kZXNrdG9wXCJdJyk/LnZhbHVlIHx8ICczJztcbiAgICAgICAgdXBkYXRlR3JvdXBNaW5pUHJldmlldyhtb2JpbGVWYWx1ZSwgZGVza3RvcFZhbHVlKTtcbiAgICAgIH1cbiAgICAgIC8vIE1pbmkgcHJldmlldyBwb3VyIGNvbGxlY3Rpb25cbiAgICAgIGlmICh0YXJnZXQubmFtZSA9PT0gJ2NvbGxlY3Rpb24tY29sdW1ucy1tb2JpbGUnIHx8IHRhcmdldC5uYW1lID09PSAnY29sbGVjdGlvbi1jb2x1bW5zLWRlc2t0b3AnKSB7XG4gICAgICAgIGNvbnN0IG1vYmlsZVZhbHVlID1cbiAgICAgICAgICBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJjb2xsZWN0aW9uLWNvbHVtbnMtbW9iaWxlXCJdJyk/LnZhbHVlIHx8ICcxJztcbiAgICAgICAgY29uc3QgZGVza3RvcFZhbHVlID1cbiAgICAgICAgICBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJjb2xsZWN0aW9uLWNvbHVtbnMtZGVza3RvcFwiXScpPy52YWx1ZSB8fCAnMyc7XG4gICAgICAgIHVwZGF0ZUNvbGxlY3Rpb25NaW5pUHJldmlldyhtb2JpbGVWYWx1ZSwgZGVza3RvcFZhbHVlKTtcbiAgICAgIH1cbiAgICAgIC8vIERcdTAwRTl0ZWN0aW9uIHNpIG9uIGVzdCBkYW5zIGxlIHBhbmVsIEFwcGFyZW5jZSBcdTIxOTIgYXV0by1zYXZlXG4gICAgICBjb25zdCBwYW5lbCA9IHRhcmdldC5jbG9zZXN0KCdbZGF0YS1ibG9jay1wYW5lbF0nKTtcbiAgICAgIGlmIChwYW5lbCAmJiBwYW5lbC5kYXRhc2V0LmJsb2NrUGFuZWwgPT09ICdhcHBlYXJhbmNlJykge1xuICAgICAgICAvLyBBdXRvLXNhdmUgKyByZWZyZXNoIHByZXZpZXcgcG91ciBsJ2FwcGFyZW5jZVxuICAgICAgICBjb25zdCBibG9jayA9IGdldEFjdGl2ZUJsb2NrKCk7XG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IGdldEJsb2NrRm9ybUNvbmZpZyhibG9jayk7XG4gICAgICAgIGlmIChibG9jayAmJiBjb25maWcpIHtcbiAgICAgICAgICBjb25zdCB2YWx1ZXMgPSBjb2xsZWN0Rm9ybVZhbHVlcyhjb25maWcpO1xuICAgICAgICAgIGhhbmRsZUFwcGVhcmFuY2VDaGFuZ2UoYmxvY2suaWQsIHZhbHVlcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICAvLyBcdTAwQzlnYWxlbWVudCBzdXIgJ2NoYW5nZScgcG91ciBsZXMgc2VsZWN0c1xuICAgIGJsb2NrRm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQ7XG4gICAgICBpZiAoIXRhcmdldCB8fCAhdGFyZ2V0Lm5hbWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHRhcmdldC5uYW1lLnN0YXJ0c1dpdGgoJ2NvbGxlY3Rpb24taXRlbS0nKSkge1xuICAgICAgICBzYXZlQ29sbGVjdGlvbkNhcmRPdmVycmlkZXMoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gTWlzZSBcdTAwRTAgam91ciBkdSBwcmV2aWV3IGRlIGNvdWxldXIgcG91ciBsZXMgY29sb3Igc2VsZWN0c1xuICAgICAgaWYgKHRhcmdldC5oYXNBdHRyaWJ1dGUoJ2RhdGEtY29sb3Itc2VsZWN0JykpIHtcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRPcHRpb24gPSB0YXJnZXQub3B0aW9uc1t0YXJnZXQuc2VsZWN0ZWRJbmRleF07XG4gICAgICAgIGNvbnN0IGNvbG9yID0gc2VsZWN0ZWRPcHRpb24/LmRhdGFzZXQ/LmNvbG9yIHx8ICcjZmZmZmZmJztcbiAgICAgICAgY29uc3QgY29sb3JQcmV2aWV3ID0gdGFyZ2V0LmNsb3Nlc3QoJy5yZWxhdGl2ZScpPy5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xvci1wcmV2aWV3XScpO1xuICAgICAgICBpZiAoY29sb3JQcmV2aWV3KSB7XG4gICAgICAgICAgaWYgKGNvbG9yID09PSAndHJhbnNwYXJlbnQnKSB7XG4gICAgICAgICAgICBjb2xvclByZXZpZXcuc3R5bGUuYmFja2dyb3VuZCA9IFRSQU5TUEFSRU5UX1BBVFRFUk47XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbG9yUHJldmlldy5zdHlsZS5iYWNrZ3JvdW5kID0gY29sb3I7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb25zdCBwYW5lbCA9IHRhcmdldC5jbG9zZXN0KCdbZGF0YS1ibG9jay1wYW5lbF0nKTtcbiAgICAgIGlmIChwYW5lbCAmJiBwYW5lbC5kYXRhc2V0LmJsb2NrUGFuZWwgPT09ICdhcHBlYXJhbmNlJykge1xuICAgICAgICBjb25zdCBibG9jayA9IGdldEFjdGl2ZUJsb2NrKCk7XG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IGdldEJsb2NrRm9ybUNvbmZpZyhibG9jayk7XG4gICAgICAgIGlmIChibG9jayAmJiBjb25maWcpIHtcbiAgICAgICAgICBjb25zdCB2YWx1ZXMgPSBjb2xsZWN0Rm9ybVZhbHVlcyhjb25maWcpO1xuICAgICAgICAgIGhhbmRsZUFwcGVhcmFuY2VDaGFuZ2UoYmxvY2suaWQsIHZhbHVlcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICBjb2xsZWN0aW9uU2VsZWN0Py5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICAgIHN5bmNDb2xsZWN0aW9uU2VsZWN0aW9uSW5mbyh0YXJnZXQ/LnZhbHVlIHx8ICcnKTtcbiAgICAgIGNvbnN0IGJsb2NrID0gZ2V0QWN0aXZlQ29sbGVjdGlvbkdyaWRCbG9jaygpO1xuICAgICAgaWYgKGJsb2NrKSB7XG4gICAgICAgIGJsb2NrLmNvbGxlY3Rpb25JZCA9IHRhcmdldD8udmFsdWUgfHwgJyc7XG4gICAgICAgIGJsb2NrLnNldHRpbmdzID0geyAuLi4oYmxvY2suc2V0dGluZ3MgfHwge30pLCBjb2xsZWN0aW9uSWQ6IGJsb2NrLmNvbGxlY3Rpb25JZCB9O1xuICAgICAgICBlbnN1cmVDb2xsZWN0aW9uQ2FyZEVkaXRvclJlYWR5KGJsb2NrKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBjb2xsZWN0aW9uQ2FyZEl0ZW1TZWxlY3Q/LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgICAgIGNvbnN0IGJsb2NrID0gZ2V0QWN0aXZlQ29sbGVjdGlvbkdyaWRCbG9jaygpO1xuICAgICAgaWYgKCFibG9jaykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBpdGVtSWQgPSBnZXRTZWxlY3RlZENvbGxlY3Rpb25DYXJkSXRlbUlkKCk7XG4gICAgICBwb3B1bGF0ZUNvbGxlY3Rpb25DYXJkT3ZlcnJpZGVGaWVsZHMoYmxvY2ssIGl0ZW1JZCk7XG4gICAgfSk7XG4gICAgY29sbGVjdGlvbkNhcmRSZXNldEJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBzYXZlQ29sbGVjdGlvbkNhcmRPdmVycmlkZXMoeyByZXNldDogdHJ1ZSB9KTtcbiAgICB9KTtcbiAgICBibG9ja0Zvcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGhhbmRsZUJsb2NrRm9ybVN1Ym1pdCk7XG4gICAgYmxvY2tGb3JtQ2FuY2VsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGNvbnN0IGJsb2NrID0gZ2V0QWN0aXZlQmxvY2soKTtcbiAgICAgIGlmIChibG9jaykge1xuICAgICAgICBwb3B1bGF0ZUJsb2NrRm9ybShibG9jayk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKHByZXZpZXdWaWV3QnV0dG9ucy5sZW5ndGggPiAwKSB7XG4gICAgICBwcmV2aWV3Vmlld0J1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICBjb25zdCB0YXJnZXRWaWV3ID0gYnV0dG9uLmRhdGFzZXQucHJldmlld1ZpZXcgfHwgJ2Rlc2t0b3AnO1xuICAgICAgICAgIHNldFByZXZpZXdWaWV3KHRhcmdldFZpZXcpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgc2V0UHJldmlld1ZpZXcoJ2Rlc2t0b3AnKTtcbiAgICB9XG5cdCAgICBwcmV2aWV3RnJhbWU/LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoKSA9PiB7XG5cdCAgICAgIHByZXZpZXdSZWFkeSA9IHRydWU7XG5cdCAgICAgIHVwZGF0ZVByZXZpZXdTdGF0dXMoJ1x1MDBDMCBqb3VyJyk7XG5cdCAgICAgIGFwcGx5UHJldmlld0hpZ2hsaWdodChhY3RpdmVCbG9ja0lkKTtcblxuXHQgICAgICBjb25zdCBkb2MgPSBwcmV2aWV3RnJhbWU/LmNvbnRlbnREb2N1bWVudDtcblx0ICAgICAgaWYgKCFkb2MgfHwgIWN1cnJlbnRQYWdlKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cdCAgICAgIGlmIChkb2MuZG9jdW1lbnRFbGVtZW50LmRhdGFzZXQucmF3ZGl0UHJldmlld1NlbGVjdEJvdW5kID09PSAndHJ1ZScpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cblx0ICAgICAgZG9jLmRvY3VtZW50RWxlbWVudC5kYXRhc2V0LnJhd2RpdFByZXZpZXdTZWxlY3RCb3VuZCA9ICd0cnVlJztcblxuXHQgICAgICAvLyBTdHlsZXMgbFx1MDBFOWdlcnMgcG91ciByZW5kcmUgbCdpbnRlcmFjdGlvbiBcdTAwRTl2aWRlbnRlIChob3ZlciArIGN1cnNldXIpXG5cdCAgICAgIGlmICghZG9jLmdldEVsZW1lbnRCeUlkKCdyYXdkaXQtcHJldmlldy1zZWxlY3Qtc3R5bGUnKSkge1xuXHQgICAgICAgIGNvbnN0IHN0eWxlID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG5cdCAgICAgICAgc3R5bGUuaWQgPSAncmF3ZGl0LXByZXZpZXctc2VsZWN0LXN0eWxlJztcblx0ICAgICAgICBzdHlsZS50ZXh0Q29udGVudCA9IGBcblx0ICAgICAgICAgIFtkYXRhLXByZXZpZXctYmxvY2tdeyBjdXJzb3I6cG9pbnRlcjsgfVxuXHQgICAgICAgICAgW2RhdGEtcHJldmlldy1ibG9ja106aG92ZXJ7IG91dGxpbmU6MnB4IHNvbGlkIHZhcigtLWNvbG9yLWFjY2VudCwgIzlDNkJGRik7IG91dGxpbmUtb2Zmc2V0OjJweDsgfVxuXHQgICAgICAgIGA7XG5cdCAgICAgICAgZG9jLmhlYWQ/LmFwcGVuZENoaWxkKHN0eWxlKTtcblx0ICAgICAgfVxuXG5cdCAgICAgIGNvbnN0IGlzR3JvdXBUeXBlID0gKGJsb2NrKSA9PiB7XG5cdCAgICAgICAgY29uc3QgdCA9IChibG9jaz8udHlwZSB8fCAnJykudG9Mb3dlckNhc2UoKTtcblx0ICAgICAgICByZXR1cm4gdCA9PT0gJ2dyb3VwZScgfHwgdCA9PT0gJ2dyb3VwJyB8fCB0ID09PSAnc2VjdGlvbnMnIHx8IHQgPT09ICdncmlkJztcblx0ICAgICAgfTtcblx0ICAgICAgY29uc3QgZ2V0UGFyZW50SWRGb3JCbG9jayA9IChibG9ja0lkKSA9PiB7XG5cdCAgICAgICAgaWYgKCFjdXJyZW50UGFnZSB8fCAhYmxvY2tJZCkgcmV0dXJuIG51bGw7XG5cdCAgICAgICAgaWYgKChjdXJyZW50UGFnZS5ibG9ja3MgfHwgW10pLnNvbWUoKGIpID0+IGIuaWQgPT09IGJsb2NrSWQpKSB7XG5cdCAgICAgICAgICByZXR1cm4gbnVsbDtcblx0ICAgICAgICB9XG5cdCAgICAgICAgZm9yIChjb25zdCBiIG9mIGN1cnJlbnRQYWdlLmJsb2NrcyB8fCBbXSkge1xuXHQgICAgICAgICAgaWYgKCFpc0dyb3VwVHlwZShiKSB8fCAhQXJyYXkuaXNBcnJheShiLmNoaWxkcmVuKSkgY29udGludWU7XG5cdCAgICAgICAgICBpZiAoYi5jaGlsZHJlbi5zb21lKChjaGlsZCkgPT4gY2hpbGQuaWQgPT09IGJsb2NrSWQpKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBiLmlkO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gbnVsbDtcblx0ICAgICAgfTtcblxuXHQgICAgICBkb2MuYWRkRXZlbnRMaXN0ZW5lcihcblx0ICAgICAgICAnY2xpY2snLFxuXHQgICAgICAgIChldmVudCkgPT4ge1xuXHQgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuXHQgICAgICAgICAgY29uc3QgZWwgPSB0YXJnZXQ/LmNsb3Nlc3Q/LignW2RhdGEtcHJldmlldy1ibG9ja10nKTtcblx0ICAgICAgICAgIGNvbnN0IGJsb2NrSWQgPSBlbD8uZ2V0QXR0cmlidXRlPy4oJ2RhdGEtcHJldmlldy1ibG9jaycpIHx8ICcnO1xuXHQgICAgICAgICAgaWYgKCFibG9ja0lkKSByZXR1cm47XG5cdCAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHQgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdCAgICAgICAgICBldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24/LigpO1xuXHQgICAgICAgICAgY29uc3QgcGFyZW50SWQgPSBnZXRQYXJlbnRJZEZvckJsb2NrKGJsb2NrSWQpO1xuXHQgICAgICAgICAgc2V0QWN0aXZlQmxvY2soYmxvY2tJZCwgcGFyZW50SWQpO1xuXHQgICAgICAgIH0sXG5cdCAgICAgICAgdHJ1ZSxcblx0ICAgICAgKTtcblx0ICAgIH0pO1xuICAgIHByZXZpZXdPcGVuQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IHByZXZpZXdXaW5kb3cgPSB3aW5kb3cub3BlbignJywgJ19ibGFuaycpO1xuICAgICAgaWYgKCFwcmV2aWV3V2luZG93KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHByZXZpZXdXaW5kb3cub3BlbmVyID0gbnVsbDtcbiAgICAgIGNvbnN0IGRvYyA9IHByZXZpZXdXaW5kb3cuZG9jdW1lbnQ7XG4gICAgICBkb2Mub3BlbigpO1xuICAgICAgZG9jLndyaXRlKGxhdGVzdFByZXZpZXdIdG1sIHx8IGdldExvYWRpbmdQcmV2aWV3SHRtbCgpKTtcbiAgICAgIGRvYy5jbG9zZSgpO1xuICAgIH0pO1xuXG4gICAgLy8gU0VPIHBhbmVsIGxvZ2ljXG4gICAgY29uc3QgdG9nZ2xlU2VvUGFuZWwgPSAoc2hvdykgPT4ge1xuICAgICAgaWYgKCFzZW9QYW5lbCkgcmV0dXJuO1xuICAgICAgaWYgKHNob3cpIHtcbiAgICAgICAgc2VvUGFuZWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIC8vIFBvcHVsYXRlIGZpZWxkcyB3aXRoIGN1cnJlbnQgcGFnZSBTRU8gZGF0YVxuICAgICAgICBpZiAoY3VycmVudFBhZ2UpIHtcbiAgICAgICAgICBzZW9UaXRsZUlucHV0ICYmIChzZW9UaXRsZUlucHV0LnZhbHVlID0gY3VycmVudFBhZ2Uuc2VvPy50aXRsZSB8fCAnJyk7XG4gICAgICAgICAgc2VvRGVzY3JpcHRpb25JbnB1dCAmJiAoc2VvRGVzY3JpcHRpb25JbnB1dC52YWx1ZSA9IGN1cnJlbnRQYWdlLnNlbz8uZGVzY3JpcHRpb24gfHwgJycpO1xuICAgICAgICAgIC8vIGluZGV4ZWQ6IHRydWUgYnkgZGVmYXVsdCBpZiBub3QgZXhwbGljaXRseSBzZXQgdG8gZmFsc2VcbiAgICAgICAgICBzZW9JbmRleGVkQ2hlY2tib3ggJiYgKHNlb0luZGV4ZWRDaGVja2JveC5jaGVja2VkID0gY3VycmVudFBhZ2Uuc2VvPy5pbmRleGVkICE9PSBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNlb1BhbmVsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3Qgc2V0U2VvRmVlZGJhY2sgPSAobWVzc2FnZSwgdG9uZSA9ICdtdXRlZCcpID0+IHtcbiAgICAgIGlmICghc2VvRmVlZGJhY2spIHJldHVybjtcbiAgICAgIGNvbnN0IGNvbG9yID0gdG9uZSA9PT0gJ3N1Y2Nlc3MnID8gJ3RleHQtZW1lcmFsZC02MDAnIDogdG9uZSA9PT0gJ2Vycm9yJyA/ICd0ZXh0LXJvc2UtNjAwJyA6ICd0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICBzZW9GZWVkYmFjay50ZXh0Q29udGVudCA9IG1lc3NhZ2UgfHwgJyc7XG4gICAgICBzZW9GZWVkYmFjay5jbGFzc05hbWUgPSBgdGV4dC1zbSAke2NvbG9yfWA7XG4gICAgfTtcbiAgICBzZW9Ub2dnbGVCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgaXNWaXNpYmxlID0gc2VvUGFuZWwgJiYgIXNlb1BhbmVsLmNsYXNzTGlzdC5jb250YWlucygnaGlkZGVuJyk7XG4gICAgICB0b2dnbGVTZW9QYW5lbCghaXNWaXNpYmxlKTtcbiAgICB9KTtcbiAgICBzZW9DbG9zZUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0b2dnbGVTZW9QYW5lbChmYWxzZSkpO1xuICAgIHNlb0Zvcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmICghY3VycmVudFBhZ2UpIHtcbiAgICAgICAgc2V0U2VvRmVlZGJhY2soJ0F1Y3VuZSBwYWdlIGFjdGl2ZS4nLCAnZXJyb3InKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2VvU2F2ZUJ1dHRvbiAmJiAoc2VvU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWUpO1xuICAgICAgc2V0U2VvRmVlZGJhY2soJycpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgc2VvRGF0YSA9IHtcbiAgICAgICAgICB0aXRsZTogKHNlb1RpdGxlSW5wdXQ/LnZhbHVlIHx8ICcnKS50cmltKCksXG4gICAgICAgICAgZGVzY3JpcHRpb246IChzZW9EZXNjcmlwdGlvbklucHV0Py52YWx1ZSB8fCAnJykudHJpbSgpLFxuICAgICAgICAgIGluZGV4ZWQ6IHNlb0luZGV4ZWRDaGVja2JveD8uY2hlY2tlZCA/PyB0cnVlLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCB1cGRhdGVkUGFnZSA9IHsgLi4uY3VycmVudFBhZ2UsIHNlbzogc2VvRGF0YSB9O1xuICAgICAgICBjb25zdCBzYXZlZCA9IGF3YWl0IHNhdmVQYWdlVG9TZXJ2ZXIodXBkYXRlZFBhZ2UpO1xuICAgICAgICBpZiAoc2F2ZWQpIHtcbiAgICAgICAgICBjdXJyZW50UGFnZSA9IHNhdmVkO1xuICAgICAgICAgIHNldFNlb0ZlZWRiYWNrKCdTRU8gZW5yZWdpc3RyXHUwMEU5LicsICdzdWNjZXNzJyk7XG4gICAgICAgICAgc2hvd1RvYXN0KCdTRU8gbWlzIFx1MDBFMCBqb3VyJyk7XG4gICAgICAgICAgcmVmcmVzaFByZXZpZXcoY3VycmVudFBhZ2UpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW3Nlb10gc2F2ZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzZXRTZW9GZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZGUgbGEgc2F1dmVnYXJkZS4nLCAnZXJyb3InKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNlb1NhdmVCdXR0b24gJiYgKHNlb1NhdmVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBjb25zdCBzeW5jUGFnZUFjY2Vzc2liaWxpdHlGaWVsZHMgPSAoKSA9PiB7XG4gICAgICBpZiAoIXBhZ2VBY2Nlc3NpYmlsaXR5TmF2Q2hlY2tib3ggJiYgIXBhZ2VBY2Nlc3NpYmlsaXR5TWFpbklucHV0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghY3VycmVudFBhZ2UpIHtcbiAgICAgICAgcGFnZUFjY2Vzc2liaWxpdHlOYXZDaGVja2JveCAmJiAocGFnZUFjY2Vzc2liaWxpdHlOYXZDaGVja2JveC5jaGVja2VkID0gdHJ1ZSk7XG4gICAgICAgIHBhZ2VBY2Nlc3NpYmlsaXR5TWFpbklucHV0ICYmIChwYWdlQWNjZXNzaWJpbGl0eU1haW5JbnB1dC52YWx1ZSA9ICcnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHBhZ2VBY2Nlc3NpYmlsaXR5TmF2Q2hlY2tib3gpIHtcbiAgICAgICAgcGFnZUFjY2Vzc2liaWxpdHlOYXZDaGVja2JveC5jaGVja2VkID1cbiAgICAgICAgICBjdXJyZW50UGFnZS5hY2Nlc3NpYmlsaXR5Py5zaG93SW5NYWluTmF2ICE9PSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmIChwYWdlQWNjZXNzaWJpbGl0eU1haW5JbnB1dCkge1xuICAgICAgICBwYWdlQWNjZXNzaWJpbGl0eU1haW5JbnB1dC52YWx1ZSA9IGN1cnJlbnRQYWdlLmFjY2Vzc2liaWxpdHk/Lm1haW5MYWJlbCB8fCAnJztcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgdG9nZ2xlUGFnZUFjY2Vzc2liaWxpdHlQYW5lbCA9IChzaG93KSA9PiB7XG4gICAgICBpZiAoIXBhZ2VBY2Nlc3NpYmlsaXR5UGFuZWwpIHJldHVybjtcbiAgICAgIGlmIChzaG93KSB7XG4gICAgICAgIHN5bmNQYWdlQWNjZXNzaWJpbGl0eUZpZWxkcygpO1xuICAgICAgICBwYWdlQWNjZXNzaWJpbGl0eVBhbmVsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFnZUFjY2Vzc2liaWxpdHlQYW5lbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3Qgc2V0UGFnZUFjY2Vzc2liaWxpdHlGZWVkYmFjayA9IChtZXNzYWdlLCB0b25lID0gJ211dGVkJykgPT4ge1xuICAgICAgaWYgKCFwYWdlQWNjZXNzaWJpbGl0eUZlZWRiYWNrKSByZXR1cm47XG4gICAgICBjb25zdCBjb2xvciA9XG4gICAgICAgIHRvbmUgPT09ICdzdWNjZXNzJ1xuICAgICAgICAgID8gJ3RleHQtZW1lcmFsZC02MDAnXG4gICAgICAgICAgOiB0b25lID09PSAnZXJyb3InXG4gICAgICAgICAgICA/ICd0ZXh0LXJvc2UtNjAwJ1xuICAgICAgICAgICAgOiAndGV4dC1zbGF0ZS01MDAnO1xuICAgICAgcGFnZUFjY2Vzc2liaWxpdHlGZWVkYmFjay50ZXh0Q29udGVudCA9IG1lc3NhZ2UgfHwgJyc7XG4gICAgICBwYWdlQWNjZXNzaWJpbGl0eUZlZWRiYWNrLmNsYXNzTmFtZSA9IGB0ZXh0LXNtICR7Y29sb3J9YDtcbiAgICB9O1xuXG4gICAgcGFnZUFjY2Vzc2liaWxpdHlUb2dnbGVCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgaXNWaXNpYmxlID1cbiAgICAgICAgcGFnZUFjY2Vzc2liaWxpdHlQYW5lbCAmJiAhcGFnZUFjY2Vzc2liaWxpdHlQYW5lbC5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpO1xuICAgICAgdG9nZ2xlUGFnZUFjY2Vzc2liaWxpdHlQYW5lbCghaXNWaXNpYmxlKTtcbiAgICB9KTtcbiAgICBwYWdlQWNjZXNzaWJpbGl0eUNsb3NlQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+XG4gICAgICB0b2dnbGVQYWdlQWNjZXNzaWJpbGl0eVBhbmVsKGZhbHNlKSxcbiAgICApO1xuXG4gICAgcGFnZUFjY2Vzc2liaWxpdHlGb3JtPy5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlKSB7XG4gICAgICAgIHNldFBhZ2VBY2Nlc3NpYmlsaXR5RmVlZGJhY2soJ0F1Y3VuZSBwYWdlIGFjdGl2ZS4nLCAnZXJyb3InKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcGFnZUFjY2Vzc2liaWxpdHlTYXZlQnV0dG9uICYmIChwYWdlQWNjZXNzaWJpbGl0eVNhdmVCdXR0b24uZGlzYWJsZWQgPSB0cnVlKTtcbiAgICAgIHNldFBhZ2VBY2Nlc3NpYmlsaXR5RmVlZGJhY2soJycpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgYWNjZXNzaWJpbGl0eURhdGEgPSB7XG4gICAgICAgICAgc2hvd0luTWFpbk5hdjogcGFnZUFjY2Vzc2liaWxpdHlOYXZDaGVja2JveD8uY2hlY2tlZCA/PyB0cnVlLFxuICAgICAgICAgIG1haW5MYWJlbDogKHBhZ2VBY2Nlc3NpYmlsaXR5TWFpbklucHV0Py52YWx1ZSB8fCAnJykudHJpbSgpLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCB1cGRhdGVkUGFnZSA9IHtcbiAgICAgICAgICAuLi5jdXJyZW50UGFnZSxcbiAgICAgICAgICBhY2Nlc3NpYmlsaXR5OiBhY2Nlc3NpYmlsaXR5RGF0YSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3Qgc2F2ZWQgPSBhd2FpdCBzYXZlUGFnZVRvU2VydmVyKHVwZGF0ZWRQYWdlKTtcbiAgICAgICAgaWYgKHNhdmVkKSB7XG4gICAgICAgICAgY3VycmVudFBhZ2UgPSBzYXZlZDtcbiAgICAgICAgICBzeW5jUGFnZUFjY2Vzc2liaWxpdHlGaWVsZHMoKTtcbiAgICAgICAgICBzZXRQYWdlQWNjZXNzaWJpbGl0eUZlZWRiYWNrKCdBY2Nlc3NpYmlsaXRcdTAwRTkgZW5yZWdpc3RyXHUwMEU5ZS4nLCAnc3VjY2VzcycpO1xuICAgICAgICAgIHNob3dUb2FzdCgnQWNjZXNzaWJpbGl0XHUwMEU5IG1pc2UgXHUwMEUwIGpvdXInKTtcbiAgICAgICAgICByZW5kZXJQYWdlTGlzdHMocGFnZXMsIGFjdGl2ZVBhZ2VJZCk7XG4gICAgICAgICAgcmVmcmVzaFByZXZpZXcoY3VycmVudFBhZ2UpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2FjY2Vzc2liaWxpdHldIHNhdmUgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2V0UGFnZUFjY2Vzc2liaWxpdHlGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZGUgbGEgc2F1dmVnYXJkZS4nLCAnZXJyb3InKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHBhZ2VBY2Nlc3NpYmlsaXR5U2F2ZUJ1dHRvbiAmJiAocGFnZUFjY2Vzc2liaWxpdHlTYXZlQnV0dG9uLmRpc2FibGVkID0gZmFsc2UpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gUGFnZSBwcm9wZXJ0aWVzIHBhbmVsIGxvZ2ljXG4gICAgY29uc3QgZ2V0UGFnZVNsdWdTZWdtZW50ID0gKHNsdWdWYWx1ZSkgPT4ge1xuICAgICAgY29uc3QgcmF3ID0gdHlwZW9mIHNsdWdWYWx1ZSA9PT0gJ3N0cmluZycgPyBzbHVnVmFsdWUudHJpbSgpIDogJyc7XG4gICAgICBpZiAoIXJhdyB8fCByYXcgPT09ICcvJykge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgICB9XG4gICAgICBjb25zdCBub3JtYWxpemVkU2VwYXJhdG9ycyA9IHJhdy5yZXBsYWNlKC9cXFxcL2csICcvJyk7XG4gICAgICBjb25zdCB0cmltbWVkID0gbm9ybWFsaXplZFNlcGFyYXRvcnMucmVwbGFjZSgvXlxcLyt8XFwvKyQvZywgJycpO1xuICAgICAgaWYgKCF0cmltbWVkKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICAgIH1cbiAgICAgIGNvbnN0IHBhcnRzID0gdHJpbW1lZC5zcGxpdCgnLycpLmZpbHRlcihCb29sZWFuKTtcbiAgICAgIHJldHVybiBwYXJ0c1twYXJ0cy5sZW5ndGggLSAxXSB8fCAnJztcbiAgICB9O1xuICAgIGNvbnN0IGJ1aWxkU2x1Z0Zyb21QYXJlbnRBbmRTZWdtZW50ID0gKHBhcmVudFNsdWdWYWx1ZSwgc2VnbWVudFZhbHVlKSA9PiB7XG4gICAgICBjb25zdCBub3JtYWxpemVkU2VnbWVudCA9IHdvcmtzcGFjZVNsdWdpZnkoKHNlZ21lbnRWYWx1ZSB8fCAnJykudHJpbSgpKTtcbiAgICAgIGlmICghbm9ybWFsaXplZFNlZ21lbnQpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfVxuICAgICAgY29uc3QgcGFyZW50U2x1ZyA9IG5vcm1hbGl6ZVBhZ2VTbHVnKHBhcmVudFNsdWdWYWx1ZSB8fCAnLycpO1xuICAgICAgaWYgKCFwYXJlbnRTbHVnIHx8IHBhcmVudFNsdWcgPT09ICcvJykge1xuICAgICAgICByZXR1cm4gYC8ke25vcm1hbGl6ZWRTZWdtZW50fWA7XG4gICAgICB9XG4gICAgICByZXR1cm4gbm9ybWFsaXplUGFnZVNsdWcoYCR7cGFyZW50U2x1Z30vJHtub3JtYWxpemVkU2VnbWVudH1gKTtcbiAgICB9O1xuICAgIGNvbnN0IGdldERlc2NlbmRhbnRJZHMgPSAocGFnZXNMaXN0LCByb290SWQpID0+IHtcbiAgICAgIGNvbnN0IGNoaWxkcmVuQnlQYXJlbnQgPSBuZXcgTWFwKCk7XG4gICAgICAocGFnZXNMaXN0IHx8IFtdKS5mb3JFYWNoKChwYWdlKSA9PiB7XG4gICAgICAgIGNvbnN0IHBhcmVudElkID1cbiAgICAgICAgICBwYWdlPy5wYXJlbnRJZCAmJiB0eXBlb2YgcGFnZS5wYXJlbnRJZCA9PT0gJ3N0cmluZycgJiYgcGFnZS5wYXJlbnRJZC50cmltKClcbiAgICAgICAgICAgID8gcGFnZS5wYXJlbnRJZC50cmltKClcbiAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgaWYgKCFjaGlsZHJlbkJ5UGFyZW50LmhhcyhwYXJlbnRJZCkpIHtcbiAgICAgICAgICBjaGlsZHJlbkJ5UGFyZW50LnNldChwYXJlbnRJZCwgW10pO1xuICAgICAgICB9XG4gICAgICAgIGNoaWxkcmVuQnlQYXJlbnQuZ2V0KHBhcmVudElkKS5wdXNoKHBhZ2UuaWQpO1xuICAgICAgfSk7XG4gICAgICBjb25zdCB2aXNpdGVkID0gbmV3IFNldCgpO1xuICAgICAgY29uc3Qgc3RhY2sgPSBbcm9vdElkXTtcbiAgICAgIHdoaWxlIChzdGFjay5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnQgPSBzdGFjay5wb3AoKTtcbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBjaGlsZHJlbkJ5UGFyZW50LmdldChjdXJyZW50KSB8fCBbXTtcbiAgICAgICAgY2hpbGRyZW4uZm9yRWFjaCgoY2hpbGRJZCkgPT4ge1xuICAgICAgICAgIGlmICghY2hpbGRJZCB8fCB2aXNpdGVkLmhhcyhjaGlsZElkKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2aXNpdGVkLmFkZChjaGlsZElkKTtcbiAgICAgICAgICBzdGFjay5wdXNoKGNoaWxkSWQpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2aXNpdGVkO1xuICAgIH07XG4gICAgY29uc3QgcmVuZGVyUGFyZW50U2VsZWN0T3B0aW9ucyA9ICh7IHBhZ2VzTGlzdCwgY3VycmVudCB9KSA9PiB7XG4gICAgICBpZiAoIXBhZ2VQYXJlbnRTZWxlY3QpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgY3VycmVudElkID0gY3VycmVudD8uaWQgfHwgJyc7XG4gICAgICBjb25zdCBmb3JiaWRkZW4gPSBjdXJyZW50SWQgPyBnZXREZXNjZW5kYW50SWRzKHBhZ2VzTGlzdCwgY3VycmVudElkKSA6IG5ldyBTZXQoKTtcbiAgICAgIHBhZ2VQYXJlbnRTZWxlY3QuaW5uZXJIVE1MID0gJzxvcHRpb24gdmFsdWU9XCJcIj5BdWN1bmUgKG5pdmVhdSByYWNpbmUpPC9vcHRpb24+JztcbiAgICAgIGNvbnN0IG9wdGlvbnMgPSAocGFnZXNMaXN0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChwYWdlKSA9PiBwYWdlPy5pZCAmJiBwYWdlLmlkICE9PSBjdXJyZW50SWQgJiYgIWZvcmJpZGRlbi5oYXMocGFnZS5pZCkpXG4gICAgICAgIC5zbGljZSgpXG4gICAgICAgIC5zb3J0KChhLCBiKSA9PiAoYS5zbHVnIHx8ICcnKS5sb2NhbGVDb21wYXJlKGIuc2x1ZyB8fCAnJykpO1xuICAgICAgb3B0aW9ucy5mb3JFYWNoKChwYWdlKSA9PiB7XG4gICAgICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICBvcHRpb24udmFsdWUgPSBwYWdlLmlkO1xuICAgICAgICBvcHRpb24udGV4dENvbnRlbnQgPSBgJHtwYWdlLm5hbWUgfHwgcGFnZS50aXRsZSB8fCBwYWdlLmlkfSBcdTIwMTQgJHtwYWdlLnNsdWcgfHwgJy8nfWA7XG4gICAgICAgIHBhZ2VQYXJlbnRTZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uKTtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgY29uc3Qgc3luY1NsdWdGaWVsZHMgPSAoKSA9PiB7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGN1cnJlbnRTbHVnID0gY3VycmVudFBhZ2Uuc2x1ZyB8fCAnLyc7XG4gICAgICBjb25zdCBpc0hvbWUgPSBjdXJyZW50U2x1ZyA9PT0gJy8nO1xuXG4gICAgICBpZiAoaXNIb21lKSB7XG4gICAgICAgIHBhZ2VQYXJlbnRTZWxlY3QgJiYgKHBhZ2VQYXJlbnRTZWxlY3QudmFsdWUgPSAnJyk7XG4gICAgICAgIHBhZ2VTbHVnU2VnbWVudElucHV0ICYmIChwYWdlU2x1Z1NlZ21lbnRJbnB1dC52YWx1ZSA9ICcnKTtcbiAgICAgICAgcGFnZVNsdWdJbnB1dCAmJiAocGFnZVNsdWdJbnB1dC52YWx1ZSA9ICcvJyk7XG4gICAgICAgIHBhZ2VQYXJlbnRTZWxlY3QgJiYgKHBhZ2VQYXJlbnRTZWxlY3QuZGlzYWJsZWQgPSB0cnVlKTtcbiAgICAgICAgcGFnZVNsdWdTZWdtZW50SW5wdXQgJiYgKHBhZ2VTbHVnU2VnbWVudElucHV0LmRpc2FibGVkID0gdHJ1ZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgcGFnZVBhcmVudFNlbGVjdCAmJiAocGFnZVBhcmVudFNlbGVjdC5kaXNhYmxlZCA9IGZhbHNlKTtcbiAgICAgIHBhZ2VTbHVnU2VnbWVudElucHV0ICYmIChwYWdlU2x1Z1NlZ21lbnRJbnB1dC5kaXNhYmxlZCA9IGZhbHNlKTtcblxuICAgICAgY29uc3QgcGFnZXNCeUlkID0gbmV3IE1hcCgocGFnZXMgfHwgW10pLm1hcCgocGFnZSkgPT4gW3BhZ2UuaWQsIHBhZ2VdKSk7XG4gICAgICBjb25zdCBzZWxlY3RlZFBhcmVudElkID0gKHBhZ2VQYXJlbnRTZWxlY3Q/LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICBjb25zdCBwYXJlbnRTbHVnID0gc2VsZWN0ZWRQYXJlbnRJZCA/IHBhZ2VzQnlJZC5nZXQoc2VsZWN0ZWRQYXJlbnRJZCk/LnNsdWcgfHwgJy8nIDogJy8nO1xuICAgICAgY29uc3Qgc2VnbWVudCA9IChwYWdlU2x1Z1NlZ21lbnRJbnB1dD8udmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgIGNvbnN0IGNvbXB1dGVkID0gYnVpbGRTbHVnRnJvbVBhcmVudEFuZFNlZ21lbnQocGFyZW50U2x1Zywgc2VnbWVudCk7XG4gICAgICBwYWdlU2x1Z0lucHV0ICYmIChwYWdlU2x1Z0lucHV0LnZhbHVlID0gY29tcHV0ZWQgfHwgJycpO1xuICAgIH07XG4gICAgY29uc3QgdG9nZ2xlUGFnZVByb3BzUGFuZWwgPSAoc2hvdykgPT4ge1xuICAgICAgaWYgKCFwYWdlUHJvcHNQYW5lbCkgcmV0dXJuO1xuICAgICAgaWYgKHNob3cpIHtcbiAgICAgICAgcGFnZVByb3BzUGFuZWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIGlmIChjdXJyZW50UGFnZSkge1xuICAgICAgICAgIHBhZ2VOYW1lSW5wdXQgJiYgKHBhZ2VOYW1lSW5wdXQudmFsdWUgPSBjdXJyZW50UGFnZS5uYW1lIHx8ICcnKTtcbiAgICAgICAgICBwYWdlVGl0bGVJbnB1dCAmJiAocGFnZVRpdGxlSW5wdXQudmFsdWUgPSBjdXJyZW50UGFnZS50aXRsZSB8fCAnJyk7XG4gICAgICAgICAgcmVuZGVyUGFyZW50U2VsZWN0T3B0aW9ucyh7IHBhZ2VzTGlzdDogcGFnZXMsIGN1cnJlbnQ6IGN1cnJlbnRQYWdlIH0pO1xuICAgICAgICAgIHBhZ2VQYXJlbnRTZWxlY3QgJiYgKHBhZ2VQYXJlbnRTZWxlY3QudmFsdWUgPSBjdXJyZW50UGFnZS5wYXJlbnRJZCB8fCAnJyk7XG4gICAgICAgICAgcGFnZVNsdWdTZWdtZW50SW5wdXQgJiZcbiAgICAgICAgICAgIChwYWdlU2x1Z1NlZ21lbnRJbnB1dC52YWx1ZSA9IGdldFBhZ2VTbHVnU2VnbWVudChjdXJyZW50UGFnZS5zbHVnIHx8ICcnKSk7XG4gICAgICAgICAgc3luY1NsdWdGaWVsZHMoKTtcbiAgICAgICAgICBwYWdlRGVzY3JpcHRpb25JbnB1dCAmJiAocGFnZURlc2NyaXB0aW9uSW5wdXQudmFsdWUgPSBjdXJyZW50UGFnZS5kZXNjcmlwdGlvbiB8fCAnJyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhZ2VQcm9wc1BhbmVsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3Qgc2V0UGFnZVByb3BzRmVlZGJhY2sgPSAobWVzc2FnZSwgdG9uZSA9ICdtdXRlZCcpID0+IHtcbiAgICAgIGlmICghcGFnZVByb3BzRmVlZGJhY2spIHJldHVybjtcbiAgICAgIGNvbnN0IGNvbG9yID0gdG9uZSA9PT0gJ3N1Y2Nlc3MnID8gJ3RleHQtZW1lcmFsZC02MDAnIDogdG9uZSA9PT0gJ2Vycm9yJyA/ICd0ZXh0LXJvc2UtNjAwJyA6ICd0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICBwYWdlUHJvcHNGZWVkYmFjay50ZXh0Q29udGVudCA9IG1lc3NhZ2UgfHwgJyc7XG4gICAgICBwYWdlUHJvcHNGZWVkYmFjay5jbGFzc05hbWUgPSBgdGV4dC1zbSAke2NvbG9yfWA7XG4gICAgfTtcbiAgICBwYWdlUHJvcHNUb2dnbGVCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgaXNWaXNpYmxlID0gcGFnZVByb3BzUGFuZWwgJiYgIXBhZ2VQcm9wc1BhbmVsLmNsYXNzTGlzdC5jb250YWlucygnaGlkZGVuJyk7XG4gICAgICB0b2dnbGVQYWdlUHJvcHNQYW5lbCghaXNWaXNpYmxlKTtcbiAgICB9KTtcbiAgICBwYWdlUHJvcHNDbG9zZUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0b2dnbGVQYWdlUHJvcHNQYW5lbChmYWxzZSkpO1xuICAgIHBhZ2VQYXJlbnRTZWxlY3Q/LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgICAgIHN5bmNTbHVnRmllbGRzKCk7XG4gICAgfSk7XG4gICAgcGFnZVNsdWdTZWdtZW50SW5wdXQ/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgc3luY1NsdWdGaWVsZHMoKTtcbiAgICB9KTtcbiAgICBwYWdlUHJvcHNGb3JtPy5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlKSB7XG4gICAgICAgIHNldFBhZ2VQcm9wc0ZlZWRiYWNrKCdBdWN1bmUgcGFnZSBhY3RpdmUuJywgJ2Vycm9yJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHBhZ2VQcm9wc1NhdmVCdXR0b24gJiYgKHBhZ2VQcm9wc1NhdmVCdXR0b24uZGlzYWJsZWQgPSB0cnVlKTtcbiAgICAgIHNldFBhZ2VQcm9wc0ZlZWRiYWNrKCcnKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IG5ld05hbWUgPSAocGFnZU5hbWVJbnB1dD8udmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgICAgY29uc3QgbmV3VGl0bGUgPSAocGFnZVRpdGxlSW5wdXQ/LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICAgIGNvbnN0IG5ld0Rlc2NyaXB0aW9uID0gKHBhZ2VEZXNjcmlwdGlvbklucHV0Py52YWx1ZSB8fCAnJykudHJpbSgpO1xuICAgICAgICBjb25zdCByZXF1ZXN0ZWRQYXJlbnRJZCA9IChwYWdlUGFyZW50U2VsZWN0Py52YWx1ZSB8fCAnJykudHJpbSgpO1xuICAgICAgICBjb25zdCBuZXdQYXJlbnRJZCA9IHJlcXVlc3RlZFBhcmVudElkID8gcmVxdWVzdGVkUGFyZW50SWQgOiBudWxsO1xuICAgICAgICBjb25zdCBuZXdTZWdtZW50ID0gKHBhZ2VTbHVnU2VnbWVudElucHV0Py52YWx1ZSB8fCAnJykudHJpbSgpO1xuICAgICAgICBjb25zdCBjdXJyZW50U2x1ZyA9IGN1cnJlbnRQYWdlLnNsdWcgfHwgJy8nO1xuICAgICAgICBjb25zdCBjb21wdXRlZFNsdWcgPVxuICAgICAgICAgIGN1cnJlbnRTbHVnID09PSAnLydcbiAgICAgICAgICAgID8gJy8nXG4gICAgICAgICAgICA6IChwYWdlU2x1Z0lucHV0Py52YWx1ZSB8fCAnJykudHJpbSgpIHx8XG4gICAgICAgICAgICAgIGJ1aWxkU2x1Z0Zyb21QYXJlbnRBbmRTZWdtZW50KFxuICAgICAgICAgICAgICAgIG5ld1BhcmVudElkID8gKHBhZ2VzLmZpbmQoKHApID0+IHAuaWQgPT09IG5ld1BhcmVudElkKT8uc2x1ZyB8fCAnLycpIDogJy8nLFxuICAgICAgICAgICAgICAgIG5ld1NlZ21lbnQsXG4gICAgICAgICAgICAgICk7XG4gICAgICAgIFxuICAgICAgICAvLyBWYWxpZGF0aW9uIGJhc2lxdWVcbiAgICAgICAgaWYgKCFuZXdUaXRsZSkge1xuICAgICAgICAgIHNldFBhZ2VQcm9wc0ZlZWRiYWNrKCdMZSB0aXRyZSBlc3QgcmVxdWlzLicsICdlcnJvcicpO1xuICAgICAgICAgIHBhZ2VQcm9wc1NhdmVCdXR0b24gJiYgKHBhZ2VQcm9wc1NhdmVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjdXJyZW50U2x1ZyAhPT0gJy8nICYmICF3b3Jrc3BhY2VTbHVnaWZ5KG5ld1NlZ21lbnQpKSB7XG4gICAgICAgICAgc2V0UGFnZVByb3BzRmVlZGJhY2soJ0xlIHNlZ21lbnQgZXN0IHJlcXVpcy4nLCAnZXJyb3InKTtcbiAgICAgICAgICBwYWdlUHJvcHNTYXZlQnV0dG9uICYmIChwYWdlUHJvcHNTYXZlQnV0dG9uLmRpc2FibGVkID0gZmFsc2UpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWNvbXB1dGVkU2x1ZyB8fCAhY29tcHV0ZWRTbHVnLnN0YXJ0c1dpdGgoJy8nKSkge1xuICAgICAgICAgIHNldFBhZ2VQcm9wc0ZlZWRiYWNrKCdVUkwgaW52YWxpZGUuJywgJ2Vycm9yJyk7XG4gICAgICAgICAgcGFnZVByb3BzU2F2ZUJ1dHRvbiAmJiAocGFnZVByb3BzU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN1cnJlbnRTbHVnID09PSAnLycgJiYgbmV3UGFyZW50SWQpIHtcbiAgICAgICAgICBzZXRQYWdlUHJvcHNGZWVkYmFjaygnTGEgcGFnZSBkXHUyMDE5YWNjdWVpbCBuZSBwZXV0IHBhcyBhdm9pciBkZSBwYXJlbnQuJywgJ2Vycm9yJyk7XG4gICAgICAgICAgcGFnZVByb3BzU2F2ZUJ1dHRvbiAmJiAocGFnZVByb3BzU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhZ2VzLnNvbWUoKHBhZ2UpID0+IHBhZ2Uuc2x1ZyA9PT0gY29tcHV0ZWRTbHVnICYmIHBhZ2UuaWQgIT09IGN1cnJlbnRQYWdlLmlkKSkge1xuICAgICAgICAgIHNldFBhZ2VQcm9wc0ZlZWRiYWNrKCdDZXR0ZSBVUkwgZXN0IGRcdTAwRTlqXHUwMEUwIHV0aWxpc1x1MDBFOWUgcGFyIHVuZSBhdXRyZSBwYWdlLicsICdlcnJvcicpO1xuICAgICAgICAgIHBhZ2VQcm9wc1NhdmVCdXR0b24gJiYgKHBhZ2VQcm9wc1NhdmVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBjb25zdCB1cGRhdGVkUGFnZSA9IHtcbiAgICAgICAgICAuLi5jdXJyZW50UGFnZSxcbiAgICAgICAgICBuYW1lOiBuZXdOYW1lIHx8IG5ld1RpdGxlLCAvLyBGYWxsYmFjayB0byB0aXRsZSBpZiBuYW1lIGlzIGVtcHR5XG4gICAgICAgICAgdGl0bGU6IG5ld1RpdGxlLFxuICAgICAgICAgIHBhcmVudElkOiBuZXdQYXJlbnRJZCxcbiAgICAgICAgICBzbHVnOiBjb21wdXRlZFNsdWcsXG4gICAgICAgICAgZGVzY3JpcHRpb246IG5ld0Rlc2NyaXB0aW9uLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBzYXZlZCA9IGF3YWl0IHNhdmVQYWdlVG9TZXJ2ZXIodXBkYXRlZFBhZ2UpO1xuICAgICAgICBpZiAoc2F2ZWQpIHtcbiAgICAgICAgICBjdXJyZW50UGFnZSA9IHNhdmVkO1xuICAgICAgICAgIC8vIFVwZGF0ZSBwYWdlcyBhcnJheVxuICAgICAgICAgIHBhZ2VzID0gcGFnZXMubWFwKChwKSA9PiAocC5pZCA9PT0gc2F2ZWQuaWQgPyBzYXZlZCA6IHApKTtcbiAgICAgICAgICBzZXRQYWdlUHJvcHNGZWVkYmFjaygnUHJvcHJpXHUwMEU5dFx1MDBFOXMgZW5yZWdpc3RyXHUwMEU5ZXMuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgICBzaG93VG9hc3QoJ1BhZ2UgbWlzZSBcdTAwRTAgam91cicpO1xuICAgICAgICAgIC8vIFVwZGF0ZSBVSVxuICAgICAgICAgIHNldEFjdGl2ZUxhYmVscyhjdXJyZW50UGFnZSk7XG4gICAgICAgICAgcmVuZGVyUGFnZUxpc3RzKHBhZ2VzLCBhY3RpdmVQYWdlSWQpO1xuICAgICAgICAgIHJlZnJlc2hQcmV2aWV3KGN1cnJlbnRQYWdlKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1twYWdlLXByb3BzXSBzYXZlIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNldFBhZ2VQcm9wc0ZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsYSBzYXV2ZWdhcmRlLicsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgcGFnZVByb3BzU2F2ZUJ1dHRvbiAmJiAocGFnZVByb3BzU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuXHQgICAgY29uc3QgaGFuZGxlQmxvY2tEcmFnU3RhcnQgPSAoZXZlbnQpID0+IHtcblx0ICAgICAgY29uc3QgaXRlbSA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCdbZGF0YS1ibG9jay1pdGVtXScpO1xuXHQgICAgICBpZiAoIWl0ZW0gfHwgIWlzRGVza3RvcFJlb3JkZXIoKSkge1xuXHQgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cdCAgICAgIGRyYWdTb3VyY2VJZCA9IGl0ZW0uZGF0YXNldC5ibG9ja0lkIHx8IG51bGw7XG5cdCAgICAgIGRyYWdTb3VyY2VQYXJlbnRJZCA9IGl0ZW0uZGF0YXNldC5wYXJlbnRCbG9ja0lkIHx8IG51bGw7XG5cdCAgICAgIGlmICghZHJhZ1NvdXJjZUlkKSB7XG5cdCAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cblx0ICAgICAgZXZlbnQuZGF0YVRyYW5zZmVyLmVmZmVjdEFsbG93ZWQgPSAnbW92ZSc7XG5cdCAgICAgIGV2ZW50LmRhdGFUcmFuc2Zlci5zZXREYXRhKCd0ZXh0L3BsYWluJywgZHJhZ1NvdXJjZUlkKTtcblx0ICAgICAgZXZlbnQuZGF0YVRyYW5zZmVyLnNldERhdGEoJ2FwcGxpY2F0aW9uL3gtcmF3ZGl0LXBhcmVudCcsIGRyYWdTb3VyY2VQYXJlbnRJZCB8fCAnJyk7XG5cdCAgICAgIC8vIFN0eWxlIGR1IGJsb2MgZW4gY291cnMgZGUgZHJhZ1xuXHQgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuXHQgICAgICAgIGl0ZW0uY2xhc3NMaXN0LmFkZCgnb3BhY2l0eS01MCcsICdzY2FsZS1bMC45OF0nLCAnc2hhZG93LWxnJywgJ3JpbmctMicsICdyaW5nLVsjOUM2QkZGXScpO1xuXHQgICAgICB9KTtcblx0ICAgIH07XG4gICAgY29uc3QgY2xlYXJEcmFnSW5kaWNhdG9ycyA9ICgpID0+IHtcbiAgICAgIGJsb2NrTGlzdFxuICAgICAgICA/LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWJsb2NrLWl0ZW1dJylcbiAgICAgICAgLmZvckVhY2goKG5vZGUpID0+IHtcbiAgICAgICAgICBub2RlLmNsYXNzTGlzdC5yZW1vdmUoXG4gICAgICAgICAgICAnb3BhY2l0eS01MCcsICdzY2FsZS1bMC45OF0nLCAnc2hhZG93LWxnJywgJ3JpbmctMicsICdyaW5nLVsjOUM2QkZGXScsXG4gICAgICAgICAgICAnYm9yZGVyLXQtNCcsICdib3JkZXItYi00JywgJ2JvcmRlci10LVsjOUM2QkZGXScsICdib3JkZXItYi1bIzlDNkJGRl0nLFxuICAgICAgICAgICAgJ3B0LTYnLCAncGItNidcbiAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICB9O1xuXHQgICAgY29uc3QgaGFuZGxlQmxvY2tEcmFnRW5kID0gKCkgPT4ge1xuXHQgICAgICBkcmFnU291cmNlSWQgPSBudWxsO1xuXHQgICAgICBkcmFnU291cmNlUGFyZW50SWQgPSBudWxsO1xuXHQgICAgICBjbGVhckRyYWdJbmRpY2F0b3JzKCk7XG5cdCAgICB9O1xuICAgIGNvbnN0IGhhbmRsZUJsb2NrRHJhZ092ZXIgPSAoZXZlbnQpID0+IHtcbiAgICAgIGlmICghZHJhZ1NvdXJjZUlkIHx8ICFpc0Rlc2t0b3BSZW9yZGVyKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLWJsb2NrLWl0ZW1dJyk7XG4gICAgICBpZiAoIXRhcmdldCB8fCB0YXJnZXQuZGF0YXNldC5ibG9ja0lkID09PSBkcmFnU291cmNlSWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGV2ZW50LmRhdGFUcmFuc2Zlci5kcm9wRWZmZWN0ID0gJ21vdmUnO1xuICAgICAgLy8gRFx1MDBFOXRlcm1pbmUgc2kgb24gZHJvcCBhdmFudCBvdSBhcHJcdTAwRThzXG4gICAgICBjb25zdCByZWN0ID0gdGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgY29uc3QgbWlkWSA9IHJlY3QudG9wICsgcmVjdC5oZWlnaHQgLyAyO1xuICAgICAgY29uc3QgaXNBYm92ZSA9IGV2ZW50LmNsaWVudFkgPCBtaWRZO1xuICAgICAgLy8gTmV0dG9pZSBsZXMgYXV0cmVzIGluZGljYXRldXJzXG4gICAgICBibG9ja0xpc3Q/LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWJsb2NrLWl0ZW1dJykuZm9yRWFjaCgobm9kZSkgPT4ge1xuICAgICAgICBpZiAobm9kZSAhPT0gdGFyZ2V0ICYmIG5vZGUuZGF0YXNldC5ibG9ja0lkICE9PSBkcmFnU291cmNlSWQpIHtcbiAgICAgICAgICBub2RlLmNsYXNzTGlzdC5yZW1vdmUoJ2JvcmRlci10LTQnLCAnYm9yZGVyLWItNCcsICdib3JkZXItdC1bIzlDNkJGRl0nLCAnYm9yZGVyLWItWyM5QzZCRkZdJywgJ3B0LTYnLCAncGItNicpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIC8vIEFwcGxpcXVlIGwnaW5kaWNhdGV1ciBkZSBwb3NpdGlvblxuICAgICAgdGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoJ2JvcmRlci10LTQnLCAnYm9yZGVyLWItNCcsICdib3JkZXItdC1bIzlDNkJGRl0nLCAnYm9yZGVyLWItWyM5QzZCRkZdJywgJ3B0LTYnLCAncGItNicpO1xuICAgICAgaWYgKGlzQWJvdmUpIHtcbiAgICAgICAgdGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2JvcmRlci10LTQnLCAnYm9yZGVyLXQtWyM5QzZCRkZdJywgJ3B0LTYnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRhcmdldC5jbGFzc0xpc3QuYWRkKCdib3JkZXItYi00JywgJ2JvcmRlci1iLVsjOUM2QkZGXScsICdwYi02Jyk7XG4gICAgICB9XG4gICAgICB0YXJnZXQuZGF0YXNldC5kcm9wUG9zaXRpb24gPSBpc0Fib3ZlID8gJ2JlZm9yZScgOiAnYWZ0ZXInO1xuICAgIH07XG4gICAgY29uc3QgaGFuZGxlQmxvY2tEcmFnTGVhdmUgPSAoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCdbZGF0YS1ibG9jay1pdGVtXScpO1xuICAgICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gVlx1MDBFOXJpZmllIHNpIG9uIHF1aXR0ZSB2cmFpbWVudCBsJ1x1MDBFOWxcdTAwRTltZW50IChwYXMganVzdGUgdmVycyB1biBlbmZhbnQpXG4gICAgICBjb25zdCByZWxhdGVkVGFyZ2V0ID0gZXZlbnQucmVsYXRlZFRhcmdldDtcbiAgICAgIGlmIChyZWxhdGVkVGFyZ2V0ICYmIHRhcmdldC5jb250YWlucyhyZWxhdGVkVGFyZ2V0KSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0YXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgnYm9yZGVyLXQtNCcsICdib3JkZXItYi00JywgJ2JvcmRlci10LVsjOUM2QkZGXScsICdib3JkZXItYi1bIzlDNkJGRl0nLCAncHQtNicsICdwYi02Jyk7XG4gICAgICBkZWxldGUgdGFyZ2V0LmRhdGFzZXQuZHJvcFBvc2l0aW9uO1xuICAgIH07XG5cdCAgICBjb25zdCBoYW5kbGVCbG9ja0Ryb3AgPSAoZXZlbnQpID0+IHtcblx0ICAgICAgaWYgKCFkcmFnU291cmNlSWQgfHwgIWlzRGVza3RvcFJlb3JkZXIoKSkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHQgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHQgICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQuY2xvc2VzdCgnW2RhdGEtYmxvY2staXRlbV0nKTtcblx0ICAgICAgY29uc3Qgc291cmNlID0gZHJhZ1NvdXJjZUlkO1xuXHQgICAgICBjb25zdCBzb3VyY2VQYXJlbnQgPSBkcmFnU291cmNlUGFyZW50SWQ7XG5cdCAgICAgIGNvbnN0IGRyb3BQb3NpdGlvbiA9IHRhcmdldD8uZGF0YXNldC5kcm9wUG9zaXRpb24gfHwgJ2FmdGVyJztcblx0ICAgICAgZHJhZ1NvdXJjZUlkID0gbnVsbDtcblx0ICAgICAgZHJhZ1NvdXJjZVBhcmVudElkID0gbnVsbDtcblx0ICAgICAgY2xlYXJEcmFnSW5kaWNhdG9ycygpO1xuXHQgICAgICBjb25zdCB0YXJnZXRJZCA9IHRhcmdldD8uZGF0YXNldC5ibG9ja0lkIHx8IG51bGw7XG5cdCAgICAgIGlmICghY3VycmVudFBhZ2UgfHwgIXNvdXJjZSkgcmV0dXJuO1xuXHQgICAgICBpZiAoIXRhcmdldElkKSB7XG5cdCAgICAgICAgaWYgKHNvdXJjZVBhcmVudCkge1xuXHQgICAgICAgICAgbW92ZUNoaWxkRnJvbUdyb3VwVG9Sb290QXQoc291cmNlUGFyZW50LCBzb3VyY2UsIGN1cnJlbnRQYWdlLmJsb2Nrcy5sZW5ndGgpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKHNvdXJjZSA9PT0gdGFyZ2V0SWQpIHJldHVybjtcblxuXHQgICAgICBjb25zdCB0YXJnZXRQYXJlbnQgPSB0YXJnZXQ/LmRhdGFzZXQucGFyZW50QmxvY2tJZCB8fCBudWxsO1xuXG5cdCAgICAgIC8vIERcdTAwRTlwbGFjZXIgZGVwdWlzIHVuIGdyb3VwZVxuXHQgICAgICBpZiAoc291cmNlUGFyZW50KSB7XG5cdCAgICAgICAgaWYgKHRhcmdldFBhcmVudCkge1xuXHQgICAgICAgICAgLy8gVmVycyB1biBlbmZhbnQgZCd1biBncm91cGUgKG1cdTAwRUFtZSBncm91cGUgXHUyMTkyIHJlb3JkZXIsIGF1dHJlIGdyb3VwZSBcdTIxOTIgbW92ZSlcblx0ICAgICAgICAgIGlmICh0YXJnZXRQYXJlbnQgPT09IHNvdXJjZVBhcmVudCkge1xuXHQgICAgICAgICAgICBtb3ZlQ2hpbGRXaXRoaW5Hcm91cChzb3VyY2VQYXJlbnQsIHNvdXJjZSwgdGFyZ2V0SWQsIGRyb3BQb3NpdGlvbik7XG5cdCAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIG1vdmVBbnlCbG9ja1RvR3JvdXBBdChzb3VyY2UsIHRhcmdldFBhcmVudCwgdGFyZ2V0SWQsIGRyb3BQb3NpdGlvbik7XG5cdCAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgLy8gRHJvcCBzdXIgdW4gYmxvYyByYWNpbmUgXHUyMTkyIHNvcnRpciBkdSBncm91cGUgXHUwMEUwIHVuZSBwb3NpdGlvblxuXHQgICAgICAgIGNvbnN0IHRhcmdldFJvb3RJbmRleCA9IGN1cnJlbnRQYWdlLmJsb2Nrcy5maW5kSW5kZXgoKGIpID0+IGIuaWQgPT09IHRhcmdldElkKTtcblx0ICAgICAgICBpZiAodGFyZ2V0Um9vdEluZGV4ID09PSAtMSkge1xuXHQgICAgICAgICAgbW92ZUNoaWxkRnJvbUdyb3VwVG9Sb290QXQoc291cmNlUGFyZW50LCBzb3VyY2UsIGN1cnJlbnRQYWdlLmJsb2Nrcy5sZW5ndGgpO1xuXHQgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBjb25zdCBpbnNlcnRJbmRleCA9IGdldEluc2VydEluZGV4RnJvbVBvc2l0aW9uKHRhcmdldFJvb3RJbmRleCwgZHJvcFBvc2l0aW9uLCAxKTtcblx0ICAgICAgICBtb3ZlQ2hpbGRGcm9tR3JvdXBUb1Jvb3RBdChzb3VyY2VQYXJlbnQsIHNvdXJjZSwgaW5zZXJ0SW5kZXggPz8gY3VycmVudFBhZ2UuYmxvY2tzLmxlbmd0aCk7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cblx0ICAgICAgLy8gRFx1MDBFOXBsYWNlciBkZXB1aXMgbGEgbGlzdGUgcmFjaW5lIHZlcnMgbCdpbnRcdTAwRTlyaWV1ciBkJ3VuIGdyb3VwZSAoZHJvcCBzdXIgZW5mYW50KVxuXHQgICAgICBpZiAodGFyZ2V0UGFyZW50KSB7XG5cdCAgICAgICAgbW92ZUFueUJsb2NrVG9Hcm91cEF0KHNvdXJjZSwgdGFyZ2V0UGFyZW50LCB0YXJnZXRJZCwgZHJvcFBvc2l0aW9uKTtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cblxuXHQgICAgICAvLyBQYXIgZFx1MDBFOWZhdXQ6IHJlb3JkZXIgZGVzIGJsb2NzIHJhY2luZVxuXHQgICAgICByZW9yZGVyQmxvY2tzV2l0aFBvc2l0aW9uKHNvdXJjZSwgdGFyZ2V0SWQsIGRyb3BQb3NpdGlvbik7XG5cdCAgICB9O1xuXHQgICAgbGV0IGRyYWdTb3VyY2VJZCA9IG51bGw7XG5cdCAgICBsZXQgZHJhZ1NvdXJjZVBhcmVudElkID0gbnVsbDtcbiAgICBibG9ja0xpc3Q/LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdzdGFydCcsIGhhbmRsZUJsb2NrRHJhZ1N0YXJ0KTtcbiAgICBibG9ja0xpc3Q/LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdlbmQnLCBoYW5kbGVCbG9ja0RyYWdFbmQpO1xuICAgIGJsb2NrTGlzdD8uYWRkRXZlbnRMaXN0ZW5lcignZHJhZ292ZXInLCBoYW5kbGVCbG9ja0RyYWdPdmVyKTtcbiAgICBibG9ja0xpc3Q/LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdsZWF2ZScsIGhhbmRsZUJsb2NrRHJhZ0xlYXZlKTtcbiAgICBibG9ja0xpc3Q/LmFkZEV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCBoYW5kbGVCbG9ja0Ryb3ApO1xuICAgIGxvYWRQYWdlc0Zyb21TZXJ2ZXIoKTtcblxuICAgIC8vIFx1MDBDOWNvdXRlciBsJ1x1MDBFOXZcdTAwRTluZW1lbnQgZGUgcmFmcmFcdTAwRUVjaGlzc2VtZW50IGRcdTAwRTljbGVuY2hcdTAwRTkgcGFyIGwnSUFcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdhaS1wYWdlLXVwZGF0ZWQnLCBhc3luYyAoZSkgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ1tkZXNpZ25dIFJhZnJhXHUwMEVFY2hpc3NlbWVudCBkXHUwMEU5Y2xlbmNoXHUwMEU5IHBhciBJQScsIGUuZGV0YWlsKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIFJlY2hhcmdlciBsZXMgcGFnZXMgZGVwdWlzIGxlIHNlcnZldXJcbiAgICAgICAgY29uc3QgbG9hZGVkUGFnZXMgPSBhd2FpdCBmZXRjaFBhZ2VzRnJvbVNlcnZlcigpO1xuICAgICAgICBwYWdlcyA9IChBcnJheS5pc0FycmF5KGxvYWRlZFBhZ2VzKSA/IGxvYWRlZFBhZ2VzIDogW10pLm1hcCgocGFnZSkgPT5cbiAgICAgICAgICBub3JtYWxpemVQYWdlRGF0YShwYWdlKSxcbiAgICAgICAgKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFRyb3V2ZXIgZXQgbWV0dHJlIFx1MDBFMCBqb3VyIGxhIHBhZ2UgYWN0aXZlXG4gICAgICAgIGlmIChlLmRldGFpbD8ucGFnZUlkKSB7XG4gICAgICAgICAgY29uc3QgdXBkYXRlZFBhZ2UgPSBwYWdlcy5maW5kKHAgPT4gcC5pZCA9PT0gZS5kZXRhaWwucGFnZUlkKTtcbiAgICAgICAgICBpZiAodXBkYXRlZFBhZ2UpIHtcbiAgICAgICAgICAgIGN1cnJlbnRQYWdlID0gdXBkYXRlZFBhZ2U7XG4gICAgICAgICAgICBhY3RpdmVQYWdlSWQgPSB1cGRhdGVkUGFnZS5pZDtcbiAgICAgICAgICAgIC8vIFJhZnJhXHUwMEVFY2hpciBsYSBwcmV2aWV3IGF2ZWMgbGEgcGFnZSBtaXNlIFx1MDBFMCBqb3VyXG4gICAgICAgICAgICByZWZyZXNoUHJldmlldyhjdXJyZW50UGFnZSk7XG4gICAgICAgICAgICAvLyBSYWZyYVx1MDBFRWNoaXIgbGEgbGlzdGUgZGVzIGJsb2NzXG4gICAgICAgICAgICByZW5kZXJCbG9ja0xpc3QoY3VycmVudFBhZ2UpO1xuICAgICAgICAgICAgc2hvd1RvYXN0KCdQYWdlIG1pc2UgXHUwMEUwIGpvdXIgcGFyIGxcXCdJQScpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChhY3RpdmVQYWdlSWQpIHtcbiAgICAgICAgICAvLyBSYWZyYVx1MDBFRWNoaXIgbGEgcGFnZSBhY3RpdmUgYWN0dWVsbGVcbiAgICAgICAgICBjb25zdCBhY3RpdmVQYWdlID0gcGFnZXMuZmluZChwID0+IHAuaWQgPT09IGFjdGl2ZVBhZ2VJZCk7XG4gICAgICAgICAgaWYgKGFjdGl2ZVBhZ2UpIHtcbiAgICAgICAgICAgIGN1cnJlbnRQYWdlID0gYWN0aXZlUGFnZTtcbiAgICAgICAgICAgIHJlZnJlc2hQcmV2aWV3KGN1cnJlbnRQYWdlKTtcbiAgICAgICAgICAgIHJlbmRlckJsb2NrTGlzdChjdXJyZW50UGFnZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2Rlc2lnbl0gRXJyZXVyIHJhZnJhXHUwMEVFY2hpc3NlbWVudCBJQTonLCBlcnIpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gaW5pdENvbnRlbnRXb3Jrc3BhY2UoKSB7XG4gICAgY29uc3QgY29sbGVjdGlvbkxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xsZWN0aW9uLWxpc3RdJyk7XG4gICAgaWYgKCFjb2xsZWN0aW9uTGlzdCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICAvLyBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcbiAgICAvLyBIRUFERVIgJiBGT09URVIgTUFOQUdFTUVOVFxuICAgIC8vIFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFxuICAgIGNvbnN0IGNvbnRlbnRWaWV3cyA9IHtcbiAgICAgIGVtcHR5OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb250ZW50LXZpZXc9XCJlbXB0eVwiXScpLFxuICAgICAgaGVhZGVyOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb250ZW50LXZpZXc9XCJoZWFkZXJcIl0nKSxcbiAgICAgIGNvbGxlY3Rpb246IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbnRlbnQtdmlldz1cImNvbGxlY3Rpb25cIl0nKSxcbiAgICAgIGZvb3RlcjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29udGVudC12aWV3PVwiZm9vdGVyXCJdJyksXG4gICAgfTtcbiAgICBjb25zdCBjb250ZW50U2VjdGlvbkJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1jb250ZW50LXNlY3Rpb25dJyk7XG4gICAgY29uc3QgY29udGVudFNlY3Rpb25UcmlnZ2VycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWNvbnRlbnQtc2VjdGlvbi10cmlnZ2VyXScpO1xuICAgIGNvbnN0IGhlYWRlclN0YXR1c0luZGljYXRvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWhlYWRlci1zdGF0dXNdJyk7XG4gICAgY29uc3QgZm9vdGVyU3RhdHVzSW5kaWNhdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZm9vdGVyLXN0YXR1c10nKTtcbiAgICBjb25zdCBjb2xsZWN0aW9uQ291bnRFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbGxlY3Rpb24tY291bnRdJyk7XG4gICAgY29uc3QgaXRlbVBhbmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS1wYW5lbF0nKTtcbiAgICBjb25zdCBpdGVtUGFuZWxDbG9zZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1pdGVtLXBhbmVsLWNsb3NlXScpO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25FbXB0eVN0YXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29sbGVjdGlvbi1lbXB0eV0nKTtcbiAgICBjb25zdCBjb2xsZWN0aW9uSXRlbXNFbXB0eSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbGxlY3Rpb24taXRlbXMtZW1wdHldJyk7XG4gICAgY29uc3QgaXRlbVRhYmxlV3JhcHBlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tdGFibGUtd3JhcHBlcl0nKTtcbiAgICBjb25zdCBpdGVtVGFibGVCb2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS10YWJsZS1ib2R5XScpO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25UaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbGxlY3Rpb24tdGl0bGVdJyk7XG4gICAgY29uc3QgY29sbGVjdGlvbkRlc2NyaXB0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29sbGVjdGlvbi1kZXNjcmlwdGlvbl0nKTtcbiAgICBjb25zdCBpdGVtQWRkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS1hZGRdJyk7XG4gICAgY29uc3QgaXRlbURldGFpbEVtcHR5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS1kZXRhaWwtZW1wdHldJyk7XG4gICAgY29uc3QgaXRlbUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLWZvcm1dJyk7XG4gICAgY29uc3QgaXRlbUZvcm1GaWVsZHMgPSBpdGVtRm9ybVxuICAgICAgPyB7XG4gICAgICAgICAgdGl0bGU6IGl0ZW1Gb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaXRlbS10aXRsZVwiXScpLFxuICAgICAgICAgIHNsdWc6IGl0ZW1Gb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaXRlbS1zbHVnXCJdJyksXG4gICAgICAgICAgZXhjZXJwdDogaXRlbUZvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJpdGVtLWV4Y2VycHRcIl0nKSxcbiAgICAgICAgICBjb250ZW50OiBpdGVtRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cIml0ZW0tY29udGVudFwiXScpLFxuICAgICAgICAgIGltYWdlOiBpdGVtRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cIml0ZW0taW1hZ2VcIl0nKSxcbiAgICAgICAgICBjdGFUZXh0OiBpdGVtRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cIml0ZW0tY3RhLXRleHRcIl0nKSxcbiAgICAgICAgICBjdGFVcmw6IGl0ZW1Gb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaXRlbS1jdGEtdXJsXCJdJyksXG4gICAgICAgICAgc3RhdHVzOiBpdGVtRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cIml0ZW0tc3RhdHVzXCJdJyksXG4gICAgICAgIH1cbiAgICAgIDoge307XG4gICAgY29uc3QgaXRlbVN0YXR1c0JhZGdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS1zdGF0dXMtYmFkZ2VdJyk7XG4gICAgY29uc3QgaXRlbURlbGV0ZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tZGVsZXRlXScpO1xuICAgIGNvbnN0IGl0ZW1EZWxldGVNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tZGVsZXRlLW1vZGFsXScpO1xuICAgIGNvbnN0IGl0ZW1EZWxldGVDYW5jZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLWRlbGV0ZS1jYW5jZWxdJyk7XG4gICAgY29uc3QgaXRlbURlbGV0ZUNvbmZpcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLWRlbGV0ZS1jb25maXJtXScpO1xuICAgIGNvbnN0IGl0ZW1Gb3JtQ2FuY2VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS1jYW5jZWxdJyk7XG4gICAgY29uc3QgaXRlbUZvcm1TYXZlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS1zYXZlXScpO1xuICAgIGNvbnN0IHN0YXR1c0JhZGdlQmFzZUNsYXNzID0gJ3JvdW5kZWQtZnVsbCBweC0zIHB5LTEgdGV4dC14cyBmb250LXNlbWlib2xkJztcbiAgICBjb25zdCBpc0Rlc2t0b3BWaWV3cG9ydCA9ICgpID0+IHdpbmRvdy5tYXRjaE1lZGlhKCcobWluLXdpZHRoOiAxMDI0cHgpJykubWF0Y2hlcztcbiAgICBjb25zdCBzZXRJdGVtUGFuZWxIaWRkZW5TdGF0ZSA9IChoaWRkZW4pID0+IHtcbiAgICAgIGlmICghaXRlbVBhbmVsIHx8IGlzRGVza3RvcFZpZXdwb3J0KCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgaGlkZGVuQ2xhc3NlcyA9IGl0ZW1QYW5lbC5kYXRhc2V0Lml0ZW1QYW5lbEhpZGRlbiB8fCAnJztcbiAgICAgIGNvbnN0IHZpc2libGVDbGFzc2VzID0gaXRlbVBhbmVsLmRhdGFzZXQuaXRlbVBhbmVsVmlzaWJsZSB8fCAnJztcbiAgICAgIGlmIChoaWRkZW4pIHtcbiAgICAgICAgYXBwbHlQYW5lbENsYXNzZXMoaXRlbVBhbmVsLCB2aXNpYmxlQ2xhc3NlcywgJ3JlbW92ZScpO1xuICAgICAgICBhcHBseVBhbmVsQ2xhc3NlcyhpdGVtUGFuZWwsIGhpZGRlbkNsYXNzZXMsICdhZGQnKTtcbiAgICAgICAgaXRlbVBhbmVsLmNsYXNzTGlzdC5hZGQoJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICAgICAgaXRlbVBhbmVsLmRhdGFzZXQuaXRlbVBhbmVsT3BlbiA9ICdmYWxzZSc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhcHBseVBhbmVsQ2xhc3NlcyhpdGVtUGFuZWwsIGhpZGRlbkNsYXNzZXMsICdyZW1vdmUnKTtcbiAgICAgICAgYXBwbHlQYW5lbENsYXNzZXMoaXRlbVBhbmVsLCB2aXNpYmxlQ2xhc3NlcywgJ2FkZCcpO1xuICAgICAgICBpdGVtUGFuZWwuY2xhc3NMaXN0LnJlbW92ZSgncG9pbnRlci1ldmVudHMtbm9uZScpO1xuICAgICAgICBpdGVtUGFuZWwuZGF0YXNldC5pdGVtUGFuZWxPcGVuID0gJ3RydWUnO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3Qgc3luY0l0ZW1QYW5lbFdpdGhWaWV3cG9ydCA9ICgpID0+IHtcbiAgICAgIGlmICghaXRlbVBhbmVsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChpc0Rlc2t0b3BWaWV3cG9ydCgpKSB7XG4gICAgICAgIGNvbnN0IGhpZGRlbkNsYXNzZXMgPSBpdGVtUGFuZWwuZGF0YXNldC5pdGVtUGFuZWxIaWRkZW4gfHwgJyc7XG4gICAgICAgIGFwcGx5UGFuZWxDbGFzc2VzKGl0ZW1QYW5lbCwgaGlkZGVuQ2xhc3NlcywgJ3JlbW92ZScpO1xuICAgICAgICBpdGVtUGFuZWwuY2xhc3NMaXN0LnJlbW92ZSgncG9pbnRlci1ldmVudHMtbm9uZScpO1xuICAgICAgICBpdGVtUGFuZWwuZGF0YXNldC5pdGVtUGFuZWxPcGVuID0gJ3RydWUnO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoaXRlbUZvcm0/LmNsYXNzTGlzdC5jb250YWlucygnaGlkZGVuJykpIHtcbiAgICAgICAgc2V0SXRlbVBhbmVsSGlkZGVuU3RhdGUodHJ1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZXRJdGVtUGFuZWxIaWRkZW5TdGF0ZShmYWxzZSk7XG4gICAgICB9XG4gICAgfTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgc3luY0l0ZW1QYW5lbFdpdGhWaWV3cG9ydCk7XG4gICAgaXRlbVBhbmVsQ2xvc2VCdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmIChpc0Rlc2t0b3BWaWV3cG9ydCgpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGhpZGVJdGVtRm9ybSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgc3luY0l0ZW1QYW5lbFdpdGhWaWV3cG9ydCgpO1xuICAgIFxuICAgIC8vIEhlYWRlciBmaWVsZHNcbiAgICBjb25zdCBoZWFkZXJGaWVsZHMgPSB7XG4gICAgICBsb2dvOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImhlYWRlci1sb2dvXCJdJyksXG4gICAgICBsb2dvQWx0OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImhlYWRlci1sb2dvLWFsdFwiXScpLFxuICAgICAgbG9nb1VybDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJoZWFkZXItbG9nby11cmxcIl0nKSxcbiAgICAgIGN0YVRleHQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaGVhZGVyLWN0YS10ZXh0XCJdJyksXG4gICAgICBjdGFVcmw6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaGVhZGVyLWN0YS11cmxcIl0nKSxcbiAgICAgIGN0YVN0eWxlOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImhlYWRlci1jdGEtc3R5bGVcIl0nKSxcbiAgICAgIGN0YVRleHRDb2xvcjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJoZWFkZXItY3RhLXRleHQtY29sb3JcIl0nKSxcbiAgICAgIHBvc2l0aW9uOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImhlYWRlci1wb3NpdGlvblwiXScpLFxuICAgICAgYmc6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaGVhZGVyLWJnXCJdJyksXG4gICAgfTtcbiAgICBjb25zdCBoZWFkZXJOYXZPcmRlckxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1oZWFkZXItbmF2LW9yZGVyLWxpc3RdJyk7XG4gICAgY29uc3QgaGVhZGVyU2F2ZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWhlYWRlci1zYXZlXScpO1xuICAgIGNvbnN0IGhlYWRlck5hdkl0ZW1UZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRlbXBsYXRlLWhlYWRlci1uYXYtaXRlbV0nKTtcbiAgICBjb25zdCBoZWFkZXJQYWdlc0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1oZWFkZXItcGFnZXMtbGlzdF0nKTtcbiAgICBsZXQgc2l0ZVBhZ2VzID0gW107IC8vIFBhZ2VzIGR1IHNpdGUgcG91ciBsZXMgY2hlY2tib3hlc1xuICAgIGxldCBzZWxlY3RlZE5hdlBhZ2VzID0gW107IC8vIFBhZ2VzIHNcdTAwRTlsZWN0aW9ublx1MDBFOWVzIHBvdXIgbGUgbWVudSAoYXZlYyBvcmRyZSlcbiAgICBcbiAgICAvLyBGb290ZXIgZmllbGRzXG4gICAgY29uc3QgZm9vdGVyRmllbGRzID0ge1xuICAgICAgbGlua2VkaW46IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZm9vdGVyLXNvY2lhbC1saW5rZWRpblwiXScpLFxuICAgICAgdHdpdHRlcjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJmb290ZXItc29jaWFsLXR3aXR0ZXJcIl0nKSxcbiAgICAgIGluc3RhZ3JhbTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJmb290ZXItc29jaWFsLWluc3RhZ3JhbVwiXScpLFxuICAgICAgZmFjZWJvb2s6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZm9vdGVyLXNvY2lhbC1mYWNlYm9va1wiXScpLFxuICAgICAgeW91dHViZTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJmb290ZXItc29jaWFsLXlvdXR1YmVcIl0nKSxcbiAgICAgIGdpdGh1YjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJmb290ZXItc29jaWFsLWdpdGh1YlwiXScpLFxuICAgICAgY29weXJpZ2h0OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImZvb3Rlci1jb3B5cmlnaHRcIl0nKSxcbiAgICAgIGxlZ2FsVXJsOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImZvb3Rlci1sZWdhbC11cmxcIl0nKSxcbiAgICAgIHByaXZhY3lVcmw6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZm9vdGVyLXByaXZhY3ktdXJsXCJdJyksXG4gICAgICBiZzogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJmb290ZXItYmdcIl0nKSxcbiAgICAgIGNvbHVtbnNDb3VudDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJmb290ZXItY29sdW1ucy1jb3VudFwiXScpLFxuICAgIH07XG4gICAgY29uc3QgZm9vdGVyQ29sdW1uc0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1mb290ZXItY29sdW1ucy1saXN0XScpO1xuICAgIGNvbnN0IGZvb3RlckNvbHVtbkFkZEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWZvb3Rlci1jb2x1bW4tYWRkXScpO1xuICAgIGNvbnN0IGZvb3RlclNhdmVCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1mb290ZXItc2F2ZV0nKTtcbiAgICBjb25zdCBmb290ZXJDb2x1bW5UZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRlbXBsYXRlLWZvb3Rlci1jb2x1bW5dJyk7XG4gICAgY29uc3QgZm9vdGVyTGlua1RlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtdGVtcGxhdGUtZm9vdGVyLWxpbmtdJyk7XG4gICAgXG4gICAgbGV0IGFjdGl2ZUNvbnRlbnRTZWN0aW9uID0gbnVsbDtcbiAgICBsZXQgaGVhZGVyRGF0YSA9IHsgbmF2OiBbXSwgbG9nbzoge30sIGN0YToge30sIHN0eWxlOiB7fSB9O1xuICAgIGxldCBmb290ZXJEYXRhID0geyBjb2x1bW5zOiBbXSwgc29jaWFsczoge30sIGNvcHlyaWdodDogJycsIGxlZ2FsOiB7fSwgc3R5bGU6IHt9IH07XG4gICAgXG4gICAgY29uc3Qgc2FmZVNpdGVTbHVnRm9yTGF5b3V0ID0gc3RyaXBMZWFkaW5nU2xhc2god29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyk7XG4gICAgY29uc3Qgc2x1ZyA9IHNhZmVTaXRlU2x1Z0ZvckxheW91dDsgLy8gQWxpYXMgcG91ciBsZXMgZm9uY3Rpb25zIHF1aSB1dGlsaXNlbnQgc2x1Z1xuICAgIGNvbnN0IGxheW91dEFwaUJhc2UgPSBzYWZlU2l0ZVNsdWdGb3JMYXlvdXQgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWdGb3JMYXlvdXQpfS9sYXlvdXRgIDogbnVsbDtcbiAgICBcbiAgICAvLyBWaWV3IHN3aXRjaGluZ1xuICAgIGNvbnN0IHNob3dDb250ZW50VmlldyA9ICh2aWV3TmFtZSkgPT4ge1xuICAgICAgT2JqZWN0LmVudHJpZXMoY29udGVudFZpZXdzKS5mb3JFYWNoKChbbmFtZSwgZWxdKSA9PiB7XG4gICAgICAgIGlmIChlbCkgZWwuY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZGVuJywgbmFtZSAhPT0gdmlld05hbWUpO1xuICAgICAgfSk7XG4gICAgICBjb250ZW50U2VjdGlvbkJ1dHRvbnMuZm9yRWFjaChidG4gPT4ge1xuICAgICAgICBjb25zdCBzZWN0aW9uID0gYnRuLmRhdGFzZXQuY29udGVudFNlY3Rpb247XG4gICAgICAgIGlmIChzZWN0aW9uID09PSB2aWV3TmFtZSkge1xuICAgICAgICAgIGJ0bi5kYXRhc2V0LmFjdGl2ZSA9ICd0cnVlJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkZWxldGUgYnRuLmRhdGFzZXQuYWN0aXZlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGFjdGl2ZUNvbnRlbnRTZWN0aW9uID0gdmlld05hbWU7XG4gICAgfTtcbiAgICBcbiAgICAvLyBTZWN0aW9uIGJ1dHRvbiBoYW5kbGVyc1xuICAgIGNvbnRlbnRTZWN0aW9uQnV0dG9ucy5mb3JFYWNoKGJ0biA9PiB7XG4gICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHNlY3Rpb24gPSBidG4uZGF0YXNldC5jb250ZW50U2VjdGlvbjtcbiAgICAgICAgaWYgKHNlY3Rpb24gPT09ICdoZWFkZXInIHx8IHNlY3Rpb24gPT09ICdmb290ZXInKSB7XG4gICAgICAgICAgc2hvd0NvbnRlbnRWaWV3KHNlY3Rpb24pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBjb250ZW50U2VjdGlvblRyaWdnZXJzLmZvckVhY2goYnRuID0+IHtcbiAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgY29uc3Qgc2VjdGlvbiA9IGJ0bi5kYXRhc2V0LmNvbnRlbnRTZWN0aW9uVHJpZ2dlcjtcbiAgICAgICAgaWYgKHNlY3Rpb24pIHNob3dDb250ZW50VmlldyhzZWN0aW9uKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIFxuICAgIC8vIFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFxuICAgIC8vIEhFQURFUiBGVU5DVElPTlNcbiAgICAvLyBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcbiAgICBcbiAgICAvLyBDaGFyZ2VyIGxhIGxpc3RlIGRlcyBwYWdlcyBkdSBzaXRlIHBvdXIgbGVzIGNoZWNrYm94ZXNcbiAgICBjb25zdCBsb2FkU2l0ZVBhZ2VzRm9ySGVhZGVyID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFzbHVnIHx8ICFoZWFkZXJQYWdlc0xpc3QpIHJldHVybjtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvc2l0ZXMvJHtzbHVnfS9wYWdlc2AsIHsgY3JlZGVudGlhbHM6ICdpbmNsdWRlJyB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgdGhyb3cgbmV3IEVycm9yKCdFcnJldXIgY2hhcmdlbWVudCBwYWdlcycpO1xuICAgICAgICBzaXRlUGFnZXMgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIHJlbmRlclBhZ2VDaGVja2JveGVzKCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2hlYWRlcl0gbG9hZCBwYWdlcyBlcnJvcicsIGVycik7XG4gICAgICAgIGhlYWRlclBhZ2VzTGlzdC5pbm5lckhUTUwgPSAnPHAgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtcmVkLTUwMFwiPkVycmV1ciBjaGFyZ2VtZW50IHBhZ2VzPC9wPic7XG4gICAgICB9XG4gICAgfTtcbiAgICBcbiAgICAvLyBBZmZpY2hlciBsZXMgY2hlY2tib3hlcyBwb3VyIGNoYXF1ZSBwYWdlXG4gIGNvbnN0IG5vcm1hbGl6ZU5hdlBhZ2VVcmwgPSAodmFsdWUpID0+IHtcbiAgICBjb25zdCByYXcgPSAodmFsdWUgfHwgJycpLnRvU3RyaW5nKCkudHJpbSgpO1xuICAgIGlmICghcmF3IHx8IHJhdyA9PT0gJy8nIHx8IHJhdyA9PT0gJ2luZGV4Jykge1xuICAgICAgcmV0dXJuICcvJztcbiAgICB9XG4gICAgY29uc3QgbG93ZXIgPSByYXcudG9Mb3dlckNhc2UoKTtcbiAgICBpZiAocmF3LnN0YXJ0c1dpdGgoJyMnKSkge1xuICAgICAgcmV0dXJuIHJhdztcbiAgICB9XG4gICAgaWYgKGxvd2VyLnN0YXJ0c1dpdGgoJ21haWx0bzonKSB8fCBsb3dlci5zdGFydHNXaXRoKCd0ZWw6JykpIHtcbiAgICAgIHJldHVybiByYXc7XG4gICAgfVxuICAgIGlmICgvXlthLXpdKzpcXC9cXC8vaS50ZXN0KHJhdykpIHtcbiAgICAgIHJldHVybiByYXc7XG4gICAgfVxuICAgIGlmIChyYXcuc3RhcnRzV2l0aCgnLy8nKSkge1xuICAgICAgY29uc3Qgd2l0aG91dFNsYXNoZXMgPSByYXcuc2xpY2UoMik7XG4gICAgICBpZiAod2l0aG91dFNsYXNoZXMuaW5jbHVkZXMoJy4nKSkge1xuICAgICAgICByZXR1cm4gcmF3O1xuICAgICAgfVxuICAgICAgY29uc3QgY2xlYW5lZEludGVybmFsID0gd2l0aG91dFNsYXNoZXMucmVwbGFjZSgvXlxcLysvLCAnJykucmVwbGFjZSgvXFwvKyQvLCAnJyk7XG4gICAgICByZXR1cm4gY2xlYW5lZEludGVybmFsID8gYC8ke2NsZWFuZWRJbnRlcm5hbH1gIDogJy8nO1xuICAgIH1cbiAgICBjb25zdCBjbGVhbmVkID0gcmF3LnJlcGxhY2UoL15cXC8rLywgJycpLnJlcGxhY2UoL1xcLyskLywgJycpO1xuICAgIHJldHVybiBjbGVhbmVkID8gYC8ke2NsZWFuZWR9YCA6ICcvJztcbiAgfTtcbiAgY29uc3Qgbm9ybWFsaXplT3B0aW9uYWxOYXZVcmwgPSAodmFsdWUsIGRlZmF1bHRWYWx1ZSA9ICcnKSA9PiB7XG4gICAgY29uc3QgdHJpbW1lZCA9ICh2YWx1ZSB8fCAnJykudG9TdHJpbmcoKS50cmltKCk7XG4gICAgaWYgKCF0cmltbWVkKSB7XG4gICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gbm9ybWFsaXplTmF2UGFnZVVybCh0cmltbWVkKTtcbiAgfTtcblxuICBjb25zdCByZW5kZXJQYWdlQ2hlY2tib3hlcyA9ICgpID0+IHtcbiAgICBpZiAoIWhlYWRlclBhZ2VzTGlzdCkgcmV0dXJuO1xuICAgIGhlYWRlclBhZ2VzTGlzdC5pbm5lckhUTUwgPSAnJztcblxuICAgIGlmIChzaXRlUGFnZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGhlYWRlclBhZ2VzTGlzdC5pbm5lckhUTUwgPSAnPHAgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNDAwIGl0YWxpY1wiPkF1Y3VuZSBwYWdlIGRpc3BvbmlibGU8L3A+JztcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgXG4gICAgc2l0ZVBhZ2VzLmZvckVhY2goKHBhZ2UpID0+IHtcbiAgICAgIGNvbnN0IHBhZ2VTbHVnID0gcGFnZS5zbHVnIHx8IHBhZ2UuaWQgfHwgJyc7XG4gICAgICAvLyBVc2UgcGFnZS5uYW1lIChzaG9ydCBuYW1lKSBpZiBhdmFpbGFibGUsIGZhbGxiYWNrIHRvIHRpdGxlXG4gICAgICBjb25zdCBwYWdlRGlzcGxheU5hbWUgPSBwYWdlLm5hbWUgfHwgcGFnZS50aXRsZSB8fCBwYWdlU2x1ZztcbiAgICAgIGNvbnN0IHBhZ2VVcmwgPSBub3JtYWxpemVOYXZQYWdlVXJsKHBhZ2VTbHVnKTtcblxuICAgICAgLy8gVlx1MDBFOXJpZmllciBzaSBjZXR0ZSBwYWdlIGVzdCBzXHUwMEU5bGVjdGlvbm5cdTAwRTllIGRhbnMgbGEgbmF2XG4gICAgICBjb25zdCBpc1NlbGVjdGVkID0gc2VsZWN0ZWROYXZQYWdlcy5zb21lKG5hdiA9PiBuYXYudXJsID09PSBwYWdlVXJsKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgICAgICAgbGFiZWwuY2xhc3NOYW1lID0gJ2ZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHB4LTMgcHktMiByb3VuZGVkLWxnIGJvcmRlciBib3JkZXItc2xhdGUtMjAwIGhvdmVyOmJnLXNsYXRlLTUwIGN1cnNvci1wb2ludGVyIHRyYW5zaXRpb24tY29sb3JzJztcbiAgICAgICAgbGFiZWwuaW5uZXJIVE1MID0gYFxuICAgICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuYW1lPVwibmF2LXBhZ2VcIiB2YWx1ZT1cIiR7cGFnZVVybH1cIiBkYXRhLXBhZ2UtdGl0bGU9XCIke3BhZ2VEaXNwbGF5TmFtZX1cIlxuICAgICAgICAgICAgICAgICBjbGFzcz1cInctNCBoLTQgcm91bmRlZCBib3JkZXItc2xhdGUtMzAwIHRleHQtdmlvbGV0LTYwMCBmb2N1czpyaW5nLXZpb2xldC01MDBcIlxuICAgICAgICAgICAgICAgICAke2lzU2VsZWN0ZWQgPyAnY2hlY2tlZCcgOiAnJ30+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJmbGV4LTEgdGV4dC1zbSB0ZXh0LXNsYXRlLTcwMFwiPiR7cGFnZURpc3BsYXlOYW1lfTwvc3Bhbj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQteHMgdGV4dC1zbGF0ZS00MDBcIj4ke3BhZ2VVcmx9PC9zcGFuPlxuICAgICAgICBgO1xuICAgICAgICBcbiAgICAgICAgLy8gTWV0dHJlIFx1MDBFMCBqb3VyIHNlbGVjdGVkTmF2UGFnZXMgcXVhbmQgb24gY29jaGUvZFx1MDBFOWNvY2hlXG4gICAgICAgIGNvbnN0IGNoZWNrYm94ID0gbGFiZWwucXVlcnlTZWxlY3RvcignaW5wdXQnKTtcbiAgICAgICAgY2hlY2tib3guYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICAgICAgICAgIGlmIChjaGVja2JveC5jaGVja2VkKSB7XG4gICAgICAgICAgICBjb25zdCBleGlzdGluZ0luZGV4ID0gc2VsZWN0ZWROYXZQYWdlcy5maW5kSW5kZXgoKG5hdikgPT4gbmF2LnVybCA9PT0gcGFnZVVybCk7XG4gICAgICAgICAgICBpZiAoZXhpc3RpbmdJbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgc2VsZWN0ZWROYXZQYWdlcy5wdXNoKHsgbGFiZWw6IHBhZ2VEaXNwbGF5TmFtZSwgdXJsOiBwYWdlVXJsIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc2VsZWN0ZWROYXZQYWdlc1tleGlzdGluZ0luZGV4XSA9IHsgLi4uc2VsZWN0ZWROYXZQYWdlc1tleGlzdGluZ0luZGV4XSwgbGFiZWw6IHBhZ2VEaXNwbGF5TmFtZSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZWxlY3RlZE5hdlBhZ2VzID0gc2VsZWN0ZWROYXZQYWdlcy5maWx0ZXIoKG5hdikgPT4gbmF2LnVybCAhPT0gcGFnZVVybCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlbmRlckhlYWRlck5hdk9yZGVyKCk7XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgaGVhZGVyUGFnZXNMaXN0LmFwcGVuZENoaWxkKGxhYmVsKTtcbiAgICAgIH0pO1xuXG4gICAgICByZW5kZXJIZWFkZXJOYXZPcmRlcigpO1xuICAgIH07XG5cbiAgICBjb25zdCByZW5kZXJIZWFkZXJOYXZPcmRlciA9ICgpID0+IHtcbiAgICAgIGlmICghaGVhZGVyTmF2T3JkZXJMaXN0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGhlYWRlck5hdk9yZGVyTGlzdC5pbm5lckhUTUwgPSAnJztcblxuICAgICAgaWYgKCFzZWxlY3RlZE5hdlBhZ2VzIHx8IHNlbGVjdGVkTmF2UGFnZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGNvbnN0IGVtcHR5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgICAgICBlbXB0eS5jbGFzc05hbWUgPSAndGV4dC14cyB0ZXh0LXNsYXRlLTQwMCBpdGFsaWMnO1xuICAgICAgICBlbXB0eS50ZXh0Q29udGVudCA9ICdBdWN1biBsaWVuIGRlIG1lbnUgc1x1MDBFOWxlY3Rpb25uXHUwMEU5Lic7XG4gICAgICAgIGhlYWRlck5hdk9yZGVyTGlzdC5hcHBlbmRDaGlsZChlbXB0eSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgc2VsZWN0ZWROYXZQYWdlcy5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4ge1xuICAgICAgICBjb25zdCByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgcm93LmNsYXNzTmFtZSA9XG4gICAgICAgICAgJ2ZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHJvdW5kZWQteGwgYm9yZGVyIGJvcmRlci1zbGF0ZS0yMDAgYmctd2hpdGUgcHgtMyBweS0yJztcbiAgICAgICAgcm93LmRhdGFzZXQubmF2VXJsID0gaXRlbS51cmw7XG5cbiAgICAgICAgY29uc3QgbWV0YSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBtZXRhLmNsYXNzTmFtZSA9ICdmbGV4LTEgbWluLXctMCc7XG4gICAgICAgIGNvbnN0IGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgICAgICBsYWJlbC5jbGFzc05hbWUgPSAndGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LXNsYXRlLTgwMCB0cnVuY2F0ZSc7XG4gICAgICAgIGxhYmVsLnRleHRDb250ZW50ID0gaXRlbS5sYWJlbCB8fCBpdGVtLnVybDtcbiAgICAgICAgY29uc3QgdXJsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgICAgICB1cmwuY2xhc3NOYW1lID0gJ3RleHQtWzExcHhdIHRleHQtc2xhdGUtNDAwIHRydW5jYXRlJztcbiAgICAgICAgdXJsLnRleHRDb250ZW50ID0gaXRlbS51cmw7XG4gICAgICAgIG1ldGEuYXBwZW5kQ2hpbGQobGFiZWwpO1xuICAgICAgICBtZXRhLmFwcGVuZENoaWxkKHVybCk7XG5cbiAgICAgICAgY29uc3QgY29udHJvbHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgY29udHJvbHMuY2xhc3NOYW1lID0gJ2ZsZXggaXRlbXMtY2VudGVyIGdhcC0xJztcblxuICAgICAgICBjb25zdCB1cCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICB1cC50eXBlID0gJ2J1dHRvbic7XG4gICAgICAgIHVwLmNsYXNzTmFtZSA9XG4gICAgICAgICAgJ3JvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1zbGF0ZS0yMDAgcHgtMiBweS0xIHRleHQteHMgZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTYwMCBob3ZlcjpiZy1zbGF0ZS01MCBkaXNhYmxlZDpvcGFjaXR5LTQwIGRpc2FibGVkOmhvdmVyOmJnLXRyYW5zcGFyZW50JztcbiAgICAgICAgdXAudGV4dENvbnRlbnQgPSAnXHUyMTkxJztcbiAgICAgICAgdXAuc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgYE1vbnRlciAke2l0ZW0ubGFiZWwgfHwgaXRlbS51cmx9YCk7XG4gICAgICAgIHVwLmRpc2FibGVkID0gaW5kZXggPT09IDA7XG4gICAgICAgIHVwLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgIGlmIChpbmRleCA8PSAwKSByZXR1cm47XG4gICAgICAgICAgY29uc3QgbmV4dCA9IFsuLi5zZWxlY3RlZE5hdlBhZ2VzXTtcbiAgICAgICAgICBjb25zdCB0bXAgPSBuZXh0W2luZGV4IC0gMV07XG4gICAgICAgICAgbmV4dFtpbmRleCAtIDFdID0gbmV4dFtpbmRleF07XG4gICAgICAgICAgbmV4dFtpbmRleF0gPSB0bXA7XG4gICAgICAgICAgc2VsZWN0ZWROYXZQYWdlcyA9IG5leHQ7XG4gICAgICAgICAgcmVuZGVySGVhZGVyTmF2T3JkZXIoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgZG93biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICBkb3duLnR5cGUgPSAnYnV0dG9uJztcbiAgICAgICAgZG93bi5jbGFzc05hbWUgPVxuICAgICAgICAgICdyb3VuZGVkLWxnIGJvcmRlciBib3JkZXItc2xhdGUtMjAwIHB4LTIgcHktMSB0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgdGV4dC1zbGF0ZS02MDAgaG92ZXI6Ymctc2xhdGUtNTAgZGlzYWJsZWQ6b3BhY2l0eS00MCBkaXNhYmxlZDpob3ZlcjpiZy10cmFuc3BhcmVudCc7XG4gICAgICAgIGRvd24udGV4dENvbnRlbnQgPSAnXHUyMTkzJztcbiAgICAgICAgZG93bi5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCBgRGVzY2VuZHJlICR7aXRlbS5sYWJlbCB8fCBpdGVtLnVybH1gKTtcbiAgICAgICAgZG93bi5kaXNhYmxlZCA9IGluZGV4ID09PSBzZWxlY3RlZE5hdlBhZ2VzLmxlbmd0aCAtIDE7XG4gICAgICAgIGRvd24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgaWYgKGluZGV4ID49IHNlbGVjdGVkTmF2UGFnZXMubGVuZ3RoIC0gMSkgcmV0dXJuO1xuICAgICAgICAgIGNvbnN0IG5leHQgPSBbLi4uc2VsZWN0ZWROYXZQYWdlc107XG4gICAgICAgICAgY29uc3QgdG1wID0gbmV4dFtpbmRleCArIDFdO1xuICAgICAgICAgIG5leHRbaW5kZXggKyAxXSA9IG5leHRbaW5kZXhdO1xuICAgICAgICAgIG5leHRbaW5kZXhdID0gdG1wO1xuICAgICAgICAgIHNlbGVjdGVkTmF2UGFnZXMgPSBuZXh0O1xuICAgICAgICAgIHJlbmRlckhlYWRlck5hdk9yZGVyKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHJlbW92ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICByZW1vdmUudHlwZSA9ICdidXR0b24nO1xuICAgICAgICByZW1vdmUuY2xhc3NOYW1lID1cbiAgICAgICAgICAncm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLXNsYXRlLTIwMCBweC0yIHB5LTEgdGV4dC14cyBmb250LXNlbWlib2xkIHRleHQtcm9zZS03MDAgaG92ZXI6Ymctcm9zZS01MCc7XG4gICAgICAgIHJlbW92ZS50ZXh0Q29udGVudCA9ICdcdTI3MTUnO1xuICAgICAgICByZW1vdmUuc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgYFJldGlyZXIgJHtpdGVtLmxhYmVsIHx8IGl0ZW0udXJsfWApO1xuICAgICAgICByZW1vdmUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgc2VsZWN0ZWROYXZQYWdlcyA9IHNlbGVjdGVkTmF2UGFnZXMuZmlsdGVyKChuYXYpID0+IG5hdi51cmwgIT09IGl0ZW0udXJsKTtcbiAgICAgICAgICBjb25zdCBjaGVja2JveCA9IGhlYWRlclBhZ2VzTGlzdD8ucXVlcnlTZWxlY3RvcihcbiAgICAgICAgICAgIGBpbnB1dFtuYW1lPVxcXCJuYXYtcGFnZVxcXCJdW3ZhbHVlPVxcXCIke0NTUy5lc2NhcGUoaXRlbS51cmwpfVxcXCJdYCxcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmIChjaGVja2JveCkgY2hlY2tib3guY2hlY2tlZCA9IGZhbHNlO1xuICAgICAgICAgIHJlbmRlckhlYWRlck5hdk9yZGVyKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnRyb2xzLmFwcGVuZENoaWxkKHVwKTtcbiAgICAgICAgY29udHJvbHMuYXBwZW5kQ2hpbGQoZG93bik7XG4gICAgICAgIGNvbnRyb2xzLmFwcGVuZENoaWxkKHJlbW92ZSk7XG5cbiAgICAgICAgcm93LmFwcGVuZENoaWxkKG1ldGEpO1xuICAgICAgICByb3cuYXBwZW5kQ2hpbGQoY29udHJvbHMpO1xuICAgICAgICBoZWFkZXJOYXZPcmRlckxpc3QuYXBwZW5kQ2hpbGQocm93KTtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgXG4gICAgY29uc3QgY29sbGVjdEhlYWRlckRhdGEgPSAoKSA9PiB7XG4gICAgICBjb25zdCBuYXYgPSAoc2VsZWN0ZWROYXZQYWdlcyB8fCBbXSlcbiAgICAgICAgLm1hcCgoaXRlbSkgPT4gKHtcbiAgICAgICAgICBsYWJlbDogKGl0ZW0ubGFiZWwgfHwgaXRlbS51cmwgfHwgJycpLnRvU3RyaW5nKCkudHJpbSgpLFxuICAgICAgICAgIHVybDogbm9ybWFsaXplTmF2UGFnZVVybChpdGVtLnVybCksXG4gICAgICAgIH0pKVxuICAgICAgICAuZmlsdGVyKChpdGVtKSA9PiBpdGVtLnVybCk7XG4gICAgICBcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGxvZ286IHtcbiAgICAgICAgICBzcmM6IGhlYWRlckZpZWxkcy5sb2dvPy52YWx1ZT8udHJpbSgpIHx8ICcnLFxuICAgICAgICAgIGFsdDogaGVhZGVyRmllbGRzLmxvZ29BbHQ/LnZhbHVlPy50cmltKCkgfHwgJycsXG4gICAgICAgICAgdXJsOiBub3JtYWxpemVPcHRpb25hbE5hdlVybChoZWFkZXJGaWVsZHMubG9nb1VybD8udmFsdWUsICcvJyksXG4gICAgICAgIH0sXG4gICAgICAgIG5hdixcbiAgICAgICAgY3RhOiB7XG4gICAgICAgICAgdGV4dDogaGVhZGVyRmllbGRzLmN0YVRleHQ/LnZhbHVlPy50cmltKCkgfHwgJycsXG4gICAgICAgICAgdXJsOiBub3JtYWxpemVPcHRpb25hbE5hdlVybChoZWFkZXJGaWVsZHMuY3RhVXJsPy52YWx1ZSwgJycpLFxuICAgICAgICAgIHN0eWxlOiBoZWFkZXJGaWVsZHMuY3RhU3R5bGU/LnZhbHVlIHx8ICdwcmltYXJ5JyxcbiAgICAgICAgICB0ZXh0Q29sb3I6IGhlYWRlckZpZWxkcy5jdGFUZXh0Q29sb3I/LnZhbHVlIHx8ICcnLFxuICAgICAgICB9LFxuICAgICAgICBzdHlsZToge1xuICAgICAgICAgIHBvc2l0aW9uOiBoZWFkZXJGaWVsZHMucG9zaXRpb24/LnZhbHVlIHx8ICdzdGF0aWMnLFxuICAgICAgICAgIGJnOiBoZWFkZXJGaWVsZHMuYmc/LnZhbHVlIHx8ICdiZy13aGl0ZScsXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgIH07XG4gICAgXG4gICAgY29uc3QgcG9wdWxhdGVIZWFkZXJGb3JtID0gYXN5bmMgKGRhdGEpID0+IHtcbiAgICAgIGlmICghZGF0YSkgcmV0dXJuO1xuICAgICAgaWYgKGhlYWRlckZpZWxkcy5sb2dvKSBoZWFkZXJGaWVsZHMubG9nby52YWx1ZSA9IGRhdGEubG9nbz8uc3JjIHx8ICcnO1xuICAgICAgaWYgKGhlYWRlckZpZWxkcy5sb2dvQWx0KSBoZWFkZXJGaWVsZHMubG9nb0FsdC52YWx1ZSA9IGRhdGEubG9nbz8uYWx0IHx8ICcnO1xuICAgICAgaWYgKGhlYWRlckZpZWxkcy5sb2dvVXJsKSBoZWFkZXJGaWVsZHMubG9nb1VybC52YWx1ZSA9IG5vcm1hbGl6ZU9wdGlvbmFsTmF2VXJsKGRhdGEubG9nbz8udXJsLCAnLycpO1xuICAgICAgaWYgKGhlYWRlckZpZWxkcy5jdGFUZXh0KSBoZWFkZXJGaWVsZHMuY3RhVGV4dC52YWx1ZSA9IGRhdGEuY3RhPy50ZXh0IHx8ICcnO1xuICAgICAgaWYgKGhlYWRlckZpZWxkcy5jdGFVcmwpIGhlYWRlckZpZWxkcy5jdGFVcmwudmFsdWUgPSBub3JtYWxpemVPcHRpb25hbE5hdlVybChkYXRhLmN0YT8udXJsLCAnJyk7XG4gICAgICBpZiAoaGVhZGVyRmllbGRzLmN0YVN0eWxlKSBoZWFkZXJGaWVsZHMuY3RhU3R5bGUudmFsdWUgPSBkYXRhLmN0YT8uc3R5bGUgfHwgJ3ByaW1hcnknO1xuICAgICAgaWYgKGhlYWRlckZpZWxkcy5jdGFUZXh0Q29sb3IpIGhlYWRlckZpZWxkcy5jdGFUZXh0Q29sb3IudmFsdWUgPSBkYXRhLmN0YT8udGV4dENvbG9yIHx8ICcnO1xuICAgICAgaWYgKGhlYWRlckZpZWxkcy5wb3NpdGlvbikgaGVhZGVyRmllbGRzLnBvc2l0aW9uLnZhbHVlID0gZGF0YS5zdHlsZT8ucG9zaXRpb24gfHwgJ3N0YXRpYyc7XG4gICAgICBpZiAoaGVhZGVyRmllbGRzLmJnKSBoZWFkZXJGaWVsZHMuYmcudmFsdWUgPSBkYXRhLnN0eWxlPy5iZyB8fCAnYmctd2hpdGUnO1xuICAgICAgXG4gICAgICAvLyBTdG9ja2VyIGxlcyBwYWdlcyBzXHUwMEU5bGVjdGlvbm5cdTAwRTllcyBwb3VyIGxlcyBjaGVja2JveGVzXG4gICAgICBzZWxlY3RlZE5hdlBhZ2VzID0gKGRhdGEubmF2IHx8IFtdKS5tYXAoKGl0ZW0pID0+ICh7XG4gICAgICAgIC4uLml0ZW0sXG4gICAgICAgIHVybDogbm9ybWFsaXplTmF2UGFnZVVybChpdGVtLnVybCksXG4gICAgICB9KSk7XG4gICAgICBcbiAgICAgIC8vIENoYXJnZXIgbGVzIHBhZ2VzIGV0IGFmZmljaGVyIGxlcyBjaGVja2JveGVzXG4gICAgICBhd2FpdCBsb2FkU2l0ZVBhZ2VzRm9ySGVhZGVyKCk7XG4gICAgICBcbiAgICAgIC8vIFVwZGF0ZSBzdGF0dXMgaW5kaWNhdG9yXG4gICAgICBjb25zdCBoYXNEYXRhID0gZGF0YS5sb2dvPy5zcmMgfHwgZGF0YS5uYXY/Lmxlbmd0aCA+IDAgfHwgZGF0YS5jdGE/LnRleHQ7XG4gICAgICBpZiAoaGVhZGVyU3RhdHVzSW5kaWNhdG9yKSB7XG4gICAgICAgIGhlYWRlclN0YXR1c0luZGljYXRvci5jbGFzc0xpc3QudG9nZ2xlKCdiZy1ncmVlbi01MDAnLCAhIWhhc0RhdGEpO1xuICAgICAgICBoZWFkZXJTdGF0dXNJbmRpY2F0b3IuY2xhc3NMaXN0LnRvZ2dsZSgnYmctc2xhdGUtMzAwJywgIWhhc0RhdGEpO1xuICAgICAgICBoZWFkZXJTdGF0dXNJbmRpY2F0b3IudGl0bGUgPSBoYXNEYXRhID8gJ0NvbmZpZ3VyXHUwMEU5JyA6ICdOb24gY29uZmlndXJcdTAwRTknO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBoZWFkZXJTYXZlQnRuPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghbGF5b3V0QXBpQmFzZSkgcmV0dXJuO1xuICAgICAgaGVhZGVyU2F2ZUJ0bi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICBoZWFkZXJTYXZlQnRuLnRleHRDb250ZW50ID0gJ0VucmVnaXN0cmVtZW50Li4uJztcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBjb2xsZWN0SGVhZGVyRGF0YSgpO1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke2xheW91dEFwaUJhc2V9L2hlYWRlcmAsIHtcbiAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZScsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB0aHJvdyBuZXcgRXJyb3IoJ0VycmV1ciBzZXJ2ZXVyJyk7XG4gICAgICAgIGhlYWRlckRhdGEgPSBkYXRhO1xuICAgICAgICBwb3B1bGF0ZUhlYWRlckZvcm0oZGF0YSk7XG4gICAgICAgIHNob3dUb2FzdCgnSGVhZGVyIGVucmVnaXN0clx1MDBFOScpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1toZWFkZXJdIHNhdmUgZXJyb3InLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoJ0VycmV1ciBsb3JzIGRlIGxcXCdlbnJlZ2lzdHJlbWVudCcsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaGVhZGVyU2F2ZUJ0bi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICBoZWFkZXJTYXZlQnRuLnRleHRDb250ZW50ID0gJ0VucmVnaXN0cmVyJztcbiAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICAvLyBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcbiAgICAvLyBGT09URVIgRlVOQ1RJT05TXG4gICAgLy8gXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXG4gICAgY29uc3QgYWRkRm9vdGVyTGluayA9IChjb250YWluZXIsIGxhYmVsID0gJycsIHVybCA9ICcnKSA9PiB7XG4gICAgICBpZiAoIWZvb3RlckxpbmtUZW1wbGF0ZSB8fCAhY29udGFpbmVyKSByZXR1cm47XG4gICAgICBjb25zdCBjbG9uZSA9IGZvb3RlckxpbmtUZW1wbGF0ZS5jb250ZW50LmNsb25lTm9kZSh0cnVlKTtcbiAgICAgIGNvbnN0IGl0ZW0gPSBjbG9uZS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1mb290ZXItbGlua10nKTtcbiAgICAgIGNvbnN0IGxhYmVsSW5wdXQgPSBjbG9uZS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImxpbmstbGFiZWxcIl0nKTtcbiAgICAgIGNvbnN0IHVybElucHV0ID0gY2xvbmUucXVlcnlTZWxlY3RvcignW25hbWU9XCJsaW5rLXVybFwiXScpO1xuICAgICAgY29uc3QgcmVtb3ZlQnRuID0gY2xvbmUucXVlcnlTZWxlY3RvcignW2RhdGEtbGluay1yZW1vdmVdJyk7XG4gICAgICBpZiAobGFiZWxJbnB1dCkgbGFiZWxJbnB1dC52YWx1ZSA9IGxhYmVsO1xuICAgICAgaWYgKHVybElucHV0KSB1cmxJbnB1dC52YWx1ZSA9IHVybDtcbiAgICAgIHJlbW92ZUJ0bj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBpdGVtPy5yZW1vdmUoKSk7XG4gICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoY2xvbmUpO1xuICAgIH07XG4gICAgXG4gICAgY29uc3QgYWRkRm9vdGVyQ29sdW1uID0gKHRpdGxlID0gJycsIGxpbmtzID0gW10pID0+IHtcbiAgICAgIGlmICghZm9vdGVyQ29sdW1uVGVtcGxhdGUgfHwgIWZvb3RlckNvbHVtbnNMaXN0KSByZXR1cm47XG4gICAgICBjb25zdCBjbG9uZSA9IGZvb3RlckNvbHVtblRlbXBsYXRlLmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpO1xuICAgICAgY29uc3QgY29sdW1uID0gY2xvbmUucXVlcnlTZWxlY3RvcignW2RhdGEtZm9vdGVyLWNvbHVtbl0nKTtcbiAgICAgIGNvbnN0IHRpdGxlSW5wdXQgPSBjbG9uZS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImNvbHVtbi10aXRsZVwiXScpO1xuICAgICAgY29uc3QgbGlua3NDb250YWluZXIgPSBjbG9uZS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2x1bW4tbGlua3NdJyk7XG4gICAgICBjb25zdCBhZGRMaW5rQnRuID0gY2xvbmUucXVlcnlTZWxlY3RvcignW2RhdGEtY29sdW1uLWxpbmstYWRkXScpO1xuICAgICAgY29uc3QgcmVtb3ZlQnRuID0gY2xvbmUucXVlcnlTZWxlY3RvcignW2RhdGEtY29sdW1uLXJlbW92ZV0nKTtcbiAgICAgIGlmICh0aXRsZUlucHV0KSB0aXRsZUlucHV0LnZhbHVlID0gdGl0bGU7XG4gICAgICBsaW5rcy5mb3JFYWNoKGxpbmsgPT4gYWRkRm9vdGVyTGluayhsaW5rc0NvbnRhaW5lciwgbGluay5sYWJlbCwgbGluay51cmwpKTtcbiAgICAgIGFkZExpbmtCdG4/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gYWRkRm9vdGVyTGluayhsaW5rc0NvbnRhaW5lcikpO1xuICAgICAgcmVtb3ZlQnRuPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGNvbHVtbj8ucmVtb3ZlKCkpO1xuICAgICAgZm9vdGVyQ29sdW1uc0xpc3QuYXBwZW5kQ2hpbGQoY2xvbmUpO1xuICAgIH07XG4gICAgXG4gICAgY29uc3QgY29sbGVjdEZvb3RlckRhdGEgPSAoKSA9PiB7XG4gICAgICBjb25zdCBjb2x1bW5zID0gW107XG4gICAgICBmb290ZXJDb2x1bW5zTGlzdD8ucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtZm9vdGVyLWNvbHVtbl0nKS5mb3JFYWNoKGNvbCA9PiB7XG4gICAgICAgIGNvbnN0IHRpdGxlID0gY29sLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiY29sdW1uLXRpdGxlXCJdJyk/LnZhbHVlPy50cmltKCkgfHwgJyc7XG4gICAgICAgIGNvbnN0IGxpbmtzID0gW107XG4gICAgICAgIGNvbC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1mb290ZXItbGlua10nKS5mb3JFYWNoKGxpbmtFbCA9PiB7XG4gICAgICAgICAgY29uc3QgbGFiZWwgPSBsaW5rRWwucXVlcnlTZWxlY3RvcignW25hbWU9XCJsaW5rLWxhYmVsXCJdJyk/LnZhbHVlPy50cmltKCkgfHwgJyc7XG4gICAgICAgICAgY29uc3QgdXJsID0gbGlua0VsLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwibGluay11cmxcIl0nKT8udmFsdWU/LnRyaW0oKSB8fCAnJztcbiAgICAgICAgICBpZiAobGFiZWwgfHwgdXJsKSBsaW5rcy5wdXNoKHsgbGFiZWwsIHVybCB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh0aXRsZSB8fCBsaW5rcy5sZW5ndGggPiAwKSBjb2x1bW5zLnB1c2goeyB0aXRsZSwgbGlua3MgfSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNvbHVtbnMsXG4gICAgICAgIHNvY2lhbHM6IHtcbiAgICAgICAgICBsaW5rZWRpbjogZm9vdGVyRmllbGRzLmxpbmtlZGluPy52YWx1ZT8udHJpbSgpIHx8ICcnLFxuICAgICAgICAgIHR3aXR0ZXI6IGZvb3RlckZpZWxkcy50d2l0dGVyPy52YWx1ZT8udHJpbSgpIHx8ICcnLFxuICAgICAgICAgIGluc3RhZ3JhbTogZm9vdGVyRmllbGRzLmluc3RhZ3JhbT8udmFsdWU/LnRyaW0oKSB8fCAnJyxcbiAgICAgICAgICBmYWNlYm9vazogZm9vdGVyRmllbGRzLmZhY2Vib29rPy52YWx1ZT8udHJpbSgpIHx8ICcnLFxuICAgICAgICAgIHlvdXR1YmU6IGZvb3RlckZpZWxkcy55b3V0dWJlPy52YWx1ZT8udHJpbSgpIHx8ICcnLFxuICAgICAgICAgIGdpdGh1YjogZm9vdGVyRmllbGRzLmdpdGh1Yj8udmFsdWU/LnRyaW0oKSB8fCAnJyxcbiAgICAgICAgfSxcbiAgICAgICAgY29weXJpZ2h0OiBmb290ZXJGaWVsZHMuY29weXJpZ2h0Py52YWx1ZT8udHJpbSgpIHx8ICcnLFxuICAgICAgICBsZWdhbDoge1xuICAgICAgICAgIHVybDogZm9vdGVyRmllbGRzLmxlZ2FsVXJsPy52YWx1ZT8udHJpbSgpIHx8ICcnLFxuICAgICAgICAgIHByaXZhY3lVcmw6IGZvb3RlckZpZWxkcy5wcml2YWN5VXJsPy52YWx1ZT8udHJpbSgpIHx8ICcnLFxuICAgICAgICB9LFxuICAgICAgICBzdHlsZToge1xuICAgICAgICAgIGJnOiBmb290ZXJGaWVsZHMuYmc/LnZhbHVlIHx8ICdiZy1zbGF0ZS05MDAgdGV4dC13aGl0ZScsXG4gICAgICAgICAgY29sdW1uc0NvdW50OiBmb290ZXJGaWVsZHMuY29sdW1uc0NvdW50Py52YWx1ZSB8fCAnNCcsXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgIH07XG4gICAgXG4gICAgY29uc3QgcG9wdWxhdGVGb290ZXJGb3JtID0gKGRhdGEpID0+IHtcbiAgICAgIGlmICghZGF0YSkgcmV0dXJuO1xuICAgICAgaWYgKGZvb3RlckZpZWxkcy5saW5rZWRpbikgZm9vdGVyRmllbGRzLmxpbmtlZGluLnZhbHVlID0gZGF0YS5zb2NpYWxzPy5saW5rZWRpbiB8fCAnJztcbiAgICAgIGlmIChmb290ZXJGaWVsZHMudHdpdHRlcikgZm9vdGVyRmllbGRzLnR3aXR0ZXIudmFsdWUgPSBkYXRhLnNvY2lhbHM/LnR3aXR0ZXIgfHwgJyc7XG4gICAgICBpZiAoZm9vdGVyRmllbGRzLmluc3RhZ3JhbSkgZm9vdGVyRmllbGRzLmluc3RhZ3JhbS52YWx1ZSA9IGRhdGEuc29jaWFscz8uaW5zdGFncmFtIHx8ICcnO1xuICAgICAgaWYgKGZvb3RlckZpZWxkcy5mYWNlYm9vaykgZm9vdGVyRmllbGRzLmZhY2Vib29rLnZhbHVlID0gZGF0YS5zb2NpYWxzPy5mYWNlYm9vayB8fCAnJztcbiAgICAgIGlmIChmb290ZXJGaWVsZHMueW91dHViZSkgZm9vdGVyRmllbGRzLnlvdXR1YmUudmFsdWUgPSBkYXRhLnNvY2lhbHM/LnlvdXR1YmUgfHwgJyc7XG4gICAgICBpZiAoZm9vdGVyRmllbGRzLmdpdGh1YikgZm9vdGVyRmllbGRzLmdpdGh1Yi52YWx1ZSA9IGRhdGEuc29jaWFscz8uZ2l0aHViIHx8ICcnO1xuICAgICAgaWYgKGZvb3RlckZpZWxkcy5jb3B5cmlnaHQpIGZvb3RlckZpZWxkcy5jb3B5cmlnaHQudmFsdWUgPSBkYXRhLmNvcHlyaWdodCB8fCAnJztcbiAgICAgIGlmIChmb290ZXJGaWVsZHMubGVnYWxVcmwpIGZvb3RlckZpZWxkcy5sZWdhbFVybC52YWx1ZSA9IGRhdGEubGVnYWw/LnVybCB8fCAnJztcbiAgICAgIGlmIChmb290ZXJGaWVsZHMucHJpdmFjeVVybCkgZm9vdGVyRmllbGRzLnByaXZhY3lVcmwudmFsdWUgPSBkYXRhLmxlZ2FsPy5wcml2YWN5VXJsIHx8ICcnO1xuICAgICAgaWYgKGZvb3RlckZpZWxkcy5iZykgZm9vdGVyRmllbGRzLmJnLnZhbHVlID0gZGF0YS5zdHlsZT8uYmcgfHwgJ2JnLXNsYXRlLTkwMCB0ZXh0LXdoaXRlJztcbiAgICAgIGlmIChmb290ZXJGaWVsZHMuY29sdW1uc0NvdW50KSBmb290ZXJGaWVsZHMuY29sdW1uc0NvdW50LnZhbHVlID0gZGF0YS5zdHlsZT8uY29sdW1uc0NvdW50IHx8ICc0JztcbiAgICAgIC8vIFBvcHVsYXRlIGNvbHVtbnNcbiAgICAgIGlmIChmb290ZXJDb2x1bW5zTGlzdCkgZm9vdGVyQ29sdW1uc0xpc3QuaW5uZXJIVE1MID0gJyc7XG4gICAgICAoZGF0YS5jb2x1bW5zIHx8IFtdKS5mb3JFYWNoKGNvbCA9PiBhZGRGb290ZXJDb2x1bW4oY29sLnRpdGxlLCBjb2wubGlua3MpKTtcbiAgICAgIC8vIFVwZGF0ZSBzdGF0dXMgaW5kaWNhdG9yXG4gICAgICBjb25zdCBoYXNEYXRhID0gZGF0YS5jb2x1bW5zPy5sZW5ndGggPiAwIHx8IGRhdGEuY29weXJpZ2h0IHx8IE9iamVjdC52YWx1ZXMoZGF0YS5zb2NpYWxzIHx8IHt9KS5zb21lKHYgPT4gdik7XG4gICAgICBpZiAoZm9vdGVyU3RhdHVzSW5kaWNhdG9yKSB7XG4gICAgICAgIGZvb3RlclN0YXR1c0luZGljYXRvci5jbGFzc0xpc3QudG9nZ2xlKCdiZy1ncmVlbi01MDAnLCAhIWhhc0RhdGEpO1xuICAgICAgICBmb290ZXJTdGF0dXNJbmRpY2F0b3IuY2xhc3NMaXN0LnRvZ2dsZSgnYmctc2xhdGUtMzAwJywgIWhhc0RhdGEpO1xuICAgICAgICBmb290ZXJTdGF0dXNJbmRpY2F0b3IudGl0bGUgPSBoYXNEYXRhID8gJ0NvbmZpZ3VyXHUwMEU5JyA6ICdOb24gY29uZmlndXJcdTAwRTknO1xuICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgZm9vdGVyQ29sdW1uQWRkQnRuPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGFkZEZvb3RlckNvbHVtbigpKTtcbiAgICBcbiAgICBmb290ZXJTYXZlQnRuPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghbGF5b3V0QXBpQmFzZSkgcmV0dXJuO1xuICAgICAgZm9vdGVyU2F2ZUJ0bi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICBmb290ZXJTYXZlQnRuLnRleHRDb250ZW50ID0gJ0VucmVnaXN0cmVtZW50Li4uJztcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBjb2xsZWN0Rm9vdGVyRGF0YSgpO1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke2xheW91dEFwaUJhc2V9L2Zvb3RlcmAsIHtcbiAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZScsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB0aHJvdyBuZXcgRXJyb3IoJ0VycmV1ciBzZXJ2ZXVyJyk7XG4gICAgICAgIGZvb3RlckRhdGEgPSBkYXRhO1xuICAgICAgICBwb3B1bGF0ZUZvb3RlckZvcm0oZGF0YSk7XG4gICAgICAgIHNob3dUb2FzdCgnRm9vdGVyIGVucmVnaXN0clx1MDBFOScpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tmb290ZXJdIHNhdmUgZXJyb3InLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoJ0VycmV1ciBsb3JzIGRlIGxcXCdlbnJlZ2lzdHJlbWVudCcsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgZm9vdGVyU2F2ZUJ0bi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICBmb290ZXJTYXZlQnRuLnRleHRDb250ZW50ID0gJ0VucmVnaXN0cmVyJztcbiAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICAvLyBMb2FkIGxheW91dCBkYXRhIG9uIGluaXRcbiAgICBjb25zdCBsb2FkTGF5b3V0RGF0YSA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghbGF5b3V0QXBpQmFzZSkgcmV0dXJuO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChsYXlvdXRBcGlCYXNlLCB7IGNyZWRlbnRpYWxzOiAnaW5jbHVkZScgfSk7XG4gICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgaWYgKGRhdGEuaGVhZGVyKSB7XG4gICAgICAgICAgICBoZWFkZXJEYXRhID0gZGF0YS5oZWFkZXI7XG4gICAgICAgICAgICBwb3B1bGF0ZUhlYWRlckZvcm0oZGF0YS5oZWFkZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZGF0YS5mb290ZXIpIHtcbiAgICAgICAgICAgIGZvb3RlckRhdGEgPSBkYXRhLmZvb3RlcjtcbiAgICAgICAgICAgIHBvcHVsYXRlRm9vdGVyRm9ybShkYXRhLmZvb3Rlcik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2xheW91dF0gbG9hZCBlcnJvcicsIGVycik7XG4gICAgICB9XG4gICAgfTtcbiAgICBcbiAgICAvLyBJbml0aWFsaXplIGxheW91dCBkYXRhXG4gICAgbG9hZExheW91dERhdGEoKTtcbiAgICBcbiAgICBjb25zdCBzYWZlU2l0ZVNsdWdWYWx1ZSA9IHN0cmlwTGVhZGluZ1NsYXNoKFxuICAgICAgd29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyxcbiAgICApO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25zQXBpQmFzZSA9IHNhZmVTaXRlU2x1Z1ZhbHVlXG4gICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Z1ZhbHVlKX0vY29sbGVjdGlvbnNgXG4gICAgICA6IG51bGw7XG5cbiAgICBsZXQgY29sbGVjdGlvbnMgPSBbXTtcbiAgICBsZXQgY29sbGVjdGlvbkl0ZW1zID0gW107XG4gICAgbGV0IGFjdGl2ZUNvbGxlY3Rpb25JZCA9IG51bGw7XG4gICAgbGV0IGFjdGl2ZUl0ZW1JZCA9IG51bGw7XG4gICAgbGV0IGlzQ3JlYXRpbmdJdGVtID0gZmFsc2U7XG4gICAgbGV0IGl0ZW1TbHVnTWFudWFsbHlFZGl0ZWQgPSBmYWxzZTtcbiAgICBsZXQgcGVuZGluZ0RlbGV0ZUl0ZW1JZCA9IG51bGw7XG5cbiAgICBjb25zdCBub3JtYWxpemVJdGVtU2x1Z0lucHV0ID0gKHZhbHVlKSA9PiB7XG4gICAgICBjb25zdCByYXcgPSAodmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgIGlmICghcmF3KSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICAgIH1cbiAgICAgIGlmIChyYXcgPT09ICcvJykge1xuICAgICAgICByZXR1cm4gJy8nO1xuICAgICAgfVxuICAgICAgY29uc3Qgc2VnbWVudHMgPSByYXcucmVwbGFjZSgvXlxcLy8sICcnKS5zcGxpdCgnLycpO1xuICAgICAgY29uc3QgY2xlYW5lZFNlZ21lbnRzID0gc2VnbWVudHNcbiAgICAgICAgLm1hcCgoc2VnbWVudCkgPT4gd29ya3NwYWNlU2x1Z2lmeShzZWdtZW50IHx8ICcnKSlcbiAgICAgICAgLmZpbHRlcigoc2VnbWVudCkgPT4gc2VnbWVudC5sZW5ndGggPiAwKTtcbiAgICAgIGlmICghY2xlYW5lZFNlZ21lbnRzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgICB9XG4gICAgICByZXR1cm4gYC8ke2NsZWFuZWRTZWdtZW50cy5qb2luKCcvJyl9YDtcbiAgICB9O1xuXG4gICAgY29uc3QgZm9ybWF0SXRlbURhdGUgPSAodmFsdWUpID0+IHtcbiAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuICdcdTIwMTQnO1xuICAgICAgfVxuICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKHZhbHVlKTtcbiAgICAgIGlmIChOdW1iZXIuaXNOYU4oZGF0ZS5nZXRUaW1lKCkpKSB7XG4gICAgICAgIHJldHVybiAnXHUyMDE0JztcbiAgICAgIH1cbiAgICAgIHJldHVybiBkYXRlLnRvTG9jYWxlRGF0ZVN0cmluZygnZnItRlInLCB7IGRheTogJzItZGlnaXQnLCBtb250aDogJ3Nob3J0JywgeWVhcjogJ251bWVyaWMnIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCB1cGRhdGVDb2xsZWN0aW9uSGVhZGVyID0gKCkgPT4ge1xuICAgICAgY29uc3QgY29sbGVjdGlvbiA9IGNvbGxlY3Rpb25zLmZpbmQoKGVudHJ5KSA9PiBlbnRyeS5pZCA9PT0gYWN0aXZlQ29sbGVjdGlvbklkKTtcbiAgICAgIGlmIChjb2xsZWN0aW9uVGl0bGUpIHtcbiAgICAgICAgY29sbGVjdGlvblRpdGxlLnRleHRDb250ZW50ID0gY29sbGVjdGlvbj8ubmFtZSB8fCAnU1x1MDBFOWxlY3Rpb25uZXogdW5lIGNvbGxlY3Rpb24nO1xuICAgICAgfVxuICAgICAgaWYgKGNvbGxlY3Rpb25EZXNjcmlwdGlvbikge1xuICAgICAgICBjb2xsZWN0aW9uRGVzY3JpcHRpb24udGV4dENvbnRlbnQgPSBjb2xsZWN0aW9uPy5kZXNjcmlwdGlvbiB8fCAnJztcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgdXBkYXRlSXRlbXNFbXB0eU1lc3NhZ2UgPSAobWVzc2FnZSkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uSXRlbXNFbXB0eSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb2xsZWN0aW9uSXRlbXNFbXB0eS50ZXh0Q29udGVudCA9XG4gICAgICAgIG1lc3NhZ2UgfHxcbiAgICAgICAgKGFjdGl2ZUNvbGxlY3Rpb25JZFxuICAgICAgICAgID8gJ0F1Y3VuIGl0ZW0gZGFucyBjZXR0ZSBjb2xsZWN0aW9uIHBvdXIgbGUgbW9tZW50LidcbiAgICAgICAgICA6ICdDaG9pc2lzc2V6IHVuZSBjb2xsZWN0aW9uIGRhbnMgbGUgcGFubmVhdSBkZSBnYXVjaGUuJyk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhpZGVJdGVtRm9ybSA9ICgpID0+IHtcbiAgICAgIGlmIChpdGVtRm9ybSkge1xuICAgICAgICBpdGVtRm9ybS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgaXRlbUZvcm0uZGF0YXNldC5pdGVtSWQgPSAnJztcbiAgICAgIH1cbiAgICAgIGl0ZW1EZXRhaWxFbXB0eT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBpZiAoaXRlbVN0YXR1c0JhZGdlKSB7XG4gICAgICAgIGl0ZW1TdGF0dXNCYWRnZS5jbGFzc05hbWUgPSBgaGlkZGVuICR7c3RhdHVzQmFkZ2VCYXNlQ2xhc3N9YDtcbiAgICAgICAgaXRlbVN0YXR1c0JhZGdlLnRleHRDb250ZW50ID0gJyc7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbURlbGV0ZUJ1dHRvbikge1xuICAgICAgICBpdGVtRGVsZXRlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHN5bmNJdGVtUGFuZWxXaXRoVmlld3BvcnQoKTtcbiAgICB9O1xuXG4gICAgY29uc3Qgc2hvd0l0ZW1Gb3JtID0gKCkgPT4ge1xuICAgICAgaWYgKCFpdGVtRm9ybSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpdGVtRm9ybS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGl0ZW1EZXRhaWxFbXB0eT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBzeW5jSXRlbVBhbmVsV2l0aFZpZXdwb3J0KCk7XG4gICAgfTtcblxuICAgIGNvbnN0IHN5bmNBZGRCdXR0b25TdGF0ZSA9ICgpID0+IHtcbiAgICAgIGlmICghaXRlbUFkZEJ1dHRvbikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpdGVtQWRkQnV0dG9uLmRpc2FibGVkID0gIWFjdGl2ZUNvbGxlY3Rpb25JZDtcbiAgICAgIGlmIChpdGVtQWRkQnV0dG9uLmRpc2FibGVkKSB7XG4gICAgICAgIGl0ZW1BZGRCdXR0b24uY2xhc3NMaXN0LmFkZCgnb3BhY2l0eS02MCcsICdwb2ludGVyLWV2ZW50cy1ub25lJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpdGVtQWRkQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ29wYWNpdHktNjAnLCAncG9pbnRlci1ldmVudHMtbm9uZScpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBzeW5jSXRlbVN0YXR1c0JhZGdlID0gKHN0YXR1cykgPT4ge1xuICAgICAgaWYgKCFpdGVtU3RhdHVzQmFkZ2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFzdGF0dXMpIHtcbiAgICAgICAgaXRlbVN0YXR1c0JhZGdlLmNsYXNzTmFtZSA9IGBoaWRkZW4gJHtzdGF0dXNCYWRnZUJhc2VDbGFzc31gO1xuICAgICAgICBpdGVtU3RhdHVzQmFkZ2UudGV4dENvbnRlbnQgPSAnJztcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IHN0YXR1cy50b0xvd2VyQ2FzZSgpO1xuICAgICAgbGV0IGNvbG9yQ2xhc3MgPSAnYmctc2xhdGUtMTAwIHRleHQtc2xhdGUtNjAwIGJvcmRlciBib3JkZXItc2xhdGUtMjAwJztcbiAgICAgIGlmIChub3JtYWxpemVkID09PSAncHVibGlcdTAwRTknIHx8IG5vcm1hbGl6ZWQgPT09ICdwdWJsaWUnKSB7XG4gICAgICAgIGNvbG9yQ2xhc3MgPSAnYmctZW1lcmFsZC01MCB0ZXh0LWVtZXJhbGQtNzAwIGJvcmRlciBib3JkZXItZW1lcmFsZC0xMDAnO1xuICAgICAgfSBlbHNlIGlmIChub3JtYWxpemVkID09PSAnYnJvdWlsbG9uJykge1xuICAgICAgICBjb2xvckNsYXNzID0gJ2JnLWFtYmVyLTUwIHRleHQtYW1iZXItNzAwIGJvcmRlciBib3JkZXItYW1iZXItMTAwJztcbiAgICAgIH1cbiAgICAgIGl0ZW1TdGF0dXNCYWRnZS5jbGFzc05hbWUgPSBgJHtzdGF0dXNCYWRnZUJhc2VDbGFzc30gJHtjb2xvckNsYXNzfWA7XG4gICAgICBpdGVtU3RhdHVzQmFkZ2UudGV4dENvbnRlbnQgPSBzdGF0dXM7XG4gICAgfTtcblxuICAgIGNvbnN0IHJlbmRlckNvbGxlY3Rpb25MaXN0ID0gKCkgPT4ge1xuICAgICAgY29sbGVjdGlvbkxpc3QuaW5uZXJIVE1MID0gJyc7XG4gICAgICAvLyBVcGRhdGUgY29sbGVjdGlvbiBjb3VudFxuICAgICAgaWYgKGNvbGxlY3Rpb25Db3VudEVsKSBjb2xsZWN0aW9uQ291bnRFbC50ZXh0Q29udGVudCA9IGNvbGxlY3Rpb25zLmxlbmd0aDtcbiAgICAgIGlmICghY29sbGVjdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgIGNvbGxlY3Rpb25FbXB0eVN0YXRlPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29sbGVjdGlvbkVtcHR5U3RhdGU/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgY29sbGVjdGlvbnMuZm9yRWFjaCgoY29sbGVjdGlvbikgPT4ge1xuICAgICAgICBjb25zdCBpc0FjdGl2ZSA9IGNvbGxlY3Rpb24uaWQgPT09IGFjdGl2ZUNvbGxlY3Rpb25JZDtcbiAgICAgICAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIGJ1dHRvbi50eXBlID0gJ2J1dHRvbic7XG4gICAgICAgIGJ1dHRvbi5kYXRhc2V0LmNvbGxlY3Rpb25JZCA9IGNvbGxlY3Rpb24uaWQ7XG4gICAgICAgIGJ1dHRvbi5jbGFzc05hbWUgPSBbXG4gICAgICAgICAgJ3ctZnVsbCByb3VuZGVkLXhsIGJvcmRlciBweC0zIHB5LTIgdGV4dC1sZWZ0IHRyYW5zaXRpb24gZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLVsjOUM2QkZGXS80MCcsXG4gICAgICAgICAgaXNBY3RpdmVcbiAgICAgICAgICAgID8gJ2JnLVsjRjdGMEZGXSBib3JkZXItWyM5QzZCRkZdLzQwIHRleHQtc2xhdGUtOTAwJ1xuICAgICAgICAgICAgOiAnYm9yZGVyLXNsYXRlLTIwMCB0ZXh0LXNsYXRlLTcwMCBob3Zlcjpib3JkZXItWyM5QzZCRkZdLzQwJyxcbiAgICAgICAgXS5qb2luKCcgJyk7XG4gICAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnb3B0aW9uJyk7XG4gICAgICAgIGlmIChpc0FjdGl2ZSkge1xuICAgICAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtY3VycmVudCcsICd0cnVlJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYnV0dG9uLnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1jdXJyZW50Jyk7XG4gICAgICAgIH1cbiAgICAgICAgYnV0dG9uLmlubmVySFRNTCA9IGBcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIGdhcC0yXCI+XG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQtc20gZm9udC1zZW1pYm9sZFwiPiR7Y29sbGVjdGlvbi5uYW1lIHx8IGNvbGxlY3Rpb24uaWR9PC9wPlxuICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQteHMgdGV4dC1zbGF0ZS01MDBcIj4ke2NvbGxlY3Rpb24uZGVzY3JpcHRpb24gfHwgJyd9PC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQtWzExcHhdIHVwcGVyY2FzZSB0cmFja2luZy13aWRlIHRleHQtc2xhdGUtNDAwXCI+JHtjb2xsZWN0aW9uLnR5cGUgfHwgJyd9PC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICBgO1xuICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgc2V0QWN0aXZlQ29sbGVjdGlvbihjb2xsZWN0aW9uLmlkKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbGxlY3Rpb25MaXN0LmFwcGVuZENoaWxkKGJ1dHRvbik7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgcmVuZGVySXRlbVRhYmxlID0gKCkgPT4ge1xuICAgICAgaWYgKCFpdGVtVGFibGVCb2R5KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGl0ZW1UYWJsZUJvZHkuaW5uZXJIVE1MID0gJyc7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25JdGVtcy5sZW5ndGggfHwgIWFjdGl2ZUNvbGxlY3Rpb25JZCkge1xuICAgICAgICBjb2xsZWN0aW9uSXRlbXNFbXB0eT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIHVwZGF0ZUl0ZW1zRW1wdHlNZXNzYWdlKCk7XG4gICAgICAgIGl0ZW1UYWJsZVdyYXBwZXI/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb2xsZWN0aW9uSXRlbXNFbXB0eT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBpdGVtVGFibGVXcmFwcGVyPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGNvbGxlY3Rpb25JdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgIGNvbnN0IHJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyJyk7XG4gICAgICAgIHJvdy5kYXRhc2V0Lml0ZW1JZCA9IGl0ZW0uaWQ7XG4gICAgICAgIGNvbnN0IGlzQWN0aXZlID0gaXRlbS5pZCA9PT0gYWN0aXZlSXRlbUlkICYmICFpc0NyZWF0aW5nSXRlbTtcbiAgICAgICAgcm93LmNsYXNzTmFtZSA9IFtcbiAgICAgICAgICAnY3Vyc29yLXBvaW50ZXIgdHJhbnNpdGlvbiBmb2N1cy13aXRoaW46YmctWyNGN0YwRkZdLzcwIGZvY3VzOm91dGxpbmUtbm9uZScsXG4gICAgICAgICAgaXNBY3RpdmUgPyAnYmctWyNGN0YwRkZdLzcwJyA6ICdob3ZlcjpiZy1zbGF0ZS01MCcsXG4gICAgICAgIF0uam9pbignICcpO1xuICAgICAgICByb3cudGFiSW5kZXggPSAwO1xuICAgICAgICByb3cuc2V0QXR0cmlidXRlKCdyb2xlJywgJ2J1dHRvbicpO1xuICAgICAgICBpZiAoaXNBY3RpdmUpIHtcbiAgICAgICAgICByb3cuc2V0QXR0cmlidXRlKCdhcmlhLWN1cnJlbnQnLCAndHJ1ZScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJvdy5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtY3VycmVudCcpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHN0YXR1cyA9IGl0ZW0uc3RhdHVzIHx8ICdCcm91aWxsb24nO1xuICAgICAgICBjb25zdCBub3JtYWxpemVkID0gc3RhdHVzLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGNvbnN0IHN0YXR1c0NsYXNzZXMgPVxuICAgICAgICAgIG5vcm1hbGl6ZWQgPT09ICdwdWJsaVx1MDBFOScgfHwgbm9ybWFsaXplZCA9PT0gJ3B1YmxpZSdcbiAgICAgICAgICAgID8gJ2JnLWVtZXJhbGQtNTAgdGV4dC1lbWVyYWxkLTcwMCBib3JkZXIgYm9yZGVyLWVtZXJhbGQtMTAwJ1xuICAgICAgICAgICAgOiAnYmctYW1iZXItNTAgdGV4dC1hbWJlci03MDAgYm9yZGVyIGJvcmRlci1hbWJlci0xMDAnO1xuICAgICAgICByb3cuaW5uZXJIVE1MID0gYFxuICAgICAgICAgIDx0ZCBjbGFzcz1cInB4LTQgcHktMyBhbGlnbi10b3BcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC1zbSBmb250LXNlbWlib2xkIHRleHQtc2xhdGUtOTAwXCI+JHtpdGVtLnRpdGxlIHx8ICdTYW5zIHRpdHJlJ308L3NwYW4+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC14cyB0ZXh0LXNsYXRlLTUwMFwiPiR7aXRlbS5zdW1tYXJ5IHx8IGl0ZW0uZXhjZXJwdCB8fCAnJ308L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L3RkPlxuICAgICAgICAgIDx0ZCBjbGFzcz1cInB4LTQgcHktMyBhbGlnbi10b3AgdGV4dC1zbSB0ZXh0LXNsYXRlLTYwMFwiPiR7aXRlbS5zbHVnIHx8ICcnfTwvdGQ+XG4gICAgICAgICAgPHRkIGNsYXNzPVwicHgtNCBweS0zIGFsaWduLXRvcFwiPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgcm91bmRlZC1mdWxsIHB4LTMgcHktMSB0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgJHtzdGF0dXNDbGFzc2VzfVwiPlxuICAgICAgICAgICAgICAke3N0YXR1c31cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L3RkPlxuICAgICAgICAgIDx0ZCBjbGFzcz1cInB4LTQgcHktMyBhbGlnbi10b3AgdGV4dC1zbSB0ZXh0LXNsYXRlLTUwMFwiPiR7Zm9ybWF0SXRlbURhdGUoXG4gICAgICAgICAgICBpdGVtLnVwZGF0ZWRBdCB8fCBpdGVtLmNyZWF0ZWRBdCxcbiAgICAgICAgICApfTwvdGQ+XG4gICAgICAgIGA7XG4gICAgICAgIGNvbnN0IGhhbmRsZVNlbGVjdCA9ICgpID0+IHtcbiAgICAgICAgICBzZWxlY3RJdGVtKGl0ZW0uaWQpO1xuICAgICAgICB9O1xuICAgICAgICByb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVTZWxlY3QpO1xuICAgICAgICByb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldmVudCkgPT4ge1xuICAgICAgICAgIGlmIChldmVudC5rZXkgPT09ICdFbnRlcicgfHwgZXZlbnQua2V5ID09PSAnICcpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBoYW5kbGVTZWxlY3QoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpdGVtVGFibGVCb2R5LmFwcGVuZENoaWxkKHJvdyk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgY29uc3Qgc2VsZWN0SXRlbSA9IChpdGVtSWQpID0+IHtcbiAgICAgIGNvbnN0IGl0ZW0gPSBjb2xsZWN0aW9uSXRlbXMuZmluZCgoZW50cnkpID0+IGVudHJ5LmlkID09PSBpdGVtSWQpO1xuICAgICAgaWYgKCFpdGVtKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGFjdGl2ZUl0ZW1JZCA9IGl0ZW0uaWQ7XG4gICAgICBpc0NyZWF0aW5nSXRlbSA9IGZhbHNlO1xuICAgICAgaXRlbVNsdWdNYW51YWxseUVkaXRlZCA9IHRydWU7XG4gICAgICBwb3B1bGF0ZUl0ZW1Gb3JtKGl0ZW0pO1xuICAgICAgcmVuZGVySXRlbVRhYmxlKCk7XG4gICAgfTtcblxuICAgIGNvbnN0IHBvcHVsYXRlSXRlbUZvcm0gPSAoaXRlbSkgPT4ge1xuICAgICAgaWYgKCFpdGVtRm9ybSB8fCAhaXRlbSkge1xuICAgICAgICBoaWRlSXRlbUZvcm0oKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2hvd0l0ZW1Gb3JtKCk7XG4gICAgICBpdGVtRm9ybS5kYXRhc2V0Lml0ZW1JZCA9IGl0ZW0uaWQ7XG4gICAgICBpZiAoaXRlbUZvcm1GaWVsZHMudGl0bGUpIHtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMudGl0bGUudmFsdWUgPSBpdGVtLnRpdGxlIHx8ICcnO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1Gb3JtRmllbGRzLnNsdWcpIHtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMuc2x1Zy52YWx1ZSA9IGl0ZW0uc2x1ZyB8fCAnJztcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtRm9ybUZpZWxkcy5leGNlcnB0KSB7XG4gICAgICAgIGl0ZW1Gb3JtRmllbGRzLmV4Y2VycHQudmFsdWUgPSBpdGVtLnN1bW1hcnkgfHwgaXRlbS5leGNlcnB0IHx8ICcnO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1Gb3JtRmllbGRzLmNvbnRlbnQpIHtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMuY29udGVudC52YWx1ZSA9IGl0ZW0uY29udGVudCB8fCAnJztcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtRm9ybUZpZWxkcy5pbWFnZSkge1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy5pbWFnZS52YWx1ZSA9IGl0ZW0uaW1hZ2UgfHwgJyc7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbUZvcm1GaWVsZHMuY3RhVGV4dCkge1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy5jdGFUZXh0LnZhbHVlID0gaXRlbS5jdGE/LnRleHQgfHwgaXRlbS5jdGFUZXh0IHx8ICcnO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1Gb3JtRmllbGRzLmN0YVVybCkge1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy5jdGFVcmwudmFsdWUgPSBpdGVtLmN0YT8udXJsIHx8IGl0ZW0uY3RhVXJsIHx8ICcnO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1Gb3JtRmllbGRzLnN0YXR1cykge1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy5zdGF0dXMudmFsdWUgPSBpdGVtLnN0YXR1cyB8fCAnQnJvdWlsbG9uJztcbiAgICAgIH1cbiAgICAgIHN5bmNJdGVtU3RhdHVzQmFkZ2UoaXRlbS5zdGF0dXMgfHwgJ0Jyb3VpbGxvbicpO1xuICAgICAgaWYgKGl0ZW1EZWxldGVCdXR0b24pIHtcbiAgICAgICAgaXRlbURlbGV0ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBwcmVwYXJlTmV3SXRlbUZvcm0gPSAoKSA9PiB7XG4gICAgICBpZiAoIWl0ZW1Gb3JtKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlzQ3JlYXRpbmdJdGVtID0gdHJ1ZTtcbiAgICAgIGFjdGl2ZUl0ZW1JZCA9IG51bGw7XG4gICAgICBpdGVtU2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gICAgICBpdGVtRm9ybS5kYXRhc2V0Lml0ZW1JZCA9ICcnO1xuICAgICAgaXRlbUZvcm0ucmVzZXQoKTtcbiAgICAgIGlmIChpdGVtRm9ybUZpZWxkcy5zdGF0dXMpIHtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMuc3RhdHVzLnZhbHVlID0gJ0Jyb3VpbGxvbic7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbUZvcm1GaWVsZHMuc2x1Zykge1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy5zbHVnLnZhbHVlID0gJyc7XG4gICAgICB9XG4gICAgICBzeW5jSXRlbVN0YXR1c0JhZGdlKCdCcm91aWxsb24nKTtcbiAgICAgIHNob3dJdGVtRm9ybSgpO1xuICAgICAgaWYgKGl0ZW1EZWxldGVCdXR0b24pIHtcbiAgICAgICAgaXRlbURlbGV0ZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICB9XG4gICAgICBpdGVtRm9ybUZpZWxkcy50aXRsZT8uZm9jdXMoKTtcbiAgICB9O1xuXG4gICAgY29uc3QgY29sbGVjdEl0ZW1Gb3JtVmFsdWVzID0gKCkgPT4ge1xuICAgICAgY29uc3QgdGl0bGUgPSAoaXRlbUZvcm1GaWVsZHMudGl0bGU/LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICBjb25zdCBzbHVnSW5wdXQgPSAoaXRlbUZvcm1GaWVsZHMuc2x1Zz8udmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgIGNvbnN0IHN1bW1hcnkgPSAoaXRlbUZvcm1GaWVsZHMuZXhjZXJwdD8udmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgIGNvbnN0IGNvbnRlbnQgPSAoaXRlbUZvcm1GaWVsZHMuY29udGVudD8udmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgIGNvbnN0IGltYWdlID0gKGl0ZW1Gb3JtRmllbGRzLmltYWdlPy52YWx1ZSB8fCAnJykudHJpbSgpO1xuICAgICAgY29uc3QgY3RhVGV4dCA9IChpdGVtRm9ybUZpZWxkcy5jdGFUZXh0Py52YWx1ZSB8fCAnJykudHJpbSgpO1xuICAgICAgY29uc3QgY3RhVXJsID0gKGl0ZW1Gb3JtRmllbGRzLmN0YVVybD8udmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgIGNvbnN0IHN0YXR1cyA9IGl0ZW1Gb3JtRmllbGRzLnN0YXR1cz8udmFsdWUgfHwgJ0Jyb3VpbGxvbic7XG4gICAgICBcbiAgICAgIC8vIEJ1aWxkIENUQSBvYmplY3Qgb25seSBpZiBhdCBsZWFzdCBvbmUgZmllbGQgaXMgZmlsbGVkXG4gICAgICBjb25zdCBjdGEgPSAoY3RhVGV4dCB8fCBjdGFVcmwpID8geyB0ZXh0OiBjdGFUZXh0LCB1cmw6IGN0YVVybCB9IDogbnVsbDtcbiAgICAgIFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdGl0bGUsXG4gICAgICAgIHNsdWc6IHNsdWdJbnB1dCA/IG5vcm1hbGl6ZUl0ZW1TbHVnSW5wdXQoc2x1Z0lucHV0KSA6IG5vcm1hbGl6ZUl0ZW1TbHVnSW5wdXQodGl0bGUpLFxuICAgICAgICBzdW1tYXJ5LFxuICAgICAgICBleGNlcnB0OiBzdW1tYXJ5LFxuICAgICAgICBjb250ZW50LFxuICAgICAgICBpbWFnZSxcbiAgICAgICAgc3RhdHVzLFxuICAgICAgICAuLi4oY3RhICYmIHsgY3RhIH0pLFxuICAgICAgfTtcbiAgICB9O1xuXG4gICAgY29uc3Qgc2V0Rm9ybVNhdmluZ1N0YXRlID0gKGlzU2F2aW5nKSA9PiB7XG4gICAgICBpZiAoaXRlbUZvcm1TYXZlKSB7XG4gICAgICAgIGl0ZW1Gb3JtU2F2ZS5kaXNhYmxlZCA9IGlzU2F2aW5nO1xuICAgICAgICBpdGVtRm9ybVNhdmUudGV4dENvbnRlbnQgPSBpc1NhdmluZyA/ICdFbnJlZ2lzdHJlbWVudFx1MjAyNicgOiAnRW5yZWdpc3RyZXInO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1EZWxldGVCdXR0b24gJiYgIWlzQ3JlYXRpbmdJdGVtICYmIGFjdGl2ZUl0ZW1JZCkge1xuICAgICAgICBpdGVtRGVsZXRlQnV0dG9uLmRpc2FibGVkID0gaXNTYXZpbmc7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGZldGNoQ29sbGVjdGlvbkl0ZW1zID0gYXN5bmMgKGNvbGxlY3Rpb25JZCkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uc0FwaUJhc2UpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgYCR7Y29sbGVjdGlvbnNBcGlCYXNlfS8ke2VuY29kZVVSSUNvbXBvbmVudChjb2xsZWN0aW9uSWQpfS9pdGVtc2AsXG4gICAgICAgIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0sXG4gICAgICApO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IocGF5bG9hZC5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIGl0ZW1zLicpO1xuICAgICAgfVxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KGRhdGEuaXRlbXMpID8gZGF0YS5pdGVtcyA6IFtdO1xuICAgIH07XG5cbiAgICBjb25zdCBzZXRBY3RpdmVDb2xsZWN0aW9uID0gYXN5bmMgKGNvbGxlY3Rpb25JZCkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uSWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYWN0aXZlQ29sbGVjdGlvbklkID0gY29sbGVjdGlvbklkO1xuICAgICAgYWN0aXZlSXRlbUlkID0gbnVsbDtcbiAgICAgIGlzQ3JlYXRpbmdJdGVtID0gZmFsc2U7XG4gICAgICBpdGVtU2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gICAgICAvLyBTd2l0Y2ggdG8gY29sbGVjdGlvbiB2aWV3XG4gICAgICBzaG93Q29udGVudFZpZXcoJ2NvbGxlY3Rpb24nKTtcbiAgICAgIHVwZGF0ZUNvbGxlY3Rpb25IZWFkZXIoKTtcbiAgICAgIHN5bmNBZGRCdXR0b25TdGF0ZSgpO1xuICAgICAgcmVuZGVyQ29sbGVjdGlvbkxpc3QoKTtcbiAgICAgIGhpZGVJdGVtRm9ybSgpO1xuICAgICAgY29sbGVjdGlvbkl0ZW1zID0gW107XG4gICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICAgIHVwZGF0ZUl0ZW1zRW1wdHlNZXNzYWdlKCdDaGFyZ2VtZW50IGRlcyBpdGVtc1x1MjAyNicpO1xuICAgICAgY29sbGVjdGlvbkl0ZW1zRW1wdHk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgaXRlbVRhYmxlV3JhcHBlcj8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25zQXBpQmFzZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb2xsZWN0aW9uSXRlbXMgPSBhd2FpdCBmZXRjaENvbGxlY3Rpb25JdGVtcyhjb2xsZWN0aW9uSWQpO1xuICAgICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICAgICAgaWYgKCFjb2xsZWN0aW9uSXRlbXMubGVuZ3RoKSB7XG4gICAgICAgICAgdXBkYXRlSXRlbXNFbXB0eU1lc3NhZ2UoKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tjb250ZW50XSBpdGVtcyBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgY2hhcmdlciBsZXMgaXRlbXMuJyk7XG4gICAgICAgIGNvbGxlY3Rpb25JdGVtcyA9IFtdO1xuICAgICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgY3JlYXRlQ29sbGVjdGlvbkl0ZW0gPSBhc3luYyAoY29sbGVjdGlvbklkLCBwYXlsb2FkKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25zQXBpQmFzZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NpdGUgaW5jb25udS4nKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgIGAke2NvbGxlY3Rpb25zQXBpQmFzZX0vJHtlbmNvZGVVUklDb21wb25lbnQoY29sbGVjdGlvbklkKX0vaXRlbXNgLFxuICAgICAgICB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgIH0sXG4gICAgICApO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZGF0YS5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIGNyXHUwMEU5ZXIgY2V0IGl0ZW0uJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgIH07XG5cbiAgICBjb25zdCB1cGRhdGVDb2xsZWN0aW9uSXRlbSA9IGFzeW5jIChjb2xsZWN0aW9uSWQsIGl0ZW1JZCwgcGF5bG9hZCkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uc0FwaUJhc2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTaXRlIGluY29ubnUuJyk7XG4gICAgICB9XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgICBgJHtjb2xsZWN0aW9uc0FwaUJhc2V9LyR7ZW5jb2RlVVJJQ29tcG9uZW50KGNvbGxlY3Rpb25JZCl9L2l0ZW1zLyR7ZW5jb2RlVVJJQ29tcG9uZW50KGl0ZW1JZCl9YCxcbiAgICAgICAge1xuICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgIH0sXG4gICAgICApO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZGF0YS5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIHNhdXZlZ2FyZGVyIGNldCBpdGVtLicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICB9O1xuXG4gICAgY29uc3QgZGVsZXRlQ29sbGVjdGlvbkl0ZW0gPSBhc3luYyAoY29sbGVjdGlvbklkLCBpdGVtSWQpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvbnNBcGlCYXNlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignU2l0ZSBpbmNvbm51LicpO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgYCR7Y29sbGVjdGlvbnNBcGlCYXNlfS8ke2VuY29kZVVSSUNvbXBvbmVudChjb2xsZWN0aW9uSWQpfS9pdGVtcy8ke2VuY29kZVVSSUNvbXBvbmVudChpdGVtSWQpfWAsXG4gICAgICAgIHsgbWV0aG9kOiAnREVMRVRFJyB9LFxuICAgICAgKTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGRhdGEubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBzdXBwcmltZXIgY2V0IGl0ZW0uJyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGxvYWRDb2xsZWN0aW9ucyA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvbnNBcGlCYXNlKSB7XG4gICAgICAgIGNvbGxlY3Rpb25FbXB0eVN0YXRlPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgYWN0aXZlQ29sbGVjdGlvbklkID0gbnVsbDtcbiAgICAgICAgY29sbGVjdGlvbkl0ZW1zID0gW107XG4gICAgICAgIHJlbmRlckl0ZW1UYWJsZSgpO1xuICAgICAgICB1cGRhdGVDb2xsZWN0aW9uSGVhZGVyKCk7XG4gICAgICAgIHN5bmNBZGRCdXR0b25TdGF0ZSgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGNvbGxlY3Rpb25zQXBpQmFzZSwge1xuICAgICAgICAgIGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ltcG9zc2libGUgZGUgY2hhcmdlciBsZXMgY29sbGVjdGlvbnMuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiBbXSk7XG4gICAgICAgIGNvbGxlY3Rpb25zID0gQXJyYXkuaXNBcnJheShwYXlsb2FkKSA/IHBheWxvYWQgOiBbXTtcbiAgICAgICAgcmVuZGVyQ29sbGVjdGlvbkxpc3QoKTtcbiAgICAgICAgaWYgKGNvbGxlY3Rpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBjb25zdCBkZWZhdWx0SWQgPSBjb2xsZWN0aW9ucy5maW5kKChlbnRyeSkgPT4gZW50cnkuaWQgPT09IGFjdGl2ZUNvbGxlY3Rpb25JZCk/LmlkXG4gICAgICAgICAgICB8fCBjb2xsZWN0aW9uc1swXS5pZDtcbiAgICAgICAgICBzZXRBY3RpdmVDb2xsZWN0aW9uKGRlZmF1bHRJZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYWN0aXZlQ29sbGVjdGlvbklkID0gbnVsbDtcbiAgICAgICAgICBjb2xsZWN0aW9uSXRlbXMgPSBbXTtcbiAgICAgICAgICB1cGRhdGVDb2xsZWN0aW9uSGVhZGVyKCk7XG4gICAgICAgICAgc3luY0FkZEJ1dHRvblN0YXRlKCk7XG4gICAgICAgICAgcmVuZGVySXRlbVRhYmxlKCk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbY29udGVudF0gbG9hZCBjb2xsZWN0aW9ucycsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxlcyBjb2xsZWN0aW9ucy4nKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaXRlbUFkZEJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBpZiAoIWFjdGl2ZUNvbGxlY3Rpb25JZCkge1xuICAgICAgICBzaG93VG9hc3QoJ1NcdTAwRTlsZWN0aW9ubmV6IGRcdTIwMTlhYm9yZCB1bmUgY29sbGVjdGlvbi4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcHJlcGFyZU5ld0l0ZW1Gb3JtKCk7XG4gICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICB9KTtcblxuICAgIGl0ZW1Gb3JtQ2FuY2VsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmIChpc0NyZWF0aW5nSXRlbSkge1xuICAgICAgICBpc0NyZWF0aW5nSXRlbSA9IGZhbHNlO1xuICAgICAgICBhY3RpdmVJdGVtSWQgPSBudWxsO1xuICAgICAgICBoaWRlSXRlbUZvcm0oKTtcbiAgICAgICAgcmVuZGVySXRlbVRhYmxlKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChhY3RpdmVJdGVtSWQpIHtcbiAgICAgICAgY29uc3QgaXRlbSA9IGNvbGxlY3Rpb25JdGVtcy5maW5kKChlbnRyeSkgPT4gZW50cnkuaWQgPT09IGFjdGl2ZUl0ZW1JZCk7XG4gICAgICAgIHBvcHVsYXRlSXRlbUZvcm0oaXRlbSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBoaWRlSXRlbUZvcm0oKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGl0ZW1Gb3JtRmllbGRzLnN0YXR1cz8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICAgICAgc3luY0l0ZW1TdGF0dXNCYWRnZShpdGVtRm9ybUZpZWxkcy5zdGF0dXMudmFsdWUpO1xuICAgIH0pO1xuXG4gICAgaXRlbUZvcm1GaWVsZHMudGl0bGU/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgaWYgKCFpc0NyZWF0aW5nSXRlbSB8fCAhaXRlbUZvcm1GaWVsZHMuc2x1ZyB8fCBpdGVtU2x1Z01hbnVhbGx5RWRpdGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGl0ZW1Gb3JtRmllbGRzLnNsdWcudmFsdWUgPSBub3JtYWxpemVJdGVtU2x1Z0lucHV0KGl0ZW1Gb3JtRmllbGRzLnRpdGxlLnZhbHVlKTtcbiAgICB9KTtcblxuICAgIGl0ZW1Gb3JtRmllbGRzLnNsdWc/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgaWYgKCFpc0NyZWF0aW5nSXRlbSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpdGVtU2x1Z01hbnVhbGx5RWRpdGVkID0gdHJ1ZTtcbiAgICB9KTtcblxuICAgIGl0ZW1Gb3JtPy5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoIWFjdGl2ZUNvbGxlY3Rpb25JZCkge1xuICAgICAgICBzaG93VG9hc3QoJ1NcdTAwRTlsZWN0aW9ubmV6IHVuZSBjb2xsZWN0aW9uLicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCB2YWx1ZXMgPSBjb2xsZWN0SXRlbUZvcm1WYWx1ZXMoKTtcbiAgICAgIGlmICghdmFsdWVzLnRpdGxlKSB7XG4gICAgICAgIHNob3dUb2FzdCgnTGUgdGl0cmUgZXN0IHJlcXVpcy4nKTtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMudGl0bGU/LmZvY3VzKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNldEZvcm1TYXZpbmdTdGF0ZSh0cnVlKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGxldCBzYXZlZEl0ZW07XG4gICAgICAgIGlmIChpc0NyZWF0aW5nSXRlbSB8fCAhYWN0aXZlSXRlbUlkKSB7XG4gICAgICAgICAgc2F2ZWRJdGVtID0gYXdhaXQgY3JlYXRlQ29sbGVjdGlvbkl0ZW0oYWN0aXZlQ29sbGVjdGlvbklkLCB2YWx1ZXMpO1xuICAgICAgICAgIGNvbGxlY3Rpb25JdGVtcyA9IFsuLi5jb2xsZWN0aW9uSXRlbXMsIHNhdmVkSXRlbV07XG4gICAgICAgICAgc2hvd1RvYXN0KCdJdGVtIGNyXHUwMEU5XHUwMEU5Jyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2F2ZWRJdGVtID0gYXdhaXQgdXBkYXRlQ29sbGVjdGlvbkl0ZW0oYWN0aXZlQ29sbGVjdGlvbklkLCBhY3RpdmVJdGVtSWQsIHZhbHVlcyk7XG4gICAgICAgICAgY29sbGVjdGlvbkl0ZW1zID0gY29sbGVjdGlvbkl0ZW1zLm1hcCgoaXRlbSkgPT5cbiAgICAgICAgICAgIGl0ZW0uaWQgPT09IHNhdmVkSXRlbS5pZCA/IHNhdmVkSXRlbSA6IGl0ZW0sXG4gICAgICAgICAgKTtcbiAgICAgICAgICBzaG93VG9hc3QoJ0l0ZW0gbWlzIFx1MDBFMCBqb3VyJyk7XG4gICAgICAgIH1cbiAgICAgICAgaXNDcmVhdGluZ0l0ZW0gPSBmYWxzZTtcbiAgICAgICAgYWN0aXZlSXRlbUlkID0gc2F2ZWRJdGVtLmlkO1xuICAgICAgICBwb3B1bGF0ZUl0ZW1Gb3JtKHNhdmVkSXRlbSk7XG4gICAgICAgIHJlbmRlckl0ZW1UYWJsZSgpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tjb250ZW50XSBzYXZlIGl0ZW0gZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIHNhdXZlZ2FyZGVyIGNldCBpdGVtLicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0Rm9ybVNhdmluZ1N0YXRlKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGNvbnN0IGNsb3NlRGVsZXRlTW9kYWwgPSAoKSA9PiB7XG4gICAgICBpZiAoIWl0ZW1EZWxldGVNb2RhbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpdGVtRGVsZXRlTW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBpdGVtRGVsZXRlTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnZmxleCcpO1xuICAgICAgcGVuZGluZ0RlbGV0ZUl0ZW1JZCA9IG51bGw7XG4gICAgfTtcblxuICAgIGNvbnN0IG9wZW5EZWxldGVNb2RhbCA9ICgpID0+IHtcbiAgICAgIGlmICghaXRlbURlbGV0ZU1vZGFsIHx8ICFhY3RpdmVJdGVtSWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcGVuZGluZ0RlbGV0ZUl0ZW1JZCA9IGFjdGl2ZUl0ZW1JZDtcbiAgICAgIGl0ZW1EZWxldGVNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGl0ZW1EZWxldGVNb2RhbC5jbGFzc0xpc3QuYWRkKCdmbGV4Jyk7XG4gICAgfTtcblxuICAgIGl0ZW1EZWxldGVCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKCFhY3RpdmVJdGVtSWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgb3BlbkRlbGV0ZU1vZGFsKCk7XG4gICAgfSk7XG5cbiAgICBpdGVtRGVsZXRlQ2FuY2VsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNsb3NlRGVsZXRlTW9kYWwoKTtcbiAgICB9KTtcblxuICAgIGl0ZW1EZWxldGVNb2RhbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIGlmIChldmVudC50YXJnZXQgPT09IGl0ZW1EZWxldGVNb2RhbCkge1xuICAgICAgICBjbG9zZURlbGV0ZU1vZGFsKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpdGVtRGVsZXRlQ29uZmlybT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXBlbmRpbmdEZWxldGVJdGVtSWQgfHwgIWFjdGl2ZUNvbGxlY3Rpb25JZCkge1xuICAgICAgICBjbG9zZURlbGV0ZU1vZGFsKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGl0ZW1EZWxldGVDb25maXJtLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIGl0ZW1EZWxldGVDb25maXJtLnRleHRDb250ZW50ID0gJ1N1cHByZXNzaW9uXHUyMDI2JztcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IGRlbGV0ZUNvbGxlY3Rpb25JdGVtKGFjdGl2ZUNvbGxlY3Rpb25JZCwgcGVuZGluZ0RlbGV0ZUl0ZW1JZCk7XG4gICAgICAgIGNvbGxlY3Rpb25JdGVtcyA9IGNvbGxlY3Rpb25JdGVtcy5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0uaWQgIT09IHBlbmRpbmdEZWxldGVJdGVtSWQpO1xuICAgICAgICBpZiAoYWN0aXZlSXRlbUlkID09PSBwZW5kaW5nRGVsZXRlSXRlbUlkKSB7XG4gICAgICAgICAgYWN0aXZlSXRlbUlkID0gbnVsbDtcbiAgICAgICAgICBoaWRlSXRlbUZvcm0oKTtcbiAgICAgICAgfVxuICAgICAgICBzaG93VG9hc3QoJ0l0ZW0gc3VwcHJpbVx1MDBFOScpO1xuICAgICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbY29udGVudF0gZGVsZXRlIGl0ZW0gZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIHN1cHByaW1lciBjZXQgaXRlbS4nKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGl0ZW1EZWxldGVDb25maXJtLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIGl0ZW1EZWxldGVDb25maXJtLnRleHRDb250ZW50ID0gJ1N1cHByaW1lcic7XG4gICAgICAgIGNsb3NlRGVsZXRlTW9kYWwoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHVwZGF0ZUNvbGxlY3Rpb25IZWFkZXIoKTtcbiAgICBzeW5jQWRkQnV0dG9uU3RhdGUoKTtcbiAgICBsb2FkQ29sbGVjdGlvbnMoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXREZXBsb3lXb3Jrc3BhY2UoKSB7XG4gICAgY29uc3QgZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1mb3JtXScpO1xuICAgIGlmICghZm9ybSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBwcm90b2NvbFNlbGVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1wcm90b2NvbF0nKTtcbiAgICBjb25zdCBob3N0SW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktaG9zdF0nKTtcbiAgICBjb25zdCBwb3J0SW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktcG9ydF0nKTtcbiAgICBjb25zdCB1c2VySW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktdXNlcl0nKTtcbiAgICBjb25zdCBwYXNzd29yZElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LXBhc3N3b3JkXScpO1xuICAgIGNvbnN0IHNob3dQYXNzd29yZFRvZ2dsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1zaG93LXBhc3N3b3JkXScpO1xuICAgIGNvbnN0IHJlbW90ZVBhdGhJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1yZW1vdGUtcGF0aF0nKTtcbiAgICBjb25zdCBmZWVkYmFjayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1mZWVkYmFja10nKTtcbiAgICBjb25zdCBzYXZlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LXNhdmVdJyk7XG4gICAgY29uc3QgdGVzdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS10ZXN0XScpO1xuICAgIGNvbnN0IGRlcGxveUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS10cmlnZ2VyXScpO1xuICAgIGNvbnN0IGhpc3RvcnlMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LWhpc3RvcnldJyk7XG4gICAgY29uc3QgbG9nQm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LWxvZ10nKTtcblxuICAgIGNvbnN0IHNhZmVTaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKFxuICAgICAgd29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyxcbiAgICApO1xuICAgIGNvbnN0IGRlcGxveUFwaUJhc2UgPSBzYWZlU2l0ZVNsdWdcbiAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnKX0vZGVwbG95LWNvbmZpZ2BcbiAgICAgIDogbnVsbDtcbiAgICBjb25zdCBkZXBsb3lSdW5BcGkgPSBzYWZlU2l0ZVNsdWdcbiAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnKX0vZGVwbG95YFxuICAgICAgOiBudWxsO1xuICAgIGNvbnN0IGRlcGxveUxvZ0FwaSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9kZXBsb3ktbG9nYFxuICAgICAgOiBudWxsO1xuXG4gICAgbGV0IGhhc1Bhc3N3b3JkID0gZmFsc2U7XG4gICAgbGV0IGJ1c3lBY3Rpb24gPSBudWxsO1xuXG4gICAgY29uc3Qgc2FuaXRpemVSZW1vdGVQYXRoID0gKHZhbHVlKSA9PiB7XG4gICAgICBjb25zdCB0cmltbWVkID0gKHZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICBpZiAoIXRyaW1tZWQpIHtcbiAgICAgICAgcmV0dXJuICcvd3d3JztcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cmltbWVkLnN0YXJ0c1dpdGgoJy8nKSA/IHRyaW1tZWQgOiBgLyR7dHJpbW1lZH1gO1xuICAgIH07XG5cbiAgICBjb25zdCBzZXRGZWVkYmFjayA9IChtZXNzYWdlLCB0b25lID0gJ211dGVkJykgPT4ge1xuICAgICAgaWYgKCFmZWVkYmFjaykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBiYXNlQ2xhc3MgPSAnaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHJvdW5kZWQtZnVsbCBweC0zIHB5LTEgdGV4dC14cyBmb250LXNlbWlib2xkJztcbiAgICAgIGNvbnN0IHRvbmVDbGFzcyA9XG4gICAgICAgIHRvbmUgPT09ICdzdWNjZXNzJ1xuICAgICAgICAgID8gJ2JnLWVtZXJhbGQtNTAgdGV4dC1lbWVyYWxkLTcwMCBib3JkZXIgYm9yZGVyLWVtZXJhbGQtMTAwJ1xuICAgICAgICAgIDogdG9uZSA9PT0gJ2Vycm9yJ1xuICAgICAgICAgICAgPyAnYmctcm9zZS01MCB0ZXh0LXJvc2UtNzAwIGJvcmRlciBib3JkZXItcm9zZS0xMDAnXG4gICAgICAgICAgICA6ICdiZy1zbGF0ZS01MCB0ZXh0LXNsYXRlLTYwMCBib3JkZXIgYm9yZGVyLXNsYXRlLTEwMCc7XG4gICAgICBpZiAoIW1lc3NhZ2UpIHtcbiAgICAgICAgZmVlZGJhY2sudGV4dENvbnRlbnQgPSAnJztcbiAgICAgICAgZmVlZGJhY2suY2xhc3NOYW1lID0gJ3RleHQtc20gdGV4dC1zbGF0ZS01MDAnO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBpY29uID0gdG9uZSA9PT0gJ3N1Y2Nlc3MnID8gJ1x1MjcwNScgOiB0b25lID09PSAnZXJyb3InID8gJ1x1Mjc0QycgOiAnXHUyMTM5XHVGRTBGJztcbiAgICAgIGZlZWRiYWNrLmlubmVySFRNTCA9IGA8c3BhbiBjbGFzcz1cIiR7YmFzZUNsYXNzfSAke3RvbmVDbGFzc31cIj4ke2ljb259PHNwYW4+JHttZXNzYWdlfTwvc3Bhbj48L3NwYW4+YDtcbiAgICAgIGZlZWRiYWNrLmNsYXNzTmFtZSA9ICd0ZXh0LXNtJztcbiAgICB9O1xuXG4gICAgY29uc3Qgc2V0QnVzeSA9IChhY3Rpb24gPSBudWxsKSA9PiB7XG4gICAgICBidXN5QWN0aW9uID0gYWN0aW9uO1xuICAgICAgY29uc3QgZGlzYWJsZSA9IEJvb2xlYW4oYWN0aW9uKTtcbiAgICAgIGNvbnN0IHNwaW5uZXIgPVxuICAgICAgICAnPHN2ZyBjbGFzcz1cImgtNCB3LTQgYW5pbWF0ZS1zcGluIHRleHQtd2hpdGVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48Y2lyY2xlIGNsYXNzPVwib3BhY2l0eS0yNVwiIGN4PVwiMTJcIiBjeT1cIjEyXCIgcj1cIjEwXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiNFwiPjwvY2lyY2xlPjxwYXRoIGNsYXNzPVwib3BhY2l0eS03NVwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIiBkPVwiTTQgMTJhOCA4IDAgMDE4LTh2NGE0IDQgMCAwMC00IDRINHpcIj48L3BhdGg+PC9zdmc+JztcbiAgICAgIGlmIChzYXZlQnV0dG9uKSB7XG4gICAgICAgIHNhdmVCdXR0b24uZGlzYWJsZWQgPSBkaXNhYmxlO1xuICAgICAgICBzYXZlQnV0dG9uLmlubmVySFRNTCA9XG4gICAgICAgICAgYWN0aW9uID09PSAnc2F2ZSdcbiAgICAgICAgICAgID8gYDxzcGFuIGNsYXNzPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+JHtzcGlubmVyfTxzcGFuPkVucmVnaXN0cmVtZW50XHUyMDI2PC9zcGFuPjwvc3Bhbj5gXG4gICAgICAgICAgICA6ICdFbnJlZ2lzdHJlcic7XG4gICAgICB9XG4gICAgICBpZiAodGVzdEJ1dHRvbikge1xuICAgICAgICB0ZXN0QnV0dG9uLmRpc2FibGVkID0gZGlzYWJsZTtcbiAgICAgICAgdGVzdEJ1dHRvbi5pbm5lckhUTUwgPVxuICAgICAgICAgIGFjdGlvbiA9PT0gJ3Rlc3QnXG4gICAgICAgICAgICA/IGA8c3BhbiBjbGFzcz1cImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPjxzcGFuIGNsYXNzPVwiaC00IHctNCBhbmltYXRlLXNwaW4gcm91bmRlZC1mdWxsIGJvcmRlci0yIGJvcmRlci1zbGF0ZS0yMDAgYm9yZGVyLXQtc2xhdGUtNjAwXCI+PC9zcGFuPjxzcGFuPlRlc3QgZW4gY291cnNcdTIwMjY8L3NwYW4+PC9zcGFuPmBcbiAgICAgICAgICAgIDogJ1Rlc3RlciBsYSBjb25uZXhpb24nO1xuICAgICAgfVxuICAgICAgaWYgKGRlcGxveUJ1dHRvbikge1xuICAgICAgICBkZXBsb3lCdXR0b24uZGlzYWJsZWQgPSBkaXNhYmxlICYmIGFjdGlvbiAhPT0gbnVsbDtcbiAgICAgICAgZGVwbG95QnV0dG9uLmlubmVySFRNTCA9XG4gICAgICAgICAgYWN0aW9uID09PSAnZGVwbG95J1xuICAgICAgICAgICAgPyBgPHNwYW4gY2xhc3M9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj48c3BhbiBjbGFzcz1cImgtNCB3LTQgYW5pbWF0ZS1zcGluIHJvdW5kZWQtZnVsbCBib3JkZXItMiBib3JkZXItd2hpdGUvNjAgYm9yZGVyLXQtd2hpdGVcIj48L3NwYW4+PHNwYW4+RFx1MDBFOXBsb2llbWVudFx1MjAyNjwvc3Bhbj48L3NwYW4+YFxuICAgICAgICAgICAgOiAnRFx1MDBFOXBsb3llciBtYWludGVuYW50JztcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgcG9wdWxhdGVGb3JtID0gKGNvbmZpZykgPT4ge1xuICAgICAgcHJvdG9jb2xTZWxlY3QgJiYgKHByb3RvY29sU2VsZWN0LnZhbHVlID0gY29uZmlnLnByb3RvY29sIHx8ICdzZnRwJyk7XG4gICAgICBob3N0SW5wdXQgJiYgKGhvc3RJbnB1dC52YWx1ZSA9IGNvbmZpZy5ob3N0IHx8ICcnKTtcbiAgICAgIHBvcnRJbnB1dCAmJiAocG9ydElucHV0LnZhbHVlID0gY29uZmlnLnBvcnQgfHwgJycpO1xuICAgICAgdXNlcklucHV0ICYmICh1c2VySW5wdXQudmFsdWUgPSBjb25maWcudXNlciB8fCAnJyk7XG4gICAgICByZW1vdGVQYXRoSW5wdXQgJiYgKHJlbW90ZVBhdGhJbnB1dC52YWx1ZSA9IGNvbmZpZy5yZW1vdGVQYXRoIHx8ICcvd3d3Jyk7XG4gICAgICBoYXNQYXNzd29yZCA9IEJvb2xlYW4oY29uZmlnLmhhc1Bhc3N3b3JkKTtcbiAgICAgIGlmIChwYXNzd29yZElucHV0KSB7XG4gICAgICAgIHBhc3N3b3JkSW5wdXQudmFsdWUgPSAnJztcbiAgICAgICAgcGFzc3dvcmRJbnB1dC5wbGFjZWhvbGRlciA9IGhhc1Bhc3N3b3JkID8gJ05vbiBhZmZpY2hcdTAwRTknIDogJ01vdCBkZSBwYXNzZSc7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHJlbmRlckhpc3RvcnkgPSAoZW50cmllcyA9IFtdKSA9PiB7XG4gICAgICBpZiAoIWhpc3RvcnlMaXN0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGhpc3RvcnlMaXN0LmlubmVySFRNTCA9ICcnO1xuICAgICAgaWYgKCFlbnRyaWVzLmxlbmd0aCkge1xuICAgICAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICAgIGxpLmNsYXNzTmFtZSA9ICd0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICAgIGxpLnRleHRDb250ZW50ID0gJ0F1Y3VuIGRcdTAwRTlwbG9pZW1lbnQgcG91ciBsZSBtb21lbnQuJztcbiAgICAgICAgaGlzdG9yeUxpc3QuYXBwZW5kQ2hpbGQobGkpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBlbnRyaWVzLmZvckVhY2goKGVudHJ5KSA9PiB7XG4gICAgICAgIGNvbnN0IGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgbGkuY2xhc3NOYW1lID1cbiAgICAgICAgICAnZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIGdhcC0yIHJvdW5kZWQteGwgYm9yZGVyIGJvcmRlci1zbGF0ZS0yMDAgcHgtMyBweS0yJztcbiAgICAgICAgY29uc3Qgc3RhdHVzQmFkZ2UgPVxuICAgICAgICAgIGVudHJ5LnN0YXR1cyA9PT0gJ3N1Y2Nlc3MnXG4gICAgICAgICAgICA/ICc8c3BhbiBjbGFzcz1cInJvdW5kZWQtZnVsbCBiZy1lbWVyYWxkLTUwIHB4LTIgcHktMC41IHRleHQtWzExcHhdIGZvbnQtc2VtaWJvbGQgdGV4dC1lbWVyYWxkLTcwMFwiPlN1Y2NcdTAwRThzPC9zcGFuPidcbiAgICAgICAgICAgIDogJzxzcGFuIGNsYXNzPVwicm91bmRlZC1mdWxsIGJnLXJvc2UtNTAgcHgtMiBweS0wLjUgdGV4dC1bMTFweF0gZm9udC1zZW1pYm9sZCB0ZXh0LXJvc2UtNzAwXCI+XHUwMEM5Y2hlYzwvc3Bhbj4nO1xuICAgICAgICBjb25zdCBkYXRlID0gZW50cnkuZmluaXNoZWRBdCB8fCBlbnRyeS5zdGFydGVkQXQgfHwgJyc7XG4gICAgICAgIGNvbnN0IGR1cmF0aW9uID1cbiAgICAgICAgICBlbnRyeS5kdXJhdGlvbk1zICYmIE51bWJlcihlbnRyeS5kdXJhdGlvbk1zKSA+PSAwXG4gICAgICAgICAgICA/IGAke01hdGgucm91bmQoTnVtYmVyKGVudHJ5LmR1cmF0aW9uTXMpIC8gMTAwMCl9c2BcbiAgICAgICAgICAgIDogJyc7XG4gICAgICAgIGxpLmlubmVySFRNTCA9IGBcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwic3BhY2UteS0xXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj4ke3N0YXR1c0JhZGdlfTxzcGFuIGNsYXNzPVwidGV4dC14cyB0ZXh0LXNsYXRlLTUwMFwiPiR7ZGF0ZX08L3NwYW4+PC9kaXY+XG4gICAgICAgICAgICA8cCBjbGFzcz1cInRleHQtc20gdGV4dC1zbGF0ZS04MDBcIj4ke2VudHJ5Lm1lc3NhZ2UgfHwgJyd9PC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNTAwXCI+JHtkdXJhdGlvbn08L2Rpdj5cbiAgICAgICAgYDtcbiAgICAgICAgbGkuZGF0YXNldC5kZXBsb3lJZCA9IGVudHJ5LmlkIHx8ICcnO1xuICAgICAgICBsaS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICBpZiAoZW50cnkubG9ncyAmJiBsb2dCb3gpIHtcbiAgICAgICAgICAgIGxvZ0JveC50ZXh0Q29udGVudCA9IGVudHJ5LmxvZ3Muam9pbignXFxuJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaGlzdG9yeUxpc3QuYXBwZW5kQ2hpbGQobGkpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IHJlbmRlckxvZ3MgPSAobGluZXMgPSBbXSkgPT4ge1xuICAgICAgaWYgKCFsb2dCb3gpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbG9nQm94LnRleHRDb250ZW50ID0gbGluZXMubGVuZ3RoID8gbGluZXMuam9pbignXFxuJykgOiAnQXVjdW4gbG9nIHBvdXIgbGUgbW9tZW50Lic7XG4gICAgfTtcblxuICAgIGNvbnN0IGZldGNoSGlzdG9yeSA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghZGVwbG95TG9nQXBpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goZGVwbG95TG9nQXBpLCB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwNCkge1xuICAgICAgICAgICAgcmVuZGVySGlzdG9yeShbXSk7XG4gICAgICAgICAgICByZW5kZXJMb2dzKFsnQVBJIGRcdTAwRTlwbG9pZW1lbnQgaW5kaXNwb25pYmxlIChyZWRcdTAwRTltYXJyZSBsZSBzZXJ2ZXVyKS4nXSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxcdTIwMTloaXN0b3JpcXVlLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIGNvbnN0IGVudHJpZXMgPSBBcnJheS5pc0FycmF5KHBheWxvYWQuZW50cmllcykgPyBwYXlsb2FkLmVudHJpZXMgOiBbXTtcbiAgICAgICAgcmVuZGVySGlzdG9yeShlbnRyaWVzKTtcbiAgICAgICAgaWYgKGVudHJpZXNbMF0/LmxvZ3MpIHtcbiAgICAgICAgICByZW5kZXJMb2dzKGVudHJpZXNbMF0ubG9ncyk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZGVwbG95XSBoaXN0b3J5IGZhaWxlZCcsIGVycik7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGZldGNoQ29uZmlnID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFkZXBsb3lBcGlCYXNlKSB7XG4gICAgICAgIHNldEZlZWRiYWNrKCdBdWN1biBzaXRlIGFjdGlmIHNcdTAwRTlsZWN0aW9ublx1MDBFOS4nLCAnZXJyb3InKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2V0QnVzeSgnbG9hZCcpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChkZXBsb3lBcGlCYXNlLCB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgcG9wdWxhdGVGb3JtKHBheWxvYWQgfHwge30pO1xuICAgICAgICAgIHNldEZlZWRiYWNrKCdDb25maWd1cmF0aW9uIGNoYXJnXHUwMEU5ZS4nLCAnbXV0ZWQnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwb3B1bGF0ZUZvcm0ocGF5bG9hZCB8fCB7fSk7XG4gICAgICAgICAgc2V0RmVlZGJhY2socGF5bG9hZC5tZXNzYWdlIHx8ICdDb25maWd1cmF0aW9uIHBhciBkXHUwMEU5ZmF1dCBjaGFyZ1x1MDBFOWUuJywgJ211dGVkJyk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZGVwbG95XSBsb2FkIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNldEZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkdSBjaGFyZ2VtZW50LicsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0QnVzeShudWxsKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgYnVpbGRQYXlsb2FkID0gKCkgPT4ge1xuICAgICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgcHJvdG9jb2w6IHByb3RvY29sU2VsZWN0Py52YWx1ZSB8fCAnc2Z0cCcsXG4gICAgICAgIGhvc3Q6IGhvc3RJbnB1dD8udmFsdWUudHJpbSgpIHx8ICcnLFxuICAgICAgICBwb3J0OiBOdW1iZXIocG9ydElucHV0Py52YWx1ZSkgfHwgdW5kZWZpbmVkLFxuICAgICAgICB1c2VyOiB1c2VySW5wdXQ/LnZhbHVlLnRyaW0oKSB8fCAnJyxcbiAgICAgICAgcmVtb3RlUGF0aDogc2FuaXRpemVSZW1vdGVQYXRoKHJlbW90ZVBhdGhJbnB1dD8udmFsdWUgfHwgJy93d3cnKSxcbiAgICAgIH07XG4gICAgICBjb25zdCBwd2QgPSBwYXNzd29yZElucHV0Py52YWx1ZSB8fCAnJztcbiAgICAgIGlmIChwd2QudHJpbSgpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcGF5bG9hZC5wYXNzd29yZCA9IHB3ZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH07XG5cbiAgICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmICghZGVwbG95QXBpQmFzZSkge1xuICAgICAgICBzZXRGZWVkYmFjaygnQXVjdW4gc2l0ZSBhY3RpZiBzXHUwMEU5bGVjdGlvbm5cdTAwRTkuJywgJ2Vycm9yJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHBheWxvYWQgPSBidWlsZFBheWxvYWQoKTtcbiAgICAgIHNldEJ1c3koJ3NhdmUnKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goZGVwbG95QXBpQmFzZSwge1xuICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgY29uc3QgZXJyb3JQYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvclBheWxvYWQubWVzc2FnZSB8fCAnU2F1dmVnYXJkZSBpbXBvc3NpYmxlLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNhdmVkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBwb3B1bGF0ZUZvcm0oc2F2ZWQgfHwge30pO1xuICAgICAgICBzZXRGZWVkYmFjaygnQ29uZmlndXJhdGlvbiBlbnJlZ2lzdHJcdTAwRTllLicsICdzdWNjZXNzJyk7XG4gICAgICAgIHNob3dUb2FzdCgnQ29uZmlndXJhdGlvbiBkXHUwMEU5cGxvaWVtZW50IHNhdXZlZ2FyZFx1MDBFOWUnKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZGVwbG95XSBzYXZlIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNldEZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsYSBzYXV2ZWdhcmRlLicsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0QnVzeShudWxsKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRlc3RCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFkZXBsb3lBcGlCYXNlKSB7XG4gICAgICAgIHNldEZlZWRiYWNrKCdBdWN1biBzaXRlIGFjdGlmIHNcdTAwRTlsZWN0aW9ublx1MDBFOS4nLCAnZXJyb3InKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgcGF5bG9hZCA9IGJ1aWxkUGF5bG9hZCgpO1xuICAgICAgaWYgKCFwYXlsb2FkLmhvc3QgfHwgIXBheWxvYWQudXNlciB8fCAhcGF5bG9hZC5yZW1vdGVQYXRoKSB7XG4gICAgICAgIHNldEZlZWRiYWNrKCdSZW1wbGlzc2V6IGxlcyBjaGFtcHMgcmVxdWlzIGF2YW50IGRlIHRlc3Rlci4nLCAnZXJyb3InKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2V0QnVzeSgndGVzdCcpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtkZXBsb3lBcGlCYXNlfS90ZXN0YCwge1xuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rIHx8IHJlc3VsdC5zdWNjZXNzID09PSBmYWxzZSkge1xuICAgICAgICAgIHNldEZlZWRiYWNrKHJlc3VsdC5tZXNzYWdlIHx8ICdUZXN0IGRlIGNvbm5leGlvbiBcdTAwRTljaG91XHUwMEU5LicsICdlcnJvcicpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzZXRGZWVkYmFjayhyZXN1bHQubWVzc2FnZSB8fCAnQ29ubmV4aW9uIE9LLicsICdzdWNjZXNzJyk7XG4gICAgICAgIHNob3dUb2FzdCgnVGVzdCBkZSBjb25uZXhpb24gclx1MDBFOXVzc2knKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZGVwbG95XSB0ZXN0IGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNldEZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdUZXN0IGRlIGNvbm5leGlvbiBcdTAwRTljaG91XHUwMEU5LicsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0QnVzeShudWxsKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGRlcGxveUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWRlcGxveVJ1bkFwaSkge1xuICAgICAgICBzZXRGZWVkYmFjaygnQXVjdW4gc2l0ZSBhY3RpZiBzXHUwMEU5bGVjdGlvbm5cdTAwRTkuJywgJ2Vycm9yJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNldEJ1c3koJ2RlcGxveScpO1xuICAgICAgcmVuZGVyTG9ncyhbJ0RcdTAwRTlwbG9pZW1lbnQgZW4gY291cnNcdTIwMjYnXSk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGRlcGxveVJ1bkFwaSwge1xuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJ1aWxkUGF5bG9hZCgpKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwNCkge1xuICAgICAgICAgICAgc2V0RmVlZGJhY2soJ0FQSSBkXHUwMEU5cGxvaWVtZW50IGluZGlzcG9uaWJsZSAocmVkXHUwMEU5bWFycmUgbGUgc2VydmV1cikuJywgJ2Vycm9yJyk7XG4gICAgICAgICAgICByZW5kZXJMb2dzKFsnQVBJIGRcdTAwRTlwbG9pZW1lbnQgaW5kaXNwb25pYmxlIChyZWRcdTAwRTltYXJyZSBsZSBzZXJ2ZXVyKS4nXSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlbmRlckxvZ3MocmVzdWx0LmxvZ3MgfHwgW10pO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQubWVzc2FnZSB8fCAnRFx1MDBFOXBsb2llbWVudCBcdTAwRTljaG91XHUwMEU5LicpO1xuICAgICAgICB9XG4gICAgICAgIHJlbmRlckxvZ3MocmVzdWx0LmxvZ3MgfHwgW10pO1xuICAgICAgICBhd2FpdCBmZXRjaEhpc3RvcnkoKTtcbiAgICAgICAgc2hvd1RvYXN0KCdEXHUwMEU5cGxvaWVtZW50IHRlcm1pblx1MDBFOScpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkZXBsb3ldIHJ1biBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzZXRGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRFx1MDBFOXBsb2llbWVudCBcdTAwRTljaG91XHUwMEU5LicsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0QnVzeShudWxsKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHNob3dQYXNzd29yZFRvZ2dsZT8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICAgICAgaWYgKCFwYXNzd29yZElucHV0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHBhc3N3b3JkSW5wdXQudHlwZSA9IHNob3dQYXNzd29yZFRvZ2dsZS5jaGVja2VkID8gJ3RleHQnIDogJ3Bhc3N3b3JkJztcbiAgICB9KTtcblxuICAgIC8vIERvd25sb2FkIGJ1aWxkIGFzIFpJUFxuICAgIGNvbnN0IGRvd25sb2FkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZG93bmxvYWQtYnVpbGRdJyk7XG4gICAgY29uc3QgZG93bmxvYWRGZWVkYmFjayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRvd25sb2FkLWZlZWRiYWNrXScpO1xuICAgIGNvbnN0IGRvd25sb2FkQXBpID0gc2FmZVNpdGVTbHVnXG4gICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Zyl9L2Rvd25sb2FkYFxuICAgICAgOiBudWxsO1xuXG4gICAgY29uc3Qgc2V0RG93bmxvYWRGZWVkYmFjayA9IChtZXNzYWdlLCB0b25lID0gJ211dGVkJykgPT4ge1xuICAgICAgaWYgKCFkb3dubG9hZEZlZWRiYWNrKSByZXR1cm47XG4gICAgICBjb25zdCBjb2xvciA9XG4gICAgICAgIHRvbmUgPT09ICdzdWNjZXNzJ1xuICAgICAgICAgID8gJ3RleHQtZW1lcmFsZC02MDAnXG4gICAgICAgICAgOiB0b25lID09PSAnZXJyb3InXG4gICAgICAgICAgICA/ICd0ZXh0LXJvc2UtNjAwJ1xuICAgICAgICAgICAgOiAndGV4dC1zbGF0ZS01MDAnO1xuICAgICAgZG93bmxvYWRGZWVkYmFjay50ZXh0Q29udGVudCA9IG1lc3NhZ2UgfHwgJyc7XG4gICAgICBkb3dubG9hZEZlZWRiYWNrLmNsYXNzTmFtZSA9IGB0ZXh0LXNtICR7Y29sb3J9YDtcbiAgICB9O1xuXG4gICAgZG93bmxvYWRCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFkb3dubG9hZEFwaSkge1xuICAgICAgICBzZXREb3dubG9hZEZlZWRiYWNrKCdBdWN1biBzaXRlIGFjdGlmIHNcdTAwRTlsZWN0aW9ublx1MDBFOS4nLCAnZXJyb3InKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZG93bmxvYWRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgY29uc3Qgb3JpZ2luYWxDb250ZW50ID0gZG93bmxvYWRCdXR0b24uaW5uZXJIVE1MO1xuICAgICAgZG93bmxvYWRCdXR0b24uaW5uZXJIVE1MID0gYFxuICAgICAgICA8c3ZnIGNsYXNzPVwidy00IGgtNCBhbmltYXRlLXNwaW5cIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICA8Y2lyY2xlIGNsYXNzPVwib3BhY2l0eS0yNVwiIGN4PVwiMTJcIiBjeT1cIjEyXCIgcj1cIjEwXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiNFwiPjwvY2lyY2xlPlxuICAgICAgICAgIDxwYXRoIGNsYXNzPVwib3BhY2l0eS03NVwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIiBkPVwiTTQgMTJhOCA4IDAgMDE4LTh2NGE0IDQgMCAwMC00IDRINHpcIj48L3BhdGg+XG4gICAgICAgIDwvc3ZnPlxuICAgICAgICA8c3Bhbj5CdWlsZCBlbiBjb3Vycy4uLjwvc3Bhbj5cbiAgICAgIGA7XG4gICAgICBzZXREb3dubG9hZEZlZWRiYWNrKCdHXHUwMEU5blx1MDBFOXJhdGlvbiBkdSBidWlsZCBlbiBjb3Vycy4uLicsICdtdXRlZCcpO1xuXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGRvd25sb2FkQXBpKTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnN0IGVycm9yRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JEYXRhLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgZ1x1MDBFOW5cdTAwRTlyZXIgbGUgWklQLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRcdTAwRTlsXHUwMEU5Y2hhcmdlciBsZSBmaWNoaWVyXG4gICAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCByZXNwb25zZS5ibG9iKCk7XG4gICAgICAgIGNvbnN0IHVybCA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICAgICAgICBjb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgICBhLmhyZWYgPSB1cmw7XG4gICAgICAgIGEuZG93bmxvYWQgPSBgJHtzYWZlU2l0ZVNsdWd9LWJ1aWxkLnppcGA7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSk7XG4gICAgICAgIGEuY2xpY2soKTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChhKTtcbiAgICAgICAgd2luZG93LlVSTC5yZXZva2VPYmplY3RVUkwodXJsKTtcbiAgICAgICAgc2V0RG93bmxvYWRGZWVkYmFjaygnVFx1MDBFOWxcdTAwRTljaGFyZ2VtZW50IHRlcm1pblx1MDBFOSAhJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgc2hvd1RvYXN0KCdCdWlsZCB0XHUwMEU5bFx1MDBFOWNoYXJnXHUwMEU5IGF2ZWMgc3VjY1x1MDBFOHMnKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZG93bmxvYWRdIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNldERvd25sb2FkRmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGR1IHRcdTAwRTlsXHUwMEU5Y2hhcmdlbWVudC4nLCAnZXJyb3InKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGRvd25sb2FkQnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIGRvd25sb2FkQnV0dG9uLmlubmVySFRNTCA9IG9yaWdpbmFsQ29udGVudDtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGZldGNoQ29uZmlnKCk7XG4gICAgZmV0Y2hIaXN0b3J5KCk7XG4gIH1cblxuICBmdW5jdGlvbiBpbml0U2V0dGluZ3NXb3Jrc3BhY2UoKSB7XG4gICAgY29uc3QgdGFiQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXNldHRpbmdzLXRhYl0nKTtcbiAgICBjb25zdCB0YWJQYW5lbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1zZXR0aW5ncy1wYW5lbF0nKTtcbiAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRtaW4tcGFzc3dvcmQtZm9ybV0nKTtcbiAgICBjb25zdCBzaXRlRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtY29uZmlnLWZvcm1dJyk7XG4gICAgY29uc3Qgc2l0ZUZlZWRiYWNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS1jb25maWctZmVlZGJhY2tdJyk7XG4gICAgY29uc3QgdGhlbWVGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtZm9ybV0nKTtcbiAgICBjb25zdCBzd2l0Y2hUYWIgPSAobmFtZSkgPT4ge1xuICAgICAgdGFiQnV0dG9ucy5mb3JFYWNoKChidG4pID0+IHtcbiAgICAgICAgY29uc3QgaXNBY3RpdmUgPSBidG4uZGF0YXNldC5zZXR0aW5nc1RhYiA9PT0gbmFtZTtcbiAgICAgICAgYnRuLnNldEF0dHJpYnV0ZSgnYXJpYS1zZWxlY3RlZCcsIGlzQWN0aXZlID8gJ3RydWUnIDogJ2ZhbHNlJyk7XG4gICAgICAgIGJ0bi5jbGFzc0xpc3QudG9nZ2xlKCdiZy1bIzlDNkJGRl0nLCBpc0FjdGl2ZSk7XG4gICAgICAgIGJ0bi5jbGFzc0xpc3QudG9nZ2xlKCd0ZXh0LXdoaXRlJywgaXNBY3RpdmUpO1xuICAgICAgfSk7XG4gICAgICB0YWJQYW5lbHMuZm9yRWFjaCgocGFuZWwpID0+IHtcbiAgICAgICAgcGFuZWwuY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZGVuJywgcGFuZWwuZGF0YXNldC5zZXR0aW5nc1BhbmVsICE9PSBuYW1lKTtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgdGFiQnV0dG9ucy5mb3JFYWNoKChidG4pID0+IHtcbiAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHN3aXRjaFRhYihidG4uZGF0YXNldC5zZXR0aW5nc1RhYiB8fCAnYWNjb3VudCcpKTtcbiAgICB9KTtcbiAgICBzd2l0Y2hUYWIoJ2FjY291bnQnKTtcblxuICAgIGlmICghZm9ybSkge1xuICAgICAgLy8gc3RpbGwgYWxsb3cgc2l0ZSBmb3JtIGV2ZW4gaWYgcGFzc3dvcmQgZm9ybSBhYnNlbnRcbiAgICB9XG4gICAgaWYgKGZvcm0pIHtcbiAgICAgIGNvbnN0IGZlZWRiYWNrID0gZm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZG1pbi1wYXNzd29yZC1mZWVkYmFja10nKTtcbiAgICAgIGNvbnN0IHN1Ym1pdCA9IGZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYWRtaW4tcGFzc3dvcmQtc3VibWl0XScpO1xuICAgICAgY29uc3Qgc2V0RmVlZGJhY2sgPSAobWVzc2FnZSwgdG9uZSA9ICdtdXRlZCcpID0+IHtcbiAgICAgICAgaWYgKCFmZWVkYmFjaykgcmV0dXJuO1xuICAgICAgICBjb25zdCBjb2xvciA9XG4gICAgICAgICAgdG9uZSA9PT0gJ3N1Y2Nlc3MnXG4gICAgICAgICAgICA/ICd0ZXh0LWVtZXJhbGQtNjAwJ1xuICAgICAgICAgICAgOiB0b25lID09PSAnZXJyb3InXG4gICAgICAgICAgICAgID8gJ3RleHQtcm9zZS02MDAnXG4gICAgICAgICAgICAgIDogJ3RleHQtc2xhdGUtNTAwJztcbiAgICAgICAgZmVlZGJhY2sudGV4dENvbnRlbnQgPSBtZXNzYWdlIHx8ICcnO1xuICAgICAgICBmZWVkYmFjay5jbGFzc05hbWUgPSBgdGV4dC1zbSAke2NvbG9yfWA7XG4gICAgICB9O1xuICAgICAgZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoZm9ybSk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRQYXNzd29yZCA9IGZvcm1EYXRhLmdldCgnY3VycmVudFBhc3N3b3JkJykgfHwgJyc7XG4gICAgICAgIGNvbnN0IG5ld1Bhc3N3b3JkID0gZm9ybURhdGEuZ2V0KCduZXdQYXNzd29yZCcpIHx8ICcnO1xuICAgICAgICBjb25zdCBjb25maXJtUGFzc3dvcmQgPSBmb3JtRGF0YS5nZXQoJ2NvbmZpcm1QYXNzd29yZCcpIHx8ICcnO1xuICAgICAgICBpZiAoIWN1cnJlbnRQYXNzd29yZCB8fCAhbmV3UGFzc3dvcmQgfHwgIWNvbmZpcm1QYXNzd29yZCkge1xuICAgICAgICAgIHNldEZlZWRiYWNrKCdDb21wbFx1MDBFOHRlIHRvdXMgbGVzIGNoYW1wcy4nLCAnZXJyb3InKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc3VibWl0ICYmIChzdWJtaXQuZGlzYWJsZWQgPSB0cnVlKTtcbiAgICAgICAgc2V0RmVlZGJhY2soJycpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvYWRtaW4vcGFzc3dvcmQnLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBjdXJyZW50UGFzc3dvcmQsIG5ld1Bhc3N3b3JkLCBjb25maXJtUGFzc3dvcmQgfSksXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rIHx8IHBheWxvYWQuc3VjY2VzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihwYXlsb2FkLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgbWV0dHJlIFx1MDBFMCBqb3VyIGxlIG1vdCBkZSBwYXNzZS4nKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0RmVlZGJhY2socGF5bG9hZC5tZXNzYWdlIHx8ICdNb3QgZGUgcGFzc2UgbWlzIFx1MDBFMCBqb3VyLicsICdzdWNjZXNzJyk7XG4gICAgICAgICAgZm9ybS5yZXNldCgpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIGNoYW5nZSBwYXNzd29yZCBmYWlsZWQnLCBlcnIpO1xuICAgICAgICAgIHNldEZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsYSBtaXNlIFx1MDBFMCBqb3VyLicsICdlcnJvcicpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIHN1Ym1pdCAmJiAoc3VibWl0LmRpc2FibGVkID0gZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoc2l0ZUZvcm0pIHtcbiAgICAgIGNvbnN0IG5hbWVJbnB1dCA9IHNpdGVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtbmFtZV0nKTtcbiAgICAgIGNvbnN0IGxhbmdTZWxlY3QgPSBzaXRlRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLWxhbmd1YWdlXScpO1xuICAgICAgY29uc3QgdGFnbGluZUlucHV0ID0gc2l0ZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS10YWdsaW5lXScpO1xuICAgICAgY29uc3Qgc2F2ZUJ1dHRvbiA9IHNpdGVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtc2F2ZV0nKTtcbiAgICAgIGNvbnN0IHNldFNpdGVGZWVkYmFjayA9IChtZXNzYWdlLCB0b25lID0gJ211dGVkJykgPT4ge1xuICAgICAgICBpZiAoIXNpdGVGZWVkYmFjaykgcmV0dXJuO1xuICAgICAgICBjb25zdCBjb2xvciA9XG4gICAgICAgICAgdG9uZSA9PT0gJ3N1Y2Nlc3MnXG4gICAgICAgICAgICA/ICd0ZXh0LWVtZXJhbGQtNjAwJ1xuICAgICAgICAgICAgOiB0b25lID09PSAnZXJyb3InXG4gICAgICAgICAgICAgID8gJ3RleHQtcm9zZS02MDAnXG4gICAgICAgICAgICAgIDogJ3RleHQtc2xhdGUtNTAwJztcbiAgICAgICAgc2l0ZUZlZWRiYWNrLnRleHRDb250ZW50ID0gbWVzc2FnZSB8fCAnJztcbiAgICAgICAgc2l0ZUZlZWRiYWNrLmNsYXNzTmFtZSA9IGB0ZXh0LXNtICR7Y29sb3J9YDtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHNhZmVTaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKFxuICAgICAgICB3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnLFxuICAgICAgKTtcbiAgICAgIGNvbnN0IHNpdGVDb25maWdBcGkgPSBzYWZlU2l0ZVNsdWdcbiAgICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9jb25maWcvc2l0ZWBcbiAgICAgICAgOiBudWxsO1xuXG4gICAgICBjb25zdCBsb2FkU2l0ZUNvbmZpZyA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKCFzaXRlQ29uZmlnQXBpKSByZXR1cm47XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChzaXRlQ29uZmlnQXBpLCB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSByZXR1cm47XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICBpZiAobmFtZUlucHV0KSBuYW1lSW5wdXQudmFsdWUgPSBwYXlsb2FkLm5hbWUgfHwgJyc7XG4gICAgICAgICAgaWYgKGxhbmdTZWxlY3QpIGxhbmdTZWxlY3QudmFsdWUgPSBwYXlsb2FkLmxhbmd1YWdlIHx8ICdmcic7XG4gICAgICAgICAgaWYgKHRhZ2xpbmVJbnB1dCkgdGFnbGluZUlucHV0LnZhbHVlID0gcGF5bG9hZC50YWdsaW5lIHx8ICcnO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIGxvYWQgc2l0ZSBjb25maWcgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgc2l0ZUZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmICghc2l0ZUNvbmZpZ0FwaSkge1xuICAgICAgICAgIHNldFNpdGVGZWVkYmFjaygnQXVjdW4gc2l0ZSBhY3RpZi4nLCAnZXJyb3InKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFuYW1lSW5wdXQ/LnZhbHVlLnRyaW0oKSkge1xuICAgICAgICAgIHNldFNpdGVGZWVkYmFjaygnTm9tIHJlcXVpcy4nLCAnZXJyb3InKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc2F2ZUJ1dHRvbiAmJiAoc2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWUpO1xuICAgICAgICBzZXRTaXRlRmVlZGJhY2soJycpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgICAgICBuYW1lOiBuYW1lSW5wdXQ/LnZhbHVlIHx8ICcnLFxuICAgICAgICAgICAgbGFuZ3VhZ2U6IGxhbmdTZWxlY3Q/LnZhbHVlIHx8ICdmcicsXG4gICAgICAgICAgICB0YWdsaW5lOiB0YWdsaW5lSW5wdXQ/LnZhbHVlIHx8ICcnLFxuICAgICAgICAgIH07XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChzaXRlQ29uZmlnQXBpLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vayB8fCByZXN1bHQuc3VjY2VzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQubWVzc2FnZSB8fCAnU2F1dmVnYXJkZSBpbXBvc3NpYmxlLicpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXRTaXRlRmVlZGJhY2socmVzdWx0Lm1lc3NhZ2UgfHwgJ1BhcmFtXHUwMEU4dHJlcyBlbnJlZ2lzdHJcdTAwRTlzLicsICdzdWNjZXNzJyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gc2F2ZSBzaXRlIGNvbmZpZyBmYWlsZWQnLCBlcnIpO1xuICAgICAgICAgIHNldFNpdGVGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZGUgbGEgc2F1dmVnYXJkZS4nLCAnZXJyb3InKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBzYXZlQnV0dG9uICYmIChzYXZlQnV0dG9uLmRpc2FibGVkID0gZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgbG9hZFNpdGVDb25maWcoKTtcbiAgICB9XG5cbiAgICBpZiAodGhlbWVGb3JtKSB7XG4gICAgICBjb25zdCBzYWZlU2l0ZVNsdWcgPSBzdHJpcExlYWRpbmdTbGFzaChcbiAgICAgICAgd29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyxcbiAgICAgICk7XG4gICAgICBjb25zdCB0aGVtZUFwaSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Zyl9L2NvbmZpZy90aGVtZWBcbiAgICAgICAgOiBudWxsO1xuXG4gICAgICBjb25zdCBjb2xvclNlbGVjdHMgPSB7XG4gICAgICAgIHByaW1hcnk6IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1wcmltYXJ5XScpLFxuICAgICAgICBzZWNvbmRhcnk6IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1zZWNvbmRhcnldJyksXG4gICAgICAgIGFjY2VudDogdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLWFjY2VudF0nKSxcbiAgICAgICAgYmFja2dyb3VuZDogdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLWJhY2tncm91bmRdJyksXG4gICAgICAgIHRleHQ6IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS10ZXh0XScpLFxuICAgICAgfTtcbiAgICAgIGNvbnN0IGhlYWRpbmdTZWxlY3QgPSB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtaGVhZGluZ3NdJyk7XG4gICAgICBjb25zdCBib2R5U2VsZWN0ID0gdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLWJvZHldJyk7XG4gICAgICBjb25zdCByYWRpdXNTbWFsbCA9IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1yYWRpdXMtc21hbGxdJyk7XG4gICAgICBjb25zdCByYWRpdXNNZWRpdW0gPSB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtcmFkaXVzLW1lZGl1bV0nKTtcbiAgICAgIGNvbnN0IHJhZGl1c0xhcmdlID0gdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLXJhZGl1cy1sYXJnZV0nKTtcbiAgICAgIGNvbnN0IHByZXZpZXcgPSB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtcHJldmlld10nKTtcbiAgICAgIGNvbnN0IHRoZW1lRmVlZGJhY2sgPSB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtZmVlZGJhY2tdJyk7XG4gICAgICBjb25zdCBhcHBseUJ1dHRvbiA9IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1hcHBseV0nKTtcbiAgICAgIGNvbnN0IHRhaWx3aW5kQmFzZU1hcCA9IHtcbiAgICAgICAgc2xhdGU6JyNlMmU4ZjAnLGdyYXk6JyNkMWQ1ZGInLHppbmM6JyNkNGQ0ZDgnLG5ldXRyYWw6JyNkNGQ0ZDQnLHN0b25lOicjZDZkM2QxJyxcbiAgICAgICAgcmVkOicjZWY0NDQ0JyxvcmFuZ2U6JyNmOTczMTYnLGFtYmVyOicjZjU5ZTBiJyx5ZWxsb3c6JyNlYWIzMDgnLGxpbWU6JyM4NGNjMTYnLFxuICAgICAgICBncmVlbjonIzIyYzU1ZScsZW1lcmFsZDonIzEwYjk4MScsdGVhbDonIzE0YjhhNicsY3lhbjonIzA2YjZkNCcsc2t5OicjMGVhNWU5JyxcbiAgICAgICAgYmx1ZTonIzNiODJmNicsaW5kaWdvOicjNjM2NmYxJyx2aW9sZXQ6JyM4YjVjZjYnLHB1cnBsZTonI2E4NTVmNycsZnVjaHNpYTonI2Q5NDZlZicsXG4gICAgICAgIHBpbms6JyNlYzQ4OTknLHJvc2U6JyNmNDNmNWUnXG4gICAgICB9O1xuICAgICAgY29uc3QgdGFpbHdpbmRUb2tlblRvSGV4ID0gKHRva2VuKSA9PiB7XG4gICAgICAgIGlmICghdG9rZW4pIHJldHVybiBudWxsO1xuICAgICAgICBpZiAodG9rZW4gPT09ICd3aGl0ZScpIHJldHVybiAnI2ZmZmZmZic7XG4gICAgICAgIGlmICh0b2tlbiA9PT0gJ2JsYWNrJykgcmV0dXJuICcjMDAwMDAwJztcbiAgICAgICAgaWYgKHRva2VuID09PSAndHJhbnNwYXJlbnQnKSByZXR1cm4gJ3RyYW5zcGFyZW50JztcbiAgICAgICAgY29uc3QgW2gsc10gPSB0b2tlbi5zcGxpdCgnLScpO1xuICAgICAgICBpZiAoIWggfHwgIXMpIHJldHVybiBudWxsO1xuICAgICAgICBjb25zdCBiYXNlID0gdGFpbHdpbmRCYXNlTWFwW2hdO1xuICAgICAgICBpZiAoIWJhc2UpIHJldHVybiBudWxsO1xuICAgICAgICBjb25zdCBzaGFkZU51bSA9IE51bWJlcihzKSB8fCA1MDA7XG4gICAgICAgIGNvbnN0IGZhY3RvciA9IE1hdGgubWluKE1hdGgubWF4KChzaGFkZU51bSAtIDUwKSAvIDkwMCwgMCksIDEpO1xuICAgICAgICBjb25zdCB0b1JnYiA9IChoZXgpID0+XG4gICAgICAgICAgaGV4XG4gICAgICAgICAgICAucmVwbGFjZSgnIycsICcnKVxuICAgICAgICAgICAgLm1hdGNoKC9bQS1GYS1mMC05XXsyfS9nKVxuICAgICAgICAgICAgLm1hcCgodikgPT4gcGFyc2VJbnQodiwgMTYpKTtcbiAgICAgICAgY29uc3QgW3IsIGcsIGJdID0gdG9SZ2IoYmFzZSk7XG4gICAgICAgIGNvbnN0IG1peCA9ICh2KSA9PiBNYXRoLnJvdW5kKDI1NSAtICgyNTUgLSB2KSAqIGZhY3Rvcik7XG4gICAgICAgIHJldHVybiBgcmdiKCR7bWl4KHIpfSwgJHttaXgoZyl9LCAke21peChiKX0pYDtcbiAgICAgIH07XG4gICAgICBjb25zdCB0YWlsd2luZEh1ZXMgPSBbXG4gICAgICAgICdzbGF0ZScsJ2dyYXknLCd6aW5jJywnbmV1dHJhbCcsJ3N0b25lJywncmVkJywnb3JhbmdlJywnYW1iZXInLCd5ZWxsb3cnLCdsaW1lJywnZ3JlZW4nLCdlbWVyYWxkJywndGVhbCcsJ2N5YW4nLCdza3knLCdibHVlJywnaW5kaWdvJywndmlvbGV0JywncHVycGxlJywnZnVjaHNpYScsJ3BpbmsnLCdyb3NlJ1xuICAgICAgXTtcbiAgICAgIGNvbnN0IHRhaWx3aW5kU2hhZGVzID0gWyc1MCcsJzEwMCcsJzIwMCcsJzMwMCcsJzQwMCcsJzUwMCcsJzYwMCcsJzcwMCcsJzgwMCcsJzkwMCddO1xuICAgICAgY29uc3QgdGFpbHdpbmRUb2tlbnMgPSB0YWlsd2luZEh1ZXMuZmxhdE1hcCgoaCk9PnRhaWx3aW5kU2hhZGVzLm1hcCgocyk9PmAke2h9LSR7c31gKSk7XG5cbiAgICAgIGNvbnN0IG5ldXRyYWxUb2tlbnMgPSBbXG4gICAgICAgIHsgdmFsdWU6ICd3aGl0ZScsIGxhYmVsOiAnQmxhbmMnLCBjb2xvcjogJyNmZmZmZmYnLCBlbW9qaTogJ1x1MkIxQycgfSxcbiAgICAgICAgeyB2YWx1ZTogJ3RyYW5zcGFyZW50JywgbGFiZWw6ICdUcmFuc3BhcmVudCcsIGNvbG9yOiAndHJhbnNwYXJlbnQnLCBlbW9qaTogJ1x1MkIxQycgfSxcbiAgICAgICAgeyB2YWx1ZTogJ2JsYWNrJywgbGFiZWw6ICdOb2lyJywgY29sb3I6ICcjMDAwMDAwJywgZW1vamk6ICdcdTJCMUInIH0sXG4gICAgICBdO1xuXG4gICAgICBjb25zdCBjb2xvck9wdGlvbkRlZmluaXRpb25zID0gKCgpID0+IHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IFtdO1xuICAgICAgICBuZXV0cmFsVG9rZW5zLmZvckVhY2goKHsgdmFsdWUsIGxhYmVsLCBjb2xvciwgZW1vamkgfSkgPT4ge1xuICAgICAgICAgIG9wdGlvbnMucHVzaCh7XG4gICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgIGxhYmVsOiBgJHtlbW9qaX0gJHtsYWJlbH1gLFxuICAgICAgICAgICAgY29sb3IsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0YWlsd2luZFRva2Vucy5mb3JFYWNoKCh0b2tlbikgPT4ge1xuICAgICAgICAgIGNvbnN0IFtoLCBzXSA9IHRva2VuLnNwbGl0KCctJyk7XG4gICAgICAgICAgY29uc3QgY29sb3JWYWx1ZSA9IHRhaWx3aW5kVG9rZW5Ub0hleCh0b2tlbikgfHwgJyNmZmZmZmYnO1xuICAgICAgICAgIG9wdGlvbnMucHVzaCh7XG4gICAgICAgICAgICB2YWx1ZTogdG9rZW4sXG4gICAgICAgICAgICBsYWJlbDogYCR7aC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGguc2xpY2UoMSl9ICR7c31gLFxuICAgICAgICAgICAgY29sb3I6IGNvbG9yVmFsdWUsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gb3B0aW9ucztcbiAgICAgIH0pKCk7XG5cbiAgICAgIGNvbnN0IG5vcm1hbGl6ZVNlbGVjdENvbG9yID0gKHZhbHVlKSA9PlxuICAgICAgICB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnID8gdmFsdWUudHJpbSgpLnRvTG93ZXJDYXNlKCkgOiAnJztcblxuICAgICAgY29uc3QgZmlsbENvbG9yT3B0aW9ucyA9IChzZWxlY3RlZENvbG9ycyA9IHt9KSA9PiB7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKGNvbG9yU2VsZWN0cykuZm9yRWFjaCgoW2tleSwgc2VsXSkgPT4ge1xuICAgICAgICAgIGlmICghc2VsKSByZXR1cm47XG4gICAgICAgICAgY29uc3Qgbm9ybWFsaXplZFZhbHVlID0gbm9ybWFsaXplU2VsZWN0Q29sb3Ioc2VsZWN0ZWRDb2xvcnNba2V5XSk7XG4gICAgICAgICAgc2VsLmlubmVySFRNTCA9ICcnO1xuICAgICAgICAgIGNvbG9yT3B0aW9uRGVmaW5pdGlvbnMuZm9yRWFjaCgoeyB2YWx1ZSwgbGFiZWwsIGNvbG9yIH0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICAgICAgb3B0aW9uLnZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICBvcHRpb24udGV4dENvbnRlbnQgPSBsYWJlbDtcbiAgICAgICAgICAgIG9wdGlvbi5kYXRhc2V0LmNvbG9yID0gY29sb3I7XG4gICAgICAgICAgICBpZiAobm9ybWFsaXplZFZhbHVlICYmIG5vcm1hbGl6ZWRWYWx1ZSA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgb3B0aW9uLnNlbGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNlbC5hcHBlbmRDaGlsZChvcHRpb24pO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNlbC5kYXRhc2V0LmRlZmF1bHQgPSBzZWwuZGF0YXNldC5kZWZhdWx0IHx8IHNlbC5vcHRpb25zWzBdPy52YWx1ZSB8fCAnJztcbiAgICAgICAgICBpZiAoIW5vcm1hbGl6ZWRWYWx1ZSAmJiBzZWwuZGF0YXNldC5kZWZhdWx0KSB7XG4gICAgICAgICAgICBzZWwudmFsdWUgPSBzZWwuZGF0YXNldC5kZWZhdWx0O1xuICAgICAgICAgIH1cbiAgICAgICAgICBzdHlsZVNlbGVjdE9wdGlvbnMoc2VsKTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBzZXRUaGVtZUZlZWRiYWNrID0gKG1lc3NhZ2UsIHRvbmUgPSAnbXV0ZWQnKSA9PiB7XG4gICAgICAgIGlmICghdGhlbWVGZWVkYmFjaykgcmV0dXJuO1xuICAgICAgICBjb25zdCBjb2xvciA9XG4gICAgICAgICAgdG9uZSA9PT0gJ3N1Y2Nlc3MnXG4gICAgICAgICAgICA/ICd0ZXh0LWVtZXJhbGQtNjAwJ1xuICAgICAgICAgICAgOiB0b25lID09PSAnZXJyb3InXG4gICAgICAgICAgICAgID8gJ3RleHQtcm9zZS02MDAnXG4gICAgICAgICAgICAgIDogJ3RleHQtc2xhdGUtNTAwJztcbiAgICAgICAgdGhlbWVGZWVkYmFjay50ZXh0Q29udGVudCA9IG1lc3NhZ2UgfHwgJyc7XG4gICAgICAgIHRoZW1lRmVlZGJhY2suY2xhc3NOYW1lID0gYHRleHQtc20gJHtjb2xvcn1gO1xuICAgICAgfTtcblxuICAgICAgY29uc3Qgc3luY1ByZXZpZXcgPSAoKSA9PiB7XG4gICAgICAgIGlmICghcHJldmlldykgcmV0dXJuO1xuICAgICAgICBjb25zdCB0b2tlblRvSGV4ID0gKHRva2VuKSA9PiB7XG4gICAgICAgICAgaWYgKCF0b2tlbikgcmV0dXJuIG51bGw7XG4gICAgICAgICAgLy8gR1x1MDBFOXJlciBsZXMgY2FzIHNwXHUwMEU5Y2lhdXggd2hpdGUsIGJsYWNrLCB0cmFuc3BhcmVudFxuICAgICAgICAgIGlmICh0b2tlbiA9PT0gJ3doaXRlJykgcmV0dXJuICcjZmZmZmZmJztcbiAgICAgICAgICBpZiAodG9rZW4gPT09ICdibGFjaycpIHJldHVybiAnIzAwMDAwMCc7XG4gICAgICAgICAgaWYgKHRva2VuID09PSAndHJhbnNwYXJlbnQnKSByZXR1cm4gJ3RyYW5zcGFyZW50JztcbiAgICAgICAgICBcbiAgICAgICAgICBjb25zdCBbaCxzXT10b2tlbi5zcGxpdCgnLScpO1xuICAgICAgICAgIGlmICghaCB8fCAhcykgcmV0dXJuIG51bGw7IC8vIEZvcm1hdCBpbnZhbGlkZVxuICAgICAgICAgIFxuICAgICAgICAgIGNvbnN0IG1hcCA9IHtcbiAgICAgICAgICAgIHNsYXRlOicjZTJlOGYwJyxncmF5OicjZDFkNWRiJyx6aW5jOicjZDRkNGQ4JyxuZXV0cmFsOicjZDRkNGQ0JyxzdG9uZTonI2Q2ZDNkMScsXG4gICAgICAgICAgICByZWQ6JyNlZjQ0NDQnLG9yYW5nZTonI2Y5NzMxNicsYW1iZXI6JyNmNTllMGInLHllbGxvdzonI2VhYjMwOCcsbGltZTonIzg0Y2MxNicsXG4gICAgICAgICAgICBncmVlbjonIzIyYzU1ZScsZW1lcmFsZDonIzEwYjk4MScsdGVhbDonIzE0YjhhNicsY3lhbjonIzA2YjZkNCcsc2t5OicjMGVhNWU5JyxcbiAgICAgICAgICAgIGJsdWU6JyMzYjgyZjYnLGluZGlnbzonIzYzNjZmMScsdmlvbGV0OicjOGI1Y2Y2JyxwdXJwbGU6JyNhODU1ZjcnLGZ1Y2hzaWE6JyNkOTQ2ZWYnLFxuICAgICAgICAgICAgcGluazonI2VjNDg5OScscm9zZTonI2Y0M2Y1ZSdcbiAgICAgICAgICB9O1xuICAgICAgICAgIGNvbnN0IGJhc2U9bWFwW2hdO1xuICAgICAgICAgIGlmICghYmFzZSkgcmV0dXJuIG51bGw7XG4gICAgICAgICAgLy8gcm91Z2ggc2hhZGUgdHdlYWsgdXNpbmcgb3BhY2l0eTsgbm90IGV4YWN0IFRhaWx3aW5kIHBhbGV0dGUgYnV0IHByZXZpZXctZnJpZW5kbHlcbiAgICAgICAgICBjb25zdCBzaGFkZU51bT1OdW1iZXIocyl8fDUwMDtcbiAgICAgICAgICBjb25zdCBmYWN0b3IgPSBNYXRoLm1pbihNYXRoLm1heCgoc2hhZGVOdW0tNTApLzkwMCwwKSwxKTtcbiAgICAgICAgICBjb25zdCB0b1JnYj0oaGV4KT0+aGV4Lm1hdGNoKC9bQS1GYS1mMC05XXsyfS9nKS5tYXAoKHYpPT5wYXJzZUludCh2LDE2KSk7XG4gICAgICAgICAgY29uc3QgW3IsZyxiXT10b1JnYihiYXNlLnJlcGxhY2UoJyMnLCcnKSk7XG4gICAgICAgICAgY29uc3QgbWl4PSh2KT0+TWF0aC5yb3VuZCgyNTUgLSAoMjU1IC0gdikqZmFjdG9yKTtcbiAgICAgICAgICByZXR1cm4gYHJnYigke21peChyKX0sICR7bWl4KGcpfSwgJHttaXgoYil9KWA7XG4gICAgICAgIH07XG4gICAgICAgIHByZXZpZXcuc3R5bGUuc2V0UHJvcGVydHkoJy0tY29sb3ItcHJpbWFyeScsIHRhaWx3aW5kVG9rZW5Ub0hleChjb2xvclNlbGVjdHMucHJpbWFyeT8udmFsdWUpIHx8ICcjOUM2QkZGJyk7XG4gICAgICAgIHByZXZpZXcuc3R5bGUuc2V0UHJvcGVydHkoJy0tY29sb3Itc2Vjb25kYXJ5JywgdGFpbHdpbmRUb2tlblRvSGV4KGNvbG9yU2VsZWN0cy5zZWNvbmRhcnk/LnZhbHVlKSB8fCAnIzBFQTVFOScpO1xuICAgICAgICBwcmV2aWV3LnN0eWxlLnNldFByb3BlcnR5KCctLWNvbG9yLWFjY2VudCcsIHRhaWx3aW5kVG9rZW5Ub0hleChjb2xvclNlbGVjdHMuYWNjZW50Py52YWx1ZSkgfHwgJyNGOTczMTYnKTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1jb2xvci1iYWNrZ3JvdW5kJywgdGFpbHdpbmRUb2tlblRvSGV4KGNvbG9yU2VsZWN0cy5iYWNrZ3JvdW5kPy52YWx1ZSkgfHwgJyNGRkZGRkYnKTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1jb2xvci10ZXh0JywgdGFpbHdpbmRUb2tlblRvSGV4KGNvbG9yU2VsZWN0cy50ZXh0Py52YWx1ZSkgfHwgJyMwRjE3MkEnKTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1mb250LWhlYWRpbmdzJywgaGVhZGluZ1NlbGVjdD8udmFsdWUgfHwgJ0ludGVyLCBzYW5zLXNlcmlmJyk7XG4gICAgICAgIHByZXZpZXcuc3R5bGUuc2V0UHJvcGVydHkoJy0tZm9udC1ib2R5JywgYm9keVNlbGVjdD8udmFsdWUgfHwgJ0ludGVyLCBzYW5zLXNlcmlmJyk7XG4gICAgICAgIHByZXZpZXcuc3R5bGUuc2V0UHJvcGVydHkoJy0tcmFkaXVzLXNtYWxsJywgcmFkaXVzU21hbGw/LnZhbHVlIHx8ICc4cHgnKTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1yYWRpdXMtbWVkaXVtJywgcmFkaXVzTWVkaXVtPy52YWx1ZSB8fCAnMTZweCcpO1xuICAgICAgICBwcmV2aWV3LnN0eWxlLnNldFByb3BlcnR5KCctLXJhZGl1cy1sYXJnZScsIHJhZGl1c0xhcmdlPy52YWx1ZSB8fCAnMjRweCcpO1xuICAgICAgICBwcmV2aWV3LnN0eWxlLmJvcmRlclJhZGl1cyA9IHJhZGl1c01lZGl1bT8udmFsdWUgfHwgJzE2cHgnO1xuICAgICAgfTtcblxuICAgICAgLy8gSW5pdGlhbGlzZXIgbGVzIHByZXZpZXdzIGRlIGNvdWxldXIgZXQgYWpvdXRlciBsZXMgbGlzdGVuZXJzXG4gICAgICBjb25zdCBzdHlsZVRoZW1lQ29sb3JDaGlwID0gKGNoaXAsIGNvbG9yKSA9PiB7XG4gICAgICAgIGlmICghY2hpcCkgcmV0dXJuO1xuICAgICAgICBpZiAoY29sb3IgPT09ICd0cmFuc3BhcmVudCcpIHtcbiAgICAgICAgICBjaGlwLnN0eWxlLmJhY2tncm91bmQgPSAncmVwZWF0aW5nLWNvbmljLWdyYWRpZW50KCNjY2MgMCUgMjUlLCB3aGl0ZSAwJSA1MCUpIDUwJSAvIDhweCA4cHgnO1xuICAgICAgICAgIGNoaXAuc3R5bGUuYm9yZGVyQ29sb3IgPSAnI2NiZDVmNSc7XG4gICAgICAgICAgY2hpcC5zdHlsZS5ib3hTaGFkb3cgPSAnJztcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY2hpcC5zdHlsZS5iYWNrZ3JvdW5kID0gY29sb3I7XG4gICAgICAgIGNoaXAuc3R5bGUuYm9yZGVyQ29sb3IgPSBjb2xvcjtcbiAgICAgICAgY2hpcC5zdHlsZS5ib3hTaGFkb3cgPSAnMCAwIDAgMXB4IHJnYmEoMTUsMjMsNDIsMC4xNSknO1xuICAgICAgfTtcbiAgICAgIGNvbnN0IHVwZGF0ZVRoZW1lQ29sb3JQcmV2aWV3ID0gKHNlbGVjdCkgPT4ge1xuICAgICAgICBpZiAoIXNlbGVjdCkgcmV0dXJuO1xuICAgICAgICBjb25zdCBzZWxlY3RlZE9wdGlvbiA9IHNlbGVjdC5vcHRpb25zW3NlbGVjdC5zZWxlY3RlZEluZGV4XTtcbiAgICAgICAgY29uc3QgY29sb3IgPSBzZWxlY3RlZE9wdGlvbj8uZGF0YXNldD8uY29sb3IgfHwgJyNmZmZmZmYnO1xuICAgICAgICBjb25zdCBjb2xvclByZXZpZXcgPSBzZWxlY3QuY2xvc2VzdCgnLnJlbGF0aXZlJyk/LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbG9yLXByZXZpZXddJyk7XG4gICAgICAgIGlmIChjb2xvclByZXZpZXcpIHtcbiAgICAgICAgICBpZiAoY29sb3IgPT09ICd0cmFuc3BhcmVudCcpIHtcbiAgICAgICAgICAgIGNvbG9yUHJldmlldy5zdHlsZS5iYWNrZ3JvdW5kID0gVFJBTlNQQVJFTlRfUEFUVEVSTjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29sb3JQcmV2aWV3LnN0eWxlLmJhY2tncm91bmQgPSBjb2xvcjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29sb3JDaGlwID0gc2VsZWN0LmNsb3Nlc3QoJy5yZWxhdGl2ZScpPy5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1jb2xvci1jaGlwXScpO1xuICAgICAgICBzdHlsZVRoZW1lQ29sb3JDaGlwKGNvbG9yQ2hpcCwgY29sb3IpO1xuICAgICAgfTtcblxuICAgICAgY29uc3QgaW5pdENvbG9yUHJldmlld3MgPSAoKSA9PiB7XG4gICAgICAgIE9iamVjdC52YWx1ZXMoY29sb3JTZWxlY3RzKS5mb3JFYWNoKChzZWxlY3QpID0+IHtcbiAgICAgICAgICBpZiAoIXNlbGVjdCkgcmV0dXJuO1xuICAgICAgICAgIHN0eWxlU2VsZWN0T3B0aW9ucyhzZWxlY3QpO1xuICAgICAgICAgIHVwZGF0ZVRoZW1lQ29sb3JQcmV2aWV3KHNlbGVjdCk7XG4gICAgICAgICAgc2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHVwZGF0ZVRoZW1lQ29sb3JQcmV2aWV3KHNlbGVjdCkpO1xuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgIE9iamVjdC5rZXlzKGNvbG9yU2VsZWN0cykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgIGNvbG9yU2VsZWN0c1trZXldPy5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBzeW5jUHJldmlldyk7XG4gICAgICB9KTtcbiAgICAgIFtoZWFkaW5nU2VsZWN0LCBib2R5U2VsZWN0LCByYWRpdXNTbWFsbCwgcmFkaXVzTWVkaXVtLCByYWRpdXNMYXJnZV0uZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgICAgZWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHN5bmNQcmV2aWV3KTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBsb2FkVGhlbWUgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIGlmICghdGhlbWVBcGkpIHJldHVybjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHRoZW1lQXBpLCB7XG4gICAgICAgICAgICBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICBjcmVkZW50aWFsczogJ2luY2x1ZGUnLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHJldHVybjtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIGNvbnN0IHRoZW1lQ29sb3JzID0gcGF5bG9hZC5jb2xvcnMgfHwge307XG4gICAgICAgICAgZmlsbENvbG9yT3B0aW9ucyh0aGVtZUNvbG9ycyk7XG4gICAgICAgICAgT2JqZWN0LmVudHJpZXMoY29sb3JTZWxlY3RzKS5mb3JFYWNoKChba2V5LCBzZWxlY3RdKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXNlbGVjdCkgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSB0aGVtZUNvbG9yc1trZXldO1xuICAgICAgICAgICAgY29uc3Qgbm9ybWFsaXplZFZhbHVlID0gbm9ybWFsaXplU2VsZWN0Q29sb3IodmFsdWUpO1xuICAgICAgICAgICAgaWYgKG5vcm1hbGl6ZWRWYWx1ZSkge1xuICAgICAgICAgICAgICBzZWxlY3QudmFsdWUgPSBub3JtYWxpemVkVmFsdWU7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgIHNlbGVjdC52YWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzZWxlY3QuZGF0YXNldC5kZWZhdWx0KSB7XG4gICAgICAgICAgICAgIHNlbGVjdC52YWx1ZSA9IHNlbGVjdC5kYXRhc2V0LmRlZmF1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1cGRhdGVUaGVtZUNvbG9yUHJldmlldyhzZWxlY3QpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGlmIChoZWFkaW5nU2VsZWN0KSBoZWFkaW5nU2VsZWN0LnZhbHVlID0gcGF5bG9hZC50eXBvZ3JhcGh5Py5oZWFkaW5ncyB8fCAnSW50ZXIsIHNhbnMtc2VyaWYnO1xuICAgICAgICAgIGlmIChib2R5U2VsZWN0KSBib2R5U2VsZWN0LnZhbHVlID0gcGF5bG9hZC50eXBvZ3JhcGh5Py5ib2R5IHx8ICdJbnRlciwgc2Fucy1zZXJpZic7XG4gICAgICAgICAgaWYgKHJhZGl1c1NtYWxsKSByYWRpdXNTbWFsbC52YWx1ZSA9IHBheWxvYWQucmFkaXVzPy5zbWFsbCB8fCAnOHB4JztcbiAgICAgICAgICBpZiAocmFkaXVzTWVkaXVtKSByYWRpdXNNZWRpdW0udmFsdWUgPSBwYXlsb2FkLnJhZGl1cz8ubWVkaXVtIHx8ICcxNnB4JztcbiAgICAgICAgICBpZiAocmFkaXVzTGFyZ2UpIHJhZGl1c0xhcmdlLnZhbHVlID0gcGF5bG9hZC5yYWRpdXM/LmxhcmdlIHx8ICcyNHB4JztcbiAgICAgICAgICBzeW5jUHJldmlldygpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIGxvYWQgdGhlbWUgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgYXBwbHlCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmICghdGhlbWVBcGkpIHtcbiAgICAgICAgICBzZXRUaGVtZUZlZWRiYWNrKCdBdWN1biBzaXRlIGFjdGlmLicsICdlcnJvcicpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICAgIGNvbG9yczoge1xuICAgICAgICAgICAgcHJpbWFyeTogY29sb3JTZWxlY3RzLnByaW1hcnk/LnZhbHVlIHx8ICd2aW9sZXQtNTAwJyxcbiAgICAgICAgICAgIHNlY29uZGFyeTogY29sb3JTZWxlY3RzLnNlY29uZGFyeT8udmFsdWUgfHwgJ2luZGlnby00MDAnLFxuICAgICAgICAgICAgYWNjZW50OiBjb2xvclNlbGVjdHMuYWNjZW50Py52YWx1ZSB8fCAnZW1lcmFsZC01MDAnLFxuICAgICAgICAgICAgYmFja2dyb3VuZDogY29sb3JTZWxlY3RzLmJhY2tncm91bmQ/LnZhbHVlIHx8ICdzbGF0ZS01MCcsXG4gICAgICAgICAgICB0ZXh0OiBjb2xvclNlbGVjdHMudGV4dD8udmFsdWUgfHwgJ3NsYXRlLTkwMCcsXG4gICAgICAgICAgfSxcbiAgICAgICAgICB0eXBvZ3JhcGh5OiB7XG4gICAgICAgICAgICBoZWFkaW5nczogaGVhZGluZ1NlbGVjdD8udmFsdWUgfHwgJ0ludGVyLCBzYW5zLXNlcmlmJyxcbiAgICAgICAgICAgIGJvZHk6IGJvZHlTZWxlY3Q/LnZhbHVlIHx8ICdJbnRlciwgc2Fucy1zZXJpZicsXG4gICAgICAgICAgfSxcbiAgICAgICAgICByYWRpdXM6IHtcbiAgICAgICAgICAgIHNtYWxsOiByYWRpdXNTbWFsbD8udmFsdWUgfHwgJzhweCcsXG4gICAgICAgICAgICBtZWRpdW06IHJhZGl1c01lZGl1bT8udmFsdWUgfHwgJzE2cHgnLFxuICAgICAgICAgICAgbGFyZ2U6IHJhZGl1c0xhcmdlPy52YWx1ZSB8fCAnMjRweCcsXG4gICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgYXBwbHlCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICBzZXRUaGVtZUZlZWRiYWNrKCcnKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHRoZW1lQXBpLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICBjcmVkZW50aWFsczogJ2luY2x1ZGUnLFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2sgfHwgcmVzdWx0LnN1Y2Nlc3MgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzdWx0Lm1lc3NhZ2UgfHwgJ0FwcGxpY2F0aW9uIGR1IHRoXHUwMEU4bWUgXHUwMEU5Y2hvdVx1MDBFOWUuJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGF3YWl0IGxvYWRUaGVtZSgpO1xuICAgICAgICAgIHNldFRoZW1lRmVlZGJhY2socmVzdWx0Lm1lc3NhZ2UgfHwgJ1RoXHUwMEU4bWUgYXBwbGlxdVx1MDBFOS4nLCAnc3VjY2VzcycpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIGFwcGx5IHRoZW1lIGZhaWxlZCcsIGVycik7XG4gICAgICAgICAgc2V0VGhlbWVGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZGUgbFx1MjAxOWFwcGxpY2F0aW9uIGR1IHRoXHUwMEU4bWUuJywgJ2Vycm9yJyk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgYXBwbHlCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGZpbGxDb2xvck9wdGlvbnMoKTtcbiAgICAgIGluaXRDb2xvclByZXZpZXdzKCk7XG4gICAgICBsb2FkVGhlbWUoKTtcbiAgICAgIHN5bmNQcmV2aWV3KCk7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdhaS10aGVtZS11cGRhdGVkJywgKCkgPT4ge1xuICAgICAgICBsb2FkVGhlbWUoKTtcbiAgICAgICAgc2V0VGhlbWVGZWVkYmFjaygnVGhcdTAwRThtZSBtaXMgXHUwMEUwIGpvdXIuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIFNFTyBDb25maWcgZm9ybSAoVVM5LkIxKVxuICAgIGNvbnN0IHNlb0NvbmZpZ0Zvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8tY29uZmlnLWZvcm1dJyk7XG4gICAgaWYgKHNlb0NvbmZpZ0Zvcm0pIHtcbiAgICAgIGNvbnN0IGluZGV4QWxsQ2hlY2tib3ggPSBzZW9Db25maWdGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby1pbmRleC1hbGxdJyk7XG4gICAgICBjb25zdCBzZW9Db25maWdGZWVkYmFjayA9IHNlb0NvbmZpZ0Zvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtc2VvLWNvbmZpZy1mZWVkYmFja10nKTtcbiAgICAgIGNvbnN0IHNlb1NhdmVCdXR0b24gPSBzZW9Db25maWdGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby1zYXZlXScpO1xuXG4gICAgICBjb25zdCBzYWZlU2l0ZVNsdWcgPSBzdHJpcExlYWRpbmdTbGFzaChcbiAgICAgICAgd29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyxcbiAgICAgICk7XG4gICAgICBjb25zdCBzaXRlQ29uZmlnQXBpID0gc2FmZVNpdGVTbHVnXG4gICAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnKX0vY29uZmlnL3NpdGVgXG4gICAgICAgIDogbnVsbDtcblxuICAgICAgY29uc3Qgc2V0U2VvRmVlZGJhY2sgPSAobWVzc2FnZSwgdG9uZSA9ICdtdXRlZCcpID0+IHtcbiAgICAgICAgaWYgKCFzZW9Db25maWdGZWVkYmFjaykgcmV0dXJuO1xuICAgICAgICBjb25zdCBjb2xvciA9XG4gICAgICAgICAgdG9uZSA9PT0gJ3N1Y2Nlc3MnXG4gICAgICAgICAgICA/ICd0ZXh0LWVtZXJhbGQtNjAwJ1xuICAgICAgICAgICAgOiB0b25lID09PSAnZXJyb3InXG4gICAgICAgICAgICAgID8gJ3RleHQtcm9zZS02MDAnXG4gICAgICAgICAgICAgIDogJ3RleHQtc2xhdGUtNTAwJztcbiAgICAgICAgc2VvQ29uZmlnRmVlZGJhY2sudGV4dENvbnRlbnQgPSBtZXNzYWdlIHx8ICcnO1xuICAgICAgICBzZW9Db25maWdGZWVkYmFjay5jbGFzc05hbWUgPSBgdGV4dC1zbSAke2NvbG9yfWA7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBsb2FkU2VvQ29uZmlnID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoIXNpdGVDb25maWdBcGkpIHJldHVybjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHNpdGVDb25maWdBcGksIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHJldHVybjtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIGNvbnN0IGluZGV4QWxsID0gcGF5bG9hZC5zZW8/LmluZGV4QWxsUGFnZXNCeURlZmF1bHQgIT09IGZhbHNlO1xuICAgICAgICAgIGlmIChpbmRleEFsbENoZWNrYm94KSBpbmRleEFsbENoZWNrYm94LmNoZWNrZWQgPSBpbmRleEFsbDtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3NldHRpbmdzXSBsb2FkIHNlbyBjb25maWcgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgc2VvQ29uZmlnRm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKCFzaXRlQ29uZmlnQXBpKSB7XG4gICAgICAgICAgc2V0U2VvRmVlZGJhY2soJ0F1Y3VuIHNpdGUgYWN0aWYuJywgJ2Vycm9yJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNlb1NhdmVCdXR0b24gJiYgKHNlb1NhdmVCdXR0b24uZGlzYWJsZWQgPSB0cnVlKTtcbiAgICAgICAgc2V0U2VvRmVlZGJhY2soJycpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIEZpcnN0IGxvYWQgY3VycmVudCBjb25maWcgdG8gcHJlc2VydmUgb3RoZXIgZmllbGRzXG4gICAgICAgICAgY29uc3QgY3VycmVudFJlcyA9IGF3YWl0IGZldGNoKHNpdGVDb25maWdBcGksIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xuICAgICAgICAgIGNvbnN0IGN1cnJlbnRDb25maWcgPSBjdXJyZW50UmVzLm9rID8gYXdhaXQgY3VycmVudFJlcy5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSkgOiB7fTtcblxuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgICAgICAuLi5jdXJyZW50Q29uZmlnLFxuICAgICAgICAgICAgc2VvOiB7XG4gICAgICAgICAgICAgIC4uLihjdXJyZW50Q29uZmlnLnNlbyB8fCB7fSksXG4gICAgICAgICAgICAgIGluZGV4QWxsUGFnZXNCeURlZmF1bHQ6IGluZGV4QWxsQ2hlY2tib3g/LmNoZWNrZWQgPz8gdHJ1ZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfTtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHNpdGVDb25maWdBcGksIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rIHx8IHJlc3VsdC5zdWNjZXNzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5tZXNzYWdlIHx8ICdTYXV2ZWdhcmRlIGltcG9zc2libGUuJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNldFNlb0ZlZWRiYWNrKHJlc3VsdC5tZXNzYWdlIHx8ICdQYXJhbVx1MDBFOHRyZXMgU0VPIGVucmVnaXN0clx1MDBFOXMuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3NldHRpbmdzXSBzYXZlIHNlbyBjb25maWcgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgICBzZXRTZW9GZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZGUgbGEgc2F1dmVnYXJkZS4nLCAnZXJyb3InKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBzZW9TYXZlQnV0dG9uICYmIChzZW9TYXZlQnV0dG9uLmRpc2FibGVkID0gZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgbG9hZFNlb0NvbmZpZygpO1xuICAgIH1cblxuICAgIC8vIEFuYWx5dGljcyBmb3JtIChVUzkuQjIpXG4gICAgY29uc3QgYW5hbHl0aWNzRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFuYWx5dGljcy1mb3JtXScpO1xuICAgIGlmIChhbmFseXRpY3NGb3JtKSB7XG4gICAgICBjb25zdCBoZWFkVGV4dGFyZWEgPSBhbmFseXRpY3NGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFuYWx5dGljcy1oZWFkXScpO1xuICAgICAgY29uc3QgYm9keVRleHRhcmVhID0gYW5hbHl0aWNzRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hbmFseXRpY3MtYm9keV0nKTtcbiAgICAgIGNvbnN0IGFuYWx5dGljc0ZlZWRiYWNrID0gYW5hbHl0aWNzRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hbmFseXRpY3MtZmVlZGJhY2tdJyk7XG4gICAgICBjb25zdCBhbmFseXRpY3NTYXZlQnV0dG9uID0gYW5hbHl0aWNzRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hbmFseXRpY3Mtc2F2ZV0nKTtcblxuICAgICAgY29uc3Qgc2FmZVNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goXG4gICAgICAgIHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJycsXG4gICAgICApO1xuICAgICAgY29uc3Qgc2l0ZUNvbmZpZ0FwaSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Zyl9L2NvbmZpZy9zaXRlYFxuICAgICAgICA6IG51bGw7XG5cbiAgICAgIGNvbnN0IHNldEFuYWx5dGljc0ZlZWRiYWNrID0gKG1lc3NhZ2UsIHRvbmUgPSAnbXV0ZWQnKSA9PiB7XG4gICAgICAgIGlmICghYW5hbHl0aWNzRmVlZGJhY2spIHJldHVybjtcbiAgICAgICAgY29uc3QgY29sb3IgPVxuICAgICAgICAgIHRvbmUgPT09ICdzdWNjZXNzJ1xuICAgICAgICAgICAgPyAndGV4dC1lbWVyYWxkLTYwMCdcbiAgICAgICAgICAgIDogdG9uZSA9PT0gJ2Vycm9yJ1xuICAgICAgICAgICAgICA/ICd0ZXh0LXJvc2UtNjAwJ1xuICAgICAgICAgICAgICA6ICd0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICAgIGFuYWx5dGljc0ZlZWRiYWNrLnRleHRDb250ZW50ID0gbWVzc2FnZSB8fCAnJztcbiAgICAgICAgYW5hbHl0aWNzRmVlZGJhY2suY2xhc3NOYW1lID0gYHRleHQtc20gJHtjb2xvcn1gO1xuICAgICAgfTtcblxuICAgICAgY29uc3QgbG9hZEFuYWx5dGljc0NvbmZpZyA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKCFzaXRlQ29uZmlnQXBpKSByZXR1cm47XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChzaXRlQ29uZmlnQXBpLCB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSByZXR1cm47XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICBpZiAoaGVhZFRleHRhcmVhKSBoZWFkVGV4dGFyZWEudmFsdWUgPSBwYXlsb2FkLmFuYWx5dGljcz8uaGVhZENvZGUgfHwgJyc7XG4gICAgICAgICAgaWYgKGJvZHlUZXh0YXJlYSkgYm9keVRleHRhcmVhLnZhbHVlID0gcGF5bG9hZC5hbmFseXRpY3M/LmJvZHlFbmRDb2RlIHx8ICcnO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIGxvYWQgYW5hbHl0aWNzIGNvbmZpZyBmYWlsZWQnLCBlcnIpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBhbmFseXRpY3NGb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAoIXNpdGVDb25maWdBcGkpIHtcbiAgICAgICAgICBzZXRBbmFseXRpY3NGZWVkYmFjaygnQXVjdW4gc2l0ZSBhY3RpZi4nLCAnZXJyb3InKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgYW5hbHl0aWNzU2F2ZUJ1dHRvbiAmJiAoYW5hbHl0aWNzU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWUpO1xuICAgICAgICBzZXRBbmFseXRpY3NGZWVkYmFjaygnJyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gRmlyc3QgbG9hZCBjdXJyZW50IGNvbmZpZyB0byBwcmVzZXJ2ZSBvdGhlciBmaWVsZHNcbiAgICAgICAgICBjb25zdCBjdXJyZW50UmVzID0gYXdhaXQgZmV0Y2goc2l0ZUNvbmZpZ0FwaSwgeyBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSk7XG4gICAgICAgICAgY29uc3QgY3VycmVudENvbmZpZyA9IGN1cnJlbnRSZXMub2sgPyBhd2FpdCBjdXJyZW50UmVzLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKSA6IHt9O1xuXG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgICAgIC4uLmN1cnJlbnRDb25maWcsXG4gICAgICAgICAgICBhbmFseXRpY3M6IHtcbiAgICAgICAgICAgICAgaGVhZENvZGU6IGhlYWRUZXh0YXJlYT8udmFsdWUgfHwgJycsXG4gICAgICAgICAgICAgIGJvZHlFbmRDb2RlOiBib2R5VGV4dGFyZWE/LnZhbHVlIHx8ICcnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9O1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goc2l0ZUNvbmZpZ0FwaSwge1xuICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2sgfHwgcmVzdWx0LnN1Y2Nlc3MgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzdWx0Lm1lc3NhZ2UgfHwgJ1NhdXZlZ2FyZGUgaW1wb3NzaWJsZS4nKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0QW5hbHl0aWNzRmVlZGJhY2socmVzdWx0Lm1lc3NhZ2UgfHwgJ1NjcmlwdHMgZW5yZWdpc3RyXHUwMEU5cy4nLCAnc3VjY2VzcycpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIHNhdmUgYW5hbHl0aWNzIGNvbmZpZyBmYWlsZWQnLCBlcnIpO1xuICAgICAgICAgIHNldEFuYWx5dGljc0ZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsYSBzYXV2ZWdhcmRlLicsICdlcnJvcicpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGFuYWx5dGljc1NhdmVCdXR0b24gJiYgKGFuYWx5dGljc1NhdmVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBsb2FkQW5hbHl0aWNzQ29uZmlnKCk7XG4gICAgfVxuXG4gICAgY29uc3QgYWNjZXNzaWJpbGl0eUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hY2Nlc3NpYmlsaXR5LWZvcm1dJyk7XG4gICAgaWYgKGFjY2Vzc2liaWxpdHlGb3JtKSB7XG4gICAgICBjb25zdCBhbmltYXRpb25zVG9nZ2xlID0gYWNjZXNzaWJpbGl0eUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYWNjZXNzaWJpbGl0eS1hbmltYXRpb25zXScpO1xuICAgICAgY29uc3QgY29udHJhc3RUb2dnbGUgPSBhY2Nlc3NpYmlsaXR5Rm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hY2Nlc3NpYmlsaXR5LWNvbnRyYXN0XScpO1xuICAgICAgY29uc3QgYWNjZXNzaWJpbGl0eUZlZWRiYWNrID0gYWNjZXNzaWJpbGl0eUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYWNjZXNzaWJpbGl0eS1mZWVkYmFja10nKTtcbiAgICAgIGNvbnN0IGFjY2Vzc2liaWxpdHlTYXZlQnV0dG9uID0gYWNjZXNzaWJpbGl0eUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYWNjZXNzaWJpbGl0eS1zYXZlXScpO1xuXG4gICAgICBjb25zdCBzYWZlU2l0ZVNsdWcgPSBzdHJpcExlYWRpbmdTbGFzaChcbiAgICAgICAgd29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyxcbiAgICAgICk7XG4gICAgICBjb25zdCBzaXRlQ29uZmlnQXBpID0gc2FmZVNpdGVTbHVnXG4gICAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnKX0vY29uZmlnL3NpdGVgXG4gICAgICAgIDogbnVsbDtcblxuICAgICAgY29uc3Qgc2V0QWNjZXNzaWJpbGl0eUZlZWRiYWNrID0gKG1lc3NhZ2UsIHRvbmUgPSAnbXV0ZWQnKSA9PiB7XG4gICAgICAgIGlmICghYWNjZXNzaWJpbGl0eUZlZWRiYWNrKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGNvbG9yID1cbiAgICAgICAgICB0b25lID09PSAnc3VjY2VzcydcbiAgICAgICAgICAgID8gJ3RleHQtZW1lcmFsZC02MDAnXG4gICAgICAgICAgICA6IHRvbmUgPT09ICdlcnJvcidcbiAgICAgICAgICAgICAgPyAndGV4dC1yb3NlLTYwMCdcbiAgICAgICAgICAgICAgOiAndGV4dC1zbGF0ZS01MDAnO1xuICAgICAgICBhY2Nlc3NpYmlsaXR5RmVlZGJhY2sudGV4dENvbnRlbnQgPSBtZXNzYWdlIHx8ICcnO1xuICAgICAgICBhY2Nlc3NpYmlsaXR5RmVlZGJhY2suY2xhc3NOYW1lID0gYHRleHQtc20gJHtjb2xvcn1gO1xuICAgICAgfTtcblxuICAgICAgY29uc3QgbG9hZEFjY2Vzc2liaWxpdHlDb25maWcgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIGlmICghc2l0ZUNvbmZpZ0FwaSkgcmV0dXJuO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goc2l0ZUNvbmZpZ0FwaSwgeyBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgcmV0dXJuO1xuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgaWYgKGFuaW1hdGlvbnNUb2dnbGUpIHtcbiAgICAgICAgICAgIGFuaW1hdGlvbnNUb2dnbGUuY2hlY2tlZCA9IHBheWxvYWQuYWNjZXNzaWJpbGl0eT8uYW5pbWF0aW9uc0VuYWJsZWQgIT09IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoY29udHJhc3RUb2dnbGUpIHtcbiAgICAgICAgICAgIGNvbnRyYXN0VG9nZ2xlLmNoZWNrZWQgPSBwYXlsb2FkLmFjY2Vzc2liaWxpdHk/LmhpZ2hDb250cmFzdCA9PT0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gbG9hZCBhY2Nlc3NpYmlsaXR5IGNvbmZpZyBmYWlsZWQnLCBlcnIpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBhY2Nlc3NpYmlsaXR5Rm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKCFzaXRlQ29uZmlnQXBpKSB7XG4gICAgICAgICAgc2V0QWNjZXNzaWJpbGl0eUZlZWRiYWNrKCdBdWN1biBzaXRlIGFjdGlmLicsICdlcnJvcicpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBhY2Nlc3NpYmlsaXR5U2F2ZUJ1dHRvbiAmJiAoYWNjZXNzaWJpbGl0eVNhdmVCdXR0b24uZGlzYWJsZWQgPSB0cnVlKTtcbiAgICAgICAgc2V0QWNjZXNzaWJpbGl0eUZlZWRiYWNrKCcnKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBjdXJyZW50UmVzID0gYXdhaXQgZmV0Y2goc2l0ZUNvbmZpZ0FwaSwgeyBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSk7XG4gICAgICAgICAgY29uc3QgY3VycmVudENvbmZpZyA9IGN1cnJlbnRSZXMub2sgPyBhd2FpdCBjdXJyZW50UmVzLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKSA6IHt9O1xuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgICAgICAuLi5jdXJyZW50Q29uZmlnLFxuICAgICAgICAgICAgYWNjZXNzaWJpbGl0eToge1xuICAgICAgICAgICAgICBhbmltYXRpb25zRW5hYmxlZDogYW5pbWF0aW9uc1RvZ2dsZT8uY2hlY2tlZCA/PyB0cnVlLFxuICAgICAgICAgICAgICBoaWdoQ29udHJhc3Q6IGNvbnRyYXN0VG9nZ2xlPy5jaGVja2VkID8/IGZhbHNlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9O1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goc2l0ZUNvbmZpZ0FwaSwge1xuICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2sgfHwgcmVzdWx0LnN1Y2Nlc3MgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzdWx0Lm1lc3NhZ2UgfHwgJ1NhdXZlZ2FyZGUgaW1wb3NzaWJsZS4nKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0QWNjZXNzaWJpbGl0eUZlZWRiYWNrKHJlc3VsdC5tZXNzYWdlIHx8ICdQclx1MDBFOWZcdTAwRTlyZW5jZXMgbWlzZXMgXHUwMEUwIGpvdXIuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3NldHRpbmdzXSBzYXZlIGFjY2Vzc2liaWxpdHkgY29uZmlnIGZhaWxlZCcsIGVycik7XG4gICAgICAgICAgc2V0QWNjZXNzaWJpbGl0eUZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsYSBzYXV2ZWdhcmRlLicsICdlcnJvcicpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGFjY2Vzc2liaWxpdHlTYXZlQnV0dG9uICYmIChhY2Nlc3NpYmlsaXR5U2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGxvYWRBY2Nlc3NpYmlsaXR5Q29uZmlnKCk7XG4gICAgfVxuXG4gICAgLy8gQUkgQ29uZmlnIGZvcm0gKFVTIC0gQUkgQXNzaXN0YW50KVxuICAgIGNvbnN0IGFpQ29uZmlnRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFpLWNvbmZpZy1mb3JtXScpO1xuICAgIGlmIChhaUNvbmZpZ0Zvcm0pIHtcbiAgICAgIGNvbnN0IGFwaUtleUlucHV0ID0gYWlDb25maWdGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFpLWFwaS1rZXldJyk7XG4gICAgICBjb25zdCBtb2RlbFNlbGVjdCA9IGFpQ29uZmlnRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1haS1tb2RlbF0nKTtcbiAgICAgIGNvbnN0IHByb2plY3RQcm9tcHRUZXh0YXJlYSA9IGFpQ29uZmlnRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1haS1wcm9qZWN0LXByb21wdF0nKTtcbiAgICAgIGNvbnN0IGVuYWJsZWRDaGVja2JveCA9IGFpQ29uZmlnRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1haS1lbmFibGVkXScpO1xuICAgICAgY29uc3QgYWlGZWVkYmFjayA9IGFpQ29uZmlnRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1haS1mZWVkYmFja10nKTtcbiAgICAgIGNvbnN0IGFpU2F2ZUJ1dHRvbiA9IGFpQ29uZmlnRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1haS1zYXZlXScpO1xuXG4gICAgICBjb25zdCBzYWZlU2l0ZVNsdWcgPSBzdHJpcExlYWRpbmdTbGFzaChcbiAgICAgICAgd29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyxcbiAgICAgICk7XG4gICAgICBjb25zdCBhaUNvbmZpZ0FwaSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Zyl9L2NvbmZpZy9haWBcbiAgICAgICAgOiBudWxsO1xuXG4gICAgICBjb25zdCBzZXRBSUZlZWRiYWNrID0gKG1lc3NhZ2UsIHRvbmUgPSAnbXV0ZWQnKSA9PiB7XG4gICAgICAgIGlmICghYWlGZWVkYmFjaykgcmV0dXJuO1xuICAgICAgICBjb25zdCBjb2xvciA9XG4gICAgICAgICAgdG9uZSA9PT0gJ3N1Y2Nlc3MnXG4gICAgICAgICAgICA/ICd0ZXh0LWVtZXJhbGQtNjAwJ1xuICAgICAgICAgICAgOiB0b25lID09PSAnZXJyb3InXG4gICAgICAgICAgICAgID8gJ3RleHQtcm9zZS02MDAnXG4gICAgICAgICAgICAgIDogJ3RleHQtc2xhdGUtNTAwJztcbiAgICAgICAgYWlGZWVkYmFjay50ZXh0Q29udGVudCA9IG1lc3NhZ2UgfHwgJyc7XG4gICAgICAgIGFpRmVlZGJhY2suY2xhc3NOYW1lID0gYHRleHQtc20gJHtjb2xvcn1gO1xuICAgICAgfTtcblxuICAgICAgY29uc3QgbG9hZEFJQ29uZmlnID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoIWFpQ29uZmlnQXBpKSByZXR1cm47XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChhaUNvbmZpZ0FwaSwgeyBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgcmV0dXJuO1xuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgLy8gQVBJIGtleSBpcyBtYXNrZWQsIHdlIHNob3cgcGxhY2Vob2xkZXIgaWYgaXQgZXhpc3RzXG4gICAgICAgICAgaWYgKGFwaUtleUlucHV0KSB7XG4gICAgICAgICAgICBhcGlLZXlJbnB1dC52YWx1ZSA9ICcnO1xuICAgICAgICAgICAgYXBpS2V5SW5wdXQucGxhY2Vob2xkZXIgPSBwYXlsb2FkLmhhc0FwaUtleSA/ICdcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjInIDogJ0NsXHUwMEU5IEFQSSBHZW1pbmknO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAobW9kZWxTZWxlY3QpIG1vZGVsU2VsZWN0LnZhbHVlID0gcGF5bG9hZC5tb2RlbCB8fCAnZ2VtaW5pLTIuNS1mbGFzaCc7XG4gICAgICAgICAgaWYgKHByb2plY3RQcm9tcHRUZXh0YXJlYSkgcHJvamVjdFByb21wdFRleHRhcmVhLnZhbHVlID0gcGF5bG9hZC5wcm9qZWN0UHJvbXB0IHx8ICcnO1xuICAgICAgICAgIGlmIChlbmFibGVkQ2hlY2tib3gpIGVuYWJsZWRDaGVja2JveC5jaGVja2VkID0gcGF5bG9hZC5lbmFibGVkICE9PSBmYWxzZTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3NldHRpbmdzXSBsb2FkIEFJIGNvbmZpZyBmYWlsZWQnLCBlcnIpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBhaUNvbmZpZ0Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmICghYWlDb25maWdBcGkpIHtcbiAgICAgICAgICBzZXRBSUZlZWRiYWNrKCdBdWN1biBzaXRlIGFjdGlmLicsICdlcnJvcicpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBhaVNhdmVCdXR0b24gJiYgKGFpU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWUpO1xuICAgICAgICBzZXRBSUZlZWRiYWNrKCcnKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICAgICAgbW9kZWw6IG1vZGVsU2VsZWN0Py52YWx1ZSB8fCAnZ2VtaW5pLTIuNS1mbGFzaCcsXG4gICAgICAgICAgICBwcm9qZWN0UHJvbXB0OiBwcm9qZWN0UHJvbXB0VGV4dGFyZWE/LnZhbHVlIHx8ICcnLFxuICAgICAgICAgICAgZW5hYmxlZDogZW5hYmxlZENoZWNrYm94Py5jaGVja2VkID8/IHRydWUsXG4gICAgICAgICAgfTtcbiAgICAgICAgICAvLyBPbmx5IGluY2x1ZGUgYXBpS2V5IGlmIHRoZSB1c2VyIGVudGVyZWQgb25lIChub3QgZW1wdHkpXG4gICAgICAgICAgY29uc3QgYXBpS2V5VmFsdWUgPSBhcGlLZXlJbnB1dD8udmFsdWU/LnRyaW0oKTtcbiAgICAgICAgICBpZiAoYXBpS2V5VmFsdWUpIHtcbiAgICAgICAgICAgIHBheWxvYWQuYXBpS2V5ID0gYXBpS2V5VmFsdWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChhaUNvbmZpZ0FwaSwge1xuICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2sgfHwgcmVzdWx0LnN1Y2Nlc3MgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzdWx0Lm1lc3NhZ2UgfHwgJ1NhdXZlZ2FyZGUgaW1wb3NzaWJsZS4nKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0QUlGZWVkYmFjayhyZXN1bHQubWVzc2FnZSB8fCAnQ29uZmlndXJhdGlvbiBJQSBlbnJlZ2lzdHJcdTAwRTllLicsICdzdWNjZXNzJyk7XG4gICAgICAgICAgLy8gQ2xlYXIgdGhlIEFQSSBrZXkgZmllbGQgYWZ0ZXIgc3VjY2Vzc2Z1bCBzYXZlXG4gICAgICAgICAgaWYgKGFwaUtleUlucHV0KSB7XG4gICAgICAgICAgICBhcGlLZXlJbnB1dC52YWx1ZSA9ICcnO1xuICAgICAgICAgICAgYXBpS2V5SW5wdXQucGxhY2Vob2xkZXIgPSAnXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyJztcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gc2F2ZSBBSSBjb25maWcgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgICBzZXRBSUZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsYSBzYXV2ZWdhcmRlLicsICdlcnJvcicpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGFpU2F2ZUJ1dHRvbiAmJiAoYWlTYXZlQnV0dG9uLmRpc2FibGVkID0gZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgbG9hZEFJQ29uZmlnKCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaW5pdE1lZGlhV29ya3NwYWNlKCkge1xuICAgIGNvbnN0IGdyaWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1ncmlkXScpO1xuICAgIGlmICghZ3JpZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBlbXB0eVN0YXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZW1wdHldJyk7XG4gICAgY29uc3QgY291bnRCYWRnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWNvdW50XScpO1xuICAgIGNvbnN0IGZpbHRlclR5cGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1maWx0ZXItdHlwZV0nKTtcbiAgICBjb25zdCBkZXRhaWxFbXB0eSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRldGFpbC1lbXB0eV0nKTtcbiAgICBjb25zdCBkZXRhaWxQYW5lbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRldGFpbF0nKTtcbiAgICBjb25zdCBkZXRhaWxQcmV2aWV3ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGV0YWlsLXByZXZpZXddJyk7XG4gICAgY29uc3QgZGV0YWlsTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRldGFpbC1uYW1lXScpO1xuICAgIGNvbnN0IGRldGFpbFR5cGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZXRhaWwtdHlwZV0nKTtcbiAgICBjb25zdCBkZXRhaWxTaXplID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGV0YWlsLXNpemVdJyk7XG4gICAgY29uc3QgZGV0YWlsUGF0aCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRldGFpbC1wYXRoXScpO1xuICAgIGNvbnN0IGRldGFpbFVzZWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZXRhaWwtdXNlZF0nKTtcbiAgICBjb25zdCBkZXRhaWxBbHRJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWFsdC1lZGl0XScpO1xuICAgIGNvbnN0IGRldGFpbFNhdmVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1zYXZlXScpO1xuICAgIGNvbnN0IGRldGFpbERlbGV0ZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRlbGV0ZV0nKTtcbiAgICBjb25zdCBkZWxldGVNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRlbGV0ZS1tb2RhbF0nKTtcbiAgICBjb25zdCBkZWxldGVDYW5jZWxCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZWxldGUtY2FuY2VsXScpO1xuICAgIGNvbnN0IGRlbGV0ZUNvbmZpcm1CdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZWxldGUtY29uZmlybV0nKTtcbiAgICBjb25zdCB1cGxvYWRPcGVuQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtdXBsb2FkLW9wZW5dJyk7XG4gICAgY29uc3QgZmlsZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZmlsZS1pbnB1dF0nKTtcbiAgICBjb25zdCB1cGxvYWRTdGF0dXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS11cGxvYWQtc3RhdHVzXScpO1xuXG4gICAgY29uc3Qgc2FmZVNpdGVTbHVnVmFsdWUgPSBzdHJpcExlYWRpbmdTbGFzaChcbiAgICAgIHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJycsXG4gICAgKTtcbiAgICBjb25zdCBtZWRpYUFwaUJhc2UgPSBzYWZlU2l0ZVNsdWdWYWx1ZVxuICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWdWYWx1ZSl9L21lZGlhYFxuICAgICAgOiBudWxsO1xuXG4gICAgbGV0IG1lZGlhSXRlbXMgPSBbXTtcbiAgICBsZXQgZmlsdGVyZWRJdGVtcyA9IFtdO1xuICAgIGxldCBhY3RpdmVNZWRpYUlkID0gbnVsbDtcbiAgICBsZXQgaGlnaGxpZ2h0TWVkaWFJZCA9IG51bGw7XG4gICAgbGV0IHBlbmRpbmdVcGxvYWRGaWxlID0gbnVsbDtcbiAgICBsZXQgdXBsb2FkSW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgIGxldCBkZXRhaWxEaXJ0eSA9IGZhbHNlO1xuICAgIGxldCB1cGxvYWRNb2RlID0gZmFsc2U7XG4gICAgbGV0IHVwbG9hZFByZXZpZXdVcmwgPSBudWxsO1xuXG4gICAgY29uc3QgZGVyaXZlR3JvdXBUeXBlID0gKGl0ZW0pID0+IHtcbiAgICAgIGNvbnN0IHR5cGUgPSAoaXRlbS50eXBlIHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgY29uc3QgZmlsZW5hbWUgPSAoaXRlbS5maWxlbmFtZSB8fCAnJykudG9Mb3dlckNhc2UoKTtcbiAgICAgIGlmICh0eXBlLmluY2x1ZGVzKCdpbWFnZScpIHx8IC9cXC4ocG5nfGpwZT9nfHdlYnB8c3ZnfGdpZikkL2kudGVzdChmaWxlbmFtZSkpIHtcbiAgICAgICAgcmV0dXJuICdpbWFnZSc7XG4gICAgICB9XG4gICAgICBpZiAodHlwZS5pbmNsdWRlcygncGRmJykgfHwgdHlwZS5pbmNsdWRlcygnZG9jJykgfHwgL1xcLihwZGZ8ZG9jeD8pJC9pLnRlc3QoZmlsZW5hbWUpKSB7XG4gICAgICAgIHJldHVybiAnZG9jdW1lbnQnO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGUuaW5jbHVkZXMoJ3ZpZGVvJykgfHwgL1xcLihtcDR8bW92fHdlYm0pJC9pLnRlc3QoZmlsZW5hbWUpKSB7XG4gICAgICAgIHJldHVybiAndmlkZW8nO1xuICAgICAgfVxuICAgICAgcmV0dXJuICdvdGhlcic7XG4gICAgfTtcblxuICAgIGNvbnN0IGlzSW1hZ2VUeXBlID0gKGl0ZW0pID0+IGRlcml2ZUdyb3VwVHlwZShpdGVtKSA9PT0gJ2ltYWdlJztcblxuICAgIGNvbnN0IGZvcm1hdFR5cGVMYWJlbCA9IChpdGVtKSA9PiB7XG4gICAgICBpZiAoaXRlbS50eXBlKSB7XG4gICAgICAgIHJldHVybiBpdGVtLnR5cGUudG9VcHBlckNhc2UoKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGV4dCA9IChpdGVtLmZpbGVuYW1lIHx8ICcnKS5zcGxpdCgnLicpLnBvcCgpO1xuICAgICAgcmV0dXJuIGV4dCA/IGV4dC50b1VwcGVyQ2FzZSgpIDogJ0ZJTEUnO1xuICAgIH07XG5cbiAgICBjb25zdCBmb3JtYXRGaWxlU2l6ZSA9IChzaXplKSA9PiB7XG4gICAgICBpZiAoIXNpemUgfHwgc2l6ZSA8PSAwKSB7XG4gICAgICAgIHJldHVybiAnXHUyMDE0JztcbiAgICAgIH1cbiAgICAgIGlmIChzaXplIDwgMTAyNCkge1xuICAgICAgICByZXR1cm4gYCR7c2l6ZX0gb2A7XG4gICAgICB9XG4gICAgICBpZiAoc2l6ZSA8IDEwMjQgKiAxMDI0KSB7XG4gICAgICAgIHJldHVybiBgJHsoc2l6ZSAvIDEwMjQpLnRvRml4ZWQoMSl9IGtvYDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBgJHsoc2l6ZSAvICgxMDI0ICogMTAyNCkpLnRvRml4ZWQoMSl9IE1vYDtcbiAgICB9O1xuXG4gICAgY29uc3QgcmVzZXREZXRhaWxQYW5lbCA9ICgpID0+IHtcbiAgICAgIGRldGFpbFBhbmVsPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGRldGFpbEVtcHR5Py5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGNsZWFyVXBsb2FkU3RhdGUoKTtcbiAgICAgIGFjdGl2ZU1lZGlhSWQgPSBudWxsO1xuICAgICAgZGV0YWlsRGlydHkgPSBmYWxzZTtcbiAgICAgIHVwZGF0ZURldGFpbEFjdGlvbnMoZmFsc2UpO1xuICAgICAgaWYgKGRldGFpbFByZXZpZXcpIHtcbiAgICAgICAgZGV0YWlsUHJldmlldy5pbm5lckhUTUwgPVxuICAgICAgICAgICc8c3BhbiBjbGFzcz1cInRleHQtc2xhdGUtNDAwIHRleHQtc21cIj5BdWN1biBtXHUwMEU5ZGlhIHNcdTAwRTlsZWN0aW9ublx1MDBFOTwvc3Bhbj4nO1xuICAgICAgfVxuICAgICAgaWYgKGRldGFpbE5hbWUpIHtcbiAgICAgICAgZGV0YWlsTmFtZS50ZXh0Q29udGVudCA9ICcnO1xuICAgICAgfVxuICAgICAgZGV0YWlsVHlwZSAmJiAoZGV0YWlsVHlwZS50ZXh0Q29udGVudCA9ICcnKTtcbiAgICAgIGRldGFpbFNpemUgJiYgKGRldGFpbFNpemUudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgICBpZiAoZGV0YWlsQWx0SW5wdXQpIHtcbiAgICAgICAgZGV0YWlsQWx0SW5wdXQudmFsdWUgPSAnJztcbiAgICAgIH1cbiAgICAgIGRldGFpbFBhdGggJiYgKGRldGFpbFBhdGgudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgICBpZiAoZGV0YWlsVXNlZCkge1xuICAgICAgICBkZXRhaWxVc2VkLmlubmVySFRNTCA9ICcnO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBjbGVhclVwbG9hZFN0YXRlID0gKCkgPT4ge1xuICAgICAgcGVuZGluZ1VwbG9hZEZpbGUgPSBudWxsO1xuICAgICAgdXBsb2FkTW9kZSA9IGZhbHNlO1xuICAgICAgdXBsb2FkSW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgICAgaWYgKHVwbG9hZFByZXZpZXdVcmwpIHtcbiAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTCh1cGxvYWRQcmV2aWV3VXJsKTtcbiAgICAgICAgdXBsb2FkUHJldmlld1VybCA9IG51bGw7XG4gICAgICB9XG4gICAgICB1cGxvYWRTdGF0dXMgJiYgKHVwbG9hZFN0YXR1cy50ZXh0Q29udGVudCA9ICdBdWN1biBmaWNoaWVyIHNcdTAwRTlsZWN0aW9ublx1MDBFOS4nKTtcbiAgICAgIGZpbGVJbnB1dCAmJiAoZmlsZUlucHV0LnZhbHVlID0gJycpO1xuICAgIH07XG5cbiAgICBjb25zdCB1cGRhdGVDb3VudEJhZGdlID0gKCkgPT4ge1xuICAgICAgaWYgKCFjb3VudEJhZGdlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghZmlsdGVyZWRJdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgY291bnRCYWRnZS50ZXh0Q29udGVudCA9ICcwIG1cdTAwRTlkaWEnO1xuICAgICAgfSBlbHNlIGlmIChmaWx0ZXJlZEl0ZW1zLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICBjb3VudEJhZGdlLnRleHRDb250ZW50ID0gJzEgbVx1MDBFOWRpYSc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb3VudEJhZGdlLnRleHRDb250ZW50ID0gYCR7ZmlsdGVyZWRJdGVtcy5sZW5ndGh9IG1cdTAwRTlkaWFzYDtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgcmVuZGVyR3JpZCA9ICgpID0+IHtcbiAgICAgIGdyaWQuaW5uZXJIVE1MID0gJyc7XG4gICAgICBpZiAoIWZpbHRlcmVkSXRlbXMubGVuZ3RoKSB7XG4gICAgICAgIGVtcHR5U3RhdGU/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICByZXNldERldGFpbFBhbmVsKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGVtcHR5U3RhdGU/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgZmlsdGVyZWRJdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgIGNvbnN0IGNhcmQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgY2FyZC50eXBlID0gJ2J1dHRvbic7XG4gICAgICAgIGNhcmQuZGF0YXNldC5tZWRpYUlkID0gaXRlbS5pZDtcbiAgICAgICAgY29uc3QgaXNBY3RpdmUgPSBpdGVtLmlkID09PSBhY3RpdmVNZWRpYUlkO1xuICAgICAgICBjYXJkLmNsYXNzTmFtZSA9IFtcbiAgICAgICAgICAnZ3JvdXAgcmVsYXRpdmUgZmxleCBmbGV4LWNvbCByb3VuZGVkLTJ4bCBib3JkZXIgcHgtMyBweS0zIHRleHQtbGVmdCB0cmFuc2l0aW9uIGZvY3VzLXZpc2libGU6b3V0bGluZSBmb2N1cy12aXNpYmxlOm91dGxpbmUtMiBmb2N1cy12aXNpYmxlOm91dGxpbmUtb2Zmc2V0LTIgZm9jdXMtdmlzaWJsZTpvdXRsaW5lLVsjOUM2QkZGXScsXG4gICAgICAgICAgaXNBY3RpdmVcbiAgICAgICAgICAgID8gJ2JvcmRlci1bIzlDNkJGRl0gYmctWyNGN0YwRkZdLzYwIHNoYWRvdy1zbSdcbiAgICAgICAgICAgIDogJ2JvcmRlci1zbGF0ZS0yMDAgaG92ZXI6Ym9yZGVyLVsjOUM2QkZGXS80MCcsXG4gICAgICAgIF0uam9pbignICcpO1xuICAgICAgICBjb25zdCBwcmV2aWV3ID0gaXNJbWFnZVR5cGUoaXRlbSlcbiAgICAgICAgICA/IGA8aW1nIHNyYz1cIiR7aXRlbS5wYXRofVwiIGFsdD1cIiR7aXRlbS5hbHQgfHwgaXRlbS5maWxlbmFtZX1cIiBjbGFzcz1cImgtZnVsbCB3LWZ1bGwgb2JqZWN0LWNvdmVyXCIgLz5gXG4gICAgICAgICAgOiBgPGRpdiBjbGFzcz1cImZsZXggaC1mdWxsIHctZnVsbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdGV4dC0zeGwgdGV4dC1zbGF0ZS00MDBcIj5cdUQ4M0RcdURDQzQ8L2Rpdj5gO1xuICAgICAgICBjYXJkLmlubmVySFRNTCA9IGBcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwicmVsYXRpdmUgYXNwZWN0LVs0LzNdIG92ZXJmbG93LWhpZGRlbiByb3VuZGVkLXhsIGJnLXNsYXRlLTEwMFwiPlxuICAgICAgICAgICAgJHtwcmV2aWV3fVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJtdC0yIHNwYWNlLXktMVwiPlxuICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgdGV4dC1zbGF0ZS05MDAgdHJ1bmNhdGVcIj4ke2l0ZW0uZmlsZW5hbWV9PC9wPlxuICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNTAwXCI+XG4gICAgICAgICAgICAgICR7Zm9ybWF0VHlwZUxhYmVsKGl0ZW0pfSBcdTAwQjcgJHtmb3JtYXRGaWxlU2l6ZShpdGVtLnNpemUpfVxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICBgO1xuICAgICAgICBpZiAoaXRlbS5pZCA9PT0gaGlnaGxpZ2h0TWVkaWFJZCkge1xuICAgICAgICAgIGNhcmQuY2xhc3NMaXN0LmFkZCgncmluZy0yJywgJ3JpbmctWyM5QzZCRkZdJyk7XG4gICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgY2FyZC5jbGFzc0xpc3QucmVtb3ZlKCdyaW5nLTInLCAncmluZy1bIzlDNkJGRl0nKTtcbiAgICAgICAgICB9LCAxNjAwKTtcbiAgICAgICAgfVxuICAgICAgICBjYXJkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gc2VsZWN0TWVkaWEoaXRlbS5pZCkpO1xuICAgICAgICBncmlkLmFwcGVuZENoaWxkKGNhcmQpO1xuICAgICAgfSk7XG4gICAgICBoaWdobGlnaHRNZWRpYUlkID0gbnVsbDtcbiAgICB9O1xuXG4gICAgY29uc3QgcmVuZGVyVXNlZEluID0gKGl0ZW0pID0+IHtcbiAgICAgIGlmICghZGV0YWlsVXNlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBkZXRhaWxVc2VkLmlubmVySFRNTCA9ICcnO1xuICAgICAgaWYgKCFpdGVtLnVzZWRJbiB8fCBpdGVtLnVzZWRJbi5sZW5ndGggPT09IDApIHtcbiAgICAgICAgY29uc3QgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgICBsaS50ZXh0Q29udGVudCA9ICdOb24gdXRpbGlzXHUwMEU5JztcbiAgICAgICAgbGkuY2xhc3NOYW1lID0gJ3RleHQteHMgdGV4dC1zbGF0ZS00MDAnO1xuICAgICAgICBkZXRhaWxVc2VkLmFwcGVuZENoaWxkKGxpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaXRlbS51c2VkSW4uZm9yRWFjaCgoZW50cnkpID0+IHtcbiAgICAgICAgY29uc3QgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgICBsaS50ZXh0Q29udGVudCA9IGVudHJ5O1xuICAgICAgICBsaS5jbGFzc05hbWUgPSAndGV4dC14cyB0ZXh0LXNsYXRlLTYwMCc7XG4gICAgICAgIGRldGFpbFVzZWQuYXBwZW5kQ2hpbGQobGkpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IHVwZGF0ZURldGFpbEFjdGlvbnMgPSAoc2F2aW5nKSA9PiB7XG4gICAgICBpZiAoIWRldGFpbFNhdmVCdXR0b24pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHVwbG9hZE1vZGUpIHtcbiAgICAgICAgZGV0YWlsU2F2ZUJ1dHRvbi50ZXh0Q29udGVudCA9IHNhdmluZyA/ICdUXHUwMEU5bFx1MDBFOXZlcnNlbWVudFx1MjAyNicgOiAnVFx1MDBFOWxcdTAwRTl2ZXJzZXInO1xuICAgICAgICBkZXRhaWxTYXZlQnV0dG9uLmRpc2FibGVkID0gc2F2aW5nIHx8ICFwZW5kaW5nVXBsb2FkRmlsZTtcbiAgICAgICAgaWYgKGRldGFpbERlbGV0ZUJ1dHRvbikge1xuICAgICAgICAgIGRldGFpbERlbGV0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBkZXRhaWxTYXZlQnV0dG9uLnRleHRDb250ZW50ID0gc2F2aW5nID8gJ0VucmVnaXN0cmVtZW50XHUyMDI2JyA6ICdFbnJlZ2lzdHJlcic7XG4gICAgICBkZXRhaWxTYXZlQnV0dG9uLmRpc2FibGVkID0gc2F2aW5nIHx8ICFkZXRhaWxEaXJ0eTtcbiAgICAgIGlmIChkZXRhaWxEZWxldGVCdXR0b24pIHtcbiAgICAgICAgZGV0YWlsRGVsZXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICBkZXRhaWxEZWxldGVCdXR0b24uZGlzYWJsZWQgPSAhYWN0aXZlTWVkaWFJZDtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3Qgc2VsZWN0TWVkaWEgPSAobWVkaWFJZCkgPT4ge1xuICAgICAgY29uc3QgaXRlbSA9IG1lZGlhSXRlbXMuZmluZCgoZW50cnkpID0+IGVudHJ5LmlkID09PSBtZWRpYUlkKTtcbiAgICAgIGlmICghaXRlbSkge1xuICAgICAgICByZXNldERldGFpbFBhbmVsKCk7XG4gICAgICAgIHJlbmRlckdyaWQoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY2xlYXJVcGxvYWRTdGF0ZSgpO1xuICAgICAgYWN0aXZlTWVkaWFJZCA9IGl0ZW0uaWQ7XG4gICAgICBkZXRhaWxEaXJ0eSA9IGZhbHNlO1xuICAgICAgdXBkYXRlRGV0YWlsQWN0aW9ucyhmYWxzZSk7XG4gICAgICByZW5kZXJHcmlkKCk7XG4gICAgICBkZXRhaWxFbXB0eT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBkZXRhaWxQYW5lbD8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBpZiAoZGV0YWlsUHJldmlldykge1xuICAgICAgICBpZiAoaXNJbWFnZVR5cGUoaXRlbSkpIHtcbiAgICAgICAgICBkZXRhaWxQcmV2aWV3LmlubmVySFRNTCA9IGA8aW1nIHNyYz1cIiR7aXRlbS5wYXRofVwiIGFsdD1cIiR7aXRlbS5hbHQgfHwgaXRlbS5maWxlbmFtZX1cIiBjbGFzcz1cImgtZnVsbCB3LWZ1bGwgcm91bmRlZC0yeGwgb2JqZWN0LWNvdmVyXCIgLz5gO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRldGFpbFByZXZpZXcuaW5uZXJIVE1MID1cbiAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiZmxleCBoLWZ1bGwgdy1mdWxsIGZsZXgtY29sIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBnYXAtMSB0ZXh0LXNsYXRlLTQwMFwiPjxzcGFuIGNsYXNzPVwidGV4dC0zeGxcIj5cdUQ4M0RcdURDQzQ8L3NwYW4+PHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIGZvbnQtc2VtaWJvbGRcIj5Eb2N1bWVudDwvc3Bhbj48L2Rpdj4nO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBkZXRhaWxOYW1lICYmIChkZXRhaWxOYW1lLnRleHRDb250ZW50ID0gaXRlbS5maWxlbmFtZSB8fCAnRmljaGllcicpO1xuICAgICAgZGV0YWlsVHlwZSAmJiAoZGV0YWlsVHlwZS50ZXh0Q29udGVudCA9IGZvcm1hdFR5cGVMYWJlbChpdGVtKSk7XG4gICAgICBkZXRhaWxTaXplICYmIChkZXRhaWxTaXplLnRleHRDb250ZW50ID0gZm9ybWF0RmlsZVNpemUoaXRlbS5zaXplKSk7XG4gICAgICBpZiAoZGV0YWlsQWx0SW5wdXQpIHtcbiAgICAgICAgZGV0YWlsQWx0SW5wdXQudmFsdWUgPSBpdGVtLmFsdCB8fCAnJztcbiAgICAgIH1cbiAgICAgIGRldGFpbFBhdGggJiYgKGRldGFpbFBhdGgudGV4dENvbnRlbnQgPSBpdGVtLnBhdGggfHwgJ1x1MjAxNCcpO1xuICAgICAgcmVuZGVyVXNlZEluKGl0ZW0pO1xuICAgIH07XG5cbiAgICBjb25zdCBzaG93VXBsb2FkUHJldmlldyA9IChmaWxlKSA9PiB7XG4gICAgICBpZiAoIWZpbGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdXBsb2FkTW9kZSA9IHRydWU7XG4gICAgICBkZXRhaWxEaXJ0eSA9IGZhbHNlO1xuICAgICAgYWN0aXZlTWVkaWFJZCA9IG51bGw7XG4gICAgICBkZXRhaWxFbXB0eT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBkZXRhaWxQYW5lbD8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBpZiAodXBsb2FkUHJldmlld1VybCkge1xuICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKHVwbG9hZFByZXZpZXdVcmwpO1xuICAgICAgfVxuICAgICAgdXBsb2FkUHJldmlld1VybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZSk7XG4gICAgICBpZiAoZGV0YWlsUHJldmlldykge1xuICAgICAgICBkZXRhaWxQcmV2aWV3LmlubmVySFRNTCA9IGA8aW1nIHNyYz1cIiR7dXBsb2FkUHJldmlld1VybH1cIiBhbHQ9XCIke2ZpbGUubmFtZX1cIiBjbGFzcz1cImgtZnVsbCB3LWZ1bGwgcm91bmRlZC0yeGwgb2JqZWN0LWNvdmVyXCIgLz5gO1xuICAgICAgfVxuICAgICAgZGV0YWlsTmFtZSAmJiAoZGV0YWlsTmFtZS50ZXh0Q29udGVudCA9IGZpbGUubmFtZSk7XG4gICAgICBkZXRhaWxUeXBlICYmIChkZXRhaWxUeXBlLnRleHRDb250ZW50ID0gZm9ybWF0VHlwZUxhYmVsKHsgdHlwZTogZmlsZS50eXBlLCBmaWxlbmFtZTogZmlsZS5uYW1lIH0pKTtcbiAgICAgIGRldGFpbFNpemUgJiYgKGRldGFpbFNpemUudGV4dENvbnRlbnQgPSBmb3JtYXRGaWxlU2l6ZShmaWxlLnNpemUpKTtcbiAgICAgIGlmIChkZXRhaWxBbHRJbnB1dCAmJiAhZGV0YWlsQWx0SW5wdXQudmFsdWUudHJpbSgpKSB7XG4gICAgICAgIGRldGFpbEFsdElucHV0LnZhbHVlID0gZmlsZS5uYW1lLnJlcGxhY2UoL1xcLlteLl0rJC8sICcnKS5yZXBsYWNlKC9bLV9dL2csICcgJyk7XG4gICAgICB9XG4gICAgICBkZXRhaWxQYXRoICYmIChkZXRhaWxQYXRoLnRleHRDb250ZW50ID0gJ0VuIGF0dGVudGUgZGUgdFx1MDBFOWxcdTAwRTl2ZXJzZW1lbnQnKTtcbiAgICAgIGlmIChkZXRhaWxVc2VkKSB7XG4gICAgICAgIGRldGFpbFVzZWQuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgIGNvbnN0IGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgbGkudGV4dENvbnRlbnQgPSAnTm9uIHV0aWxpc1x1MDBFOSc7XG4gICAgICAgIGxpLmNsYXNzTmFtZSA9ICd0ZXh0LXhzIHRleHQtc2xhdGUtNDAwJztcbiAgICAgICAgZGV0YWlsVXNlZC5hcHBlbmRDaGlsZChsaSk7XG4gICAgICB9XG4gICAgICB1cGRhdGVEZXRhaWxBY3Rpb25zKGZhbHNlKTtcbiAgICB9O1xuXG4gICAgY29uc3QgYXBwbHlGaWx0ZXJzID0gKCkgPT4ge1xuICAgICAgY29uc3QgdHlwZUZpbHRlciA9IGZpbHRlclR5cGU/LnZhbHVlIHx8ICdhbGwnO1xuICAgICAgaWYgKHR5cGVGaWx0ZXIgPT09ICdhbGwnKSB7XG4gICAgICAgIGZpbHRlcmVkSXRlbXMgPSBbLi4ubWVkaWFJdGVtc107XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmaWx0ZXJlZEl0ZW1zID0gbWVkaWFJdGVtcy5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0uZ3JvdXBUeXBlID09PSB0eXBlRmlsdGVyKTtcbiAgICAgIH1cbiAgICAgIGlmICghZmlsdGVyZWRJdGVtcy5zb21lKChpdGVtKSA9PiBpdGVtLmlkID09PSBhY3RpdmVNZWRpYUlkKSkge1xuICAgICAgICByZXNldERldGFpbFBhbmVsKCk7XG4gICAgICB9XG4gICAgICB1cGRhdGVDb3VudEJhZGdlKCk7XG4gICAgICByZW5kZXJHcmlkKCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGxvYWRNZWRpYSA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghbWVkaWFBcGlCYXNlKSB7XG4gICAgICAgIGVtcHR5U3RhdGU/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKG1lZGlhQXBpQmFzZSwge1xuICAgICAgICAgIGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ltcG9zc2libGUgZGUgY2hhcmdlciBsZXMgbVx1MDBFOWRpYXMuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoeyBpdGVtczogW10gfSkpO1xuICAgICAgICBtZWRpYUl0ZW1zID0gQXJyYXkuaXNBcnJheShwYXlsb2FkLml0ZW1zKVxuICAgICAgICAgID8gcGF5bG9hZC5pdGVtcy5tYXAoKGl0ZW0pID0+ICh7IC4uLml0ZW0sIGdyb3VwVHlwZTogZGVyaXZlR3JvdXBUeXBlKGl0ZW0pIH0pKVxuICAgICAgICAgIDogW107XG4gICAgICAgIGFwcGx5RmlsdGVycygpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1ttZWRpYV0gbG9hZCBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgY2hhcmdlciBsZXMgbVx1MDBFOWRpYXMuJyk7XG4gICAgICAgIG1lZGlhSXRlbXMgPSBbXTtcbiAgICAgICAgYXBwbHlGaWx0ZXJzKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGZpbHRlclR5cGU/LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgICAgIGFwcGx5RmlsdGVycygpO1xuICAgIH0pO1xuICAgIGRldGFpbEFsdElucHV0Py5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICAgIGlmICh1cGxvYWRNb2RlKSB7XG4gICAgICAgIHVwZGF0ZURldGFpbEFjdGlvbnMoZmFsc2UpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWFjdGl2ZU1lZGlhSWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZGV0YWlsRGlydHkgPSB0cnVlO1xuICAgICAgdXBkYXRlRGV0YWlsQWN0aW9ucyhmYWxzZSk7XG4gICAgfSk7XG5cbiAgICBjb25zdCBoYW5kbGVGaWxlU2VsZWN0aW9uID0gKGZpbGUpID0+IHtcbiAgICAgIGlmICghZmlsZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWZpbGUudHlwZS5zdGFydHNXaXRoKCdpbWFnZS8nKSkge1xuICAgICAgICBzaG93VG9hc3QoJ1NldWxlcyBsZXMgaW1hZ2VzIHNvbnQgYWNjZXB0XHUwMEU5ZXMgcG91ciBsZSBtb21lbnQuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChmaWxlLnNpemUgPiA0ICogMTAyNCAqIDEwMjQpIHtcbiAgICAgICAgc2hvd1RvYXN0KCdGaWNoaWVyIHRyb3Agdm9sdW1pbmV1eCAoNCBNbyBtYXgpLicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwZW5kaW5nVXBsb2FkRmlsZSA9IGZpbGU7XG4gICAgICBzaG93VXBsb2FkUHJldmlldyhmaWxlKTtcbiAgICAgIGlmICh1cGxvYWRTdGF0dXMpIHtcbiAgICAgICAgdXBsb2FkU3RhdHVzLnRleHRDb250ZW50ID0gYCR7ZmlsZS5uYW1lfSBcdTAwQjcgJHtmb3JtYXRGaWxlU2l6ZShmaWxlLnNpemUpfWA7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHJlYWRGaWxlQXNCYXNlNjQgPSAoZmlsZSkgPT5cbiAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgICAgcmVhZGVyLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSByZWFkZXIucmVzdWx0IHx8ICcnO1xuICAgICAgICAgIGNvbnN0IFssIGJhc2U2NCA9ICcnXSA9IFN0cmluZyhyZXN1bHQpLnNwbGl0KCcsJyk7XG4gICAgICAgICAgcmVzb2x2ZShiYXNlNjQpO1xuICAgICAgICB9O1xuICAgICAgICByZWFkZXIub25lcnJvciA9ICgpID0+IHJlamVjdChuZXcgRXJyb3IoJ0ltcG9zc2libGUgZGUgbGlyZSBjZSBmaWNoaWVyLicpKTtcbiAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XG4gICAgICB9KTtcblxuICAgIGNvbnN0IHVwbG9hZFNlbGVjdGVkTWVkaWEgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXBlbmRpbmdVcGxvYWRGaWxlIHx8ICFtZWRpYUFwaUJhc2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdXBsb2FkSW5Qcm9ncmVzcyA9IHRydWU7XG4gICAgICB1cGRhdGVEZXRhaWxBY3Rpb25zKHRydWUpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgYmFzZTY0ID0gYXdhaXQgcmVhZEZpbGVBc0Jhc2U2NChwZW5kaW5nVXBsb2FkRmlsZSk7XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgICAgZmlsZW5hbWU6IHBlbmRpbmdVcGxvYWRGaWxlLm5hbWUsXG4gICAgICAgICAgdHlwZTogcGVuZGluZ1VwbG9hZEZpbGUudHlwZSxcbiAgICAgICAgICBzaXplOiBwZW5kaW5nVXBsb2FkRmlsZS5zaXplLFxuICAgICAgICAgIGFsdDogZGV0YWlsQWx0SW5wdXQ/LnZhbHVlIHx8ICcnLFxuICAgICAgICAgIGRhdGE6IGJhc2U2NCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChtZWRpYUFwaUJhc2UsIHtcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBjb25zdCBlcnJvclBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yUGF5bG9hZC5tZXNzYWdlIHx8ICdVcGxvYWQgaW1wb3NzaWJsZS4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzYXZlZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgc2F2ZWQuZ3JvdXBUeXBlID0gZGVyaXZlR3JvdXBUeXBlKHNhdmVkKTtcbiAgICAgICAgbWVkaWFJdGVtcyA9IFsuLi5tZWRpYUl0ZW1zLCBzYXZlZF07XG4gICAgICAgIGhpZ2hsaWdodE1lZGlhSWQgPSBzYXZlZC5pZDtcbiAgICAgICAgYXBwbHlGaWx0ZXJzKCk7XG4gICAgICAgIHNlbGVjdE1lZGlhKHNhdmVkLmlkKTtcbiAgICAgICAgc2hvd1RvYXN0KCdNXHUwMEU5ZGlhIGFqb3V0XHUwMEU5Jyk7XG4gICAgICAgIGNsZWFyVXBsb2FkU3RhdGUoKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbbWVkaWFdIHVwbG9hZCBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgdFx1MDBFOWxcdTAwRTl2ZXJzZXIgY2UgbVx1MDBFOWRpYS4nKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHVwbG9hZEluUHJvZ3Jlc3MgPSBmYWxzZTtcbiAgICAgICAgcGVuZGluZ1VwbG9hZEZpbGUgPSBudWxsO1xuICAgICAgICB1cGRhdGVEZXRhaWxBY3Rpb25zKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdXBsb2FkT3BlbkJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBmaWxlSW5wdXQ/LmNsaWNrKCkpO1xuICAgIGZpbGVJbnB1dD8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICAgICAgaWYgKGZpbGVJbnB1dC5maWxlcyAmJiBmaWxlSW5wdXQuZmlsZXNbMF0pIHtcbiAgICAgICAgaGFuZGxlRmlsZVNlbGVjdGlvbihmaWxlSW5wdXQuZmlsZXNbMF0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IGNsb3NlRGVsZXRlTW9kYWwgPSAoKSA9PiB7XG4gICAgICBpZiAoIWRlbGV0ZU1vZGFsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGRlbGV0ZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgZGVsZXRlTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnZmxleCcpO1xuICAgIH07XG5cbiAgICBjb25zdCBvcGVuRGVsZXRlTW9kYWwgPSAoKSA9PiB7XG4gICAgICBpZiAoIWFjdGl2ZU1lZGlhSWQgfHwgdXBsb2FkTW9kZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoZGVsZXRlTW9kYWwpIHtcbiAgICAgICAgZGVsZXRlTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIGRlbGV0ZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2ZsZXgnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gRmFsbGJhY2sgc2kgYXVjdW5lIG1vZGFsZSBuJ2VzdCBkaXNwb25pYmxlXG4gICAgICBpZiAod2luZG93LmNvbmZpcm0oJ1N1cHByaW1lciBjZSBtXHUwMEU5ZGlhID8nKSkge1xuICAgICAgICBkZWxldGVBY3RpdmVNZWRpYSgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBkZWxldGVBY3RpdmVNZWRpYSA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghYWN0aXZlTWVkaWFJZCB8fCAhbWVkaWFBcGlCYXNlKSB7XG4gICAgICAgIGNsb3NlRGVsZXRlTW9kYWwoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgZGlzYWJsZUJ1dHRvbnMgPSAoKSA9PiB7XG4gICAgICAgIGlmIChkZXRhaWxEZWxldGVCdXR0b24pIHtcbiAgICAgICAgICBkZXRhaWxEZWxldGVCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkZWxldGVDb25maXJtQnV0dG9uKSB7XG4gICAgICAgICAgZGVsZXRlQ29uZmlybUJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgICAgZGVsZXRlQ29uZmlybUJ1dHRvbi50ZXh0Q29udGVudCA9ICdTdXBwcmVzc2lvblx1MjAyNic7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBjb25zdCBlbmFibGVCdXR0b25zID0gKCkgPT4ge1xuICAgICAgICBpZiAoZGV0YWlsRGVsZXRlQnV0dG9uKSB7XG4gICAgICAgICAgZGV0YWlsRGVsZXRlQnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlbGV0ZUNvbmZpcm1CdXR0b24pIHtcbiAgICAgICAgICBkZWxldGVDb25maXJtQnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgZGVsZXRlQ29uZmlybUJ1dHRvbi50ZXh0Q29udGVudCA9ICdTdXBwcmltZXInO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgZGlzYWJsZUJ1dHRvbnMoKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgICAgYCR7bWVkaWFBcGlCYXNlfS8ke2VuY29kZVVSSUNvbXBvbmVudChhY3RpdmVNZWRpYUlkKX1gLFxuICAgICAgICAgIHsgbWV0aG9kOiAnREVMRVRFJyB9LFxuICAgICAgICApO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocGF5bG9hZC5tZXNzYWdlIHx8ICdTdXBwcmVzc2lvbiBpbXBvc3NpYmxlLicpO1xuICAgICAgICB9XG4gICAgICAgIG1lZGlhSXRlbXMgPSBtZWRpYUl0ZW1zLmZpbHRlcigoaXRlbSkgPT4gaXRlbS5pZCAhPT0gYWN0aXZlTWVkaWFJZCk7XG4gICAgICAgIGZpbHRlcmVkSXRlbXMgPSBmaWx0ZXJlZEl0ZW1zLmZpbHRlcigoaXRlbSkgPT4gaXRlbS5pZCAhPT0gYWN0aXZlTWVkaWFJZCk7XG4gICAgICAgIHNob3dUb2FzdCgnTVx1MDBFOWRpYSBzdXBwcmltXHUwMEU5Jyk7XG4gICAgICAgIHJlc2V0RGV0YWlsUGFuZWwoKTtcbiAgICAgICAgdXBkYXRlQ291bnRCYWRnZSgpO1xuICAgICAgICByZW5kZXJHcmlkKCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW21lZGlhXSBkZWxldGUgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIHN1cHByaW1lciBjZSBtXHUwMEU5ZGlhLicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgZW5hYmxlQnV0dG9ucygpO1xuICAgICAgICBjbG9zZURlbGV0ZU1vZGFsKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGRlbGV0ZUNhbmNlbEJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZURlbGV0ZU1vZGFsKTtcbiAgICBkZWxldGVNb2RhbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIGlmIChldmVudC50YXJnZXQgPT09IGRlbGV0ZU1vZGFsKSB7XG4gICAgICAgIGNsb3NlRGVsZXRlTW9kYWwoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGRlbGV0ZUNvbmZpcm1CdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gZGVsZXRlQWN0aXZlTWVkaWEoKSk7XG4gICAgZGV0YWlsRGVsZXRlQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5EZWxldGVNb2RhbCk7XG5cbiAgICBkZXRhaWxTYXZlQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGlmICh1cGxvYWRNb2RlKSB7XG4gICAgICAgIHVwbG9hZFNlbGVjdGVkTWVkaWEoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFhY3RpdmVNZWRpYUlkIHx8ICFtZWRpYUFwaUJhc2UgfHwgIWRldGFpbEFsdElucHV0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHVwZGF0ZURldGFpbEFjdGlvbnModHJ1ZSk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBwYXlsb2FkID0geyBhbHQ6IGRldGFpbEFsdElucHV0LnZhbHVlIHx8ICcnIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgICAgYCR7bWVkaWFBcGlCYXNlfS8ke2VuY29kZVVSSUNvbXBvbmVudChhY3RpdmVNZWRpYUlkKX1gLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICAgIH0sXG4gICAgICAgICk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBjb25zdCBlcnJvclBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yUGF5bG9hZC5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIG1ldHRyZSBcdTAwRTAgam91ciBjZSBtXHUwMEU5ZGlhLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHVwZGF0ZWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIG1lZGlhSXRlbXMgPSBtZWRpYUl0ZW1zLm1hcCgoaXRlbSkgPT5cbiAgICAgICAgICBpdGVtLmlkID09PSBhY3RpdmVNZWRpYUlkID8geyAuLi5pdGVtLCAuLi51cGRhdGVkIH0gOiBpdGVtLFxuICAgICAgICApO1xuICAgICAgICBmaWx0ZXJlZEl0ZW1zID0gZmlsdGVyZWRJdGVtcy5tYXAoKGl0ZW0pID0+XG4gICAgICAgICAgaXRlbS5pZCA9PT0gYWN0aXZlTWVkaWFJZCA/IHsgLi4uaXRlbSwgLi4udXBkYXRlZCB9IDogaXRlbSxcbiAgICAgICAgKTtcbiAgICAgICAgZGV0YWlsRGlydHkgPSBmYWxzZTtcbiAgICAgICAgdXBkYXRlRGV0YWlsQWN0aW9ucyhmYWxzZSk7XG4gICAgICAgIHNob3dUb2FzdCgnTVx1MDBFOWRpYSBtaXMgXHUwMEUwIGpvdXInKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbbWVkaWFdIHVwZGF0ZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UgfHwgJ1x1MDBDOWNoZWMgZGUgbGEgbWlzZSBcdTAwRTAgam91ci4nKTtcbiAgICAgICAgdXBkYXRlRGV0YWlsQWN0aW9ucyhmYWxzZSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBsb2FkTWVkaWEoKTtcbiAgfVxuXG4gIC8vIFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFxuICAvLyBBSSBDSEFUIC0gQXNzaXN0YW50IElBIGNvbnRleHR1ZWxcbiAgLy8gXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXG5cbiAgY29uc3QgYWlDaGF0VG9nZ2xlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FpLWNoYXQtdG9nZ2xlJyk7XG4gIGNvbnN0IGFpQ2hhdFBhbmVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FpLWNoYXQtcGFuZWwnKTtcbiAgY29uc3QgYWlDaGF0T3ZlcmxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhaS1jaGF0LW92ZXJsYXknKTtcbiAgY29uc3QgYWlDaGF0Q2xvc2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWktY2hhdC1jbG9zZScpO1xuICBjb25zdCBhaUNoYXRDbGVhciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhaS1jaGF0LWNsZWFyJyk7XG4gIGNvbnN0IGFpQ2hhdEZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWktY2hhdC1mb3JtJyk7XG4gIGNvbnN0IGFpQ2hhdElucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FpLWNoYXQtaW5wdXQnKTtcbiAgY29uc3QgYWlDaGF0TWVzc2FnZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWktY2hhdC1tZXNzYWdlcycpO1xuICBjb25zdCBhaUNoYXRTdGF0dXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWktY2hhdC1zdGF0dXMnKTtcbiAgY29uc3QgYWlDaGF0Tm9BcGkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWktY2hhdC1uby1hcGknKTtcbiAgY29uc3QgYWlRdWlja0J1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1haS1xdWlja10nKTtcblxuICBsZXQgYWlDaGF0T3BlbiA9IGZhbHNlO1xuICBsZXQgYWlJc0xvYWRpbmcgPSBmYWxzZTtcbiAgbGV0IGFpQ29uZmlnQ2hlY2tlZCA9IGZhbHNlO1xuICBsZXQgYWlIYXNBcGlLZXkgPSBmYWxzZTtcblxuICAvKipcbiAgICogT3V2cmUgbGUgcGFuZWwgZGUgY2hhdCBJQVxuICAgKi9cbiAgZnVuY3Rpb24gb3BlbkFJQ2hhdCgpIHtcbiAgICBpZiAoIWFpQ2hhdFBhbmVsKSByZXR1cm47XG4gICAgYWlDaGF0T3BlbiA9IHRydWU7XG4gICAgYWlDaGF0UGFuZWwuY2xhc3NMaXN0LnJlbW92ZSgndHJhbnNsYXRlLXgtZnVsbCcpO1xuICAgIGFpQ2hhdFBhbmVsLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAnZmFsc2UnKTtcbiAgICBhaUNoYXRPdmVybGF5Py5jbGFzc0xpc3QucmVtb3ZlKCdvcGFjaXR5LTAnLCAncG9pbnRlci1ldmVudHMtbm9uZScpO1xuICAgIGFpQ2hhdE92ZXJsYXk/LmNsYXNzTGlzdC5hZGQoJ29wYWNpdHktMTAwJyk7XG4gICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICBhaUNoYXRJbnB1dD8uZm9jdXMoKTtcblxuICAgIC8vIFZcdTAwRTlyaWZpZXIgbGEgY29uZmlnIEFJIGF1IHByZW1pZXIgb3V2ZXJ0dXJlXG4gICAgaWYgKCFhaUNvbmZpZ0NoZWNrZWQpIHtcbiAgICAgIGNoZWNrQUlDb25maWcoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRmVybWUgbGUgcGFuZWwgZGUgY2hhdCBJQVxuICAgKi9cbiAgZnVuY3Rpb24gY2xvc2VBSUNoYXQoKSB7XG4gICAgaWYgKCFhaUNoYXRQYW5lbCkgcmV0dXJuO1xuICAgIGFpQ2hhdE9wZW4gPSBmYWxzZTtcbiAgICBhaUNoYXRQYW5lbC5jbGFzc0xpc3QuYWRkKCd0cmFuc2xhdGUteC1mdWxsJyk7XG4gICAgYWlDaGF0UGFuZWwuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJyk7XG4gICAgYWlDaGF0T3ZlcmxheT8uY2xhc3NMaXN0LmFkZCgnb3BhY2l0eS0wJywgJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICBhaUNoYXRPdmVybGF5Py5jbGFzc0xpc3QucmVtb3ZlKCdvcGFjaXR5LTEwMCcpO1xuICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnb3ZlcmZsb3ctaGlkZGVuJyk7XG4gIH1cblxuICAvKipcbiAgICogVlx1MDBFOXJpZmllIHNpIGwnQVBJIEFJIGVzdCBjb25maWd1clx1MDBFOWVcbiAgICovXG4gIGFzeW5jIGZ1bmN0aW9uIGNoZWNrQUlDb25maWcoKSB7XG4gICAgY29uc3Qgc2l0ZVNsdWcgPSBzdHJpcExlYWRpbmdTbGFzaChzdG9yZWRTaXRlLnNsdWcgfHwgJycpO1xuICAgIGlmICghc2l0ZVNsdWcpIHtcbiAgICAgIGFpQ2hhdE5vQXBpPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2l0ZVNsdWcpfS9jb25maWcvYWlgKTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHRocm93IG5ldyBFcnJvcignQ29uZmlnIGNoZWNrIGZhaWxlZCcpO1xuICAgICAgY29uc3QgY29uZmlnID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgYWlDb25maWdDaGVja2VkID0gdHJ1ZTtcbiAgICAgIGFpSGFzQXBpS2V5ID0gY29uZmlnLmhhc0FwaUtleTtcbiAgICAgIFxuICAgICAgaWYgKCFjb25maWcuZW5hYmxlZCB8fCAhY29uZmlnLmhhc0FwaUtleSkge1xuICAgICAgICBhaUNoYXROb0FwaT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhaUNoYXROb0FwaT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIC8vIENoYXJnZXIgbCdoaXN0b3JpcXVlXG4gICAgICAgIGxvYWRBSUNoYXRIaXN0b3J5KCk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdbQUldIENvbmZpZyBjaGVjayBmYWlsZWQ6JywgZXJyKTtcbiAgICAgIGFpQ2hhdE5vQXBpPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2hhcmdlIGwnaGlzdG9yaXF1ZSBkZSBjb252ZXJzYXRpb25cbiAgICovXG4gIGFzeW5jIGZ1bmN0aW9uIGxvYWRBSUNoYXRIaXN0b3J5KCkge1xuICAgIGNvbnN0IHNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goc3RvcmVkU2l0ZS5zbHVnIHx8ICcnKTtcbiAgICBpZiAoIXNpdGVTbHVnIHx8ICFhaUNoYXRNZXNzYWdlcykgcmV0dXJuO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNpdGVTbHVnKX0vYWkvaGlzdG9yeWApO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykgcmV0dXJuO1xuICAgICAgXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgaWYgKGRhdGEubWVzc2FnZXMgJiYgZGF0YS5tZXNzYWdlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIC8vIEVmZmFjZXIgbGUgbWVzc2FnZSBkZSBiaWVudmVudWVcbiAgICAgICAgY29uc3Qgd2VsY29tZU1zZyA9IGFpQ2hhdE1lc3NhZ2VzLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFpLXdlbGNvbWVdJyk7XG4gICAgICAgIGlmICh3ZWxjb21lTXNnKSB3ZWxjb21lTXNnLnJlbW92ZSgpO1xuICAgICAgICBcbiAgICAgICAgLy8gQWZmaWNoZXIgbGVzIG1lc3NhZ2VzXG4gICAgICAgIGRhdGEubWVzc2FnZXMuZm9yRWFjaChtc2cgPT4ge1xuICAgICAgICAgIGFwcGVuZEFJTWVzc2FnZShtc2cuY29udGVudCwgbXNnLnJvbGUgPT09ICd1c2VyJyA/ICd1c2VyJyA6ICdhc3Npc3RhbnQnKTtcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICAvLyBTY3JvbGwgdmVycyBsZSBiYXNcbiAgICAgICAgYWlDaGF0TWVzc2FnZXMuc2Nyb2xsVG9wID0gYWlDaGF0TWVzc2FnZXMuc2Nyb2xsSGVpZ2h0O1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignW0FJXSBIaXN0b3J5IGxvYWQgZmFpbGVkOicsIGVycik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFqb3V0ZSB1biBtZXNzYWdlIGF1IGNoYXRcbiAgICovXG4gIGZ1bmN0aW9uIGFwcGVuZEFJTWVzc2FnZShjb250ZW50LCByb2xlID0gJ2Fzc2lzdGFudCcpIHtcbiAgICBpZiAoIWFpQ2hhdE1lc3NhZ2VzKSByZXR1cm47XG4gICAgXG4gICAgY29uc3QgbXNnRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgbXNnRGl2LmNsYXNzTmFtZSA9ICdmbGV4IGdhcC0zJztcbiAgICBcbiAgICBpZiAocm9sZSA9PT0gJ3VzZXInKSB7XG4gICAgICBtc2dEaXYuaW5uZXJIVE1MID0gYFxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleC0xXCI+PC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJtYXgtdy1bODAlXSBiZy12aW9sZXQtNjAwIHRleHQtd2hpdGUgcm91bmRlZC0yeGwgcm91bmRlZC10ci1ub25lIHAtM1wiPlxuICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1zbSB3aGl0ZXNwYWNlLXByZS13cmFwXCI+JHtlc2NhcGVIdG1sKGNvbnRlbnQpfTwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJ3LTggaC04IHJvdW5kZWQtZnVsbCBiZy1zbGF0ZS0yMDAgZmxleC1zaHJpbmstMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgIDxzdmcgY2xhc3M9XCJ3LTQgaC00IHRleHQtc2xhdGUtNTAwXCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICA8cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xNiA3YTQgNCAwIDExLTggMCA0IDQgMCAwMTggMHpNMTIgMTRhNyA3IDAgMDAtNyA3aDE0YTcgNyAwIDAwLTctN3pcIi8+XG4gICAgICAgICAgPC9zdmc+XG4gICAgICAgIDwvZGl2PlxuICAgICAgYDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRm9ybWF0dGVyIGxlIGNvbnRlbnUgTWFya2Rvd24gYmFzaXF1ZVxuICAgICAgY29uc3QgZm9ybWF0dGVkQ29udGVudCA9IGZvcm1hdEFJUmVzcG9uc2UoY29udGVudCk7XG4gICAgICBtc2dEaXYuaW5uZXJIVE1MID0gYFxuICAgICAgICA8ZGl2IGNsYXNzPVwidy04IGgtOCByb3VuZGVkLWZ1bGwgYmctZ3JhZGllbnQtdG8tYnIgZnJvbS12aW9sZXQtNTAwIHRvLWluZGlnby02MDAgZmxleC1zaHJpbmstMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgIDxzdmcgY2xhc3M9XCJ3LTQgaC00IHRleHQtd2hpdGVcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgIDxwYXRoIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTkuNjYzIDE3aDQuNjczTTEyIDN2MW02LjM2NCAxLjYzNmwtLjcwNy43MDdNMjEgMTJoLTFNNCAxMkgzbTMuMzQzLTUuNjU3bC0uNzA3LS43MDdtMi44MjggOS45YTUgNSAwIDExNy4wNzIgMGwtLjU0OC41NDdBMy4zNzQgMy4zNzQgMCAwMDE0IDE4LjQ2OVYxOWEyIDIgMCAxMS00IDB2LS41MzFjMC0uODk1LS4zNTYtMS43NTQtLjk4OC0yLjM4NmwtLjU0OC0uNTQ3elwiLz5cbiAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4LTEgYmctc2xhdGUtNTAgcm91bmRlZC0yeGwgcm91bmRlZC10bC1ub25lIHAtMyBvdmVyZmxvdy14LWF1dG9cIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC1zbSB0ZXh0LXNsYXRlLTcwMCBwcm9zZSBwcm9zZS1zbSBtYXgtdy1ub25lIFsmPnByZV06Ymctc2xhdGUtODAwIFsmPnByZV06dGV4dC1zbGF0ZS0xMDAgWyY+cHJlXTpyb3VuZGVkLWxnIFsmPnByZV06cC0zIFsmPnByZV06b3ZlcmZsb3cteC1hdXRvIFsmPmNvZGVdOmJnLXNsYXRlLTIwMCBbJj5jb2RlXTpweC0xIFsmPmNvZGVdOnJvdW5kZWRcIj4ke2Zvcm1hdHRlZENvbnRlbnR9PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgYDtcbiAgICB9XG4gICAgXG4gICAgYWlDaGF0TWVzc2FnZXMuYXBwZW5kQ2hpbGQobXNnRGl2KTtcbiAgICBhaUNoYXRNZXNzYWdlcy5zY3JvbGxUb3AgPSBhaUNoYXRNZXNzYWdlcy5zY3JvbGxIZWlnaHQ7XG4gIH1cblxuICAvKipcbiAgICogQWZmaWNoZSB1biBpbmRpY2F0ZXVyIGRlIGNoYXJnZW1lbnRcbiAgICovXG4gIGZ1bmN0aW9uIHNob3dBSUxvYWRpbmcoKSB7XG4gICAgaWYgKCFhaUNoYXRNZXNzYWdlcykgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0IGxvYWRpbmdEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBsb2FkaW5nRGl2LmNsYXNzTmFtZSA9ICdmbGV4IGdhcC0zJztcbiAgICBsb2FkaW5nRGl2LmlkID0gJ2FpLWxvYWRpbmctaW5kaWNhdG9yJztcbiAgICBsb2FkaW5nRGl2LmlubmVySFRNTCA9IGBcbiAgICAgIDxkaXYgY2xhc3M9XCJ3LTggaC04IHJvdW5kZWQtZnVsbCBiZy1ncmFkaWVudC10by1iciBmcm9tLXZpb2xldC01MDAgdG8taW5kaWdvLTYwMCBmbGV4LXNocmluay0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgIDxzdmcgY2xhc3M9XCJ3LTQgaC00IHRleHQtd2hpdGUgYW5pbWF0ZS1wdWxzZVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgIDxwYXRoIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTkuNjYzIDE3aDQuNjczTTEyIDN2MW02LjM2NCAxLjYzNmwtLjcwNy43MDdNMjEgMTJoLTFNNCAxMkgzbTMuMzQzLTUuNjU3bC0uNzA3LS43MDdtMi44MjggOS45YTUgNSAwIDExNy4wNzIgMGwtLjU0OC41NDdBMy4zNzQgMy4zNzQgMCAwMDE0IDE4LjQ2OVYxOWEyIDIgMCAxMS00IDB2LS41MzFjMC0uODk1LS4zNTYtMS43NTQtLjk4OC0yLjM4NmwtLjU0OC0uNTQ3elwiLz5cbiAgICAgICAgPC9zdmc+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJmbGV4LTEgYmctc2xhdGUtNTAgcm91bmRlZC0yeGwgcm91bmRlZC10bC1ub25lIHAtM1wiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwidy0yIGgtMiBiZy12aW9sZXQtNDAwIHJvdW5kZWQtZnVsbCBhbmltYXRlLWJvdW5jZVwiIHN0eWxlPVwiYW5pbWF0aW9uLWRlbGF5OiAwbXNcIj48L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwidy0yIGgtMiBiZy12aW9sZXQtNDAwIHJvdW5kZWQtZnVsbCBhbmltYXRlLWJvdW5jZVwiIHN0eWxlPVwiYW5pbWF0aW9uLWRlbGF5OiAxNTBtc1wiPjwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ3LTIgaC0yIGJnLXZpb2xldC00MDAgcm91bmRlZC1mdWxsIGFuaW1hdGUtYm91bmNlXCIgc3R5bGU9XCJhbmltYXRpb24tZGVsYXk6IDMwMG1zXCI+PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgYDtcbiAgICBcbiAgICBhaUNoYXRNZXNzYWdlcy5hcHBlbmRDaGlsZChsb2FkaW5nRGl2KTtcbiAgICBhaUNoYXRNZXNzYWdlcy5zY3JvbGxUb3AgPSBhaUNoYXRNZXNzYWdlcy5zY3JvbGxIZWlnaHQ7XG4gIH1cblxuICAvKipcbiAgICogQ2FjaGUgbCdpbmRpY2F0ZXVyIGRlIGNoYXJnZW1lbnRcbiAgICovXG4gIGZ1bmN0aW9uIGhpZGVBSUxvYWRpbmcoKSB7XG4gICAgY29uc3QgbG9hZGluZ0RpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhaS1sb2FkaW5nLWluZGljYXRvcicpO1xuICAgIGxvYWRpbmdEaXY/LnJlbW92ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEZvcm1hdGUgbGEgclx1MDBFOXBvbnNlIGRlIGwnSUEgKE1hcmtkb3duIGJhc2lxdWUpXG4gICAqL1xuICBmdW5jdGlvbiBmb3JtYXRBSVJlc3BvbnNlKHRleHQpIHtcbiAgICBpZiAoIXRleHQpIHJldHVybiAnJztcbiAgICBcbiAgICAvLyBFc2NhcGUgSFRNTCBkJ2Fib3JkXG4gICAgbGV0IGZvcm1hdHRlZCA9IGVzY2FwZUh0bWwodGV4dCk7XG4gICAgXG4gICAgLy8gQ29kZSBibG9ja3MgYGBgXG4gICAgZm9ybWF0dGVkID0gZm9ybWF0dGVkLnJlcGxhY2UoL2BgYChcXHcqKVxcbihbXFxzXFxTXSo/KWBgYC9nLCAobWF0Y2gsIGxhbmcsIGNvZGUpID0+IHtcbiAgICAgIHJldHVybiBgPHByZSBjbGFzcz1cImxhbmd1YWdlLSR7bGFuZyB8fCAndGV4dCd9XCI+PGNvZGU+JHtjb2RlLnRyaW0oKX08L2NvZGU+PC9wcmU+YDtcbiAgICB9KTtcbiAgICBcbiAgICAvLyBJbmxpbmUgY29kZSBgXG4gICAgZm9ybWF0dGVkID0gZm9ybWF0dGVkLnJlcGxhY2UoL2AoW15gXSspYC9nLCAnPGNvZGU+JDE8L2NvZGU+Jyk7XG4gICAgXG4gICAgLy8gQm9sZCAqKnRleHQqKlxuICAgIGZvcm1hdHRlZCA9IGZvcm1hdHRlZC5yZXBsYWNlKC9cXCpcXCooW14qXSspXFwqXFwqL2csICc8c3Ryb25nPiQxPC9zdHJvbmc+Jyk7XG4gICAgXG4gICAgLy8gSXRhbGljICp0ZXh0KlxuICAgIGZvcm1hdHRlZCA9IGZvcm1hdHRlZC5yZXBsYWNlKC9cXCooW14qXSspXFwqL2csICc8ZW0+JDE8L2VtPicpO1xuICAgIFxuICAgIC8vIFRpdHJlc1xuICAgIGZvcm1hdHRlZCA9IGZvcm1hdHRlZC5yZXBsYWNlKC9eIyMjICguKykkL2dtLCAnPGg0IGNsYXNzPVwiZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTkwMCBtdC0zIG1iLTFcIj4kMTwvaDQ+Jyk7XG4gICAgZm9ybWF0dGVkID0gZm9ybWF0dGVkLnJlcGxhY2UoL14jIyAoLispJC9nbSwgJzxoMyBjbGFzcz1cImZvbnQtc2VtaWJvbGQgdGV4dC1zbGF0ZS05MDAgbXQtMyBtYi0xXCI+JDE8L2gzPicpO1xuICAgIGZvcm1hdHRlZCA9IGZvcm1hdHRlZC5yZXBsYWNlKC9eIyAoLispJC9nbSwgJzxoMiBjbGFzcz1cImZvbnQtYm9sZCB0ZXh0LXNsYXRlLTkwMCBtdC0zIG1iLTJcIj4kMTwvaDI+Jyk7XG4gICAgXG4gICAgLy8gTGlzdGVzXG4gICAgZm9ybWF0dGVkID0gZm9ybWF0dGVkLnJlcGxhY2UoL14tICguKykkL2dtLCAnPGxpIGNsYXNzPVwibWwtNFwiPiQxPC9saT4nKTtcbiAgICBmb3JtYXR0ZWQgPSBmb3JtYXR0ZWQucmVwbGFjZSgvXihcXGQrKVxcLiAoLispJC9nbSwgJzxsaSBjbGFzcz1cIm1sLTRcIj4kMjwvbGk+Jyk7XG4gICAgXG4gICAgLy8gUGFyYWdyYXBoZXMgKGxpZ25lcyB2aWRlcylcbiAgICBmb3JtYXR0ZWQgPSBmb3JtYXR0ZWQucmVwbGFjZSgvXFxuXFxuL2csICc8L3A+PHAgY2xhc3M9XCJtYi0yXCI+Jyk7XG4gICAgZm9ybWF0dGVkID0gJzxwIGNsYXNzPVwibWItMlwiPicgKyBmb3JtYXR0ZWQgKyAnPC9wPic7XG4gICAgXG4gICAgLy8gTmV0dG95ZXIgbGVzIDxwPiB2aWRlc1xuICAgIGZvcm1hdHRlZCA9IGZvcm1hdHRlZC5yZXBsYWNlKC88cCBjbGFzcz1cIm1iLTJcIj48XFwvcD4vZywgJycpO1xuICAgIFxuICAgIHJldHVybiBmb3JtYXR0ZWQ7XG4gIH1cblxuICAvKipcbiAgICogXHUwMEM5Y2hhcHBlIGxlIEhUTUxcbiAgICovXG4gIGZ1bmN0aW9uIGVzY2FwZUh0bWwodGV4dCkge1xuICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGRpdi50ZXh0Q29udGVudCA9IHRleHQ7XG4gICAgcmV0dXJuIGRpdi5pbm5lckhUTUw7XG4gIH1cblxuICAvKipcbiAgICogRW52b2llIHVuIG1lc3NhZ2UgYXUgY2hhdCBJQVxuICAgKi9cbiAgYXN5bmMgZnVuY3Rpb24gc2VuZEFJTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgY29uc3Qgc2l0ZVNsdWcgPSBzdHJpcExlYWRpbmdTbGFzaChzdG9yZWRTaXRlLnNsdWcgfHwgJycpO1xuICAgIGlmICghbWVzc2FnZSB8fCAhc2l0ZVNsdWcgfHwgYWlJc0xvYWRpbmcpIHJldHVybjtcbiAgICBcbiAgICBhaUlzTG9hZGluZyA9IHRydWU7XG4gICAgYWlDaGF0SW5wdXQuZGlzYWJsZWQgPSB0cnVlO1xuICAgIFxuICAgIC8vIEVmZmFjZXIgbGUgbWVzc2FnZSBkZSBiaWVudmVudWUgYXUgcHJlbWllciBtZXNzYWdlXG4gICAgY29uc3Qgd2VsY29tZU1zZyA9IGFpQ2hhdE1lc3NhZ2VzPy5xdWVyeVNlbGVjdG9yKCdbZGF0YS1haS13ZWxjb21lXScpO1xuICAgIGlmICh3ZWxjb21lTXNnKSB3ZWxjb21lTXNnLnJlbW92ZSgpO1xuICAgIFxuICAgIC8vIEFmZmljaGVyIGxlIG1lc3NhZ2UgZGUgbCd1dGlsaXNhdGV1clxuICAgIGFwcGVuZEFJTWVzc2FnZShtZXNzYWdlLCAndXNlcicpO1xuICAgIFxuICAgIC8vIEFmZmljaGVyIGxlIGxvYWRlclxuICAgIHNob3dBSUxvYWRpbmcoKTtcbiAgICBcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzaXRlU2x1Zyl9L2FpL2NoYXRgLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBtZXNzYWdlIH0pXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgaGlkZUFJTG9hZGluZygpO1xuICAgICAgXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IGVycm9yID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IubWVzc2FnZSB8fCAnRXJyZXVyIGRlIGNvbW11bmljYXRpb24nKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIFxuICAgICAgaWYgKGRhdGEucmVzcG9uc2UpIHtcbiAgICAgICAgYXBwZW5kQUlNZXNzYWdlKGRhdGEucmVzcG9uc2UsICdhc3Npc3RhbnQnKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gR1x1MDBFOXJlciBsZXMgcHJvcG9zaXRpb25zIGQnXHUwMEU5ZGl0aW9uIGRlIHBhZ2VcbiAgICAgIGlmIChkYXRhLmVkaXRQcm9wb3NhbCkge1xuICAgICAgICBhcHBlbmRFZGl0UHJvcG9zYWwoZGF0YS5lZGl0UHJvcG9zYWwpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBHXHUwMEU5cmVyIGxlcyBwcm9wb3NpdGlvbnMgZGUgbW9kaWZpY2F0aW9uIGR1IHRoXHUwMEU4bWVcbiAgICAgIGlmIChkYXRhLnRoZW1lUHJvcG9zYWwpIHtcbiAgICAgICAgYXBwZW5kVGhlbWVQcm9wb3NhbChkYXRhLnRoZW1lUHJvcG9zYWwpO1xuICAgICAgfVxuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBoaWRlQUlMb2FkaW5nKCk7XG4gICAgICBhcHBlbmRBSU1lc3NhZ2UoYFx1Mjc0QyBFcnJldXI6ICR7ZXJyLm1lc3NhZ2V9YCwgJ2Fzc2lzdGFudCcpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBhaUlzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgYWlDaGF0SW5wdXQuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgIGFpQ2hhdElucHV0LmZvY3VzKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFmZmljaGUgdW5lIHByb3Bvc2l0aW9uIGQnXHUwMEU5ZGl0aW9uIGF2ZWMgYm91dG9ucyBkZSB2YWxpZGF0aW9uXG4gICAqL1xuICBmdW5jdGlvbiBhcHBlbmRFZGl0UHJvcG9zYWwocHJvcG9zYWwpIHtcbiAgICBpZiAoIWFpQ2hhdE1lc3NhZ2VzIHx8ICFwcm9wb3NhbCkgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0IHByb3Bvc2FsRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgcHJvcG9zYWxEaXYuY2xhc3NOYW1lID0gJ2ZsZXggZ2FwLTMgbXQtMic7XG4gICAgcHJvcG9zYWxEaXYuZGF0YXNldC5wcm9wb3NhbElkID0gcHJvcG9zYWwucHJvcG9zYWxJZDtcbiAgICBcbiAgICAvLyBDb25zdHJ1aXJlIGxlIHJcdTAwRTlzdW1cdTAwRTkgZGVzIGNoYW5nZW1lbnRzXG4gICAgbGV0IGNoYW5nZXNIdG1sID0gJyc7XG4gICAgaWYgKHByb3Bvc2FsLmNoYW5nZXMpIHtcbiAgICAgIGlmIChwcm9wb3NhbC5jaGFuZ2VzLnRpdGxlKSB7XG4gICAgICAgIGNoYW5nZXNIdG1sICs9IGA8bGk+VGl0cmUgXHUyMTkyIDxzdHJvbmc+JHtlc2NhcGVIdG1sKHByb3Bvc2FsLmNoYW5nZXMudGl0bGUpfTwvc3Ryb25nPjwvbGk+YDtcbiAgICAgIH1cbiAgICAgIGlmIChwcm9wb3NhbC5jaGFuZ2VzLmRlc2NyaXB0aW9uKSB7XG4gICAgICAgIGNoYW5nZXNIdG1sICs9IGA8bGk+RGVzY3JpcHRpb24gXHUyMTkyICR7ZXNjYXBlSHRtbChwcm9wb3NhbC5jaGFuZ2VzLmRlc2NyaXB0aW9uLnN1YnN0cmluZygwLCA4MCkpfS4uLjwvbGk+YDtcbiAgICAgIH1cbiAgICAgIGlmIChwcm9wb3NhbC5jaGFuZ2VzLnNlbykge1xuICAgICAgICBpZiAocHJvcG9zYWwuY2hhbmdlcy5zZW8ubWV0YVRpdGxlKSB7XG4gICAgICAgICAgY2hhbmdlc0h0bWwgKz0gYDxsaT5NZXRhIHRpdGxlIFx1MjE5MiAke2VzY2FwZUh0bWwocHJvcG9zYWwuY2hhbmdlcy5zZW8ubWV0YVRpdGxlKX08L2xpPmA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByb3Bvc2FsLmNoYW5nZXMuc2VvLm1ldGFEZXNjcmlwdGlvbikge1xuICAgICAgICAgIGNoYW5nZXNIdG1sICs9IGA8bGk+TWV0YSBkZXNjcmlwdGlvbiBcdTIxOTIgJHtlc2NhcGVIdG1sKHByb3Bvc2FsLmNoYW5nZXMuc2VvLm1ldGFEZXNjcmlwdGlvbi5zdWJzdHJpbmcoMCwgNjApKX0uLi48L2xpPmA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChwcm9wb3NhbC5jaGFuZ2VzLmJsb2NrVXBkYXRlKSB7XG4gICAgICAgIGNoYW5nZXNIdG1sICs9IGA8bGk+QmxvYyBcIiR7cHJvcG9zYWwuY2hhbmdlcy5ibG9ja1VwZGF0ZS5ibG9ja0lkfVwiIG1vZGlmaVx1MDBFOTwvbGk+YDtcbiAgICAgICAgaWYgKHByb3Bvc2FsLmNoYW5nZXMuYmxvY2tVcGRhdGUuc2V0dGluZ3MpIHtcbiAgICAgICAgICBjb25zdCBzZXR0aW5ncyA9IHByb3Bvc2FsLmNoYW5nZXMuYmxvY2tVcGRhdGUuc2V0dGluZ3M7XG4gICAgICAgICAgaWYgKHNldHRpbmdzLnRpdGxlKSBjaGFuZ2VzSHRtbCArPSBgPGxpIGNsYXNzPVwibWwtNFwiPlx1MjE5MiB0aXRsZTogJHtlc2NhcGVIdG1sKHNldHRpbmdzLnRpdGxlKX08L2xpPmA7XG4gICAgICAgICAgaWYgKHNldHRpbmdzLmNvbnRlbnQpIGNoYW5nZXNIdG1sICs9IGA8bGkgY2xhc3M9XCJtbC00XCI+XHUyMTkyIGNvbnRlbnQgbW9kaWZpXHUwMEU5PC9saT5gO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIHByb3Bvc2FsRGl2LmlubmVySFRNTCA9IGBcbiAgICAgIDxkaXYgY2xhc3M9XCJ3LTggaC04IHJvdW5kZWQtZnVsbCBiZy1hbWJlci01MDAgZmxleC1zaHJpbmstMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICA8c3ZnIGNsYXNzPVwidy00IGgtNCB0ZXh0LXdoaXRlXCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgPHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTEgNUg2YTIgMiAwIDAwLTIgMnYxMWEyIDIgMCAwMDIgMmgxMWEyIDIgMCAwMDItMnYtNW0tMS40MTQtOS40MTRhMiAyIDAgMTEyLjgyOCAyLjgyOEwxMS44MjggMTVIOXYtMi44MjhsOC41ODYtOC41ODZ6XCIvPlxuICAgICAgICA8L3N2Zz5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cImZsZXgtMSBiZy1hbWJlci01MCBib3JkZXIgYm9yZGVyLWFtYmVyLTIwMCByb3VuZGVkLTJ4bCByb3VuZGVkLXRsLW5vbmUgcC00XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBtYi0yXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgdGV4dC1hbWJlci03MDAgYmctYW1iZXItMTAwIHB4LTIgcHktMC41IHJvdW5kZWRcIj5Qcm9wb3NpdGlvbiBkJ1x1MDBFOWRpdGlvbjwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxwIGNsYXNzPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LXNsYXRlLTgwMCBtYi0xXCI+UGFnZSA6ICR7ZXNjYXBlSHRtbChwcm9wb3NhbC5wYWdlVGl0bGUgfHwgcHJvcG9zYWwucGFnZUlkKX08L3A+XG4gICAgICAgICR7cHJvcG9zYWwucmVhc29uID8gYDxwIGNsYXNzPVwidGV4dC1zbSB0ZXh0LXNsYXRlLTYwMCBtYi0yXCI+JHtlc2NhcGVIdG1sKHByb3Bvc2FsLnJlYXNvbil9PC9wPmAgOiAnJ31cbiAgICAgICAgPHVsIGNsYXNzPVwidGV4dC14cyB0ZXh0LXNsYXRlLTYwMCBzcGFjZS15LTEgbWItMyBsaXN0LWRpc2MgbWwtNFwiPlxuICAgICAgICAgICR7Y2hhbmdlc0h0bWwgfHwgJzxsaT5Nb2RpZmljYXRpb25zIHByb3Bvc1x1MDBFOWVzPC9saT4nfVxuICAgICAgICA8L3VsPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBnYXAtMlwiPlxuICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICBjbGFzcz1cImFpLWFwcGx5LWVkaXQgcHgtMyBweS0xLjUgdGV4dC14cyBmb250LW1lZGl1bSB0ZXh0LXdoaXRlIGJnLWVtZXJhbGQtNjAwIGhvdmVyOmJnLWVtZXJhbGQtNzAwIHJvdW5kZWQtbGcgdHJhbnNpdGlvbi1jb2xvcnMgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTFcIlxuICAgICAgICAgICAgZGF0YS1wcm9wb3NhbC1pZD1cIiR7cHJvcG9zYWwucHJvcG9zYWxJZH1cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJ3LTMuNSBoLTMuNVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgICA8cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk01IDEzbDQgNEwxOSA3XCIvPlxuICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICBBcHBsaXF1ZXJcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgY2xhc3M9XCJhaS1yZWplY3QtZWRpdCBweC0zIHB5LTEuNSB0ZXh0LXhzIGZvbnQtbWVkaXVtIHRleHQtc2xhdGUtNjAwIGJnLXNsYXRlLTEwMCBob3ZlcjpiZy1zbGF0ZS0yMDAgcm91bmRlZC1sZyB0cmFuc2l0aW9uLWNvbG9ycyBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMVwiXG4gICAgICAgICAgICBkYXRhLXByb3Bvc2FsLWlkPVwiJHtwcm9wb3NhbC5wcm9wb3NhbElkfVwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHN2ZyBjbGFzcz1cInctMy41IGgtMy41XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICAgIDxwYXRoIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTYgMThMMTggNk02IDZsMTIgMTJcIi8+XG4gICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgIFJlamV0ZXJcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICBgO1xuICAgIFxuICAgIGFpQ2hhdE1lc3NhZ2VzLmFwcGVuZENoaWxkKHByb3Bvc2FsRGl2KTtcbiAgICBhaUNoYXRNZXNzYWdlcy5zY3JvbGxUb3AgPSBhaUNoYXRNZXNzYWdlcy5zY3JvbGxIZWlnaHQ7XG4gICAgXG4gICAgLy8gQXR0YWNoZXIgbGVzIFx1MDBFOXZcdTAwRTluZW1lbnRzIGF1eCBib3V0b25zXG4gICAgcHJvcG9zYWxEaXYucXVlcnlTZWxlY3RvcignLmFpLWFwcGx5LWVkaXQnKT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVBcHBseUVkaXQpO1xuICAgIHByb3Bvc2FsRGl2LnF1ZXJ5U2VsZWN0b3IoJy5haS1yZWplY3QtZWRpdCcpPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZVJlamVjdEVkaXQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFmZmljaGUgdW5lIHByb3Bvc2l0aW9uIGRlIG1vZGlmaWNhdGlvbiBkdSB0aFx1MDBFOG1lIGF2ZWMgYm91dG9ucyBkZSB2YWxpZGF0aW9uXG4gICAqL1xuICBmdW5jdGlvbiBhcHBlbmRUaGVtZVByb3Bvc2FsKHByb3Bvc2FsKSB7XG4gICAgaWYgKCFhaUNoYXRNZXNzYWdlcyB8fCAhcHJvcG9zYWwpIHJldHVybjtcbiAgICBcbiAgICBjb25zdCBwcm9wb3NhbERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHByb3Bvc2FsRGl2LmNsYXNzTmFtZSA9ICdmbGV4IGdhcC0zIG10LTInO1xuICAgIHByb3Bvc2FsRGl2LmRhdGFzZXQucHJvcG9zYWxJZCA9IHByb3Bvc2FsLnByb3Bvc2FsSWQ7XG4gICAgXG4gICAgLy8gQ29uc3RydWlyZSBsZSByXHUwMEU5c3VtXHUwMEU5IGRlcyBjaGFuZ2VtZW50cyBkZSBjb3VsZXVyc1xuICAgIGxldCBjb2xvcnNIdG1sID0gJyc7XG4gICAgaWYgKHByb3Bvc2FsLmNoYW5nZXM/LmNvbG9ycykge1xuICAgICAgY29uc3QgY29sb3JzID0gcHJvcG9zYWwuY2hhbmdlcy5jb2xvcnM7XG4gICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhjb2xvcnMpKSB7XG4gICAgICAgIGNvbG9yc0h0bWwgKz0gYDxsaSBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJ3LTQgaC00IHJvdW5kZWQgYm9yZGVyIGJvcmRlci1zbGF0ZS0zMDBcIiBzdHlsZT1cImJhY2tncm91bmQ6ICR7Z2V0VGFpbHdpbmRDb2xvckNzcyh2YWx1ZSl9XCI+PC9zcGFuPlxuICAgICAgICAgIDxzcGFuPiR7a2V5fTogPHN0cm9uZz4ke2VzY2FwZUh0bWwodmFsdWUpfTwvc3Ryb25nPjwvc3Bhbj5cbiAgICAgICAgPC9saT5gO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvLyBUeXBvZ3JhcGhpZXNcbiAgICBsZXQgdHlwb0h0bWwgPSAnJztcbiAgICBpZiAocHJvcG9zYWwuY2hhbmdlcz8udHlwb2dyYXBoeSkge1xuICAgICAgY29uc3QgdHlwbyA9IHByb3Bvc2FsLmNoYW5nZXMudHlwb2dyYXBoeTtcbiAgICAgIGlmICh0eXBvLmhlYWRpbmdzKSB0eXBvSHRtbCArPSBgPGxpPlRpdHJlcyBcdTIxOTIgPHN0cm9uZz4ke2VzY2FwZUh0bWwodHlwby5oZWFkaW5ncyl9PC9zdHJvbmc+PC9saT5gO1xuICAgICAgaWYgKHR5cG8uYm9keSkgdHlwb0h0bWwgKz0gYDxsaT5UZXh0ZXMgXHUyMTkyIDxzdHJvbmc+JHtlc2NhcGVIdG1sKHR5cG8uYm9keSl9PC9zdHJvbmc+PC9saT5gO1xuICAgIH1cbiAgICBcbiAgICBwcm9wb3NhbERpdi5pbm5lckhUTUwgPSBgXG4gICAgICA8ZGl2IGNsYXNzPVwidy04IGgtOCByb3VuZGVkLWZ1bGwgYmctcHVycGxlLTUwMCBmbGV4LXNocmluay0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgIDxzdmcgY2xhc3M9XCJ3LTQgaC00IHRleHQtd2hpdGVcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICA8cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk03IDIxYTQgNCAwIDAxLTQtNFY1YTIgMiAwIDAxMi0yaDRhMiAyIDAgMDEyIDJ2MTJhNCA0IDAgMDEtNCA0em0wIDBoMTJhMiAyIDAgMDAyLTJ2LTRhMiAyIDAgMDAtMi0yaC0yLjM0M00xMSA3LjM0M2wxLjY1Ny0xLjY1N2EyIDIgMCAwMTIuODI4IDBsMi44MjkgMi44MjlhMiAyIDAgMDEwIDIuODI4bC04LjQ4NiA4LjQ4NU03IDE3aC4wMVwiLz5cbiAgICAgICAgPC9zdmc+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJmbGV4LTEgYmctcHVycGxlLTUwIGJvcmRlciBib3JkZXItcHVycGxlLTIwMCByb3VuZGVkLTJ4bCByb3VuZGVkLXRsLW5vbmUgcC00XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBtYi0yXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgdGV4dC1wdXJwbGUtNzAwIGJnLXB1cnBsZS0xMDAgcHgtMiBweS0wLjUgcm91bmRlZFwiPk1vZGlmaWNhdGlvbiBkdSB0aFx1MDBFOG1lPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgJHtwcm9wb3NhbC5yZWFzb24gPyBgPHAgY2xhc3M9XCJ0ZXh0LXNtIHRleHQtc2xhdGUtNjAwIG1iLTNcIj4ke2VzY2FwZUh0bWwocHJvcG9zYWwucmVhc29uKX08L3A+YCA6ICcnfVxuICAgICAgICAke2NvbG9yc0h0bWwgPyBgXG4gICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXhzIGZvbnQtbWVkaXVtIHRleHQtc2xhdGUtNzAwIG1iLTFcIj5Db3VsZXVycyA6PC9wPlxuICAgICAgICAgIDx1bCBjbGFzcz1cInRleHQteHMgdGV4dC1zbGF0ZS02MDAgc3BhY2UteS0xIG1iLTNcIj4ke2NvbG9yc0h0bWx9PC91bD5cbiAgICAgICAgYCA6ICcnfVxuICAgICAgICAke3R5cG9IdG1sID8gYFxuICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC14cyBmb250LW1lZGl1bSB0ZXh0LXNsYXRlLTcwMCBtYi0xXCI+VHlwb2dyYXBoaWVzIDo8L3A+XG4gICAgICAgICAgPHVsIGNsYXNzPVwidGV4dC14cyB0ZXh0LXNsYXRlLTYwMCBzcGFjZS15LTEgbWItMyBsaXN0LWRpc2MgbWwtNFwiPiR7dHlwb0h0bWx9PC91bD5cbiAgICAgICAgYCA6ICcnfVxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBnYXAtMlwiPlxuICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICBjbGFzcz1cImFpLWFwcGx5LXRoZW1lIHB4LTMgcHktMS41IHRleHQteHMgZm9udC1tZWRpdW0gdGV4dC13aGl0ZSBiZy1wdXJwbGUtNjAwIGhvdmVyOmJnLXB1cnBsZS03MDAgcm91bmRlZC1sZyB0cmFuc2l0aW9uLWNvbG9ycyBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMVwiXG4gICAgICAgICAgICBkYXRhLXByb3Bvc2FsLWlkPVwiJHtwcm9wb3NhbC5wcm9wb3NhbElkfVwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHN2ZyBjbGFzcz1cInctMy41IGgtMy41XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICAgIDxwYXRoIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTUgMTNsNCA0TDE5IDdcIi8+XG4gICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgIEFwcGxpcXVlclxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICBjbGFzcz1cImFpLXJlamVjdC10aGVtZSBweC0zIHB5LTEuNSB0ZXh0LXhzIGZvbnQtbWVkaXVtIHRleHQtc2xhdGUtNjAwIGJnLXNsYXRlLTEwMCBob3ZlcjpiZy1zbGF0ZS0yMDAgcm91bmRlZC1sZyB0cmFuc2l0aW9uLWNvbG9ycyBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMVwiXG4gICAgICAgICAgICBkYXRhLXByb3Bvc2FsLWlkPVwiJHtwcm9wb3NhbC5wcm9wb3NhbElkfVwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHN2ZyBjbGFzcz1cInctMy41IGgtMy41XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICAgIDxwYXRoIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTYgMThMMTggNk02IDZsMTIgMTJcIi8+XG4gICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgIFJlamV0ZXJcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICBgO1xuICAgIFxuICAgIGFpQ2hhdE1lc3NhZ2VzLmFwcGVuZENoaWxkKHByb3Bvc2FsRGl2KTtcbiAgICBhaUNoYXRNZXNzYWdlcy5zY3JvbGxUb3AgPSBhaUNoYXRNZXNzYWdlcy5zY3JvbGxIZWlnaHQ7XG4gICAgXG4gICAgLy8gQXR0YWNoZXIgbGVzIFx1MDBFOXZcdTAwRTluZW1lbnRzIGF1eCBib3V0b25zXG4gICAgcHJvcG9zYWxEaXYucXVlcnlTZWxlY3RvcignLmFpLWFwcGx5LXRoZW1lJyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlQXBwbHlUaGVtZSk7XG4gICAgcHJvcG9zYWxEaXYucXVlcnlTZWxlY3RvcignLmFpLXJlamVjdC10aGVtZScpPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZVJlamVjdEVkaXQpOyAvLyBSXHUwMEU5dXRpbGlzZSBsYSBtXHUwMEVBbWUgbG9naXF1ZSBkZSByZWpldFxuICB9XG4gIFxuICAvKipcbiAgICogQ29udmVydGl0IHVuZSBjb3VsZXVyIFRhaWx3aW5kIGVuIENTUyBhcHByb3hpbWF0aWYgcG91ciBwcmV2aWV3XG4gICAqL1xuICBmdW5jdGlvbiBnZXRUYWlsd2luZENvbG9yQ3NzKGNvbG9yTmFtZSkge1xuICAgIGNvbnN0IGNvbG9ycyA9IHtcbiAgICAgICd3aGl0ZSc6ICcjZmZmZmZmJywgJ2JsYWNrJzogJyMwMDAwMDAnLCAndHJhbnNwYXJlbnQnOiAndHJhbnNwYXJlbnQnLFxuICAgICAgJ3NsYXRlLTUwJzogJyNmOGZhZmMnLCAnc2xhdGUtMTAwJzogJyNmMWY1ZjknLCAnc2xhdGUtMjAwJzogJyNlMmU4ZjAnLCAnc2xhdGUtMzAwJzogJyNjYmQ1ZTEnLCAnc2xhdGUtNDAwJzogJyM5NGEzYjgnLCAnc2xhdGUtNTAwJzogJyM2NDc0OGInLCAnc2xhdGUtNjAwJzogJyM0NzU1NjknLCAnc2xhdGUtNzAwJzogJyMzMzQxNTUnLCAnc2xhdGUtODAwJzogJyMxZTI5M2InLCAnc2xhdGUtOTAwJzogJyMwZjE3MmEnLFxuICAgICAgJ2dyYXktNTAnOiAnI2Y5ZmFmYicsICdncmF5LTEwMCc6ICcjZjNmNGY2JywgJ2dyYXktMjAwJzogJyNlNWU3ZWInLCAnZ3JheS0zMDAnOiAnI2QxZDVkYicsICdncmF5LTQwMCc6ICcjOWNhM2FmJywgJ2dyYXktNTAwJzogJyM2YjcyODAnLCAnZ3JheS02MDAnOiAnIzRiNTU2MycsICdncmF5LTcwMCc6ICcjMzc0MTUxJywgJ2dyYXktODAwJzogJyMxZjI5MzcnLCAnZ3JheS05MDAnOiAnIzExMTgyNycsXG4gICAgICAndmlvbGV0LTUwJzogJyNmNWYzZmYnLCAndmlvbGV0LTEwMCc6ICcjZWRlOWZlJywgJ3Zpb2xldC0yMDAnOiAnI2RkZDZmZScsICd2aW9sZXQtMzAwJzogJyNjNGI1ZmQnLCAndmlvbGV0LTQwMCc6ICcjYTc4YmZhJywgJ3Zpb2xldC01MDAnOiAnIzhiNWNmNicsICd2aW9sZXQtNjAwJzogJyM3YzNhZWQnLCAndmlvbGV0LTcwMCc6ICcjNmQyOGQ5JywgJ3Zpb2xldC04MDAnOiAnIzViMjFiNicsICd2aW9sZXQtOTAwJzogJyM0YzFkOTUnLFxuICAgICAgJ3B1cnBsZS01MCc6ICcjZmFmNWZmJywgJ3B1cnBsZS0xMDAnOiAnI2YzZThmZicsICdwdXJwbGUtMjAwJzogJyNlOWQ1ZmYnLCAncHVycGxlLTMwMCc6ICcjZDhiNGZlJywgJ3B1cnBsZS00MDAnOiAnI2MwODRmYycsICdwdXJwbGUtNTAwJzogJyNhODU1ZjcnLCAncHVycGxlLTYwMCc6ICcjOTMzM2VhJywgJ3B1cnBsZS03MDAnOiAnIzdlMjJjZScsICdwdXJwbGUtODAwJzogJyM2YjIxYTgnLCAncHVycGxlLTkwMCc6ICcjNTgxYzg3JyxcbiAgICAgICdibHVlLTUwJzogJyNlZmY2ZmYnLCAnYmx1ZS0xMDAnOiAnI2RiZWFmZScsICdibHVlLTIwMCc6ICcjYmZkYmZlJywgJ2JsdWUtMzAwJzogJyM5M2M1ZmQnLCAnYmx1ZS00MDAnOiAnIzYwYTVmYScsICdibHVlLTUwMCc6ICcjM2I4MmY2JywgJ2JsdWUtNjAwJzogJyMyNTYzZWInLCAnYmx1ZS03MDAnOiAnIzFkNGVkOCcsICdibHVlLTgwMCc6ICcjMWU0MGFmJywgJ2JsdWUtOTAwJzogJyMxZTNhOGEnLFxuICAgICAgJ2VtZXJhbGQtNTAnOiAnI2VjZmRmNScsICdlbWVyYWxkLTEwMCc6ICcjZDFmYWU1JywgJ2VtZXJhbGQtMjAwJzogJyNhN2YzZDAnLCAnZW1lcmFsZC0zMDAnOiAnIzZlZTdiNycsICdlbWVyYWxkLTQwMCc6ICcjMzRkMzk5JywgJ2VtZXJhbGQtNTAwJzogJyMxMGI5ODEnLCAnZW1lcmFsZC02MDAnOiAnIzA1OTY2OScsICdlbWVyYWxkLTcwMCc6ICcjMDQ3ODU3JywgJ2VtZXJhbGQtODAwJzogJyMwNjVmNDYnLCAnZW1lcmFsZC05MDAnOiAnIzA2NGUzYicsXG4gICAgICAndGVhbC01MCc6ICcjZjBmZGZhJywgJ3RlYWwtMTAwJzogJyNjY2ZiZjEnLCAndGVhbC0yMDAnOiAnIzk5ZjZlNCcsICd0ZWFsLTMwMCc6ICcjNWVlYWQ0JywgJ3RlYWwtNDAwJzogJyMyZGQ0YmYnLCAndGVhbC01MDAnOiAnIzE0YjhhNicsICd0ZWFsLTYwMCc6ICcjMGQ5NDg4JywgJ3RlYWwtNzAwJzogJyMwZjc2NmUnLCAndGVhbC04MDAnOiAnIzExNWU1OScsICd0ZWFsLTkwMCc6ICcjMTM0ZTRhJyxcbiAgICAgICdhbWJlci01MCc6ICcjZmZmYmViJywgJ2FtYmVyLTEwMCc6ICcjZmVmM2M3JywgJ2FtYmVyLTIwMCc6ICcjZmRlNjhhJywgJ2FtYmVyLTMwMCc6ICcjZmNkMzRkJywgJ2FtYmVyLTQwMCc6ICcjZmJiZjI0JywgJ2FtYmVyLTUwMCc6ICcjZjU5ZTBiJywgJ2FtYmVyLTYwMCc6ICcjZDk3NzA2JywgJ2FtYmVyLTcwMCc6ICcjYjQ1MzA5JywgJ2FtYmVyLTgwMCc6ICcjOTI0MDBlJywgJ2FtYmVyLTkwMCc6ICcjNzgzNTBmJyxcbiAgICAgICdyZWQtNTAnOiAnI2ZlZjJmMicsICdyZWQtMTAwJzogJyNmZWUyZTInLCAncmVkLTIwMCc6ICcjZmVjYWNhJywgJ3JlZC0zMDAnOiAnI2ZjYTVhNScsICdyZWQtNDAwJzogJyNmODcxNzEnLCAncmVkLTUwMCc6ICcjZWY0NDQ0JywgJ3JlZC02MDAnOiAnI2RjMjYyNicsICdyZWQtNzAwJzogJyNiOTFjMWMnLCAncmVkLTgwMCc6ICcjOTkxYjFiJywgJ3JlZC05MDAnOiAnIzdmMWQxZCdcbiAgICB9O1xuICAgIHJldHVybiBjb2xvcnNbY29sb3JOYW1lXSB8fCAnIzlDNkJGRic7XG4gIH1cblxuICAvKipcbiAgICogQXBwbGlxdWUgdW5lIHByb3Bvc2l0aW9uIGRlIG1vZGlmaWNhdGlvbiBkdSB0aFx1MDBFOG1lXG4gICAqL1xuICBhc3luYyBmdW5jdGlvbiBoYW5kbGVBcHBseVRoZW1lKGUpIHtcbiAgICBjb25zdCBwcm9wb3NhbElkID0gZS50YXJnZXQuY2xvc2VzdCgnW2RhdGEtcHJvcG9zYWwtaWRdJyk/LmRhdGFzZXQucHJvcG9zYWxJZDtcbiAgICBjb25zdCBzaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyk7XG4gICAgaWYgKCFwcm9wb3NhbElkIHx8ICFzaXRlU2x1ZykgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0IGJ0biA9IGUudGFyZ2V0LmNsb3Nlc3QoJ2J1dHRvbicpO1xuICAgIGJ0bi5kaXNhYmxlZCA9IHRydWU7XG4gICAgYnRuLmlubmVySFRNTCA9ICc8c3BhbiBjbGFzcz1cImFuaW1hdGUtc3BpblwiPlx1MjNGMzwvc3Bhbj4gQXBwbGljYXRpb24uLi4nO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNpdGVTbHVnKX0vYWkvYXBwbHktdGhlbWVgLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBwcm9wb3NhbElkIH0pXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIFxuICAgICAgaWYgKHJlc3BvbnNlLm9rICYmIGRhdGEuc3VjY2Vzcykge1xuICAgICAgICAvLyBSZW1wbGFjZXIgbGEgY2FyZCBwYXIgdW4gbWVzc2FnZSBkZSBzdWNjXHUwMEU4c1xuICAgICAgICBjb25zdCBwcm9wb3NhbENhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1wcm9wb3NhbC1pZD1cIiR7cHJvcG9zYWxJZH1cIl1gKTtcbiAgICAgICAgaWYgKHByb3Bvc2FsQ2FyZCkge1xuICAgICAgICAgIHByb3Bvc2FsQ2FyZC5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwidy04IGgtOCByb3VuZGVkLWZ1bGwgYmctcHVycGxlLTUwMCBmbGV4LXNocmluay0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJ3LTQgaC00IHRleHQtd2hpdGVcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgICAgICA8cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk01IDEzbDQgNEwxOSA3XCIvPlxuICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXgtMSBiZy1wdXJwbGUtNTAgYm9yZGVyIGJvcmRlci1wdXJwbGUtMjAwIHJvdW5kZWQtMnhsIHJvdW5kZWQtdGwtbm9uZSBwLTNcIj5cbiAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXNtIHRleHQtcHVycGxlLTcwMFwiPlx1MjcwNSBUaFx1MDBFOG1lIG1pcyBcdTAwRTAgam91ciBhdmVjIHN1Y2NcdTAwRThzICE8L3A+XG4gICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC14cyB0ZXh0LXB1cnBsZS02MDAgbXQtMVwiPlJlY2hhcmdleiBsYSBwcmV2aWV3IHBvdXIgdm9pciBsZXMgY2hhbmdlbWVudHMuPC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgYDtcbiAgICAgICAgfVxuICAgICAgICBzaG93VG9hc3QoJ1RoXHUwMEU4bWUgbWlzIFx1MDBFMCBqb3VyICEnKTtcbiAgICAgICAgXG4gICAgICAgIC8vIERcdTAwRTljbGVuY2hlciB1biBcdTAwRTl2XHUwMEU5bmVtZW50IHBlcnNvbm5hbGlzXHUwMEU5IHBvdXIgcmFmcmFcdTAwRUVjaGlyXG4gICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdhaS10aGVtZS11cGRhdGVkJywge1xuICAgICAgICAgIGRldGFpbDogeyB1cGRhdGVkVGhlbWU6IGRhdGEudXBkYXRlZFRoZW1lIH1cbiAgICAgICAgfSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGRhdGEubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZGUgbFxcJ2FwcGxpY2F0aW9uJyk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBidG4uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgIGJ0bi5pbm5lckhUTUwgPSBgPHN2ZyBjbGFzcz1cInctMy41IGgtMy41XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNSAxM2w0IDRMMTkgN1wiLz48L3N2Zz4gUlx1MDBFOWVzc2F5ZXJgO1xuICAgICAgc2hvd1RvYXN0KGBFcnJldXI6ICR7ZXJyLm1lc3NhZ2V9YCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFwcGxpcXVlIHVuZSBwcm9wb3NpdGlvbiBkJ1x1MDBFOWRpdGlvbiB2YWxpZFx1MDBFOWVcbiAgICovXG4gIGFzeW5jIGZ1bmN0aW9uIGhhbmRsZUFwcGx5RWRpdChlKSB7XG4gICAgY29uc3QgcHJvcG9zYWxJZCA9IGUudGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLXByb3Bvc2FsLWlkXScpPy5kYXRhc2V0LnByb3Bvc2FsSWQ7XG4gICAgY29uc3Qgc2l0ZVNsdWcgPSBzdHJpcExlYWRpbmdTbGFzaChzdG9yZWRTaXRlLnNsdWcgfHwgJycpO1xuICAgIGlmICghcHJvcG9zYWxJZCB8fCAhc2l0ZVNsdWcpIHJldHVybjtcbiAgICBcbiAgICBjb25zdCBidG4gPSBlLnRhcmdldC5jbG9zZXN0KCdidXR0b24nKTtcbiAgICBidG4uZGlzYWJsZWQgPSB0cnVlO1xuICAgIGJ0bi5pbm5lckhUTUwgPSAnPHNwYW4gY2xhc3M9XCJhbmltYXRlLXNwaW5cIj5cdTIzRjM8L3NwYW4+IEFwcGxpY2F0aW9uLi4uJztcbiAgICBcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzaXRlU2x1Zyl9L2FpL2FwcGx5LWVkaXRgLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBwcm9wb3NhbElkIH0pXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIFxuICAgICAgaWYgKHJlc3BvbnNlLm9rICYmIGRhdGEuc3VjY2Vzcykge1xuICAgICAgICAvLyBSZW1wbGFjZXIgbGEgY2FyZCBwYXIgdW4gbWVzc2FnZSBkZSBzdWNjXHUwMEU4c1xuICAgICAgICBjb25zdCBwcm9wb3NhbENhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1wcm9wb3NhbC1pZD1cIiR7cHJvcG9zYWxJZH1cIl1gKTtcbiAgICAgICAgaWYgKHByb3Bvc2FsQ2FyZCkge1xuICAgICAgICAgIHByb3Bvc2FsQ2FyZC5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwidy04IGgtOCByb3VuZGVkLWZ1bGwgYmctZW1lcmFsZC01MDAgZmxleC1zaHJpbmstMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICA8c3ZnIGNsYXNzPVwidy00IGgtNCB0ZXh0LXdoaXRlXCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNSAxM2w0IDRMMTkgN1wiLz5cbiAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4LTEgYmctZW1lcmFsZC01MCBib3JkZXIgYm9yZGVyLWVtZXJhbGQtMjAwIHJvdW5kZWQtMnhsIHJvdW5kZWQtdGwtbm9uZSBwLTNcIj5cbiAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXNtIHRleHQtZW1lcmFsZC03MDBcIj5cdTI3MDUgTW9kaWZpY2F0aW9ucyBhcHBsaXF1XHUwMEU5ZXMgYXZlYyBzdWNjXHUwMEU4cyAhPC9wPlxuICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQteHMgdGV4dC1lbWVyYWxkLTYwMCBtdC0xXCI+TGEgcHJldmlldyBzZSBtZXQgXHUwMEUwIGpvdXIgYXV0b21hdGlxdWVtZW50LjwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIGA7XG4gICAgICAgIH1cbiAgICAgICAgc2hvd1RvYXN0KCdNb2RpZmljYXRpb25zIGFwcGxpcXVcdTAwRTllcyAhJyk7XG4gICAgICAgIFxuICAgICAgICAvLyBEXHUwMEU5Y2xlbmNoZXIgdW4gXHUwMEU5dlx1MDBFOW5lbWVudCBwZXJzb25uYWxpc1x1MDBFOSBwb3VyIHJhZnJhXHUwMEVFY2hpciBsYSBwcmV2aWV3XG4gICAgICAgIGNvbnN0IHBhZ2VJZCA9IGRhdGEudXBkYXRlZFBhZ2U/LmlkIHx8IG51bGw7XG4gICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdhaS1wYWdlLXVwZGF0ZWQnLCB7XG4gICAgICAgICAgZGV0YWlsOiB7IHBhZ2VJZCwgdXBkYXRlZFBhZ2U6IGRhdGEudXBkYXRlZFBhZ2UgfVxuICAgICAgICB9KSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZGF0YS5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsXFwnYXBwbGljYXRpb24nKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGJ0bi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgYnRuLmlubmVySFRNTCA9IGA8c3ZnIGNsYXNzPVwidy0zLjUgaC0zLjVcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk01IDEzbDQgNEwxOSA3XCIvPjwvc3ZnPiBSXHUwMEU5ZXNzYXllcmA7XG4gICAgICBzaG93VG9hc3QoYEVycmV1cjogJHtlcnIubWVzc2FnZX1gKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVqZXR0ZSB1bmUgcHJvcG9zaXRpb24gZCdcdTAwRTlkaXRpb25cbiAgICovXG4gIGFzeW5jIGZ1bmN0aW9uIGhhbmRsZVJlamVjdEVkaXQoZSkge1xuICAgIGNvbnN0IHByb3Bvc2FsSWQgPSBlLnRhcmdldC5jbG9zZXN0KCdbZGF0YS1wcm9wb3NhbC1pZF0nKT8uZGF0YXNldC5wcm9wb3NhbElkO1xuICAgIGNvbnN0IHNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goc3RvcmVkU2l0ZS5zbHVnIHx8ICcnKTtcbiAgICBpZiAoIXByb3Bvc2FsSWQgfHwgIXNpdGVTbHVnKSByZXR1cm47XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IGZldGNoKGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNpdGVTbHVnKX0vYWkvcHJvcG9zYWwvJHtwcm9wb3NhbElkfWAsIHtcbiAgICAgICAgbWV0aG9kOiAnREVMRVRFJ1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIC8vIFJlbXBsYWNlciBsYSBjYXJkIHBhciB1biBtZXNzYWdlIGRlIHJlamV0XG4gICAgICBjb25zdCBwcm9wb3NhbENhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1wcm9wb3NhbC1pZD1cIiR7cHJvcG9zYWxJZH1cIl1gKTtcbiAgICAgIGlmIChwcm9wb3NhbENhcmQpIHtcbiAgICAgICAgcHJvcG9zYWxDYXJkLmlubmVySFRNTCA9IGBcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwidy04IGgtOCByb3VuZGVkLWZ1bGwgYmctc2xhdGUtNDAwIGZsZXgtc2hyaW5rLTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJ3LTQgaC00IHRleHQtd2hpdGVcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNiAxOEwxOCA2TTYgNmwxMiAxMlwiLz5cbiAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4LTEgYmctc2xhdGUtMTAwIHJvdW5kZWQtMnhsIHJvdW5kZWQtdGwtbm9uZSBwLTNcIj5cbiAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1zbSB0ZXh0LXNsYXRlLTUwMFwiPlByb3Bvc2l0aW9uIHJlamV0XHUwMEU5ZS48L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIGA7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdbQUldIFJlamVjdCBlZGl0IGVycm9yOicsIGVycik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEVmZmFjZSBsJ2hpc3RvcmlxdWUgZHUgY2hhdFxuICAgKi9cbiAgYXN5bmMgZnVuY3Rpb24gY2xlYXJBSUhpc3RvcnkoKSB7XG4gICAgY29uc3Qgc2l0ZVNsdWcgPSBzdHJpcExlYWRpbmdTbGFzaChzdG9yZWRTaXRlLnNsdWcgfHwgJycpO1xuICAgIGlmICghc2l0ZVNsdWcgfHwgIWFpQ2hhdE1lc3NhZ2VzKSByZXR1cm47XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IGZldGNoKGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNpdGVTbHVnKX0vYWkvaGlzdG9yeWAsIHsgbWV0aG9kOiAnREVMRVRFJyB9KTtcbiAgICAgIFxuICAgICAgLy8gVmlkZXIgbGVzIG1lc3NhZ2VzXG4gICAgICBhaUNoYXRNZXNzYWdlcy5pbm5lckhUTUwgPSAnJztcbiAgICAgIFxuICAgICAgLy8gUlx1MDBFOWFmZmljaGVyIGxlIG1lc3NhZ2UgZGUgYmllbnZlbnVlXG4gICAgICBhaUNoYXRNZXNzYWdlcy5pbm5lckhUTUwgPSBgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGdhcC0zXCIgZGF0YS1haS13ZWxjb21lPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ3LTggaC04IHJvdW5kZWQtZnVsbCBiZy1ncmFkaWVudC10by1iciBmcm9tLXZpb2xldC01MDAgdG8taW5kaWdvLTYwMCBmbGV4LXNocmluay0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICA8c3ZnIGNsYXNzPVwidy00IGgtNCB0ZXh0LXdoaXRlXCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICAgIDxwYXRoIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTkuNjYzIDE3aDQuNjczTTEyIDN2MW02LjM2NCAxLjYzNmwtLjcwNy43MDdNMjEgMTJoLTFNNCAxMkgzbTMuMzQzLTUuNjU3bC0uNzA3LS43MDdtMi44MjggOS45YTUgNSAwIDExNy4wNzIgMGwtLjU0OC41NDdBMy4zNzQgMy4zNzQgMCAwMDE0IDE4LjQ2OVYxOWEyIDIgMCAxMS00IDB2LS41MzFjMC0uODk1LS4zNTYtMS43NTQtLjk4OC0yLjM4NmwtLjU0OC0uNTQ3elwiLz5cbiAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4LTEgYmctc2xhdGUtNTAgcm91bmRlZC0yeGwgcm91bmRlZC10bC1ub25lIHAtM1wiPlxuICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXNtIHRleHQtc2xhdGUtNzAwXCI+XG4gICAgICAgICAgICAgIFNhbHV0ICEgXHVEODNEXHVEQzRCIEplIHN1aXMgdG9uIGFzc2lzdGFudCBJQSBwb3VyIGNlIHNpdGUuIEplIHBldXggdCdhaWRlciBcdTAwRTAgOlxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPHVsIGNsYXNzPVwibXQtMiB0ZXh0LXNtIHRleHQtc2xhdGUtNjAwIHNwYWNlLXktMVwiPlxuICAgICAgICAgICAgICA8bGk+XHVEODNDXHVERkE4IFN1Z2dcdTAwRTlyZXIgZGVzIHBhbGV0dGVzIGRlIGNvdWxldXJzPC9saT5cbiAgICAgICAgICAgICAgPGxpPlx1MjcwRFx1RkUwRiBHXHUwMEU5blx1MDBFOXJlciBkdSBjb250ZW51IHBvdXIgdGVzIGJsb2NzPC9saT5cbiAgICAgICAgICAgICAgPGxpPlx1RDgzRFx1RENDNCBDclx1MDBFOWVyIGRlcyBzdHJ1Y3R1cmVzIGRlIHBhZ2VzPC9saT5cbiAgICAgICAgICAgICAgPGxpPlx1RDgzRFx1REQwRCBBbVx1MDBFOWxpb3JlciB0b24gU0VPPC9saT5cbiAgICAgICAgICAgICAgPGxpPlx1MjcwRlx1RkUwRiA8c3Ryb25nPkFuYWx5c2VyIGV0IG1vZGlmaWVyIHRlcyBwYWdlczwvc3Ryb25nPiAoYXZlYyB2YWxpZGF0aW9uKTwvbGk+XG4gICAgICAgICAgICA8L3VsPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIGA7XG4gICAgICBcbiAgICAgIHNob3dUb2FzdCgnSGlzdG9yaXF1ZSBlZmZhY1x1MDBFOScpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignW0FJXSBDbGVhciBoaXN0b3J5IGZhaWxlZDonLCBlcnIpO1xuICAgICAgc2hvd1RvYXN0KCdFcnJldXIgbG9ycyBkZSBsXFwnZWZmYWNlbWVudCcpO1xuICAgIH1cbiAgfVxuXG4gIC8vIFByb21wdHMgcmFwaWRlc1xuICBjb25zdCBxdWlja1Byb21wdHMgPSB7XG4gICAgY29sb3JzOiAnU3VnZ1x1MDBFOHJlLW1vaSAzIHBhbGV0dGVzIGRlIGNvdWxldXJzIGhhcm1vbmlldXNlcyBwb3VyIG1vbiBzaXRlLiBQb3VyIGNoYXF1ZSBwYWxldHRlLCBkb25uZSBsZXMgY291bGV1cnMgVGFpbHdpbmQ6IHByaW1hcnksIHNlY29uZGFyeSwgYWNjZW50LCBldCBiYWNrZ3JvdW5kLicsXG4gICAgaGVybzogJ0dcdTAwRTluXHUwMEU4cmUgdW4gYmxvYyBIZXJvIGVuIEpTT04gYXZlYyB1biB0aXRyZSBhY2Nyb2NoZXVyLCB1biBzb3VzLXRpdHJlIGVuZ2FnZWFudCBldCB1biBDVEEuJyxcbiAgICBzZW86ICdBbmFseXNlIG1vbiBzaXRlIGV0IHN1Z2dcdTAwRThyZSBkZXMgYW1cdTAwRTlsaW9yYXRpb25zIFNFTyBwb3VyIGxlIG1ldGEgdGl0bGUgZXQgbGEgbWV0YSBkZXNjcmlwdGlvbiBkZSBtYSBwYWdlIGRcXCdhY2N1ZWlsLicsXG4gICAgbGFuZGluZzogJ0dcdTAwRTluXHUwMEU4cmUgbGEgc3RydWN0dXJlIEpTT04gZFxcJ3VuZSBsYW5kaW5nIHBhZ2UgY29tcGxcdTAwRTh0ZSBhdmVjOiBIZXJvLCAzIHNlY3Rpb25zIGRlIGNvbnRlbnUsIGV0IHVuIENUQSBmaW5hbC4nLFxuICAgIGFuYWx5emU6ICdBbmFseXNlIGxlIGNvbnRlbnUgZGUgdG91dGVzIG1lcyBwYWdlcyBldCBwcm9wb3NlIGRlcyBhbVx1MDBFOWxpb3JhdGlvbnMgY29uY3JcdTAwRTh0ZXMuIFBvdXIgY2hhcXVlIHN1Z2dlc3Rpb24gZFxcJ2FtXHUwMEU5bGlvcmF0aW9uIGRlIHRleHRlIG91IGRlIHN0cnVjdHVyZSwgdXRpbGlzZSBsZSBmb3JtYXQgcHJvcG9zZS1lZGl0IHBvdXIgcXVlIGplIHB1aXNzZSB2YWxpZGVyLicsXG4gICAgaW1wcm92ZUhvbWU6ICdBbmFseXNlIG1hIHBhZ2UgZFxcJ2FjY3VlaWwgZXQgcHJvcG9zZSB1bmUgYW1cdTAwRTlsaW9yYXRpb24gZHUgdGl0cmUgb3UgZHUgSGVybyBwb3VyIGxlIHJlbmRyZSBwbHVzIGltcGFjdGFudC4gVXRpbGlzZSBsZSBmb3JtYXQgcHJvcG9zZS1lZGl0LidcbiAgfTtcblxuICAvLyBFdmVudCBsaXN0ZW5lcnNcbiAgYWlDaGF0VG9nZ2xlPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBpZiAoYWlDaGF0T3Blbikge1xuICAgICAgY2xvc2VBSUNoYXQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3BlbkFJQ2hhdCgpO1xuICAgIH1cbiAgfSk7XG5cbiAgYWlDaGF0Q2xvc2U/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VBSUNoYXQpO1xuICBhaUNoYXRPdmVybGF5Py5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlQUlDaGF0KTtcblxuICBhaUNoYXRDbGVhcj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgaWYgKGNvbmZpcm0oJ0VmZmFjZXIgdG91dCBsXFwnaGlzdG9yaXF1ZSBkZSBjb252ZXJzYXRpb24gPycpKSB7XG4gICAgICBjbGVhckFJSGlzdG9yeSgpO1xuICAgIH1cbiAgfSk7XG5cbiAgYWlDaGF0Rm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgbWVzc2FnZSA9IGFpQ2hhdElucHV0Py52YWx1ZT8udHJpbSgpO1xuICAgIGlmIChtZXNzYWdlKSB7XG4gICAgICBhaUNoYXRJbnB1dC52YWx1ZSA9ICcnO1xuICAgICAgc2VuZEFJTWVzc2FnZShtZXNzYWdlKTtcbiAgICB9XG4gIH0pO1xuXG4gIGFpUXVpY2tCdXR0b25zLmZvckVhY2goYnRuID0+IHtcbiAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBhY3Rpb24gPSBidG4uZGF0YXNldC5haVF1aWNrO1xuICAgICAgY29uc3QgcHJvbXB0ID0gcXVpY2tQcm9tcHRzW2FjdGlvbl07XG4gICAgICBpZiAocHJvbXB0KSB7XG4gICAgICAgIHNlbmRBSU1lc3NhZ2UocHJvbXB0KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gRmVybWVyIGF2ZWMgRXNjYXBlXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZSkgPT4ge1xuICAgIGlmIChlLmtleSA9PT0gJ0VzY2FwZScgJiYgYWlDaGF0T3Blbikge1xuICAgICAgY2xvc2VBSUNoYXQoKTtcbiAgICB9XG4gIH0pO1xufSk7XG4iXSwKICAibWFwcGluZ3MiOiAiTUFBQSxTQUFTLGlCQUFpQixtQkFBb0IsSUFBTSxDQUFwRCxJQUFBQSxHQUNFLFFBQVEsSUFBSSwyQkFBd0IsRUFDcEMsSUFBTUMsR0FBZSxTQUFTLGNBQWMsZUFBZSxFQUN2REEsSUFDRkEsR0FBYSxpQkFBaUIsUUFBUyxTQUFZLENBQ2pEQSxHQUFhLFNBQVcsR0FDeEIsR0FBSSxDQUNGLE1BQU0sTUFBTSxjQUFlLENBQ3pCLE9BQVEsT0FDUixRQUFTLENBQ1AsZUFBZ0Isa0JBQ2xCLENBQ0YsQ0FBQyxDQUNILE9BQVNDLEVBQUssQ0FDWixRQUFRLE1BQU0sMENBQXdDQSxDQUFHLENBQzNELFFBQUUsQ0FDQSxPQUFPLFNBQVMsS0FBTyxtQkFDekIsQ0FDRixDQUFD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ZWJhciIsICJzaWRlYmFyT3ZlcmxheSIsICJzaWRlYmFyVG9nZ2xlcyIsICJzaWRlYmFyQ2xvc2VCdXR0b25zIiwgImJvZHkiLCAic2lkZWJhck9wZW4iLCAiYXBwbHlTaWRlYmFyU3RhdGUiLCAib3BlblNpZGViYXIiLCAiY2xvc2VTaWRlYmFyIiwgImJ1dHRvbiIsICJldmVudCIsICJBQ1RJVkVfU0lURV9LRVkiLCAiQUNUSVZFX1NJVEVfTkFNRV9LRVkiLCAic3RvcmVkU2l0ZSIsICJyYXdTbHVnIiwgImVuc3VyZUxlYWRpbmdTbGFzaCIsICJzdHJpcExlYWRpbmdTbGFzaCIsICJzaXRlQ2FyZHMiLCAic2l0ZVNlbGVjdEJ1dHRvbnMiLCAic2l0ZU5hbWVMYWJlbCIsICJ3b3Jrc3BhY2VTaXRlTGFiZWwiLCAid29ya3NwYWNlQmFja05hbWUiLCAid29ya3NwYWNlQmFja01vZGFsIiwgIndvcmtzcGFjZUJhY2tCdXR0b25zIiwgIndvcmtzcGFjZUJhY2tDYW5jZWwiLCAid29ya3NwYWNlQmFja0NvbmZpcm0iLCAid29ya3NwYWNlTmF2TGlua3MiLCAic2l0ZVRvYXN0IiwgInNpdGVUb2FzdE1lc3NhZ2UiLCAic2l0ZUNyZWF0ZUJ1dHRvbnMiLCAic2l0ZU1vZGFsIiwgInNpdGVGb3JtIiwgInNpdGVOYW1lSW5wdXQiLCAic2l0ZVNsdWdJbnB1dCIsICJzaXRlU2x1Z0Vycm9yIiwgInNpdGVNb2RhbEVycm9yIiwgInNpdGVNb2RhbENhbmNlbEJ1dHRvbnMiLCAic2l0ZU1vZGFsU3VibWl0QnV0dG9uIiwgIndvcmtzcGFjZUNvbnRleHQiLCAiZ2V0V29ya3NwYWNlQ29udGV4dCIsICJzbHVnTWFudWFsbHlFZGl0ZWQiLCAidG9hc3RUaW1lb3V0SWQiLCAiZm9jdXNhYmxlU2VsZWN0b3IiLCAibW9kYWxTdGFjayIsICJnZXRGb2N1c2FibGVFbGVtZW50cyIsICJtb2RhbCIsICJlbCIsICJoYW5kbGVNb2RhbEtleWRvd24iLCAiY3VycmVudEVudHJ5IiwgIm9uQ2xvc2UiLCAiZm9jdXNhYmxlRWxlbWVudHMiLCAiZmlyc3QiLCAibGFzdCIsICJhY3RpdmF0ZU1vZGFsIiwgImZvY3VzYWJsZSIsICJfYiIsICJkZWFjdGl2YXRlTW9kYWwiLCAiaW5kZXgiLCAiZW50cnkiLCAibW9iaWxlUGFuZWxPdmVybGF5IiwgIm1vYmlsZVBhbmVsTGF5ZXIiLCAibW9iaWxlUGFuZWxzIiwgIm1vYmlsZVBhbmVsTGF5ZXJQbGFjZWhvbGRlciIsICJyaWdodFBhbmVsUGxhY2Vob2xkZXIiLCAibW9iaWxlUGFuZWxUb2dnbGVzIiwgIm1vYmlsZVBhbmVsQ2xvc2VCdXR0b25zIiwgIm1vYmlsZVBhbmVsVHJpZ2dlcnMiLCAiYWN0aXZlTW9iaWxlUGFuZWwiLCAiaXNEZXNrdG9wVmlld3BvcnQiLCAiZW5zdXJlTW9iaWxlUGFuZWxMYXllclBsYWNlbWVudCIsICJ0YXJnZXRQYXJlbnQiLCAiZW5zdXJlUmlnaHRQYW5lbFBsYWNlbWVudCIsICJwYW5lbCIsICJsZWZ0UGFuZWwiLCAiZW5zdXJlTW9iaWxlUGFuZWxQbGFjZW1lbnQiLCAicGFuZWxEZWZhdWx0WiIsICJzaWRlIiwgImNvbXB1dGVkWiIsICJhY3RpdmVQYW5lbFoiLCAibWF4IiwgInZhbHVlIiwgInNldFBhbmVsWlN0YXRlIiwgImlzQWN0aXZlIiwgImFwcGx5UGFuZWxDbGFzc2VzIiwgImNsYXNzZXMiLCAibWV0aG9kIiwgImNscyIsICJzZXRQYW5lbEhpZGRlblN0YXRlIiwgImhpZGRlbiIsICJoaWRkZW5DbGFzc2VzIiwgInZpc2libGVDbGFzc2VzIiwgImNsb3NlTW9iaWxlUGFuZWwiLCAidHJpZ2dlciIsICJvcGVuTW9iaWxlUGFuZWwiLCAiZm9jdXNUYXJnZXQiLCAic3luY01vYmlsZVBhbmVsc1dpdGhWaWV3cG9ydCIsICJzaG93VG9hc3QiLCAibWVzc2FnZSIsICJzbHVnIiwgInRyaW1tZWQiLCAid2l0aG91dExlYWRpbmciLCAicGVyc2lzdFNpdGVTdGF0ZSIsICJuYW1lIiwgIm5vcm1hbGl6ZWRTbHVnIiwgInVwZGF0ZVNpdGVMYWJlbHMiLCAidXBkYXRlV29ya3NwYWNlTmF2TGlua3MiLCAibGluayIsICJ0YWIiLCAic2x1Z1BhdGgiLCAiYXBwbHlBY3RpdmVTaXRlIiwgIm9wdGlvbnMiLCAiYWN0aXZlU2l0ZU5hbWUiLCAiY2FyZCIsICJiYWRnZSIsICJmaW5hbE5hbWUiLCAic2VsZWN0U2l0ZSIsICJyZXNwb25zZSIsICJwYXlsb2FkIiwgImZpbmFsU2x1ZyIsICJzeW5jQWN0aXZlU2l0ZUZyb21TZXJ2ZXIiLCAic2l0ZSIsICJkZWZhdWx0Q2FyZCIsICJ3b3Jrc3BhY2VTbHVnaWZ5IiwgIm5vcm1hbGl6ZVNsdWdWYWx1ZSIsICJiYXNlIiwgIm9wZW5TaXRlTW9kYWwiLCAiY2xvc2VTaXRlTW9kYWwiLCAic2x1Z1ZhbCIsICJuYW1lVmFsIiwgImdldFNsdWdTZXQiLCAibmFtZVZhbHVlIiwgInNsdWdWYWx1ZSIsICJjcmVhdGVkU2l0ZSIsICJjbG9zZVdvcmtzcGFjZUJhY2tNb2RhbCIsICJtYXRjaCIsICJkZXRlY3RXb3Jrc3BhY2VTZWN0aW9uIiwgIm9wZW5Xb3Jrc3BhY2VCYWNrTW9kYWwiLCAiVFJBTlNQQVJFTlRfUEFUVEVSTiIsICJwYXJzZUNzc0NvbG9yVG9SZ2IiLCAibm9ybWFsaXplZCIsICJyZ2JNYXRjaCIsICJoZXhNYXRjaCIsICJoZXgiLCAibm9ybWFsaXplZEhleCIsICJjIiwgInIiLCAiZyIsICJiIiwgImdldFJlYWRhYmxlVGV4dENvbG9yIiwgImJhY2tncm91bmRDb2xvciIsICJyZ2IiLCAic3R5bGVTZWxlY3RPcHRpb25zIiwgInNlbGVjdCIsICJvcHRpb24iLCAib3B0aW9uQ29sb3IiLCAiYWN0aXZlU2VjdGlvbiIsICJpbml0RGVzaWduV29ya3NwYWNlIiwgImluaXRDb250ZW50V29ya3NwYWNlIiwgImluaXRNZWRpYVdvcmtzcGFjZSIsICJpbml0RGVwbG95V29ya3NwYWNlIiwgImluaXRTZXR0aW5nc1dvcmtzcGFjZSIsICJwYWdlTGlzdHMiLCAiYWN0aXZlVGl0bGUiLCAiYWN0aXZlU2x1ZyIsICJwcmV2aWV3VGFncyIsICJwcmV2aWV3RnJhbWUiLCAicHJldmlld0ZyYW1lV3JhcHBlciIsICJwcmV2aWV3U2hlbGwiLCAicHJldmlld1ZpZXdCdXR0b25zIiwgInByZXZpZXdDdXJyZW50Vmlld0xhYmVsIiwgInByZXZpZXdPcGVuQnV0dG9uIiwgInByZXZpZXdTdGF0dXMiLCAicHJldmlld0hpZ2hsaWdodE92ZXJsYXkiLCAic2VvVG9nZ2xlQnV0dG9uIiwgInNlb1BhbmVsIiwgInNlb0Nsb3NlQnV0dG9uIiwgInNlb0Zvcm0iLCAic2VvVGl0bGVJbnB1dCIsICJzZW9EZXNjcmlwdGlvbklucHV0IiwgInNlb0luZGV4ZWRDaGVja2JveCIsICJzZW9GZWVkYmFjayIsICJzZW9TYXZlQnV0dG9uIiwgInBhZ2VBY2Nlc3NpYmlsaXR5VG9nZ2xlQnV0dG9uIiwgInBhZ2VBY2Nlc3NpYmlsaXR5UGFuZWwiLCAicGFnZUFjY2Vzc2liaWxpdHlDbG9zZUJ1dHRvbiIsICJwYWdlQWNjZXNzaWJpbGl0eUZvcm0iLCAicGFnZUFjY2Vzc2liaWxpdHlOYXZDaGVja2JveCIsICJwYWdlQWNjZXNzaWJpbGl0eU1haW5JbnB1dCIsICJwYWdlQWNjZXNzaWJpbGl0eUZlZWRiYWNrIiwgInBhZ2VBY2Nlc3NpYmlsaXR5U2F2ZUJ1dHRvbiIsICJwYWdlUHJvcHNUb2dnbGVCdXR0b24iLCAicGFnZVByb3BzUGFuZWwiLCAicGFnZVByb3BzQ2xvc2VCdXR0b24iLCAicGFnZVByb3BzRm9ybSIsICJwYWdlTmFtZUlucHV0IiwgInBhZ2VUaXRsZUlucHV0IiwgInBhZ2VQYXJlbnRTZWxlY3QiLCAicGFnZVNsdWdTZWdtZW50SW5wdXQiLCAicGFnZVNsdWdJbnB1dCIsICJwYWdlRGVzY3JpcHRpb25JbnB1dCIsICJwYWdlUHJvcHNGZWVkYmFjayIsICJwYWdlUHJvcHNTYXZlQnV0dG9uIiwgImJsb2NrTGlzdCIsICJibG9ja0xpc3RFbXB0eSIsICJibG9ja0NvdW50QmFkZ2UiLCAiYmxvY2tMaWJyYXJ5VG9nZ2xlIiwgImJsb2NrTGlicmFyeSIsICJibG9ja0FkZEJ1dHRvbnMiLCAiYmxvY2tEZWxldGVNb2RhbCIsICJibG9ja0RlbGV0ZUNvbmZpcm0iLCAiYmxvY2tEZWxldGVDYW5jZWwiLCAiYmxvY2tEZXRhaWxFbXB0eSIsICJibG9ja0RldGFpbFN0YXR1cyIsICJibG9ja0VkaXRvciIsICJibG9ja0VkaXRvclRpdGxlIiwgImJsb2NrRWRpdG9yVHlwZSIsICJibG9ja0VkaXRvclVuc3VwcG9ydGVkIiwgImJsb2NrRm9ybSIsICJzdHlsZUNvbG9yQ2hpcCIsICJjaGlwIiwgImNvbG9yIiwgImVuc3VyZUN1c3RvbVRoZW1lT3B0aW9uIiwgIm9wdCIsICJ1cGRhdGVDb2xvclNlbGVjdFByZXZpZXciLCAiX2MiLCAic2VsZWN0ZWRPcHRpb24iLCAiY29sb3JQcmV2aWV3IiwgImNvbG9yQ2hpcCIsICJ0aGVtZUNvbG9yU2VsZWN0cyIsICJpc0JhY2tncm91bmRUaGVtZVNlbGVjdCIsICJ0aGVtZUNvbG9yUHJlc2V0cyIsICJnZXRDb21wdXRlZFRoZW1lQ29sb3JWYWx1ZSIsICJjc3NWYXIiLCAiZmFsbGJhY2siLCAiY29tcHV0ZWQiLCAiZmlsbFRoZW1lQ29sb3JTZWxlY3QiLCAibGFiZWwiLCAiY29sb3JWYWx1ZSIsICJyZWZyZXNoVGhlbWVDb2xvclNlbGVjdHMiLCAiYmxvY2tGb3JtU2VjdGlvbnMiLCAiZ2V0QmxvY2tFZGl0b3JTZWN0aW9uRWxlbWVudCIsICJjb25maWciLCAiYmxvY2tUYWJzIiwgImFjdGl2ZUJsb2NrVGFiIiwgImxlZnRQYW5lbFRhYnMiLCAibGVmdFBhbmVsQmxvY2tzIiwgImxlZnRQYW5lbFBhZ2VzIiwgImFjdGl2ZUxlZnRUYWIiLCAic3dpdGNoTGVmdFRhYiIsICJ0YWJOYW1lIiwgImJsb2NrRm9ybUFjdGlvbnMiLCAiYmxvY2tGb3JtQXV0b3NhdmUiLCAic3dpdGNoQmxvY2tUYWIiLCAiY29sbGVjdGlvblNlbGVjdCIsICJjb2xsZWN0aW9uU2VsZWN0aW9uSW5mbyIsICJjb2xsZWN0aW9uQ2FyZEl0ZW1TZWxlY3QiLCAiY29sbGVjdGlvbkNhcmRSZXNldEJ1dHRvbiIsICJjb2xsZWN0aW9uQ2FyZE92ZXJyaWRlRmllbGRzIiwgImJsb2NrRm9ybUNhbmNlbCIsICJncm91cFByZXZpZXdNb2JpbGUiLCAiZ3JvdXBQcmV2aWV3RGVza3RvcCIsICJjb2xsZWN0aW9uUHJldmlld01vYmlsZSIsICJjb2xsZWN0aW9uUHJldmlld0Rlc2t0b3AiLCAiYmxvY2tUeXBlRm9ybXMiLCAiYmxvY2tUeXBlQWxpYXNlcyIsICJhbmltYXRpb25GaWVsZE1hcCIsICJ1cGRhdGVHcm91cE1pbmlQcmV2aWV3IiwgIm1vYmlsZVZhbHVlIiwgImRlc2t0b3BWYWx1ZSIsICJyZW5kZXJCb3hlcyIsICJjb3VudCIsICJ1cGRhdGVDb2xsZWN0aW9uTWluaVByZXZpZXciLCAiZmV0Y2hQYWdlc0Zyb21TZXJ2ZXIiLCAicGFnZXNBcGlCYXNlIiwgImNyZWF0ZVBhZ2VPblNlcnZlciIsICJ0aXRsZSIsICJzYXZlUGFnZVRvU2VydmVyIiwgInBhZ2UiLCAic2F2ZWQiLCAibm9ybWFsaXplUGFnZURhdGEiLCAicGFnZXMiLCAiY3VycmVudFBhZ2UiLCAibG9hZFBhZ2VzRnJvbVNlcnZlciIsICJhY3RpdmVQYWdlSWQiLCAicmVuZGVyUGFnZUxpc3RzIiwgInJlbmRlckJsb2NrTGlzdCIsICJsb2FkZWRQYWdlcyIsICJnZXRMb2FkaW5nUHJldmlld0h0bWwiLCAiZ2V0U3RvcmVkQWN0aXZlUGFnZSIsICJzZXRBY3RpdmVQYWdlIiwgIm5vcm1hbGl6ZVR5cGUiLCAiZ2V0QmxvY2tGb3JtQ29uZmlnIiwgImJsb2NrIiwgInR5cGVLZXkiLCAiYWxpYXMiLCAicG9wdWxhdGVCbG9ja0Zvcm0iLCAiX2QiLCAiX2UiLCAiX2YiLCAiX2ciLCAic2VjdGlvblJvb3QiLCAic2VjdGlvbiIsICJkZXNpcmVkVmFsdWUiLCAidXBkYXRlQ29sbGVjdGlvblNlbGVjdE9wdGlvbnMiLCAiZW5zdXJlQ29sbGVjdGlvbkNhcmRFZGl0b3JSZWFkeSIsICJzZXR0aW5nS2V5IiwgImZpZWxkTmFtZSIsICJpbnB1dCIsICJiZ0ZpZWxkTmFtZSIsICJiZ1NlbGVjdCIsICJjb2xsZWN0Rm9ybVZhbHVlcyIsICJ2YWx1ZXMiLCAicGFyc2VkIiwgInVwZGF0ZVByZXZpZXdTdGF0dXMiLCAidGV4dCIsICJzZXJpYWxpemVQYWdlRm9yUHJldmlldyIsICJzZXJpYWxpemVCbG9jayIsICJkZWJvdW5jZSIsICJmbiIsICJkZWxheSIsICJ0aW1lb3V0SWQiLCAiYXJncyIsICJhdXRvU2F2ZUFwcGVhcmFuY2UiLCAiYWN0aXZlQmxvY2tJZCIsICJnZXRBY3RpdmVCbG9jayIsICJ1cGRhdGVkQmxvY2tzIiwgImRpZFVwZGF0ZSIsICJmb3VuZFBhcmVudElkIiwgInVwZGF0ZUJsb2Nrc0RlZXAiLCAidXBkYXRlZFNldHRpbmdzIiwgImFjdGl2ZUJsb2NrUGFyZW50SWQiLCAibmV4dFBhZ2UiLCAicCIsICJ1cGRhdGVQcmV2aWV3QmxvY2tMaXZlIiwgImJsb2NrSWQiLCAic2V0dGluZ3MiLCAiZGVib3VuY2VkUmVmcmVzaFByZXZpZXciLCAicmVmcmVzaFByZXZpZXciLCAiaGFuZGxlQXBwZWFyYW5jZUNoYW5nZSIsICJwcmV2aWV3U2l0ZVNsdWciLCAic2VyaWFsaXplZFBhZ2VzIiwgInByZXZpZXdSZWFkeSIsICJwcmV2aWV3UmVxdWVzdENvbnRyb2xsZXIiLCAiY29udHJvbGxlciIsICJkYXRhIiwgIm1zZyIsICJsYXRlc3RQcmV2aWV3SHRtbCIsICJlcnJvciIsICJoYW5kbGVCbG9ja0Zvcm1TdWJtaXQiLCAiYWx0VmFsdWUiLCAidXBkYXRlZEJsb2NrIiwgInVwZGF0ZUN1cnJlbnRQYWdlQmxvY2tzIiwgImRyYXdlciIsICJkcmF3ZXJCYWNrZHJvcCIsICJkcmF3ZXJPcGVuQnV0dG9ucyIsICJkcmF3ZXJDbG9zZUJ1dHRvbnMiLCAiYWRkUGFnZVRvZ2dsZSIsICJhZGRQYWdlRm9ybSIsICJhZGRQYWdlTmFtZSIsICJhZGRQYWdlVGl0bGUiLCAiYWRkUGFnZVNsdWciLCAiYWRkUGFnZUNhbmNlbCIsICJhZGRQYWdlRXJyb3IiLCAiYWRkUGFnZVN1Ym1pdEJ1dHRvbiIsICJpbXBvcnRUb2dnbGUiLCAiaW1wb3J0TW9kYWwiLCAiaW1wb3J0Q2xvc2VCdXR0b25zIiwgImltcG9ydERyb3B6b25lIiwgImltcG9ydEZpbGVJbnB1dCIsICJpbXBvcnRGaWxlTGlzdCIsICJpbXBvcnRGaWxlTmFtZXMiLCAiaW1wb3J0UmVzdWx0cyIsICJpbXBvcnRSZXN1bHRzQ29udGVudCIsICJpbXBvcnRTdWJtaXQiLCAiaW1wb3J0VGFicyIsICJpbXBvcnRQYW5lbHMiLCAiY29weVByb21wdEJ0biIsICJjb3B5VGVtcGxhdGVCdG4iLCAidGVtcGxhdGVKc29uIiwgImltcG9ydEFpUHJvbXB0IiwgImltcG9ydFBhc3RlSW5wdXQiLCAicGFzdGVGb3JtYXRCdG4iLCAicGFzdGVFcnJvciIsICJpbXBvcnRTZWxlY3RlZEZpbGVzIiwgImFjdGl2ZUltcG9ydFRhYiIsICJkZWxldGVQYWdlTW9kYWwiLCAiZGVsZXRlUGFnZU5hbWUiLCAiZGVsZXRlUGFnZUNhbmNlbCIsICJkZWxldGVQYWdlQ29uZmlybSIsICJwYWdlVG9EZWxldGUiLCAic2l0ZUtleSIsICJzaXRlU2x1Z1ZhbHVlIiwgInNhZmVTaXRlU2x1ZyIsICJjb2xsZWN0aW9uc0FwaUJhc2UiLCAic3RvcmFnZUtleXMiLCAiY3JlYXRlQmxvY2siLCAiaWQiLCAidHlwZSIsICJzdGF0dXMiLCAiZGVzY3JpcHRpb24iLCAicHJvcHMiLCAiYmxvY2tMaWJyYXJ5RGVmaW5pdGlvbnMiLCAicGVyc2lzdEFjdGl2ZVBhZ2UiLCAicGFnZUlkIiwgInN0b3JlZCIsICJmb3JtYXRCbG9ja0NvdW50IiwgIm5vcm1hbGl6ZVBhZ2VTbHVnIiwgInJhdyIsICJwYXJ0cyIsICJwYXJ0IiwgImdlbmVyYXRlQmxvY2tJZCIsICJrZXkiLCAiY3JlYXRlSW5pdGlhbEJsb2NrcyIsICJzZXRBY3RpdmVMYWJlbHMiLCAicmVuZGVyUHJldmlld01ldGEiLCAidGFnIiwgImdldFN0YXR1c0JhZGdlQ2xhc3NlcyIsICJyZW5kZXJCbG9ja0RldGFpbHMiLCAicmVhZEFjY2VudENvbG9yIiwgImFwcGx5UHJldmlld0hpZ2hsaWdodCIsICJkb2MiLCAibm9kZSIsICJhY2NlbnQiLCAicHJldmlld1ZpZXdQcmVzZXRzIiwgInNldFByZXZpZXdWaWV3IiwgInZpZXciLCAidGFyZ2V0IiwgInN0eWxlcyIsICJjcmVhdGVCbG9ja0l0ZW1FbGVtZW50IiwgImlzTmVzdGVkIiwgInBhcmVudElkIiwgImJsb2NrVHlwZSIsICJpc0dyb3VwIiwgIml0ZW0iLCAiY29udGVudCIsICJoYW5kbGUiLCAidGV4dFdyYXBwZXIiLCAibWV0YSIsICJ0eXBlQmFkZ2UiLCAic3RhdHVzQmFkZ2UiLCAiY2hpbGRDb3VudCIsICJjaGlsZEJhZGdlIiwgImRpc3BsYXlMYWJlbCIsICJjb2xsZWN0aW9uTmFtZSIsICJkZXNpZ25Db2xsZWN0aW9ucyIsICJpbmZvIiwgImFjdGlvbnMiLCAibW92ZUJ1dHRvbnMiLCAibW92ZVVwIiwgIm1vdmVDaGlsZEJsb2NrQnlPZmZzZXQiLCAibW92ZUJsb2NrQnlPZmZzZXQiLCAibW92ZURvd24iLCAiZGVsZXRlQnV0dG9uIiwgInJlbW92ZUNoaWxkRnJvbUdyb3VwIiwgIm9wZW5CbG9ja0RlbGV0ZU1vZGFsIiwgInNldEFjdGl2ZUJsb2NrIiwgImNyZWF0ZUdyb3VwRHJvcFpvbmUiLCAicGFyZW50QmxvY2siLCAiZHJvcFpvbmUiLCAiZSIsICJtb3ZlQmxvY2tUb0dyb3VwIiwgIm9wZW5BZGRCbG9ja1RvR3JvdXBNb2RhbCIsICJibG9ja3MiLCAiY2hpbGQiLCAiY2hpbGRJdGVtIiwgImZpbmRDaGlsZExvY2F0aW9uIiwgImNoaWxkSWQiLCAiZ3JvdXBJbmRleCIsICJncm91cEJsb2NrIiwgImdyb3VwVHlwZSIsICJjaGlsZEluZGV4IiwgImV4dHJhY3RCbG9ja0J5SWQiLCAicm9vdEluZGV4IiwgImNoaWxkTG9jIiwgImluc2VydEJsb2NrSW50b1Jvb3QiLCAic2FmZUluZGV4IiwgImluc2VydEJsb2NrSW50b0dyb3VwIiwgImdyb3VwSWQiLCAiZ2V0SW5zZXJ0SW5kZXhGcm9tUG9zaXRpb24iLCAiYmFzZUluZGV4IiwgInBvc2l0aW9uIiwgIm9mZnNldFdoZW5BZnRlciIsICJjb21taXRCbG9ja3NDaGFuZ2UiLCAiYWN0aXZlSWQiLCAiYWN0aXZlUGFyZW50SWQiLCAidG9hc3RNZXNzYWdlIiwgImV4dHJhY3RlZCIsICJtb3ZlQ2hpbGRGcm9tR3JvdXBUb1Jvb3RBdCIsICJpbnNlcnRJbmRleCIsICJtb3ZlQ2hpbGRXaXRoaW5Hcm91cCIsICJ0YXJnZXRDaGlsZElkIiwgImZyb21JbmRleCIsICJ0b0luZGV4QmFzZSIsICJtb3ZlZCIsICJhZGp1c3RlZFRvSW5kZXhCYXNlIiwgIm1vdmVBbnlCbG9ja1RvR3JvdXBBdCIsICJ0YXJnZXRJbmRleCIsICJyZXNvbHZlZCIsICJvZmZzZXQiLCAiY3VycmVudEluZGV4IiwgIm5ld0luZGV4IiwgInBlbmRpbmdHcm91cElkRm9yTmV3QmxvY2siLCAib3BlbkRlbGV0ZVBhZ2VNb2RhbCIsICJjbG9zZURlbGV0ZVBhZ2VNb2RhbCIsICJleGVjdXRlRGVsZXRlUGFnZSIsICJwYWdlVGl0bGUiLCAicmVzdWx0IiwgInBhZ2VMaXN0IiwgInBhZ2VzQnlJZCIsICJjaGlsZHJlbkJ5UGFyZW50SWQiLCAicmVzb2x2ZVBhcmVudEJ1Y2tldCIsICJyYXdQYXJlbnRJZCIsICJidWNrZXQiLCAiY29tcGFyZVBhZ2VzIiwgImEiLCAic2x1Z0EiLCAic2x1Z0IiLCAibGlzdCIsICJvcmRlcmVkIiwgInZpc2l0ZWQiLCAid2FsayIsICJkZXB0aCIsICJoYXNNaXNzaW5nUGFyZW50IiwgImRpc3BsYXlOYW1lIiwgIm5hdkJhZGdlIiwgImhpZXJhcmNoeUJhZGdlIiwgImluZGVudCIsICJpc0Rlc2t0b3BEcmF3ZXIiLCAiY2xvc2VEcmF3ZXIiLCAiZGVsZXRlQnRuIiwgInBhZ2VIYXNCbG9ja0lkIiwgIm5vZGVzIiwgInVwZGF0ZXIiLCAicGFyZW50SGludCIsICJjdXJyZW50UGFyZW50SWQiLCAiY2hhbmdlZCIsICJuZXh0Q2hpbGRyZW4iLCAiY2hpbGRyZW5DaGFuZ2VkIiwgInRhcmdldEJsb2NrIiwgImZvdW5kIiwgIm5ld0Jsb2NrcyIsICJ1cGRhdGVDdXJyZW50UGFnZVN0YXRlIiwgImlzRGVza3RvcFJlb3JkZXIiLCAicmVvcmRlckJsb2NrcyIsICJzb3VyY2VJZCIsICJ0YXJnZXRJZCIsICJ0b0luZGV4IiwgInJlb3JkZXJCbG9ja3NXaXRoUG9zaXRpb24iLCAidXBkYXRlRHJhZ2dhYmxlU3RhdGUiLCAiZHJhZ2dhYmxlIiwgImNsb3NlQmxvY2tMaWJyYXJ5IiwgImJsb2NrTGlicmFyeU9wZW4iLCAib3BlbkJsb2NrTGlicmFyeSIsICJ0b2dnbGVCbG9ja0xpYnJhcnkiLCAiYWRkQmxvY2tGcm9tTGlicmFyeSIsICJkZWZpbml0aW9uIiwgIm5ld0Jsb2NrIiwgImZpcnN0Q29sbGVjdGlvbklkIiwgIm5leHRCbG9ja3MiLCAiZGVsZXRlQmxvY2tCeUlkIiwgIm5leHRBY3RpdmUiLCAiY2xvc2VCbG9ja0RlbGV0ZU1vZGFsIiwgInBlbmRpbmdEZWxldGVCbG9ja0lkIiwgInN5bmNQYWdlQWNjZXNzaWJpbGl0eUZpZWxkcyIsICJzeW5jRHJhd2VyU3RhdGUiLCAib3BlbkRyYXdlciIsICJvcGVuQWRkUGFnZUZvcm0iLCAicGFnZVNsdWdNYW51YWxseUVkaXRlZCIsICJjbG9zZUFkZFBhZ2VGb3JtIiwgInN5bmNTbHVnRnJvbU5hbWUiLCAiZGVzaWduQ29sbGVjdGlvbkl0ZW1zQ2FjaGUiLCAibm9ybWFsaXplQmxvY2tEYXRhIiwgImxvYWREZXNpZ25Db2xsZWN0aW9ucyIsICJjdXJyZW50VmFsdWUiLCAic3luY0NvbGxlY3Rpb25TZWxlY3Rpb25JbmZvIiwgImNvbGxlY3Rpb25JZCIsICJjb2xsZWN0aW9uIiwgImRldGFpbHMiLCAiZmV0Y2hDb2xsZWN0aW9uSXRlbXNGb3JEZXNpZ24iLCAiY2FjaGVLZXkiLCAiaXRlbXMiLCAiZ2V0QWN0aXZlQ29sbGVjdGlvbkdyaWRCbG9jayIsICJjbGVhckNvbGxlY3Rpb25DYXJkRWRpdG9yIiwgImZpZWxkIiwgImdldFNlbGVjdGVkQ29sbGVjdGlvbkNhcmRJdGVtSWQiLCAiZ2V0Q29sbGVjdGlvbkdyaWRJdGVtT3ZlcnJpZGVzIiwgInBvcHVsYXRlQ29sbGVjdGlvbkNhcmRPdmVycmlkZUZpZWxkcyIsICJpdGVtSWQiLCAib3ZlcnJpZGVzIiwgImdldFZhbHVlIiwgImJ1aWxkQ29sbGVjdGlvbkNhcmRPdmVycmlkZVBhdGNoIiwgIl9oIiwgIl9pIiwgInBhdGNoIiwgInNhdmVDb2xsZWN0aW9uQ2FyZE92ZXJyaWRlcyIsICJyZXNldCIsICJ1cGRhdGUiLCAibmV4dFNldHRpbmdzIiwgImJ1aWx0IiwgIm5leHRQYXRjaCIsICJjaWQiLCAiZXhpc3RpbmciLCAiZGVzaXJlZCIsICJzZWxlY3RlZFZhbHVlIiwgImZhbGxiYWNrT3B0aW9uIiwgImNyZWF0ZWRQYWdlIiwgInJlc2V0UGFzdGVTdGF0ZSIsICJ2YWxpZGF0ZVBhc3RlSnNvbiIsICJmb3JtYXRQYXN0ZUpzb24iLCAidXBkYXRlSW1wb3J0U3VibWl0U3RhdGUiLCAib3BlbkltcG9ydE1vZGFsIiwgInVwZGF0ZUltcG9ydEZpbGVMaXN0IiwgInQiLCAiY2xvc2VJbXBvcnRNb2RhbCIsICJmIiwgImhhbmRsZUltcG9ydEZpbGVzIiwgImZpbGVzIiwgImpzb25GaWxlcyIsICJleGVjdXRlSW1wb3J0IiwgIl9qIiwgIl9rIiwgInBhZ2VzRGF0YSIsICJwYXJzZUVyciIsICJlcnJvckxpbmUiLCAiZXJyb3JEZXRhaWwiLCAicG9zIiwgImxpbmVzIiwgImxpbmVOdW0iLCAiY29sTnVtIiwgImZpbGVFcnJvcnMiLCAiZmlsZSIsICJodG1sIiwgImhhc0RhdGEiLCAiaGFzU3VjY2VzcyIsICJoYXNFcnJvcnMiLCAiY29sbGVjdGlvbnNNc2ciLCAiYnRuIiwgInRhcmdldFBhbmVsIiwgImFjdGl2ZSIsICJ0YXJnZXRWaWV3IiwgInN0eWxlIiwgImlzR3JvdXBUeXBlIiwgImdldFBhcmVudElkRm9yQmxvY2siLCAicHJldmlld1dpbmRvdyIsICJ0b2dnbGVTZW9QYW5lbCIsICJzaG93IiwgInNldFNlb0ZlZWRiYWNrIiwgInRvbmUiLCAiaXNWaXNpYmxlIiwgInNlb0RhdGEiLCAidXBkYXRlZFBhZ2UiLCAidG9nZ2xlUGFnZUFjY2Vzc2liaWxpdHlQYW5lbCIsICJzZXRQYWdlQWNjZXNzaWJpbGl0eUZlZWRiYWNrIiwgImFjY2Vzc2liaWxpdHlEYXRhIiwgImdldFBhZ2VTbHVnU2VnbWVudCIsICJidWlsZFNsdWdGcm9tUGFyZW50QW5kU2VnbWVudCIsICJwYXJlbnRTbHVnVmFsdWUiLCAic2VnbWVudFZhbHVlIiwgIm5vcm1hbGl6ZWRTZWdtZW50IiwgInBhcmVudFNsdWciLCAiZ2V0RGVzY2VuZGFudElkcyIsICJwYWdlc0xpc3QiLCAicm9vdElkIiwgImNoaWxkcmVuQnlQYXJlbnQiLCAic3RhY2siLCAiY3VycmVudCIsICJyZW5kZXJQYXJlbnRTZWxlY3RPcHRpb25zIiwgImN1cnJlbnRJZCIsICJmb3JiaWRkZW4iLCAic3luY1NsdWdGaWVsZHMiLCAic2VsZWN0ZWRQYXJlbnRJZCIsICJzZWdtZW50IiwgInRvZ2dsZVBhZ2VQcm9wc1BhbmVsIiwgInNldFBhZ2VQcm9wc0ZlZWRiYWNrIiwgIm5ld05hbWUiLCAibmV3VGl0bGUiLCAibmV3RGVzY3JpcHRpb24iLCAicmVxdWVzdGVkUGFyZW50SWQiLCAibmV3UGFyZW50SWQiLCAibmV3U2VnbWVudCIsICJjdXJyZW50U2x1ZyIsICJjb21wdXRlZFNsdWciLCAiaGFuZGxlQmxvY2tEcmFnU3RhcnQiLCAiZHJhZ1NvdXJjZUlkIiwgImRyYWdTb3VyY2VQYXJlbnRJZCIsICJjbGVhckRyYWdJbmRpY2F0b3JzIiwgImhhbmRsZUJsb2NrRHJhZ0VuZCIsICJoYW5kbGVCbG9ja0RyYWdPdmVyIiwgInJlY3QiLCAibWlkWSIsICJpc0Fib3ZlIiwgImhhbmRsZUJsb2NrRHJhZ0xlYXZlIiwgInJlbGF0ZWRUYXJnZXQiLCAiaGFuZGxlQmxvY2tEcm9wIiwgInNvdXJjZSIsICJzb3VyY2VQYXJlbnQiLCAiZHJvcFBvc2l0aW9uIiwgInRhcmdldFJvb3RJbmRleCIsICJhY3RpdmVQYWdlIiwgImNvbGxlY3Rpb25MaXN0IiwgImNvbnRlbnRWaWV3cyIsICJjb250ZW50U2VjdGlvbkJ1dHRvbnMiLCAiY29udGVudFNlY3Rpb25UcmlnZ2VycyIsICJoZWFkZXJTdGF0dXNJbmRpY2F0b3IiLCAiZm9vdGVyU3RhdHVzSW5kaWNhdG9yIiwgImNvbGxlY3Rpb25Db3VudEVsIiwgIml0ZW1QYW5lbCIsICJpdGVtUGFuZWxDbG9zZUJ1dHRvbnMiLCAiY29sbGVjdGlvbkVtcHR5U3RhdGUiLCAiY29sbGVjdGlvbkl0ZW1zRW1wdHkiLCAiaXRlbVRhYmxlV3JhcHBlciIsICJpdGVtVGFibGVCb2R5IiwgImNvbGxlY3Rpb25UaXRsZSIsICJjb2xsZWN0aW9uRGVzY3JpcHRpb24iLCAiaXRlbUFkZEJ1dHRvbiIsICJpdGVtRGV0YWlsRW1wdHkiLCAiaXRlbUZvcm0iLCAiaXRlbUZvcm1GaWVsZHMiLCAiaXRlbVN0YXR1c0JhZGdlIiwgIml0ZW1EZWxldGVCdXR0b24iLCAiaXRlbURlbGV0ZU1vZGFsIiwgIml0ZW1EZWxldGVDYW5jZWwiLCAiaXRlbURlbGV0ZUNvbmZpcm0iLCAiaXRlbUZvcm1DYW5jZWwiLCAiaXRlbUZvcm1TYXZlIiwgInN0YXR1c0JhZGdlQmFzZUNsYXNzIiwgInNldEl0ZW1QYW5lbEhpZGRlblN0YXRlIiwgInN5bmNJdGVtUGFuZWxXaXRoVmlld3BvcnQiLCAiaGlkZUl0ZW1Gb3JtIiwgImhlYWRlckZpZWxkcyIsICJoZWFkZXJOYXZPcmRlckxpc3QiLCAiaGVhZGVyU2F2ZUJ0biIsICJoZWFkZXJOYXZJdGVtVGVtcGxhdGUiLCAiaGVhZGVyUGFnZXNMaXN0IiwgInNpdGVQYWdlcyIsICJzZWxlY3RlZE5hdlBhZ2VzIiwgImZvb3RlckZpZWxkcyIsICJmb290ZXJDb2x1bW5zTGlzdCIsICJmb290ZXJDb2x1bW5BZGRCdG4iLCAiZm9vdGVyU2F2ZUJ0biIsICJmb290ZXJDb2x1bW5UZW1wbGF0ZSIsICJmb290ZXJMaW5rVGVtcGxhdGUiLCAiYWN0aXZlQ29udGVudFNlY3Rpb24iLCAiaGVhZGVyRGF0YSIsICJmb290ZXJEYXRhIiwgInNhZmVTaXRlU2x1Z0ZvckxheW91dCIsICJsYXlvdXRBcGlCYXNlIiwgInNob3dDb250ZW50VmlldyIsICJ2aWV3TmFtZSIsICJsb2FkU2l0ZVBhZ2VzRm9ySGVhZGVyIiwgInJlbmRlclBhZ2VDaGVja2JveGVzIiwgIm5vcm1hbGl6ZU5hdlBhZ2VVcmwiLCAibG93ZXIiLCAid2l0aG91dFNsYXNoZXMiLCAiY2xlYW5lZEludGVybmFsIiwgImNsZWFuZWQiLCAibm9ybWFsaXplT3B0aW9uYWxOYXZVcmwiLCAiZGVmYXVsdFZhbHVlIiwgInBhZ2VTbHVnIiwgInBhZ2VEaXNwbGF5TmFtZSIsICJwYWdlVXJsIiwgImlzU2VsZWN0ZWQiLCAibmF2IiwgImNoZWNrYm94IiwgImV4aXN0aW5nSW5kZXgiLCAicmVuZGVySGVhZGVyTmF2T3JkZXIiLCAiZW1wdHkiLCAicm93IiwgInVybCIsICJjb250cm9scyIsICJ1cCIsICJuZXh0IiwgInRtcCIsICJkb3duIiwgInJlbW92ZSIsICJjb2xsZWN0SGVhZGVyRGF0YSIsICJfbCIsICJwb3B1bGF0ZUhlYWRlckZvcm0iLCAiYWRkRm9vdGVyTGluayIsICJjb250YWluZXIiLCAiY2xvbmUiLCAibGFiZWxJbnB1dCIsICJ1cmxJbnB1dCIsICJyZW1vdmVCdG4iLCAiYWRkRm9vdGVyQ29sdW1uIiwgImxpbmtzIiwgImNvbHVtbiIsICJ0aXRsZUlucHV0IiwgImxpbmtzQ29udGFpbmVyIiwgImFkZExpbmtCdG4iLCAiY29sbGVjdEZvb3RlckRhdGEiLCAiX20iLCAiX24iLCAiX28iLCAiX3AiLCAiX3EiLCAiX3IiLCAiX3MiLCAiX3QiLCAiY29sdW1ucyIsICJjb2wiLCAibGlua0VsIiwgInBvcHVsYXRlRm9vdGVyRm9ybSIsICJ2IiwgInNhZmVTaXRlU2x1Z1ZhbHVlIiwgImNvbGxlY3Rpb25zIiwgImNvbGxlY3Rpb25JdGVtcyIsICJhY3RpdmVDb2xsZWN0aW9uSWQiLCAiYWN0aXZlSXRlbUlkIiwgImlzQ3JlYXRpbmdJdGVtIiwgIml0ZW1TbHVnTWFudWFsbHlFZGl0ZWQiLCAicGVuZGluZ0RlbGV0ZUl0ZW1JZCIsICJub3JtYWxpemVJdGVtU2x1Z0lucHV0IiwgImNsZWFuZWRTZWdtZW50cyIsICJmb3JtYXRJdGVtRGF0ZSIsICJkYXRlIiwgInVwZGF0ZUNvbGxlY3Rpb25IZWFkZXIiLCAidXBkYXRlSXRlbXNFbXB0eU1lc3NhZ2UiLCAic2hvd0l0ZW1Gb3JtIiwgInN5bmNBZGRCdXR0b25TdGF0ZSIsICJzeW5jSXRlbVN0YXR1c0JhZGdlIiwgImNvbG9yQ2xhc3MiLCAicmVuZGVyQ29sbGVjdGlvbkxpc3QiLCAic2V0QWN0aXZlQ29sbGVjdGlvbiIsICJyZW5kZXJJdGVtVGFibGUiLCAic3RhdHVzQ2xhc3NlcyIsICJoYW5kbGVTZWxlY3QiLCAic2VsZWN0SXRlbSIsICJwb3B1bGF0ZUl0ZW1Gb3JtIiwgInByZXBhcmVOZXdJdGVtRm9ybSIsICJjb2xsZWN0SXRlbUZvcm1WYWx1ZXMiLCAic2x1Z0lucHV0IiwgInN1bW1hcnkiLCAiaW1hZ2UiLCAiY3RhVGV4dCIsICJjdGFVcmwiLCAiY3RhIiwgInNldEZvcm1TYXZpbmdTdGF0ZSIsICJpc1NhdmluZyIsICJmZXRjaENvbGxlY3Rpb25JdGVtcyIsICJjcmVhdGVDb2xsZWN0aW9uSXRlbSIsICJ1cGRhdGVDb2xsZWN0aW9uSXRlbSIsICJkZWxldGVDb2xsZWN0aW9uSXRlbSIsICJsb2FkQ29sbGVjdGlvbnMiLCAiZGVmYXVsdElkIiwgInNhdmVkSXRlbSIsICJjbG9zZURlbGV0ZU1vZGFsIiwgIm9wZW5EZWxldGVNb2RhbCIsICJmb3JtIiwgInByb3RvY29sU2VsZWN0IiwgImhvc3RJbnB1dCIsICJwb3J0SW5wdXQiLCAidXNlcklucHV0IiwgInBhc3N3b3JkSW5wdXQiLCAic2hvd1Bhc3N3b3JkVG9nZ2xlIiwgInJlbW90ZVBhdGhJbnB1dCIsICJmZWVkYmFjayIsICJzYXZlQnV0dG9uIiwgInRlc3RCdXR0b24iLCAiZGVwbG95QnV0dG9uIiwgImhpc3RvcnlMaXN0IiwgImxvZ0JveCIsICJkZXBsb3lBcGlCYXNlIiwgImRlcGxveVJ1bkFwaSIsICJkZXBsb3lMb2dBcGkiLCAiaGFzUGFzc3dvcmQiLCAiYnVzeUFjdGlvbiIsICJzYW5pdGl6ZVJlbW90ZVBhdGgiLCAic2V0RmVlZGJhY2siLCAiYmFzZUNsYXNzIiwgInRvbmVDbGFzcyIsICJpY29uIiwgInNldEJ1c3kiLCAiYWN0aW9uIiwgImRpc2FibGUiLCAic3Bpbm5lciIsICJwb3B1bGF0ZUZvcm0iLCAicmVuZGVySGlzdG9yeSIsICJlbnRyaWVzIiwgImxpIiwgImR1cmF0aW9uIiwgInJlbmRlckxvZ3MiLCAiZmV0Y2hIaXN0b3J5IiwgImZldGNoQ29uZmlnIiwgImJ1aWxkUGF5bG9hZCIsICJwd2QiLCAiZXJyb3JQYXlsb2FkIiwgImRvd25sb2FkQnV0dG9uIiwgImRvd25sb2FkRmVlZGJhY2siLCAiZG93bmxvYWRBcGkiLCAic2V0RG93bmxvYWRGZWVkYmFjayIsICJvcmlnaW5hbENvbnRlbnQiLCAiZXJyb3JEYXRhIiwgImJsb2IiLCAidGFiQnV0dG9ucyIsICJ0YWJQYW5lbHMiLCAic2l0ZUZlZWRiYWNrIiwgInRoZW1lRm9ybSIsICJzd2l0Y2hUYWIiLCAic3VibWl0IiwgImZvcm1EYXRhIiwgImN1cnJlbnRQYXNzd29yZCIsICJuZXdQYXNzd29yZCIsICJjb25maXJtUGFzc3dvcmQiLCAibmFtZUlucHV0IiwgImxhbmdTZWxlY3QiLCAidGFnbGluZUlucHV0IiwgInNldFNpdGVGZWVkYmFjayIsICJzaXRlQ29uZmlnQXBpIiwgImxvYWRTaXRlQ29uZmlnIiwgInRoZW1lQXBpIiwgImNvbG9yU2VsZWN0cyIsICJoZWFkaW5nU2VsZWN0IiwgImJvZHlTZWxlY3QiLCAicmFkaXVzU21hbGwiLCAicmFkaXVzTWVkaXVtIiwgInJhZGl1c0xhcmdlIiwgInByZXZpZXciLCAidGhlbWVGZWVkYmFjayIsICJhcHBseUJ1dHRvbiIsICJ0YWlsd2luZEJhc2VNYXAiLCAidGFpbHdpbmRUb2tlblRvSGV4IiwgInRva2VuIiwgImgiLCAicyIsICJzaGFkZU51bSIsICJmYWN0b3IiLCAidG9SZ2IiLCAibWl4IiwgInRhaWx3aW5kSHVlcyIsICJ0YWlsd2luZFNoYWRlcyIsICJ0YWlsd2luZFRva2VucyIsICJuZXV0cmFsVG9rZW5zIiwgImNvbG9yT3B0aW9uRGVmaW5pdGlvbnMiLCAiZW1vamkiLCAibm9ybWFsaXplU2VsZWN0Q29sb3IiLCAiZmlsbENvbG9yT3B0aW9ucyIsICJzZWxlY3RlZENvbG9ycyIsICJzZWwiLCAibm9ybWFsaXplZFZhbHVlIiwgInNldFRoZW1lRmVlZGJhY2siLCAic3luY1ByZXZpZXciLCAidG9rZW5Ub0hleCIsICJzdHlsZVRoZW1lQ29sb3JDaGlwIiwgInVwZGF0ZVRoZW1lQ29sb3JQcmV2aWV3IiwgImluaXRDb2xvclByZXZpZXdzIiwgImxvYWRUaGVtZSIsICJ0aGVtZUNvbG9ycyIsICJzZW9Db25maWdGb3JtIiwgImluZGV4QWxsQ2hlY2tib3giLCAic2VvQ29uZmlnRmVlZGJhY2siLCAibG9hZFNlb0NvbmZpZyIsICJpbmRleEFsbCIsICJjdXJyZW50UmVzIiwgImN1cnJlbnRDb25maWciLCAiYW5hbHl0aWNzRm9ybSIsICJoZWFkVGV4dGFyZWEiLCAiYm9keVRleHRhcmVhIiwgImFuYWx5dGljc0ZlZWRiYWNrIiwgImFuYWx5dGljc1NhdmVCdXR0b24iLCAic2V0QW5hbHl0aWNzRmVlZGJhY2siLCAibG9hZEFuYWx5dGljc0NvbmZpZyIsICJhY2Nlc3NpYmlsaXR5Rm9ybSIsICJhbmltYXRpb25zVG9nZ2xlIiwgImNvbnRyYXN0VG9nZ2xlIiwgImFjY2Vzc2liaWxpdHlGZWVkYmFjayIsICJhY2Nlc3NpYmlsaXR5U2F2ZUJ1dHRvbiIsICJzZXRBY2Nlc3NpYmlsaXR5RmVlZGJhY2siLCAibG9hZEFjY2Vzc2liaWxpdHlDb25maWciLCAiYWlDb25maWdGb3JtIiwgImFwaUtleUlucHV0IiwgIm1vZGVsU2VsZWN0IiwgInByb2plY3RQcm9tcHRUZXh0YXJlYSIsICJlbmFibGVkQ2hlY2tib3giLCAiYWlGZWVkYmFjayIsICJhaVNhdmVCdXR0b24iLCAiYWlDb25maWdBcGkiLCAic2V0QUlGZWVkYmFjayIsICJsb2FkQUlDb25maWciLCAiYXBpS2V5VmFsdWUiLCAiZ3JpZCIsICJlbXB0eVN0YXRlIiwgImNvdW50QmFkZ2UiLCAiZmlsdGVyVHlwZSIsICJkZXRhaWxFbXB0eSIsICJkZXRhaWxQYW5lbCIsICJkZXRhaWxQcmV2aWV3IiwgImRldGFpbE5hbWUiLCAiZGV0YWlsVHlwZSIsICJkZXRhaWxTaXplIiwgImRldGFpbFBhdGgiLCAiZGV0YWlsVXNlZCIsICJkZXRhaWxBbHRJbnB1dCIsICJkZXRhaWxTYXZlQnV0dG9uIiwgImRldGFpbERlbGV0ZUJ1dHRvbiIsICJkZWxldGVNb2RhbCIsICJkZWxldGVDYW5jZWxCdXR0b24iLCAiZGVsZXRlQ29uZmlybUJ1dHRvbiIsICJ1cGxvYWRPcGVuQnV0dG9uIiwgImZpbGVJbnB1dCIsICJ1cGxvYWRTdGF0dXMiLCAibWVkaWFBcGlCYXNlIiwgIm1lZGlhSXRlbXMiLCAiZmlsdGVyZWRJdGVtcyIsICJhY3RpdmVNZWRpYUlkIiwgImhpZ2hsaWdodE1lZGlhSWQiLCAicGVuZGluZ1VwbG9hZEZpbGUiLCAidXBsb2FkSW5Qcm9ncmVzcyIsICJkZXRhaWxEaXJ0eSIsICJ1cGxvYWRNb2RlIiwgInVwbG9hZFByZXZpZXdVcmwiLCAiZGVyaXZlR3JvdXBUeXBlIiwgImZpbGVuYW1lIiwgImlzSW1hZ2VUeXBlIiwgImZvcm1hdFR5cGVMYWJlbCIsICJleHQiLCAiZm9ybWF0RmlsZVNpemUiLCAic2l6ZSIsICJyZXNldERldGFpbFBhbmVsIiwgImNsZWFyVXBsb2FkU3RhdGUiLCAidXBkYXRlRGV0YWlsQWN0aW9ucyIsICJ1cGRhdGVDb3VudEJhZGdlIiwgInJlbmRlckdyaWQiLCAic2VsZWN0TWVkaWEiLCAicmVuZGVyVXNlZEluIiwgInNhdmluZyIsICJtZWRpYUlkIiwgInNob3dVcGxvYWRQcmV2aWV3IiwgImFwcGx5RmlsdGVycyIsICJ0eXBlRmlsdGVyIiwgImxvYWRNZWRpYSIsICJoYW5kbGVGaWxlU2VsZWN0aW9uIiwgInJlYWRGaWxlQXNCYXNlNjQiLCAicmVzb2x2ZSIsICJyZWplY3QiLCAicmVhZGVyIiwgImJhc2U2NCIsICJ1cGxvYWRTZWxlY3RlZE1lZGlhIiwgImRlbGV0ZUFjdGl2ZU1lZGlhIiwgImRpc2FibGVCdXR0b25zIiwgImVuYWJsZUJ1dHRvbnMiLCAidXBkYXRlZCIsICJhaUNoYXRUb2dnbGUiLCAiYWlDaGF0UGFuZWwiLCAiYWlDaGF0T3ZlcmxheSIsICJhaUNoYXRDbG9zZSIsICJhaUNoYXRDbGVhciIsICJhaUNoYXRGb3JtIiwgImFpQ2hhdElucHV0IiwgImFpQ2hhdE1lc3NhZ2VzIiwgImFpQ2hhdFN0YXR1cyIsICJhaUNoYXROb0FwaSIsICJhaVF1aWNrQnV0dG9ucyIsICJhaUNoYXRPcGVuIiwgImFpSXNMb2FkaW5nIiwgImFpQ29uZmlnQ2hlY2tlZCIsICJhaUhhc0FwaUtleSIsICJvcGVuQUlDaGF0IiwgImNoZWNrQUlDb25maWciLCAiY2xvc2VBSUNoYXQiLCAic2l0ZVNsdWciLCAibG9hZEFJQ2hhdEhpc3RvcnkiLCAid2VsY29tZU1zZyIsICJhcHBlbmRBSU1lc3NhZ2UiLCAicm9sZSIsICJtc2dEaXYiLCAiZXNjYXBlSHRtbCIsICJmb3JtYXR0ZWRDb250ZW50IiwgImZvcm1hdEFJUmVzcG9uc2UiLCAic2hvd0FJTG9hZGluZyIsICJsb2FkaW5nRGl2IiwgImhpZGVBSUxvYWRpbmciLCAiZm9ybWF0dGVkIiwgImxhbmciLCAiY29kZSIsICJkaXYiLCAic2VuZEFJTWVzc2FnZSIsICJhcHBlbmRFZGl0UHJvcG9zYWwiLCAiYXBwZW5kVGhlbWVQcm9wb3NhbCIsICJwcm9wb3NhbCIsICJwcm9wb3NhbERpdiIsICJjaGFuZ2VzSHRtbCIsICJoYW5kbGVBcHBseUVkaXQiLCAiaGFuZGxlUmVqZWN0RWRpdCIsICJjb2xvcnNIdG1sIiwgImNvbG9ycyIsICJnZXRUYWlsd2luZENvbG9yQ3NzIiwgInR5cG9IdG1sIiwgInR5cG8iLCAiaGFuZGxlQXBwbHlUaGVtZSIsICJjb2xvck5hbWUiLCAicHJvcG9zYWxJZCIsICJwcm9wb3NhbENhcmQiLCAiY2xlYXJBSUhpc3RvcnkiLCAicXVpY2tQcm9tcHRzIiwgInByb21wdCJdCn0K
