(()=>{document.addEventListener("DOMContentLoaded",()=>{console.log("[admin] Atelier charg\xE9");let Ct=document.querySelector("[data-logout]");Ct&&Ct.addEventListener("click",async()=>{Ct.disabled=!0;try{await fetch("/api/logout",{method:"POST",headers:{"Content-Type":"application/json"}})}catch(o){console.error("[admin] Impossible de se d\xE9connecter",o)}finally{window.location.href="/admin/index.html"}});let We=document.querySelector("[data-admin-sidebar]"),le=document.querySelector("[data-admin-sidebar-overlay]"),Jt=document.querySelectorAll("[data-admin-sidebar-toggle]"),ln=document.querySelectorAll("[data-admin-sidebar-close]"),Et=document.body,rt=!1,it=()=>{if(!We)return;if(window.matchMedia("(min-width: 1024px)").matches){We.classList.remove("hidden"),le==null||le.classList.add("hidden"),Et.classList.remove("overflow-hidden");return}rt?(We.classList.remove("hidden"),le==null||le.classList.remove("hidden"),Et.classList.add("overflow-hidden")):(We.classList.add("hidden"),le==null||le.classList.add("hidden"),Et.classList.remove("overflow-hidden"))},cn=()=>{rt=!0,it()},qt=()=>{rt=!1,it()};We&&Jt.length>0&&(Jt.forEach(o=>{o.addEventListener("click",cn)}),ln.forEach(o=>{o.addEventListener("click",qt)}),le==null||le.addEventListener("click",qt),window.addEventListener("resize",it),window.addEventListener("keydown",o=>{o.key==="Escape"&&rt&&qt()}),it());let Wt="clower:currentSite",Gt="clower:currentSiteName",z={slug:null,name:""};(()=>{try{z.slug=window.localStorage.getItem(Wt),z.name=window.localStorage.getItem(Gt)||""}catch{z.slug=null,z.name=""}})();let kt=document.querySelectorAll("[data-site-card]"),dn=document.querySelectorAll("[data-site-select]"),Ge=document.querySelector("[data-current-site-name]"),_t=document.querySelector("[data-workspace-site-name]"),Yt=document.querySelector("[data-workspace-back-name]"),qe=document.querySelector("[data-workspace-back-modal]"),un=document.querySelectorAll("[data-workspace-back]"),mn=document.querySelectorAll("[data-workspace-back-cancel]"),It=document.querySelector("[data-workspace-back-confirm]"),pn=document.querySelectorAll("[data-workspace-tab]"),At=document.querySelector("[data-site-toast]"),Kt=document.querySelector("[data-site-toast-message]"),fn=document.querySelectorAll("[data-site-create]"),ne=document.querySelector("[data-site-modal]"),we=document.querySelector("[data-site-form]"),ue=document.querySelector("[data-site-name]"),he=document.querySelector("[data-site-slug]"),ae=document.querySelector("[data-site-slug-error]"),ye=document.querySelector("[data-site-modal-error]"),gn=document.querySelectorAll("[data-site-modal-cancel]"),Ue=document.querySelector("[data-site-modal-submit]"),R=Sn(),lt=!1,ct=null,Bt=null,hn='a[href], button:not([disabled]), textarea, input, select, [tabindex]:not([tabindex="-1"])',Xt=o=>{if(!ne||ne.classList.contains("hidden")||o.key!=="Tab")return;let i=Array.from(ne.querySelectorAll(hn)).filter(C=>!C.hasAttribute("disabled")&&!C.getAttribute("aria-hidden"));if(i.length===0)return;let g=i[0],y=i[i.length-1];o.shiftKey?document.activeElement===g&&(o.preventDefault(),y.focus()):document.activeElement===y&&(o.preventDefault(),g.focus())},$=o=>{!At||!Kt||(Kt.textContent=o,At.classList.remove("hidden"),Bt&&clearTimeout(Bt),Bt=setTimeout(()=>{At.classList.add("hidden")},2500))};function Se(o){return o?o.startsWith("/")?o:`/${o}`:""}function ke(o){return(o==null?void 0:o.replace(/^\//,""))||""}let dt=(o,i)=>{let g=o?Se(o):null;try{g&&(window.localStorage.setItem(Wt,g),z.slug=g),typeof i=="string"&&i.length>0&&(window.localStorage.setItem(Gt,i),z.name=i)}catch{z.slug=g||z.slug,z.name=i||z.name}},Zt=o=>{Ge&&o&&(Ge.textContent=o),_t&&o&&(_t.textContent=o),Yt&&o&&(Yt.textContent=o)},Tt=o=>{pn.forEach(i=>{let g=i.dataset.workspaceTab;if(!g)return;if(!o){i.href="#",i.classList.add("pointer-events-none","opacity-50","text-slate-400"),i.setAttribute("aria-disabled","true");return}let y=encodeURIComponent(ke(o));i.href=`/admin/site/${y}/${g}`,i.classList.remove("pointer-events-none","opacity-50","text-slate-400"),i.removeAttribute("aria-disabled")})},ut=(o,i={})=>{if(!o)return;let g=Se(o),y=i.siteName||z.name||(Ge==null?void 0:Ge.dataset.defaultSiteName)||"";kt.forEach(S=>{let N=Se(S.dataset.siteCard||"")===g,m=S.querySelector("[data-site-active-badge]");N?(S.classList.add("border-[#9C6BFF]","ring-2","ring-[#9C6BFF]","shadow-md"),S.classList.remove("border-slate-200"),m==null||m.classList.remove("hidden"),y=S.dataset.siteName||y):(S.classList.remove("border-[#9C6BFF]","ring-2","ring-[#9C6BFF]","shadow-md"),S.classList.add("border-slate-200"),m==null||m.classList.add("hidden"))}),i.persist!==!1&&dt(g,i.siteName||y);let C=i.siteName||y;Zt(C),Tt(g)},yn=async(o,i)=>{let g=Se(o);try{let y=await fetch("/api/sites/select",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({slug:g})});if(!y.ok){let m=await y.json().catch(()=>({}));$(m.message||"Impossible de s\xE9lectionner ce site.");return}let C=await y.json().catch(()=>({})),S=Se(C.slug||g),F=C.name||i;dt(S,F),ut(S,{siteName:F,persist:!1});let N=encodeURIComponent(ke(S));window.location.href=`/admin/site/${N}/design`}catch(y){console.error("[admin] Impossible de s\xE9lectionner le site",y),$("Erreur inattendue lors de la s\xE9lection.")}},vn=async()=>{try{let o=await fetch("/api/sites/current",{credentials:"same-origin"});if(!o.ok){o.status===404&&R&&(window.location.href="/admin/sites");return}let i=await o.json(),g=Se(i.slug);dt(g,i.name),ut(g,{siteName:i.name,persist:!1})}catch(o){console.warn("[admin] Impossible de r\xE9cup\xE9rer le site actif",o)}};(()=>{if(z.slug){ut(z.slug,{siteName:z.name,persist:!1});return}let o=document.querySelector('[data-site-card][data-site-default="true"]')||kt[0];o&&ut(o.dataset.siteCard,{siteName:o.dataset.siteName||"",persist:!1})})(),vn(),R?Tt(R.slugValue):z.slug&&Tt(z.slug),dn.forEach(o=>{o.addEventListener("click",()=>{if(o.disabled)return;let i=o.dataset.siteSelect,g=o.dataset.siteSelectName||"Ce site";i&&(o.disabled=!0,yn(i,g).finally(()=>{o.disabled=!1}))})});let _e=o=>o.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),bn=o=>{let i=_e(o||"");return i?`/${i}`:""},xn=()=>{ne&&(ct=document.activeElement,ne.classList.remove("hidden"),ne.classList.add("flex"),lt=!1,we==null||we.reset(),ae&&(ae.textContent=""),ye&&(ye.textContent=""),he&&ue&&(he.value=_e(ue.value)),document.addEventListener("keydown",Xt),window.setTimeout(()=>{ue==null||ue.focus()},0))},mt=()=>{ne&&(ne.classList.add("hidden"),ne.classList.remove("flex"),document.removeEventListener("keydown",Xt),lt=!1,we==null||we.reset(),ae&&(ae.textContent=""),ye&&(ye.textContent=""),ct==null||ct.focus())};fn.forEach(o=>{o.addEventListener("click",xn)}),gn.forEach(o=>{o.addEventListener("click",mt)}),ne==null||ne.addEventListener("click",o=>{o.target===ne&&mt()}),ue==null||ue.addEventListener("input",()=>{he&&(!lt||he.value.trim().length===0)&&(he.value=_e(ue.value))}),he==null||he.addEventListener("input",()=>{lt=!0,ae&&(ae.textContent="")});let wn=()=>new Set(Array.from(kt).map(o=>Se(o.dataset.siteCard||"")));we==null||we.addEventListener("submit",async o=>{if(o.preventDefault(),!ue||!he)return;let i=(ue.value||"").trim(),g=he.value||"";g||(g=i);let y=bn(g);if(!i||!y){ae&&(ae.textContent="Nom et slug sont requis.");return}if(wn().has(y)){ae&&(ae.textContent="Ce slug est d\xE9j\xE0 utilis\xE9.");return}ae&&(ae.textContent=""),ye&&(ye.textContent=""),Ue&&(Ue.disabled=!0,Ue.textContent="Cr\xE9ation...");try{let S=await fetch("/api/sites",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:i,slug:y})});if(!S.ok){let W=await S.json().catch(()=>({})),j=W.message||"Impossible de cr\xE9er ce site.";ye&&(ye.textContent=j),W.field==="slug"&&ae&&(ae.textContent=j);return}let F=await S.json(),N=Se((F==null?void 0:F.slug)||y),m=(F==null?void 0:F.name)||i;dt(N,m),mt();let J=encodeURIComponent(ke(N));window.location.href=`/admin/site/${J}/design`}catch(S){console.error("[admin] Impossible de cr\xE9er le site",S),ye&&(ye.textContent="Erreur inattendue. R\xE9essaie dans un instant.")}finally{Ue&&(Ue.disabled=!1,Ue.textContent="Cr\xE9er")}}),window.addEventListener("keydown",o=>{o.key==="Escape"&&(ne&&!ne.classList.contains("hidden")&&mt(),qe&&!qe.classList.contains("hidden")&&Qt(),blockDeleteModal&&!blockDeleteModal.classList.contains("hidden")&&closeBlockDeleteModal(),blockLibraryOpen&&closeBlockLibrary())});function Sn(){let o=window.location.pathname.match(/^\/admin\/site\/([^/]+)(?:\/([^/]+))?/);return o?{slugPart:decodeURIComponent(o[1]),slugValue:Se(decodeURIComponent(o[1])),section:o[2]||"design"}:null}function Ln(){return document.querySelector("[data-page-list]")?"design":document.querySelector("[data-collection-list]")?"content":document.querySelector("[data-media-grid]")?"media":document.querySelector("[data-deploy-form]")?"deploy":null}function Cn(){if(!qe){window.location.href="/admin/sites";return}qe.classList.remove("hidden"),qe.classList.add("flex")}function Qt(){qe&&(qe.classList.add("hidden"),qe.classList.remove("flex"))}un.forEach(o=>{o.addEventListener("click",Cn)}),mn.forEach(o=>{o.addEventListener("click",Qt)}),It==null||It.addEventListener("click",()=>{window.location.href="/admin/sites"});let pt=(R==null?void 0:R.section)||Ln();pt==="design"&&En(),pt==="content"&&qn(),pt==="media"&&In(),pt==="deploy"&&kn(),R&&z.name&&Zt(z.name);function En(){let o=document.querySelectorAll("[data-page-list]");if(o.length===0)return;let i=document.querySelector("[data-active-page-title]"),g=document.querySelector("[data-active-page-slug]"),y=document.querySelector("[data-page-preview-tags]"),C=document.querySelector("[data-page-preview-frame]"),S=document.querySelector("[data-preview-open]"),F=document.querySelector("[data-preview-status]"),N=document.querySelector("[data-preview-highlight]"),m=document.querySelector("[data-blocks-list]"),J=document.querySelector("[data-blocks-empty]"),W=document.querySelector("[data-block-count]"),j=document.querySelector("[data-block-library-toggle]"),E=document.querySelector("[data-block-library]"),I=document.querySelectorAll("[data-block-add]"),p=document.querySelector("[data-block-delete-modal]"),U=document.querySelector("[data-block-delete-confirm]"),B=document.querySelector("[data-block-delete-cancel]"),q=document.querySelector("[data-block-detail-empty]"),_=document.querySelector("[data-block-detail-status]"),T=document.querySelector("[data-block-editor]"),re=document.querySelector("[data-block-editor-block-name]"),L=document.querySelector("[data-block-editor-block-type]"),f=document.querySelector("[data-block-editor-unsupported]"),c=document.querySelector("[data-block-form]"),M=c?Array.from(c.querySelectorAll("[data-editor-section]")):[],x=c==null?void 0:c.querySelector('[name="collection-grid-collection"]'),H=c==null?void 0:c.querySelector("[data-collection-selection-info]"),P=document.querySelector("[data-block-form-cancel]"),V=c==null?void 0:c.querySelector("[data-group-preview-mobile]"),G=c==null?void 0:c.querySelector("[data-group-preview-desktop]"),ie={hero:{section:"hero",labelField:"title",descriptionField:"subtitle",fields:{title:"hero-title",subtitle:"hero-subtitle",ctaLabel:"hero-cta-label",ctaUrl:"hero-cta-url",image:"hero-image",align:"hero-align"}},paragraphe:{section:"paragraph",labelField:"title",descriptionField:"content",fields:{title:"paragraph-title",content:"paragraph-content",align:"paragraph-align"}},image:{section:"image",labelField:"alt",fields:{src:"image-src",alt:"image-alt",showCaption:"image-caption-toggle",caption:"image-caption"}},groupe:{section:"group",fields:{layout:"group-layout",columnsMobile:"group-columns-mobile",columnsDesktop:"group-columns-desktop"}},collectiongrid:{section:"collection",fields:{collectionId:"collection-grid-collection",limit:"collection-grid-limit"}}},Z={texte:"paragraphe",paragraph:"paragraphe",paragraphs:"paragraphe",paragraphes:"paragraphe",text:"paragraphe",hero:"hero",image:"image",groupe:"groupe",group:"groupe",collection:"collectiongrid",collectiongrid:"collectiongrid","collection-grid":"collectiongrid"},Ie=(e,t)=>{if(!V||!G)return;let n=a=>Array.from({length:Number(a)||1}).map(()=>'<span class="block h-2 w-full rounded-full bg-slate-300"></span>').join("");V.innerHTML=n(e),G.innerHTML=n(t)},Ae=async()=>{if(!s)return[];let e=await fetch(s,{headers:{Accept:"application/json"}});if(!e.ok)throw new Error("Impossible de charger les pages.");let t=await e.json().catch(()=>[]);return Array.isArray(t)?t:[]},Le=async({title:e,slug:t})=>{if(!s)throw new Error("Site inconnu.");let n=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e,slug:t})});if(!n.ok){let a=await n.json().catch(()=>({}));throw new Error(a.message||"Impossible de cr\xE9er la page.")}return n.json().catch(()=>({}))},Be=async e=>{if(!(!s||!(e!=null&&e.id)))try{let t=await fetch(`${s}/${encodeURIComponent(e.id)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){let a=await t.json().catch(()=>({}));throw new Error(a.message||"Impossible de sauvegarder la page.")}let n=await t.json().catch(()=>({}));if(n!=null&&n.id){let a=nt(n);return se=se.map(u=>u.id===a.id?a:u),(w==null?void 0:w.id)===a.id&&(w=a),a}return n}catch(t){console.error("[design] Save page failed",t),$(t.message||"Sauvegarde impossible.")}},me=async()=>{if(!s){se=[],be=null,w=null,Ft(se,be),Ze(null),q==null||q.classList.remove("hidden"),T==null||T.classList.add("hidden");return}try{let e=await Ae();if(se=(Array.isArray(e)?e:[]).map(t=>nt(t)),se.length===0){be=null,w=null,Ft(se,be),Ze(null),q==null||q.classList.remove("hidden"),T==null||T.classList.add("hidden"),C&&(C.srcdoc=K());return}be=ze(se),Me(be)}catch(e){console.error("[design] Impossible de charger les pages",e),$("Impossible de charger les pages.")}},Ce=e=>(e||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),pe=e=>{if(!e)return null;let t=Ce(e.type),n=Z[t]||t;return ie[n]||null},ve=e=>{var n,a,u;if(!c||!T)return;e&&!e.settings&&(e.settings={});let t=pe(e);if(re&&(re.textContent=(e==null?void 0:e.label)||"Bloc"),L&&(L.textContent=(e==null?void 0:e.type)||"Bloc"),!t){c.classList.add("hidden"),f==null||f.classList.remove("hidden"),c.dataset.blockId="";return}if(f==null||f.classList.add("hidden"),c.classList.remove("hidden"),c.reset(),c.dataset.blockId=e.id,M.forEach(v=>{v.dataset.editorSection===t.section?v.classList.remove("hidden"):v.classList.add("hidden")}),t.section==="collection"){let v=e.collectionId||((n=e.settings)==null?void 0:n.collectionId)||"";wt(v)}if(Object.entries(t.fields).forEach(([v,D])=>{var Re;let O=c.querySelector(`[name="${D}"]`);if(!O)return;let te=(Re=e.settings)==null?void 0:Re[v];O.type==="checkbox"?O.checked=!!te:O.type==="number"?O.value=te!=null?te:1:(O.tagName,O.value=te!=null?te:"")}),t.section==="group"){let v=((a=c.querySelector('[name="group-columns-mobile"]'))==null?void 0:a.value)||"1",D=((u=c.querySelector('[name="group-columns-desktop"]'))==null?void 0:u.value)||"3";Ie(v,D)}},Te=e=>{if(!c||!e)return{};let t={};return Object.entries(e.fields).forEach(([n,a])=>{let u=c.querySelector(`[name="${a}"]`);if(u)if(u.type==="checkbox")t[n]=u.checked;else if(u.type==="number"){let v=Number(u.value);t[n]=Number.isFinite(v)?v:0}else u.tagName==="TEXTAREA"?t[n]=u.value||"":u.type==="select-one"?t[n]=u.value:t[n]=u.value||""}),t},Y=e=>{if(F){if(!e){F.classList.add("hidden");return}F.classList.remove("hidden"),F.textContent=e}},Ne=e=>e?{id:e.id,title:e.title,slug:e.slug,badges:[...e.badges||[]],blocks:(e.blocks||[]).map(t=>{var n;return{id:t.id,type:t.type,label:t.label,status:t.status,description:t.description,props:t.props||[],settings:t.settings||{},collectionId:t.collectionId||((n=t.settings)==null?void 0:n.collectionId)||""}})}:null,K=()=>'<!DOCTYPE html><html><body style="font-family:Inter,sans-serif;padding:40px;color:#475569;background:#fff;">Pr\xE9paration de la pr\xE9visualisation\u2026</body></html>',$e=e=>{if(!C||!e)return;let t=(R==null?void 0:R.slugValue)||z.slug||"",n={page:Ne(e),site:{title:z.name||"Site",slug:t}};zt=!1,Y("Actualisation\u2026"),C.srcdoc=K(),tt&&tt.abort();let a=new AbortController;tt=a,fetch("/api/preview",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n),signal:a.signal}).then(u=>{if(!u.ok)throw new Error("Preview error");return u.json()}).then(u=>{a.signal.aborted||(Dt=u.html||"",C.setAttribute("title",`Pr\xE9visualisation de la page ${e.title||""}`.trim()),C.srcdoc=Dt||K(),Y("\xC0 jour"))}).catch(u=>{a.signal.aborted||(console.error("[preview] Impossible de rendre la page",u),Y("Erreur preview"),C.srcdoc='<!DOCTYPE html><html><body style="font-family:Inter,sans-serif;padding:40px;color:#be123c;background:#fff;">Erreur lors du rendu de la pr\xE9visualisation.</body></html>')}).finally(()=>{tt===a&&(tt=null)})},Pe=e=>{if(e.preventDefault(),!w||!oe)return;let t=jt(),n=pe(t);if(!t||!n)return;let a=Te(n);if(n.section==="collection"){if(!a.collectionId){$("S\xE9lectionnez une collection.");return}a.limit=Math.max(1,Number(a.limit)||1)}let u=(w.blocks||[]).map(v=>{if(v.id!==t.id)return v;let D={...v.settings||{},...a},O={...v,settings:D};return n.labelField&&a[n.labelField]&&(O.label=a[n.labelField]),n.descriptionField&&a[n.descriptionField]&&(O.description=a[n.descriptionField]),n.section==="collection"&&(O.collectionId=a.collectionId,O.settings.collectionId=a.collectionId,O.settings.limit=a.limit),O});Qe(u),$("Bloc mis \xE0 jour"),Me(w.id,{preserveBlock:!0})},fe=document.querySelector("[data-page-drawer]"),Q=document.querySelector("[data-page-drawer-backdrop]"),He=document.querySelectorAll("[data-page-drawer-open]"),Fe=document.querySelectorAll("[data-page-drawer-close]"),ce=document.querySelector("[data-add-page-toggle]"),ee=document.querySelector("[data-add-page-form]"),r=document.querySelector("[data-add-page-title]"),l=document.querySelector("[data-add-page-slug]"),k=document.querySelector("[data-add-page-cancel]"),h=document.querySelector("[data-add-page-error]"),de=ee==null?void 0:ee.querySelector('[type="submit"]'),Oe=ke((R==null?void 0:R.slugValue)||z.slug||"default")||"default",ft=(R==null?void 0:R.slugValue)||z.slug||"",De=ke(ft)||"",s=De?`/api/sites/${encodeURIComponent(De)}/pages`:null,d=De?`/api/sites/${encodeURIComponent(De)}/collections`:null,b={active:`clower:activePage:${Oe}`},A=(e,t,n,a,u,v=[],D={})=>{let O={id:e,label:t,type:n,status:a,description:u,props:v,settings:{...D}};return O.settings.collectionId&&(O.collectionId=O.settings.collectionId),O},X={hero:{type:"Hero",label:"Hero de page",description:"Section pleine largeur avec CTA principal.",status:"Brouillon",props:[{label:"CTA",value:"D\xE9couvrir"},{label:"Hauteur",value:"80vh"}],settings:{title:"Titre du hero",subtitle:"",ctaLabel:"D\xE9couvrir",ctaUrl:"#",image:"",align:"center"}},paragraph:{type:"Paragraphe",label:"Bloc \xE9ditorial",description:"Paragraphe libre pour raconter votre histoire.",status:"Brouillon",props:[{label:"Longueur",value:"150 mots"}],settings:{title:"Titre du paragraphe",content:"",align:"left"}},image:{type:"Image",label:"Bloc image",description:"Visuel seul avec l\xE9gende optionnelle.",status:"Brouillon",props:[{label:"Ratio",value:"16:9"},{label:"L\xE9gende",value:"Inactive"}],settings:{src:"",alt:"",showCaption:!1,caption:""}},group:{type:"Groupe",label:"Groupe de sections",description:"Conteneur pour imbriquer plusieurs sous-blocs.",status:"Brouillon",props:[{label:"Disposition",value:"Verticale"}],settings:{layout:"grid",columnsMobile:"1",columnsDesktop:"3"}},collectiongrid:{type:"CollectionGrid",label:"Grille de contenus",description:"Affiche automatiquement les items d\u2019une collection.",status:"Brouillon",settings:{collectionId:"",limit:6}}},Ye=e=>{try{window.localStorage.setItem(b.active,e)}catch{}},ze=e=>{var t;try{let n=window.localStorage.getItem(b.active);if(n&&e.some(a=>a.id===n))return n}catch{}return((t=e[0])==null?void 0:t.id)||null},je=e=>!e||e<=0?"0 bloc":e===1?"1 bloc":`${e} blocs`,Ke=e=>{if(!e||e==="/")return"/";let t=_e(e.replace(/^\//,""));return t?`/${t}`:"/"},Ve=(e="page",t="block")=>`${e}-${t}-${Date.now().toString(36)}-${Math.floor(Math.random()*1e3)}`,$t=(e,t)=>[A(Ve(e,"intro"),"Introduction","Paragraphe","Brouillon",`Paragraphe introductif pour "${t}".`,[{label:"Longueur",value:"2 paragraphes"}],{title:`Introduction \xE0 ${t}`,content:"Ajoutez votre premier paragraphe de pr\xE9sentation.",align:"left"}),A(Ve(e,"content"),"Zone de contenu","Groupe","Brouillon","Section principale \xE0 composer avec textes et visuels.",[{label:"Colonnes",value:"Auto"}],{layout:"grid",columnsMobile:"1",columnsDesktop:"2"})],gt=e=>{i&&(i.textContent=(e==null?void 0:e.title)||"Page"),g&&(g.textContent=(e==null?void 0:e.slug)||"/")},An=e=>{if(!y)return;y.innerHTML="",(e&&e.badges&&e.badges.length>0?e.badges:["Structure en cours"]).forEach(n=>{let a=document.createElement("span");a.className="rounded-full bg-slate-100 px-3 py-1",a.textContent=n,y.appendChild(a)})},Bn=e=>{switch((e||"").toLowerCase()){case"en ligne":return"bg-emerald-50 text-emerald-700";case"brouillon":return"bg-amber-50 text-amber-700";default:return"bg-slate-100 text-slate-600"}},ht=e=>{if(!(!q||!T)){if(!e){q.classList.remove("hidden"),T.classList.add("hidden"),f==null||f.classList.add("hidden"),c==null||c.classList.add("hidden"),_==null||_.classList.add("hidden");return}q.classList.add("hidden"),T.classList.remove("hidden"),_&&(e.status?(_.textContent=e.status,_.className=`rounded-full px-3 py-1 text-xs font-semibold ${Bn(e.status)}`,_.classList.remove("hidden")):_.classList.add("hidden")),ve(e)}},Xe=e=>{if(!C)return;let t=C.contentDocument;if(!t)return;t.querySelectorAll("[data-preview-block]").forEach(a=>{a.dataset.previewBlock===e?(a.classList.add("preview-block-active"),zt&&e&&a.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})):a.classList.remove("preview-block-active")}),N&&(N.style.borderColor=e?"rgba(156, 107, 255, 0.5)":"transparent")},Ze=e=>{if(!m)return;m.innerHTML="";let t=(e==null?void 0:e.blocks)||[];if(W&&(W.textContent=je(t.length)),t.length===0){m.classList.add("hidden"),J==null||J.classList.remove("hidden");return}m.classList.remove("hidden"),J==null||J.classList.add("hidden"),t.forEach(n=>{var rn;let a=n.id===oe,u=document.createElement("div");u.dataset.blockItem="true",u.dataset.blockId=n.id,u.setAttribute("role","option"),u.setAttribute("aria-selected",a?"true":"false"),u.tabIndex=0,u.className=["relative flex items-center gap-3 rounded-2xl border px-3 py-2 text-left transition",a?"bg-slate-100 border-[#9C6BFF]/40 shadow-sm":"border-slate-200 hover:border-[#9C6BFF]/40"].join(" ");let v=document.createElement("span");v.className=`absolute inset-y-2 left-0 w-1 rounded-full bg-[#9C6BFF] ${a?"":"hidden"}`,u.appendChild(v);let D=document.createElement("div");D.className="flex flex-1 items-center gap-3";let O=document.createElement("div");O.className="hidden lg:flex cursor-grab flex-shrink-0 items-center text-lg text-slate-400",O.innerHTML="&#8801;",D.appendChild(O);let te=document.createElement("div");te.className="flex-1";let Re=document.createElement("div");Re.className="flex items-center gap-2 text-[11px] uppercase tracking-wide text-slate-500";let Ut=document.createElement("span");Ut.className="rounded-full bg-slate-100 px-2 py-0.5 text-[10px] font-semibold text-slate-600",Ut.textContent=n.type;let Ht=document.createElement("span");Ht.className="text-slate-400",Ht.textContent=n.status,Re.appendChild(Ut),Re.appendChild(Ht);let Ot=document.createElement("p");Ot.className="mt-1 text-sm font-semibold text-slate-900";let Gn=n.settings&&n.settings.title||n.label||"Bloc sans titre";if(Ot.textContent=Gn,te.appendChild(Re),te.appendChild(Ot),(n.type||"").toLowerCase()==="collectiongrid"&&n.collectionId){let ge=((rn=xe.find(_n=>_n.id===n.collectionId))==null?void 0:rn.name)||n.collectionId,Vt=document.createElement("p");Vt.className="text-xs text-slate-400",Vt.textContent=`Collection : ${ge}`,te.appendChild(Vt)}D.appendChild(te),u.appendChild(D);let St=document.createElement("div");St.className="flex flex-col gap-1 text-xs text-slate-400";let Lt=document.createElement("div");Lt.className="flex items-center gap-1 lg:hidden";let st=document.createElement("button");st.type="button",st.className="rounded-lg border border-slate-200 px-2 py-1 text-[11px] font-semibold text-slate-500",st.textContent="\u2191",st.addEventListener("click",ge=>{ge.stopPropagation(),en(n.id,-1)});let ot=document.createElement("button");ot.type="button",ot.className="rounded-lg border border-slate-200 px-2 py-1 text-[11px] font-semibold text-slate-500",ot.textContent="\u2193",ot.addEventListener("click",ge=>{ge.stopPropagation(),en(n.id,1)}),Lt.appendChild(st),Lt.appendChild(ot),St.appendChild(Lt);let at=document.createElement("button");at.type="button",at.className="inline-flex items-center justify-center rounded-lg border border-transparent px-2 py-1 text-[12px] text-rose-500 hover:text-rose-700",at.innerHTML="\u{1F5D1}\uFE0F",at.addEventListener("click",ge=>{ge.stopPropagation(),Mn(n.id)}),St.appendChild(at),u.appendChild(St),u.addEventListener("click",()=>{Je(n.id)}),u.addEventListener("keydown",ge=>{(ge.key==="Enter"||ge.key===" ")&&(ge.preventDefault(),Je(n.id))}),m.appendChild(u)})},Ft=(e,t)=>{o.forEach(n=>{n.innerHTML="",e.forEach(a=>{let u=document.createElement("li"),v=document.createElement("button");v.type="button",v.dataset.pageId=a.id,v.className=["w-full flex items-center justify-between gap-3 px-3 py-2 text-left transition",t===a.id?"bg-[#9C6BFF]/10 text-slate-900 border border-[#9C6BFF]/40 rounded-xl shadow-sm":"text-slate-700 hover:bg-slate-50 rounded-xl"].join(" "),t===a.id?v.setAttribute("aria-current","page"):v.removeAttribute("aria-current"),v.innerHTML=`
            <div class="flex items-center gap-3">
              <span class="flex h-9 w-9 items-center justify-center rounded-xl border border-slate-200 bg-white text-slate-500">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                  <path d="M6.5 4.5h7l4 4v11a1 1 0 0 1-1 1h-10a1 1 0 0 1-1-1v-14a1 1 0 0 1 1-1Z" stroke="currentColor" stroke-width="1.4" stroke-linejoin="round"/>
                  <path d="M13.5 4.5v4a1 1 0 0 0 1 1h3" stroke="currentColor" stroke-width="1.4"/>
                </svg>
              </span>
              <div class="flex flex-col">
                <span class="text-sm font-semibold">${a.title}</span>
                <span class="text-xs text-slate-500">${a.slug}</span>
              </div>
            </div>
          `,v.addEventListener("click",()=>{Me(a.id),Nt()||Pt()}),u.appendChild(v),n.appendChild(u)})})},jt=()=>!w||!Array.isArray(w.blocks)?null:w.blocks.find(e=>e.id===oe)||null,Je=e=>{if(!w)return;if(!e){oe=null,Ze(w),ht(null),Xe(null);return}let t=w.blocks.find(n=>n.id===e)||w.blocks[0]||null;oe=(t==null?void 0:t.id)||null,Ze(w),ht(t),Xe(oe)},Qe=e=>{if(!w)return;let t={...w,blocks:e};Nn(t)},yt=()=>window.matchMedia("(min-width: 1024px)").matches;function en(e,t){if(!w||!e||!t)return;let n=[...w.blocks||[]],a=n.findIndex(D=>D.id===e);if(a<0)return;let u=a+t;if(u<0||u>=n.length)return;let[v]=n.splice(a,1);n.splice(u,0,v),Qe(n),Me(w.id,{preserveBlock:!0}),Je(v.id)}function Tn(e,t){if(!w||!e||!t||e===t)return;let n=[...w.blocks||[]],a=n.findIndex(D=>D.id===e),u=n.findIndex(D=>D.id===t);if(a<0||u<0)return;let[v]=n.splice(a,1);n.splice(u,0,v),Qe(n),Me(w.id,{preserveBlock:!0}),Je(v.id)}function tn(){if(!m)return;let e=yt();m.querySelectorAll("[data-block-item]").forEach(t=>{t.setAttribute("draggable",e?"true":"false")})}function vt(){E&&(E.classList.add("hidden"),et=!1)}function $n(){E&&(E.classList.remove("hidden"),et=!0)}function Fn(){et?vt():$n()}function jn(e){var v;if(!w||!e)return;let t=X[e];if(!t)return;let n=(w.blocks||[]).filter(D=>D.type===t.type).length+1,a=A(Ve(w.id,e),`${t.label} ${n}`,t.type,t.status,t.description,t.props,t.settings||{});if((t.type||"").toLowerCase()==="collectiongrid"){let D=((v=xe[0])==null?void 0:v.id)||"";a.collectionId=D,a.settings.collectionId=D,a.settings.limit=a.settings.limit||6}let u=[...w.blocks||[],a];Qe(u),Me(w.id,{preserveBlock:!0}),Je(a.id),vt(),$("Bloc ajout\xE9")}function nn(e){var a,u;if(!w)return;let t=(w.blocks||[]).filter(v=>v.id!==e),n=e===oe?((a=t[0])==null?void 0:a.id)||null:oe||((u=t[0])==null?void 0:u.id)||null;Qe(t),oe=n,Me(w.id,{preserveBlock:!0}),oe?Je(oe):(ht(null),Xe(null)),$("Bloc supprim\xE9")}function Mt(){p&&(p.classList.add("hidden"),p.classList.remove("flex"),xt=null)}function Mn(e){if(!p){nn(e);return}xt=e,p.classList.remove("hidden"),p.classList.add("flex")}let Nn=e=>{if(!e)return;let t=nt(e);se=se.map(n=>n.id===t.id?t:n),w=t,Be(t)},Me=(e,t={})=>{var u,v;let n=se.find(D=>D.id===e)||se[0]||null;w=n?nt(n):null,be=(n==null?void 0:n.id)||null,(!t.preserveBlock||!w||!w.blocks.some(D=>D.id===oe))&&(oe=((v=(u=w==null?void 0:w.blocks)==null?void 0:u[0])==null?void 0:v.id)||null),be&&Ye(be),Ft(se,be),gt(w),An(w),$e(w),Ze(w),ht(jt()),Xe(oe),tn(),et&&vt()},Nt=()=>window.matchMedia("(min-width: 1024px)").matches,sn=()=>{fe&&(Nt()?(fe.classList.add("is-open"),Q==null||Q.classList.add("hidden"),document.body.classList.remove("overflow-hidden")):fe.classList.remove("is-open"))},Pn=()=>{!fe||Nt()||(fe.classList.add("is-open"),Q==null||Q.classList.remove("hidden"),document.body.classList.add("overflow-hidden"))},Pt=()=>{fe&&(fe.classList.remove("is-open"),Q==null||Q.classList.add("hidden"),document.body.classList.remove("overflow-hidden"))},Dn=()=>{!ee||!ce||(ee.classList.remove("hidden"),ce.classList.add("hidden"),h&&(h.textContent=""),bt=!1,r&&(r.value="",r.focus()),l&&(l.value=""))},on=()=>{!ee||!ce||(ee.classList.add("hidden"),ce.classList.remove("hidden"),h&&(h.textContent=""),bt=!1,ee.reset())},zn=()=>{!r||!l||bt&&l.value.trim().length>0||(l.value=Ke(r.value))},se=[],be=null,bt=!1,w=null,oe=null,et=!1,xt=null,Dt="",zt=!1,tt=null,xe=[],Rn=e=>{let t={...e,props:Array.isArray(e.props)?e.props:[],settings:{...e.settings||{}}};return(t.type||"").toLowerCase()==="collectiongrid"&&(t.collectionId=t.collectionId||t.settings.collectionId||"",t.settings.collectionId=t.collectionId,t.settings.limit=t.settings.limit||6),t},nt=e=>({...e,blocks:(e.blocks||[]).map(t=>Rn(t))}),Un=async()=>{if(!d){xe=[],wt();return}try{let e=await fetch(d,{headers:{Accept:"application/json"}});if(!e.ok)throw new Error("Impossible de charger les collections.");let t=await e.json().catch(()=>[]);xe=Array.isArray(t)?t:[];let n=(x==null?void 0:x.value)||"";wt(n)}catch(e){console.error("[design] collections load",e),$("Collections indisponibles."),xe=[],wt()}},Rt=e=>{if(!H)return;if(!e){H.textContent=xe.length?"S\xE9lectionnez une collection pour afficher ses informations.":"Aucune collection disponible. Ajoutez-en depuis l\u2019onglet Contenus.";return}let t=xe.find(a=>a.id===e);if(!t){H.textContent=`Collection ${e}`;return}let n=[];t.description&&n.push(t.description),t.type&&n.push(`Type\xA0: ${t.type}`),H.textContent=n.join(" \xB7 ")||`Collection ${t.name||t.id}`},wt=(e="")=>{if(x){if(x.innerHTML="",!xe.length){x.disabled=!0;let t=document.createElement("option");t.value="",t.textContent="Aucune collection disponible",x.appendChild(t),Rt("");return}if(x.disabled=!1,e&&!xe.some(t=>t.id===e)){let t=document.createElement("option");t.value=e,t.textContent=e,x.appendChild(t)}xe.forEach(t=>{let n=document.createElement("option");n.value=t.id;let a=t.name||t.id;n.textContent=t.type?`${a} \xB7 ${t.type}`:a,n.dataset.description=t.description||"",x.appendChild(n)}),e&&(x.value=e),Rt(x.value||"")}};Un(),sn(),He.forEach(e=>{e.addEventListener("click",Pn)}),Fe.forEach(e=>{e.addEventListener("click",Pt)}),Q==null||Q.addEventListener("click",Pt),window.addEventListener("resize",()=>{sn(),tn()}),ce==null||ce.addEventListener("click",Dn),k==null||k.addEventListener("click",on),r==null||r.addEventListener("input",zn),l==null||l.addEventListener("input",()=>{h&&(h.textContent=""),bt=!0}),ee==null||ee.addEventListener("submit",async e=>{if(e.preventDefault(),!s){h&&(h.textContent="Aucun site s\xE9lectionn\xE9.");return}if(!r||!l)return;let t=r.value.trim(),n=Ke(l.value.trim()||t);if(!t||!n){h&&(h.textContent="Titre et slug sont requis.");return}h&&(h.textContent=""),de&&(de.disabled=!0,de.textContent="Cr\xE9ation...");try{let a=await Le({title:t,slug:n});if(!a||!a.id)throw new Error("R\xE9ponse invalide.");se=[...se,nt(a)],on(),$("Page cr\xE9\xE9e"),Me(a.id)}catch(a){console.error("[design] create page failed",a),h&&(h.textContent=a.message||"Impossible de cr\xE9er la page.")}finally{de&&(de.disabled=!1,de.textContent="Cr\xE9er")}}),j==null||j.addEventListener("click",e=>{e.stopPropagation(),Fn()}),document.addEventListener("click",e=>{et&&(E!=null&&E.contains(e.target)||j!=null&&j.contains(e.target)||vt())}),I.forEach(e=>{e.addEventListener("click",t=>{t.stopPropagation();let n=e.dataset.blockAdd;jn(n)})}),B==null||B.addEventListener("click",()=>{Mt()}),U==null||U.addEventListener("click",()=>{xt&&nn(xt),Mt()}),p==null||p.addEventListener("click",e=>{e.target===p&&Mt()}),c==null||c.addEventListener("input",e=>{var n,a;let t=e.target;if(!(!t||!t.name)&&(t.name==="group-columns-mobile"||t.name==="group-columns-desktop")){let u=((n=c.querySelector('[name="group-columns-mobile"]'))==null?void 0:n.value)||"1",v=((a=c.querySelector('[name="group-columns-desktop"]'))==null?void 0:a.value)||"3";Ie(u,v)}}),x==null||x.addEventListener("change",e=>{let t=e.target;Rt((t==null?void 0:t.value)||"")}),c==null||c.addEventListener("submit",Pe),P==null||P.addEventListener("click",e=>{e.preventDefault();let t=jt();t&&ve(t)}),C==null||C.addEventListener("load",()=>{zt=!0,Y("\xC0 jour"),Xe(oe)}),S==null||S.addEventListener("click",()=>{let e=window.open("","_blank");if(!e)return;e.opener=null;let t=e.document;t.open(),t.write(Dt||K()),t.close()});let Hn=e=>{let t=e.target.closest("[data-block-item]");!t||!yt()||(Ee=t.dataset.blockId||null,Ee&&(e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/plain",Ee),t.classList.add("opacity-50")))},an=()=>{m==null||m.querySelectorAll("[data-block-item]").forEach(e=>e.classList.remove("opacity-50","ring-2","ring-[#9C6BFF]/50"))},On=()=>{Ee=null,an()},Vn=e=>{if(!Ee||!yt())return;let t=e.target.closest("[data-block-item]");!t||t.dataset.blockId===Ee||(e.preventDefault(),t.classList.add("ring-2","ring-[#9C6BFF]/50"))},Jn=e=>{let t=e.target.closest("[data-block-item]");t&&t.classList.remove("ring-2","ring-[#9C6BFF]/50")},Wn=e=>{if(!Ee||!yt())return;e.preventDefault();let t=e.target.closest("[data-block-item]"),n=Ee;Ee=null,an();let a=(t==null?void 0:t.dataset.blockId)||null;a&&Tn(n,a)},Ee=null;m==null||m.addEventListener("dragstart",Hn),m==null||m.addEventListener("dragend",On),m==null||m.addEventListener("dragover",Vn),m==null||m.addEventListener("dragleave",Jn),m==null||m.addEventListener("drop",Wn),me()}function qn(){var Oe,ft,De;let o=document.querySelector("[data-collection-list]");if(!o)return;let i=document.querySelector("[data-collection-empty]"),g=document.querySelector("[data-collection-items-empty]"),y=document.querySelector("[data-item-table-wrapper]"),C=document.querySelector("[data-item-table-body]"),S=document.querySelector("[data-collection-title]"),F=document.querySelector("[data-collection-description]"),N=document.querySelector("[data-collection-drawer]"),m=document.querySelector("[data-collection-drawer-backdrop]"),J=document.querySelectorAll("[data-collection-drawer-open]"),W=document.querySelectorAll("[data-collection-drawer-close]"),j=document.querySelector("[data-item-add]"),E=document.querySelector("[data-item-detail-empty]"),I=document.querySelector("[data-item-form]"),p=I?{title:I.querySelector('[name="item-title"]'),slug:I.querySelector('[name="item-slug"]'),excerpt:I.querySelector('[name="item-excerpt"]'),content:I.querySelector('[name="item-content"]'),image:I.querySelector('[name="item-image"]'),status:I.querySelector('[name="item-status"]')}:{},U=document.querySelector("[data-item-status-badge]"),B=document.querySelector("[data-item-delete]"),q=document.querySelector("[data-item-delete-modal]"),_=document.querySelector("[data-item-delete-cancel]"),T=document.querySelector("[data-item-delete-confirm]"),re=document.querySelector("[data-item-cancel]"),L=document.querySelector("[data-item-save]"),f="rounded-full px-3 py-1 text-xs font-semibold",c=ke((R==null?void 0:R.slugValue)||z.slug||""),M=c?`/api/sites/${encodeURIComponent(c)}/collections`:null,x=[],H=[],P=null,V=null,G=!1,ie=!1,Z=null,Ie=()=>{N&&(N.classList.add("is-open"),N.style.transform="translateX(0)",m==null||m.classList.remove("hidden"),document.body.classList.add("overflow-hidden"))},Ae=()=>{N&&(N.classList.remove("is-open"),N.style.transform="",m==null||m.classList.add("hidden"),document.body.classList.remove("overflow-hidden"))};J.forEach(s=>{s.addEventListener("click",Ie)}),W.forEach(s=>{s.addEventListener("click",Ae)}),m==null||m.addEventListener("click",Ae);let Le=s=>{let d=(s||"").trim();if(!d)return"";if(d==="/")return"/";let A=d.replace(/^\//,"").split("/").map(X=>_e(X||"")).filter(X=>X.length>0);return A.length?`/${A.join("/")}`:""},Be=s=>{if(!s)return"\u2014";let d=new Date(s);return Number.isNaN(d.getTime())?"\u2014":d.toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric"})},me=()=>{let s=x.find(d=>d.id===P);S&&(S.textContent=(s==null?void 0:s.name)||"S\xE9lectionnez une collection"),F&&(F.textContent=(s==null?void 0:s.description)||"")},Ce=s=>{g&&(g.textContent=s||(P?"Aucun item dans cette collection pour le moment.":"Choisissez une collection dans le panneau de gauche."))},pe=()=>{I&&(I.classList.add("hidden"),I.dataset.itemId=""),E==null||E.classList.remove("hidden"),U&&(U.className=`hidden ${f}`,U.textContent=""),B&&(B.disabled=!0)},ve=()=>{I&&(I.classList.remove("hidden"),E==null||E.classList.add("hidden"))},Te=()=>{j&&(j.disabled=!P,j.disabled?j.classList.add("opacity-60","pointer-events-none"):j.classList.remove("opacity-60","pointer-events-none"))},Y=s=>{if(!U)return;if(!s){U.className=`hidden ${f}`,U.textContent="";return}let d=s.toLowerCase(),b="bg-slate-100 text-slate-600 border border-slate-200";d==="publi\xE9"||d==="publie"?b="bg-emerald-50 text-emerald-700 border border-emerald-100":d==="brouillon"&&(b="bg-amber-50 text-amber-700 border border-amber-100"),U.className=`${f} ${b}`,U.textContent=s},Ne=()=>{if(o.innerHTML="",!x.length){i==null||i.classList.remove("hidden");return}i==null||i.classList.add("hidden"),x.forEach(s=>{let d=s.id===P,b=document.createElement("button");b.type="button",b.dataset.collectionId=s.id,b.className=["w-full rounded-xl border px-3 py-2 text-left transition focus:outline-none focus:ring-2 focus:ring-[#9C6BFF]/40",d?"bg-[#F7F0FF] border-[#9C6BFF]/40 text-slate-900":"border-slate-200 text-slate-700 hover:border-[#9C6BFF]/40"].join(" "),b.setAttribute("role","option"),d?b.setAttribute("aria-current","true"):b.removeAttribute("aria-current"),b.innerHTML=`
          <div class="flex items-center justify-between gap-2">
            <div>
              <p class="text-sm font-semibold">${s.name||s.id}</p>
              <p class="text-xs text-slate-500">${s.description||""}</p>
            </div>
            <span class="text-[11px] uppercase tracking-wide text-slate-400">${s.type||""}</span>
          </div>
        `,b.addEventListener("click",()=>{ce(s.id),window.matchMedia("(min-width: 1024px)").matches||Ae()}),o.appendChild(b)})},K=()=>{if(C){if(C.innerHTML="",!H.length||!P){g==null||g.classList.remove("hidden"),Ce(),y==null||y.classList.add("hidden");return}g==null||g.classList.add("hidden"),y==null||y.classList.remove("hidden"),H.forEach(s=>{let d=document.createElement("tr");d.dataset.itemId=s.id;let b=s.id===V&&!G;d.className=["cursor-pointer transition focus-within:bg-[#F7F0FF]/70 focus:outline-none",b?"bg-[#F7F0FF]/70":"hover:bg-slate-50"].join(" "),d.tabIndex=0,d.setAttribute("role","button"),b?d.setAttribute("aria-current","true"):d.removeAttribute("aria-current");let A=s.status||"Brouillon",X=A.toLowerCase(),Ye=X==="publi\xE9"||X==="publie"?"bg-emerald-50 text-emerald-700 border border-emerald-100":"bg-amber-50 text-amber-700 border border-amber-100";d.innerHTML=`
          <td class="px-4 py-3 align-top">
            <div class="flex flex-col">
              <span class="text-sm font-semibold text-slate-900">${s.title||"Sans titre"}</span>
              <span class="text-xs text-slate-500">${s.summary||s.excerpt||""}</span>
            </div>
          </td>
          <td class="px-4 py-3 align-top text-sm text-slate-600">${s.slug||""}</td>
          <td class="px-4 py-3 align-top">
            <span class="inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold ${Ye}">
              ${A}
            </span>
          </td>
          <td class="px-4 py-3 align-top text-sm text-slate-500">${Be(s.updatedAt||s.createdAt)}</td>
        `;let ze=()=>{$e(s.id)};d.addEventListener("click",ze),d.addEventListener("keydown",je=>{(je.key==="Enter"||je.key===" ")&&(je.preventDefault(),ze())}),C.appendChild(d)})}},$e=s=>{let d=H.find(b=>b.id===s);d&&(V=d.id,G=!1,ie=!0,Pe(d),K())},Pe=s=>{if(!I||!s){pe();return}ve(),I.dataset.itemId=s.id,p.title&&(p.title.value=s.title||""),p.slug&&(p.slug.value=s.slug||""),p.excerpt&&(p.excerpt.value=s.summary||s.excerpt||""),p.content&&(p.content.value=s.content||""),p.image&&(p.image.value=s.image||""),p.status&&(p.status.value=s.status||"Brouillon"),Y(s.status||"Brouillon"),B&&(B.disabled=!1)},fe=()=>{var s;I&&(G=!0,V=null,ie=!1,I.dataset.itemId="",I.reset(),p.status&&(p.status.value="Brouillon"),p.slug&&(p.slug.value=""),Y("Brouillon"),ve(),B&&(B.disabled=!0),(s=p.title)==null||s.focus())},Q=()=>{var ze,je,Ke,Ve,$t,gt;let s=(((ze=p.title)==null?void 0:ze.value)||"").trim(),d=(((je=p.slug)==null?void 0:je.value)||"").trim(),b=(((Ke=p.excerpt)==null?void 0:Ke.value)||"").trim(),A=(((Ve=p.content)==null?void 0:Ve.value)||"").trim(),X=((($t=p.image)==null?void 0:$t.value)||"").trim(),Ye=((gt=p.status)==null?void 0:gt.value)||"Brouillon";return{title:s,slug:Le(d||s),summary:b,excerpt:b,content:A,image:X,status:Ye}},He=s=>{L&&(L.disabled=s,L.textContent=s?"Enregistrement\u2026":"Enregistrer"),B&&!G&&V&&(B.disabled=s)},Fe=async s=>{if(!M)return[];let d=await fetch(`${M}/${encodeURIComponent(s)}/items`,{headers:{Accept:"application/json"}});if(!d.ok){let A=await d.json().catch(()=>({}));throw new Error(A.message||"Impossible de charger les items.")}let b=await d.json().catch(()=>({}));return Array.isArray(b.items)?b.items:[]},ce=async s=>{if(s&&(P=s,V=null,G=!1,ie=!1,me(),Te(),Ne(),pe(),H=[],K(),Ce("Chargement des items\u2026"),g==null||g.classList.remove("hidden"),y==null||y.classList.add("hidden"),!!M))try{H=await Fe(s),K(),H.length||Ce()}catch(d){console.error("[content] items failed",d),$(d.message||"Impossible de charger les items."),H=[],K()}},ee=async(s,d)=>{if(!M)throw new Error("Site inconnu.");let b=await fetch(`${M}/${encodeURIComponent(s)}/items`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)});if(!b.ok){let A=await b.json().catch(()=>({}));throw new Error(A.message||"Impossible de cr\xE9er cet item.")}return b.json()},r=async(s,d,b)=>{if(!M)throw new Error("Site inconnu.");let A=await fetch(`${M}/${encodeURIComponent(s)}/items/${encodeURIComponent(d)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});if(!A.ok){let X=await A.json().catch(()=>({}));throw new Error(X.message||"Impossible de sauvegarder cet item.")}return A.json()},l=async(s,d)=>{if(!M)throw new Error("Site inconnu.");let b=await fetch(`${M}/${encodeURIComponent(s)}/items/${encodeURIComponent(d)}`,{method:"DELETE"});if(!b.ok){let A=await b.json().catch(()=>({}));throw new Error(A.message||"Impossible de supprimer cet item.")}},k=async()=>{var s;if(!M){i==null||i.classList.remove("hidden"),P=null,H=[],K(),me(),Te();return}try{let d=await fetch(M,{headers:{Accept:"application/json"}});if(!d.ok)throw new Error("Impossible de charger les collections.");let b=await d.json().catch(()=>[]);if(x=Array.isArray(b)?b:[],Ne(),x.length>0){let A=((s=x.find(X=>X.id===P))==null?void 0:s.id)||x[0].id;ce(A)}else P=null,H=[],me(),Te(),K()}catch(d){console.error("[content] load collections",d),$(d.message||"Impossible de charger les collections.")}};j==null||j.addEventListener("click",()=>{if(!P){$("S\xE9lectionnez d\u2019abord une collection.");return}fe(),K()}),re==null||re.addEventListener("click",s=>{if(s.preventDefault(),G){G=!1,V=null,pe(),K();return}if(V){let d=H.find(b=>b.id===V);Pe(d)}else pe()}),(Oe=p.status)==null||Oe.addEventListener("change",()=>{Y(p.status.value)}),(ft=p.title)==null||ft.addEventListener("input",()=>{!G||!p.slug||ie||(p.slug.value=Le(p.title.value))}),(De=p.slug)==null||De.addEventListener("input",()=>{G&&(ie=!0)}),I==null||I.addEventListener("submit",async s=>{var b;if(s.preventDefault(),!P){$("S\xE9lectionnez une collection.");return}let d=Q();if(!d.title){$("Le titre est requis."),(b=p.title)==null||b.focus();return}He(!0);try{let A;G||!V?(A=await ee(P,d),H=[...H,A],$("Item cr\xE9\xE9")):(A=await r(P,V,d),H=H.map(X=>X.id===A.id?A:X),$("Item mis \xE0 jour")),G=!1,V=A.id,Pe(A),K()}catch(A){console.error("[content] save item failed",A),$(A.message||"Impossible de sauvegarder cet item.")}finally{He(!1)}});let h=()=>{q&&(q.classList.add("hidden"),q.classList.remove("flex"),Z=null)},de=()=>{!q||!V||(Z=V,q.classList.remove("hidden"),q.classList.add("flex"))};B==null||B.addEventListener("click",s=>{s.preventDefault(),V&&de()}),_==null||_.addEventListener("click",()=>{h()}),q==null||q.addEventListener("click",s=>{s.target===q&&h()}),T==null||T.addEventListener("click",async()=>{if(!Z||!P){h();return}T.disabled=!0,T.textContent="Suppression\u2026";try{await l(P,Z),H=H.filter(s=>s.id!==Z),V===Z&&(V=null,pe()),$("Item supprim\xE9"),K()}catch(s){console.error("[content] delete item failed",s),$(s.message||"Impossible de supprimer cet item.")}finally{T.disabled=!1,T.textContent="Supprimer",h()}}),me(),Te(),k()}function kn(){let o=document.querySelector("[data-deploy-form]");if(!o)return;let i=document.querySelector("[data-deploy-protocol]"),g=document.querySelector("[data-deploy-host]"),y=document.querySelector("[data-deploy-port]"),C=document.querySelector("[data-deploy-user]"),S=document.querySelector("[data-deploy-password]"),F=document.querySelector("[data-deploy-show-password]"),N=document.querySelector("[data-deploy-remote-path]"),m=document.querySelector("[data-deploy-feedback]"),J=document.querySelector("[data-deploy-save]"),W=document.querySelector("[data-deploy-test]"),j=ke((R==null?void 0:R.slugValue)||z.slug||""),E=j?`/api/sites/${encodeURIComponent(j)}/deploy-config`:null,I=!1,p=null,U=L=>{let f=(L||"").trim();return f?f.startsWith("/")?f:`/${f}`:"/www"},B=(L,f="muted")=>{if(!m)return;let c="inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold",M=f==="success"?"bg-emerald-50 text-emerald-700 border border-emerald-100":f==="error"?"bg-rose-50 text-rose-700 border border-rose-100":"bg-slate-50 text-slate-600 border border-slate-100";if(!L){m.textContent="",m.className="text-sm text-slate-500";return}let x=f==="success"?"\u2705":f==="error"?"\u274C":"\u2139\uFE0F";m.innerHTML=`<span class="${c} ${M}">${x}<span>${L}</span></span>`,m.className="text-sm"},q=(L=null)=>{p=L;let f=!!L,c='<svg class="h-4 w-4 animate-spin text-white" viewBox="0 0 24 24" fill="none" aria-hidden="true"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"></path></svg>';J&&(J.disabled=f,J.innerHTML=L==="save"?`<span class="inline-flex items-center gap-2">${c}<span>Enregistrement\u2026</span></span>`:"Enregistrer"),W&&(W.disabled=f,W.innerHTML=L==="test"?'<span class="inline-flex items-center gap-2"><span class="h-4 w-4 animate-spin rounded-full border-2 border-slate-200 border-t-slate-600"></span><span>Test en cours\u2026</span></span>':"Tester la connexion")},_=L=>{i&&(i.value=L.protocol||"sftp"),g&&(g.value=L.host||""),y&&(y.value=L.port||""),C&&(C.value=L.user||""),N&&(N.value=L.remotePath||"/www"),I=!!L.hasPassword,S&&(S.value="",S.placeholder=I?"Non affich\xE9":"Mot de passe")},T=async()=>{if(!E){B("Aucun site actif s\xE9lectionn\xE9.","error");return}q("load");try{let L=await fetch(E,{headers:{Accept:"application/json"}}),f=await L.json().catch(()=>({}));L.ok?(_(f||{}),B("Configuration charg\xE9e.","muted")):(_(f||{}),B(f.message||"Configuration par d\xE9faut charg\xE9e.","muted"))}catch(L){console.error("[deploy] load failed",L),B(L.message||"Erreur lors du chargement.","error")}finally{q(null)}},re=()=>{let L={protocol:(i==null?void 0:i.value)||"sftp",host:(g==null?void 0:g.value.trim())||"",port:Number(y==null?void 0:y.value)||void 0,user:(C==null?void 0:C.value.trim())||"",remotePath:U((N==null?void 0:N.value)||"/www")},f=(S==null?void 0:S.value)||"";return f.trim().length>0&&(L.password=f),L};o.addEventListener("submit",async L=>{if(L.preventDefault(),!E){B("Aucun site actif s\xE9lectionn\xE9.","error");return}let f=re();if(!f.host||!f.user||!f.remotePath){B("Remplissez les champs requis.","error");return}q("save");try{let c=await fetch(E,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)});if(!c.ok){let x=await c.json().catch(()=>({}));throw new Error(x.message||"Sauvegarde impossible.")}let M=await c.json();_(M||{}),B("Configuration enregistr\xE9e.","success"),$("Configuration d\xE9ploiement sauvegard\xE9e")}catch(c){console.error("[deploy] save failed",c),B(c.message||"Erreur lors de la sauvegarde.","error")}finally{q(null)}}),W==null||W.addEventListener("click",async()=>{if(!E){B("Aucun site actif s\xE9lectionn\xE9.","error");return}let L=re();if(!L.host||!L.user||!L.remotePath){B("Remplissez les champs requis avant de tester.","error");return}q("test");try{let f=await fetch(`${E}/test`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(L)}),c=await f.json().catch(()=>({}));if(!f.ok||c.success===!1){B(c.message||"Test de connexion \xE9chou\xE9.","error");return}B(c.message||"Connexion OK.","success"),$("Test de connexion r\xE9ussi")}catch(f){console.error("[deploy] test failed",f),B(f.message||"Test de connexion \xE9chou\xE9.","error")}finally{q(null)}}),F==null||F.addEventListener("change",()=>{S&&(S.type=F.checked?"text":"password")}),T()}function In(){let o=document.querySelector("[data-media-grid]");if(!o)return;let i=document.querySelector("[data-media-empty]"),g=document.querySelector("[data-media-count]"),y=document.querySelector("[data-media-filter-type]"),C=document.querySelector("[data-media-detail-empty]"),S=document.querySelector("[data-media-detail]"),F=document.querySelector("[data-media-detail-preview]"),N=document.querySelector("[data-media-detail-name]"),m=document.querySelector("[data-media-detail-type]"),J=document.querySelector("[data-media-detail-size]"),W=document.querySelector("[data-media-detail-path]"),j=document.querySelector("[data-media-detail-used]"),E=document.querySelector("[data-media-alt-edit]"),I=document.querySelector("[data-media-save]"),p=document.querySelector("[data-media-delete]"),U=document.querySelector("[data-media-delete-modal]"),B=document.querySelector("[data-media-delete-cancel]"),q=document.querySelector("[data-media-delete-confirm]"),_=document.querySelector("[data-media-upload-open]"),T=document.querySelector("[data-media-file-input]"),re=document.querySelector("[data-media-upload-status]"),L=ke((R==null?void 0:R.slugValue)||z.slug||""),f=L?`/api/sites/${encodeURIComponent(L)}/media`:null,c=[],M=[],x=null,H=null,P=null,V=!1,G=!1,ie=!1,Z=null,Ie=r=>{let l=(r.type||"").toLowerCase(),k=(r.filename||"").toLowerCase();return l.includes("image")||/\.(png|jpe?g|webp|svg|gif)$/i.test(k)?"image":l.includes("pdf")||l.includes("doc")||/\.(pdf|docx?)$/i.test(k)?"document":l.includes("video")||/\.(mp4|mov|webm)$/i.test(k)?"video":"other"},Ae=r=>Ie(r)==="image",Le=r=>{if(r.type)return r.type.toUpperCase();let l=(r.filename||"").split(".").pop();return l?l.toUpperCase():"FILE"},Be=r=>!r||r<=0?"\u2014":r<1024?`${r} o`:r<1024*1024?`${(r/1024).toFixed(1)} ko`:`${(r/(1024*1024)).toFixed(1)} Mo`,me=()=>{S==null||S.classList.add("hidden"),C==null||C.classList.remove("hidden"),Ce(),x=null,G=!1,Y(!1),F&&(F.innerHTML='<span class="text-slate-400 text-sm">Aucun m\xE9dia s\xE9lectionn\xE9</span>'),N&&(N.textContent=""),m&&(m.textContent=""),J&&(J.textContent=""),E&&(E.value=""),W&&(W.textContent=""),j&&(j.innerHTML="")},Ce=()=>{P=null,ie=!1,V=!1,Z&&(URL.revokeObjectURL(Z),Z=null),re&&(re.textContent="Aucun fichier s\xE9lectionn\xE9."),T&&(T.value="")},pe=()=>{g&&(M.length?M.length===1?g.textContent="1 m\xE9dia":g.textContent=`${M.length} m\xE9dias`:g.textContent="0 m\xE9dia")},ve=()=>{if(o.innerHTML="",!M.length){i==null||i.classList.remove("hidden"),me();return}i==null||i.classList.add("hidden"),M.forEach(r=>{let l=document.createElement("button");l.type="button",l.dataset.mediaId=r.id;let k=r.id===x;l.className=["group relative flex flex-col rounded-2xl border px-3 py-3 text-left transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[#9C6BFF]",k?"border-[#9C6BFF] bg-[#F7F0FF]/60 shadow-sm":"border-slate-200 hover:border-[#9C6BFF]/40"].join(" ");let h=Ae(r)?`<img src="${r.path}" alt="${r.alt||r.filename}" class="h-full w-full object-cover" />`:'<div class="flex h-full w-full items-center justify-center text-3xl text-slate-400">\u{1F4C4}</div>';l.innerHTML=`
          <div class="relative aspect-[4/3] overflow-hidden rounded-xl bg-slate-100">
            ${h}
          </div>
          <div class="mt-2 space-y-1">
            <p class="text-sm font-semibold text-slate-900 truncate">${r.filename}</p>
            <p class="text-xs text-slate-500">
              ${Le(r)} \xB7 ${Be(r.size)}
            </p>
          </div>
        `,r.id===H&&(l.classList.add("ring-2","ring-[#9C6BFF]"),window.setTimeout(()=>{l.classList.remove("ring-2","ring-[#9C6BFF]")},1600)),l.addEventListener("click",()=>Ne(r.id)),o.appendChild(l)}),H=null},Te=r=>{if(j){if(j.innerHTML="",!r.usedIn||r.usedIn.length===0){let l=document.createElement("li");l.textContent="Non utilis\xE9",l.className="text-xs text-slate-400",j.appendChild(l);return}r.usedIn.forEach(l=>{let k=document.createElement("li");k.textContent=l,k.className="text-xs text-slate-600",j.appendChild(k)})}},Y=r=>{if(I){if(ie){I.textContent=r?"T\xE9l\xE9versement\u2026":"T\xE9l\xE9verser",I.disabled=r||!P,p&&p.classList.add("hidden");return}I.textContent=r?"Enregistrement\u2026":"Enregistrer",I.disabled=r||!G,p&&(p.classList.remove("hidden"),p.disabled=!x)}},Ne=r=>{let l=c.find(k=>k.id===r);if(!l){me(),ve();return}Ce(),x=l.id,G=!1,Y(!1),ve(),C==null||C.classList.add("hidden"),S==null||S.classList.remove("hidden"),F&&(Ae(l)?F.innerHTML=`<img src="${l.path}" alt="${l.alt||l.filename}" class="h-full w-full rounded-2xl object-cover" />`:F.innerHTML='<div class="flex h-full w-full flex-col items-center justify-center gap-1 text-slate-400"><span class="text-3xl">\u{1F4C4}</span><span class="text-xs font-semibold">Document</span></div>'),N&&(N.textContent=l.filename||"Fichier"),m&&(m.textContent=Le(l)),J&&(J.textContent=Be(l.size)),E&&(E.value=l.alt||""),W&&(W.textContent=l.path||"\u2014"),Te(l)},K=r=>{if(r){if(ie=!0,G=!1,x=null,C==null||C.classList.add("hidden"),S==null||S.classList.remove("hidden"),Z&&URL.revokeObjectURL(Z),Z=URL.createObjectURL(r),F&&(F.innerHTML=`<img src="${Z}" alt="${r.name}" class="h-full w-full rounded-2xl object-cover" />`),N&&(N.textContent=r.name),m&&(m.textContent=Le({type:r.type,filename:r.name})),J&&(J.textContent=Be(r.size)),E&&!E.value.trim()&&(E.value=r.name.replace(/\.[^.]+$/,"").replace(/[-_]/g," ")),W&&(W.textContent="En attente de t\xE9l\xE9versement"),j){j.innerHTML="";let l=document.createElement("li");l.textContent="Non utilis\xE9",l.className="text-xs text-slate-400",j.appendChild(l)}Y(!1)}},$e=()=>{let r=(y==null?void 0:y.value)||"all";r==="all"?M=[...c]:M=c.filter(l=>l.groupType===r),M.some(l=>l.id===x)||me(),pe(),ve()},Pe=async()=>{if(!f){i==null||i.classList.remove("hidden");return}try{let r=await fetch(f,{headers:{Accept:"application/json"}});if(!r.ok)throw new Error("Impossible de charger les m\xE9dias.");let l=await r.json().catch(()=>({items:[]}));c=Array.isArray(l.items)?l.items.map(k=>({...k,groupType:Ie(k)})):[],$e()}catch(r){console.error("[media] load failed",r),$(r.message||"Impossible de charger les m\xE9dias."),c=[],$e()}};y==null||y.addEventListener("change",()=>{$e()}),E==null||E.addEventListener("input",()=>{if(ie){Y(!1);return}x&&(G=!0,Y(!1))});let fe=r=>{if(r){if(!r.type.startsWith("image/")){$("Seules les images sont accept\xE9es pour le moment.");return}if(r.size>4*1024*1024){$("Fichier trop volumineux (4 Mo max).");return}P=r,K(r),re&&(re.textContent=`${r.name} \xB7 ${Be(r.size)}`)}},Q=r=>new Promise((l,k)=>{let h=new FileReader;h.onload=()=>{let de=h.result||"",[,Oe=""]=String(de).split(",");l(Oe)},h.onerror=()=>k(new Error("Impossible de lire ce fichier.")),h.readAsDataURL(r)}),He=async()=>{if(!(!P||!f)){V=!0,Y(!0);try{let r=await Q(P),l={filename:P.name,type:P.type,size:P.size,alt:(E==null?void 0:E.value)||"",data:r},k=await fetch(f,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)});if(!k.ok){let de=await k.json().catch(()=>({}));throw new Error(de.message||"Upload impossible.")}let h=await k.json();h.groupType=Ie(h),c=[...c,h],H=h.id,$e(),Ne(h.id),$("M\xE9dia ajout\xE9"),Ce()}catch(r){console.error("[media] upload failed",r),$(r.message||"Impossible de t\xE9l\xE9verser ce m\xE9dia.")}finally{V=!1,P=null,Y(!1)}}};_==null||_.addEventListener("click",()=>T==null?void 0:T.click()),T==null||T.addEventListener("change",()=>{T.files&&T.files[0]&&fe(T.files[0])});let Fe=()=>{U&&(U.classList.add("hidden"),U.classList.remove("flex"))},ce=()=>{if(!(!x||ie)){if(U){U.classList.remove("hidden"),U.classList.add("flex");return}window.confirm("Supprimer ce m\xE9dia ?")&&ee()}},ee=async()=>{if(!x||!f){Fe();return}let r=()=>{p&&(p.disabled=!0),q&&(q.disabled=!0,q.textContent="Suppression\u2026")},l=()=>{p&&(p.disabled=!1),q&&(q.disabled=!1,q.textContent="Supprimer")};r();try{let k=await fetch(`${f}/${encodeURIComponent(x)}`,{method:"DELETE"});if(!k.ok){let h=await k.json().catch(()=>({}));throw new Error(h.message||"Suppression impossible.")}c=c.filter(h=>h.id!==x),M=M.filter(h=>h.id!==x),$("M\xE9dia supprim\xE9"),me(),pe(),ve()}catch(k){console.error("[media] delete failed",k),$(k.message||"Impossible de supprimer ce m\xE9dia.")}finally{l(),Fe()}};B==null||B.addEventListener("click",Fe),U==null||U.addEventListener("click",r=>{r.target===U&&Fe()}),q==null||q.addEventListener("click",()=>ee()),p==null||p.addEventListener("click",ce),I==null||I.addEventListener("click",async()=>{if(ie){He();return}if(!(!x||!f||!E)){Y(!0);try{let r={alt:E.value||""},l=await fetch(`${f}/${encodeURIComponent(x)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!l.ok){let h=await l.json().catch(()=>({}));throw new Error(h.message||"Impossible de mettre \xE0 jour ce m\xE9dia.")}let k=await l.json();c=c.map(h=>h.id===x?{...h,...k}:h),M=M.map(h=>h.id===x?{...h,...k}:h),G=!1,Y(!1),$("M\xE9dia mis \xE0 jour")}catch(r){console.error("[media] update failed",r),$(r.message||"\xC9chec de la mise \xE0 jour."),Y(!1)}}}),Pe()}});})();
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vY29yZS9zY3JpcHRzL2FkbWluLmpzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuICBjb25zb2xlLmxvZygnW2FkbWluXSBBdGVsaWVyIGNoYXJnXHUwMEU5Jyk7XG4gIGNvbnN0IGxvZ291dEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWxvZ291dF0nKTtcbiAgaWYgKGxvZ291dEJ1dHRvbikge1xuICAgIGxvZ291dEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGxvZ291dEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBmZXRjaCgnL2FwaS9sb2dvdXQnLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbYWRtaW5dIEltcG9zc2libGUgZGUgc2UgZFx1MDBFOWNvbm5lY3RlcicsIGVycik7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvYWRtaW4vaW5kZXguaHRtbCc7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBjb25zdCBzaWRlYmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRtaW4tc2lkZWJhcl0nKTtcbiAgY29uc3Qgc2lkZWJhck92ZXJsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZG1pbi1zaWRlYmFyLW92ZXJsYXldJyk7XG4gIGNvbnN0IHNpZGViYXJUb2dnbGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYWRtaW4tc2lkZWJhci10b2dnbGVdJyk7XG4gIGNvbnN0IHNpZGViYXJDbG9zZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1hZG1pbi1zaWRlYmFyLWNsb3NlXScpO1xuICBjb25zdCBib2R5ID0gZG9jdW1lbnQuYm9keTtcbiAgbGV0IHNpZGViYXJPcGVuID0gZmFsc2U7XG5cbiAgY29uc3QgYXBwbHlTaWRlYmFyU3RhdGUgPSAoKSA9PiB7XG4gICAgaWYgKCFzaWRlYmFyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGlzRGVza3RvcCA9IHdpbmRvdy5tYXRjaE1lZGlhKCcobWluLXdpZHRoOiAxMDI0cHgpJykubWF0Y2hlcztcbiAgICBpZiAoaXNEZXNrdG9wKSB7XG4gICAgICBzaWRlYmFyLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgc2lkZWJhck92ZXJsYXk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHNpZGViYXJPcGVuKSB7XG4gICAgICBzaWRlYmFyLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgc2lkZWJhck92ZXJsYXk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgYm9keS5jbGFzc0xpc3QuYWRkKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2lkZWJhci5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIHNpZGViYXJPdmVybGF5Py5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnb3ZlcmZsb3ctaGlkZGVuJyk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IG9wZW5TaWRlYmFyID0gKCkgPT4ge1xuICAgIHNpZGViYXJPcGVuID0gdHJ1ZTtcbiAgICBhcHBseVNpZGViYXJTdGF0ZSgpO1xuICB9O1xuXG4gIGNvbnN0IGNsb3NlU2lkZWJhciA9ICgpID0+IHtcbiAgICBzaWRlYmFyT3BlbiA9IGZhbHNlO1xuICAgIGFwcGx5U2lkZWJhclN0YXRlKCk7XG4gIH07XG5cbiAgaWYgKHNpZGViYXIgJiYgc2lkZWJhclRvZ2dsZXMubGVuZ3RoID4gMCkge1xuICAgIHNpZGViYXJUb2dnbGVzLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlblNpZGViYXIpO1xuICAgIH0pO1xuICAgIHNpZGViYXJDbG9zZUJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZVNpZGViYXIpO1xuICAgIH0pO1xuICAgIHNpZGViYXJPdmVybGF5Py5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlU2lkZWJhcik7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGFwcGx5U2lkZWJhclN0YXRlKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VzY2FwZScgJiYgc2lkZWJhck9wZW4pIHtcbiAgICAgICAgY2xvc2VTaWRlYmFyKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgYXBwbHlTaWRlYmFyU3RhdGUoKTtcbiAgfVxuXG4gIGNvbnN0IEFDVElWRV9TSVRFX0tFWSA9ICdjbG93ZXI6Y3VycmVudFNpdGUnO1xuICBjb25zdCBBQ1RJVkVfU0lURV9OQU1FX0tFWSA9ICdjbG93ZXI6Y3VycmVudFNpdGVOYW1lJztcbiAgY29uc3Qgc3RvcmVkU2l0ZSA9IHsgc2x1ZzogbnVsbCwgbmFtZTogJycgfTtcbiAgY29uc3QgbG9hZFN0b3JlZFNpdGUgPSAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHN0b3JlZFNpdGUuc2x1ZyA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShBQ1RJVkVfU0lURV9LRVkpO1xuICAgICAgc3RvcmVkU2l0ZS5uYW1lID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKEFDVElWRV9TSVRFX05BTUVfS0VZKSB8fCAnJztcbiAgICB9IGNhdGNoIHtcbiAgICAgIHN0b3JlZFNpdGUuc2x1ZyA9IG51bGw7XG4gICAgICBzdG9yZWRTaXRlLm5hbWUgPSAnJztcbiAgICB9XG4gIH07XG4gIGxvYWRTdG9yZWRTaXRlKCk7XG5cbiAgY29uc3Qgc2l0ZUNhcmRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtc2l0ZS1jYXJkXScpO1xuICBjb25zdCBzaXRlU2VsZWN0QnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXNpdGUtc2VsZWN0XScpO1xuICBjb25zdCBzaXRlTmFtZUxhYmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY3VycmVudC1zaXRlLW5hbWVdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZVNpdGVMYWJlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXdvcmtzcGFjZS1zaXRlLW5hbWVdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZUJhY2tOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtd29ya3NwYWNlLWJhY2stbmFtZV0nKTtcbiAgY29uc3Qgd29ya3NwYWNlQmFja01vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtd29ya3NwYWNlLWJhY2stbW9kYWxdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZUJhY2tCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtd29ya3NwYWNlLWJhY2tdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZUJhY2tDYW5jZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS13b3Jrc3BhY2UtYmFjay1jYW5jZWxdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZUJhY2tDb25maXJtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtd29ya3NwYWNlLWJhY2stY29uZmlybV0nKTtcbiAgY29uc3Qgd29ya3NwYWNlTmF2TGlua3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS13b3Jrc3BhY2UtdGFiXScpO1xuICBjb25zdCBzaXRlVG9hc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLXRvYXN0XScpO1xuICBjb25zdCBzaXRlVG9hc3RNZXNzYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS10b2FzdC1tZXNzYWdlXScpO1xuICBjb25zdCBzaXRlQ3JlYXRlQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXNpdGUtY3JlYXRlXScpO1xuICBjb25zdCBzaXRlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLW1vZGFsXScpO1xuICBjb25zdCBzaXRlRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtZm9ybV0nKTtcbiAgY29uc3Qgc2l0ZU5hbWVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtbmFtZV0nKTtcbiAgY29uc3Qgc2l0ZVNsdWdJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtc2x1Z10nKTtcbiAgY29uc3Qgc2l0ZVNsdWdFcnJvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtc2x1Zy1lcnJvcl0nKTtcbiAgY29uc3Qgc2l0ZU1vZGFsRXJyb3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLW1vZGFsLWVycm9yXScpO1xuICBjb25zdCBzaXRlTW9kYWxDYW5jZWxCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtc2l0ZS1tb2RhbC1jYW5jZWxdJyk7XG4gIGNvbnN0IHNpdGVNb2RhbFN1Ym1pdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtbW9kYWwtc3VibWl0XScpO1xuICBjb25zdCB3b3Jrc3BhY2VDb250ZXh0ID0gZ2V0V29ya3NwYWNlQ29udGV4dCgpO1xuICBsZXQgc2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gIGxldCBsYXN0Rm9jdXNlZEVsZW1lbnQgPSBudWxsO1xuICBsZXQgdG9hc3RUaW1lb3V0SWQgPSBudWxsO1xuXG4gIGNvbnN0IGZvY3VzYWJsZVNlbGVjdG9yID1cbiAgICAnYVtocmVmXSwgYnV0dG9uOm5vdChbZGlzYWJsZWRdKSwgdGV4dGFyZWEsIGlucHV0LCBzZWxlY3QsIFt0YWJpbmRleF06bm90KFt0YWJpbmRleD1cIi0xXCJdKSc7XG4gIGNvbnN0IHRyYXBGb2N1cyA9IChldmVudCkgPT4ge1xuICAgIGlmICghc2l0ZU1vZGFsIHx8IHNpdGVNb2RhbC5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpIHx8IGV2ZW50LmtleSAhPT0gJ1RhYicpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZm9jdXNhYmxlRWxlbWVudHMgPSBBcnJheS5mcm9tKHNpdGVNb2RhbC5xdWVyeVNlbGVjdG9yQWxsKGZvY3VzYWJsZVNlbGVjdG9yKSkuZmlsdGVyKFxuICAgICAgKGVsKSA9PiAhZWwuaGFzQXR0cmlidXRlKCdkaXNhYmxlZCcpICYmICFlbC5nZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJyksXG4gICAgKTtcbiAgICBpZiAoZm9jdXNhYmxlRWxlbWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGZpcnN0ID0gZm9jdXNhYmxlRWxlbWVudHNbMF07XG4gICAgY29uc3QgbGFzdCA9IGZvY3VzYWJsZUVsZW1lbnRzW2ZvY3VzYWJsZUVsZW1lbnRzLmxlbmd0aCAtIDFdO1xuICAgIGlmIChldmVudC5zaGlmdEtleSkge1xuICAgICAgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IGZpcnN0KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGxhc3QuZm9jdXMoKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IGxhc3QpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBmaXJzdC5mb2N1cygpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBzaG93VG9hc3QgPSAobWVzc2FnZSkgPT4ge1xuICAgIGlmICghc2l0ZVRvYXN0IHx8ICFzaXRlVG9hc3RNZXNzYWdlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHNpdGVUb2FzdE1lc3NhZ2UudGV4dENvbnRlbnQgPSBtZXNzYWdlO1xuICAgIHNpdGVUb2FzdC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICBpZiAodG9hc3RUaW1lb3V0SWQpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0b2FzdFRpbWVvdXRJZCk7XG4gICAgfVxuICAgIHRvYXN0VGltZW91dElkID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBzaXRlVG9hc3QuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgfSwgMjUwMCk7XG4gIH07XG5cbiAgZnVuY3Rpb24gZW5zdXJlTGVhZGluZ1NsYXNoKHNsdWcpIHtcbiAgICBpZiAoIXNsdWcpIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgcmV0dXJuIHNsdWcuc3RhcnRzV2l0aCgnLycpID8gc2x1ZyA6IGAvJHtzbHVnfWA7XG4gIH1cblxuICBmdW5jdGlvbiBzdHJpcExlYWRpbmdTbGFzaChzbHVnKSB7XG4gICAgcmV0dXJuIHNsdWc/LnJlcGxhY2UoL15cXC8vLCAnJykgfHwgJyc7XG4gIH1cblxuICBjb25zdCBwZXJzaXN0U2l0ZVN0YXRlID0gKHNsdWcsIG5hbWUpID0+IHtcbiAgICBjb25zdCBub3JtYWxpemVkU2x1ZyA9IHNsdWcgPyBlbnN1cmVMZWFkaW5nU2xhc2goc2x1ZykgOiBudWxsO1xuICAgIHRyeSB7XG4gICAgICBpZiAobm9ybWFsaXplZFNsdWcpIHtcbiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKEFDVElWRV9TSVRFX0tFWSwgbm9ybWFsaXplZFNsdWcpO1xuICAgICAgICBzdG9yZWRTaXRlLnNsdWcgPSBub3JtYWxpemVkU2x1ZztcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgbmFtZSA9PT0gJ3N0cmluZycgJiYgbmFtZS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShBQ1RJVkVfU0lURV9OQU1FX0tFWSwgbmFtZSk7XG4gICAgICAgIHN0b3JlZFNpdGUubmFtZSA9IG5hbWU7XG4gICAgICB9XG4gICAgfSBjYXRjaCB7XG4gICAgICBzdG9yZWRTaXRlLnNsdWcgPSBub3JtYWxpemVkU2x1ZyB8fCBzdG9yZWRTaXRlLnNsdWc7XG4gICAgICBzdG9yZWRTaXRlLm5hbWUgPSBuYW1lIHx8IHN0b3JlZFNpdGUubmFtZTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgdXBkYXRlU2l0ZUxhYmVscyA9IChuYW1lKSA9PiB7XG4gICAgaWYgKHNpdGVOYW1lTGFiZWwgJiYgbmFtZSkge1xuICAgICAgc2l0ZU5hbWVMYWJlbC50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgfVxuICAgIGlmICh3b3Jrc3BhY2VTaXRlTGFiZWwgJiYgbmFtZSkge1xuICAgICAgd29ya3NwYWNlU2l0ZUxhYmVsLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICB9XG4gICAgaWYgKHdvcmtzcGFjZUJhY2tOYW1lICYmIG5hbWUpIHtcbiAgICAgIHdvcmtzcGFjZUJhY2tOYW1lLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgdXBkYXRlV29ya3NwYWNlTmF2TGlua3MgPSAoc2x1ZykgPT4ge1xuICAgIHdvcmtzcGFjZU5hdkxpbmtzLmZvckVhY2goKGxpbmspID0+IHtcbiAgICAgIGNvbnN0IHRhYiA9IGxpbmsuZGF0YXNldC53b3Jrc3BhY2VUYWI7XG4gICAgICBpZiAoIXRhYikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIXNsdWcpIHtcbiAgICAgICAgbGluay5ocmVmID0gJyMnO1xuICAgICAgICBsaW5rLmNsYXNzTGlzdC5hZGQoJ3BvaW50ZXItZXZlbnRzLW5vbmUnLCAnb3BhY2l0eS01MCcsICd0ZXh0LXNsYXRlLTQwMCcpO1xuICAgICAgICBsaW5rLnNldEF0dHJpYnV0ZSgnYXJpYS1kaXNhYmxlZCcsICd0cnVlJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHNsdWdQYXRoID0gZW5jb2RlVVJJQ29tcG9uZW50KHN0cmlwTGVhZGluZ1NsYXNoKHNsdWcpKTtcbiAgICAgIGxpbmsuaHJlZiA9IGAvYWRtaW4vc2l0ZS8ke3NsdWdQYXRofS8ke3RhYn1gO1xuICAgICAgbGluay5jbGFzc0xpc3QucmVtb3ZlKCdwb2ludGVyLWV2ZW50cy1ub25lJywgJ29wYWNpdHktNTAnLCAndGV4dC1zbGF0ZS00MDAnKTtcbiAgICAgIGxpbmsucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWRpc2FibGVkJyk7XG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3QgYXBwbHlBY3RpdmVTaXRlID0gKHNsdWcsIG9wdGlvbnMgPSB7fSkgPT4ge1xuICAgIGlmICghc2x1Zykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBub3JtYWxpemVkU2x1ZyA9IGVuc3VyZUxlYWRpbmdTbGFzaChzbHVnKTtcbiAgICBsZXQgYWN0aXZlU2l0ZU5hbWUgPVxuICAgICAgb3B0aW9ucy5zaXRlTmFtZSB8fCBzdG9yZWRTaXRlLm5hbWUgfHwgc2l0ZU5hbWVMYWJlbD8uZGF0YXNldC5kZWZhdWx0U2l0ZU5hbWUgfHwgJyc7XG4gICAgc2l0ZUNhcmRzLmZvckVhY2goKGNhcmQpID0+IHtcbiAgICAgIGNvbnN0IGNhcmRTbHVnID0gZW5zdXJlTGVhZGluZ1NsYXNoKGNhcmQuZGF0YXNldC5zaXRlQ2FyZCB8fCAnJyk7XG4gICAgICBjb25zdCBpc0FjdGl2ZSA9IGNhcmRTbHVnID09PSBub3JtYWxpemVkU2x1ZztcbiAgICAgIGNvbnN0IGJhZGdlID0gY2FyZC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLWFjdGl2ZS1iYWRnZV0nKTtcbiAgICAgIGlmIChpc0FjdGl2ZSkge1xuICAgICAgICBjYXJkLmNsYXNzTGlzdC5hZGQoJ2JvcmRlci1bIzlDNkJGRl0nLCAncmluZy0yJywgJ3JpbmctWyM5QzZCRkZdJywgJ3NoYWRvdy1tZCcpO1xuICAgICAgICBjYXJkLmNsYXNzTGlzdC5yZW1vdmUoJ2JvcmRlci1zbGF0ZS0yMDAnKTtcbiAgICAgICAgYmFkZ2U/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICBhY3RpdmVTaXRlTmFtZSA9IGNhcmQuZGF0YXNldC5zaXRlTmFtZSB8fCBhY3RpdmVTaXRlTmFtZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhcmQuY2xhc3NMaXN0LnJlbW92ZSgnYm9yZGVyLVsjOUM2QkZGXScsICdyaW5nLTInLCAncmluZy1bIzlDNkJGRl0nLCAnc2hhZG93LW1kJyk7XG4gICAgICAgIGNhcmQuY2xhc3NMaXN0LmFkZCgnYm9yZGVyLXNsYXRlLTIwMCcpO1xuICAgICAgICBiYWRnZT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKG9wdGlvbnMucGVyc2lzdCAhPT0gZmFsc2UpIHtcbiAgICAgIHBlcnNpc3RTaXRlU3RhdGUobm9ybWFsaXplZFNsdWcsIG9wdGlvbnMuc2l0ZU5hbWUgfHwgYWN0aXZlU2l0ZU5hbWUpO1xuICAgIH1cbiAgICBjb25zdCBmaW5hbE5hbWUgPSBvcHRpb25zLnNpdGVOYW1lIHx8IGFjdGl2ZVNpdGVOYW1lO1xuICAgIHVwZGF0ZVNpdGVMYWJlbHMoZmluYWxOYW1lKTtcbiAgICB1cGRhdGVXb3Jrc3BhY2VOYXZMaW5rcyhub3JtYWxpemVkU2x1Zyk7XG4gIH07XG5cbiAgY29uc3Qgc2VsZWN0U2l0ZSA9IGFzeW5jIChzbHVnLCBuYW1lKSA9PiB7XG4gICAgY29uc3Qgbm9ybWFsaXplZFNsdWcgPSBlbnN1cmVMZWFkaW5nU2xhc2goc2x1Zyk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvc2l0ZXMvc2VsZWN0Jywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgc2x1Zzogbm9ybWFsaXplZFNsdWcgfSksXG4gICAgICB9KTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgc2hvd1RvYXN0KHBheWxvYWQubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBzXHUwMEU5bGVjdGlvbm5lciBjZSBzaXRlLicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgY29uc3QgZmluYWxTbHVnID0gZW5zdXJlTGVhZGluZ1NsYXNoKHBheWxvYWQuc2x1ZyB8fCBub3JtYWxpemVkU2x1Zyk7XG4gICAgICBjb25zdCBmaW5hbE5hbWUgPSBwYXlsb2FkLm5hbWUgfHwgbmFtZTtcbiAgICAgIHBlcnNpc3RTaXRlU3RhdGUoZmluYWxTbHVnLCBmaW5hbE5hbWUpO1xuICAgICAgYXBwbHlBY3RpdmVTaXRlKGZpbmFsU2x1ZywgeyBzaXRlTmFtZTogZmluYWxOYW1lLCBwZXJzaXN0OiBmYWxzZSB9KTtcbiAgICAgIGNvbnN0IHNsdWdQYXRoID0gZW5jb2RlVVJJQ29tcG9uZW50KHN0cmlwTGVhZGluZ1NsYXNoKGZpbmFsU2x1ZykpO1xuICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBgL2FkbWluL3NpdGUvJHtzbHVnUGF0aH0vZGVzaWduYDtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1thZG1pbl0gSW1wb3NzaWJsZSBkZSBzXHUwMEU5bGVjdGlvbm5lciBsZSBzaXRlJywgZXJyKTtcbiAgICAgIHNob3dUb2FzdCgnRXJyZXVyIGluYXR0ZW5kdWUgbG9ycyBkZSBsYSBzXHUwMEU5bGVjdGlvbi4nKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3Qgc3luY0FjdGl2ZVNpdGVGcm9tU2VydmVyID0gYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL3NpdGVzL2N1cnJlbnQnLCB7IGNyZWRlbnRpYWxzOiAnc2FtZS1vcmlnaW4nIH0pO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDQgJiYgd29ya3NwYWNlQ29udGV4dCkge1xuICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9hZG1pbi9zaXRlcyc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3Qgc2l0ZSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWRTbHVnID0gZW5zdXJlTGVhZGluZ1NsYXNoKHNpdGUuc2x1Zyk7XG4gICAgICBwZXJzaXN0U2l0ZVN0YXRlKG5vcm1hbGl6ZWRTbHVnLCBzaXRlLm5hbWUpO1xuICAgICAgYXBwbHlBY3RpdmVTaXRlKG5vcm1hbGl6ZWRTbHVnLCB7IHNpdGVOYW1lOiBzaXRlLm5hbWUsIHBlcnNpc3Q6IGZhbHNlIH0pO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS53YXJuKCdbYWRtaW5dIEltcG9zc2libGUgZGUgclx1MDBFOWN1cFx1MDBFOXJlciBsZSBzaXRlIGFjdGlmJywgZXJyKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGlnaGxpZ2h0RnJvbVN0b3JhZ2VPckRlZmF1bHQgPSAoKSA9PiB7XG4gICAgaWYgKHN0b3JlZFNpdGUuc2x1Zykge1xuICAgICAgYXBwbHlBY3RpdmVTaXRlKHN0b3JlZFNpdGUuc2x1ZywgeyBzaXRlTmFtZTogc3RvcmVkU2l0ZS5uYW1lLCBwZXJzaXN0OiBmYWxzZSB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZGVmYXVsdENhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLWNhcmRdW2RhdGEtc2l0ZS1kZWZhdWx0PVwidHJ1ZVwiXScpIHx8IHNpdGVDYXJkc1swXTtcbiAgICBpZiAoZGVmYXVsdENhcmQpIHtcbiAgICAgIGFwcGx5QWN0aXZlU2l0ZShkZWZhdWx0Q2FyZC5kYXRhc2V0LnNpdGVDYXJkLCB7XG4gICAgICAgIHNpdGVOYW1lOiBkZWZhdWx0Q2FyZC5kYXRhc2V0LnNpdGVOYW1lIHx8ICcnLFxuICAgICAgICBwZXJzaXN0OiBmYWxzZSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICBoaWdobGlnaHRGcm9tU3RvcmFnZU9yRGVmYXVsdCgpO1xuICBzeW5jQWN0aXZlU2l0ZUZyb21TZXJ2ZXIoKTtcbiAgaWYgKHdvcmtzcGFjZUNvbnRleHQpIHtcbiAgICB1cGRhdGVXb3Jrc3BhY2VOYXZMaW5rcyh3b3Jrc3BhY2VDb250ZXh0LnNsdWdWYWx1ZSk7XG4gIH0gZWxzZSBpZiAoc3RvcmVkU2l0ZS5zbHVnKSB7XG4gICAgdXBkYXRlV29ya3NwYWNlTmF2TGlua3Moc3RvcmVkU2l0ZS5zbHVnKTtcbiAgfVxuXG4gIHNpdGVTZWxlY3RCdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGlmIChidXR0b24uZGlzYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3Qgc2x1ZyA9IGJ1dHRvbi5kYXRhc2V0LnNpdGVTZWxlY3Q7XG4gICAgICBjb25zdCBuYW1lID0gYnV0dG9uLmRhdGFzZXQuc2l0ZVNlbGVjdE5hbWUgfHwgJ0NlIHNpdGUnO1xuICAgICAgaWYgKCFzbHVnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICBzZWxlY3RTaXRlKHNsdWcsIG5hbWUpLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICBidXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBjb25zdCB3b3Jrc3BhY2VTbHVnaWZ5ID0gKHZhbHVlKSA9PlxuICAgIHZhbHVlXG4gICAgICAubm9ybWFsaXplKCdORkQnKVxuICAgICAgLnJlcGxhY2UoL1tcXHUwMzAwLVxcdTAzNmZdL2csICcnKVxuICAgICAgLnRvTG93ZXJDYXNlKClcbiAgICAgIC5yZXBsYWNlKC9bXmEtejAtOV0rL2csICctJylcbiAgICAgIC5yZXBsYWNlKC9eLSt8LSskL2csICcnKTtcblxuICBjb25zdCBub3JtYWxpemVTbHVnVmFsdWUgPSAodmFsdWUpID0+IHtcbiAgICBjb25zdCBiYXNlID0gd29ya3NwYWNlU2x1Z2lmeSh2YWx1ZSB8fCAnJyk7XG4gICAgaWYgKCFiYXNlKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIHJldHVybiBgLyR7YmFzZX1gO1xuICB9O1xuXG4gIGNvbnN0IG9wZW5TaXRlTW9kYWwgPSAoKSA9PiB7XG4gICAgaWYgKCFzaXRlTW9kYWwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGFzdEZvY3VzZWRFbGVtZW50ID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcbiAgICBzaXRlTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgc2l0ZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2ZsZXgnKTtcbiAgICBzbHVnTWFudWFsbHlFZGl0ZWQgPSBmYWxzZTtcbiAgICBzaXRlRm9ybT8ucmVzZXQoKTtcbiAgICBzaXRlU2x1Z0Vycm9yICYmIChzaXRlU2x1Z0Vycm9yLnRleHRDb250ZW50ID0gJycpO1xuICAgIHNpdGVNb2RhbEVycm9yICYmIChzaXRlTW9kYWxFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICBpZiAoc2l0ZVNsdWdJbnB1dCAmJiBzaXRlTmFtZUlucHV0KSB7XG4gICAgICBzaXRlU2x1Z0lucHV0LnZhbHVlID0gd29ya3NwYWNlU2x1Z2lmeShzaXRlTmFtZUlucHV0LnZhbHVlKTtcbiAgICB9XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRyYXBGb2N1cyk7XG4gICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgc2l0ZU5hbWVJbnB1dD8uZm9jdXMoKTtcbiAgICB9LCAwKTtcbiAgfTtcblxuICBjb25zdCBjbG9zZVNpdGVNb2RhbCA9ICgpID0+IHtcbiAgICBpZiAoIXNpdGVNb2RhbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzaXRlTW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgc2l0ZU1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2ZsZXgnKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdHJhcEZvY3VzKTtcbiAgICBzbHVnTWFudWFsbHlFZGl0ZWQgPSBmYWxzZTtcbiAgICBzaXRlRm9ybT8ucmVzZXQoKTtcbiAgICBzaXRlU2x1Z0Vycm9yICYmIChzaXRlU2x1Z0Vycm9yLnRleHRDb250ZW50ID0gJycpO1xuICAgIHNpdGVNb2RhbEVycm9yICYmIChzaXRlTW9kYWxFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICBsYXN0Rm9jdXNlZEVsZW1lbnQ/LmZvY3VzKCk7XG4gIH07XG5cbiAgc2l0ZUNyZWF0ZUJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlblNpdGVNb2RhbCk7XG4gIH0pO1xuXG4gIHNpdGVNb2RhbENhbmNlbEJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VTaXRlTW9kYWwpO1xuICB9KTtcblxuICBzaXRlTW9kYWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gc2l0ZU1vZGFsKSB7XG4gICAgICBjbG9zZVNpdGVNb2RhbCgpO1xuICAgIH1cbiAgfSk7XG5cbiAgc2l0ZU5hbWVJbnB1dD8uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgaWYgKCFzaXRlU2x1Z0lucHV0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghc2x1Z01hbnVhbGx5RWRpdGVkIHx8IHNpdGVTbHVnSW5wdXQudmFsdWUudHJpbSgpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgc2l0ZVNsdWdJbnB1dC52YWx1ZSA9IHdvcmtzcGFjZVNsdWdpZnkoc2l0ZU5hbWVJbnB1dC52YWx1ZSk7XG4gICAgfVxuICB9KTtcblxuICBzaXRlU2x1Z0lucHV0Py5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICBzbHVnTWFudWFsbHlFZGl0ZWQgPSB0cnVlO1xuICAgIHNpdGVTbHVnRXJyb3IgJiYgKHNpdGVTbHVnRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gIH0pO1xuXG4gIGNvbnN0IGdldFNsdWdTZXQgPSAoKSA9PlxuICAgIG5ldyBTZXQoQXJyYXkuZnJvbShzaXRlQ2FyZHMpLm1hcCgoY2FyZCkgPT4gZW5zdXJlTGVhZGluZ1NsYXNoKGNhcmQuZGF0YXNldC5zaXRlQ2FyZCB8fCAnJykpKTtcblxuICBzaXRlRm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAoIXNpdGVOYW1lSW5wdXQgfHwgIXNpdGVTbHVnSW5wdXQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgbmFtZVZhbHVlID0gKHNpdGVOYW1lSW5wdXQudmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICBsZXQgc2x1Z1ZhbHVlID0gc2l0ZVNsdWdJbnB1dC52YWx1ZSB8fCAnJztcbiAgICBpZiAoIXNsdWdWYWx1ZSkge1xuICAgICAgc2x1Z1ZhbHVlID0gbmFtZVZhbHVlO1xuICAgIH1cbiAgICBjb25zdCBub3JtYWxpemVkU2x1ZyA9IG5vcm1hbGl6ZVNsdWdWYWx1ZShzbHVnVmFsdWUpO1xuICAgIGlmICghbmFtZVZhbHVlIHx8ICFub3JtYWxpemVkU2x1Zykge1xuICAgICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9ICdOb20gZXQgc2x1ZyBzb250IHJlcXVpcy4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZXhpc3RpbmdTbHVncyA9IGdldFNsdWdTZXQoKTtcbiAgICBpZiAoZXhpc3RpbmdTbHVncy5oYXMobm9ybWFsaXplZFNsdWcpKSB7XG4gICAgICBzaXRlU2x1Z0Vycm9yICYmIChzaXRlU2x1Z0Vycm9yLnRleHRDb250ZW50ID0gJ0NlIHNsdWcgZXN0IGRcdTAwRTlqXHUwMEUwIHV0aWxpc1x1MDBFOS4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICBzaXRlTW9kYWxFcnJvciAmJiAoc2l0ZU1vZGFsRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgaWYgKHNpdGVNb2RhbFN1Ym1pdEJ1dHRvbikge1xuICAgICAgc2l0ZU1vZGFsU3VibWl0QnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIHNpdGVNb2RhbFN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9ICdDclx1MDBFOWF0aW9uLi4uJztcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvc2l0ZXMnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBuYW1lOiBuYW1lVmFsdWUsIHNsdWc6IG5vcm1hbGl6ZWRTbHVnIH0pLFxuICAgICAgfSk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBwYXlsb2FkLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgY3JcdTAwRTllciBjZSBzaXRlLic7XG4gICAgICAgIHNpdGVNb2RhbEVycm9yICYmIChzaXRlTW9kYWxFcnJvci50ZXh0Q29udGVudCA9IG1lc3NhZ2UpO1xuICAgICAgICBpZiAocGF5bG9hZC5maWVsZCA9PT0gJ3NsdWcnKSB7XG4gICAgICAgICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9IG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNyZWF0ZWRTaXRlID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgY29uc3QgZmluYWxTbHVnID0gZW5zdXJlTGVhZGluZ1NsYXNoKGNyZWF0ZWRTaXRlPy5zbHVnIHx8IG5vcm1hbGl6ZWRTbHVnKTtcbiAgICAgIGNvbnN0IGZpbmFsTmFtZSA9IGNyZWF0ZWRTaXRlPy5uYW1lIHx8IG5hbWVWYWx1ZTtcbiAgICAgIHBlcnNpc3RTaXRlU3RhdGUoZmluYWxTbHVnLCBmaW5hbE5hbWUpO1xuICAgICAgY2xvc2VTaXRlTW9kYWwoKTtcbiAgICAgIGNvbnN0IHNsdWdQYXRoID0gZW5jb2RlVVJJQ29tcG9uZW50KHN0cmlwTGVhZGluZ1NsYXNoKGZpbmFsU2x1ZykpO1xuICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBgL2FkbWluL3NpdGUvJHtzbHVnUGF0aH0vZGVzaWduYDtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1thZG1pbl0gSW1wb3NzaWJsZSBkZSBjclx1MDBFOWVyIGxlIHNpdGUnLCBlcnIpO1xuICAgICAgc2l0ZU1vZGFsRXJyb3IgJiYgKHNpdGVNb2RhbEVycm9yLnRleHRDb250ZW50ID0gJ0VycmV1ciBpbmF0dGVuZHVlLiBSXHUwMEU5ZXNzYWllIGRhbnMgdW4gaW5zdGFudC4nKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKHNpdGVNb2RhbFN1Ym1pdEJ1dHRvbikge1xuICAgICAgICBzaXRlTW9kYWxTdWJtaXRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgc2l0ZU1vZGFsU3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gJ0NyXHUwMEU5ZXInO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZlbnQpID0+IHtcbiAgICBpZiAoZXZlbnQua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgaWYgKHNpdGVNb2RhbCAmJiAhc2l0ZU1vZGFsLmNsYXNzTGlzdC5jb250YWlucygnaGlkZGVuJykpIHtcbiAgICAgICAgY2xvc2VTaXRlTW9kYWwoKTtcbiAgICAgIH1cbiAgICAgIGlmICh3b3Jrc3BhY2VCYWNrTW9kYWwgJiYgIXdvcmtzcGFjZUJhY2tNb2RhbC5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpKSB7XG4gICAgICAgIGNsb3NlV29ya3NwYWNlQmFja01vZGFsKCk7XG4gICAgICB9XG4gICAgICBpZiAoYmxvY2tEZWxldGVNb2RhbCAmJiAhYmxvY2tEZWxldGVNb2RhbC5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpKSB7XG4gICAgICAgIGNsb3NlQmxvY2tEZWxldGVNb2RhbCgpO1xuICAgICAgfVxuICAgICAgaWYgKGJsb2NrTGlicmFyeU9wZW4pIHtcbiAgICAgICAgY2xvc2VCbG9ja0xpYnJhcnkoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIGdldFdvcmtzcGFjZUNvbnRleHQoKSB7XG4gICAgY29uc3QgbWF0Y2ggPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUubWF0Y2goL15cXC9hZG1pblxcL3NpdGVcXC8oW14vXSspKD86XFwvKFteL10rKSk/Lyk7XG4gICAgaWYgKCFtYXRjaCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBzbHVnUGFydDogZGVjb2RlVVJJQ29tcG9uZW50KG1hdGNoWzFdKSxcbiAgICAgIHNsdWdWYWx1ZTogZW5zdXJlTGVhZGluZ1NsYXNoKGRlY29kZVVSSUNvbXBvbmVudChtYXRjaFsxXSkpLFxuICAgICAgc2VjdGlvbjogbWF0Y2hbMl0gfHwgJ2Rlc2lnbicsXG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRldGVjdFdvcmtzcGFjZVNlY3Rpb24oKSB7XG4gICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXBhZ2UtbGlzdF0nKSkge1xuICAgICAgcmV0dXJuICdkZXNpZ24nO1xuICAgIH1cbiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29sbGVjdGlvbi1saXN0XScpKSB7XG4gICAgICByZXR1cm4gJ2NvbnRlbnQnO1xuICAgIH1cbiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZ3JpZF0nKSkge1xuICAgICAgcmV0dXJuICdtZWRpYSc7XG4gICAgfVxuICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktZm9ybV0nKSkge1xuICAgICAgcmV0dXJuICdkZXBsb3knO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9wZW5Xb3Jrc3BhY2VCYWNrTW9kYWwoKSB7XG4gICAgaWYgKCF3b3Jrc3BhY2VCYWNrTW9kYWwpIHtcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9hZG1pbi9zaXRlcyc7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHdvcmtzcGFjZUJhY2tNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICB3b3Jrc3BhY2VCYWNrTW9kYWwuY2xhc3NMaXN0LmFkZCgnZmxleCcpO1xuICB9XG5cbiAgZnVuY3Rpb24gY2xvc2VXb3Jrc3BhY2VCYWNrTW9kYWwoKSB7XG4gICAgaWYgKCF3b3Jrc3BhY2VCYWNrTW9kYWwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgd29ya3NwYWNlQmFja01vZGFsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgIHdvcmtzcGFjZUJhY2tNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdmbGV4Jyk7XG4gIH1cblxuICB3b3Jrc3BhY2VCYWNrQnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuV29ya3NwYWNlQmFja01vZGFsKTtcbiAgfSk7XG4gIHdvcmtzcGFjZUJhY2tDYW5jZWwuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VXb3Jrc3BhY2VCYWNrTW9kYWwpO1xuICB9KTtcbiAgd29ya3NwYWNlQmFja0NvbmZpcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9hZG1pbi9zaXRlcyc7XG4gIH0pO1xuXG4gIGNvbnN0IGFjdGl2ZVNlY3Rpb24gPSB3b3Jrc3BhY2VDb250ZXh0Py5zZWN0aW9uIHx8IGRldGVjdFdvcmtzcGFjZVNlY3Rpb24oKTtcblxuICBpZiAoYWN0aXZlU2VjdGlvbiA9PT0gJ2Rlc2lnbicpIHtcbiAgICBpbml0RGVzaWduV29ya3NwYWNlKCk7XG4gIH1cbiAgaWYgKGFjdGl2ZVNlY3Rpb24gPT09ICdjb250ZW50Jykge1xuICAgIGluaXRDb250ZW50V29ya3NwYWNlKCk7XG4gIH1cbiAgaWYgKGFjdGl2ZVNlY3Rpb24gPT09ICdtZWRpYScpIHtcbiAgICBpbml0TWVkaWFXb3Jrc3BhY2UoKTtcbiAgfVxuICBpZiAoYWN0aXZlU2VjdGlvbiA9PT0gJ2RlcGxveScpIHtcbiAgICBpbml0RGVwbG95V29ya3NwYWNlKCk7XG4gIH1cblxuICBpZiAod29ya3NwYWNlQ29udGV4dCAmJiBzdG9yZWRTaXRlLm5hbWUpIHtcbiAgICB1cGRhdGVTaXRlTGFiZWxzKHN0b3JlZFNpdGUubmFtZSk7XG4gIH1cblxuICBmdW5jdGlvbiBpbml0RGVzaWduV29ya3NwYWNlKCkge1xuICAgIGNvbnN0IHBhZ2VMaXN0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXBhZ2UtbGlzdF0nKTtcbiAgICBpZiAocGFnZUxpc3RzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBhY3RpdmVUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFjdGl2ZS1wYWdlLXRpdGxlXScpO1xuICAgIGNvbnN0IGFjdGl2ZVNsdWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hY3RpdmUtcGFnZS1zbHVnXScpO1xuICAgIGNvbnN0IHByZXZpZXdUYWdzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcmV2aWV3LXRhZ3NdJyk7XG4gICAgY29uc3QgcHJldmlld0ZyYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcmV2aWV3LWZyYW1lXScpO1xuICAgIGNvbnN0IHByZXZpZXdPcGVuQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcHJldmlldy1vcGVuXScpO1xuICAgIGNvbnN0IHByZXZpZXdTdGF0dXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wcmV2aWV3LXN0YXR1c10nKTtcbiAgICBjb25zdCBwcmV2aWV3SGlnaGxpZ2h0T3ZlcmxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXByZXZpZXctaGlnaGxpZ2h0XScpO1xuICAgIGNvbnN0IGJsb2NrTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2Nrcy1saXN0XScpO1xuICAgIGNvbnN0IGJsb2NrTGlzdEVtcHR5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2tzLWVtcHR5XScpO1xuICAgIGNvbnN0IGJsb2NrQ291bnRCYWRnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWNvdW50XScpO1xuICAgIGNvbnN0IGJsb2NrTGlicmFyeVRvZ2dsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWxpYnJhcnktdG9nZ2xlXScpO1xuICAgIGNvbnN0IGJsb2NrTGlicmFyeSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWxpYnJhcnldJyk7XG4gICAgY29uc3QgYmxvY2tBZGRCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYmxvY2stYWRkXScpO1xuICAgIGNvbnN0IGJsb2NrRGVsZXRlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1kZWxldGUtbW9kYWxdJyk7XG4gICAgY29uc3QgYmxvY2tEZWxldGVDb25maXJtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZGVsZXRlLWNvbmZpcm1dJyk7XG4gICAgY29uc3QgYmxvY2tEZWxldGVDYW5jZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1kZWxldGUtY2FuY2VsXScpO1xuICAgIGNvbnN0IGJsb2NrRGV0YWlsRW1wdHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1kZXRhaWwtZW1wdHldJyk7XG4gICAgY29uc3QgYmxvY2tEZXRhaWxTdGF0dXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1kZXRhaWwtc3RhdHVzXScpO1xuICAgIGNvbnN0IGJsb2NrRWRpdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZWRpdG9yXScpO1xuICAgIGNvbnN0IGJsb2NrRWRpdG9yVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1lZGl0b3ItYmxvY2stbmFtZV0nKTtcbiAgICBjb25zdCBibG9ja0VkaXRvclR5cGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1lZGl0b3ItYmxvY2stdHlwZV0nKTtcbiAgICBjb25zdCBibG9ja0VkaXRvclVuc3VwcG9ydGVkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZWRpdG9yLXVuc3VwcG9ydGVkXScpO1xuICAgIGNvbnN0IGJsb2NrRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWZvcm1dJyk7XG4gICAgY29uc3QgYmxvY2tGb3JtU2VjdGlvbnMgPSBibG9ja0Zvcm1cbiAgICAgID8gQXJyYXkuZnJvbShibG9ja0Zvcm0ucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtZWRpdG9yLXNlY3Rpb25dJykpXG4gICAgICA6IFtdO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25TZWxlY3QgPSBibG9ja0Zvcm0/LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiY29sbGVjdGlvbi1ncmlkLWNvbGxlY3Rpb25cIl0nKTtcbiAgICBjb25zdCBjb2xsZWN0aW9uU2VsZWN0aW9uSW5mbyA9IGJsb2NrRm9ybT8ucXVlcnlTZWxlY3RvcihcbiAgICAgICdbZGF0YS1jb2xsZWN0aW9uLXNlbGVjdGlvbi1pbmZvXScsXG4gICAgKTtcbiAgICBjb25zdCBibG9ja0Zvcm1DYW5jZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1mb3JtLWNhbmNlbF0nKTtcbiAgICBjb25zdCBncm91cFByZXZpZXdNb2JpbGUgPSBibG9ja0Zvcm0/LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWdyb3VwLXByZXZpZXctbW9iaWxlXScpO1xuICAgIGNvbnN0IGdyb3VwUHJldmlld0Rlc2t0b3AgPSBibG9ja0Zvcm0/LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWdyb3VwLXByZXZpZXctZGVza3RvcF0nKTtcbiAgICBjb25zdCBibG9ja1R5cGVGb3JtcyA9IHtcbiAgICAgIGhlcm86IHtcbiAgICAgICAgc2VjdGlvbjogJ2hlcm8nLFxuICAgICAgICBsYWJlbEZpZWxkOiAndGl0bGUnLFxuICAgICAgICBkZXNjcmlwdGlvbkZpZWxkOiAnc3VidGl0bGUnLFxuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICB0aXRsZTogJ2hlcm8tdGl0bGUnLFxuICAgICAgICAgIHN1YnRpdGxlOiAnaGVyby1zdWJ0aXRsZScsXG4gICAgICAgICAgY3RhTGFiZWw6ICdoZXJvLWN0YS1sYWJlbCcsXG4gICAgICAgICAgY3RhVXJsOiAnaGVyby1jdGEtdXJsJyxcbiAgICAgICAgICBpbWFnZTogJ2hlcm8taW1hZ2UnLFxuICAgICAgICAgIGFsaWduOiAnaGVyby1hbGlnbicsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgcGFyYWdyYXBoZToge1xuICAgICAgICBzZWN0aW9uOiAncGFyYWdyYXBoJyxcbiAgICAgICAgbGFiZWxGaWVsZDogJ3RpdGxlJyxcbiAgICAgICAgZGVzY3JpcHRpb25GaWVsZDogJ2NvbnRlbnQnLFxuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICB0aXRsZTogJ3BhcmFncmFwaC10aXRsZScsXG4gICAgICAgICAgY29udGVudDogJ3BhcmFncmFwaC1jb250ZW50JyxcbiAgICAgICAgICBhbGlnbjogJ3BhcmFncmFwaC1hbGlnbicsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgaW1hZ2U6IHtcbiAgICAgICAgc2VjdGlvbjogJ2ltYWdlJyxcbiAgICAgICAgbGFiZWxGaWVsZDogJ2FsdCcsXG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIHNyYzogJ2ltYWdlLXNyYycsXG4gICAgICAgICAgYWx0OiAnaW1hZ2UtYWx0JyxcbiAgICAgICAgICBzaG93Q2FwdGlvbjogJ2ltYWdlLWNhcHRpb24tdG9nZ2xlJyxcbiAgICAgICAgICBjYXB0aW9uOiAnaW1hZ2UtY2FwdGlvbicsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgZ3JvdXBlOiB7XG4gICAgICAgIHNlY3Rpb246ICdncm91cCcsXG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIGxheW91dDogJ2dyb3VwLWxheW91dCcsXG4gICAgICAgICAgY29sdW1uc01vYmlsZTogJ2dyb3VwLWNvbHVtbnMtbW9iaWxlJyxcbiAgICAgICAgICBjb2x1bW5zRGVza3RvcDogJ2dyb3VwLWNvbHVtbnMtZGVza3RvcCcsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgY29sbGVjdGlvbmdyaWQ6IHtcbiAgICAgICAgc2VjdGlvbjogJ2NvbGxlY3Rpb24nLFxuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBjb2xsZWN0aW9uSWQ6ICdjb2xsZWN0aW9uLWdyaWQtY29sbGVjdGlvbicsXG4gICAgICAgICAgbGltaXQ6ICdjb2xsZWN0aW9uLWdyaWQtbGltaXQnLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9O1xuICAgIGNvbnN0IGJsb2NrVHlwZUFsaWFzZXMgPSB7XG4gICAgICB0ZXh0ZTogJ3BhcmFncmFwaGUnLFxuICAgICAgcGFyYWdyYXBoOiAncGFyYWdyYXBoZScsXG4gICAgICBwYXJhZ3JhcGhzOiAncGFyYWdyYXBoZScsXG4gICAgICBwYXJhZ3JhcGhlczogJ3BhcmFncmFwaGUnLFxuICAgICAgdGV4dDogJ3BhcmFncmFwaGUnLFxuICAgICAgaGVybzogJ2hlcm8nLFxuICAgICAgaW1hZ2U6ICdpbWFnZScsXG4gICAgICBncm91cGU6ICdncm91cGUnLFxuICAgICAgZ3JvdXA6ICdncm91cGUnLFxuICAgICAgY29sbGVjdGlvbjogJ2NvbGxlY3Rpb25ncmlkJyxcbiAgICAgIGNvbGxlY3Rpb25ncmlkOiAnY29sbGVjdGlvbmdyaWQnLFxuICAgICAgJ2NvbGxlY3Rpb24tZ3JpZCc6ICdjb2xsZWN0aW9uZ3JpZCcsXG4gICAgfTtcbiAgICBjb25zdCB1cGRhdGVHcm91cE1pbmlQcmV2aWV3ID0gKG1vYmlsZVZhbHVlLCBkZXNrdG9wVmFsdWUpID0+IHtcbiAgICAgIGlmICghZ3JvdXBQcmV2aWV3TW9iaWxlIHx8ICFncm91cFByZXZpZXdEZXNrdG9wKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlbmRlckJveGVzID0gKGNvdW50KSA9PlxuICAgICAgICBBcnJheS5mcm9tKHsgbGVuZ3RoOiBOdW1iZXIoY291bnQpIHx8IDEgfSlcbiAgICAgICAgICAubWFwKCgpID0+ICc8c3BhbiBjbGFzcz1cImJsb2NrIGgtMiB3LWZ1bGwgcm91bmRlZC1mdWxsIGJnLXNsYXRlLTMwMFwiPjwvc3Bhbj4nKVxuICAgICAgICAgIC5qb2luKCcnKTtcbiAgICAgIGdyb3VwUHJldmlld01vYmlsZS5pbm5lckhUTUwgPSByZW5kZXJCb3hlcyhtb2JpbGVWYWx1ZSk7XG4gICAgICBncm91cFByZXZpZXdEZXNrdG9wLmlubmVySFRNTCA9IHJlbmRlckJveGVzKGRlc2t0b3BWYWx1ZSk7XG4gICAgfTtcbiAgICBjb25zdCBmZXRjaFBhZ2VzRnJvbVNlcnZlciA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghcGFnZXNBcGlCYXNlKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2gocGFnZXNBcGlCYXNlLCB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIHBhZ2VzLicpO1xuICAgICAgfVxuICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiBbXSk7XG4gICAgICByZXR1cm4gQXJyYXkuaXNBcnJheShwYXlsb2FkKSA/IHBheWxvYWQgOiBbXTtcbiAgICB9O1xuICAgIGNvbnN0IGNyZWF0ZVBhZ2VPblNlcnZlciA9IGFzeW5jICh7IHRpdGxlLCBzbHVnIH0pID0+IHtcbiAgICAgIGlmICghcGFnZXNBcGlCYXNlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignU2l0ZSBpbmNvbm51LicpO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChwYWdlc0FwaUJhc2UsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHRpdGxlLCBzbHVnIH0pLFxuICAgICAgfSk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihwYXlsb2FkLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgY3JcdTAwRTllciBsYSBwYWdlLicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICB9O1xuICAgIGNvbnN0IHNhdmVQYWdlVG9TZXJ2ZXIgPSBhc3luYyAocGFnZSkgPT4ge1xuICAgICAgaWYgKCFwYWdlc0FwaUJhc2UgfHwgIXBhZ2U/LmlkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7cGFnZXNBcGlCYXNlfS8ke2VuY29kZVVSSUNvbXBvbmVudChwYWdlLmlkKX1gLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGFnZSksXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocGF5bG9hZC5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIHNhdXZlZ2FyZGVyIGxhIHBhZ2UuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2F2ZWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIGlmIChzYXZlZD8uaWQpIHtcbiAgICAgICAgICBjb25zdCBub3JtYWxpemVkID0gbm9ybWFsaXplUGFnZURhdGEoc2F2ZWQpO1xuICAgICAgICAgIHBhZ2VzID0gcGFnZXMubWFwKChlbnRyeSkgPT4gKGVudHJ5LmlkID09PSBub3JtYWxpemVkLmlkID8gbm9ybWFsaXplZCA6IGVudHJ5KSk7XG4gICAgICAgICAgaWYgKGN1cnJlbnRQYWdlPy5pZCA9PT0gbm9ybWFsaXplZC5pZCkge1xuICAgICAgICAgICAgY3VycmVudFBhZ2UgPSBub3JtYWxpemVkO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbm9ybWFsaXplZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2F2ZWQ7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2Rlc2lnbl0gU2F2ZSBwYWdlIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnU2F1dmVnYXJkZSBpbXBvc3NpYmxlLicpO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgbG9hZFBhZ2VzRnJvbVNlcnZlciA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghcGFnZXNBcGlCYXNlKSB7XG4gICAgICAgIHBhZ2VzID0gW107XG4gICAgICAgIGFjdGl2ZVBhZ2VJZCA9IG51bGw7XG4gICAgICAgIGN1cnJlbnRQYWdlID0gbnVsbDtcbiAgICAgICAgcmVuZGVyUGFnZUxpc3RzKHBhZ2VzLCBhY3RpdmVQYWdlSWQpO1xuICAgICAgICByZW5kZXJCbG9ja0xpc3QobnVsbCk7XG4gICAgICAgIGJsb2NrRGV0YWlsRW1wdHk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICBibG9ja0VkaXRvcj8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGxvYWRlZFBhZ2VzID0gYXdhaXQgZmV0Y2hQYWdlc0Zyb21TZXJ2ZXIoKTtcbiAgICAgICAgcGFnZXMgPSAoQXJyYXkuaXNBcnJheShsb2FkZWRQYWdlcykgPyBsb2FkZWRQYWdlcyA6IFtdKS5tYXAoKHBhZ2UpID0+XG4gICAgICAgICAgbm9ybWFsaXplUGFnZURhdGEocGFnZSksXG4gICAgICAgICk7XG4gICAgICAgIGlmIChwYWdlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICBhY3RpdmVQYWdlSWQgPSBudWxsO1xuICAgICAgICAgIGN1cnJlbnRQYWdlID0gbnVsbDtcbiAgICAgICAgICByZW5kZXJQYWdlTGlzdHMocGFnZXMsIGFjdGl2ZVBhZ2VJZCk7XG4gICAgICAgICAgcmVuZGVyQmxvY2tMaXN0KG51bGwpO1xuICAgICAgICAgIGJsb2NrRGV0YWlsRW1wdHk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgIGJsb2NrRWRpdG9yPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgICBwcmV2aWV3RnJhbWUgJiYgKHByZXZpZXdGcmFtZS5zcmNkb2MgPSBnZXRMb2FkaW5nUHJldmlld0h0bWwoKSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGFjdGl2ZVBhZ2VJZCA9IGdldFN0b3JlZEFjdGl2ZVBhZ2UocGFnZXMpO1xuICAgICAgICBzZXRBY3RpdmVQYWdlKGFjdGl2ZVBhZ2VJZCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2Rlc2lnbl0gSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxlcyBwYWdlcycsIGVycik7XG4gICAgICAgIHNob3dUb2FzdCgnSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxlcyBwYWdlcy4nKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IG5vcm1hbGl6ZVR5cGUgPSAodmFsdWUpID0+XG4gICAgICAodmFsdWUgfHwgJycpLm5vcm1hbGl6ZSgnTkZEJykucmVwbGFjZSgvW1xcdTAzMDAtXFx1MDM2Zl0vZywgJycpLnRvTG93ZXJDYXNlKCk7XG4gICAgY29uc3QgZ2V0QmxvY2tGb3JtQ29uZmlnID0gKGJsb2NrKSA9PiB7XG4gICAgICBpZiAoIWJsb2NrKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgY29uc3QgdHlwZUtleSA9IG5vcm1hbGl6ZVR5cGUoYmxvY2sudHlwZSk7XG4gICAgICBjb25zdCBhbGlhcyA9IGJsb2NrVHlwZUFsaWFzZXNbdHlwZUtleV0gfHwgdHlwZUtleTtcbiAgICAgIHJldHVybiBibG9ja1R5cGVGb3Jtc1thbGlhc10gfHwgbnVsbDtcbiAgICB9O1xuICAgIGNvbnN0IHBvcHVsYXRlQmxvY2tGb3JtID0gKGJsb2NrKSA9PiB7XG4gICAgICBpZiAoIWJsb2NrRm9ybSB8fCAhYmxvY2tFZGl0b3IpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGJsb2NrICYmICFibG9jay5zZXR0aW5ncykge1xuICAgICAgICBibG9jay5zZXR0aW5ncyA9IHt9O1xuICAgICAgfVxuICAgICAgY29uc3QgY29uZmlnID0gZ2V0QmxvY2tGb3JtQ29uZmlnKGJsb2NrKTtcbiAgICAgIGlmIChibG9ja0VkaXRvclRpdGxlKSB7XG4gICAgICAgIGJsb2NrRWRpdG9yVGl0bGUudGV4dENvbnRlbnQgPSBibG9jaz8ubGFiZWwgfHwgJ0Jsb2MnO1xuICAgICAgfVxuICAgICAgaWYgKGJsb2NrRWRpdG9yVHlwZSkge1xuICAgICAgICBibG9ja0VkaXRvclR5cGUudGV4dENvbnRlbnQgPSBibG9jaz8udHlwZSB8fCAnQmxvYyc7XG4gICAgICB9XG4gICAgICBpZiAoIWNvbmZpZykge1xuICAgICAgICBibG9ja0Zvcm0uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIGJsb2NrRWRpdG9yVW5zdXBwb3J0ZWQ/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICBibG9ja0Zvcm0uZGF0YXNldC5ibG9ja0lkID0gJyc7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGJsb2NrRWRpdG9yVW5zdXBwb3J0ZWQ/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgYmxvY2tGb3JtLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgYmxvY2tGb3JtLnJlc2V0KCk7XG4gICAgICBibG9ja0Zvcm0uZGF0YXNldC5ibG9ja0lkID0gYmxvY2suaWQ7XG4gICAgICBibG9ja0Zvcm1TZWN0aW9ucy5mb3JFYWNoKChzZWN0aW9uKSA9PiB7XG4gICAgICAgIGNvbnN0IHNlY3Rpb25JZCA9IHNlY3Rpb24uZGF0YXNldC5lZGl0b3JTZWN0aW9uO1xuICAgICAgICBpZiAoc2VjdGlvbklkID09PSBjb25maWcuc2VjdGlvbikge1xuICAgICAgICAgIHNlY3Rpb24uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VjdGlvbi5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoY29uZmlnLnNlY3Rpb24gPT09ICdjb2xsZWN0aW9uJykge1xuICAgICAgICBjb25zdCBkZXNpcmVkVmFsdWUgPSBibG9jay5jb2xsZWN0aW9uSWQgfHwgYmxvY2suc2V0dGluZ3M/LmNvbGxlY3Rpb25JZCB8fCAnJztcbiAgICAgICAgdXBkYXRlQ29sbGVjdGlvblNlbGVjdE9wdGlvbnMoZGVzaXJlZFZhbHVlKTtcbiAgICAgIH1cbiAgICAgIE9iamVjdC5lbnRyaWVzKGNvbmZpZy5maWVsZHMpLmZvckVhY2goKFtzZXR0aW5nS2V5LCBmaWVsZE5hbWVdKSA9PiB7XG4gICAgICAgIGNvbnN0IGlucHV0ID0gYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3IoYFtuYW1lPVwiJHtmaWVsZE5hbWV9XCJdYCk7XG4gICAgICAgIGlmICghaW5wdXQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdmFsdWUgPSBibG9jay5zZXR0aW5ncz8uW3NldHRpbmdLZXldO1xuICAgICAgICBpZiAoaW5wdXQudHlwZSA9PT0gJ2NoZWNrYm94Jykge1xuICAgICAgICAgIGlucHV0LmNoZWNrZWQgPSBCb29sZWFuKHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIGlmIChpbnB1dC50eXBlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIGlucHV0LnZhbHVlID0gdmFsdWUgPz8gMTtcbiAgICAgICAgfSBlbHNlIGlmIChpbnB1dC50YWdOYW1lID09PSAnVEVYVEFSRUEnKSB7XG4gICAgICAgICAgaW5wdXQudmFsdWUgPSB2YWx1ZSA/PyAnJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpbnB1dC52YWx1ZSA9IHZhbHVlID8/ICcnO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmIChjb25maWcuc2VjdGlvbiA9PT0gJ2dyb3VwJykge1xuICAgICAgICBjb25zdCBtb2JpbGVWYWx1ZSA9XG4gICAgICAgICAgYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZ3JvdXAtY29sdW1ucy1tb2JpbGVcIl0nKT8udmFsdWUgfHwgJzEnO1xuICAgICAgICBjb25zdCBkZXNrdG9wVmFsdWUgPVxuICAgICAgICAgIGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImdyb3VwLWNvbHVtbnMtZGVza3RvcFwiXScpPy52YWx1ZSB8fCAnMyc7XG4gICAgICAgIHVwZGF0ZUdyb3VwTWluaVByZXZpZXcobW9iaWxlVmFsdWUsIGRlc2t0b3BWYWx1ZSk7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBjb2xsZWN0Rm9ybVZhbHVlcyA9IChjb25maWcpID0+IHtcbiAgICAgIGlmICghYmxvY2tGb3JtIHx8ICFjb25maWcpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgfVxuICAgICAgY29uc3QgdmFsdWVzID0ge307XG4gICAgICBPYmplY3QuZW50cmllcyhjb25maWcuZmllbGRzKS5mb3JFYWNoKChbc2V0dGluZ0tleSwgZmllbGROYW1lXSkgPT4ge1xuICAgICAgICBjb25zdCBpbnB1dCA9IGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yKGBbbmFtZT1cIiR7ZmllbGROYW1lfVwiXWApO1xuICAgICAgICBpZiAoIWlucHV0KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbnB1dC50eXBlID09PSAnY2hlY2tib3gnKSB7XG4gICAgICAgICAgdmFsdWVzW3NldHRpbmdLZXldID0gaW5wdXQuY2hlY2tlZDtcbiAgICAgICAgfSBlbHNlIGlmIChpbnB1dC50eXBlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIGNvbnN0IHBhcnNlZCA9IE51bWJlcihpbnB1dC52YWx1ZSk7XG4gICAgICAgICAgdmFsdWVzW3NldHRpbmdLZXldID0gTnVtYmVyLmlzRmluaXRlKHBhcnNlZCkgPyBwYXJzZWQgOiAwO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0LnRhZ05hbWUgPT09ICdURVhUQVJFQScpIHtcbiAgICAgICAgICB2YWx1ZXNbc2V0dGluZ0tleV0gPSBpbnB1dC52YWx1ZSB8fCAnJztcbiAgICAgICAgfSBlbHNlIGlmIChpbnB1dC50eXBlID09PSAnc2VsZWN0LW9uZScpIHtcbiAgICAgICAgICB2YWx1ZXNbc2V0dGluZ0tleV0gPSBpbnB1dC52YWx1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YWx1ZXNbc2V0dGluZ0tleV0gPSBpbnB1dC52YWx1ZSB8fCAnJztcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gdmFsdWVzO1xuICAgIH07XG4gICAgY29uc3QgdXBkYXRlUHJldmlld1N0YXR1cyA9ICh0ZXh0KSA9PiB7XG4gICAgICBpZiAoIXByZXZpZXdTdGF0dXMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCF0ZXh0KSB7XG4gICAgICAgIHByZXZpZXdTdGF0dXMuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHByZXZpZXdTdGF0dXMuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBwcmV2aWV3U3RhdHVzLnRleHRDb250ZW50ID0gdGV4dDtcbiAgICB9O1xuICAgIGNvbnN0IHNlcmlhbGl6ZVBhZ2VGb3JQcmV2aWV3ID0gKHBhZ2UpID0+IHtcbiAgICAgIGlmICghcGFnZSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlkOiBwYWdlLmlkLFxuICAgICAgICB0aXRsZTogcGFnZS50aXRsZSxcbiAgICAgICAgc2x1ZzogcGFnZS5zbHVnLFxuICAgICAgICBiYWRnZXM6IFsuLi4ocGFnZS5iYWRnZXMgfHwgW10pXSxcbiAgICAgICAgYmxvY2tzOiAocGFnZS5ibG9ja3MgfHwgW10pLm1hcCgoYmxvY2spID0+ICh7XG4gICAgICAgICAgaWQ6IGJsb2NrLmlkLFxuICAgICAgICAgIHR5cGU6IGJsb2NrLnR5cGUsXG4gICAgICAgICAgbGFiZWw6IGJsb2NrLmxhYmVsLFxuICAgICAgICAgIHN0YXR1czogYmxvY2suc3RhdHVzLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBibG9jay5kZXNjcmlwdGlvbixcbiAgICAgICAgICBwcm9wczogYmxvY2sucHJvcHMgfHwgW10sXG4gICAgICAgICAgc2V0dGluZ3M6IGJsb2NrLnNldHRpbmdzIHx8IHt9LFxuICAgICAgICAgIGNvbGxlY3Rpb25JZDogYmxvY2suY29sbGVjdGlvbklkIHx8IGJsb2NrLnNldHRpbmdzPy5jb2xsZWN0aW9uSWQgfHwgJycsXG4gICAgICAgIH0pKSxcbiAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBnZXRMb2FkaW5nUHJldmlld0h0bWwgPSAoKSA9PlxuICAgICAgJzwhRE9DVFlQRSBodG1sPjxodG1sPjxib2R5IHN0eWxlPVwiZm9udC1mYW1pbHk6SW50ZXIsc2Fucy1zZXJpZjtwYWRkaW5nOjQwcHg7Y29sb3I6IzQ3NTU2OTtiYWNrZ3JvdW5kOiNmZmY7XCI+UHJcdTAwRTlwYXJhdGlvbiBkZSBsYSBwclx1MDBFOXZpc3VhbGlzYXRpb25cdTIwMjY8L2JvZHk+PC9odG1sPic7XG4gICAgY29uc3QgcmVmcmVzaFByZXZpZXcgPSAocGFnZSkgPT4ge1xuICAgICAgaWYgKCFwcmV2aWV3RnJhbWUgfHwgIXBhZ2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgcHJldmlld1NpdGVTbHVnID0gd29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnJztcbiAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgIHBhZ2U6IHNlcmlhbGl6ZVBhZ2VGb3JQcmV2aWV3KHBhZ2UpLFxuICAgICAgICBzaXRlOiB7XG4gICAgICAgICAgdGl0bGU6IHN0b3JlZFNpdGUubmFtZSB8fCAnU2l0ZScsXG4gICAgICAgICAgc2x1ZzogcHJldmlld1NpdGVTbHVnLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICAgIHByZXZpZXdSZWFkeSA9IGZhbHNlO1xuICAgICAgdXBkYXRlUHJldmlld1N0YXR1cygnQWN0dWFsaXNhdGlvblx1MjAyNicpO1xuICAgICAgcHJldmlld0ZyYW1lLnNyY2RvYyA9IGdldExvYWRpbmdQcmV2aWV3SHRtbCgpO1xuICAgICAgaWYgKHByZXZpZXdSZXF1ZXN0Q29udHJvbGxlcikge1xuICAgICAgICBwcmV2aWV3UmVxdWVzdENvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgICBwcmV2aWV3UmVxdWVzdENvbnRyb2xsZXIgPSBjb250cm9sbGVyO1xuICAgICAgZmV0Y2goJy9hcGkvcHJldmlldycsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgc2lnbmFsOiBjb250cm9sbGVyLnNpZ25hbCxcbiAgICAgIH0pXG4gICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUHJldmlldyBlcnJvcicpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICB9KVxuICAgICAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICAgIGlmIChjb250cm9sbGVyLnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGxhdGVzdFByZXZpZXdIdG1sID0gZGF0YS5odG1sIHx8ICcnO1xuICAgICAgICAgIHByZXZpZXdGcmFtZS5zZXRBdHRyaWJ1dGUoXG4gICAgICAgICAgICAndGl0bGUnLFxuICAgICAgICAgICAgYFByXHUwMEU5dmlzdWFsaXNhdGlvbiBkZSBsYSBwYWdlICR7cGFnZS50aXRsZSB8fCAnJ31gLnRyaW0oKSxcbiAgICAgICAgICApO1xuICAgICAgICAgIHByZXZpZXdGcmFtZS5zcmNkb2MgPSBsYXRlc3RQcmV2aWV3SHRtbCB8fCBnZXRMb2FkaW5nUHJldmlld0h0bWwoKTtcbiAgICAgICAgICB1cGRhdGVQcmV2aWV3U3RhdHVzKCdcdTAwQzAgam91cicpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgaWYgKGNvbnRyb2xsZXIuc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3ByZXZpZXddIEltcG9zc2libGUgZGUgcmVuZHJlIGxhIHBhZ2UnLCBlcnJvcik7XG4gICAgICAgICAgdXBkYXRlUHJldmlld1N0YXR1cygnRXJyZXVyIHByZXZpZXcnKTtcbiAgICAgICAgICBwcmV2aWV3RnJhbWUuc3JjZG9jID1cbiAgICAgICAgICAgICc8IURPQ1RZUEUgaHRtbD48aHRtbD48Ym9keSBzdHlsZT1cImZvbnQtZmFtaWx5OkludGVyLHNhbnMtc2VyaWY7cGFkZGluZzo0MHB4O2NvbG9yOiNiZTEyM2M7YmFja2dyb3VuZDojZmZmO1wiPkVycmV1ciBsb3JzIGR1IHJlbmR1IGRlIGxhIHByXHUwMEU5dmlzdWFsaXNhdGlvbi48L2JvZHk+PC9odG1sPic7XG4gICAgICAgIH0pXG4gICAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgICBpZiAocHJldmlld1JlcXVlc3RDb250cm9sbGVyID09PSBjb250cm9sbGVyKSB7XG4gICAgICAgICAgICBwcmV2aWV3UmVxdWVzdENvbnRyb2xsZXIgPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBjb25zdCBoYW5kbGVCbG9ja0Zvcm1TdWJtaXQgPSAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlIHx8ICFhY3RpdmVCbG9ja0lkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGJsb2NrID0gZ2V0QWN0aXZlQmxvY2soKTtcbiAgICAgIGNvbnN0IGNvbmZpZyA9IGdldEJsb2NrRm9ybUNvbmZpZyhibG9jayk7XG4gICAgICBpZiAoIWJsb2NrIHx8ICFjb25maWcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgdmFsdWVzID0gY29sbGVjdEZvcm1WYWx1ZXMoY29uZmlnKTtcbiAgICAgIGlmIChjb25maWcuc2VjdGlvbiA9PT0gJ2NvbGxlY3Rpb24nKSB7XG4gICAgICAgIGlmICghdmFsdWVzLmNvbGxlY3Rpb25JZCkge1xuICAgICAgICAgIHNob3dUb2FzdCgnU1x1MDBFOWxlY3Rpb25uZXogdW5lIGNvbGxlY3Rpb24uJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhbHVlcy5saW1pdCA9IE1hdGgubWF4KDEsIE51bWJlcih2YWx1ZXMubGltaXQpIHx8IDEpO1xuICAgICAgfVxuICAgICAgY29uc3QgdXBkYXRlZEJsb2NrcyA9IChjdXJyZW50UGFnZS5ibG9ja3MgfHwgW10pLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgaWYgKGVudHJ5LmlkICE9PSBibG9jay5pZCkge1xuICAgICAgICAgIHJldHVybiBlbnRyeTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB1cGRhdGVkU2V0dGluZ3MgPSB7IC4uLihlbnRyeS5zZXR0aW5ncyB8fCB7fSksIC4uLnZhbHVlcyB9O1xuICAgICAgICBjb25zdCB1cGRhdGVkQmxvY2sgPSB7XG4gICAgICAgICAgLi4uZW50cnksXG4gICAgICAgICAgc2V0dGluZ3M6IHVwZGF0ZWRTZXR0aW5ncyxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGNvbmZpZy5sYWJlbEZpZWxkICYmIHZhbHVlc1tjb25maWcubGFiZWxGaWVsZF0pIHtcbiAgICAgICAgICB1cGRhdGVkQmxvY2subGFiZWwgPSB2YWx1ZXNbY29uZmlnLmxhYmVsRmllbGRdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb25maWcuZGVzY3JpcHRpb25GaWVsZCAmJiB2YWx1ZXNbY29uZmlnLmRlc2NyaXB0aW9uRmllbGRdKSB7XG4gICAgICAgICAgdXBkYXRlZEJsb2NrLmRlc2NyaXB0aW9uID0gdmFsdWVzW2NvbmZpZy5kZXNjcmlwdGlvbkZpZWxkXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29uZmlnLnNlY3Rpb24gPT09ICdjb2xsZWN0aW9uJykge1xuICAgICAgICAgIHVwZGF0ZWRCbG9jay5jb2xsZWN0aW9uSWQgPSB2YWx1ZXMuY29sbGVjdGlvbklkO1xuICAgICAgICAgIHVwZGF0ZWRCbG9jay5zZXR0aW5ncy5jb2xsZWN0aW9uSWQgPSB2YWx1ZXMuY29sbGVjdGlvbklkO1xuICAgICAgICAgIHVwZGF0ZWRCbG9jay5zZXR0aW5ncy5saW1pdCA9IHZhbHVlcy5saW1pdDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdXBkYXRlZEJsb2NrO1xuICAgICAgfSk7XG4gICAgICB1cGRhdGVDdXJyZW50UGFnZUJsb2Nrcyh1cGRhdGVkQmxvY2tzKTtcbiAgICAgIHNob3dUb2FzdCgnQmxvYyBtaXMgXHUwMEUwIGpvdXInKTtcbiAgICAgIHNldEFjdGl2ZVBhZ2UoY3VycmVudFBhZ2UuaWQsIHsgcHJlc2VydmVCbG9jazogdHJ1ZSB9KTtcbiAgICB9O1xuICAgIGNvbnN0IGRyYXdlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXBhZ2UtZHJhd2VyXScpO1xuICAgIGNvbnN0IGRyYXdlckJhY2tkcm9wID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1kcmF3ZXItYmFja2Ryb3BdJyk7XG4gICAgY29uc3QgZHJhd2VyT3BlbkJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1wYWdlLWRyYXdlci1vcGVuXScpO1xuICAgIGNvbnN0IGRyYXdlckNsb3NlQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXBhZ2UtZHJhd2VyLWNsb3NlXScpO1xuICAgIGNvbnN0IGFkZFBhZ2VUb2dnbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZGQtcGFnZS10b2dnbGVdJyk7XG4gICAgY29uc3QgYWRkUGFnZUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZGQtcGFnZS1mb3JtXScpO1xuICAgIGNvbnN0IGFkZFBhZ2VUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFkZC1wYWdlLXRpdGxlXScpO1xuICAgIGNvbnN0IGFkZFBhZ2VTbHVnID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRkLXBhZ2Utc2x1Z10nKTtcbiAgICBjb25zdCBhZGRQYWdlQ2FuY2VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRkLXBhZ2UtY2FuY2VsXScpO1xuICAgIGNvbnN0IGFkZFBhZ2VFcnJvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFkZC1wYWdlLWVycm9yXScpO1xuICAgIGNvbnN0IGFkZFBhZ2VTdWJtaXRCdXR0b24gPSBhZGRQYWdlRm9ybT8ucXVlcnlTZWxlY3RvcignW3R5cGU9XCJzdWJtaXRcIl0nKTtcbiAgICBjb25zdCBzaXRlS2V5ID1cbiAgICAgIHN0cmlwTGVhZGluZ1NsYXNoKHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJ2RlZmF1bHQnKSB8fCAnZGVmYXVsdCc7XG4gICAgY29uc3Qgc2l0ZVNsdWdWYWx1ZSA9IHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJyc7XG4gICAgY29uc3Qgc2FmZVNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goc2l0ZVNsdWdWYWx1ZSkgfHwgJyc7XG4gICAgY29uc3QgcGFnZXNBcGlCYXNlID0gc2FmZVNpdGVTbHVnXG4gICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Zyl9L3BhZ2VzYFxuICAgICAgOiBudWxsO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25zQXBpQmFzZSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9jb2xsZWN0aW9uc2BcbiAgICAgIDogbnVsbDtcbiAgICBjb25zdCBzdG9yYWdlS2V5cyA9IHtcbiAgICAgIGFjdGl2ZTogYGNsb3dlcjphY3RpdmVQYWdlOiR7c2l0ZUtleX1gLFxuICAgIH07XG4gICAgY29uc3QgY3JlYXRlQmxvY2sgPSAoaWQsIGxhYmVsLCB0eXBlLCBzdGF0dXMsIGRlc2NyaXB0aW9uLCBwcm9wcyA9IFtdLCBzZXR0aW5ncyA9IHt9KSA9PiB7XG4gICAgICBjb25zdCBibG9jayA9IHtcbiAgICAgICAgaWQsXG4gICAgICAgIGxhYmVsLFxuICAgICAgICB0eXBlLFxuICAgICAgICBzdGF0dXMsXG4gICAgICAgIGRlc2NyaXB0aW9uLFxuICAgICAgICBwcm9wcyxcbiAgICAgICAgc2V0dGluZ3M6IHsgLi4uc2V0dGluZ3MgfSxcbiAgICAgIH07XG4gICAgICBpZiAoYmxvY2suc2V0dGluZ3MuY29sbGVjdGlvbklkKSB7XG4gICAgICAgIGJsb2NrLmNvbGxlY3Rpb25JZCA9IGJsb2NrLnNldHRpbmdzLmNvbGxlY3Rpb25JZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBibG9jaztcbiAgICB9O1xuICAgIGNvbnN0IGJsb2NrTGlicmFyeURlZmluaXRpb25zID0ge1xuICAgICAgaGVybzoge1xuICAgICAgICB0eXBlOiAnSGVybycsXG4gICAgICAgIGxhYmVsOiAnSGVybyBkZSBwYWdlJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdTZWN0aW9uIHBsZWluZSBsYXJnZXVyIGF2ZWMgQ1RBIHByaW5jaXBhbC4nLFxuICAgICAgICBzdGF0dXM6ICdCcm91aWxsb24nLFxuICAgICAgICBwcm9wczogW1xuICAgICAgICAgIHsgbGFiZWw6ICdDVEEnLCB2YWx1ZTogJ0RcdTAwRTljb3V2cmlyJyB9LFxuICAgICAgICAgIHsgbGFiZWw6ICdIYXV0ZXVyJywgdmFsdWU6ICc4MHZoJyB9LFxuICAgICAgICBdLFxuICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgIHRpdGxlOiAnVGl0cmUgZHUgaGVybycsXG4gICAgICAgICAgc3VidGl0bGU6ICcnLFxuICAgICAgICAgIGN0YUxhYmVsOiAnRFx1MDBFOWNvdXZyaXInLFxuICAgICAgICAgIGN0YVVybDogJyMnLFxuICAgICAgICAgIGltYWdlOiAnJyxcbiAgICAgICAgICBhbGlnbjogJ2NlbnRlcicsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgcGFyYWdyYXBoOiB7XG4gICAgICAgIHR5cGU6ICdQYXJhZ3JhcGhlJyxcbiAgICAgICAgbGFiZWw6ICdCbG9jIFx1MDBFOWRpdG9yaWFsJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdQYXJhZ3JhcGhlIGxpYnJlIHBvdXIgcmFjb250ZXIgdm90cmUgaGlzdG9pcmUuJyxcbiAgICAgICAgc3RhdHVzOiAnQnJvdWlsbG9uJyxcbiAgICAgICAgcHJvcHM6IFt7IGxhYmVsOiAnTG9uZ3VldXInLCB2YWx1ZTogJzE1MCBtb3RzJyB9XSxcbiAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICB0aXRsZTogJ1RpdHJlIGR1IHBhcmFncmFwaGUnLFxuICAgICAgICAgIGNvbnRlbnQ6ICcnLFxuICAgICAgICAgIGFsaWduOiAnbGVmdCcsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgaW1hZ2U6IHtcbiAgICAgICAgdHlwZTogJ0ltYWdlJyxcbiAgICAgICAgbGFiZWw6ICdCbG9jIGltYWdlJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdWaXN1ZWwgc2V1bCBhdmVjIGxcdTAwRTlnZW5kZSBvcHRpb25uZWxsZS4nLFxuICAgICAgICBzdGF0dXM6ICdCcm91aWxsb24nLFxuICAgICAgICBwcm9wczogW1xuICAgICAgICAgIHsgbGFiZWw6ICdSYXRpbycsIHZhbHVlOiAnMTY6OScgfSxcbiAgICAgICAgICB7IGxhYmVsOiAnTFx1MDBFOWdlbmRlJywgdmFsdWU6ICdJbmFjdGl2ZScgfSxcbiAgICAgICAgXSxcbiAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICBzcmM6ICcnLFxuICAgICAgICAgIGFsdDogJycsXG4gICAgICAgICAgc2hvd0NhcHRpb246IGZhbHNlLFxuICAgICAgICAgIGNhcHRpb246ICcnLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGdyb3VwOiB7XG4gICAgICAgIHR5cGU6ICdHcm91cGUnLFxuICAgICAgICBsYWJlbDogJ0dyb3VwZSBkZSBzZWN0aW9ucycsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnQ29udGVuZXVyIHBvdXIgaW1icmlxdWVyIHBsdXNpZXVycyBzb3VzLWJsb2NzLicsXG4gICAgICAgIHN0YXR1czogJ0Jyb3VpbGxvbicsXG4gICAgICAgIHByb3BzOiBbeyBsYWJlbDogJ0Rpc3Bvc2l0aW9uJywgdmFsdWU6ICdWZXJ0aWNhbGUnIH1dLFxuICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgIGxheW91dDogJ2dyaWQnLFxuICAgICAgICAgIGNvbHVtbnNNb2JpbGU6ICcxJyxcbiAgICAgICAgICBjb2x1bW5zRGVza3RvcDogJzMnLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGNvbGxlY3Rpb25ncmlkOiB7XG4gICAgICAgIHR5cGU6ICdDb2xsZWN0aW9uR3JpZCcsXG4gICAgICAgIGxhYmVsOiAnR3JpbGxlIGRlIGNvbnRlbnVzJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdBZmZpY2hlIGF1dG9tYXRpcXVlbWVudCBsZXMgaXRlbXMgZFx1MjAxOXVuZSBjb2xsZWN0aW9uLicsXG4gICAgICAgIHN0YXR1czogJ0Jyb3VpbGxvbicsXG4gICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgY29sbGVjdGlvbklkOiAnJyxcbiAgICAgICAgICBsaW1pdDogNixcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfTtcbiAgICBjb25zdCBwZXJzaXN0QWN0aXZlUGFnZSA9IChwYWdlSWQpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShzdG9yYWdlS2V5cy5hY3RpdmUsIHBhZ2VJZCk7XG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgLyogaWdub3JlIHN0b3JhZ2UgZXJyb3JzICovXG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBnZXRTdG9yZWRBY3RpdmVQYWdlID0gKHBhZ2VzKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBzdG9yZWQgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oc3RvcmFnZUtleXMuYWN0aXZlKTtcbiAgICAgICAgaWYgKHN0b3JlZCAmJiBwYWdlcy5zb21lKChwYWdlKSA9PiBwYWdlLmlkID09PSBzdG9yZWQpKSB7XG4gICAgICAgICAgcmV0dXJuIHN0b3JlZDtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCB7XG4gICAgICAgIC8qIGlnbm9yZSBzdG9yYWdlIGVycm9ycyAqL1xuICAgICAgfVxuICAgICAgcmV0dXJuIHBhZ2VzWzBdPy5pZCB8fCBudWxsO1xuICAgIH07XG4gICAgY29uc3QgZm9ybWF0QmxvY2tDb3VudCA9IChjb3VudCkgPT4ge1xuICAgICAgaWYgKCFjb3VudCB8fCBjb3VudCA8PSAwKSB7XG4gICAgICAgIHJldHVybiAnMCBibG9jJztcbiAgICAgIH1cbiAgICAgIHJldHVybiBjb3VudCA9PT0gMSA/ICcxIGJsb2MnIDogYCR7Y291bnR9IGJsb2NzYDtcbiAgICB9O1xuICAgIGNvbnN0IG5vcm1hbGl6ZVBhZ2VTbHVnID0gKHZhbHVlKSA9PiB7XG4gICAgICBpZiAoIXZhbHVlIHx8IHZhbHVlID09PSAnLycpIHtcbiAgICAgICAgcmV0dXJuICcvJztcbiAgICAgIH1cbiAgICAgIGNvbnN0IGJhc2UgPSB3b3Jrc3BhY2VTbHVnaWZ5KHZhbHVlLnJlcGxhY2UoL15cXC8vLCAnJykpO1xuICAgICAgcmV0dXJuIGJhc2UgPyBgLyR7YmFzZX1gIDogJy8nO1xuICAgIH07XG4gICAgY29uc3QgZ2VuZXJhdGVCbG9ja0lkID0gKHBhZ2VJZCA9ICdwYWdlJywga2V5ID0gJ2Jsb2NrJykgPT5cbiAgICAgIGAke3BhZ2VJZH0tJHtrZXl9LSR7RGF0ZS5ub3coKS50b1N0cmluZygzNil9LSR7TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMCl9YDtcbiAgICBjb25zdCBjcmVhdGVJbml0aWFsQmxvY2tzID0gKHBhZ2VJZCwgdGl0bGUpID0+IFtcbiAgICAgIGNyZWF0ZUJsb2NrKFxuICAgICAgICBnZW5lcmF0ZUJsb2NrSWQocGFnZUlkLCAnaW50cm8nKSxcbiAgICAgICAgJ0ludHJvZHVjdGlvbicsXG4gICAgICAgICdQYXJhZ3JhcGhlJyxcbiAgICAgICAgJ0Jyb3VpbGxvbicsXG4gICAgICAgIGBQYXJhZ3JhcGhlIGludHJvZHVjdGlmIHBvdXIgXCIke3RpdGxlfVwiLmAsXG4gICAgICAgIFt7IGxhYmVsOiAnTG9uZ3VldXInLCB2YWx1ZTogJzIgcGFyYWdyYXBoZXMnIH1dLFxuICAgICAgICB7XG4gICAgICAgICAgdGl0bGU6IGBJbnRyb2R1Y3Rpb24gXHUwMEUwICR7dGl0bGV9YCxcbiAgICAgICAgICBjb250ZW50OiAnQWpvdXRleiB2b3RyZSBwcmVtaWVyIHBhcmFncmFwaGUgZGUgcHJcdTAwRTlzZW50YXRpb24uJyxcbiAgICAgICAgICBhbGlnbjogJ2xlZnQnLFxuICAgICAgICB9LFxuICAgICAgKSxcbiAgICAgIGNyZWF0ZUJsb2NrKFxuICAgICAgICBnZW5lcmF0ZUJsb2NrSWQocGFnZUlkLCAnY29udGVudCcpLFxuICAgICAgICAnWm9uZSBkZSBjb250ZW51JyxcbiAgICAgICAgJ0dyb3VwZScsXG4gICAgICAgICdCcm91aWxsb24nLFxuICAgICAgICAnU2VjdGlvbiBwcmluY2lwYWxlIFx1MDBFMCBjb21wb3NlciBhdmVjIHRleHRlcyBldCB2aXN1ZWxzLicsXG4gICAgICAgIFt7IGxhYmVsOiAnQ29sb25uZXMnLCB2YWx1ZTogJ0F1dG8nIH1dLFxuICAgICAgICB7XG4gICAgICAgICAgbGF5b3V0OiAnZ3JpZCcsXG4gICAgICAgICAgY29sdW1uc01vYmlsZTogJzEnLFxuICAgICAgICAgIGNvbHVtbnNEZXNrdG9wOiAnMicsXG4gICAgICAgIH0sXG4gICAgICApLFxuICAgIF07XG4gICAgY29uc3Qgc2V0QWN0aXZlTGFiZWxzID0gKHBhZ2UpID0+IHtcbiAgICAgIGlmIChhY3RpdmVUaXRsZSkge1xuICAgICAgICBhY3RpdmVUaXRsZS50ZXh0Q29udGVudCA9IHBhZ2U/LnRpdGxlIHx8ICdQYWdlJztcbiAgICAgIH1cbiAgICAgIGlmIChhY3RpdmVTbHVnKSB7XG4gICAgICAgIGFjdGl2ZVNsdWcudGV4dENvbnRlbnQgPSBwYWdlPy5zbHVnIHx8ICcvJztcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHJlbmRlclByZXZpZXdNZXRhID0gKHBhZ2UpID0+IHtcbiAgICAgIGlmICghcHJldmlld1RhZ3MpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcHJldmlld1RhZ3MuaW5uZXJIVE1MID0gJyc7XG4gICAgICBjb25zdCB0YWdzID1cbiAgICAgICAgcGFnZSAmJiBwYWdlLmJhZGdlcyAmJiBwYWdlLmJhZGdlcy5sZW5ndGggPiAwID8gcGFnZS5iYWRnZXMgOiBbJ1N0cnVjdHVyZSBlbiBjb3VycyddO1xuICAgICAgdGFncy5mb3JFYWNoKCh0YWcpID0+IHtcbiAgICAgICAgY29uc3QgYmFkZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgIGJhZGdlLmNsYXNzTmFtZSA9ICdyb3VuZGVkLWZ1bGwgYmctc2xhdGUtMTAwIHB4LTMgcHktMSc7XG4gICAgICAgIGJhZGdlLnRleHRDb250ZW50ID0gdGFnO1xuICAgICAgICBwcmV2aWV3VGFncy5hcHBlbmRDaGlsZChiYWRnZSk7XG4gICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IGdldFN0YXR1c0JhZGdlQ2xhc3NlcyA9IChzdGF0dXMpID0+IHtcbiAgICAgIHN3aXRjaCAoKHN0YXR1cyB8fCAnJykudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICBjYXNlICdlbiBsaWduZSc6XG4gICAgICAgICAgcmV0dXJuICdiZy1lbWVyYWxkLTUwIHRleHQtZW1lcmFsZC03MDAnO1xuICAgICAgICBjYXNlICdicm91aWxsb24nOlxuICAgICAgICAgIHJldHVybiAnYmctYW1iZXItNTAgdGV4dC1hbWJlci03MDAnO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiAnYmctc2xhdGUtMTAwIHRleHQtc2xhdGUtNjAwJztcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHJlbmRlckJsb2NrRGV0YWlscyA9IChibG9jaykgPT4ge1xuICAgICAgaWYgKCFibG9ja0RldGFpbEVtcHR5IHx8ICFibG9ja0VkaXRvcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWJsb2NrKSB7XG4gICAgICAgIGJsb2NrRGV0YWlsRW1wdHkuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIGJsb2NrRWRpdG9yLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBibG9ja0VkaXRvclVuc3VwcG9ydGVkPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgYmxvY2tGb3JtPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgYmxvY2tEZXRhaWxTdGF0dXM/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBibG9ja0RldGFpbEVtcHR5LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgYmxvY2tFZGl0b3IuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBpZiAoYmxvY2tEZXRhaWxTdGF0dXMpIHtcbiAgICAgICAgaWYgKGJsb2NrLnN0YXR1cykge1xuICAgICAgICAgIGJsb2NrRGV0YWlsU3RhdHVzLnRleHRDb250ZW50ID0gYmxvY2suc3RhdHVzO1xuICAgICAgICAgIGJsb2NrRGV0YWlsU3RhdHVzLmNsYXNzTmFtZSA9IGByb3VuZGVkLWZ1bGwgcHgtMyBweS0xIHRleHQteHMgZm9udC1zZW1pYm9sZCAke2dldFN0YXR1c0JhZGdlQ2xhc3NlcyhcbiAgICAgICAgICAgIGJsb2NrLnN0YXR1cyxcbiAgICAgICAgICApfWA7XG4gICAgICAgICAgYmxvY2tEZXRhaWxTdGF0dXMuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYmxvY2tEZXRhaWxTdGF0dXMuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHBvcHVsYXRlQmxvY2tGb3JtKGJsb2NrKTtcbiAgICB9O1xuICAgIGNvbnN0IGFwcGx5UHJldmlld0hpZ2hsaWdodCA9IChibG9ja0lkKSA9PiB7XG4gICAgICBpZiAoIXByZXZpZXdGcmFtZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBkb2MgPSBwcmV2aWV3RnJhbWUuY29udGVudERvY3VtZW50O1xuICAgICAgaWYgKCFkb2MpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3Qgbm9kZXMgPSBkb2MucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtcHJldmlldy1ibG9ja10nKTtcbiAgICAgIG5vZGVzLmZvckVhY2goKG5vZGUpID0+IHtcbiAgICAgICAgaWYgKG5vZGUuZGF0YXNldC5wcmV2aWV3QmxvY2sgPT09IGJsb2NrSWQpIHtcbiAgICAgICAgICBub2RlLmNsYXNzTGlzdC5hZGQoJ3ByZXZpZXctYmxvY2stYWN0aXZlJyk7XG4gICAgICAgICAgaWYgKHByZXZpZXdSZWFkeSAmJiBibG9ja0lkKSB7XG4gICAgICAgICAgICBub2RlLnNjcm9sbEludG9WaWV3KHsgYmVoYXZpb3I6ICdzbW9vdGgnLCBibG9jazogJ2NlbnRlcicsIGlubGluZTogJ25lYXJlc3QnIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBub2RlLmNsYXNzTGlzdC5yZW1vdmUoJ3ByZXZpZXctYmxvY2stYWN0aXZlJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKHByZXZpZXdIaWdobGlnaHRPdmVybGF5KSB7XG4gICAgICAgIHByZXZpZXdIaWdobGlnaHRPdmVybGF5LnN0eWxlLmJvcmRlckNvbG9yID0gYmxvY2tJZCA/ICdyZ2JhKDE1NiwgMTA3LCAyNTUsIDAuNSknIDogJ3RyYW5zcGFyZW50JztcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHJlbmRlckJsb2NrTGlzdCA9IChwYWdlKSA9PiB7XG4gICAgICBpZiAoIWJsb2NrTGlzdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBibG9ja0xpc3QuaW5uZXJIVE1MID0gJyc7XG4gICAgICBjb25zdCBibG9ja3MgPSBwYWdlPy5ibG9ja3MgfHwgW107XG4gICAgICBpZiAoYmxvY2tDb3VudEJhZGdlKSB7XG4gICAgICAgIGJsb2NrQ291bnRCYWRnZS50ZXh0Q29udGVudCA9IGZvcm1hdEJsb2NrQ291bnQoYmxvY2tzLmxlbmd0aCk7XG4gICAgICB9XG4gICAgICBpZiAoYmxvY2tzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBibG9ja0xpc3QuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIGJsb2NrTGlzdEVtcHR5Py5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYmxvY2tMaXN0LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgYmxvY2tMaXN0RW1wdHk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgYmxvY2tzLmZvckVhY2goKGJsb2NrKSA9PiB7XG4gICAgICAgIGNvbnN0IGlzQWN0aXZlID0gYmxvY2suaWQgPT09IGFjdGl2ZUJsb2NrSWQ7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgaXRlbS5kYXRhc2V0LmJsb2NrSXRlbSA9ICd0cnVlJztcbiAgICAgICAgaXRlbS5kYXRhc2V0LmJsb2NrSWQgPSBibG9jay5pZDtcbiAgICAgICAgaXRlbS5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnb3B0aW9uJyk7XG4gICAgICAgIGl0ZW0uc2V0QXR0cmlidXRlKCdhcmlhLXNlbGVjdGVkJywgaXNBY3RpdmUgPyAndHJ1ZScgOiAnZmFsc2UnKTtcbiAgICAgICAgaXRlbS50YWJJbmRleCA9IDA7XG4gICAgICAgIGl0ZW0uY2xhc3NOYW1lID0gW1xuICAgICAgICAgICdyZWxhdGl2ZSBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMyByb3VuZGVkLTJ4bCBib3JkZXIgcHgtMyBweS0yIHRleHQtbGVmdCB0cmFuc2l0aW9uJyxcbiAgICAgICAgICBpc0FjdGl2ZVxuICAgICAgICAgICAgPyAnYmctc2xhdGUtMTAwIGJvcmRlci1bIzlDNkJGRl0vNDAgc2hhZG93LXNtJ1xuICAgICAgICAgICAgOiAnYm9yZGVyLXNsYXRlLTIwMCBob3Zlcjpib3JkZXItWyM5QzZCRkZdLzQwJyxcbiAgICAgICAgXS5qb2luKCcgJyk7XG4gICAgICAgIGNvbnN0IGFjY2VudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgYWNjZW50LmNsYXNzTmFtZSA9IGBhYnNvbHV0ZSBpbnNldC15LTIgbGVmdC0wIHctMSByb3VuZGVkLWZ1bGwgYmctWyM5QzZCRkZdICR7XG4gICAgICAgICAgaXNBY3RpdmUgPyAnJyA6ICdoaWRkZW4nXG4gICAgICAgIH1gO1xuICAgICAgICBpdGVtLmFwcGVuZENoaWxkKGFjY2VudCk7XG5cbiAgICAgICAgY29uc3QgY29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBjb250ZW50LmNsYXNzTmFtZSA9ICdmbGV4IGZsZXgtMSBpdGVtcy1jZW50ZXIgZ2FwLTMnO1xuICAgICAgICBjb25zdCBoYW5kbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgaGFuZGxlLmNsYXNzTmFtZSA9XG4gICAgICAgICAgJ2hpZGRlbiBsZzpmbGV4IGN1cnNvci1ncmFiIGZsZXgtc2hyaW5rLTAgaXRlbXMtY2VudGVyIHRleHQtbGcgdGV4dC1zbGF0ZS00MDAnO1xuICAgICAgICBoYW5kbGUuaW5uZXJIVE1MID0gJyYjODgwMTsnO1xuICAgICAgICBjb250ZW50LmFwcGVuZENoaWxkKGhhbmRsZSk7XG5cbiAgICAgICAgY29uc3QgdGV4dFdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGV4dFdyYXBwZXIuY2xhc3NOYW1lID0gJ2ZsZXgtMSc7XG4gICAgICAgIGNvbnN0IG1ldGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgbWV0YS5jbGFzc05hbWUgPSAnZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgdGV4dC1bMTFweF0gdXBwZXJjYXNlIHRyYWNraW5nLXdpZGUgdGV4dC1zbGF0ZS01MDAnO1xuICAgICAgICBjb25zdCB0eXBlQmFkZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgIHR5cGVCYWRnZS5jbGFzc05hbWUgPVxuICAgICAgICAgICdyb3VuZGVkLWZ1bGwgYmctc2xhdGUtMTAwIHB4LTIgcHktMC41IHRleHQtWzEwcHhdIGZvbnQtc2VtaWJvbGQgdGV4dC1zbGF0ZS02MDAnO1xuICAgICAgICB0eXBlQmFkZ2UudGV4dENvbnRlbnQgPSBibG9jay50eXBlO1xuICAgICAgICBjb25zdCBzdGF0dXNCYWRnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgc3RhdHVzQmFkZ2UuY2xhc3NOYW1lID0gJ3RleHQtc2xhdGUtNDAwJztcbiAgICAgICAgc3RhdHVzQmFkZ2UudGV4dENvbnRlbnQgPSBibG9jay5zdGF0dXM7XG4gICAgICAgIG1ldGEuYXBwZW5kQ2hpbGQodHlwZUJhZGdlKTtcbiAgICAgICAgbWV0YS5hcHBlbmRDaGlsZChzdGF0dXNCYWRnZSk7XG4gICAgICAgIGNvbnN0IHRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgICAgICB0aXRsZS5jbGFzc05hbWUgPSAnbXQtMSB0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgdGV4dC1zbGF0ZS05MDAnO1xuICAgICAgICBjb25zdCBkaXNwbGF5TGFiZWwgPVxuICAgICAgICAgIChibG9jay5zZXR0aW5ncyAmJiBibG9jay5zZXR0aW5ncy50aXRsZSkgfHwgYmxvY2subGFiZWwgfHwgJ0Jsb2Mgc2FucyB0aXRyZSc7XG4gICAgICAgIHRpdGxlLnRleHRDb250ZW50ID0gZGlzcGxheUxhYmVsO1xuICAgICAgICB0ZXh0V3JhcHBlci5hcHBlbmRDaGlsZChtZXRhKTtcbiAgICAgICAgdGV4dFdyYXBwZXIuYXBwZW5kQ2hpbGQodGl0bGUpO1xuICAgICAgICBjb25zdCBibG9ja1R5cGUgPSAoYmxvY2sudHlwZSB8fCAnJykudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgaWYgKGJsb2NrVHlwZSA9PT0gJ2NvbGxlY3Rpb25ncmlkJyAmJiBibG9jay5jb2xsZWN0aW9uSWQpIHtcbiAgICAgICAgICBjb25zdCBjb2xsZWN0aW9uTmFtZSA9XG4gICAgICAgICAgICBkZXNpZ25Db2xsZWN0aW9ucy5maW5kKChlbnRyeSkgPT4gZW50cnkuaWQgPT09IGJsb2NrLmNvbGxlY3Rpb25JZCk/Lm5hbWUgfHxcbiAgICAgICAgICAgIGJsb2NrLmNvbGxlY3Rpb25JZDtcbiAgICAgICAgICBjb25zdCBpbmZvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgICAgICAgIGluZm8uY2xhc3NOYW1lID0gJ3RleHQteHMgdGV4dC1zbGF0ZS00MDAnO1xuICAgICAgICAgIGluZm8udGV4dENvbnRlbnQgPSBgQ29sbGVjdGlvbiA6ICR7Y29sbGVjdGlvbk5hbWV9YDtcbiAgICAgICAgICB0ZXh0V3JhcHBlci5hcHBlbmRDaGlsZChpbmZvKTtcbiAgICAgICAgfVxuICAgICAgICBjb250ZW50LmFwcGVuZENoaWxkKHRleHRXcmFwcGVyKTtcbiAgICAgICAgaXRlbS5hcHBlbmRDaGlsZChjb250ZW50KTtcblxuICAgICAgICBjb25zdCBhY3Rpb25zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGFjdGlvbnMuY2xhc3NOYW1lID0gJ2ZsZXggZmxleC1jb2wgZ2FwLTEgdGV4dC14cyB0ZXh0LXNsYXRlLTQwMCc7XG5cbiAgICAgICAgY29uc3QgbW92ZUJ1dHRvbnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgbW92ZUJ1dHRvbnMuY2xhc3NOYW1lID0gJ2ZsZXggaXRlbXMtY2VudGVyIGdhcC0xIGxnOmhpZGRlbic7XG4gICAgICAgIGNvbnN0IG1vdmVVcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICBtb3ZlVXAudHlwZSA9ICdidXR0b24nO1xuICAgICAgICBtb3ZlVXAuY2xhc3NOYW1lID1cbiAgICAgICAgICAncm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLXNsYXRlLTIwMCBweC0yIHB5LTEgdGV4dC1bMTFweF0gZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICAgIG1vdmVVcC50ZXh0Q29udGVudCA9ICdcdTIxOTEnO1xuICAgICAgICBtb3ZlVXAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICBtb3ZlQmxvY2tCeU9mZnNldChibG9jay5pZCwgLTEpO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgbW92ZURvd24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgbW92ZURvd24udHlwZSA9ICdidXR0b24nO1xuICAgICAgICBtb3ZlRG93bi5jbGFzc05hbWUgPVxuICAgICAgICAgICdyb3VuZGVkLWxnIGJvcmRlciBib3JkZXItc2xhdGUtMjAwIHB4LTIgcHktMSB0ZXh0LVsxMXB4XSBmb250LXNlbWlib2xkIHRleHQtc2xhdGUtNTAwJztcbiAgICAgICAgbW92ZURvd24udGV4dENvbnRlbnQgPSAnXHUyMTkzJztcbiAgICAgICAgbW92ZURvd24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICBtb3ZlQmxvY2tCeU9mZnNldChibG9jay5pZCwgMSk7XG4gICAgICAgIH0pO1xuICAgICAgICBtb3ZlQnV0dG9ucy5hcHBlbmRDaGlsZChtb3ZlVXApO1xuICAgICAgICBtb3ZlQnV0dG9ucy5hcHBlbmRDaGlsZChtb3ZlRG93bik7XG4gICAgICAgIGFjdGlvbnMuYXBwZW5kQ2hpbGQobW92ZUJ1dHRvbnMpO1xuXG4gICAgICAgIGNvbnN0IGRlbGV0ZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICBkZWxldGVCdXR0b24udHlwZSA9ICdidXR0b24nO1xuICAgICAgICBkZWxldGVCdXR0b24uY2xhc3NOYW1lID1cbiAgICAgICAgICAnaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci10cmFuc3BhcmVudCBweC0yIHB5LTEgdGV4dC1bMTJweF0gdGV4dC1yb3NlLTUwMCBob3Zlcjp0ZXh0LXJvc2UtNzAwJztcbiAgICAgICAgZGVsZXRlQnV0dG9uLmlubmVySFRNTCA9ICdcdUQ4M0RcdURERDFcdUZFMEYnO1xuICAgICAgICBkZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICBvcGVuQmxvY2tEZWxldGVNb2RhbChibG9jay5pZCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGFjdGlvbnMuYXBwZW5kQ2hpbGQoZGVsZXRlQnV0dG9uKTtcbiAgICAgICAgaXRlbS5hcHBlbmRDaGlsZChhY3Rpb25zKTtcblxuICAgICAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgIHNldEFjdGl2ZUJsb2NrKGJsb2NrLmlkKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldmVudCkgPT4ge1xuICAgICAgICAgIGlmIChldmVudC5rZXkgPT09ICdFbnRlcicgfHwgZXZlbnQua2V5ID09PSAnICcpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBzZXRBY3RpdmVCbG9jayhibG9jay5pZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgYmxvY2tMaXN0LmFwcGVuZENoaWxkKGl0ZW0pO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICBjb25zdCByZW5kZXJQYWdlTGlzdHMgPSAocGFnZXMsIGFjdGl2ZUlkKSA9PiB7XG4gICAgICBwYWdlTGlzdHMuZm9yRWFjaCgobGlzdCkgPT4ge1xuICAgICAgICBsaXN0LmlubmVySFRNTCA9ICcnO1xuICAgICAgICBwYWdlcy5mb3JFYWNoKChwYWdlKSA9PiB7XG4gICAgICAgICAgY29uc3QgaXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICAgICAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgICAgYnV0dG9uLnR5cGUgPSAnYnV0dG9uJztcbiAgICAgICAgICBidXR0b24uZGF0YXNldC5wYWdlSWQgPSBwYWdlLmlkO1xuICAgICAgICAgIGJ1dHRvbi5jbGFzc05hbWUgPSBbXG4gICAgICAgICAgICAndy1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBnYXAtMyBweC0zIHB5LTIgdGV4dC1sZWZ0IHRyYW5zaXRpb24nLFxuICAgICAgICAgICAgYWN0aXZlSWQgPT09IHBhZ2UuaWRcbiAgICAgICAgICAgICAgPyAnYmctWyM5QzZCRkZdLzEwIHRleHQtc2xhdGUtOTAwIGJvcmRlciBib3JkZXItWyM5QzZCRkZdLzQwIHJvdW5kZWQteGwgc2hhZG93LXNtJ1xuICAgICAgICAgICAgICA6ICd0ZXh0LXNsYXRlLTcwMCBob3ZlcjpiZy1zbGF0ZS01MCByb3VuZGVkLXhsJyxcbiAgICAgICAgICBdLmpvaW4oJyAnKTtcbiAgICAgICAgICBpZiAoYWN0aXZlSWQgPT09IHBhZ2UuaWQpIHtcbiAgICAgICAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtY3VycmVudCcsICdwYWdlJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJ1dHRvbi5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtY3VycmVudCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBidXR0b24uaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0zXCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZmxleCBoLTkgdy05IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciByb3VuZGVkLXhsIGJvcmRlciBib3JkZXItc2xhdGUtMjAwIGJnLXdoaXRlIHRleHQtc2xhdGUtNTAwXCI+XG4gICAgICAgICAgICAgICAgPHN2ZyB3aWR0aD1cIjE4XCIgaGVpZ2h0PVwiMThcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBhcmlhLWhpZGRlbj1cInRydWVcIj5cbiAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNNi41IDQuNWg3bDQgNHYxMWExIDEgMCAwIDEtMSAxaC0xMGExIDEgMCAwIDEtMS0xdi0xNGExIDEgMCAwIDEgMS0xWlwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjEuNFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIvPlxuICAgICAgICAgICAgICAgICAgPHBhdGggZD1cIk0xMy41IDQuNXY0YTEgMSAwIDAgMCAxIDFoM1wiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjEuNFwiLz5cbiAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC1zbSBmb250LXNlbWlib2xkXCI+JHtwYWdlLnRpdGxlfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQteHMgdGV4dC1zbGF0ZS01MDBcIj4ke3BhZ2Uuc2x1Z308L3NwYW4+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgYDtcbiAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICBzZXRBY3RpdmVQYWdlKHBhZ2UuaWQpO1xuICAgICAgICAgICAgaWYgKCFpc0Rlc2t0b3BEcmF3ZXIoKSkge1xuICAgICAgICAgICAgICBjbG9zZURyYXdlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGl0ZW0uYXBwZW5kQ2hpbGQoYnV0dG9uKTtcbiAgICAgICAgICBsaXN0LmFwcGVuZENoaWxkKGl0ZW0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgY29uc3QgZ2V0QWN0aXZlQmxvY2sgPSAoKSA9PiB7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlIHx8ICFBcnJheS5pc0FycmF5KGN1cnJlbnRQYWdlLmJsb2NrcykpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm4gY3VycmVudFBhZ2UuYmxvY2tzLmZpbmQoKGJsb2NrKSA9PiBibG9jay5pZCA9PT0gYWN0aXZlQmxvY2tJZCkgfHwgbnVsbDtcbiAgICB9O1xuICAgIGNvbnN0IHNldEFjdGl2ZUJsb2NrID0gKGJsb2NrSWQpID0+IHtcbiAgICAgIGlmICghY3VycmVudFBhZ2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFibG9ja0lkKSB7XG4gICAgICAgIGFjdGl2ZUJsb2NrSWQgPSBudWxsO1xuICAgICAgICByZW5kZXJCbG9ja0xpc3QoY3VycmVudFBhZ2UpO1xuICAgICAgICByZW5kZXJCbG9ja0RldGFpbHMobnVsbCk7XG4gICAgICAgIGFwcGx5UHJldmlld0hpZ2hsaWdodChudWxsKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgdGFyZ2V0QmxvY2sgPVxuICAgICAgICBjdXJyZW50UGFnZS5ibG9ja3MuZmluZCgoYmxvY2spID0+IGJsb2NrLmlkID09PSBibG9ja0lkKSB8fCBjdXJyZW50UGFnZS5ibG9ja3NbMF0gfHwgbnVsbDtcbiAgICAgIGFjdGl2ZUJsb2NrSWQgPSB0YXJnZXRCbG9jaz8uaWQgfHwgbnVsbDtcbiAgICAgIHJlbmRlckJsb2NrTGlzdChjdXJyZW50UGFnZSk7XG4gICAgICByZW5kZXJCbG9ja0RldGFpbHModGFyZ2V0QmxvY2spO1xuICAgICAgYXBwbHlQcmV2aWV3SGlnaGxpZ2h0KGFjdGl2ZUJsb2NrSWQpO1xuICAgIH07XG4gICAgY29uc3QgdXBkYXRlQ3VycmVudFBhZ2VCbG9ja3MgPSAobmV3QmxvY2tzKSA9PiB7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG5leHRQYWdlID0geyAuLi5jdXJyZW50UGFnZSwgYmxvY2tzOiBuZXdCbG9ja3MgfTtcbiAgICAgIHVwZGF0ZUN1cnJlbnRQYWdlU3RhdGUobmV4dFBhZ2UpO1xuICAgIH07XG4gICAgY29uc3QgaXNEZXNrdG9wUmVvcmRlciA9ICgpID0+IHdpbmRvdy5tYXRjaE1lZGlhKCcobWluLXdpZHRoOiAxMDI0cHgpJykubWF0Y2hlcztcbiAgICBmdW5jdGlvbiBtb3ZlQmxvY2tCeU9mZnNldChibG9ja0lkLCBvZmZzZXQpIHtcbiAgICAgIGlmICghY3VycmVudFBhZ2UgfHwgIWJsb2NrSWQgfHwgIW9mZnNldCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBibG9ja3MgPSBbLi4uKGN1cnJlbnRQYWdlLmJsb2NrcyB8fCBbXSldO1xuICAgICAgY29uc3QgaW5kZXggPSBibG9ja3MuZmluZEluZGV4KChibG9jaykgPT4gYmxvY2suaWQgPT09IGJsb2NrSWQpO1xuICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBuZXdJbmRleCA9IGluZGV4ICsgb2Zmc2V0O1xuICAgICAgaWYgKG5ld0luZGV4IDwgMCB8fCBuZXdJbmRleCA+PSBibG9ja3MubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IFttb3ZlZF0gPSBibG9ja3Muc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIGJsb2Nrcy5zcGxpY2UobmV3SW5kZXgsIDAsIG1vdmVkKTtcbiAgICAgIHVwZGF0ZUN1cnJlbnRQYWdlQmxvY2tzKGJsb2Nrcyk7XG4gICAgICBzZXRBY3RpdmVQYWdlKGN1cnJlbnRQYWdlLmlkLCB7IHByZXNlcnZlQmxvY2s6IHRydWUgfSk7XG4gICAgICBzZXRBY3RpdmVCbG9jayhtb3ZlZC5pZCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlb3JkZXJCbG9ja3Moc291cmNlSWQsIHRhcmdldElkKSB7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlIHx8ICFzb3VyY2VJZCB8fCAhdGFyZ2V0SWQgfHwgc291cmNlSWQgPT09IHRhcmdldElkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGJsb2NrcyA9IFsuLi4oY3VycmVudFBhZ2UuYmxvY2tzIHx8IFtdKV07XG4gICAgICBjb25zdCBmcm9tSW5kZXggPSBibG9ja3MuZmluZEluZGV4KChibG9jaykgPT4gYmxvY2suaWQgPT09IHNvdXJjZUlkKTtcbiAgICAgIGNvbnN0IHRvSW5kZXggPSBibG9ja3MuZmluZEluZGV4KChibG9jaykgPT4gYmxvY2suaWQgPT09IHRhcmdldElkKTtcbiAgICAgIGlmIChmcm9tSW5kZXggPCAwIHx8IHRvSW5kZXggPCAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IFttb3ZlZF0gPSBibG9ja3Muc3BsaWNlKGZyb21JbmRleCwgMSk7XG4gICAgICBibG9ja3Muc3BsaWNlKHRvSW5kZXgsIDAsIG1vdmVkKTtcbiAgICAgIHVwZGF0ZUN1cnJlbnRQYWdlQmxvY2tzKGJsb2Nrcyk7XG4gICAgICBzZXRBY3RpdmVQYWdlKGN1cnJlbnRQYWdlLmlkLCB7IHByZXNlcnZlQmxvY2s6IHRydWUgfSk7XG4gICAgICBzZXRBY3RpdmVCbG9jayhtb3ZlZC5pZCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZURyYWdnYWJsZVN0YXRlKCkge1xuICAgICAgaWYgKCFibG9ja0xpc3QpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgZHJhZ2dhYmxlID0gaXNEZXNrdG9wUmVvcmRlcigpO1xuICAgICAgYmxvY2tMaXN0LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWJsb2NrLWl0ZW1dJykuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICBpdGVtLnNldEF0dHJpYnV0ZSgnZHJhZ2dhYmxlJywgZHJhZ2dhYmxlID8gJ3RydWUnIDogJ2ZhbHNlJyk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2xvc2VCbG9ja0xpYnJhcnkoKSB7XG4gICAgICBpZiAoIWJsb2NrTGlicmFyeSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBibG9ja0xpYnJhcnkuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBibG9ja0xpYnJhcnlPcGVuID0gZmFsc2U7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG9wZW5CbG9ja0xpYnJhcnkoKSB7XG4gICAgICBpZiAoIWJsb2NrTGlicmFyeSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBibG9ja0xpYnJhcnkuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBibG9ja0xpYnJhcnlPcGVuID0gdHJ1ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdG9nZ2xlQmxvY2tMaWJyYXJ5KCkge1xuICAgICAgYmxvY2tMaWJyYXJ5T3BlbiA/IGNsb3NlQmxvY2tMaWJyYXJ5KCkgOiBvcGVuQmxvY2tMaWJyYXJ5KCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFkZEJsb2NrRnJvbUxpYnJhcnkodHlwZSkge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSB8fCAhdHlwZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBkZWZpbml0aW9uID0gYmxvY2tMaWJyYXJ5RGVmaW5pdGlvbnNbdHlwZV07XG4gICAgICBpZiAoIWRlZmluaXRpb24pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgY291bnQgPVxuICAgICAgICAoY3VycmVudFBhZ2UuYmxvY2tzIHx8IFtdKS5maWx0ZXIoKGJsb2NrKSA9PiBibG9jay50eXBlID09PSBkZWZpbml0aW9uLnR5cGUpLmxlbmd0aCArIDE7XG4gICAgICBjb25zdCBuZXdCbG9jayA9IGNyZWF0ZUJsb2NrKFxuICAgICAgICBnZW5lcmF0ZUJsb2NrSWQoY3VycmVudFBhZ2UuaWQsIHR5cGUpLFxuICAgICAgICBgJHtkZWZpbml0aW9uLmxhYmVsfSAke2NvdW50fWAsXG4gICAgICAgIGRlZmluaXRpb24udHlwZSxcbiAgICAgICAgZGVmaW5pdGlvbi5zdGF0dXMsXG4gICAgICAgIGRlZmluaXRpb24uZGVzY3JpcHRpb24sXG4gICAgICAgIGRlZmluaXRpb24ucHJvcHMsXG4gICAgICAgIGRlZmluaXRpb24uc2V0dGluZ3MgfHwge30sXG4gICAgICApO1xuICAgICAgaWYgKChkZWZpbml0aW9uLnR5cGUgfHwgJycpLnRvTG93ZXJDYXNlKCkgPT09ICdjb2xsZWN0aW9uZ3JpZCcpIHtcbiAgICAgICAgY29uc3QgZmlyc3RDb2xsZWN0aW9uSWQgPSBkZXNpZ25Db2xsZWN0aW9uc1swXT8uaWQgfHwgJyc7XG4gICAgICAgIG5ld0Jsb2NrLmNvbGxlY3Rpb25JZCA9IGZpcnN0Q29sbGVjdGlvbklkO1xuICAgICAgICBuZXdCbG9jay5zZXR0aW5ncy5jb2xsZWN0aW9uSWQgPSBmaXJzdENvbGxlY3Rpb25JZDtcbiAgICAgICAgbmV3QmxvY2suc2V0dGluZ3MubGltaXQgPSBuZXdCbG9jay5zZXR0aW5ncy5saW1pdCB8fCA2O1xuICAgICAgfVxuICAgICAgY29uc3QgbmV4dEJsb2NrcyA9IFsuLi4oY3VycmVudFBhZ2UuYmxvY2tzIHx8IFtdKSwgbmV3QmxvY2tdO1xuICAgICAgdXBkYXRlQ3VycmVudFBhZ2VCbG9ja3MobmV4dEJsb2Nrcyk7XG4gICAgICBzZXRBY3RpdmVQYWdlKGN1cnJlbnRQYWdlLmlkLCB7IHByZXNlcnZlQmxvY2s6IHRydWUgfSk7XG4gICAgICBzZXRBY3RpdmVCbG9jayhuZXdCbG9jay5pZCk7XG4gICAgICBjbG9zZUJsb2NrTGlicmFyeSgpO1xuICAgICAgc2hvd1RvYXN0KCdCbG9jIGFqb3V0XHUwMEU5Jyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlbGV0ZUJsb2NrQnlJZChibG9ja0lkKSB7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGJsb2NrcyA9IChjdXJyZW50UGFnZS5ibG9ja3MgfHwgW10pLmZpbHRlcigoYmxvY2spID0+IGJsb2NrLmlkICE9PSBibG9ja0lkKTtcbiAgICAgIGNvbnN0IG5leHRBY3RpdmUgPVxuICAgICAgICBibG9ja0lkID09PSBhY3RpdmVCbG9ja0lkID8gYmxvY2tzWzBdPy5pZCB8fCBudWxsIDogYWN0aXZlQmxvY2tJZCB8fCBibG9ja3NbMF0/LmlkIHx8IG51bGw7XG4gICAgICB1cGRhdGVDdXJyZW50UGFnZUJsb2NrcyhibG9ja3MpO1xuICAgICAgYWN0aXZlQmxvY2tJZCA9IG5leHRBY3RpdmU7XG4gICAgICBzZXRBY3RpdmVQYWdlKGN1cnJlbnRQYWdlLmlkLCB7IHByZXNlcnZlQmxvY2s6IHRydWUgfSk7XG4gICAgICBpZiAoYWN0aXZlQmxvY2tJZCkge1xuICAgICAgICBzZXRBY3RpdmVCbG9jayhhY3RpdmVCbG9ja0lkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlbmRlckJsb2NrRGV0YWlscyhudWxsKTtcbiAgICAgICAgYXBwbHlQcmV2aWV3SGlnaGxpZ2h0KG51bGwpO1xuICAgICAgfVxuICAgICAgc2hvd1RvYXN0KCdCbG9jIHN1cHByaW1cdTAwRTknKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2xvc2VCbG9ja0RlbGV0ZU1vZGFsKCkge1xuICAgICAgaWYgKCFibG9ja0RlbGV0ZU1vZGFsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGJsb2NrRGVsZXRlTW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBibG9ja0RlbGV0ZU1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2ZsZXgnKTtcbiAgICAgIHBlbmRpbmdEZWxldGVCbG9ja0lkID0gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gb3BlbkJsb2NrRGVsZXRlTW9kYWwoYmxvY2tJZCkge1xuICAgICAgaWYgKCFibG9ja0RlbGV0ZU1vZGFsKSB7XG4gICAgICAgIGRlbGV0ZUJsb2NrQnlJZChibG9ja0lkKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcGVuZGluZ0RlbGV0ZUJsb2NrSWQgPSBibG9ja0lkO1xuICAgICAgYmxvY2tEZWxldGVNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGJsb2NrRGVsZXRlTW9kYWwuY2xhc3NMaXN0LmFkZCgnZmxleCcpO1xuICAgIH1cbiAgICBjb25zdCB1cGRhdGVDdXJyZW50UGFnZVN0YXRlID0gKG5leHRQYWdlKSA9PiB7XG4gICAgICBpZiAoIW5leHRQYWdlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBub3JtYWxpemVQYWdlRGF0YShuZXh0UGFnZSk7XG4gICAgICBwYWdlcyA9IHBhZ2VzLm1hcCgocGFnZSkgPT4gKHBhZ2UuaWQgPT09IG5vcm1hbGl6ZWQuaWQgPyBub3JtYWxpemVkIDogcGFnZSkpO1xuICAgICAgY3VycmVudFBhZ2UgPSBub3JtYWxpemVkO1xuICAgICAgc2F2ZVBhZ2VUb1NlcnZlcihub3JtYWxpemVkKTtcbiAgICB9O1xuICAgIGNvbnN0IHNldEFjdGl2ZVBhZ2UgPSAocGFnZUlkLCBvcHRpb25zID0ge30pID0+IHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IHBhZ2VzLmZpbmQoKHBhZ2UpID0+IHBhZ2UuaWQgPT09IHBhZ2VJZCkgfHwgcGFnZXNbMF0gfHwgbnVsbDtcbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWRUYXJnZXQgPSB0YXJnZXQgPyBub3JtYWxpemVQYWdlRGF0YSh0YXJnZXQpIDogbnVsbDtcbiAgICAgIGN1cnJlbnRQYWdlID0gbm9ybWFsaXplZFRhcmdldDtcbiAgICAgIGFjdGl2ZVBhZ2VJZCA9IHRhcmdldD8uaWQgfHwgbnVsbDtcbiAgICAgIGlmICghb3B0aW9ucy5wcmVzZXJ2ZUJsb2NrIHx8ICFjdXJyZW50UGFnZSB8fCAhY3VycmVudFBhZ2UuYmxvY2tzLnNvbWUoKGJsb2NrKSA9PiBibG9jay5pZCA9PT0gYWN0aXZlQmxvY2tJZCkpIHtcbiAgICAgICAgYWN0aXZlQmxvY2tJZCA9IGN1cnJlbnRQYWdlPy5ibG9ja3M/LlswXT8uaWQgfHwgbnVsbDtcbiAgICAgIH1cbiAgICAgIGlmIChhY3RpdmVQYWdlSWQpIHtcbiAgICAgICAgcGVyc2lzdEFjdGl2ZVBhZ2UoYWN0aXZlUGFnZUlkKTtcbiAgICAgIH1cbiAgICAgIHJlbmRlclBhZ2VMaXN0cyhwYWdlcywgYWN0aXZlUGFnZUlkKTtcbiAgICAgIHNldEFjdGl2ZUxhYmVscyhjdXJyZW50UGFnZSk7XG4gICAgICByZW5kZXJQcmV2aWV3TWV0YShjdXJyZW50UGFnZSk7XG4gICAgICByZWZyZXNoUHJldmlldyhjdXJyZW50UGFnZSk7XG4gICAgICByZW5kZXJCbG9ja0xpc3QoY3VycmVudFBhZ2UpO1xuICAgICAgcmVuZGVyQmxvY2tEZXRhaWxzKGdldEFjdGl2ZUJsb2NrKCkpO1xuICAgICAgYXBwbHlQcmV2aWV3SGlnaGxpZ2h0KGFjdGl2ZUJsb2NrSWQpO1xuICAgICAgdXBkYXRlRHJhZ2dhYmxlU3RhdGUoKTtcbiAgICAgIGlmIChibG9ja0xpYnJhcnlPcGVuKSB7XG4gICAgICAgIGNsb3NlQmxvY2tMaWJyYXJ5KCk7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBpc0Rlc2t0b3BEcmF3ZXIgPSAoKSA9PiB3aW5kb3cubWF0Y2hNZWRpYSgnKG1pbi13aWR0aDogMTAyNHB4KScpLm1hdGNoZXM7XG4gICAgY29uc3Qgc3luY0RyYXdlclN0YXRlID0gKCkgPT4ge1xuICAgICAgaWYgKCFkcmF3ZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGlzRGVza3RvcERyYXdlcigpKSB7XG4gICAgICAgIGRyYXdlci5jbGFzc0xpc3QuYWRkKCdpcy1vcGVuJyk7XG4gICAgICAgIGRyYXdlckJhY2tkcm9wPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRyYXdlci5jbGFzc0xpc3QucmVtb3ZlKCdpcy1vcGVuJyk7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBvcGVuRHJhd2VyID0gKCkgPT4ge1xuICAgICAgaWYgKCFkcmF3ZXIgfHwgaXNEZXNrdG9wRHJhd2VyKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZHJhd2VyLmNsYXNzTGlzdC5hZGQoJ2lzLW9wZW4nKTtcbiAgICAgIGRyYXdlckJhY2tkcm9wPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnb3ZlcmZsb3ctaGlkZGVuJyk7XG4gICAgfTtcbiAgICBjb25zdCBjbG9zZURyYXdlciA9ICgpID0+IHtcbiAgICAgIGlmICghZHJhd2VyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGRyYXdlci5jbGFzc0xpc3QucmVtb3ZlKCdpcy1vcGVuJyk7XG4gICAgICBkcmF3ZXJCYWNrZHJvcD8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ292ZXJmbG93LWhpZGRlbicpO1xuICAgIH07XG4gICAgY29uc3Qgb3BlbkFkZFBhZ2VGb3JtID0gKCkgPT4ge1xuICAgICAgaWYgKCFhZGRQYWdlRm9ybSB8fCAhYWRkUGFnZVRvZ2dsZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhZGRQYWdlRm9ybS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGFkZFBhZ2VUb2dnbGUuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBhZGRQYWdlRXJyb3IgJiYgKGFkZFBhZ2VFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICAgIHBhZ2VTbHVnTWFudWFsbHlFZGl0ZWQgPSBmYWxzZTtcbiAgICAgIGlmIChhZGRQYWdlVGl0bGUpIHtcbiAgICAgICAgYWRkUGFnZVRpdGxlLnZhbHVlID0gJyc7XG4gICAgICAgIGFkZFBhZ2VUaXRsZS5mb2N1cygpO1xuICAgICAgfVxuICAgICAgaWYgKGFkZFBhZ2VTbHVnKSB7XG4gICAgICAgIGFkZFBhZ2VTbHVnLnZhbHVlID0gJyc7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBjbG9zZUFkZFBhZ2VGb3JtID0gKCkgPT4ge1xuICAgICAgaWYgKCFhZGRQYWdlRm9ybSB8fCAhYWRkUGFnZVRvZ2dsZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhZGRQYWdlRm9ybS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGFkZFBhZ2VUb2dnbGUuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBhZGRQYWdlRXJyb3IgJiYgKGFkZFBhZ2VFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICAgIHBhZ2VTbHVnTWFudWFsbHlFZGl0ZWQgPSBmYWxzZTtcbiAgICAgIGFkZFBhZ2VGb3JtLnJlc2V0KCk7XG4gICAgfTtcbiAgICBjb25zdCBzeW5jU2x1Z0Zyb21UaXRsZSA9ICgpID0+IHtcbiAgICAgIGlmICghYWRkUGFnZVRpdGxlIHx8ICFhZGRQYWdlU2x1Zykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAocGFnZVNsdWdNYW51YWxseUVkaXRlZCAmJiBhZGRQYWdlU2x1Zy52YWx1ZS50cmltKCkubGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhZGRQYWdlU2x1Zy52YWx1ZSA9IG5vcm1hbGl6ZVBhZ2VTbHVnKGFkZFBhZ2VUaXRsZS52YWx1ZSk7XG4gICAgfTtcblxuICAgIGxldCBwYWdlcyA9IFtdO1xuICAgIGxldCBhY3RpdmVQYWdlSWQgPSBudWxsO1xuICAgIGxldCBwYWdlU2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gICAgbGV0IGN1cnJlbnRQYWdlID0gbnVsbDtcbiAgICBsZXQgYWN0aXZlQmxvY2tJZCA9IG51bGw7XG4gICAgbGV0IGJsb2NrTGlicmFyeU9wZW4gPSBmYWxzZTtcbiAgICBsZXQgcGVuZGluZ0RlbGV0ZUJsb2NrSWQgPSBudWxsO1xuICAgIGxldCBsYXRlc3RQcmV2aWV3SHRtbCA9ICcnO1xuICAgIGxldCBwcmV2aWV3UmVhZHkgPSBmYWxzZTtcbiAgICBsZXQgcHJldmlld1JlcXVlc3RDb250cm9sbGVyID0gbnVsbDtcbiAgICBsZXQgZGVzaWduQ29sbGVjdGlvbnMgPSBbXTtcblxuICAgIGNvbnN0IG5vcm1hbGl6ZUJsb2NrRGF0YSA9IChibG9jaykgPT4ge1xuICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IHtcbiAgICAgICAgLi4uYmxvY2ssXG4gICAgICAgIHByb3BzOiBBcnJheS5pc0FycmF5KGJsb2NrLnByb3BzKSA/IGJsb2NrLnByb3BzIDogW10sXG4gICAgICAgIHNldHRpbmdzOiB7IC4uLihibG9jay5zZXR0aW5ncyB8fCB7fSkgfSxcbiAgICAgIH07XG4gICAgICBjb25zdCB0eXBlID0gKG5vcm1hbGl6ZWQudHlwZSB8fCAnJykudG9Mb3dlckNhc2UoKTtcbiAgICAgIGlmICh0eXBlID09PSAnY29sbGVjdGlvbmdyaWQnKSB7XG4gICAgICAgIG5vcm1hbGl6ZWQuY29sbGVjdGlvbklkID1cbiAgICAgICAgICBub3JtYWxpemVkLmNvbGxlY3Rpb25JZCB8fCBub3JtYWxpemVkLnNldHRpbmdzLmNvbGxlY3Rpb25JZCB8fCAnJztcbiAgICAgICAgbm9ybWFsaXplZC5zZXR0aW5ncy5jb2xsZWN0aW9uSWQgPSBub3JtYWxpemVkLmNvbGxlY3Rpb25JZDtcbiAgICAgICAgbm9ybWFsaXplZC5zZXR0aW5ncy5saW1pdCA9IG5vcm1hbGl6ZWQuc2V0dGluZ3MubGltaXQgfHwgNjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBub3JtYWxpemVkO1xuICAgIH07XG5cbiAgICBjb25zdCBub3JtYWxpemVQYWdlRGF0YSA9IChwYWdlKSA9PiAoe1xuICAgICAgLi4ucGFnZSxcbiAgICAgIGJsb2NrczogKHBhZ2UuYmxvY2tzIHx8IFtdKS5tYXAoKGJsb2NrKSA9PiBub3JtYWxpemVCbG9ja0RhdGEoYmxvY2spKSxcbiAgICB9KTtcblxuICAgIGNvbnN0IGxvYWREZXNpZ25Db2xsZWN0aW9ucyA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvbnNBcGlCYXNlKSB7XG4gICAgICAgIGRlc2lnbkNvbGxlY3Rpb25zID0gW107XG4gICAgICAgIHVwZGF0ZUNvbGxlY3Rpb25TZWxlY3RPcHRpb25zKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goY29sbGVjdGlvbnNBcGlCYXNlLCB7XG4gICAgICAgICAgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxlcyBjb2xsZWN0aW9ucy4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+IFtdKTtcbiAgICAgICAgZGVzaWduQ29sbGVjdGlvbnMgPSBBcnJheS5pc0FycmF5KHBheWxvYWQpID8gcGF5bG9hZCA6IFtdO1xuICAgICAgICBjb25zdCBjdXJyZW50VmFsdWUgPSBjb2xsZWN0aW9uU2VsZWN0Py52YWx1ZSB8fCAnJztcbiAgICAgICAgdXBkYXRlQ29sbGVjdGlvblNlbGVjdE9wdGlvbnMoY3VycmVudFZhbHVlKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZGVzaWduXSBjb2xsZWN0aW9ucyBsb2FkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KCdDb2xsZWN0aW9ucyBpbmRpc3BvbmlibGVzLicpO1xuICAgICAgICBkZXNpZ25Db2xsZWN0aW9ucyA9IFtdO1xuICAgICAgICB1cGRhdGVDb2xsZWN0aW9uU2VsZWN0T3B0aW9ucygpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBzeW5jQ29sbGVjdGlvblNlbGVjdGlvbkluZm8gPSAoY29sbGVjdGlvbklkKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25TZWxlY3Rpb25JbmZvKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghY29sbGVjdGlvbklkKSB7XG4gICAgICAgIGNvbGxlY3Rpb25TZWxlY3Rpb25JbmZvLnRleHRDb250ZW50ID0gZGVzaWduQ29sbGVjdGlvbnMubGVuZ3RoXG4gICAgICAgICAgPyAnU1x1MDBFOWxlY3Rpb25uZXogdW5lIGNvbGxlY3Rpb24gcG91ciBhZmZpY2hlciBzZXMgaW5mb3JtYXRpb25zLidcbiAgICAgICAgICA6ICdBdWN1bmUgY29sbGVjdGlvbiBkaXNwb25pYmxlLiBBam91dGV6LWVuIGRlcHVpcyBsXHUyMDE5b25nbGV0IENvbnRlbnVzLic7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGVudHJ5ID0gZGVzaWduQ29sbGVjdGlvbnMuZmluZCgoY29sbGVjdGlvbikgPT4gY29sbGVjdGlvbi5pZCA9PT0gY29sbGVjdGlvbklkKTtcbiAgICAgIGlmICghZW50cnkpIHtcbiAgICAgICAgY29sbGVjdGlvblNlbGVjdGlvbkluZm8udGV4dENvbnRlbnQgPSBgQ29sbGVjdGlvbiAke2NvbGxlY3Rpb25JZH1gO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBkZXRhaWxzID0gW107XG4gICAgICBpZiAoZW50cnkuZGVzY3JpcHRpb24pIHtcbiAgICAgICAgZGV0YWlscy5wdXNoKGVudHJ5LmRlc2NyaXB0aW9uKTtcbiAgICAgIH1cbiAgICAgIGlmIChlbnRyeS50eXBlKSB7XG4gICAgICAgIGRldGFpbHMucHVzaChgVHlwZVx1MDBBMDogJHtlbnRyeS50eXBlfWApO1xuICAgICAgfVxuICAgICAgY29sbGVjdGlvblNlbGVjdGlvbkluZm8udGV4dENvbnRlbnQgPVxuICAgICAgICBkZXRhaWxzLmpvaW4oJyBcdTAwQjcgJykgfHwgYENvbGxlY3Rpb24gJHtlbnRyeS5uYW1lIHx8IGVudHJ5LmlkfWA7XG4gICAgfTtcblxuICAgIGNvbnN0IHVwZGF0ZUNvbGxlY3Rpb25TZWxlY3RPcHRpb25zID0gKHNlbGVjdGVkVmFsdWUgPSAnJykgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uU2VsZWN0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbGxlY3Rpb25TZWxlY3QuaW5uZXJIVE1MID0gJyc7XG4gICAgICBpZiAoIWRlc2lnbkNvbGxlY3Rpb25zLmxlbmd0aCkge1xuICAgICAgICBjb2xsZWN0aW9uU2VsZWN0LmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICAgIG9wdGlvbi52YWx1ZSA9ICcnO1xuICAgICAgICBvcHRpb24udGV4dENvbnRlbnQgPSAnQXVjdW5lIGNvbGxlY3Rpb24gZGlzcG9uaWJsZSc7XG4gICAgICAgIGNvbGxlY3Rpb25TZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uKTtcbiAgICAgICAgc3luY0NvbGxlY3Rpb25TZWxlY3Rpb25JbmZvKCcnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29sbGVjdGlvblNlbGVjdC5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgaWYgKHNlbGVjdGVkVmFsdWUgJiYgIWRlc2lnbkNvbGxlY3Rpb25zLnNvbWUoKGVudHJ5KSA9PiBlbnRyeS5pZCA9PT0gc2VsZWN0ZWRWYWx1ZSkpIHtcbiAgICAgICAgY29uc3QgZmFsbGJhY2tPcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgICAgZmFsbGJhY2tPcHRpb24udmFsdWUgPSBzZWxlY3RlZFZhbHVlO1xuICAgICAgICBmYWxsYmFja09wdGlvbi50ZXh0Q29udGVudCA9IHNlbGVjdGVkVmFsdWU7XG4gICAgICAgIGNvbGxlY3Rpb25TZWxlY3QuYXBwZW5kQ2hpbGQoZmFsbGJhY2tPcHRpb24pO1xuICAgICAgfVxuICAgICAgZGVzaWduQ29sbGVjdGlvbnMuZm9yRWFjaCgoY29sbGVjdGlvbikgPT4ge1xuICAgICAgICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgICAgb3B0aW9uLnZhbHVlID0gY29sbGVjdGlvbi5pZDtcbiAgICAgICAgY29uc3QgbGFiZWwgPSBjb2xsZWN0aW9uLm5hbWUgfHwgY29sbGVjdGlvbi5pZDtcbiAgICAgICAgb3B0aW9uLnRleHRDb250ZW50ID0gY29sbGVjdGlvbi50eXBlID8gYCR7bGFiZWx9IFx1MDBCNyAke2NvbGxlY3Rpb24udHlwZX1gIDogbGFiZWw7XG4gICAgICAgIG9wdGlvbi5kYXRhc2V0LmRlc2NyaXB0aW9uID0gY29sbGVjdGlvbi5kZXNjcmlwdGlvbiB8fCAnJztcbiAgICAgICAgY29sbGVjdGlvblNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb24pO1xuICAgICAgfSk7XG4gICAgICBpZiAoc2VsZWN0ZWRWYWx1ZSkge1xuICAgICAgICBjb2xsZWN0aW9uU2VsZWN0LnZhbHVlID0gc2VsZWN0ZWRWYWx1ZTtcbiAgICAgIH1cbiAgICAgIHN5bmNDb2xsZWN0aW9uU2VsZWN0aW9uSW5mbyhjb2xsZWN0aW9uU2VsZWN0LnZhbHVlIHx8ICcnKTtcbiAgICB9O1xuXG4gICAgbG9hZERlc2lnbkNvbGxlY3Rpb25zKCk7XG4gICAgc3luY0RyYXdlclN0YXRlKCk7XG5cbiAgICBkcmF3ZXJPcGVuQnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5EcmF3ZXIpO1xuICAgIH0pO1xuICAgIGRyYXdlckNsb3NlQnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlRHJhd2VyKTtcbiAgICB9KTtcbiAgICBkcmF3ZXJCYWNrZHJvcD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZURyYXdlcik7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsICgpID0+IHtcbiAgICAgIHN5bmNEcmF3ZXJTdGF0ZSgpO1xuICAgICAgdXBkYXRlRHJhZ2dhYmxlU3RhdGUoKTtcbiAgICB9KTtcblxuICAgIGFkZFBhZ2VUb2dnbGU/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlbkFkZFBhZ2VGb3JtKTtcbiAgICBhZGRQYWdlQ2FuY2VsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlQWRkUGFnZUZvcm0pO1xuICAgIGFkZFBhZ2VUaXRsZT8uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBzeW5jU2x1Z0Zyb21UaXRsZSk7XG4gICAgYWRkUGFnZVNsdWc/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgYWRkUGFnZUVycm9yICYmIChhZGRQYWdlRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgICBwYWdlU2x1Z01hbnVhbGx5RWRpdGVkID0gdHJ1ZTtcbiAgICB9KTtcbiAgICBhZGRQYWdlRm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKCFwYWdlc0FwaUJhc2UpIHtcbiAgICAgICAgYWRkUGFnZUVycm9yICYmIChhZGRQYWdlRXJyb3IudGV4dENvbnRlbnQgPSAnQXVjdW4gc2l0ZSBzXHUwMEU5bGVjdGlvbm5cdTAwRTkuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghYWRkUGFnZVRpdGxlIHx8ICFhZGRQYWdlU2x1Zykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCB0aXRsZSA9IGFkZFBhZ2VUaXRsZS52YWx1ZS50cmltKCk7XG4gICAgICBjb25zdCBzbHVnID0gbm9ybWFsaXplUGFnZVNsdWcoYWRkUGFnZVNsdWcudmFsdWUudHJpbSgpIHx8IHRpdGxlKTtcbiAgICAgIGlmICghdGl0bGUgfHwgIXNsdWcpIHtcbiAgICAgICAgYWRkUGFnZUVycm9yICYmIChhZGRQYWdlRXJyb3IudGV4dENvbnRlbnQgPSAnVGl0cmUgZXQgc2x1ZyBzb250IHJlcXVpcy4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYWRkUGFnZUVycm9yICYmIChhZGRQYWdlRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgICBpZiAoYWRkUGFnZVN1Ym1pdEJ1dHRvbikge1xuICAgICAgICBhZGRQYWdlU3VibWl0QnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgYWRkUGFnZVN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9ICdDclx1MDBFOWF0aW9uLi4uJztcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGNyZWF0ZWRQYWdlID0gYXdhaXQgY3JlYXRlUGFnZU9uU2VydmVyKHsgdGl0bGUsIHNsdWcgfSk7XG4gICAgICAgIGlmICghY3JlYXRlZFBhZ2UgfHwgIWNyZWF0ZWRQYWdlLmlkKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSXHUwMEU5cG9uc2UgaW52YWxpZGUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgcGFnZXMgPSBbLi4ucGFnZXMsIG5vcm1hbGl6ZVBhZ2VEYXRhKGNyZWF0ZWRQYWdlKV07XG4gICAgICAgIGNsb3NlQWRkUGFnZUZvcm0oKTtcbiAgICAgICAgc2hvd1RvYXN0KCdQYWdlIGNyXHUwMEU5XHUwMEU5ZScpO1xuICAgICAgICBzZXRBY3RpdmVQYWdlKGNyZWF0ZWRQYWdlLmlkKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZGVzaWduXSBjcmVhdGUgcGFnZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBhZGRQYWdlRXJyb3IgJiYgKGFkZFBhZ2VFcnJvci50ZXh0Q29udGVudCA9IGVyci5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIGNyXHUwMEU5ZXIgbGEgcGFnZS4nKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmIChhZGRQYWdlU3VibWl0QnV0dG9uKSB7XG4gICAgICAgICAgYWRkUGFnZVN1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgIGFkZFBhZ2VTdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSAnQ3JcdTAwRTllcic7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICBibG9ja0xpYnJhcnlUb2dnbGU/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIHRvZ2dsZUJsb2NrTGlicmFyeSgpO1xuICAgIH0pO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoIWJsb2NrTGlicmFyeU9wZW4pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKFxuICAgICAgICBibG9ja0xpYnJhcnk/LmNvbnRhaW5zKGV2ZW50LnRhcmdldCkgfHxcbiAgICAgICAgYmxvY2tMaWJyYXJ5VG9nZ2xlPy5jb250YWlucyhldmVudC50YXJnZXQpXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY2xvc2VCbG9ja0xpYnJhcnkoKTtcbiAgICB9KTtcbiAgICBibG9ja0FkZEJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGNvbnN0IHR5cGUgPSBidXR0b24uZGF0YXNldC5ibG9ja0FkZDtcbiAgICAgICAgYWRkQmxvY2tGcm9tTGlicmFyeSh0eXBlKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGJsb2NrRGVsZXRlQ2FuY2VsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNsb3NlQmxvY2tEZWxldGVNb2RhbCgpO1xuICAgIH0pO1xuICAgIGJsb2NrRGVsZXRlQ29uZmlybT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBpZiAocGVuZGluZ0RlbGV0ZUJsb2NrSWQpIHtcbiAgICAgICAgZGVsZXRlQmxvY2tCeUlkKHBlbmRpbmdEZWxldGVCbG9ja0lkKTtcbiAgICAgIH1cbiAgICAgIGNsb3NlQmxvY2tEZWxldGVNb2RhbCgpO1xuICAgIH0pO1xuICAgIGJsb2NrRGVsZXRlTW9kYWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSBibG9ja0RlbGV0ZU1vZGFsKSB7XG4gICAgICAgIGNsb3NlQmxvY2tEZWxldGVNb2RhbCgpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGJsb2NrRm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICAgIGlmICghdGFyZ2V0IHx8ICF0YXJnZXQubmFtZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAodGFyZ2V0Lm5hbWUgPT09ICdncm91cC1jb2x1bW5zLW1vYmlsZScgfHwgdGFyZ2V0Lm5hbWUgPT09ICdncm91cC1jb2x1bW5zLWRlc2t0b3AnKSB7XG4gICAgICAgIGNvbnN0IG1vYmlsZVZhbHVlID1cbiAgICAgICAgICBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJncm91cC1jb2x1bW5zLW1vYmlsZVwiXScpPy52YWx1ZSB8fCAnMSc7XG4gICAgICAgIGNvbnN0IGRlc2t0b3BWYWx1ZSA9XG4gICAgICAgICAgYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZ3JvdXAtY29sdW1ucy1kZXNrdG9wXCJdJyk/LnZhbHVlIHx8ICczJztcbiAgICAgICAgdXBkYXRlR3JvdXBNaW5pUHJldmlldyhtb2JpbGVWYWx1ZSwgZGVza3RvcFZhbHVlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBjb2xsZWN0aW9uU2VsZWN0Py5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICAgIHN5bmNDb2xsZWN0aW9uU2VsZWN0aW9uSW5mbyh0YXJnZXQ/LnZhbHVlIHx8ICcnKTtcbiAgICB9KTtcbiAgICBibG9ja0Zvcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGhhbmRsZUJsb2NrRm9ybVN1Ym1pdCk7XG4gICAgYmxvY2tGb3JtQ2FuY2VsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGNvbnN0IGJsb2NrID0gZ2V0QWN0aXZlQmxvY2soKTtcbiAgICAgIGlmIChibG9jaykge1xuICAgICAgICBwb3B1bGF0ZUJsb2NrRm9ybShibG9jayk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcHJldmlld0ZyYW1lPy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xuICAgICAgcHJldmlld1JlYWR5ID0gdHJ1ZTtcbiAgICAgIHVwZGF0ZVByZXZpZXdTdGF0dXMoJ1x1MDBDMCBqb3VyJyk7XG4gICAgICBhcHBseVByZXZpZXdIaWdobGlnaHQoYWN0aXZlQmxvY2tJZCk7XG4gICAgfSk7XG4gICAgcHJldmlld09wZW5CdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgcHJldmlld1dpbmRvdyA9IHdpbmRvdy5vcGVuKCcnLCAnX2JsYW5rJyk7XG4gICAgICBpZiAoIXByZXZpZXdXaW5kb3cpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcHJldmlld1dpbmRvdy5vcGVuZXIgPSBudWxsO1xuICAgICAgY29uc3QgZG9jID0gcHJldmlld1dpbmRvdy5kb2N1bWVudDtcbiAgICAgIGRvYy5vcGVuKCk7XG4gICAgICBkb2Mud3JpdGUobGF0ZXN0UHJldmlld0h0bWwgfHwgZ2V0TG9hZGluZ1ByZXZpZXdIdG1sKCkpO1xuICAgICAgZG9jLmNsb3NlKCk7XG4gICAgfSk7XG4gICAgY29uc3QgaGFuZGxlQmxvY2tEcmFnU3RhcnQgPSAoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IGl0ZW0gPSBldmVudC50YXJnZXQuY2xvc2VzdCgnW2RhdGEtYmxvY2staXRlbV0nKTtcbiAgICAgIGlmICghaXRlbSB8fCAhaXNEZXNrdG9wUmVvcmRlcigpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGRyYWdTb3VyY2VJZCA9IGl0ZW0uZGF0YXNldC5ibG9ja0lkIHx8IG51bGw7XG4gICAgICBpZiAoIWRyYWdTb3VyY2VJZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBldmVudC5kYXRhVHJhbnNmZXIuZWZmZWN0QWxsb3dlZCA9ICdtb3ZlJztcbiAgICAgIGV2ZW50LmRhdGFUcmFuc2Zlci5zZXREYXRhKCd0ZXh0L3BsYWluJywgZHJhZ1NvdXJjZUlkKTtcbiAgICAgIGl0ZW0uY2xhc3NMaXN0LmFkZCgnb3BhY2l0eS01MCcpO1xuICAgIH07XG4gICAgY29uc3QgY2xlYXJEcmFnSW5kaWNhdG9ycyA9ICgpID0+IHtcbiAgICAgIGJsb2NrTGlzdFxuICAgICAgICA/LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWJsb2NrLWl0ZW1dJylcbiAgICAgICAgLmZvckVhY2goKG5vZGUpID0+IG5vZGUuY2xhc3NMaXN0LnJlbW92ZSgnb3BhY2l0eS01MCcsICdyaW5nLTInLCAncmluZy1bIzlDNkJGRl0vNTAnKSk7XG4gICAgfTtcbiAgICBjb25zdCBoYW5kbGVCbG9ja0RyYWdFbmQgPSAoKSA9PiB7XG4gICAgICBkcmFnU291cmNlSWQgPSBudWxsO1xuICAgICAgY2xlYXJEcmFnSW5kaWNhdG9ycygpO1xuICAgIH07XG4gICAgY29uc3QgaGFuZGxlQmxvY2tEcmFnT3ZlciA9IChldmVudCkgPT4ge1xuICAgICAgaWYgKCFkcmFnU291cmNlSWQgfHwgIWlzRGVza3RvcFJlb3JkZXIoKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQuY2xvc2VzdCgnW2RhdGEtYmxvY2staXRlbV0nKTtcbiAgICAgIGlmICghdGFyZ2V0IHx8IHRhcmdldC5kYXRhc2V0LmJsb2NrSWQgPT09IGRyYWdTb3VyY2VJZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ3JpbmctMicsICdyaW5nLVsjOUM2QkZGXS81MCcpO1xuICAgIH07XG4gICAgY29uc3QgaGFuZGxlQmxvY2tEcmFnTGVhdmUgPSAoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCdbZGF0YS1ibG9jay1pdGVtXScpO1xuICAgICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoJ3JpbmctMicsICdyaW5nLVsjOUM2QkZGXS81MCcpO1xuICAgIH07XG4gICAgY29uc3QgaGFuZGxlQmxvY2tEcm9wID0gKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoIWRyYWdTb3VyY2VJZCB8fCAhaXNEZXNrdG9wUmVvcmRlcigpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQuY2xvc2VzdCgnW2RhdGEtYmxvY2staXRlbV0nKTtcbiAgICAgIGNvbnN0IHNvdXJjZSA9IGRyYWdTb3VyY2VJZDtcbiAgICAgIGRyYWdTb3VyY2VJZCA9IG51bGw7XG4gICAgICBjbGVhckRyYWdJbmRpY2F0b3JzKCk7XG4gICAgICBjb25zdCB0YXJnZXRJZCA9IHRhcmdldD8uZGF0YXNldC5ibG9ja0lkIHx8IG51bGw7XG4gICAgICBpZiAoIXRhcmdldElkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHJlb3JkZXJCbG9ja3Moc291cmNlLCB0YXJnZXRJZCk7XG4gICAgfTtcbiAgICBsZXQgZHJhZ1NvdXJjZUlkID0gbnVsbDtcbiAgICBibG9ja0xpc3Q/LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdzdGFydCcsIGhhbmRsZUJsb2NrRHJhZ1N0YXJ0KTtcbiAgICBibG9ja0xpc3Q/LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdlbmQnLCBoYW5kbGVCbG9ja0RyYWdFbmQpO1xuICAgIGJsb2NrTGlzdD8uYWRkRXZlbnRMaXN0ZW5lcignZHJhZ292ZXInLCBoYW5kbGVCbG9ja0RyYWdPdmVyKTtcbiAgICBibG9ja0xpc3Q/LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdsZWF2ZScsIGhhbmRsZUJsb2NrRHJhZ0xlYXZlKTtcbiAgICBibG9ja0xpc3Q/LmFkZEV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCBoYW5kbGVCbG9ja0Ryb3ApO1xuICAgIGxvYWRQYWdlc0Zyb21TZXJ2ZXIoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXRDb250ZW50V29ya3NwYWNlKCkge1xuICAgIGNvbnN0IGNvbGxlY3Rpb25MaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29sbGVjdGlvbi1saXN0XScpO1xuICAgIGlmICghY29sbGVjdGlvbkxpc3QpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgY29sbGVjdGlvbkVtcHR5U3RhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xsZWN0aW9uLWVtcHR5XScpO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25JdGVtc0VtcHR5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29sbGVjdGlvbi1pdGVtcy1lbXB0eV0nKTtcbiAgICBjb25zdCBpdGVtVGFibGVXcmFwcGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS10YWJsZS13cmFwcGVyXScpO1xuICAgIGNvbnN0IGl0ZW1UYWJsZUJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLXRhYmxlLWJvZHldJyk7XG4gICAgY29uc3QgY29sbGVjdGlvblRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29sbGVjdGlvbi10aXRsZV0nKTtcbiAgICBjb25zdCBjb2xsZWN0aW9uRGVzY3JpcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xsZWN0aW9uLWRlc2NyaXB0aW9uXScpO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25EcmF3ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xsZWN0aW9uLWRyYXdlcl0nKTtcbiAgICBjb25zdCBjb2xsZWN0aW9uRHJhd2VyQmFja2Ryb3AgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xsZWN0aW9uLWRyYXdlci1iYWNrZHJvcF0nKTtcbiAgICBjb25zdCBjb2xsZWN0aW9uRHJhd2VyT3BlbkJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1jb2xsZWN0aW9uLWRyYXdlci1vcGVuXScpO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25EcmF3ZXJDbG9zZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1jb2xsZWN0aW9uLWRyYXdlci1jbG9zZV0nKTtcbiAgICBjb25zdCBpdGVtQWRkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS1hZGRdJyk7XG4gICAgY29uc3QgaXRlbURldGFpbEVtcHR5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS1kZXRhaWwtZW1wdHldJyk7XG4gICAgY29uc3QgaXRlbUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLWZvcm1dJyk7XG4gICAgY29uc3QgaXRlbUZvcm1GaWVsZHMgPSBpdGVtRm9ybVxuICAgICAgPyB7XG4gICAgICAgICAgdGl0bGU6IGl0ZW1Gb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaXRlbS10aXRsZVwiXScpLFxuICAgICAgICAgIHNsdWc6IGl0ZW1Gb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaXRlbS1zbHVnXCJdJyksXG4gICAgICAgICAgZXhjZXJwdDogaXRlbUZvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJpdGVtLWV4Y2VycHRcIl0nKSxcbiAgICAgICAgICBjb250ZW50OiBpdGVtRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cIml0ZW0tY29udGVudFwiXScpLFxuICAgICAgICAgIGltYWdlOiBpdGVtRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cIml0ZW0taW1hZ2VcIl0nKSxcbiAgICAgICAgICBzdGF0dXM6IGl0ZW1Gb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaXRlbS1zdGF0dXNcIl0nKSxcbiAgICAgICAgfVxuICAgICAgOiB7fTtcbiAgICBjb25zdCBpdGVtU3RhdHVzQmFkZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLXN0YXR1cy1iYWRnZV0nKTtcbiAgICBjb25zdCBpdGVtRGVsZXRlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS1kZWxldGVdJyk7XG4gICAgY29uc3QgaXRlbURlbGV0ZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS1kZWxldGUtbW9kYWxdJyk7XG4gICAgY29uc3QgaXRlbURlbGV0ZUNhbmNlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tZGVsZXRlLWNhbmNlbF0nKTtcbiAgICBjb25zdCBpdGVtRGVsZXRlQ29uZmlybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tZGVsZXRlLWNvbmZpcm1dJyk7XG4gICAgY29uc3QgaXRlbUZvcm1DYW5jZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLWNhbmNlbF0nKTtcbiAgICBjb25zdCBpdGVtRm9ybVNhdmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLXNhdmVdJyk7XG4gICAgY29uc3Qgc3RhdHVzQmFkZ2VCYXNlQ2xhc3MgPSAncm91bmRlZC1mdWxsIHB4LTMgcHktMSB0ZXh0LXhzIGZvbnQtc2VtaWJvbGQnO1xuXG4gICAgY29uc3Qgc2FmZVNpdGVTbHVnVmFsdWUgPSBzdHJpcExlYWRpbmdTbGFzaChcbiAgICAgIHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJycsXG4gICAgKTtcbiAgICBjb25zdCBjb2xsZWN0aW9uc0FwaUJhc2UgPSBzYWZlU2l0ZVNsdWdWYWx1ZVxuICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWdWYWx1ZSl9L2NvbGxlY3Rpb25zYFxuICAgICAgOiBudWxsO1xuXG4gICAgbGV0IGNvbGxlY3Rpb25zID0gW107XG4gICAgbGV0IGNvbGxlY3Rpb25JdGVtcyA9IFtdO1xuICAgIGxldCBhY3RpdmVDb2xsZWN0aW9uSWQgPSBudWxsO1xuICAgIGxldCBhY3RpdmVJdGVtSWQgPSBudWxsO1xuICAgIGxldCBpc0NyZWF0aW5nSXRlbSA9IGZhbHNlO1xuICAgIGxldCBpdGVtU2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gICAgbGV0IHBlbmRpbmdEZWxldGVJdGVtSWQgPSBudWxsO1xuXG4gICAgY29uc3Qgb3BlbkNvbGxlY3Rpb25EcmF3ZXIgPSAoKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25EcmF3ZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29sbGVjdGlvbkRyYXdlci5jbGFzc0xpc3QuYWRkKCdpcy1vcGVuJyk7XG4gICAgICBjb2xsZWN0aW9uRHJhd2VyLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVYKDApJztcbiAgICAgIGNvbGxlY3Rpb25EcmF3ZXJCYWNrZHJvcD8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ292ZXJmbG93LWhpZGRlbicpO1xuICAgIH07XG5cbiAgICBjb25zdCBjbG9zZUNvbGxlY3Rpb25EcmF3ZXIgPSAoKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25EcmF3ZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29sbGVjdGlvbkRyYXdlci5jbGFzc0xpc3QucmVtb3ZlKCdpcy1vcGVuJyk7XG4gICAgICBjb2xsZWN0aW9uRHJhd2VyLnN0eWxlLnRyYW5zZm9ybSA9ICcnO1xuICAgICAgY29sbGVjdGlvbkRyYXdlckJhY2tkcm9wPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnb3ZlcmZsb3ctaGlkZGVuJyk7XG4gICAgfTtcblxuICAgIGNvbGxlY3Rpb25EcmF3ZXJPcGVuQnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5Db2xsZWN0aW9uRHJhd2VyKTtcbiAgICB9KTtcbiAgICBjb2xsZWN0aW9uRHJhd2VyQ2xvc2VCdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VDb2xsZWN0aW9uRHJhd2VyKTtcbiAgICB9KTtcbiAgICBjb2xsZWN0aW9uRHJhd2VyQmFja2Ryb3A/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VDb2xsZWN0aW9uRHJhd2VyKTtcblxuICAgIGNvbnN0IG5vcm1hbGl6ZUl0ZW1TbHVnSW5wdXQgPSAodmFsdWUpID0+IHtcbiAgICAgIGNvbnN0IHJhdyA9ICh2YWx1ZSB8fCAnJykudHJpbSgpO1xuICAgICAgaWYgKCFyYXcpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfVxuICAgICAgaWYgKHJhdyA9PT0gJy8nKSB7XG4gICAgICAgIHJldHVybiAnLyc7XG4gICAgICB9XG4gICAgICBjb25zdCBzZWdtZW50cyA9IHJhdy5yZXBsYWNlKC9eXFwvLywgJycpLnNwbGl0KCcvJyk7XG4gICAgICBjb25zdCBjbGVhbmVkU2VnbWVudHMgPSBzZWdtZW50c1xuICAgICAgICAubWFwKChzZWdtZW50KSA9PiB3b3Jrc3BhY2VTbHVnaWZ5KHNlZ21lbnQgfHwgJycpKVxuICAgICAgICAuZmlsdGVyKChzZWdtZW50KSA9PiBzZWdtZW50Lmxlbmd0aCA+IDApO1xuICAgICAgaWYgKCFjbGVhbmVkU2VnbWVudHMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICAgIH1cbiAgICAgIHJldHVybiBgLyR7Y2xlYW5lZFNlZ21lbnRzLmpvaW4oJy8nKX1gO1xuICAgIH07XG5cbiAgICBjb25zdCBmb3JtYXRJdGVtRGF0ZSA9ICh2YWx1ZSkgPT4ge1xuICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICByZXR1cm4gJ1x1MjAxNCc7XG4gICAgICB9XG4gICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUodmFsdWUpO1xuICAgICAgaWYgKE51bWJlci5pc05hTihkYXRlLmdldFRpbWUoKSkpIHtcbiAgICAgICAgcmV0dXJuICdcdTIwMTQnO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGRhdGUudG9Mb2NhbGVEYXRlU3RyaW5nKCdmci1GUicsIHsgZGF5OiAnMi1kaWdpdCcsIG1vbnRoOiAnc2hvcnQnLCB5ZWFyOiAnbnVtZXJpYycgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IHVwZGF0ZUNvbGxlY3Rpb25IZWFkZXIgPSAoKSA9PiB7XG4gICAgICBjb25zdCBjb2xsZWN0aW9uID0gY29sbGVjdGlvbnMuZmluZCgoZW50cnkpID0+IGVudHJ5LmlkID09PSBhY3RpdmVDb2xsZWN0aW9uSWQpO1xuICAgICAgaWYgKGNvbGxlY3Rpb25UaXRsZSkge1xuICAgICAgICBjb2xsZWN0aW9uVGl0bGUudGV4dENvbnRlbnQgPSBjb2xsZWN0aW9uPy5uYW1lIHx8ICdTXHUwMEU5bGVjdGlvbm5leiB1bmUgY29sbGVjdGlvbic7XG4gICAgICB9XG4gICAgICBpZiAoY29sbGVjdGlvbkRlc2NyaXB0aW9uKSB7XG4gICAgICAgIGNvbGxlY3Rpb25EZXNjcmlwdGlvbi50ZXh0Q29udGVudCA9IGNvbGxlY3Rpb24/LmRlc2NyaXB0aW9uIHx8ICcnO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCB1cGRhdGVJdGVtc0VtcHR5TWVzc2FnZSA9IChtZXNzYWdlKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25JdGVtc0VtcHR5KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbGxlY3Rpb25JdGVtc0VtcHR5LnRleHRDb250ZW50ID1cbiAgICAgICAgbWVzc2FnZSB8fFxuICAgICAgICAoYWN0aXZlQ29sbGVjdGlvbklkXG4gICAgICAgICAgPyAnQXVjdW4gaXRlbSBkYW5zIGNldHRlIGNvbGxlY3Rpb24gcG91ciBsZSBtb21lbnQuJ1xuICAgICAgICAgIDogJ0Nob2lzaXNzZXogdW5lIGNvbGxlY3Rpb24gZGFucyBsZSBwYW5uZWF1IGRlIGdhdWNoZS4nKTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGlkZUl0ZW1Gb3JtID0gKCkgPT4ge1xuICAgICAgaWYgKGl0ZW1Gb3JtKSB7XG4gICAgICAgIGl0ZW1Gb3JtLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBpdGVtRm9ybS5kYXRhc2V0Lml0ZW1JZCA9ICcnO1xuICAgICAgfVxuICAgICAgaXRlbURldGFpbEVtcHR5Py5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGlmIChpdGVtU3RhdHVzQmFkZ2UpIHtcbiAgICAgICAgaXRlbVN0YXR1c0JhZGdlLmNsYXNzTmFtZSA9IGBoaWRkZW4gJHtzdGF0dXNCYWRnZUJhc2VDbGFzc31gO1xuICAgICAgICBpdGVtU3RhdHVzQmFkZ2UudGV4dENvbnRlbnQgPSAnJztcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtRGVsZXRlQnV0dG9uKSB7XG4gICAgICAgIGl0ZW1EZWxldGVCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBzaG93SXRlbUZvcm0gPSAoKSA9PiB7XG4gICAgICBpZiAoIWl0ZW1Gb3JtKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGl0ZW1Gb3JtLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgaXRlbURldGFpbEVtcHR5Py5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICB9O1xuXG4gICAgY29uc3Qgc3luY0FkZEJ1dHRvblN0YXRlID0gKCkgPT4ge1xuICAgICAgaWYgKCFpdGVtQWRkQnV0dG9uKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGl0ZW1BZGRCdXR0b24uZGlzYWJsZWQgPSAhYWN0aXZlQ29sbGVjdGlvbklkO1xuICAgICAgaWYgKGl0ZW1BZGRCdXR0b24uZGlzYWJsZWQpIHtcbiAgICAgICAgaXRlbUFkZEJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdvcGFjaXR5LTYwJywgJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGl0ZW1BZGRCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnb3BhY2l0eS02MCcsICdwb2ludGVyLWV2ZW50cy1ub25lJyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHN5bmNJdGVtU3RhdHVzQmFkZ2UgPSAoc3RhdHVzKSA9PiB7XG4gICAgICBpZiAoIWl0ZW1TdGF0dXNCYWRnZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIXN0YXR1cykge1xuICAgICAgICBpdGVtU3RhdHVzQmFkZ2UuY2xhc3NOYW1lID0gYGhpZGRlbiAke3N0YXR1c0JhZGdlQmFzZUNsYXNzfWA7XG4gICAgICAgIGl0ZW1TdGF0dXNCYWRnZS50ZXh0Q29udGVudCA9ICcnO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBub3JtYWxpemVkID0gc3RhdHVzLnRvTG93ZXJDYXNlKCk7XG4gICAgICBsZXQgY29sb3JDbGFzcyA9ICdiZy1zbGF0ZS0xMDAgdGV4dC1zbGF0ZS02MDAgYm9yZGVyIGJvcmRlci1zbGF0ZS0yMDAnO1xuICAgICAgaWYgKG5vcm1hbGl6ZWQgPT09ICdwdWJsaVx1MDBFOScgfHwgbm9ybWFsaXplZCA9PT0gJ3B1YmxpZScpIHtcbiAgICAgICAgY29sb3JDbGFzcyA9ICdiZy1lbWVyYWxkLTUwIHRleHQtZW1lcmFsZC03MDAgYm9yZGVyIGJvcmRlci1lbWVyYWxkLTEwMCc7XG4gICAgICB9IGVsc2UgaWYgKG5vcm1hbGl6ZWQgPT09ICdicm91aWxsb24nKSB7XG4gICAgICAgIGNvbG9yQ2xhc3MgPSAnYmctYW1iZXItNTAgdGV4dC1hbWJlci03MDAgYm9yZGVyIGJvcmRlci1hbWJlci0xMDAnO1xuICAgICAgfVxuICAgICAgaXRlbVN0YXR1c0JhZGdlLmNsYXNzTmFtZSA9IGAke3N0YXR1c0JhZGdlQmFzZUNsYXNzfSAke2NvbG9yQ2xhc3N9YDtcbiAgICAgIGl0ZW1TdGF0dXNCYWRnZS50ZXh0Q29udGVudCA9IHN0YXR1cztcbiAgICB9O1xuXG4gICAgY29uc3QgcmVuZGVyQ29sbGVjdGlvbkxpc3QgPSAoKSA9PiB7XG4gICAgICBjb2xsZWN0aW9uTGlzdC5pbm5lckhUTUwgPSAnJztcbiAgICAgIGlmICghY29sbGVjdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgIGNvbGxlY3Rpb25FbXB0eVN0YXRlPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29sbGVjdGlvbkVtcHR5U3RhdGU/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgY29sbGVjdGlvbnMuZm9yRWFjaCgoY29sbGVjdGlvbikgPT4ge1xuICAgICAgICBjb25zdCBpc0FjdGl2ZSA9IGNvbGxlY3Rpb24uaWQgPT09IGFjdGl2ZUNvbGxlY3Rpb25JZDtcbiAgICAgICAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIGJ1dHRvbi50eXBlID0gJ2J1dHRvbic7XG4gICAgICAgIGJ1dHRvbi5kYXRhc2V0LmNvbGxlY3Rpb25JZCA9IGNvbGxlY3Rpb24uaWQ7XG4gICAgICAgIGJ1dHRvbi5jbGFzc05hbWUgPSBbXG4gICAgICAgICAgJ3ctZnVsbCByb3VuZGVkLXhsIGJvcmRlciBweC0zIHB5LTIgdGV4dC1sZWZ0IHRyYW5zaXRpb24gZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLVsjOUM2QkZGXS80MCcsXG4gICAgICAgICAgaXNBY3RpdmVcbiAgICAgICAgICAgID8gJ2JnLVsjRjdGMEZGXSBib3JkZXItWyM5QzZCRkZdLzQwIHRleHQtc2xhdGUtOTAwJ1xuICAgICAgICAgICAgOiAnYm9yZGVyLXNsYXRlLTIwMCB0ZXh0LXNsYXRlLTcwMCBob3Zlcjpib3JkZXItWyM5QzZCRkZdLzQwJyxcbiAgICAgICAgXS5qb2luKCcgJyk7XG4gICAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnb3B0aW9uJyk7XG4gICAgICAgIGlmIChpc0FjdGl2ZSkge1xuICAgICAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtY3VycmVudCcsICd0cnVlJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYnV0dG9uLnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1jdXJyZW50Jyk7XG4gICAgICAgIH1cbiAgICAgICAgYnV0dG9uLmlubmVySFRNTCA9IGBcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIGdhcC0yXCI+XG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQtc20gZm9udC1zZW1pYm9sZFwiPiR7Y29sbGVjdGlvbi5uYW1lIHx8IGNvbGxlY3Rpb24uaWR9PC9wPlxuICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQteHMgdGV4dC1zbGF0ZS01MDBcIj4ke2NvbGxlY3Rpb24uZGVzY3JpcHRpb24gfHwgJyd9PC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQtWzExcHhdIHVwcGVyY2FzZSB0cmFja2luZy13aWRlIHRleHQtc2xhdGUtNDAwXCI+JHtjb2xsZWN0aW9uLnR5cGUgfHwgJyd9PC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICBgO1xuICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgc2V0QWN0aXZlQ29sbGVjdGlvbihjb2xsZWN0aW9uLmlkKTtcbiAgICAgICAgICBpZiAoIXdpbmRvdy5tYXRjaE1lZGlhKCcobWluLXdpZHRoOiAxMDI0cHgpJykubWF0Y2hlcykge1xuICAgICAgICAgICAgY2xvc2VDb2xsZWN0aW9uRHJhd2VyKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgY29sbGVjdGlvbkxpc3QuYXBwZW5kQ2hpbGQoYnV0dG9uKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCByZW5kZXJJdGVtVGFibGUgPSAoKSA9PiB7XG4gICAgICBpZiAoIWl0ZW1UYWJsZUJvZHkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaXRlbVRhYmxlQm9keS5pbm5lckhUTUwgPSAnJztcbiAgICAgIGlmICghY29sbGVjdGlvbkl0ZW1zLmxlbmd0aCB8fCAhYWN0aXZlQ29sbGVjdGlvbklkKSB7XG4gICAgICAgIGNvbGxlY3Rpb25JdGVtc0VtcHR5Py5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgdXBkYXRlSXRlbXNFbXB0eU1lc3NhZ2UoKTtcbiAgICAgICAgaXRlbVRhYmxlV3JhcHBlcj8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbGxlY3Rpb25JdGVtc0VtcHR5Py5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGl0ZW1UYWJsZVdyYXBwZXI/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgY29sbGVjdGlvbkl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgICAgY29uc3Qgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKTtcbiAgICAgICAgcm93LmRhdGFzZXQuaXRlbUlkID0gaXRlbS5pZDtcbiAgICAgICAgY29uc3QgaXNBY3RpdmUgPSBpdGVtLmlkID09PSBhY3RpdmVJdGVtSWQgJiYgIWlzQ3JlYXRpbmdJdGVtO1xuICAgICAgICByb3cuY2xhc3NOYW1lID0gW1xuICAgICAgICAgICdjdXJzb3ItcG9pbnRlciB0cmFuc2l0aW9uIGZvY3VzLXdpdGhpbjpiZy1bI0Y3RjBGRl0vNzAgZm9jdXM6b3V0bGluZS1ub25lJyxcbiAgICAgICAgICBpc0FjdGl2ZSA/ICdiZy1bI0Y3RjBGRl0vNzAnIDogJ2hvdmVyOmJnLXNsYXRlLTUwJyxcbiAgICAgICAgXS5qb2luKCcgJyk7XG4gICAgICAgIHJvdy50YWJJbmRleCA9IDA7XG4gICAgICAgIHJvdy5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnYnV0dG9uJyk7XG4gICAgICAgIGlmIChpc0FjdGl2ZSkge1xuICAgICAgICAgIHJvdy5zZXRBdHRyaWJ1dGUoJ2FyaWEtY3VycmVudCcsICd0cnVlJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcm93LnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1jdXJyZW50Jyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3RhdHVzID0gaXRlbS5zdGF0dXMgfHwgJ0Jyb3VpbGxvbic7XG4gICAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBzdGF0dXMudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgY29uc3Qgc3RhdHVzQ2xhc3NlcyA9XG4gICAgICAgICAgbm9ybWFsaXplZCA9PT0gJ3B1YmxpXHUwMEU5JyB8fCBub3JtYWxpemVkID09PSAncHVibGllJ1xuICAgICAgICAgICAgPyAnYmctZW1lcmFsZC01MCB0ZXh0LWVtZXJhbGQtNzAwIGJvcmRlciBib3JkZXItZW1lcmFsZC0xMDAnXG4gICAgICAgICAgICA6ICdiZy1hbWJlci01MCB0ZXh0LWFtYmVyLTcwMCBib3JkZXIgYm9yZGVyLWFtYmVyLTEwMCc7XG4gICAgICAgIHJvdy5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgPHRkIGNsYXNzPVwicHgtNCBweS0zIGFsaWduLXRvcFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgdGV4dC1zbGF0ZS05MDBcIj4ke2l0ZW0udGl0bGUgfHwgJ1NhbnMgdGl0cmUnfTwvc3Bhbj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNTAwXCI+JHtpdGVtLnN1bW1hcnkgfHwgaXRlbS5leGNlcnB0IHx8ICcnfTwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgPHRkIGNsYXNzPVwicHgtNCBweS0zIGFsaWduLXRvcCB0ZXh0LXNtIHRleHQtc2xhdGUtNjAwXCI+JHtpdGVtLnNsdWcgfHwgJyd9PC90ZD5cbiAgICAgICAgICA8dGQgY2xhc3M9XCJweC00IHB5LTMgYWxpZ24tdG9wXCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciByb3VuZGVkLWZ1bGwgcHgtMyBweS0xIHRleHQteHMgZm9udC1zZW1pYm9sZCAke3N0YXR1c0NsYXNzZXN9XCI+XG4gICAgICAgICAgICAgICR7c3RhdHVzfVxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgPHRkIGNsYXNzPVwicHgtNCBweS0zIGFsaWduLXRvcCB0ZXh0LXNtIHRleHQtc2xhdGUtNTAwXCI+JHtmb3JtYXRJdGVtRGF0ZShcbiAgICAgICAgICAgIGl0ZW0udXBkYXRlZEF0IHx8IGl0ZW0uY3JlYXRlZEF0LFxuICAgICAgICAgICl9PC90ZD5cbiAgICAgICAgYDtcbiAgICAgICAgY29uc3QgaGFuZGxlU2VsZWN0ID0gKCkgPT4ge1xuICAgICAgICAgIHNlbGVjdEl0ZW0oaXRlbS5pZCk7XG4gICAgICAgIH07XG4gICAgICAgIHJvdy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZVNlbGVjdCk7XG4gICAgICAgIHJvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VudGVyJyB8fCBldmVudC5rZXkgPT09ICcgJykge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGhhbmRsZVNlbGVjdCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGl0ZW1UYWJsZUJvZHkuYXBwZW5kQ2hpbGQocm93KTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCBzZWxlY3RJdGVtID0gKGl0ZW1JZCkgPT4ge1xuICAgICAgY29uc3QgaXRlbSA9IGNvbGxlY3Rpb25JdGVtcy5maW5kKChlbnRyeSkgPT4gZW50cnkuaWQgPT09IGl0ZW1JZCk7XG4gICAgICBpZiAoIWl0ZW0pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYWN0aXZlSXRlbUlkID0gaXRlbS5pZDtcbiAgICAgIGlzQ3JlYXRpbmdJdGVtID0gZmFsc2U7XG4gICAgICBpdGVtU2x1Z01hbnVhbGx5RWRpdGVkID0gdHJ1ZTtcbiAgICAgIHBvcHVsYXRlSXRlbUZvcm0oaXRlbSk7XG4gICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICB9O1xuXG4gICAgY29uc3QgcG9wdWxhdGVJdGVtRm9ybSA9IChpdGVtKSA9PiB7XG4gICAgICBpZiAoIWl0ZW1Gb3JtIHx8ICFpdGVtKSB7XG4gICAgICAgIGhpZGVJdGVtRm9ybSgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzaG93SXRlbUZvcm0oKTtcbiAgICAgIGl0ZW1Gb3JtLmRhdGFzZXQuaXRlbUlkID0gaXRlbS5pZDtcbiAgICAgIGlmIChpdGVtRm9ybUZpZWxkcy50aXRsZSkge1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy50aXRsZS52YWx1ZSA9IGl0ZW0udGl0bGUgfHwgJyc7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbUZvcm1GaWVsZHMuc2x1Zykge1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy5zbHVnLnZhbHVlID0gaXRlbS5zbHVnIHx8ICcnO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1Gb3JtRmllbGRzLmV4Y2VycHQpIHtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMuZXhjZXJwdC52YWx1ZSA9IGl0ZW0uc3VtbWFyeSB8fCBpdGVtLmV4Y2VycHQgfHwgJyc7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbUZvcm1GaWVsZHMuY29udGVudCkge1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy5jb250ZW50LnZhbHVlID0gaXRlbS5jb250ZW50IHx8ICcnO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1Gb3JtRmllbGRzLmltYWdlKSB7XG4gICAgICAgIGl0ZW1Gb3JtRmllbGRzLmltYWdlLnZhbHVlID0gaXRlbS5pbWFnZSB8fCAnJztcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtRm9ybUZpZWxkcy5zdGF0dXMpIHtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMuc3RhdHVzLnZhbHVlID0gaXRlbS5zdGF0dXMgfHwgJ0Jyb3VpbGxvbic7XG4gICAgICB9XG4gICAgICBzeW5jSXRlbVN0YXR1c0JhZGdlKGl0ZW0uc3RhdHVzIHx8ICdCcm91aWxsb24nKTtcbiAgICAgIGlmIChpdGVtRGVsZXRlQnV0dG9uKSB7XG4gICAgICAgIGl0ZW1EZWxldGVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgcHJlcGFyZU5ld0l0ZW1Gb3JtID0gKCkgPT4ge1xuICAgICAgaWYgKCFpdGVtRm9ybSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpc0NyZWF0aW5nSXRlbSA9IHRydWU7XG4gICAgICBhY3RpdmVJdGVtSWQgPSBudWxsO1xuICAgICAgaXRlbVNsdWdNYW51YWxseUVkaXRlZCA9IGZhbHNlO1xuICAgICAgaXRlbUZvcm0uZGF0YXNldC5pdGVtSWQgPSAnJztcbiAgICAgIGl0ZW1Gb3JtLnJlc2V0KCk7XG4gICAgICBpZiAoaXRlbUZvcm1GaWVsZHMuc3RhdHVzKSB7XG4gICAgICAgIGl0ZW1Gb3JtRmllbGRzLnN0YXR1cy52YWx1ZSA9ICdCcm91aWxsb24nO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1Gb3JtRmllbGRzLnNsdWcpIHtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMuc2x1Zy52YWx1ZSA9ICcnO1xuICAgICAgfVxuICAgICAgc3luY0l0ZW1TdGF0dXNCYWRnZSgnQnJvdWlsbG9uJyk7XG4gICAgICBzaG93SXRlbUZvcm0oKTtcbiAgICAgIGlmIChpdGVtRGVsZXRlQnV0dG9uKSB7XG4gICAgICAgIGl0ZW1EZWxldGVCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaXRlbUZvcm1GaWVsZHMudGl0bGU/LmZvY3VzKCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGNvbGxlY3RJdGVtRm9ybVZhbHVlcyA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHRpdGxlID0gKGl0ZW1Gb3JtRmllbGRzLnRpdGxlPy52YWx1ZSB8fCAnJykudHJpbSgpO1xuICAgICAgY29uc3Qgc2x1Z0lucHV0ID0gKGl0ZW1Gb3JtRmllbGRzLnNsdWc/LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICBjb25zdCBzdW1tYXJ5ID0gKGl0ZW1Gb3JtRmllbGRzLmV4Y2VycHQ/LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICBjb25zdCBjb250ZW50ID0gKGl0ZW1Gb3JtRmllbGRzLmNvbnRlbnQ/LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICBjb25zdCBpbWFnZSA9IChpdGVtRm9ybUZpZWxkcy5pbWFnZT8udmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgIGNvbnN0IHN0YXR1cyA9IGl0ZW1Gb3JtRmllbGRzLnN0YXR1cz8udmFsdWUgfHwgJ0Jyb3VpbGxvbic7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0aXRsZSxcbiAgICAgICAgc2x1Zzogc2x1Z0lucHV0ID8gbm9ybWFsaXplSXRlbVNsdWdJbnB1dChzbHVnSW5wdXQpIDogbm9ybWFsaXplSXRlbVNsdWdJbnB1dCh0aXRsZSksXG4gICAgICAgIHN1bW1hcnksXG4gICAgICAgIGV4Y2VycHQ6IHN1bW1hcnksXG4gICAgICAgIGNvbnRlbnQsXG4gICAgICAgIGltYWdlLFxuICAgICAgICBzdGF0dXMsXG4gICAgICB9O1xuICAgIH07XG5cbiAgICBjb25zdCBzZXRGb3JtU2F2aW5nU3RhdGUgPSAoaXNTYXZpbmcpID0+IHtcbiAgICAgIGlmIChpdGVtRm9ybVNhdmUpIHtcbiAgICAgICAgaXRlbUZvcm1TYXZlLmRpc2FibGVkID0gaXNTYXZpbmc7XG4gICAgICAgIGl0ZW1Gb3JtU2F2ZS50ZXh0Q29udGVudCA9IGlzU2F2aW5nID8gJ0VucmVnaXN0cmVtZW50XHUyMDI2JyA6ICdFbnJlZ2lzdHJlcic7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbURlbGV0ZUJ1dHRvbiAmJiAhaXNDcmVhdGluZ0l0ZW0gJiYgYWN0aXZlSXRlbUlkKSB7XG4gICAgICAgIGl0ZW1EZWxldGVCdXR0b24uZGlzYWJsZWQgPSBpc1NhdmluZztcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgZmV0Y2hDb2xsZWN0aW9uSXRlbXMgPSBhc3luYyAoY29sbGVjdGlvbklkKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25zQXBpQmFzZSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgICBgJHtjb2xsZWN0aW9uc0FwaUJhc2V9LyR7ZW5jb2RlVVJJQ29tcG9uZW50KGNvbGxlY3Rpb25JZCl9L2l0ZW1zYCxcbiAgICAgICAgeyBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSxcbiAgICAgICk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihwYXlsb2FkLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgY2hhcmdlciBsZXMgaXRlbXMuJyk7XG4gICAgICB9XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoZGF0YS5pdGVtcykgPyBkYXRhLml0ZW1zIDogW107XG4gICAgfTtcblxuICAgIGNvbnN0IHNldEFjdGl2ZUNvbGxlY3Rpb24gPSBhc3luYyAoY29sbGVjdGlvbklkKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25JZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhY3RpdmVDb2xsZWN0aW9uSWQgPSBjb2xsZWN0aW9uSWQ7XG4gICAgICBhY3RpdmVJdGVtSWQgPSBudWxsO1xuICAgICAgaXNDcmVhdGluZ0l0ZW0gPSBmYWxzZTtcbiAgICAgIGl0ZW1TbHVnTWFudWFsbHlFZGl0ZWQgPSBmYWxzZTtcbiAgICAgIHVwZGF0ZUNvbGxlY3Rpb25IZWFkZXIoKTtcbiAgICAgIHN5bmNBZGRCdXR0b25TdGF0ZSgpO1xuICAgICAgcmVuZGVyQ29sbGVjdGlvbkxpc3QoKTtcbiAgICAgIGhpZGVJdGVtRm9ybSgpO1xuICAgICAgY29sbGVjdGlvbkl0ZW1zID0gW107XG4gICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICAgIHVwZGF0ZUl0ZW1zRW1wdHlNZXNzYWdlKCdDaGFyZ2VtZW50IGRlcyBpdGVtc1x1MjAyNicpO1xuICAgICAgY29sbGVjdGlvbkl0ZW1zRW1wdHk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgaXRlbVRhYmxlV3JhcHBlcj8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25zQXBpQmFzZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb2xsZWN0aW9uSXRlbXMgPSBhd2FpdCBmZXRjaENvbGxlY3Rpb25JdGVtcyhjb2xsZWN0aW9uSWQpO1xuICAgICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICAgICAgaWYgKCFjb2xsZWN0aW9uSXRlbXMubGVuZ3RoKSB7XG4gICAgICAgICAgdXBkYXRlSXRlbXNFbXB0eU1lc3NhZ2UoKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tjb250ZW50XSBpdGVtcyBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgY2hhcmdlciBsZXMgaXRlbXMuJyk7XG4gICAgICAgIGNvbGxlY3Rpb25JdGVtcyA9IFtdO1xuICAgICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgY3JlYXRlQ29sbGVjdGlvbkl0ZW0gPSBhc3luYyAoY29sbGVjdGlvbklkLCBwYXlsb2FkKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25zQXBpQmFzZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NpdGUgaW5jb25udS4nKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgIGAke2NvbGxlY3Rpb25zQXBpQmFzZX0vJHtlbmNvZGVVUklDb21wb25lbnQoY29sbGVjdGlvbklkKX0vaXRlbXNgLFxuICAgICAgICB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgIH0sXG4gICAgICApO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZGF0YS5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIGNyXHUwMEU5ZXIgY2V0IGl0ZW0uJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgIH07XG5cbiAgICBjb25zdCB1cGRhdGVDb2xsZWN0aW9uSXRlbSA9IGFzeW5jIChjb2xsZWN0aW9uSWQsIGl0ZW1JZCwgcGF5bG9hZCkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uc0FwaUJhc2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTaXRlIGluY29ubnUuJyk7XG4gICAgICB9XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgICBgJHtjb2xsZWN0aW9uc0FwaUJhc2V9LyR7ZW5jb2RlVVJJQ29tcG9uZW50KGNvbGxlY3Rpb25JZCl9L2l0ZW1zLyR7ZW5jb2RlVVJJQ29tcG9uZW50KGl0ZW1JZCl9YCxcbiAgICAgICAge1xuICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgIH0sXG4gICAgICApO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZGF0YS5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIHNhdXZlZ2FyZGVyIGNldCBpdGVtLicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICB9O1xuXG4gICAgY29uc3QgZGVsZXRlQ29sbGVjdGlvbkl0ZW0gPSBhc3luYyAoY29sbGVjdGlvbklkLCBpdGVtSWQpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvbnNBcGlCYXNlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignU2l0ZSBpbmNvbm51LicpO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgYCR7Y29sbGVjdGlvbnNBcGlCYXNlfS8ke2VuY29kZVVSSUNvbXBvbmVudChjb2xsZWN0aW9uSWQpfS9pdGVtcy8ke2VuY29kZVVSSUNvbXBvbmVudChpdGVtSWQpfWAsXG4gICAgICAgIHsgbWV0aG9kOiAnREVMRVRFJyB9LFxuICAgICAgKTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGRhdGEubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBzdXBwcmltZXIgY2V0IGl0ZW0uJyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGxvYWRDb2xsZWN0aW9ucyA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvbnNBcGlCYXNlKSB7XG4gICAgICAgIGNvbGxlY3Rpb25FbXB0eVN0YXRlPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgYWN0aXZlQ29sbGVjdGlvbklkID0gbnVsbDtcbiAgICAgICAgY29sbGVjdGlvbkl0ZW1zID0gW107XG4gICAgICAgIHJlbmRlckl0ZW1UYWJsZSgpO1xuICAgICAgICB1cGRhdGVDb2xsZWN0aW9uSGVhZGVyKCk7XG4gICAgICAgIHN5bmNBZGRCdXR0b25TdGF0ZSgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGNvbGxlY3Rpb25zQXBpQmFzZSwge1xuICAgICAgICAgIGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ltcG9zc2libGUgZGUgY2hhcmdlciBsZXMgY29sbGVjdGlvbnMuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiBbXSk7XG4gICAgICAgIGNvbGxlY3Rpb25zID0gQXJyYXkuaXNBcnJheShwYXlsb2FkKSA/IHBheWxvYWQgOiBbXTtcbiAgICAgICAgcmVuZGVyQ29sbGVjdGlvbkxpc3QoKTtcbiAgICAgICAgaWYgKGNvbGxlY3Rpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBjb25zdCBkZWZhdWx0SWQgPSBjb2xsZWN0aW9ucy5maW5kKChlbnRyeSkgPT4gZW50cnkuaWQgPT09IGFjdGl2ZUNvbGxlY3Rpb25JZCk/LmlkXG4gICAgICAgICAgICB8fCBjb2xsZWN0aW9uc1swXS5pZDtcbiAgICAgICAgICBzZXRBY3RpdmVDb2xsZWN0aW9uKGRlZmF1bHRJZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYWN0aXZlQ29sbGVjdGlvbklkID0gbnVsbDtcbiAgICAgICAgICBjb2xsZWN0aW9uSXRlbXMgPSBbXTtcbiAgICAgICAgICB1cGRhdGVDb2xsZWN0aW9uSGVhZGVyKCk7XG4gICAgICAgICAgc3luY0FkZEJ1dHRvblN0YXRlKCk7XG4gICAgICAgICAgcmVuZGVySXRlbVRhYmxlKCk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbY29udGVudF0gbG9hZCBjb2xsZWN0aW9ucycsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxlcyBjb2xsZWN0aW9ucy4nKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaXRlbUFkZEJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBpZiAoIWFjdGl2ZUNvbGxlY3Rpb25JZCkge1xuICAgICAgICBzaG93VG9hc3QoJ1NcdTAwRTlsZWN0aW9ubmV6IGRcdTIwMTlhYm9yZCB1bmUgY29sbGVjdGlvbi4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcHJlcGFyZU5ld0l0ZW1Gb3JtKCk7XG4gICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICB9KTtcblxuICAgIGl0ZW1Gb3JtQ2FuY2VsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmIChpc0NyZWF0aW5nSXRlbSkge1xuICAgICAgICBpc0NyZWF0aW5nSXRlbSA9IGZhbHNlO1xuICAgICAgICBhY3RpdmVJdGVtSWQgPSBudWxsO1xuICAgICAgICBoaWRlSXRlbUZvcm0oKTtcbiAgICAgICAgcmVuZGVySXRlbVRhYmxlKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChhY3RpdmVJdGVtSWQpIHtcbiAgICAgICAgY29uc3QgaXRlbSA9IGNvbGxlY3Rpb25JdGVtcy5maW5kKChlbnRyeSkgPT4gZW50cnkuaWQgPT09IGFjdGl2ZUl0ZW1JZCk7XG4gICAgICAgIHBvcHVsYXRlSXRlbUZvcm0oaXRlbSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBoaWRlSXRlbUZvcm0oKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGl0ZW1Gb3JtRmllbGRzLnN0YXR1cz8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICAgICAgc3luY0l0ZW1TdGF0dXNCYWRnZShpdGVtRm9ybUZpZWxkcy5zdGF0dXMudmFsdWUpO1xuICAgIH0pO1xuXG4gICAgaXRlbUZvcm1GaWVsZHMudGl0bGU/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgaWYgKCFpc0NyZWF0aW5nSXRlbSB8fCAhaXRlbUZvcm1GaWVsZHMuc2x1ZyB8fCBpdGVtU2x1Z01hbnVhbGx5RWRpdGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGl0ZW1Gb3JtRmllbGRzLnNsdWcudmFsdWUgPSBub3JtYWxpemVJdGVtU2x1Z0lucHV0KGl0ZW1Gb3JtRmllbGRzLnRpdGxlLnZhbHVlKTtcbiAgICB9KTtcblxuICAgIGl0ZW1Gb3JtRmllbGRzLnNsdWc/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgaWYgKCFpc0NyZWF0aW5nSXRlbSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpdGVtU2x1Z01hbnVhbGx5RWRpdGVkID0gdHJ1ZTtcbiAgICB9KTtcblxuICAgIGl0ZW1Gb3JtPy5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoIWFjdGl2ZUNvbGxlY3Rpb25JZCkge1xuICAgICAgICBzaG93VG9hc3QoJ1NcdTAwRTlsZWN0aW9ubmV6IHVuZSBjb2xsZWN0aW9uLicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCB2YWx1ZXMgPSBjb2xsZWN0SXRlbUZvcm1WYWx1ZXMoKTtcbiAgICAgIGlmICghdmFsdWVzLnRpdGxlKSB7XG4gICAgICAgIHNob3dUb2FzdCgnTGUgdGl0cmUgZXN0IHJlcXVpcy4nKTtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMudGl0bGU/LmZvY3VzKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNldEZvcm1TYXZpbmdTdGF0ZSh0cnVlKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGxldCBzYXZlZEl0ZW07XG4gICAgICAgIGlmIChpc0NyZWF0aW5nSXRlbSB8fCAhYWN0aXZlSXRlbUlkKSB7XG4gICAgICAgICAgc2F2ZWRJdGVtID0gYXdhaXQgY3JlYXRlQ29sbGVjdGlvbkl0ZW0oYWN0aXZlQ29sbGVjdGlvbklkLCB2YWx1ZXMpO1xuICAgICAgICAgIGNvbGxlY3Rpb25JdGVtcyA9IFsuLi5jb2xsZWN0aW9uSXRlbXMsIHNhdmVkSXRlbV07XG4gICAgICAgICAgc2hvd1RvYXN0KCdJdGVtIGNyXHUwMEU5XHUwMEU5Jyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2F2ZWRJdGVtID0gYXdhaXQgdXBkYXRlQ29sbGVjdGlvbkl0ZW0oYWN0aXZlQ29sbGVjdGlvbklkLCBhY3RpdmVJdGVtSWQsIHZhbHVlcyk7XG4gICAgICAgICAgY29sbGVjdGlvbkl0ZW1zID0gY29sbGVjdGlvbkl0ZW1zLm1hcCgoaXRlbSkgPT5cbiAgICAgICAgICAgIGl0ZW0uaWQgPT09IHNhdmVkSXRlbS5pZCA/IHNhdmVkSXRlbSA6IGl0ZW0sXG4gICAgICAgICAgKTtcbiAgICAgICAgICBzaG93VG9hc3QoJ0l0ZW0gbWlzIFx1MDBFMCBqb3VyJyk7XG4gICAgICAgIH1cbiAgICAgICAgaXNDcmVhdGluZ0l0ZW0gPSBmYWxzZTtcbiAgICAgICAgYWN0aXZlSXRlbUlkID0gc2F2ZWRJdGVtLmlkO1xuICAgICAgICBwb3B1bGF0ZUl0ZW1Gb3JtKHNhdmVkSXRlbSk7XG4gICAgICAgIHJlbmRlckl0ZW1UYWJsZSgpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tjb250ZW50XSBzYXZlIGl0ZW0gZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIHNhdXZlZ2FyZGVyIGNldCBpdGVtLicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0Rm9ybVNhdmluZ1N0YXRlKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGNvbnN0IGNsb3NlRGVsZXRlTW9kYWwgPSAoKSA9PiB7XG4gICAgICBpZiAoIWl0ZW1EZWxldGVNb2RhbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpdGVtRGVsZXRlTW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBpdGVtRGVsZXRlTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnZmxleCcpO1xuICAgICAgcGVuZGluZ0RlbGV0ZUl0ZW1JZCA9IG51bGw7XG4gICAgfTtcblxuICAgIGNvbnN0IG9wZW5EZWxldGVNb2RhbCA9ICgpID0+IHtcbiAgICAgIGlmICghaXRlbURlbGV0ZU1vZGFsIHx8ICFhY3RpdmVJdGVtSWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcGVuZGluZ0RlbGV0ZUl0ZW1JZCA9IGFjdGl2ZUl0ZW1JZDtcbiAgICAgIGl0ZW1EZWxldGVNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGl0ZW1EZWxldGVNb2RhbC5jbGFzc0xpc3QuYWRkKCdmbGV4Jyk7XG4gICAgfTtcblxuICAgIGl0ZW1EZWxldGVCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKCFhY3RpdmVJdGVtSWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgb3BlbkRlbGV0ZU1vZGFsKCk7XG4gICAgfSk7XG5cbiAgICBpdGVtRGVsZXRlQ2FuY2VsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNsb3NlRGVsZXRlTW9kYWwoKTtcbiAgICB9KTtcblxuICAgIGl0ZW1EZWxldGVNb2RhbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIGlmIChldmVudC50YXJnZXQgPT09IGl0ZW1EZWxldGVNb2RhbCkge1xuICAgICAgICBjbG9zZURlbGV0ZU1vZGFsKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpdGVtRGVsZXRlQ29uZmlybT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXBlbmRpbmdEZWxldGVJdGVtSWQgfHwgIWFjdGl2ZUNvbGxlY3Rpb25JZCkge1xuICAgICAgICBjbG9zZURlbGV0ZU1vZGFsKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGl0ZW1EZWxldGVDb25maXJtLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIGl0ZW1EZWxldGVDb25maXJtLnRleHRDb250ZW50ID0gJ1N1cHByZXNzaW9uXHUyMDI2JztcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IGRlbGV0ZUNvbGxlY3Rpb25JdGVtKGFjdGl2ZUNvbGxlY3Rpb25JZCwgcGVuZGluZ0RlbGV0ZUl0ZW1JZCk7XG4gICAgICAgIGNvbGxlY3Rpb25JdGVtcyA9IGNvbGxlY3Rpb25JdGVtcy5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0uaWQgIT09IHBlbmRpbmdEZWxldGVJdGVtSWQpO1xuICAgICAgICBpZiAoYWN0aXZlSXRlbUlkID09PSBwZW5kaW5nRGVsZXRlSXRlbUlkKSB7XG4gICAgICAgICAgYWN0aXZlSXRlbUlkID0gbnVsbDtcbiAgICAgICAgICBoaWRlSXRlbUZvcm0oKTtcbiAgICAgICAgfVxuICAgICAgICBzaG93VG9hc3QoJ0l0ZW0gc3VwcHJpbVx1MDBFOScpO1xuICAgICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbY29udGVudF0gZGVsZXRlIGl0ZW0gZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIHN1cHByaW1lciBjZXQgaXRlbS4nKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGl0ZW1EZWxldGVDb25maXJtLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIGl0ZW1EZWxldGVDb25maXJtLnRleHRDb250ZW50ID0gJ1N1cHByaW1lcic7XG4gICAgICAgIGNsb3NlRGVsZXRlTW9kYWwoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHVwZGF0ZUNvbGxlY3Rpb25IZWFkZXIoKTtcbiAgICBzeW5jQWRkQnV0dG9uU3RhdGUoKTtcbiAgICBsb2FkQ29sbGVjdGlvbnMoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXREZXBsb3lXb3Jrc3BhY2UoKSB7XG4gICAgY29uc3QgZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1mb3JtXScpO1xuICAgIGlmICghZm9ybSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBwcm90b2NvbFNlbGVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1wcm90b2NvbF0nKTtcbiAgICBjb25zdCBob3N0SW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktaG9zdF0nKTtcbiAgICBjb25zdCBwb3J0SW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktcG9ydF0nKTtcbiAgICBjb25zdCB1c2VySW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktdXNlcl0nKTtcbiAgICBjb25zdCBwYXNzd29yZElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LXBhc3N3b3JkXScpO1xuICAgIGNvbnN0IHNob3dQYXNzd29yZFRvZ2dsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1zaG93LXBhc3N3b3JkXScpO1xuICAgIGNvbnN0IHJlbW90ZVBhdGhJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1yZW1vdGUtcGF0aF0nKTtcbiAgICBjb25zdCBmZWVkYmFjayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1mZWVkYmFja10nKTtcbiAgICBjb25zdCBzYXZlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LXNhdmVdJyk7XG4gICAgY29uc3QgdGVzdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS10ZXN0XScpO1xuXG4gICAgY29uc3Qgc2FmZVNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goXG4gICAgICB3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnLFxuICAgICk7XG4gICAgY29uc3QgZGVwbG95QXBpQmFzZSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9kZXBsb3ktY29uZmlnYFxuICAgICAgOiBudWxsO1xuXG4gICAgbGV0IGhhc1Bhc3N3b3JkID0gZmFsc2U7XG4gICAgbGV0IGJ1c3lBY3Rpb24gPSBudWxsO1xuXG4gICAgY29uc3Qgc2FuaXRpemVSZW1vdGVQYXRoID0gKHZhbHVlKSA9PiB7XG4gICAgICBjb25zdCB0cmltbWVkID0gKHZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICBpZiAoIXRyaW1tZWQpIHtcbiAgICAgICAgcmV0dXJuICcvd3d3JztcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cmltbWVkLnN0YXJ0c1dpdGgoJy8nKSA/IHRyaW1tZWQgOiBgLyR7dHJpbW1lZH1gO1xuICAgIH07XG5cbiAgICBjb25zdCBzZXRGZWVkYmFjayA9IChtZXNzYWdlLCB0b25lID0gJ211dGVkJykgPT4ge1xuICAgICAgaWYgKCFmZWVkYmFjaykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBiYXNlQ2xhc3MgPSAnaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHJvdW5kZWQtZnVsbCBweC0zIHB5LTEgdGV4dC14cyBmb250LXNlbWlib2xkJztcbiAgICAgIGNvbnN0IHRvbmVDbGFzcyA9XG4gICAgICAgIHRvbmUgPT09ICdzdWNjZXNzJ1xuICAgICAgICAgID8gJ2JnLWVtZXJhbGQtNTAgdGV4dC1lbWVyYWxkLTcwMCBib3JkZXIgYm9yZGVyLWVtZXJhbGQtMTAwJ1xuICAgICAgICAgIDogdG9uZSA9PT0gJ2Vycm9yJ1xuICAgICAgICAgICAgPyAnYmctcm9zZS01MCB0ZXh0LXJvc2UtNzAwIGJvcmRlciBib3JkZXItcm9zZS0xMDAnXG4gICAgICAgICAgICA6ICdiZy1zbGF0ZS01MCB0ZXh0LXNsYXRlLTYwMCBib3JkZXIgYm9yZGVyLXNsYXRlLTEwMCc7XG4gICAgICBpZiAoIW1lc3NhZ2UpIHtcbiAgICAgICAgZmVlZGJhY2sudGV4dENvbnRlbnQgPSAnJztcbiAgICAgICAgZmVlZGJhY2suY2xhc3NOYW1lID0gJ3RleHQtc20gdGV4dC1zbGF0ZS01MDAnO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBpY29uID0gdG9uZSA9PT0gJ3N1Y2Nlc3MnID8gJ1x1MjcwNScgOiB0b25lID09PSAnZXJyb3InID8gJ1x1Mjc0QycgOiAnXHUyMTM5XHVGRTBGJztcbiAgICAgIGZlZWRiYWNrLmlubmVySFRNTCA9IGA8c3BhbiBjbGFzcz1cIiR7YmFzZUNsYXNzfSAke3RvbmVDbGFzc31cIj4ke2ljb259PHNwYW4+JHttZXNzYWdlfTwvc3Bhbj48L3NwYW4+YDtcbiAgICAgIGZlZWRiYWNrLmNsYXNzTmFtZSA9ICd0ZXh0LXNtJztcbiAgICB9O1xuXG4gICAgY29uc3Qgc2V0QnVzeSA9IChhY3Rpb24gPSBudWxsKSA9PiB7XG4gICAgICBidXN5QWN0aW9uID0gYWN0aW9uO1xuICAgICAgY29uc3QgZGlzYWJsZSA9IEJvb2xlYW4oYWN0aW9uKTtcbiAgICAgIGNvbnN0IHNwaW5uZXIgPVxuICAgICAgICAnPHN2ZyBjbGFzcz1cImgtNCB3LTQgYW5pbWF0ZS1zcGluIHRleHQtd2hpdGVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48Y2lyY2xlIGNsYXNzPVwib3BhY2l0eS0yNVwiIGN4PVwiMTJcIiBjeT1cIjEyXCIgcj1cIjEwXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiNFwiPjwvY2lyY2xlPjxwYXRoIGNsYXNzPVwib3BhY2l0eS03NVwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIiBkPVwiTTQgMTJhOCA4IDAgMDE4LTh2NGE0IDQgMCAwMC00IDRINHpcIj48L3BhdGg+PC9zdmc+JztcbiAgICAgIGlmIChzYXZlQnV0dG9uKSB7XG4gICAgICAgIHNhdmVCdXR0b24uZGlzYWJsZWQgPSBkaXNhYmxlO1xuICAgICAgICBzYXZlQnV0dG9uLmlubmVySFRNTCA9XG4gICAgICAgICAgYWN0aW9uID09PSAnc2F2ZSdcbiAgICAgICAgICAgID8gYDxzcGFuIGNsYXNzPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+JHtzcGlubmVyfTxzcGFuPkVucmVnaXN0cmVtZW50XHUyMDI2PC9zcGFuPjwvc3Bhbj5gXG4gICAgICAgICAgICA6ICdFbnJlZ2lzdHJlcic7XG4gICAgICB9XG4gICAgICBpZiAodGVzdEJ1dHRvbikge1xuICAgICAgICB0ZXN0QnV0dG9uLmRpc2FibGVkID0gZGlzYWJsZTtcbiAgICAgICAgdGVzdEJ1dHRvbi5pbm5lckhUTUwgPVxuICAgICAgICAgIGFjdGlvbiA9PT0gJ3Rlc3QnXG4gICAgICAgICAgICA/IGA8c3BhbiBjbGFzcz1cImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPjxzcGFuIGNsYXNzPVwiaC00IHctNCBhbmltYXRlLXNwaW4gcm91bmRlZC1mdWxsIGJvcmRlci0yIGJvcmRlci1zbGF0ZS0yMDAgYm9yZGVyLXQtc2xhdGUtNjAwXCI+PC9zcGFuPjxzcGFuPlRlc3QgZW4gY291cnNcdTIwMjY8L3NwYW4+PC9zcGFuPmBcbiAgICAgICAgICAgIDogJ1Rlc3RlciBsYSBjb25uZXhpb24nO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBwb3B1bGF0ZUZvcm0gPSAoY29uZmlnKSA9PiB7XG4gICAgICBwcm90b2NvbFNlbGVjdCAmJiAocHJvdG9jb2xTZWxlY3QudmFsdWUgPSBjb25maWcucHJvdG9jb2wgfHwgJ3NmdHAnKTtcbiAgICAgIGhvc3RJbnB1dCAmJiAoaG9zdElucHV0LnZhbHVlID0gY29uZmlnLmhvc3QgfHwgJycpO1xuICAgICAgcG9ydElucHV0ICYmIChwb3J0SW5wdXQudmFsdWUgPSBjb25maWcucG9ydCB8fCAnJyk7XG4gICAgICB1c2VySW5wdXQgJiYgKHVzZXJJbnB1dC52YWx1ZSA9IGNvbmZpZy51c2VyIHx8ICcnKTtcbiAgICAgIHJlbW90ZVBhdGhJbnB1dCAmJiAocmVtb3RlUGF0aElucHV0LnZhbHVlID0gY29uZmlnLnJlbW90ZVBhdGggfHwgJy93d3cnKTtcbiAgICAgIGhhc1Bhc3N3b3JkID0gQm9vbGVhbihjb25maWcuaGFzUGFzc3dvcmQpO1xuICAgICAgaWYgKHBhc3N3b3JkSW5wdXQpIHtcbiAgICAgICAgcGFzc3dvcmRJbnB1dC52YWx1ZSA9ICcnO1xuICAgICAgICBwYXNzd29yZElucHV0LnBsYWNlaG9sZGVyID0gaGFzUGFzc3dvcmQgPyAnTm9uIGFmZmljaFx1MDBFOScgOiAnTW90IGRlIHBhc3NlJztcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgZmV0Y2hDb25maWcgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWRlcGxveUFwaUJhc2UpIHtcbiAgICAgICAgc2V0RmVlZGJhY2soJ0F1Y3VuIHNpdGUgYWN0aWYgc1x1MDBFOWxlY3Rpb25uXHUwMEU5LicsICdlcnJvcicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZXRCdXN5KCdsb2FkJyk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGRlcGxveUFwaUJhc2UsIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xuICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBwb3B1bGF0ZUZvcm0ocGF5bG9hZCB8fCB7fSk7XG4gICAgICAgICAgc2V0RmVlZGJhY2soJ0NvbmZpZ3VyYXRpb24gY2hhcmdcdTAwRTllLicsICdtdXRlZCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBvcHVsYXRlRm9ybShwYXlsb2FkIHx8IHt9KTtcbiAgICAgICAgICBzZXRGZWVkYmFjayhwYXlsb2FkLm1lc3NhZ2UgfHwgJ0NvbmZpZ3VyYXRpb24gcGFyIGRcdTAwRTlmYXV0IGNoYXJnXHUwMEU5ZS4nLCAnbXV0ZWQnKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkZXBsb3ldIGxvYWQgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2V0RmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGR1IGNoYXJnZW1lbnQuJywgJ2Vycm9yJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZXRCdXN5KG51bGwpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBidWlsZFBheWxvYWQgPSAoKSA9PiB7XG4gICAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICBwcm90b2NvbDogcHJvdG9jb2xTZWxlY3Q/LnZhbHVlIHx8ICdzZnRwJyxcbiAgICAgICAgaG9zdDogaG9zdElucHV0Py52YWx1ZS50cmltKCkgfHwgJycsXG4gICAgICAgIHBvcnQ6IE51bWJlcihwb3J0SW5wdXQ/LnZhbHVlKSB8fCB1bmRlZmluZWQsXG4gICAgICAgIHVzZXI6IHVzZXJJbnB1dD8udmFsdWUudHJpbSgpIHx8ICcnLFxuICAgICAgICByZW1vdGVQYXRoOiBzYW5pdGl6ZVJlbW90ZVBhdGgocmVtb3RlUGF0aElucHV0Py52YWx1ZSB8fCAnL3d3dycpLFxuICAgICAgfTtcbiAgICAgIGNvbnN0IHB3ZCA9IHBhc3N3b3JkSW5wdXQ/LnZhbHVlIHx8ICcnO1xuICAgICAgaWYgKHB3ZC50cmltKCkubGVuZ3RoID4gMCkge1xuICAgICAgICBwYXlsb2FkLnBhc3N3b3JkID0gcHdkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfTtcblxuICAgIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKCFkZXBsb3lBcGlCYXNlKSB7XG4gICAgICAgIHNldEZlZWRiYWNrKCdBdWN1biBzaXRlIGFjdGlmIHNcdTAwRTlsZWN0aW9ublx1MDBFOS4nLCAnZXJyb3InKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgcGF5bG9hZCA9IGJ1aWxkUGF5bG9hZCgpO1xuICAgICAgaWYgKCFwYXlsb2FkLmhvc3QgfHwgIXBheWxvYWQudXNlciB8fCAhcGF5bG9hZC5yZW1vdGVQYXRoKSB7XG4gICAgICAgIHNldEZlZWRiYWNrKCdSZW1wbGlzc2V6IGxlcyBjaGFtcHMgcmVxdWlzLicsICdlcnJvcicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZXRCdXN5KCdzYXZlJyk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGRlcGxveUFwaUJhc2UsIHtcbiAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnN0IGVycm9yUGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JQYXlsb2FkLm1lc3NhZ2UgfHwgJ1NhdXZlZ2FyZGUgaW1wb3NzaWJsZS4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzYXZlZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgcG9wdWxhdGVGb3JtKHNhdmVkIHx8IHt9KTtcbiAgICAgICAgc2V0RmVlZGJhY2soJ0NvbmZpZ3VyYXRpb24gZW5yZWdpc3RyXHUwMEU5ZS4nLCAnc3VjY2VzcycpO1xuICAgICAgICBzaG93VG9hc3QoJ0NvbmZpZ3VyYXRpb24gZFx1MDBFOXBsb2llbWVudCBzYXV2ZWdhcmRcdTAwRTllJyk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2RlcGxveV0gc2F2ZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzZXRGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZGUgbGEgc2F1dmVnYXJkZS4nLCAnZXJyb3InKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldEJ1c3kobnVsbCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0ZXN0QnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghZGVwbG95QXBpQmFzZSkge1xuICAgICAgICBzZXRGZWVkYmFjaygnQXVjdW4gc2l0ZSBhY3RpZiBzXHUwMEU5bGVjdGlvbm5cdTAwRTkuJywgJ2Vycm9yJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHBheWxvYWQgPSBidWlsZFBheWxvYWQoKTtcbiAgICAgIGlmICghcGF5bG9hZC5ob3N0IHx8ICFwYXlsb2FkLnVzZXIgfHwgIXBheWxvYWQucmVtb3RlUGF0aCkge1xuICAgICAgICBzZXRGZWVkYmFjaygnUmVtcGxpc3NleiBsZXMgY2hhbXBzIHJlcXVpcyBhdmFudCBkZSB0ZXN0ZXIuJywgJ2Vycm9yJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNldEJ1c3koJ3Rlc3QnKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7ZGVwbG95QXBpQmFzZX0vdGVzdGAsIHtcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vayB8fCByZXN1bHQuc3VjY2VzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBzZXRGZWVkYmFjayhyZXN1bHQubWVzc2FnZSB8fCAnVGVzdCBkZSBjb25uZXhpb24gXHUwMEU5Y2hvdVx1MDBFOS4nLCAnZXJyb3InKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc2V0RmVlZGJhY2socmVzdWx0Lm1lc3NhZ2UgfHwgJ0Nvbm5leGlvbiBPSy4nLCAnc3VjY2VzcycpO1xuICAgICAgICBzaG93VG9hc3QoJ1Rlc3QgZGUgY29ubmV4aW9uIHJcdTAwRTl1c3NpJyk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2RlcGxveV0gdGVzdCBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzZXRGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnVGVzdCBkZSBjb25uZXhpb24gXHUwMEU5Y2hvdVx1MDBFOS4nLCAnZXJyb3InKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldEJ1c3kobnVsbCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBzaG93UGFzc3dvcmRUb2dnbGU/LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgICAgIGlmICghcGFzc3dvcmRJbnB1dCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwYXNzd29yZElucHV0LnR5cGUgPSBzaG93UGFzc3dvcmRUb2dnbGUuY2hlY2tlZCA/ICd0ZXh0JyA6ICdwYXNzd29yZCc7XG4gICAgfSk7XG5cbiAgICBmZXRjaENvbmZpZygpO1xuICB9XG5cbiAgZnVuY3Rpb24gaW5pdE1lZGlhV29ya3NwYWNlKCkge1xuICAgIGNvbnN0IGdyaWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1ncmlkXScpO1xuICAgIGlmICghZ3JpZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBlbXB0eVN0YXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZW1wdHldJyk7XG4gICAgY29uc3QgY291bnRCYWRnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWNvdW50XScpO1xuICAgIGNvbnN0IGZpbHRlclR5cGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1maWx0ZXItdHlwZV0nKTtcbiAgICBjb25zdCBkZXRhaWxFbXB0eSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRldGFpbC1lbXB0eV0nKTtcbiAgICBjb25zdCBkZXRhaWxQYW5lbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRldGFpbF0nKTtcbiAgICBjb25zdCBkZXRhaWxQcmV2aWV3ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGV0YWlsLXByZXZpZXddJyk7XG4gICAgY29uc3QgZGV0YWlsTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRldGFpbC1uYW1lXScpO1xuICAgIGNvbnN0IGRldGFpbFR5cGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZXRhaWwtdHlwZV0nKTtcbiAgICBjb25zdCBkZXRhaWxTaXplID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGV0YWlsLXNpemVdJyk7XG4gICAgY29uc3QgZGV0YWlsUGF0aCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRldGFpbC1wYXRoXScpO1xuICAgIGNvbnN0IGRldGFpbFVzZWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZXRhaWwtdXNlZF0nKTtcbiAgICBjb25zdCBkZXRhaWxBbHRJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWFsdC1lZGl0XScpO1xuICAgIGNvbnN0IGRldGFpbFNhdmVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1zYXZlXScpO1xuICAgIGNvbnN0IGRldGFpbERlbGV0ZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRlbGV0ZV0nKTtcbiAgICBjb25zdCBkZWxldGVNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRlbGV0ZS1tb2RhbF0nKTtcbiAgICBjb25zdCBkZWxldGVDYW5jZWxCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZWxldGUtY2FuY2VsXScpO1xuICAgIGNvbnN0IGRlbGV0ZUNvbmZpcm1CdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZWxldGUtY29uZmlybV0nKTtcbiAgICBjb25zdCB1cGxvYWRPcGVuQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtdXBsb2FkLW9wZW5dJyk7XG4gICAgY29uc3QgZmlsZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZmlsZS1pbnB1dF0nKTtcbiAgICBjb25zdCB1cGxvYWRTdGF0dXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS11cGxvYWQtc3RhdHVzXScpO1xuXG4gICAgY29uc3Qgc2FmZVNpdGVTbHVnVmFsdWUgPSBzdHJpcExlYWRpbmdTbGFzaChcbiAgICAgIHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJycsXG4gICAgKTtcbiAgICBjb25zdCBtZWRpYUFwaUJhc2UgPSBzYWZlU2l0ZVNsdWdWYWx1ZVxuICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWdWYWx1ZSl9L21lZGlhYFxuICAgICAgOiBudWxsO1xuXG4gICAgbGV0IG1lZGlhSXRlbXMgPSBbXTtcbiAgICBsZXQgZmlsdGVyZWRJdGVtcyA9IFtdO1xuICAgIGxldCBhY3RpdmVNZWRpYUlkID0gbnVsbDtcbiAgICBsZXQgaGlnaGxpZ2h0TWVkaWFJZCA9IG51bGw7XG4gICAgbGV0IHBlbmRpbmdVcGxvYWRGaWxlID0gbnVsbDtcbiAgICBsZXQgdXBsb2FkSW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgIGxldCBkZXRhaWxEaXJ0eSA9IGZhbHNlO1xuICAgIGxldCB1cGxvYWRNb2RlID0gZmFsc2U7XG4gICAgbGV0IHVwbG9hZFByZXZpZXdVcmwgPSBudWxsO1xuXG4gICAgY29uc3QgZGVyaXZlR3JvdXBUeXBlID0gKGl0ZW0pID0+IHtcbiAgICAgIGNvbnN0IHR5cGUgPSAoaXRlbS50eXBlIHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgY29uc3QgZmlsZW5hbWUgPSAoaXRlbS5maWxlbmFtZSB8fCAnJykudG9Mb3dlckNhc2UoKTtcbiAgICAgIGlmICh0eXBlLmluY2x1ZGVzKCdpbWFnZScpIHx8IC9cXC4ocG5nfGpwZT9nfHdlYnB8c3ZnfGdpZikkL2kudGVzdChmaWxlbmFtZSkpIHtcbiAgICAgICAgcmV0dXJuICdpbWFnZSc7XG4gICAgICB9XG4gICAgICBpZiAodHlwZS5pbmNsdWRlcygncGRmJykgfHwgdHlwZS5pbmNsdWRlcygnZG9jJykgfHwgL1xcLihwZGZ8ZG9jeD8pJC9pLnRlc3QoZmlsZW5hbWUpKSB7XG4gICAgICAgIHJldHVybiAnZG9jdW1lbnQnO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGUuaW5jbHVkZXMoJ3ZpZGVvJykgfHwgL1xcLihtcDR8bW92fHdlYm0pJC9pLnRlc3QoZmlsZW5hbWUpKSB7XG4gICAgICAgIHJldHVybiAndmlkZW8nO1xuICAgICAgfVxuICAgICAgcmV0dXJuICdvdGhlcic7XG4gICAgfTtcblxuICAgIGNvbnN0IGlzSW1hZ2VUeXBlID0gKGl0ZW0pID0+IGRlcml2ZUdyb3VwVHlwZShpdGVtKSA9PT0gJ2ltYWdlJztcblxuICAgIGNvbnN0IGZvcm1hdFR5cGVMYWJlbCA9IChpdGVtKSA9PiB7XG4gICAgICBpZiAoaXRlbS50eXBlKSB7XG4gICAgICAgIHJldHVybiBpdGVtLnR5cGUudG9VcHBlckNhc2UoKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGV4dCA9IChpdGVtLmZpbGVuYW1lIHx8ICcnKS5zcGxpdCgnLicpLnBvcCgpO1xuICAgICAgcmV0dXJuIGV4dCA/IGV4dC50b1VwcGVyQ2FzZSgpIDogJ0ZJTEUnO1xuICAgIH07XG5cbiAgICBjb25zdCBmb3JtYXRGaWxlU2l6ZSA9IChzaXplKSA9PiB7XG4gICAgICBpZiAoIXNpemUgfHwgc2l6ZSA8PSAwKSB7XG4gICAgICAgIHJldHVybiAnXHUyMDE0JztcbiAgICAgIH1cbiAgICAgIGlmIChzaXplIDwgMTAyNCkge1xuICAgICAgICByZXR1cm4gYCR7c2l6ZX0gb2A7XG4gICAgICB9XG4gICAgICBpZiAoc2l6ZSA8IDEwMjQgKiAxMDI0KSB7XG4gICAgICAgIHJldHVybiBgJHsoc2l6ZSAvIDEwMjQpLnRvRml4ZWQoMSl9IGtvYDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBgJHsoc2l6ZSAvICgxMDI0ICogMTAyNCkpLnRvRml4ZWQoMSl9IE1vYDtcbiAgICB9O1xuXG4gICAgY29uc3QgcmVzZXREZXRhaWxQYW5lbCA9ICgpID0+IHtcbiAgICAgIGRldGFpbFBhbmVsPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGRldGFpbEVtcHR5Py5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGNsZWFyVXBsb2FkU3RhdGUoKTtcbiAgICAgIGFjdGl2ZU1lZGlhSWQgPSBudWxsO1xuICAgICAgZGV0YWlsRGlydHkgPSBmYWxzZTtcbiAgICAgIHVwZGF0ZURldGFpbEFjdGlvbnMoZmFsc2UpO1xuICAgICAgaWYgKGRldGFpbFByZXZpZXcpIHtcbiAgICAgICAgZGV0YWlsUHJldmlldy5pbm5lckhUTUwgPVxuICAgICAgICAgICc8c3BhbiBjbGFzcz1cInRleHQtc2xhdGUtNDAwIHRleHQtc21cIj5BdWN1biBtXHUwMEU5ZGlhIHNcdTAwRTlsZWN0aW9ublx1MDBFOTwvc3Bhbj4nO1xuICAgICAgfVxuICAgICAgaWYgKGRldGFpbE5hbWUpIHtcbiAgICAgICAgZGV0YWlsTmFtZS50ZXh0Q29udGVudCA9ICcnO1xuICAgICAgfVxuICAgICAgZGV0YWlsVHlwZSAmJiAoZGV0YWlsVHlwZS50ZXh0Q29udGVudCA9ICcnKTtcbiAgICAgIGRldGFpbFNpemUgJiYgKGRldGFpbFNpemUudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgICBpZiAoZGV0YWlsQWx0SW5wdXQpIHtcbiAgICAgICAgZGV0YWlsQWx0SW5wdXQudmFsdWUgPSAnJztcbiAgICAgIH1cbiAgICAgIGRldGFpbFBhdGggJiYgKGRldGFpbFBhdGgudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgICBpZiAoZGV0YWlsVXNlZCkge1xuICAgICAgICBkZXRhaWxVc2VkLmlubmVySFRNTCA9ICcnO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBjbGVhclVwbG9hZFN0YXRlID0gKCkgPT4ge1xuICAgICAgcGVuZGluZ1VwbG9hZEZpbGUgPSBudWxsO1xuICAgICAgdXBsb2FkTW9kZSA9IGZhbHNlO1xuICAgICAgdXBsb2FkSW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgICAgaWYgKHVwbG9hZFByZXZpZXdVcmwpIHtcbiAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTCh1cGxvYWRQcmV2aWV3VXJsKTtcbiAgICAgICAgdXBsb2FkUHJldmlld1VybCA9IG51bGw7XG4gICAgICB9XG4gICAgICB1cGxvYWRTdGF0dXMgJiYgKHVwbG9hZFN0YXR1cy50ZXh0Q29udGVudCA9ICdBdWN1biBmaWNoaWVyIHNcdTAwRTlsZWN0aW9ublx1MDBFOS4nKTtcbiAgICAgIGZpbGVJbnB1dCAmJiAoZmlsZUlucHV0LnZhbHVlID0gJycpO1xuICAgIH07XG5cbiAgICBjb25zdCB1cGRhdGVDb3VudEJhZGdlID0gKCkgPT4ge1xuICAgICAgaWYgKCFjb3VudEJhZGdlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghZmlsdGVyZWRJdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgY291bnRCYWRnZS50ZXh0Q29udGVudCA9ICcwIG1cdTAwRTlkaWEnO1xuICAgICAgfSBlbHNlIGlmIChmaWx0ZXJlZEl0ZW1zLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICBjb3VudEJhZGdlLnRleHRDb250ZW50ID0gJzEgbVx1MDBFOWRpYSc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb3VudEJhZGdlLnRleHRDb250ZW50ID0gYCR7ZmlsdGVyZWRJdGVtcy5sZW5ndGh9IG1cdTAwRTlkaWFzYDtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgcmVuZGVyR3JpZCA9ICgpID0+IHtcbiAgICAgIGdyaWQuaW5uZXJIVE1MID0gJyc7XG4gICAgICBpZiAoIWZpbHRlcmVkSXRlbXMubGVuZ3RoKSB7XG4gICAgICAgIGVtcHR5U3RhdGU/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICByZXNldERldGFpbFBhbmVsKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGVtcHR5U3RhdGU/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgZmlsdGVyZWRJdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgIGNvbnN0IGNhcmQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgY2FyZC50eXBlID0gJ2J1dHRvbic7XG4gICAgICAgIGNhcmQuZGF0YXNldC5tZWRpYUlkID0gaXRlbS5pZDtcbiAgICAgICAgY29uc3QgaXNBY3RpdmUgPSBpdGVtLmlkID09PSBhY3RpdmVNZWRpYUlkO1xuICAgICAgICBjYXJkLmNsYXNzTmFtZSA9IFtcbiAgICAgICAgICAnZ3JvdXAgcmVsYXRpdmUgZmxleCBmbGV4LWNvbCByb3VuZGVkLTJ4bCBib3JkZXIgcHgtMyBweS0zIHRleHQtbGVmdCB0cmFuc2l0aW9uIGZvY3VzLXZpc2libGU6b3V0bGluZSBmb2N1cy12aXNpYmxlOm91dGxpbmUtMiBmb2N1cy12aXNpYmxlOm91dGxpbmUtb2Zmc2V0LTIgZm9jdXMtdmlzaWJsZTpvdXRsaW5lLVsjOUM2QkZGXScsXG4gICAgICAgICAgaXNBY3RpdmVcbiAgICAgICAgICAgID8gJ2JvcmRlci1bIzlDNkJGRl0gYmctWyNGN0YwRkZdLzYwIHNoYWRvdy1zbSdcbiAgICAgICAgICAgIDogJ2JvcmRlci1zbGF0ZS0yMDAgaG92ZXI6Ym9yZGVyLVsjOUM2QkZGXS80MCcsXG4gICAgICAgIF0uam9pbignICcpO1xuICAgICAgICBjb25zdCBwcmV2aWV3ID0gaXNJbWFnZVR5cGUoaXRlbSlcbiAgICAgICAgICA/IGA8aW1nIHNyYz1cIiR7aXRlbS5wYXRofVwiIGFsdD1cIiR7aXRlbS5hbHQgfHwgaXRlbS5maWxlbmFtZX1cIiBjbGFzcz1cImgtZnVsbCB3LWZ1bGwgb2JqZWN0LWNvdmVyXCIgLz5gXG4gICAgICAgICAgOiBgPGRpdiBjbGFzcz1cImZsZXggaC1mdWxsIHctZnVsbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdGV4dC0zeGwgdGV4dC1zbGF0ZS00MDBcIj5cdUQ4M0RcdURDQzQ8L2Rpdj5gO1xuICAgICAgICBjYXJkLmlubmVySFRNTCA9IGBcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwicmVsYXRpdmUgYXNwZWN0LVs0LzNdIG92ZXJmbG93LWhpZGRlbiByb3VuZGVkLXhsIGJnLXNsYXRlLTEwMFwiPlxuICAgICAgICAgICAgJHtwcmV2aWV3fVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJtdC0yIHNwYWNlLXktMVwiPlxuICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgdGV4dC1zbGF0ZS05MDAgdHJ1bmNhdGVcIj4ke2l0ZW0uZmlsZW5hbWV9PC9wPlxuICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNTAwXCI+XG4gICAgICAgICAgICAgICR7Zm9ybWF0VHlwZUxhYmVsKGl0ZW0pfSBcdTAwQjcgJHtmb3JtYXRGaWxlU2l6ZShpdGVtLnNpemUpfVxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICBgO1xuICAgICAgICBpZiAoaXRlbS5pZCA9PT0gaGlnaGxpZ2h0TWVkaWFJZCkge1xuICAgICAgICAgIGNhcmQuY2xhc3NMaXN0LmFkZCgncmluZy0yJywgJ3JpbmctWyM5QzZCRkZdJyk7XG4gICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgY2FyZC5jbGFzc0xpc3QucmVtb3ZlKCdyaW5nLTInLCAncmluZy1bIzlDNkJGRl0nKTtcbiAgICAgICAgICB9LCAxNjAwKTtcbiAgICAgICAgfVxuICAgICAgICBjYXJkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gc2VsZWN0TWVkaWEoaXRlbS5pZCkpO1xuICAgICAgICBncmlkLmFwcGVuZENoaWxkKGNhcmQpO1xuICAgICAgfSk7XG4gICAgICBoaWdobGlnaHRNZWRpYUlkID0gbnVsbDtcbiAgICB9O1xuXG4gICAgY29uc3QgcmVuZGVyVXNlZEluID0gKGl0ZW0pID0+IHtcbiAgICAgIGlmICghZGV0YWlsVXNlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBkZXRhaWxVc2VkLmlubmVySFRNTCA9ICcnO1xuICAgICAgaWYgKCFpdGVtLnVzZWRJbiB8fCBpdGVtLnVzZWRJbi5sZW5ndGggPT09IDApIHtcbiAgICAgICAgY29uc3QgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgICBsaS50ZXh0Q29udGVudCA9ICdOb24gdXRpbGlzXHUwMEU5JztcbiAgICAgICAgbGkuY2xhc3NOYW1lID0gJ3RleHQteHMgdGV4dC1zbGF0ZS00MDAnO1xuICAgICAgICBkZXRhaWxVc2VkLmFwcGVuZENoaWxkKGxpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaXRlbS51c2VkSW4uZm9yRWFjaCgoZW50cnkpID0+IHtcbiAgICAgICAgY29uc3QgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgICBsaS50ZXh0Q29udGVudCA9IGVudHJ5O1xuICAgICAgICBsaS5jbGFzc05hbWUgPSAndGV4dC14cyB0ZXh0LXNsYXRlLTYwMCc7XG4gICAgICAgIGRldGFpbFVzZWQuYXBwZW5kQ2hpbGQobGkpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IHVwZGF0ZURldGFpbEFjdGlvbnMgPSAoc2F2aW5nKSA9PiB7XG4gICAgICBpZiAoIWRldGFpbFNhdmVCdXR0b24pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHVwbG9hZE1vZGUpIHtcbiAgICAgICAgZGV0YWlsU2F2ZUJ1dHRvbi50ZXh0Q29udGVudCA9IHNhdmluZyA/ICdUXHUwMEU5bFx1MDBFOXZlcnNlbWVudFx1MjAyNicgOiAnVFx1MDBFOWxcdTAwRTl2ZXJzZXInO1xuICAgICAgICBkZXRhaWxTYXZlQnV0dG9uLmRpc2FibGVkID0gc2F2aW5nIHx8ICFwZW5kaW5nVXBsb2FkRmlsZTtcbiAgICAgICAgaWYgKGRldGFpbERlbGV0ZUJ1dHRvbikge1xuICAgICAgICAgIGRldGFpbERlbGV0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBkZXRhaWxTYXZlQnV0dG9uLnRleHRDb250ZW50ID0gc2F2aW5nID8gJ0VucmVnaXN0cmVtZW50XHUyMDI2JyA6ICdFbnJlZ2lzdHJlcic7XG4gICAgICBkZXRhaWxTYXZlQnV0dG9uLmRpc2FibGVkID0gc2F2aW5nIHx8ICFkZXRhaWxEaXJ0eTtcbiAgICAgIGlmIChkZXRhaWxEZWxldGVCdXR0b24pIHtcbiAgICAgICAgZGV0YWlsRGVsZXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICBkZXRhaWxEZWxldGVCdXR0b24uZGlzYWJsZWQgPSAhYWN0aXZlTWVkaWFJZDtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3Qgc2VsZWN0TWVkaWEgPSAobWVkaWFJZCkgPT4ge1xuICAgICAgY29uc3QgaXRlbSA9IG1lZGlhSXRlbXMuZmluZCgoZW50cnkpID0+IGVudHJ5LmlkID09PSBtZWRpYUlkKTtcbiAgICAgIGlmICghaXRlbSkge1xuICAgICAgICByZXNldERldGFpbFBhbmVsKCk7XG4gICAgICAgIHJlbmRlckdyaWQoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY2xlYXJVcGxvYWRTdGF0ZSgpO1xuICAgICAgYWN0aXZlTWVkaWFJZCA9IGl0ZW0uaWQ7XG4gICAgICBkZXRhaWxEaXJ0eSA9IGZhbHNlO1xuICAgICAgdXBkYXRlRGV0YWlsQWN0aW9ucyhmYWxzZSk7XG4gICAgICByZW5kZXJHcmlkKCk7XG4gICAgICBkZXRhaWxFbXB0eT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBkZXRhaWxQYW5lbD8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBpZiAoZGV0YWlsUHJldmlldykge1xuICAgICAgICBpZiAoaXNJbWFnZVR5cGUoaXRlbSkpIHtcbiAgICAgICAgICBkZXRhaWxQcmV2aWV3LmlubmVySFRNTCA9IGA8aW1nIHNyYz1cIiR7aXRlbS5wYXRofVwiIGFsdD1cIiR7aXRlbS5hbHQgfHwgaXRlbS5maWxlbmFtZX1cIiBjbGFzcz1cImgtZnVsbCB3LWZ1bGwgcm91bmRlZC0yeGwgb2JqZWN0LWNvdmVyXCIgLz5gO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRldGFpbFByZXZpZXcuaW5uZXJIVE1MID1cbiAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiZmxleCBoLWZ1bGwgdy1mdWxsIGZsZXgtY29sIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBnYXAtMSB0ZXh0LXNsYXRlLTQwMFwiPjxzcGFuIGNsYXNzPVwidGV4dC0zeGxcIj5cdUQ4M0RcdURDQzQ8L3NwYW4+PHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIGZvbnQtc2VtaWJvbGRcIj5Eb2N1bWVudDwvc3Bhbj48L2Rpdj4nO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBkZXRhaWxOYW1lICYmIChkZXRhaWxOYW1lLnRleHRDb250ZW50ID0gaXRlbS5maWxlbmFtZSB8fCAnRmljaGllcicpO1xuICAgICAgZGV0YWlsVHlwZSAmJiAoZGV0YWlsVHlwZS50ZXh0Q29udGVudCA9IGZvcm1hdFR5cGVMYWJlbChpdGVtKSk7XG4gICAgICBkZXRhaWxTaXplICYmIChkZXRhaWxTaXplLnRleHRDb250ZW50ID0gZm9ybWF0RmlsZVNpemUoaXRlbS5zaXplKSk7XG4gICAgICBpZiAoZGV0YWlsQWx0SW5wdXQpIHtcbiAgICAgICAgZGV0YWlsQWx0SW5wdXQudmFsdWUgPSBpdGVtLmFsdCB8fCAnJztcbiAgICAgIH1cbiAgICAgIGRldGFpbFBhdGggJiYgKGRldGFpbFBhdGgudGV4dENvbnRlbnQgPSBpdGVtLnBhdGggfHwgJ1x1MjAxNCcpO1xuICAgICAgcmVuZGVyVXNlZEluKGl0ZW0pO1xuICAgIH07XG5cbiAgICBjb25zdCBzaG93VXBsb2FkUHJldmlldyA9IChmaWxlKSA9PiB7XG4gICAgICBpZiAoIWZpbGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdXBsb2FkTW9kZSA9IHRydWU7XG4gICAgICBkZXRhaWxEaXJ0eSA9IGZhbHNlO1xuICAgICAgYWN0aXZlTWVkaWFJZCA9IG51bGw7XG4gICAgICBkZXRhaWxFbXB0eT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBkZXRhaWxQYW5lbD8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBpZiAodXBsb2FkUHJldmlld1VybCkge1xuICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKHVwbG9hZFByZXZpZXdVcmwpO1xuICAgICAgfVxuICAgICAgdXBsb2FkUHJldmlld1VybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZSk7XG4gICAgICBpZiAoZGV0YWlsUHJldmlldykge1xuICAgICAgICBkZXRhaWxQcmV2aWV3LmlubmVySFRNTCA9IGA8aW1nIHNyYz1cIiR7dXBsb2FkUHJldmlld1VybH1cIiBhbHQ9XCIke2ZpbGUubmFtZX1cIiBjbGFzcz1cImgtZnVsbCB3LWZ1bGwgcm91bmRlZC0yeGwgb2JqZWN0LWNvdmVyXCIgLz5gO1xuICAgICAgfVxuICAgICAgZGV0YWlsTmFtZSAmJiAoZGV0YWlsTmFtZS50ZXh0Q29udGVudCA9IGZpbGUubmFtZSk7XG4gICAgICBkZXRhaWxUeXBlICYmIChkZXRhaWxUeXBlLnRleHRDb250ZW50ID0gZm9ybWF0VHlwZUxhYmVsKHsgdHlwZTogZmlsZS50eXBlLCBmaWxlbmFtZTogZmlsZS5uYW1lIH0pKTtcbiAgICAgIGRldGFpbFNpemUgJiYgKGRldGFpbFNpemUudGV4dENvbnRlbnQgPSBmb3JtYXRGaWxlU2l6ZShmaWxlLnNpemUpKTtcbiAgICAgIGlmIChkZXRhaWxBbHRJbnB1dCAmJiAhZGV0YWlsQWx0SW5wdXQudmFsdWUudHJpbSgpKSB7XG4gICAgICAgIGRldGFpbEFsdElucHV0LnZhbHVlID0gZmlsZS5uYW1lLnJlcGxhY2UoL1xcLlteLl0rJC8sICcnKS5yZXBsYWNlKC9bLV9dL2csICcgJyk7XG4gICAgICB9XG4gICAgICBkZXRhaWxQYXRoICYmIChkZXRhaWxQYXRoLnRleHRDb250ZW50ID0gJ0VuIGF0dGVudGUgZGUgdFx1MDBFOWxcdTAwRTl2ZXJzZW1lbnQnKTtcbiAgICAgIGlmIChkZXRhaWxVc2VkKSB7XG4gICAgICAgIGRldGFpbFVzZWQuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgIGNvbnN0IGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgbGkudGV4dENvbnRlbnQgPSAnTm9uIHV0aWxpc1x1MDBFOSc7XG4gICAgICAgIGxpLmNsYXNzTmFtZSA9ICd0ZXh0LXhzIHRleHQtc2xhdGUtNDAwJztcbiAgICAgICAgZGV0YWlsVXNlZC5hcHBlbmRDaGlsZChsaSk7XG4gICAgICB9XG4gICAgICB1cGRhdGVEZXRhaWxBY3Rpb25zKGZhbHNlKTtcbiAgICB9O1xuXG4gICAgY29uc3QgYXBwbHlGaWx0ZXJzID0gKCkgPT4ge1xuICAgICAgY29uc3QgdHlwZUZpbHRlciA9IGZpbHRlclR5cGU/LnZhbHVlIHx8ICdhbGwnO1xuICAgICAgaWYgKHR5cGVGaWx0ZXIgPT09ICdhbGwnKSB7XG4gICAgICAgIGZpbHRlcmVkSXRlbXMgPSBbLi4ubWVkaWFJdGVtc107XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmaWx0ZXJlZEl0ZW1zID0gbWVkaWFJdGVtcy5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0uZ3JvdXBUeXBlID09PSB0eXBlRmlsdGVyKTtcbiAgICAgIH1cbiAgICAgIGlmICghZmlsdGVyZWRJdGVtcy5zb21lKChpdGVtKSA9PiBpdGVtLmlkID09PSBhY3RpdmVNZWRpYUlkKSkge1xuICAgICAgICByZXNldERldGFpbFBhbmVsKCk7XG4gICAgICB9XG4gICAgICB1cGRhdGVDb3VudEJhZGdlKCk7XG4gICAgICByZW5kZXJHcmlkKCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGxvYWRNZWRpYSA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghbWVkaWFBcGlCYXNlKSB7XG4gICAgICAgIGVtcHR5U3RhdGU/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKG1lZGlhQXBpQmFzZSwge1xuICAgICAgICAgIGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ltcG9zc2libGUgZGUgY2hhcmdlciBsZXMgbVx1MDBFOWRpYXMuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoeyBpdGVtczogW10gfSkpO1xuICAgICAgICBtZWRpYUl0ZW1zID0gQXJyYXkuaXNBcnJheShwYXlsb2FkLml0ZW1zKVxuICAgICAgICAgID8gcGF5bG9hZC5pdGVtcy5tYXAoKGl0ZW0pID0+ICh7IC4uLml0ZW0sIGdyb3VwVHlwZTogZGVyaXZlR3JvdXBUeXBlKGl0ZW0pIH0pKVxuICAgICAgICAgIDogW107XG4gICAgICAgIGFwcGx5RmlsdGVycygpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1ttZWRpYV0gbG9hZCBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgY2hhcmdlciBsZXMgbVx1MDBFOWRpYXMuJyk7XG4gICAgICAgIG1lZGlhSXRlbXMgPSBbXTtcbiAgICAgICAgYXBwbHlGaWx0ZXJzKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGZpbHRlclR5cGU/LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgICAgIGFwcGx5RmlsdGVycygpO1xuICAgIH0pO1xuICAgIGRldGFpbEFsdElucHV0Py5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICAgIGlmICh1cGxvYWRNb2RlKSB7XG4gICAgICAgIHVwZGF0ZURldGFpbEFjdGlvbnMoZmFsc2UpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWFjdGl2ZU1lZGlhSWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZGV0YWlsRGlydHkgPSB0cnVlO1xuICAgICAgdXBkYXRlRGV0YWlsQWN0aW9ucyhmYWxzZSk7XG4gICAgfSk7XG5cbiAgICBjb25zdCBoYW5kbGVGaWxlU2VsZWN0aW9uID0gKGZpbGUpID0+IHtcbiAgICAgIGlmICghZmlsZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWZpbGUudHlwZS5zdGFydHNXaXRoKCdpbWFnZS8nKSkge1xuICAgICAgICBzaG93VG9hc3QoJ1NldWxlcyBsZXMgaW1hZ2VzIHNvbnQgYWNjZXB0XHUwMEU5ZXMgcG91ciBsZSBtb21lbnQuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChmaWxlLnNpemUgPiA0ICogMTAyNCAqIDEwMjQpIHtcbiAgICAgICAgc2hvd1RvYXN0KCdGaWNoaWVyIHRyb3Agdm9sdW1pbmV1eCAoNCBNbyBtYXgpLicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwZW5kaW5nVXBsb2FkRmlsZSA9IGZpbGU7XG4gICAgICBzaG93VXBsb2FkUHJldmlldyhmaWxlKTtcbiAgICAgIGlmICh1cGxvYWRTdGF0dXMpIHtcbiAgICAgICAgdXBsb2FkU3RhdHVzLnRleHRDb250ZW50ID0gYCR7ZmlsZS5uYW1lfSBcdTAwQjcgJHtmb3JtYXRGaWxlU2l6ZShmaWxlLnNpemUpfWA7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHJlYWRGaWxlQXNCYXNlNjQgPSAoZmlsZSkgPT5cbiAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgICAgcmVhZGVyLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSByZWFkZXIucmVzdWx0IHx8ICcnO1xuICAgICAgICAgIGNvbnN0IFssIGJhc2U2NCA9ICcnXSA9IFN0cmluZyhyZXN1bHQpLnNwbGl0KCcsJyk7XG4gICAgICAgICAgcmVzb2x2ZShiYXNlNjQpO1xuICAgICAgICB9O1xuICAgICAgICByZWFkZXIub25lcnJvciA9ICgpID0+IHJlamVjdChuZXcgRXJyb3IoJ0ltcG9zc2libGUgZGUgbGlyZSBjZSBmaWNoaWVyLicpKTtcbiAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XG4gICAgICB9KTtcblxuICAgIGNvbnN0IHVwbG9hZFNlbGVjdGVkTWVkaWEgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXBlbmRpbmdVcGxvYWRGaWxlIHx8ICFtZWRpYUFwaUJhc2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdXBsb2FkSW5Qcm9ncmVzcyA9IHRydWU7XG4gICAgICB1cGRhdGVEZXRhaWxBY3Rpb25zKHRydWUpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgYmFzZTY0ID0gYXdhaXQgcmVhZEZpbGVBc0Jhc2U2NChwZW5kaW5nVXBsb2FkRmlsZSk7XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgICAgZmlsZW5hbWU6IHBlbmRpbmdVcGxvYWRGaWxlLm5hbWUsXG4gICAgICAgICAgdHlwZTogcGVuZGluZ1VwbG9hZEZpbGUudHlwZSxcbiAgICAgICAgICBzaXplOiBwZW5kaW5nVXBsb2FkRmlsZS5zaXplLFxuICAgICAgICAgIGFsdDogZGV0YWlsQWx0SW5wdXQ/LnZhbHVlIHx8ICcnLFxuICAgICAgICAgIGRhdGE6IGJhc2U2NCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChtZWRpYUFwaUJhc2UsIHtcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBjb25zdCBlcnJvclBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yUGF5bG9hZC5tZXNzYWdlIHx8ICdVcGxvYWQgaW1wb3NzaWJsZS4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzYXZlZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgc2F2ZWQuZ3JvdXBUeXBlID0gZGVyaXZlR3JvdXBUeXBlKHNhdmVkKTtcbiAgICAgICAgbWVkaWFJdGVtcyA9IFsuLi5tZWRpYUl0ZW1zLCBzYXZlZF07XG4gICAgICAgIGhpZ2hsaWdodE1lZGlhSWQgPSBzYXZlZC5pZDtcbiAgICAgICAgYXBwbHlGaWx0ZXJzKCk7XG4gICAgICAgIHNlbGVjdE1lZGlhKHNhdmVkLmlkKTtcbiAgICAgICAgc2hvd1RvYXN0KCdNXHUwMEU5ZGlhIGFqb3V0XHUwMEU5Jyk7XG4gICAgICAgIGNsZWFyVXBsb2FkU3RhdGUoKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbbWVkaWFdIHVwbG9hZCBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgdFx1MDBFOWxcdTAwRTl2ZXJzZXIgY2UgbVx1MDBFOWRpYS4nKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHVwbG9hZEluUHJvZ3Jlc3MgPSBmYWxzZTtcbiAgICAgICAgcGVuZGluZ1VwbG9hZEZpbGUgPSBudWxsO1xuICAgICAgICB1cGRhdGVEZXRhaWxBY3Rpb25zKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdXBsb2FkT3BlbkJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBmaWxlSW5wdXQ/LmNsaWNrKCkpO1xuICAgIGZpbGVJbnB1dD8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICAgICAgaWYgKGZpbGVJbnB1dC5maWxlcyAmJiBmaWxlSW5wdXQuZmlsZXNbMF0pIHtcbiAgICAgICAgaGFuZGxlRmlsZVNlbGVjdGlvbihmaWxlSW5wdXQuZmlsZXNbMF0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IGNsb3NlRGVsZXRlTW9kYWwgPSAoKSA9PiB7XG4gICAgICBpZiAoIWRlbGV0ZU1vZGFsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGRlbGV0ZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgZGVsZXRlTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnZmxleCcpO1xuICAgIH07XG5cbiAgICBjb25zdCBvcGVuRGVsZXRlTW9kYWwgPSAoKSA9PiB7XG4gICAgICBpZiAoIWFjdGl2ZU1lZGlhSWQgfHwgdXBsb2FkTW9kZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoZGVsZXRlTW9kYWwpIHtcbiAgICAgICAgZGVsZXRlTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIGRlbGV0ZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2ZsZXgnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gRmFsbGJhY2sgc2kgYXVjdW5lIG1vZGFsZSBuJ2VzdCBkaXNwb25pYmxlXG4gICAgICBpZiAod2luZG93LmNvbmZpcm0oJ1N1cHByaW1lciBjZSBtXHUwMEU5ZGlhID8nKSkge1xuICAgICAgICBkZWxldGVBY3RpdmVNZWRpYSgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBkZWxldGVBY3RpdmVNZWRpYSA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghYWN0aXZlTWVkaWFJZCB8fCAhbWVkaWFBcGlCYXNlKSB7XG4gICAgICAgIGNsb3NlRGVsZXRlTW9kYWwoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgZGlzYWJsZUJ1dHRvbnMgPSAoKSA9PiB7XG4gICAgICAgIGlmIChkZXRhaWxEZWxldGVCdXR0b24pIHtcbiAgICAgICAgICBkZXRhaWxEZWxldGVCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkZWxldGVDb25maXJtQnV0dG9uKSB7XG4gICAgICAgICAgZGVsZXRlQ29uZmlybUJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgICAgZGVsZXRlQ29uZmlybUJ1dHRvbi50ZXh0Q29udGVudCA9ICdTdXBwcmVzc2lvblx1MjAyNic7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBjb25zdCBlbmFibGVCdXR0b25zID0gKCkgPT4ge1xuICAgICAgICBpZiAoZGV0YWlsRGVsZXRlQnV0dG9uKSB7XG4gICAgICAgICAgZGV0YWlsRGVsZXRlQnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlbGV0ZUNvbmZpcm1CdXR0b24pIHtcbiAgICAgICAgICBkZWxldGVDb25maXJtQnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgZGVsZXRlQ29uZmlybUJ1dHRvbi50ZXh0Q29udGVudCA9ICdTdXBwcmltZXInO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgZGlzYWJsZUJ1dHRvbnMoKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgICAgYCR7bWVkaWFBcGlCYXNlfS8ke2VuY29kZVVSSUNvbXBvbmVudChhY3RpdmVNZWRpYUlkKX1gLFxuICAgICAgICAgIHsgbWV0aG9kOiAnREVMRVRFJyB9LFxuICAgICAgICApO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocGF5bG9hZC5tZXNzYWdlIHx8ICdTdXBwcmVzc2lvbiBpbXBvc3NpYmxlLicpO1xuICAgICAgICB9XG4gICAgICAgIG1lZGlhSXRlbXMgPSBtZWRpYUl0ZW1zLmZpbHRlcigoaXRlbSkgPT4gaXRlbS5pZCAhPT0gYWN0aXZlTWVkaWFJZCk7XG4gICAgICAgIGZpbHRlcmVkSXRlbXMgPSBmaWx0ZXJlZEl0ZW1zLmZpbHRlcigoaXRlbSkgPT4gaXRlbS5pZCAhPT0gYWN0aXZlTWVkaWFJZCk7XG4gICAgICAgIHNob3dUb2FzdCgnTVx1MDBFOWRpYSBzdXBwcmltXHUwMEU5Jyk7XG4gICAgICAgIHJlc2V0RGV0YWlsUGFuZWwoKTtcbiAgICAgICAgdXBkYXRlQ291bnRCYWRnZSgpO1xuICAgICAgICByZW5kZXJHcmlkKCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW21lZGlhXSBkZWxldGUgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIHN1cHByaW1lciBjZSBtXHUwMEU5ZGlhLicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgZW5hYmxlQnV0dG9ucygpO1xuICAgICAgICBjbG9zZURlbGV0ZU1vZGFsKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGRlbGV0ZUNhbmNlbEJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZURlbGV0ZU1vZGFsKTtcbiAgICBkZWxldGVNb2RhbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIGlmIChldmVudC50YXJnZXQgPT09IGRlbGV0ZU1vZGFsKSB7XG4gICAgICAgIGNsb3NlRGVsZXRlTW9kYWwoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGRlbGV0ZUNvbmZpcm1CdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gZGVsZXRlQWN0aXZlTWVkaWEoKSk7XG4gICAgZGV0YWlsRGVsZXRlQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5EZWxldGVNb2RhbCk7XG5cbiAgICBkZXRhaWxTYXZlQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGlmICh1cGxvYWRNb2RlKSB7XG4gICAgICAgIHVwbG9hZFNlbGVjdGVkTWVkaWEoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFhY3RpdmVNZWRpYUlkIHx8ICFtZWRpYUFwaUJhc2UgfHwgIWRldGFpbEFsdElucHV0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHVwZGF0ZURldGFpbEFjdGlvbnModHJ1ZSk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBwYXlsb2FkID0geyBhbHQ6IGRldGFpbEFsdElucHV0LnZhbHVlIHx8ICcnIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgICAgYCR7bWVkaWFBcGlCYXNlfS8ke2VuY29kZVVSSUNvbXBvbmVudChhY3RpdmVNZWRpYUlkKX1gLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICAgIH0sXG4gICAgICAgICk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBjb25zdCBlcnJvclBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yUGF5bG9hZC5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIG1ldHRyZSBcdTAwRTAgam91ciBjZSBtXHUwMEU5ZGlhLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHVwZGF0ZWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIG1lZGlhSXRlbXMgPSBtZWRpYUl0ZW1zLm1hcCgoaXRlbSkgPT5cbiAgICAgICAgICBpdGVtLmlkID09PSBhY3RpdmVNZWRpYUlkID8geyAuLi5pdGVtLCAuLi51cGRhdGVkIH0gOiBpdGVtLFxuICAgICAgICApO1xuICAgICAgICBmaWx0ZXJlZEl0ZW1zID0gZmlsdGVyZWRJdGVtcy5tYXAoKGl0ZW0pID0+XG4gICAgICAgICAgaXRlbS5pZCA9PT0gYWN0aXZlTWVkaWFJZCA/IHsgLi4uaXRlbSwgLi4udXBkYXRlZCB9IDogaXRlbSxcbiAgICAgICAgKTtcbiAgICAgICAgZGV0YWlsRGlydHkgPSBmYWxzZTtcbiAgICAgICAgdXBkYXRlRGV0YWlsQWN0aW9ucyhmYWxzZSk7XG4gICAgICAgIHNob3dUb2FzdCgnTVx1MDBFOWRpYSBtaXMgXHUwMEUwIGpvdXInKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbbWVkaWFdIHVwZGF0ZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UgfHwgJ1x1MDBDOWNoZWMgZGUgbGEgbWlzZSBcdTAwRTAgam91ci4nKTtcbiAgICAgICAgdXBkYXRlRGV0YWlsQWN0aW9ucyhmYWxzZSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBsb2FkTWVkaWEoKTtcbiAgfVxufSk7XG4iXSwKICAibWFwcGluZ3MiOiAiTUFBQSxTQUFTLGlCQUFpQixtQkFBb0IsSUFBTSxDQUNsRCxRQUFRLElBQUksMkJBQXdCLEVBQ3BDLElBQU1BLEdBQWUsU0FBUyxjQUFjLGVBQWUsRUFDdkRBLElBQ0ZBLEdBQWEsaUJBQWlCLFFBQVMsU0FBWSxDQUNqREEsR0FBYSxTQUFXLEdBQ3hCLEdBQUksQ0FDRixNQUFNLE1BQU0sY0FBZSxDQUN6QixPQUFRLE9BQ1IsUUFBUyxDQUNQLGVBQWdCLGtCQUNsQixDQUNGLENBQUMsQ0FDSCxPQUFTQyxFQUFLLENBQ1osUUFBUSxNQUFNLDBDQUF3Q0EsQ0FBRyxDQUMzRCxRQUFFLENBQ0EsT0FBTyxTQUFTLEtBQU8sbUJBQ3pCLENBQ0YsQ0FBQyxFQUdILElBQU1DLEdBQVUsU0FBUyxjQUFjLHNCQUFzQixFQUN2REMsR0FBaUIsU0FBUyxjQUFjLDhCQUE4QixFQUN0RUMsR0FBaUIsU0FBUyxpQkFBaUIsNkJBQTZCLEVBQ3hFQyxHQUFzQixTQUFTLGlCQUFpQiw0QkFBNEIsRUFDNUVDLEdBQU8sU0FBUyxLQUNsQkMsR0FBYyxHQUVaQyxHQUFvQixJQUFNLENBQzlCLEdBQUksQ0FBQ04sR0FDSCxPQUdGLEdBRGtCLE9BQU8sV0FBVyxxQkFBcUIsRUFBRSxRQUM1QyxDQUNiQSxHQUFRLFVBQVUsT0FBTyxRQUFRLEVBQ2pDQyxJQUFBLE1BQUFBLEdBQWdCLFVBQVUsSUFBSSxVQUM5QkcsR0FBSyxVQUFVLE9BQU8saUJBQWlCLEVBQ3ZDLE1BQ0YsQ0FDSUMsSUFDRkwsR0FBUSxVQUFVLE9BQU8sUUFBUSxFQUNqQ0MsSUFBQSxNQUFBQSxHQUFnQixVQUFVLE9BQU8sVUFDakNH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QUFLaE4sR0FDakNBLEVBQUssS0FBT2lOLEVBQWdCLENBQUUsR0FBR2pOLEVBQU0sR0FBR3lQLENBQVEsRUFBSXpQLENBQ3hELEVBQ0FxTixFQUFjLEdBQ2RZLEVBQW9CLEVBQUssRUFDekJ4WixFQUFVLHdCQUFrQixDQUM5QixPQUFTL0MsRUFBSyxDQUNaLFFBQVEsTUFBTSx3QkFBeUJBLENBQUcsRUFDMUMrQyxFQUFVL0MsRUFBSSxTQUFXLGdDQUEwQixFQUNuRHVjLEVBQW9CLEVBQUssQ0FDM0IsRUFDRixHQUVBYSxHQUFVLENBQ1osQ0FDRixDQUFDIiwKICAibmFtZXMiOiBbImxvZ291dEJ1dHRvbiIsICJlcnIiLCAic2lkZWJhciIsICJzaWRlYmFyT3ZlcmxheSIsICJzaWRlYmFyVG9nZ2xlcyIsICJzaWRlYmFyQ2xvc2VCdXR0b25zIiwgImJvZHkiLCAic2lkZWJhck9wZW4iLCAiYXBwbHlTaWRlYmFyU3RhdGUiLCAib3BlblNpZGViYXIiLCAiY2xvc2VTaWRlYmFyIiwgImJ1dHRvbiIsICJldmVudCIsICJBQ1RJVkVfU0lURV9LRVkiLCAiQUNUSVZFX1NJVEVfTkFNRV9LRVkiLCAic3RvcmVkU2l0ZSIsICJzaXRlQ2FyZHMiLCAic2l0ZVNlbGVjdEJ1dHRvbnMiLCAic2l0ZU5hbWVMYWJlbCIsICJ3b3Jrc3BhY2VTaXRlTGFiZWwiLCAid29ya3NwYWNlQmFja05hbWUiLCAid29ya3NwYWNlQmFja01vZGFsIiwgIndvcmtzcGFjZUJhY2tCdXR0b25zIiwgIndvcmtzcGFjZUJhY2tDYW5jZWwiLCAid29ya3NwYWNlQmFja0NvbmZpcm0iLCAid29ya3NwYWNlTmF2TGlua3MiLCAic2l0ZVRvYXN0IiwgInNpdGVUb2FzdE1lc3NhZ2UiLCAic2l0ZUNyZWF0ZUJ1dHRvbnMiLCAic2l0ZU1vZGFsIiwgInNpdGVGb3JtIiwgInNpdGVOYW1lSW5wdXQiLCAic2l0ZVNsdWdJbnB1dCIsICJzaXRlU2x1Z0Vycm9yIiwgInNpdGVNb2RhbEVycm9yIiwgInNpdGVNb2RhbENhbmNlbEJ1dHRvbnMiLCAic2l0ZU1vZGFsU3VibWl0QnV0dG9uIiwgIndvcmtzcGFjZUNvbnRleHQiLCAiZ2V0V29ya3NwYWNlQ29udGV4dCIsICJzbHVnTWFudWFsbHlFZGl0ZWQiLCAibGFzdEZvY3VzZWRFbGVtZW50IiwgInRvYXN0VGltZW91dElkIiwgImZvY3VzYWJsZVNlbGVjdG9yIiwgInRyYXBGb2N1cyIsICJmb2N1c2FibGVFbGVtZW50cyIsICJlbCIsICJmaXJzdCIsICJsYXN0IiwgInNob3dUb2FzdCIsICJtZXNzYWdlIiwgImVuc3VyZUxlYWRpbmdTbGFzaCIsICJzbHVnIiwgInN0cmlwTGVhZGluZ1NsYXNoIiwgInBlcnNpc3RTaXRlU3RhdGUiLCAibmFtZSIsICJub3JtYWxpemVkU2x1ZyIsICJ1cGRhdGVTaXRlTGFiZWxzIiwgInVwZGF0ZVdvcmtzcGFjZU5hdkxpbmtzIiwgImxpbmsiLCAidGFiIiwgInNsdWdQYXRoIiwgImFwcGx5QWN0aXZlU2l0ZSIsICJvcHRpb25zIiwgImFjdGl2ZVNpdGVOYW1lIiwgImNhcmQiLCAiaXNBY3RpdmUiLCAiYmFkZ2UiLCAiZmluYWxOYW1lIiwgInNlbGVjdFNpdGUiLCAicmVzcG9uc2UiLCAicGF5bG9hZCIsICJmaW5hbFNsdWciLCAic3luY0FjdGl2ZVNpdGVGcm9tU2VydmVyIiwgInNpdGUiLCAiZGVmYXVsdENhcmQiLCAid29ya3NwYWNlU2x1Z2lmeSIsICJ2YWx1ZSIsICJub3JtYWxpemVTbHVnVmFsdWUiLCAiYmFzZSIsICJvcGVuU2l0ZU1vZGFsIiwgImNsb3NlU2l0ZU1vZGFsIiwgImdldFNsdWdTZXQiLCAibmFtZVZhbHVlIiwgInNsdWdWYWx1ZSIsICJjcmVhdGVkU2l0ZSIsICJjbG9zZVdvcmtzcGFjZUJhY2tNb2RhbCIsICJtYXRjaCIsICJkZXRlY3RXb3Jrc3BhY2VTZWN0aW9uIiwgIm9wZW5Xb3Jrc3BhY2VCYWNrTW9kYWwiLCAiYWN0aXZlU2VjdGlvbiIsICJpbml0RGVzaWduV29ya3NwYWNlIiwgImluaXRDb250ZW50V29ya3NwYWNlIiwgImluaXRNZWRpYVdvcmtzcGFjZSIsICJpbml0RGVwbG95V29ya3NwYWNlIiwgInBhZ2VMaXN0cyIsICJhY3RpdmVUaXRsZSIsICJhY3RpdmVTbHVnIiwgInByZXZpZXdUYWdzIiwgInByZXZpZXdGcmFtZSIsICJwcmV2aWV3T3BlbkJ1dHRvbiIsICJwcmV2aWV3U3RhdHVzIiwgInByZXZpZXdIaWdobGlnaHRPdmVybGF5IiwgImJsb2NrTGlzdCIsICJibG9ja0xpc3RFbXB0eSIsICJibG9ja0NvdW50QmFkZ2UiLCAiYmxvY2tMaWJyYXJ5VG9nZ2xlIiwgImJsb2NrTGlicmFyeSIsICJibG9ja0FkZEJ1dHRvbnMiLCAiYmxvY2tEZWxldGVNb2RhbCIsICJibG9ja0RlbGV0ZUNvbmZpcm0iLCAiYmxvY2tEZWxldGVDYW5jZWwiLCAiYmxvY2tEZXRhaWxFbXB0eSIsICJibG9ja0RldGFpbFN0YXR1cyIsICJibG9ja0VkaXRvciIsICJibG9ja0VkaXRvclRpdGxlIiwgImJsb2NrRWRpdG9yVHlwZSIsICJibG9ja0VkaXRvclVuc3VwcG9ydGVkIiwgImJsb2NrRm9ybSIsICJibG9ja0Zvcm1TZWN0aW9ucyIsICJjb2xsZWN0aW9uU2VsZWN0IiwgImNvbGxlY3Rpb25TZWxlY3Rpb25JbmZvIiwgImJsb2NrRm9ybUNhbmNlbCIsICJncm91cFByZXZpZXdNb2JpbGUiLCAiZ3JvdXBQcmV2aWV3RGVza3RvcCIsICJibG9ja1R5cGVGb3JtcyIsICJibG9ja1R5cGVBbGlhc2VzIiwgInVwZGF0ZUdyb3VwTWluaVByZXZpZXciLCAibW9iaWxlVmFsdWUiLCAiZGVza3RvcFZhbHVlIiwgInJlbmRlckJveGVzIiwgImNvdW50IiwgImZldGNoUGFnZXNGcm9tU2VydmVyIiwgInBhZ2VzQXBpQmFzZSIsICJjcmVhdGVQYWdlT25TZXJ2ZXIiLCAidGl0bGUiLCAic2F2ZVBhZ2VUb1NlcnZlciIsICJwYWdlIiwgInNhdmVkIiwgIm5vcm1hbGl6ZWQiLCAibm9ybWFsaXplUGFnZURhdGEiLCAicGFnZXMiLCAiZW50cnkiLCAiY3VycmVudFBhZ2UiLCAibG9hZFBhZ2VzRnJvbVNlcnZlciIsICJhY3RpdmVQYWdlSWQiLCAicmVuZGVyUGFnZUxpc3RzIiwgInJlbmRlckJsb2NrTGlzdCIsICJsb2FkZWRQYWdlcyIsICJnZXRMb2FkaW5nUHJldmlld0h0bWwiLCAiZ2V0U3RvcmVkQWN0aXZlUGFnZSIsICJzZXRBY3RpdmVQYWdlIiwgIm5vcm1hbGl6ZVR5cGUiLCAiZ2V0QmxvY2tGb3JtQ29uZmlnIiwgImJsb2NrIiwgInR5cGVLZXkiLCAiYWxpYXMiLCAicG9wdWxhdGVCbG9ja0Zvcm0iLCAiX2EiLCAiX2IiLCAiX2MiLCAiY29uZmlnIiwgInNlY3Rpb24iLCAiZGVzaXJlZFZhbHVlIiwgInVwZGF0ZUNvbGxlY3Rpb25TZWxlY3RPcHRpb25zIiwgInNldHRpbmdLZXkiLCAiZmllbGROYW1lIiwgImlucHV0IiwgImNvbGxlY3RGb3JtVmFsdWVzIiwgInZhbHVlcyIsICJwYXJzZWQiLCAidXBkYXRlUHJldmlld1N0YXR1cyIsICJ0ZXh0IiwgInNlcmlhbGl6ZVBhZ2VGb3JQcmV2aWV3IiwgInJlZnJlc2hQcmV2aWV3IiwgInByZXZpZXdTaXRlU2x1ZyIsICJwcmV2aWV3UmVhZHkiLCAicHJldmlld1JlcXVlc3RDb250cm9sbGVyIiwgImNvbnRyb2xsZXIiLCAiZGF0YSIsICJsYXRlc3RQcmV2aWV3SHRtbCIsICJlcnJvciIsICJoYW5kbGVCbG9ja0Zvcm1TdWJtaXQiLCAiYWN0aXZlQmxvY2tJZCIsICJnZXRBY3RpdmVCbG9jayIsICJ1cGRhdGVkQmxvY2tzIiwgInVwZGF0ZWRTZXR0aW5ncyIsICJ1cGRhdGVkQmxvY2siLCAidXBkYXRlQ3VycmVudFBhZ2VCbG9ja3MiLCAiZHJhd2VyIiwgImRyYXdlckJhY2tkcm9wIiwgImRyYXdlck9wZW5CdXR0b25zIiwgImRyYXdlckNsb3NlQnV0dG9ucyIsICJhZGRQYWdlVG9nZ2xlIiwgImFkZFBhZ2VGb3JtIiwgImFkZFBhZ2VUaXRsZSIsICJhZGRQYWdlU2x1ZyIsICJhZGRQYWdlQ2FuY2VsIiwgImFkZFBhZ2VFcnJvciIsICJhZGRQYWdlU3VibWl0QnV0dG9uIiwgInNpdGVLZXkiLCAic2l0ZVNsdWdWYWx1ZSIsICJzYWZlU2l0ZVNsdWciLCAiY29sbGVjdGlvbnNBcGlCYXNlIiwgInN0b3JhZ2VLZXlzIiwgImNyZWF0ZUJsb2NrIiwgImlkIiwgImxhYmVsIiwgInR5cGUiLCAic3RhdHVzIiwgImRlc2NyaXB0aW9uIiwgInByb3BzIiwgInNldHRpbmdzIiwgImJsb2NrTGlicmFyeURlZmluaXRpb25zIiwgInBlcnNpc3RBY3RpdmVQYWdlIiwgInBhZ2VJZCIsICJzdG9yZWQiLCAiZm9ybWF0QmxvY2tDb3VudCIsICJub3JtYWxpemVQYWdlU2x1ZyIsICJnZW5lcmF0ZUJsb2NrSWQiLCAia2V5IiwgImNyZWF0ZUluaXRpYWxCbG9ja3MiLCAic2V0QWN0aXZlTGFiZWxzIiwgInJlbmRlclByZXZpZXdNZXRhIiwgInRhZyIsICJnZXRTdGF0dXNCYWRnZUNsYXNzZXMiLCAicmVuZGVyQmxvY2tEZXRhaWxzIiwgImFwcGx5UHJldmlld0hpZ2hsaWdodCIsICJibG9ja0lkIiwgImRvYyIsICJub2RlIiwgImJsb2NrcyIsICJpdGVtIiwgImFjY2VudCIsICJjb250ZW50IiwgImhhbmRsZSIsICJ0ZXh0V3JhcHBlciIsICJtZXRhIiwgInR5cGVCYWRnZSIsICJzdGF0dXNCYWRnZSIsICJkaXNwbGF5TGFiZWwiLCAiY29sbGVjdGlvbk5hbWUiLCAiZGVzaWduQ29sbGVjdGlvbnMiLCAiaW5mbyIsICJhY3Rpb25zIiwgIm1vdmVCdXR0b25zIiwgIm1vdmVVcCIsICJtb3ZlQmxvY2tCeU9mZnNldCIsICJtb3ZlRG93biIsICJkZWxldGVCdXR0b24iLCAib3BlbkJsb2NrRGVsZXRlTW9kYWwiLCAic2V0QWN0aXZlQmxvY2siLCAiYWN0aXZlSWQiLCAibGlzdCIsICJpc0Rlc2t0b3BEcmF3ZXIiLCAiY2xvc2VEcmF3ZXIiLCAidGFyZ2V0QmxvY2siLCAibmV3QmxvY2tzIiwgIm5leHRQYWdlIiwgInVwZGF0ZUN1cnJlbnRQYWdlU3RhdGUiLCAiaXNEZXNrdG9wUmVvcmRlciIsICJvZmZzZXQiLCAiaW5kZXgiLCAibmV3SW5kZXgiLCAibW92ZWQiLCAicmVvcmRlckJsb2NrcyIsICJzb3VyY2VJZCIsICJ0YXJnZXRJZCIsICJmcm9tSW5kZXgiLCAidG9JbmRleCIsICJ1cGRhdGVEcmFnZ2FibGVTdGF0ZSIsICJkcmFnZ2FibGUiLCAiY2xvc2VCbG9ja0xpYnJhcnkiLCAiYmxvY2tMaWJyYXJ5T3BlbiIsICJvcGVuQmxvY2tMaWJyYXJ5IiwgInRvZ2dsZUJsb2NrTGlicmFyeSIsICJhZGRCbG9ja0Zyb21MaWJyYXJ5IiwgImRlZmluaXRpb24iLCAibmV3QmxvY2siLCAiZmlyc3RDb2xsZWN0aW9uSWQiLCAibmV4dEJsb2NrcyIsICJkZWxldGVCbG9ja0J5SWQiLCAibmV4dEFjdGl2ZSIsICJjbG9zZUJsb2NrRGVsZXRlTW9kYWwiLCAicGVuZGluZ0RlbGV0ZUJsb2NrSWQiLCAidGFyZ2V0IiwgInN5bmNEcmF3ZXJTdGF0ZSIsICJvcGVuRHJhd2VyIiwgIm9wZW5BZGRQYWdlRm9ybSIsICJwYWdlU2x1Z01hbnVhbGx5RWRpdGVkIiwgImNsb3NlQWRkUGFnZUZvcm0iLCAic3luY1NsdWdGcm9tVGl0bGUiLCAibm9ybWFsaXplQmxvY2tEYXRhIiwgImxvYWREZXNpZ25Db2xsZWN0aW9ucyIsICJjdXJyZW50VmFsdWUiLCAic3luY0NvbGxlY3Rpb25TZWxlY3Rpb25JbmZvIiwgImNvbGxlY3Rpb25JZCIsICJjb2xsZWN0aW9uIiwgImRldGFpbHMiLCAic2VsZWN0ZWRWYWx1ZSIsICJvcHRpb24iLCAiZmFsbGJhY2tPcHRpb24iLCAiY3JlYXRlZFBhZ2UiLCAicHJldmlld1dpbmRvdyIsICJoYW5kbGVCbG9ja0RyYWdTdGFydCIsICJkcmFnU291cmNlSWQiLCAiY2xlYXJEcmFnSW5kaWNhdG9ycyIsICJoYW5kbGVCbG9ja0RyYWdFbmQiLCAiaGFuZGxlQmxvY2tEcmFnT3ZlciIsICJoYW5kbGVCbG9ja0RyYWdMZWF2ZSIsICJoYW5kbGVCbG9ja0Ryb3AiLCAic291cmNlIiwgImNvbGxlY3Rpb25MaXN0IiwgImNvbGxlY3Rpb25FbXB0eVN0YXRlIiwgImNvbGxlY3Rpb25JdGVtc0VtcHR5IiwgIml0ZW1UYWJsZVdyYXBwZXIiLCAiaXRlbVRhYmxlQm9keSIsICJjb2xsZWN0aW9uVGl0bGUiLCAiY29sbGVjdGlvbkRlc2NyaXB0aW9uIiwgImNvbGxlY3Rpb25EcmF3ZXIiLCAiY29sbGVjdGlvbkRyYXdlckJhY2tkcm9wIiwgImNvbGxlY3Rpb25EcmF3ZXJPcGVuQnV0dG9ucyIsICJjb2xsZWN0aW9uRHJhd2VyQ2xvc2VCdXR0b25zIiwgIml0ZW1BZGRCdXR0b24iLCAiaXRlbURldGFpbEVtcHR5IiwgIml0ZW1Gb3JtIiwgIml0ZW1Gb3JtRmllbGRzIiwgIml0ZW1TdGF0dXNCYWRnZSIsICJpdGVtRGVsZXRlQnV0dG9uIiwgIml0ZW1EZWxldGVNb2RhbCIsICJpdGVtRGVsZXRlQ2FuY2VsIiwgIml0ZW1EZWxldGVDb25maXJtIiwgIml0ZW1Gb3JtQ2FuY2VsIiwgIml0ZW1Gb3JtU2F2ZSIsICJzdGF0dXNCYWRnZUJhc2VDbGFzcyIsICJzYWZlU2l0ZVNsdWdWYWx1ZSIsICJjb2xsZWN0aW9ucyIsICJjb2xsZWN0aW9uSXRlbXMiLCAiYWN0aXZlQ29sbGVjdGlvbklkIiwgImFjdGl2ZUl0ZW1JZCIsICJpc0NyZWF0aW5nSXRlbSIsICJpdGVtU2x1Z01hbnVhbGx5RWRpdGVkIiwgInBlbmRpbmdEZWxldGVJdGVtSWQiLCAib3BlbkNvbGxlY3Rpb25EcmF3ZXIiLCAiY2xvc2VDb2xsZWN0aW9uRHJhd2VyIiwgIm5vcm1hbGl6ZUl0ZW1TbHVnSW5wdXQiLCAicmF3IiwgImNsZWFuZWRTZWdtZW50cyIsICJzZWdtZW50IiwgImZvcm1hdEl0ZW1EYXRlIiwgImRhdGUiLCAidXBkYXRlQ29sbGVjdGlvbkhlYWRlciIsICJ1cGRhdGVJdGVtc0VtcHR5TWVzc2FnZSIsICJoaWRlSXRlbUZvcm0iLCAic2hvd0l0ZW1Gb3JtIiwgInN5bmNBZGRCdXR0b25TdGF0ZSIsICJzeW5jSXRlbVN0YXR1c0JhZGdlIiwgImNvbG9yQ2xhc3MiLCAicmVuZGVyQ29sbGVjdGlvbkxpc3QiLCAic2V0QWN0aXZlQ29sbGVjdGlvbiIsICJyZW5kZXJJdGVtVGFibGUiLCAicm93IiwgInN0YXR1c0NsYXNzZXMiLCAiaGFuZGxlU2VsZWN0IiwgInNlbGVjdEl0ZW0iLCAiaXRlbUlkIiwgInBvcHVsYXRlSXRlbUZvcm0iLCAicHJlcGFyZU5ld0l0ZW1Gb3JtIiwgImNvbGxlY3RJdGVtRm9ybVZhbHVlcyIsICJfZCIsICJfZSIsICJfZiIsICJzbHVnSW5wdXQiLCAic3VtbWFyeSIsICJpbWFnZSIsICJzZXRGb3JtU2F2aW5nU3RhdGUiLCAiaXNTYXZpbmciLCAiZmV0Y2hDb2xsZWN0aW9uSXRlbXMiLCAiY3JlYXRlQ29sbGVjdGlvbkl0ZW0iLCAidXBkYXRlQ29sbGVjdGlvbkl0ZW0iLCAiZGVsZXRlQ29sbGVjdGlvbkl0ZW0iLCAibG9hZENvbGxlY3Rpb25zIiwgImRlZmF1bHRJZCIsICJzYXZlZEl0ZW0iLCAiY2xvc2VEZWxldGVNb2RhbCIsICJvcGVuRGVsZXRlTW9kYWwiLCAiZm9ybSIsICJwcm90b2NvbFNlbGVjdCIsICJob3N0SW5wdXQiLCAicG9ydElucHV0IiwgInVzZXJJbnB1dCIsICJwYXNzd29yZElucHV0IiwgInNob3dQYXNzd29yZFRvZ2dsZSIsICJyZW1vdGVQYXRoSW5wdXQiLCAiZmVlZGJhY2siLCAic2F2ZUJ1dHRvbiIsICJ0ZXN0QnV0dG9uIiwgImRlcGxveUFwaUJhc2UiLCAiaGFzUGFzc3dvcmQiLCAiYnVzeUFjdGlvbiIsICJzYW5pdGl6ZVJlbW90ZVBhdGgiLCAidHJpbW1lZCIsICJzZXRGZWVkYmFjayIsICJ0b25lIiwgImJhc2VDbGFzcyIsICJ0b25lQ2xhc3MiLCAiaWNvbiIsICJzZXRCdXN5IiwgImFjdGlvbiIsICJkaXNhYmxlIiwgInNwaW5uZXIiLCAicG9wdWxhdGVGb3JtIiwgImZldGNoQ29uZmlnIiwgImJ1aWxkUGF5bG9hZCIsICJwd2QiLCAiZXJyb3JQYXlsb2FkIiwgInJlc3VsdCIsICJncmlkIiwgImVtcHR5U3RhdGUiLCAiY291bnRCYWRnZSIsICJmaWx0ZXJUeXBlIiwgImRldGFpbEVtcHR5IiwgImRldGFpbFBhbmVsIiwgImRldGFpbFByZXZpZXciLCAiZGV0YWlsTmFtZSIsICJkZXRhaWxUeXBlIiwgImRldGFpbFNpemUiLCAiZGV0YWlsUGF0aCIsICJkZXRhaWxVc2VkIiwgImRldGFpbEFsdElucHV0IiwgImRldGFpbFNhdmVCdXR0b24iLCAiZGV0YWlsRGVsZXRlQnV0dG9uIiwgImRlbGV0ZU1vZGFsIiwgImRlbGV0ZUNhbmNlbEJ1dHRvbiIsICJkZWxldGVDb25maXJtQnV0dG9uIiwgInVwbG9hZE9wZW5CdXR0b24iLCAiZmlsZUlucHV0IiwgInVwbG9hZFN0YXR1cyIsICJtZWRpYUFwaUJhc2UiLCAibWVkaWFJdGVtcyIsICJmaWx0ZXJlZEl0ZW1zIiwgImFjdGl2ZU1lZGlhSWQiLCAiaGlnaGxpZ2h0TWVkaWFJZCIsICJwZW5kaW5nVXBsb2FkRmlsZSIsICJ1cGxvYWRJblByb2dyZXNzIiwgImRldGFpbERpcnR5IiwgInVwbG9hZE1vZGUiLCAidXBsb2FkUHJldmlld1VybCIsICJkZXJpdmVHcm91cFR5cGUiLCAiZmlsZW5hbWUiLCAiaXNJbWFnZVR5cGUiLCAiZm9ybWF0VHlwZUxhYmVsIiwgImV4dCIsICJmb3JtYXRGaWxlU2l6ZSIsICJzaXplIiwgInJlc2V0RGV0YWlsUGFuZWwiLCAiY2xlYXJVcGxvYWRTdGF0ZSIsICJ1cGRhdGVEZXRhaWxBY3Rpb25zIiwgInVwZGF0ZUNvdW50QmFkZ2UiLCAicmVuZGVyR3JpZCIsICJwcmV2aWV3IiwgInNlbGVjdE1lZGlhIiwgInJlbmRlclVzZWRJbiIsICJsaSIsICJzYXZpbmciLCAibWVkaWFJZCIsICJzaG93VXBsb2FkUHJldmlldyIsICJmaWxlIiwgImFwcGx5RmlsdGVycyIsICJ0eXBlRmlsdGVyIiwgImxvYWRNZWRpYSIsICJoYW5kbGVGaWxlU2VsZWN0aW9uIiwgInJlYWRGaWxlQXNCYXNlNjQiLCAicmVzb2x2ZSIsICJyZWplY3QiLCAicmVhZGVyIiwgImJhc2U2NCIsICJ1cGxvYWRTZWxlY3RlZE1lZGlhIiwgImRlbGV0ZUFjdGl2ZU1lZGlhIiwgImRpc2FibGVCdXR0b25zIiwgImVuYWJsZUJ1dHRvbnMiLCAidXBkYXRlZCJdCn0K
