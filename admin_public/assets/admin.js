(()=>{document.addEventListener("DOMContentLoaded",()=>{console.log("[admin] Atelier charg\xE9");let Gt=document.querySelector("[data-logout]");Gt&&Gt.addEventListener("click",async()=>{Gt.disabled=!0;try{await fetch("/api/logout",{method:"POST",headers:{"Content-Type":"application/json"}})}catch(o){console.error("[admin] Impossible de se d\xE9connecter",o)}finally{window.location.href="/admin/index.html"}});let pt=document.querySelector("[data-admin-sidebar]"),xe=document.querySelector("[data-admin-sidebar-overlay]"),bs=document.querySelectorAll("[data-admin-sidebar-toggle]"),Js=document.querySelectorAll("[data-admin-sidebar-close]"),_t=document.body,kt=!1,qt=()=>{if(!pt)return;if(window.matchMedia("(min-width: 1024px)").matches){pt.classList.remove("hidden"),xe==null||xe.classList.add("hidden"),_t.classList.remove("overflow-hidden");return}kt?(pt.classList.remove("hidden"),xe==null||xe.classList.remove("hidden"),_t.classList.add("overflow-hidden")):(pt.classList.add("hidden"),xe==null||xe.classList.add("hidden"),_t.classList.remove("overflow-hidden"))},Ws=()=>{kt=!0,qt()},Yt=()=>{kt=!1,qt()};pt&&bs.length>0&&(bs.forEach(o=>{o.addEventListener("click",Ws)}),Js.forEach(o=>{o.addEventListener("click",Yt)}),xe==null||xe.addEventListener("click",Yt),window.addEventListener("resize",qt),window.addEventListener("keydown",o=>{o.key==="Escape"&&kt&&Yt()}),qt());let xs="clower:currentSite",ws="clower:currentSiteName",Z={slug:null,name:""};(()=>{try{Z.slug=window.localStorage.getItem(xs),Z.name=window.localStorage.getItem(ws)||""}catch{Z.slug=null,Z.name=""}})();let Kt=document.querySelectorAll("[data-site-card]"),Gs=document.querySelectorAll("[data-site-select]"),ft=document.querySelector("[data-current-site-name]"),Ss=document.querySelector("[data-workspace-site-name]"),Ls=document.querySelector("[data-workspace-back-name]"),Ye=document.querySelector("[data-workspace-back-modal]"),_s=document.querySelectorAll("[data-workspace-back]"),Ys=document.querySelectorAll("[data-workspace-back-cancel]"),Xt=document.querySelector("[data-workspace-back-confirm]"),Ks=document.querySelectorAll("[data-workspace-tab]"),Zt=document.querySelector("[data-site-toast]"),Cs=document.querySelector("[data-site-toast-message]"),Xs=document.querySelectorAll("[data-site-create]"),me=document.querySelector("[data-site-modal]"),He=document.querySelector("[data-site-form]"),ke=document.querySelector("[data-site-name]"),Be=document.querySelector("[data-site-slug]"),ye=document.querySelector("[data-site-slug-error]"),Te=document.querySelector("[data-site-modal-error]"),Zs=document.querySelectorAll("[data-site-modal-cancel]"),ot=document.querySelector("[data-site-modal-submit]"),z=an(),At=!1,Ft=null,Qt=null,Qs='a[href], button:not([disabled]), textarea, input, select, [tabindex]:not([tabindex="-1"])',Es=o=>{if(!me||me.classList.contains("hidden")||o.key!=="Tab")return;let g=Array.from(me.querySelectorAll(Qs)).filter(I=>!I.hasAttribute("disabled")&&!I.getAttribute("aria-hidden"));if(g.length===0)return;let x=g[0],A=g[g.length-1];o.shiftKey?document.activeElement===x&&(o.preventDefault(),A.focus()):document.activeElement===A&&(o.preventDefault(),x.focus())},P=o=>{!Zt||!Cs||(Cs.textContent=o,Zt.classList.remove("hidden"),Qt&&clearTimeout(Qt),Qt=setTimeout(()=>{Zt.classList.add("hidden")},2500))};function ze(o){return o?o.startsWith("/")?o:`/${o}`:""}function we(o){return(o==null?void 0:o.replace(/^\//,""))||""}let It=(o,g)=>{let x=o?ze(o):null;try{x&&(window.localStorage.setItem(xs,x),Z.slug=x),typeof g=="string"&&g.length>0&&(window.localStorage.setItem(ws,g),Z.name=g)}catch{Z.slug=x||Z.slug,Z.name=g||Z.name}},ks=o=>{ft&&o&&(ft.textContent=o),Ss&&o&&(Ss.textContent=o),Ls&&o&&(Ls.textContent=o)},es=o=>{Ks.forEach(g=>{let x=g.dataset.workspaceTab;if(!x)return;if(!o){g.href="#",g.classList.add("pointer-events-none","opacity-50","text-slate-400"),g.setAttribute("aria-disabled","true");return}let A=encodeURIComponent(we(o));g.href=`/admin/site/${A}/${x}`,g.classList.remove("pointer-events-none","opacity-50","text-slate-400"),g.removeAttribute("aria-disabled")})},Bt=(o,g={})=>{if(!o)return;let x=ze(o),A=g.siteName||Z.name||(ft==null?void 0:ft.dataset.defaultSiteName)||"";Kt.forEach(C=>{let J=ze(C.dataset.siteCard||"")===x,$=C.querySelector("[data-site-active-badge]");J?(C.classList.add("border-[#9C6BFF]","ring-2","ring-[#9C6BFF]","shadow-md"),C.classList.remove("border-slate-200"),$==null||$.classList.remove("hidden"),A=C.dataset.siteName||A):(C.classList.remove("border-[#9C6BFF]","ring-2","ring-[#9C6BFF]","shadow-md"),C.classList.add("border-slate-200"),$==null||$.classList.add("hidden"))}),g.persist!==!1&&It(x,g.siteName||A);let I=g.siteName||A;ks(I),es(x)},en=async(o,g)=>{let x=ze(o);try{let A=await fetch("/api/sites/select",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({slug:x})});if(!A.ok){let $=await A.json().catch(()=>({}));P($.message||"Impossible de s\xE9lectionner ce site.");return}let I=await A.json().catch(()=>({})),C=ze(I.slug||x),W=I.name||g;It(C,W),Bt(C,{siteName:W,persist:!1});let J=encodeURIComponent(we(C));window.location.href=`/admin/site/${J}/design`}catch(A){console.error("[admin] Impossible de s\xE9lectionner le site",A),P("Erreur inattendue lors de la s\xE9lection.")}},tn=async()=>{try{let o=await fetch("/api/sites/current",{credentials:"same-origin"});if(!o.ok){o.status===404&&z&&(window.location.href="/admin/sites");return}let g=await o.json(),x=ze(g.slug);It(x,g.name),Bt(x,{siteName:g.name,persist:!1})}catch(o){console.warn("[admin] Impossible de r\xE9cup\xE9rer le site actif",o)}};(()=>{if(Z.slug){Bt(Z.slug,{siteName:Z.name,persist:!1});return}let o=document.querySelector('[data-site-card][data-site-default="true"]')||Kt[0];o&&Bt(o.dataset.siteCard,{siteName:o.dataset.siteName||"",persist:!1})})(),tn(),z?es(z.slugValue):Z.slug&&es(Z.slug),Gs.forEach(o=>{o.addEventListener("click",()=>{if(o.disabled)return;let g=o.dataset.siteSelect,x=o.dataset.siteSelectName||"Ce site";g&&(o.disabled=!0,en(g,x).finally(()=>{o.disabled=!1}))})});let gt=o=>o.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),sn=o=>{let g=gt(o||"");return g?`/${g}`:""},nn=()=>{me&&(Ft=document.activeElement,me.classList.remove("hidden"),me.classList.add("flex"),At=!1,He==null||He.reset(),ye&&(ye.textContent=""),Te&&(Te.textContent=""),Be&&ke&&(Be.value=gt(ke.value)),document.addEventListener("keydown",Es),window.setTimeout(()=>{ke==null||ke.focus()},0))},Tt=()=>{me&&(me.classList.add("hidden"),me.classList.remove("flex"),document.removeEventListener("keydown",Es),At=!1,He==null||He.reset(),ye&&(ye.textContent=""),Te&&(Te.textContent=""),Ft==null||Ft.focus())};Xs.forEach(o=>{o.addEventListener("click",nn)}),Zs.forEach(o=>{o.addEventListener("click",Tt)}),me==null||me.addEventListener("click",o=>{o.target===me&&Tt()}),ke==null||ke.addEventListener("input",()=>{Be&&(!At||Be.value.trim().length===0)&&(Be.value=gt(ke.value))}),Be==null||Be.addEventListener("input",()=>{At=!0,ye&&(ye.textContent="")});let on=()=>new Set(Array.from(Kt).map(o=>ze(o.dataset.siteCard||"")));He==null||He.addEventListener("submit",async o=>{if(o.preventDefault(),!ke||!Be)return;let g=(ke.value||"").trim(),x=Be.value||"";x||(x=g);let A=sn(x);if(!g||!A){ye&&(ye.textContent="Nom et slug sont requis.");return}if(on().has(A)){ye&&(ye.textContent="Ce slug est d\xE9j\xE0 utilis\xE9.");return}ye&&(ye.textContent=""),Te&&(Te.textContent=""),ot&&(ot.disabled=!0,ot.textContent="Cr\xE9ation...");try{let C=await fetch("/api/sites",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:g,slug:A})});if(!C.ok){let q=await C.json().catch(()=>({})),p=q.message||"Impossible de cr\xE9er ce site.";Te&&(Te.textContent=p),q.field==="slug"&&ye&&(ye.textContent=p);return}let W=await C.json(),J=ze((W==null?void 0:W.slug)||A),$=(W==null?void 0:W.name)||g;It(J,$),Tt();let F=encodeURIComponent(we(J));window.location.href=`/admin/site/${F}/design`}catch(C){console.error("[admin] Impossible de cr\xE9er le site",C),Te&&(Te.textContent="Erreur inattendue. R\xE9essaie dans un instant.")}finally{ot&&(ot.disabled=!1,ot.textContent="Cr\xE9er")}}),window.addEventListener("keydown",o=>{o.key==="Escape"&&(me&&!me.classList.contains("hidden")&&Tt(),Ye&&!Ye.classList.contains("hidden")&&qs(),blockDeleteModal&&!blockDeleteModal.classList.contains("hidden")&&closeBlockDeleteModal(),blockLibraryOpen&&closeBlockLibrary())});function an(){let o=window.location.pathname.match(/^\/admin\/site\/([^/]+)(?:\/([^/]+))?/);return o?{slugPart:decodeURIComponent(o[1]),slugValue:ze(decodeURIComponent(o[1])),section:o[2]||"design"}:null}function rn(){return document.querySelector("[data-page-list]")?"design":document.querySelector("[data-collection-list]")?"content":document.querySelector("[data-media-grid]")?"media":document.querySelector("[data-deploy-form]")?"deploy":null}function ln(){if(!Ye){window.location.href="/admin/sites";return}Ye.classList.remove("hidden"),Ye.classList.add("flex")}function qs(){Ye&&(Ye.classList.add("hidden"),Ye.classList.remove("flex"))}_s.forEach(o=>{o.addEventListener("click",ln)}),Ys.forEach(o=>{o.addEventListener("click",qs)}),Xt==null||Xt.addEventListener("click",()=>{window.location.href="/admin/sites"});let ht=(z==null?void 0:z.section)||rn();ht==="design"&&cn(),ht==="content"&&dn(),ht==="media"&&pn(),ht==="deploy"&&un(),ht==="settings"&&mn(),z&&Z.name&&ks(Z.name);function cn(){let o=document.querySelectorAll("[data-page-list]");if(o.length===0)return;let g=document.querySelector("[data-active-page-title]"),x=document.querySelector("[data-active-page-slug]"),A=document.querySelector("[data-page-preview-tags]"),I=document.querySelector("[data-page-preview-frame]"),C=document.querySelector("[data-preview-open]"),W=document.querySelector("[data-preview-status]"),J=document.querySelector("[data-preview-highlight]"),$=document.querySelector("[data-seo-toggle]"),F=document.querySelector("[data-seo-panel]"),q=document.querySelector("[data-seo-close]"),p=document.querySelector("[data-seo-form]"),w=document.querySelector("[data-seo-title]"),f=document.querySelector("[data-seo-description]"),d=document.querySelector("[data-seo-indexed]"),E=document.querySelector("[data-seo-feedback]"),T=document.querySelector("[data-seo-save]"),a=document.querySelector("[data-blocks-list]"),k=document.querySelector("[data-blocks-empty]"),B=document.querySelector("[data-block-count]"),X=document.querySelector("[data-block-library-toggle]"),U=document.querySelector("[data-block-library]"),G=document.querySelectorAll("[data-block-add]"),Y=document.querySelector("[data-block-delete-modal]"),V=document.querySelector("[data-block-delete-confirm]"),D=document.querySelector("[data-block-delete-cancel]"),N=document.querySelector("[data-block-detail-empty]"),H=document.querySelector("[data-block-detail-status]"),h=document.querySelector("[data-block-editor]"),l=document.querySelector("[data-block-editor-block-name]"),u=document.querySelector("[data-block-editor-block-type]"),S=document.querySelector("[data-block-editor-unsupported]"),m=document.querySelector("[data-block-form]"),se=m?Array.from(m.querySelectorAll("[data-editor-section]")):[],oe=document.querySelectorAll("[data-block-tab]"),le="content",ae=e=>{le=e,oe.forEach(s=>{let n=s.dataset.blockTab===e;s.setAttribute("aria-selected",n?"true":"false"),n?(s.classList.add("text-[#9C6BFF]"),s.classList.remove("text-slate-500","hover:text-slate-700"),s.classList.add("after:absolute","after:bottom-0","after:left-0","after:right-0","after:h-0.5","after:bg-[#9C6BFF]")):(s.classList.remove("text-[#9C6BFF]"),s.classList.add("text-slate-500","hover:text-slate-700"),s.classList.remove("after:absolute","after:bottom-0","after:left-0","after:right-0","after:h-0.5","after:bg-[#9C6BFF]"))});let t=m==null?void 0:m.querySelector("[data-editor-section]:not(.hidden)");t&&t.querySelectorAll("[data-block-panel]").forEach(n=>{n.dataset.blockPanel===e?n.classList.remove("hidden"):n.classList.add("hidden")}),Se&&ie&&(e==="content"?(Se.classList.remove("hidden"),ie.classList.add("hidden")):(Se.classList.add("hidden"),ie.classList.remove("hidden")))};oe.forEach(e=>{e.addEventListener("click",()=>{ae(e.dataset.blockTab)})});let Q=m==null?void 0:m.querySelector('[name="collection-grid-collection"]'),re=m==null?void 0:m.querySelector("[data-collection-selection-info]"),te=document.querySelector("[data-block-form-cancel]"),Se=document.querySelector("[data-block-form-actions]"),ie=document.querySelector("[data-block-form-autosave]"),$e=m==null?void 0:m.querySelector("[data-group-preview-mobile]"),ce=m==null?void 0:m.querySelector("[data-group-preview-desktop]"),qe=m==null?void 0:m.querySelector("[data-collection-preview-mobile]"),Le=m==null?void 0:m.querySelector("[data-collection-preview-desktop]"),Ve={hero:{section:"hero",labelField:"title",descriptionField:"subtitle",fields:{title:"hero-title",subtitle:"hero-subtitle",ctaLabel:"hero-cta-label",ctaUrl:"hero-cta-url",image:"hero-image",layout:"hero-layout",height:"hero-height",contentAlign:"hero-content-align",overlay:"hero-overlay",titleSize:"hero-title-size",bg:"hero-bg",borderRadius:"hero-border-radius",shadow:"hero-shadow"}},paragraphe:{section:"paragraph",labelField:"title",descriptionField:"content",fields:{title:"paragraph-title",content:"paragraph-content",align:"paragraph-align",titleSize:"paragraph-title-size",textSize:"paragraph-text-size",spacing:"paragraph-spacing",bg:"paragraph-bg",borderRadius:"paragraph-border-radius",shadow:"paragraph-shadow"}},image:{section:"image",labelField:"alt",fields:{src:"image-src",alt:"image-alt",showCaption:"image-caption-toggle",caption:"image-caption",rounded:"image-rounded",shadow:"image-shadow",maxWidth:"image-max-width",align:"image-align",bg:"image-bg",borderRadius:"image-border-radius"}},groupe:{section:"group",fields:{columnsMobile:"group-columns-mobile",columnsDesktop:"group-columns-desktop",gap:"group-gap",itemsAlign:"group-items-align",bg:"group-bg",borderRadius:"group-border-radius",shadow:"group-shadow"}},collectiongrid:{section:"collection",fields:{collectionId:"collection-grid-collection",limit:"collection-grid-limit",columnsMobile:"collection-columns-mobile",columnsDesktop:"collection-columns-desktop",gap:"collection-gap",itemsAlign:"collection-items-align",cardRounded:"collection-card-rounded",bg:"collection-bg",borderRadius:"collection-border-radius",shadow:"collection-shadow"}},form:{section:"form",labelField:"formTitle",fields:{formTitle:"form-title",actionUrl:"form-action-url",method:"form-method",serviceName:"form-service-name",submitLabel:"form-submit-label",successMessage:"form-success-message",maxWidth:"form-max-width",align:"form-align",buttonRounded:"form-button-rounded",spacing:"form-spacing",bg:"form-bg",borderRadius:"form-border-radius",shadow:"form-shadow"}},newsletterembed:{section:"newsletter",labelField:"title",fields:{title:"newsletter-title",serviceName:"newsletter-service-name",embedCode:"newsletter-embed-code",maxWidth:"newsletter-max-width",align:"newsletter-align",padding:"newsletter-padding",bg:"newsletter-bg",borderRadius:"newsletter-border-radius",shadow:"newsletter-shadow"}}},Ze={texte:"paragraphe",paragraph:"paragraphe",paragraphs:"paragraphe",paragraphes:"paragraphe",text:"paragraphe",hero:"hero",image:"image",groupe:"groupe",group:"groupe",collection:"collectiongrid",collectiongrid:"collectiongrid","collection-grid":"collectiongrid",form:"form",formulaire:"form",contact:"form",newsletterembed:"newsletterembed",newsletter:"newsletterembed",embed:"newsletterembed"},Qe=(e,t)=>{if(!$e||!ce)return;let s=n=>Array.from({length:Number(n)||1}).map(()=>'<span class="block h-2 w-full rounded-full bg-slate-300"></span>').join("");$e.innerHTML=s(e),ce.innerHTML=s(t)},Je=(e,t)=>{if(!qe||!Le)return;let s=n=>Array.from({length:Number(n)||1}).map(()=>'<span class="block h-2 w-full rounded-full bg-violet-300"></span>').join("");qe.innerHTML=s(e),Le.innerHTML=s(t)},et=async()=>{if(!Ee)return[];let e=await fetch(Ee,{headers:{Accept:"application/json"}});if(!e.ok)throw new Error("Impossible de charger les pages.");let t=await e.json().catch(()=>[]);return Array.isArray(t)?t:[]},at=async({title:e,slug:t})=>{if(!Ee)throw new Error("Site inconnu.");let s=await fetch(Ee,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e,slug:t})});if(!s.ok){let n=await s.json().catch(()=>({}));throw new Error(n.message||"Impossible de cr\xE9er la page.")}return s.json().catch(()=>({}))},c=async e=>{if(!(!Ee||!(e!=null&&e.id)))try{let t=await fetch(`${Ee}/${encodeURIComponent(e.id)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){let n=await t.json().catch(()=>({}));throw new Error(n.message||"Impossible de sauvegarder la page.")}let s=await t.json().catch(()=>({}));if(s!=null&&s.id){let n=St(s);return ee=ee.map(i=>i.id===n.id?n:i),(v==null?void 0:v.id)===n.id&&(v=n),n}return s}catch(t){console.error("[design] Save page failed",t),P(t.message||"Sauvegarde impossible.")}},L=async()=>{if(!Ee){ee=[],ge=null,v=null,ct(ee,ge),lt(null),N==null||N.classList.remove("hidden"),h==null||h.classList.add("hidden");return}try{let e=await et();if(ee=(Array.isArray(e)?e:[]).map(t=>St(t)),ee.length===0){ge=null,v=null,ct(ee,ge),lt(null),N==null||N.classList.remove("hidden"),h==null||h.classList.add("hidden"),I&&(I.srcdoc=r());return}ge=Sn(ee),Fe(ge)}catch(e){console.error("[design] Impossible de charger les pages",e),P("Impossible de charger les pages.")}},_=e=>(e||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),O=e=>{if(!e)return null;let t=_(e.type),s=Ze[t]||t;return Ve[s]||null},Ke=e=>{var s,n,i,y,M;if(!m||!h)return;e&&!e.settings&&(e.settings={});let t=O(e);if(l&&(l.textContent=(e==null?void 0:e.label)||"Bloc"),u&&(u.textContent=(e==null?void 0:e.type)||"Bloc"),!t){m.classList.add("hidden"),S==null||S.classList.remove("hidden"),m.dataset.blockId="";return}if(S==null||S.classList.add("hidden"),m.classList.remove("hidden"),m.reset(),m.dataset.blockId=e.id,se.forEach(R=>{R.dataset.editorSection===t.section?R.classList.remove("hidden"):R.classList.add("hidden")}),ae("content"),t.section==="collection"){let R=e.collectionId||((s=e.settings)==null?void 0:s.collectionId)||"";zt(R)}if(Object.entries(t.fields).forEach(([R,ne])=>{var mt;let he=m.querySelector(`[name="${ne}"]`);if(!he)return;let be=(mt=e.settings)==null?void 0:mt[R];he.type==="checkbox"?he.checked=!!be:he.type==="number"?he.value=be!=null?be:1:(he.tagName,he.value=be!=null?be:"")}),t.section==="group"){let R=((n=m.querySelector('[name="group-columns-mobile"]'))==null?void 0:n.value)||"1",ne=((i=m.querySelector('[name="group-columns-desktop"]'))==null?void 0:i.value)||"3";Qe(R,ne)}if(t.section==="collection"){let R=((y=m.querySelector('[name="collection-columns-mobile"]'))==null?void 0:y.value)||"1",ne=((M=m.querySelector('[name="collection-columns-desktop"]'))==null?void 0:M.value)||"3";Je(R,ne)}},We=e=>{if(!m||!e)return{};let t={};return Object.entries(e.fields).forEach(([s,n])=>{let i=m.querySelector(`[name="${n}"]`);if(i)if(i.type==="checkbox")t[s]=i.checked;else if(i.type==="number"){let y=Number(i.value);t[s]=Number.isFinite(y)?y:0}else i.tagName==="TEXTAREA"?t[s]=i.value||"":i.type==="select-one"?t[s]=i.value:t[s]=i.value||""}),t},je=e=>{if(W){if(!e){W.classList.add("hidden");return}W.classList.remove("hidden"),W.textContent=e}},$t=e=>e?{id:e.id,title:e.title,slug:e.slug,badges:[...e.badges||[]],blocks:(e.blocks||[]).map(t=>{var s;return{id:t.id,type:t.type,label:t.label,status:t.status,description:t.description,props:t.props||[],settings:t.settings||{},collectionId:t.collectionId||((s=t.settings)==null?void 0:s.collectionId)||""}})}:null,r=()=>'<!DOCTYPE html><html><body style="font-family:Inter,sans-serif;padding:40px;color:#475569;background:#fff;">Pr\xE9paration de la pr\xE9visualisation\u2026</body></html>',b=(e,t)=>{let s;return(...n)=>{clearTimeout(s),s=setTimeout(()=>e(...n),t)}},j=null,K=()=>{if(!v||!ue)return;let e=dt(),t=O(e);if(!e||!t)return;let s=We(t),n=(v.blocks||[]).map(y=>{if(y.id!==e.id)return y;let M={...y.settings||{},...s};return{...y,settings:M}}),i={...v,blocks:n};v=i,c(i)},de=(e,t)=>{!I||!I.contentWindow||I.contentWindow.postMessage({type:"updateBlockStyles",blockId:e,settings:t},"*")},yt=b(()=>{K(),je("Sauvegard\xE9"),setTimeout(()=>je("\xC0 jour"),1500)},800),tt=b(()=>{v&&rt(v)},1500),Ge=(e,t)=>{de(e,t),je("Modification\u2026"),yt(),tt()},rt=e=>{if(!I||!e)return;let t=(z==null?void 0:z.slugValue)||Z.slug||"",s={page:$t(e),site:{title:Z.name||"Site",slug:t}};fs=!1,je("Actualisation\u2026"),I.srcdoc=r(),wt&&wt.abort();let n=new AbortController;wt=n,fetch("/api/preview",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s),signal:n.signal}).then(i=>{if(!i.ok)throw new Error("Preview error");return i.json()}).then(i=>{n.signal.aborted||(ps=i.html||"",I.setAttribute("title",`Pr\xE9visualisation de la page ${e.title||""}`.trim()),I.srcdoc=ps||r(),je("\xC0 jour"))}).catch(i=>{n.signal.aborted||(console.error("[preview] Impossible de rendre la page",i),je("Erreur preview"),I.srcdoc='<!DOCTYPE html><html><body style="font-family:Inter,sans-serif;padding:40px;color:#be123c;background:#fff;">Erreur lors du rendu de la pr\xE9visualisation.</body></html>')}).finally(()=>{wt===n&&(wt=null)})},jt=e=>{if(e.preventDefault(),!v||!ue)return;let t=dt(),s=O(t);if(!t||!s)return;let n=We(s);if(s.section==="collection"){if(!n.collectionId){P("S\xE9lectionnez une collection.");return}n.limit=Math.max(1,Number(n.limit)||1)}let i=(v.blocks||[]).map(y=>{if(y.id!==t.id)return y;let M={...y.settings||{},...n},R={...y,settings:M};return s.labelField&&n[s.labelField]&&(R.label=n[s.labelField]),s.descriptionField&&n[s.descriptionField]&&(R.description=n[s.descriptionField]),s.section==="collection"&&(R.collectionId=n.collectionId,R.settings.collectionId=n.collectionId,R.settings.limit=n.limit),R});ut(i),P("Bloc mis \xE0 jour"),Fe(v.id,{preserveBlock:!0})},Pe=document.querySelector("[data-page-drawer]"),pe=document.querySelector("[data-page-drawer-backdrop]"),fn=document.querySelectorAll("[data-page-drawer-open]"),gn=document.querySelectorAll("[data-page-drawer-close]"),st=document.querySelector("[data-add-page-toggle]"),Ae=document.querySelector("[data-add-page-form]"),Ne=document.querySelector("[data-add-page-title]"),Me=document.querySelector("[data-add-page-slug]"),ts=document.querySelector("[data-add-page-cancel]"),ve=document.querySelector("[data-add-page-error]"),it=Ae==null?void 0:Ae.querySelector('[type="submit"]'),ss=document.querySelector("[data-import-pages-toggle]"),De=document.querySelector("[data-import-modal]"),hn=document.querySelectorAll("[data-import-modal-close]"),Ce=document.querySelector("[data-import-dropzone]"),ns=document.querySelector("[data-import-file-input]"),os=document.querySelector("[data-import-file-list]"),As=document.querySelector("[data-import-file-names]"),Pt=document.querySelector("[data-import-results]"),Nt=document.querySelector("[data-import-results-content]"),fe=document.querySelector("[data-import-submit]"),Fs=document.querySelectorAll("[data-import-tab]"),yn=document.querySelectorAll("[data-import-panel]"),as=document.querySelector("[data-copy-template]"),Is=document.querySelector("[data-template-json]"),Xe=[],Re=document.querySelector("[data-delete-page-modal]"),Bs=document.querySelector("[data-delete-page-name]"),rs=document.querySelector("[data-delete-page-cancel]"),_e=document.querySelector("[data-delete-page-confirm]"),vt=null,vn=we((z==null?void 0:z.slugValue)||Z.slug||"default")||"default",bn=(z==null?void 0:z.slugValue)||Z.slug||"",Mt=we(bn)||"",Ee=Mt?`/api/sites/${encodeURIComponent(Mt)}/pages`:null,Ts=Mt?`/api/sites/${encodeURIComponent(Mt)}/collections`:null,$s={active:`clower:activePage:${vn}`},is=(e,t,s,n,i,y=[],M={})=>{let R={id:e,label:t,type:s,status:n,description:i,props:y,settings:{...M}};return R.settings.collectionId&&(R.collectionId=R.settings.collectionId),R},xn={hero:{type:"Hero",label:"Hero de page",description:"Section pleine largeur avec CTA principal.",status:"Brouillon",props:[{label:"CTA",value:"D\xE9couvrir"},{label:"Hauteur",value:"80vh"}],settings:{title:"Titre du hero",subtitle:"",ctaLabel:"D\xE9couvrir",ctaUrl:"#",image:"",align:"center"}},paragraph:{type:"Paragraphe",label:"Bloc \xE9ditorial",description:"Paragraphe libre pour raconter votre histoire.",status:"Brouillon",props:[{label:"Longueur",value:"150 mots"}],settings:{title:"Titre du paragraphe",content:"",align:"left"}},image:{type:"Image",label:"Bloc image",description:"Visuel seul avec l\xE9gende optionnelle.",status:"Brouillon",props:[{label:"Ratio",value:"16:9"},{label:"L\xE9gende",value:"Inactive"}],settings:{src:"",alt:"",showCaption:!1,caption:""}},group:{type:"Groupe",label:"Groupe de sections",description:"Conteneur pour imbriquer plusieurs sous-blocs.",status:"Brouillon",props:[{label:"Disposition",value:"Verticale"}],settings:{layout:"grid",columnsMobile:"1",columnsDesktop:"3"}},collectiongrid:{type:"CollectionGrid",label:"Grille de contenus",description:"Affiche automatiquement les items d\u2019une collection.",status:"Brouillon",settings:{collectionId:"",limit:6}},form:{type:"Form",label:"Formulaire de contact",description:"Formulaire avec envoi vers un service externe.",status:"Brouillon",settings:{formTitle:"Contactez-nous",actionUrl:"",method:"POST",serviceName:"",submitLabel:"Envoyer",successMessage:"Merci pour votre message !"}},newsletterembed:{type:"NewsletterEmbed",label:"Newsletter / Embed",description:"Int\xE9gration d'un formulaire newsletter externe (Brevo, Mailchimp\u2026).",status:"Brouillon",settings:{title:"Restez inform\xE9",serviceName:"",embedCode:""}}},wn=e=>{try{window.localStorage.setItem($s.active,e)}catch{}},Sn=e=>{var t;try{let s=window.localStorage.getItem($s.active);if(s&&e.some(n=>n.id===s))return s}catch{}return((t=e[0])==null?void 0:t.id)||null},Ln=e=>!e||e<=0?"0 bloc":e===1?"1 bloc":`${e} blocs`,js=e=>{if(!e||e==="/")return"/";let t=gt(e.replace(/^\//,""));return t?`/${t}`:"/"},ls=(e="page",t="block")=>`${e}-${t}-${Date.now().toString(36)}-${Math.floor(Math.random()*1e3)}`,Xn=(e,t)=>[is(ls(e,"intro"),"Introduction","Paragraphe","Brouillon",`Paragraphe introductif pour "${t}".`,[{label:"Longueur",value:"2 paragraphes"}],{title:`Introduction \xE0 ${t}`,content:"Ajoutez votre premier paragraphe de pr\xE9sentation.",align:"left"}),is(ls(e,"content"),"Zone de contenu","Groupe","Brouillon","Section principale \xE0 composer avec textes et visuels.",[{label:"Colonnes",value:"Auto"}],{layout:"grid",columnsMobile:"1",columnsDesktop:"2"})],Cn=e=>{g&&(g.textContent=(e==null?void 0:e.title)||"Page"),x&&(x.textContent=(e==null?void 0:e.slug)||"/")},En=e=>{if(!A)return;A.innerHTML="",(e&&e.badges&&e.badges.length>0?e.badges:["Structure en cours"]).forEach(s=>{let n=document.createElement("span");n.className="rounded-full bg-slate-100 px-3 py-1",n.textContent=s,A.appendChild(n)})},kn=e=>{switch((e||"").toLowerCase()){case"en ligne":return"bg-emerald-50 text-emerald-700";case"brouillon":return"bg-amber-50 text-amber-700";default:return"bg-slate-100 text-slate-600"}},Dt=e=>{if(!(!N||!h)){if(!e){N.classList.remove("hidden"),h.classList.add("hidden"),S==null||S.classList.add("hidden"),m==null||m.classList.add("hidden"),H==null||H.classList.add("hidden");return}N.classList.add("hidden"),h.classList.remove("hidden"),H&&(e.status?(H.textContent=e.status,H.className=`rounded-full px-3 py-1 text-xs font-semibold ${kn(e.status)}`,H.classList.remove("hidden")):H.classList.add("hidden")),Ke(e)}},bt=e=>{if(!I)return;let t=I.contentDocument;if(!t)return;t.querySelectorAll("[data-preview-block]").forEach(n=>{n.dataset.previewBlock===e?(n.classList.add("preview-block-active"),fs&&e&&n.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})):n.classList.remove("preview-block-active")}),J&&(J.style.borderColor=e?"rgba(156, 107, 255, 0.5)":"transparent")},lt=e=>{if(!a)return;a.innerHTML="";let t=(e==null?void 0:e.blocks)||[];if(B&&(B.textContent=Ln(t.length)),t.length===0){a.classList.add("hidden"),k==null||k.classList.remove("hidden");return}a.classList.remove("hidden"),k==null||k.classList.add("hidden"),t.forEach(s=>{var Vs;let n=s.id===ue,i=document.createElement("div");i.dataset.blockItem="true",i.dataset.blockId=s.id,i.setAttribute("role","option"),i.setAttribute("aria-selected",n?"true":"false"),i.setAttribute("draggable","true"),i.tabIndex=0,i.className=["relative flex items-center gap-3 rounded-2xl border px-3 py-2 text-left transition group",n?"bg-slate-100 border-[#9C6BFF]/40 shadow-sm":"border-slate-200 hover:border-[#9C6BFF]/40"].join(" ");let y=document.createElement("span");y.className=`absolute inset-y-2 left-0 w-1 rounded-full bg-[#9C6BFF] ${n?"":"hidden"}`,i.appendChild(y);let M=document.createElement("div");M.className="flex flex-1 items-center gap-3";let R=document.createElement("div");R.className="hidden lg:flex cursor-grab active:cursor-grabbing flex-shrink-0 items-center text-lg text-slate-400 hover:text-slate-600 transition-colors select-none",R.innerHTML="\u22EE\u22EE",R.setAttribute("title","Glisser pour r\xE9ordonner"),M.appendChild(R);let ne=document.createElement("div");ne.className="flex-1";let he=document.createElement("div");he.className="flex items-center gap-2 text-[11px] uppercase tracking-wide text-slate-500";let be=document.createElement("span");be.className="rounded-full bg-slate-100 px-2 py-0.5 text-[10px] font-semibold text-slate-600",be.textContent=s.type;let mt=document.createElement("span");mt.className="text-slate-400",mt.textContent=s.status,he.appendChild(be),he.appendChild(mt);let ys=document.createElement("p");ys.className="mt-1 text-sm font-semibold text-slate-900";let Gn=s.settings&&s.settings.title||s.label||"Bloc sans titre";if(ys.textContent=Gn,ne.appendChild(he),ne.appendChild(ys),(s.type||"").toLowerCase()==="collectiongrid"&&s.collectionId){let Ie=((Vs=Oe.find(_n=>_n.id===s.collectionId))==null?void 0:Vs.name)||s.collectionId,vs=document.createElement("p");vs.className="text-xs text-slate-400",vs.textContent=`Collection : ${Ie}`,ne.appendChild(vs)}M.appendChild(ne),i.appendChild(M);let Jt=document.createElement("div");Jt.className="flex flex-col gap-1 text-xs text-slate-400";let Wt=document.createElement("div");Wt.className="flex items-center gap-1 lg:hidden";let Lt=document.createElement("button");Lt.type="button",Lt.className="rounded-lg border border-slate-200 px-2 py-1 text-[11px] font-semibold text-slate-500",Lt.textContent="\u2191",Lt.addEventListener("click",Ie=>{Ie.stopPropagation(),Ps(s.id,-1)});let Ct=document.createElement("button");Ct.type="button",Ct.className="rounded-lg border border-slate-200 px-2 py-1 text-[11px] font-semibold text-slate-500",Ct.textContent="\u2193",Ct.addEventListener("click",Ie=>{Ie.stopPropagation(),Ps(s.id,1)}),Wt.appendChild(Lt),Wt.appendChild(Ct),Jt.appendChild(Wt);let Et=document.createElement("button");Et.type="button",Et.className="inline-flex items-center justify-center rounded-lg border border-transparent px-2 py-1 text-[12px] text-rose-500 hover:text-rose-700",Et.innerHTML="\u{1F5D1}\uFE0F",Et.addEventListener("click",Ie=>{Ie.stopPropagation(),$n(s.id)}),Jt.appendChild(Et),i.appendChild(Jt),i.addEventListener("click",()=>{nt(s.id)}),i.addEventListener("keydown",Ie=>{(Ie.key==="Enter"||Ie.key===" ")&&(Ie.preventDefault(),nt(s.id))}),a.appendChild(i)})},qn=e=>{!Re||!e||(vt=e,Bs&&(Bs.textContent=e.title||e.id),Re.classList.remove("hidden"),Re.classList.add("flex"))},cs=()=>{Re&&(Re.classList.add("hidden"),Re.classList.remove("flex"),vt=null)},An=async()=>{if(!Ee||!vt)return;let e=vt.id,t=vt.title||e;_e&&(_e.disabled=!0,_e.textContent="Suppression...");try{let s=await fetch(`${Ee}/${encodeURIComponent(e)}`,{method:"DELETE",credentials:"include"}),n=await s.json();if(!s.ok)throw new Error(n.message||"Erreur serveur");ee=ee.filter(i=>i.id!==e),ge===e?ee.length>0?Fe(ee[0].id):(ge=null,v=null,ct(ee,null),lt(null),N==null||N.classList.remove("hidden"),h==null||h.classList.add("hidden"),I&&(I.srcdoc=r())):ct(ee,ge),cs(),P(`Page "${t}" supprim\xE9e`)}catch(s){console.error("[pages] delete failed",s),P(s.message||"Erreur suppression")}finally{_e&&(_e.disabled=!1,_e.textContent="Supprimer")}},ct=(e,t)=>{o.forEach(s=>{s.innerHTML="",e.forEach(n=>{let i=document.createElement("li");i.className="flex items-center gap-1";let y=document.createElement("button");y.type="button",y.dataset.pageId=n.id,y.className=["flex-1 flex items-center gap-3 px-3 py-2 text-left transition",t===n.id?"bg-[#9C6BFF]/10 text-slate-900 border border-[#9C6BFF]/40 rounded-xl shadow-sm":"text-slate-700 hover:bg-slate-50 rounded-xl"].join(" "),t===n.id?y.setAttribute("aria-current","page"):y.removeAttribute("aria-current"),y.innerHTML=`
            <span class="flex h-9 w-9 items-center justify-center rounded-xl border border-slate-200 bg-white text-slate-500">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                <path d="M6.5 4.5h7l4 4v11a1 1 0 0 1-1 1h-10a1 1 0 0 1-1-1v-14a1 1 0 0 1 1-1Z" stroke="currentColor" stroke-width="1.4" stroke-linejoin="round"/>
                <path d="M13.5 4.5v4a1 1 0 0 0 1 1h3" stroke="currentColor" stroke-width="1.4"/>
              </svg>
            </span>
            <div class="flex flex-col">
              <span class="text-sm font-semibold">${n.title}</span>
              <span class="text-xs text-slate-500">${n.slug}</span>
            </div>
          `,y.addEventListener("click",()=>{Fe(n.id),us()||ms()}),i.appendChild(y);let M=document.createElement("button");M.type="button",M.className="flex-shrink-0 p-2 text-slate-400 hover:text-rose-600 hover:bg-rose-50 rounded-lg transition",M.title="Supprimer cette page",M.setAttribute("aria-label",`Supprimer ${n.title}`),M.innerHTML=`
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M3 6h18M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2m3 0v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6h14ZM10 11v6M14 11v6"/>
            </svg>
          `,M.addEventListener("click",R=>{R.stopPropagation(),qn(n)}),i.appendChild(M),s.appendChild(i)})})},dt=()=>!v||!Array.isArray(v.blocks)?null:v.blocks.find(e=>e.id===ue)||null,nt=e=>{if(!v)return;if(!e){ue=null,lt(v),Dt(null),bt(null);return}let t=v.blocks.find(s=>s.id===e)||v.blocks[0]||null;ue=(t==null?void 0:t.id)||null,lt(v),Dt(t),bt(ue)},ut=e=>{if(!v)return;let t={...v,blocks:e};jn(t)},Rt=()=>window.matchMedia("(min-width: 1024px)").matches;function Ps(e,t){if(!v||!e||!t)return;let s=[...v.blocks||[]],n=s.findIndex(M=>M.id===e);if(n<0)return;let i=n+t;if(i<0||i>=s.length)return;let[y]=s.splice(n,1);s.splice(i,0,y),ut(s),Fe(v.id,{preserveBlock:!0}),nt(y.id)}function Zn(e,t){if(!v||!e||!t||e===t)return;let s=[...v.blocks||[]],n=s.findIndex(M=>M.id===e),i=s.findIndex(M=>M.id===t);if(n<0||i<0)return;let[y]=s.splice(n,1);s.splice(i,0,y),ut(s),Fe(v.id,{preserveBlock:!0}),nt(y.id)}function Fn(e,t,s){if(!v||!e||!t||e===t)return;let n=[...v.blocks||[]],i=n.findIndex(ne=>ne.id===e),y=n.findIndex(ne=>ne.id===t);if(i<0||y<0)return;let[M]=n.splice(i,1);i<y&&y--;let R=s==="before"?y:y+1;n.splice(R,0,M),ut(n),Fe(v.id,{preserveBlock:!0}),nt(M.id)}function Ns(){if(!a)return;let e=Rt();a.querySelectorAll("[data-block-item]").forEach(t=>{t.setAttribute("draggable",e?"true":"false")})}function Ot(){U&&(U.classList.add("hidden"),xt=!1)}function In(){U&&(U.classList.remove("hidden"),xt=!0)}function Bn(){xt?Ot():In()}function Tn(e){var y;if(!v||!e)return;let t=xn[e];if(!t)return;let s=(v.blocks||[]).filter(M=>M.type===t.type).length+1,n=is(ls(v.id,e),`${t.label} ${s}`,t.type,t.status,t.description,t.props,t.settings||{});if((t.type||"").toLowerCase()==="collectiongrid"){let M=((y=Oe[0])==null?void 0:y.id)||"";n.collectionId=M,n.settings.collectionId=M,n.settings.limit=n.settings.limit||6}let i=[...v.blocks||[],n];ut(i),Fe(v.id,{preserveBlock:!0}),nt(n.id),Ot(),P("Bloc ajout\xE9")}function Ms(e){var n,i;if(!v)return;let t=(v.blocks||[]).filter(y=>y.id!==e),s=e===ue?((n=t[0])==null?void 0:n.id)||null:ue||((i=t[0])==null?void 0:i.id)||null;ut(t),ue=s,Fe(v.id,{preserveBlock:!0}),ue?nt(ue):(Dt(null),bt(null)),P("Bloc supprim\xE9")}function ds(){Y&&(Y.classList.add("hidden"),Y.classList.remove("flex"),Ht=null)}function $n(e){if(!Y){Ms(e);return}Ht=e,Y.classList.remove("hidden"),Y.classList.add("flex")}let jn=e=>{if(!e)return;let t=St(e);ee=ee.map(s=>s.id===t.id?t:s),v=t,c(t)},Fe=(e,t={})=>{var i,y;let s=ee.find(M=>M.id===e)||ee[0]||null;v=s?St(s):null,ge=(s==null?void 0:s.id)||null,(!t.preserveBlock||!v||!v.blocks.some(M=>M.id===ue))&&(ue=((y=(i=v==null?void 0:v.blocks)==null?void 0:i[0])==null?void 0:y.id)||null),ge&&wn(ge),ct(ee,ge),Cn(v),En(v),rt(v),lt(v),Dt(dt()),bt(ue),Ns(),xt&&Ot()},us=()=>window.matchMedia("(min-width: 1024px)").matches,Ds=()=>{Pe&&(us()?(Pe.classList.add("is-open"),pe==null||pe.classList.add("hidden"),document.body.classList.remove("overflow-hidden")):Pe.classList.remove("is-open"))},Pn=()=>{!Pe||us()||(Pe.classList.add("is-open"),pe==null||pe.classList.remove("hidden"),document.body.classList.add("overflow-hidden"))},ms=()=>{Pe&&(Pe.classList.remove("is-open"),pe==null||pe.classList.add("hidden"),document.body.classList.remove("overflow-hidden"))},Nn=()=>{!Ae||!st||(Ae.classList.remove("hidden"),st.classList.add("hidden"),ve&&(ve.textContent=""),Ut=!1,Ne&&(Ne.value="",Ne.focus()),Me&&(Me.value=""))},Rs=()=>{!Ae||!st||(Ae.classList.add("hidden"),st.classList.remove("hidden"),ve&&(ve.textContent=""),Ut=!1,Ae.reset())},Mn=()=>{!Ne||!Me||Ut&&Me.value.trim().length>0||(Me.value=js(Ne.value))},ee=[],ge=null,Ut=!1,v=null,ue=null,xt=!1,Ht=null,ps="",fs=!1,wt=null,Oe=[],Dn=e=>{let t={...e,props:Array.isArray(e.props)?e.props:[],settings:{...e.settings||{}}};return(t.type||"").toLowerCase()==="collectiongrid"&&(t.collectionId=t.collectionId||t.settings.collectionId||"",t.settings.collectionId=t.collectionId,t.settings.limit=t.settings.limit||6),t},St=e=>{var t,s;return{...e,blocks:(e.blocks||[]).map(n=>Dn(n)),seo:{title:(((t=e.seo)==null?void 0:t.title)||"").trim(),description:(((s=e.seo)==null?void 0:s.description)||"").trim()}}},Rn=async()=>{if(!Ts){Oe=[],zt();return}try{let e=await fetch(Ts,{headers:{Accept:"application/json"}});if(!e.ok)throw new Error("Impossible de charger les collections.");let t=await e.json().catch(()=>[]);Oe=Array.isArray(t)?t:[];let s=(Q==null?void 0:Q.value)||"";zt(s)}catch(e){console.error("[design] collections load",e),P("Collections indisponibles."),Oe=[],zt()}},gs=e=>{if(!re)return;if(!e){re.textContent=Oe.length?"S\xE9lectionnez une collection pour afficher ses informations.":"Aucune collection disponible. Ajoutez-en depuis l\u2019onglet Contenus.";return}let t=Oe.find(n=>n.id===e);if(!t){re.textContent=`Collection ${e}`;return}let s=[];t.description&&s.push(t.description),t.type&&s.push(`Type\xA0: ${t.type}`),re.textContent=s.join(" \xB7 ")||`Collection ${t.name||t.id}`},zt=(e="")=>{if(Q){if(Q.innerHTML="",!Oe.length){Q.disabled=!0;let t=document.createElement("option");t.value="",t.textContent="Aucune collection disponible",Q.appendChild(t),gs("");return}if(Q.disabled=!1,e&&!Oe.some(t=>t.id===e)){let t=document.createElement("option");t.value=e,t.textContent=e,Q.appendChild(t)}Oe.forEach(t=>{let s=document.createElement("option");s.value=t.id;let n=t.name||t.id;s.textContent=t.type?`${n} \xB7 ${t.type}`:n,s.dataset.description=t.description||"",Q.appendChild(s)}),e&&(Q.value=e),gs(Q.value||"")}};Rn(),Ds(),fn.forEach(e=>{e.addEventListener("click",Pn)}),gn.forEach(e=>{e.addEventListener("click",ms)}),pe==null||pe.addEventListener("click",ms),window.addEventListener("resize",()=>{Ds(),Ns()}),st==null||st.addEventListener("click",Nn),ts==null||ts.addEventListener("click",Rs),Ne==null||Ne.addEventListener("input",Mn),Me==null||Me.addEventListener("input",()=>{ve&&(ve.textContent=""),Ut=!0}),Ae==null||Ae.addEventListener("submit",async e=>{if(e.preventDefault(),!Ee){ve&&(ve.textContent="Aucun site s\xE9lectionn\xE9.");return}if(!Ne||!Me)return;let t=Ne.value.trim(),s=js(Me.value.trim()||t);if(!t||!s){ve&&(ve.textContent="Titre et slug sont requis.");return}ve&&(ve.textContent=""),it&&(it.disabled=!0,it.textContent="Cr\xE9ation...");try{let n=await at({title:t,slug:s});if(!n||!n.id)throw new Error("R\xE9ponse invalide.");ee=[...ee,St(n)],Rs(),P("Page cr\xE9\xE9e"),Fe(n.id)}catch(n){console.error("[design] create page failed",n),ve&&(ve.textContent=n.message||"Impossible de cr\xE9er la page.")}finally{it&&(it.disabled=!1,it.textContent="Cr\xE9er")}});let On=()=>{De&&(De.classList.remove("hidden"),De.classList.add("flex"),Xe=[],hs(),Pt&&Pt.classList.add("hidden"),Nt&&(Nt.innerHTML=""),fe&&(fe.disabled=!0))},Os=()=>{De&&(De.classList.add("hidden"),De.classList.remove("flex"),Xe=[])},hs=()=>{if(!(!os||!As)){if(Xe.length===0){os.classList.add("hidden"),fe&&(fe.disabled=!0);return}os.classList.remove("hidden"),As.innerHTML=Xe.map(e=>`<li class="flex items-center gap-2"><span class="text-lg">\u{1F4C4}</span>${e.name}</li>`).join(""),fe&&(fe.disabled=!1)}},Us=e=>{let t=Array.from(e).filter(s=>s.type==="application/json"||s.name.endsWith(".json"));if(t.length===0){P("Aucun fichier JSON valide.");return}Xe=t,hs()},Un=async()=>{if(!(!Ee||Xe.length===0)){fe&&(fe.disabled=!0,fe.textContent="Import...");try{let e=[];for(let n of Xe){let i=await n.text();try{let y=JSON.parse(i);Array.isArray(y)?e.push(...y):e.push(y)}catch(y){P(`Erreur JSON dans ${n.name}`),console.error("[import] parse error",n.name,y)}}if(e.length===0){P("Aucune page valide \xE0 importer.");return}let t=await fetch(`${Ee}/import`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)}),s=await t.json();if(!t.ok)throw new Error(s.message||"Erreur serveur");if(Pt&&Nt){Pt.classList.remove("hidden");let n="";s.imported&&s.imported.length>0&&(n+=`<p class="text-green-700">\u2713 ${s.imported.length} page(s) import\xE9e(s)</p>`,n+='<ul class="ml-4 text-xs text-slate-600">',s.imported.forEach(i=>{n+=`<li>${i.title} (${i.action==="updated"?"mise \xE0 jour":"cr\xE9\xE9e"})</li>`}),n+="</ul>"),s.errors&&s.errors.length>0&&(n+=`<p class="text-rose-600 mt-2">\u2717 ${s.errors.length} erreur(s)</p>`,n+='<ul class="ml-4 text-xs text-rose-500">',s.errors.forEach(i=>{n+=`<li>${i.title}: ${i.error}</li>`}),n+="</ul>"),Nt.innerHTML=n}s.imported&&s.imported.length>0&&(ee=await et(),ct(ee,ge),ee.length>0&&!ge&&Fe(ee[0].id),P(`${s.imported.length} page(s) import\xE9e(s)`)),Xe=[],hs()}catch(e){console.error("[import] failed",e),P(e.message||"Erreur import")}finally{fe&&(fe.disabled=!1,fe.textContent="Importer")}}};ss==null||ss.addEventListener("click",On),hn.forEach(e=>e.addEventListener("click",Os)),De==null||De.addEventListener("click",e=>{e.target===De&&Os()}),ns==null||ns.addEventListener("change",e=>{Us(e.target.files)}),Ce==null||Ce.addEventListener("dragover",e=>{e.preventDefault(),Ce.classList.add("border-[#9C6BFF]","bg-[#9C6BFF]/10")}),Ce==null||Ce.addEventListener("dragleave",e=>{e.preventDefault(),Ce.classList.remove("border-[#9C6BFF]","bg-[#9C6BFF]/10")}),Ce==null||Ce.addEventListener("drop",e=>{e.preventDefault(),Ce.classList.remove("border-[#9C6BFF]","bg-[#9C6BFF]/10"),Us(e.dataTransfer.files)}),fe==null||fe.addEventListener("click",Un),Fs.forEach(e=>{e.addEventListener("click",()=>{let t=e.dataset.importTab;Fs.forEach(s=>{s.dataset.importTab===t?(s.classList.add("bg-[#9C6BFF]","text-white"),s.classList.remove("border","border-slate-200","text-slate-700")):(s.classList.remove("bg-[#9C6BFF]","text-white"),s.classList.add("border","border-slate-200","text-slate-700"))}),yn.forEach(s=>{s.dataset.importPanel===t?s.classList.remove("hidden"):s.classList.add("hidden")})})}),as==null||as.addEventListener("click",async()=>{if(!Is)return;let e=Is.textContent||"";try{await navigator.clipboard.writeText(e),P("Template copi\xE9 !")}catch(t){console.error("[import] copy failed",t),P("Erreur copie")}}),rs==null||rs.addEventListener("click",cs),_e==null||_e.addEventListener("click",An),Re==null||Re.addEventListener("click",e=>{e.target===Re&&cs()}),X==null||X.addEventListener("click",e=>{e.stopPropagation(),Bn()}),document.addEventListener("click",e=>{xt&&(U!=null&&U.contains(e.target)||X!=null&&X.contains(e.target)||Ot())}),G.forEach(e=>{e.addEventListener("click",t=>{t.stopPropagation();let s=e.dataset.blockAdd;Tn(s)})}),D==null||D.addEventListener("click",()=>{ds()}),V==null||V.addEventListener("click",()=>{Ht&&Ms(Ht),ds()}),Y==null||Y.addEventListener("click",e=>{e.target===Y&&ds()}),m==null||m.addEventListener("input",e=>{var n,i,y,M;let t=e.target;if(!t||!t.name)return;if(t.name==="group-columns-mobile"||t.name==="group-columns-desktop"){let R=((n=m.querySelector('[name="group-columns-mobile"]'))==null?void 0:n.value)||"1",ne=((i=m.querySelector('[name="group-columns-desktop"]'))==null?void 0:i.value)||"3";Qe(R,ne)}if(t.name==="collection-columns-mobile"||t.name==="collection-columns-desktop"){let R=((y=m.querySelector('[name="collection-columns-mobile"]'))==null?void 0:y.value)||"1",ne=((M=m.querySelector('[name="collection-columns-desktop"]'))==null?void 0:M.value)||"3";Je(R,ne)}let s=t.closest("[data-block-panel]");if(s&&s.dataset.blockPanel==="appearance"){let R=dt(),ne=O(R);if(R&&ne){let he=We(ne);Ge(R.id,he)}}}),m==null||m.addEventListener("change",e=>{let t=e.target;if(!t||!t.name)return;let s=t.closest("[data-block-panel]");if(s&&s.dataset.blockPanel==="appearance"){let n=dt(),i=O(n);if(n&&i){let y=We(i);Ge(n.id,y)}}}),Q==null||Q.addEventListener("change",e=>{let t=e.target;gs((t==null?void 0:t.value)||"")}),m==null||m.addEventListener("submit",jt),te==null||te.addEventListener("click",e=>{e.preventDefault();let t=dt();t&&Ke(t)}),I==null||I.addEventListener("load",()=>{fs=!0,je("\xC0 jour"),bt(ue)}),C==null||C.addEventListener("click",()=>{let e=window.open("","_blank");if(!e)return;e.opener=null;let t=e.document;t.open(),t.write(ps||r()),t.close()});let Hs=e=>{var t,s,n;F&&(e?(F.classList.remove("hidden"),v&&(w&&(w.value=((t=v.seo)==null?void 0:t.title)||""),f&&(f.value=((s=v.seo)==null?void 0:s.description)||""),d&&(d.checked=((n=v.seo)==null?void 0:n.indexed)!==!1))):F.classList.add("hidden"))},Vt=(e,t="muted")=>{if(!E)return;let s=t==="success"?"text-emerald-600":t==="error"?"text-rose-600":"text-slate-500";E.textContent=e||"",E.className=`text-sm ${s}`};$==null||$.addEventListener("click",()=>{let e=F&&!F.classList.contains("hidden");Hs(!e)}),q==null||q.addEventListener("click",()=>Hs(!1)),p==null||p.addEventListener("submit",async e=>{var t;if(e.preventDefault(),!v){Vt("Aucune page active.","error");return}T&&(T.disabled=!0),Vt("");try{let s={title:((w==null?void 0:w.value)||"").trim(),description:((f==null?void 0:f.value)||"").trim(),indexed:(t=d==null?void 0:d.checked)!=null?t:!0},n={...v,seo:s},i=await c(n);i&&(v=i,Vt("SEO enregistr\xE9.","success"),P("SEO mis \xE0 jour"),rt(v))}catch(s){console.error("[seo] save failed",s),Vt(s.message||"Erreur lors de la sauvegarde.","error")}finally{T&&(T.disabled=!1)}});let Hn=e=>{let t=e.target.closest("[data-block-item]");if(!t||!Rt()){e.preventDefault();return}if(Ue=t.dataset.blockId||null,!Ue){e.preventDefault();return}e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/plain",Ue),requestAnimationFrame(()=>{t.classList.add("opacity-50","scale-[0.98]","shadow-lg","ring-2","ring-[#9C6BFF]")})},zs=()=>{a==null||a.querySelectorAll("[data-block-item]").forEach(e=>{e.classList.remove("opacity-50","scale-[0.98]","shadow-lg","ring-2","ring-[#9C6BFF]","border-t-4","border-b-4","border-t-[#9C6BFF]","border-b-[#9C6BFF]","pt-6","pb-6")})},zn=()=>{Ue=null,zs()},Vn=e=>{if(!Ue||!Rt())return;let t=e.target.closest("[data-block-item]");if(!t||t.dataset.blockId===Ue)return;e.preventDefault(),e.dataTransfer.dropEffect="move";let s=t.getBoundingClientRect(),n=s.top+s.height/2,i=e.clientY<n;a==null||a.querySelectorAll("[data-block-item]").forEach(y=>{y!==t&&y.dataset.blockId!==Ue&&y.classList.remove("border-t-4","border-b-4","border-t-[#9C6BFF]","border-b-[#9C6BFF]","pt-6","pb-6")}),t.classList.remove("border-t-4","border-b-4","border-t-[#9C6BFF]","border-b-[#9C6BFF]","pt-6","pb-6"),i?t.classList.add("border-t-4","border-t-[#9C6BFF]","pt-6"):t.classList.add("border-b-4","border-b-[#9C6BFF]","pb-6"),t.dataset.dropPosition=i?"before":"after"},Jn=e=>{let t=e.target.closest("[data-block-item]");if(!t)return;let s=e.relatedTarget;s&&t.contains(s)||(t.classList.remove("border-t-4","border-b-4","border-t-[#9C6BFF]","border-b-[#9C6BFF]","pt-6","pb-6"),delete t.dataset.dropPosition)},Wn=e=>{if(!Ue||!Rt())return;e.preventDefault();let t=e.target.closest("[data-block-item]"),s=Ue,n=(t==null?void 0:t.dataset.dropPosition)||"after";Ue=null,zs();let i=(t==null?void 0:t.dataset.blockId)||null;!i||s===i||Fn(s,i,n)},Ue=null;a==null||a.addEventListener("dragstart",Hn),a==null||a.addEventListener("dragend",zn),a==null||a.addEventListener("dragover",Vn),a==null||a.addEventListener("dragleave",Jn),a==null||a.addEventListener("drop",Wn),L()}function dn(){var We,je,$t;let o=document.querySelector("[data-collection-list]");if(!o)return;let g=document.querySelector("[data-collection-empty]"),x=document.querySelector("[data-collection-items-empty]"),A=document.querySelector("[data-item-table-wrapper]"),I=document.querySelector("[data-item-table-body]"),C=document.querySelector("[data-collection-title]"),W=document.querySelector("[data-collection-description]"),J=document.querySelector("[data-collection-drawer]"),$=document.querySelector("[data-collection-drawer-backdrop]"),F=document.querySelectorAll("[data-collection-drawer-open]"),q=document.querySelectorAll("[data-collection-drawer-close]"),p=document.querySelector("[data-item-add]"),w=document.querySelector("[data-item-detail-empty]"),f=document.querySelector("[data-item-form]"),d=f?{title:f.querySelector('[name="item-title"]'),slug:f.querySelector('[name="item-slug"]'),excerpt:f.querySelector('[name="item-excerpt"]'),content:f.querySelector('[name="item-content"]'),image:f.querySelector('[name="item-image"]'),status:f.querySelector('[name="item-status"]')}:{},E=document.querySelector("[data-item-status-badge]"),T=document.querySelector("[data-item-delete]"),a=document.querySelector("[data-item-delete-modal]"),k=document.querySelector("[data-item-delete-cancel]"),B=document.querySelector("[data-item-delete-confirm]"),X=document.querySelector("[data-item-cancel]"),U=document.querySelector("[data-item-save]"),G="rounded-full px-3 py-1 text-xs font-semibold",Y=we((z==null?void 0:z.slugValue)||Z.slug||""),V=Y?`/api/sites/${encodeURIComponent(Y)}/collections`:null,D=[],N=[],H=null,h=null,l=!1,u=!1,S=null,m=()=>{J&&(J.classList.add("is-open"),J.style.transform="translateX(0)",$==null||$.classList.remove("hidden"),document.body.classList.add("overflow-hidden"))},se=()=>{J&&(J.classList.remove("is-open"),J.style.transform="",$==null||$.classList.add("hidden"),document.body.classList.remove("overflow-hidden"))};F.forEach(r=>{r.addEventListener("click",m)}),q.forEach(r=>{r.addEventListener("click",se)}),$==null||$.addEventListener("click",se);let oe=r=>{let b=(r||"").trim();if(!b)return"";if(b==="/")return"/";let K=b.replace(/^\//,"").split("/").map(de=>gt(de||"")).filter(de=>de.length>0);return K.length?`/${K.join("/")}`:""},le=r=>{if(!r)return"\u2014";let b=new Date(r);return Number.isNaN(b.getTime())?"\u2014":b.toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric"})},ae=()=>{let r=D.find(b=>b.id===H);C&&(C.textContent=(r==null?void 0:r.name)||"S\xE9lectionnez une collection"),W&&(W.textContent=(r==null?void 0:r.description)||"")},Q=r=>{x&&(x.textContent=r||(H?"Aucun item dans cette collection pour le moment.":"Choisissez une collection dans le panneau de gauche."))},re=()=>{f&&(f.classList.add("hidden"),f.dataset.itemId=""),w==null||w.classList.remove("hidden"),E&&(E.className=`hidden ${G}`,E.textContent=""),T&&(T.disabled=!0)},te=()=>{f&&(f.classList.remove("hidden"),w==null||w.classList.add("hidden"))},Se=()=>{p&&(p.disabled=!H,p.disabled?p.classList.add("opacity-60","pointer-events-none"):p.classList.remove("opacity-60","pointer-events-none"))},ie=r=>{if(!E)return;if(!r){E.className=`hidden ${G}`,E.textContent="";return}let b=r.toLowerCase(),j="bg-slate-100 text-slate-600 border border-slate-200";b==="publi\xE9"||b==="publie"?j="bg-emerald-50 text-emerald-700 border border-emerald-100":b==="brouillon"&&(j="bg-amber-50 text-amber-700 border border-amber-100"),E.className=`${G} ${j}`,E.textContent=r},$e=()=>{if(o.innerHTML="",!D.length){g==null||g.classList.remove("hidden");return}g==null||g.classList.add("hidden"),D.forEach(r=>{let b=r.id===H,j=document.createElement("button");j.type="button",j.dataset.collectionId=r.id,j.className=["w-full rounded-xl border px-3 py-2 text-left transition focus:outline-none focus:ring-2 focus:ring-[#9C6BFF]/40",b?"bg-[#F7F0FF] border-[#9C6BFF]/40 text-slate-900":"border-slate-200 text-slate-700 hover:border-[#9C6BFF]/40"].join(" "),j.setAttribute("role","option"),b?j.setAttribute("aria-current","true"):j.removeAttribute("aria-current"),j.innerHTML=`
          <div class="flex items-center justify-between gap-2">
            <div>
              <p class="text-sm font-semibold">${r.name||r.id}</p>
              <p class="text-xs text-slate-500">${r.description||""}</p>
            </div>
            <span class="text-[11px] uppercase tracking-wide text-slate-400">${r.type||""}</span>
          </div>
        `,j.addEventListener("click",()=>{et(r.id),window.matchMedia("(min-width: 1024px)").matches||se()}),o.appendChild(j)})},ce=()=>{if(I){if(I.innerHTML="",!N.length||!H){x==null||x.classList.remove("hidden"),Q(),A==null||A.classList.add("hidden");return}x==null||x.classList.add("hidden"),A==null||A.classList.remove("hidden"),N.forEach(r=>{let b=document.createElement("tr");b.dataset.itemId=r.id;let j=r.id===h&&!l;b.className=["cursor-pointer transition focus-within:bg-[#F7F0FF]/70 focus:outline-none",j?"bg-[#F7F0FF]/70":"hover:bg-slate-50"].join(" "),b.tabIndex=0,b.setAttribute("role","button"),j?b.setAttribute("aria-current","true"):b.removeAttribute("aria-current");let K=r.status||"Brouillon",de=K.toLowerCase(),yt=de==="publi\xE9"||de==="publie"?"bg-emerald-50 text-emerald-700 border border-emerald-100":"bg-amber-50 text-amber-700 border border-amber-100";b.innerHTML=`
          <td class="px-4 py-3 align-top">
            <div class="flex flex-col">
              <span class="text-sm font-semibold text-slate-900">${r.title||"Sans titre"}</span>
              <span class="text-xs text-slate-500">${r.summary||r.excerpt||""}</span>
            </div>
          </td>
          <td class="px-4 py-3 align-top text-sm text-slate-600">${r.slug||""}</td>
          <td class="px-4 py-3 align-top">
            <span class="inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold ${yt}">
              ${K}
            </span>
          </td>
          <td class="px-4 py-3 align-top text-sm text-slate-500">${le(r.updatedAt||r.createdAt)}</td>
        `;let tt=()=>{qe(r.id)};b.addEventListener("click",tt),b.addEventListener("keydown",Ge=>{(Ge.key==="Enter"||Ge.key===" ")&&(Ge.preventDefault(),tt())}),I.appendChild(b)})}},qe=r=>{let b=N.find(j=>j.id===r);b&&(h=b.id,l=!1,u=!0,Le(b),ce())},Le=r=>{if(!f||!r){re();return}te(),f.dataset.itemId=r.id,d.title&&(d.title.value=r.title||""),d.slug&&(d.slug.value=r.slug||""),d.excerpt&&(d.excerpt.value=r.summary||r.excerpt||""),d.content&&(d.content.value=r.content||""),d.image&&(d.image.value=r.image||""),d.status&&(d.status.value=r.status||"Brouillon"),ie(r.status||"Brouillon"),T&&(T.disabled=!1)},Ve=()=>{var r;f&&(l=!0,h=null,u=!1,f.dataset.itemId="",f.reset(),d.status&&(d.status.value="Brouillon"),d.slug&&(d.slug.value=""),ie("Brouillon"),te(),T&&(T.disabled=!0),(r=d.title)==null||r.focus())},Ze=()=>{var tt,Ge,rt,jt,Pe,pe;let r=(((tt=d.title)==null?void 0:tt.value)||"").trim(),b=(((Ge=d.slug)==null?void 0:Ge.value)||"").trim(),j=(((rt=d.excerpt)==null?void 0:rt.value)||"").trim(),K=(((jt=d.content)==null?void 0:jt.value)||"").trim(),de=(((Pe=d.image)==null?void 0:Pe.value)||"").trim(),yt=((pe=d.status)==null?void 0:pe.value)||"Brouillon";return{title:r,slug:oe(b||r),summary:j,excerpt:j,content:K,image:de,status:yt}},Qe=r=>{U&&(U.disabled=r,U.textContent=r?"Enregistrement\u2026":"Enregistrer"),T&&!l&&h&&(T.disabled=r)},Je=async r=>{if(!V)return[];let b=await fetch(`${V}/${encodeURIComponent(r)}/items`,{headers:{Accept:"application/json"}});if(!b.ok){let K=await b.json().catch(()=>({}));throw new Error(K.message||"Impossible de charger les items.")}let j=await b.json().catch(()=>({}));return Array.isArray(j.items)?j.items:[]},et=async r=>{if(r&&(H=r,h=null,l=!1,u=!1,ae(),Se(),$e(),re(),N=[],ce(),Q("Chargement des items\u2026"),x==null||x.classList.remove("hidden"),A==null||A.classList.add("hidden"),!!V))try{N=await Je(r),ce(),N.length||Q()}catch(b){console.error("[content] items failed",b),P(b.message||"Impossible de charger les items."),N=[],ce()}},at=async(r,b)=>{if(!V)throw new Error("Site inconnu.");let j=await fetch(`${V}/${encodeURIComponent(r)}/items`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});if(!j.ok){let K=await j.json().catch(()=>({}));throw new Error(K.message||"Impossible de cr\xE9er cet item.")}return j.json()},c=async(r,b,j)=>{if(!V)throw new Error("Site inconnu.");let K=await fetch(`${V}/${encodeURIComponent(r)}/items/${encodeURIComponent(b)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(j)});if(!K.ok){let de=await K.json().catch(()=>({}));throw new Error(de.message||"Impossible de sauvegarder cet item.")}return K.json()},L=async(r,b)=>{if(!V)throw new Error("Site inconnu.");let j=await fetch(`${V}/${encodeURIComponent(r)}/items/${encodeURIComponent(b)}`,{method:"DELETE"});if(!j.ok){let K=await j.json().catch(()=>({}));throw new Error(K.message||"Impossible de supprimer cet item.")}},_=async()=>{var r;if(!V){g==null||g.classList.remove("hidden"),H=null,N=[],ce(),ae(),Se();return}try{let b=await fetch(V,{headers:{Accept:"application/json"}});if(!b.ok)throw new Error("Impossible de charger les collections.");let j=await b.json().catch(()=>[]);if(D=Array.isArray(j)?j:[],$e(),D.length>0){let K=((r=D.find(de=>de.id===H))==null?void 0:r.id)||D[0].id;et(K)}else H=null,N=[],ae(),Se(),ce()}catch(b){console.error("[content] load collections",b),P(b.message||"Impossible de charger les collections.")}};p==null||p.addEventListener("click",()=>{if(!H){P("S\xE9lectionnez d\u2019abord une collection.");return}Ve(),ce()}),X==null||X.addEventListener("click",r=>{if(r.preventDefault(),l){l=!1,h=null,re(),ce();return}if(h){let b=N.find(j=>j.id===h);Le(b)}else re()}),(We=d.status)==null||We.addEventListener("change",()=>{ie(d.status.value)}),(je=d.title)==null||je.addEventListener("input",()=>{!l||!d.slug||u||(d.slug.value=oe(d.title.value))}),($t=d.slug)==null||$t.addEventListener("input",()=>{l&&(u=!0)}),f==null||f.addEventListener("submit",async r=>{var j;if(r.preventDefault(),!H){P("S\xE9lectionnez une collection.");return}let b=Ze();if(!b.title){P("Le titre est requis."),(j=d.title)==null||j.focus();return}Qe(!0);try{let K;l||!h?(K=await at(H,b),N=[...N,K],P("Item cr\xE9\xE9")):(K=await c(H,h,b),N=N.map(de=>de.id===K.id?K:de),P("Item mis \xE0 jour")),l=!1,h=K.id,Le(K),ce()}catch(K){console.error("[content] save item failed",K),P(K.message||"Impossible de sauvegarder cet item.")}finally{Qe(!1)}});let O=()=>{a&&(a.classList.add("hidden"),a.classList.remove("flex"),S=null)},Ke=()=>{!a||!h||(S=h,a.classList.remove("hidden"),a.classList.add("flex"))};T==null||T.addEventListener("click",r=>{r.preventDefault(),h&&Ke()}),k==null||k.addEventListener("click",()=>{O()}),a==null||a.addEventListener("click",r=>{r.target===a&&O()}),B==null||B.addEventListener("click",async()=>{if(!S||!H){O();return}B.disabled=!0,B.textContent="Suppression\u2026";try{await L(H,S),N=N.filter(r=>r.id!==S),h===S&&(h=null,re()),P("Item supprim\xE9"),ce()}catch(r){console.error("[content] delete item failed",r),P(r.message||"Impossible de supprimer cet item.")}finally{B.disabled=!1,B.textContent="Supprimer",O()}}),ae(),Se(),_()}function un(){let o=document.querySelector("[data-deploy-form]");if(!o)return;let g=document.querySelector("[data-deploy-protocol]"),x=document.querySelector("[data-deploy-host]"),A=document.querySelector("[data-deploy-port]"),I=document.querySelector("[data-deploy-user]"),C=document.querySelector("[data-deploy-password]"),W=document.querySelector("[data-deploy-show-password]"),J=document.querySelector("[data-deploy-remote-path]"),$=document.querySelector("[data-deploy-feedback]"),F=document.querySelector("[data-deploy-save]"),q=document.querySelector("[data-deploy-test]"),p=document.querySelector("[data-deploy-trigger]"),w=document.querySelector("[data-deploy-history]"),f=document.querySelector("[data-deploy-log]"),d=we((z==null?void 0:z.slugValue)||Z.slug||""),E=d?`/api/sites/${encodeURIComponent(d)}/deploy-config`:null,T=d?`/api/sites/${encodeURIComponent(d)}/deploy`:null,a=d?`/api/sites/${encodeURIComponent(d)}/deploy-log`:null,k=!1,B=null,X=l=>{let u=(l||"").trim();return u?u.startsWith("/")?u:`/${u}`:"/www"},U=(l,u="muted")=>{if(!$)return;let S="inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold",m=u==="success"?"bg-emerald-50 text-emerald-700 border border-emerald-100":u==="error"?"bg-rose-50 text-rose-700 border border-rose-100":"bg-slate-50 text-slate-600 border border-slate-100";if(!l){$.textContent="",$.className="text-sm text-slate-500";return}let se=u==="success"?"\u2705":u==="error"?"\u274C":"\u2139\uFE0F";$.innerHTML=`<span class="${S} ${m}">${se}<span>${l}</span></span>`,$.className="text-sm"},G=(l=null)=>{B=l;let u=!!l,S='<svg class="h-4 w-4 animate-spin text-white" viewBox="0 0 24 24" fill="none" aria-hidden="true"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"></path></svg>';F&&(F.disabled=u,F.innerHTML=l==="save"?`<span class="inline-flex items-center gap-2">${S}<span>Enregistrement\u2026</span></span>`:"Enregistrer"),q&&(q.disabled=u,q.innerHTML=l==="test"?'<span class="inline-flex items-center gap-2"><span class="h-4 w-4 animate-spin rounded-full border-2 border-slate-200 border-t-slate-600"></span><span>Test en cours\u2026</span></span>':"Tester la connexion"),p&&(p.disabled=u&&l!==null,p.innerHTML=l==="deploy"?'<span class="inline-flex items-center gap-2"><span class="h-4 w-4 animate-spin rounded-full border-2 border-white/60 border-t-white"></span><span>D\xE9ploiement\u2026</span></span>':"D\xE9ployer maintenant")},Y=l=>{g&&(g.value=l.protocol||"sftp"),x&&(x.value=l.host||""),A&&(A.value=l.port||""),I&&(I.value=l.user||""),J&&(J.value=l.remotePath||"/www"),k=!!l.hasPassword,C&&(C.value="",C.placeholder=k?"Non affich\xE9":"Mot de passe")},V=(l=[])=>{if(w){if(w.innerHTML="",!l.length){let u=document.createElement("li");u.className="text-slate-500",u.textContent="Aucun d\xE9ploiement pour le moment.",w.appendChild(u);return}l.forEach(u=>{let S=document.createElement("li");S.className="flex items-center justify-between gap-2 rounded-xl border border-slate-200 px-3 py-2";let m=u.status==="success"?'<span class="rounded-full bg-emerald-50 px-2 py-0.5 text-[11px] font-semibold text-emerald-700">Succ\xE8s</span>':'<span class="rounded-full bg-rose-50 px-2 py-0.5 text-[11px] font-semibold text-rose-700">\xC9chec</span>',se=u.finishedAt||u.startedAt||"",oe=u.durationMs&&Number(u.durationMs)>=0?`${Math.round(Number(u.durationMs)/1e3)}s`:"";S.innerHTML=`
          <div class="space-y-1">
            <div class="flex items-center gap-2">${m}<span class="text-xs text-slate-500">${se}</span></div>
            <p class="text-sm text-slate-800">${u.message||""}</p>
          </div>
          <div class="text-xs text-slate-500">${oe}</div>
        `,S.dataset.deployId=u.id||"",S.addEventListener("click",()=>{u.logs&&f&&(f.textContent=u.logs.join(`
`))}),w.appendChild(S)})}},D=(l=[])=>{f&&(f.textContent=l.length?l.join(`
`):"Aucun log pour le moment.")},N=async()=>{var l;if(a)try{let u=await fetch(a,{headers:{Accept:"application/json"}});if(!u.ok){if(u.status===404){V([]),D(["API d\xE9ploiement indisponible (red\xE9marre le serveur)."]);return}throw new Error("Impossible de charger l\u2019historique.")}let S=await u.json().catch(()=>({})),m=Array.isArray(S.entries)?S.entries:[];V(m),(l=m[0])!=null&&l.logs&&D(m[0].logs)}catch(u){console.error("[deploy] history failed",u)}},H=async()=>{if(!E){U("Aucun site actif s\xE9lectionn\xE9.","error");return}G("load");try{let l=await fetch(E,{headers:{Accept:"application/json"}}),u=await l.json().catch(()=>({}));l.ok?(Y(u||{}),U("Configuration charg\xE9e.","muted")):(Y(u||{}),U(u.message||"Configuration par d\xE9faut charg\xE9e.","muted"))}catch(l){console.error("[deploy] load failed",l),U(l.message||"Erreur lors du chargement.","error")}finally{G(null)}},h=()=>{let l={protocol:(g==null?void 0:g.value)||"sftp",host:(x==null?void 0:x.value.trim())||"",port:Number(A==null?void 0:A.value)||void 0,user:(I==null?void 0:I.value.trim())||"",remotePath:X((J==null?void 0:J.value)||"/www")},u=(C==null?void 0:C.value)||"";return u.trim().length>0&&(l.password=u),l};o.addEventListener("submit",async l=>{if(l.preventDefault(),!E){U("Aucun site actif s\xE9lectionn\xE9.","error");return}let u=h();G("save");try{let S=await fetch(E,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)});if(!S.ok){let se=await S.json().catch(()=>({}));throw new Error(se.message||"Sauvegarde impossible.")}let m=await S.json();Y(m||{}),U("Configuration enregistr\xE9e.","success"),P("Configuration d\xE9ploiement sauvegard\xE9e")}catch(S){console.error("[deploy] save failed",S),U(S.message||"Erreur lors de la sauvegarde.","error")}finally{G(null)}}),q==null||q.addEventListener("click",async()=>{if(!E){U("Aucun site actif s\xE9lectionn\xE9.","error");return}let l=h();if(!l.host||!l.user||!l.remotePath){U("Remplissez les champs requis avant de tester.","error");return}G("test");try{let u=await fetch(`${E}/test`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}),S=await u.json().catch(()=>({}));if(!u.ok||S.success===!1){U(S.message||"Test de connexion \xE9chou\xE9.","error");return}U(S.message||"Connexion OK.","success"),P("Test de connexion r\xE9ussi")}catch(u){console.error("[deploy] test failed",u),U(u.message||"Test de connexion \xE9chou\xE9.","error")}finally{G(null)}}),p==null||p.addEventListener("click",async()=>{if(!T){U("Aucun site actif s\xE9lectionn\xE9.","error");return}G("deploy"),D(["D\xE9ploiement en cours\u2026"]);try{let l=await fetch(T,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h())}),u=await l.json().catch(()=>({}));if(!l.ok){if(l.status===404){U("API d\xE9ploiement indisponible (red\xE9marre le serveur).","error"),D(["API d\xE9ploiement indisponible (red\xE9marre le serveur)."]);return}throw D(u.logs||[]),new Error(u.message||"D\xE9ploiement \xE9chou\xE9.")}D(u.logs||[]),await N(),P("D\xE9ploiement termin\xE9")}catch(l){console.error("[deploy] run failed",l),U(l.message||"D\xE9ploiement \xE9chou\xE9.","error")}finally{G(null)}}),W==null||W.addEventListener("change",()=>{C&&(C.type=W.checked?"text":"password")}),H(),N()}function mn(){let o=document.querySelectorAll("[data-settings-tab]"),g=document.querySelectorAll("[data-settings-panel]"),x=document.querySelector("[data-admin-password-form]"),A=document.querySelector("[data-site-config-form]"),I=document.querySelector("[data-site-config-feedback]"),C=document.querySelector("[data-theme-form]"),W=F=>{o.forEach(q=>{let p=q.dataset.settingsTab===F;q.setAttribute("aria-selected",p?"true":"false"),q.classList.toggle("bg-[#9C6BFF]",p),q.classList.toggle("text-white",p)}),g.forEach(q=>{q.classList.toggle("hidden",q.dataset.settingsPanel!==F)})};if(o.forEach(F=>{F.addEventListener("click",()=>W(F.dataset.settingsTab||"account"))}),W("account"),x){let F=x.querySelector("[data-admin-password-feedback]"),q=x.querySelector("[data-admin-password-submit]"),p=(w,f="muted")=>{if(!F)return;let d=f==="success"?"text-emerald-600":f==="error"?"text-rose-600":"text-slate-500";F.textContent=w||"",F.className=`text-sm ${d}`};x.addEventListener("submit",async w=>{w.preventDefault();let f=new FormData(x),d=f.get("currentPassword")||"",E=f.get("newPassword")||"",T=f.get("confirmPassword")||"";if(!d||!E||!T){p("Compl\xE8te tous les champs.","error");return}q&&(q.disabled=!0),p("");try{let a=await fetch("/api/admin/password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentPassword:d,newPassword:E,confirmPassword:T})}),k=await a.json().catch(()=>({}));if(!a.ok||k.success===!1)throw new Error(k.message||"Impossible de mettre \xE0 jour le mot de passe.");p(k.message||"Mot de passe mis \xE0 jour.","success"),x.reset()}catch(a){console.error("[settings] change password failed",a),p(a.message||"Erreur lors de la mise \xE0 jour.","error")}finally{q&&(q.disabled=!1)}})}if(A){let F=A.querySelector("[data-site-name]"),q=A.querySelector("[data-site-language]"),p=A.querySelector("[data-site-tagline]"),w=A.querySelector("[data-site-save]"),f=(a,k="muted")=>{if(!I)return;let B=k==="success"?"text-emerald-600":k==="error"?"text-rose-600":"text-slate-500";I.textContent=a||"",I.className=`text-sm ${B}`},d=we((z==null?void 0:z.slugValue)||Z.slug||""),E=d?`/api/sites/${encodeURIComponent(d)}/config/site`:null,T=async()=>{if(E)try{let a=await fetch(E,{headers:{Accept:"application/json"}});if(!a.ok)return;let k=await a.json().catch(()=>({}));F&&(F.value=k.name||""),q&&(q.value=k.language||"fr"),p&&(p.value=k.tagline||"")}catch(a){console.error("[settings] load site config failed",a)}};A.addEventListener("submit",async a=>{if(a.preventDefault(),!E){f("Aucun site actif.","error");return}if(!(F!=null&&F.value.trim())){f("Nom requis.","error");return}w&&(w.disabled=!0),f("");try{let k={name:(F==null?void 0:F.value)||"",language:(q==null?void 0:q.value)||"fr",tagline:(p==null?void 0:p.value)||""},B=await fetch(E,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(k)}),X=await B.json().catch(()=>({}));if(!B.ok||X.success===!1)throw new Error(X.message||"Sauvegarde impossible.");f(X.message||"Param\xE8tres enregistr\xE9s.","success")}catch(k){console.error("[settings] save site config failed",k),f(k.message||"Erreur lors de la sauvegarde.","error")}finally{w&&(w.disabled=!1)}}),T()}if(C){let F=we((z==null?void 0:z.slugValue)||Z.slug||""),q=F?`/api/sites/${encodeURIComponent(F)}/config/theme`:null,p={primary:C.querySelector("[data-theme-primary]"),secondary:C.querySelector("[data-theme-secondary]"),accent:C.querySelector("[data-theme-accent]"),background:C.querySelector("[data-theme-background]"),text:C.querySelector("[data-theme-text]")},w=C.querySelector("[data-theme-headings]"),f=C.querySelector("[data-theme-body]"),d=C.querySelector("[data-theme-radius-small]"),E=C.querySelector("[data-theme-radius-medium]"),T=C.querySelector("[data-theme-radius-large]"),a=C.querySelector("[data-theme-preview]"),k=C.querySelector("[data-theme-feedback]"),B=C.querySelector("[data-theme-apply]"),X=["slate","gray","zinc","neutral","stone","red","orange","amber","yellow","lime","green","emerald","teal","cyan","sky","blue","indigo","violet","purple","fuchsia","pink","rose"],U=["50","100","200","300","400","500","600","700","800","900"],G=X.flatMap(h=>U.map(l=>`${h}-${l}`)),Y=()=>{Object.values(p).forEach(h=>{!h||h.options.length||G.forEach(l=>{let u=document.createElement("option");u.value=l;let[S,m]=l.split("-");u.textContent=`${S.charAt(0).toUpperCase()+S.slice(1)} ${m}`,h.appendChild(u)})})},V=(h,l="muted")=>{if(!k)return;let u=l==="success"?"text-emerald-600":l==="error"?"text-rose-600":"text-slate-500";k.textContent=h||"",k.className=`text-sm ${u}`},D=()=>{var l,u,S,m,se;if(!a)return;let h=oe=>{if(!oe)return null;let[le,ae]=oe.split("-"),re={slate:"#e2e8f0",gray:"#d1d5db",zinc:"#d4d4d8",neutral:"#d4d4d4",stone:"#d6d3d1",red:"#ef4444",orange:"#f97316",amber:"#f59e0b",yellow:"#eab308",lime:"#84cc16",green:"#22c55e",emerald:"#10b981",teal:"#14b8a6",cyan:"#06b6d4",sky:"#0ea5e9",blue:"#3b82f6",indigo:"#6366f1",violet:"#8b5cf6",purple:"#a855f7",fuchsia:"#d946ef",pink:"#ec4899",rose:"#f43f5e"}[le];if(!re)return null;let te=Number(ae)||500,Se=Math.min(Math.max((te-50)/900,0),1),ie=Ve=>Ve.match(/[A-Fa-f0-9]{2}/g).map(Ze=>parseInt(Ze,16)),[$e,ce,qe]=ie(re.replace("#","")),Le=Ve=>Math.round(255-(255-Ve)*Se);return`rgb(${Le($e)}, ${Le(ce)}, ${Le(qe)})`};a.style.setProperty("--color-primary",h((l=p.primary)==null?void 0:l.value)||"#9C6BFF"),a.style.setProperty("--color-secondary",h((u=p.secondary)==null?void 0:u.value)||"#0EA5E9"),a.style.setProperty("--color-accent",h((S=p.accent)==null?void 0:S.value)||"#F97316"),a.style.setProperty("--color-background",h((m=p.background)==null?void 0:m.value)||"#FFFFFF"),a.style.setProperty("--color-text",h((se=p.text)==null?void 0:se.value)||"#0F172A"),a.style.setProperty("--font-headings",(w==null?void 0:w.value)||"Inter, sans-serif"),a.style.setProperty("--font-body",(f==null?void 0:f.value)||"Inter, sans-serif"),a.style.setProperty("--radius-small",(d==null?void 0:d.value)||"8px"),a.style.setProperty("--radius-medium",(E==null?void 0:E.value)||"16px"),a.style.setProperty("--radius-large",(T==null?void 0:T.value)||"24px"),a.style.borderRadius=(E==null?void 0:E.value)||"16px"},N=(h,l)=>{p[h]&&(p[h].value=l)};Object.keys(p).forEach(h=>{var l;(l=p[h])==null||l.addEventListener("change",D)}),[w,f,d,E,T].forEach(h=>{h==null||h.addEventListener("change",D)});let H=async()=>{var h,l,u,S,m,se,oe,le,ae,Q;if(q)try{let re=await fetch(q,{headers:{Accept:"application/json"}});if(!re.ok)return;let te=await re.json().catch(()=>({}));N("primary",((h=te.colors)==null?void 0:h.primary)||"violet-500"),N("secondary",((l=te.colors)==null?void 0:l.secondary)||"indigo-400"),N("accent",((u=te.colors)==null?void 0:u.accent)||"emerald-500"),N("background",((S=te.colors)==null?void 0:S.background)||"slate-50"),N("text",((m=te.colors)==null?void 0:m.text)||"slate-900"),w&&(w.value=((se=te.typography)==null?void 0:se.headings)||"Inter, sans-serif"),f&&(f.value=((oe=te.typography)==null?void 0:oe.body)||"Inter, sans-serif"),d&&(d.value=((le=te.radius)==null?void 0:le.small)||"8px"),E&&(E.value=((ae=te.radius)==null?void 0:ae.medium)||"16px"),T&&(T.value=((Q=te.radius)==null?void 0:Q.large)||"24px"),D()}catch(re){console.error("[settings] load theme failed",re)}};Y(),B==null||B.addEventListener("click",async h=>{var u,S,m,se,oe;if(h.preventDefault(),!q){V("Aucun site actif.","error");return}let l={colors:{primary:((u=p.primary)==null?void 0:u.value)||"violet-500",secondary:((S=p.secondary)==null?void 0:S.value)||"indigo-400",accent:((m=p.accent)==null?void 0:m.value)||"emerald-500",background:((se=p.background)==null?void 0:se.value)||"slate-50",text:((oe=p.text)==null?void 0:oe.value)||"slate-900"},typography:{headings:(w==null?void 0:w.value)||"Inter, sans-serif",body:(f==null?void 0:f.value)||"Inter, sans-serif"},radius:{small:(d==null?void 0:d.value)||"8px",medium:(E==null?void 0:E.value)||"16px",large:(T==null?void 0:T.value)||"24px"}};B.disabled=!0,V("");try{let le=await fetch(q,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}),ae=await le.json().catch(()=>({}));if(!le.ok||ae.success===!1)throw new Error(ae.message||"Application du th\xE8me \xE9chou\xE9e.");V(ae.message||"Th\xE8me appliqu\xE9.","success"),D()}catch(le){console.error("[settings] apply theme failed",le),V(le.message||"Erreur lors de l\u2019application du th\xE8me.","error")}finally{B.disabled=!1}}),Y(),H(),D()}let J=document.querySelector("[data-seo-config-form]");if(J){let F=J.querySelector("[data-seo-index-all]"),q=J.querySelector("[data-seo-config-feedback]"),p=J.querySelector("[data-seo-save]"),w=we((z==null?void 0:z.slugValue)||Z.slug||""),f=w?`/api/sites/${encodeURIComponent(w)}/config/site`:null,d=(T,a="muted")=>{if(!q)return;let k=a==="success"?"text-emerald-600":a==="error"?"text-rose-600":"text-slate-500";q.textContent=T||"",q.className=`text-sm ${k}`},E=async()=>{var T;if(f)try{let a=await fetch(f,{headers:{Accept:"application/json"}});if(!a.ok)return;let B=((T=(await a.json().catch(()=>({}))).seo)==null?void 0:T.indexAllPagesByDefault)!==!1;F&&(F.checked=B)}catch(a){console.error("[settings] load seo config failed",a)}};J.addEventListener("submit",async T=>{var a;if(T.preventDefault(),!f){d("Aucun site actif.","error");return}p&&(p.disabled=!0),d("");try{let k=await fetch(f,{headers:{Accept:"application/json"}}),B=k.ok?await k.json().catch(()=>({})):{},X={...B,seo:{...B.seo||{},indexAllPagesByDefault:(a=F==null?void 0:F.checked)!=null?a:!0}},U=await fetch(f,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(X)}),G=await U.json().catch(()=>({}));if(!U.ok||G.success===!1)throw new Error(G.message||"Sauvegarde impossible.");d(G.message||"Param\xE8tres SEO enregistr\xE9s.","success")}catch(k){console.error("[settings] save seo config failed",k),d(k.message||"Erreur lors de la sauvegarde.","error")}finally{p&&(p.disabled=!1)}}),E()}let $=document.querySelector("[data-analytics-form]");if($){let F=$.querySelector("[data-analytics-head]"),q=$.querySelector("[data-analytics-body]"),p=$.querySelector("[data-analytics-feedback]"),w=$.querySelector("[data-analytics-save]"),f=we((z==null?void 0:z.slugValue)||Z.slug||""),d=f?`/api/sites/${encodeURIComponent(f)}/config/site`:null,E=(a,k="muted")=>{if(!p)return;let B=k==="success"?"text-emerald-600":k==="error"?"text-rose-600":"text-slate-500";p.textContent=a||"",p.className=`text-sm ${B}`},T=async()=>{var a,k;if(d)try{let B=await fetch(d,{headers:{Accept:"application/json"}});if(!B.ok)return;let X=await B.json().catch(()=>({}));F&&(F.value=((a=X.analytics)==null?void 0:a.headCode)||""),q&&(q.value=((k=X.analytics)==null?void 0:k.bodyEndCode)||"")}catch(B){console.error("[settings] load analytics config failed",B)}};$.addEventListener("submit",async a=>{if(a.preventDefault(),!d){E("Aucun site actif.","error");return}w&&(w.disabled=!0),E("");try{let k=await fetch(d,{headers:{Accept:"application/json"}}),X={...k.ok?await k.json().catch(()=>({})):{},analytics:{headCode:(F==null?void 0:F.value)||"",bodyEndCode:(q==null?void 0:q.value)||""}},U=await fetch(d,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(X)}),G=await U.json().catch(()=>({}));if(!U.ok||G.success===!1)throw new Error(G.message||"Sauvegarde impossible.");E(G.message||"Scripts enregistr\xE9s.","success")}catch(k){console.error("[settings] save analytics config failed",k),E(k.message||"Erreur lors de la sauvegarde.","error")}finally{w&&(w.disabled=!1)}}),T()}}function pn(){let o=document.querySelector("[data-media-grid]");if(!o)return;let g=document.querySelector("[data-media-empty]"),x=document.querySelector("[data-media-count]"),A=document.querySelector("[data-media-filter-type]"),I=document.querySelector("[data-media-detail-empty]"),C=document.querySelector("[data-media-detail]"),W=document.querySelector("[data-media-detail-preview]"),J=document.querySelector("[data-media-detail-name]"),$=document.querySelector("[data-media-detail-type]"),F=document.querySelector("[data-media-detail-size]"),q=document.querySelector("[data-media-detail-path]"),p=document.querySelector("[data-media-detail-used]"),w=document.querySelector("[data-media-alt-edit]"),f=document.querySelector("[data-media-save]"),d=document.querySelector("[data-media-delete]"),E=document.querySelector("[data-media-delete-modal]"),T=document.querySelector("[data-media-delete-cancel]"),a=document.querySelector("[data-media-delete-confirm]"),k=document.querySelector("[data-media-upload-open]"),B=document.querySelector("[data-media-file-input]"),X=document.querySelector("[data-media-upload-status]"),U=we((z==null?void 0:z.slugValue)||Z.slug||""),G=U?`/api/sites/${encodeURIComponent(U)}/media`:null,Y=[],V=[],D=null,N=null,H=null,h=!1,l=!1,u=!1,S=null,m=c=>{let L=(c.type||"").toLowerCase(),_=(c.filename||"").toLowerCase();return L.includes("image")||/\.(png|jpe?g|webp|svg|gif)$/i.test(_)?"image":L.includes("pdf")||L.includes("doc")||/\.(pdf|docx?)$/i.test(_)?"document":L.includes("video")||/\.(mp4|mov|webm)$/i.test(_)?"video":"other"},se=c=>m(c)==="image",oe=c=>{if(c.type)return c.type.toUpperCase();let L=(c.filename||"").split(".").pop();return L?L.toUpperCase():"FILE"},le=c=>!c||c<=0?"\u2014":c<1024?`${c} o`:c<1024*1024?`${(c/1024).toFixed(1)} ko`:`${(c/(1024*1024)).toFixed(1)} Mo`,ae=()=>{C==null||C.classList.add("hidden"),I==null||I.classList.remove("hidden"),Q(),D=null,l=!1,ie(!1),W&&(W.innerHTML='<span class="text-slate-400 text-sm">Aucun m\xE9dia s\xE9lectionn\xE9</span>'),J&&(J.textContent=""),$&&($.textContent=""),F&&(F.textContent=""),w&&(w.value=""),q&&(q.textContent=""),p&&(p.innerHTML="")},Q=()=>{H=null,u=!1,h=!1,S&&(URL.revokeObjectURL(S),S=null),X&&(X.textContent="Aucun fichier s\xE9lectionn\xE9."),B&&(B.value="")},re=()=>{x&&(V.length?V.length===1?x.textContent="1 m\xE9dia":x.textContent=`${V.length} m\xE9dias`:x.textContent="0 m\xE9dia")},te=()=>{if(o.innerHTML="",!V.length){g==null||g.classList.remove("hidden"),ae();return}g==null||g.classList.add("hidden"),V.forEach(c=>{let L=document.createElement("button");L.type="button",L.dataset.mediaId=c.id;let _=c.id===D;L.className=["group relative flex flex-col rounded-2xl border px-3 py-3 text-left transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[#9C6BFF]",_?"border-[#9C6BFF] bg-[#F7F0FF]/60 shadow-sm":"border-slate-200 hover:border-[#9C6BFF]/40"].join(" ");let O=se(c)?`<img src="${c.path}" alt="${c.alt||c.filename}" class="h-full w-full object-cover" />`:'<div class="flex h-full w-full items-center justify-center text-3xl text-slate-400">\u{1F4C4}</div>';L.innerHTML=`
          <div class="relative aspect-[4/3] overflow-hidden rounded-xl bg-slate-100">
            ${O}
          </div>
          <div class="mt-2 space-y-1">
            <p class="text-sm font-semibold text-slate-900 truncate">${c.filename}</p>
            <p class="text-xs text-slate-500">
              ${oe(c)} \xB7 ${le(c.size)}
            </p>
          </div>
        `,c.id===N&&(L.classList.add("ring-2","ring-[#9C6BFF]"),window.setTimeout(()=>{L.classList.remove("ring-2","ring-[#9C6BFF]")},1600)),L.addEventListener("click",()=>$e(c.id)),o.appendChild(L)}),N=null},Se=c=>{if(p){if(p.innerHTML="",!c.usedIn||c.usedIn.length===0){let L=document.createElement("li");L.textContent="Non utilis\xE9",L.className="text-xs text-slate-400",p.appendChild(L);return}c.usedIn.forEach(L=>{let _=document.createElement("li");_.textContent=L,_.className="text-xs text-slate-600",p.appendChild(_)})}},ie=c=>{if(f){if(u){f.textContent=c?"T\xE9l\xE9versement\u2026":"T\xE9l\xE9verser",f.disabled=c||!H,d&&d.classList.add("hidden");return}f.textContent=c?"Enregistrement\u2026":"Enregistrer",f.disabled=c||!l,d&&(d.classList.remove("hidden"),d.disabled=!D)}},$e=c=>{let L=Y.find(_=>_.id===c);if(!L){ae(),te();return}Q(),D=L.id,l=!1,ie(!1),te(),I==null||I.classList.add("hidden"),C==null||C.classList.remove("hidden"),W&&(se(L)?W.innerHTML=`<img src="${L.path}" alt="${L.alt||L.filename}" class="h-full w-full rounded-2xl object-cover" />`:W.innerHTML='<div class="flex h-full w-full flex-col items-center justify-center gap-1 text-slate-400"><span class="text-3xl">\u{1F4C4}</span><span class="text-xs font-semibold">Document</span></div>'),J&&(J.textContent=L.filename||"Fichier"),$&&($.textContent=oe(L)),F&&(F.textContent=le(L.size)),w&&(w.value=L.alt||""),q&&(q.textContent=L.path||"\u2014"),Se(L)},ce=c=>{if(c){if(u=!0,l=!1,D=null,I==null||I.classList.add("hidden"),C==null||C.classList.remove("hidden"),S&&URL.revokeObjectURL(S),S=URL.createObjectURL(c),W&&(W.innerHTML=`<img src="${S}" alt="${c.name}" class="h-full w-full rounded-2xl object-cover" />`),J&&(J.textContent=c.name),$&&($.textContent=oe({type:c.type,filename:c.name})),F&&(F.textContent=le(c.size)),w&&!w.value.trim()&&(w.value=c.name.replace(/\.[^.]+$/,"").replace(/[-_]/g," ")),q&&(q.textContent="En attente de t\xE9l\xE9versement"),p){p.innerHTML="";let L=document.createElement("li");L.textContent="Non utilis\xE9",L.className="text-xs text-slate-400",p.appendChild(L)}ie(!1)}},qe=()=>{let c=(A==null?void 0:A.value)||"all";c==="all"?V=[...Y]:V=Y.filter(L=>L.groupType===c),V.some(L=>L.id===D)||ae(),re(),te()},Le=async()=>{if(!G){g==null||g.classList.remove("hidden");return}try{let c=await fetch(G,{headers:{Accept:"application/json"}});if(!c.ok)throw new Error("Impossible de charger les m\xE9dias.");let L=await c.json().catch(()=>({items:[]}));Y=Array.isArray(L.items)?L.items.map(_=>({..._,groupType:m(_)})):[],qe()}catch(c){console.error("[media] load failed",c),P(c.message||"Impossible de charger les m\xE9dias."),Y=[],qe()}};A==null||A.addEventListener("change",()=>{qe()}),w==null||w.addEventListener("input",()=>{if(u){ie(!1);return}D&&(l=!0,ie(!1))});let Ve=c=>{if(c){if(!c.type.startsWith("image/")){P("Seules les images sont accept\xE9es pour le moment.");return}if(c.size>4*1024*1024){P("Fichier trop volumineux (4 Mo max).");return}H=c,ce(c),X&&(X.textContent=`${c.name} \xB7 ${le(c.size)}`)}},Ze=c=>new Promise((L,_)=>{let O=new FileReader;O.onload=()=>{let Ke=O.result||"",[,We=""]=String(Ke).split(",");L(We)},O.onerror=()=>_(new Error("Impossible de lire ce fichier.")),O.readAsDataURL(c)}),Qe=async()=>{if(!(!H||!G)){h=!0,ie(!0);try{let c=await Ze(H),L={filename:H.name,type:H.type,size:H.size,alt:(w==null?void 0:w.value)||"",data:c},_=await fetch(G,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(L)});if(!_.ok){let Ke=await _.json().catch(()=>({}));throw new Error(Ke.message||"Upload impossible.")}let O=await _.json();O.groupType=m(O),Y=[...Y,O],N=O.id,qe(),$e(O.id),P("M\xE9dia ajout\xE9"),Q()}catch(c){console.error("[media] upload failed",c),P(c.message||"Impossible de t\xE9l\xE9verser ce m\xE9dia.")}finally{h=!1,H=null,ie(!1)}}};k==null||k.addEventListener("click",()=>B==null?void 0:B.click()),B==null||B.addEventListener("change",()=>{B.files&&B.files[0]&&Ve(B.files[0])});let Je=()=>{E&&(E.classList.add("hidden"),E.classList.remove("flex"))},et=()=>{if(!(!D||u)){if(E){E.classList.remove("hidden"),E.classList.add("flex");return}window.confirm("Supprimer ce m\xE9dia ?")&&at()}},at=async()=>{if(!D||!G){Je();return}let c=()=>{d&&(d.disabled=!0),a&&(a.disabled=!0,a.textContent="Suppression\u2026")},L=()=>{d&&(d.disabled=!1),a&&(a.disabled=!1,a.textContent="Supprimer")};c();try{let _=await fetch(`${G}/${encodeURIComponent(D)}`,{method:"DELETE"});if(!_.ok){let O=await _.json().catch(()=>({}));throw new Error(O.message||"Suppression impossible.")}Y=Y.filter(O=>O.id!==D),V=V.filter(O=>O.id!==D),P("M\xE9dia supprim\xE9"),ae(),re(),te()}catch(_){console.error("[media] delete failed",_),P(_.message||"Impossible de supprimer ce m\xE9dia.")}finally{L(),Je()}};T==null||T.addEventListener("click",Je),E==null||E.addEventListener("click",c=>{c.target===E&&Je()}),a==null||a.addEventListener("click",()=>at()),d==null||d.addEventListener("click",et),f==null||f.addEventListener("click",async()=>{if(u){Qe();return}if(!(!D||!G||!w)){ie(!0);try{let c={alt:w.value||""},L=await fetch(`${G}/${encodeURIComponent(D)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});if(!L.ok){let O=await L.json().catch(()=>({}));throw new Error(O.message||"Impossible de mettre \xE0 jour ce m\xE9dia.")}let _=await L.json();Y=Y.map(O=>O.id===D?{...O,..._}:O),V=V.map(O=>O.id===D?{...O,..._}:O),l=!1,ie(!1),P("M\xE9dia mis \xE0 jour")}catch(c){console.error("[media] update failed",c),P(c.message||"\xC9chec de la mise \xE0 jour."),ie(!1)}}}),Le()}});})();
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vY29yZS9zY3JpcHRzL2FkbWluLmpzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuICBjb25zb2xlLmxvZygnW2FkbWluXSBBdGVsaWVyIGNoYXJnXHUwMEU5Jyk7XG4gIGNvbnN0IGxvZ291dEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWxvZ291dF0nKTtcbiAgaWYgKGxvZ291dEJ1dHRvbikge1xuICAgIGxvZ291dEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGxvZ291dEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBmZXRjaCgnL2FwaS9sb2dvdXQnLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbYWRtaW5dIEltcG9zc2libGUgZGUgc2UgZFx1MDBFOWNvbm5lY3RlcicsIGVycik7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvYWRtaW4vaW5kZXguaHRtbCc7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBjb25zdCBzaWRlYmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRtaW4tc2lkZWJhcl0nKTtcbiAgY29uc3Qgc2lkZWJhck92ZXJsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZG1pbi1zaWRlYmFyLW92ZXJsYXldJyk7XG4gIGNvbnN0IHNpZGViYXJUb2dnbGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYWRtaW4tc2lkZWJhci10b2dnbGVdJyk7XG4gIGNvbnN0IHNpZGViYXJDbG9zZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1hZG1pbi1zaWRlYmFyLWNsb3NlXScpO1xuICBjb25zdCBib2R5ID0gZG9jdW1lbnQuYm9keTtcbiAgbGV0IHNpZGViYXJPcGVuID0gZmFsc2U7XG5cbiAgY29uc3QgYXBwbHlTaWRlYmFyU3RhdGUgPSAoKSA9PiB7XG4gICAgaWYgKCFzaWRlYmFyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGlzRGVza3RvcCA9IHdpbmRvdy5tYXRjaE1lZGlhKCcobWluLXdpZHRoOiAxMDI0cHgpJykubWF0Y2hlcztcbiAgICBpZiAoaXNEZXNrdG9wKSB7XG4gICAgICBzaWRlYmFyLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgc2lkZWJhck92ZXJsYXk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHNpZGViYXJPcGVuKSB7XG4gICAgICBzaWRlYmFyLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgc2lkZWJhck92ZXJsYXk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgYm9keS5jbGFzc0xpc3QuYWRkKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2lkZWJhci5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIHNpZGViYXJPdmVybGF5Py5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnb3ZlcmZsb3ctaGlkZGVuJyk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IG9wZW5TaWRlYmFyID0gKCkgPT4ge1xuICAgIHNpZGViYXJPcGVuID0gdHJ1ZTtcbiAgICBhcHBseVNpZGViYXJTdGF0ZSgpO1xuICB9O1xuXG4gIGNvbnN0IGNsb3NlU2lkZWJhciA9ICgpID0+IHtcbiAgICBzaWRlYmFyT3BlbiA9IGZhbHNlO1xuICAgIGFwcGx5U2lkZWJhclN0YXRlKCk7XG4gIH07XG5cbiAgaWYgKHNpZGViYXIgJiYgc2lkZWJhclRvZ2dsZXMubGVuZ3RoID4gMCkge1xuICAgIHNpZGViYXJUb2dnbGVzLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlblNpZGViYXIpO1xuICAgIH0pO1xuICAgIHNpZGViYXJDbG9zZUJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZVNpZGViYXIpO1xuICAgIH0pO1xuICAgIHNpZGViYXJPdmVybGF5Py5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlU2lkZWJhcik7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGFwcGx5U2lkZWJhclN0YXRlKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VzY2FwZScgJiYgc2lkZWJhck9wZW4pIHtcbiAgICAgICAgY2xvc2VTaWRlYmFyKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgYXBwbHlTaWRlYmFyU3RhdGUoKTtcbiAgfVxuXG4gIGNvbnN0IEFDVElWRV9TSVRFX0tFWSA9ICdjbG93ZXI6Y3VycmVudFNpdGUnO1xuICBjb25zdCBBQ1RJVkVfU0lURV9OQU1FX0tFWSA9ICdjbG93ZXI6Y3VycmVudFNpdGVOYW1lJztcbiAgY29uc3Qgc3RvcmVkU2l0ZSA9IHsgc2x1ZzogbnVsbCwgbmFtZTogJycgfTtcbiAgY29uc3QgbG9hZFN0b3JlZFNpdGUgPSAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHN0b3JlZFNpdGUuc2x1ZyA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShBQ1RJVkVfU0lURV9LRVkpO1xuICAgICAgc3RvcmVkU2l0ZS5uYW1lID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKEFDVElWRV9TSVRFX05BTUVfS0VZKSB8fCAnJztcbiAgICB9IGNhdGNoIHtcbiAgICAgIHN0b3JlZFNpdGUuc2x1ZyA9IG51bGw7XG4gICAgICBzdG9yZWRTaXRlLm5hbWUgPSAnJztcbiAgICB9XG4gIH07XG4gIGxvYWRTdG9yZWRTaXRlKCk7XG5cbiAgY29uc3Qgc2l0ZUNhcmRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtc2l0ZS1jYXJkXScpO1xuICBjb25zdCBzaXRlU2VsZWN0QnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXNpdGUtc2VsZWN0XScpO1xuICBjb25zdCBzaXRlTmFtZUxhYmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY3VycmVudC1zaXRlLW5hbWVdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZVNpdGVMYWJlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXdvcmtzcGFjZS1zaXRlLW5hbWVdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZUJhY2tOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtd29ya3NwYWNlLWJhY2stbmFtZV0nKTtcbiAgY29uc3Qgd29ya3NwYWNlQmFja01vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtd29ya3NwYWNlLWJhY2stbW9kYWxdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZUJhY2tCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtd29ya3NwYWNlLWJhY2tdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZUJhY2tDYW5jZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS13b3Jrc3BhY2UtYmFjay1jYW5jZWxdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZUJhY2tDb25maXJtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtd29ya3NwYWNlLWJhY2stY29uZmlybV0nKTtcbiAgY29uc3Qgd29ya3NwYWNlTmF2TGlua3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS13b3Jrc3BhY2UtdGFiXScpO1xuICBjb25zdCBzaXRlVG9hc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLXRvYXN0XScpO1xuICBjb25zdCBzaXRlVG9hc3RNZXNzYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS10b2FzdC1tZXNzYWdlXScpO1xuICBjb25zdCBzaXRlQ3JlYXRlQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXNpdGUtY3JlYXRlXScpO1xuICBjb25zdCBzaXRlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLW1vZGFsXScpO1xuICBjb25zdCBzaXRlRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtZm9ybV0nKTtcbiAgY29uc3Qgc2l0ZU5hbWVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtbmFtZV0nKTtcbiAgY29uc3Qgc2l0ZVNsdWdJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtc2x1Z10nKTtcbiAgY29uc3Qgc2l0ZVNsdWdFcnJvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtc2x1Zy1lcnJvcl0nKTtcbiAgY29uc3Qgc2l0ZU1vZGFsRXJyb3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLW1vZGFsLWVycm9yXScpO1xuICBjb25zdCBzaXRlTW9kYWxDYW5jZWxCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtc2l0ZS1tb2RhbC1jYW5jZWxdJyk7XG4gIGNvbnN0IHNpdGVNb2RhbFN1Ym1pdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtbW9kYWwtc3VibWl0XScpO1xuICBjb25zdCB3b3Jrc3BhY2VDb250ZXh0ID0gZ2V0V29ya3NwYWNlQ29udGV4dCgpO1xuICBsZXQgc2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gIGxldCBsYXN0Rm9jdXNlZEVsZW1lbnQgPSBudWxsO1xuICBsZXQgdG9hc3RUaW1lb3V0SWQgPSBudWxsO1xuXG4gIGNvbnN0IGZvY3VzYWJsZVNlbGVjdG9yID1cbiAgICAnYVtocmVmXSwgYnV0dG9uOm5vdChbZGlzYWJsZWRdKSwgdGV4dGFyZWEsIGlucHV0LCBzZWxlY3QsIFt0YWJpbmRleF06bm90KFt0YWJpbmRleD1cIi0xXCJdKSc7XG4gIGNvbnN0IHRyYXBGb2N1cyA9IChldmVudCkgPT4ge1xuICAgIGlmICghc2l0ZU1vZGFsIHx8IHNpdGVNb2RhbC5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpIHx8IGV2ZW50LmtleSAhPT0gJ1RhYicpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZm9jdXNhYmxlRWxlbWVudHMgPSBBcnJheS5mcm9tKHNpdGVNb2RhbC5xdWVyeVNlbGVjdG9yQWxsKGZvY3VzYWJsZVNlbGVjdG9yKSkuZmlsdGVyKFxuICAgICAgKGVsKSA9PiAhZWwuaGFzQXR0cmlidXRlKCdkaXNhYmxlZCcpICYmICFlbC5nZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJyksXG4gICAgKTtcbiAgICBpZiAoZm9jdXNhYmxlRWxlbWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGZpcnN0ID0gZm9jdXNhYmxlRWxlbWVudHNbMF07XG4gICAgY29uc3QgbGFzdCA9IGZvY3VzYWJsZUVsZW1lbnRzW2ZvY3VzYWJsZUVsZW1lbnRzLmxlbmd0aCAtIDFdO1xuICAgIGlmIChldmVudC5zaGlmdEtleSkge1xuICAgICAgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IGZpcnN0KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGxhc3QuZm9jdXMoKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IGxhc3QpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBmaXJzdC5mb2N1cygpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBzaG93VG9hc3QgPSAobWVzc2FnZSkgPT4ge1xuICAgIGlmICghc2l0ZVRvYXN0IHx8ICFzaXRlVG9hc3RNZXNzYWdlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHNpdGVUb2FzdE1lc3NhZ2UudGV4dENvbnRlbnQgPSBtZXNzYWdlO1xuICAgIHNpdGVUb2FzdC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICBpZiAodG9hc3RUaW1lb3V0SWQpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0b2FzdFRpbWVvdXRJZCk7XG4gICAgfVxuICAgIHRvYXN0VGltZW91dElkID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBzaXRlVG9hc3QuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgfSwgMjUwMCk7XG4gIH07XG5cbiAgZnVuY3Rpb24gZW5zdXJlTGVhZGluZ1NsYXNoKHNsdWcpIHtcbiAgICBpZiAoIXNsdWcpIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgcmV0dXJuIHNsdWcuc3RhcnRzV2l0aCgnLycpID8gc2x1ZyA6IGAvJHtzbHVnfWA7XG4gIH1cblxuICBmdW5jdGlvbiBzdHJpcExlYWRpbmdTbGFzaChzbHVnKSB7XG4gICAgcmV0dXJuIHNsdWc/LnJlcGxhY2UoL15cXC8vLCAnJykgfHwgJyc7XG4gIH1cblxuICBjb25zdCBwZXJzaXN0U2l0ZVN0YXRlID0gKHNsdWcsIG5hbWUpID0+IHtcbiAgICBjb25zdCBub3JtYWxpemVkU2x1ZyA9IHNsdWcgPyBlbnN1cmVMZWFkaW5nU2xhc2goc2x1ZykgOiBudWxsO1xuICAgIHRyeSB7XG4gICAgICBpZiAobm9ybWFsaXplZFNsdWcpIHtcbiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKEFDVElWRV9TSVRFX0tFWSwgbm9ybWFsaXplZFNsdWcpO1xuICAgICAgICBzdG9yZWRTaXRlLnNsdWcgPSBub3JtYWxpemVkU2x1ZztcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgbmFtZSA9PT0gJ3N0cmluZycgJiYgbmFtZS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShBQ1RJVkVfU0lURV9OQU1FX0tFWSwgbmFtZSk7XG4gICAgICAgIHN0b3JlZFNpdGUubmFtZSA9IG5hbWU7XG4gICAgICB9XG4gICAgfSBjYXRjaCB7XG4gICAgICBzdG9yZWRTaXRlLnNsdWcgPSBub3JtYWxpemVkU2x1ZyB8fCBzdG9yZWRTaXRlLnNsdWc7XG4gICAgICBzdG9yZWRTaXRlLm5hbWUgPSBuYW1lIHx8IHN0b3JlZFNpdGUubmFtZTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgdXBkYXRlU2l0ZUxhYmVscyA9IChuYW1lKSA9PiB7XG4gICAgaWYgKHNpdGVOYW1lTGFiZWwgJiYgbmFtZSkge1xuICAgICAgc2l0ZU5hbWVMYWJlbC50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgfVxuICAgIGlmICh3b3Jrc3BhY2VTaXRlTGFiZWwgJiYgbmFtZSkge1xuICAgICAgd29ya3NwYWNlU2l0ZUxhYmVsLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICB9XG4gICAgaWYgKHdvcmtzcGFjZUJhY2tOYW1lICYmIG5hbWUpIHtcbiAgICAgIHdvcmtzcGFjZUJhY2tOYW1lLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgdXBkYXRlV29ya3NwYWNlTmF2TGlua3MgPSAoc2x1ZykgPT4ge1xuICAgIHdvcmtzcGFjZU5hdkxpbmtzLmZvckVhY2goKGxpbmspID0+IHtcbiAgICAgIGNvbnN0IHRhYiA9IGxpbmsuZGF0YXNldC53b3Jrc3BhY2VUYWI7XG4gICAgICBpZiAoIXRhYikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIXNsdWcpIHtcbiAgICAgICAgbGluay5ocmVmID0gJyMnO1xuICAgICAgICBsaW5rLmNsYXNzTGlzdC5hZGQoJ3BvaW50ZXItZXZlbnRzLW5vbmUnLCAnb3BhY2l0eS01MCcsICd0ZXh0LXNsYXRlLTQwMCcpO1xuICAgICAgICBsaW5rLnNldEF0dHJpYnV0ZSgnYXJpYS1kaXNhYmxlZCcsICd0cnVlJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHNsdWdQYXRoID0gZW5jb2RlVVJJQ29tcG9uZW50KHN0cmlwTGVhZGluZ1NsYXNoKHNsdWcpKTtcbiAgICAgIGxpbmsuaHJlZiA9IGAvYWRtaW4vc2l0ZS8ke3NsdWdQYXRofS8ke3RhYn1gO1xuICAgICAgbGluay5jbGFzc0xpc3QucmVtb3ZlKCdwb2ludGVyLWV2ZW50cy1ub25lJywgJ29wYWNpdHktNTAnLCAndGV4dC1zbGF0ZS00MDAnKTtcbiAgICAgIGxpbmsucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWRpc2FibGVkJyk7XG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3QgYXBwbHlBY3RpdmVTaXRlID0gKHNsdWcsIG9wdGlvbnMgPSB7fSkgPT4ge1xuICAgIGlmICghc2x1Zykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBub3JtYWxpemVkU2x1ZyA9IGVuc3VyZUxlYWRpbmdTbGFzaChzbHVnKTtcbiAgICBsZXQgYWN0aXZlU2l0ZU5hbWUgPVxuICAgICAgb3B0aW9ucy5zaXRlTmFtZSB8fCBzdG9yZWRTaXRlLm5hbWUgfHwgc2l0ZU5hbWVMYWJlbD8uZGF0YXNldC5kZWZhdWx0U2l0ZU5hbWUgfHwgJyc7XG4gICAgc2l0ZUNhcmRzLmZvckVhY2goKGNhcmQpID0+IHtcbiAgICAgIGNvbnN0IGNhcmRTbHVnID0gZW5zdXJlTGVhZGluZ1NsYXNoKGNhcmQuZGF0YXNldC5zaXRlQ2FyZCB8fCAnJyk7XG4gICAgICBjb25zdCBpc0FjdGl2ZSA9IGNhcmRTbHVnID09PSBub3JtYWxpemVkU2x1ZztcbiAgICAgIGNvbnN0IGJhZGdlID0gY2FyZC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLWFjdGl2ZS1iYWRnZV0nKTtcbiAgICAgIGlmIChpc0FjdGl2ZSkge1xuICAgICAgICBjYXJkLmNsYXNzTGlzdC5hZGQoJ2JvcmRlci1bIzlDNkJGRl0nLCAncmluZy0yJywgJ3JpbmctWyM5QzZCRkZdJywgJ3NoYWRvdy1tZCcpO1xuICAgICAgICBjYXJkLmNsYXNzTGlzdC5yZW1vdmUoJ2JvcmRlci1zbGF0ZS0yMDAnKTtcbiAgICAgICAgYmFkZ2U/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICBhY3RpdmVTaXRlTmFtZSA9IGNhcmQuZGF0YXNldC5zaXRlTmFtZSB8fCBhY3RpdmVTaXRlTmFtZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhcmQuY2xhc3NMaXN0LnJlbW92ZSgnYm9yZGVyLVsjOUM2QkZGXScsICdyaW5nLTInLCAncmluZy1bIzlDNkJGRl0nLCAnc2hhZG93LW1kJyk7XG4gICAgICAgIGNhcmQuY2xhc3NMaXN0LmFkZCgnYm9yZGVyLXNsYXRlLTIwMCcpO1xuICAgICAgICBiYWRnZT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKG9wdGlvbnMucGVyc2lzdCAhPT0gZmFsc2UpIHtcbiAgICAgIHBlcnNpc3RTaXRlU3RhdGUobm9ybWFsaXplZFNsdWcsIG9wdGlvbnMuc2l0ZU5hbWUgfHwgYWN0aXZlU2l0ZU5hbWUpO1xuICAgIH1cbiAgICBjb25zdCBmaW5hbE5hbWUgPSBvcHRpb25zLnNpdGVOYW1lIHx8IGFjdGl2ZVNpdGVOYW1lO1xuICAgIHVwZGF0ZVNpdGVMYWJlbHMoZmluYWxOYW1lKTtcbiAgICB1cGRhdGVXb3Jrc3BhY2VOYXZMaW5rcyhub3JtYWxpemVkU2x1Zyk7XG4gIH07XG5cbiAgY29uc3Qgc2VsZWN0U2l0ZSA9IGFzeW5jIChzbHVnLCBuYW1lKSA9PiB7XG4gICAgY29uc3Qgbm9ybWFsaXplZFNsdWcgPSBlbnN1cmVMZWFkaW5nU2xhc2goc2x1Zyk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvc2l0ZXMvc2VsZWN0Jywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgc2x1Zzogbm9ybWFsaXplZFNsdWcgfSksXG4gICAgICB9KTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgc2hvd1RvYXN0KHBheWxvYWQubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBzXHUwMEU5bGVjdGlvbm5lciBjZSBzaXRlLicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgY29uc3QgZmluYWxTbHVnID0gZW5zdXJlTGVhZGluZ1NsYXNoKHBheWxvYWQuc2x1ZyB8fCBub3JtYWxpemVkU2x1Zyk7XG4gICAgICBjb25zdCBmaW5hbE5hbWUgPSBwYXlsb2FkLm5hbWUgfHwgbmFtZTtcbiAgICAgIHBlcnNpc3RTaXRlU3RhdGUoZmluYWxTbHVnLCBmaW5hbE5hbWUpO1xuICAgICAgYXBwbHlBY3RpdmVTaXRlKGZpbmFsU2x1ZywgeyBzaXRlTmFtZTogZmluYWxOYW1lLCBwZXJzaXN0OiBmYWxzZSB9KTtcbiAgICAgIGNvbnN0IHNsdWdQYXRoID0gZW5jb2RlVVJJQ29tcG9uZW50KHN0cmlwTGVhZGluZ1NsYXNoKGZpbmFsU2x1ZykpO1xuICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBgL2FkbWluL3NpdGUvJHtzbHVnUGF0aH0vZGVzaWduYDtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1thZG1pbl0gSW1wb3NzaWJsZSBkZSBzXHUwMEU5bGVjdGlvbm5lciBsZSBzaXRlJywgZXJyKTtcbiAgICAgIHNob3dUb2FzdCgnRXJyZXVyIGluYXR0ZW5kdWUgbG9ycyBkZSBsYSBzXHUwMEU5bGVjdGlvbi4nKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3Qgc3luY0FjdGl2ZVNpdGVGcm9tU2VydmVyID0gYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL3NpdGVzL2N1cnJlbnQnLCB7IGNyZWRlbnRpYWxzOiAnc2FtZS1vcmlnaW4nIH0pO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDQgJiYgd29ya3NwYWNlQ29udGV4dCkge1xuICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9hZG1pbi9zaXRlcyc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3Qgc2l0ZSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWRTbHVnID0gZW5zdXJlTGVhZGluZ1NsYXNoKHNpdGUuc2x1Zyk7XG4gICAgICBwZXJzaXN0U2l0ZVN0YXRlKG5vcm1hbGl6ZWRTbHVnLCBzaXRlLm5hbWUpO1xuICAgICAgYXBwbHlBY3RpdmVTaXRlKG5vcm1hbGl6ZWRTbHVnLCB7IHNpdGVOYW1lOiBzaXRlLm5hbWUsIHBlcnNpc3Q6IGZhbHNlIH0pO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS53YXJuKCdbYWRtaW5dIEltcG9zc2libGUgZGUgclx1MDBFOWN1cFx1MDBFOXJlciBsZSBzaXRlIGFjdGlmJywgZXJyKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGlnaGxpZ2h0RnJvbVN0b3JhZ2VPckRlZmF1bHQgPSAoKSA9PiB7XG4gICAgaWYgKHN0b3JlZFNpdGUuc2x1Zykge1xuICAgICAgYXBwbHlBY3RpdmVTaXRlKHN0b3JlZFNpdGUuc2x1ZywgeyBzaXRlTmFtZTogc3RvcmVkU2l0ZS5uYW1lLCBwZXJzaXN0OiBmYWxzZSB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZGVmYXVsdENhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLWNhcmRdW2RhdGEtc2l0ZS1kZWZhdWx0PVwidHJ1ZVwiXScpIHx8IHNpdGVDYXJkc1swXTtcbiAgICBpZiAoZGVmYXVsdENhcmQpIHtcbiAgICAgIGFwcGx5QWN0aXZlU2l0ZShkZWZhdWx0Q2FyZC5kYXRhc2V0LnNpdGVDYXJkLCB7XG4gICAgICAgIHNpdGVOYW1lOiBkZWZhdWx0Q2FyZC5kYXRhc2V0LnNpdGVOYW1lIHx8ICcnLFxuICAgICAgICBwZXJzaXN0OiBmYWxzZSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICBoaWdobGlnaHRGcm9tU3RvcmFnZU9yRGVmYXVsdCgpO1xuICBzeW5jQWN0aXZlU2l0ZUZyb21TZXJ2ZXIoKTtcbiAgaWYgKHdvcmtzcGFjZUNvbnRleHQpIHtcbiAgICB1cGRhdGVXb3Jrc3BhY2VOYXZMaW5rcyh3b3Jrc3BhY2VDb250ZXh0LnNsdWdWYWx1ZSk7XG4gIH0gZWxzZSBpZiAoc3RvcmVkU2l0ZS5zbHVnKSB7XG4gICAgdXBkYXRlV29ya3NwYWNlTmF2TGlua3Moc3RvcmVkU2l0ZS5zbHVnKTtcbiAgfVxuXG4gIHNpdGVTZWxlY3RCdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGlmIChidXR0b24uZGlzYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3Qgc2x1ZyA9IGJ1dHRvbi5kYXRhc2V0LnNpdGVTZWxlY3Q7XG4gICAgICBjb25zdCBuYW1lID0gYnV0dG9uLmRhdGFzZXQuc2l0ZVNlbGVjdE5hbWUgfHwgJ0NlIHNpdGUnO1xuICAgICAgaWYgKCFzbHVnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICBzZWxlY3RTaXRlKHNsdWcsIG5hbWUpLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICBidXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBjb25zdCB3b3Jrc3BhY2VTbHVnaWZ5ID0gKHZhbHVlKSA9PlxuICAgIHZhbHVlXG4gICAgICAubm9ybWFsaXplKCdORkQnKVxuICAgICAgLnJlcGxhY2UoL1tcXHUwMzAwLVxcdTAzNmZdL2csICcnKVxuICAgICAgLnRvTG93ZXJDYXNlKClcbiAgICAgIC5yZXBsYWNlKC9bXmEtejAtOV0rL2csICctJylcbiAgICAgIC5yZXBsYWNlKC9eLSt8LSskL2csICcnKTtcblxuICBjb25zdCBub3JtYWxpemVTbHVnVmFsdWUgPSAodmFsdWUpID0+IHtcbiAgICBjb25zdCBiYXNlID0gd29ya3NwYWNlU2x1Z2lmeSh2YWx1ZSB8fCAnJyk7XG4gICAgaWYgKCFiYXNlKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIHJldHVybiBgLyR7YmFzZX1gO1xuICB9O1xuXG4gIGNvbnN0IG9wZW5TaXRlTW9kYWwgPSAoKSA9PiB7XG4gICAgaWYgKCFzaXRlTW9kYWwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGFzdEZvY3VzZWRFbGVtZW50ID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcbiAgICBzaXRlTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgc2l0ZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2ZsZXgnKTtcbiAgICBzbHVnTWFudWFsbHlFZGl0ZWQgPSBmYWxzZTtcbiAgICBzaXRlRm9ybT8ucmVzZXQoKTtcbiAgICBzaXRlU2x1Z0Vycm9yICYmIChzaXRlU2x1Z0Vycm9yLnRleHRDb250ZW50ID0gJycpO1xuICAgIHNpdGVNb2RhbEVycm9yICYmIChzaXRlTW9kYWxFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICBpZiAoc2l0ZVNsdWdJbnB1dCAmJiBzaXRlTmFtZUlucHV0KSB7XG4gICAgICBzaXRlU2x1Z0lucHV0LnZhbHVlID0gd29ya3NwYWNlU2x1Z2lmeShzaXRlTmFtZUlucHV0LnZhbHVlKTtcbiAgICB9XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRyYXBGb2N1cyk7XG4gICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgc2l0ZU5hbWVJbnB1dD8uZm9jdXMoKTtcbiAgICB9LCAwKTtcbiAgfTtcblxuICBjb25zdCBjbG9zZVNpdGVNb2RhbCA9ICgpID0+IHtcbiAgICBpZiAoIXNpdGVNb2RhbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzaXRlTW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgc2l0ZU1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2ZsZXgnKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdHJhcEZvY3VzKTtcbiAgICBzbHVnTWFudWFsbHlFZGl0ZWQgPSBmYWxzZTtcbiAgICBzaXRlRm9ybT8ucmVzZXQoKTtcbiAgICBzaXRlU2x1Z0Vycm9yICYmIChzaXRlU2x1Z0Vycm9yLnRleHRDb250ZW50ID0gJycpO1xuICAgIHNpdGVNb2RhbEVycm9yICYmIChzaXRlTW9kYWxFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICBsYXN0Rm9jdXNlZEVsZW1lbnQ/LmZvY3VzKCk7XG4gIH07XG5cbiAgc2l0ZUNyZWF0ZUJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlblNpdGVNb2RhbCk7XG4gIH0pO1xuXG4gIHNpdGVNb2RhbENhbmNlbEJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VTaXRlTW9kYWwpO1xuICB9KTtcblxuICBzaXRlTW9kYWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gc2l0ZU1vZGFsKSB7XG4gICAgICBjbG9zZVNpdGVNb2RhbCgpO1xuICAgIH1cbiAgfSk7XG5cbiAgc2l0ZU5hbWVJbnB1dD8uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgaWYgKCFzaXRlU2x1Z0lucHV0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghc2x1Z01hbnVhbGx5RWRpdGVkIHx8IHNpdGVTbHVnSW5wdXQudmFsdWUudHJpbSgpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgc2l0ZVNsdWdJbnB1dC52YWx1ZSA9IHdvcmtzcGFjZVNsdWdpZnkoc2l0ZU5hbWVJbnB1dC52YWx1ZSk7XG4gICAgfVxuICB9KTtcblxuICBzaXRlU2x1Z0lucHV0Py5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICBzbHVnTWFudWFsbHlFZGl0ZWQgPSB0cnVlO1xuICAgIHNpdGVTbHVnRXJyb3IgJiYgKHNpdGVTbHVnRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gIH0pO1xuXG4gIGNvbnN0IGdldFNsdWdTZXQgPSAoKSA9PlxuICAgIG5ldyBTZXQoQXJyYXkuZnJvbShzaXRlQ2FyZHMpLm1hcCgoY2FyZCkgPT4gZW5zdXJlTGVhZGluZ1NsYXNoKGNhcmQuZGF0YXNldC5zaXRlQ2FyZCB8fCAnJykpKTtcblxuICBzaXRlRm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAoIXNpdGVOYW1lSW5wdXQgfHwgIXNpdGVTbHVnSW5wdXQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgbmFtZVZhbHVlID0gKHNpdGVOYW1lSW5wdXQudmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICBsZXQgc2x1Z1ZhbHVlID0gc2l0ZVNsdWdJbnB1dC52YWx1ZSB8fCAnJztcbiAgICBpZiAoIXNsdWdWYWx1ZSkge1xuICAgICAgc2x1Z1ZhbHVlID0gbmFtZVZhbHVlO1xuICAgIH1cbiAgICBjb25zdCBub3JtYWxpemVkU2x1ZyA9IG5vcm1hbGl6ZVNsdWdWYWx1ZShzbHVnVmFsdWUpO1xuICAgIGlmICghbmFtZVZhbHVlIHx8ICFub3JtYWxpemVkU2x1Zykge1xuICAgICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9ICdOb20gZXQgc2x1ZyBzb250IHJlcXVpcy4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZXhpc3RpbmdTbHVncyA9IGdldFNsdWdTZXQoKTtcbiAgICBpZiAoZXhpc3RpbmdTbHVncy5oYXMobm9ybWFsaXplZFNsdWcpKSB7XG4gICAgICBzaXRlU2x1Z0Vycm9yICYmIChzaXRlU2x1Z0Vycm9yLnRleHRDb250ZW50ID0gJ0NlIHNsdWcgZXN0IGRcdTAwRTlqXHUwMEUwIHV0aWxpc1x1MDBFOS4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICBzaXRlTW9kYWxFcnJvciAmJiAoc2l0ZU1vZGFsRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgaWYgKHNpdGVNb2RhbFN1Ym1pdEJ1dHRvbikge1xuICAgICAgc2l0ZU1vZGFsU3VibWl0QnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIHNpdGVNb2RhbFN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9ICdDclx1MDBFOWF0aW9uLi4uJztcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvc2l0ZXMnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBuYW1lOiBuYW1lVmFsdWUsIHNsdWc6IG5vcm1hbGl6ZWRTbHVnIH0pLFxuICAgICAgfSk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBwYXlsb2FkLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgY3JcdTAwRTllciBjZSBzaXRlLic7XG4gICAgICAgIHNpdGVNb2RhbEVycm9yICYmIChzaXRlTW9kYWxFcnJvci50ZXh0Q29udGVudCA9IG1lc3NhZ2UpO1xuICAgICAgICBpZiAocGF5bG9hZC5maWVsZCA9PT0gJ3NsdWcnKSB7XG4gICAgICAgICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9IG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNyZWF0ZWRTaXRlID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgY29uc3QgZmluYWxTbHVnID0gZW5zdXJlTGVhZGluZ1NsYXNoKGNyZWF0ZWRTaXRlPy5zbHVnIHx8IG5vcm1hbGl6ZWRTbHVnKTtcbiAgICAgIGNvbnN0IGZpbmFsTmFtZSA9IGNyZWF0ZWRTaXRlPy5uYW1lIHx8IG5hbWVWYWx1ZTtcbiAgICAgIHBlcnNpc3RTaXRlU3RhdGUoZmluYWxTbHVnLCBmaW5hbE5hbWUpO1xuICAgICAgY2xvc2VTaXRlTW9kYWwoKTtcbiAgICAgIGNvbnN0IHNsdWdQYXRoID0gZW5jb2RlVVJJQ29tcG9uZW50KHN0cmlwTGVhZGluZ1NsYXNoKGZpbmFsU2x1ZykpO1xuICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBgL2FkbWluL3NpdGUvJHtzbHVnUGF0aH0vZGVzaWduYDtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1thZG1pbl0gSW1wb3NzaWJsZSBkZSBjclx1MDBFOWVyIGxlIHNpdGUnLCBlcnIpO1xuICAgICAgc2l0ZU1vZGFsRXJyb3IgJiYgKHNpdGVNb2RhbEVycm9yLnRleHRDb250ZW50ID0gJ0VycmV1ciBpbmF0dGVuZHVlLiBSXHUwMEU5ZXNzYWllIGRhbnMgdW4gaW5zdGFudC4nKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKHNpdGVNb2RhbFN1Ym1pdEJ1dHRvbikge1xuICAgICAgICBzaXRlTW9kYWxTdWJtaXRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgc2l0ZU1vZGFsU3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gJ0NyXHUwMEU5ZXInO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZlbnQpID0+IHtcbiAgICBpZiAoZXZlbnQua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgaWYgKHNpdGVNb2RhbCAmJiAhc2l0ZU1vZGFsLmNsYXNzTGlzdC5jb250YWlucygnaGlkZGVuJykpIHtcbiAgICAgICAgY2xvc2VTaXRlTW9kYWwoKTtcbiAgICAgIH1cbiAgICAgIGlmICh3b3Jrc3BhY2VCYWNrTW9kYWwgJiYgIXdvcmtzcGFjZUJhY2tNb2RhbC5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpKSB7XG4gICAgICAgIGNsb3NlV29ya3NwYWNlQmFja01vZGFsKCk7XG4gICAgICB9XG4gICAgICBpZiAoYmxvY2tEZWxldGVNb2RhbCAmJiAhYmxvY2tEZWxldGVNb2RhbC5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpKSB7XG4gICAgICAgIGNsb3NlQmxvY2tEZWxldGVNb2RhbCgpO1xuICAgICAgfVxuICAgICAgaWYgKGJsb2NrTGlicmFyeU9wZW4pIHtcbiAgICAgICAgY2xvc2VCbG9ja0xpYnJhcnkoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIGdldFdvcmtzcGFjZUNvbnRleHQoKSB7XG4gICAgY29uc3QgbWF0Y2ggPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUubWF0Y2goL15cXC9hZG1pblxcL3NpdGVcXC8oW14vXSspKD86XFwvKFteL10rKSk/Lyk7XG4gICAgaWYgKCFtYXRjaCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBzbHVnUGFydDogZGVjb2RlVVJJQ29tcG9uZW50KG1hdGNoWzFdKSxcbiAgICAgIHNsdWdWYWx1ZTogZW5zdXJlTGVhZGluZ1NsYXNoKGRlY29kZVVSSUNvbXBvbmVudChtYXRjaFsxXSkpLFxuICAgICAgc2VjdGlvbjogbWF0Y2hbMl0gfHwgJ2Rlc2lnbicsXG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRldGVjdFdvcmtzcGFjZVNlY3Rpb24oKSB7XG4gICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXBhZ2UtbGlzdF0nKSkge1xuICAgICAgcmV0dXJuICdkZXNpZ24nO1xuICAgIH1cbiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29sbGVjdGlvbi1saXN0XScpKSB7XG4gICAgICByZXR1cm4gJ2NvbnRlbnQnO1xuICAgIH1cbiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZ3JpZF0nKSkge1xuICAgICAgcmV0dXJuICdtZWRpYSc7XG4gICAgfVxuICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktZm9ybV0nKSkge1xuICAgICAgcmV0dXJuICdkZXBsb3knO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9wZW5Xb3Jrc3BhY2VCYWNrTW9kYWwoKSB7XG4gICAgaWYgKCF3b3Jrc3BhY2VCYWNrTW9kYWwpIHtcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9hZG1pbi9zaXRlcyc7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHdvcmtzcGFjZUJhY2tNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICB3b3Jrc3BhY2VCYWNrTW9kYWwuY2xhc3NMaXN0LmFkZCgnZmxleCcpO1xuICB9XG5cbiAgZnVuY3Rpb24gY2xvc2VXb3Jrc3BhY2VCYWNrTW9kYWwoKSB7XG4gICAgaWYgKCF3b3Jrc3BhY2VCYWNrTW9kYWwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgd29ya3NwYWNlQmFja01vZGFsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgIHdvcmtzcGFjZUJhY2tNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdmbGV4Jyk7XG4gIH1cblxuICB3b3Jrc3BhY2VCYWNrQnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuV29ya3NwYWNlQmFja01vZGFsKTtcbiAgfSk7XG4gIHdvcmtzcGFjZUJhY2tDYW5jZWwuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VXb3Jrc3BhY2VCYWNrTW9kYWwpO1xuICB9KTtcbiAgd29ya3NwYWNlQmFja0NvbmZpcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9hZG1pbi9zaXRlcyc7XG4gIH0pO1xuXG4gIGNvbnN0IGFjdGl2ZVNlY3Rpb24gPSB3b3Jrc3BhY2VDb250ZXh0Py5zZWN0aW9uIHx8IGRldGVjdFdvcmtzcGFjZVNlY3Rpb24oKTtcblxuICBpZiAoYWN0aXZlU2VjdGlvbiA9PT0gJ2Rlc2lnbicpIHtcbiAgICBpbml0RGVzaWduV29ya3NwYWNlKCk7XG4gIH1cbiAgaWYgKGFjdGl2ZVNlY3Rpb24gPT09ICdjb250ZW50Jykge1xuICAgIGluaXRDb250ZW50V29ya3NwYWNlKCk7XG4gIH1cbiAgaWYgKGFjdGl2ZVNlY3Rpb24gPT09ICdtZWRpYScpIHtcbiAgICBpbml0TWVkaWFXb3Jrc3BhY2UoKTtcbiAgfVxuICBpZiAoYWN0aXZlU2VjdGlvbiA9PT0gJ2RlcGxveScpIHtcbiAgICBpbml0RGVwbG95V29ya3NwYWNlKCk7XG4gIH1cbiAgaWYgKGFjdGl2ZVNlY3Rpb24gPT09ICdzZXR0aW5ncycpIHtcbiAgICBpbml0U2V0dGluZ3NXb3Jrc3BhY2UoKTtcbiAgfVxuXG4gIGlmICh3b3Jrc3BhY2VDb250ZXh0ICYmIHN0b3JlZFNpdGUubmFtZSkge1xuICAgIHVwZGF0ZVNpdGVMYWJlbHMoc3RvcmVkU2l0ZS5uYW1lKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXREZXNpZ25Xb3Jrc3BhY2UoKSB7XG4gICAgY29uc3QgcGFnZUxpc3RzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtcGFnZS1saXN0XScpO1xuICAgIGlmIChwYWdlTGlzdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGFjdGl2ZVRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWN0aXZlLXBhZ2UtdGl0bGVdJyk7XG4gICAgY29uc3QgYWN0aXZlU2x1ZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFjdGl2ZS1wYWdlLXNsdWddJyk7XG4gICAgY29uc3QgcHJldmlld1RhZ3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLXByZXZpZXctdGFnc10nKTtcbiAgICBjb25zdCBwcmV2aWV3RnJhbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLXByZXZpZXctZnJhbWVdJyk7XG4gICAgY29uc3QgcHJldmlld09wZW5CdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wcmV2aWV3LW9wZW5dJyk7XG4gICAgY29uc3QgcHJldmlld1N0YXR1cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXByZXZpZXctc3RhdHVzXScpO1xuICAgIGNvbnN0IHByZXZpZXdIaWdobGlnaHRPdmVybGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcHJldmlldy1oaWdobGlnaHRdJyk7XG4gICAgLy8gU0VPIHBhbmVsIGVsZW1lbnRzXG4gICAgY29uc3Qgc2VvVG9nZ2xlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2VvLXRvZ2dsZV0nKTtcbiAgICBjb25zdCBzZW9QYW5lbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby1wYW5lbF0nKTtcbiAgICBjb25zdCBzZW9DbG9zZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby1jbG9zZV0nKTtcbiAgICBjb25zdCBzZW9Gb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2VvLWZvcm1dJyk7XG4gICAgY29uc3Qgc2VvVGl0bGVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby10aXRsZV0nKTtcbiAgICBjb25zdCBzZW9EZXNjcmlwdGlvbklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2VvLWRlc2NyaXB0aW9uXScpO1xuICAgIGNvbnN0IHNlb0luZGV4ZWRDaGVja2JveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby1pbmRleGVkXScpO1xuICAgIGNvbnN0IHNlb0ZlZWRiYWNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2VvLWZlZWRiYWNrXScpO1xuICAgIGNvbnN0IHNlb1NhdmVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8tc2F2ZV0nKTtcbiAgICBjb25zdCBibG9ja0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9ja3MtbGlzdF0nKTtcbiAgICBjb25zdCBibG9ja0xpc3RFbXB0eSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2Nrcy1lbXB0eV0nKTtcbiAgICBjb25zdCBibG9ja0NvdW50QmFkZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1jb3VudF0nKTtcbiAgICBjb25zdCBibG9ja0xpYnJhcnlUb2dnbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1saWJyYXJ5LXRvZ2dsZV0nKTtcbiAgICBjb25zdCBibG9ja0xpYnJhcnkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1saWJyYXJ5XScpO1xuICAgIGNvbnN0IGJsb2NrQWRkQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWJsb2NrLWFkZF0nKTtcbiAgICBjb25zdCBibG9ja0RlbGV0ZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZGVsZXRlLW1vZGFsXScpO1xuICAgIGNvbnN0IGJsb2NrRGVsZXRlQ29uZmlybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWRlbGV0ZS1jb25maXJtXScpO1xuICAgIGNvbnN0IGJsb2NrRGVsZXRlQ2FuY2VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZGVsZXRlLWNhbmNlbF0nKTtcbiAgICBjb25zdCBibG9ja0RldGFpbEVtcHR5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZGV0YWlsLWVtcHR5XScpO1xuICAgIGNvbnN0IGJsb2NrRGV0YWlsU3RhdHVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZGV0YWlsLXN0YXR1c10nKTtcbiAgICBjb25zdCBibG9ja0VkaXRvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWVkaXRvcl0nKTtcbiAgICBjb25zdCBibG9ja0VkaXRvclRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZWRpdG9yLWJsb2NrLW5hbWVdJyk7XG4gICAgY29uc3QgYmxvY2tFZGl0b3JUeXBlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZWRpdG9yLWJsb2NrLXR5cGVdJyk7XG4gICAgY29uc3QgYmxvY2tFZGl0b3JVbnN1cHBvcnRlZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWVkaXRvci11bnN1cHBvcnRlZF0nKTtcbiAgICBjb25zdCBibG9ja0Zvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1mb3JtXScpO1xuICAgIGNvbnN0IGJsb2NrRm9ybVNlY3Rpb25zID0gYmxvY2tGb3JtXG4gICAgICA/IEFycmF5LmZyb20oYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWVkaXRvci1zZWN0aW9uXScpKVxuICAgICAgOiBbXTtcbiAgICAvLyBPbmdsZXRzIENvbnRlbnUgLyBBcHBhcmVuY2VcbiAgICBjb25zdCBibG9ja1RhYnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1ibG9jay10YWJdJyk7XG4gICAgbGV0IGFjdGl2ZUJsb2NrVGFiID0gJ2NvbnRlbnQnO1xuXG4gICAgLy8gRm9uY3Rpb24gcG91ciBzd2l0Y2hlciBlbnRyZSBsZXMgb25nbGV0cyBDb250ZW51L0FwcGFyZW5jZVxuICAgIGNvbnN0IHN3aXRjaEJsb2NrVGFiID0gKHRhYk5hbWUpID0+IHtcbiAgICAgIGFjdGl2ZUJsb2NrVGFiID0gdGFiTmFtZTtcbiAgICAgIC8vIE1ldHRyZSBcdTAwRTAgam91ciBsZXMgc3R5bGVzIGRlcyBib3V0b25zIGQnb25nbGV0XG4gICAgICBibG9ja1RhYnMuZm9yRWFjaCgodGFiKSA9PiB7XG4gICAgICAgIGNvbnN0IGlzQWN0aXZlID0gdGFiLmRhdGFzZXQuYmxvY2tUYWIgPT09IHRhYk5hbWU7XG4gICAgICAgIHRhYi5zZXRBdHRyaWJ1dGUoJ2FyaWEtc2VsZWN0ZWQnLCBpc0FjdGl2ZSA/ICd0cnVlJyA6ICdmYWxzZScpO1xuICAgICAgICBpZiAoaXNBY3RpdmUpIHtcbiAgICAgICAgICB0YWIuY2xhc3NMaXN0LmFkZCgndGV4dC1bIzlDNkJGRl0nKTtcbiAgICAgICAgICB0YWIuY2xhc3NMaXN0LnJlbW92ZSgndGV4dC1zbGF0ZS01MDAnLCAnaG92ZXI6dGV4dC1zbGF0ZS03MDAnKTtcbiAgICAgICAgICB0YWIuY2xhc3NMaXN0LmFkZCgnYWZ0ZXI6YWJzb2x1dGUnLCAnYWZ0ZXI6Ym90dG9tLTAnLCAnYWZ0ZXI6bGVmdC0wJywgJ2FmdGVyOnJpZ2h0LTAnLCAnYWZ0ZXI6aC0wLjUnLCAnYWZ0ZXI6YmctWyM5QzZCRkZdJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGFiLmNsYXNzTGlzdC5yZW1vdmUoJ3RleHQtWyM5QzZCRkZdJyk7XG4gICAgICAgICAgdGFiLmNsYXNzTGlzdC5hZGQoJ3RleHQtc2xhdGUtNTAwJywgJ2hvdmVyOnRleHQtc2xhdGUtNzAwJyk7XG4gICAgICAgICAgdGFiLmNsYXNzTGlzdC5yZW1vdmUoJ2FmdGVyOmFic29sdXRlJywgJ2FmdGVyOmJvdHRvbS0wJywgJ2FmdGVyOmxlZnQtMCcsICdhZnRlcjpyaWdodC0wJywgJ2FmdGVyOmgtMC41JywgJ2FmdGVyOmJnLVsjOUM2QkZGXScpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIC8vIEFmZmljaGVyL21hc3F1ZXIgbGVzIHBhbmVscyBkYW5zIGxhIHNlY3Rpb24gYWN0aXZlXG4gICAgICBjb25zdCBhY3RpdmVTZWN0aW9uID0gYmxvY2tGb3JtPy5xdWVyeVNlbGVjdG9yKCdbZGF0YS1lZGl0b3Itc2VjdGlvbl06bm90KC5oaWRkZW4pJyk7XG4gICAgICBpZiAoYWN0aXZlU2VjdGlvbikge1xuICAgICAgICBjb25zdCBwYW5lbHMgPSBhY3RpdmVTZWN0aW9uLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWJsb2NrLXBhbmVsXScpO1xuICAgICAgICBwYW5lbHMuZm9yRWFjaCgocGFuZWwpID0+IHtcbiAgICAgICAgICBpZiAocGFuZWwuZGF0YXNldC5ibG9ja1BhbmVsID09PSB0YWJOYW1lKSB7XG4gICAgICAgICAgICBwYW5lbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFuZWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIC8vIEFmZmljaGVyL21hc3F1ZXIgbGVzIGJvdXRvbnMgc2Vsb24gbCdvbmdsZXRcbiAgICAgIC8vIENvbnRlbnUgXHUyMTkyIGJvdXRvbnMgRW5yZWdpc3RyZXIvQW5udWxlclxuICAgICAgLy8gQXBwYXJlbmNlIFx1MjE5MiBpbmRpY2F0ZXVyIGF1dG8tc2F2ZVxuICAgICAgaWYgKGJsb2NrRm9ybUFjdGlvbnMgJiYgYmxvY2tGb3JtQXV0b3NhdmUpIHtcbiAgICAgICAgaWYgKHRhYk5hbWUgPT09ICdjb250ZW50Jykge1xuICAgICAgICAgIGJsb2NrRm9ybUFjdGlvbnMuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgYmxvY2tGb3JtQXV0b3NhdmUuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYmxvY2tGb3JtQWN0aW9ucy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgICBibG9ja0Zvcm1BdXRvc2F2ZS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBFdmVudCBsaXN0ZW5lcnMgcG91ciBsZXMgb25nbGV0c1xuICAgIGJsb2NrVGFicy5mb3JFYWNoKCh0YWIpID0+IHtcbiAgICAgIHRhYi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgc3dpdGNoQmxvY2tUYWIodGFiLmRhdGFzZXQuYmxvY2tUYWIpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBjb25zdCBjb2xsZWN0aW9uU2VsZWN0ID0gYmxvY2tGb3JtPy5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImNvbGxlY3Rpb24tZ3JpZC1jb2xsZWN0aW9uXCJdJyk7XG4gICAgY29uc3QgY29sbGVjdGlvblNlbGVjdGlvbkluZm8gPSBibG9ja0Zvcm0/LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAnW2RhdGEtY29sbGVjdGlvbi1zZWxlY3Rpb24taW5mb10nLFxuICAgICk7XG4gICAgY29uc3QgYmxvY2tGb3JtQ2FuY2VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZm9ybS1jYW5jZWxdJyk7XG4gICAgY29uc3QgYmxvY2tGb3JtQWN0aW9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWZvcm0tYWN0aW9uc10nKTtcbiAgICBjb25zdCBibG9ja0Zvcm1BdXRvc2F2ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWZvcm0tYXV0b3NhdmVdJyk7XG4gICAgY29uc3QgZ3JvdXBQcmV2aWV3TW9iaWxlID0gYmxvY2tGb3JtPy5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ncm91cC1wcmV2aWV3LW1vYmlsZV0nKTtcbiAgICBjb25zdCBncm91cFByZXZpZXdEZXNrdG9wID0gYmxvY2tGb3JtPy5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ncm91cC1wcmV2aWV3LWRlc2t0b3BdJyk7XG4gICAgY29uc3QgY29sbGVjdGlvblByZXZpZXdNb2JpbGUgPSBibG9ja0Zvcm0/LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbGxlY3Rpb24tcHJldmlldy1tb2JpbGVdJyk7XG4gICAgY29uc3QgY29sbGVjdGlvblByZXZpZXdEZXNrdG9wID0gYmxvY2tGb3JtPy5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xsZWN0aW9uLXByZXZpZXctZGVza3RvcF0nKTtcbiAgICBjb25zdCBibG9ja1R5cGVGb3JtcyA9IHtcbiAgICAgIGhlcm86IHtcbiAgICAgICAgc2VjdGlvbjogJ2hlcm8nLFxuICAgICAgICBsYWJlbEZpZWxkOiAndGl0bGUnLFxuICAgICAgICBkZXNjcmlwdGlvbkZpZWxkOiAnc3VidGl0bGUnLFxuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICB0aXRsZTogJ2hlcm8tdGl0bGUnLFxuICAgICAgICAgIHN1YnRpdGxlOiAnaGVyby1zdWJ0aXRsZScsXG4gICAgICAgICAgY3RhTGFiZWw6ICdoZXJvLWN0YS1sYWJlbCcsXG4gICAgICAgICAgY3RhVXJsOiAnaGVyby1jdGEtdXJsJyxcbiAgICAgICAgICAvLyBBcHBhcmVuY2VcbiAgICAgICAgICBpbWFnZTogJ2hlcm8taW1hZ2UnLFxuICAgICAgICAgIGxheW91dDogJ2hlcm8tbGF5b3V0JyxcbiAgICAgICAgICBoZWlnaHQ6ICdoZXJvLWhlaWdodCcsXG4gICAgICAgICAgY29udGVudEFsaWduOiAnaGVyby1jb250ZW50LWFsaWduJyxcbiAgICAgICAgICBvdmVybGF5OiAnaGVyby1vdmVybGF5JyxcbiAgICAgICAgICB0aXRsZVNpemU6ICdoZXJvLXRpdGxlLXNpemUnLFxuICAgICAgICAgIC8vIENhcmQgc3R5bGVcbiAgICAgICAgICBiZzogJ2hlcm8tYmcnLFxuICAgICAgICAgIGJvcmRlclJhZGl1czogJ2hlcm8tYm9yZGVyLXJhZGl1cycsXG4gICAgICAgICAgc2hhZG93OiAnaGVyby1zaGFkb3cnLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIHBhcmFncmFwaGU6IHtcbiAgICAgICAgc2VjdGlvbjogJ3BhcmFncmFwaCcsXG4gICAgICAgIGxhYmVsRmllbGQ6ICd0aXRsZScsXG4gICAgICAgIGRlc2NyaXB0aW9uRmllbGQ6ICdjb250ZW50JyxcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgdGl0bGU6ICdwYXJhZ3JhcGgtdGl0bGUnLFxuICAgICAgICAgIGNvbnRlbnQ6ICdwYXJhZ3JhcGgtY29udGVudCcsXG4gICAgICAgICAgLy8gQXBwYXJlbmNlXG4gICAgICAgICAgYWxpZ246ICdwYXJhZ3JhcGgtYWxpZ24nLFxuICAgICAgICAgIHRpdGxlU2l6ZTogJ3BhcmFncmFwaC10aXRsZS1zaXplJyxcbiAgICAgICAgICB0ZXh0U2l6ZTogJ3BhcmFncmFwaC10ZXh0LXNpemUnLFxuICAgICAgICAgIHNwYWNpbmc6ICdwYXJhZ3JhcGgtc3BhY2luZycsXG4gICAgICAgICAgLy8gQ2FyZCBzdHlsZVxuICAgICAgICAgIGJnOiAncGFyYWdyYXBoLWJnJyxcbiAgICAgICAgICBib3JkZXJSYWRpdXM6ICdwYXJhZ3JhcGgtYm9yZGVyLXJhZGl1cycsXG4gICAgICAgICAgc2hhZG93OiAncGFyYWdyYXBoLXNoYWRvdycsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgaW1hZ2U6IHtcbiAgICAgICAgc2VjdGlvbjogJ2ltYWdlJyxcbiAgICAgICAgbGFiZWxGaWVsZDogJ2FsdCcsXG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIHNyYzogJ2ltYWdlLXNyYycsXG4gICAgICAgICAgYWx0OiAnaW1hZ2UtYWx0JyxcbiAgICAgICAgICBzaG93Q2FwdGlvbjogJ2ltYWdlLWNhcHRpb24tdG9nZ2xlJyxcbiAgICAgICAgICBjYXB0aW9uOiAnaW1hZ2UtY2FwdGlvbicsXG4gICAgICAgICAgLy8gQXBwYXJlbmNlXG4gICAgICAgICAgcm91bmRlZDogJ2ltYWdlLXJvdW5kZWQnLFxuICAgICAgICAgIHNoYWRvdzogJ2ltYWdlLXNoYWRvdycsXG4gICAgICAgICAgbWF4V2lkdGg6ICdpbWFnZS1tYXgtd2lkdGgnLFxuICAgICAgICAgIGFsaWduOiAnaW1hZ2UtYWxpZ24nLFxuICAgICAgICAgIC8vIENhcmQgc3R5bGVcbiAgICAgICAgICBiZzogJ2ltYWdlLWJnJyxcbiAgICAgICAgICBib3JkZXJSYWRpdXM6ICdpbWFnZS1ib3JkZXItcmFkaXVzJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBncm91cGU6IHtcbiAgICAgICAgc2VjdGlvbjogJ2dyb3VwJyxcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgLy8gQXBwYXJlbmNlXG4gICAgICAgICAgY29sdW1uc01vYmlsZTogJ2dyb3VwLWNvbHVtbnMtbW9iaWxlJyxcbiAgICAgICAgICBjb2x1bW5zRGVza3RvcDogJ2dyb3VwLWNvbHVtbnMtZGVza3RvcCcsXG4gICAgICAgICAgZ2FwOiAnZ3JvdXAtZ2FwJyxcbiAgICAgICAgICBpdGVtc0FsaWduOiAnZ3JvdXAtaXRlbXMtYWxpZ24nLFxuICAgICAgICAgIC8vIENhcmQgc3R5bGVcbiAgICAgICAgICBiZzogJ2dyb3VwLWJnJyxcbiAgICAgICAgICBib3JkZXJSYWRpdXM6ICdncm91cC1ib3JkZXItcmFkaXVzJyxcbiAgICAgICAgICBzaGFkb3c6ICdncm91cC1zaGFkb3cnLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGNvbGxlY3Rpb25ncmlkOiB7XG4gICAgICAgIHNlY3Rpb246ICdjb2xsZWN0aW9uJyxcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgY29sbGVjdGlvbklkOiAnY29sbGVjdGlvbi1ncmlkLWNvbGxlY3Rpb24nLFxuICAgICAgICAgIGxpbWl0OiAnY29sbGVjdGlvbi1ncmlkLWxpbWl0JyxcbiAgICAgICAgICAvLyBBcHBhcmVuY2VcbiAgICAgICAgICBjb2x1bW5zTW9iaWxlOiAnY29sbGVjdGlvbi1jb2x1bW5zLW1vYmlsZScsXG4gICAgICAgICAgY29sdW1uc0Rlc2t0b3A6ICdjb2xsZWN0aW9uLWNvbHVtbnMtZGVza3RvcCcsXG4gICAgICAgICAgZ2FwOiAnY29sbGVjdGlvbi1nYXAnLFxuICAgICAgICAgIGl0ZW1zQWxpZ246ICdjb2xsZWN0aW9uLWl0ZW1zLWFsaWduJyxcbiAgICAgICAgICBjYXJkUm91bmRlZDogJ2NvbGxlY3Rpb24tY2FyZC1yb3VuZGVkJyxcbiAgICAgICAgICAvLyBDYXJkIHN0eWxlXG4gICAgICAgICAgYmc6ICdjb2xsZWN0aW9uLWJnJyxcbiAgICAgICAgICBib3JkZXJSYWRpdXM6ICdjb2xsZWN0aW9uLWJvcmRlci1yYWRpdXMnLFxuICAgICAgICAgIHNoYWRvdzogJ2NvbGxlY3Rpb24tc2hhZG93JyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBmb3JtOiB7XG4gICAgICAgIHNlY3Rpb246ICdmb3JtJyxcbiAgICAgICAgbGFiZWxGaWVsZDogJ2Zvcm1UaXRsZScsXG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIGZvcm1UaXRsZTogJ2Zvcm0tdGl0bGUnLFxuICAgICAgICAgIGFjdGlvblVybDogJ2Zvcm0tYWN0aW9uLXVybCcsXG4gICAgICAgICAgbWV0aG9kOiAnZm9ybS1tZXRob2QnLFxuICAgICAgICAgIHNlcnZpY2VOYW1lOiAnZm9ybS1zZXJ2aWNlLW5hbWUnLFxuICAgICAgICAgIHN1Ym1pdExhYmVsOiAnZm9ybS1zdWJtaXQtbGFiZWwnLFxuICAgICAgICAgIHN1Y2Nlc3NNZXNzYWdlOiAnZm9ybS1zdWNjZXNzLW1lc3NhZ2UnLFxuICAgICAgICAgIC8vIEFwcGFyZW5jZVxuICAgICAgICAgIG1heFdpZHRoOiAnZm9ybS1tYXgtd2lkdGgnLFxuICAgICAgICAgIGFsaWduOiAnZm9ybS1hbGlnbicsXG4gICAgICAgICAgYnV0dG9uUm91bmRlZDogJ2Zvcm0tYnV0dG9uLXJvdW5kZWQnLFxuICAgICAgICAgIHNwYWNpbmc6ICdmb3JtLXNwYWNpbmcnLFxuICAgICAgICAgIC8vIENhcmQgc3R5bGVcbiAgICAgICAgICBiZzogJ2Zvcm0tYmcnLFxuICAgICAgICAgIGJvcmRlclJhZGl1czogJ2Zvcm0tYm9yZGVyLXJhZGl1cycsXG4gICAgICAgICAgc2hhZG93OiAnZm9ybS1zaGFkb3cnLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIG5ld3NsZXR0ZXJlbWJlZDoge1xuICAgICAgICBzZWN0aW9uOiAnbmV3c2xldHRlcicsXG4gICAgICAgIGxhYmVsRmllbGQ6ICd0aXRsZScsXG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIHRpdGxlOiAnbmV3c2xldHRlci10aXRsZScsXG4gICAgICAgICAgc2VydmljZU5hbWU6ICduZXdzbGV0dGVyLXNlcnZpY2UtbmFtZScsXG4gICAgICAgICAgZW1iZWRDb2RlOiAnbmV3c2xldHRlci1lbWJlZC1jb2RlJyxcbiAgICAgICAgICAvLyBBcHBhcmVuY2VcbiAgICAgICAgICBtYXhXaWR0aDogJ25ld3NsZXR0ZXItbWF4LXdpZHRoJyxcbiAgICAgICAgICBhbGlnbjogJ25ld3NsZXR0ZXItYWxpZ24nLFxuICAgICAgICAgIHBhZGRpbmc6ICduZXdzbGV0dGVyLXBhZGRpbmcnLFxuICAgICAgICAgIGJnOiAnbmV3c2xldHRlci1iZycsXG4gICAgICAgICAgLy8gQ2FyZCBzdHlsZVxuICAgICAgICAgIGJvcmRlclJhZGl1czogJ25ld3NsZXR0ZXItYm9yZGVyLXJhZGl1cycsXG4gICAgICAgICAgc2hhZG93OiAnbmV3c2xldHRlci1zaGFkb3cnLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9O1xuICAgIGNvbnN0IGJsb2NrVHlwZUFsaWFzZXMgPSB7XG4gICAgICB0ZXh0ZTogJ3BhcmFncmFwaGUnLFxuICAgICAgcGFyYWdyYXBoOiAncGFyYWdyYXBoZScsXG4gICAgICBwYXJhZ3JhcGhzOiAncGFyYWdyYXBoZScsXG4gICAgICBwYXJhZ3JhcGhlczogJ3BhcmFncmFwaGUnLFxuICAgICAgdGV4dDogJ3BhcmFncmFwaGUnLFxuICAgICAgaGVybzogJ2hlcm8nLFxuICAgICAgaW1hZ2U6ICdpbWFnZScsXG4gICAgICBncm91cGU6ICdncm91cGUnLFxuICAgICAgZ3JvdXA6ICdncm91cGUnLFxuICAgICAgY29sbGVjdGlvbjogJ2NvbGxlY3Rpb25ncmlkJyxcbiAgICAgIGNvbGxlY3Rpb25ncmlkOiAnY29sbGVjdGlvbmdyaWQnLFxuICAgICAgJ2NvbGxlY3Rpb24tZ3JpZCc6ICdjb2xsZWN0aW9uZ3JpZCcsXG4gICAgICBmb3JtOiAnZm9ybScsXG4gICAgICBmb3JtdWxhaXJlOiAnZm9ybScsXG4gICAgICBjb250YWN0OiAnZm9ybScsXG4gICAgICBuZXdzbGV0dGVyZW1iZWQ6ICduZXdzbGV0dGVyZW1iZWQnLFxuICAgICAgbmV3c2xldHRlcjogJ25ld3NsZXR0ZXJlbWJlZCcsXG4gICAgICBlbWJlZDogJ25ld3NsZXR0ZXJlbWJlZCcsXG4gICAgfTtcbiAgICBjb25zdCB1cGRhdGVHcm91cE1pbmlQcmV2aWV3ID0gKG1vYmlsZVZhbHVlLCBkZXNrdG9wVmFsdWUpID0+IHtcbiAgICAgIGlmICghZ3JvdXBQcmV2aWV3TW9iaWxlIHx8ICFncm91cFByZXZpZXdEZXNrdG9wKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlbmRlckJveGVzID0gKGNvdW50KSA9PlxuICAgICAgICBBcnJheS5mcm9tKHsgbGVuZ3RoOiBOdW1iZXIoY291bnQpIHx8IDEgfSlcbiAgICAgICAgICAubWFwKCgpID0+ICc8c3BhbiBjbGFzcz1cImJsb2NrIGgtMiB3LWZ1bGwgcm91bmRlZC1mdWxsIGJnLXNsYXRlLTMwMFwiPjwvc3Bhbj4nKVxuICAgICAgICAgIC5qb2luKCcnKTtcbiAgICAgIGdyb3VwUHJldmlld01vYmlsZS5pbm5lckhUTUwgPSByZW5kZXJCb3hlcyhtb2JpbGVWYWx1ZSk7XG4gICAgICBncm91cFByZXZpZXdEZXNrdG9wLmlubmVySFRNTCA9IHJlbmRlckJveGVzKGRlc2t0b3BWYWx1ZSk7XG4gICAgfTtcbiAgICBjb25zdCB1cGRhdGVDb2xsZWN0aW9uTWluaVByZXZpZXcgPSAobW9iaWxlVmFsdWUsIGRlc2t0b3BWYWx1ZSkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uUHJldmlld01vYmlsZSB8fCAhY29sbGVjdGlvblByZXZpZXdEZXNrdG9wKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlbmRlckJveGVzID0gKGNvdW50KSA9PlxuICAgICAgICBBcnJheS5mcm9tKHsgbGVuZ3RoOiBOdW1iZXIoY291bnQpIHx8IDEgfSlcbiAgICAgICAgICAubWFwKCgpID0+ICc8c3BhbiBjbGFzcz1cImJsb2NrIGgtMiB3LWZ1bGwgcm91bmRlZC1mdWxsIGJnLXZpb2xldC0zMDBcIj48L3NwYW4+JylcbiAgICAgICAgICAuam9pbignJyk7XG4gICAgICBjb2xsZWN0aW9uUHJldmlld01vYmlsZS5pbm5lckhUTUwgPSByZW5kZXJCb3hlcyhtb2JpbGVWYWx1ZSk7XG4gICAgICBjb2xsZWN0aW9uUHJldmlld0Rlc2t0b3AuaW5uZXJIVE1MID0gcmVuZGVyQm94ZXMoZGVza3RvcFZhbHVlKTtcbiAgICB9O1xuICAgIGNvbnN0IGZldGNoUGFnZXNGcm9tU2VydmVyID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFwYWdlc0FwaUJhc2UpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChwYWdlc0FwaUJhc2UsIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ltcG9zc2libGUgZGUgY2hhcmdlciBsZXMgcGFnZXMuJyk7XG4gICAgICB9XG4gICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+IFtdKTtcbiAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHBheWxvYWQpID8gcGF5bG9hZCA6IFtdO1xuICAgIH07XG4gICAgY29uc3QgY3JlYXRlUGFnZU9uU2VydmVyID0gYXN5bmMgKHsgdGl0bGUsIHNsdWcgfSkgPT4ge1xuICAgICAgaWYgKCFwYWdlc0FwaUJhc2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTaXRlIGluY29ubnUuJyk7XG4gICAgICB9XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHBhZ2VzQXBpQmFzZSwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgdGl0bGUsIHNsdWcgfSksXG4gICAgICB9KTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHBheWxvYWQubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBjclx1MDBFOWVyIGxhIHBhZ2UuJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgIH07XG4gICAgY29uc3Qgc2F2ZVBhZ2VUb1NlcnZlciA9IGFzeW5jIChwYWdlKSA9PiB7XG4gICAgICBpZiAoIXBhZ2VzQXBpQmFzZSB8fCAhcGFnZT8uaWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtwYWdlc0FwaUJhc2V9LyR7ZW5jb2RlVVJJQ29tcG9uZW50KHBhZ2UuaWQpfWAsIHtcbiAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYWdlKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihwYXlsb2FkLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgc2F1dmVnYXJkZXIgbGEgcGFnZS4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzYXZlZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgaWYgKHNhdmVkPy5pZCkge1xuICAgICAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBub3JtYWxpemVQYWdlRGF0YShzYXZlZCk7XG4gICAgICAgICAgcGFnZXMgPSBwYWdlcy5tYXAoKGVudHJ5KSA9PiAoZW50cnkuaWQgPT09IG5vcm1hbGl6ZWQuaWQgPyBub3JtYWxpemVkIDogZW50cnkpKTtcbiAgICAgICAgICBpZiAoY3VycmVudFBhZ2U/LmlkID09PSBub3JtYWxpemVkLmlkKSB7XG4gICAgICAgICAgICBjdXJyZW50UGFnZSA9IG5vcm1hbGl6ZWQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBub3JtYWxpemVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzYXZlZDtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZGVzaWduXSBTYXZlIHBhZ2UgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdTYXV2ZWdhcmRlIGltcG9zc2libGUuJyk7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBsb2FkUGFnZXNGcm9tU2VydmVyID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFwYWdlc0FwaUJhc2UpIHtcbiAgICAgICAgcGFnZXMgPSBbXTtcbiAgICAgICAgYWN0aXZlUGFnZUlkID0gbnVsbDtcbiAgICAgICAgY3VycmVudFBhZ2UgPSBudWxsO1xuICAgICAgICByZW5kZXJQYWdlTGlzdHMocGFnZXMsIGFjdGl2ZVBhZ2VJZCk7XG4gICAgICAgIHJlbmRlckJsb2NrTGlzdChudWxsKTtcbiAgICAgICAgYmxvY2tEZXRhaWxFbXB0eT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIGJsb2NrRWRpdG9yPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgbG9hZGVkUGFnZXMgPSBhd2FpdCBmZXRjaFBhZ2VzRnJvbVNlcnZlcigpO1xuICAgICAgICBwYWdlcyA9IChBcnJheS5pc0FycmF5KGxvYWRlZFBhZ2VzKSA/IGxvYWRlZFBhZ2VzIDogW10pLm1hcCgocGFnZSkgPT5cbiAgICAgICAgICBub3JtYWxpemVQYWdlRGF0YShwYWdlKSxcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKHBhZ2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIGFjdGl2ZVBhZ2VJZCA9IG51bGw7XG4gICAgICAgICAgY3VycmVudFBhZ2UgPSBudWxsO1xuICAgICAgICAgIHJlbmRlclBhZ2VMaXN0cyhwYWdlcywgYWN0aXZlUGFnZUlkKTtcbiAgICAgICAgICByZW5kZXJCbG9ja0xpc3QobnVsbCk7XG4gICAgICAgICAgYmxvY2tEZXRhaWxFbXB0eT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgYmxvY2tFZGl0b3I/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICAgIHByZXZpZXdGcmFtZSAmJiAocHJldmlld0ZyYW1lLnNyY2RvYyA9IGdldExvYWRpbmdQcmV2aWV3SHRtbCgpKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgYWN0aXZlUGFnZUlkID0gZ2V0U3RvcmVkQWN0aXZlUGFnZShwYWdlcyk7XG4gICAgICAgIHNldEFjdGl2ZVBhZ2UoYWN0aXZlUGFnZUlkKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZGVzaWduXSBJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIHBhZ2VzJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KCdJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIHBhZ2VzLicpO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3Qgbm9ybWFsaXplVHlwZSA9ICh2YWx1ZSkgPT5cbiAgICAgICh2YWx1ZSB8fCAnJykubm9ybWFsaXplKCdORkQnKS5yZXBsYWNlKC9bXFx1MDMwMC1cXHUwMzZmXS9nLCAnJykudG9Mb3dlckNhc2UoKTtcbiAgICBjb25zdCBnZXRCbG9ja0Zvcm1Db25maWcgPSAoYmxvY2spID0+IHtcbiAgICAgIGlmICghYmxvY2spIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICBjb25zdCB0eXBlS2V5ID0gbm9ybWFsaXplVHlwZShibG9jay50eXBlKTtcbiAgICAgIGNvbnN0IGFsaWFzID0gYmxvY2tUeXBlQWxpYXNlc1t0eXBlS2V5XSB8fCB0eXBlS2V5O1xuICAgICAgcmV0dXJuIGJsb2NrVHlwZUZvcm1zW2FsaWFzXSB8fCBudWxsO1xuICAgIH07XG4gICAgY29uc3QgcG9wdWxhdGVCbG9ja0Zvcm0gPSAoYmxvY2spID0+IHtcbiAgICAgIGlmICghYmxvY2tGb3JtIHx8ICFibG9ja0VkaXRvcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoYmxvY2sgJiYgIWJsb2NrLnNldHRpbmdzKSB7XG4gICAgICAgIGJsb2NrLnNldHRpbmdzID0ge307XG4gICAgICB9XG4gICAgICBjb25zdCBjb25maWcgPSBnZXRCbG9ja0Zvcm1Db25maWcoYmxvY2spO1xuICAgICAgaWYgKGJsb2NrRWRpdG9yVGl0bGUpIHtcbiAgICAgICAgYmxvY2tFZGl0b3JUaXRsZS50ZXh0Q29udGVudCA9IGJsb2NrPy5sYWJlbCB8fCAnQmxvYyc7XG4gICAgICB9XG4gICAgICBpZiAoYmxvY2tFZGl0b3JUeXBlKSB7XG4gICAgICAgIGJsb2NrRWRpdG9yVHlwZS50ZXh0Q29udGVudCA9IGJsb2NrPy50eXBlIHx8ICdCbG9jJztcbiAgICAgIH1cbiAgICAgIGlmICghY29uZmlnKSB7XG4gICAgICAgIGJsb2NrRm9ybS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgYmxvY2tFZGl0b3JVbnN1cHBvcnRlZD8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIGJsb2NrRm9ybS5kYXRhc2V0LmJsb2NrSWQgPSAnJztcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYmxvY2tFZGl0b3JVbnN1cHBvcnRlZD8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBibG9ja0Zvcm0uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBibG9ja0Zvcm0ucmVzZXQoKTtcbiAgICAgIGJsb2NrRm9ybS5kYXRhc2V0LmJsb2NrSWQgPSBibG9jay5pZDtcbiAgICAgIGJsb2NrRm9ybVNlY3Rpb25zLmZvckVhY2goKHNlY3Rpb24pID0+IHtcbiAgICAgICAgY29uc3Qgc2VjdGlvbklkID0gc2VjdGlvbi5kYXRhc2V0LmVkaXRvclNlY3Rpb247XG4gICAgICAgIGlmIChzZWN0aW9uSWQgPT09IGNvbmZpZy5zZWN0aW9uKSB7XG4gICAgICAgICAgc2VjdGlvbi5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWN0aW9uLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIC8vIFJcdTAwRTlpbml0aWFsaXNlciBzdXIgbCdvbmdsZXQgQ29udGVudVxuICAgICAgc3dpdGNoQmxvY2tUYWIoJ2NvbnRlbnQnKTtcbiAgICAgIGlmIChjb25maWcuc2VjdGlvbiA9PT0gJ2NvbGxlY3Rpb24nKSB7XG4gICAgICAgIGNvbnN0IGRlc2lyZWRWYWx1ZSA9IGJsb2NrLmNvbGxlY3Rpb25JZCB8fCBibG9jay5zZXR0aW5ncz8uY29sbGVjdGlvbklkIHx8ICcnO1xuICAgICAgICB1cGRhdGVDb2xsZWN0aW9uU2VsZWN0T3B0aW9ucyhkZXNpcmVkVmFsdWUpO1xuICAgICAgfVxuICAgICAgT2JqZWN0LmVudHJpZXMoY29uZmlnLmZpZWxkcykuZm9yRWFjaCgoW3NldHRpbmdLZXksIGZpZWxkTmFtZV0pID0+IHtcbiAgICAgICAgY29uc3QgaW5wdXQgPSBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcihgW25hbWU9XCIke2ZpZWxkTmFtZX1cIl1gKTtcbiAgICAgICAgaWYgKCFpbnB1dCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2YWx1ZSA9IGJsb2NrLnNldHRpbmdzPy5bc2V0dGluZ0tleV07XG4gICAgICAgIGlmIChpbnB1dC50eXBlID09PSAnY2hlY2tib3gnKSB7XG4gICAgICAgICAgaW5wdXQuY2hlY2tlZCA9IEJvb2xlYW4odmFsdWUpO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0LnR5cGUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgaW5wdXQudmFsdWUgPSB2YWx1ZSA/PyAxO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0LnRhZ05hbWUgPT09ICdURVhUQVJFQScpIHtcbiAgICAgICAgICBpbnB1dC52YWx1ZSA9IHZhbHVlID8/ICcnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlucHV0LnZhbHVlID0gdmFsdWUgPz8gJyc7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKGNvbmZpZy5zZWN0aW9uID09PSAnZ3JvdXAnKSB7XG4gICAgICAgIGNvbnN0IG1vYmlsZVZhbHVlID1cbiAgICAgICAgICBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJncm91cC1jb2x1bW5zLW1vYmlsZVwiXScpPy52YWx1ZSB8fCAnMSc7XG4gICAgICAgIGNvbnN0IGRlc2t0b3BWYWx1ZSA9XG4gICAgICAgICAgYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZ3JvdXAtY29sdW1ucy1kZXNrdG9wXCJdJyk/LnZhbHVlIHx8ICczJztcbiAgICAgICAgdXBkYXRlR3JvdXBNaW5pUHJldmlldyhtb2JpbGVWYWx1ZSwgZGVza3RvcFZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGlmIChjb25maWcuc2VjdGlvbiA9PT0gJ2NvbGxlY3Rpb24nKSB7XG4gICAgICAgIGNvbnN0IG1vYmlsZVZhbHVlID1cbiAgICAgICAgICBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJjb2xsZWN0aW9uLWNvbHVtbnMtbW9iaWxlXCJdJyk/LnZhbHVlIHx8ICcxJztcbiAgICAgICAgY29uc3QgZGVza3RvcFZhbHVlID1cbiAgICAgICAgICBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJjb2xsZWN0aW9uLWNvbHVtbnMtZGVza3RvcFwiXScpPy52YWx1ZSB8fCAnMyc7XG4gICAgICAgIHVwZGF0ZUNvbGxlY3Rpb25NaW5pUHJldmlldyhtb2JpbGVWYWx1ZSwgZGVza3RvcFZhbHVlKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGNvbGxlY3RGb3JtVmFsdWVzID0gKGNvbmZpZykgPT4ge1xuICAgICAgaWYgKCFibG9ja0Zvcm0gfHwgIWNvbmZpZykge1xuICAgICAgICByZXR1cm4ge307XG4gICAgICB9XG4gICAgICBjb25zdCB2YWx1ZXMgPSB7fTtcbiAgICAgIE9iamVjdC5lbnRyaWVzKGNvbmZpZy5maWVsZHMpLmZvckVhY2goKFtzZXR0aW5nS2V5LCBmaWVsZE5hbWVdKSA9PiB7XG4gICAgICAgIGNvbnN0IGlucHV0ID0gYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3IoYFtuYW1lPVwiJHtmaWVsZE5hbWV9XCJdYCk7XG4gICAgICAgIGlmICghaW5wdXQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlucHV0LnR5cGUgPT09ICdjaGVja2JveCcpIHtcbiAgICAgICAgICB2YWx1ZXNbc2V0dGluZ0tleV0gPSBpbnB1dC5jaGVja2VkO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0LnR5cGUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgY29uc3QgcGFyc2VkID0gTnVtYmVyKGlucHV0LnZhbHVlKTtcbiAgICAgICAgICB2YWx1ZXNbc2V0dGluZ0tleV0gPSBOdW1iZXIuaXNGaW5pdGUocGFyc2VkKSA/IHBhcnNlZCA6IDA7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5wdXQudGFnTmFtZSA9PT0gJ1RFWFRBUkVBJykge1xuICAgICAgICAgIHZhbHVlc1tzZXR0aW5nS2V5XSA9IGlucHV0LnZhbHVlIHx8ICcnO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0LnR5cGUgPT09ICdzZWxlY3Qtb25lJykge1xuICAgICAgICAgIHZhbHVlc1tzZXR0aW5nS2V5XSA9IGlucHV0LnZhbHVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhbHVlc1tzZXR0aW5nS2V5XSA9IGlucHV0LnZhbHVlIHx8ICcnO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgfTtcbiAgICBjb25zdCB1cGRhdGVQcmV2aWV3U3RhdHVzID0gKHRleHQpID0+IHtcbiAgICAgIGlmICghcHJldmlld1N0YXR1cykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIXRleHQpIHtcbiAgICAgICAgcHJldmlld1N0YXR1cy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcHJldmlld1N0YXR1cy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIHByZXZpZXdTdGF0dXMudGV4dENvbnRlbnQgPSB0ZXh0O1xuICAgIH07XG4gICAgY29uc3Qgc2VyaWFsaXplUGFnZUZvclByZXZpZXcgPSAocGFnZSkgPT4ge1xuICAgICAgaWYgKCFwYWdlKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IHBhZ2UuaWQsXG4gICAgICAgIHRpdGxlOiBwYWdlLnRpdGxlLFxuICAgICAgICBzbHVnOiBwYWdlLnNsdWcsXG4gICAgICAgIGJhZGdlczogWy4uLihwYWdlLmJhZGdlcyB8fCBbXSldLFxuICAgICAgICBibG9ja3M6IChwYWdlLmJsb2NrcyB8fCBbXSkubWFwKChibG9jaykgPT4gKHtcbiAgICAgICAgICBpZDogYmxvY2suaWQsXG4gICAgICAgICAgdHlwZTogYmxvY2sudHlwZSxcbiAgICAgICAgICBsYWJlbDogYmxvY2subGFiZWwsXG4gICAgICAgICAgc3RhdHVzOiBibG9jay5zdGF0dXMsXG4gICAgICAgICAgZGVzY3JpcHRpb246IGJsb2NrLmRlc2NyaXB0aW9uLFxuICAgICAgICAgIHByb3BzOiBibG9jay5wcm9wcyB8fCBbXSxcbiAgICAgICAgICBzZXR0aW5nczogYmxvY2suc2V0dGluZ3MgfHwge30sXG4gICAgICAgICAgY29sbGVjdGlvbklkOiBibG9jay5jb2xsZWN0aW9uSWQgfHwgYmxvY2suc2V0dGluZ3M/LmNvbGxlY3Rpb25JZCB8fCAnJyxcbiAgICAgICAgfSkpLFxuICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IGdldExvYWRpbmdQcmV2aWV3SHRtbCA9ICgpID0+XG4gICAgICAnPCFET0NUWVBFIGh0bWw+PGh0bWw+PGJvZHkgc3R5bGU9XCJmb250LWZhbWlseTpJbnRlcixzYW5zLXNlcmlmO3BhZGRpbmc6NDBweDtjb2xvcjojNDc1NTY5O2JhY2tncm91bmQ6I2ZmZjtcIj5Qclx1MDBFOXBhcmF0aW9uIGRlIGxhIHByXHUwMEU5dmlzdWFsaXNhdGlvblx1MjAyNjwvYm9keT48L2h0bWw+JztcblxuICAgIC8vIERlYm91bmNlIHV0aWxpdHlcbiAgICBjb25zdCBkZWJvdW5jZSA9IChmbiwgZGVsYXkpID0+IHtcbiAgICAgIGxldCB0aW1lb3V0SWQ7XG4gICAgICByZXR1cm4gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG4gICAgICAgIHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4gZm4oLi4uYXJncyksIGRlbGF5KTtcbiAgICAgIH07XG4gICAgfTtcblxuICAgIC8vIEF1dG8tc2F2ZSBwb3VyIGwnYXBwYXJlbmNlIChkZWJvdW5jZWQpXG4gICAgbGV0IGF1dG9TYXZlVGltZW91dCA9IG51bGw7XG4gICAgY29uc3QgYXV0b1NhdmVBcHBlYXJhbmNlID0gKCkgPT4ge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSB8fCAhYWN0aXZlQmxvY2tJZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBibG9jayA9IGdldEFjdGl2ZUJsb2NrKCk7XG4gICAgICBjb25zdCBjb25maWcgPSBnZXRCbG9ja0Zvcm1Db25maWcoYmxvY2spO1xuICAgICAgaWYgKCFibG9jayB8fCAhY29uZmlnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHZhbHVlcyA9IGNvbGxlY3RGb3JtVmFsdWVzKGNvbmZpZyk7XG4gICAgICBjb25zdCB1cGRhdGVkQmxvY2tzID0gKGN1cnJlbnRQYWdlLmJsb2NrcyB8fCBbXSkubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICBpZiAoZW50cnkuaWQgIT09IGJsb2NrLmlkKSB7XG4gICAgICAgICAgcmV0dXJuIGVudHJ5O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRTZXR0aW5ncyA9IHsgLi4uKGVudHJ5LnNldHRpbmdzIHx8IHt9KSwgLi4udmFsdWVzIH07XG4gICAgICAgIHJldHVybiB7IC4uLmVudHJ5LCBzZXR0aW5nczogdXBkYXRlZFNldHRpbmdzIH07XG4gICAgICB9KTtcbiAgICAgIC8vIE1pc2UgXHUwMEUwIGpvdXIgc2lsZW5jaWV1c2UgKHNhbnMgdG9hc3QgbmkgcmVmcmVzaCBjb21wbGV0KVxuICAgICAgY29uc3QgbmV4dFBhZ2UgPSB7IC4uLmN1cnJlbnRQYWdlLCBibG9ja3M6IHVwZGF0ZWRCbG9ja3MgfTtcbiAgICAgIGN1cnJlbnRQYWdlID0gbmV4dFBhZ2U7XG4gICAgICBzYXZlUGFnZVRvU2VydmVyKG5leHRQYWdlKTtcbiAgICB9O1xuXG4gICAgLy8gTWlzZSBcdTAwRTAgam91ciBsaXZlIGRlIGxhIHByZXZpZXcgdmlhIHBvc3RNZXNzYWdlIChzYW5zIHJlY2hhcmdlciBsJ2lmcmFtZSlcbiAgICBjb25zdCB1cGRhdGVQcmV2aWV3QmxvY2tMaXZlID0gKGJsb2NrSWQsIHNldHRpbmdzKSA9PiB7XG4gICAgICBpZiAoIXByZXZpZXdGcmFtZSB8fCAhcHJldmlld0ZyYW1lLmNvbnRlbnRXaW5kb3cpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gRW52b2llIGxlcyBub3V2ZWxsZXMgY2xhc3NlcyBhdSBibG9jIGRhbnMgbCdpZnJhbWVcbiAgICAgIHByZXZpZXdGcmFtZS5jb250ZW50V2luZG93LnBvc3RNZXNzYWdlKHtcbiAgICAgICAgdHlwZTogJ3VwZGF0ZUJsb2NrU3R5bGVzJyxcbiAgICAgICAgYmxvY2tJZCxcbiAgICAgICAgc2V0dGluZ3MsXG4gICAgICB9LCAnKicpO1xuICAgIH07XG5cbiAgICAvLyBNaXNlIFx1MDBFMCBqb3VyIGxpdmUgKyBhdXRvLXNhdmUgKGRlYm91bmNlZClcbiAgICBjb25zdCBkZWJvdW5jZWRBdXRvU2F2ZSA9IGRlYm91bmNlKCgpID0+IHtcbiAgICAgIGF1dG9TYXZlQXBwZWFyYW5jZSgpO1xuICAgICAgdXBkYXRlUHJldmlld1N0YXR1cygnU2F1dmVnYXJkXHUwMEU5Jyk7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHVwZGF0ZVByZXZpZXdTdGF0dXMoJ1x1MDBDMCBqb3VyJyksIDE1MDApO1xuICAgIH0sIDgwMCk7XG5cbiAgICAvLyBSZWZyZXNoIHByZXZpZXcgY29tcGxldCBkZWJvdW5jZWQgKHBvdXIgbGVzIGNoYW5nZW1lbnRzIGNvbXBsZXhlcylcbiAgICBjb25zdCBkZWJvdW5jZWRSZWZyZXNoUHJldmlldyA9IGRlYm91bmNlKCgpID0+IHtcbiAgICAgIGlmIChjdXJyZW50UGFnZSkge1xuICAgICAgICByZWZyZXNoUHJldmlldyhjdXJyZW50UGFnZSk7XG4gICAgICB9XG4gICAgfSwgMTUwMCk7XG5cbiAgICAvLyBNaXNlIFx1MDBFMCBqb3VyIGxpdmUgaW1tXHUwMEU5ZGlhdGUgKHBvdXIgbGEgcHJldmlldylcbiAgICBjb25zdCBoYW5kbGVBcHBlYXJhbmNlQ2hhbmdlID0gKGJsb2NrSWQsIHNldHRpbmdzKSA9PiB7XG4gICAgICB1cGRhdGVQcmV2aWV3QmxvY2tMaXZlKGJsb2NrSWQsIHNldHRpbmdzKTtcbiAgICAgIHVwZGF0ZVByZXZpZXdTdGF0dXMoJ01vZGlmaWNhdGlvblx1MjAyNicpO1xuICAgICAgZGVib3VuY2VkQXV0b1NhdmUoKTtcbiAgICAgIC8vIFJlZnJlc2ggY29tcGxldCBhcHJcdTAwRThzIHVuIGRcdTAwRTlsYWkgcGx1cyBsb25nIChwb3VyIGxlcyBjaGFuZ2VtZW50cyBkZSBsYXlvdXQsIGV0Yy4pXG4gICAgICBkZWJvdW5jZWRSZWZyZXNoUHJldmlldygpO1xuICAgIH07XG5cbiAgICBjb25zdCByZWZyZXNoUHJldmlldyA9IChwYWdlKSA9PiB7XG4gICAgICBpZiAoIXByZXZpZXdGcmFtZSB8fCAhcGFnZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBwcmV2aWV3U2l0ZVNsdWcgPSB3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnO1xuICAgICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgcGFnZTogc2VyaWFsaXplUGFnZUZvclByZXZpZXcocGFnZSksXG4gICAgICAgIHNpdGU6IHtcbiAgICAgICAgICB0aXRsZTogc3RvcmVkU2l0ZS5uYW1lIHx8ICdTaXRlJyxcbiAgICAgICAgICBzbHVnOiBwcmV2aWV3U2l0ZVNsdWcsXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgICAgcHJldmlld1JlYWR5ID0gZmFsc2U7XG4gICAgICB1cGRhdGVQcmV2aWV3U3RhdHVzKCdBY3R1YWxpc2F0aW9uXHUyMDI2Jyk7XG4gICAgICBwcmV2aWV3RnJhbWUuc3JjZG9jID0gZ2V0TG9hZGluZ1ByZXZpZXdIdG1sKCk7XG4gICAgICBpZiAocHJldmlld1JlcXVlc3RDb250cm9sbGVyKSB7XG4gICAgICAgIHByZXZpZXdSZXF1ZXN0Q29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgfVxuICAgICAgY29uc3QgY29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICAgIHByZXZpZXdSZXF1ZXN0Q29udHJvbGxlciA9IGNvbnRyb2xsZXI7XG4gICAgICBmZXRjaCgnL2FwaS9wcmV2aWV3Jywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICBzaWduYWw6IGNvbnRyb2xsZXIuc2lnbmFsLFxuICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQcmV2aWV3IGVycm9yJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgICAgaWYgKGNvbnRyb2xsZXIuc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgbGF0ZXN0UHJldmlld0h0bWwgPSBkYXRhLmh0bWwgfHwgJyc7XG4gICAgICAgICAgcHJldmlld0ZyYW1lLnNldEF0dHJpYnV0ZShcbiAgICAgICAgICAgICd0aXRsZScsXG4gICAgICAgICAgICBgUHJcdTAwRTl2aXN1YWxpc2F0aW9uIGRlIGxhIHBhZ2UgJHtwYWdlLnRpdGxlIHx8ICcnfWAudHJpbSgpLFxuICAgICAgICAgICk7XG4gICAgICAgICAgcHJldmlld0ZyYW1lLnNyY2RvYyA9IGxhdGVzdFByZXZpZXdIdG1sIHx8IGdldExvYWRpbmdQcmV2aWV3SHRtbCgpO1xuICAgICAgICAgIHVwZGF0ZVByZXZpZXdTdGF0dXMoJ1x1MDBDMCBqb3VyJyk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICBpZiAoY29udHJvbGxlci5zaWduYWwuYWJvcnRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbcHJldmlld10gSW1wb3NzaWJsZSBkZSByZW5kcmUgbGEgcGFnZScsIGVycm9yKTtcbiAgICAgICAgICB1cGRhdGVQcmV2aWV3U3RhdHVzKCdFcnJldXIgcHJldmlldycpO1xuICAgICAgICAgIHByZXZpZXdGcmFtZS5zcmNkb2MgPVxuICAgICAgICAgICAgJzwhRE9DVFlQRSBodG1sPjxodG1sPjxib2R5IHN0eWxlPVwiZm9udC1mYW1pbHk6SW50ZXIsc2Fucy1zZXJpZjtwYWRkaW5nOjQwcHg7Y29sb3I6I2JlMTIzYztiYWNrZ3JvdW5kOiNmZmY7XCI+RXJyZXVyIGxvcnMgZHUgcmVuZHUgZGUgbGEgcHJcdTAwRTl2aXN1YWxpc2F0aW9uLjwvYm9keT48L2h0bWw+JztcbiAgICAgICAgfSlcbiAgICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICAgIGlmIChwcmV2aWV3UmVxdWVzdENvbnRyb2xsZXIgPT09IGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgIHByZXZpZXdSZXF1ZXN0Q29udHJvbGxlciA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZUJsb2NrRm9ybVN1Ym1pdCA9IChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmICghY3VycmVudFBhZ2UgfHwgIWFjdGl2ZUJsb2NrSWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgYmxvY2sgPSBnZXRBY3RpdmVCbG9jaygpO1xuICAgICAgY29uc3QgY29uZmlnID0gZ2V0QmxvY2tGb3JtQ29uZmlnKGJsb2NrKTtcbiAgICAgIGlmICghYmxvY2sgfHwgIWNvbmZpZykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCB2YWx1ZXMgPSBjb2xsZWN0Rm9ybVZhbHVlcyhjb25maWcpO1xuICAgICAgaWYgKGNvbmZpZy5zZWN0aW9uID09PSAnY29sbGVjdGlvbicpIHtcbiAgICAgICAgaWYgKCF2YWx1ZXMuY29sbGVjdGlvbklkKSB7XG4gICAgICAgICAgc2hvd1RvYXN0KCdTXHUwMEU5bGVjdGlvbm5leiB1bmUgY29sbGVjdGlvbi4nKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFsdWVzLmxpbWl0ID0gTWF0aC5tYXgoMSwgTnVtYmVyKHZhbHVlcy5saW1pdCkgfHwgMSk7XG4gICAgICB9XG4gICAgICBjb25zdCB1cGRhdGVkQmxvY2tzID0gKGN1cnJlbnRQYWdlLmJsb2NrcyB8fCBbXSkubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICBpZiAoZW50cnkuaWQgIT09IGJsb2NrLmlkKSB7XG4gICAgICAgICAgcmV0dXJuIGVudHJ5O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRTZXR0aW5ncyA9IHsgLi4uKGVudHJ5LnNldHRpbmdzIHx8IHt9KSwgLi4udmFsdWVzIH07XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRCbG9jayA9IHtcbiAgICAgICAgICAuLi5lbnRyeSxcbiAgICAgICAgICBzZXR0aW5nczogdXBkYXRlZFNldHRpbmdzLFxuICAgICAgICB9O1xuICAgICAgICBpZiAoY29uZmlnLmxhYmVsRmllbGQgJiYgdmFsdWVzW2NvbmZpZy5sYWJlbEZpZWxkXSkge1xuICAgICAgICAgIHVwZGF0ZWRCbG9jay5sYWJlbCA9IHZhbHVlc1tjb25maWcubGFiZWxGaWVsZF07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbmZpZy5kZXNjcmlwdGlvbkZpZWxkICYmIHZhbHVlc1tjb25maWcuZGVzY3JpcHRpb25GaWVsZF0pIHtcbiAgICAgICAgICB1cGRhdGVkQmxvY2suZGVzY3JpcHRpb24gPSB2YWx1ZXNbY29uZmlnLmRlc2NyaXB0aW9uRmllbGRdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb25maWcuc2VjdGlvbiA9PT0gJ2NvbGxlY3Rpb24nKSB7XG4gICAgICAgICAgdXBkYXRlZEJsb2NrLmNvbGxlY3Rpb25JZCA9IHZhbHVlcy5jb2xsZWN0aW9uSWQ7XG4gICAgICAgICAgdXBkYXRlZEJsb2NrLnNldHRpbmdzLmNvbGxlY3Rpb25JZCA9IHZhbHVlcy5jb2xsZWN0aW9uSWQ7XG4gICAgICAgICAgdXBkYXRlZEJsb2NrLnNldHRpbmdzLmxpbWl0ID0gdmFsdWVzLmxpbWl0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1cGRhdGVkQmxvY2s7XG4gICAgICB9KTtcbiAgICAgIHVwZGF0ZUN1cnJlbnRQYWdlQmxvY2tzKHVwZGF0ZWRCbG9ja3MpO1xuICAgICAgc2hvd1RvYXN0KCdCbG9jIG1pcyBcdTAwRTAgam91cicpO1xuICAgICAgc2V0QWN0aXZlUGFnZShjdXJyZW50UGFnZS5pZCwgeyBwcmVzZXJ2ZUJsb2NrOiB0cnVlIH0pO1xuICAgIH07XG4gICAgY29uc3QgZHJhd2VyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1kcmF3ZXJdJyk7XG4gICAgY29uc3QgZHJhd2VyQmFja2Ryb3AgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLWRyYXdlci1iYWNrZHJvcF0nKTtcbiAgICBjb25zdCBkcmF3ZXJPcGVuQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXBhZ2UtZHJhd2VyLW9wZW5dJyk7XG4gICAgY29uc3QgZHJhd2VyQ2xvc2VCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtcGFnZS1kcmF3ZXItY2xvc2VdJyk7XG4gICAgY29uc3QgYWRkUGFnZVRvZ2dsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFkZC1wYWdlLXRvZ2dsZV0nKTtcbiAgICBjb25zdCBhZGRQYWdlRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFkZC1wYWdlLWZvcm1dJyk7XG4gICAgY29uc3QgYWRkUGFnZVRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRkLXBhZ2UtdGl0bGVdJyk7XG4gICAgY29uc3QgYWRkUGFnZVNsdWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZGQtcGFnZS1zbHVnXScpO1xuICAgIGNvbnN0IGFkZFBhZ2VDYW5jZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZGQtcGFnZS1jYW5jZWxdJyk7XG4gICAgY29uc3QgYWRkUGFnZUVycm9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRkLXBhZ2UtZXJyb3JdJyk7XG4gICAgY29uc3QgYWRkUGFnZVN1Ym1pdEJ1dHRvbiA9IGFkZFBhZ2VGb3JtPy5xdWVyeVNlbGVjdG9yKCdbdHlwZT1cInN1Ym1pdFwiXScpO1xuICAgIC8vIEltcG9ydCBKU09OIGVsZW1lbnRzXG4gICAgY29uc3QgaW1wb3J0VG9nZ2xlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaW1wb3J0LXBhZ2VzLXRvZ2dsZV0nKTtcbiAgICBjb25zdCBpbXBvcnRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWltcG9ydC1tb2RhbF0nKTtcbiAgICBjb25zdCBpbXBvcnRDbG9zZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1pbXBvcnQtbW9kYWwtY2xvc2VdJyk7XG4gICAgY29uc3QgaW1wb3J0RHJvcHpvbmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbXBvcnQtZHJvcHpvbmVdJyk7XG4gICAgY29uc3QgaW1wb3J0RmlsZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaW1wb3J0LWZpbGUtaW5wdXRdJyk7XG4gICAgY29uc3QgaW1wb3J0RmlsZUxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbXBvcnQtZmlsZS1saXN0XScpO1xuICAgIGNvbnN0IGltcG9ydEZpbGVOYW1lcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWltcG9ydC1maWxlLW5hbWVzXScpO1xuICAgIGNvbnN0IGltcG9ydFJlc3VsdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbXBvcnQtcmVzdWx0c10nKTtcbiAgICBjb25zdCBpbXBvcnRSZXN1bHRzQ29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWltcG9ydC1yZXN1bHRzLWNvbnRlbnRdJyk7XG4gICAgY29uc3QgaW1wb3J0U3VibWl0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaW1wb3J0LXN1Ym1pdF0nKTtcbiAgICBjb25zdCBpbXBvcnRUYWJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtaW1wb3J0LXRhYl0nKTtcbiAgICBjb25zdCBpbXBvcnRQYW5lbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1pbXBvcnQtcGFuZWxdJyk7XG4gICAgY29uc3QgY29weVRlbXBsYXRlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29weS10ZW1wbGF0ZV0nKTtcbiAgICBjb25zdCB0ZW1wbGF0ZUpzb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS10ZW1wbGF0ZS1qc29uXScpO1xuICAgIGxldCBpbXBvcnRTZWxlY3RlZEZpbGVzID0gW107XG4gICAgLy8gRGVsZXRlIHBhZ2UgZWxlbWVudHNcbiAgICBjb25zdCBkZWxldGVQYWdlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZWxldGUtcGFnZS1tb2RhbF0nKTtcbiAgICBjb25zdCBkZWxldGVQYWdlTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlbGV0ZS1wYWdlLW5hbWVdJyk7XG4gICAgY29uc3QgZGVsZXRlUGFnZUNhbmNlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlbGV0ZS1wYWdlLWNhbmNlbF0nKTtcbiAgICBjb25zdCBkZWxldGVQYWdlQ29uZmlybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlbGV0ZS1wYWdlLWNvbmZpcm1dJyk7XG4gICAgbGV0IHBhZ2VUb0RlbGV0ZSA9IG51bGw7XG4gICAgY29uc3Qgc2l0ZUtleSA9XG4gICAgICBzdHJpcExlYWRpbmdTbGFzaCh3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICdkZWZhdWx0JykgfHwgJ2RlZmF1bHQnO1xuICAgIGNvbnN0IHNpdGVTbHVnVmFsdWUgPSB3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnO1xuICAgIGNvbnN0IHNhZmVTaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKHNpdGVTbHVnVmFsdWUpIHx8ICcnO1xuICAgIGNvbnN0IHBhZ2VzQXBpQmFzZSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9wYWdlc2BcbiAgICAgIDogbnVsbDtcbiAgICBjb25zdCBjb2xsZWN0aW9uc0FwaUJhc2UgPSBzYWZlU2l0ZVNsdWdcbiAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnKX0vY29sbGVjdGlvbnNgXG4gICAgICA6IG51bGw7XG4gICAgY29uc3Qgc3RvcmFnZUtleXMgPSB7XG4gICAgICBhY3RpdmU6IGBjbG93ZXI6YWN0aXZlUGFnZToke3NpdGVLZXl9YCxcbiAgICB9O1xuICAgIGNvbnN0IGNyZWF0ZUJsb2NrID0gKGlkLCBsYWJlbCwgdHlwZSwgc3RhdHVzLCBkZXNjcmlwdGlvbiwgcHJvcHMgPSBbXSwgc2V0dGluZ3MgPSB7fSkgPT4ge1xuICAgICAgY29uc3QgYmxvY2sgPSB7XG4gICAgICAgIGlkLFxuICAgICAgICBsYWJlbCxcbiAgICAgICAgdHlwZSxcbiAgICAgICAgc3RhdHVzLFxuICAgICAgICBkZXNjcmlwdGlvbixcbiAgICAgICAgcHJvcHMsXG4gICAgICAgIHNldHRpbmdzOiB7IC4uLnNldHRpbmdzIH0sXG4gICAgICB9O1xuICAgICAgaWYgKGJsb2NrLnNldHRpbmdzLmNvbGxlY3Rpb25JZCkge1xuICAgICAgICBibG9jay5jb2xsZWN0aW9uSWQgPSBibG9jay5zZXR0aW5ncy5jb2xsZWN0aW9uSWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmxvY2s7XG4gICAgfTtcbiAgICBjb25zdCBibG9ja0xpYnJhcnlEZWZpbml0aW9ucyA9IHtcbiAgICAgIGhlcm86IHtcbiAgICAgICAgdHlwZTogJ0hlcm8nLFxuICAgICAgICBsYWJlbDogJ0hlcm8gZGUgcGFnZScsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnU2VjdGlvbiBwbGVpbmUgbGFyZ2V1ciBhdmVjIENUQSBwcmluY2lwYWwuJyxcbiAgICAgICAgc3RhdHVzOiAnQnJvdWlsbG9uJyxcbiAgICAgICAgcHJvcHM6IFtcbiAgICAgICAgICB7IGxhYmVsOiAnQ1RBJywgdmFsdWU6ICdEXHUwMEU5Y291dnJpcicgfSxcbiAgICAgICAgICB7IGxhYmVsOiAnSGF1dGV1cicsIHZhbHVlOiAnODB2aCcgfSxcbiAgICAgICAgXSxcbiAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICB0aXRsZTogJ1RpdHJlIGR1IGhlcm8nLFxuICAgICAgICAgIHN1YnRpdGxlOiAnJyxcbiAgICAgICAgICBjdGFMYWJlbDogJ0RcdTAwRTljb3V2cmlyJyxcbiAgICAgICAgICBjdGFVcmw6ICcjJyxcbiAgICAgICAgICBpbWFnZTogJycsXG4gICAgICAgICAgYWxpZ246ICdjZW50ZXInLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIHBhcmFncmFwaDoge1xuICAgICAgICB0eXBlOiAnUGFyYWdyYXBoZScsXG4gICAgICAgIGxhYmVsOiAnQmxvYyBcdTAwRTlkaXRvcmlhbCcsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnUGFyYWdyYXBoZSBsaWJyZSBwb3VyIHJhY29udGVyIHZvdHJlIGhpc3RvaXJlLicsXG4gICAgICAgIHN0YXR1czogJ0Jyb3VpbGxvbicsXG4gICAgICAgIHByb3BzOiBbeyBsYWJlbDogJ0xvbmd1ZXVyJywgdmFsdWU6ICcxNTAgbW90cycgfV0sXG4gICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgdGl0bGU6ICdUaXRyZSBkdSBwYXJhZ3JhcGhlJyxcbiAgICAgICAgICBjb250ZW50OiAnJyxcbiAgICAgICAgICBhbGlnbjogJ2xlZnQnLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGltYWdlOiB7XG4gICAgICAgIHR5cGU6ICdJbWFnZScsXG4gICAgICAgIGxhYmVsOiAnQmxvYyBpbWFnZScsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnVmlzdWVsIHNldWwgYXZlYyBsXHUwMEU5Z2VuZGUgb3B0aW9ubmVsbGUuJyxcbiAgICAgICAgc3RhdHVzOiAnQnJvdWlsbG9uJyxcbiAgICAgICAgcHJvcHM6IFtcbiAgICAgICAgICB7IGxhYmVsOiAnUmF0aW8nLCB2YWx1ZTogJzE2OjknIH0sXG4gICAgICAgICAgeyBsYWJlbDogJ0xcdTAwRTlnZW5kZScsIHZhbHVlOiAnSW5hY3RpdmUnIH0sXG4gICAgICAgIF0sXG4gICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgc3JjOiAnJyxcbiAgICAgICAgICBhbHQ6ICcnLFxuICAgICAgICAgIHNob3dDYXB0aW9uOiBmYWxzZSxcbiAgICAgICAgICBjYXB0aW9uOiAnJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBncm91cDoge1xuICAgICAgICB0eXBlOiAnR3JvdXBlJyxcbiAgICAgICAgbGFiZWw6ICdHcm91cGUgZGUgc2VjdGlvbnMnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0NvbnRlbmV1ciBwb3VyIGltYnJpcXVlciBwbHVzaWV1cnMgc291cy1ibG9jcy4nLFxuICAgICAgICBzdGF0dXM6ICdCcm91aWxsb24nLFxuICAgICAgICBwcm9wczogW3sgbGFiZWw6ICdEaXNwb3NpdGlvbicsIHZhbHVlOiAnVmVydGljYWxlJyB9XSxcbiAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICBsYXlvdXQ6ICdncmlkJyxcbiAgICAgICAgICBjb2x1bW5zTW9iaWxlOiAnMScsXG4gICAgICAgICAgY29sdW1uc0Rlc2t0b3A6ICczJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBjb2xsZWN0aW9uZ3JpZDoge1xuICAgICAgICB0eXBlOiAnQ29sbGVjdGlvbkdyaWQnLFxuICAgICAgICBsYWJlbDogJ0dyaWxsZSBkZSBjb250ZW51cycsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnQWZmaWNoZSBhdXRvbWF0aXF1ZW1lbnQgbGVzIGl0ZW1zIGRcdTIwMTl1bmUgY29sbGVjdGlvbi4nLFxuICAgICAgICBzdGF0dXM6ICdCcm91aWxsb24nLFxuICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgIGNvbGxlY3Rpb25JZDogJycsXG4gICAgICAgICAgbGltaXQ6IDYsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgZm9ybToge1xuICAgICAgICB0eXBlOiAnRm9ybScsXG4gICAgICAgIGxhYmVsOiAnRm9ybXVsYWlyZSBkZSBjb250YWN0JyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdGb3JtdWxhaXJlIGF2ZWMgZW52b2kgdmVycyB1biBzZXJ2aWNlIGV4dGVybmUuJyxcbiAgICAgICAgc3RhdHVzOiAnQnJvdWlsbG9uJyxcbiAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICBmb3JtVGl0bGU6ICdDb250YWN0ZXotbm91cycsXG4gICAgICAgICAgYWN0aW9uVXJsOiAnJyxcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBzZXJ2aWNlTmFtZTogJycsXG4gICAgICAgICAgc3VibWl0TGFiZWw6ICdFbnZveWVyJyxcbiAgICAgICAgICBzdWNjZXNzTWVzc2FnZTogJ01lcmNpIHBvdXIgdm90cmUgbWVzc2FnZSAhJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBuZXdzbGV0dGVyZW1iZWQ6IHtcbiAgICAgICAgdHlwZTogJ05ld3NsZXR0ZXJFbWJlZCcsXG4gICAgICAgIGxhYmVsOiAnTmV3c2xldHRlciAvIEVtYmVkJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdJbnRcdTAwRTlncmF0aW9uIGRcXCd1biBmb3JtdWxhaXJlIG5ld3NsZXR0ZXIgZXh0ZXJuZSAoQnJldm8sIE1haWxjaGltcFx1MjAyNikuJyxcbiAgICAgICAgc3RhdHVzOiAnQnJvdWlsbG9uJyxcbiAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICB0aXRsZTogJ1Jlc3RleiBpbmZvcm1cdTAwRTknLFxuICAgICAgICAgIHNlcnZpY2VOYW1lOiAnJyxcbiAgICAgICAgICBlbWJlZENvZGU6ICcnLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9O1xuICAgIGNvbnN0IHBlcnNpc3RBY3RpdmVQYWdlID0gKHBhZ2VJZCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKHN0b3JhZ2VLZXlzLmFjdGl2ZSwgcGFnZUlkKTtcbiAgICAgIH0gY2F0Y2gge1xuICAgICAgICAvKiBpZ25vcmUgc3RvcmFnZSBlcnJvcnMgKi9cbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGdldFN0b3JlZEFjdGl2ZVBhZ2UgPSAocGFnZXMpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHN0b3JlZCA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShzdG9yYWdlS2V5cy5hY3RpdmUpO1xuICAgICAgICBpZiAoc3RvcmVkICYmIHBhZ2VzLnNvbWUoKHBhZ2UpID0+IHBhZ2UuaWQgPT09IHN0b3JlZCkpIHtcbiAgICAgICAgICByZXR1cm4gc3RvcmVkO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgLyogaWdub3JlIHN0b3JhZ2UgZXJyb3JzICovXG4gICAgICB9XG4gICAgICByZXR1cm4gcGFnZXNbMF0/LmlkIHx8IG51bGw7XG4gICAgfTtcbiAgICBjb25zdCBmb3JtYXRCbG9ja0NvdW50ID0gKGNvdW50KSA9PiB7XG4gICAgICBpZiAoIWNvdW50IHx8IGNvdW50IDw9IDApIHtcbiAgICAgICAgcmV0dXJuICcwIGJsb2MnO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNvdW50ID09PSAxID8gJzEgYmxvYycgOiBgJHtjb3VudH0gYmxvY3NgO1xuICAgIH07XG4gICAgY29uc3Qgbm9ybWFsaXplUGFnZVNsdWcgPSAodmFsdWUpID0+IHtcbiAgICAgIGlmICghdmFsdWUgfHwgdmFsdWUgPT09ICcvJykge1xuICAgICAgICByZXR1cm4gJy8nO1xuICAgICAgfVxuICAgICAgY29uc3QgYmFzZSA9IHdvcmtzcGFjZVNsdWdpZnkodmFsdWUucmVwbGFjZSgvXlxcLy8sICcnKSk7XG4gICAgICByZXR1cm4gYmFzZSA/IGAvJHtiYXNlfWAgOiAnLyc7XG4gICAgfTtcbiAgICBjb25zdCBnZW5lcmF0ZUJsb2NrSWQgPSAocGFnZUlkID0gJ3BhZ2UnLCBrZXkgPSAnYmxvY2snKSA9PlxuICAgICAgYCR7cGFnZUlkfS0ke2tleX0tJHtEYXRlLm5vdygpLnRvU3RyaW5nKDM2KX0tJHtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwKX1gO1xuICAgIGNvbnN0IGNyZWF0ZUluaXRpYWxCbG9ja3MgPSAocGFnZUlkLCB0aXRsZSkgPT4gW1xuICAgICAgY3JlYXRlQmxvY2soXG4gICAgICAgIGdlbmVyYXRlQmxvY2tJZChwYWdlSWQsICdpbnRybycpLFxuICAgICAgICAnSW50cm9kdWN0aW9uJyxcbiAgICAgICAgJ1BhcmFncmFwaGUnLFxuICAgICAgICAnQnJvdWlsbG9uJyxcbiAgICAgICAgYFBhcmFncmFwaGUgaW50cm9kdWN0aWYgcG91ciBcIiR7dGl0bGV9XCIuYCxcbiAgICAgICAgW3sgbGFiZWw6ICdMb25ndWV1cicsIHZhbHVlOiAnMiBwYXJhZ3JhcGhlcycgfV0sXG4gICAgICAgIHtcbiAgICAgICAgICB0aXRsZTogYEludHJvZHVjdGlvbiBcdTAwRTAgJHt0aXRsZX1gLFxuICAgICAgICAgIGNvbnRlbnQ6ICdBam91dGV6IHZvdHJlIHByZW1pZXIgcGFyYWdyYXBoZSBkZSBwclx1MDBFOXNlbnRhdGlvbi4nLFxuICAgICAgICAgIGFsaWduOiAnbGVmdCcsXG4gICAgICAgIH0sXG4gICAgICApLFxuICAgICAgY3JlYXRlQmxvY2soXG4gICAgICAgIGdlbmVyYXRlQmxvY2tJZChwYWdlSWQsICdjb250ZW50JyksXG4gICAgICAgICdab25lIGRlIGNvbnRlbnUnLFxuICAgICAgICAnR3JvdXBlJyxcbiAgICAgICAgJ0Jyb3VpbGxvbicsXG4gICAgICAgICdTZWN0aW9uIHByaW5jaXBhbGUgXHUwMEUwIGNvbXBvc2VyIGF2ZWMgdGV4dGVzIGV0IHZpc3VlbHMuJyxcbiAgICAgICAgW3sgbGFiZWw6ICdDb2xvbm5lcycsIHZhbHVlOiAnQXV0bycgfV0sXG4gICAgICAgIHtcbiAgICAgICAgICBsYXlvdXQ6ICdncmlkJyxcbiAgICAgICAgICBjb2x1bW5zTW9iaWxlOiAnMScsXG4gICAgICAgICAgY29sdW1uc0Rlc2t0b3A6ICcyJyxcbiAgICAgICAgfSxcbiAgICAgICksXG4gICAgXTtcbiAgICBjb25zdCBzZXRBY3RpdmVMYWJlbHMgPSAocGFnZSkgPT4ge1xuICAgICAgaWYgKGFjdGl2ZVRpdGxlKSB7XG4gICAgICAgIGFjdGl2ZVRpdGxlLnRleHRDb250ZW50ID0gcGFnZT8udGl0bGUgfHwgJ1BhZ2UnO1xuICAgICAgfVxuICAgICAgaWYgKGFjdGl2ZVNsdWcpIHtcbiAgICAgICAgYWN0aXZlU2x1Zy50ZXh0Q29udGVudCA9IHBhZ2U/LnNsdWcgfHwgJy8nO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgcmVuZGVyUHJldmlld01ldGEgPSAocGFnZSkgPT4ge1xuICAgICAgaWYgKCFwcmV2aWV3VGFncykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwcmV2aWV3VGFncy5pbm5lckhUTUwgPSAnJztcbiAgICAgIGNvbnN0IHRhZ3MgPVxuICAgICAgICBwYWdlICYmIHBhZ2UuYmFkZ2VzICYmIHBhZ2UuYmFkZ2VzLmxlbmd0aCA+IDAgPyBwYWdlLmJhZGdlcyA6IFsnU3RydWN0dXJlIGVuIGNvdXJzJ107XG4gICAgICB0YWdzLmZvckVhY2goKHRhZykgPT4ge1xuICAgICAgICBjb25zdCBiYWRnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgYmFkZ2UuY2xhc3NOYW1lID0gJ3JvdW5kZWQtZnVsbCBiZy1zbGF0ZS0xMDAgcHgtMyBweS0xJztcbiAgICAgICAgYmFkZ2UudGV4dENvbnRlbnQgPSB0YWc7XG4gICAgICAgIHByZXZpZXdUYWdzLmFwcGVuZENoaWxkKGJhZGdlKTtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgY29uc3QgZ2V0U3RhdHVzQmFkZ2VDbGFzc2VzID0gKHN0YXR1cykgPT4ge1xuICAgICAgc3dpdGNoICgoc3RhdHVzIHx8ICcnKS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgIGNhc2UgJ2VuIGxpZ25lJzpcbiAgICAgICAgICByZXR1cm4gJ2JnLWVtZXJhbGQtNTAgdGV4dC1lbWVyYWxkLTcwMCc7XG4gICAgICAgIGNhc2UgJ2Jyb3VpbGxvbic6XG4gICAgICAgICAgcmV0dXJuICdiZy1hbWJlci01MCB0ZXh0LWFtYmVyLTcwMCc7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuICdiZy1zbGF0ZS0xMDAgdGV4dC1zbGF0ZS02MDAnO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgcmVuZGVyQmxvY2tEZXRhaWxzID0gKGJsb2NrKSA9PiB7XG4gICAgICBpZiAoIWJsb2NrRGV0YWlsRW1wdHkgfHwgIWJsb2NrRWRpdG9yKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghYmxvY2spIHtcbiAgICAgICAgYmxvY2tEZXRhaWxFbXB0eS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgYmxvY2tFZGl0b3IuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIGJsb2NrRWRpdG9yVW5zdXBwb3J0ZWQ/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBibG9ja0Zvcm0/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBibG9ja0RldGFpbFN0YXR1cz8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGJsb2NrRGV0YWlsRW1wdHkuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBibG9ja0VkaXRvci5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGlmIChibG9ja0RldGFpbFN0YXR1cykge1xuICAgICAgICBpZiAoYmxvY2suc3RhdHVzKSB7XG4gICAgICAgICAgYmxvY2tEZXRhaWxTdGF0dXMudGV4dENvbnRlbnQgPSBibG9jay5zdGF0dXM7XG4gICAgICAgICAgYmxvY2tEZXRhaWxTdGF0dXMuY2xhc3NOYW1lID0gYHJvdW5kZWQtZnVsbCBweC0zIHB5LTEgdGV4dC14cyBmb250LXNlbWlib2xkICR7Z2V0U3RhdHVzQmFkZ2VDbGFzc2VzKFxuICAgICAgICAgICAgYmxvY2suc3RhdHVzLFxuICAgICAgICAgICl9YDtcbiAgICAgICAgICBibG9ja0RldGFpbFN0YXR1cy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBibG9ja0RldGFpbFN0YXR1cy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcG9wdWxhdGVCbG9ja0Zvcm0oYmxvY2spO1xuICAgIH07XG4gICAgY29uc3QgYXBwbHlQcmV2aWV3SGlnaGxpZ2h0ID0gKGJsb2NrSWQpID0+IHtcbiAgICAgIGlmICghcHJldmlld0ZyYW1lKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRvYyA9IHByZXZpZXdGcmFtZS5jb250ZW50RG9jdW1lbnQ7XG4gICAgICBpZiAoIWRvYykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBub2RlcyA9IGRvYy5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1wcmV2aWV3LWJsb2NrXScpO1xuICAgICAgbm9kZXMuZm9yRWFjaCgobm9kZSkgPT4ge1xuICAgICAgICBpZiAobm9kZS5kYXRhc2V0LnByZXZpZXdCbG9jayA9PT0gYmxvY2tJZCkge1xuICAgICAgICAgIG5vZGUuY2xhc3NMaXN0LmFkZCgncHJldmlldy1ibG9jay1hY3RpdmUnKTtcbiAgICAgICAgICBpZiAocHJldmlld1JlYWR5ICYmIGJsb2NrSWQpIHtcbiAgICAgICAgICAgIG5vZGUuc2Nyb2xsSW50b1ZpZXcoeyBiZWhhdmlvcjogJ3Ntb290aCcsIGJsb2NrOiAnY2VudGVyJywgaW5saW5lOiAnbmVhcmVzdCcgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5vZGUuY2xhc3NMaXN0LnJlbW92ZSgncHJldmlldy1ibG9jay1hY3RpdmUnKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAocHJldmlld0hpZ2hsaWdodE92ZXJsYXkpIHtcbiAgICAgICAgcHJldmlld0hpZ2hsaWdodE92ZXJsYXkuc3R5bGUuYm9yZGVyQ29sb3IgPSBibG9ja0lkID8gJ3JnYmEoMTU2LCAxMDcsIDI1NSwgMC41KScgOiAndHJhbnNwYXJlbnQnO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgcmVuZGVyQmxvY2tMaXN0ID0gKHBhZ2UpID0+IHtcbiAgICAgIGlmICghYmxvY2tMaXN0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGJsb2NrTGlzdC5pbm5lckhUTUwgPSAnJztcbiAgICAgIGNvbnN0IGJsb2NrcyA9IHBhZ2U/LmJsb2NrcyB8fCBbXTtcbiAgICAgIGlmIChibG9ja0NvdW50QmFkZ2UpIHtcbiAgICAgICAgYmxvY2tDb3VudEJhZGdlLnRleHRDb250ZW50ID0gZm9ybWF0QmxvY2tDb3VudChibG9ja3MubGVuZ3RoKTtcbiAgICAgIH1cbiAgICAgIGlmIChibG9ja3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGJsb2NrTGlzdC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgYmxvY2tMaXN0RW1wdHk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBibG9ja0xpc3QuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBibG9ja0xpc3RFbXB0eT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBibG9ja3MuZm9yRWFjaCgoYmxvY2spID0+IHtcbiAgICAgICAgY29uc3QgaXNBY3RpdmUgPSBibG9jay5pZCA9PT0gYWN0aXZlQmxvY2tJZDtcbiAgICAgICAgY29uc3QgaXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBpdGVtLmRhdGFzZXQuYmxvY2tJdGVtID0gJ3RydWUnO1xuICAgICAgICBpdGVtLmRhdGFzZXQuYmxvY2tJZCA9IGJsb2NrLmlkO1xuICAgICAgICBpdGVtLnNldEF0dHJpYnV0ZSgncm9sZScsICdvcHRpb24nKTtcbiAgICAgICAgaXRlbS5zZXRBdHRyaWJ1dGUoJ2FyaWEtc2VsZWN0ZWQnLCBpc0FjdGl2ZSA/ICd0cnVlJyA6ICdmYWxzZScpO1xuICAgICAgICBpdGVtLnNldEF0dHJpYnV0ZSgnZHJhZ2dhYmxlJywgJ3RydWUnKTtcbiAgICAgICAgaXRlbS50YWJJbmRleCA9IDA7XG4gICAgICAgIGl0ZW0uY2xhc3NOYW1lID0gW1xuICAgICAgICAgICdyZWxhdGl2ZSBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMyByb3VuZGVkLTJ4bCBib3JkZXIgcHgtMyBweS0yIHRleHQtbGVmdCB0cmFuc2l0aW9uIGdyb3VwJyxcbiAgICAgICAgICBpc0FjdGl2ZVxuICAgICAgICAgICAgPyAnYmctc2xhdGUtMTAwIGJvcmRlci1bIzlDNkJGRl0vNDAgc2hhZG93LXNtJ1xuICAgICAgICAgICAgOiAnYm9yZGVyLXNsYXRlLTIwMCBob3Zlcjpib3JkZXItWyM5QzZCRkZdLzQwJyxcbiAgICAgICAgXS5qb2luKCcgJyk7XG4gICAgICAgIGNvbnN0IGFjY2VudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgYWNjZW50LmNsYXNzTmFtZSA9IGBhYnNvbHV0ZSBpbnNldC15LTIgbGVmdC0wIHctMSByb3VuZGVkLWZ1bGwgYmctWyM5QzZCRkZdICR7XG4gICAgICAgICAgaXNBY3RpdmUgPyAnJyA6ICdoaWRkZW4nXG4gICAgICAgIH1gO1xuICAgICAgICBpdGVtLmFwcGVuZENoaWxkKGFjY2VudCk7XG5cbiAgICAgICAgY29uc3QgY29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBjb250ZW50LmNsYXNzTmFtZSA9ICdmbGV4IGZsZXgtMSBpdGVtcy1jZW50ZXIgZ2FwLTMnO1xuICAgICAgICBjb25zdCBoYW5kbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgaGFuZGxlLmNsYXNzTmFtZSA9XG4gICAgICAgICAgJ2hpZGRlbiBsZzpmbGV4IGN1cnNvci1ncmFiIGFjdGl2ZTpjdXJzb3ItZ3JhYmJpbmcgZmxleC1zaHJpbmstMCBpdGVtcy1jZW50ZXIgdGV4dC1sZyB0ZXh0LXNsYXRlLTQwMCBob3Zlcjp0ZXh0LXNsYXRlLTYwMCB0cmFuc2l0aW9uLWNvbG9ycyBzZWxlY3Qtbm9uZSc7XG4gICAgICAgIGhhbmRsZS5pbm5lckhUTUwgPSAnXHUyMkVFXHUyMkVFJztcbiAgICAgICAgaGFuZGxlLnNldEF0dHJpYnV0ZSgndGl0bGUnLCAnR2xpc3NlciBwb3VyIHJcdTAwRTlvcmRvbm5lcicpO1xuICAgICAgICBjb250ZW50LmFwcGVuZENoaWxkKGhhbmRsZSk7XG5cbiAgICAgICAgY29uc3QgdGV4dFdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGV4dFdyYXBwZXIuY2xhc3NOYW1lID0gJ2ZsZXgtMSc7XG4gICAgICAgIGNvbnN0IG1ldGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgbWV0YS5jbGFzc05hbWUgPSAnZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgdGV4dC1bMTFweF0gdXBwZXJjYXNlIHRyYWNraW5nLXdpZGUgdGV4dC1zbGF0ZS01MDAnO1xuICAgICAgICBjb25zdCB0eXBlQmFkZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgIHR5cGVCYWRnZS5jbGFzc05hbWUgPVxuICAgICAgICAgICdyb3VuZGVkLWZ1bGwgYmctc2xhdGUtMTAwIHB4LTIgcHktMC41IHRleHQtWzEwcHhdIGZvbnQtc2VtaWJvbGQgdGV4dC1zbGF0ZS02MDAnO1xuICAgICAgICB0eXBlQmFkZ2UudGV4dENvbnRlbnQgPSBibG9jay50eXBlO1xuICAgICAgICBjb25zdCBzdGF0dXNCYWRnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgc3RhdHVzQmFkZ2UuY2xhc3NOYW1lID0gJ3RleHQtc2xhdGUtNDAwJztcbiAgICAgICAgc3RhdHVzQmFkZ2UudGV4dENvbnRlbnQgPSBibG9jay5zdGF0dXM7XG4gICAgICAgIG1ldGEuYXBwZW5kQ2hpbGQodHlwZUJhZGdlKTtcbiAgICAgICAgbWV0YS5hcHBlbmRDaGlsZChzdGF0dXNCYWRnZSk7XG4gICAgICAgIGNvbnN0IHRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgICAgICB0aXRsZS5jbGFzc05hbWUgPSAnbXQtMSB0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgdGV4dC1zbGF0ZS05MDAnO1xuICAgICAgICBjb25zdCBkaXNwbGF5TGFiZWwgPVxuICAgICAgICAgIChibG9jay5zZXR0aW5ncyAmJiBibG9jay5zZXR0aW5ncy50aXRsZSkgfHwgYmxvY2subGFiZWwgfHwgJ0Jsb2Mgc2FucyB0aXRyZSc7XG4gICAgICAgIHRpdGxlLnRleHRDb250ZW50ID0gZGlzcGxheUxhYmVsO1xuICAgICAgICB0ZXh0V3JhcHBlci5hcHBlbmRDaGlsZChtZXRhKTtcbiAgICAgICAgdGV4dFdyYXBwZXIuYXBwZW5kQ2hpbGQodGl0bGUpO1xuICAgICAgICBjb25zdCBibG9ja1R5cGUgPSAoYmxvY2sudHlwZSB8fCAnJykudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgaWYgKGJsb2NrVHlwZSA9PT0gJ2NvbGxlY3Rpb25ncmlkJyAmJiBibG9jay5jb2xsZWN0aW9uSWQpIHtcbiAgICAgICAgICBjb25zdCBjb2xsZWN0aW9uTmFtZSA9XG4gICAgICAgICAgICBkZXNpZ25Db2xsZWN0aW9ucy5maW5kKChlbnRyeSkgPT4gZW50cnkuaWQgPT09IGJsb2NrLmNvbGxlY3Rpb25JZCk/Lm5hbWUgfHxcbiAgICAgICAgICAgIGJsb2NrLmNvbGxlY3Rpb25JZDtcbiAgICAgICAgICBjb25zdCBpbmZvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgICAgICAgIGluZm8uY2xhc3NOYW1lID0gJ3RleHQteHMgdGV4dC1zbGF0ZS00MDAnO1xuICAgICAgICAgIGluZm8udGV4dENvbnRlbnQgPSBgQ29sbGVjdGlvbiA6ICR7Y29sbGVjdGlvbk5hbWV9YDtcbiAgICAgICAgICB0ZXh0V3JhcHBlci5hcHBlbmRDaGlsZChpbmZvKTtcbiAgICAgICAgfVxuICAgICAgICBjb250ZW50LmFwcGVuZENoaWxkKHRleHRXcmFwcGVyKTtcbiAgICAgICAgaXRlbS5hcHBlbmRDaGlsZChjb250ZW50KTtcblxuICAgICAgICBjb25zdCBhY3Rpb25zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGFjdGlvbnMuY2xhc3NOYW1lID0gJ2ZsZXggZmxleC1jb2wgZ2FwLTEgdGV4dC14cyB0ZXh0LXNsYXRlLTQwMCc7XG5cbiAgICAgICAgY29uc3QgbW92ZUJ1dHRvbnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgbW92ZUJ1dHRvbnMuY2xhc3NOYW1lID0gJ2ZsZXggaXRlbXMtY2VudGVyIGdhcC0xIGxnOmhpZGRlbic7XG4gICAgICAgIGNvbnN0IG1vdmVVcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICBtb3ZlVXAudHlwZSA9ICdidXR0b24nO1xuICAgICAgICBtb3ZlVXAuY2xhc3NOYW1lID1cbiAgICAgICAgICAncm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLXNsYXRlLTIwMCBweC0yIHB5LTEgdGV4dC1bMTFweF0gZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICAgIG1vdmVVcC50ZXh0Q29udGVudCA9ICdcdTIxOTEnO1xuICAgICAgICBtb3ZlVXAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICBtb3ZlQmxvY2tCeU9mZnNldChibG9jay5pZCwgLTEpO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgbW92ZURvd24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgbW92ZURvd24udHlwZSA9ICdidXR0b24nO1xuICAgICAgICBtb3ZlRG93bi5jbGFzc05hbWUgPVxuICAgICAgICAgICdyb3VuZGVkLWxnIGJvcmRlciBib3JkZXItc2xhdGUtMjAwIHB4LTIgcHktMSB0ZXh0LVsxMXB4XSBmb250LXNlbWlib2xkIHRleHQtc2xhdGUtNTAwJztcbiAgICAgICAgbW92ZURvd24udGV4dENvbnRlbnQgPSAnXHUyMTkzJztcbiAgICAgICAgbW92ZURvd24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICBtb3ZlQmxvY2tCeU9mZnNldChibG9jay5pZCwgMSk7XG4gICAgICAgIH0pO1xuICAgICAgICBtb3ZlQnV0dG9ucy5hcHBlbmRDaGlsZChtb3ZlVXApO1xuICAgICAgICBtb3ZlQnV0dG9ucy5hcHBlbmRDaGlsZChtb3ZlRG93bik7XG4gICAgICAgIGFjdGlvbnMuYXBwZW5kQ2hpbGQobW92ZUJ1dHRvbnMpO1xuXG4gICAgICAgIGNvbnN0IGRlbGV0ZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICBkZWxldGVCdXR0b24udHlwZSA9ICdidXR0b24nO1xuICAgICAgICBkZWxldGVCdXR0b24uY2xhc3NOYW1lID1cbiAgICAgICAgICAnaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci10cmFuc3BhcmVudCBweC0yIHB5LTEgdGV4dC1bMTJweF0gdGV4dC1yb3NlLTUwMCBob3Zlcjp0ZXh0LXJvc2UtNzAwJztcbiAgICAgICAgZGVsZXRlQnV0dG9uLmlubmVySFRNTCA9ICdcdUQ4M0RcdURERDFcdUZFMEYnO1xuICAgICAgICBkZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICBvcGVuQmxvY2tEZWxldGVNb2RhbChibG9jay5pZCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGFjdGlvbnMuYXBwZW5kQ2hpbGQoZGVsZXRlQnV0dG9uKTtcbiAgICAgICAgaXRlbS5hcHBlbmRDaGlsZChhY3Rpb25zKTtcblxuICAgICAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgIHNldEFjdGl2ZUJsb2NrKGJsb2NrLmlkKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldmVudCkgPT4ge1xuICAgICAgICAgIGlmIChldmVudC5rZXkgPT09ICdFbnRlcicgfHwgZXZlbnQua2V5ID09PSAnICcpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBzZXRBY3RpdmVCbG9jayhibG9jay5pZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgYmxvY2tMaXN0LmFwcGVuZENoaWxkKGl0ZW0pO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8vID09PSBEZWxldGUgcGFnZSBoYW5kbGVycyAoZGVmaW5lZCBiZWZvcmUgcmVuZGVyUGFnZUxpc3RzKSA9PT1cbiAgICBjb25zdCBvcGVuRGVsZXRlUGFnZU1vZGFsID0gKHBhZ2UpID0+IHtcbiAgICAgIGlmICghZGVsZXRlUGFnZU1vZGFsIHx8ICFwYWdlKSByZXR1cm47XG4gICAgICBwYWdlVG9EZWxldGUgPSBwYWdlO1xuICAgICAgaWYgKGRlbGV0ZVBhZ2VOYW1lKSBkZWxldGVQYWdlTmFtZS50ZXh0Q29udGVudCA9IHBhZ2UudGl0bGUgfHwgcGFnZS5pZDtcbiAgICAgIGRlbGV0ZVBhZ2VNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGRlbGV0ZVBhZ2VNb2RhbC5jbGFzc0xpc3QuYWRkKCdmbGV4Jyk7XG4gICAgfTtcbiAgICBjb25zdCBjbG9zZURlbGV0ZVBhZ2VNb2RhbCA9ICgpID0+IHtcbiAgICAgIGlmICghZGVsZXRlUGFnZU1vZGFsKSByZXR1cm47XG4gICAgICBkZWxldGVQYWdlTW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBkZWxldGVQYWdlTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnZmxleCcpO1xuICAgICAgcGFnZVRvRGVsZXRlID0gbnVsbDtcbiAgICB9O1xuICAgIGNvbnN0IGV4ZWN1dGVEZWxldGVQYWdlID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFwYWdlc0FwaUJhc2UgfHwgIXBhZ2VUb0RlbGV0ZSkgcmV0dXJuO1xuICAgICAgY29uc3QgcGFnZUlkID0gcGFnZVRvRGVsZXRlLmlkO1xuICAgICAgY29uc3QgcGFnZVRpdGxlID0gcGFnZVRvRGVsZXRlLnRpdGxlIHx8IHBhZ2VJZDtcbiAgICAgIGlmIChkZWxldGVQYWdlQ29uZmlybSkge1xuICAgICAgICBkZWxldGVQYWdlQ29uZmlybS5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIGRlbGV0ZVBhZ2VDb25maXJtLnRleHRDb250ZW50ID0gJ1N1cHByZXNzaW9uLi4uJztcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7cGFnZXNBcGlCYXNlfS8ke2VuY29kZVVSSUNvbXBvbmVudChwYWdlSWQpfWAsIHtcbiAgICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZScsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzdWx0Lm1lc3NhZ2UgfHwgJ0VycmV1ciBzZXJ2ZXVyJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU3VwcHJpbWVyIGRlIGxhIGxpc3RlIGxvY2FsZVxuICAgICAgICBwYWdlcyA9IHBhZ2VzLmZpbHRlcigocCkgPT4gcC5pZCAhPT0gcGFnZUlkKTtcbiAgICAgICAgLy8gU2kgbGEgcGFnZSBzdXBwcmltXHUwMEU5ZSBcdTAwRTl0YWl0IGFjdGl2ZSwgc1x1MDBFOWxlY3Rpb25uZXIgbGEgcHJlbWlcdTAwRThyZVxuICAgICAgICBpZiAoYWN0aXZlUGFnZUlkID09PSBwYWdlSWQpIHtcbiAgICAgICAgICBpZiAocGFnZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgc2V0QWN0aXZlUGFnZShwYWdlc1swXS5pZCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFjdGl2ZVBhZ2VJZCA9IG51bGw7XG4gICAgICAgICAgICBjdXJyZW50UGFnZSA9IG51bGw7XG4gICAgICAgICAgICByZW5kZXJQYWdlTGlzdHMocGFnZXMsIG51bGwpO1xuICAgICAgICAgICAgcmVuZGVyQmxvY2tMaXN0KG51bGwpO1xuICAgICAgICAgICAgYmxvY2tEZXRhaWxFbXB0eT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgICBibG9ja0VkaXRvcj8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgICAgICBwcmV2aWV3RnJhbWUgJiYgKHByZXZpZXdGcmFtZS5zcmNkb2MgPSBnZXRMb2FkaW5nUHJldmlld0h0bWwoKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlbmRlclBhZ2VMaXN0cyhwYWdlcywgYWN0aXZlUGFnZUlkKTtcbiAgICAgICAgfVxuICAgICAgICBjbG9zZURlbGV0ZVBhZ2VNb2RhbCgpO1xuICAgICAgICBzaG93VG9hc3QoYFBhZ2UgXCIke3BhZ2VUaXRsZX1cIiBzdXBwcmltXHUwMEU5ZWApO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1twYWdlc10gZGVsZXRlIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnRXJyZXVyIHN1cHByZXNzaW9uJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoZGVsZXRlUGFnZUNvbmZpcm0pIHtcbiAgICAgICAgICBkZWxldGVQYWdlQ29uZmlybS5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgIGRlbGV0ZVBhZ2VDb25maXJtLnRleHRDb250ZW50ID0gJ1N1cHByaW1lcic7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgcmVuZGVyUGFnZUxpc3RzID0gKHBhZ2VzLCBhY3RpdmVJZCkgPT4ge1xuICAgICAgcGFnZUxpc3RzLmZvckVhY2goKGxpc3QpID0+IHtcbiAgICAgICAgbGlzdC5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgcGFnZXMuZm9yRWFjaCgocGFnZSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgICAgIGl0ZW0uY2xhc3NOYW1lID0gJ2ZsZXggaXRlbXMtY2VudGVyIGdhcC0xJztcbiAgICAgICAgICBjb25zdCBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgICBidXR0b24udHlwZSA9ICdidXR0b24nO1xuICAgICAgICAgIGJ1dHRvbi5kYXRhc2V0LnBhZ2VJZCA9IHBhZ2UuaWQ7XG4gICAgICAgICAgYnV0dG9uLmNsYXNzTmFtZSA9IFtcbiAgICAgICAgICAgICdmbGV4LTEgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTMgcHgtMyBweS0yIHRleHQtbGVmdCB0cmFuc2l0aW9uJyxcbiAgICAgICAgICAgIGFjdGl2ZUlkID09PSBwYWdlLmlkXG4gICAgICAgICAgICAgID8gJ2JnLVsjOUM2QkZGXS8xMCB0ZXh0LXNsYXRlLTkwMCBib3JkZXIgYm9yZGVyLVsjOUM2QkZGXS80MCByb3VuZGVkLXhsIHNoYWRvdy1zbSdcbiAgICAgICAgICAgICAgOiAndGV4dC1zbGF0ZS03MDAgaG92ZXI6Ymctc2xhdGUtNTAgcm91bmRlZC14bCcsXG4gICAgICAgICAgXS5qb2luKCcgJyk7XG4gICAgICAgICAgaWYgKGFjdGl2ZUlkID09PSBwYWdlLmlkKSB7XG4gICAgICAgICAgICBidXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLWN1cnJlbnQnLCAncGFnZScpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBidXR0b24ucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWN1cnJlbnQnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnV0dG9uLmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZmxleCBoLTkgdy05IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciByb3VuZGVkLXhsIGJvcmRlciBib3JkZXItc2xhdGUtMjAwIGJnLXdoaXRlIHRleHQtc2xhdGUtNTAwXCI+XG4gICAgICAgICAgICAgIDxzdmcgd2lkdGg9XCIxOFwiIGhlaWdodD1cIjE4XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+XG4gICAgICAgICAgICAgICAgPHBhdGggZD1cIk02LjUgNC41aDdsNCA0djExYTEgMSAwIDAgMS0xIDFoLTEwYTEgMSAwIDAgMS0xLTF2LTE0YTEgMSAwIDAgMSAxLTFaXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMS40XCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIi8+XG4gICAgICAgICAgICAgICAgPHBhdGggZD1cIk0xMy41IDQuNXY0YTEgMSAwIDAgMCAxIDFoM1wiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjEuNFwiLz5cbiAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQtc20gZm9udC1zZW1pYm9sZFwiPiR7cGFnZS50aXRsZX08L3NwYW4+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC14cyB0ZXh0LXNsYXRlLTUwMFwiPiR7cGFnZS5zbHVnfTwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIGA7XG4gICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgc2V0QWN0aXZlUGFnZShwYWdlLmlkKTtcbiAgICAgICAgICAgIGlmICghaXNEZXNrdG9wRHJhd2VyKCkpIHtcbiAgICAgICAgICAgICAgY2xvc2VEcmF3ZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpdGVtLmFwcGVuZENoaWxkKGJ1dHRvbik7XG4gICAgICAgICAgLy8gQm91dG9uIGRlIHN1cHByZXNzaW9uXG4gICAgICAgICAgY29uc3QgZGVsZXRlQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgICAgZGVsZXRlQnRuLnR5cGUgPSAnYnV0dG9uJztcbiAgICAgICAgICBkZWxldGVCdG4uY2xhc3NOYW1lID0gJ2ZsZXgtc2hyaW5rLTAgcC0yIHRleHQtc2xhdGUtNDAwIGhvdmVyOnRleHQtcm9zZS02MDAgaG92ZXI6Ymctcm9zZS01MCByb3VuZGVkLWxnIHRyYW5zaXRpb24nO1xuICAgICAgICAgIGRlbGV0ZUJ0bi50aXRsZSA9ICdTdXBwcmltZXIgY2V0dGUgcGFnZSc7XG4gICAgICAgICAgZGVsZXRlQnRuLnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIGBTdXBwcmltZXIgJHtwYWdlLnRpdGxlfWApO1xuICAgICAgICAgIGRlbGV0ZUJ0bi5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICA8c3ZnIHdpZHRoPVwiMTZcIiBoZWlnaHQ9XCIxNlwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIj5cbiAgICAgICAgICAgICAgPHBhdGggZD1cIk0zIDZoMThNOCA2VjRhMiAyIDAgMCAxIDItMmg0YTIgMiAwIDAgMSAyIDJ2Mm0zIDB2MTRhMiAyIDAgMCAxLTIgMkg3YTIgMiAwIDAgMS0yLTJWNmgxNFpNMTAgMTF2Nk0xNCAxMXY2XCIvPlxuICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgYDtcbiAgICAgICAgICBkZWxldGVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIG9wZW5EZWxldGVQYWdlTW9kYWwocGFnZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaXRlbS5hcHBlbmRDaGlsZChkZWxldGVCdG4pO1xuICAgICAgICAgIGxpc3QuYXBwZW5kQ2hpbGQoaXRlbSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICBjb25zdCBnZXRBY3RpdmVCbG9jayA9ICgpID0+IHtcbiAgICAgIGlmICghY3VycmVudFBhZ2UgfHwgIUFycmF5LmlzQXJyYXkoY3VycmVudFBhZ2UuYmxvY2tzKSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjdXJyZW50UGFnZS5ibG9ja3MuZmluZCgoYmxvY2spID0+IGJsb2NrLmlkID09PSBhY3RpdmVCbG9ja0lkKSB8fCBudWxsO1xuICAgIH07XG4gICAgY29uc3Qgc2V0QWN0aXZlQmxvY2sgPSAoYmxvY2tJZCkgPT4ge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWJsb2NrSWQpIHtcbiAgICAgICAgYWN0aXZlQmxvY2tJZCA9IG51bGw7XG4gICAgICAgIHJlbmRlckJsb2NrTGlzdChjdXJyZW50UGFnZSk7XG4gICAgICAgIHJlbmRlckJsb2NrRGV0YWlscyhudWxsKTtcbiAgICAgICAgYXBwbHlQcmV2aWV3SGlnaGxpZ2h0KG51bGwpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCB0YXJnZXRCbG9jayA9XG4gICAgICAgIGN1cnJlbnRQYWdlLmJsb2Nrcy5maW5kKChibG9jaykgPT4gYmxvY2suaWQgPT09IGJsb2NrSWQpIHx8IGN1cnJlbnRQYWdlLmJsb2Nrc1swXSB8fCBudWxsO1xuICAgICAgYWN0aXZlQmxvY2tJZCA9IHRhcmdldEJsb2NrPy5pZCB8fCBudWxsO1xuICAgICAgcmVuZGVyQmxvY2tMaXN0KGN1cnJlbnRQYWdlKTtcbiAgICAgIHJlbmRlckJsb2NrRGV0YWlscyh0YXJnZXRCbG9jayk7XG4gICAgICBhcHBseVByZXZpZXdIaWdobGlnaHQoYWN0aXZlQmxvY2tJZCk7XG4gICAgfTtcbiAgICBjb25zdCB1cGRhdGVDdXJyZW50UGFnZUJsb2NrcyA9IChuZXdCbG9ja3MpID0+IHtcbiAgICAgIGlmICghY3VycmVudFBhZ2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgbmV4dFBhZ2UgPSB7IC4uLmN1cnJlbnRQYWdlLCBibG9ja3M6IG5ld0Jsb2NrcyB9O1xuICAgICAgdXBkYXRlQ3VycmVudFBhZ2VTdGF0ZShuZXh0UGFnZSk7XG4gICAgfTtcbiAgICBjb25zdCBpc0Rlc2t0b3BSZW9yZGVyID0gKCkgPT4gd2luZG93Lm1hdGNoTWVkaWEoJyhtaW4td2lkdGg6IDEwMjRweCknKS5tYXRjaGVzO1xuICAgIGZ1bmN0aW9uIG1vdmVCbG9ja0J5T2Zmc2V0KGJsb2NrSWQsIG9mZnNldCkge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSB8fCAhYmxvY2tJZCB8fCAhb2Zmc2V0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGJsb2NrcyA9IFsuLi4oY3VycmVudFBhZ2UuYmxvY2tzIHx8IFtdKV07XG4gICAgICBjb25zdCBpbmRleCA9IGJsb2Nrcy5maW5kSW5kZXgoKGJsb2NrKSA9PiBibG9jay5pZCA9PT0gYmxvY2tJZCk7XG4gICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG5ld0luZGV4ID0gaW5kZXggKyBvZmZzZXQ7XG4gICAgICBpZiAobmV3SW5kZXggPCAwIHx8IG5ld0luZGV4ID49IGJsb2Nrcy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgW21vdmVkXSA9IGJsb2Nrcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgYmxvY2tzLnNwbGljZShuZXdJbmRleCwgMCwgbW92ZWQpO1xuICAgICAgdXBkYXRlQ3VycmVudFBhZ2VCbG9ja3MoYmxvY2tzKTtcbiAgICAgIHNldEFjdGl2ZVBhZ2UoY3VycmVudFBhZ2UuaWQsIHsgcHJlc2VydmVCbG9jazogdHJ1ZSB9KTtcbiAgICAgIHNldEFjdGl2ZUJsb2NrKG1vdmVkLmlkKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVvcmRlckJsb2Nrcyhzb3VyY2VJZCwgdGFyZ2V0SWQpIHtcbiAgICAgIGlmICghY3VycmVudFBhZ2UgfHwgIXNvdXJjZUlkIHx8ICF0YXJnZXRJZCB8fCBzb3VyY2VJZCA9PT0gdGFyZ2V0SWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgYmxvY2tzID0gWy4uLihjdXJyZW50UGFnZS5ibG9ja3MgfHwgW10pXTtcbiAgICAgIGNvbnN0IGZyb21JbmRleCA9IGJsb2Nrcy5maW5kSW5kZXgoKGJsb2NrKSA9PiBibG9jay5pZCA9PT0gc291cmNlSWQpO1xuICAgICAgY29uc3QgdG9JbmRleCA9IGJsb2Nrcy5maW5kSW5kZXgoKGJsb2NrKSA9PiBibG9jay5pZCA9PT0gdGFyZ2V0SWQpO1xuICAgICAgaWYgKGZyb21JbmRleCA8IDAgfHwgdG9JbmRleCA8IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgW21vdmVkXSA9IGJsb2Nrcy5zcGxpY2UoZnJvbUluZGV4LCAxKTtcbiAgICAgIGJsb2Nrcy5zcGxpY2UodG9JbmRleCwgMCwgbW92ZWQpO1xuICAgICAgdXBkYXRlQ3VycmVudFBhZ2VCbG9ja3MoYmxvY2tzKTtcbiAgICAgIHNldEFjdGl2ZVBhZ2UoY3VycmVudFBhZ2UuaWQsIHsgcHJlc2VydmVCbG9jazogdHJ1ZSB9KTtcbiAgICAgIHNldEFjdGl2ZUJsb2NrKG1vdmVkLmlkKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVvcmRlckJsb2Nrc1dpdGhQb3NpdGlvbihzb3VyY2VJZCwgdGFyZ2V0SWQsIHBvc2l0aW9uKSB7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlIHx8ICFzb3VyY2VJZCB8fCAhdGFyZ2V0SWQgfHwgc291cmNlSWQgPT09IHRhcmdldElkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGJsb2NrcyA9IFsuLi4oY3VycmVudFBhZ2UuYmxvY2tzIHx8IFtdKV07XG4gICAgICBjb25zdCBmcm9tSW5kZXggPSBibG9ja3MuZmluZEluZGV4KChibG9jaykgPT4gYmxvY2suaWQgPT09IHNvdXJjZUlkKTtcbiAgICAgIGxldCB0b0luZGV4ID0gYmxvY2tzLmZpbmRJbmRleCgoYmxvY2spID0+IGJsb2NrLmlkID09PSB0YXJnZXRJZCk7XG4gICAgICBpZiAoZnJvbUluZGV4IDwgMCB8fCB0b0luZGV4IDwgMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBbbW92ZWRdID0gYmxvY2tzLnNwbGljZShmcm9tSW5kZXgsIDEpO1xuICAgICAgLy8gQWp1c3RlciBsJ2luZGV4IHNpIG5cdTAwRTljZXNzYWlyZSBhcHJcdTAwRThzIGxhIHN1cHByZXNzaW9uXG4gICAgICBpZiAoZnJvbUluZGV4IDwgdG9JbmRleCkge1xuICAgICAgICB0b0luZGV4LS07XG4gICAgICB9XG4gICAgICAvLyBJbnNcdTAwRTlyZXIgYXZhbnQgb3UgYXByXHUwMEU4cyBsYSBjaWJsZVxuICAgICAgY29uc3QgaW5zZXJ0SW5kZXggPSBwb3NpdGlvbiA9PT0gJ2JlZm9yZScgPyB0b0luZGV4IDogdG9JbmRleCArIDE7XG4gICAgICBibG9ja3Muc3BsaWNlKGluc2VydEluZGV4LCAwLCBtb3ZlZCk7XG4gICAgICB1cGRhdGVDdXJyZW50UGFnZUJsb2NrcyhibG9ja3MpO1xuICAgICAgc2V0QWN0aXZlUGFnZShjdXJyZW50UGFnZS5pZCwgeyBwcmVzZXJ2ZUJsb2NrOiB0cnVlIH0pO1xuICAgICAgc2V0QWN0aXZlQmxvY2sobW92ZWQuaWQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVEcmFnZ2FibGVTdGF0ZSgpIHtcbiAgICAgIGlmICghYmxvY2tMaXN0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRyYWdnYWJsZSA9IGlzRGVza3RvcFJlb3JkZXIoKTtcbiAgICAgIGJsb2NrTGlzdC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1ibG9jay1pdGVtXScpLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgICAgaXRlbS5zZXRBdHRyaWJ1dGUoJ2RyYWdnYWJsZScsIGRyYWdnYWJsZSA/ICd0cnVlJyA6ICdmYWxzZScpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNsb3NlQmxvY2tMaWJyYXJ5KCkge1xuICAgICAgaWYgKCFibG9ja0xpYnJhcnkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYmxvY2tMaWJyYXJ5LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgYmxvY2tMaWJyYXJ5T3BlbiA9IGZhbHNlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBvcGVuQmxvY2tMaWJyYXJ5KCkge1xuICAgICAgaWYgKCFibG9ja0xpYnJhcnkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYmxvY2tMaWJyYXJ5LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgYmxvY2tMaWJyYXJ5T3BlbiA9IHRydWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRvZ2dsZUJsb2NrTGlicmFyeSgpIHtcbiAgICAgIGJsb2NrTGlicmFyeU9wZW4gPyBjbG9zZUJsb2NrTGlicmFyeSgpIDogb3BlbkJsb2NrTGlicmFyeSgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBhZGRCbG9ja0Zyb21MaWJyYXJ5KHR5cGUpIHtcbiAgICAgIGlmICghY3VycmVudFBhZ2UgfHwgIXR5cGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgZGVmaW5pdGlvbiA9IGJsb2NrTGlicmFyeURlZmluaXRpb25zW3R5cGVdO1xuICAgICAgaWYgKCFkZWZpbml0aW9uKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNvdW50ID1cbiAgICAgICAgKGN1cnJlbnRQYWdlLmJsb2NrcyB8fCBbXSkuZmlsdGVyKChibG9jaykgPT4gYmxvY2sudHlwZSA9PT0gZGVmaW5pdGlvbi50eXBlKS5sZW5ndGggKyAxO1xuICAgICAgY29uc3QgbmV3QmxvY2sgPSBjcmVhdGVCbG9jayhcbiAgICAgICAgZ2VuZXJhdGVCbG9ja0lkKGN1cnJlbnRQYWdlLmlkLCB0eXBlKSxcbiAgICAgICAgYCR7ZGVmaW5pdGlvbi5sYWJlbH0gJHtjb3VudH1gLFxuICAgICAgICBkZWZpbml0aW9uLnR5cGUsXG4gICAgICAgIGRlZmluaXRpb24uc3RhdHVzLFxuICAgICAgICBkZWZpbml0aW9uLmRlc2NyaXB0aW9uLFxuICAgICAgICBkZWZpbml0aW9uLnByb3BzLFxuICAgICAgICBkZWZpbml0aW9uLnNldHRpbmdzIHx8IHt9LFxuICAgICAgKTtcbiAgICAgIGlmICgoZGVmaW5pdGlvbi50eXBlIHx8ICcnKS50b0xvd2VyQ2FzZSgpID09PSAnY29sbGVjdGlvbmdyaWQnKSB7XG4gICAgICAgIGNvbnN0IGZpcnN0Q29sbGVjdGlvbklkID0gZGVzaWduQ29sbGVjdGlvbnNbMF0/LmlkIHx8ICcnO1xuICAgICAgICBuZXdCbG9jay5jb2xsZWN0aW9uSWQgPSBmaXJzdENvbGxlY3Rpb25JZDtcbiAgICAgICAgbmV3QmxvY2suc2V0dGluZ3MuY29sbGVjdGlvbklkID0gZmlyc3RDb2xsZWN0aW9uSWQ7XG4gICAgICAgIG5ld0Jsb2NrLnNldHRpbmdzLmxpbWl0ID0gbmV3QmxvY2suc2V0dGluZ3MubGltaXQgfHwgNjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG5leHRCbG9ja3MgPSBbLi4uKGN1cnJlbnRQYWdlLmJsb2NrcyB8fCBbXSksIG5ld0Jsb2NrXTtcbiAgICAgIHVwZGF0ZUN1cnJlbnRQYWdlQmxvY2tzKG5leHRCbG9ja3MpO1xuICAgICAgc2V0QWN0aXZlUGFnZShjdXJyZW50UGFnZS5pZCwgeyBwcmVzZXJ2ZUJsb2NrOiB0cnVlIH0pO1xuICAgICAgc2V0QWN0aXZlQmxvY2sobmV3QmxvY2suaWQpO1xuICAgICAgY2xvc2VCbG9ja0xpYnJhcnkoKTtcbiAgICAgIHNob3dUb2FzdCgnQmxvYyBham91dFx1MDBFOScpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkZWxldGVCbG9ja0J5SWQoYmxvY2tJZCkge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBibG9ja3MgPSAoY3VycmVudFBhZ2UuYmxvY2tzIHx8IFtdKS5maWx0ZXIoKGJsb2NrKSA9PiBibG9jay5pZCAhPT0gYmxvY2tJZCk7XG4gICAgICBjb25zdCBuZXh0QWN0aXZlID1cbiAgICAgICAgYmxvY2tJZCA9PT0gYWN0aXZlQmxvY2tJZCA/IGJsb2Nrc1swXT8uaWQgfHwgbnVsbCA6IGFjdGl2ZUJsb2NrSWQgfHwgYmxvY2tzWzBdPy5pZCB8fCBudWxsO1xuICAgICAgdXBkYXRlQ3VycmVudFBhZ2VCbG9ja3MoYmxvY2tzKTtcbiAgICAgIGFjdGl2ZUJsb2NrSWQgPSBuZXh0QWN0aXZlO1xuICAgICAgc2V0QWN0aXZlUGFnZShjdXJyZW50UGFnZS5pZCwgeyBwcmVzZXJ2ZUJsb2NrOiB0cnVlIH0pO1xuICAgICAgaWYgKGFjdGl2ZUJsb2NrSWQpIHtcbiAgICAgICAgc2V0QWN0aXZlQmxvY2soYWN0aXZlQmxvY2tJZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZW5kZXJCbG9ja0RldGFpbHMobnVsbCk7XG4gICAgICAgIGFwcGx5UHJldmlld0hpZ2hsaWdodChudWxsKTtcbiAgICAgIH1cbiAgICAgIHNob3dUb2FzdCgnQmxvYyBzdXBwcmltXHUwMEU5Jyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNsb3NlQmxvY2tEZWxldGVNb2RhbCgpIHtcbiAgICAgIGlmICghYmxvY2tEZWxldGVNb2RhbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBibG9ja0RlbGV0ZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgYmxvY2tEZWxldGVNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdmbGV4Jyk7XG4gICAgICBwZW5kaW5nRGVsZXRlQmxvY2tJZCA9IG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG9wZW5CbG9ja0RlbGV0ZU1vZGFsKGJsb2NrSWQpIHtcbiAgICAgIGlmICghYmxvY2tEZWxldGVNb2RhbCkge1xuICAgICAgICBkZWxldGVCbG9ja0J5SWQoYmxvY2tJZCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHBlbmRpbmdEZWxldGVCbG9ja0lkID0gYmxvY2tJZDtcbiAgICAgIGJsb2NrRGVsZXRlTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBibG9ja0RlbGV0ZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2ZsZXgnKTtcbiAgICB9XG4gICAgY29uc3QgdXBkYXRlQ3VycmVudFBhZ2VTdGF0ZSA9IChuZXh0UGFnZSkgPT4ge1xuICAgICAgaWYgKCFuZXh0UGFnZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBub3JtYWxpemVkID0gbm9ybWFsaXplUGFnZURhdGEobmV4dFBhZ2UpO1xuICAgICAgcGFnZXMgPSBwYWdlcy5tYXAoKHBhZ2UpID0+IChwYWdlLmlkID09PSBub3JtYWxpemVkLmlkID8gbm9ybWFsaXplZCA6IHBhZ2UpKTtcbiAgICAgIGN1cnJlbnRQYWdlID0gbm9ybWFsaXplZDtcbiAgICAgIHNhdmVQYWdlVG9TZXJ2ZXIobm9ybWFsaXplZCk7XG4gICAgfTtcbiAgICBjb25zdCBzZXRBY3RpdmVQYWdlID0gKHBhZ2VJZCwgb3B0aW9ucyA9IHt9KSA9PiB7XG4gICAgICBjb25zdCB0YXJnZXQgPSBwYWdlcy5maW5kKChwYWdlKSA9PiBwYWdlLmlkID09PSBwYWdlSWQpIHx8IHBhZ2VzWzBdIHx8IG51bGw7XG4gICAgICBjb25zdCBub3JtYWxpemVkVGFyZ2V0ID0gdGFyZ2V0ID8gbm9ybWFsaXplUGFnZURhdGEodGFyZ2V0KSA6IG51bGw7XG4gICAgICBjdXJyZW50UGFnZSA9IG5vcm1hbGl6ZWRUYXJnZXQ7XG4gICAgICBhY3RpdmVQYWdlSWQgPSB0YXJnZXQ/LmlkIHx8IG51bGw7XG4gICAgICBpZiAoIW9wdGlvbnMucHJlc2VydmVCbG9jayB8fCAhY3VycmVudFBhZ2UgfHwgIWN1cnJlbnRQYWdlLmJsb2Nrcy5zb21lKChibG9jaykgPT4gYmxvY2suaWQgPT09IGFjdGl2ZUJsb2NrSWQpKSB7XG4gICAgICAgIGFjdGl2ZUJsb2NrSWQgPSBjdXJyZW50UGFnZT8uYmxvY2tzPy5bMF0/LmlkIHx8IG51bGw7XG4gICAgICB9XG4gICAgICBpZiAoYWN0aXZlUGFnZUlkKSB7XG4gICAgICAgIHBlcnNpc3RBY3RpdmVQYWdlKGFjdGl2ZVBhZ2VJZCk7XG4gICAgICB9XG4gICAgICByZW5kZXJQYWdlTGlzdHMocGFnZXMsIGFjdGl2ZVBhZ2VJZCk7XG4gICAgICBzZXRBY3RpdmVMYWJlbHMoY3VycmVudFBhZ2UpO1xuICAgICAgcmVuZGVyUHJldmlld01ldGEoY3VycmVudFBhZ2UpO1xuICAgICAgcmVmcmVzaFByZXZpZXcoY3VycmVudFBhZ2UpO1xuICAgICAgcmVuZGVyQmxvY2tMaXN0KGN1cnJlbnRQYWdlKTtcbiAgICAgIHJlbmRlckJsb2NrRGV0YWlscyhnZXRBY3RpdmVCbG9jaygpKTtcbiAgICAgIGFwcGx5UHJldmlld0hpZ2hsaWdodChhY3RpdmVCbG9ja0lkKTtcbiAgICAgIHVwZGF0ZURyYWdnYWJsZVN0YXRlKCk7XG4gICAgICBpZiAoYmxvY2tMaWJyYXJ5T3Blbikge1xuICAgICAgICBjbG9zZUJsb2NrTGlicmFyeSgpO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgaXNEZXNrdG9wRHJhd2VyID0gKCkgPT4gd2luZG93Lm1hdGNoTWVkaWEoJyhtaW4td2lkdGg6IDEwMjRweCknKS5tYXRjaGVzO1xuICAgIGNvbnN0IHN5bmNEcmF3ZXJTdGF0ZSA9ICgpID0+IHtcbiAgICAgIGlmICghZHJhd2VyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChpc0Rlc2t0b3BEcmF3ZXIoKSkge1xuICAgICAgICBkcmF3ZXIuY2xhc3NMaXN0LmFkZCgnaXMtb3BlbicpO1xuICAgICAgICBkcmF3ZXJCYWNrZHJvcD8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnb3ZlcmZsb3ctaGlkZGVuJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkcmF3ZXIuY2xhc3NMaXN0LnJlbW92ZSgnaXMtb3BlbicpO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3Qgb3BlbkRyYXdlciA9ICgpID0+IHtcbiAgICAgIGlmICghZHJhd2VyIHx8IGlzRGVza3RvcERyYXdlcigpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGRyYXdlci5jbGFzc0xpc3QuYWRkKCdpcy1vcGVuJyk7XG4gICAgICBkcmF3ZXJCYWNrZHJvcD8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ292ZXJmbG93LWhpZGRlbicpO1xuICAgIH07XG4gICAgY29uc3QgY2xvc2VEcmF3ZXIgPSAoKSA9PiB7XG4gICAgICBpZiAoIWRyYXdlcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBkcmF3ZXIuY2xhc3NMaXN0LnJlbW92ZSgnaXMtb3BlbicpO1xuICAgICAgZHJhd2VyQmFja2Ryb3A/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICB9O1xuICAgIGNvbnN0IG9wZW5BZGRQYWdlRm9ybSA9ICgpID0+IHtcbiAgICAgIGlmICghYWRkUGFnZUZvcm0gfHwgIWFkZFBhZ2VUb2dnbGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYWRkUGFnZUZvcm0uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBhZGRQYWdlVG9nZ2xlLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgYWRkUGFnZUVycm9yICYmIChhZGRQYWdlRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgICBwYWdlU2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gICAgICBpZiAoYWRkUGFnZVRpdGxlKSB7XG4gICAgICAgIGFkZFBhZ2VUaXRsZS52YWx1ZSA9ICcnO1xuICAgICAgICBhZGRQYWdlVGl0bGUuZm9jdXMoKTtcbiAgICAgIH1cbiAgICAgIGlmIChhZGRQYWdlU2x1Zykge1xuICAgICAgICBhZGRQYWdlU2x1Zy52YWx1ZSA9ICcnO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgY2xvc2VBZGRQYWdlRm9ybSA9ICgpID0+IHtcbiAgICAgIGlmICghYWRkUGFnZUZvcm0gfHwgIWFkZFBhZ2VUb2dnbGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYWRkUGFnZUZvcm0uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBhZGRQYWdlVG9nZ2xlLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgYWRkUGFnZUVycm9yICYmIChhZGRQYWdlRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgICBwYWdlU2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gICAgICBhZGRQYWdlRm9ybS5yZXNldCgpO1xuICAgIH07XG4gICAgY29uc3Qgc3luY1NsdWdGcm9tVGl0bGUgPSAoKSA9PiB7XG4gICAgICBpZiAoIWFkZFBhZ2VUaXRsZSB8fCAhYWRkUGFnZVNsdWcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHBhZ2VTbHVnTWFudWFsbHlFZGl0ZWQgJiYgYWRkUGFnZVNsdWcudmFsdWUudHJpbSgpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYWRkUGFnZVNsdWcudmFsdWUgPSBub3JtYWxpemVQYWdlU2x1ZyhhZGRQYWdlVGl0bGUudmFsdWUpO1xuICAgIH07XG5cbiAgICBsZXQgcGFnZXMgPSBbXTtcbiAgICBsZXQgYWN0aXZlUGFnZUlkID0gbnVsbDtcbiAgICBsZXQgcGFnZVNsdWdNYW51YWxseUVkaXRlZCA9IGZhbHNlO1xuICAgIGxldCBjdXJyZW50UGFnZSA9IG51bGw7XG4gICAgbGV0IGFjdGl2ZUJsb2NrSWQgPSBudWxsO1xuICAgIGxldCBibG9ja0xpYnJhcnlPcGVuID0gZmFsc2U7XG4gICAgbGV0IHBlbmRpbmdEZWxldGVCbG9ja0lkID0gbnVsbDtcbiAgICBsZXQgbGF0ZXN0UHJldmlld0h0bWwgPSAnJztcbiAgICBsZXQgcHJldmlld1JlYWR5ID0gZmFsc2U7XG4gICAgbGV0IHByZXZpZXdSZXF1ZXN0Q29udHJvbGxlciA9IG51bGw7XG4gICAgbGV0IGRlc2lnbkNvbGxlY3Rpb25zID0gW107XG5cbiAgICBjb25zdCBub3JtYWxpemVCbG9ja0RhdGEgPSAoYmxvY2spID0+IHtcbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSB7XG4gICAgICAgIC4uLmJsb2NrLFxuICAgICAgICBwcm9wczogQXJyYXkuaXNBcnJheShibG9jay5wcm9wcykgPyBibG9jay5wcm9wcyA6IFtdLFxuICAgICAgICBzZXR0aW5nczogeyAuLi4oYmxvY2suc2V0dGluZ3MgfHwge30pIH0sXG4gICAgICB9O1xuICAgICAgY29uc3QgdHlwZSA9IChub3JtYWxpemVkLnR5cGUgfHwgJycpLnRvTG93ZXJDYXNlKCk7XG4gICAgICBpZiAodHlwZSA9PT0gJ2NvbGxlY3Rpb25ncmlkJykge1xuICAgICAgICBub3JtYWxpemVkLmNvbGxlY3Rpb25JZCA9XG4gICAgICAgICAgbm9ybWFsaXplZC5jb2xsZWN0aW9uSWQgfHwgbm9ybWFsaXplZC5zZXR0aW5ncy5jb2xsZWN0aW9uSWQgfHwgJyc7XG4gICAgICAgIG5vcm1hbGl6ZWQuc2V0dGluZ3MuY29sbGVjdGlvbklkID0gbm9ybWFsaXplZC5jb2xsZWN0aW9uSWQ7XG4gICAgICAgIG5vcm1hbGl6ZWQuc2V0dGluZ3MubGltaXQgPSBub3JtYWxpemVkLnNldHRpbmdzLmxpbWl0IHx8IDY7XG4gICAgICB9XG4gICAgICByZXR1cm4gbm9ybWFsaXplZDtcbiAgICB9O1xuXG4gICAgY29uc3Qgbm9ybWFsaXplUGFnZURhdGEgPSAocGFnZSkgPT4gKHtcbiAgICAgIC4uLnBhZ2UsXG4gICAgICBibG9ja3M6IChwYWdlLmJsb2NrcyB8fCBbXSkubWFwKChibG9jaykgPT4gbm9ybWFsaXplQmxvY2tEYXRhKGJsb2NrKSksXG4gICAgICBzZW86IHtcbiAgICAgICAgdGl0bGU6IChwYWdlLnNlbz8udGl0bGUgfHwgJycpLnRyaW0oKSxcbiAgICAgICAgZGVzY3JpcHRpb246IChwYWdlLnNlbz8uZGVzY3JpcHRpb24gfHwgJycpLnRyaW0oKSxcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICBjb25zdCBsb2FkRGVzaWduQ29sbGVjdGlvbnMgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25zQXBpQmFzZSkge1xuICAgICAgICBkZXNpZ25Db2xsZWN0aW9ucyA9IFtdO1xuICAgICAgICB1cGRhdGVDb2xsZWN0aW9uU2VsZWN0T3B0aW9ucygpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGNvbGxlY3Rpb25zQXBpQmFzZSwge1xuICAgICAgICAgIGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ltcG9zc2libGUgZGUgY2hhcmdlciBsZXMgY29sbGVjdGlvbnMuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiBbXSk7XG4gICAgICAgIGRlc2lnbkNvbGxlY3Rpb25zID0gQXJyYXkuaXNBcnJheShwYXlsb2FkKSA/IHBheWxvYWQgOiBbXTtcbiAgICAgICAgY29uc3QgY3VycmVudFZhbHVlID0gY29sbGVjdGlvblNlbGVjdD8udmFsdWUgfHwgJyc7XG4gICAgICAgIHVwZGF0ZUNvbGxlY3Rpb25TZWxlY3RPcHRpb25zKGN1cnJlbnRWYWx1ZSk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2Rlc2lnbl0gY29sbGVjdGlvbnMgbG9hZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdCgnQ29sbGVjdGlvbnMgaW5kaXNwb25pYmxlcy4nKTtcbiAgICAgICAgZGVzaWduQ29sbGVjdGlvbnMgPSBbXTtcbiAgICAgICAgdXBkYXRlQ29sbGVjdGlvblNlbGVjdE9wdGlvbnMoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3Qgc3luY0NvbGxlY3Rpb25TZWxlY3Rpb25JbmZvID0gKGNvbGxlY3Rpb25JZCkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uU2VsZWN0aW9uSW5mbykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWNvbGxlY3Rpb25JZCkge1xuICAgICAgICBjb2xsZWN0aW9uU2VsZWN0aW9uSW5mby50ZXh0Q29udGVudCA9IGRlc2lnbkNvbGxlY3Rpb25zLmxlbmd0aFxuICAgICAgICAgID8gJ1NcdTAwRTlsZWN0aW9ubmV6IHVuZSBjb2xsZWN0aW9uIHBvdXIgYWZmaWNoZXIgc2VzIGluZm9ybWF0aW9ucy4nXG4gICAgICAgICAgOiAnQXVjdW5lIGNvbGxlY3Rpb24gZGlzcG9uaWJsZS4gQWpvdXRlei1lbiBkZXB1aXMgbFx1MjAxOW9uZ2xldCBDb250ZW51cy4nO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBlbnRyeSA9IGRlc2lnbkNvbGxlY3Rpb25zLmZpbmQoKGNvbGxlY3Rpb24pID0+IGNvbGxlY3Rpb24uaWQgPT09IGNvbGxlY3Rpb25JZCk7XG4gICAgICBpZiAoIWVudHJ5KSB7XG4gICAgICAgIGNvbGxlY3Rpb25TZWxlY3Rpb25JbmZvLnRleHRDb250ZW50ID0gYENvbGxlY3Rpb24gJHtjb2xsZWN0aW9uSWR9YDtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgZGV0YWlscyA9IFtdO1xuICAgICAgaWYgKGVudHJ5LmRlc2NyaXB0aW9uKSB7XG4gICAgICAgIGRldGFpbHMucHVzaChlbnRyeS5kZXNjcmlwdGlvbik7XG4gICAgICB9XG4gICAgICBpZiAoZW50cnkudHlwZSkge1xuICAgICAgICBkZXRhaWxzLnB1c2goYFR5cGVcdTAwQTA6ICR7ZW50cnkudHlwZX1gKTtcbiAgICAgIH1cbiAgICAgIGNvbGxlY3Rpb25TZWxlY3Rpb25JbmZvLnRleHRDb250ZW50ID1cbiAgICAgICAgZGV0YWlscy5qb2luKCcgXHUwMEI3ICcpIHx8IGBDb2xsZWN0aW9uICR7ZW50cnkubmFtZSB8fCBlbnRyeS5pZH1gO1xuICAgIH07XG5cbiAgICBjb25zdCB1cGRhdGVDb2xsZWN0aW9uU2VsZWN0T3B0aW9ucyA9IChzZWxlY3RlZFZhbHVlID0gJycpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvblNlbGVjdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb2xsZWN0aW9uU2VsZWN0LmlubmVySFRNTCA9ICcnO1xuICAgICAgaWYgKCFkZXNpZ25Db2xsZWN0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgY29sbGVjdGlvblNlbGVjdC5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICBvcHRpb24udmFsdWUgPSAnJztcbiAgICAgICAgb3B0aW9uLnRleHRDb250ZW50ID0gJ0F1Y3VuZSBjb2xsZWN0aW9uIGRpc3BvbmlibGUnO1xuICAgICAgICBjb2xsZWN0aW9uU2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbik7XG4gICAgICAgIHN5bmNDb2xsZWN0aW9uU2VsZWN0aW9uSW5mbygnJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbGxlY3Rpb25TZWxlY3QuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgIGlmIChzZWxlY3RlZFZhbHVlICYmICFkZXNpZ25Db2xsZWN0aW9ucy5zb21lKChlbnRyeSkgPT4gZW50cnkuaWQgPT09IHNlbGVjdGVkVmFsdWUpKSB7XG4gICAgICAgIGNvbnN0IGZhbGxiYWNrT3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICAgIGZhbGxiYWNrT3B0aW9uLnZhbHVlID0gc2VsZWN0ZWRWYWx1ZTtcbiAgICAgICAgZmFsbGJhY2tPcHRpb24udGV4dENvbnRlbnQgPSBzZWxlY3RlZFZhbHVlO1xuICAgICAgICBjb2xsZWN0aW9uU2VsZWN0LmFwcGVuZENoaWxkKGZhbGxiYWNrT3B0aW9uKTtcbiAgICAgIH1cbiAgICAgIGRlc2lnbkNvbGxlY3Rpb25zLmZvckVhY2goKGNvbGxlY3Rpb24pID0+IHtcbiAgICAgICAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICAgIG9wdGlvbi52YWx1ZSA9IGNvbGxlY3Rpb24uaWQ7XG4gICAgICAgIGNvbnN0IGxhYmVsID0gY29sbGVjdGlvbi5uYW1lIHx8IGNvbGxlY3Rpb24uaWQ7XG4gICAgICAgIG9wdGlvbi50ZXh0Q29udGVudCA9IGNvbGxlY3Rpb24udHlwZSA/IGAke2xhYmVsfSBcdTAwQjcgJHtjb2xsZWN0aW9uLnR5cGV9YCA6IGxhYmVsO1xuICAgICAgICBvcHRpb24uZGF0YXNldC5kZXNjcmlwdGlvbiA9IGNvbGxlY3Rpb24uZGVzY3JpcHRpb24gfHwgJyc7XG4gICAgICAgIGNvbGxlY3Rpb25TZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uKTtcbiAgICAgIH0pO1xuICAgICAgaWYgKHNlbGVjdGVkVmFsdWUpIHtcbiAgICAgICAgY29sbGVjdGlvblNlbGVjdC52YWx1ZSA9IHNlbGVjdGVkVmFsdWU7XG4gICAgICB9XG4gICAgICBzeW5jQ29sbGVjdGlvblNlbGVjdGlvbkluZm8oY29sbGVjdGlvblNlbGVjdC52YWx1ZSB8fCAnJyk7XG4gICAgfTtcblxuICAgIGxvYWREZXNpZ25Db2xsZWN0aW9ucygpO1xuICAgIHN5bmNEcmF3ZXJTdGF0ZSgpO1xuXG4gICAgZHJhd2VyT3BlbkJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuRHJhd2VyKTtcbiAgICB9KTtcbiAgICBkcmF3ZXJDbG9zZUJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZURyYXdlcik7XG4gICAgfSk7XG4gICAgZHJhd2VyQmFja2Ryb3A/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VEcmF3ZXIpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCAoKSA9PiB7XG4gICAgICBzeW5jRHJhd2VyU3RhdGUoKTtcbiAgICAgIHVwZGF0ZURyYWdnYWJsZVN0YXRlKCk7XG4gICAgfSk7XG5cbiAgICBhZGRQYWdlVG9nZ2xlPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5BZGRQYWdlRm9ybSk7XG4gICAgYWRkUGFnZUNhbmNlbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZUFkZFBhZ2VGb3JtKTtcbiAgICBhZGRQYWdlVGl0bGU/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0Jywgc3luY1NsdWdGcm9tVGl0bGUpO1xuICAgIGFkZFBhZ2VTbHVnPy5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICAgIGFkZFBhZ2VFcnJvciAmJiAoYWRkUGFnZUVycm9yLnRleHRDb250ZW50ID0gJycpO1xuICAgICAgcGFnZVNsdWdNYW51YWxseUVkaXRlZCA9IHRydWU7XG4gICAgfSk7XG4gICAgYWRkUGFnZUZvcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmICghcGFnZXNBcGlCYXNlKSB7XG4gICAgICAgIGFkZFBhZ2VFcnJvciAmJiAoYWRkUGFnZUVycm9yLnRleHRDb250ZW50ID0gJ0F1Y3VuIHNpdGUgc1x1MDBFOWxlY3Rpb25uXHUwMEU5LicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWFkZFBhZ2VUaXRsZSB8fCAhYWRkUGFnZVNsdWcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgdGl0bGUgPSBhZGRQYWdlVGl0bGUudmFsdWUudHJpbSgpO1xuICAgICAgY29uc3Qgc2x1ZyA9IG5vcm1hbGl6ZVBhZ2VTbHVnKGFkZFBhZ2VTbHVnLnZhbHVlLnRyaW0oKSB8fCB0aXRsZSk7XG4gICAgICBpZiAoIXRpdGxlIHx8ICFzbHVnKSB7XG4gICAgICAgIGFkZFBhZ2VFcnJvciAmJiAoYWRkUGFnZUVycm9yLnRleHRDb250ZW50ID0gJ1RpdHJlIGV0IHNsdWcgc29udCByZXF1aXMuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGFkZFBhZ2VFcnJvciAmJiAoYWRkUGFnZUVycm9yLnRleHRDb250ZW50ID0gJycpO1xuICAgICAgaWYgKGFkZFBhZ2VTdWJtaXRCdXR0b24pIHtcbiAgICAgICAgYWRkUGFnZVN1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIGFkZFBhZ2VTdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSAnQ3JcdTAwRTlhdGlvbi4uLic7XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBjcmVhdGVkUGFnZSA9IGF3YWl0IGNyZWF0ZVBhZ2VPblNlcnZlcih7IHRpdGxlLCBzbHVnIH0pO1xuICAgICAgICBpZiAoIWNyZWF0ZWRQYWdlIHx8ICFjcmVhdGVkUGFnZS5pZCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUlx1MDBFOXBvbnNlIGludmFsaWRlLicpO1xuICAgICAgICB9XG4gICAgICAgIHBhZ2VzID0gWy4uLnBhZ2VzLCBub3JtYWxpemVQYWdlRGF0YShjcmVhdGVkUGFnZSldO1xuICAgICAgICBjbG9zZUFkZFBhZ2VGb3JtKCk7XG4gICAgICAgIHNob3dUb2FzdCgnUGFnZSBjclx1MDBFOVx1MDBFOWUnKTtcbiAgICAgICAgc2V0QWN0aXZlUGFnZShjcmVhdGVkUGFnZS5pZCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2Rlc2lnbl0gY3JlYXRlIHBhZ2UgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgYWRkUGFnZUVycm9yICYmIChhZGRQYWdlRXJyb3IudGV4dENvbnRlbnQgPSBlcnIubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBjclx1MDBFOWVyIGxhIHBhZ2UuJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoYWRkUGFnZVN1Ym1pdEJ1dHRvbikge1xuICAgICAgICAgIGFkZFBhZ2VTdWJtaXRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICBhZGRQYWdlU3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gJ0NyXHUwMEU5ZXInO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyA9PT0gSW1wb3J0IEpTT04gaGFuZGxlcnMgPT09XG4gICAgY29uc3Qgb3BlbkltcG9ydE1vZGFsID0gKCkgPT4ge1xuICAgICAgaWYgKCFpbXBvcnRNb2RhbCkgcmV0dXJuO1xuICAgICAgaW1wb3J0TW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBpbXBvcnRNb2RhbC5jbGFzc0xpc3QuYWRkKCdmbGV4Jyk7XG4gICAgICBpbXBvcnRTZWxlY3RlZEZpbGVzID0gW107XG4gICAgICB1cGRhdGVJbXBvcnRGaWxlTGlzdCgpO1xuICAgICAgaWYgKGltcG9ydFJlc3VsdHMpIGltcG9ydFJlc3VsdHMuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBpZiAoaW1wb3J0UmVzdWx0c0NvbnRlbnQpIGltcG9ydFJlc3VsdHNDb250ZW50LmlubmVySFRNTCA9ICcnO1xuICAgICAgaWYgKGltcG9ydFN1Ym1pdCkgaW1wb3J0U3VibWl0LmRpc2FibGVkID0gdHJ1ZTtcbiAgICB9O1xuICAgIGNvbnN0IGNsb3NlSW1wb3J0TW9kYWwgPSAoKSA9PiB7XG4gICAgICBpZiAoIWltcG9ydE1vZGFsKSByZXR1cm47XG4gICAgICBpbXBvcnRNb2RhbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGltcG9ydE1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2ZsZXgnKTtcbiAgICAgIGltcG9ydFNlbGVjdGVkRmlsZXMgPSBbXTtcbiAgICB9O1xuICAgIGNvbnN0IHVwZGF0ZUltcG9ydEZpbGVMaXN0ID0gKCkgPT4ge1xuICAgICAgaWYgKCFpbXBvcnRGaWxlTGlzdCB8fCAhaW1wb3J0RmlsZU5hbWVzKSByZXR1cm47XG4gICAgICBpZiAoaW1wb3J0U2VsZWN0ZWRGaWxlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgaW1wb3J0RmlsZUxpc3QuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIGlmIChpbXBvcnRTdWJtaXQpIGltcG9ydFN1Ym1pdC5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGltcG9ydEZpbGVMaXN0LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgaW1wb3J0RmlsZU5hbWVzLmlubmVySFRNTCA9IGltcG9ydFNlbGVjdGVkRmlsZXNcbiAgICAgICAgLm1hcCgoZikgPT4gYDxsaSBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+PHNwYW4gY2xhc3M9XCJ0ZXh0LWxnXCI+XHVEODNEXHVEQ0M0PC9zcGFuPiR7Zi5uYW1lfTwvbGk+YClcbiAgICAgICAgLmpvaW4oJycpO1xuICAgICAgaWYgKGltcG9ydFN1Ym1pdCkgaW1wb3J0U3VibWl0LmRpc2FibGVkID0gZmFsc2U7XG4gICAgfTtcbiAgICBjb25zdCBoYW5kbGVJbXBvcnRGaWxlcyA9IChmaWxlcykgPT4ge1xuICAgICAgY29uc3QganNvbkZpbGVzID0gQXJyYXkuZnJvbShmaWxlcykuZmlsdGVyKFxuICAgICAgICAoZikgPT4gZi50eXBlID09PSAnYXBwbGljYXRpb24vanNvbicgfHwgZi5uYW1lLmVuZHNXaXRoKCcuanNvbicpXG4gICAgICApO1xuICAgICAgaWYgKGpzb25GaWxlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgc2hvd1RvYXN0KCdBdWN1biBmaWNoaWVyIEpTT04gdmFsaWRlLicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpbXBvcnRTZWxlY3RlZEZpbGVzID0ganNvbkZpbGVzO1xuICAgICAgdXBkYXRlSW1wb3J0RmlsZUxpc3QoKTtcbiAgICB9O1xuICAgIGNvbnN0IGV4ZWN1dGVJbXBvcnQgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXBhZ2VzQXBpQmFzZSB8fCBpbXBvcnRTZWxlY3RlZEZpbGVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICAgICAgaWYgKGltcG9ydFN1Ym1pdCkge1xuICAgICAgICBpbXBvcnRTdWJtaXQuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICBpbXBvcnRTdWJtaXQudGV4dENvbnRlbnQgPSAnSW1wb3J0Li4uJztcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHBhZ2VzRGF0YSA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IGZpbGUgb2YgaW1wb3J0U2VsZWN0ZWRGaWxlcykge1xuICAgICAgICAgIGNvbnN0IHRleHQgPSBhd2FpdCBmaWxlLnRleHQoKTtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcGFyc2VkID0gSlNPTi5wYXJzZSh0ZXh0KTtcbiAgICAgICAgICAgIC8vIFN1cHBvcnQgc2luZ2xlIHBhZ2Ugb3IgYXJyYXkgb2YgcGFnZXNcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHBhcnNlZCkpIHtcbiAgICAgICAgICAgICAgcGFnZXNEYXRhLnB1c2goLi4ucGFyc2VkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBhZ2VzRGF0YS5wdXNoKHBhcnNlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCAocGFyc2VFcnIpIHtcbiAgICAgICAgICAgIHNob3dUb2FzdChgRXJyZXVyIEpTT04gZGFucyAke2ZpbGUubmFtZX1gKTtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tpbXBvcnRdIHBhcnNlIGVycm9yJywgZmlsZS5uYW1lLCBwYXJzZUVycik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChwYWdlc0RhdGEubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgc2hvd1RvYXN0KCdBdWN1bmUgcGFnZSB2YWxpZGUgXHUwMEUwIGltcG9ydGVyLicpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke3BhZ2VzQXBpQmFzZX0vaW1wb3J0YCwge1xuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZScsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGFnZXNEYXRhKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQubWVzc2FnZSB8fCAnRXJyZXVyIHNlcnZldXInKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTaG93IHJlc3VsdHNcbiAgICAgICAgaWYgKGltcG9ydFJlc3VsdHMgJiYgaW1wb3J0UmVzdWx0c0NvbnRlbnQpIHtcbiAgICAgICAgICBpbXBvcnRSZXN1bHRzLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgIGxldCBodG1sID0gJyc7XG4gICAgICAgICAgaWYgKHJlc3VsdC5pbXBvcnRlZCAmJiByZXN1bHQuaW1wb3J0ZWQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgaHRtbCArPSBgPHAgY2xhc3M9XCJ0ZXh0LWdyZWVuLTcwMFwiPlx1MjcxMyAke3Jlc3VsdC5pbXBvcnRlZC5sZW5ndGh9IHBhZ2UocykgaW1wb3J0XHUwMEU5ZShzKTwvcD5gO1xuICAgICAgICAgICAgaHRtbCArPSAnPHVsIGNsYXNzPVwibWwtNCB0ZXh0LXhzIHRleHQtc2xhdGUtNjAwXCI+JztcbiAgICAgICAgICAgIHJlc3VsdC5pbXBvcnRlZC5mb3JFYWNoKChwKSA9PiB7XG4gICAgICAgICAgICAgIGh0bWwgKz0gYDxsaT4ke3AudGl0bGV9ICgke3AuYWN0aW9uID09PSAndXBkYXRlZCcgPyAnbWlzZSBcdTAwRTAgam91cicgOiAnY3JcdTAwRTlcdTAwRTllJ30pPC9saT5gO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBodG1sICs9ICc8L3VsPic7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChyZXN1bHQuZXJyb3JzICYmIHJlc3VsdC5lcnJvcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgaHRtbCArPSBgPHAgY2xhc3M9XCJ0ZXh0LXJvc2UtNjAwIG10LTJcIj5cdTI3MTcgJHtyZXN1bHQuZXJyb3JzLmxlbmd0aH0gZXJyZXVyKHMpPC9wPmA7XG4gICAgICAgICAgICBodG1sICs9ICc8dWwgY2xhc3M9XCJtbC00IHRleHQteHMgdGV4dC1yb3NlLTUwMFwiPic7XG4gICAgICAgICAgICByZXN1bHQuZXJyb3JzLmZvckVhY2goKGUpID0+IHtcbiAgICAgICAgICAgICAgaHRtbCArPSBgPGxpPiR7ZS50aXRsZX06ICR7ZS5lcnJvcn08L2xpPmA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGh0bWwgKz0gJzwvdWw+JztcbiAgICAgICAgICB9XG4gICAgICAgICAgaW1wb3J0UmVzdWx0c0NvbnRlbnQuaW5uZXJIVE1MID0gaHRtbDtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZWxvYWQgcGFnZXMgbGlzdFxuICAgICAgICBpZiAocmVzdWx0LmltcG9ydGVkICYmIHJlc3VsdC5pbXBvcnRlZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY29uc3QgZnJlc2hQYWdlcyA9IGF3YWl0IGZldGNoUGFnZXNGcm9tU2VydmVyKCk7XG4gICAgICAgICAgcGFnZXMgPSBmcmVzaFBhZ2VzO1xuICAgICAgICAgIHJlbmRlclBhZ2VMaXN0cyhwYWdlcywgYWN0aXZlUGFnZUlkKTtcbiAgICAgICAgICBpZiAocGFnZXMubGVuZ3RoID4gMCAmJiAhYWN0aXZlUGFnZUlkKSB7XG4gICAgICAgICAgICBzZXRBY3RpdmVQYWdlKHBhZ2VzWzBdLmlkKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2hvd1RvYXN0KGAke3Jlc3VsdC5pbXBvcnRlZC5sZW5ndGh9IHBhZ2UocykgaW1wb3J0XHUwMEU5ZShzKWApO1xuICAgICAgICB9XG4gICAgICAgIGltcG9ydFNlbGVjdGVkRmlsZXMgPSBbXTtcbiAgICAgICAgdXBkYXRlSW1wb3J0RmlsZUxpc3QoKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbaW1wb3J0XSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBpbXBvcnQnKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmIChpbXBvcnRTdWJtaXQpIHtcbiAgICAgICAgICBpbXBvcnRTdWJtaXQuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICBpbXBvcnRTdWJtaXQudGV4dENvbnRlbnQgPSAnSW1wb3J0ZXInO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICBpbXBvcnRUb2dnbGU/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlbkltcG9ydE1vZGFsKTtcbiAgICBpbXBvcnRDbG9zZUJ1dHRvbnMuZm9yRWFjaCgoYnRuKSA9PiBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZUltcG9ydE1vZGFsKSk7XG4gICAgaW1wb3J0TW9kYWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGlmIChlLnRhcmdldCA9PT0gaW1wb3J0TW9kYWwpIGNsb3NlSW1wb3J0TW9kYWwoKTtcbiAgICB9KTtcbiAgICBpbXBvcnRGaWxlSW5wdXQ/LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIChlKSA9PiB7XG4gICAgICBoYW5kbGVJbXBvcnRGaWxlcyhlLnRhcmdldC5maWxlcyk7XG4gICAgfSk7XG4gICAgaW1wb3J0RHJvcHpvbmU/LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGltcG9ydERyb3B6b25lLmNsYXNzTGlzdC5hZGQoJ2JvcmRlci1bIzlDNkJGRl0nLCAnYmctWyM5QzZCRkZdLzEwJyk7XG4gICAgfSk7XG4gICAgaW1wb3J0RHJvcHpvbmU/LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdsZWF2ZScsIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpbXBvcnREcm9wem9uZS5jbGFzc0xpc3QucmVtb3ZlKCdib3JkZXItWyM5QzZCRkZdJywgJ2JnLVsjOUM2QkZGXS8xMCcpO1xuICAgIH0pO1xuICAgIGltcG9ydERyb3B6b25lPy5hZGRFdmVudExpc3RlbmVyKCdkcm9wJywgKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGltcG9ydERyb3B6b25lLmNsYXNzTGlzdC5yZW1vdmUoJ2JvcmRlci1bIzlDNkJGRl0nLCAnYmctWyM5QzZCRkZdLzEwJyk7XG4gICAgICBoYW5kbGVJbXBvcnRGaWxlcyhlLmRhdGFUcmFuc2Zlci5maWxlcyk7XG4gICAgfSk7XG4gICAgaW1wb3J0U3VibWl0Py5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGV4ZWN1dGVJbXBvcnQpO1xuICAgIC8vIEltcG9ydCB0YWJzXG4gICAgaW1wb3J0VGFicy5mb3JFYWNoKCh0YWIpID0+IHtcbiAgICAgIHRhYi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgY29uc3QgdGFyZ2V0UGFuZWwgPSB0YWIuZGF0YXNldC5pbXBvcnRUYWI7XG4gICAgICAgIGltcG9ydFRhYnMuZm9yRWFjaCgodCkgPT4ge1xuICAgICAgICAgIGlmICh0LmRhdGFzZXQuaW1wb3J0VGFiID09PSB0YXJnZXRQYW5lbCkge1xuICAgICAgICAgICAgdC5jbGFzc0xpc3QuYWRkKCdiZy1bIzlDNkJGRl0nLCAndGV4dC13aGl0ZScpO1xuICAgICAgICAgICAgdC5jbGFzc0xpc3QucmVtb3ZlKCdib3JkZXInLCAnYm9yZGVyLXNsYXRlLTIwMCcsICd0ZXh0LXNsYXRlLTcwMCcpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0LmNsYXNzTGlzdC5yZW1vdmUoJ2JnLVsjOUM2QkZGXScsICd0ZXh0LXdoaXRlJyk7XG4gICAgICAgICAgICB0LmNsYXNzTGlzdC5hZGQoJ2JvcmRlcicsICdib3JkZXItc2xhdGUtMjAwJywgJ3RleHQtc2xhdGUtNzAwJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaW1wb3J0UGFuZWxzLmZvckVhY2goKHApID0+IHtcbiAgICAgICAgICBpZiAocC5kYXRhc2V0LmltcG9ydFBhbmVsID09PSB0YXJnZXRQYW5lbCkge1xuICAgICAgICAgICAgcC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgY29weVRlbXBsYXRlQnRuPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghdGVtcGxhdGVKc29uKSByZXR1cm47XG4gICAgICBjb25zdCB0ZXh0ID0gdGVtcGxhdGVKc29uLnRleHRDb250ZW50IHx8ICcnO1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQodGV4dCk7XG4gICAgICAgIHNob3dUb2FzdCgnVGVtcGxhdGUgY29waVx1MDBFOSAhJyk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2ltcG9ydF0gY29weSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoJ0VycmV1ciBjb3BpZScpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gRGVsZXRlIHBhZ2UgbW9kYWwgbGlzdGVuZXJzXG4gICAgZGVsZXRlUGFnZUNhbmNlbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZURlbGV0ZVBhZ2VNb2RhbCk7XG4gICAgZGVsZXRlUGFnZUNvbmZpcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZXhlY3V0ZURlbGV0ZVBhZ2UpO1xuICAgIGRlbGV0ZVBhZ2VNb2RhbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgaWYgKGUudGFyZ2V0ID09PSBkZWxldGVQYWdlTW9kYWwpIGNsb3NlRGVsZXRlUGFnZU1vZGFsKCk7XG4gICAgfSk7XG5cbiAgICBibG9ja0xpYnJhcnlUb2dnbGU/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIHRvZ2dsZUJsb2NrTGlicmFyeSgpO1xuICAgIH0pO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoIWJsb2NrTGlicmFyeU9wZW4pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKFxuICAgICAgICBibG9ja0xpYnJhcnk/LmNvbnRhaW5zKGV2ZW50LnRhcmdldCkgfHxcbiAgICAgICAgYmxvY2tMaWJyYXJ5VG9nZ2xlPy5jb250YWlucyhldmVudC50YXJnZXQpXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY2xvc2VCbG9ja0xpYnJhcnkoKTtcbiAgICB9KTtcbiAgICBibG9ja0FkZEJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGNvbnN0IHR5cGUgPSBidXR0b24uZGF0YXNldC5ibG9ja0FkZDtcbiAgICAgICAgYWRkQmxvY2tGcm9tTGlicmFyeSh0eXBlKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGJsb2NrRGVsZXRlQ2FuY2VsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNsb3NlQmxvY2tEZWxldGVNb2RhbCgpO1xuICAgIH0pO1xuICAgIGJsb2NrRGVsZXRlQ29uZmlybT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBpZiAocGVuZGluZ0RlbGV0ZUJsb2NrSWQpIHtcbiAgICAgICAgZGVsZXRlQmxvY2tCeUlkKHBlbmRpbmdEZWxldGVCbG9ja0lkKTtcbiAgICAgIH1cbiAgICAgIGNsb3NlQmxvY2tEZWxldGVNb2RhbCgpO1xuICAgIH0pO1xuICAgIGJsb2NrRGVsZXRlTW9kYWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSBibG9ja0RlbGV0ZU1vZGFsKSB7XG4gICAgICAgIGNsb3NlQmxvY2tEZWxldGVNb2RhbCgpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGJsb2NrRm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICAgIGlmICghdGFyZ2V0IHx8ICF0YXJnZXQubmFtZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBNaW5pIHByZXZpZXcgcG91ciBncm91cGVcbiAgICAgIGlmICh0YXJnZXQubmFtZSA9PT0gJ2dyb3VwLWNvbHVtbnMtbW9iaWxlJyB8fCB0YXJnZXQubmFtZSA9PT0gJ2dyb3VwLWNvbHVtbnMtZGVza3RvcCcpIHtcbiAgICAgICAgY29uc3QgbW9iaWxlVmFsdWUgPVxuICAgICAgICAgIGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImdyb3VwLWNvbHVtbnMtbW9iaWxlXCJdJyk/LnZhbHVlIHx8ICcxJztcbiAgICAgICAgY29uc3QgZGVza3RvcFZhbHVlID1cbiAgICAgICAgICBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJncm91cC1jb2x1bW5zLWRlc2t0b3BcIl0nKT8udmFsdWUgfHwgJzMnO1xuICAgICAgICB1cGRhdGVHcm91cE1pbmlQcmV2aWV3KG1vYmlsZVZhbHVlLCBkZXNrdG9wVmFsdWUpO1xuICAgICAgfVxuICAgICAgLy8gTWluaSBwcmV2aWV3IHBvdXIgY29sbGVjdGlvblxuICAgICAgaWYgKHRhcmdldC5uYW1lID09PSAnY29sbGVjdGlvbi1jb2x1bW5zLW1vYmlsZScgfHwgdGFyZ2V0Lm5hbWUgPT09ICdjb2xsZWN0aW9uLWNvbHVtbnMtZGVza3RvcCcpIHtcbiAgICAgICAgY29uc3QgbW9iaWxlVmFsdWUgPVxuICAgICAgICAgIGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImNvbGxlY3Rpb24tY29sdW1ucy1tb2JpbGVcIl0nKT8udmFsdWUgfHwgJzEnO1xuICAgICAgICBjb25zdCBkZXNrdG9wVmFsdWUgPVxuICAgICAgICAgIGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImNvbGxlY3Rpb24tY29sdW1ucy1kZXNrdG9wXCJdJyk/LnZhbHVlIHx8ICczJztcbiAgICAgICAgdXBkYXRlQ29sbGVjdGlvbk1pbmlQcmV2aWV3KG1vYmlsZVZhbHVlLCBkZXNrdG9wVmFsdWUpO1xuICAgICAgfVxuICAgICAgLy8gRFx1MDBFOXRlY3Rpb24gc2kgb24gZXN0IGRhbnMgbGUgcGFuZWwgQXBwYXJlbmNlIFx1MjE5MiBhdXRvLXNhdmVcbiAgICAgIGNvbnN0IHBhbmVsID0gdGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLWJsb2NrLXBhbmVsXScpO1xuICAgICAgaWYgKHBhbmVsICYmIHBhbmVsLmRhdGFzZXQuYmxvY2tQYW5lbCA9PT0gJ2FwcGVhcmFuY2UnKSB7XG4gICAgICAgIC8vIEF1dG8tc2F2ZSArIHJlZnJlc2ggcHJldmlldyBwb3VyIGwnYXBwYXJlbmNlXG4gICAgICAgIGNvbnN0IGJsb2NrID0gZ2V0QWN0aXZlQmxvY2soKTtcbiAgICAgICAgY29uc3QgY29uZmlnID0gZ2V0QmxvY2tGb3JtQ29uZmlnKGJsb2NrKTtcbiAgICAgICAgaWYgKGJsb2NrICYmIGNvbmZpZykge1xuICAgICAgICAgIGNvbnN0IHZhbHVlcyA9IGNvbGxlY3RGb3JtVmFsdWVzKGNvbmZpZyk7XG4gICAgICAgICAgaGFuZGxlQXBwZWFyYW5jZUNoYW5nZShibG9jay5pZCwgdmFsdWVzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIC8vIFx1MDBDOWdhbGVtZW50IHN1ciAnY2hhbmdlJyBwb3VyIGxlcyBzZWxlY3RzXG4gICAgYmxvY2tGb3JtPy5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICAgIGlmICghdGFyZ2V0IHx8ICF0YXJnZXQubmFtZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBwYW5lbCA9IHRhcmdldC5jbG9zZXN0KCdbZGF0YS1ibG9jay1wYW5lbF0nKTtcbiAgICAgIGlmIChwYW5lbCAmJiBwYW5lbC5kYXRhc2V0LmJsb2NrUGFuZWwgPT09ICdhcHBlYXJhbmNlJykge1xuICAgICAgICBjb25zdCBibG9jayA9IGdldEFjdGl2ZUJsb2NrKCk7XG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IGdldEJsb2NrRm9ybUNvbmZpZyhibG9jayk7XG4gICAgICAgIGlmIChibG9jayAmJiBjb25maWcpIHtcbiAgICAgICAgICBjb25zdCB2YWx1ZXMgPSBjb2xsZWN0Rm9ybVZhbHVlcyhjb25maWcpO1xuICAgICAgICAgIGhhbmRsZUFwcGVhcmFuY2VDaGFuZ2UoYmxvY2suaWQsIHZhbHVlcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICBjb2xsZWN0aW9uU2VsZWN0Py5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICAgIHN5bmNDb2xsZWN0aW9uU2VsZWN0aW9uSW5mbyh0YXJnZXQ/LnZhbHVlIHx8ICcnKTtcbiAgICB9KTtcbiAgICBibG9ja0Zvcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGhhbmRsZUJsb2NrRm9ybVN1Ym1pdCk7XG4gICAgYmxvY2tGb3JtQ2FuY2VsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGNvbnN0IGJsb2NrID0gZ2V0QWN0aXZlQmxvY2soKTtcbiAgICAgIGlmIChibG9jaykge1xuICAgICAgICBwb3B1bGF0ZUJsb2NrRm9ybShibG9jayk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcHJldmlld0ZyYW1lPy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xuICAgICAgcHJldmlld1JlYWR5ID0gdHJ1ZTtcbiAgICAgIHVwZGF0ZVByZXZpZXdTdGF0dXMoJ1x1MDBDMCBqb3VyJyk7XG4gICAgICBhcHBseVByZXZpZXdIaWdobGlnaHQoYWN0aXZlQmxvY2tJZCk7XG4gICAgfSk7XG4gICAgcHJldmlld09wZW5CdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgcHJldmlld1dpbmRvdyA9IHdpbmRvdy5vcGVuKCcnLCAnX2JsYW5rJyk7XG4gICAgICBpZiAoIXByZXZpZXdXaW5kb3cpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcHJldmlld1dpbmRvdy5vcGVuZXIgPSBudWxsO1xuICAgICAgY29uc3QgZG9jID0gcHJldmlld1dpbmRvdy5kb2N1bWVudDtcbiAgICAgIGRvYy5vcGVuKCk7XG4gICAgICBkb2Mud3JpdGUobGF0ZXN0UHJldmlld0h0bWwgfHwgZ2V0TG9hZGluZ1ByZXZpZXdIdG1sKCkpO1xuICAgICAgZG9jLmNsb3NlKCk7XG4gICAgfSk7XG5cbiAgICAvLyBTRU8gcGFuZWwgbG9naWNcbiAgICBjb25zdCB0b2dnbGVTZW9QYW5lbCA9IChzaG93KSA9PiB7XG4gICAgICBpZiAoIXNlb1BhbmVsKSByZXR1cm47XG4gICAgICBpZiAoc2hvdykge1xuICAgICAgICBzZW9QYW5lbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgLy8gUG9wdWxhdGUgZmllbGRzIHdpdGggY3VycmVudCBwYWdlIFNFTyBkYXRhXG4gICAgICAgIGlmIChjdXJyZW50UGFnZSkge1xuICAgICAgICAgIHNlb1RpdGxlSW5wdXQgJiYgKHNlb1RpdGxlSW5wdXQudmFsdWUgPSBjdXJyZW50UGFnZS5zZW8/LnRpdGxlIHx8ICcnKTtcbiAgICAgICAgICBzZW9EZXNjcmlwdGlvbklucHV0ICYmIChzZW9EZXNjcmlwdGlvbklucHV0LnZhbHVlID0gY3VycmVudFBhZ2Uuc2VvPy5kZXNjcmlwdGlvbiB8fCAnJyk7XG4gICAgICAgICAgLy8gaW5kZXhlZDogdHJ1ZSBieSBkZWZhdWx0IGlmIG5vdCBleHBsaWNpdGx5IHNldCB0byBmYWxzZVxuICAgICAgICAgIHNlb0luZGV4ZWRDaGVja2JveCAmJiAoc2VvSW5kZXhlZENoZWNrYm94LmNoZWNrZWQgPSBjdXJyZW50UGFnZS5zZW8/LmluZGV4ZWQgIT09IGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2VvUGFuZWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBzZXRTZW9GZWVkYmFjayA9IChtZXNzYWdlLCB0b25lID0gJ211dGVkJykgPT4ge1xuICAgICAgaWYgKCFzZW9GZWVkYmFjaykgcmV0dXJuO1xuICAgICAgY29uc3QgY29sb3IgPSB0b25lID09PSAnc3VjY2VzcycgPyAndGV4dC1lbWVyYWxkLTYwMCcgOiB0b25lID09PSAnZXJyb3InID8gJ3RleHQtcm9zZS02MDAnIDogJ3RleHQtc2xhdGUtNTAwJztcbiAgICAgIHNlb0ZlZWRiYWNrLnRleHRDb250ZW50ID0gbWVzc2FnZSB8fCAnJztcbiAgICAgIHNlb0ZlZWRiYWNrLmNsYXNzTmFtZSA9IGB0ZXh0LXNtICR7Y29sb3J9YDtcbiAgICB9O1xuICAgIHNlb1RvZ2dsZUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBpc1Zpc2libGUgPSBzZW9QYW5lbCAmJiAhc2VvUGFuZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdoaWRkZW4nKTtcbiAgICAgIHRvZ2dsZVNlb1BhbmVsKCFpc1Zpc2libGUpO1xuICAgIH0pO1xuICAgIHNlb0Nsb3NlQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRvZ2dsZVNlb1BhbmVsKGZhbHNlKSk7XG4gICAgc2VvRm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSkge1xuICAgICAgICBzZXRTZW9GZWVkYmFjaygnQXVjdW5lIHBhZ2UgYWN0aXZlLicsICdlcnJvcicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZW9TYXZlQnV0dG9uICYmIChzZW9TYXZlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZSk7XG4gICAgICBzZXRTZW9GZWVkYmFjaygnJyk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBzZW9EYXRhID0ge1xuICAgICAgICAgIHRpdGxlOiAoc2VvVGl0bGVJbnB1dD8udmFsdWUgfHwgJycpLnRyaW0oKSxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogKHNlb0Rlc2NyaXB0aW9uSW5wdXQ/LnZhbHVlIHx8ICcnKS50cmltKCksXG4gICAgICAgICAgaW5kZXhlZDogc2VvSW5kZXhlZENoZWNrYm94Py5jaGVja2VkID8/IHRydWUsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRQYWdlID0geyAuLi5jdXJyZW50UGFnZSwgc2VvOiBzZW9EYXRhIH07XG4gICAgICAgIGNvbnN0IHNhdmVkID0gYXdhaXQgc2F2ZVBhZ2VUb1NlcnZlcih1cGRhdGVkUGFnZSk7XG4gICAgICAgIGlmIChzYXZlZCkge1xuICAgICAgICAgIGN1cnJlbnRQYWdlID0gc2F2ZWQ7XG4gICAgICAgICAgc2V0U2VvRmVlZGJhY2soJ1NFTyBlbnJlZ2lzdHJcdTAwRTkuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgICBzaG93VG9hc3QoJ1NFTyBtaXMgXHUwMEUwIGpvdXInKTtcbiAgICAgICAgICByZWZyZXNoUHJldmlldyhjdXJyZW50UGFnZSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbc2VvXSBzYXZlIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNldFNlb0ZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsYSBzYXV2ZWdhcmRlLicsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2VvU2F2ZUJ1dHRvbiAmJiAoc2VvU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGNvbnN0IGhhbmRsZUJsb2NrRHJhZ1N0YXJ0ID0gKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCBpdGVtID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLWJsb2NrLWl0ZW1dJyk7XG4gICAgICBpZiAoIWl0ZW0gfHwgIWlzRGVza3RvcFJlb3JkZXIoKSkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBkcmFnU291cmNlSWQgPSBpdGVtLmRhdGFzZXQuYmxvY2tJZCB8fCBudWxsO1xuICAgICAgaWYgKCFkcmFnU291cmNlSWQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZXZlbnQuZGF0YVRyYW5zZmVyLmVmZmVjdEFsbG93ZWQgPSAnbW92ZSc7XG4gICAgICBldmVudC5kYXRhVHJhbnNmZXIuc2V0RGF0YSgndGV4dC9wbGFpbicsIGRyYWdTb3VyY2VJZCk7XG4gICAgICAvLyBTdHlsZSBkdSBibG9jIGVuIGNvdXJzIGRlIGRyYWdcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgIGl0ZW0uY2xhc3NMaXN0LmFkZCgnb3BhY2l0eS01MCcsICdzY2FsZS1bMC45OF0nLCAnc2hhZG93LWxnJywgJ3JpbmctMicsICdyaW5nLVsjOUM2QkZGXScpO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICBjb25zdCBjbGVhckRyYWdJbmRpY2F0b3JzID0gKCkgPT4ge1xuICAgICAgYmxvY2tMaXN0XG4gICAgICAgID8ucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYmxvY2staXRlbV0nKVxuICAgICAgICAuZm9yRWFjaCgobm9kZSkgPT4ge1xuICAgICAgICAgIG5vZGUuY2xhc3NMaXN0LnJlbW92ZShcbiAgICAgICAgICAgICdvcGFjaXR5LTUwJywgJ3NjYWxlLVswLjk4XScsICdzaGFkb3ctbGcnLCAncmluZy0yJywgJ3JpbmctWyM5QzZCRkZdJyxcbiAgICAgICAgICAgICdib3JkZXItdC00JywgJ2JvcmRlci1iLTQnLCAnYm9yZGVyLXQtWyM5QzZCRkZdJywgJ2JvcmRlci1iLVsjOUM2QkZGXScsXG4gICAgICAgICAgICAncHQtNicsICdwYi02J1xuICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgY29uc3QgaGFuZGxlQmxvY2tEcmFnRW5kID0gKCkgPT4ge1xuICAgICAgZHJhZ1NvdXJjZUlkID0gbnVsbDtcbiAgICAgIGNsZWFyRHJhZ0luZGljYXRvcnMoKTtcbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZUJsb2NrRHJhZ092ZXIgPSAoZXZlbnQpID0+IHtcbiAgICAgIGlmICghZHJhZ1NvdXJjZUlkIHx8ICFpc0Rlc2t0b3BSZW9yZGVyKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLWJsb2NrLWl0ZW1dJyk7XG4gICAgICBpZiAoIXRhcmdldCB8fCB0YXJnZXQuZGF0YXNldC5ibG9ja0lkID09PSBkcmFnU291cmNlSWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGV2ZW50LmRhdGFUcmFuc2Zlci5kcm9wRWZmZWN0ID0gJ21vdmUnO1xuICAgICAgLy8gRFx1MDBFOXRlcm1pbmUgc2kgb24gZHJvcCBhdmFudCBvdSBhcHJcdTAwRThzXG4gICAgICBjb25zdCByZWN0ID0gdGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgY29uc3QgbWlkWSA9IHJlY3QudG9wICsgcmVjdC5oZWlnaHQgLyAyO1xuICAgICAgY29uc3QgaXNBYm92ZSA9IGV2ZW50LmNsaWVudFkgPCBtaWRZO1xuICAgICAgLy8gTmV0dG9pZSBsZXMgYXV0cmVzIGluZGljYXRldXJzXG4gICAgICBibG9ja0xpc3Q/LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWJsb2NrLWl0ZW1dJykuZm9yRWFjaCgobm9kZSkgPT4ge1xuICAgICAgICBpZiAobm9kZSAhPT0gdGFyZ2V0ICYmIG5vZGUuZGF0YXNldC5ibG9ja0lkICE9PSBkcmFnU291cmNlSWQpIHtcbiAgICAgICAgICBub2RlLmNsYXNzTGlzdC5yZW1vdmUoJ2JvcmRlci10LTQnLCAnYm9yZGVyLWItNCcsICdib3JkZXItdC1bIzlDNkJGRl0nLCAnYm9yZGVyLWItWyM5QzZCRkZdJywgJ3B0LTYnLCAncGItNicpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIC8vIEFwcGxpcXVlIGwnaW5kaWNhdGV1ciBkZSBwb3NpdGlvblxuICAgICAgdGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoJ2JvcmRlci10LTQnLCAnYm9yZGVyLWItNCcsICdib3JkZXItdC1bIzlDNkJGRl0nLCAnYm9yZGVyLWItWyM5QzZCRkZdJywgJ3B0LTYnLCAncGItNicpO1xuICAgICAgaWYgKGlzQWJvdmUpIHtcbiAgICAgICAgdGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2JvcmRlci10LTQnLCAnYm9yZGVyLXQtWyM5QzZCRkZdJywgJ3B0LTYnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRhcmdldC5jbGFzc0xpc3QuYWRkKCdib3JkZXItYi00JywgJ2JvcmRlci1iLVsjOUM2QkZGXScsICdwYi02Jyk7XG4gICAgICB9XG4gICAgICB0YXJnZXQuZGF0YXNldC5kcm9wUG9zaXRpb24gPSBpc0Fib3ZlID8gJ2JlZm9yZScgOiAnYWZ0ZXInO1xuICAgIH07XG4gICAgY29uc3QgaGFuZGxlQmxvY2tEcmFnTGVhdmUgPSAoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCdbZGF0YS1ibG9jay1pdGVtXScpO1xuICAgICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gVlx1MDBFOXJpZmllIHNpIG9uIHF1aXR0ZSB2cmFpbWVudCBsJ1x1MDBFOWxcdTAwRTltZW50IChwYXMganVzdGUgdmVycyB1biBlbmZhbnQpXG4gICAgICBjb25zdCByZWxhdGVkVGFyZ2V0ID0gZXZlbnQucmVsYXRlZFRhcmdldDtcbiAgICAgIGlmIChyZWxhdGVkVGFyZ2V0ICYmIHRhcmdldC5jb250YWlucyhyZWxhdGVkVGFyZ2V0KSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0YXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgnYm9yZGVyLXQtNCcsICdib3JkZXItYi00JywgJ2JvcmRlci10LVsjOUM2QkZGXScsICdib3JkZXItYi1bIzlDNkJGRl0nLCAncHQtNicsICdwYi02Jyk7XG4gICAgICBkZWxldGUgdGFyZ2V0LmRhdGFzZXQuZHJvcFBvc2l0aW9uO1xuICAgIH07XG4gICAgY29uc3QgaGFuZGxlQmxvY2tEcm9wID0gKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoIWRyYWdTb3VyY2VJZCB8fCAhaXNEZXNrdG9wUmVvcmRlcigpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQuY2xvc2VzdCgnW2RhdGEtYmxvY2staXRlbV0nKTtcbiAgICAgIGNvbnN0IHNvdXJjZSA9IGRyYWdTb3VyY2VJZDtcbiAgICAgIGNvbnN0IGRyb3BQb3NpdGlvbiA9IHRhcmdldD8uZGF0YXNldC5kcm9wUG9zaXRpb24gfHwgJ2FmdGVyJztcbiAgICAgIGRyYWdTb3VyY2VJZCA9IG51bGw7XG4gICAgICBjbGVhckRyYWdJbmRpY2F0b3JzKCk7XG4gICAgICBjb25zdCB0YXJnZXRJZCA9IHRhcmdldD8uZGF0YXNldC5ibG9ja0lkIHx8IG51bGw7XG4gICAgICBpZiAoIXRhcmdldElkIHx8IHNvdXJjZSA9PT0gdGFyZ2V0SWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcmVvcmRlckJsb2Nrc1dpdGhQb3NpdGlvbihzb3VyY2UsIHRhcmdldElkLCBkcm9wUG9zaXRpb24pO1xuICAgIH07XG4gICAgbGV0IGRyYWdTb3VyY2VJZCA9IG51bGw7XG4gICAgYmxvY2tMaXN0Py5hZGRFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCBoYW5kbGVCbG9ja0RyYWdTdGFydCk7XG4gICAgYmxvY2tMaXN0Py5hZGRFdmVudExpc3RlbmVyKCdkcmFnZW5kJywgaGFuZGxlQmxvY2tEcmFnRW5kKTtcbiAgICBibG9ja0xpc3Q/LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgaGFuZGxlQmxvY2tEcmFnT3Zlcik7XG4gICAgYmxvY2tMaXN0Py5hZGRFdmVudExpc3RlbmVyKCdkcmFnbGVhdmUnLCBoYW5kbGVCbG9ja0RyYWdMZWF2ZSk7XG4gICAgYmxvY2tMaXN0Py5hZGRFdmVudExpc3RlbmVyKCdkcm9wJywgaGFuZGxlQmxvY2tEcm9wKTtcbiAgICBsb2FkUGFnZXNGcm9tU2VydmVyKCk7XG4gIH1cblxuICBmdW5jdGlvbiBpbml0Q29udGVudFdvcmtzcGFjZSgpIHtcbiAgICBjb25zdCBjb2xsZWN0aW9uTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbGxlY3Rpb24tbGlzdF0nKTtcbiAgICBpZiAoIWNvbGxlY3Rpb25MaXN0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGNvbGxlY3Rpb25FbXB0eVN0YXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29sbGVjdGlvbi1lbXB0eV0nKTtcbiAgICBjb25zdCBjb2xsZWN0aW9uSXRlbXNFbXB0eSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbGxlY3Rpb24taXRlbXMtZW1wdHldJyk7XG4gICAgY29uc3QgaXRlbVRhYmxlV3JhcHBlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tdGFibGUtd3JhcHBlcl0nKTtcbiAgICBjb25zdCBpdGVtVGFibGVCb2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS10YWJsZS1ib2R5XScpO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25UaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbGxlY3Rpb24tdGl0bGVdJyk7XG4gICAgY29uc3QgY29sbGVjdGlvbkRlc2NyaXB0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29sbGVjdGlvbi1kZXNjcmlwdGlvbl0nKTtcbiAgICBjb25zdCBjb2xsZWN0aW9uRHJhd2VyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29sbGVjdGlvbi1kcmF3ZXJdJyk7XG4gICAgY29uc3QgY29sbGVjdGlvbkRyYXdlckJhY2tkcm9wID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29sbGVjdGlvbi1kcmF3ZXItYmFja2Ryb3BdJyk7XG4gICAgY29uc3QgY29sbGVjdGlvbkRyYXdlck9wZW5CdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtY29sbGVjdGlvbi1kcmF3ZXItb3Blbl0nKTtcbiAgICBjb25zdCBjb2xsZWN0aW9uRHJhd2VyQ2xvc2VCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtY29sbGVjdGlvbi1kcmF3ZXItY2xvc2VdJyk7XG4gICAgY29uc3QgaXRlbUFkZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tYWRkXScpO1xuICAgIGNvbnN0IGl0ZW1EZXRhaWxFbXB0eSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tZGV0YWlsLWVtcHR5XScpO1xuICAgIGNvbnN0IGl0ZW1Gb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS1mb3JtXScpO1xuICAgIGNvbnN0IGl0ZW1Gb3JtRmllbGRzID0gaXRlbUZvcm1cbiAgICAgID8ge1xuICAgICAgICAgIHRpdGxlOiBpdGVtRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cIml0ZW0tdGl0bGVcIl0nKSxcbiAgICAgICAgICBzbHVnOiBpdGVtRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cIml0ZW0tc2x1Z1wiXScpLFxuICAgICAgICAgIGV4Y2VycHQ6IGl0ZW1Gb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaXRlbS1leGNlcnB0XCJdJyksXG4gICAgICAgICAgY29udGVudDogaXRlbUZvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJpdGVtLWNvbnRlbnRcIl0nKSxcbiAgICAgICAgICBpbWFnZTogaXRlbUZvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJpdGVtLWltYWdlXCJdJyksXG4gICAgICAgICAgc3RhdHVzOiBpdGVtRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cIml0ZW0tc3RhdHVzXCJdJyksXG4gICAgICAgIH1cbiAgICAgIDoge307XG4gICAgY29uc3QgaXRlbVN0YXR1c0JhZGdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS1zdGF0dXMtYmFkZ2VdJyk7XG4gICAgY29uc3QgaXRlbURlbGV0ZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tZGVsZXRlXScpO1xuICAgIGNvbnN0IGl0ZW1EZWxldGVNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tZGVsZXRlLW1vZGFsXScpO1xuICAgIGNvbnN0IGl0ZW1EZWxldGVDYW5jZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLWRlbGV0ZS1jYW5jZWxdJyk7XG4gICAgY29uc3QgaXRlbURlbGV0ZUNvbmZpcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLWRlbGV0ZS1jb25maXJtXScpO1xuICAgIGNvbnN0IGl0ZW1Gb3JtQ2FuY2VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS1jYW5jZWxdJyk7XG4gICAgY29uc3QgaXRlbUZvcm1TYXZlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS1zYXZlXScpO1xuICAgIGNvbnN0IHN0YXR1c0JhZGdlQmFzZUNsYXNzID0gJ3JvdW5kZWQtZnVsbCBweC0zIHB5LTEgdGV4dC14cyBmb250LXNlbWlib2xkJztcblxuICAgIGNvbnN0IHNhZmVTaXRlU2x1Z1ZhbHVlID0gc3RyaXBMZWFkaW5nU2xhc2goXG4gICAgICB3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnLFxuICAgICk7XG4gICAgY29uc3QgY29sbGVjdGlvbnNBcGlCYXNlID0gc2FmZVNpdGVTbHVnVmFsdWVcbiAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnVmFsdWUpfS9jb2xsZWN0aW9uc2BcbiAgICAgIDogbnVsbDtcblxuICAgIGxldCBjb2xsZWN0aW9ucyA9IFtdO1xuICAgIGxldCBjb2xsZWN0aW9uSXRlbXMgPSBbXTtcbiAgICBsZXQgYWN0aXZlQ29sbGVjdGlvbklkID0gbnVsbDtcbiAgICBsZXQgYWN0aXZlSXRlbUlkID0gbnVsbDtcbiAgICBsZXQgaXNDcmVhdGluZ0l0ZW0gPSBmYWxzZTtcbiAgICBsZXQgaXRlbVNsdWdNYW51YWxseUVkaXRlZCA9IGZhbHNlO1xuICAgIGxldCBwZW5kaW5nRGVsZXRlSXRlbUlkID0gbnVsbDtcblxuICAgIGNvbnN0IG9wZW5Db2xsZWN0aW9uRHJhd2VyID0gKCkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uRHJhd2VyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbGxlY3Rpb25EcmF3ZXIuY2xhc3NMaXN0LmFkZCgnaXMtb3BlbicpO1xuICAgICAgY29sbGVjdGlvbkRyYXdlci5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWCgwKSc7XG4gICAgICBjb2xsZWN0aW9uRHJhd2VyQmFja2Ryb3A/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICB9O1xuXG4gICAgY29uc3QgY2xvc2VDb2xsZWN0aW9uRHJhd2VyID0gKCkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uRHJhd2VyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbGxlY3Rpb25EcmF3ZXIuY2xhc3NMaXN0LnJlbW92ZSgnaXMtb3BlbicpO1xuICAgICAgY29sbGVjdGlvbkRyYXdlci5zdHlsZS50cmFuc2Zvcm0gPSAnJztcbiAgICAgIGNvbGxlY3Rpb25EcmF3ZXJCYWNrZHJvcD8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ292ZXJmbG93LWhpZGRlbicpO1xuICAgIH07XG5cbiAgICBjb2xsZWN0aW9uRHJhd2VyT3BlbkJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuQ29sbGVjdGlvbkRyYXdlcik7XG4gICAgfSk7XG4gICAgY29sbGVjdGlvbkRyYXdlckNsb3NlQnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlQ29sbGVjdGlvbkRyYXdlcik7XG4gICAgfSk7XG4gICAgY29sbGVjdGlvbkRyYXdlckJhY2tkcm9wPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlQ29sbGVjdGlvbkRyYXdlcik7XG5cbiAgICBjb25zdCBub3JtYWxpemVJdGVtU2x1Z0lucHV0ID0gKHZhbHVlKSA9PiB7XG4gICAgICBjb25zdCByYXcgPSAodmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgIGlmICghcmF3KSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICAgIH1cbiAgICAgIGlmIChyYXcgPT09ICcvJykge1xuICAgICAgICByZXR1cm4gJy8nO1xuICAgICAgfVxuICAgICAgY29uc3Qgc2VnbWVudHMgPSByYXcucmVwbGFjZSgvXlxcLy8sICcnKS5zcGxpdCgnLycpO1xuICAgICAgY29uc3QgY2xlYW5lZFNlZ21lbnRzID0gc2VnbWVudHNcbiAgICAgICAgLm1hcCgoc2VnbWVudCkgPT4gd29ya3NwYWNlU2x1Z2lmeShzZWdtZW50IHx8ICcnKSlcbiAgICAgICAgLmZpbHRlcigoc2VnbWVudCkgPT4gc2VnbWVudC5sZW5ndGggPiAwKTtcbiAgICAgIGlmICghY2xlYW5lZFNlZ21lbnRzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgICB9XG4gICAgICByZXR1cm4gYC8ke2NsZWFuZWRTZWdtZW50cy5qb2luKCcvJyl9YDtcbiAgICB9O1xuXG4gICAgY29uc3QgZm9ybWF0SXRlbURhdGUgPSAodmFsdWUpID0+IHtcbiAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuICdcdTIwMTQnO1xuICAgICAgfVxuICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKHZhbHVlKTtcbiAgICAgIGlmIChOdW1iZXIuaXNOYU4oZGF0ZS5nZXRUaW1lKCkpKSB7XG4gICAgICAgIHJldHVybiAnXHUyMDE0JztcbiAgICAgIH1cbiAgICAgIHJldHVybiBkYXRlLnRvTG9jYWxlRGF0ZVN0cmluZygnZnItRlInLCB7IGRheTogJzItZGlnaXQnLCBtb250aDogJ3Nob3J0JywgeWVhcjogJ251bWVyaWMnIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCB1cGRhdGVDb2xsZWN0aW9uSGVhZGVyID0gKCkgPT4ge1xuICAgICAgY29uc3QgY29sbGVjdGlvbiA9IGNvbGxlY3Rpb25zLmZpbmQoKGVudHJ5KSA9PiBlbnRyeS5pZCA9PT0gYWN0aXZlQ29sbGVjdGlvbklkKTtcbiAgICAgIGlmIChjb2xsZWN0aW9uVGl0bGUpIHtcbiAgICAgICAgY29sbGVjdGlvblRpdGxlLnRleHRDb250ZW50ID0gY29sbGVjdGlvbj8ubmFtZSB8fCAnU1x1MDBFOWxlY3Rpb25uZXogdW5lIGNvbGxlY3Rpb24nO1xuICAgICAgfVxuICAgICAgaWYgKGNvbGxlY3Rpb25EZXNjcmlwdGlvbikge1xuICAgICAgICBjb2xsZWN0aW9uRGVzY3JpcHRpb24udGV4dENvbnRlbnQgPSBjb2xsZWN0aW9uPy5kZXNjcmlwdGlvbiB8fCAnJztcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgdXBkYXRlSXRlbXNFbXB0eU1lc3NhZ2UgPSAobWVzc2FnZSkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uSXRlbXNFbXB0eSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb2xsZWN0aW9uSXRlbXNFbXB0eS50ZXh0Q29udGVudCA9XG4gICAgICAgIG1lc3NhZ2UgfHxcbiAgICAgICAgKGFjdGl2ZUNvbGxlY3Rpb25JZFxuICAgICAgICAgID8gJ0F1Y3VuIGl0ZW0gZGFucyBjZXR0ZSBjb2xsZWN0aW9uIHBvdXIgbGUgbW9tZW50LidcbiAgICAgICAgICA6ICdDaG9pc2lzc2V6IHVuZSBjb2xsZWN0aW9uIGRhbnMgbGUgcGFubmVhdSBkZSBnYXVjaGUuJyk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhpZGVJdGVtRm9ybSA9ICgpID0+IHtcbiAgICAgIGlmIChpdGVtRm9ybSkge1xuICAgICAgICBpdGVtRm9ybS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgaXRlbUZvcm0uZGF0YXNldC5pdGVtSWQgPSAnJztcbiAgICAgIH1cbiAgICAgIGl0ZW1EZXRhaWxFbXB0eT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBpZiAoaXRlbVN0YXR1c0JhZGdlKSB7XG4gICAgICAgIGl0ZW1TdGF0dXNCYWRnZS5jbGFzc05hbWUgPSBgaGlkZGVuICR7c3RhdHVzQmFkZ2VCYXNlQ2xhc3N9YDtcbiAgICAgICAgaXRlbVN0YXR1c0JhZGdlLnRleHRDb250ZW50ID0gJyc7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbURlbGV0ZUJ1dHRvbikge1xuICAgICAgICBpdGVtRGVsZXRlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3Qgc2hvd0l0ZW1Gb3JtID0gKCkgPT4ge1xuICAgICAgaWYgKCFpdGVtRm9ybSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpdGVtRm9ybS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGl0ZW1EZXRhaWxFbXB0eT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgfTtcblxuICAgIGNvbnN0IHN5bmNBZGRCdXR0b25TdGF0ZSA9ICgpID0+IHtcbiAgICAgIGlmICghaXRlbUFkZEJ1dHRvbikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpdGVtQWRkQnV0dG9uLmRpc2FibGVkID0gIWFjdGl2ZUNvbGxlY3Rpb25JZDtcbiAgICAgIGlmIChpdGVtQWRkQnV0dG9uLmRpc2FibGVkKSB7XG4gICAgICAgIGl0ZW1BZGRCdXR0b24uY2xhc3NMaXN0LmFkZCgnb3BhY2l0eS02MCcsICdwb2ludGVyLWV2ZW50cy1ub25lJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpdGVtQWRkQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ29wYWNpdHktNjAnLCAncG9pbnRlci1ldmVudHMtbm9uZScpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBzeW5jSXRlbVN0YXR1c0JhZGdlID0gKHN0YXR1cykgPT4ge1xuICAgICAgaWYgKCFpdGVtU3RhdHVzQmFkZ2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFzdGF0dXMpIHtcbiAgICAgICAgaXRlbVN0YXR1c0JhZGdlLmNsYXNzTmFtZSA9IGBoaWRkZW4gJHtzdGF0dXNCYWRnZUJhc2VDbGFzc31gO1xuICAgICAgICBpdGVtU3RhdHVzQmFkZ2UudGV4dENvbnRlbnQgPSAnJztcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IHN0YXR1cy50b0xvd2VyQ2FzZSgpO1xuICAgICAgbGV0IGNvbG9yQ2xhc3MgPSAnYmctc2xhdGUtMTAwIHRleHQtc2xhdGUtNjAwIGJvcmRlciBib3JkZXItc2xhdGUtMjAwJztcbiAgICAgIGlmIChub3JtYWxpemVkID09PSAncHVibGlcdTAwRTknIHx8IG5vcm1hbGl6ZWQgPT09ICdwdWJsaWUnKSB7XG4gICAgICAgIGNvbG9yQ2xhc3MgPSAnYmctZW1lcmFsZC01MCB0ZXh0LWVtZXJhbGQtNzAwIGJvcmRlciBib3JkZXItZW1lcmFsZC0xMDAnO1xuICAgICAgfSBlbHNlIGlmIChub3JtYWxpemVkID09PSAnYnJvdWlsbG9uJykge1xuICAgICAgICBjb2xvckNsYXNzID0gJ2JnLWFtYmVyLTUwIHRleHQtYW1iZXItNzAwIGJvcmRlciBib3JkZXItYW1iZXItMTAwJztcbiAgICAgIH1cbiAgICAgIGl0ZW1TdGF0dXNCYWRnZS5jbGFzc05hbWUgPSBgJHtzdGF0dXNCYWRnZUJhc2VDbGFzc30gJHtjb2xvckNsYXNzfWA7XG4gICAgICBpdGVtU3RhdHVzQmFkZ2UudGV4dENvbnRlbnQgPSBzdGF0dXM7XG4gICAgfTtcblxuICAgIGNvbnN0IHJlbmRlckNvbGxlY3Rpb25MaXN0ID0gKCkgPT4ge1xuICAgICAgY29sbGVjdGlvbkxpc3QuaW5uZXJIVE1MID0gJyc7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25zLmxlbmd0aCkge1xuICAgICAgICBjb2xsZWN0aW9uRW1wdHlTdGF0ZT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbGxlY3Rpb25FbXB0eVN0YXRlPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGNvbGxlY3Rpb25zLmZvckVhY2goKGNvbGxlY3Rpb24pID0+IHtcbiAgICAgICAgY29uc3QgaXNBY3RpdmUgPSBjb2xsZWN0aW9uLmlkID09PSBhY3RpdmVDb2xsZWN0aW9uSWQ7XG4gICAgICAgIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICBidXR0b24udHlwZSA9ICdidXR0b24nO1xuICAgICAgICBidXR0b24uZGF0YXNldC5jb2xsZWN0aW9uSWQgPSBjb2xsZWN0aW9uLmlkO1xuICAgICAgICBidXR0b24uY2xhc3NOYW1lID0gW1xuICAgICAgICAgICd3LWZ1bGwgcm91bmRlZC14bCBib3JkZXIgcHgtMyBweS0yIHRleHQtbGVmdCB0cmFuc2l0aW9uIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1bIzlDNkJGRl0vNDAnLFxuICAgICAgICAgIGlzQWN0aXZlXG4gICAgICAgICAgICA/ICdiZy1bI0Y3RjBGRl0gYm9yZGVyLVsjOUM2QkZGXS80MCB0ZXh0LXNsYXRlLTkwMCdcbiAgICAgICAgICAgIDogJ2JvcmRlci1zbGF0ZS0yMDAgdGV4dC1zbGF0ZS03MDAgaG92ZXI6Ym9yZGVyLVsjOUM2QkZGXS80MCcsXG4gICAgICAgIF0uam9pbignICcpO1xuICAgICAgICBidXR0b24uc2V0QXR0cmlidXRlKCdyb2xlJywgJ29wdGlvbicpO1xuICAgICAgICBpZiAoaXNBY3RpdmUpIHtcbiAgICAgICAgICBidXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLWN1cnJlbnQnLCAndHJ1ZScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGJ1dHRvbi5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtY3VycmVudCcpO1xuICAgICAgICB9XG4gICAgICAgIGJ1dHRvbi5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBnYXAtMlwiPlxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXNtIGZvbnQtc2VtaWJvbGRcIj4ke2NvbGxlY3Rpb24ubmFtZSB8fCBjb2xsZWN0aW9uLmlkfTwvcD5cbiAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNTAwXCI+JHtjb2xsZWN0aW9uLmRlc2NyaXB0aW9uIHx8ICcnfTwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LVsxMXB4XSB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZSB0ZXh0LXNsYXRlLTQwMFwiPiR7Y29sbGVjdGlvbi50eXBlIHx8ICcnfTwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgYDtcbiAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgIHNldEFjdGl2ZUNvbGxlY3Rpb24oY29sbGVjdGlvbi5pZCk7XG4gICAgICAgICAgaWYgKCF3aW5kb3cubWF0Y2hNZWRpYSgnKG1pbi13aWR0aDogMTAyNHB4KScpLm1hdGNoZXMpIHtcbiAgICAgICAgICAgIGNsb3NlQ29sbGVjdGlvbkRyYXdlcigpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGNvbGxlY3Rpb25MaXN0LmFwcGVuZENoaWxkKGJ1dHRvbik7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgcmVuZGVySXRlbVRhYmxlID0gKCkgPT4ge1xuICAgICAgaWYgKCFpdGVtVGFibGVCb2R5KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGl0ZW1UYWJsZUJvZHkuaW5uZXJIVE1MID0gJyc7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25JdGVtcy5sZW5ndGggfHwgIWFjdGl2ZUNvbGxlY3Rpb25JZCkge1xuICAgICAgICBjb2xsZWN0aW9uSXRlbXNFbXB0eT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIHVwZGF0ZUl0ZW1zRW1wdHlNZXNzYWdlKCk7XG4gICAgICAgIGl0ZW1UYWJsZVdyYXBwZXI/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb2xsZWN0aW9uSXRlbXNFbXB0eT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBpdGVtVGFibGVXcmFwcGVyPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGNvbGxlY3Rpb25JdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgIGNvbnN0IHJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyJyk7XG4gICAgICAgIHJvdy5kYXRhc2V0Lml0ZW1JZCA9IGl0ZW0uaWQ7XG4gICAgICAgIGNvbnN0IGlzQWN0aXZlID0gaXRlbS5pZCA9PT0gYWN0aXZlSXRlbUlkICYmICFpc0NyZWF0aW5nSXRlbTtcbiAgICAgICAgcm93LmNsYXNzTmFtZSA9IFtcbiAgICAgICAgICAnY3Vyc29yLXBvaW50ZXIgdHJhbnNpdGlvbiBmb2N1cy13aXRoaW46YmctWyNGN0YwRkZdLzcwIGZvY3VzOm91dGxpbmUtbm9uZScsXG4gICAgICAgICAgaXNBY3RpdmUgPyAnYmctWyNGN0YwRkZdLzcwJyA6ICdob3ZlcjpiZy1zbGF0ZS01MCcsXG4gICAgICAgIF0uam9pbignICcpO1xuICAgICAgICByb3cudGFiSW5kZXggPSAwO1xuICAgICAgICByb3cuc2V0QXR0cmlidXRlKCdyb2xlJywgJ2J1dHRvbicpO1xuICAgICAgICBpZiAoaXNBY3RpdmUpIHtcbiAgICAgICAgICByb3cuc2V0QXR0cmlidXRlKCdhcmlhLWN1cnJlbnQnLCAndHJ1ZScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJvdy5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtY3VycmVudCcpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHN0YXR1cyA9IGl0ZW0uc3RhdHVzIHx8ICdCcm91aWxsb24nO1xuICAgICAgICBjb25zdCBub3JtYWxpemVkID0gc3RhdHVzLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGNvbnN0IHN0YXR1c0NsYXNzZXMgPVxuICAgICAgICAgIG5vcm1hbGl6ZWQgPT09ICdwdWJsaVx1MDBFOScgfHwgbm9ybWFsaXplZCA9PT0gJ3B1YmxpZSdcbiAgICAgICAgICAgID8gJ2JnLWVtZXJhbGQtNTAgdGV4dC1lbWVyYWxkLTcwMCBib3JkZXIgYm9yZGVyLWVtZXJhbGQtMTAwJ1xuICAgICAgICAgICAgOiAnYmctYW1iZXItNTAgdGV4dC1hbWJlci03MDAgYm9yZGVyIGJvcmRlci1hbWJlci0xMDAnO1xuICAgICAgICByb3cuaW5uZXJIVE1MID0gYFxuICAgICAgICAgIDx0ZCBjbGFzcz1cInB4LTQgcHktMyBhbGlnbi10b3BcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC1zbSBmb250LXNlbWlib2xkIHRleHQtc2xhdGUtOTAwXCI+JHtpdGVtLnRpdGxlIHx8ICdTYW5zIHRpdHJlJ308L3NwYW4+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC14cyB0ZXh0LXNsYXRlLTUwMFwiPiR7aXRlbS5zdW1tYXJ5IHx8IGl0ZW0uZXhjZXJwdCB8fCAnJ308L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L3RkPlxuICAgICAgICAgIDx0ZCBjbGFzcz1cInB4LTQgcHktMyBhbGlnbi10b3AgdGV4dC1zbSB0ZXh0LXNsYXRlLTYwMFwiPiR7aXRlbS5zbHVnIHx8ICcnfTwvdGQ+XG4gICAgICAgICAgPHRkIGNsYXNzPVwicHgtNCBweS0zIGFsaWduLXRvcFwiPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgcm91bmRlZC1mdWxsIHB4LTMgcHktMSB0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgJHtzdGF0dXNDbGFzc2VzfVwiPlxuICAgICAgICAgICAgICAke3N0YXR1c31cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L3RkPlxuICAgICAgICAgIDx0ZCBjbGFzcz1cInB4LTQgcHktMyBhbGlnbi10b3AgdGV4dC1zbSB0ZXh0LXNsYXRlLTUwMFwiPiR7Zm9ybWF0SXRlbURhdGUoXG4gICAgICAgICAgICBpdGVtLnVwZGF0ZWRBdCB8fCBpdGVtLmNyZWF0ZWRBdCxcbiAgICAgICAgICApfTwvdGQ+XG4gICAgICAgIGA7XG4gICAgICAgIGNvbnN0IGhhbmRsZVNlbGVjdCA9ICgpID0+IHtcbiAgICAgICAgICBzZWxlY3RJdGVtKGl0ZW0uaWQpO1xuICAgICAgICB9O1xuICAgICAgICByb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVTZWxlY3QpO1xuICAgICAgICByb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldmVudCkgPT4ge1xuICAgICAgICAgIGlmIChldmVudC5rZXkgPT09ICdFbnRlcicgfHwgZXZlbnQua2V5ID09PSAnICcpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBoYW5kbGVTZWxlY3QoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpdGVtVGFibGVCb2R5LmFwcGVuZENoaWxkKHJvdyk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgY29uc3Qgc2VsZWN0SXRlbSA9IChpdGVtSWQpID0+IHtcbiAgICAgIGNvbnN0IGl0ZW0gPSBjb2xsZWN0aW9uSXRlbXMuZmluZCgoZW50cnkpID0+IGVudHJ5LmlkID09PSBpdGVtSWQpO1xuICAgICAgaWYgKCFpdGVtKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGFjdGl2ZUl0ZW1JZCA9IGl0ZW0uaWQ7XG4gICAgICBpc0NyZWF0aW5nSXRlbSA9IGZhbHNlO1xuICAgICAgaXRlbVNsdWdNYW51YWxseUVkaXRlZCA9IHRydWU7XG4gICAgICBwb3B1bGF0ZUl0ZW1Gb3JtKGl0ZW0pO1xuICAgICAgcmVuZGVySXRlbVRhYmxlKCk7XG4gICAgfTtcblxuICAgIGNvbnN0IHBvcHVsYXRlSXRlbUZvcm0gPSAoaXRlbSkgPT4ge1xuICAgICAgaWYgKCFpdGVtRm9ybSB8fCAhaXRlbSkge1xuICAgICAgICBoaWRlSXRlbUZvcm0oKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2hvd0l0ZW1Gb3JtKCk7XG4gICAgICBpdGVtRm9ybS5kYXRhc2V0Lml0ZW1JZCA9IGl0ZW0uaWQ7XG4gICAgICBpZiAoaXRlbUZvcm1GaWVsZHMudGl0bGUpIHtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMudGl0bGUudmFsdWUgPSBpdGVtLnRpdGxlIHx8ICcnO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1Gb3JtRmllbGRzLnNsdWcpIHtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMuc2x1Zy52YWx1ZSA9IGl0ZW0uc2x1ZyB8fCAnJztcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtRm9ybUZpZWxkcy5leGNlcnB0KSB7XG4gICAgICAgIGl0ZW1Gb3JtRmllbGRzLmV4Y2VycHQudmFsdWUgPSBpdGVtLnN1bW1hcnkgfHwgaXRlbS5leGNlcnB0IHx8ICcnO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1Gb3JtRmllbGRzLmNvbnRlbnQpIHtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMuY29udGVudC52YWx1ZSA9IGl0ZW0uY29udGVudCB8fCAnJztcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtRm9ybUZpZWxkcy5pbWFnZSkge1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy5pbWFnZS52YWx1ZSA9IGl0ZW0uaW1hZ2UgfHwgJyc7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbUZvcm1GaWVsZHMuc3RhdHVzKSB7XG4gICAgICAgIGl0ZW1Gb3JtRmllbGRzLnN0YXR1cy52YWx1ZSA9IGl0ZW0uc3RhdHVzIHx8ICdCcm91aWxsb24nO1xuICAgICAgfVxuICAgICAgc3luY0l0ZW1TdGF0dXNCYWRnZShpdGVtLnN0YXR1cyB8fCAnQnJvdWlsbG9uJyk7XG4gICAgICBpZiAoaXRlbURlbGV0ZUJ1dHRvbikge1xuICAgICAgICBpdGVtRGVsZXRlQnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHByZXBhcmVOZXdJdGVtRm9ybSA9ICgpID0+IHtcbiAgICAgIGlmICghaXRlbUZvcm0pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaXNDcmVhdGluZ0l0ZW0gPSB0cnVlO1xuICAgICAgYWN0aXZlSXRlbUlkID0gbnVsbDtcbiAgICAgIGl0ZW1TbHVnTWFudWFsbHlFZGl0ZWQgPSBmYWxzZTtcbiAgICAgIGl0ZW1Gb3JtLmRhdGFzZXQuaXRlbUlkID0gJyc7XG4gICAgICBpdGVtRm9ybS5yZXNldCgpO1xuICAgICAgaWYgKGl0ZW1Gb3JtRmllbGRzLnN0YXR1cykge1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy5zdGF0dXMudmFsdWUgPSAnQnJvdWlsbG9uJztcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtRm9ybUZpZWxkcy5zbHVnKSB7XG4gICAgICAgIGl0ZW1Gb3JtRmllbGRzLnNsdWcudmFsdWUgPSAnJztcbiAgICAgIH1cbiAgICAgIHN5bmNJdGVtU3RhdHVzQmFkZ2UoJ0Jyb3VpbGxvbicpO1xuICAgICAgc2hvd0l0ZW1Gb3JtKCk7XG4gICAgICBpZiAoaXRlbURlbGV0ZUJ1dHRvbikge1xuICAgICAgICBpdGVtRGVsZXRlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGl0ZW1Gb3JtRmllbGRzLnRpdGxlPy5mb2N1cygpO1xuICAgIH07XG5cbiAgICBjb25zdCBjb2xsZWN0SXRlbUZvcm1WYWx1ZXMgPSAoKSA9PiB7XG4gICAgICBjb25zdCB0aXRsZSA9IChpdGVtRm9ybUZpZWxkcy50aXRsZT8udmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgIGNvbnN0IHNsdWdJbnB1dCA9IChpdGVtRm9ybUZpZWxkcy5zbHVnPy52YWx1ZSB8fCAnJykudHJpbSgpO1xuICAgICAgY29uc3Qgc3VtbWFyeSA9IChpdGVtRm9ybUZpZWxkcy5leGNlcnB0Py52YWx1ZSB8fCAnJykudHJpbSgpO1xuICAgICAgY29uc3QgY29udGVudCA9IChpdGVtRm9ybUZpZWxkcy5jb250ZW50Py52YWx1ZSB8fCAnJykudHJpbSgpO1xuICAgICAgY29uc3QgaW1hZ2UgPSAoaXRlbUZvcm1GaWVsZHMuaW1hZ2U/LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICBjb25zdCBzdGF0dXMgPSBpdGVtRm9ybUZpZWxkcy5zdGF0dXM/LnZhbHVlIHx8ICdCcm91aWxsb24nO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdGl0bGUsXG4gICAgICAgIHNsdWc6IHNsdWdJbnB1dCA/IG5vcm1hbGl6ZUl0ZW1TbHVnSW5wdXQoc2x1Z0lucHV0KSA6IG5vcm1hbGl6ZUl0ZW1TbHVnSW5wdXQodGl0bGUpLFxuICAgICAgICBzdW1tYXJ5LFxuICAgICAgICBleGNlcnB0OiBzdW1tYXJ5LFxuICAgICAgICBjb250ZW50LFxuICAgICAgICBpbWFnZSxcbiAgICAgICAgc3RhdHVzLFxuICAgICAgfTtcbiAgICB9O1xuXG4gICAgY29uc3Qgc2V0Rm9ybVNhdmluZ1N0YXRlID0gKGlzU2F2aW5nKSA9PiB7XG4gICAgICBpZiAoaXRlbUZvcm1TYXZlKSB7XG4gICAgICAgIGl0ZW1Gb3JtU2F2ZS5kaXNhYmxlZCA9IGlzU2F2aW5nO1xuICAgICAgICBpdGVtRm9ybVNhdmUudGV4dENvbnRlbnQgPSBpc1NhdmluZyA/ICdFbnJlZ2lzdHJlbWVudFx1MjAyNicgOiAnRW5yZWdpc3RyZXInO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1EZWxldGVCdXR0b24gJiYgIWlzQ3JlYXRpbmdJdGVtICYmIGFjdGl2ZUl0ZW1JZCkge1xuICAgICAgICBpdGVtRGVsZXRlQnV0dG9uLmRpc2FibGVkID0gaXNTYXZpbmc7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGZldGNoQ29sbGVjdGlvbkl0ZW1zID0gYXN5bmMgKGNvbGxlY3Rpb25JZCkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uc0FwaUJhc2UpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgYCR7Y29sbGVjdGlvbnNBcGlCYXNlfS8ke2VuY29kZVVSSUNvbXBvbmVudChjb2xsZWN0aW9uSWQpfS9pdGVtc2AsXG4gICAgICAgIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0sXG4gICAgICApO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IocGF5bG9hZC5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIGl0ZW1zLicpO1xuICAgICAgfVxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KGRhdGEuaXRlbXMpID8gZGF0YS5pdGVtcyA6IFtdO1xuICAgIH07XG5cbiAgICBjb25zdCBzZXRBY3RpdmVDb2xsZWN0aW9uID0gYXN5bmMgKGNvbGxlY3Rpb25JZCkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uSWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYWN0aXZlQ29sbGVjdGlvbklkID0gY29sbGVjdGlvbklkO1xuICAgICAgYWN0aXZlSXRlbUlkID0gbnVsbDtcbiAgICAgIGlzQ3JlYXRpbmdJdGVtID0gZmFsc2U7XG4gICAgICBpdGVtU2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gICAgICB1cGRhdGVDb2xsZWN0aW9uSGVhZGVyKCk7XG4gICAgICBzeW5jQWRkQnV0dG9uU3RhdGUoKTtcbiAgICAgIHJlbmRlckNvbGxlY3Rpb25MaXN0KCk7XG4gICAgICBoaWRlSXRlbUZvcm0oKTtcbiAgICAgIGNvbGxlY3Rpb25JdGVtcyA9IFtdO1xuICAgICAgcmVuZGVySXRlbVRhYmxlKCk7XG4gICAgICB1cGRhdGVJdGVtc0VtcHR5TWVzc2FnZSgnQ2hhcmdlbWVudCBkZXMgaXRlbXNcdTIwMjYnKTtcbiAgICAgIGNvbGxlY3Rpb25JdGVtc0VtcHR5Py5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGl0ZW1UYWJsZVdyYXBwZXI/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgaWYgKCFjb2xsZWN0aW9uc0FwaUJhc2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29sbGVjdGlvbkl0ZW1zID0gYXdhaXQgZmV0Y2hDb2xsZWN0aW9uSXRlbXMoY29sbGVjdGlvbklkKTtcbiAgICAgICAgcmVuZGVySXRlbVRhYmxlKCk7XG4gICAgICAgIGlmICghY29sbGVjdGlvbkl0ZW1zLmxlbmd0aCkge1xuICAgICAgICAgIHVwZGF0ZUl0ZW1zRW1wdHlNZXNzYWdlKCk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbY29udGVudF0gaXRlbXMgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIGl0ZW1zLicpO1xuICAgICAgICBjb2xsZWN0aW9uSXRlbXMgPSBbXTtcbiAgICAgICAgcmVuZGVySXRlbVRhYmxlKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGNyZWF0ZUNvbGxlY3Rpb25JdGVtID0gYXN5bmMgKGNvbGxlY3Rpb25JZCwgcGF5bG9hZCkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uc0FwaUJhc2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTaXRlIGluY29ubnUuJyk7XG4gICAgICB9XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgICBgJHtjb2xsZWN0aW9uc0FwaUJhc2V9LyR7ZW5jb2RlVVJJQ29tcG9uZW50KGNvbGxlY3Rpb25JZCl9L2l0ZW1zYCxcbiAgICAgICAge1xuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICB9LFxuICAgICAgKTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGRhdGEubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBjclx1MDBFOWVyIGNldCBpdGVtLicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICB9O1xuXG4gICAgY29uc3QgdXBkYXRlQ29sbGVjdGlvbkl0ZW0gPSBhc3luYyAoY29sbGVjdGlvbklkLCBpdGVtSWQsIHBheWxvYWQpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvbnNBcGlCYXNlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignU2l0ZSBpbmNvbm51LicpO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgYCR7Y29sbGVjdGlvbnNBcGlCYXNlfS8ke2VuY29kZVVSSUNvbXBvbmVudChjb2xsZWN0aW9uSWQpfS9pdGVtcy8ke2VuY29kZVVSSUNvbXBvbmVudChpdGVtSWQpfWAsXG4gICAgICAgIHtcbiAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICB9LFxuICAgICAgKTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGRhdGEubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBzYXV2ZWdhcmRlciBjZXQgaXRlbS4nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGRlbGV0ZUNvbGxlY3Rpb25JdGVtID0gYXN5bmMgKGNvbGxlY3Rpb25JZCwgaXRlbUlkKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25zQXBpQmFzZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NpdGUgaW5jb25udS4nKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgIGAke2NvbGxlY3Rpb25zQXBpQmFzZX0vJHtlbmNvZGVVUklDb21wb25lbnQoY29sbGVjdGlvbklkKX0vaXRlbXMvJHtlbmNvZGVVUklDb21wb25lbnQoaXRlbUlkKX1gLFxuICAgICAgICB7IG1ldGhvZDogJ0RFTEVURScgfSxcbiAgICAgICk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihkYXRhLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgc3VwcHJpbWVyIGNldCBpdGVtLicpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBsb2FkQ29sbGVjdGlvbnMgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25zQXBpQmFzZSkge1xuICAgICAgICBjb2xsZWN0aW9uRW1wdHlTdGF0ZT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIGFjdGl2ZUNvbGxlY3Rpb25JZCA9IG51bGw7XG4gICAgICAgIGNvbGxlY3Rpb25JdGVtcyA9IFtdO1xuICAgICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICAgICAgdXBkYXRlQ29sbGVjdGlvbkhlYWRlcigpO1xuICAgICAgICBzeW5jQWRkQnV0dG9uU3RhdGUoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChjb2xsZWN0aW9uc0FwaUJhc2UsIHtcbiAgICAgICAgICBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIGNvbGxlY3Rpb25zLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gW10pO1xuICAgICAgICBjb2xsZWN0aW9ucyA9IEFycmF5LmlzQXJyYXkocGF5bG9hZCkgPyBwYXlsb2FkIDogW107XG4gICAgICAgIHJlbmRlckNvbGxlY3Rpb25MaXN0KCk7XG4gICAgICAgIGlmIChjb2xsZWN0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY29uc3QgZGVmYXVsdElkID0gY29sbGVjdGlvbnMuZmluZCgoZW50cnkpID0+IGVudHJ5LmlkID09PSBhY3RpdmVDb2xsZWN0aW9uSWQpPy5pZFxuICAgICAgICAgICAgfHwgY29sbGVjdGlvbnNbMF0uaWQ7XG4gICAgICAgICAgc2V0QWN0aXZlQ29sbGVjdGlvbihkZWZhdWx0SWQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFjdGl2ZUNvbGxlY3Rpb25JZCA9IG51bGw7XG4gICAgICAgICAgY29sbGVjdGlvbkl0ZW1zID0gW107XG4gICAgICAgICAgdXBkYXRlQ29sbGVjdGlvbkhlYWRlcigpO1xuICAgICAgICAgIHN5bmNBZGRCdXR0b25TdGF0ZSgpO1xuICAgICAgICAgIHJlbmRlckl0ZW1UYWJsZSgpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2NvbnRlbnRdIGxvYWQgY29sbGVjdGlvbnMnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgY2hhcmdlciBsZXMgY29sbGVjdGlvbnMuJyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGl0ZW1BZGRCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgaWYgKCFhY3RpdmVDb2xsZWN0aW9uSWQpIHtcbiAgICAgICAgc2hvd1RvYXN0KCdTXHUwMEU5bGVjdGlvbm5leiBkXHUyMDE5YWJvcmQgdW5lIGNvbGxlY3Rpb24uJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHByZXBhcmVOZXdJdGVtRm9ybSgpO1xuICAgICAgcmVuZGVySXRlbVRhYmxlKCk7XG4gICAgfSk7XG5cbiAgICBpdGVtRm9ybUNhbmNlbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoaXNDcmVhdGluZ0l0ZW0pIHtcbiAgICAgICAgaXNDcmVhdGluZ0l0ZW0gPSBmYWxzZTtcbiAgICAgICAgYWN0aXZlSXRlbUlkID0gbnVsbDtcbiAgICAgICAgaGlkZUl0ZW1Gb3JtKCk7XG4gICAgICAgIHJlbmRlckl0ZW1UYWJsZSgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoYWN0aXZlSXRlbUlkKSB7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSBjb2xsZWN0aW9uSXRlbXMuZmluZCgoZW50cnkpID0+IGVudHJ5LmlkID09PSBhY3RpdmVJdGVtSWQpO1xuICAgICAgICBwb3B1bGF0ZUl0ZW1Gb3JtKGl0ZW0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaGlkZUl0ZW1Gb3JtKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpdGVtRm9ybUZpZWxkcy5zdGF0dXM/LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgICAgIHN5bmNJdGVtU3RhdHVzQmFkZ2UoaXRlbUZvcm1GaWVsZHMuc3RhdHVzLnZhbHVlKTtcbiAgICB9KTtcblxuICAgIGl0ZW1Gb3JtRmllbGRzLnRpdGxlPy5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICAgIGlmICghaXNDcmVhdGluZ0l0ZW0gfHwgIWl0ZW1Gb3JtRmllbGRzLnNsdWcgfHwgaXRlbVNsdWdNYW51YWxseUVkaXRlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpdGVtRm9ybUZpZWxkcy5zbHVnLnZhbHVlID0gbm9ybWFsaXplSXRlbVNsdWdJbnB1dChpdGVtRm9ybUZpZWxkcy50aXRsZS52YWx1ZSk7XG4gICAgfSk7XG5cbiAgICBpdGVtRm9ybUZpZWxkcy5zbHVnPy5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICAgIGlmICghaXNDcmVhdGluZ0l0ZW0pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaXRlbVNsdWdNYW51YWxseUVkaXRlZCA9IHRydWU7XG4gICAgfSk7XG5cbiAgICBpdGVtRm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKCFhY3RpdmVDb2xsZWN0aW9uSWQpIHtcbiAgICAgICAgc2hvd1RvYXN0KCdTXHUwMEU5bGVjdGlvbm5leiB1bmUgY29sbGVjdGlvbi4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgdmFsdWVzID0gY29sbGVjdEl0ZW1Gb3JtVmFsdWVzKCk7XG4gICAgICBpZiAoIXZhbHVlcy50aXRsZSkge1xuICAgICAgICBzaG93VG9hc3QoJ0xlIHRpdHJlIGVzdCByZXF1aXMuJyk7XG4gICAgICAgIGl0ZW1Gb3JtRmllbGRzLnRpdGxlPy5mb2N1cygpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZXRGb3JtU2F2aW5nU3RhdGUodHJ1ZSk7XG4gICAgICB0cnkge1xuICAgICAgICBsZXQgc2F2ZWRJdGVtO1xuICAgICAgICBpZiAoaXNDcmVhdGluZ0l0ZW0gfHwgIWFjdGl2ZUl0ZW1JZCkge1xuICAgICAgICAgIHNhdmVkSXRlbSA9IGF3YWl0IGNyZWF0ZUNvbGxlY3Rpb25JdGVtKGFjdGl2ZUNvbGxlY3Rpb25JZCwgdmFsdWVzKTtcbiAgICAgICAgICBjb2xsZWN0aW9uSXRlbXMgPSBbLi4uY29sbGVjdGlvbkl0ZW1zLCBzYXZlZEl0ZW1dO1xuICAgICAgICAgIHNob3dUb2FzdCgnSXRlbSBjclx1MDBFOVx1MDBFOScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNhdmVkSXRlbSA9IGF3YWl0IHVwZGF0ZUNvbGxlY3Rpb25JdGVtKGFjdGl2ZUNvbGxlY3Rpb25JZCwgYWN0aXZlSXRlbUlkLCB2YWx1ZXMpO1xuICAgICAgICAgIGNvbGxlY3Rpb25JdGVtcyA9IGNvbGxlY3Rpb25JdGVtcy5tYXAoKGl0ZW0pID0+XG4gICAgICAgICAgICBpdGVtLmlkID09PSBzYXZlZEl0ZW0uaWQgPyBzYXZlZEl0ZW0gOiBpdGVtLFxuICAgICAgICAgICk7XG4gICAgICAgICAgc2hvd1RvYXN0KCdJdGVtIG1pcyBcdTAwRTAgam91cicpO1xuICAgICAgICB9XG4gICAgICAgIGlzQ3JlYXRpbmdJdGVtID0gZmFsc2U7XG4gICAgICAgIGFjdGl2ZUl0ZW1JZCA9IHNhdmVkSXRlbS5pZDtcbiAgICAgICAgcG9wdWxhdGVJdGVtRm9ybShzYXZlZEl0ZW0pO1xuICAgICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbY29udGVudF0gc2F2ZSBpdGVtIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBzYXV2ZWdhcmRlciBjZXQgaXRlbS4nKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldEZvcm1TYXZpbmdTdGF0ZShmYWxzZSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBjb25zdCBjbG9zZURlbGV0ZU1vZGFsID0gKCkgPT4ge1xuICAgICAgaWYgKCFpdGVtRGVsZXRlTW9kYWwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaXRlbURlbGV0ZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgaXRlbURlbGV0ZU1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2ZsZXgnKTtcbiAgICAgIHBlbmRpbmdEZWxldGVJdGVtSWQgPSBudWxsO1xuICAgIH07XG5cbiAgICBjb25zdCBvcGVuRGVsZXRlTW9kYWwgPSAoKSA9PiB7XG4gICAgICBpZiAoIWl0ZW1EZWxldGVNb2RhbCB8fCAhYWN0aXZlSXRlbUlkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHBlbmRpbmdEZWxldGVJdGVtSWQgPSBhY3RpdmVJdGVtSWQ7XG4gICAgICBpdGVtRGVsZXRlTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBpdGVtRGVsZXRlTW9kYWwuY2xhc3NMaXN0LmFkZCgnZmxleCcpO1xuICAgIH07XG5cbiAgICBpdGVtRGVsZXRlQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmICghYWN0aXZlSXRlbUlkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIG9wZW5EZWxldGVNb2RhbCgpO1xuICAgIH0pO1xuXG4gICAgaXRlbURlbGV0ZUNhbmNlbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjbG9zZURlbGV0ZU1vZGFsKCk7XG4gICAgfSk7XG5cbiAgICBpdGVtRGVsZXRlTW9kYWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSBpdGVtRGVsZXRlTW9kYWwpIHtcbiAgICAgICAgY2xvc2VEZWxldGVNb2RhbCgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaXRlbURlbGV0ZUNvbmZpcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFwZW5kaW5nRGVsZXRlSXRlbUlkIHx8ICFhY3RpdmVDb2xsZWN0aW9uSWQpIHtcbiAgICAgICAgY2xvc2VEZWxldGVNb2RhbCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpdGVtRGVsZXRlQ29uZmlybS5kaXNhYmxlZCA9IHRydWU7XG4gICAgICBpdGVtRGVsZXRlQ29uZmlybS50ZXh0Q29udGVudCA9ICdTdXBwcmVzc2lvblx1MjAyNic7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBkZWxldGVDb2xsZWN0aW9uSXRlbShhY3RpdmVDb2xsZWN0aW9uSWQsIHBlbmRpbmdEZWxldGVJdGVtSWQpO1xuICAgICAgICBjb2xsZWN0aW9uSXRlbXMgPSBjb2xsZWN0aW9uSXRlbXMuZmlsdGVyKChpdGVtKSA9PiBpdGVtLmlkICE9PSBwZW5kaW5nRGVsZXRlSXRlbUlkKTtcbiAgICAgICAgaWYgKGFjdGl2ZUl0ZW1JZCA9PT0gcGVuZGluZ0RlbGV0ZUl0ZW1JZCkge1xuICAgICAgICAgIGFjdGl2ZUl0ZW1JZCA9IG51bGw7XG4gICAgICAgICAgaGlkZUl0ZW1Gb3JtKCk7XG4gICAgICAgIH1cbiAgICAgICAgc2hvd1RvYXN0KCdJdGVtIHN1cHByaW1cdTAwRTknKTtcbiAgICAgICAgcmVuZGVySXRlbVRhYmxlKCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2NvbnRlbnRdIGRlbGV0ZSBpdGVtIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBzdXBwcmltZXIgY2V0IGl0ZW0uJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpdGVtRGVsZXRlQ29uZmlybS5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICBpdGVtRGVsZXRlQ29uZmlybS50ZXh0Q29udGVudCA9ICdTdXBwcmltZXInO1xuICAgICAgICBjbG9zZURlbGV0ZU1vZGFsKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB1cGRhdGVDb2xsZWN0aW9uSGVhZGVyKCk7XG4gICAgc3luY0FkZEJ1dHRvblN0YXRlKCk7XG4gICAgbG9hZENvbGxlY3Rpb25zKCk7XG4gIH1cblxuICBmdW5jdGlvbiBpbml0RGVwbG95V29ya3NwYWNlKCkge1xuICAgIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktZm9ybV0nKTtcbiAgICBpZiAoIWZvcm0pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcHJvdG9jb2xTZWxlY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktcHJvdG9jb2xdJyk7XG4gICAgY29uc3QgaG9zdElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LWhvc3RdJyk7XG4gICAgY29uc3QgcG9ydElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LXBvcnRdJyk7XG4gICAgY29uc3QgdXNlcklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LXVzZXJdJyk7XG4gICAgY29uc3QgcGFzc3dvcmRJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1wYXNzd29yZF0nKTtcbiAgICBjb25zdCBzaG93UGFzc3dvcmRUb2dnbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktc2hvdy1wYXNzd29yZF0nKTtcbiAgICBjb25zdCByZW1vdGVQYXRoSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktcmVtb3RlLXBhdGhdJyk7XG4gICAgY29uc3QgZmVlZGJhY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktZmVlZGJhY2tdJyk7XG4gICAgY29uc3Qgc2F2ZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1zYXZlXScpO1xuICAgIGNvbnN0IHRlc3RCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktdGVzdF0nKTtcbiAgICBjb25zdCBkZXBsb3lCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktdHJpZ2dlcl0nKTtcbiAgICBjb25zdCBoaXN0b3J5TGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1oaXN0b3J5XScpO1xuICAgIGNvbnN0IGxvZ0JveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1sb2ddJyk7XG5cbiAgICBjb25zdCBzYWZlU2l0ZVNsdWcgPSBzdHJpcExlYWRpbmdTbGFzaChcbiAgICAgIHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJycsXG4gICAgKTtcbiAgICBjb25zdCBkZXBsb3lBcGlCYXNlID0gc2FmZVNpdGVTbHVnXG4gICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Zyl9L2RlcGxveS1jb25maWdgXG4gICAgICA6IG51bGw7XG4gICAgY29uc3QgZGVwbG95UnVuQXBpID0gc2FmZVNpdGVTbHVnXG4gICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Zyl9L2RlcGxveWBcbiAgICAgIDogbnVsbDtcbiAgICBjb25zdCBkZXBsb3lMb2dBcGkgPSBzYWZlU2l0ZVNsdWdcbiAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnKX0vZGVwbG95LWxvZ2BcbiAgICAgIDogbnVsbDtcblxuICAgIGxldCBoYXNQYXNzd29yZCA9IGZhbHNlO1xuICAgIGxldCBidXN5QWN0aW9uID0gbnVsbDtcblxuICAgIGNvbnN0IHNhbml0aXplUmVtb3RlUGF0aCA9ICh2YWx1ZSkgPT4ge1xuICAgICAgY29uc3QgdHJpbW1lZCA9ICh2YWx1ZSB8fCAnJykudHJpbSgpO1xuICAgICAgaWYgKCF0cmltbWVkKSB7XG4gICAgICAgIHJldHVybiAnL3d3dyc7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJpbW1lZC5zdGFydHNXaXRoKCcvJykgPyB0cmltbWVkIDogYC8ke3RyaW1tZWR9YDtcbiAgICB9O1xuXG4gICAgY29uc3Qgc2V0RmVlZGJhY2sgPSAobWVzc2FnZSwgdG9uZSA9ICdtdXRlZCcpID0+IHtcbiAgICAgIGlmICghZmVlZGJhY2spIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgYmFzZUNsYXNzID0gJ2lubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiByb3VuZGVkLWZ1bGwgcHgtMyBweS0xIHRleHQteHMgZm9udC1zZW1pYm9sZCc7XG4gICAgICBjb25zdCB0b25lQ2xhc3MgPVxuICAgICAgICB0b25lID09PSAnc3VjY2VzcydcbiAgICAgICAgICA/ICdiZy1lbWVyYWxkLTUwIHRleHQtZW1lcmFsZC03MDAgYm9yZGVyIGJvcmRlci1lbWVyYWxkLTEwMCdcbiAgICAgICAgICA6IHRvbmUgPT09ICdlcnJvcidcbiAgICAgICAgICAgID8gJ2JnLXJvc2UtNTAgdGV4dC1yb3NlLTcwMCBib3JkZXIgYm9yZGVyLXJvc2UtMTAwJ1xuICAgICAgICAgICAgOiAnYmctc2xhdGUtNTAgdGV4dC1zbGF0ZS02MDAgYm9yZGVyIGJvcmRlci1zbGF0ZS0xMDAnO1xuICAgICAgaWYgKCFtZXNzYWdlKSB7XG4gICAgICAgIGZlZWRiYWNrLnRleHRDb250ZW50ID0gJyc7XG4gICAgICAgIGZlZWRiYWNrLmNsYXNzTmFtZSA9ICd0ZXh0LXNtIHRleHQtc2xhdGUtNTAwJztcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgaWNvbiA9IHRvbmUgPT09ICdzdWNjZXNzJyA/ICdcdTI3MDUnIDogdG9uZSA9PT0gJ2Vycm9yJyA/ICdcdTI3NEMnIDogJ1x1MjEzOVx1RkUwRic7XG4gICAgICBmZWVkYmFjay5pbm5lckhUTUwgPSBgPHNwYW4gY2xhc3M9XCIke2Jhc2VDbGFzc30gJHt0b25lQ2xhc3N9XCI+JHtpY29ufTxzcGFuPiR7bWVzc2FnZX08L3NwYW4+PC9zcGFuPmA7XG4gICAgICBmZWVkYmFjay5jbGFzc05hbWUgPSAndGV4dC1zbSc7XG4gICAgfTtcblxuICAgIGNvbnN0IHNldEJ1c3kgPSAoYWN0aW9uID0gbnVsbCkgPT4ge1xuICAgICAgYnVzeUFjdGlvbiA9IGFjdGlvbjtcbiAgICAgIGNvbnN0IGRpc2FibGUgPSBCb29sZWFuKGFjdGlvbik7XG4gICAgICBjb25zdCBzcGlubmVyID1cbiAgICAgICAgJzxzdmcgY2xhc3M9XCJoLTQgdy00IGFuaW1hdGUtc3BpbiB0ZXh0LXdoaXRlXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PGNpcmNsZSBjbGFzcz1cIm9wYWNpdHktMjVcIiBjeD1cIjEyXCIgY3k9XCIxMlwiIHI9XCIxMFwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjRcIj48L2NpcmNsZT48cGF0aCBjbGFzcz1cIm9wYWNpdHktNzVcIiBmaWxsPVwiY3VycmVudENvbG9yXCIgZD1cIk00IDEyYTggOCAwIDAxOC04djRhNCA0IDAgMDAtNCA0SDR6XCI+PC9wYXRoPjwvc3ZnPic7XG4gICAgICBpZiAoc2F2ZUJ1dHRvbikge1xuICAgICAgICBzYXZlQnV0dG9uLmRpc2FibGVkID0gZGlzYWJsZTtcbiAgICAgICAgc2F2ZUJ1dHRvbi5pbm5lckhUTUwgPVxuICAgICAgICAgIGFjdGlvbiA9PT0gJ3NhdmUnXG4gICAgICAgICAgICA/IGA8c3BhbiBjbGFzcz1cImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPiR7c3Bpbm5lcn08c3Bhbj5FbnJlZ2lzdHJlbWVudFx1MjAyNjwvc3Bhbj48L3NwYW4+YFxuICAgICAgICAgICAgOiAnRW5yZWdpc3RyZXInO1xuICAgICAgfVxuICAgICAgaWYgKHRlc3RCdXR0b24pIHtcbiAgICAgICAgdGVzdEJ1dHRvbi5kaXNhYmxlZCA9IGRpc2FibGU7XG4gICAgICAgIHRlc3RCdXR0b24uaW5uZXJIVE1MID1cbiAgICAgICAgICBhY3Rpb24gPT09ICd0ZXN0J1xuICAgICAgICAgICAgPyBgPHNwYW4gY2xhc3M9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj48c3BhbiBjbGFzcz1cImgtNCB3LTQgYW5pbWF0ZS1zcGluIHJvdW5kZWQtZnVsbCBib3JkZXItMiBib3JkZXItc2xhdGUtMjAwIGJvcmRlci10LXNsYXRlLTYwMFwiPjwvc3Bhbj48c3Bhbj5UZXN0IGVuIGNvdXJzXHUyMDI2PC9zcGFuPjwvc3Bhbj5gXG4gICAgICAgICAgICA6ICdUZXN0ZXIgbGEgY29ubmV4aW9uJztcbiAgICAgIH1cbiAgICAgIGlmIChkZXBsb3lCdXR0b24pIHtcbiAgICAgICAgZGVwbG95QnV0dG9uLmRpc2FibGVkID0gZGlzYWJsZSAmJiBhY3Rpb24gIT09IG51bGw7XG4gICAgICAgIGRlcGxveUJ1dHRvbi5pbm5lckhUTUwgPVxuICAgICAgICAgIGFjdGlvbiA9PT0gJ2RlcGxveSdcbiAgICAgICAgICAgID8gYDxzcGFuIGNsYXNzPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+PHNwYW4gY2xhc3M9XCJoLTQgdy00IGFuaW1hdGUtc3BpbiByb3VuZGVkLWZ1bGwgYm9yZGVyLTIgYm9yZGVyLXdoaXRlLzYwIGJvcmRlci10LXdoaXRlXCI+PC9zcGFuPjxzcGFuPkRcdTAwRTlwbG9pZW1lbnRcdTIwMjY8L3NwYW4+PC9zcGFuPmBcbiAgICAgICAgICAgIDogJ0RcdTAwRTlwbG95ZXIgbWFpbnRlbmFudCc7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHBvcHVsYXRlRm9ybSA9IChjb25maWcpID0+IHtcbiAgICAgIHByb3RvY29sU2VsZWN0ICYmIChwcm90b2NvbFNlbGVjdC52YWx1ZSA9IGNvbmZpZy5wcm90b2NvbCB8fCAnc2Z0cCcpO1xuICAgICAgaG9zdElucHV0ICYmIChob3N0SW5wdXQudmFsdWUgPSBjb25maWcuaG9zdCB8fCAnJyk7XG4gICAgICBwb3J0SW5wdXQgJiYgKHBvcnRJbnB1dC52YWx1ZSA9IGNvbmZpZy5wb3J0IHx8ICcnKTtcbiAgICAgIHVzZXJJbnB1dCAmJiAodXNlcklucHV0LnZhbHVlID0gY29uZmlnLnVzZXIgfHwgJycpO1xuICAgICAgcmVtb3RlUGF0aElucHV0ICYmIChyZW1vdGVQYXRoSW5wdXQudmFsdWUgPSBjb25maWcucmVtb3RlUGF0aCB8fCAnL3d3dycpO1xuICAgICAgaGFzUGFzc3dvcmQgPSBCb29sZWFuKGNvbmZpZy5oYXNQYXNzd29yZCk7XG4gICAgICBpZiAocGFzc3dvcmRJbnB1dCkge1xuICAgICAgICBwYXNzd29yZElucHV0LnZhbHVlID0gJyc7XG4gICAgICAgIHBhc3N3b3JkSW5wdXQucGxhY2Vob2xkZXIgPSBoYXNQYXNzd29yZCA/ICdOb24gYWZmaWNoXHUwMEU5JyA6ICdNb3QgZGUgcGFzc2UnO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCByZW5kZXJIaXN0b3J5ID0gKGVudHJpZXMgPSBbXSkgPT4ge1xuICAgICAgaWYgKCFoaXN0b3J5TGlzdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBoaXN0b3J5TGlzdC5pbm5lckhUTUwgPSAnJztcbiAgICAgIGlmICghZW50cmllcy5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgICBsaS5jbGFzc05hbWUgPSAndGV4dC1zbGF0ZS01MDAnO1xuICAgICAgICBsaS50ZXh0Q29udGVudCA9ICdBdWN1biBkXHUwMEU5cGxvaWVtZW50IHBvdXIgbGUgbW9tZW50Lic7XG4gICAgICAgIGhpc3RvcnlMaXN0LmFwcGVuZENoaWxkKGxpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZW50cmllcy5mb3JFYWNoKChlbnRyeSkgPT4ge1xuICAgICAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICAgIGxpLmNsYXNzTmFtZSA9XG4gICAgICAgICAgJ2ZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBnYXAtMiByb3VuZGVkLXhsIGJvcmRlciBib3JkZXItc2xhdGUtMjAwIHB4LTMgcHktMic7XG4gICAgICAgIGNvbnN0IHN0YXR1c0JhZGdlID1cbiAgICAgICAgICBlbnRyeS5zdGF0dXMgPT09ICdzdWNjZXNzJ1xuICAgICAgICAgICAgPyAnPHNwYW4gY2xhc3M9XCJyb3VuZGVkLWZ1bGwgYmctZW1lcmFsZC01MCBweC0yIHB5LTAuNSB0ZXh0LVsxMXB4XSBmb250LXNlbWlib2xkIHRleHQtZW1lcmFsZC03MDBcIj5TdWNjXHUwMEU4czwvc3Bhbj4nXG4gICAgICAgICAgICA6ICc8c3BhbiBjbGFzcz1cInJvdW5kZWQtZnVsbCBiZy1yb3NlLTUwIHB4LTIgcHktMC41IHRleHQtWzExcHhdIGZvbnQtc2VtaWJvbGQgdGV4dC1yb3NlLTcwMFwiPlx1MDBDOWNoZWM8L3NwYW4+JztcbiAgICAgICAgY29uc3QgZGF0ZSA9IGVudHJ5LmZpbmlzaGVkQXQgfHwgZW50cnkuc3RhcnRlZEF0IHx8ICcnO1xuICAgICAgICBjb25zdCBkdXJhdGlvbiA9XG4gICAgICAgICAgZW50cnkuZHVyYXRpb25NcyAmJiBOdW1iZXIoZW50cnkuZHVyYXRpb25NcykgPj0gMFxuICAgICAgICAgICAgPyBgJHtNYXRoLnJvdW5kKE51bWJlcihlbnRyeS5kdXJhdGlvbk1zKSAvIDEwMDApfXNgXG4gICAgICAgICAgICA6ICcnO1xuICAgICAgICBsaS5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInNwYWNlLXktMVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+JHtzdGF0dXNCYWRnZX08c3BhbiBjbGFzcz1cInRleHQteHMgdGV4dC1zbGF0ZS01MDBcIj4ke2RhdGV9PC9zcGFuPjwvZGl2PlxuICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXNtIHRleHQtc2xhdGUtODAwXCI+JHtlbnRyeS5tZXNzYWdlIHx8ICcnfTwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC14cyB0ZXh0LXNsYXRlLTUwMFwiPiR7ZHVyYXRpb259PC9kaXY+XG4gICAgICAgIGA7XG4gICAgICAgIGxpLmRhdGFzZXQuZGVwbG95SWQgPSBlbnRyeS5pZCB8fCAnJztcbiAgICAgICAgbGkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgaWYgKGVudHJ5LmxvZ3MgJiYgbG9nQm94KSB7XG4gICAgICAgICAgICBsb2dCb3gudGV4dENvbnRlbnQgPSBlbnRyeS5sb2dzLmpvaW4oJ1xcbicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGhpc3RvcnlMaXN0LmFwcGVuZENoaWxkKGxpKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCByZW5kZXJMb2dzID0gKGxpbmVzID0gW10pID0+IHtcbiAgICAgIGlmICghbG9nQm94KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGxvZ0JveC50ZXh0Q29udGVudCA9IGxpbmVzLmxlbmd0aCA/IGxpbmVzLmpvaW4oJ1xcbicpIDogJ0F1Y3VuIGxvZyBwb3VyIGxlIG1vbWVudC4nO1xuICAgIH07XG5cbiAgICBjb25zdCBmZXRjaEhpc3RvcnkgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWRlcGxveUxvZ0FwaSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGRlcGxveUxvZ0FwaSwgeyBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDQpIHtcbiAgICAgICAgICAgIHJlbmRlckhpc3RvcnkoW10pO1xuICAgICAgICAgICAgcmVuZGVyTG9ncyhbJ0FQSSBkXHUwMEU5cGxvaWVtZW50IGluZGlzcG9uaWJsZSAocmVkXHUwMEU5bWFycmUgbGUgc2VydmV1cikuJ10pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ltcG9zc2libGUgZGUgY2hhcmdlciBsXHUyMDE5aGlzdG9yaXF1ZS4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICBjb25zdCBlbnRyaWVzID0gQXJyYXkuaXNBcnJheShwYXlsb2FkLmVudHJpZXMpID8gcGF5bG9hZC5lbnRyaWVzIDogW107XG4gICAgICAgIHJlbmRlckhpc3RvcnkoZW50cmllcyk7XG4gICAgICAgIGlmIChlbnRyaWVzWzBdPy5sb2dzKSB7XG4gICAgICAgICAgcmVuZGVyTG9ncyhlbnRyaWVzWzBdLmxvZ3MpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2RlcGxveV0gaGlzdG9yeSBmYWlsZWQnLCBlcnIpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBmZXRjaENvbmZpZyA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghZGVwbG95QXBpQmFzZSkge1xuICAgICAgICBzZXRGZWVkYmFjaygnQXVjdW4gc2l0ZSBhY3RpZiBzXHUwMEU5bGVjdGlvbm5cdTAwRTkuJywgJ2Vycm9yJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNldEJ1c3koJ2xvYWQnKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goZGVwbG95QXBpQmFzZSwgeyBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSk7XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgIHBvcHVsYXRlRm9ybShwYXlsb2FkIHx8IHt9KTtcbiAgICAgICAgICBzZXRGZWVkYmFjaygnQ29uZmlndXJhdGlvbiBjaGFyZ1x1MDBFOWUuJywgJ211dGVkJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcG9wdWxhdGVGb3JtKHBheWxvYWQgfHwge30pO1xuICAgICAgICAgIHNldEZlZWRiYWNrKHBheWxvYWQubWVzc2FnZSB8fCAnQ29uZmlndXJhdGlvbiBwYXIgZFx1MDBFOWZhdXQgY2hhcmdcdTAwRTllLicsICdtdXRlZCcpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2RlcGxveV0gbG9hZCBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzZXRGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZHUgY2hhcmdlbWVudC4nLCAnZXJyb3InKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldEJ1c3kobnVsbCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGJ1aWxkUGF5bG9hZCA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgIHByb3RvY29sOiBwcm90b2NvbFNlbGVjdD8udmFsdWUgfHwgJ3NmdHAnLFxuICAgICAgICBob3N0OiBob3N0SW5wdXQ/LnZhbHVlLnRyaW0oKSB8fCAnJyxcbiAgICAgICAgcG9ydDogTnVtYmVyKHBvcnRJbnB1dD8udmFsdWUpIHx8IHVuZGVmaW5lZCxcbiAgICAgICAgdXNlcjogdXNlcklucHV0Py52YWx1ZS50cmltKCkgfHwgJycsXG4gICAgICAgIHJlbW90ZVBhdGg6IHNhbml0aXplUmVtb3RlUGF0aChyZW1vdGVQYXRoSW5wdXQ/LnZhbHVlIHx8ICcvd3d3JyksXG4gICAgICB9O1xuICAgICAgY29uc3QgcHdkID0gcGFzc3dvcmRJbnB1dD8udmFsdWUgfHwgJyc7XG4gICAgICBpZiAocHdkLnRyaW0oKS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHBheWxvYWQucGFzc3dvcmQgPSBwd2Q7XG4gICAgICB9XG4gICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICB9O1xuXG4gICAgZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoIWRlcGxveUFwaUJhc2UpIHtcbiAgICAgICAgc2V0RmVlZGJhY2soJ0F1Y3VuIHNpdGUgYWN0aWYgc1x1MDBFOWxlY3Rpb25uXHUwMEU5LicsICdlcnJvcicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBwYXlsb2FkID0gYnVpbGRQYXlsb2FkKCk7XG4gICAgICBzZXRCdXN5KCdzYXZlJyk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGRlcGxveUFwaUJhc2UsIHtcbiAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnN0IGVycm9yUGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JQYXlsb2FkLm1lc3NhZ2UgfHwgJ1NhdXZlZ2FyZGUgaW1wb3NzaWJsZS4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzYXZlZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgcG9wdWxhdGVGb3JtKHNhdmVkIHx8IHt9KTtcbiAgICAgICAgc2V0RmVlZGJhY2soJ0NvbmZpZ3VyYXRpb24gZW5yZWdpc3RyXHUwMEU5ZS4nLCAnc3VjY2VzcycpO1xuICAgICAgICBzaG93VG9hc3QoJ0NvbmZpZ3VyYXRpb24gZFx1MDBFOXBsb2llbWVudCBzYXV2ZWdhcmRcdTAwRTllJyk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2RlcGxveV0gc2F2ZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzZXRGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZGUgbGEgc2F1dmVnYXJkZS4nLCAnZXJyb3InKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldEJ1c3kobnVsbCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0ZXN0QnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghZGVwbG95QXBpQmFzZSkge1xuICAgICAgICBzZXRGZWVkYmFjaygnQXVjdW4gc2l0ZSBhY3RpZiBzXHUwMEU5bGVjdGlvbm5cdTAwRTkuJywgJ2Vycm9yJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHBheWxvYWQgPSBidWlsZFBheWxvYWQoKTtcbiAgICAgIGlmICghcGF5bG9hZC5ob3N0IHx8ICFwYXlsb2FkLnVzZXIgfHwgIXBheWxvYWQucmVtb3RlUGF0aCkge1xuICAgICAgICBzZXRGZWVkYmFjaygnUmVtcGxpc3NleiBsZXMgY2hhbXBzIHJlcXVpcyBhdmFudCBkZSB0ZXN0ZXIuJywgJ2Vycm9yJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNldEJ1c3koJ3Rlc3QnKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7ZGVwbG95QXBpQmFzZX0vdGVzdGAsIHtcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vayB8fCByZXN1bHQuc3VjY2VzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBzZXRGZWVkYmFjayhyZXN1bHQubWVzc2FnZSB8fCAnVGVzdCBkZSBjb25uZXhpb24gXHUwMEU5Y2hvdVx1MDBFOS4nLCAnZXJyb3InKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc2V0RmVlZGJhY2socmVzdWx0Lm1lc3NhZ2UgfHwgJ0Nvbm5leGlvbiBPSy4nLCAnc3VjY2VzcycpO1xuICAgICAgICBzaG93VG9hc3QoJ1Rlc3QgZGUgY29ubmV4aW9uIHJcdTAwRTl1c3NpJyk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2RlcGxveV0gdGVzdCBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzZXRGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnVGVzdCBkZSBjb25uZXhpb24gXHUwMEU5Y2hvdVx1MDBFOS4nLCAnZXJyb3InKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldEJ1c3kobnVsbCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBkZXBsb3lCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFkZXBsb3lSdW5BcGkpIHtcbiAgICAgICAgc2V0RmVlZGJhY2soJ0F1Y3VuIHNpdGUgYWN0aWYgc1x1MDBFOWxlY3Rpb25uXHUwMEU5LicsICdlcnJvcicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZXRCdXN5KCdkZXBsb3knKTtcbiAgICAgIHJlbmRlckxvZ3MoWydEXHUwMEU5cGxvaWVtZW50IGVuIGNvdXJzXHUyMDI2J10pO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChkZXBsb3lSdW5BcGksIHtcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShidWlsZFBheWxvYWQoKSksXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDQpIHtcbiAgICAgICAgICAgIHNldEZlZWRiYWNrKCdBUEkgZFx1MDBFOXBsb2llbWVudCBpbmRpc3BvbmlibGUgKHJlZFx1MDBFOW1hcnJlIGxlIHNlcnZldXIpLicsICdlcnJvcicpO1xuICAgICAgICAgICAgcmVuZGVyTG9ncyhbJ0FQSSBkXHUwMEU5cGxvaWVtZW50IGluZGlzcG9uaWJsZSAocmVkXHUwMEU5bWFycmUgbGUgc2VydmV1cikuJ10pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZW5kZXJMb2dzKHJlc3VsdC5sb2dzIHx8IFtdKTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzdWx0Lm1lc3NhZ2UgfHwgJ0RcdTAwRTlwbG9pZW1lbnQgXHUwMEU5Y2hvdVx1MDBFOS4nKTtcbiAgICAgICAgfVxuICAgICAgICByZW5kZXJMb2dzKHJlc3VsdC5sb2dzIHx8IFtdKTtcbiAgICAgICAgYXdhaXQgZmV0Y2hIaXN0b3J5KCk7XG4gICAgICAgIHNob3dUb2FzdCgnRFx1MDBFOXBsb2llbWVudCB0ZXJtaW5cdTAwRTknKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZGVwbG95XSBydW4gZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2V0RmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0RcdTAwRTlwbG9pZW1lbnQgXHUwMEU5Y2hvdVx1MDBFOS4nLCAnZXJyb3InKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldEJ1c3kobnVsbCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBzaG93UGFzc3dvcmRUb2dnbGU/LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgICAgIGlmICghcGFzc3dvcmRJbnB1dCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwYXNzd29yZElucHV0LnR5cGUgPSBzaG93UGFzc3dvcmRUb2dnbGUuY2hlY2tlZCA/ICd0ZXh0JyA6ICdwYXNzd29yZCc7XG4gICAgfSk7XG5cbiAgICBmZXRjaENvbmZpZygpO1xuICAgIGZldGNoSGlzdG9yeSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gaW5pdFNldHRpbmdzV29ya3NwYWNlKCkge1xuICAgIGNvbnN0IHRhYkJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1zZXR0aW5ncy10YWJdJyk7XG4gICAgY29uc3QgdGFiUGFuZWxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtc2V0dGluZ3MtcGFuZWxdJyk7XG4gICAgY29uc3QgZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFkbWluLXBhc3N3b3JkLWZvcm1dJyk7XG4gICAgY29uc3Qgc2l0ZUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLWNvbmZpZy1mb3JtXScpO1xuICAgIGNvbnN0IHNpdGVGZWVkYmFjayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtY29uZmlnLWZlZWRiYWNrXScpO1xuICAgIGNvbnN0IHRoZW1lRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLWZvcm1dJyk7XG4gICAgY29uc3Qgc3dpdGNoVGFiID0gKG5hbWUpID0+IHtcbiAgICAgIHRhYkJ1dHRvbnMuZm9yRWFjaCgoYnRuKSA9PiB7XG4gICAgICAgIGNvbnN0IGlzQWN0aXZlID0gYnRuLmRhdGFzZXQuc2V0dGluZ3NUYWIgPT09IG5hbWU7XG4gICAgICAgIGJ0bi5zZXRBdHRyaWJ1dGUoJ2FyaWEtc2VsZWN0ZWQnLCBpc0FjdGl2ZSA/ICd0cnVlJyA6ICdmYWxzZScpO1xuICAgICAgICBidG4uY2xhc3NMaXN0LnRvZ2dsZSgnYmctWyM5QzZCRkZdJywgaXNBY3RpdmUpO1xuICAgICAgICBidG4uY2xhc3NMaXN0LnRvZ2dsZSgndGV4dC13aGl0ZScsIGlzQWN0aXZlKTtcbiAgICAgIH0pO1xuICAgICAgdGFiUGFuZWxzLmZvckVhY2goKHBhbmVsKSA9PiB7XG4gICAgICAgIHBhbmVsLmNsYXNzTGlzdC50b2dnbGUoJ2hpZGRlbicsIHBhbmVsLmRhdGFzZXQuc2V0dGluZ3NQYW5lbCAhPT0gbmFtZSk7XG4gICAgICB9KTtcbiAgICB9O1xuICAgIHRhYkJ1dHRvbnMuZm9yRWFjaCgoYnRuKSA9PiB7XG4gICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBzd2l0Y2hUYWIoYnRuLmRhdGFzZXQuc2V0dGluZ3NUYWIgfHwgJ2FjY291bnQnKSk7XG4gICAgfSk7XG4gICAgc3dpdGNoVGFiKCdhY2NvdW50Jyk7XG5cbiAgICBpZiAoIWZvcm0pIHtcbiAgICAgIC8vIHN0aWxsIGFsbG93IHNpdGUgZm9ybSBldmVuIGlmIHBhc3N3b3JkIGZvcm0gYWJzZW50XG4gICAgfVxuICAgIGlmIChmb3JtKSB7XG4gICAgICBjb25zdCBmZWVkYmFjayA9IGZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYWRtaW4tcGFzc3dvcmQtZmVlZGJhY2tdJyk7XG4gICAgICBjb25zdCBzdWJtaXQgPSBmb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFkbWluLXBhc3N3b3JkLXN1Ym1pdF0nKTtcbiAgICAgIGNvbnN0IHNldEZlZWRiYWNrID0gKG1lc3NhZ2UsIHRvbmUgPSAnbXV0ZWQnKSA9PiB7XG4gICAgICAgIGlmICghZmVlZGJhY2spIHJldHVybjtcbiAgICAgICAgY29uc3QgY29sb3IgPVxuICAgICAgICAgIHRvbmUgPT09ICdzdWNjZXNzJ1xuICAgICAgICAgICAgPyAndGV4dC1lbWVyYWxkLTYwMCdcbiAgICAgICAgICAgIDogdG9uZSA9PT0gJ2Vycm9yJ1xuICAgICAgICAgICAgICA/ICd0ZXh0LXJvc2UtNjAwJ1xuICAgICAgICAgICAgICA6ICd0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICAgIGZlZWRiYWNrLnRleHRDb250ZW50ID0gbWVzc2FnZSB8fCAnJztcbiAgICAgICAgZmVlZGJhY2suY2xhc3NOYW1lID0gYHRleHQtc20gJHtjb2xvcn1gO1xuICAgICAgfTtcbiAgICAgIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKGZvcm0pO1xuICAgICAgICBjb25zdCBjdXJyZW50UGFzc3dvcmQgPSBmb3JtRGF0YS5nZXQoJ2N1cnJlbnRQYXNzd29yZCcpIHx8ICcnO1xuICAgICAgICBjb25zdCBuZXdQYXNzd29yZCA9IGZvcm1EYXRhLmdldCgnbmV3UGFzc3dvcmQnKSB8fCAnJztcbiAgICAgICAgY29uc3QgY29uZmlybVBhc3N3b3JkID0gZm9ybURhdGEuZ2V0KCdjb25maXJtUGFzc3dvcmQnKSB8fCAnJztcbiAgICAgICAgaWYgKCFjdXJyZW50UGFzc3dvcmQgfHwgIW5ld1Bhc3N3b3JkIHx8ICFjb25maXJtUGFzc3dvcmQpIHtcbiAgICAgICAgICBzZXRGZWVkYmFjaygnQ29tcGxcdTAwRTh0ZSB0b3VzIGxlcyBjaGFtcHMuJywgJ2Vycm9yJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHN1Ym1pdCAmJiAoc3VibWl0LmRpc2FibGVkID0gdHJ1ZSk7XG4gICAgICAgIHNldEZlZWRiYWNrKCcnKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2FkbWluL3Bhc3N3b3JkJywge1xuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgY3VycmVudFBhc3N3b3JkLCBuZXdQYXNzd29yZCwgY29uZmlybVBhc3N3b3JkIH0pLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vayB8fCBwYXlsb2FkLnN1Y2Nlc3MgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocGF5bG9hZC5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIG1ldHRyZSBcdTAwRTAgam91ciBsZSBtb3QgZGUgcGFzc2UuJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNldEZlZWRiYWNrKHBheWxvYWQubWVzc2FnZSB8fCAnTW90IGRlIHBhc3NlIG1pcyBcdTAwRTAgam91ci4nLCAnc3VjY2VzcycpO1xuICAgICAgICAgIGZvcm0ucmVzZXQoKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3NldHRpbmdzXSBjaGFuZ2UgcGFzc3dvcmQgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgICBzZXRGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZGUgbGEgbWlzZSBcdTAwRTAgam91ci4nLCAnZXJyb3InKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBzdWJtaXQgJiYgKHN1Ym1pdC5kaXNhYmxlZCA9IGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKHNpdGVGb3JtKSB7XG4gICAgICBjb25zdCBuYW1lSW5wdXQgPSBzaXRlRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLW5hbWVdJyk7XG4gICAgICBjb25zdCBsYW5nU2VsZWN0ID0gc2l0ZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS1sYW5ndWFnZV0nKTtcbiAgICAgIGNvbnN0IHRhZ2xpbmVJbnB1dCA9IHNpdGVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtdGFnbGluZV0nKTtcbiAgICAgIGNvbnN0IHNhdmVCdXR0b24gPSBzaXRlRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLXNhdmVdJyk7XG4gICAgICBjb25zdCBzZXRTaXRlRmVlZGJhY2sgPSAobWVzc2FnZSwgdG9uZSA9ICdtdXRlZCcpID0+IHtcbiAgICAgICAgaWYgKCFzaXRlRmVlZGJhY2spIHJldHVybjtcbiAgICAgICAgY29uc3QgY29sb3IgPVxuICAgICAgICAgIHRvbmUgPT09ICdzdWNjZXNzJ1xuICAgICAgICAgICAgPyAndGV4dC1lbWVyYWxkLTYwMCdcbiAgICAgICAgICAgIDogdG9uZSA9PT0gJ2Vycm9yJ1xuICAgICAgICAgICAgICA/ICd0ZXh0LXJvc2UtNjAwJ1xuICAgICAgICAgICAgICA6ICd0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICAgIHNpdGVGZWVkYmFjay50ZXh0Q29udGVudCA9IG1lc3NhZ2UgfHwgJyc7XG4gICAgICAgIHNpdGVGZWVkYmFjay5jbGFzc05hbWUgPSBgdGV4dC1zbSAke2NvbG9yfWA7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBzYWZlU2l0ZVNsdWcgPSBzdHJpcExlYWRpbmdTbGFzaChcbiAgICAgICAgd29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyxcbiAgICAgICk7XG4gICAgICBjb25zdCBzaXRlQ29uZmlnQXBpID0gc2FmZVNpdGVTbHVnXG4gICAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnKX0vY29uZmlnL3NpdGVgXG4gICAgICAgIDogbnVsbDtcblxuICAgICAgY29uc3QgbG9hZFNpdGVDb25maWcgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIGlmICghc2l0ZUNvbmZpZ0FwaSkgcmV0dXJuO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goc2l0ZUNvbmZpZ0FwaSwgeyBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgcmV0dXJuO1xuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgaWYgKG5hbWVJbnB1dCkgbmFtZUlucHV0LnZhbHVlID0gcGF5bG9hZC5uYW1lIHx8ICcnO1xuICAgICAgICAgIGlmIChsYW5nU2VsZWN0KSBsYW5nU2VsZWN0LnZhbHVlID0gcGF5bG9hZC5sYW5ndWFnZSB8fCAnZnInO1xuICAgICAgICAgIGlmICh0YWdsaW5lSW5wdXQpIHRhZ2xpbmVJbnB1dC52YWx1ZSA9IHBheWxvYWQudGFnbGluZSB8fCAnJztcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3NldHRpbmdzXSBsb2FkIHNpdGUgY29uZmlnIGZhaWxlZCcsIGVycik7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHNpdGVGb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAoIXNpdGVDb25maWdBcGkpIHtcbiAgICAgICAgICBzZXRTaXRlRmVlZGJhY2soJ0F1Y3VuIHNpdGUgYWN0aWYuJywgJ2Vycm9yJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghbmFtZUlucHV0Py52YWx1ZS50cmltKCkpIHtcbiAgICAgICAgICBzZXRTaXRlRmVlZGJhY2soJ05vbSByZXF1aXMuJywgJ2Vycm9yJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNhdmVCdXR0b24gJiYgKHNhdmVCdXR0b24uZGlzYWJsZWQgPSB0cnVlKTtcbiAgICAgICAgc2V0U2l0ZUZlZWRiYWNrKCcnKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICAgICAgbmFtZTogbmFtZUlucHV0Py52YWx1ZSB8fCAnJyxcbiAgICAgICAgICAgIGxhbmd1YWdlOiBsYW5nU2VsZWN0Py52YWx1ZSB8fCAnZnInLFxuICAgICAgICAgICAgdGFnbGluZTogdGFnbGluZUlucHV0Py52YWx1ZSB8fCAnJyxcbiAgICAgICAgICB9O1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goc2l0ZUNvbmZpZ0FwaSwge1xuICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2sgfHwgcmVzdWx0LnN1Y2Nlc3MgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzdWx0Lm1lc3NhZ2UgfHwgJ1NhdXZlZ2FyZGUgaW1wb3NzaWJsZS4nKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0U2l0ZUZlZWRiYWNrKHJlc3VsdC5tZXNzYWdlIHx8ICdQYXJhbVx1MDBFOHRyZXMgZW5yZWdpc3RyXHUwMEU5cy4nLCAnc3VjY2VzcycpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIHNhdmUgc2l0ZSBjb25maWcgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgICBzZXRTaXRlRmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGRlIGxhIHNhdXZlZ2FyZGUuJywgJ2Vycm9yJyk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgc2F2ZUJ1dHRvbiAmJiAoc2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGxvYWRTaXRlQ29uZmlnKCk7XG4gICAgfVxuXG4gICAgaWYgKHRoZW1lRm9ybSkge1xuICAgICAgY29uc3Qgc2FmZVNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goXG4gICAgICAgIHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJycsXG4gICAgICApO1xuICAgICAgY29uc3QgdGhlbWVBcGkgPSBzYWZlU2l0ZVNsdWdcbiAgICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9jb25maWcvdGhlbWVgXG4gICAgICAgIDogbnVsbDtcblxuICAgICAgY29uc3QgY29sb3JTZWxlY3RzID0ge1xuICAgICAgICBwcmltYXJ5OiB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtcHJpbWFyeV0nKSxcbiAgICAgICAgc2Vjb25kYXJ5OiB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtc2Vjb25kYXJ5XScpLFxuICAgICAgICBhY2NlbnQ6IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1hY2NlbnRdJyksXG4gICAgICAgIGJhY2tncm91bmQ6IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1iYWNrZ3JvdW5kXScpLFxuICAgICAgICB0ZXh0OiB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtdGV4dF0nKSxcbiAgICAgIH07XG4gICAgICBjb25zdCBoZWFkaW5nU2VsZWN0ID0gdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLWhlYWRpbmdzXScpO1xuICAgICAgY29uc3QgYm9keVNlbGVjdCA9IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1ib2R5XScpO1xuICAgICAgY29uc3QgcmFkaXVzU21hbGwgPSB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtcmFkaXVzLXNtYWxsXScpO1xuICAgICAgY29uc3QgcmFkaXVzTWVkaXVtID0gdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLXJhZGl1cy1tZWRpdW1dJyk7XG4gICAgICBjb25zdCByYWRpdXNMYXJnZSA9IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1yYWRpdXMtbGFyZ2VdJyk7XG4gICAgICBjb25zdCBwcmV2aWV3ID0gdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLXByZXZpZXddJyk7XG4gICAgICBjb25zdCB0aGVtZUZlZWRiYWNrID0gdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLWZlZWRiYWNrXScpO1xuICAgICAgY29uc3QgYXBwbHlCdXR0b24gPSB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtYXBwbHldJyk7XG4gICAgICBjb25zdCB0YWlsd2luZEh1ZXMgPSBbXG4gICAgICAgICdzbGF0ZScsJ2dyYXknLCd6aW5jJywnbmV1dHJhbCcsJ3N0b25lJywncmVkJywnb3JhbmdlJywnYW1iZXInLCd5ZWxsb3cnLCdsaW1lJywnZ3JlZW4nLCdlbWVyYWxkJywndGVhbCcsJ2N5YW4nLCdza3knLCdibHVlJywnaW5kaWdvJywndmlvbGV0JywncHVycGxlJywnZnVjaHNpYScsJ3BpbmsnLCdyb3NlJ1xuICAgICAgXTtcbiAgICAgIGNvbnN0IHRhaWx3aW5kU2hhZGVzID0gWyc1MCcsJzEwMCcsJzIwMCcsJzMwMCcsJzQwMCcsJzUwMCcsJzYwMCcsJzcwMCcsJzgwMCcsJzkwMCddO1xuICAgICAgY29uc3QgdGFpbHdpbmRUb2tlbnMgPSB0YWlsd2luZEh1ZXMuZmxhdE1hcCgoaCk9PnRhaWx3aW5kU2hhZGVzLm1hcCgocyk9PmAke2h9LSR7c31gKSk7XG5cbiAgICAgIGNvbnN0IGZpbGxDb2xvck9wdGlvbnMgPSAoKSA9PiB7XG4gICAgICAgIE9iamVjdC52YWx1ZXMoY29sb3JTZWxlY3RzKS5mb3JFYWNoKChzZWwpPT57XG4gICAgICAgICAgaWYgKCFzZWwgfHwgc2VsLm9wdGlvbnMubGVuZ3RoKSByZXR1cm47XG4gICAgICAgICAgdGFpbHdpbmRUb2tlbnMuZm9yRWFjaCgodG9rZW4pPT57XG4gICAgICAgICAgICBjb25zdCBvcHRpb249ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICAgICAgICBvcHRpb24udmFsdWU9dG9rZW47XG4gICAgICAgICAgICBjb25zdCBbaCxzXT10b2tlbi5zcGxpdCgnLScpO1xuICAgICAgICAgICAgb3B0aW9uLnRleHRDb250ZW50PWAke2guY2hhckF0KDApLnRvVXBwZXJDYXNlKCkraC5zbGljZSgxKX0gJHtzfWA7XG4gICAgICAgICAgICBzZWwuYXBwZW5kQ2hpbGQob3B0aW9uKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBzZXRUaGVtZUZlZWRiYWNrID0gKG1lc3NhZ2UsIHRvbmUgPSAnbXV0ZWQnKSA9PiB7XG4gICAgICAgIGlmICghdGhlbWVGZWVkYmFjaykgcmV0dXJuO1xuICAgICAgICBjb25zdCBjb2xvciA9XG4gICAgICAgICAgdG9uZSA9PT0gJ3N1Y2Nlc3MnXG4gICAgICAgICAgICA/ICd0ZXh0LWVtZXJhbGQtNjAwJ1xuICAgICAgICAgICAgOiB0b25lID09PSAnZXJyb3InXG4gICAgICAgICAgICAgID8gJ3RleHQtcm9zZS02MDAnXG4gICAgICAgICAgICAgIDogJ3RleHQtc2xhdGUtNTAwJztcbiAgICAgICAgdGhlbWVGZWVkYmFjay50ZXh0Q29udGVudCA9IG1lc3NhZ2UgfHwgJyc7XG4gICAgICAgIHRoZW1lRmVlZGJhY2suY2xhc3NOYW1lID0gYHRleHQtc20gJHtjb2xvcn1gO1xuICAgICAgfTtcblxuICAgICAgY29uc3Qgc3luY1ByZXZpZXcgPSAoKSA9PiB7XG4gICAgICAgIGlmICghcHJldmlldykgcmV0dXJuO1xuICAgICAgICBjb25zdCB0b2tlblRvSGV4ID0gKHRva2VuKSA9PiB7XG4gICAgICAgICAgaWYgKCF0b2tlbikgcmV0dXJuIG51bGw7XG4gICAgICAgICAgY29uc3QgW2gsc109dG9rZW4uc3BsaXQoJy0nKTtcbiAgICAgICAgICBjb25zdCBtYXAgPSB7XG4gICAgICAgICAgICBzbGF0ZTonI2UyZThmMCcsZ3JheTonI2QxZDVkYicsemluYzonI2Q0ZDRkOCcsbmV1dHJhbDonI2Q0ZDRkNCcsc3RvbmU6JyNkNmQzZDEnLFxuICAgICAgICAgICAgcmVkOicjZWY0NDQ0JyxvcmFuZ2U6JyNmOTczMTYnLGFtYmVyOicjZjU5ZTBiJyx5ZWxsb3c6JyNlYWIzMDgnLGxpbWU6JyM4NGNjMTYnLFxuICAgICAgICAgICAgZ3JlZW46JyMyMmM1NWUnLGVtZXJhbGQ6JyMxMGI5ODEnLHRlYWw6JyMxNGI4YTYnLGN5YW46JyMwNmI2ZDQnLHNreTonIzBlYTVlOScsXG4gICAgICAgICAgICBibHVlOicjM2I4MmY2JyxpbmRpZ286JyM2MzY2ZjEnLHZpb2xldDonIzhiNWNmNicscHVycGxlOicjYTg1NWY3JyxmdWNoc2lhOicjZDk0NmVmJyxcbiAgICAgICAgICAgIHBpbms6JyNlYzQ4OTknLHJvc2U6JyNmNDNmNWUnXG4gICAgICAgICAgfTtcbiAgICAgICAgICBjb25zdCBiYXNlPW1hcFtoXTtcbiAgICAgICAgICBpZiAoIWJhc2UpIHJldHVybiBudWxsO1xuICAgICAgICAgIC8vIHJvdWdoIHNoYWRlIHR3ZWFrIHVzaW5nIG9wYWNpdHk7IG5vdCBleGFjdCBUYWlsd2luZCBwYWxldHRlIGJ1dCBwcmV2aWV3LWZyaWVuZGx5XG4gICAgICAgICAgY29uc3Qgc2hhZGVOdW09TnVtYmVyKHMpfHw1MDA7XG4gICAgICAgICAgY29uc3QgZmFjdG9yID0gTWF0aC5taW4oTWF0aC5tYXgoKHNoYWRlTnVtLTUwKS85MDAsMCksMSk7XG4gICAgICAgICAgY29uc3QgdG9SZ2I9KGhleCk9PmhleC5tYXRjaCgvW0EtRmEtZjAtOV17Mn0vZykubWFwKCh2KT0+cGFyc2VJbnQodiwxNikpO1xuICAgICAgICAgIGNvbnN0IFtyLGcsYl09dG9SZ2IoYmFzZS5yZXBsYWNlKCcjJywnJykpO1xuICAgICAgICAgIGNvbnN0IG1peD0odik9Pk1hdGgucm91bmQoMjU1IC0gKDI1NSAtIHYpKmZhY3Rvcik7XG4gICAgICAgICAgcmV0dXJuIGByZ2IoJHttaXgocil9LCAke21peChnKX0sICR7bWl4KGIpfSlgO1xuICAgICAgICB9O1xuICAgICAgICBwcmV2aWV3LnN0eWxlLnNldFByb3BlcnR5KCctLWNvbG9yLXByaW1hcnknLCB0b2tlblRvSGV4KGNvbG9yU2VsZWN0cy5wcmltYXJ5Py52YWx1ZSkgfHwgJyM5QzZCRkYnKTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1jb2xvci1zZWNvbmRhcnknLCB0b2tlblRvSGV4KGNvbG9yU2VsZWN0cy5zZWNvbmRhcnk/LnZhbHVlKSB8fCAnIzBFQTVFOScpO1xuICAgICAgICBwcmV2aWV3LnN0eWxlLnNldFByb3BlcnR5KCctLWNvbG9yLWFjY2VudCcsIHRva2VuVG9IZXgoY29sb3JTZWxlY3RzLmFjY2VudD8udmFsdWUpIHx8ICcjRjk3MzE2Jyk7XG4gICAgICAgIHByZXZpZXcuc3R5bGUuc2V0UHJvcGVydHkoJy0tY29sb3ItYmFja2dyb3VuZCcsIHRva2VuVG9IZXgoY29sb3JTZWxlY3RzLmJhY2tncm91bmQ/LnZhbHVlKSB8fCAnI0ZGRkZGRicpO1xuICAgICAgICBwcmV2aWV3LnN0eWxlLnNldFByb3BlcnR5KCctLWNvbG9yLXRleHQnLCB0b2tlblRvSGV4KGNvbG9yU2VsZWN0cy50ZXh0Py52YWx1ZSkgfHwgJyMwRjE3MkEnKTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1mb250LWhlYWRpbmdzJywgaGVhZGluZ1NlbGVjdD8udmFsdWUgfHwgJ0ludGVyLCBzYW5zLXNlcmlmJyk7XG4gICAgICAgIHByZXZpZXcuc3R5bGUuc2V0UHJvcGVydHkoJy0tZm9udC1ib2R5JywgYm9keVNlbGVjdD8udmFsdWUgfHwgJ0ludGVyLCBzYW5zLXNlcmlmJyk7XG4gICAgICAgIHByZXZpZXcuc3R5bGUuc2V0UHJvcGVydHkoJy0tcmFkaXVzLXNtYWxsJywgcmFkaXVzU21hbGw/LnZhbHVlIHx8ICc4cHgnKTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1yYWRpdXMtbWVkaXVtJywgcmFkaXVzTWVkaXVtPy52YWx1ZSB8fCAnMTZweCcpO1xuICAgICAgICBwcmV2aWV3LnN0eWxlLnNldFByb3BlcnR5KCctLXJhZGl1cy1sYXJnZScsIHJhZGl1c0xhcmdlPy52YWx1ZSB8fCAnMjRweCcpO1xuICAgICAgICBwcmV2aWV3LnN0eWxlLmJvcmRlclJhZGl1cyA9IHJhZGl1c01lZGl1bT8udmFsdWUgfHwgJzE2cHgnO1xuICAgICAgfTtcblxuICAgICAgY29uc3Qgc2V0Q29sb3JGaWVsZHMgPSAoa2V5LCB2YWx1ZSkgPT4ge1xuICAgICAgICBpZiAoY29sb3JTZWxlY3RzW2tleV0pIGNvbG9yU2VsZWN0c1trZXldLnZhbHVlID0gdmFsdWU7XG4gICAgICB9O1xuXG4gICAgICBPYmplY3Qua2V5cyhjb2xvclNlbGVjdHMpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICBjb2xvclNlbGVjdHNba2V5XT8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgc3luY1ByZXZpZXcpO1xuICAgICAgfSk7XG4gICAgICBbaGVhZGluZ1NlbGVjdCwgYm9keVNlbGVjdCwgcmFkaXVzU21hbGwsIHJhZGl1c01lZGl1bSwgcmFkaXVzTGFyZ2VdLmZvckVhY2goKGVsKSA9PiB7XG4gICAgICAgIGVsPy5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBzeW5jUHJldmlldyk7XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgbG9hZFRoZW1lID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoIXRoZW1lQXBpKSByZXR1cm47XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh0aGVtZUFwaSwgeyBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgcmV0dXJuO1xuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgc2V0Q29sb3JGaWVsZHMoJ3ByaW1hcnknLCBwYXlsb2FkLmNvbG9ycz8ucHJpbWFyeSB8fCAndmlvbGV0LTUwMCcpO1xuICAgICAgICAgIHNldENvbG9yRmllbGRzKCdzZWNvbmRhcnknLCBwYXlsb2FkLmNvbG9ycz8uc2Vjb25kYXJ5IHx8ICdpbmRpZ28tNDAwJyk7XG4gICAgICAgICAgc2V0Q29sb3JGaWVsZHMoJ2FjY2VudCcsIHBheWxvYWQuY29sb3JzPy5hY2NlbnQgfHwgJ2VtZXJhbGQtNTAwJyk7XG4gICAgICAgICAgc2V0Q29sb3JGaWVsZHMoJ2JhY2tncm91bmQnLCBwYXlsb2FkLmNvbG9ycz8uYmFja2dyb3VuZCB8fCAnc2xhdGUtNTAnKTtcbiAgICAgICAgICBzZXRDb2xvckZpZWxkcygndGV4dCcsIHBheWxvYWQuY29sb3JzPy50ZXh0IHx8ICdzbGF0ZS05MDAnKTtcbiAgICAgICAgICBpZiAoaGVhZGluZ1NlbGVjdCkgaGVhZGluZ1NlbGVjdC52YWx1ZSA9IHBheWxvYWQudHlwb2dyYXBoeT8uaGVhZGluZ3MgfHwgJ0ludGVyLCBzYW5zLXNlcmlmJztcbiAgICAgICAgICBpZiAoYm9keVNlbGVjdCkgYm9keVNlbGVjdC52YWx1ZSA9IHBheWxvYWQudHlwb2dyYXBoeT8uYm9keSB8fCAnSW50ZXIsIHNhbnMtc2VyaWYnO1xuICAgICAgICAgIGlmIChyYWRpdXNTbWFsbCkgcmFkaXVzU21hbGwudmFsdWUgPSBwYXlsb2FkLnJhZGl1cz8uc21hbGwgfHwgJzhweCc7XG4gICAgICAgICAgaWYgKHJhZGl1c01lZGl1bSkgcmFkaXVzTWVkaXVtLnZhbHVlID0gcGF5bG9hZC5yYWRpdXM/Lm1lZGl1bSB8fCAnMTZweCc7XG4gICAgICAgICAgaWYgKHJhZGl1c0xhcmdlKSByYWRpdXNMYXJnZS52YWx1ZSA9IHBheWxvYWQucmFkaXVzPy5sYXJnZSB8fCAnMjRweCc7XG4gICAgICAgICAgc3luY1ByZXZpZXcoKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3NldHRpbmdzXSBsb2FkIHRoZW1lIGZhaWxlZCcsIGVycik7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGZpbGxDb2xvck9wdGlvbnMoKTtcbiAgICAgIGFwcGx5QnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAoIXRoZW1lQXBpKSB7XG4gICAgICAgICAgc2V0VGhlbWVGZWVkYmFjaygnQXVjdW4gc2l0ZSBhY3RpZi4nLCAnZXJyb3InKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgICBjb2xvcnM6IHtcbiAgICAgICAgICAgIHByaW1hcnk6IGNvbG9yU2VsZWN0cy5wcmltYXJ5Py52YWx1ZSB8fCAndmlvbGV0LTUwMCcsXG4gICAgICAgICAgICBzZWNvbmRhcnk6IGNvbG9yU2VsZWN0cy5zZWNvbmRhcnk/LnZhbHVlIHx8ICdpbmRpZ28tNDAwJyxcbiAgICAgICAgICAgIGFjY2VudDogY29sb3JTZWxlY3RzLmFjY2VudD8udmFsdWUgfHwgJ2VtZXJhbGQtNTAwJyxcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IGNvbG9yU2VsZWN0cy5iYWNrZ3JvdW5kPy52YWx1ZSB8fCAnc2xhdGUtNTAnLFxuICAgICAgICAgICAgdGV4dDogY29sb3JTZWxlY3RzLnRleHQ/LnZhbHVlIHx8ICdzbGF0ZS05MDAnLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgdHlwb2dyYXBoeToge1xuICAgICAgICAgICAgaGVhZGluZ3M6IGhlYWRpbmdTZWxlY3Q/LnZhbHVlIHx8ICdJbnRlciwgc2Fucy1zZXJpZicsXG4gICAgICAgICAgICBib2R5OiBib2R5U2VsZWN0Py52YWx1ZSB8fCAnSW50ZXIsIHNhbnMtc2VyaWYnLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgcmFkaXVzOiB7XG4gICAgICAgICAgICBzbWFsbDogcmFkaXVzU21hbGw/LnZhbHVlIHx8ICc4cHgnLFxuICAgICAgICAgICAgbWVkaXVtOiByYWRpdXNNZWRpdW0/LnZhbHVlIHx8ICcxNnB4JyxcbiAgICAgICAgICAgIGxhcmdlOiByYWRpdXNMYXJnZT8udmFsdWUgfHwgJzI0cHgnLFxuICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIGFwcGx5QnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgc2V0VGhlbWVGZWVkYmFjaygnJyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh0aGVtZUFwaSwge1xuICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2sgfHwgcmVzdWx0LnN1Y2Nlc3MgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzdWx0Lm1lc3NhZ2UgfHwgJ0FwcGxpY2F0aW9uIGR1IHRoXHUwMEU4bWUgXHUwMEU5Y2hvdVx1MDBFOWUuJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNldFRoZW1lRmVlZGJhY2socmVzdWx0Lm1lc3NhZ2UgfHwgJ1RoXHUwMEU4bWUgYXBwbGlxdVx1MDBFOS4nLCAnc3VjY2VzcycpO1xuICAgICAgICAgIHN5bmNQcmV2aWV3KCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gYXBwbHkgdGhlbWUgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgICBzZXRUaGVtZUZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsXHUyMDE5YXBwbGljYXRpb24gZHUgdGhcdTAwRThtZS4nLCAnZXJyb3InKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBhcHBseUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgZmlsbENvbG9yT3B0aW9ucygpO1xuICAgICAgbG9hZFRoZW1lKCk7XG4gICAgICBzeW5jUHJldmlldygpO1xuICAgIH1cblxuICAgIC8vIFNFTyBDb25maWcgZm9ybSAoVVM5LkIxKVxuICAgIGNvbnN0IHNlb0NvbmZpZ0Zvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8tY29uZmlnLWZvcm1dJyk7XG4gICAgaWYgKHNlb0NvbmZpZ0Zvcm0pIHtcbiAgICAgIGNvbnN0IGluZGV4QWxsQ2hlY2tib3ggPSBzZW9Db25maWdGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby1pbmRleC1hbGxdJyk7XG4gICAgICBjb25zdCBzZW9Db25maWdGZWVkYmFjayA9IHNlb0NvbmZpZ0Zvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtc2VvLWNvbmZpZy1mZWVkYmFja10nKTtcbiAgICAgIGNvbnN0IHNlb1NhdmVCdXR0b24gPSBzZW9Db25maWdGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby1zYXZlXScpO1xuXG4gICAgICBjb25zdCBzYWZlU2l0ZVNsdWcgPSBzdHJpcExlYWRpbmdTbGFzaChcbiAgICAgICAgd29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyxcbiAgICAgICk7XG4gICAgICBjb25zdCBzaXRlQ29uZmlnQXBpID0gc2FmZVNpdGVTbHVnXG4gICAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnKX0vY29uZmlnL3NpdGVgXG4gICAgICAgIDogbnVsbDtcblxuICAgICAgY29uc3Qgc2V0U2VvRmVlZGJhY2sgPSAobWVzc2FnZSwgdG9uZSA9ICdtdXRlZCcpID0+IHtcbiAgICAgICAgaWYgKCFzZW9Db25maWdGZWVkYmFjaykgcmV0dXJuO1xuICAgICAgICBjb25zdCBjb2xvciA9XG4gICAgICAgICAgdG9uZSA9PT0gJ3N1Y2Nlc3MnXG4gICAgICAgICAgICA/ICd0ZXh0LWVtZXJhbGQtNjAwJ1xuICAgICAgICAgICAgOiB0b25lID09PSAnZXJyb3InXG4gICAgICAgICAgICAgID8gJ3RleHQtcm9zZS02MDAnXG4gICAgICAgICAgICAgIDogJ3RleHQtc2xhdGUtNTAwJztcbiAgICAgICAgc2VvQ29uZmlnRmVlZGJhY2sudGV4dENvbnRlbnQgPSBtZXNzYWdlIHx8ICcnO1xuICAgICAgICBzZW9Db25maWdGZWVkYmFjay5jbGFzc05hbWUgPSBgdGV4dC1zbSAke2NvbG9yfWA7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBsb2FkU2VvQ29uZmlnID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoIXNpdGVDb25maWdBcGkpIHJldHVybjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHNpdGVDb25maWdBcGksIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHJldHVybjtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIGNvbnN0IGluZGV4QWxsID0gcGF5bG9hZC5zZW8/LmluZGV4QWxsUGFnZXNCeURlZmF1bHQgIT09IGZhbHNlO1xuICAgICAgICAgIGlmIChpbmRleEFsbENoZWNrYm94KSBpbmRleEFsbENoZWNrYm94LmNoZWNrZWQgPSBpbmRleEFsbDtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3NldHRpbmdzXSBsb2FkIHNlbyBjb25maWcgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgc2VvQ29uZmlnRm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKCFzaXRlQ29uZmlnQXBpKSB7XG4gICAgICAgICAgc2V0U2VvRmVlZGJhY2soJ0F1Y3VuIHNpdGUgYWN0aWYuJywgJ2Vycm9yJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNlb1NhdmVCdXR0b24gJiYgKHNlb1NhdmVCdXR0b24uZGlzYWJsZWQgPSB0cnVlKTtcbiAgICAgICAgc2V0U2VvRmVlZGJhY2soJycpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIEZpcnN0IGxvYWQgY3VycmVudCBjb25maWcgdG8gcHJlc2VydmUgb3RoZXIgZmllbGRzXG4gICAgICAgICAgY29uc3QgY3VycmVudFJlcyA9IGF3YWl0IGZldGNoKHNpdGVDb25maWdBcGksIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xuICAgICAgICAgIGNvbnN0IGN1cnJlbnRDb25maWcgPSBjdXJyZW50UmVzLm9rID8gYXdhaXQgY3VycmVudFJlcy5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSkgOiB7fTtcblxuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgICAgICAuLi5jdXJyZW50Q29uZmlnLFxuICAgICAgICAgICAgc2VvOiB7XG4gICAgICAgICAgICAgIC4uLihjdXJyZW50Q29uZmlnLnNlbyB8fCB7fSksXG4gICAgICAgICAgICAgIGluZGV4QWxsUGFnZXNCeURlZmF1bHQ6IGluZGV4QWxsQ2hlY2tib3g/LmNoZWNrZWQgPz8gdHJ1ZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfTtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHNpdGVDb25maWdBcGksIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rIHx8IHJlc3VsdC5zdWNjZXNzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5tZXNzYWdlIHx8ICdTYXV2ZWdhcmRlIGltcG9zc2libGUuJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNldFNlb0ZlZWRiYWNrKHJlc3VsdC5tZXNzYWdlIHx8ICdQYXJhbVx1MDBFOHRyZXMgU0VPIGVucmVnaXN0clx1MDBFOXMuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3NldHRpbmdzXSBzYXZlIHNlbyBjb25maWcgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgICBzZXRTZW9GZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZGUgbGEgc2F1dmVnYXJkZS4nLCAnZXJyb3InKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBzZW9TYXZlQnV0dG9uICYmIChzZW9TYXZlQnV0dG9uLmRpc2FibGVkID0gZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgbG9hZFNlb0NvbmZpZygpO1xuICAgIH1cblxuICAgIC8vIEFuYWx5dGljcyBmb3JtIChVUzkuQjIpXG4gICAgY29uc3QgYW5hbHl0aWNzRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFuYWx5dGljcy1mb3JtXScpO1xuICAgIGlmIChhbmFseXRpY3NGb3JtKSB7XG4gICAgICBjb25zdCBoZWFkVGV4dGFyZWEgPSBhbmFseXRpY3NGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFuYWx5dGljcy1oZWFkXScpO1xuICAgICAgY29uc3QgYm9keVRleHRhcmVhID0gYW5hbHl0aWNzRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hbmFseXRpY3MtYm9keV0nKTtcbiAgICAgIGNvbnN0IGFuYWx5dGljc0ZlZWRiYWNrID0gYW5hbHl0aWNzRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hbmFseXRpY3MtZmVlZGJhY2tdJyk7XG4gICAgICBjb25zdCBhbmFseXRpY3NTYXZlQnV0dG9uID0gYW5hbHl0aWNzRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hbmFseXRpY3Mtc2F2ZV0nKTtcblxuICAgICAgY29uc3Qgc2FmZVNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goXG4gICAgICAgIHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJycsXG4gICAgICApO1xuICAgICAgY29uc3Qgc2l0ZUNvbmZpZ0FwaSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Zyl9L2NvbmZpZy9zaXRlYFxuICAgICAgICA6IG51bGw7XG5cbiAgICAgIGNvbnN0IHNldEFuYWx5dGljc0ZlZWRiYWNrID0gKG1lc3NhZ2UsIHRvbmUgPSAnbXV0ZWQnKSA9PiB7XG4gICAgICAgIGlmICghYW5hbHl0aWNzRmVlZGJhY2spIHJldHVybjtcbiAgICAgICAgY29uc3QgY29sb3IgPVxuICAgICAgICAgIHRvbmUgPT09ICdzdWNjZXNzJ1xuICAgICAgICAgICAgPyAndGV4dC1lbWVyYWxkLTYwMCdcbiAgICAgICAgICAgIDogdG9uZSA9PT0gJ2Vycm9yJ1xuICAgICAgICAgICAgICA/ICd0ZXh0LXJvc2UtNjAwJ1xuICAgICAgICAgICAgICA6ICd0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICAgIGFuYWx5dGljc0ZlZWRiYWNrLnRleHRDb250ZW50ID0gbWVzc2FnZSB8fCAnJztcbiAgICAgICAgYW5hbHl0aWNzRmVlZGJhY2suY2xhc3NOYW1lID0gYHRleHQtc20gJHtjb2xvcn1gO1xuICAgICAgfTtcblxuICAgICAgY29uc3QgbG9hZEFuYWx5dGljc0NvbmZpZyA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKCFzaXRlQ29uZmlnQXBpKSByZXR1cm47XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChzaXRlQ29uZmlnQXBpLCB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSByZXR1cm47XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICBpZiAoaGVhZFRleHRhcmVhKSBoZWFkVGV4dGFyZWEudmFsdWUgPSBwYXlsb2FkLmFuYWx5dGljcz8uaGVhZENvZGUgfHwgJyc7XG4gICAgICAgICAgaWYgKGJvZHlUZXh0YXJlYSkgYm9keVRleHRhcmVhLnZhbHVlID0gcGF5bG9hZC5hbmFseXRpY3M/LmJvZHlFbmRDb2RlIHx8ICcnO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIGxvYWQgYW5hbHl0aWNzIGNvbmZpZyBmYWlsZWQnLCBlcnIpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBhbmFseXRpY3NGb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAoIXNpdGVDb25maWdBcGkpIHtcbiAgICAgICAgICBzZXRBbmFseXRpY3NGZWVkYmFjaygnQXVjdW4gc2l0ZSBhY3RpZi4nLCAnZXJyb3InKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgYW5hbHl0aWNzU2F2ZUJ1dHRvbiAmJiAoYW5hbHl0aWNzU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWUpO1xuICAgICAgICBzZXRBbmFseXRpY3NGZWVkYmFjaygnJyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gRmlyc3QgbG9hZCBjdXJyZW50IGNvbmZpZyB0byBwcmVzZXJ2ZSBvdGhlciBmaWVsZHNcbiAgICAgICAgICBjb25zdCBjdXJyZW50UmVzID0gYXdhaXQgZmV0Y2goc2l0ZUNvbmZpZ0FwaSwgeyBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSk7XG4gICAgICAgICAgY29uc3QgY3VycmVudENvbmZpZyA9IGN1cnJlbnRSZXMub2sgPyBhd2FpdCBjdXJyZW50UmVzLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKSA6IHt9O1xuXG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgICAgIC4uLmN1cnJlbnRDb25maWcsXG4gICAgICAgICAgICBhbmFseXRpY3M6IHtcbiAgICAgICAgICAgICAgaGVhZENvZGU6IGhlYWRUZXh0YXJlYT8udmFsdWUgfHwgJycsXG4gICAgICAgICAgICAgIGJvZHlFbmRDb2RlOiBib2R5VGV4dGFyZWE/LnZhbHVlIHx8ICcnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9O1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goc2l0ZUNvbmZpZ0FwaSwge1xuICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2sgfHwgcmVzdWx0LnN1Y2Nlc3MgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzdWx0Lm1lc3NhZ2UgfHwgJ1NhdXZlZ2FyZGUgaW1wb3NzaWJsZS4nKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0QW5hbHl0aWNzRmVlZGJhY2socmVzdWx0Lm1lc3NhZ2UgfHwgJ1NjcmlwdHMgZW5yZWdpc3RyXHUwMEU5cy4nLCAnc3VjY2VzcycpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIHNhdmUgYW5hbHl0aWNzIGNvbmZpZyBmYWlsZWQnLCBlcnIpO1xuICAgICAgICAgIHNldEFuYWx5dGljc0ZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsYSBzYXV2ZWdhcmRlLicsICdlcnJvcicpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGFuYWx5dGljc1NhdmVCdXR0b24gJiYgKGFuYWx5dGljc1NhdmVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBsb2FkQW5hbHl0aWNzQ29uZmlnKCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaW5pdE1lZGlhV29ya3NwYWNlKCkge1xuICAgIGNvbnN0IGdyaWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1ncmlkXScpO1xuICAgIGlmICghZ3JpZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBlbXB0eVN0YXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZW1wdHldJyk7XG4gICAgY29uc3QgY291bnRCYWRnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWNvdW50XScpO1xuICAgIGNvbnN0IGZpbHRlclR5cGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1maWx0ZXItdHlwZV0nKTtcbiAgICBjb25zdCBkZXRhaWxFbXB0eSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRldGFpbC1lbXB0eV0nKTtcbiAgICBjb25zdCBkZXRhaWxQYW5lbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRldGFpbF0nKTtcbiAgICBjb25zdCBkZXRhaWxQcmV2aWV3ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGV0YWlsLXByZXZpZXddJyk7XG4gICAgY29uc3QgZGV0YWlsTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRldGFpbC1uYW1lXScpO1xuICAgIGNvbnN0IGRldGFpbFR5cGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZXRhaWwtdHlwZV0nKTtcbiAgICBjb25zdCBkZXRhaWxTaXplID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGV0YWlsLXNpemVdJyk7XG4gICAgY29uc3QgZGV0YWlsUGF0aCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRldGFpbC1wYXRoXScpO1xuICAgIGNvbnN0IGRldGFpbFVzZWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZXRhaWwtdXNlZF0nKTtcbiAgICBjb25zdCBkZXRhaWxBbHRJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWFsdC1lZGl0XScpO1xuICAgIGNvbnN0IGRldGFpbFNhdmVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1zYXZlXScpO1xuICAgIGNvbnN0IGRldGFpbERlbGV0ZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRlbGV0ZV0nKTtcbiAgICBjb25zdCBkZWxldGVNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRlbGV0ZS1tb2RhbF0nKTtcbiAgICBjb25zdCBkZWxldGVDYW5jZWxCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZWxldGUtY2FuY2VsXScpO1xuICAgIGNvbnN0IGRlbGV0ZUNvbmZpcm1CdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZWxldGUtY29uZmlybV0nKTtcbiAgICBjb25zdCB1cGxvYWRPcGVuQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtdXBsb2FkLW9wZW5dJyk7XG4gICAgY29uc3QgZmlsZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZmlsZS1pbnB1dF0nKTtcbiAgICBjb25zdCB1cGxvYWRTdGF0dXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS11cGxvYWQtc3RhdHVzXScpO1xuXG4gICAgY29uc3Qgc2FmZVNpdGVTbHVnVmFsdWUgPSBzdHJpcExlYWRpbmdTbGFzaChcbiAgICAgIHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJycsXG4gICAgKTtcbiAgICBjb25zdCBtZWRpYUFwaUJhc2UgPSBzYWZlU2l0ZVNsdWdWYWx1ZVxuICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWdWYWx1ZSl9L21lZGlhYFxuICAgICAgOiBudWxsO1xuXG4gICAgbGV0IG1lZGlhSXRlbXMgPSBbXTtcbiAgICBsZXQgZmlsdGVyZWRJdGVtcyA9IFtdO1xuICAgIGxldCBhY3RpdmVNZWRpYUlkID0gbnVsbDtcbiAgICBsZXQgaGlnaGxpZ2h0TWVkaWFJZCA9IG51bGw7XG4gICAgbGV0IHBlbmRpbmdVcGxvYWRGaWxlID0gbnVsbDtcbiAgICBsZXQgdXBsb2FkSW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgIGxldCBkZXRhaWxEaXJ0eSA9IGZhbHNlO1xuICAgIGxldCB1cGxvYWRNb2RlID0gZmFsc2U7XG4gICAgbGV0IHVwbG9hZFByZXZpZXdVcmwgPSBudWxsO1xuXG4gICAgY29uc3QgZGVyaXZlR3JvdXBUeXBlID0gKGl0ZW0pID0+IHtcbiAgICAgIGNvbnN0IHR5cGUgPSAoaXRlbS50eXBlIHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgY29uc3QgZmlsZW5hbWUgPSAoaXRlbS5maWxlbmFtZSB8fCAnJykudG9Mb3dlckNhc2UoKTtcbiAgICAgIGlmICh0eXBlLmluY2x1ZGVzKCdpbWFnZScpIHx8IC9cXC4ocG5nfGpwZT9nfHdlYnB8c3ZnfGdpZikkL2kudGVzdChmaWxlbmFtZSkpIHtcbiAgICAgICAgcmV0dXJuICdpbWFnZSc7XG4gICAgICB9XG4gICAgICBpZiAodHlwZS5pbmNsdWRlcygncGRmJykgfHwgdHlwZS5pbmNsdWRlcygnZG9jJykgfHwgL1xcLihwZGZ8ZG9jeD8pJC9pLnRlc3QoZmlsZW5hbWUpKSB7XG4gICAgICAgIHJldHVybiAnZG9jdW1lbnQnO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGUuaW5jbHVkZXMoJ3ZpZGVvJykgfHwgL1xcLihtcDR8bW92fHdlYm0pJC9pLnRlc3QoZmlsZW5hbWUpKSB7XG4gICAgICAgIHJldHVybiAndmlkZW8nO1xuICAgICAgfVxuICAgICAgcmV0dXJuICdvdGhlcic7XG4gICAgfTtcblxuICAgIGNvbnN0IGlzSW1hZ2VUeXBlID0gKGl0ZW0pID0+IGRlcml2ZUdyb3VwVHlwZShpdGVtKSA9PT0gJ2ltYWdlJztcblxuICAgIGNvbnN0IGZvcm1hdFR5cGVMYWJlbCA9IChpdGVtKSA9PiB7XG4gICAgICBpZiAoaXRlbS50eXBlKSB7XG4gICAgICAgIHJldHVybiBpdGVtLnR5cGUudG9VcHBlckNhc2UoKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGV4dCA9IChpdGVtLmZpbGVuYW1lIHx8ICcnKS5zcGxpdCgnLicpLnBvcCgpO1xuICAgICAgcmV0dXJuIGV4dCA/IGV4dC50b1VwcGVyQ2FzZSgpIDogJ0ZJTEUnO1xuICAgIH07XG5cbiAgICBjb25zdCBmb3JtYXRGaWxlU2l6ZSA9IChzaXplKSA9PiB7XG4gICAgICBpZiAoIXNpemUgfHwgc2l6ZSA8PSAwKSB7XG4gICAgICAgIHJldHVybiAnXHUyMDE0JztcbiAgICAgIH1cbiAgICAgIGlmIChzaXplIDwgMTAyNCkge1xuICAgICAgICByZXR1cm4gYCR7c2l6ZX0gb2A7XG4gICAgICB9XG4gICAgICBpZiAoc2l6ZSA8IDEwMjQgKiAxMDI0KSB7XG4gICAgICAgIHJldHVybiBgJHsoc2l6ZSAvIDEwMjQpLnRvRml4ZWQoMSl9IGtvYDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBgJHsoc2l6ZSAvICgxMDI0ICogMTAyNCkpLnRvRml4ZWQoMSl9IE1vYDtcbiAgICB9O1xuXG4gICAgY29uc3QgcmVzZXREZXRhaWxQYW5lbCA9ICgpID0+IHtcbiAgICAgIGRldGFpbFBhbmVsPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGRldGFpbEVtcHR5Py5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGNsZWFyVXBsb2FkU3RhdGUoKTtcbiAgICAgIGFjdGl2ZU1lZGlhSWQgPSBudWxsO1xuICAgICAgZGV0YWlsRGlydHkgPSBmYWxzZTtcbiAgICAgIHVwZGF0ZURldGFpbEFjdGlvbnMoZmFsc2UpO1xuICAgICAgaWYgKGRldGFpbFByZXZpZXcpIHtcbiAgICAgICAgZGV0YWlsUHJldmlldy5pbm5lckhUTUwgPVxuICAgICAgICAgICc8c3BhbiBjbGFzcz1cInRleHQtc2xhdGUtNDAwIHRleHQtc21cIj5BdWN1biBtXHUwMEU5ZGlhIHNcdTAwRTlsZWN0aW9ublx1MDBFOTwvc3Bhbj4nO1xuICAgICAgfVxuICAgICAgaWYgKGRldGFpbE5hbWUpIHtcbiAgICAgICAgZGV0YWlsTmFtZS50ZXh0Q29udGVudCA9ICcnO1xuICAgICAgfVxuICAgICAgZGV0YWlsVHlwZSAmJiAoZGV0YWlsVHlwZS50ZXh0Q29udGVudCA9ICcnKTtcbiAgICAgIGRldGFpbFNpemUgJiYgKGRldGFpbFNpemUudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgICBpZiAoZGV0YWlsQWx0SW5wdXQpIHtcbiAgICAgICAgZGV0YWlsQWx0SW5wdXQudmFsdWUgPSAnJztcbiAgICAgIH1cbiAgICAgIGRldGFpbFBhdGggJiYgKGRldGFpbFBhdGgudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgICBpZiAoZGV0YWlsVXNlZCkge1xuICAgICAgICBkZXRhaWxVc2VkLmlubmVySFRNTCA9ICcnO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBjbGVhclVwbG9hZFN0YXRlID0gKCkgPT4ge1xuICAgICAgcGVuZGluZ1VwbG9hZEZpbGUgPSBudWxsO1xuICAgICAgdXBsb2FkTW9kZSA9IGZhbHNlO1xuICAgICAgdXBsb2FkSW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgICAgaWYgKHVwbG9hZFByZXZpZXdVcmwpIHtcbiAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTCh1cGxvYWRQcmV2aWV3VXJsKTtcbiAgICAgICAgdXBsb2FkUHJldmlld1VybCA9IG51bGw7XG4gICAgICB9XG4gICAgICB1cGxvYWRTdGF0dXMgJiYgKHVwbG9hZFN0YXR1cy50ZXh0Q29udGVudCA9ICdBdWN1biBmaWNoaWVyIHNcdTAwRTlsZWN0aW9ublx1MDBFOS4nKTtcbiAgICAgIGZpbGVJbnB1dCAmJiAoZmlsZUlucHV0LnZhbHVlID0gJycpO1xuICAgIH07XG5cbiAgICBjb25zdCB1cGRhdGVDb3VudEJhZGdlID0gKCkgPT4ge1xuICAgICAgaWYgKCFjb3VudEJhZGdlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghZmlsdGVyZWRJdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgY291bnRCYWRnZS50ZXh0Q29udGVudCA9ICcwIG1cdTAwRTlkaWEnO1xuICAgICAgfSBlbHNlIGlmIChmaWx0ZXJlZEl0ZW1zLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICBjb3VudEJhZGdlLnRleHRDb250ZW50ID0gJzEgbVx1MDBFOWRpYSc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb3VudEJhZGdlLnRleHRDb250ZW50ID0gYCR7ZmlsdGVyZWRJdGVtcy5sZW5ndGh9IG1cdTAwRTlkaWFzYDtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgcmVuZGVyR3JpZCA9ICgpID0+IHtcbiAgICAgIGdyaWQuaW5uZXJIVE1MID0gJyc7XG4gICAgICBpZiAoIWZpbHRlcmVkSXRlbXMubGVuZ3RoKSB7XG4gICAgICAgIGVtcHR5U3RhdGU/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICByZXNldERldGFpbFBhbmVsKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGVtcHR5U3RhdGU/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgZmlsdGVyZWRJdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgIGNvbnN0IGNhcmQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgY2FyZC50eXBlID0gJ2J1dHRvbic7XG4gICAgICAgIGNhcmQuZGF0YXNldC5tZWRpYUlkID0gaXRlbS5pZDtcbiAgICAgICAgY29uc3QgaXNBY3RpdmUgPSBpdGVtLmlkID09PSBhY3RpdmVNZWRpYUlkO1xuICAgICAgICBjYXJkLmNsYXNzTmFtZSA9IFtcbiAgICAgICAgICAnZ3JvdXAgcmVsYXRpdmUgZmxleCBmbGV4LWNvbCByb3VuZGVkLTJ4bCBib3JkZXIgcHgtMyBweS0zIHRleHQtbGVmdCB0cmFuc2l0aW9uIGZvY3VzLXZpc2libGU6b3V0bGluZSBmb2N1cy12aXNpYmxlOm91dGxpbmUtMiBmb2N1cy12aXNpYmxlOm91dGxpbmUtb2Zmc2V0LTIgZm9jdXMtdmlzaWJsZTpvdXRsaW5lLVsjOUM2QkZGXScsXG4gICAgICAgICAgaXNBY3RpdmVcbiAgICAgICAgICAgID8gJ2JvcmRlci1bIzlDNkJGRl0gYmctWyNGN0YwRkZdLzYwIHNoYWRvdy1zbSdcbiAgICAgICAgICAgIDogJ2JvcmRlci1zbGF0ZS0yMDAgaG92ZXI6Ym9yZGVyLVsjOUM2QkZGXS80MCcsXG4gICAgICAgIF0uam9pbignICcpO1xuICAgICAgICBjb25zdCBwcmV2aWV3ID0gaXNJbWFnZVR5cGUoaXRlbSlcbiAgICAgICAgICA/IGA8aW1nIHNyYz1cIiR7aXRlbS5wYXRofVwiIGFsdD1cIiR7aXRlbS5hbHQgfHwgaXRlbS5maWxlbmFtZX1cIiBjbGFzcz1cImgtZnVsbCB3LWZ1bGwgb2JqZWN0LWNvdmVyXCIgLz5gXG4gICAgICAgICAgOiBgPGRpdiBjbGFzcz1cImZsZXggaC1mdWxsIHctZnVsbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdGV4dC0zeGwgdGV4dC1zbGF0ZS00MDBcIj5cdUQ4M0RcdURDQzQ8L2Rpdj5gO1xuICAgICAgICBjYXJkLmlubmVySFRNTCA9IGBcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwicmVsYXRpdmUgYXNwZWN0LVs0LzNdIG92ZXJmbG93LWhpZGRlbiByb3VuZGVkLXhsIGJnLXNsYXRlLTEwMFwiPlxuICAgICAgICAgICAgJHtwcmV2aWV3fVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJtdC0yIHNwYWNlLXktMVwiPlxuICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgdGV4dC1zbGF0ZS05MDAgdHJ1bmNhdGVcIj4ke2l0ZW0uZmlsZW5hbWV9PC9wPlxuICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNTAwXCI+XG4gICAgICAgICAgICAgICR7Zm9ybWF0VHlwZUxhYmVsKGl0ZW0pfSBcdTAwQjcgJHtmb3JtYXRGaWxlU2l6ZShpdGVtLnNpemUpfVxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICBgO1xuICAgICAgICBpZiAoaXRlbS5pZCA9PT0gaGlnaGxpZ2h0TWVkaWFJZCkge1xuICAgICAgICAgIGNhcmQuY2xhc3NMaXN0LmFkZCgncmluZy0yJywgJ3JpbmctWyM5QzZCRkZdJyk7XG4gICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgY2FyZC5jbGFzc0xpc3QucmVtb3ZlKCdyaW5nLTInLCAncmluZy1bIzlDNkJGRl0nKTtcbiAgICAgICAgICB9LCAxNjAwKTtcbiAgICAgICAgfVxuICAgICAgICBjYXJkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gc2VsZWN0TWVkaWEoaXRlbS5pZCkpO1xuICAgICAgICBncmlkLmFwcGVuZENoaWxkKGNhcmQpO1xuICAgICAgfSk7XG4gICAgICBoaWdobGlnaHRNZWRpYUlkID0gbnVsbDtcbiAgICB9O1xuXG4gICAgY29uc3QgcmVuZGVyVXNlZEluID0gKGl0ZW0pID0+IHtcbiAgICAgIGlmICghZGV0YWlsVXNlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBkZXRhaWxVc2VkLmlubmVySFRNTCA9ICcnO1xuICAgICAgaWYgKCFpdGVtLnVzZWRJbiB8fCBpdGVtLnVzZWRJbi5sZW5ndGggPT09IDApIHtcbiAgICAgICAgY29uc3QgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgICBsaS50ZXh0Q29udGVudCA9ICdOb24gdXRpbGlzXHUwMEU5JztcbiAgICAgICAgbGkuY2xhc3NOYW1lID0gJ3RleHQteHMgdGV4dC1zbGF0ZS00MDAnO1xuICAgICAgICBkZXRhaWxVc2VkLmFwcGVuZENoaWxkKGxpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaXRlbS51c2VkSW4uZm9yRWFjaCgoZW50cnkpID0+IHtcbiAgICAgICAgY29uc3QgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgICBsaS50ZXh0Q29udGVudCA9IGVudHJ5O1xuICAgICAgICBsaS5jbGFzc05hbWUgPSAndGV4dC14cyB0ZXh0LXNsYXRlLTYwMCc7XG4gICAgICAgIGRldGFpbFVzZWQuYXBwZW5kQ2hpbGQobGkpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IHVwZGF0ZURldGFpbEFjdGlvbnMgPSAoc2F2aW5nKSA9PiB7XG4gICAgICBpZiAoIWRldGFpbFNhdmVCdXR0b24pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHVwbG9hZE1vZGUpIHtcbiAgICAgICAgZGV0YWlsU2F2ZUJ1dHRvbi50ZXh0Q29udGVudCA9IHNhdmluZyA/ICdUXHUwMEU5bFx1MDBFOXZlcnNlbWVudFx1MjAyNicgOiAnVFx1MDBFOWxcdTAwRTl2ZXJzZXInO1xuICAgICAgICBkZXRhaWxTYXZlQnV0dG9uLmRpc2FibGVkID0gc2F2aW5nIHx8ICFwZW5kaW5nVXBsb2FkRmlsZTtcbiAgICAgICAgaWYgKGRldGFpbERlbGV0ZUJ1dHRvbikge1xuICAgICAgICAgIGRldGFpbERlbGV0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBkZXRhaWxTYXZlQnV0dG9uLnRleHRDb250ZW50ID0gc2F2aW5nID8gJ0VucmVnaXN0cmVtZW50XHUyMDI2JyA6ICdFbnJlZ2lzdHJlcic7XG4gICAgICBkZXRhaWxTYXZlQnV0dG9uLmRpc2FibGVkID0gc2F2aW5nIHx8ICFkZXRhaWxEaXJ0eTtcbiAgICAgIGlmIChkZXRhaWxEZWxldGVCdXR0b24pIHtcbiAgICAgICAgZGV0YWlsRGVsZXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICBkZXRhaWxEZWxldGVCdXR0b24uZGlzYWJsZWQgPSAhYWN0aXZlTWVkaWFJZDtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3Qgc2VsZWN0TWVkaWEgPSAobWVkaWFJZCkgPT4ge1xuICAgICAgY29uc3QgaXRlbSA9IG1lZGlhSXRlbXMuZmluZCgoZW50cnkpID0+IGVudHJ5LmlkID09PSBtZWRpYUlkKTtcbiAgICAgIGlmICghaXRlbSkge1xuICAgICAgICByZXNldERldGFpbFBhbmVsKCk7XG4gICAgICAgIHJlbmRlckdyaWQoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY2xlYXJVcGxvYWRTdGF0ZSgpO1xuICAgICAgYWN0aXZlTWVkaWFJZCA9IGl0ZW0uaWQ7XG4gICAgICBkZXRhaWxEaXJ0eSA9IGZhbHNlO1xuICAgICAgdXBkYXRlRGV0YWlsQWN0aW9ucyhmYWxzZSk7XG4gICAgICByZW5kZXJHcmlkKCk7XG4gICAgICBkZXRhaWxFbXB0eT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBkZXRhaWxQYW5lbD8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBpZiAoZGV0YWlsUHJldmlldykge1xuICAgICAgICBpZiAoaXNJbWFnZVR5cGUoaXRlbSkpIHtcbiAgICAgICAgICBkZXRhaWxQcmV2aWV3LmlubmVySFRNTCA9IGA8aW1nIHNyYz1cIiR7aXRlbS5wYXRofVwiIGFsdD1cIiR7aXRlbS5hbHQgfHwgaXRlbS5maWxlbmFtZX1cIiBjbGFzcz1cImgtZnVsbCB3LWZ1bGwgcm91bmRlZC0yeGwgb2JqZWN0LWNvdmVyXCIgLz5gO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRldGFpbFByZXZpZXcuaW5uZXJIVE1MID1cbiAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiZmxleCBoLWZ1bGwgdy1mdWxsIGZsZXgtY29sIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBnYXAtMSB0ZXh0LXNsYXRlLTQwMFwiPjxzcGFuIGNsYXNzPVwidGV4dC0zeGxcIj5cdUQ4M0RcdURDQzQ8L3NwYW4+PHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIGZvbnQtc2VtaWJvbGRcIj5Eb2N1bWVudDwvc3Bhbj48L2Rpdj4nO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBkZXRhaWxOYW1lICYmIChkZXRhaWxOYW1lLnRleHRDb250ZW50ID0gaXRlbS5maWxlbmFtZSB8fCAnRmljaGllcicpO1xuICAgICAgZGV0YWlsVHlwZSAmJiAoZGV0YWlsVHlwZS50ZXh0Q29udGVudCA9IGZvcm1hdFR5cGVMYWJlbChpdGVtKSk7XG4gICAgICBkZXRhaWxTaXplICYmIChkZXRhaWxTaXplLnRleHRDb250ZW50ID0gZm9ybWF0RmlsZVNpemUoaXRlbS5zaXplKSk7XG4gICAgICBpZiAoZGV0YWlsQWx0SW5wdXQpIHtcbiAgICAgICAgZGV0YWlsQWx0SW5wdXQudmFsdWUgPSBpdGVtLmFsdCB8fCAnJztcbiAgICAgIH1cbiAgICAgIGRldGFpbFBhdGggJiYgKGRldGFpbFBhdGgudGV4dENvbnRlbnQgPSBpdGVtLnBhdGggfHwgJ1x1MjAxNCcpO1xuICAgICAgcmVuZGVyVXNlZEluKGl0ZW0pO1xuICAgIH07XG5cbiAgICBjb25zdCBzaG93VXBsb2FkUHJldmlldyA9IChmaWxlKSA9PiB7XG4gICAgICBpZiAoIWZpbGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdXBsb2FkTW9kZSA9IHRydWU7XG4gICAgICBkZXRhaWxEaXJ0eSA9IGZhbHNlO1xuICAgICAgYWN0aXZlTWVkaWFJZCA9IG51bGw7XG4gICAgICBkZXRhaWxFbXB0eT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBkZXRhaWxQYW5lbD8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBpZiAodXBsb2FkUHJldmlld1VybCkge1xuICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKHVwbG9hZFByZXZpZXdVcmwpO1xuICAgICAgfVxuICAgICAgdXBsb2FkUHJldmlld1VybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZSk7XG4gICAgICBpZiAoZGV0YWlsUHJldmlldykge1xuICAgICAgICBkZXRhaWxQcmV2aWV3LmlubmVySFRNTCA9IGA8aW1nIHNyYz1cIiR7dXBsb2FkUHJldmlld1VybH1cIiBhbHQ9XCIke2ZpbGUubmFtZX1cIiBjbGFzcz1cImgtZnVsbCB3LWZ1bGwgcm91bmRlZC0yeGwgb2JqZWN0LWNvdmVyXCIgLz5gO1xuICAgICAgfVxuICAgICAgZGV0YWlsTmFtZSAmJiAoZGV0YWlsTmFtZS50ZXh0Q29udGVudCA9IGZpbGUubmFtZSk7XG4gICAgICBkZXRhaWxUeXBlICYmIChkZXRhaWxUeXBlLnRleHRDb250ZW50ID0gZm9ybWF0VHlwZUxhYmVsKHsgdHlwZTogZmlsZS50eXBlLCBmaWxlbmFtZTogZmlsZS5uYW1lIH0pKTtcbiAgICAgIGRldGFpbFNpemUgJiYgKGRldGFpbFNpemUudGV4dENvbnRlbnQgPSBmb3JtYXRGaWxlU2l6ZShmaWxlLnNpemUpKTtcbiAgICAgIGlmIChkZXRhaWxBbHRJbnB1dCAmJiAhZGV0YWlsQWx0SW5wdXQudmFsdWUudHJpbSgpKSB7XG4gICAgICAgIGRldGFpbEFsdElucHV0LnZhbHVlID0gZmlsZS5uYW1lLnJlcGxhY2UoL1xcLlteLl0rJC8sICcnKS5yZXBsYWNlKC9bLV9dL2csICcgJyk7XG4gICAgICB9XG4gICAgICBkZXRhaWxQYXRoICYmIChkZXRhaWxQYXRoLnRleHRDb250ZW50ID0gJ0VuIGF0dGVudGUgZGUgdFx1MDBFOWxcdTAwRTl2ZXJzZW1lbnQnKTtcbiAgICAgIGlmIChkZXRhaWxVc2VkKSB7XG4gICAgICAgIGRldGFpbFVzZWQuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgIGNvbnN0IGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgbGkudGV4dENvbnRlbnQgPSAnTm9uIHV0aWxpc1x1MDBFOSc7XG4gICAgICAgIGxpLmNsYXNzTmFtZSA9ICd0ZXh0LXhzIHRleHQtc2xhdGUtNDAwJztcbiAgICAgICAgZGV0YWlsVXNlZC5hcHBlbmRDaGlsZChsaSk7XG4gICAgICB9XG4gICAgICB1cGRhdGVEZXRhaWxBY3Rpb25zKGZhbHNlKTtcbiAgICB9O1xuXG4gICAgY29uc3QgYXBwbHlGaWx0ZXJzID0gKCkgPT4ge1xuICAgICAgY29uc3QgdHlwZUZpbHRlciA9IGZpbHRlclR5cGU/LnZhbHVlIHx8ICdhbGwnO1xuICAgICAgaWYgKHR5cGVGaWx0ZXIgPT09ICdhbGwnKSB7XG4gICAgICAgIGZpbHRlcmVkSXRlbXMgPSBbLi4ubWVkaWFJdGVtc107XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmaWx0ZXJlZEl0ZW1zID0gbWVkaWFJdGVtcy5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0uZ3JvdXBUeXBlID09PSB0eXBlRmlsdGVyKTtcbiAgICAgIH1cbiAgICAgIGlmICghZmlsdGVyZWRJdGVtcy5zb21lKChpdGVtKSA9PiBpdGVtLmlkID09PSBhY3RpdmVNZWRpYUlkKSkge1xuICAgICAgICByZXNldERldGFpbFBhbmVsKCk7XG4gICAgICB9XG4gICAgICB1cGRhdGVDb3VudEJhZGdlKCk7XG4gICAgICByZW5kZXJHcmlkKCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGxvYWRNZWRpYSA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghbWVkaWFBcGlCYXNlKSB7XG4gICAgICAgIGVtcHR5U3RhdGU/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKG1lZGlhQXBpQmFzZSwge1xuICAgICAgICAgIGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ltcG9zc2libGUgZGUgY2hhcmdlciBsZXMgbVx1MDBFOWRpYXMuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoeyBpdGVtczogW10gfSkpO1xuICAgICAgICBtZWRpYUl0ZW1zID0gQXJyYXkuaXNBcnJheShwYXlsb2FkLml0ZW1zKVxuICAgICAgICAgID8gcGF5bG9hZC5pdGVtcy5tYXAoKGl0ZW0pID0+ICh7IC4uLml0ZW0sIGdyb3VwVHlwZTogZGVyaXZlR3JvdXBUeXBlKGl0ZW0pIH0pKVxuICAgICAgICAgIDogW107XG4gICAgICAgIGFwcGx5RmlsdGVycygpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1ttZWRpYV0gbG9hZCBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgY2hhcmdlciBsZXMgbVx1MDBFOWRpYXMuJyk7XG4gICAgICAgIG1lZGlhSXRlbXMgPSBbXTtcbiAgICAgICAgYXBwbHlGaWx0ZXJzKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGZpbHRlclR5cGU/LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgICAgIGFwcGx5RmlsdGVycygpO1xuICAgIH0pO1xuICAgIGRldGFpbEFsdElucHV0Py5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICAgIGlmICh1cGxvYWRNb2RlKSB7XG4gICAgICAgIHVwZGF0ZURldGFpbEFjdGlvbnMoZmFsc2UpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWFjdGl2ZU1lZGlhSWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZGV0YWlsRGlydHkgPSB0cnVlO1xuICAgICAgdXBkYXRlRGV0YWlsQWN0aW9ucyhmYWxzZSk7XG4gICAgfSk7XG5cbiAgICBjb25zdCBoYW5kbGVGaWxlU2VsZWN0aW9uID0gKGZpbGUpID0+IHtcbiAgICAgIGlmICghZmlsZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWZpbGUudHlwZS5zdGFydHNXaXRoKCdpbWFnZS8nKSkge1xuICAgICAgICBzaG93VG9hc3QoJ1NldWxlcyBsZXMgaW1hZ2VzIHNvbnQgYWNjZXB0XHUwMEU5ZXMgcG91ciBsZSBtb21lbnQuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChmaWxlLnNpemUgPiA0ICogMTAyNCAqIDEwMjQpIHtcbiAgICAgICAgc2hvd1RvYXN0KCdGaWNoaWVyIHRyb3Agdm9sdW1pbmV1eCAoNCBNbyBtYXgpLicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwZW5kaW5nVXBsb2FkRmlsZSA9IGZpbGU7XG4gICAgICBzaG93VXBsb2FkUHJldmlldyhmaWxlKTtcbiAgICAgIGlmICh1cGxvYWRTdGF0dXMpIHtcbiAgICAgICAgdXBsb2FkU3RhdHVzLnRleHRDb250ZW50ID0gYCR7ZmlsZS5uYW1lfSBcdTAwQjcgJHtmb3JtYXRGaWxlU2l6ZShmaWxlLnNpemUpfWA7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHJlYWRGaWxlQXNCYXNlNjQgPSAoZmlsZSkgPT5cbiAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgICAgcmVhZGVyLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSByZWFkZXIucmVzdWx0IHx8ICcnO1xuICAgICAgICAgIGNvbnN0IFssIGJhc2U2NCA9ICcnXSA9IFN0cmluZyhyZXN1bHQpLnNwbGl0KCcsJyk7XG4gICAgICAgICAgcmVzb2x2ZShiYXNlNjQpO1xuICAgICAgICB9O1xuICAgICAgICByZWFkZXIub25lcnJvciA9ICgpID0+IHJlamVjdChuZXcgRXJyb3IoJ0ltcG9zc2libGUgZGUgbGlyZSBjZSBmaWNoaWVyLicpKTtcbiAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XG4gICAgICB9KTtcblxuICAgIGNvbnN0IHVwbG9hZFNlbGVjdGVkTWVkaWEgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXBlbmRpbmdVcGxvYWRGaWxlIHx8ICFtZWRpYUFwaUJhc2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdXBsb2FkSW5Qcm9ncmVzcyA9IHRydWU7XG4gICAgICB1cGRhdGVEZXRhaWxBY3Rpb25zKHRydWUpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgYmFzZTY0ID0gYXdhaXQgcmVhZEZpbGVBc0Jhc2U2NChwZW5kaW5nVXBsb2FkRmlsZSk7XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgICAgZmlsZW5hbWU6IHBlbmRpbmdVcGxvYWRGaWxlLm5hbWUsXG4gICAgICAgICAgdHlwZTogcGVuZGluZ1VwbG9hZEZpbGUudHlwZSxcbiAgICAgICAgICBzaXplOiBwZW5kaW5nVXBsb2FkRmlsZS5zaXplLFxuICAgICAgICAgIGFsdDogZGV0YWlsQWx0SW5wdXQ/LnZhbHVlIHx8ICcnLFxuICAgICAgICAgIGRhdGE6IGJhc2U2NCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChtZWRpYUFwaUJhc2UsIHtcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBjb25zdCBlcnJvclBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yUGF5bG9hZC5tZXNzYWdlIHx8ICdVcGxvYWQgaW1wb3NzaWJsZS4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzYXZlZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgc2F2ZWQuZ3JvdXBUeXBlID0gZGVyaXZlR3JvdXBUeXBlKHNhdmVkKTtcbiAgICAgICAgbWVkaWFJdGVtcyA9IFsuLi5tZWRpYUl0ZW1zLCBzYXZlZF07XG4gICAgICAgIGhpZ2hsaWdodE1lZGlhSWQgPSBzYXZlZC5pZDtcbiAgICAgICAgYXBwbHlGaWx0ZXJzKCk7XG4gICAgICAgIHNlbGVjdE1lZGlhKHNhdmVkLmlkKTtcbiAgICAgICAgc2hvd1RvYXN0KCdNXHUwMEU5ZGlhIGFqb3V0XHUwMEU5Jyk7XG4gICAgICAgIGNsZWFyVXBsb2FkU3RhdGUoKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbbWVkaWFdIHVwbG9hZCBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgdFx1MDBFOWxcdTAwRTl2ZXJzZXIgY2UgbVx1MDBFOWRpYS4nKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHVwbG9hZEluUHJvZ3Jlc3MgPSBmYWxzZTtcbiAgICAgICAgcGVuZGluZ1VwbG9hZEZpbGUgPSBudWxsO1xuICAgICAgICB1cGRhdGVEZXRhaWxBY3Rpb25zKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdXBsb2FkT3BlbkJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBmaWxlSW5wdXQ/LmNsaWNrKCkpO1xuICAgIGZpbGVJbnB1dD8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICAgICAgaWYgKGZpbGVJbnB1dC5maWxlcyAmJiBmaWxlSW5wdXQuZmlsZXNbMF0pIHtcbiAgICAgICAgaGFuZGxlRmlsZVNlbGVjdGlvbihmaWxlSW5wdXQuZmlsZXNbMF0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IGNsb3NlRGVsZXRlTW9kYWwgPSAoKSA9PiB7XG4gICAgICBpZiAoIWRlbGV0ZU1vZGFsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGRlbGV0ZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgZGVsZXRlTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnZmxleCcpO1xuICAgIH07XG5cbiAgICBjb25zdCBvcGVuRGVsZXRlTW9kYWwgPSAoKSA9PiB7XG4gICAgICBpZiAoIWFjdGl2ZU1lZGlhSWQgfHwgdXBsb2FkTW9kZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoZGVsZXRlTW9kYWwpIHtcbiAgICAgICAgZGVsZXRlTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIGRlbGV0ZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2ZsZXgnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gRmFsbGJhY2sgc2kgYXVjdW5lIG1vZGFsZSBuJ2VzdCBkaXNwb25pYmxlXG4gICAgICBpZiAod2luZG93LmNvbmZpcm0oJ1N1cHByaW1lciBjZSBtXHUwMEU5ZGlhID8nKSkge1xuICAgICAgICBkZWxldGVBY3RpdmVNZWRpYSgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBkZWxldGVBY3RpdmVNZWRpYSA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghYWN0aXZlTWVkaWFJZCB8fCAhbWVkaWFBcGlCYXNlKSB7XG4gICAgICAgIGNsb3NlRGVsZXRlTW9kYWwoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgZGlzYWJsZUJ1dHRvbnMgPSAoKSA9PiB7XG4gICAgICAgIGlmIChkZXRhaWxEZWxldGVCdXR0b24pIHtcbiAgICAgICAgICBkZXRhaWxEZWxldGVCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkZWxldGVDb25maXJtQnV0dG9uKSB7XG4gICAgICAgICAgZGVsZXRlQ29uZmlybUJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgICAgZGVsZXRlQ29uZmlybUJ1dHRvbi50ZXh0Q29udGVudCA9ICdTdXBwcmVzc2lvblx1MjAyNic7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBjb25zdCBlbmFibGVCdXR0b25zID0gKCkgPT4ge1xuICAgICAgICBpZiAoZGV0YWlsRGVsZXRlQnV0dG9uKSB7XG4gICAgICAgICAgZGV0YWlsRGVsZXRlQnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlbGV0ZUNvbmZpcm1CdXR0b24pIHtcbiAgICAgICAgICBkZWxldGVDb25maXJtQnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgZGVsZXRlQ29uZmlybUJ1dHRvbi50ZXh0Q29udGVudCA9ICdTdXBwcmltZXInO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgZGlzYWJsZUJ1dHRvbnMoKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgICAgYCR7bWVkaWFBcGlCYXNlfS8ke2VuY29kZVVSSUNvbXBvbmVudChhY3RpdmVNZWRpYUlkKX1gLFxuICAgICAgICAgIHsgbWV0aG9kOiAnREVMRVRFJyB9LFxuICAgICAgICApO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocGF5bG9hZC5tZXNzYWdlIHx8ICdTdXBwcmVzc2lvbiBpbXBvc3NpYmxlLicpO1xuICAgICAgICB9XG4gICAgICAgIG1lZGlhSXRlbXMgPSBtZWRpYUl0ZW1zLmZpbHRlcigoaXRlbSkgPT4gaXRlbS5pZCAhPT0gYWN0aXZlTWVkaWFJZCk7XG4gICAgICAgIGZpbHRlcmVkSXRlbXMgPSBmaWx0ZXJlZEl0ZW1zLmZpbHRlcigoaXRlbSkgPT4gaXRlbS5pZCAhPT0gYWN0aXZlTWVkaWFJZCk7XG4gICAgICAgIHNob3dUb2FzdCgnTVx1MDBFOWRpYSBzdXBwcmltXHUwMEU5Jyk7XG4gICAgICAgIHJlc2V0RGV0YWlsUGFuZWwoKTtcbiAgICAgICAgdXBkYXRlQ291bnRCYWRnZSgpO1xuICAgICAgICByZW5kZXJHcmlkKCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW21lZGlhXSBkZWxldGUgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIHN1cHByaW1lciBjZSBtXHUwMEU5ZGlhLicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgZW5hYmxlQnV0dG9ucygpO1xuICAgICAgICBjbG9zZURlbGV0ZU1vZGFsKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGRlbGV0ZUNhbmNlbEJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZURlbGV0ZU1vZGFsKTtcbiAgICBkZWxldGVNb2RhbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIGlmIChldmVudC50YXJnZXQgPT09IGRlbGV0ZU1vZGFsKSB7XG4gICAgICAgIGNsb3NlRGVsZXRlTW9kYWwoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGRlbGV0ZUNvbmZpcm1CdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gZGVsZXRlQWN0aXZlTWVkaWEoKSk7XG4gICAgZGV0YWlsRGVsZXRlQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5EZWxldGVNb2RhbCk7XG5cbiAgICBkZXRhaWxTYXZlQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGlmICh1cGxvYWRNb2RlKSB7XG4gICAgICAgIHVwbG9hZFNlbGVjdGVkTWVkaWEoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFhY3RpdmVNZWRpYUlkIHx8ICFtZWRpYUFwaUJhc2UgfHwgIWRldGFpbEFsdElucHV0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHVwZGF0ZURldGFpbEFjdGlvbnModHJ1ZSk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBwYXlsb2FkID0geyBhbHQ6IGRldGFpbEFsdElucHV0LnZhbHVlIHx8ICcnIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgICAgYCR7bWVkaWFBcGlCYXNlfS8ke2VuY29kZVVSSUNvbXBvbmVudChhY3RpdmVNZWRpYUlkKX1gLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICAgIH0sXG4gICAgICAgICk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBjb25zdCBlcnJvclBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yUGF5bG9hZC5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIG1ldHRyZSBcdTAwRTAgam91ciBjZSBtXHUwMEU5ZGlhLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHVwZGF0ZWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIG1lZGlhSXRlbXMgPSBtZWRpYUl0ZW1zLm1hcCgoaXRlbSkgPT5cbiAgICAgICAgICBpdGVtLmlkID09PSBhY3RpdmVNZWRpYUlkID8geyAuLi5pdGVtLCAuLi51cGRhdGVkIH0gOiBpdGVtLFxuICAgICAgICApO1xuICAgICAgICBmaWx0ZXJlZEl0ZW1zID0gZmlsdGVyZWRJdGVtcy5tYXAoKGl0ZW0pID0+XG4gICAgICAgICAgaXRlbS5pZCA9PT0gYWN0aXZlTWVkaWFJZCA/IHsgLi4uaXRlbSwgLi4udXBkYXRlZCB9IDogaXRlbSxcbiAgICAgICAgKTtcbiAgICAgICAgZGV0YWlsRGlydHkgPSBmYWxzZTtcbiAgICAgICAgdXBkYXRlRGV0YWlsQWN0aW9ucyhmYWxzZSk7XG4gICAgICAgIHNob3dUb2FzdCgnTVx1MDBFOWRpYSBtaXMgXHUwMEUwIGpvdXInKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbbWVkaWFdIHVwZGF0ZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UgfHwgJ1x1MDBDOWNoZWMgZGUgbGEgbWlzZSBcdTAwRTAgam91ci4nKTtcbiAgICAgICAgdXBkYXRlRGV0YWlsQWN0aW9ucyhmYWxzZSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBsb2FkTWVkaWEoKTtcbiAgfVxufSk7XG4iXSwKICAibWFwcGluZ3MiOiAiTUFBQSxTQUFTLGlCQUFpQixtQkFBb0IsSUFBTSxDQUNsRCxRQUFRLElBQUksMkJBQXdCLEVBQ3BDLElBQU1BLEdBQWUsU0FBUyxjQUFjLGVBQWUsRUFDdkRBLElBQ0ZBLEdBQWEsaUJBQWlCLFFBQVMsU0FBWSxDQUNqREEsR0FBYSxTQUFXLEdBQ3hCLEdBQUksQ0FDRixNQUFNLE1BQU0sY0FBZSxDQUN6QixPQUFRLE9BQ1IsUUFBUyxDQUNQLGVBQWdCLGtCQUNsQixDQUNGLENBQUMsQ0FDSCxPQUFTQyxFQUFLLENB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RCxFQUNBZ1UsRUFBZ0JBLEVBQWMsSUFBS2hVLEdBQ2pDQSxFQUFLLEtBQU9pVSxFQUFnQixDQUFFLEdBQUdqVSxFQUFNLEdBQUdzVyxDQUFRLEVBQUl0VyxDQUN4RCxFQUNBcVUsRUFBYyxHQUNkWSxHQUFvQixFQUFLLEVBQ3pCOWpCLEVBQVUsd0JBQWtCLENBQzlCLE9BQVMvQyxFQUFLLENBQ1osUUFBUSxNQUFNLHdCQUF5QkEsQ0FBRyxFQUMxQytDLEVBQVUvQyxFQUFJLFNBQVcsZ0NBQTBCLEVBQ25ENm1CLEdBQW9CLEVBQUssQ0FDM0IsRUFDRixHQUVBVSxHQUFVLENBQ1osQ0FDRixDQUFDIiwKICAibmFtZXMiOiBbImxvZ291dEJ1dHRvbiIsICJlcnIiLCAic2lkZWJhciIsICJzaWRlYmFyT3ZlcmxheSIsICJzaWRlYmFyVG9nZ2xlcyIsICJzaWRlYmFyQ2xvc2VCdXR0b25zIiwgImJvZHkiLCAic2lkZWJhck9wZW4iLCAiYXBwbHlTaWRlYmFyU3RhdGUiLCAib3BlblNpZGViYXIiLCAiY2xvc2VTaWRlYmFyIiwgImJ1dHRvbiIsICJldmVudCIsICJBQ1RJVkVfU0lURV9LRVkiLCAiQUNUSVZFX1NJVEVfTkFNRV9LRVkiLCAic3RvcmVkU2l0ZSIsICJzaXRlQ2FyZHMiLCAic2l0ZVNlbGVjdEJ1dHRvbnMiLCAic2l0ZU5hbWVMYWJlbCIsICJ3b3Jrc3BhY2VTaXRlTGFiZWwiLCAid29ya3NwYWNlQmFja05hbWUiLCAid29ya3NwYWNlQmFja01vZGFsIiwgIndvcmtzcGFjZUJhY2tCdXR0b25zIiwgIndvcmtzcGFjZUJhY2tDYW5jZWwiLCAid29ya3NwYWNlQmFja0NvbmZpcm0iLCAid29ya3NwYWNlTmF2TGlua3MiLCAic2l0ZVRvYXN0IiwgInNpdGVUb2FzdE1lc3NhZ2UiLCAic2l0ZUNyZWF0ZUJ1dHRvbnMiLCAic2l0ZU1vZGFsIiwgInNpdGVGb3JtIiwgInNpdGVOYW1lSW5wdXQiLCAic2l0ZVNsdWdJbnB1dCIsICJzaXRlU2x1Z0Vycm9yIiwgInNpdGVNb2RhbEVycm9yIiwgInNpdGVNb2RhbENhbmNlbEJ1dHRvbnMiLCAic2l0ZU1vZGFsU3VibWl0QnV0dG9uIiwgIndvcmtzcGFjZUNvbnRleHQiLCAiZ2V0V29ya3NwYWNlQ29udGV4dCIsICJzbHVnTWFudWFsbHlFZGl0ZWQiLCAibGFzdEZvY3VzZWRFbGVtZW50IiwgInRvYXN0VGltZW91dElkIiwgImZvY3VzYWJsZVNlbGVjdG9yIiwgInRyYXBGb2N1cyIsICJmb2N1c2FibGVFbGVtZW50cyIsICJlbCIsICJmaXJzdCIsICJsYXN0IiwgInNob3dUb2FzdCIsICJtZXNzYWdlIiwgImVuc3VyZUxlYWRpbmdTbGFzaCIsICJzbHVnIiwgInN0cmlwTGVhZGluZ1NsYXNoIiwgInBlcnNpc3RTaXRlU3RhdGUiLCAibmFtZSIsICJub3JtYWxpemVkU2x1ZyIsICJ1cGRhdGVTaXRlTGFiZWxzIiwgInVwZGF0ZVdvcmtzcGFjZU5hdkxpbmtzIiwgImxpbmsiLCAidGFiIiwgInNsdWdQYXRoIiwgImFwcGx5QWN0aXZlU2l0ZSIsICJvcHRpb25zIiwgImFjdGl2ZVNpdGVOYW1lIiwgImNhcmQiLCAiaXNBY3RpdmUiLCAiYmFkZ2UiLCAiZmluYWxOYW1lIiwgInNlbGVjdFNpdGUiLCAicmVzcG9uc2UiLCAicGF5bG9hZCIsICJmaW5hbFNsdWciLCAic3luY0FjdGl2ZVNpdGVGcm9tU2VydmVyIiwgInNpdGUiLCAiZGVmYXVsdENhcmQiLCAid29ya3NwYWNlU2x1Z2lmeSIsICJ2YWx1ZSIsICJub3JtYWxpemVTbHVnVmFsdWUiLCAiYmFzZSIsICJvcGVuU2l0ZU1vZGFsIiwgImNsb3NlU2l0ZU1vZGFsIiwgImdldFNsdWdTZXQiLCAibmFtZVZhbHVlIiwgInNsdWdWYWx1ZSIsICJjcmVhdGVkU2l0ZSIsICJjbG9zZVdvcmtzcGFjZUJhY2tNb2RhbCIsICJtYXRjaCIsICJkZXRlY3RXb3Jrc3BhY2VTZWN0aW9uIiwgIm9wZW5Xb3Jrc3BhY2VCYWNrTW9kYWwiLCAiYWN0aXZlU2VjdGlvbiIsICJpbml0RGVzaWduV29ya3NwYWNlIiwgImluaXRDb250ZW50V29ya3NwYWNlIiwgImluaXRNZWRpYVdvcmtzcGFjZSIsICJpbml0RGVwbG95V29ya3NwYWNlIiwgImluaXRTZXR0aW5nc1dvcmtzcGFjZSIsICJwYWdlTGlzdHMiLCAiYWN0aXZlVGl0bGUiLCAiYWN0aXZlU2x1ZyIsICJwcmV2aWV3VGFncyIsICJwcmV2aWV3RnJhbWUiLCAicHJldmlld09wZW5CdXR0b24iLCAicHJldmlld1N0YXR1cyIsICJwcmV2aWV3SGlnaGxpZ2h0T3ZlcmxheSIsICJzZW9Ub2dnbGVCdXR0b24iLCAic2VvUGFuZWwiLCAic2VvQ2xvc2VCdXR0b24iLCAic2VvRm9ybSIsICJzZW9UaXRsZUlucHV0IiwgInNlb0Rlc2NyaXB0aW9uSW5wdXQiLCAic2VvSW5kZXhlZENoZWNrYm94IiwgInNlb0ZlZWRiYWNrIiwgInNlb1NhdmVCdXR0b24iLCAiYmxvY2tMaXN0IiwgImJsb2NrTGlzdEVtcHR5IiwgImJsb2NrQ291bnRCYWRnZSIsICJibG9ja0xpYnJhcnlUb2dnbGUiLCAiYmxvY2tMaWJyYXJ5IiwgImJsb2NrQWRkQnV0dG9ucyIsICJibG9ja0RlbGV0ZU1vZGFsIiwgImJsb2NrRGVsZXRlQ29uZmlybSIsICJibG9ja0RlbGV0ZUNhbmNlbCIsICJibG9ja0RldGFpbEVtcHR5IiwgImJsb2NrRGV0YWlsU3RhdHVzIiwgImJsb2NrRWRpdG9yIiwgImJsb2NrRWRpdG9yVGl0bGUiLCAiYmxvY2tFZGl0b3JUeXBlIiwgImJsb2NrRWRpdG9yVW5zdXBwb3J0ZWQiLCAiYmxvY2tGb3JtIiwgImJsb2NrRm9ybVNlY3Rpb25zIiwgImJsb2NrVGFicyIsICJhY3RpdmVCbG9ja1RhYiIsICJzd2l0Y2hCbG9ja1RhYiIsICJ0YWJOYW1lIiwgInBhbmVsIiwgImJsb2NrRm9ybUFjdGlvbnMiLCAiYmxvY2tGb3JtQXV0b3NhdmUiLCAiY29sbGVjdGlvblNlbGVjdCIsICJjb2xsZWN0aW9uU2VsZWN0aW9uSW5mbyIsICJibG9ja0Zvcm1DYW5jZWwiLCAiZ3JvdXBQcmV2aWV3TW9iaWxlIiwgImdyb3VwUHJldmlld0Rlc2t0b3AiLCAiY29sbGVjdGlvblByZXZpZXdNb2JpbGUiLCAiY29sbGVjdGlvblByZXZpZXdEZXNrdG9wIiwgImJsb2NrVHlwZUZvcm1zIiwgImJsb2NrVHlwZUFsaWFzZXMiLCAidXBkYXRlR3JvdXBNaW5pUHJldmlldyIsICJtb2JpbGVWYWx1ZSIsICJkZXNrdG9wVmFsdWUiLCAicmVuZGVyQm94ZXMiLCAiY291bnQiLCAidXBkYXRlQ29sbGVjdGlvbk1pbmlQcmV2aWV3IiwgImZldGNoUGFnZXNGcm9tU2VydmVyIiwgInBhZ2VzQXBpQmFzZSIsICJjcmVhdGVQYWdlT25TZXJ2ZXIiLCAidGl0bGUiLCAic2F2ZVBhZ2VUb1NlcnZlciIsICJwYWdlIiwgInNhdmVkIiwgIm5vcm1hbGl6ZWQiLCAibm9ybWFsaXplUGFnZURhdGEiLCAicGFnZXMiLCAiZW50cnkiLCAiY3VycmVudFBhZ2UiLCAibG9hZFBhZ2VzRnJvbVNlcnZlciIsICJhY3RpdmVQYWdlSWQiLCAicmVuZGVyUGFnZUxpc3RzIiwgInJlbmRlckJsb2NrTGlzdCIsICJsb2FkZWRQYWdlcyIsICJnZXRMb2FkaW5nUHJldmlld0h0bWwiLCAiZ2V0U3RvcmVkQWN0aXZlUGFnZSIsICJzZXRBY3RpdmVQYWdlIiwgIm5vcm1hbGl6ZVR5cGUiLCAiZ2V0QmxvY2tGb3JtQ29uZmlnIiwgImJsb2NrIiwgInR5cGVLZXkiLCAiYWxpYXMiLCAicG9wdWxhdGVCbG9ja0Zvcm0iLCAiX2EiLCAiX2IiLCAiX2MiLCAiX2QiLCAiX2UiLCAiY29uZmlnIiwgInNlY3Rpb24iLCAiZGVzaXJlZFZhbHVlIiwgInVwZGF0ZUNvbGxlY3Rpb25TZWxlY3RPcHRpb25zIiwgInNldHRpbmdLZXkiLCAiZmllbGROYW1lIiwgImlucHV0IiwgImNvbGxlY3RGb3JtVmFsdWVzIiwgInZhbHVlcyIsICJwYXJzZWQiLCAidXBkYXRlUHJldmlld1N0YXR1cyIsICJ0ZXh0IiwgInNlcmlhbGl6ZVBhZ2VGb3JQcmV2aWV3IiwgImRlYm91bmNlIiwgImZuIiwgImRlbGF5IiwgInRpbWVvdXRJZCIsICJhcmdzIiwgImF1dG9TYXZlVGltZW91dCIsICJhdXRvU2F2ZUFwcGVhcmFuY2UiLCAiYWN0aXZlQmxvY2tJZCIsICJnZXRBY3RpdmVCbG9jayIsICJ1cGRhdGVkQmxvY2tzIiwgInVwZGF0ZWRTZXR0aW5ncyIsICJuZXh0UGFnZSIsICJ1cGRhdGVQcmV2aWV3QmxvY2tMaXZlIiwgImJsb2NrSWQiLCAic2V0dGluZ3MiLCAiZGVib3VuY2VkQXV0b1NhdmUiLCAiZGVib3VuY2VkUmVmcmVzaFByZXZpZXciLCAicmVmcmVzaFByZXZpZXciLCAiaGFuZGxlQXBwZWFyYW5jZUNoYW5nZSIsICJwcmV2aWV3U2l0ZVNsdWciLCAicHJldmlld1JlYWR5IiwgInByZXZpZXdSZXF1ZXN0Q29udHJvbGxlciIsICJjb250cm9sbGVyIiwgImRhdGEiLCAibGF0ZXN0UHJldmlld0h0bWwiLCAiZXJyb3IiLCAiaGFuZGxlQmxvY2tGb3JtU3VibWl0IiwgInVwZGF0ZWRCbG9jayIsICJ1cGRhdGVDdXJyZW50UGFnZUJsb2NrcyIsICJkcmF3ZXIiLCAiZHJhd2VyQmFja2Ryb3AiLCAiZHJhd2VyT3BlbkJ1dHRvbnMiLCAiZHJhd2VyQ2xvc2VCdXR0b25zIiwgImFkZFBhZ2VUb2dnbGUiLCAiYWRkUGFnZUZvcm0iLCAiYWRkUGFnZVRpdGxlIiwgImFkZFBhZ2VTbHVnIiwgImFkZFBhZ2VDYW5jZWwiLCAiYWRkUGFnZUVycm9yIiwgImFkZFBhZ2VTdWJtaXRCdXR0b24iLCAiaW1wb3J0VG9nZ2xlIiwgImltcG9ydE1vZGFsIiwgImltcG9ydENsb3NlQnV0dG9ucyIsICJpbXBvcnREcm9wem9uZSIsICJpbXBvcnRGaWxlSW5wdXQiLCAiaW1wb3J0RmlsZUxpc3QiLCAiaW1wb3J0RmlsZU5hbWVzIiwgImltcG9ydFJlc3VsdHMiLCAiaW1wb3J0UmVzdWx0c0NvbnRlbnQiLCAiaW1wb3J0U3VibWl0IiwgImltcG9ydFRhYnMiLCAiaW1wb3J0UGFuZWxzIiwgImNvcHlUZW1wbGF0ZUJ0biIsICJ0ZW1wbGF0ZUpzb24iLCAiaW1wb3J0U2VsZWN0ZWRGaWxlcyIsICJkZWxldGVQYWdlTW9kYWwiLCAiZGVsZXRlUGFnZU5hbWUiLCAiZGVsZXRlUGFnZUNhbmNlbCIsICJkZWxldGVQYWdlQ29uZmlybSIsICJwYWdlVG9EZWxldGUiLCAic2l0ZUtleSIsICJzaXRlU2x1Z1ZhbHVlIiwgInNhZmVTaXRlU2x1ZyIsICJjb2xsZWN0aW9uc0FwaUJhc2UiLCAic3RvcmFnZUtleXMiLCAiY3JlYXRlQmxvY2siLCAiaWQiLCAibGFiZWwiLCAidHlwZSIsICJzdGF0dXMiLCAiZGVzY3JpcHRpb24iLCAicHJvcHMiLCAiYmxvY2tMaWJyYXJ5RGVmaW5pdGlvbnMiLCAicGVyc2lzdEFjdGl2ZVBhZ2UiLCAicGFnZUlkIiwgInN0b3JlZCIsICJmb3JtYXRCbG9ja0NvdW50IiwgIm5vcm1hbGl6ZVBhZ2VTbHVnIiwgImdlbmVyYXRlQmxvY2tJZCIsICJrZXkiLCAiY3JlYXRlSW5pdGlhbEJsb2NrcyIsICJzZXRBY3RpdmVMYWJlbHMiLCAicmVuZGVyUHJldmlld01ldGEiLCAidGFnIiwgImdldFN0YXR1c0JhZGdlQ2xhc3NlcyIsICJyZW5kZXJCbG9ja0RldGFpbHMiLCAiYXBwbHlQcmV2aWV3SGlnaGxpZ2h0IiwgImRvYyIsICJub2RlIiwgImJsb2NrcyIsICJpdGVtIiwgImFjY2VudCIsICJjb250ZW50IiwgImhhbmRsZSIsICJ0ZXh0V3JhcHBlciIsICJtZXRhIiwgInR5cGVCYWRnZSIsICJzdGF0dXNCYWRnZSIsICJkaXNwbGF5TGFiZWwiLCAiY29sbGVjdGlvbk5hbWUiLCAiZGVzaWduQ29sbGVjdGlvbnMiLCAiaW5mbyIsICJhY3Rpb25zIiwgIm1vdmVCdXR0b25zIiwgIm1vdmVVcCIsICJtb3ZlQmxvY2tCeU9mZnNldCIsICJtb3ZlRG93biIsICJkZWxldGVCdXR0b24iLCAib3BlbkJsb2NrRGVsZXRlTW9kYWwiLCAic2V0QWN0aXZlQmxvY2siLCAib3BlbkRlbGV0ZVBhZ2VNb2RhbCIsICJjbG9zZURlbGV0ZVBhZ2VNb2RhbCIsICJleGVjdXRlRGVsZXRlUGFnZSIsICJwYWdlVGl0bGUiLCAicmVzdWx0IiwgInAiLCAiYWN0aXZlSWQiLCAibGlzdCIsICJpc0Rlc2t0b3BEcmF3ZXIiLCAiY2xvc2VEcmF3ZXIiLCAiZGVsZXRlQnRuIiwgImUiLCAidGFyZ2V0QmxvY2siLCAibmV3QmxvY2tzIiwgInVwZGF0ZUN1cnJlbnRQYWdlU3RhdGUiLCAiaXNEZXNrdG9wUmVvcmRlciIsICJvZmZzZXQiLCAiaW5kZXgiLCAibmV3SW5kZXgiLCAibW92ZWQiLCAicmVvcmRlckJsb2NrcyIsICJzb3VyY2VJZCIsICJ0YXJnZXRJZCIsICJmcm9tSW5kZXgiLCAidG9JbmRleCIsICJyZW9yZGVyQmxvY2tzV2l0aFBvc2l0aW9uIiwgInBvc2l0aW9uIiwgImluc2VydEluZGV4IiwgInVwZGF0ZURyYWdnYWJsZVN0YXRlIiwgImRyYWdnYWJsZSIsICJjbG9zZUJsb2NrTGlicmFyeSIsICJibG9ja0xpYnJhcnlPcGVuIiwgIm9wZW5CbG9ja0xpYnJhcnkiLCAidG9nZ2xlQmxvY2tMaWJyYXJ5IiwgImFkZEJsb2NrRnJvbUxpYnJhcnkiLCAiZGVmaW5pdGlvbiIsICJuZXdCbG9jayIsICJmaXJzdENvbGxlY3Rpb25JZCIsICJuZXh0QmxvY2tzIiwgImRlbGV0ZUJsb2NrQnlJZCIsICJuZXh0QWN0aXZlIiwgImNsb3NlQmxvY2tEZWxldGVNb2RhbCIsICJwZW5kaW5nRGVsZXRlQmxvY2tJZCIsICJ0YXJnZXQiLCAic3luY0RyYXdlclN0YXRlIiwgIm9wZW5EcmF3ZXIiLCAib3BlbkFkZFBhZ2VGb3JtIiwgInBhZ2VTbHVnTWFudWFsbHlFZGl0ZWQiLCAiY2xvc2VBZGRQYWdlRm9ybSIsICJzeW5jU2x1Z0Zyb21UaXRsZSIsICJub3JtYWxpemVCbG9ja0RhdGEiLCAibG9hZERlc2lnbkNvbGxlY3Rpb25zIiwgImN1cnJlbnRWYWx1ZSIsICJzeW5jQ29sbGVjdGlvblNlbGVjdGlvbkluZm8iLCAiY29sbGVjdGlvbklkIiwgImNvbGxlY3Rpb24iLCAiZGV0YWlscyIsICJzZWxlY3RlZFZhbHVlIiwgIm9wdGlvbiIsICJmYWxsYmFja09wdGlvbiIsICJjcmVhdGVkUGFnZSIsICJvcGVuSW1wb3J0TW9kYWwiLCAidXBkYXRlSW1wb3J0RmlsZUxpc3QiLCAiY2xvc2VJbXBvcnRNb2RhbCIsICJmIiwgImhhbmRsZUltcG9ydEZpbGVzIiwgImZpbGVzIiwgImpzb25GaWxlcyIsICJleGVjdXRlSW1wb3J0IiwgInBhZ2VzRGF0YSIsICJmaWxlIiwgInBhcnNlRXJyIiwgImh0bWwiLCAiYnRuIiwgInRhcmdldFBhbmVsIiwgInQiLCAicHJldmlld1dpbmRvdyIsICJ0b2dnbGVTZW9QYW5lbCIsICJzaG93IiwgInNldFNlb0ZlZWRiYWNrIiwgInRvbmUiLCAiY29sb3IiLCAiaXNWaXNpYmxlIiwgInNlb0RhdGEiLCAidXBkYXRlZFBhZ2UiLCAiaGFuZGxlQmxvY2tEcmFnU3RhcnQiLCAiZHJhZ1NvdXJjZUlkIiwgImNsZWFyRHJhZ0luZGljYXRvcnMiLCAiaGFuZGxlQmxvY2tEcmFnRW5kIiwgImhhbmRsZUJsb2NrRHJhZ092ZXIiLCAicmVjdCIsICJtaWRZIiwgImlzQWJvdmUiLCAiaGFuZGxlQmxvY2tEcmFnTGVhdmUiLCAicmVsYXRlZFRhcmdldCIsICJoYW5kbGVCbG9ja0Ryb3AiLCAic291cmNlIiwgImRyb3BQb3NpdGlvbiIsICJjb2xsZWN0aW9uTGlzdCIsICJjb2xsZWN0aW9uRW1wdHlTdGF0ZSIsICJjb2xsZWN0aW9uSXRlbXNFbXB0eSIsICJpdGVtVGFibGVXcmFwcGVyIiwgIml0ZW1UYWJsZUJvZHkiLCAiY29sbGVjdGlvblRpdGxlIiwgImNvbGxlY3Rpb25EZXNjcmlwdGlvbiIsICJjb2xsZWN0aW9uRHJhd2VyIiwgImNvbGxlY3Rpb25EcmF3ZXJCYWNrZHJvcCIsICJjb2xsZWN0aW9uRHJhd2VyT3BlbkJ1dHRvbnMiLCAiY29sbGVjdGlvbkRyYXdlckNsb3NlQnV0dG9ucyIsICJpdGVtQWRkQnV0dG9uIiwgIml0ZW1EZXRhaWxFbXB0eSIsICJpdGVtRm9ybSIsICJpdGVtRm9ybUZpZWxkcyIsICJpdGVtU3RhdHVzQmFkZ2UiLCAiaXRlbURlbGV0ZUJ1dHRvbiIsICJpdGVtRGVsZXRlTW9kYWwiLCAiaXRlbURlbGV0ZUNhbmNlbCIsICJpdGVtRGVsZXRlQ29uZmlybSIsICJpdGVtRm9ybUNhbmNlbCIsICJpdGVtRm9ybVNhdmUiLCAic3RhdHVzQmFkZ2VCYXNlQ2xhc3MiLCAic2FmZVNpdGVTbHVnVmFsdWUiLCAiY29sbGVjdGlvbnMiLCAiY29sbGVjdGlvbkl0ZW1zIiwgImFjdGl2ZUNvbGxlY3Rpb25JZCIsICJhY3RpdmVJdGVtSWQiLCAiaXNDcmVhdGluZ0l0ZW0iLCAiaXRlbVNsdWdNYW51YWxseUVkaXRlZCIsICJwZW5kaW5nRGVsZXRlSXRlbUlkIiwgIm9wZW5Db2xsZWN0aW9uRHJhd2VyIiwgImNsb3NlQ29sbGVjdGlvbkRyYXdlciIsICJub3JtYWxpemVJdGVtU2x1Z0lucHV0IiwgInJhdyIsICJjbGVhbmVkU2VnbWVudHMiLCAic2VnbWVudCIsICJmb3JtYXRJdGVtRGF0ZSIsICJkYXRlIiwgInVwZGF0ZUNvbGxlY3Rpb25IZWFkZXIiLCAidXBkYXRlSXRlbXNFbXB0eU1lc3NhZ2UiLCAiaGlkZUl0ZW1Gb3JtIiwgInNob3dJdGVtRm9ybSIsICJzeW5jQWRkQnV0dG9uU3RhdGUiLCAic3luY0l0ZW1TdGF0dXNCYWRnZSIsICJjb2xvckNsYXNzIiwgInJlbmRlckNvbGxlY3Rpb25MaXN0IiwgInNldEFjdGl2ZUNvbGxlY3Rpb24iLCAicmVuZGVySXRlbVRhYmxlIiwgInJvdyIsICJzdGF0dXNDbGFzc2VzIiwgImhhbmRsZVNlbGVjdCIsICJzZWxlY3RJdGVtIiwgIml0ZW1JZCIsICJwb3B1bGF0ZUl0ZW1Gb3JtIiwgInByZXBhcmVOZXdJdGVtRm9ybSIsICJjb2xsZWN0SXRlbUZvcm1WYWx1ZXMiLCAiX2YiLCAic2x1Z0lucHV0IiwgInN1bW1hcnkiLCAiaW1hZ2UiLCAic2V0Rm9ybVNhdmluZ1N0YXRlIiwgImlzU2F2aW5nIiwgImZldGNoQ29sbGVjdGlvbkl0ZW1zIiwgImNyZWF0ZUNvbGxlY3Rpb25JdGVtIiwgInVwZGF0ZUNvbGxlY3Rpb25JdGVtIiwgImRlbGV0ZUNvbGxlY3Rpb25JdGVtIiwgImxvYWRDb2xsZWN0aW9ucyIsICJkZWZhdWx0SWQiLCAic2F2ZWRJdGVtIiwgImNsb3NlRGVsZXRlTW9kYWwiLCAib3BlbkRlbGV0ZU1vZGFsIiwgImZvcm0iLCAicHJvdG9jb2xTZWxlY3QiLCAiaG9zdElucHV0IiwgInBvcnRJbnB1dCIsICJ1c2VySW5wdXQiLCAicGFzc3dvcmRJbnB1dCIsICJzaG93UGFzc3dvcmRUb2dnbGUiLCAicmVtb3RlUGF0aElucHV0IiwgImZlZWRiYWNrIiwgInNhdmVCdXR0b24iLCAidGVzdEJ1dHRvbiIsICJkZXBsb3lCdXR0b24iLCAiaGlzdG9yeUxpc3QiLCAibG9nQm94IiwgImRlcGxveUFwaUJhc2UiLCAiZGVwbG95UnVuQXBpIiwgImRlcGxveUxvZ0FwaSIsICJoYXNQYXNzd29yZCIsICJidXN5QWN0aW9uIiwgInNhbml0aXplUmVtb3RlUGF0aCIsICJ0cmltbWVkIiwgInNldEZlZWRiYWNrIiwgImJhc2VDbGFzcyIsICJ0b25lQ2xhc3MiLCAiaWNvbiIsICJzZXRCdXN5IiwgImFjdGlvbiIsICJkaXNhYmxlIiwgInNwaW5uZXIiLCAicG9wdWxhdGVGb3JtIiwgInJlbmRlckhpc3RvcnkiLCAiZW50cmllcyIsICJsaSIsICJkdXJhdGlvbiIsICJyZW5kZXJMb2dzIiwgImxpbmVzIiwgImZldGNoSGlzdG9yeSIsICJmZXRjaENvbmZpZyIsICJidWlsZFBheWxvYWQiLCAicHdkIiwgImVycm9yUGF5bG9hZCIsICJ0YWJCdXR0b25zIiwgInRhYlBhbmVscyIsICJzaXRlRmVlZGJhY2siLCAidGhlbWVGb3JtIiwgInN3aXRjaFRhYiIsICJzdWJtaXQiLCAiZm9ybURhdGEiLCAiY3VycmVudFBhc3N3b3JkIiwgIm5ld1Bhc3N3b3JkIiwgImNvbmZpcm1QYXNzd29yZCIsICJuYW1lSW5wdXQiLCAibGFuZ1NlbGVjdCIsICJ0YWdsaW5lSW5wdXQiLCAic2V0U2l0ZUZlZWRiYWNrIiwgInNpdGVDb25maWdBcGkiLCAibG9hZFNpdGVDb25maWciLCAidGhlbWVBcGkiLCAiY29sb3JTZWxlY3RzIiwgImhlYWRpbmdTZWxlY3QiLCAiYm9keVNlbGVjdCIsICJyYWRpdXNTbWFsbCIsICJyYWRpdXNNZWRpdW0iLCAicmFkaXVzTGFyZ2UiLCAicHJldmlldyIsICJ0aGVtZUZlZWRiYWNrIiwgImFwcGx5QnV0dG9uIiwgInRhaWx3aW5kSHVlcyIsICJ0YWlsd2luZFNoYWRlcyIsICJ0YWlsd2luZFRva2VucyIsICJzIiwgImZpbGxDb2xvck9wdGlvbnMiLCAic2VsIiwgInRva2VuIiwgImgiLCAic2V0VGhlbWVGZWVkYmFjayIsICJzeW5jUHJldmlldyIsICJ0b2tlblRvSGV4IiwgInNoYWRlTnVtIiwgImZhY3RvciIsICJ0b1JnYiIsICJoZXgiLCAidiIsICJyIiwgImciLCAiYiIsICJtaXgiLCAic2V0Q29sb3JGaWVsZHMiLCAibG9hZFRoZW1lIiwgIl9nIiwgIl9oIiwgIl9pIiwgIl9qIiwgInNlb0NvbmZpZ0Zvcm0iLCAiaW5kZXhBbGxDaGVja2JveCIsICJzZW9Db25maWdGZWVkYmFjayIsICJsb2FkU2VvQ29uZmlnIiwgImluZGV4QWxsIiwgImN1cnJlbnRSZXMiLCAiY3VycmVudENvbmZpZyIsICJhbmFseXRpY3NGb3JtIiwgImhlYWRUZXh0YXJlYSIsICJib2R5VGV4dGFyZWEiLCAiYW5hbHl0aWNzRmVlZGJhY2siLCAiYW5hbHl0aWNzU2F2ZUJ1dHRvbiIsICJzZXRBbmFseXRpY3NGZWVkYmFjayIsICJsb2FkQW5hbHl0aWNzQ29uZmlnIiwgImdyaWQiLCAiZW1wdHlTdGF0ZSIsICJjb3VudEJhZGdlIiwgImZpbHRlclR5cGUiLCAiZGV0YWlsRW1wdHkiLCAiZGV0YWlsUGFuZWwiLCAiZGV0YWlsUHJldmlldyIsICJkZXRhaWxOYW1lIiwgImRldGFpbFR5cGUiLCAiZGV0YWlsU2l6ZSIsICJkZXRhaWxQYXRoIiwgImRldGFpbFVzZWQiLCAiZGV0YWlsQWx0SW5wdXQiLCAiZGV0YWlsU2F2ZUJ1dHRvbiIsICJkZXRhaWxEZWxldGVCdXR0b24iLCAiZGVsZXRlTW9kYWwiLCAiZGVsZXRlQ2FuY2VsQnV0dG9uIiwgImRlbGV0ZUNvbmZpcm1CdXR0b24iLCAidXBsb2FkT3BlbkJ1dHRvbiIsICJmaWxlSW5wdXQiLCAidXBsb2FkU3RhdHVzIiwgIm1lZGlhQXBpQmFzZSIsICJtZWRpYUl0ZW1zIiwgImZpbHRlcmVkSXRlbXMiLCAiYWN0aXZlTWVkaWFJZCIsICJoaWdobGlnaHRNZWRpYUlkIiwgInBlbmRpbmdVcGxvYWRGaWxlIiwgInVwbG9hZEluUHJvZ3Jlc3MiLCAiZGV0YWlsRGlydHkiLCAidXBsb2FkTW9kZSIsICJ1cGxvYWRQcmV2aWV3VXJsIiwgImRlcml2ZUdyb3VwVHlwZSIsICJmaWxlbmFtZSIsICJpc0ltYWdlVHlwZSIsICJmb3JtYXRUeXBlTGFiZWwiLCAiZXh0IiwgImZvcm1hdEZpbGVTaXplIiwgInNpemUiLCAicmVzZXREZXRhaWxQYW5lbCIsICJjbGVhclVwbG9hZFN0YXRlIiwgInVwZGF0ZURldGFpbEFjdGlvbnMiLCAidXBkYXRlQ291bnRCYWRnZSIsICJyZW5kZXJHcmlkIiwgInNlbGVjdE1lZGlhIiwgInJlbmRlclVzZWRJbiIsICJzYXZpbmciLCAibWVkaWFJZCIsICJzaG93VXBsb2FkUHJldmlldyIsICJhcHBseUZpbHRlcnMiLCAidHlwZUZpbHRlciIsICJsb2FkTWVkaWEiLCAiaGFuZGxlRmlsZVNlbGVjdGlvbiIsICJyZWFkRmlsZUFzQmFzZTY0IiwgInJlc29sdmUiLCAicmVqZWN0IiwgInJlYWRlciIsICJiYXNlNjQiLCAidXBsb2FkU2VsZWN0ZWRNZWRpYSIsICJkZWxldGVBY3RpdmVNZWRpYSIsICJkaXNhYmxlQnV0dG9ucyIsICJlbmFibGVCdXR0b25zIiwgInVwZGF0ZWQiXQp9Cg==
