(()=>{document.addEventListener("DOMContentLoaded",()=>{console.log("[admin] Atelier charg\xE9");let Pt=document.querySelector("[data-logout]");Pt&&Pt.addEventListener("click",async()=>{Pt.disabled=!0;try{await fetch("/api/logout",{method:"POST",headers:{"Content-Type":"application/json"}})}catch(r){console.error("[admin] Impossible de se d\xE9connecter",r)}finally{window.location.href="/admin/index.html"}});let nt=document.querySelector("[data-admin-sidebar]"),ye=document.querySelector("[data-admin-sidebar-overlay]"),is=document.querySelectorAll("[data-admin-sidebar-toggle]"),Bs=document.querySelectorAll("[data-admin-sidebar-close]"),Mt=document.body,yt=!1,vt=()=>{if(!nt)return;if(window.matchMedia("(min-width: 1024px)").matches){nt.classList.remove("hidden"),ye==null||ye.classList.add("hidden"),Mt.classList.remove("overflow-hidden");return}yt?(nt.classList.remove("hidden"),ye==null||ye.classList.remove("hidden"),Mt.classList.add("overflow-hidden")):(nt.classList.add("hidden"),ye==null||ye.classList.add("hidden"),Mt.classList.remove("overflow-hidden"))},$s=()=>{yt=!0,vt()},Dt=()=>{yt=!1,vt()};nt&&is.length>0&&(is.forEach(r=>{r.addEventListener("click",$s)}),Bs.forEach(r=>{r.addEventListener("click",Dt)}),ye==null||ye.addEventListener("click",Dt),window.addEventListener("resize",vt),window.addEventListener("keydown",r=>{r.key==="Escape"&&yt&&Dt()}),vt());let ls="clower:currentSite",cs="clower:currentSiteName",_={slug:null,name:""};(()=>{try{_.slug=window.localStorage.getItem(ls),_.name=window.localStorage.getItem(cs)||""}catch{_.slug=null,_.name=""}})();let Ot=document.querySelectorAll("[data-site-card]"),js=document.querySelectorAll("[data-site-select]"),ot=document.querySelector("[data-current-site-name]"),ds=document.querySelector("[data-workspace-site-name]"),us=document.querySelector("[data-workspace-back-name]"),Re=document.querySelector("[data-workspace-back-modal]"),Ns=document.querySelectorAll("[data-workspace-back]"),Ps=document.querySelectorAll("[data-workspace-back-cancel]"),Rt=document.querySelector("[data-workspace-back-confirm]"),Ms=document.querySelectorAll("[data-workspace-tab]"),Ut=document.querySelector("[data-site-toast]"),ms=document.querySelector("[data-site-toast-message]"),Ds=document.querySelectorAll("[data-site-create]"),ce=document.querySelector("[data-site-modal]"),je=document.querySelector("[data-site-form]"),we=document.querySelector("[data-site-name]"),qe=document.querySelector("[data-site-slug]"),fe=document.querySelector("[data-site-slug-error]"),ke=document.querySelector("[data-site-modal-error]"),Os=document.querySelectorAll("[data-site-modal-cancel]"),We=document.querySelector("[data-site-modal-submit]"),J=Ws(),bt=!1,xt=null,Ht=null,Rs='a[href], button:not([disabled]), textarea, input, select, [tabindex]:not([tabindex="-1"])',ps=r=>{if(!ce||ce.classList.contains("hidden")||r.key!=="Tab")return;let u=Array.from(ce.querySelectorAll(Rs)).filter(F=>!F.hasAttribute("disabled")&&!F.getAttribute("aria-hidden"));if(u.length===0)return;let v=u[0],C=u[u.length-1];r.shiftKey?document.activeElement===v&&(r.preventDefault(),C.focus()):document.activeElement===C&&(r.preventDefault(),v.focus())},N=r=>{!Ut||!ms||(ms.textContent=r,Ut.classList.remove("hidden"),Ht&&clearTimeout(Ht),Ht=setTimeout(()=>{Ut.classList.add("hidden")},2500))};function Ne(r){return r?r.startsWith("/")?r:`/${r}`:""}function Ae(r){return(r==null?void 0:r.replace(/^\//,""))||""}let wt=(r,u)=>{let v=r?Ne(r):null;try{v&&(window.localStorage.setItem(ls,v),_.slug=v),typeof u=="string"&&u.length>0&&(window.localStorage.setItem(cs,u),_.name=u)}catch{_.slug=v||_.slug,_.name=u||_.name}},fs=r=>{ot&&r&&(ot.textContent=r),ds&&r&&(ds.textContent=r),us&&r&&(us.textContent=r)},zt=r=>{Ms.forEach(u=>{let v=u.dataset.workspaceTab;if(!v)return;if(!r){u.href="#",u.classList.add("pointer-events-none","opacity-50","text-slate-400"),u.setAttribute("aria-disabled","true");return}let C=encodeURIComponent(Ae(r));u.href=`/admin/site/${C}/${v}`,u.classList.remove("pointer-events-none","opacity-50","text-slate-400"),u.removeAttribute("aria-disabled")})},St=(r,u={})=>{if(!r)return;let v=Ne(r),C=u.siteName||_.name||(ot==null?void 0:ot.dataset.defaultSiteName)||"";Ot.forEach(S=>{let k=Ne(S.dataset.siteCard||"")===v,h=S.querySelector("[data-site-active-badge]");k?(S.classList.add("border-[#9C6BFF]","ring-2","ring-[#9C6BFF]","shadow-md"),S.classList.remove("border-slate-200"),h==null||h.classList.remove("hidden"),C=S.dataset.siteName||C):(S.classList.remove("border-[#9C6BFF]","ring-2","ring-[#9C6BFF]","shadow-md"),S.classList.add("border-slate-200"),h==null||h.classList.add("hidden"))}),u.persist!==!1&&wt(v,u.siteName||C);let F=u.siteName||C;fs(F),zt(v)},Us=async(r,u)=>{let v=Ne(r);try{let C=await fetch("/api/sites/select",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({slug:v})});if(!C.ok){let h=await C.json().catch(()=>({}));N(h.message||"Impossible de s\xE9lectionner ce site.");return}let F=await C.json().catch(()=>({})),S=Ne(F.slug||v),V=F.name||u;wt(S,V),St(S,{siteName:V,persist:!1});let k=encodeURIComponent(Ae(S));window.location.href=`/admin/site/${k}/design`}catch(C){console.error("[admin] Impossible de s\xE9lectionner le site",C),N("Erreur inattendue lors de la s\xE9lection.")}},Hs=async()=>{try{let r=await fetch("/api/sites/current",{credentials:"same-origin"});if(!r.ok){r.status===404&&J&&(window.location.href="/admin/sites");return}let u=await r.json(),v=Ne(u.slug);wt(v,u.name),St(v,{siteName:u.name,persist:!1})}catch(r){console.warn("[admin] Impossible de r\xE9cup\xE9rer le site actif",r)}};(()=>{if(_.slug){St(_.slug,{siteName:_.name,persist:!1});return}let r=document.querySelector('[data-site-card][data-site-default="true"]')||Ot[0];r&&St(r.dataset.siteCard,{siteName:r.dataset.siteName||"",persist:!1})})(),Hs(),J?zt(J.slugValue):_.slug&&zt(_.slug),js.forEach(r=>{r.addEventListener("click",()=>{if(r.disabled)return;let u=r.dataset.siteSelect,v=r.dataset.siteSelectName||"Ce site";u&&(r.disabled=!0,Us(u,v).finally(()=>{r.disabled=!1}))})});let rt=r=>r.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),zs=r=>{let u=rt(r||"");return u?`/${u}`:""},Vs=()=>{ce&&(xt=document.activeElement,ce.classList.remove("hidden"),ce.classList.add("flex"),bt=!1,je==null||je.reset(),fe&&(fe.textContent=""),ke&&(ke.textContent=""),qe&&we&&(qe.value=rt(we.value)),document.addEventListener("keydown",ps),window.setTimeout(()=>{we==null||we.focus()},0))},Lt=()=>{ce&&(ce.classList.add("hidden"),ce.classList.remove("flex"),document.removeEventListener("keydown",ps),bt=!1,je==null||je.reset(),fe&&(fe.textContent=""),ke&&(ke.textContent=""),xt==null||xt.focus())};Ds.forEach(r=>{r.addEventListener("click",Vs)}),Os.forEach(r=>{r.addEventListener("click",Lt)}),ce==null||ce.addEventListener("click",r=>{r.target===ce&&Lt()}),we==null||we.addEventListener("input",()=>{qe&&(!bt||qe.value.trim().length===0)&&(qe.value=rt(we.value))}),qe==null||qe.addEventListener("input",()=>{bt=!0,fe&&(fe.textContent="")});let Js=()=>new Set(Array.from(Ot).map(r=>Ne(r.dataset.siteCard||"")));je==null||je.addEventListener("submit",async r=>{if(r.preventDefault(),!we||!qe)return;let u=(we.value||"").trim(),v=qe.value||"";v||(v=u);let C=zs(v);if(!u||!C){fe&&(fe.textContent="Nom et slug sont requis.");return}if(Js().has(C)){fe&&(fe.textContent="Ce slug est d\xE9j\xE0 utilis\xE9.");return}fe&&(fe.textContent=""),ke&&(ke.textContent=""),We&&(We.disabled=!0,We.textContent="Cr\xE9ation...");try{let S=await fetch("/api/sites",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:u,slug:C})});if(!S.ok){let M=await S.json().catch(()=>({})),L=M.message||"Impossible de cr\xE9er ce site.";ke&&(ke.textContent=L),M.field==="slug"&&fe&&(fe.textContent=L);return}let V=await S.json(),k=Ne((V==null?void 0:V.slug)||C),h=(V==null?void 0:V.name)||u;wt(k,h),Lt();let A=encodeURIComponent(Ae(k));window.location.href=`/admin/site/${A}/design`}catch(S){console.error("[admin] Impossible de cr\xE9er le site",S),ke&&(ke.textContent="Erreur inattendue. R\xE9essaie dans un instant.")}finally{We&&(We.disabled=!1,We.textContent="Cr\xE9er")}}),window.addEventListener("keydown",r=>{r.key==="Escape"&&(ce&&!ce.classList.contains("hidden")&&Lt(),Re&&!Re.classList.contains("hidden")&&gs(),blockDeleteModal&&!blockDeleteModal.classList.contains("hidden")&&closeBlockDeleteModal(),blockLibraryOpen&&closeBlockLibrary())});function Ws(){let r=window.location.pathname.match(/^\/admin\/site\/([^/]+)(?:\/([^/]+))?/);return r?{slugPart:decodeURIComponent(r[1]),slugValue:Ne(decodeURIComponent(r[1])),section:r[2]||"design"}:null}function Gs(){return document.querySelector("[data-page-list]")?"design":document.querySelector("[data-collection-list]")?"content":document.querySelector("[data-media-grid]")?"media":document.querySelector("[data-deploy-form]")?"deploy":null}function _s(){if(!Re){window.location.href="/admin/sites";return}Re.classList.remove("hidden"),Re.classList.add("flex")}function gs(){Re&&(Re.classList.add("hidden"),Re.classList.remove("flex"))}Ns.forEach(r=>{r.addEventListener("click",_s)}),Ps.forEach(r=>{r.addEventListener("click",gs)}),Rt==null||Rt.addEventListener("click",()=>{window.location.href="/admin/sites"});let at=(J==null?void 0:J.section)||Gs();at==="design"&&Ys(),at==="content"&&Ks(),at==="media"&&Qs(),at==="deploy"&&Xs(),at==="settings"&&Zs(),J&&_.name&&fs(_.name);function Ys(){let r=document.querySelectorAll("[data-page-list]");if(r.length===0)return;let u=document.querySelector("[data-active-page-title]"),v=document.querySelector("[data-active-page-slug]"),C=document.querySelector("[data-page-preview-tags]"),F=document.querySelector("[data-page-preview-frame]"),S=document.querySelector("[data-preview-open]"),V=document.querySelector("[data-preview-status]"),k=document.querySelector("[data-preview-highlight]"),h=document.querySelector("[data-seo-toggle]"),A=document.querySelector("[data-seo-panel]"),M=document.querySelector("[data-seo-close]"),L=document.querySelector("[data-seo-form]"),I=document.querySelector("[data-seo-title]"),y=document.querySelector("[data-seo-description]"),m=document.querySelector("[data-seo-feedback]"),w=document.querySelector("[data-seo-save]"),f=document.querySelector("[data-blocks-list]"),D=document.querySelector("[data-blocks-empty]"),oe=document.querySelector("[data-block-count]"),W=document.querySelector("[data-block-library-toggle]"),se=document.querySelector("[data-block-library]"),Y=document.querySelectorAll("[data-block-add]"),U=document.querySelector("[data-block-delete-modal]"),G=document.querySelector("[data-block-delete-confirm]"),H=document.querySelector("[data-block-delete-cancel]"),T=document.querySelector("[data-block-detail-empty]"),b=document.querySelector("[data-block-detail-status]"),g=document.querySelector("[data-block-editor]"),P=document.querySelector("[data-block-editor-block-name]"),l=document.querySelector("[data-block-editor-block-type]"),a=document.querySelector("[data-block-editor-unsupported]"),c=document.querySelector("[data-block-form]"),K=c?Array.from(c.querySelectorAll("[data-editor-section]")):[],O=c==null?void 0:c.querySelector('[name="collection-grid-collection"]'),Q=c==null?void 0:c.querySelector("[data-collection-selection-info]"),ge=document.querySelector("[data-block-form-cancel]"),ne=c==null?void 0:c.querySelector("[data-group-preview-mobile]"),ee=c==null?void 0:c.querySelector("[data-group-preview-desktop]"),ve={hero:{section:"hero",labelField:"title",descriptionField:"subtitle",fields:{title:"hero-title",subtitle:"hero-subtitle",ctaLabel:"hero-cta-label",ctaUrl:"hero-cta-url",image:"hero-image",align:"hero-align"}},paragraphe:{section:"paragraph",labelField:"title",descriptionField:"content",fields:{title:"paragraph-title",content:"paragraph-content",align:"paragraph-align"}},image:{section:"image",labelField:"alt",fields:{src:"image-src",alt:"image-alt",showCaption:"image-caption-toggle",caption:"image-caption"}},groupe:{section:"group",fields:{layout:"group-layout",columnsMobile:"group-columns-mobile",columnsDesktop:"group-columns-desktop"}},collectiongrid:{section:"collection",fields:{collectionId:"collection-grid-collection",limit:"collection-grid-limit"}},form:{section:"form",labelField:"formTitle",fields:{formTitle:"form-title",actionUrl:"form-action-url",method:"form-method",serviceName:"form-service-name",submitLabel:"form-submit-label",successMessage:"form-success-message"}},newsletterembed:{section:"newsletter",labelField:"title",fields:{title:"newsletter-title",serviceName:"newsletter-service-name",embedCode:"newsletter-embed-code"}}},Se={texte:"paragraphe",paragraph:"paragraphe",paragraphs:"paragraphe",paragraphes:"paragraphe",text:"paragraphe",hero:"hero",image:"image",groupe:"groupe",group:"groupe",collection:"collectiongrid",collectiongrid:"collectiongrid","collection-grid":"collectiongrid",form:"form",formulaire:"form",contact:"form",newsletterembed:"newsletterembed",newsletter:"newsletterembed",embed:"newsletterembed"},Le=(e,t)=>{if(!ne||!ee)return;let s=n=>Array.from({length:Number(n)||1}).map(()=>'<span class="block h-2 w-full rounded-full bg-slate-300"></span>').join("");ne.innerHTML=s(e),ee.innerHTML=s(t)},re=async()=>{if(!xe)return[];let e=await fetch(xe,{headers:{Accept:"application/json"}});if(!e.ok)throw new Error("Impossible de charger les pages.");let t=await e.json().catch(()=>[]);return Array.isArray(t)?t:[]},Pe=async({title:e,slug:t})=>{if(!xe)throw new Error("Site inconnu.");let s=await fetch(xe,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e,slug:t})});if(!s.ok){let n=await s.json().catch(()=>({}));throw new Error(n.message||"Impossible de cr\xE9er la page.")}return s.json().catch(()=>({}))},ae=async e=>{if(!(!xe||!(e!=null&&e.id)))try{let t=await fetch(`${xe}/${encodeURIComponent(e.id)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){let n=await t.json().catch(()=>({}));throw new Error(n.message||"Impossible de sauvegarder la page.")}let s=await t.json().catch(()=>({}));if(s!=null&&s.id){let n=pt(s);return Z=Z.map(d=>d.id===n.id?n:d),(q==null?void 0:q.id)===n.id&&(q=n),n}return s}catch(t){console.error("[design] Save page failed",t),N(t.message||"Sauvegarde impossible.")}},be=async()=>{if(!xe){Z=[],me=null,q=null,tt(Z,me),et(null),T==null||T.classList.remove("hidden"),g==null||g.classList.add("hidden");return}try{let e=await re();if(Z=(Array.isArray(e)?e:[]).map(t=>pt(t)),Z.length===0){me=null,q=null,tt(Z,me),et(null),T==null||T.classList.remove("hidden"),g==null||g.classList.add("hidden"),F&&(F.srcdoc=Ie());return}me=rn(Z),Be(me)}catch(e){console.error("[design] Impossible de charger les pages",e),N("Impossible de charger les pages.")}},Me=e=>(e||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),Ge=e=>{if(!e)return null;let t=Me(e.type),s=Se[t]||t;return ve[s]||null},_e=e=>{var s,n,d;if(!c||!g)return;e&&!e.settings&&(e.settings={});let t=Ge(e);if(P&&(P.textContent=(e==null?void 0:e.label)||"Bloc"),l&&(l.textContent=(e==null?void 0:e.type)||"Bloc"),!t){c.classList.add("hidden"),a==null||a.classList.remove("hidden"),c.dataset.blockId="";return}if(a==null||a.classList.add("hidden"),c.classList.remove("hidden"),c.reset(),c.dataset.blockId=e.id,K.forEach(E=>{E.dataset.editorSection===t.section?E.classList.remove("hidden"):E.classList.add("hidden")}),t.section==="collection"){let E=e.collectionId||((s=e.settings)==null?void 0:s.collectionId)||"";Bt(E)}if(Object.entries(t.fields).forEach(([E,z])=>{var Je;let X=c.querySelector(`[name="${z}"]`);if(!X)return;let le=(Je=e.settings)==null?void 0:Je[E];X.type==="checkbox"?X.checked=!!le:X.type==="number"?X.value=le!=null?le:1:(X.tagName,X.value=le!=null?le:"")}),t.section==="group"){let E=((n=c.querySelector('[name="group-columns-mobile"]'))==null?void 0:n.value)||"1",z=((d=c.querySelector('[name="group-columns-desktop"]'))==null?void 0:d.value)||"3";Le(E,z)}},Ye=e=>{if(!c||!e)return{};let t={};return Object.entries(e.fields).forEach(([s,n])=>{let d=c.querySelector(`[name="${n}"]`);if(d)if(d.type==="checkbox")t[s]=d.checked;else if(d.type==="number"){let E=Number(d.value);t[s]=Number.isFinite(E)?E:0}else d.tagName==="TEXTAREA"?t[s]=d.value||"":d.type==="select-one"?t[s]=d.value:t[s]=d.value||""}),t},Ce=e=>{if(V){if(!e){V.classList.add("hidden");return}V.classList.remove("hidden"),V.textContent=e}},Ke=e=>e?{id:e.id,title:e.title,slug:e.slug,badges:[...e.badges||[]],blocks:(e.blocks||[]).map(t=>{var s;return{id:t.id,type:t.type,label:t.label,status:t.status,description:t.description,props:t.props||[],settings:t.settings||{},collectionId:t.collectionId||((s=t.settings)==null?void 0:s.collectionId)||""}})}:null,Ie=()=>'<!DOCTYPE html><html><body style="font-family:Inter,sans-serif;padding:40px;color:#475569;background:#fff;">Pr\xE9paration de la pr\xE9visualisation\u2026</body></html>',i=e=>{if(!F||!e)return;let t=(J==null?void 0:J.slugValue)||_.slug||"",s={page:Ke(e),site:{title:_.name||"Site",slug:t}};Qt=!1,Ce("Actualisation\u2026"),F.srcdoc=Ie(),mt&&mt.abort();let n=new AbortController;mt=n,fetch("/api/preview",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s),signal:n.signal}).then(d=>{if(!d.ok)throw new Error("Preview error");return d.json()}).then(d=>{n.signal.aborted||(Zt=d.html||"",F.setAttribute("title",`Pr\xE9visualisation de la page ${e.title||""}`.trim()),F.srcdoc=Zt||Ie(),Ce("\xC0 jour"))}).catch(d=>{n.signal.aborted||(console.error("[preview] Impossible de rendre la page",d),Ce("Erreur preview"),F.srcdoc='<!DOCTYPE html><html><body style="font-family:Inter,sans-serif;padding:40px;color:#be123c;background:#fff;">Erreur lors du rendu de la pr\xE9visualisation.</body></html>')}).finally(()=>{mt===n&&(mt=null)})},x=e=>{if(e.preventDefault(),!q||!pe)return;let t=_t(),s=Ge(t);if(!t||!s)return;let n=Ye(s);if(s.section==="collection"){if(!n.collectionId){N("S\xE9lectionnez une collection.");return}n.limit=Math.max(1,Number(n.limit)||1)}let d=(q.blocks||[]).map(E=>{if(E.id!==t.id)return E;let z={...E.settings||{},...n},X={...E,settings:z};return s.labelField&&n[s.labelField]&&(X.label=n[s.labelField]),s.descriptionField&&n[s.descriptionField]&&(X.description=n[s.descriptionField]),s.section==="collection"&&(X.collectionId=n.collectionId,X.settings.collectionId=n.collectionId,X.settings.limit=n.limit),X});dt(d),N("Bloc mis \xE0 jour"),Be(q.id,{preserveBlock:!0})},R=document.querySelector("[data-page-drawer]"),B=document.querySelector("[data-page-drawer-backdrop]"),ze=document.querySelectorAll("[data-page-drawer-open]"),Xe=document.querySelectorAll("[data-page-drawer-close]"),Fe=document.querySelector("[data-add-page-toggle]"),he=document.querySelector("[data-add-page-form]"),o=document.querySelector("[data-add-page-title]"),p=document.querySelector("[data-add-page-slug]"),$=document.querySelector("[data-add-page-cancel]"),j=document.querySelector("[data-add-page-error]"),te=he==null?void 0:he.querySelector('[type="submit"]'),Ve=document.querySelector("[data-import-pages-toggle]"),ie=document.querySelector("[data-import-modal]"),Ue=document.querySelectorAll("[data-import-modal-close]"),de=document.querySelector("[data-import-dropzone]"),Ze=document.querySelector("[data-import-file-input]"),Qe=document.querySelector("[data-import-file-list]"),it=document.querySelector("[data-import-file-names]"),Ct=document.querySelector("[data-import-results]"),Et=document.querySelector("[data-import-results-content]"),ue=document.querySelector("[data-import-submit]"),hs=document.querySelectorAll("[data-import-tab]"),en=document.querySelectorAll("[data-import-panel]"),Vt=document.querySelector("[data-copy-template]"),ys=document.querySelector("[data-template-json]"),He=[],Te=document.querySelector("[data-delete-page-modal]"),vs=document.querySelector("[data-delete-page-name]"),Jt=document.querySelector("[data-delete-page-cancel]"),De=document.querySelector("[data-delete-page-confirm]"),lt=null,tn=Ae((J==null?void 0:J.slugValue)||_.slug||"default")||"default",sn=(J==null?void 0:J.slugValue)||_.slug||"",qt=Ae(sn)||"",xe=qt?`/api/sites/${encodeURIComponent(qt)}/pages`:null,bs=qt?`/api/sites/${encodeURIComponent(qt)}/collections`:null,xs={active:`clower:activePage:${tn}`},Wt=(e,t,s,n,d,E=[],z={})=>{let X={id:e,label:t,type:s,status:n,description:d,props:E,settings:{...z}};return X.settings.collectionId&&(X.collectionId=X.settings.collectionId),X},nn={hero:{type:"Hero",label:"Hero de page",description:"Section pleine largeur avec CTA principal.",status:"Brouillon",props:[{label:"CTA",value:"D\xE9couvrir"},{label:"Hauteur",value:"80vh"}],settings:{title:"Titre du hero",subtitle:"",ctaLabel:"D\xE9couvrir",ctaUrl:"#",image:"",align:"center"}},paragraph:{type:"Paragraphe",label:"Bloc \xE9ditorial",description:"Paragraphe libre pour raconter votre histoire.",status:"Brouillon",props:[{label:"Longueur",value:"150 mots"}],settings:{title:"Titre du paragraphe",content:"",align:"left"}},image:{type:"Image",label:"Bloc image",description:"Visuel seul avec l\xE9gende optionnelle.",status:"Brouillon",props:[{label:"Ratio",value:"16:9"},{label:"L\xE9gende",value:"Inactive"}],settings:{src:"",alt:"",showCaption:!1,caption:""}},group:{type:"Groupe",label:"Groupe de sections",description:"Conteneur pour imbriquer plusieurs sous-blocs.",status:"Brouillon",props:[{label:"Disposition",value:"Verticale"}],settings:{layout:"grid",columnsMobile:"1",columnsDesktop:"3"}},collectiongrid:{type:"CollectionGrid",label:"Grille de contenus",description:"Affiche automatiquement les items d\u2019une collection.",status:"Brouillon",settings:{collectionId:"",limit:6}},form:{type:"Form",label:"Formulaire de contact",description:"Formulaire avec envoi vers un service externe.",status:"Brouillon",settings:{formTitle:"Contactez-nous",actionUrl:"",method:"POST",serviceName:"",submitLabel:"Envoyer",successMessage:"Merci pour votre message !"}},newsletterembed:{type:"NewsletterEmbed",label:"Newsletter / Embed",description:"Int\xE9gration d'un formulaire newsletter externe (Brevo, Mailchimp\u2026).",status:"Brouillon",settings:{title:"Restez inform\xE9",serviceName:"",embedCode:""}}},on=e=>{try{window.localStorage.setItem(xs.active,e)}catch{}},rn=e=>{var t;try{let s=window.localStorage.getItem(xs.active);if(s&&e.some(n=>n.id===s))return s}catch{}return((t=e[0])==null?void 0:t.id)||null},an=e=>!e||e<=0?"0 bloc":e===1?"1 bloc":`${e} blocs`,ws=e=>{if(!e||e==="/")return"/";let t=rt(e.replace(/^\//,""));return t?`/${t}`:"/"},Gt=(e="page",t="block")=>`${e}-${t}-${Date.now().toString(36)}-${Math.floor(Math.random()*1e3)}`,Nn=(e,t)=>[Wt(Gt(e,"intro"),"Introduction","Paragraphe","Brouillon",`Paragraphe introductif pour "${t}".`,[{label:"Longueur",value:"2 paragraphes"}],{title:`Introduction \xE0 ${t}`,content:"Ajoutez votre premier paragraphe de pr\xE9sentation.",align:"left"}),Wt(Gt(e,"content"),"Zone de contenu","Groupe","Brouillon","Section principale \xE0 composer avec textes et visuels.",[{label:"Colonnes",value:"Auto"}],{layout:"grid",columnsMobile:"1",columnsDesktop:"2"})],ln=e=>{u&&(u.textContent=(e==null?void 0:e.title)||"Page"),v&&(v.textContent=(e==null?void 0:e.slug)||"/")},cn=e=>{if(!C)return;C.innerHTML="",(e&&e.badges&&e.badges.length>0?e.badges:["Structure en cours"]).forEach(s=>{let n=document.createElement("span");n.className="rounded-full bg-slate-100 px-3 py-1",n.textContent=s,C.appendChild(n)})},dn=e=>{switch((e||"").toLowerCase()){case"en ligne":return"bg-emerald-50 text-emerald-700";case"brouillon":return"bg-amber-50 text-amber-700";default:return"bg-slate-100 text-slate-600"}},kt=e=>{if(!(!T||!g)){if(!e){T.classList.remove("hidden"),g.classList.add("hidden"),a==null||a.classList.add("hidden"),c==null||c.classList.add("hidden"),b==null||b.classList.add("hidden");return}T.classList.add("hidden"),g.classList.remove("hidden"),b&&(e.status?(b.textContent=e.status,b.className=`rounded-full px-3 py-1 text-xs font-semibold ${dn(e.status)}`,b.classList.remove("hidden")):b.classList.add("hidden")),_e(e)}},ct=e=>{if(!F)return;let t=F.contentDocument;if(!t)return;t.querySelectorAll("[data-preview-block]").forEach(n=>{n.dataset.previewBlock===e?(n.classList.add("preview-block-active"),Qt&&e&&n.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})):n.classList.remove("preview-block-active")}),k&&(k.style.borderColor=e?"rgba(156, 107, 255, 0.5)":"transparent")},et=e=>{if(!f)return;f.innerHTML="";let t=(e==null?void 0:e.blocks)||[];if(oe&&(oe.textContent=an(t.length)),t.length===0){f.classList.add("hidden"),D==null||D.classList.remove("hidden");return}f.classList.remove("hidden"),D==null||D.classList.add("hidden"),t.forEach(s=>{var Ts;let n=s.id===pe,d=document.createElement("div");d.dataset.blockItem="true",d.dataset.blockId=s.id,d.setAttribute("role","option"),d.setAttribute("aria-selected",n?"true":"false"),d.tabIndex=0,d.className=["relative flex items-center gap-3 rounded-2xl border px-3 py-2 text-left transition",n?"bg-slate-100 border-[#9C6BFF]/40 shadow-sm":"border-slate-200 hover:border-[#9C6BFF]/40"].join(" ");let E=document.createElement("span");E.className=`absolute inset-y-2 left-0 w-1 rounded-full bg-[#9C6BFF] ${n?"":"hidden"}`,d.appendChild(E);let z=document.createElement("div");z.className="flex flex-1 items-center gap-3";let X=document.createElement("div");X.className="hidden lg:flex cursor-grab flex-shrink-0 items-center text-lg text-slate-400",X.innerHTML="&#8801;",z.appendChild(X);let le=document.createElement("div");le.className="flex-1";let Je=document.createElement("div");Je.className="flex items-center gap-2 text-[11px] uppercase tracking-wide text-slate-500";let ns=document.createElement("span");ns.className="rounded-full bg-slate-100 px-2 py-0.5 text-[10px] font-semibold text-slate-600",ns.textContent=s.type;let os=document.createElement("span");os.className="text-slate-400",os.textContent=s.status,Je.appendChild(ns),Je.appendChild(os);let rs=document.createElement("p");rs.className="mt-1 text-sm font-semibold text-slate-900";let Tn=s.settings&&s.settings.title||s.label||"Bloc sans titre";if(rs.textContent=Tn,le.appendChild(Je),le.appendChild(rs),(s.type||"").toLowerCase()==="collectiongrid"&&s.collectionId){let Ee=((Ts=$e.find(Bn=>Bn.id===s.collectionId))==null?void 0:Ts.name)||s.collectionId,as=document.createElement("p");as.className="text-xs text-slate-400",as.textContent=`Collection : ${Ee}`,le.appendChild(as)}z.appendChild(le),d.appendChild(z);let jt=document.createElement("div");jt.className="flex flex-col gap-1 text-xs text-slate-400";let Nt=document.createElement("div");Nt.className="flex items-center gap-1 lg:hidden";let ft=document.createElement("button");ft.type="button",ft.className="rounded-lg border border-slate-200 px-2 py-1 text-[11px] font-semibold text-slate-500",ft.textContent="\u2191",ft.addEventListener("click",Ee=>{Ee.stopPropagation(),Ss(s.id,-1)});let gt=document.createElement("button");gt.type="button",gt.className="rounded-lg border border-slate-200 px-2 py-1 text-[11px] font-semibold text-slate-500",gt.textContent="\u2193",gt.addEventListener("click",Ee=>{Ee.stopPropagation(),Ss(s.id,1)}),Nt.appendChild(ft),Nt.appendChild(gt),jt.appendChild(Nt);let ht=document.createElement("button");ht.type="button",ht.className="inline-flex items-center justify-center rounded-lg border border-transparent px-2 py-1 text-[12px] text-rose-500 hover:text-rose-700",ht.innerHTML="\u{1F5D1}\uFE0F",ht.addEventListener("click",Ee=>{Ee.stopPropagation(),gn(s.id)}),jt.appendChild(ht),d.appendChild(jt),d.addEventListener("click",()=>{st(s.id)}),d.addEventListener("keydown",Ee=>{(Ee.key==="Enter"||Ee.key===" ")&&(Ee.preventDefault(),st(s.id))}),f.appendChild(d)})},tt=(e,t)=>{r.forEach(s=>{s.innerHTML="",e.forEach(n=>{let d=document.createElement("li");d.className="flex items-center gap-1";let E=document.createElement("button");E.type="button",E.dataset.pageId=n.id,E.className=["flex-1 flex items-center gap-3 px-3 py-2 text-left transition",t===n.id?"bg-[#9C6BFF]/10 text-slate-900 border border-[#9C6BFF]/40 rounded-xl shadow-sm":"text-slate-700 hover:bg-slate-50 rounded-xl"].join(" "),t===n.id?E.setAttribute("aria-current","page"):E.removeAttribute("aria-current"),E.innerHTML=`
            <span class="flex h-9 w-9 items-center justify-center rounded-xl border border-slate-200 bg-white text-slate-500">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                <path d="M6.5 4.5h7l4 4v11a1 1 0 0 1-1 1h-10a1 1 0 0 1-1-1v-14a1 1 0 0 1 1-1Z" stroke="currentColor" stroke-width="1.4" stroke-linejoin="round"/>
                <path d="M13.5 4.5v4a1 1 0 0 0 1 1h3" stroke="currentColor" stroke-width="1.4"/>
              </svg>
            </span>
            <div class="flex flex-col">
              <span class="text-sm font-semibold">${n.title}</span>
              <span class="text-xs text-slate-500">${n.slug}</span>
            </div>
          `,E.addEventListener("click",()=>{Be(n.id),Kt()||Xt()}),d.appendChild(E);let z=document.createElement("button");z.type="button",z.className="flex-shrink-0 p-2 text-slate-400 hover:text-rose-600 hover:bg-rose-50 rounded-lg transition",z.title="Supprimer cette page",z.setAttribute("aria-label",`Supprimer ${n.title}`),z.innerHTML=`
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M3 6h18M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2m3 0v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6h14ZM10 11v6M14 11v6"/>
            </svg>
          `,z.addEventListener("click",X=>{X.stopPropagation(),Cn(n)}),d.appendChild(z),s.appendChild(d)})})},_t=()=>!q||!Array.isArray(q.blocks)?null:q.blocks.find(e=>e.id===pe)||null,st=e=>{if(!q)return;if(!e){pe=null,et(q),kt(null),ct(null);return}let t=q.blocks.find(s=>s.id===e)||q.blocks[0]||null;pe=(t==null?void 0:t.id)||null,et(q),kt(t),ct(pe)},dt=e=>{if(!q)return;let t={...q,blocks:e};hn(t)},At=()=>window.matchMedia("(min-width: 1024px)").matches;function Ss(e,t){if(!q||!e||!t)return;let s=[...q.blocks||[]],n=s.findIndex(z=>z.id===e);if(n<0)return;let d=n+t;if(d<0||d>=s.length)return;let[E]=s.splice(n,1);s.splice(d,0,E),dt(s),Be(q.id,{preserveBlock:!0}),st(E.id)}function un(e,t){if(!q||!e||!t||e===t)return;let s=[...q.blocks||[]],n=s.findIndex(z=>z.id===e),d=s.findIndex(z=>z.id===t);if(n<0||d<0)return;let[E]=s.splice(n,1);s.splice(d,0,E),dt(s),Be(q.id,{preserveBlock:!0}),st(E.id)}function Ls(){if(!f)return;let e=At();f.querySelectorAll("[data-block-item]").forEach(t=>{t.setAttribute("draggable",e?"true":"false")})}function It(){se&&(se.classList.add("hidden"),ut=!1)}function mn(){se&&(se.classList.remove("hidden"),ut=!0)}function pn(){ut?It():mn()}function fn(e){var E;if(!q||!e)return;let t=nn[e];if(!t)return;let s=(q.blocks||[]).filter(z=>z.type===t.type).length+1,n=Wt(Gt(q.id,e),`${t.label} ${s}`,t.type,t.status,t.description,t.props,t.settings||{});if((t.type||"").toLowerCase()==="collectiongrid"){let z=((E=$e[0])==null?void 0:E.id)||"";n.collectionId=z,n.settings.collectionId=z,n.settings.limit=n.settings.limit||6}let d=[...q.blocks||[],n];dt(d),Be(q.id,{preserveBlock:!0}),st(n.id),It(),N("Bloc ajout\xE9")}function Cs(e){var n,d;if(!q)return;let t=(q.blocks||[]).filter(E=>E.id!==e),s=e===pe?((n=t[0])==null?void 0:n.id)||null:pe||((d=t[0])==null?void 0:d.id)||null;dt(t),pe=s,Be(q.id,{preserveBlock:!0}),pe?st(pe):(kt(null),ct(null)),N("Bloc supprim\xE9")}function Yt(){U&&(U.classList.add("hidden"),U.classList.remove("flex"),Tt=null)}function gn(e){if(!U){Cs(e);return}Tt=e,U.classList.remove("hidden"),U.classList.add("flex")}let hn=e=>{if(!e)return;let t=pt(e);Z=Z.map(s=>s.id===t.id?t:s),q=t,ae(t)},Be=(e,t={})=>{var d,E;let s=Z.find(z=>z.id===e)||Z[0]||null;q=s?pt(s):null,me=(s==null?void 0:s.id)||null,(!t.preserveBlock||!q||!q.blocks.some(z=>z.id===pe))&&(pe=((E=(d=q==null?void 0:q.blocks)==null?void 0:d[0])==null?void 0:E.id)||null),me&&on(me),tt(Z,me),ln(q),cn(q),i(q),et(q),kt(_t()),ct(pe),Ls(),ut&&It()},Kt=()=>window.matchMedia("(min-width: 1024px)").matches,Es=()=>{R&&(Kt()?(R.classList.add("is-open"),B==null||B.classList.add("hidden"),document.body.classList.remove("overflow-hidden")):R.classList.remove("is-open"))},yn=()=>{!R||Kt()||(R.classList.add("is-open"),B==null||B.classList.remove("hidden"),document.body.classList.add("overflow-hidden"))},Xt=()=>{R&&(R.classList.remove("is-open"),B==null||B.classList.add("hidden"),document.body.classList.remove("overflow-hidden"))},vn=()=>{!he||!Fe||(he.classList.remove("hidden"),Fe.classList.add("hidden"),j&&(j.textContent=""),Ft=!1,o&&(o.value="",o.focus()),p&&(p.value=""))},qs=()=>{!he||!Fe||(he.classList.add("hidden"),Fe.classList.remove("hidden"),j&&(j.textContent=""),Ft=!1,he.reset())},bn=()=>{!o||!p||Ft&&p.value.trim().length>0||(p.value=ws(o.value))},Z=[],me=null,Ft=!1,q=null,pe=null,ut=!1,Tt=null,Zt="",Qt=!1,mt=null,$e=[],xn=e=>{let t={...e,props:Array.isArray(e.props)?e.props:[],settings:{...e.settings||{}}};return(t.type||"").toLowerCase()==="collectiongrid"&&(t.collectionId=t.collectionId||t.settings.collectionId||"",t.settings.collectionId=t.collectionId,t.settings.limit=t.settings.limit||6),t},pt=e=>{var t,s;return{...e,blocks:(e.blocks||[]).map(n=>xn(n)),seo:{title:(((t=e.seo)==null?void 0:t.title)||"").trim(),description:(((s=e.seo)==null?void 0:s.description)||"").trim()}}},wn=async()=>{if(!bs){$e=[],Bt();return}try{let e=await fetch(bs,{headers:{Accept:"application/json"}});if(!e.ok)throw new Error("Impossible de charger les collections.");let t=await e.json().catch(()=>[]);$e=Array.isArray(t)?t:[];let s=(O==null?void 0:O.value)||"";Bt(s)}catch(e){console.error("[design] collections load",e),N("Collections indisponibles."),$e=[],Bt()}},es=e=>{if(!Q)return;if(!e){Q.textContent=$e.length?"S\xE9lectionnez une collection pour afficher ses informations.":"Aucune collection disponible. Ajoutez-en depuis l\u2019onglet Contenus.";return}let t=$e.find(n=>n.id===e);if(!t){Q.textContent=`Collection ${e}`;return}let s=[];t.description&&s.push(t.description),t.type&&s.push(`Type\xA0: ${t.type}`),Q.textContent=s.join(" \xB7 ")||`Collection ${t.name||t.id}`},Bt=(e="")=>{if(O){if(O.innerHTML="",!$e.length){O.disabled=!0;let t=document.createElement("option");t.value="",t.textContent="Aucune collection disponible",O.appendChild(t),es("");return}if(O.disabled=!1,e&&!$e.some(t=>t.id===e)){let t=document.createElement("option");t.value=e,t.textContent=e,O.appendChild(t)}$e.forEach(t=>{let s=document.createElement("option");s.value=t.id;let n=t.name||t.id;s.textContent=t.type?`${n} \xB7 ${t.type}`:n,s.dataset.description=t.description||"",O.appendChild(s)}),e&&(O.value=e),es(O.value||"")}};wn(),Es(),ze.forEach(e=>{e.addEventListener("click",yn)}),Xe.forEach(e=>{e.addEventListener("click",Xt)}),B==null||B.addEventListener("click",Xt),window.addEventListener("resize",()=>{Es(),Ls()}),Fe==null||Fe.addEventListener("click",vn),$==null||$.addEventListener("click",qs),o==null||o.addEventListener("input",bn),p==null||p.addEventListener("input",()=>{j&&(j.textContent=""),Ft=!0}),he==null||he.addEventListener("submit",async e=>{if(e.preventDefault(),!xe){j&&(j.textContent="Aucun site s\xE9lectionn\xE9.");return}if(!o||!p)return;let t=o.value.trim(),s=ws(p.value.trim()||t);if(!t||!s){j&&(j.textContent="Titre et slug sont requis.");return}j&&(j.textContent=""),te&&(te.disabled=!0,te.textContent="Cr\xE9ation...");try{let n=await Pe({title:t,slug:s});if(!n||!n.id)throw new Error("R\xE9ponse invalide.");Z=[...Z,pt(n)],qs(),N("Page cr\xE9\xE9e"),Be(n.id)}catch(n){console.error("[design] create page failed",n),j&&(j.textContent=n.message||"Impossible de cr\xE9er la page.")}finally{te&&(te.disabled=!1,te.textContent="Cr\xE9er")}});let Sn=()=>{ie&&(ie.classList.remove("hidden"),ie.classList.add("flex"),He=[],ts(),Ct&&Ct.classList.add("hidden"),Et&&(Et.innerHTML=""),ue&&(ue.disabled=!0))},ks=()=>{ie&&(ie.classList.add("hidden"),ie.classList.remove("flex"),He=[])},ts=()=>{if(!(!Qe||!it)){if(He.length===0){Qe.classList.add("hidden"),ue&&(ue.disabled=!0);return}Qe.classList.remove("hidden"),it.innerHTML=He.map(e=>`<li class="flex items-center gap-2"><span class="text-lg">\u{1F4C4}</span>${e.name}</li>`).join(""),ue&&(ue.disabled=!1)}},As=e=>{let t=Array.from(e).filter(s=>s.type==="application/json"||s.name.endsWith(".json"));if(t.length===0){N("Aucun fichier JSON valide.");return}He=t,ts()},Ln=async()=>{if(!(!xe||He.length===0)){ue&&(ue.disabled=!0,ue.textContent="Import...");try{let e=[];for(let n of He){let d=await n.text();try{let E=JSON.parse(d);Array.isArray(E)?e.push(...E):e.push(E)}catch(E){N(`Erreur JSON dans ${n.name}`),console.error("[import] parse error",n.name,E)}}if(e.length===0){N("Aucune page valide \xE0 importer.");return}let t=await fetch(`${xe}/import`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)}),s=await t.json();if(!t.ok)throw new Error(s.message||"Erreur serveur");if(Ct&&Et){Ct.classList.remove("hidden");let n="";s.imported&&s.imported.length>0&&(n+=`<p class="text-green-700">\u2713 ${s.imported.length} page(s) import\xE9e(s)</p>`,n+='<ul class="ml-4 text-xs text-slate-600">',s.imported.forEach(d=>{n+=`<li>${d.title} (${d.action==="updated"?"mise \xE0 jour":"cr\xE9\xE9e"})</li>`}),n+="</ul>"),s.errors&&s.errors.length>0&&(n+=`<p class="text-rose-600 mt-2">\u2717 ${s.errors.length} erreur(s)</p>`,n+='<ul class="ml-4 text-xs text-rose-500">',s.errors.forEach(d=>{n+=`<li>${d.title}: ${d.error}</li>`}),n+="</ul>"),Et.innerHTML=n}s.imported&&s.imported.length>0&&(Z=await re(),tt(Z,me),Z.length>0&&!me&&Be(Z[0].id),N(`${s.imported.length} page(s) import\xE9e(s)`)),He=[],ts()}catch(e){console.error("[import] failed",e),N(e.message||"Erreur import")}finally{ue&&(ue.disabled=!1,ue.textContent="Importer")}}};Ve==null||Ve.addEventListener("click",Sn),Ue.forEach(e=>e.addEventListener("click",ks)),ie==null||ie.addEventListener("click",e=>{e.target===ie&&ks()}),Ze==null||Ze.addEventListener("change",e=>{As(e.target.files)}),de==null||de.addEventListener("dragover",e=>{e.preventDefault(),de.classList.add("border-[#9C6BFF]","bg-[#9C6BFF]/10")}),de==null||de.addEventListener("dragleave",e=>{e.preventDefault(),de.classList.remove("border-[#9C6BFF]","bg-[#9C6BFF]/10")}),de==null||de.addEventListener("drop",e=>{e.preventDefault(),de.classList.remove("border-[#9C6BFF]","bg-[#9C6BFF]/10"),As(e.dataTransfer.files)}),ue==null||ue.addEventListener("click",Ln),hs.forEach(e=>{e.addEventListener("click",()=>{let t=e.dataset.importTab;hs.forEach(s=>{s.dataset.importTab===t?(s.classList.add("bg-[#9C6BFF]","text-white"),s.classList.remove("border","border-slate-200","text-slate-700")):(s.classList.remove("bg-[#9C6BFF]","text-white"),s.classList.add("border","border-slate-200","text-slate-700"))}),en.forEach(s=>{s.dataset.importPanel===t?s.classList.remove("hidden"):s.classList.add("hidden")})})}),Vt==null||Vt.addEventListener("click",async()=>{if(!ys)return;let e=ys.textContent||"";try{await navigator.clipboard.writeText(e),N("Template copi\xE9 !")}catch(t){console.error("[import] copy failed",t),N("Erreur copie")}});let Cn=e=>{!Te||!e||(lt=e,vs&&(vs.textContent=e.title||e.id),Te.classList.remove("hidden"),Te.classList.add("flex"))},ss=()=>{Te&&(Te.classList.add("hidden"),Te.classList.remove("flex"),lt=null)},En=async()=>{if(!xe||!lt)return;let e=lt.id,t=lt.title||e;De&&(De.disabled=!0,De.textContent="Suppression...");try{let s=await fetch(`${xe}/${encodeURIComponent(e)}`,{method:"DELETE",credentials:"include"}),n=await s.json();if(!s.ok)throw new Error(n.message||"Erreur serveur");Z=Z.filter(d=>d.id!==e),me===e?Z.length>0?Be(Z[0].id):(me=null,q=null,tt(Z,null),et(null),T==null||T.classList.remove("hidden"),g==null||g.classList.add("hidden"),F&&(F.srcdoc=Ie())):tt(Z,me),ss(),N(`Page "${t}" supprim\xE9e`)}catch(s){console.error("[pages] delete failed",s),N(s.message||"Erreur suppression")}finally{De&&(De.disabled=!1,De.textContent="Supprimer")}};Jt==null||Jt.addEventListener("click",ss),De==null||De.addEventListener("click",En),Te==null||Te.addEventListener("click",e=>{e.target===Te&&ss()}),W==null||W.addEventListener("click",e=>{e.stopPropagation(),pn()}),document.addEventListener("click",e=>{ut&&(se!=null&&se.contains(e.target)||W!=null&&W.contains(e.target)||It())}),Y.forEach(e=>{e.addEventListener("click",t=>{t.stopPropagation();let s=e.dataset.blockAdd;fn(s)})}),H==null||H.addEventListener("click",()=>{Yt()}),G==null||G.addEventListener("click",()=>{Tt&&Cs(Tt),Yt()}),U==null||U.addEventListener("click",e=>{e.target===U&&Yt()}),c==null||c.addEventListener("input",e=>{var s,n;let t=e.target;if(!(!t||!t.name)&&(t.name==="group-columns-mobile"||t.name==="group-columns-desktop")){let d=((s=c.querySelector('[name="group-columns-mobile"]'))==null?void 0:s.value)||"1",E=((n=c.querySelector('[name="group-columns-desktop"]'))==null?void 0:n.value)||"3";Le(d,E)}}),O==null||O.addEventListener("change",e=>{let t=e.target;es((t==null?void 0:t.value)||"")}),c==null||c.addEventListener("submit",x),ge==null||ge.addEventListener("click",e=>{e.preventDefault();let t=_t();t&&_e(t)}),F==null||F.addEventListener("load",()=>{Qt=!0,Ce("\xC0 jour"),ct(pe)}),S==null||S.addEventListener("click",()=>{let e=window.open("","_blank");if(!e)return;e.opener=null;let t=e.document;t.open(),t.write(Zt||Ie()),t.close()});let Is=e=>{var t,s;A&&(e?(A.classList.remove("hidden"),q&&(I&&(I.value=((t=q.seo)==null?void 0:t.title)||""),y&&(y.value=((s=q.seo)==null?void 0:s.description)||""))):A.classList.add("hidden"))},$t=(e,t="muted")=>{if(!m)return;let s=t==="success"?"text-emerald-600":t==="error"?"text-rose-600":"text-slate-500";m.textContent=e||"",m.className=`text-sm ${s}`};h==null||h.addEventListener("click",()=>{let e=A&&!A.classList.contains("hidden");Is(!e)}),M==null||M.addEventListener("click",()=>Is(!1)),L==null||L.addEventListener("submit",async e=>{if(e.preventDefault(),!q){$t("Aucune page active.","error");return}w&&(w.disabled=!0),$t("");try{let t={title:((I==null?void 0:I.value)||"").trim(),description:((y==null?void 0:y.value)||"").trim()},s={...q,seo:t},n=await ae(s);n&&(q=n,$t("SEO enregistr\xE9.","success"),N("SEO mis \xE0 jour"),i(q))}catch(t){console.error("[seo] save failed",t),$t(t.message||"Erreur lors de la sauvegarde.","error")}finally{w&&(w.disabled=!1)}});let qn=e=>{let t=e.target.closest("[data-block-item]");!t||!At()||(Oe=t.dataset.blockId||null,Oe&&(e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/plain",Oe),t.classList.add("opacity-50")))},Fs=()=>{f==null||f.querySelectorAll("[data-block-item]").forEach(e=>e.classList.remove("opacity-50","ring-2","ring-[#9C6BFF]/50"))},kn=()=>{Oe=null,Fs()},An=e=>{if(!Oe||!At())return;let t=e.target.closest("[data-block-item]");!t||t.dataset.blockId===Oe||(e.preventDefault(),t.classList.add("ring-2","ring-[#9C6BFF]/50"))},In=e=>{let t=e.target.closest("[data-block-item]");t&&t.classList.remove("ring-2","ring-[#9C6BFF]/50")},Fn=e=>{if(!Oe||!At())return;e.preventDefault();let t=e.target.closest("[data-block-item]"),s=Oe;Oe=null,Fs();let n=(t==null?void 0:t.dataset.blockId)||null;n&&un(s,n)},Oe=null;f==null||f.addEventListener("dragstart",qn),f==null||f.addEventListener("dragend",kn),f==null||f.addEventListener("dragover",An),f==null||f.addEventListener("dragleave",In),f==null||f.addEventListener("drop",Fn),be()}function Ks(){var Xe,Fe,he;let r=document.querySelector("[data-collection-list]");if(!r)return;let u=document.querySelector("[data-collection-empty]"),v=document.querySelector("[data-collection-items-empty]"),C=document.querySelector("[data-item-table-wrapper]"),F=document.querySelector("[data-item-table-body]"),S=document.querySelector("[data-collection-title]"),V=document.querySelector("[data-collection-description]"),k=document.querySelector("[data-collection-drawer]"),h=document.querySelector("[data-collection-drawer-backdrop]"),A=document.querySelectorAll("[data-collection-drawer-open]"),M=document.querySelectorAll("[data-collection-drawer-close]"),L=document.querySelector("[data-item-add]"),I=document.querySelector("[data-item-detail-empty]"),y=document.querySelector("[data-item-form]"),m=y?{title:y.querySelector('[name="item-title"]'),slug:y.querySelector('[name="item-slug"]'),excerpt:y.querySelector('[name="item-excerpt"]'),content:y.querySelector('[name="item-content"]'),image:y.querySelector('[name="item-image"]'),status:y.querySelector('[name="item-status"]')}:{},w=document.querySelector("[data-item-status-badge]"),f=document.querySelector("[data-item-delete]"),D=document.querySelector("[data-item-delete-modal]"),oe=document.querySelector("[data-item-delete-cancel]"),W=document.querySelector("[data-item-delete-confirm]"),se=document.querySelector("[data-item-cancel]"),Y=document.querySelector("[data-item-save]"),U="rounded-full px-3 py-1 text-xs font-semibold",G=Ae((J==null?void 0:J.slugValue)||_.slug||""),H=G?`/api/sites/${encodeURIComponent(G)}/collections`:null,T=[],b=[],g=null,P=null,l=!1,a=!1,c=null,K=()=>{k&&(k.classList.add("is-open"),k.style.transform="translateX(0)",h==null||h.classList.remove("hidden"),document.body.classList.add("overflow-hidden"))},O=()=>{k&&(k.classList.remove("is-open"),k.style.transform="",h==null||h.classList.add("hidden"),document.body.classList.remove("overflow-hidden"))};A.forEach(o=>{o.addEventListener("click",K)}),M.forEach(o=>{o.addEventListener("click",O)}),h==null||h.addEventListener("click",O);let Q=o=>{let p=(o||"").trim();if(!p)return"";if(p==="/")return"/";let j=p.replace(/^\//,"").split("/").map(te=>rt(te||"")).filter(te=>te.length>0);return j.length?`/${j.join("/")}`:""},ge=o=>{if(!o)return"\u2014";let p=new Date(o);return Number.isNaN(p.getTime())?"\u2014":p.toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric"})},ne=()=>{let o=T.find(p=>p.id===g);S&&(S.textContent=(o==null?void 0:o.name)||"S\xE9lectionnez une collection"),V&&(V.textContent=(o==null?void 0:o.description)||"")},ee=o=>{v&&(v.textContent=o||(g?"Aucun item dans cette collection pour le moment.":"Choisissez une collection dans le panneau de gauche."))},ve=()=>{y&&(y.classList.add("hidden"),y.dataset.itemId=""),I==null||I.classList.remove("hidden"),w&&(w.className=`hidden ${U}`,w.textContent=""),f&&(f.disabled=!0)},Se=()=>{y&&(y.classList.remove("hidden"),I==null||I.classList.add("hidden"))},Le=()=>{L&&(L.disabled=!g,L.disabled?L.classList.add("opacity-60","pointer-events-none"):L.classList.remove("opacity-60","pointer-events-none"))},re=o=>{if(!w)return;if(!o){w.className=`hidden ${U}`,w.textContent="";return}let p=o.toLowerCase(),$="bg-slate-100 text-slate-600 border border-slate-200";p==="publi\xE9"||p==="publie"?$="bg-emerald-50 text-emerald-700 border border-emerald-100":p==="brouillon"&&($="bg-amber-50 text-amber-700 border border-amber-100"),w.className=`${U} ${$}`,w.textContent=o},Pe=()=>{if(r.innerHTML="",!T.length){u==null||u.classList.remove("hidden");return}u==null||u.classList.add("hidden"),T.forEach(o=>{let p=o.id===g,$=document.createElement("button");$.type="button",$.dataset.collectionId=o.id,$.className=["w-full rounded-xl border px-3 py-2 text-left transition focus:outline-none focus:ring-2 focus:ring-[#9C6BFF]/40",p?"bg-[#F7F0FF] border-[#9C6BFF]/40 text-slate-900":"border-slate-200 text-slate-700 hover:border-[#9C6BFF]/40"].join(" "),$.setAttribute("role","option"),p?$.setAttribute("aria-current","true"):$.removeAttribute("aria-current"),$.innerHTML=`
          <div class="flex items-center justify-between gap-2">
            <div>
              <p class="text-sm font-semibold">${o.name||o.id}</p>
              <p class="text-xs text-slate-500">${o.description||""}</p>
            </div>
            <span class="text-[11px] uppercase tracking-wide text-slate-400">${o.type||""}</span>
          </div>
        `,$.addEventListener("click",()=>{Ke(o.id),window.matchMedia("(min-width: 1024px)").matches||O()}),r.appendChild($)})},ae=()=>{if(F){if(F.innerHTML="",!b.length||!g){v==null||v.classList.remove("hidden"),ee(),C==null||C.classList.add("hidden");return}v==null||v.classList.add("hidden"),C==null||C.classList.remove("hidden"),b.forEach(o=>{let p=document.createElement("tr");p.dataset.itemId=o.id;let $=o.id===P&&!l;p.className=["cursor-pointer transition focus-within:bg-[#F7F0FF]/70 focus:outline-none",$?"bg-[#F7F0FF]/70":"hover:bg-slate-50"].join(" "),p.tabIndex=0,p.setAttribute("role","button"),$?p.setAttribute("aria-current","true"):p.removeAttribute("aria-current");let j=o.status||"Brouillon",te=j.toLowerCase(),Ve=te==="publi\xE9"||te==="publie"?"bg-emerald-50 text-emerald-700 border border-emerald-100":"bg-amber-50 text-amber-700 border border-amber-100";p.innerHTML=`
          <td class="px-4 py-3 align-top">
            <div class="flex flex-col">
              <span class="text-sm font-semibold text-slate-900">${o.title||"Sans titre"}</span>
              <span class="text-xs text-slate-500">${o.summary||o.excerpt||""}</span>
            </div>
          </td>
          <td class="px-4 py-3 align-top text-sm text-slate-600">${o.slug||""}</td>
          <td class="px-4 py-3 align-top">
            <span class="inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold ${Ve}">
              ${j}
            </span>
          </td>
          <td class="px-4 py-3 align-top text-sm text-slate-500">${ge(o.updatedAt||o.createdAt)}</td>
        `;let ie=()=>{be(o.id)};p.addEventListener("click",ie),p.addEventListener("keydown",Ue=>{(Ue.key==="Enter"||Ue.key===" ")&&(Ue.preventDefault(),ie())}),F.appendChild(p)})}},be=o=>{let p=b.find($=>$.id===o);p&&(P=p.id,l=!1,a=!0,Me(p),ae())},Me=o=>{if(!y||!o){ve();return}Se(),y.dataset.itemId=o.id,m.title&&(m.title.value=o.title||""),m.slug&&(m.slug.value=o.slug||""),m.excerpt&&(m.excerpt.value=o.summary||o.excerpt||""),m.content&&(m.content.value=o.content||""),m.image&&(m.image.value=o.image||""),m.status&&(m.status.value=o.status||"Brouillon"),re(o.status||"Brouillon"),f&&(f.disabled=!1)},Ge=()=>{var o;y&&(l=!0,P=null,a=!1,y.dataset.itemId="",y.reset(),m.status&&(m.status.value="Brouillon"),m.slug&&(m.slug.value=""),re("Brouillon"),Se(),f&&(f.disabled=!0),(o=m.title)==null||o.focus())},_e=()=>{var ie,Ue,de,Ze,Qe,it;let o=(((ie=m.title)==null?void 0:ie.value)||"").trim(),p=(((Ue=m.slug)==null?void 0:Ue.value)||"").trim(),$=(((de=m.excerpt)==null?void 0:de.value)||"").trim(),j=(((Ze=m.content)==null?void 0:Ze.value)||"").trim(),te=(((Qe=m.image)==null?void 0:Qe.value)||"").trim(),Ve=((it=m.status)==null?void 0:it.value)||"Brouillon";return{title:o,slug:Q(p||o),summary:$,excerpt:$,content:j,image:te,status:Ve}},Ye=o=>{Y&&(Y.disabled=o,Y.textContent=o?"Enregistrement\u2026":"Enregistrer"),f&&!l&&P&&(f.disabled=o)},Ce=async o=>{if(!H)return[];let p=await fetch(`${H}/${encodeURIComponent(o)}/items`,{headers:{Accept:"application/json"}});if(!p.ok){let j=await p.json().catch(()=>({}));throw new Error(j.message||"Impossible de charger les items.")}let $=await p.json().catch(()=>({}));return Array.isArray($.items)?$.items:[]},Ke=async o=>{if(o&&(g=o,P=null,l=!1,a=!1,ne(),Le(),Pe(),ve(),b=[],ae(),ee("Chargement des items\u2026"),v==null||v.classList.remove("hidden"),C==null||C.classList.add("hidden"),!!H))try{b=await Ce(o),ae(),b.length||ee()}catch(p){console.error("[content] items failed",p),N(p.message||"Impossible de charger les items."),b=[],ae()}},Ie=async(o,p)=>{if(!H)throw new Error("Site inconnu.");let $=await fetch(`${H}/${encodeURIComponent(o)}/items`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)});if(!$.ok){let j=await $.json().catch(()=>({}));throw new Error(j.message||"Impossible de cr\xE9er cet item.")}return $.json()},i=async(o,p,$)=>{if(!H)throw new Error("Site inconnu.");let j=await fetch(`${H}/${encodeURIComponent(o)}/items/${encodeURIComponent(p)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify($)});if(!j.ok){let te=await j.json().catch(()=>({}));throw new Error(te.message||"Impossible de sauvegarder cet item.")}return j.json()},x=async(o,p)=>{if(!H)throw new Error("Site inconnu.");let $=await fetch(`${H}/${encodeURIComponent(o)}/items/${encodeURIComponent(p)}`,{method:"DELETE"});if(!$.ok){let j=await $.json().catch(()=>({}));throw new Error(j.message||"Impossible de supprimer cet item.")}},R=async()=>{var o;if(!H){u==null||u.classList.remove("hidden"),g=null,b=[],ae(),ne(),Le();return}try{let p=await fetch(H,{headers:{Accept:"application/json"}});if(!p.ok)throw new Error("Impossible de charger les collections.");let $=await p.json().catch(()=>[]);if(T=Array.isArray($)?$:[],Pe(),T.length>0){let j=((o=T.find(te=>te.id===g))==null?void 0:o.id)||T[0].id;Ke(j)}else g=null,b=[],ne(),Le(),ae()}catch(p){console.error("[content] load collections",p),N(p.message||"Impossible de charger les collections.")}};L==null||L.addEventListener("click",()=>{if(!g){N("S\xE9lectionnez d\u2019abord une collection.");return}Ge(),ae()}),se==null||se.addEventListener("click",o=>{if(o.preventDefault(),l){l=!1,P=null,ve(),ae();return}if(P){let p=b.find($=>$.id===P);Me(p)}else ve()}),(Xe=m.status)==null||Xe.addEventListener("change",()=>{re(m.status.value)}),(Fe=m.title)==null||Fe.addEventListener("input",()=>{!l||!m.slug||a||(m.slug.value=Q(m.title.value))}),(he=m.slug)==null||he.addEventListener("input",()=>{l&&(a=!0)}),y==null||y.addEventListener("submit",async o=>{var $;if(o.preventDefault(),!g){N("S\xE9lectionnez une collection.");return}let p=_e();if(!p.title){N("Le titre est requis."),($=m.title)==null||$.focus();return}Ye(!0);try{let j;l||!P?(j=await Ie(g,p),b=[...b,j],N("Item cr\xE9\xE9")):(j=await i(g,P,p),b=b.map(te=>te.id===j.id?j:te),N("Item mis \xE0 jour")),l=!1,P=j.id,Me(j),ae()}catch(j){console.error("[content] save item failed",j),N(j.message||"Impossible de sauvegarder cet item.")}finally{Ye(!1)}});let B=()=>{D&&(D.classList.add("hidden"),D.classList.remove("flex"),c=null)},ze=()=>{!D||!P||(c=P,D.classList.remove("hidden"),D.classList.add("flex"))};f==null||f.addEventListener("click",o=>{o.preventDefault(),P&&ze()}),oe==null||oe.addEventListener("click",()=>{B()}),D==null||D.addEventListener("click",o=>{o.target===D&&B()}),W==null||W.addEventListener("click",async()=>{if(!c||!g){B();return}W.disabled=!0,W.textContent="Suppression\u2026";try{await x(g,c),b=b.filter(o=>o.id!==c),P===c&&(P=null,ve()),N("Item supprim\xE9"),ae()}catch(o){console.error("[content] delete item failed",o),N(o.message||"Impossible de supprimer cet item.")}finally{W.disabled=!1,W.textContent="Supprimer",B()}}),ne(),Le(),R()}function Xs(){let r=document.querySelector("[data-deploy-form]");if(!r)return;let u=document.querySelector("[data-deploy-protocol]"),v=document.querySelector("[data-deploy-host]"),C=document.querySelector("[data-deploy-port]"),F=document.querySelector("[data-deploy-user]"),S=document.querySelector("[data-deploy-password]"),V=document.querySelector("[data-deploy-show-password]"),k=document.querySelector("[data-deploy-remote-path]"),h=document.querySelector("[data-deploy-feedback]"),A=document.querySelector("[data-deploy-save]"),M=document.querySelector("[data-deploy-test]"),L=document.querySelector("[data-deploy-trigger]"),I=document.querySelector("[data-deploy-history]"),y=document.querySelector("[data-deploy-log]"),m=Ae((J==null?void 0:J.slugValue)||_.slug||""),w=m?`/api/sites/${encodeURIComponent(m)}/deploy-config`:null,f=m?`/api/sites/${encodeURIComponent(m)}/deploy`:null,D=m?`/api/sites/${encodeURIComponent(m)}/deploy-log`:null,oe=!1,W=null,se=l=>{let a=(l||"").trim();return a?a.startsWith("/")?a:`/${a}`:"/www"},Y=(l,a="muted")=>{if(!h)return;let c="inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold",K=a==="success"?"bg-emerald-50 text-emerald-700 border border-emerald-100":a==="error"?"bg-rose-50 text-rose-700 border border-rose-100":"bg-slate-50 text-slate-600 border border-slate-100";if(!l){h.textContent="",h.className="text-sm text-slate-500";return}let O=a==="success"?"\u2705":a==="error"?"\u274C":"\u2139\uFE0F";h.innerHTML=`<span class="${c} ${K}">${O}<span>${l}</span></span>`,h.className="text-sm"},U=(l=null)=>{W=l;let a=!!l,c='<svg class="h-4 w-4 animate-spin text-white" viewBox="0 0 24 24" fill="none" aria-hidden="true"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"></path></svg>';A&&(A.disabled=a,A.innerHTML=l==="save"?`<span class="inline-flex items-center gap-2">${c}<span>Enregistrement\u2026</span></span>`:"Enregistrer"),M&&(M.disabled=a,M.innerHTML=l==="test"?'<span class="inline-flex items-center gap-2"><span class="h-4 w-4 animate-spin rounded-full border-2 border-slate-200 border-t-slate-600"></span><span>Test en cours\u2026</span></span>':"Tester la connexion"),L&&(L.disabled=a&&l!==null,L.innerHTML=l==="deploy"?'<span class="inline-flex items-center gap-2"><span class="h-4 w-4 animate-spin rounded-full border-2 border-white/60 border-t-white"></span><span>D\xE9ploiement\u2026</span></span>':"D\xE9ployer maintenant")},G=l=>{u&&(u.value=l.protocol||"sftp"),v&&(v.value=l.host||""),C&&(C.value=l.port||""),F&&(F.value=l.user||""),k&&(k.value=l.remotePath||"/www"),oe=!!l.hasPassword,S&&(S.value="",S.placeholder=oe?"Non affich\xE9":"Mot de passe")},H=(l=[])=>{if(I){if(I.innerHTML="",!l.length){let a=document.createElement("li");a.className="text-slate-500",a.textContent="Aucun d\xE9ploiement pour le moment.",I.appendChild(a);return}l.forEach(a=>{let c=document.createElement("li");c.className="flex items-center justify-between gap-2 rounded-xl border border-slate-200 px-3 py-2";let K=a.status==="success"?'<span class="rounded-full bg-emerald-50 px-2 py-0.5 text-[11px] font-semibold text-emerald-700">Succ\xE8s</span>':'<span class="rounded-full bg-rose-50 px-2 py-0.5 text-[11px] font-semibold text-rose-700">\xC9chec</span>',O=a.finishedAt||a.startedAt||"",Q=a.durationMs&&Number(a.durationMs)>=0?`${Math.round(Number(a.durationMs)/1e3)}s`:"";c.innerHTML=`
          <div class="space-y-1">
            <div class="flex items-center gap-2">${K}<span class="text-xs text-slate-500">${O}</span></div>
            <p class="text-sm text-slate-800">${a.message||""}</p>
          </div>
          <div class="text-xs text-slate-500">${Q}</div>
        `,c.dataset.deployId=a.id||"",c.addEventListener("click",()=>{a.logs&&y&&(y.textContent=a.logs.join(`
`))}),I.appendChild(c)})}},T=(l=[])=>{y&&(y.textContent=l.length?l.join(`
`):"Aucun log pour le moment.")},b=async()=>{var l;if(D)try{let a=await fetch(D,{headers:{Accept:"application/json"}});if(!a.ok){if(a.status===404){H([]),T(["API d\xE9ploiement indisponible (red\xE9marre le serveur)."]);return}throw new Error("Impossible de charger l\u2019historique.")}let c=await a.json().catch(()=>({})),K=Array.isArray(c.entries)?c.entries:[];H(K),(l=K[0])!=null&&l.logs&&T(K[0].logs)}catch(a){console.error("[deploy] history failed",a)}},g=async()=>{if(!w){Y("Aucun site actif s\xE9lectionn\xE9.","error");return}U("load");try{let l=await fetch(w,{headers:{Accept:"application/json"}}),a=await l.json().catch(()=>({}));l.ok?(G(a||{}),Y("Configuration charg\xE9e.","muted")):(G(a||{}),Y(a.message||"Configuration par d\xE9faut charg\xE9e.","muted"))}catch(l){console.error("[deploy] load failed",l),Y(l.message||"Erreur lors du chargement.","error")}finally{U(null)}},P=()=>{let l={protocol:(u==null?void 0:u.value)||"sftp",host:(v==null?void 0:v.value.trim())||"",port:Number(C==null?void 0:C.value)||void 0,user:(F==null?void 0:F.value.trim())||"",remotePath:se((k==null?void 0:k.value)||"/www")},a=(S==null?void 0:S.value)||"";return a.trim().length>0&&(l.password=a),l};r.addEventListener("submit",async l=>{if(l.preventDefault(),!w){Y("Aucun site actif s\xE9lectionn\xE9.","error");return}let a=P();U("save");try{let c=await fetch(w,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!c.ok){let O=await c.json().catch(()=>({}));throw new Error(O.message||"Sauvegarde impossible.")}let K=await c.json();G(K||{}),Y("Configuration enregistr\xE9e.","success"),N("Configuration d\xE9ploiement sauvegard\xE9e")}catch(c){console.error("[deploy] save failed",c),Y(c.message||"Erreur lors de la sauvegarde.","error")}finally{U(null)}}),M==null||M.addEventListener("click",async()=>{if(!w){Y("Aucun site actif s\xE9lectionn\xE9.","error");return}let l=P();if(!l.host||!l.user||!l.remotePath){Y("Remplissez les champs requis avant de tester.","error");return}U("test");try{let a=await fetch(`${w}/test`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}),c=await a.json().catch(()=>({}));if(!a.ok||c.success===!1){Y(c.message||"Test de connexion \xE9chou\xE9.","error");return}Y(c.message||"Connexion OK.","success"),N("Test de connexion r\xE9ussi")}catch(a){console.error("[deploy] test failed",a),Y(a.message||"Test de connexion \xE9chou\xE9.","error")}finally{U(null)}}),L==null||L.addEventListener("click",async()=>{if(!f){Y("Aucun site actif s\xE9lectionn\xE9.","error");return}U("deploy"),T(["D\xE9ploiement en cours\u2026"]);try{let l=await fetch(f,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(P())}),a=await l.json().catch(()=>({}));if(!l.ok){if(l.status===404){Y("API d\xE9ploiement indisponible (red\xE9marre le serveur).","error"),T(["API d\xE9ploiement indisponible (red\xE9marre le serveur)."]);return}throw T(a.logs||[]),new Error(a.message||"D\xE9ploiement \xE9chou\xE9.")}T(a.logs||[]),await b(),N("D\xE9ploiement termin\xE9")}catch(l){console.error("[deploy] run failed",l),Y(l.message||"D\xE9ploiement \xE9chou\xE9.","error")}finally{U(null)}}),V==null||V.addEventListener("change",()=>{S&&(S.type=V.checked?"text":"password")}),g(),b()}function Zs(){let r=document.querySelectorAll("[data-settings-tab]"),u=document.querySelectorAll("[data-settings-panel]"),v=document.querySelector("[data-admin-password-form]"),C=document.querySelector("[data-site-config-form]"),F=document.querySelector("[data-site-config-feedback]"),S=document.querySelector("[data-theme-form]"),V=k=>{r.forEach(h=>{let A=h.dataset.settingsTab===k;h.setAttribute("aria-selected",A?"true":"false"),h.classList.toggle("bg-[#9C6BFF]",A),h.classList.toggle("text-white",A)}),u.forEach(h=>{h.classList.toggle("hidden",h.dataset.settingsPanel!==k)})};if(r.forEach(k=>{k.addEventListener("click",()=>V(k.dataset.settingsTab||"account"))}),V("account"),v){let k=v.querySelector("[data-admin-password-feedback]"),h=v.querySelector("[data-admin-password-submit]"),A=(M,L="muted")=>{if(!k)return;let I=L==="success"?"text-emerald-600":L==="error"?"text-rose-600":"text-slate-500";k.textContent=M||"",k.className=`text-sm ${I}`};v.addEventListener("submit",async M=>{M.preventDefault();let L=new FormData(v),I=L.get("currentPassword")||"",y=L.get("newPassword")||"",m=L.get("confirmPassword")||"";if(!I||!y||!m){A("Compl\xE8te tous les champs.","error");return}h&&(h.disabled=!0),A("");try{let w=await fetch("/api/admin/password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentPassword:I,newPassword:y,confirmPassword:m})}),f=await w.json().catch(()=>({}));if(!w.ok||f.success===!1)throw new Error(f.message||"Impossible de mettre \xE0 jour le mot de passe.");A(f.message||"Mot de passe mis \xE0 jour.","success"),v.reset()}catch(w){console.error("[settings] change password failed",w),A(w.message||"Erreur lors de la mise \xE0 jour.","error")}finally{h&&(h.disabled=!1)}})}if(C){let k=C.querySelector("[data-site-name]"),h=C.querySelector("[data-site-language]"),A=C.querySelector("[data-site-tagline]"),M=C.querySelector("[data-site-save]"),L=(w,f="muted")=>{if(!F)return;let D=f==="success"?"text-emerald-600":f==="error"?"text-rose-600":"text-slate-500";F.textContent=w||"",F.className=`text-sm ${D}`},I=Ae((J==null?void 0:J.slugValue)||_.slug||""),y=I?`/api/sites/${encodeURIComponent(I)}/config/site`:null,m=async()=>{if(y)try{let w=await fetch(y,{headers:{Accept:"application/json"}});if(!w.ok)return;let f=await w.json().catch(()=>({}));k&&(k.value=f.name||""),h&&(h.value=f.language||"fr"),A&&(A.value=f.tagline||"")}catch(w){console.error("[settings] load site config failed",w)}};C.addEventListener("submit",async w=>{if(w.preventDefault(),!y){L("Aucun site actif.","error");return}if(!(k!=null&&k.value.trim())){L("Nom requis.","error");return}M&&(M.disabled=!0),L("");try{let f={name:(k==null?void 0:k.value)||"",language:(h==null?void 0:h.value)||"fr",tagline:(A==null?void 0:A.value)||""},D=await fetch(y,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)}),oe=await D.json().catch(()=>({}));if(!D.ok||oe.success===!1)throw new Error(oe.message||"Sauvegarde impossible.");L(oe.message||"Param\xE8tres enregistr\xE9s.","success")}catch(f){console.error("[settings] save site config failed",f),L(f.message||"Erreur lors de la sauvegarde.","error")}finally{M&&(M.disabled=!1)}}),m()}if(S){let k=Ae((J==null?void 0:J.slugValue)||_.slug||""),h=k?`/api/sites/${encodeURIComponent(k)}/config/theme`:null,A={primary:S.querySelector("[data-theme-primary]"),secondary:S.querySelector("[data-theme-secondary]"),accent:S.querySelector("[data-theme-accent]"),background:S.querySelector("[data-theme-background]"),text:S.querySelector("[data-theme-text]")},M=S.querySelector("[data-theme-headings]"),L=S.querySelector("[data-theme-body]"),I=S.querySelector("[data-theme-radius-small]"),y=S.querySelector("[data-theme-radius-medium]"),m=S.querySelector("[data-theme-radius-large]"),w=S.querySelector("[data-theme-preview]"),f=S.querySelector("[data-theme-feedback]"),D=S.querySelector("[data-theme-apply]"),oe=["slate","gray","zinc","neutral","stone","red","orange","amber","yellow","lime","green","emerald","teal","cyan","sky","blue","indigo","violet","purple","fuchsia","pink","rose"],W=["50","100","200","300","400","500","600","700","800","900"],se=oe.flatMap(b=>W.map(g=>`${b}-${g}`)),Y=()=>{Object.values(A).forEach(b=>{!b||b.options.length||se.forEach(g=>{let P=document.createElement("option");P.value=g;let[l,a]=g.split("-");P.textContent=`${l.charAt(0).toUpperCase()+l.slice(1)} ${a}`,b.appendChild(P)})})},U=(b,g="muted")=>{if(!f)return;let P=g==="success"?"text-emerald-600":g==="error"?"text-rose-600":"text-slate-500";f.textContent=b||"",f.className=`text-sm ${P}`},G=()=>{var g,P,l,a,c;if(!w)return;let b=K=>{if(!K)return null;let[O,Q]=K.split("-"),ne={slate:"#e2e8f0",gray:"#d1d5db",zinc:"#d4d4d8",neutral:"#d4d4d4",stone:"#d6d3d1",red:"#ef4444",orange:"#f97316",amber:"#f59e0b",yellow:"#eab308",lime:"#84cc16",green:"#22c55e",emerald:"#10b981",teal:"#14b8a6",cyan:"#06b6d4",sky:"#0ea5e9",blue:"#3b82f6",indigo:"#6366f1",violet:"#8b5cf6",purple:"#a855f7",fuchsia:"#d946ef",pink:"#ec4899",rose:"#f43f5e"}[O];if(!ne)return null;let ee=Number(Q)||500,ve=Math.min(Math.max((ee-50)/900,0),1),Se=be=>be.match(/[A-Fa-f0-9]{2}/g).map(Me=>parseInt(Me,16)),[Le,re,Pe]=Se(ne.replace("#","")),ae=be=>Math.round(255-(255-be)*ve);return`rgb(${ae(Le)}, ${ae(re)}, ${ae(Pe)})`};w.style.setProperty("--color-primary",b((g=A.primary)==null?void 0:g.value)||"#9C6BFF"),w.style.setProperty("--color-secondary",b((P=A.secondary)==null?void 0:P.value)||"#0EA5E9"),w.style.setProperty("--color-accent",b((l=A.accent)==null?void 0:l.value)||"#F97316"),w.style.setProperty("--color-background",b((a=A.background)==null?void 0:a.value)||"#FFFFFF"),w.style.setProperty("--color-text",b((c=A.text)==null?void 0:c.value)||"#0F172A"),w.style.setProperty("--font-headings",(M==null?void 0:M.value)||"Inter, sans-serif"),w.style.setProperty("--font-body",(L==null?void 0:L.value)||"Inter, sans-serif"),w.style.setProperty("--radius-small",(I==null?void 0:I.value)||"8px"),w.style.setProperty("--radius-medium",(y==null?void 0:y.value)||"16px"),w.style.setProperty("--radius-large",(m==null?void 0:m.value)||"24px"),w.style.borderRadius=(y==null?void 0:y.value)||"16px"},H=(b,g)=>{A[b]&&(A[b].value=g)};Object.keys(A).forEach(b=>{var g;(g=A[b])==null||g.addEventListener("change",G)}),[M,L,I,y,m].forEach(b=>{b==null||b.addEventListener("change",G)});let T=async()=>{var b,g,P,l,a,c,K,O,Q,ge;if(h)try{let ne=await fetch(h,{headers:{Accept:"application/json"}});if(!ne.ok)return;let ee=await ne.json().catch(()=>({}));H("primary",((b=ee.colors)==null?void 0:b.primary)||"violet-500"),H("secondary",((g=ee.colors)==null?void 0:g.secondary)||"indigo-400"),H("accent",((P=ee.colors)==null?void 0:P.accent)||"emerald-500"),H("background",((l=ee.colors)==null?void 0:l.background)||"slate-50"),H("text",((a=ee.colors)==null?void 0:a.text)||"slate-900"),M&&(M.value=((c=ee.typography)==null?void 0:c.headings)||"Inter, sans-serif"),L&&(L.value=((K=ee.typography)==null?void 0:K.body)||"Inter, sans-serif"),I&&(I.value=((O=ee.radius)==null?void 0:O.small)||"8px"),y&&(y.value=((Q=ee.radius)==null?void 0:Q.medium)||"16px"),m&&(m.value=((ge=ee.radius)==null?void 0:ge.large)||"24px"),G()}catch(ne){console.error("[settings] load theme failed",ne)}};Y(),D==null||D.addEventListener("click",async b=>{var P,l,a,c,K;if(b.preventDefault(),!h){U("Aucun site actif.","error");return}let g={colors:{primary:((P=A.primary)==null?void 0:P.value)||"violet-500",secondary:((l=A.secondary)==null?void 0:l.value)||"indigo-400",accent:((a=A.accent)==null?void 0:a.value)||"emerald-500",background:((c=A.background)==null?void 0:c.value)||"slate-50",text:((K=A.text)==null?void 0:K.value)||"slate-900"},typography:{headings:(M==null?void 0:M.value)||"Inter, sans-serif",body:(L==null?void 0:L.value)||"Inter, sans-serif"},radius:{small:(I==null?void 0:I.value)||"8px",medium:(y==null?void 0:y.value)||"16px",large:(m==null?void 0:m.value)||"24px"}};D.disabled=!0,U("");try{let O=await fetch(h,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)}),Q=await O.json().catch(()=>({}));if(!O.ok||Q.success===!1)throw new Error(Q.message||"Application du th\xE8me \xE9chou\xE9e.");U(Q.message||"Th\xE8me appliqu\xE9.","success"),G()}catch(O){console.error("[settings] apply theme failed",O),U(O.message||"Erreur lors de l\u2019application du th\xE8me.","error")}finally{D.disabled=!1}}),Y(),T(),G()}}function Qs(){let r=document.querySelector("[data-media-grid]");if(!r)return;let u=document.querySelector("[data-media-empty]"),v=document.querySelector("[data-media-count]"),C=document.querySelector("[data-media-filter-type]"),F=document.querySelector("[data-media-detail-empty]"),S=document.querySelector("[data-media-detail]"),V=document.querySelector("[data-media-detail-preview]"),k=document.querySelector("[data-media-detail-name]"),h=document.querySelector("[data-media-detail-type]"),A=document.querySelector("[data-media-detail-size]"),M=document.querySelector("[data-media-detail-path]"),L=document.querySelector("[data-media-detail-used]"),I=document.querySelector("[data-media-alt-edit]"),y=document.querySelector("[data-media-save]"),m=document.querySelector("[data-media-delete]"),w=document.querySelector("[data-media-delete-modal]"),f=document.querySelector("[data-media-delete-cancel]"),D=document.querySelector("[data-media-delete-confirm]"),oe=document.querySelector("[data-media-upload-open]"),W=document.querySelector("[data-media-file-input]"),se=document.querySelector("[data-media-upload-status]"),Y=Ae((J==null?void 0:J.slugValue)||_.slug||""),U=Y?`/api/sites/${encodeURIComponent(Y)}/media`:null,G=[],H=[],T=null,b=null,g=null,P=!1,l=!1,a=!1,c=null,K=i=>{let x=(i.type||"").toLowerCase(),R=(i.filename||"").toLowerCase();return x.includes("image")||/\.(png|jpe?g|webp|svg|gif)$/i.test(R)?"image":x.includes("pdf")||x.includes("doc")||/\.(pdf|docx?)$/i.test(R)?"document":x.includes("video")||/\.(mp4|mov|webm)$/i.test(R)?"video":"other"},O=i=>K(i)==="image",Q=i=>{if(i.type)return i.type.toUpperCase();let x=(i.filename||"").split(".").pop();return x?x.toUpperCase():"FILE"},ge=i=>!i||i<=0?"\u2014":i<1024?`${i} o`:i<1024*1024?`${(i/1024).toFixed(1)} ko`:`${(i/(1024*1024)).toFixed(1)} Mo`,ne=()=>{S==null||S.classList.add("hidden"),F==null||F.classList.remove("hidden"),ee(),T=null,l=!1,re(!1),V&&(V.innerHTML='<span class="text-slate-400 text-sm">Aucun m\xE9dia s\xE9lectionn\xE9</span>'),k&&(k.textContent=""),h&&(h.textContent=""),A&&(A.textContent=""),I&&(I.value=""),M&&(M.textContent=""),L&&(L.innerHTML="")},ee=()=>{g=null,a=!1,P=!1,c&&(URL.revokeObjectURL(c),c=null),se&&(se.textContent="Aucun fichier s\xE9lectionn\xE9."),W&&(W.value="")},ve=()=>{v&&(H.length?H.length===1?v.textContent="1 m\xE9dia":v.textContent=`${H.length} m\xE9dias`:v.textContent="0 m\xE9dia")},Se=()=>{if(r.innerHTML="",!H.length){u==null||u.classList.remove("hidden"),ne();return}u==null||u.classList.add("hidden"),H.forEach(i=>{let x=document.createElement("button");x.type="button",x.dataset.mediaId=i.id;let R=i.id===T;x.className=["group relative flex flex-col rounded-2xl border px-3 py-3 text-left transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[#9C6BFF]",R?"border-[#9C6BFF] bg-[#F7F0FF]/60 shadow-sm":"border-slate-200 hover:border-[#9C6BFF]/40"].join(" ");let B=O(i)?`<img src="${i.path}" alt="${i.alt||i.filename}" class="h-full w-full object-cover" />`:'<div class="flex h-full w-full items-center justify-center text-3xl text-slate-400">\u{1F4C4}</div>';x.innerHTML=`
          <div class="relative aspect-[4/3] overflow-hidden rounded-xl bg-slate-100">
            ${B}
          </div>
          <div class="mt-2 space-y-1">
            <p class="text-sm font-semibold text-slate-900 truncate">${i.filename}</p>
            <p class="text-xs text-slate-500">
              ${Q(i)} \xB7 ${ge(i.size)}
            </p>
          </div>
        `,i.id===b&&(x.classList.add("ring-2","ring-[#9C6BFF]"),window.setTimeout(()=>{x.classList.remove("ring-2","ring-[#9C6BFF]")},1600)),x.addEventListener("click",()=>Pe(i.id)),r.appendChild(x)}),b=null},Le=i=>{if(L){if(L.innerHTML="",!i.usedIn||i.usedIn.length===0){let x=document.createElement("li");x.textContent="Non utilis\xE9",x.className="text-xs text-slate-400",L.appendChild(x);return}i.usedIn.forEach(x=>{let R=document.createElement("li");R.textContent=x,R.className="text-xs text-slate-600",L.appendChild(R)})}},re=i=>{if(y){if(a){y.textContent=i?"T\xE9l\xE9versement\u2026":"T\xE9l\xE9verser",y.disabled=i||!g,m&&m.classList.add("hidden");return}y.textContent=i?"Enregistrement\u2026":"Enregistrer",y.disabled=i||!l,m&&(m.classList.remove("hidden"),m.disabled=!T)}},Pe=i=>{let x=G.find(R=>R.id===i);if(!x){ne(),Se();return}ee(),T=x.id,l=!1,re(!1),Se(),F==null||F.classList.add("hidden"),S==null||S.classList.remove("hidden"),V&&(O(x)?V.innerHTML=`<img src="${x.path}" alt="${x.alt||x.filename}" class="h-full w-full rounded-2xl object-cover" />`:V.innerHTML='<div class="flex h-full w-full flex-col items-center justify-center gap-1 text-slate-400"><span class="text-3xl">\u{1F4C4}</span><span class="text-xs font-semibold">Document</span></div>'),k&&(k.textContent=x.filename||"Fichier"),h&&(h.textContent=Q(x)),A&&(A.textContent=ge(x.size)),I&&(I.value=x.alt||""),M&&(M.textContent=x.path||"\u2014"),Le(x)},ae=i=>{if(i){if(a=!0,l=!1,T=null,F==null||F.classList.add("hidden"),S==null||S.classList.remove("hidden"),c&&URL.revokeObjectURL(c),c=URL.createObjectURL(i),V&&(V.innerHTML=`<img src="${c}" alt="${i.name}" class="h-full w-full rounded-2xl object-cover" />`),k&&(k.textContent=i.name),h&&(h.textContent=Q({type:i.type,filename:i.name})),A&&(A.textContent=ge(i.size)),I&&!I.value.trim()&&(I.value=i.name.replace(/\.[^.]+$/,"").replace(/[-_]/g," ")),M&&(M.textContent="En attente de t\xE9l\xE9versement"),L){L.innerHTML="";let x=document.createElement("li");x.textContent="Non utilis\xE9",x.className="text-xs text-slate-400",L.appendChild(x)}re(!1)}},be=()=>{let i=(C==null?void 0:C.value)||"all";i==="all"?H=[...G]:H=G.filter(x=>x.groupType===i),H.some(x=>x.id===T)||ne(),ve(),Se()},Me=async()=>{if(!U){u==null||u.classList.remove("hidden");return}try{let i=await fetch(U,{headers:{Accept:"application/json"}});if(!i.ok)throw new Error("Impossible de charger les m\xE9dias.");let x=await i.json().catch(()=>({items:[]}));G=Array.isArray(x.items)?x.items.map(R=>({...R,groupType:K(R)})):[],be()}catch(i){console.error("[media] load failed",i),N(i.message||"Impossible de charger les m\xE9dias."),G=[],be()}};C==null||C.addEventListener("change",()=>{be()}),I==null||I.addEventListener("input",()=>{if(a){re(!1);return}T&&(l=!0,re(!1))});let Ge=i=>{if(i){if(!i.type.startsWith("image/")){N("Seules les images sont accept\xE9es pour le moment.");return}if(i.size>4*1024*1024){N("Fichier trop volumineux (4 Mo max).");return}g=i,ae(i),se&&(se.textContent=`${i.name} \xB7 ${ge(i.size)}`)}},_e=i=>new Promise((x,R)=>{let B=new FileReader;B.onload=()=>{let ze=B.result||"",[,Xe=""]=String(ze).split(",");x(Xe)},B.onerror=()=>R(new Error("Impossible de lire ce fichier.")),B.readAsDataURL(i)}),Ye=async()=>{if(!(!g||!U)){P=!0,re(!0);try{let i=await _e(g),x={filename:g.name,type:g.type,size:g.size,alt:(I==null?void 0:I.value)||"",data:i},R=await fetch(U,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(x)});if(!R.ok){let ze=await R.json().catch(()=>({}));throw new Error(ze.message||"Upload impossible.")}let B=await R.json();B.groupType=K(B),G=[...G,B],b=B.id,be(),Pe(B.id),N("M\xE9dia ajout\xE9"),ee()}catch(i){console.error("[media] upload failed",i),N(i.message||"Impossible de t\xE9l\xE9verser ce m\xE9dia.")}finally{P=!1,g=null,re(!1)}}};oe==null||oe.addEventListener("click",()=>W==null?void 0:W.click()),W==null||W.addEventListener("change",()=>{W.files&&W.files[0]&&Ge(W.files[0])});let Ce=()=>{w&&(w.classList.add("hidden"),w.classList.remove("flex"))},Ke=()=>{if(!(!T||a)){if(w){w.classList.remove("hidden"),w.classList.add("flex");return}window.confirm("Supprimer ce m\xE9dia ?")&&Ie()}},Ie=async()=>{if(!T||!U){Ce();return}let i=()=>{m&&(m.disabled=!0),D&&(D.disabled=!0,D.textContent="Suppression\u2026")},x=()=>{m&&(m.disabled=!1),D&&(D.disabled=!1,D.textContent="Supprimer")};i();try{let R=await fetch(`${U}/${encodeURIComponent(T)}`,{method:"DELETE"});if(!R.ok){let B=await R.json().catch(()=>({}));throw new Error(B.message||"Suppression impossible.")}G=G.filter(B=>B.id!==T),H=H.filter(B=>B.id!==T),N("M\xE9dia supprim\xE9"),ne(),ve(),Se()}catch(R){console.error("[media] delete failed",R),N(R.message||"Impossible de supprimer ce m\xE9dia.")}finally{x(),Ce()}};f==null||f.addEventListener("click",Ce),w==null||w.addEventListener("click",i=>{i.target===w&&Ce()}),D==null||D.addEventListener("click",()=>Ie()),m==null||m.addEventListener("click",Ke),y==null||y.addEventListener("click",async()=>{if(a){Ye();return}if(!(!T||!U||!I)){re(!0);try{let i={alt:I.value||""},x=await fetch(`${U}/${encodeURIComponent(T)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!x.ok){let B=await x.json().catch(()=>({}));throw new Error(B.message||"Impossible de mettre \xE0 jour ce m\xE9dia.")}let R=await x.json();G=G.map(B=>B.id===T?{...B,...R}:B),H=H.map(B=>B.id===T?{...B,...R}:B),l=!1,re(!1),N("M\xE9dia mis \xE0 jour")}catch(i){console.error("[media] update failed",i),N(i.message||"\xC9chec de la mise \xE0 jour."),re(!1)}}}),Me()}});})();
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vY29yZS9zY3JpcHRzL2FkbWluLmpzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuICBjb25zb2xlLmxvZygnW2FkbWluXSBBdGVsaWVyIGNoYXJnXHUwMEU5Jyk7XG4gIGNvbnN0IGxvZ291dEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWxvZ291dF0nKTtcbiAgaWYgKGxvZ291dEJ1dHRvbikge1xuICAgIGxvZ291dEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGxvZ291dEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBmZXRjaCgnL2FwaS9sb2dvdXQnLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbYWRtaW5dIEltcG9zc2libGUgZGUgc2UgZFx1MDBFOWNvbm5lY3RlcicsIGVycik7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvYWRtaW4vaW5kZXguaHRtbCc7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBjb25zdCBzaWRlYmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRtaW4tc2lkZWJhcl0nKTtcbiAgY29uc3Qgc2lkZWJhck92ZXJsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZG1pbi1zaWRlYmFyLW92ZXJsYXldJyk7XG4gIGNvbnN0IHNpZGViYXJUb2dnbGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYWRtaW4tc2lkZWJhci10b2dnbGVdJyk7XG4gIGNvbnN0IHNpZGViYXJDbG9zZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1hZG1pbi1zaWRlYmFyLWNsb3NlXScpO1xuICBjb25zdCBib2R5ID0gZG9jdW1lbnQuYm9keTtcbiAgbGV0IHNpZGViYXJPcGVuID0gZmFsc2U7XG5cbiAgY29uc3QgYXBwbHlTaWRlYmFyU3RhdGUgPSAoKSA9PiB7XG4gICAgaWYgKCFzaWRlYmFyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGlzRGVza3RvcCA9IHdpbmRvdy5tYXRjaE1lZGlhKCcobWluLXdpZHRoOiAxMDI0cHgpJykubWF0Y2hlcztcbiAgICBpZiAoaXNEZXNrdG9wKSB7XG4gICAgICBzaWRlYmFyLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgc2lkZWJhck92ZXJsYXk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHNpZGViYXJPcGVuKSB7XG4gICAgICBzaWRlYmFyLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgc2lkZWJhck92ZXJsYXk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgYm9keS5jbGFzc0xpc3QuYWRkKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2lkZWJhci5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIHNpZGViYXJPdmVybGF5Py5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnb3ZlcmZsb3ctaGlkZGVuJyk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IG9wZW5TaWRlYmFyID0gKCkgPT4ge1xuICAgIHNpZGViYXJPcGVuID0gdHJ1ZTtcbiAgICBhcHBseVNpZGViYXJTdGF0ZSgpO1xuICB9O1xuXG4gIGNvbnN0IGNsb3NlU2lkZWJhciA9ICgpID0+IHtcbiAgICBzaWRlYmFyT3BlbiA9IGZhbHNlO1xuICAgIGFwcGx5U2lkZWJhclN0YXRlKCk7XG4gIH07XG5cbiAgaWYgKHNpZGViYXIgJiYgc2lkZWJhclRvZ2dsZXMubGVuZ3RoID4gMCkge1xuICAgIHNpZGViYXJUb2dnbGVzLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlblNpZGViYXIpO1xuICAgIH0pO1xuICAgIHNpZGViYXJDbG9zZUJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZVNpZGViYXIpO1xuICAgIH0pO1xuICAgIHNpZGViYXJPdmVybGF5Py5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlU2lkZWJhcik7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGFwcGx5U2lkZWJhclN0YXRlKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VzY2FwZScgJiYgc2lkZWJhck9wZW4pIHtcbiAgICAgICAgY2xvc2VTaWRlYmFyKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgYXBwbHlTaWRlYmFyU3RhdGUoKTtcbiAgfVxuXG4gIGNvbnN0IEFDVElWRV9TSVRFX0tFWSA9ICdjbG93ZXI6Y3VycmVudFNpdGUnO1xuICBjb25zdCBBQ1RJVkVfU0lURV9OQU1FX0tFWSA9ICdjbG93ZXI6Y3VycmVudFNpdGVOYW1lJztcbiAgY29uc3Qgc3RvcmVkU2l0ZSA9IHsgc2x1ZzogbnVsbCwgbmFtZTogJycgfTtcbiAgY29uc3QgbG9hZFN0b3JlZFNpdGUgPSAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHN0b3JlZFNpdGUuc2x1ZyA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShBQ1RJVkVfU0lURV9LRVkpO1xuICAgICAgc3RvcmVkU2l0ZS5uYW1lID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKEFDVElWRV9TSVRFX05BTUVfS0VZKSB8fCAnJztcbiAgICB9IGNhdGNoIHtcbiAgICAgIHN0b3JlZFNpdGUuc2x1ZyA9IG51bGw7XG4gICAgICBzdG9yZWRTaXRlLm5hbWUgPSAnJztcbiAgICB9XG4gIH07XG4gIGxvYWRTdG9yZWRTaXRlKCk7XG5cbiAgY29uc3Qgc2l0ZUNhcmRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtc2l0ZS1jYXJkXScpO1xuICBjb25zdCBzaXRlU2VsZWN0QnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXNpdGUtc2VsZWN0XScpO1xuICBjb25zdCBzaXRlTmFtZUxhYmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY3VycmVudC1zaXRlLW5hbWVdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZVNpdGVMYWJlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXdvcmtzcGFjZS1zaXRlLW5hbWVdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZUJhY2tOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtd29ya3NwYWNlLWJhY2stbmFtZV0nKTtcbiAgY29uc3Qgd29ya3NwYWNlQmFja01vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtd29ya3NwYWNlLWJhY2stbW9kYWxdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZUJhY2tCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtd29ya3NwYWNlLWJhY2tdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZUJhY2tDYW5jZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS13b3Jrc3BhY2UtYmFjay1jYW5jZWxdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZUJhY2tDb25maXJtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtd29ya3NwYWNlLWJhY2stY29uZmlybV0nKTtcbiAgY29uc3Qgd29ya3NwYWNlTmF2TGlua3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS13b3Jrc3BhY2UtdGFiXScpO1xuICBjb25zdCBzaXRlVG9hc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLXRvYXN0XScpO1xuICBjb25zdCBzaXRlVG9hc3RNZXNzYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS10b2FzdC1tZXNzYWdlXScpO1xuICBjb25zdCBzaXRlQ3JlYXRlQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXNpdGUtY3JlYXRlXScpO1xuICBjb25zdCBzaXRlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLW1vZGFsXScpO1xuICBjb25zdCBzaXRlRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtZm9ybV0nKTtcbiAgY29uc3Qgc2l0ZU5hbWVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtbmFtZV0nKTtcbiAgY29uc3Qgc2l0ZVNsdWdJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtc2x1Z10nKTtcbiAgY29uc3Qgc2l0ZVNsdWdFcnJvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtc2x1Zy1lcnJvcl0nKTtcbiAgY29uc3Qgc2l0ZU1vZGFsRXJyb3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLW1vZGFsLWVycm9yXScpO1xuICBjb25zdCBzaXRlTW9kYWxDYW5jZWxCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtc2l0ZS1tb2RhbC1jYW5jZWxdJyk7XG4gIGNvbnN0IHNpdGVNb2RhbFN1Ym1pdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtbW9kYWwtc3VibWl0XScpO1xuICBjb25zdCB3b3Jrc3BhY2VDb250ZXh0ID0gZ2V0V29ya3NwYWNlQ29udGV4dCgpO1xuICBsZXQgc2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gIGxldCBsYXN0Rm9jdXNlZEVsZW1lbnQgPSBudWxsO1xuICBsZXQgdG9hc3RUaW1lb3V0SWQgPSBudWxsO1xuXG4gIGNvbnN0IGZvY3VzYWJsZVNlbGVjdG9yID1cbiAgICAnYVtocmVmXSwgYnV0dG9uOm5vdChbZGlzYWJsZWRdKSwgdGV4dGFyZWEsIGlucHV0LCBzZWxlY3QsIFt0YWJpbmRleF06bm90KFt0YWJpbmRleD1cIi0xXCJdKSc7XG4gIGNvbnN0IHRyYXBGb2N1cyA9IChldmVudCkgPT4ge1xuICAgIGlmICghc2l0ZU1vZGFsIHx8IHNpdGVNb2RhbC5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpIHx8IGV2ZW50LmtleSAhPT0gJ1RhYicpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZm9jdXNhYmxlRWxlbWVudHMgPSBBcnJheS5mcm9tKHNpdGVNb2RhbC5xdWVyeVNlbGVjdG9yQWxsKGZvY3VzYWJsZVNlbGVjdG9yKSkuZmlsdGVyKFxuICAgICAgKGVsKSA9PiAhZWwuaGFzQXR0cmlidXRlKCdkaXNhYmxlZCcpICYmICFlbC5nZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJyksXG4gICAgKTtcbiAgICBpZiAoZm9jdXNhYmxlRWxlbWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGZpcnN0ID0gZm9jdXNhYmxlRWxlbWVudHNbMF07XG4gICAgY29uc3QgbGFzdCA9IGZvY3VzYWJsZUVsZW1lbnRzW2ZvY3VzYWJsZUVsZW1lbnRzLmxlbmd0aCAtIDFdO1xuICAgIGlmIChldmVudC5zaGlmdEtleSkge1xuICAgICAgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IGZpcnN0KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGxhc3QuZm9jdXMoKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IGxhc3QpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBmaXJzdC5mb2N1cygpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBzaG93VG9hc3QgPSAobWVzc2FnZSkgPT4ge1xuICAgIGlmICghc2l0ZVRvYXN0IHx8ICFzaXRlVG9hc3RNZXNzYWdlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHNpdGVUb2FzdE1lc3NhZ2UudGV4dENvbnRlbnQgPSBtZXNzYWdlO1xuICAgIHNpdGVUb2FzdC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICBpZiAodG9hc3RUaW1lb3V0SWQpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0b2FzdFRpbWVvdXRJZCk7XG4gICAgfVxuICAgIHRvYXN0VGltZW91dElkID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBzaXRlVG9hc3QuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgfSwgMjUwMCk7XG4gIH07XG5cbiAgZnVuY3Rpb24gZW5zdXJlTGVhZGluZ1NsYXNoKHNsdWcpIHtcbiAgICBpZiAoIXNsdWcpIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgcmV0dXJuIHNsdWcuc3RhcnRzV2l0aCgnLycpID8gc2x1ZyA6IGAvJHtzbHVnfWA7XG4gIH1cblxuICBmdW5jdGlvbiBzdHJpcExlYWRpbmdTbGFzaChzbHVnKSB7XG4gICAgcmV0dXJuIHNsdWc/LnJlcGxhY2UoL15cXC8vLCAnJykgfHwgJyc7XG4gIH1cblxuICBjb25zdCBwZXJzaXN0U2l0ZVN0YXRlID0gKHNsdWcsIG5hbWUpID0+IHtcbiAgICBjb25zdCBub3JtYWxpemVkU2x1ZyA9IHNsdWcgPyBlbnN1cmVMZWFkaW5nU2xhc2goc2x1ZykgOiBudWxsO1xuICAgIHRyeSB7XG4gICAgICBpZiAobm9ybWFsaXplZFNsdWcpIHtcbiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKEFDVElWRV9TSVRFX0tFWSwgbm9ybWFsaXplZFNsdWcpO1xuICAgICAgICBzdG9yZWRTaXRlLnNsdWcgPSBub3JtYWxpemVkU2x1ZztcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgbmFtZSA9PT0gJ3N0cmluZycgJiYgbmFtZS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShBQ1RJVkVfU0lURV9OQU1FX0tFWSwgbmFtZSk7XG4gICAgICAgIHN0b3JlZFNpdGUubmFtZSA9IG5hbWU7XG4gICAgICB9XG4gICAgfSBjYXRjaCB7XG4gICAgICBzdG9yZWRTaXRlLnNsdWcgPSBub3JtYWxpemVkU2x1ZyB8fCBzdG9yZWRTaXRlLnNsdWc7XG4gICAgICBzdG9yZWRTaXRlLm5hbWUgPSBuYW1lIHx8IHN0b3JlZFNpdGUubmFtZTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgdXBkYXRlU2l0ZUxhYmVscyA9IChuYW1lKSA9PiB7XG4gICAgaWYgKHNpdGVOYW1lTGFiZWwgJiYgbmFtZSkge1xuICAgICAgc2l0ZU5hbWVMYWJlbC50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgfVxuICAgIGlmICh3b3Jrc3BhY2VTaXRlTGFiZWwgJiYgbmFtZSkge1xuICAgICAgd29ya3NwYWNlU2l0ZUxhYmVsLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICB9XG4gICAgaWYgKHdvcmtzcGFjZUJhY2tOYW1lICYmIG5hbWUpIHtcbiAgICAgIHdvcmtzcGFjZUJhY2tOYW1lLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgdXBkYXRlV29ya3NwYWNlTmF2TGlua3MgPSAoc2x1ZykgPT4ge1xuICAgIHdvcmtzcGFjZU5hdkxpbmtzLmZvckVhY2goKGxpbmspID0+IHtcbiAgICAgIGNvbnN0IHRhYiA9IGxpbmsuZGF0YXNldC53b3Jrc3BhY2VUYWI7XG4gICAgICBpZiAoIXRhYikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIXNsdWcpIHtcbiAgICAgICAgbGluay5ocmVmID0gJyMnO1xuICAgICAgICBsaW5rLmNsYXNzTGlzdC5hZGQoJ3BvaW50ZXItZXZlbnRzLW5vbmUnLCAnb3BhY2l0eS01MCcsICd0ZXh0LXNsYXRlLTQwMCcpO1xuICAgICAgICBsaW5rLnNldEF0dHJpYnV0ZSgnYXJpYS1kaXNhYmxlZCcsICd0cnVlJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHNsdWdQYXRoID0gZW5jb2RlVVJJQ29tcG9uZW50KHN0cmlwTGVhZGluZ1NsYXNoKHNsdWcpKTtcbiAgICAgIGxpbmsuaHJlZiA9IGAvYWRtaW4vc2l0ZS8ke3NsdWdQYXRofS8ke3RhYn1gO1xuICAgICAgbGluay5jbGFzc0xpc3QucmVtb3ZlKCdwb2ludGVyLWV2ZW50cy1ub25lJywgJ29wYWNpdHktNTAnLCAndGV4dC1zbGF0ZS00MDAnKTtcbiAgICAgIGxpbmsucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWRpc2FibGVkJyk7XG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3QgYXBwbHlBY3RpdmVTaXRlID0gKHNsdWcsIG9wdGlvbnMgPSB7fSkgPT4ge1xuICAgIGlmICghc2x1Zykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBub3JtYWxpemVkU2x1ZyA9IGVuc3VyZUxlYWRpbmdTbGFzaChzbHVnKTtcbiAgICBsZXQgYWN0aXZlU2l0ZU5hbWUgPVxuICAgICAgb3B0aW9ucy5zaXRlTmFtZSB8fCBzdG9yZWRTaXRlLm5hbWUgfHwgc2l0ZU5hbWVMYWJlbD8uZGF0YXNldC5kZWZhdWx0U2l0ZU5hbWUgfHwgJyc7XG4gICAgc2l0ZUNhcmRzLmZvckVhY2goKGNhcmQpID0+IHtcbiAgICAgIGNvbnN0IGNhcmRTbHVnID0gZW5zdXJlTGVhZGluZ1NsYXNoKGNhcmQuZGF0YXNldC5zaXRlQ2FyZCB8fCAnJyk7XG4gICAgICBjb25zdCBpc0FjdGl2ZSA9IGNhcmRTbHVnID09PSBub3JtYWxpemVkU2x1ZztcbiAgICAgIGNvbnN0IGJhZGdlID0gY2FyZC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLWFjdGl2ZS1iYWRnZV0nKTtcbiAgICAgIGlmIChpc0FjdGl2ZSkge1xuICAgICAgICBjYXJkLmNsYXNzTGlzdC5hZGQoJ2JvcmRlci1bIzlDNkJGRl0nLCAncmluZy0yJywgJ3JpbmctWyM5QzZCRkZdJywgJ3NoYWRvdy1tZCcpO1xuICAgICAgICBjYXJkLmNsYXNzTGlzdC5yZW1vdmUoJ2JvcmRlci1zbGF0ZS0yMDAnKTtcbiAgICAgICAgYmFkZ2U/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICBhY3RpdmVTaXRlTmFtZSA9IGNhcmQuZGF0YXNldC5zaXRlTmFtZSB8fCBhY3RpdmVTaXRlTmFtZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhcmQuY2xhc3NMaXN0LnJlbW92ZSgnYm9yZGVyLVsjOUM2QkZGXScsICdyaW5nLTInLCAncmluZy1bIzlDNkJGRl0nLCAnc2hhZG93LW1kJyk7XG4gICAgICAgIGNhcmQuY2xhc3NMaXN0LmFkZCgnYm9yZGVyLXNsYXRlLTIwMCcpO1xuICAgICAgICBiYWRnZT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKG9wdGlvbnMucGVyc2lzdCAhPT0gZmFsc2UpIHtcbiAgICAgIHBlcnNpc3RTaXRlU3RhdGUobm9ybWFsaXplZFNsdWcsIG9wdGlvbnMuc2l0ZU5hbWUgfHwgYWN0aXZlU2l0ZU5hbWUpO1xuICAgIH1cbiAgICBjb25zdCBmaW5hbE5hbWUgPSBvcHRpb25zLnNpdGVOYW1lIHx8IGFjdGl2ZVNpdGVOYW1lO1xuICAgIHVwZGF0ZVNpdGVMYWJlbHMoZmluYWxOYW1lKTtcbiAgICB1cGRhdGVXb3Jrc3BhY2VOYXZMaW5rcyhub3JtYWxpemVkU2x1Zyk7XG4gIH07XG5cbiAgY29uc3Qgc2VsZWN0U2l0ZSA9IGFzeW5jIChzbHVnLCBuYW1lKSA9PiB7XG4gICAgY29uc3Qgbm9ybWFsaXplZFNsdWcgPSBlbnN1cmVMZWFkaW5nU2xhc2goc2x1Zyk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvc2l0ZXMvc2VsZWN0Jywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgc2x1Zzogbm9ybWFsaXplZFNsdWcgfSksXG4gICAgICB9KTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgc2hvd1RvYXN0KHBheWxvYWQubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBzXHUwMEU5bGVjdGlvbm5lciBjZSBzaXRlLicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgY29uc3QgZmluYWxTbHVnID0gZW5zdXJlTGVhZGluZ1NsYXNoKHBheWxvYWQuc2x1ZyB8fCBub3JtYWxpemVkU2x1Zyk7XG4gICAgICBjb25zdCBmaW5hbE5hbWUgPSBwYXlsb2FkLm5hbWUgfHwgbmFtZTtcbiAgICAgIHBlcnNpc3RTaXRlU3RhdGUoZmluYWxTbHVnLCBmaW5hbE5hbWUpO1xuICAgICAgYXBwbHlBY3RpdmVTaXRlKGZpbmFsU2x1ZywgeyBzaXRlTmFtZTogZmluYWxOYW1lLCBwZXJzaXN0OiBmYWxzZSB9KTtcbiAgICAgIGNvbnN0IHNsdWdQYXRoID0gZW5jb2RlVVJJQ29tcG9uZW50KHN0cmlwTGVhZGluZ1NsYXNoKGZpbmFsU2x1ZykpO1xuICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBgL2FkbWluL3NpdGUvJHtzbHVnUGF0aH0vZGVzaWduYDtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1thZG1pbl0gSW1wb3NzaWJsZSBkZSBzXHUwMEU5bGVjdGlvbm5lciBsZSBzaXRlJywgZXJyKTtcbiAgICAgIHNob3dUb2FzdCgnRXJyZXVyIGluYXR0ZW5kdWUgbG9ycyBkZSBsYSBzXHUwMEU5bGVjdGlvbi4nKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3Qgc3luY0FjdGl2ZVNpdGVGcm9tU2VydmVyID0gYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL3NpdGVzL2N1cnJlbnQnLCB7IGNyZWRlbnRpYWxzOiAnc2FtZS1vcmlnaW4nIH0pO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDQgJiYgd29ya3NwYWNlQ29udGV4dCkge1xuICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9hZG1pbi9zaXRlcyc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3Qgc2l0ZSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWRTbHVnID0gZW5zdXJlTGVhZGluZ1NsYXNoKHNpdGUuc2x1Zyk7XG4gICAgICBwZXJzaXN0U2l0ZVN0YXRlKG5vcm1hbGl6ZWRTbHVnLCBzaXRlLm5hbWUpO1xuICAgICAgYXBwbHlBY3RpdmVTaXRlKG5vcm1hbGl6ZWRTbHVnLCB7IHNpdGVOYW1lOiBzaXRlLm5hbWUsIHBlcnNpc3Q6IGZhbHNlIH0pO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS53YXJuKCdbYWRtaW5dIEltcG9zc2libGUgZGUgclx1MDBFOWN1cFx1MDBFOXJlciBsZSBzaXRlIGFjdGlmJywgZXJyKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGlnaGxpZ2h0RnJvbVN0b3JhZ2VPckRlZmF1bHQgPSAoKSA9PiB7XG4gICAgaWYgKHN0b3JlZFNpdGUuc2x1Zykge1xuICAgICAgYXBwbHlBY3RpdmVTaXRlKHN0b3JlZFNpdGUuc2x1ZywgeyBzaXRlTmFtZTogc3RvcmVkU2l0ZS5uYW1lLCBwZXJzaXN0OiBmYWxzZSB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZGVmYXVsdENhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLWNhcmRdW2RhdGEtc2l0ZS1kZWZhdWx0PVwidHJ1ZVwiXScpIHx8IHNpdGVDYXJkc1swXTtcbiAgICBpZiAoZGVmYXVsdENhcmQpIHtcbiAgICAgIGFwcGx5QWN0aXZlU2l0ZShkZWZhdWx0Q2FyZC5kYXRhc2V0LnNpdGVDYXJkLCB7XG4gICAgICAgIHNpdGVOYW1lOiBkZWZhdWx0Q2FyZC5kYXRhc2V0LnNpdGVOYW1lIHx8ICcnLFxuICAgICAgICBwZXJzaXN0OiBmYWxzZSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICBoaWdobGlnaHRGcm9tU3RvcmFnZU9yRGVmYXVsdCgpO1xuICBzeW5jQWN0aXZlU2l0ZUZyb21TZXJ2ZXIoKTtcbiAgaWYgKHdvcmtzcGFjZUNvbnRleHQpIHtcbiAgICB1cGRhdGVXb3Jrc3BhY2VOYXZMaW5rcyh3b3Jrc3BhY2VDb250ZXh0LnNsdWdWYWx1ZSk7XG4gIH0gZWxzZSBpZiAoc3RvcmVkU2l0ZS5zbHVnKSB7XG4gICAgdXBkYXRlV29ya3NwYWNlTmF2TGlua3Moc3RvcmVkU2l0ZS5zbHVnKTtcbiAgfVxuXG4gIHNpdGVTZWxlY3RCdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGlmIChidXR0b24uZGlzYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3Qgc2x1ZyA9IGJ1dHRvbi5kYXRhc2V0LnNpdGVTZWxlY3Q7XG4gICAgICBjb25zdCBuYW1lID0gYnV0dG9uLmRhdGFzZXQuc2l0ZVNlbGVjdE5hbWUgfHwgJ0NlIHNpdGUnO1xuICAgICAgaWYgKCFzbHVnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICBzZWxlY3RTaXRlKHNsdWcsIG5hbWUpLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICBidXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBjb25zdCB3b3Jrc3BhY2VTbHVnaWZ5ID0gKHZhbHVlKSA9PlxuICAgIHZhbHVlXG4gICAgICAubm9ybWFsaXplKCdORkQnKVxuICAgICAgLnJlcGxhY2UoL1tcXHUwMzAwLVxcdTAzNmZdL2csICcnKVxuICAgICAgLnRvTG93ZXJDYXNlKClcbiAgICAgIC5yZXBsYWNlKC9bXmEtejAtOV0rL2csICctJylcbiAgICAgIC5yZXBsYWNlKC9eLSt8LSskL2csICcnKTtcblxuICBjb25zdCBub3JtYWxpemVTbHVnVmFsdWUgPSAodmFsdWUpID0+IHtcbiAgICBjb25zdCBiYXNlID0gd29ya3NwYWNlU2x1Z2lmeSh2YWx1ZSB8fCAnJyk7XG4gICAgaWYgKCFiYXNlKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIHJldHVybiBgLyR7YmFzZX1gO1xuICB9O1xuXG4gIGNvbnN0IG9wZW5TaXRlTW9kYWwgPSAoKSA9PiB7XG4gICAgaWYgKCFzaXRlTW9kYWwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGFzdEZvY3VzZWRFbGVtZW50ID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcbiAgICBzaXRlTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgc2l0ZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2ZsZXgnKTtcbiAgICBzbHVnTWFudWFsbHlFZGl0ZWQgPSBmYWxzZTtcbiAgICBzaXRlRm9ybT8ucmVzZXQoKTtcbiAgICBzaXRlU2x1Z0Vycm9yICYmIChzaXRlU2x1Z0Vycm9yLnRleHRDb250ZW50ID0gJycpO1xuICAgIHNpdGVNb2RhbEVycm9yICYmIChzaXRlTW9kYWxFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICBpZiAoc2l0ZVNsdWdJbnB1dCAmJiBzaXRlTmFtZUlucHV0KSB7XG4gICAgICBzaXRlU2x1Z0lucHV0LnZhbHVlID0gd29ya3NwYWNlU2x1Z2lmeShzaXRlTmFtZUlucHV0LnZhbHVlKTtcbiAgICB9XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRyYXBGb2N1cyk7XG4gICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgc2l0ZU5hbWVJbnB1dD8uZm9jdXMoKTtcbiAgICB9LCAwKTtcbiAgfTtcblxuICBjb25zdCBjbG9zZVNpdGVNb2RhbCA9ICgpID0+IHtcbiAgICBpZiAoIXNpdGVNb2RhbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzaXRlTW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgc2l0ZU1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2ZsZXgnKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdHJhcEZvY3VzKTtcbiAgICBzbHVnTWFudWFsbHlFZGl0ZWQgPSBmYWxzZTtcbiAgICBzaXRlRm9ybT8ucmVzZXQoKTtcbiAgICBzaXRlU2x1Z0Vycm9yICYmIChzaXRlU2x1Z0Vycm9yLnRleHRDb250ZW50ID0gJycpO1xuICAgIHNpdGVNb2RhbEVycm9yICYmIChzaXRlTW9kYWxFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICBsYXN0Rm9jdXNlZEVsZW1lbnQ/LmZvY3VzKCk7XG4gIH07XG5cbiAgc2l0ZUNyZWF0ZUJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlblNpdGVNb2RhbCk7XG4gIH0pO1xuXG4gIHNpdGVNb2RhbENhbmNlbEJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VTaXRlTW9kYWwpO1xuICB9KTtcblxuICBzaXRlTW9kYWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gc2l0ZU1vZGFsKSB7XG4gICAgICBjbG9zZVNpdGVNb2RhbCgpO1xuICAgIH1cbiAgfSk7XG5cbiAgc2l0ZU5hbWVJbnB1dD8uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgaWYgKCFzaXRlU2x1Z0lucHV0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghc2x1Z01hbnVhbGx5RWRpdGVkIHx8IHNpdGVTbHVnSW5wdXQudmFsdWUudHJpbSgpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgc2l0ZVNsdWdJbnB1dC52YWx1ZSA9IHdvcmtzcGFjZVNsdWdpZnkoc2l0ZU5hbWVJbnB1dC52YWx1ZSk7XG4gICAgfVxuICB9KTtcblxuICBzaXRlU2x1Z0lucHV0Py5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICBzbHVnTWFudWFsbHlFZGl0ZWQgPSB0cnVlO1xuICAgIHNpdGVTbHVnRXJyb3IgJiYgKHNpdGVTbHVnRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gIH0pO1xuXG4gIGNvbnN0IGdldFNsdWdTZXQgPSAoKSA9PlxuICAgIG5ldyBTZXQoQXJyYXkuZnJvbShzaXRlQ2FyZHMpLm1hcCgoY2FyZCkgPT4gZW5zdXJlTGVhZGluZ1NsYXNoKGNhcmQuZGF0YXNldC5zaXRlQ2FyZCB8fCAnJykpKTtcblxuICBzaXRlRm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAoIXNpdGVOYW1lSW5wdXQgfHwgIXNpdGVTbHVnSW5wdXQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgbmFtZVZhbHVlID0gKHNpdGVOYW1lSW5wdXQudmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICBsZXQgc2x1Z1ZhbHVlID0gc2l0ZVNsdWdJbnB1dC52YWx1ZSB8fCAnJztcbiAgICBpZiAoIXNsdWdWYWx1ZSkge1xuICAgICAgc2x1Z1ZhbHVlID0gbmFtZVZhbHVlO1xuICAgIH1cbiAgICBjb25zdCBub3JtYWxpemVkU2x1ZyA9IG5vcm1hbGl6ZVNsdWdWYWx1ZShzbHVnVmFsdWUpO1xuICAgIGlmICghbmFtZVZhbHVlIHx8ICFub3JtYWxpemVkU2x1Zykge1xuICAgICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9ICdOb20gZXQgc2x1ZyBzb250IHJlcXVpcy4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZXhpc3RpbmdTbHVncyA9IGdldFNsdWdTZXQoKTtcbiAgICBpZiAoZXhpc3RpbmdTbHVncy5oYXMobm9ybWFsaXplZFNsdWcpKSB7XG4gICAgICBzaXRlU2x1Z0Vycm9yICYmIChzaXRlU2x1Z0Vycm9yLnRleHRDb250ZW50ID0gJ0NlIHNsdWcgZXN0IGRcdTAwRTlqXHUwMEUwIHV0aWxpc1x1MDBFOS4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICBzaXRlTW9kYWxFcnJvciAmJiAoc2l0ZU1vZGFsRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgaWYgKHNpdGVNb2RhbFN1Ym1pdEJ1dHRvbikge1xuICAgICAgc2l0ZU1vZGFsU3VibWl0QnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIHNpdGVNb2RhbFN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9ICdDclx1MDBFOWF0aW9uLi4uJztcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvc2l0ZXMnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBuYW1lOiBuYW1lVmFsdWUsIHNsdWc6IG5vcm1hbGl6ZWRTbHVnIH0pLFxuICAgICAgfSk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBwYXlsb2FkLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgY3JcdTAwRTllciBjZSBzaXRlLic7XG4gICAgICAgIHNpdGVNb2RhbEVycm9yICYmIChzaXRlTW9kYWxFcnJvci50ZXh0Q29udGVudCA9IG1lc3NhZ2UpO1xuICAgICAgICBpZiAocGF5bG9hZC5maWVsZCA9PT0gJ3NsdWcnKSB7XG4gICAgICAgICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9IG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNyZWF0ZWRTaXRlID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgY29uc3QgZmluYWxTbHVnID0gZW5zdXJlTGVhZGluZ1NsYXNoKGNyZWF0ZWRTaXRlPy5zbHVnIHx8IG5vcm1hbGl6ZWRTbHVnKTtcbiAgICAgIGNvbnN0IGZpbmFsTmFtZSA9IGNyZWF0ZWRTaXRlPy5uYW1lIHx8IG5hbWVWYWx1ZTtcbiAgICAgIHBlcnNpc3RTaXRlU3RhdGUoZmluYWxTbHVnLCBmaW5hbE5hbWUpO1xuICAgICAgY2xvc2VTaXRlTW9kYWwoKTtcbiAgICAgIGNvbnN0IHNsdWdQYXRoID0gZW5jb2RlVVJJQ29tcG9uZW50KHN0cmlwTGVhZGluZ1NsYXNoKGZpbmFsU2x1ZykpO1xuICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBgL2FkbWluL3NpdGUvJHtzbHVnUGF0aH0vZGVzaWduYDtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1thZG1pbl0gSW1wb3NzaWJsZSBkZSBjclx1MDBFOWVyIGxlIHNpdGUnLCBlcnIpO1xuICAgICAgc2l0ZU1vZGFsRXJyb3IgJiYgKHNpdGVNb2RhbEVycm9yLnRleHRDb250ZW50ID0gJ0VycmV1ciBpbmF0dGVuZHVlLiBSXHUwMEU5ZXNzYWllIGRhbnMgdW4gaW5zdGFudC4nKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKHNpdGVNb2RhbFN1Ym1pdEJ1dHRvbikge1xuICAgICAgICBzaXRlTW9kYWxTdWJtaXRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgc2l0ZU1vZGFsU3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gJ0NyXHUwMEU5ZXInO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZlbnQpID0+IHtcbiAgICBpZiAoZXZlbnQua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgaWYgKHNpdGVNb2RhbCAmJiAhc2l0ZU1vZGFsLmNsYXNzTGlzdC5jb250YWlucygnaGlkZGVuJykpIHtcbiAgICAgICAgY2xvc2VTaXRlTW9kYWwoKTtcbiAgICAgIH1cbiAgICAgIGlmICh3b3Jrc3BhY2VCYWNrTW9kYWwgJiYgIXdvcmtzcGFjZUJhY2tNb2RhbC5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpKSB7XG4gICAgICAgIGNsb3NlV29ya3NwYWNlQmFja01vZGFsKCk7XG4gICAgICB9XG4gICAgICBpZiAoYmxvY2tEZWxldGVNb2RhbCAmJiAhYmxvY2tEZWxldGVNb2RhbC5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpKSB7XG4gICAgICAgIGNsb3NlQmxvY2tEZWxldGVNb2RhbCgpO1xuICAgICAgfVxuICAgICAgaWYgKGJsb2NrTGlicmFyeU9wZW4pIHtcbiAgICAgICAgY2xvc2VCbG9ja0xpYnJhcnkoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIGdldFdvcmtzcGFjZUNvbnRleHQoKSB7XG4gICAgY29uc3QgbWF0Y2ggPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUubWF0Y2goL15cXC9hZG1pblxcL3NpdGVcXC8oW14vXSspKD86XFwvKFteL10rKSk/Lyk7XG4gICAgaWYgKCFtYXRjaCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBzbHVnUGFydDogZGVjb2RlVVJJQ29tcG9uZW50KG1hdGNoWzFdKSxcbiAgICAgIHNsdWdWYWx1ZTogZW5zdXJlTGVhZGluZ1NsYXNoKGRlY29kZVVSSUNvbXBvbmVudChtYXRjaFsxXSkpLFxuICAgICAgc2VjdGlvbjogbWF0Y2hbMl0gfHwgJ2Rlc2lnbicsXG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRldGVjdFdvcmtzcGFjZVNlY3Rpb24oKSB7XG4gICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXBhZ2UtbGlzdF0nKSkge1xuICAgICAgcmV0dXJuICdkZXNpZ24nO1xuICAgIH1cbiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29sbGVjdGlvbi1saXN0XScpKSB7XG4gICAgICByZXR1cm4gJ2NvbnRlbnQnO1xuICAgIH1cbiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZ3JpZF0nKSkge1xuICAgICAgcmV0dXJuICdtZWRpYSc7XG4gICAgfVxuICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktZm9ybV0nKSkge1xuICAgICAgcmV0dXJuICdkZXBsb3knO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9wZW5Xb3Jrc3BhY2VCYWNrTW9kYWwoKSB7XG4gICAgaWYgKCF3b3Jrc3BhY2VCYWNrTW9kYWwpIHtcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9hZG1pbi9zaXRlcyc7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHdvcmtzcGFjZUJhY2tNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICB3b3Jrc3BhY2VCYWNrTW9kYWwuY2xhc3NMaXN0LmFkZCgnZmxleCcpO1xuICB9XG5cbiAgZnVuY3Rpb24gY2xvc2VXb3Jrc3BhY2VCYWNrTW9kYWwoKSB7XG4gICAgaWYgKCF3b3Jrc3BhY2VCYWNrTW9kYWwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgd29ya3NwYWNlQmFja01vZGFsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgIHdvcmtzcGFjZUJhY2tNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdmbGV4Jyk7XG4gIH1cblxuICB3b3Jrc3BhY2VCYWNrQnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuV29ya3NwYWNlQmFja01vZGFsKTtcbiAgfSk7XG4gIHdvcmtzcGFjZUJhY2tDYW5jZWwuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VXb3Jrc3BhY2VCYWNrTW9kYWwpO1xuICB9KTtcbiAgd29ya3NwYWNlQmFja0NvbmZpcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9hZG1pbi9zaXRlcyc7XG4gIH0pO1xuXG4gIGNvbnN0IGFjdGl2ZVNlY3Rpb24gPSB3b3Jrc3BhY2VDb250ZXh0Py5zZWN0aW9uIHx8IGRldGVjdFdvcmtzcGFjZVNlY3Rpb24oKTtcblxuICBpZiAoYWN0aXZlU2VjdGlvbiA9PT0gJ2Rlc2lnbicpIHtcbiAgICBpbml0RGVzaWduV29ya3NwYWNlKCk7XG4gIH1cbiAgaWYgKGFjdGl2ZVNlY3Rpb24gPT09ICdjb250ZW50Jykge1xuICAgIGluaXRDb250ZW50V29ya3NwYWNlKCk7XG4gIH1cbiAgaWYgKGFjdGl2ZVNlY3Rpb24gPT09ICdtZWRpYScpIHtcbiAgICBpbml0TWVkaWFXb3Jrc3BhY2UoKTtcbiAgfVxuICBpZiAoYWN0aXZlU2VjdGlvbiA9PT0gJ2RlcGxveScpIHtcbiAgICBpbml0RGVwbG95V29ya3NwYWNlKCk7XG4gIH1cbiAgaWYgKGFjdGl2ZVNlY3Rpb24gPT09ICdzZXR0aW5ncycpIHtcbiAgICBpbml0U2V0dGluZ3NXb3Jrc3BhY2UoKTtcbiAgfVxuXG4gIGlmICh3b3Jrc3BhY2VDb250ZXh0ICYmIHN0b3JlZFNpdGUubmFtZSkge1xuICAgIHVwZGF0ZVNpdGVMYWJlbHMoc3RvcmVkU2l0ZS5uYW1lKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXREZXNpZ25Xb3Jrc3BhY2UoKSB7XG4gICAgY29uc3QgcGFnZUxpc3RzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtcGFnZS1saXN0XScpO1xuICAgIGlmIChwYWdlTGlzdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGFjdGl2ZVRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWN0aXZlLXBhZ2UtdGl0bGVdJyk7XG4gICAgY29uc3QgYWN0aXZlU2x1ZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFjdGl2ZS1wYWdlLXNsdWddJyk7XG4gICAgY29uc3QgcHJldmlld1RhZ3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLXByZXZpZXctdGFnc10nKTtcbiAgICBjb25zdCBwcmV2aWV3RnJhbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLXByZXZpZXctZnJhbWVdJyk7XG4gICAgY29uc3QgcHJldmlld09wZW5CdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wcmV2aWV3LW9wZW5dJyk7XG4gICAgY29uc3QgcHJldmlld1N0YXR1cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXByZXZpZXctc3RhdHVzXScpO1xuICAgIGNvbnN0IHByZXZpZXdIaWdobGlnaHRPdmVybGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcHJldmlldy1oaWdobGlnaHRdJyk7XG4gICAgLy8gU0VPIHBhbmVsIGVsZW1lbnRzXG4gICAgY29uc3Qgc2VvVG9nZ2xlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2VvLXRvZ2dsZV0nKTtcbiAgICBjb25zdCBzZW9QYW5lbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby1wYW5lbF0nKTtcbiAgICBjb25zdCBzZW9DbG9zZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby1jbG9zZV0nKTtcbiAgICBjb25zdCBzZW9Gb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2VvLWZvcm1dJyk7XG4gICAgY29uc3Qgc2VvVGl0bGVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby10aXRsZV0nKTtcbiAgICBjb25zdCBzZW9EZXNjcmlwdGlvbklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2VvLWRlc2NyaXB0aW9uXScpO1xuICAgIGNvbnN0IHNlb0ZlZWRiYWNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2VvLWZlZWRiYWNrXScpO1xuICAgIGNvbnN0IHNlb1NhdmVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8tc2F2ZV0nKTtcbiAgICBjb25zdCBibG9ja0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9ja3MtbGlzdF0nKTtcbiAgICBjb25zdCBibG9ja0xpc3RFbXB0eSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2Nrcy1lbXB0eV0nKTtcbiAgICBjb25zdCBibG9ja0NvdW50QmFkZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1jb3VudF0nKTtcbiAgICBjb25zdCBibG9ja0xpYnJhcnlUb2dnbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1saWJyYXJ5LXRvZ2dsZV0nKTtcbiAgICBjb25zdCBibG9ja0xpYnJhcnkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1saWJyYXJ5XScpO1xuICAgIGNvbnN0IGJsb2NrQWRkQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWJsb2NrLWFkZF0nKTtcbiAgICBjb25zdCBibG9ja0RlbGV0ZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZGVsZXRlLW1vZGFsXScpO1xuICAgIGNvbnN0IGJsb2NrRGVsZXRlQ29uZmlybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWRlbGV0ZS1jb25maXJtXScpO1xuICAgIGNvbnN0IGJsb2NrRGVsZXRlQ2FuY2VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZGVsZXRlLWNhbmNlbF0nKTtcbiAgICBjb25zdCBibG9ja0RldGFpbEVtcHR5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZGV0YWlsLWVtcHR5XScpO1xuICAgIGNvbnN0IGJsb2NrRGV0YWlsU3RhdHVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZGV0YWlsLXN0YXR1c10nKTtcbiAgICBjb25zdCBibG9ja0VkaXRvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWVkaXRvcl0nKTtcbiAgICBjb25zdCBibG9ja0VkaXRvclRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZWRpdG9yLWJsb2NrLW5hbWVdJyk7XG4gICAgY29uc3QgYmxvY2tFZGl0b3JUeXBlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZWRpdG9yLWJsb2NrLXR5cGVdJyk7XG4gICAgY29uc3QgYmxvY2tFZGl0b3JVbnN1cHBvcnRlZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWVkaXRvci11bnN1cHBvcnRlZF0nKTtcbiAgICBjb25zdCBibG9ja0Zvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1mb3JtXScpO1xuICAgIGNvbnN0IGJsb2NrRm9ybVNlY3Rpb25zID0gYmxvY2tGb3JtXG4gICAgICA/IEFycmF5LmZyb20oYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWVkaXRvci1zZWN0aW9uXScpKVxuICAgICAgOiBbXTtcbiAgICBjb25zdCBjb2xsZWN0aW9uU2VsZWN0ID0gYmxvY2tGb3JtPy5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImNvbGxlY3Rpb24tZ3JpZC1jb2xsZWN0aW9uXCJdJyk7XG4gICAgY29uc3QgY29sbGVjdGlvblNlbGVjdGlvbkluZm8gPSBibG9ja0Zvcm0/LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAnW2RhdGEtY29sbGVjdGlvbi1zZWxlY3Rpb24taW5mb10nLFxuICAgICk7XG4gICAgY29uc3QgYmxvY2tGb3JtQ2FuY2VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZm9ybS1jYW5jZWxdJyk7XG4gICAgY29uc3QgZ3JvdXBQcmV2aWV3TW9iaWxlID0gYmxvY2tGb3JtPy5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ncm91cC1wcmV2aWV3LW1vYmlsZV0nKTtcbiAgICBjb25zdCBncm91cFByZXZpZXdEZXNrdG9wID0gYmxvY2tGb3JtPy5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ncm91cC1wcmV2aWV3LWRlc2t0b3BdJyk7XG4gICAgY29uc3QgYmxvY2tUeXBlRm9ybXMgPSB7XG4gICAgICBoZXJvOiB7XG4gICAgICAgIHNlY3Rpb246ICdoZXJvJyxcbiAgICAgICAgbGFiZWxGaWVsZDogJ3RpdGxlJyxcbiAgICAgICAgZGVzY3JpcHRpb25GaWVsZDogJ3N1YnRpdGxlJyxcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgdGl0bGU6ICdoZXJvLXRpdGxlJyxcbiAgICAgICAgICBzdWJ0aXRsZTogJ2hlcm8tc3VidGl0bGUnLFxuICAgICAgICAgIGN0YUxhYmVsOiAnaGVyby1jdGEtbGFiZWwnLFxuICAgICAgICAgIGN0YVVybDogJ2hlcm8tY3RhLXVybCcsXG4gICAgICAgICAgaW1hZ2U6ICdoZXJvLWltYWdlJyxcbiAgICAgICAgICBhbGlnbjogJ2hlcm8tYWxpZ24nLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIHBhcmFncmFwaGU6IHtcbiAgICAgICAgc2VjdGlvbjogJ3BhcmFncmFwaCcsXG4gICAgICAgIGxhYmVsRmllbGQ6ICd0aXRsZScsXG4gICAgICAgIGRlc2NyaXB0aW9uRmllbGQ6ICdjb250ZW50JyxcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgdGl0bGU6ICdwYXJhZ3JhcGgtdGl0bGUnLFxuICAgICAgICAgIGNvbnRlbnQ6ICdwYXJhZ3JhcGgtY29udGVudCcsXG4gICAgICAgICAgYWxpZ246ICdwYXJhZ3JhcGgtYWxpZ24nLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGltYWdlOiB7XG4gICAgICAgIHNlY3Rpb246ICdpbWFnZScsXG4gICAgICAgIGxhYmVsRmllbGQ6ICdhbHQnLFxuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBzcmM6ICdpbWFnZS1zcmMnLFxuICAgICAgICAgIGFsdDogJ2ltYWdlLWFsdCcsXG4gICAgICAgICAgc2hvd0NhcHRpb246ICdpbWFnZS1jYXB0aW9uLXRvZ2dsZScsXG4gICAgICAgICAgY2FwdGlvbjogJ2ltYWdlLWNhcHRpb24nLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGdyb3VwZToge1xuICAgICAgICBzZWN0aW9uOiAnZ3JvdXAnLFxuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBsYXlvdXQ6ICdncm91cC1sYXlvdXQnLFxuICAgICAgICAgIGNvbHVtbnNNb2JpbGU6ICdncm91cC1jb2x1bW5zLW1vYmlsZScsXG4gICAgICAgICAgY29sdW1uc0Rlc2t0b3A6ICdncm91cC1jb2x1bW5zLWRlc2t0b3AnLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGNvbGxlY3Rpb25ncmlkOiB7XG4gICAgICAgIHNlY3Rpb246ICdjb2xsZWN0aW9uJyxcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgY29sbGVjdGlvbklkOiAnY29sbGVjdGlvbi1ncmlkLWNvbGxlY3Rpb24nLFxuICAgICAgICAgIGxpbWl0OiAnY29sbGVjdGlvbi1ncmlkLWxpbWl0JyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBmb3JtOiB7XG4gICAgICAgIHNlY3Rpb246ICdmb3JtJyxcbiAgICAgICAgbGFiZWxGaWVsZDogJ2Zvcm1UaXRsZScsXG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIGZvcm1UaXRsZTogJ2Zvcm0tdGl0bGUnLFxuICAgICAgICAgIGFjdGlvblVybDogJ2Zvcm0tYWN0aW9uLXVybCcsXG4gICAgICAgICAgbWV0aG9kOiAnZm9ybS1tZXRob2QnLFxuICAgICAgICAgIHNlcnZpY2VOYW1lOiAnZm9ybS1zZXJ2aWNlLW5hbWUnLFxuICAgICAgICAgIHN1Ym1pdExhYmVsOiAnZm9ybS1zdWJtaXQtbGFiZWwnLFxuICAgICAgICAgIHN1Y2Nlc3NNZXNzYWdlOiAnZm9ybS1zdWNjZXNzLW1lc3NhZ2UnLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIG5ld3NsZXR0ZXJlbWJlZDoge1xuICAgICAgICBzZWN0aW9uOiAnbmV3c2xldHRlcicsXG4gICAgICAgIGxhYmVsRmllbGQ6ICd0aXRsZScsXG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIHRpdGxlOiAnbmV3c2xldHRlci10aXRsZScsXG4gICAgICAgICAgc2VydmljZU5hbWU6ICduZXdzbGV0dGVyLXNlcnZpY2UtbmFtZScsXG4gICAgICAgICAgZW1iZWRDb2RlOiAnbmV3c2xldHRlci1lbWJlZC1jb2RlJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfTtcbiAgICBjb25zdCBibG9ja1R5cGVBbGlhc2VzID0ge1xuICAgICAgdGV4dGU6ICdwYXJhZ3JhcGhlJyxcbiAgICAgIHBhcmFncmFwaDogJ3BhcmFncmFwaGUnLFxuICAgICAgcGFyYWdyYXBoczogJ3BhcmFncmFwaGUnLFxuICAgICAgcGFyYWdyYXBoZXM6ICdwYXJhZ3JhcGhlJyxcbiAgICAgIHRleHQ6ICdwYXJhZ3JhcGhlJyxcbiAgICAgIGhlcm86ICdoZXJvJyxcbiAgICAgIGltYWdlOiAnaW1hZ2UnLFxuICAgICAgZ3JvdXBlOiAnZ3JvdXBlJyxcbiAgICAgIGdyb3VwOiAnZ3JvdXBlJyxcbiAgICAgIGNvbGxlY3Rpb246ICdjb2xsZWN0aW9uZ3JpZCcsXG4gICAgICBjb2xsZWN0aW9uZ3JpZDogJ2NvbGxlY3Rpb25ncmlkJyxcbiAgICAgICdjb2xsZWN0aW9uLWdyaWQnOiAnY29sbGVjdGlvbmdyaWQnLFxuICAgICAgZm9ybTogJ2Zvcm0nLFxuICAgICAgZm9ybXVsYWlyZTogJ2Zvcm0nLFxuICAgICAgY29udGFjdDogJ2Zvcm0nLFxuICAgICAgbmV3c2xldHRlcmVtYmVkOiAnbmV3c2xldHRlcmVtYmVkJyxcbiAgICAgIG5ld3NsZXR0ZXI6ICduZXdzbGV0dGVyZW1iZWQnLFxuICAgICAgZW1iZWQ6ICduZXdzbGV0dGVyZW1iZWQnLFxuICAgIH07XG4gICAgY29uc3QgdXBkYXRlR3JvdXBNaW5pUHJldmlldyA9IChtb2JpbGVWYWx1ZSwgZGVza3RvcFZhbHVlKSA9PiB7XG4gICAgICBpZiAoIWdyb3VwUHJldmlld01vYmlsZSB8fCAhZ3JvdXBQcmV2aWV3RGVza3RvcCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCByZW5kZXJCb3hlcyA9IChjb3VudCkgPT5cbiAgICAgICAgQXJyYXkuZnJvbSh7IGxlbmd0aDogTnVtYmVyKGNvdW50KSB8fCAxIH0pXG4gICAgICAgICAgLm1hcCgoKSA9PiAnPHNwYW4gY2xhc3M9XCJibG9jayBoLTIgdy1mdWxsIHJvdW5kZWQtZnVsbCBiZy1zbGF0ZS0zMDBcIj48L3NwYW4+JylcbiAgICAgICAgICAuam9pbignJyk7XG4gICAgICBncm91cFByZXZpZXdNb2JpbGUuaW5uZXJIVE1MID0gcmVuZGVyQm94ZXMobW9iaWxlVmFsdWUpO1xuICAgICAgZ3JvdXBQcmV2aWV3RGVza3RvcC5pbm5lckhUTUwgPSByZW5kZXJCb3hlcyhkZXNrdG9wVmFsdWUpO1xuICAgIH07XG4gICAgY29uc3QgZmV0Y2hQYWdlc0Zyb21TZXJ2ZXIgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXBhZ2VzQXBpQmFzZSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHBhZ2VzQXBpQmFzZSwgeyBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxlcyBwYWdlcy4nKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gW10pO1xuICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkocGF5bG9hZCkgPyBwYXlsb2FkIDogW107XG4gICAgfTtcbiAgICBjb25zdCBjcmVhdGVQYWdlT25TZXJ2ZXIgPSBhc3luYyAoeyB0aXRsZSwgc2x1ZyB9KSA9PiB7XG4gICAgICBpZiAoIXBhZ2VzQXBpQmFzZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NpdGUgaW5jb25udS4nKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2gocGFnZXNBcGlCYXNlLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyB0aXRsZSwgc2x1ZyB9KSxcbiAgICAgIH0pO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IocGF5bG9hZC5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIGNyXHUwMEU5ZXIgbGEgcGFnZS4nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgfTtcbiAgICBjb25zdCBzYXZlUGFnZVRvU2VydmVyID0gYXN5bmMgKHBhZ2UpID0+IHtcbiAgICAgIGlmICghcGFnZXNBcGlCYXNlIHx8ICFwYWdlPy5pZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke3BhZ2VzQXBpQmFzZX0vJHtlbmNvZGVVUklDb21wb25lbnQocGFnZS5pZCl9YCwge1xuICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBhZ2UpLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHBheWxvYWQubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBzYXV2ZWdhcmRlciBsYSBwYWdlLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNhdmVkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICBpZiAoc2F2ZWQ/LmlkKSB7XG4gICAgICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZVBhZ2VEYXRhKHNhdmVkKTtcbiAgICAgICAgICBwYWdlcyA9IHBhZ2VzLm1hcCgoZW50cnkpID0+IChlbnRyeS5pZCA9PT0gbm9ybWFsaXplZC5pZCA/IG5vcm1hbGl6ZWQgOiBlbnRyeSkpO1xuICAgICAgICAgIGlmIChjdXJyZW50UGFnZT8uaWQgPT09IG5vcm1hbGl6ZWQuaWQpIHtcbiAgICAgICAgICAgIGN1cnJlbnRQYWdlID0gbm9ybWFsaXplZDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNhdmVkO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkZXNpZ25dIFNhdmUgcGFnZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UgfHwgJ1NhdXZlZ2FyZGUgaW1wb3NzaWJsZS4nKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGxvYWRQYWdlc0Zyb21TZXJ2ZXIgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXBhZ2VzQXBpQmFzZSkge1xuICAgICAgICBwYWdlcyA9IFtdO1xuICAgICAgICBhY3RpdmVQYWdlSWQgPSBudWxsO1xuICAgICAgICBjdXJyZW50UGFnZSA9IG51bGw7XG4gICAgICAgIHJlbmRlclBhZ2VMaXN0cyhwYWdlcywgYWN0aXZlUGFnZUlkKTtcbiAgICAgICAgcmVuZGVyQmxvY2tMaXN0KG51bGwpO1xuICAgICAgICBibG9ja0RldGFpbEVtcHR5Py5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgYmxvY2tFZGl0b3I/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBsb2FkZWRQYWdlcyA9IGF3YWl0IGZldGNoUGFnZXNGcm9tU2VydmVyKCk7XG4gICAgICAgIHBhZ2VzID0gKEFycmF5LmlzQXJyYXkobG9hZGVkUGFnZXMpID8gbG9hZGVkUGFnZXMgOiBbXSkubWFwKChwYWdlKSA9PlxuICAgICAgICAgIG5vcm1hbGl6ZVBhZ2VEYXRhKHBhZ2UpLFxuICAgICAgICApO1xuICAgICAgICBpZiAocGFnZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgYWN0aXZlUGFnZUlkID0gbnVsbDtcbiAgICAgICAgICBjdXJyZW50UGFnZSA9IG51bGw7XG4gICAgICAgICAgcmVuZGVyUGFnZUxpc3RzKHBhZ2VzLCBhY3RpdmVQYWdlSWQpO1xuICAgICAgICAgIHJlbmRlckJsb2NrTGlzdChudWxsKTtcbiAgICAgICAgICBibG9ja0RldGFpbEVtcHR5Py5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICBibG9ja0VkaXRvcj8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgICAgcHJldmlld0ZyYW1lICYmIChwcmV2aWV3RnJhbWUuc3JjZG9jID0gZ2V0TG9hZGluZ1ByZXZpZXdIdG1sKCkpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBhY3RpdmVQYWdlSWQgPSBnZXRTdG9yZWRBY3RpdmVQYWdlKHBhZ2VzKTtcbiAgICAgICAgc2V0QWN0aXZlUGFnZShhY3RpdmVQYWdlSWQpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkZXNpZ25dIEltcG9zc2libGUgZGUgY2hhcmdlciBsZXMgcGFnZXMnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoJ0ltcG9zc2libGUgZGUgY2hhcmdlciBsZXMgcGFnZXMuJyk7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBub3JtYWxpemVUeXBlID0gKHZhbHVlKSA9PlxuICAgICAgKHZhbHVlIHx8ICcnKS5ub3JtYWxpemUoJ05GRCcpLnJlcGxhY2UoL1tcXHUwMzAwLVxcdTAzNmZdL2csICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgIGNvbnN0IGdldEJsb2NrRm9ybUNvbmZpZyA9IChibG9jaykgPT4ge1xuICAgICAgaWYgKCFibG9jaykge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHR5cGVLZXkgPSBub3JtYWxpemVUeXBlKGJsb2NrLnR5cGUpO1xuICAgICAgY29uc3QgYWxpYXMgPSBibG9ja1R5cGVBbGlhc2VzW3R5cGVLZXldIHx8IHR5cGVLZXk7XG4gICAgICByZXR1cm4gYmxvY2tUeXBlRm9ybXNbYWxpYXNdIHx8IG51bGw7XG4gICAgfTtcbiAgICBjb25zdCBwb3B1bGF0ZUJsb2NrRm9ybSA9IChibG9jaykgPT4ge1xuICAgICAgaWYgKCFibG9ja0Zvcm0gfHwgIWJsb2NrRWRpdG9yKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChibG9jayAmJiAhYmxvY2suc2V0dGluZ3MpIHtcbiAgICAgICAgYmxvY2suc2V0dGluZ3MgPSB7fTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNvbmZpZyA9IGdldEJsb2NrRm9ybUNvbmZpZyhibG9jayk7XG4gICAgICBpZiAoYmxvY2tFZGl0b3JUaXRsZSkge1xuICAgICAgICBibG9ja0VkaXRvclRpdGxlLnRleHRDb250ZW50ID0gYmxvY2s/LmxhYmVsIHx8ICdCbG9jJztcbiAgICAgIH1cbiAgICAgIGlmIChibG9ja0VkaXRvclR5cGUpIHtcbiAgICAgICAgYmxvY2tFZGl0b3JUeXBlLnRleHRDb250ZW50ID0gYmxvY2s/LnR5cGUgfHwgJ0Jsb2MnO1xuICAgICAgfVxuICAgICAgaWYgKCFjb25maWcpIHtcbiAgICAgICAgYmxvY2tGb3JtLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBibG9ja0VkaXRvclVuc3VwcG9ydGVkPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgYmxvY2tGb3JtLmRhdGFzZXQuYmxvY2tJZCA9ICcnO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBibG9ja0VkaXRvclVuc3VwcG9ydGVkPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGJsb2NrRm9ybS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGJsb2NrRm9ybS5yZXNldCgpO1xuICAgICAgYmxvY2tGb3JtLmRhdGFzZXQuYmxvY2tJZCA9IGJsb2NrLmlkO1xuICAgICAgYmxvY2tGb3JtU2VjdGlvbnMuZm9yRWFjaCgoc2VjdGlvbikgPT4ge1xuICAgICAgICBjb25zdCBzZWN0aW9uSWQgPSBzZWN0aW9uLmRhdGFzZXQuZWRpdG9yU2VjdGlvbjtcbiAgICAgICAgaWYgKHNlY3Rpb25JZCA9PT0gY29uZmlnLnNlY3Rpb24pIHtcbiAgICAgICAgICBzZWN0aW9uLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlY3Rpb24uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKGNvbmZpZy5zZWN0aW9uID09PSAnY29sbGVjdGlvbicpIHtcbiAgICAgICAgY29uc3QgZGVzaXJlZFZhbHVlID0gYmxvY2suY29sbGVjdGlvbklkIHx8IGJsb2NrLnNldHRpbmdzPy5jb2xsZWN0aW9uSWQgfHwgJyc7XG4gICAgICAgIHVwZGF0ZUNvbGxlY3Rpb25TZWxlY3RPcHRpb25zKGRlc2lyZWRWYWx1ZSk7XG4gICAgICB9XG4gICAgICBPYmplY3QuZW50cmllcyhjb25maWcuZmllbGRzKS5mb3JFYWNoKChbc2V0dGluZ0tleSwgZmllbGROYW1lXSkgPT4ge1xuICAgICAgICBjb25zdCBpbnB1dCA9IGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yKGBbbmFtZT1cIiR7ZmllbGROYW1lfVwiXWApO1xuICAgICAgICBpZiAoIWlucHV0KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZhbHVlID0gYmxvY2suc2V0dGluZ3M/LltzZXR0aW5nS2V5XTtcbiAgICAgICAgaWYgKGlucHV0LnR5cGUgPT09ICdjaGVja2JveCcpIHtcbiAgICAgICAgICBpbnB1dC5jaGVja2VkID0gQm9vbGVhbih2YWx1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5wdXQudHlwZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICBpbnB1dC52YWx1ZSA9IHZhbHVlID8/IDE7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5wdXQudGFnTmFtZSA9PT0gJ1RFWFRBUkVBJykge1xuICAgICAgICAgIGlucHV0LnZhbHVlID0gdmFsdWUgPz8gJyc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaW5wdXQudmFsdWUgPSB2YWx1ZSA/PyAnJztcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoY29uZmlnLnNlY3Rpb24gPT09ICdncm91cCcpIHtcbiAgICAgICAgY29uc3QgbW9iaWxlVmFsdWUgPVxuICAgICAgICAgIGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImdyb3VwLWNvbHVtbnMtbW9iaWxlXCJdJyk/LnZhbHVlIHx8ICcxJztcbiAgICAgICAgY29uc3QgZGVza3RvcFZhbHVlID1cbiAgICAgICAgICBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJncm91cC1jb2x1bW5zLWRlc2t0b3BcIl0nKT8udmFsdWUgfHwgJzMnO1xuICAgICAgICB1cGRhdGVHcm91cE1pbmlQcmV2aWV3KG1vYmlsZVZhbHVlLCBkZXNrdG9wVmFsdWUpO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgY29sbGVjdEZvcm1WYWx1ZXMgPSAoY29uZmlnKSA9PiB7XG4gICAgICBpZiAoIWJsb2NrRm9ybSB8fCAhY29uZmlnKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHZhbHVlcyA9IHt9O1xuICAgICAgT2JqZWN0LmVudHJpZXMoY29uZmlnLmZpZWxkcykuZm9yRWFjaCgoW3NldHRpbmdLZXksIGZpZWxkTmFtZV0pID0+IHtcbiAgICAgICAgY29uc3QgaW5wdXQgPSBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcihgW25hbWU9XCIke2ZpZWxkTmFtZX1cIl1gKTtcbiAgICAgICAgaWYgKCFpbnB1dCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5wdXQudHlwZSA9PT0gJ2NoZWNrYm94Jykge1xuICAgICAgICAgIHZhbHVlc1tzZXR0aW5nS2V5XSA9IGlucHV0LmNoZWNrZWQ7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5wdXQudHlwZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICBjb25zdCBwYXJzZWQgPSBOdW1iZXIoaW5wdXQudmFsdWUpO1xuICAgICAgICAgIHZhbHVlc1tzZXR0aW5nS2V5XSA9IE51bWJlci5pc0Zpbml0ZShwYXJzZWQpID8gcGFyc2VkIDogMDtcbiAgICAgICAgfSBlbHNlIGlmIChpbnB1dC50YWdOYW1lID09PSAnVEVYVEFSRUEnKSB7XG4gICAgICAgICAgdmFsdWVzW3NldHRpbmdLZXldID0gaW5wdXQudmFsdWUgfHwgJyc7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5wdXQudHlwZSA9PT0gJ3NlbGVjdC1vbmUnKSB7XG4gICAgICAgICAgdmFsdWVzW3NldHRpbmdLZXldID0gaW5wdXQudmFsdWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFsdWVzW3NldHRpbmdLZXldID0gaW5wdXQudmFsdWUgfHwgJyc7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHZhbHVlcztcbiAgICB9O1xuICAgIGNvbnN0IHVwZGF0ZVByZXZpZXdTdGF0dXMgPSAodGV4dCkgPT4ge1xuICAgICAgaWYgKCFwcmV2aWV3U3RhdHVzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghdGV4dCkge1xuICAgICAgICBwcmV2aWV3U3RhdHVzLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwcmV2aWV3U3RhdHVzLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgcHJldmlld1N0YXR1cy50ZXh0Q29udGVudCA9IHRleHQ7XG4gICAgfTtcbiAgICBjb25zdCBzZXJpYWxpemVQYWdlRm9yUHJldmlldyA9IChwYWdlKSA9PiB7XG4gICAgICBpZiAoIXBhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICBpZDogcGFnZS5pZCxcbiAgICAgICAgdGl0bGU6IHBhZ2UudGl0bGUsXG4gICAgICAgIHNsdWc6IHBhZ2Uuc2x1ZyxcbiAgICAgICAgYmFkZ2VzOiBbLi4uKHBhZ2UuYmFkZ2VzIHx8IFtdKV0sXG4gICAgICAgIGJsb2NrczogKHBhZ2UuYmxvY2tzIHx8IFtdKS5tYXAoKGJsb2NrKSA9PiAoe1xuICAgICAgICAgIGlkOiBibG9jay5pZCxcbiAgICAgICAgICB0eXBlOiBibG9jay50eXBlLFxuICAgICAgICAgIGxhYmVsOiBibG9jay5sYWJlbCxcbiAgICAgICAgICBzdGF0dXM6IGJsb2NrLnN0YXR1cyxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogYmxvY2suZGVzY3JpcHRpb24sXG4gICAgICAgICAgcHJvcHM6IGJsb2NrLnByb3BzIHx8IFtdLFxuICAgICAgICAgIHNldHRpbmdzOiBibG9jay5zZXR0aW5ncyB8fCB7fSxcbiAgICAgICAgICBjb2xsZWN0aW9uSWQ6IGJsb2NrLmNvbGxlY3Rpb25JZCB8fCBibG9jay5zZXR0aW5ncz8uY29sbGVjdGlvbklkIHx8ICcnLFxuICAgICAgICB9KSksXG4gICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgZ2V0TG9hZGluZ1ByZXZpZXdIdG1sID0gKCkgPT5cbiAgICAgICc8IURPQ1RZUEUgaHRtbD48aHRtbD48Ym9keSBzdHlsZT1cImZvbnQtZmFtaWx5OkludGVyLHNhbnMtc2VyaWY7cGFkZGluZzo0MHB4O2NvbG9yOiM0NzU1Njk7YmFja2dyb3VuZDojZmZmO1wiPlByXHUwMEU5cGFyYXRpb24gZGUgbGEgcHJcdTAwRTl2aXN1YWxpc2F0aW9uXHUyMDI2PC9ib2R5PjwvaHRtbD4nO1xuICAgIGNvbnN0IHJlZnJlc2hQcmV2aWV3ID0gKHBhZ2UpID0+IHtcbiAgICAgIGlmICghcHJldmlld0ZyYW1lIHx8ICFwYWdlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHByZXZpZXdTaXRlU2x1ZyA9IHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJyc7XG4gICAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICBwYWdlOiBzZXJpYWxpemVQYWdlRm9yUHJldmlldyhwYWdlKSxcbiAgICAgICAgc2l0ZToge1xuICAgICAgICAgIHRpdGxlOiBzdG9yZWRTaXRlLm5hbWUgfHwgJ1NpdGUnLFxuICAgICAgICAgIHNsdWc6IHByZXZpZXdTaXRlU2x1ZyxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgICBwcmV2aWV3UmVhZHkgPSBmYWxzZTtcbiAgICAgIHVwZGF0ZVByZXZpZXdTdGF0dXMoJ0FjdHVhbGlzYXRpb25cdTIwMjYnKTtcbiAgICAgIHByZXZpZXdGcmFtZS5zcmNkb2MgPSBnZXRMb2FkaW5nUHJldmlld0h0bWwoKTtcbiAgICAgIGlmIChwcmV2aWV3UmVxdWVzdENvbnRyb2xsZXIpIHtcbiAgICAgICAgcHJldmlld1JlcXVlc3RDb250cm9sbGVyLmFib3J0KCk7XG4gICAgICB9XG4gICAgICBjb25zdCBjb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgICAgcHJldmlld1JlcXVlc3RDb250cm9sbGVyID0gY29udHJvbGxlcjtcbiAgICAgIGZldGNoKCcvYXBpL3ByZXZpZXcnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgIHNpZ25hbDogY29udHJvbGxlci5zaWduYWwsXG4gICAgICB9KVxuICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1ByZXZpZXcgZXJyb3InKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgICBpZiAoY29udHJvbGxlci5zaWduYWwuYWJvcnRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBsYXRlc3RQcmV2aWV3SHRtbCA9IGRhdGEuaHRtbCB8fCAnJztcbiAgICAgICAgICBwcmV2aWV3RnJhbWUuc2V0QXR0cmlidXRlKFxuICAgICAgICAgICAgJ3RpdGxlJyxcbiAgICAgICAgICAgIGBQclx1MDBFOXZpc3VhbGlzYXRpb24gZGUgbGEgcGFnZSAke3BhZ2UudGl0bGUgfHwgJyd9YC50cmltKCksXG4gICAgICAgICAgKTtcbiAgICAgICAgICBwcmV2aWV3RnJhbWUuc3JjZG9jID0gbGF0ZXN0UHJldmlld0h0bWwgfHwgZ2V0TG9hZGluZ1ByZXZpZXdIdG1sKCk7XG4gICAgICAgICAgdXBkYXRlUHJldmlld1N0YXR1cygnXHUwMEMwIGpvdXInKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICAgIGlmIChjb250cm9sbGVyLnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1twcmV2aWV3XSBJbXBvc3NpYmxlIGRlIHJlbmRyZSBsYSBwYWdlJywgZXJyb3IpO1xuICAgICAgICAgIHVwZGF0ZVByZXZpZXdTdGF0dXMoJ0VycmV1ciBwcmV2aWV3Jyk7XG4gICAgICAgICAgcHJldmlld0ZyYW1lLnNyY2RvYyA9XG4gICAgICAgICAgICAnPCFET0NUWVBFIGh0bWw+PGh0bWw+PGJvZHkgc3R5bGU9XCJmb250LWZhbWlseTpJbnRlcixzYW5zLXNlcmlmO3BhZGRpbmc6NDBweDtjb2xvcjojYmUxMjNjO2JhY2tncm91bmQ6I2ZmZjtcIj5FcnJldXIgbG9ycyBkdSByZW5kdSBkZSBsYSBwclx1MDBFOXZpc3VhbGlzYXRpb24uPC9ib2R5PjwvaHRtbD4nO1xuICAgICAgICB9KVxuICAgICAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICAgICAgaWYgKHByZXZpZXdSZXF1ZXN0Q29udHJvbGxlciA9PT0gY29udHJvbGxlcikge1xuICAgICAgICAgICAgcHJldmlld1JlcXVlc3RDb250cm9sbGVyID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgY29uc3QgaGFuZGxlQmxvY2tGb3JtU3VibWl0ID0gKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSB8fCAhYWN0aXZlQmxvY2tJZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBibG9jayA9IGdldEFjdGl2ZUJsb2NrKCk7XG4gICAgICBjb25zdCBjb25maWcgPSBnZXRCbG9ja0Zvcm1Db25maWcoYmxvY2spO1xuICAgICAgaWYgKCFibG9jayB8fCAhY29uZmlnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHZhbHVlcyA9IGNvbGxlY3RGb3JtVmFsdWVzKGNvbmZpZyk7XG4gICAgICBpZiAoY29uZmlnLnNlY3Rpb24gPT09ICdjb2xsZWN0aW9uJykge1xuICAgICAgICBpZiAoIXZhbHVlcy5jb2xsZWN0aW9uSWQpIHtcbiAgICAgICAgICBzaG93VG9hc3QoJ1NcdTAwRTlsZWN0aW9ubmV6IHVuZSBjb2xsZWN0aW9uLicpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YWx1ZXMubGltaXQgPSBNYXRoLm1heCgxLCBOdW1iZXIodmFsdWVzLmxpbWl0KSB8fCAxKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHVwZGF0ZWRCbG9ja3MgPSAoY3VycmVudFBhZ2UuYmxvY2tzIHx8IFtdKS5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIGlmIChlbnRyeS5pZCAhPT0gYmxvY2suaWQpIHtcbiAgICAgICAgICByZXR1cm4gZW50cnk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdXBkYXRlZFNldHRpbmdzID0geyAuLi4oZW50cnkuc2V0dGluZ3MgfHwge30pLCAuLi52YWx1ZXMgfTtcbiAgICAgICAgY29uc3QgdXBkYXRlZEJsb2NrID0ge1xuICAgICAgICAgIC4uLmVudHJ5LFxuICAgICAgICAgIHNldHRpbmdzOiB1cGRhdGVkU2V0dGluZ3MsXG4gICAgICAgIH07XG4gICAgICAgIGlmIChjb25maWcubGFiZWxGaWVsZCAmJiB2YWx1ZXNbY29uZmlnLmxhYmVsRmllbGRdKSB7XG4gICAgICAgICAgdXBkYXRlZEJsb2NrLmxhYmVsID0gdmFsdWVzW2NvbmZpZy5sYWJlbEZpZWxkXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29uZmlnLmRlc2NyaXB0aW9uRmllbGQgJiYgdmFsdWVzW2NvbmZpZy5kZXNjcmlwdGlvbkZpZWxkXSkge1xuICAgICAgICAgIHVwZGF0ZWRCbG9jay5kZXNjcmlwdGlvbiA9IHZhbHVlc1tjb25maWcuZGVzY3JpcHRpb25GaWVsZF07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbmZpZy5zZWN0aW9uID09PSAnY29sbGVjdGlvbicpIHtcbiAgICAgICAgICB1cGRhdGVkQmxvY2suY29sbGVjdGlvbklkID0gdmFsdWVzLmNvbGxlY3Rpb25JZDtcbiAgICAgICAgICB1cGRhdGVkQmxvY2suc2V0dGluZ3MuY29sbGVjdGlvbklkID0gdmFsdWVzLmNvbGxlY3Rpb25JZDtcbiAgICAgICAgICB1cGRhdGVkQmxvY2suc2V0dGluZ3MubGltaXQgPSB2YWx1ZXMubGltaXQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVwZGF0ZWRCbG9jaztcbiAgICAgIH0pO1xuICAgICAgdXBkYXRlQ3VycmVudFBhZ2VCbG9ja3ModXBkYXRlZEJsb2Nrcyk7XG4gICAgICBzaG93VG9hc3QoJ0Jsb2MgbWlzIFx1MDBFMCBqb3VyJyk7XG4gICAgICBzZXRBY3RpdmVQYWdlKGN1cnJlbnRQYWdlLmlkLCB7IHByZXNlcnZlQmxvY2s6IHRydWUgfSk7XG4gICAgfTtcbiAgICBjb25zdCBkcmF3ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLWRyYXdlcl0nKTtcbiAgICBjb25zdCBkcmF3ZXJCYWNrZHJvcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXBhZ2UtZHJhd2VyLWJhY2tkcm9wXScpO1xuICAgIGNvbnN0IGRyYXdlck9wZW5CdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtcGFnZS1kcmF3ZXItb3Blbl0nKTtcbiAgICBjb25zdCBkcmF3ZXJDbG9zZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1wYWdlLWRyYXdlci1jbG9zZV0nKTtcbiAgICBjb25zdCBhZGRQYWdlVG9nZ2xlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRkLXBhZ2UtdG9nZ2xlXScpO1xuICAgIGNvbnN0IGFkZFBhZ2VGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRkLXBhZ2UtZm9ybV0nKTtcbiAgICBjb25zdCBhZGRQYWdlVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZGQtcGFnZS10aXRsZV0nKTtcbiAgICBjb25zdCBhZGRQYWdlU2x1ZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFkZC1wYWdlLXNsdWddJyk7XG4gICAgY29uc3QgYWRkUGFnZUNhbmNlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFkZC1wYWdlLWNhbmNlbF0nKTtcbiAgICBjb25zdCBhZGRQYWdlRXJyb3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZGQtcGFnZS1lcnJvcl0nKTtcbiAgICBjb25zdCBhZGRQYWdlU3VibWl0QnV0dG9uID0gYWRkUGFnZUZvcm0/LnF1ZXJ5U2VsZWN0b3IoJ1t0eXBlPVwic3VibWl0XCJdJyk7XG4gICAgLy8gSW1wb3J0IEpTT04gZWxlbWVudHNcbiAgICBjb25zdCBpbXBvcnRUb2dnbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbXBvcnQtcGFnZXMtdG9nZ2xlXScpO1xuICAgIGNvbnN0IGltcG9ydE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaW1wb3J0LW1vZGFsXScpO1xuICAgIGNvbnN0IGltcG9ydENsb3NlQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWltcG9ydC1tb2RhbC1jbG9zZV0nKTtcbiAgICBjb25zdCBpbXBvcnREcm9wem9uZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWltcG9ydC1kcm9wem9uZV0nKTtcbiAgICBjb25zdCBpbXBvcnRGaWxlSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbXBvcnQtZmlsZS1pbnB1dF0nKTtcbiAgICBjb25zdCBpbXBvcnRGaWxlTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWltcG9ydC1maWxlLWxpc3RdJyk7XG4gICAgY29uc3QgaW1wb3J0RmlsZU5hbWVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaW1wb3J0LWZpbGUtbmFtZXNdJyk7XG4gICAgY29uc3QgaW1wb3J0UmVzdWx0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWltcG9ydC1yZXN1bHRzXScpO1xuICAgIGNvbnN0IGltcG9ydFJlc3VsdHNDb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaW1wb3J0LXJlc3VsdHMtY29udGVudF0nKTtcbiAgICBjb25zdCBpbXBvcnRTdWJtaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbXBvcnQtc3VibWl0XScpO1xuICAgIGNvbnN0IGltcG9ydFRhYnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1pbXBvcnQtdGFiXScpO1xuICAgIGNvbnN0IGltcG9ydFBhbmVscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWltcG9ydC1wYW5lbF0nKTtcbiAgICBjb25zdCBjb3B5VGVtcGxhdGVCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb3B5LXRlbXBsYXRlXScpO1xuICAgIGNvbnN0IHRlbXBsYXRlSnNvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRlbXBsYXRlLWpzb25dJyk7XG4gICAgbGV0IGltcG9ydFNlbGVjdGVkRmlsZXMgPSBbXTtcbiAgICAvLyBEZWxldGUgcGFnZSBlbGVtZW50c1xuICAgIGNvbnN0IGRlbGV0ZVBhZ2VNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlbGV0ZS1wYWdlLW1vZGFsXScpO1xuICAgIGNvbnN0IGRlbGV0ZVBhZ2VOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVsZXRlLXBhZ2UtbmFtZV0nKTtcbiAgICBjb25zdCBkZWxldGVQYWdlQ2FuY2VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVsZXRlLXBhZ2UtY2FuY2VsXScpO1xuICAgIGNvbnN0IGRlbGV0ZVBhZ2VDb25maXJtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVsZXRlLXBhZ2UtY29uZmlybV0nKTtcbiAgICBsZXQgcGFnZVRvRGVsZXRlID0gbnVsbDtcbiAgICBjb25zdCBzaXRlS2V5ID1cbiAgICAgIHN0cmlwTGVhZGluZ1NsYXNoKHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJ2RlZmF1bHQnKSB8fCAnZGVmYXVsdCc7XG4gICAgY29uc3Qgc2l0ZVNsdWdWYWx1ZSA9IHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJyc7XG4gICAgY29uc3Qgc2FmZVNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goc2l0ZVNsdWdWYWx1ZSkgfHwgJyc7XG4gICAgY29uc3QgcGFnZXNBcGlCYXNlID0gc2FmZVNpdGVTbHVnXG4gICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Zyl9L3BhZ2VzYFxuICAgICAgOiBudWxsO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25zQXBpQmFzZSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9jb2xsZWN0aW9uc2BcbiAgICAgIDogbnVsbDtcbiAgICBjb25zdCBzdG9yYWdlS2V5cyA9IHtcbiAgICAgIGFjdGl2ZTogYGNsb3dlcjphY3RpdmVQYWdlOiR7c2l0ZUtleX1gLFxuICAgIH07XG4gICAgY29uc3QgY3JlYXRlQmxvY2sgPSAoaWQsIGxhYmVsLCB0eXBlLCBzdGF0dXMsIGRlc2NyaXB0aW9uLCBwcm9wcyA9IFtdLCBzZXR0aW5ncyA9IHt9KSA9PiB7XG4gICAgICBjb25zdCBibG9jayA9IHtcbiAgICAgICAgaWQsXG4gICAgICAgIGxhYmVsLFxuICAgICAgICB0eXBlLFxuICAgICAgICBzdGF0dXMsXG4gICAgICAgIGRlc2NyaXB0aW9uLFxuICAgICAgICBwcm9wcyxcbiAgICAgICAgc2V0dGluZ3M6IHsgLi4uc2V0dGluZ3MgfSxcbiAgICAgIH07XG4gICAgICBpZiAoYmxvY2suc2V0dGluZ3MuY29sbGVjdGlvbklkKSB7XG4gICAgICAgIGJsb2NrLmNvbGxlY3Rpb25JZCA9IGJsb2NrLnNldHRpbmdzLmNvbGxlY3Rpb25JZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBibG9jaztcbiAgICB9O1xuICAgIGNvbnN0IGJsb2NrTGlicmFyeURlZmluaXRpb25zID0ge1xuICAgICAgaGVybzoge1xuICAgICAgICB0eXBlOiAnSGVybycsXG4gICAgICAgIGxhYmVsOiAnSGVybyBkZSBwYWdlJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdTZWN0aW9uIHBsZWluZSBsYXJnZXVyIGF2ZWMgQ1RBIHByaW5jaXBhbC4nLFxuICAgICAgICBzdGF0dXM6ICdCcm91aWxsb24nLFxuICAgICAgICBwcm9wczogW1xuICAgICAgICAgIHsgbGFiZWw6ICdDVEEnLCB2YWx1ZTogJ0RcdTAwRTljb3V2cmlyJyB9LFxuICAgICAgICAgIHsgbGFiZWw6ICdIYXV0ZXVyJywgdmFsdWU6ICc4MHZoJyB9LFxuICAgICAgICBdLFxuICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgIHRpdGxlOiAnVGl0cmUgZHUgaGVybycsXG4gICAgICAgICAgc3VidGl0bGU6ICcnLFxuICAgICAgICAgIGN0YUxhYmVsOiAnRFx1MDBFOWNvdXZyaXInLFxuICAgICAgICAgIGN0YVVybDogJyMnLFxuICAgICAgICAgIGltYWdlOiAnJyxcbiAgICAgICAgICBhbGlnbjogJ2NlbnRlcicsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgcGFyYWdyYXBoOiB7XG4gICAgICAgIHR5cGU6ICdQYXJhZ3JhcGhlJyxcbiAgICAgICAgbGFiZWw6ICdCbG9jIFx1MDBFOWRpdG9yaWFsJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdQYXJhZ3JhcGhlIGxpYnJlIHBvdXIgcmFjb250ZXIgdm90cmUgaGlzdG9pcmUuJyxcbiAgICAgICAgc3RhdHVzOiAnQnJvdWlsbG9uJyxcbiAgICAgICAgcHJvcHM6IFt7IGxhYmVsOiAnTG9uZ3VldXInLCB2YWx1ZTogJzE1MCBtb3RzJyB9XSxcbiAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICB0aXRsZTogJ1RpdHJlIGR1IHBhcmFncmFwaGUnLFxuICAgICAgICAgIGNvbnRlbnQ6ICcnLFxuICAgICAgICAgIGFsaWduOiAnbGVmdCcsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgaW1hZ2U6IHtcbiAgICAgICAgdHlwZTogJ0ltYWdlJyxcbiAgICAgICAgbGFiZWw6ICdCbG9jIGltYWdlJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdWaXN1ZWwgc2V1bCBhdmVjIGxcdTAwRTlnZW5kZSBvcHRpb25uZWxsZS4nLFxuICAgICAgICBzdGF0dXM6ICdCcm91aWxsb24nLFxuICAgICAgICBwcm9wczogW1xuICAgICAgICAgIHsgbGFiZWw6ICdSYXRpbycsIHZhbHVlOiAnMTY6OScgfSxcbiAgICAgICAgICB7IGxhYmVsOiAnTFx1MDBFOWdlbmRlJywgdmFsdWU6ICdJbmFjdGl2ZScgfSxcbiAgICAgICAgXSxcbiAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICBzcmM6ICcnLFxuICAgICAgICAgIGFsdDogJycsXG4gICAgICAgICAgc2hvd0NhcHRpb246IGZhbHNlLFxuICAgICAgICAgIGNhcHRpb246ICcnLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGdyb3VwOiB7XG4gICAgICAgIHR5cGU6ICdHcm91cGUnLFxuICAgICAgICBsYWJlbDogJ0dyb3VwZSBkZSBzZWN0aW9ucycsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnQ29udGVuZXVyIHBvdXIgaW1icmlxdWVyIHBsdXNpZXVycyBzb3VzLWJsb2NzLicsXG4gICAgICAgIHN0YXR1czogJ0Jyb3VpbGxvbicsXG4gICAgICAgIHByb3BzOiBbeyBsYWJlbDogJ0Rpc3Bvc2l0aW9uJywgdmFsdWU6ICdWZXJ0aWNhbGUnIH1dLFxuICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgIGxheW91dDogJ2dyaWQnLFxuICAgICAgICAgIGNvbHVtbnNNb2JpbGU6ICcxJyxcbiAgICAgICAgICBjb2x1bW5zRGVza3RvcDogJzMnLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGNvbGxlY3Rpb25ncmlkOiB7XG4gICAgICAgIHR5cGU6ICdDb2xsZWN0aW9uR3JpZCcsXG4gICAgICAgIGxhYmVsOiAnR3JpbGxlIGRlIGNvbnRlbnVzJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdBZmZpY2hlIGF1dG9tYXRpcXVlbWVudCBsZXMgaXRlbXMgZFx1MjAxOXVuZSBjb2xsZWN0aW9uLicsXG4gICAgICAgIHN0YXR1czogJ0Jyb3VpbGxvbicsXG4gICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgY29sbGVjdGlvbklkOiAnJyxcbiAgICAgICAgICBsaW1pdDogNixcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBmb3JtOiB7XG4gICAgICAgIHR5cGU6ICdGb3JtJyxcbiAgICAgICAgbGFiZWw6ICdGb3JtdWxhaXJlIGRlIGNvbnRhY3QnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0Zvcm11bGFpcmUgYXZlYyBlbnZvaSB2ZXJzIHVuIHNlcnZpY2UgZXh0ZXJuZS4nLFxuICAgICAgICBzdGF0dXM6ICdCcm91aWxsb24nLFxuICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgIGZvcm1UaXRsZTogJ0NvbnRhY3Rlei1ub3VzJyxcbiAgICAgICAgICBhY3Rpb25Vcmw6ICcnLFxuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIHNlcnZpY2VOYW1lOiAnJyxcbiAgICAgICAgICBzdWJtaXRMYWJlbDogJ0Vudm95ZXInLFxuICAgICAgICAgIHN1Y2Nlc3NNZXNzYWdlOiAnTWVyY2kgcG91ciB2b3RyZSBtZXNzYWdlICEnLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIG5ld3NsZXR0ZXJlbWJlZDoge1xuICAgICAgICB0eXBlOiAnTmV3c2xldHRlckVtYmVkJyxcbiAgICAgICAgbGFiZWw6ICdOZXdzbGV0dGVyIC8gRW1iZWQnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0ludFx1MDBFOWdyYXRpb24gZFxcJ3VuIGZvcm11bGFpcmUgbmV3c2xldHRlciBleHRlcm5lIChCcmV2bywgTWFpbGNoaW1wXHUyMDI2KS4nLFxuICAgICAgICBzdGF0dXM6ICdCcm91aWxsb24nLFxuICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgIHRpdGxlOiAnUmVzdGV6IGluZm9ybVx1MDBFOScsXG4gICAgICAgICAgc2VydmljZU5hbWU6ICcnLFxuICAgICAgICAgIGVtYmVkQ29kZTogJycsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH07XG4gICAgY29uc3QgcGVyc2lzdEFjdGl2ZVBhZ2UgPSAocGFnZUlkKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oc3RvcmFnZUtleXMuYWN0aXZlLCBwYWdlSWQpO1xuICAgICAgfSBjYXRjaCB7XG4gICAgICAgIC8qIGlnbm9yZSBzdG9yYWdlIGVycm9ycyAqL1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgZ2V0U3RvcmVkQWN0aXZlUGFnZSA9IChwYWdlcykgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgc3RvcmVkID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKHN0b3JhZ2VLZXlzLmFjdGl2ZSk7XG4gICAgICAgIGlmIChzdG9yZWQgJiYgcGFnZXMuc29tZSgocGFnZSkgPT4gcGFnZS5pZCA9PT0gc3RvcmVkKSkge1xuICAgICAgICAgIHJldHVybiBzdG9yZWQ7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2gge1xuICAgICAgICAvKiBpZ25vcmUgc3RvcmFnZSBlcnJvcnMgKi9cbiAgICAgIH1cbiAgICAgIHJldHVybiBwYWdlc1swXT8uaWQgfHwgbnVsbDtcbiAgICB9O1xuICAgIGNvbnN0IGZvcm1hdEJsb2NrQ291bnQgPSAoY291bnQpID0+IHtcbiAgICAgIGlmICghY291bnQgfHwgY291bnQgPD0gMCkge1xuICAgICAgICByZXR1cm4gJzAgYmxvYyc7XG4gICAgICB9XG4gICAgICByZXR1cm4gY291bnQgPT09IDEgPyAnMSBibG9jJyA6IGAke2NvdW50fSBibG9jc2A7XG4gICAgfTtcbiAgICBjb25zdCBub3JtYWxpemVQYWdlU2x1ZyA9ICh2YWx1ZSkgPT4ge1xuICAgICAgaWYgKCF2YWx1ZSB8fCB2YWx1ZSA9PT0gJy8nKSB7XG4gICAgICAgIHJldHVybiAnLyc7XG4gICAgICB9XG4gICAgICBjb25zdCBiYXNlID0gd29ya3NwYWNlU2x1Z2lmeSh2YWx1ZS5yZXBsYWNlKC9eXFwvLywgJycpKTtcbiAgICAgIHJldHVybiBiYXNlID8gYC8ke2Jhc2V9YCA6ICcvJztcbiAgICB9O1xuICAgIGNvbnN0IGdlbmVyYXRlQmxvY2tJZCA9IChwYWdlSWQgPSAncGFnZScsIGtleSA9ICdibG9jaycpID0+XG4gICAgICBgJHtwYWdlSWR9LSR7a2V5fS0ke0RhdGUubm93KCkudG9TdHJpbmcoMzYpfS0ke01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDApfWA7XG4gICAgY29uc3QgY3JlYXRlSW5pdGlhbEJsb2NrcyA9IChwYWdlSWQsIHRpdGxlKSA9PiBbXG4gICAgICBjcmVhdGVCbG9jayhcbiAgICAgICAgZ2VuZXJhdGVCbG9ja0lkKHBhZ2VJZCwgJ2ludHJvJyksXG4gICAgICAgICdJbnRyb2R1Y3Rpb24nLFxuICAgICAgICAnUGFyYWdyYXBoZScsXG4gICAgICAgICdCcm91aWxsb24nLFxuICAgICAgICBgUGFyYWdyYXBoZSBpbnRyb2R1Y3RpZiBwb3VyIFwiJHt0aXRsZX1cIi5gLFxuICAgICAgICBbeyBsYWJlbDogJ0xvbmd1ZXVyJywgdmFsdWU6ICcyIHBhcmFncmFwaGVzJyB9XSxcbiAgICAgICAge1xuICAgICAgICAgIHRpdGxlOiBgSW50cm9kdWN0aW9uIFx1MDBFMCAke3RpdGxlfWAsXG4gICAgICAgICAgY29udGVudDogJ0Fqb3V0ZXogdm90cmUgcHJlbWllciBwYXJhZ3JhcGhlIGRlIHByXHUwMEU5c2VudGF0aW9uLicsXG4gICAgICAgICAgYWxpZ246ICdsZWZ0JyxcbiAgICAgICAgfSxcbiAgICAgICksXG4gICAgICBjcmVhdGVCbG9jayhcbiAgICAgICAgZ2VuZXJhdGVCbG9ja0lkKHBhZ2VJZCwgJ2NvbnRlbnQnKSxcbiAgICAgICAgJ1pvbmUgZGUgY29udGVudScsXG4gICAgICAgICdHcm91cGUnLFxuICAgICAgICAnQnJvdWlsbG9uJyxcbiAgICAgICAgJ1NlY3Rpb24gcHJpbmNpcGFsZSBcdTAwRTAgY29tcG9zZXIgYXZlYyB0ZXh0ZXMgZXQgdmlzdWVscy4nLFxuICAgICAgICBbeyBsYWJlbDogJ0NvbG9ubmVzJywgdmFsdWU6ICdBdXRvJyB9XSxcbiAgICAgICAge1xuICAgICAgICAgIGxheW91dDogJ2dyaWQnLFxuICAgICAgICAgIGNvbHVtbnNNb2JpbGU6ICcxJyxcbiAgICAgICAgICBjb2x1bW5zRGVza3RvcDogJzInLFxuICAgICAgICB9LFxuICAgICAgKSxcbiAgICBdO1xuICAgIGNvbnN0IHNldEFjdGl2ZUxhYmVscyA9IChwYWdlKSA9PiB7XG4gICAgICBpZiAoYWN0aXZlVGl0bGUpIHtcbiAgICAgICAgYWN0aXZlVGl0bGUudGV4dENvbnRlbnQgPSBwYWdlPy50aXRsZSB8fCAnUGFnZSc7XG4gICAgICB9XG4gICAgICBpZiAoYWN0aXZlU2x1Zykge1xuICAgICAgICBhY3RpdmVTbHVnLnRleHRDb250ZW50ID0gcGFnZT8uc2x1ZyB8fCAnLyc7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCByZW5kZXJQcmV2aWV3TWV0YSA9IChwYWdlKSA9PiB7XG4gICAgICBpZiAoIXByZXZpZXdUYWdzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHByZXZpZXdUYWdzLmlubmVySFRNTCA9ICcnO1xuICAgICAgY29uc3QgdGFncyA9XG4gICAgICAgIHBhZ2UgJiYgcGFnZS5iYWRnZXMgJiYgcGFnZS5iYWRnZXMubGVuZ3RoID4gMCA/IHBhZ2UuYmFkZ2VzIDogWydTdHJ1Y3R1cmUgZW4gY291cnMnXTtcbiAgICAgIHRhZ3MuZm9yRWFjaCgodGFnKSA9PiB7XG4gICAgICAgIGNvbnN0IGJhZGdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICBiYWRnZS5jbGFzc05hbWUgPSAncm91bmRlZC1mdWxsIGJnLXNsYXRlLTEwMCBweC0zIHB5LTEnO1xuICAgICAgICBiYWRnZS50ZXh0Q29udGVudCA9IHRhZztcbiAgICAgICAgcHJldmlld1RhZ3MuYXBwZW5kQ2hpbGQoYmFkZ2UpO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICBjb25zdCBnZXRTdGF0dXNCYWRnZUNsYXNzZXMgPSAoc3RhdHVzKSA9PiB7XG4gICAgICBzd2l0Y2ggKChzdGF0dXMgfHwgJycpLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgY2FzZSAnZW4gbGlnbmUnOlxuICAgICAgICAgIHJldHVybiAnYmctZW1lcmFsZC01MCB0ZXh0LWVtZXJhbGQtNzAwJztcbiAgICAgICAgY2FzZSAnYnJvdWlsbG9uJzpcbiAgICAgICAgICByZXR1cm4gJ2JnLWFtYmVyLTUwIHRleHQtYW1iZXItNzAwJztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gJ2JnLXNsYXRlLTEwMCB0ZXh0LXNsYXRlLTYwMCc7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCByZW5kZXJCbG9ja0RldGFpbHMgPSAoYmxvY2spID0+IHtcbiAgICAgIGlmICghYmxvY2tEZXRhaWxFbXB0eSB8fCAhYmxvY2tFZGl0b3IpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFibG9jaykge1xuICAgICAgICBibG9ja0RldGFpbEVtcHR5LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICBibG9ja0VkaXRvci5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgYmxvY2tFZGl0b3JVbnN1cHBvcnRlZD8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIGJsb2NrRm9ybT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIGJsb2NrRGV0YWlsU3RhdHVzPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYmxvY2tEZXRhaWxFbXB0eS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGJsb2NrRWRpdG9yLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgaWYgKGJsb2NrRGV0YWlsU3RhdHVzKSB7XG4gICAgICAgIGlmIChibG9jay5zdGF0dXMpIHtcbiAgICAgICAgICBibG9ja0RldGFpbFN0YXR1cy50ZXh0Q29udGVudCA9IGJsb2NrLnN0YXR1cztcbiAgICAgICAgICBibG9ja0RldGFpbFN0YXR1cy5jbGFzc05hbWUgPSBgcm91bmRlZC1mdWxsIHB4LTMgcHktMSB0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgJHtnZXRTdGF0dXNCYWRnZUNsYXNzZXMoXG4gICAgICAgICAgICBibG9jay5zdGF0dXMsXG4gICAgICAgICAgKX1gO1xuICAgICAgICAgIGJsb2NrRGV0YWlsU3RhdHVzLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGJsb2NrRGV0YWlsU3RhdHVzLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBwb3B1bGF0ZUJsb2NrRm9ybShibG9jayk7XG4gICAgfTtcbiAgICBjb25zdCBhcHBseVByZXZpZXdIaWdobGlnaHQgPSAoYmxvY2tJZCkgPT4ge1xuICAgICAgaWYgKCFwcmV2aWV3RnJhbWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgZG9jID0gcHJldmlld0ZyYW1lLmNvbnRlbnREb2N1bWVudDtcbiAgICAgIGlmICghZG9jKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG5vZGVzID0gZG9jLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXByZXZpZXctYmxvY2tdJyk7XG4gICAgICBub2Rlcy5mb3JFYWNoKChub2RlKSA9PiB7XG4gICAgICAgIGlmIChub2RlLmRhdGFzZXQucHJldmlld0Jsb2NrID09PSBibG9ja0lkKSB7XG4gICAgICAgICAgbm9kZS5jbGFzc0xpc3QuYWRkKCdwcmV2aWV3LWJsb2NrLWFjdGl2ZScpO1xuICAgICAgICAgIGlmIChwcmV2aWV3UmVhZHkgJiYgYmxvY2tJZCkge1xuICAgICAgICAgICAgbm9kZS5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiAnc21vb3RoJywgYmxvY2s6ICdjZW50ZXInLCBpbmxpbmU6ICduZWFyZXN0JyB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbm9kZS5jbGFzc0xpc3QucmVtb3ZlKCdwcmV2aWV3LWJsb2NrLWFjdGl2ZScpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmIChwcmV2aWV3SGlnaGxpZ2h0T3ZlcmxheSkge1xuICAgICAgICBwcmV2aWV3SGlnaGxpZ2h0T3ZlcmxheS5zdHlsZS5ib3JkZXJDb2xvciA9IGJsb2NrSWQgPyAncmdiYSgxNTYsIDEwNywgMjU1LCAwLjUpJyA6ICd0cmFuc3BhcmVudCc7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCByZW5kZXJCbG9ja0xpc3QgPSAocGFnZSkgPT4ge1xuICAgICAgaWYgKCFibG9ja0xpc3QpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYmxvY2tMaXN0LmlubmVySFRNTCA9ICcnO1xuICAgICAgY29uc3QgYmxvY2tzID0gcGFnZT8uYmxvY2tzIHx8IFtdO1xuICAgICAgaWYgKGJsb2NrQ291bnRCYWRnZSkge1xuICAgICAgICBibG9ja0NvdW50QmFkZ2UudGV4dENvbnRlbnQgPSBmb3JtYXRCbG9ja0NvdW50KGJsb2Nrcy5sZW5ndGgpO1xuICAgICAgfVxuICAgICAgaWYgKGJsb2Nrcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgYmxvY2tMaXN0LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBibG9ja0xpc3RFbXB0eT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGJsb2NrTGlzdC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGJsb2NrTGlzdEVtcHR5Py5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGJsb2Nrcy5mb3JFYWNoKChibG9jaykgPT4ge1xuICAgICAgICBjb25zdCBpc0FjdGl2ZSA9IGJsb2NrLmlkID09PSBhY3RpdmVCbG9ja0lkO1xuICAgICAgICBjb25zdCBpdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGl0ZW0uZGF0YXNldC5ibG9ja0l0ZW0gPSAndHJ1ZSc7XG4gICAgICAgIGl0ZW0uZGF0YXNldC5ibG9ja0lkID0gYmxvY2suaWQ7XG4gICAgICAgIGl0ZW0uc2V0QXR0cmlidXRlKCdyb2xlJywgJ29wdGlvbicpO1xuICAgICAgICBpdGVtLnNldEF0dHJpYnV0ZSgnYXJpYS1zZWxlY3RlZCcsIGlzQWN0aXZlID8gJ3RydWUnIDogJ2ZhbHNlJyk7XG4gICAgICAgIGl0ZW0udGFiSW5kZXggPSAwO1xuICAgICAgICBpdGVtLmNsYXNzTmFtZSA9IFtcbiAgICAgICAgICAncmVsYXRpdmUgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTMgcm91bmRlZC0yeGwgYm9yZGVyIHB4LTMgcHktMiB0ZXh0LWxlZnQgdHJhbnNpdGlvbicsXG4gICAgICAgICAgaXNBY3RpdmVcbiAgICAgICAgICAgID8gJ2JnLXNsYXRlLTEwMCBib3JkZXItWyM5QzZCRkZdLzQwIHNoYWRvdy1zbSdcbiAgICAgICAgICAgIDogJ2JvcmRlci1zbGF0ZS0yMDAgaG92ZXI6Ym9yZGVyLVsjOUM2QkZGXS80MCcsXG4gICAgICAgIF0uam9pbignICcpO1xuICAgICAgICBjb25zdCBhY2NlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgIGFjY2VudC5jbGFzc05hbWUgPSBgYWJzb2x1dGUgaW5zZXQteS0yIGxlZnQtMCB3LTEgcm91bmRlZC1mdWxsIGJnLVsjOUM2QkZGXSAke1xuICAgICAgICAgIGlzQWN0aXZlID8gJycgOiAnaGlkZGVuJ1xuICAgICAgICB9YDtcbiAgICAgICAgaXRlbS5hcHBlbmRDaGlsZChhY2NlbnQpO1xuXG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgY29udGVudC5jbGFzc05hbWUgPSAnZmxleCBmbGV4LTEgaXRlbXMtY2VudGVyIGdhcC0zJztcbiAgICAgICAgY29uc3QgaGFuZGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGhhbmRsZS5jbGFzc05hbWUgPVxuICAgICAgICAgICdoaWRkZW4gbGc6ZmxleCBjdXJzb3ItZ3JhYiBmbGV4LXNocmluay0wIGl0ZW1zLWNlbnRlciB0ZXh0LWxnIHRleHQtc2xhdGUtNDAwJztcbiAgICAgICAgaGFuZGxlLmlubmVySFRNTCA9ICcmIzg4MDE7JztcbiAgICAgICAgY29udGVudC5hcHBlbmRDaGlsZChoYW5kbGUpO1xuXG4gICAgICAgIGNvbnN0IHRleHRXcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRleHRXcmFwcGVyLmNsYXNzTmFtZSA9ICdmbGV4LTEnO1xuICAgICAgICBjb25zdCBtZXRhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIG1ldGEuY2xhc3NOYW1lID0gJ2ZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHRleHQtWzExcHhdIHVwcGVyY2FzZSB0cmFja2luZy13aWRlIHRleHQtc2xhdGUtNTAwJztcbiAgICAgICAgY29uc3QgdHlwZUJhZGdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICB0eXBlQmFkZ2UuY2xhc3NOYW1lID1cbiAgICAgICAgICAncm91bmRlZC1mdWxsIGJnLXNsYXRlLTEwMCBweC0yIHB5LTAuNSB0ZXh0LVsxMHB4XSBmb250LXNlbWlib2xkIHRleHQtc2xhdGUtNjAwJztcbiAgICAgICAgdHlwZUJhZGdlLnRleHRDb250ZW50ID0gYmxvY2sudHlwZTtcbiAgICAgICAgY29uc3Qgc3RhdHVzQmFkZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgIHN0YXR1c0JhZGdlLmNsYXNzTmFtZSA9ICd0ZXh0LXNsYXRlLTQwMCc7XG4gICAgICAgIHN0YXR1c0JhZGdlLnRleHRDb250ZW50ID0gYmxvY2suc3RhdHVzO1xuICAgICAgICBtZXRhLmFwcGVuZENoaWxkKHR5cGVCYWRnZSk7XG4gICAgICAgIG1ldGEuYXBwZW5kQ2hpbGQoc3RhdHVzQmFkZ2UpO1xuICAgICAgICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICAgICAgdGl0bGUuY2xhc3NOYW1lID0gJ210LTEgdGV4dC1zbSBmb250LXNlbWlib2xkIHRleHQtc2xhdGUtOTAwJztcbiAgICAgICAgY29uc3QgZGlzcGxheUxhYmVsID1cbiAgICAgICAgICAoYmxvY2suc2V0dGluZ3MgJiYgYmxvY2suc2V0dGluZ3MudGl0bGUpIHx8IGJsb2NrLmxhYmVsIHx8ICdCbG9jIHNhbnMgdGl0cmUnO1xuICAgICAgICB0aXRsZS50ZXh0Q29udGVudCA9IGRpc3BsYXlMYWJlbDtcbiAgICAgICAgdGV4dFdyYXBwZXIuYXBwZW5kQ2hpbGQobWV0YSk7XG4gICAgICAgIHRleHRXcmFwcGVyLmFwcGVuZENoaWxkKHRpdGxlKTtcbiAgICAgICAgY29uc3QgYmxvY2tUeXBlID0gKGJsb2NrLnR5cGUgfHwgJycpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGlmIChibG9ja1R5cGUgPT09ICdjb2xsZWN0aW9uZ3JpZCcgJiYgYmxvY2suY29sbGVjdGlvbklkKSB7XG4gICAgICAgICAgY29uc3QgY29sbGVjdGlvbk5hbWUgPVxuICAgICAgICAgICAgZGVzaWduQ29sbGVjdGlvbnMuZmluZCgoZW50cnkpID0+IGVudHJ5LmlkID09PSBibG9jay5jb2xsZWN0aW9uSWQpPy5uYW1lIHx8XG4gICAgICAgICAgICBibG9jay5jb2xsZWN0aW9uSWQ7XG4gICAgICAgICAgY29uc3QgaW5mbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICAgICAgICBpbmZvLmNsYXNzTmFtZSA9ICd0ZXh0LXhzIHRleHQtc2xhdGUtNDAwJztcbiAgICAgICAgICBpbmZvLnRleHRDb250ZW50ID0gYENvbGxlY3Rpb24gOiAke2NvbGxlY3Rpb25OYW1lfWA7XG4gICAgICAgICAgdGV4dFdyYXBwZXIuYXBwZW5kQ2hpbGQoaW5mbyk7XG4gICAgICAgIH1cbiAgICAgICAgY29udGVudC5hcHBlbmRDaGlsZCh0ZXh0V3JhcHBlcik7XG4gICAgICAgIGl0ZW0uYXBwZW5kQ2hpbGQoY29udGVudCk7XG5cbiAgICAgICAgY29uc3QgYWN0aW9ucyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBhY3Rpb25zLmNsYXNzTmFtZSA9ICdmbGV4IGZsZXgtY29sIGdhcC0xIHRleHQteHMgdGV4dC1zbGF0ZS00MDAnO1xuXG4gICAgICAgIGNvbnN0IG1vdmVCdXR0b25zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIG1vdmVCdXR0b25zLmNsYXNzTmFtZSA9ICdmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMSBsZzpoaWRkZW4nO1xuICAgICAgICBjb25zdCBtb3ZlVXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgbW92ZVVwLnR5cGUgPSAnYnV0dG9uJztcbiAgICAgICAgbW92ZVVwLmNsYXNzTmFtZSA9XG4gICAgICAgICAgJ3JvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1zbGF0ZS0yMDAgcHgtMiBweS0xIHRleHQtWzExcHhdIGZvbnQtc2VtaWJvbGQgdGV4dC1zbGF0ZS01MDAnO1xuICAgICAgICBtb3ZlVXAudGV4dENvbnRlbnQgPSAnXHUyMTkxJztcbiAgICAgICAgbW92ZVVwLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgbW92ZUJsb2NrQnlPZmZzZXQoYmxvY2suaWQsIC0xKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IG1vdmVEb3duID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIG1vdmVEb3duLnR5cGUgPSAnYnV0dG9uJztcbiAgICAgICAgbW92ZURvd24uY2xhc3NOYW1lID1cbiAgICAgICAgICAncm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLXNsYXRlLTIwMCBweC0yIHB5LTEgdGV4dC1bMTFweF0gZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICAgIG1vdmVEb3duLnRleHRDb250ZW50ID0gJ1x1MjE5Myc7XG4gICAgICAgIG1vdmVEb3duLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgbW92ZUJsb2NrQnlPZmZzZXQoYmxvY2suaWQsIDEpO1xuICAgICAgICB9KTtcbiAgICAgICAgbW92ZUJ1dHRvbnMuYXBwZW5kQ2hpbGQobW92ZVVwKTtcbiAgICAgICAgbW92ZUJ1dHRvbnMuYXBwZW5kQ2hpbGQobW92ZURvd24pO1xuICAgICAgICBhY3Rpb25zLmFwcGVuZENoaWxkKG1vdmVCdXR0b25zKTtcblxuICAgICAgICBjb25zdCBkZWxldGVCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgZGVsZXRlQnV0dG9uLnR5cGUgPSAnYnV0dG9uJztcbiAgICAgICAgZGVsZXRlQnV0dG9uLmNsYXNzTmFtZSA9XG4gICAgICAgICAgJ2lubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciByb3VuZGVkLWxnIGJvcmRlciBib3JkZXItdHJhbnNwYXJlbnQgcHgtMiBweS0xIHRleHQtWzEycHhdIHRleHQtcm9zZS01MDAgaG92ZXI6dGV4dC1yb3NlLTcwMCc7XG4gICAgICAgIGRlbGV0ZUJ1dHRvbi5pbm5lckhUTUwgPSAnXHVEODNEXHVEREQxXHVGRTBGJztcbiAgICAgICAgZGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgb3BlbkJsb2NrRGVsZXRlTW9kYWwoYmxvY2suaWQpO1xuICAgICAgICB9KTtcblxuICAgICAgICBhY3Rpb25zLmFwcGVuZENoaWxkKGRlbGV0ZUJ1dHRvbik7XG4gICAgICAgIGl0ZW0uYXBwZW5kQ2hpbGQoYWN0aW9ucyk7XG5cbiAgICAgICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICBzZXRBY3RpdmVCbG9jayhibG9jay5pZCk7XG4gICAgICAgIH0pO1xuICAgICAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICBpZiAoZXZlbnQua2V5ID09PSAnRW50ZXInIHx8IGV2ZW50LmtleSA9PT0gJyAnKSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgc2V0QWN0aXZlQmxvY2soYmxvY2suaWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGJsb2NrTGlzdC5hcHBlbmRDaGlsZChpdGVtKTtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgY29uc3QgcmVuZGVyUGFnZUxpc3RzID0gKHBhZ2VzLCBhY3RpdmVJZCkgPT4ge1xuICAgICAgcGFnZUxpc3RzLmZvckVhY2goKGxpc3QpID0+IHtcbiAgICAgICAgbGlzdC5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgcGFnZXMuZm9yRWFjaCgocGFnZSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgICAgIGl0ZW0uY2xhc3NOYW1lID0gJ2ZsZXggaXRlbXMtY2VudGVyIGdhcC0xJztcbiAgICAgICAgICBjb25zdCBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgICBidXR0b24udHlwZSA9ICdidXR0b24nO1xuICAgICAgICAgIGJ1dHRvbi5kYXRhc2V0LnBhZ2VJZCA9IHBhZ2UuaWQ7XG4gICAgICAgICAgYnV0dG9uLmNsYXNzTmFtZSA9IFtcbiAgICAgICAgICAgICdmbGV4LTEgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTMgcHgtMyBweS0yIHRleHQtbGVmdCB0cmFuc2l0aW9uJyxcbiAgICAgICAgICAgIGFjdGl2ZUlkID09PSBwYWdlLmlkXG4gICAgICAgICAgICAgID8gJ2JnLVsjOUM2QkZGXS8xMCB0ZXh0LXNsYXRlLTkwMCBib3JkZXIgYm9yZGVyLVsjOUM2QkZGXS80MCByb3VuZGVkLXhsIHNoYWRvdy1zbSdcbiAgICAgICAgICAgICAgOiAndGV4dC1zbGF0ZS03MDAgaG92ZXI6Ymctc2xhdGUtNTAgcm91bmRlZC14bCcsXG4gICAgICAgICAgXS5qb2luKCcgJyk7XG4gICAgICAgICAgaWYgKGFjdGl2ZUlkID09PSBwYWdlLmlkKSB7XG4gICAgICAgICAgICBidXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLWN1cnJlbnQnLCAncGFnZScpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBidXR0b24ucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWN1cnJlbnQnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnV0dG9uLmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZmxleCBoLTkgdy05IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciByb3VuZGVkLXhsIGJvcmRlciBib3JkZXItc2xhdGUtMjAwIGJnLXdoaXRlIHRleHQtc2xhdGUtNTAwXCI+XG4gICAgICAgICAgICAgIDxzdmcgd2lkdGg9XCIxOFwiIGhlaWdodD1cIjE4XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+XG4gICAgICAgICAgICAgICAgPHBhdGggZD1cIk02LjUgNC41aDdsNCA0djExYTEgMSAwIDAgMS0xIDFoLTEwYTEgMSAwIDAgMS0xLTF2LTE0YTEgMSAwIDAgMSAxLTFaXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMS40XCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIi8+XG4gICAgICAgICAgICAgICAgPHBhdGggZD1cIk0xMy41IDQuNXY0YTEgMSAwIDAgMCAxIDFoM1wiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjEuNFwiLz5cbiAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQtc20gZm9udC1zZW1pYm9sZFwiPiR7cGFnZS50aXRsZX08L3NwYW4+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC14cyB0ZXh0LXNsYXRlLTUwMFwiPiR7cGFnZS5zbHVnfTwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIGA7XG4gICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgc2V0QWN0aXZlUGFnZShwYWdlLmlkKTtcbiAgICAgICAgICAgIGlmICghaXNEZXNrdG9wRHJhd2VyKCkpIHtcbiAgICAgICAgICAgICAgY2xvc2VEcmF3ZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpdGVtLmFwcGVuZENoaWxkKGJ1dHRvbik7XG4gICAgICAgICAgLy8gQm91dG9uIGRlIHN1cHByZXNzaW9uXG4gICAgICAgICAgY29uc3QgZGVsZXRlQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgICAgZGVsZXRlQnRuLnR5cGUgPSAnYnV0dG9uJztcbiAgICAgICAgICBkZWxldGVCdG4uY2xhc3NOYW1lID0gJ2ZsZXgtc2hyaW5rLTAgcC0yIHRleHQtc2xhdGUtNDAwIGhvdmVyOnRleHQtcm9zZS02MDAgaG92ZXI6Ymctcm9zZS01MCByb3VuZGVkLWxnIHRyYW5zaXRpb24nO1xuICAgICAgICAgIGRlbGV0ZUJ0bi50aXRsZSA9ICdTdXBwcmltZXIgY2V0dGUgcGFnZSc7XG4gICAgICAgICAgZGVsZXRlQnRuLnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIGBTdXBwcmltZXIgJHtwYWdlLnRpdGxlfWApO1xuICAgICAgICAgIGRlbGV0ZUJ0bi5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICA8c3ZnIHdpZHRoPVwiMTZcIiBoZWlnaHQ9XCIxNlwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIj5cbiAgICAgICAgICAgICAgPHBhdGggZD1cIk0zIDZoMThNOCA2VjRhMiAyIDAgMCAxIDItMmg0YTIgMiAwIDAgMSAyIDJ2Mm0zIDB2MTRhMiAyIDAgMCAxLTIgMkg3YTIgMiAwIDAgMS0yLTJWNmgxNFpNMTAgMTF2Nk0xNCAxMXY2XCIvPlxuICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgYDtcbiAgICAgICAgICBkZWxldGVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIG9wZW5EZWxldGVQYWdlTW9kYWwocGFnZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaXRlbS5hcHBlbmRDaGlsZChkZWxldGVCdG4pO1xuICAgICAgICAgIGxpc3QuYXBwZW5kQ2hpbGQoaXRlbSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICBjb25zdCBnZXRBY3RpdmVCbG9jayA9ICgpID0+IHtcbiAgICAgIGlmICghY3VycmVudFBhZ2UgfHwgIUFycmF5LmlzQXJyYXkoY3VycmVudFBhZ2UuYmxvY2tzKSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjdXJyZW50UGFnZS5ibG9ja3MuZmluZCgoYmxvY2spID0+IGJsb2NrLmlkID09PSBhY3RpdmVCbG9ja0lkKSB8fCBudWxsO1xuICAgIH07XG4gICAgY29uc3Qgc2V0QWN0aXZlQmxvY2sgPSAoYmxvY2tJZCkgPT4ge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWJsb2NrSWQpIHtcbiAgICAgICAgYWN0aXZlQmxvY2tJZCA9IG51bGw7XG4gICAgICAgIHJlbmRlckJsb2NrTGlzdChjdXJyZW50UGFnZSk7XG4gICAgICAgIHJlbmRlckJsb2NrRGV0YWlscyhudWxsKTtcbiAgICAgICAgYXBwbHlQcmV2aWV3SGlnaGxpZ2h0KG51bGwpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCB0YXJnZXRCbG9jayA9XG4gICAgICAgIGN1cnJlbnRQYWdlLmJsb2Nrcy5maW5kKChibG9jaykgPT4gYmxvY2suaWQgPT09IGJsb2NrSWQpIHx8IGN1cnJlbnRQYWdlLmJsb2Nrc1swXSB8fCBudWxsO1xuICAgICAgYWN0aXZlQmxvY2tJZCA9IHRhcmdldEJsb2NrPy5pZCB8fCBudWxsO1xuICAgICAgcmVuZGVyQmxvY2tMaXN0KGN1cnJlbnRQYWdlKTtcbiAgICAgIHJlbmRlckJsb2NrRGV0YWlscyh0YXJnZXRCbG9jayk7XG4gICAgICBhcHBseVByZXZpZXdIaWdobGlnaHQoYWN0aXZlQmxvY2tJZCk7XG4gICAgfTtcbiAgICBjb25zdCB1cGRhdGVDdXJyZW50UGFnZUJsb2NrcyA9IChuZXdCbG9ja3MpID0+IHtcbiAgICAgIGlmICghY3VycmVudFBhZ2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgbmV4dFBhZ2UgPSB7IC4uLmN1cnJlbnRQYWdlLCBibG9ja3M6IG5ld0Jsb2NrcyB9O1xuICAgICAgdXBkYXRlQ3VycmVudFBhZ2VTdGF0ZShuZXh0UGFnZSk7XG4gICAgfTtcbiAgICBjb25zdCBpc0Rlc2t0b3BSZW9yZGVyID0gKCkgPT4gd2luZG93Lm1hdGNoTWVkaWEoJyhtaW4td2lkdGg6IDEwMjRweCknKS5tYXRjaGVzO1xuICAgIGZ1bmN0aW9uIG1vdmVCbG9ja0J5T2Zmc2V0KGJsb2NrSWQsIG9mZnNldCkge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSB8fCAhYmxvY2tJZCB8fCAhb2Zmc2V0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGJsb2NrcyA9IFsuLi4oY3VycmVudFBhZ2UuYmxvY2tzIHx8IFtdKV07XG4gICAgICBjb25zdCBpbmRleCA9IGJsb2Nrcy5maW5kSW5kZXgoKGJsb2NrKSA9PiBibG9jay5pZCA9PT0gYmxvY2tJZCk7XG4gICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG5ld0luZGV4ID0gaW5kZXggKyBvZmZzZXQ7XG4gICAgICBpZiAobmV3SW5kZXggPCAwIHx8IG5ld0luZGV4ID49IGJsb2Nrcy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgW21vdmVkXSA9IGJsb2Nrcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgYmxvY2tzLnNwbGljZShuZXdJbmRleCwgMCwgbW92ZWQpO1xuICAgICAgdXBkYXRlQ3VycmVudFBhZ2VCbG9ja3MoYmxvY2tzKTtcbiAgICAgIHNldEFjdGl2ZVBhZ2UoY3VycmVudFBhZ2UuaWQsIHsgcHJlc2VydmVCbG9jazogdHJ1ZSB9KTtcbiAgICAgIHNldEFjdGl2ZUJsb2NrKG1vdmVkLmlkKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVvcmRlckJsb2Nrcyhzb3VyY2VJZCwgdGFyZ2V0SWQpIHtcbiAgICAgIGlmICghY3VycmVudFBhZ2UgfHwgIXNvdXJjZUlkIHx8ICF0YXJnZXRJZCB8fCBzb3VyY2VJZCA9PT0gdGFyZ2V0SWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgYmxvY2tzID0gWy4uLihjdXJyZW50UGFnZS5ibG9ja3MgfHwgW10pXTtcbiAgICAgIGNvbnN0IGZyb21JbmRleCA9IGJsb2Nrcy5maW5kSW5kZXgoKGJsb2NrKSA9PiBibG9jay5pZCA9PT0gc291cmNlSWQpO1xuICAgICAgY29uc3QgdG9JbmRleCA9IGJsb2Nrcy5maW5kSW5kZXgoKGJsb2NrKSA9PiBibG9jay5pZCA9PT0gdGFyZ2V0SWQpO1xuICAgICAgaWYgKGZyb21JbmRleCA8IDAgfHwgdG9JbmRleCA8IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgW21vdmVkXSA9IGJsb2Nrcy5zcGxpY2UoZnJvbUluZGV4LCAxKTtcbiAgICAgIGJsb2Nrcy5zcGxpY2UodG9JbmRleCwgMCwgbW92ZWQpO1xuICAgICAgdXBkYXRlQ3VycmVudFBhZ2VCbG9ja3MoYmxvY2tzKTtcbiAgICAgIHNldEFjdGl2ZVBhZ2UoY3VycmVudFBhZ2UuaWQsIHsgcHJlc2VydmVCbG9jazogdHJ1ZSB9KTtcbiAgICAgIHNldEFjdGl2ZUJsb2NrKG1vdmVkLmlkKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlRHJhZ2dhYmxlU3RhdGUoKSB7XG4gICAgICBpZiAoIWJsb2NrTGlzdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBkcmFnZ2FibGUgPSBpc0Rlc2t0b3BSZW9yZGVyKCk7XG4gICAgICBibG9ja0xpc3QucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYmxvY2staXRlbV0nKS5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgIGl0ZW0uc2V0QXR0cmlidXRlKCdkcmFnZ2FibGUnLCBkcmFnZ2FibGUgPyAndHJ1ZScgOiAnZmFsc2UnKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjbG9zZUJsb2NrTGlicmFyeSgpIHtcbiAgICAgIGlmICghYmxvY2tMaWJyYXJ5KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGJsb2NrTGlicmFyeS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGJsb2NrTGlicmFyeU9wZW4gPSBmYWxzZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gb3BlbkJsb2NrTGlicmFyeSgpIHtcbiAgICAgIGlmICghYmxvY2tMaWJyYXJ5KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGJsb2NrTGlicmFyeS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGJsb2NrTGlicmFyeU9wZW4gPSB0cnVlO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0b2dnbGVCbG9ja0xpYnJhcnkoKSB7XG4gICAgICBibG9ja0xpYnJhcnlPcGVuID8gY2xvc2VCbG9ja0xpYnJhcnkoKSA6IG9wZW5CbG9ja0xpYnJhcnkoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYWRkQmxvY2tGcm9tTGlicmFyeSh0eXBlKSB7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlIHx8ICF0eXBlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRlZmluaXRpb24gPSBibG9ja0xpYnJhcnlEZWZpbml0aW9uc1t0eXBlXTtcbiAgICAgIGlmICghZGVmaW5pdGlvbikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBjb3VudCA9XG4gICAgICAgIChjdXJyZW50UGFnZS5ibG9ja3MgfHwgW10pLmZpbHRlcigoYmxvY2spID0+IGJsb2NrLnR5cGUgPT09IGRlZmluaXRpb24udHlwZSkubGVuZ3RoICsgMTtcbiAgICAgIGNvbnN0IG5ld0Jsb2NrID0gY3JlYXRlQmxvY2soXG4gICAgICAgIGdlbmVyYXRlQmxvY2tJZChjdXJyZW50UGFnZS5pZCwgdHlwZSksXG4gICAgICAgIGAke2RlZmluaXRpb24ubGFiZWx9ICR7Y291bnR9YCxcbiAgICAgICAgZGVmaW5pdGlvbi50eXBlLFxuICAgICAgICBkZWZpbml0aW9uLnN0YXR1cyxcbiAgICAgICAgZGVmaW5pdGlvbi5kZXNjcmlwdGlvbixcbiAgICAgICAgZGVmaW5pdGlvbi5wcm9wcyxcbiAgICAgICAgZGVmaW5pdGlvbi5zZXR0aW5ncyB8fCB7fSxcbiAgICAgICk7XG4gICAgICBpZiAoKGRlZmluaXRpb24udHlwZSB8fCAnJykudG9Mb3dlckNhc2UoKSA9PT0gJ2NvbGxlY3Rpb25ncmlkJykge1xuICAgICAgICBjb25zdCBmaXJzdENvbGxlY3Rpb25JZCA9IGRlc2lnbkNvbGxlY3Rpb25zWzBdPy5pZCB8fCAnJztcbiAgICAgICAgbmV3QmxvY2suY29sbGVjdGlvbklkID0gZmlyc3RDb2xsZWN0aW9uSWQ7XG4gICAgICAgIG5ld0Jsb2NrLnNldHRpbmdzLmNvbGxlY3Rpb25JZCA9IGZpcnN0Q29sbGVjdGlvbklkO1xuICAgICAgICBuZXdCbG9jay5zZXR0aW5ncy5saW1pdCA9IG5ld0Jsb2NrLnNldHRpbmdzLmxpbWl0IHx8IDY7XG4gICAgICB9XG4gICAgICBjb25zdCBuZXh0QmxvY2tzID0gWy4uLihjdXJyZW50UGFnZS5ibG9ja3MgfHwgW10pLCBuZXdCbG9ja107XG4gICAgICB1cGRhdGVDdXJyZW50UGFnZUJsb2NrcyhuZXh0QmxvY2tzKTtcbiAgICAgIHNldEFjdGl2ZVBhZ2UoY3VycmVudFBhZ2UuaWQsIHsgcHJlc2VydmVCbG9jazogdHJ1ZSB9KTtcbiAgICAgIHNldEFjdGl2ZUJsb2NrKG5ld0Jsb2NrLmlkKTtcbiAgICAgIGNsb3NlQmxvY2tMaWJyYXJ5KCk7XG4gICAgICBzaG93VG9hc3QoJ0Jsb2MgYWpvdXRcdTAwRTknKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGVsZXRlQmxvY2tCeUlkKGJsb2NrSWQpIHtcbiAgICAgIGlmICghY3VycmVudFBhZ2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgYmxvY2tzID0gKGN1cnJlbnRQYWdlLmJsb2NrcyB8fCBbXSkuZmlsdGVyKChibG9jaykgPT4gYmxvY2suaWQgIT09IGJsb2NrSWQpO1xuICAgICAgY29uc3QgbmV4dEFjdGl2ZSA9XG4gICAgICAgIGJsb2NrSWQgPT09IGFjdGl2ZUJsb2NrSWQgPyBibG9ja3NbMF0/LmlkIHx8IG51bGwgOiBhY3RpdmVCbG9ja0lkIHx8IGJsb2Nrc1swXT8uaWQgfHwgbnVsbDtcbiAgICAgIHVwZGF0ZUN1cnJlbnRQYWdlQmxvY2tzKGJsb2Nrcyk7XG4gICAgICBhY3RpdmVCbG9ja0lkID0gbmV4dEFjdGl2ZTtcbiAgICAgIHNldEFjdGl2ZVBhZ2UoY3VycmVudFBhZ2UuaWQsIHsgcHJlc2VydmVCbG9jazogdHJ1ZSB9KTtcbiAgICAgIGlmIChhY3RpdmVCbG9ja0lkKSB7XG4gICAgICAgIHNldEFjdGl2ZUJsb2NrKGFjdGl2ZUJsb2NrSWQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVuZGVyQmxvY2tEZXRhaWxzKG51bGwpO1xuICAgICAgICBhcHBseVByZXZpZXdIaWdobGlnaHQobnVsbCk7XG4gICAgICB9XG4gICAgICBzaG93VG9hc3QoJ0Jsb2Mgc3VwcHJpbVx1MDBFOScpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjbG9zZUJsb2NrRGVsZXRlTW9kYWwoKSB7XG4gICAgICBpZiAoIWJsb2NrRGVsZXRlTW9kYWwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYmxvY2tEZWxldGVNb2RhbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGJsb2NrRGVsZXRlTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnZmxleCcpO1xuICAgICAgcGVuZGluZ0RlbGV0ZUJsb2NrSWQgPSBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBvcGVuQmxvY2tEZWxldGVNb2RhbChibG9ja0lkKSB7XG4gICAgICBpZiAoIWJsb2NrRGVsZXRlTW9kYWwpIHtcbiAgICAgICAgZGVsZXRlQmxvY2tCeUlkKGJsb2NrSWQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwZW5kaW5nRGVsZXRlQmxvY2tJZCA9IGJsb2NrSWQ7XG4gICAgICBibG9ja0RlbGV0ZU1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgYmxvY2tEZWxldGVNb2RhbC5jbGFzc0xpc3QuYWRkKCdmbGV4Jyk7XG4gICAgfVxuICAgIGNvbnN0IHVwZGF0ZUN1cnJlbnRQYWdlU3RhdGUgPSAobmV4dFBhZ2UpID0+IHtcbiAgICAgIGlmICghbmV4dFBhZ2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZVBhZ2VEYXRhKG5leHRQYWdlKTtcbiAgICAgIHBhZ2VzID0gcGFnZXMubWFwKChwYWdlKSA9PiAocGFnZS5pZCA9PT0gbm9ybWFsaXplZC5pZCA/IG5vcm1hbGl6ZWQgOiBwYWdlKSk7XG4gICAgICBjdXJyZW50UGFnZSA9IG5vcm1hbGl6ZWQ7XG4gICAgICBzYXZlUGFnZVRvU2VydmVyKG5vcm1hbGl6ZWQpO1xuICAgIH07XG4gICAgY29uc3Qgc2V0QWN0aXZlUGFnZSA9IChwYWdlSWQsIG9wdGlvbnMgPSB7fSkgPT4ge1xuICAgICAgY29uc3QgdGFyZ2V0ID0gcGFnZXMuZmluZCgocGFnZSkgPT4gcGFnZS5pZCA9PT0gcGFnZUlkKSB8fCBwYWdlc1swXSB8fCBudWxsO1xuICAgICAgY29uc3Qgbm9ybWFsaXplZFRhcmdldCA9IHRhcmdldCA/IG5vcm1hbGl6ZVBhZ2VEYXRhKHRhcmdldCkgOiBudWxsO1xuICAgICAgY3VycmVudFBhZ2UgPSBub3JtYWxpemVkVGFyZ2V0O1xuICAgICAgYWN0aXZlUGFnZUlkID0gdGFyZ2V0Py5pZCB8fCBudWxsO1xuICAgICAgaWYgKCFvcHRpb25zLnByZXNlcnZlQmxvY2sgfHwgIWN1cnJlbnRQYWdlIHx8ICFjdXJyZW50UGFnZS5ibG9ja3Muc29tZSgoYmxvY2spID0+IGJsb2NrLmlkID09PSBhY3RpdmVCbG9ja0lkKSkge1xuICAgICAgICBhY3RpdmVCbG9ja0lkID0gY3VycmVudFBhZ2U/LmJsb2Nrcz8uWzBdPy5pZCB8fCBudWxsO1xuICAgICAgfVxuICAgICAgaWYgKGFjdGl2ZVBhZ2VJZCkge1xuICAgICAgICBwZXJzaXN0QWN0aXZlUGFnZShhY3RpdmVQYWdlSWQpO1xuICAgICAgfVxuICAgICAgcmVuZGVyUGFnZUxpc3RzKHBhZ2VzLCBhY3RpdmVQYWdlSWQpO1xuICAgICAgc2V0QWN0aXZlTGFiZWxzKGN1cnJlbnRQYWdlKTtcbiAgICAgIHJlbmRlclByZXZpZXdNZXRhKGN1cnJlbnRQYWdlKTtcbiAgICAgIHJlZnJlc2hQcmV2aWV3KGN1cnJlbnRQYWdlKTtcbiAgICAgIHJlbmRlckJsb2NrTGlzdChjdXJyZW50UGFnZSk7XG4gICAgICByZW5kZXJCbG9ja0RldGFpbHMoZ2V0QWN0aXZlQmxvY2soKSk7XG4gICAgICBhcHBseVByZXZpZXdIaWdobGlnaHQoYWN0aXZlQmxvY2tJZCk7XG4gICAgICB1cGRhdGVEcmFnZ2FibGVTdGF0ZSgpO1xuICAgICAgaWYgKGJsb2NrTGlicmFyeU9wZW4pIHtcbiAgICAgICAgY2xvc2VCbG9ja0xpYnJhcnkoKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGlzRGVza3RvcERyYXdlciA9ICgpID0+IHdpbmRvdy5tYXRjaE1lZGlhKCcobWluLXdpZHRoOiAxMDI0cHgpJykubWF0Y2hlcztcbiAgICBjb25zdCBzeW5jRHJhd2VyU3RhdGUgPSAoKSA9PiB7XG4gICAgICBpZiAoIWRyYXdlcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoaXNEZXNrdG9wRHJhd2VyKCkpIHtcbiAgICAgICAgZHJhd2VyLmNsYXNzTGlzdC5hZGQoJ2lzLW9wZW4nKTtcbiAgICAgICAgZHJhd2VyQmFja2Ryb3A/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ292ZXJmbG93LWhpZGRlbicpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZHJhd2VyLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLW9wZW4nKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IG9wZW5EcmF3ZXIgPSAoKSA9PiB7XG4gICAgICBpZiAoIWRyYXdlciB8fCBpc0Rlc2t0b3BEcmF3ZXIoKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBkcmF3ZXIuY2xhc3NMaXN0LmFkZCgnaXMtb3BlbicpO1xuICAgICAgZHJhd2VyQmFja2Ryb3A/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICB9O1xuICAgIGNvbnN0IGNsb3NlRHJhd2VyID0gKCkgPT4ge1xuICAgICAgaWYgKCFkcmF3ZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZHJhd2VyLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLW9wZW4nKTtcbiAgICAgIGRyYXdlckJhY2tkcm9wPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnb3ZlcmZsb3ctaGlkZGVuJyk7XG4gICAgfTtcbiAgICBjb25zdCBvcGVuQWRkUGFnZUZvcm0gPSAoKSA9PiB7XG4gICAgICBpZiAoIWFkZFBhZ2VGb3JtIHx8ICFhZGRQYWdlVG9nZ2xlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGFkZFBhZ2VGb3JtLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgYWRkUGFnZVRvZ2dsZS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGFkZFBhZ2VFcnJvciAmJiAoYWRkUGFnZUVycm9yLnRleHRDb250ZW50ID0gJycpO1xuICAgICAgcGFnZVNsdWdNYW51YWxseUVkaXRlZCA9IGZhbHNlO1xuICAgICAgaWYgKGFkZFBhZ2VUaXRsZSkge1xuICAgICAgICBhZGRQYWdlVGl0bGUudmFsdWUgPSAnJztcbiAgICAgICAgYWRkUGFnZVRpdGxlLmZvY3VzKCk7XG4gICAgICB9XG4gICAgICBpZiAoYWRkUGFnZVNsdWcpIHtcbiAgICAgICAgYWRkUGFnZVNsdWcudmFsdWUgPSAnJztcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGNsb3NlQWRkUGFnZUZvcm0gPSAoKSA9PiB7XG4gICAgICBpZiAoIWFkZFBhZ2VGb3JtIHx8ICFhZGRQYWdlVG9nZ2xlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGFkZFBhZ2VGb3JtLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgYWRkUGFnZVRvZ2dsZS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGFkZFBhZ2VFcnJvciAmJiAoYWRkUGFnZUVycm9yLnRleHRDb250ZW50ID0gJycpO1xuICAgICAgcGFnZVNsdWdNYW51YWxseUVkaXRlZCA9IGZhbHNlO1xuICAgICAgYWRkUGFnZUZvcm0ucmVzZXQoKTtcbiAgICB9O1xuICAgIGNvbnN0IHN5bmNTbHVnRnJvbVRpdGxlID0gKCkgPT4ge1xuICAgICAgaWYgKCFhZGRQYWdlVGl0bGUgfHwgIWFkZFBhZ2VTbHVnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChwYWdlU2x1Z01hbnVhbGx5RWRpdGVkICYmIGFkZFBhZ2VTbHVnLnZhbHVlLnRyaW0oKS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGFkZFBhZ2VTbHVnLnZhbHVlID0gbm9ybWFsaXplUGFnZVNsdWcoYWRkUGFnZVRpdGxlLnZhbHVlKTtcbiAgICB9O1xuXG4gICAgbGV0IHBhZ2VzID0gW107XG4gICAgbGV0IGFjdGl2ZVBhZ2VJZCA9IG51bGw7XG4gICAgbGV0IHBhZ2VTbHVnTWFudWFsbHlFZGl0ZWQgPSBmYWxzZTtcbiAgICBsZXQgY3VycmVudFBhZ2UgPSBudWxsO1xuICAgIGxldCBhY3RpdmVCbG9ja0lkID0gbnVsbDtcbiAgICBsZXQgYmxvY2tMaWJyYXJ5T3BlbiA9IGZhbHNlO1xuICAgIGxldCBwZW5kaW5nRGVsZXRlQmxvY2tJZCA9IG51bGw7XG4gICAgbGV0IGxhdGVzdFByZXZpZXdIdG1sID0gJyc7XG4gICAgbGV0IHByZXZpZXdSZWFkeSA9IGZhbHNlO1xuICAgIGxldCBwcmV2aWV3UmVxdWVzdENvbnRyb2xsZXIgPSBudWxsO1xuICAgIGxldCBkZXNpZ25Db2xsZWN0aW9ucyA9IFtdO1xuXG4gICAgY29uc3Qgbm9ybWFsaXplQmxvY2tEYXRhID0gKGJsb2NrKSA9PiB7XG4gICAgICBjb25zdCBub3JtYWxpemVkID0ge1xuICAgICAgICAuLi5ibG9jayxcbiAgICAgICAgcHJvcHM6IEFycmF5LmlzQXJyYXkoYmxvY2sucHJvcHMpID8gYmxvY2sucHJvcHMgOiBbXSxcbiAgICAgICAgc2V0dGluZ3M6IHsgLi4uKGJsb2NrLnNldHRpbmdzIHx8IHt9KSB9LFxuICAgICAgfTtcbiAgICAgIGNvbnN0IHR5cGUgPSAobm9ybWFsaXplZC50eXBlIHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgaWYgKHR5cGUgPT09ICdjb2xsZWN0aW9uZ3JpZCcpIHtcbiAgICAgICAgbm9ybWFsaXplZC5jb2xsZWN0aW9uSWQgPVxuICAgICAgICAgIG5vcm1hbGl6ZWQuY29sbGVjdGlvbklkIHx8IG5vcm1hbGl6ZWQuc2V0dGluZ3MuY29sbGVjdGlvbklkIHx8ICcnO1xuICAgICAgICBub3JtYWxpemVkLnNldHRpbmdzLmNvbGxlY3Rpb25JZCA9IG5vcm1hbGl6ZWQuY29sbGVjdGlvbklkO1xuICAgICAgICBub3JtYWxpemVkLnNldHRpbmdzLmxpbWl0ID0gbm9ybWFsaXplZC5zZXR0aW5ncy5saW1pdCB8fCA2O1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5vcm1hbGl6ZWQ7XG4gICAgfTtcblxuICAgIGNvbnN0IG5vcm1hbGl6ZVBhZ2VEYXRhID0gKHBhZ2UpID0+ICh7XG4gICAgICAuLi5wYWdlLFxuICAgICAgYmxvY2tzOiAocGFnZS5ibG9ja3MgfHwgW10pLm1hcCgoYmxvY2spID0+IG5vcm1hbGl6ZUJsb2NrRGF0YShibG9jaykpLFxuICAgICAgc2VvOiB7XG4gICAgICAgIHRpdGxlOiAocGFnZS5zZW8/LnRpdGxlIHx8ICcnKS50cmltKCksXG4gICAgICAgIGRlc2NyaXB0aW9uOiAocGFnZS5zZW8/LmRlc2NyaXB0aW9uIHx8ICcnKS50cmltKCksXG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgY29uc3QgbG9hZERlc2lnbkNvbGxlY3Rpb25zID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uc0FwaUJhc2UpIHtcbiAgICAgICAgZGVzaWduQ29sbGVjdGlvbnMgPSBbXTtcbiAgICAgICAgdXBkYXRlQ29sbGVjdGlvblNlbGVjdE9wdGlvbnMoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChjb2xsZWN0aW9uc0FwaUJhc2UsIHtcbiAgICAgICAgICBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIGNvbGxlY3Rpb25zLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gW10pO1xuICAgICAgICBkZXNpZ25Db2xsZWN0aW9ucyA9IEFycmF5LmlzQXJyYXkocGF5bG9hZCkgPyBwYXlsb2FkIDogW107XG4gICAgICAgIGNvbnN0IGN1cnJlbnRWYWx1ZSA9IGNvbGxlY3Rpb25TZWxlY3Q/LnZhbHVlIHx8ICcnO1xuICAgICAgICB1cGRhdGVDb2xsZWN0aW9uU2VsZWN0T3B0aW9ucyhjdXJyZW50VmFsdWUpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkZXNpZ25dIGNvbGxlY3Rpb25zIGxvYWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoJ0NvbGxlY3Rpb25zIGluZGlzcG9uaWJsZXMuJyk7XG4gICAgICAgIGRlc2lnbkNvbGxlY3Rpb25zID0gW107XG4gICAgICAgIHVwZGF0ZUNvbGxlY3Rpb25TZWxlY3RPcHRpb25zKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHN5bmNDb2xsZWN0aW9uU2VsZWN0aW9uSW5mbyA9IChjb2xsZWN0aW9uSWQpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvblNlbGVjdGlvbkluZm8pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFjb2xsZWN0aW9uSWQpIHtcbiAgICAgICAgY29sbGVjdGlvblNlbGVjdGlvbkluZm8udGV4dENvbnRlbnQgPSBkZXNpZ25Db2xsZWN0aW9ucy5sZW5ndGhcbiAgICAgICAgICA/ICdTXHUwMEU5bGVjdGlvbm5leiB1bmUgY29sbGVjdGlvbiBwb3VyIGFmZmljaGVyIHNlcyBpbmZvcm1hdGlvbnMuJ1xuICAgICAgICAgIDogJ0F1Y3VuZSBjb2xsZWN0aW9uIGRpc3BvbmlibGUuIEFqb3V0ZXotZW4gZGVwdWlzIGxcdTIwMTlvbmdsZXQgQ29udGVudXMuJztcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgZW50cnkgPSBkZXNpZ25Db2xsZWN0aW9ucy5maW5kKChjb2xsZWN0aW9uKSA9PiBjb2xsZWN0aW9uLmlkID09PSBjb2xsZWN0aW9uSWQpO1xuICAgICAgaWYgKCFlbnRyeSkge1xuICAgICAgICBjb2xsZWN0aW9uU2VsZWN0aW9uSW5mby50ZXh0Q29udGVudCA9IGBDb2xsZWN0aW9uICR7Y29sbGVjdGlvbklkfWA7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRldGFpbHMgPSBbXTtcbiAgICAgIGlmIChlbnRyeS5kZXNjcmlwdGlvbikge1xuICAgICAgICBkZXRhaWxzLnB1c2goZW50cnkuZGVzY3JpcHRpb24pO1xuICAgICAgfVxuICAgICAgaWYgKGVudHJ5LnR5cGUpIHtcbiAgICAgICAgZGV0YWlscy5wdXNoKGBUeXBlXHUwMEEwOiAke2VudHJ5LnR5cGV9YCk7XG4gICAgICB9XG4gICAgICBjb2xsZWN0aW9uU2VsZWN0aW9uSW5mby50ZXh0Q29udGVudCA9XG4gICAgICAgIGRldGFpbHMuam9pbignIFx1MDBCNyAnKSB8fCBgQ29sbGVjdGlvbiAke2VudHJ5Lm5hbWUgfHwgZW50cnkuaWR9YDtcbiAgICB9O1xuXG4gICAgY29uc3QgdXBkYXRlQ29sbGVjdGlvblNlbGVjdE9wdGlvbnMgPSAoc2VsZWN0ZWRWYWx1ZSA9ICcnKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25TZWxlY3QpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29sbGVjdGlvblNlbGVjdC5pbm5lckhUTUwgPSAnJztcbiAgICAgIGlmICghZGVzaWduQ29sbGVjdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgIGNvbGxlY3Rpb25TZWxlY3QuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgICAgb3B0aW9uLnZhbHVlID0gJyc7XG4gICAgICAgIG9wdGlvbi50ZXh0Q29udGVudCA9ICdBdWN1bmUgY29sbGVjdGlvbiBkaXNwb25pYmxlJztcbiAgICAgICAgY29sbGVjdGlvblNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb24pO1xuICAgICAgICBzeW5jQ29sbGVjdGlvblNlbGVjdGlvbkluZm8oJycpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb2xsZWN0aW9uU2VsZWN0LmRpc2FibGVkID0gZmFsc2U7XG4gICAgICBpZiAoc2VsZWN0ZWRWYWx1ZSAmJiAhZGVzaWduQ29sbGVjdGlvbnMuc29tZSgoZW50cnkpID0+IGVudHJ5LmlkID09PSBzZWxlY3RlZFZhbHVlKSkge1xuICAgICAgICBjb25zdCBmYWxsYmFja09wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICBmYWxsYmFja09wdGlvbi52YWx1ZSA9IHNlbGVjdGVkVmFsdWU7XG4gICAgICAgIGZhbGxiYWNrT3B0aW9uLnRleHRDb250ZW50ID0gc2VsZWN0ZWRWYWx1ZTtcbiAgICAgICAgY29sbGVjdGlvblNlbGVjdC5hcHBlbmRDaGlsZChmYWxsYmFja09wdGlvbik7XG4gICAgICB9XG4gICAgICBkZXNpZ25Db2xsZWN0aW9ucy5mb3JFYWNoKChjb2xsZWN0aW9uKSA9PiB7XG4gICAgICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICBvcHRpb24udmFsdWUgPSBjb2xsZWN0aW9uLmlkO1xuICAgICAgICBjb25zdCBsYWJlbCA9IGNvbGxlY3Rpb24ubmFtZSB8fCBjb2xsZWN0aW9uLmlkO1xuICAgICAgICBvcHRpb24udGV4dENvbnRlbnQgPSBjb2xsZWN0aW9uLnR5cGUgPyBgJHtsYWJlbH0gXHUwMEI3ICR7Y29sbGVjdGlvbi50eXBlfWAgOiBsYWJlbDtcbiAgICAgICAgb3B0aW9uLmRhdGFzZXQuZGVzY3JpcHRpb24gPSBjb2xsZWN0aW9uLmRlc2NyaXB0aW9uIHx8ICcnO1xuICAgICAgICBjb2xsZWN0aW9uU2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbik7XG4gICAgICB9KTtcbiAgICAgIGlmIChzZWxlY3RlZFZhbHVlKSB7XG4gICAgICAgIGNvbGxlY3Rpb25TZWxlY3QudmFsdWUgPSBzZWxlY3RlZFZhbHVlO1xuICAgICAgfVxuICAgICAgc3luY0NvbGxlY3Rpb25TZWxlY3Rpb25JbmZvKGNvbGxlY3Rpb25TZWxlY3QudmFsdWUgfHwgJycpO1xuICAgIH07XG5cbiAgICBsb2FkRGVzaWduQ29sbGVjdGlvbnMoKTtcbiAgICBzeW5jRHJhd2VyU3RhdGUoKTtcblxuICAgIGRyYXdlck9wZW5CdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlbkRyYXdlcik7XG4gICAgfSk7XG4gICAgZHJhd2VyQ2xvc2VCdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VEcmF3ZXIpO1xuICAgIH0pO1xuICAgIGRyYXdlckJhY2tkcm9wPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlRHJhd2VyKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgKCkgPT4ge1xuICAgICAgc3luY0RyYXdlclN0YXRlKCk7XG4gICAgICB1cGRhdGVEcmFnZ2FibGVTdGF0ZSgpO1xuICAgIH0pO1xuXG4gICAgYWRkUGFnZVRvZ2dsZT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuQWRkUGFnZUZvcm0pO1xuICAgIGFkZFBhZ2VDYW5jZWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VBZGRQYWdlRm9ybSk7XG4gICAgYWRkUGFnZVRpdGxlPy5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIHN5bmNTbHVnRnJvbVRpdGxlKTtcbiAgICBhZGRQYWdlU2x1Zz8uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgICBhZGRQYWdlRXJyb3IgJiYgKGFkZFBhZ2VFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICAgIHBhZ2VTbHVnTWFudWFsbHlFZGl0ZWQgPSB0cnVlO1xuICAgIH0pO1xuICAgIGFkZFBhZ2VGb3JtPy5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoIXBhZ2VzQXBpQmFzZSkge1xuICAgICAgICBhZGRQYWdlRXJyb3IgJiYgKGFkZFBhZ2VFcnJvci50ZXh0Q29udGVudCA9ICdBdWN1biBzaXRlIHNcdTAwRTlsZWN0aW9ublx1MDBFOS4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFhZGRQYWdlVGl0bGUgfHwgIWFkZFBhZ2VTbHVnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHRpdGxlID0gYWRkUGFnZVRpdGxlLnZhbHVlLnRyaW0oKTtcbiAgICAgIGNvbnN0IHNsdWcgPSBub3JtYWxpemVQYWdlU2x1ZyhhZGRQYWdlU2x1Zy52YWx1ZS50cmltKCkgfHwgdGl0bGUpO1xuICAgICAgaWYgKCF0aXRsZSB8fCAhc2x1Zykge1xuICAgICAgICBhZGRQYWdlRXJyb3IgJiYgKGFkZFBhZ2VFcnJvci50ZXh0Q29udGVudCA9ICdUaXRyZSBldCBzbHVnIHNvbnQgcmVxdWlzLicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhZGRQYWdlRXJyb3IgJiYgKGFkZFBhZ2VFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICAgIGlmIChhZGRQYWdlU3VibWl0QnV0dG9uKSB7XG4gICAgICAgIGFkZFBhZ2VTdWJtaXRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICBhZGRQYWdlU3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gJ0NyXHUwMEU5YXRpb24uLi4nO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgY3JlYXRlZFBhZ2UgPSBhd2FpdCBjcmVhdGVQYWdlT25TZXJ2ZXIoeyB0aXRsZSwgc2x1ZyB9KTtcbiAgICAgICAgaWYgKCFjcmVhdGVkUGFnZSB8fCAhY3JlYXRlZFBhZ2UuaWQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JcdTAwRTlwb25zZSBpbnZhbGlkZS4nKTtcbiAgICAgICAgfVxuICAgICAgICBwYWdlcyA9IFsuLi5wYWdlcywgbm9ybWFsaXplUGFnZURhdGEoY3JlYXRlZFBhZ2UpXTtcbiAgICAgICAgY2xvc2VBZGRQYWdlRm9ybSgpO1xuICAgICAgICBzaG93VG9hc3QoJ1BhZ2UgY3JcdTAwRTlcdTAwRTllJyk7XG4gICAgICAgIHNldEFjdGl2ZVBhZ2UoY3JlYXRlZFBhZ2UuaWQpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkZXNpZ25dIGNyZWF0ZSBwYWdlIGZhaWxlZCcsIGVycik7XG4gICAgICAgIGFkZFBhZ2VFcnJvciAmJiAoYWRkUGFnZUVycm9yLnRleHRDb250ZW50ID0gZXJyLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgY3JcdTAwRTllciBsYSBwYWdlLicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKGFkZFBhZ2VTdWJtaXRCdXR0b24pIHtcbiAgICAgICAgICBhZGRQYWdlU3VibWl0QnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgYWRkUGFnZVN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9ICdDclx1MDBFOWVyJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gPT09IEltcG9ydCBKU09OIGhhbmRsZXJzID09PVxuICAgIGNvbnN0IG9wZW5JbXBvcnRNb2RhbCA9ICgpID0+IHtcbiAgICAgIGlmICghaW1wb3J0TW9kYWwpIHJldHVybjtcbiAgICAgIGltcG9ydE1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgaW1wb3J0TW9kYWwuY2xhc3NMaXN0LmFkZCgnZmxleCcpO1xuICAgICAgaW1wb3J0U2VsZWN0ZWRGaWxlcyA9IFtdO1xuICAgICAgdXBkYXRlSW1wb3J0RmlsZUxpc3QoKTtcbiAgICAgIGlmIChpbXBvcnRSZXN1bHRzKSBpbXBvcnRSZXN1bHRzLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgaWYgKGltcG9ydFJlc3VsdHNDb250ZW50KSBpbXBvcnRSZXN1bHRzQ29udGVudC5pbm5lckhUTUwgPSAnJztcbiAgICAgIGlmIChpbXBvcnRTdWJtaXQpIGltcG9ydFN1Ym1pdC5kaXNhYmxlZCA9IHRydWU7XG4gICAgfTtcbiAgICBjb25zdCBjbG9zZUltcG9ydE1vZGFsID0gKCkgPT4ge1xuICAgICAgaWYgKCFpbXBvcnRNb2RhbCkgcmV0dXJuO1xuICAgICAgaW1wb3J0TW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBpbXBvcnRNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdmbGV4Jyk7XG4gICAgICBpbXBvcnRTZWxlY3RlZEZpbGVzID0gW107XG4gICAgfTtcbiAgICBjb25zdCB1cGRhdGVJbXBvcnRGaWxlTGlzdCA9ICgpID0+IHtcbiAgICAgIGlmICghaW1wb3J0RmlsZUxpc3QgfHwgIWltcG9ydEZpbGVOYW1lcykgcmV0dXJuO1xuICAgICAgaWYgKGltcG9ydFNlbGVjdGVkRmlsZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGltcG9ydEZpbGVMaXN0LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBpZiAoaW1wb3J0U3VibWl0KSBpbXBvcnRTdWJtaXQuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpbXBvcnRGaWxlTGlzdC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGltcG9ydEZpbGVOYW1lcy5pbm5lckhUTUwgPSBpbXBvcnRTZWxlY3RlZEZpbGVzXG4gICAgICAgIC5tYXAoKGYpID0+IGA8bGkgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPjxzcGFuIGNsYXNzPVwidGV4dC1sZ1wiPlx1RDgzRFx1RENDNDwvc3Bhbj4ke2YubmFtZX08L2xpPmApXG4gICAgICAgIC5qb2luKCcnKTtcbiAgICAgIGlmIChpbXBvcnRTdWJtaXQpIGltcG9ydFN1Ym1pdC5kaXNhYmxlZCA9IGZhbHNlO1xuICAgIH07XG4gICAgY29uc3QgaGFuZGxlSW1wb3J0RmlsZXMgPSAoZmlsZXMpID0+IHtcbiAgICAgIGNvbnN0IGpzb25GaWxlcyA9IEFycmF5LmZyb20oZmlsZXMpLmZpbHRlcihcbiAgICAgICAgKGYpID0+IGYudHlwZSA9PT0gJ2FwcGxpY2F0aW9uL2pzb24nIHx8IGYubmFtZS5lbmRzV2l0aCgnLmpzb24nKVxuICAgICAgKTtcbiAgICAgIGlmIChqc29uRmlsZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHNob3dUb2FzdCgnQXVjdW4gZmljaGllciBKU09OIHZhbGlkZS4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaW1wb3J0U2VsZWN0ZWRGaWxlcyA9IGpzb25GaWxlcztcbiAgICAgIHVwZGF0ZUltcG9ydEZpbGVMaXN0KCk7XG4gICAgfTtcbiAgICBjb25zdCBleGVjdXRlSW1wb3J0ID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFwYWdlc0FwaUJhc2UgfHwgaW1wb3J0U2VsZWN0ZWRGaWxlcy5sZW5ndGggPT09IDApIHJldHVybjtcbiAgICAgIGlmIChpbXBvcnRTdWJtaXQpIHtcbiAgICAgICAgaW1wb3J0U3VibWl0LmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgaW1wb3J0U3VibWl0LnRleHRDb250ZW50ID0gJ0ltcG9ydC4uLic7XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBwYWdlc0RhdGEgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBmaWxlIG9mIGltcG9ydFNlbGVjdGVkRmlsZXMpIHtcbiAgICAgICAgICBjb25zdCB0ZXh0ID0gYXdhaXQgZmlsZS50ZXh0KCk7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZCA9IEpTT04ucGFyc2UodGV4dCk7XG4gICAgICAgICAgICAvLyBTdXBwb3J0IHNpbmdsZSBwYWdlIG9yIGFycmF5IG9mIHBhZ2VzXG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwYXJzZWQpKSB7XG4gICAgICAgICAgICAgIHBhZ2VzRGF0YS5wdXNoKC4uLnBhcnNlZCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwYWdlc0RhdGEucHVzaChwYXJzZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2ggKHBhcnNlRXJyKSB7XG4gICAgICAgICAgICBzaG93VG9hc3QoYEVycmV1ciBKU09OIGRhbnMgJHtmaWxlLm5hbWV9YCk7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdbaW1wb3J0XSBwYXJzZSBlcnJvcicsIGZpbGUubmFtZSwgcGFyc2VFcnIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAocGFnZXNEYXRhLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHNob3dUb2FzdCgnQXVjdW5lIHBhZ2UgdmFsaWRlIFx1MDBFMCBpbXBvcnRlci4nKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtwYWdlc0FwaUJhc2V9L2ltcG9ydGAsIHtcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICBjcmVkZW50aWFsczogJ2luY2x1ZGUnLFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBhZ2VzRGF0YSksXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzdWx0Lm1lc3NhZ2UgfHwgJ0VycmV1ciBzZXJ2ZXVyJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2hvdyByZXN1bHRzXG4gICAgICAgIGlmIChpbXBvcnRSZXN1bHRzICYmIGltcG9ydFJlc3VsdHNDb250ZW50KSB7XG4gICAgICAgICAgaW1wb3J0UmVzdWx0cy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICBsZXQgaHRtbCA9ICcnO1xuICAgICAgICAgIGlmIChyZXN1bHQuaW1wb3J0ZWQgJiYgcmVzdWx0LmltcG9ydGVkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGh0bWwgKz0gYDxwIGNsYXNzPVwidGV4dC1ncmVlbi03MDBcIj5cdTI3MTMgJHtyZXN1bHQuaW1wb3J0ZWQubGVuZ3RofSBwYWdlKHMpIGltcG9ydFx1MDBFOWUocyk8L3A+YDtcbiAgICAgICAgICAgIGh0bWwgKz0gJzx1bCBjbGFzcz1cIm1sLTQgdGV4dC14cyB0ZXh0LXNsYXRlLTYwMFwiPic7XG4gICAgICAgICAgICByZXN1bHQuaW1wb3J0ZWQuZm9yRWFjaCgocCkgPT4ge1xuICAgICAgICAgICAgICBodG1sICs9IGA8bGk+JHtwLnRpdGxlfSAoJHtwLmFjdGlvbiA9PT0gJ3VwZGF0ZWQnID8gJ21pc2UgXHUwMEUwIGpvdXInIDogJ2NyXHUwMEU5XHUwMEU5ZSd9KTwvbGk+YDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaHRtbCArPSAnPC91bD4nO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocmVzdWx0LmVycm9ycyAmJiByZXN1bHQuZXJyb3JzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGh0bWwgKz0gYDxwIGNsYXNzPVwidGV4dC1yb3NlLTYwMCBtdC0yXCI+XHUyNzE3ICR7cmVzdWx0LmVycm9ycy5sZW5ndGh9IGVycmV1cihzKTwvcD5gO1xuICAgICAgICAgICAgaHRtbCArPSAnPHVsIGNsYXNzPVwibWwtNCB0ZXh0LXhzIHRleHQtcm9zZS01MDBcIj4nO1xuICAgICAgICAgICAgcmVzdWx0LmVycm9ycy5mb3JFYWNoKChlKSA9PiB7XG4gICAgICAgICAgICAgIGh0bWwgKz0gYDxsaT4ke2UudGl0bGV9OiAke2UuZXJyb3J9PC9saT5gO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBodG1sICs9ICc8L3VsPic7XG4gICAgICAgICAgfVxuICAgICAgICAgIGltcG9ydFJlc3VsdHNDb250ZW50LmlubmVySFRNTCA9IGh0bWw7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVsb2FkIHBhZ2VzIGxpc3RcbiAgICAgICAgaWYgKHJlc3VsdC5pbXBvcnRlZCAmJiByZXN1bHQuaW1wb3J0ZWQubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGNvbnN0IGZyZXNoUGFnZXMgPSBhd2FpdCBmZXRjaFBhZ2VzRnJvbVNlcnZlcigpO1xuICAgICAgICAgIHBhZ2VzID0gZnJlc2hQYWdlcztcbiAgICAgICAgICByZW5kZXJQYWdlTGlzdHMocGFnZXMsIGFjdGl2ZVBhZ2VJZCk7XG4gICAgICAgICAgaWYgKHBhZ2VzLmxlbmd0aCA+IDAgJiYgIWFjdGl2ZVBhZ2VJZCkge1xuICAgICAgICAgICAgc2V0QWN0aXZlUGFnZShwYWdlc1swXS5pZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNob3dUb2FzdChgJHtyZXN1bHQuaW1wb3J0ZWQubGVuZ3RofSBwYWdlKHMpIGltcG9ydFx1MDBFOWUocylgKTtcbiAgICAgICAgfVxuICAgICAgICBpbXBvcnRTZWxlY3RlZEZpbGVzID0gW107XG4gICAgICAgIHVwZGF0ZUltcG9ydEZpbGVMaXN0KCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2ltcG9ydF0gZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdFcnJldXIgaW1wb3J0Jyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoaW1wb3J0U3VibWl0KSB7XG4gICAgICAgICAgaW1wb3J0U3VibWl0LmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgaW1wb3J0U3VibWl0LnRleHRDb250ZW50ID0gJ0ltcG9ydGVyJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgaW1wb3J0VG9nZ2xlPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5JbXBvcnRNb2RhbCk7XG4gICAgaW1wb3J0Q2xvc2VCdXR0b25zLmZvckVhY2goKGJ0bikgPT4gYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VJbXBvcnRNb2RhbCkpO1xuICAgIGltcG9ydE1vZGFsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBpZiAoZS50YXJnZXQgPT09IGltcG9ydE1vZGFsKSBjbG9zZUltcG9ydE1vZGFsKCk7XG4gICAgfSk7XG4gICAgaW1wb3J0RmlsZUlucHV0Py5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZSkgPT4ge1xuICAgICAgaGFuZGxlSW1wb3J0RmlsZXMoZS50YXJnZXQuZmlsZXMpO1xuICAgIH0pO1xuICAgIGltcG9ydERyb3B6b25lPy5hZGRFdmVudExpc3RlbmVyKCdkcmFnb3ZlcicsIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpbXBvcnREcm9wem9uZS5jbGFzc0xpc3QuYWRkKCdib3JkZXItWyM5QzZCRkZdJywgJ2JnLVsjOUM2QkZGXS8xMCcpO1xuICAgIH0pO1xuICAgIGltcG9ydERyb3B6b25lPy5hZGRFdmVudExpc3RlbmVyKCdkcmFnbGVhdmUnLCAoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaW1wb3J0RHJvcHpvbmUuY2xhc3NMaXN0LnJlbW92ZSgnYm9yZGVyLVsjOUM2QkZGXScsICdiZy1bIzlDNkJGRl0vMTAnKTtcbiAgICB9KTtcbiAgICBpbXBvcnREcm9wem9uZT8uYWRkRXZlbnRMaXN0ZW5lcignZHJvcCcsIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpbXBvcnREcm9wem9uZS5jbGFzc0xpc3QucmVtb3ZlKCdib3JkZXItWyM5QzZCRkZdJywgJ2JnLVsjOUM2QkZGXS8xMCcpO1xuICAgICAgaGFuZGxlSW1wb3J0RmlsZXMoZS5kYXRhVHJhbnNmZXIuZmlsZXMpO1xuICAgIH0pO1xuICAgIGltcG9ydFN1Ym1pdD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBleGVjdXRlSW1wb3J0KTtcbiAgICAvLyBJbXBvcnQgdGFic1xuICAgIGltcG9ydFRhYnMuZm9yRWFjaCgodGFiKSA9PiB7XG4gICAgICB0YWIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHRhcmdldFBhbmVsID0gdGFiLmRhdGFzZXQuaW1wb3J0VGFiO1xuICAgICAgICBpbXBvcnRUYWJzLmZvckVhY2goKHQpID0+IHtcbiAgICAgICAgICBpZiAodC5kYXRhc2V0LmltcG9ydFRhYiA9PT0gdGFyZ2V0UGFuZWwpIHtcbiAgICAgICAgICAgIHQuY2xhc3NMaXN0LmFkZCgnYmctWyM5QzZCRkZdJywgJ3RleHQtd2hpdGUnKTtcbiAgICAgICAgICAgIHQuY2xhc3NMaXN0LnJlbW92ZSgnYm9yZGVyJywgJ2JvcmRlci1zbGF0ZS0yMDAnLCAndGV4dC1zbGF0ZS03MDAnKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdC5jbGFzc0xpc3QucmVtb3ZlKCdiZy1bIzlDNkJGRl0nLCAndGV4dC13aGl0ZScpO1xuICAgICAgICAgICAgdC5jbGFzc0xpc3QuYWRkKCdib3JkZXInLCAnYm9yZGVyLXNsYXRlLTIwMCcsICd0ZXh0LXNsYXRlLTcwMCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGltcG9ydFBhbmVscy5mb3JFYWNoKChwKSA9PiB7XG4gICAgICAgICAgaWYgKHAuZGF0YXNldC5pbXBvcnRQYW5lbCA9PT0gdGFyZ2V0UGFuZWwpIHtcbiAgICAgICAgICAgIHAuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHAuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGNvcHlUZW1wbGF0ZUJ0bj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXRlbXBsYXRlSnNvbikgcmV0dXJuO1xuICAgICAgY29uc3QgdGV4dCA9IHRlbXBsYXRlSnNvbi50ZXh0Q29udGVudCB8fCAnJztcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KHRleHQpO1xuICAgICAgICBzaG93VG9hc3QoJ1RlbXBsYXRlIGNvcGlcdTAwRTkgIScpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tpbXBvcnRdIGNvcHkgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KCdFcnJldXIgY29waWUnKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vID09PSBEZWxldGUgcGFnZSBoYW5kbGVycyA9PT1cbiAgICBjb25zdCBvcGVuRGVsZXRlUGFnZU1vZGFsID0gKHBhZ2UpID0+IHtcbiAgICAgIGlmICghZGVsZXRlUGFnZU1vZGFsIHx8ICFwYWdlKSByZXR1cm47XG4gICAgICBwYWdlVG9EZWxldGUgPSBwYWdlO1xuICAgICAgaWYgKGRlbGV0ZVBhZ2VOYW1lKSBkZWxldGVQYWdlTmFtZS50ZXh0Q29udGVudCA9IHBhZ2UudGl0bGUgfHwgcGFnZS5pZDtcbiAgICAgIGRlbGV0ZVBhZ2VNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGRlbGV0ZVBhZ2VNb2RhbC5jbGFzc0xpc3QuYWRkKCdmbGV4Jyk7XG4gICAgfTtcbiAgICBjb25zdCBjbG9zZURlbGV0ZVBhZ2VNb2RhbCA9ICgpID0+IHtcbiAgICAgIGlmICghZGVsZXRlUGFnZU1vZGFsKSByZXR1cm47XG4gICAgICBkZWxldGVQYWdlTW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBkZWxldGVQYWdlTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnZmxleCcpO1xuICAgICAgcGFnZVRvRGVsZXRlID0gbnVsbDtcbiAgICB9O1xuICAgIGNvbnN0IGV4ZWN1dGVEZWxldGVQYWdlID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFwYWdlc0FwaUJhc2UgfHwgIXBhZ2VUb0RlbGV0ZSkgcmV0dXJuO1xuICAgICAgY29uc3QgcGFnZUlkID0gcGFnZVRvRGVsZXRlLmlkO1xuICAgICAgY29uc3QgcGFnZVRpdGxlID0gcGFnZVRvRGVsZXRlLnRpdGxlIHx8IHBhZ2VJZDtcbiAgICAgIGlmIChkZWxldGVQYWdlQ29uZmlybSkge1xuICAgICAgICBkZWxldGVQYWdlQ29uZmlybS5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIGRlbGV0ZVBhZ2VDb25maXJtLnRleHRDb250ZW50ID0gJ1N1cHByZXNzaW9uLi4uJztcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7cGFnZXNBcGlCYXNlfS8ke2VuY29kZVVSSUNvbXBvbmVudChwYWdlSWQpfWAsIHtcbiAgICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZScsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzdWx0Lm1lc3NhZ2UgfHwgJ0VycmV1ciBzZXJ2ZXVyJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU3VwcHJpbWVyIGRlIGxhIGxpc3RlIGxvY2FsZVxuICAgICAgICBwYWdlcyA9IHBhZ2VzLmZpbHRlcigocCkgPT4gcC5pZCAhPT0gcGFnZUlkKTtcbiAgICAgICAgLy8gU2kgbGEgcGFnZSBzdXBwcmltXHUwMEU5ZSBcdTAwRTl0YWl0IGFjdGl2ZSwgc1x1MDBFOWxlY3Rpb25uZXIgbGEgcHJlbWlcdTAwRThyZVxuICAgICAgICBpZiAoYWN0aXZlUGFnZUlkID09PSBwYWdlSWQpIHtcbiAgICAgICAgICBpZiAocGFnZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgc2V0QWN0aXZlUGFnZShwYWdlc1swXS5pZCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFjdGl2ZVBhZ2VJZCA9IG51bGw7XG4gICAgICAgICAgICBjdXJyZW50UGFnZSA9IG51bGw7XG4gICAgICAgICAgICByZW5kZXJQYWdlTGlzdHMocGFnZXMsIG51bGwpO1xuICAgICAgICAgICAgcmVuZGVyQmxvY2tMaXN0KG51bGwpO1xuICAgICAgICAgICAgYmxvY2tEZXRhaWxFbXB0eT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgICBibG9ja0VkaXRvcj8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgICAgICBwcmV2aWV3RnJhbWUgJiYgKHByZXZpZXdGcmFtZS5zcmNkb2MgPSBnZXRMb2FkaW5nUHJldmlld0h0bWwoKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlbmRlclBhZ2VMaXN0cyhwYWdlcywgYWN0aXZlUGFnZUlkKTtcbiAgICAgICAgfVxuICAgICAgICBjbG9zZURlbGV0ZVBhZ2VNb2RhbCgpO1xuICAgICAgICBzaG93VG9hc3QoYFBhZ2UgXCIke3BhZ2VUaXRsZX1cIiBzdXBwcmltXHUwMEU5ZWApO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1twYWdlc10gZGVsZXRlIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnRXJyZXVyIHN1cHByZXNzaW9uJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoZGVsZXRlUGFnZUNvbmZpcm0pIHtcbiAgICAgICAgICBkZWxldGVQYWdlQ29uZmlybS5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgIGRlbGV0ZVBhZ2VDb25maXJtLnRleHRDb250ZW50ID0gJ1N1cHByaW1lcic7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIGRlbGV0ZVBhZ2VDYW5jZWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VEZWxldGVQYWdlTW9kYWwpO1xuICAgIGRlbGV0ZVBhZ2VDb25maXJtPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGV4ZWN1dGVEZWxldGVQYWdlKTtcbiAgICBkZWxldGVQYWdlTW9kYWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGlmIChlLnRhcmdldCA9PT0gZGVsZXRlUGFnZU1vZGFsKSBjbG9zZURlbGV0ZVBhZ2VNb2RhbCgpO1xuICAgIH0pO1xuXG4gICAgYmxvY2tMaWJyYXJ5VG9nZ2xlPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB0b2dnbGVCbG9ja0xpYnJhcnkoKTtcbiAgICB9KTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgaWYgKCFibG9ja0xpYnJhcnlPcGVuKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChcbiAgICAgICAgYmxvY2tMaWJyYXJ5Py5jb250YWlucyhldmVudC50YXJnZXQpIHx8XG4gICAgICAgIGJsb2NrTGlicmFyeVRvZ2dsZT8uY29udGFpbnMoZXZlbnQudGFyZ2V0KVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNsb3NlQmxvY2tMaWJyYXJ5KCk7XG4gICAgfSk7XG4gICAgYmxvY2tBZGRCdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBjb25zdCB0eXBlID0gYnV0dG9uLmRhdGFzZXQuYmxvY2tBZGQ7XG4gICAgICAgIGFkZEJsb2NrRnJvbUxpYnJhcnkodHlwZSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBibG9ja0RlbGV0ZUNhbmNlbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjbG9zZUJsb2NrRGVsZXRlTW9kYWwoKTtcbiAgICB9KTtcbiAgICBibG9ja0RlbGV0ZUNvbmZpcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgaWYgKHBlbmRpbmdEZWxldGVCbG9ja0lkKSB7XG4gICAgICAgIGRlbGV0ZUJsb2NrQnlJZChwZW5kaW5nRGVsZXRlQmxvY2tJZCk7XG4gICAgICB9XG4gICAgICBjbG9zZUJsb2NrRGVsZXRlTW9kYWwoKTtcbiAgICB9KTtcbiAgICBibG9ja0RlbGV0ZU1vZGFsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gYmxvY2tEZWxldGVNb2RhbCkge1xuICAgICAgICBjbG9zZUJsb2NrRGVsZXRlTW9kYWwoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBibG9ja0Zvcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQ7XG4gICAgICBpZiAoIXRhcmdldCB8fCAhdGFyZ2V0Lm5hbWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHRhcmdldC5uYW1lID09PSAnZ3JvdXAtY29sdW1ucy1tb2JpbGUnIHx8IHRhcmdldC5uYW1lID09PSAnZ3JvdXAtY29sdW1ucy1kZXNrdG9wJykge1xuICAgICAgICBjb25zdCBtb2JpbGVWYWx1ZSA9XG4gICAgICAgICAgYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZ3JvdXAtY29sdW1ucy1tb2JpbGVcIl0nKT8udmFsdWUgfHwgJzEnO1xuICAgICAgICBjb25zdCBkZXNrdG9wVmFsdWUgPVxuICAgICAgICAgIGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImdyb3VwLWNvbHVtbnMtZGVza3RvcFwiXScpPy52YWx1ZSB8fCAnMyc7XG4gICAgICAgIHVwZGF0ZUdyb3VwTWluaVByZXZpZXcobW9iaWxlVmFsdWUsIGRlc2t0b3BWYWx1ZSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgY29sbGVjdGlvblNlbGVjdD8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQ7XG4gICAgICBzeW5jQ29sbGVjdGlvblNlbGVjdGlvbkluZm8odGFyZ2V0Py52YWx1ZSB8fCAnJyk7XG4gICAgfSk7XG4gICAgYmxvY2tGb3JtPy5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBoYW5kbGVCbG9ja0Zvcm1TdWJtaXQpO1xuICAgIGJsb2NrRm9ybUNhbmNlbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBjb25zdCBibG9jayA9IGdldEFjdGl2ZUJsb2NrKCk7XG4gICAgICBpZiAoYmxvY2spIHtcbiAgICAgICAgcG9wdWxhdGVCbG9ja0Zvcm0oYmxvY2spO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHByZXZpZXdGcmFtZT8uYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHtcbiAgICAgIHByZXZpZXdSZWFkeSA9IHRydWU7XG4gICAgICB1cGRhdGVQcmV2aWV3U3RhdHVzKCdcdTAwQzAgam91cicpO1xuICAgICAgYXBwbHlQcmV2aWV3SGlnaGxpZ2h0KGFjdGl2ZUJsb2NrSWQpO1xuICAgIH0pO1xuICAgIHByZXZpZXdPcGVuQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IHByZXZpZXdXaW5kb3cgPSB3aW5kb3cub3BlbignJywgJ19ibGFuaycpO1xuICAgICAgaWYgKCFwcmV2aWV3V2luZG93KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHByZXZpZXdXaW5kb3cub3BlbmVyID0gbnVsbDtcbiAgICAgIGNvbnN0IGRvYyA9IHByZXZpZXdXaW5kb3cuZG9jdW1lbnQ7XG4gICAgICBkb2Mub3BlbigpO1xuICAgICAgZG9jLndyaXRlKGxhdGVzdFByZXZpZXdIdG1sIHx8IGdldExvYWRpbmdQcmV2aWV3SHRtbCgpKTtcbiAgICAgIGRvYy5jbG9zZSgpO1xuICAgIH0pO1xuXG4gICAgLy8gU0VPIHBhbmVsIGxvZ2ljXG4gICAgY29uc3QgdG9nZ2xlU2VvUGFuZWwgPSAoc2hvdykgPT4ge1xuICAgICAgaWYgKCFzZW9QYW5lbCkgcmV0dXJuO1xuICAgICAgaWYgKHNob3cpIHtcbiAgICAgICAgc2VvUGFuZWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIC8vIFBvcHVsYXRlIGZpZWxkcyB3aXRoIGN1cnJlbnQgcGFnZSBTRU8gZGF0YVxuICAgICAgICBpZiAoY3VycmVudFBhZ2UpIHtcbiAgICAgICAgICBzZW9UaXRsZUlucHV0ICYmIChzZW9UaXRsZUlucHV0LnZhbHVlID0gY3VycmVudFBhZ2Uuc2VvPy50aXRsZSB8fCAnJyk7XG4gICAgICAgICAgc2VvRGVzY3JpcHRpb25JbnB1dCAmJiAoc2VvRGVzY3JpcHRpb25JbnB1dC52YWx1ZSA9IGN1cnJlbnRQYWdlLnNlbz8uZGVzY3JpcHRpb24gfHwgJycpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZW9QYW5lbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHNldFNlb0ZlZWRiYWNrID0gKG1lc3NhZ2UsIHRvbmUgPSAnbXV0ZWQnKSA9PiB7XG4gICAgICBpZiAoIXNlb0ZlZWRiYWNrKSByZXR1cm47XG4gICAgICBjb25zdCBjb2xvciA9IHRvbmUgPT09ICdzdWNjZXNzJyA/ICd0ZXh0LWVtZXJhbGQtNjAwJyA6IHRvbmUgPT09ICdlcnJvcicgPyAndGV4dC1yb3NlLTYwMCcgOiAndGV4dC1zbGF0ZS01MDAnO1xuICAgICAgc2VvRmVlZGJhY2sudGV4dENvbnRlbnQgPSBtZXNzYWdlIHx8ICcnO1xuICAgICAgc2VvRmVlZGJhY2suY2xhc3NOYW1lID0gYHRleHQtc20gJHtjb2xvcn1gO1xuICAgIH07XG4gICAgc2VvVG9nZ2xlQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IGlzVmlzaWJsZSA9IHNlb1BhbmVsICYmICFzZW9QYW5lbC5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpO1xuICAgICAgdG9nZ2xlU2VvUGFuZWwoIWlzVmlzaWJsZSk7XG4gICAgfSk7XG4gICAgc2VvQ2xvc2VCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdG9nZ2xlU2VvUGFuZWwoZmFsc2UpKTtcbiAgICBzZW9Gb3JtPy5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlKSB7XG4gICAgICAgIHNldFNlb0ZlZWRiYWNrKCdBdWN1bmUgcGFnZSBhY3RpdmUuJywgJ2Vycm9yJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNlb1NhdmVCdXR0b24gJiYgKHNlb1NhdmVCdXR0b24uZGlzYWJsZWQgPSB0cnVlKTtcbiAgICAgIHNldFNlb0ZlZWRiYWNrKCcnKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHNlb0RhdGEgPSB7XG4gICAgICAgICAgdGl0bGU6IChzZW9UaXRsZUlucHV0Py52YWx1ZSB8fCAnJykudHJpbSgpLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAoc2VvRGVzY3JpcHRpb25JbnB1dD8udmFsdWUgfHwgJycpLnRyaW0oKSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgdXBkYXRlZFBhZ2UgPSB7IC4uLmN1cnJlbnRQYWdlLCBzZW86IHNlb0RhdGEgfTtcbiAgICAgICAgY29uc3Qgc2F2ZWQgPSBhd2FpdCBzYXZlUGFnZVRvU2VydmVyKHVwZGF0ZWRQYWdlKTtcbiAgICAgICAgaWYgKHNhdmVkKSB7XG4gICAgICAgICAgY3VycmVudFBhZ2UgPSBzYXZlZDtcbiAgICAgICAgICBzZXRTZW9GZWVkYmFjaygnU0VPIGVucmVnaXN0clx1MDBFOS4nLCAnc3VjY2VzcycpO1xuICAgICAgICAgIHNob3dUb2FzdCgnU0VPIG1pcyBcdTAwRTAgam91cicpO1xuICAgICAgICAgIHJlZnJlc2hQcmV2aWV3KGN1cnJlbnRQYWdlKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZW9dIHNhdmUgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2V0U2VvRmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGRlIGxhIHNhdXZlZ2FyZGUuJywgJ2Vycm9yJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZW9TYXZlQnV0dG9uICYmIChzZW9TYXZlQnV0dG9uLmRpc2FibGVkID0gZmFsc2UpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgY29uc3QgaGFuZGxlQmxvY2tEcmFnU3RhcnQgPSAoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IGl0ZW0gPSBldmVudC50YXJnZXQuY2xvc2VzdCgnW2RhdGEtYmxvY2staXRlbV0nKTtcbiAgICAgIGlmICghaXRlbSB8fCAhaXNEZXNrdG9wUmVvcmRlcigpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGRyYWdTb3VyY2VJZCA9IGl0ZW0uZGF0YXNldC5ibG9ja0lkIHx8IG51bGw7XG4gICAgICBpZiAoIWRyYWdTb3VyY2VJZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBldmVudC5kYXRhVHJhbnNmZXIuZWZmZWN0QWxsb3dlZCA9ICdtb3ZlJztcbiAgICAgIGV2ZW50LmRhdGFUcmFuc2Zlci5zZXREYXRhKCd0ZXh0L3BsYWluJywgZHJhZ1NvdXJjZUlkKTtcbiAgICAgIGl0ZW0uY2xhc3NMaXN0LmFkZCgnb3BhY2l0eS01MCcpO1xuICAgIH07XG4gICAgY29uc3QgY2xlYXJEcmFnSW5kaWNhdG9ycyA9ICgpID0+IHtcbiAgICAgIGJsb2NrTGlzdFxuICAgICAgICA/LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWJsb2NrLWl0ZW1dJylcbiAgICAgICAgLmZvckVhY2goKG5vZGUpID0+IG5vZGUuY2xhc3NMaXN0LnJlbW92ZSgnb3BhY2l0eS01MCcsICdyaW5nLTInLCAncmluZy1bIzlDNkJGRl0vNTAnKSk7XG4gICAgfTtcbiAgICBjb25zdCBoYW5kbGVCbG9ja0RyYWdFbmQgPSAoKSA9PiB7XG4gICAgICBkcmFnU291cmNlSWQgPSBudWxsO1xuICAgICAgY2xlYXJEcmFnSW5kaWNhdG9ycygpO1xuICAgIH07XG4gICAgY29uc3QgaGFuZGxlQmxvY2tEcmFnT3ZlciA9IChldmVudCkgPT4ge1xuICAgICAgaWYgKCFkcmFnU291cmNlSWQgfHwgIWlzRGVza3RvcFJlb3JkZXIoKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQuY2xvc2VzdCgnW2RhdGEtYmxvY2staXRlbV0nKTtcbiAgICAgIGlmICghdGFyZ2V0IHx8IHRhcmdldC5kYXRhc2V0LmJsb2NrSWQgPT09IGRyYWdTb3VyY2VJZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ3JpbmctMicsICdyaW5nLVsjOUM2QkZGXS81MCcpO1xuICAgIH07XG4gICAgY29uc3QgaGFuZGxlQmxvY2tEcmFnTGVhdmUgPSAoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCdbZGF0YS1ibG9jay1pdGVtXScpO1xuICAgICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoJ3JpbmctMicsICdyaW5nLVsjOUM2QkZGXS81MCcpO1xuICAgIH07XG4gICAgY29uc3QgaGFuZGxlQmxvY2tEcm9wID0gKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoIWRyYWdTb3VyY2VJZCB8fCAhaXNEZXNrdG9wUmVvcmRlcigpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQuY2xvc2VzdCgnW2RhdGEtYmxvY2staXRlbV0nKTtcbiAgICAgIGNvbnN0IHNvdXJjZSA9IGRyYWdTb3VyY2VJZDtcbiAgICAgIGRyYWdTb3VyY2VJZCA9IG51bGw7XG4gICAgICBjbGVhckRyYWdJbmRpY2F0b3JzKCk7XG4gICAgICBjb25zdCB0YXJnZXRJZCA9IHRhcmdldD8uZGF0YXNldC5ibG9ja0lkIHx8IG51bGw7XG4gICAgICBpZiAoIXRhcmdldElkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHJlb3JkZXJCbG9ja3Moc291cmNlLCB0YXJnZXRJZCk7XG4gICAgfTtcbiAgICBsZXQgZHJhZ1NvdXJjZUlkID0gbnVsbDtcbiAgICBibG9ja0xpc3Q/LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdzdGFydCcsIGhhbmRsZUJsb2NrRHJhZ1N0YXJ0KTtcbiAgICBibG9ja0xpc3Q/LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdlbmQnLCBoYW5kbGVCbG9ja0RyYWdFbmQpO1xuICAgIGJsb2NrTGlzdD8uYWRkRXZlbnRMaXN0ZW5lcignZHJhZ292ZXInLCBoYW5kbGVCbG9ja0RyYWdPdmVyKTtcbiAgICBibG9ja0xpc3Q/LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdsZWF2ZScsIGhhbmRsZUJsb2NrRHJhZ0xlYXZlKTtcbiAgICBibG9ja0xpc3Q/LmFkZEV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCBoYW5kbGVCbG9ja0Ryb3ApO1xuICAgIGxvYWRQYWdlc0Zyb21TZXJ2ZXIoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXRDb250ZW50V29ya3NwYWNlKCkge1xuICAgIGNvbnN0IGNvbGxlY3Rpb25MaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29sbGVjdGlvbi1saXN0XScpO1xuICAgIGlmICghY29sbGVjdGlvbkxpc3QpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgY29sbGVjdGlvbkVtcHR5U3RhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xsZWN0aW9uLWVtcHR5XScpO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25JdGVtc0VtcHR5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29sbGVjdGlvbi1pdGVtcy1lbXB0eV0nKTtcbiAgICBjb25zdCBpdGVtVGFibGVXcmFwcGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS10YWJsZS13cmFwcGVyXScpO1xuICAgIGNvbnN0IGl0ZW1UYWJsZUJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLXRhYmxlLWJvZHldJyk7XG4gICAgY29uc3QgY29sbGVjdGlvblRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29sbGVjdGlvbi10aXRsZV0nKTtcbiAgICBjb25zdCBjb2xsZWN0aW9uRGVzY3JpcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xsZWN0aW9uLWRlc2NyaXB0aW9uXScpO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25EcmF3ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xsZWN0aW9uLWRyYXdlcl0nKTtcbiAgICBjb25zdCBjb2xsZWN0aW9uRHJhd2VyQmFja2Ryb3AgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xsZWN0aW9uLWRyYXdlci1iYWNrZHJvcF0nKTtcbiAgICBjb25zdCBjb2xsZWN0aW9uRHJhd2VyT3BlbkJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1jb2xsZWN0aW9uLWRyYXdlci1vcGVuXScpO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25EcmF3ZXJDbG9zZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1jb2xsZWN0aW9uLWRyYXdlci1jbG9zZV0nKTtcbiAgICBjb25zdCBpdGVtQWRkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS1hZGRdJyk7XG4gICAgY29uc3QgaXRlbURldGFpbEVtcHR5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS1kZXRhaWwtZW1wdHldJyk7XG4gICAgY29uc3QgaXRlbUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLWZvcm1dJyk7XG4gICAgY29uc3QgaXRlbUZvcm1GaWVsZHMgPSBpdGVtRm9ybVxuICAgICAgPyB7XG4gICAgICAgICAgdGl0bGU6IGl0ZW1Gb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaXRlbS10aXRsZVwiXScpLFxuICAgICAgICAgIHNsdWc6IGl0ZW1Gb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaXRlbS1zbHVnXCJdJyksXG4gICAgICAgICAgZXhjZXJwdDogaXRlbUZvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJpdGVtLWV4Y2VycHRcIl0nKSxcbiAgICAgICAgICBjb250ZW50OiBpdGVtRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cIml0ZW0tY29udGVudFwiXScpLFxuICAgICAgICAgIGltYWdlOiBpdGVtRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cIml0ZW0taW1hZ2VcIl0nKSxcbiAgICAgICAgICBzdGF0dXM6IGl0ZW1Gb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaXRlbS1zdGF0dXNcIl0nKSxcbiAgICAgICAgfVxuICAgICAgOiB7fTtcbiAgICBjb25zdCBpdGVtU3RhdHVzQmFkZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLXN0YXR1cy1iYWRnZV0nKTtcbiAgICBjb25zdCBpdGVtRGVsZXRlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS1kZWxldGVdJyk7XG4gICAgY29uc3QgaXRlbURlbGV0ZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS1kZWxldGUtbW9kYWxdJyk7XG4gICAgY29uc3QgaXRlbURlbGV0ZUNhbmNlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tZGVsZXRlLWNhbmNlbF0nKTtcbiAgICBjb25zdCBpdGVtRGVsZXRlQ29uZmlybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tZGVsZXRlLWNvbmZpcm1dJyk7XG4gICAgY29uc3QgaXRlbUZvcm1DYW5jZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLWNhbmNlbF0nKTtcbiAgICBjb25zdCBpdGVtRm9ybVNhdmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLXNhdmVdJyk7XG4gICAgY29uc3Qgc3RhdHVzQmFkZ2VCYXNlQ2xhc3MgPSAncm91bmRlZC1mdWxsIHB4LTMgcHktMSB0ZXh0LXhzIGZvbnQtc2VtaWJvbGQnO1xuXG4gICAgY29uc3Qgc2FmZVNpdGVTbHVnVmFsdWUgPSBzdHJpcExlYWRpbmdTbGFzaChcbiAgICAgIHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJycsXG4gICAgKTtcbiAgICBjb25zdCBjb2xsZWN0aW9uc0FwaUJhc2UgPSBzYWZlU2l0ZVNsdWdWYWx1ZVxuICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWdWYWx1ZSl9L2NvbGxlY3Rpb25zYFxuICAgICAgOiBudWxsO1xuXG4gICAgbGV0IGNvbGxlY3Rpb25zID0gW107XG4gICAgbGV0IGNvbGxlY3Rpb25JdGVtcyA9IFtdO1xuICAgIGxldCBhY3RpdmVDb2xsZWN0aW9uSWQgPSBudWxsO1xuICAgIGxldCBhY3RpdmVJdGVtSWQgPSBudWxsO1xuICAgIGxldCBpc0NyZWF0aW5nSXRlbSA9IGZhbHNlO1xuICAgIGxldCBpdGVtU2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gICAgbGV0IHBlbmRpbmdEZWxldGVJdGVtSWQgPSBudWxsO1xuXG4gICAgY29uc3Qgb3BlbkNvbGxlY3Rpb25EcmF3ZXIgPSAoKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25EcmF3ZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29sbGVjdGlvbkRyYXdlci5jbGFzc0xpc3QuYWRkKCdpcy1vcGVuJyk7XG4gICAgICBjb2xsZWN0aW9uRHJhd2VyLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVYKDApJztcbiAgICAgIGNvbGxlY3Rpb25EcmF3ZXJCYWNrZHJvcD8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ292ZXJmbG93LWhpZGRlbicpO1xuICAgIH07XG5cbiAgICBjb25zdCBjbG9zZUNvbGxlY3Rpb25EcmF3ZXIgPSAoKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25EcmF3ZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29sbGVjdGlvbkRyYXdlci5jbGFzc0xpc3QucmVtb3ZlKCdpcy1vcGVuJyk7XG4gICAgICBjb2xsZWN0aW9uRHJhd2VyLnN0eWxlLnRyYW5zZm9ybSA9ICcnO1xuICAgICAgY29sbGVjdGlvbkRyYXdlckJhY2tkcm9wPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnb3ZlcmZsb3ctaGlkZGVuJyk7XG4gICAgfTtcblxuICAgIGNvbGxlY3Rpb25EcmF3ZXJPcGVuQnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5Db2xsZWN0aW9uRHJhd2VyKTtcbiAgICB9KTtcbiAgICBjb2xsZWN0aW9uRHJhd2VyQ2xvc2VCdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VDb2xsZWN0aW9uRHJhd2VyKTtcbiAgICB9KTtcbiAgICBjb2xsZWN0aW9uRHJhd2VyQmFja2Ryb3A/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VDb2xsZWN0aW9uRHJhd2VyKTtcblxuICAgIGNvbnN0IG5vcm1hbGl6ZUl0ZW1TbHVnSW5wdXQgPSAodmFsdWUpID0+IHtcbiAgICAgIGNvbnN0IHJhdyA9ICh2YWx1ZSB8fCAnJykudHJpbSgpO1xuICAgICAgaWYgKCFyYXcpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfVxuICAgICAgaWYgKHJhdyA9PT0gJy8nKSB7XG4gICAgICAgIHJldHVybiAnLyc7XG4gICAgICB9XG4gICAgICBjb25zdCBzZWdtZW50cyA9IHJhdy5yZXBsYWNlKC9eXFwvLywgJycpLnNwbGl0KCcvJyk7XG4gICAgICBjb25zdCBjbGVhbmVkU2VnbWVudHMgPSBzZWdtZW50c1xuICAgICAgICAubWFwKChzZWdtZW50KSA9PiB3b3Jrc3BhY2VTbHVnaWZ5KHNlZ21lbnQgfHwgJycpKVxuICAgICAgICAuZmlsdGVyKChzZWdtZW50KSA9PiBzZWdtZW50Lmxlbmd0aCA+IDApO1xuICAgICAgaWYgKCFjbGVhbmVkU2VnbWVudHMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICAgIH1cbiAgICAgIHJldHVybiBgLyR7Y2xlYW5lZFNlZ21lbnRzLmpvaW4oJy8nKX1gO1xuICAgIH07XG5cbiAgICBjb25zdCBmb3JtYXRJdGVtRGF0ZSA9ICh2YWx1ZSkgPT4ge1xuICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICByZXR1cm4gJ1x1MjAxNCc7XG4gICAgICB9XG4gICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUodmFsdWUpO1xuICAgICAgaWYgKE51bWJlci5pc05hTihkYXRlLmdldFRpbWUoKSkpIHtcbiAgICAgICAgcmV0dXJuICdcdTIwMTQnO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGRhdGUudG9Mb2NhbGVEYXRlU3RyaW5nKCdmci1GUicsIHsgZGF5OiAnMi1kaWdpdCcsIG1vbnRoOiAnc2hvcnQnLCB5ZWFyOiAnbnVtZXJpYycgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IHVwZGF0ZUNvbGxlY3Rpb25IZWFkZXIgPSAoKSA9PiB7XG4gICAgICBjb25zdCBjb2xsZWN0aW9uID0gY29sbGVjdGlvbnMuZmluZCgoZW50cnkpID0+IGVudHJ5LmlkID09PSBhY3RpdmVDb2xsZWN0aW9uSWQpO1xuICAgICAgaWYgKGNvbGxlY3Rpb25UaXRsZSkge1xuICAgICAgICBjb2xsZWN0aW9uVGl0bGUudGV4dENvbnRlbnQgPSBjb2xsZWN0aW9uPy5uYW1lIHx8ICdTXHUwMEU5bGVjdGlvbm5leiB1bmUgY29sbGVjdGlvbic7XG4gICAgICB9XG4gICAgICBpZiAoY29sbGVjdGlvbkRlc2NyaXB0aW9uKSB7XG4gICAgICAgIGNvbGxlY3Rpb25EZXNjcmlwdGlvbi50ZXh0Q29udGVudCA9IGNvbGxlY3Rpb24/LmRlc2NyaXB0aW9uIHx8ICcnO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCB1cGRhdGVJdGVtc0VtcHR5TWVzc2FnZSA9IChtZXNzYWdlKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25JdGVtc0VtcHR5KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbGxlY3Rpb25JdGVtc0VtcHR5LnRleHRDb250ZW50ID1cbiAgICAgICAgbWVzc2FnZSB8fFxuICAgICAgICAoYWN0aXZlQ29sbGVjdGlvbklkXG4gICAgICAgICAgPyAnQXVjdW4gaXRlbSBkYW5zIGNldHRlIGNvbGxlY3Rpb24gcG91ciBsZSBtb21lbnQuJ1xuICAgICAgICAgIDogJ0Nob2lzaXNzZXogdW5lIGNvbGxlY3Rpb24gZGFucyBsZSBwYW5uZWF1IGRlIGdhdWNoZS4nKTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGlkZUl0ZW1Gb3JtID0gKCkgPT4ge1xuICAgICAgaWYgKGl0ZW1Gb3JtKSB7XG4gICAgICAgIGl0ZW1Gb3JtLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBpdGVtRm9ybS5kYXRhc2V0Lml0ZW1JZCA9ICcnO1xuICAgICAgfVxuICAgICAgaXRlbURldGFpbEVtcHR5Py5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGlmIChpdGVtU3RhdHVzQmFkZ2UpIHtcbiAgICAgICAgaXRlbVN0YXR1c0JhZGdlLmNsYXNzTmFtZSA9IGBoaWRkZW4gJHtzdGF0dXNCYWRnZUJhc2VDbGFzc31gO1xuICAgICAgICBpdGVtU3RhdHVzQmFkZ2UudGV4dENvbnRlbnQgPSAnJztcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtRGVsZXRlQnV0dG9uKSB7XG4gICAgICAgIGl0ZW1EZWxldGVCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBzaG93SXRlbUZvcm0gPSAoKSA9PiB7XG4gICAgICBpZiAoIWl0ZW1Gb3JtKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGl0ZW1Gb3JtLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgaXRlbURldGFpbEVtcHR5Py5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICB9O1xuXG4gICAgY29uc3Qgc3luY0FkZEJ1dHRvblN0YXRlID0gKCkgPT4ge1xuICAgICAgaWYgKCFpdGVtQWRkQnV0dG9uKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGl0ZW1BZGRCdXR0b24uZGlzYWJsZWQgPSAhYWN0aXZlQ29sbGVjdGlvbklkO1xuICAgICAgaWYgKGl0ZW1BZGRCdXR0b24uZGlzYWJsZWQpIHtcbiAgICAgICAgaXRlbUFkZEJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdvcGFjaXR5LTYwJywgJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGl0ZW1BZGRCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnb3BhY2l0eS02MCcsICdwb2ludGVyLWV2ZW50cy1ub25lJyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHN5bmNJdGVtU3RhdHVzQmFkZ2UgPSAoc3RhdHVzKSA9PiB7XG4gICAgICBpZiAoIWl0ZW1TdGF0dXNCYWRnZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIXN0YXR1cykge1xuICAgICAgICBpdGVtU3RhdHVzQmFkZ2UuY2xhc3NOYW1lID0gYGhpZGRlbiAke3N0YXR1c0JhZGdlQmFzZUNsYXNzfWA7XG4gICAgICAgIGl0ZW1TdGF0dXNCYWRnZS50ZXh0Q29udGVudCA9ICcnO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBub3JtYWxpemVkID0gc3RhdHVzLnRvTG93ZXJDYXNlKCk7XG4gICAgICBsZXQgY29sb3JDbGFzcyA9ICdiZy1zbGF0ZS0xMDAgdGV4dC1zbGF0ZS02MDAgYm9yZGVyIGJvcmRlci1zbGF0ZS0yMDAnO1xuICAgICAgaWYgKG5vcm1hbGl6ZWQgPT09ICdwdWJsaVx1MDBFOScgfHwgbm9ybWFsaXplZCA9PT0gJ3B1YmxpZScpIHtcbiAgICAgICAgY29sb3JDbGFzcyA9ICdiZy1lbWVyYWxkLTUwIHRleHQtZW1lcmFsZC03MDAgYm9yZGVyIGJvcmRlci1lbWVyYWxkLTEwMCc7XG4gICAgICB9IGVsc2UgaWYgKG5vcm1hbGl6ZWQgPT09ICdicm91aWxsb24nKSB7XG4gICAgICAgIGNvbG9yQ2xhc3MgPSAnYmctYW1iZXItNTAgdGV4dC1hbWJlci03MDAgYm9yZGVyIGJvcmRlci1hbWJlci0xMDAnO1xuICAgICAgfVxuICAgICAgaXRlbVN0YXR1c0JhZGdlLmNsYXNzTmFtZSA9IGAke3N0YXR1c0JhZGdlQmFzZUNsYXNzfSAke2NvbG9yQ2xhc3N9YDtcbiAgICAgIGl0ZW1TdGF0dXNCYWRnZS50ZXh0Q29udGVudCA9IHN0YXR1cztcbiAgICB9O1xuXG4gICAgY29uc3QgcmVuZGVyQ29sbGVjdGlvbkxpc3QgPSAoKSA9PiB7XG4gICAgICBjb2xsZWN0aW9uTGlzdC5pbm5lckhUTUwgPSAnJztcbiAgICAgIGlmICghY29sbGVjdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgIGNvbGxlY3Rpb25FbXB0eVN0YXRlPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29sbGVjdGlvbkVtcHR5U3RhdGU/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgY29sbGVjdGlvbnMuZm9yRWFjaCgoY29sbGVjdGlvbikgPT4ge1xuICAgICAgICBjb25zdCBpc0FjdGl2ZSA9IGNvbGxlY3Rpb24uaWQgPT09IGFjdGl2ZUNvbGxlY3Rpb25JZDtcbiAgICAgICAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIGJ1dHRvbi50eXBlID0gJ2J1dHRvbic7XG4gICAgICAgIGJ1dHRvbi5kYXRhc2V0LmNvbGxlY3Rpb25JZCA9IGNvbGxlY3Rpb24uaWQ7XG4gICAgICAgIGJ1dHRvbi5jbGFzc05hbWUgPSBbXG4gICAgICAgICAgJ3ctZnVsbCByb3VuZGVkLXhsIGJvcmRlciBweC0zIHB5LTIgdGV4dC1sZWZ0IHRyYW5zaXRpb24gZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLVsjOUM2QkZGXS80MCcsXG4gICAgICAgICAgaXNBY3RpdmVcbiAgICAgICAgICAgID8gJ2JnLVsjRjdGMEZGXSBib3JkZXItWyM5QzZCRkZdLzQwIHRleHQtc2xhdGUtOTAwJ1xuICAgICAgICAgICAgOiAnYm9yZGVyLXNsYXRlLTIwMCB0ZXh0LXNsYXRlLTcwMCBob3Zlcjpib3JkZXItWyM5QzZCRkZdLzQwJyxcbiAgICAgICAgXS5qb2luKCcgJyk7XG4gICAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnb3B0aW9uJyk7XG4gICAgICAgIGlmIChpc0FjdGl2ZSkge1xuICAgICAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtY3VycmVudCcsICd0cnVlJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYnV0dG9uLnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1jdXJyZW50Jyk7XG4gICAgICAgIH1cbiAgICAgICAgYnV0dG9uLmlubmVySFRNTCA9IGBcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIGdhcC0yXCI+XG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQtc20gZm9udC1zZW1pYm9sZFwiPiR7Y29sbGVjdGlvbi5uYW1lIHx8IGNvbGxlY3Rpb24uaWR9PC9wPlxuICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQteHMgdGV4dC1zbGF0ZS01MDBcIj4ke2NvbGxlY3Rpb24uZGVzY3JpcHRpb24gfHwgJyd9PC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQtWzExcHhdIHVwcGVyY2FzZSB0cmFja2luZy13aWRlIHRleHQtc2xhdGUtNDAwXCI+JHtjb2xsZWN0aW9uLnR5cGUgfHwgJyd9PC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICBgO1xuICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgc2V0QWN0aXZlQ29sbGVjdGlvbihjb2xsZWN0aW9uLmlkKTtcbiAgICAgICAgICBpZiAoIXdpbmRvdy5tYXRjaE1lZGlhKCcobWluLXdpZHRoOiAxMDI0cHgpJykubWF0Y2hlcykge1xuICAgICAgICAgICAgY2xvc2VDb2xsZWN0aW9uRHJhd2VyKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgY29sbGVjdGlvbkxpc3QuYXBwZW5kQ2hpbGQoYnV0dG9uKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCByZW5kZXJJdGVtVGFibGUgPSAoKSA9PiB7XG4gICAgICBpZiAoIWl0ZW1UYWJsZUJvZHkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaXRlbVRhYmxlQm9keS5pbm5lckhUTUwgPSAnJztcbiAgICAgIGlmICghY29sbGVjdGlvbkl0ZW1zLmxlbmd0aCB8fCAhYWN0aXZlQ29sbGVjdGlvbklkKSB7XG4gICAgICAgIGNvbGxlY3Rpb25JdGVtc0VtcHR5Py5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgdXBkYXRlSXRlbXNFbXB0eU1lc3NhZ2UoKTtcbiAgICAgICAgaXRlbVRhYmxlV3JhcHBlcj8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbGxlY3Rpb25JdGVtc0VtcHR5Py5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGl0ZW1UYWJsZVdyYXBwZXI/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgY29sbGVjdGlvbkl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgICAgY29uc3Qgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKTtcbiAgICAgICAgcm93LmRhdGFzZXQuaXRlbUlkID0gaXRlbS5pZDtcbiAgICAgICAgY29uc3QgaXNBY3RpdmUgPSBpdGVtLmlkID09PSBhY3RpdmVJdGVtSWQgJiYgIWlzQ3JlYXRpbmdJdGVtO1xuICAgICAgICByb3cuY2xhc3NOYW1lID0gW1xuICAgICAgICAgICdjdXJzb3ItcG9pbnRlciB0cmFuc2l0aW9uIGZvY3VzLXdpdGhpbjpiZy1bI0Y3RjBGRl0vNzAgZm9jdXM6b3V0bGluZS1ub25lJyxcbiAgICAgICAgICBpc0FjdGl2ZSA/ICdiZy1bI0Y3RjBGRl0vNzAnIDogJ2hvdmVyOmJnLXNsYXRlLTUwJyxcbiAgICAgICAgXS5qb2luKCcgJyk7XG4gICAgICAgIHJvdy50YWJJbmRleCA9IDA7XG4gICAgICAgIHJvdy5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnYnV0dG9uJyk7XG4gICAgICAgIGlmIChpc0FjdGl2ZSkge1xuICAgICAgICAgIHJvdy5zZXRBdHRyaWJ1dGUoJ2FyaWEtY3VycmVudCcsICd0cnVlJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcm93LnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1jdXJyZW50Jyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3RhdHVzID0gaXRlbS5zdGF0dXMgfHwgJ0Jyb3VpbGxvbic7XG4gICAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBzdGF0dXMudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgY29uc3Qgc3RhdHVzQ2xhc3NlcyA9XG4gICAgICAgICAgbm9ybWFsaXplZCA9PT0gJ3B1YmxpXHUwMEU5JyB8fCBub3JtYWxpemVkID09PSAncHVibGllJ1xuICAgICAgICAgICAgPyAnYmctZW1lcmFsZC01MCB0ZXh0LWVtZXJhbGQtNzAwIGJvcmRlciBib3JkZXItZW1lcmFsZC0xMDAnXG4gICAgICAgICAgICA6ICdiZy1hbWJlci01MCB0ZXh0LWFtYmVyLTcwMCBib3JkZXIgYm9yZGVyLWFtYmVyLTEwMCc7XG4gICAgICAgIHJvdy5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgPHRkIGNsYXNzPVwicHgtNCBweS0zIGFsaWduLXRvcFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgdGV4dC1zbGF0ZS05MDBcIj4ke2l0ZW0udGl0bGUgfHwgJ1NhbnMgdGl0cmUnfTwvc3Bhbj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNTAwXCI+JHtpdGVtLnN1bW1hcnkgfHwgaXRlbS5leGNlcnB0IHx8ICcnfTwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgPHRkIGNsYXNzPVwicHgtNCBweS0zIGFsaWduLXRvcCB0ZXh0LXNtIHRleHQtc2xhdGUtNjAwXCI+JHtpdGVtLnNsdWcgfHwgJyd9PC90ZD5cbiAgICAgICAgICA8dGQgY2xhc3M9XCJweC00IHB5LTMgYWxpZ24tdG9wXCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciByb3VuZGVkLWZ1bGwgcHgtMyBweS0xIHRleHQteHMgZm9udC1zZW1pYm9sZCAke3N0YXR1c0NsYXNzZXN9XCI+XG4gICAgICAgICAgICAgICR7c3RhdHVzfVxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgPHRkIGNsYXNzPVwicHgtNCBweS0zIGFsaWduLXRvcCB0ZXh0LXNtIHRleHQtc2xhdGUtNTAwXCI+JHtmb3JtYXRJdGVtRGF0ZShcbiAgICAgICAgICAgIGl0ZW0udXBkYXRlZEF0IHx8IGl0ZW0uY3JlYXRlZEF0LFxuICAgICAgICAgICl9PC90ZD5cbiAgICAgICAgYDtcbiAgICAgICAgY29uc3QgaGFuZGxlU2VsZWN0ID0gKCkgPT4ge1xuICAgICAgICAgIHNlbGVjdEl0ZW0oaXRlbS5pZCk7XG4gICAgICAgIH07XG4gICAgICAgIHJvdy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZVNlbGVjdCk7XG4gICAgICAgIHJvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VudGVyJyB8fCBldmVudC5rZXkgPT09ICcgJykge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGhhbmRsZVNlbGVjdCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGl0ZW1UYWJsZUJvZHkuYXBwZW5kQ2hpbGQocm93KTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCBzZWxlY3RJdGVtID0gKGl0ZW1JZCkgPT4ge1xuICAgICAgY29uc3QgaXRlbSA9IGNvbGxlY3Rpb25JdGVtcy5maW5kKChlbnRyeSkgPT4gZW50cnkuaWQgPT09IGl0ZW1JZCk7XG4gICAgICBpZiAoIWl0ZW0pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYWN0aXZlSXRlbUlkID0gaXRlbS5pZDtcbiAgICAgIGlzQ3JlYXRpbmdJdGVtID0gZmFsc2U7XG4gICAgICBpdGVtU2x1Z01hbnVhbGx5RWRpdGVkID0gdHJ1ZTtcbiAgICAgIHBvcHVsYXRlSXRlbUZvcm0oaXRlbSk7XG4gICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICB9O1xuXG4gICAgY29uc3QgcG9wdWxhdGVJdGVtRm9ybSA9IChpdGVtKSA9PiB7XG4gICAgICBpZiAoIWl0ZW1Gb3JtIHx8ICFpdGVtKSB7XG4gICAgICAgIGhpZGVJdGVtRm9ybSgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzaG93SXRlbUZvcm0oKTtcbiAgICAgIGl0ZW1Gb3JtLmRhdGFzZXQuaXRlbUlkID0gaXRlbS5pZDtcbiAgICAgIGlmIChpdGVtRm9ybUZpZWxkcy50aXRsZSkge1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy50aXRsZS52YWx1ZSA9IGl0ZW0udGl0bGUgfHwgJyc7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbUZvcm1GaWVsZHMuc2x1Zykge1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy5zbHVnLnZhbHVlID0gaXRlbS5zbHVnIHx8ICcnO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1Gb3JtRmllbGRzLmV4Y2VycHQpIHtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMuZXhjZXJwdC52YWx1ZSA9IGl0ZW0uc3VtbWFyeSB8fCBpdGVtLmV4Y2VycHQgfHwgJyc7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbUZvcm1GaWVsZHMuY29udGVudCkge1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy5jb250ZW50LnZhbHVlID0gaXRlbS5jb250ZW50IHx8ICcnO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1Gb3JtRmllbGRzLmltYWdlKSB7XG4gICAgICAgIGl0ZW1Gb3JtRmllbGRzLmltYWdlLnZhbHVlID0gaXRlbS5pbWFnZSB8fCAnJztcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtRm9ybUZpZWxkcy5zdGF0dXMpIHtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMuc3RhdHVzLnZhbHVlID0gaXRlbS5zdGF0dXMgfHwgJ0Jyb3VpbGxvbic7XG4gICAgICB9XG4gICAgICBzeW5jSXRlbVN0YXR1c0JhZGdlKGl0ZW0uc3RhdHVzIHx8ICdCcm91aWxsb24nKTtcbiAgICAgIGlmIChpdGVtRGVsZXRlQnV0dG9uKSB7XG4gICAgICAgIGl0ZW1EZWxldGVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgcHJlcGFyZU5ld0l0ZW1Gb3JtID0gKCkgPT4ge1xuICAgICAgaWYgKCFpdGVtRm9ybSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpc0NyZWF0aW5nSXRlbSA9IHRydWU7XG4gICAgICBhY3RpdmVJdGVtSWQgPSBudWxsO1xuICAgICAgaXRlbVNsdWdNYW51YWxseUVkaXRlZCA9IGZhbHNlO1xuICAgICAgaXRlbUZvcm0uZGF0YXNldC5pdGVtSWQgPSAnJztcbiAgICAgIGl0ZW1Gb3JtLnJlc2V0KCk7XG4gICAgICBpZiAoaXRlbUZvcm1GaWVsZHMuc3RhdHVzKSB7XG4gICAgICAgIGl0ZW1Gb3JtRmllbGRzLnN0YXR1cy52YWx1ZSA9ICdCcm91aWxsb24nO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1Gb3JtRmllbGRzLnNsdWcpIHtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMuc2x1Zy52YWx1ZSA9ICcnO1xuICAgICAgfVxuICAgICAgc3luY0l0ZW1TdGF0dXNCYWRnZSgnQnJvdWlsbG9uJyk7XG4gICAgICBzaG93SXRlbUZvcm0oKTtcbiAgICAgIGlmIChpdGVtRGVsZXRlQnV0dG9uKSB7XG4gICAgICAgIGl0ZW1EZWxldGVCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaXRlbUZvcm1GaWVsZHMudGl0bGU/LmZvY3VzKCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGNvbGxlY3RJdGVtRm9ybVZhbHVlcyA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHRpdGxlID0gKGl0ZW1Gb3JtRmllbGRzLnRpdGxlPy52YWx1ZSB8fCAnJykudHJpbSgpO1xuICAgICAgY29uc3Qgc2x1Z0lucHV0ID0gKGl0ZW1Gb3JtRmllbGRzLnNsdWc/LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICBjb25zdCBzdW1tYXJ5ID0gKGl0ZW1Gb3JtRmllbGRzLmV4Y2VycHQ/LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICBjb25zdCBjb250ZW50ID0gKGl0ZW1Gb3JtRmllbGRzLmNvbnRlbnQ/LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICBjb25zdCBpbWFnZSA9IChpdGVtRm9ybUZpZWxkcy5pbWFnZT8udmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgIGNvbnN0IHN0YXR1cyA9IGl0ZW1Gb3JtRmllbGRzLnN0YXR1cz8udmFsdWUgfHwgJ0Jyb3VpbGxvbic7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0aXRsZSxcbiAgICAgICAgc2x1Zzogc2x1Z0lucHV0ID8gbm9ybWFsaXplSXRlbVNsdWdJbnB1dChzbHVnSW5wdXQpIDogbm9ybWFsaXplSXRlbVNsdWdJbnB1dCh0aXRsZSksXG4gICAgICAgIHN1bW1hcnksXG4gICAgICAgIGV4Y2VycHQ6IHN1bW1hcnksXG4gICAgICAgIGNvbnRlbnQsXG4gICAgICAgIGltYWdlLFxuICAgICAgICBzdGF0dXMsXG4gICAgICB9O1xuICAgIH07XG5cbiAgICBjb25zdCBzZXRGb3JtU2F2aW5nU3RhdGUgPSAoaXNTYXZpbmcpID0+IHtcbiAgICAgIGlmIChpdGVtRm9ybVNhdmUpIHtcbiAgICAgICAgaXRlbUZvcm1TYXZlLmRpc2FibGVkID0gaXNTYXZpbmc7XG4gICAgICAgIGl0ZW1Gb3JtU2F2ZS50ZXh0Q29udGVudCA9IGlzU2F2aW5nID8gJ0VucmVnaXN0cmVtZW50XHUyMDI2JyA6ICdFbnJlZ2lzdHJlcic7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbURlbGV0ZUJ1dHRvbiAmJiAhaXNDcmVhdGluZ0l0ZW0gJiYgYWN0aXZlSXRlbUlkKSB7XG4gICAgICAgIGl0ZW1EZWxldGVCdXR0b24uZGlzYWJsZWQgPSBpc1NhdmluZztcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgZmV0Y2hDb2xsZWN0aW9uSXRlbXMgPSBhc3luYyAoY29sbGVjdGlvbklkKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25zQXBpQmFzZSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgICBgJHtjb2xsZWN0aW9uc0FwaUJhc2V9LyR7ZW5jb2RlVVJJQ29tcG9uZW50KGNvbGxlY3Rpb25JZCl9L2l0ZW1zYCxcbiAgICAgICAgeyBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSxcbiAgICAgICk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihwYXlsb2FkLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgY2hhcmdlciBsZXMgaXRlbXMuJyk7XG4gICAgICB9XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoZGF0YS5pdGVtcykgPyBkYXRhLml0ZW1zIDogW107XG4gICAgfTtcblxuICAgIGNvbnN0IHNldEFjdGl2ZUNvbGxlY3Rpb24gPSBhc3luYyAoY29sbGVjdGlvbklkKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25JZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhY3RpdmVDb2xsZWN0aW9uSWQgPSBjb2xsZWN0aW9uSWQ7XG4gICAgICBhY3RpdmVJdGVtSWQgPSBudWxsO1xuICAgICAgaXNDcmVhdGluZ0l0ZW0gPSBmYWxzZTtcbiAgICAgIGl0ZW1TbHVnTWFudWFsbHlFZGl0ZWQgPSBmYWxzZTtcbiAgICAgIHVwZGF0ZUNvbGxlY3Rpb25IZWFkZXIoKTtcbiAgICAgIHN5bmNBZGRCdXR0b25TdGF0ZSgpO1xuICAgICAgcmVuZGVyQ29sbGVjdGlvbkxpc3QoKTtcbiAgICAgIGhpZGVJdGVtRm9ybSgpO1xuICAgICAgY29sbGVjdGlvbkl0ZW1zID0gW107XG4gICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICAgIHVwZGF0ZUl0ZW1zRW1wdHlNZXNzYWdlKCdDaGFyZ2VtZW50IGRlcyBpdGVtc1x1MjAyNicpO1xuICAgICAgY29sbGVjdGlvbkl0ZW1zRW1wdHk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgaXRlbVRhYmxlV3JhcHBlcj8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25zQXBpQmFzZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb2xsZWN0aW9uSXRlbXMgPSBhd2FpdCBmZXRjaENvbGxlY3Rpb25JdGVtcyhjb2xsZWN0aW9uSWQpO1xuICAgICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICAgICAgaWYgKCFjb2xsZWN0aW9uSXRlbXMubGVuZ3RoKSB7XG4gICAgICAgICAgdXBkYXRlSXRlbXNFbXB0eU1lc3NhZ2UoKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tjb250ZW50XSBpdGVtcyBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgY2hhcmdlciBsZXMgaXRlbXMuJyk7XG4gICAgICAgIGNvbGxlY3Rpb25JdGVtcyA9IFtdO1xuICAgICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgY3JlYXRlQ29sbGVjdGlvbkl0ZW0gPSBhc3luYyAoY29sbGVjdGlvbklkLCBwYXlsb2FkKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25zQXBpQmFzZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NpdGUgaW5jb25udS4nKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgIGAke2NvbGxlY3Rpb25zQXBpQmFzZX0vJHtlbmNvZGVVUklDb21wb25lbnQoY29sbGVjdGlvbklkKX0vaXRlbXNgLFxuICAgICAgICB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgIH0sXG4gICAgICApO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZGF0YS5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIGNyXHUwMEU5ZXIgY2V0IGl0ZW0uJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgIH07XG5cbiAgICBjb25zdCB1cGRhdGVDb2xsZWN0aW9uSXRlbSA9IGFzeW5jIChjb2xsZWN0aW9uSWQsIGl0ZW1JZCwgcGF5bG9hZCkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uc0FwaUJhc2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTaXRlIGluY29ubnUuJyk7XG4gICAgICB9XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgICBgJHtjb2xsZWN0aW9uc0FwaUJhc2V9LyR7ZW5jb2RlVVJJQ29tcG9uZW50KGNvbGxlY3Rpb25JZCl9L2l0ZW1zLyR7ZW5jb2RlVVJJQ29tcG9uZW50KGl0ZW1JZCl9YCxcbiAgICAgICAge1xuICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgIH0sXG4gICAgICApO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZGF0YS5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIHNhdXZlZ2FyZGVyIGNldCBpdGVtLicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICB9O1xuXG4gICAgY29uc3QgZGVsZXRlQ29sbGVjdGlvbkl0ZW0gPSBhc3luYyAoY29sbGVjdGlvbklkLCBpdGVtSWQpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvbnNBcGlCYXNlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignU2l0ZSBpbmNvbm51LicpO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgYCR7Y29sbGVjdGlvbnNBcGlCYXNlfS8ke2VuY29kZVVSSUNvbXBvbmVudChjb2xsZWN0aW9uSWQpfS9pdGVtcy8ke2VuY29kZVVSSUNvbXBvbmVudChpdGVtSWQpfWAsXG4gICAgICAgIHsgbWV0aG9kOiAnREVMRVRFJyB9LFxuICAgICAgKTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGRhdGEubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBzdXBwcmltZXIgY2V0IGl0ZW0uJyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGxvYWRDb2xsZWN0aW9ucyA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvbnNBcGlCYXNlKSB7XG4gICAgICAgIGNvbGxlY3Rpb25FbXB0eVN0YXRlPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgYWN0aXZlQ29sbGVjdGlvbklkID0gbnVsbDtcbiAgICAgICAgY29sbGVjdGlvbkl0ZW1zID0gW107XG4gICAgICAgIHJlbmRlckl0ZW1UYWJsZSgpO1xuICAgICAgICB1cGRhdGVDb2xsZWN0aW9uSGVhZGVyKCk7XG4gICAgICAgIHN5bmNBZGRCdXR0b25TdGF0ZSgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGNvbGxlY3Rpb25zQXBpQmFzZSwge1xuICAgICAgICAgIGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ltcG9zc2libGUgZGUgY2hhcmdlciBsZXMgY29sbGVjdGlvbnMuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiBbXSk7XG4gICAgICAgIGNvbGxlY3Rpb25zID0gQXJyYXkuaXNBcnJheShwYXlsb2FkKSA/IHBheWxvYWQgOiBbXTtcbiAgICAgICAgcmVuZGVyQ29sbGVjdGlvbkxpc3QoKTtcbiAgICAgICAgaWYgKGNvbGxlY3Rpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBjb25zdCBkZWZhdWx0SWQgPSBjb2xsZWN0aW9ucy5maW5kKChlbnRyeSkgPT4gZW50cnkuaWQgPT09IGFjdGl2ZUNvbGxlY3Rpb25JZCk/LmlkXG4gICAgICAgICAgICB8fCBjb2xsZWN0aW9uc1swXS5pZDtcbiAgICAgICAgICBzZXRBY3RpdmVDb2xsZWN0aW9uKGRlZmF1bHRJZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYWN0aXZlQ29sbGVjdGlvbklkID0gbnVsbDtcbiAgICAgICAgICBjb2xsZWN0aW9uSXRlbXMgPSBbXTtcbiAgICAgICAgICB1cGRhdGVDb2xsZWN0aW9uSGVhZGVyKCk7XG4gICAgICAgICAgc3luY0FkZEJ1dHRvblN0YXRlKCk7XG4gICAgICAgICAgcmVuZGVySXRlbVRhYmxlKCk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbY29udGVudF0gbG9hZCBjb2xsZWN0aW9ucycsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxlcyBjb2xsZWN0aW9ucy4nKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaXRlbUFkZEJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBpZiAoIWFjdGl2ZUNvbGxlY3Rpb25JZCkge1xuICAgICAgICBzaG93VG9hc3QoJ1NcdTAwRTlsZWN0aW9ubmV6IGRcdTIwMTlhYm9yZCB1bmUgY29sbGVjdGlvbi4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcHJlcGFyZU5ld0l0ZW1Gb3JtKCk7XG4gICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICB9KTtcblxuICAgIGl0ZW1Gb3JtQ2FuY2VsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmIChpc0NyZWF0aW5nSXRlbSkge1xuICAgICAgICBpc0NyZWF0aW5nSXRlbSA9IGZhbHNlO1xuICAgICAgICBhY3RpdmVJdGVtSWQgPSBudWxsO1xuICAgICAgICBoaWRlSXRlbUZvcm0oKTtcbiAgICAgICAgcmVuZGVySXRlbVRhYmxlKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChhY3RpdmVJdGVtSWQpIHtcbiAgICAgICAgY29uc3QgaXRlbSA9IGNvbGxlY3Rpb25JdGVtcy5maW5kKChlbnRyeSkgPT4gZW50cnkuaWQgPT09IGFjdGl2ZUl0ZW1JZCk7XG4gICAgICAgIHBvcHVsYXRlSXRlbUZvcm0oaXRlbSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBoaWRlSXRlbUZvcm0oKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGl0ZW1Gb3JtRmllbGRzLnN0YXR1cz8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICAgICAgc3luY0l0ZW1TdGF0dXNCYWRnZShpdGVtRm9ybUZpZWxkcy5zdGF0dXMudmFsdWUpO1xuICAgIH0pO1xuXG4gICAgaXRlbUZvcm1GaWVsZHMudGl0bGU/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgaWYgKCFpc0NyZWF0aW5nSXRlbSB8fCAhaXRlbUZvcm1GaWVsZHMuc2x1ZyB8fCBpdGVtU2x1Z01hbnVhbGx5RWRpdGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGl0ZW1Gb3JtRmllbGRzLnNsdWcudmFsdWUgPSBub3JtYWxpemVJdGVtU2x1Z0lucHV0KGl0ZW1Gb3JtRmllbGRzLnRpdGxlLnZhbHVlKTtcbiAgICB9KTtcblxuICAgIGl0ZW1Gb3JtRmllbGRzLnNsdWc/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgaWYgKCFpc0NyZWF0aW5nSXRlbSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpdGVtU2x1Z01hbnVhbGx5RWRpdGVkID0gdHJ1ZTtcbiAgICB9KTtcblxuICAgIGl0ZW1Gb3JtPy5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoIWFjdGl2ZUNvbGxlY3Rpb25JZCkge1xuICAgICAgICBzaG93VG9hc3QoJ1NcdTAwRTlsZWN0aW9ubmV6IHVuZSBjb2xsZWN0aW9uLicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCB2YWx1ZXMgPSBjb2xsZWN0SXRlbUZvcm1WYWx1ZXMoKTtcbiAgICAgIGlmICghdmFsdWVzLnRpdGxlKSB7XG4gICAgICAgIHNob3dUb2FzdCgnTGUgdGl0cmUgZXN0IHJlcXVpcy4nKTtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMudGl0bGU/LmZvY3VzKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNldEZvcm1TYXZpbmdTdGF0ZSh0cnVlKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGxldCBzYXZlZEl0ZW07XG4gICAgICAgIGlmIChpc0NyZWF0aW5nSXRlbSB8fCAhYWN0aXZlSXRlbUlkKSB7XG4gICAgICAgICAgc2F2ZWRJdGVtID0gYXdhaXQgY3JlYXRlQ29sbGVjdGlvbkl0ZW0oYWN0aXZlQ29sbGVjdGlvbklkLCB2YWx1ZXMpO1xuICAgICAgICAgIGNvbGxlY3Rpb25JdGVtcyA9IFsuLi5jb2xsZWN0aW9uSXRlbXMsIHNhdmVkSXRlbV07XG4gICAgICAgICAgc2hvd1RvYXN0KCdJdGVtIGNyXHUwMEU5XHUwMEU5Jyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2F2ZWRJdGVtID0gYXdhaXQgdXBkYXRlQ29sbGVjdGlvbkl0ZW0oYWN0aXZlQ29sbGVjdGlvbklkLCBhY3RpdmVJdGVtSWQsIHZhbHVlcyk7XG4gICAgICAgICAgY29sbGVjdGlvbkl0ZW1zID0gY29sbGVjdGlvbkl0ZW1zLm1hcCgoaXRlbSkgPT5cbiAgICAgICAgICAgIGl0ZW0uaWQgPT09IHNhdmVkSXRlbS5pZCA/IHNhdmVkSXRlbSA6IGl0ZW0sXG4gICAgICAgICAgKTtcbiAgICAgICAgICBzaG93VG9hc3QoJ0l0ZW0gbWlzIFx1MDBFMCBqb3VyJyk7XG4gICAgICAgIH1cbiAgICAgICAgaXNDcmVhdGluZ0l0ZW0gPSBmYWxzZTtcbiAgICAgICAgYWN0aXZlSXRlbUlkID0gc2F2ZWRJdGVtLmlkO1xuICAgICAgICBwb3B1bGF0ZUl0ZW1Gb3JtKHNhdmVkSXRlbSk7XG4gICAgICAgIHJlbmRlckl0ZW1UYWJsZSgpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tjb250ZW50XSBzYXZlIGl0ZW0gZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIHNhdXZlZ2FyZGVyIGNldCBpdGVtLicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0Rm9ybVNhdmluZ1N0YXRlKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGNvbnN0IGNsb3NlRGVsZXRlTW9kYWwgPSAoKSA9PiB7XG4gICAgICBpZiAoIWl0ZW1EZWxldGVNb2RhbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpdGVtRGVsZXRlTW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBpdGVtRGVsZXRlTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnZmxleCcpO1xuICAgICAgcGVuZGluZ0RlbGV0ZUl0ZW1JZCA9IG51bGw7XG4gICAgfTtcblxuICAgIGNvbnN0IG9wZW5EZWxldGVNb2RhbCA9ICgpID0+IHtcbiAgICAgIGlmICghaXRlbURlbGV0ZU1vZGFsIHx8ICFhY3RpdmVJdGVtSWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcGVuZGluZ0RlbGV0ZUl0ZW1JZCA9IGFjdGl2ZUl0ZW1JZDtcbiAgICAgIGl0ZW1EZWxldGVNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGl0ZW1EZWxldGVNb2RhbC5jbGFzc0xpc3QuYWRkKCdmbGV4Jyk7XG4gICAgfTtcblxuICAgIGl0ZW1EZWxldGVCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKCFhY3RpdmVJdGVtSWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgb3BlbkRlbGV0ZU1vZGFsKCk7XG4gICAgfSk7XG5cbiAgICBpdGVtRGVsZXRlQ2FuY2VsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNsb3NlRGVsZXRlTW9kYWwoKTtcbiAgICB9KTtcblxuICAgIGl0ZW1EZWxldGVNb2RhbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIGlmIChldmVudC50YXJnZXQgPT09IGl0ZW1EZWxldGVNb2RhbCkge1xuICAgICAgICBjbG9zZURlbGV0ZU1vZGFsKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpdGVtRGVsZXRlQ29uZmlybT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXBlbmRpbmdEZWxldGVJdGVtSWQgfHwgIWFjdGl2ZUNvbGxlY3Rpb25JZCkge1xuICAgICAgICBjbG9zZURlbGV0ZU1vZGFsKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGl0ZW1EZWxldGVDb25maXJtLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIGl0ZW1EZWxldGVDb25maXJtLnRleHRDb250ZW50ID0gJ1N1cHByZXNzaW9uXHUyMDI2JztcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IGRlbGV0ZUNvbGxlY3Rpb25JdGVtKGFjdGl2ZUNvbGxlY3Rpb25JZCwgcGVuZGluZ0RlbGV0ZUl0ZW1JZCk7XG4gICAgICAgIGNvbGxlY3Rpb25JdGVtcyA9IGNvbGxlY3Rpb25JdGVtcy5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0uaWQgIT09IHBlbmRpbmdEZWxldGVJdGVtSWQpO1xuICAgICAgICBpZiAoYWN0aXZlSXRlbUlkID09PSBwZW5kaW5nRGVsZXRlSXRlbUlkKSB7XG4gICAgICAgICAgYWN0aXZlSXRlbUlkID0gbnVsbDtcbiAgICAgICAgICBoaWRlSXRlbUZvcm0oKTtcbiAgICAgICAgfVxuICAgICAgICBzaG93VG9hc3QoJ0l0ZW0gc3VwcHJpbVx1MDBFOScpO1xuICAgICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbY29udGVudF0gZGVsZXRlIGl0ZW0gZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIHN1cHByaW1lciBjZXQgaXRlbS4nKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGl0ZW1EZWxldGVDb25maXJtLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIGl0ZW1EZWxldGVDb25maXJtLnRleHRDb250ZW50ID0gJ1N1cHByaW1lcic7XG4gICAgICAgIGNsb3NlRGVsZXRlTW9kYWwoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHVwZGF0ZUNvbGxlY3Rpb25IZWFkZXIoKTtcbiAgICBzeW5jQWRkQnV0dG9uU3RhdGUoKTtcbiAgICBsb2FkQ29sbGVjdGlvbnMoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXREZXBsb3lXb3Jrc3BhY2UoKSB7XG4gICAgY29uc3QgZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1mb3JtXScpO1xuICAgIGlmICghZm9ybSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBwcm90b2NvbFNlbGVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1wcm90b2NvbF0nKTtcbiAgICBjb25zdCBob3N0SW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktaG9zdF0nKTtcbiAgICBjb25zdCBwb3J0SW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktcG9ydF0nKTtcbiAgICBjb25zdCB1c2VySW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktdXNlcl0nKTtcbiAgICBjb25zdCBwYXNzd29yZElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LXBhc3N3b3JkXScpO1xuICAgIGNvbnN0IHNob3dQYXNzd29yZFRvZ2dsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1zaG93LXBhc3N3b3JkXScpO1xuICAgIGNvbnN0IHJlbW90ZVBhdGhJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1yZW1vdGUtcGF0aF0nKTtcbiAgICBjb25zdCBmZWVkYmFjayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1mZWVkYmFja10nKTtcbiAgICBjb25zdCBzYXZlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LXNhdmVdJyk7XG4gICAgY29uc3QgdGVzdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS10ZXN0XScpO1xuICAgIGNvbnN0IGRlcGxveUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS10cmlnZ2VyXScpO1xuICAgIGNvbnN0IGhpc3RvcnlMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LWhpc3RvcnldJyk7XG4gICAgY29uc3QgbG9nQm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LWxvZ10nKTtcblxuICAgIGNvbnN0IHNhZmVTaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKFxuICAgICAgd29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyxcbiAgICApO1xuICAgIGNvbnN0IGRlcGxveUFwaUJhc2UgPSBzYWZlU2l0ZVNsdWdcbiAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnKX0vZGVwbG95LWNvbmZpZ2BcbiAgICAgIDogbnVsbDtcbiAgICBjb25zdCBkZXBsb3lSdW5BcGkgPSBzYWZlU2l0ZVNsdWdcbiAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnKX0vZGVwbG95YFxuICAgICAgOiBudWxsO1xuICAgIGNvbnN0IGRlcGxveUxvZ0FwaSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9kZXBsb3ktbG9nYFxuICAgICAgOiBudWxsO1xuXG4gICAgbGV0IGhhc1Bhc3N3b3JkID0gZmFsc2U7XG4gICAgbGV0IGJ1c3lBY3Rpb24gPSBudWxsO1xuXG4gICAgY29uc3Qgc2FuaXRpemVSZW1vdGVQYXRoID0gKHZhbHVlKSA9PiB7XG4gICAgICBjb25zdCB0cmltbWVkID0gKHZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICBpZiAoIXRyaW1tZWQpIHtcbiAgICAgICAgcmV0dXJuICcvd3d3JztcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cmltbWVkLnN0YXJ0c1dpdGgoJy8nKSA/IHRyaW1tZWQgOiBgLyR7dHJpbW1lZH1gO1xuICAgIH07XG5cbiAgICBjb25zdCBzZXRGZWVkYmFjayA9IChtZXNzYWdlLCB0b25lID0gJ211dGVkJykgPT4ge1xuICAgICAgaWYgKCFmZWVkYmFjaykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBiYXNlQ2xhc3MgPSAnaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHJvdW5kZWQtZnVsbCBweC0zIHB5LTEgdGV4dC14cyBmb250LXNlbWlib2xkJztcbiAgICAgIGNvbnN0IHRvbmVDbGFzcyA9XG4gICAgICAgIHRvbmUgPT09ICdzdWNjZXNzJ1xuICAgICAgICAgID8gJ2JnLWVtZXJhbGQtNTAgdGV4dC1lbWVyYWxkLTcwMCBib3JkZXIgYm9yZGVyLWVtZXJhbGQtMTAwJ1xuICAgICAgICAgIDogdG9uZSA9PT0gJ2Vycm9yJ1xuICAgICAgICAgICAgPyAnYmctcm9zZS01MCB0ZXh0LXJvc2UtNzAwIGJvcmRlciBib3JkZXItcm9zZS0xMDAnXG4gICAgICAgICAgICA6ICdiZy1zbGF0ZS01MCB0ZXh0LXNsYXRlLTYwMCBib3JkZXIgYm9yZGVyLXNsYXRlLTEwMCc7XG4gICAgICBpZiAoIW1lc3NhZ2UpIHtcbiAgICAgICAgZmVlZGJhY2sudGV4dENvbnRlbnQgPSAnJztcbiAgICAgICAgZmVlZGJhY2suY2xhc3NOYW1lID0gJ3RleHQtc20gdGV4dC1zbGF0ZS01MDAnO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBpY29uID0gdG9uZSA9PT0gJ3N1Y2Nlc3MnID8gJ1x1MjcwNScgOiB0b25lID09PSAnZXJyb3InID8gJ1x1Mjc0QycgOiAnXHUyMTM5XHVGRTBGJztcbiAgICAgIGZlZWRiYWNrLmlubmVySFRNTCA9IGA8c3BhbiBjbGFzcz1cIiR7YmFzZUNsYXNzfSAke3RvbmVDbGFzc31cIj4ke2ljb259PHNwYW4+JHttZXNzYWdlfTwvc3Bhbj48L3NwYW4+YDtcbiAgICAgIGZlZWRiYWNrLmNsYXNzTmFtZSA9ICd0ZXh0LXNtJztcbiAgICB9O1xuXG4gICAgY29uc3Qgc2V0QnVzeSA9IChhY3Rpb24gPSBudWxsKSA9PiB7XG4gICAgICBidXN5QWN0aW9uID0gYWN0aW9uO1xuICAgICAgY29uc3QgZGlzYWJsZSA9IEJvb2xlYW4oYWN0aW9uKTtcbiAgICAgIGNvbnN0IHNwaW5uZXIgPVxuICAgICAgICAnPHN2ZyBjbGFzcz1cImgtNCB3LTQgYW5pbWF0ZS1zcGluIHRleHQtd2hpdGVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48Y2lyY2xlIGNsYXNzPVwib3BhY2l0eS0yNVwiIGN4PVwiMTJcIiBjeT1cIjEyXCIgcj1cIjEwXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiNFwiPjwvY2lyY2xlPjxwYXRoIGNsYXNzPVwib3BhY2l0eS03NVwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIiBkPVwiTTQgMTJhOCA4IDAgMDE4LTh2NGE0IDQgMCAwMC00IDRINHpcIj48L3BhdGg+PC9zdmc+JztcbiAgICAgIGlmIChzYXZlQnV0dG9uKSB7XG4gICAgICAgIHNhdmVCdXR0b24uZGlzYWJsZWQgPSBkaXNhYmxlO1xuICAgICAgICBzYXZlQnV0dG9uLmlubmVySFRNTCA9XG4gICAgICAgICAgYWN0aW9uID09PSAnc2F2ZSdcbiAgICAgICAgICAgID8gYDxzcGFuIGNsYXNzPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+JHtzcGlubmVyfTxzcGFuPkVucmVnaXN0cmVtZW50XHUyMDI2PC9zcGFuPjwvc3Bhbj5gXG4gICAgICAgICAgICA6ICdFbnJlZ2lzdHJlcic7XG4gICAgICB9XG4gICAgICBpZiAodGVzdEJ1dHRvbikge1xuICAgICAgICB0ZXN0QnV0dG9uLmRpc2FibGVkID0gZGlzYWJsZTtcbiAgICAgICAgdGVzdEJ1dHRvbi5pbm5lckhUTUwgPVxuICAgICAgICAgIGFjdGlvbiA9PT0gJ3Rlc3QnXG4gICAgICAgICAgICA/IGA8c3BhbiBjbGFzcz1cImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPjxzcGFuIGNsYXNzPVwiaC00IHctNCBhbmltYXRlLXNwaW4gcm91bmRlZC1mdWxsIGJvcmRlci0yIGJvcmRlci1zbGF0ZS0yMDAgYm9yZGVyLXQtc2xhdGUtNjAwXCI+PC9zcGFuPjxzcGFuPlRlc3QgZW4gY291cnNcdTIwMjY8L3NwYW4+PC9zcGFuPmBcbiAgICAgICAgICAgIDogJ1Rlc3RlciBsYSBjb25uZXhpb24nO1xuICAgICAgfVxuICAgICAgaWYgKGRlcGxveUJ1dHRvbikge1xuICAgICAgICBkZXBsb3lCdXR0b24uZGlzYWJsZWQgPSBkaXNhYmxlICYmIGFjdGlvbiAhPT0gbnVsbDtcbiAgICAgICAgZGVwbG95QnV0dG9uLmlubmVySFRNTCA9XG4gICAgICAgICAgYWN0aW9uID09PSAnZGVwbG95J1xuICAgICAgICAgICAgPyBgPHNwYW4gY2xhc3M9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj48c3BhbiBjbGFzcz1cImgtNCB3LTQgYW5pbWF0ZS1zcGluIHJvdW5kZWQtZnVsbCBib3JkZXItMiBib3JkZXItd2hpdGUvNjAgYm9yZGVyLXQtd2hpdGVcIj48L3NwYW4+PHNwYW4+RFx1MDBFOXBsb2llbWVudFx1MjAyNjwvc3Bhbj48L3NwYW4+YFxuICAgICAgICAgICAgOiAnRFx1MDBFOXBsb3llciBtYWludGVuYW50JztcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgcG9wdWxhdGVGb3JtID0gKGNvbmZpZykgPT4ge1xuICAgICAgcHJvdG9jb2xTZWxlY3QgJiYgKHByb3RvY29sU2VsZWN0LnZhbHVlID0gY29uZmlnLnByb3RvY29sIHx8ICdzZnRwJyk7XG4gICAgICBob3N0SW5wdXQgJiYgKGhvc3RJbnB1dC52YWx1ZSA9IGNvbmZpZy5ob3N0IHx8ICcnKTtcbiAgICAgIHBvcnRJbnB1dCAmJiAocG9ydElucHV0LnZhbHVlID0gY29uZmlnLnBvcnQgfHwgJycpO1xuICAgICAgdXNlcklucHV0ICYmICh1c2VySW5wdXQudmFsdWUgPSBjb25maWcudXNlciB8fCAnJyk7XG4gICAgICByZW1vdGVQYXRoSW5wdXQgJiYgKHJlbW90ZVBhdGhJbnB1dC52YWx1ZSA9IGNvbmZpZy5yZW1vdGVQYXRoIHx8ICcvd3d3Jyk7XG4gICAgICBoYXNQYXNzd29yZCA9IEJvb2xlYW4oY29uZmlnLmhhc1Bhc3N3b3JkKTtcbiAgICAgIGlmIChwYXNzd29yZElucHV0KSB7XG4gICAgICAgIHBhc3N3b3JkSW5wdXQudmFsdWUgPSAnJztcbiAgICAgICAgcGFzc3dvcmRJbnB1dC5wbGFjZWhvbGRlciA9IGhhc1Bhc3N3b3JkID8gJ05vbiBhZmZpY2hcdTAwRTknIDogJ01vdCBkZSBwYXNzZSc7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHJlbmRlckhpc3RvcnkgPSAoZW50cmllcyA9IFtdKSA9PiB7XG4gICAgICBpZiAoIWhpc3RvcnlMaXN0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGhpc3RvcnlMaXN0LmlubmVySFRNTCA9ICcnO1xuICAgICAgaWYgKCFlbnRyaWVzLmxlbmd0aCkge1xuICAgICAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICAgIGxpLmNsYXNzTmFtZSA9ICd0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICAgIGxpLnRleHRDb250ZW50ID0gJ0F1Y3VuIGRcdTAwRTlwbG9pZW1lbnQgcG91ciBsZSBtb21lbnQuJztcbiAgICAgICAgaGlzdG9yeUxpc3QuYXBwZW5kQ2hpbGQobGkpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBlbnRyaWVzLmZvckVhY2goKGVudHJ5KSA9PiB7XG4gICAgICAgIGNvbnN0IGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgbGkuY2xhc3NOYW1lID1cbiAgICAgICAgICAnZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIGdhcC0yIHJvdW5kZWQteGwgYm9yZGVyIGJvcmRlci1zbGF0ZS0yMDAgcHgtMyBweS0yJztcbiAgICAgICAgY29uc3Qgc3RhdHVzQmFkZ2UgPVxuICAgICAgICAgIGVudHJ5LnN0YXR1cyA9PT0gJ3N1Y2Nlc3MnXG4gICAgICAgICAgICA/ICc8c3BhbiBjbGFzcz1cInJvdW5kZWQtZnVsbCBiZy1lbWVyYWxkLTUwIHB4LTIgcHktMC41IHRleHQtWzExcHhdIGZvbnQtc2VtaWJvbGQgdGV4dC1lbWVyYWxkLTcwMFwiPlN1Y2NcdTAwRThzPC9zcGFuPidcbiAgICAgICAgICAgIDogJzxzcGFuIGNsYXNzPVwicm91bmRlZC1mdWxsIGJnLXJvc2UtNTAgcHgtMiBweS0wLjUgdGV4dC1bMTFweF0gZm9udC1zZW1pYm9sZCB0ZXh0LXJvc2UtNzAwXCI+XHUwMEM5Y2hlYzwvc3Bhbj4nO1xuICAgICAgICBjb25zdCBkYXRlID0gZW50cnkuZmluaXNoZWRBdCB8fCBlbnRyeS5zdGFydGVkQXQgfHwgJyc7XG4gICAgICAgIGNvbnN0IGR1cmF0aW9uID1cbiAgICAgICAgICBlbnRyeS5kdXJhdGlvbk1zICYmIE51bWJlcihlbnRyeS5kdXJhdGlvbk1zKSA+PSAwXG4gICAgICAgICAgICA/IGAke01hdGgucm91bmQoTnVtYmVyKGVudHJ5LmR1cmF0aW9uTXMpIC8gMTAwMCl9c2BcbiAgICAgICAgICAgIDogJyc7XG4gICAgICAgIGxpLmlubmVySFRNTCA9IGBcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwic3BhY2UteS0xXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj4ke3N0YXR1c0JhZGdlfTxzcGFuIGNsYXNzPVwidGV4dC14cyB0ZXh0LXNsYXRlLTUwMFwiPiR7ZGF0ZX08L3NwYW4+PC9kaXY+XG4gICAgICAgICAgICA8cCBjbGFzcz1cInRleHQtc20gdGV4dC1zbGF0ZS04MDBcIj4ke2VudHJ5Lm1lc3NhZ2UgfHwgJyd9PC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNTAwXCI+JHtkdXJhdGlvbn08L2Rpdj5cbiAgICAgICAgYDtcbiAgICAgICAgbGkuZGF0YXNldC5kZXBsb3lJZCA9IGVudHJ5LmlkIHx8ICcnO1xuICAgICAgICBsaS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICBpZiAoZW50cnkubG9ncyAmJiBsb2dCb3gpIHtcbiAgICAgICAgICAgIGxvZ0JveC50ZXh0Q29udGVudCA9IGVudHJ5LmxvZ3Muam9pbignXFxuJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaGlzdG9yeUxpc3QuYXBwZW5kQ2hpbGQobGkpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IHJlbmRlckxvZ3MgPSAobGluZXMgPSBbXSkgPT4ge1xuICAgICAgaWYgKCFsb2dCb3gpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbG9nQm94LnRleHRDb250ZW50ID0gbGluZXMubGVuZ3RoID8gbGluZXMuam9pbignXFxuJykgOiAnQXVjdW4gbG9nIHBvdXIgbGUgbW9tZW50Lic7XG4gICAgfTtcblxuICAgIGNvbnN0IGZldGNoSGlzdG9yeSA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghZGVwbG95TG9nQXBpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goZGVwbG95TG9nQXBpLCB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwNCkge1xuICAgICAgICAgICAgcmVuZGVySGlzdG9yeShbXSk7XG4gICAgICAgICAgICByZW5kZXJMb2dzKFsnQVBJIGRcdTAwRTlwbG9pZW1lbnQgaW5kaXNwb25pYmxlIChyZWRcdTAwRTltYXJyZSBsZSBzZXJ2ZXVyKS4nXSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxcdTIwMTloaXN0b3JpcXVlLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIGNvbnN0IGVudHJpZXMgPSBBcnJheS5pc0FycmF5KHBheWxvYWQuZW50cmllcykgPyBwYXlsb2FkLmVudHJpZXMgOiBbXTtcbiAgICAgICAgcmVuZGVySGlzdG9yeShlbnRyaWVzKTtcbiAgICAgICAgaWYgKGVudHJpZXNbMF0/LmxvZ3MpIHtcbiAgICAgICAgICByZW5kZXJMb2dzKGVudHJpZXNbMF0ubG9ncyk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZGVwbG95XSBoaXN0b3J5IGZhaWxlZCcsIGVycik7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGZldGNoQ29uZmlnID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFkZXBsb3lBcGlCYXNlKSB7XG4gICAgICAgIHNldEZlZWRiYWNrKCdBdWN1biBzaXRlIGFjdGlmIHNcdTAwRTlsZWN0aW9ublx1MDBFOS4nLCAnZXJyb3InKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2V0QnVzeSgnbG9hZCcpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChkZXBsb3lBcGlCYXNlLCB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgcG9wdWxhdGVGb3JtKHBheWxvYWQgfHwge30pO1xuICAgICAgICAgIHNldEZlZWRiYWNrKCdDb25maWd1cmF0aW9uIGNoYXJnXHUwMEU5ZS4nLCAnbXV0ZWQnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwb3B1bGF0ZUZvcm0ocGF5bG9hZCB8fCB7fSk7XG4gICAgICAgICAgc2V0RmVlZGJhY2socGF5bG9hZC5tZXNzYWdlIHx8ICdDb25maWd1cmF0aW9uIHBhciBkXHUwMEU5ZmF1dCBjaGFyZ1x1MDBFOWUuJywgJ211dGVkJyk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZGVwbG95XSBsb2FkIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNldEZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkdSBjaGFyZ2VtZW50LicsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0QnVzeShudWxsKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgYnVpbGRQYXlsb2FkID0gKCkgPT4ge1xuICAgICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgcHJvdG9jb2w6IHByb3RvY29sU2VsZWN0Py52YWx1ZSB8fCAnc2Z0cCcsXG4gICAgICAgIGhvc3Q6IGhvc3RJbnB1dD8udmFsdWUudHJpbSgpIHx8ICcnLFxuICAgICAgICBwb3J0OiBOdW1iZXIocG9ydElucHV0Py52YWx1ZSkgfHwgdW5kZWZpbmVkLFxuICAgICAgICB1c2VyOiB1c2VySW5wdXQ/LnZhbHVlLnRyaW0oKSB8fCAnJyxcbiAgICAgICAgcmVtb3RlUGF0aDogc2FuaXRpemVSZW1vdGVQYXRoKHJlbW90ZVBhdGhJbnB1dD8udmFsdWUgfHwgJy93d3cnKSxcbiAgICAgIH07XG4gICAgICBjb25zdCBwd2QgPSBwYXNzd29yZElucHV0Py52YWx1ZSB8fCAnJztcbiAgICAgIGlmIChwd2QudHJpbSgpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcGF5bG9hZC5wYXNzd29yZCA9IHB3ZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH07XG5cbiAgICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmICghZGVwbG95QXBpQmFzZSkge1xuICAgICAgICBzZXRGZWVkYmFjaygnQXVjdW4gc2l0ZSBhY3RpZiBzXHUwMEU5bGVjdGlvbm5cdTAwRTkuJywgJ2Vycm9yJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHBheWxvYWQgPSBidWlsZFBheWxvYWQoKTtcbiAgICAgIHNldEJ1c3koJ3NhdmUnKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goZGVwbG95QXBpQmFzZSwge1xuICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgY29uc3QgZXJyb3JQYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvclBheWxvYWQubWVzc2FnZSB8fCAnU2F1dmVnYXJkZSBpbXBvc3NpYmxlLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNhdmVkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBwb3B1bGF0ZUZvcm0oc2F2ZWQgfHwge30pO1xuICAgICAgICBzZXRGZWVkYmFjaygnQ29uZmlndXJhdGlvbiBlbnJlZ2lzdHJcdTAwRTllLicsICdzdWNjZXNzJyk7XG4gICAgICAgIHNob3dUb2FzdCgnQ29uZmlndXJhdGlvbiBkXHUwMEU5cGxvaWVtZW50IHNhdXZlZ2FyZFx1MDBFOWUnKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZGVwbG95XSBzYXZlIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNldEZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsYSBzYXV2ZWdhcmRlLicsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0QnVzeShudWxsKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRlc3RCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFkZXBsb3lBcGlCYXNlKSB7XG4gICAgICAgIHNldEZlZWRiYWNrKCdBdWN1biBzaXRlIGFjdGlmIHNcdTAwRTlsZWN0aW9ublx1MDBFOS4nLCAnZXJyb3InKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgcGF5bG9hZCA9IGJ1aWxkUGF5bG9hZCgpO1xuICAgICAgaWYgKCFwYXlsb2FkLmhvc3QgfHwgIXBheWxvYWQudXNlciB8fCAhcGF5bG9hZC5yZW1vdGVQYXRoKSB7XG4gICAgICAgIHNldEZlZWRiYWNrKCdSZW1wbGlzc2V6IGxlcyBjaGFtcHMgcmVxdWlzIGF2YW50IGRlIHRlc3Rlci4nLCAnZXJyb3InKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2V0QnVzeSgndGVzdCcpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtkZXBsb3lBcGlCYXNlfS90ZXN0YCwge1xuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rIHx8IHJlc3VsdC5zdWNjZXNzID09PSBmYWxzZSkge1xuICAgICAgICAgIHNldEZlZWRiYWNrKHJlc3VsdC5tZXNzYWdlIHx8ICdUZXN0IGRlIGNvbm5leGlvbiBcdTAwRTljaG91XHUwMEU5LicsICdlcnJvcicpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzZXRGZWVkYmFjayhyZXN1bHQubWVzc2FnZSB8fCAnQ29ubmV4aW9uIE9LLicsICdzdWNjZXNzJyk7XG4gICAgICAgIHNob3dUb2FzdCgnVGVzdCBkZSBjb25uZXhpb24gclx1MDBFOXVzc2knKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZGVwbG95XSB0ZXN0IGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNldEZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdUZXN0IGRlIGNvbm5leGlvbiBcdTAwRTljaG91XHUwMEU5LicsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0QnVzeShudWxsKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGRlcGxveUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWRlcGxveVJ1bkFwaSkge1xuICAgICAgICBzZXRGZWVkYmFjaygnQXVjdW4gc2l0ZSBhY3RpZiBzXHUwMEU5bGVjdGlvbm5cdTAwRTkuJywgJ2Vycm9yJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNldEJ1c3koJ2RlcGxveScpO1xuICAgICAgcmVuZGVyTG9ncyhbJ0RcdTAwRTlwbG9pZW1lbnQgZW4gY291cnNcdTIwMjYnXSk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGRlcGxveVJ1bkFwaSwge1xuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJ1aWxkUGF5bG9hZCgpKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwNCkge1xuICAgICAgICAgICAgc2V0RmVlZGJhY2soJ0FQSSBkXHUwMEU5cGxvaWVtZW50IGluZGlzcG9uaWJsZSAocmVkXHUwMEU5bWFycmUgbGUgc2VydmV1cikuJywgJ2Vycm9yJyk7XG4gICAgICAgICAgICByZW5kZXJMb2dzKFsnQVBJIGRcdTAwRTlwbG9pZW1lbnQgaW5kaXNwb25pYmxlIChyZWRcdTAwRTltYXJyZSBsZSBzZXJ2ZXVyKS4nXSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlbmRlckxvZ3MocmVzdWx0LmxvZ3MgfHwgW10pO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQubWVzc2FnZSB8fCAnRFx1MDBFOXBsb2llbWVudCBcdTAwRTljaG91XHUwMEU5LicpO1xuICAgICAgICB9XG4gICAgICAgIHJlbmRlckxvZ3MocmVzdWx0LmxvZ3MgfHwgW10pO1xuICAgICAgICBhd2FpdCBmZXRjaEhpc3RvcnkoKTtcbiAgICAgICAgc2hvd1RvYXN0KCdEXHUwMEU5cGxvaWVtZW50IHRlcm1pblx1MDBFOScpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkZXBsb3ldIHJ1biBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzZXRGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRFx1MDBFOXBsb2llbWVudCBcdTAwRTljaG91XHUwMEU5LicsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0QnVzeShudWxsKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHNob3dQYXNzd29yZFRvZ2dsZT8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICAgICAgaWYgKCFwYXNzd29yZElucHV0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHBhc3N3b3JkSW5wdXQudHlwZSA9IHNob3dQYXNzd29yZFRvZ2dsZS5jaGVja2VkID8gJ3RleHQnIDogJ3Bhc3N3b3JkJztcbiAgICB9KTtcblxuICAgIGZldGNoQ29uZmlnKCk7XG4gICAgZmV0Y2hIaXN0b3J5KCk7XG4gIH1cblxuICBmdW5jdGlvbiBpbml0U2V0dGluZ3NXb3Jrc3BhY2UoKSB7XG4gICAgY29uc3QgdGFiQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXNldHRpbmdzLXRhYl0nKTtcbiAgICBjb25zdCB0YWJQYW5lbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1zZXR0aW5ncy1wYW5lbF0nKTtcbiAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRtaW4tcGFzc3dvcmQtZm9ybV0nKTtcbiAgICBjb25zdCBzaXRlRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtY29uZmlnLWZvcm1dJyk7XG4gICAgY29uc3Qgc2l0ZUZlZWRiYWNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS1jb25maWctZmVlZGJhY2tdJyk7XG4gICAgY29uc3QgdGhlbWVGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtZm9ybV0nKTtcbiAgICBjb25zdCBzd2l0Y2hUYWIgPSAobmFtZSkgPT4ge1xuICAgICAgdGFiQnV0dG9ucy5mb3JFYWNoKChidG4pID0+IHtcbiAgICAgICAgY29uc3QgaXNBY3RpdmUgPSBidG4uZGF0YXNldC5zZXR0aW5nc1RhYiA9PT0gbmFtZTtcbiAgICAgICAgYnRuLnNldEF0dHJpYnV0ZSgnYXJpYS1zZWxlY3RlZCcsIGlzQWN0aXZlID8gJ3RydWUnIDogJ2ZhbHNlJyk7XG4gICAgICAgIGJ0bi5jbGFzc0xpc3QudG9nZ2xlKCdiZy1bIzlDNkJGRl0nLCBpc0FjdGl2ZSk7XG4gICAgICAgIGJ0bi5jbGFzc0xpc3QudG9nZ2xlKCd0ZXh0LXdoaXRlJywgaXNBY3RpdmUpO1xuICAgICAgfSk7XG4gICAgICB0YWJQYW5lbHMuZm9yRWFjaCgocGFuZWwpID0+IHtcbiAgICAgICAgcGFuZWwuY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZGVuJywgcGFuZWwuZGF0YXNldC5zZXR0aW5nc1BhbmVsICE9PSBuYW1lKTtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgdGFiQnV0dG9ucy5mb3JFYWNoKChidG4pID0+IHtcbiAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHN3aXRjaFRhYihidG4uZGF0YXNldC5zZXR0aW5nc1RhYiB8fCAnYWNjb3VudCcpKTtcbiAgICB9KTtcbiAgICBzd2l0Y2hUYWIoJ2FjY291bnQnKTtcblxuICAgIGlmICghZm9ybSkge1xuICAgICAgLy8gc3RpbGwgYWxsb3cgc2l0ZSBmb3JtIGV2ZW4gaWYgcGFzc3dvcmQgZm9ybSBhYnNlbnRcbiAgICB9XG4gICAgaWYgKGZvcm0pIHtcbiAgICAgIGNvbnN0IGZlZWRiYWNrID0gZm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZG1pbi1wYXNzd29yZC1mZWVkYmFja10nKTtcbiAgICAgIGNvbnN0IHN1Ym1pdCA9IGZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYWRtaW4tcGFzc3dvcmQtc3VibWl0XScpO1xuICAgICAgY29uc3Qgc2V0RmVlZGJhY2sgPSAobWVzc2FnZSwgdG9uZSA9ICdtdXRlZCcpID0+IHtcbiAgICAgICAgaWYgKCFmZWVkYmFjaykgcmV0dXJuO1xuICAgICAgICBjb25zdCBjb2xvciA9XG4gICAgICAgICAgdG9uZSA9PT0gJ3N1Y2Nlc3MnXG4gICAgICAgICAgICA/ICd0ZXh0LWVtZXJhbGQtNjAwJ1xuICAgICAgICAgICAgOiB0b25lID09PSAnZXJyb3InXG4gICAgICAgICAgICAgID8gJ3RleHQtcm9zZS02MDAnXG4gICAgICAgICAgICAgIDogJ3RleHQtc2xhdGUtNTAwJztcbiAgICAgICAgZmVlZGJhY2sudGV4dENvbnRlbnQgPSBtZXNzYWdlIHx8ICcnO1xuICAgICAgICBmZWVkYmFjay5jbGFzc05hbWUgPSBgdGV4dC1zbSAke2NvbG9yfWA7XG4gICAgICB9O1xuICAgICAgZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoZm9ybSk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRQYXNzd29yZCA9IGZvcm1EYXRhLmdldCgnY3VycmVudFBhc3N3b3JkJykgfHwgJyc7XG4gICAgICAgIGNvbnN0IG5ld1Bhc3N3b3JkID0gZm9ybURhdGEuZ2V0KCduZXdQYXNzd29yZCcpIHx8ICcnO1xuICAgICAgICBjb25zdCBjb25maXJtUGFzc3dvcmQgPSBmb3JtRGF0YS5nZXQoJ2NvbmZpcm1QYXNzd29yZCcpIHx8ICcnO1xuICAgICAgICBpZiAoIWN1cnJlbnRQYXNzd29yZCB8fCAhbmV3UGFzc3dvcmQgfHwgIWNvbmZpcm1QYXNzd29yZCkge1xuICAgICAgICAgIHNldEZlZWRiYWNrKCdDb21wbFx1MDBFOHRlIHRvdXMgbGVzIGNoYW1wcy4nLCAnZXJyb3InKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc3VibWl0ICYmIChzdWJtaXQuZGlzYWJsZWQgPSB0cnVlKTtcbiAgICAgICAgc2V0RmVlZGJhY2soJycpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvYWRtaW4vcGFzc3dvcmQnLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBjdXJyZW50UGFzc3dvcmQsIG5ld1Bhc3N3b3JkLCBjb25maXJtUGFzc3dvcmQgfSksXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rIHx8IHBheWxvYWQuc3VjY2VzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihwYXlsb2FkLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgbWV0dHJlIFx1MDBFMCBqb3VyIGxlIG1vdCBkZSBwYXNzZS4nKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0RmVlZGJhY2socGF5bG9hZC5tZXNzYWdlIHx8ICdNb3QgZGUgcGFzc2UgbWlzIFx1MDBFMCBqb3VyLicsICdzdWNjZXNzJyk7XG4gICAgICAgICAgZm9ybS5yZXNldCgpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIGNoYW5nZSBwYXNzd29yZCBmYWlsZWQnLCBlcnIpO1xuICAgICAgICAgIHNldEZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsYSBtaXNlIFx1MDBFMCBqb3VyLicsICdlcnJvcicpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIHN1Ym1pdCAmJiAoc3VibWl0LmRpc2FibGVkID0gZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoc2l0ZUZvcm0pIHtcbiAgICAgIGNvbnN0IG5hbWVJbnB1dCA9IHNpdGVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtbmFtZV0nKTtcbiAgICAgIGNvbnN0IGxhbmdTZWxlY3QgPSBzaXRlRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLWxhbmd1YWdlXScpO1xuICAgICAgY29uc3QgdGFnbGluZUlucHV0ID0gc2l0ZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS10YWdsaW5lXScpO1xuICAgICAgY29uc3Qgc2F2ZUJ1dHRvbiA9IHNpdGVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtc2F2ZV0nKTtcbiAgICAgIGNvbnN0IHNldFNpdGVGZWVkYmFjayA9IChtZXNzYWdlLCB0b25lID0gJ211dGVkJykgPT4ge1xuICAgICAgICBpZiAoIXNpdGVGZWVkYmFjaykgcmV0dXJuO1xuICAgICAgICBjb25zdCBjb2xvciA9XG4gICAgICAgICAgdG9uZSA9PT0gJ3N1Y2Nlc3MnXG4gICAgICAgICAgICA/ICd0ZXh0LWVtZXJhbGQtNjAwJ1xuICAgICAgICAgICAgOiB0b25lID09PSAnZXJyb3InXG4gICAgICAgICAgICAgID8gJ3RleHQtcm9zZS02MDAnXG4gICAgICAgICAgICAgIDogJ3RleHQtc2xhdGUtNTAwJztcbiAgICAgICAgc2l0ZUZlZWRiYWNrLnRleHRDb250ZW50ID0gbWVzc2FnZSB8fCAnJztcbiAgICAgICAgc2l0ZUZlZWRiYWNrLmNsYXNzTmFtZSA9IGB0ZXh0LXNtICR7Y29sb3J9YDtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHNhZmVTaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKFxuICAgICAgICB3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnLFxuICAgICAgKTtcbiAgICAgIGNvbnN0IHNpdGVDb25maWdBcGkgPSBzYWZlU2l0ZVNsdWdcbiAgICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9jb25maWcvc2l0ZWBcbiAgICAgICAgOiBudWxsO1xuXG4gICAgICBjb25zdCBsb2FkU2l0ZUNvbmZpZyA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKCFzaXRlQ29uZmlnQXBpKSByZXR1cm47XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChzaXRlQ29uZmlnQXBpLCB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSByZXR1cm47XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICBpZiAobmFtZUlucHV0KSBuYW1lSW5wdXQudmFsdWUgPSBwYXlsb2FkLm5hbWUgfHwgJyc7XG4gICAgICAgICAgaWYgKGxhbmdTZWxlY3QpIGxhbmdTZWxlY3QudmFsdWUgPSBwYXlsb2FkLmxhbmd1YWdlIHx8ICdmcic7XG4gICAgICAgICAgaWYgKHRhZ2xpbmVJbnB1dCkgdGFnbGluZUlucHV0LnZhbHVlID0gcGF5bG9hZC50YWdsaW5lIHx8ICcnO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIGxvYWQgc2l0ZSBjb25maWcgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgc2l0ZUZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmICghc2l0ZUNvbmZpZ0FwaSkge1xuICAgICAgICAgIHNldFNpdGVGZWVkYmFjaygnQXVjdW4gc2l0ZSBhY3RpZi4nLCAnZXJyb3InKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFuYW1lSW5wdXQ/LnZhbHVlLnRyaW0oKSkge1xuICAgICAgICAgIHNldFNpdGVGZWVkYmFjaygnTm9tIHJlcXVpcy4nLCAnZXJyb3InKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc2F2ZUJ1dHRvbiAmJiAoc2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWUpO1xuICAgICAgICBzZXRTaXRlRmVlZGJhY2soJycpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgICAgICBuYW1lOiBuYW1lSW5wdXQ/LnZhbHVlIHx8ICcnLFxuICAgICAgICAgICAgbGFuZ3VhZ2U6IGxhbmdTZWxlY3Q/LnZhbHVlIHx8ICdmcicsXG4gICAgICAgICAgICB0YWdsaW5lOiB0YWdsaW5lSW5wdXQ/LnZhbHVlIHx8ICcnLFxuICAgICAgICAgIH07XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChzaXRlQ29uZmlnQXBpLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vayB8fCByZXN1bHQuc3VjY2VzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQubWVzc2FnZSB8fCAnU2F1dmVnYXJkZSBpbXBvc3NpYmxlLicpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXRTaXRlRmVlZGJhY2socmVzdWx0Lm1lc3NhZ2UgfHwgJ1BhcmFtXHUwMEU4dHJlcyBlbnJlZ2lzdHJcdTAwRTlzLicsICdzdWNjZXNzJyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gc2F2ZSBzaXRlIGNvbmZpZyBmYWlsZWQnLCBlcnIpO1xuICAgICAgICAgIHNldFNpdGVGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZGUgbGEgc2F1dmVnYXJkZS4nLCAnZXJyb3InKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBzYXZlQnV0dG9uICYmIChzYXZlQnV0dG9uLmRpc2FibGVkID0gZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgbG9hZFNpdGVDb25maWcoKTtcbiAgICB9XG5cbiAgICBpZiAodGhlbWVGb3JtKSB7XG4gICAgICBjb25zdCBzYWZlU2l0ZVNsdWcgPSBzdHJpcExlYWRpbmdTbGFzaChcbiAgICAgICAgd29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyxcbiAgICAgICk7XG4gICAgICBjb25zdCB0aGVtZUFwaSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Zyl9L2NvbmZpZy90aGVtZWBcbiAgICAgICAgOiBudWxsO1xuXG4gICAgICBjb25zdCBjb2xvclNlbGVjdHMgPSB7XG4gICAgICAgIHByaW1hcnk6IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1wcmltYXJ5XScpLFxuICAgICAgICBzZWNvbmRhcnk6IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1zZWNvbmRhcnldJyksXG4gICAgICAgIGFjY2VudDogdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLWFjY2VudF0nKSxcbiAgICAgICAgYmFja2dyb3VuZDogdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLWJhY2tncm91bmRdJyksXG4gICAgICAgIHRleHQ6IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS10ZXh0XScpLFxuICAgICAgfTtcbiAgICAgIGNvbnN0IGhlYWRpbmdTZWxlY3QgPSB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtaGVhZGluZ3NdJyk7XG4gICAgICBjb25zdCBib2R5U2VsZWN0ID0gdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLWJvZHldJyk7XG4gICAgICBjb25zdCByYWRpdXNTbWFsbCA9IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1yYWRpdXMtc21hbGxdJyk7XG4gICAgICBjb25zdCByYWRpdXNNZWRpdW0gPSB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtcmFkaXVzLW1lZGl1bV0nKTtcbiAgICAgIGNvbnN0IHJhZGl1c0xhcmdlID0gdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLXJhZGl1cy1sYXJnZV0nKTtcbiAgICAgIGNvbnN0IHByZXZpZXcgPSB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtcHJldmlld10nKTtcbiAgICAgIGNvbnN0IHRoZW1lRmVlZGJhY2sgPSB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtZmVlZGJhY2tdJyk7XG4gICAgICBjb25zdCBhcHBseUJ1dHRvbiA9IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1hcHBseV0nKTtcbiAgICAgIGNvbnN0IHRhaWx3aW5kSHVlcyA9IFtcbiAgICAgICAgJ3NsYXRlJywnZ3JheScsJ3ppbmMnLCduZXV0cmFsJywnc3RvbmUnLCdyZWQnLCdvcmFuZ2UnLCdhbWJlcicsJ3llbGxvdycsJ2xpbWUnLCdncmVlbicsJ2VtZXJhbGQnLCd0ZWFsJywnY3lhbicsJ3NreScsJ2JsdWUnLCdpbmRpZ28nLCd2aW9sZXQnLCdwdXJwbGUnLCdmdWNoc2lhJywncGluaycsJ3Jvc2UnXG4gICAgICBdO1xuICAgICAgY29uc3QgdGFpbHdpbmRTaGFkZXMgPSBbJzUwJywnMTAwJywnMjAwJywnMzAwJywnNDAwJywnNTAwJywnNjAwJywnNzAwJywnODAwJywnOTAwJ107XG4gICAgICBjb25zdCB0YWlsd2luZFRva2VucyA9IHRhaWx3aW5kSHVlcy5mbGF0TWFwKChoKT0+dGFpbHdpbmRTaGFkZXMubWFwKChzKT0+YCR7aH0tJHtzfWApKTtcblxuICAgICAgY29uc3QgZmlsbENvbG9yT3B0aW9ucyA9ICgpID0+IHtcbiAgICAgICAgT2JqZWN0LnZhbHVlcyhjb2xvclNlbGVjdHMpLmZvckVhY2goKHNlbCk9PntcbiAgICAgICAgICBpZiAoIXNlbCB8fCBzZWwub3B0aW9ucy5sZW5ndGgpIHJldHVybjtcbiAgICAgICAgICB0YWlsd2luZFRva2Vucy5mb3JFYWNoKCh0b2tlbik9PntcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgICAgICAgIG9wdGlvbi52YWx1ZT10b2tlbjtcbiAgICAgICAgICAgIGNvbnN0IFtoLHNdPXRva2VuLnNwbGl0KCctJyk7XG4gICAgICAgICAgICBvcHRpb24udGV4dENvbnRlbnQ9YCR7aC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStoLnNsaWNlKDEpfSAke3N9YDtcbiAgICAgICAgICAgIHNlbC5hcHBlbmRDaGlsZChvcHRpb24pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHNldFRoZW1lRmVlZGJhY2sgPSAobWVzc2FnZSwgdG9uZSA9ICdtdXRlZCcpID0+IHtcbiAgICAgICAgaWYgKCF0aGVtZUZlZWRiYWNrKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGNvbG9yID1cbiAgICAgICAgICB0b25lID09PSAnc3VjY2VzcydcbiAgICAgICAgICAgID8gJ3RleHQtZW1lcmFsZC02MDAnXG4gICAgICAgICAgICA6IHRvbmUgPT09ICdlcnJvcidcbiAgICAgICAgICAgICAgPyAndGV4dC1yb3NlLTYwMCdcbiAgICAgICAgICAgICAgOiAndGV4dC1zbGF0ZS01MDAnO1xuICAgICAgICB0aGVtZUZlZWRiYWNrLnRleHRDb250ZW50ID0gbWVzc2FnZSB8fCAnJztcbiAgICAgICAgdGhlbWVGZWVkYmFjay5jbGFzc05hbWUgPSBgdGV4dC1zbSAke2NvbG9yfWA7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBzeW5jUHJldmlldyA9ICgpID0+IHtcbiAgICAgICAgaWYgKCFwcmV2aWV3KSByZXR1cm47XG4gICAgICAgIGNvbnN0IHRva2VuVG9IZXggPSAodG9rZW4pID0+IHtcbiAgICAgICAgICBpZiAoIXRva2VuKSByZXR1cm4gbnVsbDtcbiAgICAgICAgICBjb25zdCBbaCxzXT10b2tlbi5zcGxpdCgnLScpO1xuICAgICAgICAgIGNvbnN0IG1hcCA9IHtcbiAgICAgICAgICAgIHNsYXRlOicjZTJlOGYwJyxncmF5OicjZDFkNWRiJyx6aW5jOicjZDRkNGQ4JyxuZXV0cmFsOicjZDRkNGQ0JyxzdG9uZTonI2Q2ZDNkMScsXG4gICAgICAgICAgICByZWQ6JyNlZjQ0NDQnLG9yYW5nZTonI2Y5NzMxNicsYW1iZXI6JyNmNTllMGInLHllbGxvdzonI2VhYjMwOCcsbGltZTonIzg0Y2MxNicsXG4gICAgICAgICAgICBncmVlbjonIzIyYzU1ZScsZW1lcmFsZDonIzEwYjk4MScsdGVhbDonIzE0YjhhNicsY3lhbjonIzA2YjZkNCcsc2t5OicjMGVhNWU5JyxcbiAgICAgICAgICAgIGJsdWU6JyMzYjgyZjYnLGluZGlnbzonIzYzNjZmMScsdmlvbGV0OicjOGI1Y2Y2JyxwdXJwbGU6JyNhODU1ZjcnLGZ1Y2hzaWE6JyNkOTQ2ZWYnLFxuICAgICAgICAgICAgcGluazonI2VjNDg5OScscm9zZTonI2Y0M2Y1ZSdcbiAgICAgICAgICB9O1xuICAgICAgICAgIGNvbnN0IGJhc2U9bWFwW2hdO1xuICAgICAgICAgIGlmICghYmFzZSkgcmV0dXJuIG51bGw7XG4gICAgICAgICAgLy8gcm91Z2ggc2hhZGUgdHdlYWsgdXNpbmcgb3BhY2l0eTsgbm90IGV4YWN0IFRhaWx3aW5kIHBhbGV0dGUgYnV0IHByZXZpZXctZnJpZW5kbHlcbiAgICAgICAgICBjb25zdCBzaGFkZU51bT1OdW1iZXIocyl8fDUwMDtcbiAgICAgICAgICBjb25zdCBmYWN0b3IgPSBNYXRoLm1pbihNYXRoLm1heCgoc2hhZGVOdW0tNTApLzkwMCwwKSwxKTtcbiAgICAgICAgICBjb25zdCB0b1JnYj0oaGV4KT0+aGV4Lm1hdGNoKC9bQS1GYS1mMC05XXsyfS9nKS5tYXAoKHYpPT5wYXJzZUludCh2LDE2KSk7XG4gICAgICAgICAgY29uc3QgW3IsZyxiXT10b1JnYihiYXNlLnJlcGxhY2UoJyMnLCcnKSk7XG4gICAgICAgICAgY29uc3QgbWl4PSh2KT0+TWF0aC5yb3VuZCgyNTUgLSAoMjU1IC0gdikqZmFjdG9yKTtcbiAgICAgICAgICByZXR1cm4gYHJnYigke21peChyKX0sICR7bWl4KGcpfSwgJHttaXgoYil9KWA7XG4gICAgICAgIH07XG4gICAgICAgIHByZXZpZXcuc3R5bGUuc2V0UHJvcGVydHkoJy0tY29sb3ItcHJpbWFyeScsIHRva2VuVG9IZXgoY29sb3JTZWxlY3RzLnByaW1hcnk/LnZhbHVlKSB8fCAnIzlDNkJGRicpO1xuICAgICAgICBwcmV2aWV3LnN0eWxlLnNldFByb3BlcnR5KCctLWNvbG9yLXNlY29uZGFyeScsIHRva2VuVG9IZXgoY29sb3JTZWxlY3RzLnNlY29uZGFyeT8udmFsdWUpIHx8ICcjMEVBNUU5Jyk7XG4gICAgICAgIHByZXZpZXcuc3R5bGUuc2V0UHJvcGVydHkoJy0tY29sb3ItYWNjZW50JywgdG9rZW5Ub0hleChjb2xvclNlbGVjdHMuYWNjZW50Py52YWx1ZSkgfHwgJyNGOTczMTYnKTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1jb2xvci1iYWNrZ3JvdW5kJywgdG9rZW5Ub0hleChjb2xvclNlbGVjdHMuYmFja2dyb3VuZD8udmFsdWUpIHx8ICcjRkZGRkZGJyk7XG4gICAgICAgIHByZXZpZXcuc3R5bGUuc2V0UHJvcGVydHkoJy0tY29sb3ItdGV4dCcsIHRva2VuVG9IZXgoY29sb3JTZWxlY3RzLnRleHQ/LnZhbHVlKSB8fCAnIzBGMTcyQScpO1xuICAgICAgICBwcmV2aWV3LnN0eWxlLnNldFByb3BlcnR5KCctLWZvbnQtaGVhZGluZ3MnLCBoZWFkaW5nU2VsZWN0Py52YWx1ZSB8fCAnSW50ZXIsIHNhbnMtc2VyaWYnKTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1mb250LWJvZHknLCBib2R5U2VsZWN0Py52YWx1ZSB8fCAnSW50ZXIsIHNhbnMtc2VyaWYnKTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1yYWRpdXMtc21hbGwnLCByYWRpdXNTbWFsbD8udmFsdWUgfHwgJzhweCcpO1xuICAgICAgICBwcmV2aWV3LnN0eWxlLnNldFByb3BlcnR5KCctLXJhZGl1cy1tZWRpdW0nLCByYWRpdXNNZWRpdW0/LnZhbHVlIHx8ICcxNnB4Jyk7XG4gICAgICAgIHByZXZpZXcuc3R5bGUuc2V0UHJvcGVydHkoJy0tcmFkaXVzLWxhcmdlJywgcmFkaXVzTGFyZ2U/LnZhbHVlIHx8ICcyNHB4Jyk7XG4gICAgICAgIHByZXZpZXcuc3R5bGUuYm9yZGVyUmFkaXVzID0gcmFkaXVzTWVkaXVtPy52YWx1ZSB8fCAnMTZweCc7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBzZXRDb2xvckZpZWxkcyA9IChrZXksIHZhbHVlKSA9PiB7XG4gICAgICAgIGlmIChjb2xvclNlbGVjdHNba2V5XSkgY29sb3JTZWxlY3RzW2tleV0udmFsdWUgPSB2YWx1ZTtcbiAgICAgIH07XG5cbiAgICAgIE9iamVjdC5rZXlzKGNvbG9yU2VsZWN0cykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgIGNvbG9yU2VsZWN0c1trZXldPy5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBzeW5jUHJldmlldyk7XG4gICAgICB9KTtcbiAgICAgIFtoZWFkaW5nU2VsZWN0LCBib2R5U2VsZWN0LCByYWRpdXNTbWFsbCwgcmFkaXVzTWVkaXVtLCByYWRpdXNMYXJnZV0uZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgICAgZWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHN5bmNQcmV2aWV3KTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBsb2FkVGhlbWUgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIGlmICghdGhlbWVBcGkpIHJldHVybjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHRoZW1lQXBpLCB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSByZXR1cm47XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICBzZXRDb2xvckZpZWxkcygncHJpbWFyeScsIHBheWxvYWQuY29sb3JzPy5wcmltYXJ5IHx8ICd2aW9sZXQtNTAwJyk7XG4gICAgICAgICAgc2V0Q29sb3JGaWVsZHMoJ3NlY29uZGFyeScsIHBheWxvYWQuY29sb3JzPy5zZWNvbmRhcnkgfHwgJ2luZGlnby00MDAnKTtcbiAgICAgICAgICBzZXRDb2xvckZpZWxkcygnYWNjZW50JywgcGF5bG9hZC5jb2xvcnM/LmFjY2VudCB8fCAnZW1lcmFsZC01MDAnKTtcbiAgICAgICAgICBzZXRDb2xvckZpZWxkcygnYmFja2dyb3VuZCcsIHBheWxvYWQuY29sb3JzPy5iYWNrZ3JvdW5kIHx8ICdzbGF0ZS01MCcpO1xuICAgICAgICAgIHNldENvbG9yRmllbGRzKCd0ZXh0JywgcGF5bG9hZC5jb2xvcnM/LnRleHQgfHwgJ3NsYXRlLTkwMCcpO1xuICAgICAgICAgIGlmIChoZWFkaW5nU2VsZWN0KSBoZWFkaW5nU2VsZWN0LnZhbHVlID0gcGF5bG9hZC50eXBvZ3JhcGh5Py5oZWFkaW5ncyB8fCAnSW50ZXIsIHNhbnMtc2VyaWYnO1xuICAgICAgICAgIGlmIChib2R5U2VsZWN0KSBib2R5U2VsZWN0LnZhbHVlID0gcGF5bG9hZC50eXBvZ3JhcGh5Py5ib2R5IHx8ICdJbnRlciwgc2Fucy1zZXJpZic7XG4gICAgICAgICAgaWYgKHJhZGl1c1NtYWxsKSByYWRpdXNTbWFsbC52YWx1ZSA9IHBheWxvYWQucmFkaXVzPy5zbWFsbCB8fCAnOHB4JztcbiAgICAgICAgICBpZiAocmFkaXVzTWVkaXVtKSByYWRpdXNNZWRpdW0udmFsdWUgPSBwYXlsb2FkLnJhZGl1cz8ubWVkaXVtIHx8ICcxNnB4JztcbiAgICAgICAgICBpZiAocmFkaXVzTGFyZ2UpIHJhZGl1c0xhcmdlLnZhbHVlID0gcGF5bG9hZC5yYWRpdXM/LmxhcmdlIHx8ICcyNHB4JztcbiAgICAgICAgICBzeW5jUHJldmlldygpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIGxvYWQgdGhlbWUgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgZmlsbENvbG9yT3B0aW9ucygpO1xuICAgICAgYXBwbHlCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmICghdGhlbWVBcGkpIHtcbiAgICAgICAgICBzZXRUaGVtZUZlZWRiYWNrKCdBdWN1biBzaXRlIGFjdGlmLicsICdlcnJvcicpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICAgIGNvbG9yczoge1xuICAgICAgICAgICAgcHJpbWFyeTogY29sb3JTZWxlY3RzLnByaW1hcnk/LnZhbHVlIHx8ICd2aW9sZXQtNTAwJyxcbiAgICAgICAgICAgIHNlY29uZGFyeTogY29sb3JTZWxlY3RzLnNlY29uZGFyeT8udmFsdWUgfHwgJ2luZGlnby00MDAnLFxuICAgICAgICAgICAgYWNjZW50OiBjb2xvclNlbGVjdHMuYWNjZW50Py52YWx1ZSB8fCAnZW1lcmFsZC01MDAnLFxuICAgICAgICAgICAgYmFja2dyb3VuZDogY29sb3JTZWxlY3RzLmJhY2tncm91bmQ/LnZhbHVlIHx8ICdzbGF0ZS01MCcsXG4gICAgICAgICAgICB0ZXh0OiBjb2xvclNlbGVjdHMudGV4dD8udmFsdWUgfHwgJ3NsYXRlLTkwMCcsXG4gICAgICAgICAgfSxcbiAgICAgICAgICB0eXBvZ3JhcGh5OiB7XG4gICAgICAgICAgICBoZWFkaW5nczogaGVhZGluZ1NlbGVjdD8udmFsdWUgfHwgJ0ludGVyLCBzYW5zLXNlcmlmJyxcbiAgICAgICAgICAgIGJvZHk6IGJvZHlTZWxlY3Q/LnZhbHVlIHx8ICdJbnRlciwgc2Fucy1zZXJpZicsXG4gICAgICAgICAgfSxcbiAgICAgICAgICByYWRpdXM6IHtcbiAgICAgICAgICAgIHNtYWxsOiByYWRpdXNTbWFsbD8udmFsdWUgfHwgJzhweCcsXG4gICAgICAgICAgICBtZWRpdW06IHJhZGl1c01lZGl1bT8udmFsdWUgfHwgJzE2cHgnLFxuICAgICAgICAgICAgbGFyZ2U6IHJhZGl1c0xhcmdlPy52YWx1ZSB8fCAnMjRweCcsXG4gICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgYXBwbHlCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICBzZXRUaGVtZUZlZWRiYWNrKCcnKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHRoZW1lQXBpLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vayB8fCByZXN1bHQuc3VjY2VzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQubWVzc2FnZSB8fCAnQXBwbGljYXRpb24gZHUgdGhcdTAwRThtZSBcdTAwRTljaG91XHUwMEU5ZS4nKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0VGhlbWVGZWVkYmFjayhyZXN1bHQubWVzc2FnZSB8fCAnVGhcdTAwRThtZSBhcHBsaXF1XHUwMEU5LicsICdzdWNjZXNzJyk7XG4gICAgICAgICAgc3luY1ByZXZpZXcoKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3NldHRpbmdzXSBhcHBseSB0aGVtZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICAgIHNldFRoZW1lRmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGRlIGxcdTIwMTlhcHBsaWNhdGlvbiBkdSB0aFx1MDBFOG1lLicsICdlcnJvcicpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGFwcGx5QnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBmaWxsQ29sb3JPcHRpb25zKCk7XG4gICAgICBsb2FkVGhlbWUoKTtcbiAgICAgIHN5bmNQcmV2aWV3KCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaW5pdE1lZGlhV29ya3NwYWNlKCkge1xuICAgIGNvbnN0IGdyaWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1ncmlkXScpO1xuICAgIGlmICghZ3JpZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBlbXB0eVN0YXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZW1wdHldJyk7XG4gICAgY29uc3QgY291bnRCYWRnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWNvdW50XScpO1xuICAgIGNvbnN0IGZpbHRlclR5cGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1maWx0ZXItdHlwZV0nKTtcbiAgICBjb25zdCBkZXRhaWxFbXB0eSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRldGFpbC1lbXB0eV0nKTtcbiAgICBjb25zdCBkZXRhaWxQYW5lbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRldGFpbF0nKTtcbiAgICBjb25zdCBkZXRhaWxQcmV2aWV3ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGV0YWlsLXByZXZpZXddJyk7XG4gICAgY29uc3QgZGV0YWlsTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRldGFpbC1uYW1lXScpO1xuICAgIGNvbnN0IGRldGFpbFR5cGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZXRhaWwtdHlwZV0nKTtcbiAgICBjb25zdCBkZXRhaWxTaXplID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGV0YWlsLXNpemVdJyk7XG4gICAgY29uc3QgZGV0YWlsUGF0aCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRldGFpbC1wYXRoXScpO1xuICAgIGNvbnN0IGRldGFpbFVzZWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZXRhaWwtdXNlZF0nKTtcbiAgICBjb25zdCBkZXRhaWxBbHRJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWFsdC1lZGl0XScpO1xuICAgIGNvbnN0IGRldGFpbFNhdmVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1zYXZlXScpO1xuICAgIGNvbnN0IGRldGFpbERlbGV0ZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRlbGV0ZV0nKTtcbiAgICBjb25zdCBkZWxldGVNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRlbGV0ZS1tb2RhbF0nKTtcbiAgICBjb25zdCBkZWxldGVDYW5jZWxCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZWxldGUtY2FuY2VsXScpO1xuICAgIGNvbnN0IGRlbGV0ZUNvbmZpcm1CdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZWxldGUtY29uZmlybV0nKTtcbiAgICBjb25zdCB1cGxvYWRPcGVuQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtdXBsb2FkLW9wZW5dJyk7XG4gICAgY29uc3QgZmlsZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZmlsZS1pbnB1dF0nKTtcbiAgICBjb25zdCB1cGxvYWRTdGF0dXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS11cGxvYWQtc3RhdHVzXScpO1xuXG4gICAgY29uc3Qgc2FmZVNpdGVTbHVnVmFsdWUgPSBzdHJpcExlYWRpbmdTbGFzaChcbiAgICAgIHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJycsXG4gICAgKTtcbiAgICBjb25zdCBtZWRpYUFwaUJhc2UgPSBzYWZlU2l0ZVNsdWdWYWx1ZVxuICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWdWYWx1ZSl9L21lZGlhYFxuICAgICAgOiBudWxsO1xuXG4gICAgbGV0IG1lZGlhSXRlbXMgPSBbXTtcbiAgICBsZXQgZmlsdGVyZWRJdGVtcyA9IFtdO1xuICAgIGxldCBhY3RpdmVNZWRpYUlkID0gbnVsbDtcbiAgICBsZXQgaGlnaGxpZ2h0TWVkaWFJZCA9IG51bGw7XG4gICAgbGV0IHBlbmRpbmdVcGxvYWRGaWxlID0gbnVsbDtcbiAgICBsZXQgdXBsb2FkSW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgIGxldCBkZXRhaWxEaXJ0eSA9IGZhbHNlO1xuICAgIGxldCB1cGxvYWRNb2RlID0gZmFsc2U7XG4gICAgbGV0IHVwbG9hZFByZXZpZXdVcmwgPSBudWxsO1xuXG4gICAgY29uc3QgZGVyaXZlR3JvdXBUeXBlID0gKGl0ZW0pID0+IHtcbiAgICAgIGNvbnN0IHR5cGUgPSAoaXRlbS50eXBlIHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgY29uc3QgZmlsZW5hbWUgPSAoaXRlbS5maWxlbmFtZSB8fCAnJykudG9Mb3dlckNhc2UoKTtcbiAgICAgIGlmICh0eXBlLmluY2x1ZGVzKCdpbWFnZScpIHx8IC9cXC4ocG5nfGpwZT9nfHdlYnB8c3ZnfGdpZikkL2kudGVzdChmaWxlbmFtZSkpIHtcbiAgICAgICAgcmV0dXJuICdpbWFnZSc7XG4gICAgICB9XG4gICAgICBpZiAodHlwZS5pbmNsdWRlcygncGRmJykgfHwgdHlwZS5pbmNsdWRlcygnZG9jJykgfHwgL1xcLihwZGZ8ZG9jeD8pJC9pLnRlc3QoZmlsZW5hbWUpKSB7XG4gICAgICAgIHJldHVybiAnZG9jdW1lbnQnO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGUuaW5jbHVkZXMoJ3ZpZGVvJykgfHwgL1xcLihtcDR8bW92fHdlYm0pJC9pLnRlc3QoZmlsZW5hbWUpKSB7XG4gICAgICAgIHJldHVybiAndmlkZW8nO1xuICAgICAgfVxuICAgICAgcmV0dXJuICdvdGhlcic7XG4gICAgfTtcblxuICAgIGNvbnN0IGlzSW1hZ2VUeXBlID0gKGl0ZW0pID0+IGRlcml2ZUdyb3VwVHlwZShpdGVtKSA9PT0gJ2ltYWdlJztcblxuICAgIGNvbnN0IGZvcm1hdFR5cGVMYWJlbCA9IChpdGVtKSA9PiB7XG4gICAgICBpZiAoaXRlbS50eXBlKSB7XG4gICAgICAgIHJldHVybiBpdGVtLnR5cGUudG9VcHBlckNhc2UoKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGV4dCA9IChpdGVtLmZpbGVuYW1lIHx8ICcnKS5zcGxpdCgnLicpLnBvcCgpO1xuICAgICAgcmV0dXJuIGV4dCA/IGV4dC50b1VwcGVyQ2FzZSgpIDogJ0ZJTEUnO1xuICAgIH07XG5cbiAgICBjb25zdCBmb3JtYXRGaWxlU2l6ZSA9IChzaXplKSA9PiB7XG4gICAgICBpZiAoIXNpemUgfHwgc2l6ZSA8PSAwKSB7XG4gICAgICAgIHJldHVybiAnXHUyMDE0JztcbiAgICAgIH1cbiAgICAgIGlmIChzaXplIDwgMTAyNCkge1xuICAgICAgICByZXR1cm4gYCR7c2l6ZX0gb2A7XG4gICAgICB9XG4gICAgICBpZiAoc2l6ZSA8IDEwMjQgKiAxMDI0KSB7XG4gICAgICAgIHJldHVybiBgJHsoc2l6ZSAvIDEwMjQpLnRvRml4ZWQoMSl9IGtvYDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBgJHsoc2l6ZSAvICgxMDI0ICogMTAyNCkpLnRvRml4ZWQoMSl9IE1vYDtcbiAgICB9O1xuXG4gICAgY29uc3QgcmVzZXREZXRhaWxQYW5lbCA9ICgpID0+IHtcbiAgICAgIGRldGFpbFBhbmVsPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGRldGFpbEVtcHR5Py5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGNsZWFyVXBsb2FkU3RhdGUoKTtcbiAgICAgIGFjdGl2ZU1lZGlhSWQgPSBudWxsO1xuICAgICAgZGV0YWlsRGlydHkgPSBmYWxzZTtcbiAgICAgIHVwZGF0ZURldGFpbEFjdGlvbnMoZmFsc2UpO1xuICAgICAgaWYgKGRldGFpbFByZXZpZXcpIHtcbiAgICAgICAgZGV0YWlsUHJldmlldy5pbm5lckhUTUwgPVxuICAgICAgICAgICc8c3BhbiBjbGFzcz1cInRleHQtc2xhdGUtNDAwIHRleHQtc21cIj5BdWN1biBtXHUwMEU5ZGlhIHNcdTAwRTlsZWN0aW9ublx1MDBFOTwvc3Bhbj4nO1xuICAgICAgfVxuICAgICAgaWYgKGRldGFpbE5hbWUpIHtcbiAgICAgICAgZGV0YWlsTmFtZS50ZXh0Q29udGVudCA9ICcnO1xuICAgICAgfVxuICAgICAgZGV0YWlsVHlwZSAmJiAoZGV0YWlsVHlwZS50ZXh0Q29udGVudCA9ICcnKTtcbiAgICAgIGRldGFpbFNpemUgJiYgKGRldGFpbFNpemUudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgICBpZiAoZGV0YWlsQWx0SW5wdXQpIHtcbiAgICAgICAgZGV0YWlsQWx0SW5wdXQudmFsdWUgPSAnJztcbiAgICAgIH1cbiAgICAgIGRldGFpbFBhdGggJiYgKGRldGFpbFBhdGgudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgICBpZiAoZGV0YWlsVXNlZCkge1xuICAgICAgICBkZXRhaWxVc2VkLmlubmVySFRNTCA9ICcnO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBjbGVhclVwbG9hZFN0YXRlID0gKCkgPT4ge1xuICAgICAgcGVuZGluZ1VwbG9hZEZpbGUgPSBudWxsO1xuICAgICAgdXBsb2FkTW9kZSA9IGZhbHNlO1xuICAgICAgdXBsb2FkSW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgICAgaWYgKHVwbG9hZFByZXZpZXdVcmwpIHtcbiAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTCh1cGxvYWRQcmV2aWV3VXJsKTtcbiAgICAgICAgdXBsb2FkUHJldmlld1VybCA9IG51bGw7XG4gICAgICB9XG4gICAgICB1cGxvYWRTdGF0dXMgJiYgKHVwbG9hZFN0YXR1cy50ZXh0Q29udGVudCA9ICdBdWN1biBmaWNoaWVyIHNcdTAwRTlsZWN0aW9ublx1MDBFOS4nKTtcbiAgICAgIGZpbGVJbnB1dCAmJiAoZmlsZUlucHV0LnZhbHVlID0gJycpO1xuICAgIH07XG5cbiAgICBjb25zdCB1cGRhdGVDb3VudEJhZGdlID0gKCkgPT4ge1xuICAgICAgaWYgKCFjb3VudEJhZGdlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghZmlsdGVyZWRJdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgY291bnRCYWRnZS50ZXh0Q29udGVudCA9ICcwIG1cdTAwRTlkaWEnO1xuICAgICAgfSBlbHNlIGlmIChmaWx0ZXJlZEl0ZW1zLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICBjb3VudEJhZGdlLnRleHRDb250ZW50ID0gJzEgbVx1MDBFOWRpYSc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb3VudEJhZGdlLnRleHRDb250ZW50ID0gYCR7ZmlsdGVyZWRJdGVtcy5sZW5ndGh9IG1cdTAwRTlkaWFzYDtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgcmVuZGVyR3JpZCA9ICgpID0+IHtcbiAgICAgIGdyaWQuaW5uZXJIVE1MID0gJyc7XG4gICAgICBpZiAoIWZpbHRlcmVkSXRlbXMubGVuZ3RoKSB7XG4gICAgICAgIGVtcHR5U3RhdGU/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICByZXNldERldGFpbFBhbmVsKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGVtcHR5U3RhdGU/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgZmlsdGVyZWRJdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgIGNvbnN0IGNhcmQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgY2FyZC50eXBlID0gJ2J1dHRvbic7XG4gICAgICAgIGNhcmQuZGF0YXNldC5tZWRpYUlkID0gaXRlbS5pZDtcbiAgICAgICAgY29uc3QgaXNBY3RpdmUgPSBpdGVtLmlkID09PSBhY3RpdmVNZWRpYUlkO1xuICAgICAgICBjYXJkLmNsYXNzTmFtZSA9IFtcbiAgICAgICAgICAnZ3JvdXAgcmVsYXRpdmUgZmxleCBmbGV4LWNvbCByb3VuZGVkLTJ4bCBib3JkZXIgcHgtMyBweS0zIHRleHQtbGVmdCB0cmFuc2l0aW9uIGZvY3VzLXZpc2libGU6b3V0bGluZSBmb2N1cy12aXNpYmxlOm91dGxpbmUtMiBmb2N1cy12aXNpYmxlOm91dGxpbmUtb2Zmc2V0LTIgZm9jdXMtdmlzaWJsZTpvdXRsaW5lLVsjOUM2QkZGXScsXG4gICAgICAgICAgaXNBY3RpdmVcbiAgICAgICAgICAgID8gJ2JvcmRlci1bIzlDNkJGRl0gYmctWyNGN0YwRkZdLzYwIHNoYWRvdy1zbSdcbiAgICAgICAgICAgIDogJ2JvcmRlci1zbGF0ZS0yMDAgaG92ZXI6Ym9yZGVyLVsjOUM2QkZGXS80MCcsXG4gICAgICAgIF0uam9pbignICcpO1xuICAgICAgICBjb25zdCBwcmV2aWV3ID0gaXNJbWFnZVR5cGUoaXRlbSlcbiAgICAgICAgICA/IGA8aW1nIHNyYz1cIiR7aXRlbS5wYXRofVwiIGFsdD1cIiR7aXRlbS5hbHQgfHwgaXRlbS5maWxlbmFtZX1cIiBjbGFzcz1cImgtZnVsbCB3LWZ1bGwgb2JqZWN0LWNvdmVyXCIgLz5gXG4gICAgICAgICAgOiBgPGRpdiBjbGFzcz1cImZsZXggaC1mdWxsIHctZnVsbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdGV4dC0zeGwgdGV4dC1zbGF0ZS00MDBcIj5cdUQ4M0RcdURDQzQ8L2Rpdj5gO1xuICAgICAgICBjYXJkLmlubmVySFRNTCA9IGBcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwicmVsYXRpdmUgYXNwZWN0LVs0LzNdIG92ZXJmbG93LWhpZGRlbiByb3VuZGVkLXhsIGJnLXNsYXRlLTEwMFwiPlxuICAgICAgICAgICAgJHtwcmV2aWV3fVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJtdC0yIHNwYWNlLXktMVwiPlxuICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgdGV4dC1zbGF0ZS05MDAgdHJ1bmNhdGVcIj4ke2l0ZW0uZmlsZW5hbWV9PC9wPlxuICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNTAwXCI+XG4gICAgICAgICAgICAgICR7Zm9ybWF0VHlwZUxhYmVsKGl0ZW0pfSBcdTAwQjcgJHtmb3JtYXRGaWxlU2l6ZShpdGVtLnNpemUpfVxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICBgO1xuICAgICAgICBpZiAoaXRlbS5pZCA9PT0gaGlnaGxpZ2h0TWVkaWFJZCkge1xuICAgICAgICAgIGNhcmQuY2xhc3NMaXN0LmFkZCgncmluZy0yJywgJ3JpbmctWyM5QzZCRkZdJyk7XG4gICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgY2FyZC5jbGFzc0xpc3QucmVtb3ZlKCdyaW5nLTInLCAncmluZy1bIzlDNkJGRl0nKTtcbiAgICAgICAgICB9LCAxNjAwKTtcbiAgICAgICAgfVxuICAgICAgICBjYXJkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gc2VsZWN0TWVkaWEoaXRlbS5pZCkpO1xuICAgICAgICBncmlkLmFwcGVuZENoaWxkKGNhcmQpO1xuICAgICAgfSk7XG4gICAgICBoaWdobGlnaHRNZWRpYUlkID0gbnVsbDtcbiAgICB9O1xuXG4gICAgY29uc3QgcmVuZGVyVXNlZEluID0gKGl0ZW0pID0+IHtcbiAgICAgIGlmICghZGV0YWlsVXNlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBkZXRhaWxVc2VkLmlubmVySFRNTCA9ICcnO1xuICAgICAgaWYgKCFpdGVtLnVzZWRJbiB8fCBpdGVtLnVzZWRJbi5sZW5ndGggPT09IDApIHtcbiAgICAgICAgY29uc3QgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgICBsaS50ZXh0Q29udGVudCA9ICdOb24gdXRpbGlzXHUwMEU5JztcbiAgICAgICAgbGkuY2xhc3NOYW1lID0gJ3RleHQteHMgdGV4dC1zbGF0ZS00MDAnO1xuICAgICAgICBkZXRhaWxVc2VkLmFwcGVuZENoaWxkKGxpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaXRlbS51c2VkSW4uZm9yRWFjaCgoZW50cnkpID0+IHtcbiAgICAgICAgY29uc3QgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgICBsaS50ZXh0Q29udGVudCA9IGVudHJ5O1xuICAgICAgICBsaS5jbGFzc05hbWUgPSAndGV4dC14cyB0ZXh0LXNsYXRlLTYwMCc7XG4gICAgICAgIGRldGFpbFVzZWQuYXBwZW5kQ2hpbGQobGkpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IHVwZGF0ZURldGFpbEFjdGlvbnMgPSAoc2F2aW5nKSA9PiB7XG4gICAgICBpZiAoIWRldGFpbFNhdmVCdXR0b24pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHVwbG9hZE1vZGUpIHtcbiAgICAgICAgZGV0YWlsU2F2ZUJ1dHRvbi50ZXh0Q29udGVudCA9IHNhdmluZyA/ICdUXHUwMEU5bFx1MDBFOXZlcnNlbWVudFx1MjAyNicgOiAnVFx1MDBFOWxcdTAwRTl2ZXJzZXInO1xuICAgICAgICBkZXRhaWxTYXZlQnV0dG9uLmRpc2FibGVkID0gc2F2aW5nIHx8ICFwZW5kaW5nVXBsb2FkRmlsZTtcbiAgICAgICAgaWYgKGRldGFpbERlbGV0ZUJ1dHRvbikge1xuICAgICAgICAgIGRldGFpbERlbGV0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBkZXRhaWxTYXZlQnV0dG9uLnRleHRDb250ZW50ID0gc2F2aW5nID8gJ0VucmVnaXN0cmVtZW50XHUyMDI2JyA6ICdFbnJlZ2lzdHJlcic7XG4gICAgICBkZXRhaWxTYXZlQnV0dG9uLmRpc2FibGVkID0gc2F2aW5nIHx8ICFkZXRhaWxEaXJ0eTtcbiAgICAgIGlmIChkZXRhaWxEZWxldGVCdXR0b24pIHtcbiAgICAgICAgZGV0YWlsRGVsZXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICBkZXRhaWxEZWxldGVCdXR0b24uZGlzYWJsZWQgPSAhYWN0aXZlTWVkaWFJZDtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3Qgc2VsZWN0TWVkaWEgPSAobWVkaWFJZCkgPT4ge1xuICAgICAgY29uc3QgaXRlbSA9IG1lZGlhSXRlbXMuZmluZCgoZW50cnkpID0+IGVudHJ5LmlkID09PSBtZWRpYUlkKTtcbiAgICAgIGlmICghaXRlbSkge1xuICAgICAgICByZXNldERldGFpbFBhbmVsKCk7XG4gICAgICAgIHJlbmRlckdyaWQoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY2xlYXJVcGxvYWRTdGF0ZSgpO1xuICAgICAgYWN0aXZlTWVkaWFJZCA9IGl0ZW0uaWQ7XG4gICAgICBkZXRhaWxEaXJ0eSA9IGZhbHNlO1xuICAgICAgdXBkYXRlRGV0YWlsQWN0aW9ucyhmYWxzZSk7XG4gICAgICByZW5kZXJHcmlkKCk7XG4gICAgICBkZXRhaWxFbXB0eT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBkZXRhaWxQYW5lbD8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBpZiAoZGV0YWlsUHJldmlldykge1xuICAgICAgICBpZiAoaXNJbWFnZVR5cGUoaXRlbSkpIHtcbiAgICAgICAgICBkZXRhaWxQcmV2aWV3LmlubmVySFRNTCA9IGA8aW1nIHNyYz1cIiR7aXRlbS5wYXRofVwiIGFsdD1cIiR7aXRlbS5hbHQgfHwgaXRlbS5maWxlbmFtZX1cIiBjbGFzcz1cImgtZnVsbCB3LWZ1bGwgcm91bmRlZC0yeGwgb2JqZWN0LWNvdmVyXCIgLz5gO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRldGFpbFByZXZpZXcuaW5uZXJIVE1MID1cbiAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiZmxleCBoLWZ1bGwgdy1mdWxsIGZsZXgtY29sIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBnYXAtMSB0ZXh0LXNsYXRlLTQwMFwiPjxzcGFuIGNsYXNzPVwidGV4dC0zeGxcIj5cdUQ4M0RcdURDQzQ8L3NwYW4+PHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIGZvbnQtc2VtaWJvbGRcIj5Eb2N1bWVudDwvc3Bhbj48L2Rpdj4nO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBkZXRhaWxOYW1lICYmIChkZXRhaWxOYW1lLnRleHRDb250ZW50ID0gaXRlbS5maWxlbmFtZSB8fCAnRmljaGllcicpO1xuICAgICAgZGV0YWlsVHlwZSAmJiAoZGV0YWlsVHlwZS50ZXh0Q29udGVudCA9IGZvcm1hdFR5cGVMYWJlbChpdGVtKSk7XG4gICAgICBkZXRhaWxTaXplICYmIChkZXRhaWxTaXplLnRleHRDb250ZW50ID0gZm9ybWF0RmlsZVNpemUoaXRlbS5zaXplKSk7XG4gICAgICBpZiAoZGV0YWlsQWx0SW5wdXQpIHtcbiAgICAgICAgZGV0YWlsQWx0SW5wdXQudmFsdWUgPSBpdGVtLmFsdCB8fCAnJztcbiAgICAgIH1cbiAgICAgIGRldGFpbFBhdGggJiYgKGRldGFpbFBhdGgudGV4dENvbnRlbnQgPSBpdGVtLnBhdGggfHwgJ1x1MjAxNCcpO1xuICAgICAgcmVuZGVyVXNlZEluKGl0ZW0pO1xuICAgIH07XG5cbiAgICBjb25zdCBzaG93VXBsb2FkUHJldmlldyA9IChmaWxlKSA9PiB7XG4gICAgICBpZiAoIWZpbGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdXBsb2FkTW9kZSA9IHRydWU7XG4gICAgICBkZXRhaWxEaXJ0eSA9IGZhbHNlO1xuICAgICAgYWN0aXZlTWVkaWFJZCA9IG51bGw7XG4gICAgICBkZXRhaWxFbXB0eT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBkZXRhaWxQYW5lbD8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBpZiAodXBsb2FkUHJldmlld1VybCkge1xuICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKHVwbG9hZFByZXZpZXdVcmwpO1xuICAgICAgfVxuICAgICAgdXBsb2FkUHJldmlld1VybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZSk7XG4gICAgICBpZiAoZGV0YWlsUHJldmlldykge1xuICAgICAgICBkZXRhaWxQcmV2aWV3LmlubmVySFRNTCA9IGA8aW1nIHNyYz1cIiR7dXBsb2FkUHJldmlld1VybH1cIiBhbHQ9XCIke2ZpbGUubmFtZX1cIiBjbGFzcz1cImgtZnVsbCB3LWZ1bGwgcm91bmRlZC0yeGwgb2JqZWN0LWNvdmVyXCIgLz5gO1xuICAgICAgfVxuICAgICAgZGV0YWlsTmFtZSAmJiAoZGV0YWlsTmFtZS50ZXh0Q29udGVudCA9IGZpbGUubmFtZSk7XG4gICAgICBkZXRhaWxUeXBlICYmIChkZXRhaWxUeXBlLnRleHRDb250ZW50ID0gZm9ybWF0VHlwZUxhYmVsKHsgdHlwZTogZmlsZS50eXBlLCBmaWxlbmFtZTogZmlsZS5uYW1lIH0pKTtcbiAgICAgIGRldGFpbFNpemUgJiYgKGRldGFpbFNpemUudGV4dENvbnRlbnQgPSBmb3JtYXRGaWxlU2l6ZShmaWxlLnNpemUpKTtcbiAgICAgIGlmIChkZXRhaWxBbHRJbnB1dCAmJiAhZGV0YWlsQWx0SW5wdXQudmFsdWUudHJpbSgpKSB7XG4gICAgICAgIGRldGFpbEFsdElucHV0LnZhbHVlID0gZmlsZS5uYW1lLnJlcGxhY2UoL1xcLlteLl0rJC8sICcnKS5yZXBsYWNlKC9bLV9dL2csICcgJyk7XG4gICAgICB9XG4gICAgICBkZXRhaWxQYXRoICYmIChkZXRhaWxQYXRoLnRleHRDb250ZW50ID0gJ0VuIGF0dGVudGUgZGUgdFx1MDBFOWxcdTAwRTl2ZXJzZW1lbnQnKTtcbiAgICAgIGlmIChkZXRhaWxVc2VkKSB7XG4gICAgICAgIGRldGFpbFVzZWQuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgIGNvbnN0IGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgbGkudGV4dENvbnRlbnQgPSAnTm9uIHV0aWxpc1x1MDBFOSc7XG4gICAgICAgIGxpLmNsYXNzTmFtZSA9ICd0ZXh0LXhzIHRleHQtc2xhdGUtNDAwJztcbiAgICAgICAgZGV0YWlsVXNlZC5hcHBlbmRDaGlsZChsaSk7XG4gICAgICB9XG4gICAgICB1cGRhdGVEZXRhaWxBY3Rpb25zKGZhbHNlKTtcbiAgICB9O1xuXG4gICAgY29uc3QgYXBwbHlGaWx0ZXJzID0gKCkgPT4ge1xuICAgICAgY29uc3QgdHlwZUZpbHRlciA9IGZpbHRlclR5cGU/LnZhbHVlIHx8ICdhbGwnO1xuICAgICAgaWYgKHR5cGVGaWx0ZXIgPT09ICdhbGwnKSB7XG4gICAgICAgIGZpbHRlcmVkSXRlbXMgPSBbLi4ubWVkaWFJdGVtc107XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmaWx0ZXJlZEl0ZW1zID0gbWVkaWFJdGVtcy5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0uZ3JvdXBUeXBlID09PSB0eXBlRmlsdGVyKTtcbiAgICAgIH1cbiAgICAgIGlmICghZmlsdGVyZWRJdGVtcy5zb21lKChpdGVtKSA9PiBpdGVtLmlkID09PSBhY3RpdmVNZWRpYUlkKSkge1xuICAgICAgICByZXNldERldGFpbFBhbmVsKCk7XG4gICAgICB9XG4gICAgICB1cGRhdGVDb3VudEJhZGdlKCk7XG4gICAgICByZW5kZXJHcmlkKCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGxvYWRNZWRpYSA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghbWVkaWFBcGlCYXNlKSB7XG4gICAgICAgIGVtcHR5U3RhdGU/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKG1lZGlhQXBpQmFzZSwge1xuICAgICAgICAgIGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ltcG9zc2libGUgZGUgY2hhcmdlciBsZXMgbVx1MDBFOWRpYXMuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoeyBpdGVtczogW10gfSkpO1xuICAgICAgICBtZWRpYUl0ZW1zID0gQXJyYXkuaXNBcnJheShwYXlsb2FkLml0ZW1zKVxuICAgICAgICAgID8gcGF5bG9hZC5pdGVtcy5tYXAoKGl0ZW0pID0+ICh7IC4uLml0ZW0sIGdyb3VwVHlwZTogZGVyaXZlR3JvdXBUeXBlKGl0ZW0pIH0pKVxuICAgICAgICAgIDogW107XG4gICAgICAgIGFwcGx5RmlsdGVycygpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1ttZWRpYV0gbG9hZCBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgY2hhcmdlciBsZXMgbVx1MDBFOWRpYXMuJyk7XG4gICAgICAgIG1lZGlhSXRlbXMgPSBbXTtcbiAgICAgICAgYXBwbHlGaWx0ZXJzKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGZpbHRlclR5cGU/LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgICAgIGFwcGx5RmlsdGVycygpO1xuICAgIH0pO1xuICAgIGRldGFpbEFsdElucHV0Py5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICAgIGlmICh1cGxvYWRNb2RlKSB7XG4gICAgICAgIHVwZGF0ZURldGFpbEFjdGlvbnMoZmFsc2UpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWFjdGl2ZU1lZGlhSWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZGV0YWlsRGlydHkgPSB0cnVlO1xuICAgICAgdXBkYXRlRGV0YWlsQWN0aW9ucyhmYWxzZSk7XG4gICAgfSk7XG5cbiAgICBjb25zdCBoYW5kbGVGaWxlU2VsZWN0aW9uID0gKGZpbGUpID0+IHtcbiAgICAgIGlmICghZmlsZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWZpbGUudHlwZS5zdGFydHNXaXRoKCdpbWFnZS8nKSkge1xuICAgICAgICBzaG93VG9hc3QoJ1NldWxlcyBsZXMgaW1hZ2VzIHNvbnQgYWNjZXB0XHUwMEU5ZXMgcG91ciBsZSBtb21lbnQuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChmaWxlLnNpemUgPiA0ICogMTAyNCAqIDEwMjQpIHtcbiAgICAgICAgc2hvd1RvYXN0KCdGaWNoaWVyIHRyb3Agdm9sdW1pbmV1eCAoNCBNbyBtYXgpLicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwZW5kaW5nVXBsb2FkRmlsZSA9IGZpbGU7XG4gICAgICBzaG93VXBsb2FkUHJldmlldyhmaWxlKTtcbiAgICAgIGlmICh1cGxvYWRTdGF0dXMpIHtcbiAgICAgICAgdXBsb2FkU3RhdHVzLnRleHRDb250ZW50ID0gYCR7ZmlsZS5uYW1lfSBcdTAwQjcgJHtmb3JtYXRGaWxlU2l6ZShmaWxlLnNpemUpfWA7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHJlYWRGaWxlQXNCYXNlNjQgPSAoZmlsZSkgPT5cbiAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgICAgcmVhZGVyLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSByZWFkZXIucmVzdWx0IHx8ICcnO1xuICAgICAgICAgIGNvbnN0IFssIGJhc2U2NCA9ICcnXSA9IFN0cmluZyhyZXN1bHQpLnNwbGl0KCcsJyk7XG4gICAgICAgICAgcmVzb2x2ZShiYXNlNjQpO1xuICAgICAgICB9O1xuICAgICAgICByZWFkZXIub25lcnJvciA9ICgpID0+IHJlamVjdChuZXcgRXJyb3IoJ0ltcG9zc2libGUgZGUgbGlyZSBjZSBmaWNoaWVyLicpKTtcbiAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XG4gICAgICB9KTtcblxuICAgIGNvbnN0IHVwbG9hZFNlbGVjdGVkTWVkaWEgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXBlbmRpbmdVcGxvYWRGaWxlIHx8ICFtZWRpYUFwaUJhc2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdXBsb2FkSW5Qcm9ncmVzcyA9IHRydWU7XG4gICAgICB1cGRhdGVEZXRhaWxBY3Rpb25zKHRydWUpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgYmFzZTY0ID0gYXdhaXQgcmVhZEZpbGVBc0Jhc2U2NChwZW5kaW5nVXBsb2FkRmlsZSk7XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgICAgZmlsZW5hbWU6IHBlbmRpbmdVcGxvYWRGaWxlLm5hbWUsXG4gICAgICAgICAgdHlwZTogcGVuZGluZ1VwbG9hZEZpbGUudHlwZSxcbiAgICAgICAgICBzaXplOiBwZW5kaW5nVXBsb2FkRmlsZS5zaXplLFxuICAgICAgICAgIGFsdDogZGV0YWlsQWx0SW5wdXQ/LnZhbHVlIHx8ICcnLFxuICAgICAgICAgIGRhdGE6IGJhc2U2NCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChtZWRpYUFwaUJhc2UsIHtcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBjb25zdCBlcnJvclBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yUGF5bG9hZC5tZXNzYWdlIHx8ICdVcGxvYWQgaW1wb3NzaWJsZS4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzYXZlZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgc2F2ZWQuZ3JvdXBUeXBlID0gZGVyaXZlR3JvdXBUeXBlKHNhdmVkKTtcbiAgICAgICAgbWVkaWFJdGVtcyA9IFsuLi5tZWRpYUl0ZW1zLCBzYXZlZF07XG4gICAgICAgIGhpZ2hsaWdodE1lZGlhSWQgPSBzYXZlZC5pZDtcbiAgICAgICAgYXBwbHlGaWx0ZXJzKCk7XG4gICAgICAgIHNlbGVjdE1lZGlhKHNhdmVkLmlkKTtcbiAgICAgICAgc2hvd1RvYXN0KCdNXHUwMEU5ZGlhIGFqb3V0XHUwMEU5Jyk7XG4gICAgICAgIGNsZWFyVXBsb2FkU3RhdGUoKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbbWVkaWFdIHVwbG9hZCBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgdFx1MDBFOWxcdTAwRTl2ZXJzZXIgY2UgbVx1MDBFOWRpYS4nKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHVwbG9hZEluUHJvZ3Jlc3MgPSBmYWxzZTtcbiAgICAgICAgcGVuZGluZ1VwbG9hZEZpbGUgPSBudWxsO1xuICAgICAgICB1cGRhdGVEZXRhaWxBY3Rpb25zKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdXBsb2FkT3BlbkJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBmaWxlSW5wdXQ/LmNsaWNrKCkpO1xuICAgIGZpbGVJbnB1dD8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICAgICAgaWYgKGZpbGVJbnB1dC5maWxlcyAmJiBmaWxlSW5wdXQuZmlsZXNbMF0pIHtcbiAgICAgICAgaGFuZGxlRmlsZVNlbGVjdGlvbihmaWxlSW5wdXQuZmlsZXNbMF0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IGNsb3NlRGVsZXRlTW9kYWwgPSAoKSA9PiB7XG4gICAgICBpZiAoIWRlbGV0ZU1vZGFsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGRlbGV0ZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgZGVsZXRlTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnZmxleCcpO1xuICAgIH07XG5cbiAgICBjb25zdCBvcGVuRGVsZXRlTW9kYWwgPSAoKSA9PiB7XG4gICAgICBpZiAoIWFjdGl2ZU1lZGlhSWQgfHwgdXBsb2FkTW9kZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoZGVsZXRlTW9kYWwpIHtcbiAgICAgICAgZGVsZXRlTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIGRlbGV0ZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2ZsZXgnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gRmFsbGJhY2sgc2kgYXVjdW5lIG1vZGFsZSBuJ2VzdCBkaXNwb25pYmxlXG4gICAgICBpZiAod2luZG93LmNvbmZpcm0oJ1N1cHByaW1lciBjZSBtXHUwMEU5ZGlhID8nKSkge1xuICAgICAgICBkZWxldGVBY3RpdmVNZWRpYSgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBkZWxldGVBY3RpdmVNZWRpYSA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghYWN0aXZlTWVkaWFJZCB8fCAhbWVkaWFBcGlCYXNlKSB7XG4gICAgICAgIGNsb3NlRGVsZXRlTW9kYWwoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgZGlzYWJsZUJ1dHRvbnMgPSAoKSA9PiB7XG4gICAgICAgIGlmIChkZXRhaWxEZWxldGVCdXR0b24pIHtcbiAgICAgICAgICBkZXRhaWxEZWxldGVCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkZWxldGVDb25maXJtQnV0dG9uKSB7XG4gICAgICAgICAgZGVsZXRlQ29uZmlybUJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgICAgZGVsZXRlQ29uZmlybUJ1dHRvbi50ZXh0Q29udGVudCA9ICdTdXBwcmVzc2lvblx1MjAyNic7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBjb25zdCBlbmFibGVCdXR0b25zID0gKCkgPT4ge1xuICAgICAgICBpZiAoZGV0YWlsRGVsZXRlQnV0dG9uKSB7XG4gICAgICAgICAgZGV0YWlsRGVsZXRlQnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlbGV0ZUNvbmZpcm1CdXR0b24pIHtcbiAgICAgICAgICBkZWxldGVDb25maXJtQnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgZGVsZXRlQ29uZmlybUJ1dHRvbi50ZXh0Q29udGVudCA9ICdTdXBwcmltZXInO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgZGlzYWJsZUJ1dHRvbnMoKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgICAgYCR7bWVkaWFBcGlCYXNlfS8ke2VuY29kZVVSSUNvbXBvbmVudChhY3RpdmVNZWRpYUlkKX1gLFxuICAgICAgICAgIHsgbWV0aG9kOiAnREVMRVRFJyB9LFxuICAgICAgICApO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocGF5bG9hZC5tZXNzYWdlIHx8ICdTdXBwcmVzc2lvbiBpbXBvc3NpYmxlLicpO1xuICAgICAgICB9XG4gICAgICAgIG1lZGlhSXRlbXMgPSBtZWRpYUl0ZW1zLmZpbHRlcigoaXRlbSkgPT4gaXRlbS5pZCAhPT0gYWN0aXZlTWVkaWFJZCk7XG4gICAgICAgIGZpbHRlcmVkSXRlbXMgPSBmaWx0ZXJlZEl0ZW1zLmZpbHRlcigoaXRlbSkgPT4gaXRlbS5pZCAhPT0gYWN0aXZlTWVkaWFJZCk7XG4gICAgICAgIHNob3dUb2FzdCgnTVx1MDBFOWRpYSBzdXBwcmltXHUwMEU5Jyk7XG4gICAgICAgIHJlc2V0RGV0YWlsUGFuZWwoKTtcbiAgICAgICAgdXBkYXRlQ291bnRCYWRnZSgpO1xuICAgICAgICByZW5kZXJHcmlkKCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW21lZGlhXSBkZWxldGUgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIHN1cHByaW1lciBjZSBtXHUwMEU5ZGlhLicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgZW5hYmxlQnV0dG9ucygpO1xuICAgICAgICBjbG9zZURlbGV0ZU1vZGFsKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGRlbGV0ZUNhbmNlbEJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZURlbGV0ZU1vZGFsKTtcbiAgICBkZWxldGVNb2RhbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIGlmIChldmVudC50YXJnZXQgPT09IGRlbGV0ZU1vZGFsKSB7XG4gICAgICAgIGNsb3NlRGVsZXRlTW9kYWwoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGRlbGV0ZUNvbmZpcm1CdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gZGVsZXRlQWN0aXZlTWVkaWEoKSk7XG4gICAgZGV0YWlsRGVsZXRlQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5EZWxldGVNb2RhbCk7XG5cbiAgICBkZXRhaWxTYXZlQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGlmICh1cGxvYWRNb2RlKSB7XG4gICAgICAgIHVwbG9hZFNlbGVjdGVkTWVkaWEoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFhY3RpdmVNZWRpYUlkIHx8ICFtZWRpYUFwaUJhc2UgfHwgIWRldGFpbEFsdElucHV0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHVwZGF0ZURldGFpbEFjdGlvbnModHJ1ZSk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBwYXlsb2FkID0geyBhbHQ6IGRldGFpbEFsdElucHV0LnZhbHVlIHx8ICcnIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgICAgYCR7bWVkaWFBcGlCYXNlfS8ke2VuY29kZVVSSUNvbXBvbmVudChhY3RpdmVNZWRpYUlkKX1gLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICAgIH0sXG4gICAgICAgICk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBjb25zdCBlcnJvclBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yUGF5bG9hZC5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIG1ldHRyZSBcdTAwRTAgam91ciBjZSBtXHUwMEU5ZGlhLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHVwZGF0ZWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIG1lZGlhSXRlbXMgPSBtZWRpYUl0ZW1zLm1hcCgoaXRlbSkgPT5cbiAgICAgICAgICBpdGVtLmlkID09PSBhY3RpdmVNZWRpYUlkID8geyAuLi5pdGVtLCAuLi51cGRhdGVkIH0gOiBpdGVtLFxuICAgICAgICApO1xuICAgICAgICBmaWx0ZXJlZEl0ZW1zID0gZmlsdGVyZWRJdGVtcy5tYXAoKGl0ZW0pID0+XG4gICAgICAgICAgaXRlbS5pZCA9PT0gYWN0aXZlTWVkaWFJZCA/IHsgLi4uaXRlbSwgLi4udXBkYXRlZCB9IDogaXRlbSxcbiAgICAgICAgKTtcbiAgICAgICAgZGV0YWlsRGlydHkgPSBmYWxzZTtcbiAgICAgICAgdXBkYXRlRGV0YWlsQWN0aW9ucyhmYWxzZSk7XG4gICAgICAgIHNob3dUb2FzdCgnTVx1MDBFOWRpYSBtaXMgXHUwMEUwIGpvdXInKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbbWVkaWFdIHVwZGF0ZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UgfHwgJ1x1MDBDOWNoZWMgZGUgbGEgbWlzZSBcdTAwRTAgam91ci4nKTtcbiAgICAgICAgdXBkYXRlRGV0YWlsQWN0aW9ucyhmYWxzZSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBsb2FkTWVkaWEoKTtcbiAgfVxufSk7XG4iXSwKICAibWFwcGluZ3MiOiAiTUFBQSxTQUFTLGlCQUFpQixtQkFBb0IsSUFBTSxDQUNsRCxRQUFRLElBQUksMkJBQXdCLEVBQ3BDLElBQU1BLEdBQWUsU0FBUyxjQUFjLGVBQWUsRUFDdkRBLElBQ0ZBLEdBQWEsaUJBQWlCLFFBQVMsU0FBWSxDQUNqREEsR0FBYSxTQUFXLEdBQ3hCLEdBQUksQ0FDRixNQUFNLE1BQU0sY0FBZSxDQUN6QixPQUFRLE9BQ1IsUUFBUyxDQUNQLGVBQWdCLGtCQUNsQixDQUNGLENBQUMsQ0FDSCxPQUFTQyxFQUFLLENBQ1osUUFBUSxNQUFNLDBDQUF3Q0EsQ0FBRyxDQUMzRCxRQUFFLENB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RCxFQUFTLEdBQUksQ0FDaEIsSUFBTWdhLEVBQWUsTUFBTWhhLEVBQVMsS0FBSyxFQUFFLE1BQU0sS0FBTyxDQUFDLEVBQUUsRUFDM0QsTUFBTSxJQUFJLE1BQU1nYSxFQUFhLFNBQVcsNkNBQXVDLENBQ2pGLENBQ0EsSUFBTW1ILEVBQVUsTUFBTW5oQixFQUFTLEtBQUssRUFDcEM0ZSxFQUFhQSxFQUFXLElBQUs3UyxHQUMzQkEsRUFBSyxLQUFPK1MsRUFBZ0IsQ0FBRSxHQUFHL1MsRUFBTSxHQUFHb1YsQ0FBUSxFQUFJcFYsQ0FDeEQsRUFDQThTLEVBQWdCQSxFQUFjLElBQUs5UyxHQUNqQ0EsRUFBSyxLQUFPK1MsRUFBZ0IsQ0FBRSxHQUFHL1MsRUFBTSxHQUFHb1YsQ0FBUSxFQUFJcFYsQ0FDeEQsRUFDQW1ULEVBQWMsR0FDZFksR0FBb0IsRUFBSyxFQUN6Qm5oQixFQUFVLHdCQUFrQixDQUM5QixPQUFTL0MsRUFBSyxDQUNaLFFBQVEsTUFBTSx3QkFBeUJBLENBQUcsRUFDMUMrQyxFQUFVL0MsRUFBSSxTQUFXLGdDQUEwQixFQUNuRGtrQixHQUFvQixFQUFLLENBQzNCLEVBQ0YsR0FFQVUsR0FBVSxDQUNaLENBQ0YsQ0FBQyIsCiAgIm5hbWVzIjogWyJsb2dvdXRCdXR0b24iLCAiZXJyIiwgInNpZGViYXIiLCAic2lkZWJhck92ZXJsYXkiLCAic2lkZWJhclRvZ2dsZXMiLCAic2lkZWJhckNsb3NlQnV0dG9ucyIsICJib2R5IiwgInNpZGViYXJPcGVuIiwgImFwcGx5U2lkZWJhclN0YXRlIiwgIm9wZW5TaWRlYmFyIiwgImNsb3NlU2lkZWJhciIsICJidXR0b24iLCAiZXZlbnQiLCAiQUNUSVZFX1NJVEVfS0VZIiwgIkFDVElWRV9TSVRFX05BTUVfS0VZIiwgInN0b3JlZFNpdGUiLCAic2l0ZUNhcmRzIiwgInNpdGVTZWxlY3RCdXR0b25zIiwgInNpdGVOYW1lTGFiZWwiLCAid29ya3NwYWNlU2l0ZUxhYmVsIiwgIndvcmtzcGFjZUJhY2tOYW1lIiwgIndvcmtzcGFjZUJhY2tNb2RhbCIsICJ3b3Jrc3BhY2VCYWNrQnV0dG9ucyIsICJ3b3Jrc3BhY2VCYWNrQ2FuY2VsIiwgIndvcmtzcGFjZUJhY2tDb25maXJtIiwgIndvcmtzcGFjZU5hdkxpbmtzIiwgInNpdGVUb2FzdCIsICJzaXRlVG9hc3RNZXNzYWdlIiwgInNpdGVDcmVhdGVCdXR0b25zIiwgInNpdGVNb2RhbCIsICJzaXRlRm9ybSIsICJzaXRlTmFtZUlucHV0IiwgInNpdGVTbHVnSW5wdXQiLCAic2l0ZVNsdWdFcnJvciIsICJzaXRlTW9kYWxFcnJvciIsICJzaXRlTW9kYWxDYW5jZWxCdXR0b25zIiwgInNpdGVNb2RhbFN1Ym1pdEJ1dHRvbiIsICJ3b3Jrc3BhY2VDb250ZXh0IiwgImdldFdvcmtzcGFjZUNvbnRleHQiLCAic2x1Z01hbnVhbGx5RWRpdGVkIiwgImxhc3RGb2N1c2VkRWxlbWVudCIsICJ0b2FzdFRpbWVvdXRJZCIsICJmb2N1c2FibGVTZWxlY3RvciIsICJ0cmFwRm9jdXMiLCAiZm9jdXNhYmxlRWxlbWVudHMiLCAiZWwiLCAiZmlyc3QiLCAibGFzdCIsICJzaG93VG9hc3QiLCAibWVzc2FnZSIsICJlbnN1cmVMZWFkaW5nU2xhc2giLCAic2x1ZyIsICJzdHJpcExlYWRpbmdTbGFzaCIsICJwZXJzaXN0U2l0ZVN0YXRlIiwgIm5hbWUiLCAibm9ybWFsaXplZFNsdWciLCAidXBkYXRlU2l0ZUxhYmVscyIsICJ1cGRhdGVXb3Jrc3BhY2VOYXZMaW5rcyIsICJsaW5rIiwgInRhYiIsICJzbHVnUGF0aCIsICJhcHBseUFjdGl2ZVNpdGUiLCAib3B0aW9ucyIsICJhY3RpdmVTaXRlTmFtZSIsICJjYXJkIiwgImlzQWN0aXZlIiwgImJhZGdlIiwgImZpbmFsTmFtZSIsICJzZWxlY3RTaXRlIiwgInJlc3BvbnNlIiwgInBheWxvYWQiLCAiZmluYWxTbHVnIiwgInN5bmNBY3RpdmVTaXRlRnJvbVNlcnZlciIsICJzaXRlIiwgImRlZmF1bHRDYXJkIiwgIndvcmtzcGFjZVNsdWdpZnkiLCAidmFsdWUiLCAibm9ybWFsaXplU2x1Z1ZhbHVlIiwgImJhc2UiLCAib3BlblNpdGVNb2RhbCIsICJjbG9zZVNpdGVNb2RhbCIsICJnZXRTbHVnU2V0IiwgIm5hbWVWYWx1ZSIsICJzbHVnVmFsdWUiLCAiY3JlYXRlZFNpdGUiLCAiY2xvc2VXb3Jrc3BhY2VCYWNrTW9kYWwiLCAibWF0Y2giLCAiZGV0ZWN0V29ya3NwYWNlU2VjdGlvbiIsICJvcGVuV29ya3NwYWNlQmFja01vZGFsIiwgImFjdGl2ZVNlY3Rpb24iLCAiaW5pdERlc2lnbldvcmtzcGFjZSIsICJpbml0Q29udGVudFdvcmtzcGFjZSIsICJpbml0TWVkaWFXb3Jrc3BhY2UiLCAiaW5pdERlcGxveVdvcmtzcGFjZSIsICJpbml0U2V0dGluZ3NXb3Jrc3BhY2UiLCAicGFnZUxpc3RzIiwgImFjdGl2ZVRpdGxlIiwgImFjdGl2ZVNsdWciLCAicHJldmlld1RhZ3MiLCAicHJldmlld0ZyYW1lIiwgInByZXZpZXdPcGVuQnV0dG9uIiwgInByZXZpZXdTdGF0dXMiLCAicHJldmlld0hpZ2hsaWdodE92ZXJsYXkiLCAic2VvVG9nZ2xlQnV0dG9uIiwgInNlb1BhbmVsIiwgInNlb0Nsb3NlQnV0dG9uIiwgInNlb0Zvcm0iLCAic2VvVGl0bGVJbnB1dCIsICJzZW9EZXNjcmlwdGlvbklucHV0IiwgInNlb0ZlZWRiYWNrIiwgInNlb1NhdmVCdXR0b24iLCAiYmxvY2tMaXN0IiwgImJsb2NrTGlzdEVtcHR5IiwgImJsb2NrQ291bnRCYWRnZSIsICJibG9ja0xpYnJhcnlUb2dnbGUiLCAiYmxvY2tMaWJyYXJ5IiwgImJsb2NrQWRkQnV0dG9ucyIsICJibG9ja0RlbGV0ZU1vZGFsIiwgImJsb2NrRGVsZXRlQ29uZmlybSIsICJibG9ja0RlbGV0ZUNhbmNlbCIsICJibG9ja0RldGFpbEVtcHR5IiwgImJsb2NrRGV0YWlsU3RhdHVzIiwgImJsb2NrRWRpdG9yIiwgImJsb2NrRWRpdG9yVGl0bGUiLCAiYmxvY2tFZGl0b3JUeXBlIiwgImJsb2NrRWRpdG9yVW5zdXBwb3J0ZWQiLCAiYmxvY2tGb3JtIiwgImJsb2NrRm9ybVNlY3Rpb25zIiwgImNvbGxlY3Rpb25TZWxlY3QiLCAiY29sbGVjdGlvblNlbGVjdGlvbkluZm8iLCAiYmxvY2tGb3JtQ2FuY2VsIiwgImdyb3VwUHJldmlld01vYmlsZSIsICJncm91cFByZXZpZXdEZXNrdG9wIiwgImJsb2NrVHlwZUZvcm1zIiwgImJsb2NrVHlwZUFsaWFzZXMiLCAidXBkYXRlR3JvdXBNaW5pUHJldmlldyIsICJtb2JpbGVWYWx1ZSIsICJkZXNrdG9wVmFsdWUiLCAicmVuZGVyQm94ZXMiLCAiY291bnQiLCAiZmV0Y2hQYWdlc0Zyb21TZXJ2ZXIiLCAicGFnZXNBcGlCYXNlIiwgImNyZWF0ZVBhZ2VPblNlcnZlciIsICJ0aXRsZSIsICJzYXZlUGFnZVRvU2VydmVyIiwgInBhZ2UiLCAic2F2ZWQiLCAibm9ybWFsaXplZCIsICJub3JtYWxpemVQYWdlRGF0YSIsICJwYWdlcyIsICJlbnRyeSIsICJjdXJyZW50UGFnZSIsICJsb2FkUGFnZXNGcm9tU2VydmVyIiwgImFjdGl2ZVBhZ2VJZCIsICJyZW5kZXJQYWdlTGlzdHMiLCAicmVuZGVyQmxvY2tMaXN0IiwgImxvYWRlZFBhZ2VzIiwgImdldExvYWRpbmdQcmV2aWV3SHRtbCIsICJnZXRTdG9yZWRBY3RpdmVQYWdlIiwgInNldEFjdGl2ZVBhZ2UiLCAibm9ybWFsaXplVHlwZSIsICJnZXRCbG9ja0Zvcm1Db25maWciLCAiYmxvY2siLCAidHlwZUtleSIsICJhbGlhcyIsICJwb3B1bGF0ZUJsb2NrRm9ybSIsICJfYSIsICJfYiIsICJfYyIsICJjb25maWciLCAic2VjdGlvbiIsICJkZXNpcmVkVmFsdWUiLCAidXBkYXRlQ29sbGVjdGlvblNlbGVjdE9wdGlvbnMiLCAic2V0dGluZ0tleSIsICJmaWVsZE5hbWUiLCAiaW5wdXQiLCAiY29sbGVjdEZvcm1WYWx1ZXMiLCAidmFsdWVzIiwgInBhcnNlZCIsICJ1cGRhdGVQcmV2aWV3U3RhdHVzIiwgInRleHQiLCAic2VyaWFsaXplUGFnZUZvclByZXZpZXciLCAicmVmcmVzaFByZXZpZXciLCAicHJldmlld1NpdGVTbHVnIiwgInByZXZpZXdSZWFkeSIsICJwcmV2aWV3UmVxdWVzdENvbnRyb2xsZXIiLCAiY29udHJvbGxlciIsICJkYXRhIiwgImxhdGVzdFByZXZpZXdIdG1sIiwgImVycm9yIiwgImhhbmRsZUJsb2NrRm9ybVN1Ym1pdCIsICJhY3RpdmVCbG9ja0lkIiwgImdldEFjdGl2ZUJsb2NrIiwgInVwZGF0ZWRCbG9ja3MiLCAidXBkYXRlZFNldHRpbmdzIiwgInVwZGF0ZWRCbG9jayIsICJ1cGRhdGVDdXJyZW50UGFnZUJsb2NrcyIsICJkcmF3ZXIiLCAiZHJhd2VyQmFja2Ryb3AiLCAiZHJhd2VyT3BlbkJ1dHRvbnMiLCAiZHJhd2VyQ2xvc2VCdXR0b25zIiwgImFkZFBhZ2VUb2dnbGUiLCAiYWRkUGFnZUZvcm0iLCAiYWRkUGFnZVRpdGxlIiwgImFkZFBhZ2VTbHVnIiwgImFkZFBhZ2VDYW5jZWwiLCAiYWRkUGFnZUVycm9yIiwgImFkZFBhZ2VTdWJtaXRCdXR0b24iLCAiaW1wb3J0VG9nZ2xlIiwgImltcG9ydE1vZGFsIiwgImltcG9ydENsb3NlQnV0dG9ucyIsICJpbXBvcnREcm9wem9uZSIsICJpbXBvcnRGaWxlSW5wdXQiLCAiaW1wb3J0RmlsZUxpc3QiLCAiaW1wb3J0RmlsZU5hbWVzIiwgImltcG9ydFJlc3VsdHMiLCAiaW1wb3J0UmVzdWx0c0NvbnRlbnQiLCAiaW1wb3J0U3VibWl0IiwgImltcG9ydFRhYnMiLCAiaW1wb3J0UGFuZWxzIiwgImNvcHlUZW1wbGF0ZUJ0biIsICJ0ZW1wbGF0ZUpzb24iLCAiaW1wb3J0U2VsZWN0ZWRGaWxlcyIsICJkZWxldGVQYWdlTW9kYWwiLCAiZGVsZXRlUGFnZU5hbWUiLCAiZGVsZXRlUGFnZUNhbmNlbCIsICJkZWxldGVQYWdlQ29uZmlybSIsICJwYWdlVG9EZWxldGUiLCAic2l0ZUtleSIsICJzaXRlU2x1Z1ZhbHVlIiwgInNhZmVTaXRlU2x1ZyIsICJjb2xsZWN0aW9uc0FwaUJhc2UiLCAic3RvcmFnZUtleXMiLCAiY3JlYXRlQmxvY2siLCAiaWQiLCAibGFiZWwiLCAidHlwZSIsICJzdGF0dXMiLCAiZGVzY3JpcHRpb24iLCAicHJvcHMiLCAic2V0dGluZ3MiLCAiYmxvY2tMaWJyYXJ5RGVmaW5pdGlvbnMiLCAicGVyc2lzdEFjdGl2ZVBhZ2UiLCAicGFnZUlkIiwgInN0b3JlZCIsICJmb3JtYXRCbG9ja0NvdW50IiwgIm5vcm1hbGl6ZVBhZ2VTbHVnIiwgImdlbmVyYXRlQmxvY2tJZCIsICJrZXkiLCAiY3JlYXRlSW5pdGlhbEJsb2NrcyIsICJzZXRBY3RpdmVMYWJlbHMiLCAicmVuZGVyUHJldmlld01ldGEiLCAidGFnIiwgImdldFN0YXR1c0JhZGdlQ2xhc3NlcyIsICJyZW5kZXJCbG9ja0RldGFpbHMiLCAiYXBwbHlQcmV2aWV3SGlnaGxpZ2h0IiwgImJsb2NrSWQiLCAiZG9jIiwgIm5vZGUiLCAiYmxvY2tzIiwgIml0ZW0iLCAiYWNjZW50IiwgImNvbnRlbnQiLCAiaGFuZGxlIiwgInRleHRXcmFwcGVyIiwgIm1ldGEiLCAidHlwZUJhZGdlIiwgInN0YXR1c0JhZGdlIiwgImRpc3BsYXlMYWJlbCIsICJjb2xsZWN0aW9uTmFtZSIsICJkZXNpZ25Db2xsZWN0aW9ucyIsICJpbmZvIiwgImFjdGlvbnMiLCAibW92ZUJ1dHRvbnMiLCAibW92ZVVwIiwgIm1vdmVCbG9ja0J5T2Zmc2V0IiwgIm1vdmVEb3duIiwgImRlbGV0ZUJ1dHRvbiIsICJvcGVuQmxvY2tEZWxldGVNb2RhbCIsICJzZXRBY3RpdmVCbG9jayIsICJhY3RpdmVJZCIsICJsaXN0IiwgImlzRGVza3RvcERyYXdlciIsICJjbG9zZURyYXdlciIsICJkZWxldGVCdG4iLCAiZSIsICJvcGVuRGVsZXRlUGFnZU1vZGFsIiwgInRhcmdldEJsb2NrIiwgIm5ld0Jsb2NrcyIsICJuZXh0UGFnZSIsICJ1cGRhdGVDdXJyZW50UGFnZVN0YXRlIiwgImlzRGVza3RvcFJlb3JkZXIiLCAib2Zmc2V0IiwgImluZGV4IiwgIm5ld0luZGV4IiwgIm1vdmVkIiwgInJlb3JkZXJCbG9ja3MiLCAic291cmNlSWQiLCAidGFyZ2V0SWQiLCAiZnJvbUluZGV4IiwgInRvSW5kZXgiLCAidXBkYXRlRHJhZ2dhYmxlU3RhdGUiLCAiZHJhZ2dhYmxlIiwgImNsb3NlQmxvY2tMaWJyYXJ5IiwgImJsb2NrTGlicmFyeU9wZW4iLCAib3BlbkJsb2NrTGlicmFyeSIsICJ0b2dnbGVCbG9ja0xpYnJhcnkiLCAiYWRkQmxvY2tGcm9tTGlicmFyeSIsICJkZWZpbml0aW9uIiwgIm5ld0Jsb2NrIiwgImZpcnN0Q29sbGVjdGlvbklkIiwgIm5leHRCbG9ja3MiLCAiZGVsZXRlQmxvY2tCeUlkIiwgIm5leHRBY3RpdmUiLCAiY2xvc2VCbG9ja0RlbGV0ZU1vZGFsIiwgInBlbmRpbmdEZWxldGVCbG9ja0lkIiwgInRhcmdldCIsICJzeW5jRHJhd2VyU3RhdGUiLCAib3BlbkRyYXdlciIsICJvcGVuQWRkUGFnZUZvcm0iLCAicGFnZVNsdWdNYW51YWxseUVkaXRlZCIsICJjbG9zZUFkZFBhZ2VGb3JtIiwgInN5bmNTbHVnRnJvbVRpdGxlIiwgIm5vcm1hbGl6ZUJsb2NrRGF0YSIsICJsb2FkRGVzaWduQ29sbGVjdGlvbnMiLCAiY3VycmVudFZhbHVlIiwgInN5bmNDb2xsZWN0aW9uU2VsZWN0aW9uSW5mbyIsICJjb2xsZWN0aW9uSWQiLCAiY29sbGVjdGlvbiIsICJkZXRhaWxzIiwgInNlbGVjdGVkVmFsdWUiLCAib3B0aW9uIiwgImZhbGxiYWNrT3B0aW9uIiwgImNyZWF0ZWRQYWdlIiwgIm9wZW5JbXBvcnRNb2RhbCIsICJ1cGRhdGVJbXBvcnRGaWxlTGlzdCIsICJjbG9zZUltcG9ydE1vZGFsIiwgImYiLCAiaGFuZGxlSW1wb3J0RmlsZXMiLCAiZmlsZXMiLCAianNvbkZpbGVzIiwgImV4ZWN1dGVJbXBvcnQiLCAicGFnZXNEYXRhIiwgImZpbGUiLCAicGFyc2VFcnIiLCAicmVzdWx0IiwgImh0bWwiLCAicCIsICJidG4iLCAidGFyZ2V0UGFuZWwiLCAidCIsICJjbG9zZURlbGV0ZVBhZ2VNb2RhbCIsICJleGVjdXRlRGVsZXRlUGFnZSIsICJwYWdlVGl0bGUiLCAicHJldmlld1dpbmRvdyIsICJ0b2dnbGVTZW9QYW5lbCIsICJzaG93IiwgInNldFNlb0ZlZWRiYWNrIiwgInRvbmUiLCAiY29sb3IiLCAiaXNWaXNpYmxlIiwgInNlb0RhdGEiLCAidXBkYXRlZFBhZ2UiLCAiaGFuZGxlQmxvY2tEcmFnU3RhcnQiLCAiZHJhZ1NvdXJjZUlkIiwgImNsZWFyRHJhZ0luZGljYXRvcnMiLCAiaGFuZGxlQmxvY2tEcmFnRW5kIiwgImhhbmRsZUJsb2NrRHJhZ092ZXIiLCAiaGFuZGxlQmxvY2tEcmFnTGVhdmUiLCAiaGFuZGxlQmxvY2tEcm9wIiwgInNvdXJjZSIsICJjb2xsZWN0aW9uTGlzdCIsICJjb2xsZWN0aW9uRW1wdHlTdGF0ZSIsICJjb2xsZWN0aW9uSXRlbXNFbXB0eSIsICJpdGVtVGFibGVXcmFwcGVyIiwgIml0ZW1UYWJsZUJvZHkiLCAiY29sbGVjdGlvblRpdGxlIiwgImNvbGxlY3Rpb25EZXNjcmlwdGlvbiIsICJjb2xsZWN0aW9uRHJhd2VyIiwgImNvbGxlY3Rpb25EcmF3ZXJCYWNrZHJvcCIsICJjb2xsZWN0aW9uRHJhd2VyT3BlbkJ1dHRvbnMiLCAiY29sbGVjdGlvbkRyYXdlckNsb3NlQnV0dG9ucyIsICJpdGVtQWRkQnV0dG9uIiwgIml0ZW1EZXRhaWxFbXB0eSIsICJpdGVtRm9ybSIsICJpdGVtRm9ybUZpZWxkcyIsICJpdGVtU3RhdHVzQmFkZ2UiLCAiaXRlbURlbGV0ZUJ1dHRvbiIsICJpdGVtRGVsZXRlTW9kYWwiLCAiaXRlbURlbGV0ZUNhbmNlbCIsICJpdGVtRGVsZXRlQ29uZmlybSIsICJpdGVtRm9ybUNhbmNlbCIsICJpdGVtRm9ybVNhdmUiLCAic3RhdHVzQmFkZ2VCYXNlQ2xhc3MiLCAic2FmZVNpdGVTbHVnVmFsdWUiLCAiY29sbGVjdGlvbnMiLCAiY29sbGVjdGlvbkl0ZW1zIiwgImFjdGl2ZUNvbGxlY3Rpb25JZCIsICJhY3RpdmVJdGVtSWQiLCAiaXNDcmVhdGluZ0l0ZW0iLCAiaXRlbVNsdWdNYW51YWxseUVkaXRlZCIsICJwZW5kaW5nRGVsZXRlSXRlbUlkIiwgIm9wZW5Db2xsZWN0aW9uRHJhd2VyIiwgImNsb3NlQ29sbGVjdGlvbkRyYXdlciIsICJub3JtYWxpemVJdGVtU2x1Z0lucHV0IiwgInJhdyIsICJjbGVhbmVkU2VnbWVudHMiLCAic2VnbWVudCIsICJmb3JtYXRJdGVtRGF0ZSIsICJkYXRlIiwgInVwZGF0ZUNvbGxlY3Rpb25IZWFkZXIiLCAidXBkYXRlSXRlbXNFbXB0eU1lc3NhZ2UiLCAiaGlkZUl0ZW1Gb3JtIiwgInNob3dJdGVtRm9ybSIsICJzeW5jQWRkQnV0dG9uU3RhdGUiLCAic3luY0l0ZW1TdGF0dXNCYWRnZSIsICJjb2xvckNsYXNzIiwgInJlbmRlckNvbGxlY3Rpb25MaXN0IiwgInNldEFjdGl2ZUNvbGxlY3Rpb24iLCAicmVuZGVySXRlbVRhYmxlIiwgInJvdyIsICJzdGF0dXNDbGFzc2VzIiwgImhhbmRsZVNlbGVjdCIsICJzZWxlY3RJdGVtIiwgIml0ZW1JZCIsICJwb3B1bGF0ZUl0ZW1Gb3JtIiwgInByZXBhcmVOZXdJdGVtRm9ybSIsICJjb2xsZWN0SXRlbUZvcm1WYWx1ZXMiLCAiX2QiLCAiX2UiLCAiX2YiLCAic2x1Z0lucHV0IiwgInN1bW1hcnkiLCAiaW1hZ2UiLCAic2V0Rm9ybVNhdmluZ1N0YXRlIiwgImlzU2F2aW5nIiwgImZldGNoQ29sbGVjdGlvbkl0ZW1zIiwgImNyZWF0ZUNvbGxlY3Rpb25JdGVtIiwgInVwZGF0ZUNvbGxlY3Rpb25JdGVtIiwgImRlbGV0ZUNvbGxlY3Rpb25JdGVtIiwgImxvYWRDb2xsZWN0aW9ucyIsICJkZWZhdWx0SWQiLCAic2F2ZWRJdGVtIiwgImNsb3NlRGVsZXRlTW9kYWwiLCAib3BlbkRlbGV0ZU1vZGFsIiwgImZvcm0iLCAicHJvdG9jb2xTZWxlY3QiLCAiaG9zdElucHV0IiwgInBvcnRJbnB1dCIsICJ1c2VySW5wdXQiLCAicGFzc3dvcmRJbnB1dCIsICJzaG93UGFzc3dvcmRUb2dnbGUiLCAicmVtb3RlUGF0aElucHV0IiwgImZlZWRiYWNrIiwgInNhdmVCdXR0b24iLCAidGVzdEJ1dHRvbiIsICJkZXBsb3lCdXR0b24iLCAiaGlzdG9yeUxpc3QiLCAibG9nQm94IiwgImRlcGxveUFwaUJhc2UiLCAiZGVwbG95UnVuQXBpIiwgImRlcGxveUxvZ0FwaSIsICJoYXNQYXNzd29yZCIsICJidXN5QWN0aW9uIiwgInNhbml0aXplUmVtb3RlUGF0aCIsICJ0cmltbWVkIiwgInNldEZlZWRiYWNrIiwgImJhc2VDbGFzcyIsICJ0b25lQ2xhc3MiLCAiaWNvbiIsICJzZXRCdXN5IiwgImFjdGlvbiIsICJkaXNhYmxlIiwgInNwaW5uZXIiLCAicG9wdWxhdGVGb3JtIiwgInJlbmRlckhpc3RvcnkiLCAiZW50cmllcyIsICJsaSIsICJkdXJhdGlvbiIsICJyZW5kZXJMb2dzIiwgImxpbmVzIiwgImZldGNoSGlzdG9yeSIsICJmZXRjaENvbmZpZyIsICJidWlsZFBheWxvYWQiLCAicHdkIiwgImVycm9yUGF5bG9hZCIsICJ0YWJCdXR0b25zIiwgInRhYlBhbmVscyIsICJzaXRlRmVlZGJhY2siLCAidGhlbWVGb3JtIiwgInN3aXRjaFRhYiIsICJwYW5lbCIsICJzdWJtaXQiLCAiZm9ybURhdGEiLCAiY3VycmVudFBhc3N3b3JkIiwgIm5ld1Bhc3N3b3JkIiwgImNvbmZpcm1QYXNzd29yZCIsICJuYW1lSW5wdXQiLCAibGFuZ1NlbGVjdCIsICJ0YWdsaW5lSW5wdXQiLCAic2V0U2l0ZUZlZWRiYWNrIiwgInNpdGVDb25maWdBcGkiLCAibG9hZFNpdGVDb25maWciLCAidGhlbWVBcGkiLCAiY29sb3JTZWxlY3RzIiwgImhlYWRpbmdTZWxlY3QiLCAiYm9keVNlbGVjdCIsICJyYWRpdXNTbWFsbCIsICJyYWRpdXNNZWRpdW0iLCAicmFkaXVzTGFyZ2UiLCAicHJldmlldyIsICJ0aGVtZUZlZWRiYWNrIiwgImFwcGx5QnV0dG9uIiwgInRhaWx3aW5kSHVlcyIsICJ0YWlsd2luZFNoYWRlcyIsICJ0YWlsd2luZFRva2VucyIsICJoIiwgInMiLCAiZmlsbENvbG9yT3B0aW9ucyIsICJzZWwiLCAidG9rZW4iLCAic2V0VGhlbWVGZWVkYmFjayIsICJzeW5jUHJldmlldyIsICJ0b2tlblRvSGV4IiwgInNoYWRlTnVtIiwgImZhY3RvciIsICJ0b1JnYiIsICJoZXgiLCAidiIsICJyIiwgImciLCAiYiIsICJtaXgiLCAic2V0Q29sb3JGaWVsZHMiLCAibG9hZFRoZW1lIiwgIl9nIiwgIl9oIiwgIl9pIiwgIl9qIiwgImdyaWQiLCAiZW1wdHlTdGF0ZSIsICJjb3VudEJhZGdlIiwgImZpbHRlclR5cGUiLCAiZGV0YWlsRW1wdHkiLCAiZGV0YWlsUGFuZWwiLCAiZGV0YWlsUHJldmlldyIsICJkZXRhaWxOYW1lIiwgImRldGFpbFR5cGUiLCAiZGV0YWlsU2l6ZSIsICJkZXRhaWxQYXRoIiwgImRldGFpbFVzZWQiLCAiZGV0YWlsQWx0SW5wdXQiLCAiZGV0YWlsU2F2ZUJ1dHRvbiIsICJkZXRhaWxEZWxldGVCdXR0b24iLCAiZGVsZXRlTW9kYWwiLCAiZGVsZXRlQ2FuY2VsQnV0dG9uIiwgImRlbGV0ZUNvbmZpcm1CdXR0b24iLCAidXBsb2FkT3BlbkJ1dHRvbiIsICJmaWxlSW5wdXQiLCAidXBsb2FkU3RhdHVzIiwgIm1lZGlhQXBpQmFzZSIsICJtZWRpYUl0ZW1zIiwgImZpbHRlcmVkSXRlbXMiLCAiYWN0aXZlTWVkaWFJZCIsICJoaWdobGlnaHRNZWRpYUlkIiwgInBlbmRpbmdVcGxvYWRGaWxlIiwgInVwbG9hZEluUHJvZ3Jlc3MiLCAiZGV0YWlsRGlydHkiLCAidXBsb2FkTW9kZSIsICJ1cGxvYWRQcmV2aWV3VXJsIiwgImRlcml2ZUdyb3VwVHlwZSIsICJmaWxlbmFtZSIsICJpc0ltYWdlVHlwZSIsICJmb3JtYXRUeXBlTGFiZWwiLCAiZXh0IiwgImZvcm1hdEZpbGVTaXplIiwgInNpemUiLCAicmVzZXREZXRhaWxQYW5lbCIsICJjbGVhclVwbG9hZFN0YXRlIiwgInVwZGF0ZURldGFpbEFjdGlvbnMiLCAidXBkYXRlQ291bnRCYWRnZSIsICJyZW5kZXJHcmlkIiwgInNlbGVjdE1lZGlhIiwgInJlbmRlclVzZWRJbiIsICJzYXZpbmciLCAibWVkaWFJZCIsICJzaG93VXBsb2FkUHJldmlldyIsICJhcHBseUZpbHRlcnMiLCAidHlwZUZpbHRlciIsICJsb2FkTWVkaWEiLCAiaGFuZGxlRmlsZVNlbGVjdGlvbiIsICJyZWFkRmlsZUFzQmFzZTY0IiwgInJlc29sdmUiLCAicmVqZWN0IiwgInJlYWRlciIsICJiYXNlNjQiLCAidXBsb2FkU2VsZWN0ZWRNZWRpYSIsICJkZWxldGVBY3RpdmVNZWRpYSIsICJkaXNhYmxlQnV0dG9ucyIsICJlbmFibGVCdXR0b25zIiwgInVwZGF0ZWQiXQp9Cg==
